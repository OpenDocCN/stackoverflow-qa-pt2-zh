# StackOverflow 问答 12833000-12833999

# git - Zsh 和 git-flow 错误

> ID：12833000
> 
> 赞同：0
> 
> 时间：2012-10-11T05:48:33.820
> 
> 标签：git, zsh, git-flow

我正在尝试使用 oh-my-zsh git-flow 插件并收到以下错误。

```
➜  ~/www/ git:(develop) git flow feature feature
flags:FATAL zsh shwordsplit option is required for proper zsh operation 
```

这是插件的问题吗？还是配置问题？

编辑：使用`setopt shwordsplit`没有帮助

```
➜  ~/www/ git:(develop) ✗ setopt shwordsplit 
➜  ~/www/ git:(develop) ✗ git flow feature  
flags:FATAL zsh shwordsplit option is required for proper zsh operation 
```

编辑 2：使用`set -x`

```
(k3)➜  ~  git flow feature
+_per-directory-history-addhistory:1> print -sr -- git flow feature
+_per-directory-history-addhistory:2> fc -p /home/gaurav/.directory_history/home/gaurav/history
+_per-directory-history-addhistory:1> print -sr -- git flow feature
+_per-directory-history-addhistory:2> fc -p /home/gaurav/.directory_history/home/gaurav/history
+_per-directory-history-addhistory:1> print -sr -- git flow feature
+_per-directory-history-addhistory:2> fc -p /home/gaurav/.directory_history/home/gaurav/history
+_per-directory-history-addhistory:1> print -sr -- git flow feature
+_per-directory-history-addhistory:2> fc -p /home/gaurav/.directory_history/home/gaurav/history
+_per-directory-history-addhistory:1> print -sr -- git flow feature
+_per-directory-history-addhistory:2> fc -p /home/gaurav/.directory_history/home/gaurav/history
+omz_termsupport_preexec:1> emulate -L zsh
+omz_termsupport_preexec:2> setopt extended_glob
+omz_termsupport_preexec:3> local 'CMD='
+omz_termsupport_preexec:4> title '' '%100>...>git flow feature%<<'
+title:1> [[ '' == true ]]
+title:1> [[ '' == *term* ]]
+title:4> [[ xterm == screen* ]]
+title:6> [[ xterm == xterm* ]]
+title:7> print -Pn '\e]2;%100\>...\>git\ flow\ feature%\<\<\a'
+title:8> print -Pn '\e]1;\a'
+/usr/bin/zsh:1310> git flow feature
flags:FATAL zsh shwordsplit option is required for proper zsh operation
+omz_termsupport_precmd:1> title '%15<..<%~%<<' %n@%m: '%~'                                                                                                                                                                           
+title:1> [[ '' == true ]]
+title:1> [[ '' == *term* ]]
+title:4> [[ xterm == screen* ]]
+title:6> [[ xterm == xterm* ]]
+title:7> print -Pn '\e]2;%n@%m:\a'
+title:8> print -Pn '\e]1;%15\<..\<%~%\<\<\a'
+/usr/bin/zsh:1311> git_prompt_info
+git_prompt_info:1> ref=+git_prompt_info:1> git symbolic-ref HEAD
+git_prompt_info:1> ref='' 
+git_prompt_info:1> return 
```

编辑 2：有关设置的更多信息

```
(k3)➜  K3 git:(feature/ebay_listings) ls -l /bin/sh
lrwxrwxrwx 1 root root 12 Oct  7 22:12 /bin/sh -> /usr/bin/zsh
(k3)➜  K3 git:(feature/ebay_listings) ls -l /usr/bin/zsh 
lrwxrwxrwx 1 root root 28 Oct  2 13:49 /usr/bin/zsh -> /etc/alternatives/zsh-usrbin
(k3)➜  K3 git:(feature/ebay_listings) ls -l /bin/zsh
lrwxrwxrwx 1 root root 21 Oct  2 13:49 /bin/zsh -> /etc/alternatives/zsh
(k3)➜  K3 git:(feature/ebay_listings) ls -l /etc/alternatives/zsh-usrbin 
lrwxrwxrwx 1 root root 9 Oct  2 13:49 /etc/alternatives/zsh-usrbin -> /bin/zsh4
(k3)➜  K3 git:(feature/ebay_listings) ls -l /bin/zsh4 
-rwxr-xr-x 1 root root 688656 Mar 30  2012 /bin/zsh4
(k3)➜  K3 git:(feature/ebay_listings) ls -l /etc/alternatives/zsh
lrwxrwxrwx 1 root root 9 Oct  2 13:49 /etc/alternatives/zsh -> /bin/zsh4
(k3)➜  K3 git:(feature/ebay_listings) /bin/sh -c 'echo $0 B$BASH_VERSION Z$ZSH_VERSION'
/bin/sh B Z4.3.17 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T16:50:23.333

这是错误消息中完全解释的配置问题：

> 正确的 zsh 操作需要 zsh shwordsplit 选项

. 您必须添加`setopt shwordsplit`到您的 zshrc。如果您说服 git-flow 作者此选项不方便，则更好：`command $var`如果 var 为标量，则设置它可能导致使用任意数量的参数调用命令（取决于字符串中有多少空格/制表符/换行符）并且您必须键入`command "$var"`。没有：有一个，等于`$var`。

# css - 将定义的用户代理设置为 iFrame

> ID：12833001
> 
> 赞同：2
> 
> 时间：2012-10-11T05:48:37.787
> 
> 标签：css, html, iframe, user-agent

是否可以将定义的用户代理设置为 iFrame？如果是怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T07:03:25.833

这是不可能的，因为浏览器具有固定的用户代理字符串，它们随所有请求一起发送，无论它是否来自 iframe。这不是通过 JS 可以修改的。

但是，您可以在您的服务器上有一个脚本来欺骗用户代理字符串（例如通过 curl），然后让您的 iframe 调用*该*脚本，该脚本又使用不同的用户代理字符串获取您想要调用的页面并返回输出到你的 iframe。例如：`http://yourserver.com/yourproxy?url=<http://url-to-fetch/page>&ua=<user-agent-string-to-use>`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T06:57:17.950

不，这在普通浏览器中是不可能的。将提供给服务器的用户代理不能通过 javascript 设置。有些浏览器允许你弄乱用户代理，但我见过的唯一允许对所有浏览器请求这样做的浏览器，而不仅仅是一个特定的 iframe 请求。

也许如果您分享您真正想要解决的问题，我们将更有可能提供帮助。

# ember.js - 使用 ember-data 自动加载模板中引用的模型

> ID：12833005
> 
> 赞同：2
> 
> 时间：2012-10-11T05:49:01.887
> 
> 标签：ember.js, ember-data

我希望在模板中引用时自动加载模型绑定关系。例如，如果我有这样的模型：

```
App.User = DS.Model.extend
    name: DS.attr 'name'

App.Contact = DS.Model.extend
    addedBy: DS.belongsTo 'App.User' 
```

和这样的视图：

```
<div>{{contact.addedBy.name}}</div> 
```

如果 ember-data 发现它需要使用“addBy”中的主键加载用户，那就太好了。目前我必须使用 App.User.find(contact.get('addedBy')) 手动加载用户，然后模板绑定更新以显示用户名。

这是一个非常简单的例子，但在实践中，我有时会发现自己跨越了很远的关系。有没有一种简单的方法来自动化这个？

谢谢各位！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:46:30.950

在为联系人提供服务时侧载关联用户怎么办？

假设你使用的是 Rails & `active_model_serializers`gem，你会有`ContactSerializer`这样的：

```
class ContactSerializer < ActiveModel::Serializer
  embed :ids, :include => true
  #...
  has_one :user
end 
```

这样做，用户将在检索联系人时自动填充。

请参阅[文档](https://github.com/josevalim/active_model_serializers#embedding-associations)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-12T02:31:20.153

事实证明，ember-data 默认情况下完全符合我的要求，问题出在我的代码中。

确保您的适配器的 findMany() 方法的后端以与 ID 参数数组相同的顺序返回记录，否则您的 DS.hasMany 关系将表现得非常非常奇怪！

# java - 如何在“|”之前设置粗体文本

> ID：12833007
> 
> 赞同：0
> 
> 时间：2012-10-11T05:49:13.507
> 
> 标签：java, android

这是我的代码：

```
for (int i = indexRowStart; i < indexRowEnd; i++) {
    Element e = (Element) nl.item(i);
    // adding each child node to HashMap key => value
    map = new HashMap<String, String>();
    map.put("RowID", String.valueOf(RowID)); 
    String Heading = parser.getValue(e, KEY_NAME).replace("|","|\n").replace("|","");
    map.put(KEY_NAME, Heading);
} 
```

输出：

> 30 | 1961 年所得税法第 120 条 – 管辖权

解析后我得到这个数据，我想`|`用粗体字母打印字符串之前，在这种情况下我想`30`用粗体字母打印。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T05:52:50.667

尝试 Html.fromHtml 使一些文本加粗。

```
title.setText(Html.fromHtml("<b>30</b> | Section 120 of the Income-tax Act, 1961 – Jurisdiction of")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:14:45.107

```
String Heading = parser.getValue(e, KEY_NAME);
int a=Heading.indexOf("|");
String beforeSubString=Heading.substring(0, a);
String afterSubString=Heading.substring(a, Heading.length()-1);
String final="<b>"+beforeSubString+"<b>"+"|"+afterSubString;
title.setText(Html.fromHtml(final)); 
```

# ios - openGLES iOS 中的 Unity 模型

> ID：12833008
> 
> 赞同：1
> 
> 时间：2012-10-11T05:49:16.550
> 
> 标签：ios, animation, opengl-es, unity3d

我们如何在 openGLES 中加载统一动画模型，然后在 opengles 中进行动画处理？
是否有任何示例代码或教程可用？

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:40:08.643

我找到了这个答案@ [Answers.Unity](http://answers.unity3d.com/questions/21010/binding-texture-directly-to-opengles-with-unity-ip.html)，请访问它。它可能会帮助你。

# c++ - C 和 C++ 中的 sizeof 结构或变量

> ID：12833014
> 
> 赞同：8
> 
> 时间：2012-10-11T05:49:48.407
> 
> 标签：c++, c

我不明白为什么这段代码在 C 中打印 1，但在 C++ 中打印其他数字？

```
#include <stdio.h>
static char T = 'a';
int main(int argc, char** argv) {
    struct T { char X[2]; };
    printf("size of T is %zu\n", sizeof(T));
} 
```

为什么这段代码在 C 和 C++ 中都打印 1？

```
#include <stdio.h>
int main(int argc, char** argv) {
    static char T = 'a';
    struct T { char X[2]; };
    printf("size of T is %zu\n", sizeof(T));
} 
```

有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-11T05:54:22.413

因为在`C`结构中被调用`struct T`而不仅仅是`T`. 在 C++ 中， 的局部定义`struct T`将隐藏全局变量`T`：

```
#include <stdio.h>
static char T = 'a'; // (1)
int main(int argc, char** argv) {
    // `struct T` shadows outer `T` in C++
    struct T { char X[2]; }; // (2)

    // C: sizeof char (1); C++: sizeof struct T (2)
    printf("size of T is %u\n", sizeof(T));

    // C/C++: sizeof struct T (2)
    printf("size of struct T is %u\n", sizeof(struct T));
} 
```

另一方面，当两个声明在相同的命名上下文中时，标识符的歧义`T`将导致相同的结果，因为 C++ 期望您指定您确实要使用 struct 而不是`char T`：

```
#include <stdio.h>
int main(int argc, char** argv) {
    static char T = 'a';
    struct T { char X[2]; };
    printf("size of T is %u\n", sizeof(T)); // sizeof (char)
    printf("size of struct T is %u\n", sizeof(struct T));// sizeof struct T
} 
```

这导致 C 和 C++ 的大小相同。

### 如何避免这种错误

通常编译器确实知道标识符是不明确的，但警告通常是隐藏的。使用编译器标志来显示警告，在 GCC`-Wall -Wextra`中对通常的编程最有用：

```
test.cc: 在函数 »int main(int, char**)«:
test.cc:5:43：警告：未知转换符号 »z« 格式为 [-Wformat]
test.cc:5:43：警告：格式的许多参数 [-Wformat-extra-args]
test.cc：全球：
test.cc:3:5：警告：未使用的参数 »argc« [-Wunused-parameter]
test.cc:3:5：警告：未使用的参数 »argv« [-Wunused-parameter]
test.cc:2:13：警告：»T« 已定义，但未使用 [-Wunused-variable]
```

在这种情况下，我们会看到全局`static char T`已定义，但从未使用过。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:53:51.033

在 C 中，当声明一个结构时，它是类型的`struct <name of struct>`，而不仅仅是结构的名称。这就是原因。为了避免混淆，人们使用`typedef`简化 C 中的声明

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T05:58:55.957

正如其他人所提到的，在第一个片段中，本地`struct T`将隐藏静态变量`C++`。但是，要完全了解发生了什么，您还必须谈论名称消歧。在第二个代码片段中，`struct T`没有隐藏`T`——它们在同一个范围内。

# java - 骆驼 | 需要调度控制台

> ID：12833015
> 
> 赞同：2
> 
> 时间：2012-10-11T05:49:53.807
> 
> 标签：java, quartz-scheduler, apache-camel, apache-karaf

我在我的项目中使用骆驼 2.9.0。我们有许多路线分为不同的骆驼上下文。每个骆驼上下文都单独捆绑并部署在 Apache Karaf 中。现在问题分为两部分：

1.) 每条路线都是预定路线。虽然使用 Quartz 组件，但我们能够在每个路由中定义一个 cron 表达式，我们需要一个控制台，我们可以在其中触发、停止任何路由并将 cron 表达式放入任何路由。（通过 Web 控制台调度路由是我们的主要目标）。

2.) 我们还尝试通过quartz.property 为每条路由配置cron 表达式。但是如果有人想在运行时更改 Apache Karaf 中的 cron 表达式，那么我们必须停止部署的包并重新开始。如何在运行时更改 cron 表达式的值。

任何答复和帮助将不胜感激。

皮尤什

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T15:34:01.643

[JMX](http://camel.apache.org/camel-jmx.html)提供远程上下文/路由管理支持（启动、停止等）

有关更多信息，请参阅这些帖子：

*   [http://www.consulting-notes.com/2010/08/managing-camel-routes-with-jmx-apis.html](http://www.consulting-notes.com/2010/08/managing-camel-routes-with-jmx-apis.html)
*   [http://www.consulting-notes.com/2011/01/apache-camel-monitoring.html](http://www.consulting-notes.com/2011/01/apache-camel-monitoring.html)

否则，要在运行时添加/删除/更改路由，您需要获取 CamelContext 的句柄并利用其 API（addRoute()、removeRoute() 等）

有关更多信息，请参阅这些：

*   [在 Java 中运行时添加骆驼路线](https://stackoverflow.com/questions/10451444/add-camel-route-at-runtime-in-java)
*   [http://camel.apache.org/loading-routes-from-xml-files.html](http://camel.apache.org/loading-routes-from-xml-files.html)

# java - 如何使用 ImageJ 获得绿色通道？

> ID：12833017
> 
> 赞同：1
> 
> 时间：2012-10-11T05:49:58.717
> 
> 标签：java, image-processing, imagej

我正在使用 ImageJ 作为库处理图像，我需要获取 RGB 图像的绿色通道。ImageJ 有为此目的的方法吗？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T12:18:23.417

在 GUI 中是

图像 -> 颜色 -> 拆分通道。

以编程方式 ColorProcessor 包含一个方法

```
getChannel(int i) . 
```

还有一个名为 ChannelSplitter 的插件。

# ios - iOS数组计数返回错误

> ID：12833019
> 
> 赞同：0
> 
> 时间：2012-10-11T05:50:38.563
> 
> 标签：ios, arrays, xml-parsing, count, tableview

我试图计算我的数组以设置为表中的行数，然后将其乘以 2，因为我在每个单元格之间有一个不可见的单元格，以使单元格看起来是分开的。每次我尝试构建时，都会收到此错误：

> 由于未捕获的异常“NSRangeException”而终止应用程序，原因：“ *** -[__NSArrayM objectAtIndex:]: index 3 beyond bounds [0 .. 2]”

这是我正在使用的代码：

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
  return [xmlParser.calls count] * 2; 
} 
```

cellForRowAtIndexPath：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{    
  static NSString *CellIdentifier = @"Cell";
  static NSString *CELL_ID2 = @"SOME_STUPID_ID2";
  JointCAD *currentCall = [[xmlParser calls] objectAtIndex:indexPath.row];
  self.tableView.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"texture3.png"]];

  [self.tableView setSeparatorColor:[UIColor colorWithPatternImage:[UIImage imageNamed:@"texture3.png"]]];

  if (indexPath.row % 2 == 1) {
    UITableViewCell * cell2 = [tableView dequeueReusableCellWithIdentifier:CELL_ID2];

    if (cell2 == nil) {
      cell2 = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault
                                       reuseIdentifier:CELL_ID2];
      [cell2.contentView setAlpha:0];
      [cell2 setUserInteractionEnabled:NO];
      [cell2 setBackgroundColor:[UIColor clearColor]];
    }
    return cell2;
  }

  TableViewCell *cell = (TableViewCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];

  if (cell == nil) {
    cell = [[TableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
  }

  cell.callTypeLabel.text = currentCall.currentCallType;
  cell.locationLabel.text = currentCall.location;
  cell.unitsLabel.text = currentCall.units;
  cell.stationLabel.text = [@"Station: " stringByAppendingString:currentCall.station];
  cell.contentView.layer.backgroundColor = [UIColor whiteColor].CGColor;
  cell.contentView.layer.frame = CGRectMake(0, 0, cell.contentView.frame.size.width, cell.contentView.frame.size.height);
  cell.contentView.layer.borderWidth = 1.0;
  cell.contentView.layer.borderColor = [UIColor blackColor].CGColor;

  if ([currentCall.county isEqualToString:@"W"]) {  
    cell.countyImageView.image = [UIImage imageNamed:@"blue.png"];
  } else {
    cell.countyImageView.image = [UIImage imageNamed:@"green.png"];
  }

  if ([currentCall.callType isEqualToString:@"F"]) {  
    cell.callTypeImageView.image = [UIImage imageNamed:@"red.png"];
  } else {
    cell.callTypeImageView.image = [UIImage imageNamed:@"yellow.png"];
  }
  return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:07:43.270

**编辑：**

仔细看了看。只需添加`/2`：

```
JointCAD *currentCall = [[xmlParser calls] objectAtIndex:indexPath.row / 2]; 
```

它会起作用的。刚刚注意到下面的相同答案`richard`。

* * *

正如 mayuur 所注意到的：

在`- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section`：

```
// n = [xmlParser.calls count]
// Ok, we have n*2 items (but calls has only n!):
return [xmlParser.calls count] * 2;
// calls has n items in it, but you return n*2 items 
```

然后在`- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath`：

```
// n = [xmlParser.calls count]
// give me object from calls at index (which will be in range [0; n*2 - 1], 
// which could be beyond [0; n-1] which you originally have)
JointCAD *currentCall = [[xmlParser calls] objectAtIndex:indexPath.row]; 
```

所以你应该删除乘以 2 或自己建议一些东西，除非 xmlParser.calls 是一个空数组，否则你总是会得到这个错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:19:31.180

当您在`cell.textLabel.text = [array objectAtIndex:indexPath.row];`超出限制范围内执行类似操作时发生错误。但是，您需要在其间留下不可见（空白）单元格，您可以在数据源方法中设置一些`if...else`条件，以防止数组限制。也设置适当的计数。`UITableView``cellForRowAtIndexPath``return``numberOfCells`

比如，如果你的数组中有 4 个值。所以应该制作3个不可见的单元格。

`1st Cell`

`blank`

`2nd Cell`

`blank`

`3rd Cell`

`blank`

`4th Cell`

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section 
{
    return [xmlParser.calls count] + (([xmlParser.calls count]%2)+1);
} 
```

在你的`cellForRowAtIndexPath`方法中，做这样的条件，

```
if(indexPath.row==0) 
{ 
    cell.textLabel.text = [array objectAtIndex:indexPath.row]; 
} 
else if((indexPath.row+1)%2!=0) 
{ 
   cell.textLabel.text = [array objectAtIndex:indexPath.row]; 
}
else
{
   NSLog(@"%d is blank cell",indexPath.row);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:24:09.103

您正在乘以数组计数，没什么大不了的

```
return [xmlParser.calls count] * 2; 
```

但是您应该将除以`indexPath.row`2 以获得数据源的实际索引。该表假定您有一个大小为 2n 的数据源，因此该表将使用索引路径访问 0 .. 2n。

```
JointCAD *currentCall = [[xmlParser calls] objectAtIndex:(indexPath.row/2)] 
```

# php - 如何将时间选择器添加到 jquery jtable？

> ID：12833026
> 
> 赞同：3
> 
> 时间：2012-10-11T05:51:43.603
> 
> 标签：php, javascript, jquery, jtable

我在我的 PHP 站点中使用 jQuery [jTable](http://jtable.org/Demo/MasterChild)来显示表格并向表格添加记录/修改记录。

我很少有具有时间值的字段。不幸的是，jTable 只支持日期选择器，而不支持时间选择器。谁能建议如何将 jQuery timepicker 添加到 jTable 中？

我尝试在主 JTable.js 文件中添加几个 JQuery Time Picker。但我认为我添加错误。由于我是 jquery 新手，我不知道如何添加 JQuery Time Picker Plugin

```
 <div id="ShiftTableContainer" style="width: 600px;"></div>
    <script type="text/javascript">

        $(document).ready(function () {

            //Prepare jTable
            $('#ShiftTableContainer').jtable({
                title: 'Shift',
                actions: {
                    listAction: '../m/ShiftActions.php?action=list',
                    createAction: '../m/ShiftActions.php?action=create',
                    updateAction: '../m/ShiftActions.php?action=update',
                    deleteAction: '../m/ShiftActions.php?action=delete'
                },
                fields: {
                    id: {
                        title: 'Shift Id',
                        width: '25%'
                    },
                    name: {
                        title: 'Shift Name',
                        width: '40%'
                    },
                    start_time: {
                        title: 'Start Time',
                        width: '75%',
                        input: function (data) {
                                var dt = data.record ? data.record.start_time : NULL;
                                return '<input type="text" style="width:200px" value="' + dt + '" />';
                            }
                        inputClass: 'timepicker'
                    },

                    end_time: {
                        title: 'End Time',
                        width: '75%',

                        //options: { '1': '101', '2': '102' }
                    },
                    description: {
                        title: 'Description',
                        width: '75%'
                    },
                    color: {
                        title: 'Color',
                        width: '75%',
                        //options: { '1': '101', '2': '102' }
                    },
                    break_schedule: {
                        title: 'Break Schedule',
                        width: '75%',
                    }
                }

            });

            $('#ShiftTableContainer').jtable('load');
        });

    </script>
            <script>
            $(function(){
                  $("input.timepicker").datetimepicker();
                });     

    </script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T11:00:17.313

我试过这样，它工作正常。我将 JQuery 和 JQuery UI 更新到最新版本。将它与我正在使用的 timepicker 插件一起导入到我的 php 中。我对我的代码做了一些修改。这是工作代码。

```
 <script type="text/javascript">

        $(document).ready(function () {

            //Prepare jTable
            $('#ShiftTableContainer').jtable({
                title: 'Shift',
                actions: {
                    listAction: '../m/ShiftActions.php?action=list',
                    createAction: '../m/ShiftActions.php?action=create',
                    updateAction: '../m/ShiftActions.php?action=update',
                    deleteAction: '../m/ShiftActions.php?action=delete'
                },
                fields: {
                    id: {
                        key: true,
                        edit: false,
                        title: 'Shift Id',
                        width: '25%'
                    },
                    name: {
                        title: 'Shift Name',
                        width: '40%'
                    },
                    start_time: {
                        title: 'Start Time',
                        width: '75%'
                    },

                    end_time: {
                        title: 'End Time',
                        width: '75%'
                    },
                    description: {
                        title: 'Description',
                        width: '75%'
                    },
                    color: {
                        title: 'Color',
                        width: '75%',
                        //options: { '1': '101', '2': '102' }
                    },
                    break_schedule: {
                        title: 'Break Schedule',
                        width: '75%',
                    }
                },
                formCreated: function (event, data) 
                {
                    var $input_start_time = data.form.find ('input[name="start_time"]');
                    $input_start_time.addClass("time");
                    $input_start_time.timepicker();

                    var $input_end_time = data.form.find ('input[name="end_time"]');
                    $input_end_time.addClass("time");
                    $input_end_time.timepicker();

                }
            });

            $('#ShiftTableContainer').jtable('load');

        });

    </script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:09:49.997

使用 Timepicker 插件，我还没有测试过，但是这个插件为 jQueryUI Datepicker 添加了一个 timepicker。

[http://trentrichardson.com/examples/timepicker/](http://trentrichardson.com/examples/timepicker/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:14:15.080

使用 dateTimePicker 的“输入”字段（参见[http://www.jtable.org/ApiReference](http://www.jtable.org/ApiReference)）。将 dateTimepicker 绑定到您用于时间的每个文本输入，如下所示：

给所有时间输入相同的类（例如“timepicker”） - 请参阅上述 api 参考中的 'inputClass' 选项 - 然后像这样绑定 timepicker：

```
$(function(){
  $("input.timepicker").datetimepicker();
}); 
```

记得添加[dateTimePicker 脚本](http://trentrichardson.com/examples/timepicker/)，在此之前还要添加 jQuery 和 jQuery UI（用户界面）库。

编辑回应评论：

***在 jtable 代码之外***设置上述时间选择器代码。对于 jtable，请尝试以下操作：

```
Time: {
    title: 'Start Time',
    input: function (data) {
               var dt = data.record ? data.record.Time : '';
               return '<input type="text" style="width:200px" value="' + dt + '" />';
           }
    inputClass: 'timepicker',
etc. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T10:24:52.367

我最喜欢的时间选择器是这个 jQuery UI 时间选择器：

[http://fgelinas.com/code/timepicker/](http://fgelinas.com/code/timepicker/)

# html - 在只有他可以访问的页面上显示用户的 HTML 内容的安全风险

> ID：12833028
> 
> 赞同：0
> 
> 时间：2012-10-11T05:51:49.737
> 
> 标签：html, xss

我有一个文本区域，用户可以在其中输入任何类型的 HTML（包括 javascript）。之后，我允许用户在他的浏览器中预览它。工作方式是将内容发布到以“模板”形式显示所述内容的页面。后端是 PHP 的。

**第 1 页**

```
an HTML form that simply has a textarea 
```

**第 2 页（提交表单的位置）**

```
PHP code to echo the HTML entered in the textarea unmodified,
with an intention of keeping all HTML formatting as-is 
```

现在，我知道 XSS 了。但我的意图是只允许该特定用户预览他所写的任何内容。他输入的内容不会被存储或显示给其他人。

由于我将允许匿名用户，我的想法是使用类似 CSRF 的简单保护来确保只有生成预览的用户才能查看它。

这是基本的想法。我希望用户能够预览他选择的任意 HTML，同时不会打开潜在的安全漏洞。有没有我忽略的安全方面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T14:09:54.353

我假设在您的代码中，有一个提交内容的 AJAX 调用，它被转换并出来。所以，在你的 PHP 文件中，在输出代码时，给出这个。

### 方法 #1：HTML 安全

```
<?php
    ...
    $output = /* The final output */;
    $output = htmlspecialchars($output);
    die ($output);
?> 
```

### 方法#2：剥离某些标签

```
<?php
    ...
    $output = /* The final output */;
    $aDisabledAttributes = array('onabort', 'onactivate', 'onafterprint', 'onafterupdate', 'onbeforeactivate', 'onbeforecopy', 'onbeforecut', 'onbeforedeactivate', 'onbeforeeditfocus', 'onbeforepaste', 'onbeforeprint', 'onbeforeunload', 'onbeforeupdate', 'onblur', 'onbounce', 'oncellchange', 'onchange', 'onclick', 'oncontextmenu', 'oncontrolselect', 'oncopy', 'oncut', 'ondataavaible', 'ondatasetchanged', 'ondatasetcomplete', 'ondblclick', 'ondeactivate', 'ondrag', 'ondragdrop', 'ondragend', 'ondragenter', 'ondragleave', 'ondragover', 'ondragstart', 'ondrop', 'onerror', 'onerrorupdate', 'onfilterupdate', 'onfinish', 'onfocus', 'onfocusin', 'onfocusout', 'onhelp', 'onkeydown', 'onkeypress', 'onkeyup', 'onlayoutcomplete', 'onload', 'onlosecapture', 'onmousedown', 'onmouseenter', 'onmouseleave', 'onmousemove', 'onmoveout', 'onmouseover', 'onmouseup', 'onmousewheel', 'onmove', 'onmoveend', 'onmovestart', 'onpaste', 'onpropertychange', 'onreadystatechange', 'onreset', 'onresize', 'onresizeend', 'onresizestart', 'onrowexit', 'onrowsdelete', 'onrowsinserted', 'onscroll', 'onselect', 'onselectionchange', 'onselectstart', 'onstart', 'onstop', 'onsubmit', 'onunload')
    $output = strip_tags($output, "<p><a><b><i><em><strong><table><ul><ol><li>");
    die ($output);
?> 
```

# java - 将 AcionListener 与 GUI 分离

> ID：12833030
> 
> 赞同：3
> 
> 时间：2012-10-11T05:52:03.510
> 
> 标签：java, swing, model-view-controller, user-interface, actionlistener

我是 Java 编程新手，目前参加了为期 2 周的课程。我想问一下是否可以将acionlistener与gui类分开？我想在我还在学习但不知道如何开始以及应该如何做的时候应用 mvc。

```
import java.awt.BorderLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.JTextArea;

public class WriteFile extends JFrame implements ActionListener{
    JTextArea textBox;
    JButton convert;

    WriteFile(){
        //windows
        setDefaultCloseOperation(javax.swing.WindowConstants.HIDE_ON_CLOSE);
        setVisible(true);
        setSize(300, 300);
        setLocationRelativeTo(null);        
        //others
        textBox = new JTextArea("Type something here", 5, 15);
        convert = new JButton("Display");
        //layout        
        add(textBox, BorderLayout.CENTER);
        add(convert, BorderLayout.LINE_END);        
        //actionlistener
        convert.addActionListener(this);        
    }

    @Override
    public void actionPerformed(ActionEvent event) {
        String output = "";
        output = textBox.getText();
        JOptionPane.showMessageDialog(null, output);

    }
} 
```

这是我的主要内容：

```
import java.awt.BorderLayout;

public class main {

    public static void main(String[] args) {
        WriteFile wc = new WriteFile();
        wc.pack();
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T06:10:02.960

我会看一下[`Action`](http://docs.oracle.com/javase/7/docs/api/javax/swing/Action.html)API。

它允许您定义一个“动作”，它的属性独立于 UI。

这是一个非常强大的概念，因为它允许您以独立的方式集中常用操作，从而允许它们被重用。

查看[如何使用操作](http://docs.oracle.com/javase/tutorial/uiswing/misc/action.html)了解更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T05:57:48.017

是的，只需在 gui 类之外创建另一个实现 ActionListener 的类

```
public class MyActionListener implements ActionListener{ 

public void actionPerformed(ActionEvent event) { 
 JOptionPane.showMessageDialog(null, ((JTextArea) event.getSource()).getText() );  
} 
```

# symfony - Sonata Admin Bundle 徽标的问题

> ID：12833037
> 
> 赞同：4
> 
> 时间：2012-10-11T05:52:32.947
> 
> 标签：symfony, symfony-sonata, sonata-admin

这是我面临的一个奇怪的问题。Sonata 管理包徽标和标题显示在 2 个不同的行上。

![我的仪表板](../Images/e50984f48a2145d2c7950ad94558a19a.png)

以下是我的配置文件的内容。

```
sonata_block:
    default_contexts: [cms]
    blocks:
        sonata.admin.block.admin_list:
            contexts:   [admin]

        sonata.block.service.text:
        sonata.block.service.action:
        sonata.block.service.rss:

sonata_admin:
    title:      MyTitle 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-28T16:26:01.857

试试你自己的标志

```
sonata_admin:
    title:      MyTitle
    title_logo: /bundles/yourbundle/images/logo.png 
```

# c# - DateJS解析日期时间问题

> ID：12833038
> 
> 赞同：1
> 
> 时间：2012-10-11T05:52:41.260
> 
> 标签：c#, javascript, ajax, datetime, datejs

我目前有这样的日期时间格式：

```
2012-10-11T00:00:00Z 
```

看起来 datejs 对尾随的“z”不满意。

在请求中，我只是使用

```
"\/Date(" + new Date(2012-10-11T00:00:00).getTime() + ")\/"; 
```

使其成为json所需的格式，但是当它从响应（c＃后端）返回时，会自动添加“z”。有什么办法可以摆脱它或使 datejs 能够解析这种格式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T05:58:15.987

**更新**

Checkout [moment.js](http://momentjs.com/)，它解决了 javascript 中有关日期时间的许多常见问题。

> 一个 5kb 的 JavaScript 日期库，用于解析、验证、操作和格式化日期。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:46:30.257

如果您知道您的日期时间字符串始终采用该格式，并且始终为 UTC，您可以使用[Date.UTC](http://ecma-international.org/ecma-262/5.1/#sec-15.9.4.3)非常轻松地将其转换为日期对象，并为一个相当简单的函数保存加载库：

```
function isoStringToDate(s) {
  var d = s.match(/\d+/g);
  return new Date(Date.UTC(d[0],--d[1],d[2],d[3],d[4],d[5],d[6]||0));
} 
```

这不关心 Z 是否存在。顺便说一句，在 javascript 中，没有时区的 ISO8601 日期时间字符串[应被视为 UTC](http://ecma-international.org/ecma-262/5.1/#sec-15.9.1.15)。

获取时间值：

```
isoStringToDate('2012-10-11T00:00:00').getTime() 
```

或者如果您想保存一些字符（冒着混淆的风险）：

```
isoStringToDate('2012-10-11T00:00:00')*1 
```

但我更喜欢第一个。

# c - Webkit webkit_dom_document_evaluate 函数文档

> ID：12833040
> 
> 赞同：0
> 
> 时间：2012-10-11T05:53:04.397
> 
> 标签：c, xpath, webkit, gtk

我正在寻找在 webkit/gtk/c 代码中执行 xpath 的指导。似乎有一个函数 webkit_dom_document_evaluate 应该根据[https://bugs.webkit.org/show_bug.cgi?id=42115上的错误报告做我想做的事情](https://bugs.webkit.org/show_bug.cgi?id=42115)

但是，我找不到此方法的任何文档，也找不到任何使用此调用的示例。我对“类型”参数特别好奇。上面的错误传递值 7，但我不知道该值代表什么。

这是在 webkit 中执行 xpath 的正确方法吗？为避免混淆，我需要使用 WebKitDomDocument 对象从世界的 c 端进行调用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-06T14:44:25.343

该值类型是`XPathResult`在*XPath DOM Level 3* Spec 中定义的：

[http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult](http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult)

值*7*表示*有序节点快照类型*。

[http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ORDERED-NODE-SNAPSHOT-TYPE](http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ORDERED-NODE-SNAPSHOT-TYPE)

是的，您可以使用`evaluate`GObject 绑定在 GTK 中使用此功能。我实际上添加了一个测试来展示如何做到这一点。在这里检查：

[https://bugs.webkit.org/attachment.cgi?id=203923&action=review](https://bugs.webkit.org/attachment.cgi?id=203923&action=review)

# wpf - WPF 按钮单击路由事件

> ID：12833041
> 
> 赞同：3
> 
> 时间：2012-10-11T05:53:05.300
> 
> 标签：wpf, routed-events

尝试从 xaml 执行按钮 clcik 事件时出现以下错误

```
<Button x:Name="myButton" Content="Surface History"                    
                HorizontalAlignment="Right">
            <Button.Triggers>
                <EventTrigger RoutedEvent="Button.Click">
                    <BeginStoryboard>
                        <Storyboard>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MyText" 
                                                           Storyboard.TargetProperty="Text">
                                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="Hello" />
                            </ObjectAnimationUsingKeyFrames>

                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Button.Triggers>
        </Button>
        <TextBox Name="MyText" Text="Hi"/> 
```

`Text` `Storyboard.TargetProperty`路径包含非动画属性`Text`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T05:57:20.893

文本属性是非动画依赖属性。在为 Text 创建依赖项属性时，UIMetaData IsAnimationProhibited 属性设置为 true，这会禁止 Text 属性进行动画处理。

所以 Text 属性不能被动画化。您需要从 Timer 手动设置文本以获取此行为。

# django - 在 /admin/ 配置不当

> ID：12833045
> 
> 赞同：3
> 
> 时间：2012-10-11T05:53:32.430
> 
> 标签：django, python-2.7, admin

我目前在 youtube 上的 Hacked Existence 的第二个 Django 教程中。它帮助我学习，我想继续这样做。我知道该视频是大约一年前发布的，所以它有点过时了。所以我有一些问题。

我创建了一个名为 beers 的应用程序

```
python manage.py sqlall beer 
```

在第 13 分钟，他编辑了 admin.py，如下所示：

```
from django.contrib import admin
from beer.models import Beer, Brewery

class BeerAdmin(admin.ModelAdmin):
    prepopulated_fields = {'slug': ('name')}

admin.site.register(Beer, BeerAdmin)
admin.site.register(Brewery) 
```

此修改导致错误：

> 在 /admin/ 配置不当
> 
> > 'BeerAdmin.prepopulated_fields['slug']' 必须是列表或元组。

我该如何解决这个问题，以及为什么相同的代码在他的系统上运行良好。此消息显示在

```
http://127.0.0.1:8000/admin/ 
```

这就引出了下一个问题，

在我的浏览器上，

[HackedExistence 链接](http://video1.hackedexistence.com/) 打开了 Apache 2 测试页面，而 localhost 链接很好地打开了 Django 管理员页面（嗯，在上面的编辑之前它确实如此）。

但是他设置了它，以便被黑的存在链接加载 Django 管理页面。

如果不会导致进一步的问题，我的设置没有问题。但是我想知道使用我正在使用的版本进行设置需要哪些不同的步骤。

> Python 2.7.3、Django 1.4.1、Apache 2.2.22 (Unix)

我正在使用 OS X 10.6.8。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:00:22.053

将您的定义更改为

```
prepopulated_fields = {'slug': ('name',)} 
```

注意： 之后的逗号`'name'`，没有 comm，它被解释为字符串对象，而不是元组或列表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:15:18.393

这是一个绊倒许多 Python 新手的“陷阱”：在元组中，基本的句法元素是逗号。括号实际上是可选的。您可以[在此处阅读更多相关信息](http://wiki.python.org/moin/TupleSyntax)

# c# - 响应windows store c#/XAML app中屏幕键盘的出现

> ID：12833049
> 
> 赞同：0
> 
> 时间：2012-10-11T05:53:49.497
> 
> 标签：c#, xaml, microsoft-metro, windows-runtime, windows-store-apps

我正在开发一个有一些文本输入的应用程序，我想显示屏幕键盘，这样它就不会隐藏应用程序并替换键盘。MSDN 提供了[sample](http://code.msdn.microsoft.com/windowsapps/Keyboard-Events-Sample-866ba41c)，但我不明白。我想要简单的解释如何使用`InputPaneHelper`类（在示例中给出）。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T22:02:17.483

博客文章[处理虚拟键盘](http://blogs.msdn.com/b/eternalcoding/archive/2012/07/09/tips-and-tricks-for-c-metro-developers-handling-the-virtual-keyboard.aspx)应该可以回答您的问题。它包含一个示例代码，演示如何在显示/隐藏屏幕键盘时调整弹出按钮的位置。您可以更改它以调整页面的布局。

# excel - 我需要获取网页上的特定数据并将其放在excel上

> ID：12833057
> 
> 赞同：0
> 
> 时间：2012-10-11T05:54:51.850
> 
> 标签：excel, vba, internet-explorer

我需要一个程序很可能是宏来访问当前打开的网页，然后获取特定数据，然后将其粘贴到 Excel 文件中。

我无法在 excel 上使用网络查询，因为我需要访问的网站受密码保护。

我每天大约将数据从 100 个网页复制粘贴到 2000 个网页。

我需要从网页获取的示例数据显示如下：

```
@Serial Code: 123345 ; @Database: DB001 ; @Title: Sample Tile 
```

在excel中应该是：|12345| DB001 | 示例标题

所以我需要的是 1\. 转到网页 2\. 运行宏以获取数据 3\. 转到下一个网页

我希望你能帮帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T14:55:27.627

示例如何从 vba 读取 html：Option Explicit

```
' Add References:
' - Microsoft HTML Object Library
' - Microsoft Internet Controls

Private Const URL As String = "C:\temp\Test.html"
Sub Test()

  Dim browser As InternetExplorer
  Set browser = New InternetExplorer

  With browser
    browser.Visible = True
    browser.Navigate URL
    Do: Loop Until browser.Busy = False
  End With

  Dim htmlDocument As htmlDocument
  Set htmlDocument = browser.Document

  ' input
  Dim inputElement As HTMLInputElement
  Set inputElement = htmlDocument.getElementById("input1")

  If (inputElement Is Nothing) Then
    Err.Raise 123456789, , "inputElement is nothing. ID not found."
  End If

  [a1] = inputElement.Value

  browser.Quit
  Set browser = Nothing
End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T06:11:59.600

对于大多数功能强大的套件，您可以使用带有 Web 客户端的脚本语言，例如`perl`或`python`. 我已经用 perl 做到了。

对于密码问题，首先提交您的登录信息并保存**cookie**，使用 cookie 访问受密码保护的内容。

将页面内容保存为文本文件，对其进行解析以提取字段。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:08:12.660

我不知道是否有任何现成的宏可以完成这项工作，但您可以通过创建自定义应用程序来做到这一点。

1.  一一获取网页视图源
2.  解析页面视图源并检索@Serial Code、@Database、@Title 的值——使用字符串操作
3.  使用一些插件将所有数据转储到 excel 中。

# android - SOAP和WCF android有什么区别

> ID：12833058
> 
> 赞同：1
> 
> 时间：2012-10-11T05:54:52.367
> 
> 标签：android, asp.net, wcf

> **可能重复：**
> [WCF 服务与 Web 服务和 REST 服务之间的区别](https://stackoverflow.com/questions/9503851/difference-between-wcf-services-and-web-services-and-rest-service)

我有 android 应用程序，它使用 .net Web 服务从在线服务器获取数据。到目前为止，我使用 SOAP 方法通过发送输入 XML 和获取输出 XML 来获取数据。接收到的 XML 将使用 DOM 解析器进行解析。使用 KSOAP 库。

现在 Web 服务已更改为 Windows Communication Foundation (WCF)。在这里我如何发送请求以及如何响应。我应该使用什么库文件。我对此有些困惑。我知道 SOAP 和 WCF 之间的唯一区别，WCF 比 SOAP 快。谁能解开我的疑惑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:04:17.653

WCF 只是 Microsoft 堆栈中的一种通信技术，在大多数情况下使用 SOAP。

首先在这里发布有关 WCF 服务的更多详细信息，例如使用的绑定。您可以继续使用 KSOAP。当服务合同没有改变时，就不需要改变客户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:02:04.493

好吧，我建议不要更改已经测试并使用 Web 服务的 Andoid 编码。

WCF 是一种将远程处理技术集成到一个引擎盖下的技术。WCF 是 Web Service、Remoting、MSMQ 和 COM+ 的组合特性。WCF 为所有 .NET 通信提供了一个通用平台。因此，您可以做与使用 Web 服务相同的事情。

构建生成相同 XML 的 WCF 服务，因此您无需更改 android 端的编码，您可以继续使用 WCF 而不是 WS。

# java - Eclipse 工作区加载失败，找不到项目

> ID：12833060
> 
> 赞同：0
> 
> 时间：2012-10-11T05:55:07.313
> 
> 标签：java, eclipse, plugins, eclipse-rcp, workspace

昨天我删除了 Eclipse 工作区中的一个项目......我猜 Eclipse 没有正确关闭，因为我无法打开那个工作区。

错误日志告诉我缺少一个项目。完整的错误堆栈跟踪可以在这里找到：http: [//pastebin.com/duyawcMM](http://pastebin.com/duyawcMM)

我怎样才能解决这个问题？已经尝试创建新工作区并导入现有项目.. 但是我无法导出我的 RCP 应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T05:57:47.000

`clean`尝试使用选项 as开始您的 ecplise `eclipse -clean`。

# c# - 如何在 Visual Studio 2012 中的同一解决方案的项目之间切换（或突出显示）？

> ID：12833074
> 
> 赞同：14
> 
> 时间：2012-10-11T05:56:44.490
> 
> 标签：c#, user-interface, visual-studio-2012

我是 Visual Studio 的新手，这个问题已经困扰我好几天了。

我在 Visual Studio 2012 的同一个解决方案中有两个项目。

在我的解决方案管理器中，其中一个被突出显示，所以当我在没有调试的情况下启动它时`Ctrl`+`F5`突出显示的那个启动。

如何突出显示（然后按`Ctrl`+ `F5`）启动 OTHER 项目？无需关闭并重新打开项目。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-11T05:58:21.230

右键单击-> 设置为启动项目。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-11T05:59:19.740

当您右键单击解决方案并检查具有启动项目选项的属性时，将其设置为**当前选择**

因此，您可以通过切换选择来启动。

现在，在您的情况下，它将是单一启动项目，这就是您无法单独启动它们的原因。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-11T05:58:40.647

右键单击解决方案资源管理器中的项目并选择选项：

> 设置为启动项目

# javascript - 使用 preventDefault() 独立运行的 Web 应用程序 - 不适用于图像链接

> ID：12833083
> 
> 赞同：0
> 
> 时间：2012-10-11T05:57:28.297
> 
> 标签：javascript, jquery, html, iphone-standalone-web-app

我有一个网络应用程序，一旦用户将其添加到他们设备的主屏幕上，我想将其显示为独立的。我一直在 iPhone 5 上进行测试。我使用元标记使其显示为 Web 应用程序，并使用一些 jQuery 来处理点击事件，将所有链接保持在独立设备中并防止它们启动 Mobile Safari。这一切都很好，很简单，直到我尝试将一些无聊的文本链接变成图像链接。preventDefault() 操作似乎无法处理图像链接，并且总是返回“在此服务器上未找到请求的 URL /undefined。”，而文本链接和标准表单按钮工作得很好。这是学校合作项目的一部分，我们需要它有一个时髦的界面，图片链接是其中的重要组成部分。

这是我必须处理链接的简单 js：

```
$( document ).on(
    "click",
    "a",
    function( event ){
       event.preventDefault();  
       location.href = $( event.target ).attr( "href" );
    }
); 
```

按钮 HTML 如下所示：

```
<div id="loginBtn"><a href="memberLogin.php"><img src="CSS images/0-btn1.png" width="224" height="113" /></a></div> 
```

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:12:24.217

某些事件从目标元素通过每个父节点冒泡，直到它们到达文档的顶部（或 iOS 中的正文）——因此，如果您在文档级别处理它们，效率会非常低。委托事件处理程序适用于动态生成的内容，因此您可以在创建处理程序时将处理程序附加到 DOM 中最近的父级。在您的情况下（假设您的 a 标签都不是动态生成的），您可以这样做`$('a').on(...)`

保存到主屏幕后，您还需要使用`event.stopPropagation();`防止应用程序在移动 Safari 中打开。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:14:09.817

现在，使用图像而不是只有一个元素**a**会产生两个元素**a**和**img**。所以我认为这与[事件传播](https://developer.mozilla.org/en-US/docs/DOM/event.stopPropagation)和 [PreventDefault 有关](https://developer.mozilla.org/en-US/docs/DOM/event.preventDefault.)。实际上 preventDefault 仅阻止默认操作，但不会停止其传播。看看这些链接，它们肯定会帮助你。

# objective-c - 在我的 iOS 应用程序的 http://klout.com/home 中验证来自 facebook、google+ 和 LinkedIn 的用户

> ID：12833086
> 
> 赞同：1
> 
> 时间：2012-10-11T05:57:33.740
> 
> 标签：objective-c, ipad, authentication

我正在开发一个 iPad（目标 C，iOS）应用程序。我希望用户使用 Facebook、google+ 或 linkedIn id 登录。这很容易，但问题是，当用户使用任何 id 进入应用程序时。我希望用户能够登录到他剩余的两个帐户（例如，假设 Mr.X 使用他的 Facebook 身份验证进入应用程序，他进入应用程序，现在 X 先生想要登录到他的 google+ 和linkedIn 帐户）。我已经在谷歌上搜索了很长时间，但我无法找到解决方案。例如，您可以在此网站（http://klout.com/home）中看到要求，它会要求 FB 或 twitter 身份验证，一旦用户登录，用户就可以连接到他的其余帐户。

提前致谢...

# c - PPM 中显示的矩形中的 4 个三角形

> ID：12833088
> 
> 赞同：3
> 
> 时间：2012-10-11T05:57:42.383
> 
> 标签：c, ppm

我正在尝试根据用户输入的矩形参数生成 4 个三角形。我的想法是从矩形中心到原点的斜率，在 ppm 文件中位于左上角。这导致一切从本质上逆转。无论如何，我相信我遇到的麻烦来自我的主要功能中的嵌入式循环，但我不确定。我的输出是 3 个三角形，其中左侧的三角形超出了底部的三角形，就好像它一直在拥抱斜坡一样。

输出通过管道传输到`file.ppm`然后查看。

```
#include <stdio.h>
#include <math.h>

void make_header (int width, int height);
void make_pixel (unsigned char r, unsigned char g, unsigned char b);
void print_Row (float yValue, int width, int height);
void print_Row2 (float yValue, int width, int height);

void make_header(int width, int height)
{
    fprintf(stdout,"P6\n");
    fprintf(stdout,"%d %d 255\n",width,height);
}

void make_pixel (unsigned char r, unsigned char g, unsigned char b)
{
    fprintf(stdout,"%c%c%c", r,g,b);
}

void print_Row(float yValue, int width, int height)
{
    int x;

    for(x=0;x<yValue;x++)   
    {
        make_pixel(255,0,0); // left triangle
    }

    for(x=x; x<width-yValue; x++)
    {
        make_pixel(0,255,0); //top triangle
    }

    for(x=x;x<width;x++)
    {
        make_pixel(0,0,255);  // right triangle
    }
}   

void print_Row2(float yValue, int width, int height)
{
    int x;

    for(x=0;x<yValue;x++)
    {
        make_pixel(255,0,0);
    }

    for(x=x;x<width-yValue;x++)
    {
        make_pixel(0,0,0); //bottom triangle
    }

    for(x=x;x<width;x++)
    {
        make_pixel(0,0,255);
    }
}   

int main()
{
    float slope, inv_slope, width_midpoint, height_midpoint, yValue ;
    int width,height,x,b;

    fprintf(stderr, "\nEnter width: ");
    scanf("%d", &width);
    fprintf(stderr, "\nEnter height: ");
    scanf("%d", &height);
    make_header(width, height);

    width_midpoint = width / 2;
    height_midpoint = height / 2;
    slope = (height_midpoint -0) / (width_midpoint - 0);
    inv_slope = pow(slope,-1);

    for(b=0;b<height_midpoint;b++)
    {   
        for(x=0;x<width;x++)
        {
            yValue = (inv_slope)*(x) + (b);
            print_Row(yValue, width, height);
        }
    }

    for(b=height_midpoint; b<=height; b++)
    {
        for(x=0;x<width;x++)
        {
            yValue = (-1*(slope))*(x)+(b);
            print_Row2(yValue,width,height);
        }
    }

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:35:35.333

您实际上正在编写太多数据。用这个替换主循环，一切都应该没问题；）

```
for(b=0;b<height_midpoint;b++)
{   
    for(x=0;x<width;x++)
    {
        if(x < (b / slope)) { 
            make_pixel(255,0,0);
        }
        else if( x > (width - (b / slope))) {
            make_pixel(0,255,0);
        }
        else
            make_pixel(0,0,255);
    }
}

for(b=height_midpoint; b<=height; b++)
{
    for(x=0;x<width;x++)
    {
        if( x > (b / slope)) {
            make_pixel(0,255,0);
        }
        else if(x > (width - (b / slope))) { 
            make_pixel(0,0,0);
        }
        else
            make_pixel(255,0,0);
    }
} 
```

# markdown - 在 Markdown 中，如何在不创建列表的情况下以数字开头？

> ID：12833093
> 
> 赞同：51
> 
> 时间：2012-10-11T05:58:13.693
> 
> 标签：markdown

我想在 Markdown 中用一个数字开始一行而不创建一个列表。

```
1\. so my next line

will be parallel to the first

    1\. not indented  

like this 
```

* * *

## 回答 #1

> 赞同：78
> 
> 时间：2012-10-11T12:07:51.683

从[Markdown 语法文档](http://daringfireball.net/projects/markdown/syntax#list)：

> 值得注意的是，通过编写如下内容可能会意外触发有序列表：
> 
> 1986\. 多么棒的一个赛季。
> 
> 换句话说，一行开头的数字-周期-空间序列。为避免这种情况，您可以反斜杠转义句点：
> 
> 1986 年\。多么棒的一个赛季。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-26T14:12:33.683

使用隐形字符：

```
&#8291;1. 
```

我这样做是因为我的 MD 处理器不支持`1\.`Ethan 的答案中使用的转义符号。

* * *

## 回答 #3

> 赞同：-6
> 
> 时间：2016-12-31T12:14:37.630

要使多余的字符不可见，您可以更改其字体颜色。例如，键入“1.:”（不带引号）并将冒号设为白色。它不会显示在您的屏幕或打印输出上 - 而且您不会让那个讨厌的 MS Word 列表接管。只是一个快速的解决方法！

# javascript - 在函数中传递参数

> ID：12833095
> 
> 赞同：0
> 
> 时间：2012-10-11T05:58:16.207
> 
> 标签：javascript, function, parameter-passing

我想通过 javascript 函数传递字符串和整数参数，但整数作为字符串传递。

变量`attachfile`是一个字符串。

```
var upload_number = 1;

input.setAttribute("onClick", "removeBtn(attachfile+ upload_number)"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:00:06.440

您可以使用 jquery 将其转换为数字，也可以使用`parseInt(your_variable,10)`

10 这里是一个基数

**编辑**

我的意思是 jquery 来验证它是否是一个数字

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:04:40.463

Javascript有一个`parseInt()`功能。该`parseInt()`函数解析一个字符串并返回一个整数。

radix 参数用于指定使用哪种数字系统，例如基数为 16（十六进制）表示应将字符串中的数字从十六进制数解析为十进制数。

如果 radix 参数被省略，JavaScript 假设如下：

*   如果字符串以“0x”开头，则基数为 16（十六进制）如果
*   字符串以“0”开头，基数为 8（八进制）。这个功能是
*   弃用 如果字符串以任何其他值开头，则基数为 10（十进制）

**句法：**

```
parseInt(string, radix) 
```

[（从这里](http://www.w3schools.com/jsref/jsref_parseint.asp)偷来的）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:08:39.680

如果您显示`removeBtn()`函数的声明会有所帮助，但问题似乎是您没有将两个参数传递给函数，而是传递了一个参数，该参数采用`attachfile`与`upload_number`- 连接的值，并且当您将字符串与number 结果是一个字符串。

您需要单独传递参数，即，而不是：

```
removeBtn(attachfile+ upload_number) 
```

采用：

```
removeBtn(attachfile, upload_number) 
```

那么的声明`removeBtn()`应该是：

```
function removeBtn(theFile, theNumber) { // name the parameters however you like 
```

（顺便说一句，您将`onclick`属性设置为包含函数调用的字符串的方式也可能会给您带来一些问题，因为（除其他问题外）该函数和参数需要是全局变量。但这 - 可能 - 外部这个问题的范围，至少除非您更新它以显示更多代码。）

# mysql - mysql：对具有相同 txn id 的行进行分组

> ID：12833096
> 
> 赞同：0
> 
> 时间：2012-10-11T05:58:17.203
> 
> 标签：mysql

我有两个表，一个 transactions 表和 transactions_items 表：

**交易：**

```
ID Customer Amt
1  Bill     500
2  Helen    100 
```

**交易项目：**

```
ID Code Price
1  R2   100
1  R3   200
1  R5   100
2  R5   100 
```

**我想将它们分组：**

```
ID Customer Code Price Amt
1  Bill     R2   100   500
            R3   200   
            R5   100
2  Helen    R5   100   100 
```

这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:15:55.207

你可以这样做，但你有很多工作要做，在你的应用程序级别做，你将需要这个查询，

```
SELECT  a.*, 
        b.code,
        b.price,
        c.amt
FROM    transaction a
        INNER JOIN transaction_items b
            ON a.ID = b.ID
        INNER JOIN
        (
            SELECT ID, SUM(Price) Amt
            FROM transactions_Items
            GROUP BY ID
        ) c ON a.ID = c.ID
ORDER BY b.code 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:21:11.640

你可以通过这个

```
select transactions.id,transactions.customer,transaction_items.code,transaction_items.price,transactions.amount 
from transactions  
left outer join 
transaction_items  on a.id=b.id; 
```

# crystal-reports - 水晶报告头标题乱了

> ID：12833098
> 
> 赞同：0
> 
> 时间：2012-10-11T05:58:21.673
> 
> 标签：crystal-reports, report, head

我将水晶报表部署到客户服务器，但出现了一些错误，

我本地电脑的情况：

![在此处输入图像描述](../Images/842d82f5491e89028b3f4e45af429e86.png)

结果是正确的

但在客户服务器中

![在此处输入图像描述](../Images/ee719339897928f8e38d006e7276223f.png)

```
The head mess up ,I try the resolution ratio and browserVersion ,but it cannot reproduce it 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:53:59.027

我在另一个网站上找到了这个回复：

这实际上是影响**13.0.4**版本的 Crystal Reports 错误。
当您使用13.0.3 （可能更早）版本 **运行相同的报告时，它可以正常工作。**

CR 团队已知此错误，他们将解决它：[http ://scn.sap.com/thread/3207181](http://scn.sap.com/thread/3207181)

[看这里](http://scn.sap.com/docs/DOC-7824)，你可以下载运行时的实际版本和以前的版本。

# php - 从 cakephp 查询中获取结果为一维数组

> ID：12833099
> 
> 赞同：5
> 
> 时间：2012-10-11T05:58:23.983
> 
> 标签：php, cakephp, cakephp-2.1

我的情况是，我需要执行一些非常大的查询，25~30 个连接来生成一些定期报告。

现在我们已经创建并运行了这些查询，我只想重用它们并因此使用蛋糕模型的查询方法。

说我在模型中的代码是这样的：

```
$this->query(
    'select emp.name,mngr.designation 
     from employee emp,manager mngr 
     where manager.emp_id=emp.id'
) 
```

我回来的结果是这样的：

```
Array
(
    [0] => Array
        (
            [emp] => Array
            (
                [name] => "Tom"
            )
            [mngr] => Array
            (
                [designation] => "Developer"
            )
        )
    [1] => Array
        (
            [emp] => Array
            (
                [name] => "Thomas"
            )
            [mngr] => Array
            (
                [designation] => "Developer Manager"
            )
        )
) 
```

有没有办法我可以从 cakephp 结果集中得到以下简单的 vanila 结构

```
Array
(
    [0] => Array
        (
            [0]=>"Tom"
            [1]=>"Developer"
        )
    [1] => Array
        (
            [0]=>"Thomas"
            [1]=>"Developer Manager"
        )
) 
```

或仅在列级别但不在表级别的关联

```
Array
(
    [0] => Array
        (
            [name]=>"Tom"
            [designation]=>"Developer"
        )
    [1] => Array
        (
            [name]=>"Thomas"
            [designation]=>"Developer Manager"
        )
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T13:37:54.523

您可以通过这种方式使用别名来获得类似的东西：

```
$this->query(
    'select emp.name AS emp__name, mngr.designation AS mngr__destination 
     from employee emp,manager mngr 
     where manager.emp_id=emp.id'
) 
```

双下划线`__`很重要！还可以查看[子查询](http://book.cakephp.org/2.0/en/models/retrieving-your-data.html#sub-queries)主题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T06:27:44.173

将您的查询编写为[视图](http://www.techotopia.com/index.php/An_Introduction_to_MySQL_Views)并创建一个蛋糕模型，其“表”是该视图。

如果你不能这样做，那么你只需要迭代你的结果并将它们转换成你想要的格式。我想你会发现[Set 类](http://book.cakephp.org/2.0/en/core-utility-libraries/set.html)在这里很有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T15:20:27.243

在深入挖掘 Cake 框架的 MySql.php 文件时，有一个方法 resultSet 可以完成所有映射/关联。

```
public function resultSet($results) {
    $this->map = array();
    $numFields = $results->columnCount();
    $index = 0;

    while ($numFields-- > 0) {
        $column = $results->getColumnMeta($index);
        if (empty($column['native_type'])) {
            $type = ($column['len'] == 1) ? 'boolean' : 'string';
        } else {
            $type = $column['native_type'];
        }
        if (!empty($column['table']) && strpos($column['name'], $this->virtualFieldSeparator) === false) {
            $this->map[$index++] = array($column['table'], $column['name'], $type);
        } else {
            $this->map[$index++] = array(0, $column['name'], $type);
        }
    }
} 
```

这里要注意的声明是

```
if (!empty($column['table']) && strpos($column['name'], $this->virtualFieldSeparator) === false) 
```

因此，如果列名包含一个默认为 __ 的虚拟字段分隔符，该列将与索引 0 而不是表名相关联。

# ruby-on-rails - 在部分布局中使用提供

> ID：12833101
> 
> 赞同：1
> 
> 时间：2012-10-11T05:58:36.720
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3.2

我正在尝试拥有一个存储所有配置变量的部分布局文件。但是，我使用时无法访问它们`render 'layouts/config'`

应用程序.html.erb：

```
<!DOCTYPE html>
<html>
<head>
  <title><%= full_title(yield(:name), yield(:title)) %></title> 

#:name here is empty

  <%= stylesheet_link_tag    "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>
</head>
<body>
    <%= render "layouts/config" %>
<%= yield %>

</body>
</html> 
```

_config.html.erb：

```
<% provide(:name, "Grab") %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:18:37.303

要包含部分使用 <%= render :partial=>"layouts/config"%>

我建议如果您想将所有配置变量放在适当的位置，那么您应该在 config 目录中创建一个 config.yml 文件并在那里声明所有配置变量。在那里声明的所有配置变量将在整个应用程序中可用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:28:20.563

如果您放置`render "layouts/config"`在`title`标签之前，它将起作用。但`provide`可能没有按照您的想法或意愿行事。

布局按顺序处理，因此在您的示例中`:name`，`:title`在尝试调用之前尚未设置`full_title`。

Yehuda Katz 博客上的这篇文章将有所帮助：[自动冲洗](http://yehudakatz.com/2010/09/07/automatic-flushing-the-rails-3-1-plan/)

# asp.net - 在 ASP 中使用 DropDownList 绑定国家、州和城市。NET 使用 VB.NET

> ID：12833106
> 
> 赞同：0
> 
> 时间：2012-10-11T05:58:50.403
> 
> 标签：asp.net, vb.net

我尝试在 ASP 中使用 DropDownList 绑定国家、州和城市。NET 使用 VB.NET。问题是当我选择国家时，没有显示与国家相关的国家列表。我使用 MS Access 2003 作为数据库，这是我的表格和代码

```
Country Table 
```

创建表 Country ( CountryID Int Primary Key, CountryName Varchar(30) )

国家状态表

创建表 countryState (StateID Int Primary Key, CountryID Int Foreign Key References Country(CountryID), State Varchar(30))

```
 Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
    cnnOLEDB.ConnectionString = strConnectionString
    If Not IsPostBack Then
        Bind_ddlCountry()
    End If
End Sub
Public Sub Bind_ddlCountry()
    Dim cnnOLEDB As New OleDbConnection(strConnectionString)
    cnnOLEDB.Open()
    Dim cmd As New OleDbCommand("SELECT CountryID,CountryName FROM Country", cnnOLEDB)
    Dim dr As OleDbDataReader = cmd.ExecuteReader()
    ddlcountry.DataSource = dr
    ddlcountry.Items.Clear()
    ddlcountry.Items.Add("--Please Select country--")
    ddlcountry.DataTextField = "CountryName"
    ddlcountry.DataValueField = "CountryID"
    ddlcountry.DataBind()
    cnnOLEDB.Close()
End Sub

Public Sub Bind_ddlState()
    Dim cnnOLEDB As New OleDbConnection(strConnectionString)
    cnnOLEDB.Open()
    'Dim cmd As New OleDbCommand("SELECT StateID, State FROM CountryState", cnnOLEDB)
    Dim cmd As New OleDbCommand("SELECT StateID, State FROM CountryState WHERE CountryID='" & ddlcountry.SelectedValue & "'", cnnOLEDB)
    Dim dr As OleDbDataReader = cmd.ExecuteReader()
    ddlstate.DataSource = dr
    ddlstate.Items.Clear()
    ddlstate.Items.Add("--Please Select state--")
    ddlstate.DataTextField = "State"
    ddlstate.DataValueField = "StateID"
    ddlstate.DataBind()
    cnnOLEDB.Close()

End Sub
Protected Sub ddlcountry_SelectedIndexChanged(ByVal sender As Object, ByVal e As EventArgs) Handles ddlcountry.SelectedIndexChanged
    Bind_ddlState()
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:19:19.283

因为 CountryID 是一个整数，所以 SQL 查询的 WHERE 子句中不需要单引号。

```
...WHERE CountryID = " & ddlcountry.SelectedValue, cnnOLEDB) 
```

另一个注意事项 - 通常，您应该始终参数化您的变量。否则，您正在为潜在的 SQL 注入攻击创造低垂的果实。

# php - 使用javascript获取输入框'name'

> ID：12833110
> 
> 赞同：5
> 
> 时间：2012-10-11T05:59:04.077
> 
> 标签：php, javascript, codeigniter

我正在用 PHP 制作表格并使用 javascript 提交。我想获取输入框的名称，因为正常编码给出了输入框的值，但我需要获取输入框的名称。没有 onclick 功能。是否有可能在单击按钮时在其他 javascript 函数中检索输入框的名称。例如

```
<input type="radio" name="text_name" value="4" id="d"> 
```

现在 onclick 我正在调用的另一个按钮`test()`，`test()`如何获取输入框的名称。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T06:03:01.930

```
var txtbox = document.getElementById("d");
var txtboxname = txtbox.name; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T06:04:13.537

你可以通过使用 attr 函数来做到这一点......

在你的测试功能中添加这个......

```
$('#d').attr('name');  // this will return text_name in your case (if you are using jquery) 
```

或者

```
var inputname=document.getElementById("d").name  //javascript 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T06:04:30.920

把它放在你的javascript函数上

```
var name=document.getElementById("d").name; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T06:14:58.033

> function test() {
> return document.getElementById("d").name; }

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-11T06:26:17.390

不太确定您要做什么，但是如果您的脚本是从表单中按钮上的侦听器调用的，您可以执行以下操作：

```
<input type="button" value="Send form" onclick="doSubmit(this)"> 
```

然后 doSubmit 函数类似于：

```
function doSubmit(el) {
  var form = el.form;
  var control, controls = form.elements;

  for (var i=0, iLen=controls.length; i<iLen; i++) {
    control = controls[i];

    /*  
        Do stuff with control.
        Control name is control.name, control value is control.value
    */
  }
} 
```

我强烈建议您的表单具有标准提交按钮并且无需任何脚本即可工作，然后您可以将脚本提交添加到表单的提交处理程序。它可以取消标准提交并做自己的事情。

这样，如果脚本被禁用、不可用或由于某种原因失败，用户仍然可以提交表单。

# arduino - Arduino - 非阻塞脉冲

> ID：12833111
> 
> 赞同：0
> 
> 时间：2012-10-11T05:59:06.237
> 
> 标签：arduino

我正在使用 Arduino 来控制几个[Victor 884 的](http://www.vexrobotics.com/victor-speed-controller.html)。

经过一番研究，我发现你需要向它发送一些不同持续时间的脉冲才能让它运行（我不知道这里的正确术语是什么）。

要控制它，请执行以下操作。

```
Stop = 1.5 ms on and 0.5 ms off.
Forward Full Power = 2 ms on and 0 ms off
Backward Full Power = 1 ms on and 1 ms off 
```

所以为了让电机停止，我可以使用这样的代码。

```
void setup() {
    pinMode(13, OUTPUT);
}

void loop() {
    digitalWrite(13, HIGH);
    delayMicroseconds(1500);
    digitalWrite(13, LOW);
    delayMicroseconds(500);
} 
```

问题是，这段代码被阻塞了，所以我不能做任何事情而不浪费时间。解决方案是摆脱延迟声明。

[我能够根据BlinkWithoutDelay](http://www.arduino.cc/en/Tutorial/BlinkWithoutDelay)示例制作一个非阻塞版本。

当我尝试控制 3-4 Victors 时，问题就出现了。我尝试了复制、粘贴、重命名的方法，但代码很快就变得混乱了。

所以我的问题是，我该怎么做？我应该编写一些类来为我处理它（很痛苦，因为我不知道如何用 C++ 编写一个类）还是应该考虑使用 Arduino 的计时器来实现我的目标。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T18:56:43.047

很可能您可能想了解脉宽调制又名 PWM：[http ://arduino.cc/en/Tutorial/PWM](http://arduino.cc/en/Tutorial/PWM)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T18:17:50.477

您可以同时使用 Timer 库并创建自己的类来保持整洁。除了类，您还可以创建一个附加的 .pde/.ino 文件，其中包含驱动 884 的函数。

如果您正在运行 Windows，请获取 Visual Studio Professional 和 Arduino 插件的副本。它有一个创建新 Cpp 文件的选项，该文件会自动为您创建一个类。[http://www.visualmicro.com](http://www.visualmicro.com)

当您看到一个工作时，课程非常容易。另一种选择是创建自己的库来处理 884 代码，但这更复杂。

编辑：如果您要学习更多 C++，请按照上面 Pawel 的评论进行操作。Pawel 是正确的，尤其是当`microSeconds`我第一次阅读您的请求时错过了使用它时。

# php - javascript / php > 有没有办法使用常规按钮提交信息并调用 javascript 函数？

> ID：12833115
> 
> 赞同：1
> 
> 时间：2012-10-11T05:59:19.377
> 
> 标签：php, javascript, html

我已经构建了一个功能，可以在您单击按钮时旋转图片。我想告诉这个函数我希望它与文本字段或类似的东西一起旋转多少度，并且还调用一个在 php 中执行的函数来移动步进电机。有没有办法这样做？我尝试使用提交按钮，但它没有按我想要的方式显示动画。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:02:46.110

提交按钮一般用于提交表单。虽然你也可以使用它们，但不推荐。您可以简单地使用`<button />`元素。`onclick`您可以在按钮的事件处理程序上传递函数参数。

```
<button id="rotate" onclick= "rotate('35')">Rotate</button> 
```

如果您想获取文本字段的值并以表单形式发送。

```
<button id="rotate" onclick= "rotate(document.getElementById('textboxid').value)">Rotate</button> 
```

[演示](http://jsfiddle.net/Starx/frs2c/)

但是，调用通过 PHP 执行的函数是一个棘手的部分。有多种方法可以做到这一点：

*   将表单提交到 PHP 页面并分配 URI 参数，例如`page.php?function=test`
*   通过与上述类似的 URI 参数中的值传递直接到 PHP 页面。
*   使用 AJAX 请求发送和接收数据。

# python - python是否有更好的控制结构或其他功能来简化代码？

> ID：12833117
> 
> 赞同：2
> 
> 时间：2012-10-11T05:59:32.570
> 
> 标签：python, control-structure

我是 Python 新手，并试图在简单的胸部游戏中编写一个验证函数来实现：

> 一块应该移动它的完全延伸（这意味着在它的移动方向上，如B7：E4，另一块F4被阻挡，这是合法的移动）

![在此处输入图像描述](../Images/19d2e9f16c77af5df5ed9aeb5368c30d.png)

```
def validate_move_rule(from_position, to_position, position_hash):
    blocker_position = []
    blocker_position.extend(position_hash)
    if(abs((int(to_position[1]) - int(from_position[1]))) == abs(ord(to_position[0]) - ord(from_position[0]))):
        if((int(to_position[1]) - int(from_position[1])) > 0 and (ord(to_position[0]) - ord(from_position[0])) > 0):
            next_position = str_plus(to_position[0],1) + str(int(to_position[1]) + 1)
            if(next_position in blocker_position):
                return True
        elif((int(to_position[1]) - int(from_position[1])) < 0 and (ord(to_position[0]) - ord(from_position[0])) < 0):
            next_position = str_plus(to_position[0],-1) + str(int(to_position[1]) - 1)
            if(next_position in blocker_position):
                return True
            #   left_up
        elif((int(to_position[1]) - int(from_position[1])) > 0 and (ord(to_position[0]) - ord(from_position[0])) < 0):
            next_position = str_plus(to_position[0],1) + str(int(to_position[1]) - 1)
            if(next_position in blocker_position):
                return True
            #left_down
        elif((int(to_position[1]) - int(from_position[1])) < 0 and (ord(to_position[0]) - ord(from_position[0])) > 0):
            next_position = str_plus(to_position[0], -1) + str(int(to_position[1]) + 1)
            if(next_position in blocker_position):
                return True
            #right_up
    elif(from_position[1] == to_position[1]):
        if((ord(to_position[0]) - ord(from_position[0])) > 0):
            next_position = str_plus(to_position[0],1) + to_position[1]
            if(next_position in blocker_position):
                return True
            #right
        elif((ord(to_position[0]) - ord(from_position[0])) < 0):
            next_position = str_plus(to_position[0],-1) + to_position[1]
            if(next_position in blocker_position):
                return True
            #left
    elif(from_position[0] == to_position[0]):
        if((int(to_position[1]) - int(from_position[1])) > 0):
            next_position = to_position[0] + str(int(to_position[1]) + 1)
            if(next_position in blocker_position):
                return True
            #down
        elif((int(to_position[1]) - int(from_position[1])) < 0):
            next_position = to_position[0] + str(int(to_position[1]) - 1)
            if(next_position in blocker_position):
                return True
            #up
    else:
        puts("Error: it's not a legal move(hint: must diagonal horizontal vertical)")
        return False 
```

我发现我的代码真的很乏味，我认为 Python 应该有一些功能来简化我的代码，有什么建议吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T06:02:56.703

*   使用变量来表示位置之间的差异
*   将 blocker_position 检查移至底部
*   你不需要 blocker_position
*   仅在函数的开头或结尾使用 int()/str()
*   在中间部分只计算 x 和 y 的变化量，而不是它们的值

像这样：

```
def validate_move_rule(from_position, to_position, position_hash):
    to_pos_x = ord(to_position[0])
    to_pos_y = int(to_position[1])
    delta_pos_x = to_pos_x - ord(from_position[0]) # x
    delta_pos_y = to_pos_y - int(from_position[1]) # y

    delta_x = 0
    delta_y = 0

    if abs(delta_pos_x) == abs(delta_pos_y): 
        # diagonal
        delta_x = 1 if delta_pos_x > 0 else -1
        delta_y = 1 if delta_pos_y > 0 else -1
    elif from_position[1] == to_position[1]: 
        # horizontal     
        delta_x = 1 if delta_pos_x > 0 else -1
    elif from_position[0] == to_position[0]: 
        # vertical     
        delta_y = 1 if delta_pos_y > 0 else -1
    else:
        puts("Error: it's not a legal move(hint: must diagonal horizontal vertical)")
        return False

    new_position = chr(to_pos_x + delta_x) + str(to_pos_y + delta_y)
    return new_position in position_hash 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T15:25:15.087

想想一个小布尔值表。有效或无效。

# android - 将电话的双方语音记录在单独的文件中

> ID：12833118
> 
> 赞同：3
> 
> 时间：2012-10-11T05:59:34.490
> 
> 标签：android, android-intent

是否可以在单独的文件中记录电话双方的声音，我试过这个代码

```
recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_UPLINK);
recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);
recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB); 
```

和

```
recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_DOWNLINK);
recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);
recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB); 
```

但它不工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T06:31:35.330

我使用过的大多数移动平台都不支持来自不同来源的同时输入流。在语音通话录音场景中，音频通常来自语音处理链中的某种分离器，因此我认为没有任何技术限制会阻止上行链路和下行链路的单独录音；它只是尚未实施。

简短的回答：没有。没有任何东西适用于所有 Android 手机。

# c# - 在 Windows Phone 7 中显示 Bangla (Unicode) 字体

> ID：12833120
> 
> 赞同：0
> 
> 时间：2012-10-11T05:59:49.653
> 
> 标签：c#, windows-phone-7, cordova, unicode

有没有办法在 Windows phone 7 中显示 Bangla (unicode) 字体？我有一个正在进行的项目，它应该使用大量孟加拉语文本（当地新闻媒体的应用程序），我已经完成了英文版。如果我不能正常这样做，可以使用PhoneGap完成工作吗？任何人都可以通过一些链接、建议或技巧引导我找到解决方案。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:20:02.523

几个月前我也有同样的问题，但后来我在 MSDN [http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh202920(v=vs.92).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh202920(v=vs.92).aspx)上找到了这个很棒的资源.

在“Windows Phone 中支持的阅读字体”部分中，您可能会找到所有需要的信息。

# xslt-1.0 - 使用 XSLT 1.0 解析 CSV 数据

> ID：12833121
> 
> 赞同：1
> 
> 时间：2012-10-11T05:59:57.623
> 
> 标签：xslt-1.0

我需要一些帮助来转换来自读取 csv 文件的输入数据。我想将其转换为更智能的结构。我在想可能有一些累积处理，但不知道如何去做。

我的输入 XML：

```
<lines>
    <line number="1">Header, some header data 1</line>
    <line number="2">Data, some data for 1</line>
    <line number="3">Data, some data for 1</line>
    <line number="4">Header, some header data for 2</line>
    <line number="5">Data some data for 2</line>
</lines> 
```

所需的输出是使用 Header 一词将其分类为块。

```
<?xml version="1.0" encoding="UTF-8"?>
<lines>
    <Block>
        <line number="1">Header, some header data 1</line>
        <line number="2">Data, some data for 1</line>
        <line number="3">Data, some data for 1</line>
    </Block>
    <Block>
        <line number="4">Header, some header data for 2</line>
        <line number="5">Data some data for 2</line>
    </Block>
</lines> 
```

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T13:08:47.180

**这种转变**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:key name="kFollowing" match="line[not(substring-before(.,',')='Header')]"
  use="generate-id(preceding-sibling::line[substring-before(.,',')='Header'][1])"
  />

 <xsl:template match="/*">
     <lines>
       <xsl:apply-templates select="*[substring-before(.,',')='Header']"/>
     </lines>
 </xsl:template>

 <xsl:template match="line">
  <Block>
    <xsl:copy-of select=".|key('kFollowing', generate-id())"/>
  </Block>
 </xsl:template>
</xsl:stylesheet> 
```

**应用于提供的 XML 文档时：**

```
<lines>
    <line number="1">Header, some header data 1</line>
    <line number="2">Data, some data for 1</line>
    <line number="3">Data, some data for 1</line>
    <line number="4">Header, some header data for 2</line>
    <line number="5">Data some data for 2</line>
</lines> 
```

**产生想要的正确结果：**

```
<lines>
   <Block>
      <line number="1">Header, some header data 1</line>
      <line number="2">Data, some data for 1</line>
      <line number="3">Data, some data for 1</line>
   </Block>
   <Block>
      <line number="4">Header, some header data for 2</line>
      <line number="5">Data some data for 2</line>
   </Block>
</lines> 
```

# android - 在android listview中添加和删除edittext

> ID：12833123
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:00:08.357
> 
> 标签：android, listview, android-edittext

我需要使用添加行按钮在android listview中添加任意数量的editext和删除按钮（考虑具有edittext和按钮的行（名称删除行）），我们可以添加任意数量的行也能够删除任意数量列中，当我们添加新行时，已经输入值的旧编辑文本需要在那里并且也可以读取整个编辑文本值。当按下行中的删除按钮时删除行。新输入的行必须位于顶部。寻找您的宝贵意见，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:23:39.120

你的问题对我来说有点不清楚。此外，我不在我的开发机器附近，因此您可以遵循这些准则。（你可能需要改变一些东西）

添加 EditText

```
EditText et = new EditText(...);
yourView.addView(et); 
```

由于您希望新的 EditText 位于顶部，因此您需要以编程方式设置对齐方式：

```
RelativeLayout.Layoutparams params = (RelativeLayout.LayoutParams)et.getLayoutParams();
params.addRule(RelativeLayout.ALIGN_PARENT_TOP);
// OR do this:
params.addRule(RelativeLayout.ABOVE, R.id.edit_text_will_be_above_this);    
et.setLayoutParams(params);
// And then add the view
yourView.addView(et); 
```

最后，删除它：

```
et.setVisibility(View.GONE); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:00:01.617

我对这个问题的理解：

1.  您需要在单击按钮时添加新行，新行应该是第一个显示的行。新行将具有一些默认值。
2.  每行都有一个名为 的按钮`remove`，onClick 您需要删除该行。

如果我是正确的，这是答案（假设您知道[如何将事件处理程序分配给按钮](https://stackoverflow.com/questions/6372104/best-practice-for-defining-button-events-in-android)）：

1.  我建议使用 ArrayList 来获取适配器，然后填充它。[在添加行时，在开始时使用添加](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/ArrayList.html#add%28int,%20java.lang.Object%29)插入要插入新行的数据，然后获取适配器并填充列表视图。使列表视图成为实例变量。

2.  您可能想查看[上一个关于将事件处理程序分配给一行内的视图](https://stackoverflow.com/questions/5559941/view-events-inside-a-listview-row)的软问题或[关于同一主题](https://stackoverflow.com/questions/3851802/android-add-event-listeners-to-every-item-in-a-listview)的这个软问题以分配事件。要删除，请使用arraylist 的[remove方法，索引为所选行的索引。](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/ArrayList.html#remove%28int%29)移除元素，形成新的适配器并填充列表视图。

# java - 如果我的员工没有重复完成，我该如何停止线程？

> ID：12833130
> 
> 赞同：3
> 
> 时间：2012-10-11T06:01:12.617
> 
> 标签：java, concurrency

我已经浏览了许多关于停止线程的现有答案。我在下面复制了一段典型的代码。

```
public class HelloWorld {

    public static void main(String[] args) throws Exception {
        Thread thread = new Thread(new Runnable() {

            public void run() {
                try {
                    while (!Thread.interrupted()) {
                        Thread.sleep(5000);
                        System.out.println("Hello World!");
                    }
                } catch (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        });
        thread.start();
        System.out.println("press any key to quit");
        System.in.read();
        thread.interrupt();
    }
} 
```

但是这个解决方案需要在while循环代码中检查中断状态。如果我在run方法中做的是顺序单路径的事情所以我没有机会检查两次中断状态。例如，我想停止一个正在搜索所有磁盘内容的线程，它需要很多时间。

我怎样才能阻止它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T06:10:41.803

在您长期运行的过程中，您必须有一些可以说`if (!keepRunning) { break; } else { do next directory/file(); }`要跳出循环的点。

在您的稻草人示例中，如果您正在搜索磁盘，则在处理每个文件和目录以包含此检查逻辑之前，您会在其中找到一些点。

如果你有一个运行时间很长的进程，比如加密一个巨大的文件，或者传输一个非常大的文件，你仍然可以将这些标志检查嵌入到进程中。在此示例中，您将传输字节块，在构建每个要发送的块之前，您将检查标志条件。在某些时候，一切都必须分步完成，您可以在每个步骤之前签入您的标志。`.sleep()`除了一个人为的例子或一些永远等待某事发生的连接逻辑之外，我想不出任何没有长期运行的阶段或步骤的东西。

如果没有您遇到的**确切**问题，将很难以更具体的方式回答您的问题。显示一些您实际上遇到问题的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:08:51.363

停止线程是不好的。线程应该自己停止（结束它们的执行）。例如，您的主线程可以通过设置属性来指示线程停止。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:09:06.673

线程“搜索所有磁盘内容”应该以可以及时中断的方式实现。

# php - 如何通过 Facebook 应用发送电子邮件

> ID：12833131
> 
> 赞同：1
> 
> 时间：2012-10-11T06:01:17.550
> 
> 标签：php, email, facebook-apps

我正在开发一个托管在 Hostgator 上的基本 Facebook 应用程序。这是我的应用程序的链接： [https](https://apps.facebook.com/191327857669038/) ://apps.facebook.com/191327857669038/ 。

该应用程序应该将完成的表单数据发送给受访者，并将副本发送给应用程序管理员，但没有发送电子邮件。

我使用以下 PHP 脚本来测试它是否正在发送测试电子邮件。我将此脚本添加到我的“index.php”页面，并在提交所有更改后，我对其进行了测试，但它不起作用。

```
<?php
$to = "example@gmail.com";
  $subject = "Hi!";
  $body = "Hi,\n\nHow are you?";
  $email = "myemail@yahoo.com" ;
if (mail($to, $subject, $body,"From: $email")) {
   echo("<p>Message successfully sent!</p>");
  } else {
   echo("<p>Message delivery failed...</p>");
  }
?> 
```

如何有效地从我的 Facebook 应用发送电子邮件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:16:31.683

我认为，对于 Yahoo，您需要使用您的凭据登录并使用他们的 SSL 端口发送电子邮件。所以你需要使用更好的邮件系统。

尝试使用 PHP Mailer： http: [//phpmailer.worxware.com/](http://phpmailer.worxware.com/)

这是一个使用 Yahoo SMTP 使用 PHP Mailer 发送电子邮件的示例：http: [//faq.pctrickers.com/php-send-yahoo-email-using-smtp/](http://faq.pctrickers.com/php-send-yahoo-email-using-smtp/)

值得一读 - 雅虎 SMTP/POP 设置：[http ://help.yahoo.com/l/in/yahoo/smallbusiness/bizmail/pop/pop-33.html](http://help.yahoo.com/l/in/yahoo/smallbusiness/bizmail/pop/pop-33.html)

希望能帮助到你 ：）

# modelsim - 如何添加所有 Modelsim 波形？

> ID：12833134
> 
> 赞同：0
> 
> 时间：2012-10-11T06:01:40.840
> 
> 标签：modelsim

我目前正在处理一个包含许多模块和子模块的大项目。是否可以（GUI 或 tcl 脚本）添加所有波并将其分组到树中，如模块树？

例如：模块 A 包括模块 b0、b1、b2、b3、...、b10。我想在 A 组内的单独地面上添加每个块 b0~b10。

我认为这是一种懒惰的做法，但它可能比许多使用 tcl 脚本配置要好。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-28T12:57:25.390

我不是 Questa/Modelsim 专家，但我在 TCL 中做了一些工作，所以这只是我的做法。

这分为几个步骤；
1) 遍历设计层次结构
2) 创建分组
3) 将信号添加到组

1) 遍历设计
遍历模型本身，或者将所有信号添加到 wave 并遍历1.1) 您可以使用**search wave -all signal_name**
1.2) 选择+搜索事物， 或者您也可以使用 find instance /* 和遍历设计然后手动重复（等等**find instance /top/* ...**），然后您可以使用**find signals/nets/.. YOUR_LEVEL找到网络/信号**

 ******2) 创建组
您可以通过在波形窗口中选择某些内容并执行“**波形组名称**”来创建组。

不太明显的是，您实际上可以做同样的事情，然后重新选择出现的“红色组菱形”并将其重新分组，从而创建一个子组

或者您也可以使用“ **add wave -group G1 -group G2** ”指定子组

3) 将信号添加到组
您可以使用普通的“ **add -position N wave signal_name** ”添加信号

其他有帮助的位；
a) 在波形窗口中选择事物

```
set WAVEWIN [view wave]
$WAVEWIN.tree.tree1 curselection
$WAVEWIN.tree.tree1 selection clear all
$WAVEWIN.tree.tree1 selection set 1 2 etc 
```

b) 从所选项目中获取信号名称

```
# gets its signal name "sim:/path/to/sig"
set SIGPATH $WAVEWIN.tree.tree1 get 1 
```

c) 我可能会评论说，将所有信号添加到同一个波形窗口可能会变得非常难以管理，因此您可能还想考虑添加到单独的波形窗口？

```
set WAVEWIN [view -new wave] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T09:59:54.567

由于您只想要一种自动方式在模拟中对设计进行递归分组，那么这里有一些我认为可以做到这一点的代码。它只是使用上述一些答案的一个实现，但我不想通过将其添加到其中来混淆上述答案，因此创建了这个单独的答案。

你想要做什么（想要的标题输出的手动视图）

```
add wave                         /top/*
add wave -group dut              /top/dut/*
add wave -group dut -group subA  /top/dut/subA/* 
```

您可以使用 Questa/Modelsim**查找**命令和**添加波形**来做到这一点，就像上面显示的那样，带有一点 TCL 魔法。 *请注意，“-noupdate”可以更快地添加大量信号，但完成后您需要调用**波形刷新**。*

```
# Kick everything off from here.
proc add_wave_groupedrecursive { } {
  add_wave_breadthwiserecursive "" ""

  # Added all signals, now trigger a wave window update
  wave refresh
}

proc add_wave_breadthwiserecursive { instance_name prev_group_option } {
    # Should be a list something like "/top/inst (MOD1)"
    set breadthwise_instances [find instances $instance_name/*]

    # IFF there are items itterate through them breadthwise
    foreach inst $breadthwise_instances {
      # Separate "/top/inst"  from "(MOD1)"
      set inst_path [lindex [split $inst " "] 0]

      # Get just the end word after last "/"
      set gname     [lrange [split $inst_path "/"] end end]

      # Recursively call this routine with next level to investigate
      add_wave_breadthwiserecursive  "$inst_path"  "$prev_group_option -group $gname" 
    }

    # Avoid including your top level /* as we already have /top/*
    if { $instance_name != "" } {
        # Echo the wave add command, but you can turn this off
        echo add wave -noupdate $prev_group_option "$instance_name/*"

        set CMD "add wave -noupdate $prev_group_option $instance_name/*"
        eval $CMD
    }

    # Return up the recursing stack
    return
} 
```

您当然可以改进这一点，让您只显示 N 个级别，或者甚至使用TCL的正则**表达式只显示感兴趣的模块。**但我把这个练习留给读者。******

# c# - AccessViolationException

> ID：12833137
> 
> 赞同：1
> 
> 时间：2012-10-11T06:01:50.240
> 
> 标签：c#, visual-c++

我在 mfc 中有一个函数（这是一个 dll 类型的项目），它提取一个 zip 文件并创建最终显示文件的文件夹，现在它在 C#.Net 项目中使用，所以当我从 C# 中的 dll 调用此方法时。 net 项目并非所有文件都被提取并显示发生 AccessViolationExceptions 的错误。

我猜这个在.net项目中提取文件的缓冲区无法分配那么多内存..我需要关于它的建议....

```
BYTE *buffer;
buffer = new BYTE[oFileData.lActualSize];
if( buffer == 0 )
{
_tcscpy((*_errorText), szFilesFolder.GetBuffer() );
szFilesFolder.ReleaseBuffer();
CoTaskMemFree((*_errorText));

return FAILTOALLMEM;
} 
```

mfc 中函数的签名：

```
extern "C" _declspec(dllexport) int extractCompressedFile( TCHAR* _szFilePath, TCHAR* _extractPath, TCHAR** _errorText ) 
```

在 C#.Net 中调用

```
IntPtr BackupDLL = NativeMethods.LoadLibrary(somepath);
IntPtr procaddr = NativeMethods.GetProcAddress(BackupDLL, "extractCompressedFile");
C_ExtractFiles func = (C_ExtractFiles)Marshal.GetDelegateForFunctionPointer(procaddr,typeof(C_ExtractFiles));
res = func(Program.ptc_SourFilePath, ptc_DestinationFilePath, ref errtext);
Program.strResult = res.ToString();

static class ExtNativeMethods
{
[DllImport("kernel32.dll", CharSet = CharSet.Ansi)]
public static extern IntPtr GetProcAddress(IntPtr hModule, [In][MarshalAsAttribute(UnmanagedType.LPStr)] string procedureName);
} 
```

# assembly - 在 mmix 交互模式下检查寄存器内容

> ID：12833144
> 
> 赞同：5
> 
> 时间：2012-10-11T06:02:17.463
> 
> 标签：assembly, mmix

我想知道如何在交互模式下使用 mmix 在我要求查看寄存器时显示它们的内容。例如，我有一个简单的 mmix 程序：

```
% Compute D=4A-2B+16C
%LABEL      OPCode      Operands        Comments
            LOC         Data_Segment
            GREG        @
A           OCTA        3          Reserve an octabyte for A
B           OCTA        #10        Reserve an octabyte for B
C           OCTA        2          Reserve an octabyte for C
D           OCTA        0          Reserve an octabyte for D

            LOC         #100            start assembly instructions
Main        LDO         $0,A            $0 contents of A
            LDO         $1,B            $1 contents of B
            LDO         $2,C            $2 contents of C
            SL          $0,$0,2         $0 = 4*$0
            SL          $1,$1,1         $1 = 2*$1
            SL          $2,$2,4         $2 = 16*$2
            SUB         $0,$0,$1        $0 < 4A-2B
            ADD         $0,$0,$2        $0 < 4A-2B+16C
            STO         $0,D            store answer in D 
```

我可以运行 mmix -i myprog.mmo 来获得输出：

```
mmix> 
           (00000000000000fc: fb0000ff (UNSAVE)) #6000000000000088: rG=254, ..., rL=2
  0 instructions, 0 mems, 0 oops; 0 good guesses, 0 bad
  (now at location #0000000000000100)
mmix> 
         1\. 0000000000000100: 8d00fe00 (LDOI) $0=l[0] = M8[#2000000000000000] = 3
  1 instruction, 1 mem, 1 oop; 0 good guesses, 0 bad
  (now at location #0000000000000104)
mmix> 
         1\. 0000000000000104: 8d01fe08 (LDOI) $1=l[1] = M8[#2000000000000000+8] = 16
  2 instructions, 2 mems, 2 oops; 0 good guesses, 0 bad
  (now at location #0000000000000108)
mmix> 
         1\. 0000000000000108: 8d02fe10 (LDOI) rL=3, $2=l[2] = M8[#2000000000000000+16] = 2
  3 instructions, 3 mems, 3 oops; 0 good guesses, 0 bad
  (now at location #000000000000010c)
mmix> 
         1\. 000000000000010c: 39000002 (SLI) $0=l[0] = 3 << 2 = 12
  4 instructions, 3 mems, 4 oops; 0 good guesses, 0 bad
  (now at location #0000000000000110)
mmix> 
         1\. 0000000000000110: 39010101 (SLI) $1=l[1] = 16 << 1 = 32
  5 instructions, 3 mems, 5 oops; 0 good guesses, 0 bad
  (now at location #0000000000000114)
mmix> 
         1\. 0000000000000114: 39020204 (SLI) $2=l[2] = 2 << 4 = 32
  6 instructions, 3 mems, 6 oops; 0 good guesses, 0 bad
  (now at location #0000000000000118)
mmix> 
         1\. 0000000000000118: 24000001 (SUB) $0=l[0] = 12 - 32 = -20
  7 instructions, 3 mems, 7 oops; 0 good guesses, 0 bad
  (now at location #000000000000011c)
mmix> 
         1\. 000000000000011c: 20000002 (ADD) $0=l[0] = -20 + 32 = 12
  8 instructions, 3 mems, 8 oops; 0 good guesses, 0 bad
  (now at location #0000000000000120)
mmix> 
         1\. 0000000000000120: ad00fe18 (STOI) M8[#2000000000000000+24] = 12
  9 instructions, 4 mems, 9 oops; 0 good guesses, 0 bad
  (now at location #0000000000000124)
mmix> 
         1\. 0000000000000124: 00000000 (TRAP) Halt(0)
  10 instructions, 4 mems, 14 oops; 0 good guesses, 0 bad
  (halted at location #0000000000000124)
mmix> 
  10 instructions, 4 mems, 14 oops; 0 good guesses, 0 bad
  (halted at location #0000000000000124) 
```

这一切都很好。但是，如果我想在交互运行的过程中检查某个寄存器的内容，我需要做什么？另外，以十六进制而不是十进制查看内容怎么样？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-16T21:55:52.407

对于那些感兴趣的人，显然不是很多:)，我正在寻找的信息可以在[MMIX 文档](http://mmix.cs.hm.edu/doc/index.html "MMIX 文档")站点上找到。然后查看第 3 页的 mmix-sim.pdf 文件。

特别是，在模拟器类型中检查本地寄存器

```
l0 
```

以十进制查看本地寄存器 $0 内容。如果您想将本地寄存器设置为某些东西，那很简单

```
l0=27.0 
```

所以现在 $0 是 27.0 的 64 位浮点表示！如果您想查看十六进制，只需执行

```
l0#. 
```

其余的大家可以自己阅读。文档包括如何设置断点等。

# javascript - 如何为 Android 正确配置 phonegap，使其不会放大文本输入

> ID：12833145
> 
> 赞同：2
> 
> 时间：2012-10-11T06:02:23.037
> 
> 标签：javascript, android, cordova, meta

大家早上好，

我正在构建一个 Android 应用程序，在我的一生中，当您使用文本字段时，我无法阻止 HTC 和 ZTE 设备以可笑的方式放大。

我正在尝试以高分辨率构建它，这是我的元视口设置。

```
<meta name="viewport" content="width=device-width,target-densitydpi=320, initial-scale=1.0  minimum-scale=1.0, maximum-scale=1.0"> 
```

这几乎适用于每台设备，但在使用 2.3.5 的测试 ZTE warp 中，它会放大输入字段。

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:38:09.837

根据设备，将“user-scalable=no”添加到您的视图标签可能会改善这种情况。我也会尝试删除目标密度dpi 进行测试。

另外：我刚刚注意到您的视口字符串实际上是不正确的。它错过了 initial-scale=1.0 和 minimum-scale=1.0 之间的逗号。

另外，我建议删除所有空格。有些浏览器在解析视口信息时非常挑剔。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-26T09:51:39.627

PhoneGap/Cordova apps use the built-in browser which ignores a lot of these meta-attributes, depending on the shipped version.

Phonegap recently added support for Androids windowSoftInputMode, which controls the behaviour of the soft keyboard.

Setting `<preference name="android-windowSoftInputMode" value="adjustPan" />` in your config.xml disables zooming and uses panning instead.

For a comprehensive list of all possible values, see the Android API Documentation: [http://developer.android.com/guide/topics/manifest/activity-element.html#wsoft](http://developer.android.com/guide/topics/manifest/activity-element.html#wsoft)

# iphone - 在 ios 中使用 tapku 库显示上个月或下个月后显示当前月份

> ID：12833146
> 
> 赞同：0
> 
> 时间：2012-10-11T06:02:28.690
> 
> 标签：iphone, ios, events, nscalendar, tapku

我正在开发应用程序。当我点击事件的日期时，我使用 Tapku Library 打开日历（假设日期是从下个月或上个月的日期开始）。它将以该日期作为选定日期在日历上正确显示，但是当我转到当前月份时，它将显示第一个日期和当前日期作为选定日期，实际上我只想显示当前日期作为选定日期。有谁能够帮助我。？？先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:13:55.953

使用

****#pragma mark TKCalendarMonthViewDelegate 方法******

 **```
- (void)calendarMonthView:(TKCalendarMonthView *)monthView didSelectDate:(NSDate *)d {
}
- (void)calendarMonthView:(TKCalendarMonthView *)monthView monthDidChange:(NSDate *)d {
} 
```**

# extjs - Extjs 创建商店

> ID：12833149
> 
> 赞同：0
> 
> 时间：2012-10-11T06:02:40.950
> 
> 标签：extjs, extjs4, store

我在创建商店时遇到问题，需要一些帮助。我有一个商店，使用 Ex.define 方法创建，它工作得很好。这是代码：

```
 Ext.define('path.to.myStore', {
        extend: 'Ext.data.Store',
        model: 'arm4.dict.m.DictBaseModel',
        proxy: {
            type: 'ajax',
            url: 'data/module-dict/PossessionGroundWs/find',

            reader: {
                type: 'json',
                root: 'dataList'
            }
        }
    });

//later
//works fine!
var s =Ext.create('path.to.myStore');
s.load(); 
```

现在，问题是我想动态创建商店，没有 Ex.define。我就是这样做的：

```
var s = Ext.create('Ext.data.Store', {
    model: 'arm4.dict.m.DictBaseModel',
    proxy: {
        type: 'ajax',
        url: 'data/module-dict/PossessionGroundWs/find',

        reader: {
            type: 'json',
            root: 'dataList'
        }
    }
});

s.load(); 
```

如您所见，它使用完全相同的配置，但这不起作用。我收到此错误：

```
TypeError: reader.read is not a function    
result = reader.read(me.extractResponseData(response)); 
```

当我深入研究 Extjs 代码时，我可以看到阅读器由于某种原因没有初始化。

“阅读器”看起来像这样：

```
{
    applyDefaults:true
    root:"dataList"
    type:"json"
} 
```

那么，我做错了什么？你能重现这个错误（bug）吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T09:51:21.857

无法重现此错误，但我记得有一天我遇到了它。尝试在这样的单独文件中定义您的阅读器

```
Ext.define('My.reader.Default', {
    extend: 'Ext.data.reader.Json',
    alias: 'reader.myreader',

    root: 'dataList'
}); 
```

接着

```
Ext.create('Ext.data.Store', {
    requires: ['My.reader.Default'],
    model: 'arm4.dict.m.DictBaseModel',
    proxy: {
        type: 'ajax',
        url: 'data/module-dict/PossessionGroundWs/find',
        reader: 'myreader'
    }
}); 
```

也许这会有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T10:34:31.067

我发现了问题。我真的不知道这是否是一个错误，但如果您使用**Ext.create**（没有**Ext.define**）创建您的商店，您必须在创建之前要求您的模型类。

所以，这很好用：

```
Ext.require('arm4.dict.m.DictBaseModel');
//......
var s = Ext.create('Ext.data.Store', {
    model: 'arm4.dict.m.DictBaseModel',
//store definition 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-11-30T09:42:36.297

很抱歉碰到一个老问题，但是当搜索错误*TypeError: reader.read is not a function*时，这个页面在谷歌中的排名很高，所以我希望它可能有用。我遇到了同样的错误，这是由链接到不存在模型的商店引起的，因此请检查您的模型参考中是否有任何拼写错误。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-05-27T07:10:53.003

这是一个老问题，但这个问题很常见。在我的场景中，我没有定义模型，我忘记使用“Ext.data.Model”扩展我的模型，扩展后它开始正常工作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-04-12T14:07:07.490

当我的模型定义错误时，我重现了同样的错误。所以回顾一下。就我而言：

```
Ext.define('APP.model.web.bdetmclocalidad.BdetMcProvincia', {
    extend: 'Ext.data.Model',
    idProperty : 'idProvincia',
    fields: [
        {name:'codProvincia', type:"string", useNull:true}
        ,{name:'descProvincia', type:"string", useNull:true}
    ],
    proxy : {
        type : 'uxproxy',
        localUrl : 'data/bdetMcProvinciasListado.json',
        remoteUrl : 'bdetmcprovincia'
    }
});

Ext.define('APP.store.web.bdetmcprovincia.BdetMcProvinciaStore', {
    extend : 'Ext.data.Store',
    requires : 'APP.model.web.bdetmcprovincia.BdetMcProvincia',
    model : 'APP.model.web.bdetmcprovincia.BdetMcProvincia',
    filterOnLoad : false,
    remoteSort   : true,
    pageSize     : 25,
    proxy : {
        type : 'uxproxy',
        localUrl : 'data/bdetMcProvinciasListado.json',
        remoteUrl : 'bdetmcprovincia'
    }
}); 
```

我的包名有误（由复制和粘贴引起）：APP.model.web.bdetmclocalidad.BdetMcProvincia is not equal to APP.model.web.bdetmcprovincia.BdetMcProvincia

我希望这会有所帮助。

# android - Build.PRODUCT 用于 Nook 和 Kindle Fire 设备

> ID：12833153
> 
> 赞同：0
> 
> 时间：2012-10-11T06:02:58.360
> 
> 标签：android, kindle-fire, nook

我想将现有的 Android 应用程序移植到 Nook 和 Kindle Fire 设备。我想通过查询 android.os.Build.PRODUCT 和 android.os.Build.MODEL 代码来关闭不支持的功能。有人可以为我提供这些设备的各种 Build.PRODUCT 和 Build.MODEL 代码吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:01:04.590

没关系，我应该搜索规格，而不是 Build.Product。我在这里和这里找到了它们：

[https://nookdeveloper.barnesandnoble.com/product/nook-device-specs.html](https://nookdeveloper.barnesandnoble.com/product/nook-device-specs.html)

[https://developer.amazon.com/sdk/fire/specifications.html](https://developer.amazon.com/sdk/fire/specifications.html)

查询制造商将是一个更好的选择，因为您已准备好使用新设备，但据我所知，这仅适用于 Kindle Fire 设备，因为这些设备有亚马逊作为制造商，而 Nook 设备有富士康。但是富士康可能已经制造了其他设备，对吧？

# c# - 如何在 asp.net 应用程序中使用 jquery 调用 wcf

> ID：12833160
> 
> 赞同：1
> 
> 时间：2012-10-11T06:03:30.683
> 
> 标签：c#, jquery, asp.net, wcf

> **可能重复：**
> [从 jQuery 调用 Web 服务](https://stackoverflow.com/questions/11048507/call-web-service-from-jquery)

我想将两个数字相加，必须在WCF中进行操作，结果会显示在default.aspx页面中。

如何使用 jquery 将两个文本框的值传递给 WCF 服务？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:24:08.320

您可以从定义一个新的服务合同开始：

```
namespace WebApplication1
{
    [ServiceContract]
    public interface IService1
    {
        [OperationContract]
        [WebGet(UriTemplate = "add?a={a}&b={b}", 
                BodyStyle = WebMessageBodyStyle.Bare, 
                ResponseFormat = WebMessageFormat.Json)]
        int Add(int a, int b);
    }
} 
```

一个实现：

```
namespace WebApplication1
{
    public class Service1 : IService1
    {
        public int Add(int a, int b)
        {
            return a + b;
        }
    }
} 
```

端点（`~/service1.svc`）：

```
<%@ ServiceHost 
    Language="C#" 
    Debug="true" 
    Service="WebApplication1.Service1" 
    CodeBehind="Service1.svc.cs" 
%> 
```

并在您的 web.config 中配置服务以启用 REST：

```
<system.serviceModel>
  <behaviors>
    <serviceBehaviors>
      <behavior name="">
        <serviceMetadata httpGetEnabled="true" httpsGetEnabled="true" />
        <serviceDebug includeExceptionDetailInFaults="false" />
      </behavior>
    </serviceBehaviors>
    <endpointBehaviors>
      <behavior name="rest">
        <webHttp/>
      </behavior>
    </endpointBehaviors>
  </behaviors>
  <services>
    <service name="WebApplication1.Service1">
      <endpoint
        address=""
        contract="WebApplication1.IService1"
        binding="webHttpBinding"
        behaviorConfiguration="rest"
        />
    </service>
  </services>
  <serviceHostingEnvironment aspNetCompatibilityEnabled="true"
      multipleSiteBindingsEnabled="true" />
</system.serviceModel> 
```

现在您可以将 WebForm1.aspx 添加到您的项目中以使用该服务：

```
<%@ Page Language="C#" %>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
</head>
<body>
    <form id="form1" runat="server">
    </form>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript">
        $.ajax({
            url: '<%= ResolveUrl("~/service1.svc/add") %>',
            type: 'GET',
            cache: false,
            data: { a: 5, b: 7 },
            success: function (result) {
                alert(result);
            }
        });
    </script>
</body>
</html> 
```

# iphone - 单个视图中的多个表视图 - iPhone

> ID：12833163
> 
> 赞同：0
> 
> 时间：2012-10-11T06:03:38.403
> 
> 标签：iphone, objective-c, ios, uitableview, uistoryboard

我有一个用于列出用户的表格视图，单击一个按钮我想显示另一个表格视图作为弹出窗口......就像操作表一样......任何帮助表示赞赏......我在这里上传一个示例图像。 ..！

![ON Show picker button click show table view as pop up](../Images/b1cffab2fe15717e0319d22559bff662.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:11:06.547

我会为迷你表创建一个单独的 UITableViewController，一旦用户从大表中选择了一个单元格，就将其提供给相关的数据源。然后将迷你表的视图作为子视图添加到主视图中，可能在迷你表和大表之间有一个透明的 UIView，这样用户手势就不会传递到大表。

[编辑] 您可以将同一个视图控制器作为多个表视图的数据源和委托。您可能已经注意到，所有 UITableView 的委托方法都提供了对原始 tableview 的引用，因此您可以区分大表和小表，即每个表可以有不同的行数、不同的单元格等。

它与我上面的建议非常相似，只是它不那么干净，您必须在每个委托方法中具有如下代码：

```
if(tableView.tag == kBigTableTag) { ... } 
else if (tableView.tag == kMiniTableTag) { ... } 
```

您仍然需要将迷你表添加为视图控制器视图的子视图，就像我上面解释的那样。我建议您为迷你表使用单独的 UITableViewController ，除非您有充分的理由不这样做？

希望所有这些都有意义:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T06:47:32.467

假设您有两个 UITableView table1 和 table2-

放

```
table1.tag = 1;
table2.tag = 2; 
```

将委托和数据源属性设置为 self。

在任何委托方法中，您都可以按标签属性检测表。见下文，例如。

```
- (NSInteger)tableView: (UITableView*)tableView numberOfRowsInSection: (NSInteger)section {
    if([tableView tag] == 1)
       {
            //do stuff for table1
            return 10;
       }
    else if([tableView tag] == 2)
       {
            //do stuff for table2
            return 20;
       }

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:06:18.097

`UITableView`哪个主表视图并将其添加到您的主视图中，添加一个`UIView`并在添加`UITableView`新视图后设置为主视图的子视图..

将新视图背景颜色设为黑色，并将 alpha 设置为 0.85 或您在弹出视图中看到的其他颜色。

将 Delegate 和 Datasource 分配给两者`UITableView`并管理这两个 tableview 只需使用以下条件..

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    // Return the number of rows in the section.
    if (tableView == yourFirstTable) {
        return [Array1 count];
    }
    else {
        return [Array2 count];
    }
} 
```

我希望这可以帮助你...

:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T06:07:59.413

在超级视图上添加第二个表视图.....

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-11T06:10:54.957

这是你必须做的。在按钮上单击 ，`addSubView`在`UITableView`该特定框架中。确保将其添加到`UITableView`以使其可见。如果您愿意，可以对其进行动画处理，使其看起来像一个**弹出窗口**。希望这能给你一个大致的想法:) ...还有什么请问...

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-11T06:12:48.897

您可以添加一个表格视图作为主视图的子视图。创建一个类型类`UIViewController`并首先添加`UITableView`为子视图。然后点击按钮，您可以将第二个添加`UITableView`为相同的子视图`UIViewController`。您可能可以将这个表格视图从底部滑动动画，并在这个表格视图后面添加一个覆盖视图。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-11T06:37:16.430

有 1-2 种方法可以解决这个问题，但从 UX 的角度来看，最好为下拉表创建一个单独的表，并使用适当的数据设置数据源。当用户从主表中选择了一个单元格时。然后将小表视图作为子视图添加到主视图中。现在为了更好的用户体验，您可以在这些表之间添加半透明视图，或者将大表的 userInteractionEnable 设置为 NO，而小表可见。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-10-11T06:46:36.327

在 IB 中添加两个表格视图，一个是大的全屏视图，另一个是较小的一个，其 Z 值比大的大。为每个表视图设置一个标签。设置小表视图隐藏值为YES

在每个 UITableView 委托方法上，检查 Table View Tag 值并相应地继续。

```
if (tableView.tag == 1) {
    // load data for the large table view
}
if (tableView.tag == 2) {
    // load data for the small table view
} 
```

点击按钮，将小表格视图隐藏值设置为 NO - 这将显示小表格视图。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-10-11T09:03:33.650

出于以下原因，我会使用您的 UITableView 作为子视图创建一个自定义视图类：

**1\. 可重复使用**

**2\. 易于维护，如果您想更改视图的外观或添加其他选项，您只需修改自定义视图，它的所有实例都会更新。**

**3\. 委托**

话虽如此，以下过程是我通常创建这些自定义视图的方式：

1) 创建一个新的自定义视图类

2) 在自定义视图中，在 .h 文件的顶部创建一个协议，在协议声明中，指定任何符合此委托协议的视图控制器必须实现的方法。对我来说，这通常意味着我创建选项选择方法和自定义视图关闭方法

```
@protocol CustomViewDelegate ....
    // all conforming View Controller must implement these methods.
    // in your case, you probably only need the optionChosen method
    -(void)optionChosen;
    -(void)customViewClose;
@endprotocol 
```

3) 在您的自定义视图 .h 文件的 @interface 部分中，声明一个“id”变量，该变量采用您的协议类型：

```
id<CustomViewDelegate> delegate; 
```

4) 为您的 id 委托变量创建一个属性

5) 在你的 .h 文件中创建一个 UITableView

6) 创建一个 set-entity 方法，将传入的实体作为参数，这允许您对该实体执行操作，而无需将其发送回原始视图控制器。

7) 在这个自定义类的 .m 文件中实现表格视图

8）当一个选项被选中时，你可以调用委托方法“optionChosen”：

```
// psuedo-code
-(void)tableView:(UITableView *)tableView didSelectRowAtIndePath:(NSIndexPath *)indexPath
{
    [delegate optionChosen];
} 
```

9) 最后要做的是在视图控制器中创建 showCustomView() 和 hideCustomView()：

```
// psuedo code
-(void)onLongPressOnTableRow
{
    // pass the custom entity to the custom view for updating
    [customeView setEntity:[arrEntities objectAtIndex:row]];

    [self showCustomView];
}

-(void)showCustomView
{
    [UIView animateWithDuration:0.5 actions:^{
        customView.alpha = 1;
    }];
}

-(void)hideCustomView
{
    [UIView animateWithDuration:0.5 actions:^{
        customView.alpha = 0;
    }];
} 
```

# c# - 使用 C# 的正则表达式

> ID：12833168
> 
> 赞同：4
> 
> 时间：2012-10-11T06:04:02.190
> 
> 标签：c#, regex

我试图找到一个匹配以下字符串的正则表达式：

```
##Content##
##AnotherArea## 
```

到目前为止我已经尝试过

```
@"\\#\\#(.*?)\\#\\#"
@"\\#\\#(*?)\\#\\#" 
```

但是在运行时似乎都没有找到任何东西：

```
foreach (var match in Regex.Matches(txtPageContent.Text, expressionMatch)) 
```

其中表达式匹配是包含表达式的字符串。

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T06:05:23.100

没必要逃跑`#`。

```
##.*?## 
```

简单的解释

```
Options: ^ and $ match at line breaks

Match the characters “##” literally «##»
Match any single character that is not a line break character «.*?»
   Between zero and unlimited times, as few times as possible, expanding as needed (lazy) «*?»
Match the characters “##” literally «##» 
```

# opengl-es - 将结构数组传递给 glVertexAttribPointer

> ID：12833170
> 
> 赞同：0
> 
> 时间：2012-10-11T06:04:11.057
> 
> 标签：opengl-es

我从 Apple 提供的 Xcode 中的 iOS OpenGL 游戏模板开始，我有一个结构数组（如果你愿意的话，更多的是结构的结构数组），我正在尝试与 OpenGL VBO 一起使用。但是，虽然我没有收到任何错误，但屏幕上没有任何内容。

首先，我创建并填充这个类型为 VecAttributeType 的数组，该结构又具有 3 个其他结构：vPosition、vTCoordinates 和 vNormal。然后我尝试将数组复制到 VBO 并通过 glVertexAttribPointer 将位置和法线（即 VecAttributeType.vPosition 和 VecAttributeType.vNormal 的偏移量）绑定到顶点着色器中的相应 in / 属性。然后我尝试渲染。

什么也没画：/

请注意，arrayOfStructs 包含绘制模型所需的所有顶点。也就是说，我没有使用顶点索引。相反，对于这个测试，我将遍历 obj 和每个索引中的面定义，检索适当的顶点、纹理、法线并将其复制到 arraOfStructures 中。

因此，例如，对于 obj 格式的经典立方体，文件列出了 8 个顶点，但我的最终 arrayOfStructs 长度为 12，其中有 12 个 VecAttributeType 结构，每个结构都有正确的位置、纹理坐标和该顶点的法线，从索引派生在 obj 文件的面定义中。是的，我将 f 定义中的索引偏移 -1 以说明 obj 文件索引从 1 开始的事实。

我的猜测是，我只是在计算位置和法线错误的 VBO 偏移量。我这么认为是因为我尝试在 arrayOfStructures 中的第一个 VecAttributeType 中打印第一个位置 x 坐标，如下所示：

```
NSLog(@"\nTEST:\nfirst vertex X = %f", arrayOfStructs[0].vPosition.x); 
```

我得到了预期值，同时尝试像这样打印：

```
char* address = (char*)arrayOfStructs+offsetof(VecAttributeType, vPosition.x);
    float b = *address;
    NSLog(@"\nTEST:\nfirst vertex X = %f",  b); 
```

打印 0 代替（正确的值应该是 1）；

以下是相关的代码部分：

```
//Inside a c++ class I'm parsing an Obj and creating the vertex attribute array:
typedef struct
{
    float x;
    float y;
    float z;

} Vec3fType;

typedef struct
{
    float s;
    float t;

} Vec2fType;

typedef struct
{
    int p;
    int n;
    int t;

} Vec3iType;

typedef struct
{
    Vec3fType vPosition;
    Vec3fType vNormal;
    Vec2fType vTCoordinates;

} VecAttributeType;

int arrayLength = // Some number;
VecAttributeType* arrayOfStructs = new VecAttributeType[arrayLength];

//  Populate the array.

// . . .

// Then, in the ViewController (Objective-C) class, I try binding to the VBO and getting the offsets right:

[EAGLContext setCurrentContext:self.context];

[self loadShaders];

glEnable(GL_DEPTH_TEST);

GLuint _vertexBuffer;
glGenBuffers(1, &_vertexBuffer);
glBindBuffer(GL_ARRAY_BUFFER, _vertexBuffer);
glBufferData(GL_ARRAY_BUFFER, sizeof(VecAttributeType)*arrayLength, arrayOfStructs, GL_STATIC_DRAW);
glEnableVertexAttribArray(GLKVertexAttribPosition);
glVertexAttribPointer(GLKVertexAttribPosition, 3, GL_FLOAT, GL_FALSE, sizeof(VecAttributeType), BUFFER_OFFSET(0) + offsetof(VecAttributeType, vPosition) + offsetof(Vec3fType, x));
glEnableVertexAttribArray(GLKVertexAttribNormal);
glVertexAttribPointer(GLKVertexAttribNormal, 3, GL_FLOAT, GL_FALSE, sizeof(VecAttributeType), BUFFER_OFFSET(0) + offsetof(VecAttributeType, vNormal) + offsetof(Vec3fType, x)); 
```

最后，绘制代码是：

```
- (void)glkView:(GLKView *)view drawInRect:(CGRect)rect
{
    glClearColor(1.f, 0.f, 0.f, 1.0f);
    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

    glBindVertexArrayOES(_vertexArray);

    // Render the object again with ES2
    glUseProgram(_program);

    glUniformMatrix4fv(uniforms[UNIFORM_MODELVIEWPROJECTION_MATRIX], 1, 0, _modelViewProjectionMatrix.m);
    glUniformMatrix3fv(uniforms[UNIFORM_NORMAL_MATRIX], 1, 0, _normalMatrix.m);
    glDrawArrays(GL_TRIANGLES, 0, arrayLength);
} 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:18:33.677

好的，我明白了...原来在某些时候我忘记了我正在使用**VAO**扩展 ( `glBindVertexArrayOES`)，并且在 VBO 设置结束时禁用它之后，我忘记在`glkView:draInRect:`

我上面的代码显示它已启用，但这只是因为我创建了一个新项目以在发布到 SO 之前将相关的代码部分复制到。

此外，这些`glVertexAttribPointer`行可以更紧凑地重写，如下所示：

```
glVertexAttribPointer(GLKVertexAttribPosition, 3, GL_FLOAT, GL_FALSE, sizeof(VecAttributeType),(void*)offsetof(VecAttributeType, vPosition.x));
glVertexAttribPointer(GLKVertexAttribNormal, 3, GL_FLOAT, GL_FALSE, sizeof(VecAttributeType), (void*)offsetof(VecAttributeType, vNormal.x)); 
```

# gwt - GWT ImageResource @source 项目文件夹外的路径

> ID：12833172
> 
> 赞同：0
> 
> 时间：2012-10-11T06:04:16.723
> 
> 标签：gwt, clientbundle

在我的项目中，我使用的是项目中使用的`ClientBundle`图像。我将使用的图像已被其他非`gwt`项目（一个`Flex`Web 应用程序）使用，因此这些图像放置在我的`gwt`项目外部的单个目录中。

等级制度：

```
server
 - image
     - myimage.gif
 - gwtprojects
     - myproject
        - com.gwt.sample
           - CImageResource.java 
```

在我的 CImageResource 类中：

```
@Source("../../../../../image/myimage.gif")
ImageResource myImage(); 
```

gwt 说“资源文件丢失”。

我如何在`ClientBundle`课堂上使用图像？尽可能地，如果有办法访问它，我不想复制我将在我的项目文件夹中使用的图像。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:19:59.047

GWT 从类路径加载所有内容，因此只需将`image`文件夹放在类路径中，您就可以`myimage.gif`使用`@Source("myimage.gif")`、`@Source("/myimage.gif")`或`@Source("../../../myimage.gif")`.

# google-app-engine - 登录 GAE 时看不到应用程序

> ID：12833174
> 
> 赞同：1
> 
> 时间：2012-10-11T06:04:18.813
> 
> 标签：google-app-engine

我们从 Exchange 服务器迁移到 Google Apps，为了让共享联系人与 Outlook 一起工作，我们在 Google Apps Engine 上安装了共享组。

在实际搬迁之前，该应用程序在试用模式下使用管理员帐户进行了测试。但是，设置所有内容的人从 Google Apps 域中删除了此帐户，因为该公司直到最近才认为他们会迁移到 Google Apps。

现在移动已经完成，我尝试安装共享组应用程序，但它告诉我这个应用程序已经为我们的域安装。

因此，我重新创建了其他人设置来安装此应用程序并登录到 GAE 的确切帐户，但我在控制台中看不到它。那里没有应用程序。

有没有办法让应用程序显示在控制台中，因为我无法编辑设置并启用计费。目前去应用程序地址返回“错误：服务器错误”。

谢谢你。

# php - 每次我要从我的帐户通过 php 发送邮件时，我是否必须登录我的谷歌网络邮件？(swiftmail/phpmailer + 谷歌应用)

> ID：12833175
> 
> 赞同：1
> 
> 时间：2012-10-11T06:04:19.470
> 
> 标签：php, smtp, gmail, swiftmailer

我已经用 php swiftmailer 建立了一个邮件机器人，它可以通过我的谷歌应用程序帐户发送邮件，但是它只有在我手动登录我的 gmail 帐户后才能工作，我可能能够通过 php 发送邮件几天。

后来 swiftmailer 开始返回 false 并出现一些授权错误，我必须再次手动登录才能使其正常工作。

我没有大量邮件要发送（每天少 30 或 50 封邮件），不确定谷歌是否将我视为垃圾邮件

那么有没有什么方法可以在不登录 gmail 帐户的情况下自动发送 google 邮件，或者我每次尝试发送邮件时都必须使用 php 登录 google 帐户？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-10T09:24:50.970

我在使用 Google 时遇到问题 - 您是否有 Google 两步验证设置，如果有，您可能需要一些特定于应用程序的密码？

# objective-c - 缩进不适用于自定义 UITableViewCell

> ID：12833176
> 
> 赞同：7
> 
> 时间：2012-10-11T06:04:24.177
> 
> 标签：objective-c, ios, uitableview, indentation

我的项目中有一个简单的自定义 UITableViewCell，并且刚刚在表格中添加了一个编辑操作。一切看起来都很好，但是在编辑时缩进不起作用，并且编辑图标与内容重叠。（更不用说删除按钮了）

![缩进在自定义单元格中不起作用](../Images/f03ebcbd40d03c1269643b139146f72d.png)
自定义单元格是在界面生成器中创建的，像往常一样具有标准约束，我已经尝试过覆盖类中的 layoutSubviews 方法，正如在其他地方提到的，没有运气如下；

```
(void)layoutSubviews
{
[super layoutSubviews];
float indentPoints = self.indentationLevel * self.indentationWidth;

self.contentView.frame = CGRectMake(
                                    indentPoints,
                                    self.contentView.frame.origin.y,
                                    self.contentView.frame.size.width - indentPoints,
                                    self.contentView.frame.size.height
                                    );
} 
```

我还确认子视图实际上在 contentView 中，并且在视图和代码中一切似乎都很好。

单元格还具有以编程方式设置的缩进级别/宽度，并将掩码自动调整为自动宽度。

作为最后的手段，我可​​以以编程方式创建 UITableViewCell，但不要认为它有帮助。

根据建议，我还确保将单元格内容上的约束固定到超级视图。

![左侧固定边距](../Images/a313dad8b8c4ebb4b26973cae1a01960.png)

也没有运气在代码中手动设置 de autoResizingMasks

- 编辑：

我手动将 contentView 的背景颜色设置为黑色，发现它在编辑模式下正确缩进，即使没有覆盖“layoutSubviews”。事实上，它比它更有效。

![在此处输入图像描述](../Images/1d33aabb12fe3b063d5ba63675f4db1d.png)

但是，如您所见，内容没有缩进。最初我认为单元格（UIImage）的内容不是 contentView 的子视图，而是对子视图进行 nslogging，表明它们是。

```
NSLog(@"%@", self.contentView.subviews);

"<UIImageView: 0xa477030; frame = (23 7; 31 50); autoresize = TM+BM; userInteractionEnabled = NO; layer = <CALayer: 0xa477090>>" 
```

我完全不知道为什么这种情况一直在这里发生。一定是一些与 iOS 6 新约束相关的隐藏约束。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-11T06:50:16.907

缩进与进入编辑模式时调整内容视图不同。

你是对的，这看起来很简单，通常几乎可以直接开箱即用。通常，您唯一需要更改的是您添加到单元格的组件的自动调整大小掩码。左边的内容应该有一个固定的左边距，右边的内容应该有一个固定的右边距。

当单元格进入编辑模式时，内容视图的大小会调整为编辑附件留出空间。如果您的内容具有这些调整大小的蒙版，它将随之移动。您上面的 layoutSubviews 方法很可能通过将内容视图设置回全宽来撤消所有这一切，因为您错误地使用了缩进 - 尽管我无法从问题中的信息中确定这一点。

**更新**

这是 UITableViewCells 中的约束问题（错误？）。您可以通过在情节提要/界面构建器屏幕中选择“文件”选项卡（如果您想在其他地方使用约束，请为单元格使用独立笔尖）并取消选中“使用自动布局”，返回自动调整蒙版：

![在此处输入图像描述](../Images/4a674953b33959340ebd6cd4b4a6a7ab.png)

这会正确排列您的单元格内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:50:09.180

您可以尝试这些功能并解决它们：

```
- (void)willTransitionToState:(UITableViewCellStateMask)state {
 [super willTransitionToState:state];

 if ((state & UITableViewCellStateEditingMask) || (state & UITableViewCellStateShowingDeleteConfirmationMask)) {
  [UIView beginAnimations:nil context:NULL];
  [UIView setAnimationDuration:0.3];
  label.alpha = 0.0; 
```

// LayoutSubview 代码 [UIView commitAnimations]; } }

```
- (void)didTransitionToState:(UITableViewCellStateMask)state {
 [super didTransitionToState:state];

 if (!(state & UITableViewCellStateEditingMask) && !(state & UITableViewCellStateShowingDeleteConfirmationMask)) {
  [UIView beginAnimations:nil context:NULL];
  [UIView setAnimationDuration:0.5];
  label.alpha = 1.0;
// LayoutSubview code
  [UIView commitAnimations];
 }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-21T09:19:59.163

取消选中“使用自动布局”对我有用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-24T06:18:53.190

将 tableView 边缘插入设置为零

```
[self.tableView setSeparatorInset:UIEdgeInsetsZero]; 
```

# jquery - 网格视图大小随数据大小而变化？

> ID：12833181
> 
> 赞同：0
> 
> 时间：2012-10-11T06:04:47.417
> 
> 标签：jquery, asp.net

我正在解决这个问题以获得解决方案，

```
>  <asp:GridView ID="GridView1" runat="server" EnableViewState="False"
> BorderWidth="1"
>                     HorizontalAlign="Left" HeaderStyle-BackColor="#5c7990" CellPadding="4" ForeColor="#333333"
>                     AutoGenerateColumns="false" GridLines="None" DataKeyNames="ID" AutoGenerateDeleteButton="false"
>                     EmptyDataText="No records found" CssClass="GridView123" Width="90%" 
>                     OnRowCreated="GridView1_RowCreated">
>                     <HeaderStyle CssClass="GridHeader" />
>                     <FooterStyle CssClass="GridFooter" />
>                     <RowStyle CssClass="RowStyle" VerticalAlign="Top" Wrap="true" />
>                     <AlternatingRowStyle CssClass="AlternateRowStyle" VerticalAlign="Top" Wrap="true" />
>                     <Columns>
>                         <asp:BoundField DataField="ID" HeaderText="ID" ItemStyle-Width="20%">
>                             <ItemStyle Width="20%"></ItemStyle>
>                         </asp:BoundField>                        
>                         <asp:TemplateField HeaderText="Name" ItemStyle-Width="100%" ItemStyle-Wrap="true">
>                             <ItemTemplate>
>                                 <span id="PName<%# Eval("ID") %>">
>                                     <%# Eval("Name") %></span>
>                             </ItemTemplate>
>                             <ItemStyle Wrap="True" Width="100%"></ItemStyle>
>                         </asp:TemplateField>
> 
> </columns> 
<asp:GridView> 
```

这是我的网格视图。我的问题是 gridview 宽度随着不同的数据而变化。当列有大量数据时，它正在扩展，而当列中充满小数据时，它正在缩小。

我也将包装物应用于列

我想要一个网格视图，无论填充什么数据，它都会以唯一的大小一致地显示。

感谢你的帮助...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:06:41.960

那是因为您使用的是 % width - 请改用固定宽度。确定所需的最大宽度可能需要一些试验和错误。改为在 CSS 中设置宽度并将类应用于列。

看看这个：

[http://www.emadmokhtar.com/2012/07/add-elegant-style-to-asp-net-webforms-gridview-controls/](http://www.emadmokhtar.com/2012/07/add-elegant-style-to-asp-net-webforms-gridview-controls/)

理想情况下，如果您想要干净的标记，您应该使用不发出表格的 ListView。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:23:01.673

将宽度设置为`<asp:GridView ...`从`Width="90%"`到`Width="640"`，这使其成为 640 像素的标准宽度。

要强制文本扭曲而不增长，您还需要不必将 设置`ItemStyle-Wrap`为 true，ether 没有它，ether 将它设置为 false。

`ItemStyle-Wrap="false"`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:24:54.023

你有很多多余的宽度属性。您不需要在同一列的 BoundField 和 ItemStyle 中声明它。但是，我相信您遇到问题的原因是因为您设置了 120% 的值。

在我无数小时使用 HTML 的过程中，我发现在表格列上使用百分比宽度时，不要超过 100%，并且总是留下 1 列没有宽度。即使您将所有列加起来为 100% 宽度，我也看到表格会做一些奇怪的事情。我通常在除“主”列之外的所有列上定义宽度，并让它占据剩余的宽度。

# sql - 如何将别名添加到 group by 子句

> ID：12833182
> 
> 赞同：3
> 
> 时间：2012-10-11T06:04:50.643
> 
> 标签：sql, oracle, select, group-by

在下面的查询中，如何将别名`assignedTOiti`, `assignedTOasstAdm`, `assignedTOhlp`,添加`closedDate`到 group by 子句。

在过去的几个小时里，我一直在挣扎。

```
SELECT ieor.aper07_req_k                                  AS reqno,
       ford.apeh09_supervisor_cds_d                       AS ll6CdsID,
       'Ford Offboard Req'                                AS reqtype,
       par_val1.aper17_parameter_val_x                    AS requeststatus,
       (SELECT Min(iti2.aper07_req_created_s)
        FROM   iaper07_employee_offbrd_req iti2
        WHERE  ieor.aper07_req_k = iti2.aper07_req_k
               AND iti2.aper06_req_status_k = 4)          AS assignedTOiti,
       (SELECT Min(hlp2.aper07_req_created_s)
        FROM   iaper07_employee_offbrd_req hlp2
        WHERE  ieor.aper07_req_k = hlp2.aper07_req_k
               AND hlp2.aper06_req_status_k = 5)          AS assignedTOasstAdm,
       (SELECT Min(asst2.aper07_req_created_s)
        FROM   iaper07_employee_offbrd_req asst2
        WHERE  ieor.aper07_req_k = asst2.aper07_req_k
               AND asst2.aper06_req_status_k = 12)        AS assignedTOhlp,
       (SELECT Min(clsd2.aper07_req_created_s)
        FROM   iaper07_employee_offbrd_req clsd2
        WHERE  ieor.aper07_req_k = clsd2.aper07_req_k
               AND clsd2.aper06_req_status_k IN ( 3, 9 )) AS closedDate,
       ieor.aper07_assigned_to_cds_d,
       ieor.aper07_comment_x,
       ieor.aper07_last_updt_user_c,
       ieor.aper07_last_updt_s                            AS last,
       ieor.apeh09_employee_k,
       ieor.aper06_req_status_k,
       ipw.apeh04_first_n,
       ipw.apeh04_cds_d,
       ipw.apeh04_last_n,
       ipw.apeh04_person_type_c,
       irs.aper06_req_status_x,
       offr.aper15_offboard_reason_x                      AS offboardReason,
       Min(aper07_req_created_s)                          AS creationDate
FROM   iaper07_employee_offbrd_req ieor,
       iapeh05_person_vw ipw,
       iapeh09_ford_employee ford,
       iaper06_req_status irs,
       iaper15_offbrd_req_reason offr,
       iaper17_parameter_values par_val1
WHERE  ford.apeh09_cds_d = ipw.apeh04_cds_d
       AND ieor.apeh09_employee_k = ipw.apeh04_visitor_k
       AND irs.aper06_req_status_k = ieor.aper06_req_status_k
       AND offr.aper15_offboard_reason_k = ieor.aper15_offboard_reason_k
       AND ieor.aper06_req_status_k = par_val1.aper17_parameter_val_r
       AND ipw.apeh22_region_k = 1
       AND ieor.aper07_last_updt_s = (SELECT Max(aper07_last_updt_s)
                                      FROM   iaper07_employee_offbrd_req b
                                      WHERE  ieor.aper07_req_k = b.aper07_req_k)
       AND ieor.aper07_req_k = 3387
GROUP  BY ieor.aper07_req_k,
          ford.apeh09_supervisor_cds_d,
          ieor.aper07_assigned_to_cds_d,
          ieor.aper07_comment_x,
          ieor.aper07_last_updt_user_c,
          ieor.aper07_last_updt_s,
          ieor.apeh09_employee_k,
          ieor.aper06_req_status_k,
          ipw.apeh04_first_n,
          ipw.apeh04_cds_d,
          ipw.apeh04_last_n,
          ipw.apeh04_person_type_c,
          irs.aper06_req_status_x,
          par_val1.aper17_parameter_val_x,
          offr.aper15_offboard_reason_x
HAVING ipw.apeh04_person_type_c NOT IN( 'c', 'C' ) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T06:35:01.813

你不能这样做。别名只能在当前别名的选择中使用。

您的问题有两种解决方案：

```
select a+b as newcol
from table
group by a+b; 
```

或者

```
select newcol
from
   (select a+b as newcol
     from table)
group by newcol; 
```

对于您的查询，我建议这样做：

```
select 
  reqno,
  ll6CdsID,
  reqtype,
  requeststatus,
  assignedTOiti,
  assignedTOasstAdm,
  assignedTOhlp,
  closedDate,
  aper07_assigned_to_cds_d,
  aper07_comment_x,
  aper07_last_updt_user_c,
  last,
  apeh09_employee_k,
  aper06_req_status_k,
  apeh04_first_n,
  apeh04_cds_d,
  apeh04_last_n,
  apeh04_person_type_c,
  aper06_req_status_x,
  offboardReason,
  Min(creationDate) AS creationDate
FROM

    (SELECT ieor.aper07_req_k                              AS reqno,
           ford.apeh09_supervisor_cds_d                   AS ll6CdsID,
           'Ford Offboard Req'                            AS reqtype,
           par_val1.aper17_parameter_val_x                AS requeststatus,
           (SELECT Min(iti2.aper07_req_created_s)
            FROM   iaper07_employee_offbrd_req iti2
            WHERE  ieor.aper07_req_k = iti2.aper07_req_k
                   AND iti2.aper06_req_status_k = 4)      AS assignedTOiti,
           (SELECT Min(hlp2.aper07_req_created_s)
            FROM   iaper07_employee_offbrd_req hlp2
            WHERE  ieor.aper07_req_k = hlp2.aper07_req_k
                   AND hlp2.aper06_req_status_k = 5)      AS assignedTOasstAdm,
           (SELECT Min(asst2.aper07_req_created_s)
            FROM   iaper07_employee_offbrd_req asst2
            WHERE  ieor.aper07_req_k = asst2.aper07_req_k
                   AND asst2.aper06_req_status_k = 12)    AS assignedTOhlp,
           (SELECT Min(clsd2.aper07_req_created_s)
            FROM   iaper07_employee_offbrd_req clsd2
            WHERE  ieor.aper07_req_k = clsd2.aper07_req_k
                   AND clsd2.aper06_req_status_k IN ( 3, 9 )) AS closedDate,
           ieor.aper07_assigned_to_cds_d,
           ieor.aper07_comment_x,
           ieor.aper07_last_updt_user_c,
           ieor.aper07_last_updt_s                            AS last,
           ieor.apeh09_employee_k,
           ieor.aper06_req_status_k,
           ipw.apeh04_first_n,
           ipw.apeh04_cds_d,
           ipw.apeh04_last_n,
           ipw.apeh04_person_type_c,
           irs.aper06_req_status_x,
           offr.aper15_offboard_reason_x                      AS offboardReason,
           aper07_req_created_s                          AS creationDate
    FROM   iaper07_employee_offbrd_req ieor,
           iapeh05_person_vw ipw,
           iapeh09_ford_employee ford,
           iaper06_req_status irs,
           iaper15_offbrd_req_reason offr,
           iaper17_parameter_values par_val1
    WHERE  ford.apeh09_cds_d = ipw.apeh04_cds_d
           AND ieor.apeh09_employee_k = ipw.apeh04_visitor_k
           AND irs.aper06_req_status_k = ieor.aper06_req_status_k
           AND offr.aper15_offboard_reason_k = ieor.aper15_offboard_reason_k
           AND ieor.aper06_req_status_k = par_val1.aper17_parameter_val_r
           AND ipw.apeh22_region_k = 1
           AND ieor.aper07_last_updt_s = (SELECT Max(aper07_last_updt_s)
                                          FROM   iaper07_employee_offbrd_req b
                                          WHERE  ieor.aper07_req_k = b.aper07_req_k)
           AND ieor.aper07_req_k = 3387
    )
WHERE apeh04_person_type_c NOT IN( 'c', 'C' )
GROUP  BY   reqno,
  ll6CdsID,
  reqtype,
  requeststatus,
  assignedTOiti,
  assignedTOasstAdm,
  assignedTOhlp,
  closedDate,
  aper07_assigned_to_cds_d,
  aper07_comment_x,
  aper07_last_updt_user_c,
  last,
  apeh09_employee_k,
  aper06_req_status_k,
  apeh04_first_n,
  apeh04_cds_d,
  apeh04_last_n,
  apeh04_person_type_c,
  aper06_req_status_x,
  offboardReason 
```

我将have子句移到了WHERE子句中，尽管它可以放在内部select to WHERE子句中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T06:32:13.280

group by 子句在 SELECT 显示所选列之前对数据进行分组。在这个阶段，select 子句中的别名没有定义，因此您不能在 GROUP BY 中使用它们。

丑陋的解决方法是用正在使用的实际语句/函数替换别名。

# android - Android进度对话框消息中的两种颜色文本

> ID：12833183
> 
> 赞同：3
> 
> 时间：2012-10-11T06:04:54.960
> 
> 标签：android, textview, progressdialog

我有一个进度对话框，我想显示如下文本消息

1.  下载
2.  解压

我可以用绿色显示“1\. 正在下载”，用红色显示“2\. 解压缩”吗？我的代码在哪里

```
mProgressDialog.setMessage("1\. Downloading \n 2\. Decompressing"); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T06:06:22.320

看看这段代码。

```
final SpannableStringBuilder sb = new SpannableStringBuilder("your text here");
   final ForegroundColorSpan fcs = new ForegroundColorSpan(Color.rgb(158, 158, 158)); 

   // Span to set text color to some RGB value
   final StyleSpan bss = new StyleSpan(android.graphics.Typeface.BOLD); 

   // Span to make text bold
   sb.setSpan(fcs, 0, 4, Spannable.SPAN_INCLUSIVE_INCLUSIVE); 

   // Set the text color for first 4 characters
   sb.setSpan(bss, 0, 4, Spannable.SPAN_INCLUSIVE_INCLUSIVE); 

   // make them also bold
   yourTextView.setText(sb); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-11T06:13:46.733

我认为您可以在设置消息中使用 HTML - 它适用于警报和文本视图 - 我没有尝试过进度对话框但尝试一下。为了给你一个想法这里有一些代码 - 只需修改它以满足您的要求

基本上

在你的 strings.xml

```
 <string name="downloading"><![CDATA[<font color="green">1.Downloading</font><br/>]]></string>
 <string name="decompressing"><![CDATA[<font color="red">2.Decompressing</font><br/>]]></string> 
```

并打电话

```
mProgressDialog.setMessage(Html.fromHtml(getString(R.string.downloading))+""+ Html.fromHtml(getString(R.string.decompressing))); 
```

# ruby - 纯文本表格数据组织

> ID：12833184
> 
> 赞同：0
> 
> 时间：2012-10-11T06:04:59.667
> 
> 标签：ruby, web-scraping, screen-scraping, plaintext

我有一个像[这样](https://gist.github.com/3870457)的纯文本表。我需要对结果行进行分组，以便数据在各自的列中一起出现。

我可以在一个空格上拆分字符串（一行），然后我会得到一个数组，如：

`["2", "1/47", "M4044", "25:03*", "856", "12:22", "12:41", "17.52", "Some", "Name", "Yo", "Prairie", "Inn", "Harriers", "Runni", "25:03"]`

我也可以分成两个空格，这让我很接近，但仍然不一致，正如您在名称中看到的那样：

`["2", " 1/47", "M4044", " 25:03*", "856", " 12:22", " 12:41", "17.52 Some Name Yo", "", "", "", "", "", "", "Prairie Inn Harriers Runni", " 25:03 "]`

我可以指定要加入的索引，但我可能需要像这样抓取数千个文件，并且列并不总是以相同的顺序排列。

一个常量是列数据永远不会长于列名和数据之间的分隔符（the `====`）。我试图利用这一点来发挥自己的优势，但发现了一些漏洞。

我需要编写一个算法来检测名称列中保留的内容以及其他“单词”列中保留的内容。有什么想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T06:54:06.990

首先我们设置问题：

```
data = <<EOF
Place Div/Tot Div   Guntime  PerF 1sthalf 2ndhalf 100m   Name                      Club                       Nettime 
===== ======= ===== =======  ==== ======= ======= ====== ========================= ========================== ======= 
    1   1/24  M3034   24:46   866   12:11   12:35  15.88 Andy Bas                  Prairie Inn Harriers         24:46 
    2   1/47  M4044   25:03*  856   12:22   12:41  17.52 Some Name Yo              Prairie Inn Harriers Runni   25:03 
EOF
lines = data.split "\n" 
```

我喜欢为 String#unpack 创建一个格式字符串：

```
format = lines[1].scan(/(=+)(\s+)/).map{|f, s| "A#{f.size}" + 'x' * s.size}.join
#=> A5xA7xA5xA7xxA4xA7xA7xA6xA25xA26xA7x 
```

剩下的很简单：

```
headers = lines[0].unpack format
lines[2..-1].each do |line|
  puts Hash[headers.zip line.unpack(format).map(&:strip)]
end
#=> {"Place"=>"1", "Div/Tot"=>"1/24", "Div"=>"M3034", "Guntime"=>"24:46", "PerF"=>"866", "1sthalf"=>"12:11", "2ndhalf"=>"12:35", "100m"=>"15.88", "Name"=>"Andy Bas", "Club"=>"Prairie Inn Harriers", "Nettime"=>"24:46"}
#=> {"Place"=>"2", "Div/Tot"=>"1/47", "Div"=>"M4044", "Guntime"=>"25:03", "PerF"=>"856", "1sthalf"=>"12:22", "2ndhalf"=>"12:41", "100m"=>"17.52", "Name"=>"Some Name Yo", "Club"=>"Prairie Inn Harriers Runni", "Nettime"=>"25:03"} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T06:24:41.443

这应该工作

```
divider = "===== ======= ===== =======  ==== ======= ======= ====== ========================= ========================== ======="
str     = "    1   1/24  M3034   24:46   866   12:11   12:35  15.88 Andy Bas                  Prairie Inn Harriers         24:46"

divider.split(/\s+/).each {|delimiter| puts str.slice!(0..delimiter.size).strip } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:06:15.757

这是一个可行的解决方案（基于您给定的文件-但我猜应该推广到这种形式的所有文件）：

```
#!/usr/bin/env ruby

FILE = 'gistfile1.txt'

f = File.new(FILE,'r')

l = f.gets #read first line (which contains the headers)

#parse for the columns: header text, where they start,stop & len
headers = l.scan(/(\S+\W+)/).each.map{|s| [s.join, l.index(s.join), s.join.length]}.map{|a| {:head=>a[0].strip,:start=>a[1],:end=>a[1]+a[2],:len=>a[2]}}

f.gets #to skip past the header-data separator line

records = []

while( l = f.gets)
    record = {}
    headers.each{|h|
        record[h[:head]] = l[h[:start]...h[:end]].strip
        print "#{h[:head]} => #{record[h[:head]]}\n"
    }   
    print "*" * l.length,"\n"
    records << record
end

#records contains each record, with each column header mapped onto the respective data record 
```

对于演示，我在进行过程中回显记录：

```
Place => 1
Div/Tot => 1/24
Div => M3034
Guntime => 24:46
PerF => 866
1sthalf => 12:11
2ndhalf => 12:35
100m => 15.88
Name => Andy Bas
Club => Prairie Inn Harriers
Nettime => 24:46
***********************************************************************************************************************
Place => 2
Div/Tot => 1/47
Div => M4044
Guntime => 25:03*
PerF => 856
1sthalf => 12:22
2ndhalf => 12:41
100m => 17.52
Name => Some Name Yo
Club => Prairie Inn Harriers Runni
Nettime => 25:03
********************************************************************************************************************** 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T09:28:07.700

```
header, format, *data = plain_text_table.split($/)
h = {}
format.scan(/=+/) do
  range = $~.begin(0)..$~.end(0)
  h[header[range].strip] = data.map{|s| s[range].strip}
end

h # => {
  "Place" => ["1", "2"],
  "Div/Tot" => ["1/24", "1/47"],
  "Div" => ["M3034", "M4044"],
  "Guntime" => ["24:46", "25:03*"],
  "PerF" => ["866", "856"],
  "1sthalf" => ["12:11", "12:22"],
  "2ndhalf" => ["12:35", "12:41"],
  "100m" => ["15.88", "17.52"],
  "Name" => ["Andy Bas", "Some Name Yo"],
  "Club" => ["Prairie Inn Harriers", "Prairie Inn Harriers Runni"],
  "Nettime" => ["24:46", "25:03"]
} 
```

# objective-c - IOS6.0 UIWebView方案电话：

> ID：12833186
> 
> 赞同：3
> 
> 时间：2012-10-11T06:05:05.887
> 
> 标签：objective-c, ios

我发现和`UIWebview`之间有一个变化`IOS 5.0``IOS 6.0`

如果您`[UIWebview loadRequest]`为 Callout 使用一个数字并给出一个 url 字符串，例如 `@"tel://02-1234567,123"`.

它工作正常`IOS5.0`但不是`IOS 6.0`

我尝试覆盖此功能

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType 
```

我发现我的请求字符串变成了`"file://tel://02-1234567,123"`.

我得到的计划`@"file://"`不是`@"tel://"`，我不能打电话。

如果我只是使用没有扩展名的数字`@"tel://02-1234567"`，它工作正常。

由于某些原因我不能说，我不能使用`[UIApplication sharedApplication]`OpenUrl 拨打电话。

有没有人有同样的问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T13:06:43.523

您的 URI 不正确。正确的是“电话：1234567890”。[请参阅 RFC3966](https://www.rfc-editor.org/rfc/rfc3966)。另外，请查看[Apple 文档](http://developer.apple.com/library/ios/featuredarticles/iPhoneURLScheme_Reference/Articles/PhoneLinks.html)。

# javascript - 使用单次击键从 Vim 中的 HTML 文件跳转到 CSS 文件中的 CSS 选择器

> ID：12833189
> 
> 赞同：6
> 
> 时间：2012-10-11T06:05:40.070
> 
> 标签：javascript, html, css, vim, ide

[请注意：在 VIM 中编辑 HTML 时，](https://stackoverflow.com/questions/10532019/jump-to-css-definition-when-editing-html-in-vim)我已经通过此链接跳转到 CSS 定义，但它对我没有帮助。

我希望跳转到 CSS 定义或 html 文件中的 javascript 函数。我很想在单词下方点击一个组合键来跳转到它的定义，而不仅仅是定义所在的文件。

我目前需要在打开的缓冲区中搜索单词，然后到达所需缓冲区中的所有搜索结果。这非常耗时。

请帮我解决这个非常常规的要求。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T08:23:59.080

这个快速而肮脏的函数似乎对 *.html -> *.css 有用：

```
function! JumpToCSS()
  let id_pos = searchpos("id", "nb", line('.'))[1]
  let class_pos = searchpos("class", "nb", line('.'))[1]

  if class_pos > 0 || id_pos > 0
    if class_pos < id_pos
      execute ":vim '#".expand('<cword>')."' **/*.css"
    elseif class_pos > id_pos
      execute ":vim '.".expand('<cword>')."' **/*.css"
    endif
  endif
endfunction

nnoremap <F9> :call JumpToCSS()<CR> 
```

*   **测试.html**

    ```
    <html>
      <body>
        <div class="foo" id="bar">lorem</div>
        <div id="bar" class="foo">ipsum</div>
        <div id="bar">dolor</div>
        <div class="foo">sit</div>
      </body>
    </html> 
    ```

*   **foo/foo.css**

    ```
    .foo {
      background-color: red;
    } 
    ```

*   **酒吧/酒吧.css**

    ```
    #bar {
      border-color: gold;
    } 
    ```

将光标放在 中的任何值`foo`或`bar`属性值上`test.html`，点击`<F9>`跳转到正确文件中的正确定义。可以修改该功能以拆分打开目标文件，仅搜索链接的样式表......或者被 ZyX 完全嘲笑和破坏;-)。

***编辑***

一些额外的指针：

*   `:help iskeyword`使此函数与破折号连接的名称一起使用
*   `:help expand()`
*   `:help searchpos()`以及`:help search()`论点的含义
*   `:help starstar`使用`**`通配符

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-16T22:09:14.740

我认为这应该是一个单独的答案，所以在那里。

您可以添加 CSS 支持`ctags`并使用它来跳转到定义，就像您为 JavaScript 所做的那样。就像在文件中添加以下行一样简单`~/.ctags`：

```
--langdef=css
--langmap=css:.css
--regex-css=/^[ \t]*\.([A-Za-z0-9_-]+)/.\1/c,class,classes/
--regex-css=/^[ \t]*#([A-Za-z0-9_-]+)/#\1/i,id,ids/
--regex-css=/^[ \t]*(([A-Za-z0-9_-]+[ \t\n,]+)+)\{/\1/t,tag,tags/
--regex-css=/^[ \t]*@media\s+([A-Za-z0-9_-]+)/\1/m,media,medias/ 
```

完成后，clasic`:!ctags -R .`将正确索引您的 CSS 文件，您将能够`:tag .myClass`跳转到正确 CSS 文件中的正确 CSS 定义。

不过，有一个问题。ids标签将包含的类`.`将不会起作用。最简单的解决方案是使用“regexp search”而不是“whole tag search” ：。`#``:tag myClass``:tag .myClass``:tag /myClass`

这两个映射完美无缺（对于 JS 有一段时间，对于 CSS 有几天）：

```
" alternative to <C-]>
" place your cursor on an id or class and hit <leader>]
" to jump to the definition
nnoremap <leader>] :tag /<c-r>=expand('<cword>')<cr><cr>

" alternative to <C-w>}
" place your cursor on an id or class and hit <leader>}
" to show a preview of the definition. This doesn't seem to be
" very useful for CSS but it rocks for JavaScript 
nnoremap <leader>} :ptag /<c-r>=expand('<cword>')<cr><cr> 
```

# tridion - 组件中的更改没有反映在带有动态组件模板的页面中

> ID：12833190
> 
> 赞同：1
> 
> 时间：2012-10-11T06:05:52.587
> 
> 标签：tridion, tridion-2011, tridion-content-delivery

我创建了一个组件模板，并将此组件模板设为动态。我已经检查了“使用动态装配在页面上允许”。输出类型为“HTML 片段”。

然后我发布了组件和组件模板。

我创建了一个页面并将组件及其组件模板添加到页面。页面的输出是aspx。

Page TBB 是这样的。

```
 <!-- TemplateBeginRepeat name="Components" -->
             @@RenderComponentPresentation()@@
    <!-- TemplateEndRepeat --> 
```

我发布了页面。我发布的页面存储在本地位置 C:\Temp。

我通过visual studio打开页面，通过IE浏览页面。

然后我对组件进行了更改并发布了它。更改未反映在已发布的页面中。由于 CT 是动态的，因此更改应自动反映在页面中。

但它没有反映。

我错过了任何步骤吗？

**编辑**

我找不到

```
<tridion:ComponentPresentation runat="server" etc .../> 
```

我是否需要在任何配置文件中进行任何设置。

谁能告诉我这背后的原因？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:24:44.467

首先，您现在可以找到您的动态组件演示吗？因为你昨天遇到了一些问题。

还要首先验证您对 DCP 的更改，并按照@DavidForster 的建议检查它们是否发布到同一出版物。

希望这一切对你有所帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T06:11:31.190

参考 url [如何在 tridion 页面中包含动态组件展示？](https://stackoverflow.com/questions/12799509/how-to-include-dynamic-component-presentation-in-the-tridion-page/12799717#12799717)验证您的方法。在此之后，如果您有任何进一步的帮助，请告诉我们。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T09:24:00.400

检查您的发布目标的语言是否未设置为“无”。“无”设置将强制发布者在页面中嵌入 DCP，并阻止它们被动态包含。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T07:37:20.100

您需要检查`<tridion:componentpresentation>`您的页面源上是否有已建议的标签。但请确保您直接检查文件源，**而不是浏览器上的视图/页面源，**因为此标记将已呈现。

如果您在来源中找不到它，您在寻找什么？渲染的组件展示？如果是这种情况，您的页面不会将组件表示作为 DCP 检索。

是不是您在使 CT 动态化之前发布了您的页面？如果是这种情况，您需要重新发布该页面。

# php - 获取给定两个mysql时隙之间的几次时隙计数

> ID：12833191
> 
> 赞同：2
> 
> 时间：2012-10-11T06:05:52.757
> 
> 标签：php, mysql

我有几个输入数据和过期mysql“日期时间”值。我需要返回给定时间段的总计数。

前任：

```
In time                Out Time
2012-02-02 10:00       2012-02-02 12:00
2012-02-02 09:00       2012-02-02 14:00
2012-02-02 10:00       2012-02-02 11:00 
```

我需要从**2012-02-02 10:00**到**2012-02-02 11:00总计为*****3***

 ***** * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:13:21.180

我假设您希望该期间的任何部分落在您的搜索日期期间内或“重叠”的项目`In time`数`Out time`。

首先，让我们彻底检查日期中的“重叠”意味着什么。重叠是以下任何一种情况：

```
                 开始 1 结束 1
-------------------------------------------------- -------------------------------------------
 开始 2 结束 2
 开始 2 结束 2
                             开始 2 结束 2

```

并且不是以下任何一种情况：

```
                 开始 1 结束 1
-------------------------------------------------- -------------------------------------------
 开始 2 结束 2
                                                      开始 2 结束 2

```

如果你仔细看，你会注意到`Start2 < End1 AND End2 > Start1`定义了这个关系，所以这将成为你的`WHERE`子句。

* * *

因此，您应该尝试以下方法：

```
SELECT COUNT(*)
FROM myTable
WHERE '2012-02-02 10:00:00' <= `Out Time`
AND '2012-02-02 11:00:00' >= `In Time` 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T06:13:25.497

写这个查询

```
select count(*) from table name where `In time` <= '2012-02-02 10:00' and `Out Time` >= '2012-02-02 11:00' 
```

它会给你数 3****

# magento - 如何为 Magento go 编写和发布扩展？

> ID：12833198
> 
> 赞同：1
> 
> 时间：2012-10-11T06:06:43.707
> 
> 标签：magento, magento-go

我想写一个与 Magento Go 兼容的扩展...

关于 Magento Go 在开发方面有什么特别要了解的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T15:49:35.093

Magento 团队应审查您的模块。在此处查看更多信息 -[受信任的 Magento 扩展](http://www.magentocommerce.com/magento-connect/trusted_extension/)。

# iphone - 标签出现在错误的位置

> ID：12833199
> 
> 赞同：0
> 
> 时间：2012-10-11T06:06:56.203
> 
> 标签：iphone, uilabel, ios6, xib

我在 ViewController 的 xib 中添加了许多 UILabel。有些是静态的，有些我已经连接到数据。例如，我有一个根据输入更新的地址字段。不过，就在它旁边是另一个标签，上面写着“地址：”。

这是奇怪的部分：在添加标签的中途，当我构建和运行程序时，我添加出口的标签开始跳到屏幕的一半。此外，那些没有跳到屏幕上的（包括前 3 个出口的标签）被向下推，好像为放错位置的标签腾出空间。如果我添加新标签，它们会保持原样，但如果我将它们输出，它们就会与其他标签一起跳起来......

有人有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:43:56.023

虽然您的问题并不容易理解，但根据我的理解，我可以说的是......这些标签的超级视图正在为其子视图设置布局，或者......最好在 xib 本身中将 autoResizingMask 设置为 NONE 。

希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:27:40.250

您需要设置 autoResizingMark。

# node.js - 通知服务器与 node.js 的协议比较

> ID：12833200
> 
> 赞同：0
> 
> 时间：2012-10-11T06:07:00.837
> 
> 标签：node.js, push-notification

我想使用 node.js 实现推送通知服务器。基本场景是：

1.  一些应用程序向服务器发送通知消息。
2.  通知服务器接收请求并根据用户的偏好将消息转发到用户的邮件或即时消息客户端。

在第 1 步中，您会从性能角度推荐哪种协议（例如 REST、套接字、HTTP/XML 等）？

同样在第 2 步中，我计划将 node-xmpp 模块用于 IM 客户端，但用于邮件，哪种方式最好实施？例如，

1.  只需使用 SMTP。（但我认为这可能会导致性能下降，因为 SMTP 是一种昂贵的通信，性能取决于 SMTP 服务器的容量。
2.  使用队列机制，以避免上述弊端。node.js 应用程序只是将消息放入队列，然后 smtp 服务器拉取消息。
3.  其他解决方案...

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T04:47:11.257

关于使用什么作为协议，我会选择一个 REST 接口，通过该接口，应用程序发布将 POST 请求发送到与用户关联的资源。类似于“http://example.com/rest/v1/{userID}/notifications

我个人会使用 json 作为其余请求的数据/内容，并让 node.js 将此信息写入消息队列。（作为 json 字符串）。

您可以为每个用户拥有 xmpp 阅读器，以及 SMTP 处理程序从该队列中读取的速度与 SMTP 服务器允许的速度一样快。

然而，这篇完整的帖子是我在你的情况下会做的，而不是对什么是最好的事实回应。我非常了解 JMS，并且最近我一直在使用其他接口，因此这就是我会做的方式。

# javascript - 通过javascript创建文件

> ID：12833203
> 
> 赞同：1
> 
> 时间：2012-10-11T06:07:03.737
> 
> 标签：javascript, xml

我正在尝试用 javascript 创建一个文件，但它没有保存在根目录中。制作文件时，我写的句子必须存储在文件中。或从文本框中加载句子对我来说也很好。谁能给我帮助？？

```
function createFile() {
var fso = new ActiveXObject('Scripting.FileSystemObject');
var fileObj = fso.CreateTextFile("G:\\soonrok.txt", true);
fileObj.WriteLine("Hello, I am Soonrok!!!"); 
```

}

```
<td>
    <input type="button" value="save" onClick="createFile()"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:11:30.470

你能用 JavaScript 做的最好的事情就是创建一个 cookie。

*   [http://www.w3schools.com/js/js_cookies.asp](http://www.w3schools.com/js/js_cookies.asp)

或者你可以做一些只适用于带有 ActiveX的*IE的事情。*

或者查看来自@AurA 的链接，了解*仅限 Chrome*的技巧和/或从服务器下载文件的方法。

# search-engine - 如何防止蜘蛛/搜索引擎关注“报告为攻击性内容”链接

> ID：12833206
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:07:18.700
> 
> 标签：search-engine, web-crawler, robots.txt

我有一个 Rails 应用程序。在我的评论部分，我在网站的某些（文章）页面上报告了攻击性内容的链接。我想通过搜索引擎获得拥挤的文章，但不是特定的链接`report as offensive content`。

所以，简而言之，我的问题是 - 如何防止蜘蛛/搜索引擎关注我网站的“报告为攻击性内容”链接？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:09:26.697

您可以指定网络爬虫不使用`robots.txt`文件爬取的链接。

在此处了解更多信息：

[http://www.robotstxt.org/](http://www.robotstxt.org/)

这是一个例子。`robots.txt`在您的应用程序的最顶层目录中创建一个，以便您的 domain.com/robots.txt 可以访问它。

```
User-agent: *
Disallow: /offensive 
```

这说明对于每个用户代理，忽略`/offensive`url。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T06:50:43.200

我找到了一个答案

优点： - 它很容易。就一行

```
<a href="mypage.html" rel="nofollow" /> 
```

但缺点：-

我们的测试表明，一些搜索引擎会抓取和索引 nofollow 链接。nofollow 标签可能会降低链接提供的排名值，但它不能可靠地用于阻止搜索引擎跟踪链接。

# spring - spring MVC 3.0中simpleFormcontroller的工作流程

> ID：12833207
> 
> 赞同：6
> 
> 时间：2012-10-11T06:07:23.327
> 
> 标签：spring, spring-mvc, controller

我看过很多关于如何`simpleFormcontroller`工作的例子。

但我还是有些困惑。

我想知道何时调用`formBackingObject()`方法？`referenceData()``onSubmit()`

我不知道这些方法的确切工作流程？

谁能解释我？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-09-01T07:35:50.210

工作流程如下，由`AbstractFormController`类控制-

> 1.  控制器接收到新表单的请求（通常是**GET**）。
> 2.  调用**formBackingObject()**默认情况下，返回已配置的**commandClass**的实例（请参阅超类公开的属性），但也可以被覆盖以例如从数据库中检索对象（需要使用表单进行修改） ）。
> 3.  调用**initBinder()**允许您为命令类的某些字段（通常是非原始或非字符串类型的属性）注册自定义编辑器。这将为这些属性值呈现适当的字符串，例如特定于语言环境的日期字符串。
> 4.  仅当 bindOnNewForm 设置为 true 时，才会应用 ServletRequestDataBinder 以使用初始请求参数填充新表单对象，并**调用 onBindOnNewForm(HttpServletRequest, Object, BindException)**回调方法。注意：此时不应用任何定义的验证器，以允许部分绑定。但是请注意，通过**initBinder()应用的任何 Binder 自定义**（例如 DataBinder.setRequiredFields(String[]) 仍然适用。因此，如果使用 bindOnNewForm=true 和 initBinder() 自定义来验证字段而不是使用验证器，则在仅填充某些字段的情况下在新表单中，errors 对象中缺少字段可能会出现一些绑定错误。任何显示绑定错误的视图（JSP 等）都需要智能，对于这种情况，请考虑它是显示初始表单视图还是后续发布结果，跳过错误显示为前者。
> 5.  调用**showForm()**以返回应呈现的视图（通常是呈现表单的视图）。该方法必须在子类中实现。
> 6.  showForm **()**实现将调用**referenceData()**，您可以实现它以提供您在编辑表单时可能需要的任何相关参考数据（例如，您将让用户从中选择一个的 Locale 对象列表）。
> 7.  模型被暴露，视图被渲染，让用户填写表格。
> 8.  控制器接收表单提交（通常是 POST）。要使用不同的方式检测表单提交，请覆盖**isFormSubmission**方法。
> 9.  如果**sessionForm**未设置，则调用**formBackingObject()**来检索表单对象。否则，控制器会尝试查找已经绑定在会话中的命令对象。如果它找不到对象，它会调用**handleInvalidSubmit** - 默认情况下 - 尝试创建一个新的表单对象并重新提交表单。
> 10.  **ServletRequestDataBinder**被应用于使用当前请求参数填充表单对象。
> 11.  调用**onBind(HttpServletRequest, Object, Errors)**允许您在绑定之后但在验证之前进行自定义处理（例如，手动将请求参数绑定到 bean 属性，以供验证器查看）。
> 12.  如果设置了 validateOnBinding，则将调用已注册的 Validator。Validator 将检查表单对象的属性，并通过给定的 Errors 对象注册相应的错误。
> 13.  调用**onBindAndValidate()**允许您在绑定和验证之后进行自定义处理（例如手动绑定请求参数，并在验证器之外验证它们）。
> 14.  调用**processFormSubmission()**来处理提交，无论是否有绑定错误。该方法必须在子类中实现。

[资源](http://docs.spring.io/spring/docs/2.5.x/api/org/springframework/web/servlet/mvc/AbstractFormController.html#workflow)

有关更多详细信息和图表表示以了解流程，您可以参考以下链接 -

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-11T07:32:51.863

`SimpleFormController`自 Spring 3.0 起已弃用

在 Spring 3.0 中，使用一个控制器和两种方法用于创建过程（第三种方法用于显示页面）。它典型的样子是这样的：

```
/**
 * Shows a form for car creation.
 */
@RequestMapping(params = "form", method = RequestMethod.GET)
public ModelAndView createForm() {
    ModelMap uiModel = new ModelMap();
    uiModel.addAttribute("carCreateFormBackingObject", new CarCreateFormBackingObject()); //formBackingObject - often called command object
    uiModel.addAttribute("manufactureres", this.manufactureresDao.readAll()); //referenceData
    return new ModelAndView("car/create", uiModel);
}

/**
 * Creates the car and redirects to its detail page.
 *
 */
@RequestMapping(method = RequestMethod.POST)
public ModelAndView create(final @Valid CarCreateFormBackingObject carCreateFormBackingObject,
        final BindingResult bindingResult) {

    if (bindingResult.hasErrors()) {
                ModelMap uiModel = new ModelMap();
        uiModel.addAttribute("carCreateFormBackingObject", carCreateFormBackingObject);
        uiModel.addAttribute("manufactureres", this.manufactureresDao.readAll()); //referenceData
        return new ModelAndView("car/create", uiModel);
    }

    Car car = this.carService.create(carCreateFormBackingObject.name, ...);
    return new ModelAndView(new RedirectView("/cars/" + car.getId(), true)); //redirect to show page
} 
```

* * *

**我仍然想知道 formBackingObject(),refernceData() 方法由谁以及何时自动调用？**

回到您的问题“我仍然想知道 formBackingObject(),refernceData() 方法由谁以及何时自动调用？”

`SimpleFormController`所有这些方法都由（及其超类）调用`AbstractFormController`，遵循模板方法模式。-`SimpleFormController`在此流程的某些挂钩中定义流程和您的具体子类“插件”以获得业务价值。

*   `formBackingObject``AbstractFormController`当控制器需要处理提交 (POST) 或为初始“新”视图构建 Command 对象时调用。

*   `referenceData`总是`AbstractFormController`在需要为视图构建模型时调用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T06:53:37.660

**formBackingObject()**方法，当你想在渲染页面之前采取一些行动时使用。即类似于 HTML 组件中的默认值。

**refereceData()**方法，用于在表单中添加参考数据，即填充下拉列表

**OnSubmit()**方法，在您提交表单时调用。

但是，如果您使用的是 Spring 3.0，请按照以下方法使用注释

```
@RequestMapping(value = "/index.htm", method = RequestMethod.GET)
public String showLogin() {
    return "user/login";
} 
```

这将与 formBackingObject 相同。并在此方法中使用 modelMap() 并添加参考数据。

以与方法 = POST 相同的方式添加方法，这将与 OnSubmit() 相同

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-11T07:11:29.643

rfe 链接

[http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/web/servlet/mvc/SimpleFormController.html](http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/web/servlet/mvc/SimpleFormController.html)

阅读工作流程..您可以简单地理解您的疑问..

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-02-07T04:55:02.803

FormBackingObjectMethod()---> @RequestMapping(requestMethod.GET) while first time form shown to the screen formBackingObject is the reason

initBinder()---> normally used for suppose you want date field should be for example (custom date example : dd**MM***yyyy) needed means use initBinder method

onSubmit() -->@RequestMapping(requestMethod.POST) while submitting the form onSubmit() method get called

i hope this helps

# java - java Runtime.exec 运行 shell 脚本

> ID：12833208
> 
> 赞同：2
> 
> 时间：2012-10-11T06:07:40.260
> 
> 标签：java, shell, runtime.exec

我正在使用 Runtime.getRuntime().exec() 从 java 代码运行 shell 脚本。当我将参数作为字符串传递时，代码工作正常

```
 Runtime.getRuntime().exec("sh test.sh") 
```

由于我必须传递额外的参数，这些参数是带空格的路径，所以我用字符串数组替换了字符串。

```
 String[] cmd = {"sh test.sh", "/Path/to my/resource file"};
      Runtime.getRuntime().exec(cmd) 
```

我也试过

```
 String[] cmd = {"sh test.sh"};
      Runtime.getRuntime().exec(cmd) 
```

但他们都没有工作。它的抛出异常

```
 java.io.IOException: Cannot run program "sh test.sh":
   java.io.IOException: error=2, No such file or directory 
```

为什么当作为字符串传递时相同的脚本文件有效并且与字符串数组一起使用时会引发异常。有没有人遇到过这个问题。请帮助我使用字符串数组作为 Runtime.exec() 的参数来完成这项工作。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T06:10:01.550

第一个字符串成为命令。没有要执行的文件“sh test.sh”。

改变

```
 String[] cmd = {"sh test.sh", "/Path/to my/resource file"}; 
```

到

```
String[] cmd = {"sh",  "test.sh", "/Path/to my/resource file"}; 
```

（一般使用[流程构建器 API](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/ProcessBuilder.html)）

# ffmpeg - 使用 VA-API 进行视频解码

> ID：12833210
> 
> 赞同：3
> 
> 时间：2012-10-11T06:07:48.903
> 
> 标签：ffmpeg, hardware-acceleration

我一直在尝试使用带有 ffmpeg 的 VA-API 视频解码在 libavg 中实现视频加速。他们已经获得了 VDPAU 支持。从他们的源代码中，我了解到它必须与 struct *vaapi_context 和一些函数（get_format、get_buffer、release_buffer）有关，但我不知道如何使其工作。

如果有人愿意分享如何设置和使用函数以使用 vaapi 完成 avcodec_decode_video 的简单说明，那就太好了。

# c# - 从 C# 转换为 VB.NET 的代码中出现奇怪错误

> ID：12833213
> 
> 赞同：2
> 
> 时间：2012-10-11T06:07:52.283
> 
> 标签：c#, vb.net, dependency-properties

> **可能重复：** [VB.NET 中的方法组？](https://stackoverflow.com/questions/12803897/method-group-in-vb-net)

在阅读[答案](https://stackoverflow.com/a/8372627/1011959)时，我得到了以下代码：

```
public static class Helper
{
    public static bool GetAutoScroll(DependencyObject obj)
    {
        return (bool)obj.GetValue(AutoScrollProperty);
    }

    public static void SetAutoScroll(DependencyObject obj, bool value)
    {
        obj.SetValue(AutoScrollProperty, value);
    }

    public static readonly DependencyProperty AutoScrollProperty =
        DependencyProperty.RegisterAttached("AutoScroll", typeof(bool),
        typeof(Helper),
        new PropertyMetadata(false, AutoScrollPropertyChanged));

    private static void AutoScrollPropertyChanged(DependencyObject d,
        DependencyPropertyChangedEventArgs e)
    {
        var scrollViewer = d as ScrollViewer;

        if (scrollViewer != null && (bool)e.NewValue)
        {
            scrollViewer.ScrollToBottom();
        }
    }
} 
```

由于我在 VB.NET 中工作，所以我对其进行了转换并得到：

```
Public NotInheritable Class Helper

    Private Sub New()
    End Sub

    Public Shared Function GetAutoScroll(ByVal obj As DependencyObject)
    As Boolean
        Return CBool(obj.GetValue(AutoScrollProperty))
    End Function

    Public Shared Sub SetAutoScroll(ByVal obj As DependencyObject,
    ByVal value As Boolean)
        obj.SetValue(AutoScrollProperty, value)
    End Sub

    Public Shared ReadOnly AutoScrollProperty As DependencyProperty =
        DependencyProperty.RegisterAttached("AutoScroll", GetType(Boolean),
        GetType(Helper),
        New PropertyMetadata(False, AutoScrollPropertyChanged)) // Error Here

    Private Shared Sub AutoScrollPropertyChanged(ByVal d As
    System.Windows.DependencyObject, ByVal e As
    System.Windows.DependencyPropertyChangedEventArgs)
        Dim scrollViewer = TryCast(d, ScrollViewer)

        If scrollViewer IsNot Nothing AndAlso CBool(e.NewValue) Then
            scrollViewer.ScrollToBottom()
        End If
    End Sub

End Class 
```

但是 C# 代码编译并且工作正常，但是在 VB.NET 中，代码给出了一个错误（在代码中标记）说：

> 未为“Private Shared Sub AutoScrollPropertyChanged(d As System.Windows.DependencyObject, e As System.Windows.DependencyPropertyChangedEventArgs)”的参数“e”指定参数

![在此处输入图像描述](../Images/f7d5ba146bfc82468a59bf07c44a6813.png)

我错过了什么？`PropertyChangedCallback`委托正是它在对象浏览器中定义的方式：

```
Public Delegate Sub PropertyChangedCallback(
    ByVal d As System.Windows.DependencyObject, ByVal e As
    System.Windows.DependencyPropertyChangedEventArgs) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T06:15:09.053

C# 有一个语言特性，可以将方法组转换为委托类型。所以，而不是：

```
private void Foo() {}
private void Bar(Action arg) {}

Bar(new Action(Foo)); 
```

你可以写：

```
Bar(Foo); 
```

我不是 VB 人，~~但我怀疑 VB .NET 没有这样的功能~~。看起来您需要[AddressOf](http://msdn.microsoft.com/en-us/library/y72ewk2b.aspx)运算符：

```
New PropertyMetadata(False, AddressOf AutoScrollPropertyChanged) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-11T06:17:02.367

我没有编译它，但我认为您应该使用 AddressOf 运算符参考 AutoScrollPropertyChanged：

```
Public Shared ReadOnly AutoScrollProperty As DependencyProperty =
        DependencyProperty.RegisterAttached("AutoScroll", GetType(Boolean),
        GetType(Helper),
        New PropertyMetadata(False, AddressOf AutoScrollPropertyChanged)) 
```

# asp.net - 将 Excel 文件下载到未受保护的视图中

> ID：12833216
> 
> 赞同：0
> 
> 时间：2012-10-11T06:08:09.273
> 
> 标签：asp.net, excel

我正在运行一个用 ASP.net 编写的网站，您下载的任何 Excel 文件都会以`Protected View`. 这会导致用户额外点击几下才能对其进行编辑。

我怎样才能改变这个，所以文件总是被下载`Unprotected View`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:45:58.007

如果您可以控制可以从您的网站下载的计算机，则有可能。比您可以将您的网站添加到受信任的网站，一切都会正常工作。怎么做，你必须谷歌 - 我们的管理员不得不谷歌很多才能找到它，我不知道细节：/

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-11T06:47:41.577

查看以下链接：

*   在 Office 2010 中禁用受保护的视图， [https://amsterdam.jira.com/wiki/display/MAN/How+to+disable+protected+view+in+Excel+2010](https://amsterdam.jira.com/wiki/display/MAN/How+to+disable+protected+view+in+Excel+2010)
*   使用信任设置禁用 Office 2007 和 2010 中的受保护视图， [http://helpmerick.com/solution-to-microsoft-outlook-2007-or-2010-not-opening-word-or-excel-attachments.htm](http://helpmerick.com/solution-to-microsoft-outlook-2007-or-2010-not-opening-word-or-excel-attachments.htm)
*   如何编辑 Excel 设置。 [http://office.microsoft.com/en-us/excel-help/what-is-protected-view-HA010355931.aspx](http://office.microsoft.com/en-us/excel-help/what-is-protected-view-HA010355931.aspx)

**什么是受保护的视图？**

*“来自 Internet 和其他潜在不安全位置的文件可能包含病毒、蠕虫或其他类型的恶意软件，它们会损害您的计算机。为了帮助保护您的计算机，来自这些潜在不安全位置的文件在受保护的视图中打开。通过使用受保护的查看，您可以读取文件并检查其内容，同时降低可能发生的风险。”*

**为什么我的文件在受保护的视图中打开？**

*受保护的视图是一种只读模式，其中大多数编辑功能已被禁用。文件在受保护视图中打开的原因有多种：*

***该文件是从 Internet 位置打开的**- 当您在受保护的视图中看到消息指出此文件源自 Internet 位置并且可能不安全时。点击查看更多详细信息。这是因为文件是从 Internet 上打开的。来自 Internet 的文件中可能嵌入了病毒和其他有害内容。如果您信任文档的内容，我们建议您仅编辑文档。*

***该文件是作为 Outlook 2010 附件接收的，并且您的计算机策略已将发件人定义为不安全**- 当您在受保护的视图中遇到指出此文件源自电子邮件附件并且可能不安全的消息时。单击以获取更多详细信息。这是因为该文件是从可能不安全的发件人处收到的。*

***该文件是从一个不安全的位置打开的**- 当您在受保护的视图中遇到消息指出该文件是从一个潜在的不安全位置打开的。点击了解更多详情。该文件是从不安全的文件夹中打开的。不安全位置的一个示例是您的 Internet 临时文件文件夹。*

***该文件被文件块阻止***

***文件验证失败**- 当您在受保护的视图中遇到一条消息，指出 Office 检测到此文件存在问题。编辑它可能会损害您的计算机。点击了解更多详情。发生这种情况是因为该文件未通过文件验证。*

***笔记**- 您可以在文件检测到的问题中了解有关文件验证失败的更多信息。使用“在受保护的视图中打开”选项在受保护的视图中打开了该文件。当您在受保护的视图中遇到消息指出此文件已在受保护的视图中打开时。单击以获取更多详细信息。这是因为您选择在受保护的视图中打开文件。这可以通过使用“在受保护的视图中打开”选项来完成：单击“文件”选项卡。在 Microsoft Office Backstage 视图中，单击打开。在“打开”对话框中，单击“打开”按钮上的箭头。从列表中，选择在受保护的视图中打开。下图是选择在受保护视图中打开时出现的受保护视图示例。重要系统管理员可以扩展潜在不安全位置的列表，以包括其他也被认为不安全的文件夹。”*

# c# - 将双精度从服务器传输到客户端

> ID：12833221
> 
> 赞同：2
> 
> 时间：2012-10-11T06:08:37.903
> 
> 标签：c#

它基于 C#、.net

服务器是 64 位机器，客户端是 32 位机器，一个 double[] 数组被发送到客户端。在客户端中，使用此数据创建一个二进制文件。

由于服务器是 64 位而客户端是 32 位，所以是否有可能会损坏双重值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:09:50.350

不，如果 .NET 同时发送和接收，则不会。

这还取决于您发送和接收的方式。TCP 是基于流的，这意味着使用单个发送的所有内容`socket.Send()`可能不会通过单个`socket.Receive()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:43:31.847

以下文章提供了一个示例，其中精度受您所在的系统（32 位或 64 位）影响：

[MSDN - 双重结构](http://msdn.microsoft.com/en-us/library/system.double.aspx)

提供示例的摘录：

> 此外，由于 Double 类型的精度损失，使用 Double 值的算术和赋值操作的结果可能会因平台而略有不同。例如，分配文字 Double 值的结果在 .NET Framework 的 32 位和 64 位版本中可能不同。以下示例说明了将文字值 -4.42330604244772E-305 和值为 -4.42330604244772E-305 的变量分配给 Double 变量时的这种差异。请注意，在这种情况下 Parse(String) 方法的结果不会损失精度。

您可能希望将服务器上应用程序的目标平台设置为 x86。这是我的理解（如果我错了，请纠正我）这将迫使精度等同于 32 位机器，无论您实际运行的是什么。

# iphone - 任何人都可以帮忙将 openssl 包含到我的项目中吗

> ID：12833223
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:08:47.157
> 
> 标签：iphone, objective-c, security, openssl, rsa

我正在尝试包括

[4457113 2012 年 5 月 10 日 17:20:24 openssl-1.0.1c.tar.gz](http://www.openssl.org/source/)但我不断收到此**错误**

**无法将 Openssl 1.0.1c.tar.gz 扩展为 RegisterationMsg Error1 = 不允许操作**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:50:58.427

我假设您使用的是 OSX，因为这被标记为 Objective-c。你的意思是做一个

```
tar -xf openssl-1.0.1c.tar.gz
cd openssl-1.0.1c
./configure
make 
```

第一的？我对 iPhone 开发不是很熟悉，但我假设您需要先解压缩并构建库。

# sql - 所需的单个 SQL 查询

> ID：12833227
> 
> 赞同：1
> 
> 时间：2012-10-11T06:09:03.857
> 
> 标签：sql

我有一个包含名称`empdetail`和列的表：

```
 Id  Name  Gender
    1  ABC   Male
    2  XYZ   Female
    3  PQR   Male 
```

我想通过单个查询`Gender`将每个 emp 从`Male`to`Female`和 from `Female`to更改为`Male`

结果应该是这样的：

```
1 ABC Female
2 XYZ Male
3 PQR Female 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T06:13:03.607

您只需要使用**CASE**语句

```
update <table>
set Gender= case when Gender='Male' then 'Female' 
                 when Gender='Female' then 'Male' 
            end 
```

# [SQL小提琴演示](http://www.sqlfiddle.com/#!2/d4801/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:11:07.587

```
 select id,name,
           (case when gender='Male'
                     then 'Female'
                 else 'Male' 
            end) as 'Gender' 
    from table
-------------------
   update table set gender=(case when gender='Male'
                     then 'Female' else 'Male' end) 
```

# javascript - 用javascript对表列求和

> ID：12833230
> 
> 赞同：1
> 
> 时间：2012-10-11T06:09:12.860
> 
> 标签：javascript, jquery, ruby-on-rails-3, jquery-selectors

我正在尝试使用 JS 来总结一列已经 Javascript 生成的值。我是 JS 新手，所以这可能是错误的。无论如何，我试过这个：

注意——底部的最终代码

```
 $(".js-package").change(function(){
        var parentTable = $(this).parents("table");
        var table_rows = parentTable.rows;
        var height = table_rows.length;
        var total = 0;
        for (var i = 0; i < height; i++) {
            var current_row = table_rows[i];
            total += current_row[5];
        }
        $(parentTable).find(".js-lb-total").html((total).toFixed(2));
 }); 
```

这适用于一堆 html，但相关的东西是我有这条线应该把事情加起来：

```
<td class="js-lb-total">?</td> 
```

而这更进一步：

```
 <td>
   <%= l.select :units, dropdown, {}, :class => "unit_select js-package" %>
 </td> 
```

重要的是，看似任意的数字 5 指的是我试图总结的列（假设 JS 从 0 开始数组）。

知道我做错了什么/如何解决吗？我将继续研究打开一个小提琴，我可以用更完整的代码链接到它。我将在下面添加该链接。

谢谢！

编辑——下面的行总计脚本

```
 $(".js-package").change(function(){
        var numOfPackages = parseFloat($(this).val());
        var parentTr = $(this).parents("tr");
        var parentTable = $(this).parents("table");
        var weight = parseFloat($(parentTr).find(".js-weight").attr('data-weight'));
        var price = parseFloat($(parentTr).find(".js-lb-price").attr('data-lb-price'));
        $(parentTr).find(".js-price").html(((numOfPackages * weight * price).toFixed(2)));
        $(parentTr).find(".js-lbs").html((numOfPackages * weight).toFixed(2));
    }); 
```

编辑 2 - 此处[为 Fiddle](http://jsfiddle.net/3MPhC/ "小提琴")的基本小提琴链接。但是，出于某种原因，没有一个 JS 在那里工作。（第一束在我的服务器上工作）。所以它可能不是特别有用。

编辑 3 - 明确地说，我试图对一个列求和，该列的值都是由另一个 javascript 操作动态生成的。它们不在 html 中。这可能是问题的一部分吗？

最终编辑——经过大量调整和遵循建议后，我得到了这个，效果很好（在总计每行之后，总计价格和磅数）。

```
$(".js-package").change(function(){
        var numOfPackages = parseFloat($(this).val());
        var parentTr = $(this).parents("tr");
        var parentTable = $(this).parents("table");
        var weight = parseFloat($(parentTr).find(".js-weight").attr('data-weight'));
        var price = parseFloat($(parentTr).find(".js-lb-price").attr('data-lb-price'));
        $(parentTr).find(".js-price").html(((numOfPackages * weight * price).toFixed(2)));
        $(parentTr).find(".js-lbs").html((numOfPackages * weight).toFixed(2));

    var table = document.getElementById('sumtable');
    var table_rows = table.rows;
    var height = parseInt(table_rows.length);
    var lb_total = 0;      
    var money_total = 0;
    var cell;   
    for (var i = 1, iLen = height - 1; i < iLen; i++) {
        cell = table_rows[i].cells[5];
        lb_total += Number(cell.textContent);
    }
    for (var j = 1, jLen = height - 1; j < jLen; j++) {
        cell = table_rows[j].cells[6];
        money_total += Number(cell.textContent);
    }

    $(parentTable).find(".js-lb-total").html(lb_total.toFixed(2));
    $(parentTable).find(".js-price-total").html(money_total.toFixed(2));
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T07:02:22.410

下面的示例可能会让您入门。如果页眉和页脚位于不同的表格部分，这将使生活更轻松，我已将它们全部放在一个 tbody 中。

注意事项：

1.  从单元格读取的值将是字符串，因此您需要将它们转换为数字
2.  Javascript 在十进制算术方面是出了名的糟糕，更好地进行整数算术并仅在最后转换为十进制以进行演示
3.  小心`Math.toFixed`，它有怪癖，搜索问题

祝你好运。:-)

```
<script>
// column is the column with values in it to total (first column is zero)
// Assume values are floats.
function addRows(tableId, column, resultId) {

    var table = document.getElementById(tableId);
    var rows = table.rows;
    var total = 0;
    var cell;

    // Assume first row is headers, adjust as required
    // Assume last row is footer, addjust as required
    for (var i=1, iLen=rows.length - 1; i<iLen; i++) {
        cell = rows[i].cells[column];
        total += Number(cell.textContent || cell.innerText);
    }
    document.getElementById(resultId).innerHTML = total.toFixed(2);
}
</script>

<table id="productTable">
  <tr>
    <th>Item
    <th>value ($)
  <tr>
    <td>foo
    <td>23.33
  <tr>
    <td>bar
    <td>03.04
  <tr>
    <td>Total
    <td id="totalValue">
</table>
<button onclick="addRows('productTable', 1, 'totalValue')">Update total</button> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T06:30:51.180

尝试这个：

```
total = parseInt(total)+ parseInt(current_row[5].childNodes[1].value); 
```

如果这不起作用，请尝试获取所需列的单元格：

```
total =parseInt(total)+ parseInt(current_row[5].cells[try numbers here].childNodes[1].value); 
```

希望我有所帮助。

# jquery - codeigniter jquery不工作

> ID：12833231
> 
> 赞同：0
> 
> 时间：2012-10-11T06:09:13.767
> 
> 标签：jquery, codeigniter, codeigniter-2

我在codeigniter网页中包含了这样的文件：

```
<link rel="stylesheet" type="text/css" href='<?= base_url() ?>css/unofficialchannels/style.css' />
<script type="text/javascript" src='<?= base_url() ?>js/jquery-1.8.2.min.js'></script>
<script type="text/javascript" src='<?= base_url() ?>js/jquery.tweetable.js'></script>
<script type="text/javascript" src='<?= base_url() ?>js/javascript.js'></script> 
```

我在 javascript.js 文件中有一个函数，如下所示：

```
$(function () {
  alert('It works!');
}); 
```

我还尝试了这样的功能：

```
$(document).ready(function(){
    alert('It works!');
}); 
```

但它不起作用，我没有警觉。有人有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:03:24.537

好的，现在可以了。我对 jquery 文件有一些问题。我从 jquery.com 下载并再次上传。现在工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:15:00.883

将 src/href 属性中的单引号替换为双引号，所以

```
<script type="text/javascript" src='<?= base_url() ?>js/jquery-1.8.2.min.js'></script> 
```

会成为

```
<script type="text/javascript" src="<?= base_url() ?>js/jquery-1.8.2.min.js"></script> 
```

并确保您的 js 和 css 目录与 CodeIgniter 文件所在的位置相同。

您的文件夹应类似于：

```
application/
system/
tmp/
css/
js/
index.php
license.txt 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T10:18:56.237

仅用于信息 base_url() 函数接收一个可选参数，该参数附加到 base_url 本身，例如：

```
<script type="text/javascript" src='<?= base_url(); ?>js/jquery-1.8.2.min.js'></script> 
```

应该写成：

```
<script type="text/javascript" src='<?= base_url("js/jquery-1.8.2.min.js"); ?>'></script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T06:14:29.393

你的文件夹结构应该是这样的

```
application/
system/
assets/css
assets/js
assets/images 
```

现在

在你的 config.php

```
$config['assets'] = $config['base_url'] . 'assets/'; 
```

现在在你看来这样做

```
<link rel="stylesheet" type="text/css" href='<?php echo $assets?>css/unofficialchannels/style.css' />
<script type="text/javascript" src='<?php echo $assets?>js/jquery-1.8.2.min.js'></script>
<script type="text/javascript" src='<?php echo $assets?>js/jquery.tweetable.js'></script>
<script type="text/javascript" src='<?php echo $assets?>js/javascript.js'></script> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-05-18T15:03:51.297

如果有人在 2021 年寻找答案。我下载了未压缩的开发 jQuery 表单 Jquery 网站并且没有使用缩小（.min）版本。有效。

```
 <script type="text/javascript" src='<?php echo base_url(); ?>js/jquery-3.6.0.js'></script> 
```

# python - 使用 PIL 自动裁剪图像

> ID：12833232
> 
> 赞同：5
> 
> 时间：2012-10-11T06:09:14.437
> 
> 标签：python, image-processing, image-manipulation, python-imaging-library, crop

我有一个充满图像的文件夹，每个图像至少包含 4 个较小的图像。我想知道如何使用 Python PIL 剪切出较小的图像，以便它们都作为独立的图像文件存在。幸运的是，有一个常数，背景是白色或黑色，所以我猜我需要一种通过搜索完全黑色或完全白色的行或最好是列来剪切这些图像的方法，这是一个示例图像：

![在此处输入图像描述](../Images/8d6c49c7728258ba424773c962f8c3ba.png)

从上图中，将有 10 个单独的图像，每个图像都包含一个数字。提前致谢。

编辑：我有另一个更逼真的示例图像，因为一些较小图像的背景与它们所包含的图像的背景颜色相同。例如

![在此处输入图像描述](../Images/a9c63b9e815f1d56799ee0851ef824ab.png)

其输出是 13 个单独的图像，每个包含 1 个字母

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:02:01.543

使用 scipy.ndimage 进行标记：

```
import numpy as np
import scipy.ndimage as ndi
import Image

THRESHOLD = 100
MIN_SHAPE = np.asarray((5, 5))

filename = "eQ9ts.jpg"
im = np.asarray(Image.open(filename))
gray = im.sum(axis=-1)
bw = gray > THRESHOLD
label, n = ndi.label(bw)
indices = [np.where(label == ind) for ind in xrange(1, n)]
slices = [[slice(ind[i].min(), ind[i].max()) for i in (0, 1)] + [slice(None)]
          for ind in indices]
images = [im[s] for s in slices]
# filter out small images
images = [im for im in images if not np.any(np.asarray(im.shape[:-1]) < MIN_SHAPE)] 
```

# javascript - 在加载 5 秒后显示不同的背景，然后明确更改它

> ID：12833234
> 
> 赞同：0
> 
> 时间：2012-10-11T06:09:26.810
> 
> 标签：javascript, jquery, css

我想在加载后的前 5 秒内显示，每隔 1 秒或更短的时间显示一个不同的背景。在这 5 秒之后，我想设置一个明确的背景。

我已经设置了我的 div 的类：

```
<div id="plateau" class="step01">
<div id="plateau-fond"> 
```

我在我的 CSS 中设置了背景：

```
#plateau.step-01 #plateau-fond
 {
  background-image:url('../img/plateau-03-step-01.png');
 } 
```

我想使用 javascript 或 jQuery 来执行上面提到的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T06:24:25.960

在我的脑海中，我建议如下：

```
$(function() {
  var step = 1;

  var interval = window.setInterval(function() {
     var $plateau = $("#plateau");
     $plateau.removeClass("step0" + step);
     step++;
     $plateau.addClass("step0" + step);
     if(step == 5) { 
         window.clearInterval(interval);
     }
  }, 1000);
}); 
```

稍后将在 jsfiddle 中验证这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:58:51.340

这是应该完成您需要样式表任务的代码：您需要编写样式/图像等

```
<style type="text/css">
    .step00{background:#000000;}  /*this is the initial background when page loaded*/
.step01{background:#454545;}  /*First change after 1 sec*/
.step02{background:#333333;}  /*2nd change after 2 sec*/
.step03{background:#234567;}  /*3rd change after 3 sec*/
.step04{background:#789564;}  /*4th change after 5 sec*/
.step05{background:#cccccc;}  /*5th change after 5 sec*/
.stepfixed{background:#fff222;} /*final definitive bg after 6 sec*/
</style> 
```

html

```
<div id="plateau" class="step00">
<div id="plateau-fond">

<script type="text/javascript">
    var count = 0;
    jQuery(window).load(function () {
        var interval = window.setInterval("change_bg()",1000); //1000 = 1sec here
    });
    function change_bg() {
        jQuery('div#plateau').removeClass('step0'+count);
        count++;
        if(count > 5) {
            jQuery('div#plateau').addClass('stepfixed');
            window.clearInterval(interval);
        } else {
            jQuery('div#plateau').addClass('step0'+count);
        }
    }
</script> 
```

***上面的代码需要 Jquery 才能工作。不要忘记包含 jquery。包含 jquery 非常简单。如果您不能这样做，请发表评论。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:12:31.413

```
<style type="text/css">
    .step00{background:#000000;}  /*this is the initial background when page loaded*/
.step01{background:#454545;}  /*First change after 1 sec*/
.step02{background:#333333;}  /*2nd change after 2 sec*/
.step03{background:#234567;}  /*3rd change after 3 sec*/
.step04{background:#789564;}  /*4th change after 5 sec*/
.step05{background:#cccccc;}  /*5th change after 5 sec*/
.stepfixed{background:#fff222;} /*final definitive bg after 6 sec*/
</style>

    <div id="plateau" class="step00">
    <div id="plateau-fond">

    <script type="text/javascript">
        var count = 0;
        var flag = 1;
        jQuery(window).load(function () {
            var interval = window.setInterval("change_bg()",1000); //1000 = 1sec here
        });
        function change_bg() {
            if(count == 0)
                jQuery('div#plateau').removeClass('step00');
            else
                jQuery('div#plateau').removeClass('step0'+flag);
            count++;
            if(flag % 2 == 0)
                flag = 1;
            else
                flag = 2;
            if(count > 5) {
                jQuery('div#plateau').addClass('stepfixed');
                window.clearInterval(interval);
            } else {
                jQuery('div#plateau').addClass('step0'+flag);
            }
        }
    </script> 
```

# python - 使用win32gui python获取应用程序的图像名称

> ID：12833235
> 
> 赞同：3
> 
> 时间：2012-10-11T06:09:27.137
> 
> 标签：python, win32gui

有没有办法在 Windows 操作系统中使用 win32gui 获取应用程序映像名称？我只能使用 win32gui.GetWindowText(hwnd) 获取 windows 文本。我想获取您可以在任务管理器中看到的图像名称。

谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2021-01-23T21:16:45.807

```
def list_window_names():
    def winEnumHandler(hwnd, ctx):
        if win32gui.IsWindowVisible(hwnd):
            print(hex(hwnd), win32gui.GetWindowText(hwnd))
    win32gui.EnumWindows(winEnumHandler, None) 
```

ps 我希望我做对了

*   如果这不是什么我怕我帮不上忙

# android - 如何在列表视图中动态添加项目并相应地交换它们

> ID：12833236
> 
> 赞同：0
> 
> 时间：2012-10-11T06:09:36.937
> 
> 标签：android, android-listview

我正在尝试创建一个列表视图，其中可以动态添加项目，动态部分工作正常，因为它可以使用简单的光标适配器来完成，并在每次创建项目时使用列表项填充布局。但是现在我遇到的问题是，我也想交换这些项目，就像替换项目位置一样交换。我见过的所有示例都使用字符串数组，这是一个预定义的列表。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:36:13.437

使用 Arrayadapter 作为您的 Listadapter。您现在可以使用[insert(object, int)](http://developer.android.com/reference/android/widget/ArrayAdapter.html#insert%28T,%20int%29)将项目添加到列表数据集中的特定位置。使用[删除](http://developer.android.com/reference/android/widget/ArrayAdapter.html#remove%28T%29)项目可以从列表数据集中删除。由于 Arrayadapter 将监控对数据集本身的更改，因此一旦您完成了对 Adapter 的修改，列表应该会更新。

如果您需要使用 CursorAdapter，这可能会变得更加困难。您需要更改基础数据库，然后重新查询列表中使用的光标。

# c - 最基本的逻辑门是如何编写的？

> ID：12833237
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:09:44.193
> 
> 标签：c, assembly, if-statement, logic

在 C 中，像许多其他语言一样，有`if`语句。您可以在编写其他语言（如 C++ 或 Ruby）时使用该逻辑。但是，最低级别的`if`语句是如何工作的？

条件如何在最低级别发挥作用？我不明白如何以非递归方式定义它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T06:12:00.360

您始终可以查看生成的程序集，但它通常实现为分支或跳转指令。

```
 if ( x == y )
001E149C  mov         eax,dword ptr [x]  
001E149F  cmp         eax,dword ptr [y]  
001E14A2  jne         wmain+3Ah (1E14AAh)  
        return 0;
001E14A4  xor         eax,eax  
001E14A6  jmp         wmain+3Fh (1E14AFh)  
    else
001E14A8  jmp         wmain+3Fh (1E14AFh)  
        return 1;
001E14AA  mov         eax,1 
```

if 基本上是`jne`（跳转不等于）指令。如果两个值 (`x`和`y`) 不相等，则跳转到`else`，否则继续执行并跳出`if`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T06:13:06.167

在最低级别，它们是在物理硬件中实现的。它们不是用其他东西定义的，它们实际上是物理实现的。

# c++ - C++03 throw() 说明符 C++11 noexcept 之间的区别

> ID：12833241
> 
> 赞同：106
> 
> 时间：2012-10-11T06:09:54.843
> 
> 标签：c++, exception, c++11, throw, noexcept

`throw()`除了在运行时和`noexcept`编译时分别检查之外，还有什么区别吗？

[这篇 Wikipedia C++11 文章](http://en.wikipedia.org/wiki/C%2B%2B11#Features_removed_or_deprecated)建议弃用 C++03 抛出说明符。
为什么这样，`noexcept`有足够的能力在编译时涵盖所有这些？

[注意：我检查了[这个问题](https://stackoverflow.com/questions/88573/should-i-use-an-exception-specifier-in-c)和[这篇文章](http://www.gotw.ca/publications/mill22.htm)，但无法确定弃用的充分理由。]

* * *

## 回答 #1

> 赞同：139
> 
> 时间：2012-10-11T06:23:36.820

异常说明符已被弃用，因为[异常说明符通常是一个糟糕的主意](https://stackoverflow.com/a/88905/734069)。`noexcept`之所以添加它，是因为它是异常说明符的一种合理有用的用法：知道函数*何时不会*抛出异常。因此它变成了一个二元选择：会抛出的函数和不会抛出的函数。

`noexcept`添加而不是仅仅删除所有抛出说明符，而不是`throw()`因为`noexcept`更强大。`noexcept`可以有一个编译时解析为布尔值的参数。如果布尔值是真的，那么`noexcept`棒。如果布尔值是假的，那么`noexcept`不会粘住并且函数可能会抛出。

因此，您可以执行以下操作：

```
struct<typename T>
{
  void CreateOtherClass() { T t{}; }
}; 
```

会`CreateOtherClass`抛出异常吗？它可能，如果`T`的默认构造函数可以。我们怎么讲？像这样：

```
struct<typename T>
{
  void CreateOtherClass() noexcept(is_nothrow_default_constructible<T>::value) { T t{}; }
}; 
```

因此，`CreateOtherClass()`如果给定类型的默认构造函数抛出，将抛出。这解决了异常说明符的主要问题之一：它们无法向上传播调用堆栈。

你不能用`throw()`.

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2012-10-11T06:23:58.723

`noexcept`在编译时不检查。

> 实现不应仅仅因为表达式在执行时抛出或可能抛出包含函数不允许的异常而拒绝表达式。

当一个函数被声明`noexcept`或`throw()`试图抛出异常时，唯一的区别是一个调用`terminate`和另一个调用`unexpected`，并且后一种异常处理方式已被有效地弃用。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-07-10T17:08:13.120

`std::unexpected()`当违反动态异常规范时由 C++ 运行时调用：从其异常规范禁止此类异常的函数抛出异常。

`std::unexpected()`也可以直接从程序中调用。

无论哪种情况，`std::unexpected`调用当前安装的`std::unexpected_handler`. 默认`std::unexpected_handler`调用`std::terminate`.

# java - 增加线程数量是否会使生产者消费者概率更快？

> ID：12833243
> 
> 赞同：1
> 
> 时间：2012-10-11T06:10:01.987
> 
> 标签：java, multithreading, synchronization, producer-consumer, blockingqueue

我使用无界链接阻塞队列实现了类似于消费者-生产者问题的东西。我让生产者将对象放入队列并让消费者接受它。当我测试程序时，每次试验的线程数量加倍，同时仍然处理相同数量的对象，所有试验的时间似乎是恒定的。它应该是恒定的吗？或者更多的线程意味着更快的处理？不确定是否是我的代码导致共享资源缓慢或同步。有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T06:14:48.187

这完全取决于瓶颈是什么：

*   如果消费者处理元素的速度与生产者生产元素的速度一样快，那么添加更多消费者将无济于事
*   如果消费者是瓶颈，那么增加更多的生产者只会意味着你积压了工作
*   如果消费者都在共享一个已经用尽的资源（例如饱和的网络连接或磁盘），那么添加更多线程将无济于事
*   如果消费者在共享资源上同步，这*迫使*他们在大部分时间以串行方式工作，那么添加更多线程将无济于事
*   如果消费者受 CPU 限制，并且您有足够的线程来最大化 CPU 使用率，那么添加更多线程将无济于事

您需要查看程序运行时发生的情况：

*   您的工作队列的长度是多少？它只是继续增长吗？它总是接近于0吗？
*   您的 CPU 使用率如何？网络/磁盘使用情况如何？

然后分析您的代码在做什么，并计算出您*期望*问题的可并行化程度

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:16:25.267

可能是你的同步。假设您的单个队列一次只消费一个项目，在您消费或生产时阻塞其他消费者，那么如果您想要更高的吞吐量，您需要更多的队列。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:22:08.070

这是一个组合，你必须尝试找到一个接近最优的解决方案。让我们从单核系统开始。在那里你必须找到等待（通常是 IO）和计算时间的平衡。你可以根据你在做什么使两者都饱和。例如，如果您受到磁盘速度的限制，您无法通过添加更多线程来获得任何收益。相反，您可能会弄乱磁盘调度并且性能会降低。另一方面，如果您从不等待 IO，那么您的工作就处于另一个极端，您不会通过在单核处理器上添加更多线程来获得任何收益。

在多核系统上，只要不等待 IO，就可以增加线程数来提高性能。更多的核心不会帮助你。但是与 IO 一样，添加线程也会产生开销，所以不要太高。

# ruby-on-rails - 为什么在 phusion 乘客上运行的 Web 应用程序经常宕机？

> ID：12833244
> 
> 赞同：0
> 
> 时间：2012-10-11T06:10:02.267
> 
> 标签：ruby-on-rails, ruby, apache, passenger

我在 phusion 乘客上运行的 Web 应用程序经常停机，但我无法找出原因。这是我在 /var/log/httpd/error.log 文件中遇到的错误

脚本头过早结束：后端应用程序（进程 5417）没有发送有效的 HTTP 响应；相反，它什么也没发送。它可能已经崩溃了；请检查此应用程序中是否存在崩溃错误。

日志的最后 50 行：

```
[Thu Oct 11 05:29:42 2012] [error] [client 11.992.88.255] Premature end of script headers: 
[ pid=22252 thr=1 file=ext/apache2/Hooks.cpp:817 time=2012-10-11 05:29:42.409 ]: The backend application (process 5488) did not send a valid HTTP response; instead, it sent nothing at all. It is possible that it has crashed; please check whether there are crashing bugs in this application.
[Thu Oct 11 05:35:16 2012] [notice] child pid 27200 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:19 2012] [notice] child pid 27196 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:19 2012] [notice] child pid 27199 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:20 2012] [notice] child pid 27203 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:20 2012] [notice] child pid 27195 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:20 2012] [notice] child pid 27205 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:28 2012] [notice] child pid 27194 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:28 2012] [notice] child pid 27206 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:35 2012] [notice] child pid 27193 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:38 2012] [notice] child pid 27204 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:38 2012] [notice] child pid 27192 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:40 2012] [notice] child pid 27202 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:42 2012] [notice] child pid 27197 exit signal Segmentation fault (11)
[Thu Oct 11 05:35:43 2012] [notice] child pid 27198 exit signal Segmentation fault (11)
[Thu Oct 11 05:37:31 2012] [notice] child pid 27207 exit signal Segmentation fault (11)
[Thu Oct 11 05:39:02 2012] [notice] child pid 9225 exit signal Segmentation fault (11)
[Thu Oct 11 05:39:02 2012] [notice] child pid 9224 exit signal Segmentation fault (11)
[Thu Oct 11 05:39:03 2012] [notice] child pid 9229 exit signal Segmentation fault (11)
[Thu Oct 11 05:39:04 2012] [notice] child pid 9230 exit signal Segmentation fault (11)
[Thu Oct 11 05:39:05 2012] [notice] child pid 9231 exit signal Segmentation fault (11)
[Thu Oct 11 05:39:06 2012] [notice] child pid 9392 exit signal Segmentation fault (11)
[Thu Oct 11 05:39:07 2012] [notice] child pid 9395 exit signal Segmentation fault (11)
[Thu Oct 11 05:39:08 2012] [notice] child pid 9396 exit signal Segmentation fault (11)
[Thu Oct 11 05:39:09 2012] [notice] child pid 27201 exit signal Segmentation fault (11)
[Thu Oct 11 05:41:55 2012] [notice] child pid 9220 exit signal Segmentation fault (11)
[Thu Oct 11 05:45:25 2012] [notice] child pid 9223 exit signal Segmentation fault (11)
[Thu Oct 11 05:52:40 2012] [notice] child pid 9517 exit signal Segmentation fault (11)
[Thu Oct 11 05:54:16 2012] [notice] child pid 9525 exit signal Segmentation fault (11)
[Thu Oct 11 05:54:17 2012] [notice] child pid 9529 exit signal Segmentation fault (11)
[Thu Oct 11 05:54:18 2012] [notice] child pid 9531 exit signal Segmentation fault (11)
[Thu Oct 11 05:54:19 2012] [notice] child pid 10414 exit signal Segmentation fault (11)
/home/john/dips/apps/production/releases/20121005650832/vendor/gems/ruby/1.9/gems/needle-1.3.0/lib/needle/definition-context.rb:36: warning: undefining `initialize' may cause serious problems
/home/john/dips/apps/production/releases/20121005650832/vendor/gems/ruby/1.9/gems/needle-1.3.0/lib/needle/definition-context.rb:36: warning: undefining `object_id' may cause serious problems
/home/john/apps/production/releases/20121005650832/vendor/gems/ruby/1.9/gems/needle-1.3.0/lib/needle/definition-context.rb:36: warning: undefining `__send__' may cause serious problems
[DEPRECATED] By requiring 'spreadsheet/excel' you are loading a Compatibility
             layer which provides a drop-in replacement for Spreadsheet::Excel
             versions <= 0.3.5.1\. This code will be removed in Spreadsheet
             version 1.0.0

/home/john/dips/apps/production/releases/20121005650832/vendor/gems/ruby/1.9/gems/needle-1.3.0/lib/needle/definition-context.rb:36: warning: undefining `initialize' may cause serious problems
/home/john/dips/apps/production/releases/20121005650832/vendor/gems/ruby/1.9/gems/needle-1.3.0/lib/needle/definition-context.rb:36: warning: undefining `object_id' may cause serious problems
/home/john/dips/apps/production/releases/20121005650832/vendor/gems/ruby/1.9/gems/needle-1.3.0/lib/needle/definition-context.rb:36: warning: undefining `__send__' may cause serious problems
[DEPRECATED] By requiring 'spreadsheet/excel' you are loading a Compatibility
             layer which provides a drop-in replacement for Spreadsheet::Excel
             versions <= 0.3.5.1\. This code will be removed in Spreadsheet
             version 1.0.0

    enter code here 
```

# c# - 如何实现搜索工具栏在 Windows 8 应用程序中搜索查询并显示建议列表？

> ID：12833261
> 
> 赞同：0
> 
> 时间：2012-10-11T06:11:02.753
> 
> 标签：c#, search, search-engine

搜索工具如何工作？当用户输入查询进行搜索时，会根据查询显示一些建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:26:48.870

您是否搜索过任何示例？对于所有平台和语言来说，这是一个非常知名的领域。只需搜索术语“自动建议 C#”

# javascript - 如何在图像悬停中克服这个问题？

> ID：12833266
> 
> 赞同：0
> 
> 时间：2012-10-11T06:11:44.390
> 
> 标签：javascript, jquery, html, css, hover

在我的页面中，我想在网格视图中显示黑白图像列表，当我将鼠标悬停在该图像上时，它会显示彩色图像。当我将鼠标移开时，应该再次显示黑白图像。

当我单击特定图像（即黑白图像）时，它应该同时变成彩色图像，此外还应该添加一个刻度线图像。

我使用了以下脚本和 html 代码

**脚本**

```
$(".swap_image").live('click', function() {
if($(this).attr("class") == "swap_image") {
    this.src = this.src.replace("_blackwhite", "_color");
    $('#tick_' + $(this).attr('rel')).show();
} else {
    this.src = this.src.replace("_color", "_blackwhite");
    $('#tick_' + $(this).attr('rel')).hide();
}
$(this).toggleClass("color");
return false;}); 
```

**HTML**

```
<img id="tick_{{img.id}}" src="{{MEDIA_URL}}img/tick.png" style="position:absolute;" ><a href="#"><img rel="{{img.id}}" src="{{MEDIA_URL}}{{ img.logo_blackwhite }}" onmouseover="this.src='{{MEDIA_URL}}{{ img.logo_color }}'" onmouseout="this.src='{{MEDIA_URL}}{{ img.logo_blackwhite }}'" class="swap_image" /></a> 
```

我使用了上面的代码，一切正常，但是当我再次将鼠标移出时，图像变成黑白图像（因为我使用了 mouseout 功能）

还有其他更好的想法吗？或者

如何克服这个问题？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:29:12.930

我建议您在单击时向图像添加一个类。然后，当执行 mouseout 函数时，只需包含一个 if/then，如果该类不存在，它只会将图像换回黑白。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:34:58.740

当您单击图像时，然后在此处留下一些足迹。就像更改图像的类一样，现在在您的 mouseout 函数中检查图像是否具有该特定类的条件。如果什么都不做，则更改图像颜色。

# c - C Treenode指针用全局变量改变值

> ID：12833269
> 
> 赞同：0
> 
> 时间：2012-10-11T06:11:59.333
> 
> 标签：c

所以，这就是故事。我正在尝试创建一个递归下降解析器，它对一个字符串进行标记，然后从这些标记中创建一个节点树。

我的主要课程的所有指针都在工作......如果你之前使用过 RDP，那么你就会知道我在说什么程序 -> 语句 -> assignStmt ......等等。这个想法是程序节点有一个指向语句节点等的子节点。

这就是问题所在。当我到达树节点的末尾时，我指向的是标记器从字符串创建的实际标记。

所以，假设字符串是：

```
 firstvar = 1; 
```

在这种情况下，有 4 个标记 [{id} firstvar]、[{assignment} =]、[{number} 1]、[{scolon}]

我希望我的 assignStmt 节点指向该语句的非装饰器部分。即，assignStmt 的 child1 将是 [{id} firstvar]，而 child2 将是 [{number} 1] ...

然而。当我将 child1 分配给 [{id} firstvar]，然后继续前进到下一个标记时，child1 的值会随着我的前进而改变。因此，如果我将全局令牌更改为下一个令牌（在本例中为 [{assignment} =] ），则 assignStmt 的 child1 会随之更改。

为什么是这样？我能做些什么？！谢谢！

```
TOKEN* getNextToken(void); 
//only shown here to you know the return... it's working properly elsewhere

typedef struct node {
    TOKEN *data;

    struct node *child1, *child2, *child3, *child4, *parent;

} node;

TOKEN *token;
Symbol sym;
struct node *root;

void getsym() 
{
    token = getNextToken();
    sym = token->sym;
}

int main()
{
    getsym();
    //So, right now, from getsym() the global token has the value {identifier; firstvar} 

    struct node* tempNode;
    tempNode = (struct node*) calloc(1, sizeof(struct node));
    tempNode->child1 = tempNode->child2 = tempNode->child3 = tempNode->child4 =  NULL;
    tempNode->data = token;

    getsym();
    //BUT NOW from getsym() the global token has the value {assignment; =}, and 
    //subsequently the tempNode->data has changed from what it should be 
    //{identifier; firstvar} to what the global token's new value is: {assignment; =}

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T21:21:02.960

由于我的声誉低，我无法对此发表评论，我将添加这个答案，如果已经理解您的问题，您可能正在传递一个指向函数的指针，问题是您可能需要一个指向指针的指针，而不仅仅是一个指针。

在 C 中，当您将值传递给函数时，您是通过值而不是通过引用传递它们，这意味着该函数会生成该参数的本地副本，并且它仅适用于该本地副本，问题是所有更改都会影响只有本地副本，当函数终止时，如果您不能正确处理，所有更改都将丢失。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:09:40.057

您正在返回一个指向全局变量的指针，即使您修改了全局变量，该指针也将始终相同。

解决方案是每次分配一个新对象，或者根本不使用指针并直接返回结构并让编译器处理结构内部值的复制。

# html - 我正在将 HTML 转换为 Wordpress：非合作页面上的内容

> ID：12833274
> 
> 赞同：0
> 
> 时间：2012-10-11T06:12:18.440
> 
> 标签：html, wordpress, css, custom-wordpress-pages

这是我为一家面包店做的第一个 HTML 到 Wordpress 的转换。我试图用不成功的响应解决 wordpress 法典和论坛的问题。

以下场景适用于全宽页面。我确定这很简单（我可能是错的），但我没有看到。

场景 1：当我单独键入文本时，对齐效果很好，但是段落之间的返回键不会像应该那样分隔段落

场景2：图像向右对齐只移动图片旁边的1句行，其余的在它下面。

场景 3：插入图像或表格时，所有内容都移出指定容器 (div) 并丢失为其设置的样式。

[http://www.treunorth.com/pennycakes/about/](http://www.treunorth.com/pennycakes/about/)

是否需要将一行代码添加到“page-full.php”或调整 css 以使其正常工作？

页面-full.php：

```
<?php /* Template Name: Page - Full Width */ ?>

<?php get_header(); ?>

<!-- Page Article -->

<div class="clear"></div> 

<article id="post-<?php the_ID(); ?>" <?php post_class(); ?>>
<section id="story" class="container_16 clearfix">
    <div class="story-top grid_16"></div>

    <div class="story grid_16">
        <h1 class="meander"><?php the_title(); ?></h1>
        <p class="m500">
            <?php if (have_posts()) : while (have_posts()) : the_post();?>
            <?php the_content(); ?>
            <?php wp_link_pages(); ?>
            <?php edit_post_link( __( 'Edit', 'pennycakes' ), '<span class="edit-link">', '</span>' ); ?>
            <?php endwhile; endif; ?>
        </p><!-- .entry-content -->
    </div>
    <div class="story-bottom grid_16"></div>

</section>
</article><!-- #post-<?php the_ID(); ?> -->

<div class="clear"></div> 

<!-- //Page Article -->

<?php get_footer(); ?> 
```

样式表：

```
.container_16 .grid_16 {
    width: 972px;
    }

/*--------------------------------
 9) STORY
--------------------------------*/
#story { margin-top: 30px; }
.story-top { background: url('../css/images/bg-full-top.png') no-repeat center top; height: 30px; }
.story { background: url('../css/images/bg-full.png') repeat-y center top;}
.story h1 { font-size: 64px; color: #BF4A72; text-align: center; padding: 15px 0;}
.story p { font-size: 13px; color: #73656e; line-height: 19px; padding: 0 42px 0 42px; }
.story p.signature { background-position: 0 -949px; font-size: 26px; line-height: 51px; margin-bottom: 20px; margin-left: 42px; margin-top: 24px;}
.story-bottom { background: url('../css/images/bg-full-bottom.png') no-repeat center top; height: 31px;} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:29:29.613

您错过了几个段落标签。将这些文本放在关于页面的段落标记中

```
<p>I am a trained chef. I went to school at the California Culinary Academy in San Francisco. There I took courses in baking. Through my journey of gaining experience in the field I spent a year of that working in a bakery specializing in cake decorating. Post bakery my cake journey has gained me experience state side and 2 years in Finland baking cakes in restaurants and for family and friends.</p> 
```

和

```
<p>I am a trained chef. I went to school at the California Culinary Academy in San Francisco. There I took courses in baking. Through my journey of gaining experience in the field I spent a year of that working in a bakery specializing in cake decorating. Post bakery my cake journey has gained me experience state side and 2 years in Finland baking cakes in restaurants and for family and friends.
</p> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:32:51.657

表格没有宽度，其中的单元格也没有。所以造型不是一件容易的事...

段落标签也有一些样式。就像 19px fx 和更多的行高。

此外，大多数样式不会从 div 继承到其中的表。您还需要在表格中添加一些样式。

# java - 从 HttpSessionListener 中获取用户名

> ID：12833275
> 
> 赞同：3
> 
> 时间：2012-10-11T06:12:20.027
> 
> 标签：java, servlets

我想从内部获取用户名`HttpSessionListener.sessionCreated()`。当我说用户名时，我的具体意思是由`HttpServletRequest.getRemoteUser()`.

显然，一定有一个`HttpServletRequest`对象导致会话被创建（因此`sessionCreated()`调用）。但是我如何从内部访问它`sessionCreated()`？`HttpSessionEvent`传入的对象`sessionCreated()`似乎无法获取`HttpServletRequest`导致创建会话的对象。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T07:05:54.047

HttpSessionListener 无权访问 HttpServletRequest 对象，因为它在没有发出请求时被调用——通知会话的销毁或创建。

因此，过滤器将是更好的地方，您可以在其中将 username = request.getRemoteUsr() 添加到会话中。

示例 - 过滤器代码

```
String username = request.getRemoteUsr() ;
session.setAttribute("username",username); 
```

然后在 sessionCreated 方法中检索此用户名

```
String username = (String)session.getAttribute("username"); 
```

我希望您将获得在 HttpSessionListener sessionCreated() 方法中创建此会话的同一请求的相同用户名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-12T05:32:31.867

```
// set
session.setAttribute("username", request.getRemoteUser();

// get
String un = (String) session.getAttribute("username"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-07-25T05:51:53.943

您可以使用`HttpSessionAttributeListener`：

```
public class UsernameHttpSessionAttributeListener implements HttpSessionAttributeListener {

    @Override
    public void attributeAdded(HttpSessionBindingEvent httpSessionBindingEvent) {
        if (httpSessionBindingEvent.getName().equals("username")) {
            // do something
        }
    }

    ...
} 
```

当然，您需要`username`在任何地方设置 HTTP 会话中的属性，例如在 servlet 过滤器中。

# playframework - 如何将 Play Framework 应用程序从 Jenkins 发布到负载均衡环境

> ID：12833279
> 
> 赞同：6
> 
> 时间：2012-10-11T06:12:31.063
> 
> 标签：playframework, centos, playframework-2.0, load-balancing, nightly-build

我刚刚开始为基于 Play 的应用程序设置防弹夜间构建环境。到目前为止，我还没有找到关于这个主题的好教程。您能否查看我正在设置的当前解决方案？谢谢。

将 Play Framework 设置到 Jenkins 服务器并创建一个作业，该作业每 24 小时从 git/svn 存储库创建一个分发包。

```
play dist 
```

上面的命令创建 app-1.0.zip 文件。文件被复制并解压缩到多个节点。我们正在使用负载均衡器。最终文件被解压到 /home/play/webapp/app-1.0 文件夹。

解压缩后，我更改符号链接 /home/play/webapp/app => /home/play/webapp/app-1.0 并重新加载项目。这个符号链接真的需要吗？我可以在旧文件上解压缩文件吗？我真的需要解压缩项目吗？我可以只创建一个 jar 文件并在服务器上运行它吗？

```
play reload 
```

最后旧应用程序被删除。

```
rm -rf /home/play/webapp/app-0.9 
```

版本 app-0.9 最初是通过运行以下脚本启动的。

```
/etc/init.d/play start 
```

脚本是以下脚本的修改：

[http://monocaffe.blogspot.fr/2012/09/a-play-framework-server-setup.html](http://monocaffe.blogspot.fr/2012/09/a-play-framework-server-setup.html)

基本上脚本运行以下命令，该命令是我从 app-xxx.zip 文件中的启动文件中找到的。

```
exec java $* -cp "`dirname $0`/lib/*" play.core.server.NettyServer `dirname $0` 
```

我确实也考虑过创建一个重新加载脚本，它验证播放应用程序是否正在运行，如果没有，播放应用程序已启动，而不是重新启动。

```
/etc/init.d/play reload 
```

最好的问候， 马尔库

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T14:20:59.467

我创建了一个[python 脚本](https://github.com/mchv/play2-jenkins-deployment)来从 Jenkins 连续部署一个 play 应用程序。基本上脚本的作用如下：

*   轮询 Jenkins 以检查是否有新版本可用
*   如果有一个
    *   查看commit对应的代码
    *   编译
    *   创建一个包。
    *   重启播放服务器
*   否则在轮询另一次之前延迟睡眠

重启策略目前是基本的，但您可以修改脚本以很容易地实现另一个。没有更多的文档，但[代码](https://github.com/mchv/play2-jenkins-deployment/blob/master/deployment.py)和[配置文件](https://github.com/mchv/play2-jenkins-deployment/blob/master/deployment.conf)是可读和注释的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T17:36:33.453

我是你发布的博客中的那个人。在那篇文章中，我建议您应该将所有 Play jar 放在一个位置（/home/play/libs/current -> play-2.0.4），因此无需执行**play dist**。在我们的例子中，我们使用**play stage**，将我们的文件分别 scp 到 webapps/foo/0.1-SNAPSHOT-20121011/ 然后更改符号链接*current*。

> 解压缩后，我更改符号链接 /home/play/webapp/app => /home/play/webapp/app-1.0 并重新加载项目。这个符号链接真的需要吗？我可以在旧文件上解压缩文件吗？

这就是我喜欢我们的设置，使用符号链接的方式，但这只是因为我想在某种程度上保留以前的版本，特别是那些来自 CI 的版本。

> 我可以只创建一个 jar 文件并在服务器上运行它吗？

从技术上讲，您可以创建一个可运行的 JAR，其中包含所有 Play 和您的依赖项，包括 Netty，但这将是一个巨大的文件（只有 Play deps 为 33MB），您失去了轻松更改正在使用的 Play 版本的能力（我在过去的两个月里已经改变了三次）最后，你需要使用比 Play 更多的东西，因为不支持这个选项（即[http://maven.apache.org/plugins/maven-shade-plugin/examples/可执行jar.html](http://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html) )

> 我确实也考虑过创建一个重新加载脚本，它验证播放应用程序是否正在运行，如果没有，播放应用程序已启动，而不是重新启动。

这是博客条目中显示的**部署脚本：**

```
#!/bin/bash
#
# Script to automate CI deployments. Simply stop all
# servers, change the "current" symlinks to the given
# target folder and finally, start all servers
#

export JAVA_HOME="/usr/lib/jvm/default-java"

play_home="/home/play"
webapps_folder="${play_home}/webapps"

apps=( "foo" "bar" "api" )

for app in ${apps[@]}; do

    echo "Stopping server ${app}"
    ${play_home}/bin/${app} stop

    echo "Regenerate current symlink of ${app}"
    rm ${webapps_folder}/${app}/current
    ln -s ${webapps_folder}/${app}/${1} ${webapps_folder}/${app}/current

    echo "Starting server ${app}"
    ${play_home}/bin/${app} nohup

done

exit 0 
```

这个脚本的想法是使用 SSH 从 Jenkins 中的 ANT 脚本调用，或者像 ./deploy 0.1-SNAPSHOT-20121012 一样手动调用

# javascript - 使用 jQuery.ajax 和 data:image/png;base64 发送 multipart/formdata

> ID：12833282
> 
> 赞同：3
> 
> 时间：2012-10-11T06:12:57.500
> 
> 标签：javascript, ajax, jquery

为了简单起见，我有用户上传的 img 对象：

```
<img alt="" id="imgpics" src="data:image/png;base64,iVBORw0KGgoAAAANSUh..... 
```

我想通过 jQuery.ajax 上传图片

```
<script type="text/javascript">
function callajax(){
    var data = new FormData(); 

    var blob = new Blob([imgpics.src], { type: "text/plain" });
    data.append("inputfile.64data", blob);
     $.ajax({    
            type:'post',        
            url:'ajaximage,    
            data: data,    
            cache:false,    
            mimeType: "multipart/form-data",
            success:function(data){
                alert("success");
               //alert(data.message);   
            },
            error: function(e){
               alert(e.massage());
               }   
        }); 

    }
</script> 
```

我不知道为什么每次我打电话都会出现 jQuery 错误：

NS_ERROR_XPC_BAD_OP_ON_WN_PROTO：对 WrappedNative 原型对象的非法操作 [中断此错误]

值 = jQuery.isFunction（值）？价值（）：（价值==空？“”：价值）；打电话有什么问题吗？

我的错误在哪里？如何改变它？

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-10-17T11:43:28.293

我终于放弃了应用 jquery，似乎 jquery 会读取 img|src 部分，并且在 jquery 内部它包含很多字符串匹配或类似的人员。当它执行 img 字符串时，它显示错误。

# gwt - GWT code-split：常见的小部件会剩下，有什么方法可以防止？

> ID：12833286
> 
> 赞同：0
> 
> 时间：2012-10-11T06:13:08.960
> 
> 标签：gwt, split

我的 GWT 应用程序有一个导航栏，其中包括 3 个视图：主视图和 View1、View2、View1 和 View2 由它们的活动控制，并且都使用相同的小部件（它们在其构造函数下分别**新建**小部件）。当应用程序首次启动时，它将转到主页。

在进行代码拆分时，我发现公共小部件包含在剩余部分中，但我希望它只能在用户单击 view1 或 view2 时下载，而不是在剩余部分中，有什么方法可以实现这一点？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T14:45:41.653

如果您的用户很可能会转到视图 1 或视图 2，则最好将此小部件保留在剩余的片段中。它不会减慢应用程序的初始渲染速度，并且会在用户思考下一步该去哪里时加载剩余代码。当用户单击视图 1 或视图 2 时，小部件将已加载。

在大多数情况下，编译器不会合并视图 1 和视图 2 片段，除非它们共享大量代码，而不仅仅是一个小部件，尽管您可以通过减少所需片段的数量来强制编译器更积极地进行合并。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:29:32.930

啊哈，就在我发布这个帖子之后，我发现[https://developers.google.com/web-toolkit/articles/fragment_merging](https://developers.google.com/web-toolkit/articles/fragment_merging)完全解决了我的问题。这是 GWT 2.5 的新功能。

# javascript - 将光标放在指定长度的文本框中

> ID：12833293
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:13:30.940
> 
> 标签：javascript, jquery

> **可能重复：**
> [在文本框的焦点上设置光标长度为 14](https://stackoverflow.com/questions/1865563/set-cursor-at-a-length-of-14-onfocus-of-a-textbox)

我有一个代码，它将焦点放在文本框中选择特定长度的子字符串。我想放置光标而不是选择整个字符串。代码如下

```
<script type="text/javascript">
window.onload = function() {
    $("#message").keyup(function(e){
        var message = document.getElementById('message');
        // Select a portion of text
        createSelection(message, 0, 5);

        // get the selected portion of text
        var selectedText = message.value.substring(message.selectionStart, message.selectionEnd);
        alert(selectedText);
    });
    function createSelection(field, start, end) {
    if( field.createTextRange ) {
        var selRange = field.createTextRange();
        selRange.collapse(true);
        selRange.moveStart('character', start);
        selRange.moveEnd('character', end-start);
        selRange.select();
    } else if( field.setSelectionRange ) {
        field.setSelectionRange(start, end);
    } else if( field.selectionStart ) {
        field.selectionStart = start;
        field.selectionEnd = end;
    }
    field.focus();
    }}

</script> 
```

HTML部分代码

```
<input type="text" name="message" id="message" value="" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:10:36.370

我根据[这个主题](https://stackoverflow.com/questions/1865563/set-cursor-at-a-length-of-14-onfocus-of-a-textbox)的答案创建了一个简单的 jQuery 插件函数。

```
$.fn.setCursorPos = function(position) {
    return this.each(function() {
        var node = this;

        node.focus();

        if (node.setSelectionRange) {
            node.setSelectionRange(position, position);
        } else if (node.createTextRange) {
            var textRange = node.createTextRange();
            textRange.collapse(true);
            textRange.move('character', position);
            textRange.select();
        }
        node.selectionStart = position;
    });
}; 
```

[jsFiddle](http://jsfiddle.net/NsjJ5/)上的演示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:52:38.057

您可以定义一个 setCursor 函数：

```
function setCursor(node,pos){

    var node = (typeof node == "string" || node instanceof String) ? document.getElementById(node) : node;

    if(!node)
        return false;
    else if(node.createTextRange)
    {
        var textRange = node.createTextRange();

        textRange.collapse(true);
        textRange.moveEnd(pos);
        textRange.moveStart(pos);
        textRange.select();
        return true;
    }
    else if(node.setSelectionRange)
    {
        node.setSelectionRange(pos,pos);
        return true;
    }

    return false;
} 
```

在您的脚本中使用：

```
field.focus(function(){
   var done = setCursor(message, 3);
   // you can check the done boolean if you want ...
}); 
```

[来源](https://stackoverflow.com/questions/1865563/set-cursor-at-a-length-of-14-onfocus-of-a-textbox)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:14:01.620

看到@My_Boon 的想法，我修改了自己的代码。刚刚更改了两个参数，这是新的答案。我刚变

```
else if( field.setSelectionRange ) {
        field.setSelectionRange(end, end);
    } else if( field.selectionStart ) {
        field.selectionStart = end;
        field.selectionEnd = end;
    }

field.setSelectionRange(end, end); this line was `field.setSelectionRange(start, end);` 
```

# c# - '在 'System.Windows.Baml2006.TypeConverterMarkupExtension' 上提供值引发了异常。'

> ID：12833294
> 
> 赞同：41
> 
> 时间：2012-10-11T06:13:37.577
> 
> 标签：c#, wpf, xaml

当我在WPF中打开一个窗口时会抛出标题中的异常，奇怪的是这不会发生在我的Windows 7开发机器上，也不会发生在它部署在Windows 7上时。

我只在 Windows XP 上收到此错误，并且仅在第二次打开窗口时出现。

这是打开窗口的代码：

```
ReportParametersWindow win = null;

      bool canOverWrite = _shownReports.Contains(rpt.FriendlyName);

      if (!(canOverWrite))
        win = new ReportParametersWindow(rpt.FriendlyName, rpt.ReportParameters, canOverWrite);
      else
        win = new ReportParametersWindow(rpt.FriendlyName, (container.ParametersWindow as ReportParametersWindow).Controls, canOverWrite);

      win.ShowDialog(); 
```

以及窗口的 XAML：

```
<Window xmlns:my="clr-namespace:MHA.Modules.Core.Controls;assembly=MHA.Modules.Core"  
    x:Class="MHA.Modules.Reports.Views.ReportParametersWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Parameters" Height="500" Width="600" MinWidth="500" MaxHeight="500" 
    Icon="/MHA.Modules.Reports;component/Images/Parameters.ico" SizeToContent="WidthAndHeight" 
    WindowStartupLocation="CenterScreen"
    xmlns:odc="clr-namespace:Odyssey.Controls;assembly=Odyssey" Closed="Window_Closed">

<Grid>
    <Grid.RowDefinitions>
        <RowDefinition Height="*"/>
        <RowDefinition Height="40"/>
    </Grid.RowDefinitions>
    <ScrollViewer Grid.Row="0" Name="ScrollViewer1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" CanContentScroll="True">
        <StackPanel Name="ParameterStack">
            <my:LocationCtl Text="Parameters for report - " Name="loc"/>
        </StackPanel>
    </ScrollViewer>
    <Grid Grid.Row="1">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <CheckBox ToolTip="This will replace the first report of the same type that was shown." Name="chkOverwrite" Content="Overwrite old" VerticalAlignment="Center" Margin="5,0"></CheckBox>

        <Button Grid.Column="2" HorizontalAlignment="Right" Margin="5,0" Height="30" Style="{StaticResource DionysusButton}" Width="100" IsDefault="True" Click="Button_Click">
            <StackPanel Orientation="Horizontal">
                <Image Source="/MHA.Modules.Reports;component/Images/Success.png"></Image>
                <TextBlock Margin="5,0" Text="Accept" VerticalAlignment="Center"></TextBlock>
            </StackPanel>
        </Button>
    </Grid>
</Grid> 
```

有人有建议吗？

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-10-11T07:39:58.133

解决方案很奇怪，但我已经弄清楚了。

我意识到错误发生在窗口的 InitializeComponent() 上，然后我在构造函数中添加了一个 try catch 并显示了异常的 InnerException。

我收到的错误是“无法识别图像格式”。

我不知道为什么这只发生在 XP 和第二次显示窗口时，但是通过用 .png 替换我的 .ico 问题得到了解决。

希望这可以帮助某人。

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2013-08-22T13:18:53.387

我也遇到了这个问题......我知道这很旧，但我最终要做的是将图像设置为资源，并始终复制......只有浏览我的 /bin/Debug 文件夹我才意识到图像不在有效的路径位置

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2013-03-01T23:59:25.693

如果所需图像在指定位置不可用，也会出现此问题。所以检查内部异常并添加任何可能丢失或拼写错误的图像。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2014-02-25T08:40:15.600

我收到此错误是因为我的按钮命令绑定错误：

```
<Button Command="MyCommand" /> 
```

代替

```
<Button Command="{Binding MyCommand}" /> 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2016-08-27T21:58:47.450

您应该首先将图像导入您的项目解决方案资源管理器 - 显示全部

![在此处输入图像描述](../Images/e3d2eeafb9b06a5a07f1cd76fe4b8b58.png)

然后右键单击图像并选择包含

![在此处输入图像描述](../Images/5c6fc4a8b195a1cd233da32d204f4409.png)

现在使用结束

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2013-06-17T18:21:09.940

在我的情况下，根本原因是所有图像上的 BuildAction 属性错误。我通过将 BuildAction 从 Content 更改为 Resource 来修复它。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2014-01-17T09:35:15.830

就我而言，我已将“WpfToolkit”引用添加到我的模块中，并且没有必要。删除此引用后，一切正常。奇怪的！

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2013-09-23T14:31:09.403

将我的资源字典从我的应用程序的根目录移动到子目录后，我得到了这个异常。就我而言，问题是字典中我的样式设置器中的图像路径。在我在它们前面加上正斜杠“/”之后，应用程序又开始工作了。如果您遇到类似的问题，请打开资源字典，错误将用蓝色的“波浪”线突出显示。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2015-11-20T19:55:08.320

只需转到项目> [您的项目名称]设置并将您的 .ico 文件设置为图标现在您的 .ico 文件在您的清单文件中被提及，您可以使用简单地将您的 .ico 文件包含在您的 XAML 文件中

> Icon="[图标文件名].ico"

```
<Window  x:Class="[Your project's name].MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="" Height="500" Width="720"
     Icon="[your icon's name].ico"> 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2014-07-06T07:47:34.610

就我而言，我发现新添加的图标（图像）文件没有添加到我的项目中。在我将这些新图像文件添加到我的项目中后，它得到了解决，而不仅仅是文件副本。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2014-12-12T16:20:16.757

在我的例子中，这些文件存在于磁盘上，但在项目中没有被引用。我将它们添加到项目中，但尽管重新加载解决方案并重新启动 Visual Studio，但错误仍然存​​在。

我更改了对项目中已经存在的现有文件的引用，它运行良好（尽管图形错误）。然后我将它改回原来的参考，它再次运行良好，但图像正确。据推测，错误以某种方式被缓存，直到它被从系统中清除......

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2015-03-30T07:42:31.777

从您的 cs.proj 文件中删除“WPFToolkit”引用。

```
<Reference Include="WPFToolkit, Version=3.5.40128.1, Culture=neutral, PublicKeyToken=31bf3856ad364e35" /> 
```

它应该可以解决问题。

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2020-07-20T18:37:27.943

就我而言，另一个程序正在使用该图像，并且以某种方式阻止了访问。我发了一个副本，这很有效。

```
<Window
.....
     Height="450" Width="400" 
     Icon="../Resources/SettingsCopy.png" > 
```

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2019-07-22T12:37:53.860

好吧，在我的情况下，我将新照片添加到 FileExplore 中的图像文件夹中，而图像文件夹已添加到项目中。并且项目中的图像路径没有任何问题。但是当我构建项目时，我面临同样的错误。然后我通过***右键单击***图像文件夹将这些新照片添加到项目并***添加现有项目***并选择新照片。然后我***清理了解决方案***并***再次构建它***。

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2020-04-08T01:51:02.663

有很多方法可以导致这个问题。由于异常不是特定的。以下是可以从此线程尝试的解决方案列表。

*首先*，您可以通过引发异常`try/catch`的`InitializeComponent()`调用来获取有关所发生情况的更多详细信息。

*   如果图像是图标 (.ico) 文件，请改用图像 (.png) 或等效文件
    *   在某些情况下`.ico`文件有问题 - 我使用的是 .NETCore
*   确保您的图像文件具有构建操作`Resource`或`Embedded Resource`

    > 本节中描述的资源文件不同于 XAML 资源中描述的资源文件，也不同于管理应用程序资源 (.NET) 中描述的嵌入或链接资源。- [MSDN](https://docs.microsoft.com/en-us/dotnet/framework/wpf/app-development/wpf-application-resource-content-and-data-files)

*   确保您对文件的引用*拼写*和*路径*正确

    *   示例：“/Resources/logo.png”如果您有项目级别的文件夹
        *   注意前缀`/`。
*   xaml 文件中的颜色代码缺少主题标签前缀`"#000FE0"`

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2016-06-06T07:14:35.093

复制并粘贴文件名已更改。这就是我收到此错误的原因。

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2013-07-25T15:53:36.870

我遇到了同样的问题，要向您的解决方案添加图像，您必须通过向导来完成。在解决方案资源管理器中 -> 右键单击​​相应的文件夹 -> 添加现有项目 -> 然后浏览到您的图像。这对我有用。希望这可以帮助。谢谢你的回答。

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2013-07-11T16:53:48.020

要改进 user2125523：

如果您已将图像添加到项目并检查并再次检查文件拼写是否正确，请尝试重命名图像以镜像不同的现有图像。构建/运行，然后将您的图像文件名放回并再次构建/运行。

例如：`LargeImage="/img/32/delete.order.png"`即使此文件存在，我的原始代码也会不断抛出 OP 错误。

```
<telerik:RadRibbonButton Text="Object Properties" Size="Large"
    Name="PropertiesButton" IsTabStop="True"
    telerik:ScreenTip.Description="Get object properties" 
    Click="PropertiesButton_Click"
    LargeImage="/img/32/properties.png" 
    SmallImage="/img/16/properties.png" />
<telerik:RadRibbonButton Text="Reset Tab Order" Size="Large" 
    Name="ClearTabOrderButton" IsTabStop="True"
    telerik:ScreenTip.Description="Reset tab order of all fields"
    Click="ClearTabOrder_Click"
    LargeImage="/img/32/delete.order.png" 
    SmallImage="/img/16/delete.order.png" /> 
```

因此，我更改`LargeImage="/img/32/delete.order.png"`为`LargeImage="/img/32/properties.png"`，运行程序，然后将其更改回`"/img/32/delete.order.png"`. 最后错误消失了。

FYI VS2012.3 Win8.1预览

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2015-04-27T22:17:56.550

尝试将一组图像文件设置`Build Action`为.`Property``Resource`

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2015-06-08T11:29:32.447

异常曾经在构造函数中发生。Button 的命令绑定不正确。例如：`<Button Command="MyCommand" />`--> 错误 `<Button Command="{Binding MyCommand}" />`--> 正确

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2019-01-23T15:15:30.187

我在 XAML 的某处找到了“UpdateSourceTrigger=Pr”。

一定是在编辑过程中发生的。

编译顺利，没有任何错误。

在 app.xaml.cs 中的 Application_DispatcherUnhandledException 中设置断点揭示了错误。

更正为“UpdateSourceTrigger=PropertyChanged”，世界本应如此。

我在 Win 10 Pro，VS2017 上工作

* * *

## 回答 #22

> 赞同：0
> 
> 时间：2019-07-22T07:42:33.103

遇到这个错误，发现是Image Source路径格式有误。添加了一个正斜杠`/`，如下所示：

```
Source="/TestProject;component/Images//hat_and_book.png 
```

我删除了那个额外的斜线，错误就消失了。

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2017-09-20T15:06:29.570

就我而言，当我遇到此错误时

```
<Border Background="eeeeee"> 
```

代替

```
<Border Background="#eeeeee"> 
```

（注意错误`#`）

* * *

## 回答 #24

> 赞同：-2
> 
> 时间：2017-10-21T16:41:11.767

它是由 xaml 中的非标准标记选项导致找到它 set InitializeComponent(); 功能 - 尝试模式 - 像这样

```
 try { 
InitializeComponent(); 
} 
catch (Exception ex) { 
MessageBox.Show(ex.Message.ToString()); 
} 
```

现在MessageBox（（显示控制.axml文件中设置不正确的行号。（它只是在更正后显示第一个不正确的行标记错误，然后再次运行应用程序并查看下一个）

# javascript - Javascript正则表达式不允许文本字段中的空间

> ID：12833298
> 
> 赞同：2
> 
> 时间：2012-10-11T06:13:42.630
> 
> 标签：javascript, extjs

我有一个接收电子邮件的文本字段，不止一封电子邮件用逗号分隔，所以我想要一个不允许该文本字段中有空格的正则表达式，即空格键不起作用。请帮助..谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T12:26:43.870

```
maskRe: /[^ ]/ 
```

`[^ ]`表示除空格字符之外的任何内容。如果您想匹配所有空格而不仅仅是空格字符，请使用`/\S/`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T14:43:26.687

不要破坏预期的用户输入模型。提交后清理输入（以逗号分隔，然后修剪每个部分）。打破空格键只会惹恼人们。

# asp.net-mvc-3 - 尝试在 mvc 3 中一次将两个模型传递到同一个视图时出现问题

> ID：12833299
> 
> 赞同：1
> 
> 时间：2012-10-11T06:13:43.417
> 
> 标签：asp.net-mvc-3, view, model

我正在尝试为我的简单博客网站创建我的个人资料类型页面。我有两个像这样的简单模型类：

```
public class UserInfoModel
{

    public string UserName { get; set; }

    public string Email { get; set; }

    public string Password { get; set; }

    public string ConfirmPassword { get; set; }

}

public class NewPost
{

    public string PostTitle { get; set; }

    public string PostStory { get; set; }

} 
```

我创建了一个用户和帖子的联合模型类来传递给这样的视图：

```
public class UserPostModel
{
    public UserInfoModel User { get; set; }
    public NewPost Post { get; set; }
} 
```

我写的检索用户和帖子信息的方法是这样的：

```
public int GetUserID(string _UserName)
    {
        using (var context = new TourBlogEntities1())
        {
            var UserID = from s in context.UserInfoes
                         where s.UserName == _UserName
                         select s.UserID;
            return UserID.Single();

        }
    }

    public UserInfo GetUserDetails(int _UserID)
    {
        using (var context = new TourBlogEntities1())
        {
            var UserDetails = (from s in context.UserInfoes
                              where s.UserID == _UserID
                              select s).Single();
            return UserDetails;
        }
    }

    public Post GetUserPosts(int _UserID)
    {
        using (var context = new TourBlogEntities1())
        {
            var entity = (from s in context.Posts
                         where s.UserID == _UserID
                         select s).Single();

            return entity;
        }
    } 
```

最后，我从我的控制器操作中调用我的所有方法，如下所示：

```
[Authorize]
   public ActionResult MyProfile()
   {
       var Business = new Business();
       var UserID=Business.GetUserID(User.Identity.Name);
       var UserEntity=Business.GetUserDetails(UserID);
       var PostEntity=Business.GetUserPosts(UserID);

       var model = new UserPostModel();
       model.User.UserName = UserEntity.UserName; // problem showing here
       model.User.Email = UserEntity.Email;
       model.Post.PostTitle = PostEntity.PostTitle;
       model.Post.PostStory = PostEntity.PostStory;

       return View("MyProfile",model);
   } 
```

显示类似“对象未引用对象类型或空对象”的运行时错误。在传递单个模型时，我以非常相似的方式工作得很好。我在这里做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:20:11.197

修改了你的 UserPostModel

```
public class UserPostModel
{
    public UserPostModel()
    {
       User = new UserInfoModel();
       Post = new Post();   
    }
    public UserInfoModel User { get; set; }
    public NewPost Post { get; set; }
} 
```

注意：在设置为模型之前检查每个值，它不应为空。

# android - 如何使用progressing/streaming方法将大尺寸的zip文件上传到android中的服务器？

> ID：12833304
> 
> 赞同：0
> 
> 时间：2012-10-11T06:14:01.517
> 
> 标签：android, file-upload, streaming

在我的应用程序中，我想压缩更多图像，压缩文件应该使用 HTTP 连接上传到服务器。现在我已经完成了压缩过程。但由于文件很大，我无法像上传图片一样直接上传。

任何人都可以请你分享你的想法吗？有没有可能实现这一目标？如果您知道任何第三方应用程序，请参考我。

谢谢。

# gwt - GWT CellTable 工具提示无法正常工作

> ID：12833308
> 
> 赞同：3
> 
> 时间：2012-10-11T06:14:22.513
> 
> 标签：gwt, gwt-celltable

我正在使用 CellTable，每当我将鼠标悬停在任何单元格上时，我都想显示一个工具提示。我的代码工作正常，但工具提示没有改变它的位置。

我的意思是，**如果我将鼠标悬停在单元格 1 工具提示显示上，然后如果我将鼠标悬停在单元格 100 上，工具提示数据会更改，但工具提示仍显示在单元格 1**上。

我正在使用以下代码：

```
cellTable.addCellPreviewHandler(new Handler<List<String>>() {
  @Override
  public void onCellPreview(CellPreviewEvent<List<String>> event) {
    if ("mouseover".equals(event.getNativeEvent().getType())) {
      Element cellElement = event.getNativeEvent().getEventTarget().cast();

      cellElement.setTitle('cell contents go here.');
    }
  }
} 
```

任何帮助深表感谢。
谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:40:53.203

您可以扩展 Column 类并覆盖方法渲染。在 render 方法中，您可以使用属性“title”，该属性用于设置工具提示文本。简单的例子：

```
SampleColumn<T> extends TextColumn<T> {

  @Override
  public void render(Context context, T object, SafeHtmlBuilder sb) {
    sb.appendHtmlConstant("<div title=\"" + getTitle(object) + "\">");
    sb.appendEscaped(getValue(object));
    sb.appendHtmlConstant("</div>");
  }

  @Override
  public String getValue(T object) {
    return displayedValue;
  }

  public String getTitle(T object) {
    return yourTooltipText;
  }
} 
```

使用此代码时，工具提示将恰好靠近目标单元格。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-22T03:11:36.470

```
if (cellElement.getParentElement()
              .getFirstChildElement().isOrHasChild(Element.as(event.getNativeEvent().getEventTarget()))
              && cellElement.getTagName().equalsIgnoreCase("span")) 
```

这解决了这个问题。
感谢安德烈和亚历克斯的回复。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-11-24T11:38:57.887

谢谢大家，我也在寻找解决方案。

使用 A cup of tea 的答案，我制作了一个通用类，可以重用它来向任何单元格添加工具提示。它基于装饰器模式。如果它可以帮助某人：

```
public class TooltipCell extends AbstractSafeHtmlCell<String>
{
    AbstractCell<String> cell;
    private String tooltip;

    public TooltipCell(AbstractCell<String> cell, String tooltip)
    {
        super(SimpleSafeHtmlRenderer.getInstance(), BrowserEvents.CLICK, BrowserEvents.KEYDOWN);
        this.cell = cell;
        this.tooltip = tooltip;
    }

    @Override
    protected void render(com.google.gwt.cell.client.Cell.Context context, SafeHtml data, SafeHtmlBuilder sb)
    {
        sb.appendHtmlConstant("<div title=\"" + tooltip + "\">");
        cell.render(context, data.asString(), sb);
        sb.appendHtmlConstant("</div>");
    }

    @Override
    public void onBrowserEvent(com.google.gwt.cell.client.Cell.Context context, Element parent, String value, NativeEvent event, ValueUpdater<String> valueUpdater)
    {
        cell.onBrowserEvent(context, parent, value, event, valueUpdater);
    }
} 
```

然后可以按如下方式使用：

```
myColumn = new Column<MyObject, String>(new TooltipCell(new ButtonCell(), "tooltip text"))
    {
        @Override
        public String getValue(CurrencyDTO object)
        {
            return "button text";
        }
    }; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T14:23:30.977

此解决方案有效：

```
cellTable.addCellPreviewHandler(new Handler<List<String>>() {
  @Override
  public void onCellPreview(CellPreviewEvent<List<String>> event) {
    if ("mouseover".equals(event.getNativeEvent().getType())) {
      cellTable.getRowElement(event.getIndex()).getCells().getItem(event.getColumn()).setTitle('cell contents go here.');
    }
  }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-12-28T02:09:18.093

```
cellTable.addCellPreviewHandler(new Handler<List<String>>() {
  @Override
  public void onCellPreview(CellPreviewEvent<List<String>> event) {
    if ("mouseover".equals(event.getNativeEvent().getType())) {
      cellTable.getRowElement(event.getIndex()).getCells().getItem(event.getColumn()).setTitle('cell contents go here.');
    }
  }
} 
```

Andrei 的解决方案效果很好，但应该修复一个错误：

```
cellTable.getRowElement(event.getIndex() - cellTable.getPageStart()).getCells().getItem(event.getColumn()).setTitle('cell contents go here.'); 
```

# android - 如何使用 phonegap 2.0.0 获取设备联系人？

> ID：12833311
> 
> 赞同：2
> 
> 时间：2012-10-11T06:14:37.673
> 
> 标签：android, cordova

我正在使用phonegap（Cordova 2.0.0）开发一个android应用程序。我需要检索设备联系人。我已经尝试使用给定此文档的代码

> [http://docs.phonegap.com/en/2.0.0/cordova_contacts_contacts.md.html#Contacts](http://docs.phonegap.com/en/2.0.0/cordova_contacts_contacts.md.html#Contacts)

我的代码如下

```
$("#shareoptions3").live('click',function(){        

    var options = new ContactFindOptions();

    options.multiple  = true; 
    var fields = ["displayName","phoneNumbers"];//["displayName", "name","phoneNumbers"];
    navigator.contacts.find(fields, onContactSuccess, onContactError, options);
});

function onContactSuccess(contacts) {//alert(contacts.length);

    for (var i=0; i<contacts.length; i++) {
        // display phone numbers
        for (var j=0; j<contacts[i].phoneNumbers.length; j++) {
            alert("Type: " + contacts[i].phoneNumbers[j].type + "\n" + 
                "Value: "  + contacts[i].phoneNumbers[j].value + "\n" + 
                "Preferred: "  + contacts[i].phoneNumbers[j].pref);
        }
    }
};

// onError: Failed to get the contacts
//
function onContactError(contactError) {
    console.log('Error in getting contacts!');
} 
```

我在 Logcat 中收到这样的消息：

> 成功回调中的错误：Contacts3 = TypeError：无法在 file:///android_asset/www/JS/cordova-2.0.0.js:258 处读取 null 的属性“长度”

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T09:26:29.587

您的某个联系人可能没有电话号码，这就是为什么您会得到一个`null`值而不是电话号码的原因。

因此，在您的`for`循环中，其中一个将`contacts[i].phoneNumbers.length`生成错误。

我建议您在显示/警告之前先检查是否存在，方法`phoneNumbers`是：`null`

```
if(contacts[i].phoneNumbers != null) 
```

**最后，您可以尝试这样的事情：**

```
$("#shareoptions3").live('click',function(){        

    var options = new ContactFindOptions();

    options.multiple  = true; 
    var fields = ["displayName","phoneNumbers"];//["displayName", "name","phoneNumbers"];
    navigator.contacts.find(fields, onContactSuccess, onContactError, options);
});

function onContactSuccess(contacts) {//alert(contacts.length);

    for (var i=0; i<contacts.length; i++) {

        // display phone numbers

        if(contacts[i].phoneNumbers != null)  // Checking if not null
            for (var j=0; j<contacts[i].phoneNumbers.length; j++) {
                alert("Type: " + contacts[i].phoneNumbers[j].type + "\n" + 
                    "Value: "  + contacts[i].phoneNumbers[j].value + "\n" + 
                    "Preferred: "  + contacts[i].phoneNumbers[j].pref);
            }
    }
};

// onError: Failed to get the contacts
//
function onContactError(contactError) {
    console.log('Error in getting contacts!');
} 
```

希望这会有所帮助，让我知道这是否适合您。

# for-loop - 批处理文件中的循环和变量

> ID：12833316
> 
> 赞同：0
> 
> 时间：2012-10-11T06:14:50.137
> 
> 标签：for-loop, dos, batch-file

我只想读取批处理文件中的前两行并将它们存储在两个不同的变量中。我使用了这段代码：

```
@echo off 

for /f "delims=''" %%f in (red.txt) do (

echo file is: %%f

set /A Counter+=1
call :a %counter%
echo Counter After Increment: %Counter%
echo.
)
:a
if %Counter% equ 1 (set "file1=%f"
echo first file is: %file1%)

if %Counter% equ 2 (set "file2=%f"
echo second file is: %file2%)

if %Counter% equ 4 exit
echo Counter after for loop: %Counter%

pause 
```

但变量“file1”和“file2”显示为空白。关于如何去做的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:01:22.423

您的尝试有点矫枉过正，语法错误。

试试这个

```
<red.txt (
  set /p line1=
  set /p line2=
)
echo line1=%line1% 
echo line2=%line2% 
```

# asp.net - 一个服务层可以包含多个服务吗？

> ID：12833317
> 
> 赞同：2
> 
> 时间：2012-10-11T06:14:50.373
> 
> 标签：asp.net, architecture, service-layer

我正在重新构建一个大型 Web 表单 ASP.Net 应用程序，插入一个服务层以从表示层中消除不必要的责任。

我见过很多例子，所有的服务方法都包含在一个类中。

这是常见/最佳做法吗？或者在服务层中拥有多个服务类是否完全可行？我倾向于拥有不止一项服务，并且这些服务能够相互通信。

任何指导，优点/缺点？

理查德

Ps 请注意，我不是在谈论*Web*服务层、WCF 或其他，尽管以后可能会变得更加相关。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T07:22:55.647

[SOLID 原则](http://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29)，特别是[单一职责原则](http://en.wikipedia.org/wiki/Single_responsibility_principle)表明，将所有功能放在一个对象中是一个坏主意，我倾向于同意。随着应用程序的增长，单个类将变得难以维护。

您对 Yuriys 回答的评论会建议您使用 IOC 容器。让我们更详细地考虑一下……

这个类包含的功能越多，它需要的依赖项就越多。您很可能最终在服务上拥有一个具有一长串参数的构造函数，这仅仅是因为该类涵盖了很多领域并且依赖于较低级别的其他功能，例如日志记录、数据库通信、身份验证等。让我们说该服务的消费者希望在销毁实例之前调用该类上的一个且仅一个特定方法。您的 IOC 容器将需要注入服务在运行时可能“可能”需要的每个依赖项，即使消费者只会使用这些依赖项中的 1 个或 2 个。

同样从操作的角度来看 - 如果团队中有多个开发人员同时在服务层上工作，那么如果你们都在编辑一个文件，则合并冲突的可能性更大。但是，正如建议的那样，您可以使用部分来解决这个问题。

通常，与众所周知的模式或原则相结合的实用性是最好的前进方式。

[如果您还没有研究过面向服务的架构](http://en.wikipedia.org/wiki/Service-oriented_architecture)，我建议您研究一下，因为它可以帮助您回答解决方案方法中的一些关键决策。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T07:59:09.623

当然可以。此外，我认为最好从这个上帝服务层类中按功能提取几个接口（即ISecurityService、INotificationService等），并在单独的项目中实现每个接口。此外，您可以利用一些 IOC 容器来解析实现服务接口的类。这样，您可以独立更改每个服务的实现，而无需更改客户端功能。

至少，您第一次可以将您的服务超类标记为部分，然后按功能将其拆分为几个具有有意义名称的 .cs(.vb) 文件，并在 Visual Studio 中将它们组合在一起。这将简化跨服务方法的导航。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T07:07:23.970

我对构建应用程序的看法是首先将应用程序拆分为两个项目 AppX.Web（UI 逻辑）和 AppX.Business（业务逻辑），但仍将它们保留在同一个 VS 解决方案中。业务逻辑和 UI 逻辑之间的结构澄清有助于您了解哪些服务在多个网页之间共享，哪些服务是单个网页的本地服务。您应该避免在网页之间直接重用代码，如果您发现这是必要的，那么您应该将那段共享代码移动到业务逻辑层。

在实现业务逻辑项目时，您应该尝试为不同类型的业务逻辑创建单独的类。这些类当然可以互相交谈，但要避免让网页互相交谈。

将 UI 逻辑与业务逻辑分离后，如有必要，您可以继续将 AppX.Business 代码分解为更小的部分。常见的例子包括：

*   AppX.Data：将所有数据操作与实际业务逻辑隔离开的数据访问层 (DAL)
*   AppX.Dto：数据传输对象（DTO），在许多场景中都很有用，例如，将数据发送到客户端浏览器以供 jQuery 处理时
*   AppX.Common：对许多其他应用程序通用的共享逻辑，这可以是您之前创建的帮助类，也可以是在项目结束后应审查的内容，以包含在公司范围的支持类中。

最后，让我们谈谈全力以赴并将您的业务逻辑公开为 WCF 服务。在这种情况下，您实际上不需要更改现有结构中的任何内容。您可以将 WCF 服务添加到现有的 AppX.Web 项目中，也可以在 AppX.Service 中单独公开它们。如果您已将业务逻辑与 UI 逻辑正确分离，则 WCF 层可以只是业务逻辑的薄包装。

在实现 WCF 服务时，很可能在一个类中完成所有这些工作。WCF 服务中没有真正的业务逻辑可用，因为它只是直接调用业务逻辑。

如果您构建一个新应用程序，您应该预先考虑您的整体设计，但是现在您正在重新架构，我认为您应该逐步工作：

*   首先创建 AppX.Web 和 AppX.Business 项目
*   识别服务并在 AppX.Business 中为这些服务创建类
*   将 AppX.Web 项目中的代码移动到 AppX.Business 中的新类中，并确保从 Web 项目中调用它们。
*   如果您觉得需要，请继续进行额外的细分！

# c#-4.0 - 我想找出使用 C# 在双核中最大使用多少线程

> ID：12833329
> 
> 赞同：-3
> 
> 时间：2012-10-11T06:15:50.840
> 
> 标签：c#-4.0

我正在使用 C#。我想使用线程概念编写程序。我只是想知道使用 C# 最多可以在双核中运行多少线程。我附上我的部分代码：

```
Thread t1 = new Thread(threadJobA);
Thread t2 = new Thread(threadJobB);
t1.Start();
t2.Start(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:22:06.087

您可以使用`Environment.ProcessorCount`找出机器中有多少个内核。

但是，这并不限制您可以启动的线程数，它只会告诉您可以同时运行多少个线程。在某些情况下，启动更多线程可能有用，在某些情况下启动更少。这完全取决于线程应该做什么。

# mysql - MySQL 无法更改 character_set_*

> ID：12833334
> 
> 赞同：0
> 
> 时间：2012-10-11T06:16:47.457
> 
> 标签：mysql, character-encoding

我正在尝试将 /etc/my.cnf 中的 character_set_* 从 latin1 更改为 utf8。

我已经尝试了以下所有方法：

```
character_set_server=utf8
character-set-server=utf8
default-character-set=utf8
default_character_set=utf8
collation-server = utf8_unicode_ci 
```

但他们都得到了`unknown variable XXX`。但是，删除这些后，只有`character_set_database`并`character_set_server`保持 latin1。

我注意到没有 utf.xml 在`character_sets_dir`. 有关系吗？

```
mysql  Ver 14.14 Distrib 5.5.28, for osx10.6 (i386) using readline 5.1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:05:08.580

尝试设置

```
default-character-set=utf8
character-set-server=utf8
skip-character-set-client-handshake 
```

在`[mysqld]`部分

# java - 如何通过java启动的不同进程重定向输出

> ID：12833339
> 
> 赞同：0
> 
> 时间：2012-10-11T06:16:54.527
> 
> 标签：java

我有一个在 Linux 机器上运行的 java 程序。它调用一个 ant 目标来执行。我可以在屏幕上看到打印的日志，但是没有日志文件，这是我过去使用 shell 脚本运行它时生成的。我想将屏幕日志重定向到一个文件中。我尝试用“tee”重定向，但它只重定向我在 java 类中打印的部分。有人可以帮我弄这个吗。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:22:20.133

在 build.xml 文件中，您可以开始和停止记录到日志文件：

```
<record name="file.log" action="start"/>
...
<record name="file.log" action="stop"/> 
```

有关更多详细信息，请参阅[相应的 ant 文档](https://ant.apache.org/manual/Tasks/recorder.html)。

如果您不想编辑 build.xml，则可能是 ant 使用的是 stderr 而不是 stdout。找出您正在使用的 shell 并查看如何将 stdout 重定向到 stderr。例如，在 bash 中，它将是`ant 2>&1 | tee file.log`.

# python - 为什么 ConfigParser 不立即写入磁盘？

> ID：12833345
> 
> 赞同：0
> 
> 时间：2012-10-11T06:17:28.570
> 
> 标签：python, configparser

给定以下脚本：

```
import ConfigParser
from datetime import datetime
import time

def write_stuff():
    section = "test"
    item = "oh hey there"
    conf_filename = "test.conf"

    conf = ConfigParser.ConfigParser()
    conf.readfp(open(conf_filename, 'r', 0))

    timestamp = datetime.now().strftime("%Y-%m-%d_%H%M%S")

    conf.set(section, timestamp, item)

    with open(conf_filename, "w", 0) as conf_file:
        # time.sleep(1)
        conf.write(conf_file)

write_stuff()
write_stuff()
write_stuff()
write_stuff() 
```

它只会将一个条目写入文件，如下所示：

```
$ touch test.conf
$ python tests.py  # this is what I've named the above
$ $ cat test.conf
[test]
2012-10-10_231439 = oh hey there 
```

但是，如果您取消注释 time.sleep(1)，则会显示所有条目。奇怪的是（对我来说，无论如何），即使你调用了 write_stuff()，并且从 shell 快速连续调用脚本，也会发生这种情况。我认为一旦 Python 退出，任何要写入磁盘的内容都会写入磁盘。这是怎么回事？

环境：Mac OS X 10.8 上的 Python 2.7.3

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T08:48:18.127

这里的问题是您在配置文件中使用的键值是一个**分辨率为 1 秒**的时间戳。这意味着，当您`write_stuff()`连续调用四次时，时间没有改变，时间戳也没有改变，您只需覆盖之前的值，而不是添加新值。

您需要做的是每次生成一个唯一的键值。如果您想保留时间戳值，可以这样做：

```
count = 0

def write_stuff():
    global count

    section = "test" 
    item = "oh hey there" 
    conf_filename = "test.conf" 

    conf = ConfigParser.ConfigParser() 
    conf.readfp(open(conf_filename, 'r', 0)) 

    timestamp = datetime.now().strftime("%Y-%m-%d_%H%M%S")+ "_%s" % count
    count += 1

    conf.set(section, timestamp, item) 

    with open(conf_filename, "w", 0) as conf_file: 
        conf.write(conf_file) 
```

请注意，写入配置文件的值不会按任何特定顺序排列。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T06:19:54.863

您一遍又一遍地编写相同的条目，使用`"a"`而不是`"w"`附加文件：

```
with open("test.txt", "a") as myfile:
    myfile.write("appended text") 
```

Mybe 你想要这样的东西[，](http://docs.python.org/library/configparser.html)所以该部分被打印一次，你可以向它添加多个项目：

```
config.add_section('Section1')
config.set('Section1', 'an_int', '15')
config.set('Section1', 'a_bool', 'true')
config.set('Section1', 'a_float', '3.1415')
config.set('Section1', 'baz', 'fun')
config.set('Section1', 'bar', 'Python')
config.set('Section1', 'foo', '%(bar)s is %(baz)s!')

# Writing our configuration file to 'example.cfg'
with open('example.cfg', 'wb') as configfile:
    config.write(configfile) 
```

输出：

```
[Section1]
bar = Python
baz = fun
a_bool = true
an_int = 15
foo = %(bar)s is %(baz)s!
a_float = 3.1415 
```

如您所见，您应该一次性完成，而无需多次调用您的函数。

# java - J2EE 过滤器：登录页面无法加载 css 或任何图像

> ID：12833346
> 
> 赞同：2
> 
> 时间：2012-10-11T06:17:34.020
> 
> 标签：java, jsp, jakarta-ee, servlet-filters

我已经访问了[Java FilterImplementation 以获取会话检查](https://stackoverflow.com/questions/10973997/java-filterimplementation-for-session-checking/10974023#10974023)链接，其中提到了 Spring 安全性。我没有得到我需要的帮助。

应用过滤器 login.jsp 后无法加载 CSS 和图像。

我正在尝试在 web.xml 中提供过滤器并将过滤器应用于 login.jsp 以外的页面的简单示例。Web.xml 文件是：

```
<filter>
    <filter-name>struts2</filter-name>
    <filter-class>
         org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter
    </filter-class>
</filter>
<filter-mapping>
    <filter-name>struts2</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>
 <filter>
 <filter-name>AuthenticationFilter2</filter-name>
 <filter-class>filter.AuthorizationFilter2</filter-class>
 <init-param>
    <param-name>avoid-urls</param-name>
    <param-value>login.jsp</param-value>
 </init-param>`
 <filter> 
```

过滤器类是：

```
 private ArrayList<String> urlList;

public void destroy() {
    // TODO Auto-generated method stub
    System.out.println("authorization filter2 destroy method....");
}

public void doFilter(ServletRequest req, ServletResponse res,
        FilterChain chain) throws IOException, ServletException {

    System.out.println("authorization filter2 doFilter method....");

    HttpServletRequest request = (HttpServletRequest) req;
    HttpServletResponse response = (HttpServletResponse) res;
    String url = request.getServletPath();

    System.out.println("ppp:"+request.getRequestURL());

    System.out.println("url is :"+url);

    boolean allowedRequest = false;

    System.out.println("url list is :"+urlList);

    if(urlList.contains(url.substring(1))) {
        allowedRequest = true;
    }
    System.out.println("request allowed....."+allowedRequest);     
    if (!allowedRequest) {

        Map session = ActionContext.getContext().getSession();

        /*HttpSession session = request.getSession(false);*/
       /* if (null == session) {
            response.sendRedirect("login.jsp");
        }*/

        System.out.println("session contains login :"+session.containsKey("login"));

        if(!session.containsKey("login")){
            response.sendRedirect("login.jsp");
        }

    }

    chain.doFilter(req, res);
}

public void init(FilterConfig config) throws ServletException {
    System.out.println("authorization filter2 init method....");
    String urls = config.getInitParameter("avoid-urls");
    StringTokenizer token = new StringTokenizer(urls, ",");

    urlList = new ArrayList<String>();

    while (token.hasMoreTokens()) {
        urlList.add(token.nextToken());

    }
} 
```

登录页面包含`css`并`images`根据要求。

请帮帮我。谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-18T07:07:44.973

```
@Override
public void doFilter(ServletRequest request, ServletResponse response,
        FilterChain chain) throws IOException, ServletException {

    String uri = ((HttpServletRequest)request).getRequestURI();

    @SuppressWarnings("rawtypes")
    Map session = ActionContext.getContext().getSession();

    if ( uri.indexOf("/css") > 0){
        chain.doFilter(request, response);
    }
    else if( uri.indexOf("/images") > 0){
        chain.doFilter(request, response);
    }
    else if( uri.indexOf("/js") > 0){
        chain.doFilter(request, response);
    }
    else if (session.containsKey("login")) {
        chain.doFilter(request, response);
    }
    else {
        ((HttpServletResponse)response).sendRedirect(((HttpServletRequest)request).getContextPath() + "/login?authentication=failed");
    }
} 
```

将此代码块放入您的操作类中，它可以工作。谢谢你们。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T07:14:42.667

您在 logjn.jsp 页面上使用的 CSS 文件和图像必须从您的过滤器中排除

# clearcase - 如果它不起作用，如何创建示例活动并抛出它？

> ID：12833348
> 
> 赞同：1
> 
> 时间：2012-10-11T06:17:43.653
> 
> 标签：clearcase, clearcase-ucm

在UCM中，有时我们可能需要做一些实验性的活动。

它可能包含也可能不包含在最终交付中。

如果我们不想交付，我们不会将其交付到集成流。

但是这里的问题是依赖，有时实验活动与其他活动产生依赖关系，我们被迫交付它。

有没有什么方法可以安全地进行实验而没有任何副作用？

是否可以删除活动及其相应的变更集，就好像它没有添加到 clearcase 本身一样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:27:59.747

最安全的方法是将该实验隔离在其自己的 UCM 流中。
因为如果您不这样做，您可能会在一段时间内进行*部分*交付，然后被迫交付*所有*活动：请参阅“ [Clearcase UCM - 交叉交付与向上交付？](https://stackoverflow.com/questions/1643968/clearcase-ucm-cross-delivering-vs-delivering-upwards/1644109#1644109) ”。

另一个依赖问题是基于文件的（当您要交付的活动基于在实验活动中创建的版本时）。这是在其自己的 Stream 中隔离所述实验的另一个论点。
这将使删除活动变得非常危险。
只有在活动为空时才能删除活动，这意味着如果您已将所有版本移动到另一个活动中（这无法解决任何问题），或者如果您拥有`rmver`它们。
并且您应该避免删除一个版本（在 ClearCase UCM 中太危险了）。

使用专用流，您可以确保提供所有活动，或不提供任何活动。

* * *

Tamir 提到的[减法合并](https://stackoverflow.com/questions/1636712/evil-twin-problem-and-subtractive-merge/1637405#1637405)当然不是解决方案，尤其是当您有许多活动要取消时（即当您被迫交付许多活动时）。
您确实有一个取消活动的脚本（请参阅“ [Clearcase 中活动的反向变更集](https://stackoverflow.com/questions/8048754/reverse-changset-of-an-activity-in-clearcase/8049738#8049738)”），但这会用许多*其他*版本污染您的历史记录。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-11T06:35:08.150

此外，您可以进行减法合并。但是，这是非常危险的，您应该非常小心地进行操作。您可以在此处找到更多信息： [http ://www-01.ibm.com/support/docview.wss?uid=swg21123001](http://www-01.ibm.com/support/docview.wss?uid=swg21123001)

# iphone - 未捕获的异常： valueAtIndex:inPropertyWithKey: index != 0 对于非 toMany 键

> ID：12833352
> 
> 赞同：0
> 
> 时间：2012-10-11T06:18:24.517
> 
> 标签：iphone, objective-c, ios, cocoa-touch, cocoa

我收到此异常消息：

***** 未捕获的异常：valueAtIndex:inPropertyWithKey: index != 0 for non-toMany key****

 **有谁知道如何解决这个问题？

谷歌没有给我这个例外的任何结果。

**编辑**添加代码

当控件进入return语句时：

```
- (id)tableView:(NSTableView *)tableView
      objectValueForTableColumn:(NSTableColumn *)tableColumn
                            row:(int)row {
if ([[tableColumn identifier] isEqualToString:@"Methods"])
  {
    return [plistArray_ valueAtIndex:row inPropertyWithKey:@"functionName"];
  }
return [plistArray valueAtIndex:row inPropertyWithKey:@"address"];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:56:19.680

如果您的属性不返回指定的对象集合，则索引需要为 0。

```
This actually works with a single-value key as well if index is 0\. The method valueIn<Key>AtIndex: is used if it exists. 
```

在其他世界。您的某些属性仅返回一个对象，并且您的行值大于 0。**

# java - Java双重检查锁定，此代码有效吗？

> ID：12833353
> 
> 赞同：3
> 
> 时间：2012-10-11T06:18:25.517
> 
> 标签：java, double-checked-locking

我已阅读[“双重检查锁定已损坏”声明](http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html)。但我想知道如果我通过函数创建对象，可以吗？

```
 class Foo { 
      private Helper helper = null;
      public Helper getHelper() {
        if (helper == null) 
          synchronized(this) {
            if (helper == null) 
              helper = createHelper();
          }    
        return helper;
      }
      private Helper createHelper() {
         return new Helper();
      }
      // other functions and members...
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T06:32:44.620

不，它不会有任何区别，添加一个功能不会有任何区别。而你的功能什么也不做。

但是，如果您声明它将`volatile`从 Java 1.5 开始工作

```
private volatile Helper helper = null; 
```

java中延迟初始化的正确方法之一是[Initialization-on-demand holder idiom](http://en.wikipedia.org/wiki/Initialization_on_demand_holder_idiom) 。这依赖于内部类在被引用之前不会加载的事实。

```
class Foo {
    private static class HelperHolder {
        public static Helper helper = new Helper();
    }

    public static Helper getHelper() {
        return HelperHolder.helper;
    }
} 
```

# php - 如何在 PHP 中替换变音符号或 Unaccent？

> ID：12833356
> 
> 赞同：2
> 
> 时间：2012-10-11T06:18:46.713
> 
> 标签：php, character-encoding, diacritics

我有一个名字“ **Göran** ”，我希望将它转换为“ **Goran** ”，这意味着我需要取消特定单词的**重音。**但是我尝试过的似乎并没有使所有单词都**重音。**

这是我用来 Unaccent 的代码：

```
private function Unaccent($string)
{
    return preg_replace('~&([a-z]{1,2})(?:acute|cedil|circ|grave|lig|orn|ring|slash|th|tilde|uml|caron);~i', '$1', htmlentities($string, ENT_COMPAT, 'UTF-8'));
} 
```

不工作的地方（不正确的匹配）：我的意思是它没有在右手边给出预期的结果，

```
JÃƒÅ’rgen => Juergen
InÃƒÅ¡s => Ines 
```

它工作的地方（正确匹配）：

```
GÃ¶ran => Goran
JÃ¸rgen Ole => Jorgen
JÃ©rÃ´me => Jerome 
```

可能是什么原因？怎么修？您有更好的方法来处理所有案件吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T06:21:09.147

这可能是您正在寻找的

[如何将特殊字符转换为普通字符？](https://stackoverflow.com/questions/9720665/how-to-convert-special-characters-to-normal-characters)

但改用“utf-8”。

```
$text = iconv('utf-8', 'ascii//TRANSLIT', $text); 
```

[http://us2.php.net/manual/en/function.iconv.php](http://us2.php.net/manual/en/function.iconv.php)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T06:22:20.273

**简短的回答**

你有两个问题：

首先。这些名称没有重音。它们格式错误。

您似乎有一个 UTF-8 文件，但正在使用 ISO-8559-1 处理它们。例如，如果您告诉您的编辑器使用 ISO-8859-1 并使用 UTF-8 将文本复制粘贴到浏览器的文本区域中。然后，您将格式错误的名称保存在数据库中。我见过很多这样的问题是由复制粘贴引起的。

如果名称格式正确，则可以解决第二个问题。不重音。已经有一个问题处理这个问题：[如何将特殊字符转换为普通字符？](https://stackoverflow.com/q/9720665/220060)

**长答案（仅关注格式错误的重音字母）**

为什么你有`GÃ¶ran`你想要的时候`Göran`？

Let's begin with Unicode: The letter `ö` is in Unicode `LATIN SMALL LETTER O WITH DIAERESIS`. Its Unicode code point is F6 hexadecimal or, respectively, 246 decimal. See this [link](http://www.fileformat.info/info/unicode/char/f6/index.htm) to the Unicode database.

In ISO-8859-1 code points from 0 to 255 are left as is. The small letter o with diaeresis is saved as only one byte: 246.

UTF-8 and ISO-8859-1 treat the code points 0 to 127 (aka ASCII) the same. They are left as is and saved as only one byte. They differ in the treatment of the code points 128 to 255\. UTF-8 can encode the whole Unicode code point set, while ISO-8859-1 can only cope with the first 256 code points.

So, what does UTF-8 do with code points above 128? There is a staggered set of encoding possibilities for code points as they get bigger and bigger. For code points up to 2047 two bytes suffice. They are encoded like this: ([see this bit schema](http://en.wikipedia.org/wiki/UTF-8#Description))

```
x xxxx xxxx xxxx => 110xxxxx 10xxxxxx 
```

Let's encode small letter o with diaresis in UTF-8\. The bits are: `0 0000 1111 0110` and gets encoded to `11000011 10110110`. This is nice.

However, these two bytes can be misunderstood as two **valid** (!) ISO-8559-1 bytes. What are `11000011` (C3 hex) and `10110110` (B6 hex)? Let's consult [an ISO-8859-1 table](http://www.ic.unicamp.br/~stolfi/EXPORT/www/ISO-8859-1-Encoding.html). C3 is Capital A tilde, and B6 is Paragraph sign. Both signs are valid and no software can detect this misunderstanding by just looking at the bits.

It **definitively** needs people who know what names look like. `GÃ¶ran` is just not a name. There is an uppercase letter smack in the middle of the name and the paragraph sign is not a letter at all. Sadly, this misunderstanding does not stop here. Because all characters are valid, they can be copy-pasted and re-rendered. In this process the misunderstanding can be repeated again. Let's do this with `Göran`. We already misunderstood it once and got a badly formatted `GÃ¶ran`. The letter Capital A, tilde and the paragraph sign render to two bytes in UTF-8 **each** (!) and are interpreted as four bytes of gobbledygook, something like `GÃƒÅ.ran`.

Poor Jürgen! The umlaut `ü` got mistreated twice and we have `JÃƒÅ’rgen`.

We have a terrible mess with the umlauts here. It's even possible that the OP got this data as is from his customer. This happened to me once: I got mixed data: well formatted, badly formatted once, twice and thrice in the same file. It's extremely frustrating.

# vba - vba中等效的ms访问查询

> ID：12833361
> 
> 赞同：0
> 
> 时间：2012-10-11T06:19:38.077
> 
> 标签：vba, ms-access, vb6, ms-access-2007

我想要一个 vba 查询来生成与

```
SELECT Count(INFO.plate_no) AS CountOfplate_no
FROM Info
HAVING ((date_time Between #10/8/2012 20:55:20# And #10/10/2012 14:5:50#)); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:21:39.137

它有效吗？[拥有 (Transact-SQL)](http://msdn.microsoft.com/es-es/library/ms180199.aspx)

```
SELECT Count(INFO.plate_no) AS CountOfplate_no 
FROM INFO 
WHERE((date_time Between #10/8/2012 20:55:20# And #10/10/2012 14:5:50#)); 
```

# java - java中如何选择设计模式

> ID：12833362
> 
> 赞同：1
> 
> 时间：2012-10-11T06:19:46.603
> 
> 标签：java, security

我有一个关于医疗保健领域的项目要完成，所以将使用或应该使用什么设计模式，因为系统应该足够强大，以至于没有黑客找到破解或窃取信息的方法。

```
the following technology is used
1.struts 1.2.9
2.mysql for backend
3.spring security. 
```

所以如果可能的话，请建议我最好的设计和示例，因为我从未使用过设计模式。

所以请帮助我实现这一目标

问候。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T06:42:26.673

安全系统的一般准则。（不完整，只是我自己的观察）

永远不要相信信息，即使您只是从数据库中读取它，也不要假设它是 100% 安全的，并始终验证它是安全的（没有 sql 或脚本注入）。

不要将检查与存储分开，您永远不知道何时有人会复制粘贴缺少验证步骤的代码，尝试以一种没有检查就中止的方式进行存储。

永远不要相信默默无闻，始终验证权限和数据。

对权限使用一致的解决方案，这样就不会存在关于如何检查权限的歧义。

仔细考虑谁需要访问，并避免加载不应该存在和不需要的信息，如果它不在内存中，访问将更加困难。

使用具有内置权限检查的单独数据检索层，以便通过入侵第一个客户端层来获取数据更加困难。

分几个步骤考虑风险，将脚本标签存储在数据库中可能是安全的，但如果在有效会话中加载到页面中，该脚本会造成什么损害。

验证任何 ajax 调用、注入的 javascript（可能来自客户端计算机或插件中的病毒），否则可能会发送您自己的页面永远不会发送的命令，并在用户的上下文中发送它们。

并寻找有关如何构建安全系统的书籍，这里没有任何帖子可以涵盖所有内容，也没有书籍可以取代经验和规划。

并且按照规则生活，没有安全的系统，只有难以破解。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T06:51:45.617

我认为您误解了术语设计模式。

设计模式通常使用通用或“模板”（注意，这是一个坏词，因为它也用于设计模式名称）代码解决方案，适合通用问题（对象**创建**、继承**结构**和对象**行为**）在面向对象的编程环境中，以与语言无关的方式增强可重用性。

没有设计模式可以确保系统不可破解 - 每种语言都有最佳实践，但除了严格的编程之外，还有很多其他方面可以保护系统。就像您可以使用最高级别的加密一事无成一样，当您的 root 密码仍然是默认密码时...

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-11T06:50:23.423

正如其他人已经提到的：从你的架构开始！尤其要弄清楚，

-您的应用程序可以具有哪些状态，如何支持程序员仅达到允许的状态（状态转换建模）

*   如何验证传入的请求

*   如何发现非法访问

*   如何保护您的应用程序本身（网络服务器，...）

当您进行日常工作时，设计模式会为您提供帮助，但不能保护您免受架构中的安全漏洞的影响。架构会给你很多提示，哪些设计模式是有意义的。

至少我会想到一件事：Stuts 1.2.9。它不是最新版本（意味着不是最节省的版本），并且 struts 本身存在一些架构安全问题。当您使用 spring 时，为什么不在那里也使用其他更现代的组件呢？

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T06:24:42.770

你的问题很模糊。给我们一份您的主要组件清单，并要求我们提出“最佳设计”……您能给我们（很多）更多细节吗？

# regex - 正则表达式的含义 if ($_ =~ /-\n/)

> ID：12833363
> 
> 赞同：5
> 
> 时间：2012-10-11T06:19:48.200
> 
> 标签：regex, perl

我是 perl 脚本的初学者。我知道连字符 (-) 用于指定范围。

但是如果在表达式的开头提到它呢？

例子：

```
if ($_ =~ /-\n/)
//do something 
```

如何解释上面的代码？

“如果参数等于换行符的范围”？（不，这是奇怪的理解：-/）

请帮忙。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-11T06:22:34.847

在 [] 之外 - 据我所知，表示“-”，它仅表示 [] 块内的范围。

这是我找到的更完整的答案

[如何用正则表达式匹配连字符？](https://stackoverflow.com/questions/4068629/how-to-match-hyphens-with-regular-expression/4068725#4068725) （看第二个答案）

所以表达式应该匹配一个 - 后跟一个换行符或以 - 结尾的行

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-11T06:27:35.480

该模式将匹配连字符`"-"`后跟换行符`\n`。

连字符被视为字符类中的范围运算符，如下所述[`perldoc perlrequick`](http://perldoc.perl.org/perlrequick.html)：

> 特殊字符`'-'`在字符类中充当范围运算符，因此笨重的`[0123456789]`并`[abc...xyz]`成为苗条的`[0-9]`和`[a-z]`：
> 
> ```
> /item[0-9]/;  # matches 'item0' or ... or 'item9'
> /[0-9a-fA-F]/;  # matches a hexadecimal digit 
> ```
> 
> 如果`'-'`是字符类中的第一个或最后一个字符，则将其视为普通字符。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-11T06:24:49.737

这表示：

> 如果有一个连字符紧跟一个换行符，则不管这对字符在字符串中的什么位置。

# php - 强制下载 FLV 文件在 PHP 中不起作用

> ID：12833364
> 
> 赞同：1
> 
> 时间：2012-10-11T06:19:51.493
> 
> 标签：php, download

我正在使用 php 集成强制下载。当我下载 flv 文件并在视频播放器中打开时，它显示错误。

```
$Filename = '/* file name */'; 
    header('Content-Description: File Transfer');
    header("Content-type: video/flv");
    header("Cache-Control: no-cache");
    header("Content-Transfer-Encoding: binary");
    header('Content-Disposition: attachment; filename=test.flv' );
    header("Pragma: no-cache");
    header('Content-length: '.filesize($Filename));
    $hFPi = fopen ("$Filename", "rb");
    while (!feof($hFPi))
    {
        $sBuf = fread ($hFPi, filesize($Filename) );
        echo $sBuf;
    } 
    fclose ($hFPi); 
```

请帮忙..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:04:43.723

```
$Filename = '/* file name */'; 
$path = "../../upload/";
$file = $path.$filename;
savedata1();
header("Cache-Control: public");
header("Content-Description: File Transfer");
header("Content-Disposition: attachment; filename=$filename");
header("Content-Type: application/flv");
header("Content-Transfer-Encoding: binary");
readfile($file); 
```

这会帮助你。在你的代码中尝试一下，你会找到你的答案......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T05:31:22.497

这段代码非常适合从我这里下载 mp4、flv、mpeg 文件。这里：$file_name = 下载的视频文件名，$file_path = 服务器中原始文件的基本路径。

```
header('Pragma: public'); // required   
header("Content-Description: File Transfer");
header("Content-Disposition: attachment; filename=$file_name");
header("Content-Type: video/mpeg");
header("Content-Transfer-Encoding: binary");

header('Cache-Control: must-revalidate, post-check=0, pre-check=0', false);
header('Cache-Control: private', false); // required for certain browsers  

ob_clean();
flush();
readfile($file_path);
exit; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:23:55.200

尝试

```
 $Filename = 'test.flv'; 
            header("Pragma: public");
            header("Expires: 0");
            header("Cache-Control: must-revalidate, post-check=0, pre-check=0");
            header("Content-type: video/flv");

            header("Content-Disposition: attachment; filename=".basename($filename).";" );
            header("Content-Transfer-Encoding: binary");
            readfile("$Filename "); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T06:44:13.153

这就是我强制下载文件的方法（对我来说它是 ZIP，但它应该适用于任何文件类型）。请记住，您必须对其进行调整，因为我存储数据库信息的方式与您可能做的不同。

```
header("Content Description: File Transfer");
header("Pragma: public");
header("Expires: 0");
header("Cache-Control: must revalidate");
header("Content-Type: application/zip");
header("Content-Disposition: attachment; filename=".basename(".".$filepath)."");
header("Content-Length: " . filesize(".".$filepath));
header("Content-Transfer-Encoding: binary");
ob_clean();
flush();
readfile(".".$filepath); 
```

# arrays - 如何测试多维数组？

> ID：12833375
> 
> 赞同：1
> 
> 时间：2012-10-11T06:20:33.323
> 
> 标签：arrays, testing, vbscript, multidimensional-array

我正在尝试测试我的 vbscript 函数中是否存在多维数组，但我在寻找最佳解决方案时遇到了问题。

在我的函数中，我要么排除字符串值，要么排除值数组，该数组可以是单个暗淡或多维。

我遇到的问题是尝试测试阵列是单暗还是多暗。有预定义的方法吗？

任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T12:38:01.870

不，没有预定义的方式；也就是说：没有内置函数可以返回维度的数量。但是，您可以自己构建。

```
' Returns the amount of dimensions of an array.
' Returns 0 when it is no array
Function GetDimensions(arr)

    Dim dimension, upperBound

    On error resume next
    For dimension = 1 to 255
        upperBound = ubound(arr, dimension)
        If err.Number <> 0 Then Exit for
    Next
    On error goto 0
    GetDimensions = dimension-1
End Function

Dim myArray(41, 42, 43)
MsgBox GetDimensions(myArray) ' Will return 3. 
```

# vb6 - VB6 故障转储符号未解决

> ID：12833379
> 
> 赞同：1
> 
> 时间：2012-10-11T06:20:45.233
> 
> 标签：vb6, crash, windbg, crash-dumps

我无法解决这个问题。符号未解决

**部署**

我的系统中有许多 exe 部署在网络路径上。所有用户都从该共享网络路径运行这些 exe。这在两周前运行良好，但现在其中一些前任已经开始崩溃。没有固定的崩溃模式，它发生在任何用户身上，在任何活动期间的任何时间。

**故障排除**

我得到了其中一个的转储，我尝试了 WinDbg 并得到了关注

```
Microsoft (R) Windows Debugger Version 6.2.9200.16384 X86
Copyright (c) Microsoft Corporation. All rights reserved.

Loading Dump File [C:\crash\RNS1000.exe.mdmp]
User Mini Dump File: Only registers, stack and portions of memory are available

Symbol search path is: SRV*c:\crash*http://msdl.microsoft.com/download/symbols;c:\crash
Executable search path is: 
Windows XP Version 2600 (Service Pack 3) MP (2 procs) Free x86 compatible
Product: WinNt, suite: SingleUserTS
Machine Name:
Debug session time: Wed Oct 10 15:36:36.000 2012 (UTC + 5:00)
System Uptime: not available
Process Uptime: 0 days 7:12:54.000
................................................................
.........................................................
Loading unloaded module list
.......
This dump file has an exception of interest stored in it.
The stored exception information can be accessed via .ecxr.
(924.85c): In-page I/O error ffffffffc000020c - code c0000006 (first/second chance not available)
eax=02060000 ebx=7c90fe01 ecx=00001000 edx=7c90e4f4 esi=000003a0 edi=00000000
eip=7c90e4f4 esp=0013afdc ebp=0013b040 iopl=0         nv up ei ng nz ac pe cy
cs=001b  ss=0023  ds=0023  es=0023  fs=003b  gs=0000             efl=00200297
ntdll!KiFastSystemCallRet:
7c90e4f4 c3              ret
0:000> !analyze -v 
*******************************************************************************
*                                                                             *
*                        Exception Analysis                                   *
*                                                                             *
*******************************************************************************

GetUrlPageData2 (WinHttp) failed: 12007.

FAULTING_IP: 
RNS1000+55f610
0095f610 ??              ???

EXCEPTION_RECORD:  ffffffff -- (.exr 0xffffffffffffffff)
ExceptionAddress: 0095f610 (RNS1000+0x0055f610)
   ExceptionCode: c0000006 (In-page I/O error)
  ExceptionFlags: 00000000
NumberParameters: 3
   Parameter[0]: 00000008
   Parameter[1]: 0095f610
   Parameter[2]: c000020c
Inpage operation failed at 0095f610, due to I/O error c000020c

DEFAULT_BUCKET_ID:  SOFTWARE_NX_FAULT

PROCESS_NAME:  RNS1000.exe

ERROR_CODE: (NTSTATUS) 0xc0000006 - The instruction at "0x%08lx" referenced memory at "0x%08lx". The required data was not placed into memory because of an I/O error status of "0x%08lx".

EXCEPTION_CODE: (NTSTATUS) 0xc0000006 - The instruction at "0x%08lx" referenced memory at "0x%08lx". The required data was not placed into memory because of an I/O error status of "0x%08lx".

EXCEPTION_PARAMETER1:  00000008

EXCEPTION_PARAMETER2:  0095f610

EXCEPTION_PARAMETER3:  c000020c

IO_ERROR: (NTSTATUS) 0xc000020c - The transport connection is now disconnected.

ADDITIONAL_DEBUG_TEXT:  Followup set based on attribute [Is_ChosenCrashFollowupThread] from Frame:[0] on thread:[PSEUDO_THREAD]

LAST_CONTROL_TRANSFER:  from 00000000 to 00000000

APP:  rns1000.exe

FAULTING_THREAD:  ffffffff

PRIMARY_PROBLEM_CLASS:  SOFTWARE_NX_FAULT

BUGCHECK_STR:  APPLICATION_FAULT_SOFTWARE_NX_FAULT

STACK_TEXT:  
00000000 00000000 hardware_disk!Unknown+0x0

SYMBOL_STACK_INDEX:  0

SYMBOL_NAME:  hardware_disk!Unknown

FOLLOWUP_NAME:  MachineOwner

MODULE_NAME: hardware_disk

DEBUG_FLR_IMAGE_TIMESTAMP:  0

STACK_COMMAND:  ** Pseudo Context ** ; kb

FAILURE_BUCKET_ID:  SOFTWARE_NX_FAULT_c0000006_hardware_disk!Unknown

BUCKET_ID:  APPLICATION_FAULT_SOFTWARE_NX_FAULT_hardware_disk!Unknown

IMAGE_NAME:  hardware_disk

WATSON_STAGEONE_URL:  http://watson.microsoft.com/StageOne/RNS1000_exe/2_0_0_5/4f17b9d2/RNS1000_exe/2_0_0_5/4f17b9d2/c0000006/0055f610.htm?Retriage=1

Followup: MachineOwner
--------- 
```

我期待**RNS1000+55f610**被解析为我的程序功能之一，但尚未解决。sysmbol 路径包含 exe、pdb 和 mdmp。

请告诉我为什么没有解决？我在做什么错？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T08:36:23.377

这里的关键部分是`In-page I/O error`. 底层磁盘/网络驱动器消失了。一段时间后，当它尝试在部分可执行文件中回页时发生崩溃，但它不再具有有效的文件句柄/连接。

唯一的解决方法是在本地运行它或确保磁盘在运行时不会消失。

更一般地说，您可以使用项目编译设置中的“创建符号调试信息”选项让 VB 为本地调试创建信息文件。不过，这只能在事前完成，并且无助于调试现有构建。

# php - 如何在 zend 框架 2 中验证注册表单？

> ID：12833385
> 
> 赞同：4
> 
> 时间：2012-10-11T06:21:55.640
> 
> 标签：php, forms, validation, zend-framework2

我正在尝试验证 Zend Framework 2 中的用户注册表单。

更具体地说，如何验证电子邮件，ZF1 我可以这样做：

```
$email->setValidators( array(new Zend_Validate_EmailAddress()) ); 
```

我想知道我是否可以像这样称呼类似的东西。

另外我想知道如何验证两个需要相同的字段，例如密码字段和密码验证。

我想当我说`if($form->isValid())..`这将检查`getInputFilter()`所有验证的方法时。

我一直在看[ZfcUser](https://github.com/ZF-Commons/ZfcUser)模块，但是现在我不太了解，因为我没有完全掌握 ZF2 的工作原理

任何想法，也许是一个简单的例子？

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T06:56:39.823

您是否阅读过[官方教程](http://zf2.readthedocs.org/en/latest/user-guide/overview.html)以了解新的 ZF2`Form`组件是如何工作的？

在非常高的层次上，您需要一个`Form`对象和一个`Filter`对象一起工作。该`Filter`对象是您放置过滤器和验证器的位置。但是，如果您在 中使用类型的表单元素`EmailAddress`，`Form`那么它将自动添加正确的验证器。[手册](http://zf2.readthedocs.org/en/latest/modules/zend.form.quick-start.html#validating-forms)中有更多信息。

我最近做了一个关于 Zend 表单的网络研讨会，你应该可以[在这个页面上](http://www.zend.com/en/resources/webinars/framework)找到它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-12T06:51:34.953

我已经弄清楚了。

验证器是多维数组，每个数组都有一个名称和一些选项。刚开始可能会有点连线注意到它，但是zf2中的很多配置都是这样的

查看密码示例：

```
$inputFilter->add($factory->createInput([
            'name' => 'password',
            'required' => true,
            'filters' => [ ['name' => 'StringTrim'], ],
            'validators' => [
                [
                    'name' => 'StringLength',
                    'options' => [
                        'encoding' => 'UTF-8',
                        'min'      => 6,
                        'max'      => 128,
                    ],
                ],
            ],
        ]));

        $inputFilter->add($factory->createInput([
            'name' => 'password_verify',
            'required' => true,
            'filters' => [ ['name' => 'StringTrim'], ],
            'validators' => [
                array(
                    'name'    => 'StringLength',
                    'options' => array( 'min' => 6 ),
                ),
                array(
                    'name' => 'identical',
                    'options' => array('token' => 'password' )
                ),
            ],
        ])); 
```

请注意，在 php 5.3 > 中，数组可以写成`array()`or `[]`，在上面的示例中，我没有特别的原因将它们混合在一起。

# memory - MIPS 解释：sw

> ID：12833386
> 
> 赞同：3
> 
> 时间：2012-10-11T06:21:58.883
> 
> 标签：memory, assembly, mips, mips32

**的背景**

我目前正在为家庭作业开发小型 MIPS 程序，并在此过程中学习一些语言。我对此非常陌生，因此，即使是我正在执行的操作的最基本方面，我也非常不确定自己。此外，我的老师坚持在我们的作业中不使用伪代码，这导致我们很难理解如何完成某些任务。

**那作业**

我的作业问题是这样的：假设您要迭代地（在循环中）计算前 20 个 Biggie 数字，`B(i) = 2i + 17i`并将它们按顺序存储在一个数组中，该数组`B`的 MIPS 内存中的基地址存储在 register 中`$s0`。请编写 MIPS 代码（完整注释）以计算`B(i), 1 < i < 20`.

**我的解决方案**

我目前拥有的：

```
.globl main
main:

.data
BiggieArray:
    .space 80                   #4 bytes per word * 20 biggie numbers = 80 bytes reserved
.text
addi    $s1, $zero, 1           #$s1 tracks i, initialize i with value of 1
addi    $s2, $zero, 21      #$s2 holds 21, for use in comparing with the value of i
addi    $s3, $zero, 2           #$s3 holds the value for the first mult
addi    $s4, $zero, 17      #$s4 holds the value for the second mult

STARTLOOP:
beq     $s1, $s2, ENDLOOP       #compares i ($s1) with $s2\.  If they are equal, i > 20, so branch to the end of the loop.

add     $t0, $s1, $s1        #find 2i
add     $t0, $t0, $t0        #find 4i, use as offset for BiggieArray
addi    $t0, $t0, -4            #adjusts to start from index 0 instead of index 1

mult    $s1, $s3                #Calculates 2i
mflo    $s5                #$s5 holds 2i
mult    $s1, $s4                #Calculates 17i
mflo    $s6                #$s6 holds 17i

add     $s7, $s5, $s6        #$s7 holds 2i+17i

add     $t1, $s0, $t0        #$t1 holds the current address of BiggieArray[i]

sw      $t1, 0($s7)         #stores the value 2i+17i into RAM ?????

addi    $s1, $s1, 1         #increment i

j   STARTLOOP

ENDLOOP: 
```

**我的问题**

我意识到我目前没有`$s0`初始化任何东西，但这不是给我带来问题的原因。我感到困惑的是我将如何将该值存储`2i+17i`回`BiggieArray`. 任何有关 sw 工作原理的帮助或非常简单的解释都将*不胜*感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:52:31.343

在您的示例中，您将寄存器反转。它应该是：

`sw $s7, 0($t1) # since s7 holds the value you want to store, and t1 holds the mem address where you want to store it`

# .net - 什么 shell 命令接收 .NET 版本？

> ID：12833389
> 
> 赞同：0
> 
> 时间：2012-10-11T06:22:07.747
> 
> 标签：.net, shell, version

什么 shell (cmd.exe) 命令在当前机器上打印出最新安装的 .NET 版本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:28:30.617

从 VisualStudio 命令提示符：

```
c:\Program Files (x86)\Microsoft Visual Studio 10.0\VC>GACUTIL /l ?
Microsoft (R) .NET Global Assembly Cache Utility.  Version 4.0.30319.1 
```

（[如何找到 .NET 版本？](https://stackoverflow.com/questions/1565434/howto-find-net-version)）

# php - load_administrator_email() codeigninter。

> ID：12833390
> 
> 赞同：1
> 
> 时间：2012-10-11T06:22:18.240
> 
> 标签：php, codeigniter

我试图找出错误，但我不知道。我使用codeigniter。这是代码

```
function send_emailalertstoAdmin($emailmessage,$ad_title)
{
     $this->load->model('user_model');
     $query_result =  $this->user_model->load_administrator_email();

    //$this->load->database();

    //$query = $this->db->query('SELECT users.email FROM users WHERE users.id =1');

    foreach ($query_result as $row)
    {           
        $email= $row->email;

        $successmasg = '';
        $from = "info@xxxt.com";                    
        $subject = "xxx ". $ad_title . " is Stolen"; 
        $message = $emailmessage;
        $headers  = 'MIME-Version: 1.0' . "\r\n";
        $headers .= 'Content-type: text/html; charset=iso-8859-1' . "\r\n";
        $headers .= 'From: xxxxx.com <info@xxxxt.com>' . "\r\n"; 

        $successmasg = mail($email, $subject, $message, $headers);
    }
} 
```

我收到以下错误。致命错误：调用未定义的方法 User_model::load_administrator_email()

这是 load_administrator_email() 函数

```
function load_administrator_email()
{
    $sql = "SELECT users.email FROM users WHERE users.id =1";
    $queryData = $this-> db->query($sql);   
    return $queryData -> result();
} 
```

我试图找到错误，但我不能。我试过什么，1\. sql 查询是正确的，它给出了正确的结果。2.当我在第一个函数中硬编码电子邮件和评论调用 load_administrator_email() 时，电子邮件正确。

请帮我纠正这个问题。

提前谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:29:46.930

像这样加载你的模型..

```
$this->load->model('user_model', '', TRUE); 
```

或者在构造函数中加载它

# c# - 上下文中为空。请求

> ID：12833399
> 
> 赞同：-2
> 
> 时间：2012-10-11T06:23:03.987
> 
> 标签：c#, null, httpcontext

如何允许 null in `Context.Request`：

```
context.Response.Write(retrieveList(context.Request["SalCode"].ToString(null), context.Request["groupKeyword"].ToString(), context.Request["text"].ToString())); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:28:26.690

首先，[`Request["..."]`](http://msdn.microsoft.com/en-us/library/system.web.httprequest.item.aspx)已经返回 a `string`，因此无需调用`ToString()`它，因此在此阶段无需担心它是否返回`null`（即，如果请求中不存在密钥）。

因此，您可以调用例如

```
retrieveList(
    context.Request["SalCode"],
    context.Request["groupKeyword"],
    context.Request["text"]); 
```

不用担心这三个中的任何一个是否为空。

然后，如果任何输入为空，您可以更改`retrieveList`以正确响应。例如，您可以*返回*null：

```
private string /*or whatever*/ retrieveList(
    string salCode, string groupKeyword, string text)
{
    if (String.IsNullOrEmpty(salCode) ||
        String.IsNullOrEmpty(groupKeyword) ||
        String.IsNullOrEmpty(text))
    {
        return null;
    }
    ...
} 
```

然后，请注意，`Response.Write`不管你是否给它 a `null`，它什么都不写，所以你可以`Write`像上面那样保持调用。

或者，例如，您可以检查返回值并写一条消息，如果它是`null`：

```
var list = retrieveList(
    context.Request["SalCode"],
    context.Request["groupKeyword"],
    context.Request["text"]));
if (!String.IsNullOrEmpty(list))
{
    context.Response.Write(list);
}
else
{
    context.Response.Write("Missing request parameter.");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:33:25.557

你没有指定任何东西！请添加信息，您甚至没有指定发生此问题的环境、类或一般上下文。我们也不知道retrieveList() 的签名是什么！这让我们很难为您提供帮助！你有多想回答这个问题，我的一位同事曾经面临过：“这个废话行不通！” ? （是的，这甚至不是一个问题，而是发生在现实生活中的支持情况下！）

~~我注意到的一件事是您使用 * *T* *oString() 而不是 * *t* *oString()，我认为这是一个错字。~~（已编辑，因为很明显这是 C#）另外，我不知道 .toString(null) 是什么意思。您想告诉我们该语句导致 NullPointerException 吗？在这种情况下，您本可以为我们付出更多努力来理解您的问题，例如通过写下来...

顺便说一句，如果是这样的话，我会说，这将解决你的问题：

```
Object salCode = context.Request["SalCode"];
context.Response.Write(retrieveList(salCode==null?"":salCode.ToString(), context.Request["groupKeyword"].ToString(), context.Request["text"].ToString())); 
```

**编辑**我认为（但无法测试）如果 null 是问题，这将解决它。但是，如果底层代码在指定空字符串的情况下无法正常工作，则应该像这样在retrieveList() 中检查（粘贴自引用的帖子）：

```
private string retrieveList(string SalCode, string groupKeyword, string text)
{
    SqlConnection _sqlCon = default(SqlConnection);
    SqlCommand _sqlCom = default(SqlCommand);
    SqlDataReader _sqlReader = default(SqlDataReader);
    StringBuilder _sb = new StringBuilder();
    List<TokenInputJSON> _out = null;

    try
    {
        _sqlCon = new SqlConnection(System.Configuration.ConfigurationManager.ConnectionStrings["SalesianBlastConnectionString"].ConnectionString);
        _sqlCom = new SqlCommand("getTokenInput", _sqlCon);
        _sqlCom.CommandType = CommandType.StoredProcedure;
        _sqlCon.Open();

        //This is the edited part
        if(SalCode==null || SalCode.Equals("")) {
            _sqlCom.Parameters.Add(new SqlParameter("@salCode", SqlDbType.VarChar, 4)).Value = SalCode;
        }
        //... continue with the other parts 
```

**快速检查**：我刚刚有了一个想法：在调用retrieveList 时使用一个常量值来确定这是否是问题所在：

```
context.Response.Write(retrieveList("enterAValidSalCodeHere", context.Request["groupKeyword"].ToString(), context.Request["text"].ToString())); 
```

# twitter - Twitter 是否删除了未经身份验证的用户 RSS 时间线提要？

> ID：12833400
> 
> 赞同：3
> 
> 时间：2012-10-11T06:23:11.633
> 
> 标签：twitter

我以前使用以下 URL 访问我的推文并将它们嵌入网站：

`http://twitter.com/statuses/user_timeline/my_username.rss`

似乎就在今天早上，我收到以下错误：

`Sorry, that page does not exist`

有谁知道这项服务可能发生了什么，以及替代方案可能是什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-11T06:35:09.183

试试[http://api.twitter.com/1/statuses/user_timeline.rss?screen_name=USERNAME](http://api.twitter.com/1/statuses/user_timeline.rss?screen_name=USERNAME)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-11T11:29:02.770

看来这是 Twitter 所做的永久性更改（[请参阅 Twitter API 的推文](https://twitter.com/twitterapi/status/256127405553496066)）

相反，他们正在转向如下所示的版本控制系统：

```
https://api.twitter.com/1/statuses/user_timeline.rss?screen_name=twitter_username 
```

通过更改 user_timeline 文件扩展名，您可以接收不同格式的提要，即：

```
https://api.twitter.com/1/statuses/user_timeline.xml?screen_name=twitter_username
https://api.twitter.com/1/statuses/user_timeline.json?screen_name=twitter_username 
```

# php - php 函数用于添加日期、星期或月份到日期

> ID：12833402
> 
> 赞同：0
> 
> 时间：2012-10-11T06:23:15.383
> 
> 标签：php, date, increment, schedule

我正在尝试像贷款一样制定时间表。

所以我做了以下代码：

```
function periode($var, $i2)
    {
        if($var=='52')
        {
            echo '"+ '.$i2.' week"';
        }
        if($var=='26')
        {
            echo '"+ ('.$i2.' +1) week"';
        }
        if($var=='12')
        {
            echo '"+ '.$i2.' month"';
        }
        if($var=='6')
        {
            echo '"+ ('.$i2.' +1) month"';
        }
        if($var=='2')
        {
            echo '"+ ('.$i2.' +6) month"';
        }
        if($var=='1')
        {
            echo '"+ ('.$i2.' +12) month"';
        }

    }
 $chaine ="
 <table style='width:100%'>
 <tr>
 <th>Capital Principal</th>
 <th>Date d'&eacute;ch&eacute;ance</th>
 <th>Montant de l'&eacute;ch&eacute;ance</th>
 <th>Capital restant d&ucirc;</th>
 </tr>";
 $i2=0;
 $montant_echeance = round($montant_du / $nombre_echeances, 2);
 $reste=$montant_du ;
 while($i2 <= $nombre_echeances)
 {
     echo  $date =date("d-m-Y", strtotime($debut) .periode($pay_periodicity, $i2));             
        if ($i2 == $nombre_echeances)
        {
                $montnt_echeance = $reste;
                $reste = 0;
        }
     $chaine .= "<tr>
     <td>$montant_du</td>
      <td>".$date."</td>
     <td>$montant_echeance</td>
     <td>$reste</td></tr>'";
           $reste = $reste-$montant_echeance;
     $i2++;
        }
$chaine .="</table>";
print "$chaine";

    } 
```

但是，它并没有返回给我美好的约会，而是返回给我：

```
"+ 0 month"11-10-2012"+ 1 month"11-10-2012"+ 2 month"11-10-2012"+ 3 month"11-10-2012"+ 4 month"11-10-2012"+ 5 month"11-10-2012"+ 6 month"11-10-2012"+ 7 month"11-10-2012"+ 8 month"11-10-2012"+ 9 month"11-10-2012"+ 10 month"11-10-2012"+ 11 month"11-10-2012"+ 12 month"11-10-2012"+ 13 month"11-10-2012"+ 14 month"11-10-2012"+ 15 month"11-10-2012"+ 16 month"11-10-2012"+ 17 month"11-10-2012"+ 18 month"11-10-2012"+ 19 month"11-10-2012"+ 20 month"11-10-2012"+ 21 month"11-10-2012"+ 22 month"11-10-2012"+ 23 month"11-10-2012"+ 24 month"11-10-2012"+ 25 month"11-10-2012"+ 26 month"11-10-2012"+ 27 month"11-10-2012"+ 28 month"11-10-2012"+ 29 month"11-10-2012"+ 30 month"11-10-2012"+ 31 month"11-10-2012"+ 32 month"11-10-2012"+ 33 month"11-10-2012"+ 34 month"11-10-2012"+ 35 month"11-10-2012"+ 36 month"11-10-2012"+ 37 month"11-10-2012"+ 38 month"11-10-2012"+ 39 month"11-10-2012"+ 40 month"11-10-2012"+ 41 month"11-10-2012"+ 42 month"11-10-2012"+ 43 month"11-10-2012"+ 44 month"11-10-2012"+ 45 month"11-10-2012"+ 46 month"11-10-2012"+ 47 month"11-10-2012"+ 48 month"11-10-2012"+ 49 month"11-10-2012"+ 50 month"11-10-2012"+ 51 month"11-10-2012"+ 52 month"11-10-2012"+ 53 month"11-10-2012"+ 54 month"11-10-2012"+ 55 month"11-10-2012"+ 56 month"11-10-2012"+ 57 month"11-10-2012"+ 58 month"11-10-2012"+ 59 month"11-10-2012"+ 60 month"11-10-2012 '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
Capital Principal   Date d'échéance     Montant de l'échéance   Capital restant dû
6210.04     11-10-2012  103.5   6210.04
6210.04     11-10-2012  103.5   6106.54
6210.04     11-10-2012  103.5   6003.04
6210.04     11-10-2012  103.5   5899.54
6210.04     11-10-2012  103.5   5796.04
6210.04     11-10-2012  103.5   5692.54
6210.04     11-10-2012  103.5   5589.04 
```

真的很奇怪，

我有点迷茫，我真的不知道该功能有什么问题。

任何建议将不胜感激。

接受我最大的尊重。

亲切的问候。

SP。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:09:54.030

在函数`periode`中，替换所有`echo`s替换为`return`。

另外，我建议使用`switch`语句而不是大量`if`s。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:00:00.317

删除`'`以下行中的单引号（）`<td>$reste</td></tr>'";`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:10:49.670

你的 php 代码写得不好，它不会工作。由于您没有发布完整的代码，我不知道如何提供帮助。我提供了一些可以帮助您的提示和想法：

1.  periode() 函数应该返回值，echo 不起作用
2.  正如我提到的那样修改你的代码
3.  了解strtotime()函数和php

请参阅我下面的示例代码：

```
function periode($var, $i2)
{
    if($var=='1') {
        return '+'.$i2.' day';
    }
    else if($var=='2') {
        return '+'.$i2.' week';
    }
    else if($var=='3') {
        return '+'.$i2.' month';
    }
}

$current_date = date('Y-m-d');
echo date('Y-m-d', strtotime(periode(1, 1), strtotime($current_date)));
echo '<br />'.date('Y-m-d', strtotime(periode(2, 2), strtotime($current_date)));
echo '<br />'.date('Y-m-d', strtotime(periode(3, 1), strtotime($current_date))); 
```

# iphone - 有什么办法可以降级到iOS4

> ID：12833404
> 
> 赞同：4
> 
> 时间：2012-10-11T06:23:20.430
> 
> 标签：iphone, ios4, jailbreak, downgrade

我知道 iOS 6 已经过时了，几乎每个人的设备上都有 iOS 6（或至少 iOS 5+）。但是我的一个客户有他自己的理论，他希望他的应用程序也针对 iOS 4 进行测试（这些天谁在使用 iOS 4 ！！！）......我想知道我是否有可能降级我的 iPod touch/iPhone 4 / iPad 2 / iPhone 3GS（其中任何一款）到iOS 4。

我在谷歌上搜索，发现如果我为以前的 iOS 版本保存了 SHSH blob，那么我可以降级..但我没有保存。那么有降级的可能吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:29:32.680

如果没有这些 blob，您将无法降级。不过，您始终可以使用模拟器，或者向您的客户展示截至今年 6 月 iOS 5 的采用率，这应该会说服他。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:52:00.297

他还应该记住，如果您支持 IOS 6，那么 IOS 4 的最少配置是 4.3 版本。Xcode 4.5 不会为任何旧版本编译。

如前所述，如果您在无法立即获取之前没有为任何版本的 IOS 4 保存 SHSH。目前唯一可用的通过 Tinyumbrela 的 SHSH 是 5.01。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T11:13:25.430

根据[此页面](http://theiphonewiki.com/wiki/index.php?title=SHSH)，您可以将 iPhone 3GS 降级到 iOS 4.1，但不能降级 4.3...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T06:28:42.927

您需要下载 XCode 3 和 iOS SDK 4。转到[此链接](https://developer.apple.com/downloads/index.action)并在左侧的搜索栏中输入“XCode 3”。

# java - 将文件名与java中的量词匹配

> ID：12833416
> 
> 赞同：4
> 
> 时间：2012-10-11T06:24:27.530
> 
> 标签：java, regex

我想编写一个文件搜索程序，用户可以在其中输入 serach 模式（任何有效的正则表达式）并返回匹配的文件名。

例如*MFile123.tx*会找到 UMFile123.txt 和 AIIMFile123.txs

我尝试了以下方法，但没有奏效：

```
import java.util.regex.*;
public class regexTest {
    public static void main(String... a){
        String file="UMFile123.txt";
       //String pattern="*MFile*.tx?"; TRIED with \*MFile*.tx , but no use
        String pattern="UMFile*.tx?";
        Pattern p=Pattern.compile(pattern);
        Matcher m=p.matcher(file);
        if(m.matches()){
            System.out.println("Hi!it matches!!");
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:25:56.640

正则表达式应该是：

```
.*MFile123\.tx.* 
```

`.*`匹配前后的任意数字字符`MFile123.tx`

您还需要转义`.`之前的 tx，因为

`.`指任何字符。

`*`指在它之前出现零次或多次的特定字符

所以，`.*`意味着匹配 0 个或更多个字符

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T06:27:58.387

我会使用正则表达式如下：`.*MFile123\.tx.*`

这分解为：零个或多个任何东西（`.*`），`MFile123`然后是文字`.`（转义），`tx`然后是零个或多个任何东西（`.*`）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T06:31:41.723

最简单的解决方案是“引用”或“转义”用户输入的文件名/模式并`.*?`在其前面添加和附加 a。就像是：

```
final String userFname = "MFile123.tx";
final String escapedName = Pattern.quote(userFname);
final String fnamePattern = ".*?" + escapedName + ".*";
final Pattern pat = Pattern.compile(fnamePattern);
final Matcher m = pat.matcher(file); 
```

我宁愿不进行此处其他答案提到的手动转义业务。很难得到正确的恕我直言。如果您想要不区分大小写的匹配，只需输入一个[不区分大小写的正则表达式标志](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#CASE_INSENSITIVE)，您应该会很好。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T09:13:13.000

您可以使用 File.listFiles(FileFilter)。请查看以下示例以更好地理解：

```
package com.stackoverflow.works;

import java.io.File;
import java.io.FileFilter;
import java.text.SimpleDateFormat;
import java.util.regex.Pattern;

/*
 * @Author: sarath_sivan
 */

public class FileSearchService {

    /*
     * @Description: Method used to List the files
     * @param: directory File, regex String
     * @return: fileList File[]
     */
    public static File[] search(File directory, String regex) {
        if(!directory.isDirectory()) {
            throw new IllegalArgumentException(directory+" is no directory.");
        }

        final Pattern pattern = Pattern.compile(regex); // Caution: could also throw an exception!
        return directory.listFiles(new FileFilter(){
            @Override
            public boolean accept(File file) {
                return pattern.matcher(file.getName()).matches();
            }
        });
    }

    /*
     * @Description: Method used to print the File List
     * @param: fileList File[]
     * @return: void
     */
    public static void printFileList(File[] fileList) {
        for (File file : fileList) {
            System.out.println("File Name: " + file.getName());
            System.out.println("Absolute Path: " + file.getAbsolutePath());
            System.out.println("Last Modified: " + getLastModifiedTimestamp(file));
            System.out.println();
        }
    }

    /*
     * @Description: Method used to get the Last Modified Timestamp
     * @param: file File
     * @return: void
     */
    public static String getLastModifiedTimestamp(File file) {
        SimpleDateFormat sdf = new SimpleDateFormat("MM/dd/yyyy HH:mm:ss");
        return sdf.format(file.lastModified());
    }

    /*
     * @Description: Main method used to test the Regex File listing logic
     * @param: fileList File[]
     * @return: void
     */
    public static void main(String[] args) {

        String directoryPath = "C:/Users/sarath_sivan/Desktop";
        File directory = new File(directoryPath);
        String regex = "([^\\s]+(\\.(?i)(jpg|png|gif|bmp))$)"; //Regular Expression pattern for image file extension

        File[] fileList = search(directory, regex);
        printFileList(fileList);

    }

} 
```

此代码使用正则表达式列出给定目录中的图像文件。示例输出如下所示：

![输出](../Images/ce2c0f18899abcdc984a07053a23ee45.png)

# mysql - 使用 JPA2 + Hibernate + Eclipse 4.2 + MySQL 5.5 从实体生成模式

> ID：12833424
> 
> 赞同：12
> 
> 时间：2012-10-11T06:24:57.047
> 
> 标签：mysql, hibernate, jpa-2.0, ddl

我是 Hibernate/JPA 的新手，我被困在我认为的最后一步。我在我的 MySQL 实例中创建了一个模式，并希望从我创建的 JPA 实体中为该模式生成表。我在 Eclipse“从实体生成表”中的 JPA 工具中获得了一个选项，但这给了我一条消息“通用平台不支持从实体生成表。我需要使用插件或工具来完成这项工作吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-12T14:09:55.233

您需要先安装 Hibernate Tools -[如何在 Eclipse 中安装 Hibernate Tools？](https://stackoverflow.com/questions/351640/how-to-install-hibernate-tools-in-eclipse)

然后转到 Project->Preferences->JPA 并将 Platform 更改为适当版本的 Hibernate 而不是 Generic Platform。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-11T07:09:24.220

If you are using hibernate you can:

*   set "hibernate.hbm2ddl.auto" in your project to one of following values "update | create | create-drop" (read more at: [http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/session-configuration.html](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/session-configuration.html)). Schema will be created/updated when you run your application.
*   you can try Hibernate 3 Maven plugin, check hbm2ddl goal ( [http://mojo.codehaus.org/maven-hibernate3/hibernate3-maven-plugin/](http://mojo.codehaus.org/maven-hibernate3/hibernate3-maven-plugin/))

# jquery - 在无限循环中使用jquery循环浏览一组多个图像？

> ID：12833429
> 
> 赞同：0
> 
> 时间：2012-10-11T06:25:14.790
> 
> 标签：jquery, image, caching, cycle

我有这个执行以下操作的 jquery 图像循环器：

*   预加载多张图片（比如 50 张？）
*   从这 40 个中随机选择，每次将其中的 14 个分配给 14 个 div
*   永远骑自行车

**循环浏览 14 个图像并为 14 个 div 中的每一个分配一个随机图像的最佳方法是什么？**

编辑：像我的第一个解决方案一样的 AJAX 调用似乎是一个愚蠢的想法（如果打开了数百个页面，服务器负载会很高）所以预缓存似乎是一个更好的选择。

EDIT2：将问题改写为更精确和清晰

我在预缓存中发现了这个很棒的方法：

```
 var images = [
    '/path/to/image1.png',
    '/path/to/image2.png'
];

$(images).each(function() {
    var image = $('<img />').attr('src', this);
}); 
```

我现在的旧方法：

```
 $("#hi1").load('/get_img');
  $("#hi2").load('/get_img');
  $("#hi3").load('/get_img');
  ... etc till 14

  var refreshId = setInterval(function() {
      $("#h1").load('/get_img');
      $("#h2").load('/get_img');
      $("#h3").load('/get_img');
      }, 4000);
      $.ajaxSetup({ cache: true });
  }) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:35:37.743

您可以在 AJAX 中返回源代码并创建一个`<img>`并设置 src，然后如果不需要，将其隐藏，因此如果该图像再次返回，您可以取消隐藏它而不是再次加载它。您可以通过以下方式检查图像是否存在：

```
$('img[src="' + src + '"]').length > 0; 
```

如果这是真的，那么它就存在，所以只需展示它。如果没有，则将图像加载到 DOM 中。只需在不需要时隐藏图像。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T06:36:01.843

你可以在你的代码中做一件事。

```
 $("#hi1").load('/get_img');
  $("#hi2").load('/get_img');
  $("#hi3").load('/get_img');

  var refreshId = setInterval(function() {
      $("#h1").load('/get_img').hide().delay(4000).show();
      $("#h2").load('/get_img').hide().delay(4000).show();
      $("#h3").load('/get_img').hide().delay(4000).show();
      }, 0);
      $.ajaxSetup({ cache: true });
  }) 
```

因此，一旦 dom 准备就绪，它就会加载图像并立即将其隐藏。然后`delay(4000)`延迟 4 秒后，显示内容。

# android - TableRow 视图的布局参数

> ID：12833430
> 
> 赞同：0
> 
> 时间：2012-10-11T06:25:23.760
> 
> 标签：android, android-tablelayout

1.  我有一个 TableLayout，我需要在运行时添加 TableRows。
2.  我需要为每个 TableRow 添加一个 ImageView 和一个 TextView，并将该行添加到 TableLayout。
3.  如果文本的长度很长，添加到每一行的 TextView 应该多行显示。
4.  我尝试了 setSingleLine(false)、setMaxWidth(100)、setMaxLines(3)，但没有任何效果，但是如果我在 xml 中添加 TableRow 并使用 android:singleLine="false" 它会以多行显示文本。

请给我建议.......

通过此代码解决

```
TableRow.LayoutParams tlparams = new TableRow.LayoutParams(
TableRow.LayoutParams.WRAP_CONTENT,
TableRow.LayoutParams.WRAP_CONTENT);
TextView textView = new TextView(this);
textView.setLayoutParams(tlparams);
textView.setText("New text: " + s);
textView.setSingleLine(false); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:48:58.520

下面的代码将为您工作。

```
TableRow.LayoutParams tlparams = new TableRow.LayoutParams( 
TableRow.LayoutParams.WRAP_CONTENT, 
TableRow.LayoutParams.WRAP_CONTENT); 
TextView textView = new TextView(this); 
textView.setLayoutParams(tlparams); 
textView.setText("New text: ");
textView.setMaxLines(3); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T06:56:35.840

这是用于创建动态表

```
TableLayout TL=(TableLayout) findViewById(R.id.table);

TableRow tr=new TableRow(this);
tr.setLayoutParams(new LayoutParams( 
   LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT));

TextView text_view=new TextView(this);
text_view.setWidth(100);// give how much you need
//set your text
tr.addView(text_view);

ImageView iv=new ImageView(this);
// set your image
tr.addView(iv);    

TL.addView(tr); 
```

这是用于 TextView 中的新行。

```
String str="This is first line in textview1\nThis is\tsecond line in textview1";
text_view.setText(str); 
```

或者

```
String str1 ="<font color=#00cc00>First line is green color in textview2</font><br/>"+
              " <font color=#ff0000>Second line is red color in textview2</font>";
text_view.setText(Html.fromHtml(str1)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:32:39.273

有一个包含 TableLayout 的单独 xml 文件和一个包含 Table 行的单独 xml 文件，其中包含一个 ImageView 和一个 TextView

在运行时的代码中，使用 for 循环将表行添加到 tableLayout 中，如下所示

```
let table layout be as tl = (tableLayout)findViebyId(..);
for(int i =0;.....)
{
   final View child = getLayoutInflater().inflate(R.layout.inflateview, null);
    tl.addView(child);
} 
```

这里的子视图是表格行 xml 文件的布局

# java - 你能从一个字符串中引用一个java变量吗？

> ID：12833431
> 
> 赞同：0
> 
> 时间：2012-10-11T06:25:23.497
> 
> 标签：java, cookies, map

嗨，我有一个关于 java 的奇怪问题。我将省略背景信息，以免使其复杂化。如果你有一个名为 fname 的变量。假设你有一个函数返回一个“fname”的字符串。有没有办法说通过字符串“fname”引用标识符 fname。这个想法类似于 "fname".toIdentifier() = value 但显然 toIdentifier 不是真正的方法。

我想有点背景螨帮助。基本上我有一个字符串“fname”映射到另一个字符串“fname 的值”。我想要一种方法来快速说出变量 fname = 地图中键“fname”的值。我通过遍历表单中的 cookie 映射来获取键值对。而且我不想做“if key =”fname” set fname to “value of fname”，因为我有很多变量需要这样设置。我宁愿做类似 currentkey.toIdentifer = thevalue . 奇怪的问题也许我忽略了一个更简单的方法来解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:30:36.780

你为什么不为此使用一个简单的哈希图？

```
Map<String, String> mapping = new HashMap<String, String>();
mapping.put("fname", "someValue");
...

String value = mapping.get(key); //key could be "fname" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T06:53:35.163

在某种程度上，您正在描述反射的用途：

您通过名称引用对象的字段和方法。

*   [Java 反射](http://tutorials.jenkov.com/java-reflection/index.html)

然而，大多数时候当人们提出这样的问题时，他们最好通过重新设计并利用像地图这样的数据结构来解决他们的问题。

* * *

下面是一些代码，展示了如何从两个数组创建[Map ：](http://docs.oracle.com/javase/6/docs/api/java/util/Map.html)

```
String[] keyArray = { "one", "two", "three" };
String[] valArray = { "foo", "bar", "bazzz" };

// create a new HashMap that maps Strings to Strings

Map<String, String> exampleMap = new HashMap<String, String>();

// create a map from the two arrays above

for (int i = 0; i < keyArray.length; i++) {
    String theKey = keyArray[i];
    String theVal = valArray[i];
    exampleMap.put(theKey, theVal);
}

// print the contents of our new map

for (String loopKey : exampleMap.keySet()) {
    String loopVal = exampleMap.get(loopKey);
    System.out.println(loopKey + ": " + loopVal);
} 
```

这是[Map 的 JavaDoc](http://docs.oracle.com/javase/6/docs/api/java/util/Map.html)的链接。

# c# - 删除所有带有 -1 的条目

> ID：12833433
> 
> 赞同：0
> 
> 时间：2012-10-11T06:25:25.063
> 
> 标签：c#

假设我有一个整数数组 i1，其值为 {1,-1,-1,1}; 有没有一种简单的方法来构造一个删除 -1 的数组 i2 ，即 {1,1} ？谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T06:26:34.730

Linq 将成为您的朋友。

```
var i2 = i1.Where(m => m!= -1).ToArray() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T06:28:50.530

如果你可以使用 LINQ，我想这会起作用：

```
 int[] a = new int[] { 1, -1, 1 };
 int[] b = a.Where(t => t == 1).ToArray(); 
```

当然，自己编写一两个循环也不应该太复杂。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:29:06.300

```
var newArray = i1.Where(m => m!= -1).ToArray() 
```

# google-maps - 谷歌地图地理编码API网络服务

> ID：12833434
> 
> 赞同：1
> 
> 时间：2012-10-11T06:25:25.687
> 
> 标签：google-maps

我正在调用 Google Geocoding Maps API，但它以某种方式向我抛出了以下错误：

远程服务器返回错误：(407) 需要代理身份验证

我在 Google 网站上找不到任何关于我是否需要拥有 Google Maps Key 或需要创建帐户的文档？

我打电话给这个网络服务：[http](http://maps.googleapis.com/maps/api/geocode/json?address=1600+Amphitheatre+Parkway,+Mountain+View,+CA&sensor=false) ://maps.googleapis.com/maps/api/geocode/json?address=1600+Amphitheatre+Parkway,+Mountain+View,+CA&sensor=false ”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:28:33.503

您是否尝试将其添加到您的解决方案中？

```
<system.net>
  <defaultProxy enabled="true" useDefaultCredentials="true">
   <proxy bypassonlocal="True" proxyaddress="http://webproxy:80" />
  </defaultProxy>
</system.net> 
```

或尝试以下

```
string url = “Valid URL”;
HttpWebRequest req = (HttpWebRequest)WebRequest.Create(url);
NetworkCredential netcredit = new NetworkCredential(“user1″, “pass”, “domain”);
req.Credentials = netcredit;
System.Net.WebProxy pry = new WebProxy(“proxyServer”,true);
pry.Credentials = netcredit;
WebRequest.DefaultWebProxy = pry;
req.Method = “HEAD”; //Does not work if this line is not used
HttpWebResponse res = (HttpWebResponse)req.GetResponse();

HttpWebRequest req = (HttpWebRequest)WebRequest.Create(url);
NetworkCredential netcredit = new NetworkCredential(“user1″, “pass”, “domain”);
req.Credentials = netcredit;
System.Net.WebProxy pry = new WebProxy(“proxyServer”,true);
pry.Credentials = netcredit;
req.Proxy = pry;
req.Method = “HEAD”; //Does not work if this line is not used
HttpWebResponse res = (HttpWebResponse)req.GetResponse(); 
```

人们在这个论坛上有解决方案

[https://groups.google.com/forum/?fromgroups=#!topic/google-maps-api/0js1jr4kqJw](https://groups.google.com/forum/?fromgroups=#!topic/google-maps-api/0js1jr4kqJw)

# c# - 我将使用 C# 创建简单的记录器，那么我可以使用哪些设计模式来创建它作为最佳实践？

> ID：12833436
> 
> 赞同：-4
> 
> 时间：2012-10-11T06:25:54.087
> 
> 标签：c#, design-patterns

通常记录器用于将给定消息（错误、警告或信息）记录到日志文件（简单文本文件或 xml）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:59:09.053

好吧，显而易见的选择是 Strategy（一个可以配置为使用不同输出选项的记录器）和 Composite（在多个输出输出上多路复用输出）。

所以像这样（在Java中）：

```
public class Logger {

  public interface LogOutput {
    void out(final String s);
  }

  // Composite - use to send logging to several destinations
  public LogOutput makeComposite(final LogOutput... loggers) {
    return new LogOutput() {
      void out(final String s) {
        for (final LogOutput l : loggers) {
          l.out(s);
        }
      }
    }
  }

  private static currentLogger = new LogOutput() {
    void out(final String s) {
       // Do nothing as default - no strategy set
    }
  }

  public static log(final String s) {
    currentLogger.out(s);
  }

  // Strategy: Set a new strategy for output
  public static setLogger(final LogOutput l) {
    currentLogger = l;
  }

} 
```

# php - 使用 phpmailer 类批量处理邮件

> ID：12833442
> 
> 赞同：1
> 
> 时间：2012-10-11T06:26:46.827
> 
> 标签：php, email, phpmailer, batch-processing

我需要使用 phpmailer 类设置批处理邮件。我的网站已经通过 phpmailer 发送邮件，但根据我的共享服务器，我的电子邮件活动需要批处理系统。例如：每小时 100 封邮件。当管理员选择接收者列表时，这应该会自动发生。

我需要这应该与 phpmailer 一起使用。我应该采取哪些进一步的步骤？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:32:23.943

1.  为电子邮件活动创建 phpmailer 脚本

2.  将其添加到调度程序（例如，如果您在 Linux 服务器上，则添加 cron 作业）。

# ios - 如何自定义自定义 UIBarButtonItem 的标题

> ID：12833448
> 
> 赞同：1
> 
> 时间：2012-10-11T06:27:07.637
> 
> 标签：ios

我已经像这样自定义了 UIBarButtonItem：

```
UIButton *loginBtn = [UIButton buttonWithType:UIButtonTypeCustom];
loginBtn.frame = CGRectMake(0, 0, 46.0, 34.0);
[loginBtn setImage:[UIImage imageNamed:@"loginBtn.png"] forState:UIControlStateNormal];
[loginBtn addTarget:self action:@selector(loginPressed:) forControlEvents:UIControlEventTouchUpInside];
[loginBtn setTitle:@"Login" forState:UIControlStateNormal];

UIBarButtonItem *finishedButton = [[UIBarButtonItem alloc] initWithCustomView:loginBtn];

[finishedButton setStyle:UIBarButtonItemStylePlain];
self.navigationItem.rightBarButtonItem = finishedButton; 
```

但是现在**我看不到带有“登录”的标题，**按钮上是空白的，似乎“setTitle：”不起作用。谁能告诉我为什么？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:30:50.133

`setTitle:` **确实**有效，只是您没有足够仔细地阅读文档。使用`setBackgroundImage:`而不是`setImage:`后者覆盖`setTitle:`，但前者没有（这就是你想要的）。所以而不是

```
[loginBtn setImage:[UIImage imageNamed:@"loginBtn.png"] forState:UIControlStateNormal]; 
```

写

```
[loginBtn setBackgroundImage:[UIImage imageNamed:@"loginBtn.png"] forState:UIControlStateNormal];
            ^
            +- background! 
```

你应该可以走了。

# java - catch 子句后的 java wait() 语句

> ID：12833450
> 
> 赞同：1
> 
> 时间：2012-10-11T06:27:22.077
> 
> 标签：java

当我运行程序时，它不显示“HIIII”。我是新手（有点）所以请不要“讨厌”。我的 wait() 语句错了吗？或者我做错了什么？是 ArrayIndexOutOfBounds catch 子句吗？请帮忙！

`[edit]`哦，这是主要方法吗？它什么都不做？ `[edit]`我知道等待和通知是错误的......请不要提及它。

```
//this is the whole class
import javax.swing.*;
import javax.swing.JOptionPane;
public class none {

static boolean game;
final static boolean on = true;
final static boolean off = false;
static boolean cheatMode;
public static void main(String[] args) {
    game = on;
    boolean tru = true;
    try{
        if(tru = Boolean.parseBoolean(args[0])){
            cheatMode = on;
            System.out.println("Cheats are on.");
        }
        }
        catch(java.lang.ArrayIndexOutOfBoundsException e){
            e.printStackTrace();
            System.out.println("Ignore this error, it's from not running it on the command prompt.");
        }
}

public class console extends Thread{
    public void run(){
        try{
        wait();
        JOptionPane.showMessageDialog(null,"HIIII");
        }
        catch(Exception e){
            e.printStackTrace();
            System.out.println("The console glitched...");
        }
//hiiii
        JOptionPane.showMessageDialog(null,"HIIII");
        }
    public class mainThingy extends Thread{
        public void run() {
        if(game = on)
        notify();
    }
}
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:45:06.717

似乎有几个问题

```
1) if(tru = Boolean.parseBoolean(args[0])){ 
```

上面的语句是赋值而不是比较。使用 == 运算符。

2) 应始终从同步块内部调用等待和通知。您的代码似乎没有这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:39:05.763

`>java none true`只会打印`Cheats are on`。但是您的问题是关于打印的`Hiii`。不是吗？你已经在课堂上的`JOptionPane`对话中得到了这个`console`。如果不初始化它，你怎么能期望你的程序打印`Hiii`？另外，为什么您在一个文件中编写了两个公共类？当您调用`wait`和 `nottify`方法时，您也缺少该`synchronized`语句。因此，当您启动线程时`console`，无论如何`mainThingy`都会抛出。`IllegalMonitorStateException`那么实际上你想做什么？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:45:05.633

1.  你`main`的方法实际上并没有开始任何事情
2.  `wait`并且`notify`必须`synchronized`在同一个监视器/锁上
3.  你的两个线程没有共享同一个监视器/锁
4.  `if (game = on)`in`mainThingy`是一个作业，而不是一个检查，它应该是`if (game == on)`

**更新示例**

```
public class TestThread {

    static boolean game;
    final static boolean on = true;
    final static boolean off = false;
    static boolean cheatMode;

    public static void main(String[] args) {
        game = on;
        boolean tru = true;
        try {
            if (args.length > 0) {
                if (tru = Boolean.parseBoolean(args[0])) {
                    cheatMode = on;
                    System.out.println("Cheats are on.");
                }
            }
        } catch (java.lang.ArrayIndexOutOfBoundsException e) {
            e.printStackTrace();
            System.out.println("Ignore this error, it's from not running it on the command prompt.");
        }

        Console con = new Console();
        con.start();

        // Give time for the console thread to get started
        do {
            try {
                Thread.sleep(1000);
            } catch (InterruptedException ex) {
                Logger.getLogger(TestThread.class.getName()).log(Level.SEVERE, null, ex);
            }
        } while (!con.isAlive());

        System.out.println("Start main...");
        Console.MainThingy main = new Console.MainThingy();
        main.start();

    }

    public static class Console extends Thread {

        // A shared lock that our two threads can communicate on...
        public static final Object WAIT_LOCK = new Object();

        public void run() {
            try {
                System.out.println("Waiting...");
                // Must "own" the monitor before we can call wait
                synchronized (WAIT_LOCK) {
                    WAIT_LOCK.wait();
                }
                JOptionPane.showMessageDialog(null, "HIIII");
            } catch (Exception e) {
                e.printStackTrace();
                System.out.println("The console glitched...");
            }
        }

        public static class MainThingy extends Thread {

            public void run() {
                if (game == on) {
                    // Must "own" the monitor before we can call notify
                    synchronized (WAIT_LOCK) {
                        System.out.println("Notify...");
                        WAIT_LOCK.notify();
                    }
                }
            }
        }
    }
} 
```

Java Concurrency 很有趣，但如果你不小心对待它，它会咬你一口。

阅读[Java 中的 Currency](http://docs.oracle.com/javase/tutorial/essential/concurrency/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T07:36:34.333

我建议不要使用标准的 wait()-notify() 结构。对此有更好的方法：Java 并发包。

*   [Java并发教程](http://docs.oracle.com/javase/tutorial/essential/concurrency/)
*   [API JavaDoc](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/package-summary.html)
*   [JCIP 或 Java 并发实践（Peierls、Bloch、Bowbeer、Holmes、Lea）](http://www.javaconcurrencyinpractice.com/)

由于您似乎是在学习 Java 的第一步，我建议您再读两本书：

*   [有效的 Java（布洛赫）](http://books.google.co.uk/books/about/Effective_Java.html?id=ZZOiqZQIbRMC&redir_esc=y)
*   [Java 益智游戏（Bloch、Gafter）](http://www.javapuzzlers.com/)

# javascript - 这个实时数据库过滤器是如何完成的？

> ID：12833451
> 
> 赞同：0
> 
> 时间：2012-10-11T06:27:23.097
> 
> 标签：javascript, html, ajax

在这个[页面](http://www.bodybuilding.com/exercises/finder/lookup/filter/muscle/id/6/muscle/neck)左侧有一个表单，可以实时过滤MySql查询结果。

我猜这与 AJAX 或类似语言有关。

有人可以指出我应该朝哪个方向制作实时更改的搜索结果过滤器表单。

或者我应该搜索什么来找到一个工作示例或教程来制作类似的东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:40:02.380

是的，它绝对是 AJAX，但 AJAX 不是一种编程语言，它是异步 Javascript 和 XML。看看[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)。jQuery 可能是做类似事情的最简单方法。

```
if($('#checkbox').is('::checked')){
//code to be executed
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:39:02.247

是的，这就是 Ajax，但 Ajax 不是一种语言。
阿贾克斯是：

> 异步
> Javascript
> 和
> XML

您使用普通的 Javascript 标准方法向服务器发送请求，然后处理结果以更新 html 文档的内容。对于与服务器的通信，您可以使用 XML，但不需要使用 XML。我更喜欢 JSON，因为它产生的流量更少。

XML:

> 扩展
> 标记
> 语言

JSON：

> JavaScript
> 对象
> 表示
> 法

# html - 使用带有 wowza 媒体服务器的视频标签播放视频

> ID：12833458
> 
> 赞同：0
> 
> 时间：2012-10-11T06:27:54.147
> 
> 标签：html, wowza

我正在尝试使用视频标签（html5）在 chrome 上播放视频此视频已上传到 wowza 媒体服务器上，并且仅在 safari 中的 mac 上运行，它不能在 windows 上播放，甚至不能在 mac 上的 chrome 上播放，我能做什么在 Windows 上的 chrome 上播放视频，我的代码是

```
<video controls="controls" width="480" height="320">
    <source src="http://184.72.239.149/vod/mp4:GettingStarted.mov/playlist.m3u8" />
</video> 
```

我不想使用 Flash 播放视频。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T13:12:20.883

对于不支持 HLS 的其他浏览器，您必须使用不同的格式。我还没有看到使用 Wowza 和浏览器的视频标签的这项工作，但有一个使用 JwPlayer 的示例 - [http://developer.longtailvideo.com/player/trunk/fl5/js/test/examples/single_mp4.html](http://developer.longtailvideo.com/player/trunk/fl5/js/test/examples/single_mp4.html)。请注意，对于 Firefox 和 Opera，这确实会退回到 flash。

# python - 在 Python 中比较时间

> ID：12833461
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:28:06.530
> 
> 标签：python, mysql, twisted, mysql-python

我有以下代码始终从数据库中获取日期，然后它将检查当前时间是否等于数据库中的时间。它没有说拍卖开始的问题！就像它应该的那样。

所以我猜这个 if 语句是不正确的。有人可以帮助我朝着正确的方向前进吗？谢谢！

```
def startAuctionServer():
    global cursor

    sql = ("SELECT Auction_StartDate closestDate FROM Auctions "
           "WHERE DATE(Auction_StartDate) > '2012-10-09' "
           "ORDER BY Auction_StartDate ASC LIMIT 1")

    cursor.execute(sql)
    results = cursor.fetchall()
    for row in results:
        auction_startdate = row[0]
        print "AUCTION: %s" % auction_startdate

        now = datetime.datetime.now()
        print now.strftime("%Y-%m-%d %H:%M:%S")
        if auction_startdate == now.strftime("%Y-%m-%d %H:%M:%S"):
            # let the auctions begin
            print "Auction begins!"
            reactor.stop()
            return
        else:
            reactor.callLater(0.05, startAuctionServer)

print "Auction Server Started"
reactor.callLater(0, startAuctionServer)
reactor.run() 
```

# **解决了**

我想出了我需要做什么。我使用 str 来制作值字符串，然后将它们拆分为空格。

我将 if 更改为：

```
if str(now.strftime("%Y-%m-%d %H:%M:%S")).split() == str(auction_startdate).split() 
```

现在我有了我正在做的事情的基础，现在我可以开始我的项目了。

谢谢你们！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:41:01.950

也许您可以尝试一个不太具体的比较，例如，在日期：

```
import datetime

auction_startdate = datetime.datetime.strptime('2012-10-11 12:12:12', '%Y-%m-%d %H:%M:%S')

if auction_startdate.date() == datetime.date.today():
    # let the auctions begin
    .... etc .... 
```

或者

```
if datetime.datetime.now() >= auction_startdate: 
```

# android - 设置 TextView 的坐标

> ID：12833470
> 
> 赞同：0
> 
> 时间：2012-10-11T06:28:48.277
> 
> 标签：android, textview

我现在正在做一个项目。我在屏幕上有多个 TextView。我希望他们在打开应用程序时有一个随机的 x 和 y 坐标。

有没有像 TextView.x = 30 和 TextView = 30 这样的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T14:13:24.183

将 TextViews 放在**FrameLayout**中，并使用**android:layout_marginTop**和**android:layout_marginLeft**设置它们的坐标。FrameLayout 绝对从左上角定位其项目。您可以通过更改布局中项目的顺序来使用 z 轴 - 第一个项目位于第二个项目下方，依此类推......

```
<FrameLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >
    <TextView
        android:id="@+id/textview1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="10dp"
        android:layout_marginLeft="10dp"/>
    <TextView
        android:id="@+id/textview2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="40dp"
        android:layout_marginLeft="60dp"/>
</FrameLayout> 
```

您也可以从代码中动态设置它。

```
TextView textView = (TextView) findViewById(R.id.some_textview);
FrameLayout.LayoutParams layoutParams = new FrameLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
layoutParams.topMargin = 10; // margin in pixels, not dps
layoutParams.leftMargin = 10; // margin in pixels, not dps
textView.setLayoutParams(layoutParams); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:51:15.040

```
 TextView textView = (TextView) findViewById(R.id.display);
 textView.setLayoutParams(new AbsoluteLayout.LayoutParams(100,40, 100, 70)); 
```

但是在这里我们只能使用**AbsoluteLayout**，它已被弃用！

# javascript - 输入类型=文件在 iOS 中不起作用

> ID：12833474
> 
> 赞同：11
> 
> 时间：2012-10-11T06:28:53.667
> 
> 标签：javascript, iphone, cordova

我正在使用 phonegap 为 iOS 开发应用程序。我想将设备上的图像、歌曲、视频等本地文件上传到服务器。为此，我使用`<input type="file">`了浏览文件层次结构。它在浏览器上工作正常，但是当我在 iPad 上运行它时，**选择文件**按钮被禁用。我已经为这个问题搜索了很多，但无法找到合适的解决方案。iOS 中是否支持上述标签？如果不是，那么在 iOS 中浏览和上传文件的解决方案是什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-11T06:33:34.003

iOS 不支持任意文件上传。在 iOS 5.x 之前（包括在内），该标签一直被忽略。

从 iOS 6 开始，此标签允许用户从照片流或相机中添加照片（“拍摄新照片”）。所有这些都将由浏览器在幕后处理，用户将永远不会看到真正的低级“选择文件”对话框。

# iphone - 使用 ios4 创建的应用程序在 ios6 中崩溃并且无法安装

> ID：12833475
> 
> 赞同：0
> 
> 时间：2012-10-11T06:29:03.163
> 
> 标签：iphone, ios4, crash, ios6

为 iOS4 创建的我的应用程序在 iOS6 中崩溃并且没有安装在模拟器或设备上。它只显示启动画面和崩溃。没有完成启动没有被调用。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:50:08.910

最后我得到了我上面提到的问题的解决方案。在我的 ios4 应用程序中，在 FirstViewController.xib 中选中了“使用自动布局”。我刚刚删除了复选标记，我的应用程序开始工作。惊人的！！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:31:58.167

我建议创建一个新项目，并仔细查找委托或任何已弃用的代码中的更改，或者只是将所有代码移动到新项目中。此外，您应该运行转换为现代语法检查。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:35:10.097

应用程序委托可能存在问题。显而易见的原因 - 您的对象未设置为应用程序委托。

查看Apple文档有很多方法可以完成它：

> 删除 Interface Builder 中的应用程序委托绑定（窗口的 .xib 文件） 将 main.h 中 UIApplicationMain 的第 4 个参数设置为 nil 以外的其他值。

在 Interface Builder 中检查您的 nib 文件，并查看是否设置了 App Delegate。

或参考文档[核心应用程序设计](http://developer.apple.com/library/ios/#documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/CoreApplication/CoreApplication.html)

希望这会让你出来。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T13:16:15.440

查看 xcode, ios6 的**发行说明**据说在使用 IOS6 时，自动布局已打开，如果在旧版本上使用会导致应用程序崩溃。检查链接，其中还有其他需要注意的事项：

[https://developer.apple.com/library/mac/#releasenotes/DeveloperTools/RN-Xcode/_index.html](https://developer.apple.com/library/mac/#releasenotes/DeveloperTools/RN-Xcode/_index.html) https://developer.apple.com/library/ios/#releasenotes/General/RN-iOSSDK-6_0 /_index.html

# android - android中的XML解析器

> ID：12833477
> 
> 赞同：1
> 
> 时间：2012-10-11T06:29:09.077
> 
> 标签：android, xml-parsing, android-parser

我需要知道在 android 中解析 XML 文件的最佳方法是什么，我知道有 3 个解析器（XMLPullParser、Dom Parser 和 Sax 解析器），所以它之间有什么不同以及是否有任何代码可以做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:35:26.467

Android 培训推荐 XMLPullParser。

[http://developer.android.com/training/basics/network-ops/xml.html](http://developer.android.com/training/basics/network-ops/xml.html)

> 我们推荐 XmlPullParser，这是一种在 Android 上解析 XML 的高效且可维护的方式。

他们还提供了一些代码示例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:04:01.623

**Sax Parser :** XML Parse node to node的简单API，使用自上而下遍历，解析不存储xml，与Dom相比更快 允许插入或删除节点操作。需要 SAXParserFactory

**Dom Parser：**文档对象模型在处理之前将整个xml存储在内存中，沿任何方向遍历，不允许像插入或删除这样的节点操作。需要 DocumentBuilderFactory

**拉解析器：**它提供了以上两者的更多控制和速度。

# ruby - 在 Ruby 瘦服务器上进行流式传输

> ID：12833479
> 
> 赞同：1
> 
> 时间：2012-10-11T06:29:19.000
> 
> 标签：ruby, streaming, rack, thin, eventmachine

我尝试了以下红宝石代码...

```
 self.response.headers["Cache-Control"] ||= "no-cache"
 self.response.headers["Transfer-Encoding"] = "chunked"
 self.response.headers['Last-Modified'] = Time.now.ctime.to_s
 self.response_body =  Rack::Chunked::Body.new(Enumerator.new do |y|
   10.times do

     sleep 1
     y << "Hello World\n"
   end
 end) 
```

这在 Unicron 服务器中效果很好，但无法使用瘦服务器进行流式传输。我也尝试了 1.5.0 和 2.0.0.pre，这在薄薄的情况下不起作用。

我尝试了以下机架代码，

```
class DeferredBody
  def each(block)
    @server_block = block
  end

  def send(data)
    @server_block.call data
  end
end

class RackStreamApp
  def self.call(env)
    Thread.new do
      sleep 2  # simulate waiting for some event
      body = DeferredBody.new
      response = [200, {'Content-Type' => 'text/plain'}, body]
      env['async.callback'].call response

      body.send 'Hello, '
      sleep 2
      body.send 'World'
    end

    [-1, {}, []]  # or throw :async
  end
end 
```

如果我们使用 Unicorn Server，上面的代码流式传输“Hello, World”，但使用 Thin server 1.5.0 时代码不会流式传输（我也尝试过 2.0.0-pre）

我可以做些什么来使用瘦服务器流式传输数据吗？

# ios - IOS应用白标的方法

> ID：12833482
> 
> 赞同：3
> 
> 时间：2012-10-11T06:29:28.993
> 
> 标签：ios, white-labelling

我的应用程序已经在苹果商店，现在我想在该应用程序上标记时执行。我该怎么做。我有一个想法，通过使用不同的应用 ID 创建不同的目标，我可以实现这一点，但想详细了解整个过程。应用商店是否允许白标？边申请边贴标签后，我可以上传我的多个应用程序ID不同的应用程序吗？应用商店是否批准？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-13T07:05:02.710

不，Apple 不支持通过 API 对 APP 进行自动白标。

# scheme - 表示为树的算术表达式

> ID：12833485
> 
> 赞同：-2
> 
> 时间：2012-10-11T06:29:39.353
> 
> 标签：scheme, racket

想象一个算术表达式，例如 (+ 1 (* 2 (- 3 5))) 被认为是一个树状结构，其叶子为数字，内部节点为运算符符号，如下所示：

```
 +
   /   \
  1     *
       /  \
      2    -
          /  \
         3    5 
```

每个节点可以由一个三元素列表表示：`(left-operand operator right-operand)`

我正在尝试编写一个函数
`(make-expr left-op operator right-op)`

产生
`(left-op operator right-op)`

例如： `(make-expr '(6 * 3) '+ '(5 -2)) => ((6 * 3) + (5 - 2))`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:37:55.063

```
> (list '(6 * 3) '+ '(5 - 2))
((6 * 3) + (5 - 2) 
```

是的，就像使用`list`函数一样简单。

# android - 通过通用遥控器在平板电脑上控制我的 Android 应用程序

> ID：12833487
> 
> 赞同：0
> 
> 时间：2012-10-11T06:29:50.233
> 
> 标签：android

我有一台 Android 平板电脑并在上面安装了一个应用程序。

现在我需要通过我的通用遥控器控制平板电脑上的这个应用程序（它将使用蓝牙与我的平板电脑配对）。

我想在这里解释一个简单的场景：我的应用程序上有一个列表框，上面有一些项目，默认情况下会选择第一个项目。现在，当我按下遥控器上的向下按钮时，应该在列表框中选择下一个项目。

在安卓中可以吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:15:52.447

是的，很有可能。

蓝牙中有一个名为 AVRCP（音频/视频远程控制配置文件）的现有蓝牙配置文件，适合您的用例。

[https://www.bluetooth.org/Building/HowTechnologyWorks/ProfilesAndProtocols/AVRCP.htm](https://www.bluetooth.org/Building/HowTechnologyWorks/ProfilesAndProtocols/AVRCP.htm)

# c# - 保存对话框以下载文件，将文件从 ASP.NET 服务器保存到客户端

> ID：12833490
> 
> 赞同：6
> 
> 时间：2012-10-11T06:29:52.977
> 
> 标签：c#, asp.net, save, save-dialog

我一直在互联网上搜索，但找不到任何有用的答案。

我有一个 ASP.NET 网站，它部署在服务器上。服务器上的 ASP.NET 网站可以访问名为 W:/ 的目录。公司的客户可以访问该网站。该网站在 ListBox 中列出了 W:/ 目录中的所有 PDF 文件。客户端应该能够从列表框中选择 PDF 文件，并通过为其选择位置将它们保存到本地 PC。

诸如在网页上另存为文件之类的东西。

你能为我提供一些解决方案或解决方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T07:34:34.160

最后我找到了一篇文章，提示保存对话框以从 ASP.NET 下载文件

我把它贴在这里，也可以帮助其他人并节省一些时间。

```
 String FileName = "FileName.txt";
 String FilePath = "C:/...."; //Replace this
 System.Web.HttpResponse response = System.Web.HttpContext.Current.Response;
 response.ClearContent();
 response.Clear();
 response.ContentType = "text/plain";
 response.AddHeader("Content-Disposition", "attachment; filename=" + FileName + ";");
 response.TransmitFile(FilePath);
 response.Flush();
 response.End(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-04-14T13:40:12.177

这是 user1734609 在本地获取文件的解决方案的扩展。

要将文件从服务器下载到客户端：

```
public void DownloadFile()
        {
            String FileName = "201604112318571964-sample2.txt";
            String FilePath = AppDomain.CurrentDomain.BaseDirectory + "/App_Data/Uploads/" + FileName;
            System.Web.HttpResponse response = System.Web.HttpContext.Current.Response;
            response.ClearContent();
            response.Clear();
            response.ContentType = "text/plain";
            response.AddHeader("Content-Disposition", "attachment; filename=" + FileName + ";");
            response.TransmitFile(FilePath);
            response.Flush();
            response.End();

        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:16:56.043

从 W 盘获取 byte[] 中的文件内容并将其写入本地文件。

```
byte[] data = File.ReadAllBytes(WDriveFilePath)

FileStream file = File.Create(HttpContext.Current.Server.MapPath(MyLocalFile)); 

file.Write(data, 0, data.Length); 
 file.Close(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-09-26T12:13:12.317

我做了这样的事情来获取文件。

```
protected void btnExportFile_Click(object sender, EventArgs e)
        {
            try
            {
                Thread newThread = new Thread(new ThreadStart(ThreadMethod));
                newThread.SetApartmentState(ApartmentState.STA);
                newThread.Start();     

               // try using threads as you will get a Current thread must be set to single thread apartment (STA) mode before OLE Exception .

            }
            catch (Exception ex)
            {

            }

        }

        static void ThreadMethod()
        {
            Stream myStream;
            SaveFileDialog saveFileDialog1 = new SaveFileDialog();
            saveFileDialog1.FilterIndex = 2;
            saveFileDialog1.RestoreDirectory = true;

            if (saveFileDialog1.ShowDialog() == DialogResult.OK)
            {
                if ((myStream = saveFileDialog1.OpenFile()) != null)
                {
                    // Code to write the stream goes here.
                    myStream.Close();
                }
            }
        } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-11T06:32:58.800

正确的关键字是“文件浏览器 asp.net”，可以找到很多带有源代码的示例。

这是来自codeproject的一个：

[http://www.codeproject.com/Articles/301328/ASP-NETUser-Control-File-Browser](http://www.codeproject.com/Articles/301328/ASP-NETUser-Control-File-Browser)

# typo3 - 删除 TYPO3 默认包装和属性

> ID：12833491
> 
> 赞同：1
> 
> 时间：2012-10-11T06:29:53.800
> 
> 标签：typo3, typoscript

我正在使用 TemplaVoila 并映射模板来创建一个新站点。这是我第一次使用 TYPO3，所有默认样式都弄乱了我的 html 结构。

我想删除 div、包装`p.bodytext`等`class="csc"`内容

**如何使 TYPO3 不为所有页面内容呈现任何包装/框架？**

PS。我知道如何单独删除每个，但是在 TS 中是否有全局设置？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T06:35:15.337

从主模板中删除静态文件。

单击**模板**，然后单击您的站点**根目录**。从工具栏中选择**信息/修改**，然后单击**编辑整个模板记录**，**包括**。

![在此处输入图像描述](../Images/c007b2815093d36f0f267a7263a43b04.png)

该模板名为`CSS Styled Content`.

此模板包含在您的 css 文件之前。因此，如果您不想删除整个模板，则可以在您的 css 中覆盖它们。

另一种解决方案是删除 css_styled_content 并添加**内容（默认）**。

我的最后一个想法是像这样在主模板中设置样式内容

```
lib.parseFunc_RTE &lt; lib.parseFunc
lib.parseFunc_RTE.nonTypoTagStdWrap.encapsLines {
    encapsTagList = div,p,pre,h1,h2,h3,h4,h5,h6
    remapTag.DIV = P
    nonWrappedTag = P
    innerStdWrap_all.ifEmpty = <br />
    #addAttributes.P.class = bodytext
    #addAttributes.P.class.setOnly=blank  
}

# remove class statements from h tags
lib.stdheader {
    10.1.fontTag = &lt;h1&gt;|&lt;/h1&gt;
    10.2.fontTag = &lt;h2&gt;|&lt;/h2&gt;
    10.3.fontTag = &lt;h3&gt;|&lt;/h3&gt;
    10.4.fontTag = &lt;h4&gt;|&lt;/h4&gt;
    10.5.fontTag = &lt;h5&gt;|&lt;/h5&gt;
    stdWrap.dataWrap = |
} 
```

删除正文 css：

```
lib.parseFunc_RTE.nonTypoTagStdWrap.encapsLines.addAttributes.P.class > 
```

# javascript - 根据 ng-model 属性选择模板的最佳方法是什么？

> ID：12833492
> 
> 赞同：0
> 
> 时间：2012-10-11T06:29:58.397
> 
> 标签：javascript, angularjs

假设我们有一个带有一些“人物属性”的人物对象

```
personModel = {
 membership-number : "abcd",
 name : "Anonymous",
 dob : "14/04/2009",
 avatar : "image.png"
} 
```

假设我们有关于这些“人物属性”的元数据。

```
meta-data = {
 membership-number: {data-type : "string", editable : "false"},
 name : {data-type : "string", editable : "true"},
 dob : {data-type : "date", editable : "true"},
 avatar : {data-type : "image", editable : "true"}
} 
```

现在我想在具有以下约束的页面上列出 personModel 的这些属性。成员名称是字符串且不可编辑，应显示为标签。所有可编辑的字符串作为文本框，所有带有日期选择器的日期类型等。

我知道这可以通过角度指令来完成。有一个名为 person 的指令，它将遍历 personObject 的“person-properties”。

```
<person ng-model={{personModel}}> </person> 
```

并对人体内的每个“人属性”都有一个指令，例如：

```
<person-property ng-repeat = {{prop in person-properties}}> </person-property> 
```

我们还假设属性指令可以访问元数据。要根据属性类型获取模板，我可以在 person-property 的定义中编写 if-else 来选择要返回的模板，例如这个骨架。

```
if(property_type === "date"){
   template = "<datepicker> </datepicker>"
}
else if (property-type === "numeric"){
   template = "<numeric-editable-box> </numeric-editable-box>"
} 
```

但是有没有更优雅的方法来做到这一点？

WPF 有一个叫做 TemplateSelector 的东西来做到这一点。角度是否有类似的东西我不知道？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:44:50.727

我认为这`ng-switch`可能符合您的需求。打开元数据并显示适当的元素。

```
<div ng-switch="property_type">
  <datepicker when="date"></datepicker>
  <numeric-editable-box when="numeric"></numeric-editable-box>
</div> 
```

ETC...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-10T15:04:02.217

这是一个很好的方法。我最近写了关于这种基于数据迭代动态选择自定义指令的技术。 [http://whatsthebigit.blogspot.com/2013/07/dynamic-directives-with-angular.html](http://whatsthebigit.blogspot.com/2013/07/dynamic-directives-with-angular.html)

# visual-studio-2010 - linq 查询更新多条记录

> ID：12833494
> 
> 赞同：2
> 
> 时间：2012-10-11T06:30:00.900
> 
> 标签：visual-studio-2010, linq

我有一张名为`industries`. 在这我的领域是

*   `workfor_id`,
*   `workfor_usr_id`,
*   `workfor_industry_id`.

相同的值`workfor_id`，我有不同`workfor_industry_id`的值。

```
foreach (var k in us){ 
    var ind = dbContext.industries.Where(i => i.workfor_id == 
        k.id).Select(i => i).FirstOrDefault(); 
    string ind2 = k.industry; 
    var industryParts =   ind2.Split(','); 
    var o = (industryParts.Length); 
    for (c = 0; c < o; c++){  
    ind.workfor_id = Convert.ToInt16(k.id); 
    ind.workfor_industry_id = Convert.ToInt16(k.industryid); }
     } 
```

为了更新 workfor_industry_id 字段，我在 foreach 循环中实现了内部循环以获取 workfor_industry_id 的值。这里相同的记录因不同的 workfor_industry_id 而过载。

你能告诉我如何实现这个吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:27:24.830

已更新此更新添加了更多错误检查，并假定 -1 永远不是行业 ID 的有效值

```
short GetShort(string value) {
  short returnValue;
  value = (value ?? string.Empty).Replace("\"",null);
  return short.TryParse(value, out returnValue) ? returnValue : (short)-1;
}

foreach (var k in us){ 
  var id=Convert.ToInt16(k.id);
  var toRemove=from i in dbContext.industries
               where i.workfor_id == k.id
               select i;
  var toAdd = from x in (k.industry ?? string.Empty).Split(',')
              select new Industry { 
                      workfor_id=id,
                      workfor_industry_id=GetShort(x)
                    };

  dbContext.industries.DeleteAllOnSubmit(toRemove); 
  dbContext.industries.InsertAllOnSubmit(toAdd.Where(x=>x.workfor_industry_id != -1));

}
dbContext.SubmitChanges(); 
```

# c# - 跟踪 WMI Defrag Class 的进度

> ID：12833501
> 
> 赞同：3
> 
> 时间：2012-10-11T06:30:34.753
> 
> 标签：c#, visual-studio-2010, api, winapi, wmi

我正在看这样的东西：http: [//www.codeproject.com/Messages/2901324/Re-the-result-of-DefragAnalysis-method-in-csharp.aspx](http://www.codeproject.com/Messages/2901324/Re-the-result-of-DefragAnalysis-method-in-csharp.aspx)

这非常适合我的需求。我将它作为线程运行，一切正常。我唯一想要的就是能够跟踪进度。

例如：50% 已分析或类似的东西。

有任何想法吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T18:29:35.920

WMI 不提供任何机制来监视方法的进度，因为您可以使用与此任务相关 的[WinAPi 函数](http://msdn.microsoft.com/en-us/library/windows/desktop/aa363911%28v=vs.85%29.aspx)[`defrag`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa389832%28v=vs.85%29.aspx)来实现自己的碎片整理方法。

# javascript - 如何追踪导致 javascript 错误的函数并保存到日志

> ID：12833503
> 
> 赞同：2
> 
> 时间：2012-10-11T06:30:38.620
> 
> 标签：javascript, error-handling

现在我使用此代码将错误日志从用户保存到数据库

```
window.onerror = function (msg, url, line) {
    $.ajax({
        type: "POST",
        url: "call/savelog.php",
        data: {
            type : "bug\n" + version,
            message : 'Error message: '+msg+'\nURL: '+url+'\nLine Number: '+line
        }
    });
    return true;
}; 
```

当 jquery 或 kineticjs 函数发生错误时，

如果它在 javascript 控制台中，我会得到类似的东西

```
Uncaught TypeError: Cannot read property '_id' of undefined kinetic-v4.0.2.js:1386
Kinetic.Node.remove kinetic-v4.0.2.js:1386
Kinetic.Layer.remove kinetic-v4.0.2.js:3667
drawCountdown side_play.js:105 
```

所以我会知道我的 javascript 文件 side_play.js 中的 drawCountdown 函数导致的错误，
但它在我的错误日志中看起来像这样

```
Error message: Uncaught TypeError: Cannot read property '_id' of undefined
URL: https://myurl.com/js/kinetic-v4.0.2.js
Line Number: 1386 
```

所以我不知道是哪个函数导致了错误。
如何追踪导致错误的最深层函数并将错误日志保存到数据库

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T15:47:10.597

您似乎正在使用 window.onerror 事件，这很好。我不建议在你的代码中到处插入 try catch，我已经和很多记录 JavaScript 错误的人交谈过。当你开始插入 try catch。

*   错过一些地方的风险很高
*   正常开发变得更加困难，因为您的尝试捕获隐藏了开发人员的错误，您真正想要的是在生产中尝试捕获而在开发中没有尝试捕获

与我交谈过的那些尝试过大型项目的人，真的很后悔。

你可以试试我的项目[Muscula](http://muscula.com)，它会尝试获取 javaScript 源文件，并显示导致错误的代码行。我认为这将解决您的问题。

此外，我在合理的情况下（不是在任何地方）自动插入 try catch，其余错误由 window.onerror 捕获。

要使用 Muscula，您只需安装一个脚本，例如 Google Analytics，然后记录错误。我很乐意让你尝试一下，让我知道它对你有用。现在 Muscula 处于公开测试阶段，可以免费使用。使用在大约。每天 4.000.000 次浏览量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:52:23.073

您可以将函数包装在 try/catch 语句中，如果发生错误，您可以捕获错误，然后通过服务器将它们写入文件中。

```
try {
  yourFunctionCallHere();
} catch (err) {
   var message = 'yourFunctionCallHere failed: ' + err.message;
   //now you can do smth with this error message, for example send an ajax request to the server...
} 
```

# php - 如何检查授予用户的用户权限（代码点火器）

> ID：12833504
> 
> 赞同：0
> 
> 时间：2012-10-11T06:30:41.773
> 
> 标签：php, database, codeigniter

> **可能重复：**
> [CodeIgniter 身份验证 + 用户权限](https://stackoverflow.com/questions/4977707/codeigniter-authentication-user-privileges)

我有 5 个用户类型并有权限表，我在其中向不同的用户授予不同的权限。is_view、is_delete、is_add 等权限。用户根据这些权限访问该功能。

我完成了数据库。我想在调用控制器之前检查每个页面上授予用户的权限。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:47:07.803

您应该将您的身份验证逻辑放在控制器的构造函数中

或者

在基本控制器的构造函数中（更干燥，因为您不必在所有控制器中重复逻辑）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:00:34.507

我将创建一个扩展核心控制器的新控制器。将此文件放入`application/core/`

```
class MY_AuthController extends CI_Controller {
    public function __construct() {
        // Do your auth check in here, redirect if not logged in
    }
} 
```

然后所有需要身份验证的页面都继承这个新的控制器。您只需将此文件放在常规控制器文件夹中

```
class Admin extends MY_AuthController {
    // All your controller goodness in here..
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-12T03:56:07.853

我建议你阅读以下两篇文章：

## 1\. Phil Sturgeon 关于[保持干燥](http://philsturgeon.co.uk/blog/2010/02/CodeIgniter-Base-Classes-Keeping-it-DRY)的帖子。

Phil 将向您介绍如何创建父控制器，其构造函数将包含会话和潜在的数据库逻辑。您此后创建的所有控制器都应从您的自定义控制器而不是本机继承`CI_Controller`。

*其次是....*

## 2\. 重新审视 Shane Pearson 的[CodeIgniter 基类](http://www.highermedia.com/articles/nuts_bolts/codeigniter_base_classes_revisited)。

Shane 的文章改进了 Phil 的技术并将您的自定义控制器从`/core`to重新定位，`/base`并且还使用了更好`__autoload()`的 er。例如，这个实现允许我使用 CodeIgniter 的 CLI 类，而 Phil 却被排除在外。

* * *

给你一个想法 - 一旦完成，你的代码看起来有点像这样：

## 在`/base/MY_In_Controller.php`：

```
<?php
class MY_In_Controller extends CI_Controller{
    function __construct(){
        parent::__construct();
        //things like:
        //is the user even logged in? thank heavens I don't have to check this in every controller now. redirect if the session doesnt exist.
        //query the database and grab the permissions for the user. persist them with $this->load->vars();
        $this->data['perms'] = some_database_function();
        $this->load->vars($this->data);
    }
} 
```

## 在`controllers/manage.php`：

```
<?php
class Manage extends MY_In_Controller{
    function __construct(){
        parent::__construct();
    }
    function index(){
        $this->load->view('manage');
        //and I can still access their permissions here and in the view.
        print_r($this->data['perms']);
    }
} 
```

# c# - Devart 实体开发人员提供错误的提供者？

> ID：12833506
> 
> 赞同：0
> 
> 时间：2012-10-11T06:30:46.560
> 
> 标签：c#, .net, oracle, entity-framework-4, devart

我们正在使用 devart dotconnect、实体开发人员和 Visual Studio 2010 的开发人员工具。

上周我有一个新的机器和从 windows xp 升级到 windows 7。

在此升级之前，一切正常。但是现在，当我在实体模型向导中选择我的表后，Visual Studio 输出显示：

> 无法为“{0}”创建模型对象。未找到提供程序 Oracle.DataAccess.Client。

似乎 devart 环境正在寻找错误的提供者。

在向导中，我选择“Database first”和 Provider=Oracle Data Provider for .NET。

# python - 如何找出列表中以元音开头的单词？

> ID：12833512
> 
> 赞同：2
> 
> 时间：2012-10-11T06:31:01.710
> 
> 标签：python, list, search

```
words = ['apple', 'orange', 'pear', 'milk', 'otter', 'snake', 'iguana',
         'tiger', 'eagle']
vowel=[]
for vowel in words:
    if vowel [0]=='a,e':
        words.append(vowel)
    print (words) 
```

我的代码不对，它会打印出原始列表中的所有单词。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-11T06:33:16.610

```
words = ['apple', 'orange', 'pear', 'milk', 'otter', 'snake','iguana','tiger','eagle']
for word in words:
    if word[0] in 'aeiou':
        print(word) 
```

您也可以使用这样的列表理解

```
words_starting_with_vowel = [word for word in words if word[0] in 'aeiou'] 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-11T06:36:02.577

这是一个带有列表理解的单行答案：

```
>>> print [w for w in words if w[0] in 'aeiou']
['apple', 'orange', 'otter', 'iguana', 'eagle'] 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-10-11T06:42:46.833

好的 python 读起来几乎像自然语言：

```
vowel = 'a', 'e', 'i', 'o', 'u'
words = 'apple', 'orange', 'pear', 'milk', 'otter', 'snake', 'iguana', 'tiger', 'eagle'
print [w for w in words if w.startswith(vowel)] 
```

解决方案的问题`w[0]`在于它不适用于空词（在此特定示例中无关紧要，但在解析用户输入等实际任务中很重要）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-11T06:34:17.243

```
if vowel [0]=='a,e':
        words.append(vowel) 
```

您将其附加到此处的原始列表中。它应该是你的`vowel`清单。

```
words = ['apple', 'orange', 'pear', 'milk', 'otter', 'snake','iguana','tiger','eagle']
vowel=[]
for word in words:
    if word[0] in "aeiou":
        vowel.append(word)
print (vowel) 
```

使用列表理解

```
vowel = [word for word in words if word[0] in "aeiou"] 
```

使用`filter`

```
vowel = filter(lambda x : x[0] in "aeiou",words) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-03-10T11:26:07.623

```
 res = [] 
list_vowel = "aeiou"
for sub in words: 
   flag = False

   # checking for begin char 
   for ele in list_vowel: 
       if sub.startswith(ele): 
           flag = True
           break
   if flag: 
       res.append(sub) 

# printing result 
list_vowel = str(res)
print(list_vowel)``` 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2022-02-22T13:34:09.253

您可以使用列表理解：

```
input_list = ['wood','oil','apple','bat','iron','Apple2']

list_vowel = [i for i in input_list if i[0] in "aeiouAEIOU"]

print(list_vowel) 
```

或者可以使用

```
 list1 = []

for i in input_list:

    if i[0] in "aeiouAEIOU":

      list1.append(i)

print(list1) 
```

# debugging - 在 chrome 的调试器中暂停？

> ID：12833514
> 
> 赞同：158
> 
> 时间：2012-10-11T06:31:05.843
> 
> 标签：debugging, google-chrome, google-chrome-devtools

在 chrome 中调试时，即使没有设置断点，脚本也总是在调试器中暂停，如果暂停未暂停，它会再次暂停。

可以做什么？

* * *

## 回答 #1

> 赞同：232
> 
> 时间：2012-10-15T14:14:29.317

一个可能的原因是，您启用了“异常暂停”（窗口左下方带有暂停 (||) 符号的小停止符号形状的图标）。尝试单击它回到关闭/灰色状态（不是红色或蓝色状态）并重新加载页面。

[![在此处输入图像描述](../Images/5fce2c9afbf105764dee14b72e278053.png)](https://i.stack.imgur.com/QltAW.png)

* * *

## 回答 #2

> 赞同：105
> 
> 时间：2012-10-18T09:29:00.290

就我而言，我在`Any XHR`设置中设置了 true 标志`XHR Breakpoints`，可通过 Chrome 开发工具中的 Sources 选项卡访问。

![Chrome 开发工具中的任何 XHR 标志](../Images/effc21cb30e8f2e0a79b18185c764ebc.png)

取消选中它以使 Chrome 再次正常工作。

* * *

## 回答 #3

> 赞同：42
> 
> 时间：2015-02-10T18:30:05.927

这也可能导致问题

右上角的断点图标应该是蓝色的，像这样

![在此处输入图像描述](../Images/d8db2b82c0facc8bcc6ca50bde11b7ab.png)

不应该这样灰

![在此处输入图像描述](../Images/22aafdf1ec8dbcbc6577f2678d7034dc.png)

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2013-10-28T09:10:47.460

如果您导航到 Sources，您可以![在此处输入图像描述](../Images/a726278d76731f54905aa782e731e61f.png)在 DevTools 的底部看到暂停按钮。在调试 js 文件时，DevTools 中基本上有 3 个可能的暂停选项，

*   **不要在异常（![在此处输入图像描述](../Images/a726278d76731f54905aa782e731e61f.png)）上暂停：**

    暂停按钮将呈**灰色**，就像“不要暂停异常”一样。 ![在此处输入图像描述](../Images/44025fbfe78b10f8a28d9595529e40ec.png)

*   **暂停所有异常（![在此处输入图像描述](../Images/0891a80712071abf69380bff4c019119.png)）：**

    暂停按钮将显示为**蓝色**，就好像“暂停所有例外”处于活动状态一样。 ![在此处输入图像描述](../Images/da72b35dcda8a1c7768abaf96081e0e0.png)

*   **在未捕获的异常上暂停（![在此处输入图像描述](../Images/9bbcc783b90d5585c36d8c5a718d1643.png)）：**

    暂停按钮将显示为**紫色**，就像“暂停未捕获的异常”处于活动状态一样。 ![在此处输入图像描述](../Images/3a3310112f672407e8d0824491f2ef77.png)

在您的情况下，如果您不想暂停，请选择不要暂停异常。要选择，请切换暂停按钮，直到它变为**灰色**![在此处输入图像描述](../Images/a726278d76731f54905aa782e731e61f.png)。

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2014-05-27T09:09:53.867

下面还有一些选项，如果你检查了一些，当条件激活时，断点调试器也激活

![](../Images/e83f6228671e3fdb5c63faf640002d64.png)

* * *

## 回答 #6

> 赞同：11
> 
> 时间：2019-01-31T15:19:22.800

您可以按`CTLR`+`F8`激活或停用断点。

这是简短的解决方案。

* * *

## 回答 #7

> 赞同：8
> 
> 时间：2013-08-30T04:15:54.977

![在此处输入图像描述](../Images/be4a888be635dc2bf91fc16cc4392274.png)

是的。我今天刚学习 chrome 开发工具，发现了同样的事情——如果上面的方法失败了，扩大这里的图片区域，寻找你可能已经设置和忘记的断点。

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2016-01-19T14:50:52.503

右上角倒数第二个图标（附图中红色圆圈）用于激活/停用调试。单击它可随时切换调试。

[Chrome 调试控制台](http://i.stack.imgur.com/qTaMX.png)

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2015-10-07T18:36:50.060

单击设置图标，然后单击恢复默认值并重新加载按钮。这对我有用，而接受的答案却没有。[![谷歌浏览器恢复默认值并重新加载](../Images/cd7a66a973067bdcd4708fb37492c591.png)](https://i.stack.imgur.com/QQNQv.png)

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2017-10-01T07:24:48.907

这真是一次糟糕的经历。如果上面的答案对你不起作用，试试这个。

单击设置图标，然后单击恢复默认值并重新加载按钮。

按'F8'直到它变得正常。

编码快乐！！

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2014-09-05T04:00:39.850

另一位用户稍微详细地提到了这一点，但我错过了它，直到我在 2 天内回到这里大约 3 次 -

有一个标题为 EventListener 断点的部分，其中包含可以设置的其他断点的列表。碰巧我不小心在 DOM Mutation 上启用了其中一个，当 DOM 的任何内容被覆盖时，它都会让我知道。不幸的是，这导致我在意识到这只是我的机器之前禁用了一堆插件和附加组件。希望这对其他人有帮助。

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2015-11-19T16:06:27.213

我遇到的非常愚蠢的问题导致我使用调试器来到这里；命令。：[“调试器；” 上面有一块手表。](http://i.stack.imgur.com/dnTqx.png)

它导致了一个刚刚说调试器的页面；出现在每个页面加载之间。

禁用它的方法是右键单击所说的手表，然后单击“删除手表表达式”。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2015-01-21T12:43:39.713

您可以在 chrome 开发人员控制台中转到断点，右键单击并删除断点。简单的。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2021-03-05T14:31:38.887

对我来说，这是由于 chrome 扩展，我关闭了一些不需要的扩展并且消息消失了。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2020-05-01T02:20:16.270

这发生在我身上。我在 body 标记上的子树修改上有一个断点，每次我删除断点时，它们都会在我刷新后返回。我很困惑，我什至删除了所有的 DOM 断点，但幻体子树修改断点却不断出现。最终，我重新加载了缓存，它们就消失了。

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2020-01-09T14:59:13.880

[线程 > 将“主要”切换到“应用”](https://i.stack.imgur.com/sZMXI.png)

在“线程”部分，我将上下文从“主要”> 更改为“应用程序”。“应用程序”旁边应该有一个蓝色箭头。

* * *

## 回答 #17

> 赞同：-1
> 
> 时间：2019-07-23T10:09:20.407

`for`我的循环中有语法错误。这导致了暂停错误。

* * *

## 回答 #18

> 赞同：-3
> 
> 时间：2021-07-02T12:07:41.350

[![在此处输入图像描述](../Images/9956ab68734cd24f89c679cd3ac003e0.png)](https://i.stack.imgur.com/FFecl.jpg)

无需担心。只需单击此处并刷新您的页面。

# iphone - 如何停止 NSInvocationOperation 和 NSOperationQueue

> ID：12833518
> 
> 赞同：0
> 
> 时间：2012-10-11T06:31:23.287
> 
> 标签：iphone, objective-c, xcode, uitableview

我在表格视图 cellforRowAtIndexPath 方法中使用 [NSOperationQueue mainQueue] 和 NSInvocationOperation 在后台从 Web 加载图像。但下载图像后它并没有停止。这是我的代码

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    UITableViewCell *cell=[mytable dequeueReusableCellWithIdentifier:@"cell"];

    if (cell == nil) 
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"cell"];

    }

    imageLabel=(UIImageView *)[cell viewWithTag:5];
    UIImage *image=[dict objectForKey:[appSmallLogos objectAtIndex:indexPath.row]];
    if (image) {
        imageLabel.image=image;
    } else {   
        NSURL *on=[appSmallLogos objectAtIndex:indexPath.row];
        NSString *on1=[appNames objectAtIndex:indexPath.row];

        NSMutableArray *array=[[NSMutableArray alloc] initWithObjects:on,on1,indexPath, nil];
        operation = [[NSInvocationOperation alloc] initWithTarget:self selector:@selector(didGetAlbums:) object:arr];

        q =[NSOperationQueue mainQueue];
        [q addOperation:operation];

    imageLabel.image=[dict objectForKey:on1];
    }

    return cell;
}

//didgetalbums method

- (void )didGetAlbums: (NSMutableArray* )url
{

    dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH,  0ul);
    dispatch_async(queue, ^{
        NSData *data=[NSData dataWithContentsOfURL:[url objectAtIndex:0]];
        UIImage *image1 = [UIImage imageWithData:data];

        dispatch_sync(dispatch_get_main_queue(), ^{
            [dict setObject:image1 forKey:[url objectAtIndex:1]];

        });
    });

    //reload the requested cell after download image
    [self. mytable beginUpdates];
    [self. mytable reloadRowsAtIndexPaths:[NSArray arrayWithObjects:[url objectAtIndex:2], nil] withRowAnimation:UITableViewRowAnimationNone];
    [self. mytable endUpdates];    // imageLabel.image=[dict objectForKey:[appSmallLogos objectAtIndex:indexPath.row]];
} 
```

# javascript - Firefox 中不需要的 JavaScript 文件，NS_ERROR_XPC_BAD_CONVERT_JS

> ID：12833519
> 
> 赞同：1
> 
> 时间：2012-10-11T06:31:24.190
> 
> 标签：javascript, firefox

我不知道为什么，但我只在 Firefox 中收到 JavaScript 错误，而且我在我的页面中看到一些我以前从未引用过的不需要的 JavaScript 文件。

![火狐错误](../Images/34c2fd0e060fe93e80a0f204a94cf108.png)

![javascript错误](../Images/2f73bc9b7cab1400ebe11ce4e4134e5a.png)

这是什么？实际上我想知道我的页面中这个不需要的 JavaScript 文件是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T21:23:52.060

我找到了答案，这是因为一个 FireFox 扩展程序自动在所有页面中包含了一些外部 JavaScript 文件，它阻止了 Firebug 正常工作。

删除扩展解决了所有问题。

# testing - 在 Play 控制器中模拟第三方 API

> ID：12833527
> 
> 赞同：0
> 
> 时间：2012-10-11T06:32:18.107
> 
> 标签：testing, playframework-2.0, mockito

在基于 Play 的应用程序中！框架（2.0，Java）我想在测试控制器时模拟第三方 API。我为此选择了 Mockito，因为我在 Play 中找不到任何内置的模拟功能！

我有这样的事情：

```
@Test
public void someTest() {
  ThirdParty thirdParty = mock(ThirdParty.class);
  when(thirdParty.someUnwantedMethod()).thenReturn("foo");

  running(fakeApplication(), new Runnable() {
    public void run() {
      Result result = callAction(controllers.routes.ref.MyController.doImportantStuff());
      verify(thirdParty.someUnwantedMethod()); // Verify that method in mock/API is called
      assertThat(contentAsString(result)).contains("foo");
    }
  });
} 
```

（控制器依次在 ThirdParty 类的实例上调用“someUnwantedMethod()”，在测试时应该使用模拟）

如何让我的控制器拿起模拟？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:23:35.147

1.  在 MyController 中引入静态 setThirdParty 方法
2.  在您的测试中，在“callAction”之前，调用 MyController.setThirdParty(thirdParty)

没有什么具体的游戏

# joomla - 如何获得 Joomla 安装的域

> ID：12833529
> 
> 赞同：2
> 
> 时间：2012-10-11T06:32:23.520
> 
> 标签：joomla, joomla2.5

我需要在登录后进行自定义重定向，但我对 Joomla 的基础不是很熟悉，所以我做了一些硬编码

```
$app->redirect(JRoute::_('http://'.$_SERVER['HTTP_HOST'].substr($_SERVER['REQUEST_URI'], 0, strrpos($_SERVER['REQUEST_URI'], '/')).'/index.php?option=com_myapp')); 
```

但是在某些情况下会出现问题，所以是否有可能以某种方式确定它安装的默认 joomla 域/url/路径是什么，这样我就可以使用类似的东西`$domain.'/index.php?option=com_myapp'`？

PS使用2.5

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T09:15:56.867

您可以使用以下方式获取 joomla 网站网址 -

```
JURI::base();

JURI::root(); 
```

`JURI::base()`结果因前端和后端而异

您可以在此处检查不同的 joomla 常量-

[http://docs.joomla.org/Constants](http://docs.joomla.org/Constants)

这个答案也可能有帮助-

[更改 Joomla 登录页面的重定向 URL](https://stackoverflow.com/questions/12820854/change-redirect-url-of-joomla-login-page/12820972#12820972)

# c# - 世界空间而不是局部空间中的相机间距

> ID：12833530
> 
> 赞同：0
> 
> 时间：2012-10-11T06:32:26.860
> 
> 标签：c#, xna, camera, pitch

如何在本地空间中投放相机？

我有一个模型，无论它在世界空间中的哪个位置，它都会在其轴上旋转。我遇到的问题是让相机俯仰相同，而不管模型的其他旋转（偏航）。目前，如果模型在世界空间中面向北方或南方，则相机会相应地倾斜。但是当模型面对任何其他基本方向时，在尝试俯仰相机后，相机在模型后面以圆周运动上下移动（因为它只识别世界空间而不是模型面对的方向）。

如何让俯仰与模型一起旋转，以便无论模型面向哪个方向？当我尝试俯仰时，相机会在模型上方移动吗？

```
// Rotates model and pitches camera on its own axis
    public void modelRotMovement(GamePadState pController)
    {
        /* For rotating the model left or right.
         * Camera maintains distance from model
         * throughout rotation and if model moves 
         * to a new position.
         */

        Yaw = pController.ThumbSticks.Right.X * MathHelper.ToRadians(speedAngleMAX);

        AddRotation = Quaternion.CreateFromYawPitchRoll(Yaw, 0, 0);
        ModelLoad.MRotation *= AddRotation;
        MOrientation = Matrix.CreateFromQuaternion(ModelLoad.MRotation);

        /* Camera pitches vertically around the
         * model. Problem is that the pitch is
         * in worldspace and doesn't take into
         * account if the model is rotated.
         */
        Pitch = pController.ThumbSticks.Right.Y * MathHelper.ToRadians(speedAngleMAX);
    }

    // Orbit (yaw) Camera around model
    public void cameraYaw(Vector3 axisYaw, float yaw)
    {
        ModelLoad.CameraPos = Vector3.Transform(ModelLoad.CameraPos - ModelLoad.camTarget,
            Matrix.CreateFromAxisAngle(axisYaw, yaw)) + ModelLoad.camTarget;
    }

    // Pitch Camera around model
    public void cameraPitch(Vector3 axisPitch, float pitch)
    {
        ModelLoad.CameraPos = Vector3.Transform(ModelLoad.CameraPos - ModelLoad.camTarget,
            Matrix.CreateFromAxisAngle(axisPitch, pitch)) + ModelLoad.camTarget; 
    }

    public void updateCamera()
    {
        cameraPitch(Vector3.Right, Pitch);
        cameraYaw(Vector3.Up, Yaw);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T14:13:04.870

```
>    public void cameraPitch(Vector3 axisPitch, float pitch)
>     {
>         ModelLoad.CameraPos = Vector3.Transform(ModelLoad.CameraPos - ModelLoad.camTarget,
>             Matrix.CreateFromAxisAngle(axisPitch, pitch)) + ModelLoad.camTarget; 
>     } 
```

我应该在你的最后一个问题中看到这一点。对不起。

axisPitch 确实是一个全局空间向量，它需要在局部空间中。这应该有效。

```
 public void cameraPitch(float pitch)
    {
        Vector3 f = ModelLoad.camTarget - ModelLoad.CameraPos;
        Vector3 axisPitch = Vector3.Cross(Vector3.Up, f);
        axisPitch.Normalize();
        ModelLoad.CameraPos = Vector3.Transform(ModelLoad.CameraPos - ModelLoad.camTarget,
            Matrix.CreateFromAxisAngle(axisPitch, pitch)) + ModelLoad.camTarget; 
    } 
```

# c# - 在实体框架中添加存储过程复杂类型

> ID：12833531
> 
> 赞同：43
> 
> 时间：2012-10-11T06:32:38.387
> 
> 标签：c#, stored-procedures, entity-framework-4, silverlight-4.0

我正在尝试在实体框架中使用不返回任何内容的存储过程。

我做了以下事情：

1.  添加了一个函数（右键存储过程->添加->函数导入->复杂类型->获取列信息->创建新的复杂类型）

2.  我的函数名称：`summarySP_Result`. 构建项目后，实体类未在`Generated_code`( `BusinessAccount.web.g.cs`)中生成

但是表和视图的实体类都是创建的，但存储过程也不是。

任何人都可以给出为什么它没有生成实体类的想法`BusinessAccount.web.g.cs`吗？

更新 ：

让我确认`ReturnDataFromTemTable_result`在您的课程中创建的实体`XXXXXX.web.g.cs`类。

喜欢 ：

```
[DataContract(Namespace="http://schemas.datacontract.org/2004/07/BizFramework.Web.Model")]
public sealed partial class ReturnDataFromTemTable_Result : Entity
{
   -------------------
 } 
```

* * *

## 回答 #1

> 赞同：74
> 
> 时间：2012-10-11T07:21:51.947

好的 - 这是执行此操作的分步方法：

(1) 将您的存储过程添加到 EDMX 文件中（当您第一次创建它时，或者稍后通过使用`Update model from database`和选择该存储过程）

(2) 一旦你的模型中有存储过程 - 使用`Model Browser`添加一个`Function Import`：

![在此处输入图像描述](../Images/41270fb380930ec9835a86d5b3e04e27.png)

(3) 弹出的下一个对话框非常重要 - 您需要 (1) 定义存储过程返回复杂类型的集合，然后您需要 (2) 从该存储过程中获取列信息以了解哪些列它会返回，然后 (3) 你告诉 Visual Studio 根据该列信息生成一个新的复杂类型：

![在此处输入图像描述](../Images/a2f4931012769982b65a2dbcf1dba357.png)

(4) 一旦你这样做了——你现在应该在模型浏览器的概念模型部分看到存储过程，并且新生成的复杂类型也应该出现在那里：

![在此处输入图像描述](../Images/3d2efbafc0b1c397c9c72c31235c4b85.png)

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2014-07-21T16:57:00.183

这是给罗斯布里戈里的

尝试将此行添加到存储过程的开头：

SET FMTONLY OFF 您可以在完成导入后删除它。

来源：- [为什么实体框架看不到我的存储过程的列信息？](https://stackoverflow.com/questions/5996887/why-cant-entity-framework-see-my-stored-procedures-column-information)

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2012-11-28T18:19:30.450

如果这仍未解决，在添加函数导入后，转到解决方案资源管理器，右键单击您的 {name}.Context.tt 文件并执行“运行自定义工具”。该方法现在将显示在派生的 Context 类中。

![在此处输入图像描述](../Images/d8cac7698efce0f175c8211b0f3740ce.png)

这似乎是我正在使用的 Visual Studio 2012 中的一个错误，我还没有应用更新 1，我会尝试看看是否可以修复它。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2017-08-02T15:06:50.137

正如 Sandeep 所说，EF 不支持导入从动态查询或临时表构建结果集的存储过程。

但是您不必重写整个 SP。

只需编写另一个名称相同的代码，它会返回正确的行格式，而无需使用动态 SQL 或临时表。然后使用 EF SP 添加功能，现在将自动生成复杂类型。

编辑：实际上更容易在 SP 的顶部进行评论，立即选择所需的行，其中包含使用 CASTS 指定的所有数据类型。当您需要将 SP 导入 EF 时，只需取消注释代码即可。

例如

CREATE PROCEDURE myProc ()
AS
BEGIN
-- 取消注释要导入的以下行：
-- SELECT CAST( 0 AS int) AS column1Name, CAST( 'a' AS varchar(50)) AS clumn2name

-- 需要导入时将 SP 内容注释掉。
<正确的SP内容>
END

然后删除存储的过程并创建原始过程。
不过，请保存您制作的临时导入 SP，以备不时之需。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2015-07-30T21:14:47.653

EF 不支持导入从以下位置构建结果集的存储过程：

*   动态查询
*   临时表

重写您的存储过程以改用表变量。请记住在更新之前从模型中删除存储过程和函数导入，因为它不会生成复杂类型，除非它还添加了存储过程。或在更新存储过程后转到函数导入属性并使用获取列信息功能。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2017-04-27T11:06:55.013

```
create procedure [dbo].[usp_InsertOrUpdate]
/*if your table(tbl_InsertOrUpdate) as 3 columns like uniqueid,col1,col2*/
@uniqueId bigint NULL,/*if insert send value as null or 0*/
@col1 bigint null,
@col2 [varchar](500) NULL
as
begin
set nocount ON
SET FMTONLY OFF
/* for giving result which column updated(uniqueId) and is it insert or update(IsInsert)*/
declare @varResult table (uniqueId bigint ,IsInsert bit )
/*create a var table before inserting original table*/

declare @varInsertOrUpdate table (
uniqueId bigint ,
col1 [bigint] ,
col2 [varchar]
)
/*default we are feel as update only*/
insert into @varResult (uniqueId,IsInsert) values (@uniqueId,0)
/*insert into var table*/
INSERT INTO @varInsertOrUpdate (uniqueId,col1,col2)
VALUES
(@uniqueId,@col1,@col2)
/*Insert into original table with where condition without if else*/
 INSERT INTO tbl_InsertOrUpdate (col1,col2)
 select col1,col2 from @varInsertOrUpdate
 where uniqueId!=0;
/*if its insert updating result returning table*/
 update @varResult set 
 uniqueId=IDENT_CURRENT('tbl_InsertOrUpdate'),
IsInsert=1 where @uniqueId=0;
/*updating table where @uniqueid is  null or empty*/
UPDATE tbl_InsertOrUpdate
SET col1=@col1, 
col2=@col2,
WHERE uniqueId=@uniqueId and @uniqueId!=0

select *  from @varResult

end 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2017-11-14T09:18:38.963

要正确添加复杂类型，请转到模型浏览器，右键单击功能，然后显示编辑，单击编辑并填充对话框。函数的名称应与存储过程的名称相同。单击确定按钮。现在函数已创建。然后右键单击创建的函数并再次进行编辑。复杂类型按钮旁边有一个更新按钮。使用该更新按钮对其进行更新。现在完全创建了复杂类型。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2014-12-12T22:20:01.647

对我来说，我在将存储过程导入 EF 时遇到问题，不会（自动）生成复杂实体返回对象。然而，我发现，在注释掉我的存储过程（又名存储过程）的部分之后，当我重新导入存储过程（即使用函数导入编辑屏幕中的获取列信息按钮刷新）时，复杂类型然后可以生成！

简而言之，可能有一个 where 子句（或者可能是其他东西）导致 EF 不生成复杂类型。尝试注释掉存储过程的部分并将存储过程重新导入到

更新：

在我上面的调查之后，我发现没有生成复杂实体的原因是因为我的 sproc 使用的是视图（而不是典型的表）。出于好奇，我将视图更改为另一个表，只是为了看看会发生什么，以及生成的复杂实体。

因此，简而言之，如果您有视图，复杂实体可能不会自动生成。为了尝试，我暂时删除了视图，重新导入存储过程，生成复杂实体，然后将视图放回原处。但现在我的代码给出了异常。

稍后我会在了解更多信息时对此进行更新=）

更新：

修复了问题。真是愚蠢的错误！我使用的视图名称拼写不正确 =D。我有点生气，当我创建存储过程时 Sql Server 没有抛出错误.....我想这就是生活 :) 唉，问题现在解决了！

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2014-07-24T21:39:58.630

这是我实现多重搜索的 SP

```
***************************************************

    CREATE PROCEDURE [dbo].[uspSEARCH_POSITIONS]
        @OBJ_TYPE_REQUEST varchar(2000),--'FIRST_NAME;SEARCHVALUE|LAST_NAME;SEARCHVALUE|JOB_DESCRIPTION;SEARCHVALUE'
        @DELIMITER varchar(10) --'| Which seperates the col;searchvalue|col;searchvalue
    AS
    BEGIN
    SET FMTONLY OFF
        DECLARE
            @lLastName varchar(100),
            @lFirstName varchar(100),
            @lPositionNumber varchar(20),
            @lJobDescription varchar(50),
            @lJobCode varchar(20),
            @lOccupancyIndicator varchar(50),
            @ldeleimitercolsearchval varchar(10)

    SET @ldeleimitercolsearchval =';'

    CREATE TABLE #TempTable (ColSearchValues VARCHAR(2000))

    INSERT INTO #TempTable 
    SELECT * FROM [dbo].[fnSplit](@OBJ_TYPE_REQUEST,@DELIMITER)--'fname;searchvalfname|lname;searchvallname|jobcode;searchvaljobcode','|')

    SELECT @lLastName=SUBSTRING(ColSearchValues,CHARINDEX(@ldeleimitercolsearchval ,ColSearchValues)+1,LEN(ColSearchValues)) from #TempTable where lower(ColSearchValues) like '%last%'
    SELECT @lFirstName =SUBSTRING(ColSearchValues,CHARINDEX(@ldeleimitercolsearchval ,ColSearchValues)+1,LEN(ColSearchValues)) from #TempTable where lower(ColSearchValues) like '%first%'
    SELECT @lPositionNumber =SUBSTRING(ColSearchValues,CHARINDEX(@ldeleimitercolsearchval ,ColSearchValues)+1,LEN(ColSearchValues)) from #TempTable where lower(ColSearchValues) like '%position%'
    SELECT @lJobDescription=SUBSTRING(ColSearchValues,CHARINDEX(@ldeleimitercolsearchval ,ColSearchValues)+1,LEN(ColSearchValues)) from #TempTable where lower(ColSearchValues) like '%jobd%'
    SELECT @lJobCode=SUBSTRING(ColSearchValues,CHARINDEX(@ldeleimitercolsearchval ,ColSearchValues)+1,LEN(ColSearchValues)) from #TempTable where lower(ColSearchValues) like '%jobc%'
    SELECT @lOccupancyIndicator=SUBSTRING(ColSearchValues,CHARINDEX(@ldeleimitercolsearchval ,ColSearchValues)+1,LEN(ColSearchValues)) from #TempTable where lower(ColSearchValues) like '%ccupancy%'

           SELECT  [PS].[POSITION_NUMBER]
          ,[PS].[COST_CENTER]
          ,[PS].[JOB_CODE]
          ,[PS].[JOB_CODE_DESCRIPTION]
          ,[PS].[SITE_CODE]
          ,[EMP].[EMPLOYEE_ID]
          ,[EMP].[EIN]
          ,[EMP].[GRADE]
          ,[EMP].[LOGIN_ID]
          ,[EMP].[FIRST_NAME]
          ,[EMP].[LAST_NAME]
          ,LTRIM(RTRIM(ISNULL([EMP].[LAST_NAME],''))) + ',' +LTRIM(RTRIM(ISNULL([EMP].[FIRST_NAME],''))) AS [FULL_NAME]      
          ,[EMP].[DISTRICT]
          ,[EMP].[SUPERVISOR_EIN]
          ,COUNT(*) OVER() AS TOTAL_RECORD_COUNT
      FROM [DBSERVER].[dbo].[uvwPOSITION_SEARCH] PS
      LEFT JOIN [DBSERVER].[dbo].[uvwEMPLOYEES] EMP
      ON PS.POSITION_NUMBER=EMP.POSITION_NUMBER
      WHERE
            (@lLastName  IS NULL OR [LAST_NAME] LIKE '%' + @lLastName + '%')
        AND (@lFirstName IS NULL OR [FIRST_NAME] LIKE '%' + @lFirstName + '%')
        AND (@lPositionNumber IS NULL OR [PS].[POSITION_NUMBER] LIKE '%' + @lPositionNumber + '%')
        AND (@lJobDescription IS NULL OR [PS].[JOB_CODE_DESCRIPTION] LIKE '%' + @lJobDescription + '%')
        AND (@lJobCode IS NULL OR [PS].[JOB_CODE] LIKE '%' + @lJobCode + '%')
        AND (@lOccupancyIndicator IS NULL OR [EMP].[FILLED_VACANT] LIKE '%' + @lOccupancyIndicator + '%')

    END 
```

* * *

现在您可以使用下面的方法在 edmx 中使用上述 SP

[在实体框架中添加存储过程复杂类型](https://stackoverflow.com/questions/12833531/adding-stored-procedures-complex-types-in-entity-framework)

[为什么 Entity Framework 看不到我的存储过程的列信息？](https://stackoverflow.com/questions/5996887/why-cant-entity-framework-see-my-stored-procedures-column-information)

如果您必须更新下面的 SP 对我有用。如果存储过程更新，则更新复杂类型 [如何让实体框架更新复杂类型？](https://stackoverflow.com/questions/5982398/how-do-i-get-entity-framework-to-update-complex-types)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2019-07-15T19:49:39.313

转到模型浏览器

如果需要修改现有功能

在 Function Imports 下 >> 选择要修改的函数 >> 点击 Edit

您将需要更新功能以刷新，您可以看到需要添加的列

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-10-04T08:12:28.253

复杂类型未出现的问题也可能由于不同的原因而发生，这也是我在我们的案例中面临的问题。问题是由于 SPROC 中的语法错误，其中临时表定义如下 - create table #temp( col1 int, col2 nvarchar(100), col3 nvarchar(100), -- 注意最后的逗号）；令人惊讶的是，当您编译存储过程时，SQL Server 不会抛出任何错误。删除逗号为我们解决了问题。

简而言之，虽然上述一些解决方案可能会根据具体问题起作用，但我的建议是检查您的存储过程中是否存在 SQL 可能会忽略但可能是此问题的根本原因的语法错误。谢谢。

# c# - WP7 上的谷歌访问

> ID：12833539
> 
> 赞同：0
> 
> 时间：2012-10-11T06:33:03.020
> 
> 标签：c#, windows-phone-7, oauth-2.0

我在构建可以访问谷歌帐户的应用程序时遇到问题。我有以下代码可以获取![登录页面](../Images/71eabd3f8e222801024b29aa76e44b07.png)google 帐户的登录页面，然后还会显示访问权限页面！![在此处输入图像描述](../Images/e0c474ca2914bae08d745592798f72d7.png). 一旦我点击“允许访问”，应用程序就会被重定向到错误页面![错误](../Images/db48602f30ce09fc40e2b0e07b04399c.png)。这里有一些截图，以便任何试图帮助的人都能更好地理解.. 下面是正在使用的代码

```
 private void browseGoogle_Loaded(object sender, RoutedEventArgs e)
    {
        string address = "https://accounts.google.com/o/oauth2/auth" +
        "?client_id=" + "*******.apps.googleusercontent.com" +
        "&scope=" + "https://www.googleapis.com/auth/plus.me" +
        "&response_type=code" +
         "&redirect_uri=" + "https://www.****.com/oauth2callback";

        browseGoogle.Navigate(new Uri(address, UriKind.Absolute));

    } 
```

[https://accounts.google.com/o/oauth2/approval?as=634f855389bf10ff&hl=en_GB&xsrfsign=APsBz4gAAAAAUHZvwB3xTqisyv8hEcWem5X3eKvwAHN9](https://accounts.google.com/o/oauth2/approval?as=634f855389bf10ff&hl=en_GB&xsrfsign=APsBz4gAAAAAUHZvwB3xTqisyv8hEcWem5X3eKvwAHN9) 这是选择/单击允许访问后导航到的 URI。这是什么意思？

这都是我在做的。到目前为止，我的 BrowserNavigated 方法不包含任何代码。我不知道该怎么做。因此寻求帮助。请帮我解决这个问题。所有答案和建议表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:14:35.380

[只需在此处](https://github.com/PedroLamas/GDrive)查看 GDrive 开源应用程序代码。

Authorization [View](https://github.com/PedroLamas/GDrive/blob/master/PedroLamas.WP7.GDrive/View/AuthorizationPage.xaml)和[ViewModel](https://github.com/PedroLamas/GDrive/blob/master/PedroLamas.WP7.GDrive/ViewModel/AuthorizationViewModel.cs)向您展示了如何使用 Google 凭据进行 OAuth 登录。

下载代码，阅读网站上的预构建说明，然后进行测试！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T10:45:26.213

```
 private void browseGoogle_Loaded(object sender, RoutedEventArgs e)
    { 
        try
        {
            StringBuilder autheticateURL = new StringBuilder();
            autheticateURL.Append(GmailSettings.AuthorizeUri).Append("?client_id=").Append(GmailSettings.clientID).Append("&scope=").
                Append(GmailSettings.ScopeValue).Append("&response_type=code").Append("&redirect_uri=").Append(GmailSettings.CallbackUri);
            browseGoogle.Navigate(new Uri(autheticateURL.ToString(), UriKind.Absolute));
        }
        catch (Exception ex)
        {

            Logger.log(TAG, "browseGoogle_Loaded()", ex.Message);

        }
    }

    /// <summary>
    /// Called when the web browser initiates Navigation to various pages 
    /// </summary>
    /// <param name="sender">Browser</param>
    /// <param name="e">Navigating event arguments</param>
    private void browseGoogle_Navigating(object sender, NavigatingEventArgs e)
    {
        try
        {
            string hostName = e.Uri.Host;
            string URL = e.Uri.ToString();

            if (hostName.StartsWith("localhost"))
            {
                NavigationService.Navigate(new Uri("/HomePage.xaml", UriKind.Relative));
            }
        }
        catch (Exception ex)
        {

            Logger.log(TAG, "browseGoogle_Navigating()", ex.Message);

        }
    } 
```

XAML 是这样的

```
 <phone:WebBrowser x:Name="browseGoogle" Loaded="browseGoogle_Loaded" IsScriptEnabled="true" Navigating="browseGoogle_Navigating" /> 
```

我的错误有两个：- 1) 正如 vignesh 在他的评论中提到的那样，我使用了错误的重定向 URI。2)IsScriptEnabled 根本没有在我的 Web 浏览器控件中设置。一旦我设置它为真，一切都很好。

# jquery - jQuery UI 对话框中的多个选择器

> ID：12833540
> 
> 赞同：0
> 
> 时间：2012-10-11T06:33:05.733
> 
> 标签：jquery, jquery-ui

```
$("#dialog-cust-grp,#dialog-cust-nm").dialog({
         open: function(event, ui) {
                 $("a.ui-dialog-titlebar-close").remove();
               },
         bgiframe: true,autoOpen: false,closeOnEscape: false,
         resizable: false,modal: true,show: "drop",hide: "drop",                
         draggable: false,zIndex: 10000,
         buttons: {'Ok': function() {$(this).dialog("close");
                    if (selector is #dialog-cust-nm){
                      alert(“hello....”);
                    }
         }
   }); 
```

基于上面的代码，它有两个不同的选择器，即`$("#dialog-cust-grp,#dialog-cust-nm")`有没有一种方法可以检查调用中实际使用了哪个选择器，`.dialog()`因为我需要一种方法来做上面这样的事情，即

```
If (selector is #dialog-cust-nm){
  alert(“hello....”);
} 
```

这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:36:48.263

您可以通过[.attr()调用属性值](http://api.jquery.com/attr/)

```
if ($(this).attr("id") == "dialog-cust-nm") {
   alert(“hello....”);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:48:19.787

您可以使用 。[is()](http://docs.jquery.com/Is)检查元素是否与选择器匹配。

```
if ($(this).is("#dialog-cust-nm")){
    alert(“hello....”);
} 
```

# php - ZF2 - 控制器中多个操作的相同视图文件

> ID：12833547
> 
> 赞同：2
> 
> 时间：2012-10-11T06:33:56.513
> 
> 标签：php, zend-framework2

我使用 ZF2，我需要在添加和编辑操作中呈现相同的视图（html 页面）。有没有办法在 ZF2 中做到这一点？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-11T06:45:15.347

在您的控制器中，您可以设置将要呈现的视图脚本：

```
function someAction()
{
    $result = new ViewModel();
    $result->setTemplate('somemodule/somecontroller/arbitraryscript');

    return $result;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-01-13T21:37:31.797

如果您想为所有操作设置一个模板，只需重写您的构造方法：

```
<?php
namespace MyModel\Controller;

use Zend\Mvc\Controller\AbstractActionController;
use Zend\View\Model\ViewModel;

class IndexController extends AbstractActionController
{
    /**
     * @var ViewModel
     * @access protected
     */
    protected $viewModel;

    public function __construct()
    {
        $this->viewModel = new ViewModel();
        $this->viewModel->setTemplate('MyModel/index/default.phtml');
    }

    public function indexAction()
    {
        $this->viewModel->setVariables(array(
            'message' => 'Hello indexAction()'
        ));
        return $this->viewModel;
    }

    public function otherAction()
    {
        return $this->viewModel->setVariables(array(
            'message' => 'Hello otherAction()'
        ));
    }
} 
```

# php - 如何将上传到我的文件系统的 word/pages 文档显示为 png？

> ID：12833548
> 
> 赞同：0
> 
> 时间：2012-10-11T06:33:57.693
> 
> 标签：php, file-upload, image

我正在设计一个网站，我想要的功能之一是某些用户可以将文档上传到他们的帐户（我的文件系统）。“.doc”文件、“.pages”文件等现在可以上传（尽管没有什么是一成不变的）。用户应该能够在网站上预览这些内容，并且澄清一下，我不想编辑，只想预览。考虑到无法在浏览器中显示原始“.doc”文件，我怎样才能获得文档的图像（最好是 png）以显示为预览？有什么方法可以使用上传的文档`<img src="ambiguous_src"></img>`在哪里？`ambiguous_src`

我觉得没有任何简单的方法可以做到这一点。也许将文档转换为pdf然后......我真的不确定......

感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:36:49.623

没有复杂的解决方案，因此您需要为将生成预览的每种文件类型编写一个单独的“处理程序”。

因为`.doc`你可以在[这里](https://stackoverflow.com/questions/253834/convert-doc-to-html-in-php)找到解决方案。

# php - 如何在 Zend Framework 2 中允许数据库中的重复条目？

> ID：12833552
> 
> 赞同：0
> 
> 时间：2012-10-11T06:34:17.247
> 
> 标签：php, forms, validation, duplicates, zend-framework2

最近我创建了一个简单的注册表单，当我尝试保存数据时，如果我输入现有的用户名或电子邮件，我会收到一条错误消息，指出查询已停止，因为该字段已存在

在某些情况下，这是一个很棒的功能，我可以在电子邮件案例中使用它。

我不确定我是否必须在表单验证器或 config.php 或我的模块中设置它。

这是我的保存方法：

```
public function saveUser(User $user)
{

    $data = array(
        'username'  => $user->username,
        'email'     => $user->email,
        'password'  => $user->password,
    );

    $id = (int) $user->user_id;

    if ($id == 0) {
        $this->insert($data);
    } elseif ($this->getUser($id)) {
        $this->update(
            $data,
            array(
                'user_id' => $user_id,
            )
        );
    } else {
        throw new \Exception('Form id does not exist');
    }
} 
```

这是一个简短的错误：

```
Statement could not be executed
...
QLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'admin' for key 'username'
.... 
```

就像我说的那样，我可以将此错误用于电子邮件，因为我想要唯一的电子邮件，但我不确定如何捕获此错误并以更好的格式显示它，可能就像一个验证错误。

关于这个问题的任何想法？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:05:32.367

如果您使用 Zend_Form 创建表单，您可以使用[Zend_Validate_Db_NoRecordExists](http://www.zendframework.com/manual/1.8/en/zend.validate.set.html)检查电子邮件是否已经存在。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T06:38:46.270

这是您的[SQL 服务器](http://forums.mysql.com/read.php?136,168833,168833)返回的错误。要摆脱这种情况，您需要`UNIQUE KEY`从您的领域中删除`username`。

至于如果用户电子邮件重复显示“不错的错误消息”，恐怕您唯一的选择就是在执行之前检查它的存在`INSERT`。

我曾经有一个正在抛出的数据库模型，`Database_UniqueKey_Exception( $field)`它允许您以非常时尚的方式执行此操作，但是 AFAIK Zend 不支持对唯一关键问题的特殊处理，您必须解析错误消息（我不会去那里）或检查提前。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-02T13:19:00.390

这是一个关于如何实现您想要的示例的示例。[Zend Framework：验证重复的数据库条目](http://www.w3boulevard.com/zend-framework-validate-duplicate-database-entry/)

它使用`MySQL` `PDOException` `code: 23000`来检查是否发生重复条目异常并将错误消息附加到表单。这样您就不需要进行额外的数据库查询来检查重复`username`条目。

希望这可以帮助。

# iphone - 复制情节提要后出错

> ID：12833555
> 
> 赞同：0
> 
> 时间：2012-10-11T06:34:46.407
> 
> 标签：iphone, ios, ipad, storyboard

以前我有一个现有的 iphone 项目。

之后我想创建它的 iPad 版本，所以我复制了现有的 iPhone MainStoryboard 以节省我的时间，所以我改变了这一行：

`targetRuntime="iOS.CocoaTouch"`

从新的故事板（名为 MainStoryboard_iPad）到：

`targetRuntime="iOS.CocoaTouch.iPad"`.

最后，我将 iPad Development info 中的 Main Storyboard 设置为“MainStoryboard_iPad。但我不知道为什么会出现这个错误：

> 2012-10-11 13:28:07.852 CollViewSmpl[3170:c07] *** 断言失败 -[PSUICollectionView _dequeueReusableViewOfKind:withIdentifier:forIndexPath:], /SourceCache/UIKit_Sim/UIKit-2372/UICollectionView.m:2249 2012-10-11 13：28：07.878 CollViewSmpl [3170：c07] ***由于未捕获的异常'NSInternalInconsistencyException'而终止应用程序，原因：'无法使类型视图出列：具有标识符cellID的UICollectionElementKindCell - 必须为标识符注册一个nib或一个类或连接故事板中的原型单元格

任何人都知道什么可能导致此错误并给我一些解决方法？仅供参考，我在项目中使用开源 PSUICollectionView 库代替 UICollectionView

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T09:10:51.017

该不一致错误是因为情节提要源代码未正确保存。最后，我创建了一个针对 iPad 的新故事板文档。我复制了现有 iPhone 故事板的所有源代码并将它们粘贴到新的故事板中。我没有忘记保存文档（这很重要）并且得到了，所有的东西现在都工作得很好。

# django - 如何将数组发布到views.py

> ID：12833567
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:35:21.930
> 
> 标签：django, arrays, django-templates, django-views

我在我的模板中使用 for 循环，并且我使用数组的每条记录的不同 id

```
{% for item in product %}

<div class="register_div">

    <p><label for="id[{{ item.id }}]">{{ item.Name }} </label> <input type="text" name="custom[{{item.id}}]"/></p>

</div>

{% endfor %} 
```

现在，当在我看来，我想将这些数据保存到我的数据库中。但首先我检查了我的数组是否返回了某些东西。所以我只是尝试将其打印为。

```
q = upload_form.data['custom[]'] 
```

**或者**

```
 q = upload_form.data['custom'] 
```

但它给了我这个错误

```
"Key 'custom[]' **OR** key custom not found in <QueryDict: {u'custom[2]': [u's'], u'custom[1]': [u'a'], u'price': [u''], u'title': [u''], u'customatt': [u'', u''], u'csrfmiddlewaretoken': [u'up4Ipd5L13Efk14MI3ia2FRYScMwMJLz']}>" 
```

但如果我打印这个

```
q = upload_form.data['custom[1]'] 
```

然后它显示数组 1 的值。

所以请建议我一个更好的方法来做到这一点如何在views.py中显示我的数组中的所有值

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:03:53.107

就像`upload_form.data`字典一样，键 'custom[]' 根本不存在。尝试类似：

```
custom_values = {}    
for key, value in in upload_form.data.items():
    if key.startswith('custom'):
        custom_values[key]=value 
```

字典`custom_values`现在包含您所有的“自定义”表单值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:49:50.033

这不是问题的答案，而是：

您发布的不是数组，而是名称*看起来像*访问数组的不同输入。例如，您发布了名为 等的不同输入变量`custom[1]`。`custom[2]`但`custom`不是数组，您将必须访问输入`custom[1]`等。

我不确定你是否想要这个！

# ios - 在相机 UIImagePickerController 中收到内存警告

> ID：12833573
> 
> 赞同：4
> 
> 时间：2012-10-11T06:35:55.790
> 
> 标签：ios, memory, camera, uiimagepickercontroller

当我进入相机 UIImagePickerController 时，有时会收到一条内存警告消息，但我不知道如何解决这个问题。

这是我的代码：

```
 -(IBAction)addImageCamera:(id)sender
    {
        if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])
        {
            pickerImgCamera.sourceType = UIImagePickerControllerSourceTypeCamera;
            cameraView.image=[img imageFromMainBundleFile:@"frameCam.png"];
            pickerImgCamera.cameraOverlayView=cameraView;

            [self.navigationController presentModalViewController:pickerImgCamera animated:NO];

        }
        else
        {
            UIAlertView*alert=[[UIAlertView alloc] initWithTitle:@"Oops" message:@"Camera not found" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles: nil];
            [alert show];
            alert=nil;
        }
    }

 - (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
    {
        UIImage *image = [info objectForKey:UIImagePickerControllerOriginalImage];

        if (picker.sourceType == UIImagePickerControllerSourceTypeCamera)
        {
            [self dismissModalViewControllerAnimated:YES];

            dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
                UIImageWriteToSavedPhotosAlbum(image, self, @selector(image:didFinishSavingWithError:contextInfo:), nil);

            });
        }

        [photoImage setImage:image];
    } 
```

注意：内存警告出现在 iphone 和 ipad 中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-28T15:05:34.997

根据我的经验，iPhone 摄像头经常触发内存警告，尤其是在旧设备上。调试时更有可能发生这种情况 - 诀窍是处理警告并摆脱不必要的东西。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-11-02T12:45:26.937

如果图像质量在您的应用中不是那么重要，则将 uiimagepickercontroller 的 videoQuality 设置为 UIImagePickerControllerQualityTypeLow。这将减少应用程序中的内存警告。

# java - java去除特殊字符

> ID：12833576
> 
> 赞同：2
> 
> 时间：2012-10-11T06:36:09.340
> 
> 标签：java, android, api

您好我正在尝试找出一种从 Google Feed API 返回的结果中删除标签的方法。他们的结果是

```
 Breaking \u003cb\u003eNews\u003c/b\u003e Updates 
```

我们怎样才能删除这些字符？我不确定 RegEx 是否会更好（或更糟）。有谁知道如何删除这些？Google 不提供从 Java 的结果中删除标签的选项。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:51:00.657

我经常用

```
String.replaceAll("\\p{Cntrl}","") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:45:26.510

最好的解决方案是使用 JSON 来转换数据。

```
JSON.parse(JSON.stringify({a : '<put your string here>'})); 
```

这将是正确的，因为您将从 Google API 获得的数据将采用 JSON 的形式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:53:21.170

**您可以使用以下正则表达式..**

```
String str = "Breaking \u003cb\u003eNews\u003c/b\u003e Updates";
str = str.replaceAll("\\<(.*)?\\>(.*)\\</\\1\\>", "$2");
System.out.println(str); 
```

**输出**： -

```
Breaking News Updates 
```

*   `\\<(.*)?\\>`匹配第一个开始标签 -`<b>`
*   `\\</\\1\\>`匹配相应的结束标签 -`</b>`
*   `\\1`用于反向引用标签的内容，以便匹配正确的标签对。

所以，`<b>news <update></b>`-> 在这种情况下`<update>`不会被删除..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T07:37:13.533

这是 HTML。`\u003cb\u003e`转换为`<b>`。

您需要使用 HTML 解析器，因为 HTML 不能完全被正则表达式解析。

使用像 Jsoup 这样的库，您可以这样做。

```
String data = Jsoup.parse(html).body().text(); 
```

这会让你`"Breaking News Updates"`。

# php - TZ Portfolio Joomla 画廊问题

> ID：12833579
> 
> 赞同：0
> 
> 时间：2012-10-11T06:36:19.553
> 
> 标签：php, joomla2.5, portfolio

我正在使用 Joomla 2.5 的 TZ Portfolio 扩展。

在此扩展程序中，图像库选项将打开一个包含更多图像部分的弹出窗口。它在弹出窗口中打开，但整个页面（就像整个网站打开）都在弹出窗口中，并且打印功能开始执行（当我单击弹出窗口时，打印机也显示）。

此问题的任何帮助或文档 URL？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-23T04:11:12.010

您可以查看 TZ Portfolio wiki [http://wiki.templaza.com/Main_Page](http://wiki.templaza.com/Main_Page) 视频教程：[http ://www.youtube.com/channel/UCykS6SX6L2GOI-n3IOPfTVQ/videos](http://www.youtube.com/channel/UCykS6SX6L2GOI-n3IOPfTVQ/videos)

# android - Qt Necessitas windows IDE-启动问题

> ID：12833584
> 
> 赞同：0
> 
> 时间：2012-10-11T06:36:54.107
> 
> 标签：android, qt, qt-necessitas

我已经在 Windows 7 上安装了 Qt Necessitas SDK，
我一直在尝试编译并将程序加载到 android 设备/模拟器
我无法让这个东西工作，

程序编译成功，在启动时部署后我收到以下错误消息

> “正在启动远程进程...找不到 org.kde.necessitas.example.untitled 进程”

我在设备和模拟器上都遇到了同样的错误

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-31T15:57:03.793

哎呀！如果我没看错，这是 2012 年的一篇文章。新的 QtCreator (5.1) 可以在 Windows 的 Android 上开箱即用——我假设是 Linux（我没有在 Ubuntu 上测试过）。

[http://qt-project.org/wiki/Category:Developing_Qt::Ports::Android](http://qt-project.org/wiki/Category%3aDeveloping_Qt%3a%3aPorts%3a%3aAndroid)

现在这基本上是 IDE 的一部分。

为什么您会收到该消息有很多可能性。您是否为 ARM5/6/7 编译过？你在模仿什么？它是否设置了正确的 CPU？我会全新安装捆绑的 Creator，这样您就可以消除本地设置并运行示例 Android 应用程序的可能性。同样，这对我来说在 Windows 上效果很好，在这个最新版本中远远落后于曲线。

是的，目前在这方面确实缺乏文档。我花了 3 个小时的大部分时间让它与模拟器一起工作。其中一个步骤是从 SDK 启动模拟器，然后尝试从我的调试器连接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-03T01:51:48.177

对于 Android 开发，我建议使用 Qt 5.2。

Necessitas 是 Qt 4 的非官方 Android 端口[。Qt 5.1](http://blog.qt.digia.com/blog/2013/07/03/qt-5-1-released/)包含官方（但不完整）技术预览。将于 2013 年 12 月发布的 Qt 5.2 将提供完整的官方 Android 支持。

如果您想立即试用，可以从[http://download.qt-project.org/development_releases/qt/5.2/5.2.0-beta1/](http://download.qt-project.org/development_releases/qt/5.2/5.2.0-beta1/)下载 Qt 5.2 beta 。更新的文档位于[http://doc-snapshot.qt-project.org/qt5-stable/android-support.html](http://doc-snapshot.qt-project.org/qt5-stable/android-support.html) - 现在非常全面。

这是 Digia 的博客文章，详细介绍了简化的 Android 部署过程：[http ://blog.qt.digia.com/blog/2013/10/09/android-deployment-in-qt-5-2/](http://blog.qt.digia.com/blog/2013/10/09/android-deployment-in-qt-5-2/)

# ocr - 从 Tesseract 输出中查找行高和基线

> ID：12833586
> 
> 赞同：0
> 
> 时间：2012-10-11T06:37:05.127
> 
> 标签：ocr, tesseract

我想知道如何从 Tesseract 的输出中提取行高和基线信息。

将不胜感激任何指示这样做。

谢谢， 瓦桑特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T13:14:27.410

尝试这个：

```
Tesseract.getUtf8Text().getBoxRects() 
```

这将为每个识别的符号返回一个边界框（矩形）数组。它们的坐标相对于您提供的位图。您可以使用这些来平均线高和基线。

# javascript - Z-index 没有按预期工作？

> ID：12833587
> 
> 赞同：0
> 
> 时间：2012-10-11T06:37:14.637
> 
> 标签：javascript, css, z-index

我在这个网站上工作[http://www.group---me.my/national/](http://www.group---me.my/national/)

请删除 --- 在网址中。

对于某些交易，有选项，当您单击 BuyNow 按钮时，会出现一个弹出窗口。我想在显示弹出窗口时使背景变暗（变暗）。

为此，在我的本地测试站点上，我添加了以下 div 类：

```
 .overlay{
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 333%;
        background-color: black;
        z-index: 20;
        opacity: 0.8;
        filter: alpha(opacity=80);
    } 
```

然后在“立即购买”按钮上，我添加了

```
 onclick="javascript:document.getElementById('fade').style.display='block';" 
```

我在网站上也有这个

```
 <div id="fade" class="overlay"></div> 
```

但问题是，叠加层总是隐藏所有图层，包括弹出窗口，无论我将弹出窗口 div 的 z-index 设置多高。

任何帮助深表感谢。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:46:21.210

如果您没有指定某些父元素相对定位，则您的叠加 div 将相对于 body 定位，因此它可以位于所有其他内容之上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:41:53.807

哪个浏览器？哪个版本。我在这里得到它。应该隐藏吧？

![在此处输入图像描述](../Images/95eb286eabac9647c55d2b5a06143fbb.png)

而且很突出。你想在这里做什么？

# google-drive-api - 需要从 picasa_consumer_key、picasa_consumer_secret、authtoken、authsecret 创建 google DriveService 的对象

> ID：12833589
> 
> 赞同：2
> 
> 时间：2012-10-11T06:37:19.323
> 
> 标签：google-drive-api

我有一个用于将照片上传到 picasa 的 winform 应用程序。我使用了 oAuth 身份验证，并且用户授予以下权限

Picasa 网络相册
个人资料信息

我存储身份验证令牌以供以后使用。这完美地工作。

现在我想将其扩展为也包括 GOOGLE DRIVE，所以我所做的是我已经为身份验证添加了范围，如下所示

按文件 Drive API

因此，现在用户授予所有三个权限，即 Picasa、个人资料信息和 Google Drive。

但我无法将照片上传到 Google Drive，原因是我不知道如何创建 Google Drive Service 的对象。

对于 Picasa，我使用了如下代码

```
OAuthParameters parameters = new OAuthParameters()
     {
        ConsumerKey = CONSUMER_KEY,
        ConsumerSecret = CONSUMER_SECRET,
        Token = AuthToken,
        TokenSecret = AuthSecret
     };

requestFactory = new GOAuthRequestFactory("XXXX", "XXXX", parameters);
service = new PicasaService(requestFactory.ApplicationName); 
```

谷歌驱动器有类似的东西吗？我需要创建对象 DriveService(auth) ..

简而言之，我需要知道如何从我拥有的四个信息中创建 DRIVESERVICE 的 OBJECT，即 CONSUMER_KEY、CONSUMER_SECRET、AuthToken、AuthSecret。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T16:49:46.673

查看 Google Drive SDK 文档以获取有关如何检索和使用 OAuth 2.0 凭据来实例化服务对象的说明：

[https://developers.google.com/drive/credentials](https://developers.google.com/drive/credentials)

请注意，适用于 .NET 的 Google API 客户端库支持 Drive API：

[http://code.google.com/p/google-api-dotnet-client/](http://code.google.com/p/google-api-dotnet-client/)

# forms - extjs：如何减少多个复选框之间的空间

> ID：12833591
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:37:25.953
> 
> 标签：forms, extjs

我在我的 extjs 文件中使用了 checkboxgroup，但是 2 个复选框之间的间距太高了。我需要减少它。请![在此处输入图像描述](../Images/29dba392d99b6a38fca9b253ba0f5a8a.png)提出更改建议。

![复选框的图像](../Images/29dba392d99b6a38fca9b253ba0f5a8a.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:00:05.130

它解决了，

我刚刚添加`columns: [50, 100],`

# xml - Solr - 查询所有字段的最佳实践

> ID：12833592
> 
> 赞同：16
> 
> 时间：2012-10-11T06:37:32.753
> 
> 标签：xml, solr, handler

schema.xml 片段：

```
 <field name="id" type="string" indexed="true" stored="true" required="true" />
   <field name="notes" type="text_general" indexed="true" stored="true"/>
   <field name="missionFocus" type="text_general" indexed="true" stored="true"/>
   <field name="name" type="text_general" indexed="true" stored="true"/>
   <field name="first_name" type="text_general" indexed="true" stored="true"/>
   <field name="last_name" type="text_general" indexed="true" stored="true"/>
   <field name="about_me" type="text_general" indexed="true" stored="true"/>
   <field name="message" type="text_general" indexed="true" stored="true"/>
   <field name="title" type="text_general" indexed="true" stored="true"/>  
   <field name="table_type" type="string" indexed="true" stored="true"/>  

   <field name="text" type="text_general" indexed="true" stored="false" 
          multiValued="true"/> 
```

现在我想在所有字段（“id”和“table_type”除外）中搜索“hello”。我怎么能做到这一点？我真的必须写以下内容吗？

```
/solr/select/?q=notes:hello missionFocus:hello name:hello first_name:hello .. 
```

我听说过有关 DisMaxRequestHandler 的信息，但我必须如何使用此处理程序进行查询？我需要为此更改 solrconfig.xml 中的某些内容吗？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-11T07:01:46.447

最好的解决方案是建立一个字段，像这样收集所有字段的数据

```
<field 
    name="collector" 
    type="text_general" 
    indexed="true" 
    stored="false" 
    multiValued="true"
/> 
```

您现在唯一要做的就是将所有字段的内容复制到该字段中：

```
<copyField source="notes"        dest="collector"/>
<copyField source="missionFocus" dest="collector"/>
<copyField source="name"         dest="collector"/>
.... 
```

请注意，`copyField`必须在下面定义**块**：

```
<fields>
....
</fields> 
```

现在您只能在该字段上进行搜索，`collector`并且您会在您的任何字段中找到任何文本。

# matrix - CUDA 矩阵乘法 - 又一次

> ID：12833595
> 
> 赞同：1
> 
> 时间：2012-10-11T06:37:40.020
> 
> 标签：matrix, cuda, multiplication

做一个已经有10个同名的论坛帖子我感觉有点糟糕，但是在检查了所有这些之后，连同周围的大多数指南，我仍然无法解决问题。

我有一个 char 数组 [40090][11]，我想对其两个元素的每个可能的组合进行自定义操作（我将整个 11 字节串视为一个元素）。我知道这是一种矩阵乘法，矩阵是单列单行的。

按照 SDK 手册，我正在考虑每个输出元素有 1 个线程。由于 40090=19*2110，我正在使用：

```
dim3 threadsperblock(19,19);
dim3 blocksingrid(2110,2110);
xkernel<<<blocksingrid, threadsperblock>>>(dev_b2); 
```

**问题1**：这样好吗？

好吧，那么，我认为我正在忠实地遵循 SDK 的 maunal 示例（不是使用共享内存的示例）*。*但是，每当我敢于对数据进行部分我想要的操作时，我都会收到一个非常无用的错误 30 返回：未知错误。那么，**问题2**：我做错了什么？注意：忽略内核没有在任何地方保存任何东西。

```
#include "cuda_runtime.h"
#include "device_launch_parameters.h"
#include <cstdlib>
#include <iostream>
#include <fstream>
#include <iomanip>
#include <ctime>
#include <stdio.h>
using namespace std;

cudaError_t cudafunct(void);
__global__ void xkernel(char * dev_b2);
__device__ unsigned char typecheck(unsigned char type1,unsigned char type2);

#define b2c 40090
unsigned char block2[b2c][11];//
//unsigned int i,b1,b2,counter=0;//Block(2),Piece,Rotation,Type(of block2),InterconnectinTriangle
//unsigned char *block4,type=0;
ofstream ofile;

int main()
{
     ifstream block2file("2.blk",ios::binary);
     block2file.read((char*)(&block2),b2c*11);
     block2file.close();
     //block4=new unsigned char[200000000];//200MB will do, better than doing constant reallocs

    cudaError_t cudaStatus = cudafunct();
    if (cudaStatus != cudaSuccess) {
        fprintf(stderr, "cudafunct failed!");
        system("PAUSE");
        return 1;
    }
    /*

    // cudaDeviceReset must be called before exiting in order for profiling and
    // tracing tools such as Nsight and Visual Profiler to show complete traces.
    cudaStatus = cudaDeviceReset();
    if (cudaStatus != cudaSuccess) {
        fprintf(stderr, "cudaDeviceReset failed!");
        return 1;
    }*/
     cout<<"Sequence end. Saving to file...\n";     
     //ofile.open("blk4.et2",ios::binary);
     //ofile.write((char*)block4,17*counter);   
     //ofile.close(); 
     int t=clock();
     //cout<<"\nFound a total of "<<counter<<" block4s.\nTime elapsed: "<<t<<" clocks / "<<(double)t/(double)CLOCKS_PER_SEC<<" seconds\n";
     system("PAUSE");
}

// Helper function for using CUDA to add vectors in parallel.
cudaError_t cudafunct(void)
{
    char *dev_b2 = 0;
    cudaError_t cudaStatus;

    cudaStatus = cudaMalloc((void**)&dev_b2, sizeof(block2));
    if (cudaStatus != cudaSuccess) {
        fprintf(stderr, "cudaMalloc failed!");
        goto Error;
    }

    cudaStatus = cudaMemcpy(dev_b2, block2, sizeof(block2), cudaMemcpyHostToDevice);
    if (cudaStatus != cudaSuccess) {
        fprintf(stderr, "cudaMemcpy failed!");
        goto Error;
    }

    dim3 threadsperblock(19,19);
    dim3 blocksingrid(2110,2110);
    xkernel<<<blocksingrid, threadsperblock>>>(dev_b2);

    // cudaDeviceSynchronize waits for the kernel to finish, and returns
    // any errors encountered during the launch.
    cudaStatus = cudaDeviceSynchronize();
    if (cudaStatus != cudaSuccess) {
        fprintf(stderr, "cudaDeviceSynchronize returned error code %d after launching xkernel!\n", cudaStatus);
        goto Error;
    }
    /*
    // Copy output vector from GPU buffer to host memory.
    cudaStatus = cudaMemcpy(c, dev_c, size * sizeof(int), cudaMemcpyDeviceToHost);
    if (cudaStatus != cudaSuccess) {
        fprintf(stderr, "cudaMemcpy failed!");
        goto Error;
    }*/

Error:
    cudaFree(dev_b2);
    return cudaStatus;
}

__global__ void xkernel(char *dev_b2)
{
        int i = blockIdx.x * blockDim.x + threadIdx.x; 
        int j = blockIdx.y * blockDim.y + threadIdx.y;
        /*for(int k=0;k<11;k++)
        {
            lb2[0][k]=dev_b2[i*b2c+k];
            lb2[1][k]=dev_b2[j*b2c+k];
        }*/
        int b00;
        b00=dev_b2[i*b2c];

        //int type=typecheck(dev_b2[i*b2c+4],dev_b2[j*b2c+4]);
        //if(!j && !(i % 100))cout<<setw(6)<<i<<" / "<<jc<<" ("<<setw(10)<<(float)100*i/jc<<" % )"<<endl;     
        /*if(
            (dev_b2[i*b2c+7]!=dev_b2[j*b2c+9])||//SW~NW     
            (dev_b2[i*b2c+6]!=dev_b2[j*b2c+10])//SE~NE                                                                                         
        ) return;
        if( (type=typecheck(dev_b2[i*b2c+4],dev_b2[j*b2c+4]) ) ==255) return;*/
        /*if(
            (dev_b2[i*b2c+0]==dev_b2[j*b2c+0])||//1st=3rd
            (dev_b2[i*b2c+0]==dev_b2[j*b2c+2])||//1st=4th
            (dev_b2[i*b2c+2]==dev_b2[j*b2c+0])||//2nd=3rd
            (dev_b2[i*b2c+2]==dev_b2[j*b2c+2])//2nd=4th
        ) return;*/
        /*
        *(block4+counter*17+0)=b2[i][0];//1st piece
        *(block4+counter*17+1)=b2[i][1];//1st rotation
        *(block4+counter*17+2)=b2[i][2];//2nd piece
        *(block4+counter*17+3)=b2[i][3];//2nd rotation
        *(block4+counter*17+4)=b2[j][0];//3rd piece
        *(block4+counter*17+5)=b2[j][1];//3rd rotation
        *(block4+counter*17+6)=b2[j][2];//4th piece
        *(block4+counter*17+7)=b2[j][3];//4th rotation
        *(block4+counter*17+8)=type;
        *(block4+counter*17+9)=b2[i][5];//Right frame colours, down->up
        *(block4+counter*17+10)=b2[j][5];
        *(block4+counter*17+11)=b2[j][6];//Up frame colours, right->left
        *(block4+counter*17+12)=b2[j][7];
        *(block4+counter*17+13)=b2[j][8];//Left frame colours, up->down
        *(block4+counter*17+14)=b2[i][8];
        *(block4+counter*17+15)=b2[i][9];//Down frame colours, left->right
        *(block4+counter++*17+16)=b2[i][10];*/
}  

__device__ unsigned char typecheck(unsigned char type1,unsigned char type2)
{//Warning! Previous error! First partenthesis is t*2* = upper piece!
       if( (type1==4) && (type2==0) ) return  0;  
       if( (type1==6) && (type2==1) ) return  1;  
       if( (type1==2) && (type2==6) ) return  2;  
       if( (type1==3) && (type2==4) ) return  3;  
       if( (type1==4) && (type2==4) ) return  4;  
       if( (type1==8) && (type2==5) ) return  5;  
       if( (type1==6) && (type2==6) ) return  6;  
       if( (type1==7) && (type2==8) ) return  7;  
       if( (type1==8) && (type2==8) ) return  8;  
       if( (type1==9) && (type2==8) ) return  9;  
       if( (type1==10) && (type2==8) ) return  10;  
       if( (type1==8) && (type2==11) ) return  11;  
       if( (type1==8) && (type2==12) ) return  12;  
       if( (type1==8) && (type2==13) ) return  13;  
       return 255;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:57:22.543

`dev_b2`我有一种感觉，您从数组 中读取越界。`blockIdx.x`在 的范围内`[0..2110]`，因此变量`i`在 的范围内`[0..23210]`。但是然后你将它与`b2c`. 因此，您读取的最高地址将是`b2c*23210 = 930488900`.

但`dev_b2`只有`b2c*11 = 440990`.

# .net - 在 app.config 中使用 supportedRuntime 元素时，我应该使用哪个 ngen.exe？

> ID：12833599
> 
> 赞同：0
> 
> 时间：2012-10-11T06:37:54.713
> 
> 标签：.net, .net-3.5, app-config, nsis, ngen

我将 .net 2.0 和 .net 4.0 的 ngen.exe 与 NSIS 安装程序中的 .net 3.5 应用程序捆绑在一起。我没有找到任何其他方法可以做到这一点，所以我正在捆绑它。

我的 app.config 文件中有以下内容。

```
<startup useLegacyV2RuntimeActivationPolicy="true">
    <supportedRuntime version="v4.0"/>
</startup> 
```

我也在使用其他没有上面代码的 app.config。其他 app.config 仅在 pc 上安装了 .net 3.5 时使用。我的问题是如果用户没有安装 .net 3.5，我应该使用哪个版本的 ngen.exe？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T00:14:52.930

您不能“捆绑”ngen.exe，这是不允许的。许可证明确禁止它，请阅读 VS 安装目录中的 redist.txt。

这不仅仅是为了让你的生活变得困难，这是为了阻止你犯错误。使用这样的 .exe.config 文件，您要求应用程序使用 .NET 4 运行，无论它是针对什么构建的。您要求使用 v4.0 抖动，因此只有 v4.0 版本的 ngen.exe 是合适的。它已经安装在机器上，因此不需要“捆绑”。如果未安装，则运行该应用程序也将不起作用。

# mercurial - 推送 mercurial 后更改存储库

> ID：12833600
> 
> 赞同：0
> 
> 时间：2012-10-11T06:37:58.027
> 
> 标签：mercurial, tortoisehg, hgignore

当我创建存储库并推送服务器时，当我们在本地系统中克隆存储库时，文件带有红色信号，表示它们已**更改**。

当我们比较两个存储库时，我发现 .hg 文件夹中的文件内容已更改。谁能告诉我如何解决这个问题！

**编辑：** 当我们更改 .hg 文件夹时，红色图标变为绿色！！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:42:33.687

如果你拿 1 个修改（更改）的文件，仔细观察差异，只看到区别只在换行，这是经典的换行混乱。（大多数人在跨平台工作时都会发生）

有一个现成的 Mercurial Extension，解决这个问题。它被称为`eol`。从这里了解如何使用它和问题： [https ://www.mercurial-scm.org/wiki/EolExtension](https://www.mercurial-scm.org/wiki/EolExtension)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:31:40.093

你如何将本地创建的存储库推送到服务器？如果没有同名的仓库（在服务器上），您无法通过推送创建远程仓库，您必须将其克隆到服务器。或者，如果已经有同名的存储库，并且您推送了一些新的本地创建，那么在服务器上的 .hg 中肯定会有更多的东西，然后在本地。检查服务器上是否已经没有同名的 repo。高温高压

# php - 如何在保存到 mysql 数据库之前将反斜杠（\）插入到其中包含特殊字符的字符串

> ID：12833601
> 
> 赞同：1
> 
> 时间：2012-10-11T06:37:58.457
> 
> 标签：php, addslashes

我尝试在我的 php 脚本中使用 addlashes() 命令。但是此函数不会在字符串中的特殊字符之前附加反斜杠（）。

有没有其他方法可以在字符串中的特殊字符之前插入 \ ？

这是我的代码：

```
 function save_params() {
 global $order_status;

 $args = func_get_args();
 foreach ($args as $k => $param)
  if (isset($_REQUEST[$param])) 
$order_status[$param] = mysql_real_escape_string("$_REQUEST[$param]");
  else
   $order_status[$param] = null;
   } 
```

从上面的代码中，title 是用户提供的字符串。这可能包含特殊字符。我提供了 mysql_real_escape 字符串来转义其中的特殊字符。直到这里都很好。但问题是我正在使用 javascript 工具提示来悬停产品的标题。工具提示功能提供如下：

```
 class="notfree{$g->id}"  
   onmouseover = "tooltip.show('{$w->title}');" 
   onmouseout="tooltip.hide();" 
```

$w->title 是我们用特殊字符串保存到数据库中的标题。Tooltip.show 函数未在标题中显示带有特殊字符的悬停。所以我想在进入数据库之前为“标题”中的特殊字符添加反斜杠。

请帮帮我..我被困在这里

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-11T06:39:28.767

使用[`mysqli_real_escape_string()`或`mysqli::real_escape_string()`](http://www.php.net/manual/en/mysqli.real-escape-string.php)。

`mysqli`或者更好的是，使用带有or的准备好的语句[`PDO`](http://php.net/manual/en/book.pdo.php)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T06:39:36.403

使用 mysqli_real_escape_String - [http://php.net/manual/en/mysqli.real-escape-string.php](http://php.net/manual/en/mysqli.real-escape-string.php)。最好的方法是使用带有[mysqli](http://www.php.net/manual/en/mysqli.prepare.php)或[PDO的准备好的语句](http://us3.php.net/manual/en/pdo.prepared-statements.php)

# android - 如何将视图动态添加到水平滚动视图？

> ID：12833607
> 
> 赞同：0
> 
> 时间：2012-10-11T06:38:30.563
> 
> 标签：android, adapter, horizontalscrollview

我需要有水平滚动视图，但其中的视图数量不是静态的。可以像在 ListView 中那样使用适配器动态地将视图添加到水平滚动视图吗？

# html - 在链接之前添加内容（但在链接之外）

> ID：12833609
> 
> 赞同：0
> 
> 时间：2012-10-11T06:38:56.990
> 
> 标签：html, css

这是我的代码：

```
<style>
#links-div a {
    display: inline-block;
}

#links-div a:not(:first-child):before {
    content: " - ";
}
</style>

<div id = "links-div">
    <a href = "#">Link 1</a>
    <a href = "#">Link 2</a>
    <a href = "#">Link 3</a>
    <a href = "#">Link 4</a>
</div> 
```

破折号/连字符添加在所有链接之前（第一个链接除外），但它添加在链接中。

是否可以将其从锚中取出？它不应该在锚标签之前添加内容吗？

我唯一的解决方案是将每个链接放在列表中吗？由于它是一个列表，我不介意，但这只会节省一点时间。

干杯，

缺口

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:44:05.900

您可以在 ul 列表中添加您的链接

**HTML**

```
<div id = "links-div">
    <ul>
        <li><a href = "#">Link 1</a></li>
        <li><a href = "#">Link 2</a></li>
        <li><a href = "#">Link 3</a></li>
        <li><a href = "#">Link 4</a></li>
    </ul>
</div>​ 
```

**CSS**

```
#links-div ul li {
    display: inline-block;
}    
#links-div ul li:not(:first-child):before {
    content: " - ";
}
​ 
```

演示[http://jsfiddle.net/mKQas/1/](http://jsfiddle.net/mKQas/1/)

# perl - 我如何找到这个字节的偏移值是多少？

> ID：12833610
> 
> 赞同：0
> 
> 时间：2012-10-11T06:38:58.667
> 
> 标签：perl

因此，以某种方式从以下十六进制数据`(03 00 21 04 80 04)`中获得了以下值。

谁能告诉我如何做到这一点以及它是如何实现的？

```
Band                                 = 3  (40,6)
Duplex_Mode                          = 0  (46,1)
Result                               = 0  (47,1)
Reserved_1                           = 0  (48,8)
Min_Search_Half_Frames               = 1  (56,5)
Min_Search_Half_Frames_Early_Abort   = 1  (61,5)
Max_Search_Half_Frames               = 1  (66,5)
Max_PBCH_Frames                      = 0  (71,5)
Number_of_Blocked_Cells              = 0  (76,3)
Number_PBCH_Decode_Attemp_Cells      = 1  (79,3)
Number_of_Search_Results             = 1  (82,4)
Reserved_2                           = 0  (86,2) 
```

括号中的参数是我被告知的偏移量/长度。我不明白我应该如何根据这些信息解压这个有效载荷。

所以我写了

```
my $data = pack ('C*', map hex, split /\s+/, "03 00 21 04 80 04");
($tmp1, $Reserved_1, $tmp2) = unpack("C C V", $data); 
```

现在帮忙。如何从`$tmp1`和解压缩上面的表值`$tmp2`？

编辑：十六进制数据 =`"00 00 00 7F 08 03 00 21 04 80 04 FF D7 FB 0C EC 01 44 00 61 1D 00 00 10 3B 00 00 FF D7 FB 0C 00 00 8C 64 00 00 EC 45"`

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T20:13:05.527

您可能想要定义一组位掩码，并使用按位与运算来解压缩数据。

# google-app-engine - 我可以通过一项设置将所有 URL 配置为在 Google App Engine（python 应用程序）上安全吗？

> ID：12833616
> 
> 赞同：4
> 
> 时间：2012-10-11T06:39:14.547
> 
> 标签：google-app-engine, python-2.7

是否可以在 app.yaml 中确保在 http 上对我的应用程序的所有请求都被重定向到 https 而无需指定安全：始终针对我的应用程序中的每个 url 端点。

目前我正在这样做：

```
url: /users/login
script: users_handler.app
secure: always

url: /signin
script: authentication.app
secure: always

url: /users/logout
script: users_handler.app
secure: always 
```

但是随着新网址的添加，开发人员可能会忘记始终指定安全的风险。我宁愿只指定一个适用于我的应用程序中所有 url 的全局设置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T19:50:40.260

If you don not want to use secure in your app.yaml you can accomplish this with webapp2\. [https://webapp2.readthedocs.io/en/latest/guide/routing.html#restricting-uri-schemes](https://webapp2.readthedocs.io/en/latest/guide/routing.html#restricting-uri-schemes)

And here is a working code eaxmple: [How to use WSGI to reroute a user from http to https](https://stackoverflow.com/questions/10804873/how-to-use-wsgi-to-reroute-a-user-from-http-to-https#10845046)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-12-20T19:07:11.750

我觉得自己像考古学家，但我还是会分享我的发现。

所要做的就是将其添加到**app.yaml**中：

```
handlers:
- url: /.*
  secure: always
  script: auto 
```

该案例甚至还有[文档示例](https://cloud.google.com/appengine/docs/standard/nodejs/config/appref#handlers_script)。它与我的完全相同，但我删除了重定向。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-11T08:25:52.710

我不相信这是可能的。但是，我认为您可以通过重构您在 app.yaml 中定义的 URL 来缓解该问题。

这些 URL 从顶部开始与您的 app.yaml 中的处理程序匹配。因此，您应该指定一次性 URL，然后在底部有一个 catch all 设置，将所有与其他设置不匹配的 URL 路由到您的默认处理程序。然后，您的应用程序应该为您的应用程序中不存在的 URL 显示 404 页面等。

像这样的东西会起作用：

```
- url: /signin
  script: authentication.app
  secure: always

- url: /.*
  script: users_handler.app
  secure: always 
```

这样，您只需为您的应用程序指定几个处理程序，并且您不太可能错过设置安全：始终在添加新 URL 或设置时。

希望有帮助！

# java - 将 ViewPagerIndicator 更改为图标，而不是文本

> ID：12833617
> 
> 赞同：1
> 
> 时间：2012-10-11T06:39:16.583
> 
> 标签：java, android, android-viewpager

我正在使用以下库： [https](https://github.com/JakeWharton/Android-ViewPagerIndicator) ://github.com/JakeWharton/Android-ViewPagerIndicator 设置 ViewPagerIndicator(TitlePageIndicator)

```
TitlePageIndicator titleIndicator = (TitlePageIndicator) findViewById(R.id.someId); 
```

我有一个硬编码的、声明的字符串数组

```
private static final String[] CONTENT = new String[] { "#", "Home", "Icon" }; 
```

在我的 ViewPager 适配器中，我只需像这样设置选项卡的名称：

```
public CharSequence getPageTitle(int position) {
            return CONTENT[position % CONTENT.length].toUpperCase();
        } 
```

这一切都很好。我的问题是-我可以将标签“标题”更改为*图标*而不是*文本*吗？这可能吗？如果没有，我应该使用其他任何工具来实现这一目标吗？

我查看了“股票”示例，但没有看到类似图标的东西。

正如我们所看到的，[Pinterest](http://cultofandroid.cultofmaccom.netdna-cdn.com/wp-content/uploads/2012/08/pinterest1.jpg)使用他们的主要中心选项卡来做到这一点。

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T20:14:28.813

查看 ViewPageExtensions 项目[1](https://i.stack.imgur.com/84Moo.png)中的 FixedIconTabs 示例。那是你要的吗 ？

[1](https://i.stack.imgur.com/84Moo.png) - [https://github.com/astuetz/ViewPagerExtensions](https://github.com/astuetz/ViewPagerExtensions)

编辑 - 添加图片

![带图标的寻呼机](../Images/3836f920885f49746192c98bc27e087d.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T21:38:33.010

我下载了 ViewPagerIndicator Library 和 Samples 项目。有一个名为 SampleTabsWithIcons 的示例 FragmentActivity，正如您猜想的那样，它使用选项卡中的图标（也是文本，尽管我很确定它可以只使用图标）。现在，您表示您正在尝试使标题使用图标，而不是标签，所以我不知道这是否有帮助。我对 ViewPage 不太熟悉，标题和标签之间的区别对我来说并不明显，但如果你真的需要标题图标，而不是标签，那么这可能无济于事。下面是我手机应用程序中“带图标的选项卡”屏幕的屏幕截图。

![在此处输入图像描述](../Images/c0c3a1a7692c7567fb0b4b32a8075aab.png)

# css - WordPress字体跨浏览器问题

> ID：12833618
> 
> 赞同：0
> 
> 时间：2012-10-11T06:39:18.910
> 
> 标签：css, wordpress, fonts, cross-browser, font-face

我正在建立一个 WordPress 网站。我选择菜单栏的字体。但问题是，这个字体只显示谷歌浏览器，它不显示在 IE 和 Mozilla (FireFox) 中。

请帮我

[这是我的字体](http://dribbble.com/shots/493414-Font-Presentation-Love-Potion-No-10)

```
#nav ul li a:hover, 
#nav .current-menu-item > a, 
#nav .current-menu-ancestor > a,
div#nav ul .current_page_item > a {
   color: #9A6614;
}

#nav > ul li, 
#nav .menu > ul li {
  padding: 8px 0;
}

#nav > ul li a,
#nav .menu > ul li a {
  padding: 0 25px 0 25px;
  font-size:17px;
  border-left: 1px solid #CFCFCF;
  font-family:"LovePotionNo10Bold" !important;
}

#nav ul li:first-child a{
  font-family:LovePotionNo10Bold !important;
  border-left: 0px;
} 
```

下面是我的头文件声明

```
@font-face {
font-family: 'LovePotionNo10';src: url('http://comidaslacocotte.com/wp-content/themes/maya/webfonts/22418E_0_0.eot');
src: url('http://comidaslacocotte.com/wp-content/themes/maya/webfonts/22418E_0_0.eot?   #iefix') format('embedded-opentype'),
url('http://comidaslacocotte.com/wp-content/themes/maya/webfonts/22418E_0_0.woff') format('woff'),
url('http://comidaslacocotte.com/wp-content/themes/maya/webfonts/22418E_0_0.ttf') format('truetype');
}

@font-face {
font-family: 'LovePotionNo10Bold';
src: url('http://comidaslacocotte.com/wp-content/themes/maya/webfonts/22418E_1_0.eot');
src: url('http://comidaslacocotte.com/wp-content/themes/maya/webfonts/22418E_1_0.eot?#iefix') format('embedded-opentype'),
url('http://comidaslacocotte.com/wp-content/themes/maya/webfonts/22418E_1_0.woff') format('woff'),
url('http://comidaslacocotte.com/wp-content/themes/maya/webfonts/22418E_1_0.ttf') format('truetype');
}

@font-face {
font-family: 'LovePotionNoOrnaments';
src: url('http://comidaslacocotte.com/wp-content/themes/maya/webfonts/22418E_2_0.eot');
src: url('webfonts/22418E_2_0.eot?#iefix') format('embedded-opentype'),
url('http://comidaslacocotte.com/wp-content/themes/maya/webfonts/22418E_2_0.woff') format('woff'),
url('http://comidaslacocotte.com/wp-content/themes/maya/webfonts/22418E_2_0.ttf') format('truetype');
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:34:53.327

我在您的代码中看到一个错字，不知道它是否能解决您的问题：

```
#nav ul li:first-child a{
  font-family: 'LovePotionNo10Bold' !important;
  border-left: 0px;
} 
```

需要在字体声明、单打或双打周围加上引号。

仅供参考：我建议放弃 !important 规则。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:36:36.347

阅读这篇文章： http: [//paulirish.com/2009/bulletproof-font-face-implementation-syntax/](http://paulirish.com/2009/bulletproof-font-face-implementation-syntax/)

对于任何使用`@font-face`. 建议的语法是：

```
@font-face {
  font-family: 'Graublau Web';
  src: url('GraublauWeb.eot?') format('eot'), 
       url('GraublauWeb.woff') format('woff'), 
       url('GraublauWeb.ttf') format('truetype');
} 
```

# php - PHP：从数据库中获取 id，发送到其他函数以获取内容？

> ID：12833621
> 
> 赞同：1
> 
> 时间：2012-10-11T06:39:31.373
> 
> 标签：php, database, select, methods

我希望标题足够描述性，我不知道如何命名。

假设我有以下代码：

```
Class Movie_model {

    public method getMoviesByDate($date) {
        // Connects to db
        // Gets movie IDs from a specific date
        // Loop through movie IDs
        // On each ID, call getMovieById() and store the result in an array
        // When all IDs has looped, return array with movies returned from getMovieById().
    }

    public function getMovieById($id) {
         // Get movie by specified ID
         // Also get movie genres from another method
         // Oh, and it gets movie from another method as well.
    }

} 
```

获取电影时，我总是希望得到相同的结果（我总是希望 getMovieById() 的结果。

我希望你明白我的意思。我将拥有许多其他函数，例如 getMoviesByDate()，例如，我还将拥有 getMoviesByGenre()，并且我希望它也返回与 getMovieById() 相同的电影信息。

这样做“可以”吗？我知道这会给服务器带来更多负载并增加加载时间，但是还有其他更好的方法我不知道吗？

**编辑：**我稍微澄清了 getMoviesByDate() 中的代码。此外，getMovieByDate() 只是一个示例。正如我所说，我还将调用 getMoviesByGenre() 之类的方法。

**编辑：**我目前在项目的首页上运行 48 个数据库查询，而首页还远未完成，所以当我完成时，这个数字至少会增加三倍。几乎所有查询都需要大约 0.0002，但随着数据库的不断增长，我猜这个数字会急剧上升。我**需要**改变一些东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:55:37.937

在一个类上拥有`getMoviesByDate()`和`getMoviesById()`方法似乎不太合乎逻辑。`Movie`

另一种方法是使用某种`MovieManager`类来完成所有检索并返回`Movie`对象。

```
class MovieManager {

    public function getMoviesByDate($date) {
        // get movies by date, build an array of Movie objects and return
    }

    public function getMoviesByGenre($genre) {
       // get movies by genre, build an array of Movie objects and return
    }

    public function getMovieById($id) {
       // get movie by id, return Movie object
    }

} 
```

您的`Movie`类将仅具有特定于单个电影的属性和方法：

```
class Movie {

    public id;
    public name;
    public releaseDate;

} 
```

可以有单独的方法来获取日期、流派等，但您必须确保您不会多次调用相同的记录 - 在这种情况下，您将需要一个可以连接您需要的各种表的单个查询。

编辑 - 在你澄清你的问题之后：

按日期获取电影 ID，然后将它们全部运行的想法`getMovieById()`很糟糕！按日期获取时应该拉取电影数据，因此您不必再次访问数据库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T06:43:19.190

我认为在这种特殊情况下这样工作并不好。函数 getMoviesByDate 将从单个查询中返回一定数量的“n”部电影（或电影 ID）。对于此查询中的每个 id，您将有一个单独的查询来通过指定的 ID 获取电影。

这意味着如果第一个函数将返回 200 部电影，您将运行 getMovieById() 函数（以及其中的查询）200 次。更好的做法 (IMO) 是在 getMoviesByDate() 函数中获取您需要的所有信息并将其作为集合返回。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:49:31.160

您可以修改您的**getMovieById**函数。您可以将日期作为参数传递，该函数应按电影 ID 返回电影并按日期过滤。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-11T06:53:00.397

要跟踪您之前已加载到 RAM 中的记录，您可以为模型使用基类，该基类保存已加载记录的 id 以及对 RAM 中模型对象的对象的引用。

```
class ModelBase {
    /* contains the id of the current record, null if new record */
    protected $id;

    // keep track of records already loaded
    static $loaded_records = Array();

    public function __construct(Array $attr_values) {
        // assign $attr_values to this classes attributes

        // save this instance in class variable to reuse this object
        if($attr_values['id'] != null) {
            self::$loaded_records[get_called_class()][$attr_values['id']] = $this;
        }
    }

    public static function getConcurrentInstance(Array $attr_values) {

        $called_class = get_called_class();
        if(isset(self::$loaded_records[$called_class][$attr_values['id']])) {

            // this record was already loaded into RAM
            $record = self::$loaded_records[$called_class][$attr_values['id']];

            // you may need to update certain fields of $record
            // from the data in $attr_values, because the data in the RAM may
            // be old data.

        } else {
            // create the model with the given values
            $record = new $called_class($attr_values);
        }
        return $record;
    }

    // provides basic methods to update records in ram to database etc.
    public function save() {
        // create query to save this record to database ...
    }
} 
```

您的电影模型可能看起来像这样。

```
Class MovieModel extends ModelBase {
    // additional attributes
    protected $title;
    protected $date;
    // more attributes ...

    public static function getMoviesByDate($date) {
       // fetches records from database
       // calls getConcurrentInstance() to return an instance of MovieModel() for every record
    }

    public static function getMovieById($id) {
       // fetches record from database
       // calls getConcurrentInstance() to return an instance of MovieModel()
    }
} 
```

您可以做的其他事情可以减少数据库的负载：

*   每个请求只连接一次数据库。也有可能在多个请求之间共享到数据库的连接。
*   索引数据库中经常搜索的字段。
*   只获取你需要的记录
*   防止两次加载相同的记录（如果它没有改变）

# jquery - 如何使用 jquery 和 mvc2 保留页面之间的控件输入值

> ID：12833626
> 
> 赞同：0
> 
> 时间：2012-10-11T06:39:50.267
> 
> 标签：jquery, asp.net-mvc-2

这是我的问题..

我正在使用 jquery 和 mvc2。我在复选框或文本框或下拉菜单等输入控件中选择或写入值，然后我移至下一页，然后我回到同一页面我需要检查复选框或具有值的文本框..如何我可以做吗

维护页面之间的输入控件值提前谢谢

```
 #region TableHeaderOnStart
    public string TableHeaderOnStart()
    {
        string TableHeaderValues = string.Empty;
        try
        {
        TableHeaderValues = TheadShipTo + "," + TheadCountry + "," + TheadNotes + "," + TheadShipStatus + "," + TheadStoreName + "," + TheadRSM;
        }
        catch (Exception ex)
        {
            TableHeaderValues = string.Empty;
            Logger.WriteToLog(Logger.LogType.Error, Constant.strmerchantname, Constant.struser, "OrderController.TableHeaderValues()", ex.Message, null, null);
        }
        return TableHeaderValues;
    }
    #endregion

    #region TableHeaders
    public void TableHeaders(bool ShipTo, bool Country, bool Notes, bool ShipStatus, bool StoreName, bool RSM)
    {
        TheadShipTo = ShipTo;
        TheadCountry = Country;
        TheadNotes = Notes;
        TheadShipStatus = ShipStatus;
        TheadStoreName = StoreName;
        TheadRSM = RSM;
    }
    #endregion 
```

父视图的Contoller页面中的上述代码......下面的代码是父视图..在jquery中......几乎我明白了......

```
 jQuery(document).ready(function ($) {
        $('#thetable1').tableScroll({ height: 100 });
        $('#table').tableScroll({ height: 100 });
        $('#thetable3').tableScroll({ height: 100 });

        var Url = '<%: Url.Action("TableHeaderOnStart", "Orders") %>';
        $.ajax({
            cache: false,
            type: "POST",
            url: Url,
            data: "",
            dataType: "HTML",
            success: function (data) {

                var Header = data.split(',');

                if (Header[0] == 'True') {
                    $('#jqTable tr').each(function () {
                        $(this).find("td:contains('Ship To')").show();
                        jQuery("#jqTable").showCol("Ship To")
                    });
                    $('#SHIPTO').attr('checked', true);
                }
                else {
                    $('#jqTable tr').each(function () {
                        $(this).find("td:contains('Ship To')").hide();
                        jQuery("#jqTable").hideCol("Ship To")
                    });
                    $('#SHIPTO').attr('checked', false);
                }

                if (Header[1] == 'True') {
                    $('#jqTable tr').each(function () {
                        $(this).find("td:contains('Country')").show();
                        jQuery("#jqTable").showCol("Country")
                    });
                    $('#COUNTRY').attr('checked', true);
                }
                else {
                    $('#jqTable tr').each(function () {
                        $(this).find("td:contains('Country')").hide();
                        jQuery("#jqTable").hideCol("Country")
                    });
                    $('#COUNTRY').attr('checked', false);
                }

                if (Header[2] == 'True') {
                    $('#jqTable tr').each(function () {
                        $(this).find("td:contains('Notes')").show();
                        jQuery("#jqTable").showCol("Notes")
                    });
                    $('#NOTES').attr('checked', true);
                }
                else {
                    $('#jqTable tr').each(function () {
                        $(this).find("td:contains('Notes')").hide();
                        jQuery("#jqTable").hideCol("Notes")
                    });
                    $('#NOTES').attr('checked', false);
                }

                if (Header[3] == 'True') {
                    $('#jqTable tr').each(function () {
                        $(this).find("td:contains('Ship Status')").show();
                        jQuery("#jqTable").showCol("Ship Status")
                    });
                    $('#SHIPSTATUS').attr('checked', true);
                }
                else {
                    $('#jqTable tr').each(function () {
                        $(this).find("td:contains('Ship Status')").hide();
                        jQuery("#jqTable").hideCol("Ship Status")
                    });
                    $('#SHIPSTATUS').attr('checked', false);
                }

                if (Header[4] == 'True') {
                    $('#jqTable tr').each(function () {
                        $(this).find("td:contains('Store Name')").show();
                        jQuery("#jqTable").showCol("Store Name")
                    });
                    $('#STORENAME').attr('checked', true);
                }
                else {
                    $('#jqTable tr').each(function () {
                        $(this).find("td:contains('Store Name')").hide();
                        jQuery("#jqTable").hideCol("Store Name")
                    });
                    $('#STORENAME').attr('checked', false);
                }

                if (Header[5] == 'True') {
                    $('#jqTable tr').each(function () {
                        $(this).find("td:contains('RequestedShipMethod')").show();
                        jQuery("#jqTable").showCol("RequestedShipMethod")
                    });
                    $('#RSM').attr('checked', true);
                }
                else {
                    $('#jqTable tr').each(function () {
                        $(this).find("td:contains('RequestedShipMethod')").hide();
                        jQuery("#jqTable").hideCol("RequestedShipMethod")
                    });
                    $('#RSM').attr('checked', false);
                }

            },
            error: function (xhr, ajaxOptions, thrownError) {
                if (xhr.status == 403) {
                    window.location.href = '<%: Url.Action( "SessionExpire", "Home" ) %>';
                }
            }
        });

        //window.onbeforeunload = function () {
        $(window).unload(function () {
            var SHIPTO = document.getElementById('SHIPTO').checked;
            var COUNTRY = document.getElementById('COUNTRY').checked;
            var NOTES = document.getElementById('NOTES').checked;
            var SHIPSTATUS = document.getElementById('SHIPSTATUS').checked;
            var STORENAME = document.getElementById('STORENAME').checked;
            var RSM = document.getElementById('RSM').checked;

            var Url = '<%: Url.Action("TableHeaders", "Orders") %>';
            $.ajax({
                cache: false,
                type: "POST",
                url: Url,
                data: "ShipTo=" + SHIPTO + "&Country=" + COUNTRY + "&Notes=" + NOTES + "&ShipStatus=" + SHIPSTATUS + "&StoreName=" + STORENAME + "&RSM=" + RSM,
                dataType: "HTML",
                success: function (data) {
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    if (xhr.status == 403) {
                        window.location.href = '<%: Url.Action( "SessionExpire", "Home" ) %>';
                    }
                }
            });
            return false;
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T06:50:47.720

我猜当您单击已呈现视图上的“下一步”链接时，您正在调用另一个操作方法来呈现您的下一个视图。您应该将您的值从您的父视图发布到 Next View ，将您的文本框值、复选框存储在父视图的控制器操作方法中的会话变量中，然后将控制权传递给 Next View 的操作方法...渲染.. .

当您再次调用此视图上的“后退链接”按钮时..调用您的父视图的控制器操作方法，该方法将使用已经存在的文本框、复选框呈现您的父视图，因为您之前已将它们存储在会话变量中...

如果您可以提供一些代码，那么很容易为您提供更多帮助

# iphone - iphone:UIToolbar 设置为 tint color 在 iOS 5 和 ios6 模拟器上的行为不同？

> ID：12833628
> 
> 赞同：0
> 
> 时间：2012-10-11T06:40:04.120
> 
> 标签：iphone, ios5, ios6

如果我将工具栏的颜色设置为 tint color 并在 ios5 模拟器上运行应用程序。它很好地显示了颜色。但是当我在 ios6 模拟器上运行相同的应用程序时，它显示工具栏颜色模糊？

请告诉我如何解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T08:13:31.280

我使用以下代码更改所有工具栏的色调和背景图像，并且效果很好

```
UIToolbar *dummyToolbar = [[UIToolbar alloc] init];
if ([dummyToolbar respondsToSelector:@selector(setBackgroundImage:forToolbarPosition:barMetrics:)]) {
    [[UIToolbar appearance] setTintColor:kNAvigationColorTitleColor];
    UIImage *aImage = [[UIImage imageNamed:@"navigationBarBackGround.png"] stretchableImageWithLeftCapWidth:6 topCapHeight:6];
    [[UIToolbar appearance] setBackgroundImage:aImage forToolbarPosition:UIToolbarPositionAny barMetrics:UIBarMetricsDefault];
} 
```

# android - 如何在不使用 Spinner.setSeletion(0) 的情况下为 android Spinner 设置提示

> ID：12833635
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:40:44.540
> 
> 标签：android, spinner

我们可以向像 EditText 这样的 Android 微调器添加提示吗：提示，请给我发送任何代码。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:53:08.003

将您的数组放入数组列表并写下

```
arraylist.add("whatever hint you want") 
```

然后用这个填充微调器

```
 ArrayAdapter<String> ad_state = new ArrayAdapter<String>(this,
                        android.R.layout.simple_spinner_item,arraylist);
                    ad_state.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
                    state.setAdapter(ad_state); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:48:59.507

[带有提示示例项目的 Android Spinner](https://github.com/ravivyas84/AndroidSpinnerHint)

覆盖 getview 以在选择任何值之前显示提示。

# ruby - 如何在独角兽启动之前设置我的数据库并设置 4 次？（因为我有 4 个工人）

> ID：12833636
> 
> 赞同：2
> 
> 时间：2012-10-11T06:40:45.000
> 
> 标签：ruby, sinatra, datamapper, unicorn

我正在开发一个模块化的 Sinatra 应用程序。我用独角兽。该应用程序需要对 db 等进行一些初始设置，我在哪里做呢？

我的 config.ru：

```
require './main.rb'

disable :run #disable internal webserver

run App.new 
```

我的档案：

```
web: unicorn -p 8080 -c ./unicorn.rb 
```

我的独角兽.rb：

```
worker_processes 4
timeout 30 
```

设置发生在 main.rb 中的某处。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-06-11T07:07:12.640

# 活动记录

如果您使用[ActiveRecord](http://api.rubyonrails.org/classes/ActiveRecord/Base.html)作为您选择的 ORM，您可以在 Unicorn [before_fork](http://unicorn.bogomips.org/Unicorn/Configurator.html#method-i-before_fork)挂钩中添加类似的内容。这将关闭与数据库的任何现有连接。

```
before_fork do |server, worker|
  defined?(ActiveRecord::Base) and
   ActiveRecord::Base.connection.disconnect!
end 
```

并将其添加到[after_fork](http://unicorn.bogomips.org/Unicorn/Configurator.html#method-i-after_fork)钩子中。这将在每个独角兽分叉后建立新的连接。

```
after_fork do |server, worker|
  defined?(ActiveRecord::Base) and
    ActiveRecord::Base.establish_connection
end 
```

# 数据映射器

如果您使用[DataMapper](http://datamapper.org/)，您可以在[before_fork](http://unicorn.bogomips.org/Unicorn/Configurator.html#method-i-before_fork)钩子中添加类似的内容。这次您将使用[DataObjects](https://github.com/datamapper/do)来处理连接 - [DataObjects](https://github.com/datamapper/do)是一个 gem，它使用更标准的接口重写现有的 Ruby 数据库驱动程序。[DataMapper](http://datamapper.org/)在内部使用[DataObjects](https://github.com/datamapper/do)来管理与数据库的连接。处理连接后， [DataMapper](http://datamapper.org/)将在需要时重新连接。

```
before_fork do |server, worker|
  DataObjects::Pooling.pools.each do |pool|
    pool.dispose
  end
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T06:46:10.237

理想情况下，在您的应用程序之外，作为在 unicorn 启动之前运行的东西。

您可以潜在地将设置部分`main.rb`放在`unicorn.rb`.

# java - 更改 JDK 版本时出错

> ID：12833638
> 
> 赞同：1
> 
> 时间：2012-10-11T06:40:58.177
> 
> 标签：java, android

我在 jdk 1.6 和 android Rev. 20 上创建了一个项目。现在我已经安装了 1.7 的一些功能，但它不接受。我们必须`sun.audio`在 java 1.7 中导入我们打算在 android 中使用的包。但它给了我错误。请帮帮我。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:49:10.787

这里同样的[问题](https://stackoverflow.com/questions/9439057/eclipse-imported-a-project-and-eclipse-is-giving-me-wrong-override-method-ann)和[这里](https://stackoverflow.com/questions/8578441/can-the-android-sdk-work-with-jdk-1-7)

并且也不应该使用 sun 包[检查这里](http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html)

您的问题的解决方案是

右键单击项目 -> 属性 -> Java 编译器 -> 选中“启用项目特定设置” -> 将编译器版本更改为 1.6

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:47:26.060

可悲的是，android 仍然不支持 java 1.7。你必须找到一个解决方法，而不是使用这个包。

对于音频，你有很多内置类和第三方类。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:53:37.510

[http://developer.android.com/sdk/index.html](http://developer.android.com/sdk/index.html)

点击**系统要求**

# python - 如何在多个列表中找到相同的项目？

> ID：12833639
> 
> 赞同：1
> 
> 时间：2012-10-11T06:41:00.517
> 
> 标签：python, list, find

如果有超过 1 个不同长度的列表，在每个列表中找出相同项目的快速方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T06:45:13.847

```
a = [[1, 2, 3], [2, 3], [3, 4, 5, 6, 7]]

s = set.intersection(*map(set, a)) 
```

`s`是具有单个元素的集合`3`。

# macos - 在 npp_new 之后立即调用 npp_destroy

> ID：12833641
> 
> 赞同：1
> 
> 时间：2012-10-11T06:41:02.410
> 
> 标签：macos, google-chrome-extension, npapi

我正在尝试在 Mac 上为 chrome 制作一个 NPAPI 插件。我写了一个基本的 npapi 插件和一个基本的`manifest.json`并`background.html`加载它。我`background.html`有一个`embed`标签来通过 Mimetype 获取插件。

现在，当我从 Chrome 加载未打包的扩展程序并尝试调试 c++ 代码（在 xcode4 中）时，我发现函数按以下顺序调用：

1.  `NP_Initialize`
2.  `NP_GetEntryPoints`
3.  `NPP_New`
4.  `NPP_Destroy`

在此之后，当我单击扩展图标时，`popup.html`应该会执行。我的`popup.html`有以下几行：

第 1 行：

```
var pluginObj = document.getElementById("pluginId"); 
```

第 2 行：

```
pluginObj.Myfunction(); 
```

但是在第 1 行，`NP_Getvalue()`函数没有被调用，因此“可编写脚本的 NPObject”没有被实例化。在第 2 行，Chrome JavaScript 控制台说：

```
Error in event handler for 'undefined': Object #<HTMLEmbedElement> has no method 'Myfunction' TypeError: Object #<HTMLEmbedElement> has no method 'Myfunction' 
```

为什么`NPP_Destroy`函数在 ? 之后立即被调用`NPP_New function`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T09:15:25.453

您是否在插件中完成了绘图和事件模型协商？从 Mac 版 Chrome 22 开始，不再支持已弃用已久的 QuickDraw 和 Carbon 模型，如果您的插件不协商现代模型，它将在初始化后立即销毁。有关执行此操作的示例代码，请参见[此处](https://code.google.com/p/google-web-toolkit/source/diff?spec=svn11310&r=11310&format=side&path=/trunk/plugins/npapi/main.cpp)。

（是的，不幸的是 32 位插件的默认模型是旧的、已弃用的模型，但由于所有现有插件都期望旧行为，因此无法在规范中更改它。）

# php - Codeigniter 从 facebook 登录重定向时显示数据库错误

> ID：12833643
> 
> 赞同：1
> 
> 时间：2012-10-11T06:41:12.917
> 
> 标签：php, database, codeigniter, facebook-graph-api

我正在尝试创建 facebook 登录，

我网站上的登录按钮将我重定向到 facebook，登录时，要求允许我的申请以获得所需的权限（'offline_access、email 等'）。

当用户允许它返回到我的内部页面（用户页面）。如果用户的 facebook id 不在我的数据库中，也将用户数据添加到我的数据库中。

但它并非每次都有效（无论用户是否在数据库中）。有时它会给出以下错误：

```
A Database Error Occurred

Unable to connect to your database server using the provided settings.

Filename: core/Loader.php

Line Number: 346 
```

这是我的登录功能，它生成 fb 登录网址

```
$this->load->library('facebook');
        $user = $this->facebook->getUser();
        $data['loginUrl']="";
        $data['logoutUrl']="";
        if ($user) {
            try {
                $data['user_profile'] = $this->facebook->api('/me');
            } catch (FacebookApiException $e) {
                error_log($e);
                $user = null;
            }
        }
        if ($user) {
            $data['logoutUrl'] = $this->facebook->getLogoutUrl(array(
                'next' => ASITEURL . '/login/logout'));
        } else {
            $param['redirect_uri'] = ASITEURL . '/login/checkLogInfo';
            $param['scope'] = 'email,publish_stream,user_birthday';
            $data['loginUrl'] = $this->facebook->getLoginUrl($param);
        }
        $this->load->view('login/login', $data); 
```

checkLogInfo 是处理会话和数据库代码的函数。

成功登录（并首次授予权限）后，将我重定向到以下网址：

```
http://mysite.com/login/checkLogInfo?state=4d59a4fe681ae940f036393c895d1c57&code=AQA3gAnl86izonBQyh8wThjNZuNowX1h6YBlGkeIiaQU__DFHDywC9nIgWYzW22EaxkVJB5nudjnNd4uElNs1-SFa0Ej_h4_4AAaYh4bLf9_HBpUiaSzbuDUcYg0WIIg0B4mvKq0_H3W3xH0gcKPWL1Fbrp3ff3IVt0unFIIeyevRb9oZwPld6NTKtU_tHxrQFtEdMgE6S2dwPcrbyY54g82#_=_ 
```

数据库设置：

```
 $db['default']['hostname'] = 'localhost';
    $db['default']['username'] = 'root';
    $db['default']['password'] = '';
    $active_group = 'default';
    $active_record = TRUE;

$db['default']['database'] = 'mydb';
    $db['default']['dbdriver'] = 'mysql';
    $db['default']['dbprefix'] = '';
    $db['default']['pconnect'] = FALSE;
    $db['default']['db_debug'] = TRUE;
    $db['default']['cache_on'] = FALSE;
    $db['default']['cachedir'] = '';
    $db['default']['char_set'] = 'utf8';
    $db['default']['dbcollat'] = 'utf8_general_ci';
    $db['default']['swap_pre'] = '';
    $db['default']['autoinit'] = TRUE;
    $db['default']['stricton'] = FALSE; 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T11:03:49.633

我发现应用程序的 issue.database 设置动态加载取决于 URL（如果 URL 包含“QA”，则更改主机名）。因此，每当 facebook 将我重定向到包含**QA**的 url （作为有问题的给定 url）时，它都会向我显示错误...

感谢 itachi 和 Rick Calder。

# asp.net - 如果页面包含母版页，则 Html 输入文件不起作用

> ID：12833644
> 
> 赞同：1
> 
> 时间：2012-10-11T06:41:17.857
> 
> 标签：asp.net

我有一个带有表单标签的母版页

```
<form id="form1" runat="server" enctype="multipart/form-data" method="post"> 
```

在页面中我有 HtmlInputFile

```
 <input id="File1" 
          type="file"
          accept="image/*"
          runat="server"/>       
<input type="button" 
          id="Button1" 
          value="Upload" 
          OnServerClick="Button1_Click" 
          runat="server"/> 
```

和处理程序

```
 void Button1_Click(object Source, EventArgs e) 
   {

      if (File1.PostedFile != null) 
      {
         try 
         {
           HttpPostedFile file = File1.PostedFile;
             byte[] fileContent = new byte[file.ContentLength];

             file.InputStream.Read(fileContent, 0, file.ContentLength);
         }
         catch (Exception exc) 
         {

         }
      }
   } 
```

但总是 PostedFile = null !!!!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:45:59.727

尝试使用 ASP.NET 控件：

```
<asp:FileUpload id="File1" runat="server" /> 
```

# python - python SocketServer 卡在 waitpid() 系统调用上

> ID：12833645
> 
> 赞同：1
> 
> 时间：2012-10-11T06:41:40.173
> 
> 标签：python, signals, socketserver

我正在使用带有 ForkingMixIn 的 Python (2.7) SocketServer。它运作良好。

然而，有时在大量使用（大量快速连接/断开客户端）时，“服务器”会卡住，消耗所有空闲 CPU（顶部显示 100% CPU）。如果我在进程中使用 CLI 中的 strace，它会显示它执行了无休止的 waitpid() 系统调用序列。根据命令“ps”，此时没有子进程。

在这个问题之后，我的服务器实现无法使用，只有重新启动有帮助:(客户端可以连接但没有 anwser，我猜操作系统端只使用了“积压”队列，但 python 代码从不接受连接。

它可以很容易地被复制，例如使用一些原始的 HTTP 实现，并且带有 CTRL-R（重新加载）的浏览器（我使用 chrome）按住大约 10 秒。当然，如果没有这种“残酷”的尝试，也很少会在“正常使用”的情况下触发问题，甚至很难想到可能是什么问题。我用 os.fork() 和套接字函数编写了自己的 SocketServer 实现，它没有这个问题，但我对一些“已经准备好”和“标准”的解决方案更满意。

问题：这不是一件好事，因为我实现服务器的脚本可以通过这种方式很容易地被 DoS 攻击。

我能注意到：我为 SIGCHLD 安装了一个信号处理程序。似乎如果我删除它，我就无法重现问题，但是我可以看到僵尸进程（我猜是因为它们没有等待（））。即使我使用 signal.SIG_IGN 安装信号处理程序，我也会遇到这个问题。

任何人都可以帮助解决问题以及我如何解决这个问题？无论如何我都想使用信号处理程序，因为留下许多僵尸进程也不是很好，尤其是在长时间运行之后。

感谢您的任何想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:33:53.123

也许相关：[服务器端许多 TIME_WAIT 的成本是多少？](https://stackoverflow.com/questions/1803566/what-is-the-cost-of-many-time-wait-on-the-server-side)

您的所有最大连接数可能都处于 time_wait 状态。

*   检查`sysctl net.core.somaxconn`最大连接数。
*   检查`sysctl net.ipv4`其他配置详细信息（例如 tw
*   检查`ulimit -n`最大打开文件描述符（包括套接字）
*   您可以尝试：`sysctl net.ipv4.tcp_tw_reuse=1`快速重用这些套接字（除非您知道自己在做什么，否则不要保持启用状态。）
*   检查文件句柄泄漏。

[不太] 愚蠢的问题：您的 SocketServer 实现与标准的 + ForkingMixIn 有何不同？

但是，滥用（叉子炸弹）真的很容易`ForkingMixIn`，您可能想使用绿色线程，例如`eventlet`库（[http://eventlet.net/doc/index.html](http://eventlet.net/doc/index.html)）

这可能是你的问题。

*   这个：[http ://bugs.python.org/issue7978](http://bugs.python.org/issue7978)

*   这个： http: [//mail.python.org/pipermail/python-bugs-list/2010-April/095492.html](http://mail.python.org/pipermail/python-bugs-list/2010-April/095492.html)

*   这个：[http ://twistedmatrix.com/trac/ticket/733](http://twistedmatrix.com/trac/ticket/733)

    您会看到`SIGCHLD`不鼓励处理程序，除非您采取一些额外措施（在处理程序中，或在调用`signal.siginterrupt(signal.SIGCHLD, False)`中使用唤醒 fd ）`select()`

# javascript - 如何以整数为键读取对象？

> ID：12833648
> 
> 赞同：0
> 
> 时间：2012-10-11T06:41:55.543
> 
> 标签：javascript

> **可能重复：**
> [如何访问数字属性？](https://stackoverflow.com/questions/2026741/how-to-access-a-numeric-property)

我正在尝试读取键是数字的对象。但不幸的是，当我尝试阅读这个对象时：

```
Salary:{
  "2012_08":"5555",
  "2012_09":"6666",
  "2012_10":"7777"
}
var augsalary =  salary.2012_08; 
```

它抛出一个错误。我的问题是：“2012_08”是年月组合，不能更改为存储为字符串。我怎样才能使用该键访问该值？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T06:42:42.840

可以使用大括号表示法访问所有对象属性。

采用

```
var augsalary =  salary['2012_08']; 
```

请注意，如果您希望它为整数（并且不能更改 JSON 以发送数字），您可以使用：

```
var augsalary =  parseInt(salary['2012_08'], 10); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T07:16:06.397

首先，您的 Javascript 代码无效，也许您的意思是

```
var Salary = {
  "2012_08":"5555",
  "2012_09":"6666",
  "2012_10":"7777"
}
var augsalary =  salary.2012_08; 
```

其次，一个非常常见的混淆是谈论 JSON 对象。`Salary`不是 JSON 对象，它是 JavaScript 对象。JSON 是一种表示法，用于将所有 JavaScript 对象的大部分子集表示为字符串。然后可以将这些字符串传输到代码的其他部分或其他计算机，在那里它们可以转换回对象进行处理。所以你的问题`Salary`是从接收到的 JSON 字符串转换的数据。

JS 有数组和对象。

对象是最基本的，它们可以具有名称可以是任意字符串的属性。提供了两种形式的对象属性访问：大括号和点符号。大括号表示法是通用的，您将属性名称值指定为对象名称后大括号内的字符串或变量值。点表示法是一种简写，只有在属性名称具有有效 JS 变量名称形式时才能使用。

数组是基本对象，具有维护其数字属性名称的有序列表的附加功能。您可以将非数字属性名称添加到数组，但它们不参与任何 Array 函数。

因此，在您的示例中，您没有数字键或属性名称，因为它们包含“_”字符。由于它们以数字开头，因此您不能使用点表示法，而必须使用大括号表示法来访问它们，如下面的[dystroy](https://stackoverflow.com/users/263525/dystroy)所述。

希望我的小课能帮助你更好地理解基础知识。

# visual-studio-2012 - VS 2012 所有工具箱项目都是灰色的

> ID：12833652
> 
> 赞同：0
> 
> 时间：2012-10-11T06:42:22.760
> 
> 标签：visual-studio-2012

刚刚安装了 VS 2012 Express 并启动了一个新的 MVC 互联网网站，似乎我所有的工具箱项目都是灰色的并且无法使用它们。好像 IDE 认为我正在尝试在代码隐藏文件中使用它们。但我的活动窗口是 Index.cshtml，我似乎无法访问任何工具箱项目。

我是 VS 2012 的新手，我知道我只是在做一些愚蠢的事情。

# java - 实现 equals() 方法设计模式

> ID：12833654
> 
> 赞同：0
> 
> 时间：2012-10-11T06:42:27.657
> 
> 标签：java, design-patterns, equals-operator

是否有任何设计模式（或成语）有助于`equals()`在 Java 中实现方法？

这项任务并不难，但在大多数情况下，它几乎是一样的......这就是为什么我猜有一个模式，但我没有找到它。

```
UPDATE 
```

我选择了这个方法：`generate equals() method in Eclipse`但是......我找到了一个好方法（在 AbstractList 中）来使生成的代码更好：

```
if (!(attributes ==null ? other.attributes==null : attributes.equals(other.attributes))) 
    return false; 
```

而不是生成：

```
if (attributes == null) {
        if (other.attributes != null)
        return false;
    } else if (!attributes.equals(other.attributes))
        return false; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T06:54:24.490

我总是使用以下代码：

```
if (null == obj) return false;
if (this == obj) return true;
if (!(object instanceof MyClass)) return false;
MyClass that = (MyClass) obj;
EqualsBuilder eb = new EqualsBuilder();
eb.append(this.businessKey, that.businessKey);
return eb.isEquals(); 
```

...

我从不使用序列或 pk 之类的技术密钥，总是使用业务领域。因此，我不相信这可以通用，但必须特定于任何给定的类。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T06:48:55.120

一般来说，要实现equals()方法，我所做的是：我从Eclipse生成这些，因为Eclipse可以很好地生成hashCode、toString和equals()方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T06:47:15.200

在某种意义上，决定两个对象何时“相同”几乎完全由您自己决定......当它们包含相同的数据（完全有效的用例）时它们是否应该相等，或者更严格地说，当它们是相同的物理对象时它们应该相等在集群环境中进行比较时，内存（也有效）还是数据库中的同一行？

只要记住也要覆盖`.hashCode()`，否则您将进入一个受伤的世界:-)

（另外，来自@Andreas 和@flash 的好文章建议。）

干杯，

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T06:47:23.190

也许这会有所帮助：[实现 equals](http://www.javapractices.com/topic/TopicAction.do?Id=17)。尤其要注意 hashcode() 和 equals() 之间的密切关系。除此之外，我认为 equals() 的具体实现实际上取决于您的类设计，这意味着您何时将两个对象视为相等。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-11T06:57:52.160

看看[Java 语言规范](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3.2)是怎么说的。

> `equals`方法只是定义了对象相等的概念

除此之外，设计此方法不涉及设计模式。事实上，`equals`Java 语言设计者已经设计了该方法，您只能使用该设计。如果您对如何编写自己的 equals 方法没有信心，请考虑借助 Eclipse 之类的 IDE 来为您完成这项工作。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-11T06:48:06.793

不确定您的期望。`equals()`用于定义比较类的两个**不同**对象是否相等的标准。

通常，您会逐个比较每个属性，但很有可能并支持您仅使用较少的选定属性进行比较。

# opencv - Opencv Matrix 元素的列总和

> ID：12833657
> 
> 赞同：12
> 
> 时间：2012-10-11T06:42:38.340
> 
> 标签：opencv, matrix, sum

我需要分别计算所有列中元素的总和。

现在我正在使用：

矩阵 cross_corr 应该相加。

```
Mat cross_corr_summed;
for (int i=0;i<cross_corr.cols;i++)                                                     
    {
        double column_sum=0;
        for (int k=0;k<cross_corr.rows;k++)
        {
            column_sum +=cross_corr.at<float>(k,i);             
        }
        cross_corr_summed.push_back(column_sum);
    } 
```

问题是我的程序需要很长时间才能运行。这是导致此问题的可疑部分之一。你能建议任何可能的更快实施吗？？？

谢谢！！！

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-10-11T07:03:40.533

你需要一个[cv::reduce](http://docs.opencv.org/modules/core/doc/operations_on_arrays.html#reduce)：

```
cv::reduce(cross_corr, cross_corr_summed, 0, CV_REDUCE_SUM, CV_32S); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T18:01:41.973

如果你知道你的数据是连续的和单通道的，你可以直接访问矩阵数据：

```
int width = cross_corr.cols;
float* data = (float*)cross_corr.data;
Mat cross_corr_summed;
for (int i=0;i<cross_corr.cols;i++)
{
    double column_sum=0;
    for (int k=0;k<cross_corr.rows;k++)
    {
        column_sum += data[i + k*width];
    }
    cross_corr_summed.push_back(column_sum);
} 
```

这将比您使用`.at_<float>()`. 一般来说，我`.at()`尽可能避免使用，因为它比直接访问慢。

此外，虽然`cv::reduce()`（由 Andrey 建议）更具可读性，但我发现它在某些情况下甚至比您的实现还要慢。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-15T19:32:39.750

```
Mat originalMatrix;    
Mat columnSum;    
for (int i = 0; i<originalMatrix.cols; i++)    
     columnSum.push_back(cv::sum(originalMatrix.col(i))[0]); 
```

# android - Android如何通过用线条指向文本和图像来匹配文本和图像

> ID：12833658
> 
> 赞同：2
> 
> 时间：2012-10-11T06:42:37.657
> 
> 标签：android, android-layout

我正在尝试通过用线指向来创建将文本与适当图像匹配的应用程序。

我想创建完全相同的应用程序，如下图所示：

![我在线性布局之间创建了文本视图列表和图像网格视图。 当我单击文本视图时，我将获得文本视图的 (x1,y1) 点，当我单击图像时，我将获得图像视图的 (x2,y2) 位置。 我将此值传递给绘图类以绘制一条线。 但每次它只画一条线。](../Images/51eda7a4b4dbb4d118e067a8cc5ef5c7.png)

任何人都可以给我一个想法吗？

这是我的主要课程：

```
public class MatchActivity extends Activity {
                    ArrayAdapter<String> listadapter;
                    float x1;
                    float y1;
                    float x2;
                    float y2;
                    @Override
                    public void onCreate(Bundle savedInstanceState) {
                        super.onCreate(savedInstanceState);
                        setContentView(R.layout.main);
                        String[] s1 = { "smiley1", "smiley2", "smiley3" };
                        ListView lv = (ListView) findViewById(R.id.text_list);
                        ArrayList<String> list = new ArrayList<String>();
                        list.addAll(Arrays.asList(s1));
                        listadapter = new ArrayAdapter<String>(this,R.layout.rowtext, s1); 
                        lv.setAdapter(listadapter);
                        GridView gv = (GridView) findViewById(R.id.image_list);
                        gv.setAdapter(new ImageAdapter(this));
                        lv.setOnItemClickListener(new OnItemClickListener() {
                          public void onItemClick(AdapterView<?> arg0, View v, int arg2,
                                    long arg3){                   
                               x1=v.getX();
                               y1=v.getY();
                               Log.d("list","text positions x1:"+x1+" y1:"+y1);
                           }
                        });

                    gv.setOnItemClickListener(new OnItemClickListener() {
                        public void onItemClick(AdapterView<?> arg0, View v, int arg2,
                            long arg3){
                                  DrawView draw=new DrawView(MatchActivity.this);
                          x2=v.getX();
                          y2=v.getY();
                              draw.position1.add(x1);
                              draw.position1.add(y1);
                          draw.position2.add( x2);
                              draw.position2.add(y2);
                          Log.d("list","image positions x2:"+x2+" y2:"+y2);
                     LinearLayout ll=LinearLayout)findViewById(R.id.draw_line);  
                                    ll.addView(draw);

                               }
                            });

                    }

                        } 
```

这是我画线的绘图课：

```
 public class DrawView extends View {
                  Paint paint = new Paint();
                  private List<Float> position1=new ArrayList<Float>();
                  private List<Float> position2=new ArrayList<Float>();;

                    public DrawView(Context context) {
                        super(context);
                        invalidate();
                        Log.d("drawview","In DrawView class position1:"+position1+" position2:"+position2) ;

                    }

                    @Override
                    public void onDraw(Canvas canvas) {
                         super.onDraw(canvas);
                         Log.d("on draw","IN onDraw() position1:"+position1+" position2:"+position2);
                        assert position1.size() == position2.size();
                    for (int i = 0; i < position1.size(); i += 2) {
                        float x1 = position1.get(i);
                        float y1 = position1.get(i + 1);
                        float x2 = position2.get(i);
                        float y2 = position2.get(i + 1);
                                paint.setColor(Color.BLACK);
                        paint.setStrokeWidth(3);
                                canvas.drawLine(x1,y1, x2,y2, paint);
                        }
                    }

                } 
```

我的布局 main.xml 文件：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" 
    android:gravity="center_horizontal">

    <ListView
        android:id="@+id/text_list"
        android:layout_width="150dp"
        android:layout_height="fill_parent" 
        />

    <LinearLayout
        android:id="@+id/draw_line"
        android:layout_width="150dp"
        android:layout_height="fill_parent"
        android:background="#cccccc" />

    <GridView
        android:id="@+id/image_list"
        android:layout_width="150dp"
        android:layout_height="wrap_content"
        android:gravity="center_horizontal"
        android:stretchMode="columnWidth"
        android:verticalSpacing="10dp"
        android:columnWidth="150dp"/>

</LinearLayout> 
```

我的 Logcat 详细信息：

第一次选择文本和图像：

```
10-19 10:42:23.672: D/Text list(653): Clicking on text co-ordinates are:0.0 ,151.0
10-19 10:42:25.831: D/Image list(653): Clicking on image co-ordinates are:0.0 ,320.0
10-19 10:42:25.861: D/onDraw()(653): In onDraw() co-ordinates of text position:[0.0, 151.0] image position:[0.0, 320.0] 
```

第二次选择文字和图像：

```
10-19 10:42:58.512: D/Text list(653): Clicking on text co-ordinates are:0.0 ,302.0
10-19 10:43:00.144: D/Image list(653): Clicking on image co-ordinates are:0.0 ,0.0
10-19 10:43:00.303: D/onDraw()(653): In onDraw() co-ordinates of text position:[0.0, 151.0] image position:[0.0, 320.0] 
```

第三次选择文字和图像：

```
10-19 10:43:24.962: D/Text list(653): Clicking on text co-ordinates are:0.0 ,0.0
10-19 10:43:26.144: D/Image list(653): Clicking on image co-ordinates are:0.0 ,320.0
10-19 10:43:26.261: D/onDraw()(653): In onDraw() co-ordinates of text position:[0.0, 151.0] image position:[0.0, 320.0] 
```

提前致谢 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-16T22:10:14.867

我可能会在[自定义组件](http://developer.android.com/guide/topics/ui/custom-components.html)中执行此操作，您还可以在其中渲染图像和文本。检测触摸，并使用简单的算法来检测它们击中了什么（例如除以每个组件的高度以获得哪条线，并测试触摸击中的哪一侧（左侧或右侧）。您可能不必费心带有文本和图像边界。将连接的组件存储在列表中，并计算给定连接组件的线的坐标（或多或少与检测触摸相同，但相反）。

对你的代码的一些小注释：保留方法中方法的局部变量，Float和float会自动转换，不要使用数组来表示更好地表示为类的对象（p1.getX（）更具可读性比 p1.get(0))。

**编辑：**如果你只想在你的点之间画线，你可以这样做：

```
public void onDraw(Canvas canvas) {
  super.onDraw(canvas);
  Log.d("on draw","on draw position1:"+position1+" position2:"+position2);

  assert position1.size() == position2.size();

  for (int i = 0; i < position1.size(); i += 2) {
     float x1=position1.get(i);
     float y1=position1.get(i+1);
     float x2=position2.get(i);
     float y2=position2.get(i+1);
     paint.setColor(Color.BLACK);
     paint.setStrokeWidth(3);
     canvas.drawLine(x1,y1+75, x2+300,y2, paint);
  }
} 
```

但是现在您必须确保用户以正确的顺序单击组件。如果您在同一列上单击两次，您将遇到问题。您必须在点击处理程序中解决这个问题。我遇到的最大问题是硬编码常量 75 和 300。我没有看到你的布局，所以我不知道你在那里做了什么，但我很确定你最好使用一个组件画出一切。

**编辑：**重写

这是您的 MatchActivity 的清理版本（尽管未经测试）：

```
package com.example.mediakey;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import android.app.Activity;
import android.content.Context;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.GridView;
import android.widget.LinearLayout;
import android.widget.ListView;

public class MatchActivity extends Activity {
    ArrayAdapter<String> listadapter;
    DrawView draw;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        String[] s1 = { "smiley1", "smiley2", "smiley3" };
        ListView lv = (ListView) findViewById(R.id.text_list);
        ArrayList<String> list = new ArrayList<String>();
        list.addAll(Arrays.asList(s1));
        listadapter = new ArrayAdapter<String>(this, R.layout.rowtext, s1);
        lv.setAdapter(listadapter);
        GridView gv = (GridView) findViewById(R.id.image_list);
        gv.setAdapter(new ImageAdapter(this));

        // This should be done in the layout xml
        // I moved it here to do it only once not for every click
        // I don't know how your layout is defined but it seems as this should
        //   be the parent component of the text and image views and it's not.
        //   If it works like this I don't think you should bother with it.
        //   Otherwise post your layout file.
        LinearLayout ll= (LinearLayout) findViewById(R.id.draw_line);
        draw = new DrawView(this);
        ll.addView(draw);

        lv.setOnItemClickListener(new OnItemClickListener() {
            public void onItemClick(AdapterView<?> arg0, View v, int arg2, long arg3){
                float x1 = v.getX();
                float y1 = v.getY();
                draw.addSourcePoint(x1, y1);
                Log.d("list","text positions x1:"+x1+" y1:"+y1);
            }
        });

        gv.setOnItemClickListener(new OnItemClickListener() {
            public void onItemClick(AdapterView<?> arg0, View v, int arg2, long arg3){
                float x2 = v.getX();
                float y2 = v.getY();
                draw.addDestinationPoint(x2, y2);
                Log.d("list","image positions x2:"+x2+" y2:"+y2);
            }
        });

    }
} 
```

这是一个重写的 DrawView（也未经测试）：

```
package com.example.mediakey;

import java.util.ArrayList;
import java.util.List;

import android.content.Context;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.util.Log;
import android.view.View;

public class DrawView extends View {
    Paint paint = new Paint();
    private List<Float> position1=new ArrayList<Float>();
    private List<Float> position2=new ArrayList<Float>();;

    public DrawView(Context context) {
        super(context);
        invalidate();
        Log.d("drawview","In DrawView class position1:"+position1+" position2:"+position2) ;
    }

    @Override
    public void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        Log.d("on draw","IN onDraw() position1:"+position1+" position2:"+position2);

        assert position1.size() == position2.size();

        for (int i = 0; i < position1.size(); i += 2) {
            float x1 = position1.get(i);
            float y1 = position1.get(i + 1);
            float x2 = position2.get(i);
            float y2 = position2.get(i + 1);
            paint.setColor(Color.BLACK);
            paint.setStrokeWidth(3);
            canvas.drawLine(x1,y1, x2,y2, paint);
        }
    }

    public void addSourcePoint(float x1, float y1) {
        position1.add(x1);
        position1.add(y1);
    }

    public void addDestinationPoint(float x2, float y2) {
        position2.add(x2);
        position2.add(y2);
        invalidate();
    }
} 
```

现在您需要检查最后调用了哪个 add*Points 方法，如果相同的方法连续调用两次，您需要处理它。你需要自己解决这个问题。

# android - 在Android上打开白名单文件错误

> ID：12833663
> 
> 赞同：2
> 
> 时间：2012-10-11T06:42:59.627
> 
> 标签：android

我的应用程序抛出了很多错误消息，如下所示，但我不知道这意味着什么。这只是一行，没有更多信息。

> 10-11 13:43:47.697: E/IBINDER_HOOK(17121): 打开白名单文件错误
> 
> 10-11 13:43:47.697: E/IBINDER_HOOK(17121): 打开白名单文件错误
> 
> 10-11 13:43:47.697: E/IBINDER_HOOK(17121): 打开白名单文件错误
> 
> 10-11 13:43:47.697: E/IBINDER_HOOK(17121): 打开白名单文件错误
> 
> 10-11 13:43:47.697: E/IBINDER_HOOK(17121): 打开白名单文件错误
> 
> 10-11 13:43:47.697: E/IBINDER_HOOK(17121): 打开白名单文件错误

更新：Lenovo P700 上显示此错误（我刚刚在此设备上测试了我的应用程序）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-06T13:42:43.553

只需触摸一个文件作为 /data/data/whitelist

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-28T23:13:16.097

我像你一样解决了我的问题。不知道是不是类似。但是当我查看错误日志时，我发现了其他错误，例如“无法将 JsonObject 转换为 Json 数组”（在我的情况下，我想转换它，但我弄错了）。当我解决该错误（将 JsonObject 转换为 JSonArray）时，没有打开白名单文件错误。

# javascript - 标签会自动添加到 ckeditor 中的 html 标签中

> ID：12833672
> 
> 赞同：5
> 
> 时间：2012-10-11T06:43:44.030
> 
> 标签：javascript, ckeditor, html-editor

每当我通过 CKEditor 添加 HTML 内容时，它会自动在每个其他 html 标记的末尾附加一个“br”标记。

我怎样才能删除它？

```
CKEDITOR.config.enterMode = CKEDITOR.ENTER_BR;
CKEDITOR.config.shiftEnterMode = CKEDITOR.ENTER_P;
CKEDITOR.replace(elemId,
{
    resize_enabled: false,
    entities: false,
    basicEntities: false,
    entities_greek: false,
    entities_latin: false,
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T17:10:38.400

**不要删除它们！**

它们在那里是因为`contenteditable`Firefox 中的实现（我认为其他非 ie 浏览器需要它们在那里才能正确呈现元素，并允许将插入符号放置在其中。

CKeditor 的导出功能应该自动将它们从标记中删除，除非它们在您编辑时引起特定问题，否则我不会担心它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T17:04:09.057

如果您以字符串的形式获取 html，则只需运行 .replace('','')。如果您对要保留的 br 标记有所了解，则只需将它们替换为在解析字符串之前从未使用过的随机符号。

# apache - NodeJS 和 apache 基准测试的奇怪行为

> ID：12833673
> 
> 赞同：4
> 
> 时间：2012-10-11T06:43:44.163
> 
> 标签：apache, node.js, apachebench

我正在测试 nodejs (0.8.11)。

使用以下服务器应用程序：

```
var http = require('http');
http.createServer(function (req, res) {
    console.log('hit!');
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('Hello World\n');
}).listen(1337, '127.0.0.1');
console.log('Server running at http://127.0.0.1:1337/'); 
```

我运行了 apache 基准测试：

ab -r -v 4 'http://127.0.0.1:1337/'

我得到以下输出：

```
hit!
hit!
hit!
hit!
hit!
hit!
hit!
hit!
hit!
... (alot more) 
```

ab的输出：

```
Benchmarking 127.0.0.1 (be patient)...INFO: POST header == 
---
GET / HTTP/1.0
Host: 127.0.0.1:1337
User-Agent: ApacheBench/2.3
Accept: */*

---
LOG: header received:
HTTP/1.1 200 OK
Content-Type: text/plain
Date: Thu, 11 Oct 2012 06:40:04 GMT
Connection: close

Hello World

LOG: Response code = 200
..done

Server Software:        
Server Hostname:        127.0.0.1
Server Port:            1337

Document Path:          /
Document Length:        12 bytes

Concurrency Level:      1
Time taken for tests:   0.009 seconds
Complete requests:      1
Failed requests:        0
Write errors:           0
Total transferred:      113 bytes
HTML transferred:       12 bytes
Requests per second:    115.05 [#/sec] (mean)
Time per request:       8.692 [ms] (mean)
Time per request:       8.692 [ms] (mean, across all concurrent requests)
Transfer rate:          12.70 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        8    8   0.0      8       8
Processing:     0    0   0.0      0       0
Waiting:        0    0   0.0      0       0
Total:          9    9   0.0      9       9 
```

并且认为默认请求数不是 ab 手册中指定的 1，我尝试了：

```
ab -v 4 -n 1 -c 1 'http://127.0.0.1:1337/' 
```

我得到相同的输出（日志中有很多“命中！”）

这里发生了什么？

这是特定于节点的，我已经用我的码头应用程序尝试过同样的`ab -c 1 -n 1`方法，只有 1 次记录命中......

注意：我尝试过卷曲节点服务 - 只有 1 次“命中！” 在日志中...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-12T04:43:40.807

我也在 nodejs google 组中发布了这个。显然这是 apache / ab 的 macosx lion 版本中的一个错误。

来自 nodejs 组的原始回复：

[https://groups.google.com/d/msg/nodejs/OqVZ4zPbqp0/DitO9xkmFOUJ](https://groups.google.com/d/msg/nodejs/OqVZ4zPbqp0/DitO9xkmFOUJ)

这里也是描述问题的相关页面的[直接链接。](http://simon.heimlicher.com/articles/2012/07/08/fix-apache-bench-ab-on-os-x-lion)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T13:38:57.417

> 这里发生了什么？

每个“命中”都是新的连接。为什么从你的角度来看它看起来不对？

# c++ - C++ 迭代器：抽象类的迭代器可以实现为嵌套类吗？

> ID：12833674
> 
> 赞同：0
> 
> 时间：2012-10-11T06:43:44.827
> 
> 标签：c++, stl, iterator

我想知道是否可以将自定义迭代器实现为抽象类作为嵌入式类，并适当地重载运算符和方法。也就是说，如果它可以作为起点开始：

```
template <typename T>
class my_class {
public:
    .
    .
    class iterator {
    public:
        .
        .
    };
}; 
```

我尝试了解实现自定义迭代器的几种不同方法，但如果布局可以简化一点，会更容易掌握。现在可以在 my_class 中实现 begin()、end() 等方法以及所需的任何其他类型。

这样的实现会与 STL 算法兼容吗？我记得曾经实现过这样一个似乎可以工作的迭代器类，但我不确定它是否可以正常工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:00:59.997

没有要求在哪里定义类型。它必须可以作为*container::*`iterator`（和*container::*`const_iterator`）访问，并且没有理由不能在那里定义它。嵌套类型与其他类型一样。

# algorithm - 将绘图坐标均匀分布到 2D 和 3D 形状上 - 用于 Prezi/Jmpress.js

> ID：12833676
> 
> 赞同：0
> 
> 时间：2012-10-11T06:43:48.760
> 
> 标签：algorithm, math, graph, map, geometry

我正在尝试为一组项目绘制 X/Y 和/或 X/Y/Z 坐标，以便它们可以以特定形状布置。

我的目标：创建和定位幻灯片，以便它们可以作为特定形状放置在演示文稿画布上。画布将类似于 Prezi（我将使用 Jmpress.js 进行此操作）。

示例如下

**2D 或 X/Y 示例**

*   8 以圆形滑动
*   4 长方形或正方形的幻灯片
*   6 个 6 点菱形的幻灯片
*   10 张关于形状轮廓的幻灯片，例如脸、狗、计算机等...

**3D 或 X/Y/Z 示例**

*   15 个双螺旋形状的幻灯片
*   6张立方体形状的幻灯片

我不知道如何做数学来实现这一点。

戴夫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T23:23:02.143

对于一个圆圈，您可以按角度将其拆分。因此，您希望以 0、90、180、270、306 的角度滑动，然后以 30、60、120、150、210、240、300、330 的角度进行 1/4 角度的幻灯片……那么 2D 位置将是

(x,y) = (r*cos(theta), r*sin(theta))... 那么如果您希望它们是整数...我就将它们放在地板上。

对于其余部分，您将需要使用一组函数。

# gnu-screen - 仅自动附加到远程主机 (ssh) 上的 gnu 屏幕

> ID：12833678
> 
> 赞同：0
> 
> 时间：2012-10-11T06:43:56.293
> 
> 标签：gnu-screen, zshrc

所以我在我所有的机器上分发我的点文件。我想在我的 .zshrc 中添加以下内容

```
# Autoload screen if we aren't in it.
if [[ $STY = '' ]] then screen -xR; fi 
```

我从[你的 .zshrc 中得到了什么？](https://stackoverflow.com/questions/171563/whats-in-your-zshrc)

但是我只想在 ssh 到远程主机时附加到屏幕……如果我在本地机器上则不会。是否有一个环境变量我可以测试以查看这是 SSH 会话还是 localhost 控制台？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:01:15.047

现在我要测试 $SSH_TTY 变量，这在我尝试过的几台主机上似乎是可靠的：

```
if [[ $STY = '' && $SSH_TTY != '' ]] then screen -xR; fi 
```

# web - 如何播放 web url 音频文件 corona sdk？

> ID：12833681
> 
> 赞同：0
> 
> 时间：2012-10-11T06:44:06.283
> 
> 标签：web, lua, coronasdk, audio-streaming

我正在尝试从网络链接播放音频文件，但现在似乎无法正常工作。这些是我尝试过的代码：

```
local birdSound =  audio.loadSound("www.sound.com/birds.mp3")
audio.play(birdSound) 
```

它给出了一个错误

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-12T18:39:24.097

您无法使用 loadSound API 将远程音频文件加载到内存中，因为此函数仅用于加载本地文件。默认情况下，在项目文件夹 (system.ResourceDirectory) 中搜索该文件，但更改 baseDir 参数您也可以查看不同的本地文件夹。

因此，要播放您的远程音频文件，您应该首先通过 network.download API 在 system.DocumentsDirectory 中下载它。完成后，您可以使用 loadSound 加载它，指定正确的 baseDir。

有关 network.download API 的详细信息，请参见[此处](http://docs.coronalabs.com/api/library/network/download.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-18T08:47:06.360

使用下面的狙击手下载您的远程文件，然后将其保存到`localFilename`基本目录`basedir`：

```
local xmnetwork  = {
    last_error = nil,
    downloadHandlerInProgress = nil,
    downloadHandlerFinished = nil,
    downloadBeginHandler = nil,
    network = require("network")
}

function xmnetwork.download(url, errorHandler,beganHandler, inProgressHandler, endedHandler, localFilename, basedir)
    if( xmnetwork.network == nil) then
        xmnetwork.network = require("network")
    end

    xmnetwork.downloadHandlerInProgress = inProgressHandler
    xmnetwork.downloadHandlerFinished = endedHandler
    xmnetwork.downloadBeginHandler = beganHandler
    xmnetwork.errorHandler = errorHandler
    local function downloadListener( event )
        print("download event:" .. tostring(event))
        if ( event.isError ) then
            print( "Network error!" )
            if( xmnetwork.errorHandler) then
                xmnetwork.errorHandler(event)
            end
        elseif ( event.phase == "began" ) then
            if ( event.bytesEstimated <= 0 ) then
                print( "Download starting, size unknown" )
            else
                print( "Download starting, estimated size (in MB): " .. ( event.bytesEstimated /1024/1024))
            end
            if( xmnetwork.downloadBeginHandler) then
                xmnetwork.downloadBeginHandler(event)
            end
        elseif ( event.phase == "progress" ) then
            if(xmnetwork.downloadHandlerInProgress ) then
                xmnetwork.downloadHandlerInProgress (event)
            end
            if ( event.bytesEstimated <= 0 ) then
                print( "Download progress: " .. event.bytesTransferred )
            else
                print( "Download progress: " .. (event.bytesTransferred / event.bytesEstimated) * 100 .. "'%'")
--                log("xmnetwork.download", "downloading :" .. (event.bytesTransferred / event.bytesEstimated) * 100 .. "'%'")
            end
        elseif ( event.phase == "ended" ) then
            print( "Download complete, total bytes transferred: " .. event.bytesTransferred )
            if(xmnetwork.downloadHandlerFinished) then
                xmnetwork.downloadHandlerFinished(event)
            end
        end
    end

    local params = {}

    -- Tell network.request() that we want the "began" and "progress" events:
    params.progress = "download"

    -- Tell network.request() that we want the output to go to a file:
    params.response = {
        filename = localFilename,
        baseDirectory = basedir
    }

    xmnetwork.network.request( url, "GET", downloadListener,  params )
end 
```

# php - 如何在 PHP MySQL 中的某些设计中为特定数据的每一列获取打印选项

> ID：12833687
> 
> 赞同：0
> 
> 时间：2012-10-11T06:44:27.587
> 
> 标签：php, html

在每一列中都应该有一个打印选项。单击特定选项时，它将以某种设计或格式打印，但不是在 PHP MySQL 中一次打印所有数据。如果有人知道如何做到这一点，请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:55:32.667

据我了解，您需要打印按钮或打印链接。所以使用这两种方法

```
<input type="button" onClick="javascript_print_function">Print

<a href="javascript_print_function">Print</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:47:14.343

一种方法是让“打印”按钮调用一个只包含单行数据的新窗口，然后打印它。也许可以调用 print() onload。

尝试将所有打印按钮放在一页上，并让它从选择的特殊 print.css 文件中选择一个可能是可能的，但我从未见过这样做，听起来好像如果你有它可能会变得混乱各种页面来满足。

谷歌`multiple print css files`建议了一些这样做的方法，但我怀疑使用 div 而不是表格更容易实现。

# java - JSON字符串到对象

> ID：12833690
> 
> 赞同：0
> 
> 时间：2012-10-11T06:44:47.150
> 
> 标签：java, json

我确实有一个 **JSON 字符串请求**，它使用 JAXB 转换为数字而不是字段

```
"{\"1\":{\"3\":\"788888\",\"2\":\"12345\",\"0\":{\"0\":\"Login\",\"1\":\"xx\",\"2\":\"yy\",\"3\":\"\",\"4\":\"1\",\"5\":\"hhh\"}}}" 
```

我们得到的响应也是上述格式

有没有办法将**JSON 字符串响应**转换为对象实例应该是字段值而不是数字（键）的对象？

注意：-我在请求/响应类中有注释（JAXB）字段？

# android - 如何使用 .net WebService 从 Android 将图像保存在 Sql 数据库中？

> ID：12833691
> 
> 赞同：1
> 
> 时间：2012-10-11T06:44:46.773
> 
> 标签：android

> **可能重复：**
> [如何将图像存储在 sqlite 数据库中](https://stackoverflow.com/questions/9357668/how-to-store-image-in-sqlite-database)

[在此处输入图像描述](https://i.stack.imgur.com/XxA5h.png)我想在 android 应用程序中添加签名并使用 >net Web 服务存储在 Sql 数据库中 AnBudy 可以告诉我这是否可能？

我试过这个代码但它不起作用

```
hbitmap =  Bitmap.createBitmap (mContent.getWidth(), mContent.getHeight(),   Bitmap.Config.RGB_565);

ByteArrayOutputStream baos = new ByteArrayOutputStream(); 
hbitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos);
b=baos.toByteArray();
XpresionHome.by=b;

String image=Base64.encodeToString(by,Base64.DEFAULT); 
```

它在数据库中很重要，但是将字节转换为字符串和将字符串转换为字节的结果是不同的

# python - 用 Python 解析 HTML

> ID：12833695
> 
> 赞同：0
> 
> 时间：2012-10-11T06:44:59.067
> 
> 标签：python, html

我想使用 Python 创建一个函数来获取网站内容，例如获取网站组织内容。

在代码中，组织是东京大学：

```
<tr class="odd">
  <th>Organization:</th>
  <td>University of Tokyo</td>
</tr> 
```

如何在没有任何新安装的情况下直接获取网站内容，例如获取 [http://www.ip-adress.com/ip_tracer/157.123.22.11](http://www.ip-adress.com/ip_tracer/157.123.22.11)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T06:48:26.560

我喜欢[BeautifulSoup](http://www.crummy.com/software/BeautifulSoup/)，它可以很容易地访问 HTML 字符串中的数据。实际的复杂性取决于 HTML 的形成方式。如果 HTML 使用 'id's 和 'class'es，这很容易。如果不是，您将依赖于更静态的东西，例如“获取第一个 div，第二个列表项，...”，如果 HTML 的内容发生很大变化，这很糟糕。

要下载 HTML，我引用 BeautifulSoup 文档中的示例：

```
import urllib2
from BeautifulSoup import BeautifulSoup

page = urllib2.urlopen("http://www.icc-ccs.org/prc/piracyreport.php")
soup = BeautifulSoup(page)
for incident in soup('td', width="90%"):
    where, linebreak, what = incident.contents[:3]
    print where.strip()
    print what.strip()
    print 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T06:50:18.817

使用[BeautifulSoup](http://www.crummy.com/software/BeautifulSoup/bs4/doc/)：

```
import bs4

html = """<tr class="odd">
  <th>Organization:</th>
  <td>University of Tokyo</td>
</tr>
"""
soup = bs4.BeautifulSoup(html)
univ = soup.tr.td.getText()
assert univ == u"University of Tokyo" 
```

**编辑：**

如果您需要先阅读 HTML，请使用[`urllib2`](http://docs.python.org/library/urllib2.html)：

```
import urllib2

html = urllib2.urlopen("http://example.com/").read() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:19:35.887

您将获得一个`403 Access Forbidden error`使用`urllib2.urlopen` ，因为该网站通过检查它是否被认可的用户代理访问来过滤访问。所以这是完整的事情：

```
import urllib2
import lxml.html as lh

req = urllib2.Request("http://www.ip-adress.com/ip_tracer/157.123.22.11", headers={'User-Agent' : "Magic Browser"})
html = urllib2.urlopen(req).read()
doc=lh.fromstring(html)
print ''.join(doc.xpath('.//*[@class="odd"]')[-1].text_content().split())
>>> 
Organization:ZenithDataSystems 
```

# asp.net-mvc-3 - Asp.Net webforms 和 Asp.Net MVC 一起部署问题

> ID：12833699
> 
> 赞同：0
> 
> 时间：2012-10-11T06:45:08.013
> 
> 标签：asp.net-mvc-3, deployment, iis-7, webforms

根据我们的要求，我正在尝试将 Asp.Net Webforms 和 Asp.Net MVC 组合在一起用于混合应用程序。我指的是汉塞尔曼的[文章](http://www.hanselman.com/blog/IntegratingASPNETMVC3IntoExistingUpgradedASPNET4WebFormsApplications.aspx)。从 Visual Studio 运行时它工作正常。但是当我通过 IIS7 进行部署时，当我尝试访问使用 MVC 开发的页面时会出现问题。

它给出 500 内部服务器错误。当我尝试调试已部署的站点时，它甚至没有击中控制器，而是直接给出错误。

我找不到问题，也无法运行使用 MVC 开发的页面。

如果需要任何进一步的细节，请告诉我。

在此附上图片。![在此处输入图像描述](../Images/9697cc71ff4b91a3dc5f6a55c8d33138.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:30:54.820

我想我找到了问题所在。在部署 dll 中没有完美复制。因此，我更新了实体框架，清除所有内容并再次重新部署。有用。

谢谢。

# c - 为什么需要左值作为增量操作数错误？

> ID：12833706
> 
> 赞同：0
> 
> 时间：2012-10-11T06:45:35.077
> 
> 标签：c, increment, lvalue, decrement, operand

为什么需要左值作为增量操作数错误在***a=b+(++c++);*** ?

***只想将 'b+(c+1)' 分配给 'a' 并同时将 'C' 增加 2。***

***我是初学者只是想澄清一下“LVALUE ERROR”实际上是什么？***

```
main()
{

int a=1,b=5,c=3;

a=b+(++c++);  

printf("a=%d   b= %d   c= %d \n",a,b,c);
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T07:12:09.037

后缀增量比前缀增量绑定得更紧密，所以你想要的是这样的：

```
a = b + (++c)++; 
```

但是，这不是合法的 C，因为前缀增量的结果（就像您的示例中的后缀增量的结果）不是*lvalue*。这意味着它只是一个值；它不再引用像“c”这样的特定对象，因此尝试更改它是没有意义的。它不会有明显的效果，因为不会更新任何对象。

就个人而言，我认为在任何情况下都用两个语句来做会更清楚。

```
a = b + c + 1;
c += 2; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T07:17:23.633

LVALUE 表示不存在应该执行操作的变量。

C 文件基本上只是文本文件，它需要特定的格式，因此编译器可以理解它。

编写像 ++Variable++ 这样的东西对于编译器来说完全是无稽之谈。

您基本上可以将 ++c 想象为：

```
Var += 1;
return Var; 
```

而 c++ 是：

```
int Buf = Var;
Var += 1;
return Buf; 
```

要“修复”您的代码：

```
void main() {
    int a=1,b=5,c=3;
    a = b + (++c);  //Equals 5 + 4
    printf("a=%d   b= %d   c= %d \n",a,b, ++c);  //a = 9, b = 5, c = 5
} 
```

这样，您将获得您想要的结果，而编译器不会抱怨。

请记住，在组合操作中使用 ++c 或 c++ 时，顺序很重要。使用++c时，会使用较大的值进行运算，使用c++时，会使用旧值进行运算。

这意味着：

```
int a, c = 5;
a = 5 + ++c;  //a = 11 
```

尽管

```
int a, c = 5;
a = 5 + c++;  //a = 10 
```

因为在后一种情况下，在将 c 添加到 5 并存储在 a 中之后，c 只会是“6”。

# c++ - 将 std::function 分配给成员函数

> ID：12833707
> 
> 赞同：3
> 
> 时间：2012-10-11T06:45:53.657
> 
> 标签：c++, c++11, std-function

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T06:49:37.770

`print_num` is a non-static member function, which means that it has an implicit first argument of type `A*`. You can, for instance, pass that by using a lambda:

```
void run() { 
    auto myself = this;
    setFunction( [myself] (int i) { myself->print_num (i); } ); 
} 
```

or use `bind`, see here

[c++ Trouble casting overloaded function: <unresolved overloaded function type>](https://stackoverflow.com/questions/12294616/c-trouble-casting-overloaded-function-unresolved-overloaded-function-type/12294672#12294672)

# c# - 找不到 ILMerge 的最终合并可执行文件位置

> ID：12833711
> 
> 赞同：0
> 
> 时间：2012-10-11T06:46:04.930
> 
> 标签：c#, visual-studio, dll, ilmerge

在过去的几天里，我一直在努力将程序集合并到一个可执行文件中。这样我就可以将单个可执行文件分发给我的用户。我发现`ILMerge`除了可以做到这一点之外`ILMerge`，似乎还有其他一些工具可以做到这一点。我试过`BoxedAPP`Packer 和`SmartAssembly`. `NetShrink`似乎工作得很好，但都是付费工具。因此，我想通过`ILMerge`大量浏览和搜索 Google 以及从 StackOverflow 完成任务，我找到了解决方案。

我尝试了以下一组用于合并程序集的行

```
c:\"Program Files"\Microsoft\ILMerge\ILMerge.exe"
/lib:"C:\Windows\Microsoft.NET\Framework\v3.5"
/lib:"C:\Program Files\Microsoft Visual Studio 9.0\Common7\IDE\PublicAssemblies"
/t: winexe
/target:exe
/targetplatform:v3.5,C:\Windows\Microsoft.NET\Framework\v3.5 
/out:”MergedProduct.exe”
"$(TargetDir)Product.exe"
"$(TargetDir)CButtonLib.dll"
"$(TargetDir)Common Tools.dll'
"$(TargetDir)Core.dll"
"$(TargetDir)ProgressIndicator.dll"
"$(TargetDir)TaskScheduler.dll" 
```

我在 Build-Events > Post-Build event 命令行中使用了上面的这组行

在构建项目后，我得到了构建成功。此外，在构建应用程序时，就像我按 F5 开始调试一样运行。所以，总而言之，我确信上面的那组行是正确的，但我在任何地方都找不到输出的可执行文件（即`MergedProduct.exe`）。我也尝试使用`Release`Visual Studio 9.0 的模式，但我仍然找不到输出合并的可执行文件。

有什么很明显的我想念的吗？

另外，我可以使用合并`Product.exe.config`文件`ILMerge`吗？

任何帮助或建议将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-03T02:04:22.177

该代码块是命令行的剪辑和过去吗？我注意到您在 /out 文件名周围有花哨的引号。另外，您是否尝试将文件夹添加到 /out 文件名（例如，$(TargetDir)）？我们在构建过程中这样做以将其保存在特定的发布文件夹中。

ILMerge 将允许您合并 xml 文档，但不能合并配置文件（据我所知）。

# html - Send E-Mail through Trigger.io app

> ID：12833712
> 
> 赞同：1
> 
> 时间：2012-10-11T06:46:06.337
> 
> 标签：html, trigger.io, forge

How can I implement e-mail addresses in a Trigger.io app to (externally) open the Mail application for sending an e-mail?

The basic attribute seems not work out of the box and I didn't find anything in the official Trigger.io docs.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:24:52.173

Just using plain HTML works fine for my Trigger.io app:

```
<a href="mailto:your-email@address.com">Contact me</a> 
```

You can even add a predefined subject, just add `?subject=email-subject` at the end of the `href` attribute. Check out the [mailto syntax](http://en.wikipedia.org/wiki/Mailto "mailto syntax") for more examples.

# linux - sed 中“保持空间”和“模式空间”的概念

> ID：12833714
> 
> 赞同：103
> 
> 时间：2012-10-11T06:46:11.170
> 
> 标签：linux, sed

我对 sed 中的两个概念感到困惑：保持空间和模式空间。有人可以帮忙解释一下吗？

这是手册的一个片段：

> ```
> h H    Copy/append pattern space to hold space.
> g G    Copy/append hold space to pattern space.
> 
> n N    Read/append the next line of input into the pattern space. 
> ```

这六个命令真的让我很困惑。

* * *

## 回答 #1

> 赞同：132
> 
> 时间：2012-10-11T07:30:21.870

当 sed 逐行读取文件时，当前已读取的行被插入到*模式*缓冲区（模式空间）中。模式缓冲区就像临时缓冲区，即存储当前信息的暂存器。当您告诉 sed 打印时，它会打印模式缓冲区。

保持缓冲区/保持空间就像一个长期存储，这样您就可以捕获一些东西，存储它并在 sed 处理另一行时重新使用它。您不直接处理保持空间，而是需要将其复制或附加到模式空间，如果您想对其进行操作。例如， print 命令`p`仅打印模式空间。同样，`s`对模式空间进行操作。

这是一个例子：

```
sed -n '1!G;h;$p' 
```

（-n 选项禁止自动打印行）

这里有三个命令`1!G`：`h`和`$p`。`1!G`有一个地址，`1`（第一行），但这*意味着*`!`该命令将在除第一行之外的任何地方执行。另一方面，只会在最后一行执行。所以会发生这样的事情：*`$p`*

 *1.  第一行被读取并自动插入到模式空间中
2.  在第一行，不执行第一个命令；`h`将第一行复制到**保留**空间中。
3.  现在第二行替换了模式空间中的任何内容
4.  在第二行，首先我们执行`G`，将保持缓冲区的内容附加到模式缓冲区，并用换行符分隔。模式空间现在包含第二行、换行符和第一行。
5.  然后，`h`command 将模式缓冲区的连接内容插入到保存空间中，该空间现在保存反转的第 2 行和第 1 行。
6.  我们继续进行第三行——转到上面的第 (3) 点。

最后，在读取最后一行并将保持空间（包含所有前面的行以相反的顺序）附加到模式空间后，模式空间打印为`p`. 正如您已经猜到的那样，上面的内容完全符合`tac`命令的作用——反向打印文件。

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-08-19T19:30:15.833

@Ed Morton：我不同意你的观点。我发现`sed`非常有用和简单（一旦你理解了模式的概念并持有缓冲区）想出一种优雅的方式来进行多行 grepping。

例如，让我们看一个包含主机名和一些关于每个主机的信息的文本文件，中间有很多我不关心的垃圾。

```
Host: foo1
some junk, doesnt matter
some junk, doesnt matter
Info: about foo1 that I really care about!!
some junk, doesnt matter
some junk, doesnt matter
Info: a second line about foo1 that I really care about!!
some junk, doesnt matter
some junk, doesnt matter
Host: foo2
some junk, doesnt matter
Info: about foo2 that I really care about!!
some junk, doesnt matter
some junk, doesnt matter 
```

对我来说，一个 awk 脚本来获取带有主机名的行和相应的`info`行会比我用 sed 能做的要多一点：

```
sed -n '/Host:/{h}; /Info/{x;p;x;p;}' myfile.txt 
```

输出看起来像：

```
Host: foo1
Info: about foo1 that I really care about!!
Host: foo1
Info: a second line about foo1 that I really care about!!
Host: foo2
Info: about foo2 that I really care about!! 
```

（请注意，`Host: foo1`在输出中出现两次。）

解释：

1.  `-n`除非明确打印，否则禁用输出
2.  第一次匹配，找到该行并将其`Host:`放入保持缓冲区（h）
3.  第二次匹配，找到下一个 Info: 行，但首先用保持缓冲区交换 (x) 模式缓冲区中的当前行，并打印 (p) 该`Host:`行，然后重新交换 (x) 并打印 (p) Info: 行。

是的，这是一个简单的示例，但我怀疑这是一个常见问题，可以通过简单的 sed 单线快速处理。对于更复杂的任务，例如不能依赖给定的、可预测的序列的任务，awk 可能更适合。

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2017-06-05T19:54:30.420

尽管@January 的回答和示例很好，但解释对我来说还不够。我必须搜索和学习很多东西，直到我设法了解它的`sed -n '1!G;h;$p'`工作原理。所以我想为像我这样的人详细说明命令。

首先，让我们看看该命令的作用。

```
$ echo {a..d} | tr ' ' '\n' # Prints from 'a' to 'd' in each line
a
b
c
d
$ echo {a..d} | tr ' ' '\n' | sed -n '1!G;h;$p'
d
c
b
a 
```

`tac`它像命令一样反转输入。

`sed`逐行读取，所以让我们看看*模式空间*和每一行的*保持空间发生了什么。*当`h`命令将模式空间的内容复制到保持空间时，两个空间具有相同的文本。

```
Read line    Pattern Space / Hold Space    Command executed
-----------------------------------------------------------
a            a$                            h
b            b\na$                         1!G;h
c            c\nb\na$                      1!G;h
d            d\nc\nb\na$                   1!G;h;$p 
```

在最后一行，`$p`打印`d\nc\nb\na$`格式化为

```
d
c
b
a 
```

如果要查看每一行的模式空间，可以添加一个`l`命令。

```
$ echo {a..d} | tr ' ' '\n' | sed -n '1!G;h;l;$p'
a$
b\na$
c\nb\na$
d\nc\nb\na$
d
c
b
a 
```

[我发现观看此视频教程了解 sed 的工作原理](https://www.youtube.com/watch?v=l0mKlIswojA)非常有帮助，因为该人显示了如何逐步使用每个空间。第 4 个教程中提到了保持间隔，但如果您不熟悉`sed`.

[GNU sed 文档](https://www.gnu.org/software/sed/manual/sed.html)和[Bruce Barnett 的 Sed 教程](http://www.grymoire.com/Unix/Sed.html)也是很好的参考。*

# html - 使用容器大小在其他两个元素之间增长一个元素

> ID：12833719
> 
> 赞同：0
> 
> 时间：2012-10-11T06:46:36.680
> 
> 标签：html, css, html-table, css-float

我正在尝试创建一个布局，随着它的增长，这样做：

```
    AB
   AABB
  AAABBB
 AAA==BBB
AAA====BBB

```

事实证明这很棘手。

到目前为止，我已经尝试了两种方法，内联块和，呃，表格。我可以得到增长`A`并且`B`是正确的，但是`=`当总宽度达到设定点时我无法增长。

这就是我所拥有的，也在[http://jsfiddle.net/cd7sW/](http://jsfiddle.net/cd7sW/)。

```
<div id="page">

    <table id="container1">
        <tr><td colspan="3"><pre contenteditable="true">yada yada...</pre></td></tr>
        <tr><td id="a">&nbsp;</td><td id="middle1">&nbsp;</td><td id="b">&nbsp;</td></tr>
    </table>

    <div id="container2">
        <pre contenteditable="true">yada yada...</pre>   
        <span id="c">&nbsp;</span><span id="middle2">&nbsp;</span><span id="d">&nbsp;</span>
    </div>

</div>​

#page {
    text-align: center;
    width:100%;
}
#container1 {
    margin: 0 auto;
    border-spacing:0;
}
#a, #b {
    max-width:100px;
}
#a {
    background-color:red;
}
#b {
    background-color:blue;
}
#middle1 {
    width: 0;
}

#container2 {
    display:inline-block;
    margin: 0 auto;
}
#c, #d {
    display:inline-block;
    width:50%;
    height:1em;
    max-width:100px;
}
#c {
    background-color:red;
}
#d {
    background-color:blue;
}
#middle2 {
    display:inline-block;
    width:0;
    min-width: 0;
} 
```

您可以查看您是否在我的第二个示例（它是 contenteditable）中输入`A`并`B`正确增长和停止增长。第一个，我不能让细胞彼此独立生长。

怎么做到呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T12:01:23.927

我希望这或多或少是您的想法。这是一个 jQuery 实现。

工作示例：http: [//jsfiddle.net/uK4Vt/1/](http://jsfiddle.net/uK4Vt/1/)

**HTML**

```
<button>Grow!</button>
<div class="wrap">
    <div class="a"></div>
    <div class="middle">Peekaboo!</div>
    <div class="b"></div>
</div>​ 
```

**CSS**

```
.wrap {
    border: 1px green solid;
    width: 60px;
    height: 30px;
    margin: 0 auto;
}

.a {
    background-color: red;
    min-width: 30px;
    max-width: 90px;
    width: 50%;
    height: 30px;
    float: left;
}

.b {
    background-color: blue;
    min-width: 30px;
    max-width: 90px;
    width: 50%;
    height: 30px;
    float: right;
}

.middle {
    background-color: orange;
    overflow: hidden;
    width: 0;
    height: 30px;
    float: left;
    text-align: center;
} 
```

**Javascript**

```
$('button').click(function() {
    $(".wrap").css("width", "+=10px");
    $(".middle").css("width", $(".wrap").width() - 180 + 'px');
}); 
```

​</p>

​</p>

# android - 使用复选框使用图像按钮 onclick 将 textview 值发送到另一个活动

> ID：12833722
> 
> 赞同：1
> 
> 时间：2012-10-11T06:46:46.980
> 
> 标签：android, android-layout, android-intent, android-emulator, android-widget

我正在制作一个程序，在该程序中，我使用 3 个复选框作为项目变化以及 3 个文本视图作为其价格，现在我想知道，每当用户单击复选框 1 时，价格就会出现在 textview1 中发送到下一个活动，如第二个您选择的活动：checkbox1 $2.00，我想使用图像按钮添加到订单，请写一些简短的代码，这对我来说是怎样的。我在这里放置 main.xml 代码：-

```
 <TextView
        android:id="@+id/regular"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/var1"
        android:layout_marginLeft="40dp"
        android:text="$2.00"
        android:textColor="#343434"
        android:textSize="15dip" />

    <CheckBox
        android:id="@+id/var2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/cost"
        android:layout_toRightOf="@+id/var1"
        android:text="Small" />
           <TextView
        android:id="@+id/small"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/var2"
        android:layout_toRightOf="@+id/var1"
        android:layout_marginLeft="40dp"
        android:text="$1.00"
        android:textColor="#343434"
        android:textSize="15dip" />

    <CheckBox
        android:id="@+id/var3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/cost"
        android:layout_toRightOf="@+id/var2"
        android:text="Large" />
           <TextView
        android:id="@+id/large"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/var3"
        android:layout_toRightOf="@+id/var2"
        android:layout_marginLeft="40dp"
        android:text="$3.00"
        android:textColor="#343434"
        android:textSize="15dip" />

    <ImageButton
        android:id="@+id/add_order"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_centerVertical="true"
        android:src="@drawable/add_order" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:54:46.417

您需要将[onClickListener](http://developer.android.com/reference/android/view/View.OnClickListener.html)添加到 ImageButton。现在，如果调用 onClick 方法，则检索复选框的状态并确定商品的价格。

现在可以将此价格添加到您用于启动下一个活动的 Intent 中。使用 Intent 类的 setExtra 和 getExtra 方法，如本[教程中所述](http://developer.android.com/training/basics/firstapp/starting-activity.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T09:50:40.833

试试这个代码

```
public class MainActivity extends Activity {

private ImageButton btn;
private TextView txtSmall, txtMed,txtLarge;
private CheckBox chkSmall, chkLarge;
private String strSmall, strLarge;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    //Checkbox Declaration
    chkSmall = (CheckBox)findViewById(R.id.var2);
    chkLarge = (CheckBox)findViewById(R.id.var3);

    //TextView Declaration
    txtSmall = (TextView)findViewById(R.id.small);
    txtLarge = (TextView)findViewById(R.id.large);

    //ImageButton
    btn = (ImageButton)findViewById(R.id.add_order);

    //RESET VALUES
    strSmall = txtSmall.getText().toString();
    strLarge = txtLarge.getText().toString();

    btn.setOnClickListener(new OnClickListener() {

        public void onClick(View arg0) {

            if(chkSmall.isChecked()){
                Toast.makeText(MainActivity.this, "SMALL CHECKBOX SELECTED", Toast.LENGTH_SHORT).show();
                txtLarge.setText(txtSmall.getText().toString());
            }
            else if(chkLarge.isChecked()){
                Toast.makeText(MainActivity.this, "LARGE CHECKBOX SELECTED", Toast.LENGTH_SHORT).show();
                txtSmall.setText(txtLarge.getText().toString());
            }
           else{
                Toast.makeText(MainActivity.this, "RESET Called", Toast.LENGTH_SHORT).show();
                txtSmall.setText(strSmall);
                txtLarge.setText(strLarge);
            }

        }

    });

} 
```

此处您的 XML 代码设置为布局。

# windows-phone-7 - Farseer - 粒子不会根据边界移动/反弹

> ID：12833724
> 
> 赞同：0
> 
> 时间：2012-10-11T06:46:56.337
> 
> 标签：windows-phone-7, windows-phone-7.1, box2d, farseer

我以此为界：

```
class Maze
    {
        private Body _agentBody;
        private Sprite _box;
        private GameplayScreen _screen;
        private float _offset;

        public Maze(World world, GameplayScreen screen, Vector2 position)
        {
            _agentBody = BodyFactory.CreateBody(world, position);
            _agentBody.BodyType = BodyType.Dynamic;
            _agentBody.IsStatic = true;
            _agentBody.Restitution = 0.2f;
            _agentBody.Friction = 0.2f;

            _offset = ConvertUnits.ToDisplayUnits(1f);
        // spodek
            _agentBody.CreateFixture(new PolygonShape(PolygonTools.CreateRectangle(1f, 0.05f, new Vector2(0f, 1f), 0), 1f));
            // spodek
            _agentBody.CreateFixture(new PolygonShape(PolygonTools.CreateRectangle(1f, 0.05f, new Vector2(0f, -1f), 0), 1f));
            // pravy bok
            _agentBody.CreateFixture(new PolygonShape(PolygonTools.CreateRectangle(0.05f, 1f, new Vector2(1f, 0f), 0), 1f));
            // levy bok
            _agentBody.CreateFixture(new PolygonShape(PolygonTools.CreateRectangle(0.05f, 1f, new Vector2(-1f, 0f), 0), 1f));   
            _screen = screen;

            //GFX
            AssetCreator creator = _screen.ScreenManager.Assets;
            _box = new Sprite(creator.TextureFromVertices(PolygonTools.CreateRectangle(1f, 0.05f),
                                                           MaterialType.Blank, Color.White, 1f));
        }

        public Body Body
        {
            get { return _agentBody; }
        }

        public void Draw()
        {
            SpriteBatch batch = _screen.ScreenManager.SpriteBatch;
            batch.Draw(_box.Texture, ConvertUnits.ToDisplayUnits(_agentBody.Position), null,
                        Color.White, _agentBody.Rotation, _box.Origin + new Vector2(0f, _offset), 1f, SpriteEffects.None, 0f);
            batch.Draw(_box.Texture, ConvertUnits.ToDisplayUnits(_agentBody.Position), null,
                        Color.White, _agentBody.Rotation, _box.Origin + new Vector2(0f, -_offset), 1f, SpriteEffects.None, 0f);

            batch.Draw(_box.Texture, ConvertUnits.ToDisplayUnits(_agentBody.Position), null,
                        Color.White, _agentBody.Rotation + MathHelper.Pi / 2f, _box.Origin + new Vector2(0f, _offset), 1f, SpriteEffects.None, 0f);
            batch.Draw(_box.Texture, ConvertUnits.ToDisplayUnits(_agentBody.Position), null,
                        Color.White, _agentBody.Rotation + MathHelper.Pi / 2f, _box.Origin + new Vector2(0f, -_offset), 1f, SpriteEffects.None, 0f);
        }

    } 
```

这些是我的小粒子：

```
for (int i = 0; i < 8; i++)
            {
                _sands[i] = BodyFactory.CreateRectangle(_world, 0.05f, 0.05f, 1f);
                _sands[i].IsStatic = false;
                _sands[i].Restitution = 0.1f;
                _sands[i].Friction = 0.1f;
                _sands[i].Position = new Vector2(1.8f + i * 0.2f, 2.2f);
            }

            _sand = new Sprite(ScreenManager.Assets.TextureFromShape(_sands[0].FixtureList[0].Shape,
                                                                        MaterialType.Dots,
                                                                        Color.SandyBrown, 0.8f)); 
```

我是这样画的：

```
foreach (Body sand in _sands)
            {
                spriteBatch.Draw(_sand.Texture, ConvertUnits.ToDisplayUnits(sand.Position), null, Color.SandyBrown, sand.Rotation, _sand.Origin, 1f, SpriteEffects.None, 0f);
            }
_maze.Draw(); 
```

但我不明白为什么如果我用边界旋转，那么为什么粒子仍然存在。我尝试改变粒子的恢复，当有 1f 时它们恢复（弹跳）好了，我可以用边界旋转，它们从新的边界位置恢复，但是当我有像上面的粒子这样的设置时，那些在边界内的设置他们停在底部边界，其他人则完全倒下。所以在开始后我有第一张图像，在我用边框旋转后我得到第二张图像。我做错了什么？为什么当我更改恢复原状时，它们会以 0.2 反弹，但它们不是？

![开始后](../Images/dcdb93b361bbe5adf16c3e9ffb191795.png) ![尝试带边框旋转](../Images/a63761e167a8e8c37a7b8adc4e2b896f.png)

**编辑**：迷宫构造函数中的新行：

```
agentBody = BodyFactory.CreateBody(world, position);
            _agentBody.BodyType = BodyType.Dynamic;
            _agentBody.IgnoreGravity = true;
            _agentBody.Restitution = 0.1f;
            _agentBody.Friction = 1f;

            _offset = ConvertUnits.ToDisplayUnits(1.5f);

            FixtureFactory.AttachRectangle(3f, 0.1f, 1f, new Vector2(0, 1.55f), _agentBody);
            FixtureFactory.AttachRectangle(3f, 0.1f, 1f, new Vector2(0f, -1.55f), _agentBody);
            FixtureFactory.AttachRectangle(width, 3f, 1f, new Vector2(-1.55f, 0f), _agentBody);
            FixtureFactory.AttachRectangle(width, 3f, 1f, new Vector2(1.55f, 0f), _agentBody); 
```

这是它在调试视图中的样子：

![带有调试视图的最新外观](../Images/b4c6502aa4fd9c5568bdc1a3af14d70f.png)

随身体转动：

```
public override void HandleInput(GameTime gameTime, InputState input)
{
    if (input == null)
        throw new ArgumentNullException("input");

    // Read in our gestures
    foreach (GestureSample gesture in input.Gestures)
    {
        if (gesture.GestureType == GestureType.HorizontalDrag)
        {
            if (gesture.Delta.X < 0)
            {
                _maze.Body.Rotation += 0.02f;
            }
            else if (gesture.Delta.X > 0)
            {
                _maze.Body.Rotation -= 0.02f;
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T14:50:02.540

一旦停止移动，小粒子体可能正在睡觉。它们周围的框架是一个静态的物体，所以引擎不希望它移动，但你正在移动它。在这种情况下，小粒子体不会醒来。

您将需要设置小粒子体以使其无法休眠，或者使它们周围的框架成为动态或运动体。作为一般规则，如果一个物体要移动，不要让它成为一个静止的物体。

# youtube - YouTube URL 参数问题。YouTube 不使用 HTTP 范围

> ID：12833725
> 
> 赞同：1
> 
> 时间：2012-10-11T06:46:58.057
> 
> 标签：youtube, youtube-api

我想了解 YouTube 视频的所有参数，因为 YouTube 现在不使用 HTTP 范围元素，而是在其 URL 中使用其自己的范围参数，因此我无法使用 Wireshark 进行会话，因为我看到了这么多 HTTP 200可以使用 video/x-flv，因此我的播放器在读取 HTTP 响应及其范围时无法关联它们。以下是 YouTube 为单个视频发送的示例 URL。是否也有任何可用的文档？

GET /videoplayback?algorithm=throttle-factor&burst=40&cp=U0hTTldOVF9FUUNOM19PSFhIOnBNNjJuUGVsZDZU&expire=1349736707&factor=1.25&fexp=922401%2C920704%2C912806%2C900711%2C913546%2C913556%2C925109%2C919003%2C920201%2C912706%2C900816&id=ee88421fc6a3f768&ip=90.84.144.49&ipbits=8&itag= 34&keepalive=yes&key=yt1&ms=au&mt=1349713452&mv=m&newshard=yes& ***range=13-1781759*** &signature=84690C3B43F6FFBDD69E0E7009D0A6436946D642.904ADA59891696B5D1411665853784438D9E35D4&source=youtube&sparams=algorithm%2Cburst%2Ccp%2Cfactor%2Cid%2Cip%2Cipbits%2Citag%2Csource%2Cupn%2Cexpire&sver=3&upn= fc55lw1im0s HTTP/1.1

GET /videoplayback?algorithm=throttle-factor&burst=40&cp=U0hTTldOVF9FUUNOM19PSFhIOnBNNjJuUGVsZDZU&expire=1349736707&factor=1.25&fexp=922401%2C920704%2C912806%2C900711%2C913546%2C913556%2C925109%2C919003%2C920201%2C912706%2C900816&id=ee88421fc6a3f768&ip=90.84.144.49&ipbits=8&itag= 34&keepalive=yes&key=yt1&ms=au&mt=1349713563&mv=m&newshard=yes& ***range=10690560-12472319*** &signature=84690C3B43F6FFBDD69E0E7009D0A6436946D642.904ADA59891696B5D1411665853784438D9E35D4&source=youtube&sparams=algorithm%2Cburst%2Ccp%2Cfactor%2Cid%2Cip%2Cipbits%2Citag%2Csource%2Cupn%2Cexpire&sver=3&upn= fc55lw1im0s&redirect_counter=1&cms_redirect=是 HTTP/1.1

GET /videoplayback?algorithm=throttle-factor&burst=40&cp=U0hTTldOVF9FUUNOM19PSFhIOnBNNjJuUGVsZDZU&expire=1349736707&factor=1.25&fexp=922401%2C920704%2C912806%2C900711%2C913546%2C913556%2C925109%2C919003%2C920201%2C912706%2C900816&id=ee88421fc6a3f768&ip=90.84.144.49&ipbits=8&itag= 34&keepalive=yes&key=yt1&ms=au&mt=1349713452&mv=m&newshard=yes& ***range=12472320-14254079*** &signature=84690C3B43F6FFBDD69E0E7009D0A6436946D642.904ADA59891696B5D1411665853784438D9E35D4&source=youtube&sparams=algorithm%2Cburst%2Ccp%2Cfactor%2Cid%2Cip%2Cipbits%2Citag%2Csource%2Cupn%2Cexpire&sver=3&upn= fc55lw1im0s HTTP/1.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T14:54:27.403

这类事情没有文档，从开发人员的角度来看，视频流通常被认为是“黑匣子”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-16T22:27:56.923

对于您的问题，请参阅此[线程](http://squid-web-proxy-cache.1019090.n4.nabble.com/anyone-knows-some-info-about-youtube-quot-range-quot-parameter-td4584388.html)。

Youtube 流媒体作品提供由范围参数控制的 1.7MB 块片段，表示 [开始字节]-[结束字节]。

我也在[这里](https://stackoverflow.com/questions/14365272/is-begin-param-dead-in-youtubes-c-youtube-com-videoplayback)质疑类似的问题。

# objective-c - 我可以在运行时从文本文件创建一个 Objective-C 类吗？

> ID：12833727
> 
> 赞同：7
> 
> 时间：2012-10-11T06:47:05.187
> 
> 标签：objective-c, class, objective-c-runtime, compile-time

我想在运行时从文件创建一个 Objective C 类。因此，例如，我有一个目标 c 应用程序，然后我想将它指向一个文本文件（或一个 .h .m 对，无论什么都可以），然后让应用程序解析文本文件并在运行时创建类（Class no目的）。当然，我会编写解析器和所有我想知道的东西是否可能。我读了这两篇文章：

[http://www.mikeash.com/pyblog/friday-qa-2010-11-6-creating-classes-at-runtime-in-objective-c.html](http://www.mikeash.com/pyblog/friday-qa-2010-11-6-creating-classes-at-runtime-in-objective-c.html)

[http://www.mikeash.com/pyblog/friday-qa-2010-11-19-creating-classes-at-runtime-for-fun-and-profit.html](http://www.mikeash.com/pyblog/friday-qa-2010-11-19-creating-classes-at-runtime-for-fun-and-profit.html)

它显示了如何在运行时创建一个目标 C 类，但它是使用在编译时定义的 C 函数来完成的。如果我能找到一种方法来使用字符串来定义完美的函数，因为这样我就不必在编译时定义它们了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-24T10:11:12.333

这就是所谓的反射式编程。我猜 Obj-C 没有代码评估支持，因为它不是一种脚本语言，所以 Obj-C 的反射概念是非常有限的。另外，在运行时，编译器已经将代码翻译成 Obj-C clang 代码，仅仅反向翻译字节码并重新编译它是一项非常耗时的工作

对于 Obj-C 反射，您可以参考这些答案

*   建立一个类： [按名称创建objective-c类实例？](https://stackoverflow.com/questions/1174093/create-objective-c-class-instance-by-name)
*   实现一个方法： [Objective-C，我如何在另一个类中连接一个方法](https://stackoverflow.com/questions/3429891/objective-c-how-can-i-hook-up-a-method-in-another-class)
*   更改对象的类： [Objective-C：如何在运行时更改对象的类？](https://stackoverflow.com/questions/8512793/objective-c-how-to-change-the-class-of-an-object-at-runtime)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-12T16:16:47.530

当然。完全有可能。

我建议从[Objective-C 支持开始，](http://clang.llvm.org)因为它包括一个完整的 Objective-C 解析器和代码生成器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-05T17:42:03.480

看看我的 github 项目 cocoa-interprreter 它做了你想要的一部分。

它需要一个文本文件并在运行时编译它.. 然后使用 NSTask 运行生成的可执行文件。更改它很容易，因此使用 NSBundle 将二进制文件加载到自己的进程中

[https://github.com/Daij-Djan/cocoa-interpreter](https://github.com/Daij-Djan/cocoa-interpreter)

# c++ - 防止链接 Cortex-M4 的不必要的 STDLIBC++ 例程

> ID：12833728
> 
> 赞同：1
> 
> 时间：2012-10-11T06:47:07.090
> 
> 标签：c++, arm, gnu, std, cortex-m3

我正在尝试为 cortex-M4 设备创建一个裸机 c++ 应用程序。我的工具链是 ARM-GCC

我注意到代码大小增加了 300kb，是可用闪存大小的 30%。标准库中有一大堆东西被链接到臃肿的 TEXT、DATA 和 BSS 区域。

这可以减少吗？

该应用程序是古老的blinky程序，具有： - Blinky.c 包含 C 例程，用于在 while 循环中切换端口引脚 - Main.cpp 包含 main() 和带有构造函数的简单类 - 执行程序的设备启动文件加载并将控制权交给 main()

c 文件使用 gcc 编译，而 cpp 使用 g++ 编译。链接器通过 g++ 调用以自动链接到 stdlibc++（假设只有来自 stdlibc++ 的必要对象将被链接）。

我什至有 -fno-rtti 和 -fno-exceptions 作为 g++ 的编译选项，但节省的钱是微不足道的。

顺便说一句，生成的二进制工作文件。

这是 Main.cpp

```
 #include <iostream>

 using namespace std;

 extern "C" void Toggle_Pin(uint8_t Speed);

 void *__dso_handle = (void *)NULL;
 void __cxa_atexit(void (*Arg)(void *), void *Arg2, void *Arg3){}
 void  __cxa_guard_acquire(void){}
 void  __cxa_guard_release(void){}
 void  __aeabi_atexit(void (*Arg)(void *), void *Arg2, void *Arg3){}

 class Computer
 {
   public:
uint32_t aa;
uint32_t bb;

Computer();
 };

 Computer::Computer()
  {
    aa=0;
    bb=0;
    for(uint8_t i=0;i < 10; i++)
    {
     Toggle_Pin((uint8_t)100);
    }
  }

 Computer a;

 int main(void)
  {
    a.aa = 10;
    Toggle_Pin();
  } 
```

这些是我提供给 g++ 的编译选项。

```
 -O0 -ffunction-sections -Wall -fno-rtti -fno-exceptions -mfloat-abi=softfp -Wa,-adhlns="$@.lst" -c -fmessage-length=0 -mfpu=fpv4-sp-d16 -MMD -MP -MF"$(@:%.o=%.d)" -MT"$(@:%.o=%.d) $@" -mcpu=cortex-m4 -mthumb -g3 -gdwarf-2 -o "$@" "$<" 
```

提供给 g++ 的链接器选项：

```
 -T LinkerScript.ld" -nostartfiles -L"Path to libraries" -Wl,-Map,"Project.map" -mcpu=cortex-m4 -mthumb -g3 -gdwarf-2 -o "Project.elf" "@makefile.rsp" $(USER_OBJS) $(LIBS) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T08:37:16.637

删除部分

```
#include <iostream>
using namespace std; 
```

你不需要它。我猜它添加了额外的全局对象/变量，并且可能会在二进制中留下一些定义。

也使用[-Os](http://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html)

> > -Os
> > 
> > 优化大小。-Os 启用通常不会增加代码大小的所有 -O2 优化。它还执行旨在减少代码大小的进一步优化。

# css - 让 div 填满剩余的空间

> ID：12833730
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:47:09.993
> 
> 标签：css, html

[小提琴](http://jsfiddle.net/p_h_/FR5Ud/22/)

我想有多个带边距的 div，在它们下面有一个填充固定大小的父 div 提供的其余空间。

编辑：对不起，我应该提到容器 div 的大小是固定的，根本不应该改变。

EDIT2：[解决方案](http://jsfiddle.net/p_h_/FR5Ud/32/)。我曾尝试过溢出：隐藏但误解了它并将其放在子元素而不是父元素上。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:59:05.427

希望这是你想要的[http://jsfiddle.net/FR5Ud/33/](http://jsfiddle.net/FR5Ud/33/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:51:22.950

使用`min-height`以使您的页面基本外观保持不变，并根据内容增加

```
#container {
    float: left;
    background-color: green;
    width: 300px;
    min-height: 300px; height
    border-color: violet;
    border-style: solid;
    border-width: 10px;
}

#content {
    background-color: blue;
    min-height: 100px; height:auto
}

#toFillUp {
    background-color: red;
    /* that's what it should end up looking like.
    However, what if the size of #content changes?
    What if there are more content divs before that?
    What if those have margins? */
    min-height: 200px; height:auto
}​ 
```

演示[http://jsfiddle.net/FR5Ud/25/](http://jsfiddle.net/FR5Ud/25/)

# android - 如何下载到Android 4.0版源代码的简单方法

> ID：12833732
> 
> 赞同：0
> 
> 时间：2012-10-11T06:47:13.987
> 
> 标签：android

我想免费下载 android 4.0 版源代码，以便在我自己的 android 系统中使用，你能告诉我如何轻松下载此代码。

以及需要下载的要求。

# ruby - 在 Ruby 中重新格式化一串数字

> ID：12833738
> 
> 赞同：1
> 
> 时间：2012-10-11T06:47:35.663
> 
> 标签：ruby, string, formatting

在我们的应用程序中，我们有一串数字（存储为字符串）用于注册号（澳大利亚商业编号或澳大利亚公司编号，类似于 SSN），例如：

```
"98123123999" 
```

当我们在我们的 Web 应用程序中显示这些信息时，能够重新格式化数字以使其更具可读性会很好，例如：

```
98 123 123 999 
```

在红宝石中，我迄今为止最好的解决方案是：

1.  检查长度
2.  使用切片运算符格式化字符串：`[a[0,2], a[2,3], a[5,3], a[8, 3]].join(" ")`

然而，这闻起来并不正确。

做看似如此简单的事情的最佳方法是什么？

编辑：我还应该注意，数字字符串可以以 0 为前缀（例如“012345678901”），因此无法将其解析为整数然后使用格式字符串。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T07:03:03.880

利用

```
a = "98123123999"
=> "98123123999" 
b = a.split('').insert(2, ' ').insert(6, ' ').insert(10, ' ')
=> "9", "8", " ", "1", "2", "3", " ", "1", "2", "3", " ", "9", "9", "9"] 
b = a.split('').insert(2, ' ').insert(6, ' ').insert(10, ' ').join
=> "98 123 123 999" 
```

或者如果你想修改字符串

```
a = "98123123999"
=> "98123123999" 
b = a.insert(2, ' ').insert(6, ' ').insert(10, ' ')
=> "98 123 123 999" 
a
=> "98 123 123 999" 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-11T07:11:38.893

对于更通用的观点，如果您使用 rails，则可以使用[`number_with_delimiter(number, delimiter=",", separator=".")`](http://ap.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html#M000369).

否则，也许只是根据它的[源代码](https://gist.github.com/484764)写一些东西。

```
number.to_s.gsub!(/(\d)(?=(\d{3})+(?!\d))/, "\\1#{' '}")

>> 1234567890.to_s.gsub!(/(\d)(?=(\d{3})+(?!\d))/, "\\1#{' '}")
=> "1 234 567 890" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:01:35.653

尝试这个：

```
def format_digit(s, acc="")
  if s.size > 3
    new_acc = s[-3..-1] + " " +acc
    format_digit(s[0...-3], new_acc)
  else
    s + " " + acc
  end
end

s = "98123123999"
puts format_digit(s) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T08:06:21.113

不确定这是否适合您的需求，因为两位数的组在末尾而不是开头...

```
"98123123999".scan(/.{1,3}/).join(' ') #=> "981 231 239 99" 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-11T07:13:40.927

```
str           = "098123123999"
formatted_arr = []

if str.length % 3 == 0
    (str.length/3).times { formatted_arr << str.slice!(0..2) }
else
    formatted_arr << str.slice!(0..str.length % 3 - 1)
    (str.length/3).times { formatted_arr << str.slice!(0..2) }
end

puts formatted_arr.join(" ") # 098 123 123 999 
```

# c# - 进程/任务完成后线程未退出

> ID：12833741
> 
> 赞同：0
> 
> 时间：2012-10-11T06:48:03.703
> 
> 标签：c#, asp.net, webforms

在代码中发现问题。似乎代码或线程（我认为）没有正确关闭。
WebDev.WebServer40.EXE 仍在运行并使用我计算机的所有内存。即使在我停止 Visual Studio（停止调试）之后，我也可以看到任务管理器的内存使用量在增加。
我需要使用任务管理器结束任务来停止进程。该代码在页面加载时执行，它假设在任务完成但未完成时终止/关闭所有操作。怎么解决问题？？我应该添加/删除什么？

```
namespace test
{
    public partial class liveRecording : System.Web.UI.Page
    {
    //video codec
    AVIWriter writer = new AVIWriter("MSVC");  

    protected void Page_Load(object sender, EventArgs e)
    {
        string streamingSource = "http://xxx.sample.com:85/snapshot.cgi";
        string login = "login";
        string password = "password";

        JPEGStream JPEGSource = new JPEGStream(streamingSource);
        JPEGSource.Login = login;
        JPEGSource.Password = password;
        JPEGSource.NewFrame += new NewFrameEventHandler(video_NewFrame);
        JPEGSource.Start();
    }

    public bool IsRecording = false;
    int width = 0;
    int height = 0;

    Queue<Bitmap> frames = new Queue<Bitmap>(); //Queue that store frames to be written by the recorder thread

    private void video_NewFrame(object sender, NewFrameEventArgs eventArgs) //event handler for NewFrame
    {
        //get frame from JPEGStream source
        //Bitmap image = eventArgs.Frame;
        Bitmap image = (Bitmap)eventArgs.Frame.Clone(); //get a copy of the Bitmap from the source

        width = image.Width;
        height = image.Height;

        if (IsRecording)
        {
            //enqueue the current frame to be encoded to a video file
            frames.Enqueue((Bitmap)image.Clone());
        }

        if (!IsRecording)
        {
            IsRecording = true;
            Thread th = new Thread(DoRecording);
            th.Start();
        }
    }

    private void DoRecording()
    {
        //writer.FrameRate = 5;
        string SavingPath = (Server.MapPath("~\\video\\")); 
        string VideoName = "ICS_" + String.Format("{0:yyyyMMdd_hhmmss}", DateTime.Now) + ".avi";
        writer.Open(SavingPath + VideoName, width, height);

        DateTime start = DateTime.Now;
        while (DateTime.Now.Subtract(start).Seconds < 30)
        {
            if (frames.Count > 0)
            {
                Bitmap bmp = frames.Dequeue();
                writer.AddFrame(bmp);//add frames to AVI file
            }
        }
        writer.Close();//close
     }
  }
} 
```

# c++ - C++ 类中未实例化的静态成员变量导致的未定义引用

> ID：12833743
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:48:07.900
> 
> 标签：c++

```
class User
{
public:
    User(char *name,char *pass)
    {
        strncpy(username[num],name,strlen(name));
        username[num][strlen(name)]='\0';
        for(int i=0;i<strlen(pass);i++)
            password[num][i]=(i+pass[i])%256;
        password[num][strlen(pass)+1]='\0';
        num++;
    }
    static void AddUser(char *name,char *pass)
    {
        strncpy(username[num],name,strlen(name));
        username[num][strlen(name)]='\0';
        for(int i=0;i<strlen(pass);i++)
            password[num][i]=(i+pass[i])%256;
        password[num][strlen(pass)+1]='\0';
        num++;
    }
    static int loggin(char *name,char *pass)
    {
        for(int i=0;i<num;i++)
            if(strcmp(username[i],name)==0)
            {
                for(int j=0;pass[j]!='\0';j++)
                    if(password[i][j]!=(j+pass[j])%256)
                        return -1;
                return i;
            }
        return -1;
    }
private:
    static char username[10][20];
    static char password[10][20];
    static int num;
};

int User::num=0;

int main()
{
    char name[20],pass[20];
    User u1("LiWei","liwei99");
    u1.AddUser("ChenHanfu","20090911");
    User::AddUser("Zhanggaolin","198845");
    cout<<"Input username:";
    cin>>name;
    cout<<"Input password:";
    cin>>pass;
    if(User::loggin(name,pass)>=0)
        cout<<"success login!"<<endl;
    else
        cout<<"login fail!"<<endl;
    return 0;
} 
```

以上是我的 cpp 文件的代码。当我编译它时，

```
Compiling source file(s)...
    4.cpp
    4.cpp: In constructor `User::User(char*, char*)':
    4.cpp:13: warning: comparison between signed and unsigned integer expressions
    4.cpp: In static member function `static void User::AddUser(char*, char*)':
    4.cpp:22: warning: comparison between signed and unsigned integer expressions
    Linking...
    A:\Homework\CPP\Stu\Debug\4.o: In function `ZN4UserC1EPcS0_':
    A:\Homework\CPP\Stu\4.cpp:(.text$_ZN4User6logginEPcS0_[User::loggin(char*, char*)]+0x2b): undefined reference to `User::username'
    A:\Homework\CPP\Stu\4.cpp:(.text$_ZN4User6logginEPcS0_[User::loggin(char*, char*)]+0x65): undefined reference to `User::password'
    A:\Homework\CPP\Stu\4.cpp:(.text$_ZN4User7AddUserEPcS0_[User::AddUser(char*, char*)]+0x2d): undefined reference to `User::username'
    A:\Homework\CPP\Stu\4.cpp:(.text$_ZN4User7AddUserEPcS0_[User::AddUser(char*, char*)]+0x59): undefined reference to `User::username'
    A:\Homework\CPP\Stu\4.cpp:(.text$_ZN4User7AddUserEPcS0_[User::AddUser(char*, char*)]+0x8b): undefined reference to `User::password'
    A:\Homework\CPP\Stu\4.cpp:(.text$_ZN4User7AddUserEPcS0_[User::AddUser(char*, char*)]+0xf2): undefined reference to `User::password'
    A:\Homework\CPP\Stu\4.cpp:(.text$_ZN4UserC1EPcS0_[User::User(char*, char*)]+0x2d): undefined reference to `User::username'
    A:\Homework\CPP\Stu\4.cpp:(.text$_ZN4UserC1EPcS0_[User::User(char*, char*)]+0x59): undefined reference to `User::username'
    A:\Homework\CPP\Stu\4.cpp:(.text$_ZN4UserC1EPcS0_[User::User(char*, char*)]+0x8b): undefined reference to `User::password'
    A:\Homework\CPP\Stu\4.cpp:(.text$_ZN4UserC1EPcS0_[User::User(char*, char*)]+0xf2): undefined reference to `User::password'
    collect2: ld returned 1 exit status

    Student.exe - 10 error(s), 2 warning(s) 
```

错误是由类中未实例化的静态成员变量引起的，所以我想知道如何解决这个问题。

**解决方案：** [C++ 静态成员变量及其初始化](https://stackoverflow.com/questions/4547660/c-static-member-variable-and-its-initialization)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:51:28.800

您应该以与您相同的方式显式实例化静态变量`num`：

```
private:
    static char username[10][20];
    static char password[10][20];
    static int num;
};

int User::num=0;
char User::username[10][20];
char User::password[10][20]; 
```

# asp.net - 在文本框内加载图像

> ID：12833747
> 
> 赞同：0
> 
> 时间：2012-10-11T06:48:40.283
> 
> 标签：asp.net, ajax, textbox

我注意到，在一些网站上，当一个人完成输入数据时，一些文本框会在其中旋转“加载”图像。

例如：在注册页面上，当用户输入昵称时。当它们不是时，系统会检查数据库以查看它是否是唯一的。

此时，文本框在其内部显示一个旋转加载器，然后如果名称有效或无效，则显示一个勾号或十字图像（替换加载器）。

我将如何实施呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:51:46.447

您必须删除文本框的所有默认样式，并使用背景图像和其他样式自己重建它。此外，您需要实现 AJAX 来处理对数据库的任何检查。以这种格式回答并不容易，但我建议使用 FireBug 来探索您喜欢的网站，看看他们做了什么。

编辑：

这不是您正在寻找*的*，但这可能会有所帮助。我添加了一堆自定义样式到一个文本框和一个小 JS 来显示/隐藏 AJAX 微调器，希望这会让你成为其中的一部分。

![在此处输入图像描述](../Images/b5edbf405442d659fc209d3997b1fa3e.png)

HTML：

```
<div id="search_box">
    <input id="txt_search" type="text" />
    <img src="/images/btn_submit.png" alt="Submit" id="btn_search" />
</div> 
```

CSS：

```
#search_box {background:url(/images/txt_main.png) 0 0 no-repeat;height:40px;margin:0 auto;position:relative;width:386px;}
#search_box input 
{
    background:none;
    border:0;
    font-family:Tahoma,Arial,Helvetica,sans-serif;
    font-size:20px;
    line-height:20px;
    margin:2px 0 0 1px;
    outline:none;
    padding:6px;
    width:330px;
    -webkit-appearance:none;
    -webkit-border-radius:0;
}
#search_box img {float:right;margin:5px 6px 0 0;} 
```

编辑：

附加图像。

![在此处输入图像描述](../Images/65f79e91413a81d3e10715cf0266741b.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T12:15:15.807

**基于@TrueDevelopment 的回答**

```
<div id="Div1" class="styleDivLoader">
     <asp:TextBox ID="txtWebsite" runat="server" CssClass="styleTextBoxNone" AutoPostBack="true" OnTextChanged="txtWebsite_TextChanged" />
     <asp:Image ID="imgWebsiteLoader" runat="server" CssClass="styleImageTextBox" Visible="False" />
     <asp:Label ID="lblWebsiteTitle" runat="server" CssClass="styleLabelWatermark"></asp:Label>
</div> 
```

然后

```
.styleDivLoader {
    background: white;
    padding: 1px;
    border-radius: 5px 5px;
    width: 446px;
    position: relative;
    border: 1px solid darkgrey;
}

.styleTextBoxNone {
    border: none;
    border-right: 1px solid darkgrey;
    font-size: 15px;
    padding-left:10px;
    padding-right:10px;
    height: 30px;
    width: 260px;
    border-radius: 4px 4px;
    -webkit-appearance:none;

}

.styleImageTextBox {
    margin-bottom: -2px;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:30:56.800

这是一个简单的例子：

```
 <%@ Page Language="C#" AutoEventWireup="true" CodeBehind="Spinning.aspx.cs" Inherits="WebApplication1.Spinning" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#namebox").blur(function () {
                if ($(this).val().length > 0) {
                    $("#namebox").addClass("spinnerLoader");
                    $.ajax({
                        type: "POST",
                        url: "/Spinning.aspx/CheckName",
                        data: "{name:'" + $(this).val() + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#namebox").removeClass("spinnerLoader");
                            if (msg.d == "ok") {
                                $("#namebox").addClass("ok");
                            }
                            else {
                                $("#namebox").addClass("error");
                            }
                        },
                        error: function (jqXHR, textStatus, errorThrown) {
                            alert(textStatus);
                        }
                    });
                } else {
                    $("#namebox").removeClass("spinnerLoader");
                }
            });
        });
    </script>
    <style type="text/css">
        .spinner
        {
            background-position: right;
            background-repeat: no-repeat;
        }
        .spinnerLoader
        {
            background-image: url(spinner.gif);
        }
        .ok
        {
            background-image: url(accept.png);
        }
        .error
        {
            background-image:url(error.png);
        }
    </style>
</head>
<body>
    <form id="form1" runat="server">
    <div>
        <input type="text" class="spinner" id="namebox" />
    </div>
    </form>
</body>
</html> 
```

javascript在文本框失去焦点时处理该事件，然后使用ajax在页面中调用页面方法，后面的代码如下所示：

```
using System;
using System.Web.Script.Services;
using System.Web.Services;

namespace WebApplication1
{
    public partial class Spinning : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {

        }

        [WebMethod]
        [ScriptMethod]
        public static string CheckName(string name)
        {
            if (name.Equals("test"))
                return "ok";

            return "fail";
        }
    }
} 
```

它将检查输入的值，如果是测试则返回 ok，否则返回失败。希望这能有所帮助。

# ios - 如何以编程方式截取屏幕截图以及打印在上面的当前日期？

> ID：12833751
> 
> 赞同：0
> 
> 时间：2012-10-11T06:48:58.697
> 
> 标签：ios, ipad

我以编程方式为 xcode 中的滚动视图截取了屏幕截图。但我面临的问题是，我需要截取屏幕截图以及其中的当前日期。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:54:19.127

这是您可以将文本添加到图像的方法。用日期作为字符串试试这个。截取屏幕截图后，将其传递给以下方法并使用输出图像。为方便起见，修改以下方法。

```
//Add text to UIImage
-(UIImage *)addText:(UIImage *)img text:(NSString *)text1{
    int w = img.size.width;
    int h = img.size.height; 
    //lon = h - lon;
    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
    CGContextRef context = CGBitmapContextCreate(NULL, w, h, 8, 4 * w, colorSpace, kCGImageAlphaPremultipliedFirst);

    CGContextDrawImage(context, CGRectMake(0, 0, w, h), img.CGImage);
    CGContextSetRGBFillColor(context, 0.0, 0.0, 1.0, 1);

    char* text = (char *)[text1 cStringUsingEncoding:NSASCIIStringEncoding];// "05/05/09";
    CGContextSelectFont(context, "Arial", 18, kCGEncodingMacRoman);
    CGContextSetTextDrawingMode(context, kCGTextFill);
    CGContextSetRGBFillColor(context, 255, 255, 255, 1);

    //rotate text
    CGContextSetTextMatrix(context, CGAffineTransformMakeRotation( -M_PI/4 ));

    CGContextShowTextAtPoint(context, 4, 52, text, strlen(text));

    CGImageRef imageMasked = CGBitmapContextCreateImage(context);
    CGContextRelease(context);
    CGColorSpaceRelease(colorSpace);

    return [UIImage imageWithCGImage:imageMasked];
} 
```

[资源](http://iphonesdksnippets.com/post/2009/05/05/Add-text-to-image-%28UIImage%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:52:07.303

截屏前放一个当前日期标签，截屏后去掉。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T08:00:34.630

或者您可以使用 EXIF 元数据来记录日期（它可能已经存在）。不过，我想图像中的嵌入日期更难伪造。

# c++ - 按 ID 命名的音频设备名称（waveout c++）

> ID：12833754
> 
> 赞同：1
> 
> 时间：2012-10-11T06:49:14.713
> 
> 标签：c++, c, winapi, waveout

我需要通过 ID 发现音频设备的名称。我使用 WaveOut 函数。请帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:03:28.263

这是一个关于如何枚举系统上的 waveIn 和 waveOut 设备的示例：

[http://blogs.msdn.com/b/matthew_van_eerde/archive/2012/03/13/sample-how-to-enumerate-wavein-and-waveout-devices-on-your-system.aspx](http://blogs.msdn.com/b/matthew_van_eerde/archive/2012/03/13/sample-how-to-enumerate-wavein-and-waveout-devices-on-your-system.aspx)

因此，您只需比较所需的设备 ID 并获取设备名称即可。

# php - 如何在会话中获取 jquery id

> ID：12833756
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:49:18.133
> 
> 标签：php, jquery

这是我单击时获取 id 值的 jQuery 代码`itemslist`

```
$(document).ready(function() { 
  $('.itemslist ul li').click(function()
    { $id = $(this).attr("class"); 
   }); 
}); 
```

但是会话没有采用该 id 值

```
session_start(); 

$_SESSION['catname'] = $id;

$id= $_SESSION['catname']; 

session_destroy(); 
```

任何人都可以回答这个问题吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T06:52:24.323

您不能使用 Javascript/Jquery 为 PHP 变量赋值。您应该对处理会话的创建/销毁的 PHP 文件进行 AJAX 调用。

看到[这个](https://stackoverflow.com/questions/2269307/using-jquery-ajax-to-call-a-php-function)答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:59:10.227

使用 jquery ajax 在 post 方法中发送 php 文件中的数据并检索该页面上的值

```
 $(document).ready(function() { 
      $('.itemslist ul li').click(function()
        { var a = $(this).attr("class");
          var dataString = 'a=' + a; 
        $.ajax(function(){
          type : "POST",
          url  : "session.php",
          data : dataString,
          cache: false,
          success: function(data){
              alert('session sent!');
         }
       });
  }); 
```

});

和 session.php：

```
session_start(); 

$a= issest($_POST['a']):$_POST['a']:"";

$_SESSION['catname'] = $a; 

session_destroy(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T06:51:14.307

您可以使用 ajax 将您的 id 发送到服务器页面并将您的 id 存储在会话中。

```
 $(document).ready(function() {    
$('.itemslist ul li').click(function()
        { id = $(this).attr("class"); 
$.ajax({
        type   : "POST",
        url    : Postpage.php,
        data   :"id="+id ,
        success: function (json) {
            alert(json); 
          }

});  
}); 
```

服务器端

```
session_start(); 
$id=$_REQUEST['id'];
$_SESSION['catname'] = $id;

$id= $_SESSION['catname']; 

session_destroy(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T06:57:00.000

为此，您需要调用`Ajax`来存储会话值，此处给出示例代码

```
$(document).ready(function() { 
   $('.itemslist ul li').click(function()  { 

  var id = $(this).attr("class");
    $.ajax({
                type   : "POST",
                url    : youphppage.php,
                data   :"id="+id ,
                success: function (msg) {
                    alert(msg); // you will get stored session value here       
                  }
      });
   });
 }); 
```

在 ajax 调用时在您的 php 页面中，

```
session_start(); 

$_SESSION['catname'] = $_POST['id'];;

echo $id= $_SESSION['catname']; 
```

# objective-c - 安装后 Cordova 2.1.0 未包含在项目中

> ID：12833757
> 
> 赞同：1
> 
> 时间：2012-10-11T06:49:20.007
> 
> 标签：objective-c, ios, xcode, cordova

我正在使用cordova 2.1.0 创建一个IOS 应用程序。[我按照http://docs.phonegap.com/en/2.1.0/guide_getting-started_ios_index.md.html#Getting%20Started%20with%20iO](http://docs.phonegap.com/en/2.1.0/guide_getting-started_ios_index.md.html#Getting%20Started%20with%20iO)中提到的步骤安装了cordova 2.1.0

现在我对 AppDelegate.m、AppDelegate.h 等文件和 www 文件夹进行了更改。当我看到项目中的物理文件夹结构时，CordovaLib.xcodeproj 不会包含在项目中。为什么会这样？为什么它没有被包含在项目中。每个用户都不会下载cordova并按照步骤操作。

任何帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T17:50:27.810

“用户不会下载”是什么意思。开发人员（您）必须下载它并创建应用程序。Cordova 打包在您的 *.ip 文件中。

如果不包含cordov 项目，您将无法构建。如果你 cn 构建它，它是包括在内的。

如果您不想处理完整的 xcode 项目内容，请使用[build.phonegap.com](http://build.phonegap.com)

# android - 如何捕获异常并使用错误自定义对话框进行修改

> ID：12833761
> 
> 赞同：0
> 
> 时间：2012-10-11T06:49:41.780
> 
> 标签：android, android-layout

我的应用程序中已经有此异常，但我想创建一个自定义对话框，这是我的异常：

```
10-11 01:41:49.420: E/AACPlayer(649): playAsync():
10-11 01:41:49.420: E/AACPlayer(649): java.lang.RuntimeException: 
Cannot start native decoder 
```

而不是显示这个**java.lang.RuntimeException: Cannot start native decoder** to person，像错误一样显示！！流已关闭。

我试过这样的事情：

```
 try
        {
            aacPlayer.playAsync( getUrl());
        }
        catch(Exception e)
        {
            AlertDialog alertDialog = new AlertDialog.Builder(Activity.this).create();
            alertDialog.setTitle("Error in radio");
            alertDialog.setMessage("out of service");
            alertDialog.setButton("OK", new DialogInterface.OnClickListener() {
               public void onClick(DialogInterface dialog, int which) {
                  // here you can add functions
               }
            });
            alertDialog.setIcon(R.drawable.icon);
            alertDialog.show();
        } 
```

但没有运气它不显示自定义对话框有什么可以推荐我呢？

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:04:30.347

看看吧，也许它可以帮助你；）

[如何捕获“java.lang.RuntimeException”](http://eai.ittoolbox.com/groups/technical-functional/seebeyond-l/how-to-catch-a-javalangruntimeexception-370493)或[抛出和捕获异常](http://en.wikibooks.org/wiki/Java_Programming/Throwing_and_Catching_Exceptions)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:10:22.590

如果对话框中已经弹出自定义消息，它会起作用吗？如果是，那么您可能希望在 catch 块中执行此操作：

```
CustomException ce = new CustomException();
throw ce; 
```

并有一个像这样的自定义异常

```
public static class CustomException extends Exception {

    String errorMsg; // this is the string that the your alert box will show

    public CustomException() {
        super();
        errorMsg = "YOU DID THIS ALL"; // set string here for your custom message
    }

    public CustomException(String err) { // set custom string in the constructor itself
        super(err);
        errorMsg = err;
    }

    public String getError() {
        return errorMsg;
    }

    public String toString() {
        return errorMsg;
    }
} 
```

# java - Itext java开发

> ID：12833763
> 
> 赞同：0
> 
> 时间：2012-10-11T06:49:43.997
> 
> 标签：java, pdf, itext

我正在 java 环境中使用 itext 做一个 Web 应用程序。

这里的主要问题是我需要“禁用”打印按钮。这是一般流程：

1) 用户使用 IE 下载 PDF 2) 用户选择打印 PDF。3) 打印 PDF 后禁用 PDF 打印按钮。

有可能做到吗？

我已经探索了为打印功能添加安全功能，但我想要的是在用户打印一次 pdf 后禁用打印按钮。

或者是否可以使用javascript通过弹出消息“拦截”打印功能并停止打印pdf。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:58:42.603

您的意思是您希望文档可以只打印一次？忘了它。

如果您使用 JavaScript 应该是可能的（以前有一家德国公司“DHL”使用它）但考虑一下：您需要用户的“帮助”（用户必须使用启用 JavaScript 的 Pdf-Reader事实并非如此），几乎每个用户都能够规避此安全功能（fe 修补 iText 以忽略每个安全功能是单行的，我知道，因为我这样做了......）如果打印会发生什么用户端出问题了？

我之前提到的这家德国公司认识到他们保护用户免于多次打印文档的想法是废话，他们取消了锁（这些是带有条形码标签的邮票）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:00:24.250

不，那是不可能的。您可以使用加密禁用打印，但这是一个全有或全无的交易。您可以说：多次禁用打印（即使您可以：客户可以多次保存同一个 PDF，并打印每个副本）。

您需要一个 DRM 解决方案来实现您想要的（而 iText 不提供 DRM 服务）。这些服务通常非常昂贵。文档需要连接到服务器以检查文档是否已经打印，然后才允许打印。

# c - 为什么 malloc 和 free 有不同的返回类型？

> ID：12833767
> 
> 赞同：1
> 
> 时间：2012-10-11T06:49:54.620
> 
> 标签：c, pointers

声明如下所示：

```
void *malloc(size_t size);
void free(void *pointer) 
```

据我所知， void *malloc 意味着 malloc 返回一个指向 void 的指针（“Void 指针”），而 free 就是 void。有什么不同？为什么会这样？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T06:51:28.930

`void`just 表示未定义返回类型（例如，不是指向 a 的指针）`char`，只是指定大小的连续内存块。

`free()`不返回任何东西。它不需要。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T06:54:06.350

`malloc`返回指向`void*`已分配内存的指针 ( )。`free`释放内存。它不返回任何东西 ( `void`)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-11T06:51:40.083

`void pointer`是通用指针。这可以分配给任何类型的指针。所以 malloc 就是这样设计的。

free() 不会返回任何东西。只需从堆中取消分配具有给定地址条目的内存块。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-11T06:53:32.310

它们彼此不等价。为什么要比较？

malloc 分配内存，因此它应该返回指向分配内存的指针。

free 释放内存并且它不必返回任何值，所以它是无效的。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-11T06:54:08.660

C 的问题在于，在这种情况下，它是弱类型的。您不能 malloc 整数、字符、双精度数或任何其他结构的数组 - 对于任何可能的类型（包括您自己的结构）都必须有一个 malloc/free 对。因此，该指针不是返回指向某种类型的指针，而是具有 void 类型。这意味着，数据的类型是不确定的，您通常将该指针转换为您需要的类型指针。

因此 malloc 的常见使用模式是：

```
type *myMemory = (type *)malloc(x * sizeof(type)); 
```

其中 type 是您想要 malloc 的类型（int、char、struct ...），而 x 是您想要 malloc 的“实例”的数量。

free 方法只是从 malloc 中获取指针并释放它。遵循相同的逻辑，它不能采用 int、char... 指针，因此它采用 void 指针。void 指针与任何其他指针“兼容”。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-11T06:54:44.550

它们是完全不同的东西。它们看起来相似的事实仅取决于所使用的语法。

“void *”是指向没有任何特定类型的内存块的指针。您可以将其转换为任何其他指针类型。

“void”（没有星号）表示该函数根本不返回任何值。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-10-11T08:26:36.197

`malloc()`是一个内存分配函数，主要工作是`return pointer to starting address of the memory block`由 malloc() 分配的。问题是它`malloc()`被设计为通用而不是任何`single`类型，所以`address return should not be for a specific type`（例如 char，int），它应该是通用的，所以`malloc()`返回一个 void 指针正在为程序员提供一个选项，将其转换为任何类型并使用该内存。所以它的返回类型是 void *。

因为`free()`，它是一个主要工作的内存释放函数`free the content of the memory address pointed by the argument`，这也是为泛型设计的，它可以释放任何内存类型，而不仅仅是 char、int 等。所以它的参数类型是 void *。

免费返回什么都没有意味着它是一个无效而不是任何指针或任何其他东西，所以它只是无效。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-10-11T08:31:10.657

`void*`意思是“任何类型的指针”。指向在特定时刻未定义或不重要的内存类型。

`void`什么都不是。没有价值。

`printf("malloc returned address %p\n", malloc(1));`是有效的 C，`malloc`返回一个指向包含未定义数据的内存块的指针。

`printf("free returned status %d\n",free(ptr));`不是有效的 C，因为`free`实际上并没有返回任何东西。

# windows-phone-7 - 检测内存不足的设备

> ID：12833770
> 
> 赞同：1
> 
> 时间：2012-10-11T06:50:06.860
> 
> 标签：windows-phone-7, live-tile

我正在尝试删除在我的应用程序中为运行低内存设备（如诺基亚 Lumia 610）的用户启用动态磁贴的选项。我正在使用从 Microsoft 获得的以下代码，但一些运行 Lumia 800 和 Focus i917 的用户报告说，在我添加此代码后，动态磁贴功能消失了。

检测低内存设备的正确方法是什么？

这是我正在使用的代码，它显然适用于模拟器和大多数用户，但并非适用于所有人：

```
long result = 0;

try
{
    result = (long)DeviceExtendedProperties.GetValue("ApplicationWorkingSetLimit");
}
catch (ArgumentOutOfRangeException)
{
    //The device has not received the OS update, which means the device is a 512-MB device.
}

if (result < 90000000)
{
    //Low memory device
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T07:24:04.100

我使用此代码。问题可能一直存在，我的来自 MSDN 关于低内存设备的页面：[Developing for 256-MB Devices](http://msdn.microsoft.com/en-us/library/hh855081%28v=vs.92%29.aspx)

```
/// <summary>
/// Flag if device is Low-memory Tango device or not.
/// </summary>
public static bool IsLowMemDevice
{
    get
    {
        if (!isLowMemDevice.HasValue)
        {
            try
            {
                // check the working set limit 
                long result = (long) DeviceExtendedProperties.GetValue("ApplicationWorkingSetLimit");
                isLowMemDevice = result < 94371840L;
            }
            catch (ArgumentOutOfRangeException)
            {
                // OS does not support this call => indicates a 512 MB device
                isLowMemDevice = false;
            }
        }
        return isLowMemDevice.Value;
    }
}
private static bool? isLowMemDevice; 
```

# iphone - 如何在 Iphone 中发送短信时禁用默认短信确认？

> ID：12833774
> 
> 赞同：0
> 
> 时间：2012-10-11T06:50:16.630
> 
> 标签：iphone

我在 iPhone 中编写了一个应用程序。当我想发送带有加密字符串的短信时，默认短信确认会显示我发送的所有字符串。

如何通过代码禁用此默认短信确认？

是否有可能做到这一点？

有什么建议吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:45:06.273

在这种情况下，这些线程中也讨论过

[有没有办法在没有用户提示的情况下从 iPhone 应用程序发送短信？](https://stackoverflow.com/questions/6609865/is-there-way-to-send-sms-from-iphone-app-without-user-prompt)

[如何在 iPhone 中发送应用内短信](https://stackoverflow.com/questions/7280830/how-to-send-in-app-sms-in-iphone)

由于苹果的隐私政策，您无法摆脱用户发送消息的提示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:55:41.840

这是设计使然；如果用户不知道您正在发送 SMS，您可能会向其发送附加费率号码。

# c# - 使用三重选择器查询

> ID：12833777
> 
> 赞同：1
> 
> 时间：2012-10-11T06:50:20.643
> 
> 标签：c#, entity-framework, .net-3.5, lambda

我目前有 Lambda 表达式：http: [//pastebin.com/ZGCiQdHe](http://pastebin.com/ZGCiQdHe)

我在第 53 行 [http://msdn.microsoft.com/en-us/library/bb340145(v=vs.90).aspx得到 ArgumentException](http://msdn.microsoft.com/en-us/library/bb340145%28v=vs.90%29.aspx)

```
var lExpresion = Expression.Lambda<Func<TEntity, bool>>(body, parametrsNumber, parametrsTyp, parametrsLp); 
```

但我不明白我做错了什么。

我想得到：

```
 WHERE ((twr_gidnumer =1 and twr_gidtyp = 1 and twr_gidlp = 1) OR 
    (twr_gidnumer =1 and twr_gidtyp = 1 and twr_gidlp = 2)) 
```

--回答完整

根据文章：

[http://blogs.msdn.com/b/mattwar/archive/2007/07/31/linq-building-an-iqueryable-provider-part-ii.aspx](http://blogs.msdn.com/b/mattwar/archive/2007/07/31/linq-building-an-iqueryable-provider-part-ii.aspx) [https://stackoverflow.com/Converting 2 参数 Lambda 表达式到 1 个参数 Lambda 表达式](https://stackoverflow.com/a/3530666/266202)

```
public static Expression<Func<CDNXL_TwrKarty, bool>> Bind2nd(Expression<Func<CDNXL_TwrKarty, CDNXL_TwrKarty,CDNXL_TwrKarty, bool>> source)
{
    Expression newBody = new Rewriter(source.Parameters[0]).Visit(source.Body);
    return Expression.Lambda<Func<CDNXL_TwrKarty, bool>>(newBody, source.Parameters[0]);
}

internal class Rewriter : ExpressionVisitor
{
    private readonly ParameterExpression candidate_;

    public Rewriter(ParameterExpression candidate)
    {
        candidate_ = candidate;
    }

    protected override Expression VisitParameter(ParameterExpression p)
    {
        return candidate_;
    }
} 
```

```
//REPLACE EXECUTING PLACE
var retMultiLamnda = Expression.Lambda<Func<CDNXL_TwrKarty, CDNXL_TwrKarty, CDNXL_TwrKarty, bool>>(body, parametrsNumber, parametrsTyp, parametrsLp);
var retOneLambda = Bind2nd(retMultiLamnda);
var retQuery = query.Where(retOneLambda);
return retQuery; 
```

**[感谢 Rafal](https://stackoverflow.com/users/1495595/rafal)的帮助。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:59:41.700

我看到的第一件事是您的委托类型与您的调用列表不匹配。您希望创建接收一个类型参数的函数，`TEntity`但您将树形参数表达式传递给函数。请注意，您执行此[Lablda 方法](http://msdn.microsoft.com/en-us/library/bb336566(v=vs.90).aspx)的重载。

好的，我会尝试更清楚：

```
Expression.Lambda<Func<Arg1Type,...,ArgNType,ReturnType>>
    (body,parameterExpressionForArg1,...,parameterExpressionForArgN); 
```

这些通用参数`ArgType`必须与`parameterExpressionsForArg`. 参数的泛型类型必须与参数的参数表达式数量相同。并且这些类型也必须匹配。

因此，如果您出于某种原因想要拥有树`parameterExpressions`，那么您的方法中必须有树参数：

```
 Expression.Lambda<Func<CDNXL_TwrKarty,CDNXL_TwrKarty,CDNXL_TwrKarty, bool>>(body, parametrsNumber, parametrsTyp, parametrsLp); 
```

在这种情况下可能是正确的调用，显然它不会匹配`Where`调用。

如果要将树表达式合并到一个匹配`Where`的参数中，则必须替换所有冗余`ParamteterExpressions`的 .

# python - Mac上的PythonXY？

> ID：12833780
> 
> 赞同：3
> 
> 时间：2012-10-11T06:50:37.287
> 
> 标签：python, macos, macports, pythonxy

如何在 Mac OSX Lion 上安装 PythonXY？

我开始了。它应该可以通过macports，但无论如何我找不到mac ports网站上描述的端口pythonXY。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:59:21.230

我对 MAC 和 pythonXY 都不太了解，但在 pythonxy wiki 上有一篇文章（2009 年 7 月 23 日）：

> 没有安排 MacOS 版本 - 不是因为它不需要或没有用，而是因为没有人负责 pythonxy-Mac 项目。

[资源](http://code.google.com/p/pythonxy/issues/detail?id=90)

祝你好运，

# resources - AngularJS的指令和服务（$resource）之间的冲突

> ID：12833784
> 
> 赞同：3
> 
> 时间：2012-10-11T06:50:50.877
> 
> 标签：resources, angularjs, directive

我是 angularJS 世界的新手，我可能误解了一些东西。

我的应用程序使用控制器、指令和服务，所有这些都运行良好，直到我使用带有 $resource 的服务，然后出现“冲突”或其他错误。

**工作指令：**

```
myApp.directive('components', function(){
    return function(params){
        [...]
    }
}); 
```

**工作服务：**

```
myApp.factory('myFactory', function(){
    return{
        [...]
    }
}); 
```

**导致故障的服务：**

```
angular.module('myApp', ['ngResource']).factory('resourceFactory', function($resource){
    return{
        [...]
    }
}); 
```

控制台中没有错误，带有 $resource 的服务可以工作，但该指令似乎没有执行。

你能帮助我吗 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T08:06:41.830

尝试`myApp`按以下方式定义。

```
var myApp = angular.module('myApp', ['ngResource']); 
```

然后在其上定义服务/指令/控制器。

```
myApp.controller(...)
myApp.directive(...)
myApp.factory(...) 
```

# sql-server - 在while循环SQL Server 2008中使用临时表中的行数

> ID：12833787
> 
> 赞同：2
> 
> 时间：2012-10-11T06:50:59.070
> 
> 标签：sql-server, sql-server-2008, while-loop, temp-tables, rowcount

我正在尝试在 SQL Server 2008 中创建一个将临时表中的数据插入到现有表中的过程。我想我已经弄清楚了，我只是遇到了循环问题。我需要临时表中的行数来确定循环何时结束。

我尝试以两种不同的方式使用@@ROWCOUNT；在 WHILE 语句中单独使用它，并创建一个变量以在第一个循环完成时尝试保存该值（参见下面的代码）。

这些方法都没有奏效，我现在不知道该怎么做。在这种情况下可以使用@@ROWCOUNT，还是有另一种更好的方法？

```
CREATE PROCEDURE InsertData(@KeywordList varchar(max))
AS
BEGIN

--create temp table to hold words and weights
CREATE TABLE #tempKeywords(ID int NOT NULL, keyword varchar(10) NOT NULL); 

DECLARE @K varchar(10), @Num int, @ID int

SET @KeywordList= LTRIM(RTRIM(@KeywordList))+ ','
SET @Num = CHARINDEX(',', @KeywordList, 1)
SET @ID = 0

--Parse varchar and split IDs by comma into temp table
IF REPLACE(@KeywordList, ',', '') <> ''
BEGIN
    WHILE @Num > 0
    BEGIN
        SET @K= LTRIM(RTRIM(LEFT(@KeywordList, @Num - 1)))
        SET @ID = @ID + 1
        IF @K <> ''
        BEGIN
            INSERT INTO #tempKeywords VALUES (@ID, @K) 
        END
        SET @KeywordList = RIGHT(@KeywordList, LEN(@KeywordList) - @Num)
        SET @Num = CHARINDEX(',', @KeywordList, 1)
        --rowcount of temp table
        SET @rowcount = @@ROWCOUNT
    END
END

--declaring variables for loop
DECLARE @count INT
DECLARE @t_name varchar(30)
DECLARE @key varchar(30)
DECLARE @key_weight DECIMAL(18,2)
--setting count to start from first keyword
SET @count = 2
--setting the topic name as the first row in temp table
SET @t_name = (Select keyword from #tempKeywords where ID = 1)
--loop to insert data from temp table into Keyword table
WHILE(@count < @rowcount)
    BEGIN
        SET @key = (SELECT keyword FROM #tempKeywords where ID = @count)
        SET @key_weight = (SELECT keyword FROM #tempKeywords where ID = @count+2)
        INSERT INTO Keyword(Topic_Name,Keyword,K_Weight)
        VALUES(@t_name,@key,@key_weight)
        SET @count= @count +2
    END 
--End stored procedure  
END 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:33:43.740

要解决问题的第二部分：

```
INSERT INTO Keyword(Topic_Name,Keyword,K_Weight)
SELECT tk1.keyword, tk2.keyword, tk3.keyword
FROM
    #tempKeywords tk1
        cross join
    #tempKeywords tk2
        inner join
    #tempKeywords tk3
        on
           tk2.ID = tk3.ID - 1
WHERE
    tk1.ID = 1 AND
    tk2.ID % 2 = 0 
```

（此代码应从`--declaring variables for loop`评论开始替换当前脚本中的所有内容）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:16:47.417

你可以改变：

```
WHILE(@count < @rowcount) 
```

至

```
WHILE(@count < (select count(*) from #tempKeywords)) 
```

但就像 marc_s 评论的那样，你应该能够在没有 while 循环的情况下做到这一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:50:05.170

我会考虑重新处理您的查询，看看您是否可以以基于集合的方式而不是逐行执行此操作。

我不确定我是否完全遵循您想要实现的目标，但我很想查看 ROW_NUMBER() 函数来设置临时表的 ID。与递归 CTE 一起使用，如[本答案](https://stackoverflow.com/a/5493616/685760)所示，您可以获得每个非空修剪单词的 id。一个例子是这样的；

```
DECLARE @KeywordList varchar(max) = 'TEST,WORD, ,,,LIST, SOME , WITH, SPACES'

CREATE TABLE #tempKeywords(ID int NOT NULL, keyword varchar(10) NOT NULL) 

;WITH kws (ord, DataItem, Data) AS(
    SELECT CAST(1 AS INT), LEFT(@KeywordList, CHARINDEX(',',@KeywordList+',')-1) ,
    STUFF(@KeywordList, 1, CHARINDEX(',',@KeywordList+','), '') 
    union all
    select ord + 1, LEFT(Data, CHARINDEX(',',Data+',')-1),
        STUFF(Data, 1, CHARINDEX(',',Data+','), '')
        from kws
        where Data > ''
), trimKws(ord1, trimkw) AS (
    SELECT ord, RTRIM(LTRIM(DataItem)) 
    FROM kws
) 
INSERT INTO #tempKeywords (ID, keyword) 
SELECT ROW_NUMBER() OVER (ORDER BY ord1) as OrderedWithoutSpaces, trimkw 
FROM trimKws WHERE trimkw <> '' 

SELECT * FROM #tempKeywords 
```

我不完全理解您要通过查询的第二部分来实现什么，但是您可以在此基础上使其其余部分正常工作。看起来你至少可以在没有 while 语句的情况下做你想做的事情。

# ios - 与 UIImageView 相关的 UIScrollview

> ID：12833792
> 
> 赞同：0
> 
> 时间：2012-10-11T06:51:19.157
> 
> 标签：ios, ipad

我正在开发一个购物应用程序。类似于 iStore 中的 Fab 应用程序。我已经放置了一个 UIscrollview，我在其中添加了 4 个 UIimageview 并将它们作为子视图添加到 UIScrollview。现在当用户滚动需要加载不同的图像（即不同的产品出售）。我如何做到这一点。然后如何向此图像和标题添加按钮。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:07:16.037

See the following links to get the How to use UIScrollView to show different images on scroll?

[Images in UIScrollview](https://stackoverflow.com/questions/10207814/how-to-use-uiscrollview-to-show-different-images-on-scroll)
[Images Change in UIScrollView](https://stackoverflow.com/questions/8260657/image-in-scroll-view)

To add button and tittle to image, just add uibutton as addsubView to ImageView.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:09:22.287

You could try this projects : [Project 1](http://dl.dropbox.com/u/60414145/ButtonManager.zip) [Project 2](https://github.com/DavidSkrundz/uiscrollview-grid-alignment)

Then when you need to add the title, add it as subview for the images. In the project I sent you, the images are added as `UIButton` frame. Try it.

# java - 如何在java中获取空格时将字符串值放入新行

> ID：12833813
> 
> 赞同：1
> 
> 时间：2012-10-11T06:52:32.107
> 
> 标签：java, string, newline

嗨伙计们！我有一个字符串，其值如 69 17 17 16 2 1 1 26 26 56 56 69 20 19 20 等。现在根据我的需要，我必须将这些值放入新字符串中，每个值都在新行中，因为每个值空间是那里 ..

任何帮助将不胜感激.. 提前谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:55:58.373

```
String newStr = origStr.replaceAll(" ", " \n"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:03:07.847

您应该使用特定的分隔符将字符串拆分为列表。然后使用所需格式打印出列表。当明天字符串包含数字、小数、文本等或他们想要其他格式的文本时，这会有所帮助。

```
 String source = "69 17 17 16 2 1 1 26 26 56 56 69 20 19 20";
    String[] splitted = source.split(" ");
    StringBuilder sb = new StringBuilder();
    for (String split : splitted){
        sb.append(split).append(System.getProperty("line.separator"));
    }
    System.out.println(sb.toString()); 
```

# iphone - Xcode - 本地化图像在设备上不起作用

> ID：12833814
> 
> 赞同：1
> 
> 时间：2012-10-11T06:52:37.007
> 
> 标签：iphone, ios, xcode, localization, ios6

我正在我的 iPhone 上测试一个应用程序。本地化图像在模拟器中运行良好，但在设备上无法运行！在 Xcode 和我的包的文件夹结构中，一切似乎都是正确的。

我已经从 iPhone 上卸载了该应用程序并重建它，清理了它，但不工作！

默认应用语言是英语，替代语言是葡萄牙语。字符串以英文显示，但图像始终以葡萄牙语显示。

（我的 iPhone 暂时是英文的，用于测试。）

我能做些什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:20:44.827

您在 iOS 模拟器中看到不同行为的原因可能与 XCode 在部署到模拟器时未删除旧文件有关。尝试在 ~/Library/Application Support/iPhone Simulator/[SDKVersion]/Applications 中删除您的应用程序。我认为这应该解决 iOS 模拟器和实际 iPhone 之间的差异。

解决此 iOS 模拟器问题后，您可能会意识到您的本地化图像没有部署到 xx.lproj 文件夹。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:29:18.067

前段时间我写了一个示例，演示了在不同的语言环境中使用不同的图像，以及以简单的方式测试它们：

[https://github.com/Abizern/SimpleLocalisationTesting](https://github.com/Abizern/SimpleLocalisationTesting)

看看你是否在做类似的加载/显示本地化图像。在此示例中，我使用本地化名称加载图像，以便不同的语言环境可以使用特定的图像。

# android - android GPS当前位置空值

> ID：12833815
> 
> 赞同：0
> 
> 时间：2012-10-11T06:52:43.230
> 
> 标签：android, gps

我使用以下代码获取服务中的当前纬度和经度，但它始终返回 null。请帮我。

```
 locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
    Criteria criteria = new Criteria();
    provider = locationManager.getBestProvider(criteria, false);
    System.out.println("provider "+provider);
    Location location = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:57:59.423

试试这个代码的当前位置：

```
LocationManager mlocManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
            LocationListener mlocListener = new MyLocationListener();
            mlocManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 10,
                    10, mlocListener);

public class MyLocationListener implements LocationListener {

        public void onProviderDisabled(String provider)
        {

            AlertDialog.Builder dlgAlert = new AlertDialog.Builder(
                     VisualCV.this);
                dlgAlert.setMessage("Gps Disabled ");
                dlgAlert.setTitle("Message");
                dlgAlert.setPositiveButton("OK", null);
                dlgAlert.setCancelable(true);
                dlgAlert.create().show();

        }

        public void onProviderEnabled(String provider) 
        {
            Toast.makeText( getApplicationContext(), "Gps enabled", Toast.LENGTH_SHORT ).show();
        }

        public void onStatusChanged(String provider, int status, Bundle extras)
        {

        }

        public void onLocationChanged(Location loc)
        {
            // TODO Auto-generated method stub
            Latitud = loc.getLatitude();
            longtitude = loc.getLongitude();
            lang = String.format("%.4f", longtitude);//LONGITUDE

            lati = String.format("%.4f", Latitud);//LATITUDE

        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T06:56:17.323

使用这段代码可能会对您有所帮助

```
import com.example.ConfigClass;
import android.content.Context;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;

public class GpsListener {

    public static GpsListener refrence = null ;
    public LocationManager locationManager = null;
    public LocationListener locationListener = null;
    public Location location = null;

    public static GpsListener getInstance(){
        if(refrence == null){
            refrence = new GpsListener();
        }
        return refrence;
    }

    public void startGpsCallBack(Context activityContext){
        locationManager = (LocationManager) activityContext.getSystemService(Context.LOCATION_SERVICE);
        locationListener = new mylocationlistener();
        locationManager.requestLocationUpdates(
                LocationManager.NETWORK_PROVIDER, 0, 0, locationListener);
        location = locationManager
                .getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
        if (location != null) {
            ConfigClass.latitudeValue = location.getLatitude();
            ConfigClass.longitudeValue = location.getLongitude();
        }
    }

    public class mylocationlistener implements LocationListener {
        @Override
        public void onLocationChanged(Location location) {
            if (location != null) {
                ConfigClass.latitudeValue = location.getLatitude();
                ConfigClass.longitudeValue = location.getLongitude();
            }
        }

        @Override
        public void onProviderDisabled(String provider) {
        }

        @Override
        public void onProviderEnabled(String provider) {
        }

        @Override
        public void onStatusChanged(String provider, int status, Bundle extras) {
        }
    }

    public void stopGpsCallBack(){
        if (locationManager != null) {
            locationManager.removeUpdates(locationListener);
        }
    }

    public void startGpsCallbackAgain(Context activityContext){
        locationManager = (LocationManager) activityContext.getSystemService(Context.LOCATION_SERVICE);
        locationListener = new mylocationlistener();
        locationManager.requestLocationUpdates(
                LocationManager.GPS_PROVIDER, 0, 0, locationListener);
        location = locationManager
        .getLastKnownLocation(LocationManager.GPS_PROVIDER);
        if (location != null) {
            ConfigClass.latitudeValue = location.getLatitude();
            ConfigClass.longitudeValue = location.getLongitude();
        }
    }

} 
```

这是我的代码

首先`startGpsCallBack`，然后`stop`它然后调用`startGPSCallBackAgain`方法检查它并让我知道这是否解决了您的问题

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:02:34.967

尝试这个。

```
 @Override
            public void onCreate(Bundle savedInstanceState)
            {
              super.onCreate(savedInstanceState);
              setContentView(R.layout.activity_main);

              /* Use the LocationManager class to obtain GPS locations */
              LocationManager mlocManager = (LocationManager)getSystemService(Context.LOCATION_SERVICE);

              LocationListener mlocListener = new MyLocationListener();
              mlocManager.requestLocationUpdates( LocationManager.GPS_PROVIDER, 0, 0, mlocListener);

            }

            /* Class My Location Listener */
            public class MyLocationListener implements LocationListener
            {

              public void onLocationChanged(Location loc)
              {
                loc.getLatitude();
                loc.getLongitude();

                String Text = "My current location is: " +
                "Latitud = " + loc.getLatitude() +
                "Longitud = " + loc.getLongitude();

                Toast.makeText( getApplicationContext(), Text, Toast.LENGTH_SHORT).show();
              }

              public void onProviderDisabled(String provider)
              {
                Toast.makeText( getApplicationContext(), "Gps Disabled", Toast.LENGTH_SHORT ).show();
              }

              public void onProviderEnabled(String provider)
              {
                Toast.makeText( getApplicationContext(), "Gps Enabled", Toast.LENGTH_SHORT).show();
              }

              public void onStatusChanged(String provider, int status, Bundle extras)
              {

              }
            } 
```

# ajax - PyQt4 获取信息，包括由 ajax 生成的信息

> ID：12833821
> 
> 赞同：1
> 
> 时间：2012-10-11T06:53:08.697
> 
> 标签：ajax, pyqt4

我想使用 PyQt4 获取所有信息，包括由 AJAX 请求生成的信息。我尝试了几个例子，但它没有达到我的目标。

例如： [亚马逊](https://rads.stackoverflow.com/amzn/click/com/B0042FV2SI)

在页面中，项目*126 new*是由 AJAX 请求生成的。我想通过一个请求获取整个页面，包括 AJAX 请求生成的项目。所有的 AJAX 请求都是自动执行的。

有一个简单的代码示例，它无法获取 AJAX 生成的项目：

```
#!/usr/bin/env python
#coding: utf-8

import sys

from PyQt4.QtCore import QUrl, SIGNAL
from PyQt4.QtGui import QApplication
from PyQt4.QtWebKit import QWebView

app = QApplication(sys.argv)

web = QWebView()
web.load(QUrl('http://www.amazon.com/gp/product/B0042FV2SI/ref=s9_pop_gw_g107_ir01?pf_rd_m=ATVPDKIKX0DER&pf_rd_s=center-2&pf_rd_r=1MKC5JJV07SG4WG5PJXY&pf_rd_t=101&pf_rd_p=1263340922&pf_rd_i=507846'))

web.show()

sys.exit(app.exec_()) 
```

# tsung - tsung 1.5.0a 生成的图表报告未在 x/y 轴上显示数字

> ID：12833823
> 
> 赞同：1
> 
> 时间：2012-10-11T06:53:12.577
> 
> 标签：tsung

我从 github 下载 tsung 并编译它，然后执行我的常见测试任务，但图表报告无法在 x 和 y 轴上显示数字。

我是否错过了从 1.4.2 升级到 1.5.0a 的内容？

# php - 浏览器中的后退按钮如何工作？

> ID：12833825
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:53:16.523
> 
> 标签：php

我已经在主工作页面中列出了项目，如果我单击该项目，它将定向到显示详细信息的工作页面，如果我单击后退按钮，它正在重定向主工作页面。我想要后退按钮应该重定向上一个项目请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:59:03.847

我浏览器中的后退按钮在您的网站上按设计工作：它会将我带到我之前访问的网页。

网站不能（轻易地）改变浏览器后退按钮的行为以使用户处于控制之中。您不能（轻松）使用后退按钮浏览网站（如果我正确理解您的问题）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T07:01:19.233

为了让您的后退按钮将您重定向到上一个项目，您需要将当前的 HTML 从

```
 <a href="mainWork.php">BACK</a> 
```

到 ：

```
 <a href="work.php?page=1">BACK</a> 
```

您必须通过将 href 中的页码计算为 $_GET['page'] - 1 来动态执行此操作

```
 <? $page = (int) $_GET['page']; $back = $_GET['page'] - 1;
         print '<a href="work.php?page=$back">BACK</a>';
  ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:30:00.627

为什么不更改客户端的后退按钮？

```
<a href='#' id='backBtn'>Back</a> 
```

在 JS 中：

```
document.getElementById('backBtn').onclick = function()
{
    history.back();
}; 
```

如果你想要的只是让后退 btn 表现得像浏览器后退按钮？

# java - GAE 中的 AES-256 实现

> ID：12833826
> 
> 赞同：1
> 
> 时间：2012-10-11T06:53:20.907
> 
> 标签：java, google-app-engine, cryptography, aes

256 但它似乎在 GAE 中不起作用。我已经下载了“Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files”和 local_policy.jar,US_export_policy.jar 存在于 C:\Program Files\Java\jdk1.6.0 _29\jre\lib\安全位置。

这是代码：

```
import java.security.spec.KeySpec;
import org.apache.commons.codec.binary.Base64;
import org.apache.commons.*;

import javax.crypto.Cipher;
import javax.crypto.SecretKey;
import javax.crypto.SecretKeyFactory;
import javax.crypto.spec.IvParameterSpec;
import javax.crypto.spec.PBEKeySpec;
import javax.crypto.spec.SecretKeySpec;

public class AESEncrypter {

private static final byte[] SALT = {
    (byte) 0xA9, (byte) 0x9B, (byte) 0xC8, (byte) 0x32,
    (byte) 0x56, (byte) 0x35, (byte) 0xE3, (byte) 0x03
};
private static final int ITERATION_COUNT = 65536;
private static final int KEY_LENGTH = 256;
private Cipher ecipher;
private Cipher dcipher;

AESEncrypter(String passPhrase) throws Exception {
    SecretKeyFactory factory = SecretKeyFactory.getInstance("PBKDF2WithHmacSHA1");
    KeySpec spec = new PBEKeySpec(passPhrase.toCharArray(), SALT, ITERATION_COUNT, KEY_LENGTH);
    SecretKey tmp = factory.generateSecret(spec);
    SecretKey secret = new SecretKeySpec(tmp.getEncoded(), "AES");

    ecipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
    ecipher.init(Cipher.ENCRYPT_MODE, secret);

    dcipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
    byte[] iv = ecipher.getParameters().getParameterSpec(IvParameterSpec.class).getIV();
    dcipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(iv));
}

public String encrypt(String encrypt) throws Exception {
    byte[] bytes = encrypt.getBytes("UTF8");
    byte[] encrypted = encrypt(bytes);
    return new Base64().encodeBase64String(encrypted);
}

public byte[] encrypt(byte[] plain) throws Exception {
    return ecipher.doFinal(plain);
}

public String decrypt(String encrypt) throws Exception {
    byte[] bytes = new Base64().decodeBase64(encrypt);
    byte[] decrypted = decrypt(bytes);
    return new String(decrypted, "UTF8");
}

public byte[] decrypt(byte[] encrypt) throws Exception {
    return dcipher.doFinal(encrypt);
}

public static void main(String[] args) throws Exception {

    String message = "MESSAGE";
    String password = "PASSWORD";

    AESEncrypter encrypter = new AESEncrypter(password);
    String encrypted = encrypter.encrypt(message);
    String decrypted = encrypter.decrypt(encrypted);

    System.out.println("Encrypt(\"" + message + "\", \"" + password + "\") = \"" + encrypted + "\"");
    System.out.println("Decrypt(\"" + encrypted + "\", \"" + password + "\") = \"" + decrypted + "\"");
} 
```

}

任何帮助将不胜感激谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:19:55.350

您的异常肯定是由于缺少无限强度的管辖权文件造成的。

您已声明这些已下载并存储在您的 Java 6 JDK 中。我会确保您也将副本存储在`lib/security`JRE 安装的文件夹中，如果您有的话。

确保您确切知道`java`在执行应用程序时正在调用哪个命令。

# html - 颜色左右背景，而不是从中心

> ID：12833829
> 
> 赞同：1
> 
> 时间：2012-10-11T06:53:25.570
> 
> 标签：html, css

现在布局看起来像这样

![在此处输入图像描述](../Images/9a4be714ec0d1340dc6ee580b4c098c6.png)

我想要实现的是这个

![在此处输入图像描述](../Images/2e2d389c249d29bf2e2bfcc9d1e64992.png)

```
<style type="text/css">
        body { color: #4B5E6F; font-size: 11px; line-height: 1.8em; }
        #main-content-wrapper { background: #F6F7F8; border-left: 1px solid #DBDFE2; border-right: 1px solid #DBDFE2; min-height: 400px; }
        #content-left { float: left; width: 150px; min-height: 400px; background: #F6F7F8; }
        #nav-left { list-style-image: none; margin: 0px; }
        #nav-left li { margin: 6px 0px 6px 0px; }
        #nav-left li .nav-parent { font-family: 'open_sans_extraboldregular'; text-transform: uppercase; color: #595F78; line-height: 22px; text-decoration: none; cursor: pointer; letter-spacing: 0px; margin: 0px 0px 0px 7px; font-size: 12px; }
        #nav-left li .nav-sub { font-family: 'open_sansregular'; color: #595F78; line-height: 22px; text-decoration: none; cursor: pointer; letter-spacing: 0px; margin: 0px 0px 0px 5px; font-size: 11px; }
        #content { float: left; border-left: 1px solid #DBDFE2; border-right: 1px solid #DBDFE2; min-height: 500px; width: 550px; padding: 10px; background: white; }
        #content-right { float: left; width: 216px; padding: 10px; background: white; }
        .nav-left-separator { background: url("resources/images/separator_menu.gif") repeat-x; height: 1px; display: block; margin: 0px 2px 0px 2px; }
        .page-header { font-family: 'open_sansbold'; font-size: 16px; color: #8E354C; line-height: 22px; font-weight: normal; border-bottom: 1px solid #E4E7D4; margin-bottom: 15px; margin-top: 15px; }
        ul { list-style-image: url('resources/images/fleche.gif'); margin: 4px 0px 0px 15px; }
        ul li span { font-family: 'open_sansbold'; }
    </style>

 <div id="main-content-wrapper">
            <div id="content-left">
                <ul id="nav-left">
                    <li><a href="" class="nav-parent">Menu</a></li>
                    <li><span class="nav-left-separator"></span></li>
                    <li><a href="" class="nav-parent">Menu</a></li>
                    <li><span class="nav-left-separator"></span></li>
                    <li><a href="" class="nav-parent">Menu</a></li>
                    <li><a href="" class="nav-sub">Lorem</a></li>
                    <li><a href="" class="nav-sub">Lorem</a></li>
                    <li><a href="" class="nav-sub">Lorem</a></li>
                    <li><span class="nav-left-separator"></span></li>
                    <li><a href="" class="nav-parent">Menu</a></li>
                    <li><span class="nav-left-separator"></span></li>
                    <li><a href="" class="nav-parent">Menu</a></li>
                    <li><span class="nav-left-separator"></span></li>
                    <li><a href="" class="nav-parent">Menu</a></li>
                </ul>
        </div>
            <div id="content">
                <div class="page-header">Lorem ipsum dolor sit amet</div>                
                Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, 
                when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into 
                electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, 
                and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.
            </div>
            <div id="content-right">
                <div class="page-header">Lorem ipsum</div>
                Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                <div class="page-header">Lorem ipsum</div>
                <ul>
                    <li><span>Overview</span></li>
                    <li><span>Overview</span></li>
                    <li><span>Overview</span></li>
                    <li><span>Overview</span></li>
                </ul>
                <div class="page-header">Lorem ipsum</div>
                <ul>
                    <li><span>Overview</span></li>
                    <li><span>Overview</span></li>
                    <li><span>Overview</span></li>
                    <li><span>Overview</span></li>
                </ul>
        </div>
    </div> 
```

我希望左右的背景被着色而不是从中心着色，如果中心内容向下延伸，那么左右背景也需要用它们的颜色着色。有什么建议吗？不管怎么说，还是要谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T06:56:32.490

使内容列 div 使用`height : 100%`. 这可能应该在需要时拉伸包装器，并带上其他列......理论上......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:10:31.667

对于这种类型的功能，您可以使用**display:table**属性。

例如这样写：

```
div{display:table-cell;width:100px;background:red}

.center{
    background:green;
    width:200px;
}
.right{background:yellow;} 
```

检查这个[http://jsfiddle.net/HuxCZ/](http://jsfiddle.net/HuxCZ/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:11:10.740

这是示例纯代码。您可以通过与此进行比较来更改您的 css

HTML

```
<div id="container3">
    <div id="container2">
        <div id="container1">
            <div id="col1">
            test

                <!-- Column one end -->
            </div>
            <div id="col2">
                Lorem ipsum dolor sit amet..................
                <!-- Column two end -->
            </div>
            <div id="col3">
                <!-- Column three start -->
                dgh

                <!-- Column three end -->
            </div>
        </div>
  </div>
</div> 
```

​</p>

CSS

```
#container3 {
    clear:left;
    float:left;
    width:100%;
    overflow:hidden;
    background:#89ffa2; /* column 3 background colour */
}
#container2 {
    clear:left;
    float:left;
    width:100%;
    position:relative;
    right:33.333%;
    background:#ffa7a7; /* column 2 background colour */
}
#container1 {
    float:left;
    width:100%;
    position:relative;
    right:33.33%;
    background:#fff689; /* column 1 background colour */
}
#col1 {
    float:left;
    width:29.33%;
    position:relative;
    left:68.67%;
    overflow:hidden;
}
#col2 {
    float:left;
    width:29.33%;
    position:relative;
    left:72.67%;
    overflow:hidden;
}
#col3 {
    float:left;
    width:29.33%;
    position:relative;
    left:76.67%;
    overflow:hidden;
}​ 
```

演示[http://jsfiddle.net/pV44s/1/](http://jsfiddle.net/pV44s/1/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T07:36:09.857

从您的内部 div 中删除`float:left`并添加`min-height``display:table-cell;`

[http://jsfiddle.net/N8mDD/2/](http://jsfiddle.net/N8mDD/2/)

希望这会有所帮助

# php - 美德玛特按位置排序产品

> ID：12833832
> 
> 赞同：0
> 
> 时间：2012-10-11T06:53:33.900
> 
> 标签：php, html, joomla, joomla1.5, virtuemart

您如何在 1.1.9 中按位置对产品进行排序（使用箭头排序）？
我可以按位置对类别进行排序，所以我不明白为什么你不能对产品进行排序，我只能按产品名称、价格、最新产品和货号对它们进行排序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:40:22.220

您只能按单个类别排序以更改产品在美德市场产品列表中的位置。为此按类别过滤列表，然后您将能够按位置对产品进行排序（使用箭头进行排序）。

# iphone - 如何在 Tapku 日历中的特定日期设置标记

> ID：12833841
> 
> 赞同：0
> 
> 时间：2012-10-11T06:54:04.620
> 
> 标签：iphone, objective-c, cocoa-touch, ios4, tapku

在我的应用程序中，我使用 Tapku 日历在日历中显示日期。

我想在日历中显示特定日期，例如，

我的日期是 2012-11-01，而 Marker 在日历中的日期是 2012-11-01。

请建议我如何使用 Tapku caleder 做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:09:17.387

```
 - (NSArray*) calendarMonthView:(TKCalendarMonthView*)monthView marksFromDate:(NSDate*)startDate toDate:(NSDate*)lastDate
    {
            [self generateRandomDataForStartDate:startDate endDate:lastDate];
            return dataArray;
    }

- (void) generateRandomDataForStartDate:(NSDate*)start endDate:(NSDate*)end{
    // this function sets up dataArray & dataDictionary
    // dataArray: has boolean markers for each day to pass to the calendar view (via the delegate function)
    // dataDictionary: has items that are associated with date keys (for tableview)

    NSLog(@"Delegate Range: %@ %@ %d",start,end,[start daysBetweenDate:end]);

    self.dataArray = [NSMutableArray array];
    self.dataDictionary = [NSMutableDictionary dictionary];

    NSDate *d = start;
    while(YES){

        int r = arc4random();
        if(r % 3==1){
            [self.dataDictionary setObject:[NSArray arrayWithObjects:@"Item one",@"Item two",nil] forKey:d];
            [self.dataArray addObject:[NSNumber numberWithBool:YES]];

        }else if(r%4==1){
            [self.dataDictionary setObject:[NSArray arrayWithObjects:@"Item one",nil] forKey:d];
            [self.dataArray addObject:[NSNumber numberWithBool:YES]];

        }else
            [self.dataArray addObject:[NSNumber numberWithBool:NO]];

        TKDateInformation info = [d dateInformationWithTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
        info.day++;
        d = [NSDate dateFromDateInformation:info timeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
        if([d compare:end]==NSOrderedDescending) break;
    }

} 
```

# zend-framework - zend 框架操作名称更改为“id”

> ID：12833843
> 
> 赞同：1
> 
> 时间：2012-10-11T06:54:05.840
> 
> 标签：zend-framework, frameworks

我有一个带有模块'dashboard'和'admin'的zend框架应用程序，其中'dashboard'是默认模块。当我尝试访问不同的模块时，我得到这样的请求对象

```
Zend_Controller_Request_Http Object
(
    [_paramSources:protected] => Array
        (
            [0] => _GET
            [1] => _POST
        )

    [_requestUri:protected] => /admin/application/show/
    [_baseUrl:protected] => http://local.dashmonitor.us.com
    [_basePath:protected] => 
    [_pathInfo:protected] => /admin/application/show/
    [_params:protected] => Array
        (
            [module] => admin
            [controller] => application
            [action] => get
            [id] => show
        )

    [_rawBody:protected] => 
    [_aliases:protected] => Array
        (
        )

    [_dispatched:protected] => 1
    [_module:protected] => admin
    [_moduleKey:protected] => module
    [_controller:protected] => application
    [_controllerKey:protected] => controller
    [_action:protected] => get
    [_actionKey:protected] => action
) 
```

我的真实动作名称是“显示”，但在这里更改为“获取”。有人可以帮忙吗？

# java - 在同一窗口中打开 Selenium Webdriver 测试

> ID：12833847
> 
> 赞同：1
> 
> 时间：2012-10-11T06:54:14.900
> 
> 标签：java, browser, selenium, webdriver

我有几十个 Selenium Webdriver 测试。我想一次运行它们。如何运行测试以使每个测试都不会打开新的 Webdriver 浏览器窗口？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:21:52.430

您必须在 @BeforeClass/@AfterClass 中启动/拆除您的 webdriver，并在所有测试中使用此 webdriver。

```
public class MyTest {

    WebDriver driver;

    @BeforeClass
    public static void setUpClass() {
        driver = new RemoteWebDriver(new URL(hubAddress), capability);
    }

    @AfterClass
    public static void setDownClass() {
         driver.quit();
    }

    @Test 
    public void Test1(){
         driver.get(...);
    }

    @Test 
    public void Test2(){
         driver.get(...):
    }
} 
```

或者在 TestSuite 中使用相同的 @BeforeClass/@AfterClass 使其成为静态：

```
@RunWith(Suite.class)
@SuiteClasses({ Test1.class, Test2.class})
public class MyTestSuite {

    public static WebDriver driver;

    @BeforeClass
    public static void setUpClass() {
        driver = new RemoteWebDriver(new URL(hubAddress), capability);
    }

    @AfterClass
    public static void setDownClass() {
         driver.quit();
    }
} 
```

和

```
public class Test1 {

    @Test 
    public void Test1(){
         MyTestSuite.driver.get(...);
    }
} 
```

# android - 片段和父活动生命周期在一起

> ID：12833854
> 
> 赞同：7
> 
> 时间：2012-10-11T06:55:07.870
> 
> 标签：android, android-fragments, android-activity

[我正在关注创建片段](http://developer.android.com/guide/components/fragments.html#Creating)、[处理片段生命周期](http://developer.android.com/guide/components/fragments.html#Lifecycle)、[管理活动生命周期](http://developer.android.com/guide/components/activities.html#Lifecycle)以及[暂停和恢复活动](http://developer.android.com/training/basics/activity-lifecycle/pausing.html)这四个主题。所以我对此有点怀疑。我的问题是

1.  如果 A通过`Activity`调用 B但 A 不调用方法，则如果 B 是，则 A 将处于状态，如果 B 是，则处于状态。我对吗？`Activity``Intent``finish()``Pause``Transparent``SemiTransparent``Stop``Opaque`
2.  如果A`Activity`包含`Fragment`F，那么如果A将进入`Pause`状态，那么F将进入`Pause`状态，如果A将处于`Stop`状态，那么F也将处于`Stop`状态。我对吗？
3.  如果 A 调用 B`Activity` 并且 B 是，`Transparent`那么 A 将处于`Pause`状态，F 也将处于状态。如果 B 调用`finish()`，那么 A 将进入`Resume`状态，但 F 会发生什么？它会从暂停中恢复吗？如果是这样，那么如何以及采取什么步骤，因为我没有看到`Fragment`生命周期中的任何直接链接，这表明Activity`onPause()`可以`onResume()`直接执行。

    > 希望我能问我想要什么。对不起我的英语不好。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-18T09:48:02.130

1.  如果 B 是半透明的或部分可见的，你不能确定只有 onPause 会在 A 上被调用，据我所知：

    > 暂停
    > 
    > 另一个活动在前台并具有焦点，但这个活动仍然可见。也就是说，另一个活动在此活动之上可见，并且该活动是部分透明的或不覆盖整个屏幕。暂停的活动是完全活动的（活动对象保留在内存中，它维护所有状态和成员信息，并保持连接到窗口管理器），但可以在内存极低的情况下被系统杀死。

2.  是的你是对的：

    > 片段所在的活动的生命周期直接影响片段的生命周期，因此活动的每个生命周期回调都会导致每个片段的类似回调。例如，当 Activity 收到 onPause() 时，Activity 中的每个 Fragment 都会收到 onPause()。

    然而，相反的情况并非如此，这意味着如果一个片段接收到 onStop，那并不能保证 Activity 的 onStop 会被调用。

3.  我不太清楚你最后一句话是什么意思，或者你是如何测试的。根据片段文档：

    > 公共无效 onResume ()
    > 
    > 当片段对用户可见并且正在运行时调用。这通常与包含 Activity 生命周期的 Activity.onResume 相关联

    它之所以这么说，是因为它取决于活动如何处理片段。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-06T08:14:36.737

1.  如果 A Activity 通过 Intent 调用 B Activity 但 A 没有调用 finish() 方法，则如果 B 为透明或半透明，则 A 将处于暂停状态，如果 B 为不透明，则 A 将处于停止状态。我对吗？

    **是的**

2.  如果 A Activity 包含 Fragment F，那么如果 A 将进入 Pause 状态，则 F 将进入 Pause 状态，如果 A 将处于 Stop 状态，则 F 也将处于 Stop 状态。我对吗？

    **是，对的**

3.  如果 A 调用 B Activity 并且 B 是透明的，则 A 将处于暂停状态，F 也将处于暂停状态。如果 B 调用 finish() 那么 A 将进入 Resume 状态，但 F 会发生什么？它会从暂停中恢复吗？如果是这样，那么如何以及采取什么步骤，因为我没有看到 Fragment 生命周期中的任何直接链接表明 onPause() 到 onResume() 直接作为 Activity 可以做的。

**您的理解是正确的，即使在这种情况下，片段也会像活动一样从 onPause 状态移动到 onResume 状态。但不幸的是，在开发人员 android 中没有太多关于此的文档。这可能是因为他们想避免可能会造成更多混乱的复杂图表。**

# c# - 使用未分配的局部变量错误C#

> ID：12833857
> 
> 赞同：0
> 
> 时间：2012-10-11T06:55:18.670
> 
> 标签：c#

这是关于前一段时间发布的上一个问题 [从整数数组中删除 -1 条目](https://stackoverflow.com/questions/12833433/remove-all-entry-with-1)

我知道有非常快速的解决方案，在前面发布的问题的答案部分中发布了一行答案，但是作为一个新手，我尝试通过 for 循环来做。

```
 int[] arr = new int[]{ 1, -1, -1, 1 };
            int[] new_arr;
            int index = 0;
            for (int i = 0; i < arr.Length; i++)
            {
               // Console.WriteLine(arr[i]);
                if (arr[i] == -1)
                    continue;
                else
                    new_arr[index++] = arr[i];
            } 
```

我收到错误

> 使用未分配的局部变量“new_arr”

我究竟做错了什么。

**编辑**

```
 int[] arr = new int[]{ 1, -1, -1, 1 };
        int[] new_arr = new[arr.Length]; //Error being shown at this line
        int index = 0;
        for (int i = 0; i < arr.Length; i++)
        {

            if (arr[i] == -1)
                continue;
            else
                new_arr[index++] = arr[i];
        }

        for(int j=0;j<new_arr.Length;j++)
            Console.WriteLine(new_arr[j]); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T06:56:54.110

编译器警告您尚未初始化`new_arr`变量并且以后不能使用它：

```
int[] new_arr = new int[arr.Length]; 
```

在这种情况下，我将数组初始化为与`new_arr`数组相同的大小`arr`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T06:56:50.193

你还没有初始化你的数组`new_arry`。您需要指定其大小。

```
int[] new_arr = new int[10]; 
```

在您正在执行的代码中：

```
new_arr[index++] = arr[i]; 
```

在这里，由于数组尚未初始化并且您正在尝试使用它，这就是您收到此错误的原因。

**您可以使用`List<int>`而不是数组**，因为您似乎不确定代码中数组的大小。

所以你的代码是：

```
int[] arr = new int[]{ 1, -1, -1, 1 };
List<int> tempList = new List<int>();
int[] new_arr;
int index = 0;
for (int i = 0; i < arr.Length; i++)
      {
       // Console.WriteLine(arr[i]);
         if (arr[i] == -1)
              continue;
         else
            tempList.Add(arr[i]);
      }
new_arr = tmepList.ToArray(); 
```

或者完整的代码可以缩短为：

```
int new_arr = arr.Where(r=> r!= -1).ToArray(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T07:23:40.950

你还没有分配你的变量 new_arr。因此它显示错误。你的代码可以是这样的——

```
int[] arr = new int[] { 1, -1, -1, 1 };
        int[] new_arr = new int[4];
        int index = 0;
        for (int i = 0; i < arr.Length; i++)
        {
            // Console.WriteLine(arr[i]);
            if (arr[i] == -1)
                continue;
            else
                new_arr[index++] = arr[i];
        }
        for (int i = 0; i < new_arr.Length; i++)
        {
            Console.WriteLine(new_arr[i]);

        } 
```

您不能在 c# 中使用任何未分配或悬空的变量。不要将 new_arr 分配给 null。它会抛出空引用异常。

# c++ - 回调函数语法

> ID：12833858
> 
> 赞同：1
> 
> 时间：2012-10-11T06:55:24.817
> 
> 标签：c++

> **可能重复：**
> [void(U::*)(void) 是什么意思？](https://stackoverflow.com/questions/3280828/what-does-voiduvoid-mean)

考虑到以下几点：

```
template <class T>
class myButtoncb  {
   private:
      T *ptr;
      void (T::*cback) (void)
} 
```

我的理解是：

```
void (*cback) (void) 
```

这只不过是一个指向返回 void 且不带参数的函数的函数指针。

我不明白的是，重要的是`T::`什么？仅声明 like 还不够`void (*cback) (void)`吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T06:58:08.730

这表示它是一个有`this`指针的成员函数。否则，它将是一个自由函数，不知道它正在操作的对象是什么，并且无法访问任何非静态成员函数或成员变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:00:52.410

来自[C++ 常见问题](http://www.parashift.com/c++-faq/fnptr-vs-memfnptr-types.html)

> “指向成员函数”的类型与“指向函数”的类型不同吗？
> 
> 是的。

我提供给你的[链接有很多关于这个主题的信息。](http://www.parashift.com/c++-faq/pointers-to-members.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:01:40.203

您在此处传递的函数必须在类 T​​ 中声明 - myButtoncb 的模板参数。因此，您可以使用如下函数：

```
class A
{
public:
     void foo(void);
};

myButton<A> b;
b.cback = &A::foo; 
```

# devise - nil:NilClass 的未定义方法 failure_app

> ID：12833859
> 
> 赞同：9
> 
> 时间：2012-10-11T06:55:24.800
> 
> 标签：devise, sinatra, rack, warden

我正在尝试使用 Rails 应用程序中的设计来授予对 Rack 中间件中的 Sinatra 应用程序的访问权限。

我的 config/routes.rb 有：

```
authenticate "admin" do
  mount Admins::Dashboard, :at => "/admins"                                                                                                        
end 
```

在我的 Sinatra 应用程序中，我使用：

```
before do
  env["warden"].authenticate!(:scope => "admin")                                                                                                 
end

get "/dashboard" do
  erb :dashboard
end 
```

现在，我收到以下堆栈跟踪错误：

```
Started GET "/admins/dashboard" for 127.0.0.1 at 2012-10-11 08:45:13 +0200

NoMethodError (undefined method `failure_app' for nil:NilClass):
  devise (2.1.2) lib/devise/delegator.rb:11:in `failure_app'
  devise (2.1.2) lib/devise/delegator.rb:5:in `call'
  warden (1.2.1) lib/warden/manager.rb:130:in `call_failure_app'
  warden (1.2.1) lib/warden/manager.rb:116:in `process_unauthenticated'
  warden (1.2.1) lib/warden/manager.rb:47:in `call'
  actionpack (3.2.8) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call' 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T23:26:38.363

该错误消息是关于缺少用于自定义warden failure 应用程序以指向sinatra 的配置的投诉。

查看[这个先前的答案](https://stackoverflow.com/a/7975623/429758)和[有关设置 Sinatra+Warden & Rails+Devise 的相关（详细）博文](http://labnote.beedesk.com/sinatra-warden-rails-devise)；希望那里的说明将帮助您成功实施解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-05-24T13:36:16.983

有同样的错误信息，[这个关于 Github 的评论](https://github.com/mperham/sidekiq/issues/2963#issuecomment-219590441)帮助了我。

在我的`sessions_controller.rb`我有：

```
sign_in(:user, @resource, store: false, bypass: false) 
```

我替换为：

```
sign_in(:users, @resource, store: false, bypass: false) 
```

让它工作。

具体来说，这个问题只发生在*一个*用户删除他的帐户之后......我也在使用 devise_token_auth （因此被覆盖的会话控制器）。

# encoding - 在 Hive 中使用 Icelandic Thorn 字符作为分隔符

> ID：12833866
> 
> 赞同：2
> 
> 时间：2012-10-11T06:55:52.047
> 
> 标签：encoding, hadoop, hive

我目前正在尝试将一些 DoubleClick 广告日志导入 Hadoop。

这些日志存储在一个 gzip 分隔文件中，该文件使用第 1252 页（Windows-ANSI？）进行编码，并使用冰岛刺字符作为分隔符。

我可以愉快地将这些日志导入单个列，但我似乎无法找到让 Hive 理解 Thorn 字符的方法 - 我想可能是因为它不理解 1252 编码？

我查看了 Create Table 文档 - [http://hive.apache.org/docs/r0.9.0/language_manual/data-manipulation-statements.html](http://hive.apache.org/docs/r0.9.0/language_manual/data-manipulation-statements.html) - 但似乎找不到任何方法来获得这种编码/分隔符工作。

我还从[https://karmasphere.com/karmasphere-analyst-faq](https://karmasphere.com/karmasphere-analyst-faq)看到了这些文件的编码是 ISO-8859-1 的建议 - 但我看不到如何在 Hive 或 HDFS 中使用该信息。

我知道我可以在导入后进行映射工作，将这些行拆分为多条记录。

但是有没有更简单的方法可以直接使用这个分隔符？

谢谢

斯图尔特

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-02T14:05:26.023

使用 '\-2' char 是有符号字节。

显然 hive 开发人员认为这不是问题： [https ://issues.apache.org/jira/browse/HIVE-237](https://issues.apache.org/jira/browse/HIVE-237)

# c++ - 'if' 与 C++ 中的模板

> ID：12833867
> 
> 赞同：3
> 
> 时间：2012-10-11T06:55:53.313
> 
> 标签：c++, templates

我需要做这样的事情：

```
template <typename Matrix_xx>
bool ProcessMatrix<Matrix_xx>::function1(Matrix_xx a) {
    int x, y;

    // ... some code here ... //

    if (Matrix_xx == Matrix_1D) {
        a->readFromFile(x);
    } else if (Matrix_xx == Matrix_2D) {
        a->readFromFile(x, y);
    } // ...

} 
```

即，调用不同的函数取决于模板参数。上面的代码无法编译，因为只有 Matrix_1D::readFromFile(int x) 和 Matrix_2D::readFromFile(int x, int y)。我不想将 function1 拆分为两个不同的函数，因为会有很多重复的代码。还有其他方法吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-11T07:17:51.627

将特定类型的代码包装在重载函数或显式专用模板中：

```
void doReadFromFile(Matrix_1D &a, int x, int y)
{
    a->readFromFile(x);
}

void doReadFromFile(Matrix_2D &a, int x, int y)
{
    a->readFromFile(x, y);
}

template <typename Matrix_xx>
bool ProcessMatrix<Matrix_xx>::function1(Matrix_xx a) {
    int x, y;

    // ... some code here ... //

    doReadFromFile(a, x, y);
} 
```

如果`Matrix_xx`是`Matrix_1D`，重载将选择第一个重载，如果是 Matrix_2D，重载将选择第二个重载，如果是其他，则不会编译。但是如果有人提供了新类型的矩阵，他们可以通过为它定义来编译`doReadFromFile`它。

这通常是标准库使用“特征”的有用技巧和原因——它们可以为某人提供的类定义，也可以为非类类型定义。“特征”可以是显式专用模板或自由函数的形式，通常使用依赖于参数的查找（放置在其参数的命名空间中，而不是模板中）进行查找。

为了完整起见，显式特化如下所示：

```
template <typename Matrix_xx>
struct doReadFromFile {};

template <>
struct<Matrix_1D> struct doReadFromFile {
    void operator()(Matrix_1D &a, int x, int y) {
        a->readFromFile(x);
    }
}

template <>
struct<Matrix_1D> struct doReadFromFile {
    void operator()(Matrix_1D &a, int x, int y) {
        a->readFromFile(x, y);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:15:09.250

您不能将参数作为对`readFromFile`a 的引用`vector`并让 Matrix_xx 实例决定要填充多少索引吗？这将消除对条件检查的需要。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:03:17.290

您可以使用 typeid 运算符来解决这个问题。

使用它，您的代码将变为：

```
template <typename Matrix_xx>
bool ProcessMatrix<Matrix_xx>::function1(Matrix_xx a) {
    int x, y;

    // ... some code here ... //

    if (typeid(Matrix_xx) == typeid(Matrix_1D)) {
        a->readFromFile(x);
    } else if (typeid(Matrix_xx) == typeid(Matrix_2D)) {
        a->readFromFile(x, y);
    } // ...
} 
```

或者你可以用一个开关来做：

```
switch(typeid(Matrix_xx))
{
    case typeid(Matrix_1D):
         a->readFromFile(x);
         break;

    case typeid(Matrix_2D):
        a->readFromFile(x,y);
        break;

    // etc, etc
} 
```

[编辑：]对于那些说它不会编译的人，我最感兴趣的是知道我上面留下的代码和下面的代码之间的功能差异，这些代码取自一个工作项目：

**pdfArray.h**

```
#ifndef PDFARRAY_H
#define PDFARRAY_H

#include "pdfObj.h"
#include "pdfTypes.h"

class pdfArray : public pdfObj
{
public:
    pdfArray();
    pdfArray(const pdfArray &src);
    size_t size()
    {
        return(mArray->size());
    }
    void clear();

    ~pdfArray();

    template <typename T> void addItem(const T *newItem)
    {
        //cout << typeid(T).name() << endl;
        pdfObj *item = new T(*newItem);
        mArray->push_back(item);
    }
    pdfObj *getItem(unsigned int itemIndex);
    const bstring& toString();
    pdfArray &operator=(const pdfArray &src);
private:
    vecObjPtr *mArray;
};

#endif // PDFARRAY_H 
```

**摘自 pdfArray.cpp**

```
pdfArray::pdfArray(const pdfArray &src)
{
    vecObjPtrIter iter;
    pdfObj *ptr;
    mArray = new vecObjPtr;

    for (iter=src.mArray->begin(); iter!=src.mArray->end(); iter++)
    {
        ptr = *iter;

        if (typeid(*ptr) == typeid(pdfString))
            addItem( (pdfString*)ptr );

        if (typeid(*ptr) == typeid(pdfInt))
            addItem( (pdfInt*)ptr );

        if (typeid(*ptr) == typeid(pdfFloat))
            addItem( (pdfFloat*)ptr );

        if (typeid(*ptr) == typeid(pdfArray))
            addItem( (pdfArray*)ptr );
    }
} 
```

# sonarqube - 无法访问声纳树图

> ID：12833870
> 
> 赞同：2
> 
> 时间：2012-10-11T06:56:12.137
> 
> 标签：sonarqube, treemap

我正在使用声纳 3.1.1。

我无法访问

> sonar::Treemap.size_metric 和 sonar::Treemap.color_metric

显示树状图。

请帮我解决这个问题。或者有人为此提出了替代方案。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:32:56.003

sonar::Treemap 不是我们的 Ruby API（即 api::*）的一部分，所以我不建议您使用它，因为它可能会在没有通知的情况下更改。

# android - 如何在屏幕的某些部分禁用调度触摸事件

> ID：12833883
> 
> 赞同：3
> 
> 时间：2012-10-11T06:57:00.693
> 
> 标签：android, android-mapview, dispatchevent

我想禁用某些区域的调度触摸，以便您理解这里是我的屏幕。

![在此处输入图像描述](../Images/2b0bc3a1cc979bcb51a7ecf5d67df1bc.png)

您可以在图像中看到页眉、页脚和地图视图，但是当我单击位置按钮（页眉右侧）时，我的地图也会收到我不想要的通知（就像它被触摸一样）。我希望只单击按钮的 onClick 事件而不是调度事件。

这是我的 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/LinearLayout1"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

<!-- include title bar for all screen -->

<include
    android:id="@+id/include1"
    layout="@layout/titlebar_layout"
    android:layout_gravity="top" />

<FrameLayout
    android:layout_gravity="center"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_weight="0.88" 
    >

    <com.google.android.maps.MapView
        android:id="@+id/map"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_weight="1.63"
        android:apiKey="0VkXbAOFvAq7b6uaGHSmnS2a2VosPxoS6ceHY_g"
        android:clickable="true" >
    </com.google.android.maps.MapView>

</FrameLayout>

<include
    android:id="@+id/include2"
    android:layout_gravity="bottom"
    android:layout_marginBottom="38dp"
    layout="@layout/bottom_layout" />

</LinearLayout> 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T07:03:34.980

您可以覆盖`dispatchTouchEvent`, 并检查用户触摸屏幕的位置..

```
 @Override
public boolean dispatchTouchEvent(MotionEvent ev) {     
    //first check if the location button should handle the touch event
    if(locBtn != null) {
        int[] pos = new int[2];
        locBtn.getLocationOnScreen(pos);
        if(ev.getY() <= (pos[1] + locBtn.getHeight()) && ev.getX() > pos[0]) //location button event
            return locBtn.onTouchEvent(ev);
    }
        return super.dispatchTouchEvent(ev);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T11:08:59.417

MapView 接收`dispatchTouchEvent()`事件的原因是 Android 开始为最后一个添加的视图分发事件，如果它没有在那里处理，那么它被分派到最后一个在该视图之前添加的视图，依此类推......

在您的 xml 布局中，您首先添加页眉，然后添加 MapView，最后添加页脚。因此，在您的情况下，事件首先被发送到页脚，然后发送到 MapView，最后发送到页眉。

您必须选择解决此问题：

*   最简单的方法是重新排列布局中的项目，从 mapview 开始，然后添加所有其他项目。您可能需要使用相对布局才能正确定位它们。使用此 MapView 将看不到按钮处理的事件。
*   保留您的布局并让 MapView 接收事件。MapView 将需要测试事件是否应该由他处理或忽略。为此，您可以使用@Nunu 建议的代码，它应该可以工作。也许您需要在按钮 Y 坐标中添加按钮高度。

祝你好运。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:03:17.760

使用相对布局，底部有地图视图，顶部有点击按钮。并为按钮添加点击事件

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T08:59:41.893

使用 view.bringToFront() 获取高于其他视图的视图位置。

# asp.net - Sammy.js 显示错误

> ID：12833884
> 
> 赞同：0
> 
> 时间：2012-10-11T06:57:09.230
> 
> 标签：asp.net, knockout.js, sammy.js

我在 asp.net 3.5 中使用敲除和 Sammy 创建了一个页面。我已将 jquery、knockout.js 和 Sammy.js 放在 aspx 页面中。

但它向我显示错误“ **ReferenceError: jQuery is not defined --> })(jQuery, window);** ”

我的 sammy 版本是 0.6.3。

我应该怎么做才能解决这个错误。

# java - 将 ORACLE NUMBER 字段转换为 ORACLE DATE

> ID：12833889
> 
> 赞同：1
> 
> 时间：2012-10-11T06:57:28.150
> 
> 标签：java, date, oracle10g

我在将 NUMBER 字段转换为`ORACLE`日期时遇到问题。问题是字段包含一个值 1285666505575，它由 13 位数字组成。我认为这是标准时间戳值，但当前时间戳时间由 10 位数字组成（[在此处查看](http://www.unixtimestamp.com/)）。该字段由`JAVA`代码设置。我想将此数字转换为`dd-mm-yyyy`人类格式。能给些合适的建议吗？

提前致谢！

在@Jesper 的帮助下，我找到[了这个](http://searchoracle.techtarget.com/tip/How-to-convert-milliseconds-to-the-proper-date-format)解决方案。

```
select TO_DATE('01/01/1970 00:00:00','DD/MM/YYYY HH24:MI:SS') + (1285666505575 /1000/60/60/24) from dual 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:16:36.193

Unix 时间戳（您的链接所指）计算自 1970 年 1 月 1 日以来的**秒数**。

**Java 使用自 1970 年 1 月 1 日以来的毫秒**数来计算时间。因此，这比 Unix 时间戳多三位数也就不足为奇了。

您可以将该数字传递给`java.util.Date`. 例子：

```
Date date = new Date(1285666505575L);
System.out.println(new SimpleDateFormat("dd/MM/yyyy").format(date)); 
```

# html - 选项卡在 chrome 扩展中不起作用

> ID：12833890
> 
> 赞同：0
> 
> 时间：2012-10-11T06:57:31.420
> 
> 标签：html, google-chrome-extension

我正在尝试在 chrome 扩展中构建一个简单的登录表单。在我的 popup.html 中，我有一些设置了相应 tabindex 值的输入字段。用户名字段具有通过 HTML 或`$('#myelement').focus()`（我尝试了两种方法）设置的 autofocus 属性。

出于某种原因，当我第一次单击多功能栏旁边的按钮打开弹出窗口时，选项卡在我的表单上不起作用。用户名字段具有焦点，但按 Tab 键会使光标消失。仅当我明确单击其中一个输入字段然后按 Tab 键时它才会再次显示，但不会在它们第一次打开弹出窗口时出现。

```
<input type="text" id="one" tabindex=1 autofocus />
<input type="text" id="two" tabindex=2 /> 
```

如果我在 Web 浏览器（而不是扩展程序）中打开 popup.html，我注意到我的表单中的选项卡工作得很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T15:43:33.570

这是一个回归，这里有一个[错误](http://code.google.com/p/chromium/issues/detail?id=122352)。不幸的是，它已经存在了很长一段时间，而且似乎没有任何进展。

此错误没有已知的可编写脚本的解决方法。

# android - 将整个 Textview 旋转 -90 度

> ID：12833891
> 
> 赞同：1
> 
> 时间：2012-10-11T06:57:48.150
> 
> 标签：android, rotation, textview

我想将我的文本视图设置为 -90 度，这意味着我必须像这样展示它！我必须在单个线性布局中显示 8 个文本视图。我可以旋转，但我只能看到一个文本视图。请任何人帮我举个例子。

![在此处输入图像描述](../Images/8e25951f14381ddedd8a9b88f0486e99.png)

提前致谢。

```
public class AngledTextView extends TextView
{ 

       public AngledTextView(Context context, AttributeSet attrs) 
       { 
          super(context, attrs); 
       } 

       @Override 
       protected void onDraw(Canvas canvas) 
       { // Save the current matrix 
         canvas.save(); 
         // Rotate this View at its center 
         canvas.rotate(270,this.getWidth()/2, this.getHeight() /2); 
         // Draw it 
         super.onDraw(canvas); 
         // Restore to the previous matrix 
         canvas.restore(); 
        } 
 } 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-11T07:32:41.557

对于垂直 TextView，我使用了以下代码，它运行良好。

```
public class VerticleTextView extends TextView {

final boolean topDown;
public VerticleTextView(Context context, AttributeSet attrs){
    super(context, attrs);
    final int gravity = getGravity();
    if(Gravity.isVertical(gravity) && (gravity&Gravity.VERTICAL_GRAVITY_MASK) == Gravity.BOTTOM) {
       setGravity((gravity&Gravity.HORIZONTAL_GRAVITY_MASK) | Gravity.TOP);
       topDown = false;
    }else
       topDown = true;
 }

 @Override
 protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec){
    super.onMeasure(heightMeasureSpec, widthMeasureSpec);
    setMeasuredDimension(getMeasuredHeight(), getMeasuredWidth());
 }

 @Override
 protected void onDraw(Canvas canvas){
    TextPaint textPaint = getPaint(); 
    textPaint.setColor(getCurrentTextColor());
    textPaint.drawableState = getDrawableState();

    canvas.save();

    if(topDown){
       canvas.translate(getWidth(), 0);
       canvas.rotate(90);
    }else {
       canvas.translate(0, getHeight());
       canvas.rotate(-90);
    }

    canvas.translate(getCompoundPaddingLeft(), getExtendedPaddingTop());

    getLayout().draw(canvas);
    canvas.restore();
}
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-09T10:59:49.220

您应该使用 270 而不是 -90。这将完美地工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-22T17:56:07.943

在 API 级别 12 中添加

```
 view.animate().rotationBy(90).start() 
```

# salesforce - 销售人员对 SOQL 的限制？

> ID：12833902
> 
> 赞同：0
> 
> 时间：2012-10-11T06:58:14.500
> 
> 标签：salesforce, soql

使用我正在运行的 salesforce 的 PHP 库：

```
SELECT ... FROM Account LIMIT 100 
```

但 LIMIT 始终以 25 条记录为上限。我正在选择许多字段（60 个字段）。这是一个具体的限制吗？

骨架代码：

```
$client = new SforceEnterpriseClient();
$client->createConnection("EnterpriseSandboxWSDL.xml");
$client->login(USERNAME, PASSWORD.SECURITY_TOKEN);

$query = "SELECT ... FROM Account LIMIT 100";
$response = $client->query($query);

foreach ($response->records as $record) {
   // ... there's only 25 records
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:41:20.593

我不使用 Salesforce 的 PHP 库。但我可以假设在做之前

```
SELECT ... FROM Account LIMIT 100 
```

已经执行了更多的选择查询。如果您不对它们进行编码，那么 PHP 库可能会为您编写代码；-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T12:04:12.583

这是我的检查清单

1) 确保您有超过 25 条记录

2）在你的第一个循环之后做 queryMore 检查是否有更多的记录

3) 确保 batchSize 没有设置为 25

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-09T15:50:36.753

为避免州长限制，最好将所有记录添加到列表中，然后对列表中的记录执行您需要执行的所有操作。完成后，只需使用以下命令更新数据库： update listName;

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-12T19:01:58.277

Salesforce soap API[查询](http://www.salesforce.com/us/developer/docs/api/Content/sforce_api_calls_query.htm)方法将只返回有限数量的行。其返回值可能低于您定义的限制有几个原因。

1.  QueryOptions[标头 batchSize](http://www.salesforce.com/us/developer/docs/soql_sosl/index_Left.htm#StartTopic=Content/sforce_api_calls_soql_changing_batch_size.htm)已设置为 25。如果是这种情况，您可以尝试调整它。如果没有明确设置，您可以尝试将其设置为更大的值。
2.  When the SOQL statement selects a number of large fields (such as two or more custom fields of type long text) then Salesforce may return fewer records than defined in the batchSize. The reduction in batch size also occurs when dealing with base64 encoded fields, such as the Attachment.Body. If this is the case they you can just use [queryMore](http://www.salesforce.com/us/developer/docs/api/Content/sforce_api_calls_querymore.htm) with the QueryLocator from the first response.

In both cases, check the done and size properties of the done and size properties of the [QueryResult](http://www.salesforce.com/us/developer/docs/api/Content/sforce_api_calls_query_queryresult.htm) to determine if you need to use queryMore and the total number of rows that match the SOQL query.

# groovy - Groovy TimeCategory 坏毫秒加法

> ID：12833903
> 
> 赞同：2
> 
> 时间：2012-10-11T06:58:22.940
> 
> 标签：groovy, milliseconds

尝试此示例代码时：

```
use(groovy.time.TimeCategory) {
    800.millisecond + 300.millisecond
} 
```

在 groovy web[控制台](http://groovyconsole.appspot.com/)中，我得到了一个有趣的结果：

```
0.1100 seconds 
```

有谁知道为什么会发生这种情况或如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T08:27:26.710

这看起来像一个错误， TimeDuration 包含 1100 毫秒，但是当它打印出来时，它错误地将其转换为秒。

~~[我已将它作为错误添加到](http://jira.codehaus.org/browse/GROOVY-5751)~~ **Groovy** ***JIRA***

同时，我想你需要自己做从 TimeDuration 到 String 的转换器：-/

* * *

### 编辑

你可以做这样的事情（并且可能有一种更简洁的方法）

```
groovy.time.TimeDuration.metaClass.normalize = { ->
  def newdmap = ['days','hours','minutes','seconds','millis'].collectEntries { 
    [ (it):delegate."$it" ]
  }.with { dmap ->
    [millis:1000,seconds:60,minutes:60,hours:24,days:-1].inject( [ dur:[ days:0, hours:0, minutes:0, seconds:0, millis:0 ], roll:0 ] ) { val, field ->
      val.dur."$field.key" = dmap."$field.key" + val.roll
      val.roll = val.dur."$field.key".intdiv( field.value )
      val.dur."$field.key" = field.value < 0 ?
                               val.dur."$field.key" :
                               val.dur."$field.key" % field.value
      val
    }.dur
  }
  new TimeDuration( newdmap.days, newdmap.hours, newdmap.minutes, newdmap.seconds, newdmap.millis )
} 
```

这将一个`normalize`方法添加到`TimeDuration`，然后执行以下操作：

```
use(groovy.time.TimeCategory) {
    800.millisecond + 300.millisecond
}.normalize() 
```

节目`1.100 seconds`

我没有对该方法进行大量测试，因此请注意它可以通过一些单元测试来确保它不会因其他情况而崩溃。

# database - 使用 where 子句连接两个表后更新列

> ID：12833905
> 
> 赞同：1
> 
> 时间：2012-10-11T06:58:38.237
> 
> 标签：database, sqlite

我有两张桌子

线程表

```
_id   recipient_id    type
 1     1
 2     1
 3     2 
```

和地址表

```
_id    address
1      HELLO
2      BYE 
```

recipient_id 映射到地址表的 _id

如果地址是 HELLO，我需要更新`type`为特定值。我该怎么做？我已经试过了

```
UPDATE   threads SET threads.type = 106 FROM threads  
   INNER JOIN 
   addresses  ON addresses._id = threads.recipient_ids
    AND
   addresses.address LIKE '%HELLO%'; 
```

但我收到一个错误`near ".": syntax error`。更新列的正确语法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:28:00.313

您可以使用[`IN`](https://www.sqlite.org/lang_expr.html)运算符：

```
sqlite> .dump
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE threads (_id integer primary key, recipient_id integer, type text);
INSERT INTO "threads" VALUES(1,1,NULL);
INSERT INTO "threads" VALUES(2,1,NULL);
INSERT INTO "threads" VALUES(3,2,NULL);
CREATE TABLE addresses (_id integer primary key, address text);
INSERT INTO "addresses" VALUES(1,'HELLO');
INSERT INTO "addresses" VALUES(2,'BYE');
COMMIT;
sqlite> update threads set type = 106 where _id in
   ...> (select t._id from threads t, addresses  a
   ...>  where t.recipient_id = a._id and a.address like '%HELLO%');
sqlite> .dump
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE threads (_id integer primary key, recipient_id integer, type text);
INSERT INTO "threads" VALUES(1,1,'106');
INSERT INTO "threads" VALUES(2,1,'106');
INSERT INTO "threads" VALUES(3,2,NULL);
CREATE TABLE addresses (_id integer primary key, address text);
INSERT INTO "addresses" VALUES(1,'HELLO');
INSERT INTO "addresses" VALUES(2,'BYE');
COMMIT; 
```

# view - 以编程方式选择和清除 ADF DVT 饼图上的选择

> ID：12833907
> 
> 赞同：0
> 
> 时间：2012-10-11T06:58:50.310
> 
> 标签：view, graph, pie-chart, jdeveloper, oracle-adf

我正在使用饼图并基于单击饼图进行一些页面交互。这些工作得很好。

`<dvt:pieGraph id="graph1" tabularData="#{dc.bean.tabularData}" dataSelection="single" selectionListener="#{dc.bean.transfersGraphSelectionListener}"/>`

但是我无法支持以下用例

1.  在图表外部单击（或再次单击选定的数据集）应该会导致饼图失去其选择。
2.  在页面上有一个清除按钮，该按钮会强制图表丢失其当前选择。
3.  以编程方式选择图表中的数据集之一

我检查了 UIGraph API，但找不到太多信息。

任何提示都会非常有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T10:18:22.433

请将正确的代码添加到您的原始帖子中。这就是你的代码的样子

```
transfersGraphSelectionListener(SelectionEvent selectionEvent){ 
  Set<GraphSelection> selectionSet = selectionEvent.getGraphSelection(); 
  for (GraphSelection selection : selectionSet) { 
    if (selection instanceof DataSelection) { 
      DataSelection ds = (DataSelection) selection; 
      Set seriesKeySet = ds.getSeriesKey().keySet(); 
      for (Object key : seriesKeySet) { 
        Object selectedKey = ds.getSeriesKey().get((String) key)) 
      } 
```

好像少了点什么！

# javascript - QUnit 测试同步 ajax 调用

> ID：12833913
> 
> 赞同：0
> 
> 时间：2012-10-11T06:59:05.490
> 
> 标签：javascript, jquery, qunit

有人可以告诉我我们是否需要使用 asyncTest() 来测试同步 ajax 调用，或者 test() 可以在没有 start() 和 stop() 的情况下使用。

考虑一下：

```
var Class= function () {
var init = function () {

    amplify.request.define('students', 'ajax', {
        url: '/methods/GetStudentsList',
        dataType: 'json',
        type: 'GET',
        async:false

    });
};

Students = function (branch, callback) {
    init();
    return amplify.request("students",
        { branchID: branch },
        callback.success,
        callback.error
    );
};

return {
    Students: Students
};
} (); 
```

当 'async' 属性为 'true' 和 'false' 时，我们如何为 Class.Students() 方法编写测试用例？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T12:11:20.577

使用 asyncTest 和 asnyc true 或 false：

```
asyncTest("test", function () {
    init.Students(someBranch, function (a, b, c) {
        ok(true); //add your tests here
        start();
    });
}); 
```

带测试*和*停止/启动：

```
 test("test", function () {
        stop();
        init.Students(someBranch, function (a, b, c) {
            ok(true); //add your tests here
            start();
        });
    }); 
```

请注意，在这两种情况下，您的请求都将由 qunit 异步处理

使用 test without start or stop 可能会让你的测试失败

# java - Java 等价于 XMLReader C#

> ID：12833914
> 
> 赞同：2
> 
> 时间：2012-10-11T06:59:05.630
> 
> 标签：java, xml

由于 C# 中的 XMLReader 具有不会一次将整个 XML 文档带入内存的特性，因此对于大型 XML 文件似乎很有帮助。Java有类似的东西吗？我发现 Java 也有一个名为 XMLReader 的类，但它也有同样的作用吗？任何人请澄清。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:13:06.337

有两种加载 XML 的方法：将整个文档加载到内存中的 DOM 文档和读取 XML 并使用处理程序分析内容的 SAX 解析器。

您可能会看一下 SAX 解析器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T13:13:57.090

实际上，Java 有一个名为[XMLReader的](http://docs.oracle.com/javase/6/docs/api/org/xml/sax/XMLReader.html)*接口*。作为一个接口而不是一个类，它实际上并没有*做*任何事情，直到它被实现。

 *但它是用于解析的 SAX 包的一部分，它不会加载整个文档，使用通过读取 xml 文本触发的事件。

您可能想阅读[本教程](http://www.saxproject.org/quickstart.html)以开始使用 SAX，和/或只是在 google 中搜索 SAX。

Java 中还有其他 XML 解析包。DOM 确实会加载整个文档，因此对于大文件应该避免使用它。 [StAX](http://en.wikipedia.org/wiki/StAX)是一个较新的选项，它基于拉系统而不是 SAX 使用的推系统，但同样不会加载整个文档。*

# java - 设置扩展抽象类的子类的实例变量

> ID：12833917
> 
> 赞同：0
> 
> 时间：2012-10-11T06:59:10.567
> 
> 标签：java, swing, polymorphism, abstract, shapes

我有一个名为`Shape`抽象的类，以及一个名为`Circle`扩展形状的类

```
Shape shapeCircle = new Circle(); 
```

我可以很好地设置和获取 shapeCircle 的颜色，因为颜色获取器和设置器位于 Shape 中，但 Circle 的尺寸仅适用于 Circle 类（半径）。

如果 Circle 类有一个实例变量`private int radius`和一个名为 的方法`getRadius()`，我如何获取/设置 的半径`shapeCircle`？我试过`shapeCircle.getRadius();`了，但没有运气。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T07:04:56.067

> 对象 shapeCircle 只能访问 Shape 的方法。shapeCircle 是 Shape 类型，Circle 中的方法不可见。

通过使用这个，

```
 Circle shapeCircle = new Circle(); 
```

您可以同时调用 Circle 和 Shape 的方法。上述情况仅利用**Inheritance**。

**编辑**

但是如果你添加`public abstract int getDimension();`类`Shape`和`Circle`类实现`getDimension()`方法

```
@Override
    public int getDimension() {
        return radius;
    } 
```

所有扩展的类都`Shape`需要实现`getDimension()`方法。但是每个子类都有自己的维度。

您可以使用

```
 Shape shapeCircle = new Circle();
    shapeCircle.getDimension(); 
```

这利用了**多态性和抽象类**。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T07:05:31.220

```
Shape shapeCircle = new Circle(); 
```

这里的参考是 Shape 和 shape 类没有定义半径变量。所以你不能使用`shapeCircle.getRadius();`

要调用 get/set radious 方法类型，请像这样转换 shapecircle 变量

```
Circle shapeCircle = (Circle)shapeCircle; 
```

现在您可以调用 get/set radious 方法。请注意，类型转换代码应该采用某种不同的方法来使用多态性。

编辑：

您应该将抽象类或接口设计为具有所有重要/常见的操作/方法，这将有助于您编写多态代码。例如：Radius 字段是特定于 Circle 类的。但考虑到您最终要计算面积。所以你应该在你的抽象类中定义CalculateArea()方法，让每个形状都实现这个方法。这样，你就实现了多态。

```
Shape ShapeCicle = new Circle(Radius);
Float area = ShapeCircle.area(); 
```

要点是不要将自己局限于半径示例。尝试以某种方式定义类，以便您可以从多态性中受益。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T07:05:19.783

'Shape is not Circle' = 圆形方法不适用于 Shape。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T07:03:23.197

您必须在`instanceof`此处使用关键字来检查原始类型。如果类型是`Circle`，那么您可以键入 cast 并调用该`getRadius`方法。就像是

```
if (shapeCircle instanceof Circle) {
 Circle circle = (Circle)shapeCircle;
 int radius = circle.getRadius();
} 
```

应该这样做。

# java - 在 JSF-2.0 中将一页传递到另一页的参数？

> ID：12833918
> 
> 赞同：0
> 
> 时间：2012-10-11T06:59:12.113
> 
> 标签：java, jsf

我想将参数从一个页面传递到另一个页面。

每个页面都有一个*ViewScoped* JSF 支持 Bean。

虽然，我尝试使用`<f:param>`我得到以下错误：当我点击时`<h:commandLink>`将导航到另一个页面。

错误 ：

```
] Root cause of ServletException.
com.sun.faces.mgbean.ManagedBeanCreationException: Unable to create managed bean ReservationActionBean.  The following problems were found:
     - The scope of the object referenced by expression #{param.resvDataModel}, request, is shorter than the referring managed beans (ReservationActionBean) scope of view
    at com.sun.faces.mgbean.BeanManager.create(BeanManager.java:265)
    at com.sun.faces.el.ManagedBeanELResolver.resolveBean(ManagedBeanELResolver.java:244)
    at com.sun.faces.el.ManagedBeanELResolver.getValue(ManagedBeanELResolver.java:116)
    at com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:176)
    at com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:203)
    ......... 
```

page1.xhtml

```
<p:panelGrid style="margin-top:-1px;" id="dashboard">
    <ui:repeat value="#{DashBoard.dayList}" var="day">
        <p:row>
            <p:column style="background:#C1CDCD;width:100px;">
                <h:outputText value="#{day}" style="color:#333333;font-size:13px;">
                    <f:convertDateTime type="date" pattern="EEE, yyyy-MM-dd"/>
                </h:outputText>
            </p:column>
            <ui:repeat value="#{DashBoard.timeSlot}" var="timeSlot">
                <p:column style="background:#C1CDCD;text-align: center;">
                    <h:outputText value="#{timeSlot}" style="font-size:12px;"/>
                </p:column>
            </ui:repeat>
        </p:row>
        <ui:repeat value="#{DashBoard.resourceList}" var="res">
            <p:row>
                <p:column>
                    <h:outputText value="#{res.name}" style="font-size:12px;"/>
                </p:column>
                <ui:repeat value="#{DashBoard.getResvDataModelList(day, res)}" var="model">
                    <p:column style="background:#{model.colour};" colspan="#{model.section}">
                        <h:commandLink action="reservation" style="display:block;width:#{model.section * 50}px;height:20px;">
                            <f:param name="model" value="#{ReservationActionBean.resvDataModel}"/>
                            <!--h:outputText value="#{model.user}"rendered="#{model.resource.name == res.name ? true : false}"style="font-size:12px;"/-->
                        </h:commandLink>
                    </p:column>
                </ui:repeat>
            </p:row>
        </ui:repeat>
    </ui:repeat>
</p:panelGrid> 
```

page2.xml

```
<h:form id="reservationEntryFrom">
    <f:metadata>
        <f:viewParam name="resvDataModel" value="#{ReservationActionBean.resvDataModel}"/>
    </f:metadata>

    <!-- other -->

</h:form> 
```

仪表板.java

```
@ManagedBean(name = "DashBoard")
@ViewScoped
public class DashBoard extends BaseBean {

    public List<ResvDataModel> getResvDataModelList(
            Date date, MeetingRoom meetingRoom) {

        // do operation
    }
} 
```

ReservationActionBean.java

```
@ManagedBean(name="ReservationActionBean")
@ViewScoped
public class ReservationActionBean extends BaseBean  {

    @ManagedProperty("#{param.resvDataModel}")
    private ResvDataModel resvDataModel;

    //other operations
} 
```

ResvDataModel.java

```
public class ResvDataModel {

    // attribute, getter and sertter

    @Override
    public boolean equals(Object object) {
        return EqualsBuilder.reflectionEquals(this, object);
    }

    @Override
    public int hashCode() {
        return HashCodeBuilder.reflectionHashCode(this);
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T11:47:15.507

在 bean的`@ManagedProperty`构造过程中只调用一次。假设 bean 在会话范围内，并且托管属性引用了请求范围的变量（例如请求参数），那么只会设置第一个请求的参数，并且在后续请求中永远不会使用更改的请求参数值来更新它*在*会话 bean 构建之后。这被认为是不良行为。因此`@ManagedProperty`不能引用比`@ManagedBean`自身范围更窄的东西。

在这种特殊情况下，您需要`<f:viewParam>`。将以下内容放入`page2.xhtml`：

```
<f:metadata>
    <f:viewParam name="resvDataModel" value="#{ReservationActionBean.resvDataModel}" />
</f:metadata> 
```

### 也可以看看：

*   [ViewParam 与 @ManagedProperty(value = "#{param.id}")](https://stackoverflow.com/questions/4888942/viewparam-vs-managedpropertyvalue-param-id/4889226#4889226)

**但是**，这种方法还有另一个问题。您将非`String`对象作为请求参数传递。该值将是 only `com.example.ResvDataModel@hashcode`（或`toString()`您的`ResvDataModel`类的方法返回的任何值）。此信息不足以准确重建所需的`ResvDataModel`实例。

您需要传递一些唯一标识符或操作参数值，而不是传递一个无法唯一表示为`String`.

# sql - 选择当月第一天和当前日期之间的所有日期

> ID：12833919
> 
> 赞同：4
> 
> 时间：2012-10-11T06:59:13.993
> 
> 标签：sql, sql-server-2008

只想选择当前日期和月份第一天之间的所有日期。我想使用填充临时表中的所有日期

```
declare @temp table 
 (
   ddate datetime 
  ) 
```

我已经尝试过 `with cte` ，但我不想使用 while 循环，因为我想避免 while 在存储过程中。

例如今天是`11-oct-2012`

所以临时表应该有 11 行从`1-oct-2012`to`11-oct-2012`

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-11T07:08:56.183

Try this

```
DECLARE @startDate DATE=CAST(MONTH(GETDATE()) AS VARCHAR) + '/' + '01/' +  + CAST(YEAR(GETDATE()) AS VARCHAR)  -- mm/dd/yyyy
DECLARE @endDate DATE=GETDATE() -- mm/dd/yyyy

SELECT [Date] = DATEADD(Day,Number,@startDate) 
FROM  master..spt_values 
WHERE Type='P'
AND DATEADD(day,Number,@startDate) <= @endDate 
```

OR

```
DECLARE @startDate DATETIME=CAST(MONTH(GETDATE()) AS VARCHAR) + '/' + '01/' +  + CAST(YEAR(GETDATE()) AS VARCHAR) -- mm/dd/yyyy
DECLARE @endDate DATETIME= GETDATE() -- mm/dd/yyyy

;WITH Calender AS 
(
    SELECT @startDate AS CalanderDate
    UNION ALL
    SELECT CalanderDate + 1 FROM Calender
    WHERE CalanderDate + 1 <= @endDate
)
SELECT [Date] = CONVERT(VARCHAR(10),CalanderDate,25) 
FROM Calender
OPTION (MAXRECURSION 0) 
```

![enter image description here](../Images/8bd57f4889932f7159fb4c683d23cfb9.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T07:56:45.143

```
declare @temp table (ddate datetime);

insert @temp
select DATEDIFF(d,0,GetDate()-Number)
from master..spt_values
where type='p' and number < DatePart(d,Getdate())
order by 1; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-06-02T03:15:31.670

使用 current_date 将每个生成的系列的天数添加到天数中，该系列可以从该月的第一天减去 current_day 到 0，例如今天 6 月 2 日，该系列可以是 (-1, 0)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-10-01T14:57:42.680

试试下面的代码：

```
DECLARE @startDate DATETIME=CAST(MONTH(GETDATE()) AS VARCHAR) + '/' + '01/' +  + CAST(YEAR(GETDATE()) AS VARCHAR) -- mm/dd/yyyy
DECLARE @endDate DATETIME= CAST(MONTH(GETDATE()) AS VARCHAR) + '/' + '31/' +  + CAST(YEAR(GETDATE()) AS VARCHAR) -- mm/dd/yyyy

;WITH Calender AS 
(
    SELECT @startDate AS CalanderDate
    UNION ALL
    SELECT CalanderDate + 1 FROM Calender
    WHERE CalanderDate + 1 <= @endDate
)
SELECT [Date] = CONVERT(VARCHAR(10),CalanderDate,25) 
FROM Calender
OPTION (MAXRECURSION 0) 
```

# wpf - 后台工作人员不报告 wpf 的进度

> ID：12833921
> 
> 赞同：-1
> 
> 时间：2012-10-11T06:59:34.153
> 
> 标签：wpf, progress-bar, backgroundworker, progress

> **可能重复：**
> [Backgroundworker 不会报告进度](https://stackoverflow.com/questions/854548/backgroundworker-wont-report-progress)

我在 WPF 中使用后台工作人员。问题在于它没有报告进度。它只是在完成任务时更新 ProgressBar。我想在后台任务运行时定期更新它。这是我的示例代码。

```
 bworker_doWork(...)
    {
       BindData();//this is database operation which binds data to datagrid.
    }

    bWorker_ProgressChanged(...)
    {
       progressBar.Value=e.ProgressPercentage;//it doesnt update this value
    }

    bWorker_RunWorkerCompleted(..)
    {
       progressBar.Value=100;//max value. control comes here and updates the progress to max value.
    } 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-11T07:04:35.663

你在任何地方设置 ProgressPercentage 吗？（无法从您提交的代码中看出）

我认为您错过的是您必须在代码中调用 ReportProgress；像这样：

```
myBackgroundWorker.ReportProgress((int)percent, null); 
```

我猜在你的代码中它看起来像这样：

```
bworker_doWork(...)
{
   BindData();//this is database operation which binds data to datagrid.
   bworker.ReportProgress((int)percent);
}

bWorker_ProgressChanged(...)
{
   progressBar.Value=e.ProgressPercentage;//it doesnt update this value
}

bWorker_RunWorkerCompleted(..)
{
   progressBar.Value=100;//max value. control comes here and updates the progress to max value.
} 
```

# algorithm - 如何用 8 个字符将当前日期和时间表示为最接近的秒数？

> ID：12833923
> 
> 赞同：0
> 
> 时间：2012-10-11T06:59:40.530
> 
> 标签：algorithm, date, format, legacy

我正在集成到一个遗留应用程序，该应用程序生成最大文件名大小为 8 个字符的数据文件。我可以控制名称，并且希望能够将其基于当前日期和时间，精确到秒。它必须是独一无二的。

有没有人有任何好的想法或算法来实现这一点，没有任何状态？

我正在使用 C#，但欢迎任何语言或伪代码想法！

编辑：任何字符 A-Za-z0-9 只允许（为了安全起见），

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:07:51.183

I think the easiest solution would be to store Unix time in hex, which would last [93 years from now](http://www.wolframalpha.com/input/?i=%280xFFFFFFFF%20-%201349939282%29secs%20in%20years).

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T07:08:41.973

If you can use more chars than 0-9 you could use a pattern where months and hours are encoded as letters

months = a-l
hours = a-y (depending on if you use w or not.)
days = 0-9 + a-...

This combined with 2 digit year and seconds in the hour as hex (3 chars) amounts to

yyMdhsss

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-11T07:04:40.187

您可以仅使用自 1/1/12 0:00 以来经过的秒数，但这只会持续 3 年。

假设不区分大小写，您可以使用 10 位数字和 26 个字母表以 36 为基数进行编码，这至少应该持续到您的一生。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-16T07:08:21.943

在以上答案之一的范围内，

```
 year = 2 YY it's diff year from reference year say 2000\. we can have 26+26+10 aphabets to combine !
    months = 1 M a-l map each month to single alphabet
    days = 1 D a-z A-G 
    hours = 1 H a-y (map a char to a-x)
    seconds = 1 60 a-z , A-Z 0-9 chars total 26+26+10 ==> 62 avaiable chars 
```

以 GMT 格式保存所有日期以进行存储。

它适合 6 个字符！如果需要，我们可以再使用 1 个字符作为年份扩展。显然，我们需要自定义函数将时间日期从正常格式转换为这种格式。

# jquery - 表单提交后的jQuery Mobile后退按钮

> ID：12833924
> 
> 赞同：2
> 
> 时间：2012-10-11T06:59:59.007
> 
> 标签：jquery, jquery-mobile, mobile-website

我在 jQuery Mobile (JQM) 中遇到了一个有趣的问题。

您应该事先知道，我有一个单页模板设置（单独的页面），设置了以下全局配置选项，主要是为了关闭 ajax 和 jQM 哈希导航系统。

```
$(document).bind("mobileinit", function(){
$.mobile.ajaxEnabled = "false";
$.mobile.buttonMarkup.hoverDelay = "100";   
$.mobile.defaultPageTransition = "none";    
$.mobile.hashListeningEnabled = "false";
$.mobile.pushStateEnabled = "false";
$.mobile.loader.prototype.options.textVisible = true;
}); 
```

**问题**

我有一个搜索结果页面，它显然会显示搜索结果。页面内是另一个表单，允许用户细化他们的搜索。有时用户会决定他们不喜欢精炼的结果，他们会想要单击返回按钮来显示他们的原始结果集。问题是，在 JQM 站点上，当为此目的单击/轻按后退按钮时，用户不会被带回原始搜索结果，而是被带到站点的索引页面。

有趣的是，页面（减去特定于 JQM 的脚本/css）与静态 html 版本相同。该版本的行为应该如此。

**问题：**

我是否缺少在这里有用的全局配置选项？是否还有其他特定于 JQM 的东西可能导致这种情况？

**标记：**

```
<!DOCTYPE html> 
<html> 
<head> 
<meta charset="ISO-8859-1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<title>Search Results</title> 
<!-- JQM CSS -->
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
<!-- Custom Theme CSS -->
<link rel="stylesheet" href="themes/cayce.css" />
<!-- Custom CSS -->
<link rel="stylesheet" href="css/custom.css" />
<!-- Jquery -->
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script type="text/javascript">
if (typeof jQuery == 'undefined') {
    document.write(unescape("%3Cscript src='js/jquery-1.8.2.min.js' type='text/javascript'%3E%3C/script%3E"));
}
</script>
<!-- Custom Jquery -->
<script type="text/javascript" src="js/custom.js"></script>
<!-- jQuery Mobile-->
<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
<script type="text/javascript">
if (typeof jQuery == 'undefined') {
    document.write(unescape("%3Cscript src='js/jquery.mobile.1.2.0.min.js' type='text/javascript'%3E%3C/script%3E"));
}
</script>
</head>  
<body> 
<div data-role="page" id="searchresults">
<div data-role="header">
<h1>Search Results</h1>
<a href="javascript:history.go(-1)" data-icon="back" class="ui-btn-left">Back</a>
<a href="WebCatPageServer.exe?Landing" data-icon="home" class="ui-btn-right">Menu</a>
<div class="header-sub">
<div class="logo">
<a href="WebCatPageServer.exe?Landing">
<img src="themes/images/logo.png" width="100" height="49" alt="Company Logo">
</a>
</div>
</div>
</div><!-- /header -->
<div data-role="content">
<div class="ui-bar ui-bar-e">
<p>We found a total of <b>SPI_SearchHitCount</b> products containing<p>
<p><b>"SPI_SearchStrDisp"</b></p>
<!--Results SPI_SearchStart thru SPI_SearchEnd-->
</div>
<div data-role="collapsible" data-collapsed="true" data-content-theme="d" style="margin-top:15px;">
<h3>Refine/New Search</h3>
<form name="RefineSearchForm" id="RefineSearchForm" method="post"  action="WebCatPageServer.exe?DO_SEARCH">
<input name="Action" type="hidden" value="Search">
<input name="SearchType" type="hidden" value="AND">
<input name="FullSearch" type="hidden" value="SPI_SearchFull">
<input name="PrevSearchText" type="hidden" value="SPI_SearchPSearch">
<input name="Start" type="hidden" value="1">
<input name="New" type="hidden" value="SPI_SearchNew">
<input name="Refine" type="hidden" value="SPI_SearchRefine">
<input name="SearchMF" type="hidden" value="SPI_SearchSearchMF">
<input type="search" name="Search Term" id="refinesearch" value=""  />
<div class="ui-grid-a">
<div class="ui-block-a">
<!-- SPI_HTML_RefineResults_Btn -->
<input type="submit" name="refinesearch" data-theme="c" value="Refine Search"/>
<!-- SPI_HTML_RefineResults_Btn --></div>
<div class="ui-block-b"><input type="submit" data-theme="c" name="newsearch" onClick="javascript:document.RefineSearchForm.Refine.value='NO';document.RefineSearchForm.PrevSearchText.value='';document.RefineSearchForm.New.value='YES';" value="New Search"></div>
</div><!-- /grid-a -->
</p>
</form>
</div>
<fieldset class="ui-grid-a">
<div class="ui-block-a">
<!-- SPI_HTML_PrevResults_Link -->
                    <form name="PrevSearchForm" method="post" action="WebCatPageServer.exe?DO_SEARCH" class="noprint">
                        <input name="Action" type="hidden" value="Search">
                        <input name="SearchType" type="hidden" value="AND">
                        <input name="FullSearch" type="hidden" value="SPI_SearchFull">
                        <input name="PrevSearchText" type="hidden" value="SPI_SearchPSearch">
                        <input name="Start" type="hidden" value="SPI_SearchPrevStart">
                        <input name="New" type="hidden" value="NO">
                        <input name="Refine" type="hidden" value="NO">
                        <input name="SearchMF" type="hidden" value="SPI_SearchSearchMF">
                        <input name="SearchText" type="hidden" value="">
                        <input name="ResultsPerPage" type="hidden" value="SPI_SearchResultsPerPage">
                        <input type="submit" data-icon="arrow-l" value="Previous" />
                    </form>
<!-- SPI_HTML_PrevResults_Link -->
</div>
<div class="ui-block-b">
<!-- SPI_HTML_NextResults_Link -->
                    <form name="NextSearchForm" method="post" action="WebCatPageServer.exe?DO_SEARCH" class="noprint">
                        <input name="Action" type="hidden" value="Search">
                        <input name="SearchType" type="hidden" value="AND">
                        <input name="FullSearch" type="hidden" value="SPI_SearchFull">
                        <input name="PrevSearchText" type="hidden" value="SPI_SearchPSearch">
                        <input name="Start" type="hidden" value="SPI_SearchNextStart">
                        <input name="New" type="hidden" value="NO">
                        <input name="Refine" type="hidden" value="NO">
                        <input name="SearchMF" type="hidden" value="SPI_SearchSearchMF">
                        <input name="SearchText" type="hidden" value="">
                        <input name="ResultsPerPage" type="hidden" value="SPI_SearchResultsPerPage">
                        <input type="submit" data-icon="arrow-r" value="Next"/>
                    </form>
<!-- SPI_HTML_NextResults_Link -->
</div>
</fieldset>
<!-- SPI_HTML_Results -->
<form name="AddItem" method="post" action="WebCatPageServer.exe">
<input name="Action" type="hidden" value="Add_Item">
<ul data-role="listview" data-inset="true" data-theme="d" data-dividertheme="d" data-split-icon="plus" data-split-theme="d">
<!-- SPI_HTML_Product_LevelEntry -->
<li data-role="list-divider" class="listdivider">SPI_Level3Entry</li>
<!-- SPI_HTML_Product_LevelEntry -->
<!-- SPI_HTML_Product_Entry1 -->
<li class="prod">
<!-- SPI_HTML_Product_Thumbnail -->
<a href="SPI_ProdFullLink"><!--<img src="SPI_ProdThumbnail" width="75" height="75" alt="SPI_ProdEntryID"/>-->
<!-- SPI_HTML_Product_Thumbnail -->
<!-- SPI_HTML_Product_LinkItemNum -->
<h3>SPI_ProdEntryID</h3>
<!-- SPI_HTML_Product_LinkItemNum -->
<!-- SPI_HTML_Product_Entry_Others -->
<p class="space"><b>Part #</b>: SPI_ProdEntryOther</p>
<!-- SPI_HTML_Product_Entry_Others -->
<p class="description"><b>Description</b>: SPI_ProdEntryDesc</p>
<!-- SPI_HTML_AllowOrderPlacement -->
<!-- SPI_HTML_AllowViewPriceAvail -->
<p class="space"><b>Qty Avail</b>: SPI_ProdQtyAvail</p>
<p class="space"><b>Unit Price</b>: <span class="price">SPI_ProdEntryPrice</span></p>
<!-- SPI_HTML_AllowViewPriceAvail -->
<input type="number" class="nolink" name="SPI_CartOrdQtyFieldName" value="" tabindex="SPI_CartOrdQtyTabIndex" />
</a>
<input name="SPI_CartProductIDFieldName" type="hidden" value="SPI_ProductID" class="noprint"/>
<input name="SPI_CartMfgProdIDFieldName" type="hidden" value="SPI_MfgProdID" class="noprint"/>
<input name="SPI_CartProductDescFieldName" type="hidden" value="SPI_ProductDesc" class="noprint"/>
<a href="#" onClick="javascript:if (document.AddItem.SPI_CartOrdQtyFieldName.value==0){document.AddItem.SPI_CartOrdQtyFieldName.value='1'};document.AddItem.submit();">Add</a>
<!-- SPI_HTML_AllowOrderPlacement -->
</li>
<!-- SPI_HTML_Product_Entry1 -->
<!-- SPI_HTML_Product_Entry2 -->
<li class="prod">
<!-- SPI_HTML_Product_Thumbnail -->
<a href="SPI_ProdFullLink"><!--<img src="SPI_ProdThumbnail" width="75" height="75" alt="SPI_ProdEntryID"/>-->
<!-- SPI_HTML_Product_Thumbnail -->
<!-- SPI_HTML_Product_LinkItemNum -->
<h3>SPI_ProdEntryID</h3>
<!-- SPI_HTML_Product_LinkItemNum -->
<!-- SPI_HTML_Product_Entry_Others -->
<p class="space"><b>Part #</b>: SPI_ProdEntryOther</p>
<!-- SPI_HTML_Product_Entry_Others -->
<p class="description"><b>Description</b>: SPI_ProdEntryDesc</p>
<!-- SPI_HTML_AllowOrderPlacement -->
<!-- SPI_HTML_AllowViewPriceAvail -->
<p class="space"><b>Qty Avail</b>: SPI_ProdQtyAvail</p>
<p class="space"><b>Unit Price</b>: <span class="price">SPI_ProdEntryPrice</span></p>
<!-- SPI_HTML_AllowViewPriceAvail -->
<input type="number" class="nolink" name="SPI_CartOrdQtyFieldName" value="" tabindex="SPI_CartOrdQtyTabIndex" />
</a>
<input name="SPI_CartProductIDFieldName" type="hidden" value="SPI_ProductID" class="noprint"/>
<input name="SPI_CartMfgProdIDFieldName" type="hidden" value="SPI_MfgProdID" class="noprint"/>
<input name="SPI_CartProductDescFieldName" type="hidden" value="SPI_ProductDesc" class="noprint"/>
<a href="#" onClick="javascript:if (document.AddItem.SPI_CartOrdQtyFieldName.value==0){document.AddItem.SPI_CartOrdQtyFieldName.value='1'};document.AddItem.submit();">Add</a>
<!-- SPI_HTML_AllowOrderPlacement -->
</li>
<!-- SPI_HTML_Product_Entry2 -->
</ul>
</form>
<!-- SPI_HTML_Results -->
<br>
<fieldset class="ui-grid-a">
<div class="ui-block-a">
<!-- SPI_HTML_PrevResults_Link -->
                    <form name="PrevSearchForm" method="post" action="WebCatPageServer.exe?DO_SEARCH" class="noprint">
                        <input name="Action" type="hidden" value="Search">
                        <input name="SearchType" type="hidden" value="AND">
                        <input name="FullSearch" type="hidden" value="SPI_SearchFull">
                        <input name="PrevSearchText" type="hidden" value="SPI_SearchPSearch">
                        <input name="Start" type="hidden" value="SPI_SearchPrevStart">
                        <input name="New" type="hidden" value="NO">
                        <input name="Refine" type="hidden" value="NO">
                        <input name="SearchMF" type="hidden" value="SPI_SearchSearchMF">
                        <input name="SearchText" type="hidden" value="">
                        <input name="ResultsPerPage" type="hidden" value="SPI_SearchResultsPerPage">
                        <input type="submit" data-icon="arrow-l" data-theme="c" value="Previous" />
                    </form>
<!-- SPI_HTML_PrevResults_Link -->
</div>
<div class="ui-block-b">
<!-- SPI_HTML_NextResults_Link -->
                    <form name="NextSearchForm" method="post" action="WebCatPageServer.exe?DO_SEARCH" class="noprint">
                        <input name="Action" type="hidden" value="Search">
                        <input name="SearchType" type="hidden" value="AND">
                        <input name="FullSearch" type="hidden" value="SPI_SearchFull">
                        <input name="PrevSearchText" type="hidden" value="SPI_SearchPSearch">
                        <input name="Start" type="hidden" value="SPI_SearchNextStart">
                        <input name="New" type="hidden" value="NO">
                        <input name="Refine" type="hidden" value="NO">
                        <input name="SearchMF" type="hidden" value="SPI_SearchSearchMF">
                        <input name="SearchText" type="hidden" value="">
                        <input name="ResultsPerPage" type="hidden" value="SPI_SearchResultsPerPage">
                        <input type="submit" data-icon="arrow-r" data-theme="c" value="Next"/>
                    </form>
<!-- SPI_HTML_NextResults_Link -->
</div>
</fieldset>
</div><!-- /content -->
<div data-role="footer">
</div><!-- /footer -->
<script type="text/javascript">
$('#searchresults').on('pageshow', function () {
    $('a input.nolink').each(function() {
        var default_value = this.value;
        $(this).focus(function() {
            if(this.value == default_value) {
                this.value = '';
            }
            $('a input.nolink').click(function(event) {
                event.preventDefault();
                event.stopPropagation();
            }
            );
        }
        );
    }
    );
    $('body').append('<div data-role="popup" id="popupBasic" data-transition="pop" >'+
            '<p>Please enter keyword(s) in the search input field.</p>'+
            '</div>');
    $( "#popupBasic" ).popup();
    var search_cmds = $('input[name="newsearch"][type="submit"]').attr('onclick');
    $('input[name="newsearch"][type="submit"]').attr('onclick','');
    $('input[name="refinesearch"], input[name="newsearch"][type="submit"]').on('click', function() {
        if ($('#refinesearch').val()=='') {
            //$( "#popupBasic" ).trigger('create');
            $( "#popupBasic" ).popup( "open" );
            setTimeout(function() {
                $( "#popupBasic" ).popup( "close" );
            }
            ,1500);
            return false;
        }
        if ($(this).attr('name')=='newsearch') {
            /*document.RefineSearchForm.Refine.value='NO';
            document.RefineSearchForm.PrevSearchText.value='';
            document.RefineSearchForm.New.value='YES';*/
            eval(search_cmds);
        }
    }
    )
}
);
</script>
</div><!-- /page -->
</body>
</html> 
```

**谢谢** 我非常感谢你的时间，伙计们！

**更新** 现在已解决。我的 JQM 全局配置选项中有语法错误。这应该如下所示：

```
$(document).bind("mobileinit", function(){
$.mobile.ajaxEnabled = false;
$.mobile.buttonMarkup.hoverDelay = 100;     
$.mobile.hashListeningEnabled = false;
$.mobile.pushStateEnabled = false;
$.mobile.loader.prototype.options.textVisible = true;
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T11:46:44.010

而不是使用

```
<a href="javascript:history.go(-1)"> 
```

试试像这样工作的jqm内置函数

```
<a data-role="button" data-rel="back" data-icon="arrow-l">back</a> 
```

有关更多信息和详细信息，请查看此处的官方文档

[http://jquerymobile.com/demos/1.2.0/docs/pages/page-links.html](http://jquerymobile.com/demos/1.2.0/docs/pages/page-links.html)

让我知道它是否有用

# html - 如何在 div 中获取表单结果？

> ID：12833927
> 
> 赞同：0
> 
> 时间：2012-10-11T07:00:23.043
> 
> 标签：html

嗨，我有这个 html 代码可以将数据提交给谷歌

```
 <form name="input" action="http://www.google.com" method="get">
    Username: <input type="text" name="user">
    <input type="submit" value="Submit">
    </form>
<div id="result"></div> 
```

当我键入要搜索的单词并单击提交按钮时，它应该转到 google.com，它应该得到结果并且该结果应该显示在 div 中..我该怎么做...提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:32:39.077

`target`您可以通过使用标签中的属性将表单提交的结果显示在当前页面（包含表单）中，但有一些限制`form`。属性值应与页面元素中的`name`属性值匹配。`iframe`当然，您可以将元素包装在`iframe`元素`div`中。

但是，这在给定的情况下不起作用。首先，该表单不是 Google 搜索表单。要启动搜索，`action`属性应该是 eg `http://www.google.fi/search`，并且表单应该包含一个按 Google 命名约定命名的字段；`q`是关键字输入项的名称。其次，更严重的是，谷歌只是不允许你这样做。在 HTTP 标头中，它表示[`X-Frame-Options SAMEORIGIN`](https://developer.mozilla.org/en-US/docs/The_X-FRAME-OPTIONS_response_header)，这意味着您无法在站点页面的框架内获取结果。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-11T07:06:53.910

You will have to use javascript for this. Also, use the **Inner Frame** for this. And the code will be something like:

```
 <form name="input" action="html_form_action.asp" method="get">
        Username: <input type="text" name="user">
        <input type="submit" value="Submit" onclick="function1">
        </form>
    <div id="result">

 <iframe src="http://www.google.com/" border-style:solid;">
 </iframe>

</div>

    <script type="text/javascript">
    function1(){
    var el=document.getElementById("result")
    el.innerHTML="<iframe src=\"http://www.google.com\"></iframe>"
    }
    </script> 
```

# windows - Windows上的递归互斥锁？

> ID：12833944
> 
> 赞同：1
> 
> 时间：2012-10-11T07:01:26.840
> 
> 标签：windows, mutex, condition-variable, recursive-mutex

据我了解，在 Windows 上 CRITICAL_SECTION 只能用作非递归互斥锁。要获得递归互斥锁，您必须使用 OpenMutex 和朋友。

但是，AFAIU、Win32 Mutex 不能与条件变量一起使用（InitializeConditionVariable 等）

有没有办法在 Windows 上将递归互斥锁与条件变量结合使用？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T12:12:05.467

瓦尔多的评论是正确的。CRITICAL_SECTION*是*递归的。这里引用 MSDN 的一段话：“线程拥有临界区所有权后，它可以对 EnterCriticalSection 或 TryEnterCriticalSection 进行额外调用，而不会阻塞其执行。” 问题解决了。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-11T07:08:35.003

那没有任何意义。从语义上讲，条件变量的意义在于您在等待时自动释放锁——从而允许其他线程获取锁来执行您正在等待的事情。但是，递归互斥锁上的“释放”操作实际上可能不会解锁它，因此在释放后等待可能会死锁。您想要一种方法来执行此操作这一事实强烈表明您的设计或您对条件变量的理解存在问题。

想一想——当一个持有递归互斥锁的函数调用一个获取第二个锁的函数然后调用睡眠函数时会发生什么？如果锁被释放，第一个函数的逻辑将中断，因为对象将在它持有锁的同时被修改。如果锁没有被释放，等待将死锁，因为它正在等待的事情永远不会发生，因为它持有另一个线程需要让它发生的锁。

在不知道您是否已经锁定条件变量的情况下，没有明智的方法来使用条件变量。如果你知道你是否有锁，就不需要递归锁功能。如果你知道你已经有一个锁，不要费心调用锁函数。如果您知道您还没有锁，即使它不是递归的，锁功能也可以正常工作。

# typo3 - 防止呈现 FCE 的 TYPO3 默认标题

> ID：12833949
> 
> 赞同：2
> 
> 时间：2012-10-11T07:01:41.787
> 
> 标签：typo3, typoscript, templavoila

在 FCE 中，我不想使用默认的 TYPO3 元素，如标题、链接等。所以我使用以下 ts 配置隐藏它：

```
 TCEFORM.tt_content {
    header.types.templavoila_pi1.disabled = 1
    header_position.types.templavoila_pi1.disabled = 1
    header_link.types.templavoila_pi1.disabled = 1
    header_layout.types.templavoila_pi1.disabled = 1
    date.types.templavoila_pi1.disabled = 1
    subheader.types.templavoila_pi1.disabled = 1
    } 
```

在此之后不需要的字段不显示。但是当我在后端保存并关闭内容时，页面内容的标题部分显示[无标题]。

这是页面内容不足的屏幕：

![在此处输入图像描述](../Images/59accba6df320cb5a556bb8e3d2ad2cc.png)

因此，我决定通过删除以下行来保留默认标题字段：

```
header.types.templavoila_pi1.disabled = 1 
```

来自 tsconfig。如何防止渲染标题字段？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:48:03.773

**将其标记为隐藏。**编辑您的内容 (CASE#1) 并从类型中选择最后一个名为 hidden。

![在此处输入图像描述](../Images/572a779562dc98df34bd9236dffe5cf6.png)

或覆盖标题 css 配置并将其设置为

```
display:none; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T14:47:59.473

我的基本模板的后端模板包括标题的后端样式[无标题]

```
<style>
.sortable_handle {
    color: transparent;
}
.tpm-title-cell {
    display: none;
}
</style>
###content### 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-04T08:31:09.570

在 TYPO3v7 和 v8 中，您可以通过为

```
$GLOBALS['TYPO3_CONF_VARS']['SC_OPTIONS']['cms/layout/class.tx_cms_layout.php']['tt_content_drawItem'] 
```

并重置`$headerContent`你的钩子中的变量。

见[https://stmllr.net/blog/customizing-preview-widgets-in-the-typo3-page-module/](https://stmllr.net/blog/customizing-preview-widgets-in-the-typo3-page-module/)

# data-warehouse - bobj 系统表

> ID：12833953
> 
> 赞同：1
> 
> 时间：2012-10-11T07:01:58.960
> 
> 标签：data-warehouse, business-objects, system-tables

我是 BOBJ 报告的新手，我正在尝试为 BOBJ 报告生成数据字典，例如报告查看的宇宙、报告列引用的对象以及该报告列又引用 DB 中的哪些表......这样种信息。

BOBJ 中是否存在任何系统表，例如Oracle 或informatica中`all_tab_cols`的等？`all_tables``rep_all_mappings``rep_mapping_conn_ports`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T15:18:06.423

您将无法通过查询 BO 存储库数据库来执行此操作。原因是数据库内容是*加密*的。我知道进行类似操作的唯一方法是使用各种 SDK 首先“查询”信息存储库中的报表对象、Universe 对象和连接对象之间的关系。

至于各种 Universe 对象映射到数据库条目的位置，这需要 SDK 工作来遍历实际的 Universe 以创建所需的结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-16T05:16:52.700

您可能想试一试 Query Builder。这允许您查询底层数据库。与数据存储库可以映射到可查询 Universe 的 XI 前版本不同，CMS 存储库的较新版本不适合简单的 Universe 映射。

# xamarin.ios - MonoTouch 和 Mono for Android 可以使用哪些消息队列库？

> ID：12833962
> 
> 赞同：2
> 
> 时间：2012-10-11T07:02:55.617
> 
> 标签：xamarin.ios, xamarin.android, rabbitmq, messaging, mq

我正在寻找一些关于库的指针，这些库可以为我在 MonoTouch 和 Mono for Android 中创建的应用程序提供消息队列端点功能。

我猜 RabbitMQ 应该可以工作，但我找不到任何有关使用它的人的信息。你听说过有人在这种设置中使用它吗？

您知道支持这些平台的任何其他 MQ 库吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:26:48.567

RabbitMQ C# 客户端库适用于 Mono。我已经将它用于 MonoMac 应用程序，但没有在 MonoDroid 或 MonoTouch 上尝试过。

# jms - activemq如何从具有特殊顺序的队列中获取消息

> ID：12833967
> 
> 赞同：0
> 
> 时间：2012-10-11T07:03:05.790
> 
> 标签：jms, activemq

我有一个消息具有属性名称 orderno 的队列我如何从按 orderno 排序的队列中获取消息

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:41:41.060

你要做的真的是[resequencer企业集成模式](http://www.enterpriseintegrationpatterns.com/Resequencer.html)

您可以使用与 ActiveMQ 捆绑在一起的 Apache Camel 来实现这一点。

您需要做的是将以下内容添加到 ActiveMQ 中的“camel.xml”配置文件中。

```
<camelContext id="camel" xmlns="http://camel.apache.org/schema/spring">
  <route>
    <from uri="activemq:queue:unordered"/>
    <resequence>
       <simple>in.header.orderno</simple>
       <to uri="activemq:queue:ordered" />
       <stream-config capacity="5000" timeout="4000"/>
    </resequence>
  </route>
</camelContext> 
```

然后只需确保该文件包含在您的 ActiveMQ 配置中，例如 activemq.xml：

```
<import resource="camel.xml"/> 
```

请注意，此设置将从“无序”队列中以任何顺序读取消息，而您的应用程序应从“有序”队列中读取重新排序的消息。

# javascript - 从 Google 分析代码（Cookie = __utmz）Javascript 读取 Web 流量源

> ID：12833976
> 
> 赞同：0
> 
> 时间：2012-10-11T07:03:21.030
> 
> 标签：javascript, google-analytics

我想获得“直接”、“自然”、“推荐”和“付费搜索”的流量信息。我正在使用以下帖子阅读网络流量信息。

[使用 Google Analytics 获取当前访问者的推荐人、付费/自然和关键字](https://stackoverflow.com/questions/5631830/get-the-referrer-paid-natural-and-keywords-for-the-current-visitor-with-google)

我从 cookie 中获得以下值“__utmz”

有机：2432541.8749459613.1.1.utmcsr=google|utmccn=(有机)|utmcmd=organic|utmctr=merit.com

直接：2432541.8749459613.1.1.utmcsr=（直接）|utmccn=（直接）|utmcmd=（无）

推荐：2432541.8749459613.1.1.utmcsr=xyz.com|utmccn=(推荐)|utmcmd=推荐|utmcct=/xyz.aspx

**问题一：**

如前所述，post vals.utmcmd 参数应返回流量来自我们网站的媒体名称。对于“utmcmd”的直接网络流量值为空。

我应该阅读什么值来获取交通信息？（utmccn？）

**问题 2：** 由于在投入生产之前我无法获得付费流量，“__utmz”的 cookie 值可以用于付费搜索。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T17:10:24.020

问题 1）“Direct”、“Organic”、“Referal”和“Paid Search”是中等的，所以使用`utmccn`

问题 2）将这样的参数添加到您的 URL 以模拟每次点击费用活动：

```
?utm_source=test-source&utm_medium=cpc&utm_campaign=test-campaign 
```

# database - 与员工 3 在同一部门的员工的关系代数表示法

> ID：12833977
> 
> 赞同：1
> 
> 时间：2012-10-11T07:03:22.587
> 
> 标签：database, relational-algebra

有人请解释一下

```
ρ emp2.surname,emp2.forenames (
    σ employee.empno = 3 ^ employee.depno = emp2.depno (
        employee × (ρemp2employee)
    )
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T18:52:40.153

该查询将“员工#3”与另一个“员工”联系起来，因为他们都在同一个部门。因此，您需要两个员工列表（咳咳，表格）。由于您有两个相同事物的实例，因此您需要至少对其中一个实例进行别名（技术上重命名）。两个表之间最通用的关系是笛卡尔积。因此，既然您构建了笛卡尔积，您必须将 a) 第一个表中的员工限制为 #3，以及 b) 两个表中属于同一部门的员工。最后一步是仅选择与所提出问题相关的员工属性。

# php - 使用 PDO 将列的值用作结果中的索引

> ID：12833979
> 
> 赞同：16
> 
> 时间：2012-10-11T07:03:22.657
> 
> 标签：php, sql, arrays, pdo

我有一个名为“brands”的 SQL 表，其中包含 id、name、url 列。在那个表中，我有这个数据集：

```
1, Solidfloor, solidfloor;
2, Quickstep, quickstep;
4, Cleanfloor, cleanfloor;
5, Blue Dolphin, blue-dolphin;
6, Krono, krono;
8, Meister, meister; 
```

我现在正在获取它们，并得到一个不错的数组作为回报，但是，我需要数组的索引不是递增的数字，而是该特定行的 id。我当然可以遍历结果集，但是有没有更简洁的方法呢？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2016-04-14T10:58:14.897

虽然`PDO::FETCH_UNIQUE`PHP 手册中的描述很不清楚，但实际上它是[您实际需要的确切参数](https://phpdelusions.net/pdo#unique)。

```
$data = $pdo->query('SELECT * FROM table')->fetchAll(PDO::FETCH_UNIQUE); 
```

正在为您提供一个由 SELECT 子句中列出的字段索引的数组（当使用 * 时，然后是表定义中的第一个字段，在您的情况下应该是 id ）。

请注意，默认情况下，使用 just`PDO::FETCH_UNIQUE`将为您提供具有双倍值的结果行。您可以为此调用添加首选行模式，或者 - 更好的是，为构造函数中的所有 PDO 调用设置一次或通过`setAttribute()`. 下面的输出显示为`PDO::FETCH_ASSOC`设置为默认获取模式。

```
 1 => array (
    'name' => 'Solidfloor',
    'url' => 'solidfloor',
  ),
  2 => array (
    'name' => 'Quickstep',
    'url' => 'quickstep',
  ),
  4 => array (
    'name' => 'Cleanfloor',
    'url' => 'cleanfloor',
  ),
) 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-10-11T07:32:26.033

获取 assoc

对于手册： http: [//php.net/manual/en/pdostatement.fetchall.php](http://php.net/manual/en/pdostatement.fetchall.php)

fetch_style

> 控制返回数组的内容，如 PDOStatement::fetch() 中所述。默认为 PDO::ATTR_DEFAULT_FETCH_MODE 的值（默认为 PDO::FETCH_BOTH）
> 
> 要返回由结果集中单个列的所有值组成的数组，请指定 PDO::FETCH_COLUMN。您可以使用 column-index 参数指定所需的列。
> 
> 要从结果集中仅获取单个列的唯一值，请按位或 PDO::FETCH_COLUMN 与 PDO::FETCH_UNIQUE。
> 
> 要返回按指定列的值分组的关联数组，请按位或 PDO::FETCH_COLUMN 与 PDO::FETCH_GROUP。

最后一点是关键。它似乎没有完全记录（我可以找到），但是您可以将 PDO::FETCH_ASSOC 与 PDO::FETCH_GROUP 结合起来，而不是 PDO::FETCH_COLUMN，以实现所需的结果：

```
$PDOstmt->fetchAll(PDO::FETCH_ASSOC | PDO::FETCH_GROUP) 
```

因此，鉴于上述数据：

```
$stmt = $PDO_obj->prepare('select * from brands');
$stmt->execute();
$result = $stmt->fetchAll(PDO::FETCH_ASSOC | PDO::FETCH_GROUP);
d($result); 
```

结果是：

```
array (6) [
    '1' => array (1) [
        array (2) [
            'name' => string (10) "Solidfloor"
            'url' => string (10) "solidfloor"
        ]
    ]
    '2' => array (1) [
        array (2) [
            'name' => string (9) "Quickstep"
            'url' => string (9) "quickstep"
        ]
    ]
    '4' => array (1) [
        array (2) [
            'name' => string (10) "Cleanfloor"
            'url' => string (10) "cleanfloor"
        ]
    ]
    '5' => array (1) [
        array (2) [
            'name' => string (12) "Blue Dolphin"
            'url' => string (12) "blue-dolphin"
        ]
    ]
    '6' => array (1) [
        array (2) [
            'name' => string (5) "Krono"
            'url' => string (5) "krono"
        ]
    ]
    '8' => array (1) [
        array (2) [
            'name' => string (7) "Meister"
            'url' => string (7) "meister"
        ]
    ]
] 
```

（ d() 只是 kint 库中一个方便的调试函数，如 var_dump() 或 print_r() ）

请注意，用于索引数组的列将始终是结果中的第一列，因此您可以修改您的 select 语句以选择您想要的列。还要注意，索引列将从每一行的数组中删除；为了解决这个问题，您可以将该列两次添加到您的选择语句中（即`select id, brands.* from brands`，等）。

此处记录了更多参数：[http](http://php.net/manual/en/pdostatement.fetch.php) ://php.net/manual/en/pdostatement.fetch.php，例如 PDO::FETCH_UNIQUE 以确保每个索引仅使用一次。

# android - 如何使用 python 脚本将原始数据从 `/dev/graphics/fb0` 传输到图片？

> ID：12833983
> 
> 赞同：0
> 
> 时间：2012-10-11T07:03:30.640
> 
> 标签：android, python, framebuffer

在[此](http://my.opera.com/otaku_2r/blog/grab-a-frame-in-android-frame-buffer)之后：

```
$ adb shell
# cat /dev/graphics/fb0 > /sdcard/frame.raw
# exit 
```

*   如何`/dev/graphics/fb0`使用 python 脚本将原始数据传输到图片？
*   每个字节在原始数据输出中代表什么？是每个像素的 RGB 值吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:09:58.977

你在寻找类似[http://code.google.com/p/android-fb2png/](http://code.google.com/p/android-fb2png/)的东西吗？

# oracle - Oracle中的字段是否有任何自动增量属性？不使用序列和触发器

> ID：12833985
> 
> 赞同：1
> 
> 时间：2012-10-11T07:03:34.560
> 
> 标签：oracle

在不使用序列和触发器的情况下，Oracle 中的字段是否有任何自动增量属性？我正在使用**TOAD**编辑器创建 oracle 数据库表，我想添加具有自动增量功能的列，那么字段是否有任何自动增量属性？无需创建序列并为表添加触发器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:20:37.943

没有。序列就是为此而创建的。

# php - Codeigniter MySQL a Join Query 与结果中的列名冲突

> ID：12833993
> 
> 赞同：1
> 
> 时间：2012-10-11T07:04:17.947
> 
> 标签：php, mysql, codeigniter, orm

我有一个非常常见的、普通的 JOIN 查询，在其中我发现自己陷入了困境。

我的 CI 数据库查询如下所示：

```
 $this->db->select()
    ->from('user_event')
    ->join('game_bridge', 'user_event.gmeID = game_bridge.gmeID')
    ->where('user_event.memID', $memID); 
```

现在直到大约一分钟前我才意识到，两个表都有一个“位置”列，但是两个列都包含我正在寻找的整体查询结果的唯一数据集。有没有办法给一个位置列或另一个别名，以便我可以在不同的属性名称下访问结果对象？

如果是这样，我该如何使用 CI 的 DB 类/助手来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T07:13:34.157

如果您想从两个表中获取位置，则必须为其中一个或两个表提供别名保留 user_event 位置，因为它只是为 game_bridge 提供别名，就像 game_bridge.location 作为 game_location

```
$this->db->select('location,game_bridge.location as game_location') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T07:20:16.203

您可以在查询中设置别名。

```
$this->db->select('user_event.location as u_loc, game_bridge.location as g_loc'); 
```

但在这种情况下，您必须枚举所有要选择的字段。

# javascript - JavaScript 中的“将数据绑定到 DOM”是什么意思，为什么不好？

> ID：12833994
> 
> 赞同：2
> 
> 时间：2012-10-11T07:04:20.670
> 
> 标签：javascript, dom

几乎所有文章都说将数据绑定到 DOM 是不好的。但这究竟意味着什么？我该如何避免呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T07:39:25.480

通常将应用程序逻辑、数据和数据的显示分开，使应用程序本身更加清晰和易于维护。通常每个部分都有自己独立的问题（如何组织用户数据（模型）与屏幕上应显示的颜色/位置用户名无关）。用户名如何传输到屏幕（控制器）也与显示器（视图）分开。

我不知道您将数据绑定到 DOM 是指哪种情况，但一个风险是您的模型和视图混合在一起，并且很难将显示与数据分开。

这样做的一种方法是 MVC（模型-视图-控制器）划分和其他类似的分离，如 MVVM 等。更多关于 MVC[的信息在这里](http://addyosmani.com/blog/understanding-mvc-and-mvp-for-javascript-and-backbone-developers/)。

# glassfish - glassfish 3.1.1的路径

> ID：12833996
> 
> 赞同：0
> 
> 时间：2012-10-11T07:04:27.370
> 
> 标签：glassfish, installation, suse

我在谷歌上搜索了这个问题的答案，但我没有得到确切的答案。我想在 Suse linux 服务器上安装 glassfish。我从 oracle 下载了 glassfish3.sh，但是当我运行该脚本时，安装 glassfish 的文件夹是`/home/$user/glassfish`并且我想更改它。

有人知道如何在 ubuntu 服务器中更改 glassfish 3.1.1 的路径吗？（仅终端）

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T11:12:03.353

你下载了`.sh`文件。这将始终安装`GlassFish`到用户的主目录中。为了将它安装到不同的目录中，需要做更多的工作。

下载并解压缩文件。例如，您希望 glassfish 在: `/opt/glassfish`:

```
wget http://download.java.net/glassfish/3.1.1/release/glassfish-3.1.1.zip
sudo unzip glassfish-3.1.1.zip -d /opt 
```

这就对了。`Glassfish`已安装，您可以启动和使用它。但是不要忘记您没有配置任何自动启动脚本来自动启动 glassfish。

为此，请在您的 shell 中运行以下命令：

```
sudo vim /etc/init.d/glassfish 
```

粘贴此内容：（首先进行适合您的更改）

```
#!/bin/bash

GLASSFISH_HOME=/opt/glassfish3
case "$1" in
start)
    ${GLASSFISH_HOME}/bin/asadmin start-domain domain1
    ;;
stop)
    ${GLASSFISH_HOME}/bin/asadmin stop-domain domain1
    ;;
restart)
    ${GLASSFISH_HOME}/bin/asadmin stop-domain domain1
    ${GLASSFISH_HOME}/bin/asadmin start-domain domain1
    ;;
*)
    echo "usage: $0 {start|stop|restart}"
    ;;
esac    
exit 0 
```

最后一件事是通过运行以下命令使脚本可执行：

```
sudo chmod 755 /etc/init.d/glassfish
sudo update-rc.d /etc/init.d/glassfish defaults 
```

现在您可以像这样启动、停止和重新启动 glassfish：

```
sudo /etc/init.d/glassfish start
sudo /etc/init.d/glassfish stop
sudo /etc/init.d/glassfish restart 
```

# ios - 无法在某些 idevice 上下载应用程序

> ID：12833998
> 
> 赞同：1
> 
> 时间：2012-10-11T07:04:34.703
> 
> 标签：ios, ios5, ios4

我已经创建了一个内部应用程序并提供了一个下载和安装链接，但是当单击某些 idevices 的下载和安装链接时，它会弹出“无法下载应用程序”消息。对于那些无法安装的设备是越狱设备.我不确定这是否会受到越狱 onot 的影响。顺便说一下，我按照 IOS 开发人员库中的故障排除步骤进行操作。

```
 Troubleshooting wireless app distribution
 If wireless app distribution fails with an “unable to download” message, 
 check the following:

 -Make sure the app is signed correctly. Test it by installing it on a device 
 using iPhone Configuration Utility.

 -Make sure the URL to the .ipa file (in the manifest file) is correct and 
 the file is accessible to web users.

  -Make sure that the link to the manifest file is correct and 
   that the manifest file is accessible to web users. 
```

但是我一直尝试它工作正常。但仍然无法通过我创建的链接安装？如何解决？

我的英语不是很好，请原谅和理解

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:59:06.780

这些是使用企业帐户签名的应用程序吗？