# StackOverflow 问答 15492000-15492999

# ms-access-2007 - 删除 Access 中的前 2 个

> ID：15492004
> 
> 赞同：4
> 
> 时间：2013-03-19T05:20:29.717
> 
> 标签：ms-access-2007

正确的语法是什么： `delete top 2 * FROM table1` 在 Microsoft Access 中？我正在尝试删除前 2 行，但我没有 id 字段。另外，我知道可以这样做： `select top 2 * FROM table1`，所以很难认为他们没有想到删除相同的内容。谢谢！

否则我只会将前 1 插入临时表中，从原始表中删除所有内容，然后从临时表中重新插入。我实际上有兴趣在特定条件下保留一行。但是不明白为什么我需要 3 个步骤，而在 Sql Server 中它要简单得多。如果他们想明智地使用 top ，为什么他们停在 select 并且没有为其他指令实现这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-19T12:45:31.747

语法如下，我总觉得有点奇怪，和你的想法一样：

```
DELETE FROM (SELECT TOP 2 * FROM Table1) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-10-11T10:29:12.140

```
DELETE * FROM (SELECT TOP 2 * FROM myTableName ORDER BY myTableName.IdNr) AS Deletes; 
```

在 Microsoft Access 2016 中测试并用作查询或为 Access-VBA 工作

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-19T05:49:26.130

正确的语法是：-

```
delete top(2) from table1 
```

# c - 即使在更改代码时也会出现分段错误

> ID：15492021
> 
> 赞同：0
> 
> 时间：2013-03-19T05:22:09.207
> 
> 标签：c, segmentation-fault

我一直在研究哈希表。我不断收到分段错误。我一直在尝试调试它，但它总是指出存在`addOrder`分段错误。

我哪里错了？还有什么其他方法可以实现我的代码来检查任何极端情况？

```
struct order 
{
    int id;
    char side;
    int quantity;
    double price;
};

struct onode 
{
    struct order* data;
    struct onode* next;
    struct onode* prev;
};

/*
 * Create a new instance of struct hashStorage and return it. It sets the size of the
 * table to be of length "size" which will be the number of the entries in the hash. It takes also an
 * argument to specify the format of the order printed to an output stream. If myHash parameter
 * is NULL then this means that the hash should be a linked list. When myHash is NULL the size
 * parameter should be ignored.
 */

struct hashStorage* createHash(int size, int (*myHash)(int),void(*printOrder)(struct order *, FILE *))
{
    struct hashStorage* hashList = (struct hashStorage*) malloc(sizeof(struct hashStorage));

    if(myHash == NULL)
    {
        hashList->size = 1;
        hashList->table = (struct onode**) calloc(1, sizeof(struct onode*));
    }

    if(myHash != NULL)
    {
        hashList->table = (struct onode**) calloc(size, sizeof(struct onode*));
        hashList->size = size;
    }
    hashList->funcHash = myHash;
    hashList->printItem = printOrder;        
    return hashList;
}

/*
 * Add an order to the hash structure. Remember that you should copy the data before
 * adding it to the hash as data can be modified (hint: look at newNode in list).  
 * It returns the new onode.              
 */
struct onode* addOrder(struct hashStorage* hash, struct order* data)
{
    int addIndex; 
    struct onode* dataList = newNode(data);
    addIndex = hash -> funcHash(getOrderId(data));
    pushNode(&(hash->table[addIndex]), dataList);
    return dataList;                            
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T00:31:34.297

I would recommend you to take a look at GHashTable code from [glib](https://developer.gnome.org/glib/) library, it has a quite well commented code, which you will be able to understand.

Hope it helps !

# ajax - 连接超时时关闭 Android 应用

> ID：15492022
> 
> 赞同：0
> 
> 时间：2013-03-19T05:22:20.183
> 
> 标签：ajax, cordova

我正在使用 phonegap 开发移动应用程序。当服务器连接超时时，如何关闭 Android 应用程序。

我正在使用 javascript ajax XMLHttpRequest 对象。

我的代码： var xmlhttp = new XMLHttpRequest();xmlhhttp.open('POST', url, true); xmlhttp.onreadystatechange = function () {XXXXX} var xmlHttpTimeout=setTimeout(ajaxTimeout,10000);function ajaxTimeout(){navigator.app.exitApp();}

但应用程序仍然没有关闭。

问候，毗湿奴

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T05:32:36.603

尝试`device.app.exitApp()` 在您的 ajaxTimeout 函数中使用，而不是`navigator.app.exitApp();`

也试试这个

在 AndroidManifest.xml 文件中将 minSdkVersion（以前设置为 8）设置为 2 可以解决我在使用 navigator.app.exitApp(); 时遇到的问题；Droid Incredible 上的 2.3.4 行和 2.3.3 上的模拟器中的行。

# javascript - Backbone.js 路由器 url 包含参数

> ID：15492027
> 
> 赞同：1
> 
> 时间：2013-03-19T05:22:45.960
> 
> 标签：javascript, backbone.js, backbone-routing

如果 url 在某处包含具有指定操作的参数，我如何匹配路由？喜欢 myaction/someparam1/someparam2/PleaseMatchMeIfYourFindMe/someparam3

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T05:43:50.677

Backbone 的[`routes`对象](http://backbonejs.org/#Router-routes)没有提供相当程度的灵活性。[`route`但是，您可以使用以下方法](http://backbonejs.org/#Router-route)手动添加路由正则表达式：

> **路线** `router.route(route, name, [callback])`
> 
> 手动为路由器创建路由，`route`参数可以是路由字符串或正则表达式。

因此，您可以在路由器中执行以下操作：

```
initialize: function() {
    this.route(/^myaction\/.*PleaseMatchMeIfYourFindMe/, 'handler_method');
} 
```

您当然必须调整正则表达式以符合您的实际要求。如果您想将正则表达式的一部分作为处理程序的参数，请根据需要添加捕获组。

演示：http: [//jsfiddle.net/ambiguous/pFXr6/](http://jsfiddle.net/ambiguous/pFXr6/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-19T05:26:40.280

你的问题不清楚。您可以像这样在路由定义中使用参数：

```
var Route = Backbone.Router.extend({
    routes: {
        'myaction/:param1/:param2/:param3/:param4': 'myActionCallback',  
    }, 
    myActionCallback: function(param1, param2, param3, param){
       //your magic starts here
    } 
```

# c - 不知道这行代码在c中做了什么

> ID：15492028
> 
> 赞同：-2
> 
> 时间：2013-03-19T05:22:58.623
> 
> 标签：c, syntax, msp430

```
tempValue = input2[0] << 8; 
```

我无法弄清楚`<<`这行代码中的作用。这是干什么用的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T05:24:38.527

它分配向左移动8位`tempValue`的值。`input2[0]`

这是一个关于 C 中位移的链接：[http ://www.cs.umd.edu/class/sum2003/cmsc311/Notes/BitOp/bitshift.html](http://www.cs.umd.edu/class/sum2003/cmsc311/Notes/BitOp/bitshift.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T05:35:22.613

您可以谷歌**按位运算**获取许多信息。

在您的情况下， input2[0] 是8 位的**左移（<<）**，即 *（2^8）。

所以，等价`tempValue = input2[0] * (2^8) ;`

# c# - 如何确保不从asp.net中的特定文件调用http模块

> ID：15492029
> 
> 赞同：1
> 
> 时间：2013-03-19T05:23:03.977
> 
> 标签：c#, asp.net

我有一个网站，下面有 5 个文件

1.  测试1.aspx
2.  测试2.aspx
3.  测试3.aspx
4.  测试4.aspx
5.  测试5.aspx

我有一个在所有页面中都被调用的 http 模块，但是我有一个条件，在 test5.aspx 页面上我不希望调用 http 模块需要进行哪些设置才能解决问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-19T05:32:55.667

HttpModules 在您的页面生命周期之前运行，因此您必须在请求路径上匹配它。

假设您的 HttpModule`Init`函数设置了一个`BeforeRequest`处理程序，例如：

```
public class MyModule : IHttpModule
{
    public void Init(HttpApplication application)
    {
        application.BeginRequest += this.BeginRequest;
    }

    public void BeginRequest(object sender, EventArgs e)
    {
        var app = sender as HttpApplication;
        if (app.Request.Path.Contains("test5.aspx")) {
            return;
        }

        // Process logic for other pages here
    }
} 
```

# android - 在 android 平板电脑（使用 hTML5）上触发相机不起作用，但在 iOS 上可以

> ID：15492031
> 
> 赞同：1
> 
> 时间：2013-03-19T05:23:18.007
> 
> 标签：android, html, ios6, camera

出于某种原因，我可以在 iOS 上使用 HTML5 触发相机，但在 Android 上则不行。

我的代码如何工作：

我的代码中有这一行

```
<input type="file" id="btnFrontUpload" name="frontPic" class="filUploadField" accept="image/*;capture=camera"> 
```

我最初隐藏它，然后用这个片段触发它：

```
 // when the visible upload button is clicked - trigger the form field
      $("#btnFrontUploadShow").click(function(){
          $("#btnFrontUpload").click()
      });

      // when the actual upload field is triggered
      $("#btnFrontUpload").change(function (e){

          frontPic = e.target.files[0]
          frontPicName = frontPic.name
          salonId=$("#salonId").val()

          new DisplayUploadImage(frontPic, "btnFrontUploadShow")

      }); 
```

这是单击时触发文件表单字段的项目。

```
<div class="btnUploads" id="btnFrontUploadShow">Front</div> 
```

这适用于 iOS6 平板电脑，但适用于 Android4 平板电脑？

# ruby-on-rails - Rails 新手 - 如何构建日历生成应用程序

> ID：15492040
> 
> 赞同：1
> 
> 时间：2013-03-19T05:24:00.707
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, icalendar

我正在开发一项服务，为我们的学生和教职员工提供一个单一的日历（ICS 订阅），其中包含他们的学术日期（学期和考试期的开始和结束、上课日期和时间、考试日期和时间等）。我是 Ruby 和 Rails 新手；我们在这里开始更多地使用它，所以我认为这将是一个很好的学习机会。我无法弄清楚如何构建和建模（如果有的话）应用程序的某些部分。

该应用程序在概念上非常基本：

*   用户登录并为他们创建用户记录。生成一个 UUID 并存储在用户的记录中；它用于生成他们的 ICS URL ( [http://myservice.foo/feeds/johndoe_ce4970706f320130588b109add5c7cb0.ics](http://myservice.foo/feeds/johndoe_ce4970706f320130588b109add5c7cb0.ics) )。

*   当用户请求他们的 ICS 文件（通过上面的 URL）时，我需要查询一堆不同的系统以获取信息以构建日历：

    *   学生信息系统 (SIS) 包含用户的日程安排（例如 johndoe 在 10:30 - 11:20 参加 MWF 的 ENGL 100）。我需要解析这些数据并创建事件。
    *   我们的在线学习管理系统 Canvas 为其中包含的课程提供了一个作业日历。它可以作为 ICS 文件访问，因此我需要拉下该文件，对其进行解析并将其包含在我的应用程序将生成的“主”日历中。
    *   教师可以为他们的课程指定一个额外的 ICS URL，以便他们可以包含上述两个来源都没有提供的任意事件。像 Canvas 日历一样，我需要下载并解析该 ICS。

我有第一部分工作；我可以通过我们的单点登录系统 (CAS) 登录，并使用生成的 UUID 创建用户记录。不过，我不确定如何处理第二部分。我不需要存储太多永久数据；基本上，我只需要保留用户记录（其中包含他们的用户名、生成的 UUID 以及 Canvas LMS 的一些访问令牌）。提要将在第一次被请求时生成，缓存一段时间（并在需要时按需重新生成）。

我应该把解析和生成代码放在哪里？我希望它有点模块化，因为我希望我们会在其他数据源出现时添加它们。如果我实际上没有保留这些数据，我应该创建日历和事件模型吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T07:42:09.313

不，没有必要为与 3rd 方服务的交互创建一个空模型。我有一个类似的问题，我需要从外部服务接收数据并希望它是模块化的。我发现的推荐解决方案之一是在 Rails 项目根目录下的“lib”文件夹中创建一个类（处理与外部服务交互的业务逻辑）。

稍后可能会在您的控制器中需要它并用于从第三方服务接收日期。或者，如果您希望它自动加载，那么您可以在 config.autoload_paths 设置下的 application.rb 文件中添加 lib 目录的路径。

# iphone - 滚动时调整 UICollectionView 的大小

> ID：15492049
> 
> 赞同：4
> 
> 时间：2013-03-19T05:24:36.413
> 
> 标签：iphone, ios, uiscrollview, uicollectionview

我的集合视图开始很短，在它的视图控制器视图的底部。当用户向上滚动一点时，我希望集合填充视图。当用户拉入反弹区域时，我希望它再次缩小。

这是我想让工作的代码（我认为应该工作）：

```
- (void)scrollViewDidScroll:(UIScrollView *)scrollView {
    if (scrollView == self.collectionView) {
        CGFloat offsetY = self.collectionView.contentOffset.y;
        if (offsetY > 20.0) {
            [self setCollectionViewExpanded:YES];
        } else if (offsetY < -10.0) {
            [self setCollectionViewExpanded:NO];
        }
    }
}

- (void)setCollectionViewExpanded:(BOOL)expanded {

    // avoid starting a do-nothing animation
    BOOL currentlyExpanded = self.collectionView.frame.origin.y == 0.0;
    if (expanded == currentlyExpanded) return;

    // note: the collection view is the uppermost subview of the vc's view
    // expanding to view bounds makes it cover every other view
    CGRect newFrame = (expanded)? self.view.bounds : CGRectMake(0.0, 240.0, 320.0, self.view.bounds.size.height-240.0);
    [UIView animateWithDuration:0.3 animations:^{
        self.collectionView.frame = newFrame;
    }];
} 
```

但是在展开之后，单元格相对于父视图保持在相同的位置（仍然靠近底部），并且集合视图停止响应平移触摸并且不再发送 didScroll 通知。

我可以通过在动画完成块中执行 reloadData 来正确重新定位内容，但是滚动触摸停止工作。

不久前，我用表格视图（或另一种滚动视图）尝试了类似的操作，但遇到了类似的挂断。如果有人解决了这个问题，非常感谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T15:37:13.427

你能更好地描述你的视图层次结构吗？UICollectionView 是 UIScrollView 的子视图吗？

是`self.view`UIScrollView 吗？

*   在这种情况下，边界原点是滚动视图的 contentOffset（不是 0,0）。这可能会给你的 UICollectionView 一个意想不到的框架。
*   如果 UICollectionView 是滚动视图的子视图，则框架原点是滚动视图空间中视图的原点。所以不要改变框架的原点（只是它的大小）并设置 scrollView 的 contentOffset 以使其可见。

# linux - 无法在 mutt 中设置电子邮件正文字体

> ID：15492051
> 
> 赞同：1
> 
> 时间：2013-03-19T05:24:55.147
> 
> 标签：linux, fonts, mutt

我以表格的显示形式向一些 gmail 用户发送数据。我想在发送邮件时设置字体类型和字体大小，以便在收件人 gmail 视图中以正确的格式显示

需要设置font = courier new

我正在使用：Redhat5_elx64 + mutt-1.4.2.2 在接收端采样 o/p 数据如下

+-------------------------------------------------- ----+
| 销售 | 30 | 3 | 22 | 0 |
+-------------------------------------------------- ----+
| 生产 | 235 | 65 | 86 | 2 |
+-------------------------------------------------- ----+
| 营销 | 28 | 14 | 30 | 0 |
+-------------------------------------------------- ----+
| 广告 | 1739 | 528 | 1428 | 41 |
+-------------------------------------------------- ----+

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T09:13:47.393

无法在 mutt 中设置字体。电子邮件是纯文本，它使用收件人喜欢阅读他/她的电子邮件的字体。但是，您可以将邮件以 HTML 格式发送。然后您可以使用 CSS 来选择字体首选项。

当您编写 HTML 时，您需要选择正确的内容类型。默认值为`text/plain`. 在发送 HTML 邮件之前，使用`edit-type`命令（默认快捷方式`Ctrl+t`）并将内容类型更改为`text/html`.

# ruby - 使用 ruby mechanize 抓取的数据大小

> ID：15492053
> 
> 赞同：1
> 
> 时间：2013-03-19T05:25:06.367
> 
> 标签：ruby, ruby-on-rails-3.2, size, mechanize, webpage

```
agent = Mechanize.new
url = "---------------------------"
page = agent.get(url) 
```

现在，我想知道我的互联网服务提供商用来抓取该数据的 KB（千字节）数据。

更具体地说，变量“page”的大小（KB）是多少？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T05:33:51.470

```
page.content.bytesize / 1024.0 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T07:57:58.183

这真的是两件不同的事情。解压缩的响应正文的大小和传输的字节数。您可以通过检查获得第一个`page.body`，第二个您需要测量响应和请求标头以及考虑 gzip 和重定向等内容。更不用说dns查找等。

# security - 加密或保护 asp 应用程序代码

> ID：15492063
> 
> 赞同：0
> 
> 时间：2013-03-19T05:26:00.410
> 
> 标签：security, encryption, asp-classic

我的经典 asp 应用程序将通过 Internet 浏览器在本地用户系统上运行。代码文件位于`C:`驱动器的根文件夹中。但我希望用户看不到代码，即使打开文件，代码也不容易读取，比如加密或编码。我想保护代码不被复制。可能吗？如果是这样，那怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T05:15:57.967

另一种方法是在一个系统上托管应用程序，如果其他系统连接在 LAN 中，他们可以通过托管 URL 使用同一站点。

在每个系统中部署代码并不是一个安全的好习惯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T01:29:57.953

我会同意其他人的观点，提出不同的设计，但我会给你一个我认为适用的答案，如果你对你正在做的事情一无所知：

在 Visual Basic 6 或 .NET 中编写服务器端逻辑并作为 COM 对象公开。

（一个更疯狂的想法是实现您自己的 ISAPI 过滤器，但如果 API 允许您拦截源的加载，我不肯定......思考和谷歌搜索让我认为这是不可能的，但不是 100% 肯定)

我已经用 COM 对象做到了这一点。

# django - 使用 django 发送电子邮件

> ID：15492064
> 
> 赞同：0
> 
> 时间：2013-03-19T05:26:06.983
> 
> 标签：django, email, django-views

在我的项目中，可以使用电子邮件 ID 字段。

我正在收集作者的电子邮件 ID，并在更新数据库中的详细信息时，应向该特定电子邮件 ID 发送一封电子邮件，说明书名已更新。

我的views.py是

def addbook（请求）：

```
log.debug("test....")

form = BookForm

if request.POST:
    form = BookForm(request.POST)
    if form.is_valid():
        cd = form.cleaned_data
        send_mail(cd['book_name'],cd['author_name'],cd.get(''),['to@example.com'],)
        form.save()
        return redirect('/index/')
return render_to_response('addbook.html',{ 'form':form },context_instance=RequestContext(request)) 
```

我正在使用这个 send_mail() 方法来执行它，但它没有按我预期的那样工作。

模型.py 是

类书（模型。模型）：

```
book_id=models.AutoField(primary_key=True,unique=True)
book_name=models.CharField(max_length=30)
author_name=models.CharField(max_length=30)
publisher_name=models.CharField(max_length=40)
email = models.EmailField()
bookref = models.CharField(max_length=10)
class Meta:
    db_table = u'Book'

def __unicode__(self):
    return "%d %s %s %s %s" % (self.book_id,self.book_name, self.author_name,self.publisher_name,self.email,self.bookref) 
```

表格.py

```
class BookForm(ModelForm):

    log.debug("test....")

    class Meta:
        model = Book

        fields=['book_id','book_name','author_name','publisher_name','email','bookref'] 
```

邮件应发送到电子邮件字段中提到的电子邮件 ID。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T05:47:41.857

**设置.py**

```
EMAIL_USE_TLS = True
EMAIL_HOST = 'smtp.gmail.com'
EMAIL_PORT = 587
EMAIL_HOST_USER = 'user'
EMAIL_HOST_PASSWORD = 'password'
DEFAULT_FROM_EMAIL = 'your email' 
```

**视图.py**

```
if request.POST:
    form = BookForm(request.POST)
    if form.is_valid():
        cd = form.cleaned_data

        email_to = cd['email']
        subject = "{0} Update".format(
            cd['book_name'])
        message = "Author: {0}\n\n Your book name is updated".format(
            cd['author_name'])
        send_mail(subject, message, settings.DEFAULT_FROM_EMAIL,[email_to,])

        form.save()
        return redirect('/index/') 
```

# iphone - phonegap 中的重定向页面

> ID：15492065
> 
> 赞同：0
> 
> 时间：2013-03-19T05:26:14.587
> 
> 标签：iphone, ios, html, cordova

PhoneGap 无法打开内部链接。在我的 html 中，我正在使用 href 标签但无法加载网页。。谁能建议如何将一个 html 页面重定向到 phonegap 中的另一个 html 页面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T05:46:22.867

你可以试试这个。

代码 ：：

**HTML**

```
<a href="javascript:goToNext()">Next Page</a> 
```

**Javascript**

```
<script type="text/javascript">

    function goToNext() {
       window.location.href = './NextPage.html';
    }

</script> 
```

希望这将帮助您导航到新页面。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-12T12:54:45.750

如何在 iphone 中自动重定向页面？
例如，我使用`$.mobile.changePage("login.html");`了基于 jQuery Mobile 的应用程序，但该应用程序只显示一个空白页面。

是否用于`$.mobile.changePage();`在 iphone 中重定向页面？

它在 Android 中运行良好。

# spring - 获取 ClassCastException 错误

> ID：15492068
> 
> 赞同：0
> 
> 时间：2013-03-19T05:26:30.893
> 
> 标签：spring

我有两个类 ClientLogic1 和 WelcomeBean1 如下

```
 public class ClientLogic1 {

   public static void main(String[] args)
   {
       Resource res = new ClassPathResource("spconfig.xml");
       BeanFactory factory = new XmlBeanFactory(res); 
       Object o = factory.getBean("id1");
       WelcomeBean1 wb = (WelcomeBean1)o; 
       wb.show();

   }

   } 
```

二等

```
 public class WelcomeBean1 {

      private Map data;  
      public void setData(Map data) {
           this.data = data;
       }

      public void show()
      {
          Set s=data.entrySet();
          Iterator it = s.iterator();
          while(it.hasNext())
          {
              Map.Entry me = (Map.Entry)it.next();
              System.out.println(me.getKey()+ " - "+me.getValue());
          }
       }

    } 
```

我有一个 xml 文件作为

```
 <beans>
  <bean id="id1" class="WelcomeBean1">
   <property name="data">
    <map>
     <entry key="k1">
       <vlaue>1323</value>
     </entry>
     <entry key="k2">
       <value>feed</value>
     </entry>
    </map>
   </property>
  </bean>
 </bean> 
```

我给出了正确的路径。只是当我运行这个程序时，我得到了以下错误

```
Exception in thread "main" java.lang.ClassCastException: WelcomeBean cannot be  
   cast to mapexmpl.WelcomeBean1 at mapexmpl.ClientLogic1.main(ClientLogic1.java:15) 
```

我不确定我要去哪里错了。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T05:32:38.517

1.  确保 spring 配置文件中没有重复的 bean id。例如，您可能有id 为**id1的 bean** **WelcomeBean**

***   更改为完整的包名`<bean id="id1" class="mapexmpl.WelcomeBean1">`** 

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T05:29:44.797

实际上它是说 `WelcomeBean`不能......但是您的代码显示为WelcomeBean1。

您在某些地方使用了 WelcomeBean。请检查一次。

我想在你使用 WelComeBean 之前。然后将其更改为 WelComeBean1。请用干净的方式构建 agian。**

# ruby-on-rails - 如何验证嵌套模型中的附件？

> ID：15492072
> 
> 赞同：1
> 
> 时间：2013-03-19T05:26:55.593
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1

我有一个设计模型，它在两个关联（完整图像和预览）中有两个回形针附件。我希望只有在 full_image 和 preview 都具有有效文件但似乎无法使其工作时才能保存设计。现在这是我期望的工作，但它不仅仅是在我提交表单时不验证附件。

```
class Design < ActiveRecord::Base

  has_one :full_image, :as => :assetable, :class_name => "FullImage", :dependent => :destroy
  has_one :preview   , :as => :assetable, :class_name => "Preview"  , :dependent => :destroy

  accepts_nested_attributes_for :full_image, :preview
  validates_associated :preview, :full_image

end

class Asset < ActiveRecord::Base
    belongs_to :assetable, :polymorphic => true
    delegate :url, :to => :attachment
end

class FullImage < Asset
    has_attached_file :attachment
    validates_attachment_presence :attachment
end

class Preview < Asset
    has_attached_file :attachment
    validates_attachment_presence :attachment
end 
```

有人可以建议我应该做什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:31:30.680

尝试 : validates :attachment, :presence => true 在关联模型中而不是 validates_attachment_presence

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T09:22:37.760

这是我如何让它工作的

```
class Design < ActiveRecord::Base

  has_one :full_image, :as => :assetable, :class_name => "FullImage", :dependent => :destroy
  has_one :preview   , :as => :assetable, :class_name => "Preview"  , :dependent => :destroy

  accepts_nested_attributes_for :full_image, :preview

  validates_presence_of :preview
  validates_presence_of :full_image

end

class Asset < ActiveRecord::Base
    belongs_to :assetable, :polymorphic => true
    delegate :url, :to => :attachment
end

class FullImage < Asset
    has_attached_file :attachment
end

class Preview < Asset
    has_attached_file :attachment
end 
```

# php - Magento 覆盖运输部分模板

> ID：15492073
> 
> 赞同：1
> 
> 时间：2013-03-19T05:27:02.307
> 
> 标签：php, magento-1.7, checkout

我在结帐流程运输部分覆盖了以下核心模板。

```
app/design/frontend/base/default/template/checkout/onepage/shipping_method/available.phtml 
```

我有两种运输方式。第一个是“交付率”。在这个模块中，我已经覆盖了上面的模板文件。第二个运输模块是“商店取货”。但是当我加载“Store-Pickup”时，总是加载 Deliveryrate。我找不到错误。请问有什么建议吗？以下是编辑后的模板文件。

```
<?php if (!($_shippingRateGroups = $this->getShippingRates())): ?>
    <p><?php echo $this->__('Sorry, no quotes are available for this order at this time.') ?></p>
<?php else: ?>
    <dl class="sp-methods">
    <?php $shippingCodePrice = array(); ?>
    <?php $_sole = count($_shippingRateGroups) == 1; 
    foreach ($_shippingRateGroups as $code => $_rates): ?>    
    <?php 
    $helper = Mage::helper('deliveryrate');
    $isFlorist = $helper->IsCollectFromFlorist();
    if(!$isFlorist)
    {
    ?>
    <?php if($code == 'deliveryrate') // If the shipping method is deliveryshipping
    {?>
    <?php 
    // Get deliveryrate option details.
    $all_options = Mage::getModel('deliveryrate/alloptions')->getCollection();

    ?>
        <dt><?php echo $this->getCarrierName($code) ?></dt> <?php //header ?>

        <dd>
            <ul>
                <table id="tbl-delivery-shipping">
                <tbody>
                    <tr>
                        <td><label for="delivery-options" class="required" style="float:right;"><em>*</em>Delivery Time :</label></td>
                        <td><a href="#">Option 1 - Standard Delivery</a>
                    </tr>
                    <tr>
                        <td></td>
                        <td>
            <?php $_sole = $_sole && count($_rates) == 1; 

            foreach ($_rates as $_rate): ?>
                 <?php 
                        $option = $_rate->getCode();
                        $optionArray = explode( '_', $option );
                        $array_last_index = count($optionArray)-1;
                        $delivery_option =  $optionArray[$array_last_index-1];
                        if($delivery_option == 1)
                        {
                        ?>

            <li>

                         <?php $shippingCodePrice[] = "'".$_rate->getCode()."':".(float)$_rate->getPrice(); ?>
                <li>

                   <?php if ($_rate->getErrorMessage()): ?>
                    <ul class="messages">
                        <li class="error-msg"><ul><li><?php echo $_rate->getErrorMessage() ?></li></ul></li>
                    </ul>
                   <?php else: ?>
                        <?php if ($_sole) : ?>
                        <span class="no-display">
                        <input name="shipping_method" type="radio" value="<?php echo $_rate->getCode() ?>" id="s_method_<?php echo $_rate->getCode() ?>" checked="checked" />
                        </span>
                        <?php else: ?>
                        <?php // radio button ?>

                        <input name="shipping_method" type="radio" value="<?php echo $_rate->getCode() ?>" id="s_method_<?php echo $_rate->getCode() ?>"<?php if($_rate->getCode()===$this->getAddressShippingMethod()) echo ' checked="checked"' ?> class="radio"/>

                        <?php if ($_rate->getCode() === $this->getAddressShippingMethod()): ?>
                        <script type="text/javascript">
                            //<![CDATA[
                                lastPrice = <?php echo (float)$_rate->getPrice(); ?>;
                            //]]>
                        </script>
                        <?php endif; ?>

                        <?php endif; ?>

                        <?php // option name ?>
                        <label for="s_method_<?php echo $_rate->getCode() ?>">
                        <?php $option_name = $_rate->getMethodTitle();   
                         $optionNameArray = explode( '(', $option_name );
                         if(count($optionNameArray)>1)
                         {
                             echo $optionNameArray[0];
                             ?>
                             <br>
                             <?php 
                             echo '('.$optionNameArray[1];
                         }
                         else 
                         {
                            echo $optionNameArray[0];
                         }

                        ?>
                        <?php // echo $_rate->getMethodTitle() ?>
                        <?php $_excl = $this->getShippingPrice($_rate->getPrice(), $this->helper('tax')->displayShippingPriceIncludingTax()); ?>
                        <?php $_incl = $this->getShippingPrice($_rate->getPrice(), true); ?>
                        <?php // echo $_excl; ?>
                        <?php if ($this->helper('tax')->displayShippingBothPrices() && $_incl != $_excl): ?>
                            (<?php echo $this->__('Incl. Tax'); ?> <?php echo $_incl; ?>)
                        <?php endif; ?>
                        </label>

                        <?php
                            $carrier = Mage::getModel('shipping/config')->getCarrierInstance($code);
                            if($carrier->getFormBlock()){
                                $block = $this->getLayout()->createBlock($carrier->getFormBlock());
                                $block->setMethodCode($code);
                                $block->setRate($_rate);
                                $block->setMethodInstance($carrier);
                                echo $block->_toHtml();
                            } 

                        ?>

                   <?php endif ?>

                </li>
                <?php } ?>
                  <?php endforeach; ?>
                        </td>
                    </tr>
                        <tr>
                            <td><br></td>
                            <td></td>
                        </tr>
                    <tr>
                        <td></td>
                        <td><a href="#">Option 2 - specific Time</a>
                        <label style="font-size: 12px;font-weight:normal;color:silver;">(There will be an additional delivery charge for specific delivery time.)</label>
                    </tr>
                    <tr>
                        <td></td>
                        <td>
                        <ul>
                         <?php $_sole = $_sole && count($_rates) == 1; 

            foreach ($_rates as $_rate): ?>
                <?php 

                        $option = $_rate->getCode();
                        $optionArray = explode( '_', $option );
                        $array_last_index = count($optionArray)-1;
                        $delivery_option =  $optionArray[$array_last_index-1];
                        if($delivery_option == 2)
                        {
                        ?> 
                <?php $shippingCodePrice[] = "'".$_rate->getCode()."':".(float)$_rate->getPrice(); ?>
                <li style="width:250px;float:left;">           
                   <?php if ($_rate->getErrorMessage()): ?>
                    <ul class="messages">
                        <li class="error-msg"><ul><li><?php echo $_rate->getErrorMessage() ?></li></ul></li>
                    </ul>
                   <?php else: ?>
                        <?php if ($_sole) : ?>
                        <span class="no-display">
                        <input name="shipping_method" type="radio" value="<?php echo $_rate->getCode() ?>" id="s_method_<?php echo $_rate->getCode() ?>" checked="checked" />
                        </span>
                        <?php else: ?>
                        <?php // radio button ?>

                      <?php 

                        foreach($all_options as $opt)
                        {
                            $data = $opt->getData();
                            if($current_category_id == 12)//Cake
                            {$kk = trim(date("Y-m-d", $tomorrow));
                                if(trim(date("Y-m-d", $tomorrow)) == trim($order_delivery_date))
                                {
                                    if(strcmp(trim($_rate->getMethodTitle()),trim($data['delivery_type'])) == 0)
                                    {
                                        $start_time = $data['start_time'];
                                        $end_time = $data['end_time'];

                                        if($delivery_start_time < $start_time)// || (($start_time < $delivery_start_time) && ($delivery_start_time < $end_time)))
                                        {
                                            // Enable option.
                                            ?>
                                            <input name="shipping_method" type="radio" value="<?php echo $_rate->getCode() ?>" id="s_method_<?php echo $_rate->getCode() ?>"<?php if($_rate->getCode()===$this->getAddressShippingMethod()) echo ' checked="checked"' ?> class="radio"/>
                                        <?php 
                                        }
                                        else 
                                        {
                                            ?>
                                            <input disabled="disabled" name="shipping_method" type="radio" value="<?php echo $_rate->getCode() ?>" id="s_method_<?php echo $_rate->getCode() ?>"<?php if($_rate->getCode()===$this->getAddressShippingMethod()) echo ' checked="checked"' ?> class="radio"/>
                                            <?php 
                                        }
                                    }
                                }
                                else 
                                {
    ?>
                                        <input name="shipping_method" type="radio" value="<?php echo $_rate->getCode() ?>" id="s_method_<?php echo $_rate->getCode() ?>"<?php if($_rate->getCode()===$this->getAddressShippingMethod()) echo ' checked="checked"' ?> class="radio"/>
                                <?php 
                                break;
                                }
                            }
                            else //Rest all products
                            {
                                if(trim(date("Y-m-d")) == trim($order_delivery_date))//today's delivery
                                {
                                    //check the server time to enable option
                                    if(strcmp(trim($_rate->getMethodTitle()),trim($data['delivery_type'])) == 0)
                                    {
                                        $start_time = $data['start_time'];
                                        $end_time = $data['end_time'];

                                        if($server_time < $start_time)// || (($start_time < $server_time) && ($server_time < $end_time)))
                                        {
                                            // Enable option.
                                            ?>
                                            <input name="shipping_method" type="radio" value="<?php echo $_rate->getCode() ?>" id="s_method_<?php echo $_rate->getCode() ?>"<?php if($_rate->getCode()===$this->getAddressShippingMethod()) echo ' checked="checked"' ?> class="radio"/>
                                        <?php 
                                        }
                                        else 
                                        {
                                            ?>
                                            <input disabled="disabled" name="shipping_method" type="radio" value="<?php echo $_rate->getCode() ?>" id="s_method_<?php echo $_rate->getCode() ?>"<?php if($_rate->getCode()===$this->getAddressShippingMethod()) echo ' checked="checked"' ?> class="radio"/>
                                            <?php 
                                        }
                                    }
                                }
                            else 
                                {
    ?>
                                        <input name="shipping_method" type="radio" value="<?php echo $_rate->getCode() ?>" id="s_method_<?php echo $_rate->getCode() ?>"<?php if($_rate->getCode()===$this->getAddressShippingMethod()) echo ' checked="checked"' ?> class="radio"/>
                                <?php 
                                break;
                                }

                            }
                        }//foreach
                      ?>

                        <?php if ($_rate->getCode() === $this->getAddressShippingMethod()): ?>
                        <script type="text/javascript">
                            //<![CDATA[
                                lastPrice = <?php echo (float)$_rate->getPrice(); ?>;
                            //]]>
                        </script>
                        <?php endif; ?>

                        <?php endif; ?>

                        <?php // option name ?>

                        <label for="s_method_<?php echo $_rate->getCode() ?>">
                         <?php $option_name = $_rate->getMethodTitle();   
                         $optionNameArray = explode( '(', $option_name );
                         if(count($optionNameArray)>1)
                         {
                             echo $optionNameArray[0];
                             ?>
                             <br>
                             <?php 
                             echo '('.$optionNameArray[1];
                         }
                         else 
                         {
                            echo $optionNameArray[0];
                         }

                        ?>
                        <?php // echo $_rate->getMethodTitle() ?>
                        <?php $_excl = $this->getShippingPrice($_rate->getPrice(), $this->helper('tax')->displayShippingPriceIncludingTax()); ?>
                        <?php $_incl = $this->getShippingPrice($_rate->getPrice(), true); ?>
                        <?php // echo $_excl; ?>
                        <?php if ($this->helper('tax')->displayShippingBothPrices() && $_incl != $_excl): ?>
                            (<?php echo $this->__('Incl. Tax'); ?> <?php echo $_incl; ?>)
                        <?php endif; ?>
                        </label>

                        <?php
                            $carrier = Mage::getModel('shipping/config')->getCarrierInstance($code);
                            if($carrier->getFormBlock()){
                                $block = $this->getLayout()->createBlock($carrier->getFormBlock());
                                $block->setMethodCode($code);
                                $block->setRate($_rate);
                                $block->setMethodInstance($carrier);
                                echo $block->_toHtml();
                            } 
                        ?>
                   <?php endif ?>
                </li>
               <?php } ?>
                  <?php endforeach; ?>
                  </ul>
                  <div style="clear: both;"></div>
                        </td>
                        <tr>
                            <td><br></td>
                            <td></td>
                        </tr>

                    <tr>
                        <td style="text-align: right;"><label >Special<br> Instruction : </label></td>
                        <td><textarea class="textarea-delivery" rows="3" cols="50" name="shipping_deliveryrate[special_instructions]" id="shipping_deliveryrate[special_instructions]" cols="20" rows="4"></textarea></td>
                    </tr>
                    <tr>
                    <td></td>
                        <td><label style="font-size: 12px;font-weight:normal;font-style:italic;color:silver;">Enter any special instructions or notes about this order<br>
                        Example: "Call the recipient before the delivery. Try to deliver before 4.00pm"
                        </label></td>
                    </tr>
                    <tr>
                            <td><br></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td  style="text-align: right;">
                            <div style="width: 430px;padding-right: 83px;padding-bottom: 4px;">
                                <div style="float: left;width: 322px;height: 30px;"><a href="#" style="text-decoration: none;"><label style="font-size: 10px;font-weight:normal;color: #839821;">If you need to type our personal message<br>
                                in Sinhala or Tamil, please use relevant keyboard here</label></a>
                                </div>
                                <div style="width: 108px;height: 30px;float: left;padding-bottom: 4px;padding-top: 8px;">
                                <input type="button" name="sinhala_keyboard" id="sinhala_keyboard" class="button-checkout-language" value="Sinhala" onclick="opensinhalakeyboard();" />
                                <input type="button" name="tamil_keyboard" id="tamil_keyboard" class="button-checkout-language" value="Tamil" onclick="opentamilkeyboard();" />
                                </div>
                            </div>
                            </td>
                        </tr>
                    <tr>
                        <td><label style="float:right;">Personel <br>Message : </label></td>
                        <td><textarea class="textarea-delivery" rows="3" cols="50" name="shipping_deliveryrate[msg]" id="shipping_deliveryrate[msg]" cols="20" rows="4"></textarea></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><label style="font-size: 12px;font-weight:normal;font-style:italic;color:silver;">Your message will be hand written on a white card & sent with the gift item.</label></td>
                    </tr>
                </tbody>
            </table>
            </li>
          </ul>

        </dd>

        <?php 
        break;
    } 

   }//not florist
        else 
        {
            // if florist selected
    if($code == 'pickup') // If the shipping method is pickup
    {
        ?>
        <dt><?php echo $this->getCarrierName($code) ?></dt>
        <dd>
            <ul>
            <?php $_sole = $_sole && count($_rates) == 1; foreach ($_rates as $_rate): ?>
                <?php $shippingCodePrice[] = "'".$_rate->getCode()."':".(float)$_rate->getPrice(); ?>
                <li>
                   <?php if ($_rate->getErrorMessage()): ?>
                    <ul class="messages"><li class="error-msg"><ul><li><?php echo $_rate->getErrorMessage() ?></li></ul></li></ul>
                   <?php else: ?>
                        <?php if ($_sole) : ?>
                        <span class="no-display"><input name="shipping_method" type="radio" value="<?php echo $_rate->getCode() ?>" id="s_method_<?php echo $_rate->getCode() ?>" checked="checked" /></span>
                        <?php else: ?>
                        <input name="shipping_method" type="radio" value="<?php echo $_rate->getCode() ?>" id="s_method_<?php echo $_rate->getCode() ?>"<?php if($_rate->getCode()===$this->getAddressShippingMethod()) echo ' checked="checked"' ?> class="radio"/>

                        <?php if ($_rate->getCode() === $this->getAddressShippingMethod()): ?>
                        <script type="text/javascript">
                            //<![CDATA[
                                lastPrice = <?php echo (float)$_rate->getPrice(); ?>;
                            //]]>
                        </script>
                        <?php endif; ?>

                        <?php endif; ?>
                        <label for="s_method_<?php echo $_rate->getCode() ?>"><?php echo $_rate->getMethodTitle() ?>
                        <?php $_excl = $this->getShippingPrice($_rate->getPrice(), $this->helper('tax')->displayShippingPriceIncludingTax()); ?>
                        <?php $_incl = $this->getShippingPrice($_rate->getPrice(), true); ?>
                        <?php echo $_excl; ?>
                        <?php if ($this->helper('tax')->displayShippingBothPrices() && $_incl != $_excl): ?>
                            (<?php echo $this->__('Incl. Tax'); ?> <?php echo $_incl; ?>)
                        <?php endif; ?>
                        </label>
                        <?php
                            $carrier = Mage::getModel('shipping/config')->getCarrierInstance($code);
                            if($carrier->getFormBlock()){
                                $block = $this->getLayout()->createBlock($carrier->getFormBlock());
                                $block->setMethodCode($code);
                                $block->setRate($_rate);
                                $block->setMethodInstance($carrier);
                                echo $block->_toHtml();
                            } 
                        ?>
                   <?php endif ?>
                </li>
            <?php endforeach; ?>
            </ul>
        </dd>
        <?php 
        break;
    }
        } ?>
    <?php endforeach; ?>
    </dl>
<script type="text/javascript">
//<![CDATA[

    <?php if (!empty($shippingCodePrice)): ?>
        var shippingCodePrice = {<?php echo implode(',',$shippingCodePrice); ?>};
    <?php endif; ?>

    $$('input[type="radio"][name="shipping_method"]').each(function(el){
        Event.observe(el,'click', function(){
            if (el.checked == true) {
                var getShippingCode = el.getValue();
                <?php if (!empty($shippingCodePrice)): ?>
                    var newPrice = shippingCodePrice[getShippingCode];
                    if (!lastPrice) {
                        lastPrice = newPrice;
                        quoteBaseGrandTotal += newPrice;
                    }
                    if (newPrice != lastPrice) {
                        quoteBaseGrandTotal += (newPrice-lastPrice);
                        lastPrice = newPrice;
                    }
                <?php endif; ?>
                checkQuoteBaseGrandTotal = quoteBaseGrandTotal;
                return false;
            }
       });
    });
//]]>

jQuery(document).ready(function(){
    hideShippingAll();
    jQuery('input[type="radio"][name="shipping_method"]').click(function(){
            hideShippingAll();
            var code = jQuery(this).val();
            if(jQuery(this).is(':checked')){
                showShipping(code);
            }
    });
    jQuery('input[type="radio"][name="shipping_method"]').each(function(){
        var code = jQuery(this).val();
        if(jQuery(this).is(":checked")){
            showShipping(code);
        }       
    });
});
function showShipping(code){
    if(jQuery('#'+'shipping_form_'+code).length != 0){
        jQuery('#'+'shipping_form_'+code).show();
        jQuery(this).find('.required-entry').attr('disabled','false');
    }
}
function hideShippingAll(){
    jQuery('input[type="radio"][name="shipping_method"]').each(function(){
        var code = jQuery(this).val();
        jQuery('#'+'shipping_form_'+code).hide();
        jQuery(this).find('.required-entry').attr('disabled','true');   
    });
}

function open_in_new_tab(url)
{
  window.open(url, '_blank');
  window.focus();
}

</script>
<?php endif; ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T09:15:15.787

我找到了解决方案。

两种运输方法都具有相同的事件观察者名称。这就是为什么它总是执行一个观察者。所以改变事件观察者的名字是有效的

# php - 在 Magento 扩展中调用非对象上的成员函数 getData()

> ID：15492077
> 
> 赞同：0
> 
> 时间：2013-03-19T05:27:14.773
> 
> 标签：php, magento

您好 Magento 专家，

我开发了一个`Magento Extension`运行良好的`Version 1.6 and 1.7`，但是当我安装它时`Version 1.5`，它给了我一个错误：

```
Fatal error: Call to a member function getData() on a non-object in /home/broadcas/public_html/app/code/community/Gwb/Magecrmsync/controllers/Adminhtml/OrdersController.php on line 18 
```

下面是我的`OrderController.php`代码。

```
<?php
class Gwb_Magecrmsync_Adminhtml_OrdersController extends Mage_Adminhtml_Controller_Action
{
public function indexAction()
{
    $model = Mage::getModel('sales/order');

    $collection = $model->getCollection()
    ->addFieldToFilter('status', array("in" => array('complete','closed','pending','holded','payment_review','pending_payment','pending_paypal','processing')));

    $data = array();
    $orderArr = array();

    // getting order details

    $records = 0;
    foreach($collection as $order)
    {
        $data[$records]['order_data']['shipping_address'] = $order->getShippingAddress()->getData(); // get shipping details
        $data[$records]['order_data']['billing_address'] = $order->getBillingAddress()->getData(); // get billing details
        $data[$records]['order_data']['order_total'] = $order->getGrandTotal(); // get total amount
        $data[$records]['order_data']['shipping_amount'] = $order->getShippingAmount();
        $data[$records]['order_data']['order_details'] = $order->toArray();
        $records++;
    }

    // getting order details

}
} 
```

谁能指导我我做错了什么，这不起作用`Version 1.5`。

任何帮助，将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T07:34:05.830

检查我的答案。您应该检查是否`$order->getShippingAddress()`是对象。因为如果产品是虚拟的。将设置送货地址。

```
class Gwb_Magecrmsync_Adminhtml_OrdersController extends Mage_Adminhtml_Controller_Action
{
public function indexAction()
{
    $model = Mage::getModel('sales/order');

    $collection = $model->getCollection()
    ->addFieldToFilter('status', array("in" => array('complete','closed','pending','holded','payment_review','pending_payment','pending_paypal','processing')));

    $data = array();
    $orderArr = array();
    // getting order details
    $records = 0;
    foreach($collection as $order)
    {

            if(is_object($order->getShippingAddress()))
            {    
                $data[$records]['order_data']['shipping_address'] = $order->getShippingAddress()->getData(); // get shipping details
            }    
            else
            {
                $data[$records]['order_data']['shipping_address'] = array(); // no shipping details
            }

            if(is_object($order->getBillingAddress()))
            {
                $data[$records]['order_data']['billing_address'] = $order->getBillingAddress()->getData(); // get billing details
            }
            else
            {
                $data[$records]['order_data']['billing_address'] = array(); // no billing details    
            }

            $data[$records]['order_data']['order_total'] = $order->getGrandTotal(); // get total amount
            $data[$records]['order_data']['shipping_amount'] = $order->getShippingAmount();
            $data[$records]['order_data']['order_details'] = $order->toArray();
              $records++;
    }

    // getting order details

}
} 
```

# iphone - 如何在 .xib 中安装 Ubuntu 字体，或者我们可以更改 Xcode 4.5.1 的系统默认字体（不是通过代码，应该通过 .xib）

> ID：15492080
> 
> 赞同：2
> 
> 时间：2013-03-19T05:27:21.370
> 
> 标签：iphone, ios, objective-c, xib

需要通过 .xib 添加 Ubuntu 字体，我的意思是它应该像列表中的示例字体：自定义系列：Helvetica 样式：常规，系列应该是 'Ubuntu'

或者

我们可以将系统默认字体更改为 Ubuntu。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T05:45:00.307

通过 XIB 无法实现此行为

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T05:46:05.413

如果你想通过 xib --> font 属性的方式添加你的自定义字体，这是不可能的。但是，如果您想要一个标签或文本字段等，使用您的自定义字体意味着我们通过子类化相应的控件来实现这一点，即覆盖`awakeFromNib`. 并且您需要在项目的 .plist 文件中的“*应用程序提供的字体*”键下添加自定义字体。像这样..

![在此处输入图像描述](../Images/f0cf4492ad46bf024742897fe9527393.png)

# c# - ComVisible 属性和 IDispatch 接口

> ID：15492090
> 
> 赞同：2
> 
> 时间：2013-03-19T05:28:32.023
> 
> 标签：c#, com-server

ComVisible 属性和 IDispatch 接口之间有什么关系吗？我的意思是当用 C# 编写 COM 类 COMVisible TRUE 时，它会自动从 IDispatch 接口实现该类吗？

# ruby - “Foo”和“Foo.class”有什么区别？

> ID：15492092
> 
> 赞同：1
> 
> 时间：2013-03-19T05:28:40.637
> 
> 标签：ruby

这些不应该是一样的吗？

```
p String.ancestors
p String.class.ancestors 
```

相反，我得到：

```
[String, Comparable, Object, Kernel, BasicObject]
[Class, Module, Object, Kernel, BasicObject] 
```

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-19T05:31:37.290

## TL;博士

> 这些不应该是一样的吗？

不，他们不应该，为什么？

## 完整答案

和之间的区别与和`Foo`之间`Foo.class`相同`f``f.class`

```
class Foo; end

f = Foo.new

f # => #<Foo:0x007ff289849170>
f.class # => Foo

Foo # => Foo
Foo.class # => Class 
```

`Foo`是一个对象，`Foo.class`是它的类。

如您所见，类和类分叉的层次结构位于`Object`. 因为 ruby​​ 中的所有东西都是一个对象（*除了块:)*）。但不一定非要这样，这只是 Matz 的设计决定（*我猜是 Matz*）。在某些语言中，这是两个完全独立的不相交的层次结构。你不要混合对象和它们的类。这就像混合甜蜜和方形的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T08:23:20.287

您的问题未经过优化以进行最小比较。而不是比较：

```
String.ancestors
String.class.ancestors 
```

你应该比较：

```
String
String.class 
```

这些等价于：

```
String
Class 
```

因为`String`是 的一个实例`Class`。并且由于`String`和`Class`是不同的，因此没有理由它们`ancestors`应该相同。

# javascript - 三星 Galaxy S4 的 Air Gesture Javascript 事件

> ID：15492094
> 
> 赞同：2
> 
> 时间：2013-03-19T05:29:16.137
> 
> 标签：javascript, mobile, touch, gesture

我正在开发一个针对三星 Galaxy S4 的移动网页。在那里我想使用空中手势事件。谁能解释一下如何使用javascript捕获空中手势事件。是否存在任何针对空中手势的事件，例如正常的触摸事件 touchstart、touchend？预先感谢。

# android-ndk - OMXCodec::onEvent -- OMX 错误参数

> ID：15492100
> 
> 赞同：0
> 
> 时间：2013-03-19T05:29:28.790
> 
> 标签：android-ndk, android-hardware, stagefright, openmax

我一直在尝试使用`OMXCodec`through `Stagefright`。我已经实现了`ICS`Android 版本的代码。我有两个`CustomDataSource`派生类，`MediaSource`另一个是`CustomOmxCodec`调用`OMXCodec::Create`方法并执行读取操作以解码 h264 帧。我已经在带有`omx.google.video.avc`软件解码器的设备上测试了这个实现，它工作正常。现在，当我尝试在具有硬件 h264 解码的 android 手机上运行相同的实现时，它在读取调用时返回错误。错误如下：

```
[OMX.MTK.VIDEO.DECODER.AVC] ERROR (0x80001005, 0) 
```

`0x80001005`是为`OMX_ErrorBadParameter`。`-1103`我在读取操作时收到错误代码。我尝试了各种参数，但没有成功。

完整的日志如下：

```
[OMX.MTK.VIDEO.DECODER.AVC] mVideoInputErrorRate (0.000000)

!@@!>>create tid (21087) O<XCodec mOMXLivesLocally=0, mIsVideoDecoder (1), mIsVideoEncoder (0), mime(video/avc)

[OMX.MTK.VIDEO.DECODER.AVC] video dimensions are 640X480

mSupportesPartialFrames 1 err 0

[OMX.MTK.VIDEO.DECODER.AVC] allocating 10 buffers of size 65536 on input port.

[OMX.MTK.VIDEO.DECODER.AVC] mMemHeapBase = 0x00E8C288,  mOutputBufferPoolMemBase=0x51F8E000, size  = 9578848

[OMX.MTK.VIDEO.DECODER.AVC] ERROR (0x80001005, 0)

OMXCodec::onEvent--OMX Bad Parameter!!

Read Error : -1103 
```

我很感激这方面的任何指导。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T09:44:07.833

从问题来看，硬件编解码器`OMX.MTK.VIDEO.DECODER.AVC`不支持作为配置步骤的一部分传递的参数之一。

From `OMXCodec::create`,`configureCodec`将被调用，它在内部调用了许多其他函数。由于错误是 的一部分`OMXCodec::onEvent`，因此可能的情况之一是组件在解码第一帧的前几个字节时遇到错误。

具体来说，当组件遇到`SPS`和`PPS`（编解码器特定数据的一部分）时，组件通常会触发`portSettingsChanged`. 从您的回复中，我觉得在这个过程中，出现了一些错误，因此`onEvent`被触发了。

请分享更多日志以进一步分析。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-18T06:27:16.570

MTK H264 解码器需要参数 csd-0 和 csd-1 来初始化解码器（您可以在[http://developer.android.com/reference/android/media/MediaCodec.html](http://developer.android.com/reference/android/media/MediaCodec.html)获得一些信息）。csd-0和csd-1代表H264的SPS和PPS。我问了一位MTK工程师，他说我们可以使用下面的代码来设置这两个参数。

```
byte[] sps = {0,0,0,1,103,100,0,40,-84,52,-59,1,-32,17,31,120,11,80,16,16,31
              ,0,0,3,3,-23,0,0,-22,96,-108};
byte[] pps = {0,0,0,1,104,-18,60,-128};
MediaFormat mFormat = MediaFormat.createVideoFormat("video/avc", width, height);
mFormat.setByteBuffer("csd-0", ByteBuffer.wrap(sps));
mFormat.setByteBuffer("csd-1", ByteBuffer.wrap(pps)); 
```

也许这就是我们收到 OMX Bad Parameter 错误消息的原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T14:34:41.183

从日志和映射到实现的代码，我觉得发生了以下情况

```
[OMX.MTK.VIDEO.DECODER.AVC] allocating 10 buffers of size 65536 on input port. 
```

此步骤在解码器的输入端口上分配缓冲区

从代码流来看，输入端口缓冲区分配后，输出端口上的缓冲区是从分配`nativeWindow`到的`allocateOutputBuffersFromNativeWindow`。

作为该方法实现的一部分，其中一个步骤是将输出端口上的缓冲区数量增加 2，并将其设置为组件，如此[处](http://androidxref.com/4.0.4/xref/frameworks/base/media/libstagefright/OMXCodec.cpp#1916)`OMX`所示。

我觉得您的错误可能源于这一特定点，因为 index.js`nBufferSize`的***只读***参数也是如此`OMX_IndexParamPortDefinition`。请参阅[OMX 标准](http://www.khronos.org/registry/omxil/specs/OpenMAX_IL_1_2_0_Specification.pdf)，第 3.1.3.12.1 节，第 83 页，清楚地表明这`nBufferSize`是一个***只读***参数。

看起来您的`OMX`组件可能是严格`OMX`兼容的组件，而从 Android`ICS`开始，某些偏差是可以预料的。这**可能**是您的错误的潜在原因之一。

**PS：**如果您可以分享更多信息，我们可以提供更多帮助。

# ajax - 使用 中断我的 JSF 页面，直到我发出 ajax 请求

> ID：15492102
> 
> 赞同：0
> 
> 时间：2013-03-19T05:29:36.967
> 
> 标签：ajax, jsf, facelets

我正在使用 PrimeFaces 和最新的 jsf 东西。

```
<p:dataGrid var="terms" value="#{coursePlanSandbox.preProcessedTerms}" columns="4" rows="20">
    <h:form style="margin:0px;">
        <div class="list-widget classDrop">
            <div class="list-head">
                <h3>#{coursePlanSandbox.termName(terms.term)}</h3>
                <div class="list-meta">
                    #{terms.term.startYear} 
                    <span class="pull-right" style="margin-top:-3px;">
                        #{terms.fToi(terms.scheduledUnits)} / 
                        <h:inputText styleClass="inputMaxUnits" value="#{terms.firstSession.maxUnits}" >
                            <p:ajax event="change" process="@this" />
                        </h:inputText>
                    </span>
                </div>
            </div>
        </div>
    </h:form>
</p:dataGrid> 
```

这是我的 Facelets 文件的片段。如果我重新运行页面，右键单击 NetBeans 中的 Facelets 文件并单击“运行文件”会刷新我猜想的服务器，然后页面停止加载，之后不再加载`<h:inputText>`任何其他内容。即使我刷新页面，它也会在那之后停止加载。如果我在其中输入一个值，`<h:inputText>`它会向服务器发送一个 ajax 请求，如果我然后单击刷新，则页面会在此之后加载其他所有内容。这是服务器的错误还是我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T05:36:59.547

我不明白为什么要使用运行文件...通常您运行 JSF 项目（或调试它）并且在 xhtml 文件或 java 文件中进行更改时不需要运行其他任何东西（添加/修改时除外类和函数原型）。运行文件对于运行包含 main() 的类很有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:17:45.003

发现它是什么，我在控制器中调用了一个对象，然后就打破了页面。一旦通过ajax调用，它就会调用类构造函数并构建对象。这就是为什么之后的每次刷新都可以正常工作的原因。

# command - 使用批处理文件重命名多个文本文件

> ID：15492104
> 
> 赞同：0
> 
> 时间：2013-03-19T05:29:45.857
> 
> 标签：command, dos

我将如何编写一个批处理文件来重命名多个文本文件？

假设我们必须重命名 200 个文件，如下所示

```
ABC_Suman_156smnhk.txt,
ABC_Suman_73564jsdlfm.txt,
ABC_Suman_9864yds7mjf45mj.txt 
```

至

```
MNC_Ranj_156smnhk.txt,
MNC_Ranj_73564jsdlfm.txt,
MNC_Ranj_9864yds7mjf45mj.txt 
```

注意：我`ABC_Suman`只需要将此部分更改为`MNC_Ranj`

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T05:55:39.317

要执行批量重命名，基本命令如下所示：

对于*foo*中的文件名；做 echo mv \"$filename\" \"${filename//foo/bar}\"; done > rename.txt 该命令的工作原理如下：

for 循环遍历当前目录中所有名称为*foo的文件。*对于每个文件名，它构造并回显 mv “filename” “newfilename” 形式的命令，其中文件名和新文件名用双引号括起来（以说明文件名中的空格），新文件名包含所有foo 的实例替换为 bar。替换函数 ${filename//foo/bar} 有两个斜杠 (//) 以将每次出现的 foo 替换为 bar。最后，将整个输出保存到 rename.txt 以供用户查看，以确保正确生成重命名命令。

我从以下链接中获取它： [http ://www.peteryu.ca/tutorials/shellscripting/batch_rename](http://www.peteryu.ca/tutorials/shellscripting/batch_rename)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-24T17:55:35.327

@echo off setlocal enableDelayedExpansion for %%F in (ABC_Suman*.txt) do ( set "name=%%F" ren "!name!" "!name:ABC_Suman=MNC_Ranj!" )

# iphone - 从 iPad 搜索时如何使 iPhone 应用程序可搜索

> ID：15492107
> 
> 赞同：1
> 
> 时间：2013-03-19T05:29:49.320
> 
> 标签：iphone, ipad, ios6

我创建了一个 iPhone 应用程序并发布到 iTunes。现在我的客户抱怨当他从 iPad 搜索它时它不会显示在 iPad 应用程序下。他让我也让它在 iPad 下搜索。那我怎么能做到这一点请帮助我。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T05:52:40.293

如果您点击 iPad 上的 iPhone 选项卡，您可以找到它。如果您希望它显示在 iPad 应用程序下，它必须是 iPad 应用程序（或通用应用程序，这意味着它是为 iPhone 和 iPad 设计的）。如果您希望针对 iPad 优化您的应用程序并使其成为通用应用程序，这里有一些资源可以帮助您入门：

[Apple 的高级应用技巧指南](http://developer.apple.com/library/ios/#documentation/iphone/conceptual/iphoneosprogrammingguide/AdvancedAppTricks/AdvancedAppTricks.html)

[创建通用 iOS 应用教程](http://blog.corywiles.com/creating-a-universal-ios-app-tutorial)

[创建通用 iOS 应用程序](http://www.slideshare.net/cliffmcc/creating-a-universal-ios-application)

如果您去 Xcode 并开始一个新项目，然后单击“通用”，Apple 将为您完成大部分工作。您还会发现它比听起来要简单得多。基本上你对不同的 nib 文件使用相同的代码。如果您需要更高级的控制，您可以随时检测您正在运行的设备以编程方式执行操作。

# sql - 使用 CommandBuilder 验证从 DataGridView 更新 OleDb

> ID：15492108
> 
> 赞同：0
> 
> 时间：2013-03-19T05:29:53.833
> 
> 标签：sql, vb.net, ms-access, oledb, oledbcommand

我刚刚发现了 CommandBuilder，并认为它听起来很直接且易于使用。显然我仍然缺少一些东西。我有一个 DataGridView 可以成功更新名为 Customers 的 dbSet 表。但它没有更新到实际的数据库文件：

```
...
Dim ConMain As New OleDbConnection("Provider=Microsoft.ACE.OLEDB.12.0;Data Source=C:\dummy_data.accdb")
...
Private Sub CustomerDataGridView_RowValidated(ByVal sender As Object, _
    ByVal e As System.Windows.Forms.DataGridViewCellEventArgs) _
    Handles CustomerDataGridView.RowValidated

    Me.CustomersTableAdapter.Update(Me.Dummy_dataDataSet.Customers)
    Dim CustomerAdapter As New OleDbDataAdapter("Select * From Customers", ConMain)
    Dim ObjComander As New OleDbCommandBuilder(CustomerAdapter)
    CustomerAdapter.Update(Dummy_dataDataSet, "Customers")

End Sub 
```

它不会抛出错误，并且我所做的任何更改都保存在内存中（我可以打开和关闭表单并且更改将保留），但它们实际上并未写入数据库。我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T09:24:06.447

尝试这个

```
Dim ConMain As New OleDbConnection("Provider=Microsoft.ACE.OLEDB.12.0;Data Source=C:\dummy_data.accdb")
Dim m_DtCustomer As New DataTable
Dim CustomerAdapter As OleDbDataAdapter
Dim m_Bsource As New BindingSource

'Populate the datagridview

Sub FillDataGrid()

    CustomerAdapter = New OleDbDataAdapter("Select * From Customers", ConMain)
    m_DtCustomer.Clear()
    CustomerAdapter.Fill(m_DtCustomer)
    m_Bs.DataSource = m_DtCustomer
    CustomerDataGridView.Datasource = m_Bs
End Sub

'Update changes to the database

Sub UpdateDatabase()

    Dim ObjComander As New OleDbCommandBuilder(CustomerAdapter)
    CustomerAdapter.Update(m_DtCustomer)

End Sub

Private Sub CustomerDataGridView_RowValidated(ByVal sender As Object, _
ByVal e As System.Windows.Forms.DataGridViewCellEventArgs) _
Handles CustomerDataGridView.RowValidated

    Call Me.UpdateDatabase()

End Sub 
```

# ruby-on-rails - 错误：在任何存储库中都找不到有效的 gem 'rails' (>= 0)

> ID：15492110
> 
> 赞同：1
> 
> 时间：2013-03-19T05:30:21.037
> 
> 标签：ruby-on-rails, linux, ruby-on-rails-3

我在linux环境下成功安装了rvm和ruby。当我尝试安装 rail 时，我遇到以下错误：

```
$ gem install rails
/home/bathakarai/.rvm/rubies/ruby-1.9.3-p385/bin/gem:4: warning: Insecure world writable dir /home/bathakarai in PATH, mode 040777
ERROR:  Could not find a valid gem 'rails' (>= 0) in any repository
ERROR:  While executing gem ... (Gem::RemoteFetcher::FetchError)
    Errno::EHOSTUNREACH: No route to host - connect(2) (http://rubygems.org/latest_specs.4.8.gz) 
```

我的宝石版本是

> 1.8.25

rvm 版本是“rvm 1.18.19 (stable) by Wayne E. Seguin, Michal Papis [https://rvm.io/]”。

请告诉我为什么会发生此错误，以帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-27T14:39:28.233

您可以使用以下命令进行安装

> gem install rails --source [http://rubygems.org](http://rubygems.org)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:28:15.763

是的，最后我得到了结果。这似乎是某种代理问题。**我使用在浏览器中给出的导出“$HTTP_PROXY=IPAddress:portnumber”**设置代理。 对于任何参考[http://khylo.blogspot.in/2007/12/ruby-on-rails-headaches.html](http://khylo.blogspot.in/2007/12/ruby-on-rails-headaches.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T05:37:25.460

尝试运行

```
sudo gem install rails 
```

这可能会克服您遇到的权限问题

根据错误消息，您还可能遇到 Internet 连接问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-21T20:18:36.973

就我而言，罪魁祸首是avast！我的 MacBook Pro 上的网络安全软件。我去了系统偏好设置，点击 avast!，点击锁以启用更改，并禁用 Web Shield 和 File System shield。

之后，我就可以安装 gems 了。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-03-24T20:18:22.243

两天来我一直在努力安装rails（我收到了几乎相同的错误消息，但是，没有那个“不安全的世界......”行）。最后我使用下面的脚本（在[RailsGirls](http://guides.railsgirls.com/install/#setup-for-linux)提供）完成了它：

```
bash < <(curl -sL https://raw.github.com/railsgirls/installation-scripts/master/rails-install-ubuntu.sh) 
```

我不知道为什么它起作用了。只是把它留在这里，希望它对其他一些灵魂也有帮助。;P

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-01-12T04:19:28.833

您应该尝试禁用 IPV6 以安装所需的 Gem 文件，因为 rails fetcher 无法找到源。如果您使用的是 linux 机器，您可以查看此链接了解如何禁用 IPV6 [https://www.linuxbabe.com/ubuntu/disable-ipv6-on-ubuntu](https://www.linuxbabe.com/ubuntu/disable-ipv6-on-ubuntu)

# java - 如何迭代对象列表中的列值？

> ID：15492119
> 
> 赞同：0
> 
> 时间：2013-03-19T05:31:26.917
> 
> 标签：java

这是我的代码：

```
 public String generateEISReports_PDF(){

    surveyReportService.setSurveyReportDA(surveyReportDA);
    surveyReportList = surveyReportService.getSurveyReport(surveyType, surveyDate, projectCode, employeeCode);
    if(surveyReportList != null){

        System.out.println(surveyReportList + "testing");
        System.out.println(surveyReportList.size() + "size ito");

        for (SurveyReport surveyReport : surveyReportList) {                
            System.out.println(surveyReport.getRiskRank().toString() + "asdf");
            surveyReports.add(surveyReport);
        }

    }

    this.compileTheJasperReports();
    return SUCCESS;
} 
```

我将此代码作为对象获取整行值。我想迭代每个对象列表中的字段值。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T09:37:45.337

通过使用反射，您可以实现这一点。以下是代码。这可能会帮助你。

```
import java.lang.reflect.Field;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

public class SurveyReport {  
    public int localServeryCont;  // if you make it private then changes have to be done in 'SurveyIterator' inner class.
    public String surveyReporterName;

    public static void main(String[] args) {
        List<SurveyReport> surveyReportList = new ArrayList<SurveyReport>();
        SurveyReport sr = new SurveyReport(); //first object creation
            sr.localServeryCont = 10;
            sr.surveyReporterName = "AAA";
            surveyReportList.add(sr);

        sr = new SurveyReport();  //second object creation
            sr.localServeryCont  = 100;
            sr.surveyReporterName = "BBB";
            surveyReportList.add(sr);  //two objects are in the list-object.

        for (SurveyReport surveyReport : surveyReportList) {
            Iterator<String> itr = surveyReport.iterator();   //You can work around with 'java.lang.Iterable' to use 'foreach' loop
            while (itr.hasNext()) {  //this is what you might be expecting
                System.out.println("SurveyReport's object's values : " + itr.next());
            }

        }
    }

    public Iterator<String> iterator() { //here is method to get iterator object.
        return new SurveyIterator();
    }

    private class SurveyIterator implements Iterator<String> {  //creating 'SurveyIterator' INNER class
        private int totalAvailableField = SurveyReport.class.getDeclaredFields().length;
        int cursor = 0;
        Field[] surveyReportFields = SurveyReport.class.getFields();

        @Override
        public boolean hasNext() {
            return cursor != totalAvailableField;
        }

        @Override
        public String next() {

            String next = null;
            try {
                next = (surveyReportFields[cursor].get(SurveyReport.this)).toString();
            } catch (IllegalArgumentException e) {
                e.printStackTrace();
            } catch (IllegalAccessException e) {
                e.printStackTrace();
            }
            cursor++;
            return next;
        }

        @Override
        public void remove() {
            throw new UnsupportedOperationException();
        }
    }
} 
```

# linux-kernel - ARM Cortex A8 PMNC 读取在启用后也给出 0.. 任何想法/建议？

> ID：15492120
> 
> 赞同：0
> 
> 时间：2013-03-19T05:31:26.887
> 
> 标签：linux-kernel, arm, kernel-module, cpu-registers, cortex-a8

```
MODULE_LICENSE("GPL");
MODULE_DESCRIPTION("user-mode access to performance registers");

int __init arm_init(void)

{
    unsigned int value;

    /* enable user-mode access */
    printk(KERN_INFO "enable user-mode access\n");
    asm ("MCR p15, 0, %0, C9, C14, 0\n\t" :: "r"(1));

    /* Reading the value here--just to check */

    asm ("MRC p15, 0, %0, c9, c14, 0\t\n": "=r"(value));
    printk("value: %d\n", value);

    /* disable counter overflow interrupts (just in case)*/
    printk(KERN_INFO "disable counter overflow interrupts (just in case)\n");
    asm ("MCR p15, 0, %0, C9, C14, 2\n\t" :: "r"(0x8000000f));

    printk(KERN_INFO "user-mode access to performance registers enabled\n");
    return 0;
}

void arm_exit(void)
{
    unsigned int value;
    asm ("MRC p15, 0, %0, c9, c14, 0\t\n": "=r"(value));
    printk("value: %d\n", value);
    printk(KERN_INFO "user-mode access to performance registers disabled\n");
}

module_init(arm_init);
module_exit(arm_exit); 
```

在初始化模块中读取给出 1，但在清理模块中读取变量给出 0。知道它是如何更新的吗？

# android - 在android中更新数据库方法

> ID：15492128
> 
> 赞同：1
> 
> 时间：2013-03-19T05:31:52.697
> 
> 标签：android

我想从弹出窗口中添加任务名称，它会自动添加到列表中。那么，有没有办法自动更新数据库。这是我的方法

```
SampleDB = this.openOrCreateDatabase("SampleDB", SQLiteDatabase.CREATE_IF_NECESSARY, null);
                String query = "select *from TaskList";
                Cursor c = SampleDB.rawQuery(query, null);
                c.moveToFirst();
                do{
                    String Task = c.getString(c.getColumnIndex("task"));

                    /* Add current Entry to results. */ 
                 results.add(Item);
                }while(c.moveToNext());
                 this.setListAdapter(new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, results)); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T09:11:21.937

此方法可以将项目添加到您的数据库中：

```
public void addTaskToDb(SQLiteDatabase database, String task) {
    ContentValues values = new ContentValues();
    values.put("task", task);

    database.insert("TaskList", null, values);
} 
```

然后像这样替换您的代码：

```
SampleDB = this.openOrCreateDatabase("SampleDB", SQLiteDatabase.CREATE_IF_NECESSARY, null);
ArrayAdapter<String> adapter = (ArrayAdapter<String>)this.getListAdapter();

this.addTaskToDb(SampleDB, Item);
adapter.add(Item); 
```

# c - 修改已经初始化的字符串数组

> ID：15492130
> 
> 赞同：0
> 
> 时间：2013-03-19T05:32:08.210
> 
> 标签：c

在下面的代码中，如果我同时删除 strncpy 它的编译和运行没有段错误。但是使用 strcpy 会引发 seg 错误。在这两种情况下，我都试图修改只读地址吗？那么为什么会出现意外行为..

```
#include<stdio.h> 
#include<string.h>
int main()
{
unsigned char* newPrompt="# ";
static unsigned char* au1CLIPromptStrings [] =
{
 "",
 "Login: ",
 "Password: ",
  "0123456789012345678901234",
  "0123456789012345678901234",
};
/* here am trying to moodify the read only address */
au1CLIPromptStrings[3] = "# \0";
au1CLIPromptStrings[4]  = "# \0";
/* removed two strncpy second time */
printf("a1 = %s and a2 = %s\n",au1CLIPromptStrings[3],au1CLIPromptStrings[4]);

/* here using strcpy am trying to modify */
strncpy(au1CLIPromptStrings[3],newPrompt,strlen(au1CLIPromptStrings[3])) ;
strncpy(au1CLIPromptStrings[4],newPrompt,strlen(au1CLIPromptStrings[4])) ;
} 
```

提前致谢..

我现在面临一个问题。我需要将 au1CLIPromptStrings 的值传递给另一个在许多地方使用的双指针。因此，如果我将 au1CLIPromptStrings 的地址分配给结构 elemet 中的 unsigned char 类型的双指针。现在我无法检索即使地址正确，它的元素也会变为 NULL。我不能在任何地方使用相同的 au1CLIPromptStrings 变量，这是我告诉的 waht 的原型，

```
 unsigned char **newPrompt1 =NULL;
 newPrompt1 = au1CLIPromptStrings;
 printf("a1 = %s and a2 = %s\n", newPrompt1[3],newPrompt1[4]); 

#include<stdio.h>
#include<string.h>
int main()
{
unsigned char *newPrompt="# ";
unsigned char **newPrompt1 =NULL;
unsigned char au1CLIPromptStrings [7][30] =
{
"",
"Login: ",
"Password: ",
" 0123456789012345678901234",
" 0123456789012345678901234",
};
newPrompt1 = au1CLIPromptStrings; // here am assigning the address
printf("b1 = %u and b2 = %u\n",newPrompt1,au1CLIPromptStrings);
printf("a1 = %s and a2 = %s\n",newPrompt1[3],newPrompt1[4]);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T05:59:42.740

您自己的程序，经过修改以展示如何使用 `[][]`，可以帮助减少混淆而不是使用`*[]`

```
#include<stdio.h> 
#include<string.h>
int main()
{
unsigned char newPrompt[10]="# ";
unsigned char au1CLIPromptStrings [5][30] =
{
 "",
 "Login: ",
 "Password: ",
  " 0123456789012345678901234",
  " 0123456789012345678901234",
};

printf("a1 = %s and a2 = %s\n",au1CLIPromptStrings[3],au1CLIPromptStrings[4]);

strcpy(au1CLIPromptStrings[3],"# \0");
strcpy(au1CLIPromptStrings[4],"# \0");

printf("a1 = %s and a2 = %s\n",au1CLIPromptStrings[3],au1CLIPromptStrings[4]);

strncpy(au1CLIPromptStrings[3],newPrompt,strlen(au1CLIPromptStrings[3])) ;
strncpy(au1CLIPromptStrings[4],newPrompt,strlen(au1CLIPromptStrings[4])) ;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T05:46:55.660

```
static unsigned char* au1CLIPromptStrings [] =
{
    "",
    "Login: ",
    "Password: ",
    "0123456789012345678901234",
    "0123456789012345678901234",
}; 
```

这定义了一个数组，其中每个成员都是一个指向 char 类型的指针。并且在初始化之后，每个成员都指向一个你不能修改的静态区域。是的，您可以更改该指针以指向另一个内存块，就像您在

```
au1CLIPromptStrings[3] = "# \0";
au1CLIPromptStrings[4]  = "# \0"; 
```

但实际上您正在更改指针的值（或者只是说指向另一个内存块），而不是更改原始内存块。原始的是只读的。

我的第二个问题的代码：

```
#include<stdio.h> 
#include<string.h>

int main()
{
    unsigned char **newPrompt1 =NULL;
    static unsigned char* au1CLIPromptStrings [] =
    {
        "",
        "Login: ",
        "Password: ",
        "0123456789012345678901234",
        "0123456789012345678901234",
    };

    newPrompt1 = au1CLIPromptStrings;
    printf("a1 = %s and a2 = %s\n", au1CLIPromptStrings[3],au1CLIPromptStrings[4]);
    printf("a1 = %s and a2 = %s\n", newPrompt1[3],newPrompt1[4]); 

    return 0;
} 
```

在带有 gcc 的 cygwin 下，它会打印：

```
a1 = 0123456789012345678901234 and a2 = 0123456789012345678901234
a1 = 0123456789012345678901234 and a2 = 0123456789012345678901234 
```

# python - Python matplotlib

> ID：15492139
> 
> 赞同：0
> 
> 时间：2013-03-19T05:32:50.147
> 
> 标签：python, math, graph, matplotlib, plot

我无法让 matplotlib 显示窗口。

我已经下载了 python 3.3、python 3.3 的 matplotlib 和 numpy。

我还为 Visual Studio 2012 安装了 python 工具，因此我可以在该环境中创建 python 解决方案。

有了这一切......我正在运行这个非常简单的脚本：

```
import numpy as np
import matplotlib.pyplot as plt
import pylab

# Come up with x and y
x = np.arange(0, 5, 0.1)
y = np.sin(x)

# plot the x and y and you are supposed to see a sine curve
plt.plot(x, y)

# without the line below, the figure won't show
pylab.show() 
```

这编译没有警告或错误，但只显示我的控制台窗口；没有图形或交互式窗口出现过。我尝试从命令提示符运行脚本，认为可能是 Visual Studio 环境将其丢弃，但它仍然无法正常工作。

我也尝试使用 python 2.7 运行，但它也没有工作。

我发现的每个教程都证实这应该有效。我正在拔头发，并会在这一点上表扬任何帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T19:07:47.253

你应该输入

```
plt.show() 
```

反而。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-22T19:54:06.557

你需要把

```
plt.figure() 
```

在开始向其绘制信息之前制作图形窗口

如果您使用的是 Spyder 等 GUI 控制台，请确保您已打开交互式绘图，以便它绘制到单独的窗口而不是内联到控制台

# javascript - JavaScript 支持 OO 多态性？

> ID：15492145
> 
> 赞同：0
> 
> 时间：2013-03-19T05:33:09.333
> 
> 标签：javascript

我想了解 JavaScript 是否真的支持多态性？使用函数参数，函数重载看起来没问题，但是在经典 OO 中使用继承来覆盖函数？JavaScript是否也支持任何输入指针都会有所帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T05:37:00.690

JavaScript 是一种面向对象的语言，但不是通过经典的 OO。它通过原型设计来支持它。我会对 Java Script 和原型设计做一些研究——从那里开始

# ruby - Ruby：重载收益函数

> ID：15492146
> 
> 赞同：0
> 
> 时间：2013-03-19T05:33:09.713
> 
> 标签：ruby, yield-keyword

我在学习 Ruby 时注意到，每种方法的这两种用法都可以工作并产生相同的输出，我想知道 Ruby 是如何实现这一点的（以及如何在我自己的函数中实现这一点）：

```
my_array = [["hello","goodbye"],["picture","perfect"]]

my_array.each do |array|

  puts array[0] + " " + array[1]

end

my_array.each do |first, second|

  puts first + " " + second

end 
```

我的理解是在编写接受代码块的方法的定义时，使用yield方法将参数传递给代码块并调用代码块。但是如何利用 yield 方法，让它根据提供的代码块传递不同的参数呢？在示例情况下，当块内使用两个参数（即，第一个、第二个）时，yield 方法似乎传递了单个数组元素，而在块内使用一个参数（即，数组）时，它传递了数组本身。 ）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:46:06.737

两者都`each`没有`yield`在这里做任何特别的事情，这就是块参数的工作方式。考虑这个简单的例子：

```
def f(x) yield x end 
```

现在我们可以看到会发生什么：

```
>> f([1,2]) { |a| puts a.inspect }
[1, 2]
>> f([1,2]) { |a, b| puts "#{a} - #{b}" }
1 - 2
>> f([1,2]) { |a, b, c| puts "#{a} - #{b} - #{c}" }
1 - 2 - 
```

您会在作业中看到类似的破坏：

```
a, b = [1, 2] 
```

您也可以使用 splat 显式执行此操作：

```
a, b = *[1, 2] 
```

或像这样：

```
def g(x) yield *x end
g([1, 2]) { |a, b| puts "#{a} - #{b}" } 
```

大概该块知道它将给出什么样的东西，因此该块可以很好地解包参数。请注意，该`g`函数必须知道它的参数是可分解的（即数组），但`f`不是。`f`很好地将“是什么样的东西`x`”逻辑放在对 的调用中`f`，`g`将一半的逻辑隐藏在自身内部。当您在 Hash 上使用 Enumerable 方法时，差异变得明显的一个地方是：

```
{ :where => :is, :pancakes => :house? }.map { |k, v| ... } 
```

`Enumerable#map`不需要知道哈希在键/值两个元素数组中工作，它只是传递东西，让其他人担心细节。

# php - 记录未进入数据库时 如何设置空白空间

> ID：15492153
> 
> 赞同：1
> 
> 时间：2013-03-19T05:33:32.940
> 
> 标签：php, mysql

我创建了 html 表单，当我单击提交按钮时，我从数据库中获取记录，但如果数据不在数据库中，则打印

```
 http://bukkyolu.com/mp3/upload/ 
```

这不是来自数据库，它只是我在下面的语句中打印的静态值

```
 http://bukkyolu.com/mp3/upload/".$row['2']."'> ,
    if the .$row['2'].is not in to database 
```

我想要空白空间而不是打印的默认链接

```
<?php
$category=$_POST["category"];
$month=$_POST["month"];

$mysql_hostname = "localhost";
$mysql_user = "root";
$mysql_password = "";
$mysql_database = "bukkyolu_mp3";
$bd = mysql_connect($mysql_hostname, $mysql_user, $mysql_password)
or die("Opps some thing went wrong");
mysql_select_db($mysql_database, $bd) or die("Opps some thing went wrong");

    $query  = "SELECT title,Amp3,Bmp3,Cmp3 FROM mp3_data WHERE`category` = '$category' and `month` = '$month' ";
$result1 = mysql_query($query);
$row = mysql_fetch_array($result1);
//echo $row['s_id'];

 echo "<table border='1' align='center' >";

while ($row = mysql_fetch_row($result1)){
 // echo "<td><a href='#' onclick='someFunction()'>" .$row['0']. "</a> </td>";
   echo "<tr><th>Title:</th><td>".$row['0']."</td></tr>";  
 echo "<tr><th>African:</th><td><a href 'http://bukkyolu.com/mp3/upload/".$row['1']."'>http://bukkyolu.com/mp3/upload/".$row['0']."</a></td></tr>";
 echo "<tr><th>British:</th><td><a href 'http://bukkyolu.com/mp3/upload/".$row['2']."'>http://bukkyolu.com/mp3/upload/".$row['0']."</a></td></tr>";
 echo "<tr><th>Caribbean:</th><td><a href 'http://bukkyolu.com/mp3/upload/".$row['3']."'>http://bukkyolu.com/mp3/upload/".$row['3']."</a></td></tr>";
  echo "<tr></tr>";
  echo "<tr></tr>";
}
echo "</table>";

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T05:38:29.300

检查值如下。

```
if(isset($row['0']) && $row['0'] != "")
{
   echo "<tr><th>African:</th><td><a href 'http://bukkyolu.com/mp3/upload/".$row['1']."'>http://bukkyolu.com/mp3/upload/".$row['0']."</a></td></tr>";
}
else
{
   echo "<tr><th>African:</th><td>...</td></tr>";
} 
```

对其他人做同样的事情。

**或者**

创建更像是一个良好的编程习惯的函数。

```
function checkForValue($value)
{
    $response = "&nbsp";// you can also add ... or anything 
    if(isset($value) && $value != "")
    {
        $response = $value;
    }
    return $response;
} 
```

并将其称为 .

```
echo "<tr><th>Title:</th><td>".checkForValue($row['0'])."</td></tr>"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T05:39:53.460

试试这个：

```
 isset($row['0'])?$row['0']:''

 while ($row = mysql_fetch_row($result1)){
   // echo "<td><a href='#' onclick='someFunction()'>" .$row['0']. "</a> </td>";
   echo "<tr><th>Title:</th><td>".isset($row['0'])?$row['0']."</td></tr>";  
   echo "<tr><th>African:</th><td><a href 'http://bukkyolu.com/mp3/upload/".isset($row['1'])?$row['1']:''."'>http://bukkyolu.com/mp3/upload/".isset($row['0'])?$row['0']:''."</a></td></tr>";
   echo "<tr><th>British:</th><td><a href 'http://bukkyolu.com/mp3/upload/".isset($row['2'])?$row['2']:''."'>http://bukkyolu.com/mp3/upload/".$row['0']."</a></td></tr>";
   echo "<tr><th>Caribbean:</th><td><a href 'http://bukkyolu.com/mp3/upload/".isset($row['3'])?$row['3']:''."'>http://bukkyolu.com/mp3/upload/".isset($row['3'])$row['3']:''."</a></td></tr>";
   echo "<tr></tr>";
   echo "<tr></tr>";
}
echo "</table>"; 
```

等以这种方式，如果值不存在，您可以设置空间

希望它会有所帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T05:43:54.660

添加附加条件，如果您的查询没有找到结果。它只会不做其他事情，`mysql_fetch_rows`因为`mysql_fetch_rows`需要获取输出..

```
if(count($result1) > 0){
 while ($row = mysql_fetch_row($result1)){
     // echo "<td><a href='#' onclick='someFunction()'>" .$row['0']. "</a> </td>";
       echo "<tr><th>Title:</th><td>".(!empty($row['0'])? $row['0']: ' '."</td></tr>";  

     echo "<tr><th>African:</th><td><a href '".(!empty($row['0']))? 'http://bukkyolu.com/mp3/upload/'.$row['0'] : ' '."'>".(!empty($row['0']))? 'http://bukkyolu.com/mp3/upload/'.$row['0'] : ' '."</a></td></tr>";

     echo "<tr><th>African:</th><td><a href '".(!empty($row['0']))? 'http://bukkyolu.com/mp3/upload/'.$row['2'] : ' '."'>".(!empty($row['0']))? 'http://bukkyolu.com/mp3/upload/'.$row['0'] : ' '."</a></td></tr>";
     echo "<tr><th>British:</th><td><a href '".(!empty($row['0']))? 'http://bukkyolu.com/mp3/upload/'.$row['3'] : ' '."'>".(!empty($row['0']))? 'http://bukkyolu.com/mp3/upload/'.$row['3'] : ' '."</a></td></tr>";
      echo "<tr></tr>";
      echo "<tr></tr>";
    }
}
else{
     echo "<tr><th>Title:</th><td> </td></tr>";  
     echo "<tr><th>African:</th><td><a href 'javascript:void(0);'> </a></td></tr>";
     echo "<tr><th>African:</th><td><a href 'javascript:void(0);'> </a></td></tr>";
     echo "<tr><th>British:</th><td><a href 'javascript:void(0);'> </a></td></tr>";
      echo "<tr></tr>";
      echo "<tr></tr>";
} 
```

尝试在每个结果中包含三元条件

这样如果获取数据为空，它将显示另一个条件为`' '`

# mysql - Mysql中最后更新的行ID

> ID：15492154
> 
> 赞同：3
> 
> 时间：2013-03-19T05:33:45.683
> 
> 标签：mysql

目前我正在处理一个项目。我需要查找最后更新的 id。如何在 mysql 中获取最后更新的行 ID？请任何人帮忙吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T05:37:09.753

生成新`AUTO_INCREMENT`值后，您还可以通过执行一条`SELECT LAST_INSERT_ID()`语句来获取它，`mysql_query()`并从该语句返回的结果集中检索该值。

对于`LAST_INSERT_ID()`，最近生成的 ID 在每个连接的基础上维护在服务器中。它不会被其他客户端更改。`AUTO_INCREMENT`如果您使用非魔术值（即非 NULL 且非 0 的值）更新另一列，它甚至不会更改。从多个客户端同时使用`LAST_INSERT_ID()`和`AUTO_INCREMENT`列是完全有效的。每个客户端都将收到客户端执行的最后一条语句的最后插入 ID。

[在这里阅读更多](http://dev.mysql.com/doc/refman/5.0/en/getting-unique-id.html)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T05:39:05.720

首先，编辑您的表格，以便在修改行时自动跟踪。如果您只想知道最初插入行的时间，请删除最后一行。

```
ALTER TABLE mytable
ADD lastmodified TIMESTAMP 
    DEFAULT CURRENT_TIMESTAMP 
    ON UPDATE CURRENT_TIMESTAMP; 
```

然后，要找出最后更新的行，您可以使用此代码。

```
SELECT id FROM mytable ORDER BY lastmodified DESC LIMIT 1; 
```

# android - 雅虎授权 OAUTH:oauth_problem="timestamp_refused"

> ID：15492160
> 
> 赞同：4
> 
> 时间：2013-03-19T05:34:15.950
> 
> 标签：android, oauth, titanium-mobile, yahoo-api, yahoo-oauth

我一直密切关注[雅虎 OAUTH 指南](http://developer.yahoo.com/social/rest_api_guide/)并成功建立了连接，并且能够检索访问令牌以及我在响应 URI 中获得的其他对象。但是，现在当我尝试获取经过身份验证的用户的联系人时，我总是得到这个无论我为我的计算机时钟选择什么 NTP 服务器都会出错：

`Authentication error: Unable to respond to any of these challenges: {oauth=WWW-Authenticate: OAuth oauth_problem="timestamp_refused", realm="yahooapis.com"}`

环顾四周，我知道我不是唯一遇到这种情况的人，但包括“解决方案”-

*   在我作为时间戳传递的毫秒数上添加一些时间。（[这](http://developer.yahoo.com/oauth/guide/oauth-make-request.html)就是我所遵循的，我成功地获得了访问令牌，但在获得联系人时却没有）
*   将计算机的时钟同步到一些好的服务器。

尽管如此，我尝试了这些但得到了同样的错误。

这是我发送的视图：

```
var url = 'https://api.login.yahoo.com/oauth/v2/get_token';
                url += '?oauth_nonce=' + 'somerandomstring';
                url += '&oauth_timestamp=' + timestamp;
                url += '&oauth_consumer_key=' + ConsumerKey;
                url += '&oauth_signature_method=' + 'plaintext';
                url += '&oauth_signature=' + ConsumerSecret + '%26' + oauth_token_secret;
                url += '&oauth_version=1.0';
                url += '&oauth_token=' + oauth_token;
                url += '&oauth_verifier=' + oauth_verifier; 
```

任何有效的帮助将不胜感激。

# gson - Gson 自定义反序列化器

> ID：15492161
> 
> 赞同：0
> 
> 时间：2013-03-19T05:34:25.823
> 
> 标签：gson

我想将 json 字符串反序列化为 java 对象。我的班级结构是这样的

```
public class Category {
String name;
int id;
ArrayList<Catalog> catalogs;
} 
```

目录类结构是这样的

```
public class catalog {
private int catalogId = 0;
private String catalogName;
} 
```

以下代码我用来反序列化

```
 Gson gson = new Gson();

 ArrayList<Category> categories = gson.fromJson(jsonString, Category.class); 
```

尝试反序列化 ArrayList 目录时出现异常；

如果我删除 ArrayList 那么它解析成功

谢谢帕万

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:09:51.183

我解决了这个问题。问题是我正在解析的字符串包含布尔值而不是 Array 。所以解析时有异常。

原因是解析的 json 字符串中的数据类型不匹配。

谢谢

# osclass - 用户发布新列表时避免发送电子邮件

> ID：15492162
> 
> 赞同：0
> 
> 时间：2013-03-19T05:34:26.443
> 
> 标签：osclass

我是新手`OSClass`，现在当用户发布列表时，电子邮件已发送到用户的电子邮件 ID，用户可以在其中激活该列表，管理员也可以激活该列表。

但我希望只有管理员才能控制激活列表，所以如果我跳过向用户的电子邮件帐户发送电子邮件的步骤，我可以控制它。

有什么解决办法吗？

问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T09:51:42.510

您可以删除电子邮件发送删除挂钩。

编辑您的 oc-load.php 文件并添加以下行：

```
osc_remove_hook('hook_email_new_item_non_register_user', 'fn_email_new_item_non_register_user');
osc_remove_hook('hook_email_item_validation_non_register_user', 'fn_email_item_validation_non_register_user');
osc_remove_hook('hook_email_item_validation', 'fn_email_item_validation'); 
```

如果您对钩子有疑问，可以查看[http://doc.osclass.org/Hooks](http://doc.osclass.org/Hooks)

你可以为此创建一个插件，这样你就不会修改 osclass 核心文件，你可以在这里查看[http://doc.osclass.org/How_to_create_a_plugin](http://doc.osclass.org/How_to_create_a_plugin)

# python - 为什么终端在工作目录中搜索执行文件正在搜索的文件？

> ID：15492164
> 
> 赞同：1
> 
> 时间：2013-03-19T05:34:31.610
> 
> 标签：python, python-2.7, terminal, pygame

如果标题不够清晰，目录中有 Developer/Pythonfiles/Pong，其中有 Pong.py 和 hit.wav。当我运行`~ $python Developer/Pythonfiles/Pong/Pong.py`
声音 hit.wav 时不会播放，而是播放奇怪的爆裂声。但是当我`~/Developer/Pythonfiles/Pong $python Pong.py`从 hit.wav 运行声音时，会按预期播放。

为什么程序 Pong.py 不搜索它所在的目录而不是我的工作目录来查找 Hit.wav？我尝试访问 hit.wav`hit = pygame.mixer.Sound("hit.wav")`并播放它`hit.play()`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T06:13:45.367

因为它无法自动知道这就是你想要的。因此，请自己指定所需的行为：

```
import os
hit = pygame.mixer.Sound(os.path.join(os.path.dirname(__file__), "hit.wav")) 
```

# c++ - 虚拟继承成员查找

> ID：15492177
> 
> 赞同：3
> 
> 时间：2013-03-19T05:35:30.270
> 
> 标签：c++, inheritance, virtual

我有以下继承虚拟类的代码，并以某种方式`inh::P1`编译为`char`. 谁能解释为什么编译器在这个例子中选择`char`了？谢谢！`int``inh::P1`

```
#include <iostream>

class myClass {public: typedef int P1;};
class myClassdef : virtual public myClass {};
class myClass2 : virtual public myClass { public: typedef char P1;};
class inh :  public myClassdef, public myClass2 {};

int main()
{
    std::cout << sizeof(inh::P1) << std::endl;
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T05:48:43.287

```
sizeof(inh::P1); 
```

查找从最直接的级别向上进行，因此`inh::P1`指的`P1`是通过 继承的`myClass2`，这确实是,*类型*`char`。如果您需要在最顶层的基类中引用成员，请使用：

```
 sizeof(myClass::P1); 
```

注意：

```
inh::P1          --->  Refers to immediate base member, i.e: myClass2::P1
myClass2::P1     --->  Refers to member in current class scope, i.e: myClass2::P1
myClassdef::P1   --->  Refers to immediate base member, i.e: myClass::P1
myClass::P1      --->  Refers to member in current class scope, i.e: myClass::P1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T05:53:31.503

基本上在多重继承中，查找是在最近的级别上完成的，因此当您调用 inh::P1 时，会调用 myClass2 的 P1。因此，如果您想引用 myClass ，请显式调用它，如下所示：

```
sizeof(myClass::P1); 
```

# php - 如何打印多维数组？

> ID：15492179
> 
> 赞同：4
> 
> 时间：2013-03-19T05:35:41.833
> 
> 标签：php, javascript, json

```
$list=array('Andaman and Nicobar'=>array( 'North and Middle Andaman', 'South Andaman', 'Nicobar' ), 'Andhra Pradesh' => array( 'Adilabad', 'Anantapur',)); 
```

以...的形式

```
[['North and Middle Andaman', 'South Andaman', 'Nicobar'],['Adilabad', 'Anantapur']] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T05:37:24.727

```
$tmp = json_encode($list);
echo $tmp; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T07:14:11.550

您可以通过 php 打印多维数组，这里有一个简单的示例...

```
<?php
    $company = array(
        array('company','HCL', 'Microsoft','apple'),
        array('city ','Delhi','California','Newyork'),
        array('Type','IT','Software','Iphone')
    );
    ?>
    <table border="1">

    <?php
    foreach($company as $data)
    {
        echo '<tr>';
        foreach($data as $item)
        {
            echo "<td>$item</td>";

      }
        echo '</tr>';
    }
?> 
```

不要对我说谢谢... :))

# mysql - 如何获取字段中所有元素的计数？

> ID：15492187
> 
> 赞同：3
> 
> 时间：2013-03-19T05:36:54.103
> 
> 标签：mysql, sql, database

我有一张桌子：

```
id | name |
-----------
1  | AAA  |
2  | BBB  |
3  | AAA  |
4  | DDD  |
5  | BBB  |
6  | CCC  |
7  | AAA  |
8  | BBB  |
9  | DDD  | 
```

我想数那有多少次`AAA`，`BBB`等等。通过使用 count(*) 我得到的孔数不是单个元素。我想要所有元素的计数。像这样：

```
Name | Count
------------
AAA  | 3
BBB  | 3
CCC  | 1
DDD  | 2 
```

不在新表中，我希望它作为输出。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T05:37:27.377

使用`COUNT()`聚合函数获取每个的记录总数`NAME`。

```
SELECT  name, COUNT(*) totalCOUNT
FROM    tableName
GROUP   BY name 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/0a597/2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T05:40:46.850

```
Select name,Count(*) as 'total'
from yourTableName
GroupBy 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T05:48:06.213

这是用您想要匹配的内容计算行数的最简单方法：

sql> select count(*) as count from table_name where name like 'AAA';

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T05:55:14.090

```
SELECT name AS Name,
       count(name) AS Count
FROM Table
GROUP BY name ASC; 
```

# listview - 带有编辑文本行项目的 Android ListView 在方向更改时调整大小

> ID：15492193
> 
> 赞同：2
> 
> 时间：2013-03-19T05:37:25.077
> 
> 标签：listview, android-edittext, android-orientation

将我的 Android 手机从 potrait 转到landscpe，结果我的列表视图中的所有列表项都在调整大小。ListView 未正确刷新。列表视图宽度不会在方向更改时填充父级。我在清单文件中为我的活动尝试**了 configChanges:orientation**，但结果仍然相同。

图像如下所示：

肖像：

![在此处输入图像描述](../Images/5a8dbe9cab5d0df8f718e297b79ec177.png)

景观：

![在此处输入图像描述](../Images/f07404e0bc280ebd127bd0fe4197f1e1.png)

整行都在改变方向。

下面提到了使用的xml布局：

```
 <LinearLayout

        a:id="@+id/web_watch_list_modifier_row_body"
        a:visibility="visible"
        a:gravity="center"
        a:background="@drawable/list_selector"
        a:layout_height="wrap_content"
        a:layout_width="fill_parent"
        a:orientation="horizontal">

    <EditText
            a:id="@+id/watch_list_name_text_box"
            a:layout_height="40dip"
            a:layout_width="0dip"
             a:layout_marginLeft="2dp"
            a:maxLength="32"
            a:singleLine="true"
            a:layout_weight="40"/>

    <ImageView
            a:id="@+id/dragImageView"
            a:background="@drawable/drag_button_img"
            a:layout_height="wrap_content"
            a:layout_width="wrap_content"/>

</LinearLayout> 
```

期待您的宝贵建议...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T12:29:59.157

从将 a:layout_width 或 LinearLayout 更改为“match_parent”开始，我不确定当其他元素没有权重时 layout_weight="40" 会达到什么效果，请尝试 1。

我会尝试使用 RelativeLayout，就像这样（没有检查 xml 的正确性）：

```
<RelativeLayout
        a:id="@+id/web_watch_list_modifier_row_body"
        a:background="@drawable/list_selector"
        a:layout_height="wrap_content"
        a:layout_width="match_parent" >

    <EditText
            a:id="@+id/watch_list_name_text_box"
            a:layout_height="40dip"
            a:layout_width="0dip"
            a:layout_marginLeft="2dp"
            a:maxLength="32"
            a:singleLine="true"
            a:layout_alignParentLeft="true"

            />

    <ImageView
            a:id="@+id/dragImageView"
            a:background="@drawable/drag_button_img"
            a:layout_height="wrap_content"
            a:layout_width="wrap_content"
            a:layout_alignParentRight="true"
            a:layout_toLeftOf="@id/watch_list_name_text_box" />

</RelativeLayout> 
```

如果您没有声明 android:configChanges ，那么您的活动会在您更改方向时重新启动，如果您只需要布局以适应新方向，那么您不希望这样做。

重要的是，如果您的目标版本高于 13，那么您还需要声明“screenSize” android:configChanges="orientation|screenSize" [http://developer.android.com/guide/topics/manifest/activity-element.html#配置](http://developer.android.com/guide/topics/manifest/activity-element.html#config)

如果这仍然不起作用，请尝试覆盖 onConfigurationChanged() 并使 ListView 无效

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T15:19:04.300

每次旋转设备时，活动都会重新启动.. 可能这就是 EditText 调整大小的原因...

尝试将此添加到您的清单文件中，

```
android:configChanges="orientation|keyboardHidden" 
```

您也可以查看[http://developer.android.com/guide/topics/resources/runtime-changes.html](http://developer.android.com/guide/topics/resources/runtime-changes.html)。

# php - 如何正确清除我的 php 会话数据？

> ID：15492197
> 
> 赞同：13
> 
> 时间：2013-03-19T05:37:37.353
> 
> 标签：php, session

我的 php 网站流程如下：

*   Page1.php 有一个 POST 到 Page2.php 的 html 表单
*   Page2.php 将所有 POST 数据存储到 SESSION 变量中，并有一个指向 Page3.php 的按钮
*   Page3.php 有另一种形式，将其数据发布到 Page4.php
*   Page4.php 然后将其所有 POST 数据存储到 SESSION 变量中

我的问题是用户可能需要单击 Page4.php 上的后退按钮以返回到 Page3.php 并更改一些输入。我确信当他们返回 Page3.php 时，您都知道该表单将是空白的，因为整个页面在其默认状态下重新呈现。

为了解决这个问题并重新显示用户以前的输入，我这样做：

```
<input value="<?php echo $_POST["guest1Ticket"];?> " type="text"  name="guest1Ticket" id="guest1Ticket" onblur="isTicketNumber(this)"  size ="22"/> 
```

这是重要的部分 -`<?php echo $_POST["guest1Ticket"];?>`

这可行，但给我带来了另一个问题。如果用户返回到 Page1.php（在关闭他们的浏览器之前）并在他们到达 Page3.php 时重新开始该过程，则他们上次运行的数据将被加载到表单中。

**我认为我需要做的是在用户访问 Page1.php 时清除所有 sdession 变量。我试图这样：**

```
<?php 
 session_start(); 
 session_unset(); 
 session_destroy(); 
?> 
```

**（上面是我文件的最顶部，第一个字符之前没有空格。）**

Page1.php 加载但会话变量未设置时不会生成警告。当我到达 Page3.php 时，上次运行的数据仍在输入表单中。

**如何正确清除会话数据？**

顺便说一句**，我只需要它在 Chrome 中工作**，这就是我测试的地方。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-19T05:41:43.443

只对不使用 $_SESSION 的旧代码使用 session_unset()。

见[session_destroy 手册](http://php.net/manual/en/function.session-destroy.php)

例如，您可以尝试看看它是如何工作的

会话.php

```
<?php
session_start();
$_SESSION = array('session1'=>1,'session2'=>2);

echo $_SESSION['session1']; //1
$_SESSION['session1'] = 3;
echo "<pre>";
print_r($_SESSION); //session one now updated to 3
echo "</pre>";

$_SESSION = array();
if ($_SESSION['session1']) {
 echo $_SESSION['session1']; //  IS NOW EMPTY
} else {
 echo "woops... nothing found";
}
?>
<p>
<a href="destroyed.php">NOW GOING TO DESTROYED PHP<a/>
</p>

<?php
session_destroy();
?> 
```

销毁.php

```
<?php
session_start(); // calling session start first on destroyed.php

print_r($_SESSION); // prints Array ( )  
?> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-19T05:40:03.680

从文档中：

```
If $_SESSION (or $HTTP_SESSION_VARS for PHP 4.0.6 or less) is used,
use unset() to unregister a session variable, i.e. unset ($_SESSION['varname']); 
```

并注意 session_destroy：

> session_destroy 销毁与当前会话关联的所有数据。它不会取消设置与会话关联的任何全局变量

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-07-12T14:44:15.627

使用 session_unset()。像这样：

```
<?php session_start(); ?><!DOCTYPE html>
<html>
  <body>
    <?php
      $_SESSION["variabletounset"] = "I am going to be unset soon along with all of the other session variables.";
      print '<pre>' . "\n";
      print_r($_SESSION);
      print '    </pre>' . "\n";

      session_unset();

      print '    <pre>' . "\n";
      print_r($_SESSION);
      print '    </pre>' . "\n";
    ?>
  </body>
</html> 
```

这将输出：

```
Array
(
variabletounset => I am going to be unset soon along with all of the other session variables.
)

Array
(
) 
```

# html - 在 Html 表中，单词不单独包含在 firefox 中

> ID：15492198
> 
> 赞同：0
> 
> 时间：2013-03-19T05:37:51.230
> 
> 标签：html, firefox

在 html 表格中，文本自动换行在 IE 和 chrome 中。但是 Firefox 它占用了更多空间然后包装了.. Firefox 中的问题是什么...任何想法..？请查找下表。第 1 列有较大的文本，在 IE 和 chrome 中包裹并占用较小的宽度。在 firefox 中同样占用较多的宽度

```
<table cellspacing="1" cellpadding="1" border="1">
        <thead>
            <tr>
                <th valign="top" align="center" colspan="5">
                    Header Col
                </th>
            </tr>
            <tr>
                <th valign="top" align="center" cell="1" id="c0">
                    Col1
                </th>
                <th valign="top" align="center" cell="2" id="c1">
                    col2
                </th>
                <th valign="top" align="center" cell="3" id="c2">
                    col3
                </th>
                <th valign="top" align="center" cell="4" id="c3">
                    col4
                </th>
                <th valign="top" align="center" cell="5" id="c4">
                    col5
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td valign="top" align="left" cell="1">
                    <table cellspacing="0" cellpadding="0" border="0" class="deffont" style="width: 100%">
                        <tbody>
                            <tr>
                                <td width="15" valign="top" align="left" style="padding-bottom: 0px; margin: 0px;
                                    padding-left: 0px; padding-right: 0px; height: 100%; padding-top: 0px">
                                </td>
                                <td valign="top" align="left">
                                    <div>
                                        <div>
                                            <b><a></a><b>H-(D)p-ganeshgkdagkalyal-(D)seryl-(D)tryptophanyl-(D)seryl-(D)haninsdj-(D)cyclohexylalanyl-(D)arginyl-(D)arginyl-(D)arginyl-(D)glutaminyl-(D)arginyl-(D)arginine
                                                acetate salt</b><br>
                                                <br>
                                            </b>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td valign="top" align="left" cell="2">
                    &nbsp;
                    <div>
                        <div>
                            <br>
                            <br>
                        </div>
                    </div>
                </td>
                <td valign="top" align="left" cell="3">
                    <div>
                        <div>
                            For test in combination with test and test for the test of test with test.<br>
                            <br>
                        </div>
                    </div>
                </td>
                <td valign="top" align="left" cell="4">
                    <div>
                        <div>
                            <table cellspacing="0" cellpadding="0" border="0" class="deffont">
                                <tbody>
                                    <tr>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b></b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <br>
                        </div>
                    </div>
                </td>
                <td valign="top" align="left" cell="5">
                    <div>
                        <div>
                            DD: 12/22/11&nbsp;&nbsp;<br>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:31:17.703

将此样式添加到您的 TD ：`style="display: inline-block;word-break: break-all;"`

```
<table cellspacing="1" cellpadding="1" border="1">
        <thead>
            <tr>
                <th valign="top" align="center" colspan="5">
                    Header Col
                </th>
            </tr>
            <tr>
                <th valign="top" align="center" cell="1" id="c0">
                    Col1
                </th>
                <th valign="top" align="center" cell="2" id="c1">
                    col2
                </th>
                <th valign="top" align="center" cell="3" id="c2">
                    col3
                </th>
                <th valign="top" align="center" cell="4" id="c3">
                    col4
                </th>
                <th valign="top" align="center" cell="5" id="c4">
                    col5
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td valign="top" align="left" cell="1">
                    <table cellspacing="0" cellpadding="0" border="0" class="deffont" style="width: 100%">
                        <tbody>
                            <tr>
                                <td width="15" valign="top" align="left" style="padding-bottom: 0px; margin: 0px;
                                    padding-left: 0px; padding-right: 0px; height: 100%; padding-top: 0px">
                                </td>
                                <td valign="top" align="left" style="display: inline-block;word-break: break-all;">
                                    <div>
                                        <div>
                                            <b><a></a><b>H-(D)p-ganeshgkdagkalyal-(D)seryl-(D)tryptophanyl-(D)seryl-(D)haninsdj-(D)cyclohexylalanyl-(D)arginyl-(D)arginyl-(D)arginyl-(D)glutaminyl-(D)arginyl-(D)arginine
                                                acetate salt</b><br>
                                                <br>
                                            </b>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td valign="top" align="left" cell="2">
                    &nbsp;
                    <div>
                        <div>
                            <br>
                            <br>
                        </div>
                    </div>
                </td>
                <td valign="top" align="left" cell="3">
                    <div>
                        <div>
                            For test in combination with test and test for the test of test with test.<br>
                            <br>
                        </div>
                    </div>
                </td>
                <td valign="top" align="left" cell="4">
                    <div>
                        <div>
                            <table cellspacing="0" cellpadding="0" border="0" class="deffont">
                                <tbody>
                                    <tr>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <b></b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <br>
                        </div>
                    </div>
                </td>
                <td valign="top" align="left" cell="5">
                    <div>
                        <div>
                            DD: 12/22/11&nbsp;&nbsp;<br>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table> 
```

# windows-phone-7 - ArgumentException 未处理（参数不正确）

> ID：15492203
> 
> 赞同：2
> 
> 时间：2013-03-19T05:38:34.103
> 
> 标签：windows-phone-7, c#-4.0, c#-3.0, unhandled-exception

当我触摸屏幕时，我在 wp7 应用程序中收到异常**ArgumentException 未处理（参数不正确） 。**我已经设置了所有断点，但不明白为什么会出现这个异常？下面我将放置该异常的堆栈跟踪。请帮我？

```
at MS.Internal.XcpImports.CheckHResult(UInt32 hr)
   at MS.Internal.XcpImports.UIElement_HitTestPoint(UIElement element, Point ptHit)
   at System.Windows.Media.VisualTreeHelper.FindElementsInHostCoordinates(Point intersectingPoint, UIElement subtree)
   at Microsoft.Phone.Controls.GestureListener.TouchStart()
   at Microsoft.Phone.Controls.GestureListener.OnTouchFrameReported(Object sender, TouchFrameEventArgs e)
   at System.Windows.Input.Touch.OnTouch(Object sender, TouchFrameEventArgs e)
   at MS.Internal.JoltHelper.RaiseEvent(IntPtr target, UInt32 eventId, IntPtr coreEventArgs, UInt32 eventArgsTypeIndex) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T03:49:28.790

这是**Microshoft.Phone.Controls.Toolkit**的问题。这是该库中的一种错误。当我从 xaml 文件中删除所有手势代码时，上述异常不会出现。我不知道这背后的真正原因是什么。

# html - Internet Explorer (float) 中的格式问题

> ID：15492210
> 
> 赞同：0
> 
> 时间：2013-03-19T05:39:22.510
> 
> 标签：html, css, internet-explorer, explorer

在 Internet Explorer 上格式化有点问题

网站[在这里](http://www.myotechnology.com/)

在标题中，所有这些内容都应该出现在 1 行中。在 chrome 和 FF 中，确实如此，但是当我打开 ie9 时，它显示为一个新行。我试过改变浮动，改变显示类型和修改宽度和边距属性，但我无法解决这个问题。

对于 headRight 类，即使我改变了宽度，它在 IE 中也没有改变，我不知道为什么。

代码在这里：

```
.headRight { width:650px !important; _width:600px!important; float:right;}
.faderdiv
{
display:inline;
float:right;
margin-top: 35px !important;
}
.donate
{
display:inline;
float:left;
margin: 55px 90px 0 !important;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:09:42.410

这实际上适用于 ie7，但我认为这也适用于您的问题。[IE7浮动正确问题](https://stackoverflow.com/questions/1820007/ie7-float-right-problems)

# java - 在部署在不同服务器的两个战争之间共享一个 pojo objrct

> ID：15492213
> 
> 赞同：0
> 
> 时间：2013-03-19T05:39:27.233
> 
> 标签：java, jakarta-ee, war

我在两台不同的服务器上部署了两场战争。我必须在两次战争之间共享一个共同的 pojo 对象。如何在两次战争之间共享一个对象，我可以把这个 Pojo Jar 放在哪里？

此外，我正在使用请求调度程序 sendRedirect 方法将请求从一场战争传递到另一场战争。我们还有其他更好的方法可以将请求从一场战争传递到另一场战争吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T05:43:57.833

将 pojo 放入 jar 中并将该 jar 放在公共位置，以便两个服务器上的类路径可以指向该公共位置（文件夹）。尽管正确的方法是将那个pojo包含在个人战争中。

# android - Android 如何在代码中创建新相册并将其添加到默认手机图库

> ID：15492214
> 
> 赞同：0
> 
> 时间：2013-03-19T05:39:30.400
> 
> 标签：android, android-camera, photo-gallery, android-photos

我有一个应用程序，我们称它为 FilterAppX，它基本上可以让您加载图像，我会对其进行自定义，例如添加一朵花或一些愚蠢的项目。

现在处理图像后，我将其保存。我希望能够为所有 Android 手机附带的默认图库应用程序创建一个相册，例如，对于 Galaxy S2，有一个名为“图库”的应用程序（不是从 appStore 下载的，它是手机附带的） ，它可以让你选择你用手机拍摄的许多不同的图像，无论是来自刚刚的相机，还是屏幕截图，或者其他

所以像下面的屏幕截图 ![在此处输入图像描述](../Images/2367f847abfedea83850c355c58b8116.png)

如您所见，这是 Galaxy s2 上默认安卓手机的屏幕截图

我已经下载了一些其他应用程序，它创建了自己的具有应用程序名称的相册，所以我知道这是可能的，我正在尝试做同样的事情，基本上我想要一个名为“FilterAppX”的文件夹，其中包含我拍摄的照片地图

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T10:06:37.860

您只需创建自己的文件夹，其中包含“FilterAppX”制作的照片。

如果是你，目录是“~/sdcards/FilterAppX”。

# java - 是否有用于 APT 的 java 库？

> ID：15492215
> 
> 赞同：2
> 
> 时间：2013-03-19T05:39:36.103
> 
> 标签：java, apt

是否有一个 java 库为 APT（Debian 高级打包工具）提供 API，如*python-apt*（参见[http://apt.alioth.debian.org/python-apt-doc/](http://apt.alioth.debian.org/python-apt-doc/)）但对于 java？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-15T22:42:21.497

## 我也是一名Java程序员，我可以回答：

**不幸的是没有**。我搜索了 4 个海洋（或谷歌的第 20 页，如果你愿意的话），我找不到类似的东西。

现在我正在寻找一个用于 Ruby 的库 APT，但我想我会开始学习 Python。我不知道为什么我们找不到具有相同功能的其他库。虽然没有人创造，但方法是学习 Python 并使用 python-apt。

# css - LESS - 如何在 mixin/loop 中解析/转义参数变量（即变量变量）

> ID：15492216
> 
> 赞同：2
> 
> 时间：2013-03-19T05:39:38.770
> 
> 标签：css, variables, less, mixins

我试图遍历许多索引变量，在本例中为颜色，为每个变量创建一个类。类似这样的东西：

```
@colour-1: #FF0000;
@colour-name-1: "red";

.loop (@index) when (@index > 0) {
  @colour: ~"@{colour-@{index}}";
  @name: "@{colour-name-@{index}}";

  (~'*[data-colour="@{name}"]') {
    background-color: @colour;
    background-color: hsla(hue(@colour), saturation(@colour), lightness(@colour), 0.5);
  }

  .loop(@index - 1);
}
.loop (0) {}
.loop (1); 
```

我不想为 IE<9 提供后备变量，而是想在 mixin 中以编程方式更新每个颜色/值，以提供 RGBA 和 Hex 版本。问题是 @{@var} 直到事后才评估，因此不会解析为颜色。

有没有办法逃避变量，使它们不通过引用传递？JSFiddle 这里显示输出：http: [//jsfiddle.net/Qj2cZ/](http://jsfiddle.net/Qj2cZ/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T15:34:55.847

对变量的多次引用肯定会导致颜色函数出现问题。这可能是一个错误。我还没有想出 LESS 1.3.3 或更低版本的解决方案。

`@colours`但是，通过构建两个更大的“数组”类型变量，并将`@colour-names`所有单独定义的颜色变量放入其中，我确实在 LESS 的最新（当前测试版）版本（1.4）中提出了一个可行的解决方案。然后我们使用新`extract()`函数来访问循环中的那些，你可以得到你想要的。此时您必须确定 1.4 是否适合您。

## 少 1.4 工作

**更少的代码**

```
@num-colours: 3;

@colour-1: #FF0000;
@colour-name-1: "red";
@colour-2: #00FF00;
@colour-name-2: "green";
@colour-3: #0000FF;
@colour-name-3: "blue";

@colours: @colour-1 @colour-2 @colour-3;
@colour-names: @colour-name-1 @colour-name-2 @colour-name-3;

.define-colours-loop (@index) when (@index =< @num-colours) {
  @colour: extract(@colours, @index);
  @name: extract(@colour-names, @index);

  *[data-colour="@{name}"] {
    background-color: @colour;
    background-color: hsla(hue(@colour), saturation(@colour), lightness(@colour), 0.5);
  }

  .define-colours-loop((@index + 1));
}
.define-colours-loop (0) {}
.define-colours-loop (1); 
```

**CSS 输出**

```
*[data-colour="red"] {
  background-color: #ff0000;
  background-color: rgba(255, 0, 0, 0.5);
}
*[data-colour="green"] {
  background-color: #00ff00;
  background-color: rgba(0, 255, 0, 0.5);
}
*[data-colour="blue"] {
  background-color: #0000ff;
  background-color: rgba(0, 0, 255, 0.5);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-24T07:59:37.770

经过进一步检查（稍作休息），我找到了一个适用于 less v1.3.3 的工作解决方案。如果您使用的是 v1.4，我仍然会推荐 ScottS 的答案，因为它解决了一个错误。

如前所述，问题在于没有及时为 color() 函数解析变量。但是，如果在一个函数中评估变量并将其传递给另一个函数以转换为颜色，则一切正常。因此，以下输出所需的样式：

```
@colour-1: #FF0000;
@colour-name-1: "red";

.loop (@index) when (@index > 0) {
  @colour: ~"@{colour-@{index}}";
  @name: "@{colour-name-@{index}}";
  .setColour(@colour, @name);
  .loop(@index - 1);
}

.setColour (@colour-string, @name) {
  @colour: color(@colour-string);
  (~'*[data-colour="@{name}"]') {
    background-color: @colour;
    background-color: hsla(hue(@colour), saturation(@colour), lightness(@colour), 0.5);
  }
}

.loop (0) {}
.loop (1); 
```

JSFiddle在这里：http: [//jsfiddle.net/LJ3zX/](http://jsfiddle.net/LJ3zX/)

# javascript - jQuery 脚本中的内容滑块

> ID：15492218
> 
> 赞同：1
> 
> 时间：2013-03-19T05:39:50.337
> 
> 标签：javascript, jquery, html, plugins, slider

我在 jQuery 脚本中创建了滑块，但它不能正常工作。滑块在转到另一个页面时不会返回到第一个内容。

HTML：

```
<div class="note_slider1" style="z-index: 100; position:absolute; left: 82px; top: 250px; width: 687px; height: 270px;">
    <div class="slider_close" style="position:absolute; left: 548px; top: 4px;"></div>
    <div class="slider_title" id="title" style="position:absolute; left: 61px; height: 22px; top: 4px; width: 319px;">Title: Electronic Enterprise</div>
    <div id="page">
        <ul id="slider1" class="slider">
            <li style="font-size:14px">aaaaa</li>
            <li>abc</li>
            <li>test test123</li>
        </ul>
    </div>
</div>
<div class="note_slider2" style="z-index: 100; position:absolute; left: 82px; top: 250px; width: 687px; height: 270px;">
    <div class="slider_close" style="position:absolute; left: 549px; top: 4px;"></div>
    <div class="slider_title" id="title" style="position:absolute; left: 61px; height: 22px; top: 4px; width: 319px;">Title: Electronic Enterprise 123</div>
    <div id="page">
        <ul id="slider2" class="slider">
            <li>test test</li>
        </ul>
    </div>
</div> 
```

然后是带有 rhinoslider 的插件代码：

```
$(document).ready(function () {
    $('#slider1').rhinoslider({
        showBullets: 'never',
        //showControls: 'always'
    });
    $('#slider2').rhinoslider({
        showBullets: 'never',
        controlsPrevNext: false,
        //showControls: 'always'
    });
    $('#slider3').rhinoslider({
        showBullets: 'never',
        //showControls: 'always'
    });
}); 
```

# php - PHP日期函数没有出现

> ID：15492219
> 
> 赞同：0
> 
> 时间：2013-03-19T05:39:51.343
> 
> 标签：php, date

我很困惑为什么当我在 chrome 中打开它时我的日期函数没有出现在这段代码中。该文件保存为 .php 文件。我是 PHP 的新手，昨天刚开始，想尝试在我的 HTML 代码中添加一些代码，我现在有任何帮助，我们将不胜感激。

```
<html>
<head>
    <title>David Iacovino</title>
</head>
<body bgcolor="62,54,100">
<center>
<h1>Page</h1>
<br></br>
<font size="4", color = "gray", face = "times new roman">Monday Evenings 6:30-9:15</font>
<img src="http://cdn.bleacherreport.net/images_root/slides/photos/000/268/563/cesar_logo1_display_image.jpg?1277255126" height= 100 width= 100>
<br></br>
<a href="https://www.facebook.com/"</a>Facebook</a>
<br></br>
<?php
    date_default_timezone_set('UTC');
    echo date("l");
?>
</center>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T05:42:32.483

改变这个

```
date_deafault_timezone_set('UTC');  // deafault 
```

到

```
date_default_timezone_set('UTC'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T05:41:58.960

您需要创建 .php 文件而不是 .html 文件来运行 php 代码。并且还需要 php 服务器来运行 php 代码。您可能需要类似 apache 的服务器。尝试下载xampp，然后尝试

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T05:42:30.627

```
date_default_timezone_set('UTC'); // misspelled default

echo date("l"); 
```

# php - Twitter - 已经有 OAuth 数据库，我怎么知道用户是谁？

> ID：15492224
> 
> 赞同：0
> 
> 时间：2013-03-19T05:40:05.943
> 
> 标签：php, oauth, twitter, twitter-oauth

我已经建立了一个数据库，其中包含一个成功填充最终（永久？）OAuth 用户令牌和 OAuth 用户密钥的表。我不明白的是我应该如何知道当前用户的 ID 是什么，尤其是在他们上次登录后 2 周之后。我的应用程序被所有用户授权，所以理论上 Twitter 可以查看当前用户的授权应用程序列表并共享 Twitter 用户 ID，对吗？是否有一些好的方法可以（代表当前用户）请求他的 ID 是什么？我觉得临时令牌应该能够以某种方式促进这一点......如果它有帮助，我的应用程序中的每个用户都只是一个带有一些额外信息的 Twitter 帐户。我只是在寻找利用我数据库中的令牌和秘密的最佳方式......

我正在使用 PHP（库：Codebird-PHP 和 tmhOAuth），所以如果您可以在 PHP 中展示一个示例，那就太好了，但实际上我只是想知道我应该如何使用我存储的这些信息.

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T14:02:20.460

我假设您将数据与一些用户名或用户 ID 一起存储，这些用户名或用户 ID 可以识别您网站的用户并将他们链接到他们正确的 Twitter ID。为了获取用户的基本信息，授权后，您必须使用`https://api.twitter.com/1.1/account/verify_credentials.json`带有`GET`. 可以在[此处](https://dev.twitter.com/docs/api/1.1/get/account/verify_credentials)找到 1.1 API 的文档。

这将返回一个数组。您可以在or下找到用户名 uder`"screen_name"`和用户 ID 。`"id"``"id_string"`

该问题可能与[Get current user's info from Twitter API](https://stackoverflow.com/questions/3128323/get-current-users-info-from-twitter-api)重复，但我添加了一个答案，因为该讨论指向已弃用的 API。尽管如此，您在那里找到的代码仍然有用（它似乎使用了 Abraham William 的库，但步骤基本相同）。用 Matt Harris 库中的类和函数替换这些类和函数。我不知道codebird，对不起！

编辑：我还提供了一个代码示例（经过测试和工作，虽然我有 tmhOAuth 的问题，所以我偶尔只为自己使用它。我注意到，当我尝试发布时，它有时会返回一些奇怪的错误代码，我不知道为什么）：

```
 // Authentication page, with button. You have already connected to your database

        $mywebsiteuser = $_SESSION['website_user_id'];
        $query= "SELECT * FROM `table_where_you_store_twitter` WHERE website_user_id ='$mywebsiteuser'";
        $sql= $mysqli->query($query) or die($mysqli->error.__LINE__); // or whatever else to check is the query fails.
        if ($sql->num_rows != 0){

        //etc. retrieve data and set the sessions.

       // already got some credentials stored? 
    if ( isset($_SESSION['access_token']) ) {
      $tmhOAuth->config['user_token']  = $_SESSION['access_token']['oauth_token'];
      $tmhOAuth->config['user_secret'] = $_SESSION['access_token']['oauth_token_secret'];

      $code = $tmhOAuth->request('GET', $tmhOAuth->url('1/account/verify_credentials'));
      if ($code == 200) {
        $resp = json_decode($tmhOAuth->response['response']);
        echo $resp->screen_name;
        echo  $resp->id;
//Etc. Instead of printing them you it's a good idea to store them in the db.
      } else {
        outputError($tmhOAuth);
      }
    // we're being called back by Twitter
    } elseif (isset($_REQUEST['oauth_verifier'])) {
      $tmhOAuth->config['user_token']  = $_SESSION['oauth']['oauth_token'];
      $tmhOAuth->config['user_secret'] = $_SESSION['oauth']['oauth_token_secret'];

      $code = $tmhOAuth->request('POST', $tmhOAuth->url('oauth/access_token', ''), array(
        'oauth_verifier' => $_REQUEST['oauth_verifier']
      ));

      if ($code == 200) {
    //etc. 
```

无论如何，总而言之，为了获取用户的信息，您需要他们首先授权您的应用程序。我检查我的用户是否在我的网站上使用用户会话变量，而不是通过 Twitter。如果我没有存储任何内容，我会要求他们授权该应用程序。我希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T14:07:29.470

*访问令牌：* **1274865264** -QiVY50RGnmJz6AU9IPRxxiXfv4DYqo0nj6wg8hS

*访问令牌秘密：* fZQnHSuSpwARicIdLqkqQLy1JeG9LxrbNIRKypWcGR

*Access Token*的第一部分是用户 id

# c++ - 无法打开文件.exe 1104

> ID：15492227
> 
> 赞同：2
> 
> 时间：2013-03-19T05:40:32.477
> 
> 标签：c++, sfml

我正在使用 sfml 2.0。我知道我可以在论坛上提问，但我认为这与错误地链接库没有任何关系，因为我编译了一个示例项目，并且它几乎与我只是试图合并一个外部类完全相同。当我尝试编译时我得到了这个

> 1> 链接：致命错误 LNK1104：无法打开文件 'C:\Users\brr\documents\visual studio 2012\Projects\sfmlgame\Release\sfmlgame.exe'

我的代码如下：

主.cpp：

```
#include "functions.h"
int main()
{
    functions func;
    std::cout << "Testing 123, testing 123!";
    sf::CircleShape shape(100.f);
    shape.setFillColor(sf::Color::Green);
    bool running = true;
    while (running)
    {
        func.window.clear();
        func.window.draw(shape);
        func.window.display();
    }
    return 0;
} 
```

函数.h：

```
#pragma once
#include <SFML/Graphics.hpp>
#include <SFML/System.hpp>
#include<SFML\Network.hpp>
#include <SFML/Window.hpp>
#include <iostream>

class functions
{
public:
    functions(void);
    ~functions(void);
    void Events();
    void Window();
    sf::RenderWindow window;
    sf::Event event;
}; 
```

函数.cpp：

```
#include "functions.h"
functions::functions(void)
{
}

functions::~functions(void)
{
}

void functions::Window(){
    window.setSize(sf::Vector2u(800,600));
    window.setTitle("Test");
}

void functions::Events(){
    while (window.pollEvent(event))
    {
        if (event.type == sf::Event::Closed)
            window.close();
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T06:13:04.900

有两种可能性。

1.您**无权访问**该`C:\Users\brr\documents\visual studio 2012\Projects\sfmlgame\Release`目录。您可以通过尝试在此位置创建新文件来进行检查。

2.进程已经在使用。运行任务管理器（`start->run->taskmgr`），并检查是否`sfmlgame.exe`正在运行。**如果是，则终止该进程**。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-05-04T06:05:38.980

1.  去任务管理器
2.  转到进程选项卡
3.  查找所需的 exe 文件
4.  点击*结束进程*
5.  再次为项目构建

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-19T06:11:11.533

当程序 ( ) 已经打开/运行时，通常会出现此错误`sfmlgame.exe`，因此 Visual Studio 无法用新编译的程序替换它。如果您已经在运行该程序，请关闭它，然后重试。

# visual-studio - ReSharper 中的 IntelliSense 提示

> ID：15492237
> 
> 赞同：0
> 
> 时间：2013-03-19T05:41:11.743
> 
> 标签：visual-studio, resharper, intellisense, hints

如果来自 Visual Studio 的 IntelliSense（菜单 RESHARPER-> Options ... -> IntelliSense 并选择 Visual Studio），则下拉菜单有提示。如果来自 ReSharper 的 IntelliSense（菜单 RESHARPER-> 选项 ... -> IntelliSense 并选择 ReSharper），则不会出现提示。

在 ReSharper IntelliSense 工作提示（提示）的情况下如何做到这一点？

Visual Studio 中的 IntelliSense：

[Visual Studio http://s2.ipicture.ru/uploads/20130319/n0UQD0fs.png](http://s2.ipicture.ru/uploads/20130319/n0UQD0fs.png)

ReSharper 的 IntelliSense：

[ReSharper http://s2.ipicture.ru/uploads/20130319/zTR8z8uB.png](http://s2.ipicture.ru/uploads/20130319/zTR8z8uB.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T17:43:14.990

尝试打开`ReSharper | Options -> Environment | Intellisense | Completion Appearance -> Show member signatures`，也许`Show summary`。

# java - windows和linux环境下如何打开文件夹路径？

> ID：15492240
> 
> 赞同：0
> 
> 时间：2013-03-19T05:41:28.397
> 
> 标签：java, linux, windows

我的应用程序中有一个功能，当用户单击按钮时，我必须打开某些文件的位置，为此我使用以下代码

```
new ProcessBuilder("explorer.exe",folderPath ).start(); 
```

这在 Windows 平台上运行良好，但我不确定它是否可以在 Linux 环境下运行，不幸的是我没有 Linux 环境来测试它，但我遇到了一些帖子说它可能无法运行Linux。另一种使用方法 `Desktop.open`，但post说它也不适用于Linux环境，有没有办法在两个平台上实现这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T05:45:08.783

如果你有一个文件，那么使用 java.awt.Desktop 你可以使用这样的东西：

```
File myfile = new File("/tmp/test.txt");
String path = myFile.getAbsolutePath();
File dir = new File(path).getParentFile();
if (Desktop.isDesktopSupported()) {
    Desktop.getDesktop().open(dir);
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-19T05:44:04.757

```
Desktop.getDektop().open(theDirectory); 
```

有关[`Desktop.open(File)`](http://docs.oracle.com/javase/7/docs/api/java/awt/Desktop.html#open%28java.io.File%29)更多详细信息，请参阅。

# haskell - Haskell：让语句在函数声明中使用先前声明的变量

> ID：15492241
> 
> 赞同：1
> 
> 时间：2013-03-19T05:41:39.523
> 
> 标签：haskell

说我有这个功能

```
foo n = foo' 1 where
    foo' n = foo' 1
    foo' x = x : foo' (x + 1) 
```

例如，说 n = 5 是否有可能使 foo' n 的含义为 foo' 5？所以它会循环。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T06:13:37.120

我猜你要的是这个：

```
foo n = foo' 1 
  where
    foo' x | x == n = foo' 1
    foo' x = x : foo' (x + 1) 
```

该`| x == n`部分是模式匹配保护条件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:52:58.407

使用 Data.List 中的函数似乎会有一种更简单的方法

> :m + Data.List
> 让 mkList 计数 = (concat .replicate count) [1..to]
> mkList 5 9
> [1,2,3,4,5,1,2,3,4,5,1,2 ,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2 ,3,4,5,1,2,3,4,5]
> mkList 1 10
> [1,1,1,1,1,1,1,1,1,1]

除了[复制](http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#v%3areplicate)，您还可以使用[take](http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#v%3atake)和[cycle](http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#v%3acycle)

> 让 mkList 计数 = 计数 $ 循环 [1..to]

take 和 cycle 会更便宜，因为您不必返回并连接列表。

或者你也可以使用[迭代](http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#v%3aiterate)

```
((take 10 $ iterate (+1) 0) == [0..9]) == True 
```

# google-maps-api-3 - 如何在代码中直接输入街道地址

> ID：15492242
> 
> 赞同：1
> 
> 时间：2013-03-19T05:41:40.190
> 
> 标签：google-maps-api-3, geocoding

我想在这个例子中使用谷歌地图 api v3 [https://google-developers.appspot.com/maps/documentation/javascript/examples/geocoding-simple](https://google-developers.appspot.com/maps/documentation/javascript/examples/geocoding-simple)

但没有这个输入字段

```
<div>
  <input id="address" type="textbox" value="Sydney, NSW">
  <input type="button" value="Geocode" onclick="codeAddress()">
</div> 
```

我想直接在代码中指定街道地址，例如“75 wall st, new york”。我该怎么做呢？以下是该示例网址中的代码。任何人都知道需要删除/添加什么？

```
<link href="https://google-developers.appspot.com/maps/documentation/javascript/examples/default.css" rel="stylesheet">
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
<script>
  var geocoder;
  var map;
  function initialize() {
    geocoder = new google.maps.Geocoder();
    var latlng = new google.maps.LatLng(-34.397, 150.644);
    var mapOptions = {
      zoom: 8,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    }
    map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
  }

  function codeAddress() {
    var address = document.getElementById('address').value;
    geocoder.geocode( { 'address': address}, function(results, status) {
      if (status == google.maps.GeocoderStatus.OK) {
        map.setCenter(results[0].geometry.location);
        var marker = new google.maps.Marker({
            map: map,
            position: results[0].geometry.location
        });
      } else {
        alert('Geocode was not successful for the following reason: ' + status);
      }
    });
  }
</script>
</head>
<body onload="initialize()">
<div>
<input id="address" type="textbox" value="Sydney, NSW">
<input type="button" value="Geocode" onclick="codeAddress()">
</div>
<div id="map-canvas" style="height:90%;top:30px"></div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T05:50:46.743

我想你可以更新函数来做到这一点：

```
function codeAddress(address) {
geocoder.geocode( { 'address': address}, function(results, status) {
  if (status == google.maps.GeocoderStatus.OK) {
    map.setCenter(results[0].geometry.location);
    var marker = new google.maps.Marker({
        map: map,
        position: results[0].geometry.location
    });
  } else {
    alert('Geocode was not successful for the following reason: ' + status);
  }
}); 
```

}

一旦你想更新地图，只需调用：

```
codeAddress('75 wall st, new york'); 
```

如果你使用 jQuery，你可以把它放在你的文档准备函数中，或者你的代码的另一部分。

# php - 具有键值的 PHP 数组不匹配

> ID：15492245
> 
> 赞同：3
> 
> 时间：2013-03-19T05:41:47.227
> 
> 标签：php, sql, arrays

我有一个在 php 中运行的查询。数据库是 SQL Server 2008。PHP 中的查询是：

```
"SELECT * FROM applicants WHERE applicants.families_id = '{$family_array['id']}'"; 
```

id`$family_array`与`families_id`. 结果我得到了一行。`mssql_fetch_array`我使用该函数将该行保存到 PHP 中的数组中。当我打印这个数组时，我得到以下信息：

```
 Array
(
    [0] => 26
    [id] => 21
    [1] => 21
    [user_id] => 21
    [2] => Kristi
    [mother_fname] => Kristi
    [3] => Lochala
    [mother_lname] => Lochala
    [4] => Nathan
    [father_fname] => Nathan
    [5] => Lochala
    [father_lname] => Lochala
    [6] => 
    [app_emergency] => 
    [7] => 
    [upload_mother_passport] => 
    [8] => 
    [upload_mother_visa] => 
    [9] => 
    [upload_father_passport] => 
    [10] => 0
    [upload_father_visa] => 0
    [11] => nathan-lochala
    [user_added_username] => nathan-lochala
    [12] => Mar 19 2013 01:00:37:660PM
    [user_added_date] => Mar 19 2013 08:48:00:000AM
    [13] => 192.168.88.15
    [user_added_ip] => 192.168.88.15
    [14] => 
    [user_updated_username] => 
    [15] => 
    [user_updated_date] => 
    [16] => 
    [user_updated_ip] => 
    [17] => 21
    [18] => nathan-lochala
    [username] => nathan-lochala
    [19] => b9a234cb37ce2b75d77befecabfa650e39489e0b
    [hash_password] => b9a234cb37ce2b75d77befecabfa650e39489e0b
    [20] => Nathan
    [fname] => Nathan
    [21] => Lochala
    [lname] => Lochala
    [22] => 2
    [num_child] => 2
    [23] => Mar 19 2013 08:48:00:000AM
    [24] => 192.168.88.15
    [25] => 
    [26] => 
    [27] => nathan-lochala@shk.qsi.org
    [email] => nathan-lochala@shk.qsi.org
    [28] => parent
    [access] => parent
) 
```

如果您注意到，`index [0]`与相应的键值不匹配`[id]`。为什么是这样？我已经使用 SQL Server 管理器运行了完全相同的查询，它按预期执行，但是当我在 PHP 中获取该数组时，只有第一个键值会倾斜。除了重新创建表格之外，我已经尝试了所有我能想到的方法。有任何想法吗？

编辑：运行 mssql_fetch_assoc() 给我以下结果：

```
Array
(
    [id] => 21
    [user_id] => 21
    [mother_fname] => Kristi 
```

![在此处输入图像描述](../Images/5b887a5d919572d469a5e3a08318bfcd.png)

![在此处输入图像描述](../Images/44c12fa7d0cbebc509165cf610bb2ccc.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T07:21:34.010

您没有在发布的 SQL 或您包含的表数据/结构中包含所有相关信息。您的查询`SELECT * FROM applicants WHERE applicants.families_id = ?`尚未发布的表结构不包含`families_id`列（也未命名`applicants`）。它也不包含发布数组中的大部分数据，例如 ,`hash_password`等`username`。

由此我推断你实际上是在一张`users`桌子上做一个 JOIN 。最有可能发生的是**JOIN 包含表中的`id`列，该列在构建数组后`users`覆盖`id`主表（家庭/申请人，无论它叫什么）中的**。`user_id`已包含在您的主表中，因此您应该明确列出 SQL 语句中的列，而忽略该`users.id`列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T05:49:50.630

您需要`mssql_fetch_array($result, MSSQL_ASSOC)`按照假定为 MSSQL_BOTH 进行设置。

我在这里找到了答案：http: [//php.net/manual/en/function.mssql-fetch-array.php](http://php.net/manual/en/function.mssql-fetch-array.php)

# android - Android vmware 端口转发

> ID：15492248
> 
> 赞同：1
> 
> 时间：2013-03-19T05:42:08.840
> 
> 标签：android, vmware

我正在运行 Windows 操作系统，我在 vmware 中运行 ubuntu。我在 ubuntu 中启动 avd 时遇到了一些问题，所以我在 Windows 上运行它。

现在我需要在 Ubuntu（Vmware）中访问 Windows 上的 avd，如何执行此操作。据我所知，需要转发端口 5554 和 5555。

所以我选择了自定义 NAT，并转发了两个 tcp 端口，但它不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-25T22:53:41.983

最简单的解决方案是选择“桥接”网络类型，以便 GOS（来宾操作系统，在本例中为 Ubuntu）接收您网络上的 IP，而不是 Windows 主机和 Ubuntu 共享的私有范围内的 IP来宾（我相信它通常是 172.xx.xx.xx IP）。在这种情况下，您的网络中的一切都非常简单。

如果您尝试从网络上的任何其他设备访问 GOS，下一个解决方案会稍微复杂一些，即在主机 (Windows) 和 GOS (Ubuntu) 之间使用仅主机的 NAT 网络。在这种情况下，您将通过 Windows 主机的 nat IP 访问 Ubuntu VM。缺点是这些网络通常没有外部连接（因此您无法从 GOS（Ubuntu）访问更大的网络或互联网。

# ssis - 如何将 SSIS 包部署到 sql server 实例

> ID：15492250
> 
> 赞同：3
> 
> 时间：2013-03-19T05:42:23.650
> 
> 标签：ssis, sql-server-2008-r2

我创建了一个 SSIS 包，用于将数据从 导入`Excel`到`Sql DB`. 我也将它部署在上面`SQL SERVER Instance`，但是当我运行该包抛出作业时，它会出现一些错误。

```
ERROR:  "Microsoft (R) SQL Server Execute Package Utility  Version 10.50.2500.0 for 32-bit  Copyright (C) Microsoft Corporation 2010.
 All rights reserved.    Started:  11:03:12  Error: 2013-03-19 11:03:12.84     Code: 0xC0202009    
 Source: Package2 Connection manager "Excel Connection Manager"     Description: SSIS Error Code DTS_E_OLEDBERROR.
  An OLE DB error has occurred. Error code: 0x80004005\.  An OLE DB record is available.  
Source: "Microsoft JET Database Engine"  Hresult: 0x80004005  
Description: "The Microsoft Jet database engine cannot open the file ''. 
 It is already opened exclusively by another user<c/> or you need permission to view its data.". 
 End Error  Error: 2013-03-19 11:03:12.84     Code: 0xC020801C     
Source: Creating Staging for Data Excel Data Source [1]    
 Description: SSIS Error Code DTS_E_CANNOTACQUIRECONNECTIONFROMCONNECTIONMANAGER. 
 The AcquireConnection method call to the connection manager "Excel Connection Manager" failed with error code 0xC0202009.
  There may be error messages posted before this with more information on why the AcquireConnection method call failed. 
 End Error  Error: 2013-03-19 11:03:12.84     Code: 0xC0047017     
Source: Creating Staging for Data SSIS.Pipeline     
Description: component "Excel Data Source" (1) failed validation and returned error code 0xC020801C. 
 End Error  Error: 2013-03-19 11:03:12.84     Code: 0xC004700C    
 Source: Creating Staging for Data SSIS.Pipeline     Description: One or more component failed validation.  
End Error  Error: 2013-03-19 11:03:12.84     Code: 0xC0024107  
   Source: Creating Staging for Data      Description: There were errors during task validation. 
 End Error  DTExec: The package execution returned DTSER_FAILURE (1). 
 Started:  11:03:12  Finished: 11:03:12  Elapsed:  0.219 seconds. 
 The package execution failed.  The step failed.,00:00:00,0,0,,,,0 
```

我正在使用Excel 文件进行导入`32 bit OS`，`.XLS`即`MS EXCEL 2003`.

我需要解决方案，谁能帮帮我……？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-31T16:45:20.473

您的软件包失败的原因是您打开了 excel 文件。关闭文件并尝试再次运行包。

错误消息：“Microsoft Jet 数据库引擎无法打开文件 ''。它已被其他用户以独占方式打开，或者您需要权限才能查看其数据。”。

# sharepoint - 如何运行 SPQuery of Choice 字段的值为“&”（值为“One & 1”）

> ID：15492253
> 
> 赞同：-1
> 
> 时间：2013-03-19T05:42:26.487
> 
> 标签：sharepoint, sharepoint-2010

在列表中，我有一个“问题”列，它是具有值“一、二、三、四和五、六”等的选择类型。当我为此列运行 SPQuery 时，它工作正常，但值“四和五”除外。问题在于'&'。它在那里抛出错误。当我尝试列字段值中的特殊字符时，它再次起作用，但“&”除外。我该如何解决这个问题，我可以使用“and”，但我想使用“&”运行。

查询是：

```
<Where><Eq><FieldRef Name='Issue'/><Value Type='Chioce'>Four & Five</Value></Eq></Where> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:07:00.287

假设您在查询中使用 XML，您不应该在不先转换它们的情况下使用特殊字符。

试试这样：`'Four &amp; Five'`

# android - 使用OpenCV在android中进行图像拼接

> ID：15492259
> 
> 赞同：3
> 
> 时间：2013-03-19T05:42:39.737
> 
> 标签：android, c++, opencv, java-native-interface, opencv-stitching

我正在尝试在android中拼接像全景视图这样的图像。我正在使用Android NDK和[OpenCv](http://opencv.org)库。我正在使用下面的Jni代码来拼接图像

**第一种方法：**

```
extern "C" {

JNIEXPORT void JNICALL Java_org_opencv_samples_tutorial3_Sample3Native_FindFeatures(
    JNIEnv*, jobject, jlong im1, jlong im2, jlong im3, jint no_images) {

vector<Mat> imgs;
bool try_use_gpu = false;
Mat& temp1 = *((Mat*) im1);
Mat& temp2 = *((Mat*) im2);
Mat& pano = *((Mat*) im3);
 __android_log_print(ANDROID_LOG_DEBUG, DEBUG_TAG, "Before stitching Images\n...");
 if(temp1.empty() || temp2.empty())
  {

    __android_log_print(ANDROID_LOG_DEBUG, DEBUG_TAG, "Can’t read one of the images\n...");
     printf("Can’t read one of the images\n");

   }
 else{
imgs.push_back(temp1);
imgs.push_back(temp2);

Stitcher stitcher = Stitcher::createDefault(try_use_gpu);
Stitcher::Status status = stitcher.stitch(imgs, pano);

    if (status != Stitcher::OK)
    {
__android_log_print(ANDROID_LOG_DEBUG, DEBUG_TAG, "Can't stitch images, error code = %i" +status);
    }
  else
  {
 __android_log_print(ANDROID_LOG_DEBUG, DEBUG_TAG, "Stitching Image Successfully");
   } 
```

上面的代码适用于某些图像，但如果我使用相机拍摄图像并尝试使用上面的代码缝合这些图像，那么它不起作用。我使用下面的代码从 android 调用本机代码

```
FindFeatures(Highgui.imread(path + "Pano1.jpg").getNativeObjAddr(), Highgui.imread(path+"Pano2.jpg").getNativeObjAddr(),panorama.getNativeObjAddr(), 2);
Highgui.imwrite(StitchImageDir.getPath()+ File.separator + "panoStich"+dateFormat.format(dateNow) +mImageExt, panorama); 
```

方法声明

```
public native void FindFeatures(long image1, long image2, long image3,int count); 
```

**第二种方法：**

我还尝试使用 SurfFeatureDetector 拼接图像，其代码可[在此处](https://stackoverflow.com/questions/11134667/some-problems-on-image-stitching-homography)获得。在此代码中，我得到了**未定义引用的编译错误 `cv::SURF::SURF(double, int, int, bool, bool)'**。虽然我有在标头和 NDK 的构建路径中包含所有必要的库。我不明白问题是什么？

你们中的任何人对上述两种图像拼接方法或任何其他图像拼接的新想法或方法有任何想法，请建议我。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-05T08:18:15.697

关于编译错误：您似乎没有正确链接 opencv，或者您错过了添加 lib 文件。如果您使用的是调试模式 OpenCV 2.xx，请检查是否添加了这些库：

opencv_nonfree2xxd.lib

opencv_features2d2xxd.lib

# c# - 在 C# 中的 JSON 对象中添加 JSON 数组

> ID：15492260
> 
> 赞同：0
> 
> 时间：2013-03-19T05:42:40.657
> 
> 标签：c#, json

我在 MVC 工作。在我的控制器中创建一个列表

```
 public class GridColModelLst
    {
        List<GridColModel> _items = new List<GridColModel>();

        public List<GridColModel> items
        {
            get { return _items; }
            set { _items = value; }
        }
    }

    public class GridColModel
        {
            public string name { get; set; }
            public int? width { get; set; }
    } 
```

并将这个列表作为 JSON 传递，它工作正常，我的 JSON 在下面

```
[{ name: 'Humidity', width: 90}] 
```

我如何使它像下面的 JSON 在 C# 中的 JSON 对象中添加 JSON 数组

```
[{ name: 'Humidity', width: 90, searchoptions: { sopt: ['eq', 'ne'] } }] 
```

谢谢

=====================

更新

在我的控制器中，我正在发送列表，例如

```
return Json(Colmodel, JsonRequestBehavior.AllowGet); 
```

我 `[{ name: 'Humidity', width: 90}]` 成功了

我需要什么更改才能让班级获得类似的 JSON

```
[{ name: 'Humidity', width: 90, searchoptions: { sopt: ['eq', 'ne'] } }] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T05:47:36.427

尝试这个：

```
 return Json(new { name = "Humidity", width = 90, searchoptions = new { sopt = new string[] { "eq,nq" } } }, JsonRequestBehavior.AllowGet); 
```

# matlab - 概念问题 - 在 wav 的开头/结尾修剪“静音”

> ID：15492263
> 
> 赞同：1
> 
> 时间：2013-03-19T05:43:08.310
> 
> 标签：matlab

我需要通过修剪文件开头和结尾的“相对”静音来计算 wav 文件的长度，然后以毫秒为单位返回持续时间。我知道您可以这样找到 wav 文件的持续时间：

```
[w,fs] = wavread('file.wav');
length = length(w)/fs; 
```

我的逻辑是使用波形矩阵的第一列（左通道），得到一个任意阈值，然后通过采样窗口遍历矩阵。如果这些窗口的最大值大于阈值，那么我开始计算时间。当这个窗口的最大值小于我停在那里的值时。这是我到目前为止所拥有的：

```
%Just use the first column in the waveform matrix, 2 gives strange results
w = w(:,1);
%Get threshold value by multiplying max amplitude of waveform and
%predetermined percentage (this varies with testing)
thold = max(w) * .04; 
```

只需要有关如何通过采样窗口实际遍历矩阵的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:39:36.107

我不完全确定你想要实现什么，但我认为你可以使用你自己的建议（有点）：

```
soundIdx                      = find(abs(w) > thold)
total_time_w_sound            = sum(abs(w) > thold)/fs;
time_from_first_sound_to_last = (soundIdx(end)-soundIdx(1))/fs; 
```

它是您要寻找的其中之一吗？

# asp.net - asp.net 中的 HTML 服务器控件

> ID：15492266
> 
> 赞同：3
> 
> 时间：2013-03-19T05:43:19.627
> 
> 标签：asp.net, html

asp.net 中的 HTML Container Control 和 HTML Generic Control 有什么区别？如何更改它们的属性？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T05:52:14.490

## [HtmlContainerControl](http://msdn.microsoft.com/en-us/library/system.web.ui.htmlcontrols.htmlcontainercontrol.aspx)类

用作 HTML 服务器控件的抽象基类，这些控件映射到需要具有开始和结束标记的 HTML 元素。

最常见的带有结束标签的控件是`<form>`, `<table>`, `<tr>`, `<td>`, `<a>`, 和`<span>`元素。

和属性允许您操作 HtmlContainerControl 派生控件的开始标记和结束标记之间的内容`InnerText`。`InnerHtml`

## [HtmlGenericControl](http://msdn.microsoft.com/en-us/library/system.web.ui.htmlcontrols.htmlgenericcontrol.aspx)类

定义未由特定 .NET Framework 类表示的所有 HTML 服务器控件元素的方法、属性和事件。

使用此类表示不直接由 .NET Framework 类表示的 HTML 服务器控件元素，例如`<span>`、`<div>`、`<body>`或`<font>`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T05:48:22.783

请通过这个msdn链接，你明白了

[HTML 通用控件](http://msdn.microsoft.com/en-us/library/system.web.ui.htmlcontrols.htmlgenericcontrol.aspx)

# kendo-ui - 过滤正在进行时显示弹出视图

> ID：15492267
> 
> 赞同：3
> 
> 时间：2013-03-19T05:43:22.253
> 
> 标签：kendo-ui, kendo-grid

在我小组的项目中，我们有一个网格和导出按钮。我们遇到了一个问题，即当以 excel 格式小提琴导出数据时：http: [//jsfiddle.net/SZBrt/11/](http://jsfiddle.net/SZBrt/11/)需要显示弹出消息，指出“数据正在被过滤”以便显示我们可以知道过滤正在进行中。我提前感谢您的帮助。

我的代码：

```
 var grid = $("#grid").kendoGrid({
        dataSource: {
            type           : "odata",
            transport      : {
                read: "http://demos.kendoui.com/service/Northwind.svc/Orders"
            },
            schema         : {
                model: {
                    fields: {
                        OrderID  : { type: "number" },
                        Freight  : { type: "number" },
                        ShipName : { type: "string" },
                        OrderDate: { type: "date" },
                        ShipCity : { type: "string" }
                    }
                }
            },
            pageSize       : 10
        },
        filterable: true,
        sortable  : true,
        pageable  : true,
        columns   : [
            {
                field     : "OrderID",
                filterable: false
            },
            "Freight",
            {
                field : "OrderDate",
                title : "Order Date",
                width : 100,
                format: "{0:MM/dd/yyyy}"
            },
            {
                field: "ShipName",
                title: "Ship Name",
                width: 200
            },
            {
                field: "ShipCity",
                title: "Ship City"
            }
        ]
    }).data("kendoGrid"); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T07:58:29.210

在定义中添加 和的`DataSource`事件处理程序。`requestStart``requestEnd`

```
dataSource: {
    requestStart : function() {
        // Add code for displaying your own "loading" message
    },
    requestEnd:    function() {
        // Add code for hiding your own "loading" message
    },
    type           : "odata",
            transport      : {
        read: "http://demos.kendoui.com/service/Northwind.svc/Orders"
    },
    schema         : {
        model: {
            fields: {
                OrderID  : { type: "number" },
                Freight  : { type: "number" },
                ShipName : { type: "string" },
                OrderDate: { type: "date" },
                ShipCity : { type: "string" }
            }
        }
    },
    pageSize       : 10
}, 
```

您没有指定*加载*消息的外观，它可能就像添加/删除可见性一样简单：

```
requestStart: function () {
    $("#loading-msg").css("visibility", "visible");
},
requestEnd: function () {
    $("#loading-msg").css("visibility", "hidden");
}, 
```

或打开/关闭窗口：

```
requestStart: function () {
    $("#loading-msg").data("kendoWindow").center().open();
},
requestEnd: function () {
    $("#loading-msg").data("kendoWindow").close();
}, 
```

# c# - UserControl CancelControlID 适用于所有其他控件？

> ID：15492268
> 
> 赞同：0
> 
> 时间：2013-03-19T05:43:24.540
> 
> 标签：c#, .net, ajaxcontroltoolkit, modalpopupextender

嗨，我创建了一个弹出式用户控件，它绝对可以正常工作，但是当我单击关闭按钮以外的其他按钮时，它正在关闭..

这是我的代码，

```
 <ajax:ModalPopupExtender ID="ModalPopupContextInfo" runat="server" 
             TargetControlID="btnShowEditContextPopup" PopupControlID="pnlpopupContextInfo"
           CancelControlID="imgClose" BackgroundCssClass="modalBackground">
       </ajax:ModalPopupExtender>
     < asp:Panel ID="pnlpopupContextInfo" DefaultButton="imgbtnUpdate" runat="server" BackColor="White" Height="360px" Width="400px" Style="display: none" >

       <asp:ImageButton ID="imgClose" runat="server" ImageUrl="~/image_repository/cancelButton.png" ToolTip="Close" />
      ..................
       // Code for Labels and text boxes..
         <asp:ImageButton ID="imgbtnCancel" runat="server" CausesValidation="false" TabIndex="8" ImageUrl="~/image_repository/cancel.png" />
         <asp:ImageButton ID="imgbtnUpdate" runat="server" CausesValidation="false" TabIndex="8" ImageUrl="~/image_repository/UpdateVoyage.png" />
       </asp:Panel> 
```

在这里，当我单击更新或取消按钮时，弹出窗口也将关闭.. 如何响应来自父 Web 表单（aspx 页面）的用户控件按钮（在此处更新）单击事件

谁能帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:03:23.393

因为你没有采取行动。例如，您应该添加`onclick="Cancel_Click1"`。并在服务器端添加动作。

# android - 在 Instagram 上发布文本

> ID：15492270
> 
> 赞同：3
> 
> 时间：2013-03-19T05:43:29.190
> 
> 标签：android, instagram

我正在使用 instagram 共享图像，它工作正常，但我想在 instagram 上共享一些图像链接，所以当单击该链接时，我可以在 twitter 上看到图像。是否可能以及如何做？

为了共享图像，我使用了下面的代码，

```
Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);
        shareIntent.setType("image/*"); 
        shareIntent.putExtra(Intent.EXTRA_STREAM,parse); 
        shareIntent.setPackage("com.instagram.android");
        startActivity(shareIntent); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-29T09:38:51.120

这是不可能的，因为目前 instagramm 不幸地只接受 Intent.EXTRA_STREAM。您可以在此处查看相同的问题[Open Instagram app from another android app and send an Image with a Caption](https://stackoverflow.com/questions/19290779/open-instagram-app-from-another-android-app-and-send-an-image-with-a-caption)。

# java - 安卓屏幕方向

> ID：15492271
> 
> 赞同：0
> 
> 时间：2013-03-19T05:43:41.310
> 
> 标签：java, android

我在应用程序中同时使用横向和纵向。

我的问题是，每当我旋转屏幕时，我在应用程序中自动使用的 TTS

从头开始。

```
How do I solve this problem? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T05:47:33.047

默认情况下，只要**方向**改变，Android 就会重新启动/重新创建活动。

在 Android 销毁活动之前，您需要`data/state`通过调用来保存您的。`onSaveInstanceState()`

查看[处理运行时更改](http://developer.android.com/guide/topics/resources/runtime-changes.html)

作为最后的手段，您可以通过`android:configChanges="orientation"`在**AndroidManifest**文件中添加活动来防止这种情况发生。

# sql - SQL 存储过程创建

> ID：15492277
> 
> 赞同：0
> 
> 时间：2013-03-19T05:44:03.750
> 
> 标签：sql, stored-procedures

我们的客户要求我们每月发送当月的所有发票。

我们公司的员工将发票上传到一个使用SQL作为后端的建筑软件包中。

是否可以创建一个 SQL 存储过程来复制该月上传的链接到该客户端的所有上传附件？

如果我想学习如何做到这一点，我应该从哪里开始？

谢谢。

# amazon-ec2 - UserData 脚本未在 Amazon Ec2 实例上执行

> ID：15492279
> 
> 赞同：0
> 
> 时间：2013-03-19T05:44:04.643
> 
> 标签：amazon-ec2, user-data

我在 Windows AMI 上执行用户数据时遇到了一些问题，试图执行用户数据，例如打开记事本启动 notepad.exe 我试图执行它它不起作用，这个脚本被复制到实例但是当我尝试连接到实例记事本没有打开..有人遇到过类似的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T14:25:50.550

用户数据仅在第一次启动实例时使用。当您首次启动它时，它可用于在您的实例上配置或运行进程。如果您需要一次设置很多实例，这将很有用。

连接时不会运行 Userdata 脚本，但您可以使用它将脚本添加到 Windows 启动。

# android - 如何使用数据库文件中的哈希表检索数据

> ID：15492280
> 
> 赞同：0
> 
> 时间：2013-03-19T05:44:24.813
> 
> 标签：android, hashtable

我在应用程序锁定项目中遇到问题，我在 log-cat 中执行所有被阻止的应用程序显示，但块应用程序的值使用以下代码显示为空，我想在输出屏幕中显示所有块应用程序

```
for(int j =0; j<channel.size(); j++) {
    String s = (String) channel.get(j);
    Log.d("s", "block apps >> " + s);   
} 
```

# c# - C# Oracle 连接与 MSDAORA.1

> ID：15492281
> 
> 赞同：0
> 
> 时间：2013-03-19T05:44:30.120
> 
> 标签：c#, excel, ado.net, oledb

我有一个使用 MSDAORA 与 Oracle 数据库连接的 Excel 表。

Excel中的连接字符串是

```
Provider=MSDAORA.1;User ID=xxx;Password=xxx;Data Source=yyy.com 
```

CommandType 是`Tabledirect`，CommandText 是`"zzzzzz"."ZZZZZZZZ"`

集成安全是`Windows Authentication`

因此，我创建了一个小型测试应用程序，用于使用 C# 将我连接到 Oracle-DB。似乎连接字符串是相同的，但它不起作用。

> 错误消息：OLEDB 异常 - 执行 OLEDB Procedur 时出错

使用VS2012/NET3.5/

```
tbConnectionString.Text = @"Provider=MSDAORA.1;User ID=xxx;Password=xxx;Data Source=yyy.com";
tbCommandText.Text = @"""zzzzzzz"".""ZZZZZZZZZZ""";
myOleDbConnection = new OleDbConnection(tbConnectionString.Text);
OleDbCommand myOleDbCommand = myOleDbConnection.CreateCommand();
myOleDbCommand.CommandType = CommandType.TableDirect;
myOleDbCommand.CommandText = tbCommandText.Text;
myOleDbConnection.Open(); 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:31:01.790

是操作系统和VS版本的问题。因为我之前在使用 Win 7 时遇到过同样的问题。

诊断问题后，我们找到了 Oracle.DataAccess 的解决方案。

查看 msdaora.1 的支持。

# mysql - 自动提交 = 0 时的 MySQL 查询性能

> ID：15492282
> 
> 赞同：0
> 
> 时间：2013-03-19T05:44:33.497
> 
> 标签：mysql

我正在尝试通过 mysql 查询（无连接）从表中删除超过 200 万条记录。该表有大约 8000 万条记录。

我用过`set autocommit=0;`，需要很长时间才能完成。如果我使用 运行查询，这会更快`autocommit=1`吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T14:19:46.160

我假设您的表是**InnoDB**。对于这 200 万行，它需要跟踪每次修改的撤消日志条目。这会在内存中累积并最终进入磁盘。这就是为什么它需要很长时间。如果你分块执行，这将阻止它进入磁盘并让 MySQL 跟踪较少的撤消日志条目，从而提高效率。

自动提交发生在您的查询结束时，因此它不会做任何事情。

弄清楚你的块大小应该是多少的最好方法是通过实验。就像是

```
delete from table1 limit 1000; 
```

然后继续加倍，直到你想出最好的每次删除行的比率。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T05:49:18.733

我假设您正在尝试运行 200 万条单独的删除语句。

如果您尝试使用主键或范围一次删除 100-1000 条记录进行批量删除，速度会快得多。

例子：

```
DELETE FROM Table WHERE ID > 0 AND ID < 1000; 
```

或者

```
DELETE FROM Table WHERE ID IN (1,2,3,4,5 .... 1000); 
```

您可以根据自己的喜好调整要删除的记录数，如果需要，可以增加很多。在高负载生产服务器上，我通常会运行像这样的较小范围的脚本，可能会运行 100 次，然后再休眠一段时间，然后继续另一个循环。

我总是为这种类型的事情打开自动提交功能。管理删除 200 万条记录的事务会增加大量开销。

此外，请确保您用于批量/范围删除的列是主键或具有索引。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-01T07:21:08.747

更改自动提交变量的值不会更快。即使自动提交为真，MySQL 也总是构建旧图像，因为如果用户中断查询，那么它必须有旧图像才能回滚。

# android - Android大写字符在手机中不起作用

> ID：15492284
> 
> 赞同：1
> 
> 时间：2013-03-19T05:44:50.773
> 
> 标签：android, android-layout, android-edittext, capitalize

在我的应用程序中，我想允许用户只输入大写字母。所以我使用大写财产。

这是代码的一部分

```
<EditText
    android:id="@+id/et5"
    android:layout_width="140dp"
    android:layout_height="wrap_content"
    android:layout_x="127dp"
    android:layout_y="219dp"
    android:maxLength="25"
    android:ems="10"
    android:singleLine="true"
    android:capitalize="characters"
    android:text="" /> 
```

在某些情况下，我也试过这个

```
android:inputType="textCapCharacters" 
```

它在模拟器中运行良好，但在手机中无法运行。在电话中，它显示小写字母。这里的错误是什么以及如何克服？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2017-04-06T16:58:14.353

尝试这个：

```
editText.setFilters(new InputFilter[] {new InputFilter.AllCaps()}); 
```

并将 EditText xml 属性设置为：

```
android:inputType="text|textCapCharacters" 
```

希望能帮助到你 ：）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T05:47:56.360

尝试在这样的 java 类中使用它：

```
textView.setText(text.toUpperCase()); 
```

您还可以使用 Textwatcher 方法来应用已更改的文本

要使其从 xml 工作，您应该尝试以下操作：

```
android:inputType="textCapCharacters" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T05:54:30.427

```
edittext.addTextChangedListener(new TextWatcher() {

@Override
public void onTextChanged(CharSequence arg0, int arg1, int arg2, int arg3) {            

}
    @Override
public void beforeTextChanged(CharSequence arg0, int arg1, int arg2,
                int arg3) {             
}
@Override
public void afterTextChanged(Editable arg0) {
      String s=arg0.toString();
  if(!s.equals(s.toUpperCase()))
  {
     s=s.toUpperCase();
     edittext.setText(s);
  }
}
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T05:59:57.213

尝试这个

```
<EditText
android:inputType="textCapCharacters" />

<EditText
android:inputType="textCapWords" /> 
```

或者您可以在 java 文件中以编程方式进行

```
 String str = et.getText.toString().toUpperCase(); 
```

# php - 你如何用密码保护博主的帖子？

> ID：15492286
> 
> 赞同：0
> 
> 时间：2013-03-19T05:45:00.130
> 
> 标签：php, javascript, blogger, protection

我已经多次看到这个问题 - 只是不在这里。这一点的答案都说在javascript中使用使用凭据（我们都知道客户端凭据无法进行身份验证:)

场景是我想控制我博客上的某个页面 - 直到我把它释放给每个人。我有自己的域，所以我可以托管 php 脚本。我已经尝试过 Blogger 的阅读器过滤器 - 很棒，但对于没有 gmail 帐户的观众来说，这真的很痛苦

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T05:45:00.130

这是我的解决方案（使用 Javascript - 但在客户端没有用户+密码验证）。这是一个黑客 - 但我还有其他鱼要抓，而且在我吃之前还有很长的路要走。

```
 The initial page call is this:
    http://YOUR.DOMAIN.COM/manager.php?p=login
 That prompts for the username and password 
        - ala this: http://www.php.net/manual/en/features.http-auth.php
 After login some encryption is done on an authentication cookie 
        - ala this: http://php.net/manual/en/function.mcrypt-decrypt.php
        -  or this: http://php.net/manual/en/function.openssl-decrypt.php
 The cookie is set
        - ala this: http://www.php.net/manual/en/function.setcookie.php
 And then the php file calls this present page via the following 
        - header('Location: http://YOUR2.DOMAIN.COM/p/page.html');
 * YOUR2.DOMAIN.COM points to blogger; the page is this file here which will grab the file data and insert it into a div on the page
        - see info here: http://support.google.com/blogger/bin/static.py?hl=en&ts=1233381&page=ts.cs
 Based on the param and confirming that the cookie is valid, manager.php gets the real file data and sends it out
        - ala this: http://php.net/manual/en/function.file-get-contents.php 
```

只需将以下内容放入空白 Blogger 页面 - 注意替换 YOUR.DOMAIN.COM 的实例

```
<script type="text/javascript" src="http://YOUR.DOMAIN.COM/scripts/jquery-1.8.3.min.js"></script>
<script type='text/javascript'>
 var $pageUrl = "http://YOUR.DOMAIN.COM/manager.php?p=page1"; // so cool how you could setup your own domain!

 function doInitStuff()
 {
    if ($alreadyInited) return; 
    $alreadyInited = true;
    // a little hack - because though I said share cookies among (*) ".DOMAIN.COM" it wasn't getting sent
    // although it's obviously there since we get it here on YOUR2.DOMAIN.COM (originally set on YOUR.DOMAIN.COM)
    $cookies = document.cookie; 

    $result = $.ajax
    ({
        type: "GET",
        url: $pageUrl,
        dataType: 'json', // or whatever
        async: false, // force this to complete before moving on (should be quick though - since already logged in)
        //   username: 'username', // would get these from a prompt/html form - but should have already gone directly to the site to authenticate
        //   password: 'password', // did it that way, because wasn't able to get the u/p to be properly sent... this new way is better anyway
        data: $cookies, // send along the cookies - they should show up in $_GET
        success: function (result, status, jqXHR){
            // good - but for some reason wasn't getting result - just move on...
        },
        error: function (){
            // not good
        }
    });

    if ($result.status == 200)
    {
        // insert our data into our nice Div
        $('#realpageinfo').html($result.responseText);
    }

    // grrrrrr. ie strikes again! use iframes instead
    var isMSIE = eval("/*@cc_on!@*/!1");
    if ($('#realpageinfo').html() == '' || isMSIE)
    {
        //$('#realpageinfo').replaceWith("<div id='realpageinfo' style='font-weight:bold;color:red'>Internet Explorer? Sorry, but please use a different Browser.</div>");
        $('#realpageinfo').replaceWith("<div id='realpageinfo'><iframe id='realpageframe' style='width:100%;height:700px' src='" + $pageUrl + "'></iframe></div>");
    }
 }

 // Don't mind this - multiple ways to ensure the main worker function is called
 var $alreadyInited = false;
 $(document).ready(function() { doInitStuff(); });
 window.addEventListener('DOMContentLoaded',function() { doInitStuff(); });

</script>

<div id='realpageinfo'></div> 
```

现在对于服务器端

```
<?php
    $cookieName = 'my_auth_cookie';
    $loggedInCookieVal = $_COOKIE[$cookieName];

    if (!isset($loggedInCookieVal))
    {
            $loggedInCookieVal = $_GET[$cookieName]; // was it passed in instead of coming through the Cookie channel?
    }

    // if $loggedInCookieVal is set, decrypt it and pull username + pwd from it - if succeeds, set $cookieValsDecrypted
    // otherwise see if the user just sent them back in response to a challenge

    // these are empty before login - and set in response to the challenge
    $curUser = $_SERVER['PHP_AUTH_USER'];
    $curPswd = $_SERVER['PHP_AUTH_PW'];

    if (!$cookieValsDecrypted && (!isset($curUser) || !isset($curPswd)))
    {
        // ask the user to authenticate (again if have to)

        header('WWW-Authenticate: Basic realm="YOUR.DOMAIN.COM"');
        header('HTTP/1.0 401 Unauthorized');

        echo "You gotta login bud - but you canceled instead";

        exit;

    } else {

        // check $curUser and $curPswd against a db or .htpasswd file, etc - or check $cookieValsDecrypted

        // if all good then send the file
        if ($matched)
        {
            switch($_GET['p'])
            {
                case 'login': // just came here to login - now done, go on to the real page that pulls the value
                    header('Location: http://YOUR2.DOMAIN.COM/p/page.html');
                break;

                case 'page1':
                    echo file_get_contents ('./page1.txt'); // show the date
                break;
            }
        } else {
            // else send the auth request again
            header('WWW-Authenticate: Basic realm="YOUR.DOMAIN.COM"');
            header('HTTP/1.0 401 Unauthorized');

            echo "Try something else, maybe";
        }
    }
?> 
```

就是这样...随时改进。在这里看到它的行动[ClyntonCaines.Com](http://ClyntonCaines.Com)

# java - JSON：在服务器解析 json 数据时出现问题

> ID：15492289
> 
> 赞同：0
> 
> 时间：2013-03-19T05:45:01.713
> 
> 标签：java, android, json, servlets

当我将 json 数据从 Android 传递到服务器时，它在解析时在服务器上出现以下错误。**org.json.JSONException：JSONObject 文本必须以 '{' 在 1 [字符 2 第 1 行] 开头**

小服务程序代码是：

```
protected void doProcess(HttpServletRequest request,
            HttpServletResponse response) throws ServletException, IOException {

        BufferedReader br = request.getReader();

        String sCurrentLine;
        StringBuilder sb = new StringBuilder();

        while ((sCurrentLine = br.readLine()) != null) {
            sb.append(sCurrentLine);
        }

        System.out.println(sb.toString().substring(4));

        try {
            JSONArray jArray = new JSONArray(sb.toString().substring(4));
            for (int i = 0; i < jArray.length(); i++) {
                JSONObject json_data = jArray.getJSONObject(i);
                json_data.getString("dwsList");
            }

        } catch (JSONException e) {
            e.printStackTrace();
        }

    } 
```

安卓部分是：

```
ArrayList<STRModel> strlist = StrDbHelper
                    .getPendingStrlist(Splash.this);
            System.out.println("--------Inside------" + strlist.size());

            if (strlist != null) {
                String URL = "http://ip:8080/Admin/upload";
                HttpClient httpclient = new DefaultHttpClient();
                HttpPost httppost = new HttpPost(URL);

                try {
                    List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(
                            2);
                    nameValuePairs.add(new BasicNameValuePair("str", new Gson()
                            .toJson(strlist)));

                    System.out.println(new Gson().toJson(strlist));

                    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

                    HttpResponse response = httpclient.execute(httppost);

                    Log.i("Response", response.getEntity().getContent()
                            .toString());

                } catch (ClientProtocolException e) {
                    e.printStackTrace();
                    return false;
                } catch (IOException e) {
                    e.printStackTrace();
                    return false;
                }

            } 
```

我从客户端传递为：

```
[
{"dwsList":
[
{"farmer_name":"JINJU","dws_date":"2013-03-08","farmer_code":"10004","dws_num":"53","dws_id":4,"bag_weight":3000.0,"net_weight":2000.0,"selected":false,"str_id":0,"totalBags":20},
{"farmer_name":"KANNAN","dws_date":"2013-03-08","farmer_code":"10005","dws_num":"54","dws_id":5,"bag_weight":1500.0,"net_weight":1000.0,"selected":false,"str_id":0,"totalBags":10}
],
"str_total_weight":4000.0,"str_date":"2013-03-08","str_number":"1003","str_id":4,"str_total_bag":0,"status":0,"selected":false}
] 
```

当我在服务器中打印 Json 数据时，它看起来像

```
 str=%5B%7B%22dwsList%22%3A%5B%7B%22farmer_name%22%3A%22JINJU%22%2C%22dws_date%22%3A%222013-03-08%22%2C%22farmer_code%22%3A%2210004%22%2C%22dws_num%22%3A%2253%22%2C%22dws_id%22%3A4%2C%22bag_weight%22%3A3000.0%2C%22net_weight%22%3A2000.0%2C%22selected%22%3Afalse%2C%22str_id%22%3A0%2C%22totalBags%22%3A20%7D%2C%7B%22farmer_name%22%3A%22KANNAN%22%2C%22dws_date%22%3A%222013-03-08%22%2C%22farmer_code%22%3A%2210005%22%2C%22dws_num%22%3A%2254%22%2C%22dws_id%22%3A5%2C%22bag_weight%22%3A1500.0%2C%22net_weight%22%3A1000.0%2C%22selected%22%3Afalse%2C%22str_id%22%3A0%2C%22totalBags%22%3A10%7D%5D%2C%22str_total_weight%22%3A4000.0%2C%22str_date%22%3A%222013-03-08%22%2C%22str_number%22%3A%221003%22%2C%22str_id%22%3A4%2C%22str_total_bag%22%3A0%2C%22status%22%3A0%2C%22selected%22%3Afalse%7D%5D 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T05:59:29.150

您可以尝试下面的代码来解析 JSON

```
{
"result": "success",
"countryCodeList":
[
{"countryCode":"00","countryName":"World Wide"},
{"countryCode":"kr","countryName":"Korea, Republic of"},
{"countryCode":"us","countryName":"United States"},
{"countryCode":"jp","countryName":"Japan"},
{"countryCode":"cn","countryName":"China"},
{"countryCode":"in","countryName":"India"}
]
}

public static ArrayList<Country> ParseJson(String jsonstring) {

    ArrayList<Country> arrCountries = new ArrayList<Country>();

    String status;
    String message = "";
    try {

        JSONObject json = new JSONObject(jsonstring);

        status = json.getString("result");

        if (status.equalsIgnoreCase("success")) {

            JSONArray nameArray = json.names();
            JSONArray valArray = json.toJSONArray(nameArray);

            JSONArray valArray1 = valArray.getJSONArray(1);

            valArray1.toString().replace("[", "");
            valArray1.toString().replace("]", "");

            int len = valArray1.length();

            for (int i = 0; i < valArray1.length(); i++) {

                Country country = new Country();
                JSONObject arr = valArray1.getJSONObject(i);

                country.setCountryCode(arr.getString("countryCode"));
                country.setCountryName(arr.getString("countryName"));
                arrCountries.add(country);
            }
        }

    } catch (JSONException e) {
        Log.e("JSON", "There was an error parsing the JSON", e);
    }
    return arrCountries;
} 
```

# ios - UICollectionView 应用程序崩溃，在 iPhone 上显示大量图像

> ID：15492292
> 
> 赞同：0
> 
> 时间：2013-03-19T05:45:28.880
> 
> 标签：ios, sdk, uiimageview, uicollectionview

我需要在 UICollectionView 上显示大约 300 张图像。我添加了自定义 UICollectionViewCell 和子视图 UIImageView，现在当我尝试从 Web 服务器在 UICollectionView 上显示图像时，它会显示大约 150 个图像，然后应用程序崩溃显示低级内存。以下是我的代码，请让我知道我做错了什么。

```
-(void)updateView {

    for (int i = 0; i < m_nPhotoCount; i ++)
    {
        dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{

            NSURL *imageURL = [NSURL URLWithString:[aryList objectAtIndex:i]];
            UIImage *image = [UIImage imageWithData:[NSData dataWithContentsOfURL:imageURL]];
            if(image == nil)
            {
                NSLog(@"kashif");
            }
            else {
                [self.imageArray addObject:image];
            }
            dispatch_sync(dispatch_get_main_queue(), ^{
                [collectionView reloadData];
            });
        });
    }
}

    #pragma mark - UICollectionView Datasource

    - (NSInteger)collectionView:(UICollectionView *)view numberOfItemsInSection:(NSInteger)section {

        return [self.imageArray count];
    }

    - (UICollectionViewCell *)collectionView:(UICollectionView *)cv cellForItemAtIndexPath:(NSIndexPath *)indexPath {

        static NSString *CellIdentifier = @"GalleryCell";
        GalleryCell *cell = (GalleryCell*)[cv dequeueReusableCellWithReuseIdentifier:CellIdentifier forIndexPath:indexPath];
        cell.imageView.image = [self.imageArray objectAtIndex:indexPath.row];
        return cell;
    }

    - (UICollectionReusableView *)collectionView:(UICollectionView *)collectionView viewForSupplementaryElementOfKind:(NSString *)kind atIndexPath:(NSIndexPath *)indexPath {

        return [[UICollectionReusableView alloc] init];

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T05:47:47.200

你采取了错误的方法。你应该做的是，你应该一次只下载那些数量的图像（相当于 CollectionView 的可见单元格的数量）。

当集合视图滚动而不是下载更多图像并在缓存中清除或存储以前的图像时。

您可以使用这个美妙的图像下载和缓存库：[SDWebImage](https://github.com/rs/SDWebImage)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-11T12:14:55.087

画廊有专门的图书馆。您应该尝试使用库而不是处理或创建大尺寸的集合视图。

# actionscript-3 - CS6 - Actionscript 3.0 碰撞、点和没有凹凸

> ID：15492293
> 
> 赞同：0
> 
> 时间：2013-03-19T05:45:28.840
> 
> 标签：actionscript-3, 2d, collision

玩弄flash有一段时间了，我的问题一般都能很快解决，但是我在这个上卡了几天，google一直没用，也没有朋友对flash很了解.

所以，我一直致力于制作一个基本的 2D 平台。我在弄清楚如何在角色和 bg.hitTestPoint 上实现点时遇到问题。就目前而言，在我处理要点和所有内容之前，它运行良好。我有一个踪迹，让我知道它何时认为它与物体（在这种情况下是一堵墙）发生碰撞。

角色的尺寸为：
顶部中心：(42,0)
机器人中心：(42,112) 右侧中心：(84,56) 左侧
中心：(0,56
)
总图像：84 x 112 (px)

角色在屏幕上的位置：
顶部中心：(46, 460)
机器人中心：(46, 379)
L. 中心：(20, 440)
R. 中心：(80,420)

这里是块：

碰撞/碰撞变量：

`var leftB:Boolean = false;
var rightB:Boolean = false;
var topB:Boolean = false;
var botB:Boolean = false;

var topBPt:Point = new Point(42, 0);
var botBPt:Point = new Point(42, 112);
var leftBPt:Point = new Point(0, 56);
var rightBPt:Point = new Point(84, 56);` 

hitTestPoint 块：（为了节省空间，我只做最上面的一个。）

 ````
if(bg.hitTestPoint(fag.x + topBPt.x, fag.y + topBPt.y, true))
{
    trace("Top Bump works.");
    topB = true;
}
    else
{
    topB = false;
} 
````  `````
if(topB)
{
    if(ySpeed < 0)
    {
        ySpeed *= -0.5;
    }
} 
````  `我尝试使用不同的维度，我可能只是没有理解我正在阅读的网站上的完整解释。

另外，我有一种感觉，我可以通过将其设置为 hitTestObject 并手动使墙的每个部分不同来解决它......但我认为这不是有效或合理的。
谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T08:34:03.183

找出矩形区域碰撞的数学通常是相同的。

首先，在浏览您的代码之后，将您的屏幕对象定义为对象......我的意思是 sublass Sprite 类并向其添加属性，不要通过全局来执行......

像：

```
public class myScreenObjs extends Sprite {
      // Add the tricky cool specialities and properties here
} 
```

通常一个精灵会暴露它的 x 和 y 坐标。如果动态创建的 x 和 y 位于 sprite 的左上角，如果通过 cs6 最好将 o 与从中心到左上角的十字交叉，以获得共同的参考点。居中的 xy 参考非常适合 3d，特别是在需要旋转时。

精灵也有宽度和高度属性。

让我们假设你有精灵 c（字符）和 b（块到凹凸）

鉴于：

left 是对象的左 x。

right 是对象的右 x。

top 是对象的顶部 y。

底部是对象的底部 y。

我知道这不是一个非常理想的功能，但我写它是为了演示。

```
function bumpTest(c: Sprite, b: Sprite):Object {
var
  r: * = {},
  cLeft   : int = c.x,    // doing this for demonstrating you can directly use c.x
  cRight  : int = c.x + c.width,
  cTop    : int = c.y,   // same
  cBottom : int = c.y + c.height,
  bLeft   : int = b.x,    // same
  bRight  : int = b.x + b.width,
  bTop    : int = b.y,   // same
  bBottom : int = b.y + b.height;

  r.left   = Boolean ((cLeft  >= bLeft) && (cLeft <= bRight));
  r.right  = Boolean ((cRight >= bLeft) && (cRight <= bRight));
  r.top    = Boolean ((cTop     >= bTop) && (cTop <= bBottom));
  r.bottom = Boolean ((cBottom  >= bTop) && (cBottom <= bBottom));
  r.bump   = Boolean ((r.left || r.right)&&(r.top || r.bottom));
  return(r);
} 
```

现在 r 有了完整的答案，如果 r.bump 为假，则 r 中的其他值无关紧要。如果 r.bump 变为真，那么您可以通过 r.left 等检查 c 从哪里撞到 b。自从：

r.left true 表示 c left 在 b 的边界内或边界处。

r.right true 意味着 c 的权利在 b 的内部或边界处。

r.top true 表示 c top 在 b 的内部或边界处。

r.bottom true 意味着 c 底部在 b 的内部或边界处。``

# ms-access - 如何使用 ADO 记录集基于现有表创建新表并将记录集（新表）设置为表单的记录源？

> ID：15492297
> 
> 赞同：2
> 
> 时间：2013-03-19T05:45:43.640
> 
> 标签：ms-access, vba, ms-access-2007

我想使用 ADO 记录集基于现有表创建新表。然后我想将新表设置为我的表单的记录源。我知道我可以创建一个查询并将查询设置为我的表单的记录源，但是如果我不想使用这种方法？我希望表单的记录源仅在表单加载时才存在。这是我所做的，但仍然无法将表单的记录源设置为我的记录集。

```
Private Sub Form_Load()

Dim cnn As ADODB.Connection
Set cnn = CurrentProject.Connection
Dim rst As New ADODB.Recordset
rst.ActiveConnection = cnn
Dim mySql As String
'create tblfrmQryOnHold based on tblOnHold
mySql = "SELECT tblDisposition.ID, tblDisposition.DateRecorded, tblDisposition.OrderNo, tblDisposition.ArticleNo, "
mySql = mySql & "tblDisposition.Description, tblDisposition.Process, tblDisposition.Defects, tblDisposition.RefNo, "
mySql = mySql & "tblDisposition.PostedBy, tblDisposition.Status, tblDisposition.Attachment, tblDisposition.Engineer, "
mySql = mySql & "tblDisposition.Remarks, tblDisposition.ReviewClose, tblDisposition.ScrapNo, tblDisposition.HoldbackNo, "
mySql = mySql & "tblDisposition.ProductionRemarks, tblDisposition.HoldbackQuantity, tblDisposition.HoldbackNum INTO "
mySql = mySql & "frmQryOnHold FROM tblDisposition;"

rst.Open mySql
'set form frmOnHold record source to form frmQryOnHold
Forms![frmOnHold].RecordSource = frmQryOnHold
End Sub 
```

我收到此错误“对象关闭时不允许操作”，此错误指的是哪个对象？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T12:28:46.937

您似乎正在处理两种不同的想法。

```
Private Sub Form_Load()

Dim cnn As ADODB.Connection
Set cnn = CurrentProject.Connection
Dim rst As New ADODB.Recordset
rst.ActiveConnection = cnn
Dim mySql As String
'create tblfrmQryOnHold based on tblOnHold
''Using aslias t for tblDisposition for clarity
mySql = "SELECT t.ID, t.DateRecorded, t.OrderNo, t.ArticleNo, "
mySql = mySql & "t.Description, t.Process, t.Defects, t.RefNo, "
mySql = mySql & "t.PostedBy, t.Status, t.Attachment, t.Engineer, "
mySql = mySql & "t.Remarks, t.ReviewClose, t.ScrapNo, t.HoldbackNo, "
mySql = mySql & "t.ProductionRemarks, t.HoldbackQuantity, t.HoldbackNum INTO "
mySql = mySql & "frmQryOnHold FROM tblDisposition As t;"

''Action query, so execute it aginst a connection
''This will fail if the table already exists, so it would be 
''much better to use DELETE FROM ... and INSERT INTO ...
''which would also cut down or bloat. However, the very best
''solution would be to just use a query on tblDisposition 
cnn.Execute mySql

''You now have created the table frmQryOnHold and can use it as @SoupyC 
''shows, or, if you wish to use recordset, as you seem to imply, then you want:

   With rst
     Set .ActiveConnection = cnn
     ''Something like this
     .Source = "select * from frmQryOnHold"
     .LockType = adLockOptimistic
     .CursorType = adOpenKeyset
     .CursorLocation = adUseClient
     .Open
  End With

'set form frmOnHold record source to form frmQryOnHold
Set Forms![frmOnHold].Recordset = rst

'set form frmOnHold record source to form frmQryOnHold
Forms![frmOnHold].RecordSource = frmQryOnHold
End Sub 
```

If you are just assigning a table to a recordsource, pure DAO is the way to go.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T09:53:19.053

您需要像这样在 RecordSource 周围加上引号：

```
Forms![frmOnHold].RecordSource = "frmQryOnHold" 
```

# ios - touchesMoved:withEvent: 停止响应

> ID：15492298
> 
> 赞同：0
> 
> 时间：2013-03-19T05:45:44.003
> 
> 标签：ios, objective-c, uiview, touchesmoved, uiresponder

我已经应用[了这个 stackoverflow 条目](https://stackoverflow.com/questions/9969066/ios-detecting-touches-in-a-uiview)，以便在触摸从一个视图移动到另一个视图时检测到触摸。

子视图真正检测到触摸。但是，我正在做更多的事情。我需要将检测到触摸的视图从其父视图中删除，并将新视图添加到父视图。所以，我有这样的事情：

```
- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event 
{
    UITouch *touch = [[event allTouches] anyObject];
    CGPoint touchLocation = [touch locationInView:self.contentView];

    for (UIView *view in self.contentView.subviews)
    {
        if ([view isKindOfClass:[MyCustomView class]] &&
            CGRectContainsPoint(view.frame, touchLocation))
        {
            [view removeFromSuperview];
            UIView *aNewView = [[[UIView alloc] initWithFrame:someFrame] autorelease];
            [self.contentView addSubview:aNewView];
        }
    }
} 
```

通过 if 语句后，应用程序无法响应触摸移动。你认为是什么问题？是不是这个原因造成的：`[view removeFromSuperview]`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:37:40.083

尝试这个：

```
- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event 
{
    UITouch *touch = [[event allTouches] anyObject];
    CGPoint touchLocation = [touch locationInView:self.contentView];

    NSArray *subviews = [self.contentView.subviews copy];
    for (UIView *view in subviews)
    {
        if ([view isKindOfClass:[MyCustomView class]] &&
            CGRectContainsPoint(view.frame, touchLocation))
        {
            [view removeFromSuperview];
            UIView *aNewView = [[[UIView alloc] initWithFrame:someFrame] autorelease];
            [self.contentView addSubview:aNewView];
        }
    }
} 
```

我认为问题是您在迭代数组时正在更改数组。

# nhibernate - nhibernate L2缓存：通过代码配置

> ID：15492302
> 
> 赞同：3
> 
> 时间：2013-03-19T05:46:14.357
> 
> 标签：nhibernate, syscache2, syscache

如何在代码中配置二级缓存（不是通过 xml）

我目前的设置是：

```
 public NHCachingSetup(Configuration cfg)
        {
            // use first level cache
            cfg.Cache(x =>
            {
                x.UseQueryCache = true;
                x.Provider<SysCacheProvider>();
            });

            // set 60 min expiration time
            cfg.SessionFactory().Caching
                .WithDefaultExpiration(60);
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:37:45.530

我用 NH 3.3 做到这一点的方式就像

```
var configure = new Configuration();
...
configure.Cache(x => x.UseQueryCache = true)
...
configure.SessionFactory().Caching
  .Through<SysCacheProvider>().WithDefaultExpiration(1440);//secs! 
```

**在您的映射中编辑**您将需要：-

```
Cache(x => x.Usage(CacheUsage.ReadOnly)); 
```

**结束编辑**

然后使用你可以做类似的事情（这为我缓存了一个查找表）： -

```
Db.Query<SpamAssassin>().Cacheable().CacheMode(CacheMode.Normal).ToList(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T05:24:46.220

知道了：

```
cfg.SetProperty(Environment.BatchSize, "100")
                .SetProperty(Environment.UseQueryCache, "true")
                .SetProperty(Environment.UseSecondLevelCache, "true")
                .Cache(x => { x.Provider<SysCacheProvider>(); }); 
```

# java - 如何使用 wait() 和 notifyAll() 在 GUI 类和逻辑线程之间进行通信

> ID：15492303
> 
> 赞同：2
> 
> 时间：2013-03-19T05:46:16.320
> 
> 标签：java, multithreading, swing, event-dispatch-thread

我的课程中有 3 个小学课程。第一个扩展小程序（并充当我的主），第二个是处理后端物流/与服务器通信的线程（实现 Runnable），第三个是 JPanel 类，它创建 GUI（这是创建的通过调用`SwingUtilities.invokeAndWait()`主（小程序）类在新线程中。

GUI 类与后端线程多次通信以获取要在屏幕上显示的数据。我的问题是 GUI 在后端类为它们提供数据之前显示其组件。所以，我想告诉 GUI 在另一个线程中调用一个方法，等待它的回复，然后显示它的组件。我尝试了几种变体：

```
Object[] data = backend.Method1(); 
wait();
showComponents(data); 
```

在 GUI 类上，并放置`notifyAll();`在后端线程中 Method1 的底部，但我在 netbeans 中收到警告（在同步上下文之外调用 Object.wait），并且程序在`java.lang.illegalmonitorstateexception`运行时崩溃。我尝试将`synchronized`关键字添加到这两种方法中，但这会导致程序冻结。

我（显然，我敢肯定）只是在学习多线程：我在这里误解了什么？

我有一种感觉，JPanel 类没有实现可运行的相关。

编辑：根据@MadProgrammer 的建议，我正在使用一个 SwingWorker，它似乎在做这个伎俩。谢谢你指点我，我以前从未听说过他们。

```
 final JLabel loading = new JLabel("loading");
    loading.setVisible(true);
    add(loading);

    SwingWorker sw = new SwingWorker<Map<String, ArrayList<Time[]>>, Void>() {
        @Override
        public Map<String, ArrayList<Time[]>> doInBackground(){
            System.out.println("doing");
            Map<String, ArrayList<Time[]>> toReturn = dbh.getTimes(specToPass);
            return toReturn;
        }

        public void done(){
            try {
                loading.setVisible(false);
                Map<String, ArrayList<Time[]>> weekMap = new HashMap(this.get());
                showTimes(weekMap);
            } catch (InterruptedException ex) {
                ex.printStackTrace();
            } catch (ExecutionException ex) {
                  ex.printStackTrace();
            }
       }
    };
    sw.execute(); 
```

如果我没有正确实施，我希望你能告诉我。再次感谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T05:50:38.407

不。以任何方式阻止 UI 总是一个坏主意。这将使您的应用程序“挂起”并阻止 UI 更新（或响应用户的任何输入）。

这会造成非常糟糕的用户体验。

相反，使用某种回调，允许数据线程根据需要将更新发送回 UI。这应该允许您的 UI 在等待来自数据线程的数据时显示类似于“等待”消息的内容。

您也可以使用 a`SwingWorker`来处理数据收集，但它可能对您的所有需求来说很简单，但它提供了将任何更新同步回 UI 的简单方法。

确保与 UI 的所有创建/修改/交互都在事件调度线程的上下文中完成。

查看[Swing 中的并发以](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)获取更多详细信息

**更新**

基本工作流程（恕我直言）应该看起来像......

*   UI - 从后台线程请求数据，将侦听器接口传递给后台线程（使用类似`loadingDone`和 `loadingFailed`的方法，例如
*   UI - 显示“加载”消息。可以显示一个漂亮的动画 GIF
*   线程 - 加载数据时（假设一切顺利），将数据打包并通过`loadingDone`方法传回
*   UI -`loadingDone`调用时，与 EDT 重新同步（使用`SwingUtilities.invokeLater`）并更新 UI。

这实际上会更简单，`SwingWorker`它会提供内置的进度更新

# android - 在我的应用程序中通过 android 短信 api 发送和接收文本

> ID：15492304
> 
> 赞同：1
> 
> 时间：2013-03-19T05:46:18.440
> 
> 标签：android

我可以使用 android 的 sms api 让用户在不离开我的应用程序的情况下发送和接收消息吗？即，据用户所知，短信完全是我的应用程序的一部分。

到目前为止，我的理解是我可以让用户从我的应用程序内发送短信，但收件人不会在我的应用程序内收到短信。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:39:35.850

是的你可以。通过使用，`SmsManager`您可以从自己的应用程序发送短信。您还可以设置侦听器来拦截收到的消息并将它们显示给用户。这一切都是由许多应用程序开发人员完成的。

# sphinx - 狮身人面像搜索库新记录未显示

> ID：15492307
> 
> 赞同：0
> 
> 时间：2013-03-19T05:46:35.733
> 
> 标签：sphinx, thinking-sphinx

我正在使用 sphinx 搜索库在我的项目中进行索引。但我无法获取所有记录。[在这里你可以看到我得到的结果](http://www.dramazine.co.uk/search/groups/all?field=members&orderby=desc) 。我总共有 57 条记录，但它只显示 24 条记录。我做了研究分配。这可能是实时索引或其他问题。

如果有人对此有解决方案。请帮帮我。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T16:12:37.340

你运行了什么样的查询，你能显示片段吗？此外，您可以直接检查索引是否包含 57 条记录或不使用搜索命令。见[http://sphinxsearch.com/docs/manual-2.0.6.html#ref-search](http://sphinxsearch.com/docs/manual-2.0.6.html#ref-search)

# mongodb - 启动 mongos 失败

> ID：15492308
> 
> 赞同：0
> 
> 时间：2013-03-19T05:46:43.477
> 
> 标签：mongodb

我在不同的服务器上有三个 mongod 分片进程和三个 mongod 配置服务器。

部署：

ShardA在服务器192.168.2.101、192.168.2.102、192.168.2.163，三个shard为replica set，192.168.2.102为Arbiters

配置：A. **192.168.2.101**

```
XXXX@ubuntu:~$ ps aux | grep mongo
root     22651  0.2  2.5 899768 46944 ?        Sl   12:35   0:10 mongod -shardsvr -replSet shardA -port 27017 -dbpath /var/lib/mongodb/shardA1 -oplogSize 100 -logpath /var/log/mongodb/shardA1.log -logappend -fork
root     22710  0.2  2.5 236084 47512 ?        Sl   12:35   0:08 mongod -configsvr -dbpath /var/lib/mongodb/config -port 20000 -logpath /var/log/mongodb/config.log -logappend -fork 
```

B. **192.168.2.102**

```
XXXXX@ubuntu:~$ ps aux | grep mongo
root     10556  0.2  1.0 262468 38688 ?        Sl   13:07   0:04 mongod -shardsvr -replSet shardA -port 27017 -dbpath /var/lib/mongodb/shardA3 -oplogSize 100 -logpath /var/log/mongodb/shardA3.log -journal -logappend -fork
root     10583  0.2  0.5 113940 21848 ?        Sl   13:07   0:03 mongod -configsvr -dbpath /var/lib/mongodb/config -port 20000 -logpath /var/log/mongodb/config.log -logappend -fork 
```

C. **192.168.2.163**

```
XXXXX@ubuntu:~$ ps aux | grep mongo
root      5594  0.3  0.7 804604 30952 ?        Sl   10:45   0:21 mongod -shardsvr -replSet shardA -port 27017 -dbpath /var/lib/mongodb/shardA2 -oplogSize 100 -logpath /var/log/mongodb/shardA2.log -logappend -fork
root      5650  0.2  0.7 134652 29456 ?        Sl   10:45   0:19 mongod -configsvr -dbpath /var/lib/mongodb/config -port 20000 -logpath /var/log/mongodb/config.log -logappend -fork 
```

**我在服务器192.168.2.102**上启动 mongos ，但启动失败

命令是：

```
sudo mongos -configdb 192.168.2.101:20000,192.168.2.163:20000,192.168.2.102:20000 -port 30000 -chunkSize 256 -logpath $LOGPATH/mongos.log -logappend -fork 
```

日志输出是：

```
 XXXXX@ubuntu:~$ cat  /var/log/mongodb/mongos.log
    Tue Mar 19 13:10:16 [mongosMain] MongoS version 2.2.3 starting: pid=10666 port=30000 32-bit host=ubuntu (--help for usage)
    Tue Mar 19 13:10:16 [mongosMain] git version: f570771a5d8a3846eb7586eaffcf4c2f4a96bf08
    Tue Mar 19 13:10:16 [mongosMain] build info: Linux bs-linux32.10gen.cc 2.6.21.7-2.fc8xen #1 SMP Fri Feb 15 12:39:36 EST 2008 i686 BOOST_LIB_VERSION=1_49
    Tue Mar 19 13:10:16 [mongosMain] options: { chunkSize: 256, configdb: "192.168.2.101:20000,192.168.2.163:20000,192.168.2.102:20000", fork: true, logappend: true, logpath: "/var/log/mongodb/mongos.log", port: 30000 }
    Tue Mar 19 13:10:16 [mongosMain] ERROR: config servers 192.168.2.101:20000 and 192.168.2.163:20000 differ config servers 192.168.2.101:20000 and 192.168.2.163:20000 differ config servers 192.168.2.101:20000 and 192.168.2.163:20000 differ config servers 192.168.2.101:20000 and 192.168.2.163:20000 differ config servers not in sync! config servers 192.168.2.101:20000 and 192.168.2.163:20000 differ
    chunks: "d41d8cd98f00b204e9800998ecf8427e"  EOO
    databases: "0195c739c938fdafd9632279694ea64e"   EOO
    Tue Mar 19 13:10:16 [mongosMain] configServer connection startup check failed 
```

错误信息是：配置服务器 192.168.2.101:20000 和 192.168.2.163:20000 不同，这是什么意思？

谢谢 ！

# d3.js - d3.simplify.js 简化而不投影

> ID：15492312
> 
> 赞同：1
> 
> 时间：2013-03-19T05:47:05.197
> 
> 标签：d3.js, simplification

有什么方法可以简化 SRID 4326 中的特征集合并保持相同的坐标参考。似乎大多数示例项目都是基于像素的坐标系。

# json - Sencha Touch2：无法解析商店内的 Json 文件

> ID：15492313
> 
> 赞同：1
> 
> 时间：2013-03-19T05:47:05.183
> 
> 标签：json, sencha-touch-2

我是 Sencha Touch2 的新手。从 Json 文件加载嵌套数据时遇到问题。这是我的 json 文件：

```
{
   "html_attributions" : [
      "Listings by \u003ca href=\"http://www.yellowpages.com.au/\"\u003eYellow Pages\u003c/a\u003e"
   ],
   "results" : [
      {
         "geometry" : {
            "location" : {
               "lat" : -33.8711140,
               "lng" : 151.1990420
            }
         },
         "icon" : "http://maps.gstatic.com/mapfiles/place_api/icons/travel_agent-71.png",
         "id" : "ddd678ac0a16d83fdc25500ccb3d6aa27b7f5548",
         "name" : "Darling Harbour",
         "photos" : [
            {
               "height" : 1088,
               "html_attributions" : [
                  "\u003ca href=\"https://plus.google.com/117001986278088134060\"\u003eStephen SteveT\u003c/a\u003e"
               ],
               "photo_reference" : "CnRiAAAAyl02-KJEBTh19Pc4YuOhMn0DPYLCat_1HMSwX_icBwgyjWr7QGkT262oE57hMlOUypibloD1oFwxBJ8Iq3oJCLKBNXcyAmw7000P91LblItAcxuVyvltfRggSLwT36pooEmZiKITyEuwAmpKpGrxhRIQhyMbZ-cHFI6zSayNRRiH_BoUgWH-2M6mR1IO9MuftuuYkZRHUZ4",
               "width" : 1600
            }
         ],
         "rating" : 4.30,
         "reference" : "CnRtAAAAmNBHFs0qF9UJEw1NccjMySkm4aH3cEL6cCkLj-V4rkDJJE81-fFOar6PAtoK5d70GLJTgh_LcpysxH41iRI4hW3YreiPI66GBJYEeWA6SbgNQrJy6RbTw7LbhB6vYb3gfzpV2lE6fUtaIjx3WOLjsBIQVjFdJTUy55L1fzdzyufUaBoU194V7aIidzGbj7aRUaObJdl5GvM",
         "types" : [ "travel_agency", "cafe", "restaurant", "food", "establishment" ],
         "vicinity" : "Sydney"
      },
      {
         "geometry" : {
            "location" : {
               "lat" : -33.870540,
               "lng" : 151.1988150
            }
         },......... 
```

这里可以获取图标、id、名称的数据。我跟着一个教程。但是我如何读取“lat”和“lng”的“位置”内的数据。下面是我的商店。

```
Ext.define('CustomList.store.StoreList', {
    extend:'Ext.data.Store',
    requires:['Ext.data.reader.Json','Ext.data.proxy.JsonP'],
    config:{
        model:'CustomList.model.ModelList',
        autoLoad:'true',
        proxy:{
            type:'ajax',
       url:'http://localhost:9091/Json/sample.json',

            reader:{
                type:'json',
                rootProperty:'results'
                }
        }
    }
}); 
```

这是我的模型：

```
Ext.define('CustomList.model.ModelList', {
    extend: 'Ext.data.Model',
    config: {
        fields:['geometry.location.lat','geometry.location.lng']

    }}) 
```

这是我的清单：ShowList.js：

```
Ext.define('CustomList.view.ShowList',{
    extend:'Ext.Panel',
    xtype:'showList',
    config:{
        layout:'fit',
        styleHtmlContent:'true',
        styleHtmlCls:'showListCls',
        items:[
            {
                xtype:'list',
                id: 'listitems',
                store:'StoreList',
//                itemTpl:'{id},{name},{vicinity}'
                itemTpl:'{modelList.geometry.location.lat} {modelList.geometry.location.lng}'

               }]

    }
}); 
```

谁能帮帮我吗。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:14:15.977

从[文档](http://docs.sencha.com/touch/2-1/#!/api/Ext.data.reader.Reader-cfg-rootProperty)

> rootProperty : String 包含行对象数组的属性的名称。对于 JSON 阅读器，它是以点分隔的属性名称列表。

在您的代码中，您将其设置为`rootProperty`，`geometry`所以我猜读者会认为所有数据都在第一个`geometry`属性中。

一种解决方案是将您设置`rootProperty`为，将模型`results`的配置设置为 并像这样访问and`field``fields:['geometry']``lat``lng`

```
yourModelInstance.geometry.location.lat;
yourModelInstance.geometry.location.lng; 
```

希望这可以帮助

# javascript - 为什么 indexedDB 没有在 Chrome 中显示新条目

> ID：15492314
> 
> 赞同：0
> 
> 时间：2013-03-19T05:47:13.420
> 
> 标签：javascript, indexeddb

我将[indexDB](https://developer.mozilla.org/en-US/docs/IndexedDB) API 与 HTML5 表单一起使用。出于某种原因，当我向其中添加新条目时，它会立即在 Firefox 中显示，但在 Chrome 中直到我刷新页面才会显示。

JS：

```
var mainForm, fName, lName, uName, pass, email, dob, phone, bio, nl, terms, school, gender, save, reset, db;

function startDB(){
    mainForm = document.getElementById('mainForm');
    fname = document.getElementById('fName');
    lName = document.getElementById('lName');
    users = document.getElementById('uName');
    pass = document.getElementById('password');
    email = document.getElementById('email');
    dob = document.getElementById('dob');
    phone = document.getElementById('phone');
    bio = document.getElementById('bio');
    nl = document.getElementById('newsletter');
    terms = document.getElementById('terms');
    school = document.getElementById('school');
    gender = document.getElementsByName('gender');
    save = document.getElementById('save');
    reset = document.getElementById('reset'); 
    databox = document.getElementById('databox');

    save.addEventListener('click',addObject);

    //open DB
    var request = indexedDB.open('macroPlay'); 
    //if fails
    request.addEventListener('error', showerror); 
    //if succeeds
    request.addEventListener('success', start); 
    //if !exist, create.
    request.addEventListener('upgradeneeded', createdb); 
}
function showerror(e){
    alert('Error: ' + e.code + ' - ' + e.message);
}
function start(e){
    db = e.target.result;
    showUsers();// Show all values in the object store
}
function createdb(e){
    var datababase = e.target.result;
    var myusers = datababase.createObjectStore('users', {keyPath: 'userName'});
}
function addObject(){
    var fName = document.getElementById('fName').value;
    var lName = document.getElementById('lName').value;
    var userName = document.getElementById('uName').value;
    var pass = document.getElementById('password').value;
    var email = document.getElementById('email').value;
    var dob = document.getElementById('dob').value;
    var phone = document.getElementById('phone').value;
    var bio = document.getElementById('bio').value;
    var nl = document.getElementById('nl').value;
    var terms = document.getElementById('terms').value;
    var school = document.getElementById('school').value;

    //May need to set a loop to find value of radio
    var gender;
    var radios = document.getElementsByName('gender');

    for (var i = 0, length = radios.length; i < length; i++) {
        if (radios[i].checked) {
            gender=radios[i].value;
        }
    }

    //set up transaction
    var mytransaction = db.transaction(['users'], "readwrite"); 

    //get object store
    var myusers = mytransaction.objectStore('users'); 

    //Add item
    var request = myusers.add(new getUser(userName,fName,lName,pass,email,dob,phone,bio,nl,terms,school,gender));

    // Show all results.
    request.addEventListener('success', showUsers);     

    //Reset Form Fields
    clearForm();

}
function getUser(userName, fn, ln, pw, em, dob, tel, bio, nl,tm, scl, gender){
    this.userName = userName;
    this.fn = fn;
    this.ln = ln;
    this.pw = pw;
    this.em = em;
    this.dob = dob;
    this.tel = tel;
    this.bio = bio;
    this.nl = nl;
    this.tm = tm;
    this.scl = scl;
    this.gender = gender;
}
function showUsers(){
    //reset box
    databox.innerHTML = ''; 
    //set the transaction 
    var mytransaction = db.transaction(['users']);
    //get object store
    var myusers = mytransaction.objectStore('users');
    //open the cursor and set an order
    var newcursor = myusers.openCursor(null,"prev");
    //show all users on successful load of DB
    newcursor.addEventListener('success',showUserList);
}
function showUserList(e){
    //var result = e.target.result;
    //databox.innerHTML = '<div>' + result.id + ' - ' + result.name + ' - ' + result.date + '</div>';
    var cursor = e.target.result; // Capture multiple return values as a cursor

    // Modify the databox to show the results 
    if (cursor){
        databox.innerHTML += '<div>' + 
        cursor.value.userName + ' - ' + 
        cursor.value.fn+ ' - ' + 
        cursor.value.ln+ ' - '+ 
        cursor.value.pw+ ' - '+ 
        cursor.value.em+ ' - '+ 
        cursor.value.dob+ ' - '+
        cursor.value.tel+ ' - '+ 
        cursor.value.bio+ ' - '+ 
        cursor.value.nl+ ' - '+
        cursor.value.tm+ ' - '+
        cursor.value.scl+' - '+
        cursor.value.gender+ 
        ' <input type="button" onclick="removeobject(\'' + cursor.value.userName + '\')" value="remove"/></div>';
            // Add a remove button as inserted HTML
        cursor.continue(); // Iterates over the cursor
    }
}
function removeobject(keyword){
    // Confirm the deletion
    if(confirm('Are you sure?')){ 
        // Set the transaction
        var mytransaction = db.transaction(['users'], "readwrite"); 
        // Get the object store
        var mystore = mytransaction.objectStore('users'); 
        // Delete the record with the chosen index
        var request = mystore.delete(keyword); 
        // If success, show the updated results
        request.addEventListener('success', showUsers); 
    }
}
//reset functions
function clearForm(){
    //Reset form
    fname = document.getElementById('fName').value='';
    lName = document.getElementById('lName').value='';
    uName = document.getElementById('uName').value='';
    pass = document.getElementById('password').value='';
    email = document.getElementById('email').value='';
    dob = document.getElementById('dob').value='';
    phone = document.getElementById('phone').value='';
    bio = document.getElementById('bio').value='';
    nl = document.getElementById('nl').value='';
    terms = document.getElementById('terms').value='';
    school = document.getElementById('school').value='';
    gender = document.getElementsByName('gender').value='';
    showUserList(); 
}
function reset(){
    if(confirm("are you sure?")){
        var f = document.getElementById("mainForm");
        f.reset();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T13:51:56.423

在读取事务运行之前，您的写入事务可能尚未完成。 [是异步的，因此即使您收听](https://stackoverflow.com/questions/15151242/running-code-only-after-an-object-is-updated-in-indexeddb-particularly-in-chrom)[信号](https://stackoverflow.com/questions/15151242/running-code-only-after-an-object-is-updated-in-indexeddb-particularly-in-chrom)`add`，也不能保证在您继续之前完成。要解决此问题，您有两种选择：[`success`](https://stackoverflow.com/questions/15151242/running-code-only-after-an-object-is-updated-in-indexeddb-particularly-in-chrom)

选项1：

通过将它从`addObject`to传递来使用相同的事务`showUsers`。

选项 2：

等待第一个事务完全完成，这样可以保证在继续之前写入数据。所以，改变

```
 request.addEventListener('success', showUsers); 
```

类似于

```
 mytransaction.addEventListener('complete', showUsers); 
```

# mysql - 从数据库中存储为 BLOB 的文件的物理与逻辑删除

> ID：15492315
> 
> 赞同：1
> 
> 时间：2013-03-19T05:47:14.893
> 
> 标签：mysql, grails, blob, grails-orm, sql-delete

我有应用程序`grails(uses GORM - grails ORM)`，数据库是`MySql`. 我在数据库中有一个名为“附件”的表，它将 Web 应用程序中附加的文件存储为`blob type`. 每个文件大小从 30 kb 到 200 kb 不等。现在我想为用户提供删除附件的规定。条目`deleted will not be re-used`和我对任何字段都没有唯一约束。

表的总大小`attachment`是 `35 MB`。它不断增长。

并且表“附件”和表“培训”之间存在关系。这说培训有很多附件。

**1）对物理删除使用逻辑删除（deleted = true）是个好主意吗？**

**2）逻辑删除是否会影响数据库的性能（保留表中的行而不删除它们，尤其是 BLOB 类型）？**

# java - 读取文件时运行和调试中的不同输出

> ID：15492316
> 
> 赞同：0
> 
> 时间：2013-03-19T05:47:18.743
> 
> 标签：java, fileinputstream

我正在尝试通过使用 Java 中的 FileInputStream 一次读取块来读取文件。代码如下：

```
 File file = new File(filepath);
        FileInputStream is = new FileInputStream(file);
        byte[] chunk = new byte[bytelength];
        int chunkLen = chunk.length;
        long lineCnt = 0;

        while ((chunkLen = is.read(chunk)) != -1) {

            String decoded = getchunkString(chunk);
            System.out.println(decoded);

            System.out.println("---------------------------------");

        } 
```

我正在使用 bytelength =128 并尝试使用较小的文件进行测试，如下所示：

```
graph G{
biz -- mai
biz -- ded
biz -- ronpepsi
blaine -- dan
dan -- graysky
dan -- iancr
dan -- maxwell
dan -- foursquare
blaine -- neb
} 
```

当我运行代码时，它会像这样读取块：

```
graph G{
biz -- mai
biz -- ded
biz -- ronpepsi
blaine -- dan
dan -- graysky
dan -- iancr
dan -- maxwell
dan -- foursquare
blaine
---------------------------------
 -- neb
}
iz -- mai
biz -- ded
biz -- ronpepsi
blaine -- dan
dan -- graysky
dan -- iancr
dan -- maxwell
dan -- foursquare
blaine
--------------------------------- 
```

我不明白第二块是怎么来的？我希望它应该只是

```
-- neb
    } 
```

当我调试 `is.read(chunk)`变成 10 然后 -1 并且它只打印第一个块。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:24:42.493

缓冲区可能包含垃圾数据，因此您只需要使用最多读取字节的字节，即在您的情况下为 chunkLen 。

```
while ((chunkLen = is.read(chunk)) != -1) {
   for (int i = 0; i < chunkLen; i++){
    //read the bytes here
   }
} 
```

或者您可以使用 String 构造函数，如下所示

```
while ((chunkLen = is.read(chunk)) != -1) {
   String decoded = new String(chunk, 0, chunkLen);
   System.out.println(decoded);
   System.out.println("---------------------------------");
} 
```

您需要相应地修改您的代码。

# php - JSON：使用 Javascript > jsfiddle 示例编码、解析、渲染表不起作用

> ID：15492322
> 
> 赞同：2
> 
> 时间：2013-03-19T05:47:35.890
> 
> 标签：php, javascript, arrays, json

[我在这里](http://jsfiddle.net/snowweb/7FDFW/7/)有一个 jsfiddle ，我用它来让我的概念发挥作用。

我遇到的问题很可能是由 JSON 引起的，我将分享我用来生成它的代码。

首先我做一个查询：

```
$sth->execute();

$last_sup   = 0;
$i          = 0;
$reorderArr = array();
$prodsArr   = array();
$si         = 0;

while ($row = $sth->fetchObject()) {

    // If new supplier.
    if ($last_sup !== $row->sup_id) {

        $last_sup = $row->sup_id;

        // If not first iteration.
        if ($i !== 0) {

            // Append $prodsArr to current $supArr
            $supArr['prods'] = (array)$prodsArr;

            // empty $prodsArr ready for next sup.
            $prodsArr = array();

            // Append $supArr to previous $reorderArr
            $reorderArr[$si] = (array)$supArr;

            $si++;
        }

        // Create entries for new supplier to $supArr
        $supArr = array(
            "supID"                 => $row->sup_id,
            "supName"               => $row->supplier_comp_name
        );
    }

    // Build array of products for this supplier.
    $prodsArr[] = array(
        "pID"                   => $row->prod_id,
        "sku"                   => $row->sku,
        "pName"                 => $row->prod_name,
        "cat"                   => $row->category_name,
        "desc"                  => $row->prod_desc,
        "stock_level"           => $row->stock_level,
        "reOrdLev"              => $row->reorder_level,
        "reOrdQty"              => $row->reorder_qty,
        "vat_exempt"            => $row->vat_exempt,
        "lastorderdate"         => $row->lastorderdate,
        "lastorderqty"          => $row->lastorderqty,
        "qty_in_outer"          => $row->qty_in_outer,
        "cost_per_outer"        => $row->cost_per_outer
    );

    $i++;

}

// Process the very last loop (since it's normally processed
// at the start of the next loop.

// Append $prodsArr to current $supArr
$supArr[] = (array)$prodsArr;

// Append $supArr to previous $reorderArr
$reorderArr[$si] = (array)$supArr;

return $reorderArr; 
```

然后我把它**加倍** `json_encode`（因为我遵循的教程告诉我）并用 Jquery 解析它，如下所示：

```
var data = $.parseJSON(<? print json_encode(json_encode($reorderArr));?>); 
```

我在我的页面上的脚本标记之间包含上面的行，并将其发送到我的函数以使用下面的行进行处理：

```
displayReorderList(data); 
```

这是`displayReorderList()`当前状态下的函数：

```
function displayReorderList($data) {

    var table = document.createElement('table');

    /**
     * Set up supplier group.
     * 1 loop per group.
     */
    for(var i=0; i < data.length; i++) {

        var tr = document.createElement('tr');  
        var td1 = document.createElement('td');

        // Need to put the Supplier name here in a colspan cell.
        var text1 = document.createTextNode(data[i].supName);
        td1.appendChild(text1);
        tr.appendChild(td1);
        table.appendChild(tr);

        /**
         * Setup Product Group.
         * 1 loop per product.
         */
        for(var j = 0; j < data[i].prods.length; j++) {

            var tr = document.createElement('tr');  
            var td1 = document.createElement('td');

            var text1 = document.createTextNode(data[i].prods[j].sku);
            td1.appendChild(text1);
            tr.appendChild(td1);
            table.appendChild(tr);

        }
    }
    document.body.appendChild(table); 
```

为了简单地概述数据结构，这里有一个`print_r($reorderArr)`

```
Array
(
    [0] => Array
        (
            [supID] => 2
            [supName] => Sparks
            [prods] => Array
                (
                    [0] => Array
                        (
                            [pID] => 7
                            [sku] => 7
                            [pName] => Term Block
                            [cat] => Electrical
                            [desc] => Nylon connector block.
                            [stock_level] => 3
                            [reOrdLev] => 5
                            [reOrdQty] => 20
                            [vat_exempt] => 0
                            [lastorderdate] => 
                            [lastorderqty] => 
                            [qty_in_outer] => 1
                            [cost_per_outer] => 60.00
                        )

                    [1] => Array
                        (
                            [pID] => 5
                            [sku] => 5
                            [pName] => Electrical Tape
                            [cat] => Electrical
                            [desc] => Black
                            [stock_level] => 12
                            [reOrdLev] => 20
                            [reOrdQty] => 100
                            [vat_exempt] => 0
                            [lastorderdate] => 
                            [lastorderqty] => 
                            [qty_in_outer] => 1
                            [cost_per_outer] => 39.00
                        )

                )

        )

    [1] => Array
        (
            [supID] => 9
            [supName] => Prime Plumbing Inc.
            [prods] => Array
                (
                    [0] => Array
                        (
                            [pID] => 6
                            [sku] => 6
                            [pName] => BlowGas
                            [cat] => Plumbing
                            [desc] => 400g Canister
                            [stock_level] => 6
                            [reOrdLev] => 15
                            [reOrdQty] => 60
                            [vat_exempt] => 0
                            [lastorderdate] => 
                            [lastorderqty] => 
                            [qty_in_outer] => 1
                            [cost_per_outer] => 142.00
                        )

                )

        )

    [2] => Array
        (
            [supID] => 12
            [supName] => Trade Plumbing Supplies Inc.
            [0] => Array
                (
                    [0] => Array
                        (
                            [pID] => 1
                            [sku] => 1
                            [pName] => PTFE Tape
                            [cat] => Plumbing
                            [desc] => 10mm x 3m
                            [stock_level] => 9
                            [reOrdLev] => 10
                            [reOrdQty] => 50
                            [vat_exempt] => 0
                            [lastorderdate] => 
                            [lastorderqty] => 
                            [qty_in_outer] => 1
                            [cost_per_outer] => 24
                        )

                    [1] => Array
                        (
                            [pID] => 14
                            [sku] => 14
                            [pName] => Antique Tap Set
                            [cat] => Plumbing
                            [desc] => Gold/Ceramic bathroom set.
                            [stock_level] => 2
                            [reOrdLev] => 2
                            [reOrdQty] => 3
                            [vat_exempt] => 0
                            [lastorderdate] => 
                            [lastorderqty] => 
                            [qty_in_outer] => 1
                            [cost_per_outer] => 2800.00
                        )

                )

        )

) 
```

我试图最终得到一个已达到再订购水平的产品列表，按供应商分组，但脚本似乎停滞不前，`for(var j = 0; j < data[i].prods.length; j++) {`但只有在多次迭代该行之后。似乎`data[i].prods`错误地报告了的长度，可能是因为 JSON 格式错误？

请参阅[jsfiddle](http://jsfiddle.net/snowweb/7FDFW/7/)。

**更新**
在@Yogesh 指出我正确的方向之后，我已更新如下。

我已经改为`$supArr[] = (array)$prodsArr;`在`$supArr[prods] = (array)$prodsArr;`服务器端阵列构造。

这样做之后，一切都很好。[在这里](http://jsfiddle.net/snowweb/7FDFW/10/)查看 jsfiddle以及正确生成的数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:03:56.247

您的数组的第三个元素不包含`prods`数组，请参见此处

```
[2] => Array
    (
        [supID] => 12
        [supName] => Trade Plumbing Supplies Inc.
        [0] => Array
         ^// its 0 not prods

[1] => Array
    (
        [supID] => 9
        [supName] => Prime Plumbing Inc.
        [prods] => Array
           ^// its prods 
```

并因此错误地报告了 data[i].prods 的长度。

您在`if`这里有条件，因此`prods`不适用于所有阵列

```
if ($i !== 0) {

        // Append $prodsArr to current $supArr
        $supArr['prods'] = (array)$prodsArr; 
```

# regex - 如何在 Perl 中打印出正数或负数？

> ID：15492327
> 
> 赞同：0
> 
> 时间：2013-03-19T05:47:49.670
> 
> 标签：regex, perl

我试图通过正则表达式在字符串中查找正数和负数。我已经得到了一个正则表达式模式，但是我如何为负数吐出一个负号？我知道我可以有两个`if`语句，但我想知道是否有正则表达式快捷方式。

```
my $number = 'I have a number that is a-32.10a';

if($number =~ /[-]?(\d+)(\.?(\d+))/){
    print "Number: $1$2\n";
}else{
    print "No match\n";
} 
```

仅返回 32.10；我也想要`-`退货。

相反，如果`$number`是一个整数，例如`= 234`，我怎样才能只打印出整数并打印`no match`小数？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T05:54:20.633

您没有将 optional 包含`-`在您的捕获组中。

此代码有效：

```
my $string = 'I have a number that is a-32.10a';

my ($number) = ($string =~ /(-?\d+\.?\d+)/);

if (defined $number) {
    print "Number: $number\n";
} else {
    print "Not a number!\n";
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-19T05:55:03.697

要得到`-`你为什么不直接使用`/(-?\d+\.?\d+)/`？为什么你打印一个“整数”而 -32.10 实际上不是？

# image-processing - 如何从像素偏移中获得平滑的速度和加速度

> ID：15492340
> 
> 赞同：0
> 
> 时间：2013-03-19T05:49:05.387
> 
> 标签：image-processing, tracking, spline

我正在研究一种可移动的传感器，它可以跟踪（跟随）飞行物体。我以特定的帧间隔（dt=40ms）进行简单的图像处理，在此期间我找到了对象到中心的距离（dx）并计算速度（v=dx/dt）和加速度（a=dv/dt）并给出a,v 到移动平台的命令。

但是我发现由于噪声而难以计算速度，它给出了错误的值。我正在跟踪的对象的路径主要是抛物线/线性但速度非常快。为了平滑这个速度，我使用了三次 B 样条，但没有显着改善。

有什么建议么..

立方 b

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:03:20.017

看起来你的帧速率是 25fps 并且足以跟踪物体。为了减少噪声的影响，你可以尝试应用一个简单的噪声滤波器，如高斯。当然，这可能会带来一些性能问题，但您可以仅在最后一帧检测到的对象区域尝试此过滤操作，希望您能得到更准确的结果。

# vb.net - 使用 shell 32 解压缩 vb.net 上的“文件存在”错误

> ID：15492342
> 
> 赞同：0
> 
> 时间：2013-03-19T05:49:10.953
> 
> 标签：vb.net

请帮助...当我尝试解压缩文件夹时出现错误“文件存在”。起初，代码工作正常，但后来我遇到“文件存在”这是我的代码：

```
Private Sub unzip(ByVal Source As String, ByVal Output As String)
    Dim m_Sc As New Shell32.Shell
    If Directory.Exists(Output) Then
        Directory.Delete(Output)
    End If
    Dim m_Output As Shell32.Folder = m_Sc.NameSpace(Output)
    Dim m_Source As Shell32.Folder = m_Sc.NameSpace(Source)
    m_Output.CopyHere(m_Source.Items, 4)
End Sub 
```

我正在使用 vb.net(3.5) 2008 在此先感谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-21T09:54:46.850

我找到了我的问题的答案（感谢stackoverflow）

问题：当我反复解压缩同一个文件时，它会在临时目录中创建提取文件的副本。如果临时目录已达到其限制（99 个副本），则它会导致错误“文件存在”。

临时目录位置：“C:\Documents and Settings（您的用户帐户）\Local Settings\Temp”。

您可以使用 (My.Computer.FileSystem.SpecialDirectories.Temp) 或 (Environment.GetEnvironmentVariable("TEMP")) 在 .net 中访问它们。

解决方案：在解压缩（提取）文件之前，我首先删除临时文件夹中的先前副本。这是我清除临时目录的代码：

```
Sub CleanUpTemporaryFiles()
    Dim m_StrTemporaryDirectory As String = ""

    'Get the Temporary folder directory
    m_StrTemporaryDirectory = Environment.GetEnvironmentVariable("TEMP")
    If Directory.Exists(m_StrTemporaryDirectory & _
                        "\Temporary Directory 1 for " & _
                        m_ApplicationName & ".zip\") Then

        Dim directory As String = m_StrTemporaryDirectory & _
                                 "\Temporary Directory 1 for " & _
                                  m_ApplicationName & ".zip\" & _
                                  m_ApplicationName

        Dim dirInfo As New DirectoryInfo(directory)
        'Loop on all the files
        For Each f In IO.Directory.GetFiles(directory, "*.*", SearchOption.AllDirectories)
            'Change the the file attribute to not read only so that it will not get an error deleting the file

            File.SetAttributes(f.ToString, File.GetAttributes(f.ToString) _
                               Xor FileAttributes.ReadOnly Or FileAttributes.Hidden)
            'Delete the file
            File.Delete(f)
        Next

        If System.IO.Directory.Exists(My.Computer.FileSystem.SpecialDirectories.Temp & _
                                      "\Temporary Directory 1 for " & m_ApplicationName & ".zip") Then

            System.IO.Directory.Delete(My.Computer.FileSystem.SpecialDirectories.Temp & _
                                       "\Temporary Directory 1 for " & m_ApplicationName & ".zip", True)

        End If
    End If
End Sub 
```

我不太擅长解释事情，但如果您有任何问题或建议，请随时发表评论。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:27:04.813

在这一行

```
m_Output.CopyHere(m_Source.Items, 4) 
```

如果将其更改为值 16 会发生什么？

```
m_Output.CopyHere(m_Source.Items, 16) 
```

如果文件已经存在，它会覆盖文件吗？

# java - 浏览器后退按钮支持

> ID：15492351
> 
> 赞同：0
> 
> 时间：2013-03-19T05:49:54.430
> 
> 标签：java, spring, browser

单击浏览器后退按钮后，它会发送一个发布请求，并且浏览器不允许它再次发送一个发布请求，并显示一个确认重新提交页面如何在 java 中使用 spring 框架避免此页面。

发布请求代码如下..

```
@RequestMapping(method = RequestMethod.POST, params = "action=search_by_name")
public ModelAndView searchByName(@RequestParam("contactName") String contactName, HttpSession session, WebRequest request) {
    ModelAndView mav = new ModelAndView(determineSearchSummaryView(request));

    ContactSearchHelper helper = new ContactSearchHelper(contactName);

    // After all the selections they made lets filter out based on the limited Territories
    CustomerUser user = (CustomerUser) userService.getLoggedInUser();
    helper.preFilterTerritories(user.getTerritories());

    EntitySearchCriteria criteria = helper.asCriteria(searchService);
    addSummaryCounts(mav, criteria, searchService);

    Long savedSearchId = searchService.save(criteria, SavedSearchType.CONTACT, false).getId();
    helper.setSavedSearchId(savedSearchId);
    session.setAttribute(getSearchHelperParam(), helper);
    session.setAttribute("contactDiscovery", "false");
    addAccordionData(mav, null);
    addExtraModelData(mav);
    return mav;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:27:02.973

您只[需要在发布到某个 URL 后使用重定向](http://en.wikipedia.org/wiki/Post/Redirect/Get)。您可以使用[`redirect:`前缀](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-redirecting-redirect-prefix)或使用[`RedirectView`](http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/web/servlet/view/RedirectView.html).

# java - 由星号拆分的正则表达式 Java 字符串

> ID：15492353
> 
> 赞同：17
> 
> 时间：2013-03-19T05:50:04.153
> 
> 标签：java, regex, string, split

需要帮助。

```
line.split("*"); 
```

我使用这行代码将字符串拆分为星号标记。但是，我的编译器出现错误。它说，“无效的正则表达式：悬空元字符'*'”

如何解决这个问题？提前致谢。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-03-19T05:51:04.930

`*`在正则表达式中有特殊含义。你必须逃避它。

```
line.split("\\*"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T05:52:17.437

试试这个说法：

```
line.split("\\*"); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-19T05:54:59.043

这是因为您使用了“*”，即正则表达式。如果你想使用这个角色，你需要你放这样的东西：

```
line.split("\\*"); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-19T06:00:46.407

*****是正则表达式中的元字符。它用于匹配 0 个或多个元素。如果您想将*****用作普通字符而不是特殊字符（即跳过其作为元字符的行为），则在它之前添加转义字符。

例如：`String[] split = line.split("\\*");`

希望这可以帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-02-23T16:46:37.590

用这个

" 字符串数据 = "Mani*Kum";

```
String []value= data.split("\\*"); 
```

" 输出将是这样的：

```
value[0]= "Mani";
value[1]= "Kum"; 
```

# windows - 在 Inno Setup 中验证用户密码

> ID：15492357
> 
> 赞同：2
> 
> 时间：2013-03-19T05:50:13.687
> 
> 标签：windows, inno-setup

我的要求是验证用户输入的密码是他登录时使用的正确密码。所以，我写了下面的代码，但它总是说“未登录”。有什么帮助吗？

```
var
    DomainName,UserName,BackwardSlashString,DomainUserName : String;
    ServerDetailsInputPage : TInputQueryWizardPage;
    hToken, LoginOk : INTEGER; 

function LogonUser(lpszUsername,lpszDomain,lpszPassword: string; 
    dwLogonType,dwLogonProvider: INTEGER; var hToken: INTEGER): INTEGER;
external 'LogonUserA@advapi32.dll stdcall';

procedure InitializeWizard();
begin
    DomainName:= ExpandConstant(GetEnv('USERDOMAIN'));
    UserName := ExpandConstant( +GetUserNameString);
    BackwardSlashString := '\'
    DomainUserName := DomainName + BackwardSlashString + UserName;
    ServerDetailsInputPage := 
       CreateInputQueryPage(wpWelcome,'','','Please enter following data and click Next.');
    ServerDetailsInputPage.Add('IP Address',False);
    ServerDetailsInputPage.Add('Port Number',False);
    ServerDetailsInputPage.Add('Domain Name\User Name',False);
    ServerDetailsInputPage.Add('Password',True);
    ServerDetailsInputPage.Values[1] := '80';
    ServerDetailsInputPage.Values[2] := DomainUserName;
end;

function RunAsUser(): BOOLEAN; 
var
    Passwd : String;
begin
    DomainName := ExpandConstant(GetEnv('USERDOMAIN'));
    UserName := ExpandConstant( +GetUserNameString);
    Passwd := ServerDetailsInputPage.Values[3];
    LoginOk := LogonUser(UserName,DomainName,Passwd,1,0,hToken); 
    if (not (LoginOk=0)) then
    begin
        MsgBox('successfully logged-in', mbInformation, MB_OK);
        Result := true;
    end

    else if (LoginOk=0) then
    begin
        MsgBox('Not logged-in', mbInformation, MB_OK);
        Result := false;
    end;
end;

function NextButtonClick(CurPageID: Integer): Boolean;
begin
    Result := True;

    if CurPageID = ServerDetailsInputPage.ID then
    begin
        if not RunAsUser then
        begin
            MsgBox('Please enter correct Password!', mbError, MB_OK);
            Result:=False;
        end;
    end;
end;

function InitializeSetup(): Boolean;
var
    PrevInstallPath : String;
    ResultCode : Integer;
    FXStopStatus : Boolean;
begin
    Result:=True;
end; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T14:35:53.423

起初，您的[`LogonUser`](https://msdn.microsoft.com/en-us/library/windows/desktop/aa378184.aspx)函数原型及其调用都是错误的。您不能混合函数原型的数据类型，也不能在函数调用中使用任意值。你可以改用这样的东西：

```
[Code]
#ifdef UNICODE
  #define AW "W"
#else
  #define AW "A"
#endif
const  
  LOGON32_LOGON_INTERACTIVE = 2;
  LOGON32_LOGON_NETWORK = 3;
  LOGON32_LOGON_BATCH = 4;
  LOGON32_LOGON_SERVICE = 5;
  LOGON32_LOGON_UNLOCK = 7;
  LOGON32_LOGON_NETWORK_CLEARTEXT = 8;
  LOGON32_LOGON_NEW_CREDENTIALS = 9;

  LOGON32_PROVIDER_DEFAULT = 0;
  LOGON32_PROVIDER_WINNT40 = 2;
  LOGON32_PROVIDER_WINNT50 = 3;

  ERROR_SUCCESS = 0;
  ERROR_LOGON_FAILURE = 1326;

function LogonUser(lpszUsername, lpszDomain, lpszPassword: string;
  dwLogonType, dwLogonProvider: DWORD; var phToken: THandle): BOOL;
  external 'LogonUser{#AW}@advapi32.dll stdcall';

var
  ServerDetailsPage: TInputQueryWizardPage;

function TryLogonUser(const Domain, UserName, Password: string; 
  var ErrorCode: Longint): Boolean;
var
  Token: THandle;
begin
  Result := LogonUser(UserName, Domain, Password, LOGON32_LOGON_INTERACTIVE,
    LOGON32_PROVIDER_DEFAULT, Token);
  ErrorCode := DLLGetLastError;
end;

procedure InitializeWizard;
var
  UserName: string;
begin
  UserName := AddBackslash(GetEnv('USERDOMAIN')) + GetUserNameString;
  ServerDetailsPage := CreateInputQueryPage(wpWelcome, 
    '', '', 'Please enter following data and click Next.');
  ServerDetailsPage.Add('IP Address', False);
  ServerDetailsPage.Add('Port Number', False);
  ServerDetailsPage.Add('Domain Name\User Name', False);
  ServerDetailsPage.Add('Password', True);
  ServerDetailsPage.Values[1] := '80';
  ServerDetailsPage.Values[2] := UserName;
end;

procedure ParseDomainUserName(const Value: string; var Domain,
  UserName: string);
var
  DelimPos: Integer;
begin
  DelimPos := Pos('\', Value);
  if DelimPos = 0 then
  begin
    Domain := '.';
    UserName := Value;
  end
  else
  begin
    Domain := Copy(Value, 1, DelimPos - 1);
    UserName := Copy(Value, DelimPos + 1, MaxInt);
  end;
end;

function ServerDetailsLogonUser: Boolean; 
var
  Domain: string;
  UserName: string;
  Password: string;
  ErrorCode: Longint;
begin
  ParseDomainUserName(ServerDetailsPage.Values[2], Domain, UserName);
  Password := ServerDetailsPage.Values[3];
  Result := TryLogonUser(Domain, UserName, Password, ErrorCode);

  case ErrorCode of
    ERROR_SUCCESS:
      MsgBox('Logon successful!', mbInformation, MB_OK);
    ERROR_LOGON_FAILURE:
      MsgBox('The user name or password is incorrect!', mbError, MB_OK);
  else
    MsgBox('Login failed!' + #13#10 + SysErrorMessage(DLLGetLastError),
      mbError, MB_OK);
  end;
end;

function NextButtonClick(CurPageID: Integer): Boolean;
begin
  Result := True;

  if CurPageID = ServerDetailsPage.ID then
    Result := ServerDetailsLogonUser;
end; 
```

# c# - 从目录或文件夹中检索文本文件数据到 sql 中的特定数据库字段

> ID：15492359
> 
> 赞同：-1
> 
> 时间：2013-03-19T05:50:18.383
> 
> 标签：c#, sql-server, winforms

我想从目录中检索文本文件数据到 sql 中的特定数据库字段。这是一个代码：

```
try
{
    FolderBrowserDialog fBrowser = new FolderBrowserDialog();
    //create instance of folder browser to navigate to desired folder to compress files
    DialogResult result = fBrowser.ShowDialog();
    //process this if user clicks OK button
    if (result == DialogResult.OK)
    {
       //string strPath stores chosen path
       strPath = fBrowser.SelectedPath;
       //put that path in the textbox1
       txtSource.Text = strPath;
    }
    //set current directory to be the one you navigated to 
    //(this is also the folder that will store the compressed file)
    Directory.SetCurrentDirectory(strPath);
    //get contents of directory stored in "strPath"
    DirectoryInfo di = new DirectoryInfo(strPath);
    //create array that holds requested files from folder stored in "di" variable
    DirectoryInfo[] rgFiles = di.GetDirectories("*.*");
    //move through DirectoryInfo array and store in new array of fi
    foreach (DirectoryInfo fi in rgFiles)
    {
       checkedListBox1.Items.Add(fi.Name); //add folders located into listbox
    }
} 
```

这里的目录不包含。对于图像和 txt 文件，如果我们选择复选框，则 txt 文件中的所有数据都应添加到与其数据类型相关的特定 sql 数据库中。谁能帮我吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T09:05:00.150

要检查目录是否有文件，您可以使用名为“Directory”的 System.IO 类及其方法“GetFiles”。您需要做的就是传入目录的路径。它将返回该目录中文件的字符串数组。详细信息可以在这里找到：

[http://msdn.microsoft.com/en-us/library/07wt70x2.aspx](http://msdn.microsoft.com/en-us/library/07wt70x2.aspx)

最好的办法是在数据库中创建一个可以处理传入请求的存储过程，并将数据插入到正确的表中。下面介绍一下Sql-Server存储过程：

[http://msdn.microsoft.com/en-us/library/aa174792(v=sql.80).aspx](http://msdn.microsoft.com/en-us/library/aa174792(v=sql.80).aspx)

然后，您需要在 C# 代码中创建与数据库的连接：

[http://msdn.microsoft.com/en-us/library/s4yys16a(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/s4yys16a(v=vs.71).aspx)

最后，您需要使用刚刚创建的连接调用存储过程，并从 C# 代码中传递参数，这在 StackOverflow 上已多次回答：

[如何在 C# 程序中执行存储过程](https://stackoverflow.com/questions/1260952/how-to-execute-a-stored-procedure-from-c-sharp-program)

# httpwebrequest - 如何发送http请求c#

> ID：15492366
> 
> 赞同：0
> 
> 时间：2013-03-19T05:50:59.993
> 
> 标签：httpwebrequest, load-balancing, web-farm

我们有网络农场架构。负载均衡器正在维护所有请求。我想向我选择的服务器发送一个 http 请求。但由于负载均衡器，我无法这样做。我在 Windows 应用程序中执行此操作。您能否建议绕过负载均衡器的方法？

谢谢 AR

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T05:52:20.923

将您的数据发布到服务器的 IP，而不是负载均衡器。这意味着我希望服务器本身可以从 Web 访问，而不仅仅是通过负载均衡器。

# ios - IOS中的Unicode代理对？

> ID：15492369
> 
> 赞同：-1
> 
> 时间：2013-03-19T05:51:11.650
> 
> 标签：ios, xcode, unicode, ios6, surrogate-pairs

我有一个代理对，示例如下：

\ud83d\ude04

我想知道如何获取相应的值值，如“1F604”

任何示例代码？

任何帮助将是明显的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T07:31:26.310

要将代理对转换为 UTF-32 字符或代码点值，请使用[`CFStringGetLongCharacterForSurrogatePair`](https://developer.apple.com/library/mac/documentation/CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/func/CFStringGetLongCharacterForSurrogatePair). 例如：

```
UniChar high = 0xd83d;
UniChar low = 0xde04;

UTF32Char c = CFStringGetLongCharacterForSurrogatePair(high, low); 
```

# android - textsize 在 android webview 上增加

> ID：15492371
> 
> 赞同：0
> 
> 时间：2013-03-19T05:51:24.997
> 
> 标签：android, android-webview, text-size

我必须开发一个 android webview 应用程序。

这是从该 webview 获取文本。

单击imageview时如何增加这些webview上的textsize？？？

这是我的网页视图代码：

```
String fullcontent = in.getStringExtra("FullContent");

 content.loadDataWithBaseURL(null,fullcontent, "text/html", "UTF-8",null); 
```

在这里我有一个图像视图。我必须单击这些图像视图，这意味着文本大小会自动增加。我该如何开发这些？？？？

```
ImageView positive = (ImageView) findViewById(R.id.imageView3);
  positive.setOnClickListener(new OnClickListener() {
 public void onClick(View v) {
WebSettings webSettings = fullcontent.getSettings();
webSettings.setTextSize(WebSettings.TextSize.SMALLEST);
       }  
}); 
```

这里 webview 文本最小。但我希望显示文本在单击 imgaeview 时自动增加。

请给我一些想法来开发这些......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:07:59.427

试试下面的代码希望对你有用： -

```
int text_size=16;

ImageView positive = (ImageView) findViewById(R.id.imageView3);
positive.setOnClickListener(new OnClickListener() {
public void onClick(View v) {
text_size++;
webview.getSettings().setDefaultFontSize(text_size);
   }  
}); 
```

这是在 webview 中设置文本大小的代码：-

```
webview.getSettings().setDefaultFontSize(22); 
```

# c - 用 libgit2 实现“git pull”？

> ID：15492375
> 
> 赞同：7
> 
> 时间：2013-03-19T05:51:40.347
> 
> 标签：c, git, libgit2

我有[一个相对较短的 Gist](https://gist.github.com/nathan-osman/5157055)应该用来`libgit2`模拟`git pull`命令的功能。不幸的是，它并不完全有效。

总之，片段：

*   调用[`git_repository_open()`](http://libgit2.github.com/libgit2/#HEAD/group/repository/git_repository_open)以打开磁盘上的存储库
*   调用[`git_remote_load()`](http://libgit2.github.com/libgit2/#HEAD/group/remote/git_remote_load)以获取`git_remote *`名为“origin”的远程
*   [`git_remote_connect()`](http://libgit2.github.com/libgit2/#HEAD/group/remote/git_remote_connect)用`GIT_DIRECTION_FETCH`国旗打电话
*   [`git_remote_download()`](http://libgit2.github.com/libgit2/#HEAD/group/remote/git_remote_download)从远程获取对象的调用

根据[`git_remote_stats()`](http://libgit2.github.com/libgit2/#HEAD/group/remote/git_remote_stats)，确实正在获取对象。但是工作目录不会改变以反映最新的提交。我尝试添加：

```
git_checkout_head(repo, NULL); 
```

……但这并没有什么不同。

输入：

```
git结账大师
```

...在终端中产生以下输出：

```
已经在“大师”上
您的分支落后于 'origin/master' 1 次提交，并且可以快进。
```

如何快进？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T07:01:38.457

你应该跑`git pull origin master`

或者

`git fetch origin`+`git merge origin/master`

然后意味着您需要等效的 libgit2 合并功能。

合并功能在 libgit2 v0.20 中可用

# c#-4.0 - 如何使用 Windows Phone 7 中的 Web 浏览器控件从 xml 文件中获取 html 文件？

> ID：15492379
> 
> 赞同：0
> 
> 时间：2013-03-19T05:51:53.937
> 
> 标签：c#-4.0, xml-parsing, linq-to-xml, webbrowser-control

嗨，下面给出的是使用 xml 文件。我想显示数据 web 视图。如何在 windows phone 7 中获取 web 视图？

```
<Articles>
   <articles title="photos">
       <Description>
          Hottie Mallika Sherawat speaks about the men whom she’s over the moon about
       </Description>
       <Fullcontent>
          <style> img {padding:2px;} </style><p> <img alt="Mallika Sherawat" pimcore_disable_thumbnail="true" pimcore_id="5853" pimcore_type="asset" src="http://dev2.mercuryminds.com/bolly/feb2013/bolly---mallika-sherawat-s-upcoming-movie-dirty-politics/90_mallika-sherawat_bolly.jpg" style="width: 500px; height: 370px; float: left;" /></p>
          <p> Actress Mallika Sherawat is all set to begin shooting for&nbsp;<em>Dirty Politics</em>&nbsp;where she plays Bhanwari Devi, a nurse whose murder hit the headlines last year. Meanwhile, she gets talking on&nbsp;Hollywood where she has not really had any meaty roles. She does not seem to care though. “It’s not important to play full length roles. Being recognised for playing whatever I did makes me feel proud.”&amp;nbsp;</p>
       </Fullcontent>
     </articles>
     <articles> 
        <Description> 
           <p> Legendary singer <strong>Asha Bhosle</strong> has added yet another feather to her cap with her acting debut in Mai. She plays the lead role of a woman abandoned by her son. 
        </Description> 
        <Fullcontent> 
          <div id="container" class="cf"> 
           <link rel="stylesheet" href="http://dev2.mercuryminds.com/imageslider/app/css/demo.css" type="text/css" media="screen" />
           <link rel="stylesheet" href="http://dev2.mercuryminds.com/imageslider/app/css/flexslider.css" type="text/css" media="screen" />
           <div id="main" role="main"> <section class="slider"> 
           <div class="flexslider"> 
           <ul class="slides">
             <li>Sonam Kapoor<img src="http://dev2.mercuryminds.com/website/var/tmp/thumb_5814_1_sonam-kapoor_01feb2013__appfeed.jpeg" alt="Sonam Kapoor"/></li> 
             <li>Sridevi<img src="http://dev2.mercuryminds.com/website/var/tmp/thumb_5815_2_sridevi_01feb2013__appfeed.jpeg" alt="Sridevi"/></li> 
        </Fullcontent> 
     </articles> 
 </Articles> 
```

我想使用 Windows Phone 7 的 Web 浏览器控件显示来自 xml 文件的 Fullcontent 标记的 Web 视图。请帮我一个...，谢谢提前。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T10:34:27.493

你或许可以以此为起点

[http://msdn.microsoft.com/en-us/library/ff402601(v=VS.92).aspx](http://msdn.microsoft.com/en-us/library/ff402601(v=VS.92).aspx)

[http://blogs.msdn.com/b/dohollan/archive/2010/08/25/adventures-with-the-windows-phone-7-webbrowser-control.aspx](http://blogs.msdn.com/b/dohollan/archive/2010/08/25/adventures-with-the-windows-phone-7-webbrowser-control.aspx)

从 XML 创建 html 字符串后，您可以执行

```
webBrowser1.NavigateToString(html); 
```

并且为了处理您的 XML 文件，因为这只是一个基本的 XML 文件，您可以执行类似的操作。

```
 var xDoc = XDocument.parse("[YOUR XML STRING]");
    var articles = xDoc.Root.Elements("articles").select(e=>new {
     desc = e.Element("Description").Value,
     fullContent = e.Element("FullContent").Value

}); 
```

# jquery - jquery 开窗器不起作用

> ID：15492389
> 
> 赞同：0
> 
> 时间：2013-03-19T05:52:30.543
> 
> 标签：jquery, input, window, window.opener

```
<script type="text/javascript" charset="utf-8">
function PreviewContent(lang) {
    window.open("<?php echo base_url('system/pages/preview/about/') ?>" + lang, "ckeditor_preview", "location=0,status=0,scrollbars=1,width=980,height=600");
}

</script>

<tr>                                            
<td valign="top"><?php echo lang('label_content'); ?></td><td>
                                             <?php                                              echo $this->ckeditor->editor("content[$lang_k]", $text->content);                   ?>                                          
<input type="button" value="Preview Content" onclick="PreviewContent('/<?php echo $lang_k;    ?>');" /></td> 
```

打开窗口脚本是

```
<script>
$().ready(function() {
$('.preview_content').html(window.opener.jQuery("input[name=content]<?php echo $p_lang; ?>").value);
});    
</script>

<div class="preview_content"></div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T05:56:07.577

更正。

*   `$(document).ready`
*   `input[name="content"]`
*   `content['".$lang_k.".]`

    `$('.preview_content').html(window.opener.jQuery("input[name="content"]<?php echo $p_lang; ?>").value);`

`.html()`用于在选定元素内设置 HTML。

# java - 在 Android 中移动形状

> ID：15492390
> 
> 赞同：1
> 
> 时间：2013-03-19T05:52:36.227
> 
> 标签：java, android, shape

我试图找出在android中从屏幕顶部向下移动一个矩形的最佳方法，因为我试图制作一个俄罗斯方块克隆，但我不知道为什么android不喜欢计时器。所以，如果你们能帮助我找出将这个矩形从上到下移动的最佳方法，那将是可怕的

在这段代码中，我创建了一个出现矩形的游戏屏幕，但是当我尝试用计时器移动它时它不起作用

```
package 
com.example.coloroblind;

import java.util.Timer;

import android.app.Activity;
import android.content.Context;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.RectF;
import android.net.wifi.p2p.WifiP2pManager.ActionListener;
import android.os.Bundle;
import android.view.View;

public class GameView extends Activity {

    int x=20,y=20,changeX=2,changeY=2;
     boolean reverseX=false,reverseY=false;

     @Override public void onCreate(Bundle savedInstanceState){
        super.onCreate(savedInstanceState);
        //setContentView(R.layout.game);
        setContentView(new DrawView(this));
    }

    public class DrawView extends View{

        public DrawView(Context context){
            super(context);

        }
         Timer timer = new Timer(10,new TimerListener());
         timer.start();

    @Override public void onDraw(Canvas canvas){
        super.onDraw(canvas);

        //fill the screen with white
        Paint paint = new Paint();
        paint.setAntiAlias(true);
        canvas.drawColor(Color.WHITE);

        //draw a rect
        paint.setColor(Color.GREEN);

        RectF rect = new RectF(x,y,50,50);

        canvas.drawRoundRect(rect, 6, 6, paint);

        int start = ((int)Math.random())*4;

       x+=changeX;
       y+=changeY;
       if(y>getHeight()){
       changeY=-1*changeY;
       reverseY=true;
       }
       if((reverseY==true)&&(y<0)){
       reverseY=false;
       changeY=-1*changeY;
       }
       if(x>getWidth()){
       changeX=-1*(changeX);
       reverseX=true;
       }
       if((reverseX==true)&&(x<0)){
       changeX=-1*(changeX);
       reverseX=false;
       }

    }
      class TimerListener implements ActionListener{
           public void actionPerformed(ActionEvent e){
           repaint();

           }

        @Override
        public void onFailure(int arg0) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onSuccess() {
            // TODO Auto-generated method stub

        }

       }

}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:47:07.413

您使用 Timer 的方式不适用于 Android。没有像这样的构造函数`Timer(10,new TimerListener())`

使用 Timer 的最快方法在下面的代码片段中：

```
Timer t = new Timer();
t.schedule(new TimerTask() {
    @Override
    public void run() {

    }
}, _delay, _period); 
```

# ruby-on-rails - Rails4 Rake：测试错误

> ID：15492391
> 
> 赞同：0
> 
> 时间：2013-03-19T05:52:37.507
> 
> 标签：ruby-on-rails, mongoid, rake, ruby-on-rails-4

经过最近的更新测试不工作。Ruby 2.0.0-p0，rails 4.0.0beta1，mongoid 4.0.0。

```
/Users/doniv/.rvm/gems/ruby-2.0.0-p0@global/gems/rake-10.0.3/lib/rake/task_manager.rb:49:in `[]': Don't know how to build task 'db:test:load' (RuntimeError)
from /Users/doniv/.rvm/gems/ruby-2.0.0-p0@global/gems/rake-10.0.3/lib/rake/task.rb:321:in `[]'
from /Users/doniv/.rvm/gems/ruby-2.0.0-p0/bundler/gems/rails-f0d5e32f891d/railties/lib/rails/commands/test_runner.rb:103:in `initialize'
from /Users/doniv/.rvm/gems/ruby-2.0.0-p0/bundler/gems/rails-f0d5e32f891d/railties/lib/rails/commands/test_runner.rb:18:in `new'
from /Users/doniv/.rvm/gems/ruby-2.0.0-p0/bundler/gems/rails-f0d5e32f891d/railties/lib/rails/commands/test_runner.rb:18:in `start'
from /Users/doniv/.rvm/gems/ruby-2.0.0-p0/bundler/gems/rails-f0d5e32f891d/railties/lib/rails/commands.rb:90:in `<top (required)>'
from bin/rails:4:in `require'
from bin/rails:4:in `<main>' 
```

任何的想法？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-24T20:35:52.173

无效的：

```
gem 'rails', '~> 4.0.0.beta', :git => 'git://github.com/rails/rails.git'  
...
gem 'sass-rails',   '~> 4.0.0.beta', :git => 'git://github.com/rails/sass-rails.git'
gem 'coffee-rails', '~> 4.0.0.beta', :git => 'git://github.com/rails/coffee-rails.git' 
```

有效的：

```
gem 'rails', '~> 4.0.0.beta'  
...   
gem 'sass-rails',   '~> 4.0.0.beta'
gem 'coffee-rails', '~> 4.0.0.beta' 
```

# python - Decorator + Reflection 可以选择性地创建代表单个函数调用链的对象树吗？

> ID：15492392
> 
> 赞同：1
> 
> 时间：2013-03-19T05:52:38.457
> 
> 标签：python

鉴于：

```
G = []

@Track
def f(x):
  a = g(x)
  b = h(x + 2)
  return a + b

def g(x)
  for n in range(2):
    i(x + n)

@Track
def h(x):
  return j(x) + 9

@Track
def i(x):
  return x + 10

@Track
def j(x):
  return 0 
```

是否可以为 f、h、i、j 编写和应用装饰器轨道，它将在每次调用 f、h、i 和 j 时：

*   实例化一个包含函数名称“f”、“h”、“i”以及 arg 和返回值的“Call”对象
*   使用反射来搜索最近调用它的类似装饰的函数（直接或间接），即它会将调用传递给 g()，因为那不是 @Tracked。
*   将上述 'Call' 对象附加到调用者的 'Call' 对象上的 'children' 列表中，如果没有找到合适的调用者，则附加到全局列表 G

对于代码：

```
f(3)
j(3) 
```

这应该创建以下连接对象树：

```
G
 -- Call(name='f',args=..., return=...)
    -- Call(name='i',args=..., return=...)
    -- Call(name='i',args=..., return=...)
    -- Call(name='i',args=..., return=...)
    -- Call(name='h',args=..., return=...)
      -- Call(name='j', args=..., return=...)
 -- Call(name='j', args=..., return=...) 
```

我被困在反射/遍历运行时堆栈帧部分。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:45:18.457

> 实例化一个包含函数名称“f”、“h”、“i”以及 arg 和返回值的“Call”对象

```
global_list_of_calls = defaultdict(list)

def Track(func):
    def _tracked(*args, **kwargs):
        res = func(*args, **kwargs)
        c = Call(func.__name__, args, kwargs, res)
        # do something with c, store it in a global container
        global_list_of_calls.append(c)
        return res
    return _tracked 
```

> 使用反射来搜索最近调用它的类似装饰的函数（直接或间接），即它会将调用传递给 g()，因为那不是 @Tracked。

[`traceback`](http://docs.python.org/2/library/traceback.html)在这里会有所帮助

> 将上述 'Call' 对象附加到调用者的 'Call' 对象上的 'children' 列表中，如果没有找到合适的调用者，则附加到全局列表 G

请记住，当您使用参数和返回值存储调用时，它们不会被垃圾收集并且您的内存会增长。此外，如果您存储可变对象（例如，列表），您稍后看到的`Call`可能与`Call`创建时的不同

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T07:06:20.937

形式上，结果是这样的

```
stack=[]
shift=0
def Track(func):
    def wrapper(*args, **kwargs):
        global shift
        stack.append([])
        el=stack[-1]
        el.append('%s -- call(name=%s,args=%s,kwargs=%s)' % ('    '*shift,func.__name__,args, kwargs))
        shift+=1
        res = func(*args, **kwargs)
        shift-=1
        el[0]+='return=%s)' % res
        return res
    return wrapper 
```

对于打印：

```
for i in stack: print i[0] 
```

显示

```
 -- call(name=f,args=(3,),kwargs={})return=10)
     -- call(name=i,args=(3,),kwargs={})return=13)
     -- call(name=i,args=(4,),kwargs={})return=14)
     -- call(name=h,args=(5,),kwargs={})return=9)
         -- call(name=j,args=(5,),kwargs={})return=0)
 -- call(name=j,args=(3,),kwargs={})return=0) 
```

但是有可能同意其他的traceback在这里会有帮助，虽然traceback没有显示调用参数

# hive - 从配置单元表中删除所有分区？

> ID：15492394
> 
> 赞同：14
> 
> 时间：2013-03-19T05:52:45.403
> 
> 标签：hive, elastic-map-reduce

如何删除 Hive 表中当前加载的所有分区？

我可以删除一个分区`alter table <table> drop partition(a=, b=...);`

我可以使用恢复分区语句加载*所有分区。*但我似乎无法删除所有分区。

我正在使用 EMR 支持的最新 Hive 版本 0.8.1。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-19T08:49:49.943

从 0.9.0 版开始，您可以在 drop partition 语句中使用[比较器](https://issues.apache.org/jira/browse/HIVE-2908)，该语句可用于一次删除所有分区。

一个示例，取自[drop_partitions_filter.q](https://svn.apache.org/repos/asf/hive/branches/branch-0.9/ql/src/test/results/clientpositive/drop_partitions_filter.q.out)测试用例：

```
create table ptestfilter (a string, b int) partitioned by (c string, d string);
alter table ptestfilter add partition (c='US', d=1);
alter table ptestfilter add partition (c='US', d=2);
alter table ptestFilter add partition (c='Uganda', d=2);
alter table ptestfilter add partition (c='Germany', d=2);
alter table ptestfilter add partition (c='Canada', d=3);
alter table ptestfilter add partition (c='Russia', d=3);
alter table ptestfilter add partition (c='Greece', d=2);
alter table ptestfilter add partition (c='India', d=3);
alter table ptestfilter add partition (c='France', d=4);

show partitions ptestfilter;
alter table ptestfilter drop partition (c>'0', d>'0');
show partitions ptestfilter; 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2014-11-08T01:11:34.007

Hive 允许您在选择分区时使用比较运算符（例如`>`, `<`, `=`, ）。`<>`例如，以下应该删除表中的所有分区。

```
ALTER TABLE table_name DROP PARTITION (partition_name > '0'); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-03T12:06:41.013

从现有表 t1 创建一个新表 t2，如下所示。

```
 create table t2 as
    select * from t1; 
```

删除旧表 t1

```
drop table t1; 
```

现在检查新表上是否有分区。

```
show partitions t2; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T13:01:15.997

使用原始表中的数据创建表：

```
CREATE TABLE t2 AS
SELECT column_name_1, ..., column_name_N FROM t1; 
```

唯一的情况是它应该在非严格模式下完成：

```
set hive.mapred.mode=nonstrict; 
```

我希望它有所帮助。GL！

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2016-02-12T10:38:32.977

```
truncate table table_name; 
```

将删除所有分区。如果您想删除分区表，这尤其有用。

# macos - 在 Mac 上覆盖系统 vim

> ID：15492397
> 
> 赞同：12
> 
> 时间：2013-03-19T05:53:12.037
> 
> 标签：macos, vim, homebrew, macvim

我通过`brew install macvim --override-system-vim`. 一切似乎都很好。当我`ls -lart`在`/usr/local/bin`这里做一个时，我得到的符号链接相对于`vim`：

```
vimex -> ../Cellar/macvim/7.3-66/bin/vimex      
vimdiff -> ../Cellar/macvim/7.3-66/bin/vimdiff
vim -> ../Cellar/macvim/7.3-66/bin/vim
view -> ../Cellar/macvim/7.3-66/bin/view
vi -> ../Cellar/macvim/7.3-66/bin/vi
mvimex -> ../Cellar/macvim/7.3-66/bin/mvimex
mvimdiff -> ../Cellar/macvim/7.3-66/bin/mvimdiff
mvim -> ../Cellar/macvim/7.3-66/bin/mvim
mview -> ../Cellar/macvim/7.3-66/bin/mview
gvimex -> ../Cellar/macvim/7.3-66/bin/gvimex
gvimdiff -> ../Cellar/macvim/7.3-66/bin/gvimdiff
gvim -> ../Cellar/macvim/7.3-66/bin/gvim
gview -> ../Cellar/macvim/7.3-66/bin/gview 
```

此外，运行`which vim`收益率`/usr/local/bin/vim`. 但是，当我`vim`从终端运行时，我会得到版本，`7.3`而不是直接`7.3.754`运行时得到的版本`/usr/local/Cellar/macvim/7.3-66/bin/vim`。我在这里缺少什么，因为它显然不一样。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-03-19T06:00:43.320

符号链接看起来不错。尝试重新启动您的终端。可能是一些缓存问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T12:54:44.053

系统 vim 在 /usr/bin 中。如果你的路径在 /usr/local/bin 之前有 /usr/bin，你会得到系统 vim。在终端中使用“echo $PATH”检查您的路径。

# android - 文本视图中的乌尔都语字体

> ID：15492398
> 
> 赞同：6
> 
> 时间：2013-03-19T05:53:16.057
> 
> 标签：android, textview, android-fonts

![在此处输入图像描述](../Images/9bbb3bf032abf9b3875675098fd0e44c.png)

我在**textview**中设置了 urdu并应用了 urdu**字体**，但只是逐字显示`ب ہ ن`

这是代码：

```
Typeface tf1 = Typeface.createFromAsset(this.getAssets(), "Urdu.ttf");
            TextView textView = (TextView)findViewById(R.id.textView1);
            textView.setTypeface(tf1);
            textView.setText("یہ انگریزی نہیں"); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T06:29:52.190

Asaalam-o-alakum bibi Tahira 您可以从此链接下载[urdu 字体](http://www.quran.or.kr/urdu/font/font_unicode2.htm)，我已经对其进行了测试。

谢谢

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-04T09:31:34.407

对于区域语言，您需要将它们读取为 UTF-8，然后设置字体。

我已按照以下步骤操作并且工作正常。

1.  将示例 URDU 文本复制到 ms-word 中。检查它的字体。

2.  复制资产中的字体。

3.  在设置 textview 文本时将其读取为 UTF-8
4.  应用资产中的字体。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-25T06:01:48.773

```
 Typeface tf = Typeface.createFromAsset(getAssets(), "fonts/burnstown_dam.otf");
    TextView tv = (TextView) findViewById(R.id.CustomFontText);
    tv.setTypeface(tf);

Typeface tf1 = Typeface.createFromAsset(this.getAssets(), "fonts/Jameel Noori Nastaleeq       Urdu.ttf"");
    TextView textView = (TextView)findViewById(R.id.CustomFontText);
    textView.setTypeface(tf1);
    textView.setText("یہ انگریزی نہیں"); 
```

# opencv - 如何在 opencv 2.4.9 中启用 findEssentialMat？

> ID：15492402
> 
> 赞同：2
> 
> 时间：2013-03-19T05:53:46.150
> 
> 标签：opencv, compilation

我正在尝试在 OpenCV 2.4.9 中使用新函数 findEssentialMat() 但是当我尝试编译我的程序时它说 findEssentialMat 没有定义。我包括 calib3d 并且我还链接了正确的库。

我应该如何编译 OpenCV 以启用该功能？

这是我的程序：

> #include "opencv2/opencv.hpp"
> 
> 使用命名空间标准；使用命名空间简历；

```
Mat getEssential(const vector<KeyPoint>& keypoints1,const vector<KeyPoint>& keypoints2,vector<DMatch>& matches){
vector<Point2f> p1, p2;
for (vector<DMatch>::const_iterator it= matches.begin();it!= matches.end(); ++it) {
    float x=keypoints1[it->queryIdx].pt.x;
    float y=keypoints1[it->queryIdx].pt.y;
    p1.push_back(Point2f(x,y));
    x=keypoints2[it->trainIdx].pt.x;
    y=keypoints2[it->trainIdx].pt.y;
    p2.push_back(Point2f(x,y));
}
Mat output;
Mat essen = findEssentialMat(p1,p2,focal,pp,CV_RANSAC,0.99,1,output);
vector<DMatch> inliers;
for(int i=0;i<output.rows;i++){
    int status=output.at<char>(i,0);
    if(status==1){
        inliers.push_back(matches[i]);
    }
}
matches=inliers;
return essen;
}

int main(){
  Ptr<FeatureDetector> fast = new FastFeatureDetector(10,true);
  Ptr<FeatureDetector> detector = new PyramidAdaptedFeatureDetector(fast,3);
  FREAK freak(true,true,22.0f,0);
  BFMatcher matcher(NORM_HAMMING,true);

  vector<DMatch> matches;
  vector<KeyPoint> kp0,kp1;
  Mat d0, d1;
  Mat im0 = imread("/home/Chini/im0.png",0);
  Mat im1 = imread("/home/Chini/im1.png",0);
  detector->detect(im0,kp0,Mat());
  detector->detect(im1,kp0,Mat());
  freak.compute(im0,kp0,d0);
  freak.compute(im1,kp1,d1);
  matcher.match(d0,d1,matches);
  Mat e = getEssential(kp0,kp1,matches);
  } 
```

当我尝试编译它时，我收到以下消息：

```
example.cpp: In function ‘cv::Mat getEssential(const std::vector<cv::KeyPoint>&, const    std::vector<cv::KeyPoint>&, std::vector<cv::DMatch>&)’:
example.cpp:18:62: error: ‘findEssentialMat’ is not defined 
```

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-03-03T21:33:06.490

没有办法做到这一点

```
findEssentialMat() 
```

是3.x版本实现的功能

根据此处的“如何贡献 OpenCV 指南”：http: [//code.opencv.org/projects/opencv/wiki/How_to_contribute](http://code.opencv.org/projects/opencv/wiki/How_to_contribute) 2.4.x opencv 版本已被冻结，维护只是为了向后兼容遗留用户，用他们的话说：

“2.4 已冻结功能；因此，将不接受新功能。”

我强烈建议您安装 3.x 版本。

有一些很好的教程： [http ://embedonix.com/articles/image-processing/installing-opencv-3-1-0-on-ubuntu/#comment-125](http://embedonix.com/articles/image-processing/installing-opencv-3-1-0-on-ubuntu/#comment-125) [http://rodrigoberriel.com/2014/10/安装-opencv-3-0-0-on-ubuntu-14-04/](http://rodrigoberriel.com/2014/10/installing-opencv-3-0-0-on-ubuntu-14-04/)（最后一个对我有用）

# android - 在android中使用adb命令安装apk时出现协议失败错误

> ID：15492406
> 
> 赞同：10
> 
> 时间：2013-03-19T05:53:56.133
> 
> 标签：android, adb

我正在尝试`api level 17`使用`adb command`.

adb 安装测试 apk

我收到以下错误作为回应

```
protocol failure
rm failed for /data/local/tmp/Test.apk, No such file or directory 
```

有谁知道如何处理这个错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T11:01:35.857

我发现在我的工作场所，面临这个问题的人只有`read permission`在他们的电脑上`USB port`有，而没有`write permission`。从管理员获得 USB 写入权限后，问题不再发生。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T09:09:34.680

试试这个。导航到设置 -> 应用程序设置（位置可能取决于您的设备）。在这里，检查`Install from unknown sources`。希望它会有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-27T16:07:34.980

如果您在现有应用的更新中引入了*sharedUserId* ，您可能会遇到一些麻烦。查看此[博客](http://java-hamster.blogspot.de/2010/05/androids-shareduserid.html)了解更多信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-17T03:45:52.137

在我的情况下，eclipse是在安装了ADT的情况下打开的，所以当我关闭eclipse时，问题就消失了。

# visual-studio-2012 - 错误：标识符“atomicCAS”和“atomicExch”在 Visual Studio 2012 和 cuda 5 下未定义

> ID：15492407
> 
> 赞同：0
> 
> 时间：2013-03-19T05:54:01.827
> 
> 标签：visual-studio-2012, cuda, compiler-errors, atomic, compiler-flags

[类似于链接的问题](https://stackoverflow.com/questions/11532728/error-identifier-atomicadd-is-undefined-under-visual-studio-2010-cuda-4-2)

我遇到了“atomicCAS”和“atomicExch”标识符未找到错误。我在网上搜索了解决方案，但仍然无法解决我的问题。

我还在项目配置中将代码生成更改为compute_20、sm_20：

“配置属性 -> CUDA C/C++ -> 设备 -> 代码生成”

当我试图“编辑”这个项目时，我发现“继承的值：compute_10,sm_10”。

此外，当我尝试右键单击函数“atomicCAS”或“atomicExch”并从菜单中选择“Go To Definition (F12)”时，我发现它指向“$(CudaToolkitIncludeDir)\sm_11_atomic_functions.h(191) ”。

1.如何克服继承的compute_10、sm_10值？
2\. 为什么它使用 sm_11_atomic_functions.h 中的原子函数而不是 sm_20_atomic_functions？
3.或者任何人都可以帮助详细描述如何解决这个问题。

非常感谢。

* * *

## 更新：

我们以下面的代码为例。

```
struct Lock {
    int *mutex;
    Lock( void ) {
        HANDLE_ERROR( cudaMalloc( (void**)&mutex, sizeof(int) ) );
        HANDLE_ERROR( cudaMemset( mutex, 0, sizeof(int) ) );
    }

    ~Lock( void ) {
        cudaFree( mutex );
    }

    __device__ void lock( void ) {
    #if __CUDA_ARCH__ >= 200
        while( atomicCAS( mutex, 0, 1 ) != 0 );
    #endif
    }

    __device__ void unlock( void ) {
    #if __CUDA_ARCH__ >= 200
        atomicExch( mutex, 0 );
    #endif
    }
}; 
```

我收到一条消息：`__CUDA_ARCH__`找不到符号“ ”的定义。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T07:35:23.080

首先确保正确安装了 CUDA 工具包，并设置了所有路径（包括、lib 和 bin）。还要检查您是否包含`cuda_runtime.h`在`cu`文件中。

如果您认为问题出在目标架构上，那么...

用以下`#if`块包围内核代码：

```
//Compile kernel code for Compute 2.0 and above only
#if __CUDA_ARCH__ >= 200 

//Kernel Code Here

#endif 
```

这样，只有在为 Compute 2.0 及更高版本进行编译时，才会编译内核代码。对于较低的计算能力，编译器将生成一个虚拟内核。

如果您有较低计算能力的替代实现，您也可以这样做：

```
#if __CUDA_ARCH__ >= 200 
     //Code using  atomicCAS, atomicExch
#else
    //Alternate implementation
#endif 
```

## 更新：

根据注释中提供的代码，您可以执行以下操作：

```
struct Lock 
{ 
    int *mutex;
    __device__ Lock( void )
    { 
        #if __CUDA_ARCH__ >= 200
        mutex = new int;
        (*mutex) = 0;
        #endif
    } 
    __device__ ~Lock( void ) 
    { 
        #if __CUDA_ARCH__ >= 200
        delete mutex;
        #endif
    }

    __device__ void lock( void ) 
    { 
        #if __CUDA_ARCH__ >= 200
        while( atomicCAS( mutex, 0, 1 ) != 0 ); 
        #endif
    }
    __device__ void unlock( void )
    { 
        #if __CUDA_ARCH__ >= 200
        atomicExch( mutex, 0 );
        #endif
    } 
}; 
```

# java - 为什么虽然文件在同一个包中，但它需要导入？

> ID：15492408
> 
> 赞同：0
> 
> 时间：2013-03-19T05:54:01.997
> 
> 标签：java, eclipse

据我所知，如果文件在同一个包中，它应该按定义导入其他文件。但是我有一个案例，测试程序类需要从同一个包中的另一个文件显式导入，否则它会给出红线。你能想到什么可能导致这种情况吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T05:59:05.180

不会自动导入另一个包中的包。`import`你应该为内包装写一个单独的声明。

让我们说

`package b`存在于`package a`

然后

```
import a.*; 
```

将导入其中的所有类，`a`但`b`此语句不会导入其中的类。

要在 中导入类`b`，请编写另一条语句：

```
import a.b.*; 
```

# iphone - 当我们在 iOS 应用程序中使用 Objective-C 输入错误的安全代码时如何显示警报

> ID：15492412
> 
> 赞同：0
> 
> 时间：2013-03-19T05:54:18.613
> 
> 标签：iphone, objective-c, cocos2d-iphone

我有一个附加了安全代码的网络服务 url。当我输入正确的安全代码例如说 abcd 时，应用程序将加载。当我输入错误的安全代码时，我需要将警报显示为“错误的安全代码”。我的代码在这里：

```
- (void) alertStatus:(NSString *)msg :(NSString *)Title:(int)tag
{
    UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:Title

                                                    message:msg
                                                   delegate:self
                                          cancelButtonTitle:@"Ok"
                                          otherButtonTitles:nil, nil];
    if(tag) 
        alertView.tag = tag;
    [alertView show];
}

-(IBAction)loginClicked:(id)sender {

    @try {

        if([[txtsecurecode text] isEqualToString:@""]  ) {
            [self alertStatus:@"Please enter Access code" :@"Login Failed!":0];
        } else {
            NSString *post =[[NSString alloc] initWithFormat:@"txtsecurecode=%@",[txtsecurecode text]];

            NSURL *url=[NSURL URLWithString:[NSString stringWithFormat:@"http://my example.com/Accountservice/Security/ValidAccess?accesscode=%@&type=1",txtsecurecode.text]];

            NSString *responseData = [[NSString alloc]initWithData:[NSData dataWithContentsOfURL:url] encoding:NSUTF8StringEncoding]; 
```

responseData 是我从 Web 服务 url 获得响应的参考。所以在获得响应的下方，我需要保持警惕。

在这种情况下，当输入错误的安全代码时显示警报，我如何保持警报？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:03:00.057

你想做的是在你得到回应的地方完成。

在响应中，您将有一个变量通知成功或失败。

检查该值。

*   如果该值指示成功。如​​果指示成功则继续
*   失败然后显示“身份验证失败作为警报。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:06:58.707

我不明白为什么你需要一个标签，而实际上你实际上是在命名一个特定的方法。也许，代码可以像下面这样简单？

```
- (void) alertStatus:(NSString *)msg :(NSString *)Title {
UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:Title
                                                message:msg
                                               delegate:self
                                      cancelButtonTitle:@"Ok"
                                      otherButtonTitles:nil, nil];
[alertView show];
return;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T06:11:31.727

您必须检查来自 Web 服务数据的响应以获取有效和无效代码。

你会得到这个方法::

```
-(void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    value = [[NSString alloc] initWithBytes: [webdata mutableBytes] length:[webdata length] encoding:NSUTF8StringEncoding];
    NSLog(@"==>%@", value);

    if ([value isEqualToString:@"Valid"]) {
       NSLog(@"Valid");
    }
    else {
       NSLog(@"Invlid");

       UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:Title 
                                               message:msg
                                               delegate:self
                                      cancelButtonTitle:@"Ok"
                                      otherButtonTitles:nil, nil];
       [alertView show];
    }

    [webData release];
    webData = nil;

    [connection release];
    connection = nil;
} 
```

根据“价值”，您可以检查您的**有效**和**无效**代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T06:13:33.930

您必须检查您的回答，无论它是否给出了您想要的答案。

- 如果它没有给出正确的答案。你可以在这里显示你的 alertView。否则你可以继续你的进一步逻辑。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-19T06:20:26.783

```
-(void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    responseString = [[NSString alloc] initWithData:receivedData encoding:NSUTF8StringEncoding])

    if ([responseString isEqualToString:@"Success"]) {
       NSLog(@"Success");
    }
    else {

       UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:Title 
                                               message:msg
                                               delegate:self
                                      cancelButtonTitle:@"Ok"
                                      otherButtonTitles:nil, nil];
       [alertView show];
    }

    [responseData release];
    responseData = nil;

    [connection release];
    connection = nil;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-19T06:44:07.567

尝试使用此代码...

```
-(IBAction)loginClicked:(id)sender {

    @try {

        if([[txtsecurecode text] isEqualToString:@""]  ) {
            [self alertStatus:@"Please enter Access code" :@"Login Failed!":0];
        } else {
            NSString *post =[[NSString alloc] initWithFormat:@"txtsecurecode=%@",[txtsecurecode text]];

            NSURL *url=[NSURL URLWithString:[NSString stringWithFormat:@"http://my example.com/Accountservice/Security/ValidAccess?accesscode=%@&type=1",txtsecurecode.text]];

            /*UPDATED*/
            NSString *responseData = [[NSString alloc]initWithContentsOfURL:[NSData dataWithContentsOfURL:url] encoding:NSUTF8StringEncoding error:nil];

            if([responseData isEqualToString:@""])
            {
                [self alertStatus:@"Please enter valid Access code" :@"Login Failed!":0];
            }
            else
            {
                //Your code for handling the response data
            }
        }
    }
} 
```

# c# - 通过 RAPI 的 CeCreateDirectory 失败，不知道为什么

> ID：15492413
> 
> 赞同：1
> 
> 时间：2013-03-19T05:54:20.223
> 
> 标签：c#, windows-mobile, compact-framework, rapi

我有以下代码：

```
 [DllImport("rapi.dll", CharSet = CharSet.Unicode)]
        public static extern bool CeCreateDirectory(string lpPathName, IntPtr lpSecurityAttributes); 
```

在一个函数中，我尝试了以下内容：

```
CeCreateDirectory( "\\fail\\", ptr )
CeCreateDirectory( "C:\\fail\\", ptr )
CeCreateDirectory( "\\fail", ptr )
CeCreateDirectory( "C:\\fail", ptr ) 
```

每次函数返回 false 时，我只想在设备上创建一个目录但不知道如何。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T13:17:52.503

不确定 Windows CE，但 Windows Mobile 不支持“C:\”部分。

```
CeCreateDirectory( "C:\\fail\\", ptr ) 
```

您是否尝试过使用[System.IO.Directory](http://msdn.microsoft.com/en-us/library/system.io.directory.aspx)类？

```
Directory.CreateDirectory("\\fail"); 
```

可能还需要关闭最后一个“\”字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T12:15:40.740

您是否首先调用了[CeRapiInit](http://msdn.microsoft.com/en-us/library/aa922061.aspx)（或 CeRapiInitEx）？为什么要重新发明轮子？[所有这些 RAPI 内容都已在OpenNETCF 桌面通信库](http://rapi.codeplex.com/)中打包并开源。

# windows-installer - Windows Installer：升级期间更改安装策略导致应用程序重复副本

> ID：15492415
> 
> 赞同：2
> 
> 时间：2013-03-19T05:54:21.997
> 
> 标签：windows-installer

我遇到了 Windows Installer 安装策略的问题。如果我使用每个用户/每台机器（只是我/每个人）的任何这些选项安装应用程序，然后安装具有不同选项的升级版本，则安装程序不会检测到早期版本并且不会卸载早期版本，这会导致重复条目在控制面板中也有相同的应用程序。如果安装策略更改，为什么我的安装程序不会检测到现有安装？有没有办法欺骗安装程序正确卸载早期版本？[我在这里](https://stackoverflow.com/questions/12110987/windows-installer-uninstalling-previous-version-when-the-versions-differ-in-in)找到了类似的文章，但这并不能解决我的问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T11:59:10.613

您所指的过程称为“[主要升级](http://msdn.microsoft.com/en-us/library/windows/desktop/aa369786%28v=vs.85%29.aspx)”。在此过程中，Windows Installer 会在单个事务中安装新版本并卸载以前的版本（顺序取决于您安排名为 RemoveExistingProducts 的标准操作的位置）。

根据 MSDN，Major Upgrades 不能更改上下文（per-user -> per-machine or per-machine -> per-user ）

> **注意** 如果应用程序安装在每用户安装上下文中，则应用程序的任何主要升级也必须使用每用户上下文执行。如果应用程序安装在每台机器的安装上下文中，则应用程序的任何主要升级也必须使用每台机器的上下文执行。Windows Installer 不会跨安装上下文安装主要升级。

您必须首先卸载每用户安装（在它可能存在的所有配置文件中），然后安装每机器安装。这是按用户安装通常不是最佳实践的原因之一。他们很难维修。

# emacs - 如何将 CEDET 配置为自动完成 MinGW g++

> ID：15492419
> 
> 赞同：2
> 
> 时间：2013-03-19T05:54:51.207
> 
> 标签：emacs, g++, mingw, cedet

我将 CEDET 配置为为 MinGW gcc 自动完成，它工作得很好，但是我无法让 g++ 工作来完成 STL 库的成员。例如，我无法自动完成 std​​::string 变量以获取 c_str() 或其他函数：

```
#include <string>
#include <iostream>
using namespace std;
int main(int argc, char *argv[])
{
    string s;
    s.       // no pop up member functions here
    return 0;
} 
```

这是我的 .emacs 的配置部分：

```
;; setting up for semantic-mode
(semantic-mode 1)
(require 'semantic/bovine/c)

(setq MinGW-64-base-dir 
    "D:/MinGW/x86_64-w64-mingw32/include")
(add-to-list 'semantic-lex-c-preprocessor-symbol-file 
     (concat MinGW-64-base-dir "/crtdefs.h"))
(add-to-list 'semantic-lex-c-preprocessor-symbol-file 
     (concat MinGW-64-base-dir "/yvals.h"))
(add-to-list 'semantic-lex-c-preprocessor-symbol-file 
     (concat MinGW-64-base-dir "/vadefs.h"))
(add-to-list 'semantic-lex-c-preprocessor-symbol-file 
     (concat MinGW-64-base-dir "/comdefsp.h"))
(semantic-c-reset-preprocessor-symbol-map)

(defconst user-include-dirs
  (list ".." "../include" "../inc" "../common" "../public"
        "../.." "../../include" "../../inc" "../../common" "../../public"))
(defconst win32-include-dirs
  (list "D:/MinGW/include"
        "D:/MinGW/x86_64-w64-mingw32/include"
    "D:/MinGW/lib/gcc/x86_64-w64-mingw32/4.7.2/include"
    "D:/MinGW/lib/gcc/x86_64-w64-mingw32/4.7.2/include/c++"
    "D:/MinGW/lib/gcc/x86_64-w64-mingw32/4.7.2/include-fixed"
))

(let ((include-dirs user-include-dirs))
  (when (eq system-type 'windows-nt)
    (setq include-dirs (append include-dirs win32-include-dirs)))
  (mapc (lambda (dir)
          (semantic-add-system-include dir 'c++-mode)
          (semantic-add-system-include dir 'c-mode))
        include-dirs)) 
```

我的配置有问题吗？需要对 MinGW g++ 进行正确配置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T00:02:15.927

我在没有您的配置的情况下在我的 Ubuntu 系统上尝试了您的示例，它提供的完成比我知道的要多。我猜 Semantic 不知道某些包含文件在哪里，或者没有设置正确的预处理器符号。

如果你这样做：

```
M-x load-library RET semantic/analyze/debug RET 
```

然后您可以将光标放在您的样本上并执行以下操作：

```
M-x semantic-analyze-debug-assist RET 
```

它会给你一堆提示和额外的命令来尝试挖掘问题。

我知道您在设置中设置了所有包含和预处理器文件。那部分对我来说似乎没问题。

semantic/bovine/gcc.el 中的代码应该向您的 GCC 查询您提供的用于查找 STL 标头之类的信息的类型。编译器提供 STL 标头使用的某些类型的 #define 值，并且可能不在您为预处理器符号提供的其他 ming 标头中。

不幸的是，它为它尝试使用的 C++ 编译器提供了硬编码的名称。如果您的编译器有其他名称，您可能需要编辑 gcc.el 源文件以使其工作。如果您这样做，请通过电子邮件发送 cedet-devel 邮件列表，以便我们可以在 CEDET 中进行更改。

或者，加载您的 string.h 文件所在的任何位置，并找到它应该用于完成的定义。查看哪些#if 语句将其过滤掉，然后使用：

Mx 语义-c-描述-环境 RET

看看这可能是如何相关的。

# macos - 在 OSX 上无法使用 PIL 获得 jpeg 支持

> ID：15492420
> 
> 赞同：0
> 
> 时间：2013-03-19T05:54:54.990
> 
> 标签：macos, google-app-engine, python-imaging-library, libjpeg

我正在尝试使用 PIL 库和 jpeg 支持运行 Google App Engine，以便使用 GAE 中的图像模块。

这是我到目前为止所做的：

1.  我下载了 tarball`PIL 1.1.7`并将其解压缩并使用`python setup.py install`. 但是我注意到输出显示没有可用的 jpeg 支持。所以我浏览了一下`README`，了解到我需要安装 libjpeg。

2.  所以我下载了源代码`jpeg-7`并构建了它。我在运行`make`和`make install`:之前配置了以下标志`configure --enable-shared --enable static`。我最初在没有这些标志的情况下进行了配置和构建，但我发现许多来源声称需要这样做才能让 PIL 识别 OSX 上的 libjpeg，所以我运行`make clean`并`make distclean`重新配置了这些标志并重新构建。

3.  然后我尝试重新安装 PIL。我导航到我提取 PIL 源代码的目录。在 setup.py 中，我将行更改`JPEG_ROOT`为指向`/usr/local/bin`（安装 jpeg 的位置，但看到 PIL 需要库而不是二进制文件，我后来重复了第 3 步，但最后一次尝试使用`/usr/local/lib`并再次使用`libinclude('/usr/local')`）并运行`python setup.py clean`、`python setup.py build`和`python setup.py install`. 这似乎工作正常。输出声称有 jpeg 支持。但是，当我启动 GAE 时，PIL 工作正常，但我无法获得 jpeg 支持。PIL 安装脚本的输出在这里：

--

```
Jays-MacBook-Air:Imaging-1.1.7 jay$ python setup.py install
running install
running build
running build_py
running build_ext
gcc-4.2 not found, using clang instead
--- using frameworks at /System/Library/Frameworks
--------------------------------------------------------------------
PIL 1.1.7 SETUP SUMMARY
--------------------------------------------------------------------
version       1.1.7
platform      darwin 2.7.3 (v2.7.3:70274d53c1dd, Apr  9 2012, 20:52:43)
              [GCC 4.2.1 (Apple Inc. build 5666) (dot 3)]
--------------------------------------------------------------------
--- TKINTER support available
--- JPEG support available
--- ZLIB (PNG/ZIP) support available
*** FREETYPE2 support not available
*** LITTLECMS support not available
--------------------------------------------------------------------
To add a missing option, make sure you have the required
library, and set the corresponding ROOT variable in the
setup.py script.

To check the build, run the selftest.py script.
running build_scripts
running install_lib
running install_scripts
changing mode of /Library/Frameworks/Python.framework/Versions/2.7/bin/pilconvert.py to 755
changing mode of /Library/Frameworks/Python.framework/Versions/2.7/bin/pildriver.py to 755
changing mode of /Library/Frameworks/Python.framework/Versions/2.7/bin/pilfile.py to 755
changing mode of /Library/Frameworks/Python.framework/Versions/2.7/bin/pilfont.py to 755
changing mode of /Library/Frameworks/Python.framework/Versions/2.7/bin/pilprint.py to 755
running install_egg_info
Removing /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/PIL/PIL-1.1.7-py2.7.egg-info
Writing /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/PIL/PIL-1.1.7-py2.7.egg-info
creating /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/PIL.pth 
```

但是 GAE 声称不支持 jpeg，每次我运行`python selftest.py`它都会给我以下输出：

```
Jays-MacBook-Air:Imaging-1.1.7 jay$ python selftest.py
--------------------------------------------------------------------
PIL 1.1.7 TEST SUMMARY 
--------------------------------------------------------------------
Python modules loaded from ./PIL
Binary modules loaded from ./PIL
--------------------------------------------------------------------
--- PIL CORE support ok
--- TKINTER support ok
*** JPEG support not installed
--- ZLIB (PNG/ZIP) support ok
*** FREETYPE2 support not installed
*** LITTLECMS support not installed
--------------------------------------------------------------------
Running selftest:
*****************************************************************
Failure in example:
try:
 _info(Image.open(os.path.join(ROOT, "Images/lena.jpg")))
except IOError, v:
 print v
from line #24 of selftest.testimage
Expected: ('JPEG', 'RGB', (128, 128))
Got: decoder jpeg not available
1 items had failures:
   1 of  57 in selftest.testimage
***Test Failed*** 1 failures.
*** 1 tests of 57 failed. 
```

我在这里束手无策。我已经尝试了我能想到的一切。我什至尝试`setup.py`直接指向 jpeg-7 的未编译头文件，因为其中的注释`setup.py`要求`lib`and`includes`目录。我根本不明白为什么 PIL 不能使用 JPEG 支持来构建。我已经尝试了所有可以在互联网上找到的东西。从源代码构建时，我似乎经常遇到这种问题。我将不胜感激任何和所有建议（甚至是关于如何从存储库安装 PIL 或其他简单的建议 - 我厌倦了尝试从源代码构建软件并最终在我的机器上出现大量无法编译的目录好东西）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:12:12.950

我设法弄清楚了这一点。我感到有点尴尬，但希望这将是对将来这样做的任何人的参考。

事实证明，当我运行时`python setup.py build`（或者`setup.py install`没有先构建，如果它还没有运行，它似乎调用构建脚本），它不会覆盖已经存在的构建，`setup.py clean`也没有删除这些（尽管我天真地假设脚本确实如此）。我只是`rm -rf *`在 PIL`build/`文件夹中添加了所有内容，这迫使 PIL 重新开始构建。最后，PIL 听取了我的意见并应用了我对 所做的更改`JPEG_ROOT`，这毕竟奏效了。

# python - 如何通过python创建一个url快捷方式

> ID：15492436
> 
> 赞同：4
> 
> 时间：2013-03-19T05:56:42.320
> 
> 标签：python, shortcut, win32com

我想通过python pywin32创建一个快捷方式，但是代码不起作用。

以下是我的代码，我不知道为什么我不能用它创建快捷方式！请帮我看看，谢谢你的帮助~

```
#-*- coding:utf-8 -*-
import win32com.client

bmurl = unicode(r"http://www.pystack.org/","utf8")
bmpath = unicode(r"C:\Users\moose\Desktop\bm\blog.url","utf8")

ws = win32com.client.Dispatch("wscript.shell")
scut = ws.CreateShortcut(bmpath)
scut.TargetPath=bmurl  
scut.Save 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:20:51.440

错误的原因是那`Save`是一种方法。如果要执行相应的操作，则需要调用它。尝试将最后一行替换为

```
scut.Save() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:38:29.730

你忘记打电话了`scut.Save`。这是一种方法，应该在这里调用。
只需添加括号：

```
scut.Save() 
```

# java - 加载程序在java swing中单击按钮

> ID：15492437
> 
> 赞同：0
> 
> 时间：2013-03-19T05:56:47.837
> 
> 标签：java, swing

我想在事件开始时在 Java Swing 中的按钮单击事件上显示加载器图标，并且在事件完成时加载器需要消失。

如何做到这一点？目前我正在做这样的事情。

```
package swing;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;

public class LoaderDisplay {

    public static void main(String[] args) {

        final JFrame frame = new JFrame();
        JPanel panel = new JPanel();

        JButton button1 = new JButton();

        ImageIcon loading = new ImageIcon("loading_icon.gif");
        final JLabel label = new JLabel("Loading... ", loading, JLabel.CENTER);

        label.setVisible(false);
        frame.add(panel);
        panel.add(button1);
        panel.add(label);
        frame.setVisible(true);

        button1.addActionListener(new ActionListener() {

            public void actionPerformed(ActionEvent arg0) {
                // event start
                label.setVisible(true);

                // some operation
                try {
                    Thread.sleep(10000);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }

                // event end
                label.setVisible(false);
            }
        });

    }

} 
```

任何帮助？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T06:11:02.563

基本上，你不应该做任何会阻塞事件调度线程的事情。

这将阻止您的 UI 更新或用户与之交互，通常会导致用户认为应用程序已死。

相反，您应该将所有耗时或阻塞的任务重载到后台线程。

最简单的解决方案是使用`SwingWorker`. 这为与 EDT 重新同步提供了简单易用的方法。

```
import java.awt.EventQueue;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.SwingWorker;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;

public class LoaderDisplay {

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                final JFrame frame = new JFrame();
                JPanel panel = new JPanel();

                JButton button1 = new JButton("Load me up");

//        ImageIcon loading = new ImageIcon("loading_icon.gif");
                final JLabel label = new JLabel("Loading... ", JLabel.CENTER);

                label.setVisible(false);
                frame.add(panel);
                panel.add(button1);
                panel.add(label);
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);

                button1.addActionListener(new ActionListener() {
                    public void actionPerformed(ActionEvent arg0) {
                        // event start
                        label.setVisible(true);

                        new SwingWorker<Void, String>() {
                            @Override
                            protected Void doInBackground() throws Exception {
                                // Worken hard or hardly worken...
                                Thread.sleep(2000);
                                return null;
                            }

                            @Override
                            protected void done() {
                                label.setVisible(false);
                            }
                        }.execute();

                    }
                });

            }
        });
    }
} 
```

作为旁注，您不应该从除 EDT 之外的任何线程创建、修改或与任何 UI 组件交互。

查看[Swing 中的并发以](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)获取更多详细信息

# android - 在库项目中引用（主项目的）图像资源

> ID：15492440
> 
> 赞同：0
> 
> 时间：2013-03-19T05:57:02.647
> 
> 标签：android, image, resources, refer

我想在图书馆项目中使用我的主要项目的图像资源。假设我的主项目中有一个图像“abc.png”，我想在我的库项目中引用它。有没有办法做到这一点。我无法复制库项目中的图像，因为我对其他项目使用相同的库项目也引用了不同的图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:19:03.273

您可以在库项目中放置一个空文件，并在使用库项目的每个应用程序中使用同名的真实资源文件覆盖该文件。

请参阅此答案链接 [Android Library using Main Project Resources](https://stackoverflow.com/a/4036895/1441666)

# php - Codeigniter 2：在此服务器上找不到请求的 URL (404) 错误。CI 没有以正确的方式路由

> ID：15492446
> 
> 赞同：1
> 
> 时间：2013-03-19T05:57:36.293
> 
> 标签：php, codeigniter, view, routing, url-routing

这是最重复的问题之一，但我没有得到它，不得不问。我使用 CI 2。我通过以下步骤从 URL 中删除了 index.php：

1.  在`config.php`我设置

 **```
$config['index_page'] = '';

$config['uri_protocol'] = 'REQUEST_URI'; 
```

1.  在`routes.php`我设置

 **```
$route['default_controller'] = "InterviewController"; 
```

1.  这是我的 .htaccess

 **```
RewriteEngine on
RewriteCond $1 !^(index\.php|img|robots\.txt|css|js|libraries/ckeditor|upload)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /index.php/$1 [L]
addDefaultCharset UTF-8 
```

1.  我`mod_rewrite`在网络服务器上启用。

所以在`index()`方法中`InterviewController`，我加载了`addInterview.php`视图。`addInterview`之后，当我只输入域名时，它被称为网站的默认页面。当我在`addInterview`必须调用`saveInterview()`的页面上按下保存按钮时会出现问题`InterviewController`。但是在这一步中我得到了`The requested URL was not found on this server (404) error`. `saveInterview()`甚至没有被调用。但是，如果我自己输入 domainname/index.php/InterviewController/saveInterview 一切正常。好像我`index.php`只是从默认页面中删除，而不是从我网站的所有页面中删除。你有什么建议吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:05:12.620

前导斜杠可能会导致您的问题。

改变

```
RewriteRule ^(.*)$ /index.php/$1 [L] 
```

到

```
RewriteRule ^(.*)$ index.php [L] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T06:17:35.407

试试这个……它为我工作

```
RewriteEngine on
RewriteBase /Ur_Folder_Path/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /Ur_Folder_Path/index.php?/$1 [L] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-12T10:01:26.597

将您的 .htaccess 文件编辑为>

```
<IfModule mod_rewrite.c>
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule .* index.php/$0 [PT,L]
</IfModule> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T06:09:27.230

将重写规则更改为

```
RewriteRule ^(.*)$ /YOUR_CI_PROJECT_NAME/index.php/$1 [L] 
```******

# c - 为什么我会关闭：此 fork pipe c 程序的文件描述符错误？

> ID：15492449
> 
> 赞同：0
> 
> 时间：2013-03-19T05:57:47.463
> 
> 标签：c, process, fork, pipe, stdin

```
int main(int argc, char ** argv) {
    int count = 2;

    int pid, status;
    int fd[count][2];
    int i;

    for (i = 0; i < count; i++) {
        if (pipe(fd[i]) != 0) {
            perror("pipe");
            exit(1);
        }
        pid = fork();
        if (pid < 0) {
            perror("fork");
            exit(1);
        } else if (pid == 0) {
            if (close(fd[i][1]) != 0) {
                perror("close");
                exit(1);
            } 
            int j;
            for (j = 0; j < i; j++ ) {
                close(fd[j][1]);
            }
            char w[MAXWORD];
        int result;
            result = read(fd[i][0], w, MAXWORD);
        w[result-1] = '\0';
            printf("child %s\n" w);
            if (result == -1) {
                perror("read");
                exit(1);
            }
            exit(0);
        } else {
            if (close(fd[i][0]) != 0) {
                perror("close");
                exit(1);
            }
        }
    }
    while (1) {
        char word[MAXWORD]; int c;
        c = read(STDIN_FILENO, word, MAXWORD);
        if (c == 0) {
                break;
        }
        word[c-1] = '\0';
        for (i = 0; i < count; i++ ) {
                write(fd[i][1], word, strlen(word)+1);
        }

        for (i = 0; i < count; i++ ) {
                if (close(fd[i][1]) != 0) {
                perror("close");
                exit(1);
                }
        }

        for (i = 0; i < count; i++) {
                wait(&status);
        }
    }
    return 0;
} 
```

我的代码循环读取用户输入的单词，直到点击 control+d。该词被发送到两个子进程的管道。他们都打印了这个词。如果我取出 while (1) 语句，那么它工作正常。问题是当我保持 while 1 循环时第二次输入单词时出现此错误：

```
$ query
hello
child hello
child hello
hello
close: Bad file descriptor 
```

请我真的需要帮助，因为我真的不知道为什么会这样。谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:07:21.627

几个问题

1）每个孩子只读一次，回声，然后退出，但你的 while 循环似乎想向每个孩子发送多个单词（但这不是导致问题的原因）

2）在主while循环中，您读取单词，将其写入每个孩子，然后关闭您写入的文件描述符。第二次通过循环时，所有描述符都已关闭，因此关闭调用失败。写入调用也失败了，但是因为您没有检查返回值，所以您没有意识到这一点。

# android - Android 上的警报管理器

> ID：15492455
> 
> 赞同：1
> 
> 时间：2013-03-19T05:58:27.390
> 
> 标签：android, alarmmanager, android-alarms, repeatingalarm

我知道警报管理器已经有问题和解决方案，我已经搜索了很多，但我面临同样的问题。

我的问题是我每次都添加多个具有唯一 ID 的警报并使用相同的 ID 取消它们。所有警报在添加和删除时都可以正常工作，但警报会在不规则的时间间隔后继续响起。

这是我设置警报的代码。

```
 AlarmManager am = (AlarmManager)getSystemService(Context.ALARM_SERVICE);
    Intent i = new Intent(getApplicationContext(), AlarmSer.class);
    next =  myRandom.nextInt();
    PendingIntent pendingIntent =
    PendingIntent.getService(getApplicationContext(),next, i, 0);
    am.set(AlarmManager.RTC, firstWake, pendingIntent); 
```

取消`alarm.values`next 和 alarmReqCode 的代码对于特定警报是相同的。

```
 AlarmManager am = (AlarmManager)getSystemService(Context.ALARM_SERVICE);
  Intent i = new Intent(getApplicationContext(), AlarmSer.class);
  alarmReqCode=Integer.parseInt(cursor.getString(cursor.getColumnIndexOrThrow(
  TodoDbAdapter.ALARMCODE)));
  PendingIntent  pendingIntent=
  PendingIntent.getService(getApplicationContext(),alarmReqCode, i, 0);
  am.cancel(pendingIntent); 
```

在[LogCat](https://sites.google.com/site/androidhowto/how-to-1/save-logcat-to-a-text-file)我得到这个：

```
 03-19 11:43:03.475: V/AlarmManager(21088): waitForAlarm result :4
 03-19 11:43:03.480: V/AlarmManager(21088): trigger ELAPSED_REALTIME_WAKEUP or RTC_WAKEUP 
```

# android - 如何在有两个超链接且必须支持单点登录的 Facebook 墙上发布消息

> ID：15492456
> 
> 赞同：3
> 
> 时间：2013-03-19T05:58:31.167
> 
> 标签：android, facebook, post, single-sign-on

我正在使用这段代码：

```
private void publishPhoto(String imageURL) {
    Log.d("FACEBOOK", "Post to Facebook!");

    try {

        JSONObject attachment = new JSONObject();
        attachment.put("message", Utils.s(R.string.fb_message));
        attachment.put("name", Utils.s(R.string.fb_name));
        attachment.put("href", Utils.s(R.string.url_dotzmag));
        attachment.put("description", Utils.s(R.string.fb_description));

        JSONObject media = new JSONObject();
        media.put("type", "image");
        media.put("src", imageURL);
        media.put("href", Utils.s(R.string.url_dotzmag));
        attachment.put("media", new JSONArray().put(media));

        JSONObject properties = new JSONObject();

        JSONObject prop1 = new JSONObject();
        prop1.put("text", "Dotz App on Android Market");
        prop1.put("href", Utils.s(R.string.url_android_market));
        properties.put("Get the App for free", prop1);

        JSONObject prop2 = new JSONObject();
        prop2.put("text", "Dotz Tuning on Facebook");
        prop2.put("href", Utils.s(R.string.url_facebook_fanpage));
        properties.put("Visit our fanpage", prop2);

        attachment.put("properties", properties);

        Log.d("FACEBOOK", attachment.toString());

        Bundle params = new Bundle();
        params.putString("attachment", attachment.toString());
        mFacebook.dialog(mActivity, "stream.publish", params, new PostPhotoDialogListener());
        //mAsyncRunner.request("me/feed", params, "POST", new WallPostRequestListener(), null);

    } catch (JSONException e) {
        Log.e("FACEBOOK", e.getLocalizedMessage(), e);
    }
}

public class PostPhotoDialogListener extends BaseDialogListener {

    public void onComplete(Bundle values) {
        final String postId = values.getString("post_id");
        if (postId != null) {
            Log.d("FACEBOOK", "Dialog Success! post_id=" + postId);
            Toast.makeText(mActivity, "Successfully shared on Facebook!", Toast.LENGTH_LONG).show();

        } else {
            Log.d("FACEBOOK", "No wall post made");
        }
    }
} 
```

对话它工作正常，但我不想使用对话。所以我正在发送

```
res = facebook.request("feed", params, "POST"); 
```

像这样，因为我想支持单点登录和我的应用程序打开安装在用户设备中的 facebook 默认应用程序。如何摆脱这个错误。

# php - ajax wordpress 联系表格

> ID：15492458
> 
> 赞同：1
> 
> 时间：2013-03-19T05:58:42.553
> 
> 标签：php, jquery, ajax, wordpress

**更新：**

```
<form method="post" id="formApply"  action="<?php bloginfo('template_url');?>/inc/sendContact.php" name="applyForm">
    <div id="col1">
        <fieldset class="col-1">
            <div class="white info-line">Want to know more? Drop us a line and we'll get right back to you.</div>
            <label class="white text-label name" for="fname">Name:</label><input type="text" name="fname" id="fname" tabindex="1" />
            <div class="clear"></div>
            <label class="white text-label email" for="email">Email:</label><input type="email" class="lower" name="email" id="email"  tabindex="2"/>
            <div class="clear"></div>
            <label class="white text-label phone" for="phone">Phone:</label><input type="tel" name="phone" id="phone" tabindex="3" maxlength="10"/>
            <div class="white text-label checker-title" id="checkererror">I am interested in:</div>
            <input type="checkbox" id="checkbox-2-1" class="regular-checkbox big-checkbox" name="checker[]" value="Office Space" /><label for="checkbox-2-1"></label><div class="white text-label checker">Office Space</div>
            <input type="checkbox" id="checkbox-2-2" class="regular-checkbox big-checkbox" name="checker[]" value="Designated Workspace" /><label for="checkbox-2-2"></label><div class="white text-label checker">Designated Workspace</div>
            <input type="checkbox" id="checkbox-2-3" class="regular-checkbox big-checkbox" name="checker[]" value="Shared Space" /><label for="checkbox-2-3"></label><div class="white text-label checker">Shared Space</div>
        </fieldset>
    </div>
    <div id="col2">
        <fieldset class="col-2">
            <label class="white text-label note-label" for="notes">Notes:</label><br/>
            <textarea name="notes" id="notes" rows="10" cols="30" class="requiredField" tabindex="4"></textarea>
            <input type="hidden" name="submitted" id="submitted" class="submitted" value="true" /><button id="submit" type="submit">Submit Application</button>
        </fieldset>
    </div>
</form> 
```

因此，我将表单更改为 php on action - 电子邮件现在可以正常发送 - 但它会将用户带到空白的 sendContact.php。

有没有办法将它们重定向回网站？或通过ajax 做到这一点？

我在ajax中尝试了几种方法，它没有发送电子邮件

谢谢！

**PHP：**

```
require_once 'lib/swift_required.php';

$transport = Swift_MailTransport::newInstance();

$mailer = Swift_Mailer::newInstance($transport);

$name = Trim(stripslashes($_POST['fname']));
$email = Trim(stripslashes($_POST['email']));
$phone = Trim(stripslashes($_POST['phone']));
$notes  = Trim(stripslashes($_POST['notes']));
$checkbox = $_POST['checker'];

$message = Swift_Message::newInstance()
  ->setFrom(array('From_Email' => 'My Website'))
  ->setSubject('[My_Subject from '.$name.']')
  ->setTo(array('My_Email'))
  ->setBody(
'<html>'.
'<head></head>'.
'<body>'.
'<strong>Name:</strong><br />'.
$title.' '.$name.'<br /><br />'.
'<strong>Email Address:</strong><br />'.
$email.'<br /><br />'.
'<strong>Phone Number:</strong><br />'.
$phone.'<br /><br />'.
'<strong>Interested in:</strong><br />'.
implode('<br />', $checkbox).'<br /><br />'.
'<strong>Message:</strong><br />'.
$notes.'<br /><br />'.
'</body>'.
'</html>',
'text/html' );
$result = $mailer->send($message); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T07:18:36.617

在 WordPress 中实现 Ajax 的最佳方法是使用 admin-ajax.php

在模板的functions.php中添加以下代码

```
function MyAjaxCallBack()
{
    foreach($_POST as $key=>$value)
        $$key = $value;
    //Email script will go here!
    die();
}

// creating Ajax call for WordPress  
add_action('wp_ajax_nopriv_MyAjaxCallBack', 'MyAjaxCallBack');
add_action('wp_ajax_MyAjaxCallBack', 'MyAjaxCallBack'); 
```

Ajax 脚本（将其添加到 header.php 或 footer.php）：

```
jQuery(document).ready(function() {  
    jQuery("#PleasePushMe").click(function(){ 
        jQuery.ajax({  
            type: 'POST',  
            url: '<?php echo admin_url('admin-ajax.php');?>',  
            data: {  
                action: 'MyAjaxCallBack',
                MyParam: 'MyParamValue'
            },  
            success: function(data, textStatus, XMLHttpRequest){  
                alert(data);  
            },  
            error: function(MLHttpRequest, textStatus, errorThrown){  
                alert(errorThrown);  
            }  
        });  
    });  
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:09:25.683

使用`id`选择器作为表单。

**代替**

```
var data = $(".applywrap > form").serialize(); 
```

**和**

```
var data = $("#applywrap > form").serialize(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T06:10:32.483

## 您需要添加一个[提交处理程序](https://api.jquery.com/submit/)：

```
$(function(){

    $(".applywrap > form").on("submit", function(){
        // here you should probably validate your form fields...

        $.ajax({
            type : this.method,
            url  : this.action, // HTML <form> "action" attribute
            data : $(this).serialize(),
            cache: false
        })
        .done(console.log)
        .fail(console.warn)

        return false; // so the form won't refresh the page
    });

}); 
```

# sql-server-2008 - 在 SQL 中以分层显示形式显示数据的最佳方法是什么（HIERARCHYID 无法正常工作）？

> ID：15492459
> 
> 赞同：1
> 
> 时间：2013-03-19T05:58:48.540
> 
> 标签：sql-server-2008, hierarchyid

在分层显示中显示数据的最佳方法是什么，我在 sql 中使用了 HIERARCHYID，但是当它的级别超过 10（水平和垂直）级别时，我无法正确获取数据。

请分享您的经验。

# .net - CryptoStream 和 Authenticated 加密模式

> ID：15492460
> 
> 赞同：6
> 
> 时间：2013-03-19T05:58:53.080
> 
> 标签：.net, cryptography

我有兴趣提供一个在.Net 中使用的托管 dll，它提供经过身份验证的加密服务。DLL 可能在 WPF 程序或 ASP 应用程序中使用。我有几个与 Microsoft 的加密和流模型有关的问题。

经过身份验证的加密模式（CCM、CWC、EAX、GCM 等）通常会产生两个工件 - 第一个是密文，第二个是身份验证标签。流式加密相当容易，但可能存在一些问题。例如，由于标头的构建方式和经过身份验证的加密模式会产生身份验证标签，因此无法流式传输 CCM。

解密比较棘手，因为它无法流式传输。无法流式传输解密，因为所有密文都必须可用，并且密文必须在解密之前使用身份验证标签进行验证。

如何为分组密码调整经过身份验证的加密模式，以便它可以用于`CryptoStream`？甚至可能吗？也许是微软不提供它的原因？

微软有推荐吗？例如，将大消息分解成更小的消息或单元（每个都有自己的标签）？还是 MS 建议在输入整个消息和标签之前进行缓冲？

Microsoft 建议在哪里“放置”标签？在流的开头？在流的尽头？

一些有用的参考资料：

*   [对称算法类](http://msdn.microsoft.com/en-us/library/system.security.cryptography.symmetricalgorithm.aspx)
*   [密码模式枚举](http://msdn.microsoft.com/en-us/library/system.security.cryptography.ciphermode.aspx)
*   [加密流类](http://msdn.microsoft.com/en-us/library/system.security.cryptography.cryptostream.aspx)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T13:10:10.207

2010 年，微软 CLR 安全团队发布了[对 System.Security.Cryptography 的扩展，](http://clrsecurity.codeplex.com/wikipage?title=Security.Cryptography.dll)其中包括经过身份验证的对称加密，特别是[GCM](http://clrsecurity.codeplex.com/wikipage?title=Security.Cryptography.AuthenticatedAesCng)。为什么他们从那以后没有做任何事情，我不知道。

但是，由于您的问题强调“微软会做什么？”，所以......他们做到了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T00:32:15.163

您使用的假设并不真正适用于 GCM 等流密码上的经过身份验证的加密：您无法在验证之前解密。这适用于例如 CBC 模式中的 AES，它在应用填充预言时由 MAC 进行身份验证。例如，GCM 模式不执行填充，因为底层流密码是 CTR 模式加密。这反过来意味着不必应用填充，因此填充预言不适用。

当然，在经过身份验证之前对解密数据执行任何业务逻辑是非常不明智的。任何涉及未经验证数据的代码都应该被认为是高风险的，并且应该进行静态分析和审计。如果您想更早地执行任何业务逻辑，那么您确实应该确保在这样做之前对其进行身份验证。把它分成更小的部分肯定是有意义的。

显然，这些只是我的建议。对于 Microsoft 的建议：如果无法使用 Google 或（上帝保佑）Bing 找到它们：询问 Microsoft。这里没有人可以为他们说话。

# maven - 使用 IntelliJ IDEA 运行 mvn 命令

> ID：15492461
> 
> 赞同：23
> 
> 时间：2013-03-19T05:58:54.097
> 
> 标签：maven, intellij-idea

我想运行一个命令

```
mvn clean dbmaintain:updateDatabase 
```

1.  如何为在 IntelliJ IDEA 12 中打开的项目运行此命令？

2.  如果我将运行此命令，它会自动在我的 pom.xml 文件或 jdbc.properties 文件中提到的数据库服务器上运行脚本命令吗？

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2013-03-19T13:05:17.330

如果您的项目已被 IntelliJ 检测为 Maven 项目，那么您应该查看`Maven project`右侧的窗口。您的项目应该显示为一个带有子节点的节点`Lifecycle`。如果展开它，您将看到可用的目标，包括`clean`.

右键单击此目标，选择`Create yourProject[clean]`并在弹出窗口中添加要运行的额外目标，包括`dbmaintain:updateDatabase`. 运行此配置将与从外部命令提示符运行命令完全相同。

如果您的项目未被检测为 Maven 项目，请尝试通过`pom.xml`使用`File > Open`. IntelliJ 将询问您是否要使用 Maven 结构重新打开项目。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2019-02-04T03:43:04.353

在 intellij 中添加多个目标是可能的，如下所示

***步骤0：***

在窗口的maven对话框中右键单击maven项目，如下所述...

***步骤1 ：***

[![在此处输入图像描述](../Images/f9c34f2db96088b7605d3823f9e857e9.png)](https://i.stack.imgur.com/Xjj3V.png)

***第2步 ：*** [![在此处输入图像描述](../Images/5ba4f4b74404e2e715060108d1ad1da4.png)](https://i.stack.imgur.com/R6Dna.png)

# android - Android 媒体播放器\视频问题（第一个视频在我播放第二个时被冻结）

> ID：15492462
> 
> 赞同：0
> 
> 时间：2013-03-19T05:58:57.193
> 
> 标签：android, android-mediaplayer

我正在开发一个基于 android 的应用程序，它可以播放视频。当我播放任何视频时它会启动它然后我按下后退按钮并返回屏幕以选择另一个要播放的视频（不停止第一个视频）当我选择第二个视频时第一个视频（已经在播放）得到冻结和第二个视频在第一个视频后面开始，我可以听第二个视频的音乐等，任何人都可以帮助如何停止和从媒体播放器中删除视频，以便用户可以观看新视频这是我的活动

```
public class TrailVideoActivity extends Activity implements
OnBufferingUpdateListener, OnCompletionListener,
OnPreparedListener, OnVideoSizeChangedListener, SurfaceHolder.Callback{ 
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        requestWindowFeature(Window.FEATURE_NO_TITLE);
        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
        setVolumeControlStream(AudioManager.STREAM_MUSIC);
        PowerManager powerManager = (PowerManager) getSystemService(Context.POWER_SERVICE);
        wakeLock = powerManager.newWakeLock(PowerManager.FULL_WAKE_LOCK, "MyMediaPlayer");
        //setContentView(R.layout.main);

        setContentView(LayoutInflater.from(getParent()).inflate(R.layout.trial_video_player, null));

        mPreview = (SurfaceView) findViewById(R.id.surface_view);
        holder = mPreview.getHolder();
        holder.addCallback(this);
        holder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);

    }
private void playMediaPlayerVideo() {
        Log.d(TAG, "playMediaPlayerVideo called");
        doCleanUp();
        try {
            if (videoURL == "") {
                // Tell the user to provide a media file URL.
                Toast.makeText(this,"Please edit MediaPlayerDemo_Video Activity,"
                        + " and set the path variable to your media file URL.",
                        Toast.LENGTH_LONG).show();
            } 
            Log.d("TrailVideoActivity", videoURL);
            // Create a new media player and set the listeners
            mMediaPlayer = new MediaPlayer();
            mMediaPlayer.setDataSource(videoURL);
            mMediaPlayer.setDisplay(holder);
            mMediaPlayer.prepareAsync();
            mMediaPlayer.setOnBufferingUpdateListener(this);
            mMediaPlayer.setOnCompletionListener(this);
            mMediaPlayer.setOnPreparedListener(this);
            mMediaPlayer.setOnVideoSizeChangedListener(this);
            //mMediaPlayer.setVideoQuality(MediaPlayer.VIDEOQUALITY_HIGH);
            //mMediaPlayer.setScreenOnWhilePlaying(true);
            //mMediaPlayer.setLooping(true);
            mMediaPlayer.setAudioStreamType(2);

        } catch (Exception e) {
            Log.e(TAG, "error: " + e.getMessage(), e);
        }
    }

    public void onBufferingUpdate(MediaPlayer arg0, int percent) {
        Log.d(TAG, "onBufferingUpdate percent:" + percent);

    }

    public void onCompletion(MediaPlayer arg0) {
        Log.d(TAG, "onCompletion called");
    }

    public void onVideoSizeChanged(MediaPlayer mp, int width, int height) {
        Log.v(TAG, "onVideoSizeChanged called");
        if (width == 0 || height == 0) {
            Log.e(TAG, "invalid video width(" + width + ") or height(" + height + ")");
            return;
        }
        mIsVideoSizeKnown = true;
        mVideoWidth = width;
        mVideoHeight = height;
        if (mIsVideoReadyToBePlayed && mIsVideoSizeKnown) {
            startVideoPlayback();
        }
    }

    public void onPrepared(MediaPlayer mediaplayer) {
        Log.d(TAG, "onPrepared called");
        mIsVideoReadyToBePlayed = true;
        if (mIsVideoReadyToBePlayed && mIsVideoSizeKnown) {
            startVideoPlayback();
        }
    }

    public void surfaceChanged(SurfaceHolder surfaceholder, int i, int j, int k) {
        Log.d(TAG, "surfaceChanged called");

    }

    public void surfaceDestroyed(SurfaceHolder surfaceholder) {
        Log.d(TAG, "surfaceDestroyed called");
    }

    public void surfaceCreated(SurfaceHolder holder) {
        Log.d(TAG, "surfaceCreated called");
        playMediaPlayerVideo();

    }

    @Override
    protected void onPause() {
        Log.d(TAG, "onPause called");
        super.onPause();
        releaseMediaPlayer();
        doCleanUp();
    }

    @Override
    protected void onDestroy() {
        Log.d(TAG, "onDestroy called");
        super.onDestroy();
        releaseMediaPlayer();
        doCleanUp();
    }

    private void releaseMediaPlayer() {
        Log.d(TAG, "releaseMediaPlayer called");
        if (mMediaPlayer != null) {
            mMediaPlayer.release();
            mMediaPlayer = null;
        }
    }

    private void doCleanUp() {
        Log.d(TAG, "doCleanUp called");
        mVideoWidth = 0;
        mVideoHeight = 0;
        mIsVideoReadyToBePlayed = false;
        mIsVideoSizeKnown = false;

    }

    private void startVideoPlayback() {
        Log.v(TAG, "startVideoPlayback");
        holder.setFixedSize(mVideoWidth, mVideoHeight);
        /*holder.setKeepScreenOn(false);
        holder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);*/
        mMediaPlayer.start();
        app.dismissDialog();
    }
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T12:10:41.070

我想你也可以在你`MediaPlayer` `release()`的方法中调用方法，`surfaceDestroyed`如下所示

```
public void surfaceDestroyed(SurfaceHolder surfaceholder) {
    Log.d(TAG, "surfaceDestroyed called");
     if (mMediaPlayer != null) {
        mMediaPlayer.release();
        mMediaPlayer = null;
    }
} 
```

`MediaPlayer`你也可以发布`OnBackPressed`

你可以检查这是否有效...

# php - Magento 将 direct_url 存储在 phtml 中

> ID：15492468
> 
> 赞同：3
> 
> 时间：2013-03-19T05:59:16.280
> 
> 标签：php, magento, zend-framework

如何在 .phtml 文件中使用 php 执行此操作

```
<a href=" {{store direct_url="contacts"}} ">contact us</a> 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-19T06:07:39.613

尝试 `<a href="<?php echo $this->getUrl('contacts');?>">Contact Us</a>`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-07-26T22:35:59.097

为了在 phtml 模板中实现与**direct_url**相同的输出，您需要使用**_direct**路由参数生成 URL。

`<a href="<?php echo $this->getUrl('', array('_direct' => 'contacts'));?>">Contact Us</a>`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T06:51:39.877

你可以这样使用。

```
<a href="<?php echo Mage::getUrl("contacts")?>">contact Us</a> 
```

# rally - Rally Rest Api：检索用户登录历史记录的 Java 代码

> ID：15492470
> 
> 赞同：1
> 
> 时间：2013-03-19T05:59:27.230
> 
> 标签：rally

我正在尝试从 java rally-rest-api 获取用户登录历史记录我浏览了 rest-api 文档，但在用户部分。我们没有用户登录日期和时间的任何属性。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:31:52.363

最后登录日期在 Rally 的 Web 服务 API 中还不是一个可用字段。这是一个计划中的功能。密切关注 Rally 的[“最新消息”](https://prod.help.rallydev.com/)提要，了解此功能何时发布。当该功能也可用时，我们将尝试更新这篇文章。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T17:38:54.127

随着本周发布的 Webservices API 1.42，`LastLoginDate`现在是 Rally 用户上的一个可用字段，供订阅和工作区管理员使用。[您现在可以使用Java REST API](https://developer.help.rallydev.com/java-toolkit-rally-rest-api)通过 WSAPI 1.42+ 访问这些数据。

# windows-phone-8 - WP8 ListPicker 展开模式背景

> ID：15492472
> 
> 赞同：1
> 
> 时间：2013-03-19T05:59:31.083
> 
> 标签：windows-phone-8, windows-phone, listpicker

当设备主题设置为深色时，ListPicker 控件具有以下内容：

*   普通模式 - 背景是透明的。
*   扩展模式 - 背景为白色。

当设备主题设置为浅色时，ListPicker 控件具有以下内容：

*   普通模式 - 背景是透明的。
*   扩展模式 - 背景是透明的。

我在列表选择器的项目集合中使用图像+文本。如果主题设置为亮，它工作正常。但是，当主题设置为暗时，图像在正常模式下显示，但在展开模式下不可见。对此有任何解决方法的想法吗？

请参阅下面的图片

![轻主题 - 普通模式](../Images/4854c5c0d73e753c747a2868ded1cd17.png) ![轻主题 - 扩展模式](../Images/6db2e1f82acddb823ed7308f0c6b8289.png) ![深色主题 - 普通模式](../Images/7eba13b3602ba494949929c79215b285.png) ![深色主题 - 扩展模式](../Images/615b24f5eac89a361e251f71e936b145.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T16:55:21.723

我有两个建议很快，不需要对`ListPicker`控件进行大量修改......

1）**使用手机的强调色**作为`OpacityMask`图像...

```
<toolkit:ListPicker.ItemTemplate>
<DataTemplate>
    <StackPanel Orientation="Horizontal">
        <Rectangle Fill="{StaticResource PhoneAccentBrush}" Height="40" Width="40">
            <Rectangle.OpacityMask>
                <ImageBrush ImageSource="{Binding Icon}" />
            </Rectangle.OpacityMask>
        </Rectangle>
        <TextBlock Text="{Binding Name}" />
    </StackPanel>
</DataTemplate>
</toolkit:ListPicker.ItemTemplate> 
```

如果图标使用强调色，它将在黑色或白色背景上可见。

2)**更改ListPicker 高亮状态的背景颜色**，使其在使用Light 主题时为白色（默认），在使用Dark 主题时为黑色（与默认不同）。我还更改了前景色。

```
<ObjectAnimationUsingKeyFrames
    Storyboard.TargetName="UserControl"
    Storyboard.TargetProperty="Foreground"
    Duration="0">
<DiscreteObjectKeyFrame
    Value="{StaticResource PhoneForegroundBrush}"
    KeyTime="0"/>
</ObjectAnimationUsingKeyFrames>
<ObjectAnimationUsingKeyFrames
    Storyboard.TargetName="Border"
    Storyboard.TargetProperty="Background"
    Duration="0">
<DiscreteObjectKeyFrame
    Value="{StaticResource PhoneBackgroundColor}"
    KeyTime="0"/>
</ObjectAnimationUsingKeyFrames> 
```

只要控件 a) 仍然可用并且 b) 适用于深色和浅色主题，像这样更改控件的主题不应导致提交问题。

# android - 加载图片时添加加载圈动画

> ID：15492476
> 
> 赞同：0
> 
> 时间：2013-03-19T05:59:46.117
> 
> 标签：android, android-imageview, progressdialog

我已经有一个列表视图，其中包含从 url 加载的图像。我想在加载时在**每个图像**中添加类似旋转圆圈的东西。现在，我使用 i default 作为加载之前加载的图像的替换。我在这里主要发现的是所有类都扩展了 AsyncTask。好吧，我所拥有的是：

我有一个解析 json 的活动。然后我有一个扩展 BaseAdapter的**MyCustomAdapter ：**

```
 //constructor
    public MyCustomAdapter (Context c, List<RowItem> items){
    this.context = c;
    this.sRowItems = items;
    imageLoader=new ImageLoader(c.getApplicationContext());
}
.
.
.

public View getView(int position, View convertView, ViewGroup parent){
    ViewHolder holder = null;

    LayoutInflater inflater = (LayoutInflater) context.getSystemService(Activity.LAYOUT_INFLATER_SERVICE);

    if(convertView == null){
        convertView = inflater.inflate(R.layout.list_layout, null);
        holder = new ViewHolder();
        holder.txtName = (TextView) convertView.findViewById(R.id.name);
        holder.txtDesc = (TextView) convertView.findViewById(R.id.desc);
        holder.imageView = (ImageView) convertView.findViewById(R.id.prof_pic);

        convertView.setTag(holder);
    }else{
        holder = (ViewHolder) convertView.getTag();
    }

    RowItem sItem = (RowItem) getItem(position);

    holder.txtName.setText(sItem.getShopName());
    holder.txtDesc.setText(sItem.getShopDesc());
    imageLoader.DisplayImage(sItem.getImageUrl(), holder.imageView);

    return convertView;
} 
```

然后我有我的图像加载器类。所以我没有使用 AsyncTask，而是使用了普通的 java 线程。其中一部分是这样的：

```
public class ImageLoader {

   MemoryCache memoryCache=new MemoryCache();
   FileCache fileCache;
   private Map<ImageView, String> imageViews=Collections.synchronizedMap(new WeakHashMap<ImageView, String>());
   ExecutorService executorService; 

public ImageLoader(Context context){
    fileCache=new FileCache(context);
    executorService=Executors.newFixedThreadPool(5);
}

final int stub_id=R.drawable.ic_launcher;

public void DisplayImage(String url, ImageView imageView)
{
    imageViews.put(imageView, url);
    Bitmap bitmap=memoryCache.get(url);
    if(bitmap!=null)
        imageView.setImageBitmap(bitmap);
    else
    {
        queuePhoto(url, imageView);
        imageView.setImageResource(stub_id);
    }
}

private void queuePhoto(String url, ImageView imageView)
{
    PhotoToLoad p=new PhotoToLoad(url, imageView);
    executorService.submit(new PhotosLoader(p));
} 
```

我在stackoverflow中看到了可以使用的答案

```
ProgressDialog mDialog = new ProgressDialog(getApplicationContext()); 
```

但是当我将它放在我的 ImageLoader 类中时，它不适用于我的代码。我很难实现这个加载动画圈。请提供任何帮助。非常感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T06:12:58.783

在每个列表项中都有一个进度条。每当您下载图像时，隐藏此进度条[设置可见性 GONE]。你的 xml 应该看起来有点像

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" >

    <ImageView
        android:id="@+id/imgToBeSet"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerInParent="true"
        android:contentDescription="@string/img_cont_desc_common" />

    <ProgressBar
        android:id="@+id/imgProgress"
        style="?android:attr/progressBarStyleLarge"
        android:layout_width="wrap_content"
        android:layout_centerInParent="true"
        android:layout_height="wrap_content" />

    <TextView
        android:id="@+id/textMsg"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/imgToBeSet"
        android:layout_centerHorizontal="true"
        android:visibility="gone"
        android:text="@string/msg_download_failed" />

</RelativeLayout> 
```

此外，我有一个文本视图，如果下载失败则显示，在您的情况下，您可以删除此文本视图并显示默认图像并在下载失败时隐藏进度条。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:04:12.357

在预执行：

```
ProgressDialog pd= new ProgressDialog(getApplicationContext());
pd.setMessage("Please wait while Image lis being loaded");
pd.show(); 
```

在 doInBackground() 中：

```
pd.setMessage("Downloading image ...."); 
```

在后期执行中：

```
pd.setMessage("");
pd.dismiss(); 
```

# string - Perl 脚本和日期连接删除/文件重命名问题

> ID：15492479
> 
> 赞同：0
> 
> 时间：2013-03-19T06:00:05.543
> 
> 标签：string, perl, file-io

因此，我正在尝试将诸如“test_09182009.xlsx”之类的 excel 文件重命名为“test.xlsx”，并且如果该文件已经存在，则希望覆盖该文件。这在我的本地机器上对我有用，或者我认为但似乎根本不使用网络目录。有人有想法么？

```
my $sourceDir = "\\networkPath\;

opendir ( DIR, $sourceDir );

foreach my $fileName (readdir(DIR)) 
{

    if (index($fileName, '_') != -1) 
    {
        rename($fileName, substr($fileName,0,index($fileName, '_')).".xlsx");
    } 
}
closedir(DIR); 
```

所以我认为当脚本不在被重命名的文件的工作目录中时，我将其隔离。有没有办法用重命名参数来指定？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T07:45:24.593

人们总是感到困惑的一件事`readdir`（以及其他语言的等价物）是它只返回目录中的文件名。它不返回文件的路径。因此，如果您在其中`/home/example`调用包含文件的文件，并且您从中得到的只是，而不是。`readdir``/tmp/example``a``b``readdir``a``/tmp/example/a`

通常，无论何时使用 的结果`readdir`，您都需要使用目录名限定文件或将目录更改为您正在调用的目录`readdir`。

在这种特定情况下，添加：

```
my $filePath = $sourceDir . $fileName; 
```

到循环的顶部（我假设`$sourceDir`在您的实际代码中有一个尾随反斜杠；您粘贴的代码实际上并没有关闭引号）然后采取行动`$filePath`，而不是`$fileName`. （如果可以包含下划线，您将需要调整此答案`$sourceDir`；在这种情况下，您可能希望先生成转换后的文件名，然后`$sourceDir`在重命名之前对它们进行限定。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:07:04.277

尝试使用正斜杠而不是反斜杠。如

```
my $sourceDir = "//networkPath/"; 
```

这是在我们的 Windows 环境中使用 Active Perl 工作的。

# c - C 的上下文无关文法

> ID：15492481
> 
> 赞同：24
> 
> 时间：2013-03-19T06:00:15.823
> 
> 标签：c, context-free-grammar, bnf

我正在为 C 开发一个解析器。我正在尝试查找 C 的所有上下文无关派生的列表。理想情况下，它应该是 BNF 或类似的。我确信这样的事情就在那里，但谷歌搜索并没有给我太多。

事实证明，阅读现有解析器/编译器的源代码比帮助更令人困惑，因为我发现的大多数比我正在构建的更雄心勃勃和复杂得多。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2014-11-21T10:22:44.703

这是一个 ANSI-C 语法，已更新为 C11 标准。应该服务于你的目的。

[http://www.quut.com/c/ANSI-C-grammar-y.html](http://www.quut.com/c/ANSI-C-grammar-y.html)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-04-27T02:28:20.257

您始终可以使用 C11 标准本身的附录 A。免费提供的标准草案将适用于您的目的，网址为[http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf](http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf)。

# php - CakePHP 布局没有改变

> ID：15492482
> 
> 赞同：1
> 
> 时间：2013-03-19T06:00:17.027
> 
> 标签：php, cakephp, cakephp-2.0

我在 CakePHP 2.3.0 中工作，我使用默认布局开发了应用程序。现在我需要将布局更改为，`design.ctp`但应用程序正在呈现`default.ctp`

```
 public function myfun() {
      $this -> layout = 'design';

    } 
```

我试图清除缓存并打开调试模式，但应用程序仍在选择`default.ctp`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:03:42.557

在您的控制器中

```
class MyTestController extends AppController {
    var $layout = 'default'; 
```

在你的行动中尝试

```
public function myfun() {
  $this->layout = 'design';
} 
```

现在，您的视图将使用 design.ctp，它存储在 views/layouts/ 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-20T06:03:11.600

$this->布局=假；评论上面的行，如果你正在铺设你的躺椅，它会很好地工作

# ruby-on-rails - 未列出的远程宝石

> ID：15492484
> 
> 赞同：0
> 
> 时间：2013-03-19T06:00:18.867
> 
> 标签：ruby-on-rails, ruby, linux

我正在使用linux机器。我在我的机器上成功安装了 RVM，ruby。当我给出**远程列表 -r**时，它显示以下错误消息。

> /home/bathakarai/.rvm/rubies/ruby-1.9.2-p320/bin/gem:4：警告：PATH 中不安全的世界可写目录 /home/bathakarai，模式 040777
> 
> *** 远程宝石 ***
> 
> 错误：执行 gem 时 ... (Gem::RemoteFetcher::FetchError) Errno::EHOSTUNREACH: 没有到主机的路由 - 连接 (2) ( [http://rubygems.org/latest_specs.4.8.gz](http://rubygems.org/latest_specs.4.8.gz) )

但它成功列出了本地宝石。

> [bathakarai@Project1-CO ~]$ gem list -l /home/bathakarai/.rvm/rubies/ruby-1.9.2-p320/bin/gem:4：警告：PATH 中不安全的世界可写目录 /home/bathakarai，模式 040777
> 
> ***当地宝石***
> 
> minitest (1.6.0) rake (0.8.7) rdoc (2.5.8)

请帮帮我，如何解决这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:30:14.263

**"导出浏览器中给出的 $HTTP_PROXY=IPAddress:portnumber"**。对于任何参考[http://khylo.blogspot.in/2007/12/ruby-on-rails-headaches.html](http://khylo.blogspot.in/2007/12/ruby-on-rails-headaches.html)

# css - 我应该在我的网站上使用英寸作为尺寸吗？

> ID：15492492
> 
> 赞同：-1
> 
> 时间：2013-03-19T06:00:50.440
> 
> 标签：css, printing, device, consistency, inches

到目前为止，我主要使用像素进行网页设计，但我想知道如何调整我的网站，或者是否需要调整它以适应视网膜显示器等。此外，我想控制我的页面在何时显示它们被打印出来。使用英寸或其他度量单位是否明智？屏幕较小的设备如何转换尺寸？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T08:26:40.660

由于历史原因，在 CSS 中，“in”将始终对应 96“px”。尽量不要想太多。没有任何 CSS 单元与特定于设备的物理属性有任何联系。

您不需要做任何事情来调整您当前的布局以适应高密度屏幕。您只需要选择性地提供任何位图图像的替代更高分辨率版本，以便在应用大量视口缩放的更高像素密度设备上查看时它们看起来不像 NES 精灵。

请参阅我对其他问题的回答，它也应该回答您的问题：[Understanding Retina device CSS Media queries](https://stackoverflow.com/questions/15456436/understanding-retina-device-css-media-queries/15475237#15475237)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-19T06:05:54.230

简短的回答不，屏幕上的一英寸对于其他所有屏幕分辨率和设备来说都是不同的尺寸。

[http://en.wikipedia.org/wiki/Pixels_per_inch](http://en.wikipedia.org/wiki/Pixels_per_inch)

[http://en.wikipedia.org/wiki/Dots_per_inch](http://en.wikipedia.org/wiki/Dots_per_inch)

因此，例如，您屏幕上的 1 英寸可能是另一个屏幕上的 1.3。

使用像素是通用的。

# magento - Magento 从 1.5 升级到 1.7 后编辑发票 PDF

> ID：15492495
> 
> 赞同：1
> 
> 时间：2013-03-19T06:01:10.040
> 
> 标签：magento, templates, magento-1.7

自从升级到 Magento 1.7 后，发票页眉左角的徽标已经变成了两倍大小，并且右侧的地址详细信息被推回右侧，因此现在不是 4 行，而是 12 行。

我已经减小了徽标的大小，并在系统/配置/销售/销售/发票和装箱单设计中上传了一个 200x50 像素的新徽标。徽标变小了，但地址仍然向右挤压。

我查看了 /app/code/core/Mage/Bundle/Model/Sales/Order/Pdf/Items/Abstract.php 和 Invoice.php 但不知道我会在哪里更改地址的宽度。

我没有亲自使用 1.5，但显然你只是去 System/PDF 编辑 PDF 模板，现在我们无法找到编辑它们的任何地方。

关于如何编辑这些 PDF 模板的任何想法，尤其是发票右上角地址的宽度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-08-02T13:04:05.800

答案有点晚，但我遇到了同样的问题。我用的是1.9。

如果您打开 /app/code/local/Mage/Sales/Model/Order/Pdf/Abstract.php（假设您正在覆盖核心，而不是直接编辑它）。

在“insertAddress()”函数中，查找显示以下内容的行：

```
foreach (Mage::helper('core/string')->str_split($value, 45, true, true) as $_value) { 
```

在显示“45”的地方，将其更改为更高的值。我去了65。

# wordpress - 通常显示评论的 Wordpress 错误

> ID：15492505
> 
> 赞同：0
> 
> 时间：2013-03-19T06:02:02.297
> 
> 标签：wordpress

我已经在我的 wordpress 网站上的屏幕选项中关闭了评论，但现在我在评论框曾经所在的位置收到了这个错误：

警告：call_user_func() 期望参数 1 是一个有效的回调，在第 1335 行的 /home/website/public_html/wp-includes/comment-template.php 中找不到函数“custom_comment”或无效函数名

我不知道是什么导致了这个问题。我发现摆脱它的唯一方法是从 loop-post-single.php 文件中删除注释。但是，我不想这样做，因为我确实希望将来允许发表评论。现在，当我在屏幕选项中打开评论时，我仍然收到同样的错误。我检查了comment-template.php 文件并将函数名称更改为'custom-comment' 它消除了错误，但注释不再正常工作。

我有另一个名为 theme-comments.php 的文件。该文件具有自定义注释功能。是否应该有一种方法可以链接这两个文件？

任何帮助都会很棒

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:23:52.707

请首先在您的主题文件夹中检查您的comment.php，其中可能有类似的代码

```
wp_list_comments( array( 'callback' => 'xxxx_comment' ) ); 
```

将其更改为

```
wp_list_comments(); 
```

希望这个对你有用。

# sql - 需要找到两个关系中不参与自然连接的所有元组

> ID：15492508
> 
> 赞同：0
> 
> 时间：2013-03-19T06:02:31.753
> 
> 标签：sql, sqlplus

这是架构：

```
Student-schema =(studentnum, name, standing, gpa, major)
Class-schema = (schedulenum, semester, department, classnum, days, time, place, enrollment)
Instructor-schema = (name, department, office)
Teaches-schema = (name, schedulenum, semester)
Taking-schema = (studentnum, schedulenum, semester, grade) 
```

我必须编写一个查询来查找学生和服用中的所有元组，这些元组不参与学生和服用的自然连接。结果是与来自 student 和 take 的元组的单一关系，并适当地填充了空值。

我能想出的唯一想法是获得学生/录取的完全连接，然后保留在删除自然连接元组后剩下的元组。但我不知道该怎么做。这是迄今为止我提出的最佳解决方案，但我没有选择任何行。我很确定我应该有一些结果。我只是在寻找 SQL 专业人士可能愿意分享的任何建议。

```
SELECT*
FROM student full join taking ON student.studentnum = taking.studentnum
MINUS
SELECT*
FROM student,taking
WHERE student.studentnum = taking.studentnum; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:06:43.770

此 sql 代码在 Oracle 中有效！您应该替换完全外部联接和自然联接以便在您的 DBMS 中工作。

(SELECT * FROM student NATURAL FULL OUTER JOIN Take) MINUS (SELECT * FROM student NATURAL INNER JOIN Take)

# c# - System.Runtime.InteropServices.COMException (0x800A03EC) 错误

> ID：15492510
> 
> 赞同：1
> 
> 时间：2013-03-19T06:02:35.727
> 
> 标签：c#, excel, com, vsto

我收到错误

> System.Runtime.InteropServices.COMException (0x800A03EC)

对于我下面的 C# 代码，我正在尝试在此处保存工作表，

但同样适用于本地环境：Office 2010、Windows 2003

不在服务器上工作：Office 2003、Windows 2003

代码：

```
wBook = xCel.Workbooks.Open(ExcelPath);                
wSheet = (Excel.Worksheet)wBook.Worksheets.get_Item(1);                    
wSheet.Copy(Type.Missing, Type.Missing);                    
wSheet = (Excel.Worksheet)wBook.Sheets[1];
wSheet.SaveAs(ExcelCopyPath); 
```

这里有什么问题？保存时失败。在其他一些服务器中，它会保存但其中包含我不想要的宏。

示例跟随错误图片

![在此处输入图像描述](../Images/d8c1436c00d511e746aa251ec8f2a244.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T13:53:55.533

在服务器上使用办公自动化并不是一个好习惯，您可以考虑像 epplus 这样的替代方案。

对于您的问题 office 2003 需要 Microsoft.Office.Excel 版本 11 和 office 2010 需要版本 14 。我猜在您的项目中您会添加版本 14，因此它适用于 word 2010，但不适用于带有 office 2003 的服务器

尝试后期绑定[http://support.microsoft.com/kb/302902](http://support.microsoft.com/kb/302902)，如果这解决了您的问题，请将其视为迭代问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T14:15:33.047

你可以使用我写的 belov 代码。我在另一个项目中尝试过。它正在工作

**编辑 ：**

可能导致您的错误的原因是您的 excel 版本与您在代码中使用的不同。

```
Microsoft.Office.Interop.Excel.Application xlApp;
Microsoft.Office.Interop.Excel.Workbook xlWorkBook;
Microsoft.Office.Interop.Excel.Worksheet xlWorkSheet;
object misValue = System.Reflection.Missing.Value;

xlApp = new Microsoft.Office.Interop.Excel.Application(); 
xlWorkBook = xlApp.Workbooks.Add(misValue); 
xlWorkSheet = (Microsoft.Office.Interop.Excel.Worksheet)xlWorkBook.Worksheets.get_Item(1);    

xlWorkSheet.Cells[1, 1] = "xxx";
xlWorkSheet.Cells[2, 1] = "yyy";

xlWorkSheet.get_Range("A1", "A7").Borders.Weight = 2;
xlWorkSheet.get_Range("A1", "A7").Font.Bold = true;
xlWorkSheet.get_Range("A1", "A7").Font.Size = 13;

xlWorkSheet.get_Range("A2", "A7").Borders.Weight = 2;
xlWorkSheet.get_Range("A2", "A7").Font.Bold = true;
xlWorkSheet.get_Range("A2", "A7").Font.Size = 13;

xlWorkSheet.get_Range("A1", "B9").ColumnWidth = 25;

xlWorkBook.SaveAs(System.Windows.Forms.Application.StartupPath + "\\exceller\\6 Nolu sosyal ve kültürel faaliyetler\\" +
    txtFaaliyetAdi.Text + ".xls", Microsoft.Office.Interop.Excel.XlFileFormat.xlWorkbookNormal, misValue, misValue, misValue
, misValue, Microsoft.Office.Interop.Excel.XlSaveAsAccessMode.xlExclusive, misValue, misValue, misValue, misValue, misValue);

xlWorkBook.Close(true, misValue, misValue); 
xlApp.Quit(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-24T07:29:18.583

这是IIS运行时的权限问题我遇到了这个问题，我以这种方式解决了它

我继续文件夹

**C:\Windows\System32\config\SystemProfile**

和

**C:\Windows\SysWOW64\config\SystemProfile**

是受保护的系统文件夹，它们通常有锁。

右键单击-> 卡安全-> 单击编辑-> 添加 untente “Autenticadet 用户”并分配权限。

至此一切都解决了，如果您仍然有问题，请尝试将所有权限授予“所有人”

# extjs - 如何在extjs中获取项目

> ID：15492516
> 
> 赞同：1
> 
> 时间：2013-03-19T06:03:03.593
> 
> 标签：extjs, extjs4, extjs4.1, extjs-mvc

在我的项目中，我`widget alias`在“查看”中为以下代码创建了`notifications`. 现在，如何访问“控制器”中的每个项目？

```
extend: 'Ext.panel.Panel',
alias: 'widget.notifications',
layout: 'fit',
items:[{
    xtype: 'container',
    layout: {type: 'vbox', align: 'stretch'},
    items: {
        xtype: 'container',
        flex:1,
        layout: {type: 'vbox', align: 'stretch'},
        items:[{
            xtype: 'container',
            flex: 1,
            items: [{
                xtype: 'container',
                height: 20,                 
                html: "This week",                  
            },
            {
                xtype: 'container',
                flex: 1,
                layout: {type: 'vbox', align: 'stretch'},
                items: [{
                    xtype: 'container',
                    height:20,
                    html : 'show submit status here'
                },
                {
                    xtype: 'container',
                    flex: 1,
                }]
            }]
        },
        {
            xtype: 'container',
            flex: 1,
            layout: {type: 'vbox', align: 'stretch'},
            items: [{
                xtype: 'container',
                height: 20,
                html: "This month"
            },
            {
                xtype: 'container',
                flex: 1,
                layout: {type: 'vbox', align: 'stretch'},
                items: [{
                    xtype: 'container',
                    html: 'submit status of month here',
                    height: 20
                },
                {
                    xtype: 'container',
                    flex: 1,
                }]
            }]
        }]
    }
}] 
```

我试过：

```
 var notificationView = Ext.widget('NotificationView');
 var childItem = notificationView.items.items[0].items.items[0].items.items[0].items.items[0]; 
```

这只是让我头疼和许多错误。

我也尝试过像这样使用 ComponentQuery：

```
var childItem = notificationView.ComponentQuery.query('container>container>container>container'); 
```

仅获得第一个孩子，而不是其他孩子。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:52:15.113

您可以在组件查询中使用组件的任意属性来识别它。例如，如果您将属性添加`refId : 'myMonthlyStatus'`到最后一个容器，则可以`query('container [refId=myMonthlyStatus]')`从任何地方使用它。

# java - 将整个 C++ 应用程序包装到 java 中？

> ID：15492518
> 
> 赞同：3
> 
> 时间：2013-03-19T06:03:09.377
> 
> 标签：java, android, c++, java-native-interface, swig

我目前在一家公司工作，该公司给了我一个由以前的学生实施的应用程序。他们用 SWIG 完全包装了（甚至是主要的）现有的 C++ 应用程序。

该应用程序最初设计用于在桌面上运行，现在他们想让它在安卓手机上运行。

我的问题是：

1.  知道他们没有成功包装所有库，应用程序是否可以工作？

2.  还有另一种方法可以做到这一点吗？

3.  是否需要用Java编写main并调用C++库？

欢迎任何想法！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:19:17.880

我怀疑是否有像 SWIG 这样的自动实用程序可以转换 PC -> Android - Android OS 具有显着不同的架构。

看看[Android NDK](http://developer.android.com/tools/sdk/ndk/index.html) - 它是一个开发工具包，支持通常 Java 应用程序中称为 JNI 的功能。您可以使用 Android NDK 在您的 Android 应用程序中包含 C++ 库。所以它是开发跨平台应用程序的方式。

# javascript - JavaScript 方法中的 Object.clone

> ID：15492519
> 
> 赞同：1
> 
> 时间：2013-03-19T06:03:15.480
> 
> 标签：javascript, jquery

`Object.clone`现代浏览器中是否有任何本机方法？这是一样的`jQuery.extend`

```
TypeError: Object.clone is not a function 
```

`Object.create`没有给出结果`jQuery.extend`。我不想包含 jQuery lib 来克隆我的对象

```
var m = { a: 10 };
var x = Object.create( m );

m.a = 99;
x.b = 10;

console.log( m , x ); 
```

我的预期结果是`{ a:99 } { b:10, a:10 }`，但它给出了`{ a:99 } { b:10, a:99 }`

# coordinates - 龟线交点，坐标

> ID：15492522
> 
> 赞同：0
> 
> 时间：2013-03-19T06:03:32.773
> 
> 标签：coordinates, intersect

我需要做一个小程序，画三个圆，前两个之间有一条线，然后确定第三个是接触还是相交。除了最后一部分，我什么都做了。我正在尝试使用这些点来确定该区域是否为 0，这意味着第三个点实际上与线相交。正确的？或者我可以使用另一种方式。从技术上讲，第三个圆圈可以在线的 3 个像素内。问题出在标签底部附近。我将不胜感激任何将其推向另一个方向的帮助或建议。谢谢你。

```
import turtle

x1, y1 = eval(input("Enter coordinates for the first point x, y: "))
x2, y2 = eval(input("Enter coordinates for the second point x, y: "))
x3, y3 = eval(input("Enter coordinates for the third point x, y: "))

turtle.penup()
turtle.goto(x1, y1)
turtle.pendown()
turtle.circle(3)

turtle.penup()
turtle.goto(x2, y2)
turtle.pendown()
turtle.circle(3)

turtle.penup()
turtle.goto(x3, y3)
turtle.pendown()
turtle.circle(3)

turtle.penup()
turtle.color("red")
turtle.goto(x1, y1)
turtle.pendown()
turtle.goto(x2, y2)

a = (x1, y1)
c = (x3, y3)
#can't multiply sequence by non-int of type 'tuple'

area = (a * c) / 2    

if area == 0:
    print("Hit")
else:
    print("Miss") 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T12:10:17.143

我是赖特吗？圆圈彼此的位置无关紧要吗？

从两个中心点之间的线做一个线性函数。(ax+b=y) 其中 a 是梯度，b 是 y 交点。

将 a 旋转 90° 很容易。逆和否定a。

求第二个线性函数的 b。b'=ya'*x 。立即将 x,y 替换为 3\. 圆点的坐标。现在你有一个线性函数，它与旧函数是矩形的，第三个圆点是其中的一部分。

将旧线性函数与新线性函数相交。

你会得到很多点。3\. 圆点到地段点的距离，是否大于半径。

你需要那里的功能（JS）：

```
function makelinear (x1,y1,x2,y2){
         var temp=x2-x1;
         if(temp==0)temp=0.00000000000001;//not clean but fast.
         var a=(y2-y1)/temp,
             b=y1-a*x1;
         return[a,b];
         }
function ninetydeg(a,b,x,y){
         var aout=1/a,
             bout=y+aout*x;
         return [aout,bout];
         }
function lineintersection(a1,b1,a2,b2){
         var temp=a1-a2;
         if(temp==0)temp=0.00000000000001;
         var x=(b2-b1)/temp,
             y=a1*x+b1;
         return[x,y];
         } 
function distance(x1,y1,x2,y2){
         var x=x1-x2,
             y=y1-y2;
         return(Math.sqrt(x*x+y*y));
         } 
```

对不起，我很复杂，我在短时间内没有找到其他解决方案。可能有一个矢量解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:23:47.540

第三个圆的中心是 (x3,y3) 并且半径为 3 并且您正在尝试确定与 ([x1,y1],[x2,y2]) 线段的任何交点。

如果直线中的任何点在圆内，则存在交叉点。圆区域公式为： (x-x3)^2 + (y-y3)^2 < 3^2 你应该测试线上的每个点是否这个不等式成立，如果任何一个点满足这个条件，那么你可以得出结论线和圆相交。第一步是确定线段的坐标点（直线中 [x1,y1],[x2,y2] 点之间的所有点），然后您可以尝试循环测试这些点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T06:26:06.377

您可以通过定义从一个顶点到另外两个顶点的向量来计算三角形的面积（添加第三个常数坐标以将平面嵌入 ​​3 维空间（因此叉积有意义）），

```
#pseudocode
b = (x2, y2, 1) - (x1, y1, 1) = (x2-x1, y2-y1, 0)
c = (x3, y3, 1) - (x1, y1, 1) = (x3-x1, y3-y1, 0) 
```

然后取这些的叉积，

```
a = b cross c = (by*cz-bz*cy, bz*cx-bx*cz, bx*cy-by*cx) 
```

然后取这个结果向量的大小，它是由两个向量定义的平行四边形的面积，

```
pa = |a| = ax^2 + ay^2 + az^2 
```

然后除以二得到三角形的面积（平行四边形的一半）。

```
ta = pa/2 
```

来源：[http ://en.wikipedia.org/wiki/Triangle_area#Using_vectors](http://en.wikipedia.org/wiki/Triangle_area#Using_vectors)

# c# - 从 XML 文档中选择节点类型

> ID：15492523
> 
> 赞同：1
> 
> 时间：2013-03-19T06:03:36.380
> 
> 标签：c#, xml, linq, linq-to-xml

您好我有一个场景，我想在 xml 文件中搜索节点并识别文件类型。

```
XDocument xDococumnetObj = XDocument.Load(filePath);
XElement presentationElement= 
      xDococumnetObj.Descendants()
                    .Where(x => x.Name.LocalName.Equals("collegge"))
                    .FirstOrDefault(); 
```

我已经编写了返回我大学节点的查询。但我只想确定它的文件类型。我想识别文档是否包含`{"Collegge","University","Company","Banking"}`在单个查询中并仅返回其类型。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:15:35.207

```
string[] docTypes = {"Collegge", "University", "Company", "Banking"};
XDocument xdoc = XDocument.Load(filePath);
var docType = docTypes.FirstOrDefault(type => 
                xdoc.Descendants().Any(n => n.Name.LocalName == type.ToLower())); 
```

**更新：**如果在同一个命名空间中声明所有元素，您可以使用以下代码来避免遍历文件中的所有元素

```
string[] docTypes = {"Collegge", "University", "Company", "Banking"};
XDocument xdoc = XDocument.Load(filePath);
XNamespace ns = "http://www.foo.org/2013/bar";
var docType = docTypes.FirstOrDefault(type => xdoc.Descendants(ns + type).Any()); 
```

# php - 从数据库中获取动态值以绘制动态图表

> ID：15492524
> 
> 赞同：1
> 
> 时间：2013-03-19T06:03:39.423
> 
> 标签：php, javascript, jquery, html, highcharts

我想从数据库中动态检索值并使用 Highcharts 样条图进行绘图。问题是我想不出一种在不刷新整个函数的情况下将值传递给 Javascript 函数的方法，这将从头开始绘制整个图表。当前代码包含一个数组，它只是使用一个数组和一个随机函数来生成新值。我想找到一种使用 PHP 将新值从数据库中插入到该数组的方法。问题是我不知道如何在不影响图形的情况下继续调用数据库查询。使用数据库中的动态值动态绘制图形的一些帮助会有所帮助。

```
$(function () {
    $(document).ready(function() {
        Highcharts.setOptions({
            global: {
                useUTC: false
            }
        });

        var chart;
        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'container',
                type: 'spline',
                marginRight: 10,
                events: {
                    load: function() {

                        // set up the updating of the chart each second
                        var series = this.series[0];
                        setInterval(function() {
                            var x = (new Date()).getTime(), // current time
                                y = Math.random();
                            series.addPoint([x, y], true, true);
                        }, 1000);
                    }
                }
            },
            title: {
                text: 'Trend analysis'
            },
            xAxis: {
                labels: {
                rotation: 320

            },
                type: 'datetime',
                tickPixelInterval: 150
            },
            yAxis: {
                title: {
                    text: 'Value'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            credits:{
                enabled:false
            },
            tooltip: {
                formatter: function() {
                        return '<b>'+ this.series.name +'</b><br/>'+
                        Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', this.x) +'<br/>'+
                        Highcharts.numberFormat(this.y, 2);
                }
            },
            legend: {
                enabled: false
            },
            exporting: {
                enabled: false
            },
            series: [{
                name: 'Random data',
                data: (function() {
                    // generate an array of random data
                    var data = [],
                        time = (new Date()).getTime(),
                        i;

                    for (i = -19; i <= 0; i++) {
                        data.push({
                            x: time + i * 1000,
                            y: Math.random()
                        });
                    }
                    return data;
                })()
            }]
        });
    });

}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T09:07:31.880

您正在寻找的技术称为 ajax。这是 javascript 在不加载整个页面的情况下从服务器请求更多数据的地方。基本方法是：

1.  页面已加载并呈现初始图表。
2.  然后该页面向用户请求附加数据。在 jquery 中，这是通过调用 $.ajax 来完成的
3.  服务器响应更多数据。
4.  javascript 使用 chart.series.addpoint 或 chart.series.setData 将此数据加载到图表中。
5.  然后定期重复步骤 2 到 5。

Highcharts 在这里有很好的文章：http: [//docs.highcharts.com/#preprocessing-live-data](http://docs.highcharts.com/#preprocessing-live-data)和一些示例代码。您将需要修改 php 以从数据库中读取数据，并且您可能需要更改 javascript 中的移位逻辑，具体取决于您是否希望旧点脱落或留在图表上。

如果你的series不是太大，每次都返回整个数据集，用chart.series.setData替换整个series，而不是逐点做，也不是没有道理。您需要的 API 调用记录在这里：[http ://api.highcharts.com/highcharts#Series](http://api.highcharts.com/highcharts#Series)

# java - java对象创建

> ID：15492526
> 
> 赞同：-1
> 
> 时间：2013-03-19T06:03:46.897
> 
> 标签：java, object, creation

```
public class ServersList {

    private Host host;
    private Server server;
    private InfoList infoList;
    private List<AbcInformation> abcInformation;

    @XmlElement(name = "Host")
    @JsonProperty("Host")
    public Host getHost() {
        return this.host;
    }

    //Get Set functions for all object
} 
```

我们有上面的课程。它包含其他类的一些对象和 get/set 方法，如上所示。我们正在解析一个 XML 文件并创建一个 ServersList 类的数组。例如，

```
ServersList[] serversArray = new ServersList[count];
for (int index = 0; index < count; index++) {
  serversArray[index] = new ServersList();

  serversArray[index].setInfoList(serConfig
            .getInfoList());
  serversArray[index].setHost(serConfig
            .getHost());
  serversArray[index].setServer(serConfig
            .getServer());

  serversArray[index].getHost().setCid(
    listResponse.getHost().get(index).getCid());
  serversArray[index].getHost().setCName(
    listResponse.getHost().get(index).getCname());
  serversArray[index].getHost()
      .setCurrentName(listResponse.getHost().get(index)
     .getCurrentName());
  serversArray[index].getHost().setHostName(listResponse.getHost().
     get(index).getName());
  serversArray[index].getHost().setHostUuid(
     listResponse.getHost().get(index).getId());

} 
```

我们的问题是在 for 循环之后，serversArray 数组的所有值都将相同（可能是 xml 中的最后一个元素）。在调试时我明白，每次迭代每行的值都会改变当前行的值。你能为此提出一个解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:47:06.063

尝试这样做，应该可以。

```
public static void main(String[] args) {
        ServersList sList=null;
        int count=10;
        ServersList[] serversArray = new ServersList[count];
        for (int index = 0; index < count; index++) {
          sList = new ServersList();
          sList.setHost(....);
          //..........other setter...........
          serversArray[index] = sList;
        }

        for (ServersList serversList : serversArray) {
            System.out.println(serversList.getHost());
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T10:02:39.773

最后我找到了解决方案。我为以下类添加了复制构造函数

服务器列表、主机、服务器、信息列表、AbcInformation

# c++ - wxJSONOBJECTARRAY - 访问所需的键值对

> ID：15492527
> 
> 赞同：-2
> 
> 时间：2013-03-19T06:03:54.300
> 
> 标签：c++, json, wxwidgets

我刚刚开始在 wxJSON 的帮助下使用 JSON 对象。当我尝试处理单个 JSON 对象（下面给出的示例）时，它工作正常，它工作正常。

```
 {
   "wxWidgets" : 1
   {
     "Version" :1
     {
       "Major" : 2,
     },
     "Languages" :
     [
       "C++",
       "Python",
       "Perl",
       "C#/Net"
     ]
   }
 } 
```

但是，当 JSON 对象中有一组值时，我无法解析 JSON 对象并提取所需的键值对。

例子 ：

```
 [   {
       "wxWidgets" : 1
       {
         "Version" :1
         {
           "Major" : 2,
         },
         "Languages" :
         [
           "C++",
           "Python",
           "Perl",
           "C#/Net"
         ]
       }
     }
     {
       "wxWidgets" : 2
       {
         "Version" :2
         {
           "Major" : 3
         },
         "Languages" :
         [
           "java",
           "j2ee",
           "j2me"
         ]
       }
     }
] 
```

当它是单个对象时，我访问这样的元素：

```
wxJSONValue root; //this will have the json object created above.
wxString c = root[_T("wxWidgets")][_T("Version")].AsString(); // to get the version. 
```

`JSONOBJECT`如果有第二个示例中给出的 s数组，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:39:30.783

由于您正在使用数组，

`root[_T("wxWidgets")][_T("Version")]`

不尊重 JSON 对象中数组的第一个对象（在本例中为索引 0）。代码需要反映您现在正在使用数组，因此：

```
root[0][_T("wxWidgets")][_T("Version")] 
```

# javascript - 在 KineticJS 中裁剪图像的正确方法

> ID：15492529
> 
> 赞同：1
> 
> 时间：2013-03-19T06:04:04.200
> 
> 标签：javascript, kineticjs

我尝试用这种方式裁剪图像

```
var crop = new Kinetic.Image({ 
    image: img , 
    x: 100, y: 100, width: 100, heigth: 100, 
    crop : {
        x: 0, y: 0, width: 100, heigth: 100
    }
}); 
```

[在http://jsfiddle.net/cm5jj/](http://jsfiddle.net/cm5jj/)中看到它不起作用

然后我尝试用图像填充矩形

```
var rect = new Kinetic.Rect({  
    x: 100,  
    y: 100,  
    width: 100,  
    height: 100,  
    fill:{  
        image: img,  
        crop:{  
            x: 0,  
            y: 0,  
            width: 100,  
            height: 100  
        },   
    }
}); 
```

仍然无法工作[http://jsfiddle.net/cm5jj/1/](http://jsfiddle.net/cm5jj/1/) 请帮忙。
非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T01:59:52.863

我认为问题在于您将图像裁剪为图像大小的确切尺寸，这意味着您根本没有裁剪。尝试将宽度和高度设置为大于裁剪宽度和高度值的值。

另外，如果你想为精灵设置动画，你应该使用 Kinetic.Sprite() 代替

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-16T15:24:47.560

在您的第一个代码段中，您输入了错误`height`的`heigth`. 也许拼写检查会对此有所帮助。

至于你的第二个代码片段，要用图像填充矩形，你需要`fillPatternImage`属性，它需要一个图像对象，`fill`用于填充颜色。

### `fill`例子：

```
var rect = new Kinetic.Rect({  
    x: 100,  
    y: 100,  
    width: 100,  
    height: 100,  
    fill: 'blue'
}); 
```

### `fillPatternImage`例子：

```
var img = new Image();
img.onload = function() {
    var rect = new Kinetic.Rect({  
        x: 100,  
        y: 100,  
        width: 100,  
        height: 100,  
        fillPatternImage: img
    });
    // Add rect to your layer, and do drawing
};
img.src = 'http://cdn.sstatic.net/img/share-sprite-new.svg'; 
```

# multithreading - 黑莓多线程

> ID：15492539
> 
> 赞同：1
> 
> 时间：2013-03-19T06:05:10.510
> 
> 标签：multithreading, blackberry, java-me

我想了解 BlackBerry 中的线程概念。

在 Android 中，我们有异步任务或处理程序进行通信。黑莓中有类似的东西吗？两个线程如何通信？如何将数据从后台线程传递到 UI 线程？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:53:19.243

并发不是一件小事。制作一个线程安全的解决方案真的很困难。在 Blackberry Java 中情况更糟，因为只有 JavaME 线程 API 可用，这意味着您不能使用所有 Java SE 高级类（如执行器、锁、集合等）。

我的建议是不要尝试自行移植 Android`AsyncTask`或任何其他与并发相关的高级类，因为您很可能会犯错误（除非您精通并发编程）。我自己会尽量避免。而是尽可能保持并发代码的简单和小。大多数时候，您只需要从工作线程刷新 GUI。这可以使用`UiApplication.invokeLater`and轻松完成`UiApplication.invokeAndWait`，并且您根本不需要编写并发代码。

如果您想了解有关并发的更多信息，我将从 Oracle 的[本教程](http://docs.oracle.com/javase/tutorial/essential/concurrency/)开始。它针对 JavaSE，但几乎前半部分对 JavaME 也很有用。如果你想学习更高级的并发编程，[这本书](https://rads.stackoverflow.com/amzn/click/com/0321349601)是必读的。

# javascript - 大家好，请告诉我为什么这段代码没有给出任何响应

> ID：15492542
> 
> 赞同：-6
> 
> 时间：2013-03-19T06:05:13.287
> 
> 标签：javascript

检查代码...

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<script type="text/javascript">
function operation(thevalue)
{
    var result;
    var one=document.forms["myform1"]["one"];
    var two=document.forms["myform1"]["two"];
    document.write(one);
    var x=document.getElementById(thevalue).value;

    if(x == "add")
    {
        result=one+two;
        alert ("Answer is : "+result);
    }

}
</script>
</head>
<body>
<form name="myform1">
Enter 1st no :<input type="text" name="one"  /><br/>
Enter 2nd no :<input type="text" name="two"  /><br/>
<input type="radio" id="add" name="operation" value="add" onclick="operation(this.value)" />Add
<input type="radio" id="sub" name="operation" value="sub" onclick="operation(this.value)" />Sub
<input type="radio" id="mul" name="operation" value="mul" onclick="operation(this.value)" />Mul
<input type="radio" id="div" name="operation" value="div" onclick="operation(this.value)" />Div

</form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:20:19.370

您的函数和输入名称具有相同的名称，您需要从输入中提取获取值（并将它们解析为数字）

[http://jsfiddle.net/VfnYB/1/](http://jsfiddle.net/VfnYB/1/)

```
<form name="myform1">
Enter 1st no :<input type="text" name="one"  /><br/>
Enter 2nd no :<input type="text" name="two"  /><br/>
<input type="radio" id="add" name="operation" value="add" onclick="op(this.value)" />Add
<input type="radio" id="sub" name="operation" value="sub" onclick="op(this.value)" />Sub
<input type="radio" id="mul" name="operation" value="mul" onclick="op(this.value)" />Mul
<input type="radio" id="div" name="operation" value="div" onclick="op(this.value)" />Div

</form>

window.op=function(val)
{
    var result;
    var one=parseInt(document.forms["myform1"]["one"].value);
    var two=parseInt(document.forms["myform1"]["two"].value);

    if(val == "add")
    {
        result=one+two;
        alert ("Answer is : "+result);
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:23:35.157

1）将操作更改为另一个名称，因为您已将单选按钮命名为“操作”

```
<input type="radio" id="add" name="operation" value="add" onclick="operation(this.value)" />Add 
```

2）在您的代码中，缺少***.value***部分，否则您将仅获得元素而不是其值。

```
 var one=document.forms["myform1"]["one"].value;
 var two=document.forms["myform1"]["two"].value; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T06:07:28.210

将操作更改为导致冲突的另一个名称..

# linux - 在 Linux Redhat 上安装 Trans-Proteomic Pipeline (TPP) 4.6.1

> ID：15492546
> 
> 赞同：1
> 
> 时间：2013-03-19T06:05:58.887
> 
> 标签：linux, redhat

我在我的 Linux 环境 (Redhat) 上安装 TPP 软件时遇到了一些问题。错误信息如下所示：

```
perl -c  -I  ../../build/RedHat-x86_64 ../../build/RedHat-x86_64/tpp_gui.pl
Can't locate IO/Compress/Zip.pm in @INC (@INC contains: ../../build/RedHat-x86_64 /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi /usr/lib64/perl5/site_perl/5.8.7/x86_64-linux-thread-multi /usr/lib64/perl5/site_perl/5.8.6/x86_64-linux-thread-multi /usr/lib64/perl5/site_perl/5.8.5/x86_64-linux-thread-multi /usr/lib/perl5/site_perl/5.8.8 /usr/lib/perl5/site_perl/5.8.7 /usr/lib/perl5/site_perl/5.8.6 /usr/lib/perl5/site_perl/5.8.5 /usr/lib/perl5/site_perl /usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi /usr/lib64/perl5/vendor_perl/5.8.7/x86_64-linux-thread-multi /usr/lib64/perl5/vendor_perl/5.8.6/x86_64-linux-thread-multi /usr/lib64/perl5/vendor_perl/5.8.5/x86_64-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.8 /usr/lib/perl5/vendor_perl/5.8.7 /usr/lib/perl5/vendor_perl/5.8.6 /usr/lib/perl5/vendor_perl/5.8.5 /usr/lib/perl5/vendor_perl /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/5.8.8 .) at ../../build/RedHat-x86_64/tpp_gui.pl line 16.

BEGIN failed--compilation aborted at ../../build/RedHat-x86_64/tpp_gui.pl line 16.
make[1]: *** [../../build/RedHat-x86_64/tpp_gui.pl] Error 2
make[1]: *** Deleting file `../../build/RedHat-x86_64/tpp_gui.pl'
make[1]: Leaving directory `/root/TPP-4.6.1/trans_proteomic_pipeline/src/perl_paths'
make: *** [perl_paths] Error 2 
```

有人可以帮我解决这个问题吗？我现在有安装和运行 TPP 的冲动。提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:30:29.603

从您的系统中缺少 Perl 模块 IO::Compress::Zip 的错误消息来看，您应该首先安装该 Perl 模块，然后再试一次

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-29T10:52:34.880

您可以使用我们最近在此处创建的 docker 机器：[https](https://github.com/BioDocker/TPP-4.8.0) ://github.com/BioDocker/TPP-4.8.0 ，我们正在维护这些容器，然后随时联系团队。

问候

# ios - 自定义对象初始化器

> ID：15492547
> 
> 赞同：1
> 
> 时间：2013-03-19T06:06:06.060
> 
> 标签：ios, objective-c, initialization

我一直在为我的对象创建自定义初始化程序，只是因为这感觉比以其他方式设置变量更好。在这些初始化程序中，我通常设置对象的变量，然后返回对主 init 的调用。

因此，例如，在 UIViewController 子类中，我的代码如下所示：

```
-(id)initWithValue:(int)val {
    self.value = val;
    return [self initWithNibName:nil bundle:nil];
} 
```

其中`value`是一个属于该 ViewController 子类的整数，并且通常有比这更多的值。

但是，最近我开始先设置 self，因为我认为它`self = [self init...]`会替换类的当前实例，因此我会丢失该 self 的实例。所以，我开始做：

```
-(id)initWithValue:(int)val {
    self = [self initWithNibName:nil bundle:nil];
    self.value = val;
    return self;
} 
```

然后，我最近检查了原始版本，并意识到一切正常，并且没有必要进行更改。

所以，我的问题是：

1.  [super initWithNibName:bundle:] 做了什么导致它创建一个对象但不替换原始对象？
2.  这两个版本中的一个比另一个更好使用还是它们都等效？如果一个更好，应该使用哪个？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:38:59.343

你应该这样做：

```
- (id)initWithValue:(int)val {
    self = [super initWithNibName:nil bundle:nil];
    if (self) {
        _value = val;
    }
    return self;
} 
```

在 iOS 中，一个常见的模式是如果发送给 init 方法的参数无效，则返回 nil。该值将是两件事之一：当前指向 self 或 nil 的指针。如果对 super 的调用返回 nil，则该对象未正确设置，因此您也应该返回 nil。做 self = [super initWithNibName:nil bundle:nil]; 只是更容易尊重 super 返回的可能的 nil 值

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:29:15.593

请使用以下代码覆盖init方法

```
 -(id)initWithValue:(int)val 
 {
   self = [super init];
   if(self)
     {
    self.value = val;
    }

   return self;
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T06:19:15.997

您编写的第一个代码不会存储`value`，因为在创建对象之前您正在尝试存储数据。但是，第二个代码需要进行一些小的修改以获得更好的实践，例如，像这样......

```
-(id)initWithValue:(int)val {
    self = [self initWithNibName:nil bundle:nil];

    if(self)
    _value = val;

    return self;
} 
```

希望这对您有用...:-)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T06:30:23.730

[super initWithNibName:bundle:] 实际上调用了超类的方法。如果你使用 [self initWithNibName:bundle:] 实际上它会调用重写 initWithNibName:bundle: 当然你必须重写它，否则它也会调用超类方法。因此，如果您想在重写 initWithNibName 时进行一些初始化，则可以使用 [self initWithNibName:bundle:] 但如果您不需要进行额外的初始化，则 to 方法没有区别；

# parameters - struts2接受参数时如何将空参数转换为null

> ID：15492558
> 
> 赞同：1
> 
> 时间：2013-03-19T06:07:03.183
> 
> 标签：parameters, struts2, null, string

我正在使用struts2数据模型来接受请求参数，如果用户没有在输入元素中键入任何值，模型类中的相应属性设置为“”，但我希望它为null，而不是“”。这是我的代码：

```
class User{
    private String userName;
    private String userId;

    //setter & getter omitted
}

class UserAction extends ActionSupport{
      private User user;
      //setter & getter omitted

 } 
```

在`UserAction`课堂上，我可能需要做一些业务验证或其他事情，我只使用类似的语句`if(user.getUserId() !== null)`，现在这个条件返回 true，即使用户没有在`<input type="text" name="user.userId" />`. 也许我可以这样写：`if(user.getUserId() != null && !"".equals(user.getUserId()))`，有点累，我的代码中有很多这样的地方，我想要一个方便的方法来实现这一点，过滤器可以做到这一点吗？是否有任何现有的过滤器或拦截器？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T08:51:35.123

为什么不选择一种更抽象的、面向对象的、独立于框架的方式来做到这一点呢？

```
class User{
    private String userName;
    private String userId;
    //setter & getter omitted

    public boolean isEmpty() {
       return (userId==null || "".equals(userId));
    }
} 
```

* * *

```
/* somewhere in your Java code: */
if (!user.isEmpty()) { 
```

* * *

```
<!-- somewhere in your JSP code: -->    
<s:if test="!user.empty()" > 
```

Alternatively you could alter the `getter`s to return `null` even if the value is `empty String`, (or vice versa) but usually this forcing is not good.

# android - 在 ImageSpan 中延迟加载图像

> ID：15492559
> 
> 赞同：2
> 
> 时间：2013-03-19T06:07:03.443
> 
> 标签：android, spannable

我想构建自定义 ImageSpan，它在获取数据开始时设置默认图片，并在获取完成时加载图片。

代码示例：

```
public class CustomImageSpan extends ImageSpan {

  private Drawable mDrawable;

   @Override
  public Drawable getDrawable() {
    if (mDrawable == null) {

      mDrawable = defaultDrawable;
      Futures.addCallback(
          FetchImage.submit(
              new FutureCallback<Image>() {
            @Override
            public void onSuccess(Image result) {
              Bitmap bitmap = result.getBitmap();
              mDrawable = new BitmapDrawable(mContext.getResources(), bitmap);

             //!Rerender span with new bitmap.
            }
          }, mExecutor);

     }

    return mDrawable;
  } 
```

如何通知 span 加载已完成，是时候获取新位图而不是默认位图了？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-19T06:11:34.017

一旦当前任务完成，您可以尝试使用处理程序继续执行下一个任务

```
Handler xHandler=new Handler(){
        @Override
        public void handleMessage(Message message){
            switch (message.what){
            case SOME_OPERATION:
                getImage(); //the method you are using
                break;
            }
        }
     }; 
```

在单独的线程中运行处理程序，如下所示

```
@Override
        public void run() {
            xHandler.sendMessage(Message.obtain(xHandler, SOME_OPERATION));
        } 
```

# css - 带有溢出-y：自动和 具有相对位置的 s 表现异常

> ID：15492561
> 
> 赞同：7
> 
> 时间：2013-03-19T06:07:05.077
> 
> 标签：css, jquery-ui

我有以下标记

```
<div class="row-fluid">
    <div class="span4">
        <ul class="test">
            <li>Arun</li>
            <li>Krishna</li>
            <li>Soundar</li>
        </ul>
    </div>
</div> 
```

和CSS

```
.test {
    height: 500px;
    margin-top: 10px;
    overflow-y: auto;
    padding: 10px 4px 70px;
} 
```

和脚本

```
$('.test li').draggable({
    revert: 'invalid'
}) 
```

如果将项目拖到右侧，它就会消失，我不知道为什么会这样。

如果将`overflow-y: auto;`样式从中删除，`.test`则可以正常工作。

演示：[小提琴](http://jsfiddle.net/arunpjohny/br57F/1/)
由于响应式 css 复制小提琴中的问题，您可能必须增加预览选项卡的宽度

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-07T18:19:39.640

我知道这是一个老问题，但我想我找到了答案。列表消失的原因是因为您将它拖离 div 的边缘并且它开始自动滚动。因此，您只需在单击它时将其从页面流中删除，如下所示：

```
$('.test li').draggable({
    revert: 'invalid'
}).mousedown(function() {
    var that = $(this);
    //create div to fill the vacated space
    $div = $('<div></div>');
    $div.width(that.width());
    $div.height(that.height());
    $div.insertAfter(that);
    //remove from flow of the page, set a different background color to see it work
    that.css({'position':'absolute'});
}); 
```

新小提琴[在这里](http://jsfiddle.net/br57F/9/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:36:24.637

您只需要“最小宽度：1100px”和“宽度：100%；”

我已经为你更新了小提琴

```
 Fiddle Link : http://jsfiddle.net/br57F/5/ 
```

它工作正常。溢出适用于内容，虽然可拖动，但不会将内容添加到父 div。它只会改变元素运行时的位置。

我希望这会做:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T06:15:29.547

CSS 上的问题`bootstrap-combined.min.css`。它设置了一些宽度，因为它会导致问题。

所以删除`bootstrap-combined.min.css`并尝试。

参考**[现场演示](http://jsfiddle.net/SivaCharan/br57F/4/)**

## 更新：

添加`border: 1px solid;`到您的`.test`班级，然后您将看到实际的差异，如果您发表评论，为什么它会起作用`overflow`

如果您在 firebug 上进行调试，您将看到下面的 CSS 类（即 from *`bootstrap-combined.min.css`*）导致您的问题

```
.row-fluid .span4 {
    width: 31.4917%;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-10-17T11:38:54.237

`div`就在拖动过程中，用包含`position:absolute`样式包裹拖动的元素。

**所以改为这段代码：**

```
$('.test li').draggable({
    revert: 'invalid'
}) 
```

**使用这个：**

```
$('.test li').draggable({
    revert: 'invalid',
    start: function(event, el){
          $(el.helper[0]).wrap( "<div style='position:absolute;'></div>" );
     },
    stop: function(event, el){
          $(el.helper[0]).unwrap();
     }
}); 
```

**[现场演示](http://jsfiddle.net/br57F/38/)**

# c# - 如何在参数中分配默认值？

> ID：15492563
> 
> 赞同：0
> 
> 时间：2013-03-19T06:07:20.597
> 
> 标签：c#, sql, ado.net, oledb, default-value

我有下面的代码，可以将 access 数据库中的数据显示到另一种形式的文本框中。

```
item items = new item();
Add_Order addorder = new Add_Order();
OleDbCommand cmd = new OleDbCommand("Select * from tblItems WHERE ItemName = @Item", connection);
cmd.Parameters.AddWithValue("@Item", items.ItemName1);
cmd.Connection = connection;
connection.Open();

cmd.ExecuteNonQuery();
cmd.Parameters.AddWithValue("@ItemID", addorder.tbItemID.Text);
cmd.Parameters.AddWithValue("@ItemName", addorder.tbName.Text);
cmd.Parameters.AddWithValue("@ItemPrice", addorder.tbPrice.Text);
OleDbDataReader read = cmd.ExecuteReader();
while (read.Read())
{
    addorder.tbItemID.Text = read[0].ToString();
    addorder.tbName.Text = read[1].ToString();
    addorder.tbPrice.Text = read[2].ToString();
}
addorder.ShowDialog();
connection.Close(); 
```

错误说

> 参数@Item 没有默认值

`@Item`但是我已经在这一行中分配了值

```
cmd.Parameters.AddWithValue("@Item", items.ItemName1); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:16:18.423

我发现了一些错误，您正在检索一些项目。然后，为什么要使用 ExecuteNonquery() 和其他一些参数。试试这个

```
cmd.Connection = connection;
connection.Open();
OleDbCommand cmd = new OleDbCommand("Select * from tblItems WHERE ItemName = @Item", connection);
cmd.Parameters.AddWithValue("@Item", items.ItemName1);

OleDbDataReader read = cmd.ExecuteReader();
while (read.Read())
{
addorder.tbItemID.Text = read[0].ToString();
addorder.tbName.Text = read[1].ToString();
addorder.tbPrice.Text = read[2].ToString();
}
connection.Close(); 
```

确保 items.ItemName1 具有有效条目。您可以通过简单地手动传递一些值来验证这一点

```
cmd.Parameters.AddWithValue("@Item", "some text"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:15:20.203

试试这个：

```
cmd.Parameters.AddWithValue("@Item", OleDbType.VarChar).Value = items.ItemName1; 
```

你为什么在`ExecuteNonQuery()`..之后再次使用它？

```
cmd.Parameters.AddWithValue("@ItemID", addorder.tbItemID.Text);
cmd.Parameters.AddWithValue("@ItemName", addorder.tbName.Text);
cmd.Parameters.AddWithValue("@ItemPrice", addorder.tbPrice.Text); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T06:22:51.713

```
cmd.Parameters.Add(new OleDbParameter("item", OleDbType.VarChar, 32,  "Item").Value = items.ItemName1;
                   ^^^^^^^^^^^^^^^^^^ 
```

关键是构造Parameter()

# iphone - Facebook 在 ios6 中获取用户信息：必须使用活动访问令牌才能查询

> ID：15492568
> 
> 赞同：6
> 
> 时间：2013-03-19T06:07:55.487
> 
> 标签：iphone, ios, facebook, ios6

我正在通过 Accounts Framework 集成 facebook，我搜索并获得了一些方法来做到这一点。它第一次工作，但后来它显示在日志下面并且没有提供任何信息。

日志：

```
Dictionary contains: {
    error =     {
        code = 2500;
        message = "An active access token must be used to query information about the current user.";
        type = OAuthException;
    };
} 
```

我使用的代码

```
ACAccountStore *_accountStore=[[ACAccountStore alloc] init];;
    ACAccountType *facebookAccountType = [_accountStore accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierFacebook];

    // We will pass this dictionary in the next method. It should contain your Facebook App ID key,
    // permissions and (optionally) the ACFacebookAudienceKey
    NSArray * permissions = @[@"email"];

    NSDictionary *options = @{ACFacebookAppIdKey :@"my app id",
    ACFacebookPermissionsKey :permissions,
    ACFacebookAudienceKey:ACFacebookAudienceFriends};

    // Request access to the Facebook account.
    // The user will see an alert view when you perform this method.
    [_accountStore requestAccessToAccountsWithType:facebookAccountType
                                           options:options
                                        completion:^(BOOL granted, NSError *error) {
                                            if (granted)
                                            {
                                                // At this point we can assume that we have access to the Facebook account
                                                NSArray *accounts = [_accountStore accountsWithAccountType:facebookAccountType];

                                                // Optionally save the account
                                                [_accountStore saveAccount:[accounts lastObject] withCompletionHandler:nil];

                                                //NSString *uid = [NSString stringWithFormat:@"%@", [[_accountStore valueForKey:@"properties"] valueForKey:@"uid"]] ;
                                                NSURL *requestURL = [NSURL URLWithString:[@"https://graph.facebook.com" stringByAppendingPathComponent:@"me"]];

                                                SLRequest *request = [SLRequest requestForServiceType:SLServiceTypeFacebook
                                                                                        requestMethod:SLRequestMethodGET
                                                                                                  URL:requestURL
                                                                                           parameters:nil];
                                                request.account = [accounts lastObject];
                                                [request performRequestWithHandler:^(NSData *data,
                                                                                     NSHTTPURLResponse *response,
                                                                                     NSError *error) {

                                                    if(!error){
                                                        NSDictionary *list =[NSJSONSerialization JSONObjectWithData:data
                                                                                                            options:kNilOptions error:&error];
                                                        NSLog(@"Dictionary contains: %@", list );
                                                        userName=[list objectForKey:@"name"];
                                                        NSLog(@"username %@",userName);

                                                        userEmailID=[list objectForKey:@"email"];
                                                        NSLog(@"userEmailID %@",userEmailID);

                                                        userBirthday=[list objectForKey:@"birthday"];
                                                        NSLog(@"userBirthday %@",userBirthday);

                                                        userLocation=[[list objectForKey:@"location"] objectForKey:@"name"];
                                                        NSLog(@"userLocation %@",userLocation);
                                                    }
                                                    else{
                                                        //handle error gracefully
                                                    }

                                                }];
                                            }
                                            else
                                            {
                                                NSLog(@"Failed to grant access\n%@", error);
                                            }
                                        }]; 
```

任何线索朋友出了什么问题...谢谢。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-19T13:17:10.523

问题是，当我更改设备内的 facebook 设置时，**访问令牌超时**。因此，如果您侦听 ACAccountStoreDidChangeNotification，则可以调用 renewCredentialsForAccount: 来提示用户获得许可。

下面的代码正在工作并在字典中获取用户信息。

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.
    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(accountChanged) name:ACAccountStoreDidChangeNotification object:nil];

}

-(void)getUserInfo
{

self.accountStore = [[ACAccountStore alloc]init];
    ACAccountType *FBaccountType= [self.accountStore accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierFacebook];

    NSString *key = @"your_app_id";
    NSDictionary *dictFB = [NSDictionary dictionaryWithObjectsAndKeys:key,ACFacebookAppIdKey,@[@"email"],ACFacebookPermissionsKey, nil];

    [self.accountStore requestAccessToAccountsWithType:FBaccountType options:dictFB completion:
     ^(BOOL granted, NSError *e) {
         if (granted) {
             NSArray *accounts = [self.accountStore accountsWithAccountType:FBaccountType];
             //it will always be the last object with single sign on
             self.facebookAccount = [accounts lastObject];
             NSLog(@"facebook account =%@",self.facebookAccount);
             [self get];
         } else {
             //Fail gracefully...
             NSLog(@"error getting permission %@",e);

         }
     }];
}

-(void)accountChanged:(NSNotification *)notif//no user info associated with this notif
{
    [self attemptRenewCredentials];
}

-(void)attemptRenewCredentials{
    [self.accountStore renewCredentialsForAccount:(ACAccount *)self.facebookAccount completion:^(ACAccountCredentialRenewResult renewResult, NSError *error){
        if(!error)
        {
            switch (renewResult) {
                case ACAccountCredentialRenewResultRenewed:
                    NSLog(@"Good to go");
                    [self get];
                    break;

                case ACAccountCredentialRenewResultRejected:

                    NSLog(@"User declined permission");

                    break;

                case ACAccountCredentialRenewResultFailed:

                    NSLog(@"non-user-initiated cancel, you may attempt to retry");

                    break;

                default:
                    break;

            }
        }

        else{

            //handle error gracefully

            NSLog(@"error from renew credentials%@",error);

        }

    }];
}

-(void)get
{

    NSURL *requestURL = [NSURL URLWithString:@"https://graph.facebook.com/me"];

    SLRequest *request = [SLRequest requestForServiceType:SLServiceTypeFacebook
                                            requestMethod:SLRequestMethodGET
                                                      URL:requestURL
                                               parameters:nil];
    request.account = self.facebookAccount;

    [request performRequestWithHandler:^(NSData *data,
                                         NSHTTPURLResponse *response,
                                         NSError *error) {

        if(!error)
        {
           NSDictionary *list =[NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:&error];

            NSLog(@"Dictionary contains: %@", list );
        }
        else{
            //handle error gracefully
            NSLog(@"error from get%@",error);
            //attempt to revalidate credentials
        }

    }];

    self.accountStore = [[ACAccountStore alloc]init];
    ACAccountType *FBaccountType= [self.accountStore accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierFacebook];

    NSString *key = @"your_app_id";
    NSDictionary *dictFB = [NSDictionary dictionaryWithObjectsAndKeys:key,ACFacebookAppIdKey,@[@"friends_videos"],ACFacebookPermissionsKey, nil];

    [self.accountStore requestAccessToAccountsWithType:FBaccountType options:dictFB completion:
     ^(BOOL granted, NSError *e) {}];

} 
```

[这对我帮助很大。](http://blogs.captechconsulting.com/blog/eric-stroh/ios-6-tutorial-integrating-facebook-your-applications)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:22:39.727

你需要创建会话

```
 [FBSession openActiveSessionWithReadPermissions:permissions
                                           allowLoginUI:YES
                                      completionHandler:^(FBSession *session, FBSessionState status, NSError *error){
                                          if (session.isOpen) {
                                              switch (status) {
                                                  case FBSessionStateOpen:
                                                          // here you get the token
                                                          NSLog(@"%@", session.accessToken);
                                                      break;
                                                  case FBSessionStateClosed:
                                                  case FBSessionStateClosedLoginFailed:
                                                      [[FBSession activeSession] closeAndClearTokenInformation];
                                                      break;
                                                  default:
                                                      break;
                                              } // switch
                                          }]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T06:25:13.583

请提供您的代码的更多详细信息...您的代码似乎没有会话..您必须有一个有效的会话..每个用户 ID 的 accessToken 都是唯一的..在您的情况下，我认为会话不存在。 .它如何知道您的访问令牌..所以，您收到此错误...如果您想了解有关访问令牌的更多信息..检查带有sdk的facebook演示项目..您也可以通过这个.. [http ://developers.facebook.com/docs/concepts/login/access-tokens-and-types/](http://developers.facebook.com/docs/concepts/login/access-tokens-and-types/)

# javascript - 使用 javascript 创建表单并将变量传递给函数

> ID：15492570
> 
> 赞同：0
> 
> 时间：2013-03-19T06:08:03.883
> 
> 标签：javascript, forms, function, textbox

我可以用javascript创建一个文本框，然后单击，传递一个带参数的函数吗？在注释掉的行下面是问题

```
var inputBox = document.createElement("input");

inputBox.staff = project.staff[j].name;
inputBox.defaultValue = inputBox.staff;
inputBox.onchange = changeHours;

//inputBox.onclick = selectText(this); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:12:39.130

```
inputBox.onclick=function(argument){
  selectText(this);
}; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T06:10:29.660

尝试

```
inputBox.onclick=function(){selectText(this)}; 
```

[http://www.w3schools.com/jsref/event_onclick.asp](http://www.w3schools.com/jsref/event_onclick.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T06:14:01.123

只需设置`onclick`您想要的功能。

```
var inputBox = document.createElement("input");

inputBox.staff = project.staff[j].name;
inputBox.defaultValue = inputBox.staff;
inputBox.onchange = changeHours;
inputBox.onclick = function() {
    selectText(this);
}; 
```

# rest - 骆驼HTTP服务之间的路由

> ID：15492571
> 
> 赞同：1
> 
> 时间：2013-03-19T06:08:18.230
> 
> 标签：rest, cxf, apache-camel

我想通过骆驼将一个http休息服务的输出路由到另一个。有人可以帮我怎么做吗？

要求是调用一个 httpURL - `http://someserver/path/service1` 并将其输出传输到另一个 httpURL - `http://someserver/path/service2` 最后将这个 service2 的输出显示给用户。

那么任何人都可以帮助我如何做到这一点或任何链接做同样的事情吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T08:03:31.800

你可以使用这样的东西。http://someserver:8080/path/service1?matchOnUriPrefix=true"/> http://someserver:8090/path/service2?bridgeEndpoint=true?throwExceptionOnFailure=false"/>

请注意，您指定了相同的服务器“someserver”，但您可能希望指定“true”服务所在的另一个服务器或端口，具体取决于它的托管位置。我在示例中添加了端口号。

（[这里](http://camel.apache.org/how-to-use-camel-as-a-http-proxy-between-a-client-and-server.html)的例子）

# c# - 在 Windows 窗体上动态绘制箭头

> ID：15492573
> 
> 赞同：-1
> 
> 时间：2013-03-19T06:08:26.147
> 
> 标签：c#, winforms

我想绘制一个具有以下要求的不同类型的箭头箭头位置，这是一个具有以下属性的枚举：左、右、两者、无。箭头类型：箭头的类型应与此使用枚举箭头大小再次枚举小，中和大请给我一些想法如何做到这一点。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-19T06:46:56.167

您想在鼠标悬停在特定控件上时更改鼠标光标吗？您可以阅读有关 System.Windows.Forms.Cursor 的信息：

```
Cursor.Current = Cursors.Arrow; 
```

您还可以设置自己定义的光标，并且可以更改大小。如果您真的想在控件上绘制箭头，您可以在控件上注册绘制事件

```
private void control_Paint(object sender, PaintEventArgs e)
{
    Graphics g = e.Graphics;
} 
```

然后你可以使用图形实例来绘制各种东西。

# core-data - 嵌套 NSFetchRequest？

> ID：15492574
> 
> 赞同：0
> 
> 时间：2013-03-19T06:08:30.553
> 
> 标签：core-data, nsfetchrequest

我正在使用带有 NSFetchedResultsController 的核心数据。我的数据包含许多学生和课程日期。我设置了我的谓词和排序描述符，以返回特定学生的排序课程列表。我排序升序或防守，我的桌面视图加载和快乐。

但是，有时，我只想返回前两节课，按升序排序。我怎么能构造一个 NSFetchRequest 只返回一个包含两个项目的数组？

我一直试图通过修改行和部分来欺骗表格视图......是的，它变得纠结和笨重。

看来我需要将 NSFetchRequests 嵌套在 NSFetchedResultsController 中。首先获取并获取总项目/部分的数量。然后在升序排序时只获取最后两个对象。当我在设置 NSFetchRequest 时不知道有多少项时，如何将结果限制为最后两项？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T16:36:22.420

只需告诉获取请求您想要多少：

```
[fetchRequest setFetchLimit:2]; 
```

结果将根据您的排序描述符进行排序，您将获得前两个结果。

# node.js - Node.js：无法从同一网络上的不同设备访问服务器

> ID：15492575
> 
> 赞同：13
> 
> 时间：2013-03-19T06:08:31.617
> 
> 标签：node.js

注意：还有一些其他人遇到过类似的问题，但是通过修复代码中涉及服务器如何侦听的小花絮来解决这些问题（在我看到的示例中，他们将 '127.0.0.1' 作为参数放入`http.createServer(...).listen()`. 但是，我没有同样的问题。

当我尝试从同一 LAN 网络上的另一台计算机连接到我的 node.js 服务器时，Chrome 说它无法连接。

这是 testtesttest.js

```
var http = require('http');

http.createServer(function(req,res) {
    res.writeHead(200,{'Content-Type': 'text/plain'});
    res.end('Working');
}).listen(3000); 
```

当我尝试将`192.168.1.73:3000`（当然 192.168.1.73 是我正在运行服务器的机器的 ip）输入到我的另一台机器的浏览器（Chrome，虽然我也尝试过其他浏览器并且我有类似的问题）时，它给出错误“糟糕！Google Chrome 无法连接到 192.168.1.73:3000”。当我在本地机器上键入相同的地址时，它工作正常。

我不确定该怎么做。老实说，我希望这只是我的一个愚蠢的错误（我很抱歉可能会浪费您的时间），而不是我必须进入路由器的事情。

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-03-19T06:39:35.237

尝试改变这个

```
.listen(3000); 
```

对此

```
.listen(3000, "0.0.0.0"); 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2015-07-04T12:38:58.673

只是把它放在这里以防它拯救其他人。尝试将手机连接到本地计算机时，我整整两天都遇到了这个问题……这是因为我手机上的 wifi 已关闭。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2018-01-15T20:29:19.353

我也有这个问题。我通过在网络组中允许“node.js”解决了这个问题。

解决方案：**允许“node.js”通过私网windows**
防火墙 转到控制面板
b。转到 Windows 防火墙
c. 单击左侧边栏中的*允许应用程序或功能通过 Windows 防火墙* d. 搜索“Node.js : Server Side JavaScript”并确保公共和私有列框都标记为“NodeJS” e。点击“确定”就完成了
[![单击左侧边栏中的*允许应用程序或功能通过 Windows 防火墙*](../Images/3da524387d1800833a3c76263ec203f3.png)](https://i.stack.imgur.com/WkVUK.png)
[![在此处输入图像描述](../Images/be90cfe286ca0c261e9d3e52ded03c6f.png)](https://i.stack.imgur.com/UZpV8.png)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2015-06-01T12:53:37.833

您必须打开 3000 端口，以便可以从远程计算机访问它。您可以在 iptables 文件中执行此操作。使用以下命令打开文件

```
vi /etc/sysconfig/iptables 
```

现在在该文件中的拒绝行之前添加以下行

```
-A INPUT -p tcp -m tcp --dport 3000 -j ACCEPT 
```

现在使用以下命令重新启动 iptables 服务

```
service iptables restart 
```

现在您重新启动服务器并重试。它应该工作..

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2014-12-15T13:18:25.580

以下是我遵循的步骤

**我的服务器代码**

```
var http=require('http');
http.createServer(function(request,response){
response.writeHead(200,{'Content-Type':'text/plain'});
response.end('Im Node.js.!\n');
console.log('Handled request');
}).listen(8080, "0.0.0.0");;
console.log('Server running a http://localhost:8080/'); 
```

**添加了入站规则。**

1.  创建了一个 udp 入站规则（因为我找不到任何 http 协议）。
2.  创建后，转到已创建规则的属性。
3.  选择协议和属性选项卡。
4.  在端口类型中选择任何一个。单击应用和确定。现在我在其他机器上试过了！！！

我认为您需要将 Port Type 设置为 any 才能使其正常工作。

谢谢

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-03-19T08:30:38.767

您的防火墙设置可能会阻止端口 3000 上的传入请求。您可能希望在此端口上添加防火墙入站规则以允许访问它。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2018-05-20T17:58:44.483

我的问题是，我使用分配给我的**以太网适配器**而不是**wifi 适配器**的 IP ...

现在，当我从任何设备连接时，它就可以工作了。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-08-20T17:28:45.130

对我来说，罪魁祸首是 VirtualBox Host-only 网络接口。此网络接口的存在导致`ipconfig`服务器报告 192.168.56.1 而不是路由器分配的地址 192.168.1.x。我一直在访问错误的IP。

要删除 VirtualBox Host-only 网络接口：

1.  打开虚拟盒子
2.  去`File>Preference>Network>Host-only Networks`
3.  删除有问题的适配器

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2018-08-22T22:21:21.357

```
 http.createServer(function(req,res) {
    res.writeHead(200,{'Content-Type': 'text/plain'});
    res.end('Working');
 }).listen(3000, "192.168.1.36"); 
```

我在网络设置中找到了我的 IPv4 地址，然后用 listen fun 指定。还放了3000端口。我可以通过连接同一个 wifi 的平板电脑访问[http://192.168.1.36:3000/ 。](http://192.168.1.36:3000/)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-02-19T21:51:07.370

你必须在终端上运行它：

```
iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT 
```

[在这里](http://www.bonusbits.com/main/HowTo:Configure_iptables_to_Allow_Access_to_Common_Services_on_Linux)解释

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-09-28T07:15:36.967

就像 Umamaheswaran 回答的那样，需要创建一个新的入站规则。但是我必须使用 TCP，而不是使用 UDP 协议。我的应用程序在 Windows Server 2012 上运行。入站规则在**具有高级安全性的 Windows 防火墙**中设置，在**管理工具下**

# scheme - 计算包含从 x 到 y 的数字的列表

> ID：15492578
> 
> 赞同：0
> 
> 时间：2013-03-19T06:08:40.773
> 
> 标签：scheme, racket

如何创建一个采用两个数字并准备从第一个数字到第二个数字的列表的方法。第一个数字总是正数并且小于第二个数字？我尝试了以下方法，但我不确定如何在 Scheme 中有一个全局变量来保存以前的值。

```
(define preplist  
  (let ((temp '())) 
   (lambda (x y) 
     (cond ((= x y) (append temp (list x)))
           (else (append temp (list x))
                 (display x)
                 (preplist (+ x 1) y)))))) 
```

预期结果是：(preplist 3 7) => (3 4 5 6 7)

有人可以帮忙解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:32:35.213

(x, y) 的解可以计算为：将 x 放在 (x+1, y) 的前面。因此它显然是递归的。像这样：

```
(define (preplist x y)
  (if (= x y)
      (list y)
      (cons x (preplist (+ x 1) y)))) 
```

看，它有效：

```
> (preplist 1 4)
(1 2 3 4)
> (preplist 5 7)
(5 6 7) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T13:40:00.307

您的代码中有几个错误，对于初学者来说，您不需要在 a 中定义一个全局变量`let`来存储结果，在递归中推进时构建答案就足够了。并且不要`append`在这种情况下使用，如果密切遵循解决方案模板，a`cons`就足以构建输出列表。

您应该坚持递归构建新列表的秘诀；这就是使用该配方解决问题的方法，它可能更像是这样的惯用语：

```
(define preplist
  (lambda (x y)
    (cond ((> x y)                          ; if the exit condition is met
           empty)                           ; then return the empty list
          (else                             ; otherwise
           (cons x                          ; cons the current element
                 (preplist (add1 x) y)))))) ; and advance the recursion 
```

一种完全不同的方法是编写尾递归解决方案。这更有效，因为使用了恒定数量的堆栈。它不遵循上面概述的设计配方，但与您想到的解决方案有点相似 - 但请记住，这不使用全局变量（仅`let`用于迭代的命名）并且解决方案是累积的并作为参数传递：

```
(define (preplist x y)
  (let loop ((i y)             ; named let for iteration
             (acc empty))      ; define and initialize parameters
    (if (> x i)                ; if exit condition is met
        acc                    ; return accumulated value
        (loop (sub1 i)         ; otherwise advance recursion
              (cons i acc))))) ; and add to the accumulator 
```

[`range`](http://docs.racket-lang.org/reference/pairs.html?q=range#%28def._%28%28lib._racket%2Flist..rkt%29._range%29%29)当然，正如@dyoo 在评论中指出的那样，在实际设置中，您将使用与该过程基本相同的内置`preplist`过程。

# symfony - 如何在 xml 路由文件中给出空默认参数

> ID：15492581
> 
> 赞同：7
> 
> 时间：2013-03-19T06:08:55.027
> 
> 标签：symfony

**此代码**转储`$id`类型的正确变量`null`：

```
/**
 * Show user
 *
 * @Route("/show/{id}", name="acme_user_show", defaults={"id"=null}, requirements={"id"="\d+"})
 */
public function showUserAction($id = null)
{
    var_dump($id);
} 
```

**而**下面的代码给出了一个`$id`类型的变量`string`：`string(4) "null"`

```
/**
 * Show user
 *
 */
public function showUserAction($id = null)
{
    var_dump($id);
} 
```

**路由.xml**

```
<route id="acme_user_show" pattern="/show/{id}">
    <default key="_controller">AcmeUserBundle:User:show</default>
    <default key="id">null</default>
    <requirement key="id">\d+</requirement>
</route> 
```

我会假设 2 给出类似的结果，这是正常的吗？如何在 xml 中给出默认的 null 值？

* * *

*   我访问`/showUser`路径以测试`$id`变量是否为空。
*   我也试过`<default key="id" />`而不是`<default key="id">null</default>`=>没有成功

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-04-08T18:34:29.427

只是为了澄清帕特的回答，这是固定的，指定它的正确方法是这样的：

```
 <default key="threadId" xsi:nil="true" /> 
```

因此，在您的情况下，完整的路线规范将如下所示：

```
<route id="acme_user_show" pattern="/show/{id}">
    <default key="_controller">AcmeUserBundle:User:show</default>
    <default key="id" xsi:nil="true" />
    <requirement key="id">\d+</requirement>
</route> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T00:01:28.763

此功能尚未在 xml 中实现。请参阅此[错误报告](https://github.com/symfony/symfony/issues/7335)。

> @Aitboudad：路由 xml 加载器不支持 null 值，表示 null xml 元素的正确方法是 xsi:nil="true"。

# c# - 将数据表第一行设置为网格标题

> ID：15492589
> 
> 赞同：1
> 
> 时间：2013-03-19T06:10:01.867
> 
> 标签：c#, datatable

我有一个场景，我使用以下连接字符串从 xls 文件中获取数据

```
mCon.ConnectionString = ("Provider=Microsoft.ACE.OLEDB.12.0;data source=" + mstrFilePath + ";Extended Properties=\"Excel 12.0;HDR=NO\";"); 
```

和下面的代码

```
string strSelectQuery = "Select * from [sheet1$]";    
System.Data.OleDb.OleDbCommand= new System.Data.OleDb.OleDbCommand(strSelectQuery, mCon);
DataAdapter = new System.Data.OleDb.OleDbDataAdapter(strSelectQuery, mCon);
DataAdapter.Fill(mDTable); 
```

现在，当我将此数据表 mDtable 绑定到 gridview 时，它会导致网格没有标题行。

但我有另一个 gridview 需要将标题列作为数据表 mDTable 中的第一行。

我如何使用相同的数据表来绑定gridview的一个没有标题行和另一个有标题行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:16:02.513

苛刻的解决方案：

您可以使用 DataTable.Columns[n].ColumnName 对列标题进行签名。

示例（未经测试，谨防代码错误）：

```
int index = 0;
foreach(DataTableColumn col in DataTable.Columns)
{
  col.ColumnName = DataTable.Rows[0][index].ToString();
  index++;
} 
```

然后您可以将 DataTable 绑定到 gridview，并将 AutoGenerateColumn 设置为 true。

# node.js - 将 nodeJS 与 codeigniter 集成

> ID：15492590
> 
> 赞同：-3
> 
> 时间：2013-03-19T06:10:03.787
> 
> 标签：node.js, codeigniter-2

嗨，我计划在 codeigniter 中集成实时评论系统并与 nodejs 聊天..

但是如何实现这一点有人可以帮助我吗？？？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:29:23.450

使用[Node.JS](http://nodejs.org)和[Socket.IO](http://Socket.IO)在客户端浏览器中获取实时数据。您也可以将它与您的[codeigniter](http://ellislab.com/codeigniter)或[PHP](http://en.wikipedia.org/wiki/PHP)站点一起使用。

唯一重要的是如何构建您的 socket.io 服务器并根据需要向客户端浏览器发送数据。

快乐探索:-)

有关 Node.JS Socket.IO 包的更多详细信息，请单击[此处](https://npmjs.org/package/socket.io)

# udp - 使用 Gstreamer 进行网络流式传输

> ID：15492591
> 
> 赞同：2
> 
> 时间：2013-03-19T06:10:15.230
> 
> 标签：udp, streaming, gstreamer

我尝试了以下基本**管道**通过网络播放音频：

```
Server:
gst-launch-0.10 -v audiotestsrc ! udpsink host=127.0.0.1 port=1234
Client:
gst-launch-0.10 -v udpsrc port=1234 ! fakesink dump=1 
```

但我没有得到**任何输出**，尽管管道设置为**PLAYING 状态**。

我查看了其他问题，例如这个：[Webcam streaming using gstreamer over UDP](https://stackoverflow.com/questions/7669240/webcam-streaming-using-gstreamer-over-udp) 虽然它也是相同的管道，但它对我不起作用。我究竟做错了什么？

# google-app-engine - 发现带有无效内容的 AppEngine 安全约束以元素 url-pattern 开头

> ID：15492597
> 
> 赞同：0
> 
> 时间：2013-03-19T06:10:38.827
> 
> 标签：google-app-engine

我使用 Eclipse 和 AppEngine SDK 1.7.5。

我试图在我的 Google App Engine 项目中验证 war 文件夹。我的 web.xml 包含无效内容：

```
Invalid content was found starting with element 'url-pattern'. 
One of '{"http://java.sun.com/xml/ns/javaee":web-resource-name}' 
is expected.    web.xml /project/war/WEB-INF    line 121    XML Problem 
```

这是错误中提到的 xml：

```
<security-constraint>
    <web-resource-collection>
        <url-pattern>/admin/*</url-pattern>
    </web-resource-collection>
    <auth-constraint>
        <role-name>admin</role-name>
    </auth-constraint>
</security-constraint> 
```

如何修复错误？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-19T06:37:41.967

这是一个重复，请参阅：[我的 web.xml 中的 Eclipse 报告问题，但处理得很好](https://stackoverflow.com/questions/6796692/eclipse-reporting-problem-in-my-web-xml-but-it-is-processed-fine)

无论如何，尝试添加一个 web-resource-name 元素，如下所示：

```
 <web-resource-collection>
        <web-resource-name>Admin Resources</web-resource-name>
        <url-pattern>/admin/*</url-pattern>
    </web-resource-collection> 
```

# android - Android 仪器测试用例

> ID：15492598
> 
> 赞同：0
> 
> 时间：2013-03-19T06:10:39.533
> 
> 标签：android, instrumentation

在我的仪器测试中，我有一个名为

```
@SmallTest
    public void testPreconditions() {
        startActivity(mStartIntent, null, null);
        secondListView=(ListView)getActivity().findViewById(R.id.myListView);

    } 
```

为了让 JUnit 识别测试用例，函数名是否必须以 testXXXX 开头，或者我可以遵循任何约定吗？这个约定可以在任何地方配置吗？

亲切的问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:14:25.120

是的，函数名必须以`test<function>`. 这是将测试单元与其他功能区分开来的标准约定。请遵循相同的原则，以保持您的代码可读性和其他人可以理解。

# android - 震动和 GPS 问题的背景感应

> ID：15492599
> 
> 赞同：0
> 
> 时间：2013-03-19T06:10:39.877
> 
> 标签：android, service, gps, accelerometer, shake

主活动.java

```
 package com.example.background_shake;

import java.util.List;
import java.util.Locale;
import android.app.Activity;
import android.content.Intent;
import android.hardware.SensorManager;
import android.os.Bundle;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.Window;
import android.view.WindowManager;
import android.widget.Button;

public class MainActivity extends Activity implements OnClickListener {
    Button ON,OFF;
private SensorManager sensorManager;
private long lastUpdate;

Intent i1;
public static final String TAG = "ServicesDemo";
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);

    //reseting the window propertys
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
            WindowManager.LayoutParams.FLAG_FULLSCREEN);
    //super method
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    ON=(Button)findViewById(R.id.ON);
    OFF=(Button)findViewById(R.id.OFF);
    ON.setOnClickListener(this);
    OFF.setOnClickListener(this);
}
public void onClick(View src) {
    switch (src.getId()) {
    case R.id.ON:
      Log.d(TAG, "onClick: starting srvice");
      startService(new Intent(this, Background_service.class));
      break;
    case R.id.OFF:
      Log.d(TAG, "onClick: stopping srvice");
      stopService(new Intent(this, Background_service.class));
      break;
    }
}
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}
  } 
```

背景服务.java

```
 package com.example.background_shake;

import java.util.List;
import java.util.Locale;
import android.app.Service;
import android.content.Intent;
import android.hardware.Sensor;
import android.hardware.SensorEvent;
import android.hardware.SensorEventListener;
import android.hardware.SensorManager;
import android.location.Address;
import android.location.Geocoder;
import android.os.IBinder;
import android.util.Log;
import android.widget.Toast;

public class Background_service extends Service implements SensorEventListener{
    boolean flag=false;
    private long lastUpdate;
    SensorManager sensorManager;
            int count=0;
@Override
public IBinder onBind(Intent intent) {

    return null;
}
public void onCreate()
{
    flag=true;
    Log.d(MainActivity.TAG, "onCreate");
    super.onCreate();

}
public void onDestroy() {

    flag=false;
    Log.d(MainActivity.TAG, "onDestroy");
    super.onDestroy();

}
public void onStart(Intent intent, int startId)
{
    sensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);
    sensorManager.registerListener(this,
            sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER),
            SensorManager.SENSOR_DELAY_NORMAL);
    lastUpdate = System.currentTimeMillis();
}
@Override
public void onAccuracyChanged(Sensor sensor, int accuracy) {

}
private void getAccelerometer(SensorEvent event) {
    if (event.sensor.getType() == Sensor.TYPE_ACCELEROMETER) {
    float[] values = event.values;
    // Movement
    float x = values[0];
    float y = values[1];
    float z = values[2];
    double latitude=0;
    double longitude=0;
    String location_message;
    GPSTracker gps;

    float accelationSquareRoot = (x * x + y * y + z * z)
        / (SensorManager.GRAVITY_EARTH * SensorManager.GRAVITY_EARTH);
    long actualTime = System.currentTimeMillis();
    if (accelationSquareRoot >= 2) //
    {
      if (actualTime - lastUpdate < 2000) {
            count++;
        return;
      }

      lastUpdate = actualTime;

      {
          gps=new GPSTracker(Background_service.this);
          if((gps.canGetLocation())&&(count==3)){
                      count=0;    
              latitude = gps.getLatitude();
              longitude = gps.getLongitude();
        //  \n is for new line
        //  Toast.makeText(getApplicationContext(), "Your Location is - \nLat: " + latitude + "\nLong: " + longitude, Toast.LENGTH_LONG).show();    
              Geocoder gcd = new Geocoder(Background_service.this, Locale.getDefault());
              try{
                  List<Address> addresses = gcd.getFromLocation(latitude, longitude, 1);
                  location_message= addresses.get(0).getLocality();
                  if ((addresses.size() > 0)&&(flag))
                  {
                      Toast.makeText(getApplicationContext(), "Your Location is " +addresses.get(0).getLocality()
                              , Toast.LENGTH_LONG).show();
                                      count=0;
                  }

              }catch(Exception e)
              {
                  System.out.print(e);
              }
          }else{
        //  can't get location
        //  GPS or Network is not enabled
        // Ask user to enable GPS/network in settings
        Toast.makeText(getApplicationContext(), "Switch on gps"
                , Toast.LENGTH_LONG).show();
        gps.showSettingsAlert();
    }}

      /*Toast.makeText(this, "Device was shuffed", Toast.LENGTH_SHORT)
          .show();
      if (color) {
        view.setBackgroundColor(Color.GREEN);

      } else {
        view.setBackgroundColor(Color.RED);
      }*/

    }}
  }
public void onSensorChanged(SensorEvent event) {

    getAccelerometer(event);

}
protected void onResume() {
    //super.onResume();
    // register this class as a listener for the orientation and
    // accelerometer sensors
            sensorManager.registerListener(this,
            sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER),
            SensorManager.SENSOR_DELAY_NORMAL);
}

protected void onPause()
{
    // unregister listener
    sensorManager.unregisterListener(this);

} 
```

}

上面的代码适用于一个应用程序，它可以感知摇动参数并为您提供当前位置。但问题是即使我的 GPS 已关闭，我仍在获取当前位置。

另外我想知道两件事 1\. 即使您锁定了手机，服务是否有效？如果没有，必须对我的代码进行哪些修改才能使其正常工作？2\. 如果我摇动我的手机一次，我的应用程序会给出输出，但我希望我的应用程序只有在我连续摇动它 3-4 次时才能给出所需的结果。可以这样做吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:17:45.590

回答您的问题： 1\. 即使您锁定了手机，服务是否有效？如果没有，必须对我的代码进行哪些修改才能使其有效？

是的，一旦服务启动，它将继续无限运行，但是如果手机已关闭并且您希望服务在手机启动后立即启动，您可以尝试创建一个在启动时触发的广播接收器

```
public class Broadcastreceiver extends BroadcastReceiver {

    @Override
    public void onReceive(Context context, Intent intent) {
        Intent startSMSServiceIntent = new Intent(context, SOMEservice.class);
        context.startService(startSMSServiceIntent);
    }
} 
```

在清单中

```
<receiver android:name=".Broadcastreceiver">             
    <intent-filter>
        <action android:name="android.intent.action.BOOT_COMPLETED" />  
    </intent-filter>         
</receiver> 
```

不要忘记权限

```
<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T09:51:54.700

akajaymo 已经在此处回答了 Q1。

对于第二季度，不是让应用程序在每次摇晃手机时都产生所需的输出，而是创建两个静态变量`int count`和`long last`.

每次摇晃手机时，您都会检查是否`(System.currentTimeMillis() - last) < 1000/* considering the shakes are not more than 1 second apart */`，如果是，则增加计数。

如果`count`达到 3 或 4，你就完成了：只需产生所需的输出。如果没有，则什么也不生产。

如果抖动间隔超过 1000 毫秒，只需设置`count`为 1。

此外，每次检测到抖动时，请`last = System.currentTimeMillis()`. 最后的更新必须在我提到的第一次检查**之后完成。**

# scala - 在 Scala 中保持全局应用程序状态的好策略是什么？

> ID：15492600
> 
> 赞同：2
> 
> 时间：2013-03-19T06:10:42.113
> 
> 标签：scala, slick

作为一个最简单的例子，假设我正在以某种模式（例如测试）启动我的应用程序，然后我希望能够检查应用程序的其他部分我正在运行什么模式。这应该非常简单，但是我正在为全局变量寻找合适的 Scala 替代品。请给我更多信息：“Scala 对象就像全局变量”

理想的解决方案是在启动时，应用程序将创建一个对象，并在创建时设置该对象的“模式”。之后，应用程序的其他部分将只能读取“模式”的状态。如果不在整个应用程序中传递对对象的引用，我该如何做到这一点？

我的真实场景实际上包括诸如在启动时选择数据库名称或单例数据库对象之类的事情，并且之后不允许其他任何东西更改该对象。一个问题是我试图在不将该引用传递给数据库的情况下实现这一目标。

**更新：**

这是我想做的一个简单示例，以及我当前的解决方案：

```
object DB{
  class PDB extends ProductionDB
  class TDB extends TestComplianceDB
  lazy val pdb = new PDB
  lazy val tdb = new TDB
  def db = tdb //(or pdb) How can I set this once at initialisation?
} 
```

因此，我创建了不同的数据库配置作为特征。根据我是在测试模式还是生产模式下运行，我想使用正确的配置，其中配置类似于：

```
trait TestDB extends DBConfig {
  val m = new Model("H2", new DAL(H2Driver),
    Database.forURL("jdbc:h2:mem:testdb", driver = "org.h2.Driver"))

  // This is an in-memory database, so it will not yet exist.
  dblogger.info("Using TestDB")
  m.createDB
} 
```

所以现在，每当我使用数据库时，我都可以这样使用它：

```
val m = DB.db.m
m.getEmployees(departmentId) 
```

我的问题真的是，这种风格是坏、好还是好（使用单例来保存数据库的句柄）。我正在使用 Slick，我认为这与只运行一个 Slick 实例有关。这是否会导致可扩展性问题。

有没有更好的方法来解决问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T07:45:25.617

您可以使用[typesafe 配置库](https://github.com/typesafehub/config)，这也用于 Play 和 Akka 等项目。Play 和 Akka 文档都解释了它的基本用法。来自[Play 文档（附加配置）](http://www.playframework.com/documentation/2.1.0/ProductionConfiguration)

> **指定替代配置文件**
> 
> 默认是从类路径加载 application.conf 文件。如果需要，您可以指定替代配置文件：
> 
> **使用 -Dconfig.resource**
> 
> -Dconfig.resource=prod.conf
> 
> **使用 -Dconfig.file**
> 
> -Dconfig.file=/opt/conf/prod.conf
> 
> **使用 -Dconfig.url**
> 
> -Dconfig.url= [http://conf.mycompany.com/conf/prod.conf](http://conf.mycompany.com/conf/prod.conf)
> 
> 请注意，您始终可以使用 include 指令在新的 prod.conf 文件中引用原始配置文件，例如：
> 
> `include "application.conf"`
> 
> `key.to.override=blah`

# ios - 如何在 Objective-c 中将日期格式设置为 24 小时？

> ID：15492601
> 
> 赞同：11
> 
> 时间：2013-03-19T06:10:48.493
> 
> 标签：ios, nsdateformatter

我在我的应用程序中显示正确的日期时遇到问题。当用户在他的日期时间首选项中设置 24 小时格式“开”时..我的应用程序显示正确的时间，但是当 24 小时格式设置为“关”时，它什么也不显示。

这是我正在使用的代码：

```
NSDateFormatter *formatter       =   [[NSDateFormatter alloc] init];

[formatter setDateStyle:style];

[formatter setDateFormat:@"YYYY-MM-dd HH:mm:ss"];
 NSDate *temp            =   [formatter dateFromString:strDate];

[formatter setDateFormat:format];
[formatter setLocale:[NSLocale currentLocale]];

NSString *returnStr     =   [formatter stringFromDate: temp];
[formatter release];
NSLog(@"Return: %@", returnStr);

return returnStr; 
```

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-03-19T06:19:09.450

尝试这个

```
[dateFormat setDateFormat:@"hh:mm:ss"]; 
```

**HH** : 24 小时制

**hh** : 12 小时制

所以在你的情况下

```
//after conversion to date

if ON
[formatter setDateFormat:@"YYYY-MM-dd HH:mm:ss"];

if OFF
[formatter setDateFormat:@"YYYY-MM-dd hh:mm:ss"]; 
```

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2013-12-10T09:34:25.870

## 很简单试试这个：

**12 小时 :** (hh:mm:ss)

```
NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
[dateFormat setDateFormat:@"YYYY-MM-dd hh:mm:ss"]; 
```

**24 小时 :** (HH:mm:ss)

```
NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
[dateFormat setDateFormat:@"YYYY-MM-dd HH:mm:ss"]; 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2013-03-19T06:17:27.217

用这个：

**目标-C：**

```
dateFormatter.locale = [[NSLocale alloc] initWithLocaleIdentifier:@"en_US_POSIX"]; 
```

**斯威夫特 4.1**

```
dateFormatter.locale = NSLocale(localeIdentifier: "en_US_POSIX") 
```

之后您的日期将不会修改。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-03-19T06:14:23.543

如下设置 dateFormatter 的语言环境。它应该可以解决您的问题。

```
NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
NSLocale *locale = [[NSLocale alloc] initWithLocaleIdentifier:@"en_GB"];
[dateFormatter setLocale:locale]; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-03-09T17:37:44.580

```
NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
[dateFormat setDateFormat:@"YYYY-MM-dd HH:mm"]; 
NSString *dateString = [dateFormat stringFromDate:[NSDate date]]; 
```

# windows-7 - 日历控件未在 window7 中显示天数

> ID：15492603
> 
> 赞同：1
> 
> 时间：2013-03-19T06:11:02.513
> 
> 标签：windows-7, vb6, calendar, controls

我有一个 VB6 应用程序并且正在使用日历控件。它在 Windows XP（开发机器）上运行良好，但是当我尝试在 Windows 7（32 位）上运行它时，它没有显示日期和日期数。它仅在日历的日期列中显示一个点 (.)。

我也检查过`mscal.ocx`并`mscomct2.ocx`正确注册。我还检查了它驻留在系统上的字体。

谁能回答为什么日历控件的行为如此，不显示数字日期/天数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T09:48:05.093

尝试更新您的`mscal.ocx`这是旧版本（至少 8.0.0.5007）中的错误。VB 服务包中可用的最新版本是 12.0.6413.1000，并且更新了 10 多年。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-16T18:59:02.317

当您获得更新版本的 MSCAL 时，您必须注册它。

将较新的 MSCAL.OCX 放入 C:\windows\System32

打开运行窗口（Windows 键 + R）输入：regsvr32 C:\windows\System32\Mscal.OCX

您应该会看到确认已成功。

您的问题现在应该已经解决，如果没有发现任何变化，您可能需要重新启动操作系统。

# rally - 我无法创建缺陷并与用户故事相关联。我正在使用下面的集会休息 api java 代码

> ID：15492607
> 
> 赞同：0
> 
> 时间：2013-03-19T06:11:20.037
> 
> 标签：rally

我无法创建缺陷并与用户故事相关联。我正在使用下面的集会休息 api java 代码。

```
JsonObject newDefect = new JsonObject();

newDefect.addProperty("Name", "defect added to check");
newDefect.addProperty("Description", "description added to check");
newDefect.addProperty("Requirement", "/userstory/11018012245");
newDefect.addProperty("SubmittedBy", "user/10832575945");
newDefect.addProperty("Workspace", "/workspace/10832575967");
newDefect.addProperty("Project", "project/10832575978");

CreateRequest createRequest = new CreateRequest("defect", newDefect);
CreateResponse createResponse = restApi.create(createRequest);createResponse.getObject().get("FormattedID").toString(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:29:20.340

您的代码看起来不错，看来您的几个 ref 上缺少一些“/”：

`newDefect.addProperty("SubmittedBy", "user/10832575945");`

-->

`newDefect.addProperty("SubmittedBy", "/user/10832575945");`

`newDefect.addProperty("Project", "project/10832575978");`

-->

`newDefect.addProperty("Project", "/project/10832575978");`

# windows - 在 Windows 上的 Webstorm 中自动编译 Jade

> ID：15492624
> 
> 赞同：5
> 
> 时间：2013-03-19T06:12:23.997
> 
> 标签：windows, pug, webstorm

我最近发现了 Jade，并想尝试一个新的静态网站。我喜欢简洁的语法和模板功能，比原始 HTML 要好得多。我在 Webstorm 6 中进行编辑，它支持文件观察器，并且可以开箱即用地运行例如 Sass。我已经能够通过命令行运行 Jade 来查看我的 Jade 文件：

```
jade --watch --out public jade 
```

我现在正试图在 Webstorm 中配置我的项目以自动处理这个问题，但我遇到了问题。

为了使源文件与生成的文件分开，我的目标是这样的布局：

*   根
    *   玉
        *   索引.jade
        *   子目录
            *   子目录jade
    *   上市
        *   索引.html
        *   子目录
            *   子目录.html

参数字段设置为：

```
--out $ProjectFileDir$\public\$FileNameWithoutExtension$.html $FileDir$\$FileName$ 
```

首先，我的`jade`文件夹中有以下内容：

*   索引.jade
*   子目录
    *   索引.jade

我的`public`文件夹中的结果是：

*   index.html（文件夹）
    *   index.html（文件）
*   subdir.html（文件夹）
    *   subdir.html（文件）

这是我第一次尝试使用文件观察器功能，可用的宏让我感到困惑。有没有遇到过类似情况的人有什么建议？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-03-19T16:36:00.447

`jade --out`选项指定目录，而不是文件：

```
-O, --out <dir>    output the compiled html to <dir> 
```

要保留目录结构，您必须使用`$FileDirPathFromParent$`带有参数的宏。

例如，对于`C:\project\public\jade\subdir\subdir.jade`文件，我们需要它返回`jade`目录的正确路径，这将是宏的参数：`$FileDirPathFromParent(jade)$`，结果将是`subdir`.

现在，如果您将**工作目录**设置为`$FileDir$`，则**参数**将是：

```
$FileName$ --out $ProjectFileDir$\public\$FileDirPathFromParent(jade)$ 
```

这个特定项目布局的完整 Jade File Watcher 如下所示：

![玉文件观察者](../Images/2e28da9fb6c4abc06870e8d38b4aca32.png)

# iphone - 如何在 ipad sdk 中检测 24 小时时间格式

> ID：15492625
> 
> 赞同：1
> 
> 时间：2013-03-19T06:12:29.430
> 
> 标签：iphone, objective-c, xcode, nsdate, nsdateformatter

我正在尝试检测时间格式是 12 小时/24 小时格式。基于此，我在日历中设置时间。
我使用以下代码在 viewDidLoad 方法中检测设备上的 24 小时格式。

```
NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
[formatter setLocale:[NSLocale currentLocale]];
[formatter setDateStyle:NSDateFormatterNoStyle];
[formatter setTimeStyle:NSDateFormatterShortStyle];
NSString *dateString = [formatter stringFromDate:[NSDate date]];
NSRange amRange = [dateString rangeOfString:[formatter AMSymbol]];
NSRange pmRange = [dateString rangeOfString:[formatter PMSymbol]];
is24h = (amRange.location == NSNotFound && pmRange.location == NSNotFound); 
```

之后我检查如下

```
if (is24h == TRUE) {
} else {
} 
```

但我总是得到 is24h 值是假的。如果设备设置为 12 小时格式，我可以在日历中设置时间。但如果是 24 小时格式，我无法设置时间。

你能告诉我我需要改变的地方吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-19T06:14:31.077

使用此方法确定时间格式

```
- (BOOL)timeIs12HourFormat {
    NSString *formatStringForHours = [NSDateFormatter dateFormatFromTemplate:@"j" options:0 locale:[NSLocale currentLocale]];
    NSRange containsA = [formatStringForHours rangeOfString:@"a"];
    BOOL hasAMPM = containsA.location != NSNotFound;
    return hasAMPM;
} 
```

根据[unicode 日期格式指南](http://www.unicode.org/reports/tr35/tr35-25.html#Date_Format_Patterns) `j`意味着

> 这是一个特殊用途的符号。它不得出现在模式或骨架数据中。相反，它保留用于传递给执行灵活日期模式生成的 API 的骨架中。在这种情况下，它会请求区域设置的首选小时格式（h、H、K 或 k），这取决于是否在区域设置的标准短时间格式中使用了 h、H、K 或 k。在此类 API 的实现中，在开始与 availableFormats 数据进行匹配之前，必须将“j”替换为 h、H、K 或 k。请注意，在传递给 API 的框架中使用“j”是让框架请求区域设置的首选时间周期类型（12 小时或 24 小时）的唯一方法。

**编辑**

这将首先从设备的 currentLocale 获取 formatString，然后检查“a”是否存在，则为 12 小时格式，如果不存在，则为 24 小时格式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:50:52.373

嗨，现在我的代码工作正常。我写的代码如下。

```
-(BOOL)timeIs24HourFormat{

    NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
    [formatter setLocale:[NSLocale currentLocale]];
    [formatter setDateStyle:NSDateFormatterNoStyle];
    [formatter setTimeStyle:NSDateFormatterShortStyle];
    NSString *dateString = [formatter stringFromDate:[NSDate date]];
    NSRange amRange = [dateString rangeOfString:[formatter AMSymbol]];
    NSRange pmRange = [dateString rangeOfString:[formatter PMSymbol]];
    is24h = (amRange.location == NSNotFound && pmRange.location == NSNotFound);

    return is24h;
} 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-19T06:15:06.673

如果你想要一个 12 小时时钟，那么设置 currentDate 如下：

```
[currentDate setDateFormat:@"yyyy-MM-dd h:mm:ss a"]; 
```

如果您想要 24 小时制时钟，请按如下方式设置 currentDate：

```
[currentDate setDateFormat:@"yyyy-MM-dd HH:mm"]; 
```

# opencv - 在 ConvexHull OpenCV 上填充颜色

> ID：15492628
> 
> 赞同：2
> 
> 时间：2013-03-19T06:12:32.047
> 
> 标签：opencv, colors, convex-hull

请大家帮帮我。我有个问题。我从图像中进行凸壳检测。

然后，我在 ConvexHull 边界内的区域上填充颜色时遇到问题。

**有没有人可以帮我在 ConvexHull 边界内的区域填充颜色？**

请帮助我实现源代码。

我使用 OpenCV 2.3。

这是一个源代码：

```
 #include "stdafx.h" 
 #include "opencv2/highgui/highgui.hpp"
 #include "opencv2/imgproc/imgproc.hpp"
 #include <iostream>
 #include <stdio.h>
 #include <stdlib.h>

 using namespace cv;
 using namespace std;

 Mat src; Mat src_gray;
 int thresh = 240;
 int max_thresh = 255;
 RNG rng(12345);

 /// Function header
 void thresh_callback(int, void* );

/** @function main */
int main( int argc, char** argv )
 {
   /// Load source image and convert it to gray
   src = imread( "kubis1.jpg", 1 );

   /// Convert image to gray and blur it
   cvtColor( src, src_gray, CV_BGR2GRAY );
   blur( src_gray, src_gray, Size(3,3) );

   /// Create Window
   char* source_window = "Source";
   namedWindow( source_window, CV_WINDOW_AUTOSIZE );
   imshow( source_window, src );

   createTrackbar( " Threshold:", "Source", &thresh, max_thresh, thresh_callback );
   thresh_callback( 0, 0 );

   waitKey(0);
   return(0);
 }

 /** @function thresh_callback */
 void thresh_callback(int, void* )
 {
   Mat src_copy = src.clone();
   Mat threshold_output;
   vector<vector<Point> > contours;
   vector<Vec4i> hierarchy;

   /// Detect edges using Threshold
   threshold( src_gray, threshold_output, thresh, 255, THRESH_BINARY );

   /// Find contours
   findContours( threshold_output, contours, hierarchy, CV_RETR_TREE, CV_CHAIN_APPROX_SIMPLE, Point(0, 0) );

   /// Find the convex hull object for each contour
   vector<vector<Point> >hull( contours.size() );
   for( int i = 0; i < contours.size(); i++ )
      {  convexHull( Mat(contours[i]), hull[i], false );
   }

   /// Draw contours + hull results
   Mat drawing = Mat::zeros( threshold_output.size(), CV_8UC3 );
   for( int i = 0; i< contours.size(); i++ )
      {
        Scalar color = Scalar( rng.uniform(0, 255), rng.uniform(0,255), rng.uniform(0,255) );
        drawContours( drawing, contours, i, color, 1, 8, vector<Vec4i>(), 0, Point() );
        drawContours( drawing, hull, i, color, 1, 8, vector<Vec4i>(), 0, Point() );
      }

   /// Show in a window
   namedWindow( "Hull demo", CV_WINDOW_AUTOSIZE );
   imshow( "Hull demo", drawing );
 } 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-20T13:37:07.693

您应该使用[`drawContours`](http://docs.opencv.org/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html?highlight=drawcontours#drawcontours)带有负“厚度”参数的函数：

> 如果厚度 >= 0，该函数在图像中绘制轮廓轮廓，如果厚度 <= 0，则填充由轮廓包围的区域

# javascript - 在 JavaScript 中生成 JSON 时出错

> ID：15492632
> 
> 赞同：0
> 
> 时间：2013-03-19T06:12:43.630
> 
> 标签：javascript, json

我正在尝试制作 JSON，但出现类型错误。错误说，无法设置未定义的属性“应用程序”。这发生在`*.isFav = true` 声明中。如果我删除 if 语句，它会起作用（`isFavt(*)`语句）。

任何帮助将不胜感激。谢谢！

```
 pref.userid =   username;
        //systems       
        systems =   [];
        for(i=0;i<system.length;i++)
            {
                systems[i]  =   new Object();
                systems[i].systemid =   system[i];
                systems[i].apps =   [];
                j = 0;
                $('.save label').each(function  ()
                    {
                        lst =   $(this).text();
                        console.log(systems[i]);

                        systems[i].apps[j]  =   new Object();
                        systems[i].apps[j].name =   lst;
                        systems[i].apps[j].href=    findHref(lst.toLowerCase().replace(/ /g,'_'));
                        //seq
                        systems[i].apps[j].seq  =   j;
                        //check for favourites
                        if(isFavt(lst))
                        systems[i].apps[j].isFav    =   'true';
                        else
                        systems[i].apps[j].isFav    =   'false';

                        //check for default
                        if(isDef(lst)   ==  true)
                        systems[i].apps[j].isDef    =   'true';
                        else
                        systems[i].apps[j].isDef    =   'false';
                        //subapps

                        j = j + 1;
                    });
            }
        pref.systems    =   systems;
        return  pref;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:19:35.680

很可能，您的`isFavt()`函数中有一个循环，它会覆盖`i`变量。JavaScript*没有*块作用域，*如果*您不使用`var`.

代替

```
for(i=0;i<system.length;i++) 
```

和

```
for(var i=0;i<system.length;i++) 
```

并**在你的`isFavt`函数**中做同样的事情，因为那是错误的来源。实际上，对所有代码中您希望在函数本地的*每个变量执行此操作。*

另外，我强烈建议阅读 JavaScript 中的作用域。

# xcode - 如何让 Xcode 将扩展名为 .exp 的文件视为资源文件？

> ID：15492633
> 
> 赞同：3
> 
> 时间：2013-03-19T06:12:46.927
> 
> 标签：xcode

Xcode 将“exp”文件扩展名识别为源代码。

所以每次我必须将 .exp 文件从“编译源”拖到“构建设置”中的“复制捆绑资源”。我找不到更改 Xcode 按扩展名处理文件的方式的设置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T08:27:02.240

实际上，`.exp`扩展名是导出文件的保留扩展名。但是，文件描述了 XCode 的处理方式 `/Applications/Xcode.app/Contents/PlugIns/Xcode3Core.ideplugin/Contents/Frameworks/DevToolsCore.framework/Versions/A/Resources/Standard\ file\ types.pbfilespec`。

在那里你可以找到条目：

```
{
    Identifier = sourcecode.exports;
    BasedOn = sourcecode;
    Extensions = (exp);
    UTI = "com.apple.symbol-export";
}, 
```

如果您将“BasedOn”键设置为，例如，`image`.exp 文件将被视为图像。但请注意，如果您包含例如汇编源代码，这可能会破坏您的工作流程。

# ios - “IOSurface 警告：缓冲区分配失败”导致应用程序崩溃

> ID：15492635
> 
> 赞同：0
> 
> 时间：2013-03-19T06:12:57.583
> 
> 标签：ios, objective-c, ipad, buffer

在使用我的 ipad 应用程序时，我收到了一系列警告（3 月 18 日 11:18:06 内核 [0]：IOSurface 警告：缓冲区分配失败。980 x 606 fmt：42475241 大小：2387968 字节）超过 50 次只需 20 秒，应用程序就崩溃了，报告如下：

```
Mar 18 11:18:35  ReportCrash[1428] <Notice>: Formulating crash report for process eDetail[1353]
Mar 18 11:18:35  ReportCrash[1428] <Error>: libMobileGestalt copySystemVersionDictionaryValue: Could not lookup ReleaseType from system version dictionary
Mar 18 11:18:35  ReportCrash[1428] <Notice>: Saved crashreport to /var/mobile/Library/Logs/CrashReporter/eDetail_2013-03-19-111833_iPad.plist using uid: 0  gid: 0, synthetic_euid: 501 egid: 0
Mar 18 11:18:35  com.apple.launchd[1] <Warning>: (UIKitApplication:com.****.profile***[0x1024]) Job appears to have crashed: Segmentation fault: 11
Mar 18 11:18:35  backboardd[26] <Warning>: Application 'UIKitApplication:com.****.profile***[0x1024]' exited abnormally with signal 11: Segmentation fault: 11 
```

任何人都可以帮助我找出这个问题的根本原因并解决它。

编辑：在这个代码点上也显示了警告：

```
NSString *docsDir;
NSArray *dirPaths;

filemgr = [NSFileManager defaultManager];
// Get the documents directory

dirPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);    
docsDir = [dirPaths objectAtIndex:0];

// Build the path to the data file
dataFilePath = [[NSString alloc] initWithString: [docsDir stringByAppendingPathComponent: @"data.archive"]];

// Check if the file already exists
if ([filemgr fileExistsAtPath: dataFilePath]){

    NSMutableDictionary *dataDict = [NSKeyedUnarchiver unarchiveObjectWithFile: dataFilePath];
    if ([dataDict count] != 0) {
        m_cUserName.text = [dataDict objectForKey:@"UserName"];
        m_cPassword.text = @"";
        if([[dataDict objectForKey:@"AccountType"] isEqualToString:@"Specialty"]){
            m_cBgImage.image = [UIImage imageNamed:@"specialityloginbg.png"];
        }else {
            m_cBgImage.image = [UIImage imageNamed:@"infusionloginbg"];
        }
    }   
} 
```

希望这能有所帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T13:37:38.820

好的，最后我得到了原因和解决方案。由于内存的过度使用，操作系统无法为渲染图像分配缓冲区。在收到一系列此警告后，App 崩溃了。我在完成目的后立即减少了内存的使用并释放了对象，我完全摆脱了这个警告。

# scala - 在提升框架工作中使用 scala 的 NodeSeq

> ID：15492637
> 
> 赞同：1
> 
> 时间：2013-03-19T06:12:59.890
> 
> 标签：scala, lift, lift-json

任何人都可以打电话给提升框架工作表单处理中使用的 NodeSeq 对象吗？我们可以在不使用 NodeSeq 对象的情况下处理我们的表单吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T08:07:55.467

关于第二个问题。

不，不是。Lift 的整个想法是它处理 HTML 模板、转换和许多其他东西。但 html 模板和转换是基本且必要的，至少对于非 REST 应用程序而言。并且模板*是*XML，在 Scala 中是 NodeSeq。

因此，如果您接受 Lift 框架，那么您就接受了模板是 NodeSeq。顺便说一句，您主要将其用作类，而不是对象。

如果您对 NodeSeq 有一些确切的问题——您可能会问，我们会尽力提供帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T07:42:09.997

对于第一个问题 -`NodeSeq`是 scala 包的一部分，`scala.xml.NodeSeq`它为在 scala 中解析和使用 xml 提供本机支持。检查[scala_docs](http://www.scala-lang.org/api/current/index.html#scala.xml.NodeSeq)。

对于第二个问题 - 考虑到 NodeSeq 是`xml`，您可以使用 xml 解析来解析它，但至于如何做到这一点......我不知道。

# android - 如何在 Android 中使用 iPad 等 5 指手势关闭正在运行的应用程序

> ID：15492638
> 
> 赞同：0
> 
> 时间：2013-03-19T06:13:01.787
> 
> 标签：android, gesture

我想为 Andriod 平板电脑中的用户提供一种工具，他们可以**像在 iPad 中一样使用 5 指手势****关闭**他们的应用程序。

 **可以在Android平板电脑上做吗？如果可能的话，我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:25:57.473

**是**的，你可以做到。尝试使用[MotionEvent.getPointerCount()](http://developer.android.com/reference/android/view/MotionEvent.html#getPointerCount%28%29)，您可以在其中检查 pinter 计数是否为**5**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-07T18:16:46.123

处理多点触控手势 了解如何检测多点（手指）手势。拖动和缩放 了解如何实现基于触摸的拖动和缩放。

在此处打开此链接，所有信息都提供了有关如何在检测到 5 个手指后检测手势类型的信息............ [http://developer.android.com/training/gestures/index.html](http://developer.android.com/training/gestures/index.html)**

# java - 在“obj = null”之后对象是否有资格进行垃圾回收？

> ID：15492643
> 
> 赞同：3
> 
> 时间：2013-03-19T06:13:15.510
> 
> 标签：java, garbage-collection

我知道`System.gc()`不保证会导致GC，但是理论上，在下面的代码中，对象`obj`是否有资格进行垃圾回收？

```
public class Demo {

    public static void main(String[] args) throws Exception {
        SomeClass obj = new SomeClass();
        ArrayList list = new ArrayList();
        list.add(obj);
        obj = null;
        System.gc();
    }

}

class SomeClass {
    protected void finalize() {
        System.out.println("Called");
    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-19T06:17:26.830

在您调用您创建`System.gc()`的`SomeClass`实例时，它*不*符合垃圾收集条件，因为它仍然被`list`对象引用，即它仍然是*可访问*的。

但是，一旦此方法返回`list`超出范围，so`obj`就会有资格进行垃圾收集（就像 will 一样`list`）。

简单地将引用设置`obj`为 null 本身并不能使引用的对象符合垃圾回收的条件。**一个对象只有在可见对象图中没有**对其的引用时才符合条件。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-19T06:25:54.787

> 对象 obj 是否有资格进行垃圾收集？

只有那些甚至没有一个参考可以到达它们的对象才会被垃圾收集。（循环连通性除外）

在您的代码中，有两个引用指向`new SomeClass();`

1.  对象
2.  列表的第零个索引

你把`obj = null`, 即它不再指向那个对象了。但是，列表中仍然存在另一个可用于访问该对象的引用。

因此，该对象仅在`main`返回时才有资格进行 GC。即，`finalize`即使它被调用，你也看不到方法的输出。（不确定JVM是否仍然调用它）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-19T06:18:07.720

不，因为该对象实际上存在于列表中。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-19T06:18:32.553

作为 Java 程序员，你不能在 Java 中强制垃圾回收；只有当 JVM 认为它需要基于 Java 堆大小的垃圾收集时才会触发

当 Java 程序启动时，Java 虚拟机从操作系统中获取一些内存。Java 虚拟机或 JVM 使用此内存来满足其所有需求，并且此内存的一部分称为 java 堆内存。

Java中的堆一般位于地址空间的底部并向上移动。每当我们使用 new 运算符或任何其他方式创建对象时，都会从堆中为对象分配内存，当对象死亡或垃圾收集时，内存会回到 Java 中的堆空间

**编辑 ：**

> 对象 obj 是否有资格进行垃圾收集？

不，因为对象仍在 ArrayList 中。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2013-03-19T06:14:03.230

同意，只要它在列表中，它就不会被垃圾收集。

# jquery - 删除特定的空 从页面

> ID：15492644
> 
> 赞同：0
> 
> 时间：2013-03-19T06:13:15.430
> 
> 标签：jquery

再会

我正在使用 wordpress，我有这个烦人的空段落标签

在我的 div 元素之一下方。

现在页面上还有很多其他的空白段落我不想删除，只有这个..

这是HTML：

```
<div class="wpcol-one-quarter">
   <p><a rel="slb_group[803] slb slb_internal" href="http://asksomeone.co.za/wp-content/uploads/2013/03/boltmaster1.jpg"><img alt="boltmaster" src="http://asksomeone.co.za/wp-content/uploads/2013/03/boltmaster1-300x200.jpg" width="180" height="120" /></a></p>
</div>

<p>&nbsp;</p> <!--The culprit!!-->

<div class="wpcol-one-quarter">
   <p><a rel="slb_group[803] slb slb_internal" href="http://asksomeone.co.za/wp-content/uploads/2013/03/trackmaster.jpg"><img alt="trackmaster" src="http://asksomeone.co.za/wp-content/uploads/2013/03/trackmaster-300x200.jpg" width="180" height="120" /></a></p>
</div>
<div class="wpcol-one-quarter">
   <p><a rel="slb_group[803] slb slb_internal" href="http://asksomeone.co.za/wp-content/uploads/2013/03/multimaster.jpg"><img alt="multimaster" src="http://asksomeone.co.za/wp-content/uploads/2013/03/multimaster-300x200.jpg" width="180" height="120" /></a></p>
</div>
<div class="wpcol-one-quarter wpcol-last">
   <p><a rel="slb_group[803] slb slb_internal" href="http://asksomeone.co.za/wp-content/uploads/2013/03/facemaster1.4.jpg"><img alt="facemaster1.4" src="http://asksomeone.co.za/wp-content/uploads/2013/03/facemaster1.4-300x200.jpg" width="180" height="120" /></a></p>
</div><div class="wpcol-divider"></div> 
```

现在我计划通过以下方式删除它：

```
 <script type="text/javascript">
                jQuery(function($){
                    var pathname = window.location.pathname;
                    if(pathname == '/803-2'){
                        $('div.wpcol-one-quarter').next(){

                            $('p').each(function() {
                                var $this = $(this);
                                if($this.html().replace(/\s|&nbsp;/g, '').length == 0)
                                    $this.remove();
                            });
                        }
                    }
                });
            </script> 
```

**为什么它不起作用？**

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:18:41.823

试试这个 ：

```
<script>
$(document).ready(function(){
  $(".wpcol-one-quarter").next("p:empty").remove();
});
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:15:42.947

试试这个

```
$('div.wpcol-one-quarter').next('p').filter(function () { return $.trim($(this).html()) == "" }).remove(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T06:32:11.403

试试这个：

```
 jQuery(function($){

        var pathname = window.location.pathname;

        if(pathname == '/803-2'){               

                  $("div.wpcol-one-quarter").next('p:empty').remove();

                  if($("div.wpcol-one-quarter").next('p').html()=="&nbsp;") {
                   $("div.wpcol-one-quarter").next('p').remove();
                  }

        }
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T10:45:15.233

它不能再短了，而且你会在你的 js 脚本代码上调整大小，从长远来看，这会让你的东西加载得更快。

```
$('p:contains("\xa0")').remove(); //to find all issues 
```

或者

```
$('.wpcol-one-quarter').next('p:contains("\xa0")').remove(); //to remove specific issue 
```

# php - 3张表的内连接

> ID：15492646
> 
> 赞同：3
> 
> 时间：2013-03-19T06:13:17.603
> 
> 标签：php, mysql, sql, greatest-n-per-group

我正在使用 PHP 和 PDO，我需要记住加入 3 个表的信息：

*   相片
*   专辑
*   相册照片

该表具有以下结构：

相片：

```
photo_id  (int)
path      (varchar)
nick      (varchar)
date      (timestamp) 
```

专辑

```
album_id   (int)
album_name (varchar)
nick       (varchar)
date       (timestamp) 
```

相册照片

```
album_id (int)
photo_id (int)
nick     (varchar)
date     (timestamp) 
```

所以，我想显示所有相册，每个相册最多 5 张照片，**其中用户 nick 是 'owner'**。

如下所示：

```
album_name_1:
[photo_1]
[photo_2]
[photo_3]
[photo_4]
[photo_5]

album_name_2:
[photo_1]
[photo_2]
[photo_3]
[photo_4]
[photo_5] 
```

我只知道可以用 INNER JOIN 制作这样的东西，但我找不到如何用 3 张桌子制作它。

有我可以做到这一点的例子或其他帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:32:29.453

```
SELECT  a.*, c.date
FROM    Album a
        INNER JOIN Album_Photo b
            ON a.Album_ID = b.Album_ID
        INNER JOIN Photo c
            ON b.Photo_ID = c.Photo_ID
WHERE   c.Nick = 'owner' AND
        (
          SELECT COUNT(*) 
          FROM   album_photo d
          WHERE  b.album_id = d.album_id AND
                 d.nick = 'owner' AND
                 b.date >= d.date
        ) <= 2   // <<== change this value to 5 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/cd5a0/4)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:34:57.377

我认为这可以使用存储过程来解决。使用变量和[循环](http://www.mysqltutorial.org/stored-procedures-loop.aspx)，您可以检索您想要的记录。当您只使用基本的 SQL 命令时，最多只能从专辑中获取 5 条记录是非常具有挑战性的。有时，您无法得出正确的记录。我建议你使用存储过程。:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T06:23:33.407

试试喜欢

```
"SELECT albums.*,photos.id,photos.path,photo_date as Pht_date
 FROM albums 
     JOIN album_photos 
          ON album_photos.album_id = albums.album_id
     JOIN photos 
          ON photos.photos_id = album_photos_id
" 
```

但是您不会对涉及“JOIN”的照片给出单独的限制，否则您需要单独给出喜欢

```
$album_ids = "SELECT album_id FROM albums"; 
```

然后对于您需要编写查询喜欢的照片

```
"SELECT photos.* FROM photos 
 WHERE album_photos.album_id in (".$album_ids.") AND album_photos.nick = 'owner'
 JOIN album_photos
 ON album_photos.photo_id = photos.photos_id 
 LIMIT 0,10
 " 
```

# android - 使用 uri 方案从网页链接捕获 Android 图像

> ID：15492648
> 
> 赞同：0
> 
> 时间：2013-03-19T06:13:27.990
> 
> 标签：android, uri

我正在尝试使用网页链接中的 URI 方案打开我的相机：

```
android.provider.MediaStore.ACTION_IMAGE_CAPTURE 
```

我可以让 Skype: 和 tel: 工作，但我似乎无法让 image/* 工作。

例如，这有效

```
tel:555-1013 
```

这不起作用

```
image/*android.provider.MediaStore.ACTION_IMAGE_CAPTURE 
```

这是可能的还是我叫错了树？

我正在尝试使用这种方法，因为我正在使用 Axure，它不允许我“在幕后”添加我自己的完整 Intent 详细信息。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:21:14.583

以下是一个 HTML5 代码示例，可用于从手机图库中获取图像或使用手机摄像头拍照。刚刚在运行 android 4.2.2 的 Nexus 4 上对其进行了测试，它工作正常：

[http://html5.merge.nl/file-api.php](http://html5.merge.nl/file-api.php)

以下是运行 android 4.2.1 的 Nexus 7 的屏幕截图

![在此处输入图像描述](../Images/8807207957198ab593c8736c0c87e785.png)

以下是页面的html：

```
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset=utf-8>
<title>HTML5 / File API</title>

<link rel="shortcut icon" href="http://www.merge.nl/sites/all/themes/merge/images/favicon.ico" />
<link rel="icon" type="image/vnd.microsoft.icon" href="http://www.merge.nl/sites/all/themes/merge/images/favicon.ico" />

<body>

<section id="wrapper">

    <header>
      <h1>HTML5  / File API</h1>
    </header>

<form action="#" method="post">
<input type="file" accept="image/*">  

</form>

<hr>
Your User-Agent:
<br>
Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.22 (KHTML, like Gecko) Chrome/25.0.1364.172 Safari/537.22

</section>

</body>
</html> 
```

希望能帮助到你...

# delphi - 如何在 Delphi 中以管理员权限运行命令？

> ID：15492649
> 
> 赞同：1
> 
> 时间：2013-03-19T06:13:30.010
> 
> 标签：delphi, windows-7, command, administrator

我试图在 Win 7 上从 Delphi XE2 停止 mysql。我已经根据我在网上找到的 Delphi 7 编写了一些代码，应该这样做，但它不起作用：

```
function StopMySQL: boolean;
const
  UserName = 'Mark';
  Domain = 'PC-Mark';
  Command = 'net stop mysql';
var
  StartupInfo: TStartupInfo;
  ProcessInfo: TProcessInformation;
begin
  FillChar(StartupInfo, SizeOf(StartupInfo), #0);
  StartupInfo.cb := SizeOf(StartupInfo);
  StartupInfo.dwFlags := STARTF_USESHOWWINDOW;
  StartupInfo.wShowWindow := SW_HIDE;
  result := CreateProcessWithLogonW(Username, Domain, Password, 0, nil, Command, 0,     nil, nil, StartupInfo, ProcessInfo);
  if result then
    WaitForSingleObject(ProcessInfo.hProcess, INFINITE);
end; 
```

有谁知道如何做到这一点？

TIA 马克帕特森

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T06:46:29.843

从 Vista 开始，您将需要提升的访问权限来启动/停止服务。
一种简单的方法是将 RunAs 与 Shellexecute(Ex) 一起使用。

```
ShellExecute(handle,'RunAs','net','stop mysql',nil,sw_Show); 
```

更好的方法是使用清单，它可能如下所示：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0">
  <dependency>
    <dependentAssembly>
      <assemblyIdentity
        type="win32"
        name="Microsoft.Windows.Common-Controls"
        version="6.0.0.0"
        publicKeyToken="6595b64144ccf1df"
        language="*"
        processorArchitecture="*"/>
    </dependentAssembly>
  </dependency>
  <trustInfo xmlns="urn:schemas-microsoft-com:asm.v3">
    <security>
      <requestedPrivileges>
       <requestedExecutionLevel level="requireAdministrator" />
      </requestedPrivileges> 
    </security>
  </trustInfo>
</assembly> 
```

一个不需要“网络”的最小解决方案可能看起来像这样，应该做更多的事情，例如。测试服务是否正在运行，但那是你的，可以用 WinSvc 来完成：

```
implementation
uses WinSvc;
{$R *.dfm}
{$R administrator.res}

function ServiceStop(Machine, ServiceName: string): Boolean;

var
  ServiceControlManager, ServiceHandle: SC_Handle;
  ServiceStatus: TServiceStatus;
  dwCheckPoint: DWORD;
begin
  ServiceControlManager := OpenSCManager(PChar(Machine), nil, SC_MANAGER_CONNECT);
  if ServiceControlManager > 0 then
  begin
    ServiceHandle := OpenService(ServiceControlManager, PChar(ServiceName),
      SERVICE_STOP or SERVICE_QUERY_STATUS);
    if ServiceHandle > 0 then
    begin
      if (ControlService(ServiceHandle, SERVICE_CONTROL_STOP, ServiceStatus)) then
      begin
        if (QueryServiceStatus(ServiceHandle, ServiceStatus)) then
        begin
          while (SERVICE_STOPPED <> ServiceStatus.dwCurrentState) do
          begin
            dwCheckPoint := ServiceStatus.dwCheckPoint;
            Sleep(ServiceStatus.dwWaitHint);
            if (not QueryServiceStatus(ServiceHandle, ServiceStatus)) then
              break;
            if (ServiceStatus.dwCheckPoint < dwCheckPoint) then
              break;
          end;
        end;
      end;
      CloseServiceHandle(ServiceHandle);
    end;
    CloseServiceHandle(ServiceControlManager);
  end;

  Result := (SERVICE_STOPPED = ServiceStatus.dwCurrentState);
end;

procedure TForm2.Button1Click(Sender: TObject);

begin
   If ServiceStop('','mysql') then Showmessage('Service Stopped')
   else Showmessage('Nope');
end; 
```

管理员资源可以由

*   将上述显示 XML-Code 保存为 administrator.manifest
*   使用内容创建为文件 administrator.rc

> 1 24“管理员.manifest”

*   跑步

> brcc32 管理员.rc

使用创建的 administrator.res 将需要：

1.  在较新的 delphi 版本上禁用运行时主题，它们包含在清单中
2.  从现有项目中删除 XPMan（组件和代码，包含在清单中）
3.  如果您需要调试应用程序，delphi 也必须以管理员身份启动。

[清单所需的源代码和任何内容都可以在此处下载](http://www.bummisoft.de/download/coda.zip)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T05:57:34.890

我最终做的是：

```
uses WinApi, ShellApi;

function StartStopDatabase(start: boolean): integer;
var
  Info: TShellExecuteInfo;
  verb: string;
  ExitCode: DWORD;
begin
  Result := -1;
  if start
    then verb := 'start'
    else verb := 'stop';
  FillChar(Info, SizeOf(Info), 0);
  Info.cbSize := SizeOf(TShellExecuteInfo);
  Info.fMask := SEE_MASK_NOCLOSEPROCESS;
  Info.Wnd := Application.Handle;
  Info.lpVerb := 'RunAs';
  Info.lpFile := 'net';
  Info.lpParameters := PWideChar(verb + ' mysql');
  Info.nShow := SW_SHOW;
  if ShellExecuteEx(@Info) then begin
    repeat
      Sleep(100);
      Application.ProcessMessages;
      GetExitCodeProcess(Info.hProcess, ExitCode);
    until (ExitCode <> STILL_ACTIVE) or Application.Terminated;
    Result := ExitCode;
  end;
end; 
```

# iphone - 从 tableView 在我的 sql 表中添加数据显示所有单元格的相同索引值

> ID：15492650
> 
> 赞同：0
> 
> 时间：2013-03-19T06:13:33.727
> 
> 标签：iphone, ios, objective-c, tableview

我在表格视图中有两个部分，当用户单击任何单元格时，它会显示详细数据，但问题是当用户从第一部分选择任何选项时，它会显示索引 3，而从第二部分开始，它只显示 6，我有 3 个值在每个部分中，我希望当我单击索引时它可能会显示索引值而不是最后三个值

contentID 为所有平均最后值显示 3

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {

    ObjectData *theCellData = [resultArray objectAtIndex:indexPath.row];
    userName=@"Jamshed";
    contentID=theCellData.content_ID;
    status=@"On";

    NSString*type=theCellData.content_Type;

    if ([type isEqualToString:@"Video" ]) 
        {
      [self playVideo];
    }

}

 -(void)addToLearning{

NSLog(@"Content ID Learning %@",contentID);

NSDate *StrDate = [NSDate date];
NSDateFormatter *Dateformat = [[NSDateFormatter alloc]init];
[Dateformat setDateFormat:@"DD-MM-YYYY HH:mm:SS"];
NSMutableString *DateStr = [Dateformat stringFromDate:StrDate];
addedDate=DateStr;

NSString *post =[[NSString alloc] initWithFormat:@"user_Name=%@&content_ID=%@&added_Date=%@&status=%@",userName,contentID,addedDate,status];

NSURL *url=[NSURL URLWithString:@"http://www.celeritas-solutions.com/pah_brd_v1/productivo/myLearning.php"];

NSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];

NSString *postLength = [NSString stringWithFormat:@"%d", [postData length]];

NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init] ;
[request setURL:url];
[request setHTTPMethod:@"POST"];
[request setValue:postLength forHTTPHeaderField:@"Content-Length"];
[request setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];
[request setHTTPBody:postData];

NSError *error;
NSURLResponse *response;
NSData *urlData=[NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];

NSString *data=[[NSString alloc]initWithData:urlData encoding:NSUTF8StringEncoding];
NSLog(@"%@",data); 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:20:58.133

`UIButton`在你的Tapped Method中写下以下 coed 。

```
-(void) ButtonTapped:(UIButton *) sender
{
        NSIndexPath *indexpathNew = [self.tblView indexPathForCell:(UITableViewCell *)[sender superview]];

      NSLog(@"%@",indexpathNew.row);
} 
```

`indexpathNew`是单元格选定按钮的返回`indextPath`。

试试我的代码，我可能对你有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:27:00.140

自定义单元格上的按钮代码

代码 ：：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

   .......

   UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
   [button addTarget:self action:@selector(onClick:) forControlEvents:UIControlEventTouchUpInside];

   [button setTag:indexPath.row];
   [cell.contentView addSubview:button];

   .........
} 
```

点击方法::

```
-(IBAction)onClick:(id)sender{

    NSLog(@"Tag :===> %d", [sender tag]);

    ObjectData *theCellData = [resultArray objectAtIndex:[sender tag]];
    contentID = theCellData.content_ID;
    NSLog(@"ID ===> %@", cotentID);   
 } 
```

希望，它可以帮助你。

谢谢。

# c# - 2D 弹性碰撞“卡住”问题

> ID：15492654
> 
> 赞同：0
> 
> 时间：2013-03-19T06:13:48.573
> 
> 标签：c#, 2d, collision-detection, collision

我有一个在 2D 空间中移动的多个圆圈的模拟。

它们之间存在碰撞检测，弹性碰撞在 95% 的时间内都有效。然而，偶尔，当两个球相互撞击时，它们会相互粘连并重叠，经常在被粘在一起的同时相互绕行。

我不确定如何解决这个问题。

我的碰撞管理功能如下所示：

```
void manageCollision(Particle particleA, Particle particleB)
{
    float distanceX = particleA.Position.X - particleB.Position.X;
    float distanceY = particleA.Position.Y - particleB.Position.Y;
    double collisionAngle = Math.Atan2(distanceY, distanceX);
    double pA_magnitude = Math.Sqrt(particleA.Velocity.X * particleA.Velocity.X + particleA.Velocity.Y * particleA.Velocity.Y);
    double pB_magnitude = Math.Sqrt(particleB.Velocity.X * particleB.Velocity.X + particleB.Velocity.Y * particleB.Velocity.Y);
    double pA_direction = Math.Atan2(particleA.Velocity.Y, particleA.Velocity.X);
    double pB_direction = Math.Atan2(particleB.Velocity.Y, particleB.Velocity.X);
    double pA_newVelocityX = pA_magnitude * Math.Cos(pA_direction - collisionAngle);
    double pA_newVelocityY = pA_magnitude * Math.Sin(pA_direction - collisionAngle);
    double pB_newVelocityX = pB_magnitude * Math.Cos(pB_direction - collisionAngle);
    double pB_newVelocityY = pB_magnitude * Math.Sin(pB_direction - collisionAngle);
    double pA_finalVelocityX = ((particleA.Mass - particleB.Mass) * pA_newVelocityX + (particleB.Mass + particleB.Mass) * pB_newVelocityX) / (particleA.Mass + particleB.Mass);
    double pB_finalVelocityX = ((particleA.Mass + particleA.Mass) * pA_newVelocityX + (particleB.Mass - particleA.Mass) * pB_newVelocityX) / (particleA.Mass + particleB.Mass);
    double pA_finalVelocityY = pA_newVelocityY;
    double pB_finalVelocityY = pB_newVelocityY;
    particleA.Velocity = new Vector2((float)(Math.Cos(collisionAngle) * pA_finalVelocityX + Math.Cos(collisionAngle + Math.PI / 2) * pA_finalVelocityY), (float)(Math.Sin(collisionAngle) * pA_finalVelocityX + Math.Sin(collisionAngle + Math.PI / 2) * pA_finalVelocityY));
    particleB.Velocity = new Vector2((float)(Math.Cos(collisionAngle) * pB_finalVelocityX + Math.Cos(collisionAngle + Math.PI / 2) * pB_finalVelocityY), (float)(Math.Sin(collisionAngle) * pB_finalVelocityX + Math.Sin(collisionAngle + Math.PI / 2) * pB_finalVelocityY));
} 
```

每个球或粒子以随机的质量和半径生成。

该函数在更新类型的方法中调用，如下所示：

```
Particle pA = particles[i];
for (int k = i + 1; k < particles.Count(); k++)
{
    Particle pB = particles[k];
    Vector2 delta = pA.Position - pB.Position;
    float dist = delta.Length();

    if (dist < particles[i].Radius + particles[k].Radius && !particles[i].Colliding && !particles[k].Colliding)
    {
        particles[i].Colliding = true;
        particles[k].Colliding = true;
        manageCollision(particles[i], particles[k]);
        particles[i].initColorTable(); // Upon collision, change the color
        particles[k].initColorTable();
        totalCollisions++;
    }
    else
    {
        particles[i].Colliding = false;
        particles[k].Colliding = false;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:46:17.153

这种情况源于离散计算和持续时间的大步长。

当您以某个时间间隔 dt 观察对象时，您可以观察两个圆之间的某些交点并调用您的碰撞方法，但在下一个时间步中，尽管它们在上一步碰撞后朝不同的方向前进，但它们仍可能重叠。

为了减少这种影响，您可以尝试使用较低的时间步长，这样可以减少对象之间的重叠率。作为更复杂的解决方案，您可以为每一步保留碰撞对象的列表，并且在迭代期间，如果当前相交的圆圈在上一步中有任何“事件”，您可以检查此列表。

# css - CSS：图像浮动在两端对齐的文本中间

> ID：15492656
> 
> 赞同：3
> 
> 时间：2013-03-19T06:13:51.423
> 
> 标签：css

有没有办法让图像漂浮在对齐对齐的文本中间？

我不介意黑客，但文本需要是可编辑的。

![图像浮动在中间](../Images/aa6aac7f4d8ade0074e3a25d5b765078.png)

如果有人想摆弄：http: [//jsfiddle.net/vb6dL/](http://jsfiddle.net/vb6dL/)

`Please ignore this line (required by SO)`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T06:25:37.623

不，此时不可能使用 css 将图像浮动在文本块的中心。

这是一个接近的黑客：

*   [http://css-tricks.com/float-center/](http://css-tricks.com/float-center/)

还有一些关于这个问题的进一步阅读：

*   [http://www.codeitpretty.com/2012/05/you-cant-float-center.html](http://www.codeitpretty.com/2012/05/you-cant-float-center.html)

# c# - 如何在重用具有匿名类型的 ScriptEngine 时避免“程序集中的类型名称重复”？

> ID：15492657
> 
> 赞同：2
> 
> 时间：2013-03-19T06:13:58.137
> 
> 标签：roslyn-ctp, roslyn-ctp, rsolyn-ctp, c#, anonymous-types, roslyn

我正在使用基于[roslyn-ctp](/questions/tagged/roslyn-ctp "显示标记为“roslyn-ctp”的问题")的脚本规则引擎，它将处理`IEnumerable<T>`并返回结果为`IEnumerable<T>`. 为了避免`ScriptEngine`一次又一次地创建、配置和解析，我想重用一个`ScriptEngine`.

这是一个简短的示例（[*gist.github.com*](https://gist.github.com/akimboyko/5193989)[上的完整示例](https://gist.github.com/akimboyko/5193989)*）：*

 *```
var engine = new ScriptEngine();

new[]
{
    typeof (Math).Assembly,
    this.GetType().Assembly
}.ToList().ForEach(assembly => engine.AddReference(assembly));

new[]
{
    "System", "System.Math", 
    typeof(Model.ProcessingModel).Namespace
} .ToList().ForEach(@namespace => engine.ImportNamespace(@namespace));

IEnumerable<Model.ProcessingModel> models = new[]
{
    new Model.ProcessingModel { InputA = 10M, InputB = 5M, Factor = 0.050M },
    new Model.ProcessingModel { InputA = 20M, InputB = 2M, Factor = 0.020M },
    new Model.ProcessingModel { InputA = 12M, InputB = 3M, Factor = 0.075M }
};

// no dynamic allowed
// anonymous class are duplicated in assembly
var script =
    @"
    Result = InputA + InputB * Factor;
    Delta = Math.Abs((Result ?? 0M) - InputA);
    Description = ""Some description"";
    var result = new { Σ = Result, Δ = Delta, λ = Description };
    result
    ";

// Here is ArgumentException `Duplicate type name within an assembly`
IEnumerable<dynamic> results =
                models.Select(model => engine.CreateSession(model).Execute(script)); 
```

这里有几个问题：

*   [roslyn-ctp](/questions/tagged/roslyn-ctp "显示标记为“roslyn-ctp”的问题")不支持`dynamic`关键字
*   **在脚本中使用匿名类型`Duplicate type name within an assembly`**时，当[rsolyn-ctp](/questions/tagged/rsolyn-ctp "显示标记为“rsolyn-ctp”的问题")使用创建程序集时出现异常`System.Reflection.Emit`

## 问题

当脚本包含匿名类型时，有没有办法`ScriptEngine`多次创建和重用它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T20:44:24.730

你在 Roslyn 中遇到了一个错误。

我建议不要循环编译脚本。由于代码不会更改，因此仅更新脚本正在使用的数据会更有效。这种方法也避免了该错误。

```
var model = new Model();
var session = engine.CreateSession(model);
var submission = session.CompileSubmission<dynamic>(script);
foreach (Model data in models)
{
    model.InputA = data.InputA;
    model.InputB = data.InputB;
    model.Factor = data.Factor;

    dynamic result = submission.Execute();
    Console.WriteLine("{0} {1} {2}", result.Σ, result.Δ, result.λ);
} 
```*

# c# - 句子大写

> ID：15492664
> 
> 赞同：1
> 
> 时间：2013-03-19T06:14:32.197
> 
> 标签：c#, char, sentence

我正在悲惨地尝试编程任务。我不是在寻找“这就是你这样做的方式”，而是更多的是“我做错了什么？”

我正在尝试将字符串输入中每个句子的开头大写。例如字符串“你好。我的名字是约翰。我喜欢骑自行车。” 我会修改字符串并用大写字母返回它，例如：“你好。我的名字是 john。我喜欢骑自行车。” 我的逻辑似乎有点缺陷，我很迷茫。

到目前为止我所拥有的。基本上我所做的只是测试表示句子结尾的标点符号。然后尝试替换字符。还测试它是否在字符串的末尾以不创建 IndexOutOfRange 异常。虽然，这就是我得到的全部:(

```
private string SentenceCapitalizer(string input)
    {
        for (int i = 0; i < input.Length; i++)
        {
            if (input[i] == '.' || input[i] == '!' || input[i] == '?')
            {
                if (!(input[i] == input.Length))
                {                       
                    input.Replace(input[i + 2], char.ToUpper(input[i + 2]));  
                }                     
            }
        }

        return input;

    } 
```

任何帮助是极大的赞赏。我只是在学习 C#，所以最基本的帮助就是服务。我知道的不多:P

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:32:56.873

代替

```
if (!(input[i + 2] >= input.Length)) 
```

它应该是

```
if (!(i + 2 >= input.Length)) 
```

您正在比较索引，而不是字符

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T07:02:47.627

字符串是不可变的，你不能这样做：

```
var str = "123";
str.Replace('1', '2'); 
```

你所要做的：

```
var str = "123";
str = str.Replace('1', '2'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T06:20:28.267

您正在检查当前索引是否小于或等于字符串的长度，然后尝试进一步更改索引 2

```
 if (!(input[i] == input.Length))
            {                       
                input.Replace(input[i + 2], char.ToUpper(input[i + 2]));  
            } 
```

应改为

```
 if (!((i + 2) >= input.Length))
            {                       
                input.Replace(input[i + 2], char.ToUpper(input[i + 2]));  
            } 
```

这将检查标点符号后是否有 2 个位置的值。还要使用 >= 而不是 == 因为你在跳转 2 你可能最终会超过数组的长度，其中 == 仍然返回 false 但没有索引。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T16:48:25.740

好的，其他人已经为您提供了一些指示来阻止明显的错误，但我会尝试给您一些关于如何最好地实现这一点的想法。

值得将其视为一个 3 步过程

1.  [将字符串标记](http://en.wikipedia.org/wiki/Tokenization)为句子
2.  确保每个标记的第一个字符是大写的
3.  通过将标记重新组合在一起来重建字符串

（1）我会留给你的想象力，但想法是最终得到一个字符串数组，每个元素根据你的要求代表一个“句子”

(2) 非常简单

```
// Upercase character 0, and join it to everything from character 1 onwards
var fixedToken = token[0].ToUpper(CultureInfo.CurrentCulture) 
                              + token.Substring(1); 
```

(3) 也很简单

```
// reconstruct string by joining all tokens with a space
var reconstructed = String.Join(" ",tokens); 
```

# java - HashMap Java 不能显示多个值

> ID：15492665
> 
> 赞同：0
> 
> 时间：2013-03-19T06:14:45.967
> 
> 标签：java, hashmap, multiple-value

首先让我说我有一个文件。有关更多信息，请在[此处查看](https://stackoverflow.com/questions/15415722/java-hashmap-file-input-version-of-code/15416395)。

我已经在哈希图上添加了多个值的边缘。我通过添加这段代码来检查它：

```
 map.put(nodes.get(i), edges);
        System.out.println(nodes.get(i) + " " +  map.get(nodes.get(i))); 
```

将每个条目添加到地图后，我会立即检查它是否已成功添加。是的，它奏效了。

这是输出：

```
a0 [acodijkstra.Edge@b1c5fa]
a1 [acodijkstra.Edge@13caecd, acodijkstra.Edge@f84386, acodijkstra.Edge@1194a4e]
a2 [acodijkstra.Edge@15d56d5, acodijkstra.Edge@efd552, acodijkstra.Edge@19dfbff]
a3 [acodijkstra.Edge@10b4b2f, acodijkstra.Edge@750159, acodijkstra.Edge@1abab88] 
```

但是在创建另一个显示地图内容的方法时，我发现地图是空的。这是代码：

```
public void viewFile() {
    for(int i=0; i<nodes.size();i++) {
        System.out.println(nodes.get(i) + " " + this.map.get(nodes.get(i)));
    }
} 
```

上面代码的输出是这样的：

```
a0 []
a1 []
a2 []
a3 [] 
```

这可能是什么原因？我真的很困惑为什么会这样。

对于代码，这是简化版本（如果遵守，这将导致错误，因为我编辑了一些被认为不必要的部分）：

```
class Reader {

    HashMap<String, Vertex> vertexList;
    Map<String, ArrayList<Edge>> map;
    ArrayList<String> nodes;
    ArrayList<Edge> edges;

public Reader(String fileName) {
    vertexList = new HashMap<String, Vertex>();
    map = new HashMap<String, ArrayList<Edge>>();
    nodes = new ArrayList<String>();
    edges = new ArrayList<Edge>();
    readFile(fileName);
}

private void readFile(String fileName) {

    try{
        FileReader file = new FileReader(fileName);
        Scanner sc = new Scanner(file);

        int i = 0;
        while (sc.hasNextLine()) {
          input.add(sc.nextLine());
          i++;
        }

        setNodes();
        setVertices();
        System.out.println();
        file.close();
    } catch(Exception e){
        System.out.println(e);
    }
}
public void setNodes() {

    System.out.println();

    for(int i=0; i<input.size(); i++) {
        line = this.input.get(i);
        nodes.add(line.substring(0,line.indexOf("-")).trim());
        adjLine.add(line.substring(line.indexOf("-")+1).trim());
    }
}

private void setVertices() {

    String[] listEdges;

    for(int i=0; i<nodes.size(); i++) {

        //if vertex does not exist, create it
        if(vertexList.containsKey(nodes.get(i))) {
            vertexList.put(nodes.get(i), new Vertex(nodes.get(i)));
        }

        line = adjLine.get(i);

        //separate adj edges to *
        if(line.contains("*")) {
            listEdges = line.split("\\*");
        } else {
            listEdges = new String[1];
            listEdges[0] = line;
        }

        //add edges to specified vertex
        for(int j=0; j < listEdges.length; j++ ) {
            String[] word = listEdges[j].split(",");
            edges.add(new Edge(vertexList.get(word[0]),Double.parseDouble(word[1])));
        }

        map.put(nodes.get(i), edges);
        System.out.println(nodes.get(i) + " " +  map.get(nodes.get(i)));
        edges.clear();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:31:02.177

这里：

```
 map.put(nodes.get(i), edges);
    System.out.println(nodes.get(i) + " " +  map.get(nodes.get(i)));
    edges.clear(); 
```

您正在`edges`地图中存储对的引用，然后清除`edges`. 这就是为什么当元素仍在地图中时，它们是空白的。

您需要停止重用同一个`edges`对象，并为每个顶点创建一个新对象（为什么`edges`甚至是您的类的成员，而不是局部变量？）

# objective-c - UIMenuController

> ID：15492667
> 
> 赞同：1
> 
> 时间：2013-03-19T06:14:57.573
> 
> 标签：objective-c, uimenucontroller

我希望在 singleTap 事件上显示 2 个或更多 UIMenuControllers。我可以显示一个 menuItem，但是当我尝试显示其中的 2 个时，只显示最后一个（最新的）一个。

首先，是否可以在同一个视图上显示 2 个或更多 UIMenuControllers？
其次，如果是的话，有人可以告诉我从显示一个菜单到 2 的位置。

我正在使用这种方法来标记屏幕上激活 singleTap 菜单的部分。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:27:35.390

如果其他人正在寻找相同的查询，我将回答我自己的问题以供进一步参考。
一次只能有一个 UIMenuController。因此，它是一个共享的 menuController。
如需进一步参考：http: [//developer.apple.com/library/ios/#documentation/iPhone/Reference/UIMenuController_Class/UIMenuController.html](http://developer.apple.com/library/ios/#documentation/iPhone/Reference/UIMenuController_Class/UIMenuController.html)

# vb.net - 在 VB.Net (VS 2012) 中打开“OpenFileDialog”时出现异常“System.AccessViolationException”

> ID：15492668
> 
> 赞同：1
> 
> 时间：2013-03-19T06:15:01.920
> 
> 标签：vb.net, access-violation, openfiledialog

我真的很感谢你在这里的帮助。我的申请如下，

操作系统：Windows 7 64 位操作系统
Visual Studio：VS 2012
应用程序：在 .Net 框架 4 上运行的 VB.Net

在我的应用程序中，我有一个按钮，它调用我的自定义方法“Select_Batch_File()”。单击此按钮后，它将打开“OpenFileDialog”以选择特定文件。但是，这在我的具有上述配置的机器上运行良好；在我的一些同事机器上（具有上述相同的配置）这不起作用并且毫无例外地失败。我从同事的机器上收集了线程转储，如下所示，

=======================

日志名称：应用程序

来源：.NET 运行时

日期：2013 年 3 月 18 日下午 1:54:19

事件编号：1026

任务类别：无

级别：错误

关键词：经典

用户：不适用

描述：

应用程序：Visual AEEMS.exe

框架版本：v4.0.30319

说明：进程因未处理的异常而终止。

异常信息：System.AccessViolationException

堆：

在 System.Windows.Forms.FileDialogNative+IFileDialog.Show(IntPtr)

在 System.Windows.Forms.FileDialog.RunDialogVista（IntPtr）

在 System.Windows.Forms.FileDialog.RunDialog(IntPtr)

在 System.Windows.Forms.CommonDialog.ShowDialog（System.Windows.Forms.IWin32Window）

================

我遵循了 MSDN 论坛中的一个解决方案，其中要求用户取消选中 Visual Studio > 工具 > 选项 > 调试 > '抑制模块加载时的 JIT 优化（仅限托管）'中的选项，但没有运气。

这是我的代码

```
 Sub Select_Batch_File()
        Try

            Dim OpenFileDialog As New OpenFileDialog
            OpenFileDialog.AutoUpgradeEnabled = False
            Full_Path = "" : file_name = "" 
            OpenFileDialog.Multiselect = False

            Try
    <<Here I am getting exception>>    

                If (OpenFileDialog.ShowDialog(Me) = System.Windows.Forms.DialogResult.OK) Then
                    EMS_Dir = OpenFileDialog.FileName 'get the path
                    EMS_Dir = StrReverse(EMS_Dir) 'reverse the string
                    EMS_Dir = Mid(EMS_Dir, InStr(EMS_Dir, "\"), Len(EMS_Dir)) 'extract from the first slash
                    EMS_Dir = StrReverse(EMS_Dir) 'reverse it again
                    'file_name = OpenFileDialog.SafeFileName
                    file_name = OpenFileDialog.FileName
                End If
            Catch ex As Exception
                Logger.LogInfo(ex) : MsgBox(ex.Message)
            End Try

        Catch ex As Exception
            Logger.LogInfo(ex) : MsgBox(ex.Message)
        End Try
    End Sub 
```

请指教。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:06:53.193

**如果您设置**该`AutoUpgradeEnabled`属性，您将得到一个例外。不知道为什么，但它就在那里。

# javascript - Jquery 获取触发事件的实际控件。

> ID：15492672
> 
> 赞同：3
> 
> 时间：2013-03-19T06:15:11.417
> 
> 标签：javascript, jquery

我有以下html：-

```
<button type="button" class="btn-add">
  <i class="some-icon"></i>
</button> 
```

它创建了一个带有图标的漂亮按钮

我在按钮单击时绑定了一个事件：-

```
function (e) {
  console.log($(e.target));
} 
```

现在，当我单击按钮的中心时，由于 e.target，上述 javascript 的输出是`<i>`元素。有没有其他方法可以获得触发此事件的实际控制，在这种情况下是`<button>`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:22:08.247

阅读此[目标和当前目标之间的差异](https://stackoverflow.com/questions/5921413/difference-between-e-target-and-e-currenttarget)

这是您的解决方案： [小提琴链接](http://jsfiddle.net/blunderboy/a9Ene/)

```
$('.btn-add').click(function(e) {
    alert(e.currentTarget.tagName);
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:35:08.667

您可以使用`this`或`e.currentTarget`

```
$('button').click(function(e){
    console.log(e.target);
    console.log(this);
    console.log(e.currentTarget);
}) 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/UNrWE/)

# mysql - 返回在 Class 10 中教授课程数量最多的教授的姓名

> ID：15492678
> 
> 赞同：0
> 
> 时间：2013-03-19T06:15:34.633
> 
> 标签：mysql, sql

嗨，我有以下数据库架构。

```
Professor (EMP ID,Name,Status,Salary,Age)
Course(Course ID,Course Name,Points)
Works(Course ID,EMP ID,Class ID) 
```

我需要找到在 Class 10 中教授最多课程的教授的姓名，并且我编写了以下查询，这显然是错误的。

```
SELECT p.empid,p.name
FROM professor p
INNER JOIN works w
ON p.empid = w.empid
AND w.classid = 10
GROUP BY p.empid,p.name
HAVING max(c.courseid) 
```

请帮我改正。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:22:27.220

试试这个

```
SELECT 
  p.empid
  ,p.name
  ,COUNT(w.courseid) AS coursecount
FROM 
  professor p
INNER JOIN 
  works w ON p.empid = w.empid
WHERE w.classid = 10
GROUP BY p.empid,p.name
ORDER BY COUNT(w.courseid) DESC 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:22:53.220

试试这个查询

```
SELECT emp_id, max(NoOfCourse) 
from Professor p, (SELECT emp_id, count(distinct  Course_ID) as 'NoOfCourse' 
from works where class_Id = 10
group by emp_id) tbl
WHERE p.emp_id = tbl.emp_id; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T06:26:07.003

如果你知道只有一个：

```
select p.empid, p.name, count(courseid)
from professor p, works w
where p.empid = w.empid
  and w.classid = 10
group by p.empid, p.name
order by count(courseid) desc
limit 1; 
```

除此以外：

```
select p.empid, p.name, count(courseid)
from professor p, works w
where p.empid = w.empid
  and w.classid = 10
group by p.empid, p.name
having count(courseid) = 
    (select max(course_count) 
     from (select count(courseid) as course_count 
           from works w2 where w2.classid = 10 group by w2.empid
          )
    ); 
```

# javascript - 显示/隐藏不包含在加载时显示的 div 中的信息的 div

> ID：15492683
> 
> 赞同：1
> 
> 时间：2013-03-19T06:16:02.003
> 
> 标签：javascript, jquery, html, fadein

您好，我正在使用以下代码...

```
<script type="text/javascript"> 
$(function() {
$('#show_advertisement').click(function() {
    $('#gallery_logos').fadeOut('slow');
    $('#gallery_illustrations').fadeOut('slow');
    $('#gallery_webdesign').fadeOut('slow');
    $('#gallery_advertisments').fadeIn('slow');
});
$('#show_logo').click(function() {
    $('#gallery_advertisments').fadeOut('slow');
    $('#gallery_illustrations').fadeOut('slow');
    $('#gallery_webdesign').fadeOut('slow');
    $('#gallery_logos').fadeIn('slow');
});
   $('#show_illustration').click(function() {
    $('#gallery_advertisments').fadeOut('slow');
    $('#gallery_webdesign').fadeOut('slow');
    $('#gallery_logos').fadeOut('slow');
    $('#gallery_illustrations').fadeIn('slow');
});
   $('#show_web').click(function() {
    $('#gallery_advertisments').fadeOut('slow');
     $('#gallery_illustrations').fadeOut('slow');
      $('#gallery_logos').fadeOut('slow');
    $('#gallery_webdesign').fadeIn('slow');
});
$('#show_advertisement').trigger('click');

         });
</script> 
```

基本上，我展示了包含在四个 div 中的多个灯箱画廊，这些 div 彼此堆叠，并且当您单击页面上的四个链接时全部显示/隐藏。我遇到的问题是，当页面加载时，我会简要查看四个 div 上的所有内容，然后淡入 show_advertisement div。虽然这只是一个小问题，但我觉得它使页面看起来不专业。我没有使用 Javascript 或 jQuery 的经验，但我正在努力学习，如果你能帮助我，我将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:19:02.123

您可以使用：

```
$('#gallery_logos, #gallery_illustrations, #gallery_webdesign').hide();
$('#gallery_advertisments').show(); 
```

代替`$('#show_advertisement').trigger('click');`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:33:15.833

为确保`#gallery_advertisments`页面加载时所有内容都隐藏（但是），请将其设置为您的 CSS：

```
#gallery_logos,
#gallery_illustrations,
#gallery_webdesign { 
   display: none;
}

#gallery_advertisments { 
   display: block;
} 
```

并简化您的 javascript：

```
<script type="text/javascript"> 
$(function() {
  $('#show_advertisement').click(function() {
    $('#gallery_logos, #gallery_illustrations, #gallery_webdesign').fadeOut('slow');
    $('#gallery_advertisments').fadeIn('slow');
  });

  $('#show_logo').click(function() {
    $('#gallery_advertisments, #gallery_illustrations, #gallery_webdesign').fadeOut('slow');
    $('#gallery_logos').fadeIn('slow');
  });

  $('#show_illustration').click(function() {
    $('#gallery_advertisments, #gallery_webdesign, #gallery_logos').fadeOut('slow');
    $('#gallery_illustrations').fadeIn('slow');
  });

  $('#show_web').click(function() {
    $('#gallery_advertisments, #gallery_illustrations, #gallery_logos').fadeOut('slow');
    $('#gallery_webdesign').fadeIn('slow');
  });
});
</script> 
```

# iphone - 禁用栏按钮文本颜色更改为白色？

> ID：15492694
> 
> 赞同：3
> 
> 时间：2013-03-19T06:16:44.523
> 
> 标签：iphone, navigationbar, rightbarbuttonitem, navigationitem

下面给出的是我的导航栏的图像，其中右栏按钮现在被禁用。但是当我禁用它时，它的文本变为白色。我不想要白色。对此的任何解决方案。

启用编辑按钮时的第一张图像。其他当编辑按钮被禁用时。在这种情况下，我们可以禁用按钮而不更改其文本颜色吗？提前谢谢了

这是用于自定义栏按钮

```
 [[UIBarButtonItem appearance] setTintColor:[UIColor colorWithRed:253.0/255.0 green:220.0/255.0 blue:135.0/255.0 alpha:1.0]];

[[UIBarButtonItem appearance] setTitleTextAttributes:
 [NSDictionary dictionaryWithObjectsAndKeys:
  [UIColor blackColor], UITextAttributeTextColor,
  [UIColor colorWithRed:1.0 green:1.0 blue:1.0 alpha:1.0], UITextAttributeTextShadowColor,
  [UIFont fontWithName:@"MyriadPro-Cond_0" size:16.0], UITextAttributeFont, nil]
                                            forState:UIControlStateNormal]; 
```

这是用于条形按钮

```
 UIBarButtonItem *rightBarBtnEdit=[[UIBarButtonItem alloc] initWithTitle:@"Edit" style:UIBarButtonItemStyleBordered target:self action:@selector(methodEdit:)];
[rightBarBtnEdit setTag:701];
[self.navigationItem setRightBarButtonItem:rightBarBtnEdit]; 
```

这是禁用

```
 self.navigationItem.rightBarButtonItem.enabled = NO; 
```

![在此处输入图像描述](../Images/31e65718a3e610a985aedf6a0df43fa6.png)

![在此处输入图像描述](../Images/922f60e6b9080089e7047a5f212f47fa.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T07:03:30.130

`setTitleTextAttributes:forState:`对于您希望自定义的每个状态，应该多次调用。目前，您只调用一次 for `UIControlStateNormal`，对于其他状态，这些值将是默认值。

`UIControlStateDisabled`也可以使用您需要的任何属性来调用它。

# php - 如何读取 MS word（.doc 或 .docx）文件，然后使用 php 将一些文本内容添加到同一文件中

> ID：15492700
> 
> 赞同：0
> 
> 时间：2013-03-19T06:17:04.667
> 
> 标签：php, ms-word

我正在寻找使用 PHP 的解决方案，

我的系统中有word文件，我只想将此文件上传到我的网站，然后我想在同一个word文件中添加一些文本。

目前我尝试使用file_get_contents、file_put_contents。但是当我更新后打开文件时，内容以二进制格式显示。

有人可以帮忙吗？？

我试过这个代码..

我试过这个代码..

```
 if (isset($_POST['form_action']) && (isset($_POST['submitted']) == 1) )
    {
    $data = $_POST['data'];

   $file = 'test.doc';
   $text= $data;
   $text.= file_get_contents($file);
   file_put_contents($file, $text); 
```

# c - 通过管道写作

> ID：15492701
> 
> 赞同：0
> 
> 时间：2013-03-19T06:17:04.900
> 
> 标签：c, arrays, struct, pipe

我正在为指向结构的指针数组分配内存

```
FreqRecord* record = malloc(MAXRECORDS * sizeof (FreqRecord)); 
```

并通过已经建立此记录的管道从另一个进程读取

```
 int length = 0;
    if ((length = read(fdr[0][0], record, MAXRECORDS * sizeof (FreqRecord)))<0){
       perror("reading from pipe\n");
       exit(1);
    } 
```

这些代码在一个循环中，我希望每次都有不同的结果。然而，它最终总是与之前的管道之前写的完全相同

这是 struct 的定义器

```
typedef struct {
    int freq;
    char filename[PATHLENGTH];
} FreqRecord; 
```

# android - 如何使用 achartengine 用条形图椭圆化 y 轴的标签

> ID：15492702
> 
> 赞同：2
> 
> 时间：2013-03-19T06:17:19.970
> 
> 标签：android, achartengine, android-graphview

我对 Android Developer 特别是 Graph 非常陌生。现在我正在使用**AchartEngine**库创建以下图表，但我有以下问题：

**Q-1。**我想以固定宽度显示左侧标签，并用省略号显示剩余内容。

**Q-2**当我要将方向从纵向更改为横向时，图形显示如下第二张图像。如何为图形设置最佳布局。？

**Q-3** X轴如何设置0 1 2 3...10？

我为此图编写了以下代码：

**创建布局方法（）：**

/** 用于创建图形布局 **/

```
@SuppressWarnings("deprecation")
private void createGraphLayout() {
    // TODO Auto-generated method stub
    /** Initialixation for Graph */
    /** objext of dataset which is put on Graph*/
    dataset = new XYMultipleSeriesDataset();
    series = new CategorySeries("Number of Customer");

    renderer = new XYSeriesRenderer();
    //renderer.setColor(Color.rgb(0, 168, 240));

    mRenderer = new XYMultipleSeriesRenderer();

    /** Setting for Renderer **/
    mRenderer.setLabelsColor(Color.BLACK);
    mRenderer.setBackgroundColor(Color.WHITE);
    mRenderer.setOrientation(Orientation.VERTICAL);
    mRenderer.setClickEnabled(true);
    mRenderer.setLegendTextSize(15);
    mRenderer.setLabelsTextSize(13);
    mRenderer.setApplyBackgroundColor(true);
    mRenderer.setMargins(new int[] {10,10,200,10});

    mRenderer.setMarginsColor(Color.WHITE);
    mRenderer.setInScroll(true);

    mRenderer.setPanEnabled(true, false);
    mRenderer.setScale(1);
    mRenderer.setXLabelsAlign(Align.RIGHT);         // alignment of label x
    mRenderer.setXAxisMax(offer.length());
    mRenderer.setYLabelsAlign(Align.CENTER);        // alignment of label y
    mRenderer.setXLabelsColor(Color.BLACK);         // color of label x
    mRenderer.setYLabelsColor(0, Color.BLACK);      // color of label y

    mRenderer.setLegendHeight(60);
    mRenderer.setDisplayChartValues(true);

    mRenderer.setYAxisMax(offer.length());

    mRenderer.addSeriesRenderer(renderer);

} 
```

**putDataOnGraph()：**对于 JSON DATA 放在图上：

```
private void putDataOnGraph() {
        // TODO Auto-generated method stub
        try {

            for(int forOffer = 0; forOffer < offer.length(); forOffer++)
            {
                no_cust = 0;
                for(int forCust = 0; forCust < customer.length(); forCust++)
                {
                    if(offer.getJSONObject(forOffer).getInt("id") == customer.getJSONObject(forCust).getInt("offerId") && customer.getJSONObject(forCust).getInt("status") == 1)
                        no_cust = no_cust+1;
                }

                /** Check for x-axis maximum than customer **/
                maxX = no_cust > maxX ? no_cust : maxX;

                mRenderer.setXLabels(0);
                mRenderer.addXTextLabel(forOffer+1,offer.getJSONObject(forOffer).getString("offerTitle"));

                //Log.d("msg", ""+offer.getJSONObject(forOffer).getString("offerTitle") +" : "+no_cust);
                //Log.d("msg", ""+maxX);
                series.add(no_cust);
            }
            mRenderer.setYAxisMax(maxX);
            dataset.addSeries(series.toXYSeries());

        } catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    } 
```

**图形图像（纵向）：** ![带条形图的纵向图像](../Images/d83186d7a0de17c6a644c39039275b77.png)

**图表图像（横向）：** ![带条形图的横向图像](../Images/844922c691bbfd025a36b3d963ded8c2.png)

您的帮助将不胜感激。

**提前致谢....**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T08:05:31.287

对于 Q1，您必须以像素为单位计算标签宽度，并仅添加适合您所需宽度的宽度。AChartEngine 不会为您这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T10:08:28.567

```
/** For creating lable, display 10 char if length is > 10 **/

// getting String from JSON
lable = offer.getJSONObject(forOffer).getString("offerTitle");

//if string length is grater than 10 then display only first 10 char
if(lable.length() > 10)
{
    lable = lable.substring(0, 9);
}

mRenderer.addXTextLabel(forOffer+1,lable); 
```

当用户单击它时，我已在 Toast 中显示全文

# iphone - 展开和折叠 UITableview

> ID：15492703
> 
> 赞同：0
> 
> 时间：2013-03-19T06:17:20.053
> 
> 标签：iphone, ios, ipad, uitableview

我正在使用下面的代码进行 uitableview 展开和折叠。它工作正常。但是，当我选择任何部分时，它展开但不折叠先前展开的部分。

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
if ([self tableView:tableView canCollapseSection:indexPath.section])
    {
    if (!indexPath.row)
    {
        // only first row toggles exapand/collapse
        [tableView deselectRowAtIndexPath:indexPath animated:YES];
         NSInteger section = indexPath.section;
         BOOL currentlyExpanded = [expandedSections containsIndex:section];
        NSInteger rows;
        NSMutableArray *tmpArray = [NSMutableArray array];
    if (currentlyExpanded)
        {
            rows = [self tableView:tableView numberOfRowsInSection:section];
            NSLog(@"expanded");
            [expandedSections removeIndex:section];
            screenTypeReloadCheck = NO;
        }
        else
        {
            screenTypeReloadCheck =YES;
            [expandedSections addIndex:section];
            rows = [self tableView:tableView numberOfRowsInSection:section];

        }
        for (int i=1; i<rows; i++)
        {
            NSIndexPath *tmpIndexPath = [NSIndexPath indexPathForRow:i
                                                           inSection:section];
            [tmpArray addObject:tmpIndexPath];
        }

        UITableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath];

        if (currentlyExpanded)
        {
            [tableView deleteRowsAtIndexPaths:tmpArray
                             withRowAnimation:UITableViewRowAnimationTop];

            UIImageView *imView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"UITableExpand"]];
            cell.accessoryView = imView;
        }
        else
        {
            [tableView insertRowsAtIndexPaths:tmpArray
                             withRowAnimation:UITableViewRowAnimationTop];

            UIImageView *imView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"UITableContract"]];
            cell.accessoryView = imView;
        }
    }
} 
```

}

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T12:58:27.363

我在我的应用程序中做了同样的事情..这是解决方案..

**在你的 .h**

```
#import "sampleCustomCell.h"

@interface second : UIViewController <UITableViewDelegate,UITableViewDataSource>
{
   NSMutableDictionary *selectedIndexes;
   sampleCustomCell *samplCustom;
   UITableView *tblTempData;
   NSMutableArray *yourAry;
}

@property(nonatomic,retain) sampleCustomCell *samplCustom;
@property (nonatomic,retain) NSMutableArray *yourAry;
@property (nonatomic,retain) IBOutlet UITableView *tblTempData;

@end 
```

**在你的 .m**

```
@synthesize samplCustom;
@synthesize tblTempData;

BOOL isSelected;

int kCellHieght=0;

- (void)viewDidLoad
{
   [super viewDidLoad];
   yourAry = [[NSMutableArray alloc] initWithObjects:@"1_id",@"2_id",@"3_id",@"4_id",@"5_id",@"6_id",@"7_id",@"8_id",@"9_id",@"10_id", nil];
   selectedIndexes = [[NSMutableDictionary alloc] init];
}

#pragma mark TableView with Expand and collapse

- (BOOL)cellIsSelected:(NSIndexPath *)indexPath {
    // Return whether the cell at the specified index path is selected or not
    NSLog(@"%@", selectedIndexes);
    NSNumber *selectedIndex = [selectedIndexes objectForKey:indexPath];
    NSLog(@"%@", selectedIndex);
    return selectedIndex == nil ? FALSE : [selectedIndex boolValue];
 }

-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    if([self cellIsSelected:indexPath])
    {
       kCellHieght = 200; //Expanded height for your customCell xib.
    }
    else
    {
       kCellHieght = 130; // Height of your customCell xib
    }
    return kCellHieght;
}

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [yourAry count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    sampleCustomCell *cell;
    if (tableView.tag == 11)
    {
       cell = (sampleCustomCell *)[tableView dequeueReusableCellWithIdentifier:@"sampleCustomCell"];
       NSArray *nib;
       for (UIControl *subview in cell.contentView.subviews) {
          [subview removeFromSuperview];
       }
       if(cell == nil)
       {
           nib = [[NSBundle mainBundle] loadNibNamed:@"sampleCustomCell" owner:self options:nil];

           for(id oneobject in nib)
           {
              if([oneobject isKindOfClass:[sampleCustomCell class]])
              {
                  cell = (sampleCustomCell *)oneobject;
                  //[cell setIndexpath:indexPath];
                  //[cell setDelegete:self];
                  cell.lblProduct.text = [yourAry objectAtIndex:[indexPath row]];
              }
          }
       }

       if([self cellIsSelected:indexPath])
       {
          [UIView beginAnimations:nil context:nil];
          [UIView setAnimationDuration:3];
          [UIView commitAnimations];
         [self performSelector:@selector(showHidden:) withObject:cell afterDelay:0.4];
       }
    }
    return cell;
}

- (void)tableView:(UITableView *)aTableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyleforRowAtIndexPath:(NSIndexPath *)indexPath
{

}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    isSelected = ![self cellIsSelected:indexPath];
    [tableView deselectRowAtIndexPath:indexPath animated:TRUE];
    BOOL isSelected = ![self cellIsSelected:indexPath];
    NSNumber *selectedIndex = [NSNumber numberWithBool:isSelected];
    [selectedIndexes removeAllObjects];
    [self hideTV:tableView];
    [selectedIndexes setObject:selectedIndex forKey:indexPath];
    NSLog(@" array %@", selectedIndexes);
    [self.tblTempData beginUpdates];

    sampleCustomCell *selectedCell = (sampleCustomCell *)[tblTempData cellForRowAtIndexPath:indexPath];
    if([self cellIsSelected:indexPath])
    {
        samplCustom = selectedCell;
        [UIView animateWithDuration:15 delay:0.2 options:UIViewAnimationCurveLinear animations:^{NSLog(@"animating");} completion:^(BOOL finished){
            NSLog(@"Done 1!");
        }];
        [UIView commitAnimations];
    }
    else
    {
        [UIView animateWithDuration:5 delay:0.2 options:UIViewAnimationCurveLinear animations:^{NSLog(@"animating");} completion:^(BOOL finished){
            NSLog(@"Done 1!");
        }];
        [UIView commitAnimations];
    }
    [self.tblTempData endUpdates];
    [tblTempData reloadData];
}

-(void)hideTV:(UIView *) view{

    [tblTempData reloadData];

    for (id View in [view subviews]) {
       if ([View isKindOfClass:[UITextView class]]) {
           [View setHidden:YES];
       }

       if ([View isKindOfClass:[UITableViewCell class]]) {
           UITableViewCell *cell = (UITableViewCell *) View;
           [self hideTV:cell.contentView];
       }  
   }
}

-(void) showHidden : (UITableViewCell *)cell{
    for (id View in [cell subviews]) {
        if ([View isKindOfClass:[UITextView class]]) {
            if ([View tag] == 111) {
               [View setHidden:NO];
           }
       } 
   }
} 
```

跳这有助于..快乐编码..谢谢..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:25:12.167

TableView 部分不是折叠而是展开。因为，Your currentExpanded 总是返回 NO。所以，你总是在扩大。

```
if (currentlyExpanded)
        {
   rows = [self tableView:tableView numberOfRowsInSection:section];
            NSLog(@"expanded");
            [expandedSections removeIndex:section];
            screenTypeReloadCheck = NO;
        }
        else
        {
            screenTypeReloadCheck =YES;
            [expandedSections addIndex:section];
            rows = [self tableView:tableView numberOfRowsInSection:section];
        } 
```

我不知道您如何设置 currentExpanded 值。如果您需要更多帮助，请再分享几行代码。

# c# - 使用 C# 的 64 位目标 Metro 风格应用程序

> ID：15492705
> 
> 赞同：7
> 
> 时间：2013-03-19T06:17:21.360
> 
> 标签：c#, xaml, windows-8, microsoft-metro, 64-bit

Metro 风格应用程序 32 位 / 64 位

我使用目标框架 x64 部署了一个用 C#/xaml 编写的 Metro 风格应用程序 ![目标框架](../Images/b45c1d4a73ddbf120f5f45d142381559.png)，但它在任务管理器中显示为 32 位。 ![任务管理器](../Images/756064d4683961f42bb1daca9e84c553.png)

谁能告诉我出了什么问题或我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-12T16:34:50.317

我将我的开发应用程序编译并运行到“任何 CPU”，它在 x86 和 x86-64 上运行，在任务管理器中正确显示。

尝试隔离您的项目，看看它是否是导致该问题的任何库或依赖项。如果做不到这一点，强制它仅作为 x64 运行应该会提供线索。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T05:52:44.150

在“Build --> Configuration Manager”菜单中，检查您的“Active Solution Platform”选择。

我猜您选择了“x86”而不是“Any CPU”（默认设置）或“x64”（这是您想要的目标平台，对吧？）。

# javascript - Internet Explorer 在按键上触发更改事件

> ID：15492707
> 
> 赞同：0
> 
> 时间：2013-03-19T06:17:23.337
> 
> 标签：javascript, internet-explorer, drop-down-menu, onchange

当使用箭头导航菜单时，IE 会在选择菜单上触发更改事件。在非 IE 浏览器中情况并非如此。非 IE 浏览器仅在单击选项时触发事件，或者在使用箭头导航到项目后按 Enter。有没有办法解决这个问题？我需要在使用按键导航时不触发该事件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T18:54:14.750

如果可以的话，我会添加自己的更改事件侦听器并以这种方式处理事情。在不知道所有细节的情况下很难说，但我会先看看那里，因为活动无法取消。在这种方法之外，IE 将在值发生变化时触发事件，因此您对此无能为力。这是IE中[更改/onchange的链接。](http://msdn.microsoft.com/en-us/library/ie/ms536912%28v=vs.85%29.aspx)它实际上在文档中说明了这一点。

要调用此事件，请执行以下操作之一：

*   **使用鼠标或键盘导航在选择对象中选择不同的选项。**
*   更改文本区域中的文本，然后导航出对象。

它很臭，但在使用选择字段时您必须考虑其中之一。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T19:37:09.867

适用于我的情况的解决方案如下。

*   绑定到`blur`事件而不是`change`事件。

这引入了另一个问题，当我最初加载页面时会`select`触发一个`change`事件，我需要`blur`绑定中的代码才能生效。绑定`change`并触发它会`blur`导致大量递归。解决方案是创建一个在启动时运行的 init 函数。

```
initData : function(){
    var t = this,
        formSelects = 'select';

    jQuery.each(formSelects, function(){
        // do my code here that normally happens in blur.
    })
} 
```

# silverstripe - Silverstripe：扩展 CMS 界面 LeftAndMain

> ID：15492711
> 
> 赞同：1
> 
> 时间：2013-03-19T06:17:31.650
> 
> 标签：silverstripe

我正在按照[Silverstripe 网站上](http://doc.silverstripe.org/framework/en/howto/extend-cms-interface)的说明进行操作，但没有成功。

新的 LeftAndMain.ss 只是没有运行。记录的方法是否不正确，或者是否有其他扩展 CMS 界面的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T01:15:28.723

我已经弄清楚了，说明有点不准确。

首先，我忘记了我在 master 分支上，所以本质上是 SS 3.1，[指令](http://doc.silverstripe.org/framework/en/3.1/howto/extend-cms-interface)略有不同，但仍然有点错误。

这些说明告诉您：

> 使用 admin/?flush=all 刷新 CMS 界面

但这对我没有任何帮助，我必须从根本`?flush=all`上做。所以在我的情况下：`http://ss.dev/?flush=all`

从根部冲洗后，一切正常。

# java - org.apache.jasper.JasperException: Unable to compile class for JSP , 服务器遇到内部错误 ()

> ID：15492712
> 
> 赞同：2
> 
> 时间：2013-03-19T06:17:33.697
> 
> 标签：java, jsp, jsp-tags

我创建了一个自定义标签，但是当我使用以下异常时：-

```
An error occurred at line: 14 in the jsp file: /index.jsp
  LoopTextTag cannot be resolved to a type
   <body>
     <center>
         <ct:loopText times="5">
            <h3>Loop Text!</h3>
        </ct:loopText> 
```

堆栈跟踪：

```
Stacktrace:
org.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:92)
org.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:330)
org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:423)
org.apache.jasper.compiler.Compiler.compile(Compiler.java:308)
org.apache.jasper.compiler.Compiler.compile(Compiler.java:286)
org.apache.jasper.compiler.Compiler.compile(Compiler.java:273)
org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:566)
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:317)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:320)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)
javax.servlet.http.HttpServlet.service(HttpServlet.java:803) 
```

我的 LoopTaxtTag 类如下：

```
 import java.io.IOException;
 import javax.servlet.jsp.JspException;
 import javax.servlet.jsp.tagext.BodyContent;
 import javax.servlet.jsp.tagext.BodyTagSupport;

public class LoopTextTag extends BodyTagSupport {

private static final long serialVersionUID = 1L;
private int mTimes = 0;
private BodyContent mBodyContent;

public void setTimes(int pTimes) {
    mTimes = pTimes;
}

public void setBodyContent(BodyContent pBodyContent) {
    mBodyContent = pBodyContent;
}

@SuppressWarnings("deprecation")
public int doStartTag() throws JspException {
    if (mTimes > 1) {
        return EVAL_BODY_TAG;
    } else {
        return SKIP_BODY;
    }
}

@SuppressWarnings("deprecation")
public int doAfterBody() throws JspException {
    if (mTimes > 1) {
        mTimes--;
        return EVAL_BODY_TAG;
    } else {
        return SKIP_BODY;
    }
}

public int doEndTag() throws JspException {
    try {
        if (mBodyContent != null) {
            mBodyContent.writeOut(mBodyContent.getEnclosingWriter());
        }
    } catch (IOException pIOEx) {
        throw new JspException("Error: " + pIOEx.getMessage());
    }
    return EVAL_PAGE;
}
} 
```

我的 index.jsp：

```
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<%@taglib  prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@page import="com.pt.LoopTextTag"%>
<%@ taglib uri="/WEB-INF/custom.tld" prefix="ct" %>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
< %@ taglib uri="/WEB-INF/custom.tld" prefix="ct" %> 
```

```
</head>
<body>
    <center>

        <ct:loopText times="5">
            <h3>Loop Text!</h3>
        </ct:loopText>

    </center>
</body> 
```

编译器也提出了一个警告：

```
The tag handler class for "ct:loopText" (LoopTextTag) was not found on the Java Build Path 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-08T17:19:47.437

如果您还没有弄清楚，问题出`index.jsp`在以下行：

```
 < %@ taglib uri="/WEB-INF/custom.tld" prefix="ct" %> 
```

`uri`这里应该与文件`<uri>`中提到的标签匹配`tld`。该`tld`文件应位于容器将查找的以下位置之一：

1.  直接在WEB-INF里面
2.  直接在 WEB-INF 的子目录中
3.  WEB-INF/lib/jar/META-INF/
4.  在 WEB-INF/lib/jar/META-INF/ 的子目录中

希望这可以帮助

# r - 读取 R 中的 ADCP 数据

> ID：15492715
> 
> 赞同：0
> 
> 时间：2013-03-19T06:17:38.820
> 
> 标签：r

我有一条河流的 ADCP 测量数据，我想知道是否可以在 R 中读取 ADCP 文件。我找到了一个名为“oce”的包，但我无法读取 ADCP 文件。

我在oce包中找到的功能如下：

```
read.oce
read.adp 
```

我已在此处上传示例文件[https://www.dropbox.com/sh/owian354auah6h3/379D5spA2X](https://www.dropbox.com/sh/owian354auah6h3/379D5spA2X)。

如果有人可以帮助我如何阅读这种 ADCP，我将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:30:38.773

由于它只是一个文本文件，因此最简单的方法是执行类似的操作

```
my_header <- readlines(myfile,n=7) 
```

其次是

```
my_data <- read.table(myfile,skip=7,...) 
```

（在这些调用中，您可能需要更多参数）。

这样元数据与数据数组分离，这应该会简化后续的处理操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-01-25T16:34:56.723

我在这里参加聚会很晚了，但希望这对其他人有用。

```
data<-read.adp("my.prf", from = 1, to = 10, by=1, tz="UTC") 
```

参数`from =`和`to =`对应于 .sen 文件中的记录号。

# android - 获取 Fragment 动态附加到 ?

> ID：15492717
> 
> 赞同：40
> 
> 时间：2013-03-19T06:17:48.983
> 
> 标签：android, android-layout, android-fragments, android-framelayout

好吧，我有一个简单的`<FrameLayout>`：

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/FragmentContainer"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" /> 
```

然后在我的代码中，我添加了一个片段：

```
FragClass aFrag = new FragClass();
getSupportFragmentManager().beginTransaction()
        .replace(R.id.FragmentContainer, aFrag).commit(); 
```

在我的代码中的其他地方，我想`FragClass (extends Fragment)`从 ID 中获取该对象`R.id.FragmentContainer`。

我努力了

```
((ViewGroup) findViewById(R.id.FragmentContainer)).getChildAt(0) 
```

或者

```
((FrameLayout) findViewById(R.id.FragmentContainer)).getChildAt(0) 
```

但他们返回的是`View`, 而不是`Fragment`附加的。

*我知道我可以将变量保存在`aFrag`某个地方，所以我不需要再次找到它。但我相信应该有办法找回它。*

* * *

## 回答 #1

> 赞同：94
> 
> 时间：2013-03-20T11:38:39.017

让我用一个完整的答案来结束它:)

在这种情况下，动态添加`Fragment`的使用容器的 ID `View`( `ViewGroup`)。

参考：http: [//developer.android.com/guide/components/fragments.html#Adding](http://developer.android.com/guide/components/fragments.html#Adding)

> 注意：每个片段都需要一个唯一标识符，如果活动重新启动，系统可以使用该标识符来恢复片段（并且您可以使用它来捕获片段以执行事务，例如删除它）。可以通过三种方式为片段提供 ID：
> 
> *   为 android:id 属性提供唯一 ID。
> *   为 android:tag 属性提供一个唯一的字符串。
> *   **如果前两个都不提供，系统将使用容器视图的 ID。**

这是因为它`Fragment`毕竟是。我们必须使用`getSupportFragmentManager().findFragmentById()`它来检索它，它返回 a `Fragment`，而不是`findViewById()`返回 a `View`。

所以这个问题的答案是：

```
((aFrag) getSupportFragmentManager().findFragmentById(R.id.FragmentContainer)) 
```

*感谢@Luksprog。*

# iphone - 如何获取 DynamoDB AWS、iOS 的令牌自动售货机 URL？

> ID：15492722
> 
> 赞同：1
> 
> 时间：2013-03-19T06:18:22.230
> 
> 标签：iphone, ios, amazon-web-services, amazon-dynamodb

我已经注册了`Amazon DynamoDB`。但我没有找到如何获得`TVM(Token Vending Machine) URL`。

在为此进行研究时，我得到了链接：[http](http://aws.amazon.com/code/7351543942956566) ://aws.amazon.com/code/7351543942956566 ，它是用于`JAVA`. 我需要它的地方`iOS`。

任何人都可以指导我`TVM and iOS`吗？或 TVM iOS 的任何链接？

# jquery - 从特定文件夹动态加载框滑块中的图像

> ID：15492723
> 
> 赞同：2
> 
> 时间：2013-03-19T06:18:29.697
> 
> 标签：jquery, asp.net-mvc-4

我正在使用 Box 滑块进行图像滑动，我想从文件夹中添加图像，但这应该是动态的，即如果两个图像是 thr 意味着只有两个应该来，如果 10 意味着十应该来，它应该在 mvc4 和 aspx 中还..

我正在使用这个插件 - [http://bxslider.com/examples/reload-slider](http://bxslider.com/examples/reload-slider)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:30:12.563

这是你可以在 mvc 中做到的方式：

模型：

```
public class Class1
{
   public string test1 { get; set; }
} 
```

控制器代码：

```
public ActionResult Index()
        {
            ViewBag.Message = "Modify this template to jump-start your ASP.NET MVC application.";

        List<Class1> Details = new List<Class1>();

        DirectoryInfo dir = new DirectoryInfo(@"C:\Users\example\Documents\visual studio 2010\Projects\vertical mega dropdown\MvcApplication1\Images");
        foreach (FileInfo file in dir.GetFiles())
        {
           Details.Add(new Class1
            {
                test1 =  "../../Images/" + file.Name
            });
        }
        return View(Details);
    } 
```

在视图中：

```
@model IEnumerable<MvcApplication1.Models.Class1>
@{
    ViewBag.Title = "Home Page";
}
<link href="../../Content/jquery.bxslider.css" rel="stylesheet" type="text/css" />
    <script src="../../Scripts/jquery.bxslider.js" type="text/javascript"></script>
    <script src="../../Scripts/rainbow.min.js" type="text/javascript"></script>
    <script src="../../Scripts/scripts.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('.bxslider').bxSlider({
            auto: true,
            controls: false,
            pager: false,
            autoControls: true
        });
    });
</script>
<table width="100%">
    <tr height="50">
        <td align="center">
        </td>
    </tr>
    <tr>
        <td align="center">
            <div class="inner clearfix">
                <div id="primary">
                    <div class="slider">
                        <ul class="bxslider">
                            @foreach (var item in Model)
                            {
                                <li>
                                    <img class="imageclass" src="@item.test1" border="0"  alt="" />
                                </li>           
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </td>
    </tr>
</table> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-16T12:59:53.570

这是我在 aspx 和 c#: 中找到的，它工作正常。

asp代码：

```
 <html xmlns="http://www.w3.org/1999/xhtml">
    <head runat="server">
    <link href="Styles/jquery.bxslider.css" rel="stylesheet" type="text/css" />
    <script src="Scripts/jquery-1.7.1.js" type="text/javascript"></script>
    <script src="Scripts/jquery.bxslider.js" type="text/javascript"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('.bxslider').bxSlider({
            auto: true,
            controls: false,
            pager: false,
            autoControls: true
        });
      });
   </script>
  </head>
  <body>
    <form id="form1" runat="server">
    <table width="100%">
         <tr>
            <td align="center">
                <div class="inner clearfix">
                    <div id="primary">
                        <div class="slider">
                            <ul class="bxslider" id="ss" runat="server">

                            </ul>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
    </table>
    </form>
  </body>
  </html> 
```

C#代码：

```
 protected void Page_Load(object sender, EventArgs e)
        {
           List<Class1> Details = new List<Class1>();
           DirectoryInfo dir = new DirectoryInfo(@"C:\Users\Documents\visual studio 2010\Projects\Dynamic_Imageslider\Dynamic_Imageslider\Images");
            foreach (FileInfo file in dir.GetFiles())
            {
                Details.Add(new Class1
                {
                    test1 = "../../Images/" + file.Name
                });
            }
            var myList2 = Details;
            for (int j = 0; j < Details.Count; j++)
            {
                Image img = new Image();
                img.ID = "img" + j;
                img.ImageUrl = myList2[j].test1;
                ss.Controls.Add(img);
            }
        }
        public class Class1
        {
            public string test1 { get; set; }
        }
     } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T06:25:49.830

```
 in Html5 it is quite easy, but i do prefer to use this jQuery plugin https://github.com/weixiyen/jquery-filedrop  it is pretty awesome. 

    function fileSetUploadPercent(percent, divID){

        var uploadString = "Uploaded " + percent + " %";

        $('#'.divID).text(uploadString);
    }
    function fileUploadStarted(index, file, files_count){

        var divID = getDivID(index, file);

        createFileUploadDiv(divID);     //create the div that will hold the upload status

        fileSetUploadPercent(0, divID); //set the upload status to be 0
    }

    function  fileUploadUpdate(index, file, currentProgress){

        //Logger.log("fileUploadUpdate(index, file, currentProgress)");

        var string = "index = " + index + " Uploading file " + file.fileName + " size is " + file.fileSize + " Progress = " + currentProgress;
        $('#status').text(string);

        var divID = getDivID(index, file);
        fileSetUploadPercent(currentProgress, divID);
    }

    function fileUploadFinished(index, file, json, timeDiff){

        var divID = getDivID(index, file);
        fileSetUploadPercent(100, divID);

        if(json.status == "OK"){
            createThumbnailDiv(index, file, json.url, json.thumbnailURL);
        }
    }

        function    fileDocOver(event){
            $('#fileDropTarget').css('border', '2px dashed #000000').text("Drop files here");
        }
        $(".fileDrop").filedrop({

                    fallback_id: 'fallbackFileDrop',
                    url: '/api/upload.php',
                    paramname: 'fileUpload',
                    //    maxfiles: 25,           // Ignored if queuefiles is set > 0
                    maxfilesize: 4,         // MB file size limit
                    //    queuefiles: 0,          // Max files before queueing (for large volume uploads)
                    //    queuewait: 200,         // Queue wait time if full
                    //    data: {},
                    //    headers: {},
                    //    drop: empty,
                    //    dragEnter: empty,
                    //    dragOver: empty,
                    //    dragLeave: empty,
                    //    docEnter: empty,
                    docOver: fileDocOver,
                //  docLeave: fileDocLeave,
                    //  beforeEach: empty,
                    //   afterAll: empty,
                    //  rename: empty,
                    //  error: function(err, file, i) {
                    //    alert(err);
                    //  },
                    uploadStarted: fileUploadStarted,
                    uploadFinished: fileUploadFinished,
                    progressUpdated: fileUploadUpdate,
                    //     speedUpdated
                });

After this just add div where you want to drop images

<div class='fileDrop'>
Upload a file by dragging it.
<span id='fileDropTarget'/>

</div> 
```

# webmatrix - 我可以同时运行两个或多个 WebMatrix 站点吗？

> ID：15492728
> 
> 赞同：4
> 
> 时间：2013-03-19T06:18:38.627
> 
> 标签：webmatrix, iis-express

我正在使用 WebMatrix2 在我的机器上本地运行一些测试站点。当然，每个站点都由 WM2 提供自己的端口号（例如 localhost:15632 或 localhost:12643）

我还没有弄清楚如何同时运行其中两个 WebMatrix（我想它们实际上是 IIS Express 站点），所以我不必回到 WM 界面并选择一个网站打开。由于这些站点每个都在不同的端口下运行，我不能同时运行它们吗？或者这是 IIS Express 的限制？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T05:58:50.700

您可以通过从命令行启动它们来在 IIS Express 下运行多个站点。导航到包含 iisexpress.exe 的目录（通常是 C:\Program Files (x86)\IIS Express），然后使用以下命令，其中 mySite 代表要启动的站点：

```
iisexpress /site:mySite 
```

或者您可以简单地打开 WebMatrix 的多个实例。

打开站点后，您可以从任务栏上的通知区域管理它们。

以下是有关从命令行运行 IIS Express 的更多信息：[http ://www.iis.net/learn/extensions/using-iis-express/running-iis-express-from-the-command-line](http://www.iis.net/learn/extensions/using-iis-express/running-iis-express-from-the-command-line)

# database - 如何阻止 Wordpress 将自定义帖子类型保存到 wp_posts

> ID：15492734
> 
> 赞同：1
> 
> 时间：2013-03-19T06:19:07.407
> 
> 标签：database, wordpress, content-management-system, custom-post-type

我想在数据库中有一个名为“产品”的自定义表。用户将能够使用后端界面添加/编辑/删除产品。所有更新和更改都将在此“产品”表中进行。我尝试使用自定义帖子类型在 Wordpress 中执行此操作。我创建了一个“产品”自定义帖子类型，然后创建了一个插件来检测帖子何时发布。但是，自定义帖子类型会自动将所有帖子保存到数据库 wp_posts，这不是我想要的。在这样做时，我将获得重复的信息。

有没有办法阻止 wordpress 将其保存到 wp_posts？或者这不是可取的，换句话说，这意味着 Wordpress 不是我想要做的正确的 CMS？

谢谢！

# android - 在测试android期间控制应用程序

> ID：15492736
> 
> 赞同：0
> 
> 时间：2013-03-19T06:19:08.250
> 
> 标签：android, testing

我使用 Roboguice 来测试应用程序。我有两个`Modules`应用程序：

*   ProductionModule - 在应用程序未处于测试状态时使用
*   TestingModule - 在测试应用程序时使用

这些模块是在**APPLICATION**`OnCreate()`方法中创建的 Injector 的参数。

 **那么我如何才能确定该应用程序是否正在测试中？有没有办法管理**APPLICATION**生命周期，所以我可以**在 APPLICATION 方法之前**`ActivityInstrumentationTestCase2`做一些事情？ **`onCreate()`**

 **PS：之后我需要测试活动，所以我使用`ActivityInstrumentationTestCase2`并使用自定义`TestRunner`生成报告。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T14:58:17.973

您可以在 setUp() 中从 JUnit 向活动发送额外的参数，如下所示：

```
@Override
public void setUp() {
    Intent intent = new Intent();
    intent.putExtra("debug", true);
    setActivityIntent(intent);
    mActivity = getActivity();
} 
```

在真正的 Activity 中，您可以在 onCreate() 中像这样检查它：

```
 Bundle extras = getIntent().getExtras();
        if(extras!=null){
            boolean is= (Boolean)extras.get("debug");
            if(is){
                // here you are in debug mode
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T16:39:35.587

在您的任何测试运行之前调用创建应用程序，这是因为要运行测试您的应用程序必须已经存在。

但是，您可以在测试中自己调用 application oncreate。您可以将 applicationcontext 强制转换为您的应用程序，然后调用 onCreate 方法。我过去必须这样做才能清除应用程序中的任何状态。****

# jasper-reports - iText、JasperReports 和 Adob e LC 有什么区别？

> ID：15492738
> 
> 赞同：3
> 
> 时间：2013-03-19T06:19:10.947
> 
> 标签：jasper-reports, adobe, itext

实际上，我想知道不同的 PDF 创建/生成技术之间的区别或比较，例如。IText、Adobe LC、Jasper Reports 等。

我想知道使用它们的确切优点/缺点。

目前我正在使用 Adob​​e LC ES2，并且还想知道使用 adobe 相对于其他技术的优势。

谢谢，作为

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-21T01:14:38.783

这是一个非常广泛的问题，我看到它已经为此投票结束了这个问题。

让我给出答案的简要版本（我可以很容易地写一本关于它的书）。

iText 是一个库，开发人员可以使用它来增强他们的 Web 和其他具有 PDF 功能的应用程序：创建 PDF、填写 PDF 表单、检查和操作现有的 PDF。

JasperReports 是一个商业智能工具，它使用 iText 来创建 JasperSoft / TIBCO 的报告。JasperReports 仅使用完整 iText 功能的有限部分。创建 PDF 只是 JasperReports 的一个功能，而 JasperSoft 正在使用 iText 来实现该功能。

Adobe LC 是一套模块，其中一些模块只能由 Adob​​e 提供。例如：没有第三方可以“启用阅读器”PDF 文档，因为启用阅读器需要 Adob​​e 专有的私钥。但是：iText 在某些领域与 Adob​​e LC 竞争，例如数字签名（阅读[立法顾问办公室关于数字签名的白皮书）或表单填写（iText 有一个名为](http://www.mnhs.org/preserve/records/legislativerecords/docs_pdfs/CA_Authentication_WhitePaper_Dec2011.pdf)[XFA Worker](http://itextpdf.com/product/xfa_worker)的插件，可以转换您的动态 XFA 表单成静态 PDF，例如 PDF/A)。

免责声明：我是 iText Software 的 CEO。请联系 Adob​​e 和 JasperSoft 了解他们的观点。

# c# - C# 中的转换错误

> ID：15492739
> 
> 赞同：1
> 
> 时间：2013-03-19T06:19:15.340
> 
> 标签：c#, asp.net, sql, casting, int

我在“Checkout”类中有一个函数，它运行 sql 语句将记录插入表中，然后选择 scope_identity，给我该记录的 ID。它以 int 形式返回 ID，并将其分配给网页中的变量：

```
int OrderID = Checkout.WriteOrder_tblOrders(CustID); 
```

这是功能：

```
public static int WriteOrder_tblOrders(int CustID)
{
    // OrderID is initially 0, then changed when scope_identity is called in the sql statement.
    int OrderID = 0;
    DateTime OrderDate = DateTime.Now;
    string sql = "INSERT INTO tblOrders (OrderDate, CustID) VALUES (@OrderDate, @CustID); SELECT scope_identity();";

    using (SqlConnection myConnection = new SqlConnection(connectString))
    {
        using (SqlCommand cmd = new SqlCommand(sql, myConnection))
        {
            cmd.Parameters.AddWithValue("@CustID", CustID);
            cmd.Parameters.AddWithValue("@OrderDate", OrderDate);
            myConnection.Open();
            OrderID = (int)cmd.ExecuteScalar();
            myConnection.Close();
        }
    }
    return OrderID;
} 
```

调试器显示该函数没有任何问题，并且新记录在该表中正确显示，但我得到一个

> “无效演员表”

第一行出现错误，我在其中分配了 OrderID。我试过这个：

```
int OrderID = (int)Checkout.WriteOrder_tblOrders(CustID); 
```

同时使用 int 和 Int32，还尝试使用 Convert.ToInt32，但也不起作用。我在这里做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:26:08.200

原因可能是您得到空值。
所以你可以创建一个扩展方法如下

```
public static T ExecuteNullableScalar<T>(this SqlCommand cmd) where T : struct
{
    var result = cmd.ExecuteScalar();
    if (result == DBNull.Value) return default(T);
    return (T)result;
} 
```

用法变为：

```
int value = cmd.ExecuteNullableScalar<int>();
//new approach
ulong value=cmd.ExecuteNullableScalar<ulong>(); 
```

## 否则

```
 myConnection.Open();
 var o = cmd.ExecuteScalar();
 OrderID = (o== DBNull.Value ? 0 :  Convert.ToUInt64(o));
 myConnection.Close(); 
```

## 改变了

```
OrderID = (o== DBNull.Value ? 0 :  Convert.ToUInt64(o)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:53:18.507

感谢您的帮助，没有意识到 scope_identity 返回小数。我改变了这样的代码：

```
OrderID = Convert.ToInt32((decimal)cmd.ExecuteScalar()); 
```

它现在工作正常。谢谢！

# python - 在 RhinoPython 中打开 geojson 文件

> ID：15492744
> 
> 赞同：0
> 
> 时间：2013-03-19T06:19:31.733
> 
> 标签：python, geojson, rhino3d

我希望我的问题可以通过一些 geojson 专业知识来解决。我遇到的问题与 RhinoPython 有关——McNeel 的 Rhino 5 中的嵌入式 IronPython 引擎（更多信息在这里：[http://python.rhino3d.com/](http://python.rhino3d.com/)）。我认为没有必要成为 RhinoPython 的专家来回答这个问题。

我正在尝试在 RhinoPython 中加载 geojson 文件。因为您不能像在 Python 中那样将 geojson 模块导入 RhinoPython，所以我使用这里提供的这个自定义模块 GeoJson2Rhino：[https ://github.com/localcode/rhinopythonscripts/blob/master/GeoJson2Rhino.py](https://github.com/localcode/rhinopythonscripts/blob/master/GeoJson2Rhino.py)

现在我的脚本看起来像这样：

```
`import rhinoscriptsyntax as rs
 import sys
 rp_scripts = "rhinopythonscripts"
 sys.path.append(rp_scripts)
 import rhinopythonscripts

 import GeoJson2Rhino as geojson

 layer_1 = rs.GetLayer(layer='Layer 01')
 layer_color = rs.LayerColor(layer_1)

 f = open('test_3.geojson')
 gj_data = geojson.load(f,layer_1,layer_color)
 f.close()` 
```

尤其是：

```
 f = open('test_3.geojson')
 gj_data = geojson.load(f) 
```

当我尝试从常规 python 2.7 中提取 geojson 数据时工作正常。但是在 RhinoPython 中，我收到以下错误消息：消息：参数“文本”的预期字符串，但得到“文件”；参考 gj_data = geojson.load(f)。

我一直在查看上面链接的 GeoJson2Rhino 脚本，我认为我已经正确设置了函数的参数。据我所知，它似乎无法识别我的 geojson 文件，并希望将其作为字符串。是否有替代文件打开功能可用于获取将其识别为 geojson 文件的功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-11T17:15:35.877

从错误消息来看，该方法似乎`load`需要一个*字符串*作为第一个输入，但在上面的示例中，传递的是一个*文件对象。*尝试这个...

```
f = open('test_3.geojson')
g = f.read(); # read contents of 'f' into a string
gj_data = geojson.load(g) 
```

...或者，如果您实际上不需要文件对象...

```
g = open('test_3.geojson').read() # get the contents of the geojson file directly
gj_data = geojson.load(g) 
```

有关在 python 中读取文件的更多信息，请参见[此处。](http://docs.python.org/2/tutorial/inputoutput.html#methods-of-file-objects)

# ruby-on-rails - 投票功能问题

> ID：15492745
> 
> 赞同：2
> 
> 时间：2013-03-19T06:19:32.830
> 
> 标签：ruby-on-rails, rails-activerecord, voting-system

请多多包涵，因为我很难说出这个问题。

我正在尝试在 Rails 应用程序中学习和实现投票功能，我正在使用[activerecord-reputation-system](https://github.com/twitter/activerecord-reputation-system) gem。

我已经成功地在我的用户显示视图中实现了这个功能，我遇到的问题是在我的微帖子提要中。

当用户登录时，他/她会被重定向到现在有一​​个微博提要的主页，这是我想放置投票链接的地方，但它只是不起作用。

我必须为主页控制器定义投票路由吗？就像我为微博所做的那样

```
resources :microposts, only: [:create, :destroy] do
  member { post :vote}
end 
```

或者是什么？？

路线包含在原始帖子中，计划使用post方法。这就是我的链接：

```
<% if current_user?(micropost.user) && !current_user.voted_for?(micropost) %>
 | <%= link_to "up", vote_micropost_path(micropost, type: "up"), method: "post" %>
  | <%= link_to "down", vote_micropost_path(micropost, type: "down"), method: "post" %>
    <%= link_to "Delete", micropost, method: :delete,
                                     data: { confirm: "You sure?" },
                                     title: micropost.quote %>
    <% end %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:16:28.460

检查这个很棒的[Active Record Reputation System](http://railscasts.com/episodes/364-active-record-reputation-system) railscast。

[ryanb](https://github.com/ryanb)通过**activerecord-reputation-system** gem 并从头开始构建解决方案。

# c# - Visual c# 相对动态的组合框

> ID：15492748
> 
> 赞同：0
> 
> 时间：2013-03-19T06:20:05.923
> 
> 标签：c#, combobox

我有两个相关的组合框，组合框 1 填充组合框 2 的项目。在 combobox1`selectIndexChanged`事件中，我有这个代码，但我有错误`Unknown column 'System.Data.DataRowView' in 'where clause'`。

我尝试将此代码放在`SelectionChangeCommitted`第一个选择中，它填充了正确的项目，但是我的第二个选择在`comboBox2.Items.Clear();`状态中有错误`Items collection cannot be modified when the DataSource property is set.`:(该怎么办。？

```
private void comboBox1_SelectedIndexChanged(object sender, EventArgs e)
{
    string sql;
    if (comboBox1.SelectedIndex >= 0)
    {
        comboBox2.Items.Clear();
        MySqlConnection conn = new MySqlConnection(sqlString);
        MySqlDataAdapter adapter = new MySqlDataAdapter();
        sql = "SELECT brgyname,idbrgy from barangay where idmun=" + comboBox1.SelectedValue;
        adapter.SelectCommand = new MySqlCommand(sql, conn);
        DataTable cbBrgy = new DataTable();
        adapter.Fill(cbBrgy);
        comboBox2.DataSource = cbBrgy;
        comboBox2.DisplayMember = "brgyname";
        comboBox2.ValueMember = "idbrgy";
    }
} 
```

这是我填充组合框1的方式

```
 private void cbMun()
    {
        MySqlConnection conn = new MySqlConnection(sqlString);
        MySqlDataAdapter adapter = new MySqlDataAdapter();
        adapter.SelectCommand = new MySqlCommand("SELECT munname,idmun from municipality", conn);
        DataTable cbMun = new DataTable();
        adapter.Fill(cbMun);
        comboBox1.DataSource = cbMun;
        comboBox1.DisplayMember = "munname";
        comboBox1.ValueMember = "idmun";
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T13:14:09.120

当 cbMun 函数填充组合框时，它将直接调用组合框选择的索引更改事件，因此要解决此问题，请定义布尔值 comboisloading = true 并修改您的代码，如下所示：

```
 private void cbMun()
    {
        MySqlConnection conn = new MySqlConnection(sqlString);
        MySqlDataAdapter adapter = new MySqlDataAdapter();
        adapter.SelectCommand = new MySqlCommand("SELECT munname,idmun from municipality", conn);
        DataTable cbMun = new DataTable();
        adapter.Fill(cbMun);
        comboBox1.DataSource = cbMun;
        comboBox1.DisplayMember = "munname";
        comboBox1.ValueMember = "idmun";
        comboisloading = false;
    } 
```

* * *

```
 private void comboBox1_SelectedIndexChanged(object sender, EventArgs e)
    {
        if (comboisloading)
            return;

        string sql;
        if (comboBox1.SelectedIndex >= 0)
        {
            comboBox2.Items.Clear();
            MySqlConnection conn = new MySqlConnection(sqlString);
            MySqlDataAdapter adapter = new MySqlDataAdapter();
            sql = "SELECT brgyname,idbrgy from barangay where idmun=" + comboBox1.SelectedValue;
            adapter.SelectCommand = new MySqlCommand(sql, conn);
            DataTable cbBrgy = new DataTable();
            adapter.Fill(cbBrgy);
            comboBox2.DataSource = cbBrgy;
            comboBox2.DisplayMember = "brgyname";
            comboBox2.ValueMember = "idbrgy";
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:59:29.637

我只是将我的代码放在了`comboBox1_SelectionChangeCommitted`not in `comboBox1_SelectedIndexChanged`event 中，因为`comboBox1.SelectedValue`除非用户提交了对项目的更改，否则它仍然不会生成。我的`Items collection cannot be modified when the DataSource property is set`错误也是我`comboBox2.Items.Clear();`刚刚删除了这行代码。我仍然正确清除和替换我的 combobox2 项目。嗯..因为我曾经在 vb 中清除组合框..我想知道。

```
private void comboBox1_SelectionChangeCommitted(object sender, EventArgs e)
{
    string sql;
        MySqlConnection conn = new MySqlConnection(sqlString);
    MySqlDataAdapter adapter = new MySqlDataAdapter();
    sql = "SELECT brgyname,idbrgy from barangay where idmun=" + comboBox1.SelectedValue;
    adapter.SelectCommand = new MySqlCommand(sql, conn);
    DataTable cbBrgy = new DataTable();
    adapter.Fill(cbBrgy);
    comboBox2.DataSource = cbBrgy;
    comboBox2.DisplayMember = "brgyname";
    comboBox2.ValueMember = "idbrgy";
} 
```

# android - Android应用程序不适用于hdpi密度？

> ID：15492749
> 
> 赞同：-1
> 
> 时间：2013-03-19T06:20:11.270
> 
> 标签：android, layout, screen

我正在开发一个安卓应用程序。我已经为 320*480 尺寸的屏幕创建了布局。我的布局适合 MDPI 和 LDPI，但不适用于 HDPI 屏幕。这可能是什么原因，我该如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:29:00.267

*   使用与密度无关的像素
*   提供替代位图

阅读此文档 [支持不同的密度](http://developer.android.com/training/multiscreen/screendensities.html)

*   使用“wrap_content”和“match_parent”
*   使用相对布局
*   使用大小限定符
*   使用最小宽度限定符
*   使用布局别名
*   使用方向限定词
*   使用九块位图

请参阅此文档 [支持不同的屏幕尺寸](http://developer.android.com/training/multiscreen/screensizes.html)

# java - 在java中检测浏览器语言

> ID：15492750
> 
> 赞同：1
> 
> 时间：2013-03-19T06:20:14.920
> 
> 标签：java, browser

我在检测用户首选的浏览器语言时遇到了问题。

我发现导航器对象属性只检测系统相关语言。.userLanguage 检测用户电脑的本地语言，或者任务栏中使用的语言，并通过 ControlPanel>Regional&LanguageOptions 设置，然后 .systemLanguage 检测操作系统语言，然后 .browserLanguage 检测系统的默认浏览器语言。所以这些东西都不会帮助我。

我需要的是检测通过 Tools>InternetOptions 设置的用户首选浏览器语言

有没有办法使用Java做到这一点？

希望有人可以帮助我

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2016-01-12T00:55:17.327

如果您可以访问 HttpServletRequest 对象，那就很容易了。假设你在一个 servlet 中：

```
protected void doPost(HttpServletRequest request, HttpServletResponse response)
   throws ServletException, IOException {
        Enumeration locales = request.getLocales();
/**
*You can get the first one matches your supported local like below
*/
        while (locales.hasMoreElements()) {
             Locale locale = (Locale) locales.nextElement();
             if (supportedLanguages.contains(locale)) {
                 requestLocale = locale;
                 break;
             }
        }
       super.doPost(request, response);
   } 
```

如果您正在谈论在客户端检测浏览器语言。我宁愿建议你给我们JS来获取浏览器语言，你可以在你的Java代码中调用js。顺便说一句，我在我的 chrome 上测试了它：

```
var type=navigator.appName
if (type=="Netscape"){
var lang = navigator.language
}
else{
var lang = navigator.userLanguage
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-22T08:28:01.140

您可以使用以下行。

```
Locale browserLocale = FacesContext.getCurrentInstance().getViewRoot().getLocale();
txtVal.setValue(browserLocale.getDisplayLanguage()); 
```

有关更多详细信息，请查看此 [http://middleware-home.blogspot.com/2016/08/fill-multi-language-select-one-choice_98.html](http://middleware-home.blogspot.com/2016/08/fill-multi-language-select-one-choice_98.html)

# jquery - 无法从外部初始化脚本加载谷歌地图纬度/经度坐标

> ID：15492762
> 
> 赞同：-1
> 
> 时间：2013-03-19T06:21:08.723
> 
> 标签：jquery, google-maps-api-3

看看[这个问题](https://stackoverflow.com/questions/14931819/google-map-not-showing-when-in-a-hidden-div)，看看代码设置**一切正常**。

我正在一个使用完全相同的自适应地图解决方案的房地产网站上工作，但我在网站中有许多页面需要地图（属性详细信息页面），因此我需要一种方法将纬度/经度坐标嵌入到每个属性详细信息中页面并让外部`initialize()`脚本将其拾取，但我无法使其正常工作。

我在脚本中添加了 2 `lat`/ `long`var ：`initialize()`

```
function initialize(lat, long) {
    var myLatlng = new google.maps.LatLng(lat, long); 
```

然后在需要地图的页面上我尝试了这个：

```
<script>
    window.onload = function() {
        if (typeof(map) != 'undefined') {
             initialize(-33.867487,151.20699);
        }
    }
</script> 
```

但是没有获取坐标： ![在此处输入图像描述](../Images/240894eb5723ac887e37c0c4c4be8ed6.png)

我确信这与所有内容的加载方式有关，即**脚本**`initialize()`是通过 jQuery 进行 AJAX 处理的，`load()`然后一旦加载，地图 API 就会通过 jQuery 加载`$.getScript`，这一切都发生在`$(window).load`. 我只是想知道纬度/经度坐标如何与此设置相关联？

**- 编辑 -**

我将尽可能简单地分解代码设置：

在我的外部全局 JS 文件中，我设置了使用[**Inquire JS**](http://wicky.nillia.ms/enquire.js/)库的自适应 Google Map 解决方案：

```
$(window).load(function() {

    var mapContainer = $('.map'),
    mapStaticContainer = $('.map__static'),
    mapDynamicContainer = $('<div class="map__dynamic"/>');

    /* --Enquire library-- */
    enquire.register(BPlap, {

        deferSetup: true,

        setup: function() {
            mapContainer.prepend(mapDynamicContainer);
            mapDynamicContainer.html('<span class="preloader"><span class="preloader__spinner"></span> <em>Loading map&#8230;</em></span>').load('/includes/modules/adaptive-google-map/js.php', function() {
                $.getScript('http://maps.google.com/maps/api/js?sensor=false&callback=initialize', function(){});
            });
        },

        // Not palm size viewport
        match: function() {
            mapStaticContainer.hide();
            mapDynamicContainer.show();
            // Need this so the map fully renders when going from `match` -> `unmatch` -> `match`
            if (typeof(map) != 'undefined') {
                var center = map.getCenter();
                google.maps.event.trigger(map, 'resize');
                map.setCenter(center);
            }
        },

        // Palm size viewport
        unmatch: function() {   
            mapStaticContainer.show();
            mapDynamicContainer.hide();
        }

    }, true).listen();

}); 
```

通过 jQuery 输入 AJAX 文件的内容`load()`：**/includes/modules/adaptive-google-map/js.php**：

```
<div id="map_canvas"></div>
<script>
//function initialize() {
function initialize(lat, long) {
    var myLatlng = new google.maps.LatLng(lat, long);
    //var myLatlng = new google.maps.LatLng(-33.867487, 151.20699);
    var myOptions = {
      zoom: 15,
      center: myLatlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      scrollwheel: false
    }
    map = new google.maps.Map(document.getElementById('map_canvas'), myOptions);
    var marker = new google.maps.Marker({
        position: myLatlng,
        map: map,
        animation: google.maps.Animation.DROP
    });
    // Center Google Maps on browser resize (https://stackoverflow.com/questions/8792676/center-google-maps-v3-on-browser-resize-responsive)
    var center;
    function calculateCenter() {
        center = map.getCenter();
    }
    google.maps.event.addDomListener(map, 'idle', function() {
        calculateCenter();
    });
    google.maps.event.addDomListener(window, 'resize', function() {
        map.setCenter(center);
    });
}
</script> 
```

如果我在上面的脚本中硬编码纬度/经度坐标`initialize()`（注释掉的行）一切正常，那么当我试图从页面内传递`lat`/ `long`var 时，我无法插入地图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T03:41:07.070

我想通了，我需要从这里删除变量：

```
function initialize(lat, long) { 
```

所以就是这样：

```
function initialize() {
    var myLatlng = new google.maps.LatLng(lat, long); 
```

然后在使用地图的页面上放置这个内联 JS：

```
<script>
var lat     = 53.43072,
    long    = -3.049134;
</script> 
```

# contextmenu - 传单 geojson 上下文菜单

> ID：15492763
> 
> 赞同：3
> 
> 时间：2013-03-19T06:21:10.733
> 
> 标签：contextmenu, leaflet, geojson

我想在我的 geojson 图层上为各种元素右键单击添加一个上下文菜单（我正在做一个路线图，所以在我想显示上下文菜单的任何部分右键单击道路）。

通过使用 onEachFeature 并执行以下操作，我设法使左键单击正常

```
function onEachFeature(feature, layer) {
        layer.on({
            click: showAssetInfo,
            contextmenu: contextreg
        });

    }   

 function showAssetInfo(e) {
        AssetMouseClick(e.target.feature.properties.objectid, e.latlng);
    } 
```

对于上下文菜单，我遵循了[此处](http://jsfiddle.net/Q3L4c/12/)的示例 。上下文菜单库位于[此处](http://medialize.github.com/jQuery-contextMenu/)

我有以下内容可以在准备好的文档上调用（jquery）

```
$.contextMenu({
    selector: 'path.leaflet-clickable',
    zIndex: 99999,
    callback: function (key, options) {
        var m = "clicked: " + key;
        window.console && console.log(m) || alert(m);
    },
    items: {
        "edit": { name: "Edit", icon: "edit" },
        "cut": { name: "Cut", icon: "cut" },
        "copy": { name: "Copy", icon: "copy" },
        "paste": { name: "Paste", icon: "paste" },
        "delete": { name: "Delete", icon: "delete" },
        "sep1": "---------",
        "quit": { name: "Quit", icon: "quit" }
    }
}); 
```

我已经对其进行了测试，并且选择器确实返回了 GeoJson 功能，如果它将相同的菜单附加到其他东西上，它也可以正常工作。

我在这里缺少什么吗？

还有一种好方法可以在启动时将objectid传递给菜单，这样我就可以在调用菜单的不同选项时使用它

编辑：

我创建了这个小提琴来演示[http://jsfiddle.net/Q3L4c/22/](http://jsfiddle.net/Q3L4c/22/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2019-08-05T06:52:05.773

2013 年 8 月创建的上下文菜单有一个很好的传单插件：
[Leaflet.contextmenu](https://github.com/aratcliffe/Leaflet.contextmenu)

这个上下文菜单库有很好的文档，包括在 GeoJSON 层中实现的分步说明。

在下面的代码片段中，请注意我们如何轻松地将完整的功能和图层对象传递给选择编辑菜单项时调用的函数。在此示例中，图层组是 GeoJSON 图层组，可以通过以下方式访问 GeoJSON 属性`feature.properties`

> **注意：**在此解决方案中，内容菜单项定义是在`onEachFeature`处理过程中生成的，而不是在调用上下文菜单时动态生成的，如果您计划生成可能依赖于运行时可能发生变化的变量的动态菜单项生成，请注意这一点有时，您需要在创建菜单项时将每个项目的可见性或启用选项评估为静态值。

```
function onEachFeature(feature, layer) {

    layer.bindContextMenu({
        contextmenu: true,
        contextmenuInheritItems: false,
        contextmenuItems: [
            { text: 'edit', icon: 'edit', callback: function () { editFeature(feature, layer); } },
            { text: 'cut', icon: cut', callback: function () { console.log('cut'); } },
            { text: 'copy', icon: 'copy', callback: function () { console.log('copy'); } },
            { text: 'paste', icon: 'paste', callback: function () { console.log('paste'); } },
            { text: 'delete', icon: 'delete', callback: function () { console.log('delete'); } },
            { separator: true },
            { text: 'quit', icon: 'quit', callback: function () { console.log('quit'); } },
        ]
    });

    layer.on({
        click: showAssetInfo
    });

}   

/**
 * Edit a feature on the map
 * @param {GeoJSON} feature GeoJSON feature, access metadata through feature.properties
 * @param {any} layer Leaflet layer represents this feature on the map (the shape)
 */
function editFeature(feature, layer) {
    console.log(JSON.stringify(feature.properties));
}

function showAssetInfo(e) {
    AssetMouseClick(e.target.feature.properties.objectid, e.latlng);
} 
```

# objective-c - 从 NSOutlineView 中去除几层缩进

> ID：15492767
> 
> 赞同：6
> 
> 时间：2013-03-19T06:21:17.893
> 
> 标签：objective-c, macos, cocoa, nsoutlineview, appkit

我有一个大纲视图，我*不想*缩进顶部的几个级别（无论如何它们都有独特的外观），但我*确实*想缩进后续级别。我怎样才能做到这一点？

我尝试过覆盖`-levelForRow:`并`-levelForItem:`从返回值中减去 2，但这没有帮助。我还尝试覆盖`-frameOfOutlineCellAtRow:`从框架的宽度中减去 2 * indentationPerLevel，但这也没有帮助，可能是因为我没有显示三角形。关于如何解决此问题的任何想法？

大纲视图绑定到`NSTreeController`，这使得扁平化底层数据结构变得困难，但我确实设置了大纲视图委托。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2015-03-20T00:43:02.473

解决方案是使用`frameOfCellAtColumn:row:`which 是一种`NSTableView`方法。

```
- (NSRect)frameOfCellAtColumn:(NSInteger)column row:(NSInteger)row;
{
    NSRect frame = [super frameOfCellAtColumn:column row:row];

    if (column == (NSInteger)[self.tableColumns indexOfObjectIdenticalTo:self.outlineTableColumn]) {
        if (this-item-or-row-matches-your-conditions) {
            frame.origin.x -= self.indentationPerLevel;
            frame.size.width += self.indentationPerLevel;
        }
    }

    return frame;
} 
```

此方法控制基于单元格和基于视图的表格视图和大纲视图中的布局。

# jquery - 选择时提交 JQuery

> ID：15492768
> 
> 赞同：1
> 
> 时间：2013-03-19T06:21:24.163
> 
> 标签：jquery, select, submit

我找到了一个将自动完成添加到表单的片段：

[http://jsfiddle.net/XxTuA/2/](http://jsfiddle.net/XxTuA/2/)

问题是我不知道如何在选择时提交表单。任何帮助将不胜感激：

```
var suggestCallBack; // global var for autocomplete jsonp

$(document).ready(function () {
    $("#search").autocomplete({
        source: function(request, response) {
            $.getJSON("http://suggestqueries.google.com/complete/search?callback=?",
                { 
                  "hl":"en", // Language                  
                  "jsonp":"suggestCallBack", // jsonp callback function name
                  "q":request.term, // query term
                  "client":"youtube" // force youtube style response, i.e. jsonp
                }
            );
            suggestCallBack = function (data) {
                var suggestions = [];
                $.each(data[1], function(key, val) {
                    suggestions.push({"value":val[0]});
                });
                suggestions.length = 5; // prune suggestions list to only 5 items
                response(suggestions);
            };
        },
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:23:49.303

试试这个

```
 $("#search").autocomplete({
     select: function (event, ui) {
         var selectedObj = ui.item;              
          alert(selectedObj.value);
          $("#search").val(selectedObj.value);
         $('#formId').submit();
        },
        source: function(request, response) {

................. 
```

# php - 是否可以检测并避免用户在在线测试项目中打开新标签？

> ID：15492769
> 
> 赞同：-1
> 
> 时间：2013-03-19T06:21:25.473
> 
> 标签：php, javascript, jquery

我正在用 PHP 做一个在线测试项目。用户登录后，即可进行测试。我想知道，是否可以使用 jquery 或 javascript 使用户不打开新选项卡或测试门户以外的任何其他选项卡。而且如果用户试图打开一个新标签，他应该被警告..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:36:57.237

您尝试做的事情是不可能的，JavaScript 在窗口上下文中运行，打开新窗口/选项卡取决于浏览器，在您的页面中运行的 JS 不知道这些操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:30:16.677

不，这违反了浏览器安全策略。如果用户打开另一个浏览器而不是 tab 怎么办？你怎么处理？

如果他有两台电脑或一部智能手机在考试期间使用怎么办？没有万无一失的方法可以使您的在线测试免受作弊尝试的影响。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T06:30:54.477

除非您在 Firefox 上编写某种插件（我相信即使是 Chrome 扩展程序也不允许您这样做），否则您无法在使用 javascript 的普通浏览器上执行此操作。如果可以的话，这将是一个安全问题。

# xml - 更新 XML 节点更改 XML 格式

> ID：15492772
> 
> 赞同：0
> 
> 时间：2013-03-19T06:21:39.157
> 
> 标签：xml, formatting, save

我正在尝试更新 XML 文档并替换单个节点的内容，但是，在我保存 XML 文件后，我的格式完全偏斜。

这是我的代码：

```
Public Sub UpdateSettingsXML(ByRef ElementName As String, ByRef ElementValue As String)
    Dim MyXML As New XmlDocument()
    Dim MyXMLNode As XmlNode

    MyXML.Load(SettingsXMLFile)
    MyXMLNode = MyXML.SelectSingleNode("//Data/Settings/" & ElementName)
    If Not MyXMLNode Is Nothing Then
        MyXMLNode.InnerText = ElementValue.ToString
        MyXML.Save(SettingsXMLFile)
    End If

    MyXMLNode = Nothing
    MyXML = Nothing
End Sub 
```

我的原始 XML 文件（在更新节点之前）如下所示：

```
<?xml version="1.0" encoding="utf-8"?> 
<Data>   
 <Settings>
    <DropBoxLocation></DropBoxLocation>
    <ServerName></ServerName>
    <DatabaseName></DatabaseName>
    <Username></Username>
    <Password></Password>
    <OnlineFilename></OnlineFilename>
    <OfflineFilename></OfflineFilename>
    <EftposFilename></EftposFilename>
    <BankFilename></BankFilename>
    <POSFilename></POSFilename>
    <ProcessesFilename></ProcessesFilename>
    <FileReadDelay></FileReadDelay>   
 </Settings> 
</Data> 
```

但是，一旦我保存 XML 文件，我的格式将如下所示：

```
<?xml version="1.0" encoding="utf-8"?> 
<Data>   
 <Settings>
    <DropBoxLocation>C:\Dropbox</DropBoxLocation>
    <ServerName>
    </ServerName>
    <DatabaseName>
    </DatabaseName>
    <Username>
    </Username>
    <Password>
    </Password>
    <OnlineFilename>
    </OnlineFilename>
    <OfflineFilename>
    </OfflineFilename>
    <EftposFilename>
    </EftposFilename>
    <BankFilename>
    </BankFilename>
    <POSFilename>
    </POSFilename>
    <ProcessesFilename>
    </ProcessesFilename>
    <FileReadDelay>
    </FileReadDelay>   
 </Settings> 
</Data> 
```

不知道我做错了什么，但我似乎无法在网上找到有关此问题的任何信息。想知道是否有人可以帮助我。任何帮助，将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:52:47.503

当您使用下面的代码时会发生什么？它使用 PRESERVEWHITE 参数

它可以修复您的格式吗？

```
Public Sub UpdateSettingsXML(ByRef ElementName As String, ByRef ElementValue As String)

  Dim MyXML As New XmlDocument()
  Dim MyXMLNode As XmlNode

  'REM - THIS LINE ADDED
  MyXML.PreserveWhitespace = false

  MyXML.Load(SettingsXMLFile)
  MyXMLNode = MyXML.SelectSingleNode("//Data/Settings/" & ElementName)
  If Not MyXMLNode Is Nothing Then
    MyXMLNode.InnerText = ElementValue.ToString

    'REM - THIS LINE ADDED
    MyXML.PreserveWhitespace = false
    MyXML.Save(SettingsXMLFile)
  End If
  MyXMLNode = Nothing
  MyXML = Nothing
End Sub 
```

# wpf - 将 wpf 元素主机绑定到 Winform

> ID：15492773
> 
> 赞同：0
> 
> 时间：2013-03-19T06:21:43.217
> 
> 标签：wpf, winforms, binding, elementhost

我有一个`wpf element host`坐席`winfrom`。

我想将**元素的属性绑定到winfrom的属性。**

在搜索中，我找到了相反的解决方案，将 winfrom 绑定到 wpf（当 win 位于 wpf 中时）。

这里的例子： **[如何在WPF中绑定一个windows控件？？？？](http://go4answers.webhost4life.com/Example/bind-windows-control-wpf-31666.aspx)**

我也看到了这个答案（不完全是一个答案，我想说一个结论）：**[Binding to a WPF hosting control's DependencyProperty in WinForms](https://stackoverflow.com/questions/3041027/binding-to-a-wpf-hosted-controls-dependencyproperty-in-winforms)**

它对我没有帮助..

我也想在 wpf element host 中保留 MVVM 的原理。

有办法做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T10:06:54.103

最后我这样解决了：

我在第一次使用 wpf 主机控件时创建了一个属性`ViewModel`并**通过它初始化了他。`winfrom`**

我将属性绑定到元素`xaml`

就这样。

# objective-c - 不在带注释的视图中显示 DetailDisclosureButton

> ID：15492774
> 
> 赞同：0
> 
> 时间：2013-03-19T06:21:43.603
> 
> 标签：objective-c, ios5, xcode4.3, mkmapviewdelegate

我们正在尝试在 iOS 应用程序中实现 MKMapView。我得到了带有给定位置和引脚的 mapView。当我点击这些引脚时，我也得到了标题和副标题。现在我想在这个视图中包含一个详细信息披露按钮，其中显示标题和副标题。为此，我使用了下面给定的代码[MKPinannotation 详细信息披露按钮-当前新视图正在第一个方法中，但它没有显示 detailDisclosureButton。

```
- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id <MKAnnotation>)annotation {
    MKPinAnnotationView *pinView = (MKPinAnnotationView *)[mapView dequeueReusableAnnotationViewWithIdentifier:@"pinView"];
    if (!pinView) {
        pinView = [[[MKPinAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:@"pinView"] autorelease];
        pinView.pinColor = MKPinAnnotationColorRed;
        pinView.animatesDrop = YES;
        pinView.canShowCallout = YES;

        UIButton *rightButton = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];
        pinView.rightCalloutAccessoryView = rightButton;
    } else {
        pinView.annotation = annotation;
    }
    return pinView;
}

- (void)mapView:(MKMapView *)mapView annotationView:(MKAnnotationView *)view calloutAccessoryControlTapped
{
} 
```

现在我该怎么办？任何人请看看并帮助我......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:31:40.467

```
-(MKAnnotationView *)mapView:(MKMapView *)mV viewForAnnotation:(id <MKAnnotation>)annotation {

    pinView = nil; 
    if(annotation != map.userLocation) 
    {
        NSString *defaultPinID =@"com.invasivecode.pin1";
        pinView = (MKPinAnnotationView *)[map dequeueReusableAnnotationViewWithIdentifier:defaultPinID];
        if ( pinView == nil ) pinView = [[[MKPinAnnotationView alloc]
                                          initWithAnnotation:annotation reuseIdentifier:defaultPinID] autorelease];
        UIButton *btnGo = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];
        [btnGo addTarget:self action:@selector(goToLocation:)  forControlEvents:UIControlEventTouchUpInside];
        pinView.rightCalloutAccessoryView=btnGo;
        pinView.canShowCallout = YES;
        pinView.animatesDrop = YES;
        pinView.draggable=NO;
    } 
    else {
        [map.userLocation setTitle:@"I am here"];
    }
    return pinView;
} 
```

**在 .h 文件中声明**

```
MKPinAnnotationView *pinView 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:26:23.100

请尝试为 rightButton 设置框架，即

```
rightButton.frame = CGRectMAke (x,y,width,height); 
```

# matlab - 分段遍历矩阵

> ID：15492775
> 
> 赞同：1
> 
> 时间：2013-03-19T06:21:49.370
> 
> 标签：matlab

我有一个巨大的波形矩阵：

```
[w,fs] = wavread('file.wav');
length(w)
ans =

  258048 
```

我想分段遍历这个矩阵（比如 50 个）并获得这些段的最大值以将其与另一个值进行比较。我试过这个：

```
thold = max(w) * .04;
nwindows = 50;
left = 1;
right = length(w)/nwindows;
counter = 0;
for i = 1:nwindows
  temp = w(left:right);
  if (max(temp) > thold)
      counter = counter + 1;
  end
  left = right;
  right = right+right;
end 
```

但是 MATLAB 抛出了大量警告并给了我这个错误：

```
Index exceeds matrix dimensions.

Error in wlengthdur (line 17)
  temp = w(left:right); 
```

我是接近还是偏离路线？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T07:12:48.303

另一种方法是使用 reshape 将向量排列到一个二维矩阵中，其行数`n`和列数等于`ceil(length(w) / n)`即四舍五入，以便它可以整除，因为 matlab 矩阵必须是矩形的。这样，您可以在一个步骤中找到最大值或您需要的任何内容，而无需循环。

```
w = randn(47, 1);
%this needs to be a column vector, if yours isn't call w = w(:) to ensure that it is

n = 5;

%Pad w so that it's length is divisible by n
padded = [w; nan(n - mod(length(w), n), 1)];

segmented_w = reshape(padded, n, []);

max(segmented_w) 
```

# architecture - 外观/服务架构

> ID：15492776
> 
> 赞同：0
> 
> 时间：2013-03-19T06:22:02.353
> 
> 标签：architecture, maven-3, java-ee-6, cyclomatic-complexity, facade

在我提出问题之前，我必须描述一下我们的应用程序是如何构建的。

我们在服务层运行了几个使用 ejb 的 Web 应用程序。我尝试用一​​个简短的例子来描述沟通：

*   一个 JSF bean (PersonH​​andler) 调用一个外观来删除一个“Person”对象
*   一个门面可以使用许多不同的服务，但不能使用其他门面。在这种情况下，PersonFacade 使用 PersonService（删除人员）和 NotificationService（发送电子邮件）。事务也由外观逻辑控制。仅当事务成功提交时才应发送电子邮件。
*   服务不能引用另一个服务或外观。而不是这个，PersonService 只有一个对 PersonDao 的引用（持久逻辑）。

我认为这种架构很常见。这是我的问题。

在 PersonFacade 的 delete 方法中，我们有非常重要的代码，我们不会重复。每次应该删除一个人时，这段代码都应该运行。在另一个门面逻辑中，我们需要完全相同的代码，但门面 <--> 门面通信是不允许的。

这个问题的最佳解决方案是什么？

这是我目前的解决方案，但我对此不满意。我创建了一个带有处理删除逻辑的 ejb 的新 ejb 模块。两个外观模块都依赖于新模块，因此一切正常，我不会违反“外观从不使用其他外观”的合同。如果我们每次在不同的地方需要相同的代码时都使用它，我们的模块将会爆炸并且模块会变得混乱。目前我们有超过 250 个 ejb/jar 模块。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T14:22:25.340

以下是我会考虑的两个选项。

1.  在基础外观中具有所有外观都将从其扩展的通用逻辑，或者
2.  将通用逻辑移至任何外观都可以调用的辅助类（实用程序）。我看到您已经通过创建一个新的 ejb 来做类似的事情。我不确定它是否需要成为 ejb，这取决于确切的逻辑。

# iphone - 将文件上传到服务器以在 iPhone 中显示 UIProgressView？

> ID：15492781
> 
> 赞同：0
> 
> 时间：2013-03-19T06:22:11.853
> 
> 标签：iphone, ios, objective-c, nsurlconnection

我已经通过我的服务器上传了一个文件并且它工作正常，但我想显示上传状态的进度视图，如何做到这一点，请帮助我

提前致谢

我试过这个：

```
 [body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"file\"; filename=\"%@\"\r\n",file] dataUsingEncoding:NSUTF8StringEncoding]];
        [body appendData:[[NSString stringWithString:@"Content-Type: application/octet-stream\r\n\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
        [body appendData:Filedata];
        [body appendData:[[NSString stringWithFormat:@"\r\n--%@--\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
        [request setHTTPBody:body];

        NSURLConnection *theConnection=[[NSURLConnection alloc] initWithRequest:request delegate:self];
        if (theConnection)
            mutaebleData = [[NSMutableData data] retain];
        else
            NSLog(@"No Connection"); 
```

使用此委托上传数据状态，但无济于事

```
- (void)request:(NSURLConnection *)request 
didSendBodyData:(NSInteger)bytesWritten totalBytesWritten:(NSInteger)totalBytesWritten totalBytesExpectedToWrite:(NSInteger)totalBytesExpectedToWrite
{
    NSLog(@"%d bytes out of %d sent.", totalBytesWritten, totalBytesExpectedToWrite);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T07:54:25.390

请看看这个线程，它会帮助你：

[如何使用 ASIHTTPRequest (ASYNC) 跟踪下载进度](https://stackoverflow.com/questions/6322103/how-to-track-the-progress-of-a-download-using-asihttprequest-async)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:28:17.740

这是最适合您的自定义控制器。

`UIActivityIndicator`您可以从此链接找到它的自定义

[https://github.com/jdg/MBProgressHUD](https://github.com/jdg/MBProgressHUD)

这些不是苹果特定的控件。此 MBProgressHUD 控件由下面描述的三个控件组成。

*   `UIImageView`与图像的 背景。
*   `UIActivityIndicatory`
*   `UILabel`与您想要显示的任何消息。

`MBProgressHUD`是一个 iOS 插件类，它在后台线程中完成工作时显示带有指示器和/或标签的半透明 HUD。HUD 旨在替代未记录的私有 UIKit UIProgressHUD 并具有一些附加功能.......
**有关更多信息，请转到上面的链接**

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-19T06:40:50.047

最简单的你可以提醒一个 UIProgressView 和 int 你可以设置进度值的委托，例如：

```
- (void)request:(NSURLConnection *)request 
didSendBodyData:(NSInteger)bytesWritten totalBytesWritten:(NSInteger)totalBytesWritten totalBytesExpectedToWrite:(NSInteger)totalBytesExpectedToWrite
{
    NSLog(@"%d bytes out of %d sent.", totalBytesWritten, totalBytesExpectedToWrite);

    UIProgressView *progressView = [[UIProgressView alloc] initWithProgressViewStyle:UIProgressViewStyleDefault];
    [self.view addSubview:progressView];
    progressView.progress = (double) bytesWritten / totalBytesWritten;
} 
```

# java - JAVA-JAXB/ 将类定义为字段

> ID：15492783
> 
> 赞同：0
> 
> 时间：2013-03-19T06:22:19.830
> 
> 标签：java, jaxb

我正在使用 jaxb，据我了解，我们为每个元素和属性字段定义，然后 jaxb 重新调整此属性，并将其值放入此元素中。我的一个属性是类的问题：

```
<div class="hello"> Hi </div> 
```

所以我想在类div中定义，下一个：

```
String class;
public String getClass() {
    return class;
}

@XmlAttribute
public void setClass(String class) {
    this.class = class;
} 
```

但我不能因为——`Syntax error on token "class", invalid VariableDeclarator`

我能做些什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:30:20.960

您可以使用[XmlAttribute的](http://docs.oracle.com/javaee/5/api/javax/xml/bind/annotation/XmlAttribute.html)[name](http://docs.oracle.com/javaee/5/api/javax/xml/bind/annotation/XmlAttribute.html#name%28%29)属性为映射变量指定不同的名称。

```
String className;
public String getClassName() {
    return clazz;
}

@XmlAttribute(name="class")
public void setClassName(String className) {
    this.className = className;
} 
```

它工作得很好

```
import java.io.StringReader;
import java.io.StringWriter;

import javax.xml.bind.JAXBContext;
import javax.xml.bind.annotation.XmlAttribute;
import javax.xml.bind.annotation.XmlRootElement;
import javax.xml.bind.annotation.XmlType;

public class Test {

    public static void main(String[] args) throws Exception {
        JAXBContext context = JAXBContext.newInstance(Div.class);

        Div div = new Div();
        div.setClassName("new-item");
        StringWriter sw = new StringWriter();
        context.createMarshaller().marshal(div, sw);
        System.out.println(sw.toString());

        String s = "<div class=\"hello\"> Hi </div>";
        Div object = (Div) context.createUnmarshaller().unmarshal(new StringReader(s));
        System.out.println(object.getClassName());

    }

    @XmlType(name = "div")
    @XmlRootElement(name = "div")
    public static class Div {

        private String className;

        @XmlAttribute(name = "class")
        public String getClassName() {
            return className;
        }

        public void setClassName(String className) {
            this.className = className;
        }
    }
} 
```

# ios - 选择通知栏时执行某些操作

> ID：15492786
> 
> 赞同：1
> 
> 时间：2013-03-19T06:22:33.163
> 
> 标签：ios, cocoa-touch

当 ios 通知栏（或任何它被称为）被下拉时，我该怎么做？当用户在我的应用程序中检查栏时，我想显示我的加载图片。当您在 Netflix 中时，Netflix 会执行此操作（至少在我的 ipad 中）并且您将通知栏下拉，Netflix 应用程序会发生变化，使其与加载时的图片相同（他们的徽标在红色背景上占据了整个视图），当通知栏隐藏时，它会立即回到您正在查看的任何内容。我对 android 更熟悉，所以请原谅我糟糕的 ios 词汇。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T14:44:01.147

当通知中心从状态栏中拉下时，我认为您无法感觉到。但是，您可以简单地对

```
- (void)applicationWillResignActive:(UIApplication *)application 
```

方法 ( [doc](http://developer.apple.com/library/ios/documentation/uikit/reference/UIApplicationDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UIApplicationDelegate/applicationWillResignActive%3a "文档") )，在您的 AppDelegate 中。这个方法在你开始拉下通知中心的那一刻被调用，但它也在其他情况下被调用（例如，每次你的应用程序移动到后台，或者短信进来......）。

如果您需要将行为与“背景”情况区分开来，您应该注意，在下拉通知中心时`- (void)applicationDidEnterBackground:(UIApplication *)application`不会调用该方法，而在后台情况下会调用该方法。

希望这可以帮助！

# android - 如何在 Android 中将溢出菜单项显示到操作栏

> ID：15492791
> 
> 赞同：29
> 
> 时间：2013-03-19T06:22:53.103
> 
> 标签：android, android-actionbar

我正在编写一个 Android 应用程序，我试图在其中*向 ActionBar 显示溢出菜单项*

使用这个很棒的教程链接：[http ://wptrafficanalyzer.in/blog/adding-action-items-and-overflow-menu-items-to-action-bar-in-android/](http://wptrafficanalyzer.in/blog/adding-action-items-and-overflow-menu-items-to-action-bar-in-android/)

问题：

```
Not getting Overflow Menu Items (Icon) 
```

请参阅下面的屏幕截图以获得更清晰的信息： ![在此处输入图像描述](../Images/6d6e6c40c2e35a9b89168d6562c3b2cf.png)

清单.xml：

```
<uses-sdk android:minSdkVersion="14" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >
    <activity
        android:name=".MainActivity"
        android:label="@string/app_name" 
        android:uiOptions="splitActionBarWhenNarrow"              
        > 
```

项目.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android" >
<item
    android:id="@+id/phone"
    android:title="@string/phone"
    android:icon="@drawable/phone"
    android:showAsAction="ifRoom|withText"
/>

<item
    android:id="@+id/computer"
    android:title="@string/computer"
    android:icon="@drawable/computer"
    android:showAsAction="ifRoom|withText"
/>

<item
    android:id="@+id/gamepad"
    android:title="@string/gamepad"
    android:icon="@drawable/gamepad"
    android:showAsAction="ifRoom|withText"
/>

<item
    android:id="@+id/camera"
    android:title="@string/camera"
    android:icon="@drawable/camera"
    android:showAsAction="ifRoom|withText"
/>

<item
    android:id="@+id/video"
    android:title="@string/video"
    android:icon="@drawable/video"
    android:showAsAction="ifRoom|withText"
/>

<item
    android:id="@+id/email"
    android:title="@string/email"
    android:icon="@drawable/email"
    android:showAsAction="ifRoom|withText"
/>
 </menu> 
```

我正在使用本教程，并尝试制作*图 6：拆分操作栏中​​的操作项和溢出菜单*

请帮我**向 ActionBar 显示溢出菜单项 (ICON)**

*现在，每当我在模拟器中单击菜单按钮时，我都会得到休息菜单项*....

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2013-10-28T15:45:05.903

只是说如果您的设备有一个菜单按钮，溢出图标将不会显示，在较新的手机上，溢出按钮将显示。我不会推荐 ASMUIRTI 的答案，因为它是一个糟糕的 hack，它破坏了与平台上其他应用程序的一致性。

你必须使用

```
android:showAsAction="never" 
```

并让 android 设备决定该设备是否需要溢出菜单。

* * *

## 回答 #2

> 赞同：47
> 
> 时间：2013-03-19T07:22:12.760

要在操作栏中显示三个点图标，只需在 OnCreate() 中使用以下方法：

```
 private void getOverflowMenu() {

    try {
       ViewConfiguration config = ViewConfiguration.get(this);
       Field menuKeyField = ViewConfiguration.class.getDeclaredField("sHasPermanentMenuKey");
       if(menuKeyField != null) {
           menuKeyField.setAccessible(true);
           menuKeyField.setBoolean(config, false);
       }
   } catch (Exception e) {
       e.printStackTrace();
   }
 } 
```

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2014-04-04T06:26:43.327

这可能是另一种解决方法，这对我很有帮助。保留一个带有三个点的可绘制对象，并将其作为菜单项。

```
 <menu xmlns:android="http://schemas.android.com/apk/res/android" >

<item
    android:id="@+id/saveDetails"
    android:showAsAction="always"
    android:title="@string/save"/>

<item
    android:id="@+id/menu_overflow"
    android:icon="@drawable/dts"
    android:orderInCategory="11111"
    android:showAsAction="always">
    <menu>
        <item
            android:id="@+id/contacts"
            android:showAsAction="never"
            android:title="Contacts"/>

        <item
            android:id="@+id/service_Tasks"
            android:showAsAction="never"
            android:title="Service Tasks"/>

        <item
            android:id="@+id/charge_summary"
            android:showAsAction="never"
            android:title="Charge Summary"/>

        <item
            android:id="@+id/capture_signature"
            android:showAsAction="never"
            android:title="Capture Signature"/>
    </menu>
</item>

 </menu> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-19T06:31:13.413

如果我正确理解您的问题并且您想在操作栏上显示所有图标，请在菜单项中更改此参数

```
android:showAsAction="ifRoom|withText" 
```

对此

```
android:showAsAction="always" 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-01-26T05:35:58.823

如果您从支持库中使用，为了在操作栏中显示菜单项，您必须在 xml 中使用以下语法：

```
yourappname:showAsAction="ifRoom|withText" 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-03-14T16:24:14.390

在 AndroidManifest.xml 之间添加

```
android:theme="@android:style/Theme.Holo.Light" 
```

在您的应用程序中添加操作栏。

之后，转到 menu.xml 并添加以下内容

```
xmlns:tools="http://schemas.android.com/tools 
```

之间最后在每个项目中添加

```
android:showAsAction="always"
tools:ignore="AppCompatResource" 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-09-11T18:34:54.100

具有菜单硬件按钮的电话在单击硬件按钮时会显示额外的菜单项。没有硬件菜单按钮的较新手机会自动将溢出菜单图标添加到操作栏。额外的菜单项是那些将“showAsAction”属性设置为从不的菜单项。

# php - 以非常糟糕的 PDF 格式导出我的 sql 数据

> ID：15492793
> 
> 赞同：0
> 
> 时间：2013-03-19T06:22:54.430
> 
> 标签：php, mysql

我已经从来自数据库的数据创建了一个 PDF。但是，在创建 PDF 之后，它的格式不是很好。如何生成格式良好的 PDF？
另一个问题是它显示了之前一个字段的值。例如，在*地址字段*中显示*电话号码*的结果。请访问[此链接](http://sms.weddingsplanner.co.in/all_inquiry.php)并点击给定链接上的 PDF 按钮，您会发现一个结构错误的 PDF 文件。我该如何解决这个问题？

```
<?php
session_start();
$host="localhost"; // Host name 
$username="weddings_system"; // Mysql username 
$password="smssystem"; // Mysql password 
$db_name="weddings_sms"; // Database name 

// Connect to server and select databse.
mysql_connect("$host", "$username", "$password")or die("cannot connect"); 
mysql_select_db("$db_name")or die("cannot select DB");
 ob_start();

define('FPDF_FONTPATH','font/');
require('fpdf.php');

 if($_REQUEST['types'] == 'name') {  

                             $query = "SELECT * FROM visitor_detail WHERE name='".$_POST['filter']."' ORDER BY id   DESC ";  
                              }  
                             elseif($_REQUEST['types'] == 'mobile') {  

                              $que = "SELECT * FROM visitor_detail WHERE mobile='".$_POST['filter']."' ORDER BY id  DESC ";  
                             } 
                              elseif($_REQUEST['types'] == 'OccasionType') {  

                             $query = "SELECT * FROM visitor_detail WHERE OccasionType='".$_POST['filter']."'   ORDER BY id DESC ";  
                              } 

                             elseif($_REQUEST['types'] == 'InquiryDate') {  
                             $query="SELECT * FROM visitor_detail WHERE TodayDate between '".$_POST['From']."' and   '".$_POST."' ORDER BY id DESC " ;  
                            }

                              elseif($_REQUEST['types'] == 'OccasionDate') {  
                             $query="SELECT * FROM visitor_detail WHERE date between '".$_POST['From']."' and '".$_POST['To']."' ORDER BY id DESC " ;  
                            }

                              else {  
                              $query = "SELECT * FROM visitor_detail ORDER BY id DESC ";  
                           } 

                             $sql = mysql_query($query);

class PDF_MySQL_Table extends FPDF
{
var $ProcessingTable=false;
var $aCols=array();
var $TableX;
var $HeaderColor;
var $RowColors;
var $ColorIndex;

function Header()
{
    //Print the table header if necessary
    if($this->ProcessingTable)
        $this->TableHeader();
}

function TableHeader()
{
    $this->SetFont('Arial','B',12);
    $this->SetX($this->TableX);
    $fill=!empty($this->HeaderColor);
    if($fill)
        $this->SetFillColor($this->HeaderColor[0],$this->HeaderColor[1],$this->HeaderColor[2]);
    foreach($this->aCols as $col)
        $this->Cell($col['w'],10,$col['c'],1,0,'C',$fill);
    $this->Ln();
}

function Row($data)
{
    $this->SetX($this->TableX);
    $ci=$this->ColorIndex;
    $fill=!empty($this->RowColors[$ci]);
    if($fill)
        $this->SetFillColor($this->RowColors[$ci][0],$this->RowColors[$ci][1],$this->RowColors[$ci][2]);
    foreach($this->aCols as $col)
        $this->Cell($col['w'],10,$data[$col['f']],1,0,$col['a'],$fill);
    $this->Ln();
    $this->ColorIndex=1-$ci;
}

function CalcWidths($width,$align)
{
    //Compute the widths of the columns
    $TableWidth=0;
    foreach($this->aCols as $i=>$col)
    {
        $w=$col['w'];
        if($w==-1)
            $w=$width/count($this->aCols);
        elseif(substr($w,-1)=='%')
            $w=$w/100*$width;
        $this->aCols[$i]['w']=$w;
        $TableWidth+=$w;
    }
    //Compute the abscissa of the table
    if($align=='C')
        $this->TableX=max(($this->w-$TableWidth)/2,0);
    elseif($align=='R')
        $this->TableX=max($this->w-$this->rMargin-$TableWidth,0);
    else
        $this->TableX=$this->lMargin;
}

function AddCol($field=-1,$width=-20,$caption='',$align='L')
{
    //Add a column to the table
    if($field==-1)
        $field=count($this->aCols);
    $this->aCols[]=array('f'=>$field,'c'=>$caption,'w'=>$width,'a'=>$align);
}

function Table($query,$prop=array())
{
    //Issue query
    $res=mysql_query($query) or die('Error: '.mysql_error()."<BR>Query: $query");
    //Add all columns if none was specified
    if(count($this->aCols)==0)
    {
        $nb=mysql_num_fields($res);
        for($i=0;$i<$nb;$i++)
            $this->AddCol();
    }
    //Retrieve column names when not specified
    foreach($this->aCols as $i=>$col)
    {
        if($col['c']=='')
        {
            if(is_string($col['f']))
                $this->aCols[$i]['c']=ucfirst($col['f']);
            else
                $this->aCols[$i]['c']=ucfirst(mysql_field_name($res,$col['f']));
        }
    }
    //Handle properties
    if(!isset($prop['width']))
        $prop['width']=0;
    if($prop['width']==0)
        $prop['width']=$this->w-$this->lMargin-$this->rMargin;
    if(!isset($prop['align']))
        $prop['align']='C';
    if(!isset($prop['padding']))
        $prop['padding']=$this->cMargin;
    $cMargin=$this->cMargin;
    $this->cMargin=$prop['padding'];
    if(!isset($prop['HeaderColor']))
        $prop['HeaderColor']=array();
    $this->HeaderColor=$prop['HeaderColor'];
    if(!isset($prop['color1']))
        $prop['color1']=array();
    if(!isset($prop['color2']))
        $prop['color2']=array();
    $this->RowColors=array($prop['color1'],$prop['color2']);
    //Compute column widths
    $this->CalcWidths($prop['width'],$prop['align']);
    //Print header
    $this->TableHeader();
    //Print rows
    $this->SetFont('Arial','',11);
    $this->ColorIndex=0;
    $this->ProcessingTable=true;
    while($row=mysql_fetch_array($res))
        $this->Row($row);
    $this->ProcessingTable=false;
    $this->cMargin=$cMargin;
    $this->aCols=array();
}
}

class PDF extends PDF_MySQL_Table
{
function Header()
{

    $this->SetFont('Arial','',18);
    $this->Cell(0,6,'All Products',0,1,'C');
    $this->Ln(10);

    parent::Header();
}
}
$pdf=new PDF();
$pdf->AddPage();

 $pdf->Table($query);

$pdf->Output();

?> 
```

# c++ - 如何在从 ORIGINAL-IMAGE 提取的 SUB-IMAGE 中执行模板匹配过程并在原始图像中显示结果

> ID：15492794
> 
> 赞同：5
> 
> 时间：2013-03-19T06:22:56.880
> 
> 标签：c++, c, opencv, image-processing, template-matching

一整天，我尝试了很多方法来获取 sub-Image 中的所有相关匹配项（使用 matchtemplate 函数），这是我已经使用 mousecallback 函数从原始图像中提取的 ROI。所以我的代码在下面的 Matchingfunction

```
 ////Matching Function
void CTemplate_MatchDlg::OnBnTemplatematch()
 {

  namedWindow("reference",CV_WINDOW_AUTOSIZE);    
   while(true)
   { 

 Mat ref = imread("img.jpg");                    //  Original Image   
 mod_ref = cvCreateMat(ref.rows,ref.cols,CV_32F);// resizing the image to fit in picture box
 resize(ref,mod_ref,Size(),0.5,0.5,CV_INTER_AREA);

   Mat tpl =imread("Template.jpg"); // TEMPLATE IMAGE  

  cvSetMouseCallback("reference",find_mouseHandler,0);

  Mat aim=roiImg1.clone(); // SUB_IMAGE FROM ORIGINALIMAGE                   
                               // aim variable contains the ROI matrix
                               // next, want to perform template matching in that ROI                                                //                                     and display results on original image 

     if(select_flag1 == 1)
    {

        // imshow("ref",aim);

        Mat res(aim.rows-tpl.rows+1, aim.cols-tpl.cols+1,CV_32FC1);
                    matchTemplate(aim, tpl, res, CV_TM_CCOEFF_NORMED);
        threshold(res, res, 0.8, 1., CV_THRESH_TOZERO);

     while (1) 
   {
    double minval, maxval, threshold = 0.8;
    Point minloc, maxloc;
    minMaxLoc(res, &minval, &maxval, &minloc, &maxloc);

   //// Draw Bound boxes for detected templates in sub matrix

    if (maxval >= threshold)
     {
        rectangle(
            aim, 
            maxloc, 
            Point(maxloc.x + tpl.cols, maxloc.y + tpl.rows), 
            CV_RGB(0,255,0), 1,8,0
        );
        floodFill(res, maxloc, cv::Scalar(0), 0, cv::Scalar(.1), cv::Scalar(1.));
          }else
        break;
        }
     }
            ////Bounding box for ROI  selection with mouse

      rectangle(mod_ref, rect2, CV_RGB(255, 0, 0), 1, 8, 0);  // rect2 is ROI 
                       // my idea is to get all the matches in ROI with bounding boxes
                       // no need to mark any matches outside the ROI  
                       //Clearly i want to process only ROI  

    imshow("reference", mod_ref); // show the image with the results 
    waitKey(10);
    }
 //cvReleaseMat(&mod_ref);
 destroyWindow("reference");

}

/// ImplementMouse Call Back

void find_mouseHandler(int event, int x, int y, int flags, void* param)

{
if (event == CV_EVENT_LBUTTONDOWN && !drag)
{
    /* left button clicked. ROI selection begins*/
    point1 = Point(x, y);
    drag = 1;

}

if (event == CV_EVENT_MOUSEMOVE && drag)
{
    /* mouse dragged. ROI being selected*/ 
    Mat img3 = mod_ref.clone();
    point2 = Point(x, y);
    rectangle(img3, point1, point2, CV_RGB(255, 0, 0), 1, 8, 0);
    imshow("reference", img3);

    //  
}

if (event == CV_EVENT_LBUTTONUP && drag)
{

    Mat img4=mod_ref.clone();
            point2 = Point(x, y);
    rect1 = Rect(point1.x,point1.y,x-point1.x,y-point1.y);
            drag = 0;
    roiImg1 = mod_ref(rect1);  //SUB_IMAGE MATRIX
        imshow("reference", img4);
}

if (event == CV_EVENT_LBUTTONUP)
{
   /* ROI selected */
    select_flag1 = 1;
    drag = 0;
}
} 
```

构建和调试过程成功完成。但是，当我单击对话框中的“匹配”按钮时，出现错误：

```
Unhandled exception at 0x74bf812f in Match.exe: Microsoft C++ exception: cv::Exception at memory location 0x001ae150.. 
```

所以我的想法是在与模板图像比较时获取子图像中的所有匹配项，并在原始图像本身中显示最终结果（与边界框匹配）。

任何人都在这方面帮助我！帮助将不胜感激！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-25T01:18:10.240

我下面的代码是对OpenCV 提供的[原始教程的](http://docs.opencv.org/doc/tutorials/imgproc/histograms/template_matching/template_matching.html)*修改。*

它**从命令行加载图像**并将其显示在屏幕上，以便**用户可以在某处绘制一个矩形**来选择子图像作为模板。完成该操作后，子图像将位于**绿色矩形**内：

![](../Images/2f45afb8dab450065cd6cd789753cbb7.png)

**按任意键**让程序执行模板匹配。出现一个名为“*模板匹配：* ”的新窗口，显示原始图像和一个显示匹配区域的**蓝色矩形：**

![](../Images/e8f2adb82c088897ee27e4127dd3e2ff.png)

```
#include <cv.h>
#include <highgui.h>
#include <iostream>

const char* ref_window = "Draw rectangle to select template";
std::vector<cv::Point> rect_points;

void mouse_callback(int event, int x, int y, int flags, void* param)
{
    if (!param)
        return;

    cv::Mat* ref_img = (cv::Mat*) param;

    // Upon LMB click, store the X,Y coordinates to define a rectangle.
    // Later this info is used to set a ROI in the reference image.
    switch (event)
    {
        case CV_EVENT_LBUTTONDOWN:
        {
            if (rect_points.size() == 0)
                rect_points.push_back(cv::Point(x, y));
        }
        break;

        case CV_EVENT_LBUTTONUP:
        {
            if (rect_points.size() == 1)
                rect_points.push_back(cv::Point(x, y));
        }
        break;

        default:
        break;
    }

    if (rect_points.size() == 2)
    {
        cv::rectangle(*ref_img, 
                      rect_points[0], 
                      rect_points[1], 
                      cv::Scalar(0, 255, 0),
                      2);

        cv::imshow(ref_window, *ref_img);
    }
}

int main(int argc, char* argv[])
{
    if (argc < 2)
    {
        std::cout << "Usage: " << argv[0] << " <image>" << std::endl;
        return -1;
    }

    cv::Mat source = cv::imread(argv[1]);   // original image
    if (source.empty())
    {
        std::cout << "!!! Failed to load source image." << std::endl;
        return -1;
    }

    // For testing purposes, our template image will be a copy of the original.
    // Later we will present it in a window to the user, and he will select a region 
    // as a template, and then we'll try to match that to the original image.

    cv::Mat reference = source.clone(); 

    cv::namedWindow(ref_window, CV_WINDOW_AUTOSIZE);
    cv::setMouseCallback(ref_window, mouse_callback, (void*)&reference);

    cv::imshow(ref_window, reference);
    cv::waitKey(0);

    if (rect_points.size() != 2)
    {
        std::cout << "!!! Oops! You forgot to draw a rectangle." << std::endl;
        return -1;
    }

    // Create a cv::Rect with the dimensions of the selected area in the image
    cv::Rect template_roi = cv::boundingRect(rect_points);

    // Create THE TEMPLATE image using the ROI from the rectangle
    cv::Mat template_img = cv::Mat(source, template_roi);

    // Create the result matrix
    int result_cols =  source.cols - template_img.cols + 1;
    int result_rows = source.rows - template_img.rows + 1;
    cv::Mat result;

    // Do the matching and normalize
    cv::matchTemplate(source, template_img, result, CV_TM_CCORR_NORMED);
    cv::normalize(result, result, 0, 1, cv::NORM_MINMAX, -1, cv::Mat());

    /// Localizing the best match with minMaxLoc
    double min_val = 0, max_val = 0; 
    cv::Point min_loc, max_loc, match_loc;
    int match_method = CV_TM_CCORR_NORMED;
    cv::minMaxLoc(result, &min_val, &max_val, &min_loc, &max_loc, cv::Mat());

    // When using CV_TM_CCORR_NORMED, max_loc holds the point with maximum 
    // correlation.
    match_loc = max_loc; 

    // Draw a rectangle in the area that was matched
    cv:rectangle(source, 
                 match_loc, 
                 cv::Point(match_loc.x + template_img.cols , match_loc.y + template_img.rows), 
                 cv::Scalar(255, 0, 0), 2, 8, 0 );

    imshow("Template Match:", source);
    cv::waitKey(0);

    return 0;
} 
```

# android - 停止在 webViewClient 中加载

> ID：15492795
> 
> 赞同：11
> 
> 时间：2013-03-19T06:22:58.503
> 
> 标签：android, webview, webviewclient

在我的 WebView 中，标题中有多个链接。在离线模式下，我不允许重新加载页面并保持该页面不变，然后通知用户有关互联网连接的信息。`shouldOverrideUrlLoading`如果我单击其他链接，我可以在加载之前捕获链接。但是，如果我单击相同的链接，`shouldOverrideUrlLoading`则不会被触发，而是`onLoadResource`首先调用方法。在我尝试过的那个方法中`webView.stopLoading();`，它继续工作并触发`onReceivedError`方法并在页面上显示错误报告。

这是我的网络客户端：

```
webView.setWebViewClient(new WebViewClient() {

        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url) {
            if(MyApplication.getInstance().isOnline()) {
                return false;
            }

            Toast.makeText(getApplicationContext(), "Please check Internet connection and try again.", Toast.LENGTH_SHORT).show();
            return true;
        }

        @Override
        public void onPageStarted(WebView view, String url, Bitmap favicon) {
            Log.i("ON_PAGE_START", "RUNNING ============>" + url);
            if (MyApplication.getInstance().isOnline()) {
                super.onPageStarted(view, url, favicon);
            } else {
                webView.stopLoading();
            }
        }

        @Override
        public void onLoadResource(WebView view, String url) { 

            if (MyApplication.getInstance().isOnline()) {
                super.onLoadResource(view, url);
            } else {
                webView.stopLoading();                  
            }
        }

        @Override
        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {               

            view.stopLoading();

            Toast.makeText(getApplicationContext(), "Please check Internet connection and try again.", Toast.LENGTH_SHORT).show();
            super.onReceivedError(view, errorCode, description, failingUrl);    
        }
    }); 
```

我想要的是能够确保在离线时不会触发 url 并通知它。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-29T14:13:29.567

这是一个已知问题，并且报告了一个错误。 [http://code.google.com/p/android/issues/detail?id=2887](http://code.google.com/p/android/issues/detail?id=2887)

已经提出了许多解决方法。例如

1.  [覆盖 onPageStarted](http://www.catchingtales.com/android-webview-shouldoverrideurlloading-and-redirect/416/)
2.  通过 CommonsWare[添加 JavascriptInterface](https://stackoverflow.com/a/5129877/2107118)
3.  [禁用 WebView 触摸事件](https://stackoverflow.com/a/3856199/2107118)

此外，注册 BroadcastReceiver 以侦听网络状态更改并在连接丢失时应用解决方法。 [网络监听器 Android](https://stackoverflow.com/questions/1783117/network-listener-android)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-07-03T09:04:50.730

我认为在 onLoadRessource(..) 和 onPageStarted() 中应该进一步

```
view.stopLoading(); 
```

在你的 else{..}

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-04-29T08:14:08.623

我知道这是一个相当老的帖子，但感谢这个帖子，这帮助我解决了这个问题！！！

我有一个类似的问题，stopLoading 解决了我的问题:)

shouldOverrideUrlLoading 被调用，如果它进入一个新页面或者如果有一个重定向，但不是像点击 iframe 等。我想在我的应用程序中实现类似的行为，我意识到 onPageStarted 被调用，但不应该 OverrideUrlLoading。

我没有覆盖 onLoadResource 而是只覆盖 onPageStarted，因为 onLoadResource 在 onPageStarted 之后被调用。OnPageStarted 检查是否离线并且在这种情况下不加载。希望这可以帮助某人。

# excel - 如何使用 Excel 2003 VBA 获取文件的用户权限？

> ID：15492799
> 
> 赞同：0
> 
> 时间：2013-03-19T06:23:19.610
> 
> 标签：vba, excel, vba, file-permissions

我对[vba](/questions/tagged/vba "显示标记为“vba”的问题")很陌生，我的任务是列出给定文件夹中的文件以及对每个文件具有权限的用户。

*   我能够获取文件夹中的文件名，
*   但我不知道如何获取具有权限的用户列表。

我正在使用excel 2003。

我发现这段代码将“每个人”添加到文件夹的权限中：

> '在权限函数中添加所有人 SetPermissions() Dim strHomeFolder, strHome, strUser Dim intRunError, objShell, objFSO
> 
> ```
> strHomeFolder = "C:\Test"
> 
> Set objShell = CreateObject("Wscript.Shell")
> Set objFSO = CreateObject("Scripting.FileSystemObject")
> If objFSO.FolderExists(strHomeFolder) Then
>     intRunError = objShell.Run("%COMSPEC% /c Echo Y| cacls " _
>     & strHomeFolder & " /e /c /g everyone:F ", 2, True)
> 
>     If intRunError <> 0 Then
>         Wscript.Echo "Error assigning permissions for user " _
>         & strUser & " to home folder " & strHomeFolder
>     End If
> End If End Function 
> ```

但是，我不知道如何修改代码以返回指定文件夹授予的当前权限。我也想对指定的文件执行此操作。我真的很感激任何帮助。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:10:38.550

要获取文件的所有者，此功能可能会帮助您：

```
Function GetFileOwner(fileDir As String, fileName As String) As String
Dim secUtil As Object
Dim secDesc As Object
Set secUtil = CreateObject("ADsSecurityUtility")
Set secDesc = secUtil.GetSecurityDescriptor(fileDir & fileName, 1, 1)
GetFileOwner = secDesc.owner
End Function 
```

# error-handling - firebug 显示网络错误

> ID：15492800
> 
> 赞同：1
> 
> 时间：2013-03-19T06:23:22.090
> 
> 标签：error-handling, firebug

我在谷歌搜索但找不到解决方案。

当我现在处理我的项目时，firebug 会显示 4 个类似这样的错误。

```
"NetworkError: 404 Not Found - http://localhost/LankaInstitute/images/profile.jpg"

profile.jpg

"NetworkError: 404 Not Found - http://localhost/LankaInstitute/images/premium-%20tag.png"

premium- tag.png

"NetworkError: 404 Not Found - http://localhost/LankaInstitute/images/profile.jpg"

profile.jpg

"NetworkError: 404 Not Found - http://localhost/LankaInstitute/images/premium-%20tag.png"

premium- tag.png

"CSS Usage: initializing extensions"

"NetworkError: 404 Not Found - http://localhost/LankaInstitute/images/profile.jpg"

profile.jpg

"NetworkError: 404 Not Found - http://localhost/LankaInstitute/images/premium-%20tag.png"

premium- tag.png

"NetworkError: 404 Not Found - http://localhost/LankaInstitute/images/profile.jpg"

profile.jpg

"NetworkError: 404 Not Found - http://localhost/LankaInstitute/images/premium-%20tag.png"

premium- tag.png

"CSS Usage: initializing extensions"

"NetworkError: 404 Not Found - http://localhost/LankaInstitute/images/premium-%20tag.png"

premium- tag.png

"NetworkError: 404 Not Found - http://localhost/LankaInstitute/images/profile.jpg" 
```

谁能告诉我这是什么意思，我该如何解决？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:28:34.327

404 或 Not Found 错误消息是一个 HTTP 标准响应代码，表示客户端能够与服务器通信，但服务器找不到请求的内容。404 错误不应与“找不到服务器”或类似错误相混淆，在这些错误中，根本无法连接到目标服务器。另一个类似的错误是“410: Gone”，表示请求的资源已被故意删除，将不再可用。404 错误表明请求的资源将来可能可用。当通过 HTTP 进行通信时，服务器需要响应请求，例如 Web 浏览器对 HTML 文档（网页）的请求，带有数字响应代码和可选的、强制的或不允许的（基于状态代码）信息。在代码 404 中，第一个“4”表示客户端错误，例如输入错误的 URL。以下两位数字表示遇到的具体错误。HTTP 对三位数代码的使用类似于早期协议（如 FTP 和 NNTP）中对此类代码的使用。

*[您可以在此处](http://www.prestashop.com/blog/en/404-not-found-error-how-to-fix-it/)了解如何修复错误也请检查 png 图像是否在 corrct 文件夹中*

# php - PDO 没有绑定 PostgreSQL 查询

> ID：15492809
> 
> 赞同：0
> 
> 时间：2013-03-19T06:23:54.430
> 
> 标签：php, postgresql, pdo, prepared-statement

我正在使用 PDO 使用 PostgreSQL 开发应用程序。问题是绑定起作用`PDOStatement::bindValue`并且`PDOStatement::bindParam`根本不起作用。

我有以下代码：

```
<?php

    try{

        $db = new PDO("pgsql:dbname=test;host=localhost", "user", "password");

        $all = '*';
        $sql = $db->prepare("SELECT :all FROM schema.table");
        $sql->bindValue(':all', $all);

        var_dump($sql->queryString);
        var_dump($sql->execute());

    }

    catch(PDOException $e){
        print $e->getMessage();

    }

?> 
```

我只是无法理解原因`$sql->queryString`的价值仍然是`SELECT :all FROM schema.table`，因为它`var_dump()`在这里。

`PDOStatement::bindParam`做同样的事情。

有小费吗？

**编辑**：此查询仅用于调试目的！请不要关心查询本身，而是在不绑定的方法中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:25:50.863

准备好的语句不是那样工作的。您只能绑定值，不能绑定实体。

就您的陈述而言，您正在执行 query `SELECT '*' FROM schema.table`，*Not*，`SELECT * FROM schema.table`

如果你想要可变实体（这意味着大约 80% 的时间存在设计缺陷），你将不得不求助于字符串插值（或连接——你明白了）。

# c# - EF 类上下文

> ID：15492810
> 
> 赞同：0
> 
> 时间：2013-03-19T06:23:57.593
> 
> 标签：c#, entity-framework

我有 Microsoft VS 2010。在 C# 中用于从数据库中检索数据我使用 Ado.Net 实体数据模型。这是实体框架吗？我在许多文章中看到实体框架创建的上下文是从 dbContext 派生的，但在我的项目中，上下文是从 ObjectContext 派生的。那么，什么是EF？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:46:55.537

EF 4.0（它是 .net 框架的一部分）`System.Data.Entities.ObjectContext`从 EF 4.3（它是开源项目，不是框架的一部分）开始使用`System.Data.Entities.DbContext`.

两者都是EntityFramework。一个比较新。两者都在幕后使用 ADO.NET。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:53:19.083

是的，它是实体框架。但是，上下文应该从[ObjectContext](http://msdn.microsoft.com/en-us/library/vstudio/system.data.objects.objectcontext%28v=vs.100%29.aspx)派生。[对象](http://msdn.microsoft.com/en-us/library/vstudio/dd412719%28v=vs.100%29.aspx)集

> 表示用于执行创建、读取、更新和删除操作的类型化实体集。它是在 .NET 4.0 中引入的

您还可以查看[此](http://msdn.microsoft.com/en-us/library/vstudio/ee473442%28v=vs.100%29.aspx)内容以获取有关对象集的更多信息。

# html - Facebook 小部件不显示

> ID：15492813
> 
> 赞同：0
> 
> 时间：2013-03-19T06:24:20.623
> 
> 标签：html, facebook, widget

我想在我的 HTML 表单中放置一个 Facebook 小部件，并且我完全按照它应该做的那样做，但它没有出现在我的网站中。

Facebook 告诉我：

1.  在您的页面上包含一次 JavaScript SDK，最好是在开始`<body>`标记之后：

    `<div id="fb-root"></div> <script>(function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/es_LA/all.js#xfbml=1"; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk'));</script>`

2.  将插件代码放置在您希望插件出现在页面上的任何位置。

`<div class="fb-like-box" data-href="https://www.facebook.com/Queen" data-width="250" data-height="500" data-show-faces="true" data-stream="true" data-border-color="#97BB55" data-header="false"></div>`

我的 HTML 表是这样的：

```
<html>

<head>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link href='http://fonts.googleapis.com/css?family=Cedarville+Cursive' rel='stylesheet' type='text/css'>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="script.js"></script>
    <script type="text/javascript"></script>
</head>

<body>
    <div id="fb-root"></div>
<script>(function(d, s, id) {
 var js, fjs = d.getElementsByTagName(s)[0];
 if (d.getElementById(id)) return;
 js = d.createElement(s); js.id = id;
 js.src = "//connect.facebook.net/es_LA/all.js#xfbml=1";
 fjs.parentNode.insertBefore(js, fjs);
 }(document, 'script', 'facebook-jssdk'));</script>
    <div id="dprenav">

        <p id="prenav">Olive</p>

        <div>
            <a id="twlogo" href="https://twitter.com/JuliDAlessandro" target="_blank" ><img id="imgtwlogo" src="bird_gray_48.png"></a>
        </div>

        <div>
            <a id="fblogo" href="http://www.facebook.com" target="_blank"><img id="imgfblogo" src="f_logo.png"></a>
        </div>

        <div>
            <a id="right-corner" href="http://www.youtube.com" target="_blank"><img id="cbanner"src="corner_banner.png"></a>
        </div>

    </div>

    <div id="barmenu">

        <a id="barmenu1" href="#">Home</a>
        <a id="barmenu2" href="products.html">Products</a>

    </div>

    <div id="bleft">

        <p>asdasdasdada</p>
        <div class="fb-like-box" data-href="https://www.facebook.com/Queen" data-width="250" data-height="500" data-show-faces="true" data-stream="true" data-border-color="#97BB55" data-header="false"></div>

    </div>

    <div id="barticle">

        <p>asdasdasdsa</p>

    </div>

</body>

</html> 
```

我认为这没关系，但它没有显示在我的网站上。你能告诉我有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-12T00:48:59.567

在搜索了我的 Facebook 页面小部件为什么不会出现在我的网站上的答案后，我来到了这里。所以这里是其他人的答案......

1.  您会注意到您没有在遇到此问题的浏览器上“登录”到 Facebook。使用同一浏览器登录 Facebook 后，您将看到该小部件显示在您的网站上，但这仍然是不可接受的，因为并非所有客户或网站访问者在到达时都会“登录”。因此，为了确保每个人都可以看到您的 Facebook 页面小部件，无论是否登录，请阅读下面的 #2...

2.  以 Facebook 主页管理员身份登录 Facebook。转到您尝试使用小部件显示的 FB 页面。进入您的 Facebook 页面后，单击管理面板顶部的“编辑页面”。然后点击“编辑设置”。然后，在设置页面...找到标题为“国家限制”的字段。您需要确保在此设置中绝对没有列出任何国家/地区。如果您的页面仅限于“美国”，您需要将其删除并重新保存设置。

从设置页面的“国家/地区限制”区域中删除所有国家/地区后，无论是否登录 Facebook，您的小部件都应该出现在您的网站上。问题解决了。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-19T02:11:54.263

您的计算机可能无法访问 Facebook（例如，使用受控/阻止的计算机、使用在工作中阻止 Facebook 的计算机或使用防火墙/代理），这可能是导致问题的原因。我有一个由我父母控制的帐户（我是一个非常沉迷的游戏玩家），并且 Facebook 无法连接。我将上面的小部件复制并粘贴到我的代码中，但正如预期的那样，它没有工作。

由于 JS 文件连接到 Facebook 上的页面，因此无法访问 Facebook 将不允许浏览器检索 JS 文件。

刚刚在 JSFiddle 上做到了。对我来说工作得很好。

# oracle - 安装osb后，windows7无法运行config.exe创建域

> ID：15492814
> 
> 赞同：0
> 
> 时间：2013-03-19T06:24:32.817
> 
> 标签：oracle, weblogic, soa, osb

我是 weblogic 的新手，目前正在尝试学习它。我已经安装了 weblogic 11.1.1.5.0、Oracle XE，并且还创建了一个模式。但是，当我安装 osb 时，我无法运行 config.exe (directory:)`C:\oracle\Middleware\home_11gR1\wlserver_10.3\common\bin`来创建域。我的电脑是Windows7 64位。我尝试以`config.exe`管理员身份运行，但没有响应。

此外，在开始菜单中，当我单击 Oracle OSB 11g - Home1 文件夹中的 config.exe 或卸载快捷方式时，它只是说我没有访问权限。

当我安装 SOA 时，我也遇到了像 OSB 一样的问题。我在其他运行windows XP的PC上安装了这些软件，没有问题！

这是我需要安装的软件

*   WebLogic 11.1.1.5.0
*   甲骨文快捷版
*   苏亚 11.1.1.3.0
*   osb 11.1.1.3.0

所以有人可以帮忙吗？提前致谢。

丹尼尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T11:11:07.603

你有管理员权限吗？如果是这样，您可以尝试右键单击并选择“以管理员身份运行”吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-21T09:40:41.240

从 \wlserver_10.3\common\bin 运行 config.cmd。

如果它不起作用，它应该显示一个错误来指出原因。

# sitecore - TDS 获取站点核心项目超时

> ID：15492818
> 
> 赞同：3
> 
> 时间：2013-03-19T06:24:44.140
> 
> 标签：sitecore, tds

我继承了一个 Sitecore 项目，并试图将 TDS [Get Sitecore Items] 与一个新的 TDS 项目一起使用，但是我遇到了以下错误。在错误说之前我收到警告是不值得的

**旧连接器**

```
---------------------------
Hedgehog Development TDS
---------------------------
Warning: The version of the sitecore connector is from an older version of TDS.

Click OK to install the latest version of the connector. 
```

但是，我什至手动删除了 Sitecore 连接器，所以我不确定它为什么也检测到旧版本。

**获取 Sitecore 项目错误**

```
---------------------------
Hedgehog Development TDS
---------------------------
Error The request channel timed out while waiting for a reply after 00:01:59.9912110\. Increase the timeout value passed to the call to Request or increase the SendTimeout value on the Binding. The time allotted to this operation may have been a portion of a longer timeout.(TimeoutException) getting sitecore items.

Server stack trace: 
   at System.ServiceModel.Channels.RequestChannel.Request(Message message, TimeSpan timeout)
   at System.ServiceModel.Dispatcher.RequestChannelBinder.Request(Message message, TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannel.Call(String action, Boolean oneway, ProxyOperationRuntime operation, Object[] ins, Object[] outs, TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(IMethodCallMessage methodCall, ProxyOperationRuntime operation)
   at System.ServiceModel.Channels.ServiceChannelProxy.Invoke(IMessage message)

Exception rethrown at [0]: 
   at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg)
   at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData& msgData, Int32 type)
   at HedgehogDevelopment.SitecoreProject.VSIP.SitecoreConnector.TdsServiceSoap.CheckAccessGuid(CheckAccessGuidRequest request)
   at HedgehogDevelopment.SitecoreProject.VSIP.SitecoreConnector.TdsServiceSoapClient.HedgehogDevelopment.SitecoreProject.VSIP.SitecoreConnector.TdsServiceSoap.CheckAccessGuid(CheckAccessGuidRequest request)
   at HedgehogDevelopment.SitecoreProject.VSIP.SitecoreConnector.TdsServiceSoapClient.CheckAccessGuid(String accessGuid)
   at HedgehogDevelopment.SitecoreProject.VSIP.Utils.Support.GetTdsServiceSoapClient(SitecoreProjectNode project, Boolean checkVersion)
   at HedgehogDevelopment.SitecoreProject.VSIP.Dialogs.GetSitecoreItems.LoadSitecoreItemsIntoTree(TreeNodeCollection nodes, String sitecoreBrowsePath, SitecoreItemNode node, Boolean isRoot, Boolean getAllChildren)
   at HedgehogDevelopment.SitecoreProject.VSIP.Dialogs.GetSitecoreItems.GetSitecoreItems_Load(Object sender, EventArgs e) 
```

虽然我认为错误消息显示为 1:59 分钟，但该错误是即时的，并且在重试时会更改几个 MS。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T16:48:40.337

TDS 插件通过 WCF 与 Sitecore 通信。您可以在以下位置摆弄绑定配置：

**视觉工作室 2010**

“HedgehogDevelopment.SitecoreProject.VSIP.dll.config”和“HedgehogDevelopment.SitecoreProject.VSIP2010.dll.config”都位于“C:\Program Files (x86)\Hedgehog Development\Team Development for Sitecore (VS2010)”下

**视觉工作室 2012**

“HedgehogDevelopment.SitecoreProject.VSIP.dll.config”和“HedgehogDevelopment.SitecoreProject.VSIP2012.dll.config”都位于“C:\Program Files (x86)\Hedgehog Development\Team Development for Sitecore (VS2012)”下

我将所有四个配置文件保持同步，将所有与超时相关的值更改为 30 分钟，将所有与大小相关的值更改为“2147483647”（最大值）。

**保存以上文件后记得重启 Visual Studio。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T21:43:00.603

无论我更新了多少次连接器，“旧连接器”消息似乎总是会出现。我相当肯定这只是 IDE 插件中的一个错误，它在 Visual Studio 打开后第一次同步时需要让自己知道插件是最新的。我没有这方面的具体数据，但在初始同步后，它会停止向我发出有关连接器的警告。

关于超时，您可能想要验证 TDS 项目配置是否映射到您的环境（项目 URL、路径、数据库连接字符串）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T03:30:30.770

您可以浏览到 Sitecore 用户界面吗？我之前在 TDS 无法与 Sitecore 通信时看到过此错误。

在我们的案例中，问题在于该站点的应用程序池使用的是 2.0 框架而不是 4.0 框架。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-11T23:57:34.893

如果您的应用程序设置正确，则此异常是因为您的 SQL Server 服务未启动。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-03-15T17:02:41.227

我有同样的问题。对我来说，这是与数据库的连接问题。检查您的 TDS 连接设置:)。

# java - 将大文件发送到骆驼中的多播端点时出错

> ID：15492824
> 
> 赞同：0
> 
> 时间：2013-03-19T06:25:01.067
> 
> 标签：java, apache-camel

我面临一个需要向多播端点发送大文件的情况。我的路线如下。我正在尝试将 100 MB 或更多的单个文件从 abcd 端点发送到 xyz，从 xyz 发送到 efg 和测试队列。我可以将整个 100MB 从 abcd 发送到 xyz，但不能从 xyz 发送到 efg 和测试队列。它仅发送少量文件，多播路由中缺少其他文件。在 fuseesb 日志中也出现 3 种类型的错误：

```
1\. org.apache.camel.component.file.GenericFileOperationFailedException: Cannot store file: D:\xyz\samplebigfiles.txt at org.apache.camel.component.file.FileOperations.storeFile(FileOperations.java:264)[147:org.apache.camel.camel-core:2.10.0.fuse-71-047]

2\. Caused by: java.io.FileNotFoundException: D:\abcd\samplebigfiles.txt (The process cannot access the file because it is being used by another process)
    at java.io.FileInputStream.open(Native Method)[:1.6.0_22]

3\. java heap space error

<route>
  <from uri="file:///D:/abcd" />
   <to uri="file:///D:/xyz" />
</route>
<route>
  <from uri="file:///D:/xyz" />
    <multicast>
    <to uri="file://D:/efg" />
    <to uri="jms:queue:test" />
    </multicast>
</route> 
```

请建议我一些解决方案来解决它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T14:37:06.130

当您处理文件时，您需要考虑使用读锁定策略，以避免读取文件，而另一个进程正在写入文件等。请参阅 Camel 文件文档中的更多详细信息：http: [//camel.apache.org /文件2](http://camel.apache.org/file2)

而且您不应该通过 JMS 队列发送 100MB 的文件。消息传递不是为处理如此大的有效负载而设计的。例如，Apache ActiveMQ 有一个关于此的常见问题解答：http: [//activemq.apache.org/can-i-send-really-large-files-over-activemq.html](http://activemq.apache.org/can-i-send-really-large-files-over-activemq.html)

注意 Apache Camel 不支持 ActiveMQ 提供的特殊 BlobMessage 类型。虽然这个功能很少使用。它实现了带外存储文件，并使用 FTP 传输有效负载。

在传输如此大的有效载荷时谈到 FTP，使用 FTP / SCP 或其他一些方式可能会更好。Camels 有 FTP 和 SCP 组件：

*   [http://camel.apache.org/ftp2](http://camel.apache.org/ftp2)
*   [http://camel.apache.org/jsch.html](http://camel.apache.org/jsch.html)

# ruby-on-rails - 控制用户复选框的可见性

> ID：15492829
> 
> 赞同：0
> 
> 时间：2013-03-19T06:25:30.763
> 
> 标签：ruby-on-rails, redmine-plugins

我正在开发一个插件来扩展 redmine 的文件附件功能。

为此，我需要添加一个仅对具有特定角色的用户可见的复选框

我对红宝石完全是菜鸟。这是我在参考了一些其他插件和 redmine 文档后想到的。

在 plugins/myplugin/app/view/attachments/_form.html.erb

```
<% if view_private_attachment = User.current.allowed_to?(:view_private_attachments, @project) %>
<%= check_box_tag :private_attachment, true, false %>
<%= label_tag :private_attachment, 'Private Attachment', :style => 'font-weight:bold;' %>
    <% end %> 
```

在 plugins/myplugin/app/init.d

```
Redmine::Plugin.register :myplugin do
  name 'myplugin'
  author 'njan'
  description 'This is a plugin for Redmine'
  version '0.0.1'
  url 'http://example.com/path/to/plugin'
  author_url 'http://example.com/about'

project_module :issue_tracking do
 permission :view_private_attachments, { }

end
end 
```

复选框未显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:39:29.657

您可以根据您的条件使用复选框的禁用和只读属性。

```
<%= f.check_box :private_attachment, :disabled => true, :readonly => true %> 
```

# android - Android：如何捕捉软键盘的每一个触摸输入？

> ID：15492833
> 
> 赞同：1
> 
> 时间：2013-03-19T06:25:48.847
> 
> 标签：android, android-edittext

```
nameInput.setOnEditorActionListener(new OnEditorActionListener() {        
        public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {
            if (actionId == EditorInfo.????_?????_??????) {
                Integer inputLength2 = nameInput.getText().length();
                String realTimeText = inputLength2.toString();
                textView1.setText("Number of Characters: " + realTimeText);
            }
        return false;
        }
    }); 
```

nameInput 是 EditText 类型的对象。我想在 TextView 上实时显示从 EditText 创建的字符串的字符数。原理很简单，在我看来它会很好地工作（我需要做的就是“拦截”软键盘的字符，就像我在那里所做的那样），但问题是：

[http://developer.android.com/reference/android/view/inputmethod/EditorInfo.html](http://developer.android.com/reference/android/view/inputmethod/EditorInfo.html)

没有可用的常量，这可能意味着我需要做一些晦涩难懂的技巧来解决问题。你知道我该怎么做吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:28:28.500

使用`TextWatcher`：http: [//developer.android.com/reference/android/text/TextWatcher.html](http://developer.android.com/reference/android/text/TextWatcher.html)

您将收到有关输入的任何更改的通知。例子：

```
private TextWatcher textWatcher = new TextWatcher() {
    public void onTextChanged(CharSequence s, int start, int before, int count) {
        Integer inputLength2 = s.length();
        String realTimeText = inputLength2.toString();
        textView1.setText("Number of Characters: " + realTimeText);
    }

    public void afterTextChanged(Editable s) {}
    public void beforeTextChanged(CharSequence s, int start, int count, int after) {}
};

editText.addTextChangedListener(textWatcher); 
```

# jakarta-ee - Entitymanager 抛出 NullPointerException

> ID：15492844
> 
> 赞同：0
> 
> 时间：2013-03-19T06:26:08.593
> 
> 标签：jakarta-ee, nullpointerexception, entitymanager

我正在使用 Netbeans 开发 JavaEE 应用程序。实体管理器在应用程序中得到一个空值。em 没有被注入。仍然收到 nullPointerException，因为 em 在 createNamedQuery 中获得空值。谁能让我知道我错过了什么。

JSP 页面-index.jsp：

```
<%@page import="managed.userBean" %>
 <jsp:useBean id="bean" class="managed.userBean" scope="session" />
.....
<input type="submit" value="Submit" onclick="<jsp:scriptlet> bean.validate();</jsp:scriptlet>" /> 
```

用户Bean.java

```
package managed;

import java.io.Serializable;
import javax.ejb.EJB;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;
import session.UserFacade;

@ManagedBean
@SessionScoped

public class userBean implements Serializable {

private String uid, password,role,fname,lname;
private String response="" ;
@EJB
UserFacade userFacade;
....
public String validate() {
    System.out.println("in validate going to user facade:  " + uid + password);
    response = userFacade.validateUser(uid,password);
 .....
} 
```

UserFacade.java

```
package session;
import javax.ejb.EJB;
import javax.ejb.Stateless;
import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;

@Stateless

public class UserFacade extends AbstractFacade<User> {
@PersistenceContext (unitName = "ExamSysPU")
public EntityManager em;
String role;

@Override
protected EntityManager getEntityManager() {
    System.out.println("check if em is open");
    return em;
}

public UserFacade() {
    super(User.class);
}

    public String validateUser(String uid, String password) {
     ...
              List results = em.createNamedQuery("User.findByUid").setParameter("uid", uid).getResultList();
   ....
} 
```

持久性.xml：

```
 <?xml version="1.0" encoding="UTF-8"?>
  <persistence version="2.0" xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd">
   <persistence-unit name="ExamSysPU" transaction-type="JTA">
      <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider> 
     <jta-data-source>test</jta-data-source>
      <exclude-unlisted-classes>false</exclude-unlisted-classes>
      <properties/>
  </persistence-unit>
 </persistence> 
```

谢谢， 希尔帕

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T18:19:35.350

您的问题是由于您`UserBean`手动创建`<jsp:useBean>`的，而不是使用 JSF 为您创建和管理的那个（因此为您自动注入了所有必要的依赖项）。本质上，如果您*手动*创建和管理 bean，那么您还应该*手动*创建、管理和注入其依赖项。

不要再阅读那些有十年历史的 JSP 1.x 教程了。在 Java EE 6 天之后，它们不再适用，只会让您对正确的方法感到困惑。JSP 已被 Facelets (XHTML) 所取代。完成一些 JSF2/Facelets 教程。基本上，您的具体问题可以通过将 JSP 文件替换为至少具有以下内容的 Facelets 文件来解决：

```
<h:form>
    <h:commandButton value="Submit" action="#{bean.validate}" />
</h:form> 
```

### 也可以看看：

*   [我们的 JSF wiki 页面](https://stackoverflow.com/tags/jsf/info)- 包含一个 JSF2/Facelets Hello World 启动示例和几个指向健全的 JSF2 教程的链接

# json - 从嵌套的json加载并保存到extjs中的网格

> ID：15492846
> 
> 赞同：0
> 
> 时间：2013-03-19T06:26:34.153
> 
> 标签：json, extjs, grid, nested, associations

> 我有一个用于员工休假的嵌套 json，在其中我有休假历史记录和休假资格。我需要用 json 填充两个网格。我无法从 json 读取或写入它..请帮助...
> 
> 我的Json是...

```
 {

    "EmployeeLeaves": {
        "ID": 37,
        "LeaveEligibility": [
            {
                "Availed": 4,
                "Fullpaydays": 6,
                "Halfpaydays": 0,
                "ID": 1,
                "LeaveTypeId": 60,
                "PersonId": 37,
                "YearOfLeave": 2013
            },
            {
                "Availed": 2,
                "Fullpaydays": 6,
                "Halfpaydays": 0,
                "ID": 3,
                "LeaveTypeId": 61,
                "PersonId": 37,
                "YearOfLeave": 2013
            },
            {
                "Availed": 10,
                "Fullpaydays": 10,
                "Halfpaydays": 0,
                "ID": 4,
                "LeaveTypeId": 62,
                "PersonId": 37,
                "YearOfLeave": 2013
            },
            {
                "Availed": 0,
                "Fullpaydays": 8,
                "Halfpaydays": 0,
                "ID": 6,
                "LeaveTypeId": 63,
                "PersonId": 37,
                "YearOfLeave": 2013
            }
        ],
        "LeaveHistory": [
            {
                "AppliedTo": "Vibha",
                "ApprovalDate": "3/12/2013 12:00:00 AM",
                "ApprovedBy": 12,
                "Duration": 3,
                "FromDate": "3/24/2013 12:00:00 AM",
                "FullPayDays": 3,
                "HalfPayDays": 0,
                "ID": 1,
                "LeaveTypeId": 60,
                "LossOfPayDays": 0,
                "PersonId": 37,
                "Remarks": "onnulla",
                "StatusId": 79,
                "SubstitutePersonId": 13,
                "ToDate": "3/26/2013 12:00:00 AM"
            },
            {
                "AppliedTo": "Vibha",
                "ApprovalDate": "3/12/2013 12:00:00 AM",
                "ApprovedBy": 12,
                "Duration": 1,
                "FromDate": "3/30/2013 12:00:00 AM",
                "FullPayDays": 1,
                "HalfPayDays": 0,
                "ID": 2,
                "LeaveTypeId": 60,
                "LossOfPayDays": 0,
                "PersonId": 37,
                "Remarks": "onnulla",
                "StatusId": 79,
                "SubstitutePersonId": 13,
                "ToDate": "3/31/2013 12:00:00 AM"
            },
            {
                "AppliedTo": "Shyam",
                "ApprovalDate": "",
                "ApprovedBy": 0,
                "Duration": 2,
                "FromDate": "2/13/2013 12:00:00 AM",
                "FullPayDays": 2,
                "HalfPayDays": 0,
                "ID": 4,
                "LeaveTypeId": 61,
                "LossOfPayDays": 0,
                "PersonId": 37,
                "Remarks": "blha blah",
                "StatusId": 70,
                "SubstitutePersonId": 1,
                "ToDate": "2/14/2013 12:00:00 AM"
            },
            {
                "AppliedTo": "Shyam",
                "ApprovalDate": "2/13/2013 4:35:16 PM",
                "ApprovedBy": 2,
                "Duration": 5,
                "FromDate": "3/23/2013 12:00:00 AM",
                "FullPayDays": 5,
                "HalfPayDays": 0,
                "ID": 5,
                "LeaveTypeId": 62,
                "LossOfPayDays": 0,
                "PersonId": 37,
                "Remarks": "oh..",
                "StatusId": 71,
                "SubstitutePersonId": 1,
                "ToDate": "3/27/2013 12:00:00 AM"
            },
            {
                "AppliedTo": "Shyam",
                "ApprovalDate": "2/13/2013 4:35:16 PM",
                "ApprovedBy": 2,
                "Duration": 5,
                "FromDate": "3/28/2013 12:00:00 AM",
                "FullPayDays": 5,
                "HalfPayDays": 0,
                "ID": 6,
                "LeaveTypeId": 62,
                "LossOfPayDays": 0,
                "PersonId": 37,
                "Remarks": "oh..",
                "StatusId": 71,
                "SubstitutePersonId": 1,
                "ToDate": "3/29/2013 12:00:00 AM"
            }
        ],
        "PLavailedcount": 2
    }
   } 
```

> 我的模型和商店如下......

```
 Ext.define('custom.writer.Json', {
extend: 'Ext.data.writer.Json',
    getRecordData: function(record) {
        Ext.apply(record.data, record.getAssociatedData());
        return record.data;
    }
});
Ext.define('AM.store.LeaveRequest', {
extend: 'Ext.data.Store',
model: 'AM.model.leaverequest',
    autoLoad:true,
    proxy: {
    type: 'ajax',
    url:'ARSENAWeb/employeeleave.json?id=37',
    reader: {
        type: 'json',
        root: 'EmployeeLeaves'

    },
    writer:new custom.writer.Json({writeAllFields: true}),

  api: {
  read: 'ARSENAWeb/employeeleave.json?id=37',
  update: 'ARSENAWeb/employeeleave.json?id=37',
  create:'ARSENAWeb/employeeleave.json?id=37'
}}

});

Ext.define('AM.model.leaverequest', {
    extend: 'Ext.data.Model',
    fields: ['ID' ],
    idProperty: 'ID',
    autoSync:true,
    uses: ['AM.model.MLeaveHistory','AM.model.MLeaveStatus'],
    hasMany: {model: 'MLeaveHistory',model:'MleaveStatus'},

         save: function() { 
        var me = this; 

        if (me.persistAssociations) { 
            me.set( me.getAssociatedData() ); 
        } 
        me.callParent(arguments); 
    } 
});

Ext.define('AM.model.MLeaveHistory', {
    extend: 'Ext.data.Model',
   fields: [
               {name:'ApprovalDate'},
               {name:'ApprovedBy'},
               {name:'Duration'},
               {name:'FromDate'},
               {name:'FullPayDays'},
               {name:'HalfPayDays'},
               {name:'ID'},
               {name:'LeaveTypeId'},
               {name:'LossOfPayDays'},
               {name:'PersonId'},
               {name:'Remarks'},
               {name:'StatusId'},
               {name:'SubstitutePersonId'},
               {name:'ToDate'}
    ],
    belongsTo: 'AM.model.leaverequest'
});

Ext.define('AM.model.MLeaveStatus', {
    extend: 'Ext.data.Model',
   fields: [    {name:'Availed'},
                {name:'Fullpaydays'},
                {name:'Halfpaydays'},
                {name:'ID'},
                {name:'LeaveTypeId'},
                {name:'PersonId'},
                {name:'YearOfLeave'}
    ],
    belongsTo: 'AM.model.leaverequest'
}); 
```

> 我的控制器是

```
Ext.define('AM.controller.Users', {
    extend: 'Ext.app.Controller',
    stores: ['LType','SleaveHistory','SLeaveStatus',
             ],
    models: [
             'LeaveType','MLeaveHistory','MLeaveStatus'

            ],
 views: [

        'Leave.LeaveRequest','Leave.LeaveHistoryGrid','Leave.LeaveStatusGrid','Leave.HolidayList'
        ],

    init:  function() {
        this.control({
           'viewport >
            'LeaveLeaveRequest button[action=reset]': {
                click: this.resetForm
            },
            'LeaveLeaveRequest button[action=save]': {
                click: this.saveForm
            },
            'leaveleavehistorygrid actioncolumn': {
            itemclick: this.cancelLeave
            },
            'leaveleavehistorygrid': {
            itemdblclick: this.editLeave
            }

        });
    },

    resetForm: function(button){

        button.up('form').getForm().reset();
    },

    saveForm: function(button){

        var form = button.up('form').getForm();
        form.getValues(true);
        var fromDate =new Date( Ext.getCmp('startdate'));//.getValue();
        var endDate = new Date(Ext.getCmp('enddate'));
       // var nod=Ext.Date.parseDate(fromDate,'m')
       // Date.parseDate( String input, String format ) : Date
     // var nod=fromDate+endDate;
     var oneDay = 24*60*60*1000;
        var diffDays = Math.round(Math.abs((fromDate.getTime() - endDate.getTime())/(oneDay)));
        console.log(diffDays);
        if (form.isValid()){
        var record = form.getRecord();
        var values = form.getValues();

  // console.log(values);
   if(!record){
   var newRecord = new AM.model.leaverequest(values);
   this.getLeaveRequestStore().add(newRecord);
     }else {
   record.set(values);
   }}
    } ,
    cancelLeave: function (view, cell, rowIndex, colIndex, e, record, row) {

                Ext.Msg.confirm('Remove Qualification', 'Are you sure?', function (button) {
            if (button == 'yes') {
                var store = Ext.getStore('LeaveRequest');
               var newRecord = new AM.model.leaverequest(row);
               console.log(record);
               console.log(store);
               store.remove(record);
               store.sync();
            }
        }, this);

    }

      }); 
```

我的网格是：

```
 Ext.define('AM.view.Leave.LeaveHistoryGrid' ,{
        extend: 'Ext.grid.Panel',
        alias: 'widget.leaveleavehistorygrid',
        title: 'Leave History',
        store: 'LeaveRequest',
     xtype: 'cell-editing',
    plugins: [
        Ext.create('Ext.grid.plugin.RowEditing', {
            startEditByClick: function (){},
            onEnterKey: function (){}
        })
    ],

    initComponent: function() {
     this.cellEditing = new Ext.grid.plugin.CellEditing({
                clicksToEdit: 1
            });

     var required = '<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';

    this.columns= [

                {header: 'Leave Type',  dataIndex: 'LeaveTypeId',flex:1},
                {header: 'Start Date', dataIndex: 'FromDate',renderer: Ext.util.Format.dateRenderer('m/d/y'),flex:1,editor: {
                 xtype: 'datefield',
                 forceSelection : true,

                    minValue: '01/01/06',
                    disabledDays: [0, 6],
                     allowBlank       :false,
                    disabledDaysText: 'Plants are not available on the weekends'
                }},
                {header: 'End Date', dataIndex: 'ToDate',renderer: Ext.util.Format.dateRenderer('m/d/y'),flex:1, editor: {
                    xtype: 'datefield',
                    format: 'm/d/y',
                    minValue: '01/01/06',
                    disabledDays: [0, 6],
                    allowBlank       :false,
                    disabledDaysText: 'Plants are not available on the weekends'
                }},
                {header: 'No of Days', dataIndex: 'Duration',flex:1},
               // {header: 'Approval Status', dataIndex: 'leaveapprovalstatus',flex:1},
                {header: 'Descriptions', dataIndex: 'Remarks',flex:1},
                {header: 'Cancel Leave',flex:1,
                xtype: 'actioncolumn',
                width:30,
                action:'cancel',
                sortable: false,
                items: [{
                handler: function(view, cell, rowIndex, colIndex, e, record, row) {
                                        this.addEvents('itemclick');

                                  this.fireEvent('itemclick',view, cell, rowIndex, colIndex, e, record, row);

                               },
                    icon: 'ext-4.1.1a-gpl/ext-4.1.1a/docs/extjs/resources/themes/images/default/grid/page-first-disabled.gif',
                    tooltip: 'Cancel Leave'
                       }]
            }]

            this.callParent(arguments);
        }

    });

Ext.define('AM.view.Leave.LeaveStatusGrid' ,{
    extend: 'Ext.grid.Panel',
    alias: 'widget.leaveleavestatusgrid',
    title: 'Leave History',
    store: 'LeaveRequest',

    initComponent: function() {

this.columns= [
            {header: 'Type Of Leave',  dataIndex: 'typeofleave',flex:1},
            {header: 'Available', dataIndex: 'startdate',flex:1},
            {header: 'Availed', dataIndex: 'leaveavailed',flex:1},
            {header: 'Balance', dataIndex: 'leavebalance',flex:1}];

        this.callParent(arguments);
    }
}); 
```

> 我的表格

```
Ext.define('AM.view.Leave.LeaveRequest', {
    extend: 'Ext.form.Panel',
    alias: 'widget.LeaveLeaveRequest',
//    requires: [
//        'Ext.ux.form.MultiSelect',
//    ],

    title: 'Leave Request',
  //  frame:true,
  dockedItems: [{
  dock: 'top',
    xtype: 'toolbar',
    items: [ {
            text: 'Reset',
            action: 'reset'
        }, {
            text: 'Save',
            action: 'save'
        }]
 }],

   initComponent: function() {

   var required = '<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';

       // var value,value1;           

        this.items = [{xtype:'fieldset',
                       layout:'hbox',

        items:[{
             xtype:'container',
             layout:'anchor',

             items:[{
                        xtype:'textfield',
                        fieldLabel       : 'Type of Leave',
                        labelWidth:'130px',
                        allowBlank       :false,
                        afterLabelTextTp1:required
                    },{
//                        xtype:'checkbox',
//                        boxLabel: 'Half Day ',
//                        name: 'durationofleave',
//                        inputValue: 'halfday',
//                        uncheckedValue: 'fullday',
//                        allowBlank       :false,
//                        afterLabelTextTp1:required
//                       },{
                        xtype:'datefield',

                        //renderer: Ext.util.Format.dateRenderer('m/d/y'),
                        vtype:'daterange',
                        fieldLabel       : 'From Date',
                        labelWidth:'130px',
                        id:'FromDate',
                        afterLabelTextTpl: required,
                        name    : 'FromDate',
                        endDateField: 'ToDate',
                        //minValue: new Date(),
                        allowBlank       :false,
                        afterLabelTextTp1:required
                    },{
                        xtype:'datefield',
                        vtype:'daterange',
                        renderer: Ext.util.Format.dateRenderer('m/d/y'),
                        fieldLabel       : 'To Date',
                        id:'ToDate',
                        startDateField: 'FromDate',
                        labelWidth:'130px',
//                        onExpand: function() {
//                        var field = Ext.getCmp('startdate');
//                        value: field.getValue();
//                        value1 = this.getValue();
//                        console.log(value+value1);},
                       // minValue: new Date(getCmp('startdate')),//Ext.Date.add(new Date(), Ext.Date.DAY, 7) ,
                        afterLabelTextTpl: required,
                        name             : 'ToDate',

//                  change: function() {
//                        value = this.getValue('startdate')
//    //var value = this.getValue('startdate');
//   console.log(value);
//    //this.picker.setValue(Ext.isDate(value) ? value : new Date());
//},
                        allowBlank       :false,
                        afterLabelTextTp1:required
                    },{
                        xtype:'textfield',
                        fieldLabel       : 'Number of days',
                        labelWidth:'130px',
                        id: 'textfield-field',
                        afterLabelTextTpl: required,
                        name             : 'noofdays',
                        allowBlank       :false,
                        afterLabelTextTp1:required
                       },
                       { 
//                        xtype: 'multiselect',
//                        labelWidth:'130px',
//                        fieldLabel: 'Reporting Manager(s)',
//                        name: 'reportingmanager',
//                        id: 'multiselect-field',
//                        forceSelection : true,
//                        allowBlank: false,
//                        store: 'ReportingManager',
//                        mode: 'local',
//                        displayField: 'reportingmanager',
//                        valueField: 'value',
//                        ddReorder: true,
//                        afterLabelTextTp1:required
//                        },{
                        xtype:'textfield',
                        fieldLabel       : 'Reason',
                        labelWidth:'130px',
                        afterLabelTextTpl: required,
                        name             : 'reason',
                        allowBlank       :false,
                        afterLabelTextTp1:required
                       }]
       },{xtype:'container',width:'300px'},
               {
            xtype:'container',
            items:[{xtype:'leaveleavestatusgrid',
             store: 'LeaveRequest',
             height: 200,
             width: 500

                 }]

                       }]
       },{xtype:'fieldset',
             title:'Leave History',            
             items:[{xtype:'leaveleavehistorygrid',
             store: 'LeaveRequest',
             height: 300,
             width: '100%'

                 }]
                       }];

        this.callParent(arguments);
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T12:39:09.697

> 我的 json 有一点变化，花括号已被方括号替换

```
{
    "EmployeeLeaves": [
        {
            "ID": 0,
            "LeaveHistory": {
                "Duration": 2,
                "ApprovedBy": "shyam"
            },
            "PL": "'I don't care!' said the bear"
        }
    ]
} 
```

> 我的相同模型已更改为

```
Ext.define('AM.model.EMPLeaveRequest', {
    extend: 'Ext.data.Model',

        fields: [{
            name: 'ID'
        }, {
            name: 'Duration',
            mapping: 'LeaveHistory.Duration'
        }, {
            name: 'ApprovedBy',
            mapping: 'LeaveHistory.ApprovedBy'
        }],

        proxy: {
            type: 'ajax',
            batchActions: false,
            url: 'data/employeeleave.json',
            autoAppendParams: false,
            reader: {
                type: 'json',
                root: 'EmployeeLeaves',
                useSimpleAccessors: false
            }
        }

}); 
```

> 我的商店是

```
Ext.define('AM.store.EMPLeaveRequest', {
    extend: 'Ext.data.Store',
    model: 'AM.model.EMPLeaveRequest',
        autoLoad: true//,

}); 
```

不需要使用关联....但仅适用于一组数据:(

# android - 如何在主项目中使用外部库项目

> ID：15492853
> 
> 赞同：0
> 
> 时间：2013-03-19T06:27:05.867
> 
> 标签：android, shared-libraries

我正在使用在线充值应用程序，我想创建一个 Facebook 类型的滑出和滑入，我想使用外部项目。现在我想将两者联系起来。怎么做？我曾尝试将属性设置为外部项目“是库”，并在我的项目中添加了该库，但它显示了一个错误，例如主项目属性中库上的十字标记。现在要做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:41:20.070

在 Library 项目中，单击右键 -> 属性 -> Android -> 检查是库。

在您想要包含此项目的项目中，右键 -> 属性 -> Android -> 添加其他项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:44:29.177

尝试在同一个 Eclipse 工作区中移动源和库。可能正因为如此，它在图书馆显示红十字标记。

# sql - 使用 SQL Where 执行 AND OR 然后 AND 比较结果

> ID：15492856
> 
> 赞同：0
> 
> 时间：2013-03-19T06:27:14.137
> 
> 标签：sql, sql-server-2008, comparison

我需要执行一个搜索，首先查找两个变量（使用 or），然后我需要与使用 and 的变量进行比较。

所以这就是我基本上要按顺序完成的事情：

```
SELECT STUFF
  FROM TABLE
  WHERE Variable1 = 'value' 
    OR Variable2 = 'value2'
    AND Variable3 like '%value3%'
GO 
```

我本质上是先尝试**or**，然后从**or**语句的结果中，我只需要添加与 variable3**类似**的比较的结果。任何帮助，将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:32:49.937

简单的。

```
SELECT STUFF
  FROM TABLE
  WHERE (Variable1 = 'value' OR Variable2 = 'value2')
    AND Variable3 like '%value3%' 
```

请记住，括号优先。

# javascript - 有什么方法可以从 three.js Object3D 中获取边界框？

> ID：15492857
> 
> 赞同：57
> 
> 时间：2013-03-19T06:27:15.033
> 
> 标签：javascript, three.js

我正在使用 Three.js 和 OBJLoader.js 加载一个 OBJ 文件。这将返回一个 Three.Object3D 对象，该对象具有您对 3D 模型的期望（位置向量、上向量...）

我不知道如何获得它的边界框 - 这可能吗？

* * *

## 回答 #1

> 赞同：105
> 
> 时间：2014-10-04T02:27:31.450

您不需要遍历对象的所有子对象；库中有一种方法可以做到这一点`THREE.Box3#setFromObject`：：[请参阅文档](https://threejs.org/docs/#api/math/Box3)。例如，您可以这样做：

```
var bbox = new THREE.Box3().setFromObject(obj); 
```

得到 的边界框`obj`，包括它的所有孩子，并考虑任何平移、旋转等。

请注意，`BoundingBox`助手旨在在场景中绘制边界框，而不仅仅是计算某个对象的边界框。

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2014-05-09T01:45:49.377

如果您希望*对象出现在场景中*时的边界框位置和大小，请尝试使用 BoundingBoxHelper：

```
var helper = new THREE.BoundingBoxHelper(someObject3D, 0xff0000);
helper.update();
// If you want a visible bounding box
scene.add(helper);
// If you just want the numbers
console.log(helper.box.min);
console.log(helper.box.max); 
```

几何体`.boundingBox`上的 不考虑可能应用于父网格等的平移、旋转或缩放，我发现手动调整非常困难，但助手会为您完成。

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2013-03-19T07:02:25.643

对于任何形状，在其几何对象上，都有一个`boundingBox`属性。此属性包含一个`THREE.Box3`对象。该`Box3`对象由两个`THREE.Vector3`对象`min`和组成`max`。

```
var geometry = new THREE.CylinderGeometry(...);
var material = new THREE.LineBasicMaterial(...);
var mesh = new THREE.Mesh(geometry, material);

var boundingBox = mesh.geometry.boundingBox.clone();
alert('bounding box coordinates: ' + 
    '(' + boundingBox.min.x + ', ' + boundingBox.min.y + ', ' + boundingBox.min.z + '), ' + 
    '(' + boundingBox.max.x + ', ' + boundingBox.max.y + ', ' + boundingBox.max.z + ')' ); 
```

对于更复杂的形状，例如从[JSON 对象文件](https://github.com/mrdoob/three.js/wiki/JSON-Object-Scene-format-4)加载的形状，默认情况下未定义边界框属性。它必须显式计算。

```
var loader = new THREE.ObjectLoader();
loader.load(imagePath, function(object){

    geometry = object.children[0].children[0].geometry;  // substitute the path to your geometry

    geometry.computeBoundingBox();  // otherwise geometry.boundingBox will be undefined

    var boundingBox = geometry.boundingBox.clone();
    alert('bounding box coordinates: ' + 
        '(' + boundingBox.min.x + ', ' + boundingBox.min.y + ', ' + boundingBox.min.z + '), ' + 
        '(' + boundingBox.max.x + ', ' + boundingBox.max.y + ', ' + boundingBox.max.z + ')' );
} 
```

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2013-04-24T07:11:23.833

是的，你需要这样的东西：

```
if (object instanceof THREE.Object3D)
{
    object.traverse (function (mesh)
    {
        if (mesh instanceof THREE.Mesh)
        {
            mesh.geometry.computeBoundingBox ();
            var bBox = mesh.geometry.boundingBox;

            // compute overall bbox
            minX = Math.min (minX, bBox.min.x);
            minY = Math.min (minY, bBox.min.y);
            minZ = Math.min (minZ, bBox.min.z);
            maxX = Math.max (maxX, bBox.max.x);
            maxY = Math.max (maxY, bBox.max.y);
            maxZ = Math.max (maxZ, bBox.max.z);
        }
    });

    var bBox_min = new THREE.Vector3 (minX, minY, minZ);
    var bBox_max = new THREE.Vector3 (maxX, maxY, maxZ);
    var bBox_new = new THREE.Box3 (bBox_min, bBox_max);

    scene.add (object);
} 
```

**编辑：**

此方法在`BoundingBoxHelper()`or`BoxHelper()`可用之前

# google-app-engine - https 用于 GAE 上的自定义域

> ID：15492860
> 
> 赞同：0
> 
> 时间：2013-03-19T06:27:30.117
> 
> 标签：google-app-engine, https, google-apps

我正在尝试在自定义域上添加 https。我按照此说明[https://developers.google.com/appengine/docs/ssl](https://developers.google.com/appengine/docs/ssl) 上传 .cet 和 .key 后，出现以下问题：

![在此处输入图像描述](../Images/04476c0190fe1889602332ab96d064a1.png)

我无法在灰色区域中选择任何 URL。我应该先在某处添加网址吗？添加它的链接/位置在哪里？我已经尝试了谷歌应用程序中的每个链接。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T07:15:06.407

您需要先将您的子域映射到您的应用程序。请参阅：[https ://developers.google.com/appengine/docs/domain](https://developers.google.com/appengine/docs/domain)

# symfony - 级联关联

> ID：15492862
> 
> 赞同：0
> 
> 时间：2013-03-19T06:27:56.703
> 
> 标签：symfony

我正在尝试[嵌入表单集合](http://symfony.com/doc/2.1/cookbook/form/form_collections.html)，但在持久化新创建的对象时遇到了麻烦。

A`Customer`有很多`Email`s。在我的控制器中，

```
// CustomersController.php
$customer = new Customer();
$customer->setCreatedBy(0);

$blankEmail = new Email();
$customer->addEmail($blankEmail);

$form = $this->createForm(new CustomerType(), $customer); 
```

我确实记得在`Customer`课堂上设置了级联选项：

```
// Customer.php
...
/**
 * @ORM\OneToMany(targetEntity="Email", mappedBy="customer", cascade={"persist"})
 */
protected $emails; 
```

我的`Email`班级也有所需的信息：

```
// Email.php
...
/**
 * @ORM\ManyToOne(targetEntity="Customer", inversedBy="emails", cascade={"persist"})
 * @ORM\JoinColumn(name="customers_id", referencedColumnName="id")
*/
protected $customer; 
```

由于某种原因，这不起作用：

```
if ($request->isMethod('POST')) {
    $form->bind($request);
    if ($form->isValid()) {
        $em = $this->getDoctrine()->getManager();
        $em->persist($customer);
        $em->flush(); 
```

它可以添加客户，但是当它尝试添加电子邮件时，它说没有设置客户 ID。所以，我尝试了这个，它有效：

```
if ($request->isMethod('POST')) {
    $form->bind($request);
    if ($form->isValid()) {
        $em = $this->getDoctrine()->getManager();
        foreach ($customer->getEmails() as $email) 
            $email->setCustomer($customer);
            $em->persist($email);
        }
        $em->persist($customer);
        $em->flush(); 
```

但我真的很希望能够一举获得它，只需坚持`$customer`对象（据我所知）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T10:39:16.043

尝试更改 Customer 类中的默认“addEmail”方法。

此方法应如下所示：

```
public function addEmail($email)
{
  $email->setCustomer($this);
  $this->emails[] = $email;
  return $this;
} 
```

# java - Java 形状转换为 BufferedImage

> ID：15492864
> 
> 赞同：-1
> 
> 时间：2013-03-19T06:28:11.590
> 
> 标签：java, swing, graphics, awt, bufferedimage

我想在 JLabel 上制作矩形并将该矩形转换为 BufferedImage ......就像油漆店中的图层......拖动那个 BufferedImage 并调整大小......谁能帮忙

我已经这样做了，但是没有用

```
Rectangle2D rectangle2D;
                            BufferedImage bi = new BufferedImage(bimg.getWidth(), bimg.getHeight(), BufferedImage.TYPE_INT_RGB);
                            Graphics2D big = bi.createGraphics();
                            rectangle2D = new Rectangle2D.Float(eX, eY, sW, sH);
                            big.setStroke(new BasicStroke(5));
                            big.setColor(color);
                            shapePaint = new TexturePaint(bi, rectangle2D);
                            g2d.setPaint(shapePaint); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T07:01:04.220

> 我想在 JLabel 上制作矩形并将该矩形转换为 BufferedImage

你做错了。绘制缓冲图像，将其添加到标签，调用`label.repaint()`以显示任何更改。

### 例如

如中所见。。

1.  [这个答案](https://stackoverflow.com/a/10055306/418556)
    ![](../Images/176b6688e02581cb647c578fc11f9f64.png)
2.  [这个答案](https://stackoverflow.com/a/13756357/418556)
    ![](../Images/dedec580fd1635d9af1e061058d78094.png)

3.  [这个答案](https://stackoverflow.com/a/6296381/418556)或..
    ![](../Images/ece95cff85ba4d2b70119d5522f685a6.png)
4.  ..对于动画版本，[这个答案](https://stackoverflow.com/a/10628553/418556)
    ![](../Images/4e29ac467fd97fd662ee99ecb260ee9b.png)

# prolog - 将 Eulersharp 与 Cliopatria 集成

> ID：15492868
> 
> 赞同：1
> 
> 时间：2013-03-19T06:28:18.233
> 
> 标签：prolog, semantic-web, n3, eulersharp, cliopatria

我想使用[Cliopatria](http://cliopatria.swi-prolog.org/home) Semantic Web Server，但是我目前正在使用[EulerSharp](http://eulersharp.sourceforge.net/)广泛使用 n3-rules 。我不想失去 n3 提供的终止保证，但我想通过 ClioPatria 提供结果图，而不必运行定期的外部脚本。

鉴于 ClioPatria 和 EulerSharp 都在 SWI-Prolog 上运行，我想知道是否有人有尝试将这两个项目组合在同一个 Web 应用程序中的经验？

# events - 后续事件未在 while 循环中触发

> ID：15492874
> 
> 赞同：0
> 
> 时间：2013-03-19T06:28:37.690
> 
> 标签：events, loops, labview

我有一个**MAIN VI**和一个**SUB VI**，它们通过**control refnum**传达事件。事件流程如下。

1) **sub vi**更改其控件的值，并且此事件在**main vi**中处理（这有效）。

2)响应事件的**主 vi**更改其控制之一并从事件处理程序本身触发事件，该事件在**subvi 事件处理程序中处理**。（这也有效）。

第一阶段结束。现在主 vi 正在运行一个 while 循环，而 sub vi 正在运行一个 while 循环，主 vi 每隔约 150 毫秒触发一个事件。这将在**subvi**中处理。这是没有发生的部分。我可以看到**主 vi 的控件**正在更新，但事件（如果生成）不是由**subvi**处理的。我正在使用控件`property node->Value(signalling)`来更改值并触发事件。可能的原因是什么？

*注意：控件（其值已更改）、事件处理程序与第一阶段相同。*

希望我的问题很清楚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T08:18:40.537

我发现了问题。随后的事件没有被处理，因为事件处理程序运行的循环循环了**一次，** 即初始条件本身为假，因此循环只运行了一次。此循环由`stop if true`. 它必须是`continue if true`。控制此循环的布尔变量是`true`. 这应该是我的第一个线索。

# cakephp - 蛋糕 php 的自定义 URL

> ID：15492875
> 
> 赞同：0
> 
> 时间：2013-03-19T06:28:41.687
> 
> 标签：cakephp

我正在使用`cake php version 1.3.11`和使用两张桌子，一张是`article_category`，第二张是`articles`。在文章类别上存储文章类别名称和文章表，用于带有文章类别 ID 的文章详细信息。

我创建了一个文章控制器来列出类别明智的文章列表。现在 url 显示是这样 `mysite/articles/index/<article_category_id>` 的 而不是那种类型列表我想显示这样的 url 我该 `mysite/<article_category_name>/index` 怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:58:00.447

好的，有几件事。

**惯例** *[遵循 Cookbook 以获得更多更好的理解](http://book.cakephp.org/2.0/en/getting-started/cakephp-conventions.html)*

1.  你`article_category`应该是公正`categories`的。
2.  `article_category`名称类型用于 HABTM 类型关系的连接表（多对多关系）。即使作为连接表，它也应该是`articles_categories`. 您可以使用`Inflectore::pluralize('singularname')`创建复数案例。*[关注食谱了解更多](http://book.cakephp.org/2.0/en/models/associations-linking-models-together.html#associations-linking-models-together)*

CakePHP 有一个[Router 类](http://book.cakephp.org/2.0/en/development/routing.html)，用于处理连接自定义路由。它位于`App/Config/route.php`。您可以使用它来满足几乎所有 URL 需求。

现在为解决方案，

*   修改您的`categories`（在您的情况下为 article_category）表以包含一个名为`slug`. 与名称相比，我建议使用 slug。
*   定义一条新路线*[跟随 CookBook 了解更多](http://book.cakephp.org/2.0/en/development/routing.html#passing-parameters-to-action)*

    ```
    // In app/Config/routes.php 
    Router::connect(
        '/articles/index/:id-:slug', // E.g. /articles/index/3-technology
        array('controller' => 'articles', 'action' => 'index'),
        array(
        // order matters since this will simply map ":id" to $articleId in your action
            'pass' => array('id', 'slug'),
            'id' => '[0-9]+'
       )
    ); 
    ```

*   修改您的控制器操作以接受 slug

    ```
    public function index( $id, $slug = null ) {

    } 
    ```

# ios - 根据 Apple 推送通知显示和删除徽章上的数字

> ID：15492876
> 
> 赞同：0
> 
> 时间：2013-03-19T06:28:42.813
> 
> 标签：ios, ios6, apple-push-notifications, badge

我有一个使用苹果推送通知的应用程序。现在我需要根据通知显示徽章编号，并且我还需要相应地减少徽章编号。我知道此方法用于显示徽章，但我正在了解如何实现它。

```
 [UIApplication sharedApplication].applicationIconBadgeNumber = badgeNumer; 
```

谁能帮我这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:31:30.490

您可以在此方法中使用您的代码来显示徽章编号。

```
- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:33:34.283

它会一直显示，直到您将其设置为零，您可以使用以下代码执行此操作：

```
[[UIApplication sharedApplication] setApplicationIconBadgeNumber:0] 
```

更常见的是在收到通知时设置徽章编号，在 UIApplicationDelegate 类的 application:didReceiveRemoteNotification: 或 application:didFinishLaunchingWithOptions: 方法中。

您可以在[本地和推送通知编程指南中了解更多信息](http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Introduction/Introduction.html)

# css - 如何让 div 在其内容的高度发生变化时自动更改其高度？

> ID：15492881
> 
> 赞同：-1
> 
> 时间：2013-03-19T06:28:56.240
> 
> 标签：css, html

我正在创建一个部门，其中有一些元素。对于下面的示例，除法内有一个句子。但是，当我通过 ajax 插入某些东西时句子变得很长时，似乎除法的高度没有改变。

```
<div style="width:300px;min-height:10px;background:red">
<div style="width:100px;height:inherit;background:blue;float:left"></div>
<a style="width:100px;height:10px;float:left">The length of this sentence is always changing.</a>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:45:44.650

您必须使用 javascript 或使用 jquery 设置 div 的高度

为 div 分配一个 ID 例如

```
 <div style="width:300px;min-height:10px;background:red" id="test"> 
   <a>The length of this sentence is always changing.</a>
 </div>

 $.ajax({
    $(function() {
      $("#test").width(100).height(200);//set height or width here
   });
 }); 
```

尝试在这里设置高度...

# c# - 在 LINQ 的 where 子句中使用 If 语句

> ID：15492883
> 
> 赞同：1
> 
> 时间：2013-03-19T06:29:01.357
> 
> 标签：c#, linq, entity-framework, linq-to-entities

我将以下 SQL 查询转换为 LINQ。我正在使用 oracle 数据库。

```
SELECT TableA.Id, 
       TableA.Date,
       TableA.ItemId
       TableB.Quantity,
       TableB.Total
FROM   TableA, TableB, TableC, TableD
Where  TableA.Id = TableB.Id and
       TableA.Id = TableC.Id (+) and
       TableA.Id = TableD.Id (+) and
       TableA.ItemId = _itemId and 
       TableA.Date >= _from_date and
       TableA.Date < _to_date and
       DECODE(TableD.Id,NULL,0,1) = (some boolean variable) 
```

TableA 和 TableC 有一个 <-->（一或零），其中 TableC 是可选的。

我写的 LINQ 查询是：

```
var data = from ta in context.TableAs
                join tB in context.TableBs 
                     on tA.Id equals tB.Id
                join tD in context.TableDs
                     on tA.Id equals tD.Id into A
           from itemA in A.DefaultIfEmpty()
                join tC in context.TableCs
                     on itemA.tA.Id equals tC.Id into B
           from itemB in B.DefaultIfEmpty()
           where itemA.tA.ItemId == _itemId && 
                 itemA.tA.Date >= _startDate && 
                 itemA.Ta.Date< _endDate && // this is where I got stuck...

           select new
           {                               
               itemA.tA.Id,
               itemA.tA.Date,
               itemA.tA.ItemId,
               itemA.tB.Quantity,
               itemA.tB.BalanceQuantity,                               
           }; 
```

如何在 SQL 查询中写入最后一行（即

```
DECODE(TableD.Id,NULL,0,1) = some boolean variable) 
```

在我构造的 LINQ 查询的 where 子句中？

非常感谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:31:55.363

Oracle的`decode`基本上是一个switch语句：

```
decode(value, case1, result1, case2, result2, ..., defaultresult) 
```

用经典的例子：

```
select  decode(supplier_id, 10000, 'IBM',
                            10001, 'Microsoft',
                            10002, 'Hewlett Packard',
                            'Gateway') as result
from    suppliers; 
```

因此，对于您的查询：

```
decode(TableD.Id,null,0,1) = some boolean variable) 
```

LINQ 等价物可以是：

```
(itemA.tD.Id != DBNull.Value) == some boolean variable 
```

# crystal-reports - 我如何计算水晶报表中的数据字段

> ID：15492884
> 
> 赞同：-1
> 
> 时间：2013-03-19T06:29:01.530
> 
> 标签：crystal-reports

我如何计算水晶报表中的数据字段

例如：

[数字] [名称] [pcount] [ifactor] [icount] [rcount] [rfactor]

801 sw 1.00 0.00 1.00 2.00 1.00
801 sw 2.00 1.00 1.00 2.00 1.00

我想这样显示：

[数量] [姓名] [总计]

801 sw [(pcount*ifactor) + icount + (rcount/rfactor)]

请帮我

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T11:37:31.397

公式会起作用，SQL 表达式也会起作用

# plsql - 在 PL/SQL 页面中编写函数

> ID：15492886
> 
> 赞同：0
> 
> 时间：2013-03-19T06:29:09.203
> 
> 标签：plsql, oracle11g

我想创建一个在 oracle 包中执行特定任务的函数，我尝试使用下面的代码，但它给出了一个我不明白的错误。

```
CREATE OR REPLACE
PACKAGE DINIDU_EXE_PACKAGE AS

FUNCTION EXE14 
(SUP_ID_ SUPPLIER_PART_PROJECT_TAB.SUPPLIER_ID%TYPE,PAR_ID_ SUPPLIER_PART_PROJECT_TAB.PART_ID%TYPE,PRO_ID_ SUPPLIER_PART_PROJECT_TAB.PROJECT_ID%TYPE) RETURN NUMBER IS

QUNTITY_FOR_A_PROJECT_ NUMBER;

BEGIN
  SELECT QUENTITY AS QUNTITY_FOR_A_PROJECT_ FROM SUPPLIER_PART_PROJECT_TAB WHERE SUPPLIER_ID=SUP_ID AND PART_ID=PAR_ID AND PRO_ID=PROJECT_ID;

    IF QUNTITY_FOR_A_PROJECT_ >0 THEN

      RETURN QUNTITY_FOR_A_PROJECT_;
    ELSE
      RETURN 0;

    END IF;

END EXE14;

END; 
```

**错误（6,1）：PLS-00103：在预期以下之一时遇到符号“QUNTITY_FOR_A_PROJECT_”：语言**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T09:28:19.437

叶戈尔的评论是正确的。您正在将一个函数放入包规范中，而它必须位于包体中。

只有对函数或其签名的引用——函数名和参数列表——必须在包规范中。实际功能必须在正文中编码。

```
CREATE OR REPLACE PACKAGE DINIDU_EXE_PACKAGE AS
    FUNCTION EXE14 
    ( SUP_ID_ SUPPLIER_PART_PROJECT_TAB.SUPPLIER_ID%TYPE
    , PAR_ID_ SUPPLIER_PART_PROJECT_TAB.PART_ID%TYPE
    ,PRO_ID_ SUPPLIER_PART_PROJECT_TAB.PROJECT_ID%TYPE)
END;
/

CREATE OR REPLACE PACKAGE BODY DINIDU_EXE_PACKAGE AS
    FUNCTION EXE14 
    ( SUP_ID_ SUPPLIER_PART_PROJECT_TAB.SUPPLIER_ID%TYPE
    , PAR_ID_ SUPPLIER_PART_PROJECT_TAB.PART_ID%TYPE
    ,PRO_ID_ SUPPLIER_PART_PROJECT_TAB.PROJECT_ID%TYPE)
RETURN NUMBER IS
    QUNTITY_FOR_A_PROJECT_ NUMBER;
BEGIN
  SELECT QUENTITY AS QUNTITY_FOR_A_PROJECT_ FROM SUPPLIER_PART_PROJECT_TAB WHERE SUPPLIER_ID=SUP_ID AND PART_ID=PAR_ID AND PRO_ID=PROJECT_ID;

    IF QUNTITY_FOR_A_PROJECT_ >0 THEN

      RETURN QUNTITY_FOR_A_PROJECT_;
    ELSE
      RETURN 0;

    END IF;

END EXE14;

END;
/ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T07:22:42.967

编辑：有关编译错误的实际原因，请参阅 Egor 的评论和 Rachcha 的回答。

您的代码首先声明`QUNTITY_FOR_A_PROJECT_`为局部变量，但随后您的`SELECT`语句使用与列别名 ( ) 相同的标识符`QUENTITY AS QUNTITY_FOR_A_PROJECT_`。更重要的是，您没有选择`INTO`任何结果。

我认为你打算做这样的事情：

```
SELECT QUENTITY INTO QUNTITY_FOR_A_PROJECT_ FROM SUPPLIER_PART_PROJECT_TAB ... 
```

另一个问题：您的函数接受以下参数：和`SUP_ID_`，但您不在函数中使用它们。我怀疑在查询中没有正确使用标识符，但我不能确定，因为我不知道你的表的列是什么。`PAR_ID_``PRO_ID_``SUPPLIER_PART_PROJECT_TAB`

# iphone - iPhone SIP 库中的 VOIP 呼叫给出链接错误

> ID：15492887
> 
> 赞同：1
> 
> 时间：2013-03-19T06:29:09.837
> 
> 标签：iphone, ios, voip

我正在`VOIP`随叫随到。为此，我正在链接`libmswebrtc.a`库。它不适用于我的 Mac。虽然我用其他mac检查了相同的代码，但它的工作原理。以下是错误详情：

> 架构 armv7 的未定义符号：“_WebRtcSpl_MinValueW16Neon”，引用自：libmswebrtc.a(spl_init.o) 中的 _InitPointersToNeon

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:22:16.667

这种错误表示您没有将库与项目链接。
我认为[这个答案](https://stackoverflow.com/a/6124872/1263701)可以帮助你。

# css - 将文本保留在图像的右侧

> ID：15492892
> 
> 赞同：3
> 
> 时间：2013-03-19T06:29:20.617
> 
> 标签：css

我[这里](http://jsfiddle.net/Q7JhN/)有代码。在这段代码中，可以看到有一个带有类图像的 div 标签，并且文本出现在右侧。因为有很多文字，有些文字在右侧可见，有些在图片标签下方。**无论有多少文字，我都希望此文字出现在右侧。**

**我怎样才能做到这一点？**

```
<div class="image"></div>
<p class="text">adsadas Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ornare viverra erat vel ornare.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ornare viverra erat vel ornare.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ornare viverra erat vel ornare. adsadas Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ornare viverra erat vel ornare.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ornare viverra erat vel ornare.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ornare viverra erat vel ornare.</p> 
```

css

```
.image {
width: 100px;
height: 100px;
float: left;
border: 1px solid #999;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:40:40.690

`margin-left`我认为你只需要根据`width`你的图像给你的段落一个：

```
margin-left: 110px; 
```

演示：http: [//jsfiddle.net/Q7JhN/1/](http://jsfiddle.net/Q7JhN/1/)

# xamarin.ios - 无法将 cookie 添加到 NSHttpCookieStorage.SharedStorage

> ID：15492894
> 
> 赞同：2
> 
> 时间：2013-03-19T06:29:23.990
> 
> 标签：xamarin.ios

我正在使用 Monotouch，并尝试将 NsHttpCookie 对象存储在我的模拟器的共享存储中，以用于我未来的请求。我正在使用`NSHttpCookieStorage.SharedStorage.SetCookie (NSHttpCookie)`方法。

但是，在我这样做之后，当我尝试检索 cookie（通过`NSHttpCookieStorage.SharedStorage.Cookies`）时，我看到 0 个 cookie。

更详细地说 - 我正在将系统 cookie 转换为 NSHttpCookie。在那之后，我试着用

```
NSHttpCookieStorage.SharedStorage.AcceptPolicy = NSHttpCookieAcceptPolicy.Always;
NSHttpCookieStorage.SharedStorage.SetCookie (
                       convertSystemCookieToNsCookie(resp.Cookies[0])); 
```

当我尝试用

```
NSHttpCookie[] cookies = NSHttpCookieStorage.SharedStorage.Cookies;
Console.Out.WriteLine ("Found cookies " + cookies.Length); 
```

它说 0 cookie。我在任何地方都没有看到任何异常。这是 convertSystemCookieToNsCookie 方法 -

```
private NSHttpCookie convertSystemCookieToNsCookie(Cookie cookie) {
        var properties = new NSMutableDictionary ();
        properties.Add (NSHttpCookie.KeyOriginURL, new NSString(cookie.Domain));
        properties.Add (NSHttpCookie.KeyName, new NSString(cookie.Name));
        properties.Add (NSHttpCookie.KeyValue, new NSString(cookie.Value));
        properties.Add (NSHttpCookie.KeyPath, new NSString (cookie.Path));
        NSDate cookieDate = NSDate.FromTimeIntervalSinceReferenceDate ((
            cookie.Expires - (new DateTime (2001, 1, 1, 0, 0, 0))).TotalSeconds);
        properties.Add (NSHttpCookie.KeyExpires, cookieDate);
        return new NSHttpCookie (properties);
    } 
```

知道我做错了什么吗？非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T17:31:37.097

`NSHttpCookie`具有接受 .NET实例的[构造函数](https://github.com/mono/maccore/blob/master/src/Foundation/NSHttpCookie.cs#L82)`System.Net.Cookie`，该实例可用于避免类似 .NET 的代码`convertSystemCookieToNsCookie`。

*可能*发生的情况是，创建`NSHttpCookie`from an时的错误`NSMutableDictionary`将返回一个空句柄 ( `IntPtr.Zero`)，并且不会添加到共享存储中。添加了助手 .ctor 以避免此类问题。

# c# - 如何在网页中进行自动登录？

> ID：15492895
> 
> 赞同：1
> 
> 时间：2013-03-19T06:29:29.750
> 
> 标签：c#

我正在尝试使用 htmlelement 自动登录 bing.com，但我的代码无法正常工作，但它适用于 hotmail 和 facebook 等其他网站。这是我的代码：

```
 void webBrowser1_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)
           {

               HtmlElementCollection elements = webBrowser1.Document.GetElementsByTagName("input");
               foreach (HtmlElement element in elements)
               {
                   if (element.Name == "login")
                   {
                       element.SetAttribute("value", email);
                   }
                   if (element.Name == "passwd")
                   {
                       element.SetAttribute("value", pass);
                   }
                   if (element.Name == "SI")
                   {
                       element.InvokeMember("click");

                   } 
```

我做错了什么？

# crossfilter - 为什么在 Crossfilter 中会这样？

> ID：15492896
> 
> 赞同：7
> 
> 时间：2013-03-19T06:29:31.000
> 
> 标签：crossfilter

在[Crossfilter 文档](https://github.com/square/crossfilter/wiki/API-Reference#group-map-reduce)中，它说明了以下内容。

> 分组与交叉过滤器的当前过滤器相交，关联维度的过滤器除外。因此，组方法只考虑满足除此维度过滤器之外的所有过滤器的记录。因此，如果支付的交叉过滤器是按类型和总计过滤的，那么按总计分组只观察按类型过滤。

这背后的原因是什么，解决方法是什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-01T20:38:51.020

原因是 Crossfilter 是为过滤协调视图而设计的。在这种情况下，您通常在一个可视化的维度上进行过滤，并且您希望看到其他维度根据您的过滤器发生变化。但是定义过滤器的维度应该保持不变，部分是因为它是多余的（过滤器机制通常已经在视觉上显示），部分是因为你不希望你的维度值在你试图过滤它们时跳来跳去.

无论如何，要绕过它，您可以在同一属性上定义两个相同的维度。使用一个维度进行过滤，另一个维度进行分组。这样，就 Crossfilter 而言，您的过滤维度和分组维度是分开的。

# jquery - 如何在 Jquery 中显示日期验证事件的弹出窗口？

> ID：15492899
> 
> 赞同：-2
> 
> 时间：2013-03-19T06:30:10.327
> 
> 标签：jquery, jquery-validate

我一直在努力为我的问题找到一个好的解决方案。谁能告诉我如何在日期的验证事件上显示弹出窗口。我正在使用 jQuery 验证插件 1.6 进行验证（jquery.validate.js）。我的场景是，当用户选择一个日期时，我验证该日期并在无效时显示正确的错误消息。如果日期无效，我想要一个密码弹出窗口以使无效日期有效。不幸的是，我找不到任何好的解决方案。

这是我的代码：

```
$(document).ready(function () {
    ...
    $('#txtDate').rules("add", { required: true, restrictDate: true, messages: { required: "Please enter log date", restrictDate: "Check the selected date." } });
    ...
    $.validator.addMethod("restrictDate", function (value, element) { var activityDate = GetDate($('#txtDate').val(), formatOfDate); if (Date.parse(activityDate) > Date.parse(dt)) { return false; } else return true; }, "Date comparison error." );
    ...
    //Registering date picker
    $('#txtDate').datepicker({ dateFormat: 'dd/mm/yy', changeMonth: true, changeYear: true, constrainInput: true });

```
...
.... 
``` `)};` 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:34:52.900

你见过[jQuery UI 的对话框组件](http://jqueryui.com/dialog/)吗？您可以显示带有任何您想要的消息的任意模式对话框（弹出窗口）。

使用 jQuery validate 插件，`invalidHandler`在调用 validate 时使用，如下所示：

```
$(".selector").validate({
    invalidHandler: function(event, validator) {
        // If there are any errors in your form, control reaches this function
        // First check if your date field was the source of the error
        if(validator.element('#datefield')){
            // If it was, show the dialog box you want.
            $('#yourdiv').html("<div> Any html message/content you want here</div>");
            $('#yourdiv').dialog();
        }
    }
 }) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:36:49.340

```
if(!$('#dateId').valid()){
    $('#divId').html("Error message");
    $( "#divId" ).dialog();
} 
```

# c# - 计算工作时间

> ID：15492906
> 
> 赞同：1
> 
> 时间：2013-03-19T06:30:19.863
> 
> 标签：c#

我目前正在构建一个系统，其中有一个部分来管理员工时间和超时，我想计算这个

```
 ***night shift (Must Work 8 Hr)***
  startTime- 10.00 PM   
  endTime- 06.00 AM 
```

所以我想计算那个日期的实际工作时间（timein - timeout）。我所做的是

```
TimeSpan duration = DateTime.Parse(endTime).Subtract(DateTime.Parse(startTime)); 
```

输出：16:00

我想要的是 8:00

例如 2

startTime- 10.00 PM
endTime- 05.00 AM

输出 : 7:00

我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:32:29.177

您还必须使用`date`with`time`来精确计算两次之间的时间。因为你会有不同的日期。假设班次从 2013 年 3 月 18 日晚上 10:00 开始，到 2013 年 3 月 19 日上午 5:00 结束

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:37:00.717

尝试使用[`Timespan`](http://msdn.microsoft.com/en-us/library/system.timespan.aspx)like；

```
DateTime a = new DateTime(2008, 01, 02, 23, 30, 00);
DateTime b = new DateTime(2008, 01, 03, 06, 30, 00);

TimeSpan duration = b - a;

Console.WriteLine(duration); 
```

输出将是

```
07:00:00 
```

这是一个[`DEMO`](http://ideone.com/uOg8zz).

> TimeSpan 对象表示一个时间间隔（持续时间或经过的时间），它以天数、小时数、分钟数、秒数和秒数的正数或负数来衡量。

# java - 子类中的成员阴影

> ID：15492910
> 
> 赞同：3
> 
> 时间：2013-03-19T06:30:29.393
> 
> 标签：java, inheritance, shadowing

考虑以下示例大纲：

```
interface IBar{ /*...*/ }

class SomeBar implements IBar { /*...*/ }

abstract class AbstractFoo
{
    IBar context;

    /* Some default implementations of methods manipulating 'context' */
}

class SomeFoo extends AbstractFoo
{
    final SomeBar context = (SomeBar)super.context;       // <-- AAA

    /* Some methods that reference additional non-IBar methods. */

    // The line AAA allows us to use:
    //      context.additionalMethod()
    // instead of
    //      ((SomeBar)context).additionalMethod()
} 
```

我的问题是关于“AAA”行。这里的目标是避免每次引用从超类继承的上下文成员时都必须强制转换。换句话说，我宁愿

```
context.additionalMethod() 
```

代替

```
((SomeBar)context).additionalMethod() 
```

每一次。

这种方法似乎有效，但我想知道它是否正确，或者这样做是否有任何问题。就我而言，这不会导致模棱两可，尽管我可以看到一般情况下它是如何产生的。

另外，我只是想确保我不是在这里创建一个新对象，而是让这些方法以`context`不同的方式解释引用成员。

我想另一种方法是重命名`context`为`rawContext`，这可能更可取。

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T06:36:31.930

这是使用泛型的经典案例：

```
abstract class AbstractFoo<T extends IBar>
{
    protected T context;
    // some default impl
} 
```

然后

```
class SomeFoo extends AbstractFoo<SomeBar> 
{
    // access context directly as type SomeBar
} 
```

# pdfbox - 使用 PdfBox 检测 PDF 中的嵌入字符

> ID：15492913
> 
> 赞同：1
> 
> 时间：2013-03-19T06:30:37.003
> 
> 标签：pdfbox, embedded-fonts

我正在使用 PdfBox 从 PDF 文件中提取文本。当 PDF 不包含任何嵌入字体时，一切正常。当有一些 TrueType 嵌入字体时会出现此问题。我发现在同样的情况下，嵌入字体会用其他一些形状替换默认字符的形状。例如，“ï”的字符代码用于编码“ł”。我知道如果没有任何映射或 OCR，我无法获得角色的真实形状。我想知道嵌入字符可能会重新定义哪些字符。我的问题是如何知道 PDF 流中的哪些字符是由嵌入字体定义的？

# python - Python - 获取浏览器重定向到的网址

> ID：15492917
> 
> 赞同：3
> 
> 时间：2013-03-19T06:30:55.570
> 
> 标签：python, redirect, browser, urllib2

我正在尝试使用 API 对应用程序进行身份验证。
就是这样：

1.  我正在使用`webbrowser.open`.
2.  用户对应用程序进行身份验证，并被重定向到另一个 URL，该
    `https://stackexchange.com/oauth/login_success`URL 带有使用此 URL 编码的参数。
    示例重定向 url 是：
    `.../login_success#access_token=xyz&expires=00000`

我当前的代码：

```
auth_url = 'https://stackexchange.com/oauth/dialog'
def authenticate():
    scope = "write_access,private_info,read_inbox"
    url = make_url(auth_url,client_id=132,
                   scope=scope,response_type='code',
                   redirect_uri='https://stackexchange.com/oauth/login_success')
    webbrowser.open(url) 
```

用户身份验证后如何获取重定向 URL（用户被带到的 URL）？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T07:05:51.090

尝试为一个请求启动您自己的小型 HTTP 服务器，让 API 重定向到它并等待重定向的请求出现。这不是一个完整的例子，只是基本概念：

```
import BaseHTTPServer
auth_url = 'https://stackexchange.com/oauth/dialog'

# replace with your own http handlers
def wait_for_request(server_class=BaseHTTPServer.HTTPServer,
                     handler_class=BaseHTTPServer.BaseHTTPRequestHandler):
    server_address = ('', 8000)
    httpd = server_class(server_address, handler_class)
    return httpd.handle_request()

def authenticate():
    scope = "write_access,private_info,read_inbox"
    url = make_url(auth_url,client_id=132,
                   scope=scope,response_type='code',
                   redirect_uri='http://localhost:8000/login_success')
    webbrowser.open(url)
    wait_for_request() 
```

不过，您可能需要使用 HTTPS。从长远来看，使用现有的 OAuth 实现可能会更好。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-19T07:11:22.160

用户通过堆栈交换进行身份验证后，SE 页面将重定向回您的页面（下面的“redirect_uri”）。您的代码当前重定向到[https://stackexchange.com/oauth/login_success](https://stackexchange.com/oauth/login_success)；相反，您应该重定向到您控制的页面。

1.  [在https://stackexchange.com/oauth/dialog](https://stackexchange.com/oauth/dialog)使用这些查询字符串参数 打开一个新窗口
    *   client_id
    *   范围
    *   重定向uri
    *   状态 - 可选
2.  用户批准您的应用
3.  用户被重定向到redirect_uri，这些参数在散列中
    *   访问令牌
    *   expires - 可选，仅当范围不包含 no_expiry

来源：[https ://api.stackexchange.com/docs/authentication](https://api.stackexchange.com/docs/authentication)

# sql - 如何合并相同数据的记录？

> ID：15492920
> 
> 赞同：0
> 
> 时间：2013-03-19T06:31:05.433
> 
> 标签：sql, sql-server

我必须`students`根据他们的基础从数据库中选择`status`，

status 可能是`active`or `Inactive`，可能有一些学生有这个状态`active`，一些有`Inactive`db 中的状态。

我必须一次选择具有相同身份的学生。

可以用一个非常简单的查询来完成，但问题是这个查询是在上面生成`automatically`的`run time`，我不能给出硬编码的状态。

如何`same status`一次检索记录？

编辑：例如，数据库中有这些记录

学生 A：状态不活跃

学生 B：状态不活跃

学生 C：状态活跃

学生 D：状态不活跃

现在我需要在单个结果集中检索学生 A、B 和 D，因为它们具有相同的状态，即“非活动”，而需要在单独的结果集中检索学生 D，因为它具有不同的状态，即“活动”。

希望现在情况很清楚。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:36:19.883

如果您的“系统”自动更改查询，那么您完全不走运。除了更改系统以允许您更改查询之外，您无能为力。但如果可以，只需使用 OR 语句，即。

选择 studentid、studentname、status = 'value1' OR status = 'value2'

或者更简单地说...

select studentid, studentname, status where status in ('value1','value2')

简单的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T02:35:57.937

然后试试这个...

选择学生ID、学生姓名、状态，其中（状态 = 'value1' AND status <> 'value2'）或（status <> 'value1' AND status = 'value2'）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T17:58:35.440

如果您需要两个记录集，请使用两个查询，否则简单使用排序：

按状态、姓名排序

# playframework - 当对特定页面的请求不可用时，如何通过 Play 导航到默认页面而不是默认错误页面

> ID：15492922
> 
> 赞同：-1
> 
> 时间：2013-03-19T06:31:19.883
> 
> 标签：playframework, playframework-2.0

在路由器文件...

```
GET     /*file                       controllers.Assets.at(path="/public", file) 
```

所以我正在访问公共文件夹中的页面，如下所示

```
"192.168.2.7:9000/test.html" 
```

**问题：**

如果请求的页面不存在（如`test22.html`），则播放显示默认错误页面。

`index.html`但是当请求页面不存在时，我想导航到默认页面。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T08:21:02.563

取决于播放的版本！您正在使用您可以在 Global 对象中覆盖[`onActionNotFound`](http://www.playframework.com/documentation/2.0/ScalaGlobal)for`2.0` *或* [`onHandlerNotFound`](http://www.playframework.com/documentation/2.1.0/ScalaGlobal)for 。`2.1`

[在此处](https://stackoverflow.com/questions/9989444/how-to-create-a-custom-404-page-handler-with-play-2-0)查看答案以获取指导。

[提供的链接适用于 Scala，但此处 (2.0)](http://www.playframework.com/documentation/2.0/JavaGlobal)和[此处 (2.1)](http://www.playframework.com/documentation/2.1.0/JavaGlobal)也有类似的 Java 信息

# php - 代码使用的执行时间和内存

> ID：15492926
> 
> 赞同：4
> 
> 时间：2013-03-19T06:31:41.077
> 
> 标签：php, memory-management, benchmarking, execution-time

我是一名 PHP 编码员。我没有找到任何方法来获取在执行代码期间花费了多少时间。意味着执行时间。以及代码在执行期间使用了多少内存空间

我知道 PHP INI 设置，但没有显示我的解决方案。

我怎么能用编码得到那个时间和内存空间单元。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-10-14T12:09:53.970

我在生成器示例中找到了这个。

```
$start_time=microtime(true);

//do something what you want to measure

$end_time=microtime(true);
echo "time: ", bcsub($end_time, $start_time, 4), "\n";
echo "memory (byte): ", memory_get_peak_usage(true), "\n"; 
```

[http://php.net/manual/en/language.generators.overview.php#114136](http://php.net/manual/en/language.generators.overview.php#114136)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T07:14:36.573

我总是用

```
microtime() 
```

对于时间，和

```
memory_get_usage() 
```

对于内存使用，连同我的 IDE (PHPStorm) 和 XDEBUG，这提供了一些非常有用的信息。

[http://www.php.net/manual/en/function.microtime.php](http://www.php.net/manual/en/function.microtime.php) 和 [http://php.net/manual/en/function.memory-get-usage.php](http://php.net/manual/en/function.memory-get-usage.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T06:37:17.837

您可以使用

```
microtime() 
```

在脚本的开头和结尾。不同之处在于执行时间。microtime 以微秒返回时间戳，足以满足您的需求。

[http://www.php.net/manual/en/function.microtime.php](http://www.php.net/manual/en/function.microtime.php)

# java - 警告：org.springframework.web.servlet.PageNotFound - 不支持请求方法“GET”

> ID：15492927
> 
> 赞同：2
> 
> 时间：2013-03-19T06:31:44.377
> 
> 标签：java, spring, spring-mvc, spring-security

启动服务器时出现此异常： `HTTP Status 405 - Request method 'GET' not supported`

我的控制器是：

```
@Controller
public class HomeController {

    private static final Logger logger = LoggerFactory.getLogger(HomeController.class);

    @RequestMapping(value = "/", method = RequestMethod.POST)
    public String home(Locale locale, Model model) {
        logger.info("Welcome home! The client locale is {}.", locale);

        return "login";
    }

} 
```

我真的不知道是什么问题，因为我是春天的新手，甚至无法弄清楚问题是什么。

有人可以指导我解决这个问题吗

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T06:34:20.063

请求映射是错误的。

@RequestMapping(值 = "/", 方法 = `RequestMethod.POST`)

它只需要 POST 请求并返回 405 StatusCode 任何不是 POST 的请求。

所以，应该是

@RequestMapping(值 = "/", 方法 = `RequestMethod.GET`)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T06:46:32.183

试试这个

改变

```
@RequestMapping(value = "/", method = RequestMethod.POST) 
```

到

```
@RequestMapping(value = "/login", method = RequestMethod.GET) 
```

（在您之前的帖子中，我注意到您有 login-page=login）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-01-02T07:19:13.613

改变

```
@RequestMapping(value = "/", method = RequestMethod.POST) 
```

到

```
@RequestMapping(value = "/login", method = RequestMethod.GET) 
```

# components - Free Pascal：突出显示部分项目/字符串的组件

> ID：15492928
> 
> 赞同：1
> 
> 时间：2013-03-19T06:31:51.060
> 
> 标签：components, freepascal

您为此推荐哪个组件（TListView、TStringGrid、...）：

*   列表项的呈现

*   项目将是字符串

*   将突出显示指定的子字符串（例如单词） - 我需要突出显示字符串/项目中的一些单词。

我不知道有一种方法可以更改**部分**字符串的背景颜色（使用 OnCustomDrawItem）。

# iphone - 如何在 ios 中锁定文本字段和图像？

> ID：15492929
> 
> 赞同：0
> 
> 时间：2013-03-19T06:31:53.793
> 
> 标签：iphone, ios, xcode, uiimage, uitextfield

当我设计界面时，一切看起来都很好。但是当我运行项目时，一些文本字段移动并与其他文本字段混合。一些图像下降。我如何将所有内容锁定到位，以便 gui 正是我的方式设计它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:34:47.630

![修复属性](../Images/9fcd7fbad8ad05ce48545fa1edfcb566.png)

您可以修复文本字段和图像的属性。因此，它不会移动到任何地方并留在自己的地方。

希望对您有所帮助。

谢谢。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:35:16.013

嗨 iOsBody 有一些布局问题是波纹管提示您可以正确设置。

*   在您的问题中，您`UINavigationController`在每个问题中都使用过，`viewController`但是当您设置 XIB 布局时，您无法`UInavigationBar`在 XIB 中添加这个 45px 空间，这就是您面临这个问题的原因。

*   当你在 ios6 中使用它时，你也可以使用 AutoLayout，但它在 ios5 或下面的 ios 中会出现 Creshed

所以请检查适当的 x,y 并`UInavigationBar`在创建界面时放置计算 px 或状态栏。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T06:36:34.207

如果您的视图使用 AutoLayout 功能而不是取消选中它。
![在此处输入图像描述](../Images/828b784f9438fc4194ce7fdf423f3109.png)

`Use AutoLayout`在您的主视图中查看该选项。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T06:40:08.413

![在此处输入图像描述](../Images/07a2018c8a144ba8ff43982936a251c3.png)

1）这将帮助你自动调整组件的大小

# android - Google playstore 应用程序最近查询

> ID：15492940
> 
> 赞同：1
> 
> 时间：2013-03-19T06:32:50.200
> 
> 标签：android

使用此代码，我可以清除 google playstore 应用程序中的最近查询：

```
SearchRecentSuggestions query = new SearchRecentSuggestions(this, "com.google.android.finsky.RecentSuggestionsProvider", 1);    
query.clearHistory(); 
```

但是，如何使用最近的查询？（例如：在 TextView 中显示第一个查询）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:46:07.840

默认情况下，查询附加为 uri 参数（一个 Uri 对象）的最后一段。在这种情况下，要检索查询文本，只需使用 getLastPathSegment()。例如：

字符串查询 = uri.getLastPathSegment().toLowerCase();

例如，您可以通过以下方式形成 android:searchSuggestSelection 属性来创建全文搜索语句：

`

```
<?xml version="1.0" encoding="utf-8"?>
<searchable xmlns:android="http://schemas.android.com/apk/res/android"
    android:label="@string/app_label"
    android:hint="@string/search_hint"
    android:searchSuggestAuthority="com.example.MyCustomSuggestionProvider"
    android:searchSuggestIntentAction="android.intent.action.VIEW"
    android:searchSuggestSelection="word MATCH ?">
</searchable> 
```

` 使用此配置，您的 query() 方法将选择参数传递为“单词 MATCH？” 和 selectionArgs 参数作为搜索查询。当您将它们传递给 SQLite query() 方法时，它们作为各自的参数，它们被合成在一起（问号被替换为查询文本）。如果您选择以这种方式接收建议查询并且需要将通配符添加到查询文本，请将它们附加（和/或前缀）到 selectionArgs 参数，因为此值包含在引号中并插入到问号的位置。

上例中的另一个新属性是 android:searchSuggestIntentAction，它定义了用户选择建议时随每个意图发送的意图操作。将在“声明建议意图”一节中进一步讨论。

# ios - iOS：如何检查给定的 Class 是一种 UIViewController 类？

> ID：15492944
> 
> 赞同：7
> 
> 时间：2013-03-19T06:33:02.023
> 
> 标签：ios, objective-c, class, uiviewcontroller

我正在编写一个返回给定视图控制器类的视图控制器实例的方法，但我需要确保传入的类实际上是一个视图控制器类：

```
- (UIViewController *)viewControllerWithClass:(Class)cls nibName:(NSString *)nibName
{
    if (cls is kind of UIViewController subclass)
        return [[[cls alloc] initWithNibNamed:nibName bundle:nil] autorelease];
    return nil;
} 
```

我无法比较类的名称，因为`cls`可能不是 UIViewController。

编辑：

抱歉，我的意思是在方法内部，如何检查是否`cls`是一种 UIViewController 子类

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-19T06:38:55.143

```
if ([cls isSubclassOfClass:[UIViewController class]]) {

   //Your code

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:34:30.797

您可以使用以下代码。

```
if ([cls isKindOfClass:[UIViewController class]]) {
    //your code
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T06:35:44.597

如果您有一个表示要测试的 Objective-C 类的类对象，则使用[`+ (BOOL)isSubclassOfClass:(Class)aClass`](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Protocols/NSObject_Protocol/Reference/NSObject.html#//apple_ref/occ/intfm/NSObject/isKindOfClass%3a)它返回一个布尔值，该值指示接收器是给定类的实例还是从该类继承的任何类的实例。（必需的）

```
if([cls isKindOfClass:[UIViewController class]])
{
} 
```

**编辑**

如果您有一个类对象，它是要测试的类的子类或相同，则使用[`+ (BOOL)isSubclassOfClass:(Class)aClass`](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSObject_Class/Reference/Reference.html)它返回一个布尔值，指示接收类是给定类的子类还是相同。

```
if([cls isSubclassOfClass:[UIViewController class]])
{
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-21T04:44:52.583

```
// Check This out
if([youViewControllerObject isKindOfClass:[UIViewController class]])
{
    NSLog(@"isViewcontroller Class");
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-08-28T18:26:04.843

这个答案来得有点晚，但是由于您要检查*类对象*的类（而不是类的实例），因此以下是适当的测试：

```
if(cls == [UIViewController class]) {
   // Whatever ...
} 
```

# java - javac 源和目标选项

> ID：15492948
> 
> 赞同：37
> 
> 时间：2013-03-19T06:33:32.353
> 
> 标签：java, javac

我已经看到了[哪些 JDK 的发行版可以运行 `javac -source 1.6 -target 1.5` 中讨论的编译选项？](https://stackoverflow.com/questions/9260448/which-jdks-distributions-can-run-javac-source-1-6-target-1-5). 我了解源和目标的各个选项。我不明白为什么源版本高于目标版本。为旧目标编译代码是有意义的。但是在那种情况下，我们为什么不使用 -source 我们希望能够运行的最旧目标

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2014-08-12T20:15:42.093

*   source：您的源代码编译所需的版本。
*   目标：您要支持的最旧的 JRE 版本。

确保还设置 bootclasspath 以确保您的程序可以在较旧的 VM 上运行。

* * *

从`javac` [文档](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javac.html#crosscomp-example)中：

> ## 交叉编译示例
> 
> 以下示例使用 javac 编译将在 1.6 VM 上运行的代码。
> 
> ```
> C\:>javac -source 1.6 -target 1.6 -bootclasspath C:\jdk1.6.0\lib\rt.jar -extdirs "" OldCode.java 
> ```
> 
> 该`-source 1.6`选项指定使用 Java 编程语言的 1.6（或 6）版本来编译`OldCode.java`. option`-target 1.6`选项确保生成的类文件与 1.6 VM 兼容。请注意，在大多数情况下，`-target`期权的价值就是期权的价值`-source`；在此示例中，您可以省略该`-target`选项。
> 
> 您必须指定`-bootclasspath`选项以指定引导类（`rt.jar`库）的正确版本。如果不是，编译器会生成以下警告：
> 
> ```
> C:\>javac -source 1.6 OldCode.java
> warning: [options] bootstrap class path not set in conjunction with -source 1.6 
> ```
> 
> 如果您没有指定正确的引导类版本，编译器将使用旧的语言规则（在本例中，它将使用 Java 编程语言的 1.6 版）与新的引导类相结合，这可能会导致类文件不要在较旧的平台（在本例中为 Java SE 6）上工作，因为可以包含对不存在的方法的引用。

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2013-03-20T13:42:08.190

Java 是向后兼容的。您使用**-source**选项指定用于编译的 java 版本，并使用**-target**选项指定要支持的最低 java 版本。例如。如果我指定 1.4 的目标，那么我的程序将无法在 java 1.3 或更低版本上运行。有关更多信息，请参阅以下 javac[文档](http://docs.oracle.com/javase/6/docs/technotes/tools/windows/javac.html)。特别是关于**交叉编译选项的部分**

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-12-12T15:45:11.313

Peter Tseng 确实提到了很多在编译过程中要记住的关键点。事实上，即使我曾经遇到过类似的问题，也想分享许多问题的根本原因。

我有一个源代码必须编译并使其兼容 (-source & -target) **Java '1.8'**。代码本身有

1.  很多商标符号，因此我最终得到了无法识别的字符（我不得不调整 IntelliJ Idea 的编码设置）
2.  `java.sql.*`包的很多变化
3.  大量第三方库的使用。免除我解释那里调试的困难和等等等等的恐惧。

经过某些更改后，我最终得到了一个运行相同数量的 JUnit 测试用例的代码。最后我碰到了一个`java.lang.VerifyError`。当我了解到当我在不同的库/环境中编译和运行代码时会发生这种错误时，我感到很震惊（事实并非如此）。

我几乎错过的是，为了纪念**测试必须在隔离环境中运行这一事实，Junit 及其测试用例在单独的分叉 VM 中执行**

```
<target name="runJunit">
    <junit printonsummary="on" 
           haltonfailure="off"
           fork="true"
           forkmode="once">
        <formatter />
        <batchtest />
        <classpath />
    </junit>
</target> 
```

这显然将作为一个单独的进程跨越，并在执行中作为一个独立的应用程序。尽管 IDE 同步跨越两个进程，但 JVM 几乎是隔离的。

**在 Java 1.7 之后，Oracle 引入了更严格的验证并稍微改变了类格式——包含一个堆栈映射，用于验证代码是否正确**。我看到的异常是因为某些方法没有有效的堆栈映射。我最终尝试包含许多 JVM 选项来调整设置，但徒劳无功。

```
<jvmarg value="bootclasspath:{env.JAVA_HOME}\jre\bin\rt.jar" prefix="-X"/> 
```

没有任何效果。唯一的解决方法是包括

```
<jvmarg value=":UseSplitVerifier" prefix="-XX"/> 
```

在 Java 1.7 中只允许名义上的字节码验证。由于这是在 Java 1.8 中取消的，唯一的选择是使用

```
<jvmarg value="-noverify"/> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-06T10:09:38.343

JDK1.8 将不再支持 -source 和 -target 小于 1.6

```
"c:\Program Files\Java\jdk1.8.0_121\bin\javac.exe" -source 1.3 HelloWorld.java
warning: [options] bootstrap class path not set in conjunction with -source 1.3
warning: [options] source value 1.3 is obsolete and will be removed in a future release
warning: [options] target value 1.4 is obsolete and will be removed in a future release
warning: [options] To suppress warnings about obsolete options, use -Xlint:-options.
4 warnings 
```

# c++ - 在 C++ 中执行并接收 mml 命令的输出

> ID：15492951
> 
> 赞同：0
> 
> 时间：2013-03-19T06:33:35.157
> 
> 标签：c++, c, parsing

我有一个界面，用于在我的 solaris unix 中执行 mml 命令，如下所示：

```
> eaw 0004
<RLTYP; 
BSC SYSTEM TYPE DATA

GSYSTYPE
GSM1800

END
< 
```

一旦我`eaw <name>`在命令行上执行此操作，它将启动一个界面，我可以在其中执行 mml 命令，并且我可以看到执行的这些命令的输出。

我的想法是在 C++ 中解析命令输出。我可以取消一些解析逻辑。但是从如何让命令在 c++ 中执行开始？有没有预定义的方法来做到这一点。这应该类似于在 c++ 中执行 sql 查询。但是我们使用其他库来执行 sql 查询。我也不想运行 shell 脚本或在其间创建临时文件。

我想要的是在 C++ 中执行命令并获取输出，甚至是 C++ 中的输出。谁能给我正确的方向？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T06:48:19.717

你有几个选择。从最简单和最简单到最难和最复杂的使用：

*   使用[`system()`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/system.html)调用生成 shell 来运行命令
*   使用[`popen()`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/popen.html)调用生成一个子进程并写入其标准输入流或从其标准输出流中读取（但不能同时读取两者）
*   使用[`pipe()`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/pipe.html#)、[`fork()`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/fork.html)、[`dup()`/`dup2()`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/dup.html)和的组合[`exec*()`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/exec.html)来生成子进程并为子进程的标准输入和输出设置管道。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:58:48.293

下面的代码是用`sh`命令完成的。这将重定向`stdout`到一个名为“out”的文件，稍后可以读取该文件以处理输出。进程的每个命令都可以通过管道写入。

```
#include <stdio.h>
int main()
{
        FILE *fp;
        fp = popen("sh > out", "w");
        if (fp) {
                fprintf(fp, "date\n");
                fprintf(fp, "exit\n");
                fclose(fp);
        }
        return 0;
} 
```

# c++ - 在 VC++ PPL 中，如何创建一个同步返回的任务返回方法？

> ID：15492953
> 
> 赞同：3
> 
> 时间：2013-03-19T06:33:52.240
> 
> 标签：c++, windows-8, windows-runtime, task-parallel-library, ppl

考虑以下 C# 代码：

```
async Task DoSomethingAsync()
{
 if (m_f)
   return;
 await DoSomethingInternalAsync();
} 
```

编译器将其转换为一个任务返回调用，如果 m_f 为真，则任务立即完成，否则，它将异步操作“委托”给 DoSomethingInternalAsync()。

现在，我如何在 C++ 中做到这一点？代码应如下所示：

```
task<void> DoSomethingAsync()
{
if (m_f)
   return [[What do I return here so the task is complete (.then called immediately)?!]];
return DoSomethingInternalAsync();
} 
```

Edit1：在 C# 中，我可以使用 TaskCompletionSource<> 来做同样的事情，但不使用 async 关键字 - 本质上是创建一个已完成的任务。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-02-10T00:36:57.450

另一种方法是[task_from_result](http://msdn.microsoft.com/en-us/library/dn237326.aspx)。您可以使用`concurrency::task_from_result()`for`task<void>`方法和`concurrency::task_from_result(theReturnValue)`for`task<T>`方法。我相信这是 Visual Studio 2013 的新起点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T08:21:43.250

明白了.. 这将创建一个空任务：

```
concurrency::create_task([]{}); 
```

# c - 'char const * const c=""' 是什么意思

> ID：15492955
> 
> 赞同：4
> 
> 时间：2013-03-19T06:34:06.540
> 
> 标签：c, pointers, constants, variable-declaration

```
char const*const variablename = " "; 
```

这是什么意思？

和指针声明一样吗？

请任何人解释。

先感谢您！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T06:35:18.120

它是一个`const`指向`const`C 字符串的指针。这意味着既不能更改字符串的内容，也不能更改指针本身。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-19T06:36:18.703

> const*保护他的左侧*，除非他的左侧没有任何东西， **然后**才保护他的右侧。

将此应用于您的示例，它是**`const`指向`const` `String`**.

# c# - 日期转换错误

> ID：15492956
> 
> 赞同：5
> 
> 时间：2013-03-19T06:34:06.763
> 
> 标签：c#, .net, winforms, datetime

我正在开发 Windows 应用程序。

因为我有字符串格式的日期为>>`fileDate="15/03/2013"`

我希望它被转换为日期格式，因为我的数据库字段是`datetime`.

我用了以下的东西>>

```
DateTime dt = DateTime.ParseExact(fileDate, "yyyyy-DD-MM", CultureInfo.InvariantCulture);

DateTime dt = DateTime.Parse(fileDate); 
```

这两种方法都证明失败给我错误>>

```
String was not recognized as a valid DateTime. 
```

什么是错误？

有没有另一种技术可以做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T06:36:59.730

```
 string fileDate = "15/03/2013";
 DateTime dt = DateTime.ParseExact(fileDate, "dd/mm/yyyy", CultureInfo.InvariantCulture); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-19T06:35:22.047

您必须根据[ParseExact](http://msdn.microsoft.com/en-us/library/system.datetime.parseexact.aspx)的日期字符串提供日期格式。您可以在[自定义日期时间格式上查看更多信息 - MSDN](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)

*改变*

```
"yyyy-MM-dd HH:ss" 
```

*到*

```
"dd/MM/yyyy" 
```

你的代码是

```
DateTime dt = DateTime.ParseExact(fileDate, "dd/MM/yyyy", CultureInfo.InvariantCulture); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-19T06:39:38.580

你应该做这个：

```
DateTime dt = DateTime.ParseExact(fileDate, "dd/MM/yyyy",CultureInfo.InvariantCulture); 
```

您必须以与传入字符串`"dd/MM/yyyy"`相同的样式传入 format() 字符串`fileDate`。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-19T06:49:39.383

你可以试试这个 SimpleDateFormat dateFormat = new SimpleDateFormat("MM/dd/yyyy"); 日期转换日期 = dateFormat.parse("ur_dateString")

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-19T06:42:12.463

在您当前的代码中，您使用的格式`"yyyyy-DD-MM"`是错误的，因为日期部分需要小写`d`而不是大写`D`。, 同样对于年份部分，您指定 5`y`秒，它应该是 4，例如`yyyy`，根据您的日期字符串的顺序应该是：`"dd/MM/yyyy"`。为了安全起见，您甚至可以使用`"d/M/yyyy"`，它适用于一位数或两位数的日/月。

所以你的代码应该是：

```
string fileDate="15/03/2013";
DateTime dt = DateTime.ParseExact(fileDate, "dd/MM/yyyy", CultureInfo.InvariantCulture); 
```

您可以在[自定义日期时间格式上查看更多信息 - MSDN](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-19T06:34:59.130

这是因为字符串“15/03/2013”​​不能真正解析为格式字符串“yyyy-MM-dd HH:ss”的日期时间。

# python - 无法从 GAE 本地环境中获取 URL

> ID：15492961
> 
> 赞同：5
> 
> 时间：2013-03-19T06:34:41.953
> 
> 标签：python, google-app-engine, urllib2

尝试在谷歌应用引擎中使用 urllib2 获取 URL 时出现以下错误：

```
error: An error occured while connecting to the server: Unable to fetch URL: http://www.google.com Error: [Errno 10106] getaddrinfo failed 
```

这是调用 urllib2 开放读取方法的代码：

```
def get(self):
        self.write(urllib2.urlopen("http://www.google.com").read())
        self.render_index() 
```

没什么特别的，只是调用主处理程序中的库来输出获取的文本。

我的电脑正确解析 DNS。我可以使用 python interpeter 中的 urllib2 库，成功获取 URL。

从谷歌服务器运行的部署代码按预期工作，这与我的本地环境有关，但我找不到它是什么。

我还尝试使用来自 gae 的 urlfetch，结果相似（相同的 getaddrinfo 失败）

在使用 urllib2 库之前的几天，我切换到了谷歌 DNS，但是切换回 ISP，前提是 DNS 也不起作用。

编辑：当使用 IP 地址调用函数时，会获取 URL：

```
self.write(urllib2.urlopen("http://173.194.42.34").read()) 
```

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:49:39.343

我相当确定您的 DNS 解析器无法解析主机名。我假设您的操作系统或安全软件禁止开发服务器创建出站连接。另一种可能性是您的操作系统上的主机文件中有无效条目。

此外，还有[许多类似的问题](https://stackoverflow.com/search?q=%5Bgoogle-app-engine%5D%20getaddrinfo%20failed)可以帮助您。

# javascript - HTML 计算器

> ID：15492965
> 
> 赞同：-2
> 
> 时间：2013-03-19T06:34:56.350
> 
> 标签：javascript, html, forms

所以我正在做一件非常基本的事情。我写了这段代码。我无法从中得到结果。我不确定我做错了什么。因为我在学习。

```
<head>
<script language="javascript" type="text/javascript">
function add(){
    var input1=a;
    var input2=b;
    var result = a+b;
    input1 = parseInt(document.getElementById("t1").value);
    input2 = parseInt(document.getElementById("t2").value);
    document.write("result");
}
</script>
<title>java</title>
</head>
<body>
    <form name="f1">
        <input type="text" id="t1" name="t1">
        <input type="text" id="t2" name="t2">
        <p>
            <input type="button" id="add" value="add" onClick="function add();">
            <input type="button" id="divide" value="divide" onClick="javascript:function divide();">
            <input type="button" id="subtract" value="subtract" onClick="javascript:function subtract();">
            <input type="button" id="multiply" value="multiply" onClick="javascript:function multiply();">
        </p>
    </form>
</body>
</html> 
```

但它不会产生结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:37:39.473

结果实际上并没有被写入，您正在编写字符串“result”。

```
var input1=parseInt(document.getElementById("t1").value);
var input2=parseInt(document.getElementById("t2").value);
var result = input1+input2;
document.write(result); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T06:44:18.077

将您的功能修改为：

```
 function add(){       
    var input1 = parseInt(document.getElementById("t1").value);
    var input2 = parseInt(document.getElementById("t2").value);
    var result = input1+input2;
    document.write(result);
    } 
```

希望这可以帮助

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T10:16:52.993

尝试这个：

```
<head>
<script language="javascript" type="text/javascript">
function add(){

   var  input1 = parseInt(document.getElementById("t1").value);
   var  input2 = parseInt(document.getElementById("t2").value);
var result = input1 +input2;
    document.write(result);
}
</script>
<title>java</title>
</head>
<body>

        <input type="text" id="t1" name="t1">
        <input type="text" id="t2" name="t2">
        <p>
            <input type="button" id="add" value="add" onClick="add();">
            <input type="button" id="divide" value="divide" onClick="divide();">
            <input type="button" id="subtract" value="subtract" onClick="subtract();">
            <input type="button" id="multiply" value="multiply" onClick="multiply();">
        </p>

</body>
</html> 
```

你可以在[http://htmledit.squarefree.com/上查看这个](http://htmledit.squarefree.com/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T06:37:29.260

```
<script language="javascript" type="text/javascript">
function add(){

var input1 = parseInt(document.getElementById("t1").value);
var input2 = parseInt(document.getElementById("t2").value);
var result = input1 +input2 ;
document.write(result);
}
</script> 
```

# ruby - 法拉第：您可能需要安装 system_timer 以获得可靠的超时

> ID：15492968
> 
> 赞同：11
> 
> 时间：2013-03-19T06:35:01.790
> 
> 标签：ruby, gem

我将旧脚本迁移到新的 CentOS 机器，并在运行脚本时收到以下消息：

> 法拉第：您可能需要安装 system_timer 以获得可靠的超时

这是一个警告吗？是什么`system_timer`？宝石？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-11-20T01:48:52.233

它是一颗宝石。

不过，您应该不再需要它，因为它只支持 Ruby 1.8 和更早版本（并且 Ruby 1.8 已正式弃用）。

来自[http://ph7spot.com/musings/system-timer](http://ph7spot.com/musings/system-timer)：

> 更新： system_timer 仅在您运行 Ruby 1.8 时才相关。如果您正在运行 Ruby 1.9、JRuby、Rubinius 或 MacRuby，则不需要它。实际上，将 system_timer 与其中一个 Ruby 解释器一起使用甚至没有任何意义，因为如本文所述，system_timer 旨在解决 Ruby MRI 1.8（绿色线程）中线程实现的基本限制。所有其他 Ruby 解释器都使用本机线程，只要释放全局解释器锁，timeout.rb 就应该按预期工作。

# cassandra - 在 cassandra 中获取 partitionID 的所有记录会导致 RPC 超时

> ID：15492969
> 
> 赞同：1
> 
> 时间：2013-03-19T06:35:05.303
> 
> 标签：cassandra

我正在使用 Cassandra 1.2.1、复合键并尝试获取特定 partitionID 的所有记录。以下是我正在使用的架构：

*   时间戳
*   设备ID
*   数据传输
*   位置 ID
*   设备所有者

主键是一个复合键：(TimeStamp, Device ID)。因此时间戳是分区键。每条记录将是 70-80 字节。

有 1000 个不同的 TimeStamp，每个时间戳都有 500K 设备 ID。所以有 5 亿条记录，我想获取特定时间戳的所有记录。类似于：

从 TimeStamp = '..' 的架构中选择 *

我的理解是这个查询应该能够快速获取所有记录，因为相关行都存储在连续的磁盘位置，这意味着很少有磁盘搜索会给我们结果。过滤器在 TimeStamp 上，这意味着查询只会命中一个节点。此外，数据总量为 500K * 80 字节 ~ 40 MB，也不算多。但是，当我使用 CQL (3) 或 Astyanax 运行它时，我得到了 RPC 超时。

我对 partitionID 的所有记录都在连续磁盘位置的理解是否错误？批量获取此类数据的正确方法应该是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T07:59:38.457

最终这些列将在磁盘上彼此靠近，因为它们在同一行中。但在压缩完成之前（即假设您不运行 nodetool compact），它们不会。但是它们应该被分成几个 SSTables。

但是，较慢的可能是 CPU 反序列化，比较其他副本的结果并序列化回客户端。我怀疑您是否可以在 rpc_timeout （默认为 10 秒）内对 500k 个对象执行此操作。

为此，您应该对结果进行分页。

对于您的第一个查询，请执行

```
SELECT * from schema where TimeStamp = '..' limit 1000 
```

然后取最后一个设备 ID 并最后调用它：

```
SELECT 'last'..'' from schema where TimeStamp = '..' limit 1000 
```

直到响应中的列数少于 1000。

# java - 如何将 java.io.File 转换为 com.liferay.portal.kernel.util.File

> ID：15492970
> 
> 赞同：0
> 
> 时间：2013-03-19T06:35:05.937
> 
> 标签：java, file, design-patterns, file-upload, casting

我在liferay工作我有这个功能：

```
public class NewPortlet extends MVCPortlet {

public void abc(ActionRequest arq,ActionResponse ars) throws Exception {
    UploadPortletRequest uploadRequest = PortalUtil.getUploadPortletRequest(arq);
    FileUploader fileUp = new FileUploaderImpl();
    fileUp.setFid(CounterLocalServiceUtil.increment("FileUploader.class"));
    File file = (File) uploadRequest.getFile("file");   
    byte[] bytes = FileUtil.getBytes(file);
    fileUp.setContent(Base64.objectToString(bytes));
    FileUploaderLocalServiceUtil.addFileUploader(fileUp);
}
} 
```

其中 File 属于 com.liferay.portal.kernel.util.File；我正在尝试使用上述功能上传图片。我让 UI 上传图片，当我点击提交时，我收到以下错误：

```
ERROR [http-bio-8080-exec-37][render_portlet_jsp:154] java.lang.ClassCastException: java.io.File cannot be cast to com.liferay.portal.kernel.util.File
at com.test.image.test.NewPortlet.abc(NewPortlet.java:25)
at com.liferay.portal.kernel.portlet.LiferayPortlet.callActionMethod(LiferayPortlet.java:153)
at com.liferay.util.bridges.mvc.MVCPortlet.callActionMethod(MVCPortlet.java:250)
at com.liferay.portal.kernel.portlet.LiferayPortlet.processAction(LiferayPortlet.java:80)
at com.liferay.util.bridges.mvc.MVCPortlet.processAction(MVCPortlet.java:220)
at com.liferay.portlet.FilterChainImpl.doFilter(FilterChainImpl.java:70)
at com.liferay.portal.kernel.portlet.PortletFilterUtil.doFilter(PortletFilterUtil.java:48)
at com.liferay.portal.kernel.servlet.PortletServlet.service(PortletServlet.java:111)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:72)
at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:73)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)
at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:593)
at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:530)
at com.liferay.portlet.InvokerPortletImpl.invoke(InvokerPortletImpl.java:534)
at com.liferay.portlet.InvokerPortletImpl.invokeAction(InvokerPortletImpl.java:579) 
```

我应该怎么做才能将 java.io.File 转换为 com.liferay.portal.kernel.util.File？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:44:10.347

您不能强制`java.io.File`转换为`com.liferay.portal.kernel.util.File`，因为`java.io.File`没有实现`com.liferay.portal.kernel.util.File`接口。

**请记住，只有当 A is-a** B 时，您才能将 A 转换为B。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T07:23:48.683

直接的答案是你不能......'cos`java.io.File`不是`com.liferay.portal.kernel.util.File`接口的子类。

* * *

但真正的答案是您可能根本不应该尝试`com.liferay.portal.kernel.util.File`界面。据我所知，它是某种 utils 类的接口……它没有任何明显的实现类。（坦率地说，我根本想不通为什么这个接口存在！）

事实上，我*认为*你应该这样做：

```
java.io.File file = ...
byte[] bytes = com.liferay.portal.kernel.util.FileUtil.getBytes(file); 
```

或者：

```
java.io.File file = ...
com.liferay.portal.kernel.util.FileUtil fu = 
            new com.liferay.portal.kernel.util.FileUtil();
byte[] bytes = fu.getBytes(file); 
```

（我使用完全限定名称仅用于说明目的......）

这是基于我在这里找到的 Liferay 5.1 javadocs 和源代码。YMMV。

# php - Windows 服务器上的 php smtp 问题以获取联系表单

> ID：15492977
> 
> 赞同：0
> 
> 时间：2013-03-19T06:35:26.787
> 
> 标签：php, email, sendmail, contact

我在使用网站上的联系表时遇到问题。单击提交时，需要向网站所有者的电子邮件地址发送一封邮件。

我使用了几个邮件脚本，但似乎没有一个工作正常。但是，当在另一台服务器上使用相同的脚本时，它工作得很好。

我最好的猜测是问题出在 Windows 服务器上。我已经在 linux 服务器上测试过脚本，但我以前从未使用过 windows 服务器。

```
<?php
//Retrieve form data. 
//GET - user submitted data using AJAX
$name = ($_GET['name']) ? $_GET['name'] : $_POST['name'];
$email = ($_GET['email']) ?$_GET['email'] : $_POST['email'];
$tel = ($_GET['tel']) ?$_GET['tel'] : $_POST['tel'];
$msg = ($_GET['message']) ?$_GET['message'] : $_POST['message'];
$oname = 'website | Contact Us page';

//flag to indicate which method it uses. If POST set it to 1
if ($_POST) $post=1;

    //recipient
    $to = 'sample@example.com';

    //sender
    $from = $oname . ' <' . $email . '>';

    //subject and the html message
    $subject = $csubject;   
    $comment = '
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head></head>
    <body>
    <table>
        <tr><td>Name: </td><td>' . $name . '</td></tr>
        <tr><td>Tel: </td><td>' . $tel . '</td></tr>
        <tr><td>Email: </td><td>' . $email . '</td></tr>
        <tr><td>Message: </td><td>' . nl2br($msg) . '</td></tr>
    </table>
    </body>
    </html>';

    //send the mail
    $result = sendmail($to, $subject, $comment, $from);

    //if POST was used, display the message straight away
    if ($_POST) {
        if ($result) echo 'Thank you! We have received your message.';
        else echo 'Sorry, unexpected error. Please try again later';

    //else if GET was used, return the boolean value so that 
    //ajax script can react accordingly
    //1 means success, 0 means failed
    } else {
        echo $result;
    }

//Simple mail function with HTML header
function sendmail($to, $subject, $comment, $from) {
    $headers = "MIME-Version: 1.0" . "\r\n";
    $headers .= "Content-type:text/html;charset=iso-8859-1" . "\r\n";
    $headers .= 'From: ' . $from . "\r\n";

    $result = mail($to,$subject,$comment,$headers);

    if ($result) return 1;
    else return 0;

}

?> 
```

一点帮助将不胜感激。

谢谢你。

已编辑

联系表格.htm

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
</head>

<body>

<form name="contactform" method="post" action="send_form_email.php">
<table width="450px">
<tr>
 <td valign="top">
  <label for="first_name">First Name *</label>
 </td>
 <td valign="top">
  <input  type="text" name="first_name" maxlength="50" size="30">
 </td>
</tr>
<tr>
 <td valign="top"">
  <label for="last_name">Last Name *</label>
 </td>
 <td valign="top">
  <input  type="text" name="last_name" maxlength="50" size="30">
 </td>
</tr>
<tr>
 <td valign="top">
  <label for="email">Email Address *</label>
 </td>
 <td valign="top">
  <input  type="text" name="email" maxlength="80" size="30">
 </td>
</tr>
<tr>
 <td valign="top">
  <label for="telephone">Telephone Number</label>
 </td>
 <td valign="top">
  <input  type="text" name="telephone" maxlength="30" size="30">
 </td>
</tr>
<tr>
 <td valign="top">
  <label for="comments">Comments *</label>
 </td>
 <td valign="top">
  <textarea  name="comments" maxlength="1000" cols="25" rows="6"></textarea>
 </td>
</tr>
<tr>
 <td colspan="2" style="text-align:center">
  <input type="submit" value="Submit">   <a href="http://www.freecontactform.com/email_form.php">Email Form</a>
 </td>
</tr>
</table>
</form>

</body>
</html> 
```

send_form_email.php

```
<?php
if(isset($_POST['email'])) {

    // EDIT THE 2 LINES BELOW AS REQUIRED
    $email_to = "sample@example.com";
    $email_subject = "test";

    function died($error) {
        // your error code can go here
        echo "We are very sorry, but there were error(s) found with the form you submitted. ";
        echo "These errors appear below.<br /><br />";
        echo $error."<br /><br />";
        echo "Please go back and fix these errors.<br /><br />";
        die();
    }

    // validation expected data exists
    if(!isset($_POST['first_name']) ||
        !isset($_POST['last_name']) ||
        !isset($_POST['email']) ||
        !isset($_POST['telephone']) ||
        !isset($_POST['comments'])) {
        died('We are sorry, but there appears to be a problem with the form you submitted.');       
    }

    $first_name = $_POST['first_name']; // required
    $last_name = $_POST['last_name']; // required
    $email_from = $_POST['email']; // required
    $telephone = $_POST['telephone']; // not required
    $comments = $_POST['comments']; // required

    $error_message = "";
    $email_exp = '/^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/';
  if(!preg_match($email_exp,$email_from)) {
    $error_message .= 'The Email Address you entered does not appear to be valid.<br />';
  }
    $string_exp = "/^[A-Za-z .'-]+$/";
  if(!preg_match($string_exp,$first_name)) {
    $error_message .= 'The First Name you entered does not appear to be valid.<br />';
  }
  if(!preg_match($string_exp,$last_name)) {
    $error_message .= 'The Last Name you entered does not appear to be valid.<br />';
  }
  if(strlen($comments) < 2) {
    $error_message .= 'The Comments you entered do not appear to be valid.<br />';
  }
  if(strlen($error_message) > 0) {
    died($error_message);
  }
    $email_message = "Form details below.\n\n";

    function clean_string($string) {
      $bad = array("content-type","bcc:","to:","cc:","href");
      return str_replace($bad,"",$string);
    }

    $email_message .= "First Name: ".clean_string($first_name)."\n";
    $email_message .= "Last Name: ".clean_string($last_name)."\n";
    $email_message .= "Email: ".clean_string($email_from)."\n";
    $email_message .= "Telephone: ".clean_string($telephone)."\n";
    $email_message .= "Comments: ".clean_string($comments)."\n";

// create email headers
$headers = 'From: '.$email_from."\r\n".
'Reply-To: '.$email_from."\r\n" .
'X-Mailer: PHP/' . phpversion();

ini_set('sendmail_from', 'example@sample.com');

if(mail($email_to, $email_subject, $email_message, $headers) )

echo  "Thank you for contacting us. We will be in touch with you very soon.";

else

echo "error";

?>

<!-- include your own success html here -->

<?php

}
?> 
```

在服务器上测试这些代码时，它没有工作。我没有收到邮件。

但相同的脚本适用于另一台服务器

感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:56:10.487

似乎您必须在服务器上配置 SMTP

您可以使用谷歌免费的 SMTP 服务器 设置也很容易。

[在此链接](https://code.google.com/a/apache-extras.org/p/phpmailer/wiki/PHPMailer?tm=6)中研究 php mailer

```
<?php

$mail = new PHPMailer(true);

//Send mail using gmail
if($send_using_gmail){
    $mail->IsSMTP(); // telling the class to use SMTP
    $mail->SMTPAuth = true; // enable SMTP authentication
    $mail->SMTPSecure = "ssl"; // sets the prefix to the servier
    $mail->Host = "smtp.gmail.com"; // sets GMAIL as the SMTP server
    $mail->Port = 465; // set the SMTP port for the GMAIL server
    $mail->Username = "your-gmail-account@gmail.com"; // GMAIL username
    $mail->Password = "your-gmail-password"; // GMAIL password
}

//Typical mail data
$mail->AddAddress($email, $name);
$mail->SetFrom($email_from, $name_from);
$mail->Subject = "My Subject";
$mail->Body = "Mail contents";

try{
    $mail->Send();
    echo "Success!";
} catch(Exception $e){
    //Something went bad
    echo "Fail :(";
}

?> 
```

# excel - 如何使用宏将数据从一个工作表行到行尾绑定到组合框中

> ID：15492978
> 
> 赞同：0
> 
> 时间：2013-03-19T06:35:28.257
> 
> 标签：excel, vba

请为我提供此问题的解决方案。我是宏的新手，我无法执行此操作。

我试过这段代码

```
Sub BindCombo()
Dim Last

Last = Sheets("Defect Dump").Cells(2, 2).End(xlDown).Row
With ComboBox1
For Row = 2 To Last
.AddItem Sheets("Defect Dump").Cells(Row, 1)
Next Row
End With

End Sub 
```

但是此代码显示对象错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:32:23.067

您需要创建一个对象引用`ComboBox`

试试这个

```
Sub BindCombo()
    Dim Last As Long, rw As Long
    Dim sh As Worksheet
    Dim cb As ComboBox

    Set sh = Sheets("Defect Dump")
    Last = sh.Cells(2, 2).End(xlDown).Row
    ' get Combobox on "project sheet" sheet
    Set cb = Sheets("project sheet").Shapes("ComboBox1").DrawingObject.Object
    With cb
        .Clear ' remove any existing items
        For rw = 2 To Last
            .AddItem sh.Cells(rw, 1)
        Next
    End With

End Sub 
```

# c - 链表程序中的分段错误

> ID：15492979
> 
> 赞同：0
> 
> 时间：2013-03-19T06:35:32.427
> 
> 标签：c, segmentation-fault

该程序在第一条`printf`语句之后导致分段错误。据我所知，如果出现分段错误，内存堆栈将已满。但在我的情况下，没有递归程序，只有在调用程序 4 次之后。

请帮助我理解为什么会这样。

这是代码：

```
#include<stdio.h>
#include<stdlib.h>
#include<malloc.h>

struct node
{
    int data;
    struct node *link;
};

void append(struct node **, int);
void addatbeg(struct node **,int);
int count(struct node *);
void display(struct node *);
void addafter(struct node **, int,int);

int main()
{
    struct node *q;
    q= NULL; //list is empty

    append(&q,10);
    append(&q,20);
    append(&q,30);
    append(&q,40);

    printf("Now display the contents of the linked list:\n");
    display(q);

    addatbeg(&q,17);
    addatbeg(&q,59);

    printf("after adding the elements in the beginning, new linked list contents are\n");

    display(q);

    addafter(&q,4, 15);
    addafter(&q,7, 25);
    printf("after adding the elements at specified location, list elements are:    \n");
    display(q);

    printf("\n\nCounting of list elements, list has %d elements", count(q));
    return 0;
}

void append(struct node **p, int num)
{
    struct node *temp, *r;
    temp=*p;
    if(*p==NULL)
    //Linked list is empty and the node to be added is the first node
    {
        temp=(struct node *)malloc(sizeof(struct node));
        temp->data=num;
        temp->link=NULL;
        *p=temp;
    }
    else
    {
        while(temp->link!=NULL)
        {
            temp=temp->link;

            r=(struct node*)malloc(sizeof(struct node));
            r->data=num;
            r->link=NULL;
            temp->link=r;
        }
    }
} 

void addatbeg(struct node **p, int num)
{
    struct node *temp, *r;
    temp=*p;

    r=(struct node *)malloc(sizeof(struct node));
    r->data=num;
    r->link=temp->link;
    *p=r;
}

void addafter(struct node **p, int loc, int num)
{
    int i;
    struct node *temp, *r;
    temp=*p;
    //first we will find out the desired loc
    for(i=0; i<loc; i++)
        temp=temp->link;
    //now need to create a new node

    r=(struct node*)malloc(sizeof(struct node));
    r->data=num;
    r->link=temp->link;
    temp->link=r;
}

void display(struct node *p)
{
    while(p!=NULL)
    p=p->link;
    printf("\n%d\t",p->data);
}

int count(struct node *p)
{
    int count=0;
    while(p!=NULL)
    {
        p=p->link;
        count++;
    }
    return count;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:42:22.827

一个问题是，在 中`append()`，您正在循环中创建新元素，而不是仅创建一个：

```
63    while(temp->link!=NULL)
64    {
65     temp=temp->link;

 r=(struct node*)malloc(sizeof(struct node));
68     r->data=num;
69     r->link=NULL;
70     temp->link=r;
71    } 
```

但是，段错误的直接原因可能如下：

```
105 void display(struct node *p)
106 {
107   while(p!=NULL)
108   p=p->link;
109   printf("\n%d\t",p->data);
110 } 
```

在这里，`printf()`需要在循环内。您当前的代码实际上并没有打印元素，而是尝试取消引用`NULL`指针。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:44:08.343

您的问题很可能来自您的显示功能。您可能暂时忘记了括号。

要获得有关内存分配错误的一些非常好的提示，以及更一般地说您对内存做错的任何事情，您应该使用`valgrind`（如果您使用的是 linux 发行版）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T06:48:04.283

在这个函数中

```
void display(struct node *p)
 {
   while(p!=NULL)
   p=p->link;
   printf("\n%d\t",p->data);
 } 
```

当循环结束时 p 将为 NULL。所以你得到分段错误。

将其更改为

```
while(p->link!=NULL){
   ...
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-19T06:48:15.683

第 20-22 行：

您正在将空指针的地址传递给`append`，从而导致未定义的行为。

可能的修复：

```
20 q = malloc(sizeof q);
   *q = NULL; 
```

您的代码似乎还有其他问题，因此请检查其他答案和评论。

# ruby-on-rails-3 - 使用设备重置密码时出现空白消息

> ID：15492980
> 
> 赞同：0
> 
> 时间：2013-03-19T06:35:32.070
> 
> 标签：ruby-on-rails-3, devise, passwords, registration

当我请求重置密码时，我收到没有密码重置消息和链接的空白消息。我在用`devise`

这是我的密码控制器：

```
class PasswordsController < Devise::PasswordsController  
  def create
    self.resource = resource_class.send_reset_password_instructions(resource_params)  
    respond_with({}, :location => after_sending_reset_password_instructions_path_for(resource_name))
  end
end 
```

注册控制器：

```
class RegistrationsController < Devise::RegistrationsController    
  def create
    if verify_recaptcha
      super
    else
      build_resource
      clean_up_passwords(resource) 
      render :new
    end
  end
end 
```

路线.rb：

```
 devise_for :users, controllers: { passwords: 'passwords' }  

  devise_for :users, :path_names=> {:sign_in=> "login", :sign_out=> "logout"}, 
  :controllers => { :registrations => 'registrations' } 
```

# javascript - 用脚本来回滚动视频？

> ID：15492981
> 
> 赞同：1
> 
> 时间：2013-03-19T06:35:33.907
> 
> 标签：javascript, jquery, html, css, flash

有没有办法用视频模拟这种[360 度产品视图](http://spritespin.ginie.eu/)滚动/拖动功能，所以拍摄一段视频并能够像一组图像一样左右滚动它？我发现[这个](http://www.netmagazine.com/tutorials/create-interactive-street-view-jquery)关于 360langstrasse.sf.tv/page/ 网站的教程非常有趣，但它非常适合他们的特定需求并且非常复杂。有没有什么方法可以拍摄一些视频并拥有基于图像的 360 度脚本所获得的左/右滚动/拖动功能？我只想在占位符中加载一个小视频，然后您可以左右拖动它。

我曾考虑将帧转换为 jpeg，然后将它们拼接成全景图，但这很快就会变得非常大。更喜欢视频解决方案，可以只拖动视频本身。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T04:33:07.437

你可以拍摄物体旋转的视频。然后向前播放以旋转一种方式，反向播放以旋转另一种方式。

使用 2 个视频也可以工作 - 一个用于以一种方式旋转，另一个用于以相反方式旋转。

这在 Flash 中是可能的，但我不确定跨浏览器供应商的 HTML5 视频。

[是否可以反向播放 HTML5 视频？](https://stackoverflow.com/questions/5277293/is-it-possible-to-play-html5-video-in-reverse)

# magento - Magento中的上传HTTP错误错误

> ID：15492987
> 
> 赞同：0
> 
> 时间：2013-03-19T06:35:58.967
> 
> 标签：magento

当我通过管理面板在服务器上上传图像时，它在 magento 中显示错误“上传 HTTP 错误”。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-06-03T11:20:24.927

如果您使用 .htaccess 文件对 magento 的根目录进行了密码保护。请删除该限制并重试。这应该适合您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T06:43:09.060

阅读这个 [Magento 上传 HTTP 错误](http://www.paprose.com/blog/magento-upload-http-error/) 和这个 [Magento 上传 HTTP 错误](http://www.shanestillwell.com/index.php/2010/06/03/magento-upload-http-error-solved/)

链接很好，只需将它们复制并在导航器中过去即可

1：似乎已关闭，或正在重建。2：[http ://www.shanestillwell.com/2010/06/03/magento-upload-http-erorr-solved/](http://www.shanestillwell.com/2010/06/03/magento-upload-http-erorr-solved/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-16T20:42:00.617

请参阅 Magento 的基本要求。

例如：服务器必须启用 mcrypt 和 GD PHP 扩展。如果两者都启用。它将自动删除 HTTP 上传错误。

要获取扩展，请联系网络主机并验证两者是否已启用。

如果您是 WHM VPS 或专用服务器所有者，请参阅 WHM 左侧菜单上的 Easy Update 选项，然后从列表中启用并安装它。这将需要几分钟，它将在服务器上安装这两个扩展。

# jquery - 如何更新我的 div 部分？

> ID：15492988
> 
> 赞同：0
> 
> 时间：2013-03-19T06:36:12.377
> 
> 标签：jquery, ruby-on-rails, ajax

我的表格是这样的

index.html.erb

```
<div id="comments_p">
  <%= render (:partial => "comment", :collection => tasks.comments) %>
</div>   
<% form_for :comment, :url => comment_task_path(tasks.id), :html => {:remote => true, :class => "comment_form"} do |f| -%>
  <%= f.text_field :remark, :placeholder => "Add Comments", :rows => 2, 
    :style => "width: 834px; height: 40px;"%>
  <%= f.submit "submit"%>
<% end -%>

<script type="text/javascript">
  jQuery.fn.submitWithAjax = function() {
    this.submit(function() {
      var test = $.post(this.action, $(this).serialize(), null, "script");
      $(".comment_form")[0].reset();
      alert("Comment Submitted");
      return false
    })
    return this;
  };
</script> 
```

应用程序.js

```
jQuery.ajaxSetup({ 
  'beforeSend': function(xhr) {xhr.setRequestHeader("Accept", "text/javascript")}
})

$(document).ready(function() {
  $(".comment_form").submitWithAjax();
}) 
```

我的问题是如何更新我的 div。警报有效，但我似乎找不到如何更新 div comments_p

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T07:29:37.897

希望表单正在提交以**创建****Tasks** **控制器**的方法。由于请求是后端的**js请求，因此只需按照**[Unobtrusive Javascript Railscasts](http://railscasts.com/episodes/205-unobtrusive-javascript?view=asciicast)中的说明在**/app/views/tasks/**文件夹中创建一个名为**create.js.erb**的文件，然后编写您想要执行的代码成功响应后。

 **在 tasks_controller.rb 中获取更新的**任务变量**

```
def create
    #...code for creating the comments for the task
    @tasks = ... #updated record with the latest comments
end 
```

那么**create.js.erb**文件中的响应代码应该是

```
$("#comments_p").html('<%= render_partial :comment, :collection => @tasks.comments) %>'); 
```

在上述代码成功完成请求后，**comments_p div 将被更新。****

# wordpress - Wordpress CSV 导入器插件，从 url 导入文件而不是从 pc 上传文件

> ID：15492992
> 
> 赞同：0
> 
> 时间：2013-03-19T06:36:21.010
> 
> 标签：wordpress, file, plugins, csv

wordpress 插件 csv 导入器[http://wordpress.org/extend/plugins/csv-importer/](http://wordpress.org/extend/plugins/csv-importer/)非常适合从 csv 导入帖子。该插件仅支持浏览文件选项以从本地 pc 上传文件，而我想从文件 url 上传文件。

这可能吗？

有人可以编辑插件代码以使其支持从文件 url 上传文件吗？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:41:22.163

只需将 excel 文件从 URL 下载到您的 PC，然后上传即可。或者我在这里缺少什么？

如果您需要一遍又一遍地重复此操作，我会禁用该插件并安装[WP-All Plugin](http://wordpress.org/extend/plugins/wp-all-import/)，它允许您从 URL 导入。

为了将来参考，有一个csv-importer插件的[支持论坛。](http://wordpress.org/support/plugin/csv-importer)

# xcode - Xcode中的iphone代码签名错误

> ID：15492994
> 
> 赞同：1
> 
> 时间：2013-03-19T06:36:28.210
> 
> 标签：xcode, sign

手机版本是6.1.2，Xcode sdk版本是6.1。Command + R 在模拟器中运行应用程序，效果很好，但是在我的手机中 Command + R 运行应用程序，xcode 显示错误如下：

**CodeSign 错误：SDK“iOS 6.1”中的产品类型“应用程序”需要代码签名**

我不知道为什么，我该如何解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:48:17.863

来自 Apple[技术说明 TN2250](https://developer.apple.com/legacy/library/technotes/tn2250/_index.html)：

```
[BEROR]CodeSign error: code signing is required for product type 'Application' in SDK 'iOS 5.0' 
```

> 使用“分配配置文件以构建配置”部分中的步骤来更正您的代码签名身份配置并密切匹配这些步骤和数字。具体来说，读取“任何 iOS SDK”的行必须分配有配置文件，并且不能设置为“不进行代码签名”。

# dynamics-crm-2011 - Publishing customization doesn't publish customizations

> ID：15492999
> 
> 赞同：0
> 
> 时间：2013-03-19T06:36:47.080
> 
> 标签：dynamics-crm-2011

Sometimes when I hit *Publish All Customizations*, I notice that the process doesn't result in the expected outcome. At first, I blamed my forgetfulness but finally, I took statistics. There **is** something wrong with the publishing facility. I even have a short screencast to prove it!

What am I doing wrong?!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T06:41:21.583

You are most likely **not** doing anything wrong. I've see that behavior quite a few times. It started with RU11, I believe and it's a bug. It appears seldom and has (most often) to do with importing a solution from a lower version of a roll-up, as far I've cared to regard it.

Just to make sure we're talking about the same phenomenon, see [my blog](http://konradviltersten.wordpress.com/2013/01/26/publishing-customizations-doesnt-take-effect-in-crm-on-line/) if you recognize the signs from the screenshots.

Short remedy - hit the button again. It always works the second time.
Long term solution - wait until Microsoft fixes it.