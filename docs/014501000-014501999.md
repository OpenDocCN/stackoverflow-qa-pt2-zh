# StackOverflow 问答 14501000-14501999

# file - Phonegap：在特定文件夹中创建文件

> ID：14501000
> 
> 赞同：9
> 
> 时间：2013-01-24T12:07:09.007
> 
> 标签：file, cordova, directory

我的目标是创建一个文件夹，如“/sdcard/files/excel/”或“/sdcard/files/pdf/”。后面的部分`sdcard`来自 url("/files/excel")。所以首先我想检查“/files/excel”是否存在，如果不存在则创建一个文件。该名称来自名为“localFileName”的 url。

在这种情况下，文件夹="files/excel" 和 localFileName="Sheet1.html"。

在 fs.root.getDirectory 行之后，我收到了名为 FileError.PATH_EXISTS_ERR 的错误 12，但 sdcard 中没有文件夹或文件。

```
window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, function(fs) {
  var folder = file_path.substring(0,file_path.lastIndexOf('/'));
  console.log(folder);
  fs.root.getDirectory(folder,{create: true, exclusive: false},function (datadir) {
    console.log(folder);
    datadir.getFile(localFileName, {create: true, exclusive: false},function(fileEntry) {
      var ft = new FileTransfer();
      yol = "/sdcard/"+folder+localFileName;
      ft.download( remoteFile,yol,function(entry) {
        console.log(entry.fullPath);
      }, fail);
    }, fail);
  }, fail);
}, fail); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-05T17:05:51.963

cordova-phoengap 有一个简单的文件管理器：

[https://github.com/torrmal/cordova-simplefilemanagement](https://github.com/torrmal/cordova-simplefilemanagement)

您可以递归地创建目录：

```
//CREATE A DIRECTORY RECURSIVELY

new DirManager().create_r('folder_a/folder_b',Log('created successfully')); 
```

# compass-sass - 部分编码错误

> ID：14501003
> 
> 赞同：1
> 
> 时间：2013-01-24T12:07:15.627
> 
> 标签：compass-sass, sass

我`compass watch my_project`在 Windows XP 上运行。

*   `index.scss`：

    ```
    @charset "UTF-8";
    @import 'partial';
    // ... 
    ```

*   `_partial.scss`：

    ```
    p:before {
        content: '•';
    } 
    ```

*   `config.rb`：

    ```
    encoding = "utf-8" 
    ```

*   生成`index.css`：

    ```
    @charset "UTF-8";
    /* line 1, ../sass/_partial.scss */
    p:before {
      content: 'ÔÇó';
    }
    // ... 
    ```

如何让 Compass/Sass 将部分解释为 UTF-8？是否可以设置一个环境变量来更改 Ruby 使用的默认字符编码（`compass`是 Ruby 应用程序）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-04-28T10:25:32.790

在我的 Windows 7 机器上，它可以将以下行添加到我的项目的`config.rb`

```
Encoding.default_external = 'utf-8' 
```

还发现了一个很棒的指南针/更少/JS压缩的GUI：http: [//koala-app.com/](http://koala-app.com/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-09-02T09:26:39.407

除了按照@NIA 的建议转义字符（可预测，但很乏味）之外，还有其他两种方法可以解决这个问题：

1.  添加`@charset "utf-8";`到 _partial.scss 的顶部
2.  将 _partial.scss 保存为“带有 BOM 的 UTF-8”。

从我到目前为止所读到的内容来看，这似乎是一个通用的 Ruby/WIN 问题，在构建从磁盘上的文件读取的字符串时，编码检测/回退不正确。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-24T12:25:54.847

也许这不是一个直接的答案，但即使你不能让 Compass/Sass 像你想要的那样解释 UTF，你也可以简单地尝试使用 unicode 转义：

```
p:before {
    content: "\2022";
} 
```

其中 2022 是符号的十六进制代码。为了得到这个代码，我在 irb 中执行了这个：

```
irb> "•"[0].ord.to_s(16)
=> "2022" 
```

如果您有很多 unicode 字符，可能不是一个好的解决方案，但至少是一种解决方法。例如，[FontAwesome](http://fortawesome.github.com/Font-Awesome/)在其[样式表](https://github.com/FortAwesome/Font-Awesome/blob/master/sass/font-awesome.sass)中使用它。

# java - 使用 MediaCodec 压缩

> ID：14501005
> 
> 赞同：0
> 
> 时间：2013-01-24T12:07:21.120
> 
> 标签：java, android, android-mediaplayer, encryption

我正在使用 mediaCodec API 压缩媒体文件（解码和编码），我正在从大小为 4MB（YUV 格式）的解码器中对其进行解码。

当我尝试将此解码后的文件排入编码器时，我遇到了非法状态异常。后来，我发现原因是编码器输入缓冲区没有所需的缓冲区大小。有没有人，谁能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T12:12:26.467

默认输入缓冲区大小为 112 KB，因此如果您的解码器输出大小大于此大小，则应手动修复此问题。通过设置这个常量 MediaFormat.KEY_MAX_INPUT_SIZE

# php - 页面只能通过 joomla iframe 访问，不能在浏览器中访问

> ID：14501009
> 
> 赞同：1
> 
> 时间：2013-01-24T12:07:34.597
> 
> 标签：php, redirect, iframe, joomla

我有一个显示基于 Web 的应用程序的 Joomla iframe。现在我想阻止人们浏览我使用的页面，例如：[http ://www.mywebsite.com/webapplicationname/login.php](http://www.mywebsite.com/webapplicationname/login.php)

浏览到那里时，它们应自动重定向到[http://www.mywebsite.com](http://www.mywebsite.com)并登录 iframe。

所以我想阻止人们浏览我的 web 应用程序，并且只能通过 iframe 访问它。有什么办法可以做到吗？或者至少阻止人们通过浏览器而不是 iframe 访问登录页面？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T12:46:48.880

这是检查页面是否加载到 iframe 中的 javascript 代码：

```
<script type="text/javascript">if (top === self) { not in a frame } else { in a frame }</script> 
```

然后，您可以将打开 iframe 的代码放入`else`

# android - 通过usb与android和串口设备通信

> ID：14501011
> 
> 赞同：3
> 
> 时间：2013-01-24T12:07:37.570
> 
> 标签：android, serial-port, usb

我一直在做大量的阅读和搜索从哪里开始，我看到有些人已经完成了。

1.  我可以这样做吗？我可以将电缆从我的 android 平板电脑插入硬件设备串行端口（带有 USB 到串行转换器）吗？

2.  我可以在不植根设备的情况下做到这一点吗？

3.  如果我能做到，我必须执行哪些步骤？

androids 是否有 api 来访问其 USB 上的串行端口？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T11:41:46.057

我已经在我的根 Nexus 7 上完成了这项工作，并借助此 API：[http](http://code.google.com/p/android-serialport-api/) ://code.google.com/p/android-serialport-api/ 我花了一些时间来使用 api 构建自己的应用程序。但它也带有已经工作的应用程序（包括源代码）。

# vb.net - 通过函数传递二维数组

> ID：14501014
> 
> 赞同：4
> 
> 时间：2013-01-24T12:07:51.213
> 
> 标签：vb.net

我有通过函数传递二维数组的有趣情况。
数组在表单级别范围内声明：
我尝试从 VB6 重写我的部分代码，其中我有可行的示例。

```
Dim myArray(,) As Double 
```

然后我得到一个子数组，其中数组根据数据重新调整和填充，类似这样的符号情况：

```
Public Sub mySub(ByVal myArray(,) As Double)

    Dim temparray() As Double = {3, 5, 7, 9}
    For a As Double = 0 temparray.length - 1
         ReDim Preserve myarray(2, temparray(a))
    Next a

    myArray(1, 5) = 3.14
    ... etc...
End Sub 
```

最后，我想从其他子中填充和读取数组中的数据：

```
mySub(myArray)
Debug.Print(myArray(1, 5)) 
```

在这里我收到错误消息：

> 你调用的对象是空的。

mySub 中的数据已正确填写，但我在调用 sub 时看不到此数据。
我做错了什么，我怎样才能让这个场景工作？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-24T12:19:10.770

你可以通过这样做来解决它：

```
Public Sub mySub(ByRef myArray(,) As Double)
    '...
End Sub 
```

您需要引用该变量才能在 Sub 之外进行更改。

# nginx - 自定义 401 页面不提示在 nginx 上输入凭据

> ID：14501016
> 
> 赞同：4
> 
> 时间：2013-01-24T12:07:58.483
> 
> 标签：nginx, basic-authentication, http-status-code-401

我的网站的一部分受以下保护`auth_basic`：

```
 location / {
            auth_basic "Authorization Required";
            auth_basic_user_file .htpasswd;
            index  app.php;
            try_files $uri @rewriteapp;
    } 
```

对于未经授权的用户（点击“取消”的用户），我想显示一个自定义错误页面。这是我的做法：

```
 error_page 401 = @error401;

    location @error401 {
                    rewrite ^ /error/401.html redirect;
    }

    location /error {
            expires max;
            add_header Pragma public;
            add_header Cache-Control "public";
            index  app.php;
            try_files $uri @rewriteapp;
    } 
```

我必须创建 @error401 别名，以便我可以指定“重定向”，因为如果我使用内部重定向，我的应用程序将处理原始请求（并允许访问实际请求的页面！）

所以这工作正常，页面显示。问题是现在 nginx 甚至不向用户询问那里的凭据。

有没有什么办法解决这一问题 ？或者有什么更好的方法来处理这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T22:02:39.487

这就是我能够完成你想要做的事情的方式：

```
## Path must be prefixed with a /, i.e. /401.html, NOT 401.html
error_page 401 /401.html;

location ~ (401.html)$ {
    alias /usr/share/nginx/html/$1;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-11-15T06:59:41.390

你应该添加`auth_basic off;`

# php - =& 运算符，记忆

> ID：14501017
> 
> 赞同：2
> 
> 时间：2013-01-24T12:08:07.663
> 
> 标签：php, memory, reference

我对如何使用 & 运算符来减少记忆感到非常困惑。

我可以回答下面的问题吗？

```
clase C{

  function B(&$a){
       $this->a = &$a; 

       $this->a = $a;

       //They are the same here created new variable $this->a??
       // Or only $this->a = $a will create new variable?  
  }
} 

$a = 1;

C = new C;
C->B($a) 
```

或者也许我的理解完全错误......

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-24T12:14:08.340

永远不要在 PHP 中使用引用来减少内存负载。**PHP 通过其内部写入时复制**机制完美地处理了这一点。例子：

```
$a = str_repeat('x', 100000000); // Memory used ~ 100 MB
$b = $a;                         // Memory used ~ 100 MB
$b = $b . 'x';                   // Memory used ~ 200 MB 
```

如果您确切地知道自己在做什么并且需要它们来实现*功能*，则应该只使用引用（这几乎从来没有，所以您也可以忘记它们）。PHP 引用很古怪，可能会导致一些意想不到的行为。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-24T12:14:03.767

值类型变量仅在其值更改时才会被复制，如果您仅在示例中分配它，它将不会被复制，内存占用将与您未使用 & 运算符时相同。

我建议您阅读这些有关通过引用传递值的文章：

[何时在 PHP 中通过引用传递](https://stackoverflow.com/questions/2157799/when-to-pass-by-reference-in-php)

[什么时候在 PHP 中使用传递引用比较好？](https://stackoverflow.com/questions/5479073/when-do-i-use-pass-by-reference-in-php)

[http://schlueters.de/blog/archives/125-Do-not-use-PHP-references.html](http://schlueters.de/blog/archives/125-Do-not-use-PHP-references.html)

它被认为是微优化，并损害了代码的透明度

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-24T12:15:29.893

> 我对如何使用 & 运算符来减少记忆感到非常困惑。

如果您不知道它，您可能不需要它 :) 现在`&`它非常无用，因为过去几年 PHP 核心的一些增强。通常你会`&`避免 PHP 将值复制到为第二个变量分配的内存中，而是（简而言之）让两个变量指向同一个内存。

但如今

*   无论如何，对象都作为参考传递。它们不会神奇地克隆自己，因为它们被传递给一个方法；）
*   当您传递原始类型时，PHP*不会*复制该值，*除非*您更改变量（写时复制）。

总结一下： 的好处`&`已经作为核心的特性存在，但没有运营商丑陋的副作用

# graphviz - 仅绘制带有标签对的边

> ID：14501019
> 
> 赞同：0
> 
> 时间：2013-01-24T12:08:10.107
> 
> 标签：graphviz, dot

我想按如下方式绘制图形（梯形轨迹表示）： ![梯形轨道](../Images/ec4bea4c0f20dbdb6ee7fa792f0fd892.png) 即没有节点形状和两个边缘标签：在边缘的头部和尾部。我应该怎么做才能实现这一目标？（14, 15 — 各有两条边的节点）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T14:51:04.520

几乎丑陋的解决方案（如果可以提高正确性，请进行编辑）：

```
graph G {
    rankdir = LR;
    node [shape = point];
    edge [minlen = 2, fontsize = 8]
    a -- b [taillabel = "1", headlabel = "2"];
    b -- c [taillabel = "4", headlabel = "15"];
    b -- e [taillabel = "3", headlabel = "5"];
    e -- d [taillabel = "6", headlabel = "8"];
    e -- f [taillabel = "7", headlabel = "14"];
    c -- d [taillabel = "15", headlabel = "9"];
    f -- g [taillabel = "14", headlabel = "13"];
    d -- g [taillabel = "10", headlabel = "11"];
    g -- h [taillabel = "12", headlabel = "16"];
} 
```

这导致

![在此处输入图像描述](../Images/923aae13ab3f85801b137e1fca8522a4.png)

# jquery - ng-model 处理 onChange 事件

> ID：14501024
> 
> 赞同：0
> 
> 时间：2013-01-24T12:08:28.607
> 
> 标签：jquery, angularjs

今天，使用 AngularJs，这行代码将作用于 key-up 事件：

```
<input id="place" type="text" ng-model="place" />
<span>{{place}}</span> 
```

但是，如果我使用脚本更改输入的值，例如：

```
$('#place').val('new value'); 
```

比什么都没有发生，模型也没有改变。

知道如何克服这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:13:52.700

以编程方式更改表单元素的值不会触发事件，您需要在设置值后触发它们

```
$('#place').val('new value').change(); 
```

对角度不够熟悉，不知道这是否是所需的数据绑定事件

# sql-server - 分区数据压缩

> ID：14501029
> 
> 赞同：3
> 
> 时间：2013-01-24T12:08:42.197
> 
> 标签：sql-server

我们的数据库中有一个审计表，其中包含有关用户 Activity 的记录。
该表按 DATE 列（每月）进行分区，并且没有任何二进制列。由于客户的规定，我们有义务将数据保留 6 个月，如果需要，数据应可用于查询和进一步调查。

1.  有没有办法按分区压缩旧数据（超过 6 个月）？
2.  按分区压缩时有什么建议的注意事项吗？
3.  拆分或合并压缩分区时的情况是什么？
4.  删除完整分区时有什么影响吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T16:38:49.410

数据压缩工作在分区级别。因此，如果您按日期进行分区，则可以根据需要压缩“旧”数据。至于何时使用，请查看[此处](http://msdn.microsoft.com/en-us/library/cc280449.aspx)的 BOL 文章。

至于合并/拆分分区，BOL 说这是一个离线操作，所以你可能会在那里产生一些停机时间。

至于删除分区，您通常会创建一个具有相同架构的新表，执行“alter table...switch partition”语句，然后删除新表。那*应该*只是元数据更改。

# git - 结合 SVN 和 Git

> ID：14501031
> 
> 赞同：5
> 
> 时间：2013-01-24T12:08:50.167
> 
> 标签：git, svn

我刚想到这个古怪（愚蠢？）的想法，我想同时使用 Git 和 Subversion 跟踪同一个文件夹（项目）；也就是说文件夹/项目将同时具有`.svn`和`.git`目录。

我在搜索中没有找到任何相关的东西，所以这就是为什么我在这里提出这个想法来评估它的利弊（如果有的话）。我可能正在寻找的是：**为什么不能或不应该使用这种策略？**

**问：我为什么要这样做？**

我们已经在网络上有一个 Subversion 存储库，具有超过 1 年的历史 + svn:externals + 链接到错误跟踪 + 挂钩。但我希望拥有 DVCS 的灵活性，例如 Git，这样我们就不必连接到网络来提交我们的工作；这样我们也可以远程工作。

**问：但是我可以使用 git svn！**

不幸的是，Git svn 不支持 svn:externals。并且 git 子模块与 svn:externals 不同。

**问：这种组合可以实现什么？**

*Git的灵活性：*无需连接网络即可在本地编辑和提交代码；此外，将 repo 推送到生产或登台服务器或同事将是小菜一碟。

*SVN的中心化和外部repo利用：*通过SVN:externals的有效利用，我们将为自己节省大量工作，然后开发人员已经熟悉SVN。

理想情况下，我希望最终完全切换到 Git，但就目前而言，因为 svn:externals 使得集成外部存储库变得超级容易，保持颠覆完整是有意义的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T17:47:31.663

这个策略绝对有效；我用过它，虽然时间很短，而且我知道我公司的其他开发人员已经用了很长时间。然而，这并不意味着它很容易。

你会发现你需要做很多工作才能让 Subversion 和 Git 保持同步。举个简单的例子：当你执行一个 时`svn update`，你还需要执行一个`git commit -a`或类似的操作，否则 Git 会认为你的工作副本有大量的更改，Subversion 知道这些更改与远程存储库是最新的。

`svn update -r`如果您出于某种原因需要查看旧版本，或者尝试使用`svn switch`等，这会变得更加复杂。

根据您是否让 Git 跟踪您的`.svn`目录，您会遇到其他问题。如果您不这样做（即，您放入`.svn`您的`.gitignore`文件或类似文件），您会发现使用 Git 的分支功能要困难得多。考虑以下工作流程：

1.  创建一个 Git 分支来处理一个特性。
2.  您需要修复 Subversion 存储库中最近签入的错误！切换回你的 Git 主分支，`svn up`然后`git commit`，你就有了最新的代码，修复了这个 bug，`git commit`然后`svn commit`就可以了。
3.  再次检查您的 Git 功能分支。由于这是基于不同的 Subversion 版本，Subversion 现在认为工作副本中有大量更改。

或者，您可以让 Git 跟踪`.svn`目录。这避免了上述问题——当您在第 3 步再次检出功能分支时，您还将检出当时的 Subversion 元数据，因此 Subversion 知道所有内容所基于的正确修订版。

可悲的是，Subversion 从来没有被设计成以这种方式使用。在 Subversion 1.6（我不知道 1.7）中，`.svn`目录可能包含大量的空文件夹。Git 不跟踪空文件夹，因此这些可能会在 Git 操作之间丢失，从而破坏 Subversion 工作副本。我认识一个开发人员，他编写了一堆脚本来修复这些损坏`.svn`的目录，但这并不是微不足道的，而且非常脆弱。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:41:47.157

Git 和 Svn 可以很容易地存在于一个目录中。在 .gitignore 中忽略所有 .svn 目录，在 svn 中忽略 .git 目录。我以前用过它，直到我意识到我不再需要 SVN。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T12:11:07.203

我认为您不会遇到任何冲突，但您的 SVN 存储库不会包含 GIT 存储库的提交。

例子：

离线时，开发人员使用 GIT 中的描述性提交消息执行 5 次提交。
现在，SVN 重新上线，他想将更改保存到 SVN。他现在要么使用描述性较少的消息进行一次提交，要么必须通过将他的工作副本重置为那些特定的提交并将它们中的每一个提交到 SVN 来重复他在 git 中所做的提交。

# bash - bash 脚本在启动时有效，在终端中无效

> ID：14501035
> 
> 赞同：0
> 
> 时间：2013-01-24T12:09:01.167
> 
> 标签：bash, amazon-ec2, crontab, subshell

我正在 Amazon ec2 中创建一个服务器，并将一个 bash 脚本作为用户数据传递给它，该脚本在服务器首次启动时运行。[它包括一个使用此处给出](https://stackoverflow.com/a/8106460/778719)的答案为用户添加一行到 crontab 的命令。

```
directory="/home/intahwebz/current/tools/amazon/"
command="cd $directory && sh backupSQLToS3.sh"
job="15 1 */2 * * $command"
cat <(fgrep -i -v "$command" <(crontab -u intahwebz -l)) <(echo "$job") | crontab -u intahwebz - 
```

此脚本在启动期间似乎工作正常，因为它不显示错误消息并且 cronjob 已安装在 crotab 中。

但是，我还希望脚本在服务器升级期间运行。尝试从命令行运行脚本会出现错误：

```
installCrontab.sh: line 14: syntax error near unexpected token `('
installCrontab.sh: line 14: `cat <(fgrep -i -v "$command" <(crontab -u intahwebz -l)) <(echo "$job") | crontab -u intahwebz -' 
```

我需要什么来修复这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:22:08.957

您的方法对我来说非常有效：

```
$ whoami
test

$ echo $SHELL
/bin/bash

$ command="cd $directory && sh backupSQLToS3.sh"

$ job="15 1 */2 * * $command"

$ crontab -l

$ cat <(fgrep -i -v "$command" <(crontab -u test -l)) <(echo "$job") | crontab -u test -

$ crontab -l

15 1 */2 * * cd  && sh backupSQLToS3.sh 
```

我错过了设置“目录”变量，但你的代码对我来说很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:13:05.733

看起来您正在使用 bourne shell ( `/bin/sh`) 来执行 bash 脚本。尝试使用`bash`而不是`sh`.

# c# - .NET 中接口的部分显式实现

> ID：14501037
> 
> 赞同：4
> 
> 时间：2013-01-24T12:09:03.773
> 
> 标签：c#

我们希望在属于类库的类中对接口进行“部分显式实现”。部分显式实现是指隐式实现接口的某些成员，显式实现同一接口的其余成员。请让我们知道我们需要注意的可能问题。

更具体地说，假设我们有`IDriver`如下定义的接口。该`IDriver`接口定义了所有驱动程序的基本功能。

```
interface IDriver
{
    IDriverIdentity DriverIdentity { get; }
    IDriverOperation Operation { get; }
    IDriverUtility Utility { get; }
}

public class MyDriver1 : IDriver
{
    // Implement the first and second member of IDriver implicitly
    public IDriverIdentity DriverIdentity
    {
        get
        {
            // return a IDriverIdentity object that user can use to assess Identity operations...
        }
    }
    public IDriverOperation Operation
    {
        get
        {
            // return a IDriverOperation object that user can use to access DriverOperation related properties and members..
        }
    }
    // Implement the last member of interface explicitly
    IDriverUtility IDriver.Utility
    {
        get
        {
            // return a IDriverUtility object that user can use to access fundamental utility operations that is mandated for every "Driver" object...
        }
    }
    public MyDriver1Utility Utility
    {
        get
        {
            // return MyDriver1Utility object that user can use to access utility operations available in this driver ...
        }
    }
} 
```

同样让我们假设我们有`MyDriver2`,`MyDriver3`等隐式和显式地实现`DriverIdentity`and 。`Operation``Utility`

在所有`Driver`类中，我们都希望隐式实现`DriverIdentity`，`Operation` 以便用户在使用不同对象`DriverIdentity`时具有一致的视图。但是，我们希望显式实现该成员，并在从驱动程序对象访问时提供特定于该驱动程序的附加实用程序操作。`Operation``Driver``Utility`

我们希望了解在这种情况下部分显式实现的任何可能的副作用/后果。请让我们知道您的意见。

提前致谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:49:33.423

确定需要接口？抽象类怎么样（因为我认为在您的情况下，驱动程序更像是“类型”而不是“行为”）。

```
public abstract class Driver
{
    public abstract DriverIdentity Identity { get; }
    public abstract DriverOperation Operation { get; }

    protected abstract DriverUtility Utility { get; }
} 
```

如果您打算从类外部访问“实用程序”，那么您可以添加“内部”访问修饰符（但在这种情况下，您真的应该考虑将其声明为“公共”）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:49:52.740

也许你应该使用泛型，比如

```
interface IDriver<TUtillity> where TUtillity : IDriverUtility
{
  IDriverIdentity DriverIdentity { get; }
  IDriverOperation Operation { get; }
  TUtillity Utility { get; }
} 
```

您还可以考虑使接口*协变*in `TUtillity`，即在声明中放置一个“out”：`interface IDriver<out TUtillity>`。

# c# - 在 .NET 2 中搜索具有特定属性值的节点的 XML 文件

> ID：14501038
> 
> 赞同：20
> 
> 时间：2013-01-24T12:09:11.877
> 
> 标签：c#, xpath, .net-2.0

我找到了使用 LINQ 搜索 XML 节点的答案，但我仅限于使用 .NET 2 的 C#。

我想打开一个 XML 文件（~50Kb，所有简单文本）并搜索具有特定值`<Tool>`的属性的所有节点。`name`

这似乎`XmlDocument.SelectNodes()`是我正在寻找的东西，但我不知道 XPath。这是正确的方法吗？如果是这样，代码会是什么样子？

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-01-24T12:19:29.333

您可以在 XmlDocument.SelectNodes 中使用 XPath，例如：`SelectNodes("//ElementName[@AttributeName='AttributeValue']")`

Xml 样本：

```
<root>
    <element name="value1" />
    <element name="value2" />
    <element name="value1" />
</root> 
```

C# 示例：

```
XmlDocument xDoc = new XmlDocument();
// Load Xml

XmlNodeList nodes = xDoc.SelectNodes("//element[@name='value1']");
// nodes.Count == 2 
```

[在这里](https://www.w3schools.com/xml/xpath_syntax.asp)您可以找到一些额外的 XPath 示例

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-24T12:15:07.690

认为您可以使用`GetElementsByTagName`

```
var myDocument = new XmlDocument();
myDocument.Load(<pathToYourFile>);
var nodes = myDocument.GetElementsByTagName("Tool");
var resultNodes = new List<XmlNode>();
foreach (XmlNode node in nodes)
{
    if (node.Attributes != null && node.Attributes["name"] != null && node.Attributes["name"].Value == "asdf")
    resultNodes.Add(node);
} 
```

# xml - Xpath 选择具有特定属性的所有属性

> ID：14501043
> 
> 赞同：0
> 
> 时间：2013-01-24T12:09:24.083
> 
> 标签：xml, xpath

我想从 xml 文件生成包含列的列表：计算机、产品名称、许可证密钥：

```
<RecoverKeys>
  <Key>
    <Data name="Computer" value="john"/>
    <Data name="Product Name" value="Microsoft Office Professional Hybrid 2007"/>
    <Data name="License Key" value="xxxx-xxxx-xxxx-xxxx-xxxx"/>
    <Data name="Product ID" value="123123-345435-3451345-3453453"/>
    <Data name="User" value="N/A"/>
    <Data name="Company" value="N/A"/>
    <Data name="Auth. Key" value="N/A"/>
  </Key>
  <Key>
    <Data name="Computer" value="john"/>
    <Data name="Product Name" value="Roxio My DVD 9.0"/>
    <Data name="License Key" value="34756674"/>
    <Data name="Product ID" value="N/A"/>
    <Data name="User" value="N/A"/>
    <Data name="Company" value="N/A"/>
    <Data name="Auth. Key" value="N/A"/>
  </Key>
    <Key>
    <Data name="Computer" value="adam"/>
    <Data name="Product Name" value="Roxio My DVD 10.0"/>
    <Data name="License Key" value="456456456"/>
    <Data name="Product ID" value="N/A"/>
    <Data name="User" value="N/A"/>
    <Data name="Company" value="N/A"/>
    <Data name="Auth. Key" value="N/A"/>
  </Key>
    <Key>
    <Data name="Computer" value="tom"/>
    <Data name="Product Name" value="photoshop"/>
    <Data name="License Key" value="2342342423423"/>
    <Data name="Product ID" value="N/A"/>
    <Data name="User" value="N/A"/>
    <Data name="Company" value="N/A"/>
    <Data name="Auth. Key" value="N/A"/>
  </Key>
  </RecoverKeys> 
```

我在 Keetle Spoon 中使用 XPath 作为第一列：`//Data[@name='Computer']/@value`但我得到了结果：

约翰·约翰·约翰·约翰

但我想要：

约翰约翰亚当汤姆

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T13:06:11.613

从您的评论中，听起来您正在做的事情涉及使用一个 XPath 遍历节点，然后从该上下文应用另一个 XPath，因此您需要使用循环 XPath：

```
/RecoverKeys/Key 
```

和非循环 XPath：

```
Data[@name = 'Computer']/@value 
```

# codeigniter - codeigniter 会话未存储所有数据

> ID：14501046
> 
> 赞同：0
> 
> 时间：2013-01-24T12:09:35.497
> 
> 标签：codeigniter, session

我有以下代码：

```
$session_data = array(
     'user_id' => $user_id,
     'username' => $username,
     'group_id' => $group_id,
     'logged_in' => TRUE
);
$this->session->set_userdata($session_data); 
```

user_id 和 logged_in 完美地存储在 db 中，但 username 和 group_id 以“N”存储。系统的结构是“模块化的”，在我的旧应用程序中，仅遵循 MVC 就可以正常工作。

以前有没有人遇到过这个问题，如果你有，你能提供一点帮助吗？

编辑：所有 N 值都是问题，而应该是每个数据的实际值

下面是数据库中的 user_data 字段

```
a:5:{s:9:"user_data";

s:0:"";s:7:"user_id";N;

s:8:"username";N;

s:5:"group";N;

s:9:"logged_in";b:1;} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T13:48:59.047

您需要在会话中启用保存数据。

1.  在 application/config/config.php 中设置您的应用程序以使用数据库来保存会话。

$config['sess_use_database'] = 真；

1.  在数据库中创建表，并为表提供与 config.php 中设置的名称相同的名称

    如果不存在则创建表 `ci_sessions`（ session_id varchar(40) DEFAULT '0' NOT NULL, ip_address varchar(45) DEFAULT '0' NOT NULL, user_agent varchar(120) NOT NULL, last_activity int(10) unsigned DEFAULT 0 NOT NULL, user_data文本非空，主键（session_id），键`last_activity_idx`（`last_activity`））；

然后，每当您使用会话时，codeigniter 都会在数据库上进行中继，您可以根据需要设置“user_data”字段。也许，您最好序列化该数据并保存在“user_data”字段中。

在 php session 或 cookie 中保存数据有一定的限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T14:15:13.813

我修好了它。这与 CI 会话库无关，我的数据库查询中有一个错误:(

对我造成的任何不便深表歉意

# nginx - 使用proxy_pass时如何在nginx上添加响应头？

> ID：14501047
> 
> 赞同：121
> 
> 时间：2013-01-24T12:09:35.543
> 
> 标签：nginx, http-headers, proxypass

我想为从 nginx 后面的服务器收到的响应添加一个自定义标头。

虽然`add_header`适用于 nginx 处理的响应，但在使用时它什么也不做`proxy_pass`。

* * *

## 回答 #1

> 赞同：202
> 
> 时间：2013-04-30T21:07:31.310

`add_header`无论有`proxy_pass`没有都可以正常工作。我今天刚刚设置了一个配置，我已经使用了该指令。我不得不承认，虽然我在设置它时也遇到了困难，但并没有完全回忆起原因。

现在我有一个工作配置，它包含以下内容（除其他外）：

```
server {
    server_name  .myserver.com
    location / {
        proxy_pass  http://mybackend;
        add_header  X-Upstream  $upstream_addr;
    }
} 
```

在 nginx `1.7.5` [add_header](http://wiki.nginx.org/NginxHttpHeadersModule#add_header)之前只处理成功的响应，这与[Sebastian Goodman 在他的回答](http://stackoverflow.com/a/14508087/177710)中提到的[HttpHeadersMoreModule](http://wiki.nginx.org/NginxHttpHeadersMoreModule)形成对比。

由于 nginx ，即使在错误响应中，`1.7.5`您也可以使用关键字来包含自定义标头。`always`例如：

```
add_header X-Upstream $upstream_addr always; 
```

* * *

*限制：*您不能`server`使用 覆盖标头值`add_header`。

* * *

## 回答 #2

> 赞同：37
> 
> 时间：2019-04-15T15:17:58.300

## 隐藏响应标头，然后添加新的自定义标头值

使用代理传递添加标头可以`add_header`正常工作，但如果响应中存在现有标头值，它将堆叠这些值。

如果要设置或替换标头值（例如替换`Access-Control-Allow-Origin`标头以匹配您的客户端以允许跨源资源共享），则可以执行以下操作：

```
# 1\. hide the Access-Control-Allow-Origin from the server response
proxy_hide_header Access-Control-Allow-Origin;
# 2\. add a new custom header that allows all * origins instead
add_header Access-Control-Allow-Origin *; 
```

因此，`proxy_hide_header`结合使用`add_header`，您可以设置/替换响应标头值。

可以[在 ServerFault上找到类似的答案](https://serverfault.com/a/927668/191235)

## 更新：

**注意：** `proxy_set_header`用于在进一步发送请求之前设置请求标头，而不是用于设置响应标头（标头的这些配置属性可能有点混乱）。

* * *

## 回答 #3

> 赞同：36
> 
> 时间：2013-01-24T18:22:08.970

有一个名为[HttpHeadersMoreModule](http://wiki.nginx.org/NginxHttpHeadersMoreModule)的模块可以让您更好地控制标头。它不附带 Nginx，需要额外安装。有了它，您可以执行以下操作：

```
location ... {
  more_set_headers "Server: my_server";
} 
```

这将“将服务器输出标头设置为任何状态代码和任何内容类型的自定义值”。它将替换已设置的标头，如果未设置则添加它们。

* * *

## 回答 #4

> 赞同：33
> 
> 时间：2016-05-31T19:33:11.470

正如奥利弗所写：

> `add_header`无论有`proxy_pass`没有都可以正常工作。

但是，正如 Shane 所写，从 Nginx 1.7.5 开始，您必须通过`always`才能开始`add_header`处理错误响应，如下所示：

```
add_header  X-Upstream  $upstream_addr always; 
```

* * *

## 回答 #5

> 赞同：17
> 
> 时间：2013-01-24T17:31:25.010

你可以试试这个解决方案：

当您使用时，在您的`location`块`proxy_pass`中执行以下操作：

```
location ... {

  add_header yourHeaderName yourValue;
  proxy_pass xxxx://xxx_my_proxy_addr_xxx;

  # Now use this solution:
  proxy_ignore_headers yourHeaderName // but set by proxy

  # Or if above didn't work maybe this:
  proxy_hide_header yourHeaderName // but set by proxy

} 
```

我不确定这是否正是您所需要的，但尝试对这种方法进行一些操作，也许结果会适合您的问题。

您也可以使用以下组合：

```
proxy_hide_header headerSetByProxy;
set $sent_http_header_set_by_proxy yourValue; 
```

# highcharts - Highcharts：动态更改样条图颜色

> ID：14501052
> 
> 赞同：0
> 
> 时间：2013-01-24T12:09:52.273
> 
> 标签：highcharts

我正在使用 Highcharts 样条图从 MySQL DB 中动态绘制数据。

图表显示网站的响应时间，其中也考虑了网站的 http 状态代码。

每当 http 状态代码为 500、404、400（例如）时，图表以红色显示，当 http 状态代码更改为其他任何内容（例如 200）时，以蓝色显示。

图表从 DB 过去 10 分钟的数据开始，每分钟通过 AJAX 调用获取数据并动态绘制。

```
Graph color changes to red but continues plotting with the same colour even when it gets status code not in http_code_arr[].

<script>

function requestData() 
{
    $.ajax({
        url: 'get_hourly_data.php',
        type: "GET",
        datatype: "json",
        data: 'site_id=' + site_id,
        success: function(data) 
        {   console.log(data); (Posted below)
            var http_code_arr = [500,404,400];
            for($i=0;$i<data.length;$i++)
            {
                         // Change color of chart to red whenever http_code (data[$i][2]) is mentioned in http_code_arr[]. 
            if(jQuery.inArray(data[$i][2], http_code_arr) > -1)
            {

                chart.series[0].setData(data);
                chart.series[0].color = "#FF0000";
                chart.series[0].graph.attr({ stroke: '#FF0000' });
            }
            else
            {
                chart.series[0].setData(data); 
                chart.series[0].color = "#3BBEE3";
                    chart.series[0].graph.attr({ stroke: '#3BBEE3' });
            }
            }       

        },  
         cache: false       
        });
    }   

    $(document).ready(function() {
        Highcharts.setOptions({
            global: {
                useUTC: false
            }
        });
    chart = new Highcharts.Chart({
         chart: {
            renderTo: 'graph',
            type: 'spline',
            events: {
                load: requestData
            }
         },
         title: {
            text: 'Monitoring'
         },
         xAxis: {
            type: 'datetime',
                tickPixelInterval: 150,
                maxZoom: 20 * 1000
         },
         yAxis: {
            minPadding: 0.2,
                maxPadding: 0.2,
                title: {
                    text: 'Response time (ms)',
                    margin: 80
                }
         },
         series: [{
            name: 'Time',
            data: [],
         }]
      });
      });
    </script>

Return json value from get_hourly_data.php:

[[1359008687000,0.32605385780334,200],[1359008691000,0.31433510780334,200],[1359008694000,0.30737400054932,200],[1359008707000,0.30876302719116,200]]

consoloe.log(data):

[Array[3] 0: 1359009380000
1: 0.3274929523468
2: 404
length: 3
__proto__: Array[0]
, 
Array[3]
0: 1359009383000
1: 0.31776595115662
2: 200
length: 3
__proto__: Array[0]
, 
Array[3]
0: 1359009385000
1: 0.30725002288818
2: 404
length: 3
__proto__: Array[0]
, 
Array[3]
0: 1359009388000
1: 0.3050639629364
2: 200
length: 3
__proto__: Array[0]
] 

Could anyone please give me a hand? 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:28:13.583

根据这篇文章，您只需要在系列上调用重绘。除了线对象之外，它还解决了如何完全改变系列的颜色，包括标记和图例。 [动态更改 highcharts 中的系列颜色](https://stackoverflow.com/questions/12419758/changing-series-color-in-highcharts-dynamically)

```
var series = chart.series[0];
series.setData(data);

if(jQuery.inArray(data[$i][2], http_code_arr) > -1)
{
series.color = "#FF0000";
series.graph.attr({ stroke: '#FF0000' });
}
else
{
series.color = "#3BBEE3";
series.graph.attr({ stroke: '#3BBEE3' });
}

chart.legend.colorizeItem(series, series.visible);

$.each(series.data, function(i, point) {
    point.graphic.attr({
          fill: '#FF00FF'
    });
});

series.redraw(); 
```

# javascript - jQuery json从输入值中删除元素

> ID：14501053
> 
> 赞同：0
> 
> 时间：2013-01-24T12:09:58.773
> 
> 标签：javascript, jquery, json

如何从输入值中删除特定的 json 对象？

我试过这个[jquery javascript 从 JSON 对象中删除对象数据](https://stackoverflow.com/questions/9187337/jquery-javascript-remove-object-data-from-json-object)并使用拼接。

它没有从输入值中删除对象。

html:

```
<input type="text" name="jsonKey" value='{"keyId":"1","price":"13.28"},{"keyId":"2","price":"15.00"}' style="width:100%">
 <a href="#" class="delete">Delete</a> 
```

JS：

```
$('.delete').click(function(){
    var json = $.parseJSON('[' + $('input[name=jsonKey]').val() + ']');

    $.each(json, function(index, result) {
       if(result['keyId'] == 1) {
           //delete json[index];
           //json.splice(index,1);
      }
   });

   return false;
  }); 
```

你可以检查代码[http://jsfiddle.net/Pwa92/](http://jsfiddle.net/Pwa92/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:40:54.450

根据 Imrul[对此问题](https://stackoverflow.com/questions/4538269/adding-removing-items-from-json-data-with-jquery)的回答，您可以使用`$.grep`：

```
$('.delete').click(function(){
    var json = $.parseJSON('[' + $('input[name=jsonKey]').val() + ']');

    console.log(json);

    json = jQuery.grep(
        json, 
        function (item,index) { 
            return item.keyId !=  "1"; 
        }
    );

    console.log(json);

   return false;
}); 
```

我更新了你的[小提琴](http://jsfiddle.net/Pwa92/8/)，在浏览器的 js 控制台打开的情况下使用它。

# java - 如何识别返回对象的方法类型？

> ID：14501056
> 
> 赞同：-1
> 
> 时间：2013-01-24T12:10:03.567
> 
> 标签：java, generics

我有一个助手类，它通过以下方法得到通知

```
public void setObject(Object obj) {
    this.obj =  obj
} 
```

obj 有 getter 方法。有什么方法可以识别调用者关于 obj 的类型。该对象可以采用任何对象，例如：

```
List<Switch>
Switch
List<Link> 
```

调用者必须在调用 getter 方法后处理 obj。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:26:28.410

这可能会帮助你。它告诉您如何获取参数化类型。

[获取 java.util.List 的泛型类型](https://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:25:25.323

您可以使用运算符知道对象类型。`instanceof`考虑以下示例：

```
import java.util.ArrayList;
import java.util.List;

public class Test {

    public static void main(String[] args) {
        if (getObject() instanceof A) {
            System.out.println("A class");
        }
        if (getObject() instanceof B) {
            System.out.println("B class");
        }
        if (getObject() instanceof List) {
            System.out.println("List class");
        }
    }

    /**
     * 
     * @return Object type. 
     */
    public static Object getObject() {
        //Change this value to new A() or new B();
        return new ArrayList<A>();
    }
}
class A {

    private String aName;

    public A(String aName) {
        this.aName = aName;
    }

    public String getaName() {
        return aName;
    }

    public void setaName(String aName) {
        this.aName = aName;
    }
}

class B {

    private String bName;

    public B(String bName) {
        this.bName = bName;
    }

    public String getbName() {
        return bName;
    }

    public void setbName(String bName) {
        this.bName = bName;
    }
} 
```

如您所见，我有一个返回对象类型的方法，如果您要更改该方法的返回值，您可以轻松理解发生了什么。还有一件事您无法在运行时猜测泛型类型，因为“泛型类型在运行前被删除”。希望你明白我的意思。干杯

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T12:12:35.237

您总是可以从`obj.getClass()`. 你想进一步用它做什么？

如果你想在 obj 上调用方法 - 你需要反射.. 像这样的东西 -

```
Class myClass = obj.getClass();
Method m = myClass.getDeclaredMethod("get",new Class[] {});
Object result = m.invoke(myObject,null); 
```

# javascript - SpineJS 不适合多页网站吗？

> ID：14501057
> 
> 赞同：0
> 
> 时间：2013-01-24T12:10:03.310
> 
> 标签：javascript, angularjs, javascript-framework, spine.js

我是使用 SpineJS 并玩得很开心的新手。

而且，当我完成联系示例并看到 SpineJS 中的其他一些组件时，

我意识到没有关于网站的例子（它有很多 html 页面）。

看起来 SpineJS 不是适合网站设计的框架。

（我认为这种框架适合单页应用程序）

我是这样想的，因为我应该在我网站的第一个视图中创建“websocket”对象。

当我离开第一个视图时，我无法保留“websocket”对象（html 页面已更改。）。

我应该一直保留这个“websocket”，直到用户注销。

这样对吗？或者有什么方法可以创建多视图网站？

（AngularJS 框架通过 $route 服务支持这一点。 - 它可以加载 html 页面而无需重新加载整个框架。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T04:47:49.700

您当然可以在单页 RIA 中实现多页网站。好吧，这听起来很矛盾。从服务器端，它呈现单个页面，提供源代码。但是在客户端代码中，Router 对象可能会根据路由完全不同地呈现页面。

*编辑/添加：*

不确定这是否最好，但这是我的应用程序如何加载存储在应用程序源代码中单独的 html 文件中的模板，例如`myview.template = app.TemplateManager.fetch('grids/item');`

```
 templateManager: {
    JST : {},   // hash table so not to load same template twice

    fetch: function(path) {
      url = "/app/templates" + path + ".html";

      if (!this.JST[path]) {
        $.ajax({ url: url, async: false }).then(function(contents) {
          this.JST[path] = _.template(contents);
        });
      } 

      return this.JST[path];
    }
  }); 
```

# javascript - 从android中的.html文件调用.java文件

> ID：14501059
> 
> 赞同：0
> 
> 时间：2013-01-24T12:10:04.673
> 
> 标签：javascript, android, html, android-webview

它在 android 8 中工作正常，页面正在重定向，但在更高的 SDK 版本（如 android 2.3.3 API 级别 10）中，应用程序只需单击重定向链接即可退出。

xml文件：

```
<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_marginTop="8dp" >

    <WebView
        android:id="@+id/webView1"
        android:layout_width="fill_parent"
        android:layout_marginTop="80dp"
        android:layout_height="189dp" />

</LinearLayout> 
```

代码：

```
public class MainActivity extends Activity {
    /** Called when the activity is first created. */
      private WebView mainWebView = null;
      Boolean javascriptInterfaceBroken;

      @SuppressLint("SetJavaScriptEnabled")
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.xml);            

        mainWebView = (WebView) findViewById(R.id.webView1);

        mainWebView.getSettings().setJavaScriptEnabled(true);

        mainWebView.setWebViewClient(new MyCustomWebViewClient());
        mainWebView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);

        mainWebView.loadUrl("file:///android_asset/www/index.html");
        mainWebView.addJavascriptInterface(new nextpage(this), "Android");
      }

    private class MyCustomWebViewClient extends WebViewClient {
        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url) {
            view.loadUrl(url);
            return true;
        }
    }

} 
```

.html 文件：

```
<body>
        <div class="app">
            <h1>Apache Cordova</h1>
            <div id="deviceready" class="blink">
                <p class="event listening" >Connecting to Device</p>
                <p class="event received">Device is Ready</p>
                <a href="javascript:Android.launchActivity()">cordova</a>
            </div>
        </div>
        <script type="text/javascript" src="cordova-2.2.0.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>
</body> 
```

另一类：

```
import android.app.Activity;
import android.content.Context;
import android.content.Intent;

public class nextpage {
    private Context context;

    public nextpage(Context context) {    
        this.context = context;
    }

    public void launchActivity() {
        context.startActivity(new Intent((Activity)context,deal.class)); 
    }
} 
```

日志错误：

```
01-28 11:48:58.287: D/dalvikvm(4093): GC_EXTERNAL_ALLOC freed 51K, 53% free 2576K/5379K, external 716K/1038K, paused 47ms
01-28 11:48:59.347: D/szipinf(4093): Initializing inflate state
01-28 11:48:59.347: D/szipinf(4093): Initializing zlib to inflate
01-28 11:49:06.657: W/dalvikvm(4093): JNI WARNING: jarray 0x4058fa70 points to non-array object (Ljava/lang/String;)
01-28 11:49:06.667: I/dalvikvm(4093): "WebViewCoreThread" prio=5 tid=9 NATIVE
01-28 11:49:06.667: I/dalvikvm(4093):   | group="main" sCount=0 dsCount=0 obj=0x40510790 self=0x1f9650
01-28 11:49:06.667: I/dalvikvm(4093):   | sysTid=4102 nice=0 sched=0/0 cgrp=default handle=2071192
01-28 11:49:06.667: I/dalvikvm(4093):   | schedstat=( 1354713686 909395665 294 )
01-28 11:49:06.667: I/dalvikvm(4093):   at android.webkit.WebViewCore.nativeTouchUp(Native Method)
01-28 11:49:06.667: I/dalvikvm(4093):   at android.webkit.WebViewCore.nativeTouchUp(Native Method)
01-28 11:49:06.667: I/dalvikvm(4093):   at android.webkit.WebViewCore.access$3300(WebViewCore.java:53)
01-28 11:49:06.677: I/dalvikvm(4093):   at android.webkit.WebViewCore$EventHub$1.handleMessage(WebViewCore.java:1158)
01-28 11:49:06.677: I/dalvikvm(4093):   at android.os.Handler.dispatchMessage(Handler.java:99)
01-28 11:49:06.677: I/dalvikvm(4093):   at android.os.Looper.loop(Looper.java:123)
01-28 11:49:06.677: I/dalvikvm(4093):   at android.webkit.WebViewCore$WebCoreThread.run(WebViewCore.java:629)
01-28 11:49:06.677: I/dalvikvm(4093):   at java.lang.Thread.run(Thread.java:1019)
01-28 11:49:06.677: E/dalvikvm(4093): VM aborting 
```

# android - 是否可以独立于活动主题设置 AlertDialog 样式？

> ID：14501065
> 
> 赞同：0
> 
> 时间：2013-01-24T12:10:37.453
> 
> 标签：android, user-interface, dialog, android-alertdialog

我意识到这个问题有点奇怪，但我想停止使用已弃用的选项菜单并切换到操作栏。不幸的是，为此我必须使用 Holo 主题，它带有与以前不同的 AlertDialog 设计。

这个新设计打破了我的 UI 外观。是否可以在 Holo 样式的活动中创建旧样式的对话框？

相关问题：除了 AlertDialog 之外，还有什么是能够显示我自己的布局的弹出窗口，并且在我的自定义布局周围没有边框和其他主题定义的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:21:49.817

根据您在 AndroidManifest 文件中设置的 minSDKVersion，您可以为对话框选择主题。您可以将它们设置为 Holo / Device Default，但要做到这一点，您的 minSdk 值应该是 10+，即使我认为使用 DeviceDefault 它应该是 JellyBean。

如果您想创建自己的布局并使用它没有任何边框等会破坏您的设计，您应该使用 Dialog 而不是 AlertDialog 并对其进行自定义。你可以这样做：

```
final Dialog alert = new Dialog(FingerPaintActivity.this, android.R.style.Theme_Light_Panel);
alert.requestWindowFeature(Window.FEATURE_NO_TITLE); // no title 
alert.getWindow().getAttributes().windowAnimations = R.style.PauseDialogAnimation; // this is used for custom animation when dialog is showing and hiding 
alert.setContentView(getLayoutInflater().inflate(R.layout.stamps, null)); // here is your custom layout
alert.getWindow().setLayout(width-50, (height-100)); // set height / width 
```

并且当您想在按钮中触发 onlclick 时，例如放置在 R.layout.stamps 中，如示例中所示，您应该这样做：

```
Button dog = (Button) alert.findViewById(R.id.dog_stamp); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:15:29.603

您可以创建自定义`AlertDialog`.

例如：[http ://www.mkyong.com/android/android-custom-dialog-example/](http://www.mkyong.com/android/android-custom-dialog-example/)

# javascript - 将 jPlayer 音量分配给自定义按钮

> ID：14501066
> 
> 赞同：1
> 
> 时间：2013-01-24T12:10:49.340
> 
> 标签：javascript, jquery, jplayer

我的页面中有一个修改过的播放器，它使用 jPlayer，我想将自定义滚轮按钮绑定到音量功能：

[播放器页面](http://www.tranceil.fm/player2)

```
$musicPlayer.jPlayer({
                            swfPath: "js/jplayer/",
                            solution: 'flash,html',
                            supplied: 'm4a, oga, mp3',
                            preload: 'metadata',
                            volume: 0.8,
                            muted: false,
                            cssSelectorAncestor: "#jp_container_N",
                            cssSelector: {
                                play: '.jp-play',
                                pause: '.jp-pause',
                                seekBar: '.jp-seek-bar',
                                playBar: '.jp-play-bar',
                            },
                            errorAlerts: false,
                            warningAlerts: false,
                            ready: function () {
                              $(this).jPlayer("setMedia", {
                                mp3: $first_song,
                                solution: 'flash, html',
                              });
                            },
                        }).bind($.jPlayer.event.ended, function(event){
                            var $o = $('.selected').next('li'),$json = $.parseJSON($o.find('img').attr('data-src'));
                            if(!$o.is(':last')){
                                playSong($o,$json);
                            }
                        });

                }); 
```

自定义音量轮：

```
//js code for the metal style wheel - below

        $('#metal .indicator-cw').bind('touchmove', function(event){
            updateMetal();
        });
        $("#metal .indicator-cw").mousemove(updateMetal);

        function updateMetal(){
    var number = $("#metal .result-cw").text();
    var Degrees = parseInt(number);

    $("#rotateit").css({'transform':'rotate(' + (Degrees) + 'deg)', '-webkit-transform':'rotate(' + (Degrees) + 'deg)', '-o-transform':'rotate(' + (Degrees) + 'deg)', '-moz-transform':'rotate(' + (Degrees) + 'deg)', '-ms-transform':'rotate(' + (Degrees) + 'deg)' });

        }
        //js code for the metal style wheel - above 
```

HTML：

```
<div id="metal">
        <div class="result-cw"></div>
        <div class="indicator-cw1"><img src="img/metal_indicator.png" id="rotateit" class="indicator-cw-img" /></div>
        <div class="indicator-cw"></div>
    </div> 
```

如何将 jPlayer 音量分配给该滚轮按钮？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:50:03.640

在[jPlayer 文档](http://www.jplayer.org/latest/developer-guide/#jPlayer-volume)中，您可以看到 jPlayer 的 API 具有音量处理功能。

您所要做的就是将旋转度数转换为 0 到 1 之间的数字。由于 360 度是最大值，您所要做的就是将当前旋转度数乘以 (1/360) 并将其传递为音量方法的参数。

在您的示例中，它将类似于：

```
var vol = parseInt($("#metal .result-cw").text()) * (1/360);    
$("#player").jPlayer("volume", vol); 
```

# flash - Flash 策略文件不起作用（相同的域，不同的端口）

> ID：14501071
> 
> 赞同：2
> 
> 时间：2013-01-24T12:11:11.487
> 
> 标签：flash, cross-domain-policy

我不知所措。我不明白为什么 Flash 没有正确加载我的策略文件。我正在通过 Flash 调试器对此进行测试。

```
I've also tried from http://127.0.0.1:80/game (it sends a request to http://127.0.0.1:3014/socket.io/1/). 
```

> ```
>  Security.loadPolicyFile('xmlsocket://127.0.0.1:843');
> 
>           var r:URLRequest = new URLRequest();
>           r.url = httpProtocal+"://" + domain + "/socket.io/1/?time=" + new Date().getTime();
>           r.method = URLRequestMethod.POST;
>           var ul:URLLoader = new URLLoader(r);
>           ul.addEventListener(Event.COMPLETE, onDiscover);
>           ul.addEventListener(HTTPStatusEvent.HTTP_STATUS, onDiscoverError);
>           ul.addEventListener(IOErrorEvent.IO_ERROR , onDiscoverError); 
> ```

错误：

```
> webSocketLog: policy file: xmlsocket://127.0.0.1:843 Error #2044:
> Unhandled securityError:. text=Error #2048: Security sandbox
> violation: file:///ude/game/bin-release/Game.swf cannot load data from
> http://127.0.0.1:3014/socket.io/1/?time=1359025067289\.    at
> com.pnwrain.flashsocket::FlashSocket() 
```

然而这有效：

```
> echo -ne '<policy-file-request/>\0' | nc -v 127.0.0.1 843  

Connection to 127.0.0.1 843 port [tcp/*] succeeded!
<?xml version='1.0' ?>
<!DOCTYPE cross-domain-policy SYSTEM 'http://www.macromedia.com/xml/dtds/cross-domain-policy.dtd'>
<cross-domain-policy>
    <allow-access-from domain='*' to-ports='*' />
</cross-domain-policy> 
```

指定 crossdomain.xml 的绝对路径也不起作用。我可以在我的浏览器中加载这个文件。

```
> webSocketLog: policy file: http://127.0.0.1:843/crossdomain.xml
> Error #2044: Unhandled securityError:. text=Error #2048: Security
> sandbox violation: file:///ude/game/bin-release/Game.swf cannot load
> data from http://127.0.0.1:3014/socket.io/1/?time=1359025126138\.  at
> com.pnwrain.flashsocket::FlashSocket() 
```

甚至这都行不通（来自非常流行的博客文章的解决方案）：

`import flash.system.Security; Security.allowDomain("http://127.0.0.1");`

这是调试器策略文件日志：

```
> OK: Root-level SWF loaded:
> file:///ude/game/bin-release/Game.swf
> OK: Searching for <allow-access-from> in policy files to authorize
> data loading from resource at
> http://127.0.0.1:3014/socket.io/1/?time=1359026453454 by requestor
> from
> file:///ude/game/bin-release/Game.swf
> Error: [strict] Ignoring policy file at
> http://127.0.0.1:3014/crossdomain.xml due to missing Content-Type. 
> See http://www.adobe.com/go/strict_policy_files to fix this problem.
> Error: Request for resource at
> http://127.0.0.1:3014/socket.io/1/?time=1359026453454 by requestor
> from
> file:///ude/game/bin-release/Game.swf
> is denied due to lack of policy file permissions. Warning: HTTP
> response headers not available on this platform.  Strict policy file
> rules cannot be enforced. OK: Policy file accepted:
> http://127.0.0.1:843/crossdomain.xml 
```

这里有趣的部分是`OK: Policy file accepted`消息出现在错误之后，即使我正在调用：

```
Security.loadPolicyFile('http://127.0.0.1:843/crossdomain.xml'); 
```

之前`URLRequest`。所以我把它移到了`URLRequest`一个 setTimeout 中，现在日志说：

```
> OK: Root-level SWF loaded:
> file:///ude/game/bin-release/Game.swf
> Warning: HTTP response headers not available on this platform.  Strict
> policy file rules cannot be enforced. OK: Policy file accepted:
> http://127.0.0.1:843/crossdomain.xml OK: Searching for
> <allow-access-from> in policy files to authorize data loading from
> resource at http://127.0.0.1:3014/socket.io/1/?time=1359028255268 by
> requestor from
> file:///ude/game/bin-release/Game.swf
> Error: [strict] Ignoring policy file at
> http://127.0.0.1:3014/crossdomain.xml due to missing Content-Type. 
> See http://www.adobe.com/go/strict_policy_files to fix this problem. 
```

因此，它似乎已经很好地加载了 843 策略文件，但随后尝试加载端口 3014 策略文件（可能正在检查子策略文件？）。这只是一个 socket.io HTML 页面，上面写着“欢迎来到 socket.io”。由于这个原因，它似乎不应该失败..

我在调试器警报中得到了这个：

```
Error #2044: Unhandled securityError:. text=Error #2048: Security sandbox violation: file:///ude/game/bin-release/Game.swf cannot load data from http://127.0.0.1:3014/socket.io/1/?time=1359028255268.
    at MethodInfo-3642()
    at Function/http://adobe.com/AS3/2006/builtin::apply()
    at SetIntervalTimer/onTimer()
    at flash.utils::Timer/_timerDispatch()
    at flash.utils::Timer/tick() 
```

任何想法都非常感谢。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T10:56:26.583

我不是政策文件的专家，但这看起来很可疑：

> **错误：** [严格]由于**缺少 Content-Type而****忽略**策略文件 。请参阅[http://www.adobe.com/go/strict_policy_files](http://www.adobe.com/go/strict_policy_files)以解决此问题。`http://127.0.0.1:3014/crossdomain.xml`

 **似乎策略文件被忽略，因为它没有或无效的 Content-Type 标头。

来自[Adob​​e：](http://www.adobe.com/devnet/flashplayer/articles/fplayer9_security.html)

> 从版本 9,0,115,0 开始，Flash Player 将忽略任何未使用 Content-Type 值发送的 HTTP 策略文件，该值可以确保该文件是文本文件。Flash Player 要求策略文件的 Content-Type 必须是以下之一：
> 
> *   `text/* (any text type)`
> *   `application/xml`或者`application/xhtml+xml`

还有这个：

> 如果您发现需要解决 Content-Type 问题，请务必同时查阅[meta-policies](http://www.adobe.com/devnet/flashplayer/articles/fplayer9_security.html#articlecontentAdobe_numberedheader_0)部分，因为选择元策略的常用方法是`text/x-cross-domain-policy`为所有策略文件指定特殊的 Content-Type ，这可以同时解决两个问题——建立元策略和提供文本内容类型。

还要检查服务器为什么 HTTP 响应标头不可用：

> **警告**：此平台上不提供HTTP**响应标头。**无法强制执行严格的策略文件规则。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T11:39:46.873

成功连接和策略验证的关键是：

1) 在与您的 socket.io 脚本相同的文件夹中有一个 crossdomain.xml 文件。

2) 通过 http 在运行 socket.io 服务器的同一 host:port 中提供此 crossdomain.xml。

3) 要实现这一点，您需要安装除 socket.io 之外的 express 框架。使用 express 和 socket.io，您可以通过 http 和连接套接字同时在同一端口上提供 crossdomain.xml。

4）通过这种方法，flash可以在最初寻找该策略文件的位置（同一个host:port）找到crossdomain.xml，避免了手动从flash中加载策略文件（可以禁用loadPolicyFile）

会是这样的：

```
var app = require('express')();
var server = require('http').createServer(app);
var io = require('socket.io').listen(server);

app.get('/crossdomain.xml', function (req, res) {
  console.log("request ... " + __dirname);
  res.sendfile(__dirname + '/crossdomain.xml');
});

server.listen(port, "ip");
console.log("socket.io server started"); 
```**

# c# - 如何从列表中制作 两个字符串数组（名称，值）？

> ID：14501074
> 
> 赞同：0
> 
> 时间：2013-01-24T12:11:24.483
> 
> 标签：c#, silverlight, c#-4.0, silverlight-5.0

我有以下课程：

```
class Node
{
   public string NameField{ get; set; }
   public string ValueField{ get; set; }
} 
```

并且还有一个节点列表`var test = new List<Node>`，我需要创建两个字符串数组`string[]`，第一个包含所有 NameField，第二个包含所有 ValueField，我做了以下代码：

```
 string[] NameField = new string[test.Count];
    string[] ValueField = new string[test.Count];
    int i = 0;
    foreach (var s in prefsNameValueArray)
    {
        NameField[i] = s.CTMAttrName;
        ValueField[i] = s.CTMAttrValue;
        i++;
    } 
```

我可以使用 LINQ 做同样的事情吗，有人可以帮我改进这段代码吗？

在此先感谢，拉姆齐

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:14:54.963

使用 Linq：

```
string[] NameFields = nodes.Select(n => n.NameField).ToArray();
string[] ValueFields = nodes.Select(n => n.ValueField).ToArray(); 
```

Linq 不一定是这里最有效的方法，因为`ToArray`如果您使用查询而不是集合，可能会创建一个可能太大的数组（由于加倍算法）。但它简短易读（而且大部分速度都足够快）。

这是 for 循环版本：

```
int count = nodes.Count(); // in case you want to change the collection type or use a linq query
string[] NameField = new string[count];
string[] ValueField = new string[count];
for (int i = 0; i < count; i++)
{
    NameField[i] = nodes.ElementAt(i).NameField;
    ValueField[i] = nodes.ElementAt(i).ValueField;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:15:03.903

```
var nameField = test.Select(n => n.CTMAttrName).ToArray();
var valueField = test.Select(n => n.CTMAttrValue).ToArray(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T12:15:33.510

使用`Lambda expressions`;

```
string[] NameField = prefsNameValueArray.Select(x=> x.NameField).ToArray();
string[] ValueField = prefsNameValueArray.Select(x=> x.ValueField).ToArray(); 
```

# c# - vs2012中的DeploymentItem不复制文件

> ID：14501075
> 
> 赞同：5
> 
> 时间：2013-01-24T12:11:25.097
> 
> 标签：c#, unit-testing, visual-studio-2012, deploymentitem

我想在我的测试中添加一个部署项。

我的解决方案结构如下：

```
MySolution\
-- TestData\
  --addresses.xml
-- ProjectName.TestProject\
  --Internal\
    --MyTestClass.cs 
```

我尝试添加具有以下属性的文件：

```
[DeploymentItem(@"TestData\addresses.xml", " TestData")] 
```

…什么不起作用但是如果我指定绝对文件路径，vs 将复制文件。

```
[DeploymentItem(@"C:\Dir1\Dir2\TestData\addresses.xml", " TestData")] 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-24T12:19:52.220

当前文件夹`DeploymentItemAttribute`默认为输出 bin 文件夹。因此，您必须指定相对于该 bin 文件夹的第一个参数：

```
[DeploymentItem(@"..\..\..\TestData\addresses.xml", " TestData")] 
```

# php - 添加一些链接到一些单词问题

> ID：14501085
> 
> 赞同：3
> 
> 时间：2013-01-24T12:12:03.627
> 
> 标签：php

我有一些话比如

“你好这篇关于游戏的文章。我们的选择是火车游戏。游戏名称是我的小火车”

我想添加如下自动链接

**“游戏”»“ [http://www.mywebsite.com](http://www.mywebsite.com) ”**

**“火车游戏”»“ [http://www.myothersiteadrwesss.com](http://www.myothersiteadrwesss.com) ”**

**“游戏”»“ [http://www.my3thsiteadress.com](http://www.my3thsiteadress.com) ”**

我用 PHP 尝试过，`str_replace`但在我的代码之后

“游戏”字有 2 个嵌套链接（“ [http://www.mywebsite.com](http://www.mywebsite.com) ”和“ [http://www.my3thsiteadress.com](http://www.my3thsiteadress.com) ”）

“火车游戏”字有 3 个嵌套链接（所有 3 个链接）

我该如何解决我的问题？

最后我想要

```
<a href="http://www.my3thsiteadress.com">game</a>
<a href="http://www.myothersiteadrwesss.com">train games</a>
<a href="http://www.mywebsite.com">games</a> 
```

字数可以改变

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:41:12.757

我认为你应该使用`preg_replace`而不是`str_replace`. 这样，您可以指定要替换的更严格的正则表达式（有点像“匹配整个单词”）。在这里，看看 [http://php.net/manual/es/function.preg-replace.php](http://php.net/manual/es/function.preg-replace.php)）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:41:20.207

### 最好的方法是多次替换，逐步...

```
<?php
    $string = "Hello this article about games. Our choice is train games. Name of game is My Little Train";

    // Replace first pass
    $string = str_replace("train games", "<a href='http://www.myothersiteadrwesss.com'>train ga3mes</a>", $string);
    $string = str_replace("games", "<a href='http://www.mywebsite.com'>ga3mes</a>", $string);
    $string = str_replace("game", "<a href='http://www.my3thsiteadress.com'>ga3me</a>", $string);
    $string = str_replace("ga3me", "game", $string);
    echo $string;
?> 
```

### 输出

```
Hello this article about <a href="http://www.mywebsite.com">games</a>. Our choice
is <a href="http://www.myothersiteadrwesss.com">train games</a>. Name of <a
href="http://www.my3thsiteadress.com">game</a> is My Little Train 
```

### 小提琴： http: [//phpfiddle.org/main/code/ny4-ium](http://phpfiddle.org/main/code/ny4-ium)

### 笔记

只要确保，你替换了一些非常大、复杂的东西，并且首先有所有的单词。接下来，您将使用候选词。

使用`str_replace`，这是我能想到的最好方法。否则，您需要使用`regex`并提供更复杂的搜索和替换。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T12:42:31.943

我会将键中的所有单词放在一个指向链接的数组中，如下所示：

```
$str = 'The original string that you want to replace games with!';
$arr = array('games' => 'http://website.com'); 
```

然后我将遍历该数组并用于`str_replace`替换字符串中的内容：

```
for($arr as $key => $val) {
   str_replace($key, $key . ' (' .  $val . ')', $str);
} 
```

**这将产生：**

> 您要替换游戏 (http://website.com) 的原始字符串！

# html - HTML5 LocalStorage 或 AppCache

> ID：14501087
> 
> 赞同：1
> 
> 时间：2013-01-24T12:12:10.690
> 
> 标签：html, local-storage, html5-appcache

天，

我正在尝试确定是否可以使用 HTML5 数据存储 API 为不同的用户在本地缓存/存储不同的文件。我正在开展一个项目，我们希望能够离线访问 PDF 文档。现在我可以使用 appcache 清单文件成功完成此操作并在其中显式添加一个文件，但问题是不同的用户需要在本地缓存/存储的不同文件。

任何人都可以阐明这是否可能吗？

干杯

# jquery - Ajax分页后jQuery选择更改不起作用

> ID：14501092
> 
> 赞同：0
> 
> 时间：2013-01-24T12:12:18.120
> 
> 标签：jquery, ajax

我有一个选择框。在更改时，我会触发一个警报。

我的页面显示不同产品的网格，每个产品都有相同的选择框。我使用 Ajax 进行分页。当用户点击下一页或选择不同的类别时，Ajax 会加载下一批产品。

但是，当它加载产品时，选择框的 onchange 事件不再起作用。它仅适用于第一页。

有任何想法吗？

Onchange 事件

```
$('.cardid').change(function() {
    alert('changed');
}); 
```

选择框

```
// Fill select box for Pictures with basket options
function picture_details($Products_SKU) {
    $selector=array("Framed ","Mounted ","Print ");
    $rtn = "";
    $DB = new mysql_db();
    $DB->sql_connect();
    // Select mounted and print products. Products SKU ends in either M or P
    $q = "SELECT Products_ID, Products_SKU, Products_Cost, Products_Size FROM products WHERE Products_SKU LIKE '".$Products_SKU."%' ORDER BY Products_ID ASC";
    $DB->query($q);
    if ($DB->get_num_rows()) {
        $results = $DB->fetch_all_rows(MYSQL_ASSOC, NULL);
        foreach ($results as $key => $row) { 
            $rtn .= "<tr><th style='width:100px;'>". $selector[$key]. ":</th><td style='width:300px;'> &pound;". $row['Products_Cost'] ." (". $row['Products_Size'] .")</td></tr>";     
        }
    }

    return $rtn;    
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:18:13.057

由于元素是动态创建的，因此您需要在事后绑定事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:18:33.860

如果您从 Ajax 请求加载产品，它们会在操作之后附加到**页面**`$(document).ready()`。`$(document).ready()`触发时，从 Ajax 请求中检索的产品不在**页面**上。

然后，每次调用“loadProducts”Ajax 请求时，都需要将操作重新绑定到来自 Ajax 请求的“comming”新选择元素。

# java - 即使存在，Hibernate 也无法找到命名参数

> ID：14501094
> 
> 赞同：22
> 
> 时间：2013-01-24T12:12:27.787
> 
> 标签：java, hibernate, hql, named-parameters

Hibernate 不断检测

```
org.hibernate.QueryParameterException: could not locate named parameter [name] 
```

即使它存在。这是我的 hql

```
Query query = sess().createQuery("from UserProfile where firstName LIKE '%:name%'").setParameter("name", name); 
```

为什么hibernate不断抛出该异常？即使参数存在？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-01-24T12:15:22.380

应该是这样的：

```
Query query = sess().createQuery("from UserProfile where firstName LIKE :name")
                    .setParameter("name", "%"+name+"%"); 
```

在您的情况下`':name'`，是 Hibernate 将搜索的实际字符串。如果你需要一个真正的命名参数，你只需要`:name`.

因此`%`应该作为值传递`:name`，Hibernate 将替换`:name`为实际值。

请注意，如果您的值包含`%`并且您希望它是一个实际的字母而不是通配符，您将不得不对其进行转义，[这是](http://fisheye.jtalks.org/browse/~br=master/Poulpe/poulpe-model/src/main/java/org/jtalks/poulpe/model/dao/utils/SqlLikeEscaper.java?r=4e390d7d4e1ed18701d2e2463fc693b7ed367819)一个转义类的示例。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-24T12:15:16.133

尝试使用连接它`hql`

```
"from UserProfile where firstName LIKE '%' || :name || '%'" 
```

或使用`CONCAT`

```
"from UserProfile where firstName LIKE CONCAT('%', :name ,'%')" 
```

*   [HQL CONCAT](http://thecafetechno.com/tutorials/hibernate/hql-concat-trim-function-example/)

# batch-file - ini读取后的批处理文件条件复制

> ID：14501097
> 
> 赞同：1
> 
> 时间：2013-01-24T12:12:33.363
> 
> 标签：batch-file, conditional, ini

在我的电脑中，我有一系列位于路径中的文件`C:\Meleena`

在以前的一些安装中，这条路径是不同的（它是`C:\second_path\Meleena`）。

将每台计算机修复到路径后，`C:\Meleena` 我有两种不同的情况：

*   我只有电脑`C:\Meleena`
*   我有的电脑`C:\second_path\Meleena`

因此，我可能会`C:\Windows\Settings.ini`遇到这样的情况：

```
[Summer]
Meleena=C:\Meleena 
```

或者

```
[Summer]
Meleena=C:\second_path\Meleena 
```

我想知道批处理文件是否可以从`C:\Windows\Settings.ini`该`[Summer]`部分读取并执行以下操作：

*   如果`Meleena`=`C:\Meleena`什么都不做；

*   如果`Meleena`=`C:\second_path\Meleena`

将所有文件复制`C:\Meleena`到`C:\second_path\Meleena`

是否有可能获得一个批处理文件来读取本节`Settings.ini`并进行有条件的复制？

非常感谢你们所有人。

美莲娜

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:41:37.560

这应该这样做

```
for /f "skip=2" %%a in ('find /v "[Summer]" C:\Windows\Settings.ini') do (
if "%%a"=="C:\second_path\Meleena" (
xcopy C:\Meleena C:\second_path\Meleena
)
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T14:27:52.633

以参数开头：C:>ini.bat settings.ini Summer Meleena C:\Meleena

ini.bat：

```
@setlocal enableextensions enabledelayedexpansion
@echo off
set file=%~1
set area=[%~2]
set key=%~3
set val=%~4
set currarea=
for /f "usebackq delims=" %%a in ("!file!") do (
    set ln=%%a
    if "x!ln:~0,1!"=="x[" (
        set currarea=!ln!
    ) else (
        for /f "tokens=1,2 delims==" %%b in ("!ln!") do (
            set currkey=%%b
            set currval=%%c
            if "x!area!"=="x!currarea!" if "x!key!"=="x!currkey!" (
                if not "x!val!"=="x!currval!" (
                    echo !currval!
                    xcopy !val! !currval! /H /E /G /Q /R /Y
                )
            )
        )
    )
)
endlocal 
```

[从 Windows 批处理文件中读取 ini](https://stackoverflow.com/questions/2866117/read-ini-from-windows-batch-file)

# python - 在 python / paramiko 中保留对通道的引用

> ID：14501100
> 
> 赞同：1
> 
> 时间：2013-01-24T12:12:39.817
> 
> 标签：python, paramiko

Python & 中的奇怪行为`paramiko 1.7.7.1`。

我有一个函数和一个类，它们实际上具有完全相同的代码，但该类将其分解为 2 个方法。`paramiko`图书馆的行为是不同的。

功能：打开 ssh 连接，运行命令，等待完成并获取退出值。

类： in`setup()`打开 ssh 连接，运行命令并`finish()`等待完成并获取退出值。

我注意到，如果我从其中的标准输出中读取，`setup()`则可以正常工作（已注释掉）。

我对两件事感兴趣，

1.  如何在将频道存储为成员的同时让课程正常工作，以及

2.  在改变行为的分配等方面到底有什么不同？

输出：

```
[function]
exitVal: 0
stdout: hello

[class]
exitVal: -1
stdout: 
```

代码：

`MY_SERVER`是一个基于密钥登录的主机名（不需要密码）。

```
from paramiko import SSHClient

SSH_SERVER = "MY_SERVER"
SSH_CMD = "echo 'hello'"

def working_function():

    client = SSHClient()
    client.load_system_host_keys()

    # connect with current user credentials
    client.connect(SSH_SERVER)

    sshChannel = client.get_transport().open_session()

    sshChannel.exec_command(SSH_CMD)
    stdout = sshChannel.makefile('rb')
    exitVal = sshChannel.recv_exit_status()

    print "exitVal: {0}\nstdout: {1}\n".format(exitVal, stdout.read())

class NotWorkingClass:

    def setup(self):

        client = SSHClient()
        client.load_system_host_keys()

        # connect with current user credentials
        client.connect(SSH_SERVER)

        self.sshChannel = client.get_transport().open_session()
        self.sshChannel.exec_command(SSH_CMD)

        self.stdout = self.sshChannel.makefile('rb')

        # works
        # self.stdout.read()

    def finish(self):

        exitVal = self.sshChannel.recv_exit_status()
        print "exitVal: {0}\nstdout: {1}\n".format(exitVal, self.stdout.read())

working_function()

c = NotWorkingClass()
c.setup()
c.finish() 
```

# http - Facebook 图形 api 并保持连接

> ID：14501101
> 
> 赞同：3
> 
> 时间：2013-01-24T12:12:40.203
> 
> 标签：http, facebook-graph-api, keep-alive

我们希望减少到 facebook 图形服务器的 https 连接延迟。我们已经将我们的服务器配置为进行 http 保持活动。但是，看起来连接在每次调用后都会关闭（来自流量服务器日志......）。

有没有办法确定性地看到graph.facebook.com是否尊重keep_alive连接？..或者一般来说任何服务器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T14:17:07.327

基于 Facebook 对高效查询的态度，我不希望他们尊重任何类型的持久连接。特别是因为您的请求最终会影响其服务器的性能。

[您应该考虑通过将查询组合到单个批处理请求](https://developers.facebook.com/docs/reference/api/batch/)中来一次性获取尽可能多的数据。

# c# - 将值添加到全局列表

> ID：14501107
> 
> 赞同：0
> 
> 时间：2013-01-24T12:13:15.547
> 
> 标签：c#, asp.net, arraylist

我有以下全局列表 -

```
 public partial class About : System.Web.UI.Page
 {

    List<string> changes = null;

    protected void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        {
            List<string> changes = new List<string>();
        } 
```

我正在尝试将字符串值添加到`changes`这样 -

```
 protected void CheckBox1_CheckedChanged(Object sender, EventArgs e)
    {

        CheckBox chk = (CheckBox)sender;
        DataListItem item = (DataListItem)chk.NamingContainer;

        TextBox txt = (TextBox)DataList1.Items[item.ItemIndex].FindControl("aliasTextBox");
        string text = txt.Text;

        changes.Add(text);

        ViewState["array"] = changes;

    } 
```

所以我试图将 dataList 中所做的所有更改存储到`changes`，以便当用户单击时 -

```
protected void Button5_Click(object sender, EventArgs e)
    {
        List<string> changes = (List<string>)ViewState["array"];

        foreach (string text in changes)
        {

            WebService1 ws = new WebService1();
            ws.WebMethod(text);
        }
    } 
```

但是，当单击该按钮时，我在 -changes.add(text) 部分得到一个空引用异常。如何存储更改中的*所有*值以在单击按钮时可用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:17:24.820

使用**[IsPostBack](http://msdn.microsoft.com/en-in/library/system.web.ui.page.ispostback.aspx)**

并将您的更改`List<string> changes = new List<string>();`为`List<string>` `changes =` `null`;

将此代码添加到您的构造函数

```
if(!IsPostBack)
{
 changes = new List<string>();
} 
```

否则你可以使用**[ViewState](http://www.w3schools.com/aspnet/aspnet_viewstate.asp)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:23:31.750

您对变量所做的更改在回发后不会持续存在。您应该将此列表“更改”的值保存到视图状态、会话或应用程序，以便即使在回发之后您也可以保留列表的值。

`CheckBox1_CheckedChanged`更新列表后在事件中添加此代码

```
ViewState["Somename"]=changes; 
```

`Button5_Click`在访问列表之前添加此代码

```
changes= (List<string> )ViewState["Somename"] 
```

# iphone - 将 NSDate 存储为 NSString 然后从 NSString 转换回 NSDate 的最佳方法

> ID：14501110
> 
> 赞同：-1
> 
> 时间：2013-01-24T12:13:38.113
> 
> 标签：iphone, objective-c

我需要将 NSDate 转换为 NSString，然后将此 NSString 转换回具有完整时间和日期的 NSDate - 存储它的最佳格式是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T12:33:12.697

转换为 NSString，首先 NSTimeInterval 然后创建 NSString 对象并做你想做的事。

转换成NSDate，先转换成NSTimeInterval(double value)并创建一个NSDate对象

```
NSDate *date = [NSDate date]; 
//        convert to NSString
NSString *strValue = [NSString stringWithFormat:@"%f", [date timeIntervalSince1970]]; 

//        convert to NSDate
date =  [NSDate dateWithTimeIntervalSince1970:[strValue doubleValue]]; 
```

# matlab - 在matlab中用线连接子图

> ID：14501111
> 
> 赞同：13
> 
> 时间：2013-01-24T12:13:38.260
> 
> 标签：matlab, plot, matlab-figure

考虑以下示例代码：

```
load sumsin; 
s = sumsin+10; % example data series
time = linspace(0,5*24,1000);

figure(1);
subplot(311);
plot(time,s,'k');

subplot(312);
plot(time,s,'k');
hold on;
[s_denoised,~, ~] = wden(s,'minimaxi','s','sln',1,'db4');
plot(time,s_denoised,'r');

subplot(313);
plot(time,s,'k');
hold on;
plot(time,s_denoised,'r');
xlim([20 40]); 
```

导致 ![在此处输入图像描述](../Images/e1e899128e8ab38281002d2d30fb319f.png)

我想通过在子图 2 和 3 之间插入线来更改此图，以显示子图 3 是子图 2 的一部分。例如：

![在此处输入图像描述](../Images/2996eeaf887023b571436c26d66601d0.png)

这在matlab中如何实现？

编辑：

我正在考虑在整个图形上生成一个不可见轴的方法，获取每个子图的位置，20 和 40 的位置将是子图宽度的一定百分比，所以我可以使用注释命令从这里开始一条线，然后将相同的方法应用于第三个子图以将线与所需位置连接起来。我已经尝试过了，但到目前为止还没有解决方案。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-24T18:32:31.943

只是为了答案，您可以使用[`annotation objects`](http://www.mathworks.com/help/matlab/ref/annotation.html)来获得您正在寻找的效果，正如评论中正确建议的那样。请注意，它们的坐标必须相对于图形窗口归一化为 [0, 1] 范围，因此调整它们可能非常繁琐。

这*确实*完成了工作，但它是可怕的。不要这样做。

### 例子

由于我没有您的原始数据，因此我将自己绘制一些东西（但与您的相似）：

```
t = linspace(0, 120, 1000);
s_denoised = sin(t / 2);
s = s_denoised + 0.2 * randn(size(s_denoised));
subplot(3, 1, 1), plot(t, s, 'k')    
subplot(3, 1, 2), plot(t, s, 'k', t, s_denoised, 'r')    
subplot(3, 1, 3), plot(t, s, 'k', t, s_denoised, 'r'), xlim([20 40]) 
```

现在让我们根据需要添加“注释”行：

```
annotation('doublearrow', [.26 .39], [.38 .38]); %// Top double-arrow line
annotation('doublearrow', [.13 .9], [.34 .34]);  %// Bottom double-arrow line
annotation('line', [.325 .325], [.38 .37]);      %// Top little connector
annotation('line', [.515 .515], [.35 .34]);      %// Bottom little connector
annotation('line', [.325 .515], [.37 .35]);      %// Line 
```

结果：

![结果图像](../Images/581b6c712459a42ea2fa33764a7d0a52.png)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-26T06:46:48.240

游戏有点晚了，但了解文件交换 (FEX) 中可用的这些可选工具仍然是有益的：

**[inset2DAbsolute](http://www.mathworks.com/matlabcentral/fileexchange/33159-inset2dabsolute)** - 创建一个轴插入，使用较大的轴和相应的注释定义。

![在此处输入图像描述](../Images/40582706391ba4554f0d5ddfc7fb4ef3.png)

**[On-figure magnifier](http://www.mathworks.com/matlabcentral/fileexchange/26007-on-figure-magnifier)** - 是一个缩放工具，用于在同一绘图上的图像的 2D 图形。它由两个块（辅助轴和放大镜）组成。辅助轴，可在图形范围内任意分配，显示放大镜标记的区域。

![在此处输入图像描述](../Images/2b1666d77d3260b72011f536c6301264.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T12:59:14.103

有趣的问题。

但是，根据我的经验，使用图形软件可以更有效地美化图形和绘图。
为此，我通常使用 excel + powerpoint。

因此，我的建议（这对您的问题来说并不是一个很好的答案）是：

*   将数据导出到 Excel，使用[`xlswrite`](http://www.mathworks.com/help/matlab/ref/xlswrite.html)

*   使用 excel 创建所需的绘图。

*   将绘图复制粘贴到 power point 以进行“手工”整理...

# iphone - 我需要在 ARC 中使用 dealloc 方法吗？

> ID：14501115
> 
> 赞同：40
> 
> 时间：2013-01-24T12:13:48.247
> 
> 标签：iphone, ios, objective-c, automatic-ref-counting

所以，我有课：

```
@interface Controller : NSObject
{
    UILabel* fileDescription;
}

@property(strong, nonatomic) UILabel* fileDescription; 
```

我是否需要在属性 fileDescription 等于 nil 的情况下使用方法 dealloc？
例如：

```
-(void)dealloc
{
    fileDescription = nil;
} 
```

如果不是，谁将关闭 fileDescription 使用的内存？

* * *

## 回答 #1

> 赞同：81
> 
> 时间：2013-01-24T12:18:33.620

通常，您不需要提供子类`dealloc`方法，因为 ARC 管理实例变量的生命周期。

然而，执行清理而*不是释放对象*可能很有用，例如删除观察者或干净地关闭网络连接。因此`dealloc`，您可以在 ARC 下进行子类化，但不允许`[super dealloc]`从子类化方法中调用。

但是，在您的特定情况下，它不是必需的。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-01-24T12:17:21.383

不。

您不需要`dealloc`in 中的方法`ARC`。

但是，如果您想在视图关闭或释放时执行一些清理任务。这是最好的地方，在这种情况下你可以实现它。

**例如：**

您正在视图中运行一个计时器，它正在更新您的视图。当您被解雇时，您需要停止该计时器。在这种情况下，您可以使用 dealloc 方法并在那里停止计时器。

`NSNotification`观察者类似。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-01-24T12:16:10.143

如果您使用的是 ARC。

无需使用 dealloc 和 release，编译器知道您的属性和对象是强/弱的，因此它将对其进行管理。

编辑：

`dealloc`如果您使用`CG...`&之类的核心框架对象，则需要方法`CF...`。即使您为需要删除它的通知创建观察者，`dealloc`也是删除观察者的最佳位置。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T12:16:07.363

Ans 是 NO 因为有了 ARC 就不需要解除分配。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-24T12:17:09.647

当您使用 ARC 时，您不必使用`dealloc` Complier 将根据属性、变量或控件的范围设置 autoreleasePool。它会`release`记住的。有不同类型的自动释放池，通常我们可以将它们定义为函数级别、类级别等。希望这会有所帮助。

# java - 哪种 Camel 构造适合转换？

> ID：14501119
> 
> 赞同：7
> 
> 时间：2013-01-24T12:14:03.737
> 
> 标签：java, apache-camel, esb

Apache Camel 提供了几种执行数据转换的方法：其转换 EIP 的概念、自定义数据格式，以及允许自定义类型转换器。

我有一种情况，我需要从骆驼路线内部进行非常复杂的转换。我应该实现我自己的类型转换器、我自己的 DataFormat，还是应该实现`org.apache.camel.Expression`并将所有转换的东西放在那里：

```
public class MyTransformer implements Expression {
    @Override
    public <T> T evaluate(Exchange arg0, Class<T> arg1) {
        // ...
    }
} 
```

我想我对何时/何时使用您自己的类型转换器、何时使用`.transform(myTransformer)`处理器或何时使用自定义 DataFormat 感到困惑。提前致谢！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-25T14:41:21.497

差异是微妙的，尽管它们都用于不同的事情。你应该使用：

*   当您将“业务有效负载”从一种形状转换为另一种形状时的转换器[。](https://camel.apache.org/message-translator.html)例如，当您将从 DAO 中提取的值对象转换为您将用于调用 Web 服务的 JAXB 注释对象时。
*   当您想要将高级表示（例如某种类型的对象）编组为较低级别表示时的[数据格式- 您可以通过线路发送的东西。](http://camel.apache.org/data-format.html)数据格式包括序列化、Google 协议缓冲区、JSON、JAXB 等。
*   当您更改访问消息表示的方式时的[类型转换器。](https://camel.apache.org/type-converter.html)例如，一个字符串和一个字节数组或一个 InputStream 仍然读取相同的字符，所以你可以在那里编写（尽管实际上有内置的）转换器，在其中任何两个之间进行转换。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-27T07:04:04.173

只是补充一下杰克上面所说的。这一切都取决于。

而且您不需要使用任何 Camel API 来执行此操作。在某些情况下，您可能只需要转换一次或几次消息负载。为此，您可以使用普通 POJO 并从 Camel 路由等调用它

例如 POJO 中将 String 转换为 MyOrder 实例的方法。

```
public MyOrder doSomething(String data) {
    ...
    return ...
} 
```

然后在路由中的消息转换器中使用方法调用

```
.transform().method(MyBusinessClass.class, "doSomething") 
```

尽管正如 Jake 所回答的那样，使用任何 Camel 方式进行消息转换，但允许您将其无缝集成到 Camel 中，并将其用作一等公民，因为它是由 Camel 本身提供的开箱即用的。并允许您在其他路线和 Camel 应用程序中重用它。

实现 org.apache.camel.Expression 来转换消息有效负载虽然不常用。正如杰克所说，有更好的方法。或者使用如上所示的 POJO。尽管上面的 POJO 最终被评估为 org.apache.camel.Expression，因此您可以实现一次并自己使用它。

如果你有一本 Camel in Action 这本书，那么第 3 章就是用 Camel 转换数据。

# android - 仅在 android v4 上带有 EditText 的 NullPointer

> ID：14501125
> 
> 赞同：1
> 
> 时间：2013-01-24T12:14:24.027
> 
> 标签：android, nullpointerexception, android-edittext, search-box

那天我为 android tablet v3 制作了一个小应用程序。它工作得很好，直到我决定在 android v4 上测试它。问题来自放置在片段布局顶部操作栏的搜索框。在 android 3.x 上，它加载得很好并且像一个魅力一样工作，但在 android 4.x 上并非如此，每次我加载应用程序崩溃的片段时。

```
I/System.out(8863): v3: android.widget.EditText@40a34fa8
I/System.out(28353): v4: null 
```

我知道我可能不会在某个地方为 android 4.x“标准”膨胀对象或布局，但我就是不知道问题出在哪里。

这是日志猫：

```
01-24 12:31:41.527: I/System.out(28353): v4: null
01-24 12:31:41.527: D/AndroidRuntime(28353): Shutting down VM
01-24 12:31:41.527: W/dalvikvm(28353): threadid=1: thread exiting with uncaught exception (group=0x40bc41f8)
01-24 12:31:41.535: E/AndroidRuntime(28353): FATAL EXCEPTION: main
01-24 12:31:41.535: E/AndroidRuntime(28353): java.lang.NullPointerException
01-24 12:31:41.535: E/AndroidRuntime(28353):    at prob_test665.prob_test.FragmentListMenuSEARCH.ifcSEARCH(FragmentListMenuSEARCH.java:154)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at prob_test665.prob_test.FragmentListMenuSEARCH.onPrepareOptionsMenu(FragmentListMenuSEARCH.java:115)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.app.FragmentManagerImpl.dispatchPrepareOptionsMenu(FragmentManager.java:1865)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.app.Activity.onPreparePanel(Activity.java:2463)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at com.android.internal.policy.impl.PhoneWindow.preparePanel(PhoneWindow.java:438)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at com.android.internal.policy.impl.PhoneWindow.invalidatePanelMenu(PhoneWindow.java:761)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.app.Activity.invalidateOptionsMenu(Activity.java:2552)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.app.FragmentManagerImpl.invalidateOptionsMenu(FragmentManager.java:1914)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.app.Fragment.setHasOptionsMenu(Fragment.java:898)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at prob_test665.prob_test.FragmentListMenuSEARCH.onCreateView(FragmentListMenuSEARCH.java:57)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at prob_test665.prob_test.ccc_frament.onCreateView(ccc_frament.java:68)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:828)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1032)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.app.BackStackRecord.run(BackStackRecord.java:622)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1382)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.app.FragmentManagerImpl$1.run(FragmentManager.java:426)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.os.Handler.handleCallback(Handler.java:605)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.os.Handler.dispatchMessage(Handler.java:92)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.os.Looper.loop(Looper.java:137)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at android.app.ActivityThread.main(ActivityThread.java:4514)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at java.lang.reflect.Method.invokeNative(Native Method)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at java.lang.reflect.Method.invoke(Method.java:511)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
01-24 12:31:41.535: E/AndroidRuntime(28353):    at dalvik.system.NativeStart.main(Native Method) 
```

这是代码片段

在 prob_test665.prob_test.FragmentListMenuSEARCH.ifcSEARCH(FragmentListMenuSEARCH.java:154)

```
EditText text_search = (EditText)getActivity().findViewById(R.id.text_search); 
```

那是我加载片段时应用程序崩溃的那一行。试图用上下文替换getActivity，对话框..但没有运气。

有两段代码来自我做的一个测试，只是为了让它更清楚一点：

[http://pastebin.com/ZwVJCduE](http://pastebin.com/ZwVJCduE)

[http://pastebin.com/ZePzctke](http://pastebin.com/ZePzctke)

在此先感谢您的时间。

编辑：忘记了酒吧的 xml：

```
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:id="@+id/item_search" android:actionLayout="@layout/search_box" android:showAsAction="always" android:visible="false"></item>

    <item android:title="test55" android:showAsAction="always">

        <menu>

            <item 
                android:id="@+id/subitem_m_sinc"
                android:title="@string/item_m_sinc2"
                android:titleCondensed="@string/item_m_sinc1"
                android:icon="@drawable/ic_launcher"/>

            <item 
                android:id="@+id/subitem_m_ord"
                android:title="@string/item_me_ord"/>

            <item 
                android:id="@+id/subitem_m_ccc"
                android:title="@string/item_m_ccc"/>

            <item 
                android:id="@+id/subitem_m_config"
                android:title="@string/item_m_config"/>

        </menu>

    </item> 
```

# asp.net-mvc - 如何在asp.net mvc中使用formsauthenticationticket类

> ID：14501127
> 
> 赞同：0
> 
> 时间：2013-01-24T12:14:29.487
> 
> 标签：asp.net-mvc, forms-authentication

最近我听说了 **formsauthenticationticket 类**。我需要知道如何将此类与用户登录一起使用？如果有人可以举例说明这个formsauthenticationticket类，那将对我很有帮助。谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T13:11:03.453

FormsAuthenticationTicket 有三个参数。参数是字符串名称、bool isPersistent 和 int timeout。身份验证票的有效时间，以分钟为单位。如果 isPersistent 为真，则票证将存储在持久 cookie 中（跨浏览器会话保存）；否则为假。如果票证存储在 URL 中，则忽略此值。

加密方法

```
private string Encrypt(string stringToEncrypt)
{
    FormsAuthenticationTicket tk = new FormsAuthenticationTicket(stringToEncrypt, false, 600);
    // returns encrypted string
    return FormsAuthentication.Encrypt(tk); 
} 
```

解密方法

```
private string Decrypt(string encryptedString)
{
    FormsAuthenticationTicket tk= FormsAuthentication.Decrypt(encryptedString);
    return tk.Name;
} 
```

# jquery - 获取删除操作的 id

> ID：14501130
> 
> 赞同：1
> 
> 时间：2013-01-24T12:14:51.467
> 
> 标签：jquery, jqgrid

我有一个带有格式化程序操作的表格来编辑和删除行。

在删除操作中，我想在打开的对话框中显示一条消息，其中包含要删除的行 ID。所以在 beforeShowForm 事件中，我得到了 id：

```
beforeShowForm: function (form) {

     var rowid= $("#lista_operaciones").jqGrid('getGridParam','selrow');
     $("td.delmsg", form[0]).html(sprintf(mensaje_borrado, rowid));
}, 
```

如果我单击所选行的删除按钮，我没有任何问题，但是如果我单击其他未选择行的删除按钮，我会得到所选行的 id。

![在此处输入图像描述](../Images/704ae09978b40ba4c59c0c9e301200c8.png)

例如，我选择了最后一行，如果我点击第二行的删除按钮，我会得到最后一行的 id。

我怎样才能得到正确的身份证？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:57:40.853

我建议您在删除对话框中使用隐藏字段，其中包含`id="DelData"`. 这是行 ( `<tr>`)，其中一个单元格 ( `<td>`) 具有将被删除的行的 id。`selrow`使用该字段作为网格选项的使用更安全。

请参阅代码示例[的答案](https://stackoverflow.com/a/10050428/315935)。在使用`multiselect: true`选项的情况下，单元格的内容将是逗号分隔的行 ID 列表，这些行将被删除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:48:01.000

您需要找到与单击的删除按钮相关的行的 id，并且您需要在`beforeShowForm: function`.

假设所讨论的值是`<tr>`元素的 id，则表达式为：

```
$(tableSelector).on('click', 'deleteButtonSelector', function() {
    var rowid= $(this).closest('tr').attr('id');
    //do something here to make rowid available to the beforeShowForm function
}); 
```

如果 id 以某种方式存储，那么您将不得不调整表达式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T12:54:28.987

你的代码正在做它应该做的事情......你要求选择的行

```
.jqGrid('getGridParam','selrow'); 
```

如果我正确阅读了您的问题，您正在寻找将数据添加到现有的删除确认对话框，在本例中为 rowid。

最好的方法可能是添加您自己的自定义按钮，尽管需要做更多工作，但使用相同的垃圾箱图标，响应它的 onClick 事件，然后让它将数据添加到您将构建的自定义删除确认表单中。

如果您只想要一个带有 rowid 的额外消息框/警报，您可以使用类似的东西

```
delOptions: {onclickSubmit: function(rp_ge, rowid) {alert('RowID: ' + rowid)}} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-05-04T07:43:15.027

```
var sr = jQuery("#list2").getGridParam('selrow');
rowdata = jQuery("#list2").getRowData(sr); 
```

# java - （最远点）Voronoi 图的 Java 库

> ID：14501132
> 
> 赞同：4
> 
> 时间：2013-01-24T12:14:54.683
> 
> 标签：java, computational-geometry, voronoi

我已经在 Google 上搜索了几个小时，但找不到用于计算（最远点）Voronoi 图的 Java 库。

有一些小程序可以愉快地绘制 Voronoi 图，但我还没有看到有可用源代码的小程序。

我试图回答的问题是“这个 Voronoi 顶点的定义点是什么”、“离这个 Voronoi 顶点最近的点是什么”以及“离这个 Voronoi 顶点最远的点是什么”。

我还将接受一个关于如何编写我自己的（最远点）Voronoi 图算法的良好解释的指针。请注意，我并不真正关心效率，我只是想证明使用这两个 Voronoi 图可以解决我的问题。

请注意，我需要 FPVD 和 VD :)

*azraelAT 帮我找到了普通 Voronoi 图的库，但我仍然没有找到可以计算最远点 Voronoi 图的库！*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-09T20:16:20.147

有关指向算法的指针，您可以在以下位置查看：

斯库姆，斯文。[一种计算最小包围圆的简单算法](http://ojs.statsbiblioteket.dk/index.php/daimipb/article/viewFile/6704/5821)。*信息处理快报*，1991，37.3：121-125。

抽象主张

> ... 计算算法 ... 点集的最远点 Voronoi 图

但是解释（在第 3 节中）指定了一个**凸点**集。我不知道一组点 S 的 FPVD 与例如 S 的凸包的 FPVD 之间的关系。

编辑：

Shamos 在他的博士学位。论文写道（第 201 页）：

> 根据定理 6.31，该图 [FPVD] 仅由凸包上的点确定，并且这些点都是暴露的，因此没有有界区域。

迈克尔·伊恩·沙莫斯。1978.*[计算几何](http://euro.ecom.cmu.edu/people/faculty/mshamos/1978ShamosThesis.pdf)*。博士 论文。耶鲁大学，纽黑文，康涅狄格州，美国。AAI7819047。

我读到您正在寻找 java 解决方案，但[在这里](http://gitorious.org/qhull)您可以找到在[qvoronoi Qu 中解释的 C 解决方案——最远站点 Voronoi 图](http://www.qhull.org/html/qvoron_f.htm)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-04-25T17:44:56.950

您可能想看看[Tektosyne](https://github.com/kynosarges/tektosyne "泰克托辛")库。

它可以生成 Voronoi 图和 Delaunay 三角剖分，并转换为 DCEL 细分，并支持 A* 寻路、路径覆盖、洪水填充、叹息线等图形算法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T12:25:25.900

有很多免费的库可以从各种输入数据中创建 Voronoi 图。

查看 simplevoronoi 例如：http: [//sourceforge.net/projects/simplevoronoi/](http://sourceforge.net/projects/simplevoronoi/)

# common-lisp - 将循环列表复制到固定长度列表

> ID：14501134
> 
> 赞同：3
> 
> 时间：2013-01-24T12:14:58.423
> 
> 标签：common-lisp

我将图形坐标存储在一个圆形列表中：

```
(defun make-circular-list (size &key initial-element)
  (let ((list (make-list size :initial-element initial-element)))
    (nconc list list)))

(defvar *coordinates* (make-circular-list 1024 :initial-element 0.0)) 
```

`*coordinates*`现在，无论何时必须设置新坐标，都可以轻松更新。

但是，我有一个库函数，它采用一系列坐标在图形上绘制线条。当然这个函数对循环结构不起作用，所以我想做一个固定长度的副本。列表或数组都可以。

到目前为止，我已经尝试过`subseq`使用`make-array`关键字`:initial-contents`，但它失败了。 `loop`或`dotimes`做工作，但我希望避免迭代列表的每个元素。

是否可以有效地复制这个循环结构或本着置换数组的精神制作一个固定长度的数组？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T12:43:23.530

使用 LOOP 没有任何问题。

```
(loop for c in *coordinates* repeat 1024 collect c) 
```

顺便说一句，有时将循环列表隐藏在 CLOS 对象后面可能很有用。

```
(defclass circular-list ()
   ((list)
    (size)
    (first-element)
    (last-element))) 
```

等等...

这样，您可以提供一些 CLOS 方法来访问和更改它（创建、添加、复制、删除、...、as-list 等）。您还可以使用`PRINT-OBJECT`.

# c++ - Boost Unit Test 编译通过 Eclipse 失败

> ID：14501135
> 
> 赞同：4
> 
> 时间：2013-01-24T12:14:59.507
> 
> 标签：c++, unit-testing, boost, eclipse-cdt

我想通过 Eclipse 编译以下代码行，但在构建期间我会得到我无法理解的错误。有没有人有解决方案来解决它。

```
#include <boost/test/unit_test.hpp>

#define BOOST_TEST_DYN_LINK
#define BOOST_AUTO_TEST_MAIN
#define BOOST_TEST_MODULE First_TestSuite

BOOST_AUTO_TEST_CASE( First_TEst )
 {

BOOST_CHECK(2 == 2);

    } 
```

* * *

错误

> 12:55:13 **** 项目 NewProject 的配置调试的增量构建 **** 信息：内部构建器用于构建 g++ "-IC:\boost_1_52_0\boost_1_52_0" -O0 -g3 -Wall -c -fmessage- length=0 -o "src\NewProject.o" "..\src\NewProject.cpp" g++ -o NewProject.exe "src\NewProject.o" src\NewProject.o: 在函数 `ZN10First_TEst11test_methodEv': C:\Users\sam\workspace1\NewProject\Debug/../src/NewProject.cpp:19: undefined reference to` boost::unit_test::unit_test_log_t ::set_checkpoint(boost::unit_test::basic_cstring, unsigned int, boost::unit_test::basic_cstring)' C:\Users\sam\workspace1\NewProject\Debug/../src/NewProject.cpp:19: 未定义参考到 `boost::test_tools::tt_detail::check_impl(boost::test_tools::predicate_result const&, boost::unit_test::lazy_ostream const&, boost::unit_test::basic_cstring<char const>, unsigned int, boost::test_tools::tt_detail::tool_level, boost::test_tools::tt_detail::check_type, unsigned int, ...)' src\NewProject.o: In function` _static_initialization_and_destruction_0'：C:\Users\sam\workspace1\NewProject\Debug/../src/NewProject.cpp:16：未定义的引用 `boost::unit_test::ut_detail::auto_test_unit_registrar::auto_test_unit_registrar(boost::unit_test::test_case*, unsigned long)' src\NewProject.o: In function` ZN5boost9unit_test15unit_test_log_tC1Ev': C:/boost_1_52_0/boost_1_52_0/boost/test/unit_test_log.hpp:131: undefined reference to `vtable for boost::unit_test::unit_test_log_t' src\NewProject.o: In function` ZN5boost9unit_test14make_test_caseERKNS0_9callback0INS0_9ut_detail6unusedEEENS0_13basic_cstringIKcEE': C:/boost_1_52_0/boost_1_52_0/boost/test/unit_test_suite_impl.hpp:255: undefined reference to `boost::unit_test::ut_detail::normalize_test_case_name(boost::unit_test::basic_cstring<char const>)' C:/boost_1_52_0/boost_1_52_0/boost/test/unit_test_suite_impl.hpp:255: undefined reference to` boost::unit_test ::test_case::test_case(boost::unit_test::basic_cstring, boost::unit_test::callback0 const&)' src\NewProject.o: in function `ZN5boost9unit_test15unit_test_log_tD1Ev': C:/boost_1_52_0/boost_1_52_0/boost/test/unit_test_log.hpp:93: undefined reference to`vtable for boost::unit_test::unit_test_log_t' c:/mingw/bin/ ../lib/gcc/mingw32/4.7.2/../../../libmingw32.a(main.o):main.c:(.text.startup+0xa7): 未定义引用`WinMain@ 16' collect2.exe: 错误: ld 返回 1 退出状态
> 
> 12:55:24 构建完成（耗时 11s.567ms）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T12:20:01.720

似乎您忘记添加`-lboost_unit_test_framework-mt` 或在 Windows 系统中命名该库

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-02-08T10:53:09.413

如果您只想使用标头变体，则应包括以下内容

```
#define BOOST_TEST_MODULE First_TestSuite
#include <boost/test/included/unit_test.hpp> 
```

而不是你的

```
#include <boost/test/unit_test.hpp> 
```

而且您只需要`#define BOOST_TEST_MODULE First_TestSuite`带有标头的变体。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-08T05:30:07.690

您应该使用`Single Header Variant of the UTF`来自 Boost.

[http://www.boost.org/doc/libs/1_46_1/libs/test/doc/html/utf/user-guide/usage-variants/single-header-variant.html](http://www.boost.org/doc/libs/1_46_1/libs/test/doc/html/utf/user-guide/usage-variants/single-header-variant.html)

# iphone - Facebook错误在帖子上获取图像

> ID：14501136
> 
> 赞同：0
> 
> 时间：2013-01-24T12:15:03.657
> 
> 标签：iphone, ios, xcode, facebook, facebook-graph-api

> **可能重复：**
> [如何将照片发布到 facebook iphone fbconnect](https://stackoverflow.com/questions/6959961/how-to-post-photos-to-facebook-iphone-fbconnect)

我正在使用 FB SDK 并在我的视图中从我的应用程序上传 FB 帖子上的图片时出现错误，我确实加载了我拥有的 UIImageView，它有一个我需要在 FB 上发布的图像，视图的代码确实加载了

```
ImageView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 65, 65)];
ImageView.center = CGPointMake(42, 43);
[View addSubview:ImageView]; 
```

在我的 FB post 方法中，我做到了

```
 UIImage *image = [[UIImage alloc]init];
   image = ImageView.image;

   NSMutableDictionary *params = [NSMutableDictionary dictionaryWithCapacity:3];

   [params setObject:@"LINK_HERE" forKey:@"link"];

// due to this line below, i am getting an error :
// "[UIImage length]: unrecognized selector sent to instance 0x170fa0e0" 
// and if use http link instead of image(UIImage) it works, but i want to use my image
   [params setObject:image forKey:@"picture"];    

   [params setObject:@"NAME_HERE" forKey:@"name"];
   [params setObject:@"DEC_HERE" forKey:@"description"];

// Invoke the dialog
       [self.facebook dialog:@"feed" andParams:params andDelegate:self]; 
```

我应该如何在这段代码中使用我的 UIImage ......任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:26:30.313

你可以像这样简单地发布你的图片

```
UIImage *imgSource = {insert your image here};
NSString *strMessage = @"Images Description";
NSMutableDictionary* photosParams = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                                     imgSource,@"source",
                                     strMessage,@"message",
                                     nil];

[self.facebook requestWithGraphPath:@"me/photos"
                                 andParams:photosParams
                             andHttpMethod:@"POST"
                               andDelegate:self]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:20:06.563

您只能在 Facebook 对话框方法中上传基于 URL 的图像。在应用程序或应用程序包中生成的图像无法上传。

要上传这些图像，您必须使用图形 API

示例代码

```
NSMutableDictionary *params = [NSMutableDictionary dictionaryWithObjectsAndKeys:
    image, @"source", 
    @"caption desc", @"message",             
    nil];
  [facebook requestWithGraphPath:[NSString stringWithFormat:@"/me/photos?access_token=%@", self.facebook.accessToken]
  andParams:params andHttpMethod:@"POST" andDelegate:self]; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-24T12:18:22.890

facebook sdk 中有一个示例应用程序，请检查。

您还可以查看以下教程：

*   [iOS 版 Facebook 教程：如何在 iPhone 应用程序中使用 Facebook 的新图形 API](http://www.raywenderlich.com/1488/how-to-use-facebooks-new-graph-api-from-your-iphone-app)
*   [iOS 版 Facebook 教程：如何从 iPhone 应用程序中使用 Facebook 的新图形 API 获取用户配置文件](http://www.raywenderlich.com/1578/how-to-get-a-user-profile-with-facebooks-new-graph-api-from-your-iphone-app)
*   [iOS 版 Facebook 教程：如何在 iPhone 应用程序中发布到用户的墙、上传照片和添加“赞”按钮](http://www.raywenderlich.com/1626/how-to-post-to-a-users-wall-upload-photos-and-add-a-like-button-from-your-iphone-app)

# javascript - 在 Highcharts 中使用 JavaScript 中的 PHP 变量

> ID：14501139
> 
> 赞同：-2
> 
> 时间：2013-01-24T12:15:06.163
> 
> 标签：javascript, php, mysql, charts, highcharts

> **可能重复：**
> [将 PHP 字符串传递给 Javascript 变量（并转义换行符）](https://stackoverflow.com/questions/168214/pass-a-php-string-to-a-javascript-variable-and-escape-newlines)

我需要创建一个从数据库中获取数据的条形图。我为此下载了Highcharts。但我无法在 JavaScript 中调用 php 变量。任何想法如何做到这一点？

以及使用动态值创建图表的任何其他方式。

提前致谢。

```
<script>
$(function () {
    var chart;
    $(document).ready(function() {
        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'container',
                type: 'column'
            },
            title: {
                text: 'Monthly Average Rainfall'
            },
            subtitle: {
                text: 'Source: WorldClimate.com'
            },
            xAxis: {
                categories: [
                    'Jan',
                    'Feb',
                    'Mar',
                    'Apr',
                    'May',
                    'Jun',
                    'Jul',
                    'Aug',
                    'Sep',
                    'Oct',
                    'Nov',
                    'Dec'
                ]
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Rainfall (mm)'
                }
            },
            legend: {
                layout: 'vertical',
                backgroundColor: '#FFFFFF',
                align: 'left',
                verticalAlign: 'top',
                x: 100,
                y: 70,
                floating: true,
                shadow: true
            },
            tooltip: {
                formatter: function() {
                    return ''+
                        this.x +': '+ this.y +' mm';
                }
            },
            plotOptions: {
                column: {
                    pointPadding: 0.2,
                    borderWidth: 0
                }
            },
                series: [{
                name: 'Tokyo',
                data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]

            }, {
                name: 'New York',
                data: [83.6, 78.8, 98.5, 93.4, 106.0, 84.5, 105.0, 104.3, 91.2, 83.5, 106.6, 92.3]

            }, {
                name: 'London',
                data: [48.9, 38.8, 39.3, 41.4, 47.0, 48.3, 59.0, 59.6, 52.4, 65.2, 59.3, 51.2]

            }, {
                name: 'Berlin',
                data: [42.4, 33.2, 34.5, 39.7, 52.6, 75.5, 57.4, 60.4, 47.6, 39.1, 46.8, 51.1]

            }]
        });
    });

});
</script> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T12:18:14.330

您可以在脚本中使用 PHP 变量。请参阅下面的示例，将您的 Php 数组设置为字符串。然后将其传递给系列数据。

```
 <?php

        $values= array('49.9', '71.5', '106.4', '129.2', '144.0', '176.0', '135.6', '148.5', 216.4, '194.1', '95.6', '54.4');
        $rainValues = implode(",", $values);
    ?> 
```

然后，您可以访问脚本中的字符串。

```
 series: [{
            name: 'Tokyo',
            data: [<?php echo $rainValues ?>]

        }, 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T12:26:57.240

要在 JavaScript 中使用任何 PHP 变量，您需要回显 PHP 值并将其初始化为 JavaScript 变量。

```
<script type="text/javascript">
       var myjsvar= <?php echo $my_phpvar; ?>
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T12:17:11.830

要在 Javascript 中使用 php 变量，您可能需要这样的东西：

```
<?php
$var = 1;
?>

<script>
    var a = <?=$var?>;
</script> 
```

# android - 如何在android sharedPreference中存储类对象？

> ID：14501146
> 
> 赞同：8
> 
> 时间：2013-01-24T12:15:29.477
> 
> 标签：android, sharedpreferences

我想将类对象存储在 android sharedpreference 中。我对此进行了一些基本搜索，并得到了一些答案，例如使其可序列化对象并存储它，但我的需求非常简单。我想存储一些用户信息，如姓名、地址、年龄和布尔值处于活动状态。我为此制作了一个用户类。

```
public class User {
    private String  name;
    private String address;
    private int     age;
    private boolean isActive;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getAddress() {
        return address;
    }

    public void setAddress(String address) {
        this.address = address;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public boolean isActive() {
        return isActive;
    }

    public void setActive(boolean isActive) {
        this.isActive = isActive;
    }
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-24T12:31:06.893

1.  `gson-1.7.1.jar`从此链接下载： [GsonLibJar](http://www.java2s.com/Code/Jar/g/Downloadgson171jar.htm)

2.  将此库添加到您的 android 项目并配置构建路径。

3.  将以下类添加到您的包中。

    ```
    package com.abhan.objectinpreference;

    import java.lang.reflect.Type;
    import android.content.Context;
    import android.content.SharedPreferences;
    import com.google.gson.Gson;
    import com.google.gson.reflect.TypeToken;

    public class ComplexPreferences {
        private static ComplexPreferences       complexPreferences;
        private final Context                   context;
        private final SharedPreferences         preferences;
        private final SharedPreferences.Editor  editor;
        private static Gson                     GSON            = new Gson();
        Type                                    typeOfObject    = new TypeToken<Object>(){}
                                                                    .getType();

    private ComplexPreferences(Context context, String namePreferences, int mode) {
        this.context = context;
        if (namePreferences == null || namePreferences.equals("")) {
            namePreferences = "abhan";
        }
        preferences = context.getSharedPreferences(namePreferences, mode);
        editor = preferences.edit();
    }

    public static ComplexPreferences getComplexPreferences(Context context,
            String namePreferences, int mode) {
        if (complexPreferences == null) {
            complexPreferences = new ComplexPreferences(context,
                    namePreferences, mode);
        }
        return complexPreferences;
    }

    public void putObject(String key, Object object) {
        if (object == null) {
            throw new IllegalArgumentException("Object is null");
        }
        if (key.equals("") || key == null) {
            throw new IllegalArgumentException("Key is empty or null");
        }
        editor.putString(key, GSON.toJson(object));
    }

    public void commit() {
        editor.commit();
    }

    public <T> T getObject(String key, Class<T> a) {
        String gson = preferences.getString(key, null);
        if (gson == null) {
            return null;
        }
        else {
            try {
                return GSON.fromJson(gson, a);
            }
            catch (Exception e) {
                throw new IllegalArgumentException("Object stored with key "
                        + key + " is instance of other class");
            }
        }
    } } 
    ```

4.  `Application`通过像这样扩展类再创建一个类

    ```
    package com.abhan.objectinpreference;

    import android.app.Application;

    public class ObjectPreference extends Application {
        private static final String TAG = "ObjectPreference";
        private ComplexPreferences complexPrefenreces = null;

    @Override
    public void onCreate() {
        super.onCreate();
        complexPrefenreces = ComplexPreferences.getComplexPreferences(getBaseContext(), "abhan", MODE_PRIVATE);
        android.util.Log.i(TAG, "Preference Created.");
    }

    public ComplexPreferences getComplexPreference() {
        if(complexPrefenreces != null) {
            return complexPrefenreces;
        }
        return null;
    } } 
    ```

5.  `application`像这样在清单的标签中添加该应用程序类。

    ```
    <application android:name=".ObjectPreference"
        android:allowBackup="false"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" > 
    ....your activities and the rest goes here
    </application> 
    ```

6.  在您想要存储价值的主要活动中，`Shared Preference`执行类似的操作。

    ```
    package com.abhan.objectinpreference;

    import android.app.Activity;
    import android.content.Intent;
    import android.os.Bundle;
    import android.view.View;

    public class MainActivity extends Activity {
        private final String TAG = "MainActivity";
        private ObjectPreference objectPreference;

        @Override
        protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        objectPreference = (ObjectPreference) this.getApplication();

        User user = new User();
        user.setName("abhan");
        user.setAddress("Mumbai");
        user.setAge(25);
        user.setActive(true);

        User user1 = new User();
        user1.setName("Harry");
        user.setAddress("London");
        user1.setAge(21);
        user1.setActive(false);

        ComplexPreferences complexPrefenreces = objectPreference.getComplexPreference();
        if(complexPrefenreces != null) {
            complexPrefenreces.putObject("user", user);
            complexPrefenreces.putObject("user1", user1);
            complexPrefenreces.commit();
        } else {
            android.util.Log.e(TAG, "Preference is null");
        }
    }

    } 
    ```

7.  在另一个你想从中获得价值的活动中，`Preference`做这样的事情。

    ```
    package com.abhan.objectinpreference;

    import android.app.Activity;
    import android.os.Bundle;

    public class SecondActivity extends Activity {
        private final String TAG = "SecondActivity";
        private ObjectPreference objectPreference;

        @Override
        protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_second);

        objectPreference = (ObjectPreference) this.getApplication();
        ComplexPreferences complexPreferences = objectPreference.getComplexPreference();

        android.util.Log.i(TAG, "User");
        User user = complexPreferences.getObject("user", User.class);
        android.util.Log.i(TAG, "Name " + user.getName());
        android.util.Log.i(TAG, "Address " + user.getAddress());
        android.util.Log.i(TAG, "Age " + user.getAge());
        android.util.Log.i(TAG, "isActive " + user.isActive());
        android.util.Log.i(TAG, "User1");
        User user1 = complexPreferences.getObject("user", User.class);
        android.util.Log.i(TAG, "Name " + user1.getName());
        android.util.Log.i(TAG, "Address " + user1.getAddress());
        android.util.Log.i(TAG, "Age " + user1.getAge());
        android.util.Log.i(TAG, "isActive " + user1.isActive());
    }  } 
    ```

希望这可以帮到你。在这个答案中，我使用您的课程作为参考“用户”，以便您更好地理解。但是，如果您选择优先存储非常大的对象，我们将无法使用此方法，因为我们都知道数据目录中每个应用程序的内存大小有限，因此如果您确定只有有限的数据可以存储在共享首选项中您可以使用此替代方法。

任何关于这个工具的建议都非常受欢迎。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:18:40.183

另一种方法是自己保存每个属性。首选项只接受原始类型，因此您不能将复杂的对象放入其中

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T12:24:24.560

您可以使用全局类

```
 public class GlobalState extends Application
       {
   private String testMe;

     public String getTestMe() {
      return testMe;
      }
  public void setTestMe(String testMe) {
    this.testMe = testMe;
    }
} 
```

然后在 nadroid 清单中找到您的应用程序标签，并将其添加到其中：

```
 android:name="com.package.classname" 
```

您可以使用以下代码从任何活动中设置和获取数据。

```
 GlobalState gs = (GlobalState) getApplication();
     gs.setTestMe("Some String");</code>

      // Get values
  GlobalState gs = (GlobalState) getApplication();
  String s = gs.getTestMe(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T12:20:18.890

您可以只添加一些普通的 SharedPreferences “name”、“address”、“age”和“isActive”，然后在实例化类时简单地加载它们

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-04T03:21:36.763

如何通过 SharedPreferences 存储登录值的简单解决方案。

您可以扩展 MainActivity 类或其他类，您将在其中存储“您想要保留的东西的价值”。将其放入编写器和阅读器类：

```
public static final String GAME_PREFERENCES_LOGIN = "Login"; 
```

这里 InputClass 是输入，OutputClass 是输出类。

```
// This is a storage, put this in a class which you can extend or in both classes:
//(input and output)
public static final String GAME_PREFERENCES_LOGIN = "Login";

// String from the text input (can be from anywhere)
String login = inputLogin.getText().toString();

// then to add a value in InputCalss "SAVE",
SharedPreferences example = getSharedPreferences(GAME_PREFERENCES_LOGIN, 0);
Editor editor = example.edit();
editor.putString("value", login);
editor.commit(); 
```

现在你可以在其他地方使用它，比如其他类。下面是输出类。

```
SharedPreferences example = getSharedPreferences(GAME_PREFERENCES_LOGIN, 0);
String userString = example.getString("value", "defValue");

// the following will print it out in console
Logger.getLogger("Name of a OutputClass".class.getName()).log(Level.INFO, userString); 
```

# c - '\n' 真的用于冲洗吗？

> ID：14501152
> 
> 赞同：0
> 
> 时间：2013-01-24T12:15:55.630
> 
> 标签：c, linux

```
#include <stdio.h>
#include <unistd.h>

int main (){

    while(1){
        fprintf (stdout,"hello-out");
        fprintf (stderr,"hello-err");
        sleep (1);
    }

    return 0;
} 
```

好吧，我以为这会简单地打印， hello-out 然后 hello-err 休息一秒钟并再次打印这些文字，但是不，发生了一些奇怪的事情，它只是打印 hello-err 然后休息一秒钟并做同样的事情再次。为什么？

但是等等，然后我决定将它们打印在不同的行上，现在它可以工作了。

```
fprintf (stdout,"hello-out\n");
fprintf (stderr,"hello-err\n"); 
```

- - - - - 如同 - - - - - -

```
fprintf (stdout,"hello-out\n");
fprintf (stderr,"hello-err"); 
```

那么'\n'在这里的重要性是什么？这和潮红有关系吗？因为我读到 '\n' 用于冲洗。

并且还在标准输出上打印两个文字，不会产生任何输出:(

```
fprintf (stdout,"hello-out");
fprintf (stdout,"hello-err"); 
```

为什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-24T12:18:18.250

默认情况下，`stdout`是行缓冲的。这意味着除非您显式刷新它，否则在看到`\n`.

`stderr`另一方面，默认情况下是无缓冲的。每次写入都会立即写入。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:24:34.630

我已经以这种方式更改了您的代码

```
#include <stdio.h>
#include <unistd.h>

int main (){
int i;
for(i=0;i<5;i++){
    fprintf (stdout,"hello-out");
    fprintf (stderr,"hello-err");
    sleep (1);
}

return 0;
} 
```

现在输出是

```
hello-errhello-errhello-errhello-errhello-errhello-out
hello-outhello-outhello-outhello-out 
```

因为 stderr 没有被缓冲，所以它会打印出来。但是 stdout 是行缓冲的，因此它会在 \n 到来或您的代码终止或任何时候打印...所以最后我看到 stdout 打印

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-01-24T12:19:56.260

不，这不用于冲洗。fflush 用于此。\n 只是表示换行符。

# scala - 使用 Scala Slick 实现 DRY 的高阶函数

> ID：14501159
> 
> 赞同：4
> 
> 时间：2013-01-24T12:16:19.423
> 
> 标签：scala, higher-order-functions, slick

我知道我的 Scala Slick 数据访问层应该是什么样子，但我不确定它是否真的可能。

假设我有一个 User 表，其中包含 id、email、密码等常用字段。

```
 object Users extends Table[(String, String, Option[String], Boolean)]("User") {
    def id = column[String]("id", O.PrimaryKey)
    def email = column[String]("email")
    def password = column[String]("password")
    def active = column[Boolean]("active")
    def * = id ~ email ~ password.? ~ active
  } 
```

而且我希望以不同的方式查询它们，目前丑陋的方式是创建一个新的数据库会话，执行 for 理解，然后执行不同的 if 语句来实现我想要的。

例如

```
 def getUser(email: String, password: String): Option[User] = {
    database withSession { implicit session: Session =>
      val queryUser = (for {
        user <- Users
          if user.email === email &&
             user.password === password &&
             user.active === true
      } //yield and map to user class, etc...
  }

  def getUser(identifier: String): Option[User] = {
    database withSession { implicit session: Session =>
      val queryUser = (for {
        user <- Users
        if user.id === identifier &&
           user.active === true
      } //yield and map to user class, etc...
  } 
```

我希望有一个用于查询的私有方法，然后是定义查询的公共方法

```
type UserQuery = User => Boolean

private def getUserByQuery(whereQuery: UserQuery): Option[User] = {
  database withSession { implicit session: Session =>
      val queryUser = (for {
        user <- Users
          somehow run whereQuery here to filter
      } // yield and boring stuff
  }

def getUserByEmailAndPassword(email, pass){ ... define by query and call getUserByQuery ...}

getUserById(id){….}

getUserByFoo{….} 
```

这样，查询逻辑被封装在相关的公共函数中，而实际查询和映射到用户对象是在一个其他人不需要关心的可重用函数中。

我遇到的问题是试图将“where”位重构为我可以传递的函数。尝试在 intellij 中选择它们并使用重构会导致一些非常疯狂的打字。

有没有人有任何例子可以证明他们正在接近我想要实现的目标？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T13:59:11.277

1) 在 def 中包装查询意味着查询语句在每个请求上重新生成，并且由于查询参数未绑定，因此没有准备好的语句传递给底层 DBMS。

2）你没有利用作文

相反，如果您定义 def 查询包装器调用的参数化查询 val，您可以获得两全其美的效果。

```
val uBase = for{
  u  <- Users
  ur <- UserRoles if u.id is ur.UserID
} yield (u,ur)

// composition: generates prepared statement one time, on startup
val byRole = for{ roleGroup <- Parameters[String]
  (u,ur) <- uBase
  r <- Roles if(r.roleGroup is roleGroup) && (r.id is ur.roleID)
} yield u

def findByRole(roleGroup: RoleGroup): List[User] = {
  db withSession { implicit ss:SS=>
    byRole(roleGroup.toString).list
  }
} 
```

如果您需要单一属性的一次性查找器，请使用：

```
val byBar = Foo.createFinderBy(_.bar)
val byBaz = Foo.createFinderBy(_.baz) 
```

不记得在哪里，可能在 SO 或 Slick 用户组上，但我确实看到了一个非常有创意的解决方案，它允许多个绑定参数，基本上是`createFinderBy`类固醇。不过对我来说不是那么有用，因为解决方案仅限于单个映射器/表对象。

无论如何，为理解而作曲似乎在做你想做的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-03T08:15:03.383

我最近做了类似的事情，一种方法可以是遵循，编写一个通用的选择方法，它需要一个谓词

```
def select(where: Users.type => Column[Boolean]): Option[User] = {
    database withSession { implicit session: Session =>
      val queryUser = (for {
        user <- Users where(user)

      } //yield and map to user class, etc...
  }

and then write the method which passes the actual predicate as a higher order function

def getUserByEmail(email:String):Option[User]={
      select((u: Users.type) => u.*._2 === email)
}
similarly 

def getActiveUserByEmail(email:String):Option[User]={
     select((u: Users.type) => u.*._2 === email && u.*._4 === true)
} 
```

# c# - 使用反射将 lambda 表达式作为参数传递

> ID：14501163
> 
> 赞同：2
> 
> 时间：2013-01-24T12:16:20.793
> 
> 标签：c#, linq, reflection, linq-expressions

我有一个通用存储库方法调用，如下所示

```
var result = Repository<MyDbClass>.Get(x => x.MyProperty1 == "Something"
&& (!x.MyProperty2.HasValue || x.MyProperty2 == "SomethingElse")); 
```

我希望使用反射来调用这个方法。我主要是在寻找一种使用反射将 lambda 表达式作为参数传递的方法。

**编辑**

实际上，我的存储库类型仅在运行时才知道。所有这些存储库下的表都是相似的，有一些共同的列。正是在这些列上应用了过滤器。所以我不能按原样传递表达式。

```
public void SomeMethod<T, TR>(T repository, TR dataObject)
{
    var type = repository.GetType();
    var dataType = dataObject.GetType();
    var getMethod = type.GetMethod("Get");
    //How to invoke the method by passing the lambda as parameter(??)

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:45:57.443

尝试通过一个`Func<TR, bool>`

```
var method = typeof(TR).GetMethod("Get");

if (method != null)
{
    method.Invoke(new Func<TR, bool>(
        (x) => x.MyProperty1 == "Something" /* etc... */));
} 
```

通过假设您在方法中使用 LINQ 方法`Get`，您可以像这样填写 func

```
public IEnumerable<TR> Get<TR>(Func<TR, bool> func)
{
    return
        db.MyDbClassEntities.Where(func);
} 
```

# c# - .NET：从数组中对象的动态属性中检索值

> ID：14501167
> 
> 赞同：2
> 
> 时间：2013-01-24T12:16:32.597
> 
> 标签：c#, asp.net, .net, vb.net

我基本上是在尝试实现一些 ASP.Net 控件（例如`DropDownList`）使用的部分逻辑，以便接受一个通用数据源，该数据源被迭代，并且每一行都通过调用用户指定的属性来消耗。

这是在 VB.Net 中。示例如下：

```
Dim myObject As Object = getUnknownObject()
Dim propertyName As String = getUnknownPropertyNameForObject()

'Now given that myObject is an array of objects which possess the property given by propertyName '

For Each i As Object In myObject
   Dim valueOfProperty As String = invokePropertyOfObject(myObject, propertyName)
   'Do something with value'
Next i 
```

我正在寻找一个`invokePropertyOfObject`将返回他属性值的实现。我想注意动态属性是在循环中调用的，因此以这种方式使用反射可能会出现性能问题。

有谁知道做我想做的事情的理想方式是什么？如果可能的话，我想要一种只执行一次动态属性查找并在循环期间重复使用它的方法。是否可以这样做，请记住，虽然对象是未知的，但数组中的每个对象都是相同的类型。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:54:09.190

您可以在循环之前获取数组类型的 PropertyInfo 对象，然后可以对数组中的每个元素使用 propertyInfo.GetValue() 方法。这样，您只能找到该属性一次，但能够获取每条记录的值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:25:38.153

`myObject.Property()`其实，如果没有其他选择，你可以直接使用。最好将对象转换为正确的类型以便使用该属性。

这是您的另一个选择：

```
Dim value as String = CallByName(myObject, propertyName, CallType.Get) 
```

# java - 爪哇。获取系统默认打印机

> ID：14501170
> 
> 赞同：2
> 
> 时间：2013-01-24T12:16:39.523
> 
> 标签：java, printing

可以使用 Java Print Service API 获取默认系统打印机吗？

我可以使用获取所有打印机的列表

```
PrintServiceLookup.lookupPrintServices(null, null) 
```

但是如何在系统中将打印机选为*默认*打印机？（在下面的屏幕截图中，默认打印机被选中（HP Laser Jet））。

![选择的默认打印机](../Images/9f2211768ae8dc5e403afcc282ded61a.png)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-24T12:21:32.477

你应该使用[`PrintServiceLookup`](http://docs.oracle.com/javase/1.4.2/docs/api/javax/print/PrintServiceLookup.html)

```
import javax.print.PrintServiceLookup;
PrintService service = PrintServiceLookup.lookupDefaultPrintService(); 
```

会计。到 Javadocs：

> **lookupDefaultPrintService**查找此环境的默认打印服务。这可能会返回 null。如果多个查找服务每个都指定一个默认值，则选择的服务不是精确定义的，而是平台原生服务，而不是已安装的服务，通常作为默认值返回。如果没有明确可识别的平台原生默认打印服务，则以实现依赖的方式将默认设置为第一个。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-24T12:19:33.973

您可以使用[PrintServiceLookup.lookupDefaultPrintService](http://docs.oracle.com/javase/7/docs/api/javax/print/PrintServiceLookup.html#lookupDefaultPrintService%28%29)

```
PrintService service = 
    PrintServiceLookup.lookupDefaultPrintService();
if (service != null) {
    String printServiceName = service.getName();
    System.out.println("Print Service Name is " + printServiceName);
} else {
    System.out.println("No default print service found");
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-24T12:19:20.787

```
 PrintService service = 
                PrintServiceLookup.lookupDefaultPrintService(); 
```

# c# - 来自 Type 的 Dapper 强类型集合

> ID：14501175
> 
> 赞同：2
> 
> 时间：2013-01-24T12:16:50.230
> 
> 标签：c#, dapper

在我的应用程序中，我使用 Dapper 来访问数据库。

我有以下示例代码：

```
public IEnumerable GetByParentId(Type childType, string table) 
{
    IDbConnection _connection = _dbProvider.GetConnection();

    var _sqlString = "select * from " + table;

    IEnumerable _ret = _connection.Query(_sqlString).ToList(); 
    //return IEnumerable<Dapper.SqlMapper.FastExpando> 

    return _ret;
} 
```

是否可以将`FastExpando`item 强制转换为 my`childType`或强制 Dapper 返回强类型集合？

我无法更改我的方法签名！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T13:12:30.390

您可以通过反射调用 Query 方法并提供 childType 的通用 TItem 参数。然后，Dapper 将返回 IEnumerable 并且您将能够投射它。此外，您可以分叉 Dapper（它不是很大）并进行非常简单的 Query 重载，其中将包含 (Type childType) 参数并在内部调用适当的方法。

您面临的是 C# 在使用泛型时的问题。作为静态类型语言，C# 不适合使用动态类型。如果你想动态地工作，你总是以反射结束。

下面是如何使用类型参数调用查询方法的示例。您可能需要稍微纠正一下：

```
 public IEnumerable GetByParentId(Type childType, string table)
    {
        IDbConnection _connection = _dbProvider.GetConnection();

        var _sqlString = "select * from " + table;

        var t = typeof(SqlMapper);
        var genericQuery = t.GetMethods().Where(x => x.Name == "Query" && x.GetGenericArguments().Length == 1).First(); // You can cache this object.
        var concreteQuery = genericQuery.MakeGenericMethod(childType); // you can also keep a dictionary of these, for speed.
        var _ret = (IEnumerable)concreteQuery.Invoke(null, new object[] { _connection, _sqlString });

        return _ret;
    } 
```

附加：

另外，我在这里看到了一个更普遍的设计问题。您想动态指定类型，但又想获得静态类型的对象，您将能够强制转换（我假设是静态的，或者您想继续反射？）。那么...为什么首先要创建动态界面？你说，你不能改变界面，但这看起来有点愚蠢。看起来，你所有的上下文都是静态类型的，但是，由于某种原因，你有一个动态类型的方法。如果您在编译期间（或通过运行时中的通用参数）知道类型，那么您应该简单地将您的方法更改为以下内容：

```
 public IEnumerable<T> GetByParentId<T>(string table)
    {
        IDbConnection _connection = _dbProvider.GetConnection();
        var _sqlString = "select * from " + table;
        var _ret = _connection.Query<T>(_sqlString);
        return _ret;
    } 
```

# c# - 带有实体框架的 MVC 中的列表框控件

> ID：14501176
> 
> 赞同：2
> 
> 时间：2013-01-24T12:16:58.347
> 
> 标签：c#, asp.net-mvc, entity-framework, listbox

我在这里的实体框架中很新，并尝试创建一个简单的列表框控件，但列表框出来是空的。请帮助并告诉我我在这里做错了什么。

DAL（实体框架）：

```
namespace DataAccess
{
using System;
using System.Collections.Generic;

public partial class Client
{
    public Client()
    {
        this.AnotoPGCFiles = new HashSet<AnotoPGCFile>();
        this.Client1 = new HashSet<Client>();
        this.Client11 = new HashSet<Client>();
        this.ClientBillingSetups = new HashSet<ClientBillingSetup>();
        this.ClientDataStores = new HashSet<ClientDataStore>();
        this.ClientDepartments = new HashSet<ClientDepartment>();
        this.ClientFileNames = new HashSet<ClientFileName>();
        this.ClientReports = new HashSet<ClientReport>();
    }

    public int ID { get; set; }
    public string Name { get; set; }
    public string ContactName { get; set; }
    public string ContactEmail { get; set; }
    public string PathToLogo { get; set; }
    public bool Disabled { get; set; }
    public System.DateTime Created { get; set; }
    public int TimeZoneID { get; set; }

    public virtual AnotoLicensePool AnotoLicensePool { get; set; }
    public virtual ICollection<AnotoPGCFile> AnotoPGCFiles { get; set; }
    public virtual ICollection<Client> Client1 { get; set; }
    public virtual Client Client2 { get; set; }
    public virtual ExternalSystemDemographicConfiguration  ExternalSystemDemographicConfiguration { get; set; }
    public virtual ICollection<Client> Client11 { get; set; }
    public virtual Client Client3 { get; set; }
    public virtual TimeZone TimeZone { get; set; }        
 }
} 
```

控制器：

```
public ActionResult Index()
 {
  ViewData["ReportFormat"] = "html";
  ViewBag.Title = "Home Page";

  var db = new DataAccess.Client();
  IEnumerable<SelectListItem> clients = db.Client1
        .Select(c => new SelectListItem
        {
              Value = c.ID.ToString(),
              Text = c.Name
        });

  ViewBag.Clients = clients;
  return View();
 } 
```

看法：

```
@Html.ListBox("ListClients", (IEnumerable<SelectListItem>) ViewBag.Clients) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T17:43:19.603

您需要 ToList() 该查询来解决它。执行选择不会解析表达式。

ViewBag.Clients = clients.ToList();

# css - 字体在 IE 7,8 中不起作用

> ID：14501177
> 
> 赞同：0
> 
> 时间：2013-01-24T12:17:04.640
> 
> 标签：css, font-face

我对@font-face 有疑问。在 ie7 和 ie8 中它不起作用。在 9 和所有其他浏览器中它都可以工作。

我的代码是：

```
@font-face {
    font-family: 'KSD-Avenir-Roman';
    src: url('fonts/KSD-Avenir-Roman.eot');
    src: local('?'), url('fonts/KSD-Avenir-Roman.woff') format('woff'), url('fonts/KSD-Avenir-Roman.ttf') format('truetype'), url('fonts/KSD-Avenir-Roman.svg') format('svg');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'KSD-Avenir-Black';
    src: url('fonts/KSD-Avenir-Black.eot');
    src: url('fonts/KSD-Avenir-Black.eot?#iefix') format('embedded-opentype'),
         url('fonts/KSD-Avenir-Black.woff') format('woff'),
         url('fonts/KSD-Avenir-Black.ttf') format('truetype'),
         url('fonts/KSD-Avenir-Black.svg#open_sans_condensedbold') format('svg');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'KSD-Avenir-Light';
    src: url('fonts/KSD-Avenir-Light.eot');
    src: url('fonts/KSD-Avenir-Light.eot?#iefix') format('embedded-opentype'),
         url('fonts/KSD-Avenir-Light.woff') format('woff'),
         url('fonts/KSD-Avenir-Light.ttf') format('truetype'),
         url('fonts/KSD-Avenir-Light.svg#open_sans_condensedbold') format('svg');
    font-weight: normal;
    font-style: normal;

} 
```

有人可以修复我吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T15:03:39.113

只是一个猜测，但也许：

```
src: local('?') 
```

应该

```
src: url('fonts/KSD-Avenir-Roman.eot?#iefix') 
```

# css - 如何使用 box-sizing: 带有 2 个内联元素的边框？

> ID：14501183
> 
> 赞同：-1
> 
> 时间：2013-01-24T12:17:22.083
> 
> 标签：css, border-box

我试图保持 2 个内联元素，用边框和填充保持 100% 的宽度，我尝试使用 box-sizing 但不起作用。怎么了？HTML：

```
<div class="content">
<aside class="left-nav">
<h2>Menu</h2>
</aside>
<section class="section-main">Test</section>
</div> 
```

CSS：

```
.content {
box-sizing: border-box;
margin-top: 82px;
height: 1000px;
border: solid 2px green;
}
.left-nav {
box-sizing: border-box;
display: inline-block;
width: 20%;
border: 1px solid red;
}
.section-main {
box-sizing: border-box;
display: inline-block;
width: 80%;
border: 1px solid red;
} 
```

JSFiddle：http: [//jsfiddle.net/W7EJB/](http://jsfiddle.net/W7EJB/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T12:22:12.577

这是**inline-block** element.Give **font-size:0;的问题。**到父元素。像这样写：

```
.content {
    box-sizing: border-box;
    margin-top: 82px;
    height: 1000px;
    border: solid 2px green;
    font-size:0;
}
.left-nav {
    box-sizing: border-box;
    -moz-box-sizing: border-box;
    display: inline-block;
    width: 20%;
    border: 1px solid red;
    font-size:16px;
}
.section-main {
    box-sizing: border-box;
    -moz-box-sizing: border-box;
    display: inline-block;
    width: 80%;
    border: 1px solid red;
    font-size:16px;
} 
```

检查这个[http://jsfiddle.net/W7EJB/1/](http://jsfiddle.net/W7EJB/1/)

# jquery - 检测 Windows 与 Mac OS

> ID：14501185
> 
> 赞同：3
> 
> 时间：2013-01-24T12:17:26.473
> 
> 标签：jquery, css, html

有没有办法检测 Win OS 与 Mac 并将站点重新定向到每个版本的不同版本？

我们使用 superscrollorama 为客户站点构建了一个视差介绍，mac 和 pc 浏览器之间的滚动速度非常快——在 pc 上需要几分钟，而在 imac 上需要几秒钟。

易于更改，但我首先需要一种方法来检测和重定向站点。

有什么建议么？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-01-24T12:18:52.660

```
var OSName="Unknown OS";
if (navigator.appVersion.indexOf("Win")!=-1) OSName="Windows";
else if (navigator.appVersion.indexOf("Mac")!=-1) OSName="MacOS";
else if (navigator.appVersion.indexOf("X11")!=-1) OSName="UNIX";
else if (navigator.appVersion.indexOf("Linux")!=-1) OSName="Linux";

console.log('Your OS is: '+OSName); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2019-03-06T10:37:30.280

如果你使用java，你可以使用下面的代码：

> System.getProperty("os.name")

并会得到像这样的字符串：

“Windows 10”或“Mac OS X”

然后，它可以用于您的特定目的

# ios - 应用更新后崩溃

> ID：14501187
> 
> 赞同：-1
> 
> 时间：2013-01-24T12:17:27.480
> 
> 标签：ios, objective-c, ipad, core-data, app-store

我最近发送了我的应用程序的更新。现在我收到了一些人的抱怨，他们说应用程序总是崩溃。当我在模拟器和设备上检查它时，一切正常。

现在我的问题是，这与我的更新有关。也许这与我正在使用的核心数据库或其他什么有关？

希望有人能告诉我问题是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:19:36.307

无法回答。

登录 iTunes Connect 并下载崩溃报告。你或许可以在那里找到答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:23:31.340

假设您正确管理代码，那么您应该有一个方便的版本，这与您上次发送到商店的版本完全相同。将其安装在您的设备上。运行。然后升级您自己的设备并进行调试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T12:48:08.917

您是否在自己的设备上执行过升级？

如果不从您的崩溃报告中了解更多信息，这可能是`CoreData`迁移问题（或缺少迁移）。如果您在版本之间更改了数据模型，您应该确保执行迁移（自动执行，或使用迁移映射）。

如果您不这样做，应用程序将由于托管对象模型与底层数据库不兼容错误而崩溃。

阅读[核心数据模型版本控制和数据迁移指南](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CoreDataVersioning/Articles/Introduction.html)以获取更多信息。

# c++ - 整数环绕？

> ID：14501191
> 
> 赞同：3
> 
> 时间：2013-01-24T12:17:40.820
> 
> 标签：c++, casting, queue, bytearray, void-pointers

我正在尝试将一些整数存储在一个队列中，该队列基本上是一个固定大小的 char 数组，逐字节存储整数（或每个值）：

```
class fixed_size_queue{
    char *buffer;
    unsigned int head;
    int tail;
    q_typeinfo   tinfo;
public:
    fixed_size_queue(q_typeinfo tinfo_):tinfo(tinfo_) { 
    buffer = new char[MAX_SIZE*tinfo.get_size()];
    head = 0;
    tail = -1;
    }
    char* pop() {
    char* value = buffer+head;
    head++;
    return value;
    }
    void push(char* value) {
    tail++;
    buffer[tail] = *value;
    cout<<"pushing value = "<<(int)*value<<endl; //line 22
    }
}; 
```

当尝试将值推送到此队列时，我使用：

```
void push_q(void* value){
    q.push(value);
} 
```

有了上面的内容，如果我将值从 0 推送到 127，它们会被正确推送和弹出。如果我在第 22 行推送值 128，它会输出“推送值 -128”。推动 129 输出 -127 并继续直到它再次到达 127 并环绕。

队列数组中每个整数的大小为 8（由于某些原因，我将其四舍五入）但我尝试使用 4 并出现同样的奇怪错误。

我也尝试过使用 reinterpret_cast，在推送或弹出值时将“值”转换并复制到 char*，但同样的事情发生了。有没有人发现不对劲？谢谢！

--更新：最后，问题不在于类型。我只是想存储任何变量的字节。例如，一个整数应该被分成 (4) 个字符字节并存储在数组中。需要的是整数数据到 char 数组的副本！上面的这个不起作用，因为每次只复制一个字节。头部和尾部的增量也应该是 +=sizeof(int)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:21:13.577

你应该使用`unsigned char`而不是`char`，一切都会好起来的。

当然，如果您实际存储超过 255 的值 - 或者想要存储负值 - 您将需要做比上面显示的更多的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:28:56.270

您所看到的是将数据存储在 aa`char`数据类型中的效果 - 这通常是一个有符号值，可以保存从 -127 到 +127 的值（您会期望 -128，但这显然是 C++ 规范。

看看这个 SO question [size-of-int-long-etc](https://stackoverflow.com/questions/589575/size-of-int-long-etc/589684#589684)并使用您对应用程序的了解来决定您应该使用什么数据类型。

# sql - 处理没有唯一列的 SQL 表

> ID：14501194
> 
> 赞同：1
> 
> 时间：2013-01-24T12:17:44.357
> 
> 标签：sql, sql-server

我们有一张表格，用于记录我们公司内部的互联网使用情况。此表由我们购买的软件填充，我们无法对其表进行任何更改。该表没有唯一的键或索引（正如其开发人员所说，使数据写入更快）

我需要阅读此表中的数据以创建用户使用互联网的实时报告。

目前我正在从该表中读取 1000 条记录的数据。我的问题是保留我从表中读取的最后一条记录，因此我可以读取接下来的 1000 条记录。

这个问题的最佳解决方案是什么？

顺便说一句，如果数据库文件变大，软件可能会根据需要删除较早的记录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T13:38:31.667

如果没有任何索引，您将无法有效地选择“最后”记录。该解决方案不会扩展。您不能在同一个句子中使用“实时”和“大型日志记录表的重复表扫描”。

实际上，如果每一行没有任何唯一的标识属性，您甚至无法*确定*什么是新的（证明：比如说，您有一个充满数千个布尔值的表。您将如何确定哪些是新的？它们无法区分！您无法找出.)。必须有一些你可以使用的东西，比如某种组合`DateTime, IP`。或者，您可以添加一个`IDENTITY`可能对您使用的软件透明的列。

您使用的软件可能会允许您在某些 ID 或 DateTime 列上创建索引，因为这对软件是透明的。它可能会产生更多负载，因此请务必对其进行测试（我的猜测：你会没事的）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:21:40.247

根据您的 SQL Server 版本，您可以使用[`row_number()`](http://msdn.microsoft.com/en-us/library/ms186734.aspx). `row_number()`分配后，您可以对记录进行分页：

```
select *
from
(
   select *, 
     row_number() over(order by id) rn
   from yourtable
) src
where rn between 1 and 1000 
```

然后，当您想要获取下一组记录时，您可以将`WHERE`子句中的值更改为：

```
where rn between 1001 and 2000 
```

根据您关于数据被删除的评论，我将执行以下操作。

首先，将数据插入到一个临时表中：

```
select *,  row_number() over(order by id) rn
into #temp
from yourtable 
```

然后您可以根据需要在任何块中按行号选择数据。

```
select *
from #temp
where rn between 1 and 1000 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T12:27:54.483

这也会有所帮助；

```
declare @numRecords int = 1000 --Number of records needed per request
declare @requestCount int = 0 --Request number starting from 0 and increase 1 by 1 

select top (@numRecords) *
from
(
   select *, row_number() over(order by id) rn
   from yourtable
) T
where rn > @requestCount*@numRecords 
```

**编辑：**根据评论

```
CREATE PROCEDURE [dbo].[select_myrecords] 
   --Number of records needed per request
   declare @NumRecords int --(= 1000 )
   --Datetime of the LAST RECORD of previous result-set or null for first request
   declare @LastDateTime datetime = null
AS
BEGIN

    select top (@NumRecords) *
    from yourtable
    where LOGTime < isnull(@LastDateTime,getdate())
    order by LOGTime desc

END 
```

# c# - 使用 LINQ 从 XML 文件中选择元素

> ID：14501196
> 
> 赞同：4
> 
> 时间：2013-01-24T12:17:48.680
> 
> 标签：c#, xml, linq, linq-to-xml

我有这个 XML 结构：

```
<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2">
  <Document>
    <name>My Work</name>
    <Placemark>
      <name>Main Building</name>
      <Polygon>
        <extrude>1</extrude>
        <altitudeMode>relativeToGround</altitudeMode>
        <outerBoundaryIs>
          <LinearRing>
            <coordinates>
            </coordinates>
          </LinearRing>
        </outerBoundaryIs>
      </Polygon>
    </Placemark>

    <Placemark>
      <name>Office 1</name>
      <Polygon>
        <extrude>1</extrude>
        <altitudeMode>relativeToGround</altitudeMode>
        <outerBoundaryIs>
          <LinearRing>
            <coordinates>
            </coordinates>
          </LinearRing>
        </outerBoundaryIs>
      </Polygon>
    </Placemark>
  </Document>
</kml> 
```

这继续……

我需要为每个人选择建筑物“名称”并将其存储在列表中。我写了这段代码：

```
using System;
using System.Linq;
using System.Xml;
using System.Xml.Linq;
using System.Collections.Generic;

namespace dsdsdsds
{
    public class Building
    {
        public string BuildingName { get; set; }
    }

    class MainClass
    {
        public static void Main(string[] args)
        {
            List<Building> buildingNames = 
                (from e in XDocument.Load("buildings.kml").Root
                                    .Elements("Document")
                 select new Building
                 {
                     BuildingName = (string)e.Element("name")
                 }).ToList();

            foreach (var e in buildingNames)
            {
                Console.WriteLine(e);
            }
        }
    }
} 
```

但是，它似乎不想输出任何东西，我无法找出我哪里出错了。有人可以帮我吗？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T12:26:53.520

您忘记了在您的 xml 中声明的命名空间：

```
var xdoc = XDocument.Load("buildings.kml");
XNamespace kml = "http://www.opengis.net/kml/2.2";
var buildings = xdoc.Root.Elements(kml + "Document")
                    .Select(d => new Building {
                        BuildingName = (string)d.Element(kml + "name")
                    }).ToList(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T12:36:05.753

```
XDocument xDocument = XDocument.Load("buildings.kml");
XNamespace xNameSpace = "http://www.opengis.net/kml/2.2";

var names = from o in xDocument.Descendants(xNameSpace+"name")
            select o.Value; 
```

我认为这是最简单的方法；不要忘记在查询元素之前添加命名空间。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T12:26:09.977

据我所知，您正试图遍历“文档”-元素并选择它们的名称。相反，您可能想更进一步，进入 Placemark 元素，即。

```
XDocument.Load("buildings.kml").Element("Document").Elements("Placemark")
                    select new Building
                    {
                        BuildingName = e.Element("name").Value
                    }).ToList(); 
```

# c++ - 将 VS 8.0 库文件与 VS 6.0 链接

> ID：14501199
> 
> 赞同：2
> 
> 时间：2013-01-24T12:18:07.350
> 
> 标签：c++, visual-studio, static-linking

我有一个非常简单的程序（一些简单的计算，“输入一些东西，取出一些东西），我使用 Visual Studio 8.0 SP2 编译成一个 lib 文件。

该库文件应链接到另一个程序。问题是另一个程序在装有 Visual Studio 6.0 的计算机上。

编译程序并链接到 lib 文件（使用 VS 6.0）时，会出现以下错误和警告：

首先是一些警告：

```
 Linking...
myLib.lib(SeController.o) : warning LNK4044: unrecognized option "manifestdependency:type='win32' name='Microsoft.VC80.CRT' version='8.0.50608.0' processorArchitecture='x86' publicKeyToken='1fc8b3b9a1e18e3b'"; ignored
myLib.lib(SeController.o) : warning LNK4044: unrecognized option "manifestdependency:type='win32' name='Microsoft.VC80.CRT' version='8.0.50608.0' processorArchitecture='x86' publicKeyToken='1fc8b3b9a1e18e3b'"; ignored
myLib.lib(SeController.o) : warning LNK4044: unrecognized option "alternatename:??$get_name@Vinvalid_argument@std@@@Exception@Impl@Core@@YAPBDXZ=?get_name@Exception@Impl@Core@@YAPBDXZ"; ignored
myLib.lib(SeController.o) : warning LNK4078: multiple ".CRT" sections found with different attributes (40300040)
myLib.lib(bt_errors.o) : warning LNK4044: unrecognized option "manifestdependency:type='win32' name='Microsoft.VC80.CRT' version='8.0.50608.0' processorArchitecture='x86' publicKeyToken='1fc8b3b9a1e18e3b'"; ignored
myLib.lib(bt_errors.o) : warning LNK4044: unrecognized option "manifestdependency:type='win32' name='Microsoft.VC80.CRT' version='8.0.50608.0' processorArchitecture='x86' publicKeyToken='1fc8b3b9a1e18e3b'"; ignored
myLib.lib(SCtrlImpl.o) : warning LNK4044: unrecognized option "manifestdependency:type='win32' name='Microsoft.VC80.CRT' version='8.0.50608.0' processorArchitecture='x86' publicKeyToken='1fc8b3b9a1e18e3b'"; ignored
myLib.lib(SCtrlImpl.o) : warning LNK4044: unrecognized option "manifestdependency:type='win32' name='Microsoft.VC80.CRT' version='8.0.50608.0' processorArchitecture='x86' publicKeyToken='1fc8b3b9a1e18e3b'"; ignored 
```

....（这里只是一些警告。有数百个相同类型）

然后（一些）错误：

```
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: class std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> > & __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::operator=(char
 const *)" (??4?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV01@PBD@Z) already defined in libcpd.lib(locale0.obj)
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: virtual __thiscall std::basic_ostream<char,struct std::char_traits<char> >::~basic_ostream<char,struct std::char_traits<char> >(void)" (??1?$basic_ostream@DU?$char_traits@D@std@@@std@@UAE@XZ) alread
y defined in libcpd.lib(iostream.obj)
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: virtual __thiscall std::basic_ios<char,struct std::char_traits<char> >::~basic_ios<char,struct std::char_traits<char> >(void)" (??1?$basic_ios@DU?$char_traits@D@std@@@std@@UAE@XZ) already defined in
 libcpd.lib(iostream.obj)
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: virtual __thiscall std::basic_istream<char,struct std::char_traits<char> >::~basic_istream<char,struct std::char_traits<char> >(void)" (??1?$basic_istream@DU?$char_traits@D@std@@@std@@UAE@XZ) alread
y defined in libcpd.lib(iostream.obj)
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: __thiscall std::basic_istream<char,struct std::char_traits<char> >::basic_istream<char,struct std::char_traits<char> >(class std::basic_streambuf<char,struct std::char_traits<char> > *,bool)" (??0?$
basic_istream@DU?$char_traits@D@std@@@std@@QAE@PAV?$basic_streambuf@DU?$char_traits@D@std@@@1@_N@Z) already defined in libcpd.lib(iostream.obj)
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: virtual __thiscall std::basic_streambuf<char,struct std::char_traits<char> >::~basic_streambuf<char,struct std::char_traits<char> >(void)" (??1?$basic_streambuf@DU?$char_traits@D@std@@@std@@UAE@XZ) 
already defined in libcpd.lib(iostream.obj)
msvcprt.lib(MSVCP60.dll) : error LNK2005: "protected: __thiscall std::basic_streambuf<char,struct std::char_traits<char> >::basic_streambuf<char,struct std::char_traits<char> >(void)" (??0?$basic_streambuf@DU?$char_traits@D@std@@@std@@IAE@XZ) alread
y defined in libcpd.lib(iostream.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _vsprintf already defined in libcd.lib(vsprintf.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _exit already defined in libcd.lib(crt0dat.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _atoi already defined in libcd.lib(atox.obj) 
```

我试图将 VS 8.0 的 Visual Studio 2005 Redistrubate 包下载到具有 6.0 的计算机，但我得到了相同的错误和警告。

甚至可以使用 6.0 编译器从 8.0 链接到 lib 文件吗？

更改已安装版本不是一个选项。（并且不要问为什么有人使用 VS 6.0 :)）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:29:03.277

您可以将您的应用程序链接到另一个 C 运行时，即 VS 6.0，但我认为这需要将两个版本安装在同一台机器上。我知道你在谈论不同的机器，所以我认为这不是一个选择。

如果您可以使用纯 C API 创建一个动态库，这会使事情变得容易得多:) 您可以在任何版本的 VS 中使用这样的 DLL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:26:02.627

如果您相信本文（引自[不同编译器品牌创建的库的互操作性](http://www.mingw.org/wiki/MixingCompilers)），那么不，您不能 -

> 使用不同编译器，甚至使用同一编译器的显着不同版本创建的目标文件和静态库通常无法链接在一起。此问题并非特定于 MinGW：许多其他编译器相互不兼容。如果可以的话，使用相同版本的相同编译器从源代码构建所有内容。
> 
> Dll 略有不同。有时您可以将使用一种编译器构建的 DLL 链接到使用另一种编译器编译的应用程序。如果 DLL 是用 C 编写的，即使应用程序是用 C++ 编写的，这也很有效。例如，MinGW C++ 程序通常链接到 Windows 提供的 C 运行时库。用 C++ 编写的 DLL 也可以工作，只要您仅通过用 extern "C" 声明的 C 接口与它们通信。如果不这样做，您可能会收到链接器错误，因为不同的编译器会以不同的方式处理 C++ 名称。

# java - 比较地图和列表并从列表中提取元素

> ID：14501202
> 
> 赞同：-1
> 
> 时间：2013-01-24T12:18:09.353
> 
> 标签：java, collections

我有一个 Map 和一个 List 我的列表是一些值对象的主列表，并且 Map 包含作为值对象 id 的键 我有一个值对象

```
 public class Value
{

    private int id;

    private String value;

//set and gets to follow
}

Map valueMap = new HashMap();   

valueMap.put(1001,"Test1")//key is id of the value object 
valueMap.put(1002,"Test2")
valueMap.put(1003,"Test3")

 List list = new Array list();
 list.add(value1)
 list.add(value2)
 list.add(value3)
 list.add(value4)
 list.add(value5) 
```

从列表中我想提取列表的一个子集，其 value.id 是 ==map 的键

我该如何做和迭代两者？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T12:23:37.063

你应该使用

```
Map<Integer, String> valueMap = new HashMap<>(); 
```

和

```
List<Value> list = new ArrayList<>(); 
```

然后，您可以执行以下操作：

```
List<Value> subset = new ArrayList<>();
Iterator<Value> iterator = list.iterator();
while (iterator.hasNext()) {
    Value val = iterator.next();
    if (valueMap.containsKey(val.getId())) {
        subset.add(val);
    }
} 
```

甚至

```
List<Value> subset = new ArrayList<>();
for (Value val : list) {
    if (valueMap.containsKey(val.getId())) {
        subset.add(val);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:26:45.003

您可以只使用提供的类 Map.Entry 而不是类值

无论如何，您可以遍历列表并从地图中提取值：

```
for ( Value v : list ) {
    int id = v.getID();
    value = valueMap.get(id);

    if ( value != null ) {
        doSomething( value );
    }
} 
```

你是这个意思吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T12:29:56.390

那么，您是否想从列表中获取 if 等于映射中的条目的所有对象？

……

```
List<Value> subset = ... 
for ( int id : map.keySet() ) {
   for ( Value v : list ) {
      if ( v.id() == id ) { 
           subset.add( v );
      }
   }
} 
```

问题是您将为每个键迭代列表一次。

您可以通过将键和列表按 id 排序以及类似的内容来解决此问题：

```
 int index = 0;
 for ( int id: map.keySet() ) {
     while ( index < list.size()  && list.get(index).id() == id ) {
        subset.add( list.get(index));
        index++;
     }
 } 
```

或者（我会做的）是在找到时从列表中删除元素，这样重新迭代的范围就会小一些。

```
for( int id : map.keySet() ) {
   for ( Iterator<Value> i  = list.iterator; i.hasNext(); ) {
      Value v = i.next();
      if ( v.id() == id ) {
          subset.add(v);
          i.remove();
      }
   }
 } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T12:38:23.180

```
Here is a full code of what you ask.

package main;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class TestMainClass
{

    public static void main(final String[] args)
    {
        final Map<Integer, String> map = createDummyMap();

        final List<Value> list = createList();

        final List<Value> matchedValues = new ArrayList<TestMainClass.Value>();

        for (final Value value : list)
        {
            for (final Integer id : map.keySet())
            {
                if (id.equals(value.getId()))
                {
                    matchedValues.add(value);
                }
            }
        }

        System.out.println(matchedValues.size());

    }

    private static List<Value> createList()
    {
        final Value value1 = new Value(1001, "some");
        final Value value2 = new Value(1002, "some");
        final Value value3 = new Value(1003, "some");
        final Value value4 = new Value(1004, "some");
        final Value value5 = new Value(1005, "some");

        return new ArrayList<TestMainClass.Value>(Arrays.asList(value1, value2, value3, value4, value5));
    }

    private static Map<Integer, String> createDummyMap()
    {
        final Map<Integer, String> valueMap = new HashMap<Integer, String>();

        valueMap.put(1001, "Test1");
        valueMap.put(1002, "Test2");
        valueMap.put(1003, "Test3");
        return valueMap;
    }

    public final static class Value
    {
        private int id;

        private String value;

        Value(final int id, final String value)
        {
            this.id = id;
            this.value = value;

        }

        public int getId()
        {
            return id;
        }

        public void setId(final int id)
        {
            this.id = id;
        }

        public String getValue()
        {
            return value;
        }

        public void setValue(final String value)
        {
            this.value = value;
        }

    }
} 
```

# android - 如何在android中调用另一个活动时避免黑屏？

> ID：14501213
> 
> 赞同：4
> 
> 时间：2013-01-24T12:18:35.933
> 
> 标签：android, android-manifest, android-alertdialog

我正在使用主要活动的意图调用活动。但是在调用过程中会显示几个系统对话框，因此会显示黑屏。我怎样才能避免这样的黑屏。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-01-24T14:50:53.217

请检查您在意图中设置的标志。

如果你有一个finish(); 或 FLAG_ACTIVITY_CLEAR_TASK - 前 ICS 设备上可能会出现一个空白屏幕，因为当前活动已在另一个活动开始之前被清除。

```
Intent intent = new Intent(getApplicationContext(), Activity.class);
intent.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
startActivity(intent);
overridePendingTransition (0, 0); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-10T11:40:42.510

如果要在切换到其他的过程中完成当前活动，请在 startActivity() 方法之后调用 finish()。

在新活动的 onCreate() 方法下检查任何长时间运行或繁重的任务，它将阻止活动加载，直到任务完成。

还要检查一些转换属性和其他窗口标志，在某些情况下这些也可能是原因。

# mysql - 按时间分组的 MySQL 查询

> ID：14501220
> 
> 赞同：1
> 
> 时间：2013-01-24T12:18:49.780
> 
> 标签：mysql, sql

我有一个带有字段 uid (INT) 和 TIME (TIMESTAMP) 的 MySQL 表，其中注册了站点上的用户登录。

接收在 2 天或更长时间内进入网站的用户数量的最聪明的方法是什么？是否存在比我使用的下面的片段更好的东西？

```
SELECT count(*) FROM
   (SELECT uid, count(*) as DistinctDayCount FROM 
       (SELECT uid, Time FROM Log GROUP BY uid, DATE(Time)) AS DistinctDays 
   GROUP BY uid) AS DaysCount
WHERE DistinctDayCount > 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:22:47.570

你可以用少一个子查询来做到这一点：

```
select count(*)
from (select uid, count(distinct date(time)) as DistinctDayCount
      from log
      group by uid
     ) t
WHERE DistinctDayCount > 1 
```

不过，老实说，我会使用如下查询查看每个计数的数字：

```
select DistinctDayCount, count(*), min(uid), max(uid)
from (select uid, count(distinct date(time)) as DistinctDayCount
      from log
      group by uid
     ) t
group by DistinctDayCount
order by 1 
```

并给出示例用户 ID，您可以进一步调查`min`。`max`通常在“有多少用户登录超过 1 天”之后的下一个问题是“他们登录天数的分布是什么”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:36:48.513

```
select count(*) from
(
SELECT uid, min(Time), Max(Time) 
FROM Log 
GROUP BY uid 
HAVING DATEDIFF(max(Time),min(Time))>1
) t 
```

# android - 如何解决android上的“View类型中的setOnKeyListener（View.OnKeyListener）不适用于参数（new OnKeyListener（）{}）”错误？

> ID：14501226
> 
> 赞同：3
> 
> 时间：2013-01-24T12:19:05.920
> 
> 标签：android

我收到一条错误消息“View 类型中的方法 setOnKeyListener(View.OnKeyListener) 不适用于参数 (new OnKeyListener(){})”

我该如何克服这个问题？

```
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);

    setContentView(R.layout.activity_first_app);

    ListView myListView =(ListView)findViewById(R.id.myListView);

    final EditText myEditText =(EditText)findViewById(R.id.myEditText);

   final ArrayList<String> toDolist =new ArrayList<String>();

    final ArrayAdapter<String> aa;

    aa=new ArrayAdapter<String>(this,android.R.layout.simple_list_item_1,toDolist);

    myListView.setAdapter(aa);

    myEditText.setOnKeyListener(new OnKeyListener() {

        public boolean onKey(View v, int keyCode, KeyEvent event) {

            if(event.getAction()==KeyEvent.ACTION_DOWN)

                if(keyCode==KeyEvent.KEYCODE_DPAD_CENTER){
                    toDolist.add(0,myEditText.getText().toString());

                    aa.notifyDataSetChanged();

                    myEditText.setText("");

                    return true;
                }
            return false;
        }
    }); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-24T12:20:59.340

更改`setOnKeyListener`为：

```
myEditText.setOnKeyListener(new EditText.OnKeyListener() {

        public boolean onKey(View v, int keyCode, KeyEvent event) {

              // your code here 
        }
    }); 
```

或导入 `android.view.View.OnKeyListener`包`OnKeyListener`为 EditText设置

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-24T14:01:17.917

尝试导入 android.view.View.OnKeyListener；

而不是导入 android.content.DialogInterface.OnKeyListener；

# css - Shopify 视网膜显示图像精灵

> ID：14501230
> 
> 赞同：1
> 
> 时间：2013-01-24T12:19:22.573
> 
> 标签：css, retina-display, shopify

我有一个带有自定义主题的 shopify 网站。

这些图像位于名为“sprite_images.png”的精灵中。我正在查看一些关于将视网膜精灵应用于视网膜显示器的网站。

[http://miekd.com/articles/using-css-sprites-to-optimize-your-website-for-retina-displays/](http://miekd.com/articles/using-css-sprites-to-optimize-your-website-for-retina-displays/) [http://alexthorpe.com/uncategorized/css-sprites-for-retina-display-设备/683/](http://alexthorpe.com/uncategorized/css-sprites-for-retina-display-devices/683/)

我创建了一个精灵并将其命名为“sprite_imagesx2.png”。用于此的 css 不起作用。这是一个例子。

```
h1.title{
    background:url({{ 'sprite_images.png' | asset_url }}) no-repeat 0 0;
    width:108px;
    height:12px;
    margin:0 auto 10px;
    overflow:hidden;
    display:block;
    text-indent:-999px;
}

@media only screen and (-webkit-min-device-pixel-ratio: 1.5),
       only screen and (min--moz-device-pixel-ratio: 1.5),
       only screen and (min-resolution: 240dpi) {
    h1.title{
        background-image:url({{ 'sprite_imagesx2.png' | asset_url }}) 
    background-size:108px 12px;
    }
} 
```

它根本不起作用，我一直想知道是否需要将 x2 sprite 称为“sprite_images@x2”，所以我正在尝试这个 atm，并且无法使用特殊字符上传图像。

我不知道这是否是错误的，但如果是这样，我如何将带有 @ 的图像上传到 shopify？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:40:16.620

尝试以下

```
h1.title{
    background:url({{ 'sprite_images.png' | asset_url }}) no-repeat 0 0;
    width:108px;
    height:12px;
    text-indent:-999px;
}

h1.title{
    background-position: 0 0 !important; <-your position here
} 
```

# jquery - 如何在较旧的 Jquery 版本文件中添加 jquery Xml 解析功能？

> ID：14501231
> 
> 赞同：3
> 
> 时间：2013-01-24T12:19:26.113
> 
> 标签：jquery, parsexml

我的应用程序中有旧版本的 Jquery。我需要在其中包含 ParseXML 功能（如果我添加新版本的 jquery 1.8.2 应用程序显示脚本错误，因为许多其他依赖插件是使用旧版本的 Js 文件编写的）。我会非常谢天谢地，如果有人可以为我提供在旧版本的 Jquery 文件中添加 ParseXML 功能的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:39:37.840

[您可以在 git hub 上](https://github.com/jquery/jquery)浏览 jQuery 的源代码并导入`parseXML`类似的功能

```
$(document).ready(function(){
 jQuery.extend({
     parseXML: function(data) {
        var xml, tmp;
    if ( !data || typeof data !== "string" ) {
        return null;
        }
    try {
    tmp = new DOMParser();
    xml = tmp.parseFromString( data , "text/xml" );
    } catch ( e ) {
    xml = undefined;
    }
    if ( !xml || xml.getElementsByTagName( "parsererror" ).length ) {
    jQuery.error( "Invalid XML: " + data );
    }
    return xml;  
    }
 })

var xml = "<rss version='2.0'><channel><title>RSS Title</title></channel></rss>",
xmlDoc = $.parseXML( xml ),
$xml = $( xmlDoc ),
$title = $xml.find( "title" );
console.log($title.text());
}); 
```

[演示](http://jsfiddle.net/j3Zkk/)

# java - Java中的无符号右移'>>>'运算符

> ID：14501233
> 
> 赞同：34
> 
> 时间：2013-01-24T12:19:30.130
> 
> 标签：java, bit-shift

> **可能重复：**
> [为什么 (-1 >>> 32) = -1？](https://stackoverflow.com/questions/4813909/why-is-1-32-1)

无符号右移运算符在最左边插入一个 0。所以当我这样做的时候

```
System.out.println(Integer.toBinaryString(-1>>>30)) 
```

## 输出

```
11 
```

因此，它在最左边的位中插入 0。

```
System.out.println(Integer.toBinaryString(-1>>>32)) 
```

## 输出

```
11111111111111111111111111111111 
```

不应该是0吗？

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2013-01-24T12:49:31.380

请参阅[http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.19](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.19)

如果左侧操作数的提升类型是 int，则只有右侧操作数的五个最低位用作移位距离。就好像右手操作数受到按位逻辑与运算符 & (§15.22.1) 的影响，掩码值为 0x1f (0b11111)。因此，实际使用的移位距离始终在 0 到 31 的范围内，包括 0 到 31。

that is`-1 >>> 32` 等价于`-1 >>> 0`and`-1 >>> 33` 等价于`-1 >>> 1` and 尤其令人困惑的`-1 >>> -1` 是 等价于`-1 >>> 31`

# javascript - iPad滚动 - 滚动期间触发哪些事件？

> ID：14501236
> 
> 赞同：9
> 
> 时间：2013-01-24T12:19:35.497
> 
> 标签：javascript, jquery, ipad, web-applications

我一直在四处寻找当您在 iPad 上滚动网页时会触发哪些事件。

有这个来源： [https ://developer.apple.com/library/safari/#documentation/appleapplications/reference/SafariWebContent/HandlingEvents/HandlingEvents.html](https://developer.apple.com/library/safari/#documentation/appleapplications/reference/SafariWebContent/HandlingEvents/HandlingEvents.html)

这表明以下内容被解雇：

```
ontouchstart="touchStart(event);"

ontouchmove="touchMove(event);"

ontouchend="touchEnd(event);"

ontouchcancel="touchCancel(event);" 
```

问题是如何处理用户轻弹滚动时的动量滚动。我认为 onsroll 事件仅在滚动完成时触发。

有谁知道在动量滚动发生时是否触发了任何事件，以便您可以在页面在此“动量”下滚动时进行检查？

干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-05T22:46:37.387

问题是在 iPad 上滚动不会连续触发。它只会在您停止滚动时触发*一次。*据我所知，你无法解决这个问题。

在桌面上，情况并非如此。在滚动期间，浏览器会连续触发滚动事件。

当我在视差滚动网站上工作时，我注意到了这种行为。在 iOS 上，一切都卡顿了，因为滚动事件只触发了一次。

但是，可以按照此处所述进行模拟：[javascript scroll event for iPhone/iPad?](https://stackoverflow.com/questions/2863547/javascript-scroll-event-for-iphone-ipad/17195346#17195346)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-02T11:59:26.057

使用此代码

```
document.addEventListener('touchmove', function(e) {console.log('touch move', $(window).scrollTop())}, true); 
```

即使在触摸期间它也会触发。

# iphone - 如何在uilabel上显示核心数据

> ID：14501240
> 
> 赞同：0
> 
> 时间：2013-01-24T12:19:40.093
> 
> 标签：iphone, ios, xcode

我必须正确获取 UITableView 上的核心数据值，但我没有在 UILabel 上获取核心数据值。

```
(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
{
  static NSString *CellId = @"Cell";

  Cell *cell=[table dequeueReusableCellWithIdentifier:CellId];
  if (cell==nil) {
      [[NSBundle mainBundle]loadNibNamed:@"Cell" owner:self options:nil];
      cell=self.custom;
  }
  // Get the event corresponding to the current index path and configure the table view cell.
  Student *stu = (Student *)[dataarr objectAtIndex:indexPath.row];
  cell.item.text = [stu name];
  cell.rate.text = [stu rate];
  currentindex=indexPath.row;
  return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:32:30.260

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    static NSString *simpletableidentifier=@"simpletablecell";

    simpletablecell *cell=(simpletablecell *)[tableView dequeueReusableCellWithIdentifier:simpletableidentifier];

    if(cell==nil)
    {
        NSArray *nib=[[NSBundle mainBundle] loadNibNamed:@"simpletablecell" owner:self options:nil];
        cell=[nib objectAtIndex:0];
    }

    cell.cname.text=[[tabledata objectAtIndex:indexPath.row] objectForKey:@"CustomerName"];

    NSString *ocount=[NSString stringWithFormat:@"(OrderCount : %@)",[[tabledata objectAtIndex:indexPath.row] objectForKey:@"OrderCount"]];

    cell.ordercount.text=ocount;

    NSString *oid=[NSString stringWithFormat:@"%@",[[tabledata objectAtIndex:indexPath.row] objectForKey:@"CustomerId"]];

    cell.orderid.text=oid;
    cell.orderid.hidden=true;

    return cell;
} 
```

在这里试试这个简单的表格单元格是自定义单元格。不要忘记设置它的标识符并为此创建 .h 和 .m 文件。

# c# - Verifying an enumerable list in Moq

> ID：14501254
> 
> 赞同：8
> 
> 时间：2013-01-24T12:20:26.807
> 
> 标签：c#, unit-testing, moq

I'm trying to write a unit test for a method which looks like this:

```
public int Save(IEnumerable<int> addedIds, IEnumerable<int> removedIds)
{
    var existingIds = repository.Get();
    IEnumerable<int> ids = existingIds.Except(removedIds).Union(addedIds));
    return repository.Create(ids);
} 
```

The test in Moq looks like this:

```
repository.Setup(r => r.Get()).Returns(CreateList());
service.Save(addedIds, removedIds);
repository.Verify(r => r.Create(It.Is<IEnumerable<int>>(l => VerifyList(l)))); 
```

This fails, with this error~~, and `VerifyList()` is never called:~~

> Expected invocation on the mock at least once, but was never performed:
> 
> `r => r.Create(It.Is<IEnumerable'1>(list => VerifyList(list)))`
> 
> Performed invocations:
> 
> `IRepo.Create(System.Linq.Enumerable+<UnionIterator>d__88'1[System.Int32])`

As the invoked type is not `IEnumerable<int>` but is in fact `System.Linq.Enumerable+<UnionIterator>d__88'1[System.Int32])`, the test fails. (Stepping through the test, everything is happening correctly and the results are as expected)

If I call `ids.ToList()` in the method under test, these are the results:

> Expected invocation on the mock at least once, but was never performed:
> 
> `r => r.Create(It.Is<List'1>(l => VerifyList(l)))`
> 
> Performed invocations: `IRepo.Create(System.Collections.Generic.List'1[System.Int32])`

Is there any way round this? Or am I doing something wrong?

Edit: it turns out I had a mistake in my VerifyList method so it was returning false, but Moq wasn't giving me that information. The type difference is a red herring..

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-24T12:36:20.757

This seems to work. Made some assumptions though. Guess the VerifyList method could be better. =)

```
[Test]
    public void Test()
    {
        // SETUP
        Mock<IRepository> repository = new Mock<IRepository>();
        Service service = new Service(repository.Object);
        repository.Setup(r => r.Get()).Returns(CreateList());

        IEnumerable<int> addedIds = new[]{1,2};
        IEnumerable<int> removedIds = new[]{3,4};
        service.Save(addedIds, removedIds);

        repository.Verify(r => r.Create(It.Is<IEnumerable<int>>(l => VerifyList(l))));
    }

    private static bool VerifyList(IEnumerable<int> enumerable)
    {
        return enumerable.Contains(1) && enumerable.Contains(2) && enumerable.Contains(5);
    }

    private IEnumerable<int> CreateList()
    {
        return new[] { 3, 4, 5 };
    }

    public interface IRepository
    {
        IEnumerable<int> Get();
        int Create(IEnumerable<int> id);
    }
    public class Service
    {
        public Service(IRepository repository)
        {
            this.repository = repository;
        }

        private IRepository repository;

        public int Save(IEnumerable<int> addedIds, IEnumerable<int> removedIds)
    {
        var existingIds = repository.Get();
            IEnumerable<int> ids = existingIds.Except(removedIds).Union(addedIds);

        return repository.Create(ids);
    } 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2018-12-06T13:23:23.917

You can do:

```
var another = new List<int> { 1 , 2, 3 };
repository.Verify(r => r.Create(It.Is<IEnumerable<int>>(l => l.SequenceEqual(another))); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-24T12:34:48.353

Something quick and dirty -

```
public interface IBlah
{
    void Sum(IEnumerable<int> baz);
}

class Blah : IBlah
{
    public void Sum(IEnumerable<int> baz)
    {
        return;
    }
}

public class Baz
{
    private readonly IBlah blah;

    public Baz(IBlah blah)
    {
        this.blah = blah;
    }

    public void Sum(IEnumerable<int> baz)
    {
        blah.Sum(baz);
    }
} 
```

And Test it like -

```
[Test]
public void foo()
{
    var mock = new Mock<IBlah>();
    var enumerable = Enumerable.Range(1, 10);

    var baz = new Baz(mock.Object);
    baz.Sum(enumerable.Where(x => x%2 == 0));

    mock.Verify(p => p.Sum(It.Is<IEnumerable<int>>(z => z.All(x => x%2==0))));
} 
```

# mysql - 春季生产系统数据库池的最佳方式

> ID：14501262
> 
> 赞同：1
> 
> 时间：2013-01-24T12:20:59.793
> 
> 标签：mysql, spring

**提示：**我的托管 tomcat 系统仅提供**20 个**数据库连接

我在 localhsot 的工作项目

```
<bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource"
          p:driverClassName="${jdbc.driverClassName}" p:url="${jdbc.url}"
          p:username="${jdbc.username}" p:password="${jdbc.password}" /> 
```

这在 localhost 中效果很好，但在生产中它运行了一段时间并且出现**异常：** “用户已经拥有最大连接数”。

*经过多次谷歌*

**我用c3p0**

```
<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close" >
        <property name="driverClass" value="${jdbc.driverClassName}" />
        <property name="jdbcUrl" value="${jdbc.url}" />
        <property name="user" value="${jdbc.username}"/>
        <property name="password" value="${jdbc.password}"/>
    </bean> 
```

这在本地主机中有效，但在生产服务器中存在同样的问题

**提示：**我认为 c3p0 中的一些配置可以解决这个问题。请帮我提出建议（我的主机只提供 20 个连接）

**我也试过tomcat**

```
<bean id="dataSource" class="org.apache.tomcat.jdbc.pool.DataSourceFactory">
        <property name="driverClassName" value="${jdbc.driverClassName}" />
        <property name="url" value="${jdbc.url}" />
        <property name="username" value="${jdbc.username}"/>
        <property name="password" value="${jdbc.password}"/>
        <property name="maxActive" value="20"/>
    </bean> 
```

上面的 tomcat 代码是错误的，并且不会工作 - 因为错误的属性（我知道）。如何为我的生产使用设置这个（只有 20 个连接）

*如果您知道如何使用 tomcat 池，请帮助我们。*

**我也用过bonecp**

```
<bean id="dataSource" class="com.jolbox.bonecp.BoneCPDataSource" destroy-method="close" >
        <property name="driverClass" value="${jdbc.driverClassName}" />
        <property name="jdbcUrl" value="${jdbc.url}" />
        <property name="username" value="${jdbc.username}"/>
        <property name="password" value="${jdbc.password}"/>
        <property name="idleConnectionTestPeriod" value="60"/>
        <property name="idleMaxAge" value="240"/>
        <property name="maxConnectionsPerPartition" value="10"/>
        <property name="minConnectionsPerPartition" value="5"/>
        <property name="partitionCount" value="1"/>
        <property name="acquireIncrement" value="5"/>
        <property name="statementsCacheSize" value="1000"/>
        <property name="releaseHelperThreads" value="3"/>
    </bean> 
```

这在 localhost 中有效，但在生产中同样的问题“用户有很多连接”。

**我也试过 apache-dbcp**

根据 tomcat 7 文档 - dbcp 不再存在，tomcat 将与 pool 捆绑在一起。即使我使用了 dbcp，我也无法运行我的程序。（我只添加了一个 jar 并且错误是在项目运行期间找不到某些类）

***按照我自己的想法：***

我认为上面提到的设置会有问题。请帮我提出您的建议。由于重量重，我到现在还没有使用休眠。如果hibernate可以解决这个问题，请告诉我们。

* * *

**已编辑**

目前我正在使用此代码。此代码对我的使用是否正确（20 连接）

```
<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close"
      p:driverClass="${jdbc.driverClassName}" p:jdbcUrl="${jdbc.url}"
      p:user="${jdbc.username}" p:password="${jdbc.password}"

      p:acquireIncrement="1" 
      p:checkoutTimeout="1"
      p:idleConnectionTestPeriod="5"           
      p:maxIdleTime="5" 
      p:maxIdleTimeExcessConnections="1" 
      p:maxPoolSize="20" p:maxStatements="0" p:maxStatementsPerConnection="0" 
      p:minPoolSize="1" 
      p:numHelperThreads="100"
      p:overrideDefaultUser="${jdbc.username}" p:overrideDefaultPassword="${jdbc.password}"
      p:propertyCycle="3" 
      p:testConnectionOnCheckin="true"
      p:unreturnedConnectionTimeout="5" /> 
```

道代码：

```
@Repository
public class TutorialsDAOImpl implements TutorialsDAO {
//---
private JdbcTemplate jdbcTemplate;
    private DataSource dataSource;

    @Autowired
    public void setDataSource(DataSource dataSource) {
        this.jdbcTemplate = new JdbcTemplate(dataSource);
    }
//---
@Override
    public List<TutorialsCategory_vo> getTutorialsCategory() {
        sql = "SELECT * FROM `tutorials_category` ORDER BY `slug` ASC;";
        List<TutorialsCategory_vo> vo = null;
        try {
            vo = this.jdbcTemplate.query(sql, new Object[]{}, tutorialsCategory_mapper);
        } catch (Exception e) {
            log.log(Level.SEVERE, null, e);
        }
        return vo;
    } 
```

这些是我正在使用的代码。如果有任何错误/更正，请纠正我。

* * *

**已编辑**（针对 Arun P Johny 的问题）

我当前的项目[网址](http://featuriz.com/)。

我在上面更新了我当前的代码。

* * *

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-27T14:02:50.790

这是我最终的 c3p0 设置：

```
<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close"
          p:driverClass="${jdbc.driverClassName}" p:jdbcUrl="${jdbc.url}"
          p:user="${jdbc.username}" p:password="${jdbc.password}"

          p:acquireIncrement="1" 
          p:checkoutTimeout="3000"
          p:idleConnectionTestPeriod="5"           
          p:maxIdleTime="3" 
          p:maxIdleTimeExcessConnections="1" 
          p:maxPoolSize="20" p:maxStatements="20000" p:maxStatementsPerConnection="1000" 
          p:minPoolSize="1" 
          p:numHelperThreads="1000"
          p:overrideDefaultUser="${jdbc.username}" p:overrideDefaultPassword="${jdbc.password}"
          p:propertyCycle="3" 
          p:statementCacheNumDeferredCloseThreads="1"
          p:testConnectionOnCheckin="true"
          p:unreturnedConnectionTimeout="7" /> 
```

这工作正常，但需要更多时间（1 或 2 秒 - 不超过 3 秒）。

我还通过关闭 mysql 检查了这段代码。我的程序等到了，我启动了mysql。这很好。此代码等待所有数据库连接完成并正确输出。

我们可以更快地进行此设置吗？**提示：*我的服务器只提供 20 个连接。***

如果您提供正确答案，我会在检查后将其作为正确答案。

# image - Modis 图像处理

> ID：14501267
> 
> 赞同：3
> 
> 时间：2013-01-24T12:21:22.070
> 
> 标签：image, matlab, image-processing, computer-vision

我有一个大小为 2000 x 4059 的 modis *tiff*图像，带有`int16`值。我想将图像乘以 0.0001 的比例因子以获得 Matlab 中的反射率。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:52:03.327

正如@zplesivcak 所说：

```
 img = imread( 'myModisImg.tiff' ); %// img should be 2000x4059 array of type uint16
 img = im2double( img ); %// now img is of type double in the range [0..1]
 rimg = img * 0.0001; %// multiply each pixel by 0.0001 
```

# ruby-on-rails - Rails - Savon 设置多个命名空间

> ID：14501269
> 
> 赞同：9
> 
> 时间：2013-01-24T12:21:25.013
> 
> 标签：ruby-on-rails, soap, namespaces, savon

我正在使用[savon 版本 2](http://savonrb.com/version2.html)（使用 Ruby on Rails）来调用 Web 服务，并且我需要向我的 Envelope 注入一些额外的命名空间。就像是：

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:add="http://schemas.xmlsoap.org/ws/2003/03/addressing" 
xmlns:newNamespace1="http://someURL.pt/Test1" 
xmlns:newNamespace2="http://someURL.pt/Test2" 
xmlns:newNamespace3="http://someURL.pt/Test3" 
```

我目前的代码是：

```
client = Savon.client do
        wsdl "https://someValidURL?wsdl"

        namespace "http://someURL.pt/Test1" 
        namespace "http://someURL.pt/Test2" 
        namespace "http://someURL.pt/Test3"
end

response = client.call( ...the webservice call... ) 
```

...但在我的要求中，Savon 只放置了最后一个命名空间

```
<env:Envelope xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xmlns:xsns="http://someURL.pt/Test3" 
xmlns:env="http://schemas.xmlsoap.org/soap/envelope/"> 
```

[我在Savon Git project](https://github.com/savonrb/savon/)上没有找到任何关于此的文档。

有没有人有解决这个问题的方法？？

PS-我还检查了一种可能的解决方案是将所有 xml 请求（信封）设置为请求，但是......嗯......太像黑客了。

如果这是不可能的并且有其他好的宝石可以做到这一点，请告诉我=）

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-25T16:11:21.110

我发现（目前）不可能在 Savon 版本 2 上设置多个命名空间。

现在我在 Savon 版本 1 上迁移我的应用程序并且它有效 =)

```
begin
    client = Savon::Client.new do
        wsdl.document = "https://someURL?wsdl"
    end

  @response = client.request :service do
       soap.namespaces["xmlns:test1"]  = "http:/someURLtest1"
       soap.namespaces["xmlns:test2"]  = "http:/someURLtest2" 

       soap.body = { #... the message....
          :"test1:something" => {}, 
          :"test2:something1" => {}
                   }
   end

  rescue Savon::Error => error
     log error.to_s
  end 
```

更多信息[在这里](http://savonrb.com/#executing-soap-requests)和[这里](https://github.com/savonrb/savon/issues/376)。

这个问题将在 Savon 2 的下一个版本中使用以下代码解决：

```
namespaces(
   "xmlns:first" => "http://someURL.pt/Test1",
   "xmlns:two"   => "http://someURL.pt/Testweewqwqeewq"
) 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-06-08T18:09:36.057

从[Savon 2.1.0](https://github.com/savonrb/savon/blob/fcb56fab6024ed2eb9c71e261d72a893a12abfbf/CHANGELOG.md#210-2013-02-03)开始，可以通过`namespaces`使用命名空间定义的散列设置键来完成：

```
Savon.client({
  ...
  namespaces: {
    'xmlns:first' => 'http://someURL.pt/Test1',
    'xmlns:second' => 'http://someURL.pt/Test2',
    'xmlns:nth' => 'http://someURL.pt/TestN'
  }
}) 
```

# android - 如何使用 TouchWiz 从 Android 上的输入/文本区域中删除橙色轮廓/边框

> ID：14501271
> 
> 赞同：1
> 
> 时间：2013-01-24T12:21:29.443
> 
> 标签：android, css, cordova, user-interface

我输入的样式类似于 CSS 的全息主题，但焦点显示为橙色轮廓和白色背景。

我找到了删除此问题的解决方案：

```
textarea:focus{
  -webkit-user-modify: read-write-plaintext-only;
} 
```

但是这个解决方案导致输入时字段内的文本不可见（第一个字母除外）。离开焦点后显示文本。

另一个类似的解决方案：

```
-webkit-tap-highlight-color:  rgba(255, 255, 255, 0); 
```

不工作...

更多解决方案？

在 Android 4.0.1 (Samsung Galaxy SII) 上测试。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-01-14T15:21:37.180

要删除 textarea 的轮廓，请尝试：

```
:focus {
  outline: none; 
  -webkit-box-shadow: none !important;
  -moz-box-shadow: none !important;
  box-shadow: none !important;
} 
```

希望能帮助到你！

# c# - 转义字符出现在字符串中

> ID：14501276
> 
> 赞同：3
> 
> 时间：2013-01-24T12:21:43.210
> 
> 标签：c#, string, escaping

我正在 Visual c# 2010 中编写一段代码来生成一个字符串。此字符串需要包含反斜杠 \ 和语音标记“。

**我尝试了以下方法：**

```
string StringOutputVariable;
string StringVariable = "hello world";
StringOutputVariable = "\"C:\\Program Files\\some program\\some program.exe\" " + StringVariable; 
```

和

```
string StringOutputVariable;
string StringVariable = "hello world";
StringOutputVariable = @"""C:\Program Files\some program\some program.exe"" " + StringVariable; 
```

**但是他们都将转义字符放在输出字符串中：**

> \"C:\\Program Files\\some program\\some program.exe\" hello world

和

> \"C:\\Program Files\\some program\\some program.exe\" hello world

**我希望它输出的是：**

> "C:\Program Files\some program\some program.exe" 你好世界

**为什么我的代码将转义字符输出到字符串中？**

提前感谢格雷厄姆

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:23:51.503

```
StringOutputVariable = "\"" +
        @"C:\Program Files\some program\some program.exe\" + "\" " + StringVariable; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T12:24:05.513

我假设您正在查看调试器中的字符串。调试器将显示字符串，就好像它们是字符串文字一样，即引号和反斜杠已转义。字符串就像您想要的那样。

您只需将字符串打印到控制台或将其放在表单上的某个位置即可轻松检查。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T12:26:01.640

尝试这个：

```
string path = @"C:\Program Files\some program\some program.exe";

string result = string.Format("{0}{1}{0} hello world", "\"", path);

// you can check it: MessageBox.Show(result); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-24T12:26:05.093

调试器显示字符串（如果有[`string literals`](http://msdn.microsoft.com/en-us/library/aa691090%28v=vs.71%29.aspx)）。

试试这样；

```
 string StringOutputVariable;
    string StringVariable = "hello world";
    StringOutputVariable = "\"" + @"C:\Program Files\some program\some program.exe\" + "\"" + StringVariable;
    Console.WriteLine(StringOutputVariable); 
```

这是一个[`DEMO`](http://ideone.com/OKGbVX).

输出是：

```
"C:\Program Files\some program\some program.exe\"hello world 
```

# php - 获取电子邮件推荐人地址

> ID：14501280
> 
> 赞同：3
> 
> 时间：2013-01-24T12:22:00.217
> 
> 标签：php

我需要知道引荐来源网址，并且我使用`$_SERVER['HTTP_REFERER']`它适用于引用我的网站的网站，但是当从任何电子邮件收件箱单击链接时，它没有显示任何网址。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T12:25:31.480

简短的回答是，您不能使用 HTTP_REFERER 执行此操作。电子邮件客户端或其他任何人都没有义务向此标头提供请求。

来自[php.net](http://php.net/manual/en/reserved.variables.server.php)：

> 将用户代理引向当前页面的页面地址（如果有）。这是由用户代理设置的。不是所有的用户代理都会设置这个，有些提供修改 HTTP_REFERER 作为一个特性的能力。简而言之，它不能真正被信任。

如评论中所述，如果在您的控制范围内，您必须在用户单击的链接中嵌入跟踪信息。

# php - 从表单传递的 php SESSION 变量

> ID：14501285
> 
> 赞同：2
> 
> 时间：2013-01-24T12:22:10.777
> 
> 标签：php, session-variables

我在尝试将表单变量传递给生成多个页面的脚本时遇到了问题。

我的表单使用 $_POST 将县名和语言作为 2 个单独的字段提供给以下脚本。该脚本在查询被硬编码时工作，并且当通过 $_POST 传递变量时 page=1 results.php 页面。但是，后续页面丢失了 $_POST 变量，我知道这个问题的解决方案涉及 $_SESSION 命令，但我无法让它工作:(。事实上现在没有结果显示，尽管参数被传递给这些功能。

这是我的代码

```
<?php
$_SESSION['county']=$_POST['county'];
$_SESSION['language']=$_POST['language'];

$speak=$_POST['language'];
$area=$_POST['county']
?>
<table class="bda" width="100%" align = "center"><tr><td class="hrak">Open test db file on lcn</td></tr></table>

<?php
$conn = connect();
/*******************************************************************************************
The variable '$showrecs' refers to the number of rows on each page - this can be changed.
'$pagerange refers to blocks of records, again can be changed.
*******************************************************************************************/
 $area=$_POST['county'];
 $speak=$_POST['language'];
 $showrecs = 20;
 $pagerange = 10;
 $page = @$_GET["page"];
 if (!isset($page)) $page = 1;
 select();
 mysql_close($conn);
 ?>
 <table class="bda" width="100%"><tr><td class="hrak">Powered by MySQL</td></tr></table>
 </body>
 </html>
 <?php
 /******************************************** - START OF FUNCTIONS  *************************************/
 ?>
 <?php function select()
  {
  global $a;
  global $showrecs;
  global $page;

  $res = sql_select();
$count = sql_getrecordcount();
  if ($count % $showrecs != 0) {
      $pagecount = intval($count / $showrecs) + 1;
  }
  else {
      $pagecount = intval($count / $showrecs);
  }
      $startrec = $showrecs * ($page - 1);
  if ($startrec < $count) {mysql_data_seek($res, $startrec);}
  $reccount = min($showrecs * $page, $count);
  ?>
     <table class="bd" border="0" cellspacing="1" cellpadding="4" width="100%" align = "center">

     <tr><td class="hrak" align="center" width="100%">Records shown <?php echo $startrec + 1 ?> -        <?php echo $reccount ?> of <?php echo $count ?></td></tr>
    </table>

 <?php showpagenav($page, $pagecount); ?>
 <br>
 <table class="tbl" border="0" cellspacing="1" cellpadding="5"width="100%">
 <tr>

 <!- ***************************************
    HEADER row of the table - HTML
  **************************************** ->

  <td>
  </td>

  </tr>
<?php
   for ($i = $startrec; $i < $reccount; $i++)
   {
     $row = mysql_fetch_assoc($res);
     $mem13 = ($row["title"]);
     if ($mem13 == 'Mr')
         {
         $style = "dr";
         $styler = "drr";

      if ($i % 2 != 0) 
         {
         $style = "sr";
         $styler = "srr";
         }
    }
   else
    {
         $style = "ndr";
         $styler = "ndrr";

      if ($i % 2 != 0) 
    {
        $style = "nsr";
        $styler = "nsrr";
    }

   }
?>

<tr>

 <!-- *********************************************
This is where I populate the DATA rows of the table  - HTML
 ********************************************** -->

 <td class="<?php echo $style ?>"><?php echo htmlspecialchars($row["id"]) ?></td>
 </tr>

<?php
    }
   /*** mysql_free_result($res); ***/
 ?>
</table>
<br>
<?php showpagenav($page, $pagecount); ?>
<?php } ?>

<?php function showpagenav($page, $pagecount)
{
?>
  <table class="bd" border="0" cellspacing="1" cellpadding="4" >
  <tr>
<?php if ($page > 1) { ?>
 <!- /*************************************************************************
 This generates 'results.php' and the sub pages results results.php?page=2...
 *****************************************************************************/
 -->

 <td class="hrak1" align="center"><a href="results.php?page=<?php echo $page - 1 ? >">&lt;&lt;&nbsp;Prev</a>&nbsp;</td>
<?php } ?>
<?php
   global $pagerange;

   if ($pagecount > 1) {

   if ($pagecount % $pagerange != 0) {
     $rangecount = intval($pagecount / $pagerange) + 1;
   }
   else {
      $rangecount = intval($pagecount / $pagerange);
        }
  for ($i = 1; $i < $rangecount + 1; $i++) {
     $startpage = (($i - 1) * $pagerange) + 1;
     $count = min($i * $pagerange, $pagecount);

     if ((($page >= $startpage) && ($page <= ($i * $pagerange)))) {
       for ($j = $startpage; $j < $count + 1; $j++) {
        if ($j == $page) {
 ?>
  <td><b><?php echo $j ?></b></td>
 <?php } else { ?>
 <!--
 /*****************************************************************************************************
 results.php?pagen  so that the required page number is generated.
 *****************************************************************************************************/
-->
<td class="hrak1" align="center"><a href="results.php?page=<?php echo $j ?>"><?php echo $j ?></a></td>
<?php } } } else { ?>
<td class="hrak1" align="center"><a href="results.php?page=<?php echo $startpage ?>"><?php echo  $startpage ."..." .$count ?></a></td>
<?php } } } ?>
<?php if ($page < $pagecount) { ?>
<td class="hrak1" align="center">&nbsp;<a href="results.php?page=<?php echo $page + 1 ?>">Next&nbsp;&gt;&gt;</a>&nbsp;</td>
<?php } ?>
</tr>
</table>
<?php } ?>

<?php 

/******************************************** - FUNCTION - SQL_SELECT *************************************/
function sql_select()
{
/******************************************************************************
SELECT statement for results to be displayed
******************************************************************************/
   $area=$_POST['county'];
   $speak=$_POST['language'];
   global $conn;
   $sql = "SELECT * FROM test2 WHERE language='$speak' AND county='$area' ORDER BY id";
   $res = mysql_query($sql, $conn) or die(mysql_error());
   return $res;
}
/******************************************** - FUNCTION - SQL_GETRECORDCOUNT *************************************/
function sql_getrecordcount()
{
  $area=$_POST['county'];
  $speak=$_POST['language'];
  $sql = "SELECT COUNT(*) FROM test2 WHERE language='$speak' AND county='$area'";
    $res = mysql_query($sql, $conn) or die(mysql_error());
    $row = mysql_fetch_assoc($res);
    reset($row);
    return current($row);
}
/******************************************** - FUNCTION - CONNECT *************************************/ 
```

我知道代码可以在不使用 $_POST 传递参数的情况下工作，但我无法让它与多个结果页面一起工作（results.php?page=n）。我错过了什么？

问候，

鲍勃

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:23:13.857

您必须在每个使用变量`session_start()`的脚本的开头放置。`$_SESSION`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T12:25:32.887

添加`session start()`到您使用会话变量的所有页面

阅读 PHP 中的手动[会话处理](http://php.net/manual/en/features.sessions.php)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-24T12:26:50.880

试试这个，我希望它会起作用：-

```
session_start();
$_SESSION['county']=$_POST['county'];
$_SESSION['language']=$_POST['language']; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T12:27:13.263

使用 $_SESSION 变量而不启动会话？`session_start();`在你的脚本中使用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-25T09:10:25.603

感谢您的输入。我通过在调用页面上设置 cookie 解决了这个问题，然后我在结果页面上使用了 cookie：

```
<?php
    $area  = $_COOKIE['Carea'];
    $speak  = $_COOKIE['Cspeak'];
?> 
```

然后，我将这些变量作为参数传递给函数调用。

```
function sql_select($area,$speak) 
```

它有效。

鲍勃

# sql-server - SQL Server 2012 管理工作室在蓝屏后无法启动

> ID：14501288
> 
> 赞同：1
> 
> 时间：2013-01-24T12:22:13.193
> 
> 标签：sql-server, sql-server-2012

刚启动 SQL Management Studio 时出现蓝屏。当我尝试启动 SQL 管理工作室时计算机重新启动后，它失败并显示消息“对象引用未设置为对象的实例”。我进行了修复操作，以为可以修复它，但无济于事。

应用程序日志中记录了以下两个事件日志

日志 1：

来源：应用程序错误

```
Faulting application name: Ssms.exe, version: 2011.110.3000.0, time stamp: 0x5081c1cd
Faulting module name: KERNELBASE.dll, version: 6.1.7601.18015, time stamp: 0x50b83c8a
Exception code: 0xe0434352
Fault offset: 0x0000c41f
Faulting process id: 0x934
Faulting application start time: 0x01cdfa2a3629ec0a
Faulting application path: C:\Program Files (x86)\Microsoft SQL Server\110\Tools\Binn\ManagementStudio\Ssms.exe
Faulting module path: C:\Windows\syswow64\KERNELBASE.dll
Report Id: 7785b9b2-661d-11e2-9af8-083e8e9ddfd9 
```

日志 2：

来源：.NET 运行时

```
Application: Ssms.exe
Framework Version: v4.0.30319
Description: The process was terminated due to an unhandled exception.
Exception Info: System.Runtime.InteropServices.InvalidComObjectException
Stack:
   at System.StubHelpers.StubHelpers.GetCOMIPFromRCW(System.Object, IntPtr, Boolean ByRef)
   at Microsoft.VisualStudio.Shell.Interop.IVsUIDataSource.GetValue(System.String, Microsoft.VisualStudio.Shell.Interop.IVsUIObject ByRef)
   at Microsoft.Internal.VisualStudio.PlatformUI.DataSource.GetValue(System.String, Microsoft.VisualStudio.Shell.Interop.IVsUIObject ByRef)
   at Microsoft.Internal.VisualStudio.PlatformUI.DataSource.SetValue(System.String, System.Object)
   at Microsoft.VisualStudio.PlatformUI.MainWindowDataSource.set_IsClosed(Boolean)
   at Microsoft.VisualStudio.PlatformUI.MainWindow+DataSourceEventSink.Disconnect(Microsoft.VisualStudio.Shell.Interop.IVsUISimpleDataSource)
   at Microsoft.Internal.VisualStudio.PlatformUI.DataSource.<DisconnectEventSubscribers>b__6(UInt32, Microsoft.VisualStudio.Shell.Interop.IVsUIDataSourcePropertyChangeEvents)
   at Microsoft.Internal.VisualStudio.PlatformUI.CookieTable`3[[System.UInt32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089],[System.__Canon, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089],[System.__Canon, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]].ForEach(Microsoft.Internal.VisualStudio.PlatformUI.CookieTableCallback`2<UInt32,System.__Canon>, Boolean)
   at Microsoft.Internal.VisualStudio.PlatformUI.DataSource.DisconnectEventSubscribers()
   at Microsoft.Internal.VisualStudio.PlatformUI.DataSource.Dispose(Boolean)
   at Microsoft.Internal.VisualStudio.PlatformUI.DataSource.Finalize() 
```

有什么问题？我没有观察到任何其他问题，所以我不知道如何进一步排除故障。

# python - 使用自定义目录创建 Python 代码安装程序

> ID：14501289
> 
> 赞同：0
> 
> 时间：2013-01-24T12:22:15.593
> 
> 标签：python, windows-installer

我正在使用[distutils](http://docs.python.org/2/distutils/setupscript.html)，我想看看是否可以将我的代码安装到 python 安装位置的 site-package 文件夹之外的自定义文件夹中。

我的最终目标是创建我的程序的分发版，而不是实际将其注册为包或模块。这样，当需要安装程序时，这很容易。

我想将我所有的代码放在一个名为的文件夹中：

```
c:/myprogram  
   /src   
   /data_connections  
   ... etc other sub folders 
```

基本环境信息：

*   Python 2.7 32 位
*   Windows 7 和 Windows Server 2008 操作系统

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T14:19:27.670

你有没有研究过 Py2Exe，它从你的 python 脚本中创建了一个 exe 程序。然后，您可以使用安装创建者制作一个可执行文件，该可执行文件将提示您输入安装目录等。

# ruby - 如何在 Ruby 中的命名空间类上调用命名空间方法

> ID：14501291
> 
> 赞同：2
> 
> 时间：2013-01-24T12:22:20.140
> 
> 标签：ruby, oop, class, module

我正在模块内写一些类：

```
module A
end

module A::B
  def foo
    print "foo"
  end
end

class A::B::C
end

A::B::C.new.foo # => NoMethodError: undefined method `foo' for #<A::B::C...> 
```

如何在模块 B 中定义方法以在类 C 中调用？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T14:12:04.333

就好像你写：

```
module A::B
  def foo
    print "foo"
  end

  class C
  end
  print 'C.instance_methods : '; p C.instance_methods(false)
  #=> C.instance_methods : []
end 
```

`C`不会自动继承`foo`。继承实例方法只有两种方式：

1.  `class C < super_class``super_class`返回类的表达式 在哪里

2.  包括一个模块：

    ```
    class C
      include <some module> 
    ```

有关超类链的说明，请参阅[继承如何在 Ruby 中工作？](https://stackoverflow.com/questions/14153667/how-does-inheritance-work-in-ruby/14155007#14155007)和[Ruby：模块、Mixins 和 Blocks 令人困惑？](https://stackoverflow.com/questions/14088513/ruby-module-mixins-and-blocks-confusing/14090170#14090170)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-24T12:55:17.103

Namespaces in Ruby don’t work the way you seem to think.

1.  There is no such thing as a “namespace method”. `A::B#foo` is an *instance method* on the *module* `A::B`—which is a module named `B` in the namespace of `A`.

2.  Namespaces modules/classes have *no* special relationship of inheritance between them. They are *purely organizational in nature*, except when defined the long way (e.g. `module A; module B; end; end`) when they can affect lexical scope.

If you want to get methods of `A::B` in `A::B::C`, you must `include A::B` in `A::B::C`, just like you would anywhere else. You have to do this because, as said above, there's nothing special about a namespaced module/class, it is treated the same as any other.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-24T12:24:12.243

```
class A::B::C
  include A::B
end 
```

# java - 在 XHTML 表单/Java PrimeFaces 中的多个按钮上使用 primefaces 对话框

> ID：14501296
> 
> 赞同：1
> 
> 时间：2013-01-24T12:22:28.147
> 
> 标签：java, dialog, primefaces

我有一个问题，我对 primefaces 和 JSF 完全陌生，可能是我缺乏知识，但我还没有找到答案，我有 XHTML-s，在主要的我有几个按钮，我写了一个反馈对话框，告诉操作成功，以及操作的名称。

对话框出现，看起来不错，但消息始终是我在最后一个按钮上指定的内容。也许我误解了这个概念，任何人都可以帮助我我做错了什么？

这是代码：

豆

```
@ManagedBean
@ViewScoped
public class ActionSuccessController extends AbstractAction implements
    Serializable {

public String setParam(String actionName) {
    ResourceBundle messageBundle = ResourceBundle
            .getBundle("hu.avhga.web.partner.messages");
    description = messageBundle.getString("actionSuccess");
    this.actionName = actionName;
    return "";
}
... 
```

我有按钮的主要 XHTML

```
...
                            <p:commandButton id="lock"
                            value="#{msg['PartnerAdmin.button.lock']}" 
                            action="#{partnerAccountAdminAction.lock}" 
                            update=":partnerAccountAdminForm :actionSuccessForm"
                            disabled="#{partnerAccountAdminAction.disabledButtonMap.get('LOCK')}"
                            rendered="#{partnerAccountAdminAction.passwordAdmin}"
                            styleClass="gold"
                            onclick="#{actionSuccessController.setParam(msg['PartnerAdmin.button.lock'])}"
                            oncomplete="usersTableWidget.filter();actionSuccessDialogVar.show();"/>

                        <p:commandButton id="unlock"
                            value="#{msg['PartnerAdmin.button.unlock']}" 
                            action="#{partnerAccountAdminAction.unlock}"
                            update=":partnerAccountAdminForm :actionSuccessForm"
                            disabled="#{partnerAccountAdminAction.disabledButtonMap.get('UNLOCK')}"
                            rendered="#{partnerAccountAdminAction.passwordAdmin}"
                            styleClass="gold"
                            onclick="#{actionSuccessController.setParam(msg['PartnerAdmin.button.unlock'])}"
                            oncomplete="usersTableWidget.filter();actionSuccessDialogVar.show();"/>

                        <p:commandButton id="suspend"
                            value="#{msg['PartnerAdmin.button.suspend']}" 
                            action="#{partnerAccountAdminAction.suspend}"
                            update=":partnerAccountAdminForm :actionSuccessForm"
                            disabled="#{partnerAccountAdminAction.disabledButtonMap.get('SUSPEND')}"
                            rendered="#{partnerAccountAdminAction.userAdmin}"
                            styleClass="gold"
                            onclick="#{actionSuccessController.setParam(msg['PartnerAdmin.button.suspend'])}"
                            oncomplete="usersTableWidget.filter();actionSuccessDialogVar.show();"/>

                        <p:commandButton id="remove"
                            value="#{msg['PartnerAdmin.button.remove']}" 
                            action="#{partnerAccountAdminAction.remove}"
                            update=":partnerAccountAdminForm :actionSuccessForm"
                            disabled="#{partnerAccountAdminAction.disabledButtonMap.get('REMOVE')}"
                            rendered="#{partnerAccountAdminAction.userAdmin}"
                            styleClass="gold"
                            onclick="#{actionSuccessController.setParam(msg['PartnerAdmin.button.remove'])}"
                            oncomplete="usersTableWidget.filter();actionSuccessDialogVar.show();"/>
... 
```

在此之后，我导入了以下 XHTML：

```
<p:dialog id="actionSuccessDialogId" header="#{actionSuccessController.actionName}"
        styleClass="dialog" closable="false"
        widgetVar="actionSuccessDialogVar" modal="true" appendToBody="true" dynamic="true"
        resizable="false" showEffect="fade" hideEffect="explode">
    <h:form id="actionSuccessForm" style="text-align:center;">
        <h:outputText value="#{actionSuccessController.description}" />
        <br />
        <br />
        <p:commandButton id="okButtonId" value="#{msg['Common.ok']}"
                        onclick="actionSuccessDialogVar.hide()" 
                        type="button" />
    </h:form>
</p:dialog> 
```

我确信这些“setParam”总是运行，对我来说似乎没有理由。所以再次问为什么我总是得到“删除”属性的名称。是因为ajax吗？或者因为当我点击某个地方时这些都会运行？我有点困惑。提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:44:23.153

简而言之，onclick 不能像那样调用 setter。您似乎想要将参数传递给您的 bean 操作，对吗？在这种情况下，您想使用 f:setPropertyActionListener 标记。所以你的按钮看起来像这样：

```
<p:commandButton id="unlock"
                    value="#{msg['PartnerAdmin.button.unlock']}" 
                    action="#{partnerAccountAdminAction.unlock}"
                    update=":partnerAccountAdminForm :actionSuccessForm"
                    disabled="#{partnerAccountAdminAction.disabledButtonMap.get('UNLOCK')}"
                    rendered="#{partnerAccountAdminAction.passwordAdmin}"
                    styleClass="gold"
                    oncomplete="usersTableWidget.filter();actionSuccessDialogVar.show();">
      <f:setPropertyActionListener target="#{actionSuccessController.param}" value="#{msg['PartnerAdmin.button.lock']}" />
</p:commandButton> 
```

f:setPropertyActionListener 使用 value 属性中指定的值调用目标中指定的设置器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:42:25.643

在 Andre 的大力帮助下，最终的解决方案是：

```
<p:commandButton id="lock" immediate="true"
                            value="#{msg['PartnerAdmin.button.lock']}" 
                            action="#{partnerAccountAdminAction.lock}" 
                            update=":partnerAccountAdminForm :actionSuccessDialogId"
                            disabled="#{partnerAccountAdminAction.disabledButtonMap.get('LOCK')}"
                            rendered="#{partnerAccountAdminAction.passwordAdmin}"
                            styleClass="gold"
                            oncomplete="usersTableWidget.filter();actionSuccessDialogVar.show();">
                                <f:setPropertyActionListener target="#{actionSuccessController.actionName}" value="#{msg['PartnerAdmin.button.lock']}" />
                                <f:setPropertyActionListener target="#{actionSuccessController.description}" value="#{msg['PartnerAdmin.button.lock']}"/>
                            </p:commandButton> 
```

希望它可以帮助遇到类似问题的人。我添加了两个 setproperty 行并将更新参数更改为“...：actionSuccessDialogId”，因此它适用于整个对话框。

# visual-studio-2010 - Team Foundation Server 将工作区本地路径设置为源目录

> ID：14501303
> 
> 赞同：1
> 
> 时间：2013-01-24T12:22:46.773
> 
> 标签：visual-studio-2010, visual-studio, tfs

我在配置 TFS 以使其正常工作时遇到很多问题。我和另一位 Web 开发人员都在一个网站上工作（大约有 80,000 个页面）。我们在我们共享的服务器上拥有我们的开发代码。目前，当我们中的任何一个进行更改时，我们只需从该共享 SFTP 到实时站点。

我们想要配置 TFS，以便我们工作空间中的两个本地路径都映射到该共享服务器（相同位置），以便我们可以在保存后轻松 sftp 一切。

换句话说，当我使用 TFS 保存文件时，我希望保存的版本是我们开发服务器上的版本。

我可以按照我上面建议的方式执行此操作，还是有更好的方法？

我是否需要分别设置每个本地路径，然后每次我想要更新文件时都在开发框上执行一次？每次签入文件时，我可以强制我们的开发框获取最新的 TFS 版本吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T13:42:36.857

我不建议你们两个同时在同一组文件中工作。您最终会互相踩踏，并使用不同版本的文件陷入奇怪的情况（即，您同时进行获取，而他同时进行获取-最坏的情况是获取不同的版本）。你们最终可能会在错误的时间检查彼此的更改。

Glauco的建议很好。另一个是使用 TFS 的构建功能。如果你愿意，你可以在 msbuild 中做任何事情，在[http://msbuildextensionpack.codeplex.com/](http://msbuildextensionpack.codeplex.com/)上有一个 FTP 任务。您也可以修改工作流程，但如果您从未做过，学习曲线会更陡峭。[您可以在http://tfsbuildextensions.codeplex.com/](http://tfsbuildextensions.codeplex.com/)中找到文件复制活动。

另一种选择是在开发框中有一个工作区，您在其中有一个在 Windows 中运行的计划任务，每隔一段时间就会运行一次。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:36:02.087

我真的推荐你使用[Jenkins](http://jenkins-ci.org/)。

使用 Jenkins 和[Team Foundation Server 插件](https://wiki.jenkins-ci.org/display/JENKINS/Team+Foundation+Server+Plugin)，您可以在每次有人签入时查看 TFS 存储库并获取其最新版本。您还可以执行其他任务，例如运行自动化测试、生成声纳报告等。

对我来说，Jenkins 是一种更好的方式来做你想做的事。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-17T14:18:25.643

从团队资源管理器中选择源，然后在 Visual Studio 中，转到文件，然后工作区并选择所需的工作区，单击编辑，然后在弹出窗口中修改工作文件夹。最好删除现有的，然后映射到您的需求

# r - 通过与 data.table 匹配来加入时间约束

> ID：14501305
> 
> 赞同：2
> 
> 时间：2013-01-24T12:22:53.980
> 
> 标签：r, data.table

这个问题是上一个问题的后续问题：[点击](https://stackoverflow.com/questions/12723182/combine-set-of-conditions-in-data-table-to-extract-value-using-binary-search/)

在这个问题中，提供了两个 data.frames，因为这个问题侧重于更具体的部分，所以示例数据被减少了。

```
tc <- textConnection('
ID  Track4  Time    Loc
4   50      40      1   
5   55      50      1   
6   55      60      1   

')

MATCHINGS <- read.table(tc, header=TRUE)

tc <- textConnection('
ID  Track4  Time    Loc
""  50      40      1   
""  55      10      1
""  55      40      1   
""  55      59      1     ')  

INVOLVED <- read.table(tc, header=TRUE) 
```

在上一个问题中找到了解决此问题的方法：目标是通过匹配和将最近`ID`的 from`MATCHINGS`放入。一个额外的条件是匹配条目的 可能不高于中的条目。这是通过当前方法实现的（见下文）`INVOLVED``Track1``Loc``Time``INVOLVED``Time``MATCHING`

一个新的约束是：条目`Time`的`INVOLVED`时间不能比条目低超过 30 秒（`Time`列以秒为单位）`MATCHINGS`。现在实现了以下输出：

```
ID Track4 Time Loc
4     50   40   1
5     55   10   1
5     55   40   1
6     55   59   1 
```

然而，预期的结果是：

```
ID Track4 Time Loc
4     50   40   1
""    55   10   1
5     55   40   1
6     55   59   1 
```

由于该条目的 Time比匹配和`INVOLVED`的条目低 30 秒以上。我不知道如何将其合并到我当前的解决方案中。根据 Matthew Dowle 的说法，de data.table 包中的功能请求与此问题有关，但应该已经可以合并。有谁知道怎么做？`MATCHINGS``Track4``Loc`

当前方法（不考虑时间限制）

```
M = as.data.table(MATCHINGS)
I = as.data.table(INVOLVED)
M[,Time:=-Time]
I[,Time:=-Time]
setkey(M,Loc,Track4,Time)
I[,ID:={i=list(Loc,Track4,Time);M[i,ID,roll=TRUE,mult="first"]}][,Time:=-Time] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:05:52.410

**Update:** `roll` argument in *data.table* accepts finite *roll backs* and *roll forwards* since A LONG TIME. Just updating this post so that we can close [#615](https://github.com/Rdatatable/data.table/issues/615).

```
# dt1 = MATCHES, dt2 = INVOLVED
# make sure dt2 doesn't have `ID` column, or if it has, it is of integer type
require(data.table) # v1.9.6+
dt2[dt1, ID := i.ID, on=c("Track4", "Time"), roll=30]
#    Track4 Time Loc ID
# 1:     50   40   1  4
# 2:     55   10   1 NA
# 3:     55   40   1  5
# 4:     55   59   1  6 
```

Also using the `on=` argument implemented in `v1.9.6`.

See history for the older answer if necessary.

# boost - 如何使用 boost::container::list

> ID：14501308
> 
> 赞同：0
> 
> 时间：2013-01-24T12:22:58.663
> 
> 标签：boost

我想从 char* 收集 IP 列表并将它们存储在列表中。如何使用 boost::container::list IP。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-04T06:51:51.240

我使用此示例[http://boost.org/doc/libs/1_52_0/libs/ptr_container/doc/examples.html得到了解决方案](http://boost.org/doc/libs/1_52_0/libs/ptr_container/doc/examples.html)

# c# - XAML 中的 WPF StringFormat 和本地化

> ID：14501309
> 
> 赞同：3
> 
> 时间：2013-01-24T12:23:11.073
> 
> 标签：c#, .net, wpf, localization, string-formatting

操作系统：WP8

我正在尝试格式化一个字符串，该字符串是转换器进行绑定的结果。除了字符串格式数据的本地化之外，所有这些都有效，我不知道如何合并。微软的文档对此并不十分清楚，我想知道是否有人可以为我指明正确的方向。

`<TextBlock Text="{Binding Date, StringFormat='Received On: {0}', ConverterParameter=shortdatewithyear, Converter={StaticResource DateTimeToTimeConvert}}"/>`

它看起来不像是一件完全不可能的事情。

谢谢！

-绳索

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:32:43.520

在您的特定情况下，我会将字符串从转换器的资源文件中提取出来，然后.Net 提供的本地化可以工作。这可能在您构建字符串的情况下更为重要，并且您构建它的顺序可能会因不同的语言而改变。

您以标准方式创建一个资源文件 - “MyResource.resx”来存储默认语言的字符串，然后您可以创建一个名为“MyResource.Fr-fr.resx”的本地化版本（如果您使用法语） . 这将在第一个实例中自动加载和搜索字符串。如果找不到，代码将从默认资源文件中提取字符串。这样您就不必翻译所有内容 - 对于美国/英国的拼写差异很有用。

一般来说，一旦你有了这个，你就可以在你的 XAML 中拥有本地化的字符串

添加一个本地化类：

```
public class Localize : INotifyPropertyChanged
{
    #region INotifyPropertyChanged Members

    public event PropertyChangedEventHandler PropertyChanged;
    private void NotifyChange(String name)
    {
        if (PropertyChanged != null) PropertyChanged(this, new PropertyChangedEventArgs(name));
    }

    #endregion

    #region 'Public Properties'

    //Declarations
    private static Resources.MyResources _myResources = new Resources.MyResources();

    public Resources.MyResources myResources
    {
        get { return _myResources; }
        set { NotifyChange("MyResources"); }
    }

    #endregion
} 
```

然后在您的 XAML 中将此添加到您的用户控件的资源中：

```
<local:Localize x:Key="myResource"
                xmlns:local="clr-namespace:MyProject" /> 
```

然后你可以使用它：

```
<TextBlock Text="{Binding myResource.MyString, Source={StaticResource myResource}}"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-01T06:55:48.243

在不使用其他转换器或修改底层模型的情况下处理此问题的一种方法是将字符串拆分为两个单独的 UI 元素。例如`TextBlock`a 中的两个`StackPanel`，如下所示：

```
<StackPanel Orientation="Horizontal">
    <TextBlock Text="{x:Static properties:Resources.ReceivedOn}" Margin="0,0,5,0"/>
    <TextBlock Text="{Binding Date, ConverterParameter=shortdatewithyear, Converter={StaticResource DateTimeToTimeConvert}}"/>
</StackPanel> 
```

这样您就可以对字符串“ *Received On:* ”使用正常的本地化

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-12-08T12:44:09.877

概括@Jakob Möllås 的答案：

问题与

```
<TextBlock Text="{Binding Date, StringFormat='Received On: {0}', ConverterParameter=shortdatewithyear, Converter={StaticResource DateTimeToTimeConvert}}"/> 
```

是绑定以某种方式缓存了 StringFormat 的值，即使您在 DataGrid 中有一个 GroupStyle 并重新加载 DataGrid 的内容，它也不会被更新。使用后无法更改绑定（您会遇到异常）。所以解决方案是使用这样的转换器：

```
public class StringFormatConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        var formatString = parameter as string;

        if(string.IsNullOrEmpty(formatString))
             return null;

        return string.Format(formatString, value);
    }
    // ...
} 
```

然后在 XAML 中：

```
<!-- ... declare your converter at some place ... -->
<!-- then -->
<TextBlock Text="{Binding Date, Converter={StaticResource LocalizationConverter}, ConverterParameter={x:Static names:MyClass.LocalizedStringFormat}}"/> 
```

因此，当您更新 MyClass.LocalizedStringFormat 的值时（也许您更改了程序中的显示语言），您需要做的就是为使用本地化 StringFormat 的属性抛出一个 PropertyChanged。

注意：转换器在每个 PropertyChanged 上执行，因此可能会或可能不会比使用带有 DataBinding 的 StringFormat 慢一些。

# macos - 让 SetSpeechProperty 与 kSpeechCurrentVoiceProperty 一起工作

> ID：14501313
> 
> 赞同：1
> 
> 时间：2013-01-24T12:23:21.157
> 
> 标签：macos, text-to-speech

我试图弄清楚在`SetSpeechProperty`调用中使用的字典`kSpeechCurrentVoiceProperty`应该包含什么。我已经尝试了所有我能想到的方法来解决这个问题，但到目前为止我一直没有成功。这方面的文档（截至 10.8 版）没有说明。

这是我正在尝试做的代码示例：

```
OSStatus err = noErr;

SpeechChannel speechChannel = NULL;
NewSpeechChannel(NULL, &speechChannel);

id voiceID = ???; // From the crashes I got, I assume that this should be a NS/CFNumber.
id voiceCreator = ???;

CFDictionaryRef voiceDict = (CFDictionaryRef)@{
(NSString *)kSpeechVoiceID : voiceID,
(NSString *)kSpeechVoiceCreator : voiceCreator
};

err = SetSpeechProperty(speechChannel, kSpeechCurrentVoiceProperty, voiceDict); 
```

理论上，我当然可以这样做：

```
VoiceSpec voice;
GetIndVoice(voiceNum, &voice);
NewSpeechChannel(&voice, &chan); 
```

由于非常复杂的原因，这在我的具体情况下不是一个选择。实际上，我从其他我无法控制的地方获得了语音通道，我无法将其替换为另一个。所以我必须就地修改它。

请把我从这个记录不足的疯狂山谷中拯救出来！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-06T03:00:37.787

这对我有用（来自更新的[CocoaSpeechSynthesisExample](https://developer.apple.com/library/mac/samplecode/CocoaSpeechSynthesisExample/)）：

```
// Update our object fields with the selection
fSelectedVoiceCreator = theVoiceSpec.creator;
fSelectedVoiceID = theVoiceSpec.id;

// Change the current voice.  If it needs another engine, then dispose the current channel and open another
NSDictionary *voiceDict = @{(__bridge NSString *)kSpeechVoiceID:@(fSelectedVoiceID),
                            (__bridge NSString *)kSpeechVoiceCreator:@(fSelectedVoiceCreator)};

theErr = SetSpeechProperty(fCurSpeechChannel, kSpeechCurrentVoiceProperty, (__bridge CFDictionaryRef) voiceDict);
if (incompatibleVoice == theErr) {
    theErr = [self createNewSpeechChannel:&theVoiceSpec];
} 
```

# import - 如何通过命令安装证书？

> ID：14501318
> 
> 赞同：2
> 
> 时间：2013-01-24T12:23:32.993
> 
> 标签：import, installation, certificate

我想在实时和接受 Windows 服务器上安装证书。使用一些命令应该是可能的。我以前做过，但找不到。我认为这与“WinHttpCertCfg.exe”有关。

有人知道命令是什么，或者可以将我发送到某个网站。非常感谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-26T18:49:54.877

您可以使用命令行添加 Windows 证书存储：

`certmgr.exe -add "Path\To\Cert\MyCertificate.cer" -s -trustedpublisher`

当然，您将需要管理权限来执行此操作。

您可以[在此处](http://technet.microsoft.com/de-de/library/cc732061%28v=ws.10%29.aspx)找到更多信息。

**提示**：如果您要添加自签名证书，您还需要添加*新*证书派生的证书。（*示例*：如果您创建了自己的 CA 中间证书，则还需要将其添加到证书存储中）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-28T02:42:25.403

我使它与以下命令一起工作：

`certmgr.exe /c /add my_cert.cer /s root`

仅供参考：[https ://msdn.microsoft.com/en/library/e78byta0(VS.80).aspx](https://msdn.microsoft.com/en/library/e78byta0(VS.80).aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-01-17T08:20:20.440

我已经在**Windows 7**和**Windows 10**中对其进行了测试。这是命令：

```
certutil -f -addstore CA <file_with_extension_and_complete_path>

#certutil -f -addstore CA "D:\test\random.der" 
```

谢谢。

# html - Opera 中的站点菜单视图

> ID：14501320
> 
> 赞同：0
> 
> 时间：2013-01-24T12:23:41.510
> 
> 标签：html, css, opera

我在 Opera 浏览器中的菜单视图有问题。菜单是用列表项制作的，只有在 Opera 中，最后一个菜单项之前有额外的边距或间距，我无法检测到为什么会发生这种情况。

网站在[这里](http://abis2.ru)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T16:43:41.173

```
float: left; 
```

在每个 li 上并删除边距。

# jasper-reports - 如何通过饼图中的sectionHyperlink传递参数？

> ID：14501323
> 
> 赞同：1
> 
> 时间：2013-01-24T12:23:57.250
> 
> 标签：jasper-reports, ireport

我正在使用 JR 服务器 4.5 和 Ireport 4.5，我需要帮助通过 sectionHyperlink 将参数从一个父 pieChart 传递到子报告。

我浏览了几篇文章，但找不到真正有效的解决方案。所以请帮助我。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T10:01:43.263

为了在 JasperReports Server 中定义指向另一个报告的超链接，您需要执行以下操作

*   在 iReport 中打开报告
*   在报表设计器中右键单击图表并选择*图表数据*>*详细信息*>*部分超链接*
*   那里配置：
    *   超链接目标：根据喜好
    *   超链接类型：`Report Execution`
    *   链接参数：点击添加
        *   名称：`_report`，类：（默认），值：`path/to/report`（URI，例如`/reports/samples/Employees`）。单击*确定*。
        *   添加其他参数，name 必须是引用报告中使用的名称，value 是任何表达式，用于定义向下钻取的参数值
    *   工具提示：根据需要设置。
*   点击*关闭*。
*   保存您的报告并部署到 JasperReports 服务器。

您所指的报告需要用户可以访问 - 用户需要具有读取权限，URI 是存储库根目录的完整路径。

如果您查看 JasperReports 附带的示例报告，您会发现其他深入报告示例。

# android - Android 自定义单选列表

> ID：14501325
> 
> 赞同：0
> 
> 时间：2013-01-24T12:24:02.670
> 
> 标签：android, android-listview

我有一个具有以下布局的自定义 listView，我希望它的行为类似于普通的 SingleChoiceListView。虽然我为 Single_Choice_Mode 设置了列表视图，但是当我单击时，单选按钮没有被选中。我究竟做错了什么？单行的 xml 布局是：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:gravity="center_vertical"
          android:minHeight="?listPreferredItemHeightSmall"
          android:orientation="horizontal"
          android:clickable="true"
          android:focusable="true"
          android:paddingLeft="16dip"
          android:paddingRight="12dip" >
    <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_vertical"
            android:orientation="vertical" >
        <TextView
                android:id="@android:id/text1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:ellipsize="marquee"
                android:gravity="center_vertical|left"
                android:singleLine="true"
                android:textAppearance="?android:attr/textAppearanceMedium"
                android:textColor="?textColorAlertDialogListItem" />
        <TextView
                android:id="@android:id/text2"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:ellipsize="marquee"
                android:gravity="center_vertical|left"
                android:singleLine="true"
                android:textAppearance="?android:attr/textAppearanceSmall"
                android:textColor="?textColorAlertDialogListItem" />

    </LinearLayout>

    <TextView
            android:id="@+id/preco"
            android:layout_width="wrap_content"
            android:layout_height="fill_parent"
            android:ellipsize="marquee"
            android:gravity="fill"
            android:singleLine="true"
            android:textStyle="bold"
            android:textAppearance="?android:attr/textAppearanceLarge"
            android:textColor="@color/appgreen" />
    <RadioButton
            android:id="@+id/radio"
            android:layout_width="35dip"
            android:layout_height="wrap_content"
            android:clickable="false"
            android:focusable="false"
            android:gravity="center_vertical"
            android:paddingRight="12dip" />
</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T13:23:57.567

我认为当您单击列表视图中的某个项目时 - 列表视图在您的复选框之前处理此单击。您可以覆盖 listView 上的 onItemClickListener 并在其中通过自定义布局中的 findViewId 找到您的复选框，然后以编程方式更改复选框的状态。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-20T05:12:36.010

使用它代替`android.r.layout.simple_list_item_single_choice`. 创建你自己的`r.layout.my_single_choice.xml`

```
<CheckedTextView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:checkMark="?android:attr/listChoiceIndicatorSingle"
    android:gravity="center_vertical"
    android:padding="5dip"
    android:textAppearance="?android:attr/textAppearanceMedium"
    android:textColor="@android:color/black"
    android:textStyle="bold" >
</CheckedTextView> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-11-01T04:01:01.963

我知道我有点晚了，但我刚刚遇到同样的问题并在这里找到了解决方案（翻译）： [https ://extra--vision-blogspot-com.translate.goog/2016/07/android-single -choice-listview.html?_x_tr_sl=auto&_x_tr_tl=en&_x_tr_hl=en-US&_x_tr_pto=nui](https://extra--vision-blogspot-com.translate.goog/2016/07/android-single-choice-listview.html?_x_tr_sl=auto&_x_tr_tl=en&_x_tr_hl=en-US&_x_tr_pto=nui)

我使用了一个自定义适配器来保存所选项目的位置，就像这个例子中的那样：

```
public final class SingleChoiceAdapter extends ArrayAdapter<String> {
    private static final String[] FRUITS = {
        "Apple", "Banana", "Lemon", "Orange", "Grape"
    };
    private final LayoutInflater mInflater;
    private int mSelectedIndex = -1;
    SingleChoiceAdapter(Context context) {
        super(context, 0);
        addAll(FRUITS);
        mInflater = LayoutInflater.from(context);
    }
    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        View view = convertView;
        if (view == null) {
            view = mInflater.inflate(R.layout.item_layout, parent, false);
        }

        TextView textView       = (TextView)    view.findViewById(R.id.text_view);
        RadioButton radioButton = (RadioButton) view.findViewById(R.id.radio_button);
        String fruit = getItem(position);
        textView.setText(fruit);
        radioButton.setChecked(position == mSelectedIndex);
        return view;
    }
    void setSelectedIndex(int index) {
        mSelectedIndex = index;
        notifyDataSetChanged();
    }
} 
```

然后`setOnItemClicklistener`在列表视图上实现一个，就像这个例子：

```
public class MainActivity extends Activity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        ListView listView = new ListView(this);
        listView.setChoiceMode(AbsListView.CHOICE_MODE_SINGLE);
        final SingleChoiceAdapter adapter = new SingleChoiceAdapter(this);
        listView.setOnItemClickListener(new     AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
                adapter.setSelectedIndex(i);
            }
        });
        listView.setAdapter(adapter);
        setContentView(listView);
    }
} 
```

# r - 数据框中的错误值？

> ID：14501327
> 
> 赞同：1
> 
> 时间：2013-01-24T12:24:05.910
> 
> 标签：r, csv, dataframe, return-value, rounding

我有一个名为“x”的数据框，有几列和 592 行。

```
 > x[x$n.bounces >= 1, ][["magnitude"]]
  [1] 0.30 0.50 0.30 0.20 0.30 0.20 0.70 0.50 0.40 0.50 1.00 1.30 0.50 0.20 2.00 0.40 0.50 3.50 0.20 0.50 0.30 0.21 0.50 0.20 0.80
 [26] 0.30 0.30 0.60 0.30 1.00 1.90 1.20 0.30 1.50 0.81 0.20 0.80 0.60 3.40 1.20 2.40 1.40 0.20 1.70 1.20 1.40 2.40 0.40 0.80 1.70
 [51] 0.80 0.80 0.48 0.70 0.20 0.80 8.30 0.50 3.80 1.30 0.50 2.90 0.40 1.80 3.20 2.10 0.40 0.90 1.30 0.40 1.80 0.20 1.30 0.30 0.50
 [76] 0.30 0.70 0.30 0.40 2.00 0.60 0.30 0.70 1.10 0.20 2.70 0.40 0.80 1.90 0.30 0.60 1.00 1.30 1.10 0.90 0.50 0.70 0.70 0.20 0.30
[101] 0.20 0.50 2.10 1.60 0.20 0.20 0.60 0.20 0.33 0.60 0.60 0.30 0.50 0.40 0.50 0.30 0.70 0.90 0.50 0.60 1.50 3.20 0.20 4.20 2.30
[126] 1.40 0.30 0.50 0.20 0.90 0.50 3.10 0.50 0.20 2.30 0.60 0.20 5.50 0.50 1.00 1.00 0.60 1.50 3.00 0.80 1.30 0.20 4.09 0.20 0.40
[151] 0.20 0.20 1.30 0.50 1.00 2.10 1.50 1.70 0.20 3.60 1.60 0.20 0.20 0.70 1.50 0.20 0.20 1.00 0.30 0.30 2.80 0.80 0.30 0.20 0.23
[176] 2.00 1.00 0.92 0.80 0.33 0.80 1.10 0.20 0.60 1.50 0.30 0.53 0.35 0.30 0.43 0.50 8.80 0.20 0.30 1.10 0.22 4.70 0.20 0.21 1.10
[201] 0.30 1.50 0.50 0.20 0.20 0.20 0.64 0.20 0.80 0.20 0.43 0.40 0.20 0.40 0.40 0.20 0.30

> dput(x[x$n.bounces >= 1, ][["magnitude"]])
c(0.3, 0.5, 0.3, 0.2, 0.3, 0.2, 0.7, 0.5, 0.4, 0.5, 1, 1.3, 0.5, 
0.2, 2, 0.4, 0.5, 3.5, 0.2, 0.5, 0.3, 0.21, 0.5, 0.2, 0.8, 0.3, 
0.3, 0.6, 0.3, 1, 1.9, 1.2, 0.3, 1.5, 0.81, 0.2, 0.8, 0.6, 3.4, 
1.2, 2.4, 1.4, 0.2, 1.7, 1.2, 1.4, 2.4, 0.4, 0.8, 1.7, 0.799999999999999, 
0.8, 0.48, 0.7, 0.2, 0.8, 8.3, 0.5, 3.8, 1.3, 0.5, 2.9, 0.4, 
1.8, 3.2, 2.1, 0.4, 0.9, 1.3, 0.4, 1.8, 0.2, 1.3, 0.3, 0.5, 0.3, 
0.699999999999999, 0.3, 0.4, 2, 0.6, 0.3, 0.7, 1.1, 0.2, 2.7, 
0.4, 0.8, 1.9, 0.3, 0.6, 1, 1.3, 1.1, 0.9, 0.5, 0.7, 0.7, 0.2, 
0.3, 0.2, 0.5, 2.1, 1.6, 0.2, 0.2, 0.6, 0.2, 0.33, 0.6, 0.6, 
0.3, 0.5, 0.4, 0.5, 0.3, 0.7, 0.9, 0.5, 0.6, 1.5, 3.2, 0.2, 4.2, 
2.3, 1.4, 0.3, 0.5, 0.2, 0.9, 0.5, 3.1, 0.5, 0.2, 2.3, 0.6, 0.2, 
5.5, 0.5, 1, 1, 0.6, 1.5, 3, 0.8, 1.3, 0.2, 4.09, 0.2, 0.4, 0.2, 
0.2, 1.3, 0.5, 1, 2.1, 1.5, 1.7, 0.2, 3.6, 1.6, 0.2, 0.2, 0.7, 
1.5, 0.2, 0.2, 1, 0.3, 0.3, 2.8, 0.8, 0.3, 0.2, 0.23, 2, 1, 0.92, 
0.8, 0.33, 0.8, 1.1, 0.2, 0.6, 1.5, 0.3, 0.53, 0.35, 0.3, 0.43, 
0.5, 8.8, 0.2, 0.3, 1.1, 0.22, 4.7, 0.2, 0.21, 1.1, 0.3, 1.5, 
0.5, 0.2, 0.2, 0.2, 0.64, 0.2, 0.8, 0.2, 0.43, 0.4, 0.2, 0.4, 
0.4, 0.2, 0.3) 
```

现在我只想选择“幅度”<0.3的那些：

```
> x[x$n.bounces >= 1 & x$magnitude < 0.3, ][["magnitude"]]
 [1] 0.20 0.30 0.20 0.20 0.20 0.21 0.20 0.30 0.20 0.20 0.20 0.20 0.30 0.30 0.30 0.20 0.20 0.20 0.20 0.20 0.20 0.30 0.20 0.20 0.20
[26] 0.20 0.20 0.20 0.20 0.20 0.20 0.20 0.20 0.20 0.20 0.30 0.20 0.23 0.20 0.30 0.20 0.30 0.22 0.20 0.21 0.20 0.20 0.20 0.20 0.20
[51] 0.20 0.20 
```

为什么在这个选择中仍然有几个（但不是全部！）值为 0.30？我尝试了其他值，似乎它只对 < 1.0 的值不起作用

最初数据来自 csv 文件。

如果您需要更多信息，请告诉我。我对 R 很陌生，不知道有什么帮助...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:58:55.293

您可以使用`plyr`包，并四舍五入为任意数字的倍数。

```
 x <- round_any(x ,0.01) 
```

# java - 如何在 Eclipse 中编写 package-info.java

> ID：14501328
> 
> 赞同：25
> 
> 时间：2013-01-24T12:24:06.597
> 
> 标签：java, eclipse

我想编写包级注释。有人能告诉我如何在 Eclipse 中编写 package-info.java。

我想将此信息添加到其中。

```
@javax.xml.bind.annotation.XmlSchema (
      elementFormDefault=XmlNsForm.UNQUALIFIED
      ...
    ) 
```

谢谢。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-01-24T12:37:51.620

您必须使用`New -> File`.

`New -> Class`将不允许您创建文件，因为不接受文件名。

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2016-08-11T07:36:26.823

当您不必在包已经存在后生成文件时，您可以尝试通过右键单击 -> 新建 -> 包来养成创建*包*`Create package-info.java`的习惯：这为您提供了一个复选框。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-07T20:36:38.450

您可以使用任何名称创建类。删除类定义代码。然后在eclipse中重命名文件。

# postgresql - 找不到数据库驱动程序：org.postgresql.Driver

> ID：14501332
> 
> 赞同：13
> 
> 时间：2013-01-24T12:24:20.137
> 
> 标签：postgresql, maven, liquibase

我试图通过使用 Liquibase 升级项目来稍微改变项目。它是一个 Java EE 项目。所以我使用 liquibase-maven-plugin。

到目前为止，我的 pom.xml 中有：

```
 <plugin>
                <groupId>org.liquibase</groupId>
                <artifactId>liquibase-maven-plugin</artifactId>
                <version>2.0.5</version>
                <configuration>
                    <propertyFileWillOverride>true</propertyFileWillOverride>
                    <propertyFile>src/main/resources/liquibase.properties</propertyFile>
                    <changeLogFile>src/main/resources/changelogs/changelog.xml</changeLogFile>
                </configuration>
                <executions>
                    <execution>
                        <!--  Another Error: plugin execution not covered by lifecycle configuration..-->
                        <!-- <phase>process-resources</phase> <goals> <goal>update</goal> </goals> -->
                    </execution>
                </executions>
            </plugin> 
```

其中已经包括一个驱动程序：

```
 <dependency>
            <groupId>postgresql</groupId>
            <artifactId>postgresql</artifactId>
            <version>9.1-901-1.jdbc4</version>
        </dependency> 
```

liquibase.properties 文件包含 url、用户名、密码、changeLogFile-Path 和驱动程序：

```
#liquibase.properties
driver: org.postgresql.Driver 
```

但它没有驱动程序的类路径。我也需要类路径吗？

changelog.xml 有一个简单的变更集，它创建一个表，只是为了测试 liquibase。

但我没有走这么远，因为当我运行项目时

```
mvn liquibase:update 
```

我收到此错误：

[错误] 无法在项目项目上执行目标 org.liquibase:liquibase-maven-plugin:2.0.5:update (default-cli)：设置或运行 Liquibase 时出错：java.lang.RuntimeException：找不到数据库驱动程序：org .postgresql.Driver

我看不到重点..该驱动程序之前已经在项目中使用过。那么为什么 liquibase 找不到呢？

**编辑**

当我通过添加驱动程序标签在 pom.xml 中编辑我的配置时，它可以工作：

```
 <configuration>
                <propertyFileWillOverride>true</propertyFileWillOverride>
                <propertyFile>src/main/resources/liquibase.properties</propertyFile>
                <changeLogFile>src/main/resources/changelogs/changelog.xml</changeLogFile>
                <driver>org.postgresql.Driver</driver>
            </configuration> 
```

在此之前，我的驱动程序是在 liquibase.properties 中指定的，它实际上也应该可以工作。

如果我想将驱动程序保留在属性文件中，也许有人可以告诉我 liquibase.properties 文件应该是什么样子。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-24T12:34:23.420

**编辑：**

`driver: org.postgresql.Driver`通过`driver=org.postgresql.Driver`在 liquibase.properties 文件中替换为解决了该问题。

* * *

**原答案：**

您已将 postgresql 驱动程序添加为 webapp 的依赖项。但是当 maven 插件运行时，它们有自己的类路径，这与你的 webapp 不同。因此，您需要为插件本身包含对 JDBC 驱动程序的依赖（同样适用于其他插件，例如 jetty-maven-plugin）：

```
<plugin>
    <groupId>org.liquibase</groupId>
    <artifactId>liquibase-maven-plugin</artifactId>
    <version>2.0.5</version>
    <configuration>
        <propertyFileWillOverride>true</propertyFileWillOverride>
        <propertyFile>src/main/resources/liquibase.properties</propertyFile>
        <changeLogFile>src/main/resources/changelogs/changelog.xml</changeLogFile>
    </configuration>
    <executions>
        <execution>
            <!--  Another Error: plugin execution not covered by lifecycle configuration..-->
            <!-- <phase>process-resources</phase> <goals> <goal>update</goal> </goals> -->
        </execution>
    </executions>
    <dependencies>
        <dependency>
            <groupId>postgresql</groupId>
            <artifactId>postgresql</artifactId>
            <version>9.1-901-1.jdbc4</version>
        </dependency>
    </dependencies>
</plugin> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-10-13T09:35:20.297

以下插件配置对我有用。

```
 <plugin>
            <groupId>org.liquibase</groupId>
            <artifactId>liquibase-maven-plugin</artifactId>
            <version>3.5.0</version>
            <configuration>
            <propertyFile>src/main/resources/liquibase.properties</propertyFile>
            </configuration>
            <executions>
                <execution>
                    <goals>
                        <goal>update</goal>
                    </goals>
                </execution>
            </executions>
        </plugin> 
```

# mongodb - MongoDB：聚合框架：字段之间的 $match

> ID：14501337
> 
> 赞同：21
> 
> 时间：2013-01-24T12:24:30.423
> 
> 标签：mongodb, aggregation-framework

我有一个包含两个文档的测试集合：

```
> db.test.find().pretty()
{ "_id" : ObjectId("510114b46c1a3a0f6e5dd7aa"), "a" : 1, "b" : 2 }
{ "_id" : ObjectId("510114c86c1a3a0f6e5dd7ab"), "a" : 3, "b" : 1 } 
```

使用聚合框架，我只想获取 a 大于 b 的文档。$gt 只获取参数而不是字段中的值...

```
> db.test.aggregate([{"$match":{"$a":{"$gt":"$b"}}}])
{ "result" : [ ], "ok" : 1 } /* don't work*/ 
```

你有什么想法吗？

提前致谢

最好的祝福

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-01-24T12:43:16.790

嗯，我没有太多测试，我会说你可以用`$cmp`这个：

[http://docs.mongodb.org/manual/reference/aggregation/cmp/#_S_cmp](http://docs.mongodb.org/manual/reference/aggregation/cmp/#_S_cmp)

```
db.test.aggregate([
    {$project: {
        // All your other fields here
        cmp_value: {$cmp: ['$a', '$b']}
    }},
    {$match: {cmp_value: {$gt: 0}}} 
]) 
```

可能有更好的方法，但我附近没有安装 MongoDB 来测试。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2019-06-22T14:36:43.127

## 使用`$expr`运算符。

在 3.6 版中引入，`$expr`可以构建比较同一文档中的字段的查询表达式。

**比较单个文档中的两个字段**（直接取自[MongoDB Docs](https://docs.mongodb.com/manual/reference/operator/query/expr/index.html#compare-two-fields-from-a-single-document)的示例）：

考虑包含以下文档的每月预算集合：

```
{ "_id" : 1, "category" : "food", "budget": 400, "spent": 450 }
{ "_id" : 2, "category" : "drinks", "budget": 100, "spent": 150 }
{ "_id" : 3, "category" : "clothes", "budget": 100, "spent": 50 }
{ "_id" : 4, "category" : "misc", "budget": 500, "spent": 300 }
{ "_id" : 5, "category" : "travel", "budget": 200, "spent": 650 } 
```

以下操作用于`$expr`查找支出金额超出预算的文档：

```
db.monthlyBudget.find( { $expr: { $gt: [ "$spent" , "$budget" ] } } ) 
```

该操作返回以下结果：

```
{ "_id" : 1, "category" : "food", "budget" : 400, "spent" : 450 }
{ "_id" : 2, "category" : "drinks", "budget" : 100, "spent" : 150 }
{ "_id" : 5, "category" : "travel", "budget" : 200, "spent" : 650 } 
```

# php - 将 strtotime() 转换为 StrFTime()

> ID：14501338
> 
> 赞同：6
> 
> 时间：2013-01-24T12:24:33.700
> 
> 标签：php, strtotime, strftime, whmcs

我被要求为我们的计费系统编写一个模块，并使用我习惯的所有功能完成它。它在英语设置上进行了测试，但我没有考虑（我也不知道）我们公司使用的实际系统是法语的事实。

我写的代码是...

```
$due_date = strtotime($next_due_date);
$today = date('Y-m-d');
$today_date = strtotime($today);

if ($due_date > $today_date) { 
```

但是我不熟悉 StrFTime 并且想知道如何使用它来使此代码适用于法语语言环境？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:41:20.273

首先你应该使用`setlocale`

```
setlocale(LC_TIME, "fr_FR"); 
```

其次，对于将日期作为字符串或整数进行比较，您仍应使用`strtotime`and not `strftime`。（或者您可以始终使用字符串格式`YYYY-mm-dd`

`strftime`仅用于将日期表示为字符串。如果您想存储或操作它，您应该使用标准格式而不是本地化。见[文档](http://php.net/manual/en/function.strtotime.php)

> 为避免潜在的歧义，最好尽可能使用 ISO 8601 (YYYY-MM-DD) 日期或 DateTime::createFromFormat()。

所以一个可能的代码

```
//$next_due_date must be in a standard format like YYYY-mm-dd (but not only)
$due_date = strtotime($next_due_date);
$today_date = time();

if ($due_date > $today_date) {
    echo strftime("%c",$due_date) . " is in the future";
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-24T12:35:04.217

做了一个简单快速的例子。希望这可以帮助

```
<?php
        setlocale(LC_ALL, 'fra_fra');

        $today = date('Y-m-d');
        $date_string = utf8_encode(strftime('%d %B %Y', strtotime($today)));
        echo $date_string;
?> 
```

# c - 如何强制 inih 使用指定路径中的 .ini 文件

> ID：14501356
> 
> 赞同：0
> 
> 时间：2013-01-24T12:25:32.290
> 
> 标签：c, inih

我正在尝试将[INIH 库](http://code.google.com/p/inih/)用于我的一个宠物项目，但无法弄清楚如何强制它从我的主目录而不是我正在执行程序的当前目录读取配置文件。假设这段代码读取了我的配置：

```
 if(ini_parse(file_name, handler, &config) < 0){
     printf("Can't load %s\n",file_name);
     return 0;
   } 
```

当我将'test.ini'指定为文件名时，它会在我执行程序的当前目录中查找文件（正确），当我指定'~/.tst/gr8.ini'时它找不到它（实际上它仍然在当前目录中找到一个）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:30:47.073

好吧，我的错。显然 fopen 不理解 '~'，提供绝对路径可以解决问题。

# android - Android 应用程序崩溃 - java.lang.IllegalArgumentException：未找到视图 - 添加了崩溃报告

> ID：14501367
> 
> 赞同：1
> 
> 时间：2013-01-24T12:26:05.773
> 
> 标签：android

我开发了一个安卓应用程序。我有一个 UI，我需要一个片段以选项卡的方式显示。为了兼容性，我使用了 android 论坛提供的 CompatTab 类中的“TabHelper”。

大多数主要移动模型中的应用程序崩溃。

```
APP_VERSION_CODE=30
ANDROID_VERSION=4.1.1
PHONE_MODEL=Galaxy Nexus 
```

我也尝试了这些链接，但没有得到线索 [Android Fragment no view found for ID？](https://stackoverflow.com/questions/7508044/android-fragment-no-view-found-for-id)

[没有视图的片段在配置更改时崩溃](https://stackoverflow.com/questions/4937075/fragment-without-a-view-crashes-on-configuration-change)

这是我的创建方法

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.main);

    TabHelper tabHelper = getTabHelper();
    //adding tabs....

     } 
```

我有 OnTab Click 事件监听器如下

```
 public static class InstantiatingTabListener implements CompatTabListener {

    private final TabCompatActivity mActivity;
    private final Class mClass;

    public InstantiatingTabListener(TabCompatActivity activity, Class<? extends Fragment> cls) {

        mActivity = activity;
        mClass = cls;

    }

    /* The following are each of the ActionBar.TabListener callbacks */
    @Override
    public void onTabSelected(CompatTab tab, FragmentTransaction ft) {
        // Check if the fragment is already initialized
        Fragment fragment = tab.getFragment();

        if (fragment == null) {
            // If not, instantiate and add it to the activity
            fragment = Fragment.instantiate(mActivity, mClass.getName());
            tab.setFragment(fragment);

            ft.add(android.R.id.tabcontent, fragment, tab.getTag());
        } else {
            // If it exists, simply attach it in order to show it
            ft.attach(fragment);
        }
    } 
```

我的 XML TabHost

```
<TabHost xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@android:id/tabhost"
android:layout_width="match_parent"
android:layout_height="match_parent">

<LinearLayout
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <TabWidget
        android:id="@android:id/tabs"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        />

  <FrameLayout
        android:id="@android:id/tabcontent"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"/>

</LinearLayout> 
```

它在三星 Galaxy 平板电脑中运行良好，但在 Galaxy S2、S3 手机中失败。

这是崩溃报告

```
APP_VERSION_CODE=30
ANDROID_VERSION=4.1.1
PHONE_MODEL=Galaxy Nexus
CUSTOM_DATA=
STACK_TRACE=java.lang.RuntimeException: Unable to start activity 
ComponentInfo{com.ishare.guide/com.ishare.guide.GuideBrowserActivity}: 
java.lang.IllegalArgumentException: No view found for id 0x1020011 for fragment 
GuideMenuFragment{41ee9418 #0 id=0x1020011 menu} 
```

我感觉低于代码行造成了问题

```
 ft.add(android.R.id.tabcontent, fragment, tab.getTag()); 
```

我在堆栈溢出中找到了下面的代码，但是如何在我的代码中集成？

```
 fragmentManager = getSupportFragmentManager();
    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();
    ListeResultatFragment fragment = MyFragment.newInstance();
    fragmentTransaction.add(android.R.id.tabcontent, fragment, "MyFragment");
    fragmentTransaction.commit(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:50:17.317

传入 ft.add() 的 id 必须是`setContentView()`. 我认为您错误地初始化`setContentView()`了`onCreate()`. 还要确保您传递给 FT 的 ID 是唯一的。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-24T12:54:22.977

developer.android.com 上有一些描述水平导航的有用资源：

检查[实现横向导航](http://developer.android.com/training/implementing-navigation/lateral.html)以获取水平导航和选项卡导航。

有一个来自 android 的向后兼容包支持此功能。检查[android.support.v4.app](http://developer.android.com/reference/android/support/v4/app/package-summary.html)

# android - 列表视图而不是填满整个屏幕

> ID：14501377
> 
> 赞同：0
> 
> 时间：2013-01-24T12:26:43.710
> 
> 标签：android

我试图创建一个包含项目的列表。我不希望列表会填满整个屏幕。我真的试图创建一个列表，它的宽度和高度将分别与最长列表项的大小和列表中的项目数几乎相等。换句话说;

如果我有一件物品，在安卓上我会看到

```
------------------------
     |      |
     | 1    |

------------------------ 
```

如果我有 2 件物品

```
------------------------
     |      |
     | 1    |
     | 2    |

------------------------ 
```

如果我有名称为“llll”和“llllllllll”的项目，

```
------------------------
     |               |
     | lll           |
     | llllllllll    |

------------------------ 
```

我的布局是

```
 <?xml version="1.0" encoding="utf-8"?>
 <TextView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:padding="10dp" >
 </TextView> 
```

为了得到我上面所说的，我应该改变哪一部分？

编辑：

```
 String[] values = new String[] { "1", "2", "3","4","5","6","7","8","9","10","11","12","13","14" };
 ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
            android.R.layout.simple_expandable_list_item_1, values);
        setListAdapter(adapter); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:30:57.487

您可能将 ListView 的宽度属性设置为“fill_parent”或“match_parent”。您在原始问题中包含的布局适用于 ListView 中的一个元素。

底线，检查父视图的宽度属性（在这种情况下，它将是 ListView 本身）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:42:29.480

您可以将 ListView 的高度更改为某个值，例如如下

```
android:layout_height = "XXdp" 
```

使 XX 足以容纳您允许出现的最大项目数，如果项目数更大，它将自动滚动。如果项目很少，则存在空白。

# c# - Sum LinqToSql 查询不分组

> ID：14501394
> 
> 赞同：0
> 
> 时间：2013-01-24T12:27:25.993
> 
> 标签：c#, linq, linq-to-sql

```
(from pd in context.Report
where pd.ReportDate.Month == 2012
&& pd.ReportDate.Year == 11 && pd.UserID == 11014
group pd by  pd.UserID  into g
select new 
{                               
    Cost = g.Sum(pd => pd.Cost),
    RevenueUSD = g.Sum(pd => pd.Revenue),
}); 
```

这个查询是

```
 -- Region Parameters
    DECLARE @p0 Int = 2012
    DECLARE @p1 Int = 11
    DECLARE @p2 Int = 11014
    -- EndRegion
    SELECT SUM([t0].[Cost]) AS [Cost], SUM([t0].[Revenue]) AS [RevenueUSD]
    FROM [IntegratedPublisherData] AS [t0]
    WHERE (DATEPART(Month, [t0].[ReportDate]) = @p0) AND (DATEPART(Year, [t0].[ReportDate]) = @p1) AND ([t0].[UserID] = @p2)
    GROUP BY [t0].[UserID] 
```

但我想要

```
 -- Region Parameters
    DECLARE @p0 Int = 2012
    DECLARE @p1 Int = 11
    DECLARE @p2 Int = 11014
    -- EndRegion
    SELECT SUM([t0].[Cost]) AS [Cost], SUM([t0].[Revenue]) AS [RevenueUSD]
    FROM [IntegratedPublisherData] AS [t0]
    WHERE (DATEPART(Month, [t0].[ReportDate]) = @p0) AND (DATEPART(Year, [t0].[ReportDate]) = @p1) AND ([t0].[UserID] = @p2) 
```

此查询将返回 1 行，因为 UserID 被选择为一个值并且它按 UserID 分组。

如何在不分组的情况下使用 Sum 编写此 Linq 查询？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:34:14.360

如果查询返回多行，这也将涵盖您的问题。也适用于单行。

```
var query = 
    (from pd in context.Report
     where pd.ReportDate.Month == 11
     && pd.ReportDate.Year == 2012 
     && pd.UserID == 11014
     select pd).ToList() //use .ToList() to avoid doubled execution
var result = 
    new 
    {
        Cost = query.Sum(pd => pd.Cost), 
        RevenueUSD = query.Sum(pd => pd.Revenue) 
    }; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:34:57.043

删除分组，并从表中读取值。`sum`当只有一条记录时，您不需要：

```
from pd in context.Report
where pd.ReportDate.Month == 2012 && pd.ReportDate.Year == 11 && pd.UserID == 11014
select new {                               
   Cost = pd.Cost,
   RevenueUSD = pd.Revenue,
 } 
```

# java - JPanel 布局管理器 - 如何防止组件填充空间？

> ID：14501396
> 
> 赞同：2
> 
> 时间：2013-01-24T12:27:37.090
> 
> 标签：java, swing

我正在尝试构建一组两个标签和一个按钮（标签-按钮-标签），看起来像这样的顶行：

![在此处输入图像描述](../Images/9244ef8489e3fd7eb58eae033a196316.png).

我正在努力用 Java Swing 做到这一点。我已经尝试过 BorderLayout，使用 BorderLayout.WEST、BorderLayout.CENTER、BorderLayout.EAST 但这会使按钮填充空间： ![在此处输入图像描述](../Images/506c59813f5652126e5b1d198056fdb2.png)

这是我用于此的代码：

```
panel = new JPanel(new BorderLayout());
l1 = new JLabel("l1");
button = new JButton("B");
l2 = new JLabel("l2");
panel.add(l1, BorderLayout.WEST);
panel.add(button, BorderLayout.CENTER);
panel.add(l2, BorderLayout.EAST); 
```

我也尝试过 GridBagLayout，我最接近的是将它们分开，但不拥抱两侧：

![在此处输入图像描述](../Images/84f618d73e1d0b4363674b30b417f0e0.png)

代码：

```
panel = new JPanel(new GridBagLayout());
GridBagConstraints c = new GridBagConstraints();
c.fill = GridBagConstraints.VERTICAL;
l1 = new JLabel("L1");
l2 = new JLabel("L2");
button = new JButton("B");
c.weightx = Integer.MAX_VALUE;
c.gridx = 0;
panel.add(l1, c);
c.weightx = 1;
c.gridx = 1;
panel.add(button, c);
c.weightx = Integer.MAX_VALUE;
c.gridx = 2;
panel.add(l2, c); 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T12:31:17.293

尝试`GridLayout`使用`LEFT`, `CENTER`&`RIGHT`标签。

```
 JPanel p = new JPanel(new GridLayout(1,0));
    p.add(new JLabel("Test", JLabel.LEFT));
    p.add(new JLabel("Test", JLabel.CENTER));
    p.add(new JLabel("Test", JLabel.RIGHT)); 
```

![图片](../Images/c61ac1f41036a13e750a99443007feaa.png)

SSCCE：

```
import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.EventQueue;
import java.awt.GridLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;

/** @see http://stackoverflow.com/a/14501446/230513 */
public class Test {

    private void display() {
        JFrame f = new JFrame("Test");
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        JPanel p = new JPanel(new GridLayout(1, 0));
        p.add(new JLabel("Test", JLabel.LEFT));
        JPanel buttonPanel = new JPanel();
        buttonPanel.add(new JButton("Test"));
        p.add(buttonPanel);
        p.add(new JLabel("Test", JLabel.RIGHT));
        f.add(p, BorderLayout.NORTH);
        f.add(new JPanel() {

            @Override
            public Dimension getPreferredSize() {
                return new Dimension(320, 120);
            }
        }, BorderLayout.CENTER);
        f.pack();
        f.setLocationRelativeTo(null);
        f.setVisible(true);
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                new Test().display();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-24T12:33:56.443

这里有两种方法。一次使用 BorderLayout，一次使用 GridBagLayout：

```
import java.awt.BorderLayout;
import java.awt.FlowLayout;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;

public class TestGridBagLayout {

    protected void initUI1() {
        final JFrame frame = new JFrame("Grid bag layout");
        frame.setTitle(TestGridBagLayout.class.getSimpleName());
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        JLabel l1 = new JLabel("L1");
        JLabel l2 = new JLabel("L2");
        JButton b = new JButton("B");
        JPanel panel = new JPanel(new GridBagLayout());
        GridBagConstraints gbc = new GridBagConstraints();
        panel.add(l1, gbc);
        gbc.weightx = 1.0;
        gbc.anchor = GridBagConstraints.CENTER;
        panel.add(b, gbc);
        gbc.weightx = 0;
        panel.add(l2, gbc);
        frame.add(panel);
        frame.setSize(800, 100);
        frame.setVisible(true);
    }

    protected void initUI2() {
        final JFrame frame = new JFrame("Border layout");
        frame.setTitle(TestGridBagLayout.class.getSimpleName());
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        JPanel panel = new JPanel(new BorderLayout());
        JLabel l1 = new JLabel("L1");
        JLabel l2 = new JLabel("L2");
        JButton b = new JButton("B");
        JPanel wrappingPanel = new JPanel(new FlowLayout());
        wrappingPanel.add(b);
        panel.add(l1, BorderLayout.WEST);
        panel.add(l2, BorderLayout.EAST);
        panel.add(wrappingPanel);
        frame.add(panel);
        frame.setLocation(0, 125);
        frame.setSize(800, 100);
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                TestGridBagLayout test = new TestGridBagLayout();
                test.initUI1();
                test.initUI2();
            }
        });
    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-12-20T20:51:02.417

你可以像这样添加一个“骗子”：

```
JButton buttonNeeded = new JButton();
   window.add(buttonNeeded);
JButton cheaterButton = new JButton();
   cheaterButton.setEnabled(false);
   window.add(cheaterButton); 
```

填满屏幕，`cheaterButton`但用户无法单击或查看它。对所有事情都不是很好，但它`JButton`至少适用于添加 s。

# php - 在没有 Apache（或其他网络服务器）的网络服务器“环境”中执行 PHP

> ID：14501401
> 
> 赞同：5
> 
> 时间：2013-01-24T12:28:09.227
> 
> 标签：php, cgi

是否可以从不通过网络服务器与脚本交互的程序执行 PHP 代码？最初，我想到了 CLI PHP 解释器，但它不包含网站请求常见的任何 $_SERVER 或 $_REQUEST 变量。

那么，如果可以效仿，又怎么能被模仿呢？我没有考虑任何特定的编程语言，因为我确信网络服务器和 php 之间有一些通用接口，这些接口独立于平台。

这个问题的目的是构建一个可以作为 web 服务器运行的 Node.JS 应用程序，然后（在需要时）可以执行 PHP 脚本（具有特定输入），获取响应，然后如果需要对输出进行一些额外的处理，然后写给客户端。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T12:32:18.577

除非您想为 Node.JS 构建 PHP 模块，否则我认为 CLI 是您唯一的选择 - 您可以通过命令行传递所需的变量，我想没有什么可以反对在脚本中重建它们：

```
php -f myscript.php /websites/myscript domain.com 1.2.3.4.5 
```

现在，*理想*的方法是将这些参数写入变量，然后在脚本中使用。

如果您有一个使用 的现有脚本`$_SERVER`，并且不想重写它，这将是一个有效但不优雅的解决方法。（不优雅，因为您通常不应该写入`$_SERVER`，`$_GET`等等。）

```
$_SERVER["REQUEST_URI"] = $argv[1];
$_SERVER["SERVER_NAME"] = $argv[2];
$_SERVER["REMOTE_ADDR"] = $argv[3]; 
```

[CLI：命令行使用](http://php.net/manual/en/features.commandline.usage.php)

（我*不太*确定像这样覆盖服务器变量是否合理，感觉有点不对劲。但它绝对适用于标准设置。我会问 PHP 聊天中的人他们的想法......编辑：没有人真的*喜欢*它，但似乎没有任何重大缺点）

# android - SurfaceView中如何动态改变图片？

> ID：14501405
> 
> 赞同：6
> 
> 时间：2013-01-24T12:28:20.380
> 
> 标签：android, multithreading, surfaceview

我正在使用默认的 SurfaceView 实现，代码可以在[这里](https://github.com/vivekrk/SurfaceView-Sample)找到（这是一个手指绘图应用程序示例，我只是禁用了它并绘制了一个图像）。有3个主要的**独立**类-

1.  一个活动类 ( **SurfaceViewSampleActivity** )
2.  表面视图（**画布视图**）
3.  线程类（**UIThread**）。

SurfaceView 绘制在构造函数中设置的图像（位图）。我还实现了用户可以调用相机应用程序并拍照的功能。**图片必须交换默认图像（在 SurfaceView 构造函数设置图像）。**

我试图在我的活动类中创建一个简单的方法并设置位图，但这不起作用：

```
private void setImage() {
    view.bitmap = this.mImageBitmap; 

} 
```

我认为 SurfaceView 线程可能正在使用位图，所以我尝试锁定变量：

```
private void setImage() {   
    synchronized (view.bitmap) {
        view.bitmap = this.mImageBitmap;
    }   
} 
```

应用程序也崩溃。

SurfaceView 绘制方法：

```
protected void onDraw(Canvas canvas) {
    setPaintProperties();

    if (canvas != null) {
        canvas.drawColor(Color.WHITE);

        synchronized ( this.bitmap ) {
            canvas.drawBitmap(this.bitmap, 0, 0, new Paint() );
        }

    }
} 
```

**调用构造函数后**，有什么方法可以更改 SurfaceView 中的位图变量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T19:22:12.750

你的运行方法是什么样的。我会看一下月球着陆器的样本。您需要锁定和解锁画布。

```
 @Override
    public void run() {
        while (mRun) {
            Canvas c = null;
            try {
                c = mSurfaceHolder.lockCanvas(null);
                synchronized (mSurfaceHolder) {
                    if (mMode == STATE_RUNNING) updatePhysics();
                    doDraw(c);
                }
            } finally {
                // do this in a finally so that if an exception is thrown
                // during the above, we don't leave the Surface in an
                // inconsistent state
                if (c != null) {
                    mSurfaceHolder.unlockCanvasAndPost(c);
                }
            }
        }
    } 
```

# ruby - RSpec 只能看到我的 Lib 目录根目录中的类

> ID：14501413
> 
> 赞同：4
> 
> 时间：2013-01-24T12:29:35.570
> 
> 标签：ruby, rspec, sinatra, specs

RSpec (2.12.2) 让我很难受。如果我想在我的规范中引用一个类并且该类不在我的目录的根`/lib`目录中，则会引发错误：

```
no such file to load -- test (LoadError) 
```

似乎我的规范可以嵌​​套在文件夹结构中，但是当我尝试需要嵌套文件夹中的类时（例如`lib/workers/conversion_worker.rb`），我得到了这个错误。

我在所有规范中都使用了 require 'spec_helper'，但即使对类的路径进行硬编码也会导致相同的错误。

使用这种结构：

```
-lib/
  - class_found.rb
  - workers/
     - class_not_found.rb 
```

规范如下所示：

```
# spec/workers/class_not_found_spec.rb
require "spec_helper"
require "class_not_found"

describe ClassNotFound do    
  it "Does something"
end 
```

以下成功运行规范（-I 标志添加到 $LOAD_PATH 的路径）：

```
$ rspec spec/workers/class_not_found_spec.rb -I /Path/to/project/* 
```

因此，RSpec 似乎没有将 lib 下面的任何内容添加到其路径中。

我可以使用 require_relative 成功地要求 class_not_found.rb：

```
require_relative "../../lib/workers/class_not_found.rb" #Succeeds 
```

但不使用要求：

```
require "lib/workers/class_not_found.rb" # Fails 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-25T22:57:33.413

我不知道您是否有喜欢的答案，但似乎您没有正确要求您的文件。

你的`'lib/class_found.rb'`文件应该需要你所有的库文件，所以它应该看起来像：

```
require 'workers/class_not_found' 
```

并且您`spec_helper.rb`将需要文件`lib`夹中的主文件，因此它应该类似于：

```
require 'class_found' 
```

rspec`'spec/spec_helper.rb'`在运行时会自动加载，它还会自动将`'lib'`文件夹添加到其`LOAD_PATH`中，以便`'lib/class_found.rb'`正确查看和需要您的需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:41:11.213

根据您的目录树，该文件`class_not_found.rb`位于子目录`workers`中。您忘记将路径添加到您的`require`：

```
require 'workers/class_not_found' 
```

会是正确的。

顺便说一句：你不`require`上课，你`require` *归档*.

# php - 为什么 PHP 的垃圾收集器会降低性能，没有它如何管理内存？

> ID：14501415
> 
> 赞同：7
> 
> 时间：2013-01-24T12:29:44.010
> 
> 标签：php, memory-management, garbage-collection, unset

这与 PHP 5.3 Cli 应用程序有关，该应用程序以复杂的方式处理大量数据，需要数小时才能运行。有人发现关闭垃圾收集可以让它运行得更快（可能高达 50%）。

我遇到的唯一一篇提到这种性能影响的文章是[http://derickrethans.nl/collecting-garbage-performance-considerations.html](http://derickrethans.nl/collecting-garbage-performance-considerations.html)。我不确定我是否完全遵循它，但它似乎表明它仅适用于具有大量循环引用的代码。

有人可以对此有所了解吗？

另外，鉴于我们已经关闭了 gc，有没有办法手动减少内存？建议使用 unset()。一个快速测试表明，无论对象的大小如何，unset() 都释放了大约 80 个字节。这表明它只是取消了参考，我在网上阅读的内容证实了这一点。我是否认为当变量超出范围时，即使没有垃圾收集，这 80 个字节也会被释放？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T12:33:45.483

您刚刚禁用了循环引用 GC。常规的仍然有效。

常见的 GC 测试，无论是否有`zval`s（“内存”），不再被任何变量或属性引用，并将释放此内存。循环引用是指两个或多个对象直接或间接相互引用

```
$a = new stdClass;
$b = new stdClass;
$a->b = $b;
$b->a = $a;
unset($a, $b); 
```

现在两个对象相互引用，但它们都没有从其他任何地方引用，所以它们是不可访问的。这就是循环引用 GC 试图检测的内容，但要找到它们，它会遍历每个已知对象并找出是否存在“来自外部”的引用。它有点复杂，但简化了 ;) 所以在有很多引用的结构中，尤其是循环的，这是一项艰巨的任务。

值得一提`unset()`的是：您只删除引用，但不要（直接）释放内存。这是由 GC 稍后完成的（它做得很好:)）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T12:39:28.140

您可以使用`unset`. `__destruct`您可以通过实现一个函数来清除类中的循环。`unset`所有引用其他对象的私有、受保护或公共变量。

如果您将其应用于现有程序，它会变得非常乏味，但它是可行的。

* * *

```
class A {
    public $ref;
    public function __destruct() {
        unset($this->ref);
        echo "destruct";
    }
}
$a1 = new A();
$a2 = new A();
$a1->ref = $a2;
$a2->ref = $a1; 
```

这**不起作用**：

```
unset($a1, $a2);
echo "--";
// prints --destructdestruct (in 5.3) 
```

这有效：

```
$a1->__destruct();
unset($a1, $a2);
echo "--";
// prints destructdestructdestruct-- (in 5.3) 
```

# emulation - 在模拟器中运行三星智能电视项目会导致崩溃

> ID：14501416
> 
> 赞同：0
> 
> 时间：2013-01-24T12:29:47.643
> 
> 标签：emulation, samsung-smart-tv, television

我正在尝试为三星智能电视开发。我已经安装了提供 Apache 的三星 SDK，并创建了一个默认项目表单模板“三星智能电视基本应用程序”，但我无法成功将我的应用程序运行到模拟器。当我从**“三星智能电视 SDK -> 在三星电视模拟器中运行项目”运行项目时，三星**模拟器会自动打开并崩溃。

这可能是因为代码不完整并且缺少某些东西或者我必须做一些补充配置。例如设置 Apache 服务器。

我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-08T11:25:55.340

我在 SDK 4.0/4.1 和 Emulator 2013 上也遇到过类似的情况。它在加载时崩溃了。

问题出在显卡上，太旧了，不支持DX。

我已经安装了 NVidia 6600GT 并安装了最新的驱动程序，它现在可以工作了。祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T14:58:32.733

还有一个适用于 Eclipse 的插件，效果很好。在这里下载：http: [//www.samsungdforum.com/devtools/sdkdownload](http://www.samsungdforum.com/devtools/sdkdownload)

但是，如果出现异常，2012 和 13 有时会在开发过程中崩溃。

# android - Android Sqlite 读取错误

> ID：14501418
> 
> 赞同：0
> 
> 时间：2013-01-24T12:29:57.653
> 
> 标签：android, sqlite

它显示 70% 的记录，但其他 30% 的记录未能显示并出现错误：

> 由于错误 -12，无法分配大小为 4194304 的 CursorWindow '/data/data/com.backapp_inter/databases/backapp'。”

这是我的代码：

```
package com.backapp_inter.db;
import android.content.ContentResolver;
import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.util.Log;

public class dbquery {
ContentResolver cr;
Context c;
DatabaseHelper dh;
SQLiteDatabase db;
    public dbquery(ContentResolver cr,Context c) {
    // TODO Auto-generated constructor stub
        this.cr=cr;
        this.c=c;
        dh=new DatabaseHelper(c);
        db=dh.getWritableDatabase();
} 
```

这是列出联系人姓名、其电子邮件和号码的逻辑。

```
 public void process(){

        Cursor name = db.query("name", new String[]{"ID","name"}, null, null, null, null, null);
        if(name.moveToFirst()){
            Log.e("Total Name",""+name.getCount());

            while(!name.isAfterLast()) {    
                Log.e("Name",name.getString(1));
                givemeemail(name.getInt(name.getColumnIndex("ID")));
        //      givemephone(name.getInt(name.getColumnIndex("ID")));
                name.moveToNext();
            }
        }

    name=null;
    }
    public void givemeemail(int i) {
        // TODO Auto-generated method stub
        try{
            Log.v("TRACK #00","givemeemail");
            Cursor email = db.query("email", new String[]{"edata","etype"}, "fID=?", new String[]{String.valueOf(i)},null, null, null); 
//          Log.e("Edata",email.getColumnIndex("edata")+"");
//          Log.e("Etype",email.getColumnIndex("etype")+"");
            if(email.moveToFirst()){
                while(!email.isAfterLast()) {   
                    Log.e("Email",email.getString(0));
                    Log.e("Email Type",email.getString(1));

                    email.moveToNext();
                }

            }
            email=null;
        }
        catch(Exception e){
            if(e!=null){
                Log.v("Number Parse Exception","dbquery.java");
            }
        }

    }
    public void givemephone(int i) {
        // TODO Auto-generated method stub
        try{
            Log.v("TRACK #00","givemephone");
            Cursor phone = db.query("phone", new String[]{"pdata","ptype"}, "fID=?", new String[]{String.valueOf(i)},null, null, null); 

            if(phone.moveToFirst()){
                while(!phone.isAfterLast()) {   
                    Log.e("Phone",phone.getString(0));
                    Log.e("Phone Type",phone.getString(1));

                    phone.moveToNext();
                }
            }
        phone=null;
        }
        catch(Exception e){
            if(e!=null){
                Log.v("Number Parse Exception","dbquery.java");
            }
        }

    }
}

Logcat :

01-24 17:09:41.601: E/Name(32656): nilu_160488@yahoo.com
01-24 17:09:41.601: V/TRACK #00(32656): givemeemail
01-24 17:09:41.601: E/Email(32656): nilu_160488@yahoo.com
01-24 17:09:41.601: E/Email Type(32656): Home
01-24 17:09:41.601: E/Name(32656): scope4it
01-24 17:09:41.601: V/TRACK #00(32656): givemeemail
01-24 17:09:41.601: E/CursorWindow(32656): Could not allocate CursorWindow '/data/data/com.backapp_inter/databases/backapp' of size 4194304 due to error -12.
01-24 17:09:41.611: V/Number Parse Exception(32656): Email + dbquery.java
01-24 17:09:41.611: E/Name(32656): Suthar Ila
01-24 17:09:41.611: V/TRACK #00(32656): givemeemail
01-24 17:09:41.611: E/CursorWindow(32656): Could not allocate CursorWindow '/data/data/com.backapp_inter/databases/backapp' of size 4194304 due to error -12.
01-24 17:09:41.611: V/Number Parse Exception(32656): Email + dbquery.java
01-24 17:09:41.611: E/Name(32656): Chaitanya Prajapati
01-24 17:09:41.611: V/TRACK #00(32656): givemeemail
01-24 17:09:41.611: E/CursorWindow(32656): Could not allocate CursorWindow '/data/data/com.backapp_inter/databases/backapp' of size 4194304 due to error -12.
01-24 17:09:41.611: V/Number Parse Exception(32656): Email + dbquery.java
01-24 17:09:41.611: E/Name(32656): piadolandia-unsubscribe@googlegroups.com
01-24 17:09:41.611: V/TRACK #00(32656): givemeemail
01-24 17:09:41.611: E/CursorWindow(32656): Could not allocate CursorWindow '/data/data/com.backapp_inter/databases/backapp' of size 4194304 due to error -12.
01-24 17:09:41.611: V/Number Parse Exception(32656): Email + dbquery.java
01-24 17:09:41.611: E/Name(32656): Ahmed_recruiter+unsubscribe@googlegroups.com
01-24 17:09:41.611: V/TRACK #00(32656): givemeemail
01-24 17:09:41.611: E/CursorWindow(32656): Could not allocate CursorWindow '/data/data/com.backapp_inter/databases/backapp' of size 4194304 due to error -12.
01-24 17:09:41.611: V/Number Parse Exception(32656): Email + dbquery.java 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:36:59.717

您应该始终确保关闭光标，最好在 finally 块中，仅将引用设置为 null 不会释放它的资源。

```
...
Cursor cursor = null;
try {
 ..open your cursor, run query, loop etc
} finally {
 if (cursor!=null) cursor.close();
} 
```

# java - Java - 将原始灰度像素数据加载到 BufferedImage

> ID：14501420
> 
> 赞同：0
> 
> 时间：2013-01-24T12:30:05.133
> 
> 标签：java, performance, bytearray, bufferedimage

我需要将原始像素数据从文件加载到 BufferedImage。图像为灰色，8 位像素格式。所以我会这样开始：

```
byte[] bytes = new byte[640 * 480];
FileInputStream fis = new FileInputStream("C:/test.dat");
fis.read(bytes);
fis.close(); 
```

但是有了这个，我在两者之间创建了一个缓冲区。我可以将字节直接加载到图像中吗？或者，如果不是，我可以将 *memcpy* 字节放入图像中吗？速度对此非常重要。当然都是Java。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T07:42:59.683

这个问题的答案似乎是：如果没有额外的缓冲，这是不可能的。

# c# - 使用 HTTWebRequest 访问 OWA

> ID：14501423
> 
> 赞同：1
> 
> 时间：2013-01-24T12:30:12.327
> 
> 标签：c#, httpwebrequest, httpwebresponse, outlook-web-app

这是怎么回事？

我正在尝试向 OWA 网站发出请求并登录用户帐户。以前有人试过吗？我的应用程序将是一个控制台应用程序，主要思想是检查 OWA 在比较 HTML 响应时是否工作正常。

我收到了 POST 请求，但在那之后我有一个重定向（代码 302）并且我没有得到 HTML rigth 的响应。

我的代码：

```
 //GET
        CookieCollection cookies = new CookieCollection();
        HttpWebRequest request = (HttpWebRequest)WebRequest.Create("https://domain/owa");
        request.CookieContainer = new CookieContainer();
        request.CookieContainer.Add(cookies);
        request.UserAgent = "Mozilla/5.0 (Windows NT 6.1) AppleWebKit/535.2 (KHTML, like Gecko) Chrome/15.0.874.121 Safari/535.2";
        //Get the response from the server and save the cookies from the first request..
        HttpWebResponse response = (HttpWebResponse)request.GetResponse();
        cookies = response.Cookies;

        // POST
        string getUrl = "https://domain/owa/auth.owa";
        string postData = "destination=https%3A%2F%2Fdomain%2Fowa%2Fauth.owa&flags=0&forcedownlevel=0&trusted=0&username=myuser&password=mypassword&isUtf8=1";
        HttpWebRequest getRequest = (HttpWebRequest)WebRequest.Create(getUrl);
        getRequest.CookieContainer = new CookieContainer();
        getRequest.CookieContainer.Add(cookies); //recover cookies First request
        getRequest.Method = WebRequestMethods.Http.Post;
        getRequest.UserAgent = "Mozilla/5.0 (Windows NT 6.1) AppleWebKit/535.2 (KHTML, like Gecko) Chrome/15.0.874.121 Safari/535.2";
        getRequest.AllowWriteStreamBuffering = true;
        getRequest.ProtocolVersion = HttpVersion.Version11;
        getRequest.AllowAutoRedirect = true;
        getRequest.ContentType = "application/x-www-form-urlencoded";

        byte[] byteArray = Encoding.ASCII.GetBytes(postData);
        getRequest.ContentLength = byteArray.Length;
        Stream newStream = getRequest.GetRequestStream(); 
        newStream.Write(byteArray, 0, byteArray.Length); 
        newStream.Close();

        response = (HttpWebResponse)getRequest.GetResponse(); 
```

之后，我的回复有一个 html 页面，说我需要允许 javascript 运行它。但我了解 HTTPWerRequest 对象无法运行 js。

有谁知道如何解决这个问题？

# wso2 - WSO2 API 管理器 - API 的可见性

> ID：14501425
> 
> 赞同：2
> 
> 时间：2013-01-24T12:30:16.440
> 
> 标签：wso2, wso2-am

我有一个关于 WSO2 API Manager 的具体问题。无论如何，是否有办法让发布者限制他们的 API 对用户而不是角色的可见性？

提前感谢您的答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T11:31:18.123

在 WSO2 API Manager 中，通过重用底层 WSO2 Carbon 基于角色的授权模型来实现对 API 可见性的控制。但是，您仍然可以通过将特定用户组分配给特定角色并在 APIManager 中定义该角色以限制 API 可见性来限制特定用户组的 API 可见性。我是否知道更喜欢对 API 可见性进行用户控制的原因是什么相当当前的角色方式？

谢谢;

/拉拉吉

# ruby-on-rails - 显示加载图标/gif，直到从 api 返回结果

> ID：14501430
> 
> 赞同：0
> 
> 时间：2013-01-24T12:30:28.593
> 
> 标签：ruby-on-rails, ruby-on-rails-3, api, loading

我正在调用一个 api，结果加载大约需要 15-20 秒，所以我想显示一个加载 gif，例如直到它们加载。

我有一个简单的表单，可以发出请求，然后将我重定向到相关操作

```
<%= form_tag results_path, :method => "get" do %>
<%= text_field_tag 'search', nil, :placeholder => "Enter Email Address here...." %>
<%= submit_tag 'Search' %> 
```

在呈现结果之前，如何将图像添加到 results_path？

我可以在表单本身内执行此操作还是它是 Jquery/Javascript 的一部分

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T13:23:47.457

根据[Rails 3: Remote links and Forms](http://www.alfajango.com/blog/rails-3-remote-links-and-forms/)，您可以这样做

*   添加`:remote => true`到您的`form_tag`
*   将以下内容添加到您的 JS

```
$('SEARCH-BUTTON').bind('ajax:loading', function(){
  $('LOADING-GIF').show();
});

$('SEARCH-BUTTON').bind('ajax:complete', function(){
  $('LOADING-GIF').hide();
  // add what you like here
}); 
```

我没有测试过它，但我认为它可以解决问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-10-11T13:04:05.990

这将禁用带有微调器的按钮，直到收到响应。

```
<%= button_tag "Search", class: "btn btn-default", 'data-disable-with' => "<i class='fa fa-spinner fa-spin'></i>".html_safe %> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T12:36:50.843

您可以通过异步调用 api 来做到这一点。我不知道如何在 ruby​​ 中做到这一点，但这是一般的想法。该 api 将在后台调用，直到那时您的加载图标将被显示。完全获取 api 后，您可以删除加载图标。

# java - Java dbUnit CRUD 测试错误

> ID：14501434
> 
> 赞同：1
> 
> 时间：2013-01-24T12:30:39.670
> 
> 标签：java, database, testing, junit, dbunit

好吧，当我尝试在 SQL Server 中测试 crud 操作时，我遇到了一个非常令人沮丧的问题。请注意，我使用了 hibernate、dbunit、ms sql server2008r2 和 jpa 的组合。

所以，正如我之前提到的，我尝试使用 dbunit 来测试 CRUD 操作。根据 dbunit 的文档，我创建了一个 XML 文件，其中包含必要的记录和另一个在操作结束时进行比较的文件。在我的例子中，最初的 xml 只包含两行，它们也代表了我的实体之间的关系。初始 xml

```
<xml> 
 <A id="1" name="nameA"/> 
 <B id="1" name="nameB" A_id="1">
</xml> 
```

预期成绩

```
<xml> 
 <A id="1" name="nameA"/> 
 <B id="1" name="nameB" A_id="1">
 <B id="2" name="nameBB" A_id="1">
</xml> 
```

注意我们只设置了clean insert策略下的set up操作，而没有定义teardown操作，默认为none。

因此，当我尝试在表 b 中插入另一条记录并引用表 A 时，如果数据库是干净的，它就可以了。但是，每次我们尝试重新执行相同的测试时，都会由于违反外键约束而出错。理论上，dbunit 每次插入从 xml 中检索到的数据时，都应该（遵循**干净插入策略**）以相反的顺序删除，然后再插入记录。但是，如前所述，它并没有删除指示违反外键的记录，这导致我认为逆序并没有真正起作用。

有任何想法吗？tnx 提前

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T08:41:18.810

三个想法：

一：也许你应该关闭标签“B”：

```
<B id="1" name="nameB" A_id="1"> 
```

应该是（最后缺少“/”）

```
<B id="1" name="nameB" A_id="1"/> 
```

二：您可以检查您的应用程序没有在其他表中添加行。例如 C 引用 B 或 A

三：您可以检查是否有任何未结交易

# linux-kernel - open 如何适用于普通文件和设备驱动程序

> ID：14501437
> 
> 赞同：7
> 
> 时间：2013-01-24T12:31:00.087
> 
> 标签：linux-kernel, operating-system, filesystems, linux-device-driver, system-calls

目前，我正在学习 Linux 设备驱动程序。并且对打开设备文件的工作方式感到困惑？

到目前为止我得到了什么......考虑一个打开普通文件的简单代码......

```
#incldue<stdio.h>
int main() {
   FILE fp;
   char buffer[20];
   fp = fopen(/home/yoggi/foo.txt, "r");
   fread(buffer, 5, 1, fp);
} 
```

在上面的程序中，c-library 函数 fopen() 是系统调用**open()**的包装函数，它在 VFS 层函数中调用**sys_open() 或 file_open() 。**由于 linux 支持许多文件系统，虚拟文件​​系统然后将控制权转移到实际文件系统处理程序以打开该文件。

```
1) How does virtual file system(VFS) get to know on which file system the 
   underline file resides?
2) How does it then calls the file_open or open function of that particular
   filesystem to open file. 
```

如果设备驱动程序发生类似的事情。假设一个简单的设备驱动程序。

```
#include <linux/module.h>
// othher includes... 
static dev_t first; // Global variable for the first device number 
static struct cdev c_dev; // Global variable for the character device structure
static struct class *cl; // Global variable for the device class
static int my_open(struct inode *i, struct file *f)
{
   printk(KERN_INFO "Driver: open()\n");
   return 0;
} 
static ssize_t my_read(struct file *f, char __user *buf, size_t len, loff_t *off)
{
   printk(KERN_INFO "Driver: read()\n");
   return 0;
}
struct file_operations pugs_fops =
{
 .owner = THIS_MODULE,
 .open = my_open,
 .read = my_read,
};

static int __init ofcd_init(void) /* Constructor */
{
  printk(KERN_INFO "Namaskar: ofcd registered");
  if (alloc_chrdev_region(&first, 0, 1, "Shweta") < 0)
  {
    return -1;
  }
  if ((cl = class_create(THIS_MODULE, "chardrv")) == NULL)
  {
     unregister_chrdev_region(first, 1);
     return -1;
 }
 if (device_create(cl, NULL, first, NULL, "mynull") == NULL)
 {
    class_destroy(cl);
    unregister_chrdev_region(first, 1);
    return -1;
 }
   cdev_init(&c_dev, &pugs_fops);
 if (cdev_add(&c_dev, first, 1) == -1)
 {
   device_destroy(cl, first);
   class_destroy(cl);
   unregister_chrdev_region(first, 1);
   return -1;
 }
  return 0;
}

static void __exit ofcd_exit(void) /* Destructor */
{
 cdev_del(&c_dev);
 device_destroy(cl, first);
 class_destroy(cl);
 unregister_chrdev_region(first, 1);
 printk(KERN_INFO "Alvida: ofcd unregistered");
} 
module_init(ofcd_init);
module_exit(ofcd_exit);
MODULE_LICENSE("GPL");
MODULE_AUTHOR("Anil Kumar Pugalia <email_at_sarika-pugs_dot_com>");
MODULE_DESCRIPTION("Our First Character Driver"); 
```

首先，我们为设备分配主要次要编号。注册设备文件的范围并将设备文件操作链接到设备驱动程序函数。

我没有得到的一些术语是..

```
1) What does actually cdev_add() do? in terms of registering a device to the 
   kernel.
2) Registering a device to the kernel means?
3) How does a open(/dev/mynull, O_RONLY); called on a device file actually calls 
   the open function of driver which is mapped while initializing the device 
   by calling routine cdev_init(&c_dev, &pugs_fops); ? 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-25T00:37:56.827

> 1）虚拟文件系统（VFS）如何知道下划线文件驻留在哪个文件系统上？

**您必须通过完整**路径名（或*当前*工作目录）指定您尝试打开的文件。
因此，通过向后遍历此目录路径，与挂载点的第一个匹配项（最深路径）将提供挂载的文件系统、文件系统的类型和设备。

每个文件系统在挂载时都会提供此信息并保存在挂载表中。您可以使用该命令
查看此（当前状态）信息。`mount`

> 2）然后它如何调用该特定文件系统的 file_open 或 open 函数来打开文件。

一旦知道文件系统，`ops`就可以检索该 fs 的结构，并且`open()`可以调用入口点。

> 1) cdev_add() 实际上是做什么的？在将设备注册到内核方面。

驱动程序注册（例如`cdev_init()`对于字符设备）安装驱动程序的`ops`结构，该结构列出了驱动程序可以执行的功能的入口点。
`cdev_add()`通知内核驱动程序可以控制该字符设备类型的特定实例。该设备实例被分配了一个次要编号，该次编号将设备名称关联`/dev`到驱动程序中的状态信息。
请注意，除 char 以外的设备类型（例如网络或平台（总线）设备）属于不同的子系统，并使用不同的注册过程。

> 2）将设备注册到内核意味着什么？

现在已启用对该设备的访问。

> 3) 如何打开(/dev/mynull, O_RONLY); 在设备文件上调用实际上调用了驱动程序的打开函数，该函数在初始化设备时通过调用例程 cdev_init(&c_dev, &pugs_fops); ?

驱动程序的`init()`例程应该只在加载驱动程序时调用一次。该例程应该探测设备所有实例的存在和操作状态。应获取中断线、DMA 通道和 I/O 端口和/或内存空间等资源。驱动程序向内核注册其`ops`结构。驱动程序向内核注册设备的每个实例。

用户空间中的`open()`调用由 C 库处理。`/dev`设备名称被转换为设备主编号（它标识哪个设备子系统或类，例如tty*或*音频*，*必须处理请求）和次编号（它标识要使用哪个设备驱动程序以及访问哪个设备实例）。处理器切换到管理模式，以便`open()`可以调用内核驱动程序的例程，该例程从驱动程序的`ops`结构中检索。有关`ops`结构的更多信息，请参见this [other answer](https://stackoverflow.com/questions/12917198/linux-device-driver-program-where-the-program-starts/12923107#12923107)。

# django - 如何在我的模型中创建测试对象？

> ID：14501439
> 
> 赞同：0
> 
> 时间：2013-01-24T12:31:03.833
> 
> 标签：django

如何在我的模型中创建测试对象？我需要创建 200 个对象（自动）

```
class Data(models.Model):
    user = models.ForeignKey(User, unique=True)
    name = models.CharField(max_length=255)
    is_good = models.BooleanField(default=False, null=True)
    date = models.DateTimeField(auto_now_add=True)
    reminder = models.DateTimeField() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T15:06:29.130

看看[factory_boy](https://github.com/dnerdy/factory_boy)。我想这可能是你正在寻找的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:19:29.720

django 创建测试数据的*官方*方法是夹具，您可以自己编写它们或使用任何夹具创建工具，如 autofixture。

我对夹具的发现是，如果您的模型发生变化，您需要手动更改夹具，这很容易出错并且有点痛苦。在 django 中使用多个模型进行测试有很多问题，你可能想检查一下：

*   [在 Django 中对紧密耦合模型进行单元测试](https://stackoverflow.com/questions/14029946/unit-testing-tightly-coupled-models-in-django/14085917#14085917)

*   [使用 Django 模型进行单元测试并涉及很多关系](https://stackoverflow.com/questions/11874071/unit-testing-with-django-models-and-a-lot-of-relations-involved/11960345#11960345)

如果你想在 django 中进行更深入的测试，这里有另一个非常好的

*   [在 Django 中测试“不同层”的最佳实践是什么？](https://stackoverflow.com/questions/11543117/what-are-the-best-practices-for-testing-different-layers-in-django)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T13:03:04.197

尝试一些[夹具生成应用程序](http://www.djangopackages.com/grids/g/fixtures/)。

# sql - 如何使用 MS SQL Server Management Studio 删除 SQL 数据库表中的前导空格

> ID：14501440
> 
> 赞同：18
> 
> 时间：2013-01-24T12:31:04.630
> 
> 标签：sql, sql-server

我将包含国家/地区的 Excel 工作表导入到数据库表中。

不幸的是，所有行都有一些前导空白。

那么，我怎样才能删除这些空白呢？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-01-24T12:38:11.047

这将删除前导和尾随空格

```
Update tablename set fieldName = ltrim(rtrim(fieldName)); 
```

某些版本的 SQL 支持

```
Update tablename set fieldName = trim(fieldName); 
```

如果您只想删除前导

```
update tablename set fieldName = LTRIM(fieldName); 
```

# ruby-on-rails - 使用 PostgreSQL 在 Heroku 上部署 rails 应用程序

> ID：14501441
> 
> 赞同：0
> 
> 时间：2013-01-24T12:31:05.007
> 
> 标签：ruby-on-rails, database, postgresql, heroku

我有应用程序在带有 postgres 的 Rails 上本地运行。一切正常。我是 Rails 新手，我想根据本指南在 heroku 上部署我的第二个应用程序： [https](https://devcenter.heroku.com/articles/rails3) ://devcenter.heroku.com/articles/rails3 当我创建新应用程序时，我看到它在工作，然后我推送了我的应用程序，但无法运行heroku run rake db:migrate -app "MY NEW APP NAME"，因为有很多错误。他们中有一些：

弃用警告：您在供应商/插件中有 Rails 2.3 风格的插件！

耙中止！发生错误，此迁移和所有后续迁移已取消：PG::Error: 错误：关系“订单”的“已确认”列已存在

当我尝试启动我的应用程序时，我看到：“我们很抱歉，但出了点问题。”。如果已经存在列，我猜它不应该在本地运行。可能出了什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T15:22:49.567

如果您不担心丢失 heroku 数据库中的数据，您可以尝试

```
heroku run rake db:reset --app YOUR_APP-NAME 
```

这将删除数据库中的所有表并从头开始重新运行所有迁移

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:42:36.247

弃用警告：您在供应商/插件中有 Rails 2.3 风格的插件！

由于 vendor/plugins 文件夹在 rails 3 中已弃用，并在 rails 4 中完全删除。因此，如果您在 vendor/plugins 文件夹中没有插件，那么您应该删除该文件夹。如果有任何插件 [http://code.coneybeare.net/how-to-convert-simple-rails-23-style-plugins](http://code.coneybeare.net/how-to-convert-simple-rails-23-style-plugins)。

您是否已经推送了数据库然后运行迁移？

# grails - 排除特定环境的插件

> ID：14501444
> 
> 赞同：6
> 
> 时间：2013-01-24T12:31:16.577
> 
> 标签：grails, grails-plugin

我正在使用 grails 2.1。

在为生产构建时，我需要排除一个插件。

[这篇](https://stackoverflow.com/questions/1783487/is-it-possible-to-exclude-grails-plugin-from-production-environment)文章提到了向插件添加范围。我相信这需要编辑单独的插件描述符？

我想定义要在一个位置排除的插件。

我尝试将以下内容添加到 config.groovy：

```
environments {
    production {
    plugin.excludes='grails-melody'
    }
} 
```

当我检查战争时，它仍然包含 WEB-INF/plugins 下的旋律文件夹。

我应该补充一点，大多数应用程序插件都在 application.properties 中指定，如下所示：

```
plugins.build-test-data=2.0.3
plugins.fixtures=1.1
plugins.geoip=0.2
plugins.grails-melody=1.12
etc... 
```

如何排除生产版本的特定插件？

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-24T12:48:34.790

在您的 buildConfig.groovy 中，您可以定义一个不导出的插件：

```
plugins {
  compile(':theplugin:theversion') {
    export = false
  }
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-05-31T11:29:03.983

让我在戒指中给出一个答案。类似于@hitty5 的提议，但有一些更改（和错误修复）。

对我们来说，在开发环境中工作时排除一些页面速度插件很重要，因为我们希望看到完整的资源。另一方面，我们不想复制应该在块之间的每台机器上的插件（就像你必须在 @hitty5 的解决方案中一样）。

```
plugins {
    runtime ":hibernate:$grailsVersion"
    // ... some more plugins that I want in every environment

    if (Environment.getCurrent() in [Environment.PRODUCTION, Environment.TEST]) {
        // plugins, that I only want on the test and production servers
        println("BuildConfig: including page speed optimization plugins.")
        runtime ":zipped-resources:1.0"
        compile ":cache-headers:1.1.5"
        runtime ":cached-resources:1.0"
        runtime ":yui-minify-resources:0.1.5"
    }

    // ... and more plugins, if you like
    build ":tomcat:$grailsVersion"

} 
```

希望这可以帮助。

一切顺利，fluxon

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-24T12:49:19.103

首先我推荐使用构建配置文件（BuildConfig.groovy）来解决你的插件依赖。在此文件中，您可以定义特定于 env 的块，例如：

```
if (environment == Environment.PRODUCTION){
    plugins {            
            compile ":<plugin>:<version>"
        }
    }
else {
        plugins {            
            compile ":<plugin>:<version>"
        }
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-01-29T16:58:48.823

在您的 BuildConfig.groovy 中，您可以定义一个不在特定环境中导出的插件：

```
 plugins {
      compile(':theplugin:theversion') {
         if (Environment.getCurrent() == Environment.PRODUCTION) {
            export = false
         }
      }
    } 
```

记得添加

```
import grails.util.Environment 
```

在 BuildConfig.groovy 的开头

# eclipse - 带有cordova的Eclipse上的Console.log抛出错误

> ID：14501445
> 
> 赞同：1
> 
> 时间：2013-01-24T12:31:16.427
> 
> 标签：eclipse, console, cordova

我刚刚开始使用 Cordova (2.3.0) 和 Eclipse 进行移动开发，当我尝试在 javascript 代码中记录控制台消息时，我在 Eclipse 日志中收到以下错误：

对象 [object DOMwindow] 的属性“控制台”不是函数。

我正在使用标准的 console.log('xxxx') 调用，但它不起作用。

* * *

# 解决了

**这是我的错。我试图在 deviceReady 之前调用控制台功能。让它工作。**

# java - Openoffice - 我尝试将文档插入 .ott 文件时出现“无法读取内容”异常。

> ID：14501447
> 
> 赞同：1
> 
> 时间：2013-01-24T12:31:30.320
> 
> 标签：java, openoffice.org

我正在尝试将 word 文档的内容插入到 .ott 文件中的占位符中。稍后将其保存为 pdf 文件。我收到以下堆栈跟踪的异常。

```
Caused by: com.sun.star.lang.WrappedTargetException: Can't read contents!
    at com.sun.star.lib.uno.environments.remote.Job.remoteUnoRequestRaisedException(Job.java:177)
    at com.sun.star.lib.uno.environments.remote.Job.execute(Job.java:143)
    at com.sun.star.lib.uno.environments.remote.JobQueue.enter(JobQueue.java:335)
    at com.sun.star.lib.uno.environments.remote.JobQueue.enter(JobQueue.java:304)
    at com.sun.star.lib.uno.environments.remote.JavaThreadPool.enter(JavaThreadPool.java:91)
    at com.sun.star.lib.uno.bridges.java_remote.java_remote_bridge.sendRequest(java_remote_bridge.java:639)
    at com.sun.star.lib.uno.bridges.java_remote.ProxyFactory$Handler.request(ProxyFactory.java:151)
    at com.sun.star.lib.uno.bridges.java_remote.ProxyFactory$Handler.invoke(ProxyFactory.java:133) 
```

产生问题的代码如下。

```
OOoInputStream inputStream = new OOoInputStream(docByteArray);

                embedDocPropValues[1] = new PropertyValue();
                embedDocPropValues[1].Name = "InputStream";
                embedDocPropValues[1].Value = inputStream; 
                //xcomponent = xcomponentloader.loadComponentFromURL("private:stream", "_blank", 0, props);

                iDocumentInsertable.insertDocumentFromURL("private:stream", embedDocPropValues); 
```

其中 OOoInputStream 类具有以下声明。

```
public class OOoInputStream extends ByteArrayInputStream implements XInputStream, XSeekable 
```

当尝试将 *.doc 插入模板时，实现工作文件，但使用 *.docx 文件时出现错误。

我目前正在使用 OpenOffice 3.3 和 java 1.5。

谁能帮我解决同样的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T08:51:59.193

Open office 的版主和管理员告诉我报告相同的错误，以便在将来的版本中修复。他们尝试过相同的方法，但也无法解决相同的问题。因此，任何面临类似此类问题的人都会密切关注未来的版本，并锁定问题是否得到解决。

# c# - 队列中的结构

> ID：14501451
> 
> 赞同：0
> 
> 时间：2013-01-24T12:31:49.140
> 
> 标签：c#

我有一个如下结构：

```
struct Add
{
    public static string url;
    public static string password;
    public static string fake_path;
    public static List<string> upload = new List<string>();
} 
```

从表格中我填写了所有这些变量。然后我需要将此结构添加到队列中。这个怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:34:09.187

尝试这个

```
System.Collections.Generic.Queue<Add> queue = new System.Collections.Generic.Queue<Add>();
// queue.Enqueue(new Add(...)); 
```

# graph - 在具有特定成本的无向图中查找路径

> ID：14501456
> 
> 赞同：4
> 
> 时间：2013-01-24T12:32:07.967
> 
> 标签：graph, complexity-theory, dijkstra, depth-first-search, backtracking

假设我们有无向加权图。我们的任务是找到两个顶点（源和目标）之间的所有路径，总成本等于 = N。我认为可以通过修改后的 Dijkstra 算法结合 BFS 或 DFS 来完成，但我不知道如何实现这样的事情。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T21:43:20.657

假设您有一个框架/库来创建图形数据结构并对其进行遍历，如果您越过资源限制，您可以进行回溯深度优先搜索并提前返回。在伪代码中：

```
void DFS(Vertex current, Vertex goal, List<Vertex> path, int money_left) {
  // oops
  if (money_left < 0) 
     return;

  // avoid cycles
  if (contains(path, current)
     return;

  // got it!
  if (current == goal)) {
     if (money_left == 0)
         print(path);
     return;
  }

  // keep looking
  children = successors(current); // optionally sorted from low to high cost
  for(child: children)          
      DFS(child, add_path(path, child), money_left - cost(child));      
} 
```

然后你可以把它称为`DFS(start, goal, List<Vertex>(empty), N)`

# windows-runtime - WinRT 类库和 Windows Phone 8 之间的兼容性如何？

> ID：14501457
> 
> 赞同：0
> 
> 时间：2013-01-24T12:32:08.300
> 
> 标签：windows-runtime, windows-phone-8

我想要一个可以在 WinRT 和 Windows Phone 8 下运行的类库。我需要做什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T19:54:58.667

+1 对 Cerebrate 的回答。可移植类库是要走的路。

然而，PCL 并不是一根魔杖，它不会弥合 WP8 和 Win8 之间的许多不一致之处。对于更多的核心代码共享，您需要考虑共享 C# 文件、添加条件编译和许多其他技巧。诺基亚有一篇关于 WP7 和 WP8 代码共享的精彩文章，也适用于这种情况@http [://www.developer.nokia.com/Resources/Library/Lumia/#!co-development-and-porting-guide。 html](http://www.developer.nokia.com/Resources/Library/Lumia/#!co-development-and-porting-guide.html)

还有这篇具有类似意图的伟大的诺基亚维基文章@ [http://www.developer.nokia.com/Community/Wiki/Maintaining_a_WP7_and_WP8_version_of_a_same_Silverlight_application](http://www.developer.nokia.com/Community/Wiki/Maintaining_a_WP7_and_WP8_version_of_a_same_Silverlight_application)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T12:36:23.873

为此，您需要将您的类库构建为可移植类库，这将创建一个可在多个平台上运行的程序集。（否则，WinRT 和 Windows Phone 8 的程序集本质上是不可互换的。）

Visual Studio 2012 包含一个项目类型，可让您轻松完成此操作；还有一个可下载的工具集可以在 VS 2010 上执行此操作。

可用的框架功能仅限于在您支持的所有平台上可用的功能的子集。

完整的详细信息可从 MSDN 获得，这里：http: [//msdn.microsoft.com/en-us/library/gg597391.aspx](http://msdn.microsoft.com/en-us/library/gg597391.aspx)

# ajax - 在 windows phone 7 中使用 phonegap-2.3.0 fileSystem 对象为空或未定义

> ID：14501463
> 
> 赞同：0
> 
> 时间：2013-01-24T12:32:29.860
> 
> 标签：ajax, cordova, jquery-mobile

在我们的应用程序中，我们正在读取一个文件以使用 phonegap 文件系统获取消息详细信息。它主要在android中工作，但在windows phone 7中，当我读取相同的文件时，文件系统经常得到“空或未定义”。我将在下面粘贴我的代码以供参考。

```
this.getMessageContent = function(){
    window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFileSystemSuccess, onProcessFailure);
};

function onFileSystemSuccess(fileSystem){
    fileSystem.root.getFile("/app/www/Notifications.txt", null, gotFileEntry, onProcessFailure);
    console.log("File system name"+fileSystem.name);
    console.log("File root name"+fileSystem.root.name);
}

function gotFileEntry(fileEntry) {
    fileEntry.file(readFileContent, onProcessFailure);
}

 function readFileContent(file) {
    console.log("File Size-->"+file.size);
    console.log("File url-->"+file.fullPath);
    var reader = new FileReader();
    reader.onloadend = function(evt) {
        console.log("Read as text");
        var contentLength = evt.target.result;
        if(evt.target.result){
            console.log("File Content Non-Empty-->"+evt.target.result);
        }else{
            console.log("File Content Empty-->"+evt.target.result);
        }
    };
    reader.readAsText(file);
}

function onProcessFailure(e) {
  var msg = '';

  switch (e.code) {
    case FileError.QUOTA_EXCEEDED_ERR:
      msg = 'QUOTA_EXCEEDED_ERR';
      break;
    case FileError.NOT_FOUND_ERR:
      msg = 'NOT_FOUND_ERR';
      break;
    case FileError.SECURITY_ERR:
      msg = 'SECURITY_ERR';
      break;
    case FileError.INVALID_MODIFICATION_ERR:
      msg = 'INVALID_MODIFICATION_ERR';
      break;
    case FileError.INVALID_STATE_ERR:
      msg = 'INVALID_STATE_ERR';
      break;
    default:
      msg = 'Unknown Error';
      break;
  };

  console.log('Notification File Related Error: ' + msg);
} 
```

上面的代码有时可以正常工作，有时会抛出以下错误

```
Log:"Error in error callback: File672824422 = TypeError: Unable to get value of the property 'getFile': object is null or undefined" 
```

phonegap fileSystem 对象经常变为 null 或未定义。

我有一个链接，点击我正在调用函数 this.getMessageContent() 来读取文件。我无法弄清楚文件系统对象如何在 windows phone7 中频繁地变为空或未定义。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T19:55:10.100

您可以尝试使用其他方法访问该文件

```
var xhr = new XMLHttpRequest();

xhr.open('GET', 'Notifications.txt', false);
xhr.onreadystatechange = function () {
  if (xhr.readyState == 4) {
    if (xhr.status == 200) { 
        console.log(xhr.responseText); 
      }

    }
}

xhr.send(null); 
```

# html - html Table td 元素失去焦点处理

> ID：14501473
> 
> 赞同：1
> 
> 时间：2013-01-24T12:33:24.773
> 
> 标签：html, asp.net-mvc, razor

我有一个 html 表。该表的每一行都有两个使用以下语法创建的文本框

```
 @Html.TextBoxFor(m => m.Temprature, new { size = 4, data_Target_Input = "Temprature" })

            </td> 
```

@Html.TextBoxFor(m => m.Temprature, new { size = 4, data_Target_Input = "Temprature" })

一个文本框以摄氏度为单位，一个以法伦海特为单位。因此，当我在摄氏度盒子中输入温度值时，我希望 Farenhite 盒子在我的摄氏度盒子失去焦点时具有转换后的值。但我无法处理焦点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:39:51.993

```
$('#celciusBox').blur(function() {
  var temp = // code for data conversion
  $('#farenhiteBox').val(temp)
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:01:57.037

```
//use this one 

<script>
    $('#Temprature').blur(function () { 
    var temp =  $('#Temprature').val() * 1.8 + 32;
    $('#Temprature1').val(temp); }); 
    }
</script> 
```

# c++ - Visual C++ 错误 C3867 和 C2664

> ID：14501474
> 
> 赞同：1
> 
> 时间：2013-01-24T12:33:25.810
> 
> 标签：c++, class, function-pointers

```
#define UCHAR unsigned char

typedef bool (*FUNC)(UCHAR uc1, UCHAR uc2);
typedef void(*PF)(FUNC, UCHAR*);
PF    Assign;

class Class  {
    private:
       UCHAR buf[32];
       bool func(UCHAR c1, UCHAR c2)  { }

    public:
       Class::Class(void)  {
          Assign( func, buf );         // <<< Microsoft VC++ error C3867
       }

       Class::~Class()  { }
}; 
```

> 错误 C3867：“Class::func”：函数调用缺少参数列表；使用 '&Class::func' 创建指向成员的指针

如果我尝试上面错误消息中的建议

> 赋值(&Class::func, buf); // <<< Microsoft VC++ 错误 C2664

我收到此错误：

> 错误 C2664: 'void (FUNC,unsigned char *)' : 无法将参数 1 从 'bool (__thiscall Class::* )(unsigned char,unsigned char)' 转换为 'FUNC' 没有可以进行此转换的上下文

在不更改任何其他内容的情况下，我如何才能编译此 Assign() 函数？这些 typedef 来自我需要与之交互的库。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:38:25.590

type-aliases并不是成员函数的指针`FUNC`，`PF`只能用来指向*静态*成员函数。原因是所有非静态成员函数都具有`this`指针的隐式第一个参数。

如果您需要通用函数“指针”，您应该查看[`std::function`](http://en.cppreference.com/w/cpp/utility/functional/function)：

```
typedef std::function<bool(UCHAR uc1, UCHAR uc2)> FUNC;
typedef std::function<void(FUNC, UCHAR*)> PF;
PF    Assign;

Class::Class(void)  {
    Assign( std::bind(&Class::func, *this), buf );
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:36:56.070

`func`是一个非静态成员函数，所以它的类型是`bool (Class::*)(UCHAR, UCHAR)`, 而`Assign`需要`bool (*)(UCHAR, UCHAR)`. 您不能将非静态成员函数转换为非成员函数。

为了能够传递`func`到`Assign`，您必须将其设为`func`静态。

# android - TestCase 类 junit.extensions.ExceptionTestCase 缺少没有参数或单个字符串参数的公共构造函数

> ID：14501477
> 
> 赞同：4
> 
> 时间：2013-01-24T12:33:40.180
> 
> 标签：android

上下文：Windows 7 操作系统，最新的 Android ADT IDE，robotium jar 文件，Android

查询：我创建了一个 testrobotium 类，它在作为 android junit 执行时，应该触发 AUT，即 android 应用程序。在将 testrobotium 类作为 android junit 执行时，我在 logcat 中收到以下错误：

```
01-24 12:17:44.708: I/TestGrouping(2235): TestCase class junit.extensions.ExceptionTestCase is missing a public constructor with no parameters or a single String parameter - skipping
01-24 12:17:44.790: I/TestRunner(2235): started: null(com.sap.esm.retail.test.InitialTest) 
```

InitialTest 类的代码（包括构造函数）如下所示：

```
package com.sap.esm.retail.test;

import android.test.ActivityInstrumentationTestCase2;
import android.util.Log;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.TextView;

import com.jayway.android.robotium.solo.Solo;
import com.sap.esm.retail.MobileRetailingActivity;
import com.sap.esm.retail.OrderSumaryActivity;
import com.sap.esm.retail.ProductDetailsActivity;
import com.sap.esm.retail.ShippingDetailsActivity;

import com.sap.esm.retail.R;

public class InitialTest extends
        ActivityInstrumentationTestCase2<MobileRetailingActivity> {

    public Solo solo;
    private TextView cartNo;
    private ImageView Img;
    private String actualTot;

    public InitialTest(String name) throws ClassNotFoundException {
        super(MobileRetailingActivity.class);
    }

    protected void setUp() throws Exception {
        super.setUp();
        solo = new Solo(getInstrumentation(),getActivity());
    }

    protected void tearDown() throws Exception {
        super.tearDown();
    }

........... 
```

因此，我认为构造函数存在一些问题。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:51:39.300

您必须在构造函数中提供应用程序包，请看这里： [http](http://code.google.com/p/robotium/wiki/Getting_Started) ://code.google.com/p/robotium/wiki/Getting_Started 它应该如下所示：

```
public InitialTest() {
     super("com.sap.esm.retail", MobileRetailingActivity.class);
} 
```

# macos - 元素在 OS X WebView 中的速度是 Safari 6 的两倍

> ID：14501491
> 
> 赞同：1
> 
> 时间：2013-01-24T12:34:20.053
> 
> 标签：macos, cocoa, canvas, webview, safari

我有一个 WebView (OS X) 加载一个 html 文件，其中只有一个我想要做一些绘图的画布元素。

出乎意料的是，与仅在 Safari 中打开文件相比，在 WebView 中的帧速率约为 50%。

为了进一步测试这一点，我运行了[这个画布基准测试](http://www.kevs3d.co.uk/dev/asteroidsbench/)，结果相同：

**Safari** 基准分数：3652 平均 FPS：77

**WebView** 基准分数：1733 平均 FPS：37

这似乎与 JavaScript 无关。运行[Octane JavaScript Benchmark](http://octane-benchmark.googlecode.com/svn/latest/index.html)我在 WebView 和 Safari 中得到几乎相同的分数。

如果您想自己尝试一下，[这里有一个演示项目。](https://dl.dropbox.com/u/368222/WebView%20%26%20Canvas.zip)只需在 AppDelegate.m 中选择您想要运行的测试。

我的印象是 Safari 使用的是我们开发人员使用的相同 WebView？有谁知道为什么在 WebView 中渲染画布如此缓慢以及我能做些什么来解决它？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-04-01T18:59:55.913

您可以通过设置使用 webview 的应用程序的默认值来启用优化渲染。类似于启用 WebDeveloperExtras，您可以使用它`defaults write`来启用加速画布渲染。对我来说，以下标志提高了性能：

```
defaults write <bundle.id> WebKitAccelerated2dCanvasEnabled -bool true
defaults write <bundle.id> WebKitAcceleratedDrawingEnabled -bool true
defaults write <bundle.id> WebKitCanvasUsesAcceleratedDrawing -bool true 
```

或者，您可以将私有方法添加到`WebPreferences`接口：

```
@interface WebPreferences (WebPrivate)
...
- (BOOL)accelerated2dCanvasEnabled;
- (void)setAccelerated2dCanvasEnabled:(BOOL)enabled;

- (BOOL)acceleratedDrawingEnabled;
- (void)setAcceleratedDrawingEnabled:(BOOL)enabled;

- (BOOL)canvasUsesAcceleratedDrawing;
- (void)setCanvasUsesAcceleratedDrawing:(BOOL)enabled;

- (BOOL)acceleratedCompositingEnabled;
- (void)setAcceleratedCompositingEnabled:(BOOL)enabled;
...
@end 
```

然后以编程方式使用它：

```
WebPreferences* prefs = [webView preferences];
[prefs setAccelerated2dCanvasEnabled:YES];
[prefs setAcceleratedDrawingEnabled:YES];
[prefs setCanvasUsesAcceleratedDrawing:YES];
[prefs setAcceleratedCompositingEnabled:YES];
[webView setPreferences:prefs]; 
```

# web-services - Spring Webservice 客户端 - 创建问题

> ID：14501494
> 
> 赞同：1
> 
> 时间：2013-01-24T12:34:28.383
> 
> 标签：web-services, spring, jaxb2

我是 Spring 新手，所以如果这看起来很明显，我深表歉意。我正在尝试创建一个调用我的 web 服务的 JUnit 测试用例。我想我终于明白了我应该做的事情的要点，但不断出错。我有一个基本的测试类：

```
@RunWith(SpringJUnit4ClassRunner.class)<br>
@ContextConfiguration(locations={"/test.xml"})
public class Tester {
private WebServiceTemplate service;
@Test
public void testEntityWS(){
    EntityDetailsRequest request = new ObjectFactory().createEntityDetailsRequest();
    EntityDetailsRequest.CallerReference callerReference = new EntityDetailsRequest.CallerReference();
    callerReference.setAuthenticationToken("ASD345F8F9");
    callerReference.setRequestingEntity(123456l);
    request.setCallerReference(callerReference);
    request.setSchemaVersion(new Float(1.0));
    request.setLegalReferenceNumberType("123456");

    EntityDetailsResponse response = (EntityDetailsResponse) service.marshalSendAndReceive(request);
    System.out.println("DONE");
    System.out.println(response.getEntityNumber());
} 
```

}

这是我的 Spring 配置：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:oxm="http://www.springframework.org/schema/oxm"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm-1.5.xsd">

<oxm:jaxb2-marshaller id="Jaxb2.marshaller" contextPath="za.co.discovery.finance.card.xml"/>

<bean class="org.springframework.ws.client.core.WebServiceTemplate" id="entityService">
    <property name="defaultUri" value="http://localhost:7001/entities/services/entityWebservice"/>
    <property name="marshaller" ref="Jaxb2.marshaller"/>
    <property name="unmarshaller" ref="Jaxb2.marshaller"/>
</bean>

<bean class="za.co.discovery.services.TestEntitiesWS" id="testEntitiesWS">
    <property name="service" ref="entityService"/>
</bean> 
```

首先 - 这是正确的吗？这就是我调用网络服务（由另一方公开）所要做的全部。然后 - 我收到以下错误。这是服务属性上的空指针异常。所以看起来配置文件永远不会注入服务？这可能吗？任何想法为什么会发生这种情况？（我用来获取 JaxB 异常 - 所以我知道它进入了配置文件）。

PS：如果有人感兴趣，这是完整的堆栈跟踪：

```
java.lang.NullPointerException
    at Tester.testEntityWS(Tester.java:34)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)
    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
    at org.junit.runner.JUnitCore.run(JUnitCore.java:157)
    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:71)
    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:199)
    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:62)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120) 
```

# c# - FileHelpers 报价问题

> ID：14501495
> 
> 赞同：1
> 
> 时间：2013-01-24T12:34:30.817
> 
> 标签：c#, csv, filehelpers

考虑到这个文件：

```
"firstName"",lastName
fn1,ln1
fn2
fn3,ln3
fn4,ln4 
```

是否有可能忽略所有引号？这是我的代码：

```
 [DelimitedRecord(",")]
    public partial class Person
    {
        //[FieldQuoted]
        private string firstName;

        [FieldNullValue("default first name")]
        //[FieldQuoted]
        private string lastName;

        [FieldNotInFile]
        private string city;

        public string FirstName
        {
            get { return firstName; }
            set { firstName = value; }
        }

        public string LastName
        {
            get { return lastName; }
            set { lastName = value; }
        }

        public string City
        {
            get { return city; }
            set { city = value; }
        }
    }   

            ExcelStorage provider = new ExcelStorage(typeof(Person));
            provider.FileName = "data.csv";
            System.Data.DataTable datTable = provider.ExtractRecordsAsDT(); 
```

DataTable 将仅包含具有以下值的 1 行：

```
{object[2]}
    [0]: "firstName\",lastName\r\nfn1,ln1\r\nfn2\r\nfn3,ln3\r\nfn4,ln4\r\n"
    [1]: "default first name" 
```

我真的不明白 FieldQuoted 属性是什么，无论有没有它，无论我在文件中的哪个位置放置引号，我都会得到相同的结果

编辑：如果我使用

"名字",姓氏 fn1,ln1 fn2 fn3,ln3 fn4,ln4

它忽略引号，没关系

但如果我使用

```
""firstName"",""lastName""
fn1,ln1
fn2
fn3,ln3
fn4,ln4 
```

我得到了第一行的这个结果

```
[0]: "firstName\"\""
[1]: "lastName\"\"" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:40:46.730

尝试使用该`FieldQuoted`属性。

```
[FieldQuoted('"', QuoteMode.AlwaysQuoted, MultilineMode.NotAllow)] 
```

您可能需要尝试[此处描述](http://www.filehelpers.com/attributes.html)的设置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:36:40.203

您输入的数据无效。至少，关于报价。CSV 中的字段只能在双引号 ( `""`) 和引号内包含嵌入的引号，*并且*它们也可以包含嵌入的换行符。

这正是您在这里看到的。下面的两个引号`firstName`是嵌入的引号，并且由于您永远不会用另一个引号关闭引用的字段，因此整个文件被解析为就好像它是单个字段一样。

# javascript - Ember 应用程序性能

> ID：14501497
> 
> 赞同：1
> 
> 时间：2013-01-24T12:34:32.020
> 
> 标签：javascript, ember.js, handlebars.js

这可能非常愚蠢，但我不能怀疑，在 ember 中，我们使用 javascript 的车把模板编写所有 HTML，所以如果我有 n 个**不同的**页面，那么我会说 n 个车把模板，每个模板也是一个对象（我使用了构建工具，所以我有这个`Ember.TEMPLATES`存储我所有模板的哈希）

更多模板 =>`Ember.TEMPLATES`哈希中的更多属性 => 我的 App.js 的大小会更大，也有很多内存用于保存该哈希

第一个疑问是，由于我们一次性交付整个 javascript，它会增加应用程序的加载时间，优点是加载后 Web 应用程序的交互速度要快得多

此外，尽可能多的内存用于保存哈希，Web 应用程序将使用大量资源。

首先，我的假设有什么问题吗？如果不是，那么这是我们为拥有许多交互式 Web 应用程序而付出的代价吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T14:54:16.003

我认为这完全取决于您加载其他资源的方式。是的，JavaScript 的加载时间比客户端中未构建的 Web 应用程序的 JavaScript 的加载时间要长。

但请记住，这个加载时间仍然明显少于“普通”应用程序的“总”加载时间，其中用户访问的每个页面都会创建另一个 HTTP 请求，因此必须一遍又一遍地重新加载其 JavaScript。

此外，由于 Ember 是异步的，因此您可以设计您的应用程序，使其最初加载较少的其他外部资源（图像、数据等），并使用 DS.Store 机制将它们拉入，因此您的初始加载时间可以是只有 JS/HTML/CSS 和其他一切都可以稍后出现（不再等待服务器上昂贵的数据库查询）。

所以是的，Ember 确实等于更多的初始 JavaScript 加载时间，但它为您提供了降低应用程序总加载时间的工具。

至于浏览器资源，Ember 非常高效，但使用更多浏览器内存只是我们在客户端机器上而不是在我们自己的服务器上进行计算所付出的代价。这个想法是*大多数*现代浏览器和机器都足以处理这种额外的资源需求，因此权衡变得值得。

编辑：

可能是您的应用程序太大，浏览器无法处理，无论您做什么（尽管您的应用程序必须非常庞大才能成为这种情况）。在这种情况下，解决它的一种方法是将其分成多个 Ember 应用程序，这样可以最大限度地减少用户在 Ember 应用程序之间来回切换。也许是一个处理登录、营销、查看内容等的“公共”应用程序和一个处理后端帐户页面的“私人”应用程序。

# java - 简单的计算器不打印答案？

> ID：14501499
> 
> 赞同：1
> 
> 时间：2013-01-24T12:34:39.140
> 
> 标签：java

我的程序不工作。你觉得哪里不对？

```
Scanner in = new Scanner(System.in);
    System.out.print("Enter first number: ");
    double num1 = in.nextDouble();
    System.out.print("Enter second number: ");
    double num2 = in.nextDouble();
    System.out.println("Enter operation to perform: ");
    String oper = in.next();

    if(oper == "add" || oper == "addition" || oper == "+") {
        double sum = num1 + num2;
        System.out.printf("The sum of the two numbers is %d", sum);
    } 
```

当我键入操作（这是一个字符串）时，程序终止。输出：

```
Enter first number: 12
Enter second number: 8
Enter operation to perform: 
"add"

Process completed. 
```

我似乎找不到错误，请帮助？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T12:36:05.147

永远不要将字符串与运算符进行比较`==`——这是一个严重的错误。改用`equals`：

`if(oper.equals("add") || oper.equals("addition") || oper.equals("+")) {`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T12:36:30.600

不要使用`==`equals 方法：

```
if(oper.equals("add") || oper.equals("addition") || oper.equals("+")) 
```

`==`运算符用于比较内存空间中的地址，而不是被比较字符串的内容

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-24T12:36:37.637

不要使用`==`. 始终使用`equals()`：

```
if("add".equals( oper ) || "addition".equals( oper ) || "+".equals( oper ) ) {

// ...
} 
```

与`==`您比较对象引用（或原始类型）。字符串是 Java 中的对象，因此当您比较`oper`和时`add`，它们都指向不同的对象。因此，即使它们包含相同的值，与的比较`==`也会失败，因为它们仍然是不同的对象。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-24T12:40:19.560

做所有其他人所说的：使用`equals`或什至`equalsIgnoreCase`. （对此有很好的解释，所以在其他答案中。在这里重复它会很愚蠢。）

并在控制台中键入不带“的“添加”。

只有两者都做才会奏效。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-24T12:36:46.303

使用`equals(..)` not比较字符串`==`

代替

```
if(oper == "add" || oper == "addition" || oper == "+") { 
```

经过

```
if(oper.equals("add") || oper.equals("addition") || oper.equals("+")) { 
```

`==`比较相同的参考不同的内容。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-24T12:36:12.823

```
if(oper == "add" || oper == "addition" || oper == "+") { 
```

应该

```
if(oper.equals("add") || oper .equals("addition") || oper.equals("+")) { 
```

使用`.equals`方法检查两个字符串是否**有意义地相等**，`==`运算符只检查两个引用变量是否引用同一个实例。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-01-24T12:36:15.857

不要比较`String`s 使用`==`. 改为使用`equals`。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-24T12:37:39.810

用这个

```
 if("add".equals(oper)  || "addition".equals(oper) || "+".equals(oper)) {
double sum = num1 + num2;
        System.out.printf("The sum of the two numbers is %d", sum);
    } 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-01-24T12:51:08.117

除了使用`equals()`or 还是更好`equalsIgnore()`的代替`==`for 字符串之外，您还需要输入`add`in `command-line`instead of `"add"`。

否则，您必须将其比较为：

```
oper.equals("\"add\"") 
```

另外，你似乎是有`C`背景的。通常在 Java 中，人们会使用：

```
System.out.println("The sum of the two numbers is " + sum); 
```

代替

```
System.out.printf("The sum of the two numbers is %d", sum); 
```

因为`%d`打印`integer`价值和`not double`价值。

# python - 有没有办法通过 pip install 运行 2to3？

> ID：14501502
> 
> 赞同：3
> 
> 时间：2013-01-24T12:34:49.240
> 
> 标签：python, pip, requirements.txt, python-2to3

我正在尝试使用`pip install -r requirements.txt`. 但是，一些必需的包不直接支持 Python 3，但可以使用`2to3`.

有没有办法强制在这些包上自动`pip`运行？`2to3``pip install -r requirements.txt`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T12:38:58.950

不，它需要成为包设置配置的一部分。请参阅[使用 Distribute 同时支持 Python 2 和 3](https://pythonhosted.org/setuptools/python3.html)。

您将元数据添加到包安装程序：

```
setup(
    name='your.module',
    version = '1.0',
    description='This is your awesome module',
    author='You',
    author_email='your@email',
    package_dir = {'': 'src'},
    packages = ['your', 'your.module'],
    test_suite = 'your.module.tests',
    use_2to3 = True,
    convert_2to3_doctests = ['src/your/module/README.txt'],
    use_2to3_fixers = ['your.fixers'],
    use_2to3_exclude_fixers = ['lib2to3.fixes.fix_import'],
) 
```

这样的包将`2to3`在安装到 Python 3 系统时自动运行。

`2to3`是一个工具，而不是灵丹妙药，你不能将它应用于`pip`从 PyPI 下载的任意包。包需要以它的编码方式支持它。因此，自动运行它`pip`是行不通的；责任在于包维护者。

请注意，仅仅因为`2to3`在包上成功运行，它不一定遵循包将在 Python 3 中工作。当您实际开始使用包时，通常会出现关于字节与 unicode 的假设。

联系你感兴趣的包的维护者，询问 Python 3 包的状态。为他们提供补丁通常会有所帮助。如果此类请求和提供的帮助被置若罔闻，对于开源软件包，您始终可以分叉它们并自行应用必要的更改。

# automation - Watir 中的移动应用程序测试

> ID：14501503
> 
> 赞同：2
> 
> 时间：2013-01-24T12:34:54.813
> 
> 标签：automation, automated-tests, watir, watir-webdriver, ios-ui-automation

我一直在尝试找到 WATIR/Webdriver gem 来自动化移动应用程序。到目前为止，我成功地找到了移动网站测试的资源，但找不到像 seeTest (expitest.com) 提供的移动应用程序自动化测试。例如，我有一部 iPhone，它上面安装了井字游戏应用程序。我想通过 Watir/Webdriver 或任何其他可用于从 iphone 启动应用程序并开始播放的 gem 来自动化它。

我们可以在 watir 中完成这样的用例吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T14:14:03.393

Watir（和 Selenium）只能自动化浏览器（包括移动设备上的浏览器）。如果您需要自动化原生移动应用程序，请查看[appium](https://github.com/appium/appium)、[calabash](https://github.com/calabash)、[Frank](https://github.com/moredip/Frank)或[robotium](http://code.google.com/p/robotium/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-04T21:46:58.633

到目前为止，Appium 中似乎仍然不支持 watir。虽然它对 selenium 有好处，但缺点是您不能使用页面对象 gem。

# c# - 数字向上和列表框的 Winforms 性能问题

> ID：14501509
> 
> 赞同：-1
> 
> 时间：2013-01-24T12:35:09.633
> 
> 标签：c#, performance, listbox, numericupdown

在我的 Win forms 应用程序中，我有一个向上向下的数字和一个列表框。当我在数字上下增加/更改值时，在列表框中添加了许多行。

例如。当我的数字中的值“1”向下时，我将值更改为更大的数字，比如“300”，它会在列表框中添加 300 行，但它需要大量时间来完成。

有什么办法可以减少这个时间。任何帮助，将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:38:10.547

您可以尝试创建将首先添加的必要数据（或控件），也可以在 Parallel.ForEach 中创建，然后添加所有这些数据。

否则，只有 WPF 中可用的数据虚拟化之类的东西会有所帮助，但我不知道 WinForms 中是否存在。

* * *

尝试“按需”添加它们。只添加必要的一些可见的，再加上一些，当使用向下滚动时，再添加一些，依此类推。

# nginx - Nginx 图像过滤器固定高度并设置最大宽度以仅在需要时裁剪

> ID：14501510
> 
> 赞同：1
> 
> 时间：2013-01-24T12:35:24.120
> 
> 标签：nginx

我正在尝试在我的网站上设置图像轮播 - 我需要处理大多数图像尺寸（通常是 16:9、4:3 和纵向）。

为此，我们要将图像高度固定为 90 像素，如果它恰好比 120 宽，我更愿意裁剪多余的位。虽然如果它小于120，我不介意。

为此，我希望此配置能够正常工作。

```
location /myimage/x90/ {
    proxy_pass                      http://imagestore/;
    image_filter                    resize - 90;
    image_filter                    crop   120 -;
    image_filter_buffer             5M;
    image_filter_jpeg_quality       100;
    error_page                      415   = /empty;
    proxy_set_header                Host    $origin_host;
} 
```

我预计会发生调整大小（使其高 90 并保持纵横比）。然后作物发生并保持那个高度。

但是，裁剪似乎阻止了调整大小的发生，我得到的只是一张 120 宽的图像，非常高。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T20:46:49.817

根据[文档](http://nginx.org/en/docs/http/ngx_http_image_filter_module.html#image_filter)，图像过滤器操作按顺序发生：**crop**、**rotate**、**resize**。
我不知道有任何解决方法。您*也许*可以调整大小，然后重定向和裁剪？

**2015/08/11 更新：**文档似乎发生了变化，新的操作顺序似乎是：**resize、rotate、crop**。

# java - 从 Ubuntu 10.04 LTS 升级到 12.04 LTS 后，Eclipse SVN 提交“失败”

> ID：14501515
> 
> 赞同：1
> 
> 时间：2013-01-24T12:35:39.890
> 
> 标签：java, eclipse, svn, ubuntu, configuration

在从 Ubuntu 10.04LTS 升级到 12.04LTS 时，我们保留了所有必要的配置文件（svn、trac、apache2）。起初一切似乎都很好。我们仍然可以使用最新版本的 subclipse 1.8.18 连接到 Trac 和 SVN，签出和更新文件，但是在提交对 SVN 的更改时，所有客户端总是会收到以下消息：

```
 RA layer request failed
svn: Commit failed (details follow):
svn: MERGE of '/svn/some/path': 200 OK (http://our.server.ip.here) 
```

奇怪的是，提交数据实际上是有效的，但 eclipse 不知何故无法识别这一点，这显然与上面显示的错误有关。我检查了几个配置文件，将它们与几个指南进行了比较，“如何将 svn/trac 安装到 ubuntu”，但一切似乎都很好。我还尝试了团队清理和刷新我的项目，就像其他有同样问题的帖子中所建议的那样，但没有成功。

谁能指出我关于这个错误的正确方向？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T13:48:55.217

如果有人遇到同样的问题，这里我们是如何解决的：

在从 Ubuntu 10.04 升级到 12.04 LTS 期间，Ubuntu 重新安装了 trac 版本 0.12，而不是保留版本 1.xx 。这导致我们的 CommitHooks 失败，因为 trac 0.12 不支持多个项目。

将 trac 从版本 0.12 重新升级到 1.xx 后，它又可以正常工作了！

# java - 如何在java中比较2个不同的数据库列数据类型

> ID：14501523
> 
> 赞同：1
> 
> 时间：2013-01-24T12:36:10.620
> 
> 标签：java

就我而言，我必须比较 2 个不同数据库的列数据类型。以下是示例代码。

```
ResultSetMetaData metadataSrc = Src_rs.getMetaData(); // here Src_rs is source resultset
ResultSetMetaData metadataTar= Tar_rs.getMetaData();   // here Tar_rs is target resultset
int countSrc = metadataSrc.getColumnCount();
for (int i = 1; i <= countSrc; i++) {
String srcOracleType=metadataSrc.getColumnTypeName(i);
String tarMySqlType = metadataTar.getColumnTypeName(i);
} 
```

在这里我要检查`srcOracleType`是否等于`tarMySqlType`。如果它相同，我想继续执行，否则需要返回 false。

当我尝试在 MySQL 和 Oracle 中使用 datatype 创建表时，此查询开始`int`。当我检索数据库数据类型时，通过 Java Jdbc 代码，对于 oracle 它给出了它`NUMBER`，对于 mysql 它给出了`LONG`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:49:24.800

[从 API ( http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/ResultSetMetaData.html](http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/ResultSetMetaData.html) )中提取：

```
getColumnTypeName(int column)
     Retrieves the designated column's database-specific type name. 
```

你可以使用：

```
getColumnClassName(int column)
      Returns the fully-qualified name of the Java class whose instances are manufactured if the method ResultSet.getObject is called to retrieve a value from the column. 
```

通过比较 Java 中的“转换”而不是比较特定于数据库的行类型会更容易。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-01-29T14:36:04.467

有点晚了。

确认源编号和目标编号是否都映射到您的应用程序域中的相同数量。如果他们不这样做，他们就没有可比性。

如果是这样，那么您需要使用以下规则找到有效的 java 类型：

1.  如果其中一个是整数数据类型（byte, int, short, int, log, big integer, boolean），另一个是实数数据类型（float / double / big double），那么有效的java sql类型就是整数数据类型。
2.  如果两者都是整数数据类型，则选择范围更小的那个（例如：short 的范围比 int 更小）。
3.  如果两者都是真实数据类型，则选择具有较小范围的数据类型。

将两个值都转换为有效的数据类型（实际只需要转换一个）并进行比较。

# ruby-on-rails - 为什么我的 Vim 在 rails 目录中变慢了？

> ID：14501526
> 
> 赞同：0
> 
> 时间：2013-01-24T12:36:15.707
> 
> 标签：ruby-on-rails, vim, rails.vim

我注意到在我的 Rails 项目中，vim 大约从 2 秒开始。

我调查了这个问题，我知道这是因为 rails.vim 插件。

这是我来自 vim 的日志：[https ://gist.github.com/807735fb2dd4bd82656b#file-vim-in-rails-dir-log-L97](https://gist.github.com/807735fb2dd4bd82656b#file-vim-in-rails-dir-log-L97)

有没有机会改善启动时间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T17:43:14.083

问题在于 Vim 的 bundler.vim 插件。我在 Github 上打开了问题： [https ://github.com/tpope/vim-bundler/issues/15](https://github.com/tpope/vim-bundler/issues/15)

# angularjs - angularjs 指令教程

> ID：14501532
> 
> 赞同：4
> 
> 时间：2013-01-24T12:36:28.430
> 
> 标签：angularjs

我是 angularjs 的新手，我想了解指令的作用，但我找不到具有不同示例的复杂性教程，如果我可以在指令中移动以下代码，我会很好奇。

```
 // hide the url bar 
    var page = document.getElementById('page'),
    ua = navigator.userAgent,
    iphone = ~ua.indexOf('iPhone') || ~ua.indexOf('iPod'),
    ipad = ~ua.indexOf('iPad'),
    ios = iphone || ipad,
    // Detect if this is running as a fullscreen app from the homescreen
    fullscreen = window.navigator.standalone,
    android = ~ua.indexOf('Android'),
    lastWidth = 0;

    if (android) {
        // Android's browser adds the scroll position to the innerHeight.
        // Thus, once we are scrolled, the page height value needs to be corrected in case the     page is loaded
        // when already scrolled down. The pageYOffset is of no use, since it always
        // returns 0 while the address bar is displayed.
        window.onscroll = function () {
            page.style.height = window.innerHeight + 'px'
        }
    }
    var setupScroll = window.onload = function () {
        // Start out by adding the height of the location bar to the width, so that
        // we can scroll past it
        if (ios) {
            // iOS reliably returns the innerWindow size for documentElement.clientHeight
            // but window.innerHeight is sometimes the wrong value after rotating
            // the orientation
            var height = document.documentElement.clientHeight;
            // Only add extra padding to the height on iphone / ipod, since the ipad
            // browser doesn't scroll off the location bar.
            if (iphone && !fullscreen) height += 60;
            page.style.height = height + 'px';
        } else if (android) {
            // The stock Android browser has a location bar height of 56 pixels, but
            // this very likely could be broken in other Android browsers.
            page.style.height = (window.innerHeight + 56) + 'px'
        }
        // Scroll after a timeout, since iOS will scroll to the top of the page
        // after it fires the onload event
        setTimeout(scrollTo, 0, 0, 1);
    };
    (window.onresize = function () {
        var pageWidth = page.offsetWidth;
        // Android doesn't support orientation change, so check for when the width
        // changes to figure out when the orientation changes
        if (lastWidth == pageWidth) return;
        lastWidth = pageWidth;
        setupScroll();
    })(); 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-24T15:12:08.780

如果您对此感兴趣，我[不久前](http://www.benlesh.com/2012/11/angular-js-directive-basics.html)写了一篇关于指令基础的博客文章。

至于将您拥有的内容转换为指令，这并不太疯狂。

你要做的就是使用你已经拥有的代码，但是注入 $window 而不是使用 window.window。（主要用于测试目的）。我还添加了一个检查以确保它没有被应用两次。

所以它看起来有点像这样：

```
app.directive('windowResizeThingy', function($window) {
   return {
     restrict: 'A',
     link: function(scope, elem, attr) {

       // make sure this doesn't get applied twice.
       if($window.windowResizeThingyApplied) return;
       $window.windowResizeThingyApplied = true;

        // hide the url bar 
        var page = elem[0],
          ua = $window.navigator.userAgent,
          iphone = ~ua.indexOf('iPhone') || ~ua.indexOf('iPod'),
          ipad = ~ua.indexOf('iPad'),
          ios = iphone || ipad,
          // Detect if this is running as a fullscreen app from the homescreen
          fullscreen = $window.navigator.standalone,
          android = ~ua.indexOf('Android'),
          lastWidth = 0;

        if (android) {
            // Android's browser adds the scroll position to the innerHeight.
            // Thus, once we are scrolled, the page height value needs to be corrected in case the     page is loaded
            // when already scrolled down. The pageYOffset is of no use, since it always
            // returns 0 while the address bar is displayed.
            window.onscroll = function () {
                page.style.height = window.innerHeight + 'px'
            }
        }
        var setupScroll = $window.onload = function () {
            // Start out by adding the height of the location bar to the width, so that
            // we can scroll past it
            if (ios) {
                // iOS reliably returns the innerWindow size for documentElement.clientHeight
                // but window.innerHeight is sometimes the wrong value after rotating
                // the orientation
                var height = document.documentElement.clientHeight;
                // Only add extra padding to the height on iphone / ipod, since the ipad
                // browser doesn't scroll off the location bar.
                if (iphone && !fullscreen) height += 60;
                page.style.height = height + 'px';
            } else if (android) {
                // The stock Android browser has a location bar height of 56 pixels, but
                // this very likely could be broken in other Android browsers.
                page.style.height = (window.innerHeight + 56) + 'px'
            }
            // Scroll after a timeout, since iOS will scroll to the top of the page
            // after it fires the onload event
            setTimeout(scrollTo, 0, 0, 1);
        };
        ($window.onresize = function () {
            var pageWidth = page.offsetWidth;
            // Android doesn't support orientation change, so check for when the width
            // changes to figure out when the orientation changes
            if (lastWidth == pageWidth) return;
            lastWidth = pageWidth;
            setupScroll();
        })();
     }
   };
}); 
```

要应用它，您会找到之前应用它的 #page 元素：

```
 <div id="page" window-resize-thingy></div> 
```

……那应该是真的。假设您拥有的代码有效，它应该以几乎相同的方式运行。

# django - 基于月份的数据库查询

> ID：14501543
> 
> 赞同：0
> 
> 时间：2013-01-24T12:36:51.387
> 
> 标签：django

视图.py

```
def KEBReading2(request,date=None):
   dates={"Jan":01,"Feb":02,"March":03,"April":04,"May":05,"June":06,"July":07}
   if date in dates:
      a=dates[date]
      print a  
      q1=KEBReading.objects.filter().values()
      print q1.voltage 
```

在我的数据库中，日期以 YYYY-MM-DD 格式存储，在我的模型中，它是 MM/DD/YYYY。我想根据月份查询。我如何从数据库中获取每个月的条目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T13:08:56.257

如果要从数据库中查询月份，可以执行以下操作：

```
q1=KEBReading.objects.filter(somedatefield__month=month) 
```

因此，您可以尝试以下操作：

```
def KEBReading2(request,date=None):
   dates={"Jan":01,"Feb":02,"March":03,"April":04,"May":05,"June":06,"July":07}
   if date in dates:
      a=dates[date]
      print a  
      q1=KEBReading.objects.filter(somedatefield__month=a).values()
      print q1.voltage 
```

如果你想要年份：

```
q1=KEBReading.objects.filter(somedatefield__year=year) 
```

有关更多信息，您可以参考[QuerySet API 参考](https://docs.djangoproject.com/en/dev/ref/models/querysets/)。

现在，如果你想格式化日期，`MM/DD/YYYY`你可以使用[`strftime`](http://docs.python.org/2/library/time.html#time.strftime)：

```
>>> print q1.somedatefield.strftime('%m/%d/%Y')
'02/01/2013' 
```

# python - 启动应用程序并从 python 执行脚本行

> ID：14501544
> 
> 赞同：0
> 
> 时间：2013-01-24T12:36:53.237
> 
> 标签：python, python-2.7

我想编写一个可以启动应用程序的python脚本。正在启动的应用程序还可以读取我通过另一个脚本传递的python命令。我面临的问题是我需要使用两个 python 脚本，一个用于启动应用程序，另一个用于在启动的应用程序中运行命令。我可以使用单个脚本来实现这一点吗？如何告诉 python 在启动的应用程序中运行接下来的几行脚本？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T12:46:03.127

通常，您使用[`subprocess.Popen`](http://docs.python.org/2/library/subprocess.html)从 python 启动命令。如果将其设置为非阻塞，它将让您继续运行 python 语句。您还可以访问正在运行的子进程 stdin 和 stdout，以便与正在运行的应用程序进行交互。

如果我明白你在问什么，它看起来像这样：

```
import subprocess

app = subprocess.Popen(["/path/to/app", "-and", "args"], stdin=subprocess.PIPE)
app.stdin.write("python command\n") 
```

# sql-server - API 设计：国家/地区

> ID：14501546
> 
> 赞同：1
> 
> 时间：2013-01-24T12:36:58.230
> 
> 标签：sql-server, location, lookup, country

在我的 API 中，对于国家/地区字段，我使用了两个字母 (ISO 3166-1 alpha-2)

但是州呢？我可以使用什么代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T14:20:22.133

使用万国邮政联盟[寻址标准](http://www.upu.int/en/activities/addressing/standards.html)。

# android - 捕获图像并将其存储到 SD 卡的新文件夹中

> ID：14501553
> 
> 赞同：3
> 
> 时间：2013-01-24T12:37:35.850
> 
> 标签：android, android-sdcard, android-camera-intent

我正在调用相机并拍摄图像，我必须一张一张地拍摄 10 张图像并将它们存储在 SD 卡上，然后才能将它们设置为图像视图。请检查我下面的代码，它没有设置为图像视图。

我如何将它存储在 SD 卡上并检索它以设置为图像视图？在存储之前如何命名图像？

在第一个活动中，我调用了相机：

```
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    mContext = this;
    init();
}

private void init() {
    String extStorageDirectory = Environment.getExternalStorageDirectory()
            + "/testing";

    File xmlDirectory = new File(extStorageDirectory);
    if (!xmlDirectory.exists())
        xmlDirectory.mkdirs();

    iv1 = (ImageView) findViewById(R.id.iv1);
}

private OnClickListener onBtnClicked = new OnClickListener() {
    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub
        switch (v.getId()) {
            case PHOTO:
                Intent selectImageIntent = new Intent(first.this,
                        second.class);
                startActivityForResult(selectImageIntent, 1);
                break;
        }
    }
};

protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    if (requestCode == 1) {
        if (resultCode == RESULT_OK) {
            String result = data.getStringExtra("result");

            Log.d("*****************",
                    "inside onactivityresult in main activity=" + result);

            Bitmap bitmap = BitmapFactory.decodeFile(result);
            iv1.setImageBitmap(bitmap);
            iv1.setScaleType(ScaleType.FIT_XY);
        }
    }
} 
```

在我的第二个活动中，我正在捕获图像并将其传递给第一个活动：

```
private void init() {
    picturePath = Environment.getExternalStorageDirectory() + "/Camera/"
            + "test.jpg";
    System.out.println("thumbnail path~~~~~~" + picturePath);
    File file = new File(picturePath);
    outputFileUri = Uri.fromFile(file);
}

public void startCamera() {
    Intent intent = new Intent(
            android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
    intent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);
    startActivityForResult(intent, IMAGE_CAPTURE);
}

protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    if (requestCode == IMAGE_CAPTURE) {
        if (resultCode == RESULT_OK) {
            Intent returnIntent = new Intent();
            returnIntent.putExtra("result", picturePath);
            setResult(RESULT_OK, returnIntent);
            finish();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:46:53.440

在其他方法中初始化对象不是一个好习惯。

`iv1 = (ImageView) findViewById(R.id.iv1);`从方法中删除这一行 `init()`并将您的 OnCreate() 更改为以下方式。

```
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
//Initialize here
    iv1 = (ImageView) findViewById(R.id.iv1);

    mContext = this;
    init();

} 
```

希望它会帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:09:12.027

使用此代码并输入您的文件名和路径，相机将捕获图像并以给定名称存储它

```
 Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE); 
           if (!APP_FILE_PATH_Media.exists()) 
          {
               APP_FILE_PATH_Media.mkdirs();
          }
         uriSavedImage =new File(APP_FILE_PATH_Media+ "/" +
                    "filename"+ ".jpeg");
       cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(uriSavedImage));
       startActivityForResult(cameraIntent, CAMERA_REQUEST); 
```

在 onActivityResult() 使用此代码设置 imageView

```
try
                 {
                 BitmapFactory.Options options = new BitmapFactory.Options();
                 options.inSampleSize = 1;
                 bm = BitmapFactory.decodeFile(uriSavedImage.getAbsolutePath(), options);
                 }
                 catch(Exception ee)
                 {

                 } 
```

# proxy - 设置 JMeter 代理以记录本地 Web 应用程序上的活动

> ID：14501559
> 
> 赞同：8
> 
> 时间：2013-01-24T12:37:57.550
> 
> 标签：proxy, jmeter

我是 JMeter 的新手，我想使用 JMeter 代理对本地 Web 应用程序记录测试用例进行负载测试。

我首先按照这里的说明[http://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.pdf](http://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.pdf)并且一切正常。

比：

*   我启动了我的网络应用程序，比如说`http://localhost:8080/my-application`
*   在端口 8081 上设置 JMeter Web 代理
*   向线程组添加了 HTTP 请求默认值
*   添加录音控制器
*   调用 `curl -X GET http://localhost:8081/my-application/index.html`

我得到：

*   请求被记录但参数错误，例如。**https**而不是 http
*   我没有通过 curl 获得请求的页面，但有例外：`org.apache.http.client.ClientProtocolException: URI does not specify a valid host name: https:///my-application/index.html/my-application/index.html`
*   我在 Http Request Default 中指定的参数似乎被忽略了？我将配置元素放在 HTTP 代理服务器下，并尝试了许多设置。

怎么了？我错过了一些基本配置？我以错误的方式使用 JMeter 代理？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2019-12-19T06:54:34.327

默认情况下，Firefox 不允许代理 localhost 或 127.0.0.1。

您必须修改 about:config 中的设置

将**network.proxy.allow_hijacking_localhost**更改为**true**

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-06-12T16:06:40.020

Firefox 默认设置将从代理绕过“localhost，127.0.0.1”，因此您的 JMeter 仍然无法记录它。您必须通过删除“localhost，127.0.0.1”来清空“No Proxy for”字段。希望这会有所帮助。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-07-08T10:13:14.840

转到浏览器 LAN 设置

确保未选中“绕过本地地址的代理服务器”，以便请求将命中 JMeter 代理服务器。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-29T07:30:49.023

在 jmeter 中记录要遵循的简单步骤：

> 1.  打开你的 jmeter（默认包含测试计划和工作台）
> 2.  添加线程组
> 3.  添加配置下的“http请求默认值”（更改服务器名称，即您需要记录的站点）
> 4.  添加“http代理服务器（工作台-右键单击-非测试元素-http代理服务器）将默认端口8080更改为其他端口（例如9090）
> 5.  启动代理服务器
> 6.  使用 9090 端口和 localhost 将浏览器设置更改为手动设置

[http://brittoc.wordpress.com/2011/03/28/jmeter-recording-steps/](http://brittoc.wordpress.com/2011/03/28/jmeter-recording-steps/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-05-10T07:07:59.487

我建议使用 Apache 自己的教程，它位于此处... [JMeter 代理教程](http://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.pdf)

我看到您说您已经遵循它，但是自从您使用它以来它可能已经改变，因为您的某些步骤与当前教程不匹配。也许您的版本有错误或者您错过了一个步骤，因为我在 5 分钟前刚刚仔细检查了它，它对我有用，我没有看到您在上面谈论的一些步骤。

我知道您对您关心的特定错误有具体的问题，但是基于您目前对整个过程的不熟悉，我会放弃 curl 部分，而只是按照 Apache 的描述进行基本的代理记录以获得更好的一般性理解，然后从那里拿走。

我要在他们的教程中添加的唯一警告是，他们让您创建过滤器以仅记录某些类型的动作，我实际上将它们排除在外，以便记录所有动作，然后我稍后再清理它。

这样您就不会错过任何可能导致延迟的内容，因为该类型的资源已被过滤掉。

***现在，在您最初的问题中，您可以尝试如果您不打算学习本教程，请尝试浏览器，而不是 curl，并设置您的浏览器以使用代理，并确保端口与您在中指定的端口匹配代理节点上的 jmeter。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-08-12T12:53:05.563

它的配置非常简单。请查看随附的屏幕截图。[![在此处输入图像描述](../Images/12f01ec6bca7f240fd26e72359fb8a62.png)](https://i.stack.imgur.com/iAFQ0.png)

# c# - 从 android_assets 文件夹动态加载 dll

> ID：14501562
> 
> 赞同：1
> 
> 时间：2013-01-24T12:38:11.400
> 
> 标签：c#, xamarin.android, .net-assembly

`Assembly.Load`当它在资产文件夹中时，是否可以加载一个dll ？

我有适用于 windows 和 android 的平台特定 dll。我尝试使用 android 特定的 dll 作为资产（也在构建操作中），但是当我尝试将它加载到我的应用程序中时，它没有找到（我使用了`path: file:///android_asset/mydll.dll`），并且只有在我将应用程序构建为发布时才会发生这种情况，在调试中，我获得了加载库的必要路径，但不是来自资产文件夹。

我能做些什么？还有其他地方，我可以把我的dll从我的应用程序中加载吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T13:56:41.063

这是一个将程序集写入插件文件夹然后读入并在运行时加载的示例。

确保你有你想要的程序集去 Assets 文件夹设置为**AndroidAsset 的 Build Action**。请参阅下面的屏幕截图。

*请注意：您可能需要将扩展​​名更改为 .mp3。见[这里](https://stackoverflow.com/questions/5566821/cant-get-file-descriptor-for-asset)。不过我没有这个问题。*

![在此处输入图像描述](../Images/57c5b367ea45bdf545dab275770f783e.png)

完成此操作后，您应该能够使用 Asset Manager 获取资产。您可以加载它们或对它们做任何事情。这是将它们读入内存并写出名称的示例。

```
const String pluginPath = "Plugins";

var pluginAssets = Assets.List(pluginPath);
foreach (var pluginAsset in pluginAssets)
{
    var file = Assets.Open(pluginPath + Java.IO.File.Separator + pluginAsset);

    using (var memStream = new MemoryStream())
    {
        file.CopyTo(memStream);

        //do something fun.
        var assembly = System.Reflection.Assembly.Load(memStream.ToArray());
        Console.WriteLine(String.Format("Loaded: {0}", assembly.FullName));
    }

} 
```

在发布模式下，请注意 Mono for Android 将对您的库执行静态分析以执行大小优化。如果您在此之后加载程序集，那么您可能没有应该包含的功能。下面的屏幕截图显示了发布版本的标准链接配置。您可以将一些标志和配置添加到代码中以帮助防止链接（[Xamarin Docs on Linking](http://docs.xamarin.com/Android/Guides/Advanced_Topics/Linking)），但我不确定您可以为动态加载的库做太多事情。

![Mono for Android - 发布链接](../Images/200d0e7988fc65ef8f1e26242c9fa00c.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-26T11:29:25.350

这不是您问题的直接答案 - 我不知道从资产加载程序集。

但是，我确实有很多在 mvvmcross 中加载插件的经验。

* * *

在 mvx 中，我们通过简单地添加 dll 作为对 ui 项目的引用然后`Assembly.Load`在运行时调用来在 droid 上加载特定于平台的插件。这似乎运作良好。

此外，相同的方法可以用于完整的 Windows 应用程序 - 例如 Wpf。

但是，不能在 MonoTouch、Wp 或 WinRt 上使用相同的方法 - JIT 和安全/沙盒限制意味着您必须使用一些 ui 平台代码来实际注入代码引用，而不是使用 assembly.load。有关详细信息，请参阅[http://slodge.blogspot.co.uk/2012/10/build-new-plugin-for-mvvmcrosss.html?m=1](http://slodge.blogspot.co.uk/2012/10/build-new-plugin-for-mvvmcrosss.html?m=1)

# jquery - 不断在桌子底部增加空间

> ID：14501563
> 
> 赞同：2
> 
> 时间：2013-01-24T12:38:11.670
> 
> 标签：jquery, html, css

我的选项和答案功能有问题。如果我选择一个包含许多按钮输出的选项，例如如果我选择选项 20，它将显示 20 个按钮，我遇到的问题是在表格列的底部，空间下降了一点。它仅在更改选项时才会这样做，然后空间始终保持不变。My question is simply how can I stop the space at the bottom of the table column to increase when an option changes?

作为问题的表列被称为`extratd`并且在该表列内部是一个嵌套表，称为答案。我想`extratd`成为`vertical-align:top;`现在的样子。

下面是 HTML/jquery 代码，其中包含表格行、表格和包含字母按钮显示的代码：

```
var $tr = $("<tr class='optionAndAnswer' align='center'>");
var $td = $("<td width='16%' class='extratd'>");
var $answer = $("<table class='answer'><tbody><tr><td class='ans'>3\. Answer:</td></tr></tbody></table>");
var $this, i = 0,
    $row, $cell;
$('#optionAndAnswer .answers').each(function () {
    $this = $(this);
    if (i % 6 == 0) {
        $row = $("<tr/>").appendTo($answer);
        $cell = $("<td/>").appendTo($row);
    }
    var $newBtn = $(("<input class='answerBtnsRow answers' type='button' style='display:%s;' onclick='btnclick(this, " + gQuestionIndex + ");' />").replace('%s', $this.is(':visible') ? 'inline-block' : 'none')).attr('name', "value[" + gQuestionIndex + "][]").attr('value', $this.val()).attr('class', $this.attr('class')).attr('id', $this.attr('id') + 'Row');
    $newBtn.appendTo($cell);
    i++;
});
var $this = $(this);
var $BtnsClass = '';
$row = $("<tr/>").appendTo($answer);
$cell = $("<td/>").appendTo($row);
if ($questionType == 'True or False' || $questionType == 'Yes or No') {
    $BtnsClass = $("<input class='allBtnsRow btnsAll' type='button' style='display: none;' value='Select All Answers' onClick='selectAll(this);' /><input class='allRemoveBtnsRow btnsRemove' type='button' style='display: none;' value='Remove All Answers' onClick='removeAll(this);' />");
} else {
    $BtnsClass = $("<input class='allBtnsRow btnsAll' type='button' value='Select All Answers' onClick='selectAll(this);' /><br/><input class='allRemoveBtnsRow btnsRemove' type='button' value='Remove All Answers' onClick='removeAll(this);' />");
}
$BtnsClass.appendTo($cell);
$tr.append($td);
$td.append($answer);
$tbody.append($tr); 
```

下面是`extratd`and的 CSS `answer`：

```
.extratd{
    border:1px black solid;
    border-collapse:collapse;
    vertical-align:top; 
    padding-top:1em;
    padding-bottom:1em;
    padding-left:0;
    padding-right:0;

}

.answer{
    width:100%;
    text-align:center;
} 
```

**更新：**

好的，我发现导致此问题的代码是这样的：

```
 //THE ISSUE IS HERE

var _x = $(e.currentTarget);
var _y = _x.closest('td.extratd');
var _z = _y.prev();

$('textarea', _z).css('height', '').height(_z.innerHeight());

//ISSUE ABOVE 
```

现在，上面的代码所做的是允许`Question`列中的 textarea 在附加 textarea 或选项更改时填充整个表格单元格。所以我需要上面的代码，但上面的代码也是在表格行的底部创建一个不必要的空间，所以我需要帮助来整理不需要的空间。

我在这里有一个 jsfiddle，您可以使用它来查看正在发生的事情，它还包括上面的代码：http: [//jsfiddle.net/aND4g/61/](http://jsfiddle.net/aND4g/61/)

请按照以下步骤使用小提琴：

1.  当您打开小提琴时，在问题文本区域的顶部键入内容，然后单击`Open Grid`并选择按钮`3`或`4`。

2.  完成第 1 步后，单击`Add Question`按钮将上述详细信息附加到下表中

3.  现在在附加的行中，单击`Open Grid`并从您第一次选择的选项中选择另一个选项。您会看到它在表格行的底部创建了一个不需要的空间

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T13:23:45.763

这可能与您的 padding-bottom 值 1em 有关吗？也许尝试调整或删除它，它可能会修复它。一个 jsFiddle 肯定会帮助描绘这个问题。

# linux - 取 NAME 字段的值并将其放入变量中，

> ID：14501564
> 
> 赞同：1
> 
> 时间：2013-01-24T12:38:15.240
> 
> 标签：linux, bash, csv

通过对命令行的请求，我得到了 csv 格式的响应。这是文件：

```
"STACK";"STACK_ID";"NAME";"DESCRIPTION";"CREATION_TIME";"DELETION_TIME";"STATUS"
"STACK";"arn:aws:cloudformation:us-west-1:222222222222:stack/LiveStream2/00000000-6000-00e2-acd3-333333333333";"LiveStream2";"(nil)";"2013-01-23T16:01:36Z";"2013-01-23T16:22:57Z";"DELETE_COMPLETE"
"STACK";"arn:aws:cloudformation:us-west-1:444444444444:stack/LiveStream/00000000-6000-00e2-acd3-222222222222";"LiveStream";"(nil)";"2013-01-23T13:53:13Z";"2013-01-23T15:20:29Z";"DELETE_COMPLETE" 
```

使用脚本，我想获取 NAME 字段的值并将其放入变量中，你能帮帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T22:14:48.520

如果您不知道 NAME 是第三个字段，则必须在标题行中寻找它：

```
awk -F \; '
    NR==1 {
        for (i=1; i<=NF; i++) {
            if ($i == "\"NAME\"") {
                name_field = i
                break
            }
        }
        next
    }
    { print $name_field }
' < filename 
```

这输出

```
"LiveStream2"
"LiveStream" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T14:26:13.230

awk 将是我最好的选择。

```
declare NAMES=( $( cmd_that_generates_output | awk -F ';' 'NR==1{next}; { if( $3 ~ /^[^"].*[^"]$/){$3="\""$3"\""};  printf $3 " " }' ) ) 
```

因此，bash 执行命令替换，即 $() 中的所有内容，cmd 生成您的 csv 并将其通过管道传递给 awk。

awk 检查输入是否是第一行（ NR==1 ），如果是则继续（ {next} ）

对于其他每一行，它会检查它是否正确地包含在引号中

```
if( $3 ~ /^[^"].*[^"]$/){$3="\""$3"\""}; 
```

然后打印出由 ';' 分隔的第三列 （即 naem 列）后跟一个空格。

```
printf $3 " " 
```

然后将 $() 扩展为以空格分隔的名称列表，例如

```
declare NAMES=( name1 name2 ) 
```

然后执行声明，它创建一个名为 NAMES 的数组，每个名称作为单个元素。所以：

x.txt 是您在问题中给出的输出。

```
pete.mccabe@jackfrog$ cat x.txt 
"STACK";"STACK_ID";"NAME";"DESCRIPTION";"CREATION_TIME";"DELETION_TIME";"STATUS"
"STACK";"arn:aws:cloudformation:us-west-1:222222222222:stack/LiveStream2/00000000-6000-00e2-acd3-333333333333";"LiveStream2";"(nil)";"2013-01-23T16:01:36Z";"2013-01-23T16:22:57Z";"DELETE_COMPLETE"
"STACK";"arn:aws:cloudformation:us-west-1:444444444444:stack/LiveStream/00000000-6000-00e2-acd3-222222222222";Live Stream;"(nil)";"2013-01-23T13:53:13Z";"2013-01-23T15:20:29Z";"DELETE_COMPLETE"

pete.mccabe@jackfrog$ declare NAMES=( $( cat x.txt | awk -F ';' 'NR==1{next}; { if( $3 ~ /^[^"].*[^"]$/){$3="\""$3"\""};  printf $3 " " }' ) )

pete.mccabe@jackfrog$ echo ${NAMES[@]}
"LiveStream2" "Live Stream" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T12:58:15.103

这是示例代码。

```
#!/bin/sh
OLDIFS=$IFS
IFS=;
while read f1 f2 f3 
do
     echo "Name variable is              :$f3"

done<filename.csv
IFS=$OLDIFS 
```

第三个字段是“NAME”，它在 f3 的变量中赋值。这里变量显示了两次。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-24T12:59:22.220

那么 cut 命令应该很适合您：例如，如果您的文件是`test.txt`,

`cat test.txt| cut -d';' -f3`将获得字段 3。

如果要逐行存储值，请使用以下命令：

```
for i in `cat test.txt`
do
  MYVAR=$(echo $i| cut -d';' -f3)
  //do something with the variable $MYVAR
done 
```

注意：这只是解决您问题的一种方法。有几种方法可以实现您的要求。

# c - 使用“for”循环创建一个检查输入值的循环是否正确？

> ID：14501566
> 
> 赞同：0
> 
> 时间：2013-01-24T12:38:19.310
> 
> 标签：c, loops

我需要编写一个程序来请求两个浮点数并打印它们的差值除以它们的乘积，并让程序循环遍历输入值对，直到用户输入非数字输入。我需要用来`scanf`接受输入。

所以，我知道 scanf 返回值 0 或 1 表示真/假，所以我虽然测试它以完成问题的最后一部分，但我试图弄清楚如何确保循环返回请求输入。

我的代码是：

```
int main()    
{        
    double num1, num2, different, product, answer;

    printf("please enter 2 floatig point numbers:\n");
    printf("number one is?\n");
    while (scanf("%lf", &num1) ==1)
    {
        printf("number two is?\n");
        while (scanf("%lf", &num2) ==1)
        {       
            if (num1 > num2)
            {
                different = num1 - num2;
            }

            if (num2 > num1)        
            {
                different = num2 - num1;
            }

            if (num1 == num2)        
            {
                different = 0;
            }

            product = num1*num2;
            answer = different/product;
            printf("%lf", answer);
        }
        printf("you're out!");
    }
    printf("you're out!");
} 
```

示例输入：

```
first num 4.5
second num 3.5 
```

输出：

```
please enter 2 floatig point numbers:
number one is?
4.5
number two is?
3.5
0.063492 
```

我得到了正确的答案并且程序继续运行，但我正在寻找一种解决方案来返回输入请求。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:42:07.903

它只是一种定义您想要的输入数量的模式。您的代码的更简单版本是

```
 while( scanf("%d %d", &a,&b) == 2 )
  // 
```

这里`scanf`返回 2 作为返回值。

所以你正在检查`while(2 == 2)`，输入你想要的数量

```
while( scanf("%lf %lf", &num1,&numb2) == 2 )
{
    if (num1 > num2)
    {
        different = num1 - num2;
    }

    if (num2 > num1)
    {
        different = num2 - num1;
    }

    if (num1 == num2)
    {
        different = 0;
    }
    product = num1*num2;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:42:48.070

你可以简单地这样做：

```
while(1)
{
     printf("number one is?\n");
     if(scanf("%lf", &num1) != 1)
     {
       break;
     }
     printf("number teo is?\n");
     if(scanf("%lf", &num2) != 1)
     {
       break;
     }

    if (num1 > num2)
    {
        different = num1 - num2;
    }

    if (num2 > num1)

    {
        different = num2 - num1;
    }

    if (num1 == num2)

    {
        different = 0;
    }

    product = num1*num2;

    answer = different/product;

    printf("%lf", answer);

    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T12:50:43.090

你应该首先注意到，无论什么让你`scanf`第一次失败，都可能让它第二次失败。所以像这样的循环：

```
while (scanf("%lf", &a) != 1); 
```

**可能变成无限循环**。

此外，当同时读取两个或多个值时，很难跟踪读取的内容和未读取的内容。因此，我建议以如下形式逐一阅读这些值：

```
void clear_line()
{
    char c;
    while (scanf("%c", &c) == 1)
        if (c == '\n')
            return;
}

double read_value(const char *message)
{
    double d;

    while (1)
    {
        printf("%s", message);
        if (scanf("%lf", &d) == 1)
            return d;
        if (feof(stdin))
        {
            printf("Unexpected end of file\n");
            return 0;
        }
        printf("Invalid input\n");
        clear_line();
    }
}

...
num1 = read_value("Enter first number: ");
num2 = read_value("Enter second number: ");
if (feof(stdin))
    /* handle error */ 
```

这基本上是尝试读取该值，直到用户产生正确的值。如果输入不正确，则消耗并丢弃一行输入，因此用户输入的任何剩余内容都不会影响下一个输入`scanf`并产生一连串错误。

# c# - 如何在 MySQL 的 VS 2012 Express 中使用 ReportViewer

> ID：14501574
> 
> 赞同：1
> 
> 时间：2013-01-24T12:38:29.983
> 
> 标签：c#, mysql, visual-studio-2012, report, reportviewer

我将 Visual Studio 2012 用于应用程序，将 MYSQL 用于数据库。

问题是我要使用 ReportViewer 创建报告（水晶报告还不支持 VS 2012）但使用 MYSQL 数据库。而且我没有任何使用 ReportViewer 的经验

1.  有没有办法在不使用向导的情况下将数据集插入 .rdlc 文档，或者我可以从向导创建一个链接到我的 MYSQL 数据库的数据源？

2.  是否有任何其他可用的解决方案可以从 VS 2012 生成报告？

**编辑**

所以水晶报表VS2012已经在今年1月14日上线了。这是[Crystal Report 讨论的链接](https://stackoverflow.com/questions/12695563/crystal-reports-for-vs2012)。我想我会使用水晶报告进行报告。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T15:21:02.323

你为什么不跟着向导？

**必备：** [.NET 的 MySQL 连接器](http://dev.mysql.com/downloads/connector/net/)

新建数据集 -> 新建... -> 数据库 -> 数据集 -> 新建连接 -> 选择“MySQL 数据库”

现在你必须选择你的mysql服务器的位置，用户名/密码ecc ...

# javascript - 使用 jQuery ajax 获取另一个页面的列表元素

> ID：14501575
> 
> 赞同：0
> 
> 时间：2013-01-24T12:38:32.430
> 
> 标签：javascript, jquery, ajax

我正在尝试通过 jQuery 的 $.ajax 请求（没有 ID）加载另一个网页的特定部分。

简单的例子......

这是示例 HTML：

```
<div id="list">
    <ul>
        <li>Foo 6</li>
        <li>Foo 7</li>
        <li>Foo 8</li>
        <li>Foo 9</li>
        <li>Foo 10</li>
    </ul>
</div> 
```

还有一些例子JQ：

```
$("#more").on("click", function(event){
    $.ajax({
        url: 'foo.html',
        datatype: 'html',
        success: function (data) {
            $('#list ul').append($(data).filter('#list').html());
        }
    })
    event.preventDefault();
}); 
```

但是，我想在#list 中定位 ul，但是如果我将过滤器更改为“#list ul”，则没有任何效果。这让我疯狂。如何定位这个元素？我尝试使用 find 而不是 filter 但这也没有带来任何回报。

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:55:55.423

`filter()`仅当目标选择器处于根级别时才有效，否则您需要使用`find()`

```
 $('#list ul').append($(data).find('#list ul').html()); 
```

或跟随也可以，但看起来效率不高

```
$('#list ul').append($(data).filter('#list').children('ul').html()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:58:32.390

更新小提琴：http: [//jsfiddle.net/vKUD7/1/](http://jsfiddle.net/vKUD7/1/)

```
<div id="container">
    <div>
        <div id="list">
            <ul>
                <li>Foo 6</li>
                <li>Foo 7</li>
                <li>Foo 8</li>
                <li>Foo 9</li>
                <li>Foo 10</li>
            </ul>
        </div>
    </div>
</div>
<div id="list2">
    <ul></ul>
</div> 
```

用这个简单的代码来模拟从另一个页面返回的数据：

```
var data = $('#container').html();

$('#list2 ul').append($(data).find('#list ul').html());

//Doesn't work
//$('#list2 ul').append($(data).filter('#list').children('ul').html()); 
```

其他答案的第一部分也是正确的，您必须使用 find 递归遍历子元素，这将通过 ID 找到您的 div，然后允许您仅在该 div 中找到 ul 元素。

使用 .filter 和 .children 的第二部分似乎不起作用......

希望这可以帮助！

# java - 从使用泛型的类中创建数组

> ID：14501580
> 
> 赞同：1
> 
> 时间：2013-01-24T12:38:43.677
> 
> 标签：java, arrays, generics, creation

这是我在那个网站上的第一个问题！我已经完成了我的研究，但没有任何效果...

所以，这就是问题所在，它与 Java Generic Array 创建有关：

```
class HashArray<K,V>{

  class HashNode<K,V>{
...
}

HashNode[] array;

HashArray(int size){

ArrayList<HashNode> arrayM = new ArrayList<HashNode>(size);

array = arrayM.toArray(array);                         // pinned Line

}

} 
```

并且固定线中有一个 NullPointerException。如果我尝试类似：

```
array = new HashNode[size]; 
```

我得到一个`Generics Array Creation error`.

我需要一个 HashNodes 中的数组，因为我只被允许使用数组制作项目。

先感谢您！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T14:23:02.010

这里有几个问题。首先，内部类 ( `HashNode`) 具有对其声明类 ( `HashArray`) 实例的隐式引用。因此，它在其声明类的类型参数的范围内。您不应该重新声明类型参数`K`和`V`for `HashNode`，因为这隐藏了外部参数：

```
class HashArray<K, V> {

    class HashNode {
        //K and V still have meaning in here
    }

    ...
} 
```

要么，要么制作`HashNode`一个静态嵌套类来为自己简化事情：

```
class HashArray<K, V> {

    static class HashNode<K, V> {
        //no implicit reference to an outer HashArray
    }

    ...
} 
```

开始创建数组：无法创建具体参数化类型的数组。[有关原因的解释，](http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#Can%20I%20create%20an%20array%20whose%20component%20type%20is%20a%20concrete%20instantiation%20of%20a%20parameterized%20type?)请参阅 Angelika Langer 的泛型教程。简而言之，泛型和数组就像油和水，你应该只使用集合。

最好的解决方案是只使用 a `List<HashNode>`。无论如何，您已经从一个开始：

```
List<HashNode> nodeList = new ArrayList<HashNode>(size); 
```

或者，如果您创建`HashNode`一个静态类：

```
List<HashNode<K, V>> nodeList = new ArrayList<HashNode<K, V>>(size); 
```

请注意，在 Java 7 中，RHS 只能`new ArrayList<>(size)`在这两种情况下使用。

* * *

仅出于我的回答的完整性，如果您真的坚持保留数组，则需要使用未经检查的演员表：

```
@SuppressWarnings("unchecked")
HashNode[] array = (HashNode[])new HashArray<?, ?>.HashNode[size]; 
```

或者如果`HashNode`设为静态：

```
@SuppressWarnings("unchecked")
HashNode<K, V>[] array = (HashNode<K, V>[])new HashNode<?, ?>[size]; 
```

但这本质上是不安全的，**不应该这样做**。

# c# - 中继器中的级联下拉列表。带有 SQL 源和添加/删除选项的 DropDownLists

> ID：14501581
> 
> 赞同：3
> 
> 时间：2013-01-24T12:38:50.167
> 
> 标签：c#, asp.net, drop-down-menu, repeater, sqldatasource

在 ASP.NET 中实现以下接口的技巧是什么？

![中继器](../Images/19a31122d807f7d5f0d4031c10e0a4b7.png)

我认为截图应该解释一切。

1.  两个 dropDownLists 都适用于 SQL 表。[Categories],[Items] 绑定 ID_category PK/FK
2.  行数变量（默认为 1 行，带有“添加”按钮）
3.  选择类别只会更改它旁边的 dropDownList 的内容，并且在添加/删除其他行时内容保持不变
4.  “添加”按钮保存当前设置并添加带有“选择值”或最终选择第一个类别/第一个项目的新行

**如何存储以前选择的类别/项目和按类别过滤的下拉菜单，同时在网站上添加、更改、删​​除项目或其他一些 PostBack？**

* * *

到目前为止，我尝试将 Repeater 与 DataSet 一起使用，但是我遇到了几个不同的问题：

*   无法保留以前的下拉菜单之间的关系
*   DropDowns相互重置
*   添加新行时第二个下拉菜单丢失过滤

我可以发布一些代码，但由于它不能完全工作，也许完全不同的方法会更好。基本上我从[本](http://ranafaisal.wordpress.com/2009/02/17/dynamically-adding-removing-textboxes-in-aspnet-repeater/)教程开始。中继器当前看起来像：

```
<repeater>
<itemtemplate>
  <dropDown DataSource="categoriesDS" 
     value='<%# DataBinder.Eval(Container.DataItem, "Category") %>'.../>
  <dropDown DataSource="itemsDS" 
     value='<%# DataBinder.Eval(Container.DataItem, "Item") %>'.../>
  <button CommandName='<%# DataBinder.Eval(Container.DataItem, "Button") %>' 
     Text='<%# DataBinder.Eval(Container.DataItem, "Button") %>' .../>
</itemtemplate>
</repeater> 
```

在此先感谢您的任何建议或解决方案，希望对其他人有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-14T06:53:31.817

[Ajax 级联下拉列表](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/CascadingDropDown/CascadingDropDown.aspx)

使用起来非常简单。

# java - Eclipselink group by 不工作

> ID：14501589
> 
> 赞同：1
> 
> 时间：2013-01-24T12:39:05.983
> 
> 标签：java, jpa, group-by, eclipselink, criteria-api

如何在`groupBy`下面的代码中添加条件？因为如果我添加`criteriaQuery.groupBy(from.get(minutis.Preke_.prId));`- 我会得到完全相同的 SQL 语句（不带`groupBy`）：

```
CriteriaBuilder cb = MinutisManager.getInstance().getCriteriaBuilder();
CriteriaQuery criteriaQuery = cb.createQuery(minutis.Preke.class);
Root<minutis.Preke> from = criteriaQuery.from(minutis.Preke.class);
from.fetch(minutis.Preke_.tiekejai, JoinType.LEFT).fetch(minutis.PrekeTiekejas_.tiekejas, JoinType.LEFT);
//criteriaQuery.groupBy(from.get(minutis.Preke_.prId));

TypedQuery<minutis.Preke> typedQuery = MinutisManager.getInstance().createQuery(criteriaQuery);
typedQuery.setFirstResult(0);
typedQuery.setMaxResults(100);
typedQuery.getResultList(); 
```

**编辑1：**

`criteriaQuery.distinct(true)`不是我的选择。因为该命令会挂起整个语句，如果我使用`EXPLAIN`： ![使用不同时](../Images/0caa89ca625833db20724ad2fb47eb44.png)

如果我`GROUP BY`在查询中使用，那么`EXPLAIN`是： ![在此处输入图像描述](../Images/5087447f9a0596ce6041f2e7690161e2.png)

**编辑2：**

我得到这个 SQL 语句有和没有`criteriaQuery.groupBy(from.get(minutis.Preke_.prId));`

```
SELECT ... FROM preke t1 LEFT OUTER JOIN preke_tiekejas t0 ON (t0.pr_id = t1.pr_id) LEFT OUTER JOIN tiekejas t2 ON (t2.tiek_id = t0.tiek_id) LEFT OUTER JOIN gamintojas t3 ON (t3.gam_id = t1.gam_id) LEFT OUTER JOIN google_compare t4 ON (t4.pr_id = t1.pr_id) LEFT OUTER JOIN grupe t5 ON (t5.pgs_id = t1.pgs_id) LEFT OUTER JOIN preke_kaina t6 ON (t6.pr_id = t1.pr_id) ORDER BY t1.pr_id LIMIT ?, ? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T14:05:39.033

GROUP BY 查询的 SQL 肯定应该包含一个 GROUP BY。确保您正确编译和部署代码。

忽略 group by 可能是一个错误，因为正常的 group by 查询不会选择对象，而是选择聚合值。检查您使用的是最新版本，并可能记录错误，或尝试 JPQL。

一般来说，您的查询没有任何意义，通常在按查询分组时，您只能选择分组依据的字段或聚合函数。

也许考虑批量获取而不是连接获取。

[http://java-persistence-performance.blogspot.com/2010/08/batch-fetching-optimizing-object-graph.html](http://java-persistence-performance.blogspot.com/2010/08/batch-fetching-optimizing-object-graph.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-25T07:29:42.463

我将在 Eclipselink 中提交一个错误，因为如果我使用 QueryHints 更改 fetch 行，一切正常：

改变这个（用这条线我得到重复的 Preke 实体和填充的子实体）：

```
from.fetch(minutis.Preke_.tiekejai, JoinType.LEFT).fetch(minutis.PrekeTiekejas_.tiekejas, JoinType.LEFT); 
```

为此（通过这一行，我得到了具有填充子实体的独特 Preke 实体）：

```
typedQuery.setHint(QueryHints.LEFT_FETCH, "Preke.tiekejai");
typedQuery.setHint(QueryHints.LEFT_FETCH, "Preke.tiekejai.tiekejas"); 
```

我得到了我想要的结果。

**编辑1：**

该错误确实存在，现在最大结果不起作用。两种情况 typedQuery 是相同的。

```
typedQuery.setMaxResults(100);
System.out.println(typedQuery.getResultList().size()); //prints 73

typedQuery.setMaxResults(500);
System.out.println(typedQuery.getResultList().size()); //prints 413 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-29T12:51:52.070

没问题，我找到了错误报告，就在这里，以防万一其他人需要它。[Criteria api 忽略 group by 语句](https://bugs.eclipse.org/bugs/show_bug.cgi?id=402026)

# jquery - 如何使用jQuery将标签的值放入文本框中

> ID：14501592
> 
> 赞同：0
> 
> 时间：2013-01-24T12:39:10.013
> 
> 标签：jquery, textbox, label

我的问题与此类似：[How to get textbox value into label using jquery](https://stackoverflow.com/questions/1970139/how-to-get-textbox-value-into-label-using-jquery)，但我试图做相反的事情：我试图将标签的值放入文本框中。我认为切换代码中的元素很简单，但显然情况并非如此。我也确实查看了标题下方“可能已经有你答案的问题”部分中提出的一些问题，但没有找到对我有帮助的东西（也许解决方案就在其中之一，但我只是没看懂……）。

这是我的表格的html：

```
<table id="tblBranchDetails">
    <tr>
        <td width="120px">Branch:</td>
            <td id="branchName" class="branchData">
                <label id="lblBranchName"></label>
                <input type="text" id="txtBranchName" />
            </td>... 
```

正如上述帖子的作者所指出的，这不起作用：

```
$('input#hdnBranchName').val() = $('label#lblBranchName').text(); 
```

我试过这些：

```
$('input#txtBranchName').html($('label#lblBranchName').val());
$('input#txtBranchName').text($('label#lblBranchName').val()); 
```

这些都不起作用。所以我试着看看我是否没有正确选择文本框：

```
$('table#tblBranchDetails input#txtBranchName').html($('label#lblBranchName').val());
$('table#tblBranchDetails input#txtBranchName').text($('label#lblBranchName').val()); 
```

但这些都不起作用。

我该如何做到这一点，并且作为学习更多的问题：为什么我认为是显而易见的方法不起作用？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T12:40:56.917

看看[文档](http://api.jquery.com/val/#val2)..

> 与每个匹配元素的值相对应的文本字符串或字符串数​​组，以设置为选中/选中。此方法通常用于设置表单字段的值。

试试这个

```
$('input#hdnBranchName').val($('label#lblBranchName').text()); 
```

`val()`is to get the selected input value... where as `val('')`is to set.. 这会将所选输入字段设置为空

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T12:40:28.180

```
$('input#txtBranchName').val($('label#lblBranchName').text()); 
```

如果要修改`input`值，则必须使用`val`. `text`可以检索 html 元素的文本内容（因此它与 a 完美配合`label`）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T12:41:55.213

试试这个：

```
$('input#txtBranchName').attr( 'value',$('label#lblBranchName').val() ); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-24T12:49:58.947

如果您在标签中有一些文本，这些将起作用

```
$('#txtBranchName').val($('#lblBranchName').text()); 
```

或者

```
$('#txtBranchName').val($('#lblBranchName').html()); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-24T12:56:56.073

试试这个 ：

```
$('#txtBranchName').val($('#lblBranchName').text()); 
```

# php - javascript 中嵌套 smarty 的正确语法

> ID：14501601
> 
> 赞同：0
> 
> 时间：2013-01-24T12:39:42.070
> 
> 标签：php, javascript, arrays, smarty

我正在检索一个 smarty 数组“数据”，我想将它存储在一个 javascript 变量“存储”中：

```
{if isset({$data})}
        <script type="text/javascript">
            var store = {ldelim}{rdelim};
            {foreach from=$data key=k item=v}
                var index = {$k};
                store.index = {$v};
            {/foreach}
                alert(store);
        </script>
    {/if} 
```

但我没有警报输出。有人可以帮忙吗？

Rmk：我需要它来运行它

```
$("input").each(function(index) {
                    return this.value = store.index;
                }); 
```

编辑：在源代码中，我得到 var store = {};

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:57:04.947

与其尝试通过 Smarty 创建 javascript 对象/数组的冗长且难以阅读的方式，不如试试这个；

```
$arr = json_encode(array(array('key1' => 'value1'), array('key2' => 'value2')));
$smarty->assign('data', $arr); 
```

并在模板中；

```
<script>
var store = {$data};
</script> 
```

因此，我们让 PHP 为我们创建一个有效的 javascript 对象并将该字符串分配给 smarty，Smarty 只是创建了一个变量并分配了该字符串。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-01-24T12:45:18.183

你写错了标签。在 Smarty 中，要启用 JavaScript，您必须使用`{literal}`标签。

例如：

```
{literal}
<script type="text/javascript" language="javascript">
// All your regular javascript code.....
</script>
{/literal} 
```

# c# - XAML 嵌入式 WinForms 面板不支持直接内容？

> ID：14501604
> 
> 赞同：0
> 
> 时间：2013-01-24T12:40:02.040
> 
> 标签：c#, wpf, winforms, tablelayoutpanel, windowsformshost

我正在尝试使用以下代码在我的 WPF UserControl 中放置一个 Winforms 面板；

```
<WindowsFormsHost Grid.Row="3">
    <WinForms:Panel>
        <WinForms:TableLayoutPanel x:Name="myLayoutPanel" />
    </WinForms:Panel>
</WindowsFormsHost> 
```

错误：

> “面板”类型不支持直接内容。

然后我将`TableLayoutPanel`在 C# 代码中初始化面板。有什么想法可以解决此错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-02T22:19:15.247

Windows.Forms 面板容器称为控件。您应该可以通过执行以下操作来添加它：如果是我，我将创建一个 Winforms UserControl 并将其添加到 WinFormsHost。

```
<WindowsFormsHost Height="100" HorizontalAlignment="Left" Margin="10,108,0,0" Name="windowsFormsHost1" VerticalAlignment="Top" Width="200">
    <WinForms:Panel BackColor="Red" Dock="Fill">
        <WinForms:Panel.Controls>
            <WinForms:TableLayoutPanel x:Name="myLayoutPanel"/>
        </WinForms:Panel.Controls>
    </WinForms:Panel>
</WindowsFormsHost> 
```

# php - 从 PHP 脚本发送的电子邮件丢失

> ID：14501611
> 
> 赞同：0
> 
> 时间：2013-01-24T12:40:29.210
> 
> 标签：php, email

在我的网站上，我有一个联系表。当用户填写表单时，PHP 脚本会将其保存到 MySQL 数据库中，并向我发送一封包含用户详细信息的电子邮件。通常，这可以正常工作。但是，有时详细信息会保存到 MySQL 但我没有收到电子邮件通知。

我让网络托管公司向我发送了他们的日志文件的副本，它显示正在发送电子邮件 - 这是其中一封丢失电子邮件的日志条目：

```
2013-01-23 10:49:39 1Txxth-00046B-VL => me@mysite.com R=dnslookup T=remote_smtp H=b.mx.mymailserver.net [123.456.789.10] 
```

这向我表明该电子邮件已发送，但不知何故没有送达我们 - 什么可能导致这种情况发生？据推测，如果服务器尝试发送电子邮件时出现错误，它会出现在上面的日志摘录中？

我正在使用 PEAR 的 Mail.php 通过 SMTP 发送电子邮件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T15:15:41.150

事实证明，问题是由于这些电子邮件使用用户的电子邮件地址作为发件人地址这一事实引起的。这以某种方式阻止了发送（可能是因为邮件服务器认为它是垃圾邮件）。

将其从“发件人”地址更改为“回复”地址似乎可以解决问题。

# java - 从 HTML 表单的下拉列表中选择其他选项时不保存文本

> ID：14501615
> 
> 赞同：0
> 
> 时间：2013-01-24T12:40:44.857
> 
> 标签：java, html, jsp

我正在使用以下代码以 html 形式开发下拉列表。

```
<html:select property="complaintCategory" onchange="showfield(this.options[this.selectedIndex].value)" >
<html:option value="option1">option1</html:option>
<html:option value="option2">option2</html:option>
<html:option value="option3">option3</html:option>
<html:option value="Other">Other</html:option>
</html:select>
<div id="div1"></div> 
```

我想创建一个文本框，以便用户在选择**其他**选项时可以写一些东西。函数 showField(name) 正在创建新的文本框。

```
function showfield(name)
    {
        if(name=='Other')document.getElementById('div1').innerHTML='<input type="text" name="complaintCategory" />';
        else document.getElementById('div1').innerHTML='';
    } 
```

我面临的问题是，当我从下拉列表中选择“其他”选项然后在上面写一些东西时，它不会保存文本，它只保存为值**Other**。我想将文本框中的文本作为投诉类别传递。真的很感谢有人在这方面的帮助，我被困住了。

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:51:36.067

（我正在研究`<html:select property="complaintCategory"`将输出的假设`<select name="complaintCategory"`。将问题缩小到服务器端代码或客户端代码并仅提供其中一个通常会有所帮助。）

当您提交表单时（选择其他后），您将有*2 个*具有相同名称的元素。

无论您使用什么服务器端代码来读取提交的表单数据，它似乎都采用了*第一个*值。

任何一个：

1.  修改您的服务器端代码以获取第二个值（我不知道您用于解析表单数据的 API，因此无法告诉您具体内容）
2.  通过不同的名称和 if 语句调用生成的输入。

例如

客户端：

```
if(name=='Other')document.getElementById('div1').innerHTML='<input type="text" name="otherComplaintCategory" />'; 
```

服务器端（伪代码）：

```
IF complaintCategory is "Other":
THEN complaintCategory = otherComplaintCategory 
```

# c# - 创建一个 ZipFile 并向其中添加一个带有内存字符串的 txt 文件

> ID：14501623
> 
> 赞同：0
> 
> 时间：2013-01-24T12:41:03.177
> 
> 标签：c#, compression, sharpziplib

我正在使用 SharpZipLib，但我找不到任何有关如何创建新 ZipFile 并向其添加包含来自内存（而不是来自现有文件）的字符串的文件的示例。有什么建议吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:43:16.200

检查他们的 GitHub 页面，它有很多示例 -> [https://github.com/icharpcode/SharpZipLib/wiki/Zip-Samples](https://github.com/icsharpcode/SharpZipLib/wiki/Zip-Samples)

# ruby-on-rails - 在“设计”会话中查找用户电子邮件

> ID：14501625
> 
> 赞同：1
> 
> 时间：2013-01-24T12:41:08.960
> 
> 标签：ruby-on-rails, devise

我通过以下方式成功找到了登录用户的 ID：

```
#{session['warden.user.user.key'][1][0]} 
```

如何获取用户使用它登录的电子邮件？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-24T12:45:09.080

当您已经使用 devise 登录时，您可以从**current_user对象获取电子邮件**

`current_user.email`

# git - 没有本地存储库的 Git

> ID：14501631
> 
> 赞同：6
> 
> 时间：2013-01-24T12:41:22.973
> 
> 标签：git

考虑（例如）20GB 目录存储在具有 20.1GB 可用磁盘空间的计算机上的情况，并且我们希望将此目录置于修订控制之下。服务器可用于存储修订历史。

在 subversion 中，我们从服务器签出一个空目录，添加文件并提交它。这将创建与工作目录大小大致相同的 .svn 目录，以便它可以检测更改并创建差异。当您进行定期更改时，.svn 目录的大小不会随着时间而改变。

然而，在 git (git init .; git add .; git commit) 中尝试这个需要我们在本地存储完整的历史记录。随着定期更改（假设无法很好地压缩的大型二进制文件），.git 目录会增长，直到它不适合磁盘。

有没有办法操作 git 以便它不会在本地存储完整的历史记录；以便它只保留有关您正在处理的分支尖端的数据，并在每次需要有关历史修订或其他分支的信息时查询远程服务器？

*注意：我知道 .git 目录的压缩效果更好，您可以在它比 .svn 目录大之前进行大量修改 - 问题是它会随着时间的推移而增长，而 .svn 不会*

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2015-02-15T08:39:23.857

根据您想要做什么，这些答案可能会给您一个线索[Browse and display files in a git repo without cloning](https://stackoverflow.com/questions/1178389/browse-and-display-files-in-a-git-repo-without-cloning)。一般来说，有几种解决方案

*   如果您具有 ssh 访问权限，则使用远程副本。
*   使用访问 API，例如 GitHub 提供的 API。
*   使用“浅克隆”：`git clone --depth=1`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:44:22.030

GIT 是一个分布式 CVS。这种 DCVS 的核心是它们在本地存储历史记录。

你无法改变这一点。

# java - 如何在我的 java 类中从 web.xml 获取 servlet 实例

> ID：14501640
> 
> 赞同：1
> 
> 时间：2013-01-24T12:42:09.210
> 
> 标签：java, servlets

我的条目中有以下条目，`web.xml`并且我需要在我的 java 文件中使用该类的实例，我该怎么做？

```
<servlet>
    <servlet-name>DummyServlet</servlet-name>
    <servlet-class>javax.faces.webapp.Xxxx</servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:49:15.827

目前我不相信你可以作为 servlet 容器创建任何给定 servlet 的单个实例并产生线程来满足请求。访问容器也正在使用的那个实例根本不符合您的利益

还有（现已弃用）`ServletContext.getServlet("yourClassName")`。但是不要这样做我很难想象在什么情况下您需要控制 DI 和良好设计无法帮助您避免的 servlet 实例。具体问题是什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:49:24.537

您通常不需要，servlet 容器负责为 web.xml 中的每个 servlet 元素实例化单个 Servlet 实例，并使用这些实例来处理请求和生成响应。

否则，您可能需要解析 web.xml 并使用 Class.forName(className) 获取 servlet 类，然后使用 clazz.newInstance() 创建一个实例，假设存在默认构造函数（它应该，因为这是一个 servlet） .

# php - 自动完成并重新排列分区

> ID：14501641
> 
> 赞同：0
> 
> 时间：2013-01-24T12:42:09.213
> 
> 标签：php, jquery, mysql, ajax, jquery-ui

我有一个页面在单独的块中显示多个类别。有一个用于搜索类别的搜索框。例如：

```
╔══════════╦══════════╦══════════╦═══════════╗
║ CATEGORY ║ CATEGORY ║ CATEGORY ║ CATEGORY  ║
╠══════════╬══════════╬══════════╬═══════════╣
║ CATEGORY ║ CATEGORY ║ CATEGORY ║ CATEGORY  ║
╠══════════╬══════════╬══════════╬═══════════╣
║ CATEGORY ║ CATEGORY ║ CATEGORY ║ CATEGORY  ║
╚══════════╩══════════╩══════════╩═══════════╝ 
```

我需要的是，当有人键入时，块应根据匹配的字符重新排列（不刷新页面）。我也在使用 php、jquery，当然还有 AJAX。请问有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T15:06:20.653

我使用 jQuery Quicksand 来实现类似的效果：

[http://razorjack.net/quicksand/](http://razorjack.net/quicksand/)

您可以很容易地绑定到文本输入以重新排列网格。

# php - ajax注册验证和认证

> ID：14501643
> 
> 赞同：2
> 
> 时间：2013-01-24T12:42:19.647
> 
> 标签：php, jquery, ajax, forms, jquery-mobile

我有一个注册表单，当填写并按下“注册”按钮时，js 正在检查该表单，以查找空字段并检查用户名的可用性，或者是否已通过通过 ajax 向 php 发送信息并接收答案来使用电子邮件或移动电话号码. 但是我的js不会一直工作。这是我的 js 脚本：

```
$("#reg_button").click(function(){
    user = $("#usr").val();
    pass = $("#psw").val();
    fname = $("#first_name").val();
    sname = $("#second_name").val();
    dateb = $("#date_birth").val();
    email = $("#email").val();
    mobnum = $("#mob_num").val();

    if(user == ""){
        alert("First name must be filled out");
        $('#usr').focus();
        return false;
    }else if(pass == ""){
        alert("Password must be filled out");
        $('#psw').focus();
        return false;
    }else if(fname == ""){
        alert("First name must be filled out");
        $('#first_name').focus();
        return false;
    }else if(sname == ""){
        alert("Second name must be filled out");
        $('#second_name').focus();
        return false;
    }else if(dateb == ""){
        alert("Date of birth must be filled out");
        $('#date_birth').focus();
        return false;
    }else if(email == ""){
        alert("Email must be filled out");
        $('#email').focus();
        return false;
    }else if(mobnum == ""){
        alert("Mobile number must be filled out");
        $('#mob_num').focus();
        return false;
    }else{
        ajaxCheck();
    }

    function ajaxCheck(){
        $.ajax({
            type: "POST",
            url: "http://imes.*********.com/php/check_info_reg.php",
            data: "usr="+user+"&email="+email+"&mob_num="+mobnum,
            dataType: "json",
            success: function(json){
                if(json.success){
                    var user_conf = json.data.usr;
                    var email_conf = json.data.email;
                    var mob_conf = json.data.mob;

                    if(user_conf == "taken"){
                        alert("Username already taken. Choose another one.");
                        $('#usr').focus();
                        return false;
                    }

                    if(email_conf == "taken"){
                        alert("Email already registered. If you lost your password, retrieve it on login page.");
                        $('#email').focus();
                        return false;
                    }

                    if(mob_conf == "taken"){
                        alert("Mobile number already registered. If you lost your password, retrieve it on login page.");
                        $('#mob_num').focus();
                        return false;
                    }
                }else{
                    //Here could go another ajax, for actualy sending the 
                    //info into the php script which sends it to database.
                }
            },
            beforeSend: function() { $.mobile.showPageLoadingMsg(); }, //Show spinner
            complete: function() { $.mobile.hidePageLoadingMsg() }, //Hide spinner
        });
        return false;
    }
}); 
```

还有我的 php：

```
<?php
$username = mysql_real_escape_string($_POST['usr']);
$email = mysql_real_escape_string($_POST['email']);
$mob_num = mysql_real_escape_string($_POST['mob_num']);

include('mysql_connection.php');
mysql_select_db("jzperson_imesUsers", $con);

$sql1 = mysql_query("SELECT * FROM registered_user WHERE username='$username'");
$sql2 = mysql_query("SELECT * FROM registered_user WHERE email='$email'");
$sql3 = mysql_query("SELECT * FROM registered_user WHERE mobile_num='$mob_num'");

$res1 = mysql_num_rows($sql1);
$res2 = mysql_num_rows($sql2);
$res3 = mysql_num_rows($sql3);

if(isset($username) && !empty($username){
if($res1 >= 1){
    //JSON message: Username already taken. Choose different.
    echo json_encode(array('success'=>true, 'usr'=>"taken"));
}
}

elseif(isset($email) && !empty($email)){
if($res2 >= 1){
    //JSON message: Email already registered. Retrieve on "login"(login => link).
    echo json_encode(array('success'=>true, 'email'=>"taken"));;
}
}

elseif(isset($mob_num) && !empty($mob_num)){
if($res3 >= 1){
    //JSON message: Mobile number already registered. Retrieve on "login"(login => link).
    echo json_encode(array('success'=>true, 'mob'=>"taken"));
}
}

else{
echo json_encode(array('success'=>false));
}
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:53:08.427

您的 php 文件中缺少括号：

```
if(isset($username) && !empty($username){ 
```

应该

```
if(isset($username) && !empty($username)){ 
```

# php - MySql“WHERE”构建器

> ID：14501644
> 
> 赞同：2
> 
> 时间：2013-01-24T12:42:22.203
> 
> 标签：php, mysql, where

我正在考虑实现一个函数来“构建” `WHERE`SQL 请求中的子句，如下所示：

```
"SELECT * FROM table $where" 
```

使用如下所示的循环构建`$where`：

```
$arr=array("Id"=>"1","Time"=>"12:00");
function whereBuild($arr){
    foreach ($arr as $key => $val){
      $result.=$key.'="'.$val.'" AND ';
    }
    $result = substr($result, 0, -5); // removes last AND and spaces
    return $result
}
$where = whereBuild($arr); 
```

你怎么看？这有什么意义吗？能否以更简单/更好的方式实现？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T12:45:41.203

如果您总是`AND`在查询中使用，您可以构建一个数组并在返回时将其内[爆。](http://php.net/implode)

```
$arr = array("Id"=>"1","Time"=>"12:00");
function whereBuild($arr){
    $result = array();
    foreach ($arr as $key => $val){
      $result[] = $key.'="'.$val.'"';
    }
    return implode(" AND ", $result);
}
$where = whereBuild($arr); 
```

# python - MRJob :- 在 map reduce 中显示中间值

> ID：14501647
> 
> 赞同：4
> 
> 时间：2013-01-24T12:42:27.837
> 
> 标签：python, hadoop, mapreduce, mrjob

在使用 python MRJob 库运行 mapreduce 程序时，如何在终端上显示中间值（即打印变量或列表）？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T10:50:58.990

您可以使用 sys.stderr.write() 将结果输出到标准错误。这是一个例子：

```
from mrjob.job import MRJob
import sys
class MRWordCounter(MRJob):
    def mapper(self, key, line):
        sys.stderr.write("MAPPER INPUT: ({0},{1})\n".format(key,line))
        for word in line.split():
            yield word, 1

    def reducer(self, word, occurrences):
        occurencesList= list(occurrences)
        sys.stderr.write("REDUCER INPUT: ({0},{1})\n".format(word,occurencesList))
        yield word, sum(occurencesList)

if __name__ == '__main__':
    MRWordCounter.run() 
```

# c# - aspx面板中的神秘空白

> ID：14501649
> 
> 赞同：1
> 
> 时间：2013-01-24T12:42:31.040
> 
> 标签：c#, asp.net

我有一个简单的 for 循环，可将数组中的项目添加到 Panel 控件。

在将项目添加到面板之前，我通过新的文字控件将信息输出到表格中。

无论如何，每当我添加这一行

```
Panel1.Controls.Add(new LiteralControl("<table border='1' cellspacing='10'>")); 
```

我最终得到

```
-----------巨大的空白空间-------------
X
X
X
X
X
------------------------然后我的桌子在它下面。
废话1废话2
废话3废话4

```

一旦我注释掉空白上方的行，我的桌子当然也会坏掉。

有任何想法吗？

# backbone.js - Backbone.js - 自定义集合不起作用

> ID：14501651
> 
> 赞同：0
> 
> 时间：2013-01-24T12:42:33.707
> 
> 标签：backbone.js, backbone-views

在backbone.js 中，为了过滤数据，我通过单击元素来获取。我将收藏保存为新收藏。但我无法获得任何数据。

我的代码有什么问题...

我的代码：

```
taskListPhraseI.collection = Backbone.Collection.extend({ // collection fetching
    model:taskListPhraseI.model,
    url : 'data/data.json',
  });

taskListPhraseI.allView = Backbone.View.extend({
    el:$('.boardHolder'),
    events:{
      'click span.green' : 'filterIt'
    },
    initialize:function(){
      var that = this;_.bindAll(this);
      this.collection = new taskListPhraseI.collection(); //initial stage i am fetching
      this.collection.fetch({success:that.render});

      this.on('change:filterType', this.setNewType); //on click trigger my custom method to get the collection again
      //this.on('reset:filterType', this.setNewType);
    },
    setNewType:function(){
      var newCollection = new taskListPhraseI.collection(); // my custom collection
      newCollection.fetch(); // fetching
      this.collection.reset(newCollection,{ silent: true }) // triggering rest
      var filterType = this.filterType,
            filtered = _.filter(this.collection.models, function (item) {
                return item.get("dueDays") === filterType;
            });
            console.log(newCollection.models); // not working... why?
            console.log(this.collection.models);// works

      this.collection.reset(filtered);
    }, 
```

或者我做错的方式..过滤收藏

任何人都可以指导我正确的处理方式...在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T13:19:27.653

`fetch`是异步的。获取集合后执行您的代码

```
newCollection.fetch({context:this}).done(function() {
  // your code
}) 
```

另外，这不是正确的`reset`方法用法：

```
this.collection.reset(newCollection,{ silent: true }) 
```

使用这种方式：

```
this.collection.reset(newCollection.toJSON(), {silent:true}) 
```

## 编辑（添加示例）

**HTML**

```
<button>change filter</button> 
```

**JS**

```
var url1 = 'https://api.twitter.com/1/statuses/user_timeline.json?screen_name=vpetrychuk&count=9'
var url2 = 'https://api.twitter.com/1/statuses/user_timeline.json?screen_name=derickbailey&count=9'
var collection = new (Backbone.Collection.extend({
    url : url1,
    resetWithFilter : function(key, value) {
      var query = {};
      query[key] = value;
      this.reset(this.where(query));
    }
}));

// fetch initial data
collection.fetch({dataType:'jsonp'});

$(':button').on('click', function() {
  // change url and fetch another data
  collection.url = url2;
  collection.fetch({dataType:'jsonp'}).done(function(response) {
      console.log('items count before filter:', collection.length);
    // now reset collection with selected filter
    collection.resetWithFilter('id_str', '294429621640912896');
    console.log('items count after filter:', collection.length)
  });
}); 
```

小提琴：http: [//jsfiddle.net/vpetrychuk/N4ZKm/](http://jsfiddle.net/vpetrychuk/N4ZKm/)

# vb.net - 如何找到变量的地址？

> ID：14501655
> 
> 赞同：1
> 
> 时间：2013-01-24T12:42:43.937
> 
> 标签：vb.net

我知道我们可以在 C/C++ 中使用 & 或在 C# 中以某种方式找到它。VB.NET 中的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-12T11:09:08.870

实际上，这个答案确实可以使 VB5/VB6 VarPtr 函数在 VB.Net 中可用。只需修复声明中的错误。我尝试将它与 memcpy 一起使用来复制整数并且它有效。

声明函数 VarPtr Lib "MSVBVM60.DLL" Alias "VarPtr" (ByRef Variable As Integer) As Integer

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-10-14T06:15:37.043

从[微软支持](http://support.microsoft.com/kb/199824)我在这里建议一个解决方案：

让`a`是一个整数变量，`address`是一个长变量，它保存地址`a`

```
 Declare Function adresMemory Lib "msvbvm50.dll" Alias "VarPtr" _
(ByVal Var As Integer) As Long
 Dim a As Integer = 10
 Dim address As Long = adresMemory(a)'<------ address holds the address of variable a 
```

# c - 如何通过 C 语言中的循环更改对象名称？

> ID：14501657
> 
> 赞同：1
> 
> 时间：2013-01-24T12:42:47.460
> 
> 标签：c

如何通过循环更改对象名称？

我想创造一个像骑士一样的灯光效果。有 PIC

我想而不是手动打开和关闭使用循环来更改 RB 行号。

我想更改此端口行名称的最后一个数字：like RB01 RB02 like this

我的代码是这样的

```
for(int i = 0; i>6 ; i++ ){

PORTB = 0X00;
RB+i = 1;

} 
```

有什么方法可以做这样的事情吗？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T12:55:38.060

假设`RB01`,`RB02`等只是方便`#define`s 访问 中的位`PORTB`，您可以使用按位算术编写循环而根本不使用`RB0*`。

```
for ( int i = 0; i != 6; ++ i ) {
    PORTB = 1 << i; /* one light at a time */
    /* or */
    PORTB = ( 1 << i + 1 ) - 1; /* light all in sequence */
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T12:46:15.677

它不是很优雅，但一种方法是这样做：

```
PORTB = 0x00;
for (i = 0; i < 6; ++i)
{
    RB00 = (i == 0);
    RB01 = (i == 1);
    RB02 = (i == 2);
    RB03 = (i == 3);
    RB04 = (i == 4);
    RB05 = (i == 5);
    // note: you probably want to put a delay in here, e.g. 200 ms
} 
```

如果您想在每次打开新 LED 时保持之前的 LED 亮起，那么您可以这样做：

```
PORTB = 0x00;
for (i = 0; i < 6; ++i)
{
    RB00 = (i >= 0);
    RB01 = (i >= 1);
    RB02 = (i >= 2);
    RB03 = (i >= 3);
    RB04 = (i >= 4);
    RB05 = (i >= 5);
    // note: you probably want to put a delay in here, e.g. 200 ms
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T12:46:02.723

不，没有办法以这种方式“生成”符号名称。您可以使用位掩码来操作相关端口的锁存寄存器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T13:18:39.523

我可能会使用一张桌子：

```
struct portbits
{
   sometype bit;   // Not quite sure what "RB0..RB5" actually translate to. 
};

struct portbits bits[] =
{
   RB00, 
   RB01, 
   RB02, 
   RB03, 
   RB04, 
   RB05, 
   RB06, 
   RB07, 
};

for(i = 0; i < 7; i++)
{
   bits[i] = 1; 
} 
```

# android - 如何从android播放rtsp直播？(rtsp://someserver:port/live/001204A006F5.stream)

> ID：14501660
> 
> 赞同：5
> 
> 时间：2013-01-24T12:43:05.577
> 
> 标签：android, android-videoview, android-video-player

我有这个视频 url rtsp://someserver:port/live/001204A006F5.stream 并想从 android 媒体播放器播放相同的视频。我已经编写了以下代码片段，但 android 显示了一个带有消息“无法播放此视频”的对话框。

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);`

    videoPlayer = (VideoView) findViewById(R.id.videoPlayer);   
    videoPlayer.setOnPreparedListener(this);
    videoPlayer.setOnCompletionListener(this);
    videoPlayer.setKeepScreenOn(true);    
    Uri uri = Uri.parse("rtsp://someserver:port/live/001204A006F5.stream");
    videoPlayer.setVideoURI(uri);
}

/** This callback will be invoked when the file is ready to play */
public void onPrepared(MediaPlayer vp) {
    if(videoPlayer.canSeekForward()) videoPlayer.seekTo(videoPlayer.getDuration()/5);
       videoPlayer.start();
} 
```

难道我做错了什么？或者无法使用 VideoView 播放该链接？

# c# - 试图用一个monogame项目和一个类库创建一个解决方案，它不会让我在它们之间添加引用

> ID：14501662
> 
> 赞同：0
> 
> 时间：2013-01-24T12:43:10.690
> 
> 标签：c#, .net, monogame

前段时间我在 XNA 中写了一个游戏，它只有两个项目——一个游戏和一个库。它运行良好，现在我将它移植到 Monogame。

我创建了一个 MonoGame 游戏项目和一个类库，并将旧 XNA 项目中的所有文件放入其中。类库的构建没有问题或错误。但是，它不会让我从我的其他（游戏）项目中添加对它的引用。

它只是说“无法添加对 [MyLibrary] 的引用”

我读到了一些关于它的内容，可能是因为它们针对不同的框架——一个针对.net，一个针对“.net CORE”，但我不知道是否是这种情况，或者如何解决它。

谁能告诉我我应该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T00:31:11.830

关于框架定位问题，您可能是对的。

有几种方法可以解决这个问题，第一种是尝试将您的库更改为可移植类库。它们旨在能够针对不同的框架，包括 MonoGame 支持的不同框架。 [http://msdn.microsoft.com/en-au/library/gg597391.aspx](http://msdn.microsoft.com/en-au/library/gg597391.aspx)

可移植类库的缺点是它们只支持完整 .NET 框架的一个子集。如果是这种情况，您需要尝试将您的库更改为 Mono for Android Library 项目（或您所针对的任何框架）。

如果您想为多个目标框架构建并且需要最小化每个项目中重复代码的数量，我认为您最好的选择是将文件作为“链接”添加到每个项目。它增加了一些维护，但允许您在一个项目中编辑文件并在所有项目中进行更改。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-25T22:56:11.133

如果我是你，我会避免使用便携式类库，这既是出于@craftworkgames 指定的原因，也是出于我自己开发 Windows 8 应用程序的经验——它们只会给你带来麻烦。虽然从设计原则来看，将您的类分成自己的库是件好事，但我只会将它们全部添加到您的开发项目中（除非您正在编写一个您希望世界能够使用的 API？）

# php - 功能打印但不能进入数组

> ID：14501668
> 
> 赞同：2
> 
> 时间：2013-01-24T12:43:37.170
> 
> 标签：php, arrays, wordpress, function

我们在尝试将函数生成的多个值插入数组时遇到了麻烦。当我们使用字符串打印函数并手动复制结果时，它可以工作，但是当我们尝试使用字符串使其工作到数组中时，它就不行了。

```
<?php 

function dateRange( $first, $last, $step = '+1 day', $format = 'm/d/Y' ) {

$current = strtotime( $first );
$last = strtotime( $last );

while( $current <= $last ) {

    $dates .= "'" . date( $format, $current) . "', ";
    $current = strtotime( $step, $current );
}

return $dates;
} 

$all_dates = dateRange( '01/20/1999', '01/23/1999'); 

echo $all_dates; /* PRINTS ALL DATES BETWEEN TWO DATES: '01/20/1999', '01/21/1999', '01/22/1999', '01/23/1999', */

query_posts( array(
'post_type' => 'bbdd',
'meta_query' => array(
    $location,
    array(
        'key' => 'date',
        'value' => array($all_dates), /*  DOESN'T WORK. INSTEAD, IF WE COPY THE RESULT OF "echo $all_dates;" MANUALLY, IT DOES WORK */
    ),
)
) );

?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T12:47:12.607

您在函数中返回一个字符串，而不是一个数组。

```
function dateRange( $first, $last, $step = '+1 day', $format = 'm/d/Y' ) {

    $current = strtotime( $first );
    $last = strtotime( $last );

    while( $current <= $last ) {

        $dates[] = date($format, $current);
        $current = strtotime($step, $current );
    }

    return $dates;
} 
```

这将返回一个数组。

然后，在您的 mysql 查询中：

```
'value'   => $all_dates 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:48:35.523

为什么不把它放在一个数组中：

```
<?php

function dateRange( $first, $last, $step = '+1 day', $format = 'm/d/Y' ) {
    $dates = array();
    $current = strtotime( $first );
    $last = strtotime( $last );

    while( $current <= $last ) {

            $dates[] = date($format, $current);
            $current = strtotime( $step, $current );
    }

    return $dates;
} 

?> 
```

# android - android在状态更改时更改视图的背景颜色

> ID：14501669
> 
> 赞同：0
> 
> 时间：2013-01-24T12:43:38.023
> 
> 标签：android, colors, selector, drawable, statelist

如何使用颜色状态列表作为背景？我知道`android:background="@drawable/drawable_selector"`，但`android:background="@color/color_selector"`会导致异常。但`android:background="#FFFFFF"`再次工作，谁能解释为什么？

现在我想在按下时更改布局的背景颜色（不是可绘制的），该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-26T02:48:02.043

把颜色放在res/values/colors.xml中，比如#FFFFFF，然后在drawable目录下创建一个drawable xml，就OK了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:08:29.203

动态你可以像这样改变。如果它对您有用，请使用它 - textView.setBackgroundColor(Color.parseColor(getResources().getString(R.string.red)));

# java - Java SDCH 压缩器/解压缩器

> ID：14501671
> 
> 赞同：0
> 
> 时间：2013-01-24T12:43:49.307
> 
> 标签：java, google-chrome, compression, gzip, vcdiff

有人知道一个Java库来解码/编码SDCH压缩？？？它是由 Google 创建并在他们的 Google Chrome 网络浏览器中实现的……所以它很快就会成为标准

关于它的一些链接： [http](http://en.wikipedia.org/wiki/Shared_Dictionary_Compression_Over_HTTP) ://en.wikipedia.org/wiki/Shared_Dictionary_Compression_Over_HTTP http://google-opensource.blogspot.ie/2008/09/open-vcdiff-encoder-and-decoder-for-rfc.html

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:47:39.623

SDCH 是将[VCDIFF](http://en.wikipedia.org/wiki/VCDIFF)压缩算法应用于 HTTP 的标准的名称。该网页列出了实现。一个是[Xdelta](http://en.wikipedia.org/wiki/Xdelta)。

# vb.net - 从开始日期到结束日期的VB日期搜索

> ID：14501672
> 
> 赞同：0
> 
> 时间：2013-01-24T12:43:50.240
> 
> 标签：vb.net

希望我能在这里得到一些帮助。我有以下代码在 2 个日期之间进行过滤。问题是。它从开始日期过滤到结束日期。因此，当我想运行 2013 年 1 月 1 日的日期搜索时，我需要这样做。datetimepicker1 为 1/1/2013，datetimepicker2 为 2/1/2013。

我该如何纠正？如何将 +1 添加到结束日期..

```
BindingSource1.Filter = String.Format("FromDate >= #{0:M/dd/yyyy}# AND ToDate <= #{1:M/dd/yyyy}#", _
                                  DateTimePicker1.Value, _
                                  DateTimePicker2.Value) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:46:20.290

最简单的选择是在结束日期上添加一天：

```
BindingSource1.Filter = String.Format("FromDate >= #{0:M/dd/yyyy}# AND ToDate <= #{1:M/dd/yyyy}#", _
                              DateTimePicker1.Value, _
                              DateTimePicker2.Value.AddDays(1)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:47:03.103

你可以使用 datetime.addDays(1)

```
BindingSource1.Filter = String.Format("FromDate >= #{0:M/dd/yyyy}# AND ToDate <= #{1:M/dd/yyyy}#", _
                                  DateTimePicker1.Value, _
                                  DateTimePicker2.Value.addDays(1)) 
```

# c# - LINQ比较2个表，只返回前一项，而不是全部

> ID：14501677
> 
> 赞同：0
> 
> 时间：2013-01-24T12:44:11.663
> 
> 标签：c#, linq

所以...每个工作站都有许多发票，My Linq 语句将工作站连接到发票并比较它们。我只希望我的 LINQ 选择最近的发票（为该工作站生成的上一张发票）。

ATM 将比较所有发票，并且将返回 <= 1 年前今天的任何发票（针对该工作站）。我只希望它在每个工作站的前一张发票小于今天的 12 个月时返回。

在前一个 Q 的帮助下，这就是我所拥有的...

```
 DateTime OneYearAgo = DateTime.Now.AddYears(-1);

        var SelectedObject =
            (from workstation in db.Work_Sites
             join invoice in db.Invoices on workstation.id equals invoice.Site_Id
              where invoice.Invoice_Date <= OneYearAgo
             select workstation).Distinct().ToList(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:49:56.380

```
 DateTime OneYearAgo = DateTime.Now.AddYears(-1);

  var SelectedObject =
            (from workstation in db.Work_Sites
             join invoice in db.Invoices.Where(i => i.Invoice_Date <= OneYearAgo)
                   on workstation.id equals invoice.Site_Id into g
             where g.Any()
             select workstation).ToList(); 
```

这将返回一年前至少有一张发票的工作站。

# jquery-mobile - 在可折叠集中添加“拆分按钮”（JQuery Mobile）

> ID：14501678
> 
> 赞同：3
> 
> 时间：2013-01-24T12:44:15.930
> 
> 标签：jquery-mobile

有什么方法可以将拆分按钮（ListView 附带）添加到可折叠的；我已经尝试/测试了以下代码，但不起作用！

```
 <div data-role="collapsible-set" data-theme="a" data-content-theme="e"  data-split-icon="gear" data-split-theme="e">

<div data-role="collapsible">      

<h3> Breakfast </h3>

<p>
<a href="somthing.html"> the contents comes here. 
</a>
</p>

<a href="#purchase" data-rel="popup" data-position-to="window" data-transition="pop">
split button 2
</a>
</div>

<div data-role="collapsible">      

<h3> Lunch</h3>

<p>
<a href="somthingElse.html"> the contents comes here. 
</a>
</p>

<a href="#purchase" data-rel="popup" data-position-to="window" data-transition="pop">
split button 2
</a>
</div>

</div> 
```

**任何想法或任何其他解决方案（解决方法）都非常受欢迎。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T14:07:04.110

好吧，它需要一些工作，但这就是我所拥有的

现场示例：

*   [http://jsfiddle.net/yPhJp/5/](http://jsfiddle.net/yPhJp/5/)
*   [http://jsfiddle.net/yPhJp/6/](http://jsfiddle.net/yPhJp/6/)（在可折叠部分添加措辞）

JS

```
$(".splitButtonClicked").on("click", function (event, ui) {
    alert('Hello');
    return false; // stop collapsible event
}); 
```

HTML

```
<div data-role="page" id="home">
    <div data-role="content">
        <div data-role="collapsible-set" data-theme="b" data-content-theme="d">
            <div data-role="collapsible">
                <h2>
                    <ul data-role="listview" data-split-icon="gear" data-split-theme="d">
                        <li><a href="#">
                            <h3>Breakfast</h3>
                        </a><a href="#breakfast_menu" data-rel="popup" data-position-to="window" data-transition="pop" class="splitButtonClicked">View Menu</a>
                        </li>
                    </ul>
                </h2>
            </div>
            <div data-role="collapsible">
                <h2>
                    <ul data-role="listview" data-split-icon="gear" data-split-theme="d">
                        <li><a href="#">
                            <h3>Lunch</h3>
                        </a><a href="#lunch_menu" data-rel="popup" data-position-to="window" data-transition="pop" class="splitButtonClicked">View Menu</a>
                        </li>
                    </ul>
                </h2>
            </div>
        </div>
    </div>
</div> 
```

希望这可以帮助你

# sql - 很简单，但很可能是不正确的 Join 给出了 MAX_JOIN_SIZE 错误

> ID：14501682
> 
> 赞同：1
> 
> 时间：2013-01-24T12:44:35.670
> 
> 标签：sql, join

可能是一个简单的 SQL 查询，但仍在学习中挣扎

以下查询运行良好：

```
SELECT NationalArea. * 
FROM NationalArea
WHERE NationalArea.AreaCode =  '01922' 
```

这将返回大约 30 个结果。

这也运行良好：

```
SELECT DestinationNames.Name
FROM `DestinationNames` 
WHERE DestinationNames.AreaCode = '01922' 
```

这仅返回一个

我正在尝试运行一个查询，该查询将国家地区将给出区号列表的两者连接起来，而目的地将使这些区号与城镇名称相匹配。我的查询如下：

```
SELECT NationalArea.*, DestinationNames.Name
FROM NationalArea
JOIN DestinationNames
ON NationalArea.AreaCode=DestinationNames.AreaCode
WHERE NationalArea.AreaCode =  '01922' 
```

但我收到以下错误

> 1104 - SELECT 将检查超过 MAX_JOIN_SIZE 行；检查您的 WHERE 并使用 SET SQL_BIG_SELECTS=1 或 SET MAX_JOIN_SIZE=# 如果 SELECT 没问题

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:53:06.647

您可以显示当前值

```
SHOW VARIABLES LIKE '%MAX_JOIN_SIZE%'; 
```

你可以改变它：

```
SET MAX_JOIN_SIZE = 100 
```

或者完全跳过检查（在查询之前将其作为单独的命令运行）：

```
SET SQL_BIG_SELECTS = 1 
```

但我会首先检查为什么您的加入返回更多。看起来不应该。max_join_size 的默认值为 4294967295！

# sql - sql函数中的协助

> ID：14501691
> 
> 赞同：-1
> 
> 时间：2013-01-24T12:45:04.840
> 
> 标签：sql

我之前已经在下面发布了编写的代码，并得到了正确的代码并消除了错误，但我的标准不令人满意，下面是作为参数传递的原始数据

```
 2007:10113:/I/69071/MLI/Eldridge 
```

作为回报，输出应该是“69071”，为此我给出了以下函数，但我没有得到输出，而且我还保留了一些其他条件来满足其他要求，请帮助我。

```
set ANSI_NULLS ON
set QUOTED_IDENTIFIER ON  --2007:10113:/I/69071/MLI/Eldridge
go
ALTER FUNCTION [dbo].[Empnum] (@RAWDATA NVARCHAR(300))
RETURNS VARCHAR(30)
 AS
BEGIN
DECLARE @TEMP1 NVARCHAR(300), @EMPNUM NVARCHAR(10), @TEMP2 NVARCHAR(300), @TEMP3 NVARCHAR(300)
SET @TEMP3 = 'Disabled'
SET @EMPNUM=''
SET @TEMP2 = @RAWDATA
IF( CHARINDEX(@TEMP3,@RAWDATA,1) = 0) 
BEGIN
--   SET @EMPNUM='11'
 IF ISNUMERIC(SUBSTRING(@RAWDATA,1,1)) = 1
      BEGIN     
 --             
       IF((LEN(@RAWDATA) - LEN(REPLACE(@TEMP2,'/','')))>1)
             BEGIN
             SET @RAWDATA=SUBSTRING(@RAWDATA,CHARINDEX('/',@RAWDATA)+1,LEN(@RAWDATA))    
              SET @RAWDATA=SUBSTRING(@RAWDATA,CHARINDEX('/',@RAWDATA)+1,LEN(@RAWDATA))    
               SET @RAWDATA=SUBSTRING(@RAWDATA,1,CHARINDEX('/',@RAWDATA)-1)
  IF( CHARINDEX('*C',@RAWDATA) = 0 OR
     CHARINDEX('CV',@RAWDATA) = 0 OR
     CHARINDEX('AV',@RAWDATA) = 0 OR
     CHARINDEX('LV',@RAWDATA) = 0 ) 
      BEGIN 
         SET @EMPNUM = ''
         RETURN @EMPNUM
     END
  ELSE 
     BEGIN
         IF ISNUMERIC(SUBSTRING(@RAWDATA,1,1)) = 1
             BEGIN
                 SET @EMPNUM = @RAWDATA
                 RETURN @EMPNUM
          END 
 ELSE
     IF((SUBSTRING(@RAWDATA,1,1)='C') AND ISNUMERIC(SUBSTRING(@RAWDATA,2,1)) = 1)
         BEGIN
             SET @EMPNUM = SUBSTRING(@RAWDATA,2,LEN(@RAWDATA))
             RETURN @EMPNUM
         END
END
 END
END
END
  RETURN @EMPNUM
 END 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:49:07.327

我在我的代码中发现了错误，并更改了“=”o“<>”

```
IF( CHARINDEX('*C',@RAWDATA) <> 0 OR
 CHARINDEX('CV',@RAWDATA) <> 0 OR
 CHARINDEX('AV',@RAWDATA) <> 0 OR
 CHARINDEX('LV',@RAWDATA) <> 0 ) 
 BEGIN 
     SET @EMPNUM = ''
     RETURN @EMPNUM
 END 
```

# .net - 具有数据检索性能的奇怪行为

> ID：14501692
> 
> 赞同：0
> 
> 时间：2013-01-24T12:45:06.187
> 
> 标签：.net, performance, entity-framework

我有一个连接到 WCF 服务以获取所需数据的 MVC3 wep 应用程序。此 WCF 服务使用 Entity Framework 5 Code First 从 MS SQL 2008 R2 数据库中获取数据。

我有一个从数据库中获取数据的调用，它有很多包含，但数据库中的数据非常小。我在检索数据的方法中添加了一个秒表，并记录实际数据检索所需的时间。

在我的机器上，当我重新启动服务时，该方法第一次运行大约需要 3500 毫秒。我猜这是因为 EF 做了一些事情来检查数据库的一致性等等。此后的所有调用都需要 10-40 毫秒，完全可以接受。

然而，在真实服务器上，无论是否是第一次调用，所有调用都需要 4000-5000 毫秒，这是无法忍受的。调用其他检索数据的方法显示相同的症状，并且在服务器上非常慢，但在我的机器上却很快。

我可以看到我的机器和服务器之间的唯一区别是：

我的机器运行 Windows7，有 8Gb 内存，安装了 .NET framework 4.5，MS SQL Server 2008 服务器是运行 Windows Server 2008 R2 的虚拟机，有 4 Gb 专用 RAM，安装了 .NET framework 4 并运行 MS SQL Server 2008 R2 .

任何人都知道为什么数据检索性能在服务器上非常慢，但在我的机器上却没有？

# jasper-reports - 分组表格报告

> ID：14501693
> 
> 赞同：-1
> 
> 时间：2013-01-24T12:45:06.257
> 
> 标签：jasper-reports

如何通过对特定列进行分组来在*iReport 5.0.0中进行报告。*例如

```
username  category       view
xmen        news         good
xmen        media        good
xmen        radio        bad
xmen        tv            ok
Ymen        news         good
Ymen        media        good
Ymen        radio        bad
Ymen        tv            ok 
```

我可以轻松地将其作为表格报告来完成，但是在分组时，我被卡住了。

我想要一个像这样显示的表格报告

```
username  category       view
xmen        news         good
            media        good
            radio        bad
             tv            ok
Ymen        news         good
            media        good
            radio         bad
             tv            ok 
```

组属性在哪里以及如何完成。所有这些都将采用表格形式，我在这里无法做到。

请给我任何一种格式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T12:41:18.197

或者，您可以执行以下操作（使用 iReport）：

*   根据用户名添加报表组，不添加组页眉和页脚
*   将报表检查器中的字段拖放到报表设计器的详细信息区域中。
*   选择`Text field`包含用户名的，在属性面板中取消选中*打印重复值*

生成的报告如下图所示。 ![报告输出](../Images/12041a085c2182817514ed2cddb8ac7a.png)

附上 JRXML 以供进一步参考

```
<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report6" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="9ecb5f72-ce8e-4b32-bc4b-124460d6d018">
    <property name="ireport.zoom" value="1.0"/>
    <property name="ireport.x" value="0"/>
    <property name="ireport.y" value="0"/>
    <queryString>
        <![CDATA[select * from (

select 'xmen' as  username, 'news' as category, 'good' as view
union select 'xmen', 'media', 'good'
union select 'xmen', 'radio', 'bad'
union select 'xmen', 'tv', 'ok'
union select 'Ymen', 'news', 'good'
union select 'Ymen', 'media', 'good'
union select 'Ymen', 'radio', 'bad'
union select 'Ymen', 'tv', 'ok'

) tbl

order by username]]>
    </queryString>
    <field name="username" class="java.lang.String"/>
    <field name="category" class="java.lang.String"/>
    <field name="view" class="java.lang.String"/>
    <group name="user">
        <groupExpression><![CDATA[$F{username}]]></groupExpression>
    </group>
    <columnHeader>
        <band height="20">
            <staticText>
                <reportElement uuid="6cb3e793-d932-4d29-aca4-3b1efa03a5dd" x="0" y="0" width="185" height="20"/>
                <textElement/>
                <text><![CDATA[username]]></text>
            </staticText>
            <staticText>
                <reportElement uuid="341be19e-6a83-4b8d-9878-8e2c8760b014" x="185" y="0" width="185" height="20"/>
                <textElement/>
                <text><![CDATA[category]]></text>
            </staticText>
            <staticText>
                <reportElement uuid="8778300d-b296-41d9-9d12-abda95a80c71" x="370" y="0" width="185" height="20"/>
                <textElement/>
                <text><![CDATA[view]]></text>
            </staticText>
        </band>
    </columnHeader>
    <detail>
        <band height="20" splitType="Stretch">
            <textField>
                <reportElement uuid="4d88aa40-ee74-4535-99a4-e3aec64188d2" isPrintRepeatedValues="false" x="0" y="0" width="185" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[$F{username}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement uuid="c098560e-c140-4b9a-9599-ed0875014c0f" x="185" y="0" width="185" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[$F{category}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement uuid="1784b19e-6adb-4d3e-aa04-d172ee39a7cf" x="370" y="0" width="185" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[$F{view}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
</jasperReport> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-25T12:24:10.947

使用 iReport，您可以通过在报告检查器中右键单击报告名称并“添加报告组”来添加分组。通过意识到您需要在查询设计器中对数据进行分组以及在报表设计器中添加组将主要添加 2 个新频带，这将允许您管理特定于组的报表设计，例如突出显示组名称等...添加设计器中的组还允许您管理变量的评估时间，这将使您能够例如对每个组中的所有元素求和。

但是根据您的示例，您可以通过在用户名列的文本字段中使用表达式和 2 个额外变量来解决问题。添加一个等于 $F{username} 且不进行计算的变量并将其命名为“currentValue” 添加第二个等于 $V{currentValue} 的变量并将其命名为“previousValue”

现在，在 Report Inspector 面板的变量列表中，将变量“previousValue”拖到“currentValue”变量的上方。因为 JR 从上到下执行变量，它首先将 null 赋给“previousValue”，然后将当前值赋给“currentValue”，然后在下一行，“currentValue”将是上一行的值，并将分配给“previousValue” " 然后 "currentValue" 将采用当前值。因此，在您的文本字段表达式中，您只需输入

```
$V{previousValue}==$V{currentValue} ? "" : $F{username} 
```

这样用户名只会在第一次出现时显示。

# android - CallLog.Calls._COUNT

> ID：14501696
> 
> 赞同：0
> 
> 时间：2013-01-24T12:45:12.770
> 
> 标签：android, android-contentprovider

在 Android 文档（内容提供者）中，CallLog.Calls._Count 是 BaseColumns 的一部分，但 logcat 在运行此代码时说无效列 _COUNT：

```
 String[] projection = new String[] { CallLog.Calls._COUNT };

    Cursor cursor = this.getContext().getContentResolver().query(CallLog.Calls.CONTENT_URI, projection, null, null, null); 
```

请看这个问题：[http ://code.google.com/p/android/issues/detail?id=1343](http://code.google.com/p/android/issues/detail?id=1343)

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:54:53.780

Since you are interested in only the number of rows in the directory, you don't need to project the `_COUNT`, try this:

```
int count;
Cursor cursor = this.getContext().getContentResolver().query(CallLog.Calls.CONTENT_URI, null, null, null, null);
if(cursor.moveToLast())
   count = cursor.getPosition(); 
```

I'm not sure if you can find `_COUNT` column in `CallLog.Calls.CONTENT_URI`. If you are not satisfied with my answer above, try finding all column names in the `Cursor` by iterating column indexes.

# multidimensional-array - D 中编译时生成的二维数组

> ID：14501698
> 
> 赞同：3
> 
> 时间：2013-01-24T12:45:31.677
> 
> 标签：multidimensional-array, d, compile-time

在我的程序中，我需要生成具有从 1 到 100,000 的数字的幂（从 0 到 5）总和的数组。

所以我尝试编译这段代码：

```
const enum size_t MAX_ARRAY_SIZE = 100_000 + 1;
const enum size_t MAX_POWER_SIZE = 5 + 1;
const enum power_sum = calc_power_sum();

// some unimportant code here

pure ulong[MAX_POWER_SIZE][MAX_ARRAY_SIZE] calc_power_sum() {
    ulong[MAX_POWER_SIZE][MAX_ARRAY_SIZE] power_sum;

    power_sum[0][] = 1;

    foreach (x, ref element; power_sum[1]) {
        element = x;
    }

    foreach (n; 2 .. MAX_POWER_SIZE) {
        foreach (x, ref element; power_sum[n]) {
            element = power_sum[n - 1][x] * power_sum[1][x];
        }
    }

    foreach (ref power; power_sum) {
        foreach (x; 1 .. MAX_ARRAY_SIZE) {
            power[x] += power[x - 1]; // error appears here
        }
    }

    return power_sum;
} 
```

但是编译器说：

```
$ dmd problem.d
problem.d(130): Error: array index 6 is out of bounds [1LU, 2LU, 3LU, 4LU, 5LU, 6LU][0 .. 6]
problem.d(15): called from here: calc_power_sum() 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T13:31:53.870

乍一看，您似乎只是误解了数组维度顺序。你有

```
ulong[MAX_POWER_SIZE][MAX_ARRAY_SIZE] 
```

并且您的代码假设直接相反

```
ulong[MAX_ARRAY_SIZE][MAX_POWER_SIZE] 
```

另外我担心 100 000 可能有点太多了，在上面提到的修复之后我得到一个内部编译器错误。虽然适用于较小的`MAX_ARRAY_SIZE`值。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-25T13:04:25.113

正如 Mihail 所说，您应该颠倒尺寸的顺序。

但是，您很可能无法为所有大小执行您计划的操作，因为静态数组的最大大小在 D ( [http://dlang.org/arrays.html](http://dlang.org/arrays.html) ) 中是有限的：

> 静态数组的总大小不能超过 16Mb。

# java - 复杂性好、中等和最差

> ID：14501699
> 
> 赞同：1
> 
> 时间：2013-01-24T12:45:36.187
> 
> 标签：java, time-complexity

我创建的这种计算两个数组交集的方法的复杂度（在好，平均，最差的情况下）是线性的？在）

```
public void getInt(int[] a,int[] b){
    int i=0;
int j=0;    
while(i<a.length && j<b.length){
  if(a[i]==b[j]){
    System.out.print(a[i]+" ");
    i++;j++;
  }else if(a[i]<b[j]) i++;
   else if(a[i]>b[j]) j++;
  } 
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:50:02.363

是的，它将是线性的。它是 O(m+n)，其中 m 是 a 的长度，n 是 b 的长度

# android - 从 zxing 获取结果 - 直接集成在 Android 中

> ID：14501700
> 
> 赞同：1
> 
> 时间：2013-01-24T12:45:38.120
> 
> 标签：android, qr-code, zxing

我对所有编程内容都很陌生，所以如果我的问题相当愚蠢，请原谅我；）

我将 zxing 直接集成为一个库，现在我尝试扫描一些 QR 码并获得结果。但遗憾的是我不知道如何获得它。

我发现了一些提示，它可以与“onActivityResult(int requestCode, int resultCode, Intent intent)”一起使用，为此我必须声明一个像这样的新意图

```
Intent intent = new Intent("com.google.zxing.client.android.SCAN");
intent.putExtra("SCAN_MODE", "QR_CODE_MODE");
startActivityForResult(intent, 0); 
```

但是如果我将此代码复制到我的应用程序中，它总是会尝试打开第三方应用程序。那正是我不想要的。我确定我的错误非常明显，但我没有看到它；）对每一次帮助都会很高兴。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T18:46:16.927

如果我没有误解你，你想在本地显示 ZXing。为此，请遵循本教程

[http://damianflannery.wordpress.com/2011/06/13/integrate-zxing-barcode-scanner-into-your-android-app-natively-using-eclipse/](http://damianflannery.wordpress.com/2011/06/13/integrate-zxing-barcode-scanner-into-your-android-app-natively-using-eclipse/)

如有任何疑问，请告诉我。问候。

# ruby-on-rails - 如何从类方法返回未更改的 AR 关系

> ID：14501703
> 
> 赞同：3
> 
> 时间：2013-01-24T12:45:42.513
> 
> 标签：ruby-on-rails

我有这样的代码：

```
class Item < ActiveRecord::Base
  class << self
    def for_category(c)
      if c
        return where(:category_id => c.id)
      else
        return self
      end
    end
  end
end 
```

我需要这样称呼它：

```
Item.where("created_at > ?", Time.now - 1.week).for_category(@category) 
```

@category 可能为空，也可能不为空。在类别为空的情况下，我希望该方法简单地传递并返回关系不变。当然， return self 只是返回 Item 类。

这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T12:51:39.597

您是否尝试返回作用域（而不是类本身）以进行进一步的作用域操作？如果是这样，那么类似以下的东西应该可以工作：

```
class Item < ActiveRecord::Base
  class << self
    def for_category(c)
      if c
        return where(:category_id => c.id)
      else
        return scoped
      end
    end
  end
end 
```

高温高压

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:50:48.663

```
class Item < ActiveRecord::Base
    def self.for_category(c)
      conditions = {:category_id => c.id}
      conditions.delete_if {|key,val| val.blank? }
      self.where(conditions)
    end
end 
```

您的**项目**与**类别**相关联？如果是，那么您可以通过`Item.where("created_at > ?", Time.now - 1.week).categroies`不需要上述代码来简单地获取所有项目类别。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-06-26T12:46:13.660

`#scoped`在 Rails 4 中已弃用。您可以使用`#all`来达到相同的效果：

```
class Item < ActiveRecord::Base
  class << self
    def for_category(c)
      if c
        return where(:category_id => c.id)
      else
        return all
      end
    end
  end
end 
```

# php - 替换文件中的值并保存

> ID：14501704
> 
> 赞同：0
> 
> 时间：2013-01-24T12:45:43.067
> 
> 标签：php, replace, save

我有这段代码可以读取一个文件，然后逐行遍历它。

如果该行中有匹配项，则更新值：

```
$filePath = $_REQUEST['fn'];
$lines = file(); 
foreach ($lines as $line_num => $line) 
{
if(stristr($line,'Device') && stristr($line,'A=0FEDFA')) $line = str_replace ("ID=\"", "ID=\"***",$line);

if(stristr($line,'Style')) $line =  str_replace ("ID=\"", "ID=\"***",$line);
} 
```

我如何将其保存为 $filePath ？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:53:47.057

试试这个：

改变：

```
foreach ($lines as $line_num => $line) 
```

到

```
foreach ($lines as $line_num => &$line) 
```

**注意 &** - 通过引用分配 $line。您对 $line 所做的更改将反映在包含它们的数组中 ($lines)

```
file_put_contents($filePath, implode("\n", $lines)) 
```

该行将 $lines 数组的更改内容写回到您的文件路径中 - 将数组的元素与换行符连接起来。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T13:40:08.140

我已经在 PHP4 中进行了这项工作：

```
foreach ($lines as $line_num => $line) 
{
if(stristr($line,'Device') && stristr($line,'A=0FEDFA')) $line[$line_num] = str_replace ("ID=\"", "ID=\"***",$line);

if(stristr($line,'Style')) $lines[$line_num] =  str_replace ("ID=\"", "ID=\"***",$line);
} 
```

然后使用：

```
fileputcontents($filePath, ("\n", $lines)) 
```

这个函数适用于 PHP4

```
function fileputcontents($filename, $data)
{
 if( $file = fopen($filename, 'w') )
  {
  $bytes = fwrite($file, is_array($data) ? implode('', $data) : $data);
  fclose($file); return $bytes; // return the number of bytes written to the file
  }
} 
```

一切似乎都在工作:)

# haskell - 在元组列表中搜索

> ID：14501705
> 
> 赞同：1
> 
> 时间：2013-01-24T12:45:46.240
> 
> 标签：haskell

我有一个存储在文本文件中的元组列表。

```
[(1,"123","Shiva","address #1",77000),(2,"123","Sina","address #2", 1900)] 
```

每个元素的第一个元素是，每个`tuple`元素`acount_Id`的第二个元素`tuple`是`password`，在应用程序中，我倾向于从文件中读取列表，向用户询问帐号和密码，然后在文件中查找。我试过这个：

```
x <- readFile "database.txt" 
y <- tuples x 
let account  = [(a,b)|(a,b,c,d,e) <- y, ac_no ==a , pass == b] 
```

`tuples`是一个函数，它接受一个字符串并给出 IO [(AccNo, Pass, Name, Address, Balance)] 数据类型的输出

知道如何通过使用高阶函数而不是列表处理来改进这个过程吗？

提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T12:49:00.583

有一个`lookup`具有类型签名的函数：

```
lookup :: Eq a => a -> [(a, b)] -> Maybe b 
```

但这仅适用于对。

一种选择是使用类型来专门获得这种安排。

```
data UserDetails = UserDetails {
  password :: String
  address  :: String
} 
```

并将您的列表定义为`(String,UserDetails)`对，然后您就可以使用该`lookup`功能。将您的数据放入类型（而不仅仅是大量的字符串）通常是一件非常好的事情，所以我认为这会很好。

如果您确实想使用高阶函数，请查看`find`，它将返回与模式匹配的列表的第一个。

就像是

```
type UserDataAssociation = (String,String,String,String,String)

findMatchingAssociations :: [UserDataAssociation] -> String -> Maybe UserDataAssociation
findMatchingAssociations xs password = find (\(pw,a) -> pw == password) xs 
```

# c# - PowerPoint Interop - 使用 C# 以幻灯片索引（非全屏）开始演示

> ID：14501710
> 
> 赞同：0
> 
> 时间：2013-01-24T12:46:01.180
> 
> 标签：c#, .net, interop, powerpoint, presentation

我正在使用下面的代码在 C# 中开始演示：

```
 var app = new Microsoft.Office.Interop.PowerPoint.Application();
    var pres = app.Presentations;            
    Presentation objPres = pres.Open(@"C:\test.pptx", MsoTriState.msoTrue, MsoTriState.msoTrue);
    objPres.SlideShowSettings.Run(); 
```

如何从自定义开始索引开始演示？让我们说第四张幻灯片。

如何以自定义窗口大小（标准为全屏）开始演示？请检查下图 - 使用这些设置，演示会在一个窗口中启动。如何通过互操作设置这些值？

![简报设置](../Images/505544c8e9d28539204a595d2f948734.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T15:55:52.007

这就是你在 VBA 中的做法。它应该足够简单以适应.Net。这只是在调用 .Run 方法之前设置一些属性的问题。

```
Sub Example()

    With ActivePresentation.SlideShowSettings

        ' display a range of slides:
        .RangeType = ppShowSlideRange

        ' Start with slide 5
        .StartingSlide = 5

        ' Specify the ending slide or as here,
        ' have it run to the end of the presentation:
        .EndingSlide = ActivePresentation.Slides.Count

        ' window, not fullscreen/kiosk:
        .ShowType = ppShowTypeWindow

        ' and show it:
        .Run

    End With

End Sub 
```

# java - 你如何将 java 与 html 和 javascript 混为一谈？

> ID：14501716
> 
> 赞同：0
> 
> 时间：2013-01-24T12:46:19.487
> 
> 标签：java, jsp, servlets, httprequest, scriptlet

我有这个小 java 项目，我必须在其中使用 jsp 文件。
我有一个带有登录按钮的 html，它触发以下功能：

```
var loginCall = "user/login";
var logoutCall = "user/logout";
var signupCall = "user/signup";

function login() {
var login = baseUrl + loginCall + "?";

var loginFormElements = document.forms.loginForm.elements;

login = addParam(login, USER_NAME, loginFormElements.userName.value, false);
login = addParam(login, PASSWORD, loginFormElements.password.value, true);

simpleHttpRequest(login, function(responseText){

    var status = evalJSON(responseText);

    if (status.errorCode == 200) {
        var res = status.results;
        var sessionId = res[0].sessionId;
        setCookie(SESSION_ID,sessionId);
        window.location="http://localhost:8080/"+baseUrl+"/main.html";
    } else {
        showError(status.errorCode, "Username or password was incorrect.")
    }

}, function(status, statusText){console.log('z');    
    showError(status, statusText);
});
} 
```

据我所见，生成了一个 httpRequest 并将其与数据一起发送到 baseUrl + loginCall，这意味着 localhost/something/user/login?name=somename&pass=somepass

这就是我卡住的地方，我是否必须以某种方式在某个地方制作一个 java 文件，该文件获取请求信息，与数据库一起处理并返回答案？
如果是这样，在哪里，如何？我必须将其命名为 login/user.java 吗？

谁能指出我正确的方向，如果不给我一些代码示例或解释我接下来要做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:02:02.493

你需要再看看 JSP MVC jsp 页面应该包含 html 和 javascript 以及 java 代码。如果要调用单独的 .java 类，则需要将该类编写为 servlet，然后调用它。

因此，在您的 .jsp 中，您拥有 html 和 javascript，就像您在那里拥有它一样，然后您在这些括号中包含的任何 java <% %>

看看这里的教程[http://www.jsptut.com/](http://www.jsptut.com/)

我看到你在做一个登录页面。我使用这个出色的教程创建了一个登录系统，它帮助我了解了 jsp 和 servlet 的工作原理。 [http://met.guc.edu.eg/OnlineTutorials/JSP%20-%20Servlets/Full%20Login%20Example.aspx](http://met.guc.edu.eg/OnlineTutorials/JSP%20-%20Servlets/Full%20Login%20Example.aspx)

另请查看这张图片，它应该可以帮助您理解这个概念。请记住，servlet 是纯 java 类，主要用于 java，但也可以输出 html，jsp 主要用于 html（和 javascript），但可以包含 jsp。因此，servlet 完成工作，然后 jsp 获取计算值，以便 JavaScript 可以使用它们。反正我就是这么想的，可能是错的 http://met.guc.edu.eg/OnlineTutorials/static/article_media/jsp%20-%20servlets/LoginExample%20[4].jpg

祝一切顺利

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T14:01:54.883

如果您没有使用任何 MVC 框架，那么最好的方法是扩展`HttpServlet`类以处理请求并执行所有繁重的任务，例如业务逻辑处理、访问/更新数据库等，然后将请求分派到`.jsp`文件以进行演示。在`.jsp`您还可以将自定义对象添加到您希望在“.jsp”页面上访问的请求范围 + 使用表达式语言您可以访问大多数与请求相关的隐式对象

我简单举了一个典型的flow的例子，你可以自己去深入思考和探索。

这是处理已发布表单的 java servlet 类。

```
public class doLogin extends HttpServlet{

    @Override
protected void doPost(HttpServletRequest req, HttpServletResponse resp)
        throws ServletException {

    String username= request.getParameter("username"); // get username/pasword from form
    String password = request.getParameter("password");

       // This is your imaginary method for checking user authentication from database
    if(checkUserAuthentication(username,password)){
     /* 
      user is authenticated.Now fetch data for user to be shown on homepage
      User is another class that holds user info. Initialize it with data received from database
     */
      user userData = new User;
      user.setName(...);
      user.setAge(...);
      user.setInfo(...); 
      // etc
    }
    RequestDispatcher view = req.getRequestDispatcher("login.jsp");             

    req.setAttribute("userdata", userData); // set user object in current request scope

    view.forward(req, resp);//forward to login.jsp          

}

protected void doGet(HttpServletRequest req, HttpServletResponse resp)
        throws ServletException {       

} 
```

但是您需要一个带有一些操作的表单才能在上面调用`ServletClass`

```
<form action="/checkLogin" method="POST">
  <input type="text" name="username" value="">
  <input type="password" name="password" value="">
  <input type="submit" name="login" value="Login">
</form> 
```

要告诉您的 Servlet 容器 `doLogin`在表单登录按钮上调用类，您必须在部署描述符文件`web.xml`中对其进行配置，该文件是 java 中标准动态 Web 应用程序的一部分

在`web.xml' following xml snippet make apllication server aware of`doLogin` 类中

```
<servlet>
    <servlet-name>LoginServlet</servlet-name>
    <servlet-class>com.yourdomain.doLogin</servlet-class>
</servlet> 
```

`<servlet-mapping>`但它还没有映射到任何 url，它的配置如下`web.xml`

```
<servlet-mapping>
    <servlet-name>LoginServlet</servlet-name>
    <url-pattern>/checkLogin</url-pattern>
</servlet-mapping> 
```

现在任何对 url 的发布请求都`/checkLogin`将`doPost`在类上调用方法`doLogin`成功登录请求后将被传输到“login.jsp”页面。

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
pageEncoding="ISO-8859-1"%> 
```

您可以使用 sciptlet`<% %>`语法中的 java 代码来访问`userData`object <% User data = (User)request.getAttribute('userData'); %>

更好更整洁的方法是使用表达语言

```
${ pageContext.request.userData.name } 
```

[上面的表达式使用 java beans命名约定](https://stackoverflow.com/questions/3698171/java-naming-convention-for-accessors)在 User 类的对象上调用 getName() 方法

[在这里](http://docs.oracle.com/javaee/1.4/tutorial/doc/JSPIntro7.html)，您可以了解更多关于表达语言的知识。可能过一段时间我可以改进这一点并为您提供更多见解。希望对您有所帮助:)

# sml - 如何从 SML 中的日期列表中获取最早的日期？

> ID：14501720
> 
> 赞同：2
> 
> 时间：2013-01-24T12:46:23.487
> 
> 标签：sml

我在完成这项任务时遇到了一些麻烦。这是教授要求的：

> 编写一个*最旧*的函数，它接受一个日期列表并计算一个 `(int*int*int)`选项。如果列表没有日期，则评估为 NONE，如果日期 d 是列表中最旧的日期，则评估为 SOME d。

我知道如何创建函数并对如何使用日期列表有一些想法，但我不知道如何“存储”最旧的值以将其与日期列表的尾部进行比较。这是我提交的（它不起作用，它总是检索第一个日期，但我真的很想知道答案）

```
fun oldest (datelist : (int * int * int) list) =
    if null datelist
    then NONE
    else if null (tl datelist) then
    SOME (hd datelist)
    else let val date = if is_older (hd datelist, hd (tl datelist)) then SOME (hd datelist) else SOME (hd (tl datelist))
     in oldest(tl datelist)
     end 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T13:15:33.833

在递归调用中保持值的一种方法是在参数中传递它。由于您无法更改原始函数，因此最常用的解决方案是拥有一个辅助函数，该函数接受这个额外的参数，可能还有其他参数。
这样的辅助函数可以获取列表的头部并将其与额外的参数进行比较，使用列表尾部递归调用中最旧的两个参数。然后当列表为空时，您只需返回这个额外的参数，因为它必须是最旧的。

```
fun oldestOfTwo (d1, d2) = (* return the oldest/minimum of the two dates *)

fun oldest [] = NONE
  | oldest (d::ds) =
    let
      fun oldest' max [] = SOME max
        | oldest' max (d::ds) =
          oldest (oldestOfTwo (max, d2)) ds
    in
      oldest' d ds
    end 
```

另一种解决方案可能是取出列表的前两个元素，放回两个中最旧的元素，因此在每个递归调用中，您删除列表中的一个元素，并且在某些时候列表中只有一个元素，这一定是最古老的。

```
fun oldest [] = NONE
  | oldest [d] = SOME d
  | oldest (d1 :: d2 :: ds) = oldest (oldestOfTwo (d1, d2) :: ds) 
```

# x++ - 如何根据 AX 2012 AOT 报表中的另一个对话框字段过滤报表对话框中对话框字段上的查找值？

> ID：14501722
> 
> 赞同：1
> 
> 时间：2013-01-24T12:46:31.380
> 
> 标签：x++, axapta, dynamics-ax-2012

如何在报告对话框中实现自定义查找。

例如，我的报告对话框中有两个字段 1) Custgroup 2) CustAccount

如果我在第一个字段中选择了一个特定的客户组，那么第二个字段查找应该只显示属于这个客户组的客户。

```
//class

    public class ReportRun extends ObjectRun
    {

        DialogField dialogcustGroup,dialogcustaccount ;
        CustTable  obj_CustTable ;
    }

   //dialog method
   public Object dialog(Object _dialog)
{
    DialogRunbase dialog = _dialog;
    DialogGroup     toFromGroup;
    Args _args;
    str accountnum,custGroup;
    ;
   // _args =  new Args();
   //  obj_dev_CustTable = _args.record(); 
    //accountnum = obj_dev_CustTable.AccountNum;

    dialogcustGroup = dialog.addFieldValue(extendedTypeStr(CustGroup),CustGroup,"");

    while select obj_CustTable
         where obj_CustTable.AccountNum == dialogcustGroup .value()
    {
         CID     =  obj_dev_CustTable.CID;
     dialogcustaccount =dialog.addFieldValue(ExtendedTypeStr(AccountNum),accountnum,"CID");
    }

    return dialog;
} 
```

任何帮助都会很棒！！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-27T20:02:24.857

最好的方法是覆盖指定 DialogField 上的 lookup() 方法。请参见下面的示例 - 它工作得很好。

```
class CustomizedLookup extends RunBase
{
   DialogRunbase               dialog;
   DialogField                 dFieldCustGroup;
   DialogField                 dFieldCustAccount;
   CustGroupId                 fetchedCustGroup;
   CustAccount                 fetchedAccountNum;
}
protected Object dialog()
{
   dialog = super();

   FieldCustGroup = dialog.addField(extendedTypeStr(CustGroupId),"sysLabel1");
   dFieldCustGroup.allowEdit(true);

   dFieldCustAccount = dialog.addField(extendedTypeStr(CustAccount),"sysLabel1");
   dFieldCustAccount.allowEdit(false);

   return dialog;
}
public void dialogPostRun(DialogRunbase _dialog)
{
   super(_dialog);

// allow to call the event methods 
// of this class (e.g. Fld1_1_modified() method)
   _dialog.dialogForm().formRun().controlMethodOverload(true);
   _dialog.dialogForm().formRun().controlMethodOverloadObject(this);
}
private boolean Fld1_1_modified() // dFieldCustGroup
{
   FormStringControl   control;
   boolean             isFieldModified;

   control = dialog.formRun().controlCallingMethod();

   isFieldModified = control.modified();

   if(isFieldModified)
   {
       fetchedCustGroup   = dFieldCustGroup.value();
       dFieldCustAccount.allowEdit(true);
   }
   return isFieldModified;
}
private void Fld2_1_lookup() //dFieldCustAccount
{
   FormStringControl control = dialog.formRun().controlCallingMethod();
   SysTableLookup sysTableLookup =  SysTableLookup::newParameters(tablenum(CustTable),control);
   Query                   query = new Query();
   QueryBuildDataSource    queryBuildDataSource;
   QueryBuildRange         queryBuildRange;

   queryBuildDataSource = query.addDataSource(TableNum(CustTable));
   queryBuildRange = queryBuildDataSource.addRange(FieldNum(CustTable, CustGroup));
   queryBuildRange.value(fetchedCustGroup);  

   sysTableLookup.addLookupfield(fieldnum(CustTable, AccountNum));
   sysTableLookup.addLookupfield(fieldnum(CustTable, CustGroup));
   sysTableLookup.parmQuery(query);
   sysTableLookup.performFormLookup();
}
public boolean getFromDialog()
{
   boolean ret;

   ret = super();

   fetchedAccountNum = dFieldCustAccount.value();

   return ret;
}
static void main(Args _e)
{
   CustomizedLookup customizedLookup;

   customizedLookup = new CustomizedLookup();

   if (customizedLookup.prompt())
   {
       customizedLookup.run();
       // do some actions with your data 
       customizedLookup.theAction();         
   }
}
private void theAction()
{
   info(strFmt("Customer Group: %1",fetchedCustGroup));
   info(strFmt("Account Number: %1",fetchedAccountNum));
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T21:50:27.567

应该声明更多的方法，如 pack 、 unpack 和 main 方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-09T14:03:25.697

```
 public class CustAmountCalculation extends RunBase
{
    DialogField fieldAccount;
    CustAccount custAccount;

}

    public Object dialog()
{

    Dialog dialog;
    DialogGroup groupCustomer;
    dialog = super();
    fieldAccount = dialog.addField(extendedTypeStr(custAccount), "CustomerAccount");
    return dialog;
}

    public boolean getFromDialog()
{
    custAccount = fieldAccount.value();
    return super();
}

    public container pack()
{
    return conNull();
}

    public void run()
{
    CustTable custTable;
    CustTrans custTrans;
    ;

    select sum(AmountMST) from custTrans where custTrans.AccountNum == custAccount;
    info("You have enetered customer information");
    info(strfmt("Account: %1", custAccount));
    info(strFmt("Amount: %1", custTrans.AmountMST));
}

    public boolean unpack(container _packedClass)
{
    return true;
}

    public static void main(Args _args)
{
    CustAmountCalculation custAmountCalculation = new CustAmountCalculation();
    if (CustAmountCalculation.prompt())
    {
        CustAmountCalculation.run();
    }
} 
```

# java - 从最近的菜单启动应用程序不会启动主要活动

> ID：14501723
> 
> 赞同：2
> 
> 时间：2013-01-24T12:46:32.420
> 
> 标签：java, android, twitter

我有 3 个活动（MainActivity、TwitterActivity、WebBrowserActivity）。WebBrowserActivity 用于显示来自 twitter 的网络信息。

清单：1。

```
 <activity
        android:name=".MainActivity"
        android:label="@string/app_name">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />    
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
      </activity> 
```

2.

```
 <activity
    android:name=".TwitterActivity"
 android:label="@string/app_name"
 android:launchMode="singleInstance" >

<!-- Used for OAuth callback -->
<intent-filter>
    <action android:name="android.intent.action.VIEW" />

    <category android:name="android.intent.category.DEFAULT" />
    <category android:name="android.intent.category.BROWSABLE" />

    <data
        android:host="callback"
        android:scheme="x-bker-oauth-twitter" />
</intent-filter>
</activity> 
```

3.

```
 <activity android:name=".TwitterWebBrowser" /> 
```

开始推特：

```
 Intent myIntent = new Intent(mContext, TwitterActivity.class);    
  mContext.startActivity(myIntent); 
```

当 twitt 发布时，我关闭 TwitterActivity（使用 finish(); 方法）并显示 MainActivity。比我按下 Home 按钮并进入 Android，而不是按下 Home 按钮并按下我的应用程序图标，然后我进入 TwitterActivity，但我需要进入 MainActivity。这是怎么做的？

它仅适用于 android 版本 2.3.7 及以下版本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T08:20:10.110

在 TwitterActivity 的清单条目中，更改`android:launchMode="singleInstance"`为`android:launchMode="singleTop"`.

我认为您正在设置`launchMode`，因为您希望能够跳出 Twitter 应用程序或网页以从 TwitterActivity 授权用户，然后在完成后返回到您的 TwitterActivity 的同一实例。在这种情况下，TwitterActivity 将位于您的任务堆栈的顶部，因此`singleTop`会告诉系统重用它。

问题`singleInstance`在于它使活动成为任务中的唯一活动，这可能解释了为什么最近菜单正在启动 TwitterActivity。（[活动元素](http://developer.android.com/guide/topics/manifest/activity-element.html)文档中的更多信息）。

如果您确实需要使用`singleInstance`，则应考虑将其分配给自己的任务并将其从最近的任务中排除，例如（使用您自己的名称`taskAffinity`）：

```
<activity
  android:name=".TwitterActivity"
  android:label="@string/app_name"
  android:launchMode="singleInstance"
  android:taskAffinity="com.example.twitter"
  android:excludeFromRecents="true"> 
```

# android - 检测菜单按钮事件

> ID：14501728
> 
> 赞同：2
> 
> 时间：2013-01-24T12:46:54.900
> 
> 标签：android

我想禁用菜单按钮。我阅读了很多文章，但没有任何效果。
我什至无法检测到菜单按钮按下事件。覆盖 onKeyDown()、onKeyUp()、onPrepareOptionsMenu()、onCreateOptionsMenu() 等方法不起作用。我在这里真的很绝望，请帮助。

```
public class MainActivity extends Activity{
TranslateAnimation animateTopLayer;
Button btnOk;
ImageView ivLockMechanism;
ViewGroup rlTopLayer;
FramesSequenceAnimation anim;

@Override
public void onAttachedToWindow() {
    getWindow().addFlags(WindowManager.LayoutParams. FLAG_DISMISS_KEYGUARD);
    getWindow().addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);
    getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);
}

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    Intent lockServiceIntent = new Intent(getApplicationContext(),LockService.class);
    startService(lockServiceIntent);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);
    setContentView(R.layout.test);
    rlTopLayer = (ViewGroup) findViewById(R.id.rlTopLayer);
    ivLockMechanism = (ImageView) findViewById(R.id.ivLockMechanism);
    btnOk = (Button) findViewById(R.id.btnOk);
    btnOk.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            rlTopLayer.startAnimation(animateTopLayer);
        }
    });
    Bitmap b = BitmapFactory.decodeResource(getResources(), R.drawable.pg_0);
    ivLockMechanism.setImageBitmap(b);
    anim = AnimationsContainer.getInstance().unlockMechanismAnimation(ivLockMechanism);
    animateTopLayer = new TranslateAnimation(0, 500,0, 0);
    animateTopLayer.setDuration(1000);
    animateTopLayer.setFillAfter(true);
    animateTopLayer.setAnimationListener(new AnimationListener() {

        @Override
        public void onAnimationStart(Animation animation) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onAnimationRepeat(Animation animation) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onAnimationEnd(Animation animation) {
            anim.start();
        }
    });
}

@Override
public boolean onKeyDown(int keyCode, KeyEvent event)  {
    if (  Integer.valueOf(android.os.Build.VERSION.SDK) < 7 
            && keyCode == KeyEvent.KEYCODE_BACK
            && event.getRepeatCount() == 0) {
        onBackPressed();
    }

    if (keyCode == KeyEvent.KEYCODE_MENU){
        return false;
    } 

    return super.onKeyDown(keyCode, event);
}

@Override
public void onBackPressed() {
    return;
}

@Override
protected void onPause() {
    super.onPause();
    finish();
} 
```

}

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T12:49:35.023

这对我有用：

```
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (keyCode == KeyEvent.KEYCODE_MENU) {
        return true;
    }
    return super.onKeyDown(keyCode, event);
} 
```

> 返回 true 以防止此事件被进一步传播，或返回 false 以指示您尚未处理此事件并且应该继续传播它。

```
@Override
 public boolean onPrepareOptionsMenu (Menu menu) {
     return false;
 } 
```

# php - 使用 Codeigniter 的文件上传问题

> ID：14501730
> 
> 赞同：0
> 
> 时间：2013-01-24T12:46:57.813
> 
> 标签：php, codeigniter

我可以使用本地主机上的 Codeigniter 完美地将文件上传到上传文件夹。但是，当我尝试在服务器上上传时出现此错误。我尝试过不同类型的文件。txt、.doc .xls .jpg 等，在 localhost 上都可以。我查看了 MIME 文件和图像/jpeg 以及我需要的所有其他文件类型（'doc' =>'application/msword'等......）。我也检查了文件夹权限，它们没问题，但很明显，由于错误，我什至没有走那么远。

有谁知道为什么它不允许我上传我的文件。

```
 string(57) "The filetype you are attempting to upload is not allowed." array(2) 
    { ["testfile"]=> array(5) 
    { ["name"]=> string(7) "123.jpg" ["type"]=> string(10) "image/jpeg" 
    ["tmp_name"]=> string(14) "/tmp/phpVYtNNs" ["error"]=> int(0) ["size"]=> int(20921) }
    ["quotefile"]=> array(5) 
    { ["name"]=> string(7) "123.jpg" ["type"]=> string(10) "image/jpeg" 
    ["tmp_name"]=> string(14) "/tmp/phpIsvQ7x" ["error"]=> int(0) ["size"]=> int(20921) } } 
```

控制器：

```
 $config['upload_path'] = './uploads/';
    $config['allowed_types'] = 'gif|jpg|png|txt|pdf|xls|csv|doc';
    $config['max_size'] = '1000000';
    $config['max_width']  = '100024';
    $config['max_height']  = '76008';
    $this->load->library('upload', $config); 
```

模型：

```
 if ( ! $this->upload->do_upload('testfile'))
    {
        var_dump($this->upload->display_errors('', ''));
                    var_dump($_FILES);
        //$error = array('error' => $this->upload->display_errors());
        //echo '<pre>'; print_r($error); echo '</pre>';
        //$this->load->view('upload_form', $error);     
    }
    else
    {
        $data = array('upload_data' => $this->upload->data('testfile'));
        $this->load->view('upload_success', $data);         
    }
    $upload_data = $this->upload->data('testfile');

    if ( ! $this->upload->do_upload('quotefile'))
    {

        $error = array('error' => $this->upload->display_errors());
        echo '<pre>'; print_r($error); echo '</pre>';
        //$this->load->view('upload_form', $error);
    }
    else
    {
        $data = array('upload_data' => $this->upload->data('quotefile'));
        $this->load->view('upload_success', $data);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:50:35.497

如果您使用的是 2.1.0 版本，则上传库中存在错误。参考下面的链接，这里解释的很清楚。

[在 Codeigniter 中上传 - 不允许您尝试上传的文件类型](https://stackoverflow.com/questions/7495407/uploading-in-codeigniter-the-filetype-you-are-attempting-to-upload-is-not-allo)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-03-26T12:05:09.597

你可以在那里使用我的代码

```
public function do_tambah_rule()
    {

            $this->load->library('upload');
            $nmfile = "file_".time(); //nama file saya beri nama langsung dan diikuti fungsi time
            $config['upload_path'] = './uploads/'; //path folder
            $config['allowed_types'] = 'pdf|docx'; //type yang dapat diakses bisa anda sesuaikan
            $config['max_size'] = '9072'; //maksimum besar file 3M
            $config['file_name'] = $nmfile; //nama yang terupload nantinya

            $this->upload->initialize($config);

            if($_FILES['file_pembelajaran']['name'] != NULL)
            {
                if ($this->upload->do_upload('file_pembelajaran'))
                {
                    $gbr = $this->upload->data();
                    $data = array(
                      'nama_file' =>$gbr['file_name'],
                      'type_file' =>$gbr['file_type'],
                      'gejala_1' => $this->input->post('gejala_1'),
                        'gejala_2' => $this->input->post('gejala_2'),
                        'gejala_3' => $this->input->post('gejala_3'),
                        'gejala_4' => $this->input->post('gejala_4'),
                        'gejala_5' => $this->input->post('gejala_5'),
                        'id_jurusan'=>$this->session->userdata('id_jurusan'),
                        'id_artikel' => $this->input->post('artikel'),
                        'username' => $this->session->userdata('username'),
                        'hasil' => $this->input->post('hasil')
                    );

                    $this->guru_mod->insert_data('forward_changing',$data); //akses model untuk menyimpan ke database

                    $config2['source_image'] = $this->upload->upload_path.$this->upload->file_name;

                }
            } elseif ($_FILES['file_pembelajaran']['name'] == NULL) {

                $this->session->set_flashdata('pesan', 'File pembelajaran belum di sertakan');
            }

        redirect('guru/daftar_rule','refresh');

    } 
```

# linux - 如何从终端读取日期并与当前日期进行比较

> ID：14501734
> 
> 赞同：2
> 
> 时间：2013-01-24T12:47:13.073
> 
> 标签：linux, shell, unix, date

我想知道从终端读取日期并使用 shell 脚本与当前日期进行比较的适当方式，

我有以下脚本，

```
a=`date +%Y-%m-%d`
while [ 1 ] ; do
        echo "Enter Date"
    read todate
    if [ $todate < $a ];then
        break;
    fi
    echo "todate greater than curDate" 
done 
```

它没有按预期运行。请帮我。

**更新**

这是我的最终版本，

```
#! /bin/bash
DATE=$(date '+%s')
while [ 1 ] ; do
        echo "Enter Date[DD MM YYYY]:"    
    read D M Y
    THIS=$(date -d "$Y-$M-$D" '+%s')

    if (( THIS < DATE )) ; then
        break
    fi
done 
```

感谢大家！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T13:09:07.690

来自[高级 Bash 脚本指南：](http://tldp.org/LDP/abs/html/comparison-ops.html)

7.3\. 其他比较运算符

...

字符串比较

...

> ```
> <
>     is less than, in ASCII alphabetical order
> 
>     if [[ "$a" < "$b" ]]
> 
>     if [ "$a" \< "$b" ]
> 
>     Note that the "<" needs to be escaped within a [ ] construct. 
> ```

所以，你的

```
 if [ $todate < $a ];then 
```

变成

```
if [ $todate \< $a ];then 
```

或者

```
if [[ $todate < $a ]];then 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T12:59:33.963

日期有`+%s`格式。

```
 %s     seconds since 1970-01-01 00:00:00 UTC 
```

您以秒为单位保存当前日期。然后将用户输入日期也转换为秒。所以你可以比较。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T13:55:31.550

# 这是解决方案：

### 在这个解决方案中，我将日期转换为单个整数，很明显更大的日期总是比当前日期更大的整数

一个=`date +%Y%m%d`

而 [ 1 ] ; 做

echo "输入日期" 读取今天 echo "$todate" > temp

```
for i in 1 2 3
    do 
      y=`cut -d- -f$i temp`
      x=$x$y
    done 
if [ $x -lt $a ];then
    exit;
fi
echo "todate greater than curDate" 
```

完毕

# facebook-graph-api - 使用 Graph API 获取用户拥有的页面

> ID：14501736
> 
> 赞同：0
> 
> 时间：2013-01-24T12:47:32.690
> 
> 标签：facebook-graph-api

我需要检索当前用户拥有的所有页面。我需要语法。可以使用 Graph API 来完成吗？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T13:53:35.330

是的。使用`/me/accounts`路径。

# ios - 在后台点击隐藏键盘 - 手势参考问题

> ID：14501739
> 
> 赞同：2
> 
> 时间：2013-01-24T12:47:42.320
> 
> 标签：ios, objective-c, uiviewcontroller, keyboard

我有一个**板**（UIViewController），它实例化**卡**对象（UIViewControllers）。每张卡片上都有一个**texfield**。为了通过单击非卡片区域（= 板视图）来移除键盘，我需要参考**UITapGestureRecognizer**中指定的板。这是我目前的方法。

**Board** (UIViewController) 初始化卡片对象

```
-(void) addCard:(id)touchEvent{
    CardViewController *card = [[CardViewController alloc]initItemWithText:@"..."];
    [self addChildViewController:card];
    [self.view addSubview:card.view];
} 
```

**Card** (UIViewController) 在初始化时，添加 Tap Gesture Recognizer

```
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil {
...
    UITapGestureRecognizer *tapBackground = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(tapBackground:)];
    [self.parentViewController.view addGestureRecognizer:tapBackground];
...
} 
```

使用 parentViewController 方法的“背景”引用似乎不起作用。为什么？

我如何从卡中引用回董事会以辞职卡的第一响应者？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T13:03:31.140

尝试将手势代码添加到 Board 而不是 Card（在 viewDidLoad 中）

```
UITapGestureRecognizer *tapBackground = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(tapBackground:)];
[self.view addGestureRecognizer:tapBackground]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T13:46:19.030

1.  在视图上放置一个按钮
2.  按 按钮，然后按编辑器>排列>发送到后面
3.  然后将按钮的类型更改为圆形矩形到自定义，然后使按钮覆盖所有视图。

在 ViewController.h

```
@interface ViewController : UIViewController {

IBOutlet UITextField *textField

}

-(IBAction)bgTouched:(id)sender;

@end 
```

在 ViewController.m 中

```
-(IBAction)bgTouched:(id)sender {

[textField resignFirstResponder]

} 
```

4\. 将 textField 连接到 Text Field 并将 bgTouched 连接到背景中的按钮。

# android - 在 ubuntu 12.04 上连接安卓设备

> ID：14501740
> 
> 赞同：1
> 
> 时间：2013-01-24T12:47:48.780
> 
> 标签：android, android-sdk-2.3

我想在带有 android 的中文设备上尝试我的应用程序。

我试着

`lsusb`显示：

```
Bus 001 Device 04: ID 18d1:0002 Google Inc. 
```

在 /etc/udev/rules.d/51-android.rules 我放：

```
SUBSYSTEM=="usb", ATTRS{idVendor}=="18d1", MODE="0660" 
```

但它不起作用。

我看不到我的设备`adb devices` （启用了 USB 调试）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T15:28:58.297

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:48:22.540

我有这种情况，尝试通过以下方式更改您的 51-android.rules：

```
SUBSYSTEM=="usb", ATTRS{idVendor}=="18d1", MODE="0666" 
```

并重新启动亚行

`adb kill-server`编辑：然后重新启动 adb`adb devices`

# sql - SQL 查询 - 求和并获得前 5 个结果

> ID：14501741
> 
> 赞同：-5
> 
> 时间：2013-01-24T12:47:49.780
> 
> 标签：sql

我需要找到**总 AST 最多的前 5 名球员**。

期望的结果：

```
PlayerID   Sum(AST)  
3           10  
1           6  
2           5 
```

我的两张桌子：

```
tblPlayers   
PlayerID  
1  
2  
3  
4  
5  

tblIndStats  
GameID PlayerID AST  
1       2        2  
2       2        4  
3       3        5  
4       3        5 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:55:13.087

This should get you top 5 in **Microsoft SQL Server**:

```
select top 5 PlayerID, sum(AST) as SumAST
from tblIndStats
group by PlayerID
order by SumAST desc --, PlayerID 
```

**Running example**: Here's a [SQL Fiddle](http://www.sqlfiddle.com/#!3/57ff0/10) showing results. Example shows the top 5, top 5 extended as well as all results for reference.

## A different problem - several players on fifth place

But there's a different question here as well. What if your last (fifth) record is shared among several players? Say that 3 of them have the same AST sum. Which one would you include in the result then? My example fiddle data shows such a scenario as there are three players that all have `SumAST = 3`.

### WITH TIES to the rescue

For such cases you can use `with ties` in SQL Server that will automatically include all records that match last place so you wouldn't forget about any player that should as well be honoured (fair play baby). ;)

```
select top 5 with ties PlayerID, sum(AST) as SumAST
from tblIndStats
group by PlayerID
order by SumAST desc 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T12:54:21.887

对于 Sql 服务器

```
SELECT TOP 5
    PlayerID, SUM(AST) ASTSUM
FROM tblIndStats
GROUP BY PlayerID
ORDER BY ASTSUM DESC 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T12:54:19.173

甲骨文：

```
SELECT *
    FROM (
            SELECT PlayerId, SUM(AST)
              FROM tblIndStats S
          GROUP BY PlayerId
          ORDER BY SUM(AST) DESC
          )
    WHERE ROWNUM <= 5 
```

SQL 服务器：

```
SELECT TOP(5) *
    FROM (
            SELECT PlayerId, SUM(AST)
              FROM tblIndStats S
          GROUP BY PlayerId
          ORDER BY SUM(AST) DESC
          ) 
```

我的 SQL：

```
SELECT *
    FROM (
            SELECT PlayerId, SUM(AST)
              FROM tblIndStats S
          GROUP BY PlayerId
          ORDER BY SUM(AST) DESC
          )
   LIMIT 5 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-24T12:53:31.393

（顶级构造类型可能是特定于数据库的）

```
select playerID, sum(AST)
from tblIndStats
group by playerID
order by sum(AST) desc 
```

您不显示 tblPlayers 中的任何其他列，因此不确定您想要从该表中获得什么。

# susy-compass - 如何重置 Susy 容器？

> ID：14501744
> 
> 赞同：2
> 
> 时间：2013-01-24T12:48:05.580
> 
> 标签：susy-compass

重置 Susy 网格容器的最佳方法是什么？我有一个网格，下面有几个容器，如下所示：

```
+-----------------+
|   [container]   |
|   [container]   |
|   [container]   |
|                 |    
+-----------------+ 
```

现在在首页，我希望一个容器是全宽的：

```
+-----------------+
|   [container]   |
|[   container   ]|
|   [container]   |
|                 |    
+-----------------+ 
```

目前我正在像这样重置容器：

```
body.front {
  #main {
    width: 100%;
    max-width: none;
    margin: 0;
    padding: 0;
  }
} 
```

但是，看到 Susy 已经包含重置 mixin，`reset-columns`我想知道这是否是推荐的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T17:30:22.750

是的，这是正确的。目前没有reset-container mixin。

# android - 更改字体/文本大小时出现 Textview 对齐问题

> ID：14501747
> 
> 赞同：3
> 
> 时间：2013-01-24T12:48:15.427
> 
> 标签：android, fonts, textview, alignment

我在stackoverflow上查看了很多答案和问题，但没有发现任何对我的问题真正有用的东西。

我有两个大小相等且属性相同的textviews，xml布局是这样的（只有textsize不同）

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
 <TextView
        android:id="@+id/data_content_left"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight=".50"
        android:gravity="bottom|center"
        android:text="201.5"
        android:textSize="50sp"
        android:textStyle="bold"
        android:singleLine="true"
        android:ems="62" />

    <TextView
        android:id="@+id/data_content_right"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="0.50"
        android:ems="62"
        android:gravity="center|bottom"
        android:singleLine="true"
        android:text="201.5"
        android:textSize="20sp"
        android:textStyle="bold" /> 
```

代码是这样的

包 com.example.fonttest；导入android.os.Bundle；导入android.app.Activity；导入android.graphics.Typeface；导入 android.view.Menu；导入 android.widget.LinearLayout；导入 android.widget.TextView；

公共类 MainActivity 扩展 Activity {

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.activity_main);

    TextView textViewLeft  = (TextView) findViewById(R.id.data_content_left);
    TextView textViewRight = (TextView) findViewById(R.id.data_content_right);

    Typeface myTypeface = Typeface.createFromAsset(this.getAssets(), "fonts/wwDigital.ttf");

    textViewLeft.setTypeface(myTypeface, Typeface.NORMAL);
    textViewRight.setTypeface(myTypeface, Typeface.NORMAL);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
} 
```

}

为什么数字下方的“空白”高度随文本/字体大小而变化？（下图）

如何确定问题是否与字体或文本视图有关？

我正在使用这种字体：[ [http://www.dafont.com/ww-digital.font][3]](http://www.dafont.com/ww-digital.font][3])

![在此处输入图像描述](../Images/1b1a0c665ad7e88754d83f106f3b6017.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:51:45.980

对文本视图使用相同的字体，即**ttf**，并在 Textview 中使用 android:ems 来定义它的最大值和最小值。

# c# - 无法在计算机“。”上打开窗口服务 在窗口应用程序中

> ID：14501748
> 
> 赞同：21
> 
> 时间：2013-01-24T12:48:21.483
> 
> 标签：c#, windows-services, windows-applications

我开发了一个窗口应用程序，还创建了一项服务。我在窗口应用程序中使用编码启动服务，但出现错误，例如无法在计算机上打开窗口服务`'.'`

我使用了下面的代码。

```
ServiceController controller = new ServiceController("SeoMozScheduleService");

if (controller.Status == ServiceControllerStatus.Stopped)
{
    controller.Start();
} 
```

如果我右键单击应用程序并单击以管理员身份运行，那么它对我来说很好......

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2014-03-04T13:17:16.940

要在每次打开应用程序时自动执行此操作，您必须[将清单文件添加](https://stackoverflow.com/questions/6050478/how-do-i-create-edit-a-manifest-file)到解决方案中，然后更新`requestedExecutionLevel`文件中的节点，使其如下所示：

```
 <requestedExecutionLevel level="requireAdministrator" uiAccess="false" />
</requestedPrivileges> 
```

但是，如果启用了 UAC，更改此设置将导致系统每次提示您以管理员身份运行应用程序。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-01-30T09:37:23.557

转到 `c://Program Files/ApplicationFolder/.exe` 右键单击 .exe 并转到`Properties`然后转到`Compatibility Tab`并检查 true to `Run this Program as an administrator Level`。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-10-01T13:10:02.857

如果您使用的是 Visual Studio，请关闭它并重新打开 Visual sudio 并以管理员身份运行它

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-10-17T18:33:32.613

这些解决方案都没有帮助我，因为如果我确实确保我首先在目标计算机上具有管理员访问权限，这将有所帮助！我正在使用我的域管理员帐户取消并授予管理员对我的主帐户的访问权限。当我在`ServiceController`域管理员帐户下运行一些检查服务是否在远程计算机上运行的代码时，一切都很好。当我将其作为我的主帐户时，它就不起作用了——即使以管理员身份运行 Visual Studio 也是如此。原来我在本地管理员组中没有我的主帐户的情况下进行测试...... d'oh！

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-01-09T20:39:30.773

我在服务器上的计划任务中遇到了这个问题——检查“以最高权限运行”解决了它。（服务帐户当然必须具有管理员权限才能正常工作。）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-07-25T06:52:59.217

app.conf 中的框架版本更改为系统上安装的版本为我解决了这个问题。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-03-18T19:38:28.040

该应用程序可能**不需要**管理员权限。Microsoft 管理控制台 (MMC)（包括服务管理单元）没有。MMC 的清单具有：

```
<requestedExecutionLevel
    level="highestAvailable"
    uiAccess="false"
/> 
```

它没有`level="requireAdministrator"`。

请参阅[c# - 如何创建/编辑清单文件？- Stack Overflow](https://stackoverflow.com/questions/6050478/how-do-i-create-edit-a-manifest-file)获取向项目添加清单的说明。

关于最小特权原则的文章非常多，包括以下几篇。

*   [最小特权](https://www.us-cert.gov/bsi/articles/knowledge/principles/least-privilege)
*   [什么是最小特权原则（POLP）？- 来自 WhatIs.com 的定义](https://searchsecurity.techtarget.com/definition/principle-of-least-privilege-POLP)
*   [什么是最小特权原则（POLP）？信息安全与合规的最佳实践 \| 数码卫士](https://digitalguardian.com/blog/what-principle-least-privilege-polp-best-practice-information-security-and-compliance)
*   [什么是最小特权以及为什么需要它？\| 超越信任](https://www.beyondtrust.com/blog/entry/what-is-least-privilege)

# wpf - WPF 应用程序在启动时崩溃

> ID：14501757
> 
> 赞同：0
> 
> 时间：2013-01-24T12:48:54.783
> 
> 标签：wpf, crash

我们有一些新安装的客户端电脑（Win7 64Bit，.net Framework 4.0）。

在这台机器上，大多数 .net 应用程序在启动时不断崩溃。

一些不断崩溃的应用程序：

管理工作室 2012

Visual Studio 2012 安装

我们所有开发的 WPF 软件

我尝试远程调试我们的应用程序，但在我的主窗口中没有遇到 InitializeComponents 调用。

这个问题的原因是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T13:11:02.870

好吧，原因是旧的显卡驱动程序...

# android - Proguard errors with external jar - returns error code 1

> ID：14501759
> 
> 赞同：18
> 
> 时间：2013-01-24T12:48:54.877
> 
> 标签：android, proguard

While exporting my Android Application, Proguard returned with error code 1\. I am using twitter4j external jars in my app.

I already added library jars, rt.jar (For this I downloaded latest jdk1.7 which has javax.management.* classes) and dontwarn statements also to proguard.cfg file.

I included injars, libraryjars statements also..

**Updated**

```
-optimizationpasses 5
-dontusemixedcaseclassnames
-dontskipnonpubliclibraryclasses
-dontskipnonpubliclibraryclassmembers
-dontpreverify
-dontshrink
-verbose

#-injars bin/classes
#-injars libs
#-outjars bin/classes-processed.jar

-libraryjars <java.home>/jre/lib/rt.jar
-libraryjars <java.home>/lib/tools.jar
-libraryjars /libs/twitter4j-core-3.0.3.jar
-libraryjars /libs/twitter4j-media-support-3.0.3.jar
-libraryjars /libs/linkedin-j-android.jar
-libraryjars /libs/signpost-commonshttp4-1.2.jar
-libraryjars /libs/signpost-core-1.2.1.1.jar
-libraryjars /libs/signpost-jetty6-1.2.1.1.jar

-dontwarn org.apache.**
-dontwarn org.slf4j.**
-dontwarn org.json.*
-dontwarn org.mortbay.**
-dontwarn org.apache.log4j.**
-dontwarn org.apache.commons.logging.**
-dontwarn org.apache.commons.logging.**
-dontwarn org.apache.commons.codec.binary.**
-dontwarn javax.xml.**
-dontwarn javax.management.**
-dontwarn java.lang.management.**
-dontwarn android.support.**
-dontwarn com.google.code.**
-dontwarn oauth.signpost.**
-dontwarn twitter4j.**

-optimizations !code/simplification/arithmetic,!field/*,!class/merging/*

-keep public class * extends android.app.Activity
-keep public class * extends android.app.Application
-keep public class * extends android.app.Service
-keep public class * extends android.content.BroadcastReceiver
-keep public class * extends android.content.ContentProvider
-keep public class * extends android.app.backup.BackupAgentHelper
-keep public class * extends android.preference.Preference
-keep public class com.android.vending.licensing.ILicensingService

-keep class javax.**  { *; }
-keep class org.**  { *; }
-keep class twitter4j.**  { *; }
-keep class java.lang.management.**  { *; }
-keep class com.google.code.**  { *; }
-keep class oauth.signpost.**  { *; }

-keepclasseswithmembernames class * {
    native <methods>;
}

-keepclasseswithmembernames class * {
    public <init>(android.content.Context, android.util.AttributeSet);
}

-keepclasseswithmembernames class * {
    public <init>(android.content.Context, android.util.AttributeSet, int);
}

-keepclassmembers enum * {
    public static **[] values();
    public static ** valueOf(java.lang.String);
}

-keep class * implements android.os.Parcelable {
  public static final android.os.Parcelable$Creator *;
} 
```

Still I am facing the issue, Proguard returned with error code 1.

**Updated** LogCat:

```
[2013-02-18 10:43:47 - SP] Proguard returned with error code 1\. See console
[2013-02-18 10:43:47 - SP] Warning: com.google.code.linkedinapi.schema.Adapter1: can't find superclass or interface javax.xml.bind.annotation.adapters.XmlAdapter
[2013-02-18 10:43:47 - SP] Warning: com.google.code.linkedinapi.schema.Adapter2: can't find superclass or interface javax.xml.bind.annotation.adapters.XmlAdapter
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find superclass or interface javax.management.DynamicMBean
[2013-02-18 10:43:47 - SP] Warning: com.google.code.linkedinapi.schema.Adapter1: can't find referenced class javax.xml.bind.annotation.adapters.XmlAdapter
[2013-02-18 10:43:47 - SP] Warning: com.google.code.linkedinapi.schema.Adapter1: can't find referenced class javax.xml.bind.annotation.adapters.XmlAdapter
[2013-02-18 10:43:47 - SP] Warning: com.google.code.linkedinapi.schema.Adapter1: can't find referenced class javax.xml.bind.annotation.adapters.XmlAdapter
[2013-02-18 10:43:47 - SP] Warning: com.google.code.linkedinapi.schema.Adapter2: can't find referenced class javax.xml.bind.annotation.adapters.XmlAdapter
[2013-02-18 10:43:47 - SP] Warning: com.google.code.linkedinapi.schema.Adapter2: can't find referenced class javax.xml.bind.annotation.adapters.XmlAdapter
[2013-02-18 10:43:47 - SP] Warning: com.google.code.linkedinapi.schema.Adapter2: can't find referenced class javax.xml.bind.DatatypeConverter
[2013-02-18 10:43:47 - SP] Warning: com.google.code.linkedinapi.schema.Adapter2: can't find referenced class javax.xml.bind.DatatypeConverter
[2013-02-18 10:43:47 - SP] Warning: com.google.code.linkedinapi.schema.Adapter2: can't find referenced class javax.xml.bind.DatatypeConverter
[2013-02-18 10:43:47 - SP] Warning: com.google.code.linkedinapi.schema.Adapter2: can't find referenced class javax.xml.bind.annotation.adapters.XmlAdapter
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.commonshttp.CommonsHttpOAuthProvider: can't find referenced method 'java.util.Map decodeForm(java.io.InputStream)' in class oauth.signpost.OAuth
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.commonshttp.CommonsHttpOAuthProvider: can't find referenced method 'void setResponseParameters(java.util.Map)' in class oauth.signpost.commonshttp.CommonsHttpOAuthProvider
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.HttpExchange
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.HttpFields
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.HttpExchange
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.io.Buffer
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.HttpExchange
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.HttpExchange
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.HttpFields
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.HttpFields$Field
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.HttpFields$Field
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.HttpFields$Field
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.HttpExchange
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.HttpExchange
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.Address
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.HttpExchange
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.HttpExchange
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.HttpFields
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.io.Buffer
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.Address
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.HttpExchange
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.HttpExchange
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.client.HttpExchange
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.HttpFields
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.HttpFields
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.HttpFields$Field
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.HttpRequestAdapter: can't find referenced class org.mortbay.jetty.HttpFields
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.jetty.JettyOAuthConsumer: can't find referenced class org.mortbay.jetty.client.HttpExchange
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.signature.OAuthMessageSigner: can't find referenced class org.apache.commons.codec.binary.Base64
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.signature.OAuthMessageSigner: can't find referenced class org.apache.commons.codec.binary.Base64
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.signature.OAuthMessageSigner: can't find referenced class org.apache.commons.codec.binary.Base64
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.signature.OAuthMessageSigner: can't find referenced class org.apache.commons.codec.binary.Base64
[2013-02-18 10:43:47 - SP] Warning: oauth.signpost.signature.OAuthMessageSigner: can't find referenced class org.apache.commons.codec.binary.Base64
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class java.lang.management.ManagementFactory
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.ObjectName
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.ObjectName
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.MBeanServer
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.InstanceAlreadyExistsException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.InstanceAlreadyExistsException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.InstanceAlreadyExistsException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.MBeanRegistrationException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.MBeanRegistrationException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.MBeanRegistrationException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.NotCompliantMBeanException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.NotCompliantMBeanException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.NotCompliantMBeanException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.MalformedObjectNameException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.MalformedObjectNameException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.MalformedObjectNameException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class java.lang.management.ManagementFactory
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.MBeanServer
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.ObjectName
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.ObjectName
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.MBeanServer
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.InstanceAlreadyExistsException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.MBeanRegistrationException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.NotCompliantMBeanException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.TwitterAPIMonitor: can't find referenced class javax.management.MalformedObjectNameException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.CommonsLoggingLoggerFactory: can't find referenced class org.apache.commons.logging.LogFactory
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.CommonsLoggingLoggerFactory: can't find referenced class org.apache.commons.logging.LogFactory
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Level
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Level
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLogger: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLoggerFactory: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.Log4JLoggerFactory: can't find referenced class org.apache.log4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLogger: can't find referenced class org.slf4j.Logger
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLoggerFactory: can't find referenced class org.slf4j.LoggerFactory
[2013-02-18 10:43:47 - SP] Warning: twitter4j.internal.logging.SLF4JLoggerFactory: can't find referenced class org.slf4j.LoggerFactory
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.CompositeType
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.CompositeType
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.TabularType
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.TabularType
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenDataException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanAttributeInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanConstructorInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanOperationInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.MBeanNotificationInfo
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.SimpleType
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanAttributeInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanParameterInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanConstructorInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.SimpleType
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanOperationInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.TabularDataSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.TabularDataSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.CompositeDataSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.CompositeDataSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.TabularDataSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.AttributeNotFoundException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.AttributeNotFoundException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.AttributeList
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.AttributeList
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.Attribute
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.Attribute
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.AttributeList
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.ReflectionException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.ReflectionException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenType
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.SimpleType
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.DynamicMBean
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.MBeanException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.InvalidAttributeValueException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.SimpleType
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenType
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.CompositeType
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.TabularType
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenDataException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.MBeanInfo
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanAttributeInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanConstructorInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanOperationInfoSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.MBeanNotificationInfo
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenMBeanParameterInfo
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.TabularDataSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.CompositeData
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.OpenDataException
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.openmbean.TabularDataSupport
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.AttributeList
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.AttributeList
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.Attribute
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.Attribute
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.AttributeList
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.AttributeList
[2013-02-18 10:43:47 - SP] Warning: twitter4j.management.APIStatisticsOpenMBean: can't find referenced class javax.management.AttributeList
[2013-02-18 10:43:47 - SP]       You should check if you need to specify additional program jars.
[2013-02-18 10:43:47 - SP] Warning: there were 160 unresolved references to classes or interfaces.
[2013-02-18 10:43:47 - SP]          You may need to specify additional library jars (using '-libraryjars').
[2013-02-18 10:43:47 - SP] Warning: there were 2 unresolved references to program class members.
[2013-02-18 10:43:47 - SP]          Your input classes appear to be inconsistent.
[2013-02-18 10:43:47 - SP]          You may need to recompile them and try again.
[2013-02-18 10:43:47 - SP]          Alternatively, you may have to specify the option 
[2013-02-18 10:43:47 - SP]          '-dontskipnonpubliclibraryclassmembers'.
[2013-02-18 10:43:47 - SP] java.io.IOException: Please correct the above warnings first.
[2013-02-18 10:43:47 - SP]  at proguard.Initializer.execute(Initializer.java:321)
[2013-02-18 10:43:47 - SP]  at proguard.ProGuard.initialize(ProGuard.java:211)
[2013-02-18 10:43:47 - SP]  at proguard.ProGuard.execute(ProGuard.java:86)
[2013-02-18 10:43:47 - SP]  at proguard.ProGuard.main(ProGuard.java:492) 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-01-24T13:49:17.767

Try adding the Packages which give warnings, this way:

```
-dontwarn com.google.code.**
-dontwarn oauth.signpost.**
-dontwarn twitter4j.** 
```

For some reason if this didn't work try doing the same with Class and Interface Names, this way:

```
-dontwarn javax.management.**
-dontwarn javax.xml.**
-dontwarn org.apache.**
-dontwarn org.slf4j.** 
```

to your **Proguard config file**.

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-01T10:12:45.227

Thank you so much for all. Finally after so much struggling I found my foolish mistake. I have configured wrong config file in project.properties.

I was changing code in proguard.cfg, but the project.properties file contains wrong config file path i.e.

```
proguard.config=${sdk.dir}/tools/proguard/proguard-android.txt:proguard-project.txt 
```

Fixed with this changes:

```
proguard.config=${sdk.dir}/tools/proguard/proguard-android.txt:proguard.cfg 
```

**proguard.cfg working version**

```
-optimizationpasses 5
-dontusemixedcaseclassnames
-dontskipnonpubliclibraryclasses
-dontskipnonpubliclibraryclassmembers
-dontpreverify
-dontshrink
-verbose

-injars bin/classes
-injars libs
-outjars bin/classes-processed.jar

-libraryjars C:/glassfish3/jdk7/jre/lib/rt.jar 
-libraryjars C:/glassfish3/jdk7/lib/tools.jar

-dontwarn org.apache.**
-dontwarn org.slf4j.**
-dontwarn org.json.*
-dontwarn org.mortbay.**
-dontwarn org.apache.log4j.**
-dontwarn org.apache.commons.logging.**
-dontwarn org.apache.commons.logging.**
-dontwarn org.apache.commons.codec.binary.**
-dontwarn javax.xml.**
-dontwarn javax.management.**
-dontwarn java.lang.management.**
-dontwarn android.support.**
-dontwarn com.google.code.**
-dontwarn oauth.signpost.**
-dontwarn twitter4j.**

-optimizations !code/simplification/arithmetic,!field/*,!class/merging/*

-keep public class * extends android.app.Activity
-keep public class * extends android.app.Application
-keep public class * extends android.app.Service
-keep public class * extends android.content.BroadcastReceiver
-keep public class * extends android.content.ContentProvider
-keep public class * extends android.app.backup.BackupAgentHelper
-keep public class * extends android.preference.Preference
-keep public class com.android.vending.licensing.ILicensingService
-keep public class com.google.code.linkedinapi.**

-keep class javax.**  { *; }
-keep class org.**  { *; }
-keep class twitter4j.**  { *; }
-keep class java.lang.management.**  { *; }
-keep class com.google.code.**  { *; }
-keep class oauth.signpost.**  { *; }

-keepclassmembers public class com.google.code.linkedinapi.client.impl.LinkedInApiXppClient {
     public <init>(java.lang.String, java.lang.String);
}

-keepclasseswithmembernames class * {
    native <methods>;
}

-keepclasseswithmembernames class * {
    public <init>(android.content.Context, android.util.AttributeSet);
}

-keepclasseswithmembernames class * {
    public <init>(android.content.Context, android.util.AttributeSet, int);
}

-keepclassmembers enum * {
    public static **[] values();
    public static ** valueOf(java.lang.String);
}

-keep class * implements android.os.Parcelable {
  public static final android.os.Parcelable$Creator *;
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-27T00:15:51.010

Given these `-dontwarn` options, you can't be getting these warnings from your build. You should double-check that you are editing the proper configuration file (`proguard-project.txt` as of Android SDK r20).

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-12T05:51:19.370

I found a few things while integrating Proguard maybe it's helpful to you.

1>While using Google's License Verification Library we want to keep an additional class from being obfuscated in the additional library. for that I used proguard/config.txt file:

```
**-keep class com.android.vending.licensing.ILicensingService** 
```

2> While using Google api for MapActivity, I got warnings:

> can't find referenced classes for all come.google.android.maps classes, and "Note: the configuration refers to the unknown class 'com.google.android.maps'"`

When we use Google APIs, there is an additional library used to build the program. for that we need to adjust the path.

Normally there is just android.jar located in your SDK. but Google API adds another library, maps.jar, hidden away at android-sdk-windows\add-ons\addon_google_apis_google_inc_8\libs\maps.jar. We need to add this to the build.xml file. Find the optimize target in build.xml, and add the following text in bold to the proguard command by adjusting the path:

```
<arg value="-libraryjars ${android.jar}"/>
<arg value="-libraryjars ${sdk.dir}/add-ons\addon_google_apis_google_inc_8\libs\maps.jar"/> 
```

Have a look at this ref: [http://goo.gl/Ifgyj](http://goo.gl/Ifgyj)

3> Ref: [Android Proguard skip external jar](https://stackoverflow.com/questions/4911129/android-proguard-skip-external-jar)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-21T14:57:30.687

Try adding the next line to your proguard file:

```
 -keep public class com.google.code.linkedinapi.**

  -keepclassmembers public class com.google.code.linkedinapi.client.impl.LinkedInApiXppClient {
     public <init>(java.lang.String, java.lang.String);
   } 
```

* * *

And also add

```
-keep class twitter4j.**
-keepclassmembers class twitter4j.** {
    <init>(...);
    <methods>;
    <fields>;
} 
```

and also a good idea to add

```
-keep public class * extends android.view.View {
    public <init>(android.content.Context);
    public <init>(android.content.Context, android.util.AttributeSet);
    public <init>(android.content.Context, android.util.AttributeSet, int);
    public void set*(...);
}
-keepclassmembers class **.R$* {
    public static <fields>;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-17T13:35:17.207

One thing that worked for me was to reduce the "optimizationpasses" try 2.

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-21T15:06:34.163

I guess Android does not support jdk 1.7, May be that's your problem. [Can the Android SDK work with JDK 1.7?](https://stackoverflow.com/questions/8578441/can-the-android-sdk-work-with-jdk-1-7)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-08-07T22:20:00.070

I was getting a "Proguard returned with error code 1\. See console" error. In my case the problem was in the "sdk\tools\proguard\bin\proguard.bat" file which the ADT uses to start ProGuard. It contained the line "java -jar "%PROGUARD_HOME%"\lib\proguard.jar %*". In my environment the simple command "java" doesn't work. I never use it because I specify specific JVMs in different circumstances.

Anyway, changing "java" to the absolute path of the JDK 1.7 bin\java.exe resolved the issue.

# jquery - jQuery中的Datepicker onfocus事件

> ID：14501761
> 
> 赞同：3
> 
> 时间：2013-01-24T12:49:06.047
> 
> 标签：jquery, jquery-ui

我必须在 Jquery 中显示文本框的 datepicker onfocus 事件。这是代码但不起作用

```
$("#payment_date").focus(function() {
 $("#payment_date").datepicker("show");
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:51:38.327

[jQuery UI](http://jqueryui.com/datepicker/)中的 DatePicker自动绑定到输入元素的焦点。无需您再次绑定。

刚跑：

```
$(function() {     
    $('#payment_date').datepicker();
}); 
```

应该足够了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:54:35.733

```
$("input[id$=datepicker]").datepicker({}); 
```

试试这个，效果很好。。

# android - 鼠标事件 getAction 名称

> ID：14501763
> 
> 赞同：0
> 
> 时间：2013-01-24T12:49:09.710
> 
> 标签：android

我正在尝试找出鼠标正在执行的操作名称。我试过了

```
String act=String.valueof(event.getAction()); 
```

它返回我整数`3`。谁能指导我与android中的motionevent关联的整数列表。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-08-16T09:29:53.457

目前尚不清楚是否有人真正回答了这个问题，但不管它是不存在的 mouseevent 还是`MotionEvent`@Satyam 询问如何获取操作的**名称**而***不是***它的值！与其批评提问者，或强调他的知识差距，不如说他不读书。回答者应该真正阅读这个问题。这应该被使用：

```
MotionEvent ev 
me.actionToString (me.getAction()); 
```

在调试时记录应用程序的进度时非常有用。我希望有类似的方法，`DragEvent`但我必须走更长的路......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:52:43.390

你可以把代码像，

```
int action = event.getAction();
switch (action) {
    case MotionEvent.ACTION_DOWN:
        //code here....
        break;
    case MotionEvent.ACTION_UP:
        //code here....
        break;
    case MotionEvent.ACTION_MOVE:
        //code here....
        break;
    case MotionEvent.ACTION_CANCEL:
        //code here....
        break;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T12:54:16.143

签出此链接

[http://developer.android.com/reference/android/view/MotionEvent.html#ACTION_CANCEL](http://developer.android.com/reference/android/view/MotionEvent.html#ACTION_CANCEL)

`MotionEvent`类有所有列出的手指触摸事件

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T12:54:39.257

Android上没有鼠标事件之类的东西。你的意思可能是`MotionEvent`s。[您在官方 SDK 文档](http://developer.android.com/reference/android/view/MotionEvent.html)中对每个操作都有描述和解释（顺便说一句，您应该在询问**之前阅读）。**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-02-20T11:18:18.143

`

```
private static String getActionName(MotionEvent event) {
   try {
       for (Field f : MotionEvent.class.getFields()) {
           if (f.getName().startsWith("ACTION_") &&
               f.getInt(null) == event.getAction()) {
                   return f.getName();
            }
        }
    }
    catch (IllegalAccessException ignored) {}
    return event.getAction()+"";
} 
```

`

# ios - 在 Xcode 数据模型编辑器中的配置之间移动实体

> ID：14501768
> 
> 赞同：3
> 
> 时间：2013-01-24T12:49:18.467
> 
> 标签：ios, xcode, xcdatamodel

我目前正在开发一个应用程序，希望它使用 Core Data 从 2 个 sqlite 文件中存储/检索数据（目前它只使用 1 个）。我意识到要做到这一点，我必须在我已经完成[的 Xcode 的核心数据模型编辑器中创建另一个配置。](http://developer.apple.com/library/mac/#recipes/xcode_help-core_data_modeling_tool/Articles/about_cd_modeling_tool.html)现在，我正在尝试将实体从我当前的配置移动到新的配置中，但我找不到这样做的方法。我正在使用 Xcode 4.5.1 版。

我这样做对吗？如何在配置之间移动移动实体？

任何帮助深表感谢 ：）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-28T17:58:53.823

在模型编辑器的左窗格中选择一个配置，然后将其一个或多个实体从右窗格拖放到左窗格中的另一个配置。这将复制实体，因此您仍需要将其从原始配置中删除。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-02-08T15:30:37.183

这在 Xcode 7.2.1 中对我有用：

1.  显示源模型，选择源实体，选择编辑菜单/复制。
2.  显示目标模型。在实体窗格中为新实体添加实体 (+)。
3.  选择新实体并单击编辑菜单/粘贴。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-16T20:28:11.050

我知道两种方法，具体取决于您需要转移多少实体。

如果您想要复制大部分或所有实体，您可以在 Finder 中复制并重命名现有的 xcdatamodel，然后将新文件添加到项目中。我已经将其作为测试进行了，但是由于我只使用单个版本化的模型，因此我还没有使用这种方式输入的模型进行生产，所以我不知道是否有任何缺点。

如果您只有几个实体要传输，只需选择一个模型中的实体，复制它（command-c），然后选择另一个模型并粘贴它（command-v）。这一次只适用于一个实体，之后您需要进行一些清理，但这仍然比手动重新输入所有属性要好。复制后，在新模型中更新以下内容，这些内容不会干净地传输过来：

1.  关系目标和逆。
2.  关系删除规则。
3.  父实体。

# php - 插入mysql之前的函数转义

> ID：14501778
> 
> 赞同：0
> 
> 时间：2013-01-24T12:49:36.513
> 
> 标签：php, mysql, post, escaping

我一直在研究一个代码，如果它们是字符串，则在你将它们输入数据库之前转义你的帖子，这是个好主意吗？这是代码：（更新为数字）

```
static function securePosts(){
    $posts = array();
    foreach($_POST as $key => $val){
        if(!is_numeric($val)){
            if(is_string($val)){
                if(get_magic_quotes_gpc())
                    $val = stripslashes($val);
                $posts[$key] = mysql_real_escape_string($val);
            }
        }else
            $posts[$key] = $val;
    }   
    return $posts;
} 
```

然后在另一个文件中：

```
if(isset($_POST)){
    $post = ChangeHandler::securePosts();
    if(isset($post['user'])){
        AddUserToDbOrWhatEver($post['user']);
    }

} 
```

这是好事还是在进入函数之前转义时会产生不好的影响（addtodborwhater）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T14:25:34.743

在使用用户输入时，应该区分验证和转义。

## 验证

在那里你测试用户输入的内容。如果您期望一个数字，请检查这是否真的是一个数字输入。可以**尽早**进行验证。如果验证失败，您可以立即拒绝它并返回错误消息。

## 逃跑

在这里，您将用户输入带入一个不会损坏给定目标系统的表单。应该尽可能**晚**地进行转义，并且只针对给定的系统进行转义。如果要将用户输入存储到数据库中，则可以使用类似函数`mysqli_real_escape_string()`或参数化 PDO 查询。稍后，如果您想在 HTML 页面上输出它，您将使用`htmlspecialchars()`.

预防性转义用户输入或为多个目标系统转义它不是一个好主意。每次转义都会破坏其他目标系统的原始值，您可以通过这种方式丢失信息。

附言

正如YourCommonSense 正确指出的那样，使用转义函数并不总是足够安全，但这并不意味着您不应该使用它们。字符编码通常是安全工作的一个陷阱，明确声明字符编码是一个好习惯。在 mysqli 的情况下，这可以通过`$db->set_charset('utf8');`HTML 页面来完成，它有助于使用元标记声明字符集。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:54:35.053

在数据库中插入任何内容**之前转义用户输入****总是**一个好主意。但是，您还应该尝试将您希望是数字的值转换为整数（有符号或无符号）。或者更好 - 您应该使用准备好的 SQL 语句。有很多关于后者的信息here和PHP docs。

# apache-flex - 标签 styleSheet 属性

> ID：14501779
> 
> 赞同：0
> 
> 时间：2013-01-24T12:49:36.310
> 
> 标签：apache-flex, styles

在 Label 类中有一个名为 styleSheet 的属性，但我在尝试使用它时遇到了编译错误，尽管我使用的是 Flex 3 和 Flash Player 9。我错过了什么？

这是我的代码：

```
<mx:Label xmlns:mx="http://www.adobe.com/2006/mxml" selectable="true">
    <mx:Script>
        override public function set data(value:Object):void
        {
             super.data=value;
             var labelStyleSheet:StyleSheet=styleSheet; 
```

错误：找不到类型或不是编译时常量：styleSheet

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T14:36:56.203

我不明白你想做什么。

如果您只想设置组件的样式，则应使用该`styleName`属性。例如，要设置红色，您可以使用：

```
<fx:Style>
    @namespace s "library://ns.adobe.com/flex/spark";
    @namespace mx "library://ns.adobe.com/flex/mx";
    .test{
        color:red;
    }

</fx:Style>
<mx:Label styleSheet="{StyleManager.getStyleDeclaration('test').getStyle()}">

</mx:Label> 
```

如果您尝试加载和设置现有的 CSS 运行时，您可以使用[StyleSheet](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/text/StyleSheet.html)。[请参阅文档](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/text/StyleSheet.html)中的示例。

无论如何，您只是因为未定义变量而得到编译错误。

戴维德

# javascript - 是否需要与订阅事件一起重复调用 FB.getLoginstatus

> ID：14501791
> 
> 赞同：0
> 
> 时间：2013-01-24T12:50:24.810
> 
> 标签：javascript, facebook, facebook-javascript-sdk

从 localhost 我正在加载 1 个页面，该页面需要检查是否有任何人登录了 facebook。所以我需要反复检查状态。我认为订阅事件（auth.login，auth.statuschange）就足够了。但是事件采取行动后需要 30 分钟才能起火。所以我以以下方式实现了我的代码：

```
 FB.init({
        appId: "472581889444408",
        channel: true,
        channelUrl: "http://localhost/channel/channel.html",
        status: true,
        xfbml: true,
        oauth: true
        }); 
        FB.Event.subscribe('auth.login', function(response){
                    alert("login");document.bgColor = 'Teal';});
        FB.Event.subscribe('auth.logout', function(response){alert("log out");document.bgColor = '#FF8FFF';});
        FB.Event.subscribe('auth.statusChange', function(response){alert("status changed");document.bgColor = '#ff8889';});

        window.setInterval(FB.getLoginStatus, 30000); 
```

任何人都可以请建议更好的方法来做到这一点

# google-apps-script - 如何在 GAS 中访问源小部件的值？

> ID：14501793
> 
> 赞同：0
> 
> 时间：2013-01-24T12:50:26.213
> 
> 标签：google-apps-script

我正在尝试为文本框编写一个通用服务器处理程序，当文本框获得焦点时突出显示文本：

```
function onFocusHighlight(e) {
  var app = UiApp.getActiveApplication();
  var widget = app.getElementById(e.parameter.source);
  var widgetValue = e.parameter.widgetName; // how can I get widgetName from source???  
  widget.setSelectionRange(0, widgetValue.length);  
  return app;
} 
```

我可以从 e.parameter.source 确定 widgetValue 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T22:34:22.877

我发现只要`widgetName`和`widgetId`相同，我可以确定`widgetValue`如下：

```
function onFocusHighlight(e) {
  var app = UiApp.getActiveApplication();
  var widgetId = e.parameter.source;
  var widgetName = widgetId; // name MUST match id to retrieve widget value      
  var widgetValue = e.parameter[widgetName]; // not sure why this syntax works???

  var widget = app.getElementById(widgetId);  
  widget.setSelectionRange(0,widgetValue.length);  

  return app;
} 
```

我现在唯一的问题是了解`e.parameter[widgetName]`语法如何/为什么实际工作。拥有一个不依赖于相同价值`widgetName`的解决方案也很棒。`widgetId`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:21:50.780

`var widget = app.getElementById(e.parameter.source).setName("widgetName")`

然后获取widgetValue：

`var widgetValue = e.parameter.widgetName`

检查[https://developers.google.com/apps-script/uiapp](https://developers.google.com/apps-script/uiapp)以了解`setName`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T22:59:12.510

**只是根据**您自己的答案提出建议：

您可以通过在某处使用从其 ID 获取小部件名称的转换表来使其工作。

例如，您可以定义：

```
 ScriptProperties.setProperties({'widgetID1':'Name1','widgetID2':'name2'},true) 
```

接着

```
 widgetvalue = e.parameter[ScriptProperties.getProperty(e.parameter.source)] 
```

我没有测试这段代码，但它似乎合乎逻辑；-)，如果没有，请告诉我（我现在没有时间测试它）

**编辑：**按预期工作，这是显示结果的[测试表](https://docs.google.com/spreadsheet/ccc?key=0AnqSFd3iikE3dHBzVkR3Y2xQemhpTlRUV0h0RklLRFE)，下面的测试代码。

```
function Test(){
  var app = UiApp.createApplication().setTitle('test');
  app.add(app.createLabel('Type anything in upper textBox and then move your mouse over it...'))
  var p = app.createVerticalPanel()
  var txt1 = app.createTextBox().setId('txt1').setName('Name1').setValue('value in TextBox1')
  var txt2 = app.createTextBox().setId('txt2').setName('Name2').setValue('waiting to mouseOver textBox1')
  p.add(txt1).add(txt2)
  app.add(p)
  var handler = app.createServerHandler('mouseOver').addCallbackElement(p);
  txt1.addMouseOverHandler(handler); 
  ScriptProperties.setProperties({'txt1':'Name1','txt2':'Name2'},true);//save the name, only txt1 will be used here  
  var ss=SpreadsheetApp.getActiveSpreadsheet()
ss.show(app)
}

function mouseOver(e) {
  var app = UiApp.getActiveApplication();
  var widget = app.getElementById(e.parameter.source);
  var widgetValue = e.parameter[ScriptProperties.getProperty(e.parameter.source)]; // ScriptProperties knows the Widget's name 
  app.getElementById('txt2').setValue(widgetValue) ;// Use the other widget to show result
  return app;
} 
```

# objective-c - 将 ipfw 与 Apple 的可达性类一起使用

> ID：14501794
> 
> 赞同：1
> 
> 时间：2013-01-24T12:50:28.273
> 
> 标签：objective-c, macos, networking, reachability, ipfw

使用 ipfw 指定的数据包过滤规则会影响 Apple 的可达性类的工作吗？

例如。如果我执行这些规则：

```
sudo ipfw add 120 deny tcp from me to www.google.co.in
sudo ipfw add 130 deny tcp from www.google.co.in to me 
```

并运行此代码：

```
Reachability* hostReach = [Reachability reachabilityWithHostName: @"www.google.co.in"];
NetworkStatus netStatus = [hostReach currentReachabilityStatus]; 
```

返回的 netStatus 是*ReachableViaWiFi*而我期待*NotReachable*。可达性是否绕过防火墙？

# android - 如何在android的webview中运行HTML5视频

> ID：14501796
> 
> 赞同：0
> 
> 时间：2013-01-24T12:50:37.287
> 
> 标签：android, html5-video, android-websettings

从上周开始，我尝试查找如何在 android webview 中播放 html5 视频，我在堆栈溢出中阅读了很多博客和问题，但我的问题已解决。我正在使用`.mp4 , .wevm ,ogv and also .3gp`格式，但正在运行格式的中午。我在两个不同的设备上
运行这些视频，一个是一个`micro-max funbook`，`android 4.0`另一个设备是一个`Samsung device`。`2.3.3 android os`

这是我的代码。

```
 url="file://"+Environment.getExternalStorageDirectory()+"/unzipped/HTML5/res/test1.html";

    webview = (WebView) findViewById(R.id.webview);
    webview.setWebChromeClient(new WebChromeClient());
    webview.getSettings().setPluginsEnabled(true);
    webview.getSettings().setPluginState(PluginState.ON);
    webview.getSettings().setJavaScriptEnabled(true);

    webview.getSettings().setDomStorageEnabled(true);
    webview.setWebViewClient(new WebViewClient() {
    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
         view.loadUrl(url);
         return true;
       }    
           });

   webview.loadUrl(url); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T16:27:40.747

对于 API 级别 11+，只需将属性添加到Android 清单文件中`android:hardwareAccelerated="true"`的标记即可。`<application>`

对于较旧的 API，您需要`onShowCustomView`在`onHideCustomView`自己的`WebChromeClient`.

或者您可以查看[html5webview](http://code.google.com/p/html5webview/)

# jsp - Struts2 - 菜单和包括页面

> ID：14501797
> 
> 赞同：0
> 
> 时间：2013-01-24T12:50:37.697
> 
> 标签：jsp, menu, struts2

我有一个关于 Struts2 的基本问题。我想以下一种风格实现一个简单的 Web 应用程序：

```
 TITLE                 12:42
------------------------------------------------------
MENU              | **********************************
1\. Config         | **********************************
 - Products       | **********************************
 - Customers      | **********************************
2\. Operations     | **********************************
 - ...            | **********************************
3\. Statistics     | ********************************** 
```

请原谅我，我不是网页设计师。:)

所以我的网络应用程序有一个标题，附加信息（例如当前时间）将放在标题部分。在左侧会有一个菜单，在右侧（将占据显示屏的 80%）会出现一个页面（我用许多星标表示），这取决于在右侧选择了哪个菜单。登录后，右侧将为空，如果用户单击菜单，则特定页面会出现在那里。

我想使用 Struts2 来控制页面流。

你能给我一些想法如何开始吗？

谢谢，V。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T15:57:35.977

好吧，这很可能是与设计和布局控制有关的问题，您在这里几乎没有好的选择

1.  基于用户输入的带有 JSP 和控制视图的用户 Struts2
2.  使用一些装饰框架，如 Site-mesh 或 Tiles

您可以创建可以定义以下部分的应用程序框架或主模板

1.  标题
2.  顶部导航
3.  左面板
4.  右侧面板
5.  页脚
6.  工作区域

以上所有部分都可以预定义，除了可以在运行时根据您的应用程序逻辑发送视图来更改的工作区域。

对我来说，Tiles 是一个很好的方法，它会以一种简单灵活的方式为你做很多事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-25T10:26:27.500

我最后的解决方案：

索引.jsp

```
<body>
   <table border="0">
      <tr>
         <td colspan="2"><s:include value="header.jspf"/></td>
      </tr>
      <tr>
         <td><s:include value="menu.jspf"/></td>
         <td><s:include value="%{page}"/></td>
      </tr>
   </table>
</body> 
```

struts.xml

```
<package name="menu" extends="struts-default">
    <action name="menu_admin_freq" class="org.vhorvath.throttling.web.actions.MenuAdminFrequencyAction">
        <result name="SUCCESS">/jsp/index.jsp</result>
    </action>   
</package> 
```

动作类

```
public class MenuAdminFrequencyAction extends ParentAction {
    private String page;    
    public String getPage() {
        return page;
    }
    public String execute() {
        page = "/jsp/frequency.jspf";
        return "SUCCESS";
    }
} 
```

菜单.jspf

```
<table border="0">
   <tr>
      <td><b>Administration</b></td>
   </tr>
   <tr>
      <td align="left"><a href="menu_admin_freq.action">Frequency of ...</a></td>
   </tr>
</table> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-11T23:37:01.273

我强烈建议您使用 Sitemesh 作为模板生成器，非常有用

# java - 以编程方式控制应用服务器

> ID：14501804
> 
> 赞同：7
> 
> 时间：2013-01-24T12:51:00.780
> 
> 标签：java, jakarta-ee

我正在创建一个严重依赖于动态创建/管理各种资源（如 jms 队列、webservice 端点、jdbc 连接）的应用程序......我有 java EE 的背景，目前正在使用 jboss 7 服务器但是我正在寻找以编程方式控制这些事情变得越来越困难。最难控制的似乎是网络服务。我需要能够即时生成 WSDL（和 XSD）、管理端点、soap 处理程序等，而系统似乎根本没有设置为执行此操作。

其他应用程序服务器似乎并没有真正提供任何突破性的解决方案，所以我想知道 java EE 是否不是这个特定问题的最佳解决方案？

是否有一个应用程序服务器可以让您做到这一点？有没有其他技术可以做到？我是否应该推出一个集成所有单独模块（例如 jms 服务器、Web 服务器等）的自定义解决方案？

**更新**

澄清一下，大多数 java EE 的东西都是通过注释和 XML 配置的混合来完成的。但是，这假设您对每个资源都有一个 POJO 和/或一个 jar/war/...。

假设我有一个 @WebServiceProvider bean，它可以重复用于多个输入/输出组合（例如，因为它动态重定向内容）。我需要能够即时部署提供者的新“实例”。这意味着我不想复制代码并重新部署它，我只想在类路径中获取一个现有的 bean，并使用不同的配置设置多次部署它。这也意味着我需要动态管理 WSDL。最终结果应该是一个 web 服务，它的工作方式与应用服务器上的标准 web 服务非常相似，具有必要的集成安全性、soap 处理程序......

我想在应用程序服务器代码的某个时刻，必须有一个类“WebserviceManager”，它有一个像“createWebservice(...)”这样的方法，部署模块在发现webservice注释时实际使用它。我想访问该方法和类似的方法来创建 jdbc 连接、jms 队列、...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T19:28:33.883

您可以将 OSGi 用于这些场景。非常适合各种模块的热部署。

# c# - 回调接口合约

> ID：14501805
> 
> 赞同：4
> 
> 时间：2013-01-24T12:51:06.850
> 
> 标签：c#, .net, design-patterns, interface, contract

我有两个需要受合同约束的 .NET 方。现在，party1 和party2 需要能够相互调用一些方法（大部分是调用和报告结果）。我有双工合同，但双方没有使用 WCF。

这有设计模式吗？

**编辑**

双方是同一申请的一部分。我创建了应用程序 (party1)，其他人创建了一个动态加载的 dll (party2)。现在，我们俩应该能够互相调用方法。所以，我要在我们之间创建一个接口契约。目的是知道是否有一个知道模式可以做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-25T09:07:14.010

一个常见的解决方案是使用某种 pub/sub 模式。通过这样做，您可以避免循环依赖。

基本上，您创建某种用于订阅事件（并发布它们）的类。

所以你的两个班级都做这样的事情（但有不同的事件）：

```
public class ClassA : IEventHandler<UserCreated>
{
    IEventManager _eventManager

    public ClassA(IEventManager manager)
    {
       // I subscribe on this event (which is published by the other class)
       manager.Subscribe<UserCreated>(this);
       _eventManager = manager;
    } 

    public void Handle(UserCreated theEvent)
    {
        //gets invoked when the event is published by the other class
    }

    private void SomeInternalMethod()
    {
        //some business logic

        //and I publish this event
        _eventManager.Publish(new EmailSent(someFields));
    }
} 
```

事件管理器（简化且不是线程安全的）：

```
public class EventManager
{
    List<Subscriber> _subscribers = new List<Subscriber>();

    public void Subscribe<T>(IEventHandler<T> subscriber)
    {
        _subscribers.Add(new Subscriber{ EventType = typeof(T), Subscriber = subscriber});
    }

    public void Publish<T>(T theEvent)
    {
        foreach (var wrapper in subscribers.Where(x => x == typeof(theEvent)))
        {
            ((IEventHandler<T>)wrapper.Subscriber).Handle(theEvent);
        }
    }
} 
```

小包装：

```
public class Subscriber
{
    public Type EventType;
    public object Subscriber;
} 
```

瞧。这两个类现在彼此松散耦合（同时仍然能够相互通信）

* * *

如果您使用控制反转容器，它会变得更容易，因为您可以简化事件管理器并仅使用容器（服务位置）来解析所有订阅者：

```
public class EventManager
{
    IYourContainer _container;

    public EventManager(IYourContainer container)
    {
        _container = container;
    }

    public void Publish<T>(T theEvent)
    {
        foreach (var subscriber in _container.ResolveAll<IEventHandler<T>>())
        {
            subscriber.Handle(theEvent);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-25T09:24:46.450

我认为您可以使用下一个逻辑：

```
 Class1: Interface1 , Class2:Interface2, 

class Manager{
   public Manager(Interface1 managedPart1,Interface2 managedPart2){
        ... some logic for connect to interfaces
   }

} 
```

这种方式让我想起了模式`Bridge`，但这是非常主观的

# php - config.php 中非对象的函数 query()

> ID：14501807
> 
> 赞同：0
> 
> 时间：2013-01-24T12:51:13.540
> 
> 标签：php, database, class

我的 config.php 文件中有这样的课程

```
class Config {

    public static $__db = array(
        "host"     => 'l',
        "username" => 'u',
        "password" => 'p',
        "database" => 'x'
    );
} 
```

当我尝试添加这个

```
$q = $db->query("SELECT * FROM x ORDER BY `id` ASC");

$ad = array();
while($row = $db->fetchAll($q))
{
    $ad[] = $row;
} 
```

我总是收到这个错误

```
Fatal error: Call to a member function query() on a non-object in / 
```

请问我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:53:44.430

尝试在调用函数的位置包含配置文件

```
$db = new config(); // create class object
$db->query() //call class method 
```

或试试这个链接[http://www.php.net/manual/en/language.oop5.static.php](http://www.php.net/manual/en/language.oop5.static.php)

# git - 只构建 feature/* 分支

> ID：14501809
> 
> 赞同：11
> 
> 时间：2013-01-24T12:51:28.330
> 
> 标签：git, teamcity

我正在尝试设置 TeamCity 构建以仅构建功能分支，而忽略 master、develop 等。

我目前在我的分支规范中有这个：

+:refs/heads/feature/*

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-02-07T14:45:29.810

以下设置适用于我在 TeamCity 8.0.6 上的预发布版本。

分支规范（选择“显示高级设置”时可见）：

```
+:refs/heads/hotfix/(*)
+:refs/heads/release/(*) 
```

默认分支：`teamcity-default-dummy`

据我了解，您需要指定一个默认分支，而不是要排除的分支。我相信无论分支规范如何，它都会在提交到默认分支时触发，但我可能错了。

我必须为我的预发布构建配置创建一个虚拟分支并在此处指向默认值，因为我刚刚收到一个错误，它无法从我的仓库中不存在的主分支获取更改。您可能不需要这样做。

相关，我发现[这篇文章](http://www.tigranetworks.co.uk/blogs/electricdreams/ci-build-with-teamcity-git-and-gitflow-workflow/)对于使用 TeamCity 设置 git 非常有用。尽管这侧重于 git-flow，但相同的概念适用于任何分支模型。

**2015 年 2 月更新**

从 TeamCity 9.0 开始，您仍需要指定默认分支，默认分支将触发构建。对于这种情况，我建议创建一个永远不会提交的虚拟分支，例如上面的示例。

帮助投票：[https ://youtrack.jetbrains.com/issue/TW-24147](https://youtrack.jetbrains.com/issue/TW-24147)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-30T04:42:00.670

目前这是不可能的。您必须定义一个默认分支。TeamCity 在计算功能分支和许多其他地方的构建更改时会将其考虑在内。作为一种解决方法，您可以修改构建脚本以在默认分支上运行时执行不同的操作。

# actionscript-3 - 用它的图层实例化 MovieClip？

> ID：14501810
> 
> 赞同：0
> 
> 时间：2013-01-24T12:51:32.987
> 
> 标签：actionscript-3, haxe

我最近搜索了很多，我发现我可以在编译时将外部 swf 文件加载到我的 haxe 项目中，并通过他们的 ID 使用 movieClips 作为类类型..

这很酷很好，但是当我实例化一个有图层的影片剪辑时它会如何工作？我所拥有的是带有图层、图像图层和图像图层上的文本图层的影片剪辑。

那么，这可以实现吗？我会看到movieClips的实例（上面的图像和文本）吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-26T09:04:28.043

我们先从代码方面来剖析一下 flash 术语，

**层数：**

将图层视为分组的 z 索引。具有多个对象的单个图层还将为每个剪辑分配子 z 索引（请参阅上下文菜单中的*发送到后面*选项）

flash IDE 为您提供了一个很好的界面来分组和锁定一些对象实例，同时处理另一个实例。每个这样的组都是一个层。

在运行时，每一层（及其对象）将被连接到一个列表（显示列表）中，并且对象按照它们在列表中的位置顺序放置到舞台上。

**框架：**

帧是由 Flash 播放器的 fps 属性控制的时间片。因此，如果您有 12 fps，这意味着您在该时间帧中输入的任何代码都会在 1/12 秒内受到关注。

当然，您在框架或层内所做的任何事情都会编写代码。例如，您在 IDE 中手动输入的代码是通过在内部调用*addframescript来添加的。*

**影片剪辑**

MovieClip 类本身实际上是一个与 IDE 相关的东西。拆分为 Sprite 类加上时间线（帧的集合）以及相关的属性和方法。

因此，Movieclip 类为您提供了 currentFrame、totalFrames 等属性以及 gotoAndPlay()、stop() 等方法，以与 flash 控制类进行交互。

* * *

综合考虑以上所有因素，您应该期望在访问影片剪辑时在帧中定义的不同时间间隔看到不同的图像/文本/对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-26T04:59:48.380

我没有花很多时间在 Flash 上，但您的问题的答案来自对 Flash/AS3 的工作原理有更好的了解，而与 Haxe 的关系不大。

引用[这个答案](https://stackoverflow.com/a/5486688/180995)：

> 层仅存在于 Flash IDE 中。它们不是 Flash Player 显示列表系统的一部分。所以你不能指定孩子进入哪一层。使用 addChild() 或 addChildAt() 将子级添加到容器中。

因此，这意味着 Haxe 不会有任何概念，即哪个对象位于哪一层，AS3 也不会。正确的做法似乎是使用带有 ID 的容器，这些 ID 可以被 AS3 或 Haxe 识别，然后将子级添加到容器中。

TLDR：使用容器影片剪辑，而不是图层。

# tablesorter - 表加载排序时删除的前一行

> ID：14501816
> 
> 赞同：0
> 
> 时间：2013-01-24T12:51:39.973
> 
> 标签：tablesorter

我正在尝试添加 jquery 表排序器。这是工作。我在每一行都有一个带有按钮的删除行选项，当我删除一行并尝试再次对表进行排序时，之前删除的数据正在加载。我该如何解决。我的代码在这里，

```
setTimeout(function(){

 if (!self.isFirstInit) {

    $('#fixedTable').tablesorter({  

       headers: {
          0:{sorter: false},
          1:{sorter: false},
          2:{sorter: false}
       }
    });

    self.isFirstInit = true;

    $("#fixedTable").fixheadertable({
       colratio: [32, 32, 32, 130, 130, 110, 110, 86, 86, 93, 93],
       height: 574,
       zebra: true,
       resizeCol: true
    });  
 }

 $('#fixedTable').triggerHandler('update');

}, 200); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T01:59:11.610

`$('#fixedTable').trigger('update');`不使用`.triggerHandler()`。

# jquery - Struts2 Jquery 插件中表单注册的完成栏

> ID：14501822
> 
> 赞同：0
> 
> 时间：2013-01-24T12:52:09.923
> 
> 标签：jquery, hibernate, struts2, struts2-jquery

我正在尝试使用 Struts 2、Hibernate 3 和 Struts 2 jQuery 插件进度条和其他小部件来实现 Web 应用程序。

( [http://struts.jgeppert.com/struts2-jquery-showcase/index.action](http://struts.jgeppert.com/struts2-jquery-showcase/index.action) )

我有一个注册表单，我需要在其中显示“表格完成百分比”。

```
<sj:progressbar id="progressbarchange" value="21"  onChangeTopics="progressbarchangetopic" cssClass="progressbar"/> 
```

我已经将上面的代码用于实例化 JSP 中的进度条。

在“值”字段中，我硬编码了“21”，但我想将要从会话变量中提取的值放入操作类中。IE，`"#session.progressvarible"`

`"#session.progressvarible"`是我通过计算**NOT NULL COLUMNS**的特定记录的列数得到的值，根据值我将在栏中设置进度完成。

我还需要存储这个完成百分比，因为表单中有一些字段可以暂时跳过，所以每当用户登录到他的主页时，都必须显示这个完成率。

我的问题是如何在 Hibernate 中编写查询或条件或其他内容，以便获取 NOT NULL 列的计数，例如：

```
select no of columns from table1 which are NOT NULL for the student id=101. 
```

# android - 使用 Google Maps API v2 进行 GPS 跟踪和越来越长。& 纬度

> ID：14501825
> 
> 赞同：0
> 
> 时间：2013-01-24T12:52:31.530
> 
> 标签：android, google-maps, google-api

我真的需要一个关于该主题的示例。我尝试了**LocationListener**方法 GPS 跟踪，但它对我没有帮助。因为我需要长。和纬度。在用户的每一步。（或者可能是 2-3 步）你能帮帮我吗？（对不起我的英语不好。）*顺便说一句，当我使用我的应用程序时，我可以在屏幕上看到带有蓝色箭头的用户步骤。但我不知道如何获得用户的 Long。和纬度。信息。*谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T14:20:01.203

使用类 Location 的 getLatitude() 和 getLongitude

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-08-29T13:27:13.027

您可以使用以下代码：

```
LocationManger lm = (LocationManager)getSystemService(Context.LOCATION_SERVICE);
lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1000, 0, new LocationListener() {
@Override
public void onLocationChanged(Location location) {
// TODO Auto-generated method stub
}
@Override
public void onProviderDisabled(String provider) {
// TODO Auto-generated method stub
}
@Override
public void onProviderEnabled(String provider) {
// TODO Auto-generated method stub
}
@Override
public void onStatusChanged(String provider, int status,
Bundle extras) {
// TODO Auto-generated method stub
} 
}); 
```

# c# - 如何在 LINQ 中对元素进行分组以获取 Facebook 消息等结果

> ID：14501828
> 
> 赞同：0
> 
> 时间：2013-01-24T12:52:37.490
> 
> 标签：c#, linq, group-by

我有文档类：

```
public class Document
{
        public int FromCompanyId { get; set; }
        public int ToCompanyId { get; set; }
        public string DocumentText { get; set; }
} 
```

当任何公司向其他人发送文件时，我保存了他们`Id`的文件。很快我就有了很多对ID：

```
1, 2  //  Company which has Id=1 sent document to Company which has Id=2.
1, 3  //  Company which has Id=1 sent document to Company which has Id=3.
4, 3  //  Company which has Id=4 sent document to Company which has Id=3 etc.
2, 1  
4, 3  
4, 5  
5, 4  
5, 5  
4, 5  
3, 1 
```

我想让任何公司**只管理自己的**文件。发送和接收。如何通过公司 ID 获取文件？或者任何人都可以提供其他建议。

所以，什么时候`id = ToCompanyId`（任何公司向这家公司发送文件）我想分组`FromCompanyId`，什么时候`id = FromCompanyId`（这家公司向其他公司发送文件）我想分组`ToCompanyId`。

这看起来像 Facebook 消息。当我交叉我的消息时，我会看到我的所有**其他用户的 Id**对话。在我的应用程序中，我想查看其他公司的 ID 文件。

这仅适用于`id = FromCompanyId`。

```
GetDocumentsByCompanyId(int Id)
{
...
var myDocs= MyDatabaseContext.Documents.Where(e => e.FromCompanyId == Id|| e.ToCompanyId == Id);

var docGroups = from m in myDocs
                group m by m.ToCompanyId
                into g select new { ToCompanyIdKey = g.Key, betweenDocs = g };
...

} 
```

抱歉英语不好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:57:35.593

您可以使用以下代码。
它只是使用条件运算符找出哪个是另一家公司的 ID。此信息用于对文档进行分组。

```
var myDocs = MyDatabaseContext.Documents
                              .Where(e => e.FromCompanyId == Id ||
                                          e.ToCompanyId == Id)
                              .Select(x => new { OtherCompanyId
                                                   = (x.FromCompanyId == Id) ? 
                                                      x.ToCompanyId : 
                                                      x.FromCompanyId,
                                                 Document = x });

var docGroups = from m in myDocs
                group m by m.OtherCompanyId into g
                select new { ToCompanyIdKey = g.Key,
                             BetweenDocs = g.Select(x => x.Document) }; 
```

# matlab - 多输入多输出 (MIMO) 系统的神经网络

> ID：14501832
> 
> 赞同：0
> 
> 时间：2013-01-24T12:52:50.000
> 
> 标签：matlab, neural-network

我想为多输入多输出 (MIMO) 系统构建一个神经网络，描述为：

```
y1(t)= f1( x1(t), x2(t),...xn(t))
y2(t)= f2( x1(t), x2(t),...xn(t))
.....
.....
ym(t)= fm( x1(t), x2(t),...xn(t)) 
```

我阅读的书描述了单输入单输出系统的示例，主要用于形式的函数逼近 `y= f(t)`，其中神经网络针对输入 t（自变量）和输出 y 进行训练。我正在使用matlab神经网络工具箱，可以轻松完成标量情况的解决方案。但是，如何构建或解决 MIMO 问题？如何转换或表示输入或输出以解决 matlab 内置函数的问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T12:56:58.587

首先是一个非常简单的例子：

1.  首先，您需要为输入数据制作一个矩阵，为输出数据制作另一个矩阵。在这里，我使用来自 MATLAB 的预设数据。您应该尝试使输入输出数据的结构如下：

    ```
    [InData, TarData] = engin_dataset; 
    ```

    所以这里我们有两个输入和两个输出 (MIMO) 2 → 2

2.  现在您应该创建网络。我选择了前馈网络：

    ```
    net1 = newff(minmax(InData),[10,2],{'tansig','purelin'},'trainlm') 
    ```

    这里我定义了输入数据范围、每层神经元个数（包括输出层=2）、函数类型和训练算法类型。

3.  现在您可以训练您的网络：

    ```
    net2 = train(net1,InData,TarData) 
    ```

这里的代码来自 MATLAB 自动生成的示例之一：

```
% load data
[inputs,targets] = engin_dataset;
%inputs = engineInputs;
%targets = engineTargets;

% Create a Fitting Network
hiddenLayerSize = 10;
net = fitnet(hiddenLayerSize);

% Setup Division of Data for Training, Validation, Testing
net.divideParam.trainRatio = 70/100;
net.divideParam.valRatio = 15/100;
net.divideParam.testRatio = 15/100;

% Train the Network
[net,tr] = train(net,inputs,targets);

% Test the Network
outputs = net(inputs);
errors = gsubtract(targets,outputs);
performance = perform(net,targets,outputs)

% View the Network
view(net) 
```

# calabash - 获取 NoMethodError：未定义的方法“查询”主要：对象错误

> ID：14501834
> 
> 赞同：2
> 
> 时间：2013-01-24T12:52:54.810
> 
> 标签：calabash

当我输入评论时

运行 irb... 1.9.3p374 :001 > 查询（“标签”）

它引发以下错误。NoMethodError：未定义方法'查询'主要：来自（irb）的对象：1来自/Users/.rvm/rubies/ruby-1.9.3-p374/bin/irb：16：in'

如何解决此错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-25T21:40:51.030

听起来你启动 irb 时没有加载葫芦库。假设您在 iOS 上使用 Calabash：

```
require 'calabash-cucumber/operations'
include Calabash::Cucumber::Operations 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-15T06:24:58.080

Calabash ios已经内置了irb

```
calabash-ios console 
```

运行上述命令后，您应该看到

```
$ calabash-ios console
Running irb...
irb(main):001:0> 
```

如果您使用的是 ruby​​ irb，那么您将需要包含所需的 gem。我建议使用 calabash-ios 控制台。

如果你想在真实设备上查询，你需要设置一些东西（确保你使用的是 calabash-ios 0.9.144）

```
DEVICE_ENDPOINT=http://192.168.0.100:37265 NO_LAUNCH=1 DEVICE=iphone OS=ios6 APP_BUNDLE_PATH=Debug-iphoneos/test.app DEVICE_TARGET=device calabash-ios 
```

DEVICE_ENDPOINT - 您尝试连接的设备 IP 地址

操作系统-ios（ios4、ios5、ios6）

DEVICE_TARGET - 模拟器或设备

设备 - iphone 或 ipad

APP_BUNDLE_PATH - 如果你在真实设备上运行它，你需要设置 .app 文件的路径。但是，对于模拟器，您应该设置 .xcodeproj

希望这会有所帮助，它可能比您要求的信息更多。

欲了解更多信息：[https ://groups.google.com/forum/?fromgroups=#!topic/calabash-ios/6T9wvcPOSN8](https://groups.google.com/forum/?fromgroups=#!topic/calabash-ios/6T9wvcPOSN8)

# android - 访问每个布局的按钮

> ID：14501835
> 
> 赞同：0
> 
> 时间：2013-01-24T12:53:01.607
> 
> 标签：android, layout, button

我需要的是访问单击项目（布局）的按钮；此代码有效，但仅显示所有按钮，TextView，...不是单击的所有布局。如果您想运行此代码，您可以添加其他带有按钮的布局进行测试，谢谢您的帮助这是我的布局：

这是**activity_main.xml**

```
 <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical" >

        <ListView
            android:id="@+id/listView_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" >
        </ListView>
       <TextView        
          android:id="@+id/myTextView"    
          android:layout_width="fill_parent"    
         android:layout_height="25dp"    
         android:textSize="23sp" />
    </LinearLayout> 
```

**然后我的MainActivity：**

```
 package com.example.adapterlist;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

import android.os.Bundle;
import android.app.Activity;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.ListView;

public class MainActivity extends Activity {
    Map<String, Integer> layoutIds = new HashMap<String, Integer>();
    ArrayList<String> arrayForArrayAdapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        final ListView listView = (ListView) findViewById(R.id.mylist);
        java.lang.reflect.Field[] ID_Fields = R.layout.class.getFields();
        String []values=new String[ID_Fields.length];
        int[] resArray = new int[ID_Fields.length];
        for(int i = 0; i < ID_Fields.length; i++){
            try {
                resArray[i] = ID_Fields[i].getInt(null);
                values[i]=getResources().getResourceEntryName(resArray[i]);
                Log.v("resArray[i]  " , getResources().getResourceEntryName(resArray[i]));

            } catch (IllegalArgumentException e) {
                e.printStackTrace();
            } catch (IllegalAccessException e) {
                e.printStackTrace();
            }
        }
     ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
                android.R.layout.simple_list_item_1, android.R.id.text1, values);
             listView.setAdapter(adapter);
             listView.setOnItemClickListener(new OnItemClickListener(){

                @Override
                public void onItemClick(AdapterView<?> arg0, View arg1,
                        int arg2, long arg3) {
                    iJustClickedAnItemInTheList((String) listView.getSelectedItem());

                }
             });
private void iJustClickedAnItemInTheList(String idname) {
        setContentView(layoutIds.get(idname));
        ArrayList<Button> allButtonsInLayout = getViewsFromViewGroup(findViewById(android.R.id.content), Button.class);
    }

    public static <T> ArrayList<T> getViewsFromViewGroup(View root, Class<T> clazz) {
        ArrayList<T> result = new ArrayList<T>();
        for (View view : getAllViewsFromRoots(root)) 
            if (clazz.isInstance(view)) 
                result.add(clazz.cast(view));
        return result;
    }

    public static ArrayList<View> getAllViewsFromRoots(View...roots) {
        ArrayList<View> result = new ArrayList<View>();
        for (View root : roots)
            getAllViews(result, root);
        return result;
    }

    private static void getAllViews(ArrayList<View> allviews, View parent) {
        allviews.add(parent);
        if (parent instanceof ViewGroup) {
            ViewGroup viewGroup = (ViewGroup)parent;
            for (int i = 0; i < viewGroup.getChildCount(); i++)
                getAllViews(allviews, viewGroup.getChildAt(i));
        }
    } 
```

**最终我的班级 MySimpleArrayAdapter：**

```
import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.TextView;

public class MySimpleArrayAdapter extends ArrayAdapter<String> {
  private final Context context;
  private final String[] values;

  public MySimpleArrayAdapter(Context context, String[] values) {
    super(context, R.layout.troisieme, values);
    this.context = context;
    this.values = values;
  }

  @Override
  public View getView(int position, View convertView, ViewGroup parent) {
    LayoutInflater inflater = (LayoutInflater) context
        .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    View rowView = inflater.inflate(R.layout.troisieme, parent, false);
    TextView textView = (TextView) rowView.findViewById(R.id.myTextView);
    //ImageView imageView = (ImageView) rowView.findViewById(R.id.icon);
    textView.setText(values[position]);
    // Change the icon for Windows and iPhone
    String s = values[position];

    return rowView;
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:29:44.177

`Buttons`要从单个布局中获取所有内容：

```
public static <T> ArrayList<T> getViewsFromViewGroup(View root, Class<T> clazz) {
    ArrayList<T> result = new ArrayList<T>();
    for (View view : getAllViewsFromRoots(root)) 
        if (clazz.isInstance(view)) 
            result.add(clazz.cast(view));
    return result;
}

public static ArrayList<View> getAllViewsFromRoots(View...roots) {
    ArrayList<View> result = new ArrayList<View>();
    for (View root : roots)
        getAllViews(result, root);
    return result;
}

private static void getAllViews(ArrayList<View> allviews, View parent) {
    allviews.add(parent);
    if (parent instanceof ViewGroup) {
        ViewGroup viewGroup = (ViewGroup)parent;
        for (int i = 0; i < viewGroup.getChildCount(); i++)
            getAllViews(allviews, viewGroup.getChildAt(i));
    }
} 
```

从`MainActivity`你的电话

```
ArrayList<Button> allButtonsOnCurrentLayout = getViewsFromViewGroup(findViewById(android.R.id.content), Button.class); 
```

现在，您拥有当前布局中的`ArrayList`所有内容。`Buttons`您可以迭代列表并使用已显示的反射获取他们的 ID，或显示他们的标签等。

**编辑：我最后一次尝试帮助，用你自己的扩展下面的代码**

```
public class MainActivity extends Activity {
    Map<String, Integer> layoutIds = new HashMap<String, Integer>();
    ArrayList<String> arrayForArrayAdapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        for(Field field : R.layout.class.getFields()){
            try {
                int id = field.getInt(null);
                String name = getResources().getResourceEntryName(id);
                layoutIds.put(name, id);
                arrayForArrayAdapter.add(name);
            } 
            catch (IllegalArgumentException e) {
                e.printStackTrace();
            }
            catch (IllegalAccessException e) {
                e.printStackTrace();
            }
        }
    }

    private void iJustClickedAnItemInTheList(String idname) {
        setContentView(layoutIds.get(idname));
        ArrayList<Button> allButtonsInLayout = getViewsFromViewGroup(findViewById(android.R.id.content), Button.class);
    }

    public static <T> ArrayList<T> getViewsFromViewGroup(View root, Class<T> clazz) {
        ArrayList<T> result = new ArrayList<T>();
        for (View view : getAllViewsFromRoots(root)) 
            if (clazz.isInstance(view)) 
                result.add(clazz.cast(view));
        return result;
    }

    public static ArrayList<View> getAllViewsFromRoots(View...roots) {
        ArrayList<View> result = new ArrayList<View>();
        for (View root : roots)
            getAllViews(result, root);
        return result;
    }

    private static void getAllViews(ArrayList<View> allviews, View parent) {
        allviews.add(parent);
        if (parent instanceof ViewGroup) {
            ViewGroup viewGroup = (ViewGroup)parent;
            for (int i = 0; i < viewGroup.getChildCount(); i++)
                getAllViews(allviews, viewGroup.getChildAt(i));
        }
    }
} 
```

如果这对您没有帮助，我不知道会怎样。现在用于`allButtonsInLayout`显示`Button`id 或任何您想要对所有`buttons`.

# bash - FTP / WPUT，任何简单的工作解决方案？

> ID：14501836
> 
> 赞同：0
> 
> 时间：2013-01-24T12:53:04.667
> 
> 标签：bash, ftp, automation, ip-address

抱歉，我知道这是一个很好的问题，但我似乎找不到任何简单的解决方案......

试图解决一个问题，我希望有人能够提供帮助。

我正在创建一个脚本，我能想到的解决这个特定问题的唯一方法是通过 FTP 将文件发送到远程 Web 服务器。

.sh 脚本，我最初尝试了 FTP，但这样做似乎与密码有关，我尝试了几种解决方法，但这没有奏效。

然后我尝试了 wput ，但这似乎也失败了。

```
#!/bin/sh
wput -v file.php ftp://usr:pass@host.co.uk/docroot/

 bash wput.sh
wput.sh: line 2: $'\r': command not found
--12:20:58-- `/file.php'
    => ftp://user:xxxxx@host.co.uk/docroot/
Connecting to host.co.uk:21... connected!
Logging in as user ... Logged in!
==> CWD docroot
==> TYPE I ... done.
 ... failed.
==> SYST ... done (UNIX Type: L8).
==> PASV ... done.
==> TYPE A ... done.
==> LIST ... done.
==> TYPE I ... done.
==> PASV ... done.
' not understood) Skipping this file
FINISHED --12:20:59--
Transmission of 1 file failed.
wput.sh: line 4: $'\r': command not found
wput.sh: line 5: $'\r': command not found 
```

有谁能告诉我哪里出错了。这可能是文件权限问题还是什么？

我所需要的只是一个简单的解决方案，以尽可能简单的方式将文件从我的计算机自动传输到某个网络空间。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:30:29.663

尝试使用`ncftpput`：

`ncftpput`帮助菜单中显示的示例：

```
 ncftpput -u gleason -p my.password Elwood.probe.net /home/gleason stuff.txt
  ncftpput -u gleason Elwood.probe.net /home/gleason a.txt (prompt for pass)
  ncftpput -a -u gleason -p my.password -m -U 007 Bozo.probe.net /tmp/tmpdir a.txt
  tar cvf - /home | ncftpput -u operator -c Server.probe.net /backups/monday.tar 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T13:57:10.407

以防万一有人对这里感兴趣的是完成的脚本。它所做的只是连接到一个简单的 php 脚本来确定我的远程 IP。（这是每隔几分钟由一个 cron 作业完成的）。它将找到的 IP 与上次存储 IP 地址的文件进行比较。如果更改了它，它会将 IP 保存在比较文件“file1.txt”中，并将 FTP 文件保存到 ISP 托管的网络空间。计划是我可以使用 IP 作为重定向页面的变量，或者只是检查我最近的 IP。

```
#!/bin/bash 
# Check IP address compare to see if its changed.
# Save the file to a couple of different places locally
# FTP the file to regular hosting.
# File to keep IP address in
IP_FILE=file1.txt
echo "File to store and compare IP:" $IP_FILE
# wget to check current IP address.
IPADDRESS=$(wget URL/ip.php -O - -q)
echo "New IP:" $IPADDRESS
# Read the previous IP address from file
source $IP_FILE
echo "Old IP:" $OLD_IP
# Compare the new to the old IP
if [ "$IPADDRESS" != "$OLD_IP" ]
then
    echo "New IP address detected: $IPADDRESS"
    # Write new address to file
    `echo "OLD_IP=$IPADDRESS" > $IP_FILE`

    # FTP File to the appropriate places
    # Store it locally as well
    ncftpput -u user -p pass webspace.co.uk /remotefiletostorein/ /local/file/tostore.php

fi 
```

请注意，我不知道这样做的安全风险，现在没关系，但请。除非您知道自己在做什么，否则不要使用它，我对这种不安全感概不负责，哈哈。

但是，它确实为您提供了动态托管等的备份解决方案。

# node.js - 方法应该在 Mongoose 中的模型上定义还是在单独的层中定义？

> ID：14501838
> 
> 赞同：9
> 
> 时间：2013-01-24T12:53:08.037
> 
> 标签：node.js, mongoose

我是一名传统的 C# 开发人员，过去我将 MVC 与分层架构一起使用。我现在用 NodeJs/Mongoose 编写了一个应用程序，我对 Mongoose 的工作方式有点困惑。

在过去，我会将我的模型定义为简单的 POCO，将它们通过层传递，我的存储库将完成我所有的数据访问。

使用 Mongoose，数据访问发生在模型本身上。您可以调用 .save()，声明静态和实例方法，例如 myModel.findAllByX() 等。虽然这对我来说是一种偏离，但我可以看到一些赞成和反对的观点。

我在这里错过了什么吗？是否有任何好的实践技巧，或者我应该保持简单，只在我的 Mongoose 模型上声明所有内容，而不是将其传递给另一层？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-28T01:48:08.057

由于 mongoose 已经是数据库层的抽象，因此您应该完全按照您的怀疑去做，并直接在 mongoose 中构建模型抽象。

这就是`static`和`method`系统在 Mongoose 模型上的用途——这也是钩子系统的用途（预初始化、保存等）。

在大型应用程序中，我们通常最终完全通过自定义静态和方法访问我们的猫鼬模型......从这个意义上说，您可以认为这些静态和方法实际上构成了您在 MVC 中谈论的“单独层”。

*   [http://mongoosejs.com/docs/guide.html#statics](http://mongoosejs.com/docs/guide.html#statics)
*   [http://mongoosejs.com/docs/guide.html#methods](http://mongoosejs.com/docs/guide.html#methods)

# java - 在java中更改Windows键盘？

> ID：14501842
> 
> 赞同：7
> 
> 时间：2013-01-24T12:53:23.183
> 
> 标签：java, internationalization, keyboard

我想更改当前以编程方式使用的 Windows 键盘。

我正在为东方语言编写一个字典程序，当用户单击不同的表格列时，我希望它切换到另一个键盘。

我对此进行了调查，并找到了使用 Windows PowerShell 和本机 C++ 代码的示例。PowerShell 似乎不起作用，而且我不熟悉本机 Windows API 和 C。任何有关如何在 Java 中实际完成此操作的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-24T13:43:54.533

这是一篇博客文章，解释了如何做到这一点：[更改输入法](http://peymanp.blogspot.com/2008/02/change-keyboard-layout.html)
简而言之：

```
yourMainJFrame.getInputContext().selectInputMethod(new Locale("fa", "IR")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-05-06T18:32:33.310

上面的方法对我不起作用，所以我使用了 Robot 的原始方法

```
public static void switchKeyboardLanguage()
{
    SwingUtilities.invokeLater(new Runnable()
    {
        public void run()
        {
            try
            {
                Robot robot = new Robot();
                robot.keyPress(KeyEvent.VK_ALT);
                robot.keyPress(KeyEvent.VK_SHIFT);
                robot.delay(10);
                robot.keyRelease(KeyEvent.VK_ALT);
                robot.keyRelease(KeyEvent.VK_SHIFT);
            }
            catch (AWTException e)
            {
                LogUtils.logError("Failed to use Robot, got exception: ", e);
            }
        }
    });
} 
```

# phpunit - 如何选择在 Laravel 3.x 中运行哪些 PHPUnit 测试？

> ID：14501844
> 
> 赞同：1
> 
> 时间：2013-01-24T12:53:24.533
> 
> 标签：phpunit, laravel, laravel-3

我正在使用*php artisan test*来执行我的测试，但现在我的测试太多了，我希望能够选择运行哪一个。我熟悉 PHPUnit 中的测试组，我只是不知道如何在 Laravel 的情况下应用它，因为 phpunit.xml 是在这里动态生成的。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-16T11:09:04.920

如果不修改 Laravel 的几个核心文件，就不可能做到这一点。我非常需要这个功能，所以继续将这个功能添加到 Laravel。

以下是针对 Laravel 3 的：打开 Laravel/cli/tasks/tests/runner.php，并将 bundle 函数替换为以下内容：

```
public function bundle($bundles = array())
{
    if (count($bundles) == 0)
    {
        $bundles = Bundle::names();
    }

    $is_bundle = false;
    $this->base_path = path('sys').'cli'.DS.'tasks'.DS.'test'.DS;

    foreach ($bundles as $bundle)
    {
        // To run PHPUnit for the application, bundles, and the framework
        // from one task, we'll dynamically stub PHPUnit.xml files via
        // the task and point the test suite to the correct directory
        // based on what was requested.
        if (is_dir($path = Bundle::path($bundle).'tests'))
        {
            $this->stub($path);

            $this->test();
            $is_bundle = true;
        }
    }

    if (!$is_bundle)
    {
        $this->stub($path);

        // Run a specific test group
        $this->test($bundles[0], $bundles[1]);
    }
} 
```

然后，将**测试**功能替换为以下内容：

```
protected function test($group = null, $file = null)
{
    // We'll simply fire off PHPUnit with the configuration switch
    // pointing to our requested configuration file. This allows
    // us to flexibly run tests for any setup.
    $path = 'phpunit.xml';

    // fix the spaced directories problem when using the command line
    // strings with spaces inside should be wrapped in quotes.
    $esc_path = escapeshellarg($path);

    $group_string = '';

    if ($group)
    {
        $group_string = '--group ' . $group . ' ';

        if ($file)
        {
            $group_string .= path('app') . 'tests/' . $file . '.test.php';
        }
        else
        {
            $group_string .= path('app') . 'tests/' . $group . '.test.php';
        }
    }

    passthru('phpunit --configuration '.$esc_path.' '.$group_string, $status);

    @unlink($path);

    // Pass through the exit status
    exit($status);
} 
```

解决方案有点老套，但它完成了工作。

简而言之，要为 PHPUnit 运行特定的测试组，请从命令行运行以下命令：

```
php artisan test group_name_here 
```

这将从与组 (groupname.test.php) 同名的文件中运行组。要在特定文件中运行特定组，请指定组名，然后指定文件名的第一部分：

```
php artisan test mygroupname myfilename 
```

我猜你总是可以添加功能以允许它从目录中的所有文件中运行组名。

我希望这可以帮助其他需要该功能的人:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:18:18.477

[您可以使用@group 注释](http://www.phpunit.de/manual/current/en/appendixes.annotations.html#appendixes.annotations.group)对 PHPUnit 测试进行分组。我怀疑你也可以从工匠那里参考这个小组：http: [//laravel.com/docs/artisan/commands#unit-tests](http://laravel.com/docs/artisan/commands#unit-tests)

您可以将@group 放在测试类上，或者只是一个测试方法。您可以将多个组放在一个类/方法上。这样您就可以组织它们。

# pthreads - 我们是否需要不止一个 pthread 屏障？例如？

> ID：14501845
> 
> 赞同：0
> 
> 时间：2013-01-24T12:53:26.730
> 
> 标签：pthreads, barrier

障碍似乎在 Pthreads 中经常使用。Pthreads 提供了 pthread_barrier_init() 原语来帮助创建新的屏障。

```
http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_barrier_init.html 
```

但是，根据我自己的经验，我还没有看到任何使用多个障碍的*现实世界程序？我用谷歌搜索并看到了这个主题[http://www.linuxquestions.org/questions/programming-9/when-do-you-need-more-than-1-pthread-barrier-variable-752164/](http://www.linuxquestions.org/questions/programming-9/when-do-you-need-more-than-1-pthread-barrier-variable-752164/)。但是，该主题没有介绍任何真正需要超过 1 个障碍的示例程序。

**所以，我想知道我们是否在一个程序中需要多个障碍？任何现实世界的例子？**

感谢您的意见！

# mysql - mysql非规范化连接表

> ID：14501851
> 
> 赞同：0
> 
> 时间：2013-01-24T12:53:41.450
> 
> 标签：mysql, join, denormalization

我在下面显示了 3 个 mysql 表。在这种情况下，`tbl_a`是连接表相关`tbl_b`和`tbl_c`。我想非规范化`tbl_a`

tbl_a 模式

```
b_id, c_id, id, x,y,z 
```

tbl_b 模式

```
id, a, b, c 
```

tbl_c 模式

```
id, d, e, f 
```

这个想法是，对于每个`id`in `tbl_a`，我想用它们各自表中的完整条目替换`b_id`和。`c_id`

我有查询

```
select a,b,c,d,e,f,x,y,z from tbl_a
INNER JOIN tbl_b on tbl_a.b_id = tbl_b.id
INNER JOIN tbl_c on tbl_a.c_id = tbl_c.id; 
```

但这会导致每个`id`in 2 行`tbl_a`。

有人可以解释为什么这不起作用吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:30:49.113

有机会在 tbl_a 中有重复的 id 吗？

查询是正确的 - 检查[http://sqlfiddle.com/#!8/9c666/1](http://sqlfiddle.com/#!8/9c666/1)

```
CREATE TABLE `tbl_a` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `b_id` int(11) NOT NULL,
  `c_id` int(11) NOT NULL,
  `xyz` varchar(30) NOT NULL,
  PRIMARY KEY (`id`)
) ;

CREATE TABLE `tbl_b` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `abc` varchar(30) NOT NULL,
  PRIMARY KEY (`id`)
) ;

CREATE TABLE `tbl_c` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `def` varchar(30) NOT NULL,
  PRIMARY KEY (`id`)
) ;

INSERT INTO `tbl_b` (`id`, `abc`) VALUES
(1, 'b1'),
(2, 'b2'),
(3, 'b3'),
(4, 'b4');

INSERT INTO `tbl_c` (`id`, `def`) VALUES
(1, 'c1'),
(2, 'c2'),
(3, 'c3');

INSERT INTO `tbl_a` (`b_id`, `c_id`, `xyz`)
SELECT (ABS(CRC32(UUID())) % 4) + 1, (ABS(CRC32(UUID())) % 3) + 1, SUBSTRING(UUID(), 3, 5);

SELECT * FROM tbl_a;

SELECT * FROM tbl_a
INNER JOIN tbl_b on tbl_a.b_id = tbl_b.id
INNER JOIN tbl_c on tbl_a.c_id = tbl_c.id; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:41:03.270

这可能不是您想要的，但话又说回来，您还没有确切地告诉我们您想要什么......

```
SELECT a,b,c,d,e,f,x,y,z 
  FROM tbl_a
  LEFT
  JOIN tbl_b 
    ON tbl_a.b_id = tbl_b.id
  LEFT
  JOIN tbl_c 
    ON tbl_a.c_id = tbl_c.id; 
```

# python - VTK导入使python崩溃

> ID：14501854
> 
> 赞同：0
> 
> 时间：2013-01-24T12:53:53.087
> 
> 标签：python, vtk

我已经按照[这些说明](http://www.it.uu.se/edu/course/homepage/vetvis/ht10/vtk/instructions_vtk_OSX.pdf)安装了 vtk并在 CMakeCache.txt 中进行了设置

```
BUILD_SHARED_LIBS:BOOL=ON
PYTHON_EXECUTABLE:FILEPATH=/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python 
```

（在 ipython 下运行的实际 python）

```
VTK_WRAP_PYTHON:BOOL=ON 
```

编译成功，但是当我转向 python 时，我得到：

```
Python 2.7.3 (default, Nov 28 2012, 13:43:07) 
Type "copyright", "credits" or "license" for more information.

IPython 0.13.1 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object', use 'object??' for extra details.

In [1]: import pkgutil

In [2]: package = pkgutil.get_loader("vtk")

In [3]: package.filename
Out[3]: '/usr/local/lib/python2.7/site-packages/VTK-5.10.1-py2.7.egg/vtk'

In [4]: import vtk
Fatal Python error: Interpreter not initialized (version mismatch?)
Abort trap 
```

有人知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-06T11:02:55.257

我遇到了类似的问题，尽管我的 Python 崩溃了，但没有给我任何错误消息。我们的情况有几个不同之处，例如我运行的是 Windows 7 Professional 64 位，而我的导入只是在我安装了 64 位 Python 和 32 位之后才中断。我没有对我的 32 位 Python 安装或我的 VTK 文件进行任何更改，但我无法让它再次在该配置中工作。

最终，我只是重新编译了指向 32 位 Python 安装的 VTK，这似乎解决了问题。很有可能我们的问题完全不相关，而你已经解决了你的问题，但我想我应该让你知道。

不过，令人好奇的一件事是 pkgutil 命令的输出。'/usr/local/lib/python2.7/site-packages/VTK-5.10.1-py2.7.egg/vtk' 是您的 VTK 构建目录吗？当我尝试相同的命令时，我得到：'C:\Users\u0079931\64bit\VTK-bin\Wrapping\Python\vtk'，这与您链接的说明更相似。您的 PYTHON_PATH 设置是否正确？

# java - Linux 上的 java.rmi.NoSuchObjectException

> ID：14501873
> 
> 赞同：0
> 
> 时间：2013-01-24T12:54:56.987
> 
> 标签：java, linux, rmi

我正在通过 RMI 连接的应用程序开发两个。通信是双向的，一切正常，直到我在 Windows 上运行。当我将 jar 文件带到 Debian 时，连接失败并显示`java.rmi.NoSuchObjectException`.

知道 linux 有什么不同或为什么它不工作吗？

编辑：我的代码：
服务器端：

```
static Registrator clientRegistrator = null; // static field, interface extending java.rmi.Remote
...
Registry rmiRegistry = LocateRegistry.createRegistry(RmiConstants.RMI_REGISTRY_PORT);
clientRegistrator = (Registrator) UnicastRemoteObject.exportObject(new RmiClientRegistrator(networkListeners), RmiConstants.RMI_REGISTRY_PORT); // RmiClientRegistrator implements Registrator interface
rmiRegistry.bind(RmiConstants.RMI_SERVER_MARK, clientRegistrator); 
```

客户端：

```
static Registrator serverRegistrator = null;
String rmiConnectionString = "rmi://localhost:" + RmiConstants.RMI_REGISTRY_PORT + "/" + RmiConstants.RMI_SERVER_MARK;
serverRegistrator = (Registrator) Naming.lookup(rmiConnectionString);
serverRegistrator.registerClient(dataReceiver); // fails here, with mentioned exception 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T22:18:28.580

您的存根引用的远程对象不再存在。更准确地说，它不再被导出。除非您自己取消导出它，或者除非网络分区导致 DGC 故障，否则在客户端仍然有一个实时存根时不应发生这种情况。

对此最可靠的补救措施是在 JVM 中保留对远程对象的静态引用，该远程对象从中导出。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-24T12:58:12.547

你看到这里了吗：

[java.rmi.NoSuchObjectException：表中没有这样的对象](https://stackoverflow.com/questions/645208/java-rmi-nosuchobjectexception-no-such-object-in-table)

[Java RMI NoSuchObjectException](https://stackoverflow.com/questions/4986272/java-rmi-nosuchobjectexception)

[在](http://docs.oracle.com/javase/1.4.2/docs/api/java/rmi/NoSuchObjectException.html)这里：

> 如果尝试调用远程虚拟机中不再存在的对象的方法，则会引发**NoSuchObjectException 。**如果在尝试调用远程对象上的方法时发生 NoSuchObjectException，则调用可能会被重新传输，并且仍然保留 RMI 的“最多一次”调用语义。方法 java.rmi.server.RemoteObject.toStub 以及 java.rmi.server.UnicastRemoteObject 和 java.rmi.activation.Activatable 的 unexportObject 方法也会引发 NoSuchObjectException 和

# c++ - 使用 Visual Studio 提升 asio TCP IP asio 类编译错误。错误：C2228：“.close”左侧必须有类/结构/联合

> ID：14501874
> 
> 赞同：3
> 
> 时间：2013-01-24T12:55:01.747
> 
> 标签：c++, class, boost, tcp, boost-asio

我正在尝试按照此页面中提供的步骤进行操作

[http://www.boost.org/doc/libs/1_46_0/doc/html/boost_asio/tutorial/tutdaytime1.html](http://www.boost.org/doc/libs/1_46_0/doc/html/boost_asio/tutorial/tutdaytime1.html)

但是，在某些时候代码无法编译，并给我指定的错误。我无法理解这是一种什么样的冲突。对象 tcpsock 似乎没有正确创建。请检查我的代码：

```
io_service io_tcp;
tcp::resolver resolverObject(io_tcp);
tcp::resolver::query queryObject(argv[1], "daytime");
tcp::resolver::iterator endpoint_iterator = resolverObject.resolve(queryObject);
tcp::resolver::iterator end; //default constructor is end iterator

tcp::socket tcpsock(io_service);
boost::system::error_code socketError = boost::asio::error::host_not_found;

while (socketError && endpoint_iterator != end)
{
    //Apparently, the object isn't created correctly
    tcpsock.close(); //error happenes here
    tcpsock.connect(*endpoint_iterator++, socketError); //error happenes here too
}
if (socketError)
    throw boost::system::system_error(socketError); 
```

感谢您的任何努力。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T13:43:27.927

您正在`tcpsock`使用类型进行初始化`io_service`，而不是使用变量进行初始化`io_tcp`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-08-07T21:47:05.587

我也发现了这个编译错误，但从不同的角度给出了以下内容：

```
 boost::asio::read(socket, replyBuf, boost::asio::transfer_all(), error); 
```

与正确的比较：

```
boost::asio::read(*socket, replyBuf, boost::asio::transfer_all(), error); 
```

注意需要取消引用套接字。似乎 boost 使用常见的基本类型可以防止常见的智能感知错误。

将来，我建议在运行时为 boost 类型的 args 使用之前添加一个空检查。

# c++ - void* 的 bool[] 转换为 std::string

> ID：14501875
> 
> 赞同：-1
> 
> 时间：2013-01-24T12:55:01.500
> 
> 标签：c++, type-conversion, void-pointers

我需要保存一些数据，唯一可行的选择是`std::string`; 所以我得到一个作为`void*`. 现在我需要以一种可以将其转换为 a`std::string`并能够从该确切字符串中读取`void*`a的方式来保存它。`bool[]`可悲的是，我迷失在转换中。

```
f(const void* data, int length){

   bool** boolPointer = (bool**)(data);
   bool boolArray[length];

   for (int i=0; i<=length; i++){
       boolArray[i] = p[sizeof(bool)*i];
   }

   std::string s = (std::string&)boolArray;
} 
```

我很确定最后一行不是可行的转换，但那是我的尝试。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T13:09:47.813

这对你有用吗？

```
char f(bool b)
{
    return b ? '1' : '0';
}

int main()
{
    // let's just consider whatever is there in this uninitialized array
    bool buf[100];

    std::string s;

    // transform and copy (convert true to '1' and false to '0')
    std::transform(&buf[0], &buf[99], std::back_inserter(s), f);

    std::cout << s << std::endl;
} 
```

如果您使用的是 C++11，则可以使用以下代码片段

```
int main()
{
    bool buf[100];

    std::string s;

    std::transform(&buf[0], &buf[99], std::back_inserter(s), [](bool const &b){ return b ? '1' : '0'; });
    std::cout << s << std::endl;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:06:56.163

好吧，我想你可以打开你的 C++ 书......

```
std::string f(std::vector<unsigned char> const& v)
{
    std::string temp;

    for (auto c : v) {
        for (unsigned i = 0; i < 8; ++i) {
            temp += (c & (1 << i)) ? '1' : '0';
        }
    }

    return temp;
} 
```

`std::copy`使用类似或其他一些神秘的东西可能更容易做到这一点`back_inserter`，但我想保持简单。另一种选择是使用`std::bitset`或您自己的封装，以摆脱丑陋的位操作。

如果你被魔鬼强迫通过 传递数据`void*`，只需将其转换为向量：

```
unsigned char* begin = static_cast<unsigned char*>(data);
vector<unsigned char> v (begin, begin + length); 
```

另请注意，如果它是用于序列化目的，那么计算机和人类都很难读取该表示。如果它打算由计算机读取，请将其保存为二进制而不进行转换。如果它是供人类阅读的，请将其保存为十六进制字符（将每个字节分成两半）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T13:20:41.317

您可以重载输出运算符以将布尔值转换为您想要的任何内容：

```
ostream& operator<<(const ostream& os, const bool& value) {
    return os << (value ? "1" : "0");
} 
```

然后将数组复制到 a `stringstream`：

```
int main() {
    // ...
    ostringstream oss;
    copy(data, data+size, ostream_iterator<bool>(oss));

    oss.str(); // this is the string you're looking for
    // ...
} 
```

# apache-flex - Flex: air application update some files

> ID：14501877
> 
> 赞同：1
> 
> 时间：2013-01-24T12:55:02.680
> 
> 标签：apache-flex, air

I have 4 projects:

1.- AIR desktop application project (modular app) (app.swf 170kb) 2.- Controls/Components library project (1.2mb) 3.- Core library project (150kb) 4.- Styles/Skins/Assets library project (3.5mb)

2, 3, 4 are linked as RSL in 1 3, 4 are linked as External in 2 4 are linked as External in 3

I want to update only 1, 2, 3 and/or 4... For example, I want to update/upgrade only 1 and 2.

I tried with ApplicationUpdaterUI, building only files I needed, but this replace all folder content and paste the files archived on package.

I try packaging all files, manually extract the files from package and paste them (only files updated) in application folder, but doesn't work... If I paste the 4 swfs, application run perfectly...

I understand that Flex creates a placeholder for RSL libraries, but I think also that registers something like the CLSID of rsl swfs in app.swf.

I tried with ANT also... same results...

What are my options? Using Air Desktop Application...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T21:15:10.670

我找到了一个解决方案：

2、3 和 4 链接“外部”。

在 AIR 应用程序中，我使用库、模块和资产版本构建了用于检查远程配置 (config.xml) 文件的所有功能。应用程序下载并保存所有 swf 文件需要更新。之后，应用程序使用 loader.loadBytes() 加载所有文件。默认框架链接是 RSL。

只有 AIR 应用程序必须使用 ApplicationUpdaterUI 进行更新，但库、模块和资产（将不断更新）会按需更新。

对不起我的英语不好。

我希望这对某人有所帮助。

# android - Alternative ways to set durationLimit or sizeLimit while video recording?

> ID：14501881
> 
> 赞同：9
> 
> 时间：2013-01-24T12:55:14.950
> 
> 标签：android, video, camera, android-camera-intent

The thing what I wanted to implement that users can record video only for 30 seconds or by a specific size.

I tried to use those below (both seperately or together)

```
public static final java.lang.String EXTRA_SIZE_LIMIT = "android.intent.extra.sizeLimit";
public static final java.lang.String EXTRA_DURATION_LIMIT = "android.intent.extra.durationLimit"; 
```

**Results**

1.  **EXTRA_SIZE_LIMIT** did **not** work on **Samsung Phones**. On HTC it worked very inaccurately. You must set EXTRA_VIDEO_QUALITY as 0 which means low quality (it's sh*t as hell) and if you set it to "1" it wont work.

2.  **EXTRA_DURATION_LIMIT** did not work on **HTC Phones**. Except HTC it worked without any problem all brands which I tried.

So I wonder if there are another ways to set limit for duration or size while video recording on Android?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T14:04:11.210

不，不是在使用`ACTION_VIDEO_CAPTURE`. 直接使用`MediaRecorder`可能会导致类似的问题。

另一种方法是通知用户限制并拒绝超出您设置的限制的录制视频。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-02-16T13:36:57.137

```
Intent intent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);
    intent.putExtra(MediaStore.EXTRA_VIDEO_QUALITY, 0); //Low Quality
    intent.putExtra(MediaStore.EXTRA_SIZE_LIMIT,2097152L);  //2MB
    intent.putExtra(MediaStore.EXTRA_DURATION_LIMIT,30); //30Seconds
    startActivityForResult(intent, CAPTURE_VIDEO_ACTIVITY_REQUEST_CODE); 
```

您可以使用这种方式通过键“EXTRA_SIZE_LIMIT”和“EXTRA_DURATION_LIMIT”来设置视频大小或持续时间。

这工作正常。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-24T11:06:24.497

这是我的配置

```
intent.putExtra(MediaStore.EXTRA_VIDEO_QUALITY, 0);//0 for low, 1 higth
intent.putExtra(MediaStore.EXTRA_DURATION_LIMIT,20); //20seq
intent.putExtra(MediaStore.EXTRA_SIZE_LIMIT,size*1048576L);//X mb *1024*1024 
startActivityForResult(intent, VIDEO_CAMERA_SELECT); 
```

在 LG 手机上运行良好，但三星设备始终忽略质量参数

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-24T18:57:44.873

您可以设置最长持续时间和最大文件大小

```
 recorder.setMaxDuration(80000); // 80 seconds
 recorder.setMaxFileSize(5000000); 
```

# jquery - 更改包含 jQuery 对话框的 html

> ID：14501882
> 
> 赞同：0
> 
> 时间：2013-01-24T12:55:16.260
> 
> 标签：jquery, html, jquery-ui, jquery-ui-dialog

我有一个带有 jquery UI 对话框的 html。然后我更改包含对话框的 div。
但是对话框的内容并没有改变。我希望能够一起更改对话框及其包含的 div。
如果我只更改对话框 div，它会按预期工作，但这不是我需要的。

示例代码：http: [//jsfiddle.net/JpLzh/13/](http://jsfiddle.net/JpLzh/13/)

对话框内的文本应该从“原始”更改为“新”，但事实并非如此。
对话框外的文本确实从“main”变为“altered main”。

我做错了什么，我该如何克服这个问题？

**编辑**
即使在更改发生之前，我也需要对话框工作。创建 html 后很长时间可能会发生更改。

html

```
<div id="main">
main
<br>
<button id="opener">Open Dialog</button>
<div id="dialog">
    original
</div>
</div>
<script>
$( "#dialog" ).dialog({
            autoOpen: false,
            height: 500,
            width: 800,
            modal: true,
            resizable:false,
            draggable:true,
});

$( "#opener" ).click(function() {
  $( "#dialog" ).dialog( "open" );
});
</script> 
```

加载 JavaScript

```
$('#main').html('<div id="main">altered main<br><button id="opener">Open Dialog</button><div id="dialog">new</div></div>');
$( "#dialog" ).dialog({
            autoOpen: false,
            height: 500,
            width: 800,
            modal: true,
            resizable:false,
            draggable:true,
});

$( "#opener" ).click(function() {
  $( "#dialog" ).dialog( "open" );
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:08:32.037

这是因为您正在创建 2 个对话框。要更改对话框的内容，您需要做的就是更改对话框 div：

```
 <div id="main">
        main
        <br>
        <button id="opener">Open Dialog</button>
            <button id="changer">change Dialog</button>
        <div id="dialog">
            original
        </div>
    </div>
<script>
    $( "#dialog" ).dialog({
                    autoOpen: false,
                    height: 200,
                    width: 200,
                    modal: true,
                    resizable:false,
                    draggable:true,
    });

        $( "#opener" ).click(function() {
          $( "#dialog" ).dialog( "open" );
        });

        $( "#changer" ).click(function() {
          $( "#dialog" ).html("new");
        });
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T13:33:44.427

当您从 element 创建对话框时`#dialog`，该元素将移出其原始父级 ( `#main`)。如果在显示对话框时更改父级的内容，则不会更改对话框（这是一件好事，否则对话框将被删除）。

您需要做的是单独更改对话框内容：

```
$( '#main' ).html( 'The new content except #dialog' );
$( '#dialog' ).html( 'New dialog contents' ); 
```

（顺便说一句，你不应该这样做：`$( '#main' ).html( '<div id="main">...' )`你正在更改*内部*HTML 内容，所以你不应该重复容器。否则结果是`<div id="main"><div id="main">...`）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T13:42:17.533

我找到了解决方案。看起来我无法更改包含 div 的对话框，因为它已经是 .dialog() 方法的对话框，并且当我更改包含的 html 时，它不会影响已创建的对话框。

我找到的解决方案是使用 .destroy() 方法销毁旧对话框，然后从新更改的 html 创建一个新对话框。

我的解决方案：http: [//jsfiddle.net/JpLzh/12/](http://jsfiddle.net/JpLzh/12/)

```
<div id="main">
main
<br>
<button id="opener">Open Dialog</button>
<button id="changer">Change div</button>
<div id="dialog">
    original
</div>
</div>
<script>
$( "#dialog" ).dialog({
            autoOpen: false,
            height: 500,
            width: 800,
            modal: true,
            resizable:false,
            draggable:true,
});

$( "#opener" ).click(function() {
  $( "#dialog" ).dialog( "open" );
});
</script>

function change_div()
{
$( "#dialog" ).dialog( "destroy" );
$('#main').html('<div id="main">altered main<br><button id="opener">Open Dialog</button><div    id="dialog">new</div></div>');

$( "#dialog" ).dialog({
            autoOpen: false,
            height: 500,
            width: 800,
            modal: true,
            resizable:false,
            draggable:true,
});

$( "#opener" ).click(function() {
  $( "#dialog" ).dialog( "open" );
});
}

$( "#changer" ).click(function() {
  change_div();
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T13:02:35.837

您正在复制您的脚本代码，但运行的代码是 HTML 部分（标签之间）的代码，并且它缺少 javascript 部分中的第 1 行。

你应该把你的 Javascript 部分放在这个里面：

```
$(document).ready(function () {
   //JS Code here...
}); 
```

并删除 HTML 中的部分。

检查：http: [//jsfiddle.net/fabio_silva/6Ypck/](http://jsfiddle.net/fabio_silva/6Ypck/)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-24T13:04:26.257

使用此代码它将起作用......

```
$('#main').html('<div id="main">altered main<br><button id="opener" onclick="OpenDialog();">Open Dialog</button><div id="dialog">new</div></div>');
$( "#dialog" ).dialog({
            autoOpen: false,
            height: 500,
            width: 800,
            modal: true,
            resizable:false,
            draggable:true,
});

function OpenDialog() {
    $( "#dialog" ).dialog( "open" );
} 
```

处理后会生成这个html代码

```
<div id="main">
main
<br>
<button id="opener" onclick="OpenDialog()">Open Dialog</button>
<div id="dialog">
    original
</div>
</div>
<script>
$( "#dialog" ).dialog({
            autoOpen: false,
            height: 500,
            width: 800,
            modal: true,
            resizable:false,
            draggable:true,
});

function OpenDialog() {
    $( "#dialog" ).dialog( "open" );
}
</script> 
```

# twitter-bootstrap - Bootstrap Carousel：缺少数据幻灯片符号

> ID：14501883
> 
> 赞同：0
> 
> 时间：2013-01-24T12:55:16.553
> 
> 标签：twitter-bootstrap, carousel

在为 Bootstrap 的轮播创建简单模板时，缺少“>”符号。[您可以在文档](http://twitter.github.com/bootstrap/javascript.html#carousel)中轻松发现它们。我必须在某个地方提供它们吗？如果是，如何以及在哪里？这是代码：

```
<!DOCTYPE html>
<html lang='de'>
  <head>
    <meta charset='utf-8' />
    <title>XX</title>
    <meta content='' name='keywords' />
    <meta content='' name='description'>
      <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
      <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
    </meta>
    <link href='css/bootstrap.min.css' rel='stylesheet' />
    <!-- Le fav and touch icons -->
    <link href='img/favicon.ico' rel='shortcut icon' />
    <link href='css/bootstrap.min.css' media='screen' rel='stylesheet' />
  </head>
  <body>
    <div class='container'>
      <div class='carousel slide' id='myCarousel'>
        <div class='carousel-inner'>
          <div class='active item'>
            <a href='#'>
              <img src='img/slide-01.jpg' />
            </a>
            <div class='carousel-caption'>
              <p class='lead'>
                XX
              </p>
              <a class='btn btn-large btn-primary' href='#'>
                XX
              </a>
            </div>
          </div>
          <div class='item'>
            <a href='#'>
              <img src='img/slide-02.jpg' />
            </a>
            <div class='carousel-caption'>
              <p class='lead'>
                XX
              </p>
              <a class='btn btn-large btn-primary' href='#'>
                XX
              </a>
            </div>
          </div>
        </div>
        <a class='carousel-control left' data-slide='prev' href='#myCarousel'></a>
        <a class='carousel-control right' data-slide='next' href='#myCarousel'></a>
      </div>
    </div>
  </body>
  <script src='http://code.jquery.com/jquery-latest.js'></script>
  <script src='js/bootstrap.min.js'></script>
  <script type='text/javascript'>
    //<![CDATA[
      !function ($) {
        $(function(){
          var $window = $(window)
          $('#myCarousel').carousel('')
        })
      }(window.jQuery)
    //]]>
  </script>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T13:41:36.563

这是一个可以帮助您入门的工作轮播：http: [//jsfiddle.net/panchroma/VuSqQ/](http://jsfiddle.net/panchroma/VuSqQ/)

请注意，滑动控件正在指定箭头的字符

```
<a class="carousel-control left" href="#myCarousel" data-slide="prev">&lsaquo;</a>
<a class="carousel-control right" href="#myCarousel" data-slide="next">&rsaquo;</a> 
```

祝你好运！

# php - Wordpress - 如何定义城市下拉值

> ID：14501886
> 
> 赞同：2
> 
> 时间：2013-01-24T12:55:17.983
> 
> 标签：php, wordpress, drop-down-menu

我正在开发一个现有的 wordpress 网站。用户有字段“用户国家”（实际上，我不知道这个字段是如何在 wordpress 中创建的，但它可以工作）。在注册表中，用户可以选择一个特定的国家。然而，现在这个国家列表被注释定义为“任何地方”。它是在代码中显式创建的：

```
<option value="Afghanistan" <?php if($current_user->user_country == 'Afghanistan') echo 'selected';?>>Afghanistan</option>
            <option value="Albania" <?php if($current_user->user_country == 'Albania') echo 'selected';?>>Albania</option>
            <option value="Algeria" <?php if($current_user->user_country == 'Algeria') echo 'selected';?>>Algeria</option>
            <option value="American Samoa" <?php if($current_user->user_country == 'American Samoa') echo 'selected';?>>American Samoa</opt 
```

等等

客户想要更改此列表（从国家到城市）。所以我需要添加其他值。我不想在代码中写下所有值。我想在 wp-admin 中创建一些包含这些值的列表。

创建预定义值列表的最佳方法是什么？这些不是帖子的自定义字段。

**编辑：** 我想将值存储在数据库中，因此管理员可以从 wp-admin 修改这些值。实际上，它是 DB 还是 XML 等其他选项并不重要。我只想在用户注册时将此列表显示为下拉列表，并希望 wp-admin 修改此列表的值。

另外，我想到了一个问题 - 在数据库中存储用户自定义字段（如国家或城市）是否是正常做法？或者也许可以在代码中明确定义它们？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T14:44:58.783

好吧，如果您希望管理员能够修改列表，那么 DB 可能是这里的最佳选择。

我会做这样的事情（在 WordPress 中）：

```
// put a default (initial) list in the database, if there isn't one there yet
if(!get_option('my_country_list')){

  // store it as a |-delimited string, because WP serializes arrays,
  // and this would be too much here
  $data = 'Albania|Algeria|Disneyland|etc';

  update_option('my_country_list', $data);
} 
```

现在，稍后您需要该列表的地方，只需从数据库中获取它：

```
$countries = get_option('my_country_list');

// turn it into an array
$countries = implode('|', $countries);

// generate the select field
$html = '';
foreach($countries as $country){

  $checked = '';

  if($current_user->user_country == $country)
    $checked = 'selected="selected"';

  $html .= sprintf('<option value="%1$s" %2$s> %1$s </option>', $country, $checked);
}

printf('<select> %s </select>', $html); 
```

我想您还会有一些选项管理表单，管理员可以在其中修改此列表中的条目。这可能是一个文本区域。当它再次提交给你`update_option()`时（用 替换新行`|`）

# c# - Render Canvas with Background to Bitmap fails to display background C#/WPF

> ID：14501890
> 
> 赞同：0
> 
> 时间：2013-01-24T12:55:28.210
> 
> 标签：c#, wpf, xaml, wpf-controls, bitmapimage

I am writing an app in C#4.0/WPF that displays a piece of machinery in an image control within a canvas. The user drags coloured text blocks on to the image to indicate an area of wear or damage (I have written code that creates and moves a new text block as a user drags it). Once the user has completed dragging the text blocks on the canvas my aim is to capture background and text blocks in a bitmap to be sent to a report. The trouble is that when I try and do this the image that is captured shows only the text blocks that have been dragged and not the background. I have created a test project with what looks like exactly the same code to me and it captures the canvas with all contents perfectly. I have not included the code that performs the text block dragging in the test project as I dont think it is relevant, however I have included it here for clarity. I have included the relevant code from both the main and test app. I have also included images produced in both the main and test apps. I am not too hot on XAML so I suspect this is where the fault lies. I have tried to post images from both test and main apps but the site will not allow as I have less than 10 rep points! I can of course do this once I have the points.I have not included all XAML for the form as it is a big form and there is a lot of code - I can do this if required though.I have researched high and low and have posted this on other forums with no luck. Hope some one can help! Many Thanks, Jeff and apologies for the long posting!

Test App XAML:

```
<Canvas Name="canvBlade1Image" Margin="33,23,719,6">
<TextBlock Height="15" Name="tblkRed" Width="18" FontSize="11" Background="Red"         Canvas.Left="200" Canvas.Top="444" HorizontalAlignment="Center" TextAlignment="Center" />
<TextBlock Background="Orange" FontSize="11" Height="15" Name="tblkOrange" TextAlignment="Center" Width="18" Canvas.Left="200" Canvas.Top="465" />
<TextBlock Background="Yellow" FontSize="11" Height="15" Name="tblkYellow" TextAlignment="Center" Width="18" Canvas.Left="200" Canvas.Top="486" />
<TextBlock Background="Lime" FontSize="11" Height="15" Name="tblkGreen" TextAlignment="Center" Width="18" Canvas.Left="200" Canvas.Top="508" />
<TextBlock Background="DodgerBlue" FontSize="11" Height="15" Name="tblkGre" TextAlignment="Center" Width="18" Canvas.Left="200" Canvas.Top="528" />
        <Canvas.Background>
              <ImageBrush ImageSource="C:\Users\jeff\documents\blankblade.png" Stretch="Fill"></ImageBrush>
        </Canvas.Background> 
```

test app C#

```
private void btnRendertoBitmap_Click(object sender, RoutedEventArgs e)
{
 Transform transform = canvBlade1Image.LayoutTransform;
 canvBlade1Image.LayoutTransform = null;
 Size size = new Size(canvBlade1Image.ActualWidth, canvBlade1Image.ActualHeight);
 canvBlade1Image.Measure(size);
 canvBlade1Image.Arrange(new Rect(size));
 RenderTargetBitmap renderBitmap = new RenderTargetBitmap((int)size.Width, (int)size.Height, 96d, 96d, PixelFormats.Pbgra32);
 renderBitmap.Render(canvBlade1Image);
 using (FileStream outStream = new FileStream(@"C:\Users\jeff\documents\blade.png.", FileMode.Create))
 {
       PngBitmapEncoder encoder = new PngBitmapEncoder();
       encoder.Frames.Add(BitmapFrame.Create(renderBitmap));
       encoder.Save(outStream);
 } 
```

}

![test app output][1]

Main app XAML

```
<Canvas Name="canvBlade1Image" Margin="33,23,719,6">
<TextBlock Height="15" Name="tblkRed" Width="18" FontSize="11" Background="Red"           Canvas.Left="200" Canvas.Top="444" HorizontalAlignment="Center" TextAlignment="Center" />
<TextBlock Background="Orange" FontSize="11" Height="15" Name="tblkOrange" TextAlignment="Center" Width="18" Canvas.Left="200" Canvas.Top="465" />
<TextBlock Background="Yellow" FontSize="11" Height="15" Name="tblkYellow" TextAlignment="Center" Width="18" Canvas.Left="200" Canvas.Top="486" />
<TextBlock Background="Lime" FontSize="11" Height="15" Name="tblkGreen" TextAlignment="Center" Width="18" Canvas.Left="200" Canvas.Top="508" />
<TextBlock Background="DodgerBlue" FontSize="11" Height="15" Name="tblkGre" TextAlignment="Center" Width="18" Canvas.Left="200" Canvas.Top="528" />
<Canvas.Background>
    <ImageBrush ImageSource="C:\Users\jeff\documents\blankblade.png" Stretch="Fill"></ImageBrush>
</Canvas.Background> 
```

Main App C#

```
public bool ExportToPNG()
{
  try
  {
  Transform transform = canvBlade1Image.LayoutTransform;
  canvBlade1Image.LayoutTransform = null;
  Size size = new Size(canvBlade1Image.ActualWidth, canvBlade1Image.ActualHeight);
  canvBlade1Image.Measure(size);
  canvBlade1Image.Arrange(new Rect(size));
  RenderTargetBitmap renderBitmap = new RenderTargetBitmap((int)size.Width, (int)size.Height, 96d, 96d, PixelFormats.Pbgra32);
  renderBitmap.Render(canvBlade1Image);
  using (FileStream outStream = new FileStream(@"C:\Users\jeff\documents\blade.png.", FileMode.Create))
  {
      PngBitmapEncoder encoder = new PngBitmapEncoder();
      encoder.Frames.Add(BitmapFrame.Create(renderBitmap));
      encoder.Save(outStream);
  }
  return true;
  }
  catch (Exception E)
  {
  MessageBox.Show("Error converting blade image" + E);
  return false;
  }
} 
```

![Main app output][2]

Code to drag textblocks

```
 private void canvBlade1Image_MouseLeftButtonDown(object sender, MouseButtonEventArgs e)
        {                 
        if(doNotAllowNewFault == true && (((System.Windows.Controls.TextBlock)(e.Source)).Text   == "")) 
        {
            return;
        }   
        if (e.Source != canvBlade1Image && e.Source.GetType() == typeof(System.Windows.Controls.TextBlock))
        {
            overlayTextBlockBackgroundBrush = ((System.Windows.Controls.TextBlock)(e.Source)).Background;
            overlayTextBlockTextAlignment = TextAlignment.Center;
            overlayTextBlockFontSize = ((System.Windows.Controls.TextBlock)(e.Source)).FontSize;
            overlayTextBlockText = ((System.Windows.Controls.TextBlock)(e.Source)).Text;
            canvBlade1Image.Children.Remove(sourceTextBlock);
            if(((System.Windows.Controls.TextBlock)(e.Source)).Text !="")
            {
                moveFault = true;
            }
            sourceElementLeft = Canvas.GetLeft((TextBlock)e.Source);
            sourceElementTop = Canvas.GetLeft((TextBlock)e.Source);
            canvBlade1Image.Children.Remove(sourceTextBlock);
            sourceTextBlock = (TextBlock)e.Source;
            mIsDown = true;
            mStartPoint = e.GetPosition(canvBlade1Image);
            e.Handled = true;
        }
    }

private void canvBlade1Image_MouseMove(object sender, MouseEventArgs e)
{
Double actualX = Math.Abs(e.GetPosition(canvBlade1Image).X);
Double startX = mStartPoint.X;
Double actualY = Math.Abs(e.GetPosition(canvBlade1Image).Y);
Double startY = mStartPoint.Y;

if (mIsDown)
{
    if (!mIsDragging)
    {
        DragStarted();
    }
}

if (mIsDragging)
{
    DragMoved();
}
e.Handled = true;
}

private void DragStarted()
{
mIsDragging = true;
sourceElementLeft = Canvas.GetLeft(sourceTextBlock);
sourceElementTop = Canvas.GetTop(sourceTextBlock);
overlayTextBlock = new TextBlock();
overlayTextBlock.Background = sourceTextBlock.Background;
overlayTextBlock.Width = sourceTextBlock.RenderSize.Width;
overlayTextBlock.Height = sourceTextBlock.RenderSize.Height;
if (moveFault == false)
{
      overlayTextBlock.Text = blade1FaultNumber.ToString();
}
else
{
      overlayTextBlock.Text =overlayTextBlockText;
}
overlayTextBlock.FontSize = overlayTextBlockFontSize;
overlayTextBlock.TextAlignment = overlayTextBlockTextAlignment;
canvBlade1Image.Children.Add(overlayTextBlock);
overlayTextBlock.Opacity = 1;
}

private void DragMoved()
{
Point currentPosition = Mouse.GetPosition(canvBlade1Image);
double elementLeft = (currentPosition.X - mStartPoint.X) + sourceElementLeft;
double elementTop = (currentPosition.Y - mStartPoint.Y) + sourceElementTop;
Canvas.SetLeft(overlayTextBlock, elementLeft);
Canvas.SetTop(overlayTextBlock, elementTop);
}

private void canvBlade1Image_MouseLeftButtonUp(object sender, MouseButtonEventArgs e)
{
if (mIsDown)
{
    DragFinished(false);
    e.Handled = true;
}
}

private void DragFinished(Boolean cancelled)
{

if (mIsDragging)
{
      if( moveFault)
      {
                canvBlade1Image.Children.Remove(sourceTextBlock);
      }
      else
      {
            Canvas.SetLeft(sourceTextBlock, Canvas.GetLeft(overlayTextBlock));
            Canvas.SetTop(sourceTextBlock, Canvas.GetTop(overlayTextBlock));
            TextBlock replacementTextBlock = new TextBlock();
            Canvas.SetLeft(replacementTextBlock, sourceElementLeft);
            Canvas.SetTop(replacementTextBlock, sourceElementTop);
            replacementTextBlock.Height = overlayTextBlock.Height;
            replacementTextBlock.Width = overlayTextBlock.Width;
            replacementTextBlock.Opacity = 1;
            replacementTextBlock.FontSize = 11;
            replacementTextBlock.Background = overlayTextBlock.Background;
            blade1FaultNumber++;
            canvBlade1Image.Children.Add(replacementTextBlock);
      }
          moveFault = false;
          overlayTextBlock = null;
          mIsDragging = false;
          mIsDown = false;
          txtFaultBriefDesciption1.IsEnabled = true;
          txtFaultdetails1.IsEnabled = true;
          cboMeters1.IsEnabled = true;

}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T17:42:38.513

您如何将其添加到您的画布并摆脱背景？：

> 画布名称="canvBlade1Image" 边距="33,23,719,6">
> 
> ...画布上的其他东西
> Image Source="C:\Users\jeff\documents\blankblade.png"/>
> 
> /帆布>

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-30T12:23:04.720

经过很多挫折，我现在已经能够解决这个问题。我无法找出为什么我的 prod 应用程序中没有使用与我成功的测试应用程序完全相同的代码来呈现背景。因此，我尝试了一种显式渲染背景的新方法。这有效，代码如下：

```
 try
          {
              RenderTargetBitmap renderBitmap = new RenderTargetBitmap(
              (int)canvBlade1Image.ActualWidth,(int)canvBlade1Image.ActualHeight,96d,
              96d, PixelFormats.Pbgra32);

              DrawingVisual drawingVisual = new DrawingVisual();
              using (DrawingContext drawingContext = drawingVisual.RenderOpen())
                  drawingContext.DrawRectangle(canvBlade1Image.Background, null, new Rect(0, 0, canvBlade1Image.ActualWidth, canvBlade1Image.ActualHeight));
              renderBitmap.Render(drawingVisual);
              renderBitmap.Render(canvBlade1Image);

              using (FileStream outStream = new FileStream(@"C:\Images\Keep\img1.png.", FileMode.Create))
              {
                  PngBitmapEncoder encoder = new PngBitmapEncoder();
                  encoder.Frames.Add(BitmapFrame.Create(renderBitmap));
                  encoder.Save(outStream);
              }
          } 
```

# sql - 使用两个外键连接表

> ID：14501893
> 
> 赞同：0
> 
> 时间：2013-01-24T12:55:36.430
> 
> 标签：sql, sql-server-2008, join

我正在寻找昨晚在使用外键连接两个表时遇到的真实场景问题。实际上我想代表外键从第二个表中获取所有值。

这是我的两张表，假设：

```
table1 (id_user_history(PK),id_user(FK), order_no, p_quantity)
table2 (id_shoping_cart(PK), id_user(FK),order_id, prod_quantity) 
```

现在我想通过将这些表与 table1(id_user(Fk)) 和 table2(id_user(FK)) 连接来从 table2 中获取所有值

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:56:53.940

看起来一个简单的连接符合要求：

```
select  *
from    table1 t1
left join
        table2 t2
on      t1.id_user = t2.id_user 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:13:28.923

```
SELECT  *
FROM    table2 t2
LEFT JOIN
        table1 t1
on      t1.id_user = t2.id_user 
```

表 2 中的所有记录，只有与表 1 匹配的记录。

SQL主要是设置逻辑。这是一个有助于可视化的链接。 [http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

# android - 如何停止异步任务？

> ID：14501895
> 
> 赞同：0
> 
> 时间：2013-01-24T12:55:43.460
> 
> 标签：android, android-asynctask

> **可能重复：**
> [如何在 android 中停止 ASyncTask 线程](https://stackoverflow.com/questions/4429043/how-to-stop-asynctask-thread-in-android)

我创建了一个应用程序，它有一个同步任务在后台做某事。在我的 OnPostExecute 函数中，我创建了一个启动活动的意图。到目前为止，该应用程序运行良好。现在我想在新活动开始时停止该异步任务。我怎样才能做到这一点？请帮忙 ......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T12:57:19.910

做这个

```
MyAsyncTask task = new MyAsyncTask();
task.cancel(true); 
```

在你的`onStop();`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:59:30.173

**OnPostExecute()**方法只会在`Completing DoInBackgroung() method`. 因此，当您要去另一个活动时，您的 asynctask 将完成。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T14:23:40.603

您的 AsyncTask 在执行 onPostExecute() 后完成，因此您不必担心

# javascript - jQuery Chosen Plugin : Capturing focus to open when tabbing

> ID：14501898
> 
> 赞同：10
> 
> 时间：2013-01-24T12:55:58.080
> 
> 标签：javascript, jquery, jquery-plugins, jquery-chosen

We're currently using the [Chosen Dropdown Plugin](http://harvesthq.github.com/chosen/) which is rather awesome, apart from one minor issue. When we're using a single dropdown, if you tab into the 'chosen' control, the actual dropdown portion is not shown. However, when applying the plugin to a multiple 'select', it does appear.

Having been through the documentation and GitHub issues, there seems to be a lot of mentions regarding tab ordering and focusing, but nothing that seemingly deals with this rather simple requirement; Display the dropdown when receiving focus when tabbing.

So assuming that this functionality is not part of the plugin, is there an alternative such as capturing the focus of the anchor tag?

```
$('.chzn-single').focus(function(e){
    alert('I should be focused!')
}); 
```

So far, I haven't been successful and was wondering whether any others have experienced this issue. You can check out this [jsfiddle](http://jsfiddle.net/gzA84/) that demonstrates the problem

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-06-03T13:19:59.420

1.  您应该跟踪所选容器内的搜索输入的焦点事件，而不是锚元素，然后为所选容器触发 mousedown 事件 - 这是它在打开下拉列表时侦听的事件

2.  您需要使用委托事件方法将事件处理程序绑定到动态添加的元素（对于 jquery 1.7.1 及更早版本，您可能只使用“live”方法）

3.  您还需要检查当前容器是否处于活动状态，以避免递归呼叫（打开选定的下拉列表时 - 搜索输入将再次聚焦）

```
$('body').on('focus', '.chzn-container-single input', function() {
    if (!$(this).closest('.chzn-container').hasClass('chzn-container-active'))
        $(this).closest('.chzn-container').trigger('mousedown');
        //或者改用这个
        //$('#select').trigger('listzt:open');  
});

```

这是工作的[jsfiddle](http://jsfiddle.net/EArg6/7/)

而不是`$(this).closest('.chzn-container').trigger('mousedown');` 你也可以触发插件的内部事件：`$('#select').trigger('liszt:open');`

# c# - WPF：“编辑”图像并保存

> ID：14501899
> 
> 赞同：2
> 
> 时间：2013-01-24T12:55:59.653
> 
> 标签：c#, wpf, xaml, image-processing, tags

我想做这样的事情：在`<image>`标签中打开一个图像并在其上添加一些其他标签，例如绿色矩形。之后，我想将其保存为在其某些部分带有矩形的图像。一般来说，用户应该拖放矩形并可以调整它的大小。但**问题是：我怎样才能保存它？**我想我应该为所有这些人保存父标签，例如，`<grid>`或者`<canvas>`但有可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:19:57.967

```
Transform transform = myCanvas.LayoutTransform; 
myCanvas.LayoutTransform = null; Size size = new Size(myCanvas.Width,myCanvas.Height); myCanvas.Measure(size);    
myCanvas.Arrange(new Rect(size)); 
RenderTargetBitmap renderBitmap = new RenderTargetBitmap((int)size.Width, (int)size.Height, 96d, 96d,PixelFormats.Pbgra32); 
renderBitmap.Render(myCanvas);

using (FileStream outStream = new FileStream(path.LocalPath, FileMode.Create))   
{ 
    PngBitmapEncoder encoder = new PngBitmapEncoder(); 
    encoder.Frames.Add(BitmapFrame.Create(renderBitmap)); 
    encoder.Save(outStream);    
} 
myCanvas.LayoutTransform = transform; 
```

有关详细说明（以及上述代码的来源），请参阅此博客文章：

[http://denisvuyka.wordpress.com/2007/12/03/wpf-diagramming-saving-you-canvas-to-image-xps-document-or-raw-xaml/](http://denisvuyka.wordpress.com/2007/12/03/wpf-diagramming-saving-you-canvas-to-image-xps-document-or-raw-xaml/)

您可以根据使用的编码器保存为 PNG、JPG 等

# c# - Using different cipher than default

> ID：14501900
> 
> 赞同：10
> 
> 时间：2013-01-24T12:55:59.587
> 
> 标签：c#

I need to connect to a server using only one cipher - "ADH-RC4-MD5". I'm looking for a generic solution which will enable me to check what cipher the server is using (I'm a provisioning server that acts as a client to many other application servers and need to connect and get data - each time it can be a different server).

The flow I had so far was:

```
TcpClient tcpClient = new TcpClient(serverName, port);
SslStream sslStream = new SslStream(tcpClient.GetStream(), false, null, null,                EncryptionPolicy.RequireEncryption);
sslStream.AuthenticateAsClient(HostName); 
```

I keep on crash in the `AuthenticateAsClient`. The reason is that one AS is working only with the mentioned cipher.

I have verified this is the case with the [SslScan tool](http://code.google.com/p/sslscan-win/).

I have tried to enter this cipher through the policy editor (gpedit.msc in the command line) but again with no luck.

Basically I'm looking for a way to use this cipher from code dynamically.

I have a working Java code:

```
sslsocket.setNeedClientAuth(true);
String[] list = new String[1];
list[0] = "ADH-RC4-MD5";
sslsocket.setEnabledCipherSuites(list); 
```

Any idea of c# equivalent ?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-16T13:49:24.427

尝试以下操作：

* * *

0)[重新检查](https://www.ssllabs.com/ssltest)支持哪些芯片

1) 检查您的服务器是否安装了以下安全更新（**您需要将其删除**） [http://support.microsoft.com/kb/2898850#AppliesToProducts](http://support.microsoft.com/kb/2898850#AppliesToProducts)

如果你使用win 8.1，它会被禁用，不确定其他人。如果您想知道 Microsoft 为何鼓励您禁用 RC4，请阅读[此](http://blogs.technet.com/b/srd/archive/2013/11/12/security-advisory-2868725-recommendation-to-disable-rc4.aspx)内容。

2）我不知道 SslStream 允许您指定允许的密码套件，但是您可以使用：

*   [安全黑盒](https://www.eldos.com/sbb/net-ssl.php)。
*   [chilkat](http://www.chilkatsoft.com/)（我维护的网站很少使用它）

[http://www.example-code.com/csharp/dh_key_exchange.asp](http://www.example-code.com/csharp/dh_key_exchange.asp)

* * *

Java“ADH-RC4-MD5”应该是

```
Supported Protocol = tls (or ssl version 3)
Cipher Algorithm Type = Rc4, 
Hash Algorithm Type = Md5 128 bit, 
Exchange Algorithm Type = DiffieHellman 
```

# wso2 - How to pass dynamic fields Query to database using WSO2ESB OR WSO2DSS

> ID：14501903
> 
> 赞同：1
> 
> 时间：2013-01-24T12:56:17.477
> 
> 标签：wso2, wso2esb, wso2dss

I want to pass my query to database for retrieving the column. I am passing dynamic columns using ESB my configuration is like this

```
 <proxy xmlns="http://ws.apache.org/ns/synapse" name="dbl3" transports="https,http" statistics="disable" trace="disable" startOnLoad="true">   <target>
         <inSequence>
            <property name="A" value="select e_name,e_address from emp where " scope="default" type="STRING"/>
            <property name="B" expression="//fieldname/text()" scope="default" type="STRING"/>
            <property name="C" expression="//fieldvalue/text()" scope="default" type="STRING"/>
            <property name="D" value="=" scope="default" type="STRING"/>
            <property name="E" expression="concat(get-property('A'),get-property('B'),get-property('D'),get-property('C'))" scope="default" type="STRING"/>
            <dblookup>
               <connection>
                  <pool>
                     <password>Youtility11</password>
                     <user>youtilitydba</user>
                     <url>jdbc:postgresql://localhost:5432/sample</url>
                     <driver>org.postgresql.Driver</driver>
                  </pool>
               </connection>
               <statement>
                  <sql>get-property('E')</sql>
                  <result name="ee" column="e_name"/>
               </statement>
            </dblookup>
            <log level="custom">
               <property name="AA" expression="get-property('A')"/>
               <property name="BB" expression="get-property('B')"/>
               <property name="CC" expression="get-property('C')"/>
               <property name="DD" expression="get-property('ee')"/>
               <property name="EE" expression="get-property('E')"/>
            </log>
         </inSequence>
         <outSequence>
                <send/>
             </outSequence>   </target>   <description></description> </proxy> 
```

My output like this:

```
EE = select e_name,e_address from emp where e_address=thane
EE = select e_name,e_address from emp where e_no=5 
```

Based on input values query will generate, how can I pass the above query to the database? My error is like this:

```
[2013-01-24 14:22:32,743] ERROR - DBLookupMediator Error executing statement : get-property('E') against DataSource : jdbc:postgresql://localhost:5432/sample
org.postgresql.util.PSQLException: ERROR: syntax error at or near "get"
 Position: 1
    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2102)
    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1835)
    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)
    at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:500)
    at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:388)
    at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:273)
    at org.apache.commons.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96)
    at org.apache.commons.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96)
    at org.apache.commons.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96)
    at org.apache.synapse.mediators.db.DBLookupMediator.processStatement(DBLookupMediator.java:46)
    at org.apache.synapse.mediators.db.AbstractDBMediator.mediate(AbstractDBMediator.java:143)
    at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:60)
    at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:114)
    at org.apache.synapse.core.axis2.ProxyServiceMessageReceiver.receive(ProxyServiceMessageReceiver.java:154)
    at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:181)
    at org.apache.axis2.transport.http.util.RESTUtil.invokeAxisEngine(RESTUtil.java:144)
    at org.apache.axis2.transport.http.util.RESTUtil.processXMLRequest(RESTUtil.java:89)
    at org.apache.synapse.transport.nhttp.util.RESTUtil.processPOSTRequest(RESTUtil.java:189)
    at org.apache.synapse.transport.nhttp.ServerWorker.processEntityEnclosingMethod(ServerWorker.java:411)
    at org.apache.synapse.transport.nhttp.ServerWorker.run(ServerWorker.java:268)
    at org.apache.axis2.transport.base.threads.NativeWorkerPool$1.run(NativeWorkerPool.java:172)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:679) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T18:08:55.590

恐怕您无法`<sql/>`使用“get-property”构造将 SQL 语句传递给 DBLookup/DBReport 中介的“”元素。此外，我相信您正在尝试做的是将变量传递给 SQL 查询的一种技巧。执行此操作的正确方法应该是使用 WSO2 数据服务服务器。请参阅 WSO2 DSS [1] 的文档，该文档为您提供了有关如何使用它来实现数据操作任务的综合指南，并为用户提供了丰富的功能集。

[1] [http://docs.wso2.org/wiki/display/DSS301/WSO2+Data+Services+Server+Documentation](http://docs.wso2.org/wiki/display/DSS301/WSO2+Data+Services+Server+Documentation)

# ios - Pan and Pinch a UIImageView within a ScrollView

> ID：14501904
> 
> 赞同：0
> 
> 时间：2013-01-24T12:56:21.927
> 
> 标签：ios, xamarin.ios

I have created a small app using a ScrollView w/ paging and a series of UIImageViews each representing a page. It acts similar to the Photos.app.

I want to be able to pan and zoom individually for each image (page of a scrollview).

What would be the most sound approach to do this? Should I replace the UIImageView page with a scrollview with a UIImage inside it? I would then have a main scroll view where each page of the scrollview had a scrollview with an image inside it that could be pinched,etc.

It seems like a messy approach. I am looking for a clean approach. Any suggestions?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T13:23:28.150

结帐[UIPageViewController](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIPageViewControllerClassReferenceClassRef/UIPageViewControllerClassReference.html)。该控制器管理每个页面的视图控制器，并使用页面卷曲或滚动等效果在它们之间进行转换。

在您的情况下，您将创建一个视图控制器来管理每个页面的缩放和平移滚动视图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:14:48.170

好吧，据我所知，您建议的方法就是它的完成方式。我用它来创建一个 PDF 查看器，一旦一切就绪，它就不会觉得太乱了。

如果您拥有的这些图像真的很大（很可能是这种情况，因为否则放大它们不会给您带来太多但像素化，但这只是我的一个假设）。

# javascript - 模拟超时网址

> ID：14501905
> 
> 赞同：10
> 
> 时间：2013-01-24T12:56:24.347
> 
> 标签：javascript, timeout

我正在尝试从网页模拟超时，以便我可以实现“处理超时”功能。

基本上我需要的是一个在 X 秒内没有回复的东西的 URL。

提前致谢

这是我的代码：

```
var req = Components.classes["@mozilla.org/xmlextras/xmlhttprequest;1"].createInstance();
req.overrideMimeType('text/plain; charset=utf-8');
req.open("GET", configurationURL, false);
req.variable = specificConfigurationURLTerminator;
setTimeout(function() {
    alert("aborting");
    req.abort();
}, this.configurationRetrievalTimeout);
req.send(null); 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-24T14:23:53.350

伙计们非常感谢您的及时回复。我找到了我正在寻找的东西：

[http://www.google.com:81/](http://www.google.com:81/)

基本上即使出现错误也不响应=）正是我需要触发超时

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:01:32.840

使用 .delay(duration) jquery 函数。持续时间将以毫秒为单位。ex- $('div').delay(1500);

# java - Java SE 6：为什么 Nimbus L&F 在 JTextField 中剪切为 4 个像素？

> ID：14501907
> 
> 赞同：3
> 
> 时间：2013-01-24T12:56:40.580
> 
> 标签：java, swing, jtextfield, nimbus

我的 JFrame 由一些 JTextFields 组成。对于 Windows 操作系统，我只使用系统外观。对于 Linux 发行版，我使用 Java SE 6 附带的 Nimbus L&F。

在 Nimbus L&F 中，JTextField 的下边框截断 4 个像素。因此，像“g”这样的字母会被剪掉，看起来像“a”。

有人知道如何摆脱文本字段中的这个白色边框吗？

这是该问题的说明：

![在此处输入图像描述](../Images/0697233ccf42ea8a14ac2297b4053632.png)

这是一个 SSCCE（示例代码）：

```
public class NimbusTextFieldIssue extends javax.swing.JFrame {

    public NimbusTextFieldIssue() {
        initComponents();
    }

    private void initComponents() {

        txtField = new javax.swing.JTextField();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        txtField.setText("The letters \"g\" and \"p\" are not shown correctly.");
        txtField.setPreferredSize(new java.awt.Dimension(234, 22));

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtField, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pack();
    }

    public static void main(String args[]) {
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {

        } catch (InstantiationException ex) {

        } catch (IllegalAccessException ex) {

        } catch (javax.swing.UnsupportedLookAndFeelException ex) {

        }

        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new NimbusTextFieldIssue().setVisible(true);
            }
        });
    }

    private javax.swing.JTextField txtField;

} 
```

提前谢谢了！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T13:02:03.637

我对 Nimbus 没有这种问题。您可能还有其他原因导致此问题。看看下面的例子。

**更新**

你永远不应该调用`setPreferredSize()`任何组件（我真的是这个意思）。它总是会导致不同外观和感觉的问题。如果要指示文本字段的宽度，请使用`JTextField.setColumns(int)`.

```
import java.awt.FlowLayout;

import javax.swing.JFrame;
import javax.swing.JTextField;
import javax.swing.SwingUtilities;
import javax.swing.UIManager;
import javax.swing.UIManager.LookAndFeelInfo;
import javax.swing.UnsupportedLookAndFeelException;

public class TestNimbusTextField {

    private void initUI() {
        JFrame frame = new JFrame(TestNimbusTextField.class.getSimpleName());
        frame.setLayout(new FlowLayout());
        JTextField textfield = new JTextField(20);
        textfield.setText("good morning. Look like I have no problems with 'g' and 'p'.");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.add(textfield);
        frame.setSize(300, 300);
        frame.setLocationRelativeTo(null);
        frame.setVisible(true);
    }

    public static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException,
            UnsupportedLookAndFeelException {
        LookAndFeelInfo[] installedLookAndFeels = UIManager.getInstalledLookAndFeels();
        for (LookAndFeelInfo lafInfo : installedLookAndFeels) {
            if (lafInfo.getName().equals("Nimbus")) {
                UIManager.setLookAndFeel(lafInfo.getClassName());
                break;
            }
        }
        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                new TestNimbusTextField().initUI();
            }
        });
    }

} 
```

# iphone - how to set backGround in Uibutton from the gallery in iphone

> ID：14501910
> 
> 赞同：1
> 
> 时间：2013-01-24T12:56:54.823
> 
> 标签：iphone, ios

I'm creating button dynamically in iPhone but I want to set the background from the gallery in iPhone. Now I want to know how to get the image form the gallery in iPhone.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T13:10:44.170

```
-(IBAction)btnSelectPhotoClick:(id)sender{
if ([UIImagePickerController isSourceTypeAvailable: UIImagePickerControllerSourceTypePhotoLibrary]) { 
    UIImagePickerController *picker = [[UIImagePickerController alloc] init]; 
    picker.delegate = self; 
    picker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary; 
    [self presentModalViewController:picker animated:YES];
    [picker release];       
}   
else {
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert" message:@"Photo Library Does Not Exist"
                                                   delegate:self cancelButtonTitle:@"OK" otherButtonTitles: nil];
    [alert show];    
    [alert release];
}
}
 - (void)imagePickerController:(UIImagePickerController *)picker 
    didFinishPickingImage:(UIImage *)image 
              editingInfo:(NSDictionary *)editingInfo { 
// set it in image view
imageview.image = image;

// If it's from camera, save it!
if (picker.sourceType == UIImagePickerControllerSourceTypeCamera){
    UIImageWriteToSavedPhotosAlbum(image,nil,nil,nil);
}

  [picker dismissModalViewControllerAnimated:YES]; 
  } 

  // Catch when it's canceled
  - (void)imagePickerControllerDidCancel:(UIImagePickerController *)picker {     
  [picker dismissModalViewControllerAnimated:YES]; 
   } 
```

希望这对您有帮助，如果您有任何疑问，请告诉我。谢谢

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T13:04:41.030

如果您给用户选择图像的机会，那么 UIImagePickerController 将很有用。有关更多信息，请使用此 URL [http://blog.hanpo.tw/2012/01/uiimagepickercontroller-and-simple.html](http://blog.hanpo.tw/2012/01/uiimagepickercontroller-and-simple.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T13:05:33.653

您可以像这样从图库中获取图像

```
- (void)choosePhotos{
   UIImagePickerController *picker = [[UIImagePickerController alloc] init];
   picker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;
   picker.delegate = self;
   [self presentModalViewController:picker animated:YES];
   [picker release];
}

- (void)imagePickerController:(UIImagePickerController *)picker
    didFinishPickingImage:(UIImage *)image
              editingInfo:(NSDictionary *)editingInfo
{
   YourImageView.image = image;
   [[picker parentViewController] dismissModalViewControllerAnimated:YES];
} 
```

欲了解更多信息--- [http://developer.apple.com/library/ios/#documentation/uikit/reference/UIImagePickerController_Class/UIImagePickerController/UIImagePickerController.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIImagePickerController_Class/UIImagePickerController/UIImagePickerController.html)

# iphone - 删除实际的 navigationController 并推送到另一个

> ID：14501913
> 
> 赞同：1
> 
> 时间：2013-01-24T12:57:01.330
> 
> 标签：iphone, ios, uiviewcontroller

我有 2 个视图控制器 A 和 B。

我想从控制器 A 推送到控制器 B，它工作得很好。

现在在控制器 B 中，我有一个“加号”按钮，它把我推到另一个 B 控制器（同一个 ViewController）。现在，当我在 secontr B viewController 中按下后退按钮时，我应该弹出到 A viewController。所以我想知道当我推送另一个视图控制器时如何删除视图控制器？

情况如下所示：

A（推 B）-> B（推 B）-> B（推 B）-> B（弹出 B）-> A

感谢帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T13:11:16.283

试试这个，

```
id tempViewCont=nil;
for(id viewCont in [self.navigationController viewControllers])
{
   if([viewCont isKindOfClass:[A class]])
   {
      tempViewCont=viewCont;
      break;
   }
}

if(tempViewCont)
{
  [self.navigationController popToViewController:tempViewCont animated:yes]; 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T13:01:23.790

解决方案将`popToRootViewController:` 在 B3 控制器上完成后调用此方法

所以它将是： **A (pushViewController B1) -> B1 (pushViewController B2) -> B2 (pushViewController B3) -> B3 (popToRootViewController:) -> A**

这对你有帮助吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T13:02:49.153

你试一试

```
 [self.navigationController popToRootViewControllerAnimated:YES]; 
```

或者

```
 [self.navigationController popToViewController:A viewcontroller animated:yes]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T13:34:03.323

如果您只推送一次视图控制器 A，您可以尝试以下操作：

```
NSArray *tempArray = [self.navigationController viewControllers];
for (id viewController in tempArray) {
    if ([viewController isKindOfClass:A]) {
        [self.navigationController popToViewController:viewController animated:yes];
        break;
    }
} 
```

希望这可以帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-24T15:03:07.727

虽然所有其他答案都很好，但在我看来，问题是你是否应该从`B`它自己的另一个副本推送。对我来说，这是由你是否想从一个跳到`B`上一个的问题来回答的`B`。如果是这样，那很好，当您想返回时使用其中一个`popToRootViewControllerAnimated`或答案。`popToViewController``A`

如果没有，你根本不应该从`B`它自己的另一个副本推送。但是，如果您想向用户展示“让我们再做一次”按钮，您可以做什么，您可以使用`transitionWithView`. 例如，如果我们假设您有一堆`UITextField`控件，`B`并且您有一个“添加另一个”按钮，它可能会执行以下操作：

```
- (IBAction)onPressAddButton:(id)sender
{
    // save the record here

    // now, let's animate the resetting of the text fields

    [UIView transitionWithView:self.view
                      duration:0.5
                       options:UIViewAnimationOptionTransitionCurlUp
                    animations:^{
                        self.textField1.text = nil;
                        self.textField2.text = nil;
                        self.textField3.text = nil;
                    }
                    completion:nil];
} 
```

而且，顺便说一句，如果你这样做，你现在不需要做任何花哨的事情就可以从 B 回到 A。标准导航栏可以满足我们的一切需要。

# c++ - Windows 8 上的 Directx SDK

> ID：14501916
> 
> 赞同：5
> 
> 时间：2013-01-24T12:57:10.600
> 
> 标签：c++, visual-studio-2010, directx

这是我在这里的第一篇文章，请为我的英语很差向我道歉。

当前状态：我有一个非常先进的项目，直到现在我使用 2010 年 6 月的 DirectX SDK，以及其他几个库（Assimp、FreeImage、Bullet 等......）。

我的开发环境是Win7，用VS2010专业版（win sdk 7.1A）。

我的问题是，我必须重写我的 DirectX 代码（使用 win sdk 8）来支持 Windows 8 吗？

我在网上搜索过，唯一找到的帖子是 Chuck Walbourn 的博客“http://blogs.msdn.com/b/chuckw/archive/2012/03/22/where-is-the-directx -sdk.aspx”。

提前谢谢你 Behnam Karaj（来自斯图加特 - 古老的德国）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T16:14:42.373

不，您可以使用 DirectX SDK 和 Windows SDK 7.1A。它可以在 Windows 8 中运行。但您将无法使用它的新功能，也无法制作 Windows 应用商店应用程序。

此外，如果您想迁移到 Windows 8 SDK，您不需要对代码进行太多更改，只需一个标头和一些函数名称和参数。

如果你想制作 Windows 应用商店应用程序，你需要迁移到 Windows 8 SDK 并削减一些东西，例如 D3DCompiler.h、效果框架等。

# android - What kind of Service do I need? Custom IntentService?

> ID：14501917
> 
> 赞同：2
> 
> 时间：2013-01-24T12:57:11.603
> 
> 标签：android, service, alarmmanager, runnable, intentservice

I'm designing my first Android app.

This app consist in several Runnable that do some stuff. Initially I made this Runnable to be execute by a Thread (a Thread for each Runnable). Each Runnable is also Observable, so it can notify changes to Activity. User click on a start button, one or more Runnable starts, them do their job notifying gui during execution and then stops. All works fine.

**First question**: Is that approach the right one? In order to answer this question please keep reading.

I need two other things in my app:

1.  to be sure that execution of my jobs doesn't stops, even if user goes away from my app to do something else;
2.  to plan the execution of my Runnable that has to start and execute in background. Example: user decides that wants a "job" to be execute everyday at 16:00.

I've seen that I can do that with an AlarmManager and Service.

**Second question**: I need a Service that can manage several Runnable asynchronously, so when AlarmManager starts I ask this Service to do the requested job; I'll also modify the first part of application: instead of Thread I'll use this Service, so I can be sure that execution doesn't stop. What kind of Service I need? IntentService can do this job? It's right to proceed in this way? There is a better solution?

Can you give me some example of how I can implement all that?

I hope that I explained clearly my situation, otherwise I'll try to do it better.

Regards

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T03:59:38.643

> 第一个问题：这种方法正确吗？

不，您应该实现并运行您`Runnable`的 s in `Thread`s in a `Service`。

`IntentService`如果您不需要`Service`同时处理多个请求，那么An将是您的最佳选择。如果您启动 a`Service`它会继续在后台运行，即使`Activity`启动它会进入后台或停止。

一个`Runnable`s 可以发送一个广播，指示需要更新 UI。`Activity`应该注册一个来`BroadcastReceiver`收听广播消息并相应地更新 UI。

您可以使用 an`AlarmManager`来安排您所指示的作业的执行。一种方法是安排`AlarmManager`发送广播以由您接收，该广播`IntentService` 通过运行适当的作业对其进行操作。

这是一个结合所有这些的示例：

这里是`IntentService`

```
public class MyIntentService extends IntentService {
    public static final String ACTION_START_JOB = "com.mycompany.myapplication.START_JOB";
    public static final String ACTION_UPDATE_UI = "com.mycompany.myapplication.UPDATE_UI";

    private final IBinder mBinder = new MyBinder();

    // You can have as many Runnables as you want.
    Runnable run = new Runnable() {
        @Override
        public void run() {
            // Code to run in this Runnable.
            // If the code needs to notify an Activity
            // for a UI update, it will send a broadcast.
            Intent intent = new Intent(ACTION_UPDATE_UI);
            sendBroadcast(intent);
        }
    };

    public MyIntentService() {
        super("MyIntentService");
    }

    @Override
    public void onCreate() {
        // You need to register your BroadcastReceiver to listen
        // to broadcasts made by the AlarmManager.
        // The BroadcastReceiver will fire up your jobs when these
        // broadcasts are received.
        IntentFilter filter = new IntentFilter(ACTION_START_JOB);
        registerReceiver(jobBroadcastReceiver, filter);
    }

    @Override
    public void onDestroy() {
        // You should unregister the BroadcastReceiver when
        // the Service is destroyed because it's not needed
        // any more.
        unregisterReceiver(jobBroadcastReceiver);
    }

    /**
     * This method is called every time you start this service from your
     * Activity. You can Spawn as many threads with Runnables as you want here.
     * Keep in mind that your system have limited resources though.
     */
    @Override
    protected void onHandleIntent(Intent intent) {
        Intent intentFireUp = new Intent();
        intentFireUp.setAction(ACTION_START_JOB);
        PendingIntent pendingIntentFireUpRecording = PendingIntent
                .getBroadcast(MyIntentService.this, 0, intentFireUp, 0);

        AlarmManager alarm = (AlarmManager) getSystemService(Context.ALARM_SERVICE);

        Calendar cal = Calendar.getInstance();

        int year = 2013, month = 5, day = 10, hourOfDay = 7, minute = 13, second = 0;

        cal.set(year, month, day, hourOfDay, minute, second);
        long startTime = cal.getTimeInMillis() + 5 * 60 * 1000; // starts 5
                                                                // minutes from
                                                                // now
        long intervalMillis = 24 * 60 * 60 * 1000; // Repeat interval is 24
                                                    // hours (in milliseconds)

        // This alarm will send a broadcast with the ACTION_START_JOB action
        // daily
        // starting at the given date above.
        alarm.setRepeating(AlarmManager.RTC_WAKEUP, startTime, intervalMillis,
                pendingIntentFireUpRecording);

        // Here we spawn one Thread with a Runnable.
        // You can spawn as many threads as you want.
        // Don't overload your system though.
        new Thread(run).run();
    }

    @Override
    public IBinder onBind(Intent intent) {
        return mBinder;
    }

    // Depending on your implementation, you may need to bind
    // to this Service to run one of its methods or access
    // some of its fields. In that case, you will need a Binder
    // like this one.
    public class MyBinder extends Binder {
        MyIntentService getService() {
            return MyIntentService.this;
        }
    }

    // Spawns a Thread with Runnable run when a broadcast message is received.
    // You may need different BroadcastReceivers that fire up different jobs.
    BroadcastReceiver jobBroadcastReceiver = new BroadcastReceiver() {
        @Override
        public void onReceive(Context context, Intent intent) {
            new Thread(run).run();
        }
    };

} 
```

这是`Activity`

```
public class MyActivity extends Activity {
    Service mService;
    boolean mBound = false;
    ToggleButton mButton;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        mButton = (ToggleButton) findViewById(R.id.recordStartStop);

        mButton.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {
                if (mButton.isChecked()) {
                    Intent intent = new Intent(MyActivity.this,
                            MyIntentService.class);
                    startService(intent);
                }
            }
        });
    }

    @Override
    protected void onStart() {
        super.onStart();
    }

    @Override
    protected void onResume() {
        super.onResume();
        IntentFilter filter = new IntentFilter(MyIntentService.ACTION_UPDATE_UI);
        registerReceiver(uiUpdateBroadcastReceiver, filter);
    }

    @Override
    protected void onPause() {
        super.onPause();
        unregisterReceiver(uiUpdateBroadcastReceiver);
    }

    BroadcastReceiver uiUpdateBroadcastReceiver = new BroadcastReceiver() {
        @Override
        public void onReceive(Context context, Intent intent) {
            // Here goes the code to update your User Interface
        }
    };

    ServiceConnection myServiceConnection = new ServiceConnection() {
        @Override
        public void onServiceDisconnected(ComponentName name) {
            mService = null;
            mBound = false;
        }

        // If you need
        @Override
        public void onServiceConnected(ComponentName name, IBinder service) {
            MyIntentService mService = ((MyBinder) service).getService();
            mBound = true;
        }
    };
} 
```

并且不要忘记`Service`在文件中添加定义`AndroidManifest.xml`：

```
<manifest ... >
  ...
  <application ... >
      <service android:name=".MyIntentService" />
      ...
  </application>
</manifest> 
```

# java - Several string inputs for one variable

> ID：14501920
> 
> 赞同：6
> 
> 时间：2013-01-24T12:57:27.990
> 
> 标签：java, string, if-statement, input

Is there any other way to shorten this condition?

```
if (oper.equals("add") || oper.equals("Add") || oper.equals("addition") ||
oper.equals("Addition") || oper.equals("+")) 
```

I was just wondering if there's something I can do to 'shortcut' this. The user will type a string when prompted what kind of operation is to be performed in my simple calculator program. Our professor said our program should accept whether the user enters "add", or "Add", you know, in lowercase letters or not... Or is the only way I should do it?

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-24T12:58:58.723

您可以使用[`String#equalsIgnoreCase(String)`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equalsIgnoreCase%28java.lang.String%29)第一个四个字符串：-

```
if (oper.equalsIgnoreCase("add") || 
    oper.equalsIgnoreCase("addition") || 
    oper.equals("+")) 
```

如果字符串数量增加，最好使用 a `List`，并使用它的`contains`方法。但仅针对这些输入，您只能采用这种方法。

* * *

解决此问题的另一种方法是使用[`String#matches(String)`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#matches%28java.lang.String%29)方法，它采用正则表达式：-

```
if (oper.matches("add|addition|[+]") 
```

但是，您实际上并不需要正则表达式。特别是，对于更大的输入，这种方法会变得很难看。但是，这只是这种情况的一种方式。因此，您可以选择其中任何一个。第一个在第一次观看时更清晰。

* * *

或者，您也可以使用[`enum`](http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html)to 存储`operators`，并将其实例传递到任何地方，而不是`string`. 使用起来会更容易。枚举看起来像这样：

```
public enum Operator {
    ADD,
    SUB,
    MUL,
    DIV;
} 
```

您可以根据自己的需要对其进行增强。请注意，由于您正在获取用户输入，因此您首先需要根据它识别适当的枚举实例，然后您可以处理该枚举实例，而不是字符串。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-24T13:04:57.917

除了@Rohit 的回答，我想补充一下。

在比较字符串的情况下，如果可以抛出`oper is null`a 。`NullPointerException`所以写起来总是更好

```
"addition".equalsIgnoreCase(oper) 
```

代替

```
oper.equalsIgnoreCase("addition") 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-24T13:03:30.500

如果`aDD`被认为是无效输入，则可以考虑以下方法：

```
ArrayList<String> possibleInputs = new ArrayList<String>();

possibleInputs.add("Add");
possibleInputs.add("add");
possibleInputs.add("Addition");
possibleInputs.add("addition");
possibleInputs.add("+");

if(possibleInputs.contains(oper))
{
    // ...
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T13:19:59.643

您可以获取输入，并将其转换为小写，然后进行比较。

```
str.toLowerCase() 
```

然后传递给你的 if() 语句

```
if(str.equals("add") || str.equals("addition") || str.equals("+")) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-24T13:03:18.483

将整段代码扔到一个名为: 的函数中，该函数`isOperationAddition(String s){...}`返回一个布尔值。

所以这：

```
if (oper.equals("add") || oper.equals("Add") || oper.equals("addition") ||
    oper.equals("Addition") || oper.equals("+")){...} 
```

对此的更改

```
if (isOperationAddition(operation)){...} 
```

然后在该方法中，不要将字符串用作 if 语句的分支材料。有一个变量来定义它是哪种操作，并“让野蛮人（困惑/模棱两可的用户）远离护城河”。您不应该总是对列表进行迭代以记住我们正在处理的操作。

# jsf - primefaces Datatable / sorting / wrong item

> ID：14501921
> 
> 赞同：3
> 
> 时间：2013-01-24T12:57:32.797
> 
> 标签：jsf, sorting, primefaces, datatable

I have a simple Databean like this:

```
@Model
Class DataBean{
    private List<Elements> elements;

    @PostConstruct
    private void loadElements(){
        //fetch data from database.
    }
} 
```

im using Primefaces datatable to display the data, like this:

```
<h:form>
<p:dataTable 
      value="#{dataBean.elements}"
      var="element" >

      <p:column sortBy="#{element.id}"
           sortFunction="#{sortingHelper.sortNumericCallback}">
           <f:facet name="header">ID</f:facet>
           <p:commandLink action="#{pageController.navigateToDetailView(element)}"
                 value="#{element.id}">
           </p:commandLink>
      </p:column>
 </p:datatable>
 </h:form> 
```

`pageController.navigateToDetailView(element)` simple sets the selected element on the next page's databean, so the detailView has its data prepared, and then returns the detail-Navigation-Outcome.

Now: The Problem: If i click on one of the commandLinks without any sorting, all is fine. If i sort by id and click on the details-link, the following is happening:

*   Request Started
*   Databean loaded (postconstruct) (sorting gone)

Now - in the second request - the page is rebuild again (in order to fire the navigateToDetailView-Action) And the datatable "knows", that i clicked on row 5\. But without sorting it again, row 5 is now a different entry, since the bean gets reconstructed.

Console Output for different Points.

First I click on the page showing the Datatable. the "."'s are one comparision of my custom sort function, just to indicate the collection is sorted.

```
13:47:56,046 INFO  [stdout] (http--0.0.0.0-8090-1) -- Started Request --
13:47:56,047 INFO  [stdout] (http--0.0.0.0-8090-1) ---- Started RESTORE_VIEW 1 ----
13:47:56,048 INFO  [stdout] (http--0.0.0.0-8090-1) ---- Started RENDER_RESPONSE 6 ----
13:47:56,087 INFO  [stdout] (http--0.0.0.0-8090-1) PostConstruct DataBean
13:47:56,566 INFO  [stdout] (http--0.0.0.0-8090-1) -- Finished Request -- 
```

That's fine. Now im sorting by clicking the id header

```
13:48:15,008 INFO  [stdout] (http--0.0.0.0-8090-2) -- Started Request --
13:48:15,009 INFO  [stdout] (http--0.0.0.0-8090-2) ---- Started RESTORE_VIEW 1 ----
13:48:15,051 INFO  [stdout] (http--0.0.0.0-8090-2) ---- Started APPLY_REQUEST_VALUES 2 ----
13:48:15,052 INFO  [stdout] (http--0.0.0.0-8090-2) PostConstruct DataBean
13:48:15,124 INFO  [stdout] (http--0.0.0.0-8090-2) ..............................................................
13:48:15,124 INFO  [stdout] (http--0.0.0.0-8090-2) ---- Started PROCESS_VALIDATIONS 3 ----
13:48:15,126 INFO  [stdout] (http--0.0.0.0-8090-2) ---- Started UPDATE_MODEL_VALUES 4 ----
13:48:15,127 INFO  [stdout] (http--0.0.0.0-8090-2) ---- Started INVOKE_APPLICATION 5 ----
13:48:15,127 INFO  [stdout] (http--0.0.0.0-8090-2) ---- Started RENDER_RESPONSE 6 ----
13:48:15,387 INFO  [stdout] (http--0.0.0.0-8090-2) -- Finished Request -- 
```

That's fine, too. The Table is now sorted as it should be. Now i'm clicking on the 10th row to pick the item with the id 53;

```
13:48:28,295 INFO  [stdout] (http--0.0.0.0-8090-4) -- Started Request --
13:48:28,296 INFO  [stdout] (http--0.0.0.0-8090-4) ---- Started RESTORE_VIEW 1 ----
13:48:28,361 INFO  [stdout] (http--0.0.0.0-8090-4) ---- Started APPLY_REQUEST_VALUES 2 ----
13:48:28,363 INFO  [stdout] (http--0.0.0.0-8090-4) PostConstruct DataBean
13:48:28,487 INFO  [stdout] (http--0.0.0.0-8090-4) ---- Started PROCESS_VALIDATIONS 3 ----
13:48:28,501 INFO  [stdout] (http--0.0.0.0-8090-4) ---- Started UPDATE_MODEL_VALUES 4 ----
13:48:28,514 INFO  [stdout] (http--0.0.0.0-8090-4) ---- Started INVOKE_APPLICATION 5 ----
13:48:28,514 INFO  [stdout] (http--0.0.0.0-8090-4) navigateToDetail() called 
13:48:28,516 INFO  [stdout] (http--0.0.0.0-8090-4) Constructing ElementEditDataBean
13:48:28,517 INFO  [stdout] (http--0.0.0.0-8090-4) Setting ActiveElement to 42
13:48:28,518 INFO  [stdout] (http--0.0.0.0-8090-4) ---- Started RENDER_RESPONSE 6 ----
13:48:28,748 INFO  [stdout] (http--0.0.0.0-8090-4) -- Finished Request -- 
```

Note, that AFTER `PostConstruct DataBean` no sorting is done. (I assume since i use a form in the table, the datatable is not aware, that the sorting might have changed.)

As a result, element with id 42 is passed. (Element 42 is in the 10th position for an unsorted case)

As a result, navigateToDetailView(element) is now fired with another elementthan expected...

The Problem is ofc. that the sorted collection gets reset by the postconstruct method. I also know, that it can be solved with Conversation scope.

But I wonder if there isnt a stateless way of doing this? (I don't want to launch conversations for every sorting / page2page navigation)

Any Ideas?

Edit 1: SortingHelper is a own class, just looking like this:

```
 @Named
 public class SortingHelper {

/**
 * Sorts two integers correctly.
 * @param o1 integer 1
 * @param o2 integer 2
 * @return negative value if o1 is less, 0 if equal, or positive value if greater
 */
public int sortNumericCallback(Object o1, Object o2) {
    System.out.print(".");
    int i1 = Integer.parseInt((String) o1);
    int i2 = Integer.parseInt((String) o2);
    return (i1 == i2) ? 0 : (i1 > i2) ? 1 : -1;
}
 } 
```

(Primefaces Datatable fails on sorting integers, or lets say it sorts numbers lexicographic: 11 < 5 etc.)

But even if i do not mind about the sorting and using NO custom sort function the outcome is the same.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T15:49:03.593

在评论中，我现在修改了 Databean 以在加载后开始对话。

```
@ConversationScoped
Class DataBean{
    private List<Elements> elements;

    @Inject
    private Conversation conversation;

    @PostConstruct
    private void loadElements(){
        if (this.conversation.isTransient()) 
             this.conversation.begin();

        //fetch data from database.
    }
} 
```

在我的 pageController 的导航功能中，我再次停止了该对话：

```
public String navigateToDetailView(Element element) {
    //pass element to next databean.
    conversation.end();
    //...
    return "detailView";
} 
```

然而，这导致了问题，即使用浏览器导航会导致无效对话（它们已结束）。

为了解决这个问题，我创建了一个自定义过滤器，它基本上禁用了浏览器的缓存，因此它们刷新页面`history.back()`并因此具有全新的有效对话 ID。

过滤器如下所示：

```
public class NoCacheFilter implements Filter {

    @Override
    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {
        HttpServletResponse hsr = (HttpServletResponse) res;
        hsr.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); // HTTP 1.1.
        hsr.setHeader("Pragma", "no-cache"); // HTTP 1.0.
        hsr.setDateHeader("Expires", 0); // Proxies.
        chain.doFilter(req, res);
    }

    @Override
    public void destroy() {
        // TODO Auto-generated method stub  
    }

    @Override
    public void init(FilterConfig filterConfig) throws ServletException {
        // TODO Auto-generated method stub
    }
} 
```

在 web.xml 中使用这部分：

```
<filter>
        <filter-name>noCacheFilter</filter-name>
        <filter-class>com.example.NoCacheFilter</filter-class>
    </filter>

    <filter-mapping>
        <filter-name>noCacheFilter</filter-name>
        <url-pattern>*.xhtml</url-pattern>
    </filter-mapping> 
```

现在我只需要弄清楚，如果用户选择不从侧面导航，而不是调用 showDetail()-Action，如何结束对话。

# c# - Linq To Entities，在左连接之前在表上使用 where 子句

> ID：14501925
> 
> 赞同：2
> 
> 时间：2013-01-24T12:57:42.190
> 
> 标签：c#, linq, entity-framework, linq-to-entities

我试图在加入 Linq to Entities 之前过滤我的数据集，但我找不到这样做的方法。我当前的 linq 查询是使左连接是：

```
from m in Products
          join f in FileFolders on m.ProductCode equals f.Name into list1
          from l1 in list1.DefaultIfEmpty()
          join p in Files on l1.FileFolderID equals p.FileFolderID into list2
          // I want something like p.Name == "Test" here
          from l2 in list2.DefaultIfEmpty()                                                     
          join b in BaseReferenceFile on l2.BaseReferenceFileID equals b.BaseReferenceFileID into list3
          from l3 in list3.DefaultIfEmpty()
          select new
          {
              //select some stuff here                           
          }; 
```

我想过滤文件集合，以便只有名称为“Test”的文件与 l1 连接。

我试过用 l2 过滤，`l2.Name == "Test"`但它不起作用。它生成一个带有内连接和左连接的奇怪查询。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T13:05:10.910

```
join p in Files.Where(m => m.Name == "Test") on l1.FileFolderID equals p.FileFolderID into list2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-25T05:44:58.613

我认为这会起作用，但这每次都会查询（对于每条记录）：

```
 join p in (from f in Files where f.Name == "Test") on l1.FileFolderID equals p.FileFolderID into list2 
```

***最好在 select 之前*使用where 。**

```
 ...from l3 in list3.DefaultIfEmpty()
          where (l1 !=null ? l1.Name == "Test" : true)
          select new
          {
              //select some stuff here                           
          }; 
```

# c# - 更改布局文件 mvc4 中的类

> ID：14501926
> 
> 赞同：3
> 
> 时间：2013-01-24T12:57:42.353
> 
> 标签：c#, asp.net-mvc-3, asp.net-mvc-4

我有一个由标准页眉和页脚以及`RenderBody()`函数组成的布局页面。我的页眉包含一个导航，顶部带有大按钮作为系统中的模块

```
Customer    Quote    Jobs     etc 
```

我的问题是我希望能够根据已单击的按钮在加载时为这些按钮提供一类活动。我是否需要在 javascript 中执行此操作，或者无论如何我可以将模型数据或一些变量传递给布局文件来设置它？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T13:03:57.057

我使用以下函数来实现这一点：

```
public static string MarkActive<TModel>(this HtmlHelper<TModel> html,string url)
{
    if (html.ViewContext.HttpContext.Request.Url.LocalPath
        .ToLower().StartsWith(url.ToLower().Trim()))
        return "active";
    else
        return null;
} 
```

`HtmlExtensions.cs`这是我保存在文件中的扩展方法。我这样使用它：

```
<ul>
    <li class="@Html.MarkActive("/home")"><a href="/home">Home</a></li>
    <li class="@Html.MarkActive("/microsite"><a href="/microsite">View Microsite</a></li>
    <li class="@Html.MarkActive("/settings")"><a href="/settings/">Settings</a></li>
    <li><a href="/account/logout">Log out</a></li>
</ul> 
```

可能有更好的解决方案，但这对我有用。简而言之，你应该检查`HttpContext`你的页面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:51:15.093

我使用以下方法突出显示选定的菜单项：

```
 <ul class="menu">
        @{Dictionary<string, string> menuList = new Dictionary<string, string>() { 
                { "Customer", "Customer" },
                { "Quote", "Quote" },
                { "Jobs", "Jobs" },
                { "etc", "etc" },
            };
        }
        @foreach (var item in menuList )
        { 
            <li @(Request.ServerVariables["SCRIPT_NAME"].Contains(item.Key) ? " class=active" : string.Empty)>
                <a href="/Home/@item.Key">@item.Value</a></li>
        }
    </ul> 
```

其中 item.Key 用于操作名称，item.Value 用于菜单中的相应名称。

# c# - How to select data from listbox into datagrid

> ID：14501927
> 
> 赞同：1
> 
> 时间：2013-01-24T12:57:46.213
> 
> 标签：c#

Hi I want to select country from `ListBox` and display this country data into data grid from database. What I'm doing wrong?

```
OpenResult();

        var selectedColumns = from SqlCeUpdatableRecord stulpelis in sqlResultSet
                              where  stulpelis["Ship Country"] = listBox1.SelectedItem 
                              select new
                              {
                                  ShipName = stulpelis["Ship Name"],
                                  ShipPostalCode = stulpelis["Ship Postal Code"],
                                  ShipCountry = stulpelis["Ship Country"]
                              };
        dataGrid1.DataSource = selectedColumns.ToList();
        dataGrid1.Update(); 
```

# javascript - 如何使用 svg:defs 在 d3.js 中创建具有相同高度的矩形？

> ID：14501931
> 
> 赞同：2
> 
> 时间：2013-01-24T12:58:12.440
> 
> 标签：javascript, svg, d3.js

我正在开发一个 d3.js 项目，在该项目中我将多个矩形显示为相同的高度。矩形连接到`input[type=number]`调整每组矩形高度的a。为了使动画更容易（所以我只需要操作`svg:defs`数字输入的 onchange），我希望能够使用如下`svg:def`标签指定一组矩形的高度：

```
var svg = d3.select("body").append("svg")
    .attr("width", 960)
    .attr("height", 500);
svg.append("defs").selectAll(".rectdef")
  .data(data).enter()
  .append("rect")
  .attr("class", "rectdef")
  .attr("id", function (d, i){return "rect" + d.name;})
  .attr("x", 0)      // overridden below
  .attr("width", 0)  // overridden below
  .attr("y", 0)      // overridden below
  .attr("height", function (d, i){return d.height}); 
```

然后能够通过以下方式优化矩形的位置 x、y 和宽度：

```
svg.selectAll(".bar")
  .data(data).enter()
  .append("use")
  .attr("class", "bar")
  .attr("xlink:href",function (d){return "#rect"+d.type;})
  .attr("x", function(d) { return d.x })
  .attr("width", function (d) {return d.w;})  // this does NOT adjust width!
  .attr("y", function (d) {return 0;}); 
```

此代码段正确更改了 x 和 y 坐标，但没有正确更改宽度！有什么想法吗？这是浏览器问题吗（我使用的是 Chrome 24.0.1312.52）？在 svg:use 标签上，宽度是否不可编辑？

数据没有任何问题（我已经检查过了），并且我已经能够确认动画确实可以正常工作。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-24T14:39:20.133

如果根据[SVG 规范](http://www.w3.org/TR/SVG/struct.html#UseElement)`<use>`将元素指向`<rect>`的宽度/高度将被忽略`<use>`

我建议您将其`<rect>`放入 a`<symbol>`中，然后让 use 引用该符号。这样，使用的宽度/高度将适用于矩形。您可能希望在符号内使矩形的宽度/高度为 100%。

换句话说，这样的事情应该有效：

```
svg.append("defs").selectAll(".rectdef")
  .data(data).enter()
  .append("symbol")
  .attr("class", "rectdef")
  .attr("id", function (d, i){return "rect" + d.name;})
  .append("rect")
  .attr("x", 0)           // overridden below
  .attr("width", "100%")  // overridden below
  .attr("y", 0)           // overridden below
  .attr("height", function (d, i){return d.height});

svg.selectAll(".bar")
  .data(data).enter()
  .append("use")
  .attr("class", "bar")
  .attr("xlink:href",function (d){return "#rect"+d.type;})
  .attr("x", function(d) { return d.x })
  .attr("width", function (d) {return d.w;})  // this correctly adjusts width!
  .attr("y", function (d) {return 0;}); 
```

# android - ANDROID 可以获取选中项字符串

> ID：14501941
> 
> 赞同：0
> 
> 时间：2013-01-24T12:58:44.763
> 
> 标签：android, listview

我的 listview 适配器有问题。

请在下面检查我的代码：

```
public void onItemClick(AdapterView<?> parent, View v, int position, long id) {
    // TODO Auto-generated method stub
    String selected;

    selected = parent.getItemAtPosition(position).toString();

    if( selected == "Apple" ){
        Intent apple = new Intent(Fruits.this, Apples.class);
        startActivity(apple);
    }
    else if( selected == "Apricot" ){
        Intent apricot = new Intent(Fruits.this, Apricots.class);
        startActivity(apricot);
    }
    else if( selected == "Avocado" ){
        Intent avocado = new Intent(Fruits.this, Avocado.class);
        startActivity(avocado);
    }

} // end of OnItemClick method 
```

每当我选择一行时，它都会在这一行抛出一个 nullpointerexception：

```
 selected = parent.getItemAtPosition(position).toString(); 
```

这里有什么问题？请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:02:13.370

我认为你应该写

```
 if( selected.equals("Apple")){
//Do your Code
} 
```

代替

```
 if( selected == "Apple" ){
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:02:36.490

根据您的 excpetion 使用以下代码，

```
selected = parent.getItem(position).toString(); 
```

你也用过，

```
if( selected == "Apple" ){ 
```

它不是比较字符串的正确方法，而是使用，

```
if( selected.equals("Apple") ){ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T13:03:09.147

改变

```
 selected = parent.getItemAtPosition(yourListView.getFirstVisiblePosition() + position).toString(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T13:06:00.670

对于`equality`字符串的比较，我们使用 equals() 方法。Android中有两种比较方式。

一个是“==”运算符和另一个“equals()”方法。

`"=="`比较字符串对象的引用值，而`equals()`方法比较字符串对象的内容。.

采用

```
selected.equals("your string") 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-05T14:18:39.350

```
public void onItemClick(AdapterView<?> parent, View v, int position, long id) {
    TextView tv = v.findViewById(R.id.myTitle);
    tv.getText().toString(); // String
} 
```

您可以像上述方式一样获取列表项的子视图。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-04-11T23:40:18.620

如果您的适配器包含模型，请使用以下代码：

```
@Override
public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
        itemDrawer seleted = (itemDrawer) parent.getItemAtPosition(position);

        Toast.makeText(getApplicationContext(), seleted.getTitle(), Toast.LENGTH_SHORT).show();
    } 
```

# facebook - 我们可以修改 facebook 社交插件的 css 吗？

> ID：14501943
> 
> 赞同：3
> 
> 时间：2013-01-24T12:58:49.560
> 
> 标签：facebook, facebook-graph-api, facebook-social-plugins

> **可能重复：**
> [如何删除“Facebook 社交插件”文本？](https://stackoverflow.com/questions/4870082/how-to-remove-the-facebook-social-plugin-text)

我是 facebook 社交插件的新手，我想自定义 facebook 提供的社交插件的 css。基本上我想改变标志和facepile的显示方式。我想以圆形而不是矩形框的形式显示来自 facepile 的面孔。

我已阅读 facebook 开发人员文档，但没有太多关于如何自定义社交插件的文档。我还在 stackoverflow 和其他网站上搜索了它，但给出的答案不起作用，因为 facebook 在 2012 年 11 月 7 日更改了社交插件。

我还在[第 25 行网站](http://line25.com/tutorials/how-to-add-a-custom-facebook-like-box-to-your-site)和[stackoverflow](https://stackoverflow.com/questions/4874755/fblike-box-custom-css)上阅读了解决方案， 但两者都不起作用。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T12:42:42.323

实际上，您可以（或可以）对一些插件进行一些定制。在 Like Box 或 Fan Box 中，您可以在 iframe src 调用中通过参数 &css= 添加外部 CSS 文件。但它似乎在最后几天停止工作。

有人也有这个问题吗？我正在寻找anwser，但什么也没找到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:09:17.720

不，您不能更新或覆盖 facebook 插件的 css，因为大多数 facebook 插件都是在 iframe 中呈现的。

# python - 仅在生产中对 fb 令牌的请求在 django 中返回错误 400：“无效的 redirect_uri：不允许指定的 URL...”

> ID：14501949
> 
> 赞同：0
> 
> 时间：2013-01-24T12:59:18.640
> 
> 标签：python, django, facebook-graph-api, facebook-access-token

我正在尝试使用本教程在 python、django 中获得 fb api 的长期*访问令牌：http:* [//developers.facebook.com/docs/howtos/login/server-side-login/](http://developers.facebook.com/docs/howtos/login/server-side-login/)

**这在开发服务器上为我本地工作，但不在生产中！**

我在第一步中得到了一个*代码，但下一步有问题：**步骤 6\. 将代码交换为访问令牌*

这是我获取访问令牌的代码：

```
 params = {
              'client_id': app_id,
              'client_secret': app_secret,                  
              'code': code,
              'redirect_uri': "http://" + Site.objects.get_current().domain + reverse("login_fb")
    }        
    url = "https://graph.facebook.com/oauth/access_token?" + urllib.urlencode(params)  
    headers = {'User-Agent': 'Mozilla/5.0'}
    request = urllib2.Request(url, headers=headers, data=urllib.urlencode(params))        
    response = urllib2.urlopen(request) 
```

当我调用请求时，我收到一个错误：*HTTP 错误 400：错误请求* 它正在开发服务器上工作。当我使用`return redirect(url)`而不是`urllib2.urlopen(url)`我被重定向到有效的访问令牌时。为什么它不适用于*urlopen*？

**更新** 这是 fb api 的响应：

```
Invalid redirect_uri: The specified URL is not allowed by the configuration of the application 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T03:53:34.507

您可能需要在 Facebook 应用程序面板中添加“localhost”作为“应用程序域”之一

1.  [https://developers.facebook.com/apps](https://developers.facebook.com/apps)
2.  “编辑”您尝试调试的应用程序
3.  在“应用程序域”行中，输入`localhost` （另请注意那里的帮助文本：“在域和子域上启用身份验证”）

# iphone - iOS ttf 字体不工作

> ID：14501956
> 
> 赞同：2
> 
> 时间：2013-01-24T12:59:36.680
> 
> 标签：iphone, objective-c, ios5, fonts, ios6

我正在尝试在我的应用程序中嵌入自定义字体。

我已经在我的项目中包含了字体文件

我将密钥添加到 .plist

我将字体添加到目标

的结果：

```
NSLog(@"Fonts: %@", [UIFont familyNames]);

Fonts: (
Thonburi,
"Snell Roundhand",
"Academy Engraved LET",
Avenir,
"Marker Felt",
"Geeza Pro",
"Arial Rounded MT Bold",
"Trebuchet MS",
Arial,
Marion,
"Gurmukhi MN",
"Malayalam Sangam MN",
"Bradley Hand",
"Kannada Sangam MN",
"Bodoni 72 Oldstyle",
Cochin,
"Sinhala Sangam MN",
"Hiragino Kaku Gothic ProN",
Papyrus,
Verdana,
"Zapf Dingbats",
"Avenir Next Condensed",
Courier,
"Hoefler Text",
Helvetica,
"Euphemia UCAS",
"Hiragino Mincho ProN",
"Bodoni Ornaments",
"Apple Color Emoji",
Optima,
"Gujarati Sangam MN",
"Devanagari Sangam MN",
"Times New Roman",
Kailasa,
"Telugu Sangam MN",
"Heiti SC",
"Apple SD Gothic Neo",
Futura,
"Bodoni 72",
Baskerville,
"Chalkboard SE",
"Heiti TC",
Copperplate,
"Party LET",
"American Typewriter",
Symbol,
"Avenir Next",
Noteworthy,
"Bangla Sangam MN",
Zapfino,
"Tamil Sangam MN",
Chalkduster,
"Arial Hebrew",
Georgia,
"Helvetica Neue",
"Gill Sans",
Palatino,
"Courier New",
"Oriya Sangam MN",
Didot,
"Bodoni 72 Smallcaps"
) 
```

我的字体没有在那里列出，这是我正在使用的代码：

```
[UIFont fontWithName:@"KozGoPr6N-Regular.ttf" size:self.LabelEmail.font.pointSize]; 
```

使用上面的代码字体的大小并不总是改变，只是在某些时候。

IE，当我用 0.20 替换 self.LabelEmail.font.pointSize 时，大小保持完全相同，标签连接为 IB 的 IBOutlet 并且字体在 IB 中设置为 14 点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:57:12.187

```
[UIFont fontWithName:@"KozGoPr6N-Regular.ttf" size:self.LabelEmail.font.pointSize]; 
```

首先，我很确定“.ttf”不是（内部）字体名称的一部分。

代码应如下所示：

```
[UIFont fontWithName:@"KozGoPr6N-Regular" size:self.LabelEmail.font.pointSize]; 
```

其次，您是否自己将这种字体从 OpenType (.otf) 转换为 TrueType (.ttf)？（我在我的机器上进行了快速搜索，发现此字体存在，但它是安装在 /Library/Fonts/ 中的 OpenType 字体）。

# sql-server - 获取两个表的并集并使用条件获取数据

> ID：14501957
> 
> 赞同：0
> 
> 时间：2013-01-24T12:59:39.283
> 
> 标签：sql-server

我有两张桌子

```
id   name
100    asd
101    ass
102    gdd
103    hgf
104    cvd
105    erf 
```

表-b

```
id     filter
100     red
101     blue
100     green
100     yellow
102     black
102     red
103     dark 
```

表 a 是主表，具有所有 id。但表 2 是具有“过滤”数据的表。从这两个表中，我想找出所有那些没有最少 2 个过滤器的 'id'。请注意，table-b 没有 table-a 中的所有 itemnumber，我想要所有 itemnumber，无论它是在 table-a 还是 table-b 我已经尝试内部连接这两个表并获取数据，但没有任何效果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T13:03:05.480

```
Select A.ID, A.Name, count(*)
from tableA A
LEFT JOIN tableB B on A.ID = B.ID
Group By A.ID, A.name
having count(*) <= 1 
```

*   LEFT JOIN 给出 A 中的所有记录，并且只给出 B 中匹配的记录。
*   按 ID 和名称分组让我们计算在每个过滤器中找到的过滤器数量
*   有人说给我任何计数小于或等于 1 的项目。（或小于最小值 2）

    结果会是这样。

    ```
    101 ass 1
    103 hgf 1
    104 cvd 0 
    105 erf 0 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:05:01.087

```
select
    *
from
    table-a a
    left join (
        select id, count(id) as c from table-b group by id
    ) v on a.id = v.id
where isnull(v.id, 0) < 2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T13:57:24.590

我认为这可以在 SQL Server 中工作（在 SQLite 中测试，通常两者在内联视图语法方面相当兼容）。但撇开语法问题不谈，内联视图可以使使用集合更容易可视化。

```
 select TA.id, name 
    from  TA  
    inner join
    (     

     select id from TA
     where not exists (select id from TB where TA.id = TB.id)       

     UNION         

     select id from TB
     group by id having count(filter) < 2         

    )  as FOO
   on TA.id = FOO.id 
```

UNION 的默认行为是删除重复项。

第一个 UNIONed 集由表 A 中没有过滤器的 id 组成（过滤器表 B 中没有对应项）。

第二个 UNIONed 集由过滤器表 B 中的 id 组成，它们只有 1 个过滤器。

我们将这些联合集合内部连接回表 A 以获取实体名称。

# d3.js - D3折线图中如何在轴和线之间添加空间？

> ID：14501959
> 
> 赞同：1
> 
> 时间：2013-01-24T13:00:04.963
> 
> 标签：d3.js

鉴于我创建的这个简单图表：

```
 var data  = [["2013-01-24 06:38:02.235191", 52], ["2013-01-23 06:38:02.235310", 54], ["2013-01-22 06:38:02.235330", 45], ["2013-01-21 06:38:02.235346", 53]],
  maxValue = d3.max(data, function (d) { return d[1]; }),
  margin   = {top: 20, right: 20, bottom: 50, left: 50},
  width    = 500 - margin.left - margin.right,
  height   = 300 - margin.top - margin.bottom,
  svg, x, y, xAxis, yAxis, line;

$.each(data, function(index, val) {
    val[0] = new Date(val[0]);
  });

x = d3.time.scale()
  .range([0, width])

y = d3.scale.linear()
  .domain([0, maxValue])
  .range([height, 0]);

xAxis = d3.svg.axis()
  .scale(x)
  .tickSize(4, 2, 0)
  .ticks(d3.time.days, 1)
  .tickFormat(d3.time.format("%m/%d"))
  .orient("bottom");

yAxis = d3.svg.axis()
  .scale(y)
  // .ticks(5)
  // .tickValues([0, maxValue * 0.25, maxValue * 0.5, maxValue * 0.75, maxValue])
  .tickSize(4, 2, 0)
  .orient("left");

line = d3.svg.line()
  .x(function(d) { return x(d[0]); })
  .y(function(d) { return y(d[1]); });

svg = d3.select("#chart-holder").append("svg")
  .attr("width", width + margin.left + margin.right)
  .attr("height", height + margin.top + margin.bottom)
.append("g")
  .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

x.domain(d3.extent(data, function(d) { return d[0]; }));
y.domain(d3.extent(data, function(d) { return d[1]; }));

svg.append("g")
  .attr("class", "x axis")
  .attr("transform", "translate(0," + height + ")")
  .call(xAxis)
  .selectAll("text")
    .attr("transform", function(d) {
      return "rotate(-60)translate(" + -this.getBBox().height * 1.7 + "," +
        -this.getBBox().width/4 + ")";
    });

svg.append("g")
  .attr("class", "y axis")
  .call(yAxis);

svg.append("path")
  .datum(data)
  .attr("class", "line")
  .attr("d", line);

svg
 .selectAll("circle")
 .data(data)
 .enter().append("circle")
 .attr("fill", "#0b8da0")
 .attr("r", 3.5)
 .attr("cx", function(d) { return x(d[0]); })
 .attr("cy", function(d) { return y(d[1]); }); 
```

如何在轴和线之间添加空间，使其不会接触轴。

还有一种方法可以强制 yAxis 刻度始终从 0 开始，无论数据集中的最小值是多少？

工作示例可以在这里找到：http: [//jsfiddle.net/n7Vmr/](http://jsfiddle.net/n7Vmr/)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T13:18:20.227

您可以更改用于绘制 y 轴的比例域，查找线

```
y.domain(d3.extent(data, function(d) { return d[1]; })); 
```

需要更改，如果您希望它比数据集中的最小值小一，请使用

```
y.domain([d3.min(data, function (d) { return d[1]; })-1, maxValue]); 
```

或者如果您希望它从 0 开始，无论数据如何

```
y.domain([0, maxValue]); 
```

# php - 英国手机验证

> ID：14501960
> 
> 赞同：-1
> 
> 时间：2013-01-24T13:00:08.707
> 
> 标签：php, regex, validation

我正在尝试验证英国手机号码，格式如下：

`075xxxxxxxx` `077xxxxxxxx` `078xxxxxxxx`和`079xxxxxxxx`

每个数字必须以上述 3 个数字开头，长度为 11 位。

我环顾四周，发现了几个正则表达式，例如：

[正则表达式1 正则](http://regexlib.com/REDetails.aspx?regexp_id=331) [表达式 2](http://regexlib.com/REDetails.aspx?regexp_id=308)

但没有什么我正在努力满足我的确切需求。

有没有人有一个例子可以与我试图验证的数字一起使用？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-24T13:04:33.253

使用这个正则表达式`07[5789]\d{8}`

如果你想像这样设置破折号正确的正则表达式`07[5789]\d{3}-\d{3}-\d{2}`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-24T13:03:38.967

`07[57-9]\d{8}`

1.  `07`-> 完全匹配
2.  `[57-9]`-> 匹配 5、7、8 和 9
3.  `\d{8}`-> 8 位以上

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T13:09:43.220

试试这个：

```
<?php

$telno = "07712345678";

preg_match("^07[5789]{1}[0-9]{8}^",$telno,$matches);

if(count($matches) > 0 && $matches[0] == $telno){
    echo "valid tel no.";
}else{
    echo "invalid no.";
}

?> 
```

# javascript - Javascript 在 asp.net listview 中设置标签值

> ID：14501961
> 
> 赞同：1
> 
> 时间：2013-01-24T13:00:12.747
> 
> 标签：javascript, asp.net

我有一个包含 2 个按钮、一个文本框和标签的列的 asp.net 列表视图。

单击按钮时，将执行 javascript 函数。

此函数获取文本框中的值，然后在标签中开始倒计时。

问题是，无论我选择哪一行，它都会从列表视图的第一行获取值，并将标签也设置在列表视图的第一行。

我已经做了几十次尝试让它工作，但不能让它使用正确的行。

如何确保它获取并设置正确的值？

谢谢

```
function countdown() {
      interval = setInterval(function () {
          var lbl = document.getElementById("ctl00_ContentPlaceHolder1_lstViewFormulas_ctrl0_lblCountDown");
          var txt = document.getElementById("ctl00_ContentPlaceHolder1_lstViewFormulas_ctrl0_txtTimeMinutes");

  <asp:Button ID="buttStartTimer" runat="server" OnClientClick="javascript:countdown()" Text="Start" />
  <asp:Button ID="buttStopTimer" runat="server" OnClientClick="javascript:stopcountdown()" Text="Stop" />
  <asp:TextBox runat="server" ID="txtTimeMinutes" Text='<%#Eval("FormulaTiming")%>'></asp:TextBox>
  <asp:Label ID="lblCountDown" runat="server" Text=""></asp:Label> 
```

# 其他尝试

```
 <%--<input type="button" onclick='countdown()'; value="Start" id="Start" />
  <input type="button" onclick='stopcountdown()'; value="Stop" id="Stop" />--%>
  <%--<input type="button" onclick='countdown(this.form.TimeMinutes, this.form.spCountDown)'; value="Start" id="Start" />
   <input type="button" onclick='stopcountdown()'; value="Stop" id="Stop" />--%>
  <%-- <input type="button" onclick='<%# Eval("FormulaTiming", "countdown({0});")%>' value="Start" id="Button2" />
  <input type="button" onclick='stopcountdown()'; value="Stop" id="Button3" />--%>
  <%--<input type="text" value='<%#Eval("FormulaTiming")%>' id="txtTimeMinutes" />--%> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T13:25:17.720

你可以改用jquery吗：

给所有按钮一个类，然后使用 jquery 找到该类：

```
$(".myButtonClass").click(function() {
    var buttonID = $(this).attr('id');
    var listViewRowID = buttonID.substring(buttonID.lastIndexOf('_') + 1);
    updateLabel("ctl00_ContentPlaceHolder1_lstViewFormulas_ctr"+listViewRowID+"_lblCountDown")
} 
```

然后只需编写您的 updateLabel 命令来更新输入标签

请注意，这还没有经过测试（只是在我的脑海中）

# c# - 从 Visual Studio 2012 C# 创建 exe

> ID：14501963
> 
> 赞同：0
> 
> 时间：2013-01-24T13:00:23.903
> 
> 标签：c#, visual-studio-2012

我用 c# 做了一个小应用程序，我想把它发给朋友征求意见。问题是当我选择**发布**配置并单击重建时，我得到 7 个附加文件（3 个 dll，1 个 exe，...）以及我想要的 exe。难道我做错了什么？当我在 VS 2005 中使用 c++ 时，我曾经获取单个 .exe 文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T14:49:06.473

这是一个可怕的时刻。无法让**Clickonce**为如此简单的应用程序工作。仅将 3 个引用的**dll**和**exe**移动到另一个文件夹即可。另一方面，**Wix ……至少很难说。**

但是，如果不是 exe，**[这](http://www.installsimple.com/download.htm)**允许我在 10 分钟内创建一个安装文件。我发送了一个快捷方式到桌面，这或多或少是我想要的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T13:02:17.740

你没有做错任何事。只是在发布时会生成其他文件，例如 AppConfig.xml 用于保存您的应用程序设置的实例，或 ClickOnce 部署包，以便您的朋友可以安装该应用程序。要更习惯 C#，您可以从谷歌搜索有关调试和发布之间差异的文章开始

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T13:03:50.010

您是否考虑过使用 Visual Studio 2012 中内置的 Click Once 工具？

[单击一次部署 - MSDN](http://msdn.microsoft.com/en-US/library/t71a733d%28v=vs.110%29.aspx)

单击一次将生成一个安装程序，您的朋友可以执行该安装程序。如有必要，它将自动下载并安装任何依赖项（例如特定的 .NET 运行时）。

要分发引用的 DLL，请查看以下 URL，因为它建议正确的配置设置：

[如何：指定 ClickOnce 发布的文件](http://msdn.microsoft.com/en-US/library/kzy0fky2%28v=vs.110%29.aspx)

# c++ - OpenSSL，从 CString 读取公共 RSA 密钥

> ID：14501965
> 
> 赞同：2
> 
> 时间：2013-01-24T13:00:51.467
> 
> 标签：c++, openssl, rsa

我正在尝试从 CString 读取 RSA 公钥。在我从文件中执行此操作之前，它很简单，我使用的是：

```
RSA *PEM_read_RSA_PUBKEY(FILE *fp, RSA **x, pem_password_cb *cb, void *u); 
```

但现在我不能使用这种方法。这就是为什么我考虑使用：

```
RSA *PEM_read_bio_RSA_PUBKEY(BIO *bp, RSA **x, pem_password_cb *cb, void *u); 
```

但我不明白这个`BIO *bp`论点以及如何将 CString 传递给它！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:30:14.620

来自[bio(3)](http://www.openssl.org/docs/crypto/bio.html)文档

> BIO 是一种 I/O 抽象，它对应用程序隐藏了许多底层 I/O 细节。如果应用程序将 BIO 用于其 I/O，它可以透明地处理 SSL 连接、未加密的网络连接和文件 I/O。

对于你的情况，我猜[BIO_s_mem(3)](http://www.openssl.org/docs/crypto/BIO_s_mem.html)是正确的类型

> 内存 BIO 是使用内存进行 I/O 的源/接收器 BIO。

和

> BIO *BIO_new_mem_buf(void *buf, int len);
> ...
> BIO_new_mem_buf() 使用 buf 的 len 字节数据创建内存 BIO，如果 len 为 -1，则假定 buf 为空终止，其长度由 strlen 确定。BIO 设置为只读状态，因此无法写入。

所以对于 C 字符串，我会说这会导致

```
char rsa_key[1024];
...
BIO *bp = BIO_new_mem_buf(rsa_key, -1);
RSA *rsa = PEM_read_bio_RSA_PUBKEY(bp, ...); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:25:56.727

OpenSSL 中的 BIO 类似于文件句柄。您使用它们中的一对来安全地相互通信，就像使用两个套接字一样。

[这里有一些示例代码的详细解释](http://www.ibm.com/developerworks/linux/library/l-openssl.html)

# javascript - 总是得到数组中的最后一项，我需要 JavaScript 闭包吗？

> ID：14501966
> 
> 赞同：4
> 
> 时间：2013-01-24T13:00:53.713
> 
> 标签：javascript, jquery, closures

我有一个函数循环遍历一个多维数组，该数组由我网页上一个区域的 id 和一个我必须传递给 web 服务的参数组成。调用的返回`$.ajax()`将是我希望在数组的第一部分中填充（重绘）的 HTML：

```
function getViews(){

    // loop through, need view/jsp name and where we want to put the HTML... need a multidimarray...
    var viewArr = [["infoCol","info"], 
                   ["noteCol", "notes"],
                   ["buttonsDiv", "buttons"],
                   ["historyPanel","history"], 
                   ["servicesPanel","services"],
                   ["noFOUC","dialogs"]
                  ];

    // do the loop
    for(var i = 0;i<viewArr.length;i++){

        var thisArea = viewArr[i][0];

        $.ajax({
            url:"getView",
            type:"POST",
            data:{view:viewArr[i][1]},
            dataType:"html",
            success:function(data){
              console.log(thisArea); // this is always noFOUC
              // console.log(viewArr[i][0]); // this gives an undefined error...
                $("#" + thisArea).html(data);
            },
            error:function(xhr, ajaxOptions, thrownError){
                console.log(xhr.status);
                console.log(xhr.statusText);
                console.log(thrownError);
            }
        }); 

    }
} 
```

现在一切都很好，但是尝试`viewArr[i][0]`在成功中引用循环的第一部分：回调不起作用！如果我把它放在成功之内：它是未定义的。如果我`$.ajax()`在上面的示例中给它一个类似的变量，它总是数组的最后一项！我确定我需要在这里添加一个闭包，但我不确定在哪里或为什么，有人可以解释一下吗？

如果我没有很好地措辞或解释这一点，请告诉我，我会更好地解释。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T13:06:40.363

d我想我有这个......我在循环中放置了一个自我执行函数......**忘记了异步**！循环继续...... doh！

```
function getViews(){

    // loop through, need view/jsp name and where we want to put the HTML... need a multidimarray...
    var viewArr = [["infoCol","info"], 
                   ["noteCol", "notes"],
                   ["buttonsDiv", "buttons"],
                   ["historyPanel","history"], 
                   ["servicesPanel","services"],
                   ["noFOUC","dialogs"]
                  ];

    // do the loop
    for(var i = 0;i<viewArr.length;i++){

        (function(){

        var thisArea = viewArr[i][0];
        $.ajax({
            url:"getView",
            type:"POST",
            data:{view:viewArr[i][1]},
            dataType:"html",
            success:function(data){
                $("#" + thisArea).html(data);
            },
            error:function(xhr, ajaxOptions, thrownError){
                console.log(xhr.status);
                console.log(xhr.statusText);
                console.log(thrownError);
            }
        }); 

        })(viewArr[i][0]);

    }
} 
```

# toggle - 具有多个分组和切换的 Reporting Services 报表中的交互式排序

> ID：14501967
> 
> 赞同：0
> 
> 时间：2013-01-24T13:00:54.183
> 
> 标签：toggle, ssrs-grouping, ssrs-2008-r2

使用 Reporting Services 2008 r2。

在 Reporting Services 报表中，我有一个包含两个分组的表：A 组和 B 组。为了显示度量，使用了 Detail 组。

B 组设置为切换 A 组中的值。

示例：A 组是汽车品牌，B 组是汽车型号。在详细信息中显示了利润。最初仅显示汽车品牌列表，并可以展开（切换）并显示汽车型号。从而将利润分成车型。

而现在的问题。在利润列上，交互式排序功能用于按利润对表中的值进行排序，其中包含 2 组。到目前为止，我只设法对 A 组或 B 组进行了排序。这不是我们想要的。我想要的是按利润对整个表格进行排序，A 组和 B 组仍然保持分组。

Reporting Services 是否支持此功能？

提前致谢。

基于冒险作品的报告（.rdl）代码示例：

```
<?xml version="1.0" encoding="utf-8"?>
<Report xmlns="http://schemas.microsoft.com/sqlserver/reporting/2008/01/reportdefinition" xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">
  <Body>
<ReportItems>
  <Tablix Name="Tablix1">
    <TablixBody>
      <TablixColumns>
        <TablixColumn>
          <Width>2.5cm</Width>
        </TablixColumn>
      </TablixColumns>
      <TablixRows>
        <TablixRow>
          <Height>0.6cm</Height>
          <TablixCells>
            <TablixCell>
              <CellContents>
                <Textbox Name="Textbox1">
                  <CanGrow>true</CanGrow>
                  <UserSort>
                    <SortExpression>=Fields!Gross_Profit.Value</SortExpression>
                    <SortExpressionScope>Subcategory</SortExpressionScope>
                  </UserSort>
                  <KeepTogether>true</KeepTogether>
                  <Paragraphs>
                    <Paragraph>
                      <TextRuns>
                        <TextRun>
                          <Value>Gross Profit</Value>
                          <Style />
                        </TextRun>
                      </TextRuns>
                      <Style />
                    </Paragraph>
                  </Paragraphs>
                  <rd:DefaultName>Textbox1</rd:DefaultName>
                  <Style>
                    <Border>
                      <Color>LightGrey</Color>
                      <Style>Solid</Style>
                    </Border>
                    <PaddingLeft>2pt</PaddingLeft>
                    <PaddingRight>2pt</PaddingRight>
                    <PaddingTop>2pt</PaddingTop>
                    <PaddingBottom>2pt</PaddingBottom>
                  </Style>
                </Textbox>
              </CellContents>
            </TablixCell>
          </TablixCells>
        </TablixRow>
        <TablixRow>
          <Height>0.6cm</Height>
          <TablixCells>
            <TablixCell>
              <CellContents>
                <Textbox Name="Textbox13">
                  <CanGrow>true</CanGrow>
                  <KeepTogether>true</KeepTogether>
                  <Paragraphs>
                    <Paragraph>
                      <TextRuns>
                        <TextRun>
                          <Value>=Sum(Fields!Gross_Profit.Value)</Value>
                          <Style>
                            <Format>#,0</Format>
                          </Style>
                        </TextRun>
                      </TextRuns>
                      <Style />
                    </Paragraph>
                  </Paragraphs>
                  <rd:DefaultName>Textbox13</rd:DefaultName>
                  <Style>
                    <Border>
                      <Color>LightGrey</Color>
                      <Style>Solid</Style>
                    </Border>
                    <PaddingLeft>2pt</PaddingLeft>
                    <PaddingRight>2pt</PaddingRight>
                    <PaddingTop>2pt</PaddingTop>
                    <PaddingBottom>2pt</PaddingBottom>
                  </Style>
                </Textbox>
              </CellContents>
            </TablixCell>
          </TablixCells>
        </TablixRow>
        <TablixRow>
          <Height>0.6cm</Height>
          <TablixCells>
            <TablixCell>
              <CellContents>
                <Textbox Name="Gross_Profit">
                  <CanGrow>true</CanGrow>
                  <KeepTogether>true</KeepTogether>
                  <Paragraphs>
                    <Paragraph>
                      <TextRuns>
                        <TextRun>
                          <Value>=Fields!Gross_Profit.Value</Value>
                          <Style>
                            <Format>#,0</Format>
                          </Style>
                        </TextRun>
                      </TextRuns>
                      <Style />
                    </Paragraph>
                  </Paragraphs>
                  <rd:DefaultName>Gross_Profit</rd:DefaultName>
                  <Style>
                    <Border>
                      <Color>LightGrey</Color>
                      <Style>Solid</Style>
                    </Border>
                    <PaddingLeft>2pt</PaddingLeft>
                    <PaddingRight>2pt</PaddingRight>
                    <PaddingTop>2pt</PaddingTop>
                    <PaddingBottom>2pt</PaddingBottom>
                  </Style>
                </Textbox>
              </CellContents>
            </TablixCell>
          </TablixCells>
        </TablixRow>
      </TablixRows>
    </TablixBody>
    <TablixColumnHierarchy>
      <TablixMembers>
        <TablixMember />
      </TablixMembers>
    </TablixColumnHierarchy>
    <TablixRowHierarchy>
      <TablixMembers>
        <TablixMember>
          <TablixHeader>
            <Size>2.5cm</Size>
            <CellContents>
              <Textbox Name="Textbox7">
                <CanGrow>true</CanGrow>
                <KeepTogether>true</KeepTogether>
                <Paragraphs>
                  <Paragraph>
                    <TextRuns>
                      <TextRun>
                        <Value>Category</Value>
                        <Style />
                      </TextRun>
                    </TextRuns>
                    <Style />
                  </Paragraph>
                </Paragraphs>
                <rd:DefaultName>Textbox7</rd:DefaultName>
                <Style>
                  <Border>
                    <Color>LightGrey</Color>
                    <Style>Solid</Style>
                  </Border>
                  <PaddingLeft>2pt</PaddingLeft>
                  <PaddingRight>2pt</PaddingRight>
                  <PaddingTop>2pt</PaddingTop>
                  <PaddingBottom>2pt</PaddingBottom>
                </Style>
              </Textbox>
            </CellContents>
          </TablixHeader>
          <TablixMembers>
            <TablixMember>
              <TablixHeader>
                <Size>2.5cm</Size>
                <CellContents>
                  <Textbox Name="Textbox9">
                    <CanGrow>true</CanGrow>
                    <KeepTogether>true</KeepTogether>
                    <Paragraphs>
                      <Paragraph>
                        <TextRuns>
                          <TextRun>
                            <Value>Subcategory</Value>
                            <Style />
                          </TextRun>
                        </TextRuns>
                        <Style />
                      </Paragraph>
                    </Paragraphs>
                    <rd:DefaultName>Textbox9</rd:DefaultName>
                    <Style>
                      <Border>
                        <Color>LightGrey</Color>
                        <Style>Solid</Style>
                      </Border>
                      <PaddingLeft>2pt</PaddingLeft>
                      <PaddingRight>2pt</PaddingRight>
                      <PaddingTop>2pt</PaddingTop>
                      <PaddingBottom>2pt</PaddingBottom>
                    </Style>
                  </Textbox>
                </CellContents>
              </TablixHeader>
              <TablixMembers>
                <TablixMember />
              </TablixMembers>
            </TablixMember>
          </TablixMembers>
          <KeepWithGroup>After</KeepWithGroup>
        </TablixMember>
        <TablixMember>
          <Group Name="Category">
            <GroupExpressions>
              <GroupExpression>=Fields!Category.Value</GroupExpression>
            </GroupExpressions>
          </Group>
          <SortExpressions>
            <SortExpression>
              <Value>=Fields!Category.Value</Value>
            </SortExpression>
          </SortExpressions>
          <TablixHeader>
            <Size>2.5cm</Size>
            <CellContents>
              <Textbox Name="Category">
                <CanGrow>true</CanGrow>
                <KeepTogether>true</KeepTogether>
                <Paragraphs>
                  <Paragraph>
                    <TextRuns>
                      <TextRun>
                        <Value>=Fields!Category.Value</Value>
                        <Style />
                      </TextRun>
                    </TextRuns>
                    <Style />
                  </Paragraph>
                </Paragraphs>
                <rd:DefaultName>Category</rd:DefaultName>
                <Style>
                  <Border>
                    <Color>LightGrey</Color>
                    <Style>Solid</Style>
                  </Border>
                  <PaddingLeft>2pt</PaddingLeft>
                  <PaddingRight>2pt</PaddingRight>
                  <PaddingTop>2pt</PaddingTop>
                  <PaddingBottom>2pt</PaddingBottom>
                </Style>
              </Textbox>
            </CellContents>
          </TablixHeader>
          <TablixMembers>
            <TablixMember>
              <TablixHeader>
                <Size>2.5cm</Size>
                <CellContents>
                  <Textbox Name="Textbox12">
                    <CanGrow>true</CanGrow>
                    <KeepTogether>true</KeepTogether>
                    <Paragraphs>
                      <Paragraph>
                        <TextRuns>
                          <TextRun>
                            <Value>Total</Value>
                            <Style />
                          </TextRun>
                        </TextRuns>
                        <Style />
                      </Paragraph>
                    </Paragraphs>
                    <rd:DefaultName>Textbox12</rd:DefaultName>
                    <Style>
                      <Border>
                        <Color>LightGrey</Color>
                        <Style>Solid</Style>
                      </Border>
                      <PaddingLeft>2pt</PaddingLeft>
                      <PaddingRight>2pt</PaddingRight>
                      <PaddingTop>2pt</PaddingTop>
                      <PaddingBottom>2pt</PaddingBottom>
                    </Style>
                  </Textbox>
                </CellContents>
              </TablixHeader>
              <KeepWithGroup>After</KeepWithGroup>
            </TablixMember>
            <TablixMember>
              <Group Name="Subcategory">
                <GroupExpressions>
                  <GroupExpression>=Fields!Subcategory.Value</GroupExpression>
                </GroupExpressions>
              </Group>
              <SortExpressions>
                <SortExpression>
                  <Value>=Fields!Subcategory.Value</Value>
                </SortExpression>
              </SortExpressions>
              <TablixHeader>
                <Size>2.5cm</Size>
                <CellContents>
                  <Textbox Name="Subcategory">
                    <CanGrow>true</CanGrow>
                    <KeepTogether>true</KeepTogether>
                    <Paragraphs>
                      <Paragraph>
                        <TextRuns>
                          <TextRun>
                            <Value>=Fields!Subcategory.Value</Value>
                            <Style />
                          </TextRun>
                        </TextRuns>
                        <Style />
                      </Paragraph>
                    </Paragraphs>
                    <rd:DefaultName>Subcategory</rd:DefaultName>
                    <Style>
                      <Border>
                        <Color>LightGrey</Color>
                        <Style>Solid</Style>
                      </Border>
                      <PaddingLeft>2pt</PaddingLeft>
                      <PaddingRight>2pt</PaddingRight>
                      <PaddingTop>2pt</PaddingTop>
                      <PaddingBottom>2pt</PaddingBottom>
                    </Style>
                  </Textbox>
                  <rd:Selected>true</rd:Selected>
                </CellContents>
              </TablixHeader>
              <TablixMembers>
                <TablixMember>
                  <Group Name="Details" />
                </TablixMember>
              </TablixMembers>
              <Visibility>
                <Hidden>true</Hidden>
                <ToggleItem>Category</ToggleItem>
              </Visibility>
            </TablixMember>
          </TablixMembers>
        </TablixMember>
      </TablixMembers>
    </TablixRowHierarchy>
    <DataSetName>DataSet1</DataSetName>
    <Height>1.8cm</Height>
    <Width>7.5cm</Width>
    <Style>
      <Border>
        <Style>None</Style>
      </Border>
    </Style>
  </Tablix>
</ReportItems>
<Height>0.70866in</Height>
<Style />
  </Body>
  <Width>2.95276in</Width>
 <Page>
<PageHeight>29.7cm</PageHeight>
<PageWidth>21cm</PageWidth>
<LeftMargin>2cm</LeftMargin>
<RightMargin>2cm</RightMargin>
<TopMargin>2cm</TopMargin>
<BottomMargin>2cm</BottomMargin>
<ColumnSpacing>0.13cm</ColumnSpacing>
<Style />
</Page>
<AutoRefresh>0</AutoRefresh>
<DataSources>
<DataSource Name="DataSource1">
  <DataSourceReference>DataSource1</DataSourceReference>
  <rd:SecurityType>None</rd:SecurityType>
  <rd:DataSourceID>9a3c3555-b858-4735-8414-0856ebe26806</rd:DataSourceID>
</DataSource>
</DataSources>
<DataSets>
<DataSet Name="DataSet1">
  <Query>
    <DataSourceName>DataSource1</DataSourceName>
    <CommandText> SELECT NON EMPTY { [Measures].[Gross Profit] } ON COLUMNS, NON EMPTY { ([Product].[Category].[Category].ALLMEMBERS * [Product].[Subcategory].[Subcategory].ALLMEMBERS ) } DIMENSION PROPERTIES MEMBER_CAPTION, MEMBER_UNIQUE_NAME ON ROWS FROM [Adventure Works] CELL PROPERTIES VALUE, BACK_COLOR, FORE_COLOR, FORMATTED_VALUE, FORMAT_STRING, FONT_NAME, FONT_SIZE, FONT_FLAGS</CommandText>
    <rd:DesignerState>
      <QueryDefinition xmlns="http://schemas.microsoft.com/AnalysisServices/QueryDefinition">
        <CommandType>MDX</CommandType>
        <QuerySpecification xsi:type="MDXQuerySpecification" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Select>
            <Items>
              <Item>
                <ID xsi:type="Level">
                  <DimensionName>Product</DimensionName>
                  <HierarchyName>Category</HierarchyName>
                  <HierarchyUniqueName>[Product].[Category]</HierarchyUniqueName>
                  <LevelName>Category</LevelName>
                  <UniqueName>[Product].[Category].[Category]</UniqueName>
                </ID>
                <ItemCaption>Category</ItemCaption>
                <UniqueName>true</UniqueName>
              </Item>
              <Item>
                <ID xsi:type="Level">
                  <DimensionName>Product</DimensionName>
                  <HierarchyName>Subcategory</HierarchyName>
                  <HierarchyUniqueName>[Product].[Subcategory]</HierarchyUniqueName>
                  <LevelName>Subcategory</LevelName>
                  <UniqueName>[Product].[Subcategory].[Subcategory]</UniqueName>
                </ID>
                <ItemCaption>Subcategory</ItemCaption>
                <UniqueName>true</UniqueName>
              </Item>
              <Item>
                <ID xsi:type="Measure">
                  <MeasureName>Gross Profit</MeasureName>
                  <UniqueName>[Measures].[Gross Profit]</UniqueName>
                </ID>
                <ItemCaption>Gross Profit</ItemCaption>
                <BackColor>true</BackColor>
                <ForeColor>true</ForeColor>
                <FontFamily>true</FontFamily>
                <FontSize>true</FontSize>
                <FontWeight>true</FontWeight>
                <FontStyle>true</FontStyle>
                <FontDecoration>true</FontDecoration>
                <FormattedValue>true</FormattedValue>
                <FormatString>true</FormatString>
              </Item>
            </Items>
          </Select>
          <From>Adventure Works</From>
          <Filter>
            <FilterItems />
          </Filter>
          <Calculations />
          <Aggregates />
          <QueryProperties />
        </QuerySpecification>
        <Query>
          <Statement> SELECT NON EMPTY { [Measures].[Gross Profit] } ON COLUMNS, NON EMPTY { ([Product].[Category].[Category].ALLMEMBERS * [Product].[Subcategory].[Subcategory].ALLMEMBERS ) } DIMENSION PROPERTIES MEMBER_CAPTION, MEMBER_UNIQUE_NAME ON ROWS FROM [Adventure Works] CELL PROPERTIES VALUE, BACK_COLOR, FORE_COLOR, FORMATTED_VALUE, FORMAT_STRING, FONT_NAME, FONT_SIZE, FONT_FLAGS</Statement>
          <ParameterDefinitions />
        </Query>
      </QueryDefinition>
    </rd:DesignerState>
  </Query>
  <Fields>
    <Field Name="Category">
      <DataField>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;Field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xsi:type="Level" UniqueName="[Product].[Category].[Category]" /&gt;</DataField>
      <rd:TypeName>System.String</rd:TypeName>
    </Field>
    <Field Name="Subcategory">
      <DataField>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;Field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xsi:type="Level" UniqueName="[Product].[Subcategory].[Subcategory]" /&gt;</DataField>
      <rd:TypeName>System.String</rd:TypeName>
    </Field>
    <Field Name="Gross_Profit">
      <DataField>&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;Field xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xsi:type="Measure" UniqueName="[Measures].[Gross Profit]" /&gt;</DataField>
      <rd:TypeName>System.Int32</rd:TypeName>
    </Field>
  </Fields>
</DataSet>
</DataSets>
<rd:ReportUnitType>Cm</rd:ReportUnitType>
<rd:ReportID>73334590-ae11-454b-8075-9d8b167ac594</rd:ReportID>
</Report> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:08:47.800

是的，您可以这样做，您应该再添加一个虚拟父组（GroupA 和 GroupB 的父组），该组将按组 A 中的组字段和 B 中的组字段进行分组。与交互式排序相比，您应该选择该组。在您报告中，您有组类别和子类别，还添加 ParentGroup（分组字段是类别，子类别）： ![在此处输入图像描述](../Images/725a712fc7a4b388b68bdd041aac8ffd.png)

并删除由该组创建的不必要的单元格。

# javascript - 双引号内的 JavaScript Echo Var

> ID：14501969
> 
> 赞同：0
> 
> 时间：2013-01-24T13:01:06.927
> 
> 标签：javascript, jquery

好的，

另一个新手类型的问题。

我在我的网站上的部分中有这个数组，`head`并希望使用它内联 JavaScript：

```
var MyVariable = {"chkboxid":"chkbox"} 
```

**chkboxid**是复选框输入的 id。

现在，在验证表单提交时的复选框输入时，这都不起作用

```
$("form#myform").submit(function () {
        if ($(MyVariable.chkboxid).is(":checked")) {
        } else {
            alert(CommentsPlus.nochkboxmsg);
            return false;
        } 
```

也不是这个（检查变量的双引号）

```
$("form#myform").submit(function () {
        if ($("MyVariable.chkboxid").is(":checked")) {
        } else {
            alert(CommentsPlus.nochkboxmsg);
            return false;
        } 
```

但是，如果我对复选框输入 ID 进行硬编码，它就可以工作。我的意思`"input#chkbox"`是代替`MyVariable.chkboxid`.

```
$("form#myform").submit(function () {
        if ($("input#chkbox").is(":checked")) {
        } else {
            alert(CommentsPlus.nochkboxmsg);
            return false;
        } 
```

如何使用该变量而不是对输入 ID 进行硬编码？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T13:05:43.953

您在 ID 前缺少“#”：

```
$("form#myform").submit(function () {
    var element = $("#" + MyVariable.chkboxid)
    if (element.is(":checked")) {
    } else {
        alert(CommentsPlus.nochkboxmsg);
        return false;
    }
} 
```

但是请注意*chkboxid*是**key**，复选框的实际 ID 应该是值：

```
var MyVariable = {"chkboxid": "real_id_here"} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T13:08:14.463

请检查下面的代码。希望它会起作用 `$("form#myform").submit(function () { if ($("#chkboxid").is("checked")) {alert("checked"); } else { alert("not checked"); } });`

谢谢，里帕萨哈

# visual-studio-2010 - ReportViewer 不断刷新

> ID：14501972
> 
> 赞同：1
> 
> 时间：2013-01-24T13:01:18.423
> 
> 标签：visual-studio-2010, visual-studio-2008, reportviewer, report-viewer2010, reportviewer2008

我有一个非常奇怪的情况。我正在使用`ReportViewer`ASP.NET 中的控件在我的`aspx`页面中显示报告。当我使用 VS2008 构建我的网站时，这很好用。`Report Viewer`但是当我在 VS2010 中向页面添加控件时出错了......

我`ReportViewer`在 VS2010 中遇到的问题是它不断刷新我的报告。当我查看从该页面发送的网络流量时，我可以清楚地看到`ReportViewer`不断发送新请求以获取报告。我不知道它为什么会这样，而且只在 VS2010 中......

但这仅在我尝试向报告中添加参数时发生。

这就是我的代码的样子：

# VS2008

```
<rsweb:ReportViewer ID="ReportViewer1" runat="server" Font-Names="Verdana"
    Font-Size="8pt" Height="642px" ProcessingMode="Remote" Width="896px">
    <ServerReport ReportPath="http://server.com/Product/Dashboards/test.rdl" 
        ReportServerUrl="http://server.com/ReportServer" />
</rsweb:ReportViewer> 
```

# VS2010

```
<rsweb:ReportViewer ID="ReportViewer1" runat="server" 
ProcessingMode="Remote" Width="948px" Font-Names="Verdana" Font-Size="8pt" 
     WaitMessageFont-Names="Verdana" 
    WaitMessageFont-Size="14pt">
    <ServerReport ReportPath="http://server.com/Product/Dashboards/test.rdl" 
        ReportServerUrl="http://server.com/ReportServer" />
</rsweb:ReportViewer> 
```

# 背后的代码

对于两者`VS2008`，`VS2010`我的代码中有以下代码`Page_Load`：

```
ReportParameter[] reportParameters = new ReportParameter[1];
reportParameters[0] = new ReportParameter("year", "2012", true);
ReportViewer1.ServerReport.SetParameters(reportParameters);
ReportViewer1.ServerReport.Refresh(); 
```

* * *

为什么VS2010在添加参数时出现问题，即：为什么一直刷新我的报表？为什么这在 VS2008 中工作得非常好？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-11T15:27:45.987

This may be the problem you're encountering: [Reports Never Stop Loading With VS 2010](http://blogs.msdn.com/b/brianhartman/archive/2010/03/21/reports-never-stop-loading-with-vs-2010.aspx)

Apparently you need a check for IsPostBack before calling SetParameters.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-15T15:37:56.360

我知道这是一个旧问题，但对于那些仍在寻找的人，我在 ReportViewer2012 中遇到了这个问题，并通过检查后面代码中的帖子解决了这个问题。

```
protected void Page_Load(object sender, EventArgs e)
{
  if (!IsPostBack)
   {
     // Your code behind code here
   }
} 
```

这也可能有帮助：[https ://social.msdn.microsoft.com/Forums/en-US/deae558c-977f-484e-86ba-50cfd376c181/reportviewer-constantly-refreshing?forum=vsreportcontrols](https://social.msdn.microsoft.com/Forums/en-US/deae558c-977f-484e-86ba-50cfd376c181/reportviewer-constantly-refreshing?forum=vsreportcontrols)

# java - 按时间（频率）过滤日志消息？

> ID：14501974
> 
> 赞同：2
> 
> 时间：2013-01-24T13:01:23.600
> 
> 标签：java, logging, filtering, logback

我有一些经常发生日志事件的程序。有什么方法可以按频率过滤该类中的事件吗？例如，每秒不超过 1 条消息或其他什么？

我专注于logback。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T16:38:43.860

这是一种方法，使用 a[`ConcurrentLinkedQueue`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html)和 a [`ScheduledExecutorService`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html)：

```
private Queue<LogMessage> messages = new ConcurrentLinkedQueue<LogMessage>();
private int messagesPerSecond = 3;
private ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();

private Runnable scheduledTask = new Runnable()
{
    @Override
    public void run()
    {
        LogMessage message = messages.poll();
        if(message != null) printMessage(message);
    }
};

// ...

ses.scheduleAtFixedRate(, 0, 1000/messagesPerSecond, TimeUnit.MILLISECONDS); 
```

而不是直接打印消息，而是将其放入队列中，计划任务将处理它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T16:27:08.930

您可以查看 logback 过滤器 [http://logback.qos.ch/manual/filters.html](http://logback.qos.ch/manual/filters.html)

具体来说，看看 DuplicateMessageFilter。如果这还不够，您可以尝试扩展它并实现类似的东西。

# java - Playframework 2.0 onError 获取请求正文

> ID：14501976
> 
> 赞同：4
> 
> 时间：2013-01-24T13:01:26.677
> 
> 标签：java, error-handling, request, playframework-2.0

我已经覆盖了该方法`public Result onError(RequestHeader rh, Throwable t)`，但是这个类`RequestHeader`似乎没有保存请求正文 - [API](http://www.playframework.org/documentation/api/2.0.4/java/play/mvc/Http.RequestHeader.html)

有人知道如何在这里获取请求正文吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T15:39:43.283

简单的解决方案 - 我覆盖了我可以使用的`public Action<?> onRequest(Request request, Method actionMethod)`保存位置。`RequestBody``onError`

:)

```
private RequestBody lastBody;

@Override
public Action<?> onRequest(Request request, Method actionMethod) {
    lastBody = request.body();
    return super.onRequest(request, actionMethod);
}

@Override
public Result onError(RequestHeader rh, Throwable t) {  
    //here i can get the body
    System.out.println(lastBody);

    return play.mvc.Results.internalServerError(errorPage.render());
} 
```

# android - 使用 Android ID 作为唯一 ID 的优缺点

> ID：14501978
> 
> 赞同：1
> 
> 时间：2013-01-24T13:01:35.347
> 
> 标签：android, security

我们检索使用的 Android ID `Secure.getString(getContentResolver(), Secure.ANDROID_ID);`

我想知道使用此 ID 作为唯一 ID 的优缺点是什么？在少数网站中，我读到它不可靠，因为当我们在我们的设备上进行出厂重置时 ID 可能会更改，或者 root 用户可以更改它。我的观点是，当我进行出厂重置时，Android ID 正在更改，但是当我获得 Rooted 用户权限时，我无法获得任何更改来源。有诸如 DeviceMod、Android ID 转换器之类的第三方应用程序，它们都不适合我

如果你们知道，请分享你的答案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:54:34.317

[您可以在此处](http://android-developers.blogspot.cz/2011/03/identifying-app-installations.html)和[此](https://stackoverflow.com/questions/2785485/is-there-a-unique-android-device-id)SO 问题中找到有关识别安装的良好概述。

在 Android 2.2 之前的设备上使用 ANDROID_ID 不可靠（可能为 null，...）。并且有些设备为所有设备设置了相同的 ANDROID_ID。AFAIK，这些设备有问题：Droid 2，三星 Galaxy Tab。

需要指出的另一件事是每个配置文件（Android 4.2 引入）都有自己的 ANDROID_ID（有关详细信息，请参阅[此](https://stackoverflow.com/questions/13408349/implications-of-android-multiple-user-support-new-in-4-2-for-server-side-data/13465373#13465373)内容）。但是根据[文档](http://developer.android.com/about/versions/android-4.2.html#MultipleUsers)，所有配置文件都应该有一个（他们已经报告了[错误](http://code.google.com/p/android/issues/detail?can=2&start=0&num=100&q=Build.serial&colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&groupby=&sort=&id=42523)）。

# ruby-on-rails - Ruby on Rails 中的虚拟属性

> ID：14501987
> 
> 赞同：0
> 
> 时间：2013-01-24T13:02:06.567
> 
> 标签：ruby-on-rails, ruby, rails-activerecord

我是Rails的新手。我不明白我在这里做错了什么。

我有以下模型 order.rb，具有虚拟属性值：

```
 class Order < ActiveRecord::Base
      ACTIONS = %w(buy sell)
      ORDER_TYPES = %w(LMT STP)
      TIFS = %w(DAY GTC OPG IOC)

      attr_accessible :action, :price, :quantity, :symbol, :tif, :order_type, :value

      validates :action, :symbol, :tif, :order_type, presence: true
      validates :price, numericality: { greater_than_or_equal_to: 0.0001 }
      validates :quantity, numericality: { only_integer: true, greater_than: 0 }
      validates :action, inclusion: ACTIONS
      validates :order_type, inclusion: ORDER_TYPES
      validates :tif, inclusion: TIFS

      def value
        price * quantity
      end

      def value= (val)
        self.quantity = val / self.price
      end
    end 
```

该模型在 Rails 控制台中运行良好，我可以在其中设置值并计算数量。

问题是当我尝试可视化表单时。app/views/orders/new.html.erb 呈现以下 _form.html.erb：

```
 <%= form_for @order, html: { :class => 'form-inline' } do |f| %>
      <% if @order.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@order.errors.count, "error") %> prohibited this order from being saved:</h2>

          <ul>
          <% @order.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>

      <fieldset>
      <legend><%= params[:action].capitalize %> Order</legend>

      <table class="table">
        <thead>
          <tr>
            <th><%= f.label :action %></th>
            <th><%= f.label :symbol %></th>
            <th><%= f.label :price %></th>
            <th><%= f.label :value %></th>
            <th><%= f.label :order_type %></th>
            <th><%= f.label :tif, "TIF" %></th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td><%= f.select :action, Order::ACTIONS, {}, class: 'input-small' %></td>
            <td><%= f.text_field :symbol, class: 'input-small' %></td>
            <td><%= f.text_field :price, class: 'input-small' %></td>
            <td><%= f.text_field :value, class: 'input-small' %></td>
            <td><%= f.select :order_type, Order::ORDER_TYPES, {}, class: 'input-small' %></td>
            <td><%= f.select :tif, Order::TIFS, {}, class: 'input-small' %></td>
          </tr>
        </tbody>
      </table>

      <%= f.submit "Submit", class: "btn btn-primary" %>
      <%= f.submit "Clear", class: "btn", type: "reset" %>

      </fieldset>
    <% end %> 
```

当我在浏览器中打开页面时出现错误，在 _form.html.erb 的行上引发了文本字段值：

NoMethodError in Orders#new undefined method `*' for nil:NilClass

我究竟做错了什么？我试图关注[http://railscasts.com/episodes/16-virtual-attributes](http://railscasts.com/episodes/16-virtual-attributes)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T13:11:32.167

对于新建的订单对象价格为零。所以你得到这个错误。

在计算价值之前，请确保您有价格和数量

```
 def value
    return unless price || quantity
    price * quantity
  end 
```

# matlab - 在 matlab 或 unix 中打开 .mat 文件 - 新用户

> ID：14501988
> 
> 赞同：0
> 
> 时间：2013-01-24T13:02:11.727
> 
> 标签：matlab, unix, matlab-load, mat-file

我正在浏览某人的数据分析文件（在旧版本的 matlab 中创建）并试图找出在 matlab 脚本中使用的特定 .mat 文件。

我正在尝试在 matlab 中加载 .mat 文件。我想看看里面有什么。

当我键入...

加载（'file.mat'）

文件加载，我看到工作区中出现了两个变量。工作帮助和工作。

当我尝试通过在 matlab 命令窗口中键入以下内容来打开作业时...

工作

回应是..

工作 =

```
[1x1 struct] 
```

这是否意味着 .mat 文件中只有一个 1 x 1 的结构？如果是这样，我到底怎么看它是什么？我什至很乐意在 unix 中加载它，但我也不知道该怎么做。任何帮助将不胜感激，因为我有一些这样的文件，我无法从中获取任何信息。

再次，一个新用户，所以请简单点。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:03:57.250

这意味着这`jobs`是一个单元格数组 {} 并且在这个单元格数组中是一个定义的结构

查看结构及其内容类型`jobs{1}`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T14:59:19.797

我认为您正在处理 SPM5 批处理文件。此变量是您可以在 SPM 的批处理编辑器中看到的树状结构的图像。你的工作由一个子项（统计）组成，它可能有各种子项（如 fMRI 模型规范、模型估计等）。

要在命令行上访问此结构，只需像尼克所说的那样进行：

*   每个级别都是一个单独的元胞数组，您可以在级别名称后使用 {#} 访问它。示例：*jobs{1}*显示有一个名为 stats 的子项。
*   结构中的子项用点访问。示例：*jobes{1}.stats{1}*向您显示 stats-entry 的子项。
*   请注意，每一层上可能有多个条目：统计模块可以（并且可能会）包含各种子项。您可以通过*jobs{1}.stat{2}*、*jobs{1}.stats{3}*等访问它们。

最后一层对您来说会很有趣：这里的结构是您可以在批处理编辑器中选择的选项的图像。

# android - 通过我的应用程序喜欢 youtube 的视频

> ID：14501996
> 
> 赞同：1
> 
> 时间：2013-01-24T13:02:37.810
> 
> 标签：android, youtube-api

我可以通过来自 youtube 的流媒体播放视频，但没有选择喜欢该视频。是否有谷歌提供的任何 api 或任何其他方式来喜欢视频。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T13:09:32.697

谷歌最近在 Android 上发布了 Youtube 的 API，尽管它仍处于试验阶段。您可以在此处查看：[https](https://developers.google.com/youtube/android/player/) ://developers.google.com/youtube/android/player/ （其中还包括一些示例）。

您也可以观看此视频：[http ://www.youtube.com/watch?v=fhWaJi1Hsfo](http://www.youtube.com/watch?v=fhWaJi1Hsfo)