# StackOverflow 问答 13248000-13248999

# java - jni getmethodid ()z 方法未找到

> ID：13248005
> 
> 赞同：1
> 
> 时间：2012-11-06T09:24:26.947
> 
> 标签：java, java-native-interface, jdk1.6

我在 applet 的 java 代码中使用 idxbio dll（用于图像质量检查的 identix biometrics api）。它在 jre1.4 上运行良好，我们正在将我们的客户端机器移动到 jre 6，并且小程序给出了找不到 idCreateToken 方法的错误。此方法返回一个布尔值。c代码由于某种原因无法找到它：

```
methodId=(*jniEnv)->GetMethodID(jniEnv,classIdQAImage, "isCreateToken", "()Z"); <--this line returns methodID as 0 however same code works for jre 1.4 
```

我尝试了不同的想法，例如使用在 jdk6 下编译的本机代码的新头文件重新编译我的 dll。但似乎没有任何效果，如果有人有任何可以提供帮助的想法。

非常感谢，法赫德

# monitoring - 如何在 ubuntu 的警报对话框中显示 nagios 警报？

> ID：13248011
> 
> 赞同：0
> 
> 时间：2012-11-06T09:24:55.993
> 
> 标签：monitoring, nagios

我想在远程 ubuntu 框的警报对话框中显示来自 nagios 的警报。是否有现成的应用程序/脚本可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T14:54:53.810

在您的 nagios 页面上打开一个浏览器窗口，而不是让这个窗口由`iconifying`它们运行。当收到警报时，javascript 会发送一个`alert`弹出图标化窗口以显示警报。

# c# - VisualTreeHelper 没有找到 DependencyObject 的子项，我怎样才能可靠地找到对象？

> ID：13248013
> 
> 赞同：0
> 
> 时间：2012-11-06T09:24:57.447
> 
> 标签：c#, wpf, user-controls, visualtreehelper, dependencyobject

我有一个名为`ZoneContainer`. 这有一个属性，它包含一个`ListBox`包含多个`ListItem`s 的属性。每个 ListItem 包含一个`DockPanel`.

我正在尝试使用以下代码来查找内部存在`ZoneContainer`但`childrenCount`每次都为 0 的孩子。

```
var parent = this as DependencyObject; // I can see that this is populated.

int childrenCount = VisualTreeHelper.GetChildrenCount(parent); 
```

是否有另一种方法可以在对象列表中找到特定的子对象？最终我试图找到 DockPanel，但它没有找到任何孩子，即使我知道他们在对象中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-09-02T14:04:12.220

这里的基本问题是并非所有孩子都是 VisualTree 的一部分[您](http://www.codeproject.com/Articles/21495/Understanding-the-Visual-Tree-and-Logical-Tree-in)可以在Josh Smith
的这篇文章中找到有关此问题的更多信息

这是我获得所有孩子的扩展

```
 public static IEnumerable<DependencyObject> getChilds(this DependencyObject parent)
    {
        if (parent == null) yield break;

        //use the logical tree for content / framework elements
        foreach (object obj in LogicalTreeHelper.GetChildren(parent))
        {
            var depObj = obj as DependencyObject;
            if (depObj != null)
                yield return depObj;
        }

        //use the visual tree for Visual / Visual3D elements
        if (parent is Visual || parent is Visual3D)
        {
            int count = VisualTreeHelper.GetChildrenCount(parent);
            for (int i = 0; i < count; i++)
            {
                yield return VisualTreeHelper.GetChild(parent, i);
            }
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T09:43:15.340

这是我潜伏在图书馆中的功能。我从来没有遇到过任何问题，但它确实有一个 GetChildrenCount() 调用，所以如果这对你不起作用，你可能会遇到更大的问题。

```
Public Shared Function FindVisualChild(Of T As DependencyObject)(ByVal element As DependencyObject) As T
    If element Is Nothing Then
        Return Nothing
    ElseIf TypeOf (element) Is T Then
        Return element
    Else
        Dim count = VisualTreeHelper.GetChildrenCount(element)
        For index As Integer = 0 To count - 1
            Dim child As DependencyObject = VisualTreeHelper.GetChild(element, index)
            If TypeOf (child) Is T Then
                Return child
            Else
                Dim grandchild As T = FindVisualChild(Of T)(child)
                If grandchild IsNot Nothing Then Return grandchild
            End If
        Next
    End If

    Return Nothing
End Function 
```

用法：x = FindVisualChild(Of DockPanel)(ParentObject)

是的，我知道它是VB。现在是你们中的一个 C# 人员必须转换代码一次的时候了！:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-26T09:25:33.407

我通过查询对象而不是爬取可视化树解决了这个问题。

```
var header = container.ListBox.Items.Cast<ListBoxItem>()
    .Select(item => (MyType) item.Content)
    .FirstOrDefault(myType => myType.dpHeader.Name == "whatever").dpHeader; 
```

# java - 将 java.sql.Timestamp 转换为 java.util.Calendar 而不会丢失精度

> ID：13248016
> 
> 赞同：32
> 
> 时间：2012-11-06T09:25:14.000
> 
> 标签：java, calendar, timestamp

我正在尝试从数据库中获取时间戳值，将它们转换为日历，然后将它们转换回时间戳，但它们会失去精度。

这是重现问题的代码

```
import java.sql.Timestamp;
import java.util.Calendar;

public class Test {
    public static void main(String[] args)
    {
        Timestamp timestamp = new Timestamp(112, 10, 5, 15, 39, 11, 801000000);
        System.out.println("BEFORE "+timestamp.toString());
        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(timestamp.getTime());
        timestamp = new Timestamp(calendar.getTimeInMillis());
        System.out.println("AFTER "+timestamp.toString());
    }
} 
```

这是转换的示例结果

```
BEFORE 2012-10-18 14:30:13.362001
AFTER 2012-10-18 14:30:13.362 
```

它失去了精确性。我该怎么做才能保持十进制值不变？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-11-06T10:06:58.200

您以**毫秒为单位**设置时间，但您的输入精度以**微秒**为单位，因此您当然会失去任何比毫秒更精细的精度。

日历不支持比毫秒更精细的粒度。没有变通方法。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-09-02T16:46:44.757

# java.time

在 Java 8 及更高版本中，我们现在有了一个解决方案：内置了新的[java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html)框架。由[JSR 310](https://jcp.org/en/jsr/detail?id=310)定义，受[Joda-Time启发，由](http://www.joda.org/joda-time/)[ThreeTen-Extra](http://www.threeten.org/threeten-extra/)项目扩展。

这个新框架具有[纳秒级](https://en.m.wikipedia.org/wiki/Nanosecond)分辨率。这足以处理旧的 java.util.Date 值、Joda-Time 值，它们都是[毫秒](https://en.m.wikipedia.org/wiki/Millisecond)。并且足以处理某些数据库（例如[Postgres ）使用的](http://www.postgresql.org)[微秒](https://en.m.wikipedia.org/wiki/Microsecond)。某些数据库（例如[H2](http://www.h2database.com/html/main.html) ）使用纳秒。所以 java.time 可以处理这一切，或者至少可以处理所有主流情况。唯一的例外是利基科学或工程情况。

![图片](../Images/fdd074fab8adacf2a071bb1b291caae0.png)

在 Java 8 中，旧类获得了与 java.time 相互转换的新方法。在[java.sql.Timestamp](http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html)上使用新的`toInstant`和`fromInstant`方法。该类[`Instant`](http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html)包含从纪元开始的纳秒计数，即 1970 UTC 的第一刻（基本上，有关详细信息，请参见类文档）。

从一个`Instant`你可以得到一个[`ZonedDateTime`](http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html)对象。

```
java.sql.Timestamp ts = myResultSet.getTimestamp( 1 );
Instant instant = ts.toInstant();
ZoneId zoneId = ZoneId.of( "America/Montreal" );
ZonedDateTime zdt = instant.atZone( zoneId ); 
```

# python - 在python中打开文件时'r +'和'a +'有什么区别？

> ID：13248020
> 
> 赞同：44
> 
> 时间：2012-11-06T09:25:43.063
> 
> 标签：python

我已经尝试打开文件`r+`并`a+`读取和写入，但 'r+' 和 'a+' 都将 str 附加到文件末尾。

`r+`那么，和有什么区别`a+`呢？

* * *

添加：

我找到了原因：

我已阅读文件对象并忘记了 seek(0) 将位置设置为开始

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2012-11-06T09:28:04.977

Python 打开文件的方式[几乎](http://docs.python.org/2/library/functions.html#open)[与在 C](http://www.kernel.org/doc/man-pages/online/pages/man3/fopen.3.html)中相同：

*   `r+` 开放阅读和写作。流位于文件的开头。

*   `a+` 打开以进行读取和附加（在文件末尾写入）。**如果文件不存在，则创建该文件。**读取的初始文件位置在文件的开头，但输出附加到文件的末尾（但在某些 Unix 系统中，不管当前的查找位置如何）。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-06T09:28:43.757

一个区别是`r+`如果文件不存在，它将不会被创建并且打开失败。但是，如果`a+`文件不存在，则会创建该文件。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-11-06T09:28:50.463

如果您在 中使用过它们`C`，那么它们几乎与 C 中的相同。

从功能的手册[页](http://www.manpagez.com/man/3/fopen/)`fopen()`： -

> *   **`r+`: -** 开放阅读和写作。流位于文件的开头。
>     
>     
> *   **`a+`: -** 开放阅读和写作。如果文件不存在，则创建该文件。流位于文件的末尾。对文件的后续写入将始终在文件的当前末尾结束，而与任何干预 fseek(3) 或类似内容无关。

# android - glDrawTexOES 错误代码 1281

> ID：13248021
> 
> 赞同：0
> 
> 时间：2012-11-06T09:25:45.967
> 
> 标签：android, iphone, opengl-es

在真正的 Android 设备上使用**glDrawTexiOES时出现错误代码 1281。**我没有收到此错误，并且在 bluestacks（模拟器等）上一切正常。这些是我的选择...：

```
if ( gl == null ){
            Log.e("OpenGL ERROR! ID:0", "gl objects is NULL");return -1;
        }

        int TexIDStorage[] = new int[1];
        lastBitmapsWidth   = bitmap.getWidth();
        lastBitmapsHeight  = bitmap.getHeight();
        // Generate ID for texture that will be initialized.
        gl.glGenTextures(1, TexIDStorage, 0);
        // Next 2 lines are binding generated ID in cache to set and initialize texture.
        gl.glBindTexture(GL10.GL_TEXTURE_2D, TexIDStorage[0]);
        // Next 7 lines. Decides what to do when image getting smaller or bigger.
        if(SmoothVision == true){   //GL_LINEAR  - slow but smooth vision
            gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MIN_FILTER, GL10.GL_LINEAR);   
            gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MAG_FILTER, GL10.GL_LINEAR);   
        }else{                      //GL_NEAREST - fast and sharp vision
            gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MIN_FILTER, GL10.GL_NEAREST);
            gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MAG_FILTER, GL10.GL_NEAREST);
        }
        // Next 2 lines. Decides what to do if images are smaller then height or width of drawing area: Repeat them.
        gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_WRAP_S, GL10.GL_CLAMP_TO_EDGE);//GL_CLAMP_TO_EDGE//GL10.GL_CLAMP_TO_EDGE
        gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_WRAP_T, GL10.GL_CLAMP_TO_EDGE);//GL_REPEAT
        // Next line for transparency
        gl.glEnable(GL10.GL_BLEND);
        // Initialize image to the binded cache ID.(Push bitmap into GPU)
        GLUtils.texImage2D(GL10.GL_TEXTURE_2D, 0, bitmap, 0);
        // Crop part of image so the device will draw only given pixels and not the whole image.
        ((GL11) gl).glTexParameteriv(GL10.GL_TEXTURE_2D, GL11Ext.GL_TEXTURE_CROP_RECT_OES,
                                     new int[] { 0, bitmap.getHeight(), bitmap.getWidth(), -bitmap.getHeight() }, 0);
        bitmap.recycle();
        gl.glFlush();

        if (gl.glGetError() == GL10.GL_NO_ERROR){
            varLoadedImageCount++;
            arrLastLoadedIDs[varLastLoadedIDc] = TexIDStorage[0];
            varLastLoadedIDc++;
        }
        else
            Log.e("OpenGL caching ERROR! ID:1!", "GL Texture Loading Failed   ("+ Num +"):" + gl.glGetError());

        // Return ID of image in cache so I can call it from cache when I needed.
        return TexIDStorage[0]; 
```

这是绘图功能...：

```
 gl.glBindTexture(GL10.GL_TEXTURE_2D, testIDs[5]);
    gl.glColor4f(1.0f, 1.0f, 1.0f, 1.0f);
    gl.glBlendFunc(GL10.GL_ONE, GL10.GL_ONE_MINUS_SRC_ALPHA);           //GL10.GL_ONE ... No border near resized images.
    ((GL11) gl).glTexParameteriv(GL10.GL_TEXTURE_2D, GL11Ext.GL_TEXTURE_CROP_RECT_OES, cropArr, 0);
    System.out.println("x:"+infArr[0]+"y:"+infArr[1]+"w:"+infArr[2]+"h:"+infArr[3]);
    ((GL11Ext) gl).glDrawTexiOES(infArr[0], infArr[1] + infArr[3], 0, infArr[2], -infArr[3]);
    System.out.println("GLDraw...:"+gl.glGetError()); 
```

* * *

问题： ((GL11Ext) gl).glDrawTexiOES(infArr[0], infArr[1] + infArr[3], 0, infArr[2], **-infArr[3]** );

* * *

我的图像是 2 的幂...我知道有些设备无法填补缺失的选项，有些可能可以。我认为我的设备有同样的问题。知道什么会导致这个吗？谢谢你的任何回应...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T14:10:47.807

问题是：我正在向 glRendering 函数发送负值......

# python - 在 PyOpenGL 中使纹理半透明

> ID：13248023
> 
> 赞同：1
> 
> 时间：2012-11-06T09:25:51.673
> 
> 标签：python, opengl, textures, pyopengl

在我的场景中，我在一个球体中有一个立方体。我想将 RGB 纹理应用于球体并使其半透明。我可以导入纹理，将其应用于球体并使其半透明，但我没有得到我想要的结果。

我的混合功能是`glBlendFunc(GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA)`

我的绘制方法如下：

```
def DrawGLScene():
    rotation1  = 60
    rotation2 = 60

    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT)
    glEnable(GL_BLEND)
    glLoadIdentity()
    glTranslatef(0.0, 0.0, -8.0)
    glRotatef(rotation1, 1.0, 0.0, 0.0)
    glRotatef(rotation2, 0.0, 1.0, 0.0)
    glColor4f(1.0,1.0,1.0,1.0)

    glutSolidCube(2);
    glEnable(GL_COLOR_MATERIAL)
    glEnable(GL_TEXTURE_2D)
    glBindTexture(GL_TEXTURE_2D,1)
    glColor4f(1.0,1.0,1.0,0.3)
    Q=gluNewQuadric()
    gluQuadricNormals(Q, GL_SMOOTH)
    gluQuadricTexture(Q, GL_TRUE)
    glTexGeni(GL_S, GL_TEXTURE_GEN_MODE, GL_SPHERE_MAP)
    glTexGeni(GL_T, GL_TEXTURE_GEN_MODE, GL_SPHERE_MAP)
    gluSphere(Q, 2.35, 32, 16)
    glDisable(GL_TEXTURE_2D)

    glutSwapBuffers() 
```

结果如下所示：

![看不到球体的背面和球体上的伪影](../Images/0154aec0b069194294ad712a46b28c49.png)

似乎存在深度问题，因为我只能在右下角看到球体的背面。然后我设置 glDepthFunc(GL_LESS) 来绘制立方体和 glDepthFunc(GL_ALWAYS) 来绘制球体，结果是：

![现在可以通过立方体看到球体的背面](../Images/f5b122b84fad322fe24ea916871f6ccc.png)

现在球体的背面通过立方体显示。

我已经为对象尝试了多种 glDepthFunc() 组合，但无济于事。问题与我如何处理深度、混合或其他问题有关吗？

编辑：

在第一个示例中使用`glEnable(GL_CULL_FACE)`and`glCullFace(GL_BACK)`给了我以下仍然不正确的信息，因为现在您根本看不到球体的背面。

![启用剔除](../Images/38e72bcfc92c9b6ead1f74dcd828d038.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:45:11.107

First, `glEnable(GL_CULL_FACE)`. Draw the sphere once with `glCullFace(GL_FRONT)`. Draw the cube (without culling). Lastly, draw the sphere again with `glCullFace(GL_BACK)`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T09:35:32.750

请记住，混合和深度测试不会混合在一起。在进行混合时，您始终必须手动对几何图形进行远近排序。通用顺序无关透明度在光栅化器中仍然是一个很大程度上未解决的问题。

* * *

**编辑： Op 确实已经设置了混合功能。**您必须设置混合功能。默认值`glBlendFunc(GL_ONE, GL_ZERO)`肯定不是您想要的。很可能您需要`glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA)`常规的 Alpha 通道纹理或`glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA)`预乘 Alpha 纹理。

# ruby - 从两个不同的线程同时访问 IO（串行端口）

> ID：13248031
> 
> 赞同：0
> 
> 时间：2012-11-06T09:26:23.363
> 
> 标签：ruby, multithreading, thread-safety

我正在编写一个从串行端口读取和写入的程序。有两个线程；一个线程每 500ms 对串口进行读写，另一个线程每 3s 对串口进行一次写入。

我遇到的问题是，因为 500ms 是 3s 的倍数，在 3s、6s、9s 时……500ms 循环无法从/向串行端口读取/写入。有没有办法检查串口是否在使用中？

```
 counter = 0
    switchRelays = DoEvery([3], 20) do
        sp.write "@00 WR #{relays[counter]}\r"
        counter = (counter + 1) % relays.length
    end

    # This thread samples every 500ms.
    sp.write "@00 AI 0\r"
    sleep 0.2
    sample500 = DoEvery([0.5], 1.0/0.0) do |timeStamp|
        if switchRelays.alive? == false
            csv.close
            puts 'Done'
            sample500.exit
        else
            sleep 0.1
            analogueStatus = sp.readline
            sp.write "@00 AI 0\r"
        end
    end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T09:35:07.510

这是您需要同步并发访问尝试的共享对象的经典示例。

例如，您可以使用[Mutex](http://www.ruby-doc.org/core-1.9.3/Mutex.html)。

```
require 'thread'
semaphore = Mutex.new

a = Thread.new {
  semaphore.synchronize {
    # write to the port
  }
}

b = Thread.new {
  semaphore.synchronize {
    # write to the port
  }
}) 
```

# c# - 当控制流到锁外的 lambda 函数时，锁会保持不变吗？

> ID：13248032
> 
> 赞同：4
> 
> 时间：2012-11-06T09:26:22.880
> 
> 标签：c#, .net, lambda, locking

假设我有以下代码：

```
void DoStuff( SomeClass withObject )
{
    Action helper = () =>
    {
        withObject.RunHelper();
    }
    lock( withObject ) {
       actuallyDoStuff( helper );
    }
}

void actuallyDoStuff( Action action )
{
    action();
} 
```

你看，`Action helper`代码在`lock`. 我希望这`Action`只是一个未命名的函数，因此调用它不会获得外部控制，`lock`并且`lock`会持续存在。

不过我不确定。

`lock`控制在内部时会被释放还是持续存在`Action helper`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T09:34:42.627

将`lock`继续举行。

这里没有“锁外”的代码；重要的不是代码是在哪里编写的或者它看起来像什么（即使 lambda 函数在最终类方法中，也绝对没有区别），而只是从它*被调用*的地方。由于您在持有锁的同时调用它，因此没有什么可说的了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T09:29:19.443

是的，它会的。

这会发生，因为标准控制流将在`actuallyDoStuff`方法执行上被阻塞，直到该执行结束。您作为参数传递的那个委托什么都不是，只是纯 MSIL 代码被注入（或没有，我真的不知道，但行为类似）到该方法中并在`lock`范围内成​​功运行。

因此，锁将持续存在，因为没有“外部”。

# r - 使用 R 生成泊松置信限

> ID：13248033
> 
> 赞同：0
> 
> 时间：2012-11-06T09:26:22.957
> 
> 标签：r, poisson

我已使用[此处](http://www.nbdpn.org/docs/Ch_8_Statistics6-04.pdf)的参考资料（PDF 的第 19 页）来计算直接标准化发病率的置信区间。引用的章节`Table of 95% Confidence Limits for the Number of Cases, for 1-29 Cases, Based on the Poisson Distribution`，附在此处：

![在此处输入图像描述](../Images/8ed4f17e021284285a48a88338015e12.png)

我尝试使用包中的`ci.poisson`函数生成数字`epicalc`：

```
> ci.poisson(0,29)
 events person.time incidence se exact.lower95ci exact.upper95ci
      0          29         0  0               0       0.1272069 
```

输出与 PDF 的表格不同，应该是`0.0000`- `3.6889`。我想知道我是否使用了错误的函数来生成数字。如何使用 R 构造该表？谢谢。

# javascript - 添加链接到已经设置的图像？

> ID：13248038
> 
> 赞同：1
> 
> 时间：2012-11-06T09:26:38.067
> 
> 标签：javascript

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T09:33:23.767

You just need to specify the `URL` you want to the user to be directed to in the `HREF` tag of the `A`nchor element. Like this:

```
<li><a class="thumb" href="http://www.google.com" ><img src="img/sliderImg1.jpg" /></a></li>
<li><a class="thumb" href="http://www.facebook.com"><img src="img/sliderImg2.jpg" /> </a></li>
<li><a class="thumb" href="http://www.yahoo.com" ><img src="img/sliderImg3.jpg" /></a></li> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:34:10.553

Put your page url in href, like these examples below...

```
<li><a class="thumb"  href="www.yoururl.com/1" ><img src="img/sliderImg1.jpg" /></a></li>
<li><a class="thumb"  href="url/url2.html" ><img src="img/sliderImg2.jpg" /> </a></li>
<li><a class="thumb"  href="folder/image.jpg" ><img src="img/sliderImg3.jpg" /></a></li> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T09:29:57.027

更改`<a class="thumb" href="img/index1.jpg">`以使 href 属性包含您希望访问者访问的页面的 URL。

在其他条件相同的情况下，这就是您需要做的一切。

由于您提到您正在使用滑块，因此您的滑块脚本可能会干扰。虽然我们没有它的代码，所以不能肯定地说。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T09:30:20.060

它应该是

```
 <a href="YourURL"><img src="image_source"/></a> 
```

查看 w3schools.com 了解更多信息和 HTML 上的“自己尝试”页面。

# php - 阻止javascript hack脚本执行

> ID：13248039
> 
> 赞同：1
> 
> 时间：2012-11-06T09:26:41.923
> 
> 标签：php, javascript, firefox, macros

我有一个注册表格，可以正常注册。作为防止滥用/僵尸程序的一部分，如果您尝试在最后一次的 3 小时内从同一 IP 地址注册另一个帐户，注册页面将显示反脚本检查。

但是，我设法获得了一个脚本，该脚本正在设法绕过此检查。该脚本可以在 Windows 上使用 Firefox 的宏扩展来运行。它使用 email.txt 作为电子邮件地址的来源。

```
email="email.txt"
akun=new Array()
ID=new Array()

for(ns=1;ns<=2000;ns++){
iimPlay("CODE:"
+"\n"+"CMDLINE !DATASOURCE "+email
+"\n"+"SET !DATASOURCE_COLUMNS 1"
+"\n"+"SET !LOOP "+(ns)
+"\n"+"SET !EXTRACT {{!COL1}}")
akun[ns]=iimGetLastExtract();if(akun[ns]==""||akun[ns]=="undefined"||akun[ns]=="#eanf#")
{break}
ID[ns]=akun[ns].replace("@yahoo.com","")

i=iimPlay("CODE:"
+"\n"+"URL GOTO=http://www.website.com/signup"
+"\n"+"TAG POS=1 TYPE=INPUT:TEXT FORM=NAME:NoFormName ATTR=NAME:email CONTENT="+akun[ns]
+"\n"+"TAG POS=1 TYPE=INPUT:TEXT FORM=NAME:NoFormName ATTR=NAME:confirm CONTENT="+akun[ns]
+"\n"+"TAG POS=1 TYPE=INPUT:TEXT FORM=NAME:NoFormName ATTR=NAME:username CONTENT="+ID[ns]
+"\n"+"SET !ENCRYPTION NO"
+"\n"+"TAG POS=1 TYPE=INPUT:PASSWORD FORM=NAME:NoFormName ATTR=NAME:password CONTENT=satan1234"
+"\n"+"TAG POS=1 TYPE=INPUT:PASSWORD FORM=NAME:NoFormName ATTR=NAME:confirm_password CONTENT=satan1234"
+"\n"+"TAG POS=1 TYPE=INPUT:TEXT FORM=NAME:NoFormName ATTR=NAME:referral CONTENT=52799"
+"\n"+"TAG POS=1 TYPE=INPUT:CHECKBOX FORM=NAME:NoFormName ATTR=NAME:tos CONTENT=YES"
+"\n"+"pause"
+"\n"+"TAG POS=1 TYPE=INPUT:SUBMIT FORM=ID:street-register ATTR=NAME:register&&VALUE:Play<SP>For<SP>Free<SP>→"
+"\n"+"TAG POS=1 TYPE=A ATTR=TXT:Logout"
)
if(i!=1){break};
iimDisplay (ns)
} 
```

谁能提醒我如何阻止这个脚本无休止地工作？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:44:50.053

Since all request do originate from the same IP address, please doa server-side check with your logic. Somewhere you should store what requests have already been placed. Then check the server variable "remote address" against these values. Have they already placed a request the last 3 hours, then reject it and don't process it any further.

Don't rely on client-side scripts. And also don't rely on any values passed on by the client's request, as they can all be manipulated.

# python - 从不同目录访问模块

> ID：13248040
> 
> 赞同：1
> 
> 时间：2012-11-06T09:26:44.277
> 
> 标签：python

我有以下文件结构

```
python/
    A/
        a.py
        b.py
    B/
        c.py 
```

所以文件夹python下有两个文件夹A和B，我想从a.py和b.py导入模块 - 将它们导入c.py（B文件夹）

我写了一个`__init__.py`with`__all__=['modulename']`并将其放在文件夹中`B`。现在在我的使用语句中`c.py`导入模块。`import`然而，这似乎不起作用。关于在上述情况下如何实现模块导入的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T09:43:19.673

1.  在您的环境中添加`python`to的完整路径。`PYTHONPATH`
2.  在**.** `__init__.py` _ `A`_

然后在`c.py`：

```
from A.a import something
from A.b import something

# or

import A
A.a.something
A.b.something 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T09:29:05.817

在文件夹 A 中添加一个**空** `__init__.py`文件，然后像往常一样导入模块：

```
from A import a 
```

或者

```
from A.a import * 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T09:57:16.197

如果您`python c.py`从“B”文件夹运行，那么您应该添加`__init__.py`到您的“B”目录并`python -m B.c`在“python”文件夹中使用并执行您的导入之类的操作`import A.b`。

# popup - JavaFX 中的弹出类使用

> ID：13248048
> 
> 赞同：1
> 
> 时间：2012-11-06T09:27:28.770
> 
> 标签：popup, javafx-2

如何使用JavaFX 2.0`PopupWindow`或`Popup`从 JavaFX 2.0 显示弹出窗口？我找不到任何教程或示例。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T10:14:28.307

```
public class test extends Application{

    Stage primaryStage;

    @Override
    public void start(final Stage stage) throws Exception {

        primaryStage = stage;

        Button showPopUp = new Button("Pop Up");
        final TextField name = new TextField();

        VBox vBox = new VBox();
        vBox.getChildren().add(name);
        vBox.getChildren().add(showPopUp);

        final Label hello = new Label();
        final TextField name2 = new TextField();
        Button ok = new Button("ok");
        Button cencel = new Button("cancel");

        VBox popUpVBox = new VBox();
        popUpVBox.getChildren().add(hello);
        popUpVBox.getChildren().add(name2);
        popUpVBox.getChildren().add(ok);
        popUpVBox.getChildren().add(cencel);

        final Popup popup = new Popup();
        popup.setAutoFix(false);
        popup.setHideOnEscape(true);
        popup.getContent().addAll(popUpVBox);
        popup.setX(250);
        popup.setY(175);

        ok.setOnAction(new EventHandler<ActionEvent>() {

            @Override
            public void handle(ActionEvent t) {
                 name.setText(name2.getText());
            }
        });

        cencel.setOnAction(new EventHandler<ActionEvent>() {

            @Override
            public void handle(ActionEvent t) {
                popup.hide();
            }
        });

        showPopUp.setOnAction(new EventHandler<ActionEvent>() {

            @Override
            public void handle(ActionEvent t) {
                 if (popup.isShowing()) {
                    popup.hide();
                } else {
                     hello.setText("hello.."+name.getText());
                    popup.show(stage);
                }
            }
        });

        Scene scene = new Scene(vBox);

        primaryStage.setScene(scene);
        primaryStage.setWidth(200);
        primaryStage.setHeight(200);
        primaryStage.show();
    }

} 
```

# iphone - 从对象传递数据后，TableView 未重新加载

> ID：13248057
> 
> 赞同：0
> 
> 时间：2012-11-06T09:27:51.063
> 
> 标签：iphone, ios, uitableview, uiactivityindicatorview

我正在开发 Iphone 应用程序。我使用`NSObject`文件进行所有`webservices`解析`Asynchronously`，还使用协议方法将`webservice`结果（通常`NSMutableArray`）传递给`ViewController`.

然后我将结果显示在`tableview`. 但我的问题是表没有重新加载，因为在调用协议方法后，控制器返回`NSObject`文件并且表没有重新加载。

我也试着用方法`-(void)tableReload`说这两种说法

```
[tblview reloadData];
[spinner stopAnimating]; 
```

在协议中。

我在调用`tableReload`协议第一个方法之后调用方法。

这是我的代码：

```
-(void)requestFinished:(ASIHTTPRequest *)request
{

//My parsed data is stored in array
id<EventRepository>aReposit;

    aReposit=(id<EventRepository>)eventLVC;
    [aReposit successResponse:array];
    [aReposit tableReload];

}

-(NSString *)successResponse:(NSMutableArray *)sresponse

{

//This is my first delegate method in protocol
//storing sresponse array value into another array here and using this array in tableview methods

}

-(void)tableReload

{

    NSLog(@"This is TableReload Delegate Method in ListViewController");
    self.tblView.delegate=self;
    self.tblView.dataSource=self;
    [self.tblView reloadData];
    [self.spinner stopAnimating];

} 
```

调用上述两种方法后，控制返回到对象文件，活动指示器没有停止，表也没有重新加载。

请任何机构提出解决此问题的想法或建议。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T09:51:02.343

在委托函数处停止微调器。

```
 -(void)tableReload
    {
        [self.spinner startAnimating];
        self.tblView.delegate=self;
        self.tblView.dataSource=self;
        [self.tblView reloadData];
    }

 -(void) tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath
    {
        if([indexPath row] == ((NSIndexPath*)[[tableView indexPathsForVisibleRows] lastObject]).row){
            //table view loaded succesfully
            [self.spinner stopAnimating];
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:36:39.693

首先->您的 tableReload 方法是否被调用？

如果是，

关于 TableViewData - 检查您在表格上显示的数据。其内容是否已更改。尝试使用 NSLog。

关于 Spinner - 您的 IBOutlet 连接是否正确连接。

如果一切都好，请尝试在主线程上调用 tableReload。

# html - Html5 Three.js CanvasRenderer 在 IE9 上的性能不佳

> ID：13248061
> 
> 赞同：3
> 
> 时间：2012-11-06T09:27:59.857
> 
> 标签：html, firefox, canvas, internet-explorer-9, three.js

我在 ie9 和 Mozilla 上运行了以下示例，并启用了硬件加速。

[http://mrdoob.github.com/three.js/examples/canvas_geometry_earth.html](http://mrdoob.github.com/three.js/examples/canvas_geometry_earth.html)

我在 IE9 上获得 15 FPS，在 Mozilla 上获得 70 FPS。此示例不使用 WebGLRenerer，因此它在两个浏览器上应该具有相同的性能。那么有什么区别呢？

我已经验证在两个浏览器上都启用了硬件加速。

# android - 创建 SO 用户指定的启动画面时出错

> ID：13248063
> 
> 赞同：2
> 
> 时间：2012-11-06T09:28:10.167
> 
> 标签：android, splash-screen

我按照stackoverflow用户的说法创建了启动画面，但仍然无法获得android应用程序的启动画面，我的代码是

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_splash_screen);

 // thread for displaying the SplashScreen
    Thread splashTread = new Thread() {
        @Override
        public void run() {
            try {
                int waited = 0;
                boolean active = false;
                while(active && (waited < 1000)) {
                    sleep(100);
                    if(active) {
                        waited += 100;
                    }
                }
            } catch(InterruptedException e) {
                // do nothing
            } finally {
                startActivity(new Intent(SplashScreenActivity.this,MainActivity.class));
                finish();
                //startActivity(new Intent("com.splash.com.MyApps"));
                //startActivity( new Intent(getApplicationContext(), Myapps.class));
            }
        }
    };
    splashTread.start();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T10:04:09.060

只需复制此文件并根据您的文件修改进行更改。

```
public class Splash extends Activity {

    private final int SPLASH_DISPLAY_LENGHT = 2000;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        setContentView(R.layout.splashscreen);

        /* New Handler to start the Menu-Activity 
         * and close this Splash-Screen after some seconds.*/
        new Handler().postDelayed(new Runnable(){
            @Override
            public void run() {
                /* Create an Intent that will start the Menu-Activity. */
                Intent mainIntent = new Intent(Splash.this,MainActivity.class);
                Splash.this.startActivity(mainIntent);
                Splash.this.finish();
            }
        }, SPLASH_DISPLAY_LENGHT);
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T10:05:57.707

做这个...

```
@Override
    protected void onCreate(Bundle savedInstanceState) 
    {   
             mythread thread = new  mythread();
             thread.start();
        }
class mythread extends Thread
    {

        @Override
        public void run()
        {

            super.run();

            try
            {
                Thread.sleep(3000);

                    Intent i = new Intent(Splash_Screen.this,ArboristActivity.class);
                    finish();
                    startActivity(i);

            }
            catch (Exception e) 
            {
                Log.v("log",e.toString());
            }   
        }//End Run

    } 
```

并将 splashScreenActivity 作为启动器活动放在清单文件中......就像这样......

```
<activity
            android:name="com.app.Login.Splash_Screen"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />

            </intent-filter>

        </activity> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T09:32:39.297

Because you are initializing your `active` flag **inside** the `run` method with `false`, it will never enter in the while..it should be like..

```
boolean active = true;

public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_splash_screen);

 // thread for displaying the SplashScreen
Thread splashTread = new Thread() {
    @Override
    public void run() {
        try {
            int waited = 0;

            while(active && (waited < 1000)) {
                sleep(100);
                if(active) {
                    waited += 100;
                }
            }
        } catch(InterruptedException e) {
            // do nothing
        } finally {
            startActivity(new Intent(SplashScreenActivity.this,MainActivity.class));
            finish();
            //startActivity(new Intent("com.splash.com.MyApps"));
            //startActivity( new Intent(getApplicationContext(), Myapps.class));
        }
    }
};
splashTread.start();
} 
```

# java - 如何使用 Spring 重新加载属性？

> ID：13248066
> 
> 赞同：15
> 
> 时间：2012-11-06T09:28:33.913
> 
> 标签：java, spring, properties

我在 Spring 3 中使用属性文件。当 Spring 初始化其上下文时，它会加载属性文件并将其放入带有 @Value 注释的所有 bean 中。

我希望有可能更新文件中的某些属性，并在服务器上公开一个 JMX，它将新属性重新加载到 Spring - 无需重新启动服务器并重新加载其上下文。

我可以通过使用一些**Spring 方法**重新加载属性并将它们填充到所有 bean 来实现这一点，还是我应该自己编写类似的东西？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-06T09:43:13.740

我建议用Apache [Commons Configuration](http://commons.apache.org/configuration)项目中`java.util.Properties`的 a替换。它支持自动重新加载，通过检测文件何时更改或通过 JMX 触发。`PropertiesConfiguration`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-06T09:52:39.417

我认为没有通用的方法可以做到这一点。最“干净”的方法是关闭 Spring 上下文并从头开始构建它。例如，考虑使用 DBCP 连接池并更新它的数据库连接 URL。这意味着必须正确关闭池，然后必须创建新对象，然后还必须更新对池的所有引用。现在，一些 bean 可能会从该池中获取连接，并且更新池配置意味着您需要以某种方式重新请求连接。因此，bean 可能需要知道如何做到这一点，这并不常见。

我建议使用配置和更新事件创建单独的 bean，并将该 bean 作为您需要了解配置更改的所有 bean 的依赖项。然后，您可以使用 Apache Commons Configuration 来监视文件更改并传播配置更新。

也许使用 JMS 很好（如果您以后要分发您的应用程序）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-07T08:21:51.177

是的，您可以使用 Spring JMX 方式执行此操作。将这些 bean 添加到您的 spring 配置文件中。创建一个单独的方法来读取属性文件。在此示例中，我使用 callThisAgain() 方法。

```
<bean id="exporter" class="org.springframework.jmx.export.MBeanExporter">
    <property name="beans">
        <map>
            <entry key="your.package.bean:name=sampleBeanService" value-ref="sampleService"/>
        </map>
    </property>
    <property name="assembler">
        <bean class="org.springframework.jmx.export.assembler.MethodNameBasedMBeanInfoAssembler">
            <property name="managedMethods">
                <value>
                    callThisAgain <!--Simply declare the method name here (only the name) -->
                </value>
            </property>
        </bean>
    </property>
</bean>

<bean class="org.springframework.jmx.support.ConnectorServerFactoryBean" depends-on="rmiRegistry">
    <property name="objectName" value="connector:name=rmi"/>
    <property name="serviceUrl" value="service:jmx:rmi://127.0.0.1/jndi/rmi://127.0.0.1:11000/sample"/>
</bean>

<bean id="rmiRegistry" class="org.springframework.remoting.rmi.RmiRegistryFactoryBean">
    <property name="port" value="11000"/>
</bean> 
```

之后，您可以使用 jconsole 重新加载您的方法，而无需重新启动服务器。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-08-21T14:42:29.240

> **Apache 为我们提供了使用可重新加载属性文件的实用程序。**

```
<bean id="propertiesReloadingStrategy" class="org.apache.commons.configuration.reloading.FileChangedReloadingStrategy">
    <property name="refreshDelay" value="30000" /> <!-- 30 seconds -->
</bean>

<bean id="reloadableProperties" class="org.apache.commons.configuration.PropertiesConfiguration">
    <constructor-arg value="file:/web/${weblogic.Domain}/${weblogic.Name}/${app.Name}/reloadable_cfg/Reloadable.properties"/>
    <property name="reloadingStrategy" ref="propertiesReloadingStrategy"/>
</bean> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-02-15T11:18:53.940

使用 spring 常见的 apache 如下：

```
@Component
public class ApplicationProperties {
    private PropertiesConfiguration configuration;

    @PostConstruct
    private void init() {
        try {
            String filePath = "/opt/files/myproperties.properties";
            System.out.println("Loading the properties file: " + filePath);
            configuration = new PropertiesConfiguration(filePath);

            //Create new FileChangedReloadingStrategy to reload the properties file based on the given time interval
            FileChangedReloadingStrategy fileChangedReloadingStrategy = new FileChangedReloadingStrategy();
           fileChangedReloadingStrategy.setRefreshDelay(60*1000);
            configuration.setReloadingStrategy(fileChangedReloadingStrategy);
        } catch (ConfigurationException e) {
            e.printStackTrace();
        }
    }

    public String getProperty(String key) {
        return (String) configuration.getProperty(key);
    }

    public void setProperty(String key, Object value) {
        configuration.setProperty(key, value);
    }

    public void save() {
        try {
            configuration.save();
        } catch (ConfigurationException e) {
            e.printStackTrace();
        }
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-10-04T14:28:58.683

虽然这里有些人建议使用外部方式来使用属性（Spring 自己使用属性文件的方式之外）。这个答案正是您正在寻找的[https://stackoverflow.com/a/52648630/39998](https://stackoverflow.com/a/52648630/39998) Spring Boot 和 Java EE 中的热重载属性。

# java - 内存泄漏错误 Android

> ID：13248070
> 
> 赞同：-1
> 
> 时间：2012-11-06T09:28:44.977
> 
> 标签：java, android, memory-leaks, out-of-memory

```
InputSream backgroundBitmap;
//backgroundBitmap is initialized from asset image.png
immutableBitmap = BitmapFactory.decodeStream(backgroundBitmap); 
```

收到此错误：

java.lang.OutOfMemoryError 在 android.graphics.BitmapFactory.nativeDecodeAsset（本机方法）

帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:30:54.870

试试这个..来自资产的文件

```
File f = new File("file:///android_assetassets/mydemo.png")

public static Bitmap decodeFile(File f,int WIDTH,int HIGHT){
        try {
            //Decode image size
            BitmapFactory.Options o = new BitmapFactory.Options();
            o.inJustDecodeBounds = true;
            BitmapFactory.decodeStream(new FileInputStream(f),null,o);

            //The new size we want to scale to
            final int REQUIRED_WIDTH=WIDTH;
            final int REQUIRED_HIGHT=HIGHT;
            //Find the correct scale value. It should be the power of 2.
            int scale=1;
            while(o.outWidth/scale/2>=REQUIRED_WIDTH && o.outHeight/scale/2>=REQUIRED_HIGHT)
                scale*=2;

            //Decode with inSampleSize
            BitmapFactory.Options o2 = new BitmapFactory.Options();
            o2.inSampleSize=scale;
            return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
        }
            catch (FileNotFoundException e) {}
        return null;
    } 
```

此函数将在您传递宽度和高度时缩放位图

# iphone - 如何在 iphone 中加载表格视图后停止 uiactivityindicator 动画

> ID：13248073
> 
> 赞同：0
> 
> 时间：2012-11-06T09:28:50.157
> 
> 标签：iphone, objective-c, ios

我创建了 UITableview，并在 UITableview 上添加了一个活动指示器作为子视图。我想要的是该活动指示器在表格加载之前动画片刻。表加载后，活动指示器应消失。我正在使用这些方法：

```
[spinner startAnimating];
[spinner stopAnimating]; 
```

问题是在 iPhone 上加载表格之前活动指示器没有动画。但是，如果我删除此方法：

```
[spinner stopAnimating]; 
```

然后在加载表格后活动指示器保持动画状态。

告诉我在 Iphone 上加载表格之前我对动画活动做了什么

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T09:35:30.127

把你`[spinner stopAnimating];`放在返回的最后一个。

LastRow 可以是两者`[tableView numberOfRowsInSection: 0] - 1`或`((NSIndexPath*)[[tableView indexPathsForVisibleRows] lastObject]).row.`所以代码将是：

```
-(void) tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath
{
    if([indexPath row] == ((NSIndexPath*)[[tableView indexPathsForVisibleRows] lastObject]).row){
        //end of loading
        [spinner stopAnimating];
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:31:24.440

```
put your [spinner stopAnimating]; in cell for row at index path before returning cell. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T09:33:14.220

开始

```
app = [UIApplication sharedApplication];
    app.networkActivityIndicatorVisible = YES; 
```

停止

```
app = [UIApplication sharedApplication];
    app.networkActivityIndicatorVisible = NO; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T09:37:19.847

在 viewWillAppear 中启动您的活动指示器

```
[activityIndicator startAnimating]; 
```

然后像这样在 viewDidAppear 中停止它

```
[activityIndicator performSelector:@selector(stopAnimating) withObject:nil afterDelay:1]; 
```

希望有帮助！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-06T09:37:45.910

添加**viewDidLoad {}**方法并写入您最后调用`[spinner startAnimating];`的方法！！！！！**`[spinner stopAnimating];`**

 *** * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-06T09:40:48.003

问题的发生是由于加载表格时发生的主线程阻塞，因此活动动画排队等待加载表格后执行。最佳做法是在后台线程中对其进行动画处理..

```
[activityIndicator performSelectorInBackground:@selector(startAnimating) withObject:self]; 
```

停止使用下面的代码

```
[activityIndicator performSelectorInBackground:@selector(stopAnimating) withObject:self]; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-06T09:51:55.737

试试这个。

```
-(void)viewDidLoad
{
    [super viewDidLoad];

//... all your previous charge.

UIActivityIndicatorView *activity = [[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleWhite];

activity.hidesWhenStopped = YES;

[yourTable addSubview:activity];

[activity startAnimating];

[activity performSelector:@selector(stopAnimating) withObject:nil afterDelay:0.5];

            } 
```**

# c# - 错误的下载名称aspx

> ID：13248075
> 
> 赞同：1
> 
> 时间：2012-11-06T09:28:57.890
> 
> 标签：c#, webclient

我正在使用这种方法从我的 aspx 页面上的某个地方下载一个文件，名为：downloader.aspx

```
byte[] virtualPath = client.DownloadData(link/file.doc);
Response.BinaryWrite(virtualPath); 
```

但是，当客户端显示下载时它告诉我：“你想`downloader.doc`从 mywebsite.com 下载吗？它不显示原始名称。

有没有办法使用原始名称（`file.doc`）而不是 aspx 页面的名称？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T09:36:30.920

使用响应头`Content-Disposition`设置文件名。

```
byte[] virtualPath = client.DownloadData(link/file.doc);
Response.AppendHeader("Content-Disposition", "attachment;filename=file.doc");
Response.BinaryWrite(virtualPath); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T09:36:33.667

您可以使用 http 响应标头字段内容配置。请参阅[https://stackoverflow.com/tags/content-disposition/info](https://stackoverflow.com/tags/content-disposition/info)

尝试以下

```
byte[] virtualPath = client.DownloadData(link/file.doc);
Response.ContentType = "application/octet-stream";
Response.AppendHeader("Content-Disposition", "attachment; filename=" +"file.doc");
Response.BinaryWrite(virtualPath);
Response.End(); 
```

# internet-explorer-10 - 浏览器的平台预览版

> ID：13248077
> 
> 赞同：0
> 
> 时间：2012-11-06T09:29:01.400
> 
> 标签：internet-explorer-10

什么是浏览器的平台预览版。我看到 IE10 for Win7 可以作为平台预览版使用，那么它是**浏览器的整个包**还是**只是该版本可用功能的预览**？

请建议..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-12T22:40:43.577

“平台预览”在微软的演讲中意为“测试版”。嗯，不完全是，但你可以这样想。

您可以在有关[IE10](http://en.wikipedia.org/wiki/Internet_Explorer_10)的 Wikipedia 文章中看到，其中列出了**平台**/**开发人员**/**消费者**/**发布**预览，这些预览基本上只是 Mozilla 所谓的**nighly** / **alpha** / **beta**版本的花哨名称。

IE10 的 Windows 7 预览版似乎将于明天到来（新闻嗡嗡声）。

# java - 更改在netbeans中设计的jframe表单的布局

> ID：13248078
> 
> 赞同：0
> 
> 时间：2012-11-06T09:29:04.067
> 
> 标签：java, swing, netbeans, awt, null-layout-manager

我使用 netbeans IDE 使用绝对布局设计了一个 JFrame，但是当我在其他 Windows 系统上运行我的应用程序时，布局会发生变化。有没有办法在不同系统之间提供一致的布局？

# dojo - dojo 的私有变量

> ID：13248081
> 
> 赞同：3
> 
> 时间：2012-11-06T09:29:12.440
> 
> 标签：dojo

有没有在dojo中定义真正的私有变量的好方法？

在 dojo 1.7/1.8 中，我找到了两种定义私有变量的方法，但它们都是静态私有的（由类的所有实例共享）

1.使用匿名立即函数：

```
define([
'dojo/_base/declare'], function(declare) {  
'use strict';    

return declare('test.Class2', null, (function(){
    var a = 1;
    return {
        constructor: function(){
            console.log('constructor');
        },
        geta: function(){
            return a;
        },
        seta: function(v){
            a = v;
        }
    };
})()); 
```

});

2.在模块定义中定义私有变量。

```
define([
'dojo/_base/declare'], function(declare) {  
'use strict';    
var a = 1;
return declare('test.Class1', null, {
    constructor: function(){
        console.log('constructor');
    },
    geta: function(){
        return a;
    },
    seta: function(v){
        a = v;
    }
}); 
```

});

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T15:37:40.887

假设我正确理解了这个问题，我认为没有任何好的方法。

根据[Dojo Style Guid](http://dojotoolkit.org/reference-guide/1.8/developer/styleguide.html)，私有变量和方法应该用前面的下划线标记（例如**_myPrivateProperty**或**_myPrivateMethod()**）。但是，这只是惯例，并没有将它们设为私有；他们仍然可以在课堂外访问。

正如您已经说过的那样，您可以创建私有静态变量。另一种方法是在类方法中创建变量，这些变量只能在大括号的范围内可见（正如[Paul Kunze](https://stackoverflow.com/a/13248268/1741370)在他的回答中已经建议的那样）。然后，您可以在函数参数中将它们传递给类。但是，我猜这不是您想要的。

使用静态对象和访问它自己的对象属性的每个类实例可能会做一些聪明的事情。然而，这不会是不寻常和复杂的。我建议坚持使用下划线属性来标记您认为私有的变量的标准。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-08T21:29:28.710

dojo 文档有一个示例，它在返回的主声明之外声明了一个私有类。

```
define(["dojo/_base/declare"], function(declare){
  var _MyPrivateItem = declare(null, {
    someProperty: null
  });

  return declare(null, {
    item: null,

    constructor: function(){
      this.item = new _MyPRivateItem();
    }
  });
}); 
```

[http://dojotoolkit.org/reference-guide/1.9/dojo/_base/declare.html#dojo-base-declare](http://dojotoolkit.org/reference-guide/1.9/dojo/_base/declare.html#dojo-base-declare)

私人课程可能不是最好的解决方案，但至少它提供了真正的隐私。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T09:41:19.820

在构造函数中声明所需的私有成员怎么样？

```
 [...]
    return declare('test.Class1', null, {
       constructor: function(){
          console.log('constructor');
          var = privVar1 = 'foo';  // this is how its normally done in JavaScript
       },

       [..]

       //so called privileged Method is "public" but can access the "private var"
       modPrivVar1: function(){
          privVar1 = 'bar';
       }
    }); 
```

我不确定这是否有效，因为我没有使用 dojo 定义我的类。让我知道它是否有效。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-10T22:41:12.257

您可以包含私有变量......但一切都必须在构造函数中。

```
[...]
return declare('test.Class1', null, {
   constructor: function(){
      console.log('constructor');
      var privVar1 = 'foo';  // this is how its normally done in JavaScript

      this.modPrivVar1 = function(){
         privVar1 = 'bar';
      }
   },
}); 
```

这种方法的缺点是您需要明确执行任何继承，将“declare”函数的值限制为使用 dojo 加载程序。

# sql - groovy - 带有映射的 Sql eachRow 命名参数

> ID：13248084
> 
> 赞同：2
> 
> 时间：2012-11-06T09:29:21.607
> 
> 标签：sql, select, groovy, named-parameters

我正在尝试像这样执行选择：

```
def queries = [
    [
        paramQuey: "",
        mainQuery: "SELECT * FROM SOME_TABLE"
    ],
    [
        paramQuey: "SELECT SOME_COLUMN AS COUNT FROM A_TABLE WHERE SOMETHING=3",
        mainQuery: "SELECT * FROM OTHER_TABLE WHERE ROWNUM<:COUNT"
    ]
]

queries.each {
    def params = [:]
    if(!it.paramQuery.isEmpty()) {
        params = sql.firstRow(it.paramQuery)
    }
    sql.eachRow(mainQuery, params) { //<--here's my problem
        //do something
    }
} 
```

但是，程序抛出

```
Exception in thread "main" groovy.lang.MissingMethodException: No signature of method: groovy.sql.Sql.eachRow() is applicable for argument types: (java.lang.String, java.util.LinkedHashMap, MyClass$_execute_closure4) values: [SELECT * FROM SOME_TABLE, [:], MyClass$_execute_closure4@b3600d]
Possible solutions: eachRow(java.lang.String, groovy.lang.Closure), eachRow(java.lang.String, groovy.lang.Closure, groovy.lang.Closure), eachRow(java.lang.String, java.util.List, groovy.lang.Closure), eachRow(groovy.lang.GString, groovy.lang.Closure), eachRow(groovy.lang.GString, groovy.lang.Closure, groovy.lang.Closure), eachRow(java.lang.String, int, int, groovy.lang.Closure) 
```

这清楚地表明，没有任何方法可以使用命名参数来处理 eachRow。但是根据[http://groovy.codehaus.org/api/groovy/sql/Sql.html](http://groovy.codehaus.org/api/groovy/sql/Sql.html)有：

```
 void    eachRow(java.lang.String sql, java.util.Map params, Closure closure)
    void    eachRow(java.lang.String sql, java.util.Map params, Closure metaClosure, Closure rowClosure)
    void    eachRow(java.lang.String sql, java.util.Map map, Closure metaClosure, int offset, int maxRows, Closure rowClosure)
    void    eachRow(java.lang.String sql, java.util.Map params, int offset, int maxRows, Closure closure)
    void    eachRow(java.util.Map params, java.lang.String sql, Closure closure)
    void    eachRow(java.util.Map params, java.lang.String sql, Closure metaClosure, Closure rowClosure)
    void    eachRow(java.util.Map map, java.lang.String sql, Closure metaClosure, int offset, int maxRows, Closure rowClosure)
    void    eachRow(java.util.Map params, java.lang.String sql, int offset, int maxRows, Closure closure) 
```

这让我想知道：我做错了什么，以及如何使用 eachRow 处理命名参数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T09:54:07.810

`eachRow`您所指的方法从 Groovy 1.8.7 开始可用：

[http://groovy.codehaus.org/api/groovy/sql/Sql.html#eachRow(java.lang.String,%20java.util.Map,%20groovy.lang.Closure](http://groovy.codehaus.org/api/groovy/sql/Sql.html#eachRow(java.lang.String,%20java.util.Map,%20groovy.lang.Closure) )

我假设您使用的是 1.8.7 之前的 Groovy 版本。

# jquery-mobile - Cordova 2.0.0 是否适用于 iOS 6.0？

> ID：13248087
> 
> 赞同：0
> 
> 时间：2012-11-06T09:29:28.133
> 
> 标签：jquery-mobile, ios6, cordova

我的 PhoneGap App(Cordova 2.0.0) 在 iOS 5.1 上运行良好，但是当我将 iOS 更新到 6.0 时，似乎出现了一些问题。我的问题是： 1\. cordova 2.0.0 与 iOS 6.0 兼容吗？2、cordova 2.0.0是否兼容JQuery-mobile 1.1.0（JQuery 1.7.2）？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T13:13:02.657

您没有提到似乎存在什么“问题”。知道这将有助于排除正在发生的事情。

根据[http://phonegap.com/download，Phonegap](http://phonegap.com/download) 2 于 2012 年**7 月**发布。iOS 6 于 2012 年**9 月**发布。

**此后不久，**PhoneGap 2.1发布，** **2.2**版本已经可用。根据 2.1 的公告，[引入了 iOS 6 支持](http://phonegap.com/blog/2012/09/21/phonegap-210/)。兼容性和较新的 API 可能存在一些小问题，但在不知道您所看到的情况下，这都是猜测。**

 **您可能想要升级。**

# css - 强制自动换行 - 使“代码”样式与文本框内联

> ID：13248088
> 
> 赞同：2
> 
> 时间：2012-11-06T09:29:33.477
> 
> 标签：css, word-wrap

我正在使用一个提要聚合网站。有时我会收到这样的帖子： [http ://www.r-bloggers.com/network-visualization-in-r-with-the-igraph-package/](http://www.r-bloggers.com/network-visualization-in-r-with-the-igraph-package/)

代码文本溢出帖子的文本框的地方。这是一个屏幕截图：

![在此处输入图像描述](../Images/d28e81636f512a3a6adc9a64fd05790a.png)

有没有办法确保在网站的 css 中不会发生这种溢出？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:34:46.983

HI 现在习惯了这个 **定义**你的`pre`标签`white-space: pre-wrap;`

像这样

```
pre {
white-space: pre-wrap;      /* CSS3 */   
   white-space: -moz-pre-wrap; /* Firefox */    
   white-space: -pre-wrap;     /* Opera <7 */   
   white-space: -o-pre-wrap;   /* Opera 7 */    
   word-wrap: break-word;      /* IE */
} 
```

***[更多信息](http://css-tricks.com/almanac/properties/w/whitespace/)***

**结果是** ![在此处输入图像描述](../Images/2ff28c5382a5b678b190df45496acca3.png)

# android - 处理android中的自定义列表视图？

> ID：13248094
> 
> 赞同：2
> 
> 时间：2012-11-06T09:29:56.983
> 
> 标签：android, android-listview, custom-lists

我正在开发一个使用自定义列表视图的应用程序。首先，我将使用代码，我会问我的问题（在底部）。

Main.java（使用适配器类将数据设置为列表视图）

```
Myadapter adapter = new Myadapter();
    listview.setAdapter(adapter); 
```

}

自定义.xml

```
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<TextView
    android:id="@+id/textView1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="Large Text"
    android:background="#adadad"
    android:textAppearance="?android:attr/textAppearanceLarge" />

<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" >

    <TextView
        android:id="@+id/textView2"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <TextView
        android:id="@+id/textView3"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:textAppearance="?android:attr/textAppearanceLarge" />
    <TextView
        android:id="@+id/textView4"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:textAppearance="?android:attr/textAppearanceLarge" />
</LinearLayout> 
```

我的适配器类：

```
 public class Myadapter extends BaseAdapter{

    public int getCount() {
        // TODO Auto-generated method stub
        return startarr.size();
    }

    public Object getItem(int position) {
        // TODO Auto-generated method stub
        return position;
    }

    public long getItemId(int position) {
        // TODO Auto-generated method stub
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        View v = null;
        int i;
        LayoutInflater layoutinflater = getLayoutInflater();
        v = layoutinflater.inflate(R.layout.custom,null);
        TextView aptdate = (TextView)v.findViewById(R.id.textView1);
        TextView apttime = (TextView)v.findViewById(R.id.textView2);
        TextView aptname = (TextView)v.findViewById(R.id.textView3);
        TextView aptid   = (TextView)v.findViewById(R.id.textView4);
        //Button btn = (Button)v.findViewById(R.id.button1);

        final String arlstdate[] = startarr.get(position).split("~");
        for (i = 0; i < arlstdate.length; i++) {
            aptdate.setText(arlstdate[i]);

            try {
                // Getting Array of Contacts
                JSONObject json = new JSONObject(response);
                contacts = json.getJSONArray("schedule");

                // looping through All Contacts
                for(int j = 0; j < contacts.length(); j++){
                    JSONObject c = contacts.getJSONObject(j);

                    // Storing each json item in variable
                    final String id = c.getString("scheduleId");
                    String startTime = c.getString("startDateTime");
                    String endTime = c.getString("endDateTime");
                    String type = c.getString("scheduleType");

                    SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");

                        Date startedTime = sdf.parse(startTime);
                        Date endedTime = sdf.parse(endTime);
                        int getstartdate = startedTime.getDate();
                        int getstartmonth = startedTime.getMonth();
                        int getstartyear = startedTime.getYear();
                        int getday = startedTime.getDay();
                        final int getstartingtime = startedTime.getHours();
                        final int getstartingmin = startedTime.getMinutes();
                                                    long diff = endedTime.getTime() - startedTime.getTime();
                        int hours = (int)(diff/(60*60*1000));
                        testselectID = String.valueOf(hours);

                        hoursarray.add(testselectID);
                        starttimearray.add(String.valueOf(getstartingtime+":"+getstartingmin));

                        calendar = Calendar.getInstance();
                        calendar.setTime(startedTime);

                        System.out.println((calendar.get(Calendar.YEAR))+"-"+(calendar.get(Calendar.MONTH)+1)+"-"+(calendar.get(Calendar.DAY_OF_MONTH)));
                        if(arlstdate[i].equals((calendar.get(Calendar.YEAR))+"-"+(calendar.get(Calendar.MONTH)+1)+"-"+(calendar.get(Calendar.DAY_OF_MONTH))))
                        {
                            aptid.append(id+"\n");
                            apttime.append(testselectID+"Hrs"+"\n");
                            aptname.append((String.valueOf(getstartingtime+":"+getstartingmin))+"\n");

                        }

                }

        }catch (Exception e) {
            // TODO: handle exception
            Toast.makeText(getBaseContext(), "schedule error is " + e, Toast.LENGTH_SHORT).show();
        }
            }

        return v;

 }
    } 
```

在这里，我将数据附加到 textviews 并且以下代码的输出是... ![在此处输入图像描述](../Images/29dd840c60c47bd9be6bbe4b8d8c627d.png)\

到这里为止一切正常。但是我的问题是......

当我单击自定义列表视图时，值需要在单独的 toast 消息中显示。因为我对列表视图单击侦听器有一些想法，但在这里如果使用该代码，它将获取最后附加的数据详细信息。例如，如果我单击第一个（在图像中）它显示 16:40.not 显示 12:0。我想要的是我需要用不同的 toast 消息以不同的方式显示其中两个。

谁能帮我这个....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T09:39:25.787

如果没有实施适当的模型，您自己会过得很艰难。您应该在适配器之外解析您的 Json，并根据这些信息制作 Java 类。然后将列表或数组作为数据传递给您的适配器，同时返回模型对象`getItem(position)`！通过这种方式，您可以完美地实现`OnItemClickListener`并收集您想要的任何数据。

您也只是完全忽略了`convertView`参数。如果它不为空以进行性能优化，您应该使用此视图而不是膨胀一个新视图！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T11:09:53.297

```
for that you have to implement the OnItemClickListener event on listview .

listview.OnItemClickListener(new OnItemClickListener(){
    @Override
        public void onItemClick(AdapterView<?> parent, View view,
                        int position, long id) {
    // getting values from selected ListItem

       }
   });
 Now you have position of your listview then Whatever the list position that corresponding value is diplays in toast. 
```

# mysql - MySQL utf8_general 不能存储汉字？

> ID：13248096
> 
> 赞同：1
> 
> 时间：2012-11-06T09:30:09.633
> 
> 标签：mysql, utf-8

我试图将一些汉字存储到 mysql 表中。

他们变成这样：

```
&#28872;&#28779;&#38596;&#24515; 
```

当我在 innerhtml 中输出它们时它们工作正常，但如果它是一个 html 属性，它们将不会显示中文字符。

奇怪的是，如果我将数据保存在 utf8_bin 或 utf8_unicode 中，它们就可以正常工作。

有什么解决办法吗？

更具体地说，我在执行此操作时使用了 codeIgniter。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-15T03:37:37.207

只需确保您的桌子已准备好汉字：

转到您的 mysql 表并将“字符集”更改为“ **gb2312** ”，将“排序规则”更改为“ **gb2312_chinese_ci** ”。

对我来说，我是在“行”级别而不是整个表上做的，因为只有我只在表的 1 个字段中期待汉字。

[参考](http://dev.mysql.com/doc/refman/5.1/en/faqs-cjk.html)

让我知道这是否有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-01T05:25:19.787

只需将字段的 Collat​​ion 修改为 utf8_general。

# spring - Java 电子商务框架和 Neo4j 作为数据库

> ID：13248106
> 
> 赞同：3
> 
> 时间：2012-11-06T09:30:53.063
> 
> 标签：spring, e-commerce, spring-data-neo4j, broadleaf-commerce

我使用 Neo4j（Spring Data Neo4j）作为我的数据库，使用 Java 作为一种语言（使用 Spring 框架）。

现在，我必须将电子商务平台作为我的应用程序的一部分来实现。我遇到了阔叶电子商务，但想知道我是否可以将 Neo4j 作为数据库而不是任何关系数据库。

另外，是否有任何其他框架可以为我提供以下功能，但可以选择配置数据库，1\. 订单管理 2\. 支付网关 3\. 我的购物车和下单

这是针对 B2B 网站的。

请让我知道一些关于如何从这一点继续前进的指示。

谢谢， 阿卜杜勒

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-11T16:35:14.030

下面列出了一些基于 Spring 的电子商务框架：

*   [阔叶商务](http://www.broadleafcommerce.org/)
*   [Avetti 商务](http://www.avetticommerce.com/)
*   [弹性路径](http://www.elasticpath.com/)

虽然 Broadleaf 商务是开源的，但 Avetti 提供开源社区版和付费 - 企业版。

Avetti 使用/支持 Spring、Apache Solr、Velocity、Hibernate、Mysql、JBoss、Maven、Lucene、Oracle。

Broadleaf 技术栈是 Hibernate、Maven、Google Web Toolkit、Apache Solr。

Elastic Path 的 Java 电子商务平台基于 Spring Framework、Apache OpenJPA、Eclipse RCP、Apache Solr、Apache Velocity、Groovy、jQuery 等开源技术。

最好直接向他们询问有关 Neo4j 兼容性、支付网关等的问题。

# c# - c#嵌入HTML5画布，运行javascript（本地）

> ID：13248114
> 
> 赞同：3
> 
> 时间：2012-11-06T09:31:28.113
> 
> 标签：c#, javascript, html, processing, chromium

我想将 HTML5 画布嵌入到我的 C# WinForms 应用程序中。到目前为止，我发现 CefSharp 项目似乎做得很好，但我无法让它执行包含 javascript 调用的 HTML。

这是我想在画布中运行的 HTML 示例：

```
<!DOCTYPE html>
<script src="processing.js"></script>
<canvas data-processing-sources="example.pde"></canvas> 
```

本练习的最终目标是从应用程序本地运行 Processing.js。

**是否可以通过向画布提供 HTML 来在 CefSharp 中**本地执行 javascript ？**如果是这样，最简单的方法是什么。这不是 ASP.NET 应用程序。**

 **CefSharp 有方法 ExecuteScript、EvaluateScript 和 RegisterJsObject 但不确定是否可以使用这些方法。我是唯一的开发人员，这超出了我的正常专业领域。

* * *

如果有人想进一步评论或提供澄清，我还将添加我发现的内容：

1.  Chromium（CefSharp 是一个 C# 包装器）具有可以防止使用本地文件的安全策略。我不确定这是否可以在 CefSharp 中被覆盖。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-17T02:42:14.107

也许 [这个例子](https://github.com/cefsharp/CefSharp/blob/CefSharp1/CefSharp.Example/ExamplePresenter.cs#L190) 可以帮助你。它执行一些javascript。

编辑：这是代码示例：

```
var script = String.Format(
    "document.body.style.background = '{0}'",
    colors[color_index++]
);
if (color_index >= colors.Length)
{
    color_index = 0;
}
view.ExecuteScript(script); 
```**

# django - 如何将详细名称添加到表单

> ID：13248122
> 
> 赞同：29
> 
> 时间：2012-11-06T09:31:58.580
> 
> 标签：django

如何`verbose_name`在 Django 中添加表单？

在 forms.py 中：

```
class SendOrderForm(forms.Form):
   send_option = forms.ModelChoiceField(queryset=Send.objects.all(), verbose_name="Send Options") 
```

这是不正确的

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-11-06T09:35:39.853

我认为，[标签参数](https://docs.djangoproject.com/en/dev/ref/forms/fields/#django.forms.Field.label)是您需要的：

```
class SendOrderForm(forms.Form):
   send_option = forms.ModelChoiceField(queryset=Send.objects.all(), label="Send Options") 
```

# database - Solaris - 同步磁盘刷新/同步同步？

> ID：13248124
> 
> 赞同：3
> 
> 时间：2012-11-06T09:32:05.287
> 
> 标签：database, solaris, sync, flush

在 Solaris 上进行同步磁盘刷新的最佳方法是什么？我想刷新所有磁盘，而不是单个文件。

Solaris（与 Linux 相对）上的 Sync() 异步工作，我正在寻找 SYNCHRONOUS sync() （完成后返回）

随之而来的问题：如何检查同步是否正确完成？我怎样才能写测试表明它已经完成？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T17:07:47.253

你可以运行：

```
/usr/sbin/lockfs -af 
```

引用[lockfs 手册页](http://docs.oracle.com/cd/E23824_01/html/821-1462/lockfs-1m.html)：

> -F
> 
> ```
>  Force a synchronous flush of all data that is  dirty  at
>      the  time  fsflush  is  run to its backing store for the
>      named file system (or for all file systems.)
> 
>      It is a more reliable method than using sync(1M) because
>      it  does  not  return  until  all possible data has been
>      pushed. 
> ```

如果你想纯粹用 C 来做，你可以使用

```
 #include <sys/filio.h>
  ...    
  ioctl(fd, _FIOFFS, NULL); 
```

fd 是文件系统挂载点的文件描述符（来自 /etc/mtab）。

请注意，_FIOFFS 是一个私有接口，因此可能随时消失，恕不另行通知。一种完全受支持且更强大的方法是简单地将行添加`system("/usr/sbin/lockfs -af");`到您的代码中。

# c# - 如何使 linq to sql 在 C# 中生成 out 参数而不是 ref

> ID：13248125
> 
> 赞同：1
> 
> 时间：2012-11-06T09:32:05.020
> 
> 标签：c#, .net, linq-to-sql

我正在尝试使映射到存储过程的 C# 过程具有 out 参数，而不是 ref 默认情况下由 linq to sql 为 OUTPUT 参数生成。我到处都发现 linq to sql 生成 ref 但有没有办法强制它生成以在 C# 中更明显地表明这是一个输出而不是初始化变量？

# ruby-on-rails - 如何使用 thrift_client 库挂钩功能？

> ID：13248127
> 
> 赞同：0
> 
> 时间：2012-11-06T09:32:08.440
> 
> 标签：ruby-on-rails, ruby, thrift

我正在使用[thrift_client 0.8.1 library](https://github.com/twitter/thrift_client/blob/master/lib/thrift_client/abstract_thrift_client.rb)。并且它支持一些钩子接口。

```
client = ThriftClient.new(FooService, host)

client.add_callback :before_method do |*args|
  ActionController::Base.logger.info instance_eval("@current_server")
  logger.info args.inspect
end

client.add_callback :post_connect do |client|
  logger.info "A thrift server connection has been made<#{client.current_server}>"
end 
```

每次调用一个方法，我都想记录一下thrift server的信息。所以我安装了一个`:before method`钩子，但我认为`instance_eval("@current_server")`它不像我预期的那样工作。`@current_server`是类中的一个实例变量`ThriftClient`。问题是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T15:19:43.113

我不相信 :before_method 回调是在 ThriftClient 实例上下文中调用的。这是调用 :before_method:

```
 def do_callbacks(callback_type_sym, *args)
    return unless @callbacks[callback_type_sym]
    @callbacks[callback_type_sym].each do |callback|
      callback.call(*args)
    end
  end 
```

:before_method CB 使用方法名称调用。对于 :post_connect 它是客户端实例。

# javascript - Javascript 不喜欢 16.1 的值？

> ID：13248129
> 
> 赞同：2
> 
> 时间：2012-11-06T09:32:11.417
> 
> 标签：javascript

> **可能的重复：**
> [JavaScript 的数学被破坏了吗？](https://stackoverflow.com/questions/588004/is-javascripts-math-broken)

有趣的问题，但为什么在 16.1 javascript 变得“疯狂”？:)

[代码](http://jsfiddle.net/sP4YF/)：

```
var value1=16.1;
var value2=16.2;

console.log(value1 * 1000);
console.log(value2 * 1000); 
```

输出 ：

```
16100.000000000002
16200 
```

为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:37:06.003

这不是 javascript 问题，而是与使用浮点数的任何编程语言相关的问题，请参阅

[浮点数学被破坏了吗？](https://stackoverflow.com/questions/588004/is-javascripts-math-broken)

用于解释根本问题以及一些有用的解决方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T09:37:12.297

那是因为 javascript 在内部将所有内容都转换为 double。结果，由于浮点不准确性，所有计算都会产生一些噪音： [Floating point inaccuracy examples](https://stackoverflow.com/questions/2100490/floating-point-inaccuracy-examples)

解决此问题的一种方法是在所有中间计算之后向下舍入到最接近的 int。

[从这里复制答案](https://stackoverflow.com/questions/6486234/mysterious-calculation-error-when-multiply-by-100/6486253#6486253)

# c# - vs2012 load test: allocation 1000 user load, but test runs only 100 times

> ID：13248134
> 
> 赞同：0
> 
> 时间：2012-11-06T09:32:34.693
> 
> 标签：c#, asp.net, web-services, visual-studio-2012

I have written a webtest that calls a webservice:

```
 public class Settings_CacheExplosion : WebTest
{
    //private static readonly ILog activityLog = LogManager.GetLogger("Activity"); 

    private static int _ctidsCounter { get; set; }

    public static int CtidsCounter
    {
        get
        {
            if (_ctidsCounter == 2000)
            {
                _ctidsCounter = 1000;
            }
            return _ctidsCounter++;
        }
        set
        {
            _ctidsCounter = value;
        }
    }

    public Settings_CacheExplosion()
    {
        this.PreAuthenticate = true;

        CtidsCounter = 1000;

        //log4net.Config.XmlConfigurator.Configure();
    }

    public override IEnumerator<WebTestRequest> GetRequestEnumerator()
    {
        WebTestRequest request1 = new WebTestRequest("http://clientservice.mam.qasite-services.com/settings");

        request1.Method = "POST";

        Debug.WriteLine(string.Format("ctid={0}", CtidsCounter));

        request1.QueryStringParameters.Add("ctid", CtidsCounter.ToString(), false, false);
        StringHttpBody request1Body = new StringHttpBody();
        request1Body.ContentType = "";
        request1Body.InsertByteOrderMark = false;
        request1Body.BodyString = "";
        request1.Body = request1Body;

        yield return request1;
        request1 = null;
    }
} 
```

I hvae created a load test with test mix: 100% the above webtest

in the load test wizard I have allocated `1000 users (constant)`.

I set the test to run `based on the number of virtual users`.

And yet, the load test finishes after 2 seconds.

I the summary I see the above test was executed only 100 times.

What could have caused it?

btw, I tried to watch the `requests table` but it includes only one row.

How can I see all the made requests?

# css - Arrow For Indication of Child Theme

> ID：13248135
> 
> 赞同：0
> 
> 时间：2012-11-06T09:32:35.407
> 
> 标签：css, indicator

I want to create a menu using CSS, and i want to differentiate when a parent has a child theme present that it shows a custom picture (i.e. an arrow of some form) to show this.

I know that this can be done via a suckerfish or superfish menu, however this is something that i haven't got my head round yet.

Can this be done in CSS by specifying an indicator when child theme present?

# php - 如果不是英语，则检测第一个目录

> ID：13248138
> 
> 赞同：0
> 
> 时间：2012-11-06T09:32:42.423
> 
> 标签：php, javascript, jquery

我有一个网站，它的翻译语言如下。

英语、德语、西班牙语、法语和意大利语。

I have a select box which when selected it should change the location to the translated language.

我遇到的主要问题是弄清楚如何在 url 中没有翻译目录名称的情况下获取 url。

到目前为止我有

```
var curURL = $('#flagsectionurl').attr('value');
var n=curURL.split("/");        
console.log(n[1]); 
```

input#flasgectionurl 获取当前页面的 url。所以如果我在看

> domain.com/de/index

console.log 将显示“de”

选择选择框时，当前执行以下操作

```
var chosenCountry = data.selectedData.value;
window.location = "/"+chosenCountry+$('#flagsectionurl').attr('value'); 
```

在保留当前页面的同时更改目录的最佳方法是什么？由于此方法不起作用，因为它最终会转到 domain.com/de/de/index

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T09:53:10.983

您正在向 URL 添加一个新国家/地区，但并未删除当前国家/地区。

您从`chosenCountry`变量开始，然后附加`$('#flagsectionurl').attr('value')`已包含国家/地区的当前 URL。

您想替换 URL 的国家/地区部分，同时保留其余部分。为此，您可以执行以下操作（基于记录到控制台的代码中显示的 URL 结构）：

```
var new_url = $('#flagsectionurl').attr('value');
new_url = url.split("/"); 
new_url[1] = data.selectedData.value;
window.location = new_url.join("/"); 
```

**编辑：**

Because of the issue you have raised where for English it does not use the above URL convention, you need to keep track of the current language (including if it is English), if you have not already. Then if the current selection is English and you are changing to another language, you will need to add a new item to the array after splitting it. If you are going from another language to English, you will need to remove the item in the array at position 1\.

```
var new_lang = data.selectedData.value;
var new_url = $('#flagsectionurl').attr('value');
new_url = url.split("/");
if (cur_lang == 'en') {
    new_url.splice(1,0,new_lang);
}
else if (new_lang == 'en') {
    new_url.splice(1,1);
}
else {
    new_url[1] = new_lang;
}
window.location = new_url.join("/"); 
```

The above code works off the assumption the current language and new language cannot be the same, you will need to check for this if you are not already.

# jquery - Capture width of columns of a grid at runtime

> ID：13248140
> 
> 赞同：0
> 
> 时间：2012-11-06T09:32:49.587
> 
> 标签：jquery, jquery-plugins, jqgrid, struts2-jquery

I want to capture width of columns (which are resizable) in my grid..the plugin i am using is struts2-jquery plugin.all this should happen at runtime.As soon as the width of any of the columns are changed the width should be captured..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T09:57:54.353

您应该使用`resizeStop`回调或`jqGridResizeStop`事件（请参阅[文档](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aevents#list_of_events)）。

# html - Show and Hide Menu Bars

> ID：13248141
> 
> 赞同：1
> 
> 时间：2012-11-06T09:32:58.497
> 
> 标签：html, drop-down-menu, menu, menuitem, menubar

**I have a set of menu bars which I have been editing**

[http://carbonyzed.co.uk/menu/2/](http://carbonyzed.co.uk/menu/2/) using

[http://carbonyzed.co.uk/menu/2/css/style.css](http://carbonyzed.co.uk/menu/2/css/style.css) and

[http://carbonyzed.co.uk/menu/2/js/custom.js](http://carbonyzed.co.uk/menu/2/js/custom.js) ]

I have created these menu bars however instead of it poping out like it currently does, I need **to make it pop out like in**

[http://carbonyzed.co.uk/menu/1/](http://carbonyzed.co.uk/menu/1/) - the css for this one lies withing the index.html file itself

Sorry for posting links, hopefully you can view the code like I did, the **custom.js code** is here

```
$(document).ready(function() {

// Adds title attributes and classnames to list items

$("ul li a:contains('History')").addClass("dashboard").attr('title', 'Dashboard');
$("ul li a:contains('Links')").addClass("pages").attr('title', 'Pages');
$("ul li a:contains('Media')").addClass("media").attr('title', 'Media');
$("ul li a:contains('Campaigns')").addClass("history").attr('title', 'History');
$("ul li a:contains('Messages')").addClass("messages").attr('title', 'Messages');
$("ul li a:contains('Maintenance')").addClass("settings").attr('title',  
'Settings');

// Add class to last list item of submenu

$("ul.submenu li:last-child").addClass("last");

$("ul li:has(ul)").click(function(){
    $(this).find("ul.menu").stop("true", "true").slideDown(500);
    }, function(){
    $(this).find("ul.menu").stop("true", "true").slideUp(500);
});

}); 
```

I felt that posting the links would be better than posting loads of code.

Thank you to everybody in advance for taking the time to help me with this. I can provide FTP access if necessary to [http://carbonyzed.co.uk/menu/](http://carbonyzed.co.uk/menu/)

Regards

Henry Aspden

# iphone - I want to restrict some of the view controller to landscape in ios6

> ID：13248142
> 
> 赞同：2
> 
> 时间：2012-11-06T09:33:01.043
> 
> 标签：iphone, ios6

I'm trying to restrict one view controller which on top of UINavigationController. To do that i've created a UINavigationController subclass and implemented 2 methods

```
- (BOOL)shouldAutorotate {
return [[self.viewControllers lastObject] shouldAutorotate];}

- (NSUInteger)supportedInterfaceOrientations {
return [[self.viewControllers lastObject] supportedInterfaceOrientations];} 
```

I want the first viewcontroller on top of UINavigationController(which is Root View Controller) should be in portrait mode and the next view controller which i'm pushing from the root view controller should be Landscape mode(ONLY).

So i'm overriding those two methods in both view controllers. In the root view controller

```
- (BOOL)shouldAutorotate {
return NO;}

- (NSUInteger)supportedInterfaceOrientations {
return UIInterfaceOrientationMaskPortrait;} 
```

In the next view controller

```
- (BOOL)shouldAutorotate {
return YES;}

- (NSUInteger)supportedInterfaceOrientations {
return UIInterfaceOrientationMaskLandscape;} 
```

Its working fine but not completely. For the first time when I push the view controller its showing in portrait mode(Not restricting to landscape as I expected) and once I rotate the device/simulator and its working fine and restricting to landscape only.

Can anyone help in this?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:43:49.533

Try this out.

Call this one in the `viewWillAppear` will explicitly tell the device to jump to the portrait orientation.

```
[[UIDevice currentDevice] performSelector:NSSelectorFromString(@"setOrientation:") withObject:(id)UIInterfaceOrientationPortrait]; 
```

I don't think this is the right solution. But if you got no other options, you can use this. Happy Coding :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:44:52.667

U `present` `new` `controller` :

```
SecondViewController *objSecondViewController = [[SecondViewController alloc]initWithNibName:@"SecondViewController" bundle:nil];
[self.navigationController presentViewController:objSecondViewController animated:NO completion:^{}]; 
```

In `new` `controller` :

```
- (BOOL)shouldAutorotate {
  return YES;
}
- (NSUInteger)supportedInterfaceOrientations {
return UIInterfaceOrientationMaskLandscape;
}
- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
  return UIInterfaceOrientationLandscapeLeft;
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-06T10:08:40.727

这对我有用。试试用这个：

1)**`YourApp-Info.plist`**

*   为支持的界面方向再添加一个数组
*   将您需要的方向添加到这本词典

**参考下面的截图：**

![在此处输入图像描述](../Images/e06a74f592d1bc052de30a22c7141818.png)

2)**`Project Target`**

*   从支持的接口方向中选择所需的方向

**参考下面的截图：**

![在此处输入图像描述](../Images/b2f22289f89ed3d6b49a7797ec228a51.png)

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-11-06T09:39:26.733

`UIViewController`具有以下功能。您可以在要限制纵向的视图控制器中实现此功能。

```
 - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {
        // Return YES for supported orientations

    if(interfaceOrientation == UIInterfaceOrientationPortrait)
        return YES;
    else
        return NO;

    } 
```

# sql-server-2008 - C# how to insert null value for foreign key into SQL

> ID：13248143
> 
> 赞同：0
> 
> 时间：2012-11-06T09:33:00.773
> 
> 标签：sql-server-2008, c#-4.0

I have one table Documentation that has foreign keys to 3 other tables. This table, Documentation, should contain documents for different subjects (glass, aircraft and project). I didn't wan't to create 3 tables (table for documents for glass, another table for aircraft documents etc) so I created just one table that will have a reference(foreign keys) to other tables (Glass, Aircraft and Project tables). First of all, I'm not sure if this is a good solution...

Anyway, problem is the following: I want to insert document that refers to glass. This means that foreign keys for Aircraft and Project will be null. Database columns accept null values. If I try to insert null values for those foreign keys (AircraftFK and ProjectFK) it does not allow me to do that. It's asking me to insert appropriate value for foreign key that already exists as primary key in tabel Aircraft and Project.

These foreign keys (AircraftfK and ProjectFK) HAVE TO BE NULL because the document that I'm inserting has nothing to do with aircraft and project.

I'm programming in c# and using Sql Server 2008.

How can I solve this?

Thank you all

Here are some more info:

this is my sql command:

```
komanda = new SqlCommand("insert into Documentation (GlassFK, FaiFK, ProjectOrderFK, OrderNumberFK, DocPath, DocName, DocSize, DocType, DocumentFile) values (@GlassFK, @FaiFK, @ProjectOrderFK, @OrderNumberFK, @DocPath, @DocName, @DocSize, @DocType, @DocumentFile)", konekcija);

        for (int i = 0; i < listaDokumenata.Count; i++)
        {
            komanda.Parameters.Clear();
            komanda.Parameters.AddWithValue("@GlassFK", listaDokumenata[i].GlassFK);
            komanda.Parameters.AddWithValue("@FaiFK", listaDokumenata[i].FaiFK);
            komanda.Parameters.AddWithValue("@ProjectOrderFK", listaDokumenata[i].ProjectOrderFK);
            komanda.Parameters.AddWithValue("@OrderNumberFK", listaDokumenata[i].OrderNumberFK);
            komanda.Parameters.AddWithValue("@DocPath", listaDokumenata[i].PutanjaFajla);
            komanda.Parameters.AddWithValue("@DocName", listaDokumenata[i].ImeFajla);
            komanda.Parameters.AddWithValue("@DocSize", listaDokumenata[i].VelicinaFajla);
            komanda.Parameters.AddWithValue("@DocType", listaDokumenata[i].Ekstenzija);
            komanda.Parameters.AddWithValue("@DocumentFile", listaDokumenata[i].Fajl); 
```

and here is c# code for creating document object:

```
Document sf = new Document();
                    sf.PutanjaFajla = putanjaFajla;
                    sf.ImeFajla = imeFajla;
                    sf.Ekstenzija = ekstenzija;
                    sf.VelicinaFajla = velicinaFajla;
                    sf.Fajl = wordFile;
                    sf.FaiFK = 5;
                    sf.GlassFK = 0;
                    sf.ProjectFK = null;
                    sf.ProjectOrderFK = 0; 
```

This means that this document will refer to Glass. All other foreign keys has to be 0 or null (depends on a attribute type in sql)

So, here is the error that I get:

The parameterized query '(@GlassFK int,@FaiFK int,@ProjectOrderFK int,@OrderNumberFK nvar' expects the parameter '@OrderNumberFK', which was not supplied.

OrderNumberID is the primary key of table Project. Its foreign keys is OrderNumberFK

# ruby-on-rails - 思考狮身人面像：相关性 - 中缀与完整词

> ID：13248145
> 
> 赞同：1
> 
> 时间：2012-11-06T09:33:07.437
> 
> 标签：ruby-on-rails, thinking-sphinx

在我的 rails 应用程序中使用 Thinking Sphinx，我将其设置为允许部分匹配`infix`（例如，搜索“tray”将匹配“ashtray”）。

但是，我希望完整的单词匹配比中缀匹配具有更大的权重（相关性）。

因此，如果我对“托盘”的搜索返回这 3 个结果：“银托盘”、“烟灰缸”和“其他托盘” - 我希望“烟灰缸”成为按相关性排序时的最后一个结果。

有没有办法配置 Sphinx 来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T13:26:53.713

您需要定义自己的排名。以下是默认的外观：

```
SPH_RANK_PROXIMITY_BM25 = sum(lcs*user_weight)*1000+bm25

SPH_RANK_BM25 = bm25

SPH_RANK_NONE = 1

SPH_RANK_WORDCOUNT = sum(hit_count*user_weight)

SPH_RANK_PROXIMITY = sum(lcs*user_weight)

SPH_RANK_MATCHANY = sum((word_count+(lcs-1)*max_lcs)*user_weight)

SPH_RANK_FIELDMASK = field_mask

SPH_RANK_SPH04 = sum((4*lcs+2*(min_hit_pos==1)+exact_hit)*user_weight)*1000+bm25 
```

[http://sphinxsearch.com/docs/2.0.6/weighting.html](http://sphinxsearch.com/docs/2.0.6/weighting.html)

# c++ - 对元素进行排序和跟踪

> ID：13248149
> 
> 赞同：3
> 
> 时间：2012-11-06T09:33:15.313
> 
> 标签：c++, stl, sorting

只是要知道，我现在说的是 C++。

假设我有一个数组`A = {4, 1, 5, 2, 3}`并将其排序在`A_sorted = {1, 2, 3, 4, 5}`. 我想保留以下信息：`e`排序数组 A_sorted 中的元素（来自数组 A）现在在哪里？例如：A ( `5`) 中索引为 2 的元素现在在 A_sorted 中具有索引 4。

问题更像是：可以使用 STL 来实现这一点吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T09:37:18.000

没有现成的功能可以实现这一点，但有一些变通方法。例如，您可以保留一个包含原始位置的用户定义结构数组：

```
A = { {4,0}, {1,1}, {5,2}, {2,3}, {3,4}} 
```

然后使用自定义比较器函数对其进行排序，该函数按值而不是原始索引排序。

```
A_sorted = {{1,1}, {2,3}, {3,4}, {4,0}, {5,2}} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T09:41:21.827

试试这个：如果你想转换为矢量：

```
 int A[] = {4, 1, 5, 2, 3};
 int A_sorted [] = {1, 2, 3, 4, 5};
 std::vector<int> v(A_sorted, A_sorted + 5);  

  for (int i=0; i<5; i++)
  {          
    std::vector<int>::iterator low = lower_bound (v.begin(), v.end(), A[i]);   
    std::cout << "Element: " << A[i] << " is at: " << distance(v.begin(), low)  << std::endl;
  } 
```

如果你想处理原始数组：

```
 int A[] = {4, 1, 5, 2, 3};
 int A_sorted [] = {1, 2, 3, 4, 5};

  for (int i=0; i<5; i++)
  {      
    int* low = std::lower_bound (&A_sorted[0], &A_sorted[5], A[i]);   
    cout << "Element: " << A[i] << " is at: " << distance(&A_sorted[0], low)  << endl;
  } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-06T09:51:05.130

如果您无法修改存储在 中的内容`A`，则可以创建一个索引数组并使用特殊谓词对其进行排序：

```
int A[] = {4, 1, 5, 2, 3};

size_t indices[] = {0, 1, 2, 3, 4};

bool sortBefore(size_t i, size_t j) {
  return A[i] < A[j];
}

std::sort(indices, indices + 5, sortBefore); 
```

然后，要么访问`sorted_A[i]`as ，要么根据索引`A[indices[i]]`重新排列。is的第*i*个元素的`A`新位置。*`A``std::find(indices, indices+5, i) - indices`*

 ** * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-06T09:35:56.700

```
template<class T>
struct ValueWithIndex
{
    T Value;
    int index;
};
template<class T>
bool operator < (const ValueWithIndex<T>& v1, const ValueWithIndex<T>& v2)
{
    return v1.value < v2.value;
}
template<class T> ValueWithIndex<T>
MakeValueWithIndex(const T& value, int index)
{
    ValueWithIndex<T> ret;
    ret.value = value;
    ret.index = index;
    return ret; 
} 
```

现在对你的容器进行排序`ValueWithIndex`。原始索引的信息不会丢失。

```
int main()
{
    std::vector<ValueWithIndex<int>> v;
    for(int i = 0; i < n; ++i)
    {
       int value; 
       std::cin >> value;
       v.push_back(MakeValueWithIndex(value, i)); 
    } 

    std::sort(v.begin(), v.end());
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-06T10:01:00.580

好的，索引通常会告诉您向量的第 n 个排序元素是什么。但这会反过来，因此它会告诉您向量中的第 n 个元素是排序顺序中的第 m 个。

这是通过在未排序的向量上创建索引向量来完成的。当然，您仍然可以创建排序副本或索引。

我们从 a < b if v[a] < v[b] 的谓词开始

```
template< typename T >
class PredByIndex
{
private:
     std::vector< T > const & theColl;
public:
     PredByIndex( std::vector<T> const& coll ) : theColl( coll )
     {
     }

     bool operator()( size_t i, size_t j ) const
     {
        return theColl[i] < theColl[j];
     }
};

template< typename T >
void makeOrdered( std::vector< T > const& input, std::vector< size_t > & order )
{
    order.clear();
    size_t len = input.size();
    order.reserve( len );
    for( size_t i = 0; i < len; ++i )
    {
        order.push_back( i );
    }
    PredByIndex<T> pred( input );
    std::sort( order.begin(), order.end(), pred );
} 
```

现在“order”将在有序集合中具有序数位置。

当然，在 C++11 中，谓词可以写成 lambda 表达式，而不必创建类 PredByIndex。

我们还没有完成。我们现在有一个索引，而不是“在排序向量中找到我”。但是，我们可以`transpose`将索引如下：

```
void transpose_index( std::vector< size_t > const & index, 
                       std::vector< size_t > & trans )
{
   // for this to work, index must contain each value from 0 to N-1 exactly once.
   size_t size = index.size();
   trans.resize( index.size() );
   for( size_t i = 0; i < size; ++i )
   {
       assert( index[i] < size );
       // for further assert, you could initialize all values of trans to size
       // then as we go along, ensure they still hold that value before
       // assigning
       trans[ index[i] ] = i;
   } 
```

}

现在我们的转置索引给了你你想要的，转置本身就是`O(N)`

在一个稍微不同的数据示例中，如果输入是`[ 5, 3, 11, 7, 2 ]`

“排序”顺序是`[ 2, 3, 5, 7, 11 ]`

“索引”顺序是`[4, 1, 0, 3, 2]`元素 4 是最小的，然后是元素 1 等等。

我们填写的“转置”顺序

```
 [ _, _, _, _, _ ]
 [ _, _, _, _, 0 ]
 [ _, 1, _, _, 0 ]
 [ 2, 1, _, _, 0 ]
 [ 2, 1, _, 3, 0 ]
 [ 2, 1, 4, 3, 0 ] 
```

这看起来像我们想要的。我们的原始数据 5 是位置 2，3 是位置 1，11 是位置 4，依此类推。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-06T09:40:09.490

您可以使用`find`来搜索元素：

```
int *p1 = std::find(&A[0], &A[5], 5);
int *p2 = std::find(&A_sorted[0], &A_sorted[5], 5); 
```

并使用距离来显示索引：

```
int i1 = p1 - A;
int i2 = p2 - A_sorted; 
```

i1 和 i2 现在显示相应数组中的索引。*

# c# - jQuery Validation with ASP.NET C# Web Forms

> ID：13248154
> 
> 赞同：1
> 
> 时间：2012-11-06T09:33:23.893
> 
> 标签：c#, jquery, validation, .net-3.5, webforms

I'm having a bit of an awkward problem with jquery validation (which is brilliant) and asp.net web forms. I presume its an issue with how the forms are used in this framework but anyway here's the issue.

1.  I have a page which has a number of fields for an employee to fill out, when he/she submits/saves the record (asp.net button control) the validation rules trigger and display relative errors if present (seems to work, rules need work but that irrelevant for the minute).
2.  The validations trigger correctly and list at the bottom of the screen, however if i click anywhere on the screen the jQuery seems to fire again and displays only the first error (same with any sort of key press/minimization of the screen). When that error is corrected the next in the list appears and so on...

**Note:**

My form is in the master page which has a content placeholder within it and the .net version is 3.5 (unfortunately limited by the servers I'm working on).

If anybody could help, that would be great :D.

```
 $(document).ready(function () {
        $('.txt')
        .focus(function () { 
            $('.txt').removeClass('focused');
            $(this).addClass('focused'); 
        })
        .blur(function () { 
            $(this).removeClass('focused'); 
        });

        //Fire validation events
        $("#aspnetForm").validate({
            //Setting validations rules like, Required, Minimum or Maximum Length, Data Type etc.
            rules:
            {
                //Set name of tag to validate: Name = UniqueID
                <%= txtPointCode.UniqueID %> : { required: true, minlength: 5, maxlength: 10 },
                <%= txtPointName.UniqueID %> : { required: true, minlength: 5, maxlength: 10 },
                <%= txtPointLocalName.UniqueID %> : { required: true, minlength: 5, maxlength: 10 },
                <%= txtPortCode.UniqueID %> : { required: true, minlength: 5, maxlength: 10 },
                <%= txtCountryCode.UniqueID %> : { required: true, minlength: 5, maxlength: 10 },
                <%= txtCountryName.UniqueID %> : { required: true, minlength: 5, maxlength: 10 },
                <%= txtAreaName.UniqueID %> : { required: true, minlength: 5, maxlength: 10 },
                <%= txtRegionName.UniqueID %> : { required: true, minlength: 5, maxlength: 10 },
                <%= txtContinentName.UniqueID %> : { required: true, minlength: 5, maxlength: 10 }
            },
            //Contextual error messages for each selected field
            messages:
            {
                <%= txtPointCode.UniqueID %> : "This field cannot be empty, please enter between 5 - 10 characters.",
                <%= txtPointName.UniqueID %> : "This field cannot be empty, please enter between 5 - 10 characters.",
                <%= txtPointLocalName.UniqueID %> : "This field cannot be empty, please enter between 5 - 10 characters.",
                <%= txtPortCode.UniqueID %> : "This field cannot be empty, please enter between 5 - 10 characters.",
                <%= txtCountryCode.UniqueID %> : "This field cannot be empty, please enter between 5 - 10 characters.",
                <%= txtCountryName.UniqueID %> : "This field cannot be empty, please enter between 5 - 10 characters.",
                <%= txtAreaName.UniqueID %> : "This field cannot be empty, please enter between 5 - 10 characters.",
                <%= txtRegionName.UniqueID %> : "This field cannot be empty, please enter between 5 - 10 characters.",
                <%= txtContinentName.UniqueID %> : "This field cannot be empty, please enter between 5 - 10 characters."
            },

            //A custom message display handler. Gets the map of errors as the first argument and and array of errors as the second, 
            //called in the context of the validator object.
            showErrors: function (errorMap, errorList)
            {
                var messages = "";
                var errorCount = 0;

                //Error builder
                $.each(errorList, function (index, value) {
                    var id = $(value.element).attr('id');
                    var elementName = $(value.element).attr('name').split('txt'); //Strip out UniqueID obfuscation

                    messages += "<span>" + (index + 1) + ". | <a noref title=\"Click to view field\" onClick=\"setFocus('" + id + "');\">[" + elementName[1] + "]</a> | " + value.message + "</span><br/>";
                    errorCount++;
                });

                messages = "<div class='errorWrapper'><hr><h1>Please correct the following " + errorCount + " errors:</h1><br /><br />" + messages + "</div>";

                //Display error summary with slide animation
                $('#summary-validation').html(messages);
                $('#summary-validation').show("fast");
            },

            //If all validations are successfully validate then execute submitHandler function
            submitHandler: function ()
            {
                $('#summary-validation').empty();
                //alert("All fields are valid!");
                $("#aspnetForm").submit();
            },
            onkeyup: false, //Stops validation refresh on occurances of certain key presses
            onfocusout: false //Stops validation refresh when element loses focus
        });
        //-------------------------------------------------------------------------------
    });
    //If validation errors are occured in any field, it will display field name with link, clicking on link it will set focus of perticular field.            
    function setFocus(ele)
    {
        document.getElementById(ele).focus();
        //$(ele).focus();
    } 
```

# c - shmat for attaching shared memory segment

> ID：13248157
> 
> 赞同：5
> 
> 时间：2012-11-06T09:33:51.833
> 
> 标签：c, linux, ipc, shared-memory

When I looked through the man pages of `shmat`. It is described as the primitive function of the API is **to attach the memory segment associated wih `shmid` it to the calling process' address space** .

The questions I have are the following.

*   The term **attach** looks generic to me. I find difficulties in understanding what is the **underlying acivity** that attach refers to.?
*   What it means by **mapping a segment of memory**?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:04:07.317

将其用作`char *ptr=shmat(seg_id,NULL,0);` 它通过函数将创建的段 id 附加到`shmget()`包含上述代码的进程中。

`seg_id`是新创建的段的段 id `NULL`意味着操作系统将代表用户处理段的起始地址 是两者的`0`标志`read/write`

每当一个进程附加到共享内存时，它必须被分离，以便另一个进程可以通过附加到该段来访问它（如果存在资源锁定机制。）

分离：`shmdt(ptr);`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:02:22.983

这里有一个很好的解释：http: [//www.makelinux.net/alp/035](http://www.makelinux.net/alp/035)

“在 Linux 下，每个进程的虚拟内存都被分割成页。每个进程都维护着从其内存地址到这些虚拟内存页的映射，其中包含实际数据。即使每个进程都有自己的地址，但多个进程的映射可以指向同一页面，允许共享内存”

# java - How to parse XML

> ID：13248158
> 
> 赞同：-2
> 
> 时间：2012-11-06T09:34:00.490
> 
> 标签：java, xml, xml-parsing

Here is the XML I want to parse:

```
"<Result>"
+ "<columnName><![CDATA[Role_Id]]></columnName>"
+ "<Row><col><![CDATA[0]]></col><col><![CDATA[zero]]></col></Row>"
+ "<Row><col><![CDATA[1]]></col><col><![CDATA[one]]></col></Row>"
+ "<Row><col><![CDATA[2]]></col><col><![CDATA[two]]></col></Row>" + "</Result>"; 
```

and I would like the following output:

```
0,zero
1,one
2,two 
```

but when I'm trying to parse it, I get

```
0 1 2 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T10:31:50.903

You could try to use JAX-B, it should do the trick pretty easily.

An "hello world" example for JAX-B: [http://www.mkyong.com/java/jaxb-hello-world-example/](http://www.mkyong.com/java/jaxb-hello-world-example/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:50:55.613

使用 DOM、JDOM、SAX 等库。Internet 上有很多可用的教程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T10:30:13.273

想到 XSLT：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="text" />
    <xsl:template match="/Result">
        <xsl:apply-templates select="Row"/>
    </xsl:template>

    <xsl:template match="Row">
        <xsl:value-of select="col[1]"/>,<xsl:value-of select="col[2]" />
        <xsl:text>&#10;</xsl:text>
    </xsl:template>
</xsl:stylesheet> 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-06T17:57:47.807

Another alternative to XSLT would be SLAX. Syntax is much better on the eyes, and more fun to write:

[libslax](http://code.google.com/p/libslax/)

# android - Android：将新的edittext添加到新行

> ID：13248161
> 
> 赞同：0
> 
> 时间：2012-11-06T09:34:11.740
> 
> 标签：android, dynamic

我在框架布局上添加了一个按钮和一个编辑文本。问题是我似乎失去了能够单击按钮的功能。当我单击该按钮时，将出现用于编辑文本的键盘。如何将按钮/edittext 对象添加到布局中，以便它们出现在新行上并且不会相互影响。我使用填充选项来移动它们，但这仍然导致按钮不可点击。

这是我的代码： -

FrameLayout reportLayout = (FrameLayout) findViewById(R.id.reportDetailLayout);

```
FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(
        LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);

Button executeButton = new Button(this);

executeButton.setClickable(true);

executeButton.setOnClickListener(handleOnClick(executeButton));

EditText text1 = new EditText(this);

executeButton.setText("Execute");
executeButton.setMinimumHeight(10);
executeButton.setMinimumWidth(150);

text1.setId(1);
text1.setHint("Enter Value");

executeButton.setPadding(0, 0, 0, 0);
text1.setPadding(12, 70, 0, 0);

executeButton.setLayoutParams(params);
text1.setLayoutParams(params);

reportLayout.addView(executeButton);
reportLayout.addView(text1); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:52:11.587

`FrameLayout`将导致视图重叠。尝试`LinearLayout`使用`setOrientation()`.

而且您不使用填充进行放置。*填充与边距不同*。

# linux - 如何卸载内核代码中的文件系统

> ID：13248164
> 
> 赞同：1
> 
> 时间：2012-11-06T09:34:25.827
> 
> 标签：linux, filesystems

我在内核代码中并尝试卸载文件系统，然后再卸载驱动程序。在此之前，我想卸载文件系统。

system(umount -t .....) 在这里不起作用。

谁能告诉我如何在内核模式下卸载。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:43:03.187

[在LXR](http://lxr.linux.no/#linux+v3.6.6/fs/namespace.c#L1245)`umount()`检查系统调用的源代码，您可以了解如何在内核中完成卸载，这里有一些您可能会发现有用的内部信息：

```
real_mount()
check_mnt()
do_umount()
mntput_no_expire() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T11:02:54.090

我会看看*autofs*子系统，即内核自动挂载程序是如何做到的。

# android - Android WebView 没有修改给定线程的权限，我应该声明哪个权限？

> ID：13248172
> 
> 赞同：0
> 
> 时间：2012-11-06T09:34:49.880
> 
> 标签：android, permissions, webview

崩溃日志：

```
 java.lang.SecurityException: No permission to modify given thread
android.os.Process.setThreadPriority(Native Method)
android.webkit.WebViewCore$WebCoreThread$1.handleMessage(WebViewCore.java:764)
android.os.Handler.dispatchMessage(Handler.java:99)
android.os.Looper.loop(Looper.java:137)
android.webkit.WebViewCore$WebCoreThread.run(WebViewCore.java:829)
java.lang.Thread.run(Thread.java:856) 
```

我应该声明哪个权限？ [http://developer.android.com/reference/android/Manifest.permission.html](http://developer.android.com/reference/android/Manifest.permission.html)

*编辑：*

我在 WebView java.lang.SecurityException 中发现了一个类似的问题[：没有修改给定线程的权限](https://stackoverflow.com/questions/11025182/webview-java-lang-securityexception-no-permission-to-modify-given-thread)

答案说“这是氰的错”。

但是，在线程[http://code.google.com/p/cyanogenmod/issues/detail?id=5656&thanks=5656&ts=1341224425](http://code.google.com/p/cyanogenmod/issues/detail?id=5656&thanks=5656&ts=1341224425)中，cm menbers 似乎否认这是 CM 的错误

最重要的是，我的问题是： **如何从我的应用程序中修复它？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T13:14:32.040

> 我应该声明哪个权限？</p>

此 AFAIK 没有相关许可。不幸的是，实现`setThreadPriority()`是在本机代码中，这让我很难弄清楚发生了什么。

> cm menbers 似乎否认这是 CM 的错误

不，他们没有。没有人发布证据表明这是 CM9 或更高版本中的问题，这就是他们将问题标记为过时的原因。如果您在 CM9 或更高版本上看到此问题，我建议您更新问题。如果您在标准 Android 上看到此问题，请创建一个可以重现该错误的示例项目。

> 如何从我的应用程序修复它？

你没有，很可能。您可以尝试在您的 上运行一些实验`WebView`，看看是否有某些特定内容触发了此异常，并尝试修改或消除该内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-21T03:22:07.553

我从我的应用程序（严重依赖于 webview）中得到了几十个由这个异常引起的崩溃日志，涉及的 ROM 版本是 4.0.4 和 4.0.3。

似乎没有正常的方法来修复它，所以我尝试了以下黑客方法。

4.0.4 上的代码片段：

```
private static Handler sWebCoreHandler;
// Class for providing Handler creation inside the WebCore thread.
private static class WebCoreThread implements Runnable {
    // Message id for initializing a new WebViewCore.
    private static final int INITIALIZE = 0;
    private static final int REDUCE_PRIORITY = 1;
    private static final int RESUME_PRIORITY = 2;

    public void run() {
        Looper.prepare();
        Assert.assertNull(sWebCoreHandler);
        synchronized (WebViewCore.class) {
            sWebCoreHandler = new Handler() {
                @Override
                public void handleMessage(Message msg) {
                    // ...
                    // Process.setPriority(...)
                }
            };
        // ...
        }
        // ...
    }
} 
```

我认为这个异常是从 sWebCoreHandler.handleMessage() 抛出的，如果我们可以在 handleMessage() 上包装 try/catch，问题就可以解决。

Handler 类有四个成员：

```
final MessageQueue mQueue;
final Looper mLooper;
final Callback mCallback;
IMessenger mMessenger; 
```

mQueue 设置为 mLooper.mQueue，sWebCoreHandler 中的 mCallback 为 null，所以我们只需在 sWebCoreHandler 中设置 mLooper 和 mMessenger 的值。

```
static Handler sProxyHandler = null;

static void tryTweakWebCoreHandler() {
    // 4.0.3/4.0.4 rom
    if (Build.VERSION.SDK_INT == Build.VERSION_CODES.ICE_CREAM_SANDWICH_MR1) {
        tweakWebCoreHandle();
    }
}

static private void tweakWebCoreHandle() {
    if (sProxyHandler != null)
        return;
    try {
        Field f = Class.forName("android.webkit.WebViewCore").getDeclaredField("sWebCoreHandler");
        f.setAccessible(true);
        Object h = f.get(null);
        Object mMessenger = null;
        Method m = Handler.class.getDeclaredMethod("getIMessenger", (Class<?>[])null);
        m.setAccessible(true);
        mMessenger = m.invoke(h, (Object[])null);
        sProxyHandler = new WebCoreProxyHandler((Handler)h);
        if (mMessenger != null) {
            Field f1 = Handler.class.getDeclaredField("mMessenger");
            f1.setAccessible(true);
            f1.set(sProxyHandler, mMessenger);
        }
        f.set(null, sProxyHandler);
        // Log.w(TAG,  "sWebCoreHandler: " + h);
    } catch (Throwable e) {
        Log.w(TAG, "exception: " + e);
    }
    if (sProxyHandler == null)
        sProxyHandler = new Handler();
}

static class WebCoreProxyHandler extends Handler {
    final Handler handler;
    public WebCoreProxyHandler(Handler handler) {
        super(handler.getLooper());
        this.handler = handler;
    }

    public void handleMessage(Message msg) {
        // Log.w("WebCoreProxyHandler", "handle msg: " + msg.what);
        try {
            handler.handleMessage(msg);
        } catch (Throwable tr) {
            Log.w("WebCoreProxyHandler", "exception: " + tr);
        }
    }
} 
```

剩下的问题是何时调用 tryTweakWebCoreHandler()。我尝试在某些设备上创建并测试 WebView 实例后调用它，可以调用 WebCoreProxyHandler.handleMessage()。

注意：我只是做了一些简单的测试，我不确定这个问题是否得到解决，因为原始异常无法可靠地重现。

如果您决定尝试这种方法，请进行足够的测试。

# javascript - 为什么 230/100*100 不返回 230？

> ID：13248173
> 
> 赞同：10
> 
> 时间：2012-11-06T09:34:52.937
> 
> 标签：javascript, parseint, decimal

> **可能的重复：**
> [JavaScript 的数学被破坏了吗？](https://stackoverflow.com/questions/588004/is-javascripts-math-broken)

在 Javascript 中，我无法弄清楚为什么`230/100*100`返回`229.99999999999997`，而`240/100*100`返回`240.`

这也适用于`460, 920`等等......

有什么解决办法吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-06T09:43:06.880

### 问题：

```
230/100*100

= (230 / 100) * 100
= 2.3 * 100 in binary 
```

**二进制**中的2.3是循环十进制：`10.01001100110011001100110011001100...`

**由于精度有限**，这个循环小数无法准确表示，我们得到类似`2.29999999981373548507...`.

* * *

有趣的是，如果您选择这样的除法运算，使其可以用二进制准确表示（***不是循环小数，所有数字都在 FP 标准所容纳的最大有效数字内***），您将不会看到任何此类差异。

例如`225/100*100`=`225`

`2.25`二进制是`10.01`

**[测试转换：二进制到/从十进制](http://www.mathsisfun.com/binary-decimal-hexadecimal-converter.html)**

* * *

### 处理它：

检查浮点值之间的相等性时，请始终注意精度。向上/向下舍入到一定数量的有效数字是一种很好的做法。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-06T09:40:58.547

在 JavaScript 中，所有数值都存储为[IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point) 64 位浮点值（`double`在许多语言中也称为）。这种表示只有有限的精度（因此并非所有数字都可以准确表示）并且它是二进制的，因此看起来很容易用十进制表示的值可能会变得难以处理。

没有适合所有人的即用即弃的解决方案。如果您需要一个整数，那么只需使用[`Math.round`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Math/round).

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T09:42:20.990

此问题与浮点不准确性有关。有关更多详细信息，请参阅此问题： [浮点数学是否损坏？](https://stackoverflow.com/questions/588004/is-javascripts-math-broken)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-06T09:56:51.087

出于同样的原因，如果你被迫保持一定的精度，并采取每一步，你会给出`10/3*3`as `9.99999...`。

假设您必须保持的精度是 10 位数。在`10/3`你有`3.333333333`. 然后，当您将其乘以 3 时，您将拥有`9.999999999`.

现在，既然我们知道 3 会永远持续下去，我们知道 9 会永远持续下去，所以我们知道答案真的是 10。但这不是这里的交易，交易是你尽可能地应用每一步可以，然后继续下一个。

除了会导致重复表示的数字外，可能还有一些可以精确表示的数字，但不能用您使用的位数表示。

正如`10/3`十进制`230/100`不能完美表示一样，二进制也不能完美表示。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-06T09:43:54.867

JavaScript 中的除法不是整数除法，而是浮点数。

2.3 或 2.4 不能用浮点数精确表示。不同之处在于 2.4 最接近的 fp 是 2.4000000953，而 2.3 大约是 2.2999999523。

一个可以使用`Math.round(x)`或一个可以使用 JavaScript 技巧：

(x|0) 将 x 转换为整数，如 '|' 运算符将操作数强制为整数。即使在这种情况下，299.9943 也不是四舍五入而是截断。

# android - 如何在 Android 中更改选项卡的名称

> ID：13248177
> 
> 赞同：0
> 
> 时间：2012-11-06T09:35:05.403
> 
> 标签：android, android-actionbar

> **可能重复：**
> [如何动态更改选项卡的标题](https://stackoverflow.com/questions/2291607/how-to-change-the-title-of-the-tab-dynamically)

我刚开始 android 开发，我想我会开始制作一个包含 3 个选项卡的应用程序。

我想知道如何更改选项卡的名称？

我试图像这样改变它们：

```
 @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // Set up the action bar.
        final ActionBar actionBar = getActionBar();
        actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

        // For each of the sections in the app, add a tab to the action bar.
        actionBar.addTab(actionBar.newTab().setText(R.string.title_section1).setTabListener(this));
        actionBar.addTab(actionBar.newTab().setText(R.string.title_section2).setTabListener(this));
        actionBar.addTab(actionBar.newTab().setText(R.string.title_section3).setTabListener(this));

    } 
```

这是正确的，因为当我更改 title_section1 时，应用程序没有任何变化

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:51:38.130

请参考[TabActivity](http://developer.android.com/reference/android/app/TabActivity.html)。

另请参阅下面的示例。

```
public class TabSample extends TabActivity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main_tab);

        TabHost tabHost = getTabHost();       

      tabHost.addTab(tabHost.newTabSpec("tab1")
              .setIndicator("OPT")
              .setContent(new Intent(this, TabGroup1Activity.class)));

      tabHost.addTab(tabHost.newTabSpec("tab2")
              .setIndicator("EDIT")
              .setContent(new Intent(this, TabGroup2Activity.class)));

      tabHost.setCurrentTab(0); 
    }
} 
```

希望它会帮助你。

如果有任何疑问，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T09:41:49.553

如果您打算动态执行此操作，则可以使用 tabHost 获取对选项卡的引用并像这样进行更改：

```
 ((TextView)mTabHost.getTabWidget().getChildAt(0).findViewById(android.R.id.title)).setText("MyTab"); 
```

这会将选项卡 0（第一个选项卡）的标题更改为“MyTab”。同样，您可以使用 1、2、3 等访问下一个选项卡。

# vb.net - 只返回最新的 'x' 文件

> ID：13248180
> 
> 赞同：0
> 
> 时间：2012-11-06T09:35:09.583
> 
> 标签：vb.net, io

我有以下代码

```
 Public Function ListDirLatest(ByVal Dir As String, ByVal Amount As Integer) As DataTable        
    Dim dt As DataTable = ListDir(Dir)
    If (dt Is Nothing) Then
        Return Nothing
    Else
        Return dt ' This is where i would like to implement the latest x-files logic
    End If
End Function

Private Function ListDir(ByVal Dir As String) As DataTable
    If Directory.Exists(Dir) Then
        Dim dt As DataTable = GetDT()
        Dim dirinfo As New DirectoryInfo(Dir)
        For Each fsi As FileSystemInfo In dirinfo.GetFileSystemInfos(".txt")
            Dim dr As DataRow = dt.NewRow()
            dr("FileName") = fsi.Name()
            dr("FileDate") = fsi.CreationTime()
        Next
        Return dt
    Else
        Return Nothing
    End If
End Function

Private Function GetDT() As DataTable
    'Create DataTable to hold results
    Dim dt As New DataTable("DirList")
    Dim st As System.Type = System.Type.GetType("System.String")
    dt.Columns.Add("FileName", st)
    dt.Columns.Add("FileDate", st)
    Return dt
End Function 
```

目前该`ListDirLatest`函数将返回目录中的所有文件。如何更改代码以使其仅返回`Amount` 参数指定的最新“x”文件。

为了澄清我想返回目录中最新的“x”文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T09:56:22.117

您可以使用一点 Linq 和对 System.Data.DataSetExtensions
( [http://msdn.microsoft.com/en-us/library/system.data.datatableextensions(v=vs.100) 的引用来解决您的问题。 .aspx](http://msdn.microsoft.com/en-us/library/system.data.datatableextensions(v=vs.100).aspx) )

```
Public Function ListDirLatest(ByVal Dir As String, ByVal Amount As Integer) As DataTable        
    Dim dt As DataTable = ListDir(Dir)
    If (dt Is Nothing) Then
        Return Nothing
    Else
        Dim r = from myRow in dt.AsEnumerable()
                Order By("FileDate DESC")
                Take(Amount)
        dt = r.CopyToDataTable()
        return dt
    End If
End Function 
```

此外，ListDir 函数有几个错误

*   将行信息添加到返回的DataTable中
*   为 GetFileSystemInfos 使用正确的模式

    ```
    Function ListDir(ByVal Dir As String) As DataTable
        If Directory.Exists(Dir) Then
            Dim dt As DataTable = GetDT()
            Dim dirinfo As New DirectoryInfo(Dir)
            For Each fsi As FileSystemInfo In dirinfo.GetFileSystemInfos("*.txt")
                Dim dr As DataRow = dt.NewRow()
                dr("FileName") = fsi.Name()
                dr("FileDate") = fsi.CreationTime()
                dt.Rows.Add(dr)
            Next
            Return dt
        Else
            Return Nothing
        End If
    End Function 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:45:09.107

如果您的意思是要返回的文件数量，那么您需要执行以下操作：

首先更改 ListDir 函数的标题以接受一个参数以允许计算要返回的文件数，并从第一个函数传递该参数，

```
Public Function ListDirLatest(ByVal Dir As String, ByVal Amount As Integer) As DataTable        
    Dim dt As DataTable = ListDir(Dir, Amount)
    If (dt Is Nothing) Then
        Return Nothing
    Else
        Return dt ' This is where i would like to implement the latest x-files logic
    End If
End Function

Private Function ListDir(ByVal Dir As String, ByVal Amount As Integer) As DataTable
    If Directory.Exists(Dir) Then
        Dim dt As DataTable = GetDT()
        Dim dirinfo As New DirectoryInfo(Dir)
        Dim cnt as Integer = 0
        For Each fsi As FileSystemInfo In dirinfo.GetFileSystemInfos(".txt")
            Dim dr As DataRow = dt.NewRow()
            dr("FileName") = fsi.Name()
            dr("FileDate") = fsi.CreationTime()
            cnt += 1
            if cnt >= Amount Then Exit For
        Next
        Return dt
    Else
        Return Nothing
    End If
End Function 
```

# machine-learning - 红眼检测

> ID：13248182
> 
> 赞同：2
> 
> 时间：2012-11-06T09:35:20.050
> 
> 标签：machine-learning, artificial-intelligence, computer-vision, face-detection, face-recognition

**项目：**红眼检测

**描述：**我想从图像中去除红眼。我无法使用人脸检测器，因为图像中的人脸并不总是正面的，而且图像是戴着头盔的玩家。并且图像可能有很多红眼睛。另外，灯光也不合适。我想知道如何检测红眼？我正在寻找一些经过验证的研究。任何帮助，将不胜感激。

更新：我的图像将像下面的红眼图像。 ![在此处输入图像描述](../Images/22eb0c567e67ac5d4dcfc81d22987c96.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:45:55.963

这些算法属于计算机视觉中研究的边缘和特征检测算法。

由于您正在寻找研究，我可以为您提供阅读[Microsoft](http://research.microsoft.com/en-us/um/people/leizhang/paper/icip04-lei.pdf)，[HP](http://www.hpl.hp.com/personal/Robert_Ulichney/papers/2002-redeye-ICIP.pdf)的文章，HP 的[另一篇](http://pdf.aminer.org/000/330/816/automatic_red_eye_detection_and_removal.pdf)文章，[该算法的另一个很好的讨论](http://www.ingentaconnect.com/search/download;jsessionid=6jsacnn2jpe90.victoria?pub=infobike://maney/isj/2011/00000059/00000001/art00002&mimetype=text/html)

# java - 抽象方法中应该有哪些参数

> ID：13248183
> 
> 赞同：1
> 
> 时间：2012-11-06T09:35:19.843
> 
> 标签：java

我有一个抽象班`Client`和四个孩子`Client1` `Client2`......

每个客户行：

```
 response = service.iszr(params); 
```

其中 response 和 params 取决于类

在 Class1 这是

```
Client1ResponseType response
Client1params params 
```

现在我想添加到抽象类方法：

```
 protected abstract void sendRequest(?? response, ?? params); 
```

但我不知道应该是什么类型

我尝试这样的想法：

```
 protected abstract <I, O> void sendRequest(I input, O output); 
```

在儿童中

```
 @Override
  protected <Client1ResponseType, Client1params> void sendRequest(Client1ResponseType input,
      Client1params output) {
    output = service.iszrRobCtiAifo(input);
  } 
```

但没有成功。有编译错误。我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T09:38:45.013

我无法完全理解您实际上要做什么。

但是你想让它通用的某种方式？

尝试**对象**

```
 protected abstract void sendRequest(Object response, Object params); 
```

您可以将此变体扩展到其他泛型，例如`Object[]`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:39:53.933

在抽象类的声明中，您需要添加：

```
 abstract class Client <I extends SOME_CLASS1, O extends SOME_CLASS2> 
```

其中 SOME_CLASS1 是第一个参数的子类型， SOME_CLASS2 是第二个参数的子类型，`Object`如果需要，两者都可以。

你的抽象方法是这样的：

```
 protected abstract void sendRequest(I response, O params); 
```

当你扩展类时，你需要像这样指定这些类型：

```
 class Client1 extends Client <Client1ResponseType, Client1params> 
```

如果您有任何问题，请告诉我。

# r - 如何为 constrOptim 设置约束

> ID：13248189
> 
> 赞同：0
> 
> 时间：2012-11-06T09:35:38.943
> 
> 标签：r, optimization, constraints

我有一个函数需要将权重应用于矩阵以返回标量值。但是权重只能在上限和下限之间`c(-5,5)`，并且必须总和小于一个数值`y`。如何将这些约束应用于 constrOptim 函数？

因此，例如，我的函数可以是任何可以解决问题的函数，但无论如何我都会提供一个模拟示例......（我认为它是非线性的......）

示例权重在哪里`y==1`说

```
weights <- c(0.1,0.4,0.5)

require(timeSeries)

objective.fun <- function(weights, matrix.obj){
    sum( colSds( matrix.obj * rep(weights,each=nrow(matrix.obj)) )
} 
```

和一个例子 matrix.obj 说

```
matrix.obj <- data.frame(cbind(x=rnorm(100), y=rnorm(100), z=rnorm(100))) 
```

列数是可变的......

# map - AutoMapper：无法访问从 AfterMap() 中传递给 Map() 的原始对象实例

> ID：13248190
> 
> 赞同：2
> 
> 时间：2012-11-06T09:35:39.237
> 
> 标签：map, automapper

我有这样的代码：

```
 //Fields
    Product _prod, _existingProd;

    void Test()
    {
        _prod = MakeAndPopulateSomeRandomProduct();
        _existingProd = GetProdFromDb(1);

        Mapper.CreateMap()
        .AfterMap((s, d) =>
        {
            Console.WriteLine(d==_existingProd); //Why does this print false?

            //Customize other properties on destination object
        });

    Mapper.Map(_prod, _existingProd);
} 
```

当我打电话时`Test()`，`false`会打印但我预期`true`。在我的场景中，能够`object`通过`AfterMap`参数访问原始目的地很重要。我只包含了用于演示问题的字段，但在我的真实代码中，我无法直接访问它们。`Map()`自定义映射时如何访问传入的对象实例？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T20:11:33.280

以下示例有效。可能您正在使用一些创建新实例的类型转换器......另外请提供所有映射配置以更好地理解问题。

```
[TestFixture]
public class AfterMap_Test
{
    //Fields
    private Product _prod, _existingProd;

    [Test]
    public void Test()
    {
        Mapper.CreateMap<Product, Product>()
            .AfterMap((s, d) =>
                          {
                              Trace.WriteLine(d == _existingProd); //Why does this print false?

                              //Customize other properties on destination object
                          });
        _existingProd = new Product {P1 = "Destination"};
        _prod = new Product {P1 = "Source"};
        Mapper.Map(_prod, _existingProd);
    }
}

internal class Product
{
    public string P1 { get; set; }
} 
```

# android - 在布局中添加 ExpandableListView

> ID：13248192
> 
> 赞同：1
> 
> 时间：2012-11-06T09:35:54.890
> 
> 标签：android, layout, expandablelistview, expandablelistadapter

我在互联网上找到了这段代码，一个`ExpandableListView`. 它运行完美。

```
import android.app.ExpandableListActivity;
import android.os.Bundle;
import android.widget.ExpandableListAdapter;
import android.widget.SimpleExpandableListAdapter;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

/**
 * Demonstrates expandable lists backed by a Simple Map-based adapter
 */
public class SmplExpandableTest extends ExpandableListActivity {
    private static final String PARENT_KEY = "pKey";
    private static final String CHILD_KEY = "cKey";

    private ExpandableListAdapter mAdapter;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        List<Map<String, String>> groupData = new ArrayList<Map<String, String>>();
        List<List<Map<String, String>>> childData = new ArrayList<List<Map<String, String>>>();

        Map<String, String> curGroupMap = new HashMap<String, String>();
        groupData.add(curGroupMap);
        curGroupMap.put(PARENT_KEY, "Hello");
        curGroupMap.put(CHILD_KEY, "First Order System Response");

        List<Map<String, String>> children = new ArrayList<Map<String, String>>();

        Map<String, String> curChildMap = new HashMap<String, String>();
        children.add(curChildMap);
        curChildMap.put(PARENT_KEY, "World");
        curChildMap.put(CHILD_KEY, "Second Order System");

        childData.add(children);

        // Set up our adapter
        mAdapter = new SimpleExpandableListAdapter(this, groupData,
                android.R.layout.simple_expandable_list_item_1, new String[] {
                        PARENT_KEY, CHILD_KEY }, new int[] {
                        android.R.id.text1, android.R.id.text2 }, childData,
                android.R.layout.simple_expandable_list_item_2, new String[] {
                        PARENT_KEY, CHILD_KEY }, new int[] {
                        android.R.id.text1, android.R.id.text2 });
        setListAdapter(mAdapter);
    }
} 
```

现在我想将它插入到`ExpandableListView`布局中，这样我就可以在底部添加一个按钮。我怎样才能做到这一点 ？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:09:42.913

要将 a 添加`Button`到屏幕底部，您`ExpandableListView`必须做两件事：

1.  该活动必须从而`Activity`不是扩展`ExpandableListActivity`。而且您必须设置自定义布局。
2.  创建包含`ExpandableListView`和 'Button' 的自定义布局。

该活动将类似于：

```
public class SmplExpandableTest extends Activity {
    private static final String PARENT_KEY = "pKey";
    private static final String CHILD_KEY = "cKey";

    private ExpandableListAdapter mAdapter;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.my_layout);
        ExpandableListView elv = (ExpandableListView) findViewById(R.id.elv);

        List<Map<String, String>> groupData = new ArrayList<Map<String, String>>();
        List<List<Map<String, String>>> childData = new ArrayList<List<Map<String, String>>>();

        Map<String, String> curGroupMap = new HashMap<String, String>();
        groupData.add(curGroupMap);
        curGroupMap.put(PARENT_KEY, "Hello");
        curGroupMap.put(CHILD_KEY, "First Order System Response");

        List<Map<String, String>> children = new ArrayList<Map<String, String>>();

        Map<String, String> curChildMap = new HashMap<String, String>();
        children.add(curChildMap);
        curChildMap.put(PARENT_KEY, "World");
        curChildMap.put(CHILD_KEY, "Second Order System");

        childData.add(children);

        // Set up our adapter
        mAdapter = new SimpleExpandableListAdapter(this, groupData,
                android.R.layout.simple_expandable_list_item_1, new String[] {
                        PARENT_KEY, CHILD_KEY }, new int[] {
                        android.R.id.text1, android.R.id.text2 }, childData,
                android.R.layout.simple_expandable_list_item_2, new String[] {
                        PARENT_KEY, CHILD_KEY }, new int[] {
                        android.R.id.text1, android.R.id.text2 });

        elv.setAdapter(mAdapter);
    }
} 
```

布局`res/layout/my_layout.xml`类似于：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >
        <ExpandableListView 
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            android:id="@+id/elv" >
        </ExpandableListView>
        <Button 
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:id="@+id/btn"
            android:text="@string/btn_text" >
</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T09:39:43.080

您需要在 xml 中使用**Expandable listview**并将其绑定为`BaseExtendedAdapter`

这是[示例](http://www.dreamincode.net/forums/topic/270612-how-to-get-started-with-expandablelistview/)

# extjs - 在 extjs 的组合框中执行级联时动态加载数据

> ID：13248196
> 
> 赞同：1
> 
> 时间：2012-11-06T09:35:58.710
> 
> 标签：extjs

> **可能重复：**
> [extjs 中的级联组合框](https://stackoverflow.com/questions/13193361/cascading-combobox-in-extjs)

嗨，我有两个组合框，即..

**学术班**

```
{
    xtype : 'combobox',
    emptyText : 'Academic Class',
    displayField : 'name',
    id:'comboacademicclass',
    valueField : 'id',
    store:classstore,
    triggerAction:'all',
    mode:'local',
    listeners : {
        'select' : {
            fn: function(combo1, value) {
                var comboSubject=Ext.getCmp('combo-subject');
                var classId=Ext.getCmp('comboacademicclass').getValue();
                comboSubject.setDisabled(true);
                comboSubject.setValue('');
                comboSubject.getStore().removeAll(true);
                comboSubject.getStore().load({url:'http://localhost:8080/WebService/rest/type/academicSubjectByClass/'+classId+'.json'});
                    // Using this loading data in second combobox by passing first combobox Id.:- 'classId'.
                    comboSubject.setDisabled(false); 
            }
        }
    }   
} 
```

**学术科目**：

```
{
    xtype : 'combobox',
    emptyText : 'Academic Subject',
    id:'combo-subject',
    displayField : 'name',
    valueField : 'id',
    disabled:true,
    store:subjectstore,
    triggerAction:'all',
    mode:'local'
    ,lastQuery:''
} 
```

它仅在第一次选择时显示输出，但在第二次选择时仅显示“正在加载”而不显示输出。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T11:32:31.113

好吧，您应该使用 AcademicClass 上的 AcademicSubject 组合来收听`select`或`change`事件，并连同它一起激活收听组合。您还将获得选定的值，因此可以为激活组合准备查询。你可以这样做

```
combobox.queryData = [{ property: 'fieldName', value: value}];
combobox.reset();
combobox.doQuery(combobox.queryData); 
```

其中`combobox`是对已激活组合 (AcademicSubject ) 的引用和`value`AcademicClass 组合中的属性值。为确保使用您的新查询使用

```
combobox.on('beforequery', function (e) {
    e.query = e.combo.queryData;
}); 
```

请注意：对于上面的片段，我建议使用`queryParam: 'filter'`这将使您能够使用默认的服务器端过滤器行为，而无需引入新的参数。

# jquery - 没有触发器的jQuery Datepicker

> ID：13248197
> 
> 赞同：0
> 
> 时间：2012-11-06T09:36:06.900
> 
> 标签：jquery, jquery-ui, jquery-ui-datepicker

我希望在页面上显示一个 jQuery 3 个月日历。用户将选择某个日期并单击按钮以查看时间表。

我尝试使用下面的 jQuery 代码

```
<input type="text" id="dp-text-box" />

$("#dp-text-box").datepicker({               
            numberOfMonths: 3,               
            dateFormat:'yy/mm/dd'
        }); 
```

但是它会显示文本框，用户必须单击才能打开日期选择器。

但在我的情况下，我应该显示日期选择器默认值并允许用户导航。

请找到我需要的附加图像。![我的日期选择器要求](../Images/03f8a43c4a4cbde6ca242382279f48e2.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T09:38:29.070

从说明书来看，

> 显示嵌入页面而不是覆盖的日期选择器。只需在 div 而不是输入上调用 .datepicker()

HTML

```
<div id="datepicker"></div> 
```

jQuery

```
$( "#datepicker" ).datepicker({
    numberOfMonths: 3,
    onSelect : function( selDate, instance){
        alert(selDate);
    }
}); 
```

注意：`onSelect`位未经测试，但应该可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:46:12.960

使用 div 代替文本框

javascript

```
$(function() {
    $( "#datepicker" ).datepicker();
}); 
```

html

```
<div id="datepicker"></div> 
```

# c# - 我的表格中的虚拟键盘。防止按钮焦点

> ID：13248198
> 
> 赞同：1
> 
> 时间：2012-11-06T09:36:16.530
> 
> 标签：c#, winforms

我正在尝试在我的表单中创建一个虚拟数字键盘。当用户单击任何小键盘按钮时，相应的数字应发送到当前聚焦的 TextBox（或任何其他文本控件）。

除了模拟击键之外，如何防止数字键盘控件内的数字键盘按钮从已经聚焦的 TextBox 中窃取焦点？

我试过谷歌搜索和搜索，但没有找到任何对我有帮助的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:04:01.373

在 Numpad 按钮的单击事件中添加此行。

```
this.ActiveControl = YourTextboxID; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:44:01.560

```
SetStyle(ControlStyles.Selectable, false); 
```

# c# - 如何自动创建属性？

> ID：13248199
> 
> 赞同：5
> 
> 时间：2012-11-06T09:36:26.810
> 
> 标签：c#, .net, reflection, properties

我有一个“设置”类，它具有一些可用性和限制设置访问器的属性。当我有十件以内的物品时，这似乎很容易，但后来它们的数量增加了。我需要一些方法来自动创建这些属性，比如：

```
foreach(var property in SettingsList)
{
    _settings.AddAutoProperty(property);
} 
```

它可能处理反射，但我无法找到有效的解决方案。

属性定义：

```
public bool cbNextExcCount
{
    get { return (bool)this.GetValueById("cbNextExcCount"); }
}

public bool cbSaveOnChangeExc
{
    get { return (bool)this.GetValueById("cbSaveOnChangeExc"); }
}

public bool cbAutoIncrement
{
    get { return (bool)this.GetValueById("cbAutoIncrement"); }
}

public bool cbRememberOnExit
{
    get { return (bool)this.GetValueById("cbRememberOnExit"); }
}

...etc. 
```

**更新** 总而言之，我写了下一个代码：

```
public IDictionary<string, object> Properties = new ExpandoObject();
private List<string> SettingsList = new List<string> 
{ 
    "cbNextExcCount",
    "cbSaveOnChangeExc",
    "cbAutoIncrement",
    "cbRememberOnExit"
};

public void CreateProperties()
{
    foreach (string SettingName in SettingsList)
    {
        Properties.Add(SettingName, () => this.GetValueById(SettingName));
    }
} 
```

但我有一个错误`() => this.GetValueById("cbNextExcCount"))`：

参数类型“lambda 表达式”不可分配给参数类型“对象”。

我可以存储`Func<bool>`，但设置可能有其他类型而不是 bool，如果我使用 Func，调用起来会更复杂一些。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-06T09:42:23.627

您无法创建自动属性，但可以使用`ExpandoObject`.

我不确定这是否是您正在寻找的，因为使用 expandos 意味着使用*鸭子类型*（即动态编程）。

`ExpandoObject`样本：

```
dynamic expando = new ExpandoObject();
expando.PropertyA = "Hello";
expando.PropertyB = "world!"; 
```

expandos 的一个有趣之处在于`ExpandoObject`implements `IDictionary<string, object>`，这意味着您可以将任何 expando 向上转换为这种类型并迭代其添加的属性，这对于存储运行时创建的设置非常有用。

**更新**

我在考虑一个好的解决方案，如果`SettingList`是你自己开发的自定义类，也许你可以添加一个名为`Custom`to的属性`SettingList`并添加在设计时未添加的设置。

**更新 2**

`Func<bool>`在您的情况下，您可以添加到`ExpandoObject`的运行时设置，而不是存储某些东西的实际值：

```
IDictionary<string, object> settings = new ExpandoObject();
settings.Add("cbNextExcCount", () => this.GetValueById("cbNextExcCount")); 
```

实际上，我不知道`this`您的代码示例中的范围，但更改`this`为任何可能是实例`SettingList`或其他内容的内容。

添加运行时设置后，您可以键入要键入的`settings`变量`dynamic`以访问如下属性：

```
dynamic allSettings = (dynamic)settings;
bool cbNextExcCount = allSettings.cbNextExcCount(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T09:43:09.797

您可以考虑 System.Dynamic 命名空间中的 Expando 对象。[这篇](http://www.codeproject.com/Articles/121472/An-introduction-to-Expando-Object-Dotnet-4-0)文章可以是一个好的开始。

# c - sk_buff 复制 & sk_buff 克隆

> ID：13248209
> 
> 赞同：4
> 
> 时间：2012-11-06T09:36:59.457
> 
> 标签：c, linux, linux-kernel, linux-device-driver, kernel-module

我正在为 linux 内核编写一个模块，它试图窃取数据包及其相关的**sk_buff**。为此，我想使用& 然后在**丢弃数据包**`struct sk_buff *skb_copy(const struct sk_buff *skb, gfp_t gfp_mask)`时将返回类型传递给内核。

 **因此，当内核获取有关丢包的信息时，它会尝试释放 sk_buff。我的问题来了，它会影响我新复制的 skb 及其数据包的指向数据吗？或者现在我可以玩我的新 sk_buff 了吗？

或者是否可以使用**skb_clone()**并使用数据包数据部分而不删除旧 sk_buff 引用的数据，因为它会减少数据包的复制成本。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-08T17:41:20.477

使用`skb_copy`会将数据包和数据包复制`sk_buff`到新内存。这意味着当内核释放另一个时，副本不会受到影响。

`skb_clone`另一方面，将`sk_buff`结构复制到新内存，但不复制数据包。这意味着当旧的被释放时，您的副本也将释放数据包。

以下是一些链接：

*   [http://docs.blackfin.uclinux.org/kernel/generated/networking/re68.html](http://docs.blackfin.uclinux.org/kernel/generated/networking/re68.html) (skb_clone)

*   [http://oss.org.cn/ossdocs/gnu_linux/kernel-api/r8086.html](http://oss.org.cn/ossdocs/gnu_linux/kernel-api/r8086.html) (skb_copy)**

# regex - 用于在 ColdFusion 9 中从字符串中的数值周围删除引号的正则表达式

> ID：13248213
> 
> 赞同：2
> 
> 时间：2012-11-06T09:37:12.530
> 
> 标签：regex, json, coldfusion

数值是指以下 JSON 中不应包含在双引号中的值。我已经为此编写了一个一次性的解决方法，但是可以重复使用的通用 REReplace() 将是一个很好的帮助。

所以这

```
{
  "collapse_key" : "demo",
  "delay_while_idle" : true,
  "registration_ids" : ["xyz"],
  "data" : {
    "key1" : "value1",
    "key2" : "value2",
  },
  "time_to_live" : "3"
}, 
```

变成这样：

```
{
  "collapse_key" : "demo",
  "delay_while_idle" : true,
  "registration_ids" : ["xyz"],
  "data" : {
    "key1" : "value1",
    "key2" : "value2",
  },
  "time_to_live" : 3
}, 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T09:49:41.720

这应该有效：

```
s = reReplace(s, '"([\d.-]+)"', "\1", "ALL") 
```

（其中 s 是您的 JSON 字符串）

*   " 匹配双引号
*   () 表示“记住这一点，以便我以后可以将其引用为 \1
*   \d 表示“一个数字”
*   . 表示小数点
*   - 表示减号
*   + 表示其中一个或多个

请注意，这将匹配诸如“..0-1”之类的非法“数字”，但在您的要求范围内，这可能没问题。可以将正则表达式卷积得更精确，但在这里这样做可能没有任何好处。让我知道这里是否存在误报风险，我可以修改。

或者我想彼得无论如何都会给出更好的答案;-)

# css - 溢出隐藏在 Firefox 上不起作用

> ID：13248215
> 
> 赞同：0
> 
> 时间：2012-11-06T09:37:18.880
> 
> 标签：css, wordpress, firefox, overflow

昨天我检查了一个突出显示我在一个网页主页中的产品幻灯片不是仅在 Firefox 上垂直对齐的属性，它在 IE 和 Chrome 上运行良好。

我正在搜索信息，我发现了很多年前关于 FF 的错误。我尝试了一些我找到的解决方案，但没有一个有效。

```
<div id="feature-wrap-container">
    <div id="feature_wrap">
        <div id="scrollable">
           //a list of element floating left
        </div>
    </div>
</div>

#feature-wrap-container{
 background-color: #ffffff;
 width: 100%;
 height: 260px;
}

#feature_wrap {
 width: 960px;
 height: 260px;
 overflow:hidden;
 position: relative;
 left: 0;
 right: 0;
 margin-left: auto;
 margin-right: auto;
}

#scrollable {
 height:100%;
} 
```

在 chrome 和 IE 上，div 位于窗口的中心，而在 Firefox 中，feature_wrap 向右对齐并使窗口大于 100%。

该幻灯片基于：[http](http://wordpress.org/extend/plugins/featured-posts-slideshow/) ://wordpress.org/extend/plugins/featured-posts-slideshow/ ，但显然已修改。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T09:46:40.653

看到我在[这里](http://jsfiddle.net/QqGXW/)创建了你的小提琴，它在 Firefox 中看起来很适合我。我已经减小了宽度`#feature_wrap`并签入了Firefox，它正在工作。您面临的问题是什么？

![截屏](../Images/9952e73668d5df339a658f0a2ae1852e.png)

[在此处](https://i.imgur.com/aMr4j.png)获取完整图像。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-11-06T09:42:57.990

而不是使用`overflow: hidden`它更好地使用`overflow-x: hidden, overflow-y: hidden`如下：

```
#feature_wrap {
 width: 960px;
 height: 260px;
 overflow-x :hidden;
 overflow-y: hidden;
 position: relative;
 left: 0;
 right: 0;
 margin-left: auto;
 margin-right: auto;
} 
```

# c++ - 从预定义类型转换为自己的 CMyString

> ID：13248218
> 
> 赞同：2
> 
> 时间：2012-11-06T09:37:21.027
> 
> 标签：c++, visual-c++

假设我有一个名为 dummy 的函数，其定义方式如下：

```
void dummy(CMyString& mystr)
{
   mystr.print(); //show
} 
```

CMyString 将是我自己使用字符数组实现的字符串。

```
int main()
{
   dummy("This is a test!");
   return 0;
} 
```

我想打印以下程序：“这是一个测试！”。这可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T09:39:06.263

是的，您只需要提供一个非`explicit`转换构造函数即可`CMyString`：

```
class CMyString
{
public:
    CMyString(const char* x); 
    //.....
}; 
```

当然，实现该`CMyString::print`方法。在此之后，您需要将参数更改为

```
void dummy(const CMyString& mystr) 
```

（并将`print`方法标记为`const`），因为您不能将 temp 绑定到非常量引用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T09:40:01.430

当然。您只需要定义一个构造函数`CMyString`，它将一个 s 数组`char`或一个指向的指针`char`作为其唯一参数。像这样：

```
class CMyString
{
public:
  CMyString(const char* str)
  {
    // Initialise CMyString with str
  }
}; 
```

# tomcat - 如何从 WebDav 服务器访问（或使用）数据库？

> ID：13248220
> 
> 赞同：2
> 
> 时间：2012-11-06T09:37:22.580
> 
> 标签：tomcat, webdav

我想知道如何从 WebDav 服务器访问（或使用）mysql 数据库。我已经设置了 tomcat WebDav 服务器。基本上，我想通过从数据库中查询来列出文件。通过使用 Java，任何 Api 都在那里。会有怎样的反应？它是 Xml 还是 Json？我已经通过以下 url 设置了 tomcat 服务器。[http://www.mulesoft.com/tomcat-WebDav](http://www.mulesoft.com/tomcat-WebDav)。让我知道是否有更好的文档。

# r - ggplot2：如何从数据框创建一个简单的箱线图？

> ID：13248226
> 
> 赞同：0
> 
> 时间：2012-11-06T09:38:22.153
> 
> 标签：r, boxplot, ggplot2

我一整天都在尝试做这个箱线图。我很快就放弃了。请帮忙。我只想为我的 3 个组 A、B 和 C 绘制一个简单的箱线图。这是我简化的数据：

```
> mydata 
   A01 A02 A03 B01 B02 B03 C01 C02 C03
id0001    1    2    3    6    7    8    11    12    13 
```

A01、A02 和 A03 应该构成 A 等的置信区间。我怎样才能在 x 轴上有 3 个组的非常简单的箱线图？虽然盒子也很棒，但如果有人能帮我制作类似于[这个](http://compbio.mit.edu/cummeRbund/images/plots/cummeRbund-manual-gene_plots_line-4.png)的情节，我将不胜感激。最终，我想制作一个包含多个 ID 的图表，所以它看起来像[这个](http://compbio.mit.edu/cummeRbund/images/plots/cummeRbund-manual-similar_plots_2.png)，但像第一个一样有错误栏。

如果有人可以帮助我或给我有关如何进行的提示，我将非常感激！

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T13:45:25.717

**假设您确实想要一个箱线图（或来自ggplot2**的任何其他图），您需要将数据强制转换为正确的格式。这是一个基于与您显示的数据相似的数据的示例：

```
df <- data.frame(matrix(c(1:3, 6:8, 11:13), nrow = 1))
names(df) <- paste0(rep(LETTERS[1:3], each = 3), 1:3)

sdf <- stack(df)

sdf <- transform(sdf, group = substring(ind, 1, 1),
                 obs = substring(ind, 2)) 
```

数据`sdf`现在采用标准化格式（或长格式）：

```
> head(sdf)
  values ind group obs
1      1  A1     A   1
2      2  A2     A   2
3      3  A3     A   3
4      6  B1     B   1
5      7  B2     B   2
6      8  B3     B   3 
```

然后可以轻松绘制这些数据：

```
require(ggplot2)
plt <- ggplot(sdf, aes(x = group, y = values)) +
    geom_boxplot()
plt 
```

生产：

![在此处输入图像描述](../Images/4d37c9ca4aac5ecfc6774ec267a4f3f6.png)

# javascript - Colorbox 未将边框图像的宽度和高度添加到图像尺寸中

> ID：13248228
> 
> 赞同：1
> 
> 时间：2012-11-06T09:38:39.387
> 
> 标签：javascript, jquery, colorbox

我在使用 jQuery colorbox 插件时遇到尺寸问题。当我单击图像以将其显示在颜色框中时，它会从图像中获取正确的尺寸以显示，但它无法添加其自己的边框（弹出框的边框）的宽度和高度，每个边框为 25 像素。内部宽度和高度是正确的，而外部宽度和高度最终只有 50px 太少。这会导致图像根本不显示。只有边界是可见的，而不是在正确的位置。

我已经搜索了几个小时试图找到有类似问题的人，并尝试了很多方法来修复它，但我仍然不知道为什么它会一直这样做。

一些信息：
- 我正在使用 jQuery 1.4.2（这无法更改，我很确定它是兼容的）
- 我当前的代码看起来像这样

```
$.colorbox({inline:true, href:'#inline_content'}); 
```

其中 #inline_content 是 HTML 图像标签的 ID
- 文件按以下顺序加载：colorbox CSS - jQuery - colorbox JS
- Firebug 不显示任何 javascript 错误

编辑：我发现其他人将颜色框的版本更改为最新版本。仅适用于 jQuery 1.4.3+ 这导致了奇怪的问题。

谢谢你的帮助，如果我浪费了你的时间，我很抱歉。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:13:51.237

没有人可以帮助您进行这样的描述。我为你创建了测试 jsfiddle：

*   [http://jsfiddle.net/QkdL2/](http://jsfiddle.net/QkdL2/)

编辑此示例并按`Update`，然后向我们展示问题演示的链接（还包括您的 css 样式）。

# .net - 2d图形速度，旧/新方法等

> ID：13248235
> 
> 赞同：1
> 
> 时间：2012-11-06T09:39:00.287
> 
> 标签：.net, windows, graphics

我们一直在为新应用尝试不同的图形方法，速度很重要。我们有一个使用 GDI 的旧应用程序，它非常棒 - 它可以刷新 10,000 轮，完全没有明显的延迟。对于新应用程序，我们想使用 C# 或 VB，搭配 WPF，我想没问题，Direct 2d 会给我们同样的性能。但是在尝试了许多示例之后，我们无法以最快的速度获得任何东西。相同数量的绘图可能需要 300 毫秒，它必须慢 10 或 100 倍。

如果我们想要良好的图形性能，我们是否真的必须使用 c++ / gdi，或者我们错过了什么？

是否有 c# 或 vb 中的示例项目可以展示可实现的最佳图形性能？

谢谢

# facebook - Facebook Graph API：按特定位置获取所有公开照片

> ID：13248237
> 
> 赞同：0
> 
> 时间：2012-11-06T09:39:15.210
> 
> 标签：facebook, facebook-graph-api

我不认为这是可能的，但也许我错过了一些东西。

我想将所有公共照片附加到特定位置。

我试过：

*   graph.facebook.com/**放置**/标记/。这似乎没有返回最近的结果。
*   graph.facebook.com/search?type=location¢er=**坐标**&距离=200。这仅返回与用户（和用户朋友）相关的结果。

对此有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T12:22:37.217

我不认为这是可能的。

如果您只需要特定地点的照片，我会改用 instagram。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T12:34:12.067

Facebook 永远不会如此慷慨地将所有公共图像都提供给查询。这就像 TB 的数据，任何人都可以通过一行代码访问。

您可以做的是获取用户和用户朋友的图像。如果它是一个公共应用程序，那么用户群应该会增长，并且您会接触到更多图像。

希望有帮助。

# oracle - 什么时候应该在游标中使用“for update nowait”？

> ID：13248239
> 
> 赞同：21
> 
> 时间：2012-11-06T09:39:25.207
> 
> 标签：oracle, stored-procedures, oracle11g, oracle10g, database-cursor

在这种情况下，我们需要`for update nowait`在游标中使用。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-11-06T09:58:11.590

使用`for update nowait`将导致行忙碌并获取锁，直到执行提交或回滚。任何其他尝试获取锁的会话都将收到一条 Oracle 错误消息，`ORA-00054: resource busy and acquire with NOWAIT specified or timeout expired`而不是等待锁释放。

**会话1：**

```
CURSOR abc_cur 
IS 
select * from dept where deptno =10 for update nowait; 
```

在这里，行被锁定，直到游标关闭或执行提交/回滚。同时，如果会话 2 中的另一个用户尝试访问相同的记录，则会抛出如下所示的错误：

**会话2：**

```
select * from dept where deptno =10 for update nowait; 
```

该用户甚至无法更新或删除已被第一个会话锁定的相同记录。

```
ERROR at line 1:
`ORA-00054: resource busy and acquire with NOWAIT specified or timeout expired` 
```

**用法：** 现在，如果您想对某些记录集进行一些操作，并且您不希望另一个会话中的另一个用户覆盖您的数据，那么您必须首先锁定记录（使用`for update nowait`）然后进行操作。完成操作后，关闭光标并提交。

**编辑** 假设 temp 中有 10 行，我在会话 1 中执行以下脚本：

```
declare
  cursor abc is select * from temp for update nowait;
  temp abc%rowtype;
begin
  open abc;
  -- do slow stuff here
  close abc;
  commit; 
end; 
```

在会话 2 中，我在会话 1 中的脚本仍在运行时执行以下操作

```
select * from temp;

10 rows found 
```

如果我在会话 2 中执行相同的脚本，而会话 1 中的脚本仍在运行

```
declare
  cursor abc is select * from temp for update nowait;
  temp abc%rowtype;
begin
  open abc;
  -- do slow stuff here
  close abc;
  commit; 
end; 
```

然后我得到`ORA-00054: resource busy and acquire with NOWAIT specified or timeout expired instead of waiting the lock to release.`

# php - 从 stdClass 获取字符串

> ID：13248241
> 
> 赞同：-1
> 
> 时间：2012-11-06T09:39:26.217
> 
> 标签：php, twitter, stdclass

我正在尝试让我的最新推文显示在我的网页上，并找到并正在使用这段代码。

```
 <?php
            function buildBaseString($baseURI, $method, $params) {
                $r = array();
            ksort($params);
            foreach($params as $key=>$value){
                $r[] = "$key=" . rawurlencode($value);
            }
            return $method."&" . rawurlencode($baseURI) . '&' . rawurlencode(implode('&', $r));
            }

            function buildAuthorizationHeader($oauth) {
            $r = 'Authorization: OAuth ';
            $values = array();
            foreach($oauth as $key=>$value)
                $values[] = "$key=\"" . rawurlencode($value) . "\"";
            $r .= implode(', ', $values);
            return $r;
            }

            $url = "https://api.twitter.com/1.1/statuses/user_timeline.json?screen_name=jameskrawczyk";
            $oauth_access_token = "SECUIRTY";
            $oauth_access_token_secret = "SECURITY";
            $consumer_key = "SECURITY";
            $consumer_secret = "SECURITY";

            $oauth = array( 'oauth_consumer_key' => $consumer_key,
                        'oauth_nonce' => time(),
                        'oauth_signature_method' => 'HMAC-SHA1',
                        'oauth_token' => $oauth_access_token,
                        'oauth_timestamp' => time(),
                        'oauth_version' => '1.0');

            $base_info = buildBaseString($url, 'GET', $oauth);
            $composite_key = rawurlencode($consumer_secret) . '&' .     rawurlencode($oauth_access_token_secret);
            $oauth_signature = base64_encode(hash_hmac('sha1', $base_info, $composite_key, true));
            $oauth['oauth_signature'] = $oauth_signature;

            $header = array(buildAuthorizationHeader($oauth), 'Expect:');
            $options = array( CURLOPT_HTTPHEADER => $header,
                          //CURLOPT_POSTFIELDS => $postfields,
                          CURLOPT_HEADER => false,
                          CURLOPT_URL => $url,
                          CURLOPT_RETURNTRANSFER => true,
                          CURLOPT_SSL_VERIFYPEER => false);

            $feed = curl_init();
            curl_setopt_array($feed, $options);
            $json = curl_exec($feed);
            curl_close($feed);
            $twitter_data = json_decode($json);
?> 
```

问题是我似乎无法弄清楚如何在收到数据后实际打印数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T09:46:02.227

关于如何打印数据，您有两种选择。1.）一种是使用 $twitter_data 作为一个类（这是你目前正在做的）。2.) 一种是使用 $twitter_data 作为数组。这是通过使用：

```
 $twitter_data = json_decode($json,true); 
```

代替：

```
 $twitter_data = json_decode($json); 
```

如果您使用 $twitter_data 作为数组，您可以使用以下方法遍历每个元素：

```
foreach ($twitter_data as $elem)
{
  print_r($elem);
  echo '<br>';
} 
```

如果你将它用作一个类，你要么必须知道每个“元素”是如何命名的，因此使用 echo $twitter_data->elementName; 或使用反射类来获取 $twitter_data 中所有“元素”的列表并解析它们。

# cassandra - 基于 Cassandra 的图形数据库

> ID：13248245
> 
> 赞同：2
> 
> 时间：2012-11-06T09:39:37.300
> 
> 标签：cassandra, graph-databases, titan

我打算在我的 spring web 项目中使用 cassandra 和图形数据库。谷歌搜索后，我发现了一些开源图形数据库。实际上我一直在寻找一些对 cassandra 有很好支持的开源图形数据库，所以我找到了 titan 图形数据库。它看起来不错，但它是新的，不知道它对于具有大量数据和读/写操作的现实世界应用程序的效率有多大。

所以我想知道

**1\. 还有 cassandra 支持的图形数据库吗？
2\. 对于具有海量数据和读/写操作的现实世界 Web 应用程序来说，titan 是否足够好？**

# git - git 分支权限

> ID：13248246
> 
> 赞同：30
> 
> 时间：2012-11-06T09:39:41.693
> 
> 标签：git, branch

是否可以使用 git bash 设置分支权限？我想对 master 分支有更严格的权限，这样有些人可以使用开发分支并提交到它，并且可能不会自己更改 master 分支。

如果可能的话，我将如何尝试去做呢？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-11-06T09:49:42.673

Git 没有特定于分支的权限。您可以使整个存储库[只对人们只读](https://stackoverflow.com/questions/1662205/how-to-make-a-git-repository-read-only)，或者创建一个私有和一个公共存储库，并且只将开发分支推送到公共，同时仅将主存储库保留在您的私有存储库中。

**编辑：** 对于特定于分支的权限，您需要像[Gitolite](http://git-scm.com/book/ch4-8.html)这样的服务器端授权层——显然，这需要您管理自己的 Git 服务器。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-06-12T20:08:16.037

可能需要这样做的典型场景是将对官方（或发布）分支的访问限制为团队中的一部分人。一个好的策略可能是拥有两个 repo——一个是访问控制更严格的主 repo，另一个是团队中每个人都可以访问并用于设置工作分支的 repo。并根据需要从工作分支拉到主仓库。当然，您可以调整它以适应您的团队结构和需求。

这尤其适用于 github 等服务。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-02-21T08:46:39.383

bitbucket 支持分支限制。请参阅此处的链接：[https ://blog.bitbucket.org/2013/09/16/take-control-with-branch-restrictions/](https://blog.bitbucket.org/2013/09/16/take-control-with-branch-restrictions/)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-10-11T18:16:15.080

如果你的开发团队是一群文明的人，只需要一个友好的提醒，你可以使用[pre-receive 服务器端 hook](https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks)拒绝推送：

```
#!/bin/bash

# Extract the user email (%ae) from the last commit (author email)
USER_EMAIL=$(git log -1 --format=format:%ae HEAD)

# Looping through all the pushed branches
while read oldrev newrev refname
do
    branch=$(git rev-parse --symbolic --abbrev-ref $refname)
    if [ "master" == "$branch" ] && [ "the_integrator@your_company.com" != $USER_EMAIL ]; then
        echo "Naughty naughty!"
        exit 1 # fail, i.e. reject push
    fi
done 
```

尽管用户可以轻松伪造他们的 git 电子邮件地址，但我仍然会将挂钩文件本身设为只读。

参考：

1.  [如何在服务器端 git hook 中获取推送用户信息？](https://stackoverflow.com/questions/35718475/how-can-i-get-push-user-information-in-server-side-git-hook#35719493)
2.  [编写一个 git post-receive 钩子来处理特定的分支](https://stackoverflow.com/questions/7351551/writing-a-git-post-receive-hook-to-deal-with-a-specific-branch)

# c# - 动态创建多个表，每个表动态添加多行多列

> ID：13248253
> 
> 赞同：0
> 
> 时间：2012-11-06T09:40:02.050
> 
> 标签：c#, asp.net

创建单个表并动态添加行和列不是问题，但问题是当我尝试动态创建具有所有行和列的多个表时，我遇到了问题。

我正在检索具有 4 行和 5 列的数据表。对于每一行，我想把它放在一个带有列值的表中。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:58:42.993

`Repeater`您可以在您的 asp.net 页面中使用控件

[http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.repeater.aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.repeater.aspx)

`<itemtemplate>`在所需表的结构中定义。

在代码中添加为`DataSource`a`Repeater`方法`DataSource="<%# MethodName() %>"`

在该方法中，为每一行添加一个新项目`Repeater`并使用您的行信息填充它。这就像动态创建单个表，只是使用不同的逻辑。

这很麻烦（不知道为什么要为每一行使用不同的表），但是`Repeater`控件通常是解决需要多个控件的情况的方法。

# objective-c - 原子属性是否需要 volatile 关键字？

> ID：13248257
> 
> 赞同：4
> 
> 时间：2012-11-06T09:40:27.663
> 
> 标签：objective-c, thread-safety

我的班级有一个属性：

```
@property (readwrite, atomic) BOOL IsTrue; 
```

我对`atomic`限定符的理解是`@synthesize`属性的 d getter/setter 将保证来自不同线程的访问序列化，即如果生产者线程 A 正在`set`处理属性值，它将被允许在消费者线程 B 和 C 之前完成设置操作允许`get`属性值（顺便说一句，`atomic`对于单字节/ POD 类型甚至是必需的？）。

`volatile`关键字是否提供任何进一步的数据完整性？

```
@property (readwrite, atomic) volatile BOOL IsTrue; 
```

我特别强调的是，消费者线程是否有可能在不使用的情况下获得过时的值`volatile`？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-06T09:52:09.423

> 消费者线程是否有可能在不使用 volatile 的情况下获得过时的值？

不。从客户的角度来看，该属性只是一个 getter/setter 方法对。所以任何客户端都需要调用`objc_msgSend`来设置或检索一个值。函数调用是 C 中的同步点，因此无法获取过时的值（与直接内存访问一样，这`volatile`可能会有所帮助）。

@synthesize 的访问器将负责序列化对底层值的访问。

# android - Android-Maven-Plugin v3.4.0 构建应用时找不到可绘制资源

> ID：13248258
> 
> 赞同：7
> 
> 时间：2012-11-06T09:40:46.077
> 
> 标签：android, android-maven-plugin

最近我开始 mavenizing 我的 android 应用程序。我遇到的障碍之一是：在构建 maven 插件期间，找不到 res 目录中的布局中使用的可绘制对象。我首先使用 android quick start archetype 进行了 mavenizing：

mvn archetype:generate -DarchetypeArtifactId=android-quickstart -DarchetypeGroupId=de.akquinet.android.archetypes -DarchetypeVersion=1.0.8

然后我将所有资源复制到原型生成的 res 目录中。恕我直言，这应该足够了。但这是我在 mvn clean install 后得到的：

> [INFO] --- android-maven-plugin:3.4.0:apk (default-apk) @missnanny-android-app --- [INFO] 将本地资产文件复制到组合资产目录。[信息] D:\Environments\AndroidSDK\android-sdk\platform-tools\aapt.exe [包，-f，-M，D:\Programming\myproj.com\myproj\myproj-android-app\MyprojManifest.xml , -S, D:\Programming\myproj.com\myproj\myproj-android-app\res, --auto-add-overlay, -A, D:\Programming\myproj.com\myproj\myproj-android-app \target\generated-sources\combined-assets\assets, -I, D:\Environments\AndroidSDK\android-sdk\platforms\android-7\android.jar, -F, D:\Programming\myproj.com\myproj \myproj-android-app\target\myproj-android-app-0.0.1-SNAPSHOT.ap_]

[INFO] D:\Programming\myproj.com\myproj\myproj-android-app\res\layout\layout_1.xml:8：错误：错误：找不到与给定名称匹配的资源（在 'src' 中，值为 ' @drawable/图像'）。

我收到很多这样的错误。他们都说找不到某些 layout.xml 文件的资源。我在上面的日志中更改了项目和资源的名称。真名与 myproj 不同。但这不重要。在 mavenizing 期间，我只将资源复制到由原型生成的 res 目录中。在 res 文件夹中，我有：

res/drawable res/drawable-hdpi res/drawable-mdpi res/drawable-ldpi res/layout res/raw res/values res/values-pl

我想提一下，在 AndroidManifest.xml 中为应用程序图标加载 drawable 没有问题。所有问题都与 drawable.xml 中的布局和选择器有关

我的pom：

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
<modelVersion>4.0.0</modelVersion>
<parent>
    <groupId>pl.comapny.groupid</groupId>
    <artifactId>projectid</artifactId>
    <version>0.0.1-SNAPSHOT</version>
</parent>
<artifactId>appname-android-app</artifactId>
<packaging>apk</packaging>
<name>appname-android-app</name>

<properties>
    <platform.version> 2.1.2 </platform.version>
</properties>

<dependencies>

    <dependency>
        <groupId>com.google.android</groupId>
        <artifactId>android</artifactId>
        <version>${platform.version}</version>
        <scope>provided</scope>
    </dependency>

    <dependency>
        <groupId>pl.company.groupid</groupId>
        <artifactId>artifact</artifactId>
        <version>${project.version}</version>           
    </dependency>

</dependencies>

<build>
    <resources>
      <resource>
         <directory>${project.basedir}/res</directory>
         <filtering>true</filtering>
      </resource>
    </resources>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-resources-plugin</artifactId>
            <!-- <executions>
                <execution>  
                    <phase>initialize</phase>
                    <goals>
                        <goal>copy-resources</goal>
                    </goals>
                    <configuration>
                        <outputDirectory>${project.basedir}/res</outputDirectory>
                        <resources>
                            <resource>
                                <directory>${project.basedir}/src/templates/res</directory>
                                <targetPath>${project.basedir}/res</targetPath>
                                <filtering>true</filtering>
                            </resource>
                        </resources>
                    </configuration>
                </execution>
            </executions> -->
        </plugin>
        <plugin>
            <groupId>com.jayway.maven.plugins.android.generation2</groupId>
            <artifactId>android-maven-plugin</artifactId>
            <version>3.4.0</version> <!--3.4.0, 3.1.1, 3.0.0-alpha-14-->
            <configuration>
                <androidManifestFile>${project.basedir}/AndroidManifest.xml</androidManifestFile>
                <assetsDirectory>${project.basedir}/assets</assetsDirectory>
                <resourceDirectory>${project.basedir}/res</resourceDirectory> 
                <!-- <nativeLibrariesDirectory>${project.basedir}/src/main/native</nativeLibrariesDirectory> -->
                <sdk>
                    <platform>7</platform>
                </sdk>
                <undeployBeforeDeploy>true</undeployBeforeDeploy>
            </configuration>
            <extensions>true</extensions>
        </plugin>

        <plugin>
            <artifactId>maven-compiler-plugin</artifactId>
            <version>2.3.2</version>
            <configuration>
                <source>1.6</source>
                <target>1.6</target>
            </configuration>
        </plugin>
    </plugins>
</build> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-06T11:16:33.477

好的，我已经设法解决了我的问题。这真是太愚蠢了。一些已损坏的 9 个补丁图像存在问题。这导致构建失败。貌似eclipse android plugin接受了标为9个patch image的drawable，其实不然，构建可以完成……至于maven android plugin情况就不同了。但是我收到的错误信息仍然是不恰当的——这让我没有专注于真正的问题。我已经浪费了很多时间..如果没有那些错误消息说“找不到与给定名称匹配的资源”，我相信我会更快地找到解决方案。这些错误应该被插件跳过。

# php - 本地主机花费的时间太长。该怎么办？

> ID：13248260
> 
> 赞同：5
> 
> 时间：2012-11-06T09:40:47.713
> 
> 标签：php, windows, windows-8, localhost, response

我正在做一个项目。昨天它工作得很好，但是当我将我的系统操作系统从 Windows 7 32 位更新到 Windows 8 64 位并将 wamp 服务器从 32 位更新到 64 位时，我的 Php 项目中的本地主机响应非常慢（6 Senonds每个页面上的延迟）我也没有更改脚本中的任何内容。无法确定可能是什么问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T09:52:35.977

我只是在数据库连接配置中将服务器名称从更改为`localhost`，它运行速度很快。`127.0.0.1`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T09:50:25.803

[**WAMPServer**](http://www.wampserver.com/en/)在 Windows 8 上有一些问题。使用[**XAMPP**](http://www.apachefriends.org/en/xampp.html)。我是 WAMPServer 的铁杆用户。但是，由于一些线程问题，不得不切换到 XAMPP。

[您可以在此处](http://forum.wampserver.com/read.php?2,91274)阅读有关该问题的更多信息。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-01T09:44:27.130

禁用 ipv6 也提高了响应速度问题。

[http://www.techunboxed.com/2012/08/how-to-disable-ipv6-in-windows-8.html](http://www.techunboxed.com/2012/08/how-to-disable-ipv6-in-windows-8.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-01-15T13:18:18.513

作为一个 IPV6 问题，这里是你如何让 MYSQL 不使用它。（因此，在不禁用 IPV6 的情况下）

编辑mysql文件'my.ini'

在 [wampmysqld] 下添加以下内容： bind-address = ::

保存文件并重启mysql服务

请享用！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-08-22T08:33:52.787

只是想与这个类似的问题分享我的修复。

尝试更改安装 XAMPP 的驱动器的用户“Authenticated Users”的权限（对我来说它的 C:）。右键单击驱动器C：\，单击“安全”选项卡，编辑“经过身份验证的用户”，允许除“完全控制”和“特殊权限”之外的所有内容，您不能。申请并确定。重新启动 XAMPP。

# iphone - 如何使用 MKStoreKit 4.x 收据进行应用内购买以防止被修改？

> ID：13248261
> 
> 赞同：0
> 
> 时间：2012-11-06T09:40:47.280
> 
> 标签：iphone, keychain, mkstorekit

我一直在 nsuserdefaults 或自定义 plist 中存储应用内购买收据字符串。此字符串用于确定应用程序的版本为完整版本还是受限版本。但如何使其安全。如果有人通过修改 plist 来修改此字符串，则应用程序将更改为完整版仪式。然后我开始了解钥匙串，但我无法理解它是如何工作的..它是保存字符串的单独位置还是加密字符串并将其保存在 plist 中..如果任何人都知道如何使用钥匙串保存来自 mkstorekit 的应用程序收据，请在此处分享。还有钥匙串的概念

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:55:47.853

钥匙串实际上是密码或其他任何东西的安全、加密存储。您可以使用`SFHFKeychainUtils`. 这使得使用钥匙串就像使用`NSUserDefaults`.

# jquery-selectors - 如何使用jQuery搜索包含括号“（”的文本？

> ID：13248266
> 
> 赞同：1
> 
> 时间：2012-11-06T09:40:58.900
> 
> 标签：jquery-selectors

我正在尝试使用 jQuery 来定位所有`<a>`在括号中包含一段文本的标签，以便我可以对它们执行一些操作。但是，我什至很难找到这些标签。我收到一个 javascript 错误：

`"Syntax error, unrecognized expression: '(')"`

当我尝试使用以下代码时：

`jQuery("a:contains(' (')").css("text-decoration", "underline");`

大概是因为 javascript 不喜欢 ( 在 contains 函数中。有人知道解决这个问题的方法吗？提前谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:46:17.347

```
$('a').each(function(index){
    if($(this).text().indexOf('(')!=-1){
       $(this).css("text-decoration","underline");
    }
}); 
```

这不是一个高性能的解决方案，而只是一个提示，遍历每个`<a>`获取它们的`text()`内容，如果它们包含`(`下划线。

如果您`(`不在两者之间，`<a href="#"> HERE() </a>`您可以检查`href`属性并获取它`value`并查看它是否包含在值中`(`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:33:50.490

请检查这个

```
<script>
var sent = "(";
$("a:contains("+sent+")").css("text-decoration", "underline");
</script> 
```

# service - 如何编辑/更新 Nant 脚本

> ID：13248267
> 
> 赞同：0
> 
> 时间：2012-11-06T09:41:13.377
> 
> 标签：service, nant

我需要通过从数据库中获取一些数据来自动更新 Nant 脚本。我能想到的解决方案是通过从数据库中获取数据并更新 Nant 脚本的服务来完成。这可以做到吗？如果是，如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T08:48:10.877

理论上，如果您需要更改脚本的工作方式，那么您可以创建一个程序来生成 NAnt 构建文件，使用`exec`任务、`include`该文件运行它，然后调用目标。

不过，这似乎有点过于复杂。我想这取决于脚本会根据数据改变多少。

如果数据只是配置，那么您可以使用数据在构建脚本中设置属性（通过与上述相同的机制，或者通过创建自定义任务以基于 SQL 语句的结果创建属性值）。然后使用这些属性来确定构建脚本中的控制流，使用标准的东西，如`if`语句和`foreach`循环。

我认为没有任何内置功能可以为您执行此操作，但是如果您可以编程，自定义任务很容易创建。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-22T14:24:36.923

如果你更新/编辑一个 nant 脚本，它不会改变当前的执行。相反，您可以生成 .build 文件并通过`<nant>` [task](http://nant.sourceforge.net/release/latest/help/tasks/nant.html)执行它们，例如使用`<foreach>`循环或`<style>`xsl 转换。另一种方法是编写一个小`<script>`的 .，特别是如果您可以在 C# 中轻松地对其进行编程。如果您希望获得更具体的答案，更多信息会有所帮助。（使用的数据库，可以使用哪些工具来提取数据）

# forms - 将选项卡表单放入选项卡表单 Access 2007

> ID：13248270
> 
> 赞同：1
> 
> 时间：2012-11-06T09:41:30.683
> 
> 标签：forms, tabs, ms-access-2007

有没有办法可以将选项卡表单放入另一个选项卡表单中。

我想创建一个水平结构，如：

1.

1.1

1.2

2.

2.1

2.2 等

我尝试将选项卡放在选项卡中，但不知何故，“上方”选项卡表单保持在“下方”选项卡表单的顶部。即使我转到“下方”选项卡表单上的第二个选项卡页。

还尝试剪切一个新的选项卡表单并将其粘贴到活动的“下方”选项卡表单中。

# jquery - 如何在浮动图像上放置元素？

> ID：13248271
> 
> 赞同：0
> 
> 时间：2012-11-06T09:41:34.140
> 
> 标签：jquery, css, css-float

我需要在我的博客图像上放置缩放图标。

易于简单的图像（我正在使用 jQuery 添加 <span> 元素）：

`<a href="..." rel="lightbox"> <span style="position:absolute; background-image: url(zoom.png);"/> <img src="img.jpg" /> </a>`

但有些图像具有“float:left”或“float:right”对齐方式。如何将 <span> 放置在浮动图像上？

示例：http: [//jsfiddle.net/4Nvbe/1/](http://jsfiddle.net/4Nvbe/1/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:09:49.037

这是一个可能的解决方案，但这在很大程度上取决于您的其他样式。

我已经放置了 position: relative 并将浮动移动到锚点（我承认，你的其余代码可能会阻止你这样做。请参阅[小提琴](http://jsfiddle.net/am_d/TQabN)以查看它的实际效果。

```
<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
    img {width:30px;height:30px;border:1px solid red;display:block;margin:3px;}
    span {width:20px;height:20px;border:1px solid blue;display:block;margin:3px;}
    a { border:2px dotted green;display:inline-block;position:relative; }
</style>
</head>
<body>
<div> 
<a href="#" rel="lightbox"> <span style="position:absolute; background-image: url(zoom.png);"></span><img src="img.jpg" /> </a>
   <a href="#" rel="lightbox"> <span style="position:absolute; background-image: url(zoom.png);"></span><img src="img.jpg" /> </a><br style="clear:both" />
<a href="#" rel="lightbox"> <span style="position:absolute; background-image: url(zoom.png);"></span><img style="float:right;"  src="img.jpg" /> </a>
</div>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:08:41.850

问题似乎是您的 HTML 结构，您使用跨度是否有特殊原因？一个 div 似乎做得很好。

这里有一个工作演示[http://jsfiddle.net/4Nvbe/](http://jsfiddle.net/4Nvbe/)但是如果你尝试改变它来添加一个 div ，那么标记看起来像：

```
<a href="..." rel="lightbox"><div style="position:absolute; background-image: url(zoom.png);"/><img src="img.jpg" /></a> 
```

它可能会解决您的问题。

在我的示例中，我也刚刚使用了一个类，这样样式/视觉控制就留在了样式表中，而不是渗入到您的 JS 中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T22:47:46.730

我遇到了类似的问题，并使用了 a`<div>`而不是`<span>`Pete Uh 建议的那样，并且它有效。

# c# - 执行 .bat 文件时，ExitCode 始终为 0

> ID：13248274
> 
> 赞同：3
> 
> 时间：2012-11-06T09:41:39.867
> 
> 标签：c#

我通常不是 C# 人，所以我希望这不是一个愚蠢的问题......

我有一个`.bat`看起来像这样的文件（这当然是一个简化的例子）：

**文件 nn.bat**

```
exit /B 3 
```

当我从命令运行它时，我看到它`%ERRORLEVEL%`是 3（太棒了！！）

我有这个 c# 程序：

**C#程序**

```
class Program
{
    static void Main(string[] args)
    {
        Process p = new Process();

        p.StartInfo.FileName = @"nn.bat";

        p.Start();
        p.WaitForExit();

        int rc = p.ExitCode;

        Console.WriteLine(rc);
    }
} 
```

我希望`rc`是 3，但无论我尝试什么，它总是 0...

我的错误在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T12:32:33.127

最后，我找到了一种解决方法：

在我的批处理文件中，`exit /B 3`我没有使用`exit 3`.

这个想法（和解释）来自[这个](https://stackoverflow.com/a/2881622/1083652)答案

我仍然无法解释它是如何使用该`/B`选项对其他人起作用的——我的猜测是它必须与他们的操作系统版本有关。

# c# - 在选择期间更改一列的值 - Linq to Sql

> ID：13248275
> 
> 赞同：2
> 
> 时间：2012-11-06T09:41:46.293
> 
> 标签：c#, linq-to-sql

我是Linq的新手。我有以下查询：

```
var BeachDetail = (from Personal in dc.t_return_to_beaches
                   where Personal.emo_number == EmoNumber
                   select Personal).ToList();

 Grd_ReturnToBeach.ItemsSource = CurrentController.GetItemSource(BeachDetail) 
```

这里我使用 DevExpress Grid 进行绑定。

```
<dxg:GridControl x:Name="Grd_ReturnToBeach" MinHeight="70">
</dxg:GridControl> 
```

它检索超过 16 列。

它对我来说很好，但是有两列名为

```
 weight (numeric(15, 4)) 
```

和

```
 value (numeric(15, 4)) 
```

**问题 ：**

如果我在这些列中输入 12 和 13.45，那么我得到 12.0000 和 13.4500。但我想在网格中显示我之前输入的准确值，例如 12 和 13.45。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:48:24.483

您应该根据您的要求格式化您的网格。但是，如果您想获得网格中格式化的结果，那么我相信您必须在 select 语句中创建匿名类型，指定所有列和要格式化的列，然后将匿名类型列表绑定到网格。

可能是这样的：

```
var BeachDetail =  from Personal in dc.t_return_to_beaches
                   where Personal.emo_number == EmoNumber
                   select new 
                       {
                         Col1 = personal.Col1,
                         Col2 = personal.Col2,
                         Col3 = personal.Col3,                         
                         ....................
                         ....................
                         weight = String.Format("{0:0.00}", personal.Weight),
                         value = String.Format("{0:0.00}", personal.Value),
                       }; 
```

上述方法的问题是您丢失了对象类型和权重，并且值在网格中属于字符串类型，因此如果您尝试取回这些值并执行一些操作，那么它可能会给您带来问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:48:09.400

Use tostring and a format specifier like G

[MSDN](http://msdn.microsoft.com/en-us/library/dwhawy9k%28VS.90%29.aspx)

I think I have a SO ref here [somewhere](https://stackoverflow.com/a/8675368/1372048)

# javascript - 带有特殊字符的 JavaScript 编码

> ID：13248280
> 
> 赞同：5
> 
> 时间：2012-11-06T09:42:01.083
> 
> 标签：javascript, encoding, utf-8

我想编写一种方法来将特殊字符（如“ä”）转义为响应的 Unicode（例如 \u00e4）。

出于某种原因，JS 发现在内部甚至不保存 'ä' 而是使用 'Ã¼Ãœ' 或其他一些乱码很有趣，所以当我转换它时会吐出 '\u00c3\u00b6\u00c3\u002013' 因为它转换这些字符而不是'一种'。

我尝试将 HTML 文件的编码设置为 utf-8，并尝试使用 charset="UTF-8" 加载脚本无济于事。该代码并没有真正做任何特别的事情，但它是：

```
String.prototype.replaceWithUtf8 = function() {
    var str_newString = '';
    var str_procString = this;

    for (var i = 0; i < str_procString.length; i++) {
        if (str_procString.charCodeAt(i) > 126) {
            var hex_uniCode = '\\u00' + str_procString.charCodeAt(i).toString(16);
            console.log(hex_uniCode + " (" + str_procString.charAt(i) + ")");
            str_newString += hex_uniCode;
        } else {
            str_newString += str_procString.charAt(i);
        }
    }
    return str_newString;
}
var str_item = "Lärm, Lichter, Lücken, Löcher."

console.log(str_item); // LÃ¤rm, Lichter, LÃ¼cken, LÃ¶cher. 
console.log(str_item.replaceWithUtf8()); //L\u00c3\u00a4rm, Lichter, L\u00c3\u00bccken, L\u00c3\u00b6cher. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T12:03:51.183

我不知道如何或为什么，但我刚刚再次重新启动服务器，现在它显示正确。去跟随; 这是每个感兴趣的人的代码：

```
String.prototype.replaceWithUtf8 = function() {
    var str_newString = '';
    var str_procString = this;
    var arr_replace = new Array('/', '"');
    var arr_replaceWith = new Array('\\/', '\\"');

    for (var i = 0; i < str_procString.length; i++) {
        var int_charCode = str_procString.charCodeAt(i);
        var cha_charAt = str_procString.charAt(i);
        var int_chrIndex = arr_replace.indexOf(cha_charAt);

        if (int_chrIndex > -1) {
            console.log(arr_replaceWith[int_chrIndex]);
            str_newString += arr_replaceWith[int_chrIndex];
        } else {
            if (int_charCode > 126 && int_charCode < 65536) {
                var hex_uniCode = '\\u' + ("000" + int_charCode.toString(16)).substr(-4);
                console.log(hex_uniCode + " (" + cha_charAt + ")");
                str_newString += hex_uniCode;
            } else {
                str_newString += cha_charAt;
            }
        }
    }
    return str_newString;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T12:10:58.527

改为使用`'\\u' + ('000' + str_procString.charCodeAt(i).toString(16) ).stubstr(-4);`以获得正确的转义序列 - 你的总是以`00`. 此外，而不是 for 循环处理您的字符串，`.replace()`可能会更快。

关于你的问题：

```
console.log("Lärm, Lichter, Lücken, Löcher."); // LÃ¤rm, Lichter, LÃ¼cken, LÃ¶cher. 
```

听起来不像你真的用正确的编码发送了文件。如果已经正确保存，也可能是服务器问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-21T14:04:16.077

```
String.prototype.replaceWithUtf8 = function() {
  function r(r) {
    for (var t, n, e = "", i = 0; !isNaN(t = r.charCodeAt(i++)); ) n = t.toString(16), 
    e += 256 > t ? "\\x" + (t > 15 ? "" :"0") + n :"\\u" + ("0000" + n).slice(-4);
    return e;
  }
  var a, c, o, u, s, e = "", i = this, t = [ "/", '"' ], n = [ "\\/", '\\"' ];
  for (a = 0; a < i.length; a++) c = i.charCodeAt(a), o = i.charAt(a), u = t.indexOf(o), 
  u > -1 ? e += n[u] :c > 126 && 65536 > c ? (s = r(o), e += s) :e += o;
  return e;
};

prompt("Your escaped string:","Lärm, Lichter, Lücken, Löcher.".replaceWithUtf8());

alert("L\xe4rm, Lichter, L\xfccken, L\xf6cher.");
```

Unicode 编码只使每个字符 6 位。但是对于 127 到 256 以上的字符，我们实际上可以用更少的字节（每个字符 4 位）使这些十六进制。

# ios - UIPageViewController transition '开始/结束外观转换的不平衡调用'

> ID：13248282
> 
> 赞同：19
> 
> 时间：2012-11-06T09:42:05.217
> 
> 标签：ios, transition, uipageviewcontroller

`UIPageViewController`当我以比其过渡动画更快的速度导航时，我得到' `Unbalanced calls to begin/end appearance transitions for <MyDataViewController>`'，并且在我尝试翻页之前，不会显示横向的两个视图之一。

有人有解决此错误的想法吗？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-02-11T22:44:45.820

上面的答案是正确的，但我认为比需要的更详细，而且食谱很有帮助。所以这似乎对我有用：

在设置和调用 pageViewController 的视图控制器中，声明：

```
@property (assign)              BOOL pageIsAnimating; 
```

在 viewDidLoad 中：

```
 pageIsAnimating = NO; 
```

添加这个：

```
- (void)pageViewController:(UIPageViewController *)pageViewController willTransitionToViewControllers:(NSArray *)pendingViewControllers {
    pageIsAnimating = YES;
} 
```

并添加几行：

```
- (void)pageViewController:(UIPageViewController *)pageViewController
    didFinishAnimating:(BOOL)finished previousViewControllers:(NSArray *)previousViewControllers
   transitionCompleted:(BOOL)completed {
    if (completed || finished)   // Turn is either finished or aborted
        pageIsAnimating = NO;
    ...
} 
```

通过拒绝提供视图控制器信息来抑制手势：

```
- (UIViewController *)pageViewController:(UIPageViewController *)pageViewController
   viewControllerAfterViewController:(UIViewController *)viewController {
    if (pageIsAnimating)
        return nil;
    ...
    return after;
}

- (UIViewController *)pageViewController:(UIPageViewController *)pageViewController
  viewControllerBeforeViewController:(UIViewController *)viewController {
    if (pageIsAnimating)
        return nil;
    ...
    return before;
} 
```

哦，方向更改会重置标志：

```
- (UIPageViewControllerSpineLocation)pageViewController:(UIPageViewController *)pageViewController
               spineLocationForInterfaceOrientation:(UIInterfaceOrientation)orientation {
    pageIsAnimating = NO;
    ...
} 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-01-13T15:43:50.950

按照以下步骤解决：
1-声明一个标志以指示动画是否已完成：

```
BOOL pageAnimationFinished; 
```

2- 在 vi​​ewDidLoad 中将此标志设置为 true：

```
pageAnimationFinished = YES; 
```

3-为 pageViewController 禁用 tapGesture 并将“self”分配给 panGestureRecognizer 委托：

```
for (UIGestureRecognizer * gesRecog in self.pageViewController.gestureRecognizers)
{
    if ([gesRecog isKindOfClass:[UITapGestureRecognizer class]])
        gesRecog.enabled = NO;
    else if ([gesRecog isKindOfClass:[UIPanGestureRecognizer class]])
        gesRecog.delegate = self;
} 
```

4-通过以下手势识别器委托方法允许/禁止 panGestureRecognizer：

```
-(BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer
{
    if ([gestureRecognizer isKindOfClass:[UIPanGestureRecognizer class]] && ([gestureRecognizer.view isEqual:self.view] || [gestureRecognizer.view isEqual:self.pageViewController.view]))
    {
        UIPanGestureRecognizer * panGes = (UIPanGestureRecognizer *)gestureRecognizer;
        if(!pageAnimationFinished || (currentPage < minimumPage && [panGes velocityInView:self.view].x < 0) || (currentPage > maximumPage && [panGes velocityInView:self.view].x > 0))
            return NO;
        pageAnimationFinished = NO;
    }
    return YES;
} 
```

5- 添加以下 pageViewController 委托方法：

```
- (void)pageViewController:(UIPageViewController *)pageViewController didFinishAnimating:(BOOL)finished previousViewControllers:(NSArray *)previousViewControllers transitionCompleted:(BOOL)completed
{
    pageAnimationFinished = YES;
} 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-05-06T10:03:18.217

Basem Saadawy 的 [回答](https://stackoverflow.com/a/14305049/1884962)很好，但它有一些缺陷。

实际上代理的**gestureRecognizerShouldBegin:**可以在没有进一步动画开始的情况下被调用。如果您通过垂直手指的移动开始手势并且其水平偏移量不足以启动动画（但足以启动*gestureRecognizerShouldBegin:*），则这是可能的。因此，我们的变量**pageAnimationFinished**将被设置为**NO**而没有实际的动画。因此**pageViewController: didFinishAnimating:**将永远不会被调用，并且您会冻结当前页面而无法更改它。

**这就是为什么将NO**分配给这个变量的更好的地方是手势识别器的动作方法，检查它的速度和平移（我们只对水平方向感兴趣）。

所以最后的步骤是：

1）声明一个实例变量（一个标志）：

```
BOOL pageAnimationFinished; 
```

2) 设置其初始值

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    ...
    pageAnimationFinished = YES;
} 
```

3) 为平移手势识别器分配委托和自定义操作

```
for (UIGestureRecognizer * gesRecog in self.pageViewController.gestureRecognizers)
{
    if ([gesRecog isKindOfClass:[UIPanGestureRecognizer class]])
    {
        gesRecog.delegate = self;
        [gr addTarget:self action:@selector(handlePan:)];
    }
} 
```

3') 当手势在水平方向上的平移更大并且手指在某一时刻水平移动时，动画才真正开始。*我猜UIPageViewController*
分配的内部识别器操作中使用了相同的逻辑。

 *```
- (void) handlePan:(UIPanGestureRecognizer *)gestureRecognizer
{
    if (pageAnimationFinished && gestureRecognizer.state == UIGestureRecognizerStateChanged)
    {
        CGPoint vel = [gestureRecognizer velocityInView:self.view];
        CGPoint tr = [gestureRecognizer translationInView:self.view];
        if (ABS(vel.x) > ABS(vel.y) && ABS(tr.x) > ABS(tr.y))
            pageAnimationFinished = NO; // correct place
    }
} 
```

4) 如果动画未完成，则禁止手势。

```
-(BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer
{
    if ([gestureRecognizer isKindOfClass:[UIPanGestureRecognizer class]] && ([gestureRecognizer.view isEqual:self.view] || [gestureRecognizer.view isEqual:self.pageViewController.view]))
    {
        UIPanGestureRecognizer * panGes = (UIPanGestureRecognizer *)gestureRecognizer;
        if(!pageAnimationFinished || (currentPage < minimumPage && [panGes velocityInView:self.view].x < 0) || (currentPage > maximumPage && [panGes velocityInView:self.view].x > 0))
            return NO;
    }
    return YES;
} 
```

5) 动画完成

```
- (void)pageViewController:(UIPageViewController *)pageViewController didFinishAnimating:(BOOL)finished previousViewControllers:(NSArray *)previousViewControllers transitionCompleted:(BOOL)completed
{
    pageAnimationFinished = YES;
} 
```

我玩得太多了，似乎这是一个很好的解决方案。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2014-04-04T17:20:58.927

## 这是使用委托的 QUICK 版本：

添加此代码（确保您在标题或类扩展中包含 UIPageViewControllerDelegate，并分配`self.pageViewController.delegate = self;`）：

```
- (void)pageViewController:(UIPageViewController *)pageViewController willTransitionToViewControllers:(NSArray *)pendingViewControllers {
   self.pageAnimationFinished = NO;
}

- (void)pageViewController:(UIPageViewController *)pageViewController didFinishAnimating:(BOOL)finished previousViewControllers:(NSArray *)previousViewControllers transitionCompleted:(BOOL)completed {
    self.pageAnimationFinished = YES;
} 
```

然后检查`self.pageAnimationFinished`并返回 nil 如果它是 == `NO`。

**更长的解释：**

```
- (void)pageViewController:(UIPageViewController *)pageViewController didFinishAnimating:(BOOL)finished previousViewControllers:(NSArray *)previousViewControllers transitionCompleted:(BOOL)completed 
```

我们可以使用这个委托方法`UIPageViewControllerDelegate`来了解翻页或滑动页面的动画何时结束。使用它我们可以像这样实现它：

```
- (void)pageViewController:(UIPageViewController *)pageViewController didFinishAnimating:(BOOL)finished previousViewControllers:(NSArray *)previousViewControllers transitionCompleted:(BOOL)completed {
    pageAnimationFinished = YES;
} 
```

然后，只需返回`nil`您的

```
- (UIViewController *)pageViewController:(UIPageViewController *)pageViewController viewControllerBeforeViewController:(PageViewController *)viewController 
```

和

```
- (UIViewController *)pageViewController:(UIPageViewController *)pageViewController viewControllerAfterViewController:(PageViewController *)viewController 
```

什么时候

`pageAnimationFinished == NO`. 一定要设置`pageAnimationFinished`为`NO`动画时。了解何时制作动画的最佳方法是使用相反的

```
- (void)pageViewController:(UIPageViewController *)pageViewController didFinishAnimating:(BOOL)finished previousViewControllers:(NSArray *)previousViewControllers transitionCompleted:(BOOL)completed 
```

即：

```
- (void)pageViewController:(UIPageViewController *)pageViewController willTransitionToViewControllers:(NSArray *)pendingViewControllers 
```

从那以后我就再也没有看到过这个警告，这可以像其他解决方案一样在 1/3 的行中完成。而且它更容易遵循。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-05-31T10:06:36.910

这是 Bill Cheswick 答案的 Swift 版本（目前是最佳答案）：

添加一个变量来保存当前状态：

```
var pageIsAnimating = false 
```

设置动画状态：

```
func pageViewController(pageViewController: UIPageViewController, willTransitionToViewControllers pendingViewControllers: [UIViewController]) {
    self.pageIsAnimating = true
}

func pageViewController(pageViewController: UIPageViewController, didFinishAnimating finished: Bool, previousViewControllers: [UIViewController], transitionCompleted completed: Bool) {
    if finished || completed {
        self.pageIsAnimating = false
    }
} 
```

如果当前正在制作动画，则阻止过渡：

```
func pageViewController(pageViewController: UIPageViewController, viewControllerBeforeViewController viewController: UIViewController) -> UIViewController? {
    if self.pageIsAnimating {
        return nil
    }

    // Your code here
}

func pageViewController(pageViewController: UIPageViewController, viewControllerAfterViewController viewController: UIViewController) -> UIViewController? {
    if self.pageIsAnimating {
        return nil
    }

    // Your code here
} 
```

谢谢比尔·切斯维克！

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-07-22T08:59:23.620

我的解决方案快速、简单且有效：

1.  将 pageviewcontroller 委托设置为您的班级
2.  添加以下代码

    ```
    extension MyPageVC: UIPageViewControllerDelegate {

        func pageViewController(_ pageViewController: UIPageViewController, willTransitionTo pendingViewControllers: [UIViewController]) {
            self.view.isUserInteractionEnabled = false
        }

        func pageViewController(_ pageViewController: UIPageViewController, didFinishAnimating finished: Bool, previousViewControllers: [UIViewController], transitionCompleted completed: Bool) {
            self.view.isUserInteractionEnabled = true
        }
    } 
    ```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-01-10T19:35:19.147

这个怎么样：

```
- (void)pageViewController:(UIPageViewController*)pgVC willTransitionToViewControllers:(NSArray*)pendingVCs
{
    pgVC.dataSource = nil; // ... to disallow user to change pages until animation completes
}

- (void)pageViewController:(UIPageViewController*)pgVC
        didFinishAnimating:(BOOL)finished
   previousViewControllers:(NSArray*)prevVCs
       transitionCompleted:(BOOL)completed
{
    if(completed || finished) {
        pgVC.dataSource = _pgViewDataSource; // ... to allow user to change pages again
    }
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-09T17:53:00.343

使用您的 UIPageViewControllerDelegate 方法并设置保护措施，以防止在检测到过多的翻页时创建新的页面视图。

1.  您可以禁用手势识别器
2.  在 UIView 上将“userInteraction”设置为禁用
3.  在 UIPageViewController 上维护一个标志，以在发生动画时忽略进一步的输入。（关于这个选项的警告.. ios5 和 ios6 有不同的方法来确定动画何时开始..）

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-10-22T15:10:03.760

我必须将它添加到 viewDidAppear: 以使其工作

```
 - (void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:animated];
    self.pageAnimationFinished = YES;
} 
```

* * *

## 回答 #10

> 赞同：-2
> 
> 时间：2012-11-06T14:17:51.563

我将尝试在转换时忽略 UIPageViewControllers 上的手势。*

# sql - 将2列附加到sql中的一个列表中

> ID：13248287
> 
> 赞同：0
> 
> 时间：2012-11-06T09:42:26.480
> 
> 标签：sql, database

我有 2 张桌子，每张桌子都有 3 列。我想得到一列，以便每个表中的一列一个接一个地附加

```
 eg:- suppose one column in a table contains  hai, how, are, you.
 and another column in another column contains i, am, fine.
 i want a query which gives hai, how, are, you,i,am,fine. in just one column 
```

任何人都可以在sql中对此进行查询...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T09:50:31.730

如果我正确理解了您的架构，您就有了这个

```
Table1:  Column1
          hai,
          how,
          are,
          you.

Table2: Column2
          i,
          am,
          fine. 
```

做这个：

```
Insert Into Table1 (Column1)
Select Column2 From Table2 
```

你会得到这个：

```
Table1: Column1
         hai,
        how,
        are,
        you.
         i,
        am,
        fine. 
```

如果您有 3 列然后执行以下操作：

```
Insert Into Table1 (Column1, Column2, Column3)     //the (Column1, Column2, Column3) is not neccessary if those are the only columns in your Table1
Select Column1, Column2, Column3 From Table2       //the Select Column1, Column2, Column3 could become Select * if those are the only columns of your Table2 
```

编辑：如果您不想修改任何表，请执行此操作。

```
Select Column1, Column2, Column3
From Table1
UNION ALL
Select Column1, Column2, Column3
From Table2 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T09:54:08.277

你的问题不是很清楚。对它的一种解释是您希望将两者合并：

```
select column
from table1
union
select column
from table2; 
```

如果您真的想要两个表中的所有行（而不是不同的值），UNION ALL 将比 UNION 更快。

如果您希望行按特定顺序排列，请务必指定 ORDER BY 子句。

# java - java.lang.UnsatisfiedLinkError：未找到本机方法：jni() 中的错误

> ID：13248288
> 
> 赞同：4
> 
> 时间：2012-11-06T09:42:28.443
> 
> 标签：java, android, java-native-interface

我正在尝试使用带有 android 活动的 jni 添加两个 2D 数组。在 android 主活动类中，我创建了一个 sample.java 类的对象。并将示例类实例的字段传递给本机代码进行添加。sample.java 如下

```
 package com.cdacb.mars.ntvoperation;

    public class Sample {

        public int[][] array1;
        public int[][] array2;
        public int[][] array3;
    } 
```

本机代码的定义是：

```
JNIEXPORT void JNICALL
Java_com_cdacb_mars_ntvoperation_Operation_int2dAddition
(JNIEnv *env,jobject this,jobject object ){

            jclass class = (*env)->GetObjectClass(env,object);
            if(class==Null){
                printf("Error in finding class");
                return 0;
            }

            jfieldID fid1= (*env)->GetFieldID(env , class ,"array1","[[I");
            if(fid1==Null){
                    printf("Error in finding mat1 field ");
                    return 0;
                }

            jfieldID fid2= (*env)->GetFieldID(env , class ,"array2","[[I");
                if(fid2==Null){
                        printf("Error in finding mat2 field ");
                        return 0;
                    }

            jfieldID fid3= (*env)->GetFieldID(env , class ,"array3","[[I");
                    if(fid3==Null){
                            printf("Error in finding mat3 field ");
                            return 0;
                        }

            jobjectArray arr1= (jobjectArray)(*env)->GetObjectField(env,this,fid1);
            jobjectArray arr2= (jobjectArray)(*env)->GetObjectField(env,this,fid2);
            jobjectArray class= (*env)->NewObjectArray(env,length,Class,NULL);

            for(jint i=0; i<16; i++){
                class[i]=arr1[i]+arr2[i];
            }

            (*env)->SetObjectField(env, this, fid3, class);
  } 
```

android.mk 文件是

```
 LOCAL_PATH := $(call my_dir)

    include $(CLEAR_VARS)

    LOCAL_MODULE    := Ntvoperation
    LOCAL_SRC_FILE  := operation.c

    include $(BUILD_SHARED_LIBRARY) 
```

但是当我运行 thie=s 模块时，它会在 logcat 中生成错误：

```
11-06 14:46:35.875: D/dalvikvm(936): Trying to load lib /data/data/com.cdacb.mars.ntvoperation/lib/libNtvoperation.so 0x411e7090
11-06 14:46:35.905: W/dalvikvm(936): No implementation found for native Lcom/cdacb/mars/ntvoperation/Operation;.int2dAddition:(Lcom/cdacb/mars/ntvoperation/Sample;)V
11-06 14:46:35.924: E/AndroidRuntime(936): java.lang.UnsatisfiedLinkError: Native method not found: com.cdacb.mars.ntvoperation.Operation.int2dAddition:(Lcom/cdacb/mars/ntvoperation/Sample;)V
11-06 14:46:35.924: E/AndroidRuntime(936):  at com.cdacb.mars.ntvoperation.Operation.int2dAddition(Native Method)
11-06 14:46:35.924: E/AndroidRuntime(936):  at com.cdacb.mars.ntvoperation.Operation.onCreate(Operation.java:36)
11-06 14:46:35.924: E/AndroidRuntime(936):  at android.app.Activity.performCreate(Activity.java:5008)
11-06 14:46:35.924: E/AndroidRuntime(936):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
11-06 14:46:35.924: E/AndroidRuntime(936):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
11-06 14:46:35.924: E/AndroidRuntime(936):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
11-06 14:46:35.924: E/AndroidRuntime(936):  at android.app.ActivityThread.access$600(ActivityThread.java:130)
11-06 14:46:35.924: E/AndroidRuntime(936):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
11-06 14:46:35.924: E/AndroidRuntime(936):  at android.os.Handler.dispatchMessage(Handler.java:99)
11-06 14:46:35.924: E/AndroidRuntime(936):  at android.os.Looper.loop(Looper.java:137)
11-06 14:46:35.924: E/AndroidRuntime(936):  at android.app.ActivityThread.main(ActivityThread.java:4745)
11-06 14:46:35.924: E/AndroidRuntime(936):  at java.lang.reflect.Method.invokeNative(Native Method)
11-06 14:46:35.924: E/AndroidRuntime(936):  at java.lang.reflect.Method.invoke(Method.java:511)
11-06 14:46:35.924: E/AndroidRuntime(936):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
11-06 14:46:35.924: E/AndroidRuntime(936):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
11-06 14:46:35.924: E/AndroidRuntime(936):  at dalvik.system.NativeStart.main(Native Method) 
```

请帮我解决这个问题。

我的主要java类是

```
 package com.cdacb.mars.ntvoperation;

        import android.R.string;
        import android.os.Bundle;
        import android.app.Activity;
        import android.widget.TextView;

        public class Operation extends Activity {

            private  native void int2dAddition(Sample object);

             String  display=" ";

            @Override
            public void onCreate(Bundle savedInstanceState) {

                super.onCreate(savedInstanceState);
           //     setContentView(R.layout.main);
                TextView screen = new TextView(this);
                Sample tc=new Sample();
                tc.array1=new int[4][4];
                tc.array2=new int[4][4];
                tc.array3=new int[4][4];
               for(int col=0;col<4;col++){
                   for(int row=0;row<4;row++){
                      tc.array1[col][row]=2;
                      tc.array2[col][row]=4;
                      tc.array3[col][row]=0;

                   }
               } 

               int2dAddition(tc);

               for(int col=0;col<4;col++){
                   for(int row=0;row<4;row++){

                      display= display + tc.array3[col][row] +",";

                   }

               }      

               screen.setText(display);
               setContentView(screen);
            }

            static{
                   System.loadLibrary("Ntvoperation");
                   }

        } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T23:49:30.517

此问题可能与 C++ 函数名修饰有关；如果你用 extern "C" {...} 包围你的 C++ 函数，那么你应该能够避免这种麻烦，JNI 应该找到你的本地方法。我遇到了同样的问题，直到我读到[这个](https://stackoverflow.com/questions/6350329/unsatisfiedlinkerror-in-android-eclipse)描述类似问题的线程，但在那里验证了 ANSI C 本机函数有效，但 C++ 抛出了未找到本机方法的错误。希望这会有所帮助，并支持在链接线程上提供此建议的@yellowstonely

# html - CSS：在没有 rgba 的情况下设置背景不透明度

> ID：13248289
> 
> 赞同：9
> 
> 时间：2012-11-06T09:42:44.460
> 
> 标签：html, css

在下面的代码中，我只想为`li`（而不是文本）的背景颜色设置不透明度。但是，重要的是不要使用`rgba`背景。

我正在尝试关注，但它也设置了链接文本的不透明度。

**HTML：**

```
<ul>
    <li><a href="#">Hello World</a></li>
</ul> 
```

**CSS：**

```
body{
    background: red;
}

ul{
    margin: 100px;
}

li{
    padding: 10px;
    background: #000000;
    opacity: 0.1;
}

a{
    color: #fff;
    font-weight: 700;
    opacity: 1;  
} 
```

**JSFiddle：http:** [//jsfiddle.net/2uJhL/](http://jsfiddle.net/2uJhL/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2020-03-26T21:23:50.010

老问题，但新答案！:)

幸运的是，新版本的 Chrome 和 Firefox 支持**8 位颜色**。这真的很酷，尤其是在您开发和测试软件时。

例如：

```
background-color: #ff0000;  (Red) 
```

如果你想要 0.5 的不透明度，你可以这样做：

```
background-color: #ff00007f (The 7F is half of FF) 
```

`rgba()`因此，从现在开始，如果您不希望或让整个 div 逐渐消失，您将不需要使用- 因为`opacity: 0.x`- 当您只希望背景颜色稍微透明一点时。

**但请记住，并非所有浏览器都支持这一点。所以，请在 Chrome 或 Firefox 上测试下面的代码片段，好吗？**

这不是很酷吗？？？

```
<div style="background-color: #ff00003f;">better than [opacity: 0.25]</div>
<div style="background-color: #ff00007f;">better than [opacity: 0.50]</div>
<div style="background-color: #ff0000bf;">better than [opacity: 0.75]</div>
<div style="background-color: #ff0000ff;">better than [opacity: 1.00]</div>
```

来源：[https ://css-tricks.com/8-digit-hex-codes/](https://css-tricks.com/8-digit-hex-codes/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T09:45:32.643

您可以将 PNG 或 GIF 图像设置为背景，即：

```
li { 
  background-image: url('path/to/your/image.png'); 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T09:46:33.443

不透明度应用于内容和所有子项。您不能为孩子设置不同的不透明度。但是，如果您不想使用 rgba，则可以使用具有所需不透明度的 png。`li`在这种情况下，在后台为你设置一个 png是最好的解决方案

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-10-28T06:27:43.783

**tl; dr** Cmiiw，没有 RGBA 就无法设置背景不透明度

让我尝试提供另一种解决方案。

这个解决方案不是问题的真正答案，但它可能会有所帮助。

对我来说，您只需使用类似[https://cssgenerator.org/rgba-and-hex-color-generator.html之类的工具将背景](https://cssgenerator.org/rgba-and-hex-color-generator.html)*颜色*（十六进制值）转换为 RGBA 。

*然后，只需在背景颜色*中使用 RGBA 值。

# php - 如何在标签内容上显示评论？

> ID：13248293
> 
> 赞同：0
> 
> 时间：2012-11-06T09:42:54.100
> 
> 标签：php, magento, e-commerce

在我的`magento details`页面中有一个`tabcontent`

![在此处输入图像描述](../Images/b819613bb875da42a532625ba56a0ebb.png)

当我单击**（参见图）**时 ，我想 在特定产品**评论下的选项卡上显示我的评论****`review`**

 ****请帮我解决

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:47:48.163

好吧，忘记我说的一切。假设您有：

```
<div id="review"></div> 
```

在此评论中，您将进行产品评论。首先，您需要一个控制器来带您的产品。我假设你知道这样做。所以让我们来看看ajax。

```
$('#review').live('click',function(){
    $.ajax({
        url: '<?= Mage::getBaseUrl() ?>/catalog/product/review', //lets assume you'r using ProductController the reviewAction().
        success: function(data) {
            $('#review').html(data);        
        }
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T05:30:00.667

添加

```
<reference name="content">   
    <block type="review/product_view_list" name="product.info.product_additional_data" as="product_review" template="review/product/view/list.phtml">
       <block type="review/form" name="product.review.form" as="review_form"/>
    </block> 
</reference> 
```

在catalog.xml文件下

用于`<?php echo $this->getChildHtml('product_review') ?>`在 tabcontent 中打印您的评论

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T12:09:00.293

试试这个免费的扩展： [Magento EasyTabs](http://www.magentocommerce.com/magento-connect/magento-easytabs.html)

它涵盖了您的所有需求（描述、详细信息、评论......）。****

# jquery - How to find the column label by description value?

> ID：13248306
> 
> 赞同：0
> 
> 时间：2012-11-06T09:43:34.507
> 
> 标签：jquery, asp.net

I have a table that is dynamically generated, i want to find the sum column that exists at the end of the SUM row. How can I found that column ?

here's my jquery so far:

```
keyup: function (e) {

            // get the level
            var level = $(this).closest('tr').attr('id');

            // this = all columns in the row
            var inputValue = $(this).find('input').val();

            // get account nr from first column
            var account = $(this).closest('tr').children().eq(0).text();

            // get all elements with the same level id
            var elements = $('tr[id=' + level + ']'); //.find('*').filter(function () { 
```

here is my table

```
<table id="table">
    <!-- 
        row is dyanmically looped and tr id can be whatever in that format 
        and has many of the same id
    -->
    <tr id="1-2-2">
          <td>test</td>
          <td><%= x.Description %></td>
          <td>test</td>
          <td>test</td>
          <td><label name="account-<%= rad.Konto %>"></label></td>
        </tr> 
```

When the Description is SUM then I want to get the label from the last column on the same row and update it with new value that is entered in the keydown function.

# xcode - UIPickerView with one object

> ID：13248310
> 
> 赞同：0
> 
> 时间：2012-11-06T09:43:36.453
> 
> 标签：xcode, uipickerview

I am using a UIPickerView and currently their is only a single object in it. How can I display that single object on label. It has this weird property that when we use pickerView the data is not set selected by default.Once we choose another object or roll it, then only any particular object is selected. Hence if only one object is their in pickerView. It does not count as selected even though when you tap on that single object. I tried a lot but found that if their are more than one object then only you can display the selected object on label but not if their is only one object.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T10:59:44.953

您需要编写一个在 UIPickerView 更改时触发的代码，如下所示：

```
#pragma

-(void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component
//Action that triggers following code: 
{
NSString *nameString = [nameOnMutubaleArrayYouWannaGetDataFrom objectAtIndex:[picker selectedRowInComponent:0]]; //Or 1 if u have multiple rows

NSString *labelString = [[NSString alloc]initWithFormat:
                          @" %@ ", nameString];

labelOutput.text = labelString; 
```

希望这可以帮助。

# plone - 安装时如何检查我的产品是否已安装？

> ID：13248311
> 
> 赞同：4
> 
> 时间：2012-11-06T09:43:44.713
> 
> 标签：plone

我想在导入步骤中执行部分代码，前提是产品本身尚未安装。

我尝试使用快速安装工具的“listInstalledProduct”方法。

但是，这将返回所有已安装的产品，但不会返回我自己的产品。

如果我的产品已安装在站点中，如何检查？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T14:47:38.200

在 Anne Walther（又名“ahello”）的正确提示下，我可以找到解决方案：

```
from Products.CMFCore.utils import getToolByName
def myMethod(context):
    qi = getToolByName(context, 'portal_quickinstaller')

    prods = qi.listInstallableProducts(skipInstalled=False)

    for prod in prods:
        if (prod['id'] == 'your.productname') and (prod['status'] == 'new'):
        # further code... 
```

无论出于何种原因，幸运的是，重新安装期间产品的状态将返回“未安装”，尚未安装的产品返回“新”状态，最后已经安装站点的产品大声喊叫：“已安装” .

这样就可以将重新安装与初始安装区分开来。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-11-08T12:00:36.893

在 Plone 5 中做同样的事情，我在以下位置管理 Ida Ebkes 代码：

```
from plone import api

def myMethod(context):

    portal = api.portal.get()
    qi = api.portal.get_tool('portal_quickinstaller')
    prods = qi.listInstallableProducts(skipInstalled=False)

    IsProductNameInstalled = len([k for k in prods if k['id']=='your.productname' and k['status']=='new']) == 0 and True or None

    if IsProductNameInstalled:
        # further code... 
```

# javascript - 在表单中使用 jQuery 使用箭头键跳转到下一个输入字段

> ID：13248319
> 
> 赞同：4
> 
> 时间：2012-11-06T09:44:09.753
> 
> 标签：javascript, jquery, html

我想使用箭头键在表单中的输入文本字段之间导航（下一个，上一个）。我找到了实现它的简单方法：[链接到它，](http://www.knowlbase.in/2012/01/traverse-cursor-through-text-box-with.html)但对我来说它不起作用......我也在 FORM 之后的 HEAD 和 BODY 中尝试过，但没有运气......

我认为问题可能是，我的表单是通过 AJAX 发送回页面...

我对jQuery不太熟悉，有人可以帮我吗？

这是 jQuery 代码：

```
<script>
$(document).ready(function(){
$('input').keyup(function(e){
if(e.which==39)
$(this).closest('td').next().find('input').focus();
else if(e.which==37)
$(this).closest('td').prev().find('input').focus();
else if(e.which==40)
$(this).closest('tr').next().find('td:eq('+$(this).closest('td').index()+')').find('input').focus();
else if(e.which==38)
$(this).closest('tr').prev().find('td:eq('+$(this).closest('td').index()+')').find('input').focus();
});
});
</script> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T09:46:27.440

如果您的输入是在 domready 事件之后动态创建的，您应该更改

```
$('input').keyup(function(e){
   ... 
```

进入

```
$('body').on('keyup', 'input', function(e) {
   ... 
```

这样做 keyup 事件将`body`使用事件委托在元素上捕获

有关详细信息，请参阅此处的文档：http: [//api.jquery.com/on/](http://api.jquery.com/on/)

> 事件处理程序仅绑定到当前选定的元素；当您的代码调用 .on() 时，它们必须存在于页面上。为确保元素存在并且可以被选择，请在页面 HTML 标记中的元素的文档就绪处理程序内执行事件绑定。如果将新 HTML 注入页面，请在将新 HTML 放入页面后选择元素并附加事件处理程序。或者，使用委托事件来附加事件处理程序......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:48:14.330

如果您的脚本在表单出现在页面上之前加载，那么 keyup 绑定将无法在加载时绑定。尝试使用：

```
$('input').live('keyup', function(e) { code here }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T10:35:58.083

万一您想绑定多个事件，您可以这样做：

```
$('body').on({
    'keyup' : function(e) {
        ...
    },

    'keydown' : function(e) {
        ...
    }
}, 'input'); 
```

也`'body'`可以与任何`'input'`不会被动态添加到页面的父元素交换（即它在页面加载时存在）。所以如果你有一些`div`包含 each `input`，你可能想要绑定它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-12T11:05:18.190

我对上面的代码略有改进。代码的问题是您无法在输入字段内导航。例如，您的值为 '100.00|' 光标当前位于末尾（用 | 表示）。如果按左键，它将跳转到上一个输入字段，而不是将插入符号移动一个位置到“100.0|0”。

为此，您需要使用 e.target.selectionStart 检查当前插入符号的位置。但是您还需要 prev 插入符号位置，否则您无法确定插入符号是从 1 变为 0（无跳转）还是插入符号已经位于 0 并且用户再次按下左键（跳转）。

我添加的另一个更改是只考虑具有类 tableInput 的输入字段。如果您想排除某些字段。

```
function(e){
        var charPos = e.target.selectionStart;
    var strLength = e.target.value.length;
    var prevPos = $(this).data('prevPos');
    if(e.which==39){
                //only go right if we really reached the end, that means the prev pos is the same then the current pos
        if(charPos==strLength && (prevPos ==null || prevPos == charPos)){
            $(this).closest('td').next().find('input.tableInput').focus();
            $(this).data('prevPos',null);
        }else{
            $(this).data('prevPos',charPos);
        }
    }else if(e.which==37){
//only go left if we really reached the beginning, that means the prev pos is the same then the current pos
        if(charPos == 0 && (prevPos ==null || prevPos == charPos)){
            $(this).closest('td').prev().find('input.tableInput').focus();
            $(this).data('prevPos',null);
        }else{
            $(this).data('prevPos',charPos);
        }
    }else if(e.which==40){
        $(this).closest('tr').next().find('td:eq('+$(this).closest('td').index()+')').find('input.tableInput').focus();
        $(this).data('prevPos',null);

    }else if(e.which==38){
        $(this).closest('tr').prev().find('td:eq('+$(this).closest('td').index()+')').find('input.tableInput').focus();
        $(this).data('prevPos',null);
    }
    }); 
```

# c# - .Net 中的私有与静态构造函数

> ID：13248320
> 
> 赞同：10
> 
> 时间：2012-11-06T09:44:10.637
> 
> 标签：c#, .net, static-constructor, private-constructor

我搜索了很多，但没有一个答案是明确的（至少对我来说！）。现在我把这个问题放在 SO 中，因为我相信我无法在其他任何地方得到更明确的答案。

我什么时候应该在我的类中使用私有/静态构造函数？

我厌倦了通常的答案，所以请帮助我提供一些实时示例以及使用这些构造函数的优点/缺点。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-06T09:48:35.620

静态构造函数：用于初始化静态成员。

私有构造函数：当您只想从其自己的代码中实例化一个类时使用（通常在静态方法中）。例如：

```
public class Thing
{
    static int Number;

    static Thing()
    {
        Number = 42; // This will only be called once, no matter how many instances of the class are created
    }

    // This method is the only means for external code to get a new Thing
    public static Thing GetNewThing()
    {
        return new Thing();
    }

    // This constructor can only be called from within the class.
    private Thing()
    {
    }
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-06T09:50:19.513

> 我什么时候应该在我的类中使用私有构造函数？

当你想要一个构造函数，但又不想将它暴露给世界时。这可能是因为您有一个调用构造函数的工厂方法（在验证之后），或者因为该构造函数被 ctor-chaining（即`public Foo(string) : this() { ...}`）调用。

此外，请注意反射代码通常能够使用私有构造函数——例如序列化或 ORM 库。

此外，在早期的 C# 编译器中，当您编写现在将成为`static`类的内容时 - 拥有私有构造函数是使其看起来无法创建的唯一方法。

> 我什么时候应该在我的类中使用静态构造函数？

When you need to initialize some static state prior to that state being accessed by instances or static methods.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-06T09:50:18.237

静态构造函数用于初始化类的静态成员，在创建类的第一个实例或第一次访问静态成员时调用。

如果您有构造函数的重载，则使用私有构造函数，其中一些只能由其他构造函数使用

# android - 我该怎么做才能在 Jenkins 上运行猴子

> ID：13248322
> 
> 赞同：0
> 
> 时间：2012-11-06T09:44:13.973
> 
> 标签：android, testing, jenkins, android-emulator, monkey

我想在 Jenkins 上运行猴子，但在使用配置后： [https ://wiki.jenkins-ci.org/pages/viewpage.action?pageId=57181910](https://wiki.jenkins-ci.org/pages/viewpage.action?pageId=57181910)

我在 monkey.txt 文件中看到：

> 未发现任何活动运行，猴子中止。
> 
> $ E:\server\AndroidSDK/platform-tools/ **adb.exe -s localhost:46881 shell monkey -v -v -p package.name -s 0 --throttle 0 50**
> 
> $E:\server\AndroidSDK/platform-tools/adb.exe disconnect localhost:46881 [android] 停止 Android 模拟器 [android] 归档模拟器日志

我在我的 PC 上运行此命令，但我无法在服务器上运行它。如果我在服务器上的 cmd 上运行命令： adb shell monkey -v -v 50 -p package.name -s --throttle 0 它将起作用。

> **如何配置 Jenkins 以正确运行猴子？**

我正在为 Jenkins 使用最新的插件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T23:30:33.810

你真的在`monkey`命令行中使用“package.name”而不是你的实际包名吗？

在运行猴子之前，您是否确保 APK 已安装在模拟器上？

否则，其中是否有任何输出`logcat.txt`表明出了什么问题？

另外，我不确定你为什么链接到一个真正旧版本的 Android Emulator Plugin wiki 页面，但从那时起就有一个 Jenkins 构建步骤将为你运行猴子，而无需你手动将其写入批处理脚本步骤.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-08T15:32:21.510

就像 Thomas 在 Christopher 的评论中指出的那样：您还必须考虑将 apk 安装到智能手机上。

这可以通过在“运行 android monkey tester”之前使用“安装 android 包”构建步骤来完成。之后，您可以添加另一个构建步骤“卸载 android 包”

# asp.net - IIS 7.0 Url Rewrite2 Rule and Regex Issues

> ID：13248323
> 
> 赞同：0
> 
> 时间：2012-11-06T09:44:15.930
> 
> 标签：asp.net, iis-7, url-rewriting

I am using [IIS.net's](http://www.iis.net/downloads/microsoft/url-rewrite) Url Rewrite program on my server to make rules for URL Rewrite. I have pages on my Asp.NET 4.0 Web Site such as Page.aspx, and News.aspx.

When I create a rule for Page.aspx ([http://www.foo.com/Page.aspx?PageTitle=Foo](http://www.foo.com/Page.aspx?PageTitle=Foo) to [http://www.foo.com/Foo](http://www.foo.com/Foo)) It works great.

When I create a rule for News.aspx ([http://www.foo.com/News.aspx?NewsTitle=Foo](http://www.foo.com/News.aspx?NewsTitle=Foo) to [http://www.foo.com/Foo](http://www.foo.com/Foo)) It works great too.

But when I create rules for both News.aspx and Page.aspx, it fails. Program looks rule order. If News's rule is at top, News.aspx Url rewritten, and Page.aspx Url rewrite fails. If Page's rule is at top, Page.aspx Url rewritten, and News.aspx Url rewrite fails.

I guess thhis problem occurs because of regex matching. Let me show you:

![enter image description here](../Images/4e2c962ac10bf9b1e9859259a722677e.png)

Rule for News.aspx is at top. So it works fine. But when I click Page.aspx, the RewriteUserFriendlyURL1's Pattern catch my URL, and tries to redirect it News.aspx (Shown in Action Url).

I hope my description is clear.

My question is: How can I avoid this problem? For example I can make a new page called Redirect.aspx, and can redirect all pages to here. I can make 1 rule for Redirect.aspx.

But I think there should be another way to solve this issue with configuring these rules.

Thank you.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T21:15:14.450

问题是 RewriteUserFriendlyURL1 和 RewriteUserFriendlyURL2 的正则表达式完全相同，因此在这种情况下，它们的列出顺序决定了首先应用哪个规则。

我了解您要完成的工作，但它不能那样工作。URL 重写模块不可能知道`/Foo`是新闻文章还是页面。您最好的选择可能是将新闻放在下面`/news/<title>`并保留`/<title>`在您的常规页面中。在这种情况下，您可以使用`/news/`来区分新闻和页面。

因此，您应该保持 RedirectUserFriendlyURL2 和 RewriteUserFriendlyURL2 相同，但将 RedirectUserFriendlyURL1 的操作 URL`/news/{C:1}`更改为并将 RewriteUserFriendlyURL1 规则的模式更改为（注意：和`^news/([^/]+)/?$`之间没有斜线）。`^``news`

# powershell - 在 powershell 中获取提供的驱动器路径的可用空间

> ID：13248325
> 
> 赞同：4
> 
> 时间：2012-11-06T09:44:26.673
> 
> 标签：powershell

我正在尝试创建一个函数来返回以 MB 为单位的可用驱动器空间量。该函数将路径名作为参数，并且必须处理挂载点。我的驱动器是这样设置的：

*   C:\ - 磁盘0
*   G:\ - 磁盘 1
*   G:\数据-磁盘2

所以我想做类似的事情：

```
function Get-FreeSpace {
    param (
        $path
    );  

    # iterate through and find the volume, detect if in a mount point and return free space
    #

    return [int]$freeSpace;
} 
```

我已经考虑在我的函数中使用这个数组作为起点，但我被卡住了。

`$vols = Get-WMIObject Win32_Volume -filter "DriveType=3" -computer $computerName | Select Caption,DriveLetter,Label,@{Name="DiskSize(GB)";Expression={[decimal]("{0:N1}" -f($_.capacity/1gb))}},@{Name="PercentFree(%)";Expression={"{0:P2}" -f(($_.freespace/1mb)/($_.capacity/1mb))}}`

`$vols`正在返回一个`System.Array`类型`PSCustomObject`。因此，如果我通过以下路径传递函数：

*   `G:\Data\My\Test\Path`
*   `G:\Data`

它将找到`G:\Data`挂载点的可用空间。

如果我通过它`G:\Some\Other\Path`，它将返回`G:\`驱动器的可用空间。我想像这样使用它：`$freeSpace = Get-FreeSpace "G:\Some\Other\Path"`

如果有任何帮助，我将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T14:07:40.980

试试这个：

```
function Get-FreeSpace {
    Param(
        $path
    );

    if ($path[-1] -ne '\') { $path += '\' }
    $filter = "DriveType=3 And Name='$($path -replace '\\', '\\')'"
    $free = Get-WmiObject Win32_Volume -Filter $filter |
            Select-Object -Expand FreeSpace
    return ($free / (1024*1024))
} 
```

您需要将 中的反斜杠加倍`$path`，因为它们必须为 WMI 查询转义。为此（可能看起来令人困惑）您必须替换`'\\'`为`'\\'`，因为第一次出现是正则表达式，其中反斜杠必须被转义，而第二次出现是带有双反斜杠的字符串文字。

**更新：**

要匹配部分路径，您可以使用`-like`运算符：

```
function Get-FreeSpace {
    Param(
        $path
    );

    $free = Get-WmiObject Win32_Volume -Filter "DriveType=3" |
            Where-Object { $path -like "$($_.Name)*" } |
            Sort-Object Name -Desc |
            Select-Object -First 1 FreeSpace |
            ForEach-Object { $_.FreeSpace / (1024*1024) }
    return ([int]$free)
} 
```

该`Where-Object`子句选择具有部分路径匹配的所有挂载点，`$path`随后`Sort-Object | Select-Object`选择具有最长匹配的挂载点。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-08-01T19:31:01.960

一个更简单的变体：

```
function Get-FreeSpace {
    param ([string]$path);
    $space = (Get-Volume -FilePath $path).SizeRemaining;
    return [int64]($space / (1024 * 1024)); # this would otherwise be a float
} 
```

`Get-Volume -FilePath`检索与提供的路径关联的卷；从该卷中，我们提取`SizeRemaining`并划分出 1MB。强制转换为 int64 是因为该操作将返回浮点数。

# sass - 如何使用 compass sass 设置相同的 css 属性

> ID：13248326
> 
> 赞同：1
> 
> 时间：2012-11-06T09:44:29.253
> 
> 标签：sass, compass-sass

许多网站在他们的css文件中加入了相同的css规则属性，我想使用compass sass来完成这项工作，我发现extend方法可以做到，但它必须扩展base一个选择器，任何方式都不输出base css选择器？例如。

```
.a{color:red;font-size:10px;}
.b{color:red:font-weight:bold;} 
```

他们有相同的“颜色：红色”。如果我想输出

```
.a,.b{color:red;} 
```

我必须扩展 .c

```
.c{color:red;} 
```

但实际上我不希望 .c 在我的 css 文件中显示。怎么做？
![在此处输入图像描述](../Images/ce5830a845d48659e42c7b6c0eae74bf.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T12:34:01.397

在 Sass 3.2 中，他们添加了一个功能： http: [//sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#placeholders](http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#placeholders)

基本上，使用 a`%`而不是 a`.`来创建一个仅用于扩展的*静默*类。

```
%c {
    color: green;
}

.a, .b {
    @extend %c;
} 
```

# c# - 使用c#将数据从gridview传输到asp.net中的另一个webform？

> ID：13248327
> 
> 赞同：0
> 
> 时间：2012-11-06T09:44:34.227
> 
> 标签：c#, asp.net, gridview, datagridview

我有一个这样的gridview：

```
 <asp:GridView ID="wbsdataGV1" runat="server" Width="790px" AutoGenerateColumns="False"
                                    OnSelectedIndexChanged="wbsdataGV1_SelectionChanged">
                                    <Columns>

                                        <asp:TemplateField HeaderText="WBS Code">
                                            <ItemTemplate>
                                                <asp:LinkButton ID="LinkButton1" runat="server" Text='<%# Eval("WBSCode") %>'></asp:LinkButton>
                                            </ItemTemplate>
                                        </asp:TemplateField>
                                        <asp:TemplateField HeaderText="Description">
                                            <ItemTemplate>
                                                <asp:TextBox ID="TextBox7" runat="server" Text='<%# Eval("Description") %>'></asp:TextBox>
                                            </ItemTemplate>
                                        </asp:TemplateField>
                                        <asp:TemplateField HeaderText="Territory Code">
                                            <ItemTemplate>
                                                <asp:TextBox ID="TextBox8" runat="server" Text='<%# Eval("TerritoryCode") %>'></asp:TextBox>
                                            </ItemTemplate>
                                        </asp:TemplateField>
                                        <asp:TemplateField HeaderText="Amount">
                                            <ItemTemplate>
                                                <asp:TextBox ID="TextBox9" runat="server" Text='<%# Eval("AmountReleased") %>'></asp:TextBox>
                                            </ItemTemplate>
                                        </asp:TemplateField>
                                    </Columns>
                                </asp:GridView> 
```

当我单击链接按钮时，我想要该数据，并且我会将其传输到另一个 aspx 从 .. 通过

```
protected void wbsdataGV1_SelectionChanged(object sender, EventArgs e)
{
    //Some code ;
} 
```

现在我的问题是如何通过单击 gridview 上的链接按钮来获取该数据？我可以通过查询字符串或会话变量或隐藏文本字段传输数据......但我担心的是我怎样才能获得准确的点击数据......有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:08:29.620

将 DataKeys 属性定义为数据的主键（这里我假设您有一个名为“ID”的行标识符。

```
<asp:GridView ... DataKeys="ID">
    ... existing markup
</asp:GridView> 
```

在`wbsdataGV1_SelectionChanged`中，获取用户单击的行的 ID，如下所示：

```
int rowID = (int)this.wbsdataGV1.SelectedDataKey.Value; 
```

然后像这样重定向到另一个页面，只传递 ID：

```
Response.Redirect("anotherpage.aspx?id=" + rowID); 
```

然后在您的其他页面中：

```
protected void Page_Load(object s, EventArgs e)
{
    if (!Page.IsPostback)
    {
        int rowID = int.Parse(Request.QueryString["id"]);

        // do something with the ID of the row, like go and look
        // up JUST that row again
    }
} 
```

奖励 - 要使整行可点击，避免需要命令按钮，请执行以下操作：

```
<script language="javascript" type="text/javascript">
    var oldColour = null;

    function rowMouseover(o) {
        o.style.cursor = 'pointer';
        oldColour = o.style.backgroundColor;
        o.style.backgroundColor = '#dddddd';
    }

    function rowMouseout(o) {
        o.style.backgroundColor = oldColour;
    }
</script>

<asp:GridView ... OnRowCreated="grid_RowCreated" />

protected void grid_RowCreated(object sender, GridViewRowEventArgs e)
{
    if (e.Row.RowType == DataControlRowType.DataRow)
    {
        e.Row.Attributes["onclick"] =
            Page.ClientScript.GetPostBackClientHyperlink(
                this.grid, 
                "Select$" + e.Row.RowIndex);

        e.Row.Attributes["onmouseover"] = "rowMouseover(this);";
        e.Row.Attributes["onmouseout"] = "rowMouseout(this);";
    }
}

protected override void Render(HtmlTextWriter writer)
{
    for (int i = 0; i < grid.Rows.Count; i++)
        Page.ClientScript.RegisterForEventValidation(grid.UniqueID, "Select$" + i); 

    base.Render(writer);
} 
```

您可以通过 Session 对象传递 ID，但是如果多个浏览器窗口同时执行相同的操作（取决于浏览器），您会得到奇怪的行为。这对于用户来说很难篡改。

您也可以通过 Request.Form 传递 ID，这样可以将其隐藏在琐碎的用户摆弄中，但不会增加任何真正的安全性。

提示：不要只是将大量对象转储到 Session 变量中。它很懒惰，容​​易出错，并且无法扩展。

# iphone - 避免在 UIView 内拉伸 UIImageView

> ID：13248328
> 
> 赞同：1
> 
> 时间：2012-11-06T09:44:37.253
> 
> 标签：iphone, objective-c, ios

我在 Storyboard 的 UIViewController 中有一个 UIView。里面有一个 UIImageView。

我想以编程方式增加 UIView 的高度：

```
CGRect frame = headerV.frame;
frame.size.height = 100;
headerV.frame = frame; 
```

问题是它也拉伸了 UIImageView。如果我不想以编程方式添加 UIImage，我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T09:48:49.070

在您的故事板中，单击 UIImageView，打开尺寸检查器并确保禁用拉伸宽度和高度（在自动调整大小时）。它应该是这样的：

![在此处输入图像描述](../Images/c71d4a07e9be5a3e83fa94d3b83c8276.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T09:48:50.100

将`autoresizesSubviews`UIView 的属性设置为`NO`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T09:47:24.163

如果您不想拉伸图像，请将其设置为`contentMode`

```
imageView.contentMode = UIViewContentModeCenter; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T09:51:58.327

**选项 1 - 使用调整大小标志**

A) 禁用 autoresizesSubviews `headerV.autoresizesSubviews = NO`。
或
B) 在您的 imageView 上设置正确的 autoresizingMask。这样做：
`imageView.autoresizingMask = UIViewAutoresizingFlexibleBottomMargin`，
如果它应该粘在顶部（或其他东西 - 你想要的任何设置）

**选项 B - 自动布局**

相应地设置你的自动布局，）

（PS：您可以在 interfaceBuilder 或代码中完成所有这些操作。）

# java - How open local authority file with java android

> ID：13248331
> 
> 赞同：1
> 
> 时间：2012-11-06T09:44:43.180
> 
> 标签：java, android

Please help me

I have a local LAN...

```
LAN NAME = " XXX " 
LAN PASSWORD =" 12345 " 
```

And I have NT server (it does not support HTTP server)

```
Server IP is = 192.168.1.222 
Server name is = "SERVER" 
```

My server is secured. And I logged in with user="*tayfur*" pass="*abcd*".

Finally; I want to open `\\SERVER\YEDEK\olc1.jpg` with Android device.

How connect to file with Java for Android (I use eclipse)? Please send me examples.

[](http://i.stack.imgur.com/cm8OI.jpg)

# google-app-engine - Google App Engine + OpenCMIS

> ID：13248334
> 
> 赞同：3
> 
> 时间：2012-11-06T09:44:59.700
> 
> 标签：google-app-engine, soap, opencmis

Problem in SOAP connection From the GWT solution to CMIS webServer.

GWT 2.4.0

Google App Engine 1.7.3 is used.

Apache OpenCMIS 0.8 library is used.

i've looked in [consuming SOAP web serives in google app engine and GWT](https://stackoverflow.com/questions/2268474/consuming-soap-web-serives-in-google-app-engine-and-gwt) article. And [http://code.google.com/appengine/articles/soap.html](http://code.google.com/appengine/articles/soap.html). [http://code.google.com/p/googleappengine/issues/detail?id=5332](http://code.google.com/p/googleappengine/issues/detail?id=5332)

SOAP CMIS connection is made internaly in the Apache OpenCMIS library. (jaxws-rt-2.1.7.jar)

REST Atom Pub connection works nice. I've got the following error, trying to connect to the SOAP webservice:

```
Caused by: java.lang.NoClassDefFoundError: java.net.ProxySelector is a restricted class. Please see the Google  App Engine developer's guide for more details.
at com.google.appengine.tools.development.agent.runtime.Runtime.reject(Runtime.java:51)
at com.sun.xml.ws.api.EndpointAddress$1.run(EndpointAddress.java:153)
at com.sun.xml.ws.api.EndpointAddress$1.run(EndpointAddress.java:152)
at java.security.AccessController.doPrivileged(Native Method)
at com.sun.xml.ws.api.EndpointAddress.chooseProxy(EndpointAddress.java:149)
at com.sun.xml.ws.api.EndpointAddress.<init>(EndpointAddress.java:130)
at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parsePort(RuntimeWSDLParser.java:369)
at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parseService(RuntimeWSDLParser.java:341)
at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parseWSDL(RuntimeWSDLParser.java:323)
at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:146)
at com.sun.xml.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:265)
at com.sun.xml.ws.client.WSServiceDelegate.<init>(WSServiceDelegate.java:228)
at com.sun.xml.ws.client.WSServiceDelegate.<init>(WSServiceDelegate.java:176)
at com.sun.xml.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:104)
at javax.xml.ws.Service.<init>(Service.java:56)
at org.apache.chemistry.opencmis.commons.impl.jaxb.DiscoveryService.<init>(DiscoveryService.java:42) 
```

# c# - 从 Web 服务错误调用无参数方法

> ID：13248339
> 
> 赞同：1
> 
> 时间：2012-11-06T09:45:16.037
> 
> 标签：c#, web-services

我正在尝试调用返回公司 ID 的 Web 服务方法

```
GetCompanyCommand companyRef = new GetCompany(); 
```

但是我在 Web 服务中有一个已经存在的方法，并且构造函数有一个参数

```
public GetCompanyCommand(Guid actCompanyId)
    {
        this.actCompanyId = actCompanyId;

    } 
```

问题是当我去更新 Web 服务引用时，我遇到了一个错误，指出该方法无法序列化，因为它不包含无参数构造函数。

现在有没有办法让我在不更改现有构造函数的情况下解决这个问题？因为许多其他方法已经调用它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T09:57:45.150

如果您的 Web 服务类具有带参数的构造函数，则它应该具有无参数构造函数。像

```
public GetCompany()
{

} 
```

这是一个限制`XmlSerializer`。请注意`BinaryFormatter`并且`DataContractSerializer`不需要这样做 - 他们可以从以太中创建一个未初始化的对象并在反序列化期间对其进行初始化。

在对象的过程`de-serialization`中，负责反序列化对象的类创建一个`instance`序列化类，然后仅在获取要填充的实例后才继续填充序列化的字段和属性。

# c# - 检索 Google Drive 登录的用户凭据

> ID：13248340
> 
> 赞同：1
> 
> 时间：2012-11-06T09:45:17.097
> 
> 标签：c#, google-drive-api

我需要检索 Google Drive 登录的用户凭据。假设我在谷歌驱动器中有一个帐户，并且我想检索用户信息 - 我怎样才能让它在 C# 中工作？

当我运行下面的代码时，出现错误：

```
using System;
using System.Diagnostics;
using DotNetOpenAuth.OAuth2;
using Google.Apis.Authentication.OAuth2;
using Google.Apis.Authentication.OAuth2.DotNetOpenAuth;
using Google.Apis.Drive.v2;
using Google.Apis.Drive.v2.Data;
using Google.Apis.Util;
using Google.Apis.Requests;
using System.Collections.Generic;
using System.Net;
using Google.GData.Client;
using Google.GData.Documents;
using Google.GData.Extensions;
using Google.Apis.Oauth2.v2;
using Google.Apis.Oauth2.v2.Data;
using Google.Apis.Authentication;
namespace google_drive_iterate_folders
{
    class Program
    {

    static DriveService BuildService(IAuthenticator credentials)
    {
        return new DriveService(credentials);
    }

    public static IAuthenticator GetCredentials(String authorizationCode, String state)
    {
        String emailAddress = "";
        try
        {
            IAuthorizationState credentials = ExchangeCode(authorizationCode);
            Userinfo userInfo = GetUserInfo(credentials);
            String userId = userInfo.Id;
            emailAddress = userInfo.Email;
            if (!String.IsNullOrEmpty(credentials.RefreshToken))
            {
                StoreCredentials(userId, credentials);
                return GetAuthenticatorFromState(credentials);
            }
            else
            {
                credentials = GetStoredCredentials(userId);
                if (credentials != null &&
                    !String.IsNullOrEmpty(credentials.RefreshToken))
                {
                    return GetAuthenticatorFromState(credentials);
                }
            }
        }
        catch (Exception ex)
        {
            Console.WriteLine("An error occurred during code exchange.");
            // Drive apps should try to retrieve the user and credentials for
            // the current session.
            // If none is available, redirect the user to the authorization URL.
            e.AuthorizationUrl = GetAuthorizationUrl(emailAddress, state);
            throw e;
        }
        //catch ()
        //{
        //    Console.WriteLine("No user ID could be retrieved.");
        //}
        // No refresh token has been retrieved.
        String authorizationUrl = GetAuthorizationUrl(emailAddress, state);
        throw new NoRefreshTokenException(authorizationUrl);
    }

    /// <summary>
    /// Exchange an authorization code for OAuth 2.0 credentials.
    /// </summary>
    /// <param name="authorizationCode">Authorization code to exchange
    //// for OAuth 2.0 credentials.</param>
    /// <returns>OAuth 2.0 credentials.</returns>
    /// <exception cref="CodeExchangeException">An error occurred.</exception>
    static IAuthorizationState ExchangeCode(String authorizationCode)
    {
        var provider = new NativeApplicationClient(
            GoogleAuthenticationServer.Description,
            ClientCredentials.CLIENT_ID,
            ClientCredentials.CLIENT_SECRET);
        IAuthorizationState state = new AuthorizationState();
        state.Callback = new Uri(ClientCredentials.REDIRECT_URI);
        try
        {
            state = provider.ProcessUserAuthorization(authorizationCode, state);
            return state;
        }
        catch (ProtocolException)
        {
            throw new CodeExchangeException(null);
        }
    }

    /// <summary>
    /// Send a request to the User Info API to retrieve the user's information.
    /// </summary>
    /// <param name="credentials">OAuth 2.0 credentials to authorize
    //// the request.</param>
    /// <returns>User's information.</returns>
    /// <exception cref="NoUserIdException">An error occurred.</exception>
    static Userinfo GetUserInfo(IAuthenticator credentials)
    {
        Oauth2Service userInfoService = new Oauth2Service(credentials);
        Userinfo userInfo = null;
        try
        {
            userInfo = userInfoService.Userinfo.Get().Fetch();
        }
        catch (GoogleApiRequestException e)
        {
            Console.WriteLine("An error occurred: " + e.Message);
        }

        if (userInfo != null && !String.IsNullOrEmpty(userInfo.Id))
        {
            return userInfo;
        }
        else
        {
            throw new NoUserIdException();
        }
    }

    /// <summary>
    /// Retrieve an IAuthenticator instance using the provided state.
    /// </summary>
    /// <param name="credentials">OAuth 2.0 credentials to use.</param>
    /// <returns>Authenticator using the provided OAuth 2.0
    /// credentials</returns>
    public static IAuthenticator GetAuthenticatorFromState(
        IAuthorizationState credentials)
    {
        var provider = new StoredStateClient(
            GoogleAuthenticationServer.Description, ClientCredentials.CLIENT_ID,
            ClientCredentials.CLIENT_SECRET, credentials);
        var auth = new OAuth2Authenticator<StoredStateClient>(
            provider, StoredStateClient.GetState.. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:48:25.730

Google Drive SDK 文档包含一个完整的 .NET 示例，展示了如何在数据库中存储凭据并在需要时恢复它们：

看看这个：- [https://developers.google.com/drive/examples/dotnet](https://developers.google.com/drive/examples/dotnet)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T07:54:45.993

好的，快速浏览一下...您缺少另一个 using 指令（尽管我很惊讶您在运行时而不是编译时收到错误，但您的 IDE 肯定可以告诉您这一点...）。

我不能确定 userinfo 属于哪个名称空间，但是查看[此链接](http://code.google.com/p/google-drive-sdk-samples/source/browse/dotnet/DrEdit/Models/Utils.cs?name=54312a4a583d&r=310f6cf3ef436445c2bfd7abc75cca6ca011c828)，我只能看到您缺少的 google 名称空间。尽管如此，我真的不期待它在那里......

无论如何，谷歌是你的朋友。

# cocoa - Mac 应用程序如何对视网膜如此不友好

> ID：13248344
> 
> 赞同：3
> 
> 时间：2012-11-06T09:45:19.070
> 
> 标签：cocoa, retina-display, appkit

据我所知，窗口、标签等在配备 Retina 显示屏的新 MacBook 上运行时会自动进行视网膜显示。我拥有的大多数应用程序都是这种情况（我没有开发的第三方应用程序）。然而...

有这个特定的应用程序（Yummy ftp），在视网膜上看起来很糟糕。窗口中的每一个“东西”都是非视网膜的。甚至窗口的工具栏。

在一个反例中，许多其他应用程序只是自动进行了视网膜处理（光栅图像、CoreGraphics/CoreAnimation 等内容除外）。

**展示：**

我没有缩放这些图像。我只是截屏、裁剪和上传。

![美味的 FTP 非 retinified](../Images/d0ac388af5b41be3ebbf018cdfa9854c.png)

![Daisy Disk 视网膜](../Images/1004f09c3a33d6ef12bb3c971a031365.png)

作为一名可可开发人员，我想知道这种不当行为的原因，以及如何避免这种行为。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-12T06:35:12.783

[https://developer.apple.com/library/mac/#documentation/GraphicsAnimation/Conceptual/HighResolutionOSX/Introduction/Introduction.html](https://developer.apple.com/library/mac/#documentation/GraphicsAnimation/Conceptual/HighResolutionOSX/Introduction/Introduction.html)，确保已阅读指南。“应用程序的高分辨率功能在信息窗口中可用 用户可以通过打开应用程序的信息窗口并查看“以低分辨率打开”复选框来了解应用程序是否以低分辨率运行，如图 1-7 所示。非 Cocoa 应用程序的应用程序选中此复选框且不可用（变暗）。大多数 Cocoa 应用程序都有此复选框可用，但未选中。如果应用程序存在与高相关的可用性问题，用户可以选择以放大模式运行 Cocoa 应用程序解析度。

图 1-7 应用信息窗口中的分辨率选项！[在此处输入图像描述]

某些未针对高分辨率进行完全优化的 Cocoa 应用程序可能会默认选中该复选框并使其可用。除非用户覆盖默认设置，否则这些应用程序将以放大模式运行。如果与高分辨率相关的问题是可以容忍的，用户可能希望覆盖默认值。

如果您的应用默认选中“以低分辨率打开”复选框（无论该复选框是否可用（变暗）），您可以通过以下方式更改默认设置：

修复与高分辨率相关的所有错误`NSHighResolutionCapable`在应用程序的 Info.plist 中将属性设置为 YES，如图 1-8 所示。图 1-8 表示应用已准备好高分辨率的按键！[在此处输入图像描述]

当用户更新到您的应用程序的修订版本时，他们将能够享受高分辨率版本。

`NSHighResolutionMagnifyAllowed`如果您的应用针对高分辨率进行了优化，您可以通过将密钥添加到您的应用的 Info.plist 来请求不显示“以低分辨率打开”复选框。然后，将键的值设置为 NO（布尔值）。YES（默认值）意味着复选框应该像往常一样显示。”

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-08T11:25:06.900

我发现了一个与 Yummy FTP 有完全相同问题的开源应用程序：

[大胆](http://audacity.sourceforge.net/)

在探索了这个项目后，我意识到该应用程序是用 C++ 开发的，以实现跨平台能力，这就是为什么它不自动支持带有视网膜显示的 MacBook。弄清楚是否有可能支持视网膜显示超出了这个问题的范围。

# html - 如何使用 html5 创建一个简单的拼图/测验小部件平台

> ID：13248345
> 
> 赞同：1
> 
> 时间：2012-11-06T09:45:26.860
> 
> 标签：html

我想创建一个从一开始就使用 HTML5 的简单拼图/测验小部件平台。这个小部件使低端用户能够创建自己的测验或拼图或任何简单的游戏。我如何开始以及我需要什么才能做到这一点？

# ns2 - 在 ns2.34 中运行 aodv

> ID：13248348
> 
> 赞同：-1
> 
> 时间：2012-11-06T09:45:47.937
> 
> 标签：ns2

有人可以告诉我如何在 ns2.34 中运行 aodv 协议 .... aodv 已经安装在其中...我尝试使用命令 g++ aodv.cc 来编译它，但它显示错误？

```
linux@ubuntu :~/ns-allinone-2.34/ns-2.34 $ g++ aodv.cc
    g++: aodv.cc: No such file or directory
    g++: no input files 
```

aodv dot cc 和 aodv dot h 文件位于文件夹 aodv

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-12T09:52:57.960

在 ns2 中，aodv 就像一个后端文件。您不能直接运行 aodv.cc 文件。它只是一个路由协议，您可以使用 tcl 脚本来分析 aodv 操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T11:41:45.707

你不能运行这样的协议。该协议是一种与不同 OSI 层（如 MAC 协议等）中的其他协议一起使用的工具。通常会编写一个 TCL 脚本来定义节点使用的不同参数。这些参数指示要使用的协议。我建议你彻底阅读 NS 手册。

# c# - 如何在 mvc4 razor 中显示验证消息

> ID：13248352
> 
> 赞同：4
> 
> 时间：2012-11-06T09:45:54.830
> 
> 标签：c#, asp.net-mvc, razor, asp.net-mvc-4, validation

我是 MVC Razor 的新手，我想在文本框上实现验证消息。在这里，我正在动态创建一些文本框，如下所示：

**查看代码：**

```
foreach (var items in (IEnumerable<System.Data.DataRow>)Model.UsersOfList)
{

  @Html.TextBoxFor(m => m.LoginNameOfLoginInfoTab, new { @class = "textBox_LoginInfoAndPermission", @value = (Model.LoginNameOfLoginInfoTab = items["UserName"].ToString()), @id = ("txtUserLoginName" + Model.UsernameOfLoginInfoTab.Trim()) })

  @Html.ValidationMessageFor(m => m.LoginNameOfLoginInfoTab, null, new { @class = "ErrorMessage" })

  @Html.TextBoxFor(m => m.UsernameOfLoginInfoTab, new { @class = "textBox_LoginInfoAndPermission", @value = (Model.UsernameOfLoginInfoTab = items["FirstName"].ToString()), @id = ("txtUserName" + Model.UsernameOfLoginInfoTab.Trim()) })

  @Html.ValidationMessageFor(m => m.UsernameOfLoginInfoTab, null, new { @class = "ErrorMessage" })

} 
```

在模块中，我编写了如下验证代码：

```
[Required (ErrorMessage="*")]
    public string UsernameOfLoginInfoTab
    {
        get;
        set;
    }

   [Required(ErrorMessage = "*")]
    public string LoginNameOfLoginInfoTab
    {
        get;
        set;
    } 
```

现在，当所有文本框都已创建并且为第一个循环迭代文本框显示一条验证消息时，它将自动显示在另一个文本框前面，该文本框也是在第二次循环迭代中创建的。

请告诉我出了什么问题。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-06T10:44:57.393

问题是因为您在`TextBoxFor`and`ValidationMessageFor`中使用的表达式（MVC 使用它来为字段创建字符串名称并从中查找验证消息`ModelState`）在整个循环迭代中始终相同。

你这里的方法似乎有点缺陷，所以我的回答更全面。

1) 制作在结构上代表您尝试显示的信息的视图模型。

修复您的视图模型：

```
public class UserInfoViewModel
{
    [Required (ErrorMessage="*")]
    public string UserName { get; set; }

   [Required(ErrorMessage = "*")]
    public string LoginName { get; set; }
}

// I don't know if you actually need this or not, but your existing model may contain additional properties relevant to the view that I don't know about, so I'll keep it.
public class ListOfUsersViewModel
{
    public IList<UserInfoViewModel> UsersOfList { get; set; }
} 
```

修正你的行为（我在这里编造这个是为了说明一点）：

```
public ActionResult ListOfUsers()
{
     var users = GetUserDataRows(); // gets your collection of DataRows
     var model = new ListOfUsersViewModel
                     {
                         UsersOfList = users.Select(row = new UserViewModel { UserName = row["FirstName"], LoginName = row["UserName"] }).ToList()
                     };

     return View(model);                  
} 
```

2) 现在您可以遍历视图中的用户并使用验证消息创建适当的字段。

我们称之为视图`ListOfUsers.cshtml`。在视图中包含您需要的任何其他内容，但请改用`for`循环。

```
@using(Html.BeginForm("ListOfUsers"))
{
    <ul>
    @for (var i = 0; i < Model.UsersOfList.Count; i++)
    {
       <li>
       @Html.TextBoxFor(m.UsersOfList[i].LoginName, new {@class="textbox_LoginInfoAndPermission"})
       @Html.ValidationMessageFor(m => m.UsersOfList[i].LoginName)

       @Html.TextBoxFor(m.UsersOfList[i].UserName, new {@class="textbox_LoginInfoAndPermission"})
       @Html.ValidationMessageFor(m => m.UsersOfList[i].UserName)
       </li>
    }
    </ul>
   <button type="submit">Submit changes</button>
} 
```

这将为每个项目生成这样的 HTML（`0`名称和 id 将是用户在集合中的索引）：

```
<li>
<input type="text" id="UsersOfList_0_LoginName" name="UsersOfList[0].LoginName" value="..." />
<span class="field-validation-valid" data-valmsg-for="UsersOfList_0_LoginName" ... ></span>

<input type="text" id="UsersOfList_0_UserName" name="UsersOfList[0].UserName" value="..." />
<span class="field-validation-valid" data-valmsg-for="UsersOfList_0_UserName" ... ></span>
</li> 
```

3) 创建一个动作来接收提交的更改。此操作将自动将提交的值绑定到`model`参数，并为您进行验证。您需要做的就是检查`ModelState.IsValid`。

```
[HttpPost, ActionName("ListOfUsers")]
public ActionResult ListOfUsersPost(ListOfUsersViewModel model)
{
    // at this point, model will be instantiated, complete with UsersOfList with values submitted by the user

    if (ModelState.IsValid) // check to see if any users are missing required fields. if not...
    {
         // save the submitted changes, then redirect to a success page or whatever, like I do below
        return RedirectToAction("UsersUpdated");
    }

    // if ModelState.IsValid is false, a required field or other validation failed. Just return the model and reuse the ListOfUsers view. Doing this will keep the values the user submitted, but also include the validation error messages so they can correct their errors and try submitting again
    return View("ListOfUsers", model);

} 
```

# android - Android：在列表视图项目中按下按钮

> ID：13248356
> 
> 赞同：2
> 
> 时间：2012-11-06T09:46:10.347
> 
> 标签：android, listview, android-listview, adapter

我有一个包含两个按钮的自定义列表视图适配器，问题是很难单击按钮并且它一直失去焦点，或者您必须多次触摸它才能识别单击。

```
@Override
public View getView(int position, View view, final ViewGroup parent) {

    DataEntity data = entityList.get(position);

    view = inflater.inflate(R.layout.new_mission_row, parent, false);

// inflate other views

    Button playButton = (Button) view.findViewById(R.id.buttonPlay);
    playButton.setBackgroundResource(R.drawable.blue_button);
    playButton.setTextColor(Color.WHITE);
    MyClickListener listener = new MyClickListener(context,entity);
    playButton.setOnClickListener(listener);
    playButton = (Button) view.findViewById(R.id.buttonMap);
    playButton.setBackgroundResource(R.drawable.blue_button);
    playButton.setTextColor(Color.WHITE);
    playButton.setOnClickListener(listener);
    return view;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:03:58.910

见下一篇。

```
@Override
    public View getView(final int position, View convertView,
            ViewGroup parent) {

        View v = convertView;
        if (v == null) {
            LayoutInflater vi = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            imageLoader = new SISIImageLoader(MY_ACTIVITY.this);
            v = vi.inflate(R.layout.game_display_row, null);
            ViewHolder holder = new ViewHolder();

            holder.deleteGameBtn = (Button) v.findViewById(R.id.deleteGameBtn);

            v.setTag(holder);
        }

        final Gamedata o = items.get(position);

        ViewHolder holder = (ViewHolder) v.getTag();

        if (o != null) {

            Button deleteGameBtn = (Button) v.findViewById(R.id.deleteGameBtn);

            holder.deleteGameBtn.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {

                        // do what you want to do on click 

                    }

            });

        }
        return v;
    } 
```

希望它能解决你的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:05:45.820

检查您的代码一次。您尚未为 . 创建不同的按钮对象`buttonmap`。

```
playButton = (Button) view.findViewById(R.id.buttonMap); 
```

在这里，您使用的按钮对象与您创建的相同`buttonPlay`

此外，当您填充 ListView 时，您应该使用[ViewHolder 模式](http://www.vogella.com/articles/AndroidListView/article.html#adapterperformance_hoder)来有效地填充 listview。

# jquery-ui - 在工具提示小部件中将箭头从工具提示的底部移动到左侧（jQuery UI 1.9）

> ID：13248357
> 
> 赞同：1
> 
> 时间：2012-11-06T09:46:09.870
> 
> 标签：jquery-ui, css, transform, jquery-ui-tooltip

我正在使用基于[jquery ui 工具提示小部件“自定义样式”演示](http://jqueryui.com/tooltip/#custom-style)的语音气泡样式工具提示，但是当我需要它在工具提示的左侧而不是在顶部或底部时，我无法正确显示箭头.

有人可以帮我修复此代码（它会切断提示并显示太大的箭头部分）吗？

```
<style type="text/css"> 

   .ui-tooltip.menu_info {
        max-width: 200px;
    }      
* html .ui-tooltip {
    background-image: none;
}
body .ui-tooltip { border-width: 1px; }
    .ui-tooltip, .arrow:after, .arrow_left_side:after {
        background: white;
        border: 1px solid #999;       

    }       
    .ui-tooltip {
        padding: 10px 12px;
        color: Black;
        font: 8pt "Helvetica Neue", Sans-Serif;   
        max-width: 150px;
        border: 1px solid #999;
    position: absolute;
    }           
    .arrow_left_side {       
        height: 70px;
        width: 8px;    
        overflow: hidden;
        position: absolute;
        top: 0px;
        margin-top: 5px;
        left: -8px;
    }   
    .arrow_left_side:after {
        content: "";
        position: absolute;
        width: 25px;    height: 25px;
        -webkit-transform: rotate(45deg);
        -moz-transform: rotate(45deg);
        -ms-transform: rotate(45deg);
        -o-transform: rotate(45deg);
        tranform: rotate(45deg);
    }
     </style>   
 <script>
$(function() {
    $('.menu_info').tooltip({
        position: {
            my: "left+20 center",
            at: "right center",
            using: function (position, feedback) {
                $(this).css(position);
                $("<div>")
                        .addClass("arrow_left_side")
                        .addClass(feedback.vertical)
                        .addClass(feedback.horizontal)
                        .appendTo(this);
            }
        }
    });
});
</script> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T00:42:47.257

### 问题描述

该问题是由 CSS 转换和`overflow:hidden`. *箭头*实际上是一个正方形，其宽度和高度旋转了45^度。旋转的默认原点是`50% 50%`或`center center`导致“箭头”正方形围绕中间旋转，从而导致边缘被`overflow`属性剪裁。

它最好显示为图像或[**演示**](http://jsfiddle.net/CxtAU/1/)（仅限 Webkit），但用于演示问题的代码也在下面。

![CSS 旋转示例](../Images/95ceadf0bcd3a78db874b4220cc10074.png)

第一个^框显示“箭头”方块的起始位置，^(第二)个框显示围绕中心点的小旋转。您可以看到边缘已被包含块的`overflow:hidden`. 第三个^(显示)了 45 ^o旋转，这表明了您遇到的问题。第 4^个添加 CSS 将原点移动到`0 25px`，也就是`x=0, y=25px`左下角，所以你可以看到围绕这个点的小旋转看起来更好。第 5^(窗格)显示完整的 45 ^o围绕修改后的原点旋转。这看起来好多了，剩下要做的就是减少容器的宽度以剪掉右手边，留下一个朝左的箭头。然后一些简单的 CSS 定位将其移动到工具提示内容旁边的位置。

### 解决方案

您的 CSS 所需的修改是容器上的小定位更改和旋转原点的添加。我在上面的描述中意识到我说的是原点，`0 25px`但实际上箭头仍然被夹在左侧，所以我把原点移到了`5px 25px`。

```
.arrow_left_side {       
    margin-top: -5px;
    left: -10px;
}   
.arrow_left_side:after {
    -webkit-transform-origin: 5px 25px;
    /* for brevity, I have not added all the different browser prefix versions of transform-origin. If you need cross browser support, you will need to add these here */
} 
```

[](http://jsfiddle.net/WhWe9/1/)**请参阅上述更改的[**演示**](http://jsfiddle.net/WhWe9/1/)**

 **### 演示代码

为了完整起见，这里是生成上述图像的代码。通过更改[Chrome DevTools](https://developers.google.com/chrome-developer-tools/)中的旋转来与演示交互以实时查看正方形旋转非常有用。

*HTML*

```
<div class="original"></div>
<div class="original-rotated-a-little"></div>
<div class="original-rotated-forty-five"></div>
<div class="original-with-transform-origin-rotated-a-little"></div>
<div class="original-with-transform-origin-rotated-forty-five"></div> 
```

*CSS*

```
body {
    margin-left:50px
}
div {
    position:relative;
    height: 50px;
    width: 35px;    
    overflow: hidden;
    top: 0px;
    margin-top: 5px;
    left: -8px;
    border:1px dashed red;
}   
div:after {
    content: "";
    position: absolute;
    border: 1px solid #999;
    width: 25px;
    height: 25px;
}
div.original-rotated-a-little:after {
    -webkit-transform: rotate(15deg);
}
div.original-rotated-forty-five:after {
    -webkit-transform: rotate(45deg);
}
div.original-with-transform-origin-rotated-a-little:after {
    -webkit-transform-origin: 5px 25px;
    -webkit-transform: rotate(15deg);
}
div.original-with-transform-origin-rotated-forty-five:after {
    -webkit-transform-origin: 5px 25px;
    -webkit-transform: rotate(45deg);
} 
```

希望这可以帮助 ：-）**

# c# - 使用 linq 从数据库中检索过去 7 天内的数据

> ID：13248360
> 
> 赞同：7
> 
> 时间：2012-11-06T09:46:17.207
> 
> 标签：c#, .net, linq, entity-framework, linq-to-sql

我有一个`view`数据，我只需要检索过去 7 天的数据。如果我使用 sql 查询，我知道有一个功能。但我正在使用 Linq。

这是我的代码：

```
 try
                {
                var query = (from bwl in mg.BarcodeWithLocation
                             select new
                             {
                                 RequestID = bwl.RequestID,
                                 Barcode = bwl.Barcode,
                                 adrid = bwl.AdrID,
                                 name = bwl.Name,
                                 street = bwl.Street,
                                 houseno = bwl.HouseNo,
                                 postal = bwl.Postal,
                                 city = bwl.City,
                                 country = bwl.Country,
                                 latitudetxt = bwl.Latitude == "" ? "Location Unknown" : "View Map Location",
                                 latitude = bwl.Latitude,
                                 longitude = bwl.Longitude,
                                 date = bwl.ReceivedDate
                             });

                this.Grid.DataSource = query;
                this.Grid.DataBind();
                }
                catch (Exception exception)
                {
                      Console.WriteLine("ERROR in GetNoLocationScan() method. Error Message : " + exception.Message);
                } 
```

谁能告诉我如何在 Linq 中做到这一点？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-06T09:48:43.127

您可以使用 `DateTime.Now.AddDays(-7)`获取比当前日期早 7 天的记录。或者您可以使用 Datime.Today.AddDays(-7) 如果您想要时间部分并从下午 12 点之后开始。

```
var query = (from bwl in mg.BarcodeWithLocation
              where(bwl.ReceivedDate > DateTime.Now.AddDays(-7))
                         select new
                         {
                             RequestID = bwl.RequestID,
                             Barcode = bwl.Barcode,
                             adrid = bwl.AdrID,
                             name = bwl.Name,
                             street = bwl.Street,
                             houseno = bwl.HouseNo,
                             postal = bwl.Postal,
                             city = bwl.City,
                             country = bwl.Country,
                             latitudetxt = bwl.Latitude == "" ? "Location Unknown" : "View Map Location",
                             latitude = bwl.Latitude,
                             longitude = bwl.Longitude,
                             date = bwl.ReceivedDate
                         }); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-06T09:49:41.723

试试这个：

```
 var dt = DateTime.Now.AddDays(-7);
    var query = (from bwl in mg.BarcodeWithLocation
                 where bwl.ReceivedDate > dt 
                         select new
                         {
                             RequestID = bwl.RequestID,
                             Barcode = bwl.Barcode,
                             adrid = bwl.AdrID,
                             name = bwl.Name,
                             street = bwl.Street,
                             houseno = bwl.HouseNo,
                             postal = bwl.Postal,
                             city = bwl.City,
                             country = bwl.Country,
                             latitudetxt = bwl.Latitude == "" ? "Location Unknown" : "View Map Location",
                             latitude = bwl.Latitude,
                             longitude = bwl.Longitude,
                             date = bwl.ReceivedDate
                         }); 
```

# javascript - Javascript 反向引用后跟数字

> ID：13248365
> 
> 赞同：11
> 
> 时间：2012-11-06T09:46:34.107
> 
> 标签：javascript, regex

如果我有一个包含 13 个捕获组的正则表达式，我将如何指定包含第一个反向引用后跟文字“3”的替换字符串？

```
var regex = /(one)(2)(3)(4)(5)(6)(7)(8)(9)(10)(11)(12)(13)/;
"one2345678910111213".replace(regex,"$13");
//Returns "13". How do I return "one3"? 
```

我能找到的最接近的问题是[this one](https://stackoverflow.com/q/7559473/1726343)，但它与 perl 相关并且不包含硬编码的文字。

还查看了 MDN 上的[文档](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/replace)，但示例中没有明确说明或演示。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-06T10:01:35.503

接得好！我能想出的唯一解决方案是：

```
var regex = /(one)(2)(3)(4)(5)(6)(7)(8)(9)(10)(11)(12)(13)/;
"one2345678910111213".replace(regex, function(match, $1) { return $1 + "3"; } ); 
```

* * *

**编辑**我查阅了[ECMAScript 规范](http://www.ecma-international.org/ecma-262/5.1/#sec-15.5.4.11)，看起来这在没有回调的情况下是可能的。一些 RegExp 替换引擎——例如 Python——有一个`\g`构造（用于“组”），您可以在其中使用类似于`\g{1}3`替换字符串的内容；但 JavaScript 只使用`$nn`. 也就是说，如果您有超过 9 个捕获组，则可以使用两位数的反向引用来消除歧义，如下所示：

```
"one2345678910111213".replace(regex, "$013" ); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-11-20T16:46:55.987

只是为了添加一个简洁的答案以供将来参考：

反向引用最多有两位数字，因此要使用反向引用 #1 后跟一个文字数字，将其称为“01”而不是“1”：

```
"one2345678910111213".replace(regex,"$013"); 
```

# shell - 使用 Shell 脚本将分隔的文本文件导出到 Excel 文件

> ID：13248367
> 
> 赞同：1
> 
> 时间：2012-11-06T09:46:41.680
> 
> 标签：shell, unix, export-to-excel

我的文本文件由管道“|”分隔

我想使用 Unix 中的脚本将其导出到 excel 文件 (xls)

谁能帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:51:36.123

我的建议是，转换分隔符 | , 以 csv 扩展名保存文件 在 excel 中打开文件。

注意：如果你有 , 在标记分隔符以外的文件内容中，这个想法将不起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T12:07:56.943

如果要将文件转换为 .xls 格式，则必须使用 apache POI 库。它有 perl 支持。如果你只是想用excel打开，可以直接用excel打开，把分隔符设置为|。或者将所有单词放在“”中并使用 , 作为分隔符。如果它在“”内，那么文本中的逗号将不是问题。但是文本中的双引号将是一个问题。为了避免所有这些，您可以使用其他一些 ascii 字符作为分隔符。

# rdf - 如何使用 Jena API 从 owl 文件中检索评论？

> ID：13248368
> 
> 赞同：1
> 
> 时间：2012-11-06T09:46:44.840
> 
> 标签：rdf, jena, ontology, owl, protege

目前我正在做一个基于本体的信息检索项目。我已经使用本体编辑器 Protege 创建了基础本体并获得了文件，比如 family.owl。基本上我想执行搜索功能。用户提供搜索词，然后使用本体中的个人进行搜索。如果找到匹配项，则打印与该个人关联的评论。我使用 Jena API 来解析本体。到目前为止，我成功获取了与每个资源关联的主题、谓词和宾语，但我无法获得与每个资源相关联的评论。family.owl 的一部分看起来像这样

```
<!-- http://www.semanticweb.org/ontologies/2012/9/family.owl#Beth -->
<owl:Thing rdf:about="#Beth">
    <rdfs:comment>Beth is the Daughter of Adam . She is the Sister of Chuck .  
     She is the Mother of Dotty & Edward . She is the Aunt of Fran & Greg.
    </rdfs:comment>
    <isChildOf rdf:resource="#Adam"/>
    <isSiblingOf rdf:resource="#Chuck"/>
</owl:Thing> 
```

所以当我搜索贝丝时，我应该得到与之相关的评论，即。贝丝是亚当的女​​儿。她是查克的妹妹。她是多蒂和爱德华的母亲。她是 Fran & Greg 的阿姨。我用来获取主语、谓语和宾语的代码如下

```
 StmtIterator iter=model.listStatements();          
    while(iter.hasNext())
    {
        Statement stmt=iter.nextStatement();
        String subject=stmt.getSubject().toString;                             
        String predicate=stmt.getPredicate().toString();            
        String object=stmt.getObject().toString();
        ...
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T11:05:19.983

`rdfs:comment`应该作为您获得的谓词之一存在（它的，`toString`建议您不要偶然依赖它，它将是：） `http://www.w3.org/2000/01/rdf-schema#comment`。如果它不存在，那么您的代码不是您向我们展示的内容，或者数据不是您引用的内容。由于我找不到您所指的本体，我们无法检查。

一种更简单的方法是使用[Jena 本体 API](http://jena.apache.org/documentation/ontology/index.html)。使用本体 API，您可以执行以下操作（我没有运行此代码，但它应该可以工作）：

```
OntModel m = ModelFactory.createOntologyModel( OntModelSpec.OWL_MEM );
FileManager.get().readModel( m, "... your input file here ..." );

String NS = "http://www.semanticweb.org/ontologies/2012/9/family.owl#";
Individual beth = m.getIndividual( NS + "Beth" );
String comment = beth.getComment(); 
```

# push-notification - Pushwoosh 仅向单个用户发送通知

> ID：13248369
> 
> 赞同：2
> 
> 时间：2012-11-06T09:46:47.257
> 
> 标签：push-notification, apple-push-notifications

你好，我想使用 Pushwoosh 在出租车司机预订时向他们发送通知。到目前为止，我已将其配置为通过 php 脚本安装的应用程序向所有用户发送通知，但我不明白如何一一解决它们，以及是否可以使用免费版本。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T10:01:34.340

是的，Pushwoosh 回答了我并确认此选项仅适用于高级帐户：真是可惜。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-26T12:55:52.497

你说的对。从官方文档：

> 如果您只想向部分订阅设备发送自定义消息，您需要使用我们的远程 API 或标签和过滤器。Pushwoosh Remote API 和标签仅适用于高级帐户。

[https://www.pushwoosh.com/notifications-to-singlegroups-of-devices/](https://www.pushwoosh.com/notifications-to-singlegroups-of-devices/)

# php - PHP 不支持的字符 str_replace 不起作用

> ID：13248370
> 
> 赞同：0
> 
> 时间：2012-11-06T09:46:54.443
> 
> 标签：php, string

我正在尝试替换 PHP 中不支持的字符或其他字体中的字符。我是 PHP 新手。尝试这样做：

```
$news_val = str_replace('','',str_replace('”','"',str_replace('’','\'',str_replace('“','"',$news_val)))); 
```

但不工作。我需要任何人的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T09:50:38.517

似乎是你想替换多个字符。

希望本教程可以帮助您避免嵌套代码和数组多字符示例。

```
$string = "The quick brown fox jumped over the lazy dog";
$search = array('quick', 'fox', 'jumped over', 'dog');
$replace = array('hungry', 'wolf', 'ate', 'mouse');
echo str_replace($search, $replace, $string); 
```

参考 ：

[http://www.electrictoolbox.com/php-str-replace-associative-array/](http://www.electrictoolbox.com/php-str-replace-associative-array/)

特殊字符列表： http: [//www.degraeve.com/reference/specialcharacters.php](http://www.degraeve.com/reference/specialcharacters.php)

您还可以使用 htmlentities： [http://php.net/manual/en/function.htmlentities.php](http://php.net/manual/en/function.htmlentities.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:54:51.717

使用该函数`htmlentities()`从不支持的字符中转义

# html - 如何标记 chrome 的搜索框以在其“其他搜索引擎”中检测和安装？

> ID：13248371
> 
> 赞同：5
> 
> 时间：2012-11-06T09:46:55.707
> 
> 标签：html, google-chrome, search

当我开始在 chrome 中输入以下站点的名称时：

*   亚马逊
*   新蛋
*   数据库
*   知乎
*   好多其它的...

我可以点击“标签”，chrome 让我可以使用该网站的特定搜索引擎进行搜索。**我应该在 <form> 中添加什么样的 HTML 来帮助 chrome 自动检测我创建的网站中的搜索框？**我可以控制选择的关键字吗？

我发现这个[chrome 文档谈论的](http://support.google.com/chrome/bin/answer.py?hl=en&answer=95655&topic=14676&ctx=topic)是用户 POV 的功能，而不是网站管理员的功能。他们称之为“搜索特定网站（搜索标签）”。顺便说一句，谷歌地图曾经有这个功能，但最近由于某种原因它已经死了。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-07T10:59:39.510

[我终于在http://www.chromium.org/tab-to-search](http://www.chromium.org/tab-to-search)找到了关于铬的解释

基本上，您需要链接到 OpenSearch 描述文档。

```
<head>
    <link type="application/opensearchdescription+xml" rel="search" href="url_of_osdd_file"/>
</head> 
```

这是 osdd 文件：

```
<?xml version="1.0"?>
<OpenSearchDescription xmlns="http://a9.com/-/spec/opensearch/1.1/">
    <ShortName>Search My Site</ShortName>
    <Description>Search My Site</Description>
    <Url type="text/html" method="get" template="http://my_site/{searchTerms}"/>
</OpenSearchDescription> 
```

# wix - 我们是否“必须”使用 MsiExec 安装 Wix 补丁？

> ID：13248373
> 
> 赞同：0
> 
> 时间：2012-11-06T09:47:04.747
> 
> 标签：wix, windows-installer

我们通常通过双击来安装 Wix 补丁 (xxx.msp)。但我在互联网上的各个地方看到我们应该使用 MsiExec 实用程序。例如`msiexec /update patch.msp REINSTALL=ALL`

不使用 MsiExec 实用程序有什么缺点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T06:34:04.863

不，没有缺点。实际上，双击运行`msiexec /p patch.msp`。

如果您的补丁只更新版本化文件、EXE 和 DLL，并且无需添加即可正常工作`REINSTALL=ALL`，那就太好了！

显式使用`msiexec`的目的是添加`REINSTALL=ALL`属性。它使安装程序重新安装所有文件。一般是为了修复直接双击安装补丁时部分文件不更新的问题。

# c++ - 用于 TIFF 6.0 和 TTN2 的 C/C++ 库

> ID：13248377
> 
> 赞同：2
> 
> 时间：2012-11-06T09:47:14.333
> 
> 标签：c++, c, tiff, libtiff

这里有人知道我们可以编码/解码 TIFFv6 和 TTN2 的库吗？

它应该是我们可以用来至少能够将 bmp 转换为这些文件和 vv 的东西

谢谢。

# css - 使用 CSS 媒体查询时如何从移动网站恢复到桌面网站？

> ID：13248378
> 
> 赞同：1
> 
> 时间：2012-11-06T09:47:14.247
> 
> 标签：css, media

我正在使用 CSS 媒体查询来创建响应式主题。我想在标有“转到桌面网站”的网站页脚添加一个链接。此链接将专门显示在移动设备上。我该如何做到这一点，以便当访问者单击桌面网站链接时，该网站加载了桌面媒体查询，而不是移动媒体查询。我希望我在我的问题上已经很清楚了。我在谷歌上搜索了解决方案，但找不到任何相关的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:09:09.943

您`responsive.css`使用以下方式卸载文件：

```
document.getElementsByTagName('link')[0].disabled = true; 
```

例如，您可能有：

```
<link rel="stylesheet" href="base.css" type="text/css" id="css_base" />
<link rel="stylesheet" href="responsive.css" type="text/css" id="css_responsive" /> 
```

那么你可以拥有：

```
<a href="#" class="hidden-desktop" id="site_view">Show Full site</a> 
```

```
$("#site_view").click(function() { 
   $("#css_responsive").prop("disabled", true); 
}); 
```

这是一个简单的示例：http: [//jsbin.com/elukab/1](http://jsbin.com/elukab/1)（只需最小化浏览器窗口）

* * *

或者

您可以将用户重定向到您指定要**关闭**移动版本的新 URL ，例如：

```
$("#site_view").click(function() { 
   document.location = document.location.href + '?mobile=off';
}); 
```

并且使用您的动态语言，只需读取查询字符串而不加载响应式样式，因为我是 .NET 开发人员，我会这样做：

```
<link rel="stylesheet" href="base.css" id="css_base" />
@if(Request["mobile"] == null || Request["mobile"] != "off") {
    <link rel="stylesheet" href="responsive.css" id="css_responsive" />
} 
```

# teamcity - 在系统帐户和用户帐户下运行有什么区别？

> ID：13248379
> 
> 赞同：15
> 
> 时间：2012-11-06T09:47:14.767
> 
> 标签：teamcity, teamcity-7.0

我是 TeamCity 的新手，目前正在安装它。

它询问我是否要在“用户帐户”或“系统帐户”下运行服务器/在“用户帐户”或“系统帐户”下运行代理。

我假设由于我的版本控制（clearcase）配置为我的员工 ID，我应该选择用户帐户。

我的假设正确吗？什么时候应该使用 SYSTEM 帐户或用户帐户？它们之间有什么区别？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-09T04:13:03.410

您所说的是允许 TeamCity 作为 LocalSystem 与指定的用户帐户（本地或在 ActiveDirectory 中）运行。LocalSystem 具有很高的特权（请参阅[本文](http://msdn.microsoft.com/en-us/library/windows/desktop/ms684190%28v=vs.85%29.aspx)）。

如果您有兴趣[遵循最小权限原则](http://en.wikipedia.org/wiki/Principle_of_least_privilege)，您应该创建一个用户帐户。如果您在本地工作站上运行 TeamCity，LocalSystem 可能没问题。

同样的建议也适用于构建代理。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-08T22:28:22.070

The main difference for you as the user can be connection of the TeamCity to some remote repositories. I.e., you have an SSH authentication with keys configured in your user account, to access a `git` repository. From the user account you will be able to configure it almost out-of-box. But it will take time to configure authentication for system account.

# java - \n and \\s+ not working in Java

> ID：13248393
> 
> 赞同：3
> 
> 时间：2012-11-06T09:48:16.107
> 
> 标签：java, replace, bluej

So I'm an IB student and I'm taking Comp. Sci. we need to create a code to solve a problem, as i was writing my Java code I found the `String.replaceAll();` that is helpful in writing my code. I had to remove any white spaces, and any new lines, so I found `\\s+` and `\\n`. So as I enter the code `String.replaceAll("\\s+","");` it didn't work, same with `String.replaceAll("\\n","");`. I have tried removing the " " but BlueJ, sends an error saying that `\` is an illegal character. I checked if maybe the `String.replaceAll();` doesn't works but it does work, so I came to a conclusion that something is wrong with `\\s+` and `\\n`.

I have found an alternative in removing white spaces `String.replaceAll(" ","");`, but I still need a way to remove new lines.

Here is a part of the code

```
String name = InputString("Enter name: ");
String name1 = name.replaceAll("\\s+","");
   output(name1); // the output function is located in the IBIO which is provided because I'm and IB student 
```

Alright so someone had given me a code that will remove all of the new lines `\\n`, but if people can give me the reason why my `\\s+` not working that would be helpful.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T09:50:53.237

“它不起作用”是什么意思？

人们经常忘记的一件事是类`String`是不可变的。这意味着如果您调用类似`replace()`on a的方法`String`，则原始字符串**不会**更改；相反，该方法返回一个新字符串。

```
String s = "Hello World";

// Does not change the original string!
s.replaceAll("\\s+", ""); 

// Use this instead to assign s to the new string
s = s.replaceAll("\\s+", ""); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-04-08T13:55:10.083

真正难倒人们为什么`\\s`不起作用的一个可能原因是是否存在字符代码 0xa0（不间断空格）而不是正常空格。该方法`replaceAll`不会使用`\\s`正则表达式捕获 0xa0。相反，您必须执行以下操作：

```
String name1 = name.replaceAll("\\u00a0",""); 
```

替换不间断的空格。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T09:51:41.493

这条线

```
System.out.println("Multiline \r\n String".replaceAll("\\s+", "")); 
```

印刷

```
MultilineString 
```

因此，我建议您发布您遇到问题的确切字符串文字，并生成确切的输出。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T10:19:35.187

从字符串中删除换行符

```
String s = "Enter name :\n Your name ";
        s = s.replaceAll("\n", ""); 
```

# regex - 正则表达式匹配自定义日志文件中的日期和时间

> ID：13248394
> 
> 赞同：2
> 
> 时间：2012-11-06T09:48:16.953
> 
> 标签：regex, awk, gawk

我正在编写一个脚本，为了实现卓越，必须将日期和时间格式从日志文件转换为时间戳。我想要这个以便稍后进行比较。

我的日志文件具有以下格式：

```
2012-11-06 10:32:45
<log message follows here on multiple lines in XML format> 
```

我正在使用以下 gawk 表达式将我的日期/时间转换为时间戳：

```
$ gawk '/^([0-9]{2,4}-?){3} ([0-9]{2}\:?){3}/{print $0;gsub(/\:/," ");print mktime($0)}' logfile.txt 
```

输出将是：

```
2012-11-01 15:27:28
1293719248 
```

这实际上是我正在寻找的，但问题是正则表达式是否正确？由于我远离正则表达式大师，我也想知道这是否可以。当涉及到正则表达式时，这是否可以以一种更好的方式完成？日志文件中使用的格式永远不会改变，因为我没有费心进行通用日期/时间匹配。也许我表达中的其他东西是fubar？:-)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T17:51:06.427

要匹配的 ERE：

```
2012-11-06 10:32:45 
```

就其本身而言是：

```
^[[:digit:]]{4}(-[[:digit:]]{2}){2} [[:digit:]]{2}(:[[:digit:]]{2}){2}$ 
```

但你可能会逃脱：

```
^[[:digit:]]([[:digit:]: -][[:digit:]]{2}){6}$ 
```

没有得到任何错误的匹配。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T10:18:13.963

如果你只处理你的日志文件，那么正则表达式就可以了。因为您可以假设您的日志文件将始终提供有效的日期时间字符串。（例如`2012-13-56 28:23:77`不会发生）

但我要指出的是，您的 awk 代码可能有问题。

*   我不知道您使用的是哪个 gawk 版本（我猜 > 4.0）， `--re-interval`如果版本 < 4，则选项不是默认值。

*   您的字符串替换存在错误：您也应该将“-”替换为“”，对吗？

awk 手册页：

```
 mktime(datespec)
                 Turns datespec into a time stamp of the same form as returned by systime().  The datespec is a string of the form YYYY MM DD HH  MM  SS[  DST]. 
```

看到不同：

```
kent$  gawk '{print $0;gsub(/:|-/," ");print mktime($0)}' <<<"2012-11-01 15:27:28"
2012-11-01 15:27:28
1351780048

output with your awk line:
2012-11-01 15:27:28
1293719248 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-06T14:58:40.317

您*可以*完全取消正则表达式并简单地测试`mktime()`' 的失败。显然，这取决于您的数据是否可以包含具有日期/时间外观的行。但是，您可能没有考虑过这样做：

```
awk '{ line = $0; gsub(/[:-]/, " "); time = mktime($0) } time != "-1" { print line ORS time }' file.txt 
```

结果：

```
2012-11-06 10:32:45
1352161965 
```

从手册页：

```
If datespec does not contain enough elements or if the resulting time is out of 
range, mktime() returns −1. 
```

# qml - BlackBerry 10 Cascades：如何将数据加载到 DropDown 中？

> ID：13248396
> 
> 赞同：2
> 
> 时间：2012-11-06T09:48:21.273
> 
> 标签：qml, blackberry-10, blackberry-cascades

我已设法将远程 Json Web 服务中的数据加载到 QML ListView 中，但 DropDown 控件似乎没有任何此类内容。

有人有示例或替代方法来完成绑定到 Cascades 中附加对象数据源的 DropDown 吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-06T12:27:05.743

我为您准备了另一种方法，请注意，我在这里使用了 google 的网络服务来进行演示，您需要将其替换为您的 url 并据此解析响应。

```
import bb.cascades 1.0

Page {
    attachedObjects: [
        ComponentDefinition {
            id: optionControlDefinition
            Option {
            }
        }
    ]
    function getData() {
        var request = new XMLHttpRequest()
        request.onreadystatechange = function() {
            if (request.readyState == 4) {
                var response = request.responseText
                response = JSON.parse(response)
                var addressComponents = response.results[0].address_components
                for (var i = 0; i < addressComponents.length; i ++) {
                    var option = optionControlDefinition.createObject();
                    option.text = addressComponents[i].long_name
                    dropDown.add(option)
                }
            }
        }

        // I have used goole's web service url, you can replace with your url
        request.open("GET", "http://maps.googleapis.com/maps/api/geocode/json?address=" + "Ahmedabad" + "&sensor=false", true)
        request.send()
    }
    Container {
        DropDown {
            id: dropDown
        }
        Button {
            onClicked: getData()
        }
    }
} 
```

希望这可以帮助。

# c++ - “hello world”字符串文字可以分配给char *类型吗？

> ID：13248399
> 
> 赞同：4
> 
> 时间：2012-11-06T09:48:34.950
> 
> 标签：c++, string, constants

```
char* foo = "fpp"; //compile in vs 2010 with no problem 
```

我虽然字符串文字是 const char* 类型。
并且 const 类型不能分配给非常量类型。
所以我希望上面的代码会失败或者我错过了什么？

编辑：对不起，我完全忘记了编译器也会抛出警告。
我一直在看错误列表。
我忘记检查了。

Edit2：我将我的项目警告级别设置为 EnableAllWarnings (/Wall) 并且没有关于此的警告。
所以我的问题仍然有效。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-06T09:52:17.773

C++03 弃用^([Ref 1])`const`使用不带关键字的字符串文字。

^([参考 1]) **C++03 标准：§4.2/2**

> 不是宽字符串文字的字符串文字 (2.13.4) 可以转换为“pointer to char”类型的右值；宽字符串文字可以转换为“指向 wchar_t 的指针”类型的右值。无论哪种情况，结果都是指向数组第一个元素的指针。仅当存在显式适当的指针目标类型时才考虑这种转换，而不是当一般需要从左值转换为右值时。[**注意：此转换已弃用**. 见附录 D。] 为了在重载决议 (13.3.3.1.1) 中排名，这种转换被认为是数组到指针的转换，然后是限定转换 (4.4)。[示例：“abc”转换为“pointer to const char”作为数组到指针的转换，然后转换为“pointer to char”作为限定转换。]

C++11 只是删除了上面的引用，这意味着它是 C++11 中的非法代码。

在 C++03 之前，C++ 派生了不带`const`关键字的字符串字面量声明，请注意，这在 C 中完全有效。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-06T09:51:22.203

据我了解，在 C 中，在`const`添加之前，这是将字符串分配给指针的方法。

在 C++ 中，这是*不推荐使用*的行为，但仍允许保持向后兼容性。所以不要使用它。

事实上，我相信在 C++11 中它是完全无效的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-06T09:50:29.160

不完全的。字符串文字可分配给`char*`类型。永远不应修改字符串文字。

这种奇怪的情况是为了向后兼容以前`const`存在的程序。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-06T09:54:01.750

`gcc -std=c++0x`对此提出警告：

> a.cpp:5:14：警告：不推荐将字符串常量转换为 'char*' [-Wwrite-strings]

因此，这仍然是允许的，但已被弃用，因为文字字符串是 const。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-06T09:54:56.717

没有 const 类型这样的东西。const 关键字是所谓的类型限定符。它可以应用于任何指针类型，只是意味着指针指向的值不应该被修改。

您还可以通过以下方式将 const 限定符应用于指针引用本身：

```
char* const p ="aaa"; 
```

这将保护指针变量不指向另一个字符串。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-11-06T09:54:57.933

有一个特殊的隐式转换来支持这一点，因为它是遗留代码中的一个常见习惯用法（通常在`const`存在之前编写）。你的字符串文字的类型是`char const[]`，你应该只使用它。一个好的编译器会在上面发出警告，因为转换从引入的那一刻起就被弃用了。

请注意，这与 C 不同，其中字符串文字的类型是`char[]`（但尝试修改它仍然是未定义的行为）。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-11-06T10:02:18.447

您在谈论 C 字符串，它实际上是 char 的向量。在 C++ 中，`std::string`使用了类，并且将常量字符串创建为`const std::string`.

无论如何，编译器会在未来的程序中保留一块内存，以存储出现在源代码中的文字字符串。这部分内存被认为是只读的，所以你应该用`const char *`. 它的大小正好是字符串的大小加上尾随零的一个额外位置，标记字符串的结尾。

编译器需要保持向后兼容性，因此它们仍然接受由`char *`. 但是，这是一种误导，因为您不应该能够修改可以存储在嵌入式系统的 ROM 中的内存。

在我的系统中，我使用 clang：

```
$ clang --version
Ubuntu clang version 3.0-6ubuntu3 (tags/RELEASE_30/final) (based on LLVM 3.0)
Target: i386-pc-linux-gnu
Thread model: posix 
```

在 clang C 编译器中，这段代码编译没有错误：

```
#include <stdio.h>
#include <stdlib.h>

int main()
{
    char * str = "Hello, World!";

    printf( "%s", str );

    return EXIT_SUCCESS;
} 
```

但是，相同的代码（稍作修改，例如标头的名称）在编译为 C++ 程序时会引发以下警告：

```
kk.cpp:6:15: warning: conversion from string literal to 'char *' is deprecated [-Wdeprecated-writable-strings]
        char * str = "Hello, World!";
                     ^
1 warning generated. 
```

希望这可以帮助。

# javascript - 如何在 MVC 4 上动态创建复选框或多选

> ID：13248403
> 
> 赞同：0
> 
> 时间：2012-11-06T09:48:42.317
> 
> 标签：javascript, json, html, c#-4.0, asp.net-mvc-4

在这个项目中，我们有两个列表，一个是经销商，第二个是他的产品。

到目前为止，如果您检查一个经销商，我们会取回该特定经销商的所有产品，它是用 javascript (Json) 实现的。

html (5 :)

```
@using (Html.BeginForm()) {
@Html.ValidationSummary(true)
<fieldset>
    <legend>DealerProduct</legend>

     <div class="editor-label">
        @Html.LabelFor(model => model.DealerID)
    </div>
    <div class="editor-field">
        @Html.DropDownList("DealerID", String.Empty)
        @Html.ValidationMessageFor(model => model.DealerID)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.ProductID)
    </div>
    <div class="editor-field">

        @Html.DropDownList("ProductID", String.Empty)
        @Html.ValidationMessageFor(model => model.ProductID)
    </div>
    <p>
        <input type="submit" value="@Shared.Add" />
    </p>
</fieldset>
} 
```

JavaScript (Json :)

```
<script type="text/javascript">
$(document).ready(function() 
 {
  $("#DealerID").change(function ()
  {
       var self = $(this);
       var items="";
       var url = "";
       url = "@Url.Action("GetDealerProducts","DealerProduct")/"+self.val();
       $.ajaxSetup({ cache: false });
        $.getJSON(url,function(data)
        {   
          $.each(data,function(index,item)
          {
            items+="<option value='"+item.Value+"'>"+item.Text+"</option>\n";
          });
          $("#ProductID").html(items);
           $.ajaxSetup({ cache: true }); 
        });
    });       
 });
</script> 
```

控制器 ：

```
public ActionResult GetDealerProducts(int id)
    {
        Dealer currentDealer = db.Dealers.Single(p => p.UserName == User.Identity.Name);
        Dealer subDealer = db.Dealers.Single(s => s.DealerID == id);

        List<Product> productOpenToSale = new List<Product>();

        foreach (var item in currentDealer.ProductToSale)
            if (!subDealer.ProductToSale.ToList().Exists(e => e.ProductID == item.ProductID))
                productOpenToSale.Add(item.Product);

        List<SelectListItem> productOpenToSaleList = new List<SelectListItem>();
        productOpenToSale.ForEach(item => productOpenToSaleList.Add(new SelectListItem { Value = item.ProductID.ToString(), Text = item.ProductName }));

        return Json(productOpenToSaleList, JsonRequestBehavior.AllowGet);
    } 
```

我真正需要的是添加（一对）产品经销商，他可以在未来销售。

当前的选项是逐个添加产品，希望提供对所有产品进行多项选择的可能性。

可能是动态 checkBoxList 或 ViewModel 中添加输入的列表上的 foreach 之类的东西 -[像这样](https://stackoverflow.com/a/201423)的复选框，但我不知道在经销商在第一个列表中选择并在提交时接收所有选定的产品后如何填写它..

10X 的任何帮助！（＆＆ 对不起，我的英语不好 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:26:05.830

你可以改变这行代码

```
@Html.DropDownList("ProductID", String.Empty) 
```

像这样的东西

```
<select id="SelectedItemIds" multiple="multiple" name="SelectedItemIds"> 
```

并在服务器上有一个像这样的viewModel

```
class MyViewModel
{
    public int[] SelectedItemIds { get; set; }
    public int DealerID {get;set;}
} 
```

并拥有这样的控制器

```
 [HttpPost]
    public ActionResult Index(MyViewModel myViewModel)
    {
        return View();
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-16T20:52:34.100

我有类似的情况并使它在这里工作：在此处 [输入链接描述](https://stackoverflow.com/questions/30874498/how-to-pass-dynamically-created-options-in-multi-select-box-to-mvc-controller)

但我不知道如何将实际文本传回。我只能将所选项目的索引传递回控制器。如果你弄清楚了，请告诉我。

确保您的选择名称与模型中的变量名称匹配。

# android - 我正在尝试通过单击将 imagebutton 旋转到 360，但它无法旋转它？

> ID：13248408
> 
> 赞同：4
> 
> 时间：2012-11-06T09:48:58.990
> 
> 标签：android, rotation

我正在尝试通过单击自身将图像按钮旋转到 360，但它不起作用

我正在使用这样的xml文件..

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="72dp"
        android:layout_height="72dp"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:layout_marginLeft="83dp"
        android:layout_marginTop="103dp"
        android:clickable="true"
        android:src="@drawable/cute" />
</RelativeLayout> 
```

和这样的java代码......

```
package com.example.testapplication;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.animation.RotateAnimation;
import android.widget.ImageButton;

public class MainActivity extends Activity implements OnClickListener {

    ImageButton img;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        img = (ImageButton) findViewById(R.id.imageView1);

    }
    public void onClick(View v) {
        // TODO Auto-generated method stub
        RotateAnimation ra =new RotateAnimation(0, 360);
        ra.setFillAfter(true);
        ra.setDuration(0);

        img.startAnimation(ra);

    }

} 
```

* * *

我的应用目标是使用 9 img btn 开发和益智查找游戏....

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-06T10:31:23.587

Your code works just fine. the problem is : you set duration to 0\. You can't see it happen because if you rotate 360 degrees its ending position and starting position will be identical . so set the duration 1000(a second) or more to see the animation actualy happening.

just try:

```
ra.setDuration(1000); 
```

And you also did not set the onClick listener of img.

just try:

```
img .setOnClickListener(new OnClickListener() {

    public void onClick(View arg0) {
        //animation here
    }
}); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-06T09:55:16.890

这是我用来在一个小应用程序中旋转的代码。

```
public class MainScreen extends Activity{
    ImageView ivDH = null;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.screen);
        ivDH = (ImageView) findViewById(R.id.dollhouse);

        ivDH.setOnTouchListener(new OnTouchListener() {

            @Override
            public boolean onTouch(View arg0, MotionEvent arg1) {
                // TODO Auto-generated method stub

                startAnimation(ivDH);
                return false;
            }
        }); 
    }
    public void startAnimation(ImageView ivDH)
    {
        System.out.println("Inside startAnimation()");
        Animation scaleAnim = new ScaleAnimation(0, 2, 0, 2);
        scaleAnim.setDuration(5000);
        scaleAnim.setRepeatCount(1);
        scaleAnim.setInterpolator(new AccelerateInterpolator());
        scaleAnim.setRepeatMode(Animation.REVERSE);

        Animation rotateAnim = new RotateAnimation(0, 360, Animation.ABSOLUTE, Animation.ABSOLUTE, Animation.ABSOLUTE, Animation.RELATIVE_TO_SELF);
        rotateAnim.setDuration(5000);
        rotateAnim.setRepeatCount(1);
        rotateAnim.setInterpolator(new AccelerateInterpolator());
        rotateAnim.setRepeatMode(Animation.REVERSE);

        AnimationSet animationSet = new AnimationSet(true);
        animationSet.addAnimation(scaleAnim);
        animationSet.addAnimation(rotateAnim);

        ivDH.startAnimation(animationSet);
    }
} 
```

您将不得不更改一些参数。希望能帮助到你

# android - android 4.0 和 android 4.1 中 Calendar 类的不同行为

> ID：13248409
> 
> 赞同：1
> 
> 时间：2012-11-06T09:49:00.380
> 
> 标签：android, calendar

代码是：

```
Calendar c = Calendar.getInstance();
c.set(mYear, mMonth, mDay);

int week = c.get(Calendar.WEEK_OF_YEAR); 
```

日历设置为 2012/11(NOV)/06

在 Android 4.0 上，周数为 45，而在 Android 4.1 上，周数为 46

谁能解释一下，或者告诉我正确的使用方法。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T02:11:31.597

您的 mYear、mMonth、mDay 是否指向 currentDate ？如果是这样，您可以这样做：

```
Calendar calendar = Calendar.getInstance();
calendar.setTime(new Date());
int week = calendar.get(Calendar.WEEK_OF_YEAR); 
```

如果没有，则明确设置它们：

```
Calendar calendar = Calendar.getInstance();
calendar.set(Calendar.YEAR, mYear);
calendar.set(Calendar.MONTH, mMonth);
calendar.set(Calendar.DAY_OF_YEAR, mDay);
int week = calendar.get(Calendar.WEEK_OF_YEAR); 
```

# c# - 匹配模式 TEXT[0,0]

> ID：13248412
> 
> 赞同：0
> 
> 时间：2012-11-06T09:49:13.483
> 
> 标签：c#, .net, regex

我有很多带有 SQL 查询的源代码，如下所示：

```
c_query := "SELECT * FROM TABLE WHERE FIELD_NAME_ONE[2] = 'AB' AND FIELD_NAME_TWO[1,8] = 'ABCDEFGH'" 
```

我想匹配这些：`FIELD_NAME_ONE[2]`并且`FIELD_NAME_TWO[1,8]`必须在双引号 ( `"`) 之间找到这些模式。

编辑

c_query := "SELECT * FROM WHERE FIELD_NAME_ONE[2] = 'AB' AND FIELD_NAME_TWO[1,8] = 'ABCDEFGH' AND TESTE[9] = 'XXXXXXXXX' AND FOO = '" + is_an_array[2] + "' "

它不应该匹配 is_an_array[2] 因为不在双引号内。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:52:54.740

这是您所寻求的正则表达式模式（根据评论编辑）：

```
".*?[A-Z_]+\[\d(,\d)?\].*?" 
```

`.*?`如果一行中有多个匹配项（不太可能，但为了完整性......），我将匹配设置为非贪婪（ ）

### 已编辑

*目前尚不清楚您*是否只想匹配目标字段名称或整个 SQL。如果您只想匹配字段名称，请使用非捕获组：

```
(?:".*?)[A-Z_]+\[\d(,\d)?\](?:.*?") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:00:25.280

我假设您希望能够匹配的不仅仅是这两个特定字段，否则您就不会遇到应用正则表达式的麻烦：

```
var tokens = Regex.Matches(sql, "\"([^\"]+)\"");

foreach (Match token in tokens) {
    string str = token.Groups[1].Value;

    var fields = Regex.Matches(str, @"(\w+\[\d+(,\d+)*\])");

    foreach (Match field in fields)
        Console.WriteLine(field.Value);
} 
```

这将找到任何字母、数字和下划线后跟方括号的序列，以及 1 个或多个逗号分隔的数字。

如果您只想匹配方括号前的一系列字母和下划线，请将模式修改为：

```
@"([a-zA-Z_]+\[\d+(,\d+)*\])" 
```

# javascript - 我可以只有两个函数来处理所有组 ViewModel 吗？

> ID：13248415
> 
> 赞同：0
> 
> 时间：2012-11-06T09:49:35.913
> 
> 标签：javascript, knockout.js

为了解释我的问题，我应该提供一些介绍。

我在真实界面中的 My ViewModel 中有大约 5、6 组属性，这就是简化此示例的原因：

```
Album {
    title: 'string'
    artists: [{…}, {…}],
    genres: [{…}, {…}]
} 
```

艺术家/流派数组中的对象在结构上是相同的：

```
item = {
    id: 1,
    title: 'string'
} 
```

对于类似的属性组，我具有彼此相似的功能：

```
self.AddArtist();
self.RemoveArtist(artist);
self.AddGenre();
self.RemoveGenre(genre); 
```

**问：**我可以只有两个函数`AddItem(array)/RemoveItem(array, item)`来处理 ViewModel 的所有属性组的操作吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T11:55:34.870

您可以使用这样的结构：

```
var Album = function() {
    var self = this;

    self.title = 'string';

    self.groups = {
        artists: ko.observableArray(),
        genres: ko.observableArray()        
    };    

    self.addItem = function(groupName, item) {
        self.groups[groupName].push(item);
    };

    self.removeItem = function(groupName, item) {
        self.groups[groupName].remove(item);
    };
} 
```

用法：

```
album = new Album();
album.addItem('artists', 'test'); 
```

# mysql - 想要将凌晨 3:00 存储在 MySQL 数据库中

> ID：13248419
> 
> 赞同：-5
> 
> 时间：2012-11-06T09:49:42.673
> 
> 标签：mysql, database

我知道这是一个幼稚的问题，但我无法解决它。请帮我解决这个问题。

我要存储

```
3:00 AM 
```

在我的数据库中。

我在数据库中采用 TIME 类型。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T09:51:52.493

那个时间是`03:00`因为计算机使用（更好的）24 小时格式。您可以轻松地将其存储在任何类型为`TIME`.

例子

```
INSERT INTO whatever (ts) VALUES ('03:00'); 
```

# itextsharp - 在pdfptable中设置行之间的空间

> ID：13248420
> 
> 赞同：7
> 
> 时间：2012-11-06T09:49:45.327
> 
> 标签：itextsharp

我正在使用 iTextSharp 创建 pdf。

是否可以在pdfptable中的行之间提供空间？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T07:41:36.190

您需要使用表事件来做到这一点。

Java 示例： http: [//itextpdf.com/examples/iia.php ?id=95](http://itextpdf.com/examples/iia.php?id=95)

C# 示例： http://kuujinbo.info/iTextInAction2Ed/index.aspx?ch=Chapter05&ex= [PressPreviews](http://kuujinbo.info/iTextInAction2Ed/index.aspx?ch=Chapter05&ex=PressPreviews)

请注意，我假设您希望单元格间距（而不是单元格填充）类似于您在此处看到的内容：[http ://examples.itextpdf.com/results/part1/chapter05/press_previews.pdf](http://examples.itextpdf.com/results/part1/chapter05/press_previews.pdf)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-03-27T00:57:02.693

您可以添加一个具有固定跨度、无边框和换行短语的单元格，如下所示：

```
PdfPCell blankRow = new PdfPCell(new Phrase("\n"));
blankRow.setFixedHeight(5f);
blankRow.setColspan(4);
blankRow.setBorder(Rectangle.NO_BORDER); 
```

# sitecore - Sitecore：发送归档电子邮件

> ID：13248424
> 
> 赞同：1
> 
> 时间：2012-11-06T09:50:04.527
> 
> 标签：sitecore

我想尝试在存档时发送提醒电子邮件。我已将 webconfig 电子邮件发送设置配置如下：

```
<setting name="MailServer" value="smtp.gmail.com"/>
  <!--  MAIL SERVER USER
        If the SMTP server requires login, enter the user name in this setting
  -->
  <setting name="MailServerUserName" value="xxxx@gmail.com"/>
  <!--  MAIL SERVER PASSWORD
        If the SMTP server requires login, enter the password in this setting
  -->
  <setting name="MailServerPassword" value="xxxxx"/>
  <!--  MAIL SERVER PORT
        If the SMTP server requires a custom port number, enter the value in this setting.
        The default value is: 25
  -->
  <setting name="MailServerPort" value="587"/> 
```

我选择了一个项目并配置了归档选项，如归档时间、提醒电子邮件等。项目已归档，但它没有发送提醒电子邮件。

我怎样才能对这封电子邮件发送的东西进行排序。我没有安装 Email Campaigner 模块，我需要它来发送电子邮件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T20:42:41.367

您是否尝试在 web.config 中添加 mailSettings 节点？

```
<system.net>
    <mailSettings>
        <smtp>
            <network host="127.0.0.1" />
        </smtp>
    </mailSettings>
</system.net> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T01:16:47.447

您无需安装 ECM 即可通过计划任务发送电子邮件。

解决问题的真正方法是查看日志。执行的任何计划任务都会在日志中添加条目，包括在此过程中发生的任何错误。我会在那里检查并查看有关已归档项目的内容。这是使用 Sitecore 整理所有内容的最佳方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T04:14:19.230

电子邮件提醒和存档是两个独立的功能。

要使电子邮件提醒正常工作，请确保您为该`EmailReminder.FromAddress`设置配置了有效的电子邮件地址。

如果已设置，请确保`TaskDatabaseAgent`计划运行（默认每 10 分钟运行一次）并在运行时检查日志是否存在任何问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-05-04T10:04:50.750

只需在 web.config 的最后但之前添加以下节点：

```
<system.net>
    <mailSettings>
      <smtp deliveryMethod="Network">
        <network enableSsl="true" />
      </smtp>
    </mailSettings>
  </system.net> 
```

如下所示：

[![在此处输入图像描述](../Images/b9388606bdfc5ead2b51b2874b903bcd.png)](https://i.stack.imgur.com/i8WEF.png)

# spring - HTTP 状态 404 - Servlet HelloWeb 不可用

> ID：13248425
> 
> 赞同：1
> 
> 时间：2012-11-06T09:50:04.640
> 
> 标签：spring, jsp, spring-mvc

我一直在学习 spring mvc，但是当我启动 tomcat 服务器并转到 URL 时，出现错误页面“HTTP Status 404 - Servlet HelloWeb is not available” `http://localhost:8080/HelloWeb/student`。我的代码或结构有什么问题，如何解决？感谢帮助！

# web.xml：

Spring MVC 表单处理

```
<servlet>
    <servlet-name>HelloWeb</servlet-name>
    <servlet-class>
        org.springframework.web.servlet.DispatcherServlet
    </servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>HelloWeb</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping> 
```

# HelloWeb-servlet.xml

```
<context:component-scan base-package="com.tutorialspoint" />

<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="prefix" value="/WEB-INF/jsp/" />
    <property name="suffix" value=".jsp" />
</bean> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:59:22.857

你应该有一个像 /* 而不是 / 的 url 模式。A / as url 模式意味着只有对默认 root 的请求`http://localhost:8080/HelloWeb`将由您的 servlet 提供服务

# filter - 指定多个字段值的查询

> ID：13248426
> 
> 赞同：0
> 
> 时间：2012-11-06T09:50:08.767
> 
> 标签：filter, elasticsearch

我正在尝试使用指定的多个字段执行弹性搜索查询。这是一些伪代码，希望能说明我的意图：

```
"query" : {
  "query_string" : { "query" : "william" }
},
"filter" : {
  "missing" : { "field" : "membership_expires_on" }
},
"filter" : {
  "missing" : { "field" : "gender" }
},
"filter" : {
  "terms" : { "status" : "p"}
},
"filter" : {
  "terms" : { "unit_id" : "4"}
} 
```

我正在尝试将所有这些过滤器组合在一起，但从[弹性搜索文档](http://www.elasticsearch.org/guide/reference/query-dsl/missing-filter.html)中我无法弄清楚如何将这些特定过滤器放入单个查询中。任何帮助将不胜感激！

**更新**：这是我到目前为止所拥有的：

```
{
  "from": 0,
  "query": {
    "filtered": {
      "filter": {
        "bool": {
          "must": [
            {
              "missing": {
                "field": "membership_expires_on"
              }
            },
            {
              "term": {
                "status": "p"
              }
            },
            {
              "missing": {
                "field": "gender"
              }
            },
            {
              "term": {
                "unit": "4"
              }
            }
          ]
        }
      },
      "query": {
        "query_string": {
          "query": "william"
        }
      }
    }
  },
  "size": 10
} 
```

但这没有返回任何结果，所以我做错了什么。我是否以非法方式使用带有数组的布尔过滤器？

**更新 2**：我已经确认上面的 JSON 确实是一个有效的查询，所以我的数据/索引可能有问题。这将是另一天的问题:-)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:25:00.290

看看[BoolFilter](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-filter.html)。它应该有帮助。

# iis - 在 Windows 7 Home Basic 上安装 IIS

> ID：13248427
> 
> 赞同：3
> 
> 时间：2012-11-06T09:50:09.440
> 
> 标签：iis, windows-7, webmatrix, iis-express

我有一个 ASP.NET 应用程序，我想将它部署在网络服务器上。所以我搜索了一些教程，其中大多数都告诉在控制面板中启用 IIS 管理控制台。但我没有这样的条目。

![禁止驶入](../Images/8d81df97675653b36ce1ca4c60bbdb0f.png)

所以我猜想我缺少一些组件（拼图）并使用 MS WebPI 实用程序安装 IIS 组件和其他东西，甚至远程连接到 Web 开发。我已经为 Visual Studio 2010 安装了
Web deploy 3.0
IIS Express 7.5
.NET framework 4
和 MS Web 工具。

![在此处输入图像描述](../Images/99588eaf58d3e19d78c8e1c7f387d1ca.png) 仍然没有运气。运行>inetmgr 仍然失败。任何地方都没有 inetpub 文件夹。（我期望像 apache htdocs 文件夹这样的东西）

对不起新手问题。我在windows7 home basic中。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-06T10:07:58.903

您无法在 Windows 7 Home Basic 中使用成熟的 IIS。

[根据 MSDN，](http://technet.microsoft.com/en-us/library/cc753473.aspx)安装在 Windows 7 Home Basic 上的 IIS7 太有限，您将无法在那里运行 ASP.Net 应用程序。IIS 管理控制台在 Windows 7 Home Basic 上也不可用。

我认为您可以尝试 IIS Express 和一体化[WebMatrix](http://www.microsoft.com/web/webmatrix/)解决方案。WebMatrix 为您提供了一个简洁的界面来启动/停止/重新启动 IIS Express 并编辑一些 IIS Express 设置。

# java - 使用 Java 从 mongodb 遍历所有文档的性能不佳

> ID：13248428
> 
> 赞同：3
> 
> 时间：2012-11-06T09:50:13.420
> 
> 标签：java, mongodb, mongodb-java

我根据“时间”字段将系统日志存储在带有构建索引的mongodb中。mongodb 现在大约有 190k 日志。当我尝试使用Java 中的*DBCollection.find()*方法获取所有日志时，它花费了将近 10 秒来遍历集合中的所有文档。我认为我可能错过了一些导致性能不佳的东西？

这是我使用的代码：

```
mongo = new Mongo();
DB db = mongo.getDB("Log");
DBCollection coll = db.getCollection("SystemLog");
int count = 0;

long findStart = Calendar.getInstance().getTimeInMillis();

// Sort by time.
BasicDBObject queryObj = new BasicDBObject();
queryObj.put("time", -1);

DBCursor cursor = coll.find().sort(queryObj);
while(cursor.hasNext()) {
    DBObject obj = cursor.next();
    // Do something
    ++count;
}
long findEnd = Calendar.getInstance().getTimeInMillis();
System.out.println("Time for traversing all system logs (" + count + "):\t" + (findEnd-findStart) + "ms."); 
```

打印结果是：

```
Time for traversing all system log (194309):    10496ms. 
```

我已经试过好几次了。运行一次或多次似乎没有区别。虽然我也尝试删除*sort()*并从 mongodb 中找到所有日志。遍历所有文档大约需要 6 秒。时间对于我的要求来说还是有点难以接受。有没有可以加快遍历工作的实现技巧？

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:32:15.833

Do you really need to traverse all documents ? In the code above it looks like you are just bringing into memory each object, one by one.

1.  The index on 'time' field should be constructed as 'descending' since you are sorting like that.
2.  If the index is compound (has more fields in the index, not just 'time') make sure you also add an index just with 'time'. Also, when you will add a filter to that query, make sure the 'time' field is added last in the index and descending.
3.  The performance is not that bad, considering you are reading 190k objects one by one.

(please note that my experience with mongodb does Not involve working with the Java driver)

# android - Android模式锁实现？

> ID：13248431
> 
> 赞同：0
> 
> 时间：2012-11-06T09:50:21.673
> 
> 标签：android, locking, design-patterns

我正在开发一个应用程序，在此我需要实现模式锁定。我该怎么做？我试过[http://code.google.com/p/android-lockpattern/](http://code.google.com/p/android-lockpattern/)
请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-11T11:40:17.597

尝试扩展 GridView 并处理 onTouchEvents。

# wcf - 如何动态绑定 Web 服务 URL

> ID：13248434
> 
> 赞同：1
> 
> 时间：2012-11-06T09:50:29.840
> 
> 标签：wcf, webservice-client

我将 Web 服务 url 存储在 web.config 或 app.config 中。当我调用网络服务时

```
 ServiceAvailabilityTestClient.TestClient servAvailClient = new ServiceAvailabilityTestClient.TestClient();
servAvailClient.url= myapp.config url here.
servAvailClient.CallValidateCityPostalCodeZip(); 
```

问题是没有出现名为 url 的属性。sp请告诉我该怎么做。我只是将 wsdl 文件位置添加为服务参考，因为未添加称为 Web 服务路径的 Web 服务路径。我尝试添加为 Web 服务参考的 Web 服务 url 是

[https://devwebservices.purolator.com/EWS/V1/ServiceAvailability/ServiceAvailabilityService.asmx](https://devwebservices.purolator.com/EWS/V1/ServiceAvailability/ServiceAvailabilityService.asmx)

1）我只是无法为什么我无法将此 Web 服务 url 添加为服务参考

2) 为什么 url 属性没有在客户端公开。

谁能指导我这是怎么回事。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:49:53.683

您可以通过生成的客户端或 ChannelFactory 来完成：

```
var client = ChannelFactory(IWcfService).CreateChannel(Binding, ServiceModel.EndpointAdress)

or 

var client = New Client(binding, RemoteAdress) 
```

EndpointAdress 只在构造函数中使用字符串或 uri，例如[http://yourservice.asmx](http://yourservice.asmx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T11:02:09.177

你在使用`<System.ServiceModel/>`配置部分吗？`<client/>`如果是这样，您不必做任何事情 -当您创建频道时，将从配置部分加载 URL 。

# angularjs - AngularJS - 更改 $resource.query 方法中使用的 URL

> ID：13248436
> 
> 赞同：2
> 
> 时间：2012-11-06T09:50:34.357
> 
> 标签：angularjs

我正在使用 AngularJS 与已经构建的 REST 服务集成。

REST API 使用以下形式进行查询：

[http://the.site/person/search/smith%20male](http://the.site/person/search/smith%20male)（这会搜索叫 smith 的男性）

我知道这种形式不是最好的，最终将更改 API 以使用 URL 参数。

目前我只是在我的控制器中定义一个资源：

```
$scope.Summary = $resource("http://the.site/person/search");
this.Summary.query({ terms : 'smith male' }); 
```

但这会生成 /person/Search?terms=smith%20male 形式的 URL

有没有办法修改或覆盖使用的 URL？我对 Backbone 更熟悉，我可以在其中提供一个 url() 函数，该函数生成正确形式的 URL。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-17T16:27:03.967

```
$scope.Summary = $resource("http://the.site/person/search/:terms");
this.Summary.query({ terms : 'smith male' }); 
```

# linux - 无法编辑我具有写入权限的只读文件，也无法更改其权限；如何重新挂载其父文件夹？

> ID：13248439
> 
> 赞同：3
> 
> 时间：2012-11-06T09:50:43.773
> 
> 标签：linux, file, permissions

我需要编辑一个只读文件。此文件位于远程设备上。通过 ssh，我以管理员身份登录，并且拥有 root 访问权限。

命令“ls -l”显示文件的权限为

```
"-rwxr-xr-x 1 admin root   952 Oct 30 02:01 file.sh" 
```

我对Linux不是很熟悉，但是我搜索并发现上面这行意味着管理员是所有者并且他/她具有读写权限。

但该文件似乎是只读的，我无法编辑它。所以我尝试使用命令 chomd 更改权限

```
[admin@appliance targetfolder]# chmod 666 file.sh
chmod: changing permissions of `file.sh': Read-only file system 
```

但它仍然只是只读的。

有人建议重新挂载包含此文件的文件夹。

我将如何重新安装它，我用过

```
" mount -o remount,rw /folde1/folder2/targetFolder" 
```

但它给了

```
"mount: can't find /folde1/folder2/targetFolder in /etc/fstab or /etc/mtab". 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T11:50:17.973

问题解决了，我使用“mount -o remount,rw /”重新安装了文件夹，然后编辑了文件，没有更改任何权限，它工作。

# apache-flex - 在 flex 4.5 中单击时打开新选项卡或浏览器选项卡

> ID：13248441
> 
> 赞同：-1
> 
> 时间：2012-11-06T09:50:45.840
> 
> 标签：apache-flex, flex4, flex3, flex4.5

我是 Flex 的新手。我有一个高级数据网格。我提前点击数据网格列，stage1 使用 WSDL 打开填充数据。我想在新选项卡或新浏览器选项卡中使用 WSDL 填充数据打开 stage1。像这样，如果我在高级数据网格列上单击 10 次，应该使用 WSDL 打开 10 个新选项卡并填充数据。请帮我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-26T12:00:51.613

新标签 `navigateToURL(newLink,"_blank");`

相同的选项卡 `navigateToURL(newLink,"_self");`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-26T09:17:18.197

您可以使用 ExternalInterface 和 Javascript。将您的 swf 放入 html 页面并调用 javascript 函数以打开新窗口。在新窗口中，您可以使用 stage1 打开您的 swf。

请参考以下链接。

[http://www.riafox.com/2008/09/open-new-browser-in-window/](http://www.riafox.com/2008/09/open-new-browser-in-window/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-18T16:28:35.263

你可以这样做：

```
var urlRequest:URLRequest = new URLRequest(*url*);
navigateToURL(urlRequest, "_blank"); //blank will open the link in a new tab 
```

# php - 如何选择非英文字符？

> ID：13248453
> 
> 赞同：0
> 
> 时间：2012-11-06T09:51:12.093
> 
> 标签：php, mysql

我有一些变量，其中包括非英语字符，如 İ,ş,ö。我可以将它们插入 mysql db，但它们会转换为一些特殊字符。例如：

> Faz 1/İzmir/İzmir/Konak 1\. Merkezinden Faz1/İzmir/İzmir/Konak 2\. Merkezine bilgisi ile yeni Erişim kaydı yapıldı

至

> Faz 1/Ä°zmir/Ä°zmir/Konak 1\. Merkezinden Faz1/Ä°zmir/Ä°zmir/Konak 2\. Merkezine bilgisi ileyeni Erişim kaydı yapıldı.

这是sql代码：

```
$sql = "SELECT username, islem, tarih  FROM loglar where kullanici_id= ".$gelen_id." order by tarih desc" ;  
$_SESSION["VT"]->doQuery($sql); 
```

然后我无法得到它们。它返回 null althogh 它在 db 中。我无法在 extjs 列中显示

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:04:25.883

```
<?php
    $string = 'Faz 1/İzmir/İzmir/Konak';

    $array = array();
    for($a='a'; $a!='y'; $a++){
        $array[] = strtolower($a);
        $array[] = strtoupper($a);
    }
    $array[] = 'z';
    $array[] = 'Z';

    $str = '';
    for($x=0; $x<=strlen($string)-1; $x++){
        if(!in_array($string[$x],$array)){
            $str .= $string[$x];
        }
    }
    var_dump($str);
?> 
```

# magento - Magento：高级搜索结果的分层导航

> ID：13248461
> 
> 赞同：2
> 
> 时间：2012-11-06T09:51:36.677
> 
> 标签：magento, search, filter, catalog, advanced-search

我需要在 Magento 高级搜索结果页面上显示分层导航过滤器，就像在目录搜索结果页面上一样。

我已经根据需要将 XML 块移动到 catalogsearch_advanced_result：

```
<reference name="left">
<block type="catalogsearch/layer" name="catalogsearch.leftnav" template="catalog/layer/view.phtml"/>
</reference> 
```

该块被调用，但没有任何显示。我跟踪了核心文件，发现在 Catalog/Block/Layer/View.php 中，此函数不返回任何属性（第 161 行）：

```
protected function _getFilterableAttributes()
{
    $attributes = $this->getData('_filterable_attributes');
    if (is_null($attributes)) {
        $attributes = $this->getLayer()->getFilterableAttributes();
        $this->setData('_filterable_attributes', $attributes);
    }

    return $attributes;
} 
```

我将 getFilterableAttributes() 跟踪到 Catalog/Model/Layer.php 文件中，但是从这一点开始，很难弄清楚目录搜索和高级搜索之间的区别在哪里。

我基本上只是想让它以任何可能的方式工作。任何帮助或指导将不胜感激！

**编辑：**

我的产品属性设置正确如下：

![在此处输入图像描述](../Images/c394e2dce24d7d61e8ff8bdafcb01f84.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T05:50:29.660

嘿，我已经成功地在高级搜索页面中引入了分层导航。执行以下步骤： 第 1 步：在`catalogsearch.xml`更新如下
`

```
 <label>Advanced Search Result</label>
    <update handle="page_two_columns_right" />
    <!-- Mage_Catalogsearch -->
    <reference name="root">
        <action method="setTemplate"><template>page/3columns.phtml</template></action>
    </reference>
    <reference name="left">
        <block type="catalog/layer_view" name="catalog.leftnav" after="currency" template="catalog/layer/view.phtml"/>
    </reference>` 
```

第 2 步：清除缓存，一切顺利。

现在为了让过滤器正常工作，您必须在请求 url 中进行一些修改，例如在高级搜索价格过滤器中像这样`price[from]=1&price[to]=100`而不是`price=1,100`

# c++ - 在 OpenCv 中扩展轮廓

> ID：13248463
> 
> 赞同：4
> 
> 时间：2012-11-06T09:51:38.517
> 
> 标签：c++, image-processing, opencv

我的图像中有几个由几个黑色区域组成的轮廓。与这些黑色区域直接相邻的是一些不属于我的轮廓的较亮区域。我想将这些较亮的区域添加到我的黑色区域，从而在 OpenCv 中扩展我的轮廓。
有没有一种方便的方法来扩展轮廓？我考虑从创建的渐变图像中查看强度变化，`cv::Sobel`并一直延伸到渐变再次发生变化，这意味着像素的强度将回到图像的既不是黑色也不是明亮区域。

谢谢！

以下是示例图像。第一张图片是原始图像，第二张是使用 Canny 和 findContours 提取的 Contour，最后一张是同一区域的 Sobel-Gradient 强度图像。我想在轮廓的第一张图像中包含明亮的边界。

![在此处输入图像描述](../Images/b2239022f6da20f9bf5d454b851587e0.png) ![在此处输入图像描述](../Images/a8ef15b9d5fcea1b1434687c09fc8ff2.png) ![在此处输入图像描述](../Images/e3ec5dcf22251272013c65402cb76864.png)

更新：现在我在 Sobelgradients 上使用了一些形态学操作，并在它们周围添加了一个轮廓（见下图）。下一步可能是找到相邻的一对紫色和红色轮廓，但实际上必须搜索直接相邻的轮廓似乎非常浪费时间。有更好的想法吗？

![在此处输入图像描述](../Images/474c481c8f8614c1f793bf0410fd037c.png)

更新 2：我现在的解决方案是在我的（紫色）轮廓周围的边界框中搜索变形渐变（红色）轮廓，然后选择具有正确方向和大小的轮廓。这适用于梯度轮廓，其中形态学操作关闭了“上升”和“下降”梯度区域，如图 3 所示。但对于照明区域比上图中更宽的情况，它仍然是一个糟糕的解决方案。任何想法仍然非常感谢，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-10T04:27:45.050

您要做的是找到两个不同的功能并将它们合并。这并不是很困难，但您必须使用图像的多个副本才能实现。

1.  制作一份副本，并将其作为暗部分的阈值
2.  制作另一个副本并为浅色部分设置阈值
3.  将两个阈值图像合并为一个新图像
4.  应用形态学操作，如打开或关闭（取决于您的阈值）这将连接附近的组件
5.  在结果图像中查找轮廓
6.  在原始图像上使用这些轮廓。这将起作用，因为所有图像的大小都相同，并且都基于原始图像。

# winapi - 在 Visual C++ 2010 Express 中设置可执行图标

> ID：13248465
> 
> 赞同：2
> 
> 时间：2012-11-06T09:51:43.483
> 
> 标签：winapi, visual-c++, embedded-resource

我对 Windows 中的编程工具相当陌生，但最近在一个项目中被迫使用 VC++ 2010 Express。我们一直在开发一个我们没有开始的软件，现在我们正在到达终点线。唯一的问题是我希望能够设置可执行图标。

由于该项目主要是用 SDL 编写的，我们在几个站点上使用 SDL_WM_SetIcon 调用作为推荐设置了标题栏图标，但我仍然找不到任何关于如何设置可执行图标的参考。我所有的谷歌搜索都出现了关于 Visual Studio 2010 和 Visual C++ 2008 的结果，这两者似乎都不适用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-07T00:48:07.687

我最近在使用 Express 版时遇到了类似的情况。

我想出了一种不同的方法来解决这个问题（见 gif）。

如果有人遇到类似问题，请在此处发布。

![在此处输入图像描述](../Images/185503de715bf27c099e654b7343db88.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T11:42:36.723

由于 VC++ 2010 Express 缺少资源编辑器但没有资源编译器，这可以通过在项目目录中手动创建一个 resource.rc 文件来完成（与您的 .vcxproj 文件所在的位置相同），也可以将您的图标的 .ico 版本放入同一个目录。

在 resource.rc 中添加以下行：

```
IDI_APP  ICON  "icon.ico" 
```

并在 VC++ 中将文件添加到资源文件中。

在 VC++ 中执行此操作会导致将以下内容添加到您的 .vcxproj 中：

```
<ItemGroup>
  <ResourceCompile Include="resource.rc" />
</ItemGroup> 
```

并到您的 vcxproj.filters：

```
<ItemGroup>
  <ResourceCompile Include="resource.rc">
    <Filter>Resource Files</Filter>
  </ResourceCompile>
</ItemGroup> 
```

# java - 根据文件扩展名验证文件

> ID：13248466
> 
> 赞同：2
> 
> 时间：2012-11-06T09:51:44.513
> 
> 标签：java, excel, pdf, file-upload, ms-word

我从 Java 中的队列中获取文件。它们可能具有以下格式。

1.  文档
2.  pdf
3.  文档
4.  xls
5.  xlsx
6.  文本
7.  rtf

在阅读了它们的扩展之后，我想验证它们是否真的是这些类型的文件。

例如，我得到一个文件并检查它是否具有扩展名 .xls。之后，我想检查它实际上是一个 .xls 文件还是有人在更改其扩展名后上传的其他格式的文件。

编辑：我想通过实际检查文件的内容而不是扩展名来检查文件的 MIME 类型。怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T11:26:07.257

我不认为这是你应该解决的问题。此问题的任何解决方案都将是脆弱的，并且基于您当前对特定类型的有效文件构成的理解。

例如，获取一个 XLS 文件。您是否确定 Excel 在打开此类文件时接受什么？你能确定你会跟上未来版本中可能支持不同编码风格的任何变化吗？

问问自己——如果用户上传了错误类型的文件，可能会发生什么更糟糕的情况？也许您将文件传递给处理该文件扩展名的应用程序，您会得到一个错误？没问题，只需将其传递给用户！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T09:54:25.880

不使用外部库：

您可以使用 MimetypesFileTypeMap 获取文件 mimetype：

```
 File f = new File(...);
    System.out.println(new MimetypesFileTypeMap().getContentType(f)); 
```

您可以通过以下方式获得类似的结果： [URLConnection.guessContentTypeFromName](http://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html#guessContentTypeFromName%28java.lang.String%29) 根据文档，这两种解决方案都只查看扩展名。

更好的选择：[URLConnection.guessContentTypeFromStream](http://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html#guessContentTypeFromStream%28java.io.InputStream%29)

```
 File f= new File(...);
    System.out.println(URLConnection.guessContentTypeFromStream(new FileInputStream(f))); 
```

这试图从文件的第一个字节猜测 - 请注意，这只是一个猜测 - 我发现它在大多数情况下都有效，但无法检测到一些明显的类型。

我推荐两者结合。

# asp.net-mvc - RavenDB 与 asp.net mvc 更新问题

> ID：13248467
> 
> 赞同：3
> 
> 时间：2012-11-06T09:51:47.330
> 
> 标签：asp.net-mvc, ravendb, insert-update

我在 asp.net mvc 3 中有一个小项目，我正在使用 RavenDB 存储数据。但是当我尝试更新实体时，我有错误提示“***尝试将不同的对象与 id 'orders/257*** ' 相关联”我有一个服务类来管理实体。

这是更新名为 Order 的实体的方法。为了清楚起见，我省略了其余的方法

```
 public ErrorState UpdateOrder(Order order)
    {
        try
        {
            documentSession.Store(order);
            documentSession.SaveChanges();
            return new ErrorState { Success = true };

        }
        catch (Exception ex)
        {
            return new ErrorState { Success = false, ExceptionMessage = ex.Message };

        }
    } 
```

这是 OrderRepository 的其余部分

```
 private readonly IDocumentSession documentSession;

public OrderRepository(IDocumentSession _documentSession)
{
    documentSession = _documentSession;
} 
```

ErrorState 类用于管理应用程序中的错误，它包含布尔成功和异常字符串消息。

这是我的编辑操作。

```
 public ActionResult Edit(int id)
        {
            Order order = orderRepository.ObtainOrder(id);
            if (order == null)
            {
                TempData["message"] = string.Format("Order no: {0} not found", id);
                return RedirectToAction("Index");
            }
            return View(order);

        }

        [HttpPost]
        public ActionResult Edit(Order order)
        {
            if(!ModelState.IsValid)
                return View();

            errorState = orderRepository.UpdateOrder(order);
            if (errorState.Success)
            {
                TempData["message"] = string.Format("Order no: {0} has been changed", order.Id);
                return RedirectToAction("Index");
            }
            else
            {
                TempData["Message"] = string.Format("Error on update order no: {0} MSG: {1}", order.Id,errorState.ExceptionMessage);
                return RedirectToAction("Index");
            }

        } 
```

这是控制器的其余部分，为了清楚起见，我省略了其余的操作。

```
private readonly IOrderRepository orderRepository;
private ErrorState errorState;

public HomeController(IOrderRepository _orderRepository,IDocumentSession _documentSession)
{
    orderRepository = _orderRepository;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T18:59:10.070

您已经有一个具有该 ID 的订单实例。检查会话生命周期，是否有可能跨请求具有相同的会话？

# php - 堆栈数组丢失单页提交的先前值

> ID：13248470
> 
> 赞同：2
> 
> 时间：2012-11-06T09:51:56.723
> 
> 标签：php, arrays, stack

我正在尝试在 PHP 中执行 push-and-pop 堆栈数组，但只存储最后一个值。即使我再次单击按钮并加载同一页面，我如何也可以存储其他值？这就是我所做的：

```
<?php
    if(!$_GET)
        $myStack = array();
    else
        $myStack[] = "";
?>

<html>
<head> <title>Exercise</title>
</head>
<body>
    <form action="test.php" method="get">
        Element: <input type="text" name="num"  value="0"/><br/>
        <input type="submit" name="push" value="push" />
        <input type="submit" name="pop" value="pop" />
    </form>

<?php

    if(isset($_GET["push"])){
        array_push($myStack, $_GET["num"]);
        foreach($myStack as $val)
            echo $val . " ";
    }
    elseif(isset($_GET["pop"])){
        array_pop($myStack);
        foreach($myStack as $val)
            echo $val . " ";
    }
?>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:55:20.857

每个 http 请求 php 都会从头开始执行包含所有变量的脚本。您必须使用[$_SESSION](http://php.net/manual/en/reserved.variables.session.php)或`static`变量来保存请求之间的值。
要存储数组，`$_SESSION`只需将其分配给键：

```
$_SESSION["myStack"] = array();
$_SESSION["myStack"][] = 1;
$_SESSION["myStack"][] = 2; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:55:24.190

您的脚本顶部有一个重置。重新加载后，您的堆栈将是空的。您还必须将堆栈保存到会话变量中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T10:07:25.333

这是使用会话存储数组的代码：

```
<?php
//starts the session
session_start();
$myStack = array();

//gets the array from the session if it exists
if (isset($_SESSION['stack']))
    $myStack = $_SESSION['stack'];

?>
<html>
    <head> <title>Exercise</title>
</head>
<body>
<form action="test.php" method="get">
    Element: <input type="text" name="num"  value="0"/><br/>
    <input type="submit" name="push" value="push" />
    <input type="submit" name="pop" value="pop" />
</form>

<?php

if(isset($_GET["push"])){
    array_push($myStack, $_GET["num"]);
    foreach($myStack as $val)
        echo $val . " ";
}
elseif(isset($_GET["pop"])){
    array_pop($myStack);
    foreach($myStack as $val)
        echo $val . " ";
}

//stores the array in the opened session
$_SESSION['stack'] = $myStack;
?>
</body>
</html> 
```

# forms - 从子表单访问父表单和其他打开的表单

> ID：13248479
> 
> 赞同：0
> 
> 时间：2012-11-06T09:52:19.963
> 
> 标签：forms, ms-access, vba, ms-access-2010, subforms

在继续我的应用程序开发过程中，我遇到了另一个有趣的问题。

在我的 MS Access 应用程序中，我使用的表单只包含两个控件 - 一个文本框和一个命令按钮。这种形式被命名为`HEADER FORM`。

`HEADER FORM`用作各种其他表单的标题部分的子表单。

下图显示了子窗体及其在主窗体之一中的使用。

![在此处输入图像描述](../Images/db4d0ae225160e334434a2adb9d97f7a.png)

现在，我想要的是，当用户单击子表单的注销按钮时，将发生注销操作（这很好，我能够弄清楚）并且在该时间点打开的所有表单都将关闭/卸载。

我尝试使用以下代码无济于事。

```
Option Compare Database

Private Sub cmdHeaderLogout_Click()
    If (loggedIn = 1) Then
        loggedIn = 0
        DoCmd.Close acForm, Parent.Form
    End If
End Sub 
```

当我尝试单击注销按钮时，控制到达上面的 DoCmd.Close 语句。并在给出以下错误消息后停止执行：

> 运行时错误：2498。您输入的表达式是其中一个参数的错误数据类型。

它指向`Parent.Form`文本。

我无法弄清楚如何引用父表单并卸载它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T11:52:38.060

您应该参考当前表单的父级名称，即：

```
DoCmd.Close acForm, Me.Parent.Name 
```

DoCmd.Close 的第二个参数接受一个字符串。

您还可以遍历表单集合。

```
FormsCount = Forms.Count - 1

For i = FormsCount To 0 Step -1
    If Forms(i).Name <> Me.Name Then
        DoCmd.Close acForm, Forms(i).Name
    End If
Next 
```

# android - Settings.Secure.ANDROID_ID 在每台设备上始终相同

> ID：13248481
> 
> 赞同：2
> 
> 时间：2012-11-06T09:52:27.723
> 
> 标签：android, security

我的中国低价平板电脑面临一个大问题。序列号相同，来自电话的设备 ID 相同，现在我发现每个设备上的 Settings.Secure.ANDROID_ID 也是相同的。

Settings.Secure.ANDROID_ID 是如何生成的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T10:20:38.833

你可以在这里阅读[http://developer.android.com/reference/android/provider/Settings.Secure.html#ANDROID_ID](http://developer.android.com/reference/android/provider/Settings.Secure.html#ANDROID_ID)

> **Android ID：** 一个 64 位数字（作为十六进制字符串），在设备首次启动时随机生成，在设备的整个生命周期内应保持不变。（如果在设备上执行恢复出厂设置，该值可能会发生变化。）

但在 Androids 开发者博客上，他们会写下您的问题并向您展示解决方案。 [http://android-developers.blogspot.in/2011/03/identifying-app-installations.html](http://android-developers.blogspot.in/2011/03/identifying-app-installations.html)

> ANDROID_ID 似乎是唯一设备标识符的不错选择。有缺点：首先，它在 2.2 之前的 Android 版本（“Froyo”）上不是 100% 可靠的。此外，在主要制造商的流行手机中至少存在一个被广泛观察的错误，其中每个实例都具有相同的 ANDROID_ID。

# python - （半）自动生成函数的 argparsers

> ID：13248487
> 
> 赞同：9
> 
> 时间：2012-11-06T09:52:39.060
> 
> 标签：python, decorator, argparse

**tldnr：给定一个函数，有没有办法从它的签名中自动创建一个 ArgumentParser？**

我有一堆函数想在命令行中公开。所以基本上，一个模块：

```
 def copy(foo, bar, baz):
    ...
 def move(from, to):
    ...
 def unlink(parrot, nomore=True):
    ...

 if __name__ == '__main__':
     argparse stuff 
```

可以像这样从命令行调用：

```
 python commands.py move spam ham
 python commands.py unlink --parrot Polly 
```

尽管这很容易实现，但涉及很多布线：

```
parser = argparse.ArgumentParser(...)
subparsers = parser.add_subparsers()
...
c = subparsers.add_parser('unlink', description='Unlink a parrot')
c.add_argument('--parrot', help='parrots name', required=True)
c.add_argument('--nomore', help='this parrot is no more', action='store_true')
...
c = subparsers.add_parser('move', description='Move stuff')
... 
```

等等，对于每个功能。最糟糕的是，如果函数参数发生变化（它们确实发生了变化），argparse 的东西需要手动同步。

如果这些函数可以为自己提供 argparse 东西会更好，这样主要代码就会像：

```
parser = argparse.ArgumentParser(...)
subparsers = parser.add_subparsers()

copy.register(subparsers)
move.register(subparsers)
unlink.register(subparsers)
... 
```

我想到了这些方面的一些东西：

```
@args(
    description='Unlink a parrot',
    parrot={'required':True, 'help':'parrots name'},
    nomore={'action': 'store_true', 'help': 'this parrot is no more'}
)
def unlink(parrot, nomore=True):
    ... 
```

我的问题：

*   有没有这样的图书馆？
*   如果没有，是否可以编写这样的装饰器，如何编写？
*   有没有其他/更好的方法来实现我想要的？

### 更新：

[plac](http://pypi.python.org/pypi/plac)似乎是解决方案。以下是如何用 plac 做我想做的事：

命令模块：cmds.py：

```
import plac

@plac.annotations(
    foo=('the foo thing'),
    bar=('the bar thing'),
    fast=('do a fast copy', 'flag')
)
def copy(foo, bar, fast=False):
    """Copy some foo to bar."""
    pass

@plac.annotations(
    parrots=('parrots names'),
    nomore=('these parrots are no more', 'flag'),
    repeat=('repeat n times', 'option', 'r', int)
)
def unlink(nomore=False, repeat=1, *parrots):
    """Unlink some parrots."""
    pass

#more commands...

# export commands so that plac knows about them
commands = 'copy', 'unlink' 
```

这是主要模块：

```
import plac
import cmds

plac.call(cmds) 
```

如果你问我，就很整洁。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2017-03-07T12:33:38.147

我发现的“最少样板”库是[fire](https://github.com/google/python-fire) ( `pip install fire`)。

为您的示例创建命令行解析器非常简单：

```
import fire

def copy(foo, bar, baz):
...
def unlink(parrot, nomore=True):
...

if __name__ == '__main__':
    fire.Fire() 
```

这会将您的模块变成“Fire” CLI：

```
python your_module.py copy sim sala bim 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T10:06:39.290

你试过[吗](http://pypi.python.org/pypi/plac)？

[文档](http://plac.googlecode.com/hg/doc/plac.html)中的一个示例：

```
# dbcli.py
import plac
from sqlalchemy.ext.sqlsoup import SqlSoup

@plac.annotations(
    db=plac.Annotation("Connection string", type=SqlSoup),
    header=plac.Annotation("Header", 'flag', 'H'),
    sqlcmd=plac.Annotation("SQL command", 'option', 'c', str, metavar="SQL"),
    delimiter=plac.Annotation("Column separator", 'option', 'd'),
    scripts=plac.Annotation("SQL scripts"),
    )
def main(db, header, sqlcmd, delimiter="|", *scripts):
    "A script to run queries and SQL scripts on a database"
    yield 'Working on %s' % db.bind.url

    if sqlcmd:
        result = db.bind.execute(sqlcmd)
        if header: # print the header
            yield delimiter.join(result.keys())
        for row in result: # print the rows
            yield delimiter.join(map(str, row))

    for script in scripts:
        db.bind.execute(open(script).read())
        yield 'executed %s' % script

if __name__ == '__main__':
    for output in plac.call(main):
        print(output) 
```

输出：

```
usage: dbcli.py [-h] [-H] [-c SQL] [-d |] db [scripts [scripts ...]]

A script to run queries and SQL scripts on a database

positional arguments:
  db                    Connection string
  scripts               SQL scripts

optional arguments:
  -h, --help            show this help message and exit
  -H, --header          Header
  -c SQL, --sqlcmd SQL  SQL command
  -d |, --delimiter |   Column separator 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-11T02:03:15.460

类似的功能[`plac`](http://pypi.python.org/pypi/plac)由[argh](http://pypi.python.org/pypi/argh)提供，它特别具有子解析器的简单创建（如在`git`or中找到的那些`django-admin.py`）。

[其文档](http://packages.python.org/argh)中的一个示例：

```
from argh import *

def dump(args):
    return db.find()

@command
def load(path, format='json'):
    print loaders[format].load(path)

p = ArghParser()
p.add_commands([load, dump])

if __name__ == '__main__':
    p.dispatch() 
```

产生以下`--help`响应：

```
usage: prog.py [-h] {load,dump} ...

positional arguments:
  {load,dump}
    load
    dump

optional arguments:
  -h, --help   show this help message and exit 
```

以及以下内容`load --help`：

```
usage: prog.py load [-h] [-f FORMAT] path

positional arguments:
  path

optional arguments:
  -h, --help            show this help message and exit
  -f FORMAT, --format FORMAT 
```

参数可以注释：

```
@arg('path')
@arg('--format', choices=['yaml','json'], default='json')
@arg('--dry-run', default=False)
@arg('-v', '--verbosity', choices=range(0,3), default=1)
def load(args, LOADERS={'json': json.load, 'yaml': yaml.load}):
    loader = loaders[args.format]
    data = loader(open(args.path))
    ... 
```

随着`@plain_signature`，`args`to 的参数`load`被扩展为关键字参数：

```
@arg('path')
@arg('--format', choices=['yaml','json'], default='json')
@arg('--dry-run', default=False)
@arg('-v', '--verbosity', choices=range(0,3), default=1)
@plain_signature
def load(path, format, dry_run, verbosity):
    ... 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-06T10:28:02.710

您可以使用该`inspect`模块查看您自己的函数定义。这样你至少可以写一个基本的`argparse`骨架。但是，您可能需要更多信息，而不仅仅是参数名称和可能的默认值。

例如，您还需要提供描述。您可以通过以适当格式创建文档字符串来提供这些信息。有用于文档字符串的解析器（例如[Sphynx](http://sphinx-doc.org/)）使用这些额外信息，我认为您将能够为您的函数自动生成 argparse 调用。

我认为不需要装饰器，因为可能所有信息都可以存储在您的文档字符串中。

让我知道你的情况，我对你项目的结果很感兴趣。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-02T17:54:05.483

另一个有趣的替代方案是[commando](https://pypi.python.org/pypi/commando) python 模块作为 argparse 的声明性接口，并带有其他实用程序。

## 例子

没有突击队：

```
def main():
    parser = argparse.ArgumentParser(description='hyde - a python static website generator',
                                  epilog='Use %(prog)s {command} -h to get help on individual commands')
    parser.add_argument('-v', '--version', action='version', version='%(prog)s ' + __version__)
    parser.add_argument('-s', '--sitepath', action='store', default='.', help="Location of the hyde site")
    subcommands = parser.add_subparsers(title="Hyde commands",
                                     description="Entry points for hyde")
    init_command = subcommands.add_parser('init', help='Create a new hyde site')
    init_command.set_defaults(run=init)
    init_command.add_argument('-t', '--template', action='store', default='basic', dest='template',
                     help='Overwrite the current site if it exists')
    init_command.add_argument('-f', '--force', action='store_true', default=False, dest='force',
                     help='Overwrite the current site if it exists')
    args = parser.parse_args()
    args.run(args)

def init(self, params):
    print params.sitepath
    print params.template
    print params.overwrite 
```

与突击队：

```
class Engine(Application):

    @command(description='hyde - a python static website generator',
            epilog='Use %(prog)s {command} -h to get help on individual commands')
    @param('-v', '--version', action='version', version='%(prog)s ' + __version__)
    @param('-s', '--sitepath', action='store', default='.', help="Location of the hyde site")
    def main(self, params): pass

    @subcommand('init', help='Create a new hyde site')
    @param('-t', '--template', action='store', default='basic', dest='template',
            help='Overwrite the current site if it exists')
    @param('-f', '--force', action='store_true', default=False, dest='overwrite',
            help='Overwrite the current site if it exists')
    def init(self, params):
        print params.sitepath
        print params.template
        print params.overwrite 
```

# ios - obj-c 将字符串写入文件不起作用

> ID：13248492
> 
> 赞同：1
> 
> 时间：2012-11-06T09:52:56.660
> 
> 标签：ios, nsstring, writetofile

我有以下尝试将字符串写入桌面上的文件，但出现错误。

我写的代码是：

```
id jsonObjects = [NSJSONSerialization JSONObjectWithData:jsonData options:NSJSONReadingMutableContainers error:nil];

// Get array with first index being path to desktop
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDesktopDirectory, NSUserDomainMask, YES);

// Get the first element
NSString *desktopPath = [paths objectAtIndex:0];

// Append words.txt to path
NSString *theFilePath = [desktopPath stringByAppendingPathComponent:@"glutenFreeJson.txt"];

NSError *error = nil;
NSString *jsonString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];
NSLog(@"%@\n\n", jsonString);
NSLog(@"%@\n\n", theFilePath);
[jsonString writeToFile:theFilePath atomically:YES encoding:NSStringEncodingConversionAllowLossy error:&error];
NSLog(@"Write returned error: %@", [error localizedDescription]); 
```

这打印“ `Write returned error: The operation couldn’t be completed. (Cocoa error 4.)`”

我不确定为什么。

更新：该应用程序最初从服务器请求 json 数据，对其进行解析并显示它。但是，服务器一直不稳定，并不总是及时响应，我只需要一次数据，所以我只想将它下载到我电脑上的桌面文件夹并将其移动到我的项目文件夹中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:07:13.950

用这个，

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:57:58.067

iOS中没有DesktopDirectory，`NSDesktopDirectory`改成`NSDocumentDirectory`. 它会工作的。

或简单写

```
NSString *desktopPath = NSHomeDirectory(); 
```

# javascript - 在 HTML5 中检测 iPad Mini

> ID：13248493
> 
> 赞同：376
> 
> 时间：2012-11-06T09:53:07.900
> 
> 标签：javascript, html, ipad, svg

Apple 的 iPad Mini 是 iPad 2 的一个较小的克隆版本，其方式比我们想要的要多。在 JavaScript 中，该`window.navigator`对象为 Mini 和 iPad 2 公开相同的值。到目前为止，我检测差异的测试并未成功。

为什么这很重要？

由于 iPad Mini 和 iPad 2 屏幕的像素相同，但实际尺寸（英寸/厘米）不同，因此它们的[PPI](http://en.wikipedia.org/wiki/Pixel_density)（每英寸像素数）有所不同。

对于提供友好用户界面的 Web 应用程序和游戏，某些元素的大小会根据用户的拇指或手指位置进行调整，因此，我们可能希望缩放某些图像或按钮以提供更好的用户体验。

到目前为止我尝试过的事情（包括一些非常明显的方法）：

*   `window.devicepixelratio`
*   以厘米为单位的 CSS 元素宽度
*   CSS 媒体查询（例如`resolution`和`-webkit-device-pixel-ratio`）
*   类似单位的 SVG 绘图
*   在设定的时间内进行各种 CSS webkit 转换并计算渲染帧数`requestAnimFrame`（我希望能检测到可测量的差异）

我的想法很新鲜。你呢？

**更新** 感谢到目前为止的回复。我想评论一下人们投票反对检测 iPad mini 与 2，因为 Apple 有 uhm，一个统治他们的指导方针。好的，这就是为什么我觉得知道一个人使用的是 iPad mini 还是 iPad 2 真的很有意义的原因。按照我的推理去做你喜欢的事。

iPad mini 不仅是一个小得多的设备（9.7 英寸对 7.9 英寸），而且它的外形尺寸允许不同的用途。除非您是[Chuck Norris](http://en.wikipedia.org/wiki/Chuck_Norris_facts) ，否则在玩游戏时通常用两只手握住 iPad 2 。迷你更小，但它也更轻，允许你用一只手握住它并用另一只手滑动或点击或诸如此类的游戏。作为一名游戏设计师和开发人员，我只想**知道**它是否是迷你版，因此如果我愿意，我可以选择为玩家提供不同的控制方案（例如在与一组玩家进行 A/B 测试之后）。

为什么？好吧，事实证明，大多数用户倾向于使用默认设置，因此当玩家加载第一次玩游戏是我，可能还有其他游戏设计师，希望**能够**做到的事情。

因此，恕我直言，这超出了粗略的手指/指南讨论，这只是 Apple 和所有其他供应商应该做的事情：允许我们唯一地识别您的设备并以**不同的方式思考**，而不是**遵循**指南。

* * *

## 回答 #1

> 赞同：252
> 
> 时间：2012-11-14T11:27:24.510

当右声道和左声道的音量很高时播放立体声音频文件并比较加速度计响应 - iPad2 有单声道扬声器，而 iPad Mini 有内置立体声扬声器。

*需要您的帮助来收集数据，请访问[此页面](http://www.intechrity365.com/collectIpadMini2.html)并帮助我为这个疯狂的想法收集数据。我没有 iPad mini，所以我真的需要你的帮助*

* * *

## 回答 #2

> 赞同：132
> 
> 时间：2012-11-14T13:48:03.217

**更新：** [看起来](http://konstruktors.com/blog/web-design/4396-detect-ipad-mini-javascript/#comment-24726)这些值是在创建选项卡时报告视口宽度和高度，并且它们在旋转时不会改变，所以**这种方法不能用于设备检测**！

对于 iPad Mini 和 iPad 2，您可以使用两者之一`screen.availWidth`或`screen.availHeight`它们似乎不同。

## 小型平板电脑

```
screen.availWidth = 768
screen.availHeight = 1004 
```

## 平板电脑 2

```
screen.availWidth = 748
screen.availHeight = 1024 
```

来源： http: [//konstruktors.com/blog/web-design/4396-detect-ipad-mini-javascript/](http://konstruktors.com/blog/web-design/4396-detect-ipad-mini-javascript/)

* * *

## 回答 #3

> 赞同：84
> 
> 时间：2012-11-14T09:25:52.473

我知道这可能是一个技术含量低的解决方案，但是因为我们似乎还没有想出其他任何东西..

我假设您已经检查了大多数其他设备，所以我看到了以下可能的情况。

您可以检查所有可能需要特殊 CSS/尺寸的最受欢迎的设备，如果它不匹配这些设备，要么假设它是 iPad mini，要么只是询问用户？

```
// Device checks here
...
else {
  // it would probably be better to make this a nicer popup-thing
  var mini = prompt("Are you using a iPad mini? Press yes for a better user experience");
  // Store the result for future visits somehow.
} 
```

我知道现在这似乎是一种愚蠢的方法，但如果我们目前无法确定该设备是 iPad mini 还是 iPad 2，那么至少该网站可以用于 iPad mini 设备执行类似操作。

你甚至可以用这样的东西：

“为了给您最好的浏览体验，我们尝试检测您的设备类型以根据您的设备自定义网站。不幸的是，由于限制，这并不总是可行的，我们目前无法确定您使用的是 iPad 2 还是 iPad mini 通过使用这些方法。

为获得最佳浏览体验，请在下方选择您使用的设备。

此选择将被存储以供将来在此设备上访问该网站。

```
[] iPad 2 
[*] iPad mini
[] Ancient blackberry device 
```

"

我并不完全熟悉在 Javascript 中可以和不能在客户端执行的操作。我知道你可以获取用户的IP，但是可以获取用户的mac地址吗？iPad2 和 iPad mini 的范围是否不同？

* * *

## 回答 #4

> 赞同：74
> 
> 时间：2012-11-06T12:21:29.387

我知道这是一个可怕的解决方案，但目前区分 iPad Mini 和 iPad 2 的唯一方法是检查其内部版本号并将每个内部版本号与相关设备映射。

让我举个例子：iPad mini 6.0 版公开“ `10A406`”作为内部版本号，而 iPad 2 公开“ `10A5376e`”。

该值可以通过用户代理 ( `window.navigator.userAgent`) 上的正则表达式轻松获得；该号码以“ `Mobile/`”为前缀。

不幸的是，这是检测 iPad Mini 的唯一明确方法。我建议采用`viewport`相关方法（在支持的情况下，使用 vh / vw 单位）在不同的屏幕尺寸上正确显示内容。

* * *

## 回答 #5

> 赞同：69
> 
> 时间：2012-11-14T14:15:29.703

tl;dr 不要补偿 iPad mini 和 iPad 2 之间的差异，除非您还可以补偿胖手指和瘦手指之间的差异。

苹果似乎故意不让你分辨出区别。Apple 似乎不希望我们为不同尺寸的 iPad 编写不同的代码。我自己不是Apple的一部分，我不确定，我只是说这就是它的样子。也许，如果开发者社区为 iPad mini 设计了一款精美的检测器，Apple 可能会在未来的 iOS 版本中故意破坏该检测器。Apple 希望您将最小目标尺寸设置为 44 iOS 点，iOS 将以两种尺寸显示，较大的 iPad 尺寸和较小的 iPhone/iPad mini 尺寸。44 分已经够大了，你的用户肯定会知道他们是否在使用较小的 iPad，因此可以自行补偿。

我建议回到您要求检测器的陈述的原因：调整目标大小以使最终用户感到舒适。通过决定在大 iPad 上设计一种尺寸，在小 iPad 上设计另一种尺寸，您就是在决定所有人的手指尺寸都相同。如果你的设计足够紧凑，iPad 2 和 iPad mini 的尺寸差异会产生影响，那么我和我妻子之间手指的大小会产生更大的差异。所以补偿用户手指大小，而不是 iPad 型号。

我有一个关于如何测量手指大小的建议。我是本地 iOS 开发人员，所以我不知道这是否可以在 HTML5 中完成，但这是我在本地应用程序中测量手指大小的方法。我会让用户将两个物体捏在一起，然后测量它们靠得有多近。较小的手指会使物体靠得更近，您可以使用此测量值推导出比例因子。这会根据 iPad 尺寸自动调整。与 iPad 2 相比，同一个人在 iPad mini 上的屏幕点测量值更大。对于游戏，您可以将其称为校准步骤，甚至不说出来。把它作为一个开始的步骤。例如，在射击游戏中，让玩家通过捏合动作将弹药放入枪中。

* * *

## 回答 #6

> 赞同：31
> 
> 时间：2012-11-15T18:54:40.000

要求用户将他们的 iPad 从离地数千英尺的地方放下。然后使用内部加速度计测量 iPad 达到终端速度所需的时间。较大的 iPad 具有更大的阻力系数，并且应该比[iPad Mini](http://en.wikipedia.org/wiki/IPad_Mini)在更短的时间内达到极限速度。

这是一些示例代码，可帮助您入门。

```
function isIPadMini( var timeToReachTerminalVelocity )
{
    return (timeToReachTerminalVelocity > IPAD_MINI_THRESHOLD);
} 
```

当 Apple 不可避免地以不同的形式发布下一代 iPad 时，你几乎肯定需要重新审视这段代码。但我相信你会保持领先地位，并为每个新版本的 iPad 维护这个 hack。

* * *

## 回答 #7

> 赞同：28
> 
> 时间：2012-11-06T09:57:03.457

不幸的是，目前这似乎是不可能的： [http ://www.mobilexweb.com/blog/ipad-mini-detection-for-html5-user-agent](http://www.mobilexweb.com/blog/ipad-mini-detection-for-html5-user-agent)

> 两天前，我在推特上发布了第一个检测到的问题：“<strong>已确认 iPad Mini 用户代理与 iPad 2 相同”。我收到了数百个回答说用户代理嗅探是一种不好的做法，我们应该检测功能而不是设备等。
> 
> 好吧，伙计们，你是对的，但这与问题没有直接关系。我需要补充第二个坏消息：**也没有客户端技术可以进行“特征检测”**。

* * *

## 回答 #8

> 赞同：26
> 
> 时间：2012-11-14T10:17:53.070

这是一个狂野的镜头，但 iPad 2 和 iPad mini 的区别之一是前者没有 3 轴陀螺仪。也许可以使用 WebKit 设备方向 API 来查看您可以从中获得哪些信息。

例如，[此页面](http://developer.apple.com/library/safari/#documentation/SafariDOMAdditions/Reference/DeviceMotionEventClassRef/DeviceMotionEvent/DeviceMotionEvent.html)似乎建议您仅`rotationRate`在设备具有陀螺仪的情况下才能获取该值。

抱歉，我无法提供有效的 POC - 我无法使用 iPad mini。也许对这些方向 API 有更多了解的人可以在这里加入。

* * *

## 回答 #9

> 赞同：20
> 
> 时间：2012-11-14T18:28:46.850

好吧，iPad 2 和 iPad Mini 有不同尺寸的电池。

如果 iOS 6 支持，您可以`0.0..1.0`使用`window.navigator.webkitBattery.level`. 在硬件或软件的某个级别上，这可能计算为`CurrentLevel / TotalLevel`，其中两者都是整数。如果是这样，那将导致浮点数是`1 / TotalLevel`. 如果您从两个设备上获取大量电池电量读数，并计算`battery.level * n`您可能能够找到一个 n 值，其中所有结果都开始接近整数，这将为您提供`iPad2TotalLevel`和`iPadMiniTotalLevel`。

如果这两个数字不同并且互质，那么在生产中您可以计算`battery.level * iPad2TotalLevel`和`battery.level * iPadMiniTotalLevel`。哪个更接近整数将指示正在使用哪个设备。

对不起，这个答案中的 if 数量！希望会有更好的东西出现。

* * *

## 回答 #10

> 赞同：18
> 
> 时间：2012-11-14T15:26:51.020

**编辑1：** 下面我的原始答案是“不要这样做”。为了积极起见：

我认为，真正的问题与 iPad X 与 iPad mini 无关。我认为这是关于优化 UI 元素尺寸和放置到用户的人体工程学。您需要确定用户手指的大小，以驱动您的 UI 元素大小，也许还有定位。再一次，这可能是并且应该可以在不需要真正知道您正在运行的设备上的情况下实现。让我们夸大一下：您的应用程序在 40 英寸对角线屏幕上运行。不知道品牌和型号或 DPI。你如何调整控件的大小？

您需要在站点/游戏中显示一个作为门控元素的按钮。我将由您决定在何处或如何进行此操作。

虽然用户会将其视为单个按钮，但实际上它将由紧凑的小按钮矩阵组成，这些按钮在视觉上被覆盖以显示为单个按钮图像。想象一个由 400 个按钮组成的 100 x 100 像素按钮，每个按钮 5 x 5 像素。您需要进行试验以了解此处的意义以及您的采样需要多小。

按钮数组的可能 CSS：

```
.sense_row {
  width:100px;
  height:5px;
  margin:0;
  padding:0;
}

.sense_button {
  float:left;
  width:3px;
  height:3px;
  padding:0px;
  margin:0px;
  background-color:#FF0;
  border:1px solid #000;
} 
```

结果数组：

![按钮阵列](../Images/b0bccfab2d6e93f24e8a98a7ca93f027.png)

当用户触摸按钮阵列时，您将有效地获取用户手指接触区域的图像。然后，您可以使用您想要的任何标准（可能是根据经验得出的）以获得一组数字，您可以使用这些数字来根据您的要求缩放和定位各种 UI 元素。

这种方法的美妙之处在于您不再关心您可能正在处理的设备名称或型号。您只关心用户手指相对于设备的大小。

我想这个 sense_array 按钮可以作为进入应用程序的过程的一部分被隐藏。例如，如果它是一个游戏，可能有一个“播放”按钮或带有用户名的各种按钮，或者选择他们将玩什么级别的方法等。你明白了。sense_array 按钮可以位于用户必须触摸才能进入游戏的任何位置。

**编辑 2：** 只是注意到你可能不需要那么多感应按钮。一组像大星号一样排列的同心圆或按钮`*`可能就可以了。你必须进行实验。

用我的旧答案，下面，我给你硬币的两面。

**旧答案：**

正确答案是：不要这样做。这是个坏主意。

如果您的按钮太小以至于无法在 mini 上使用，则您需要将按钮变大。

如果我在开发原生 iOS 应用程序中学到了什么，那就是试图超越 Apple 是一种过度痛苦和恶化的公式。如果他们选择不允许您识别设备，那是因为，在他们的沙箱中，您不应该这样做。

我想知道，您是否正在调整纵向与横向的大小/位置？

* * *

## 回答 #11

> 赞同：11
> 
> 时间：2012-11-14T10:47:41.460

是的，检查陀螺仪是个好方法。你可以很容易地做到这一点

[https://developer.apple.com/documentation/webkitjs/devicemotionevent](https://developer.apple.com/documentation/webkitjs/devicemotionevent)

或类似的东西

```
window.ondevicemotion = function(event) {
    if (navigator.platform.indexOf("iPad") != -1 && window.devicePixelRatio == 1) {
        var version = "";
        if (event.acceleration) version = "iPad2";
        else version="iPad Mini";

        alert(version);
    }
    window.ondevicemotion = null;
}​ 
```

没有任何 iPad 来测试它。

* * *

## 回答 #12

> 赞同：11
> 
> 时间：2012-11-14T13:21:02.930

微基准测试怎么样，在 iPad 2 上计算大约需要 X 微秒，在 iPad mini 上大约需要 Y 秒。

它可能不够准确，但 iPad mini 的芯片可能更有效地执行某些指令。

* * *

## 回答 #13

> 赞同：8
> 
> 时间：2012-11-14T21:21:19.307

Require all users with the iPad2 user agent to supply a photo [using the built in camera](http://howto.cnet.com/8301-11310_39-57507927-285/with-ios-6-you-can-upload-photos-in-safari/) and detect the resolution using the [HTML File API](http://www.w3.org/TR/FileAPI/). iPad Mini photos will be higher resolution due to the improvements in the camera.

You could also play around with creating an invisible canvas element, and convert it to a PNG/JPG using the Canvas API. I don't have any way to test it, but the resulting bits *might* be different due to the underlying compression algorithm and the device's pixel density.

* * *

## 回答 #14

> 赞同：7
> 
> 时间：2012-11-14T16:07:41.447

你总是可以问用户？！

如果用户看不到按钮或内容，则为他们提供一种自行管理缩放的方法。您始终可以在网站上构建一些缩放按钮，以使内容（文本/按钮）更大/更小。这将（几乎）保证适用于任何当前的 iPad 分辨率，并且可能适用于苹果决定他们想要制作的任何未来分辨率。

* * *

## 回答 #15

> 赞同：6
> 
> 时间：2012-11-15T20:47:21.190

这让我想起了电影《平衡》中的一句话：

> “你会说，什么是从格拉姆顿牧师那里拿走武器的最简单方法？”
> 
> “你问他。”

我们已经习惯于为解决方案而战，有时，最好问问。（我们通常不这样做是有充分理由的，但它始终是一种选择。）这里的所有建议都很棒，但一个简单的解决方案可能是让你的程序在启动时询问他们正在使用哪个 iPad .

我知道这是一个厚颜无耻的回答，但我希望它提醒我们不必为所有事情而战。（我已经为反对票做好了准备。：P）

一些例子：

*   操作系统安装期间的键盘检测有时无法检测到特定的键盘，因此安装程序必须询问。
*   Windows 会询问您连接的网络是家庭网络还是公共网络。
*   计算机无法检测到即将使用它的人，因此它们需要用户名和密码。

祝你好运 - 我希望你能找到一个很棒的解决方案！但是，如果您不这样做，请不要忘记这一点。

* * *

## 回答 #16

> 赞同：6
> 
> 时间：2012-11-14T19:35:05.070

这不是您提出的问题的答案，但我希望它比说“不要那样做”更有用：

与其检测 iPad Mini，为什么不检测用户在点击控件时遇到困难（或者：一直在点击控件的子区域），然后增大/缩小控件的大小以适应它们？

无论硬件如何，需要更大控制的用户都能获得它们；不需要更大控件并希望查看更多内容的用户也可以使用。这不是仅仅检测硬件那么简单，并且会有一些微妙的事情要做好，但如果仔细完成它可能会非常好。

* * *

## 回答 #17

> 赞同：5
> 
> 时间：2012-11-14T18:34:51.613

不是回答问题，而是问题背后的问题：

您的目标是在较小的屏幕上改善用户体验。UI 控件的外观是其中的一部分。UX 的另一部分是应用程序的响应方式。

如果您将响应轻击的区域做得足够大以在 iPad Mini 上对用户友好，同时保持 UI 控件的视觉表示足够小以在 iPad 上视觉上令人愉悦，该怎么办？

如果您收集了足够多的不在可视区域中的点击，您可以决定在视觉上缩放 UI 控件。

作为奖励，这也适用于 iPad 上的大手。

* * *

## 回答 #18

> 赞同：5
> 
> 时间：2012-11-16T19:20:53.510

这里的所有解决方案都不是面向未来的（这会阻止 Apple 发布屏幕尺寸与 iPad 2 相同但分辨率与 iPad Mini 相同的 iPad）。于是我想出了一个主意：

创建一个 1 英寸宽的 div 并将其附加到正文中。然后我创建另一个 100% 宽度的 div 并将其附加到正文：

```
var div1= $("<div/>").appendTo(document.body).width("1in");
var div2= $("<div/>").appendTo(document.body).width("100%"); 
```

jQuery width() 函数总是以像素为单位返回值，因此您可以：

```
var screenSize= div2.width() / div1.width(); 
```

screenSize 现在以英寸为单位保存**应用程序可用**的大小（但要注意舍入错误）。您可以使用它以您喜欢的方式放置您的 GUI。之后也不要忘记删除无用的 div。

另请注意，Kaspars 提出的算法不仅在用户以全屏方式运行应用程序时不起作用，而且如果 Apple 修补浏览器 UI，它也会中断。

这不会区分设备，但正如您在编辑中解释的那样，您真正想知道的是设备屏幕尺寸。我的想法也不会告诉您确切的屏幕尺寸，但它会为您提供更有用的信息，即您可用于绘制 GUI 的实际尺寸（以英寸为单位）。

**编辑：** 使用此代码检查它是否真的适用于您的设备。我没有任何 iPad 来测试它。

```
var div1= $("<div/>").appendTo(document.body).width("1in").height("1in").css("position", "absolute");
var div2= $("<div/>").appendTo(document.body).width("100%").height("100%").css("position", "absolute");
var width= div2.width() / div1.width()
var height= div2.height() / div1.height()
alert(Math.sqrt(width*width + height*height)); 
```

它应该会弹出一个以英寸为单位的屏幕大小的窗口。它似乎可以在我的笔记本电脑上运行，返回 15.49，而我的笔记本电脑屏幕以 15.4 英寸销售。任何人都可以在 iPad 上对此进行测试并发表评论吗？不要忘记全屏运行它。

**EDIT2：**事实证明，我测试它的页面有一些冲突的[CSS](http://en.wikipedia.org/wiki/Cascading_Style_Sheets)。我修复了测试代码现在可以正常工作。您需要在 div 上使用 position: absolute，以便您可以使用 % 中的高度。

**EDIT3：**我做了一些研究，似乎没有办法在任何设备上实际获得屏幕尺寸。这不是操作系统可以知道的。当您在 CSS 中使用真实世界的单位时，它实际上只是基于屏幕某些属性的估计。不用说，这根本不准确。

* * *

## 回答 #19

> 赞同：2
> 
> 时间：2012-11-14T15:55:05.000

Not tested, but instead of playing an audio file and check the balance, it could work to listen to the microphone, extract the background noise, and compute its "color" (frequency graph). If IPad Mini has a different microphone model than IPad 2, then their background color should be measurably different and some audio fingerprinting techniques might help you tell which device is in use.

I don't seriously think it could be feasible and worth the hassle in this specific case, but I think **fingerprinting the background noise** could be used in some apps, for example to tell you where you are when you are inside a building.

* * *

## 回答 #20

> 赞同：2
> 
> 时间：2012-11-26T12:06:45.977

基于[道格拉斯](https://stackoverflow.com/users/119271/douglas)关于`new webkitAudioContext().destination.numberOfChannels`iPad 2 的问题，我决定进行一些测试。

检查 numberOfChannels`2`在 iPad mini 上返回，但在 iOS 5 和`2`iOS 6 的 iPad 2 上没有。

然后我尝试检查 webkitAudioContext 是否可用

```
var hasWebkitAudio = typeof(webkitAudioContext) === "object";
alert(hasWebkitAudio);​ 
```

同样在这里 iPad Mini 和 iPad 2 与 iOS 6 返回 true 而 iPad 2 与 iOS 5 返回 false。

（此测试不适用于桌面，用于桌面检查 webkitAudioContext 是否为函数）。

这是供您试用的代码：http: [//jsfiddle.net/sqFbc/](http://jsfiddle.net/sqFbc/)

* * *

## 回答 #21

> 赞同：2
> 
> 时间：2014-05-18T06:13:34.383

在 iOS7 中，用户可以调整系统范围的设置：当内容变得太小而无法阅读时，可以更改**文本大小设置。**

该文本大小可用于形成合理尺寸的 UI，例如按钮（在 iPad Mini Retina 上测试以响应文本大小设置更改）：

```
padding: 0.5em 1em 0.5em 1em;
font: -apple-system-body; 
```

（[示例](http://jsfiddle.net/fU8QK/)按钮 CSS，感谢 jsfiddle 和 cssbuttongenerator）

* * *

## 回答 #22

> 赞同：2
> 
> 时间：2012-12-04T21:33:21.313

如果你创建了一堆 1"x1" 宽的 div 并将它们一个接一个地附加到父 div 直到边界框从 1 英寸跳到 2 英寸怎么办？mini 上的一英寸与 iPad 上的一英寸大小相同，对吧？

* * *

## 回答 #23

> 赞同：1
> 
> 时间：2015-10-26T16:37:20.257

我通过创建一个[iPad mini 可以渲染的更大的画布来](https://stackoverflow.com/questions/6081483/maximum-size-of-a-canvas-element)检测 iPad mini ，填充一个像素然后读取颜色。iPad mini 将颜色读取为“000000”。其他一切都将其渲染为填充颜色。

部分代码：

```
function rgbToHex(r, g, b) {
    if (r > 255 || g > 255 || b > 255)
        throw "Invalid color component";
    return ((r << 16) | (g << 8) | b).toString(16);
}
var test_colour = '8ed6ff';
working_context.fillStyle = '#' + test_colour;
working_context.fillRect(0,0,1,1);
var colour_data = working_context.getImageData(0, 0, 1, 1).data;
var colour_hex = ("000000" + rgbToHex(colour_data[0], colour_data[1], colour_data[2])).slice(-6); 
```

我需要这个来调整画布大小，所以它是我用例中的特征检测。

# c++ - 向/从轮询添加/删除描述符的优雅方式

> ID：13248495
> 
> 赞同：7
> 
> 时间：2012-11-06T09:53:16.220
> 
> 标签：c++, c, unix, polling

我必须同时处理大约 1000 个描述符`poll`（我不能使用`epoll`它，因为它是特定于 Linux 的）并且我必须能够动态添加/删除它们（处理新连接并删除关闭）。

这意味着我应该在每次迭代时重新组合描述符数组。

从技术角度来看，这是相当明显的，但有人知道这样做的好方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T12:22:39.183

我会将已死的描述符保留在数组中，并偶尔清除一次。我还会维护每个描述符的位置，以便于删除，但这可以进一步优化。诀窍是在数组中保留无效的描述符，而不是每次都重新排列数组。

例如：

```
struct pollfd pfds[MY_MAX_FDS];
int nfds = 0;
enum { INVALID_FD = -1 };
....

typedef std::map<int,int> desc_to_index_t;
desc_to_index_t d2i;
....
// add descriptor
if (nfds == MY_MAX_FDS){
    // purge old fds
    // go through pfds and remove everything that has invalid fd
    // pfds should point to a condensed array of valid objects and nfds should be updated as well, as long as d2i.
}
pfds[nfds] = { desc, events, revents};
d2i.insert(std::make_pair(desc,nfds));
++nfds;
....
// remove descriptor
desc_to_index_t::iterator it = d2i.find(desc);
assert(it != d2i.end());
pfds[it->second] = { INVALID_FD, 0, 0 };
d2i.erase(it); 
```

这样一来，您只需在超过某个阈值时进行清除，而无需每次都构建数组。

# iphone - 攻击者能否破解 iOS 钥匙串和数据保护加密？

> ID：13248496
> 
> 赞同：4
> 
> 时间：2012-11-06T09:53:18.427
> 
> 标签：iphone, objective-c, ios, security, sandbox

我正在开发一个 iOS 应用程序，它必须存储用户名和密码以及其他敏感数据。我正在考虑使用 NSUserDefaults 或钥匙串存储。是否有其他更安全的方法可以防止攻击者击败 iOS 钥匙串或此类数据保护？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T12:01:04.850

[这里](http://www.wildsau.net/post/2011/02/08/iOS-4-Data-protection-hardware-encryption-and-other-insight.aspx)有一个关于整个安全主题的很好的阅读资料，这是一篇较旧的文章，但无论如何。我个人认为，苹果 iOS 平台上的整个安全概念加上 iOS 设备上的硬件加密真的很好。众所周知，Android 和 Android 设备存在问题。

但是通过额外加密您的数据来添加额外的安全措施无论如何都不是一个坏主意！

# c++ - 如何删除 ld：xcode 4.2（c++ 代码）中的重复符号 _

> ID：13248499
> 
> 赞同：0
> 
> 时间：2012-11-06T09:53:25.467
> 
> 标签：c++, ios5, xcode4.2

我正在尝试在 xcode 中编译 c++ 代码，但出现以下错误：

```
ld: duplicate symbol _selectedFields in Library/Developer/Xcode/DerivedData/ReadHeaderTBL-arftrodtnbtmucbjkejinzonhulu/Build/Intermediates/ReadHeaderTBL.build/Debug-iphonesimulator/ReadHeaderTBL.build/Objects-normal/i386/readingTBLCPP.o and /Library/Developer/Xcode/DerivedData/ReadHeaderTBL-arftrodtnbtmucbjkejinzonhulu/Build/Intermediates/ReadHeaderTBL.build/Debug-iphonesimulator/ReadHeaderTBL.build/Objects-normal/i386/ReadFile.o for architecture i386 
```

符号“ `selectedFields`”在一个类中声明并从另一个类中调用。

它被声明为：

```
 std::string selectedFields; 
```

我没有得到这个错误的原因。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:26:03.880

通常当我们遇到这个问题时，是因为人们已经在头文件中声明了变量。您应该在头文件中*定义它*

```
extern std::string selectedFields; // definition 
```

并在*一个*源文件中声明

```
std::string selectedFields; // declaration 
```

如果您的问题是其他问题，请*发布代码*。不得不猜测每个人的问题是什么有点令人沮丧，因为他们懒得发布代码。

# c# - NAudio C#中的麦克风缓冲区

> ID：13248500
> 
> 赞同：1
> 
> 时间：2012-11-06T09:53:33.007
> 
> 标签：c#, .net, naudio

我将麦克风（NAudio.WaveIn）的采样率设置为 44100Hz。但是当我使用 WaveInDataAvailible(object sender, WaveInEventArgs e) 时。在 e.Buffer 中，我有 4410 个元素，而不是 44100 个元素。为什么这让我的测量量减少了 10 倍？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T10:51:39.333

那是因为你的缓冲区大小是 50 毫秒。每个缓冲区包含 2205 个样本，因为它们每个是 16 位（2 个字节），所以缓冲区中有 4410 个字节。

# c++ - 基于上下文的转换将在 marmalade sdk 中被记住

> ID：13248501
> 
> 赞同：0
> 
> 时间：2012-11-06T09:53:33.933
> 
> 标签：c++, sdk, game-engine, marmalade

我是 marmalade sdk 的新手，我正在关注[本教程](http://www.drmop.com/index.php/2011/09/16/marmalade-sdk-tutorial-loading-bitmaps-and-rendering-sprites-with-iw2d/)，我阅读了这一段

***这里我们告诉 Iw2D 设置绘制“任何东西”时使用的“当前”变换。请记住，Iw2D 是基于上下文的，并且会记住此变换，因此如果您尝试在不再次更改变换的情况下绘制其他内容，那么它将以相同的位置、相同的角度和相同的比例绘制。请注意，您可以使用 Iw2DSetTransformMatrix(CIwMat2D::g_Identity) 将当前变换重置为正常。单位矩阵是没有旋转、没有平移和没有缩放的默认变换矩阵。***

我很困惑，这条线是什么意思>> *Iw2D 是基于上下文的，这种转换会被记住*，有什么可爱的想法吗？您的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:08:46.030

从来没有听说过果酱（除了早餐——而且它的变形也很粘），但总的来说：

变换描述了在渲染之前应用于所有坐标的几何变换。因此，如果您绘制水平线，并指定 45° 旋转作为变换，则该线将以 45° 角渲染。

基于上下文意味着转换“坚持”直到您重置（=用“身份转换”替换它）或修改它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T07:08:18.490

在 Marmalade 中，您可以在每一帧中设置当前变换矩阵，然后将其重置为 Identity。否则，您可以设置一次变换矩阵并将其应用于所有未来的渲染/绘图。

当您调用`Iw2DDrawImage()`or`Iw2DDrawRect()`或任何其他`Iw2DDraw`函数时，绘图将基于当前的变换矩阵。因此，如果您在特定图形上设置了 45 度的旋转，则下一个图形将旋转到 45 度，除非您再次重置它，缩放和其他转换也是如此。因此，如果您想避免这种情况，请`Iw2DSetTransformMatrix()`在当前帧中使用结束后调用函数并将其设置为单位矩阵。

# apache - Java Mahout 库中的 DistanceMeasure 数据类型

> ID：13248503
> 
> 赞同：-1
> 
> 时间：2012-11-06T09:53:40.513
> 
> 标签：apache, distance, mahout, k-means, units-of-measurement

我编写了一个代码来对 Java 中的一组数据进行聚类。我正在使用 Apache Mahout 来构建集群。这是我的一段代码：

```
 Configuration conf = new Configuration();
        Path input = new Path("C:\\DATA\\input.txt");
        Path clusters = new Path("C:\\DATA\\clusters.txt");
        Path output = new Path("C:\\DATA\\output.txt");
        org.apache.mahout.common.distance.DistanceMeasure measure;
        String delta = new InterruptedException().toString();
        org.apache.mahout.clustering.kmeans.KMeansDriver myK = new KMeansDriver();
        myK.buildClusters(conf, input, clusters, output, measure, 100, delta, true); 
```

但是在创建“度量”参数时出现错误：“变量度量可能尚未初始化”。

这是函数 buildClusters 的文档：[https ://builds.apache.org/job/Mahout-Quality/javadoc/org/apache/mahout/clustering/kmeans/KMeansDriver.html](https://builds.apache.org/job/Mahout-Quality/javadoc/org/apache/mahout/clustering/kmeans/KMeansDriver.html)

那么，如何定义“度量”的真正价值呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:33:39.820

`DistanceMeasure`（[链接](https://builds.apache.org/job/Mahout-Quality/javadoc/org/apache/mahout/common/distance/DistanceMeasure.html)）只是一个接口。您需要使用接口的实现之一，例如[`CosineDistanceMeasure`](https://builds.apache.org/job/Mahout-Quality/javadoc/org/apache/mahout/common/distance/CosineDistanceMeasure.html)或[`EuclideanDistanceMeasure`](https://builds.apache.org/job/Mahout-Quality/javadoc/org/apache/mahout/common/distance/EuclideanDistanceMeasure.html)

顺便说一句，我想知道为什么你的 delta 是这样定义的：`String delta = new InterruptedException().toString();`

`delta`定义为收敛增量值，在内部被解析为双精度值。

# javascript - Jquery 绑定/使用动态值

> ID：13248504
> 
> 赞同：0
> 
> 时间：2012-11-06T09:53:43.703
> 
> 标签：javascript, jquery, html, data-binding, bind

我正在将一个函数绑定到一个 html 元素。

循环中有一些数据在每次迭代中都会发生变化

```
data = {
    networkId: networkId,
    network_avatar: network_avatar,
    network_user_name: network_user_name,
} 
```

**我在这里绑定它：**

```
$("#element"+i).bind(function(){ 
    change(data);
} 
```

**功能是：**

```
function change(data){
    console.log(data);
} 
```

`data`每次迭代时变量中应该有不同的数据。

但它总是包含上次迭代的内容。
为什么jQuery会更改已经与`change()`函数绑定的数据

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:01:17.370

首先，不要使用名为“data”或“window”的全局变量或类似的任何东西。如果变量数据的声明位于视觉区域的某个位置，请使用“var”裸字。

当事件处理程序被调用时，它会调用“change”函数并在其中发送数据的*当前*值。您需要的是为每个处理程序声明自己的数据。你应该使用“var”。喜欢：

```
$("#element"+i).bind(function(){
   var currentDataValue = new CopyData(data);
   change(currentDataValue);
}

function CopyData(object) {
   var data = {};
   for (var val in object)
      data[val] = object[val];
   return data;
} 
```

我想它应该有帮助。但我不太确定。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T09:56:30.887

尝试将函数嵌套在另一个函数中以创建闭包。闭包的诀窍是你必须有两个嵌套函数，一个内部函数和一个外部函数。内部函数将拥有外部函数变量和参数的副本，在某种意义上继承其范围。在我的示例中，bindClick 充当外部函数，而调用 $.click() 中的匿名函数充当内部函数。这导致匿名内部函数保留作为参数传递给 bindClick() 方法的数据对象。当我们在一个循环中运行它时，我们基本上会得到 10 个闭包，这些闭包会记住它们创建时使用的数据对象。

现场示例：http: [//jsfiddle.net/cDwEk/1/](http://jsfiddle.net/cDwEk/1/)

```
function bindClick(data){
  $("#element" + data.myProp).click(function(){
         //anonymous function will remember state of outer functions variables.
         alert(data.myProp);     
    });    
}

//ForLoop
for(var i = 0; i < 10; i++){
    var data = {myProp:i};
    //Pass function to another function to create closure.
    bindClick(data);
} 
```

# c# - 使用参数的 Ninject 方法级拦截

> ID：13248507
> 
> 赞同：7
> 
> 时间：2012-11-06T09:53:48.980
> 
> 标签：c#, dependency-injection, ninject, ninject-extensions, ninject-interception

我在拦截教程中注意到您可以定位一个方法并拦截它。IE

```
 Kernel.Bind<Foo>().ToSelf();
 Kernel.InterceptReplace<Foo>(foo => foo.ThrowsAnError(), invocation => {} ); 
```

文档/教程不包括在您尝试拦截的方法具有参数的情况下要做什么，即*ThrowsAnError*是否接受字符串作为参数。

```
 Kernel.Bind<Foo>().ToSelf();
 Kernel.InterceptReplace<Foo>(foo => foo.ThrowsAnError(**param goes here**), invocation => {} ); 
```

在绑定时，我无法访问参数，所以我想知道我是否以错误的方式进行此操作？

**编辑**

[工作示例](https://github.com/markwalsh-liverpool/Ninject.Interceptions)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T13:25:35.563

我认为你误解了会发生什么。您的`Foo`对象将替换为包含拦截器的装饰器。这是一个简单的例子：

```
public class FooDecorator : Foo
{
    private readonly Foo decorated;

    public FooDecorator(Foo foo) { this.decorated = foo; }

    public void ThrowsAnError(object param1, int param2)
    {
        // calls the decorated instance with supplied parameters
        this.decorated.ThrowsAnError(param1, param2);
    }
} 
```

换句话说，调用解析的 Foo 时提供的参数将传递给装饰实例。

然而，对于拦截，这一切都更加间接（并且更慢），但概念是相同的。我必须承认我对Ninject拦截不熟悉，但是对象`Proceed`上可能有一个方法`invocation`。换句话说，你应该这样做：

```
Kernel.InterceptReplace<Foo>(foo => foo.ThrowsAnError(),
    invocation =>
    {
        try
        {
            // calls the decorated instance with supplied parameters
            invocation.Proceed();
        }
        catch (Exception ex)
        {
            Kernel.Get<ILogger>().Log(ex);
        }
    } ); 
```

**更新**

我假设`InterceptReplace<T>`方法的第一个参数不是委托，而是表达式树，例如`Expression<Action<T>>`. 这个方法其实并没有被调用，而是通过分析找出拦截哪个方法。换句话说，由于该方法永远不会被调用，因此您可以提供任何您想要的参数。诀窍是让 C# 编译器知道要使用哪个方法重载（如果有）。如果你提供垃圾也没关系。当两个参数都是引用类型时，这可能会起作用：

```
Kernel.InterceptReplace<Foo>(foo => foo.ThrowsAnError(null, null), 
```

# ruby - 在 Ruby 中用单“@”和双“@”声明对象的区别

> ID：13248510
> 
> 赞同：2
> 
> 时间：2012-11-06T09:53:56.383
> 
> 标签：ruby, oop, class, object

> **可能重复：**
> [@@variable 在 Ruby 中是什么意思？](https://stackoverflow.com/questions/5890118/what-does-variable-mean-in-ruby)

当我用双'@'声明一个对象时有什么区别

```
@@lexicon = Lexicon.new() 
```

并在 Ruby 中用单个“@”声明对象？

```
@lexicon = Lexicon.new() 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-06T09:54:24.550

区别在于第一个是类变量，第二个是实例变量。

实例变量仅可用于对象的*该实例*。IE

```
class Yasin
  def foo=(value)
    @foo = value
  end

  def foo
    @foo
  end
end

yasin = Yasin.new
yasin.foo=1
yasin.foo #=> 1
yasin_2 = Yasin.new
yasin_2.foo #> nil 
```

类变量可用于定义类变量的类（和子类，iirc）的*所有实例。*

```
class Yasin
  def foo=(value)
    @@foo = value
  end

  def foo
    @@foo
  end
end

yasin = Yasin.new
yasin.foo=1
yasin.foo #=> 1
yasin_2 = Yasin.new
yasin_2.foo #=> 1 
```

# wordpress - 发送多封电子邮件的 Wordpress 类别订阅插件

> ID：13248513
> 
> 赞同：0
> 
> 时间：2012-11-06T09:54:01.620
> 
> 标签：wordpress, email, subscriptions

我在 Wordpress 网站上使用类别订阅插件。

[http://wordpress.org/extend/plugins/category-subscriptions/](http://wordpress.org/extend/plugins/category-subscriptions/) 使用 Wordpress 3.3.1 版

我的客户报告正在发送多封电子邮件。一些用户收到多封电子邮件，其他用户收到预期金额。

用户之间没有明显区别。一些用户订阅的类别比其他用户多，一些角色对某些类别的访问受到限制。但是，用户属性（类别访问/订阅）和发送的电子邮件数量之间没有一致性（即，具有与另一位管理员相同的访问/订阅设置的管理员只接收一封电子邮件，另一位管理员接收多封电子邮件）。

有没有人遇到过这个问题？

提前感谢戴夫

# iphone - iPhone 没有收到 mdm 服务器发送的 MDM 推送通知

> ID：13248517
> 
> 赞同：2
> 
> 时间：2012-11-06T09:54:08.440
> 
> 标签：iphone, mdm

[遵循此处](https://stackoverflow.com/questions/8501039/apple-mdm-vendor-csr-signing/11044391#11044391)提到的步骤和[Softhinker](http://www.softhinker.com/in-the-news/iosmdmvendorcsrsigning)。如前所述，创建了证书和配置文件。当配置文件安装在设备中时，向 mdm 服务器发送 Authenticate、Push Magic 和 Token 更新。到那时还好。但是，当服务器尝试使用 mdm 密钥和 pushmagic 向设备发送 mdm 推送通知时，iPhone 不会收到该通知。在服务器端，根据那里的控制台日志推送成功。在 iPhone 的控制台中没有什么可看的。它没有显示任何东西。

有关这方面的一些意见会有所帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-11T09:38:47.813

[我按照与Softhinker](http://www.softhinker.com/in-the-news/iosmdmvendorcsrsigning)中相同的步骤使用 openssl 命令生成适当的证书。在服务器（mdm 服务器）和客户端（iPhone）上都使用了它们。安装移动配置文件后，服​​务器会获取详细信息。当服务器使用 mdm 环境发送 mdm 推送以要求设备轮询命令时，该特定的 mdm 推送通知没有到达设备，但它显示为在服务器上发送。检查创建的 mobileConfig 配置文件及其设置。以前 mdm 有效负载设置是作为开发环境。将其更改为生产并再次尝试。现在一切正常。如果有帮助，您可以检查一次生产环境。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-27T17:48:29.493

我创建了一个简单的 MDM 平台，您可以使用它来测试 MDM 命令。

它处理所有配置，因此您不必担心 OpenSSL。

它被称为 TestMDM - ( [http://www.testmdmapp.com](http://www.testmdmapp.com) )

# google-drive-api - 通过 Google Drive SDK 批量插入权限？

> ID：13248529
> 
> 赞同：2
> 
> 时间：2012-11-06T09:55:00.250
> 
> 标签：google-drive-api

Google Drive SDK 是否支持批量操作权限（https://developers.google.com/drive/v2/reference/permissions/insert）

例如，我希望授予 20 个用户对文档的写入权限。我可以通过 1 个 REST 调用而不是 20 个调用来完成吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T12:51:23.807

我刚刚看到这个页面：[https ://developers.google.com/drive/migration](https://developers.google.com/drive/migration)

最后，我们可以看到驱动API目前不支持批量操作

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-10T03:59:02.193

尽管您可以以编程方式实现这一点。我修改了他们的 java-script 示例方法来实现它。

```
/**
     * Retrieve a list of permissions.
     *
     * @param {String} fileId ID of the file to retrieve permissions for.
     * @param {Function} callback Function to call when the request is complete.
     */
    function retrievePermissions(fileId, callback) {
      var request = gapi.client.drive.permissions.list({
        'fileId': fileId
      });
      request.execute(function(resp) {
        //console.log(resp);
        callback(resp.items);
      });
    }

/**
     * Update a permission's role.
     *
     * @param {String} fileId ID of the file to update permission for.
     * @param {String} permissionId ID of the permission to update.
     * @param {String} newRole The value "owner", "writer" or "reader".
     */
    function updatePermission(fileId, items,callback) {
        var updateRequest = gapi.client.drive.permissions.update({
          'fileId': fileId,
          'permissionId': items[0].id,
          'resource': items[0]
        });

        updateRequest.execute(function(resp) {
            items.splice(0,1);
            if (items.length > 0)
                updatePermission(fileId,items,callback);
            if (items.length == 0)
                callback(resp);
        });
    } 
```

并调用这些方法，我有以下代码。

```
retrievePermissions(result.id, function(items){
 var toUpdate = new Array();
 var j = 0;
 for (var i = 0; i < items.length; i++){
  if (items[i].role != "owner" && items[i].id != "anyoneWithLink"){
    items[i].role = "reader";
    items[i].additionalRoles = [ "commenter" ];
    toUpdate[j++] = items[i];
      }
     }

updatePermission(result.id, toUpdate, function(resp){ console.log (resp) } ); 
```

});

# java - 如何将 Scribe 与尚未实现的 Api 一起使用？

> ID：13248530
> 
> 赞同：2
> 
> 时间：2012-11-06T09:54:59.440
> 
> 标签：java, android, oauth-2.0, scribe

我想为服务[http://quote.fm](http://quote.fm)为自己（学习目的）构建一个小应用程序。他们提供带有请求令牌和授权 URL 的 oAuth 2.0 Api。

我如何在这个 api 中使用 scribe？我在 scribe wiki 中找到[了这个站点](https://github.com/fernandezpablo85/scribe-java/wiki/Custom-Apis)，但它只解释了如何添加 oAuth 1.0a api(?)

有什么建议么？谢谢！

问候，

克里斯

**编辑：**

试图用 DefaultApi20 类实现 api，但我现在被困在`GetRequestToken`导致异常的调用中：

`java.lang.UnsupportedOperationException: Unsupported operation, please use 'getAuthorizationUrl' and redirect your users there OAuthHelper`

```
private OAuthService service;
private Token requestToken;
private String AuthUrl;

public OAuthHelper() {
    service = new ServiceBuilder()
            .provider(QuoteFmApi.class)
            .apiKey("...")
            .apiSecret("...")
            .callback("quotefmsharetoread://authed")
            .build();
}

public void GetRequestToken() {
    requestToken = service.getRequestToken();
}

public String GetAuthUrl() {
    AuthUrl = service.getAuthorizationUrl(requestToken);
    return AuthUrl;
} 
```

引用FmAPI.class：

```
public class QuoteFmApi extends DefaultApi20 {

private static final String AUTHORIZATION_URL =
        "https://quote.fm/labs/authorize?client_id=%s&redirect_uri=%s&scope=%s&response_type=code";

@Override
public String getAuthorizationUrl(OAuthConfig config)
{
    return String.format(AUTHORIZATION_URL, config.getApiKey(), config.getCallback(),
            config.getScope());
}

@Override
public String getAccessTokenEndpoint()
{
    return "https://quote.fm/api/oauth/token";
}

@Override
public AccessTokenExtractor getAccessTokenExtractor()
{
    return new JsonTokenExtractor();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T18:53:44.810

在 Scribe 中实现对其他 OAuth 2 提供程序的支持与 wiki 中描述的方式非常相似。

你基本上必须实现一个子类，[`DefaultApi20`](https://github.com/bistri/scribe-java/blob/master/src/main/java/org/scribe/builder/api/DefaultApi20.java)就像它为[其他提供者](https://github.com/bistri/scribe-java/tree/master/src/main/java/org/scribe/builder/api)所做的那样。您可以将[Google 的实现](https://github.com/bistri/scribe-java/blob/master/src/main/java/org/scribe/builder/api/GoogleApi20.java)用作蓝图，因为他们可能使用类似的 OAuth 2 草案作为 Quote。

请注意，我向您指出了[Thomas Bruyelle 的 Scribe 分支，](https://github.com/bistri/scribe-java)因为[最初的 Scribe](https://github.com/fernandezpablo85/scribe-java)仍然[缺少](https://github.com/fernandezpablo85/scribe-java/pull/210)OAuth 2 规范的后续草案所需的一些功能，而 Quote 似乎也需要这些功能。

# android - Android：手机摄像头分辨率会影响预处理结果吗

> ID：13248531
> 
> 赞同：3
> 
> 时间：2012-11-06T09:55:03.773
> 
> 标签：android, image, image-processing, opencv

我目前的项目是关于android图像处理的。但是如果我的手机摄像头大约是1-2兆像素，它会影响灰度和二值化等预处理的结果吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T10:20:19.373

您的手机摄像头不会影响您执行的任何预处理，因为无论您的相机中的百万像素数量如何，您的预处理代码都会发挥相同的作用。垃圾进，垃圾出仍然适用。如果你从低质量、低对比度、模糊的图片开始，你将无法将它变成你想挂在墙上的奇妙的东西。此外，正如 Mizuki 在他的评论中提到的那样，1-2 兆像素的手机图像比互联网上使用的平均图像分辨率要高得多，而且这些图像可以很好地进行二值化和灰度化。

至于您在问题中提到的两种预处理方法：

**二值化**

这只是将图像转换为双色版本。通常是黑色和白色，但其他颜色也是可能的。图像中的像素数对此无关紧要，除了如果要处理更多像素则需要更长的时间。低质量的手机相机有时会产生低对比度的照片，这可能使二值化算法更难正确确定像素应以任何一种颜色显示的阈值。

**灰度**

将图像转换为灰度是通过操纵每个像素的颜色来完成的，因此，像素的数量应该只增加预处理时间，而不是改变结果。

# hyperlink - 将应用程序添加到 Facebook 页面的收藏夹

> ID：13248532
> 
> 赞同：3
> 
> 时间：2012-11-06T09:55:08.307
> 
> 标签：hyperlink, facebook-page, favorites

我在那里看到了一些关于这个的话题，但我找不到我的问题的答案。

在俄罗斯方块的 facebook 页面上，您可以看到一个链接到俄罗斯方块应用程序的按钮。 [http://www.facebook.com/tetrisbattle?fref=ts](http://www.facebook.com/tetrisbattle?fref=ts) （就在横幅下方）

我做了一个页面，但我找不到如何制作这个按钮。

任何人都可以帮助我吗？提前致谢！

洛朗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T11:06:26.337

在应用仪表板中转到您应用的“应用详细信息”设置：

[https://developers.facebook.com/apps/YOURAPPID/appdetails](https://developers.facebook.com/apps/YOURAPPID/appdetails)

在该页面的“联系信息”部分下，有一个“应用页面”字段，其中包含一个用于创建应用页面的按钮。您应该单击它并以这种方式创建 Facebook 页面。完成后，页面上会出现一个按钮，显示“转到应用程序”或“玩游戏”，具体取决于您的 Facebook 应用程序的分类方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T13:32:35.890

我搜索了更多，我找到了我自己问题的答案。

在此链接中，您必须提供您的应用程序 ID 以及指向您的应用程序的链接。然后出现一个 facebook 弹出窗口，并询问您要在哪个页面上添加此应用程序。 [http://admine.eu/addapp.html](http://admine.eu/addapp.html)

# django - 模板中查询集长度的条件，Django

> ID：13248533
> 
> 赞同：2
> 
> 时间：2012-11-06T09:55:09.173
> 
> 标签：django, django-models

我想在我的模板中对 query_set 长度设置条件。我的查询集被命名为“favoris”这是我尝试过的：

```
 {% if favoris.count>=5 %}
     my html
    {% endif %} 
```

我得到这个错误：

```
 TemplateSyntaxError at /mysite/myview
     Could not parse the remainder: '==5' from 'favoris.count==5' 
```

关于如何做到这一点的任何想法？谢谢您的帮助

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-06T10:33:04.217

You should write whitespaces between constant and operator:

```
{% if favoris.count >= 5 %} 
```

# svn - SVN repo 和 eclipse 项目

> ID：13248539
> 
> 赞同：0
> 
> 时间：2012-11-06T09:55:58.883
> 
> 标签：svn, subclipse

好的，所以我会尽力解释这一点。我们最近将一个 java 项目从 MKS 迁移到 SVN。我们遇到的问题是，一旦我们同步了文件系统并构建了要导入 Eclipse 的包（使用 Ant），项目中的文件和文件系统之间的链接就丢失了，所以我们无法将更改提交到项目文件通过 Subclipse 作为 repo 保存文件系统。

有谁知道 Subclipse 可以导入文件系统并构建项目、维护链接的方式？

我们不只是添加已构建的项目是有原因的，但它现在让我无法理解。如果我记得我会更新这个问题。

我希望我已经很好地解释了这一点，以便有人能够理解。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T14:59:29.200

在我看来，您的构建脚本正在删除工作副本中的 .svn 文件夹，因此这会破坏 Subversion 工作副本。我建议使用使用 Subversion 1.7.x 的 Subclipse 1.8.x。从 Subversion 1.7.x 开始，工作副本的根目录中只有一个 .svn 文件夹。早期版本在每个托管文件夹中都有一个 .svn 文件夹。

# ios - 如何在 AppStore 上删除“为 iPhone 5 优化”

> ID：13248546
> 
> 赞同：1
> 
> 时间：2012-11-06T09:56:38.367
> 
> 标签：ios, app-store, app-store-connect

我刚刚提交了一个应用程序。而且我的应用程序没有针对 iPhone 5 进行更新。但应用程序商店显示为“针对 iPhone 5 进行了优化”。如何删除此文本？

![在此处输入图像描述](../Images/49107f7f0e31f9a01de0bb16a066988c.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T10:06:29.513

现在要求所有新提交的 iPhone 5 都可以使用。一旦`Default-568h@2x.png`你的包中有图像，你的应用程序就是“iPhone 5 优化”。

// 更新：从 Xcode 5 和 AssetCatalogs 开始，任何应用程序都是“iPhone 5 优化的”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:59:03.607

您不能，Apple 会自动将该文本添加到您的应用说明中

# perl - 如何使用 perl 从目录中逐行读取所有文件？

> ID：13248547
> 
> 赞同：1
> 
> 时间：2012-11-06T09:56:38.400
> 
> 标签：perl

例如，我在该文件夹中有一个名为 verilog 的文件夹，我还有一些文件夹和文件。

我想逐行搜索每个文件中的模式，计算模式匹配的次数，然后打印文件名、行号和计数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:13:55.077

从“verilog”目录中给出以下命令： 使用 grep -R：

对于文件名和行号：

```
grep -RHn pattern * | cut -d: -f-2 
```

对于文件名和计数：

```
grep -RHc india * | awk -F":" '$2!=0' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:01:38.307

文件名和行号：

```
system("find verilog -type f -exec grep -Hn pattern {} +") 
```

每个文件的文件名和计数：

```
system("find verilog -type f -exec grep -Hc pattern {} +") 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T11:50:40.983

```
#!usr/bin/perl

use strict;
use File::Find;
use File::Slurp;

my $In_dir='some_path';
my @all_files;
my $pattern='test>testing string(\n|\t|\s)</test'

File::Find:find(
sub{
  push @all_files,$File::Find:name if(-f $File::Find:name);
},$In_dir);

foreach my $file_(@all_files){
  my @file_con=read_file($file_);
  my $lne_cnt;
  foreach my $con(@file_con){
   my $match_="true" if($con=~m/$pattern/igs);
   $lne_cnt++;
  }
 my $tot_line_in_file=$lne_cnt;
} 
```

# c# - URL 重写组合查询字符串值

> ID：13248548
> 
> 赞同：0
> 
> 时间：2012-11-06T09:56:42.210
> 
> 标签：c#, asp.net, regex, url-rewriting

我有以下 URL 重写规则：

```
<ConfigRule>
     <LookFor>/([^/]*)/([^/]*)/([^/]*)/</LookFor>
     <Exclude>/Admin/(.*)</Exclude>
     <SendTo>~/CategoryDetails.aspx?url=$3&amp;fullurl=/$1/$2/$3/&amp;page=1</SendTo>
     <IgnoreQueryStringInMatch>true</IgnoreQueryStringInMatch>
</ConfigRule> 
```

其中 $1、$2 和 $3 分别等于父组、父类别和类别。我想要做的是匹配一个 URL，例如：`/cars/car-parts/wheels/`.

正则表达式确实与 url 模式匹配，但我有一个奇怪的问题，如果你有一个名称相同的类别，例如两个名称为 name/url “wheels”的类别，无论它是否在不同的父/组下，你都会仅重定向到两者之一，例如

```
/bicycles/bicycle-parts/wheels/ 
```

和

```
/cars/car-parts/wheels/ 
```

都将重定向到同一页面。

我相信罪魁祸首是这样的：

```
<SendTo>~/CategoryDetails.aspx?url=$3&amp;fullurl=/$1/$2/$3/&amp;page=1</SendTo> 
```

Where`?url=$3`仅匹配 url 的最后一部分（轮子），所以我想我要问的是有没有办法在 url 查询字符串中包含 group+parent+category 以便它匹配所有三个段而不仅仅是结尾？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T21:39:18.147

我想您想要的是在生成您的页面（CategoryDe​​tails.aspx）的 ASP 脚本中使用**fullurl**参数而不是**url**。包含所有三个层次结构级别的完整路径已经传递到重写的 url，因此这里与 url 重写无关。

# android - ORMLite 用 SQL 插入日期

> ID：13248554
> 
> 赞同：3
> 
> 时间：2012-11-06T09:57:10.613
> 
> 标签：android, date-format, ormlite, sql-insert

我在我的 android 项目中建立了一个 ORMLite 数据库。

我有一个名为 RbFehler 的类，其中包含以下字段：

```
@DatabaseField(columnName = "DATUM_LA", dataType = DataType.DATE_STRING,
    format = "yyyy-MM-dd HH:mm:ss")
public Date datum_la; 
```

我有一些逻辑可以从存储 SQL 插入语句的文本文件中导入数据。一行看起来像这样：

```
INSERT INTO RbFehler (KATALOGART,SYST,SUBSYST,KOMP,BAUTEIL,BEZ,PSYST,PSUBSYST,
    PKOMP,PBAUTEIL,INAKTIV,GELOESCHT,DATUM_LA)
    VALUES ('VW','4F5AB211','0600','4F5AA900','0010','Venturirohr','4F5AB211',
        '0600','4F5AA900','0000','0','0',2012-06-04 08:08:08); 
```

但是当我打电话时，我总是收到以下错误：

```
dao.execute RawNoArgs(line);

java.lang.Illegal Argument Exception: Field class java.sql.Date for field
    Field Type:name=datum_la,class=RbFehler is not valid for data
    persister com.j256.ormlite.field.types.DateStringType@416ed260 
```

我还尝试在 SQL 语句中的日期周围添加“'”，但得到相同的错误。如果我从 SQL 和班级中删除日期，一切正常。

谁能告诉我我做错了什么？我只发现了这样的问题：[ormlite read Date as 'yyyy-MM-dd'](https://stackoverflow.com/questions/12847484/ormlite-read-date-as-yyyy-mm-dd)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T12:05:49.880

我想到了：

确保在 Java 中使用正确的 Date 对象：

```
@DatabaseField(columnName = "DATUM_LA", dataType = DataType.DATE_STRING,
 format = "yyyy-MM-dd HH:mm:ss")
public java.util.Date datum_la; 
```

而不是`java.sql.Date`.

# ruby-on-rails - Errno::ECONNREFUSED 由于目标机器主动拒绝，无法建立连接。- 在 Rails 应用程序中 connect(2) 进行 Mongodb 搜索

> ID：13248555
> 
> 赞同：1
> 
> 时间：2012-11-06T09:57:10.550
> 
> 标签：ruby-on-rails, postgresql, mongodb, solr, datamapper

我正在尝试在我尝试测试的 Windows 机器上设置我的 Rails 应用程序。但是，当我尝试使用 Mongo 和 Solr 进行搜索时，出现此错误：

```
Errno::ECONNREFUSED (No connection could be made because the target machine actively refused it. - connect(2)):
  app/controllers/centers_controller.rb:384:in `center_search'
  lib/ct_gems/dm-core-1.2.0/lib/dm-core.rb:263:in `block in repository'
  lib/ct_gems/dm-core-1.2.0/lib/dm-core/repository.rb:114:in `scope'
  lib/ct_gems/dm-core-1.2.0/lib/dm-core.rb:263:in `repository'

  Rendered ruby-postgres/ruby/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
  Rendered ruby-postgres/ruby/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (15.6ms)
  Rendered ruby-postgres/ruby/1.9.1/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (234.0ms) 
```

这些是我必须运行应用程序的命令：

```
mongod
rails s
redis-server.exe
rake sunspot:solr:run 
```

当我调用方法 solr_search 时发生错误。

这是通过启动 solr 在命令提示符下的输出：

```
Java HotSpot(TM) Client VM (build 23.5-b02, mixed mode, sharing)
2012-11-06 11:43:21.446:INFO::Logging to STDERR via org.mortbay.log.StdErrLog
2012-11-06 11:43:21.552:INFO::jetty-6.1-SNAPSHOT
2012-11-06 11:43:21.763:INFO::Extract file:/C:/Users/Ger/Documents/web_dev/connectedtrips/ruby-postgres/ruby/1.9.1/bundler/g
Nov 06, 2012 11:43:22 AM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: JNDI not configured for solr (NoInitialContextEx)
Nov 06, 2012 11:43:22 AM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: solr home defaulted to 'solr/' (could not find system property or JNDI)
Nov 06, 2012 11:43:22 AM org.apache.solr.core.SolrResourceLoader <init>
INFO: Solr home set to 'solr/'
Nov 06, 2012 11:43:22 AM org.apache.solr.servlet.SolrDispatchFilter init
INFO: SolrDispatchFilter.init()
Nov 06, 2012 11:43:22 AM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: JNDI not configured for solr (NoInitialContextEx)
Nov 06, 2012 11:43:22 AM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: solr home defaulted to 'solr/' (could not find system property or JNDI)
Nov 06, 2012 11:43:22 AM org.apache.solr.core.CoreContainer$Initializer initialize
INFO: looking for solr.xml: C:\Users\Ger\Documents\web_dev\connectedtrips\ruby-postgres\ruby\1.9.1\bundler\gems\sunspot-f8d9
Nov 06, 2012 11:43:22 AM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: JNDI not configured for solr (NoInitialContextEx)
Nov 06, 2012 11:43:22 AM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: solr home defaulted to 'solr/' (could not find system property or JNDI)
Nov 06, 2012 11:43:22 AM org.apache.solr.core.CoreContainer <init>
INFO: New CoreContainer: solrHome=solr/ instance=26947014
Nov 06, 2012 11:43:22 AM org.apache.solr.core.SolrResourceLoader <init>
INFO: Solr home set to 'solr/'
Nov 06, 2012 11:43:22 AM org.apache.solr.core.SolrResourceLoader <init>
INFO: Solr home set to 'solr\.\'
Nov 06, 2012 11:43:22 AM org.apache.solr.core.SolrConfig initLibs
INFO: Adding specified lib dirs to ClassLoader
Nov 06, 2012 11:43:22 AM org.apache.solr.core.Config getLuceneVersion
WARNING: the luceneMatchVersion is not specified, defaulting to LUCENE_24 emulation. You should at some point declare and re
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrConfig <init>
INFO: Using Lucene MatchVersion: LUCENE_24
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrConfig <init>
WARNING: Deprecated syntax found. <highlighting/> should move to <searchComponent/>
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrConfig <init>
INFO: Loaded SolrConfig: solrconfig.xml
Nov 06, 2012 11:43:23 AM org.apache.solr.schema.IndexSchema readSchema
INFO: Reading Solr Schema
Nov 06, 2012 11:43:23 AM org.apache.solr.schema.IndexSchema readSchema
INFO: Schema name=sunspot
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created string: org.apache.solr.schema.StrField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created tdouble: org.apache.solr.schema.TrieDoubleField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created rand: org.apache.solr.schema.RandomSortField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created : org.apache.solr.analysis.StandardTokenizerFactory
Nov 06, 2012 11:43:23 AM org.apache.solr.analysis.BaseTokenStreamFactory assureMatchVersion
WARNING: StandardTokenizerFactory is using deprecated LUCENE_24 emulation. You should at some point declare and reindex to a
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created : org.apache.solr.analysis.StandardFilterFactory
Nov 06, 2012 11:43:23 AM org.apache.solr.analysis.BaseTokenStreamFactory assureMatchVersion
WARNING: StandardFilterFactory is using deprecated LUCENE_24 emulation. You should at some point declare and reindex to at l
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created : org.apache.solr.analysis.LowerCaseFilterFactory
Nov 06, 2012 11:43:23 AM org.apache.solr.analysis.BaseTokenStreamFactory assureMatchVersion
WARNING: LowerCaseFilterFactory is using deprecated LUCENE_24 emulation. You should at some point declare and reindex to at
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created text: org.apache.solr.schema.TextField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created boolean: org.apache.solr.schema.BoolField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created date: org.apache.solr.schema.DateField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created sdouble: org.apache.solr.schema.SortableDoubleField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created sfloat: org.apache.solr.schema.SortableFloatField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created sint: org.apache.solr.schema.SortableIntField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created slong: org.apache.solr.schema.SortableLongField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created tint: org.apache.solr.schema.TrieIntField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created tfloat: org.apache.solr.schema.TrieFloatField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created tdate: org.apache.solr.schema.TrieDateField
Nov 06, 2012 11:43:23 AM org.apache.solr.util.plugin.AbstractPluginLoader load
INFO: created location: org.apache.solr.schema.LatLonType
Nov 06, 2012 11:43:23 AM org.apache.solr.schema.IndexSchema readSchema
INFO: default search field is text
Nov 06, 2012 11:43:23 AM org.apache.solr.schema.IndexSchema readSchema
INFO: query parser default operator is AND
Nov 06, 2012 11:43:23 AM org.apache.solr.schema.IndexSchema readSchema
INFO: unique key field: id
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrCore <init>
INFO: [] Opening new SolrCore at solr\.\, dataDir=./solr/data\
Nov 06, 2012 11:43:23 AM org.apache.solr.core.JmxMonitoredMap <init>
INFO: No JMX servers found, not exposing Solr information with JMX.
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrCore initListeners
INFO: [] Added SolrEventListener for newSearcher: org.apache.solr.core.QuerySenderListener{queries=[]}
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrCore initListeners
INFO: [] Added SolrEventListener for firstSearcher: org.apache.solr.core.QuerySenderListener{queries=[{q=solr rocks,start=0,
Nov 06, 2012 11:43:23 AM org.apache.solr.request.XSLTResponseWriter <init>
WARNING: org.apache.solr.request.XSLTResponseWriter is deprecated. Please use the corresponding class in org.apache.solr.res
Nov 06, 2012 11:43:23 AM org.apache.solr.response.XSLTResponseWriter init
INFO: xsltCacheLifetimeSeconds=5
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created standard: solr.SearchHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created dismax: solr.SearchHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created partitioned: solr.SearchHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /spell: solr.SearchHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created tvrh: org.apache.solr.handler.component.SearchHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: adding lazy requestHandler: org.apache.solr.handler.extraction.ExtractingRequestHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /update/extract: org.apache.solr.handler.extraction.ExtractingRequestHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /terms: org.apache.solr.handler.component.SearchHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: adding lazy requestHandler: solr.SearchHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /elevate: solr.SearchHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /update: solr.XmlUpdateRequestHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /update/javabin: solr.BinaryUpdateRequestHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /analysis/document: solr.DocumentAnalysisRequestHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /analysis/field: solr.FieldAnalysisRequestHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: adding lazy requestHandler: solr.CSVRequestHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /update/csv: solr.CSVRequestHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /admin/: org.apache.solr.handler.admin.AdminHandlers
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /admin/ping: PingRequestHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /debug/dump: solr.DumpRequestHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.core.RequestHandlers initHandlersFromConfig
INFO: created /mlt: solr.MoreLikeThisHandler
Nov 06, 2012 11:43:23 AM org.apache.solr.search.SolrIndexSearcher <init>
INFO: Opening Searcher@11a1bb4 main
Nov 06, 2012 11:43:23 AM org.apache.solr.update.CommitTracker <init>
INFO: commitTracker AutoCommit: disabled
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SpellCheckComponent inform
INFO: Initializing spell checkers
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SpellCheckComponent inform
WARNING: No queryConverter defined, using default converter
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.QueryElevationComponent inform
INFO: Loading QueryElevation from: C:\Users\Ger\Documents\web_dev\connectedtrips\ruby-postgres\ruby\1.9.1\bundler\gems\sunsp
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.QueryComponent@51d871
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.FacetComponent@158e4ee
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.MoreLikeThisComponent@11dd242
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.HighlightComponent@d6f8f6
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.StatsComponent@17300c2
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  debug component:org.apache.solr.handler.component.DebugComponent@136d8e4
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.QueryComponent@51d871
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.FacetComponent@158e4ee
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.MoreLikeThisComponent@11dd242
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.HighlightComponent@d6f8f6
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.StatsComponent@17300c2
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  debug component:org.apache.solr.handler.component.DebugComponent@136d8e4
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.QueryComponent@51d871
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.FacetComponent@158e4ee
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.MoreLikeThisComponent@11dd242
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.HighlightComponent@d6f8f6
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.StatsComponent@17300c2
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  debug component:org.apache.solr.handler.component.DebugComponent@136d8e4
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.QueryComponent@51d871
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.FacetComponent@158e4ee
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.MoreLikeThisComponent@11dd242
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.HighlightComponent@d6f8f6
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.StatsComponent@17300c2
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.SpellCheckComponent@1d974d9
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  debug component:org.apache.solr.handler.component.DebugComponent@136d8e4
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.QueryComponent@51d871
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.FacetComponent@158e4ee
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.MoreLikeThisComponent@11dd242
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.HighlightComponent@d6f8f6
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.StatsComponent@17300c2
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.TermVectorComponent@1865381
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  debug component:org.apache.solr.handler.component.DebugComponent@136d8e4
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SearchHandler inform
INFO: Adding  component:org.apache.solr.handler.component.TermsComponent@1d4714d
Nov 06, 2012 11:43:23 AM org.apache.solr.core.QuerySenderListener newSearcher
INFO: QuerySenderListener sending requests to Searcher@11a1bb4 main
Nov 06, 2012 11:43:23 AM org.apache.solr.core.CoreContainer register
INFO: registering core:
Nov 06, 2012 11:43:23 AM org.apache.solr.servlet.SolrDispatchFilter init
INFO: user.dir=C:\Users\Ger\Documents\web_dev\connectedtrips\ruby-postgres\ruby\1.9.1\bundler\gems\sunspot-f8d901958835\suns
Nov 06, 2012 11:43:23 AM org.apache.solr.servlet.SolrDispatchFilter init
INFO: SolrDispatchFilter.init() done
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrCore execute
INFO: [] webapp=null path=null params={start=0&event=firstSearcher&q=solr+rocks&rows=10} hits=0 status=0 QTime=46
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrCore execute
INFO: [] webapp=null path=null params={event=firstSearcher&q=static+firstSearcher+warming+query+from+solrconfig.xml} hits=0
Nov 06, 2012 11:43:23 AM org.apache.solr.core.QuerySenderListener newSearcher
INFO: QuerySenderListener done.
Nov 06, 2012 11:43:23 AM org.apache.solr.handler.component.SpellCheckComponent$SpellCheckerListener newSearcher
INFO: Loading spell index for spellchecker: default
Nov 06, 2012 11:43:23 AM org.apache.solr.servlet.SolrServlet init
INFO: SolrServlet.init()
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: JNDI not configured for solr (NoInitialContextEx)
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: solr home defaulted to 'solr/' (could not find system property or JNDI)
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrCore registerSearcher
INFO: [] Registered new searcher Searcher@11a1bb4 main
Nov 06, 2012 11:43:23 AM org.apache.solr.servlet.SolrServlet init
INFO: SolrServlet.init() done
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: JNDI not configured for solr (NoInitialContextEx)
Nov 06, 2012 11:43:23 AM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: solr home defaulted to 'solr/' (could not find system property or JNDI)
Nov 06, 2012 11:43:23 AM org.apache.solr.servlet.SolrUpdateServlet init
INFO: SolrUpdateServlet.init() done
2012-11-06 11:43:23.930:INFO::Started SocketConnector@0.0.0.0:8983 
```

我不太确定这里出了什么问题。我确定我已经正确设置了我的应用程序。谁能向我解释这里出了什么问题并可能帮助我？谢谢

编辑：这可能不是 Windows 的特定错误。现在发生在我的 Mac 上，当我的一个邮件程序尝试发送邮件时发生错误。我正在使用 resque 和 redis 来运行后台作业。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T00:23:38.720

你能单独点击 solr url 看看它是否有效。它不起作用然后检查 solr 日志以查看错误的实际原因。

# file - 如何使用 stanford lex 解析器在文本文件中保存和加载 Tree？

> ID：13248559
> 
> 赞同：1
> 
> 时间：2012-11-06T09:57:24.667
> 
> 标签：file, parsing, tree, lex, stanford-nlp

我正在使用以下几行构建树。

```
LexicalizedParser lp = LexicalizedParser.loadModel("englishPCFG.ser.gz"); 
Tree smsTree = lp.apply("how to store Tree to file & then Load !"); 
```

我想将这些树存储到某个文件中，然后在需要时加载它。有什么方法可以做到吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-18T16:22:45.390

我试图自己弄清楚。到目前为止，我发现它可以转换为 XML。

```
import java.io.PrintWriter;
import java.io.StringReader;
import java.io.StringWriter;
...
StringWriter strwriter = new StringWriter();
PrintWriter printwriter = new PrintWriter(strwriter);
...
Tree parse = lp.parse(sentence);
parse.indentedXMLPrint(printwriter, false);
String xmlstring = strwriter.toString();
//save xmlstring to file 
```

似乎 MemoryTreebank 类也可能在这里使用（[https://mailman.stanford.edu/pipermail/parser-user/2008-March/000026.html](https://mailman.stanford.edu/pipermail/parser-user/2008-March/000026.html)）。例如，您可以简单地将 Tree 保存为从 tree.pennString() 获得的正常表示形式的字符串，然后：

```
MemoryTreebank tb2 = new MemoryTreebank(new PennTreeReaderFactory());
tb2.load(new StringReader(s1.toString())); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-02T18:41:57.553

任何实现[Treebank](http://nlp.stanford.edu/nlp/javadoc/javanlp/edu/stanford/nlp/trees/Treebank.html) 接口的类都非常简单。下面的示例使用 DiskTreebank 类。

假设您有一个目录，您使用 Tree 类的 toString() 方法将 Penn 字符串写入单个文件。

您可以使用以下代码片段读取此目录中的所有树

```
private void loadAndDisplayTrees() 
{
    DiskTreebank dtb = new DiskTreebank();
    dtb.loadPath(new File("pathToYourDirectory"), null);
    //The second argument in the above method is a FileFilter.

    Iterator<Tree> it = dtb.iterator();

    while(it.hasNext())
    {
        Tree t = it.next();
        System.out.println(t);          
    }
} 
```

# email - 如果我使用共享合同和共享文件，是否可以在 Windows 8 Metro 应用程序中为邮件应用程序设置主题？

> ID：13248561
> 
> 赞同：6
> 
> 时间：2012-11-06T09:57:31.673
> 
> 标签：email, microsoft-metro, windows-runtime, winrt-xaml

首先，我将 Windows 8 Metro 应用程序中的内容共享到另一个应用程序（例如 Mailto 应用程序），因此：

现在我正在使用共享合同将文件共享到 mailto 应用程序并从我的应用程序共享文件，

我想知道： -

1.  我可以将主题设置为我共享文件的mailto应用程序作为该mailto应用程序的附件吗？如果可以，请告诉我该怎么做？

2.  如果没有，请让我知道解决方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-12T21:46:15.977

就目前而言，这是不可能的。

Windows 8 最近引入了一种称为协议激活的新 API。通过协议激活，您可以从您的应用程序启动其他 Windows 8 应用程序并传入数据。Microsoft 致力于地图应用程序，您现在可以将信息传递到地图应用程序，如下所示（地图应用程序的 URI 方案）[http://msdn.microsoft.com/en-us/library/windows/apps/jj635237.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/jj635237.aspx)

[请参阅http://blog.jerrynixon.com/2012/10/walkthrough-using-windows-8-custom.html](http://blog.jerrynixon.com/2012/10/walkthrough-using-windows-8-custom.html)上的代码演练

现在，我敢肯定，您很快就会看到邮件应用程序的一些自定义参数，您可以使用协议激活从您的应用程序传递这些参数。

只是我的 2 美分

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-12T12:42:09.500

不，目前无法执行此操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T18:47:30.847

我可能没有正确理解这个问题，但如果您只想点击 Charms Bar 上的“共享”按钮，然后选择“邮件”应用程序并能够填充显示时显示的主题行显示“邮件”应用程序的共享飞出然后您可以按照以下方法：

```
private DataTransferManager dataTransferManager; //class member

// put the following code block wherever you need it:

// Register as a share source
if (this.dataTransferManager == null)
{
    this.dataTransferManager = DataTransferManager.GetForCurrentView();
    this.dataTransferManager.DataRequested -= this.OnDataRequested;

    try
    {
        this.dataTransferManager.DataRequested += new TypedEventHandler<DataTransferManager, DataRequestedEventArgs>(this.OnDataRequested);
    }
    catch 
    { 
    };
}

private void OnDataRequested(DataTransferManager sender, DataRequestedEventArgs e)
{
    DataRequest request = e.Request;
    DataRequestDeferral deferal = request.GetDeferral();

    try
    {
        // this property will set your subject line
        // it will also be shown on the Share fly-out (right below the main 
        // heading that says 'Share'
        request.Data.Properties.Title = GetCustomMailSubjectLine();

        if (string.IsNullOrEmpty(request.Data.Properties.Title))
        {
            request.FailWithDisplayText("An operation failed. Please try again.");
        }
        else
        {
            // this will also be shown on the Share fly-out, right below the 'Title'
            // property set above
            request.Data.Properties.Description = GetMyAppsSharingDesciption();

            // use request.Data.SetDataProvider() if your data needs to be asynchronously retrieved
            // otherwise directly use request.Data.SetData() (or one of the other 
            //methods depending on what you need)

            request.Data.SetDataProvider(StandardDataFormats.Html, RetrieveSharedData);
        }
    }
    finally
    {
        deferal.Complete();
    }
}

private async void RetrieveSharedData(DataProviderRequest request)
{
    DataProviderDeferral deferal = request.GetDeferral();

    try
    {
        // this will set your email's body
        request.SetData(await GetCustomMailBodyAsync());
    }
    finally
    {
        deferal.Complete();
    }
} 
```

# android - Android：java.lang.SecurityException：未知包 com.my.package

> ID：13248563
> 
> 赞同：1
> 
> 时间：2012-11-06T09:57:37.653
> 
> 标签：android

用户的崩溃报告向我发送了此错误。

```
java.lang.RuntimeException: Unable to create application com.youdao.dict.DictApplication: java.lang.SecurityException: Unknown package com.youdao.dict
android.app.ActivityThread.handleBindApplication(ActivityThread.java:3377)
android.app.ActivityThread.access$2200(ActivityThread.java:155)
android.app.ActivityThread$H.handleMessage(ActivityThread.java:1031)
android.os.Handler.dispatchMessage(Handler.java:130)
android.os.Looper.loop(SourceFile:351)
android.app.ActivityThread.main(ActivityThread.java:3820)
java.lang.reflect.Method.invokeNative(Native Method)
java.lang.reflect.Method.invoke(Method.java:538)
com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:901)
com.android.internal.os.ZygoteInit.main(ZygoteInit.java:659)
dalvik.system.NativeStart.main(Native Method) 
```

我在有限的设备上看到了这个错误，我无法重现。

我的问题是： **什么许可是错误的？**

# python - 无法在 Django 中处理简单的表单？

> ID：13248569
> 
> 赞同：0
> 
> 时间：2012-11-06T09:58:08.207
> 
> 标签：python, django, forms

我在使用简单的 POST 表单时遇到问题。这是我的 url.py：

```
urlpatterns = patterns('',

    url(r'^admin/', include(admin.site.urls)),
    url(r'^', 'fileupload.views.show_template'), 
    url(r'^upload_file/', 'fileupload.views.upload_file'),
) 
```

这是我的form.html：

```
form action="/upload_file/" method="post">
    {% csrf_token %}
        <fieldset>
            <legend>Session</legend>
                <label for="input-one" class="float"><strong>Session Name:</strong></label><br />
                <input class="inp-text" name="input-one-name" id="session" type="text" size="30" /><br />

                <label for="input-two" class="float"><strong>Source:</strong></label><br />
                <input class="inp-text" name="input-two-name"  id="source" type="text" size="30" />

                <label for="input-two" class="float"><strong>Destination:</strong></label><br />
                <input class="inp-text" name="input-two-name"  id="destination" type="text" size="30" />
        </fieldset>

        <p><input class="submit-button" type="submit" alt="SUBMIT" name="Submit" value="Save" /></p>
        <p><input class="cancel-button" type="reset"  name="Save" value="Cancel" /></p>
    </form> 
```

这是我的views.py：

```
from django.http import HttpResponseRedirect
from django.shortcuts import render_to_response
from fileupload.forms import UploadFileForm
from django.template import RequestContext

def show_template(request):
    return render_to_response('form.html', {'form': 'form'},  context_instance=RequestContext(request))

def upload_file(request):
    if request.method == 'POST':
        form = UploadFileForm(request.POST)
        if form.is_valid():
            sessiong = form.cleaned_data['session']
            sourceg = form.cleaned_data['source']
            destinationg = form.cleaned_data['destination']
            return HttpResponseRedirect('/thanks/') 
    else:
        form = UploadFileForm()
    return render_to_response('form.html', {'form': form},  context_instance=RequestContext(request)) 
```

问题是每当我填写表格并点击保存表格时根本没有处理，这显然意味着我的视图 upload_file 根本不起作用。可能是什么问题？简单的逻辑是：用户填写表格，单击保存，数据存储在 python 变量中，稍后我计划将其存储在数据库中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:08:06.153

它不是在处理，因为你没有告诉它做任何事情。改变你的看法，看起来像

```
def upload_file(request):
if request.method == 'POST':
    form = UploadFileForm(request.POST)
    if form.is_valid():
        sessiong = form.cleaned_data['session']
        sourceg = form.cleaned_data['source']
        destinationg = form.cleaned_data['destination']
        o = Object(foo=sessiong, bar=sourceg) # This, or whatever you want to *do* with this data
        o.save()
        return HttpResponseRedirect('/thanks/') 
else:
    form = UploadFileForm()
return render_to_response('form.html', {'form': form},  context_instance=RequestContext(request)) 
```

就目前情况而言，您的视图只是将数据存储到一些变量中，然后发出重定向。

**编辑**- 另外，请查看有关上传文件的文档：[链接](https://docs.djangoproject.com/en/dev/topics/http/file-uploads/?from=olddocs)。下次包含您的 UploadFileForm 代码也是一个好主意。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:49:25.420

如果要将表单数据存储在数据库中，则需要在案例示例中为其创建模型

## 模型.py：

```
 from django.db import models
 class Upload(models.Model):
 session = models.CharField(max_length=200)
 Source = models.CharField(max_length=200)
 Destination = models.CharField(max_length=200) 
```

## 视图.py：

```
 def def upload_file(request):
     if request.method == 'POST':
         session = request.POST.get('input-one-name')
         source = request.POST.get('input-two-name')
         destination = request.POST.get('input-three-name') #edit in your html page
         object = Upload() # this will create a object for your model
         object.Session = session
         object.Source = source
         object.Destination = destination
         object.save()
         return HttpResponseRedirect('/thanks/') 
    else:
        return render_to_response('form.html', {'form': form},context_instance=RequestContext(request)) 
```

这应该将表单信息保存在数据库中

# html - 三柱布局侧柱弹性中间固定

> ID：13248570
> 
> 赞同：-1
> 
> 时间：2012-11-06T09:58:08.790
> 
> 标签：html, css

我想知道是否有人知道如何使居中 div 具有固定宽度，并在居中 div 的任一侧具有左右 div 弹性。居中的 div 也具有最小宽度和最大宽度 css 属性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:03:03.193

尝试添加您在发布问题时尝试的代码。

**HTML**

```
<div class = "container">
    <div class = "fluid">
        I am fluid
    </div>

    <div class = "fixed">
        I'm Fixed! 
    </div>

    <div class = "fluid">        
        I am fluid
    </div>
</div> 
```

**​CSS**

 **```
html, body {
    height: 100%;
    font-family: 'Arial', 'Helvetica', Sans-Serif;
}
.container {
    display: table;
    width: 100%;
    height: 100%;
}
.container > div {
    display: table-cell;
    text-align: center;
}
.fixed {
    min-width: 200px; max-width:300px;
    background: rgb(34, 177, 77);
    color: white;
}
.fluid {
    background: rgb(0, 162, 232);
}
​ 
```

**[演示链接](http://jsfiddle.net/SHnc9/14/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-01T19:19:52.013

我是用 f​​lexbox 做的，但不能用 table-cell 做，因为边栏的宽度取决于边栏的内容。所以我的代码看起来像

[https://codepen.io/ArunsKas/pen/owveer](https://codepen.io/ArunsKas/pen/owveer)

**HTML**

```
<div class="flex">
  <div class="flex-children">asdaaa asdaaaasdaaa asdaaa asdaaa</div>
  <div class="flex-children-fixed">
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempora et nisi harum eaque quas similique esse voluptas? Expedita in vitae, vel unde deleniti hic dolores rerum. Aliquam quos quidem quae.</p>
  </div>
  <div class="flex-children">ddey</div>
</div> 
```

**CSS**

```
* {
  margin: 0;
  padding: 0;
}
.flex {
  display: flex;
  justify-content: space-between;
}
.flex-children {
  width: calc((100% - 200px)/2 - 10px);
  background: red;
}
.flex-children-fixed {
  width: 200px;
  background: red;
} 
```**

# php - php中消息标题内的表单字段值

> ID：13248573
> 
> 赞同：0
> 
> 时间：2012-11-06T09:58:16.063
> 
> 标签：php, forms, webforms

我有一个简单的 php 脚本，我在我的网站上使用它。它工作正常，但是在我收到的消息的标题中，我希望（在“报价请求”旁边）有一个取自“日期”字段的日期。我正在玩这段代码，但它没有用。我知道答案可能很简单，但我还不知道 php。我该怎么做？感谢您的任何帮助。下面的代码。

```
<?php
$addressto = "email@email.com";
$subject = "Quote Request";
$content = "Name: ".$_POST['name']."\n"
       ."Date: ".$_POST['date']."\n";

if(!$_POST['name'] || !$_POST['date']){
 header("Location: ../quote.html");
 exit;
}
$email = $_POST['email'];
if(mail($addressto, $subject, $content, 'From: Contact <'.$email.'>')){
header("Location: ../sent.html"); 
}
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:00:38.613

### 简单的。改变这个：

```
$subject = "Quote Request - " . date("d-m-Y", strtotime($_POST['date'])); 
```

这是你想要的吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:00:57.067

如果我正确理解了这个问题，这应该可以满足您的需求：

```
<?php
$addressto = "email@email.com";
$subject = "Quote Request ".$_POST['date'];
$content = "Name: ".$_POST['name']."\n"."Date: ".$_POST['date']."\n";

if(!$_POST['name'] || !$_POST['date'])
{
    header("Location: ../quote.html");
    exit;
}
$email = $_POST['email'];
if(mail($addressto, $subject, $content, 'From: Contact <'.$email.'>'))
{
    header("Location: ../sent.html"); 
}
?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T10:01:46.540

你的意思是：

```
$subject = "Quote Request - {$_POST['date']}"; 
```

确保您正在验证用户输入，以免自己被利用！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-06T10:03:07.070

试试这个：

**改变**

$content = "名称：".$_POST['name']."\n" ."日期：".$_POST['date']."\n";

**到**

```
$content = "Name: ".$_POST['name']."\n
           Date: ".$_POST['date']."\n"; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-06T10:04:00.143

如果您希望日期在“报价请求”的主题中，您可以执行以下操作：

```
$subject = "Quote Request ".$_POST['date']; 
```

# javascript - 触发缩放事件（或模拟缩放事件）

> ID：13248576
> 
> 赞同：5
> 
> 时间：2012-11-06T09:58:41.287
> 
> 标签：javascript, d3.js, dom-events

当我用鼠标缩放时，`myZoom`将执行以下附加的功能：

```
myZoom.on('zoom', function() {

    someElement.attr('transform', 'translate(' + d3.event.translate[0] + ',' + d3.event.translate[1] + ') scale(' + d3.event.scale + ')');

....
// redraw axes, which should stay where they are at.
....

} 
```

要在没有鼠标或其他指针设备的情况下模拟缩放，我只需更改上面的属性“transform”的值。简单的。

但问题是在这个函数中我实际上重绘了轴，它的比例是自动重新计算的。请参阅 d3 中的此官方文档：

> # 缩放.y([y])
> 
> 指定缩放时应自动调整其域的 y 比例。如果未指定，则返回当前的 y 比例，默认为 null。如果以编程方式修改了比例的域，则应将其重新分配给缩放行为。

我需要以编程方式缩放（可能使用缩放按钮）。如何触发缩放事件，以便自动重新计算轴的比例？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-11-13T18:38:06.237

程序化缩放在 D3 库中似乎是一项艰巨的任务，因为 D3 缩放与鼠标事件密切相关。程序化缩放的一个常见实例是使用滑块控件放大或缩小。令人惊讶的是，我找不到一个工作示例来说明如何使用滑块控件使 D3 缩放工作。在投入了一些时间和精力后，我开发了这个工作演示，可以在这里找到[D3SliderZoom](http://www.computing.dcu.ie/~dganguly/d3sliderzoom.htm)。关键是使用滑块抛出的比例值更改嵌入“<svg>”元素中的“<g>”SVGElement 的转换属性。

```
function zoomWithSlider(scale) {
    var svg = d3.select("body").select("svg");
    var container = svg.select("g");
    var h = svg.attr("height"), w = svg.attr("width");

    // Note: works only on the <g> element and not on the <svg> element
    // which is a common mistake
    container.attr("transform",
            "translate(" + w/2 + ", " + h/2 + ") " +
            "scale(" + scale + ") " +
            "translate(" + (-w/2) + ", " + (-h/2) + ")"); 
```

}

然后必须从滑块的更改事件调用此方法，如下所示。

```
$(function() {
$( "#slider-vertical" ).slider({
    orientation: "vertical",
    range: "min",
    min: 1000,
    max: 10000,
    value: 1000,
    slide: function( event, ui ) {
        zoomWithSlider(ui.value/1000);
    }
}); 
```

});

这个解决方案比生成伪鼠标滚动事件要优雅得多。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T11:46:09.760

我最终自己为新的缩放级别计算了新域。有了这个新域，我可以重新绘制两个 y 轴。对于有同样问题的人，我发布了我的代码。它对我的项目非常具体，因此可能很难理解。只是为了你的兴趣。

```
wr.zoomSim = function(sNew) {

    var s = wr.zoom.scale(),
        tx = wr.zoom.translate()[0],
        ty = wr.zoom.translate()[1],
        sReal = sNew / s,
        dtx = wr.width / 2 * (1 - sReal),
        dty = wr.height / 2 * (1 - sReal),
        txNew = sReal * tx + dtx,
        tyNew = sReal * ty + dty,

        a = wr.scaleYBZoom.domain()[0],
        b = wr.scaleYBZoom.domain()[1],
        c = wr.scaleYBZoom.range()[0],
        d = wr.scaleYBZoom.range()[1],
        r = (b-a)/(d-c);

    wr.scaleYBZoom.domain([a + r * ( (c - dty) / sReal - c), a + r * ( (d - dty) / sReal - c)]);

    wr.zoom.scale(sNew);
    wr.zoom.translate([txNew, tyNew]);

    wr.svg2.select('g#bar')
            .attr('transform', 'translate(' + txNew + ',' + tyNew + ') scale(' + sNew + ')');

    wr.svg2.select('g#axisl')
            .call(d3.svg.axis().scale(wr.scaleYBZoom).orient('left'))
        .selectAll('line.tick')
            .attr('x2', wr.width - wr.bar.left - wr.bar.right + 2 * wr.padding);
    wr.svg2.select('g#axisr')
            .call(d3.svg.axis().scale(wr.scaleYBZoom).orient('right'))
        .selectAll('line')
            .remove();

}; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-10-10T13:13:23.747

不幸的是，@Debasis 的回答对我不起作用，因为我想通过我已经在[force layout中使用的](https://github.com/mbostock/d3/wiki/Force-Layout)[缩放行为](https://github.com/mbostock/d3/wiki/Zoom-Behavior)来实现这一点。经过两天的绝望，我终于在这个帖子中找到了解决方案：

[https://groups.google.com/forum/#!msg/d3-js/qu4lX5mpvWY/MnnRMLz_cnUJ](https://groups.google.com/forum/#!msg/d3-js/qu4lX5mpvWY/MnnRMLz_cnUJ)

```
function programmaticZoom ($svg, $zoomContainer, zoomBehavior, factor) {

    var width = $svg.attr('width');
    var height = $svg.attr('height');

    var newScale = zoomBehavior.scale() * factor;
    var newX = (zoomBehavior.translate()[0] - width / 2) * factor + width / 2;
    var newY = (zoomBehavior.translate()[1] - height / 2) * factor + height / 2;

    zoomBehavior
      .scale(newScale)
      .translate([newX,newY])
      .event($zoomContainer);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-01-25T23:11:32.930

我通过使用 zoomListener 来做到这一点。对我来说，在简单的步骤中效果很好：

1.  定义 zoomListener： var zoomListener = d3.behavior.zoom();
2.  调用缩放监听器 d3.select(the-element-that-you-need-zoom-on).call(zoomListener);
3.  决定你的缩放步长。我采取了0.1的步骤。（放大使用 1.1，缩小使用 0.9）
4.  乘以当前缩放比例 var newScale = zoomListener.scale() * step;
5.  设置新的缩放值 zoomListener.scale(newScale);

# java - 使用 JrxmlDatasource 在 jasperreports 中显示希腊字母

> ID：13248580
> 
> 赞同：3
> 
> 时间：2012-11-06T09:58:55.800
> 
> 标签：java, xml, jasper-reports

我正在尝试在 jasperreport 生成的 PDF 中显示希腊字母。首先我创建 XML，然后创建 xml 数据源并将其传递给 jaspper。XML:

```
 Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
   ....
   Element analysisElement = doc.createElement("Analysis");

   //text value is from the database 
   Text analysisText = doc.createTextNode(anayisisObject.getName());
   analysisElement.appendChild(analysisText); 
```

数据源：

```
JRXmlDataSource xmlDataSource = new JRXmlDataSource(doc,"/ReportFailedAnalysis"); 
```

JRXML 文本字段：

```
 <textField isStretchWithOverflow="true">
   <reportElement style="obicni" positionType="Float" x="0" y="0" width="203" height="12"/>
     <textElement markup="styled">
        <font fontName="Arial" size="9" pdfEncoding="Cp1250"/>
     </textElement>
     <textFieldExpression class="java.lang.String"><![CDATA[$F{Analysis}]]>  
     </textFieldExpression>
    </textField> 
```

如果重要的话，数据库编码是 Cp1250，并且希腊字母被保存为 html 编码，例如 Γ。如果我只是传递该值，xml 可能会将 & 更改为 &，我会在我的 pdf 中得到 Γ。如果我用 utf 字符 \u03C6 替换它，我会得到“？” 在我的 PDF 中。我知道有一种方法可以显示该字段，因为当我将 XML 导出到文件时，从 &#x393; 更改字符 回到 Γ ，将其作为数据源导入 iReport 中，我得到了我想要的信。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-01T14:04:21.063

经过一番研究，我发现 PDF 字体是问题的原因。我一直在使用 3.6 版，所以我切换到 3.7 版，以便能够在 PDF 中嵌入字体并使用博客中描述的方法： [链接。](http://javaskeleton.blogspot.com/2010/12/embedding-fonts-into-pdf-generated-by.html) 我使用了解决方案编号 2（简单的方法），但请务必检查解决方案编号 1，以便为粗体、斜体等选择正确的字体。Arial 字体对我来说已经足够了。

# android - PopupWindow 不会在 EditText 长按上触发系统上下文对话框

> ID：13248581
> 
> 赞同：1
> 
> 时间：2012-11-06T09:58:56.263
> 
> 标签：android, popup, window, android-edittext

对不起，如果标题有点模糊。

我正在 Freelancer 上开发一个应用程序，除了一些测试后客户的投诉外，我几乎完成了它。

如果有任何意义，我会使用 PopupWindow 代替对话框来编辑上下文设置。我不想太具体并冒着放弃应用程序概念的风险，我相信客户不会对此感到太高兴。

PopupWindow 被赋予一个从 XML 扩展而来的布局的内容视图。在该布局中有几个 EditText 小部件。问题是那些 EditTexts 不会在长按时触发默认的上下文对话框，该对话框提供文本/IME 选择和剪切/复制/粘贴选项。

我看到了一个类似的问题，试图获取 TouchTrigger 或其他东西，但如果没有 setBackgroundDrawable()，它就无法工作，我已经尝试过使用简单的 new ColorDrawable()。它仍然不起作用。

有什么简单的方法可以在 OnLongPressListener 中触发系统默认的长按对话框，还是我必须移动天堂和地球来自己实现它？因为如果是这样的话，我会为它写一个 Fragment 并在事务中交换它。我知道那会奏效。

相关代码：在启动片段内：

```
RulesDialog dialog;
PopupWindow window;

public void showAddRuleDialog(){
    dialog = new RulesDialog();

    View view = getView();

    window = new PopupWindow(dialog.initViews(this, null), view.getWidth(), view.getHeight(), true);

    window.setBackgroundDrawable(new ColorDrawable());

    dialog.setRulesDialogListener(new rulesDialogListener(){            

        @Override
        public void onSave(ViewHolder holder) {

            addRule(holder);

            window.dismiss();

        }

        @Override
        public void onCancel() {
            window.dismiss();

        }});

    int[] location = {0,0};
    view.getLocationOnScreen(location);

    window.showAtLocation(view, 0, location[0], location[1]); 
```

在规则对话框中：

```
public class ViewHolder{
    public ViewHolder(View dialogView){
        name = (TextView) dialogView.findViewById(R.id.name);
        response = (TextView) dialogView.findViewById(R.id.response);

        senders = (TextView) dialogView.findViewById(R.id.senders);
        sendersAdd = (Button) dialogView.findViewById(R.id.sendersAdd);
        sendersEdit = (Button) dialogView.findViewById(R.id.sendersEdit);

        timeFrom = (TextView) dialogView.findViewById(R.id.from);
        timeFromEdit = (Button) dialogView.findViewById(R.id.timeBeforeEdit);
        timeTo = (TextView) dialogView.findViewById(R.id.to);
        timeToEdit = (Button) dialogView.findViewById(R.id.timeAfterEdit);

        keywords = (TextView) dialogView.findViewById(R.id.keywords);

        matchCase = (CheckBox) dialogView.findViewById(R.id.matchCase);
        matchAlone = (CheckBox) dialogView.findViewById(R.id.matchAlone);
        matchPlural = (CheckBox) dialogView.findViewById(R.id.matchPlural);

        cancel = (Button) dialogView.findViewById(R.id.cancel);
        save = (Button) dialogView.findViewById(R.id.save);

    }

    TextView name;
    TextView response;
    TextView senders;
    Button sendersAdd;
    Button sendersEdit;
    TextView timeFrom;
    Button timeFromEdit;
    TextView timeTo;
    Button timeToEdit;
    TextView keywords;

    CheckBox matchCase;
    CheckBox matchAlone;
    CheckBox matchPlural;

    Button cancel;
    Button save;

}

Activity activity;
ViewHolder holder;
Fragment fragment;

public View initViews(Fragment mFragment, Rule rule){
    fragment = mFragment;
    activity = fragment.getActivity();
    View dialogView = LayoutInflater.from(activity).inflate(R.layout.rules_dialog, null);

    holder = new ViewHolder(dialogView);

    final TextView senders = holder.senders;

    holder.sendersAdd.setOnClickListener(new OnClickListener(){

        @Override
        public void onClick(View v) {
            showContacts();
        }});

    holder.sendersEdit.setOnClickListener(new OnClickListener(){

        @Override
        public void onClick(View v) {
            editSenders(senders);

        }

    });

    final TextView timeFrom = holder.timeFrom;
    holder.timeFromEdit.setOnClickListener(new OnClickListener(){

        @Override
        public void onClick(View v) {
            showTimePickerDialog(timeFrom);             

        }

        });

    final TextView timeTo = holder.timeTo;
    holder.timeToEdit.setOnClickListener(new OnClickListener(){

        @Override
        public void onClick(View v) {
            showTimePickerDialog(timeTo);               

        }

        });

    holder.cancel.setOnClickListener(new OnClickListener(){

        @Override
        public void onClick(View v) {
            mListener.onCancel();

        }});        
    holder.save.setOnClickListener(new OnClickListener(){

        @Override
        public void onClick(View v) {
            mListener.onSave(holder);

        }});

    if(rule == null)
        rule = new Rule();

    holder.name.setText(rule.name);
    holder.response.setText(rule.response);

    holder.senders.setText(rule.senders.toString());
    holder.senders.setTag(rule.senders);                

    holder.keywords.setText(rule.keywords);

    holder.matchCase.setChecked(rule.matchCase);
    holder.matchAlone.setChecked(rule.matchAlone);
    holder.matchPlural.setChecked(rule.matchPlural);        

    holder.timeFrom.setTag(rule.timeFrom);                          
    holder.timeFrom.setText(Rules.formatTime(rule.timeFrom));

    holder.timeTo.setTag(rule.timeTo);
    holder.timeTo.setText(Rules.formatTime(rule.timeTo));

    return dialogView;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T00:05:34.123

所以我尝试将RulesDialog重写为一个片段，但效果并不好。从他们正在操作的片段调用时，使片段事务正常工作存在问题。

（我知道这不是碎片的重点。我现在并不是真的打算编写一个完全模块化的应用程序。我只是想推出一款客户会满意的产品。）

我最终将 RulesDialog 重写为 Activity ，并使用调用片段中的 startActivityForResult() 。然后使用 setResult() 将编辑后的数据传回。这一切都很好地协同工作。

# symfony - 开发和生产环境中的 Symfony2 树枝逃逸策略

> ID：13248583
> 
> 赞同：1
> 
> 时间：2012-11-06T09:59:12.083
> 
> 标签：symfony, twig, symfony-2.1

我有文件`index.html.twig`。

在这个文件中，我包含了另一个文件：`{% include 'MyBundle:Test:_test.js.twig' %}`

`_test.js.twig`文件只有一行：`{{ test_var }}`

在控制器中，我通过`test_var`：`return array('test_var' => '"test"');`

问题是，如果我使用不同的环境（开发和产品），sf 将对变量使用不同的转义策略。

在开发中，我看到了输出：（`\x22test\x22`这是一个 js 转义策略）

在产品中：（`&quot;test&quot;`这是一个 html 转义策略）

为什么？我认为 dev 和 prod 环境应该同样工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T19:32:47.657

我不能说为什么。我需要查看您的 config.yml 和 config_dev.yml。

但是你可以`MyBundle:Test:_test.js.twig`这样写：

```
{{ test_var|e('js') }} 
```

或者：

```
{% autoescape 'js' %}
    {{ test_var }}
{% endautoescape %} 
```

# c# - 如何提高 Bouncy Castle API 的加密速度？

> ID：13248587
> 
> 赞同：3
> 
> 时间：2012-11-06T09:59:20.237
> 
> 标签：c#, performance, encryption, aes, bouncycastle

我正在用 C# 开发软件，直到现在我一直在使用 .NET 中包含的密码库（尤其是 .NET `AesCryptoServiceProvider`），但现在我有特殊需求，我需要转向 Bouncy Castle API。我进行了一些测试，发现这些 API 与 .NET 框架中包含的 API 相比要慢一些。关于如何提高他们的表现的任何想法？这是我正在使用的密码： `IBufferedCipher cipher = new CtsBlockCipher(new CbcBlockCipher(new AesFastEngine()));`

更具体地说，我需要转移到 Bouncy Castle API，因为我需要具有相同长度的输入和输出文件，并且 .NET `RijndaelManaged`（唯一可以确保这种行为的类）比 .NET 慢得多`AesCryptoServiceProvider`。

在我的机器上加密一个 1.7MB 的文件`AesCryptoServiceProvider`大约需要 40 毫秒，而使用 Bouncy Castle 大约需要 170 毫秒。它看起来不多，但我需要在每分钟有数百个请求的服务器中使用这个软件......

非常感谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T15:29:49.117

由于听起来您需要流密码，因此可以查看[Salsa20](http://en.wikipedia.org/wiki/Salsa20)。一般应该很快。Bouncy Castle 有一个实现（[Salsa20Engine](http://www.bouncycastle.org/viewcvs/viewcvs.cgi/csharp/crypto/src/crypto/engines/Salsa20Engine.cs?revision=1.8&view=markup)）。

# javascript - window.location.hash 未定义 ajax 加载的内容

> ID：13248591
> 
> 赞同：-2
> 
> 时间：2012-11-06T09:59:35.900
> 
> 标签：javascript, jquery, ajax

我在 wordpress 单页网站上使用 ajax 加载内容。我试图在每次加载 ajax 帖子时更改 url。

这是我在单击项目时用来修改哈希的代码。加载函数正在工作，所以为了清楚起见，我没有将它添加到下面的代码中（它只需要单击的 li 的 href 并将内容加载到 div 中）。

```
 $(document).ready(function() {
        $.ajaxSetup({cache: false});

        $('#portfolio-list li:not(#DrawerContainer)').click(function() {

           window.location.hash = "#!" + this.pathname;
           alert(window.location.hash);

        //And here comes the loading part

        return false;
        });

    return false;       
    }); 
```

不幸的是，唯一添加到我的网址的是`#!undefined`. 并提醒`window.location.hash`或`this.pathname`给我相同的结果。

我需要什么才能在地址栏中将路径名作为哈希返回？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T11:53:43.723

根据您的结构，这应该使您的友好哈希：

```
var pathname = $(this).find('a')[0].href.split('/'),
    l = pathname.length;
pathname = pathname[l-1] || pathname[l-2];
window.location.hash = "#!" + pathname; 
```

[**演示**](http://jsfiddle.net/e7E73/1/)

* * *

现在要使 URL 可共享，您需要对 DOM 就绪执行哈希检查并加载相应的内容。

如果所有页面都在同一个目录下，你可以直接这样做：

```
 $(function() {
     var hash = window.location.hash;
     //checks if hash exists and is hash bang
     if (hash && hash.substring(0, 2) === '#!') {
         hash = hash.substring(2); //removes leading #!
         $('#content').load('path/to/' + hash);
     }
 }); 
```

[**演示**](http://jsfiddle.net/e7E73/3/show/#!test5)

如果页面不在同一个目录中，则需要将哈希映射到地址。

```
$(function() {
    var hashmap = {
        'test5': 'http://foobar.baz/fooz/test5',
        'anotherTest': 'http://foobar.baz/barz/anotherTest',
    };
    var hash = window.location.hash;
    //checks if hash exists and is hash bang
    if (hash && hash.substring(0, 2) === '#!') {
        hash = hash.substring(2); //removes leading #!
        if (hashmap[hash]) { //checks if hash exist in the hash map
            $('#content').load(hashmap[hash]);
        }
    }
}); 
```

[**演示**](http://jsfiddle.net/e7E73/8/show/#!test5)

我在上面的演示中使用了警报，因为加载会失败。当然，您必须`$('#content').load`通过您喜欢的加载方法来调整/替换。

# android - 传递数组列表 从 AsyncTask (Inside Service via Intent) 到 Activity

> ID：13248592
> 
> 赞同：0
> 
> 时间：2012-11-06T09:59:37.930
> 
> 标签：android, android-intent, arraylist, broadcast

我在服务中有一个 AsyncTask，它试图将 ArrayList 传递给我的 Activity。

```
ArrayList<Malware> fetch = new ArrayList<Malware>();
        @Override
        protected void onPostExecute(Void result) {

                Intent d = new Intent();
                d.setAction(COMPLETED_INTENT);
                d.putExtra("CurrentProgress", "completed");
                d.putExtra("MalwareArray", fetch);
                sendBroadcast(d);
        } 
```

我在尝试将数组列表广播到活动时遇到错误。

```
11-06 17:58:13.880: E/AndroidRuntime(13645): FATAL EXCEPTION: main
11-06 17:58:13.880: E/AndroidRuntime(13645): java.lang.RuntimeException: Parcel: unable to marshal value com.analyze.project.Malware@414e0510
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.os.Parcel.writeValue(Parcel.java:1137)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.os.Parcel.writeList(Parcel.java:524)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.os.Parcel.writeValue(Parcel.java:1097)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.os.Parcel.writeMapInternal(Parcel.java:493)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.os.Bundle.writeToParcel(Bundle.java:1612)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.os.Parcel.writeBundle(Parcel.java:507)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.content.Intent.writeToParcel(Intent.java:6216)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.app.ActivityManagerProxy.broadcastIntent(ActivityManagerNative.java:1911)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.app.ContextImpl.sendBroadcast(ContextImpl.java:961)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.content.ContextWrapper.sendBroadcast(ContextWrapper.java:301)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at com.analyze.project.ScanService$FullScan.onPostExecute(ScanService.java:153)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at com.analyze.project.ScanService$FullScan.onPostExecute(ScanService.java:1)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.os.AsyncTask.finish(AsyncTask.java:602)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.os.AsyncTask.access$600(AsyncTask.java:156)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:615)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.os.Handler.dispatchMessage(Handler.java:99)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.os.Looper.loop(Looper.java:137)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at android.app.ActivityThread.main(ActivityThread.java:4513)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at java.lang.reflect.Method.invokeNative(Native Method)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at java.lang.reflect.Method.invoke(Method.java:511)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:974)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:741)
11-06 17:58:13.880: E/AndroidRuntime(13645):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:06:30.930

你需要让你的对象实现 parcelable 接口，这样你就可以通过一个意图来传递它。

这是实现此功能的一个很好的示例：

[Android Parcelable -- RetailerOrderActivity.java 返回 null](https://stackoverflow.com/questions/7400564/android-parcelable-retailerorderactivity-java-return-null/7400675#7400675)

# python - django数据库删除特定数量的条目

> ID：13248593
> 
> 赞同：16
> 
> 时间：2012-11-06T09:59:45.360
> 
> 标签：python, django, django-database

如何从数据库中删除特定数量的条目？我做了这样的事情

```
EntriesToDelete=Statusmessages.objects.filter(time__lt=date)[:30000]
EntriesToDelete.delete() 
```

但我得到一个错误，上面写着： `AssertionError. Cannot use 'limit' or 'offset' with delete`。

如何指定要删除的条目数。

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-11-06T12:05:38.030

你可以这样做：

```
Statusmessages.objects.filter(pk__in=Statusmessages.objects.filter(time__lt=date).values_list('pk')[:30000]).delete() 
```

# mongodb - MongoDB - 唯一多键索引未按预期工作

> ID：13248594
> 
> 赞同：4
> 
> 时间：2012-11-06T09:59:47.710
> 
> 标签：mongodb, unique-index

我对 MongoDB 中的多键索引有疑问。

我有一个名为 的集合`users`，其文档看起来或多或少像这样：

```
{
  "_id": ObjectId(),
  "name": "John Smith",
  ...
  "votes": [
    {
      "type": "news",
      "votedObjectId": "123"
    },
    {
      "type": "blog",
      "votedObjectId": "124"
    },
    {
      "type": "news"
      "votedObjectId": "225"
    }
  ]
} 
```

我想创建一个索引，`votedObjectId`并且我希望用户对每篇文章只投票一次。

我确保了一个唯一的索引*（代码在 node.js - mongoskin 模块中）*：

```
`this.ensureIndex({'votes.votedObjectId': 1}, {unique: true}, ...)` 
```

然后我尝试为同一篇文章投票两次，它实际上添加了两次完全相同的投票。

如何确保数组不包含重复元素？

附言

我使用 {safe: true} 进行所有插入，并且我得到的重复值不是由插入操作返回，而是实际插入到集合中。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-06T10:17:46.043

{unique: true} 只保证对象间的唯一性，不保证数组内数组元素的唯一性。

但是请查看 mongodb 的[addToSet](http://www.mongodb.org/display/DOCS/Updating#Updating-$addToSetand$each)功能。

这里也是这个非常相似的问题。[如何确保基于特定字段的数组中的唯一项 - mongoDB？](https://stackoverflow.com/questions/10383143/how-to-ensure-unique-item-in-an-array-based-on-specific-fields-mongodb)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-13T18:25:26.643

尝试

```
this.ensureIndex({'votes.votedObjectId': 1, _id: 1}, {unique: true}, ...) 
```

或处理投票

```
this.update( 
  { _id:... , 'votes.votedObjectId':{$ne:'...'} }, 
  { $push: { votes: '...' }}
) 
```

希望这些陈述可以帮助您解决问题。

# jquery - jQuery 图像动画（将 PNG 组合到时间轴中）

> ID：13248595
> 
> 赞同：0
> 
> 时间：2012-11-06T09:59:50.880
> 
> 标签：jquery, animation, jquery-animate

带着极大的挫败感，我设法让我的代码*几乎*可以工作。我想为透明 png 图像列表设置动画。让它看起来和工作起来像 GIF。

我有 36 张图片。

```
1.png
2.png
3.png
..
36.png 
```

但是由于某种原因，我的代码在“5.png”处崩溃了——我添加了代码并将其设置为 1500 毫秒，这样您就可以看到 Firebug 或发生了什么。图像存在。

### jQuery

```
// M2M Badge
$(function () {
    var i = 1;
    var interval = setInterval(function () {
        $('div.m2m_badge a img').attr({
            src: '//gc-cdn.com/ui/m2m/m/' + i + '.png'
        });
        i++;
        if (i === 36) i = 1; //38 images has been shown, stop the interval
    }, 1500); //50ms between each swap
}); 
```

### jsfiddle

[http://jsfiddle.net/VWyn9/8/](http://jsfiddle.net/VWyn9/8/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T10:16:53.707

您的代码有效，但我建议不要使用 36 个图像，因为它可能会加载缓慢。

一个不错的选择是有一个 sprite 文件（一个包含所有这些图像的文件）。然后，您可以将其设置为 div 的背景图像，并在每次迭代中更改背景位置以仅显示动画的一帧。

这样，您将只加载一张图片（这将比加载 36 张图片快 18 倍），而且它肯定适用于每一个环境。

# javascript - 用于网站设计的 JS 与媒体查询

> ID：13248597
> 
> 赞同：2
> 
> 时间：2012-11-06T10:00:04.450
> 
> 标签：javascript, html, css, mobile, web

我开始为多种设备设计网站：台式机/笔记本电脑、平板电脑（例如 iPad、Galaxy Tab 和移动设备（例如 iPhone）。

我目前有一些页面有一些 javascript 可以重定向到完全不同的子域。例如，如果用户`www.example.com`在 iPhone 上访问，他们将被重定向到`m.example.com`或者`t.example.com`如果他们在平板电脑上。显然，这需要您创建可能具有相似内容的不同页面，而媒体查询将允许您根据屏幕大小稍微不同地布置内容。

所以在我看来，媒体查询将是处理不同屏幕分辨率的首选。不过，这给我留下了一些问题。例如，您在桌面网站上有一个导航栏，`select`在移动网站上可以更好地使用类似的导航栏。实现这一点的最佳方法是什么？

为我可能语无伦次的漫无边际道歉，但我想我的问题是实现移动版网站的最佳方式是什么，其中差异可能不仅限于布局（例如，简单的媒体查询），而且可能需要页面上的不同元素?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T10:40:34.090

媒体查询通常是您想要实现的最佳解决方案。如果你开始为不同的设备创建不同的版本，你会让自己非常头疼，试图让所有东西都保持最新。最好有一组代码来适应用户正在使用的设备。

看看 Twitter Bootstrap 项目。这是一个现成的框架，可以帮助您整合响应式设计。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:12:43.050

您可以创建一个视图、一个 js 和一个 css 并在单个文件中处理所有内容，或者为了获得更好的性能，我建议使用 MVC 模式，您需要检测用户代理，然后在此基础上加载相应的视图 + css + js。加载这个页面+代理+扩展之类的东西

例如：

home.web.html、home.tablet.html、home.mobile.html

home.web.js、home.tablet.js、home.mobile.js（也可以制作单个js文件）

您可以放置​​一个通过媒体查询处理布局的 css

* *Js 布局切换非常慢。有复合设计模式如果你喜欢使用 **

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T12:00:39.477

您可以通过使用 CSS 媒体查询来实现，借助媒体查询，您可以为不同的布局维护 css，您可以隐藏移动不需要的东西。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T13:09:04.027

对，就是这样。您可以为桌面显示 Normal UL LI Nav，并使用 meida 查询为移动版本启用选择下拉导航。

# mysql - SQL join 子句返回出现多次而不分组的行

> ID：13248598
> 
> 赞同：6
> 
> 时间：2012-11-06T10:00:06.763
> 
> 标签：mysql, sql, join, inner-join

我想从 JOIN 查询中提取多次出现的记录，但没有将它们分组。

示例表：

```
tbl_names
id    Name
1     Mark
2     John
3     Jane
4     Paul

tbl_locations
id    Location
1     Berlin
2     Frankfurt
2     Stockholm
3     Helsinki
3     Madrid
3     London
4     Paris 
```

ID 是外键。

现在，查询的结果将是：

```
id     Name    Location
2      John    Frankfurt
2      John    Stockholm
3      Jane    Helsinki
3      Jane    Madrid
3      Jane    London 
```

即第一个表中的记录在JOIN子句结果中出现多次的所有JOIN记录。

我当然可以把它分组：

```
SELECT tbl_names.id, tbl_names.Name, tbl_locations.Location FROM tbl_names
 INNER JOIN tbl_locations ON (tbl_names.id = tbl_locations.id)
 GROUP BY tbl_names.id
 HAVING COUNT(tbl_names.id) > 1 
```

我想要的是让它们根本不分组。我尝试过使用子条款，`NOT IN`但它非常慢并且没有给我想要的结果。

任何启蒙都会受到欢迎。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-06T10:23:46.100

使用这个：

```
SELECT tbl_names.id, tbl_names.Name, tbl_locations.Location
FROM tbl_names
INNER JOIN tbl_locations ON (tbl_names.id = tbl_locations.id)
where tbl_names.id in (select id from tbl_locations
                       group by id having count(*) > 1); 
```

此选择显示您已经拥有的连接，但仅选择名称/ID，它们在位置表中具有超过 1 个条目。

根据[https://stackoverflow.com/a/3520552/1741542](https://stackoverflow.com/a/3520552/1741542)，这可能比普通子查询更快：

```
create view view_id_locations as
    select id
    from tbl_locations
    group by id
    having count(*) > 1;

SELECT tbl_names.id, tbl_names.Name, tbl_locations.Location
FROM tbl_names
INNER JOIN tbl_locations ON tbl_names.id = tbl_locations.id
inner join view_id_locations on tbl_names.id = view_id_locations.id; 
```

# android - SQLite 按字母顺序对特殊字符进行排序

> ID：13248601
> 
> 赞同：7
> 
> 时间：2012-11-06T10:00:26.543
> 
> 标签：android, sqlite

我正在构建一个用于教人们法语的应用程序。当我尝试对一些法语单词进行排序时，最终并没有达到我想要的位置，例如：

*   阿勒
*   布瓦雷
*   恩
*   Être
*   武鲁瓦

将按以下顺序排序：

*   阿勒
*   布瓦雷
*   恩
*   武鲁瓦
*   Être

我目前使用的 SQL 语句是：

```
SELECT name, assignment_id FROM GrammarAssignments ORDER BY name COLLATE NOCASE 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-05-26T03:09:31.900

以防万一其他人看到这篇文章，我遇到了同样的问题并对其进行了测试。下面应该根据语言环境进行排序以及不区分大小写。

```
SELECT name, assignment_id FROM GrammarAssignments ORDER BY name COLLATE LOCALIZED ASC 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:48:28.870

Android 的[SQLite 实现](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html)对此具有`LOCALIZED`和`UNICODE`排序规则。

有关如何将排序规则应用于表列和 SQL 表达式的信息，请参阅[SQLite 文档。](http://www.sqlite.org/datatype3.html#collation)

# jquery - 更改原始 div 时更改的 div 的克隆

> ID：13248606
> 
> 赞同：4
> 
> 时间：2012-11-06T10:00:36.100
> 
> 标签：jquery, css, clone

我有一个 div“maindiv”。这进一步在其中包含 div，包括“imagediv”。在 jQuery 中，我写：

```
$(document).ready(function() {

    ......

    var copydiv = $('#maindiv').clone();
    var number = 1;
    $("body").delegate("#imagediv", "mousedown", function(event) {

        $("#maindiv").attr('id', "changedmain" + number);
        $("#imagediv").attr('id', "changedimage" + number);
        copydiv.insertAfter("#appendafter");
        number = number + 1;
    });
});​ 
```

HTML：

```
<div id="appendafter"></div>
<div id="maindiv">
.
.
.
</div> 
```

对于此代码，第一次添加copydiv后，添加的克隆的id为“maindiv”，并​​且所有内部div都有正确的id。但是当数字为2时，克隆包含“changemain2”而不是maindiv。为什么是这样？？有什么办法吗？？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T10:10:23.747

首先，Id 在 DOM 中必须是唯一的。在这种情况下，如果您要附加多个集合，请切换到类选择器。

接下来，您的变量`number`是本地的并重新定义并重置为`1`每个`mousedown`

```
var copydiv = $('.maindiv').clone();  
var number = 1; // This was redefined and set as 1 on every `mousedown` 
                // So make it global

$("body").delegate(".imagediv","mousedown",function(event){       
    $(".maindiv").attr('class',"changedmain" + number);
    $(".imagediv").attr('class',"changedimage" + number );
    copydiv.insertAfter("#appendafter"); // You might have to change this too 
                                         // depending if this is repeated too
    number = number+1;
} 
```

此外，最好使用`.on()`函数进行委托

```
$("body").on("mousedown", ".imagediv", function(event){       
    $(".maindiv").attr('class',"changedmain" + number);
    $(".imagediv").attr('class',"changedimage" + number );
    copydiv.insertAfter("#appendafter"); // You might have to change this too 
                                         // depending if this is repeated too
    number = number+1;
} 
```

* * *

**解决方案：**

问题在于使用的方法。使用克隆的元素`.clone()`将保存引用，因此它不会添加新元素，而是会不断更新以前引用的对象。

这是解决方案：

```
var number = 1; //Our Counter Script

function createDiv() {
    //Lets create a new div, 
             // I mean WHY CLONE AT the first place?? 
             // We are delegating events anyway :p

    $("<div />", {
        html : $('#maindiv').html(), // add the HTML of div we are trying to keep
             // ^ Better used cached 
             //   version is not updated regularly

        id : "maindiv-"+number       // add the generate id number 
    }).insertAfter("#appendafter");  // Now insert it
    number++;
}

$("body").on("mousedown", ".imagediv", function(event){
    createDiv(); //Delegating on all elements with `imagediv` class
}); 
```

### [演示](http://jsfiddle.net/Starx/SRcVH/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:12:35.927

问题在于你的变量号，它必须在外面声明

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T12:13:52.010

好吧........好吧，我们亲爱的函数 clone() 基本上维护了一个引用。我只是把声明

```
var copydiv = $('#maindiv').clone(); 
```

在委托声明中：

```
 $("body").delegate("#imagediv", "mousedown", function(event) { 
```

现在它是如何工作的......不知道......但是在紧迫的期限内......你永远不会想太多......Njoi！

# asp.net - MVC- 复杂类型上的模型绑定

> ID：13248609
> 
> 赞同：2
> 
> 时间：2012-11-06T10:00:43.650
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3

如果我有这样的模型：

```
public class Search
{
    public int Id { get; set; }
    public string UserDefinedName { get; set; }
    public SearchAge Age { get; set; }
    public virtual ICollection<SearchBachelors> Bachelors { get; set; }
} 
```

我使用这样的东西动态渲染 Age 属性的部分视图：

```
@Ajax.ActionLink("Age", "SearchAge", new AjaxOptions { UpdateTargetId = "search-stage", InsertionMode = InsertionMode.InsertAfter }) 
```

该部分视图如下所示：

```
@model HireWireWeb.Models.Campaign.Search.Search
<div>
    @Html.DropDownListFor(m => m.Age.MaximumAge, HireWireWeb.Models.Constants.SLIST_AGE_LIST)
    @Html.DropDownListFor(m => m.Age.MinimumAge, HireWireWeb.Models.Constants.SLIST_AGE_LIST)
</div> 
```

（请注意，我在这里没有将“SearchAge”作为模型传递，而是它的父级“Search”，因为它只是我如何在呈现的“Search”表单下获取表单提交上发布的“SearchAge”值）-[根据这个答案](https://stackoverflow.com/questions/6440693/asp-net-mvc-model-binding-complex-type)

我的问题是，我怎么能对“单身汉”属性的部分视图做同样的事情，因为它是一个 ICollection？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:43:41.563

MVC 的标准模型绑定系统需要能够创建被“绑定”的类型。它无法创建接口，因此解决此问题的最简单方法是将类型更改为`List<SearchBachelors>`. 然后你可以有一个像这样的局部视图：

```
@model HireWireWeb.Models.Campaign.Search.Search
<div>
    @for(var i = 0;i<Model.Bachelors.Count;++i)
    {
        @Html.TextBoxFor(m => m.Bachelors[i].Name)
    }
</div> 
```

...渲染的输出将以这样的方式命名，以便`List`在您提交表单时使用列表中元素的索引绑定到您的属性。

# c - C中的文件I/O，无法删除之前写入的数据

> ID：13248610
> 
> 赞同：0
> 
> 时间：2012-11-06T10:00:48.757
> 
> 标签：c

我想删除以前在要写入新数据的文本文件上写入的数据。如何完成。我可以在文件中写入数据但无法删除以前写入的内容。需要帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:03:09.643

如果您以写入模式打开文件，那么它将覆盖任何现有内容，例如

```
FILE * f = fopen("foo.txt", "w"); // open file - may already exist and contain text
fprintf(f, "Hello world\n");      // write new contents
fclose(f);                        // file foo.txt now contains "Hello world" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:03:58.543

只需以只写方式打开文件（不附加，只写）并在那里写入您的新数据。旧数据将被删除。

# sql - 使用 Active Record 在同一查询中提供连接计数和总计数

> ID：13248614
> 
> 赞同：0
> 
> 时间：2012-11-06T10:01:01.973
> 
> 标签：sql, ruby-on-rails

一种**风格**有很多**评论**。

假设我正在做：

```
Style.select('styles.id').
    joins(:reviews).
    select('reviews.style_id, count(reviews.id) AS review_count') 
```

...但我也想知道评论的总数！是否也可以提取该信息。我尝试将 count(*) 作为 total_reviews，但这仍会返回每种样式的评论数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:29:19.463

如果您在 SQL 中思考，那么您正在构建很多行（嗯，该行的一个子集），并且在每一行中，您都在为该行计数。

另一方面，你想要一个总数。哪些检索到的记录应该具有该总数以及在哪个列/属性中？

并不是你不能在 Rails 中做到这一点，而是你不能在 SQL 本身中做到这一点。结果集完全不同，因此您需要两个查询，因此您需要两个 ActiveRecord 调用。

解决此问题的另一种方法（同样，您需要两个单独的查询，但它们更简单）是使用 counter_cache `@style.reviews`：

```
# add a 'reviews_count' integer column to the 'styles' table and use it as 
# a counter cache as follows
class Review < AR::Base
  belongs_to :style, :counter_cache => true
end 
```

现在您无需连接即可获得计数，并且可以通过简单的总和获得总计数。

**附录：**要使用 ocounter 缓存，`styles`像往常一样查询表（不包括包含或连接），然后调用

```
@style.reviews.size 
```

每当您想获得评论的数量时。这不会进行另一个查询，而是会使用`@style`实例本身的缓存计数器。

# android - Android Market 和 Google Playstore 搜索问题

> ID：13248615
> 
> 赞同：0
> 
> 时间：2012-11-06T10:01:02.297
> 
> 标签：android, google-play

我认为我理解这一点是正确的，Android Market 已经消失了，但它似乎是我错了。显然，我的一位客户拥有旧的 Android 设备（我不知道有多旧），并且在这些设备上他们仍然有 Android Market 应用程序，而不是 Google play。

问题是他无法找到我们在“Android Market”中创建并放置在商店中的应用程序，而该应用程序在 Google Play 中可见并正在运行，我们都可以在 Google Playstore 上看到链接。

“Android Market”应用程序真的仍然是某些 Android 设备唯一可用的应用程序吗？

我们的应用程序设计为在 Android 2.2 上运行。和更高，所以如果仍然有 Android Market 可能就是这种情况，但是如果我搜索谷歌，我得到的唯一信息是 Android Marketplace 已重命名为 Google Playstore，所以如果 Android Market App 仍然存在，我找不到合适的信息工作，如果它在哪些设备上工作？

肿瘤坏死因子。

编辑：我现在从客户那里得到关于运行 HTC Sense 2.1 和 Android 2.3.3 的设备的信息。他们可以在 Android Market 中看到该应用程序，但收到错误消息：“包文件未正确签名”。

同时在我的设备上，运行Android 2.2。并且删除了 google playstore，我可以通过 Android Market 下载该应用程序并毫无问题地安装它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:07:31.980

很有可能他们仍然在运行 Android Market。旧的自定义 rom，或从未选择接受更新的人。

如果此人找不到您的应用程序，则他们必须使用较旧的操作系统版本、您已列入黑名单的设备、您不支持的屏幕尺寸或您未启用的国家/地区。

仍然有[3-4% 的人在运行 < 2.2 版](http://developer.android.com/about/dashboards/index.html)，所以很有可能。

# asp.net-mvc-3 - 在 mvc 3 应用程序中检索登录的用户信息或实体

> ID：13248616
> 
> 赞同：0
> 
> 时间：2012-11-06T10:01:15.280
> 
> 标签：asp.net-mvc-3

有没有更好的方法在不使用会话的情况下将登录用户的信息或实体存储在 mvc 3 应用程序中？因为以前，我想将它存储在会话中。但是由于没有 Session 的概念，那么检索它的最佳方法是什么？

这是用户的示例实体类：

```
public class User
{
  public UserName { get; set; }
  public Password { get; set; }
  public SecurityGroup { get; set; }
  public DepartmentID { get; set; }
} 
```

会有一些页面我需要`SecurityGroup`用户的，并且会有一些页面我需要`DepartmentID`. 如果我每次需要时都检索数据，那将是愚蠢的。

只是需要你的意见，因为我仍然从这项技术开始。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:13:56.127

您可以创建一个 BaseController，其他控制器将从中继承，然后检查 ExecuteCore() 中的 System.Web.HttpContext.Current.User 并将 SecurityGroup 保存在 ViewData 中。

```
ViewData("SecurityGroup") = User.SecurityGroup 
```

然后您可以在任何控制器中访问它。

示例（原谅 VB.NET）

```
Public Class BaseController
    Inherits System.Web.Mvc.Controller

    Protected Overrides Sub ExecuteCore()

        Dim currentUser As User = MyDatabaseLayer.GetUserByEmail(User.Identity.Name)

        ViewData("SecurityGroup") = currentUser.SecurityGroup

        MyBase.ExecuteCore()

    End Sub

End Class 
```

然后在您的一个标准控制器中

```
Public Class MyController
    Inherits BaseController

    Public Function Index()

        If ViewData("SecurityGroup") = something Then

             'do something

        End If

    End Function

 End Class 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T13:51:48.283

> 但是由于没有 Session 的概念，那么检索它的最佳方法是什么？

我不明白这一点。当然MVC3中有Session的概念。我认为这取决于您想做什么，并且您需要问自己几个问题：

1.  关闭选项卡会自动注销我的用户吗？
2.  会议何时结束？（例如按“注销”，超时）

我发现它最有用的方式是利用 ASP.NET FormsAuthentication 机制和会话变量。

这是我编写的代码中的一个示例：

```
var curUser = context.Session["User"] as ViewUser;

if (curUser == null)
{
   // Generate token from given FB access token
   var token= 'your token';

   // Set the forms authentication auth cookie
   FormsAuthentication.SetAuthCookie(token, false);

   // Get user details to put inside the session vars
   var UserInstance = getUser(token);

   // Put user details in session vars
   context.Session["User"] = UserInstance;
} 
```

令牌用于 oAuth 等，这就是该系统的构建方式，您可以使用用户的 id 代替。

现在这利用了 FormsAuthintication，因为您还有一个持续整个会话的安全 cookie，并且您不需要每次都使用令牌来寻址数据库，因为我将用户模型放在 Session 变量中。

这允许进行后备，这意味着：

1.  尝试解析会话变量，如果没有
2.  检查用户是否登录，并再次从数据库中解析用户
3.  如果用户未登录 - 实现您的逻辑。

这对我来说很好。希望能帮助到你。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T12:01:16.503

> 如果我每次需要时都检索数据，那将是愚蠢的。

我不这么认为，应该怎么做。如果您正在考虑将这些值存储在 Session 中，那么您还必须设计一种在用户关闭应用程序时终止会话的方法（这里“关闭”并不意味着他退出，他可能只是关闭了选项卡/浏览器）

你能做的就是`user.identity.name`获取当前登录用户的用户名，并`SecurityGroup/DepartmentId`在你需要的任何时候获取它。

# php - 按第一个键的索引重新排序数组？

> ID：13248620
> 
> 赞同：-2
> 
> 时间：2012-11-06T10:01:27.337
> 
> 标签：php, arrays, search

我想重新排序我的元素索引对齐数组，以便我可以获取每个唯一的元素，`CATEGORY`而不是手动按索引。

### 前提

```
$products = array(
    'CATEGORY' =>
    array(
        0 => 'book',
        1 => 'book',
        2 => 'desk',
    ),
    /* FYI: Other keys have been removed for conciseness */
    'DESCRIPTION' => 
    array(
        0 => 'Bar',
        1 => 'sdfadasfdasfas',
        2 => 'Barrrr',
    ),
); 
```

### 后置条件

```
$products = array(
    'CATEGORY' =>
    array(
        'book' =>
        array(
            0 =>
            array(
                'DESCRIPTION' => 'Bar',
            ),
            1 =>
            array(
                'DESCRIPTION' => 'sdfadasfdasfas',
            ),
        ),
        'desk' =>
        array(
            0 =>
            array(
                'DESCRIPTION' => 'Barrrr',
            ),
        ),
    ),
) 
```

### 试图

```
$cat_to_index = '';

foreach (array_values(array_unique($products['CATEGORY'])) as $category => $uniq_cat) {
    for($i=array_search($uniq_cat, $products['CATEGORY']);
        $i!==FALSE; $i=array_search($uniq_cat, $products['CATEGORY']))
            $cat_to_index .= $i; // just for debugging
} 
```

[请参阅在键盘](http://codepad.org/J6XSraLH)上运行。

### 错误

内存不足（无限循环）。最好寻找`O(n)`解决此问题的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T14:26:47.987

```
<?php
$products = array(
    'CATEGORY' =>
    array(
        0 => 'book',
        1 => 'book',
        2 => 'desk',
    ),
    /* FYI: Other keys have been removed for conciseness */
    'DESCRIPTION' => 
    array(
        0 => 'Bar',
        1 => 'sdfadasfdasfas',
        2 => 'Barrrr',
    ),
);

$newProducts = array();
$newProducts['CATEGORY'] = array();
foreach ($products['CATEGORY'] as $id =>$cat) {
    $newProducts['CATEGORY'][$cat] []= array('DESCRIPTION' => $products['DESCRIPTION'][$id]);
}

var_dump($newProducts); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:30:58.800

Maybe the [array_keys](http://fr2.php.net/manual/fr/function.array-keys.php) function can help with the **$search_value** param. I hope this is what you want :

```
<?php
$catalogue_html = '';

// $unique_cats just contains the unique category names

foreach ($uniq_cats as $category => $uniq_cat) {
    // Using the SEARCH param of the "array_key" function
    $keys = array_keys( $products['CATEGORY'] , $uni_cat );

    if ( 0 < count( $keys ) ) {
        // Occur more than once
        $catalogue_html .= join(", ", $keys) . "\n";
    }
}

echo $catalogue_html;
?> 
```

# matlab - 在matlab中查找范围之间的数据

> ID：13248626
> 
> 赞同：7
> 
> 时间：2012-11-06T10:01:46.023
> 
> 标签：matlab, indexing

我有一个相当简单的例子，我想学习最好的解决方案。我有一个数据集：

```
depth = [0:0.5:20]; 
```

我只想从特定范围内选择“深度”，例如从 2 到 5。我可以通过以下方式执行此操作：

```
d1 = find(depth == 2,1,'first');
d2 = find(depth == 5,1,'first');
depth = depth(d1:d2); 
```

有没有另一种更清洁的方式来做到这一点？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-06T10:07:23.320

只需使用逻辑索引：

```
 depth(depth >= 2 & depth <= 5) 
```

# css - 使高度与图像 CSS 的宽度成比例

> ID：13248630
> 
> 赞同：-1
> 
> 时间：2012-11-06T10:01:59.357
> 
> 标签：css

我想让高度与宽度为 20% 的图像的宽度成比例。请帮助我使用 CSS

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T10:05:28.677

### 你可以这样使用：

```
width: 20%;
height: auto;
-ms-interpolation-mode: bicubic; 
```

对于**Internet Explorer 7**，您需要使用`-ms-interpolation-mode`使其看起来成比例。

**笔记：**

> 该`-ms-interpolation-mode`属性仅适用于拉伸图像。例如，如果图像的自然宽度为 ，`200x200`但页面设计者指定高度和宽度应为`400x400`，则除非另有说明，否则将使用最近邻算法将图像拉伸到新尺寸。
> 
> 阅读更多： http: [//msdn.microsoft.com/en-us/library/ie/ms530822 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/ie/ms530822(v=vs.85).aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:03:43.463

只需`width: 20%;`将高度设置为默认值，即`auto`.

# android - 禁用 ViewPager 选项卡之一中的滑动

> ID：13248633
> 
> 赞同：2
> 
> 时间：2012-11-06T10:02:06.217
> 
> 标签：android, android-mapview, android-viewpager

> **可能重复：**
> [viewpager 页面中 mapview 的手势问题](https://stackoverflow.com/questions/12117791/gesture-issue-with-mapview-in-viewpager-page)

我使用允许我们在选项卡之间水平滑动的模板

但是我的选项卡之一是**MapView**，因此当我在该 MapView 中向左/向右滑动时，它将切换选项卡而不是移动地图。

有没有办法仅在该 MapView 选项卡中禁用手势？

谢谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-08T03:37:00.393

[我从这个问题](https://stackoverflow.com/questions/12117791/gesture-issue-with-mapview-in-viewpager-page)中找到了答案

万一链接失效，我在这里复制了代码：

使用这个确切的代码创建一个新类，它将阻止 MapView 接收除地图相关手势之外的任何其他手势。不要忘记在这些代码上方添加您的`package`and (CTRL+SHIFT+O)`import`

```
public class CustomViewPager extends ViewPager {

    public CustomViewPager(Context context) {
        super(context);
    }

    public CustomViewPager(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    @Override
    protected boolean canScroll(View v, boolean checkV, int dx, int x, int y) {
        if (v instanceof MapView) {
            return true;
        }
        return super.canScroll(v, checkV, dx, x, y);
    }
} 
```

然后`main.xml`将其更改`<android.support.v4.view.ViewPager ... />`为：

```
<com.yourPackage.CustomViewPager
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/pager"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".Main" /> 
```

感谢 Jorge Aguilar 对这个问题的回答！

# google-app-engine - Channel API 和 appengine 不适合游戏？

> ID：13248639
> 
> 赞同：-2
> 
> 时间：2012-11-06T10:02:37.360
> 
> 标签：google-app-engine

*   Channel Api 允许从服务器拉更新到客户端。但无法将数据发送回 socket 。我们需要向服务器发出 Ajax 请求，这意味着它比直接通过套接字发送非常慢。

*   Appengine 适用于 web，基于 socket 的游戏，我们无法控制 appengine 实例的关闭和重启。游戏对象需要保存到数据存储和内存缓存（非常慢）。后端可能是一个可以接受的解决方案，但我认为它不能作为在线网页游戏的专用服务器。

我仍在寻找appengine上socket webgame的解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T15:26:40.317

你刚刚回答了你自己的问题。App Engine 不是动作游戏等超低延迟操作的好平台。寻找另一个平台。如果延迟不是什么大问题（即回合制游戏），App Engine 应该可以工作。

套接字 API 可能也不适合您，因为它适用于出站套接字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:31:41.957

If your game will have a small number of users then a dedicated "normal" server would be fine, of course.

If, however, you want your game to potentially scale to a far higher number of users then you have to design it accordingly and that means (probably) separating out logic (backend) and interaction with users (frontend). As you say, you don't want a server containing the only copy of the game to just shutdown. Backends won't do that.

You can sign up to the [Sockets Beta](https://groups.google.com/forum/#!topic/google-appengine/m1x6sDhqx1o/discussion) which may be what you need instead of the channel API.

# java - 使用 DirectMediaPlayer 使用 vlcj 播放大型视频 (FullHD+)

> ID：13248643
> 
> 赞同：1
> 
> 时间：2012-11-06T10:02:52.690
> 
> 标签：java, vlc, libvlc, vlcj

我必须在 Java/OpenGL 应用程序中播放相当大的视频，在某些情况下是超高清 (4000x2000)。我现在在 VLCJ 中解决了这个问题（无法让 GStreamer 解码得足够快）。在使用普通嵌入式播放器时，VLC 本身就像 VLCJ 一样播放视频。

当我使用 directplayer 时，较大的视频开始播放并在几帧后停止，或者根本不开始（仍然调用 display()，但总是使用相同的帧！）。对我来说，从 HDReady（1280x720 仍然可以正常播放）和 FullHD（1920x1080）之间开始。这似乎不依赖于 PC 的性能。我在一台使用了 5 年的笔记本电脑和一台高端机器上对此进行了测试，结果完全相同。如果我做错了什么或者 VLCJ DirectPlayer 无法处理更大的视频，有什么想法吗？

我正在使用来自 github 的最新 VLCJ 的 VLC 2.0.0（也尝试过 2.0.3 和 2.0.4）。

我有一个在线登录：http: [//pastebin.com/UeyMrVmW](http://pastebin.com/UeyMrVmW)

我附上了一个简单的例子，我如何设置直接播放器来重现问题。

```
public class VLCTestPlayer implements RenderCallback, BufferFormatCallback {

protected MediaPlayerFactory mediaPlayerFactory;

protected DirectMediaPlayer mediaPlayer;

public static void main(final String[] args) {
    NativeLibrary.addSearchPath("libvlc",
            "C:\\Program Files (x86)\\VideoLAN\\VLC");
    SwingUtilities.invokeLater(new Runnable() {
        @Override
        public void run() {
            VLCTestPlayer testplayer = new VLCTestPlayer(args);
        }
    });
}

private VLCTestPlayer(String[] args) {

    JFrame frame = new JFrame("vlcj Tutorial");

    mediaPlayerFactory = new MediaPlayerFactory("--no-video-title-show", "--verbose=3");

    mediaPlayer = mediaPlayerFactory.newDirectMediaPlayer(this, this);

    String videoFile = "myVideo.mp4";
    boolean started = mediaPlayer.prepareMedia(videoFile);

    if (started)
        mediaPlayer.play();
    System.out.println("Video started: " + started + " from: " + videoFile);

    frame.setLocation(100, 100);
    frame.setSize(1050, 600);
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    frame.setVisible(true);
}

@Override
public BufferFormat getBufferFormat(int sourceWidth, int sourceHeight) {
    sourceWidth = sourceWidth / 1;
    sourceHeight = sourceHeight / 1;
    System.out.println("Got VideoFormat: " + sourceWidth + "x"
            + sourceHeight);
    BufferFormat format = new BufferFormat("RGBA", sourceWidth,
            sourceHeight, new int[] { sourceWidth * 4 },
            new int[] { sourceHeight });

    return format;
}

@Override
public void display(DirectMediaPlayer mediaPlayer, Memory[] nativeBuffers,
        BufferFormat bufferFormat) {

    ByteBuffer buffer = nativeBuffers[0].getByteBuffer(0,
            (int) bufferFormat.getWidth() * (int) bufferFormat.getHeight()
                    * 4);
    int pos = 4 * ((int) bufferFormat.getWidth()
            * (int) bufferFormat.getHeight() / 2 + (int) bufferFormat
            .getWidth() / 2) + 700;
    System.out.println("Got VideoFrame: " + buffer.get(pos) + ":"
            + buffer.get(pos + 1) + ":" + buffer.get(pos + 2) + ":"
            + buffer.get(pos + 3));
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T16:18:30.997

尽管您进行了测试，但我想说这几乎肯定是一个性能问题-根据我的经验，即使在现代系统上使用直接播放器播放高清视频，您在其中所做的方式也无法正常工作，如果没有硬件加速，它将无法应对. 作为粗略的指南，我 6 个月大的 i5 台式机几乎无法管理 720p 视频。（附带说明一下，您在其中的 println 语句肯定无济于事，当每秒执行多次时，它们可能会花费比您想象的更多的时间。）

但是，可取之处在于您应该能够使用 JavaFX 和它提供的硬件加速类来使其工作 - 请参阅[此处](https://forums.oracle.com/forums/thread.jspa?threadID=2434712)了解详细信息。

# c# - 如何在 Windows 窗体中获取 Grid 的选定行的所有值？

> ID：13248645
> 
> 赞同：1
> 
> 时间：2012-11-06T10:02:55.850
> 
> 标签：c#, winforms

我创建了一个 Windows 窗体，其中有一个网格“gridVerificationQ”。此网格包含不同的列，其值获取一个人拥有的所有银行帐户信息。我想获取所选网格行的所有值，但我发现很难获得它。我知道这是一件非常小的事情，但我仍然会感谢所提供的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:08:08.323

```
dataGridView1.SelectedRows[0].Cell["CellName"].Value 
```

设置[DataGridView.MultiSelect](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.multiselect.aspx) = false 和[DataGridView.SelectionMode](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.selectionmode.aspx) = FullRowSelect。这将使用户一次只能选择一行。

或使用 for 循环

```
foreach(DataGridViewCell cell in dataGridView1.SelectedRows[0].Cells)    
{
       if(cell.Value != null) 
       { 
           //your code
       }    
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:13:05.100

将`SelectedIndexChanged`事件用作：

```
 protected void GridView1_SelectedIndexChanged(object sender, EventArgs e){
         Message.Text = GridView1.SelectedRow.Cells[0].Text;
         // you can use loop to iterate through all the cells of the row.
    } 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-06T10:12:20.330

您可以获取所选行的列的值，例如：

```
int AccountId= (int)dataGridView1.SelectedRows[0].Cells[0].Value; 
```

# c# - 带有方法返回的代码或异常的接口

> ID：13248650
> 
> 赞同：2
> 
> 时间：2012-11-06T10:03:19.337
> 
> 标签：c#, interface

我正在设计一个接口来传输文件并在某个远程服务器上操作它们。令人困惑的是，接口上的方法是否应该为调用者返回代码？假设的好处是调用者不必捕获异常。

或者正确的方法是返回 voids 并在失败条件下抛出异常？？？如果是这样，异常应该是自定义的吗？还是由语言定义的原始语言（在这种情况下为 C#）？

```
 //Remote transfer interface 1
 enum codes { SUCCESS, FAIL, HOSTUNREACHABLE, so-on and so forth }
 codes init(String host, int port);
 codes transferFile(String filepath, String remotename);
 codes deleteRemote(String remotePath); 
```

要传输的第二种类型的接口

```
 //Remote transfer interface 2
 //Following methods throw exceptions when they occur, catched by caller..
 void init(String host, int port);
 void transferFile(String filepath, String remotename);
 void deleteRemote(String remotePath); 
```

你们能说出哪种方式最好，为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:11:36.217

这里没有绝对的最佳解决方案。一切都取决于您的 API 设计。如果您想创建紧凑或“自包含”的 API，可以考虑在该接口的实现中处理 IO*异常*。

考虑一个事实，即您不会在内部处理异常，并且希望*调用者*以某种方式处理它们。

这种类型的实现很好，因为它隐藏了所有“东西”实际如何工作的深层细节，并通过标准化代码与调用者“对话”。

示例：您正在`talking-ring`使用一些自定义专有协议为 PLC 控制器编写通信层。调用者可能会避免关心协议的工作*方式*（因此处理程序运行期间可能发生的预期和意外的可能异常），而只是调用函数并获取有关事实的信息，无论是成功还是失败。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:20:03.080

如果您在 CLR 上使用 API，那么使用该 API 的所有语言都能够处理异常，您应该使用它们。

错误处理之前的异常，检查返回码很容易被忘记，当错误发生时，问题可能会在代码的后面显示。如果不调试和恢复与错误发生时完全相同的前提条件，您可能无法知道什么时候出错了。使用异常，您可以得到准确的错误信息，以防您忘记处理某些错误情况，并且您强制在错误发生时而不是在程序流程的后期处理错误。

# sql-server - 将小数点后第三位向上舍入到小数点后第二位（例如，0.033 美元变为 0.04 美元）

> ID：13248659
> 
> 赞同：2
> 
> 时间：2012-11-06T10:03:57.210
> 
> 标签：sql-server, sql-server-2008, sql-server-2005

当我们将价格提高 10% 时，某些产品（具有 3 个小数点的产品）会出现不必要的价格变化。例如，价格`0.03`更改为的商品`0.033`。

我们的客户不希望定价中包含小数点后三位。

我们希望将小数点后第三位向上舍入到小数点后第二位（例如`$0.033`变为`$0.04`）。

如果我的价值是`0.033`，我希望结果是`0.04`。

请帮我

问候

阿米特维亚斯

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T10:11:44.363

另一种方法是`CEILING(n * 100) / 100`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T11:35:00.000

请用这个

```
ROUND ( 0.335 , 2 ) 
```

这将在我的数据库中工作

问候帕拉斯

# javascript - 检查 JavaScript 中的属性是否存在

> ID：13248664
> 
> 赞同：3
> 
> 时间：2012-11-06T10:04:03.787
> 
> 标签：javascript, jquery-mobile, duck-typing

我是 JavaScript 新手，对鸭子类型的概念有点困惑。据我所知，我理解了这个概念。但这在我的想法中导致了一个奇怪的结果。我将通过以下示例进行解释：

我目前正在使用 jQuery Mobile 开发移动网络应用程序。有一次，我`vmousedown`为画布捕获了事件。我对触摸的压力感兴趣。我找到了`Touch.webkitForce`房产。

```
$('#canvas').live('vmousedown', function(e){
    console.log(e.originalEvent.originalEvent.touches[0].webkitForce);
} 
```

这在使用Chrome的[远程调试时工作正常。](https://developers.google.com/chrome/mobile/docs/debugging)但是在Opera Firefly中测试的时候会抛出异常，因为该`originalEvent`属性不是触摸事件，而是点击事件。

所以每次我访问一个不在我权限下的对象的属性时，我是否必须检查存在和类型？

```
if( e.originalEvent &&
    e.originalEvent.originalEvent &&
    e.originalEvent.originalEvent.touches && 
    e.originalEvent.originalEvent.touches[0] && 
    e.originalEvent.originalEvent.touches[0].webkitForce) {

    console.log(e.originalEvent.originalEvent.touches[0].webkitForce);
} 
```

请有人为我澄清一下吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T10:11:36.670

> 所以每次我访问一个不在我权限下的对象的属性时，我是否必须检查存在和类型？

是的，您必须一次检查整个路径，或者您可以将其自动化：

```
function deepObject(o, s) {
    var ss = s.split(".");

    while( o && ss.length ) {
        o = o[ss.shift()];
    }

    return o;
}

var isOk = deepObject(e, "originalEvent.originalEvent.touches.0.webkitForce");

if ( isOk ) {
    // isOk is e.originalEvent.originalEvent.touches.0.webkitForce;
} 
```

* * *

**测试用例：**

```
var o = {
  a: {
    b: {
      c: {
        d: {
          e: {
          }
        }
      }
    }
  }
}

var a = deepObject(o, "a.b.c");
var b = deepObject(a, "d");

console.log(a); // {"d": {"e": {}}}
console.log(b); // {"e": {}}
console.log(deepObject(o, "1.2.3.3")); // undefined 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:22:33.920

使用尝试捕获

```
$('#canvas').live('vmousedown', function(e) {
   try {
       console.log(e.originalEvent.originalEvent.touches[0].webkitForce);
   } catch(e) {
       console.error('error ...');
   }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T10:41:21.053

当您使用特定框架来捕获事件时，我认为您应该假设*始终*定义 originalEvent。如果不是，那么抛出错误可能是一件好事，因为在捕获事件的某个地方明显出错了。

但是，该事件可能是**MouseEvent**或**TouchEvent**，而且可能不支持**webkitForce属性。**这些是您可能想要检测的情况：

```
// assume that originalEvent is always be defined by jQuery
var originalEvent = e.originalEvent.originalEvent;
if (originalEvent instanceof TouchEvent) {  // if touch events are supported
  // the 'touches' property should always be present in a TouchEvent
  var touch = originalEvent.touches[0];
  if (touch) {
      if (touch.webkitForce) {
        // ...
      } else {
        // webkitForce not supported
      }
  }  // else no finger touching the screen for this event
} else {
   // probably a MouseEvent
} 
```

# sql-server - Sqoop 自由形式查询按别名拆分

> ID：13248669
> 
> 赞同：2
> 
> 时间：2012-11-06T10:04:27.827
> 
> 标签：sql-server, hbase, sqoop

我想将数据从 MsSQL 导入到 HBase，运行一个自由形式的查询，该查询在我想要拆分的键上有一个别名。例如我的查询是：

```
SELECT       convert(varchar,Table1.Field1) + '_' + Table2.field1 AS 'xyz' 
FROM         Table1
INNER JOIN   Table2 
ON           Table1.field3 = Table2.field4
WHERE        $CONDITIONS 
```

我想按这个别名字段拆分工作单元。所以，在我的 sqoop 查询中，我可以`--split-by 'xyz'`选择。但是，这行不通。我得到：

```
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: 
Ambiguous column name 'xyz'. 
```

那么，我怎样才能让 sqoop 使用这个别名选择字段呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T15:56:23.553

这是 SQL-Server 的限制。它不允许在别名列上使用 GROUP BY。

以下列方式重写查询有助于：

```
SELECT xyz FROM
(
    SELECT       convert(varchar,Table1.Field1) + '_' + Table2.field1 AS 'xyz' 
    FROM         Table1
    INNER JOIN   Table2 
    ON           Table1.field3 = Table2.field4
) as sub
WHERE $CONDITIONS 
```

# java - Solaris 上的自定义 ListCellRenderer（使用 jre5）

> ID：13248673
> 
> 赞同：2
> 
> 时间：2012-11-06T10:04:38.473
> 
> 标签：java, swing, solaris, jlist, renderer

我有一个 JList 包含类 Operation 的实例，其中包含一个布尔标志“启用”。当此标志设置为 false 时，我希望 JList 中 Operation 实例的文本表示具有 TextAttribute.STRIKETHROUGH_ON 设置。

为此，我实现了一个扩展 DefaultListCellRenderer 的自定义 ListCellRenderer：

```
package com.pumdashboard.ui.configurator;

import java.awt.Component;
import java.awt.font.TextAttribute;
import java.util.HashMap;
import java.util.Map;

import javax.swing.DefaultListCellRenderer;
import javax.swing.JLabel;
import javax.swing.JList;

import com.pumdashboard.data.Operation;

@SuppressWarnings ("serial")
public class OperationsListCellRenderer extends DefaultListCellRenderer {

    @SuppressWarnings ("rawtypes")
    @Override
    public Component getListCellRendererComponent (final JList list, final Object value, final int index, final boolean isSelected, final boolean cellHasFocus) {

        final JLabel cmpnnt = (JLabel) super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);

        if (value == null) {
            return cmpnnt;
        }

        final Operation op = (Operation) value;

        if (!op.get_enabled()) {
            final Map<TextAttribute, Object> attr = new HashMap<TextAttribute, Object>(list.getFont().getAttributes());
            attr.put(TextAttribute.STRIKETHROUGH, TextAttribute.STRIKETHROUGH_ON);
            cmpnnt.setFont(list.getFont().deriveFont(attr));
        }

        return cmpnnt;
    }
} 
```

此实现在运行 JDK 1.7 设置为 1.5 模式的 eclipse 4.2 中的 Windows 7 上运行良好。但是，当我尝试在带有 JRE 1.5 的 Solaris 10 上运行完全相同的代码时，没有出现删除线。

任何帮助将不胜感激。

# jquery - 第二次创建此 JQGrid 时，缺少 JQGrid 的听众和内容

> ID：13248674
> 
> 赞同：0
> 
> 时间：2012-11-06T10:04:45.570
> 
> 标签：jquery, jqgrid

我使用提供的 JSON 数据创建了一个新的 JQGrid，它第一次运行良好：

```
// Clear it if it exists.
$("#grid_id").GridUnload();

// Create it with data          
var = jQuery("#grid_id").jqGrid({
    data: dataset_json,
    .....
    rowNum : 30,
    width : $("#grid_id").width(),
    height: $('#grid_id').height(),
    rowList : [ 30, 100, 150 ],
    pager : "#grid_page",
    sortname : 'name',
    viewrecords : true,
    sortorder : "desc",
    shrinkToFit: false,
    rownumbers: true,
    altRows:true,
    caption: "Sample Grid",
}); 
```

但是当我第二次使用返回的数据集（非空）触发此方法时，网格的标题和内容被遗漏，整个网格出现问题。我不确定发生这种情况的原因。我猜是否是CSS引起的？我包括以下 CSS 文件：

```
<link href="${path}/duration/js/plus/alert/jquery.alerts.css" rel="stylesheet" type="text/css">
<link href="${path}/duration/css/subpage.css" rel="stylesheet" type="text/css"></link>
<link href="${path}/duration/css/shared.css" rel="stylesheet" type="text/css"></link> 
```

如果有人遇到过这个问题，请给我指导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T08:59:11.690

经过多次尝试，我解决了这个问题。就我而言，如果网格需要有固定的宽度和高度，并且当它的列太多时显示水平滚动条，就像下面设置jqGrid的方法一样：

```
grid= jQuery("#grid_id").jqGrid({
    width : 1000,
    height: 800,
    shrinkToFit: false,
}); 
```

确保网格正常工作的最重要的事情是您应该将 THML 配置 'align="center"' 添加到网格附加的表中。

```
<table id="grid_id" align="center"></table> 
```

我不知道为什么这可以解决它，但无论如何，它有效。

这是一个与[jqGrid 水平滚动问题类似的问题](https://stackoverflow.com/questions/13262714/whats-the-best-solution-for-setting-the-width-and-height-to-a-jquery-jqgrid)。

# android - 调用获取视图方法等于设备屏幕上存在的列表项

> ID：13248676
> 
> 赞同：0
> 
> 时间：2012-11-06T10:04:57.540
> 
> 标签：android, android-layout, android-emulator, android-widget

我正在尝试实现自定义 listview ，但是存在调用 getview 方法等于设备屏幕上存在的 listitems 的问题，当我滚动列表时，对于剩余的项目，调用 gitview 方法，并更改以前的列表项被丢弃..我希望在开始时为列表视图中存在的所有项目调用 getview 方法。

请帮我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:23:37.973

在 getview 中试试这个

```
RelativeLayout yourlayout= (RelativeLayout) v.findViewById(R.id.content);

yourlayout.setOnTouchListener(new OnTouchListener()
            {
                boolean isOnClick=true;

                public boolean onTouch(View arg0, MotionEvent arg1) 
                {

                    if(arg1.getAction()==MotionEvent.ACTION_MOVE)
                    {
                        isOnClick = false;
                    }
                    else if(arg1.getAction()==MotionEvent.ACTION_UP)
                    {
                        if(!isOnClick)
                        {
                            x_up = (int) arg1.getX();
                            y_up = (int) arg1.getY();

                            Log.v("log","x up : "+x_up +" and y :"+y_up);
                            // showToast("x  up : "+x_up +" and y :"+y_up);
                            Log.v("log","difference is "+ (x_up-x_down));
                            if(x_up-x_down>50)
                            {
                                delete.setVisibility(View.VISIBLE);

                            }
                            else if(x_down-x_up>50)
                            {
                                delete.setVisibility(View.VISIBLE);
                            }

                            isOnClick = true;
                        }
                        else
                        {
                            isOnClick = true;
                            Log.v("log", "clicekd");
                            if(delete.getVisibility()==View.VISIBLE)
                            {
                                delete.setVisibility(View.INVISIBLE);
                            }
                            else
                            {
                            Intent i = new Intent(MyaLikeActivity.this,ProfileActivity.class);
                            i.putExtra("userid", listitem.getUserId());
                            startActivity(i);
                            }

                        }
                    }
                    else if(arg1.getAction()==MotionEvent.ACTION_DOWN)
                    {
                        x_down = (int) arg1.getX();
                        y_down = (int) arg1.getY();

                        Log.v("log","x down : "+x_down +" and y :"+y_down);
                    }

                    return true;
                }
            }); 
```

通过使用此...删除按钮在您从左向右或从右向左滑动时可见..如果删除按钮可见，则可以设置您的 oncliclick 列表器..

# java - JSP中动态生成的链接没有出现

> ID：13248679
> 
> 赞同：0
> 
> 时间：2012-11-06T10:05:06.737
> 
> 标签：java, jsp

我正在尝试这段代码

```
for(Product product : catalog.getValues()){
String id = product.getId();
out.println("<a href=product.jsp?id=" + id + "/>"); 
```

}

当我在服务器上运行 jsp 时什么也没有出现。for 循环肯定正在运行 - 我认为这可能是一个语法问题。

怎么了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T10:43:10.227

如果服务器控制台上没有错误，我认为问题可能与此有关：

```
out.println("<a href=product.jsp?id=" + id + "/>"); 
```

这应该是：

```
out.println("<a href=product.jsp?id=" + id + ">My Links</a>"); 
```

锚标记`<a>`未正确关闭。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:49:04.543

这说了很多，但您应该远离在 JSP 文件中使用 scriptlet。您可以使用 JSTL 实现相同的目标

```
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<c:forEach items="${reuqestScope.catalog}" var="product">
    <a href=product.jsp id="${product.id}">Link</a>
</c:forEach> 
```

并且如评论中所述，您忘记关闭锚文本

# iphone - 使用 openCV 进行 OCR

> ID：13248680
> 
> 赞同：0
> 
> 时间：2012-11-06T10:05:18.187
> 
> 标签：iphone, objective-c, ios, opencv

我想使用 openCV 对图像产生影响，我从过去 2 天开始一​​直在苦苦挣扎，并从我身边做一点事。但没有得到好的输出。到现在我只转换成灰色。如何达到剩余效果？

我使用这种方法进行灰色转换

```
- (void)blackAndWhite {

cv::Mat  dst;

cv::Mat src=[self cvMatFromUIImage:iv.image];

if( !src.data )
{ std::cout<<"Usage: ./Histogram_Demo <path_to_image>"<<std::endl;
}

/// Convert to grayscale
cvtColor( src, src, CV_BGR2GRAY );

/// Apply Histogram Equalization
//equalizeHist( src, dst );

iv.image =[self UIImageFromCVMat:src];   

} 
```

谢谢

1) 灰色转换后 ![在此处输入图像描述](../Images/efb2909a01e60a83f8c9fdf413c3c748.png)

2）应用黑白效果

![在此处输入图像描述](../Images/5590be767de694c88ce71df488c267eb.png)

3）去除深黑色背景并改变图像方向。

![在此处输入图像描述](../Images/155ec7628947063a97d37d6f8956f951.png)

# elasticsearch - 如何在弹性搜索中进行短语搜索？

> ID：13248682
> 
> 赞同：3
> 
> 时间：2012-11-06T10:05:25.787
> 
> 标签：elasticsearch

我正在使用弹性搜索，但无法对应用自定义分析器的属性进行**短语搜索**。

自定义分析器被提及为：

```
"settings" : {
        "analysis.analyzer.string_lowercase.type" : "custom",
        "analysis.analyzer.string_lowercase.tokenizer" : "keyword",
        "analysis.analyzer.string_lowercase.filter" : "lowercase"
} 
```

属性值类似于：“入水坑，出水坑”，或者可以是任何字符串。

我尝试过使用以下内容：

```
1) **(Not worked)** QueryBuilders.queryString("*into the puddle*").autoGeneratePhraseQueries(true).defaultOperator(Operator.AND);

2) **(Not worked)** QueryBuilders.matchPhraseQuery(attribute, "into the puddle");

3) **(Not worked)** QueryBuilders.queryString("*into the puddle*").autoGeneratePhraseQueries(true).defaultOperator(Operator.AND).analyzeWildcard(true); 
```

但是，幸运的是，尝试 1 可以很好地处理嵌套对象。

```
FilterBuilders.nestedFilter(attribute, queryString("*into the puddle*").field(attribute)
                                .defaultOperator(Operator.AND).analyzeWildcard(true)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T12:54:07.690

1) - 3) 似乎缺少一个字段，因此正在搜索 _all 字段，我猜它是使用标准分析器索引的。

# php - 如何在 application.ini 中设置新的 includePath

> ID：13248683
> 
> 赞同：0
> 
> 时间：2012-11-06T10:05:26.443
> 
> 标签：php, zend-framework2, include-path

我正在使用 Zend 框架 2，我正在尝试在 application.ini 文件中创建自定义 includePath。includePath 应包括所选文件夹中的所有文件及其所有子文件夹中的所有文件。

我已经有了

```
 includePaths.models = APPLICATION_PATH "/models" 
```

但这仅包括模型文件夹中的文件，而不包括模型子文件夹中的文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:30:03.933

在 ZF2 中没有应用程序级模型，每个模型都应该是`Module`. 之后，每个模块都知道如何以及在何处加载自己的模型，如果确实需要，您可以在`module.config.php`.

`Modules`官方 zf2[文档](https://zf2.readthedocs.org/en/release-2.0.3/user-guide/modules.html)中有更多详细信息。

# php - 如何在 Joomla1.5 上添加 Google Recaptcha for Zoo 评论？

> ID：13248690
> 
> 赞同：0
> 
> 时间：2012-11-06T10:05:43.853
> 
> 标签：php, joomla, recaptcha

我想为我的网站评论添加验证码。因为我收到很多垃圾邮件。有没有办法将 reCaptcha 用于 Zoo 评论？可以使用 Google RECAPTCHA 吗？请指教

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T11:43:16.557

对此没有本机支持。然而，这里的 Joomla 扩展目录上有一个[插件](http://extensions.joomla.org/extensions/extension-specific/zoo-extensions/16235)。您可以安装它以提供谷歌验证码功能

# jakarta-ee - 在 Struts1 中，如何在 action 标签中使用 set-property 标签？

> ID：13248696
> 
> 赞同：1
> 
> 时间：2012-11-06T10:05:59.643
> 
> 标签：jakarta-ee, web, struts1

我想在使用 struts1 配置文件调用它时传递一个值。我创建了一个具有以下属性的表单 bean

```
public class MyForm extends ActionForm {
    private String task;  

    public String getTask() {
        return task;
    }
    public void setTask(String task) {
        this.task = task;
    }
} 
```

在 struts-config.xml 中，我定义了 form bean 和 action，如下所示。

```
<form-bean name="myForm" type="demo.MyForm"></form-bean>
<action path="/myAction" name="myForm" type="demo.MyAction" scope="request">
    <set-property value="view" property="task" />
    <forward name="success" path="/result.jsp"></forward>
</action> 
```

我正在尝试使用这些配置在 web sphere 6.1 中运行它，它给出了以下异常

```
Deregister the mbean because of uncaught init() exception thrown by servlet action: javax.servlet.UnavailableException: Parsing error processing resource path file:/D:/workspaces/j-space/myProject/Web Content/WEB-INF/struts-config.xml
at org.apache.struts.action.ActionServlet.handleConfigException(ActionServlet.java:761)
at org.apache.struts.action.ActionServlet.parseModuleConfigFile(ActionServlet.java:744)
at org.apache.struts.action.ActionServlet.initModuleConfig(ActionServlet.java:689)
at org.apache.struts.action.ActionServlet.init(ActionServlet.java:356)
at javax.servlet.GenericServlet.init(GenericServlet.java:256)
.... 
```

我想我遗漏了一些东西或以错误的方式使用了 set-property 标签。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:22:38.963

[Struts 1.3 DTD](http://struts.apache.org/1.3.10/struts-core/dtddoc/index.html)说

> 当自定义子类与 、 、 或 元素一起使用时，“set-property”元素特别有用。

使用您想要包含的属性创建 ActionMapping 的子类

```
public class CustomActionMapping extends ActionMapping {

    private String task;

    public String getTask() {
        return task;
    }

    public void setTask(String task) {
        this.task = task;
    }
} 
```

配置自定义动作映射`struts-config.xml`

```
<action-mappings type="CustomActionMapping">
   <action path="/myAction" name="myForm" type="demo.MyAction" scope="request">
      <set-property value="view" property="task" />
      <forward name="success" path="/result.jsp"></forward>
   </action>
</action-mappings> 
```

在你的类的`doGet/doPost`方法中获取任务的值`Action`

```
CustomActionMapping cam = (CustomActionMapping) mapping;
String task = cam.getTask(); 
```

希望这可以帮助你。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-06T10:23:49.763

您的 struts-config.xml 是否遵循架构？请参阅[http://struts.apache.org/1.3.10/index.html上的示例](http://struts.apache.org/1.3.10/index.html)

# android - 将图像加载到gridview android时出错

> ID：13248698
> 
> 赞同：0
> 
> 时间：2012-11-06T10:06:12.247
> 
> 标签：android, gridview

> **可能重复：**
> [java.lang.OutOfMemoryError：位图大小超出 VM 预算 - Android](https://stackoverflow.com/questions/1949066/java-lang-outofmemoryerror-bitmap-size-exceeds-vm-budget-android)

将图像加载到网格视图时发生以下错误。

java.lang.OutOfMemoryError：位图大小超出 VM 预算

请帮我。有没有解决这个错误的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:08:01.930

试试这个

```
public static Bitmap decodeFile(File f,int WIDTH,int HIGHT){
        try {
            //Decode image size
            BitmapFactory.Options o = new BitmapFactory.Options();
            o.inJustDecodeBounds = true;
            BitmapFactory.decodeStream(new FileInputStream(f),null,o);

            //The new size we want to scale to
            final int REQUIRED_WIDTH=WIDTH;
            final int REQUIRED_HIGHT=HIGHT;
            //Find the correct scale value. It should be the power of 2.
            int scale=1;
            while(o.outWidth/scale/2>=REQUIRED_WIDTH && o.outHeight/scale/2>=REQUIRED_HIGHT)
                scale*=2;

            //Decode with inSampleSize
            BitmapFactory.Options o2 = new BitmapFactory.Options();
            o2.inSampleSize=scale;
            return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
        }
            catch (FileNotFoundException e) {}

        return null;
    } 
```

这将根据您传递的宽度和高度缩放位图..

# css - 具有等高列的 CSS 流体固定布局

> ID：13248699
> 
> 赞同：1
> 
> 时间：2012-11-06T10:06:26.280
> 
> 标签：css, layout

我是 CSS 新手，所以如果这是一个非常愚蠢的问题，请原谅我！但问题是，我在过去的 48 小时里一直在尝试这个，但仍然无法做到正确。我想要的只是一个 CSS 布局：

1.  两列，左流体，右固定（300px）
2.  两列高度相同，右列始终具有背景色。
3.  一个 100 像素高度的标题。
4.  一个 300 像素高度的页脚。
5.  整个东西封装在一个中心位置的容器中。该容器的最大宽度为 960 像素，最小宽度为 480 像素。每当屏幕小于 480 像素时，固定的右列应垂直位于左内容列的下方。
6.  应该在 IE 7+、Chrome、Safari、FF 中工作。
7.  没有 JavaScript（不明白为什么这需要它）

我已经尝试（并且仍在尝试）这样做，但不知何故无法创建相同的高度列。我尝试了一些在线 CSS 生成器，但没有运气。任何帮助、指针等将不胜感激。

# 编辑：

这是一个 jsfiddle：'http://jsfiddle.net/GKEmA/' 我所做的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T11:31:42.813

您可能想尝试使用 CSS 表格布局——不是 HTML 表格标记，只是 CSS 属性。浮动并不是真正为布局而设计的。

[http://www.w3.org/TR/2002/WD-CSS21-20020802/tables.html#q2](http://www.w3.org/TR/2002/WD-CSS21-20020802/tables.html#q2)

[http://maketea.co.uk/2012/09/05/floats-are-dead-long-live-table-layouts.html](http://maketea.co.uk/2012/09/05/floats-are-dead-long-live-table-layouts.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-09T23:42:23.180

Matthew James Taylor 的[Equal Height Columns with Cross-Browser CSS](http://matthewjamestaylor.com/blog/equal-height-columns-cross-browser-css-no-hacks)文章应该为解决这个问题提供了一个框架。他有流体和固定柱的解决方案；我相信它们可以结合起来。

# jquery - 带有 DataTables（或替代插件）的日历视图？

> ID：13248702
> 
> 赞同：3
> 
> 时间：2012-11-06T10:06:36.397
> 
> 标签：jquery, plugins, calendar, datatables

[我目前有一个使用 DataTables ( datatables.net](http://datatables.net) )列出事件及其日期的系统

这种方式效果很好；您可以按日期过滤它，按事件名称搜索，按日期排序，它是分页的。但是，理想情况下，我希望能够在按月分页的日历视图中显示具有相同过滤功能的相同数据。

我可能想得不够努力，但我似乎想不出一种方法来调整 DataTables 以以日历格式显示其数据。你对如何最好地解决这个问题有什么建议吗？

还是我需要寻找替代解决方案？如果是这样，您能否推荐任何其他提供与 DataTables 类似功能（搜索/过滤/分页）但具有日历视图的插件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T12:53:00.107

据我所知，jQuery DataTables 不能以日历形式呈现 - 最后，它是一个表格插件，而不是日历插件......（虽然我确实知道日历可以被视为一个特殊情况桌子）。以下是一些链接：

*   [http://www.tripwiremagazine.com/2012/04/jquery-calendar-date-pickers.html](http://www.tripwiremagazine.com/2012/04/jquery-calendar-date-pickers.html)
*   [Javascript框架日历插件](https://stackoverflow.com/questions/78703/javascript-framework-calendar-plugin)
*   [http://arshaw.com/fullcalendar/](http://arshaw.com/fullcalendar/)
*   [http://www.web-delicious.com/jquery-plugins/](http://www.web-delicious.com/jquery-plugins/)

# android - Android - WebView.capturePicture() 结果的分页问题

> ID：13248709
> 
> 赞同：1
> 
> 时间：2012-11-06T10:07:07.373
> 
> 标签：android, printing, webkit, export

我在 Android 上制作了一个模块将 HTML 导出为另一种数据格式。

在Android上搜索WebView时，我变成了导出到图片的解决方案，因为WebView通过方法支持这项工作：

```
WebView.capturePicture() 
```

捕获的图片很好并且充满了我尝试过的网页（除了一些很长的网站，我还没有关心这个）

但是现在，我面临的问题是整个导出的图片通常很长并且没有分页。如果打印出来，则分页不受控制，页面底部或顶部的文本行（当时是图像数据）可能会在中间中断。

所以，现在的问题是，有没有办法在导出之前或之后插入分页符以获得一些更可接受的分页结果？

1.  出口前： i. 为 capturePicture 设置选项或使用类似的技巧？ii. 在网页内容 (HTML) 中插入分页符？

2.  导出后：使用Android上的一些图像处理库将结果分成页面？

# android - android键盘'输入键'自定义文本

> ID：13248710
> 
> 赞同：2
> 
> 时间：2012-11-06T10:07:09.640
> 
> 标签：android

如何将 android 键盘“输入键”文本更改为自定义文本。我不是在谈论像“actionGo”这样的默认值，而是在键上的自定义字符串。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T13:01:10.160

AFAIK，您可以通过*请求*自定义标签`android:imeActionLabel`，但它可能没有效果。首先，可能没有操作按钮。其次，输入法编辑器的所有请求都是提示——编辑器不需要遵守它们中的任何一个。

此外，请记住，所有设备和方向上的标签可能都没有空间。

# web-applications - cgi-bin : cgi-bin 文件夹在 Web 安全和应用程序开发中的重要性是什么

> ID：13248717
> 
> 赞同：0
> 
> 时间：2012-11-06T10:07:25.233
> 
> 标签：web-applications, security, cgi-bin

最著名和最广泛使用的网站（如[https://www.sandbox.paypal.com/](https://www.sandbox.paypal.com/)）正在使用 cgi-bin 文件夹来放置文件。在 Web 应用程序开发中使用`cgi-bin`文件夹或获得任何安全性以将文件放在 cgi-bin 文件夹中是否重要。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:21:56.060

关于 PayPal，我相信他们已经做到了，因为他们的网站最初是基于传统上使用 cgi 技术构建的 Per web 应用程序构建的。

通常，出于额外安全措施的目的，最好将所有代码（类、接口、函数、第三方库等）放在 DOCUMENT_ROOT 文件夹之外。当你的应用程序被分成几个部分时尤其重要——比如控制器、模型、视图、模板，因为可以防止恶意用户在寻找漏洞时尝试分别调用应用程序的每个部分。对于存储敏感数据的文件（例如数据库凭据）也很重要——您不希望它们被黑客获取。通过将 DOCUMENT_ROOT 中的所有内容移动到 cgi-bin 文件夹中，您不会获得太多安全性，因为 cgi-bin 文件夹中的所有内容都必须可以从 Web 访问，因此黑客仍然可以调用/打开其中的任何文件。最好将代码和敏感文件移到网络上不可用的目录，只留下应用程序的进入点文件（例如 index.php）。以及其中的静态资源（Javascript、图像文件等）。

# c# - 反转字符串c#

> ID：13248726
> 
> 赞同：1
> 
> 时间：2012-11-06T10:07:58.670
> 
> 标签：c#, string

我有这个给我IndexOutOfRangeException的方法，你们能帮我理解为什么吗？

```
public string FlipString(string inTxt)
    {
        StringBuilder outTxt = new StringBuilder();
        for (int i = inTxt.Length; i > 0; i--)
        {
            char ch = inTxt[i];
            outTxt.Append(ch);
        }
        Console.WriteLine(outTxt.ToString());
        return outTxt.ToString();
    } 
```

方法必须这样写（无一例外）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T10:09:56.027

C# 中的数组是从 0 开始的，而不是从 1 开始的。您正在从`n`1 迭代，但您需要从`n-1`0 迭代：

```
for (int i = inTxt.Length - 1; i >= 0; i--) 
```

另一方面，如果您只想反转字符串，则使用 LINQ 有一个更简单的解决方案：

```
var reversed = new String(inTxt.Reverse().ToArray()) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:11:16.557

扭转试试这个

```
string reversed = new string(stringinput.Reverse().ToArray()); 
```

或者

```
string input = "hello world";
char[] inputarray = input.ToCharArray();
Array.Reverse(inputarray);
string output = new string(inputarray); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T10:09:45.887

试试这个

```
public string FlipString(string inTxt)
{
    StringBuilder outTxt = new StringBuilder();
    for (int i = inTxt.Length-1; i >= 0; i--)
    {
        char ch = inTxt[i];
        outTxt.Append(ch);
    }
    Console.WriteLine(outTxt.ToString());
    return outTxt.ToString();
} 
```

你需要让你第一次进入循环是你的字符串的长度 - 1 因为字符串数组是从零开始的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T10:09:49.710

扩展方法：

```
public static string Reverse(this string source)
{
    char[] arr = source.ToCharArray();
    Array.Reverse(arr);
    return new string(arr);
} 
```

并使用：

```
var reverted = source.Reverse(); 
```

ps 尽量保持简单。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-06T10:09:55.683

```
public string FlipString(string inTxt)
{
    StringBuilder outTxt = new StringBuilder();
    for (int i = inTxt.Length - 1; i >= 0; i--)
    {
        char ch = inTxt[i];
        outTxt.Append(ch);
    }
    Console.WriteLine(outTxt.ToString());
    return outTxt.ToString();
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-06T10:09:56.120

您需要从最后一个字符开始，即字符串的长度减 1，因为字符串是从零开始的。

```
public string FlipString(string inTxt)
    {
        StringBuilder outTxt = new StringBuilder();
        for (int i = inTxt.Length-1; i >= 0; i--)
        {
            char ch = inTxt[i];
            outTxt.Append(ch);
        }
        Console.WriteLine(outTxt.ToString());
        return outTxt.ToString();
    } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-06T10:11:29.743

字符串中的索引从 0 开始并达到 Length - 1。

第一个操作是

```
char ch = inTxt[inTxt.Length] 
```

所以你的代码应该是

```
public string FlipString(string inTxt)
{
    StringBuilder outTxt = new StringBuilder();
    for (int i = inTxt.Length - 1; i > 0; i--)
    {
         char ch = inTxt[i];
         outTxt.Append(ch);
    }
    Console.WriteLine(outTxt.ToString());
    return outTxt.ToString();
} 
```

# git - 重新安装 git 时我会丢失本地 git 分支吗？

> ID：13248727
> 
> 赞同：1
> 
> 时间：2012-11-06T10:08:01.573
> 
> 标签：git

当我卸载 git 并稍后再次安装时，我会丢失本地分支吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T10:11:12.427

简短的回答：没有。

您可以卸载 git，但只要您不删除项目的`.git`文件夹，您就不会丢失任何东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:11:39.260

git 中的所有内容都存储在存储库的 .git 文件夹中，因此独立于您的 git 安装。只要您不删除任何名为 .git 的文件夹，您就可以做任何您想做的事情而不会丢失您的分支和历史记录。

# java - 方法和引用调用

> ID：13248730
> 
> 赞同：-2
> 
> 时间：2012-11-06T10:08:02.083
> 
> 标签：java, methods

我正在尝试使用方法来显示一个值，然后以不同的十进制格式交替显示它。主要问题是输入后我无法调用该值。这是我知道的唯一问题，但如果还有其他我没有掌握的东西，我会非常感谢任何洞察力。

```
//*************************************************
//Hwk8 This Program displays Java Methods
//Written By: Daniel Kellogg
//Last Modified: 11/05/12
//************************************************
import java.util.Scanner;
import java.io.*;  
import java.text.DecimalFormat;
import javax.swing.JOptionPne;

public class Hwk8 {
        public static void main (String[] args) throws IOException {
                double value; 
                double value2;
                double value3;
                double value4;
                double value5;

                value = getValue();
                System.out.println(value);

                value2 = getValue2();
                System.out.println(value2);

                value3 = getValue3();
                System.out.println(value3);

                value4 = getValue4();
                System.out.println(value4);

                value5 = getValue5();
                System.out.println(value5);

                System.exit(0);
        }

        public static double value()
        {
                double value;
                value = JOptionPane.showInputDialog("enter value");
                return value;
        }

        public static double value2(value) throws IOException
        {
                double value2;
                value2 = roundToInteger(value);
                return value2;
        }       

        public static double value3(value) throws IOException
        {       
            double value3;
            value3 = roundToTenths(value);
            return value3;
        }

        public static double value4(value) throws IOException
        {
                double value4;
                value4 = roundToHundredths(value);
                return value4;
        }

        public static double value5(value) throws IOException
        {       
                double value5;
                value5 = roundToThousandths(value);
                return value5;
        }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:13:52.190

您的方法声明无效：

```
public static double value2(value) 
```

您需要提供参数*类型*，例如

```
public static double value2(double value) 
```

然后，您需要在调用它时为该参数提供一个*参数，例如*

```
value2 = getValue2(value); 
```

其他注意事项：

*   我还强烈建议您在首次使用时声明局部变量，而不是在方法开始时声明它们。
*   您无需调用`System.exit(0)`- 当方法完成时您的进程将已经退出`main`（因为您尚未创建任何线程）
*   你的方法永远不会抛出`IOException`——你为什么要声明它们可能会抛出？
*   您的方法每个都声明一个局部变量，然后分配一个值，然后返回该值。为什么不一步到位呢？

    ```
    return roundToTenths(value); // Complete body of value3 
    ```

    （此时，该方法本身当然毫无意义，因为您可以`roundToTenths`改为调用......）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:11:12.920

您正在调用名称`getValue`为 的函数，但您引用的函数的名称为`value`. 也许是半完整的重命名？

在您的, 您将无法仅通过标识符`main`访问您的`value` *函数*`value`，因为您已经定义了一个具有该名称的局部变量，它会隐藏它。因此，要使用该`value` *函数*，您需要使用其完全限定名称`Hkw8.value`.

# iphone - 如何根据文本设置标签，但我也想要背景颜色

> ID：13248734
> 
> 赞同：-1
> 
> 时间：2012-11-06T10:08:11.070
> 
> 标签：iphone, uitextfield, uilabel

如何**`UILabel`**根据**文字**设置，但我**`backGroundColor`**也想在里面，如果**文字**很小，那么它会显示**背景色为黑色**和文字的背景小标签，反之亦然。怎么办？

![在此处输入图像描述](../Images/40fe89b65bda0584a940d4aacee9d6b9.png)

在图像中，黑色背景颜色是根据动态文本来的。我想要黑色背景颜色，直到文本印度。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:27:19.647

尝试这个

```
NSString *sample = @"...";
CGSize txtSz = [sample sizeWithFont:[UIFont fontWithName: @"Helvetica" size: 16]];
CGRect lblFrame = CGRectMake(10,50, txtSz.width, txtSz.height);
yourLabel.frame = lblFrame;
yourLabel.backgroundColor = [UIColor blackColor]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T10:19:31.157

让 UILabel 适合所有文本使用 sizeToFit

```
[label sizeToFit]; 
```

如果您想让图片背景的大小作为标签大小，请使用 imageview

```
imageView.frame = CGRectMake(0, 0, label.frame.size.width, label.frame.size.height); 
```

或者如果只想要标签的背景颜色，则使用

```
[label setBackgroundColor:[UIColor blackColor]]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T10:13:50.113

计算文本的宽度并将其分配给标签框架宽度。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-06T17:47:24.913

这是在我的应用程序中完成的，你必须喜欢这样做

```
 label.text = @"Some text" ;

                        CGSize textSize = [label.text sizeWithFont:label.font];

                        backView.frame=CGRectMake(startPointX, startPointY, textSize.width, 1); 
```

在这里，您必须在标签背面创建一个新视图，该名称为 backview 并设置该视图的框架，然后显示它在我的应用程序中完美运行:-)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-06T10:21:40.473

以下代码可能对您有所帮助

```
 UILabel *biotitlelb = [[UILabel alloc]initWithFrame:CGRectMake(0,0,100,16)];
        [biotitlelb setTextColor:[UIColor whiteColor]];
        [biotitlelb setBackgroundColor:[UIColor blackColor]];
        biotitlelb.textAlignment = UITextAlignmentLeft;
        biotitlelb.font = [UIFont fontWithName:@"ArialMT" size:12]; 
        biotitlelb.text = @"sometext";
        CGSize textSize = [biotitlelb.text sizeWithFont:[UIFont fontWithName:@"ArialMT" size:12]];
        CGFloat strikeWidth = textSize.width;
        [biotitlelb setframe:CGRectMake(0,0,strikeWidth,16)]; 
```

# objective-c - 如何为 iPad 应用程序创建主视图

> ID：13248735
> 
> 赞同：2
> 
> 时间：2012-11-06T10:08:17.250
> 
> 标签：objective-c, ios, xcode, ipad, interface-builder

我要做的是创建某种主视图，它具有相同的页眉（带有徽标）、页脚（带有一些文本和按钮）、背景图像和导航（不是导航栏，只有几个按钮）在每个视图上。

你可以认为我在做的事情就像一个 PowerPoint 演示文稿。创建一张母版幻灯片，其布局用于每张幻灯片，您创建一张新幻灯片，它包含所有母版属性（页眉、页脚、背景等），然后它只是每张新幻灯片上更改的内容。

但是，我不太确定如何在 iOS 应用程序中执行此操作。我在 Google 上搜索了许多不同的短语，但似乎都是关于 iPad 拆分视图和使用表格视图的单元格，这不是我想要的。我能想到的就是创建一个带有视图的单个视图控制器类，然后为我想要的每个页面（大约 15-20）添加一个子 UIView，但是只有一个类，每个页面都有不同的内容和每个都需要大量代码，这会变得混乱！或者我只是在每个视图控制器上重新创建页脚和页眉等，所以如果要进行更改，那么我将有 20 个视图（如果它增长，则更多）要编辑！所以我只是想知道是否有一种简单的方法可以得到我想要的东西。

该应用程序仅适用于 iPad，我最多可以使用 5 个操作系统，因此 xib 或故事板都可以。如果有帮助，这将不会出现在应用商店中。

我在下面做了一个快速绘图。在每个页面上使用我的所有位的主视图，然后是内容幻灯片，这些幻灯片将插入和退出母版的内容区域。

![在此处输入图像描述](../Images/8e88dd9c01b231e2708cc59328da7490.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:12:58.797

查看[Containment View Controllers](http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/CreatingCustomContainerViewControllers/CreatingCustomContainerViewControllers.html#//apple_ref/doc/uid/TP40007457-CH18-SW6)。这种演示正是他们旨在处理的。2012 年有一个非常好的 WWDC 演示文稿，我相信这说明了这些工作原理。如果您搜索，在线也有几个教程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:11:49.120

也许最好的选择是创建一个主详细信息页面。那么对于每个新页面，调用master？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T10:28:18.963

如果你想在整个应用程序中显示页眉和页脚视图然后在窗口中添加页眉和页脚视图而不是在视图控制器中我认为它会起作用

# android - 安卓 JNI 错误

> ID：13248736
> 
> 赞同：1
> 
> 时间：2012-11-06T10:08:19.747
> 
> 标签：android, cordova, plugins, java-native-interface

我正在开发一个cordova / phonegap android插件来列出设备周围的wifi。

在我的插件类中，我想使用 WifiManager 来完成这项工作。这是我的执行方法：

```
public boolean execute(String action, JSONArray args, CallbackContext callbackContext) throws JSONException {
    Log.d ("WifiLister", "action : "  + action);
    if ("WifiList".equals(action)) {
        wifiList(callbackContext);          
        return true;
    }
    return false;  // Returning false results in a "MethodNotFound" error.
} 
```

这是我的 wifiList 方法：

```
private void wifiList(CallbackContext callbackContext) throws JSONException{        
    WifiManager wifiManager = (WifiManager) cordova.getContext().getSystemService(Context.WIFI_SERVICE);        
    if (!wifiManager.isWifiEnabled()) {     
        callbackContext.error("Wifi disabled, please turn on Wifi and try again");
    }
    else{
          // do something
   } 
```

在 isWifiEnabled 方法调用中，我收到以下错误：

```
JNI ERROR (app bug): attempt to use stale local reference 0x1
VM aborting
fatal signal 11 (SISEGC) at 0Xdeadd00d (code=1) 
```

我发现想要将本机（C/C++）代码放入 android 应用程序的人也发现了同样的错误，他们必须使用 newGlobalRef 方法来 . 但这不是我的情况，我使用的是纯 Java 代码。

任何人都可以帮忙吗？

谢谢 ！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-14T04:12:04.943

看看[https://groups.google.com/forum/?fromgroups=#!msg/phonegap/U5U5X07bEUI/TG4VppzazfQJ](https://groups.google.com/forum/?fromgroups=#!msg/phonegap/U5U5X07bEUI/TG4VppzazfQJ) - 这可能是权限问题。

# java - sql-query中的Java Hibernate常量

> ID：13248737
> 
> 赞同：0
> 
> 时间：2012-11-06T10:08:16.857
> 
> 标签：java, mysql, sql, hibernate

以下是我拥有的休眠 sql 查询的原始内容：

```
<sql-query name="countryOfOrigin-limit-country-city-location">
<return alias="rb" class="RecentBooking"/>
    SELECT 
        bb.reserv_num as {rb.reservNum}, 
        bb.origin as {rb.countryOfOrigin}, 
        bb.pick_up_loc as {rb.locationId}, 
        bb.first_date as {rb.bookingDate}, 
        bb.pick_up_time as {rb.pickUpDate}, 
        bb.drop_off_time as {rb.dropOffDate},  
        bb.car_price as {rb.carPrice}, 
        bb.discount as {rb.discount}, 
        bb.exchange_rate as {rb.exchangeRate},
        SUBSTRING(a.internal_class,1,1)as {rb.carClass},
        a.car_type as {rb.carType}, 
        bb.vehicle_type as {rb.vehicleType}, 
        s.name as {rb.supplier}, 
        vv.country as {rb.country}, 
        vv.city as {rb.city}, 
        vv.location as {rb.location}, 
        bb.cur as {rb.currency}, 
        a.pics as {rb.carImage}
    FROM (SELECT * FROM b  WHERE first_date > DATE(NOW()-1)AS bb  
    JOIN a a ON a.id = bb.car_id
    JOIN d  d ON d.id = bb.pick_up_loc
    JOIN supplier s ON s.id = d.supplier_id
    JOIN v_location_trans vv ON vv.location_id = d.location_id
    AND vv.lang=33
    AND vv.country = :country
    AND vv.city = :city
    AND vv.location = :location
    AND bb.origin = :countryOfOrigin
    ORDER BY bb.id DESC
    LIMIT :limit
</sql-query> 
```

sql 运行得足够快，但正如您可能已经注意到的那样，NOW()-1 应该是 NOW() - INTERVAL 1 DAY。

我修改了嵌套的select语句如下：

```
FROM (SELECT * FROM b WHERE first_date > DATE(NOW() - INTERVAL 1 DAY)) AS bb 
```

该修复程序在结果方面效果很好，但是查询速度大大减慢（几乎几乎瞬间达到几秒钟）。

我相信这是因为 DATE(NOW() - INTERVAL 1 DAY) 被评估了很多次（我们有一个非常大的数据集）。我将如何分离这个计算以便它只发生一次，而不必从 Java 代码（如国家、城市、限制等）中传递它？

我对休眠或 SQL 的经验很少，我尝试在 select 语句之前将计算分离到一个变量中，这是不允许的。我还尝试对 SQL 查询进行小幅更改，但我不断收到运行时错误，可能是由于 SQL 无效。

我该怎么做呢？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:16:58.857

`bb`您正在对整个记录的查询中创建一个新的临时表。

我建议您在创建临时表时过滤掉结果。

例如，如果您在创建临时表时放置 AND 子句

`AND bb.origin = :countryOfOrigin`

喜欢：

```
FROM (SELECT * FROM b  WHERE first_date > (NOW() - INTERVAL 1 DAY) AND origin = :countryOfOrigin)AS bb 
```

你也可以限制它。

```
FROM (SELECT * FROM b  WHERE first_date > (NOW() - INTERVAL 1 DAY) AND origin = :countryOfOrigin LIMIT :limit)AS bb 
```

**已编辑**——新答案。

我认为您不需要更改`INTERVAL 1 DAY`，您坚持上一个查询，但将 替换`1`为`86400000`等于`INTERVAL 1 DAY`(24*60*60*1000)

新查询看起来像

```
FROM (SELECT * FROM b WHERE first_date > (NOW() - 86400000) 
               AND origin = :countryOfOrigin LIMIT :limit) AS bb 
```

# android - Android点击和触摸事件无法正常工作

> ID：13248747
> 
> 赞同：1
> 
> 时间：2012-11-06T10:09:00.087
> 
> 标签：android

实际上，我有一个从服务器下载数据的活动，该数据包含纬度、经度和各种场所的图像，这些图像是从服务器下载并显示在 listview 中，在同一活动中，我通过隐藏 listview 来交替显示 listview 和 mapview 和mapview 分别。我收到此错误 bimap size 超出虚拟内存

为此，我只是添加了 try-catch 语句，但是在单击 listview 时，我的 clickevents 响应很晚，并且我的应用程序被强制关闭，而不会在 Logcat 中显示任何错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:23:53.713

只需使用从服务器下载的延迟图像或在后台进程中加载​​图像（异步任务）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:28:16.163

您可以参考这个谷歌示例来了解更多关于如何处理内存不足异常的信息。

[http://developer.android.com/training/displaying-bitmaps/index.html](http://developer.android.com/training/displaying-bitmaps/index.html)

由于内存不足，您的应用程序没有响应。

我希望这个网址对你有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T10:17:25.710

您的应用程序突然关闭，因为它没有足够的内存。寻找其他替代方案。我可以建议一个选项。在地图和列表视图上使用菜单并使用它们相互切换。

# wordpress - Wordpress 表单过滤器中的按钮复选框引导程序

> ID：13248748
> 
> 赞同：2
> 
> 时间：2012-11-06T10:09:01.077
> 
> 标签：wordpress, twitter-bootstrap

我想在 wordpress 中使用引导按钮来过滤类别，但我不知道最好的方法是什么。

这是我的标记：

```
<?php $categorias = get_categories();?>

 <form method="post" action="<?php echo get_permalink(); ?>">
   <div class="btn-group" data-toggle-name="cat" data-toggle="buttons-checkbox" >
        <label class="control-label" for="inputIcon">Selecciona entre las categorias</label>
        <?php 
             foreach( $categorias as $cat):
                echo '<button type="button" class="btn" rel="tooltip" data-placement="bottom" data-original-title="Seleccionar" value="'.$cat->term_id.'">'.$cat->name.'</button>';
             endforeach;
        ?>
            <input type="hidden" value="" name="cat">
            <button class="btn" type="submit" >enviar</button>
   </div>

  </form> 
```

有谁能够帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-06T20:39:49.990

```
<?php
    foreach( $categorias as $cat):
        $cat_link = get_category_link( $cat->cat_ID );
                echo '<a class="btn" href="'.$cat_link.'">'.$cat->name.'</a>';
             endforeach;
?> 
```

应该足以创建一些带有类别链接的按钮。
如果您必须使用表格，请执行此操作

```
<input type="hidden" name="filter-category" id="filter-category" value="0" >
<?php
    foreach( $categorias as $cat):
        $cat_link = get_category_link( $cat->cat_ID );
                echo '<button type="button" class="btn filter-category" value="'.$cat->cat_ID.'">'.$cat->name.'</button>';
             endforeach;
?>

<script type="text/javascript">
$(document).ready(function(){
    $('.filter-category').on('click', function() {
        cat = $(this).val();
        $('#filter-category').val(cat);
    });
});
</script> 
```

然后您使用该隐藏输入发布您的类别 ID。

# jquery - 如何使用浏览器更改大小自动调整 img 组的大小？

> ID：13248752
> 
> 赞同：0
> 
> 时间：2012-11-06T10:09:08.603
> 
> 标签：jquery, html, css

如何使用浏览器更改大小自动调整 img 组的大小？

我几乎在css中完成它，但现在我无法设置溢出：隐藏让第5个或第6个..图片隐藏。

（来自 php 的 img）
（我将连接 jQuery 插件[scrolling-carousel](http://www.convergent-evolution.co.uk/resources/jquery-plugins/scrolling-carousel/)。）

任何建议我都非常感谢你抽出时间。

这是我的[http://jsfiddle.net/uSHbc/1/](http://jsfiddle.net/uSHbc/1/)
HTML

```
<div class="conimgwrap2">
    <div class="conimgwrap">
        <div class="conimg">

            <div>
                <img src="http://fancyapps.com/fancybox/demo/2_s.jpg">
            </div>                
            <div>
                <img src="http://fancyapps.com/fancybox/demo/2_s.jpg">
            </div>
            <div>
                <img src="http://fancyapps.com/fancybox/demo/2_s.jpg">
            </div>                
            <div>
                <img src="http://fancyapps.com/fancybox/demo/2_s.jpg">
            </div>
            <div>
                <img src="http://fancyapps.com/fancybox/demo/2_s.jpg">
            </div>

        </div>
    </div>
</div>​ 
```

CSS

```
.conimgwrap2{
    position: relative;
    left: 50%;
    width: 50%;
}
.conimgwrap{
    position: absolute;
    width: 25%;
    height: 25%;
}

.conimg{
    max-width: 100%;
    max-height: 100%;
    background-color: yellow;
    display: inline;
    white-space: nowrap;
}

.conimg div{
    display: inline;
    white-space: nowrap;
}
.conimg img{
    max-width: 100%;
    max-height: 100%;
}​ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:22:14.033

我不明白你的意思“我几乎在 css 中完成它，但现在我无法设置溢出：隐藏让第 5 或第 6 .. 图片隐藏。”

但是，如果您想通过浏览器更改大小来调整图像大小，您可以使用以下 css 来完成。

.conimg img{ 最大宽度：100%；高度：自动；}​</p>

谢谢你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T19:23:34.947

我会这样做：

```
.conimg div{
    display: inline-block;
    max-width: 20%; /* (100% / the number of divs) */ 
}
.conimg img{
    max-width: 100%;
    height: auto;
    width: auto\9; /* ie8 hack */
}​ 
```

这将在图像容器的父级内创建等距的 div（在您的示例中为 5 个元素），并且在调整窗口大小时，图像及其容器都将按比例放大/缩小。

**演示**
[http://jsfiddle.net/buqqn/](http://jsfiddle.net/buqqn/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-07T19:25:08.373

内-

> 显示：内联；
> 最大宽度：_%；
> 最大高度：100%；

外-

> 空白：nowrap；
> 和位置集学习如何从[http://www.alistapart.com/articles/conflictingabsolutepositions](http://www.alistapart.com/articles/conflictingabsolutepositions)

# ruby-on-rails - 无法使用 QUIT 正常关闭独角兽服务器

> ID：13248758
> 
> 赞同：1
> 
> 时间：2012-11-06T10:09:32.490
> 
> 标签：ruby-on-rails, ruby-on-rails-3, unicorn

我们正在使用 unicorn 和通常的[零停机时间部署设置为我们的 Rails 应用程序进行零停机时间部署。](http://ariejan.net/2011/09/14/lighting-fast-zero-downtime-deployments-with-git-capistrano-nginx-and-unicorn)（我们没有使用示例中的确切设置，但情况相似）。

这曾经有效，但在我们升级到 Rails 3.2 的过程中，我们遇到了一个奇怪的问题：

*   老独角兽大师得到`USR2`
*   新主人诞生
*   然而，老主人**永远不会**终止，而且似乎完全没有反应`QUIT`。
*   旧主人仍然会对`WINCH`所有工作人员做出反应并关闭它，并且可以关闭它`TERM`- 但优雅的关闭是行不通的

我们确实尝试从主进程关闭数据库连接，但如果它仍然保持 Redis 连接（如果这会导致问题），则不是完全的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T15:55:28.470

仅针对遇到问题的人：有人将[这个要点](https://gist.github.com/1137342)放入我们的代码中，巧妙地捕获了 QUIT 信号......叹息。所以它与独角兽设置完全无关。

# android - Android 自定义 ListView 滚动后行中的 Snipper 变为默认值

> ID：13248760
> 
> 赞同：0
> 
> 时间：2012-11-06T10:09:36.720
> 
> 标签：android, android-layout

我有一个 BaseAdapter 和自定义行我有几个项目，如 TextView、ImageView 和 Snipper。

现在，当这个人滚动该 ListView 时。Snipper 包含类似 {1 --> 10}。将 FirstRow 上的选择从 1-->3 更改后

然后向下滚动。在那之后，Row 消失了。返回值是回到 1 而不是 3。

我确实注意到的是，它一次又一次地绑定，而不是上下波动。

那么有什么解决方案吗？这是我的 BaseAdapter。

```
public class VDC_QN_Adapter extends BaseAdapter {

private Activity activity;
private ArrayList<HashMap<String, String>> data;
private static LayoutInflater inflater = null;
public ImageLoader imageLoader;

public  VDC_QN_Adapter(Activity a,
        ArrayList<HashMap<String, String>> d) {
    activity = a;
    data = d;
    inflater = (LayoutInflater) activity
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    imageLoader = new ImageLoader(activity.getApplicationContext());
}

public int getCount() {
    return data.size();
}

public Object getItem(int position) {
    return position;
}

public long getItemId(int position) {
    return position;
}

public View getView(int position, View convertView, ViewGroup parent) {

    View vi = inflater
            .inflate(R.layout.row,
                    parent, false);

    TextView title = (TextView) vi
            .findViewById(R.id.row_ItemName); // title

    HashMap<String, String> song = new HashMap<String, String>();
    song = data.get(position);

    // Setting all values in listview
    title.setText(song.get(VDC_QN.ItemName));

    try {
        Spinner spinner2 = (Spinner) vi
                .findViewById(R.id.spinner1);
        List<String> list1 = new ArrayList<String>();
        for (int row = 0; row <= 10; row++) {
            list1.add(Integer.toString(row));
        }

        ArrayAdapter<String> dataAdapter = new ArrayAdapter<String>(
                vi.getContext(), android.R.layout.simple_spinner_item,
                list1);
        dataAdapter
                .setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinner2.setAdapter(dataAdapter);

    } catch (Exception ex) {
        Log.i("infor", "adfasdfs");
    }

    return vi;
}
} 
```

# ember.js - Ember.js CollectionView 和车把模板

> ID：13248762
> 
> 赞同：1
> 
> 时间：2012-11-06T10:09:44.780
> 
> 标签：ember.js, handlebars.js

我是 ember.js 的新手，在显示我的 collectionview 时遇到问题：

```
 var KAListView = Ember.CollectionView.extend({
    tagName: 'kalist'
});
    App.TestlistView = KAListView.create({
    content: [
        {title : "item1",
         sub : "ceci est un sous titre"}"}
        ,
        {title : "item5",
         sub : "ceci est un sous titre"}
        ,
        {title : "item6",
         sub : "ceci est un sous titre"}
        ,
        {title : "item7",
         sub : "ceci est un sous titre"}
],
        itemViewClass: KAListElemView.extend({
        template: elemtemplate
    })
}); 
```

当我`appentTo('body')`这样做时，但我想将其添加到我的模板中。我认为由于 collectionview 继承自我`Ember.View`可以简单地编写`{{view App.TestlistView}}`，但我得到一个错误，即我的对象不是视图。

如何在我的模板中简单地显示集合视图？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T11:01:08.477

使用`{{collection App.TestlistView}}`for`Collection`更重要的是它不继承自`Ember.View`它继承自`Ember.ContainerView`

# jquery - 升级到 2.2.0 后 Ajax 调用返回 HTTP 401

> ID：13248764
> 
> 赞同：0
> 
> 时间：2012-11-06T10:09:47.807
> 
> 标签：jquery, cordova

我刚刚将我的应用程序的 phonegap 从 0.9.3 更新到 2.2.0，并在一些设备上测试了这些应用程序。

*   对于 Android 2.3 - 应用程序运行良好（能够使用用户名和密码进行 ajax 调用）。
*   对于 Android 4.0 - 继续获取返回 HTTP 401。
*   对于 Android 4.1.2 - 继续返回 HTTP 401。

我也在我的应用程序中使用 jquery.mobile-1.0a2。

任何人都知道如何解决 ajax 调用不断返回 Adroid 4.0 和 4.1.2 版本的 HTTP 401 问题？

下面是我的ajax调用代码。

```
$.ajax({
type: "GET",
username: uname,
password: pword,
cache: false,
url: baseURL+'weeks',
timeout: (14*1000),
dataType: "xml",
error: loginErrorHandler,
success: weeksParse,
}); 
```

# ruby - Ubuntu 12 上的 Sinatra - SSL 错误

> ID：13248771
> 
> 赞同：2
> 
> 时间：2012-11-06T10:09:59.590
> 
> 标签：ruby, ubuntu, ssl, sinatra, webrick

Sinatra 应用程序，Ubuntu 12

```
#config.ru
require 'sinatra/base'
require 'openssl'
require 'webrick'
require 'webrick/https'

class App1 < Sinatra::Base
  get '/' do
    'app1'
  end
end

class App2 < Sinatra::Base
  get '/' do
    'app2'
  end
end

app = Rack::Builder.new do 
  map '/app1' do
    run App1
  end
  map '/app2' do
    run App2
  end
end

webrick_options = {
  :Port               => 8443,
  :Logger             => WEBrick::Log::new($stdout, WEBrick::Log::DEBUG),
  :DocumentRoot       => "./public",
  :SSLEnable          => true,
  :SSLCertificate     => OpenSSL::X509::Certificate.new(  File.open("/etc/ssl/certs/ssl-cert-snakeoil.pem").read),
  :SSLPrivateKey      => OpenSSL::PKey::RSA.new(          File.open("/etc/ssl/private/ssl-cert-snakeoil.key").read),
  :SSLCertName        => [ [ "CN",WEBrick::Utils::getservername ] ]
}

Rack::Handler::WEBrick.run app, webrick_options 
```

然后我运行它

```
sudo rackup 
```

它运行并且似乎没问题：

```
[2012-11-06 16:10:14] INFO  WEBrick 1.3.1
[2012-11-06 16:10:14] INFO  ruby 1.9.3 (2012-04-20) [x86_64-linux]
[2012-11-06 16:10:14] DEBUG TCPServer.new(0.0.0.0, 8443)
[2012-11-06 16:10:14] DEBUG TCPServer.new(::, 8443)
....... 
```

但是当我去`http://localhost:8443/app1`我得到

```
[2012-11-06 17:07:25] ERROR OpenSSL::SSL::SSLError: SSL_accept returned=1 errno=0 state=unknown state: http request
        /usr/lib/ruby/1.9.1/openssl/ssl-internal.rb:164:in `accept'
[2012-11-06 17:07:25] ERROR OpenSSL::SSL::SSLError: SSL_accept returned=1 errno=0 state=unknown state: http request
        /usr/lib/ruby/1.9.1/openssl/ssl-internal.rb:164:in `accept'
[2012-11-06 17:07:25] ERROR OpenSSL::SSL::SSLError: SSL_accept returned=1 errno=0 state=unknown state: http request
        /usr/lib/ruby/1.9.1/openssl/ssl-internal.rb:164:in `accept' 
```

以及页面中的“此网页不可用”标签。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-23T14:40:48.750

WEBrick 将浏览器的 HTTP 请求解释为格式错误的 HTTPS 请求。

要改为发出 HTTPS 请求，请访问`https://localhost:8443/app1`。

您总是可以运行第二个服务器，例如在端口 8080 上，它将 HTTP 请求重定向到 HTTPS URL。

# java - 基于 WAR 上下文访问属性（单个 EAR 中的多个 WAR）

> ID：13248772
> 
> 赞同：1
> 
> 时间：2012-11-06T10:10:08.880
> 
> 标签：java, war, ear, websphere-7

我使用两个 WAR 文件生成了一个 EAR，并为每个战争提供了一个唯一的上下文名称。

在 Websphere Application Server 7 中部署 EAR 后，我发现无论哪个上下文首先命中都会正确加载，而第二个上下文命中会加载与第一个上下文相同的页面。

经过进一步分析，我们发现有一个同名的属性文件可分别用于 WAR 1 和 WAR 2。理想情况下，正在访问的第一个上下文的属性文件正在加载，并且属性值是存储在缓存中。

因此，当第二个上下文被命中时，加载的相同静态属性会被引用，从而导致加载相同的第一个上下文页面。

这里的问题是两个 WARS 的属性名称是通用的，而值静态保存每个 WAR 的上下文名称。

如何使上下文名称动态识别并引用相应的属性？

等待指示..

谢谢 ！

我现在的问题是我有一组具有相同名称但基于上下文的不同值的属性，例如一个名为“redirectURL”的属性，其值为“context1/page1”或“context2/page2”。自从战争单独部署在tomcat上以来，每次战争都通过不同的属性文件加载这些属性并且工作正常。现在在迁移到 WAS 时，我不得不将它们合并到一个 EAR 中，即只有一个属性文件被加载，并且值也被缓存并重用于其他上下文。请建议解决这个问题。谢谢 ！

# grails-orm - Grails - 2 个域和 1 个表单创建/更新/编辑问题

> ID：13248775
> 
> 赞同：1
> 
> 时间：2012-11-06T10:10:24.497
> 
> 标签：grails-orm, grails-2.0, grails-domain-class, grails-controller

遇到了一些巨大的挫败感。也许我正在尝试像 rails 和 active record 这样的 grails。

我有 2 个域。父级称为“报告”，子级称为“类别”。

用户创建一个新报告，如果他们愿意，他们可以添加一个类别。报告只能有一个类别。但是，我希望允许按类别对报告进行排序或按类别列出，甚至按类别计数。是的，这个专栏可以进入报告领域，但我想为未来的案例分开。所以下面我有我的域名；

域 1 = 报告

```
class Report

string reportname
string reportype 
```

领域 2 = 类别

```
class Category

Report report

string categoryname 
```

我有 2 个控制器，1 个用于报告，1 个用于类别，既有粗鲁方法，也没有脚手架。

如何在报表 _form 中设置视图以创建/编辑/更新类别域？我已经阅读了 gorm 文档、grails 文档和其他文档，但仍然对此感到困惑。

我是否需要编辑我的报表控制器来处理类别域？即使用/edit/update/create 的每个方法导入类别和供应类别定义。

我是否需要编辑报告表单以获取报告参数并将其传递到类别名称字段的隐藏字段中，以便在调用保存操作时，类别域提交猫名称和报告 ID。

我的模型全错了吗？我已经尝试过 hasone, hasmany belongsto 但是我需要将类别与报告分开，因为我希望能够显示按类别分隔的报告页面，并且只允许一组报告的唯一类别名称以减少类别中的拼写错误名字。即我想设置一个类别名称并将其与报告相关联。

新来的圣杯所以请原谅我。也许我需要坐下来喝杯啤酒并阅读更多内容。干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T14:55:30.197

有很多方法可以处理您的场景。一种方法是在 ReportController 中使用重定向并将参数传递给 CategoryController。

# actionscript-3 - Flex 应用程序中的 Channel.Security.Error

> ID：13248776
> 
> 赞同：1
> 
> 时间：2012-11-06T10:10:24.457
> 
> 标签：actionscript-3, apache-flex, security, soap

我有一个在多个域 (HTTP) 上运行的 Flex 应用程序。应用程序使用驻留在 HTTPS 上的 WSDL 服务与服务器进行通信。

由于（对我而言）未知的原因，*有时*我会看到一个日志条目告诉我这样的事情：

`[FaultEvent fault=[RPC Fault faultString="Sikkerhetsfeil ved tilgang til URL-adresse" faultCode="Channel.Security.Error" faultDetail="Mål: DefaultHTTP"] messageId="D2B72EF4-65FD-4A36-6117-D4DC95E63E01" type="fault" bubbles=false cancelable=true eventPhase=2]`

我设法通过查找此错误推断出它与 SOAP 调用有关。我尝试`crossdomain.xml`根据[此信息](http://dotanything.wordpress.com/2008/08/11/flex-security-error-accessing-url-or-channelsecurityerror/)应用一些额外的条目，但它并没有真正帮助。crossdomain.xml的当前内容如下：

```
<cross-domain-policy>
<site-control permitted-cross-domain-policies="all"/>
<allow-access-from domain="*" secure="false"/>
<allow-http-request-headers-from domain="*" headers="*" secure="false"/>
</cross-domain-policy> 
```

最令人抓狂的是，这个错误只是非常零星地发生，并且在任何立即可识别的方式上都不一致。

任何人？关于为什么会发生这种情况的线索？

# c# - 如何在事件或方法中获取发送到控制台输出的文本

> ID：13248780
> 
> 赞同：0
> 
> 时间：2012-11-06T10:10:31.930
> 
> 标签：c#

当我的应用程序试图在控制台上写东西时，我需要捕获事件。

```
Console.WriteLine("Any text"); 
```

是否可以在事件或方法中将文本发送到控制台输出？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:20:31.360

一种方法是创建一个新的流覆盖，如本文所示：

[http://mel-green.com/2010/01/progressstream/](http://mel-green.com/2010/01/progressstream/)

然后，您需要将其设置为控制台写入的流，例如

```
MemoryStream ms = new MemoryStream();
ProgressStream progressStream = new ProgressStream(ms);
Console.SetOut(new StreamWriter(progressStream)); 
```

然后使用进度流的事件来查看它何时被写入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:24:20.670

这可能对您有帮助：

```
using System;
using System.IO;

namespace nsStreams
{
    public class Redirect
    {
        static public void Main ()
        {
            FileStream ostrm;
            StreamWriter writer;
            TextWriter oldOut = Console.Out;
            try
            {
                ostrm = new FileStream ("./Target.txt", FileMode.OpenOrCreate, FileAccess.Write);
                writer = new StreamWriter (ostrm);
            }
            catch (Exception e)
            {
                Console.WriteLine (e.Message);
                return;
            }
            Console.SetOut (writer);

            Console.SetOut (oldOut);
            writer.Close();
            ostrm.Close();
            Console.WriteLine ("Done");
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-12-15T04:10:51.983

这是我用来为控制台内容创建线程安全侦听器的示例，我们将其“打印”到 WPF 元素绑定到的可观察集合中。

创建一个自定义 TextWriter 类，以便您可以挂钩该过程：

```
public class CustomTextWriter : TextWriter
{
    private readonly StringBuilder lineBuffer = new();

    public event EventHandler<StringEventArgs>? LogModelReadyToAdd;

    public override Encoding Encoding => Encoding.UTF8;

    public override void Write(char value)
    {
        // This is the inner-most write, as it is down to a single character
        if (value is '\r' or '\n')
        {
            if (lineBuffer.Length > 0)
            {
                LogModelReadyToAdd?.Invoke(
                    this,
                    new(lineBuffer.ToString()));
                lineBuffer.Clear();
            }
            return;
        }
        lineBuffer.Append(value);
    }
} 
```

使用快速字符串事件 args 对象：

```
public class StringEventArgs : EventArgs
{
    public StringEventArgs()
    {
    }

    public StringEventArgs(string @string)
    {
        String = @string;
    }

    public string? String { get; init; }
} 
```

在我的主窗口中（上下文是我要绑定的，我的 OnInitialized 中有这个）：

```
CustomTextWriter writer = new();
writer.LogModelReadyToAdd += async (_, args) =>
{
    if (Application.Current.CheckAccess())
    {
        TheContext.StepLog?.Add(new() { Log = args.String, });
        return;
    }
    await Application.Current.Dispatcher.BeginInvoke(
        DispatcherPriority.Background,
        new Action(() => TheContext.StepLog?.Add(new() { Log = args.String, })));
};
Console.SetOut(writer); 
```

# cuda - cuda 到 llvm 位码转换

> ID：13248781
> 
> 赞同：1
> 
> 时间：2012-11-06T10:10:38.497
> 
> 标签：cuda, llvm, gpu

我想将 CUDA 代码转换为 llvm 位码，以便对其进行检测。我试过 gpuocelot，它将 ptx 编译成 CPU 可执行代码。尽管如此，我无法从中获取 llvm 位码，因此无法对其进行检测。有一些活动试图让 llvm 支持 CUDA。任何人都可以提供一个强大的解决方案来将 CUDA 转换为可行的 llvm 位码吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T11:18:22.430

NVIDIA 的 nvcc 实际上是使用 LLVM IR 作为其步骤之一。他们可能已经改变了一点——我还没有看到细节。他们在下面进行了解释：

[https://developer.nvidia.com/cuda-llvm-compiler](https://developer.nvidia.com/cuda-llvm-compiler)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-14T05:39:14.447

您现在应该可以使用 Clang 将 CUDA（混合模式）编译为 LLVM IR。看看[这个页面](http://llvm.org/docs/CompileCudaWithLLVM.html)。请注意，此支持仍处于试验阶段。随时向 LLVM 社区报告错误。

# phpdoc - PHPDOC2 输出不产生

> ID：13248785
> 
> 赞同：0
> 
> 时间：2012-11-06T10:10:43.780
> 
> 标签：phpdoc

安装 phpdoc 后。我已经运行

`phpdoc run -h`

它给出了输出。但是运行时 `phpdoc run -d . -t ouput` 不会产生任何输出。需要做的任何更改请建议我。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T19:02:51.317

验证您在同一个“。”中至少有一些 *.php 文件。源目录。

# iphone - UIImage 上的 Iphone 加密 - AES 256 加密上的 kCCBufferTooSmall 错误

> ID：13248786
> 
> 赞同：2
> 
> 时间：2012-11-06T10:10:53.107
> 
> 标签：iphone, encryption, uiimage, aes, nsdata

我看过[这个](https://stackoverflow.com/questions/6016318/encrypt-and-decrypt-algorithm-for-image-in-iphone)帖子，那里提到的加密技术运行良好。但并非在所有情况下。

**要求：**

很简单，拍摄一张图像，对其进行加密，然后存储加密数据。稍后，获取加密数据，对其进行解密，重新创建原始图像并显示。

**我做了什么**

从上面提到的线程中，我发现[NSData 添加了 AES 256 加密](http://pastie.org/426530)。我尝试使用它，但取得了部分成功。这是代码

```
//encryption
NSData *srcData       =   UIImageJPEGRepresentation(srcImage, 1.0);
NSLog(@"srcData length : %d",[srcData length]);
NSData *encryptedData =   [srcData AES256EncryptWithKey:KEY];
NSLog(@"encrypted data length : %d",[encryptedData length]);

........

//later..
//decryption
decryptedImage  =   [UIImage imageWithData:[encryptedData AES256DecryptWithKey:KEY]];
imageView.image =   decryptedImage; 
```

**怎么了**

对于小图像，例如分辨率为 48*48 的图像，此代码可以成功运行。但是当我在具有更高分辨率的图像中运行代码时，比如 256 * 256，该方法`AES256EncryptWithKey`失败并出现错误`kCCBufferTooSmall`(-4301)。

**问题**

1.  AES 256 是否对要加密的有效负载的大小（以字节为单位）施加任何限制？
2.  如果第一个问题的答案是**肯定**的，那么在 iphone 中使用什么样的加密算法来加密图像（可能是大的）？
3.  如果第一个问题的答案是**NO**，那么为什么会出现这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-30T00:32:02.160

1.  不，不是。一些散列函数确实有最大值，但更多的是 2^64，所以通常你不必担心。
2.  不适用
3.  它可能`dataWithBytesNoCopy`与与调用的组合有关`malloc`，但如果不实际运行代码就很难找到。

请注意，该包装器非常脑残，因为它确实需要一次加密，而无需使用`CCCryptorUpdate`. 它不使用危及安全的 IV。它将键作为字符串处理。最后，它为解密创建了太大的缓冲区大小。您最好使用更可靠的来源创建自己的。

# c++ - OpenCV - 在鼠标回调中访问图像中的像素

> ID：13248787
> 
> 赞同：0
> 
> 时间：2012-11-06T10:10:53.287
> 
> 标签：c++, opencv

我想在 OpenCV 中实现鼠标回调并将强度值打印到控制台。我尝试了以下方法：

```
void mouseHandler( int event, int x, int y, int flags, void* param ) {

if( event != CV_EVENT_LBUTTONDOWN )
    return;

cv::Point point = cv::Point( x, y );
cv::Mat *img = (cv::Mat*) param;
uchar val = img->at< uchar >( point );
std::printf( "x: %i y:%i val: %u\n", x, y, val ); 
} 
```

对此的呼吁是：

```
cv::setMouseCallback( "imageName", mouseHandler, &img); 
```

当我单击图像时，我的程序崩溃了。我试图只打印坐标，这很好用。显然，当我尝试访问图像值时程序崩溃了......

我有一个单通道 CV_8U 图像：

```
img.convertTo( nImg, CV_32FC3 );

cv::cvtColor( nImg, hsvImg, CV_RGB2HSV_FULL );
cv::split( hsvImg, channels );

channels[2].convertTo( chan, CV_8U );
cv::setMouseCallback( "chan", mouseHandler, &chan ); 
```

有任何想法吗？

# c# - 检测仅包含 HTML 且不包含文本的字符串

> ID：13248789
> 
> 赞同：1
> 
> 时间：2012-11-06T10:11:05.930
> 
> 标签：c#, html-parsing, html

是否可以在 C# 中检查 HTML 字符串是否实际上包含一些文本或仅由 HTML 标记和实体组成？

例如

```
string str = @"<p xmlns=""http://www.w3.org/1999/xhtml"" />" 
```

这仅包含 HTML 标记，不包含文本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:22:03.120

```
XDocument doc = XDocument.Parse(yourString);
bool containsText = doc.Root.DescendantNodes()
          .Count(el => el.GetType() == typeof (XText)) > 0 
```

**小费：**

我经常将这种方法与[SGMLReader](http://developer.mindtouch.com/en/docs/SgmlReader)结合使用，以确保 XDocument.Parse(...) 的有效 xml

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T11:53:29.830

这是将正则表达式与 HTML 结合使用的一种有效方法。它通常不使用 HTML，因为 HTML 不是常规语言。然而，我们关心的特性可以用常规语言来表达——我们不关心标签的潜在无限嵌套，这就是 HTML 不是常规语言的原因。

或者换句话说，你不能用正则表达式解析 HTML 的规则仍然适用，但你实际上并没有在这里解析。（顺便说一句，递归正则表达式至少在理论上也允许解析 HTML）。

编写它的棘手之处在于`>`属性值中允许这样做。如果不是这样，简单的表达式`^(<[^>]*>)$`将是匹配仅标签字符串所需的全部内容（如果需要，也可以调整以允许空格）。

不过，处理`>`属性的复杂性让我很喜欢：

```
public static bool IsTagsOnly(string html)
{
  bool inTag = false;
  char attChar = '\0';
  foreach(char c in html)
  {
    if(char.IsWhiteSpace(c))//include or excise this bit depending on whether you count whitespace as "content"
    {
      continue;
    }
    if(!inTag)
    {
      if(c == '<')
        inTag = true;
      else
        return false;
    }
    switch(c)
    {
      case '\'':
        switch(attChar)
        {
          case '\'':
            attChar = '\0';
            break;
          case '\0':
            attChar = '\'';
            break;
        }
        break;
      case '"':
        switch(attChar)
        {
          case '"':
            attChar = '\0';
            break;
          case '\0':
            attChar = '"';
            break;
        }
        break;
      case '>':
        if(attChar == '\0')
          inTag = false;
        break;
    }
  }
  return true;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T10:15:37.827

如果您只想解析[有效的 XHTML](http://en.wikipedia.org/wiki/XHTML)，则可以使用默认 .NET 库中的类。[`XmlReader`](http://msdn.microsoft.com/en-us/library/system.xml.xmlreader.aspx)或[`XDocument`](http://msdn.microsoft.com/en-us/library/system.xml.linq.xdocument.aspx)。

您将需要解析整个 HTML 字符串。对于每个元素，只需检查它是否包含任何文本。

但是，正如其他人所提到的，这仅适用于有效的 XML，而 HTML 通常不是。在这种情况下，您可能更喜欢其他答案中提到的库。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T10:16:44.043

如果您使用[HTML Agility Pack](http://htmlagilitypack.codeplex.com)解析输入，则可以检查该`document.DocumentNode.InnerText`属性以查看整个片段中是否有任何文本。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-11-06T10:19:43.227

每当您处理 HTML 时，它都非常棘手。

您可以简单地使用正则表达式来实现，但请注意使用正则表达式**解析 HTML 是一个坏主意！**. 这仅仅是因为 HTML 的格式可能不正确。

如果您想正确执行此操作，我建议您使用诸如**Argotic**或**HtmlAgilityPack**之类的 HTML 解析器（它们都在 NuGet 中可用）。

希望能帮助到你

# android - Android getDefaultSensor 无法解析错误

> ID：13248795
> 
> 赞同：0
> 
> 时间：2012-11-06T10:11:13.333
> 
> 标签：android, sensors

我正在尝试制作一个使用板载加速度计的应用程序。

当我设置我的传感器时，当我使用 TYPE_MAGNETIC_FIELD 时收到一条错误消息，它说：TYPE_MAGNETIC_FIELD 无法解析为变量。TYPE_ACCELERATOR 工作正常，寿。

这是我的代码：

```
@Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_sensor);

    sensMan = (SensorManager) getSystemService(Context.SENSOR_SERVICE);

    magFieldSens = sensMan.getDefaultSensor(TYPE_MAGNETIC_FIELD);
    accelerometer = sensMan.getDefaultSensor(TYPE_ACCELEROMETER);

    sensListen = new MySensorEventListener();

    orientationView = (TextView) findViewById(R.id.orientationView);

} 
```

这些在我的主要活动中定义：

```
SensorManager sensMan;
Sensor accelerometer, magFieldSens;
SensorEventListener sensListen;
    TextView orientationView; 
```

在此类中，可以按预期使用 TYPE_MAGNETIC_FIELD：

```
 class MySensorEventListener implements SensorEventListener
{

    /* 
     * @see android.hardware.SensorEventListener#onAccuracyChanged(android.hardware.Sensor, int)
     */
    @Override
    public void onAccuracyChanged(Sensor sensor, int acc)
    {
        // Edit this method, macke
        if(acc <= 1)
            Toast.makeText(SensorActivity.this, "Shake in a figure eight pattern ", Toast.LENGTH_LONG).show();

    }

    @Override
    public void onSensorChanged(SensorEvent sensorEvent)
    {
        int sensorEventType = sensorEvent.sensor.getType();

        if (sensorEventType == Sensor.TYPE_ACCELEROMETER)
            System.arraycopy(sensorEvent.values, 0, gravVals, 0, 3);

        else if(sensorEventType == Sensor.TYPE_MAGNETIC_FIELD)
            System.arraycopy(sensorEvent.values, 0, geoMagnetVals, 0, 3);
        else
            return;

        if(SensorManager.getRotationMatrix(rotMatrix, null, gravVals, geoMagnetVals))
        {
            SensorManager.getOrientation(rotMatrix, orientation);
            orientationView.setText("X: " + orientation[0] + 
                                    "\nY: " + orientation[1] + 
                                    "\nZ: " + orientation[2]);

        }

    }

} 
```

干杯/M

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:14:49.830

你可以写

```
 magFieldSens = sensMan.getDefaultSensor(Sensor.TYPE_MAGNETIC_FIELD); 
```

**TYPE_MAGNETIC_FIELD** 是 Sensor 的静态常量整数。

# c++ - 在位域中使用显式类型枚举类时的编译错误 (gcc C++0x/C++11)

> ID：13248798
> 
> 赞同：2
> 
> 时间：2012-11-06T10:11:29.153
> 
> 标签：c++, class, enums, bit-fields

在过去的三个月里，我一直很高兴地用 GCC 编译我的代码，直到我重建了我的交叉编译器，那时我发现自己收到了消息“错误：位域'...'非整数类型”。

下面是一个有问题的枚举示例：

```
typedef unsigned char byte;

enum class opStatus : byte
{
    /* Process has yet to begin execution */
    Ready,
    /* Process can resume execution */
    Started,
    /* Process has completed */
    Finished,
    /* Process is handling shutdown */
    Finishing,
};

struct // Example usage
{
    opStatus Status : 2;
}; 
```

为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-15T06:58:46.440

将位宽设为 8。毕竟它是一个字节。

一旦我这样做了（并为结构添加了一个名称），

```
g++ -std=c++11 
```

没有给我任何警告或错误。

# java - 速度模板资源未找到异常

> ID：13248808
> 
> 赞同：1
> 
> 时间：2012-11-06T10:11:57.210
> 
> 标签：java, servlets, velocity

> 发生异常：org.apache.velocity.exception.ResourceNotFoundException：找不到资源“ResourceLoader1.vm”

我在 /WEB-INF/templates 中有 ResourceLoader1.vm，我坚持下来了，请帮帮我。

```
 Properties props = new Properties();  
            props.put("file.resource.loader.path", "/WEB-INF/templates");
            Velocity.init(props);
            VelocityContext context = new VelocityContext();
            context.put("greetings", "Many Happy returns");
            context.put("name", "Joseph");
            Writer writer = new StringWriter();
            Template template = Velocity.getTemplate("ResourceLoader1.vm");
            template.merge(context, writer); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T10:16:27.430

您应该将 .vm 模板相对于 CLASSPATH 放置。更好的选择是将 /templates 目录放在 WEB-INF/classes 下，丢失 props，然后像这样获取它：

```
Template template = Velocity.getTemplate("templates/ResourceLoader1.vm"); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T10:31:55.980

您似乎在 Web 应用程序中使用 Velocity。为此，您最好使用专为这种用途设计的[VelocityViewServlet 。](http://velocity.apache.org/tools/releases/2.0/view.html)

与您的配置一起使用的`FileResourceLoader`那个不知道网络服务器和上下文和东西，所以您配置它的方式，它会在您的应用程序服务器运行**的文件系统的根目录中**`WEB-INF`查找一个文件夹。

# eclipse - Jface ViewerFilter 过滤全树深度

> ID：13248812
> 
> 赞同：2
> 
> 时间：2012-11-06T10:12:20.150
> 
> 标签：eclipse, jface

我有一个显示许多节点的 FilteredTree，其中每个节点可以有多个子节点和子节点（n 深度）。

过滤器过滤与模式匹配的所有节点（以及任何深度的子节点）。

现在我想添加另一个搜索功能：

每个节点代表一个对象，每个对象都有一些字段，所以我想列出具有与文本匹配的字段的节点。

我厌倦了使用 ViewerFilter。

它的问题是它不会只为当前打开的分支调用树中的每个节点。

```
public class TheFilter extends ViewerFilter {

          private String searchString;

          public void setSearchText(String s) {

          }

          public boolean select(Viewer viewer, 
              Object parentElement, 
              Object element) { //triggered Only for one level

            return true;
          }
        } 
```

更新：

当找到搜索的项目时，我不仅要显示包含搜索项目的节点，还要显示它的父节点（所有父节点）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-14T15:33:50.887

据我了解，您希望将搜索应用于所有元素，无论它们当前是否已扩展。虽然我不确定你为什么希望过滤也应用于最深的叶子，是因为你想要不显示任何子节点的根节点也消失吗？

这里可能有几种方法，如果您想强制将过滤器应用于所有元素，您可以使用 展开树中的所有项目`TreeViewer#expandAll`，除非您使用的是惰性内容提供程序，否则它应该对所有元素调用过滤。如果您不想让它保持展开，您可以再次折叠树（可能希望在展开和折叠时禁用绘图以避免闪烁`Tree#setRedraw(boolean)`）。通常在树中搜索某些内容时，所有过滤的内容都显示为展开状态，因此也可以看到也符合搜索条件的最深叶子。如果您想像用户所做的那样维护每个元素的树的展开状态，则需要更多的工作来展开所有然后恢复展开。

另一种方法是在内容提供者中实现搜索。因此，您的内容提供者可以采用当前搜索条件并仅返回与其匹配的元素。这意味着您必须自己管理某个父级是否应该可见。因此，在更改搜索字段时，您只需刷新树，您的内容提供商将确保过滤。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-11T23:44:40.707

`FilteredTree`接受一个`org.eclipse.ui.dialogs.PatternFilter`as 参数来确定它的过滤策略。

`isLeafMatch`您可以通过继承 PatternFilter 并覆盖它的方法来实现所需的结果。

例如：

```
PatternFilter filter = new PatternFilter() {
    @Override
    protected boolean isLeafMatch(Viewer viewer, Object element) {
        String field = ((Node) element).getField();
        if(field== null) {
            return false;
        }
        return wordMatches(field);
    }
};
FilteredTree tree = new FilteredTree(parent, SWT.MULTI | SWT.H_SCROLL
            | SWT.V_SCROLL, filter, true); 
```

# callstack - 如何从转储中分析打印机驱动程序中的崩溃

> ID：13248816
> 
> 赞同：1
> 
> 时间：2012-11-06T10:12:31.417
> 
> 标签：callstack, crash-dumps, disassembly

我正在尝试使用 Konica Minolta PCL 驱动程序从内存转储中查找访问冲突的原因。我会尽量提供所需的信息。也许其他处于类似情况的人会从中受益。

我正在研究的软件是用 Delphi 2007 编写的非托管窗口的组合，它通过 COM 托管 .net 组件。其他故障转储表明在设置浮点异常[http://connect.microsoft.com/VisualStudio/feedback/details/535285/using-events-on-interop-assemblies-causes-system-stackoverflowexception#details](http://connect.microsoft.com/VisualStudio/feedback/details/535285/using-events-on-interop-assemblies-causes-system-stackoverflowexception#details)时可能存在错误连接，以及我正在尝试确定是否有任何相似之处。

转储是由第二次机会异常引起的：尝试从内存中读取时，C:\Windows\System32\spool\drivers\w32x86\3\KOAZ8J_O.DLL 中的 KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+36778 已导致**访问冲突异常 (0xC0000005)**线程 16 上的位置**0x1906ef0c**。

加载 Windbg 我发现这个调用堆栈：0:016> kL ChildEBP RetAddr
警告：堆栈展开信息不可用。以下框架可能是错误的。253efdcc 22958881 KOAZ8J_O！OAPIGetPrinterEncryptionSettingForDriver + 0x36778 253efe1c 2294eff5 KOAZ8J_O！OAPIGetPrinterEncryptionSettingForDriver + 0x36819 253efe28 22976dde KOAZ8J_O！OAPIGetPrinterEncryptionSettingForDriver + 0x2cf8d 253efe68 22976e85 KOAZ8J_O！OAPIGetPrinterEncryptionSettingForDriver + 0x54d76 253efe90 7795f731 KOAZ8J_O！OAPIGetPrinterEncryptionSettingForDriver + 0x54e1d 253eff34 7795f632 NTDLL！LdrShutdownThread + 0xe6 253eff44 75c576f5 NTDLL！RtlExitUserThread + 0x2a 253eff58 774c03c0 KERNELBASE!FreeLibraryAndExitThread+0x5f 253eff68 5e59367e kernel32!FreeLibraryAndExitThreadStub+0x10 253eff88 774ced6c +0x23367e 253eff94 7799377b kernel32!BaseThreadInitThunk+0xe 253effntd47e

我没有打印机驱动程序的符号，并且通过最后一个已知函数名称的偏移量，我怀疑有问题的函数是一个完全不同的函数。

```
0:016> r
eax=22920000 ebx=00000001 ecx=1906ef00 edx=22a01000 esi=24e42ff0 edi=229e6598
eip=229587e0 esp=253efdbc ebp=253efdcc iopl=0         nv up ei pl nz na pe nc
cs=001b  ss=0023  ds=0023  es=0023  fs=003b  gs=0000             efl=00010206
KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x36778:
229587e0 3944d904        cmp     dword ptr [ecx+ebx*8+4],eax ds:0023:1906ef0c=????????

0:016> db ecx+ebx*8+4
1906ef0c  ?? ?? ?? ?? ?? ?? ?? ??-?? ?? ?? ?? ?? ?? ?? ??  ????????????????
1906ef1c  ?? ?? ?? ?? ?? ?? ?? ??-?? ?? ?? ?? ?? ?? ?? ??  ????????????????
1906ef2c  ?? ?? ?? ?? ?? ?? ?? ??-?? ?? ?? ?? ?? ?? ?? ??  ????????????????
1906ef3c  ?? ?? ?? ?? ?? ?? ?? ??-?? ?? ?? ?? ?? ?? ?? ??  ????????????????
1906ef4c  ?? ?? ?? ?? ?? ?? ?? ??-?? ?? ?? ?? ?? ?? ?? ??  ????????????????
1906ef5c  ?? ?? ?? ?? ?? ?? ?? ??-?? ?? ?? ?? ?? ?? ?? ??  ????????????????
1906ef6c  ?? ?? ?? ?? ?? ?? ?? ??-?? ?? ?? ?? ?? ?? ?? ??  ????????????????
1906ef7c  ?? ?? ?? ?? ?? ?? ?? ??-?? ?? ?? ?? ?? ?? ?? ??  ????????????????

0:016> uf 229587e0
KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x3676e:
229587d6 8b450c          mov     eax,dword ptr [ebp+0Ch]
229587d9 85c0            test    eax,eax
229587db 7418            je      KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x3678d (229587f5)

KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x36775:
229587dd 8b4f10          mov     ecx,dword ptr [edi+10h]

KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x36778:
229587e0 3944d904        cmp     dword ptr [ecx+ebx*8+4],eax
229587e4 740f            je      KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x3678d (229587f5)

KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x3677e:
229587e6 8b460c          mov     eax,dword ptr [esi+0Ch]
229587e9 833c9800        cmp     dword ptr [eax+ebx*4],0
229587ed 741d            je      KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x367a4 (2295880c)

KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x36787:
229587ef 8365fc00        and     dword ptr [ebp-4],0
229587f3 eb17            jmp     KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x367a4 (2295880c)

KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x3678d:
229587f5 8b460c          mov     eax,dword ptr [esi+0Ch]
229587f8 8b0c98          mov     ecx,dword ptr [eax+ebx*4]
229587fb 85c9            test    ecx,ecx
229587fd 7406            je      KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x3679d (22958805)

KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x36797:
229587ff 8b01            mov     eax,dword ptr [ecx]
22958801 6a01            push    1
22958803 ff10            call    dword ptr [eax]

KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x3679d:
22958805 8b460c          mov     eax,dword ptr [esi+0Ch]
22958808 83249800        and     dword ptr [eax+ebx*4],0

KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x367a4:
2295880c 43              inc     ebx
2295880d 3b5e08          cmp     ebx,dword ptr [esi+8]
22958810 7cc4            jl      KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x3676e (229587d6)

KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x367aa:
22958812 837dfc00        cmp     dword ptr [ebp-4],0
22958816 7435            je      KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x367e5 (2295884d)

KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x367b0:
22958818 8d5f1c          lea     ebx,[edi+1Ch]
2295881b 53              push    ebx
2295881c ff1544c19e22    call    dword ptr [KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0xca0dc (229ec144)]
22958822 56              push    esi
22958823 8d4f14          lea     ecx,[edi+14h]
22958826 e80bfcffff      call    KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x363ce (22958436)
2295882b 53              push    ebx
2295882c ff1548c19e22    call    dword ptr [KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0xca0e0 (229ec148)]
22958832 ff760c          push    dword ptr [esi+0Ch]
22958835 ff1530c19e22    call    dword ptr [KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0xca0c8 (229ec130)]
2295883b 8b06            mov     eax,dword ptr [esi]
2295883d 6a01            push    1
2295883f 8bce            mov     ecx,esi
22958841 ff10            call    dword ptr [eax]
22958843 6a00            push    0
22958845 ff37            push    dword ptr [edi]
22958847 ff15c8bf9e22    call    dword ptr [KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0xc9f60 (229ebfc8)]

KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x367e5:
2295884d 5f              pop     edi
2295884e 5e              pop     esi
2295884f 5b              pop     ebx
22958850 c9              leave
22958851 c20800          ret     8 
```

有人能在这个汇编代码中发现任何明显的错误吗？为什么它会解决这个无效的内存位置。我也在寻找有关如何进一步查明错误的指导。我的目标是寻找一种解决方法（所以这个代码块不会运行）并为驱动程序的作者提供尽可能多的信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T20:21:25.227

从微软得到这个评估：

> 该问题与以下具有不良 DllMain 实现的打印机驱动程序有关。
> 
> ```
> Image path: C:\Windows\System32\spool\drivers\w32x86\3\KOAZ8J_O.DLL
> Image name: KOAZ8J_O.DLL
> Timestamp:        Mon Nov 02 15:14:30 2009 (4AEE86D6)
> CheckSum:         00000000
> ImageSize:        000DE000
> File version:     4.2.0.6
> Product version:  4.2.0.6
> File flags:       0 (Mask 3F)
> File OS:          4 Unknown Win32
> File type:        2.0 Dll
> File date:        00000000.00000000
> Translations:     0000.04b0
> ProductName:      OpenAPIDrvLib Dynamic Link Library
> InternalName:     OAPIDrvLib42.dll
> OriginalFilename: OAPIDrvLib42.dll
> ProductVersion:   4.2.0.6
> FileVersion:      4.2.0.6
> FileDescription:  OpenAPI Driver Library for Ver.4.2
> LegalCopyright:   Copyright (C) 2009 Konica Minolta Business Technologies, Inc.  All rights reserved. 
> ```
> 
> # ChildEBP RetAddr
> 
> 警告：堆栈展开信息不可用。以下框架可能是错误的。
> 
> 00 2758fdcc 26ed8881 KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x36778
> 
> 01 2758fe1c 26eceff5 KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x36819
> 
> 02 2758fe28 26ef6dde KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x2cf8d
> 
> 03 2758fe68 26ef6e85 KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x54d76
> 
> 04 2758fe90 771af731 KOAZ8J_O!OAPIGetPrinterEncryptionSettingForDriver+0x54e1d
> 
> 05 2758ff34 771af632 ntdll!LdrShutdownThread+0xe6
> 
> 06 2758ff44 753b7695 ntdll!RtlExitUserThread+0x2a
> 
> 07 2758ff58 766f0378 内核库！FreeLibraryAndExitThread+0x5f
> 
> 08 2758ff68 51bb367e kernel32!FreeLibraryAndExitThreadStub+0x10
> 
> 09 2758ff88 766fed6c +0x23367e
> 
> 0a 2758ff94 771e377b kernel32!BaseThreadInitThunk+0xe
> 
> 0b 2758ffd4 771e374e ntdll!__RtlUserThreadStart+0x70
> 
> 0c 2758ffec 00000000 ntdll!_RtlUserThreadStart+0x1b
> 
> 加载程序尝试调用入口点方法（主要是 DllMain）进行清理操作。这样的模块执行复杂的任务并损坏了内存。**我们在此打印机驱动程序的其他案例中观察到了类似的问题。**
> 
> 您可以尝试任何打印机驱动程序或联系打印机驱动程序供应商来解决问题。
> 
> 通过以上信息，您可以与打印机驱动程序供应商讨论，以查看他们在 DllMain 中的代码并检查是否存在故障可能性。 [http://msdn.microsoft.com/en-us/library/ms682583(VS.85).aspx](http://msdn.microsoft.com/en-us/library/ms682583(VS.85).aspx)

# javascript - 多组的分组和限制

> ID：13248822
> 
> 赞同：0
> 
> 时间：2012-11-06T10:13:10.740
> 
> 标签：javascript, couchdb, couchdb-futon

我有以下文件

```
{
  "_id": "id",
  "_rev": "123456",
  "author": "john",
  "views": "3",
},
{
  "_id": "id",
  "_rev": "123456",
  "author": "jake",
  "views": "5",
},
{
  "_id": "id",
  "_rev": "123456",
  "author": "jake",
  "views": "6",
},
{
  "_id": "id",
  "_rev": "123456",
  "author": "john",
  "views": "1",
},
{
  "_id": "id",
  "_rev": "123456",
  "author": "jake",
  "views": "7",
},
{
  "_id": "id",
  "_rev": "123456",
  "author": "john",
  "views": "10",
} 
```

让我们假设这些是评论，我想获得用户观看次数最多的 2 条评论。

我怎样才能在 CouchDB 中做到这一点？

在任何其他 sql 数据库中，我可以执行 2 个查询，`limit 2`然后合并结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:20:20.743

如果你在 JavaScript 中有一个包含该数据的数组，你可以简单地使用 sort 方法：

```
var a = [{...}, {...}, {...}];

a.sort(function(a, b) {
    return b.views - a.views;
});

console.log(a[0]) //{ "_id": "id", "_rev": "123456", "author": "john", "views": "10" }         
console.log(a[1]) //{ "_id": "id", "_rev": "123456", "author": "jake", "views": "7" } 
```

* * *

如果您只想拥有查看次数最多的记录，您可以使用[slice 方法](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/slice)

```
var a = [...];
a.sort(...);

a = a.slice(0, 2); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T11:09:00.060

我想你可以使用这个`map`：

```
function (doc) {
  emit([doc.author, -doc.views], null);
} 
```

没有减少。带有选项的查询`?startkey=['john']&limit=2`应该是这样的：

```
{"total_rows":5,"offset":0,"rows":[
{"id":"id1","key":["john",-10],"value":null},
{"id":"id2","key":["john",-3],"value":null}
]} 
```

发射时注意`-`符号`doc.view`以获得最大的视图计数。您也可以使用`descending=true`选项，但它也会反转作者字符串的顺序。这不是字符串的自然顺序，您将来可能需要它；）

# java - 手机处于深度睡眠时接收音量按键事件

> ID：13248826
> 
> 赞同：1
> 
> 时间：2012-11-06T10:13:26.170
> 
> 标签：java, android, broadcastreceiver

当手机处于深度睡眠模式时，我试图捕捉音量增大/减小按下事件。我已经阅读了几篇文章，在这里我做了什么。

在活动`onCreate`方法中，我设置了一个`WakeLock`

```
PowerManager mgr = (PowerManager)this.getSystemService(Context.POWER_SERVICE);
WakeLock wakeLock = mgr.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, "MyWakeLock");
wakeLock.acquire(); 
```

我已经读过，即使我的屏幕被锁定，如果我设置了这个，我的应用程序也会响应事件。我还向 Android Manifest 添加了权限。

```
<uses-permission android:name="android.permission.WAKE_LOCK" /> 
```

然后在`onCreate`方法中我声明我的广播接收器

```
VolReceiver volumeBroadcastReceiver = new VolReceiver();

IntentFilter filter = new IntentFilter();
filter.addAction("android.media.VOLUME_CHANGED_ACTION");
registerReceiver(volumeBroadcastReceiver, filter); 
```

这一切都很好，然后应用程序处于前台或后台，但是然后我通过按下电源按钮应用程序停止接收广播事件来锁定我的手机屏幕，我认为`PowerManager`必须解决这个问题，但事实并非如此。所以请帮助我，提供一些信息。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:22:58.860

我做了几乎相同的事情，但我通过更改源代码实现了它。我已经在下面解释了。

每当你的手机进入睡眠状态时，你的**MediaPlaybackService.java**不会监听 keyEvents，但**MediaButtonIntentReceiver.java**会，所以在这里接收音量上下的意图，并广播一个意图并在**MediaPlaybackService.java**中接收它，但保留一件事请记住，您无法从此处更改 UI，因此您可以从服务广播另一个意图并让您的**MediaPlaybackActivity.java**接收它，这将在您的屏幕唤醒后立即更改 UI。

仅供参考：当屏幕关闭时，**PhoneWindowManager.java**将所有连续意图排入队列，一旦您释放按钮，它将立即应用所有意图。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T11:55:19.583

> 当手机处于深度睡眠模式时，我试图捕捉音量增大/减小按下事件。

根据定义，这是不可能的。

> 在活动 onCreate 方法中，我设置了 WakeLock

那么你就没有处于睡眠模式。

> 然后我通过按电源按钮应用程序停止接收广播事件来锁定我的手机屏幕

这里有几种可能性。一是您的进程已终止，因为不再需要它。一旦您不再有任何前台活动，您的进程就有资格被终止以为其他应用程序释放内存，这可能在任何时候发生。另一种可能性是，当屏幕关闭时，Android 根本不会发送该广播。

# winforms - Windows应用程序中的等效框架并从页面导航到另一个页面？

> ID：13248829
> 
> 赞同：0
> 
> 时间：2012-11-06T10:13:40.803
> 
> 标签：winforms, c#-4.0, wpf-controls, frames

C# 应用程序中的等效“框架”是什么？我必须在 Windows 应用程序中从页面导航到另一个页面。我创建母版页并在页面中使用一些面板。我想从每个面板导航到另一个页面。我该怎么办？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T17:32:13.123

您必须在项目中创建一个新窗口并创建一个实例，然后在代码中当某人单击导航元素时，您需要创建一个窗口类的实例，然后使用方法 showWindow() 调用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T05:37:24.740

谢谢你的回答。但我得到了我的答案！:) 在母版页中，应该使用一些面板并创建用户控件。您可以在用户控件中设计您想要的任何内容，并在母版页的 button_click 中，从用户控件中获取实例并添加到面板。这些代码是：

```
private void button_Click(object sender, EventArgs e)
usercontol1 user=new usercontrol1();
panel.controls.clear();
panel.controls.add(user); 
```

# winforms - 无法更改 WinForms MonthCalendar 控件中的字体

> ID：13248835
> 
> 赞同：1
> 
> 时间：2012-11-06T10:14:17.590
> 
> 标签：winforms, fonts, monthcalendar

```
MonthCalendar1.Font = newFont 
```

如果我们分配新字体，则不起作用。使用相同的默认 MS Sans Serif 8.25。

这是一个已知问题，以及如何克服它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:54:18.730

是的，这是一个[已知](http://social.msdn.microsoft.com/forums/en-US/winformsdesigner/thread/0082c9e8-e697-484f-a35a-b25731ff7f45/) [问题](http://social.msdn.microsoft.com/Forums/en-US/winforms/thread/d18ed2ca-411c-4588-9933-858751c3d2e6/)，但除了关闭之外，`Application.EnableVisualStyles`没有其他办法。

# c# - SelectNodes 给出空节点，即使 xml 包含节点

> ID：13248842
> 
> 赞同：1
> 
> 时间：2012-11-06T10:15:05.557
> 
> 标签：c#, xml, selectnodes

```
XPathNavigator nav = xmlDoc.CreateNavigator();
XmlNamespaceManager nsMgr = new XmlNamespaceManager(nav.NameTable);
nsMgr.AddNamespace(string.Empty,@"http://www.w3.org/2005/Atom");
nsMgr.AddNamespace("dxp",@"http://schemas.google.com/analytics/2009");
nsMgr.AddNamespace("openSearch",@"http://a9.com/-/spec/opensearch/1.1/");

XmlNodeList nodeList = xmlDoc.SelectNodes("entry",nsMgr);  // nodeList is empty why? 
```

以上代码执行后`nodeList`为空

![在此处输入图像描述](../Images/f973aba30c7135f42e1c7b8f0f95376e.png)

但是当我看到 XMLDocument 它包含所需的节点`entry`

这里是`XMLDocument innerXML`

```
<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:dxp="http://schemas.google.com/analytics/2009" xmlns:openSearch="http://a9.com/-/spec/opensearch/1.1/">
  <id>https://www.googleapis.com/analytics/v2.4/data?ids=ga:63294209&amp;dimensions=ga:visitorType&amp;metrics=ga:visitors&amp;start-date=2012-10-06&amp;end-date=2012-11-06</id>
  <updated>2012-11-06T10:04:40.613Z</updated>
  <title type="text">Google Analytics Data for Profile 63294209</title>
  <link rel="self" type="application/atom+xml" href="https://www.googleapis.com/analytics/v2.4/data?ids=ga:63294209&amp;dimensions=ga:visitorType&amp;metrics=ga:visitors&amp;start-date=2012-10-06&amp;end-date=2012-11-06" />
  <author>
    <name>Google Analytics</name>
  </author>
  <generator>Google Analytics</generator>
  <openSearch:totalResults>2</openSearch:totalResults>
  <openSearch:startIndex>1</openSearch:startIndex>
  <openSearch:itemsPerPage>1000</openSearch:itemsPerPage>
  <dxp:aggregates>
    <dxp:metric name="ga:visitors" type="integer" value="6709" />
  </dxp:aggregates>
  <dxp:containsSampledData>false</dxp:containsSampledData>
  <dxp:dataSource>
    <dxp:property name="ga:profileId" value="63294209" />
    <dxp:property name="ga:webPropertyId" value="UA-34279407-1" />
    <dxp:property name="ga:accountName" value="The Federal Savings Bank" />
    <dxp:tableId>ga:63294209</dxp:tableId>
    <dxp:tableName>The Federal Savings Bank</dxp:tableName>
  </dxp:dataSource>
  <dxp:endDate>2012-11-06</dxp:endDate>
  <dxp:startDate>2012-10-06</dxp:startDate>
  <entry>
    <id>https://www.googleapis.com/analytics/v2.4/data?ids=ga:63294209&amp;ga:visitorType=New+Visitor&amp;start-date=2012-10-06&amp;end-date=2012-11-06</id>
    <updated>2012-11-06T10:04:40.613Z</updated>
    <title type="text">ga:visitorType=New Visitor</title>
    <link rel="alternate" type="text/html" href="http://www.google.com/analytics" />
    <dxp:dimension name="ga:visitorType" value="New Visitor" />
    <dxp:metric name="ga:visitors" type="integer" value="5240" />
  </entry>
  <entry>
    <id>https://www.googleapis.com/analytics/v2.4/data?ids=ga:63294209&amp;ga:visitorType=Returning+Visitor&amp;start-date=2012-10-06&amp;end-date=2012-11-06</id>
    <updated>2012-11-06T10:04:40.613Z</updated>
    <title type="text">ga:visitorType=Returning Visitor</title>
    <link rel="alternate" type="text/html" href="http://www.google.com/analytics" />
    <dxp:dimension name="ga:visitorType" value="Returning Visitor" />
    <dxp:metric name="ga:visitors" type="integer" value="1469" />
  </entry>
</feed> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:24:54.130

.NET 中使用默认 XML 命名空间存在一个已知问题 - 与 XML 标准中定义的相反，在 .NET 中您不能使用 a`string.Empty`作为前缀 - 您需要使用其他名称。

试试这个：

```
XPathNavigator nav = xmlDoc.CreateNavigator();

XmlNamespaceManager nsMgr = new XmlNamespaceManager(nav.NameTable);
nsMgr.AddNamespace("def", @"http://www.w3.org/2005/Atom");  <== Give this a prefix!
nsMgr.AddNamespace("dxp", @"http://schemas.google.com/analytics/2009");
nsMgr.AddNamespace("openSearch", @"http://a9.com/-/spec/opensearch/1.1/");

XmlNodeList nodeList = xmlDoc.SelectNodes("/def:feed/def:entry", nsMgr); 
```

现在，这个列表中确实有两个节点 - 对吧？

# php - 未捕获的异常 'Zend_View_Exception' 和消息 'script 'error/error.phtml'

> ID：13248843
> 
> 赞同：0
> 
> 时间：2012-11-06T10:15:12.250
> 
> 标签：php, zend-framework, frameworks, zend-view

当我在 Zend Framework 应用程序中处理一些异常时，我看到以下错误消息：

```
Uncaught exception 'Zend_View_Exception' with message 'script 'error/error.phtml' not found in path (C:\wamp\www\my_app\application/views/)' in 
```

如果我将 error/error.phtml 移动到“view”文件夹中，一切正常。

而且我不明白为什么zend在“view”文件夹中搜索error.phtml文件，而不是在“view/scripts”文件夹中。

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-15T22:46:42.783

您可以将以下代码添加到引导程序中，这样它就不会检查 error.phtml。

```
$oFrontController->throwExceptions(true); 
```

# hadoop - Pig Mapreduce 连续计算字母

> ID：13248845
> 
> 赞同：1
> 
> 时间：2012-11-06T10:15:26.993
> 
> 标签：hadoop, mapreduce, apache-pig

我需要数字母，而不是数单词。但是我在使用 Apache Pig 版本 0.8.1-cdh3u1 实现这个时遇到了问题

给定以下输入：

```
989;850;abcccc
29;395;aabbcc 
```

输出应该是：

```
989;850;a;1
989;850;b;1
989;850;c;4
29;395;a;2
29;395;b;2
29;395;c;2 
```

这是我尝试过的：

```
A = LOAD 'input' using PigStorage(';') as (x:int, y:int, content:chararray);
B = foreach A generate x, y, FLATTEN(STRSPLIT(content, '(?<=.)(?=.)', 6)) as letters;
C = foreach B generate x, y, FLATTEN(TOBAG(*)) as letters;
D = foreach C generate x, y, letters.letters as letter;
E = GROUP D BY (x,y,letter);
F = foreach E generate group.x as x, group.y as y, group.letter as letter, COUNT(D.letter) as count; 
```

可以转储 A、B 和 C，但“转储 D”会导致“错误 2997：无法从支持的错误重新创建异常：java.lang.ClassCastException：java.lang.Integer 无法转换为 org.apache.pig.data .元组”

dump C 显示（尽管第三个值是一个奇怪的元组）：

```
(989,850,a)
(989,850,b)
(989,850,c)
(989,850,c)
(989,850,c)
(989,850,c)
(29,395,a)
(29,395,a)
(29,395,b)
(29,395,b)
(29,395,c)
(29,395,c) 
```

以下是模式：

```
grunt> describe A; describe B; describe C; describe D; describe E; describe F;
A: {x: int,y: int,content: chararray}
B: {x: int,y: int,letters: bytearray}
C: {x: int,y: int,letters: (x: int,y: int,letters: bytearray)}
D: {x: int,y: int,letter: bytearray}
E: {group: (x: int,y: int,letter: bytearray),D: {x: int,y: int,letter: bytearray}}
F: {x: int,y: int,letter: bytearray,count: long} 
```

这个猪版本似乎不支持 TOBAG($2..$8)，因此 TOBAG(*) 也包括 x 和 y，但可以稍后按语法进行排序......我想避免编写 UDF ，否则我会直接使用 Java API。

但我并没有真正得到演员错误。有人可以解释一下吗。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T12:05:37.093

我建议`custom UDF`改为写一个。一个快速的原始实现如下所示：

```
package com.example;

import java.io.IOException;
import java.util.HashMap;
import java.util.Map;

import org.apache.pig.EvalFunc;
import org.apache.pig.data.BagFactory;
import org.apache.pig.data.DataBag;
import org.apache.pig.data.DataType;
import org.apache.pig.data.Tuple;
import org.apache.pig.data.TupleFactory;
import org.apache.pig.impl.logicalLayer.schema.Schema;

public class CharacterCount extends EvalFunc<DataBag> {

    private static final BagFactory bagFactory = BagFactory.getInstance();
    private static final TupleFactory tupleFactory = TupleFactory.getInstance();

    @Override
    public DataBag exec(Tuple input) throws IOException {
        try {

            Map<Character, Integer> charMap = new HashMap<Character, Integer>();

            DataBag result = bagFactory.newDefaultBag();
            int x = (Integer) input.get(0);
            int y = (Integer) input.get(1);
            String content = (String) input.get(2);

            for (int i = 0; i < content.length(); i++){
                char c = content.charAt(i);        
                Integer count = charMap.get(c);
                count = (count == null) ? 1 : count + 1;
                charMap.put(c, count);
            }

            for (Map.Entry<Character, Integer> entry : charMap.entrySet()) {
                Tuple res = tupleFactory.newTuple(4);
                res.set(0, x);
                res.set(1, y);
                res.set(2, String.valueOf(entry.getKey()));
                res.set(3, entry.getValue());
                result.add(res);
            }

            return result;

        } catch (Exception e) {
            throw new RuntimeException("CharacterCount error", e);
        }
    }

} 
```

将其打包到 jar 中并执行：

```
register '/home/user/test/myjar.jar';
A = LOAD '/user/hadoop/store/sample/charcount.txt' using PigStorage(';') 
      as (x:int, y:int, content:chararray);

B = foreach A generate flatten(com.example.CharacterCount(x,y,content)) 
      as (x:int, y:int, letter:chararray, count:int);

dump B;
(989,850,b,1)
(989,850,c,4)
(989,850,a,1)
(29,395,b,2)
(29,395,c,2)
(29,395,a,2) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T12:52:04.563

我没有 0.8 版本，但你可以试试这个：

```
A = LOAD 'input' using PigStorage(';') as (x:int, y:int, content:chararray);
B = foreach A generate x, y, FLATTEN(STRSPLIT(content, '(?<=.)(?=.)', 6));
C = foreach B generate $0 as x, $1 as y, FLATTEN(TOBAG(*)) as letter;
E = GROUP C BY (x,y,letter);
F = foreach E generate group.x as x, group.y as y, group.letter as letter, COUNT(C.letter) as count; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-25T16:18:23.627

你可以试试这个

```
grunt> a = load 'inputfile.txt' using PigStorage(';') as (c1:chararray, c2:chararray, c3:chararray);
grunt> b = foreach a generate c1,c2,FLATTEN(TOKENIZE(REPLACE(c3,'','^'),'^')) as split_char;
grunt> c = group b by (c1,c2,split_char);
grunt> d = foreach c generate group, COUNT(b);
grunt> dump d; 
```

输出如下所示：

```
((29,395,a),2)
((29,395,b),2)
((29,395,c),2)
((989,850,a),1)
((989,850,b),1)
((989,850,c),4) 
```

# python-2.7 - 我们可以在 wxPython 的 ObjectListView 上嵌入 ComboBox 或 TextCtrl 吗？

> ID：13248848
> 
> 赞同：0
> 
> 时间：2012-11-06T10:15:42.873
> 
> 标签：python-2.7, wxpython, wxwidgets

如果这是可能的，你能展示一些代码示例吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T16:03:28.667

ObjectListView 只是 ListCtrl 的一个很好的包装器。据我所知，ListCtrl 不支持嵌入其他小部件。您可以在双击单元格时创建一个弹出对话框并这样做。否则，您将不得不使用 UltimateListCtrl。该小部件确实允许小部件嵌入，因为它是自定义小部件而不是原生小部件。

# security - CodeIgniter - 目录遍历 - sanitize_filename()

> ID：13248849
> 
> 赞同：1
> 
> 时间：2012-11-06T10:15:44.977
> 
> 标签：security, codeigniter, directory, traversal, sanitize

如果我使用 CodeIgniter 文件上传类并使用以下命令重命名正在上传的图像：

`$config['file_name']`

我还需要使用吗

`$this->security->sanitize_filename()`

在用户上传的图像上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:43:12.407

刚刚设置`$config['encrypt_name'];`将自动重命名用户上传的文件或图像以获取更多信息，请查看文件上传库的用户指南

[文件上传库](http://codeigniter.com/user_guide/libraries/file_uploading.html)

# python - Python 正则表达式匹配

> ID：13248850
> 
> 赞同：0
> 
> 时间：2012-11-06T10:15:45.643
> 
> 标签：python, regex

我正在尝试匹配文件中的文本

```
In [44]: with open(path) as f:
   ....:     for line in f:
   ....:         matched = re.search('^PARTITION BY HASH',line)
   ....:         if matched is not None:
   ....:             print matched.group()
   ....: 
```

该文件包含像 PARTITION BY HASH(SOME_THING); 这样的行。还有其他一些行，其中有 SUBPARTITION BY HASH(SOME_THING) 不应该匹配

比赛结束后，我想删除那条线。但是打印matched.group失败了，为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:32:07.330

像这样的东西：

```
In [29]: strs1="PARTITION BY HASH(SOME_THING)"

In [30]: strs2="SUBPARTITION BY HASH(SOME_THING)"

In [31]: bool(re.match(r"^PARTITION BY HASH",strs1))
Out[31]: True

In [32]: bool(re.match(r"^PARTITION BY HASH",strs2))
Out[32]: False 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:28:30.180

> 但是打印matched.group失败

好吧，它只是做了它应该做的事情：它返回匹配项。在这种情况下，因为

```
>>> import re
>>> line = "PARTITION BY HASH(something)"
>>> re.search('^PARTITION BY HASH', line).group()
'PARTITION BY HASH' 
```

如果要打印以 开头的行`'PARTITION BY HASH'`，请根据 Ashwini Chaudhary 的建议：

```
with open(path) as f:
    for line in f:
        if line.startswith('PARTITION BY HASH'):
            print line, 
```

请注意逗号以防止打印插入额外的行尾字符。

如果你坚持使用包`re`

```
import re

with open(path) as f:
    for line in f:
        if re.match('PARTITION BY HASH', line):
            print line, 
```

请注意`re.match`不使用起始位置指示符的用法（有关更多信息，`^`请参见[http://docs.python.org/2/library/re.html#search-vs-match ）](http://docs.python.org/2/library/re.html#search-vs-match)

# java - 我使用 AES 算法加密 32 字节长度的数据，结果（密文）为 64 字节长度，这有效吗？

> ID：13248851
> 
> 赞同：0
> 
> 时间：2012-11-06T10:15:46.993
> 
> 标签：java, security, encryption, bouncycastle

我通过 java 实现这个，BouncyCastle Provider 使用 Block mode = ECB 和 Padding mode = PKCS7Padding

我noticte，如果我加密具有32字节的长度（例如61626162616261626162616261626162是abababababababab的十六进制值）i的数据得到的64字节长度的密码文本（f21ee0564ebd5274e10bf4590594b1e16a19592b917b19ee106f71d41d165289）是该密文是否有效？从我读到的内容来看，如果您加密小于 32 字节长度的数据，算法会将其填充为 32 字节长度并生成 32 字节长度的密文，但如果您输入的数据恰好为 32 字节长度，您不应该收到 32字节长度密文，如果我输入长度超过 32 字节的数据，它将正确填充到 64 字节密文

这就是我的代码的样子：

```
 public static byte[] encrypt(byte[] plainText, byte[] keyBytes)
        throws GeneralSecurityException {

    SecretKeySpec key = new SecretKeySpec(keyBytes, "AES");

    Cipher cipher = Cipher.getInstance("AES/ECB/PKCS7Padding", "BC");
    cipher.init(Cipher.ENCRYPT_MODE, key);

    byte[] cipherText = cipher.doFinal(plainText);

    return cipherText;
} 
```

谢谢你的回复

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T14:55:27.757

您混淆了十六进制字符和字节。两个十六进制字符可以用来表示一个字节。所以你的输入可能是 16 个字节，然后你的输出变成 32 个字节。AES 是 128 位 = 16 字节的分组密码。

PKCS#7 填充被定义为填充 16 字节块密码。为了确保纯文本的最后一个字节不会被误认为是填充，PKCS#7 填充总是填充。这意味着在纯文本可被 16 整除的不幸情况下，它将添加整个填充块。填充由一串字节组成，指示每个字节中字符串的长度，因此对于您的情况，填充由以下字节组成，用十六进制表示：`10101010101010101010101010101010`。

请注意，Java 的默认提供程序使用`"PKCS5Padding"`而不是`"PKCS7Padding"`. 两者是相同的，尽管 PKCS#5 填充正式仅适用于 64 位 = 8 字节的分组密码。Bouncy Castle 也将接受该字符串，因此`"PKCS5Padding"`为了兼容性，最好指定。

没有为 AES 指定使用 32 字节的填充，因为它只是一个 16 字节的分组密码。Rijndael-256 是一种 32 字节的分组密码，但该算法尚未被 NIST 标准化，因此应避免使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:27:52.140

PKCS7 填充在这里解释： [http ://en.wikipedia.org/wiki/Padding_(cryptography)#Byte_padding](http://en.wikipedia.org/wiki/Padding_(cryptography)#Byte_padding)

它添加了之间`1`和`blockLength`字节，所有这些都等于填充的大小。这意味着您的消息将被 16 个 16 填充，创建一个 32 字节的消息，随后使用 AES 进行编码。

请注意，您的消息是 16 个字节，而不是 32 个字节。

一般来说，从不使用零长度的填充，因为它无法与非零填充区分开来（并且填充必须以可逆的方式完成）。

# c# - 模拟鼠标点击背景表单

> ID：13248852
> 
> 赞同：0
> 
> 时间：2012-11-06T10:15:57.280
> 
> 标签：c#, wpf

是否可以在最小化的窗体上或在其他窗体后面模拟鼠标单击，而不给它焦点并将其置于最前面？

我有模拟鼠标点击的代码，它工作得很好，但它需要点击的坐标，它不接受输入表单地址。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:23:58.377

您可以使用[`SendMessage`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms644950.aspx)API 调用。

谷歌可以找到很多例子，比如[这个](http://www.blizzhackers.cc/viewtopic.php?t=396398)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:22:14.070

没有直接的方法，但您可以为该`OnMouseClick`函数创建一个包装器并将其公开。

`public void PerformMouseClick(MouseEventArgs e) { this.OnMouseClick(e); }`

```
Form frm = new Form();

frm.PerformMouseClick(new MouseEventArgs(MouseButtons.Left, 1, 100, 100, 0)); 
```

# macos - 将 git 存储库和文件从 Ubuntu 移动到 OS-X

> ID：13248853
> 
> 赞同：0
> 
> 时间：2012-11-06T10:15:58.980
> 
> 标签：macos, git, ubuntu

我一直在我的 Linux (Ubuntu) 机器上使用 Git 来跟踪 C++ 代码的更改。现在，我正在使用 Mac（OS-X 10.8），所以我只是将整个源文件夹连同 .git 从 Linux 复制到 Mac。但是，这不会带来任何好处。Git列出了我大量修改过的文件，我猜是所有的。我不确定，但我想这可能与 Linux 和 OS-X 中的行尾有关。那么，在这种情况下，为了从一个操作系统顺利转移到另一个操作系统，我应该采取哪些正确的操作顺序？

在此先感谢，丹尼斯。

**编辑** 通过在 .git/config 中设置 filemode=false 解决了这个问题

这是正确的解决方案吗？我不太明白是什么导致了问题？

**EDIT2** 忘了提，原始存储库是从“git://...”克隆的

**EDIT3** 显然，问题是我使用 USB 闪存驱动器将东西从一个操作系统传送到另一个，并且没想到它会让我的生活更艰难:) 在没有 USB 的情况下再次从头开始复制所有内容，问题就消失了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:34:33.637

假设您在 Ubuntu 机器上可以 ssh 访问您的帐户，我建议您克隆`ssh`：

```
$ git clone ssh://user@ubuntu-machine/path/to/git/repo 
```

通过`git clone`在您的 Mac OS X 机器上使用实际操作，您应该不会遇到任何问题。

作为参考，[git-clone 手册页的](http://www.kernel.org/pub/software/scm/git/docs/git-clone.html)**GIT URLS**部分包含所有可能的 git 传输的所有 URL 格式。

# java - 生命游戏，计算邻居 Java

> ID：13248855
> 
> 赞同：-1
> 
> 时间：2012-11-06T10:16:00.407
> 
> 标签：java, conways-game-of-life

作为家庭作业，我们必须用 Java 编写 Conway 的生命游戏。但是我有一个问题来正确计算邻居的数量。

我们必须使用一个类 Cell 来表示我们二维字段中的单元格。所有活着的单元格都应该保存在 LinkedHashSet 中。

出现的问题是保存了太多可能的活细胞，并且我的人口集中有重复的细胞。

我计算邻居和下一代的代码是：

```
public void next() {
   generations++;
   // used to save possible alive cells
   Set<Cell> nextGen = new LinkedHashSet<Cell>();
   int col;
   int row;
   int count;
   for( int i = 0; i < grid.length; i++ ) {
      for( int j = 0; j < grid[ 0 ].length; j++ ) {
         grid[ i ][ j ].setNeighbours( 0 );
      }
   }
   for( Cell e : population ) { // calculate number of neighbors
      col = e.getCol();
      row = e.getRow();
      count = 0;

      for( int i = row - 1;
           i >= 0 && i < ( row + 2 ) && i < grid.length;
           i++ )  {
         for( int j = col - 1;
              j >= 0 && j < ( col + 2 ) && j < grid[ 0 ].length;
              j++ ) {
            count = grid[ i ][ j ].getNeighbours() + 1;
            if( i == row && j == col )
            {
               count--;
            }
            grid[ i ][ j ].setNeighbours( count );
            nextGen.add( grid[ i ][ j ] );

         }
      }
   }
   for( Cell e : population )
   { // check if all alive cells stay alive
      switch( e.getNeighbours() )
      {
      case 3:
      break;
      case 2:
      break;
      default:
         e.setAlive( false );
         population.remove( e );
      break;
      }
   }
   // check which cells get alive
   for( Cell e : nextGen ) {
      if( e.getNeighbours() == 3 ) {
         e.setAlive( true );
         population.add( e );
      }
      else if( e.getNeighbours() == 2 ) {
         /* */
      }
      else
      {
         e.setAlive( false );
      }
   }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T11:05:55.267

这条线似乎不正确：

```
count = grid[i][j].getNeighbours() + 1; 
```

你不应该数活着的邻居吗？像这样：

```
if (grid[i][j].isAlive()) count++; 
```

您应该计算 Cell e 的邻居。所以删除这一行

```
grid[i][j].setNeighbours(count); 
```

并在 i, j 循环之后添加这一行：

```
e.setNeighbours(count); 
```

# c# - 查询自动生成的 EF 联结表

> ID：13248860
> 
> 赞同：1
> 
> 时间：2012-11-06T10:16:18.190
> 
> 标签：c#, asp.net-mvc, linq, entity-framework, ef-code-first

我有两个模型，Benefit 和 SchemeName

益处 -

```
[Key]
public int BenefitID { get; set; }
public string BenefitName { get; set; }
public string BenefitDescription { get; set; }
public virtual ICollection<SchemeName> SchemeNames { get; set; } 
```

方案名称

```
[Key]
public int SchemeNameID { get; set; }
public string Name { get; set; }
public virtual ICollection<Benefit> Benefits { get; set; } 
```

这在数据库Benefits、SchemeNames 和一个名为SchemeNameBenefits 的连接表中创建了三个表。

我正在尝试填充一个下拉列表，其中仅包含与某个 Benefit 关联的 SchemeNames，但我不确定如何执行此操作，我可以在我的代码中引用连接表吗？

我从以下开始（返回所有 SchemeNames）

```
private void PopulatePensionSchemeName(object selectedPensionSchemeName = null)
        {
            var schemeNameQuery = from d in db.SchemeNames
                                  orderby d.SchemeNameID
                                  select d;

            ViewBag.PensionSchemeNameID = new SelectList(schemeNameQuery, "SchemeNameID", "Name", selectedPensionSchemeName);
        } 
```

但我不确定如何添加此子句。任何指针？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:23:11.777

您需要使用 SchemeNames 的 Benefit 对象的键。您可能正在寻找的查询是：-

```
var benefitId = // However you get your benefit Id

var schemaNameQuery = from b in db.Benefits
                      from s in b.SchemeNames
                      where b.BenefitId == benefitId
                      select s; 
```

或者在扩展方法语法中：-

```
var schemaNameQuery = db.Benefits.Where(b.BenefitId == benefitId)
                                 .SelectMany(b => b.SchemeNames); 
```

这会产生以下 SQL：-

```
SELECT ...
FROM [dbo].[SchemeNameBenefits] AS [Extent1]
INNER JOIN [dbo].[SchemeNames] AS [Extent2]
  ON [Extent1].[SchemeName_Id] = [Extent2].[SchemeNameId]
WHERE [Extent1].[Benefit_Id] = @p__linq__0 
```

或者，您可以使用：-

```
var benefitId = // However you get your benefit Id

var schemeNameQuery = from d in db.SchemeNames
                      where d.Benefits.Any(x => x.Id == benefitId)
                      orderby d.SchemeNameId
                      select d; 
```

这将产生以下 SQL：-

```
SELECT ...
FROM ( SELECT ... FROM [dbo].[SchemeNames] AS [Extent1]
       WHERE EXISTS (SELECT 1 AS [C1]
                     FROM [dbo].[SchemeNameBenefits] AS [Extent2]
                     WHERE ([Extent1].[SchemeNameId] = [Extent2].[SchemeName_Id])
                     AND ([Extent2].[Benefit_Id] = @p__linq__0)))
AS ...
ORDER BY [Project2].[Id] ASC 
```

请注意，在这两种情况下，生成的 SQL 都会引用您的联结表*，即使它不是您的 EF 模型的一部分。*

如果您已经拥有 Benefit 对象，当然，您可以更简单地使用以下方法获取其 SchemeNames：-

```
var schemeNameQuery = benefit.SchemeNames; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:23:23.770

我会通过使用连接表来做到这一点。连接表是您的连接表。它将由两个外键组成，SchemeNameID 和 BenefitID。

查看此网站以获取有关连接表的更多信息：

[http://megocode3.wordpress.com/2008/01/04/understanding-a-sql-junction-table/](http://megocode3.wordpress.com/2008/01/04/understanding-a-sql-junction-table/)

它帮助了我很多。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T10:25:32.023

[免责声明] 以现有或添加 SchemeNameBenefits 模型为条件，以下应该有效。

所以看起来 SchemeNameBenefits 表是一个多对多映射，在这种情况下使用福利 ID 来获取方案 ID 的集合

```
var schemeIds = db.SchemeNamesBenefits.Where(map => map.BenefitID == id)
                                      .Select(map => map.SchemeNameID).ToArray(); 
```

然后拉回这些方案 ID 的所有方案名称信息

```
var result = db.SchemeNames.Where(scheme => schemeIds.Contains(scheme.SchemeNameID))
                           .OrderBy(scheme => scheme.SchemeNameId)
                           .Select(scheme => scheme.Name).ToArray(); 
```

或在一个查询中

```
 var result = db.SchemeNamesBenefits.Where(map => map.BenefitID == id)
                                    .SelectMany(map => db.SchemeNames
                                                         .Where(scheme => map.SchemeNameID == scheme.SchemeNameID)
                                                         .OrderBy(scheme => scheme.SchemeNameId)
                                                         .Select(scheme => scheme.Name)
                                                         .AsEnumerable())
                                    .ToArray() 
```

# asp.net - 为 ASP.GridView 设置自定义错误页面

> ID：13248863
> 
> 赞同：0
> 
> 时间：2012-11-06T10:16:31.923
> 
> 标签：asp.net, gridview

我想为连接到我的数据库的 asp gridview 设置一个自定义错误页面，而不是传统的错误页面。例如，当我尝试删除具有某些依赖项（外键）的对象时，我想为用户显示一条用户友好的消息。

感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T13:52:14.237

如果没有地方可以捕获违规代码，那么您最好的选择可能是使用 asp.net 的自定义错误页面，该页面将在发生未处理的异常时显示特定页面。要启用自定义错误，请将以下部分添加到 web.config 文件

```
<customErrors mode="On" defaultRedirect="~/Error/Error.aspx">
</customErrors> 
```

有关自定义错误的更多信息，请查看：[http ://www.asp.net/web-forms/tutorials/deployment/deploying-web-site-projects/displaying-a-custom-error-page-cs](http://www.asp.net/web-forms/tutorials/deployment/deploying-web-site-projects/displaying-a-custom-error-page-cs)

在自定义错误页面中，将此代码添加到页面加载事件中，以检查发生的最后一个错误并显示更友好的消息：

```
Exception lastError = HttpContext.Current.Server.GetLastError;
if (lastError is SqlClient.SqlException)  // Check that the last exception was a Sql Exception
{
    SqlClient.SqlException sqlex = (SqlClient.SqlException) lastError;
    switch (sqlex.Number) // Check what type of Sql error occurred
    {
        case 124:  // FOREIGN KEY Constraint failed referential check upon DELETE of row in referenced table
            // Display appropriate error message on the page
            break;
    }
} 
```

有关 Sql 错误编号的更多信息，请访问[http://www.scribd.com/doc/7679522/SQL-Server-Error-Codes](http://www.scribd.com/doc/7679522/SQL-Server-Error-Codes)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:31:33.853

我只需在 web.config 中设置 CustomError mode="On" 并重定向到自定义 error.aspx 页面

# php - 在单个 MySQL 查询中查找另一个表中的一个列的值

> ID：13248866
> 
> 赞同：2
> 
> 时间：2012-11-06T10:16:47.977
> 
> 标签：php, mysql

在表中`f_stock`，我有一个清单中所有项目的列表。列中的整数`type`是指`id`表中的`f_type`。

我想`f_stock`用`f_type.id`代替输出表的内容`f_stock.type`。这是怎么做到的？

在过去，我已经按照这些思路做了一些事情：

```
$query = "SELECT * FROM `f_stock`";
$result = mysql_query ($query) or die (mysql_error ());
while ($row = mysql_fetch_array ($result, MYSQL_ASSOC)) {
    $data[] = $row;
}
print_r ($data); 
```

`f_stock.type`为了在列中查找整数，`f_type.id`我在*while*循环内创建了一个辅助 $query/$result。

表`f_stock`：

```
`type` | `size` | `length`
-------|--------|---------
   1   |   3    |    12
   1   |   3    |    16   
   2   |   3    |    20   
   2   |   3    |    25   
   1   |   4    |    12   
   1   |   4    |    16   
   3   |   4    |    20 
```

表`f_type`：

```
 `id` |  `type` 
------|---------
   1  | 'Type 1'
   2  | 'Type 2'
   3  | 'Type 3'
   4  | 'Type 4'
   5  | 'Type 5'
   6  | 'Type 6'
   7  | 'Type 7' 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T10:22:59.810

首先，您应该避免使用`mysql`php 函数。使用[PDO](http://www.php.net/manual/en/class.pdo.php)或[MySQLi](http://www.php.net/manual/en/book.mysqli.php)

您可以通过简单地使用`LEFT JOIN`如下语句来解决您的问题

```
SELECT `f_stock`.`size`, `f_stock`.`length`, `f_type`.`type`
FROM `f_stock` 
LEFT JOIN `f_type` on `f_type`.`id`=`f_stock`.`type`; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T10:23:13.950

您正在寻找的是[JOIN](https://www.google.nl/search?q=sql%20join)。

```
SELECT `f_stock`.`size`, `f_stock`.`length`, `f_type`.`type`
FROM `f_stock`
LEFT JOIN `f_type` ON `f_type`.`id` = `f_stock`.`type` 
```

-edit- @Bruno
Vieira 实际上更好，您应该使用 a`LEFT JOIN`而不是`INNER JOIN`. 原因是 an`INNER JOIN`仅返回`f_stock`具有匹配行的`f_type`行。如果`f_stock.type`为 NULL，或者如果`f_type`给定的不`id`存在，`f_stock`则不会返回该行。`LEFT JOIN`返回所有`f_stock`行，然后`f_type`在可能的情况下尝试将它们与一行匹配。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-06T10:19:26.857

### 您可以使用 MySQL 连接

在您的数据库中使用此查询。

```
$query = "SELECT * FROM `f_stock`, `f_type` WHERE `f_stock`.`type` = `f_type`.`id`"; 
```

### MySQL 代码：

```
SELECT `f_stock`.`type` as `type`, `size`, `length` FROM `f_stock`, `f_type`
  WHERE `f_stock`.`type` = `f_type`.`id` 
```

### 小提琴：[http ://sqlfiddle.com/#!2/58892/2](http://sqlfiddle.com/#!2/58892/2)

### 输出：

```
+------+------+--------+
| TYPE | SIZE | LENGTH |
+------+------+--------+
|    1 |    3 |     12 |
|    1 |    3 |     16 |
|    1 |    4 |     12 |
|    1 |    4 |     16 |
|    2 |    3 |     20 |
|    2 |    3 |     25 |
|    3 |    4 |     20 |
+------+------+--------+ 
```

# c# - RichTextBox 不在鼠标滚轮上滚动

> ID：13248867
> 
> 赞同：0
> 
> 时间：2012-11-06T10:16:50.753
> 
> 标签：c#, silverlight, scroll

我在 SL4 项目中有 UserControl，其中包含大量文本的 Richtextbox。鼠标滚动不起作用的问题。当我拖动滚动条时 - 这有效并且当我按下键盘上的箭头时 - 滚动也有效，但是当我尝试使用鼠标滚轮滚动时 - 它根本不起作用。我已将此控件简化为最简单的：

```
<UserControl x:Class="CTermsOfUsePage"
    mc:Ignorable="d"
    d:DesignHeight="800" d:DesignWidth="900">
        <RichTextBox  Height="400">
            <Paragraph>
              Big amount of text with many LineBreaks here.
            </Paragraph>
        </RichTextBox>
</UserControl> 
```

但是滚动仍然不起作用。我试图用这样的代码创建一个新的 SL 应用程序——在那里一切正常。我还检查了默认样式 - RichTextBox 没有样式。

有什么建议吗？问题的根源是什么？

更新：在 IE9 滚动的 Chrome/FF/Opera 中出现的问题工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T11:33:01.477

我们找到了问题的根源。在项目的 .aspx 文件`<div id="silverlightControlHost">`部分中，我们有一个设置`<param name="windowless" value="true" />`。当此参数设置为`false`all 工作正常。

以及在 IE 中“true”设置工作正常，它看起来像 SL 错误。

# c# - C# 枚举包含值

> ID：13248869
> 
> 赞同：68
> 
> 时间：2012-11-06T10:16:55.867
> 
> 标签：c#, enums, contains

我有一个枚举

```
enum myEnum2 { ab, st, top, under, below} 
```

我想编写一个函数来测试给定值是否包含在 myEnum 中

类似的东西：

```
private bool EnumContainValue(Enum myEnum, string myValue)
{
     return Enum.GetValues(typeof(myEnum))
                .ToString().ToUpper().Contains(myValue.ToUpper()); 
} 
```

但它不起作用，因为 myEnum 参数无法识别。

* * *

## 回答 #1

> 赞同：97
> 
> 时间：2012-11-06T10:19:52.393

为什么不使用

```
Enum.IsDefined(typeof(myEnum), value); 
```

*顺便说一句*，创建通用`Enum<T>`类很好，它围绕调用`Enum`（实际上我想知道为什么没有将这样的东西添加到 Framework 2.0 或更高版本）：

```
public static class Enum<T>
{
    public static bool IsDefined(string name)
    {
        return Enum.IsDefined(typeof(T), name);
    }

    public static bool IsDefined(T value)
    {
        return Enum.IsDefined(typeof(T), value);
    }

    public static IEnumerable<T> GetValues()
    {
        return Enum.GetValues(typeof(T)).Cast<T>();
    }
    // etc
} 
```

这允许避免所有这些`typeof`东西并使用强类型值：

```
Enum<StringSplitOptions>.IsDefined("None") 
```

* * *

## 回答 #2

> 赞同：62
> 
> 时间：2012-11-06T10:19:36.300

无需自己编写：

```
 // Summary:
    //     Returns an indication whether a constant with a specified value exists in
    //     a specified enumeration.
    //
    // Parameters:
    //   enumType:
    //     An enumeration type.
    //
    //   value:
    //     The value or name of a constant in enumType.
    //
    // Returns:
    //     true if a constant in enumType has a value equal to value; otherwise, false.

    public static bool IsDefined(Type enumType, object value); 
```

例子：

```
if (System.Enum.IsDefined(MyEnumType, MyValue))
{
    // Do something
} 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-11-06T10:20:43.747

就用这个方法

[Enum.IsDefined 方法](http://msdn.microsoft.com/en-us/library/system.enum.isdefined.aspx)- 返回指定枚举中是否存在具有指定值的常量的指示

例子

```
enum myEnum2 { ab, st, top, under, below};
myEnum2 value = myEnum2.ab;
 Console.WriteLine("{0:D} Exists: {1}", 
                        value, myEnum2.IsDefined(typeof(myEnum2), value)); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-11-06T17:45:08.150

在这种情况下，您对 ToString() 所做的是：

`Enum.GetValues(typeof(myEnum)).ToString()...`相反，你应该写：

```
Enum.GetValues(typeof(myEnum).ToString()... 
```

区别就在括号里...

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-11-06T11:03:33.760

也可以使用这个：

```
 enum myEnum2 { ab, st, top, under, below }
    static void Main(string[] args)
    {
        myEnum2 r;
        string name = "ab";
        bool result = Enum.TryParse(name, out r);
    } 
```

结果将包含该值是否包含在枚举中。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-11-06T14:11:02.753

```
 public static T ConvertToEnum<T>(this string value)
    {
        if (typeof(T).BaseType != typeof(Enum))
        {
            throw new InvalidCastException("The specified object is not an enum.");
        }
        if (Enum.IsDefined(typeof(T), value.ToUpper()) == false)
        {
            throw new InvalidCastException("The parameter value doesn't exist in the specified enum.");
        }
        return (T)Enum.Parse(typeof(T), value.ToUpper());
    } 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2017-03-27T18:32:59.770

如果您的问题是“我有一个枚举类型，`enum MyEnum { OneEnumMember, OtherEnumMember }`并且我想要一个函数来告诉这个枚举类型是否包含具有特定名称的成员，那么您正在寻找的是`System.Enum.IsDefined`方法：

```
Enum.IsDefined(typeof(MyEnum), MyEnum.OneEnumMember); //returns true
Enum.IsDefined(typeof(MyEnum), "OtherEnumMember"); //returns true
Enum.IsDefined(typeof(MyEnum), "SomethingDifferent"); //returns false 
```

如果您的问题类似于“我有一个枚举类型的实例，它具有`Flags`属性，并且我想要一个函数来告诉该实例是否包含特定的枚举值，那么该函数看起来像这样：

```
public static bool ContainsValue<TEnum>(this TEnum e, TEnum val) where Enum: struct, IComparable, IFormattable, IConvertible
{
    if (!e.GetType().IsEnum)
        throw new ArgumentException("The type TEnum must be an enum type.", nameof(TEnum));

    dynamic val1 = e, val2 = val;
    return (val1 | val2) == val1;
} 
```

希望我能帮上忙。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2012-11-06T10:22:29.500

只需将枚举转换为：

```
string something = (string)myEnum; 
```

现在比较随心所欲

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2012-11-06T10:19:28.127

使用正确的枚举名称 ( `myEnum2`)。

此外，如果您正在针对字符串值进行测试，您可能希望使用`GetNames`而不是`GetValues`.

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2012-11-06T10:25:36.363

我认为你在使用 ToString() 时出错了。

尝试进行 Linq 查询

```
private bool EnumContainValue(Enum myEnum, string myValue)
{
    var query = from enumVal in Enum.GetNames(typeof(GM)).ToList()
                       where enumVal == myValue
                       select enumVal;

    return query.Count() == 1;
} 
```

# eclipse - Eclipse pdt 更新后未启动

> ID：13248872
> 
> 赞同：1
> 
> 时间：2012-11-06T10:17:06.133
> 
> 标签：eclipse, eclipse-pdt

嗨，我在 Eclipse 中检查了更新，更新后我收到以下消息：“发生错误。请参阅日志文件”。

这是日志文件：[http](http://dev.edandweb.co.il/myError.log) ://dev.edandweb.co.il/myError.log 我做这个更新只是为了解决另一个问题，当我输入 $this-> eclipse 没有使用现有方法自动完成.

我在论坛中搜索相同的主题，但我认为这种错误类型取决于消息，并且每个人都不同。

感谢你们对我的帮助。

# multithreading - 如何在 cocos2d-x 的单独线程中加载纹理？

> ID：13248873
> 
> 赞同：1
> 
> 时间：2012-11-06T10:17:22.330
> 
> 标签：multithreading, cocos2d-x

我需要使用多线程来动态加载额外的纹理，以减少内存占用。

示例案例是我在一个关卡中有 10 种敌人要使用，但敌人会逐个出现。“type by type”的上下文意味着一种类型的敌人出现并且玩家杀死了它的所有实例，然后是时候调用另一种类型了。过程是这样进行的，直到所有类型都出来，然后关卡完成。

您可以看到最好不要在开始时立即加载所有敌人的纹理（它相当大 2048*2048 有很多动画帧，我需要在创建每种类型的敌人时在其中创建它们）。我将其转换为多线程以在需要时加载额外的纹理。但我知道 cocos2d-x**不是线程安全的**。我计划使用 CCSpriteFrameCache 类从 .plist + .png 文件加载纹理，然后在那里重新创建动画，最后从中创建一个 CCSprite 来表示一种新型的敌人实例。如果我不使用多线程，我可能会遇到加载大尺寸纹理时出现的延迟延迟。

那么如何按照上面的目标在 cocos2d-x 的单独线程中加载纹理呢？任何避免线程安全问题但仍然可以实现我的目标的想法也值得赞赏。

注意：我在 iOS 平台上开发。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T11:05:50.607

我发现 cocos2d-x 中已经存在图像的异步加载。您可以构建一个 cocos2d-x 的测试项目并查看“Texture2DTest”，然后点击左箭头查看异步加载的样子。

我已经查看了代码内部。您可以使用`addImageAsync`的方法`CCtextureCache`动态加载附加纹理，而不会干扰或减慢其他部分，例如正在运行的当前动画。事实上，`addImageAsync`of`CCTextureCache`会为你加载`CCTexture2D`对象并返回给它的回调方法来接收。您还有其他任务可以代表您使用它。

请注意，`CCSpriteFrameCache`用于`CCTextureCache`加载帧。因此，这也适用于我的情况，以加载由要在动画创建中使用的帧组成的 spritesheet。但不幸的是，没有为`CCSpriteFrameCache`类提供异步类型的方法。您必须手动加载纹理对象，`CCTextureCache`然后将其插入

`void CCSpriteFrameCache::addSpriteFramesWithFile(const char *pszPlist, CCTexture2D *pobTexture)`

您可以查看测试项目中有2个文件。

*   Texture2dTest.cpp
*   TextureCacheTest.cpp

# ruby-on-rails - 无法解析来自 twitter gem 的哈希

> ID：13248874
> 
> 赞同：2
> 
> 时间：2012-11-06T10:17:23.823
> 
> 标签：ruby-on-rails, ruby, twitter, hash, gem

我有宝石在工作：可以从中推文并获取信息。

我可以抓住这个哈希并打印出它的 .text 部分，但我不知道如何获取 id_str 和 screen_name - 我真的需要解析出的信息。

不知道我做错了什么。

```
 <% Twitter.mentions_timeline.each do |mention| %>
      <%= mention.text %> <%# dies on some of em, like mention.id_str - not sure why %>
      <br /><hr />         
  <% end %> 
```

以下是 Twitter.mentions_timeline 哈希：

```
[#<Twitter::Tweet:0x007fd070de24a0 

@attrs={
    :in_reply_to_status_id_str=>"265276218855809024", 
    :retweet_count=>0, 
    :contributors=>nil, 
    :truncated=>false, 
    :text=>"@doodleboots http://t.co/VJOR0MgQ", 
    :in_reply_to_user_id_str=>"119208666", 
    :geo=>nil, 
    :retweeted=>false, 
    :possibly_sensitive=>false, 
    :in_reply_to_screen_name=>"doodleboots", 
    :id_str=>"265276345704124416", 
    :entities=>{:hashtags=>[], 
        :urls=>[{:display_url=>"is.gd/S3uOyu", 
        :indices=>[13, 33], 
        :expanded_url=>"http://is.gd/S3uOyu", 
        :url=>"http://t.co/VJOR0MgQ"}], 
        :user_mentions=>[{:name=>"doodle", 
        :indices=>[0, 12], 
        :screen_name=>"doodleboots", 
        :id_str=>"119208666", 
        :id=>119208666}]}, 
        :in_reply_to_user_id=>119208666, 
        :in_reply_to_status_id=>265276218855809024, 
        :created_at=>"Mon Nov 05 02:16:24 +0000 2012", 
        :place=>nil, 
        :user=>{:profile_image_url_https=>"https://si0.twimg.com/profile_images/2808322935/d5da93a06dbd45959cb4dba0797689a5_normal.jpeg", 
        :id=>926557182, 
        :profile_background_image_url=>"http://a0.twimg.com/images/themes/theme1/bg.png", 
        :entities=>{:description=>nil}, 
        :screen_name=>"Roslyn1bdzn", 
        :profile_link_color=>"0084B4", 
        :default_profile_image=>false, 
        :created_at=>"Mon Nov 05 01:17:20 +0000 2012", 
        :contributors_enabled=>false, 
        :friends_count=>0, 
        :time_zone=>nil, 
        :favourites_count=>0, 
        :utc_offset=>nil, 
        :profile_use_background_image=>true, 
        :url=>nil, :geo_enabled=>false, 
        :lang=>"en", 
        :profile_image_url=>"http://a0.twimg.com/profile_images/2808322935/d5da93a06dbd45959cb4dba0797689a5_normal.jpeg", 
        :profile_text_color=>"333333", 
        :name=>"Roslyn Montalbo ", 
        :profile_background_image_url_https=>"https://si0.twimg.com/images/themes/theme1/bg.png", 
        :description=>"Amateur social media scholar. Friend of animals everywhere. Explorer. Unapologetic twitter advocate. Incurable travel geek. Writer", 
        :protected=>false, 
        :profile_sidebar_border_color=>"C0DEED", 
        :followers_count=>0, 
        :default_profile=>true, 
        :profile_background_tile=>false, 
        :location=>"Dublin", 
        :profile_sidebar_fill_color=>"DDEEF6", 
        :following=>false, 
        :statuses_count=>3, 
        :follow_request_sent=>false, 
        :listed_count=>0, 
        :id_str=>"926557182", 
        :profile_background_color=>"C0DEED", 
        :notifications=>false, 
        :verified=>false, 
        :is_translator=>false}, 
        :coordinates=>nil, 
        :source=>"web", 
        :favorited=>false, 
        :id=>265276345704124416}>,

#<Twitter::Tweet:0x007fd070de2478 

    @attrs={:in_reply_to_status_id_str=>nil,
    :retweet_count=>0, 
    :contributors=>nil, 
    :truncated=>false, 
    :text=>"test post @doodleboots", 
    :in_reply_to_user_id_str=>nil, 
    :geo=>nil, 
    :retweeted=>false, 
    :in_reply_to_screen_name=>nil,  
    :id_str=>"247909685582233600", 
    :entities=>{:hashtags=>[], 
        :urls=>[], 
        :user_mentions=>[{:name=>"doodle", 
            :indices=>[10, 22], 
            :screen_name=>"doodleboots", 
            :id_str=>"119208666", 
            :id=>119208666}]}, 
            :in_reply_to_user_id=>nil, 
            :in_reply_to_status_id=>nil, 
            :created_at=>"Tue Sep 18 04:07:29 +0000 2012", 
            :place=>nil, 
            :user=>{:profile_image_url_https=>"https://si0.twimg.com/profile_images/728693845/doodleBootsIcon_normal.png", 
            :id=>119208666, 
            :profile_background_image_url=>"http://a0.twimg.com/images/themes/theme1/bg.png", 
            :entities=>{:description=>{
                :urls=>[]}, 
                :url=>{:urls=>[{
                    :display_url=>nil, 
                    :indices=>[0, 22], 
                    :expanded_url=>nil, 
                    :url=>"http://doodleboots.com"}]}}, 
                    :screen_name=>"doodleboots", 
                    :profile_link_color=>"0084B4", 
                    :default_profile_image=>false, 
                    :created_at=>"Wed Mar 03 00:09:50 +0000 2010", 
                    :contributors_enabled=>false, 
                    :friends_count=>16, 
                    :time_zone=>nil, 
                    :favourites_count=>0, 
                    :utc_offset=>nil, 
                    :profile_use_background_image=>true, 
                    :url=>"http://doodleboots.com", 
                    :geo_enabled=>false, 
                    :lang=>"en", 
                    :profile_image_url=>"http://a0.twimg.com/profile_images/728693845/doodleBootsIcon_normal.png", 
                    :profile_text_color=>"333333", 
                    :name=>"doodle", 
                    :profile_background_image_url_https=>"https://si0.twimg.com/images/themes/theme1/bg.png", 
                    :description=>"Take a pic of a drawing/doodle and tweet it @doodleboots! It will be re-tweeted and posted to the website for all to see.", 
                    :protected=>false, 
                    :profile_sidebar_border_color=>"C0DEED", 
                    :followers_count=>14, 
                    :default_profile=>true, 
                    :profile_background_tile=>false, 
                    :location=>"", 
                    :profile_sidebar_fill_color=>"DDEEF6", 
                    :following=>false, 
                    :statuses_count=>16, 
                    :follow_request_sent=>false, 
                    :listed_count=>1, 
                    :id_str=>"119208666", 
                    :profile_background_color=>"C0DEED", 
                    :notifications=>false, 
                    :verified=>false, 
                    :is_translator=>false}, 
                    :coordinates=>nil, 
                    :source=>"web", 
                    :favorited=>false, 
                    :id=>247909685582233600}>, 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T10:59:58.467

该类`Twitter::Tweet`不公开该`id_str`属性。这些是公开的属性（来自[https://github.com/sferik/twitter/blob/master/lib/twitter/tweet.rb](https://github.com/sferik/twitter/blob/master/lib/twitter/tweet.rb)的源代码）：

```
:favorited, :favoriters, :from_user_id, :from_user_name,
  :in_reply_to_screen_name, :in_reply_to_attrs_id, :in_reply_to_status_id,
  :in_reply_to_user_id, :iso_language_code, :profile_image_url,
  :profile_image_url_https, :repliers, :retweeted, :retweeters, :source,
  :text, :to_user, :to_user_id, :to_user_name, :truncated 
```

如果您需要访问其他任何内容，请通过`attrs`哈希访问它：

```
@tweet.attrs[:id_str] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T10:49:43.160

为什么它起作用`:text`是因为您的`mention`哈希有一个名为的键`:text`，而您正在寻找的其他属性 (`:screen_name`和`:id_str`) 深深地嵌套在其中。

如果您仔细查看 的结构，`mention`您会注意到它包含 key `:entities`（与 处于同一级别`:text`），其值是另一个包含 key 的哈希`:user_mentions`。的值`:user_mentions`是一个哈希数组。您正在寻找的是在这个哈希数组中。

```
puts mention[:entities][:user_mentions][0][:screen_name] #=> doodleboots
puts mention[:entities][:user_mentions][0][:id_str]      #=> 119208666 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T10:34:44.240

请试试这个：

```
<% Twitter.mentions_timeline.each do |mention| %>
      <%= mention['text'] %> <%# dies on some of em, like mention.id_str - not sure why %>
      <br /><hr />         
<% end %> 
```

# visual-studio-2008 - 绘制按钮单击 - Visual C++

> ID：13248883
> 
> 赞同：0
> 
> 时间：2012-11-06T10:17:59.320
> 
> 标签：visual-studio-2008, visual-c++

单击按钮时，我需要创建矩形。我已经尝试了给定的代码，但它不起作用。我试图创建一个标志“mdraw”，当单击按钮时变为真。form_paint 中存在一个条件，只有当“mdraw”变为真时才会创建矩形。但是点击按钮后，什么都没有！

我正在使用 Windows 窗体应用程序 (CLR)。微软视觉 C++ 2008。

```
 #pragma once

    namespace try1 {

using namespace System;
using namespace System::ComponentModel;
using namespace System::Collections;
using namespace System::Windows::Forms;
using namespace System::Data;
using namespace System::Drawing;

/// <summary>
/// Summary for Form1
///
/// WARNING: If you change the name of this class, you will need to change the
///          'Resource File Name' property for the managed resource compiler tool
///          associated with all .resx files this class depends on.  Otherwise,
///          the designers will not be able to interact properly with localized
///          resources associated with this form.
/// </summary>
public ref class Form1 : public System::Windows::Forms::Form
{
public:
    Form1(void)
    {
        InitializeComponent();
        //
        //TODO: Add the constructor code here
        //
    }

protected:
    /// <summary>
    /// Clean up any resources being used.
    /// </summary>
    ~Form1()
    {
        if (components)
        {
            delete components;
        }
    }
private: System::Windows::Forms::Button^  button1;
protected: 

private:
    /// <summary>
    /// Required designer variable.
    /// </summary>
    System::ComponentModel::Container ^components;
private: System::Windows::Forms::Label^  label1;
public:
    bool mdraw;
    #pragma region Windows Form Designer generated code
    /// <summary>
    /// Required method for Designer support - do not modify
    /// the contents of this method with the code editor.
    /// </summary>
    void InitializeComponent(void)
    {
        this->button1 = (gcnew System::Windows::Forms::Button());
        this->label1 = (gcnew System::Windows::Forms::Label());
        this->SuspendLayout();
        // 
        // button1
        // 
        this->button1->Location = System::Drawing::Point(98, 35);
        this->button1->Name = L"button1";
        this->button1->Size = System::Drawing::Size(75, 23);
        this->button1->TabIndex = 0;
        this->button1->Text = L"button1";
        this->button1->UseVisualStyleBackColor = true;
        this->button1->Click += gcnew System::EventHandler(this, &Form1::button1_Click);
        // 
        // label1
        // 
        this->label1->AutoSize = true;
        this->label1->Location = System::Drawing::Point(51, 77);
        this->label1->Name = L"label1";
        this->label1->Size = System::Drawing::Size(0, 13);
        this->label1->TabIndex = 1;
        // 
        // Form1
        // 
        this->AutoScaleDimensions = System::Drawing::SizeF(6, 13);
        this->AutoScaleMode = System::Windows::Forms::AutoScaleMode::Font;
        this->ClientSize = System::Drawing::Size(284, 262);
        this->Controls->Add(this->label1);
        this->Controls->Add(this->button1);
        this->Name = L"Form1";
        this->Text = L"Form1";
        this->Load += gcnew System::EventHandler(this, &Form1::Form1_Load);
        this->Paint += gcnew System::Windows::Forms::PaintEventHandler(this, &Form1::Form1_Paint);
        this->ResumeLayout(false);
        this->PerformLayout();

    }
    #pragma endregion
private: System::Void button1_Click(System::Object^  sender, System::EventArgs^  e)               {
             mdraw=true;
             label1->Text=button1->Text;

         }

private: System::Void Form1_Paint(System::Object^  sender, System::Windows::Forms::PaintEventArgs^  e) {
             Pen^ redPen = gcnew Pen(Color::Red);
         int i,n;
         i=20;
         n=0;

         if(mdraw)
         {
                       while(n<=50)
         {
             e->Graphics->DrawRectangle(redPen,i,140,10,60);
             i=i+20;
             n+=1;

         }

         }
     }

    };
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:25:22.850

使用如下首先将**mdraw**初始化为**false**

```
private: System::Void button1_Click(System::Object^  sender, System::EventArgs^  e) 
{ 
    if(!mdraw)
    {
      while(n<=50)
      {
         mdraw=true;
         label1->Text=button1->Text;
         e->Graphics->DrawRectangle(redPen,i,140,10,60);
         i=i+20;
         n+=1;
       }
     }

 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-02T12:33:28.077

按钮 e 事件没有图形事件，这就是显示错误的原因

# asp.net - 在 aspx 中使用演员表进行评估

> ID：13248885
> 
> 赞同：0
> 
> 时间：2012-11-06T10:18:09.953
> 
> 标签：asp.net, .net

我在一个 aspx 页面中有一个 eval，它在 gridview 的模板中有一个 eval。我的问题是 eval 调用了一个带有对象参数的方法。我可以更改方法以接受正确的参数并将 cast 与 eval 语句一起使用。

我需要这样的东西：

`<%# MyClas.MyMethod((string)Eval("Param1"),(int)Eval("Param2"), (string)Eval("Param3"))%>`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:33:00.073

You could create your signature to contain the right types or type object. This is entirely dependent on the data and your preference. If any of your parameters return NULL, there may be an exception with the casting of your evaluated data item. I personally prefer the first option, but then I always ensure that there will not be a null in the result set.

Option 1:

```
<%# MyClas.MyMethod((string)Eval("Param1"),(int)Eval("Param2"), (string)Eval("Param3"))%> 
```

Code:

```
public string MyMethod(string param1, int param2, string param3) {
    return "";
} 
```

or Option 2:

```
<%# MyClas.MyMethod(Eval("Param1"),Eval("Param2"), Eval("Param3"))%> 
```

Code:

```
public string MyMethod(object param1, object param2, object param3) {
    return "";
} 
```

I hope this helps.

# objective-c - 实现按住连续事件触发的优雅方式？

> ID：13248889
> 
> 赞同：5
> 
> 时间：2012-11-06T10:18:16.247
> 
> 标签：objective-c, ios, xcode

由于按住按钮，我经常需要触发一系列事件。想想一个`+`增加一个字段的按钮：点击它应该增加 1，但是点击并按住应该说每秒增加 1，直到按钮被释放。另一个例子是在音频播放器类型应用程序中按住后退或前进按钮时的擦洗功能。

我通常采用以下策略：

1.  在`touchDownInside`我设置了一个具有我想要的间隔的重复计时器。
2.  在`touchUpInside`我使计时器无效并释放。

但是对于每个这样的按钮，我需要一个单独的计时器实例变量、2 个目标操作和 2 个方法实现。（这是假设我正在编写一个通用类并且不想对同时触摸的最大数量施加限制）。

有没有更优雅的方法来解决我缺少的这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T12:31:44.127

我建议`UILongPressGestureRecognizer`。

```
UILongPressGestureRecognizer *longPress = [[UILongPressGestureRecognizer alloc] initWithTarget:self action:@selector(addOpenInService:)];
    longPress.delegate      =   self;
    longPress.minimumPressDuration = 0.7;
    [aView addGestureRecognizer:longPress];
    [longPress release];
    longPress = nil; 
```

在触发事件时，您可以接听电话

```
- (void) addOpenInService: (UILongPressGestureRecognizer *) objRecognizer
{
    // Do Something
} 
```

同样，您可以`UITapGestureRecognizer`用于识别用户点击。

希望这可以帮助。:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T10:53:54.487

通过以下方式注册每个按钮的事件：

```
[button addTarget:self action:@selector(touchDown:withEvent:) forControlEvents:UIControlEventTouchDown];
[button addTarget:self action:@selector(touchUpInside:withEvent:) forControlEvents:UIControlEventTouchUpInside]; 
```

对于每个按钮，设置`tag`属性：

```
button.tag = 1; // 2, 3, 4 ... etc 
```

在处理程序中，做任何你需要的事情。通过标签识别按钮：

```
- (IBAction) touchDown:(Button *)button withEvent:(UIEvent *) event
{
     NSLog("%d", button.tag);
} 
```

# c# - 在 asp.net 中为 c# 获取路径

> ID：13248892
> 
> 赞同：0
> 
> 时间：2012-11-06T10:18:23.603
> 
> 标签：c#, asp.net

我正在尝试获取用户上传的文件的路径，但我得到的路径是错误的，因为路径应该是示例

```
 "C:\\Users\\Tranga.Patel\\Downloads\template.xlsx" 
```

但在我的程序中我得到

```
 "c:\\windows\\system32\\inetsrv\\Template Final.xlsx" 
```

我正在使用的代码是

```
fileName = Path.GetFullPath(fileUpload.PostedFile.FileName); 
```

我也尝试过使用

```
 fileName = Server.MapPath(Path.GetFullPath(fileUpload.PostedFile.FileName)); 
```

这给出了项目的目录

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:19:55.703

尝试使用以下：

```
var path=Server.MapPath('Uploads folder path from root directory'); 
```

这为您提供了网站根目录的文件夹路径。

编辑：- 如果文件不在您的站点目录树中，您应该知道用户将文件保存到哪个路径。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T11:26:07.323

您使用的是文件上传控件吗？如果是，您只需要他们选择要上传的文档，然后指定要保存的路径即可。例如

```
 // Get File Name
 documentName = Path.GetFileName(fuContentDocuments.FileName);

 // Specify your server path
 string serverPath = Server.MapPath("../../" + WebConfigurationManager.AppSettings["FilePath"].ToString());

// The final path
string fileLocation = (serverPath + "\\" + userId + "\\" + documentName);

// if folder doesn't exist then create it
if (!Directory.Exists(serverPath + "\\" + userId + "\\"))
{
    // create the folder for the file
    Directory.CreateDirectory(serverPath + "\\" + userId + "\\");
}

// Upload the file
fuContentDocuments.SaveAs(fileLocation); 
```

注意：UserId 只是用户登录的userId。这样其他用户就不会覆盖它。

# c++ - 如何通过引用将 std::vector 传递给函数，默认值为 C++ 中的空 std::vector？

> ID：13248893
> 
> 赞同：2
> 
> 时间：2012-11-06T10:18:24.010
> 
> 标签：c++, visual-studio-2010, gcc

我一直在尝试通过引用将 std::vector 传递给函数，默认值为空的 std::vector。我的函数声明如下：

```
void function( std::vector<double>& vec=std::vector<double>(0)); 
```

我的函数的定义是：

```
void function( std::vector<double>& vec)
{
...
} 
```

但是我的 C++ 编译器（gcc 4.6）在这里抛出一个错误，说：

> 错误：“std::vector&”类型参数的默认参数具有“std::vector”类型</p>

我已经看到这个版本的代码在 Microsoft VS 2010 编译器上编译得很好。我想知道这是否是 gcc 和 vs2010 之间不同的 c++ 标准解释的问题。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-06T10:20:53.370

你不能。您不能将临时绑定到 ref-to-non- `const`，因此您只能这样做：

```
void function(const std::vector<double>& vec = std::vector<double>()); 
```

那么，在你的情况下，我建议函数重载：

```
void function(std::vector<double>& vec)
{
    // ...
}

void function()
{
    std::vector<double> v;
    function(v);
} 
```

如果您不喜欢额外的函数调用，那么您就不走运了。:)

如果您可以访问它们，我不知道 C++11 rvalue refs 在这里是否有帮助。

> 我已经看到这个版本的代码在 Microsoft VS 2010 编译器上编译得很好。我想知道这是否是 gcc 和 vs2010 之间不同的 c++ 标准解释的问题。

MSVS 倾向于允许您将临时对象绑定到 refs-to-non- `const`，这是非标准行为。海湾合作委员会是正确的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T10:32:57.933

You can do the following:

```
namespace{
    auto empty_vec = std::vector<double>();
}

void function(std::vector<double>& vec=empty_vec); 
```

then you do not have to change the signature of your function. But you have to define the variable `empty_vec` instead. I put it in an unnamed namespace to make it invisible from outside this translation unit. But the drawback is (as LightnessRacesinOrbit noted below) that within this translation unit the value of `empty_vec` can be changed, which might break your function.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T10:21:43.460

您不能将临时对象作为**非常**量左值引用传递！添加 const 限定符或删除默认参数。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-08-29T23:15:29.770

以下方法清楚地说明了默认值是什么——并且可以将其替换为其他默认行为。

```
static std::vector<double> emptyVectorProvider()
{
    return (std::vector<double>());
}

void function (std::vector<double>&& = emptyVectorProvider ());

void function2 (std::vector<double>&& def = emptyVectorProvider ())
{
    function(std::forward<std::vector<double> > (def));
} 
```

# routes - 如何查询路由zf2？

> ID：13248895
> 
> 赞同：2
> 
> 时间：2012-11-06T10:18:53.833
> 
> 标签：routes, zend-framework2

我有我的死记硬背的配置：

```
 'admin' => array(
            'type' => 'Segment',
            'options' => array(
                'route' => '/admin[/[:controller[/:action]]]',
                'constraints' => array(
                    'controller' => '[a-zA-Z][a-zA-Z0-9_-]*/?',
                    'action' => '[a-zA-Z][a-zA-Z0-9_-]*/?',
                ),
                'defaults' => array(
                    'controller' => 'index',
                    'action' => 'index',
                ),
            ),
            'may_terminate' => true,
            'child_routes' => array(
                'query' => array(
                    'type' => 'Query',
                ),
            ),
        ) 
```

以及为什么我试图去 admin/controller/some_action?id=234234234，我有一个错误：

```
A 404 error occurred
Page not found.
The requested URL could not be matched by routing. 
```

我的配置有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T10:59:21.630

如果您使用以下参数定义路由配置：

```
//...
'defaults' => array(
                    'controller' => 'index',
                    'action' => 'Index',
                   ),
//... 
```

您需要确保您的控制器类在控制器配置级别与此键相关联：

```
'controllers' => array(
        'invokables' => array(
            'index' => 'Your\Controller\Namespace\YourController',
            //...
        ),
    ), 
```

但是，它建议定义更多的“结构化”键（假设您在不同模块级别有不同的索引控制器......）这可以通过添加与控制器命名空间对应的键来轻松实现：

```
'defaults' => array(
                    'controller' => 'Index',
                    'action' => 'Index',
                    '__NAMESPACE__'=>'Your\Controller\Namespace'
                   ),

//...

//Controllers configuration

'controllers' => array(
        'invokables' => array(
            'Your\Controller\Namespace\Index' => 'Your\Controller\Namespace\YourController',
            //...
        ),
    ), 
```

[编辑]

试试这个（结构化的）配置：

```
'admin' => array(
            'type'    => 'Segment',
            'options' => array(
                'route'    => '/admin',
                'defaults' => array(
                    'controller'    => 'Index',
                    'action'        => 'index',
                ),
            ),
            'may_terminate' => true,
            'child_routes' => array(
                'default' => array(
                    'type'    => 'Segment',
                    'options' => array(
                        'route'    => '/[:controller[/:action]]',
                        'constraints' => array(
                            'controller' => '[a-zA-Z][a-zA-Z0-9_-]*',
                            'action'     => '[a-zA-Z][a-zA-Z0-9_-]*',
                        ),
                        'defaults' => array(
                        ),
                    ),
                    'child_routes' => array(
                        'query'=>array(
                            'type'=>'Query',
                        )
                    )
                ),
            ),
        ), 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T14:17:35.847

可能是您定义的正则表达式：

```
'controller' => '[a-zA-Z][a-zA-Z0-9_-]*/?',
'action' => '[a-zA-Z][a-zA-Z0-9_-]*/?', 
```

这迫使你匹配一个斜杠，试试这个：

```
'action'        => '[a-zA-Z][a-zA-Z0-9_-]*',
'controller'    => '[a-zA-Z][a-zA-Z0-9_-]*', 
```

# javascript - 在Javascript中偏移多边形

> ID：13248896
> 
> 赞同：14
> 
> 时间：2012-11-06T10:18:59.963
> 
> 标签：javascript, svg, geometry, script#

EDIT5：终于用 Javascript 实现了 Angus Johnson 的 Clipper 库，并选择了 Sourceforge 作为主机。

现场演示：http: [//jsclipper.sourceforge.net/6.1.1.1/main_demo.html](http://jsclipper.sourceforge.net/6.1.1.1/main_demo.html)

下载源： [https ://sourceforge.net/projects/jsclipper/](https://sourceforge.net/projects/jsclipper/)

带有分步教程的维基页面： [https ://sourceforge.net/p/jsclipper/wiki/Home%206/](https://sourceforge.net/p/jsclipper/wiki/Home%206/)

演示程序演示，包括数十个示例多边形： [https ://sourceforge.net/p/jsclipper/wiki/Main_Demo%206/](https://sourceforge.net/p/jsclipper/wiki/Main_Demo%206/)

我希望这可以帮助任何需要具有偏移功能的折线和多边形剪裁库的人。

* * *

EDIT4：一种可能性是使用 [http://p2js.gelicon.biz/en/](http://p2js.gelicon.biz/en/)将 pascal 转换为 javascript 。还没有成功。`p2js.exe clipper.pas`给出致命错误“找不到裁剪器使用的单位系统”。

* * *

编辑：我找到了[script#](http://visualstudiogallery.msdn.microsoft.com/178fe024-29f2-467c-a1da-284fedd1ac19) ( [Github](https://github.com/nikhilk/ScriptSharp) )，它似乎能够将 C# 转换为 Javascript。Clipper lib 在 C# 中可用，那么是否可以使用 Script# 进行 C#->JS 转换以及如何进行？

EDIT3：没有用 script# 转换，但也有 Emscripten，但 4000 cpp 行转换为 300 000 Javascript 行，所以不是一个选项。手动转换似乎是王道。

* * *

EDIT2：我做了[一个例子](http://jsbin.com/izafix/2/)，它显示了问题。使用左右箭头应用偏移。在一定距离内它工作正常，但随后出现问题。黄色描边多边形就是所谓的原始偏移多边形，AFAIK Clipper lib 提供了一种方法来删除原始偏移多边形中不需要的部分。

* * *

Angus Johnson 有一个 Clipper 库，用于偏移多边形。

我需要 Javascript 中的这个功能来抵消 SVG 多边形。

**有人制作了它的 Javascript 端口吗？**

如果没有，我会很感激一些指导方针，例如。以下内容：
- 这将是多么艰巨的任务？
- 选择哪一个作为源代码（Delphi、C#、C++）？
- lib 中的所有内容都需要抵消吗？

Clipper 库产生以下结果，这些结果正是所需的功能：

![偏移多边形、多边形、delta、jointype、miterlimit、jtSquare jtRound jtMiter](../Images/e52f3324d5346e7a85f59a22ddf468d3.png)

一些链接：
- [Sourceforge 中的文件](http://sourceforge.net/projects/polyclipping/files/)
- [Clipper 文档](http://www.angusj.com/delphi/clipper/documentation/Docs/Units/ClipperLib/Functions/OffsetPolygons.htm)
- [Stackoverflow 的一个答案](https://stackoverflow.com/a/7947389/1691517)
-[偏移算法](http://www.me.berkeley.edu/~mcmains/pubs/DAC05OffsetPolygon.pdf)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-27T19:39:25.553

我已经成功地将 Clipper 移植到 JS 中，过了一段时间，经过彻底的测试后将发布它。似乎所有功能都可以移植。

需要注意的是，128 位支持减少到 106 位。

优点之一是浏览器空间大，可以使用 svg、vml、html5 画布作为图形界面。

任何想法，哪个主机最容易发布，有演示的可能性？

* * *

编辑：

最后得到了 Angus Johnson 的 Clipper 库，用 Javascript 实现，并选择了 Sourceforge 作为主机。

现场演示：http: [//jsclipper.sourceforge.net/6.1.1.1/main_demo.html](http://jsclipper.sourceforge.net/6.1.1.1/main_demo.html)

下载： [https ://sourceforge.net/projects/jsclipper/](https://sourceforge.net/projects/jsclipper/)

带有分步教程的维基页面： [https ://sourceforge.net/p/jsclipper/wiki/Home%206/](https://sourceforge.net/p/jsclipper/wiki/Home%206/)

演示程序演示，包括数十个示例多边形： [https ://sourceforge.net/p/jsclipper/wiki/Main_Demo%206/](https://sourceforge.net/p/jsclipper/wiki/Main_Demo%206/)

我希望这可以帮助任何需要具有偏移功能的折线和多边形剪裁库的人。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-07T07:47:44.260

多边形膨胀没有简单的解决方案。如果你有一个凹多边形，如果你足够减少偏移量，它迟早会分成几个更小的多边形。所以我建议使用现有的、经过验证的算法（Clipper 应该是一个很好的算法）。

关于将 C# 移植到 JS 的问题，我会说这当然是可能的，但问题是需要多少时间以及自动移植工具是否有用。从[这个讨论](http://sourceforge.net/p/polyclipping/discussion/1148419/thread/a3da69a1)来看，我对此表示怀疑：

> 我快速尝试使用 ScriptSharp 将 C# 代码转换为 Javascript，但是有太多不兼容的结构无法使用，我无法让它输出 javascript 文件。下一步似乎是尝试在 Javascript 中实现 Vatti 裁剪算法。
> 
> ...
> 
> 是的，它不会帮助您使用各种自动转换工具。裁剪器具有像 Int64 或 Int128 这样的数据结构，它们在 JS 或 AS 中不存在。我只是完全删除了它们。对于大多数情况，Int32 应该足够了，除非你从事与地理或巨幅地图有关的工作。

不幸的是，其中提到的用户之一的 ActionScript 端口不再可用。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2019-01-17T17:11:02.903

```
 function offsetPoints(pts, offset) {
        let newPoints = [];
        for (let j = 0; j < pts.length; j++) {
            let i = (j - 1);
            if (i < 0) i += pts.length;
            let k = (j + 1) % pts.length;

            let v1 = [pts[j].x - pts[i].x, pts[j].y - pts[i].y];
            let mag1 = Math.sqrt(v1[0] * v1[0] + v1[1] * v1[1])
            v1 = [v1[0] / mag1, v1[1] / mag1]
            v1 = [v1[0] * offset, v1[1] * offset]
            let n1 = [-v1[1], v1[0]];
            let x1 = pts[i].x + n1[0];
            let y1 = pts[i].y + n1[1];
            let x2 = pts[j].x + n1[0];
            let y2 = pts[j].y + n1[1];

            let v2 = [pts[k].x - pts[j].x, pts[k].y - pts[j].y];
            let mag2 = Math.sqrt(v2[0] * v2[0] + v2[1] * v2[1])
            v2 = [v2[0] / mag2, v2[1] / mag2]
            v2 = [v2[0] * offset, v2[1] * offset]
            let n2 = [-v2[1], v2[0]];
            let x3 = pts[j].x + n2[0];
            let y3 = pts[j].y + n2[1];
            let x4 = pts[k].x + n2[0];
            let y4 = pts[k].y + n2[1];

            let den = ((y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1));
            let ua = ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) / den;
            let x = x1 + ua * (x2 - x1);
            let y = y1 + ua * (y2 - y1);

            newPoints.push({ x, y });
        }

        return newPoints;
    } 
```

# c# - 将一组位图合并为一个位图

> ID：13248897
> 
> 赞同：1
> 
> 时间：2012-11-06T10:19:00.677
> 
> 标签：c#, .net, image-processing

我正在尝试将一个`Bitmap`s 数组合并为一个`Bitmap`. 给定一个像下面这样的`Bitmap[,]`数组`b`（假设这些是看起来像字符的图像）：

```
b[0,0] = 1
b[1,0] = 2
b[0,1] = 3
b[1,1] = 4 
```

我要生成

```
result = 12
         34 
```

例如，给定以下四个`Bitmap`s：

`b[0,0] =`![图片 0,0](../Images/ddcf6e584d0247d40bf420d2f1593d52.png "示例图 1")`;`

`b[1,0] =`![图片 1,1](../Images/8242cf8989b444f08f6c4731cf3659ce.png "示例图 2")`;`

`b[0,1] =`![图片 0,1](../Images/ba1e29fd1891dbbef22e4787da90a48a.png "示例图 3")`;`

`b[1,1] =`![图片 1,1](../Images/34683e1060ee0ff18a98f824a856215a.png "示例图 4")`;`

我要生成 `result =`![结果](../Images/291524c25c7d990428986cb131243f45.png "结果图像")`;`

到目前为止，这是我的代码：

```
 public static Bitmap Moisac(ref Bitmap[,] b)
    {
        BitmapData[,] bmData = new BitmapData[b.GetUpperBound(0) + 1, b.GetUpperBound(1) + 1];
        IntPtr[,] scan0 = new IntPtr[b.GetUpperBound(0) + 1, b.GetUpperBound(1) + 1];
        unsafe
        {
            byte*[,] p = new byte*[b.GetUpperBound(0) + 1,b.GetUpperBound(1) + 1];
            for (int i = 0; i <= b.GetUpperBound(0); i++)
                for (int j = 0; j <= b.GetUpperBound(1); j++)
                    if (b[i, j].Width != b[0, 0].Width | b[i, j].Height != b[0, 0].Height)
                        throw new ArgumentException(
                            "Width and Height properties of all elements of b must be equal.",
                            "b");

            int oneW = b[0, 0].Width;
            int oneH = b[0, 0].Height;
            int overallWidth = oneW * (b.GetUpperBound(0) + 1);
            int overallHeight = oneH * (b.GetUpperBound(1) + 1);
            Bitmap result = new Bitmap(b[0, 0], overallWidth, overallHeight);

            for (int i = 0; i <= b.GetUpperBound(0); i++)
                for (int j = 0; j <= b.GetUpperBound(1); j++)
                {
                    bmData[i, j] = b[i, j].LockBits(new Rectangle(0, 0, oneW, oneH),
                                                    ImageLockMode.ReadOnly, PixelFormat.Format24bppRgb);
                    scan0[i, j] = bmData[i, j].Scan0;
                    p[i, j] = (byte*)(void*)scan0[i, j];
                }

            BitmapData rbmData = result.LockBits(new Rectangle(0, 0, overallWidth, overallHeight),
                                                 ImageLockMode.ReadWrite, PixelFormat.Format24bppRgb);

            int stride = bmData[0, 0].Stride;
            int nOffset = stride - 3*b[0, 0].Width;

            int rStride = rbmData.Stride;
            IntPtr rScan0 = rbmData.Scan0;
            byte* rp = (byte*) (void*) rScan0;

            for (int imgY = 0; imgY < b.GetUpperBound(1); ++imgY)
            {
                for (int imgX = 0; imgX <= b.GetUpperBound(0); ++imgX)
                {
                    byte* currp = p[imgX, imgY];
                    for (int y = 0; y < oneH; ++y)
                    {
                        for (int x = 0; x < 3*oneW; ++x)
                        {
                            rp[rStride*(imgY*oneH + y) + 3*imgX*oneW + x] = currp[0];
                            ++currp;
                        }
                        currp += nOffset;
                    }
                }
            }

            for (int i = 0; i <= b.GetUpperBound(0); i++)
                for (int j = 0; j <= b.GetUpperBound(1); j++)
                    b[i, j].UnlockBits(bmData[i,j]);

            result.UnlockBits(rbmData);
            return result;
        }
    } 
```

[在此处](http://imgur.com/a/MA1q2)查看相册中的图像。它们都不会在这里显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:35:09.907

我犯了有史以来最愚蠢的错误。但是，如果它可以帮助任何人，请更改

```
for (int imgY = 0; imgY < b.GetUpperBound(1); ++imgY) 
```

至

```
for (int imgY = 0; imgY <= b.GetUpperBound(1); ++imgY) 
```

（`<`应该是`<=`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-02T23:57:18.927

我根据您的代码制作了一个版本，它复制像素行而不是像素。至少在我的盒子上似乎工作（更快）。也许你喜欢它。仅在 for each 循环内的最小更改。我真的只使用它来连接......在将图像扭曲成甜甜圈以获得多个相机图像的 360 度简单视图之前......

```
 public static Bitmap Mosaic(ref Bitmap[,] b)
    {
        BitmapData[,] bmData = new BitmapData[b.GetUpperBound(0) + 1, b.GetUpperBound(1) + 1];
        IntPtr[,] scan0 = new IntPtr[b.GetUpperBound(0) + 1, b.GetUpperBound(1) + 1];
        unsafe
        {
            byte*[,] p = new byte*[b.GetUpperBound(0) + 1, b.GetUpperBound(1) + 1];
            for (int i = 0; i <= b.GetUpperBound(0); i++)
                for (int j = 0; j <= b.GetUpperBound(1); j++)
                    if (b[i, j].Width != b[0, 0].Width | b[i, j].Height != b[0, 0].Height)
                        throw new ArgumentException(
                            "Width and Height properties of all elements of b must be equal.",
                            "b");

            int oneW = b[0, 0].Width;
            int oneH = b[0, 0].Height;
            int overallWidth = oneW * (b.GetUpperBound(0) + 1);
            int overallHeight = oneH * (b.GetUpperBound(1) + 1);
            Bitmap result = new Bitmap(b[0, 0], overallWidth, overallHeight);

            for (int i = 0; i <= b.GetUpperBound(0); i++)
                for (int j = 0; j <= b.GetUpperBound(1); j++)
                {
                    bmData[i, j] = b[i, j].LockBits(new Rectangle(0, 0, oneW, oneH),
                                                    ImageLockMode.ReadOnly, PixelFormat.Format32bppArgb);
                    scan0[i, j] = bmData[i, j].Scan0;
                    p[i, j] = (byte*)(void*)scan0[i, j];
                }

            BitmapData rbmData = result.LockBits(new Rectangle(0, 0, overallWidth, overallHeight),
                                                 ImageLockMode.ReadWrite, PixelFormat.Format32bppArgb);

            int stride = bmData[0, 0].Stride;
            int nOffset = stride - 4 * b[0, 0].Width;

            int rStride = rbmData.Stride;
            IntPtr rScan0 = rbmData.Scan0;
            byte* rp = (byte*)(void*)rScan0;

            for (int imgY = 0; imgY <= b.GetUpperBound(1); ++imgY)
            {
                    for (int y = 0; y < oneH; ++y)
                    {
                        byte* currp = p[0, imgY];
                        for (int imgX = 0; imgX <= b.GetUpperBound(0); ++imgX)
                        {
                            currp = p[imgX, imgY];
                            currp += stride*y;
                        byte[] buffer = new byte[stride];
                        Marshal.Copy(new IntPtr(currp), buffer, 0, buffer.Length);
                        Marshal.Copy(buffer, 0, new IntPtr(rp), buffer.Length);

                        rp += stride;

                        }

                   }

            }

            for (int i = 0; i <= b.GetUpperBound(0); i++)
                for (int j = 0; j <= b.GetUpperBound(1); j++)
                    b[i, j].UnlockBits(bmData[i, j]);

            result.UnlockBits(rbmData);
            return result;
        }
    } 
```

# visual-studio-2010 - Visual Studio 显示外部文件中的错误

> ID：13248901
> 
> 赞同：1
> 
> 时间：2012-11-06T10:19:28.827
> 
> 标签：visual-studio-2010, resharper

这让我发疯了一段时间。我经常使用 Resharper 来挖掘库代码。这个杀手级功能的缺点是我的错误列表中填充了来自这些库的源代码中的错误。

因此，如果我自己的解决方案无法编译，错误列表窗口首先会显示来自这些外部文件的大量错误，只是将实际的编译错误放在底部。这*真的很*烦人，因为在这样的失败之后，我总是必须向下滚动该窗口以搜索实际原因。

任何人都知道如何摆脱这个“功能”？我什至不确定是 VS 还是 Re# 向我吐槽。*注意：解决方案范围的分析已关闭。*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-20T20:35:24.743

要简单地删除此错误（而不是从 Resharper 完全停用源反编译），请转到

```
%LOCALAPPDATA%\JetBrains\ReSharper\v7.1\SolutionCaches\[[Your Project Name]]\Decompiler 
```

并删除任何有问题的文件夹。这将保留反编译功能，同时删除有问题的文件。

# android - 剪辑路径上的 UnsupportedOperationException

> ID：13248904
> 
> 赞同：4
> 
> 时间：2012-11-06T10:19:32.003
> 
> 标签：android, android-canvas

使用 Canvas clipPath 时出现 UnsupportedOperationException。

这发生在 HTC Sensation XE (4.0.3) 上。它可以在其他 4.0.3 设备上完美运行。

这是代码：

```
 @Override
protected void dispatchDraw(Canvas canvas) {
    canvas.save();
    canvas.clipPath(this._mClip);
    super.dispatchDraw(canvas);
    canvas.restore();
} 
```

它在“clipPath”上失败，堆栈如下：

```
11-06 12:05:53.650: E/AndroidRuntime(25021): FATAL EXCEPTION: main

11-06 12:05:53.650: E/AndroidRuntime(25021): java.lang.UnsupportedOperationException
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.GLES20Canvas.clipPath(GLES20Canvas.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at com.applicat.meuchedet.views.RoundedListView.dispatchDraw(RoundedListView.java:76)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.View.draw(View.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.widget.AbsListView.draw(AbsListView.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.widget.ListView.draw(ListView.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.View.getDisplayList(View.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewGroup.drawChild(ViewGroup.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewGroup.dispatchDraw(ViewGroup.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.View.getDisplayList(View.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewGroup.drawChild(ViewGroup.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewGroup.dispatchDraw(ViewGroup.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.View.draw(View.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.View.getDisplayList(View.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewGroup.drawChild(ViewGroup.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewGroup.dispatchDraw(ViewGroup.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.View.getDisplayList(View.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewGroup.drawChild(ViewGroup.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewGroup.dispatchDraw(ViewGroup.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.View.getDisplayList(View.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewGroup.drawChild(ViewGroup.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewGroup.dispatchDraw(ViewGroup.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.View.draw(View.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.widget.FrameLayout.draw(FrameLayout.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.View.getDisplayList(View.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.HardwareRenderer$GlRenderer.draw(HardwareRenderer.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewRootImpl.draw(ViewRootImpl.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.os.Handler.dispatchMessage(Handler.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.os.Looper.loop(Looper.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at android.app.ActivityThread.main(ActivityThread.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at java.lang.reflect.Method.invokeNative(Native Method)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at java.lang.reflect.Method.invoke(Method.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java)
11-06 12:05:53.650: E/AndroidRuntime(25021):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-06-20T06:16:39.180

您可以通过编辑清单文件来控制单个活动的硬件加速

```
<application android:hardwareAccelerated="true">
<activity ... />
<activity android:hardwareAccelerated="false" /> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T10:49:12.313

[这里](https://stackoverflow.com/a/8895894/969325)有一个答案。简而言之：它不再受支持，但如果您禁用硬件加速，您仍然可以使用它。有关更多信息，请参阅帖子。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-03T10:22:07.353

即使我在这里遇到同样的错误也是答案，它帮助我[在 Canvas.clipPath 运行应用程序 Android UnsupportedOperationException](https://stackoverflow.com/questions/13676059/android-unsupportedoperationexception-at-canvas-clippath/13676324#13676324)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-25T18:57:55.547

我遇到了同样的 UnsupportedOperationException 问题——当我有一个尝试使用 Canvas clipPath() 的视图时，它只会在运行 4.0.3 的设备上崩溃。[你可以在这里](https://stackoverflow.com/a/22643710/923920)看到我是如何解决的。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-10-12T20:24:39.637

由于较新版本的 Android 确实支持`clipPath()`硬件加速，这可能是一个更好的解决方案：

```
try {
    canvas.clipPath(path);
} catch (UnsupportedOperationException exception) {
    setLayerType(View.LAYER_TYPE_SOFTWARE, null);
    try {
        canvas.clipPath(path);
    } catch (UnsupportedOperationException exception2) {
        // shouldn't happen, but just in case 
    }
} 
```

# magento - Magento 中的自定义价格管理

> ID：13248914
> 
> 赞同：0
> 
> 时间：2012-11-06T10:19:54.217
> 
> 标签：magento

我在我的商店销售某些商品，例如空白 T 恤，买家可以选择以额外价格进行文字打印（最多 7 个字母）。我希望如何实现如下：

在正常价格下方有一个复选框，上面写着“ `custom Printing`”。如果`checkbox`选择了该选项，则会出现一个`textbox`，他可以在其中输入最多 7 个字母进行打印。额外的费用然后作为单独的 反映在他的购物车中`item/included item`。

在`backend`发票中，我可以清楚地看到他提交用于自定义打印的文本。

magento 中是否已经存在一些选项来处理这种类型的自定义？如果没有，那么是否有流行的插件来处理这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T16:02:07.873

这是自定义选项的定义。在管理员的编辑产品页面上，访问“自定义选项”选项卡，您会找到所需的内容。与您的请求的唯一区别是它不添加单独的项目。

如果您有大量需要自定义选项的产品，那么有一些扩展可以提供高级选项（导入/导出、分组选项等）。

# mysql - 获取项目的计数列表

> ID：13248918
> 
> 赞同：1
> 
> 时间：2012-11-06T10:20:08.697
> 
> 标签：mysql, count

我有两个表符号和 rpm。

**表详细信息：** *rpm：rpm* 中的条目也导出符号和消耗。

*符号：* 符号表是所有符号（导出和消费）的集合。

**表说明：**

*符号：* 符号表有 id、名称、rpm_id（映射到 rpm 表的 id）、标志以显示它是导出还是消耗。标志 = 1; 消费标志 = 0; 出口

*rpm：* rpm 表有 id、name。

**更多上下文：** rpm 条目导出的符号被其他 rpm 表条目多次使用。因此，一个符号以不同的 id rpm_id 多次在符号表中登记。

**问题陈述：** 按给定的 rpm 列出导出的符号（给定它的 id；比如 35）以及每个符号被其他 rpm 条目消耗的时间。

**输出布局：**

> 符号名 | count(这个符号被消耗的次数)|

**试过的解决方案：**

> SELECT symbol.name, count(distinct symbol.rpm_id)
> 
> FROM 符号，rpm
> 
> 其中 symbol.flag = 0 && symbol.rpm_id = 35
> 
> 按符号分组。名称；

但我在每个符号的计数列​​中得到“1”，这是错误的。

**相关查询的语义：**

第一个查询应该获取给定 rpm.id (rpm.id = 35) 导出的所有符号，然后对于结果集中的每个结果 symbol.id，它应该找到它被消耗的次数，即它的计数并在前面打印计数那个符号。

## 请提出一些方法/查询来获得结果。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:44:27.443

试试这个解决方案

```
select 
    rpm.id , 
    rpm.rpm , 
    count(symbols.id) 
from rpm
left join symbols on symbols.rpm_id = rpm.id
where symbols.flag = 1
group by rpm.id 
```

1 用于消费

# java - selenium 有没有办法使用 (TakesScreenshot)driver).getScreenshotAs 方法比较屏幕截图？

> ID：13248919
> 
> 赞同：0
> 
> 时间：2012-11-06T10:20:12.457
> 
> 标签：java, compare, screenshot, selenium-webdriver

我正在尝试使用 selenium web 驱动程序 java 比较屏幕。有什么API可以比较吗？能够捕捉和保存图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T22:13:59.350

There is no API in selenium to compare screenshots.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-26T12:45:13.483

您可以使用 OpenCV 有一些功能可以让您比较图像。

祝你今天过得愉快

# java - 运行带有选项作为参数的命令行

> ID：13248920
> 
> 赞同：2
> 
> 时间：2012-11-06T10:20:18.990
> 
> 标签：java, bash, maven

我想使用带有一些参数的 bash 运行指令。在这些论点中，我有 `"-- stat"`。因此，当我运行我的指令时，bash 将 bash 识别`"--stat"`为 Mavan 的一个选项，而不是一个参数。

我的指令示例：

```
mvn exec:java -Dexec.mainClass="MainClass" -Dexec.args="args1 --stat args3 ..." 
```

当我运行这个命令行时，我有这个错误：

```
Unable to parse command line options: Unrecognized option: --stat 
```

我该怎么做才能使用`"--stat"`参数运行此命令行？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T10:28:49.463

请检查这是否有用。

[传递到 mvn exec:java 时保留参数间距等](https://stackoverflow.com/questions/3570377/preserving-argument-spacing-etc-when-passing-into-mvn-execjava)

```
mvn exec:java -Dexec.mainClass=... -Dexec.args="${args[*]}" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:44:46.520

我认为，命令假设 --stat 作为 mvn 的参数，而不是子程序的参数。看看这是否有帮助：

```
 mvn exec:java -Dexec.mainClass="MainClass" -Dexec.args="args1 -- --stat args3 ..." 
```

通常 -- 用于转义任何后面的 -option 或 --option。这*可能*对你有用。

# sql-server - 我可以控制 SQL Server 处理其执行计划的方式吗？

> ID：13248927
> 
> 赞同：1
> 
> 时间：2012-11-06T10:20:51.843
> 
> 标签：sql-server, sql-execution-plan

**情况：**

我经常有（对数据库没有评论，它是历史 :)）列，其中值是分开的。

因此，假设我们有一列`params`包含例如`1,2,3,4,5`.

如果我需要基于值的表，我用一个`dbo.fn_Split()`函数将它们拆分（可以在网上找到几个版本 - 但超出了这里的范围）。所以我得到了我的虚拟表。

今天我遇到了一个情况，我有一个专栏，里面有这个内容`110&mode=tree`。

因为我需要`ID`我对自己说的唯一...像往常一样，拆分并仅获取第一个值：

```
SELECT TOP 1 [value] FROM dbo._fnSplit('110&mode=tree','&') 
```

因为我需要 int 的值，所以我在它周围添加了一个 CAST() 。

```
CAST((SELECT TOP 1 [value] FROM dbo._fnSplit('110&mode=tree','&')) AS int) 
```

现在执行后我得到：

> *mode=tree 不能转换为 int 类型*

哈？我只得到第一个值`Id`（我仔细检查了结果），但它仍然尝试转换第二个值。所以似乎 SQL Server 在执行时处理它的方式不同。

**问题：**

那么通常可以控制执行计划如何处理这种行为吗？

**边注：**

我现在解决了这个问题：

```
[...] WHERE id = CAST((CASE WHEN k.param LIKE '%&%' THEN LEFT(k.swindowparam,PATINDEX('%&%',k.param)-1) ELSE k.swindowparam END) AS int)) 
```

检查字符串是否包含 &，如果是，则为 LEFT，长度为`PATINDEX`.

编辑：

这是拆分功能：

```
CREATE FUNCTION dbo.fn_Split(@text nvarchar(4000), @delimiter char(1) = ',')

RETURNS @Strings TABLE
(
position int IDENTITY PRIMARY KEY,
value nvarchar(4000)
)

AS
BEGIN

DECLARE @index int
SET @index = -1

SET @text = RTRIM(LTRIM(@text))

WHILE (LEN(@text) > 0)
BEGIN
SET @index = CHARINDEX(@delimiter , @text)
IF (@index = 0) AND (LEN(@text) > 0)
BEGIN
INSERT INTO @Strings VALUES (@text)
BREAK
END
IF (@index > 1)
BEGIN
INSERT INTO @Strings VALUES (LEFT(@text, @index - 1))
SET @text = RIGHT(@text, (LEN(@text) - @index))
END
ELSE
SET @text = RIGHT(@text, (LEN(@text) - @index))
END
RETURN
END 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T17:30:01.110

听起来您的 split 函数正在以未指定的顺序返回数据。为了解决这个问题，我会更改该函数，以便它每次都以预期的顺序返回结果。

根据函数的实现方式，您可以通过添加 ORDER BY 语句来纠正此行为。SQL Server 不保证默认情况下会以任何特定顺序返回集合。

# web-services - Webservice WinRT IOException：注册表项不存在

> ID：13248932
> 
> 赞同：1
> 
> 时间：2012-11-06T10:21:13.817
> 
> 标签：web-services, windows-runtime, ioexception

这是一件非常奇怪的事情……我们有一个通用的跨平台基础，其中包含一个 Web 服务客户端 (SOAP)。在所有平台上它都运行良好，但在 WinRT 上我们得到以下结果：

> IOException：指定的注册表项不存在。

在检查了我发现的注册表查询后，程序尝试访问一个实际上不存在的 Clsid（使用 procmon）。

没有 StackTrace，HResult 为 2。

我真的不知道我能做些什么来了解更多关于这个错误的信息。

其他人遇到过这样的问题吗？

# rich-snippets - Google 不再显示 Rich Snippets 了吗？

> ID：13248933
> 
> 赞同：1
> 
> 时间：2012-11-06T10:21:14.207
> 
> 标签：rich-snippets

最近我试图为谷歌（音乐）实现丰富的片段以显示在搜索结果中，但注意到，即使对于那些网站，谷歌也没有显示那些丰富的片段，这些网站包含在谷歌的指南和示例中文档。

据我所知，谷歌现在只显示 Youtube 视频、其他一些视频服务和连接到 Google+ 的博客的片段。

发生了什么事，谷歌拒绝使用丰富网页摘要，或者这是国家或用户设置的特定问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-05T19:03:42.877

它现在肯定正在显示。然而，谷歌似乎定期对丰富网页摘要功能进行更改。有时您会发现您网站的某些页面显示丰富网页摘要，而其他页面则丢失。有时您的主页会显示片段，然后它就消失了。早些时候，同一作者的多个缩略图显示在一个结果页面上。但是现在我们只看到一个带有作者缩略图的帖子链接。似乎他们会在该功能稍微成熟之前继续对该功能进行更改。

# android - PendingIntent 在约 20 分钟后丢失

> ID：13248935
> 
> 赞同：0
> 
> 时间：2012-11-06T10:21:18.730
> 
> 标签：android, android-intent, android-widget

我正在尝试做小部件，它会在点击时自行更新。Co，我创建了以下代码，它就像一个魅力 - 但只有大约 20 分钟然后它停止工作（它不再在点击时更新，但经典的小部件在 XML 工作的指定时间段后自我更新）如果我再次开始工作添加另一个小部件实例，然后再次注册所有意图。

有没有其他人遇到过这个问题？你能看出我的代码有什么问题吗？

在我的小部件提供者中：

```
 @Override
        public void onUpdate(Context context, AppWidgetManager appWidgetManager,
                int[] appWidgetIds) {
            super.onUpdate(context, appWidgetManager, appWidgetIds);

            final int N = appWidgetIds.length;
            Log.d(tag, "onUpdate");

            for (int i=0; i<N; i++) {
                int appWidgetId = appWidgetIds[i];

                RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.widget_exchange_rate_small);

                Intent intent = new Intent(context, ExchangeRateWidgetService.class);
                intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);
                PendingIntent pendingIntent = PendingIntent.getService(context, appWidgetId, intent, PendingIntent.FLAG_UPDATE_CURRENT);

                // Register onClick action for pendingIntent
                views.setOnClickPendingIntent(R.id.wdExchangeRate, pendingIntent);

                appWidgetManager.updateAppWidget(appWidgetId, views);

                try {
                    // Perform first update
                    pendingIntent.send();
                } catch (CanceledException e) {
                    Log.e(tag, "First update has been canceled, this should not normally happend!");
                    e.printStackTrace();
                }
            } 
```

我的服务是如何声明的：

```
 public class ExchangeRateWidgetService extends IntentService {

    protected void onHandleIntent(Intent intent) {

    // Doing something ...

    }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T15:35:13.177

我想我解决了，问题出在`IntentService`，通过远程视图服务更新了小部件，但没有注册`setOnClickPendingIntent`。

# maven - 为什么maven Group Id从版本更改为另一个

> ID：13248936
> 
> 赞同：1
> 
> 时间：2012-11-06T10:21:19.370
> 
> 标签：maven

我想知道为什么 Maven 项目中的组 ID 从一个版本更改为另一个版本。示例项目 HSQLDB 版本最高为 1.8.0.7：

```
<groupId>hsqldb</groupId>
<artifactId>hsqldb</artifactId>
<version>1.8.0.2</version> 
```

然后 ：

```
<groupId>org.hsqldb</groupId>
<artifactId>hsqldb</artifactId>
<version>2.2.6</version> 
```

组 ID 从`hsqldb`变为`org.hsqldb`。为什么？是警告我们这不会向后兼容吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T20:45:02.547

发布工件的要求发生了变化，旧约定对工件的质量没有其他影响。

Sonatype 一直致力于提高 Maven 中央存储库的质量，最初不需要 groupId 来匹配域。但是，以下内容包含当前指南：[https](https://docs.sonatype.org/display/Repository/Choosing+your+Coordinates) ://docs.sonatype.org/display/Repository/Choosing+your+Coordinates 。

# css - 如何覆盖特定的 .ui-panelgrid td

> ID：13248937
> 
> 赞同：3
> 
> 时间：2012-11-06T10:21:22.033
> 
> 标签：css, jsf, primefaces

如何覆盖`<p:panelGrid>`我的 Stylecheet 中的特定内容？

根据这个：[如何隐藏时隙......](https://stackoverflow.com/questions/12856449/how-to-hide-time-slots-in-agendaweek-view-of-fullcalendar-primefaces-pschedu)

我试过了：

```
#frm_dash\3Adisplay td.ui-panelgrid {
    padding:0px 0px;
} 
```

和

```
#frm_dash\3Adisplay .ui-panelgrid td {
    padding:0px 0px;
} 
```

但它似乎不起作用。

页面建立在这个物理结构中：

```
<h:form id="frm_dash">
    [...]
    <p:panelGrid id="pnlg_page" style="width: 100%;">
        [...]
        <p:row>
            <p:column style="width: 50%; vertical-align: top" colspan="1">

                <p:panelGrid id="display" columns="2"> 
                    [...]
                </p:panelGrid> 

            </p:column>

            <p:column colspan="1" style="vertical-align: top;">
                [...]                                       
            </p:column>
        </p:row>
        [...]
    </p:panelGrid>
    [...]
</h:form> 
```

Primefaces 3.4.1。- Tomcat 7.x - Mojarra

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T11:27:27.970

你犯了两个错误：

1.  后面必须跟一个`\3A`空格。

2.  该类`.ui-panelgrid`是在其`<table>`自身上设置的，而不是在它的子级上。

所以，这应该这样做：

```
#frm_dash\3A display.ui-panelgrid td {
    padding: 0;
} 
```

或者只是这样，因为在已经由 ID 选择的元素上使用类名选择器是没有意义的，该 ID 本身应该是唯一的：

```
#frm_dash\3A display td {
    padding: 0;
} 
```

作为另一种选择，给面板网格一个样式类，以便您可以在其他元素上重用相同的外观：

```
<p:panelGrid id="display" columns="2" styleClass="nopadding"> 
```

with（更干净的 CSS 选择器）

```
table.nopadding td {
    padding: 0;
} 
```

### 也可以看看：

*   [如何在 CSS 选择器中使用带有冒号“：”的 JSF 生成的 HTML 元素 ID？](https://stackoverflow.com/questions/5878692/how-to-use-jsf-generated-html-element-id-in-css-selectors)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-09-06T08:55:27.347

只需添加一个CSS代码

```
.ui-panelgrid .ui-panelgrid-cell{
   padding 0px;
 } 
```

*   如果您导入页面，则此代码将杀死 primefaces css

# git - 如何将我的分支推送到主存储库？

> ID：13248941
> 
> 赞同：1
> 
> 时间：2012-11-06T10:21:41.113
> 
> 标签：git, branch, push, clearcase, git-branch

我正在分支“my_branch”上的（私有）存储库中开发代码。

经过一些开发后，我对所做的事情感到满意，我想将“my_branch”保存到主存储库（这样万一我的磁盘出现故障，它就不会丢失）。

但我还不想将我的更改合并到主分支。

我使用了命令：

> git 推送

接着：

> 得到克隆

并将主存储库克隆到不同的目录。但是我注意到，当我更改为 my_branch 时，该目录上的文件不包含我的更改。

请帮忙！

（在我看来，每个人通常都以类似的方式工作：不时备份您的分支，但尚未将其合并到 master？）

我曾经在 ClearCase 工作过，它的好处是：一旦您在私有分支中签入文件，它就永远不会被删除，但另一方面它不在主分支上，您可以继续开发您的代码不会打扰其他开发人员。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:26:05.127

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T11:49:11.873

跑

```
git push -u origin my_branch 
```

然后在将来你可以运行“git push”。

# asp.net - 在 asp.net 项目中嵌入文本文件

> ID：13248943
> 
> 赞同：0
> 
> 时间：2012-11-06T10:21:43.640
> 
> 标签：asp.net, resources

我将文本文件添加到我的网络项目中。右键单击并单击属性菜单，我选择构建操作 -> 资源。

如何在我的代码隐藏页面中检索文件的内容。

我试试这个，但我收到流 null

```
 internal string GetFromResources(string resourceName)
        {
            Assembly assem = this.GetType().Assembly;
            using (Stream stream = assem.GetManifestResourceStream(resourceName))
            {
                using (var reader = new StreamReader(stream))
                {
                    return reader.ReadToEnd();
                }
            }
        } 
```

但它不起作用。

请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T12:07:15.820

尝试将 Build Action 更改为 Embedded Resource 并确保资源名称包含命名空间。IE

```
MyProjectNamespace.MyTextFileName.txt 
```

如果您的文件位于子文件夹中，请使用：

```
MyProjectNamespace.SubFolderName.MyTextFileName.txt 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T12:04:48.480

我解决了，以下是我采取的步骤。

首先，我将文本文件定义为嵌入式资源。第二个问题是我没有在文本文件中添加程序集名称空间。

所以我改变了功能并添加了命名空间

```
internal string GetFromResources(string resourceName)
{

    Assembly assem = this.GetType().Assembly;
    **List<string> listNameSpaces = assem.GetTypes().Select(t => t.Namespace).Distinct().ToList<string>();**

    foreach (string ns in listNameSpaces)
    {
        **string nsResourceName = ns + "." + resourceName;**
        using (Stream stream = assem.GetManifestResourceStream(nsResourceName))
        {
            if (stream != null)
            {
                using (var reader = new StreamReader(stream))
                {
                    return reader.ReadToEnd();
                }
            }
        }
    }

    return string.Empty;
} 
```

# android - eclipse中项目上方的红色感叹号

> ID：13248945
> 
> 赞同：2
> 
> 时间：2012-11-06T10:21:54.590
> 
> 标签：android

我正在尝试运行一个项目，但项目名称上有一个红色感叹号。在问题中检查时，它会抛出错误“项目缺少所需的库”。该库指向位于某个路径中的 android.jar。在包资源管理器中签入时，我在包资源管理器中的项目的 Android 2.3.1 文件夹结构中找到了 android.jar。位于 Android 2.3.1 文件夹中的 android.jar 指向其他路径。是否由于 android.jar 文件的路径不同而发生构建错误？我已经导入了项目。那么，我应该如何修改问题窗口中显示的路径？我是android的新手，所以请帮助我。

谢谢！！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T10:31:44.067

The easiest way to resolve this common problem is to re-associate your project with an SDK version. You do this by opening project properties, clicking on Android, select a different SDK version to that which is currently selected (if one is selected at all), click okay, and then repeat the process to switch back to the desired SDK version, if desired.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-16T04:50:26.150

我尝试了菲利普的答案，但在我的情况下不起作用。另一个需要查看的地方是打开项目属性并单击“Java Build Path”——如果您的项目使用了一些外部 JAR，请检查以确保链接没有损坏。如果有，请再次重新导入它们并删除丢失的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-23T19:38:06.153

通过以下选项导入您的库：***File/ Import... / Android / Existing Android Code Into Workspace***，而不是通过创建新项目并引用另一个项目（如果您这样做的话）。

我有同样的问题并以这种方式解决。例如，有[一个 PDF](http://www.felipesilveira.com.br/android-e-facebook.pdf)演示了如何导入其他项目 [查看第 28 页]（材料为葡萄牙语）

# php - PHP从WHILE循环显示3列块

> ID：13248946
> 
> 赞同：0
> 
> 时间：2012-11-06T10:21:54.113
> 
> 标签：php, wordpress

我正在尝试建立一个模仿新 www.digg.com 网站布局的网站（博客）。

它由一个顶部有特色的全宽帖子组成，下面的帖子是 3 列宽的块。所有的块都设置为一定的宽度并向左浮动。

我正在构建的不同之处在于，不仅仅是顶部帖子是一个特色全宽帖子，任何行都可以显示一个特色帖子，它应该扩大页面的整个宽度并将其他块向下推。

问题是，如果一个帖子被指定为特色并且它不在左栏中，那么它看起来就不正确。下图说明了如果精选帖子位于第 2 列或第 3 列中会发生什么。

遍历 Wordpress 帖子的 WHILE 循环，我计算并为每个帖子 CSS 类分配一个 1 到 3 之间的数字。例子`<div class="col-1">` `<div class="col-2">` `<div class="col-3">`

col-1 = 左栏帖子
col-2 = 中栏帖子
col-3 = 右栏帖子

有时，一篇文章也会有一个名为`featured`. 当一个帖子被指定为`featured`then 时，它将扩展 3 列的全宽，而不仅仅是 1 列。

只要`featured`帖子是结果集中的第一个帖子，这一切都很容易。但是，在下图中，我显示了我的问题所在。如果我为每个帖子分配一个 1-3 的类列名，为特色帖子分配一个类名，然后假设我正在迭代集合并将一个`featured`CSS 类分配给通常具有类名的帖子`col-2`，`col-3`然后这儿存在一个问题。

下图显示了问题。在第 3 行，您可以看到如果我将特色课程分配给第 3 行中心列（col-2）会发生什么

![在此处输入图像描述](../Images/0de8682d540960bf8d9646e173458137.png)

我需要以某种方式将类名`col-1` `col-2` `col-3`或分配给`featured`while 循环中的所有帖子，并确保`featured`帖子始终位于第 1 列的位置。

我愿意接受有关如何实现这一目标的任何建议或帮助？

下面是 PHP 循环的示例代码...（注意：我还没有添加代码来检查精选帖子）

```
<?php
// Start our column count at 1
$column = 1;
while (have_posts()) : the_post();
    $col_class = 'post-col-' .$column;
?>

  <article <?php post_class($col_class); ?>>
      post content
  </article>

<?php
// Increase the Column count
$column++;
// After count has displayed 3, we reset the count
if($column == 4){
    $column = 1;
}
endwhile;
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T12:45:35.900

只是认为您也可以“保留”一个元素，直到整行都被填满。如果您的帖子排序如下：

1.  项目清单
2.  项目清单
3.  项目清单
4.  项目清单
5.  特征列表项
6.  项目清单
7.  项目清单

您可以像以前一样循环浏览它们，并在检测到特色项目时将其临时存储并在完成后显示。如下所示：

```
<?php
$column = 1;
$featured_list = array();
while (have_posts()) : the_post();
  $col_class = 'post-col-' .$column;

  if(!$isfeatured) {
    echo '<article '.post_class($col_class).'>post content</article>';
  } else {
    $featured_list[] = '<article '.post_class($col_class).'>post content</article>';
  }

  // Increase the Column count
  $column++;
  // After count has displayed 3, we reset the count
  if($column == 4){
    $column = 1;
  // Print everything in the array, doing nothing if empty
  foreach ($featured_list as $featured_item) { 
    echo $featured_item;
  }
  // Reset the array
  $featured_list = array(); 
}
endwhile;
?> 
```

# c# - 为什么要使用连接池？

> ID：13248947
> 
> 赞同：6
> 
> 时间：2012-11-06T10:21:54.887
> 
> 标签：c#, mysql, connection-string, connection-pooling

在我的 C# 应用程序中，我连接到`MySQL`数据库并运行 10,000 个查询。如果我保持与数据库的连接，这些查询大约需要 14 秒。但是，如果我依赖连接池，我的查询大约需要 15 秒。（我已经多次运行这个测试。）

```
// Connection pooling.
using (var connection = CreateConnection())
{
    connection.ConnectionString = ConnectionString;
    connection.Open(); 
```

网络上的大多数示例都使用了上面的“连接和关闭”结构。但是，似乎连接池比保持连接慢。所以问题是...

**问：**为什么要使用连接池？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-06T10:29:34.237

这是一个值得商榷的话题，并且会发现许多博客会告诉我们为什么使用 Pool。

它不会减慢速度。在连接数据库服务器和握手以及建立客户端和数据库服务器之间的通信上花费了大量时间。

因此，在服务器处理许多请求的多请求范例中，很难建立并等待每个客户端。POOL 帮助我们，它为我们提供了预先准备好的连接，我们使用它并丢弃它。POOL 获取该连接并为下一个请求重新建立它。

但在单线程环境中，情况正好相反。POOL 对于单线程环境来说将是一个非常沉重的资源。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-06T10:26:12.953

> 问：为什么要使用连接池？

通常这样您就可以一次使用多个连接。这对于 Web 应用程序显然很重要——您不希望一个用户查询必须等待另一个用户的查询完成。

如果您正在编写一个直接与数据库对话的胖客户端应用程序，并且您知道一次只能执行一个查询，那么它*就不那么*重要了——但它仍然是全局状态，这往往是您应该避免的事情. 您正在做几件独立的事情 - 为什么*要*限制它们使用相同的连接？

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-11-06T10:30:44.767

连接池非常适合可扩展性 - 如果您有 100 个线程/客户端/最终用户，每个线程/客户端/最终用户都需要与数据库通信，那么您不希望它们都打开到数据库的专用连接（连接是昂贵的资源)，而是共享连接（通过池）。

using mini-pattern 也非常适合确保及时关闭连接，这将结束连接上的任何事务，从而确保释放事务占用的任何锁。这可以极大地帮助提高性能，并最大限度地减少死锁的可能性。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-06T10:29:02.267

如果您的应用程序所做的只是运行 10,000 个查询，然后在没有任何用户交互的情况下再次关闭，那么使用单个连接就可以了。

然而，当您的应用程序只是坐在那里等待用户输入时，保持数据库连接打开通常不是一个好主意。这是连接池适用的地方。

伪代码...

```
<open connection>
<fetch data>
<close connection>

<user interaction with data ...>

<open connection>
<save updated data>
<close connection> 
```

根据使用的语言/数据库，将从连接池生成第二个连接。

# google-apps-script - 费用审批发送错误谷歌应用程序脚本

> ID：13248949
> 
> 赞同：1
> 
> 时间：2012-11-06T10:21:55.740
> 
> 标签：google-apps-script

我正在尝试使费用批准表正常工作，现在大部分都可以工作，但是当我提交脚本以将批准结果发送给用户和工作表时。我收到以下错误：

> TypeError：无法从未定义中读取属性“approveExpenseReport”。（第 64 行）

错误引用了下面的行。

```
var approvedOrRejected = (approval.approveExpenseReport == "Yes") ? "approved" : "rejected"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T14:30:39.790

您是否正在逐字使用本[教程](https://developers.google.com/apps-script/articles/expense_report_approval)进行费用审批？

如果没有，请分享更多代码或指出您正在操作的示例/教程。基本上，错误消息意味着“批准”对象实例未设置为值。

否则，查看教程中的代码，我的猜测是您没有正确创建“批准电子表格”。也许，它没有正确的标题和行格式？确保遵循本教程第 2 节中的步骤。

# macos - 无法在 Mac OS X 上 rdp 到 Azure

> ID：13248955
> 
> 赞同：26
> 
> 时间：2012-11-06T10:22:15.800
> 
> 标签：macos, azure, rdp

我正在尝试从 Mac OS X 远程桌面到 Azure 实例，但找不到允许我执行此操作的工具。地址和用户名很好，但似乎没有一个客户端具有包含实例信息的能力。

到目前为止，我已经尝试过 Miscrosoft RDC 和 CoRD，但无济于事。

有没有人成功地将 RDP 用于 Mac 上的 Azure 实例？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-01-27T12:10:12.470

默认情况下，您无法连接到 Azure Windows 服务器，除非通过 Windows 远程桌面客户端。

要从 OS X 连接，无论是通过 CoRD 还是 Mac 的 Microsoft 远程桌面客户端，您都需要关闭网络级身份验证：

1.  使用 Windows 计算机上的远程桌面客户端连接到 Azure 服务器
2.  在控制面板下，转到系统，然后打开“高级系统设置”
3.  在“远程”选项卡上，取消选中“仅允许来自运行具有网络级身份验证的远程桌面的计算机的连接（推荐）”
4.  从 OS X 重新连接

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-02-04T02:22:22.740

我和你有同样的问题，我认为与网络级别的身份验证无关。主要原因是默认远程桌面应用程序将通过端口 3389 进行连接，但是您的 VM 的默认端点设置了另一个公共端口，这是我要解决的问题：

1.  在 Mac 应用商店下载最新版本的 Microsoft 远程桌面应用。
2.  在连接的 DOMAIN/IP 之后添加端口，例如 yourvmdomain.com:yourpublicport。您将在端点设置选项卡上找到公共端口。对我来说，远程桌面的公共端口是 58494，所以连接将是 xx.xx.xx.xx:58494。

这对我有用。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-11-14T06:38:19.330

你需要在 Mac 上从微软远程桌面创建连接

添加ip，用户，密码

你现在可以连接了

如果仍然无法连接，请检查您的 azure 端点设置

设置你的防火墙可以通过的端口

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-11-18T21:55:07.567

下载新的[Microsoft 远程桌面客户端](https://itunes.apple.com/us/app/microsoft-remote-desktop/id715768417)，这将允许您在不更改配置的情况下连接到 Azure 实例。

*（正如 Kim Burgess 的评论中所建议的那样）*

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-04-22T07:59:40.217

从 Mac 连接到 Azure 云服务（也称为 Web 或 Worker Role）很棘手，因为 PaaS 实例位于负载均衡器后面。因此，您需要指定通过 cookie 连接到哪个实例。

Royal TS 支持 cookie，所以我得到了这个工作：

*   安装 Royal TS 免费版 ( [http://www.royalapplications.com/ts/osx/features](http://www.royalapplications.com/ts/osx/features) )
*   添加远程桌面插件
*   创建新连接
*   输入常用详细信息（服务器/用户名/密码）
*   高级 > 连接 > 负载平衡信息 > Cookie：mstshash=Your.Server#Your.Server_IN_0

此 cookie 信息在 RDP 文件中可用，您可以从 Azure 管理门户为您的实例下载（只需在文本编辑器中打开它）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-11-02T11:37:26.730

我经常需要在表单中输入用户名：

*   电脑名称：xxx.xxx.xxx.xxx:yyyyy
*   网关：未配置网关
*   用户名：**localhost** \user.name

希望对某人有所帮助。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-06-26T19:10:29.330

检查 Azure VM 的网络入站端口规则（通常是端口 3389，但会在负载均衡器后更改）允许您进入。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-03-09T12:28:45.217

我使用 OSX 上的 Microsoft 远程桌面应用程序连接到 Azure VM。

最近我从 Windows 机器上设置了一个 VM，并且能够使用管理员用户名和密码成功连接，但发现我必须重置管理员密码才能从 OSX 连接。

您可以从 Azure 门户轻松重置 VM 的密码。转到“支持+故障排除/重置密码”。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-12-02T13:39:59.473

要从 MAC 访问 Azure 实例，请在 Appstore 中下载 Microsoft 远程桌面客户端。Azure 提供的默认 RDP 客户端在 MAC 上不起作用。为我工作

# php - 我需要为我的 AJAX 聊天显示哪些用户在线

> ID：13248956
> 
> 赞同：0
> 
> 时间：2012-11-06T10:22:19.573
> 
> 标签：php, ajax, json, chat

我有一个从[Ajax Chat](http://anantgarg.com/2009/05/13/gmail-facebook-style-jquery-chat/)获得的内联聊天应用程序，它运行良好。该应用程序允许用户与在系统上注册的用户聊天。IE：![这是用户列表](../Images/93570caf30c57da46e07fe29402833a6.png)

现在我需要显示用户是在线还是离线。

所以我的问题是如何使用 PHP 向在线用户展示？

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:37:18.880

基本上你需要的是一种注册用户活动的方法。

您可以做到这一点的一种方法是通过 PHP 中的会话来执行此操作，然后记录这些。有很多方法可以在日志中注册您的活动。如果活动在例如 5 分钟内没有更新，则用户处于离线状态。基本上你只需要一个 sessionId 和一个时间戳（我建议这也挂在一个用户 ID 上）。如果离线，则没有分配 userId，在线时添加 userId。如果你有这些，它很容易。它的问题是在加载新页面时不断更新它们，如果它们注销，您只需销毁会话或更新它，使其不会链接到用户。

它可能不是最好的系统，但它可以工作，并且可能对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-16T00:36:34.333

您需要的是不断更新数据库中的表，以保存用户的最后一次更改并保存日期时间......所以如果该日期超过 5 或 10 分钟，用户将关闭......你可以这样做它与ajax...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-17T11:35:11.483

我不知道你的具体需求。原谅我，如果我错了。

如果 Ajax Chat 支持 Jabber，为什么不尝试使用 ejabberd 类型的 XMPP 服务器，而不是自己重新发明轮子。你也可以看看 Apache Vysper，因为它也支持扩展模块。如果 XMPP 服务器在那里，用户状态处理和消息传输将变得轻而易举。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-11-16T22:30:39.427

我要做的是让客户端运行一个脚本来执行 ajax 调用，以更新数据库中的条目，并带有最后一次看到的时间戳。不要太频繁，否则你会超载你的服务器。

如果你真的想获得技术并做一个离开状态，你还可以在它检查击键、鼠标移动以及窗口是否处于活动状态的地方放置一些 if 语句。

然后在活动聊天中只需检查活动消息的时间戳或用户列表打开的时间。任何超出可接受范围的内容都会将用户显示为离线。5分钟对我来说似乎很长。可能每 10 秒轮询一次检查？

# asp.net-mvc-3 - 使用 asp.net MVC 配置 ElmahR

> ID：13248958
> 
> 赞同：0
> 
> 时间：2012-11-06T10:22:25.887
> 
> 标签：asp.net-mvc-3, elmah, elmah.mvc, elmahr

我让 Elmah 与 MVC 3 一起正常工作，并开始为同一个项目设置 ElmahR。指定的配置对我不起作用。我的配置如下。

除了添加目标 URL 和源 URL 之外，我没有对默认值进行太多更改。所以不知道如何解决这个问题。该项目的wiki（[https://bitbucket.org/wasp/elmahr/wiki/Elmahr.config）](https://bitbucket.org/wasp/elmahr/wiki/Elmahr.config)说仪表板应该是一个单独的应用程序，这对我也不起作用。我想我错过了一些实质性的东西，因为在 mvc 中导航到 posterrors.ashx 似乎不是正确的事情。

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <sectionGroup name="elmah">
      <section name="security" requirePermission="false" type="Elmah.SecuritySectionHandler, Elmah" />
      <section name="errorLog" requirePermission="false" type="Elmah.ErrorLogSectionHandler, Elmah" />
      <section name="errorMail" requirePermission="false" type="Elmah.ErrorMailSectionHandler, Elmah" />
      <section name="errorFilter" requirePermission="false" type="Elmah.ErrorFilterSectionHandler, Elmah" />
      <section name="errorPost" requirePermission="false" type="Elmah.ErrorLogSectionHandler, Elmah" />
    </sectionGroup>
    <section name="elmahr" type="ElmahR.Core.Config.SectionHandler, ElmahR" />
  </configSections>
  <elmahr>
    <!-- Monitored applications list -->
    <application name="Source Application" sourceId="http://localhost:3154/elmah"/>
  </elmahr>
  <connectionStrings>
    <add name="ApplicationServices" connectionString="data source=.\SQLEXPRESS;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|aspnetdb.mdf;User Instance=true" providerName="System.Data.SqlClient" />
  </connectionStrings>
  <appSettings>
    <add key="webpages:Version" value="1.0.0.0" />
    <add key="ClientValidationEnabled" value="true" />
    <add key="UnobtrusiveJavaScriptEnabled" value="true" />
    <add key="elmah.mvc.disableHandler" value="false" />
    <add key="elmah.mvc.requiresAuthentication" value="false" />
    <add key="elmah.mvc.allowedRoles" value="*" />
    <add key="elmah.mvc.route" value="elmah" />
  </appSettings>
  <system.web>
    <compilation debug="true" targetFramework="4.0">
      <assemblies>
        <add assembly="System.Web.Abstractions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.Helpers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.Routing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.WebPages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
      </assemblies>
    </compilation>
    <authentication mode="Forms">
      <forms loginUrl="~/Account/LogOn" timeout="2880" />
    </authentication>
    <membership>
      <providers>
        <clear />
        <add name="AspNetSqlMembershipProvider" type="System.Web.Security.SqlMembershipProvider" connectionStringName="ApplicationServices" enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false" maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10" applicationName="/" />
      </providers>
    </membership>
    <profile>
      <providers>
        <clear />
        <add name="AspNetSqlProfileProvider" type="System.Web.Profile.SqlProfileProvider" connectionStringName="ApplicationServices" applicationName="/" />
      </providers>
    </profile>
    <roleManager enabled="false">
      <providers>
        <clear />
        <add name="AspNetSqlRoleProvider" type="System.Web.Security.SqlRoleProvider" connectionStringName="ApplicationServices" applicationName="/" />
        <add name="AspNetWindowsTokenRoleProvider" type="System.Web.Security.WindowsTokenRoleProvider" applicationName="/" />
      </providers>
    </roleManager>
    <pages>
      <namespaces>
        <add namespace="System.Web.Helpers" />
        <add namespace="System.Web.Mvc" />
        <add namespace="System.Web.Mvc.Ajax" />
        <add namespace="System.Web.Mvc.Html" />
        <add namespace="System.Web.Routing" />
        <add namespace="System.Web.WebPages" />
      </namespaces>
    </pages>
    <httpModules>
      <add name="ErrorLog" type="Elmah.ErrorLogModule, Elmah" />
      <add name="ErrorMail" type="Elmah.ErrorMailModule, Elmah" />
      <add name="ErrorFilter" type="Elmah.ErrorFilterModule, Elmah" />
      <add name="ErrorPost" type="ElmahR.Elmah.ErrorPostModule, ElmahR.Elmah" />
    </httpModules>
  </system.web>
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true">
      <add name="ErrorLog" type="Elmah.ErrorLogModule, Elmah" preCondition="managedHandler" />
      <add name="ErrorMail" type="Elmah.ErrorMailModule, Elmah" preCondition="managedHandler" />
      <add name="ErrorFilter" type="Elmah.ErrorFilterModule, Elmah" preCondition="managedHandler" />
      <add name="ErrorPost" type="ElmahR.Elmah.ErrorPostModule, ElmahR.Elmah" />
    </modules>
    <validation validateIntegratedModeConfiguration="false" />
  </system.webServer>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-2.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <elmah>
    <errorLog type="Elmah.MemoryErrorLog, Elmah" />
    <errorPost targetUrl="http://localhost:3154/posterror" sourceId="http://localhost:3154/elmah" />
  </elmah>
</configuration> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-11T18:48:29.750

很难说哪里出了问题，但基本上确实是这样，如果您尝试设置一个新的 MVC 3 Web 应用程序并将其用作仪表板，您可能需要调整路由。一般来说，我建议您从原始仪表板源代码开始，这是一个完全没有控制器的简单网站。您可以直接[从源代码](https://bitbucket.org/wasp/elmahr/src)或[下载示例压缩应用程序执行此操作](https://bitbucket.org/wasp/elmahr/downloads/ElmahRSampleSetup.0.9.7.zip). 当然可以从 MVC 新 Web 应用程序制作仪表板，但正如您所说，您需要进行一些调整，并且没有太多需要这样做，因为 ElmahR 仪表板并不真正需要控制器（幕后的一切都通过 SignalR ）。作为一个开源项目，你可以随意破解它，但如果你不想那样做，我建议你从压缩应用程序中的示例仪表板开始，按照说明进行配置和个性化。 .

# r - lm和biglm中的QR分解不同？

> ID：13248960
> 
> 赞同：3
> 
> 时间：2012-11-06T10:22:29.687
> 
> 标签：r, matrix, lm, qr-decomposition

我正在尝试从 biglm 中使用的 QR 分解中恢复 R 矩阵。为此，我使用了 vcov.biglm 中的一部分代码并将其放入如下函数中：

```
qr.R.biglm <- function (object, ...) {
    # Return the qr.R matrix from a biglm object
    object$qr <- .Call("singcheckQR", object$qr)
    p <- length(object$qr$D)
    R <- diag(p)
    R[row(R) > col(R)] <- object$qr$rbar
    R <- t(R)
    R <- sqrt(object$qr$D) * R
    dimnames(R) <- list(object$names, object$names)
    return(R)
} 
```

更具体地说，我试图从基本包中获得与使用 qr.R 相同的结果，该包用于类“qr”的 QR 分解，例如 lm 类 (lm$qr) 中包含的那些。基本函数的代码如下：

```
qr.R <- function (qr, complete = FALSE) {
    if (!is.qr(qr)) 
        stop("argument is not a QR decomposition")
    R <- qr$qr
    if (!complete) 
        R <- R[seq.int(min(dim(R))), , drop = FALSE]
    R[row(R) > col(R)] <- 0
    R
} 
```

除了符号之外，我设法为样本回归获得了相同的结果。

```
x <- as.data.frame(matrix(rnorm(100 * 10), 100, 10))
y <- seq.int(1, 100)
fit.lm <- lm("y ~ .", data =  cbind(y, x))
R.lm <- qr.R(fit.lm$qr)

library(biglm)
fmla <- as.formula(paste("y ~ ", paste(colnames(x), collapse = "+")))
fit.biglm <- biglm(fmla, data = cbind(y, x))
R.biglm <- qr.R.biglm(fit.biglm) 
```

比较两者，很明显绝对值匹配，但符号不匹配。

```
mean(abs(R.lm) - abs(R.biglm) < 1e-6)
[1] 1
mean(R.lm - R.biglm < 1e-6)
[1] 0.9338843 
```

我不太明白为什么会这样。我希望能够从 biglm 获得与 lm 相同的 R 矩阵结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T13:57:25.497

两个 R 矩阵之间的区别在于**biglm**显然执行它的旋转使得 R 的对角线元素都是正数，而**lm**（或者，实际上，它调用的例程）没有施加这样的约束。（一种策略或另一种策略应该没有数字优势，所以区别只是约定之一，AFAIKT。）

您可以通过自己施加额外的约束来使**lm**的结果与**biglm的结果相同。**我会使用一个反射矩阵，将列乘以 1 或 -1，这样对角线元素最终都是正数：

```
## Apply the necessary reflections
R.lm2 <- diag(sign(diag(R.lm))) %*% R.lm

## Show that they did the job
mean(R.lm2 - R.biglm < 1e-6)
# [1] 1 
```

# android - Android imageview 未在 TableRow 中显示

> ID：13248961
> 
> 赞同：3
> 
> 时间：2012-11-06T10:22:30.960
> 
> 标签：android, imageview, tablerow

我试图在 TableRow 中显示一个简单的 ImageView，但由于某种原因它不会显示。如果我将另一个控件添加到另一行，则 imageView 确实会显示，所以看起来它只是没有正确强制大小。我的xml如下：

```
<TableLayout 
 xmlns:android="http://schemas.android.com/apk/res/android"
 android:layout_height="fill_parent" 
  android:layout_width="fill_parent"
 android:background="#4B088A"
  android:id="@+id/ImageTable">

 <TableRow android:layout_width="fill_parent" 
 android:layout_height="wrap_content"
 android:padding="5dp"
 android:id="@+id/ImageTableRow"/> 

  </TableLayout> 
```

我用来添加 ImageView 的代码是：

```
TableLayout tableLayout = (TableLayout) findViewById(R.id.ImageTable);  

TableRow tr = new TableRow(this);

TableRow.LayoutParams lp = new 
        TableRow.LayoutParams(TableRow.LayoutParams.MATCH_PARENT ,TableRow.LayoutParams.WRAP_CONTENT);

tr.setLayoutParams(lp);

 m_imageView = new MyImageView(getApplicationContext());

 m_imageView.setBackgroundColor(Color.GRAY);

 m_imageView.setImageBitmap(charty);

 tr.addView(m_imageView);

 tableLayout.addView(tr); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T10:45:25.000

试试这个代码

将您的 xml“activity_main”写为

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<TableLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
     >

    <TableRow
        android:id="@+id/tableRow1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
         >
<ImageView
    android:id="@+id/image"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:src="@drawable/ic_action_search" />
</TableRow>
</TableLayout>

</LinearLayout> 
```

ic_action_search 是您在可绘制文件夹中的图像，并将主要活动写为

```
public class MainActivity extends Activity 
{

ImageView image;

@Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
 }
} 
```

# iphone - 如何在 iPhone 的 UITableviewCell 中从 NSMutableArray 加载图像？

> ID：13248963
> 
> 赞同：1
> 
> 时间：2012-11-06T10:22:31.607
> 
> 标签：iphone, xcode, uitableview

我需要`NSMutableArray`加载一个从服务 url 加载的图像。我可以从 XML 响应中检索图像标签。现在我想要那个图像`UITableViewCell`

我的数组看起来像这样：

```
(
{
Image="46b6daca-3.png";
}
{
Image="9251bfe5-d.jpg";
}
) 
```

如何单独加载每个图像`UITableViewCell`？

为了创建一个 UILabel 我知道它是这样的：

```
 NSMutableDictionary *d = (NSMutableDictionary *) [arr objectAtIndex:indexPath.row];
 UILabel *line1=[[UILabel alloc]initWithFrame:CGRectMake(10, 68, 320,10)];
    line1 .font=[UIFont fontWithName:@"arial" size:12];        
    [line1 setTextAlignment:UITextAlignmentLeft];
    [line1  setText:[d valueForKey:@"Name"]];
    line1.tag=113;
    [cell addSubview:line1 ];
    [line1  release]; 
```

我该如何为 UIImage 做呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:26:39.383

```
UIImageView *img = [[UIImageView alloc]initWithImage:[ d objectForKey:@"Image"]];
[cell.contentView addSubView:img]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:32:26.197

if you have images in your array then use direct array value as a image like bellow..

```
UIImageView *img = [[UIImageView alloc]initWithImage:[[arrData valueForKey:@"Image"] objectAtIndex:indexPath.row];
 img.frame = SetFrameHere;// 
[cell.contentView addSubView:img]; 
```

or also add as a cell imageview like bellow..

```
cell.imageView.image = (UIImage *)[[arrData valueForKey:@"Image"] objectAtIndex:indexPath.row]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T10:28:15.717

使用以下代码设置图像：

```
UIImage *img = [[UIImage imageNamed:[d objectForKey:@"Image"];
cell.imageView.image = img; 
```

这里 d 是你的`NSMutableDictionary`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T10:46:12.527

根据你的代码..试试这个。

```
NSMutableDictionary *d = (NSMutableDictionary *) [arr objectAtIndex:indexPath.row];

UIImageView *img = [[UIImageView alloc]initWithImage:[ d objectForKey:@"Image"]];
img,frame = CGRectMake("Set frame")]
[cell.contentView addSubView:img];
[img release]; 
```

# hadoop - “风暴”数据处理能力

> ID：13248967
> 
> 赞同：0
> 
> 时间：2012-11-06T10:22:58.093
> 
> 标签：hadoop, bigdata, apache-storm

对于我们每天必须处理至少“2-3 TB”数据的业务用例，我正在对“Hadoop & Storm”进行分析。

毋庸置疑，“Storm”看起来令人印象深刻，因为它在处理传入的大数据方面的效率很高，但我不确定“Storm”是否有能力处理“TB”的数据，同时为我提供实时结果或不是 ？

谁能解释一下？

谢谢， 加金德拉

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T14:28:17.233

Storm 是由 Twitter 开发的。他们每天处理超过 8 TB 的数据。听起来这对您的情况应该足够了。Afaik Storm 是分布式计算的最佳流/实时系统。由于作业启动时间和流数据的本地处理，hadoop 不适合它。

事实是，当您有足够的服务器电源和存储等时，两者都可以处理您希望的每天数据。

# c# - 将主机名解析为 IP

> ID：13248971
> 
> 赞同：48
> 
> 时间：2012-11-06T10:23:00.140
> 
> 标签：c#

我为此进行了很多谷歌搜索，我发现了很多例子，但没有一个对我有用。这是一个简单的问题，我觉得有一个简单的答案，无需定义新的类\模块等......

我的代码是这样的：

```
Console.WriteLine ("Please enter an IP address or hostname");
string host = Console.ReadLine ();
***IP = resolved "host"*** 
Socket s = new Socket (AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.IP);    
s.Connect (IP, 80);
s.close(); 
```

我如何实际解析 IP 变量？

* * *

## 回答 #1

> 赞同：91
> 
> 时间：2012-11-06T10:26:27.200

您可以简单地使用[DNS](http://msdn.microsoft.com/en-us/library/ms143998.aspx)类来执行此操作：

```
IPHostEntry hostEntry;

hostEntry= Dns.GetHostEntry(host);

//you might get more than one ip for a hostname since 
//DNS supports more than one record

if (hostEntry.AddressList.Length > 0)
{
      var ip = hostEntry.AddressList[0];
      Socket s = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.IP);
      s.Connect(ip, 80);
} 
```

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2012-11-06T10:27:41.813

```
string howtogeek = "www.howtogeek.com";
IPAddress[] addresslist = Dns.GetHostAddresses(howtogeek);

foreach (IPAddress theaddress in addresslist)
{
   Console.WriteLine(theaddress.ToString());
 } 
```

从[howtogeek](http://www.howtogeek.com/howto/programming/get-ip-address-from-dns-hostname-in-c/)

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2018-06-30T07:23:07.103

请注意，接受的答案可以解析为 IPv6。我试图连接到不接受 IPv6 作为输入字符串的服务。

因此，如果您想获得 IPv4，请尝试以下代码段：

```
using System.Linq;

string host = "google.com";

Dns.GetHostEntry(host).AddressList.First(addr => addr.AddressFamily == System.Net.Sockets.AddressFamily.InterNetwork) 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-05-16T20:55:24.060

这是我用来将主机名解析为 IPv4 和/或 IPv6 的方法。

```
 using System.Net:

    // A host can have multiple IP addresses!
    public static IPAddress[] GetIPsByName(string hostName, bool ip4Wanted, bool ip6Wanted)
    {
        // Check if the hostname is already an IPAddress
        IPAddress outIpAddress;
        if (IPAddress.TryParse(hostName, out outIpAddress) == true)
            return new IPAddress[] { outIpAddress };
        //<----------

        IPAddress[] addresslist = Dns.GetHostAddresses(hostName);

        if (addresslist == null || addresslist.Length == 0)
            return new IPAddress[0];
        //<----------

        if (ip4Wanted && ip6Wanted)
            return addresslist;
        //<----------

        if (ip4Wanted)
            return addresslist.Where(o => o.AddressFamily == AddressFamily.InterNetwork).ToArray();
        //<----------

        if (ip6Wanted)
            return addresslist.Where(o => o.AddressFamily == AddressFamily.InterNetworkV6).ToArray();
        //<----------

        return new IPAddress[0];
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-05-18T10:59:42.407

IpAddress 具有将主机名解析为 IpAddress 的适当方法。

```
IPAddress addr = IPAddress.Parse(hostName) 
```

# erlang - 在两个模块之间共享 erlang 记录声明

> ID：13248972
> 
> 赞同：1
> 
> 时间：2012-11-06T10:23:02.920
> 
> 标签：erlang, mnesia

我有一个可从两个模块调用的记忆表——显然这两个模块都需要引用表的记录。

有没有办法在一个模块中声明记录类型并在另一个模块中使用它，而不必重新定义和维护两个模块中的声明？目前我必须在每个模块中声明记录类型。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T10:26:44.327

您可以在包含文件中声明它（在典型的应用程序中，它会在`include`应用程序根目录的目录中找到），然后将其包含在每个模块中。

```
-include("myrecords.hrl"). 
```

要查看一个实际示例，我将向您推荐 rebar 存储库，以便您了解其通常的结构：[https ://github.com/rebar/rebar](https://github.com/rebar/rebar)

# sql - 从表到表导入数据时如何插入、更新、删除？

> ID：13248976
> 
> 赞同：0
> 
> 时间：2012-11-06T10:23:18.060
> 
> 标签：sql, sql-server, stored-procedures

我有一个查询，我需要每天运行不止一次。此查询正在将数据从一个数据库导入另一个。

目标表结构为：

```
Id   Date        Department  Location  PersonId  Starttime       EndTime       State
1    2012-01-01      2           5       200     12:00:00.000    15:00:00.000   2 
```

应用程序还可以将数据插入目标表。当该记录存在于具有另一种状态的源（临时表）表中时，应用程序插入的记录也可能不会更新。

为了使这成为可能，我创建了一个解决方案。我将在目标表中创建一个具有第二种状态的新列，以便我可以检查。

```
Id   Date        Department  Location  PersonId  Starttime       EndTime       State   StateSource
1    2012-01-01      2           5       200     12:00:00.000    15:00:00.000   2       2 
```

一些要求：

如果应用程序添加了一条记录，则 StateSource 将为 NULL。意味着这条记录不能从源表中删除、更新或再次插入。

如果应用程序更新记录，则 State 和 StateSource 的值将不同。在这种情况下，我不更新此记录。

如果源表和目标表中的状态不同并且目标表中的值 State = StateSource，我将进行更新。

当目标表中不存在该记录时，我将插入一条记录。当记录已经存在时不要插入（无论这是由应用程序添加还是我在第一次运行时的查询）。

当我的源表和 State=StateSource 中不再存在记录时，我将从目标中删除记录。

我已经有以下查询。我决定发表3个声明。

```
--Delete Statement first
Delete from t
from TargetTable t LEFT JOIN SourceTable s ON t.Id=s.Id 
and t.Date=s.Date 
and t.departments=s.Department
and t.PersonId=s.PersonId
and t.State=t.StateSource

--Just delete if a date is no more exists from the source table and this records is NOT
--changed by the application (t.State=t.StateSource)

--Update statement second
Update t
set t.State = s.State
From Targettable t INNER JOIN SourceTable s ON t.Id=s.Id 
and t.Date=s.Date 
and t.departments=s.Department
and t.PersonId=s.PersonId

The problem here is:
--when I have State 2 already in the targettable and in my sourcetable i have
--another state then the state in the targettable changes. This would not be the case.

--Insert Statement thirth

insert into TargetTable (Id, Date, Department, Location, PersonId, Starttime, EndTime,State, StateSource)
select Id, Date, Department, Location, PersonId, Starttime, EndTime,State, StateSource
from SourceTable s 
WHERE Date not in (select Date 
                   from TargetTable t 
                   where t.id=s.id 
                   and t.PersonId=s.PersonId
                   and t.date=s.date
                   and t.department=s.department)     

--I have no idea about how the insert should be because the application also can
--insert records. When a record exists then no insert. What to do with the State? 
```

请记住，由应用程序更改的状态是领先的。

任何人都可以帮助我达到预期的结果吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T18:27:35.647

您可以使用合并语句.. 像这样的东西...

```
with target_T as (select * from UR_TARGET_TABLE
                  where statesource is not null) -- to dont change the data inserted from application...
merge target_T as TARGET
using UR_SOURCE_TABLE as SOURCE
on SOURCE.id = TARGET.id    -- id is unique? anyway, put your primary key here...

when matched and TARGET.state = TARGET.statesource then --if inserted/updated from application, will not change data
update set TARGET.state = SOURCE.state
          ,TARGET.statesource = SOURCE.state  --important update it together to be different from an application update
        --, other collumns that you have to set...

--should use another when matched then update if need to change something on inserted/updated from application data

when not matched by TARGET then
         insert (Id, Date, Department, Location, PersonId, Starttime, EndTime,State, StateSource)
         values(SOURCE.Id, SOURCE.Date, SOURCE.Department, SOURCE.Location, SOURCE.PersonId, SOURCE.Starttime, SOURCE.EndTime,SOURCE.State, SOURCE.StateSource); 
```

如果您通过声明表和插入一些数据来设置示例...

我应该提供更多帮助，使用真正有效的代码......不仅仅是一个示例......

# oracle - ora 12560 tns 协议适配器错误-连接到 oracle 时

> ID：13248981
> 
> 赞同：0
> 
> 时间：2012-11-06T10:23:38.453
> 
> 标签：oracle, oracle9i

我的机器上已经安装了 oracle 9i。我正在尝试连接到 oracle，但在连接时我收到“ ***ora 12560 tns 协议适配器错误***”类型的错误。我已经用默认通行证 scott/tiger、system/manager 尝试过了。

当我尝试使用默认凭据连接到 oracle 时，出现上述错误。

是用户名和密码的问题吗？如果是这样，我怎样才能获得已经设置的用户名和密码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T11:26:37.447

IME、ORA-12560 意味着 Oracle Universal Installer 弄乱了您的侦听器配置。

假设您的计算机上安装了 Oracle 9i*服务器*，以下是要检查的事项列表。

*   “lsnrctl status”是否显示您的数据库实例？
*   “tnsping my_service_name”有效吗？
*   tnsnames.ora 和 listener.ora 是否包含您数据库的条目？主机名/端口等是否正确？

如果配置错误，最好的办法是启动 netca，删除现有的侦听器配置并重新配置。

但是有一个问题：为什么要运行 Oracle 9i？您是否必须支持某种遗留应用程序/数据库？（Oracle 11gR2 比 9i 好得多）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-02T18:23:41.907

`Start -> Run -> services.msc`

选择 oracle 服务名称并右键单击它，然后选择启动。

# php - 使用 PHP 将 HTML 字符串转换为文本格式数组

> ID：13248986
> 
> 赞同：2
> 
> 时间：2012-11-06T10:23:49.987
> 
> 标签：php, html

给定字符串：

```
<b>Lorem ipsum dolor sit amet, <i>consectetuer adipiscing</i> elit.</b> Donec odio. Quisque volutpat mattis eros. 
```

我需要输出一个数组：

```
$output = array(
    array(
        'text'=>'Lorem ipsum dolor sit amet, ',
        'formats' => array('bold')
    ),
    array(
        'text'=>'consectetuer adipiscing',
        'formats' => array('bold','italic')
    ),
    array(
        'text'=>' elit.',
        'formats' => array('bold')
    ),
    array(
        'text'=>'  Donec odio. Quisque volutpat mattis eros.'
    )
); 
```

这可能吗？合理吗？可能吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-06T10:44:37.247

可以使用 2 种方法。

您的第一个选择是**正则表达式**。您可以使用解析文本`preg_match()`。例如，要提取标签之间的文本，您可以使用以下内容：

```
preg_match("@<[^>]>([^<]+)</[^>]>@", $yourHtmltext, $m);
// $m[1] will contain the text between tags
echo $m1; 
```

但是对于带有嵌套标签和属性的复杂 HTML 文本，使用正则表达式对字符串进行标记是相当乏味的。

**在我看来，使用DOM 解析**来解析 HTML 文本的 DOM 结构会更好。这种方法将使您能够逐个节点遍历文本节点，提取您需要的任何内容 - 标签、标签之间的文本、标签属性等。这是一个使用 PHP 内置 DOMDocument 解析 HTML 文本的简单示例（示例取自 php.ini 文件）。网）：

```
$myhtml = <<<EOF
<html>
<head>
<title>My Page</title>
</head>
<body>
<p><a href="/mypage1">Hello World!</a></p>
<p><a href="/mypage2">Another Hello World!</a></p>
</body>
</html>
EOF;

$doc = new DOMDocument();
$doc->loadHTML($myhtml);

$tags = $doc->getElementsByTagName('a');

foreach ($tags as $tag) {
       echo $tag->getAttribute('href').' | '.$tag->nodeValue."\n";
}
?> 
```

使用 DOM 解析而不是正则表达式的额外好处是能够解析任意复杂结构的 HTML 文本，并且更容易采用您的脚本来应对 HTML 文本结构或您的需求可能发生的未来变化。查看有关[DOMDocument](http://php.net/manual/ru/class.domdocument.php)的文档以获取有关该库的更多信息。

# sql-server-2008-r2 - sql server 分区表

> ID：13248988
> 
> 赞同：0
> 
> 时间：2012-11-06T10:23:53.163
> 
> 标签：sql-server-2008-r2, partitioning

我正在准备 70-451 考试。我有一个问题：

您是一名数据库开发人员。您计划使用 SQL Server 2008 设计数据库解决方案。该数据库将包含一个名为 Claims 的表。Claims 表将包含大量数据。您计划将数据划分为以下类别：

*   公开索赔

*   2005 年 1 月 1 日之前结束的索赔

*   2005 年 1 月 1 日至 2007 年 12 月 31 日之间结束的索赔

*   从 2008 年 1 月 1 日至今的索赔结束

Claims 表中的 close_date 字段是日期数据类型，仅当索赔已关闭时才会填充。您需要设计一个分区函数来将记录分隔到定义的类别中。你该怎么办？

*   A 使用值 20051231、20071231 和 20080101 创建 RANGE RIGHT 分区函数。

*   B 使用值 20051231、20071231 和 NULL 创建一个 RANGE RIGHT 分区函数。

*   C 使用值 20051231、20071231 和 20080101 创建 RANGE LEFT 分区函数。

*   D 使用值 20051231、20071231 和 NULL 创建一个 RANGE LEFT 分区函数。

有人可以回答这个吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:44:12.850

我已经看过几次了，我看不出他们中的任何一个是正确的。

2005 年 1 月 1 日之前的声明分区不是由任何一个分区生成的，因为任何答案的第一个分区值都是 20051231。因此是否使用 LEFT / RIGHT 并不重要，直到 2005 年 12 月 31 日之前的每个值都在一个分区中，而 LEFT / RIGHT 只是关于是否包含该日期。

我预计左边有 20041231，或者右边有 20050101 混合在某个地方。

如果答案都以 20041231 而不是 20051231 开头，那么我会认为答案 D 是正确的。任何一个问题都有错字，或者测试有。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-16T02:05:13.513

这周我考试了，这个问题就出来了。我用不相关的日期 20051231 评论了这个问题。

# c++ - Cython std::pair 两个指针，需要一个标识符或文字

> ID：13248992
> 
> 赞同：10
> 
> 时间：2012-11-06T10:24:20.577
> 
> 标签：c++, python, pointers, cython

为什么在 Cython 中可以包装

```
std::pair<int, Foo*> myPair; 
```

但不是

```
std::pair<Foo*,Bar*> myPair; 
```

特别是，在 Cython 中的包装`std::pair`如下：

```
pair[int, Foo*] 
```

并且工作顺利，但是当第一个元素也是指针时，我遇到了问题：

```
pair[Foo*,Bar*] myPair2 
```

我越来越

```
pair[Foo*,Bar*] myPair2
        ^
------------------------------------------------------------
test.pyx:50:17: Expected an identifier or literal 
```

我在 Linux 上使用 Cython 0.17.1、g++ 4.4

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-13T16:14:29.623

这些类型[在`pair`定义](https://github.com/cython/cython/blob/master/Cython/Includes/libcpp/utility.pxd)中的处理方式相同；`[]`这可能是语法的一般限制。您可以尝试使用 typedef 解决它：`ctypedef Foo* Foo_pointer`

*从@JFSebastian 的评论中复制粘贴，以便可以将此问题标记为已回答（希望能清除未回答问题的列表——已经一个月了！）*

# django - django：在保存目标模型之前分配外键

> ID：13248994
> 
> 赞同：13
> 
> 时间：2012-11-06T10:24:46.613
> 
> 标签：django, foreign-keys

假设`A`并且`B`是 django 模型，其中`A`有一个外键字段`B`：

```
a = A()
b = B()
a.my_b = b
b.save()
a.save() 
```

令人惊讶`a`的是保存`null`在外`my_b`键字段中。如果您`a.my_b`在保存之前或之后检查它*确实*引用了该`b`实例，但是似乎 django 在`a.my_b = b`分配时评估外键 id 本身，而不是在`a.save()`. 在复杂的系统和流程中，可能很难更改命令的顺序，因此`b`在分配之前简单地保存`a`可能是不切实际的......

在保存命令之间添加令人难以置信的语句`a.my_b=a.my_b`是可行的，但在我看来是一个可怕的解决方法。

**有没有办法配置 django 在保存模型实例时重新评估外键？**

是否有不同的方法可以解决这个问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-06T10:47:03.643

有一个描述这个问题的 Django 票证，[#8892](https://code.djangoproject.com/ticket/8892)。

同时，没有配置设置可以改变行为。您必须更改保存和分配操作的顺序，或者进行额外的分配。

# google-maps - 从谷歌地图 API 反向地理编码

> ID：13248997
> 
> 赞同：1
> 
> 时间：2012-11-06T10:24:58.777
> 
> 标签：google-maps, jquery

我使用 Google Maps API 将地址数据库保存在一个点中。

遇到一个问题，这是我无法决定的第三天。你能给我一些建议吗。

我循环遍历所有在地图上标记的点，其中使用 geotsoder.geoсode 识别并使用 ajax 在数据库中写入此地址。

例子：

```
function saveAddress(marker_points)
{
    var i = 0;
    id = 0;
    address = [];
    var count  = 0;
    points = [];
    for(i in marker_points) 
    {
        var geocoder = new google.maps.Geocoder();
        geocoder.geocode( {'address': marker_points[i]},function(results, status){
            address = results[0].formatted_address;
        });

    $.ajax({
        type: "POST",
        url: "/user.view.location.phone_id-{/literal}{$iPhoneId}{literal}.html",
        cache: false,
        data:  "address=" + address + "&location_point=" + marker_points[i],
        dataType: "html",
        async: false,
        timeout: 5000,
        success: function (data) {
        }
    }); 
}
} 
```

但是在Ajax 中通过了最后一个点，即写在数据库中返回的最后一个地址和这个地址上的最后一个点。

你能告诉我可能是什么问题以及如何解决它，因为他已经尝试了所有选项，但它不起作用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:36:31.293

我认为您的脚本有时可能会在从 geocoder.geocode 获得响应之前调用 ajax 方法。尝试将 $.ajax 方法放入

```
function(results, status){
    address = results[0].formatted_address;
} 
```

所以你的代码片段看起来像：

```
var marker_points = ["50.463425,30.508120","50.465822,30.514380","50.465317,30.515609"];

for(i in marker_points) {   
       codeAndSendAddress(marker_points[i]);
}

function codeAndSendAddress(point){
    var mp = point.split(',');//Extract numbes from string
    var latLng =  new google.maps.LatLng(mp[0],mp[1]) // create latitude/logitude object

    geocoder.geocode( { 'latLng': latLng}, function(results, status) {
        if(status == google.maps.GeocoderStatus.OK) { make sure location was found

            var geocodedAddress = results[0].formatted_address;
            var geocodedLocationPoint = results[0].geometry.location;

            $.ajax({
                type: "POST",
                url: "/user.view.location.phone_id-{/literal}{$iPhoneId}{literal}.html",
                data: 'address='+geocodedAddress+
                '&geocoded_location_point='+geocodedLocationPoint+
                '&location_point='+point,
                timeout: 5000,
                success: function (data) {}
            });

        }
    });
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T13:50:30.987

您可以使用函数闭包将请求与响应相关联。

[使用地理编码地址的示例：](http://www.geocodezip.com/v3_geocoder_multiplePoints.html)

它们在“i”上关闭的功能是：

```
function geocodeAddress(i) {
    geocoder.geocode({'address' : locations[i]},
       function(results, status) {
          if (status == google.maps.GeocoderStatus.OK) {
             map.setCenter(results[0].geometry.location);
             createMarker(results[0].geometry.location, i);
          } else {
             alert('Geocode was not successful for the following reason: '
                    + status);
          }
    });
} 
```