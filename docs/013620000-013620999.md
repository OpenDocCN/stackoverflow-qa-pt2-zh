# StackOverflow 问答 13620000-13620999

# c# - 如何访问存储在数据库中的表的名称？

> ID：13620001
> 
> 赞同：0
> 
> 时间：2012-11-29T06:22:20.217
> 
> 标签：c#, asp.net, sql-server-2005, visual-studio-2008

我知道类似的问题已经被问过很多次了。但它不适合我。我正在开发 Windows 窗体应用程序。我在其中一个表单中放置了一个列表框，并希望它显示存储在数据库中的表的名称。我应该写什么查询来访问这些表？

```
USE db_name 
SELECT * FROM sys.Tables 
```

我的数据库名称是`dbSave.mdf`，但如果我把它作为 db_name 在上面的查询中它不起作用请帮助...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:32:16.847

这个对我有用：

```
SELECT * FROM information_schema.tables 
```

我在[这里](http://www.roseindia.net/answers/viewqa/JDBC/12858-The-query-used-to-display-all-tables-names-in-SQL-Server..html)找到了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:30:15.520

```
SELECT * FROM sys.objects 
WHERE Type_desc='USER_TABLE' 
```

我希望这能帮到您 ：）

您也可以在模式或数据库级别创建过滤器

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:24:16.180

您要查找的内容因数据库而异。你最好的选择是使用某种抽象的 api。我不熟悉 .NET 的数据访问，但在 java 的库中，您使用“元数据”对象来完成它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-06T07:18:44.437

我认为您的查询可以从数据库中检索表列表

```
SELECT * FROM sys.Tables 
```

无需使用 Use DB 因为您的应用程序连接字符串已经与该数据库连接。一旦那是另一个数据库，请为该数据库创建新的连接字符串。

并验证您的用户在该工作数据库中是否有足够的权限。

# javascript - 自定义聊天框滚动条始终显示在底部

> ID：13620002
> 
> 赞同：1
> 
> 时间：2012-11-29T06:22:22.460
> 
> 标签：javascript, html, css

我有一个自定义聊天框。我添加了溢出-y 来滚动。现在，每当我在文本框中写东西时，它都会出现在滚动条窗口中。如何让滚动条窗口显示我写的最后一条消息，在我的情况下它总是显示在顶部。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:27:17.137

在 Javascript 中你可以尝试，假设你的 div 有 id`"scrolling"`

document.getElementById("scrolling").scrollTop = document.getElementById("scrolling").scrollHeight;

其中 scrollTop 是对象滚动的像素数，scrollHeigth 是元素内容的总高度，包括由于溢出而不可见的内容。

重要的：

每次聊天框中出现新消息时都应执行上述代码，为此它应该位于脚本中的正确位置。

来源：

[https://developer.mozilla.org/en-US/docs/DOM/element.scrollTop](https://developer.mozilla.org/en-US/docs/DOM/element.scrollTop)

[https://developer.mozilla.org/en-US/docs/DOM/element.scrollHeight](https://developer.mozilla.org/en-US/docs/DOM/element.scrollHeight)

另一种解决方案：

也许您也可以通过为消息设置一个锚点（#idOfLastMessage），然后使用 iframe 而不是指向 www.yoursite.com/url-of-the-message-list#idOfLastMessage 的 div 来做到这一点

# java - 在restful webservices应用程序中获取com.sun.jersey.api.MessageException

> ID：13620004
> 
> 赞同：0
> 
> 时间：2012-11-29T06:22:32.530
> 
> 标签：java

我的代码看起来像这样。

```
@Produces(MediaType.TEXT_XML)
public Response getEmpDetails() {

    Map<String, Employee> result = empDaoo.getEmpInfo();

    return Response.status(200).entity(result).build();
} 
```

然后我得到这个异常：

```
SEVERE: Mapped exception to response: 500 (Internal Server Error)
javax.ws.rs.WebApplicationException: com.sun.jersey.api.MessageException: A message body writer for Java class java.util.HashMap, and Java type class java.util.HashMap, and MIME media type text/xml was not found 
```

任何人都可以提供解决方案。快速响应请...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:59:58.853

难道是转换数据结构的默认提供程序无法处理Java Map？我主要使用的是一个自己的实体，其中包含 Map 和 JAXB 注释。您可以编写自己的 marshaller 和 unmarshaller。希望我能给你一些提示。周围有大量信息，只需使用给定的流行语在 Google 上查找即可；）

# android - 休息 android 到 gae 数据存储对象化

> ID：13620008
> 
> 赞同：0
> 
> 时间：2012-11-29T06:22:52.560
> 
> 标签：android, google-app-engine, rest, datastore, objectify

我是使用 REST 框架的 android 新手，并且正在连接到 GAE 服务器。使用 datastore objectify 将数据从 android 存储到 GAE 任何人都可以帮我解决这个错误吗？

```
11-29 14:23:13.421: I/ApplicationPackageManager(13615): cscCountry is not German : XTC
11-29 14:23:23.609: I/ApplicationPackageManager(13615): cscCountry is not German : XTC
11-29 14:23:27.273: D/dalvikvm(13615): GC_CONCURRENT freed 220K, 48% free 2987K/5639K, external 508K/517K, paused 4ms+4ms
11-29 14:23:38.609: D/dalvikvm(13615): GC_CONCURRENT freed 316K, 47% free 3176K/5895K, external 508K/517K, paused 3ms+5ms
11-29 14:23:38.773: D/dalvikvm(13615): GC_CONCURRENT freed 227K, 45% free 3408K/6087K, external 508K/517K, paused 3ms+3ms
11-29 14:23:38.968: D/dalvikvm(13615): GC_CONCURRENT freed 261K, 42% free 3698K/6343K, external 508K/517K, paused 3ms+8ms
11-29 14:23:39.187: D/dalvikvm(13615): GC_CONCURRENT freed 265K, 41% free 3950K/6599K, external 508K/517K, paused 4ms+5ms
11-29 14:23:39.203: I/org.restlet(13615): Starting the default HTTP client
11-29 14:23:50.695: I/global(13615): Loaded time zone names for en_US in 628ms.
11-29 14:23:50.703: I/PortalUserController(13615): Creation failed !
11-29 14:23:50.703: I/(13615): Method Not Allowed
11-29 14:23:50.703: I/System.out(13615): Method Not Allowed 
```

//这里是整个类

公共类 PortalUserController {

```
 public final ClientResource cr = new ClientResource(
         ServerConfiguration.gae_path + "/rest/user");

         public PortalUserController() {
             ServerConfiguration.getInstance();
         }

         public void create(PortalUser user) throws Exception {
         final PortalUserControllerInterface uci = cr.wrap(PortalUserControllerInterface.class);

         try {
         uci.create(user);

         Log.i("PoralUserController", "Creation success !");
         } catch (Exception e) {
         Log.i("PortalUserController", "Creation failed !");
         Log.i("", e.getMessage());
         System.out.println(e.getMessage());
         throw e;
         }
         }

         public List<PortalUser>getAllUsers() {
         final PortalUserControllerInterface uci = cr
         .wrap(PortalUserControllerInterface.class);
         DataContainer content = uci.getAllUsers();
         return content.getUser_list();
         } 
```

}

提前感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T09:50:09.593

```
"Method Not Allowed" 
```

您使用了错误的方法，即：您可能正在发送 GET，而服务器仅接受给定 URL 上的 POST；

# javascript - 在 jQuery 中，如何在嵌套循环中获取下一个选择器？

> ID：13620009
> 
> 赞同：0
> 
> 时间：2012-11-29T06:22:57.020
> 
> 标签：javascript, jquery

我有以下结构：

```
<div class="foo">
     <div class="moo">
            <div class="too"> <input type="hidden" val="56"/></div>
     </div>       
</div>
<div class="foo">
     <div class="moo">
            <div class="too">  <input type="hidden" val="58"/></div>
     </div>       
</div> 
```

继续...

```
//jQuery Code
$('.too').live('click',function(){
  var next_value = $(this).next('.too').find('input').val();
  console.log(next_value);
}); 
```

现在我想要下一个“太”输入的值。我怎样才能得到这个？它不工作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T06:27:03.020

你的问题是`.next()`遍历兄弟元素。一种方法是爬上 DOM 树，然后再下来。例如：

```
$('.foo').on('click', '.too', function () {
  var next_value = $(this).closest('.foo').next().find('input').val();
}); 
```

另外，你应该尽量避免`.live()`。如果您使用的是 jQuery 1.7+，您会想要使用`.on()`（如我的示例所示）。如果您使用的是 1.7 之前的版本，请尝试使用`.delegate()`或`.bind()`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:30:54.793

首先，不要使用`.live`. 使用[事件委托](http://api.jquery.com/on/#direct-and-delegated-events)。

其次，`.next`只适用于兄弟姐妹。您可以通过多种方式获取下一个兄弟姐妹——假设`.foo`/`.too`结构对文档是唯一的，您可以使用以下内容：

```
var next_value = $(".too").eq($('.too').index(this) + 1); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:46:31.887

```
$('.too').live('click',function(){
  var next_value = $(this).parent('.foo').next().find('input').val();
  console.log(next_value);
}); 
```

顺便说一句，我认为你应该放弃`.live()`。

# xml - 如何使用 VBA 从 XML 文件中获取数据到 Excel 工作表

> ID：13620011
> 
> 赞同：10
> 
> 时间：2012-11-29T06:23:07.520
> 
> 标签：xml, vba, excel

我使用以下代码将数据从 XML 提取到 Excel。但问题是，结果是在一个新的工作簿“ `Book1`”中打开的。但我想在我有这个宏的同一个 Excel 中的特定工作表中得到结果。
请注意，我不想在代码中创建模式，因为所有 XML 的模式都会发生变化。下面提到的代码不需要指定模式。它可以将结果转储到具有正确列名的新 Excel 工作表中。那么，请让我知道如何`sheet2`在同一个工作簿中获得结果？

```
Sub ImportXMLtoList()
 Dim strTargetFile As String
 Application.DisplayAlerts = False
 strTargetFile = "C:\example.xml"
 Workbooks.OpenXML Filename:=strTargetFile, LoadOption:=xlXmlLoadImportToList
 Application.DisplayAlerts = True

End Sub 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-29T06:29:52.663

```
Sub ImportXMLtoList()
Dim strTargetFile As String
Dim wb as Workbook

     Application.Screenupdating = False
     Application.DisplayAlerts = False
     strTargetFile = "C:\example.xml"
     Set wb = Workbooks.OpenXML(Filename:=strTargetFile, LoadOption:=xlXmlLoadImportToList)
     Application.DisplayAlerts = True

     wb.Sheets(1).UsedRange.Copy ThisWorkbook.Sheets("Sheet2").Range("A1")
     wb.Close False
     Application.Screenupdating = True

End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-14T17:43:58.490

我创建了一个简单的 xmlmap。我需要一个代码来将 xml 数据导入 excel（右键单击 xml-import），以从 xml 或其他获取数据。我想保留我创建的 xmlmap，只需将我的 xlxs 中的数据替换为来自另一个 xlm 的数据。

```
'Select the file
Fname = Application.GetOpenFilename(FileFilter:="xml files (*.xml), *.xml", MultiSelect:=False)

'Check if file selected
If Fname = False Then
    Exit Sub
    Else
Workbooks.Open Filename:=Fname
End If 
```

# android - 如何在位置设置中打开/关闭“使用无线网络”？

> ID：13620013
> 
> 赞同：0
> 
> 时间：2012-11-29T06:23:19.957
> 
> 标签：android

如何在 Android 上以编程方式打开/关闭位置设置中的“使用无线网络”？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:30:12.773

此首选项存在于 Settings.secure 中。所以你不能以编程方式写入这样的设置。这必须由用户专门启用。检查[文档](http://developer.android.com/reference/android/provider/Settings.Secure.html)

# javascript - 验证编辑表单

> ID：13620015
> 
> 赞同：0
> 
> 时间：2012-11-29T06:23:26.590
> 
> 标签：javascript

我有一组数据在验证后输入到数据库中，现在再次如果我想编辑值，我将其显示为表单，但在提交编辑值时，验证脚本说该值已经存在。我也不能禁用验证。如何摆脱它？我是否应该考虑选择性验证。但我只想知道在这方面最好的做法是什么。

这是代码。Html 显示表单中的字段示例，我正在回显用户最初输入的数据，因为此表单允许他编辑现有数据。但是假设如果用户只对第二个字段进行更改，则验证函数会返回消息，即 Group Name 已存在于 DataBase for Group Name 字段中。我当然不想要，我希望它能够顺利地让编辑过程达到高潮。

```
 <div class="row">
    <div class="control-group span3">
          <label class="control-label" for="group_name">GROUP NAME *</label>  
      <div class="controls">
          <?php
           echo "<input type=\"text\" name=\"group_name\" id=\"group_name_id\"      value=\"".$group['group_name']."\">";
          ?>
     </div>
   </div>
 </div>

<div class="row">
    <div class="control-group span10">
        <label class="control-label" for="group_desc"> GROUP DESCRIPTION </label>
        <div class="controls">
           <?php
              echo "<input type=\"text\" name=\"group_desc\" value=\"".$group['group_desc']."\">";
           ?>
        </div>
    </div>
</div> 
```

然后我通过在其上运行 validateForm 函数来使用 jQuery 对其进行验证。

```
 jQuery("#edit_group_form").submit(function(){
                 return validateForm(this);
             }); 
```

# sql-server - 表中数据之间的 SQL 查询

> ID：13620018
> 
> 赞同：1
> 
> 时间：2012-11-29T06:23:31.757
> 
> 标签：sql-server, sql-server-2008

请给我这个问题的正确答案

这是表格`time_names`及其结构：

```
time_id    time_name
-------    ----------
  1        5:00 AM
  2        5:15 AM
  3        5:30 AM
  4        5:45 AM
  5        6:00 AM
  6        6:15 AM
 ...       .....
 ...       .....
 70        10:15 PM
 71        10:30 PM
 72        10:45 PM
 73        11:00 PM
 74        11:15 PM
 75        11:30 PM
 76        11:45 PM 
```

`time_id`是`INT`，`time_name`是`varchar`数据类型。

在这里，我只想`8:30 AM`在`11:00 PM`所有数据之间显示

请给我任何查询

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:39:09.563

`select time_name between`将不起作用，因为它是字符串比较。您必须使用`time_id`或转换时间，例如这样

```
select *
from time_names
where convert(nvarchar(8), convert(datetime, time_name, 109), 108) between '08:30' and '23:00' 
```

在这里，我将时间从字符串转换为实际日期时间，然后将其转换为 24 小时格式，因此您可以使用字符串比较。
你也可以使用`time`类型

```
select *
from time_names
where convert(time, time_name, 109) between '08:30' and '23:00' 
```

[http://msdn.microsoft.com/en-us/library/ms187928.aspx](http://msdn.microsoft.com/en-us/library/ms187928.aspx)

我也不得不说这个桌子设计看起来真的很糟糕。您必须将日期和时间存储在具有适当类型的列中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:45:13.137

由于您使用的是 SQL Server 2008，因此您可以简单地将`time_name`转换为`TIME`数据类型：

```
SELECT time_id, time_name
FROM dbo.time_names
WHERE CAST(time_name AS TIME) BETWEEN '08:30 AM' AND '11:00 PM' 
```

但说真的：如果你存储一个时间值 -你***为什么***不使用适当的`TIME`数据类型呢？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:33:35.337

我不是 SQL 用户，但尝试将 'time_name' 转换为 DateTime 数据类型并在 DateTime1 和 DateTime2 之间进行选择

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T06:39:02.077

您可以使用以下查询

```
CREATE table #Time(
time_id int PRIMARY key,
time_name varchar(255))
INSERT INTO #Time values(1, '5:00 AM')
INSERT INTO #Time values(2, '5:15 AM')
INSERT INTO #Time values(3, '5:30 AM')
INSERT INTO #Time values(4, '5:45 AM')
INSERT INTO #Time values(5, '6:00 AM')
INSERT INTO #Time values(6, '6:15 AM')
INSERT INTO #Time values(7, '6:30 AM')
INSERT INTO #Time values(8, '6:45 AM')

select * from #Time
where CAST(time_name as datetime) between CAST('5:30 AM' as datetime) and CAST('6:00    AM' as datetime)

DROP TABLE #Time 
```

# java - 使用本地 HTML 从 Java 调用 Android WebView 中的 jQuery 函数

> ID：13620020
> 
> 赞同：1
> 
> 时间：2012-11-29T06:23:47.537
> 
> 标签：java, android, webview

我正在尝试做一些与这篇文章非常相似的事情：[Call jQuery function in Android's WebView from Java?](https://stackoverflow.com/questions/8893964/call-jquery-function-in-androids-webview-from-java)

唯一的区别是我的 HTML 文件是本地的，所以我通过`file:///`in访问它`loadURL`。由于 Android 中的[错误](http://code.google.com/p/android/issues/detail?id=17535)，我无法将 URL 参数与文件链接一起使用。

那么，如何在 Android 应用程序中从 Java 调用使用 jQuery 的函数呢？

# quartz-scheduler - Quartz中如何获取Long Running Jobs的Job Instance？

> ID：13620024
> 
> 赞同：1
> 
> 时间：2012-11-29T06:24:12.613
> 
> 标签：quartz-scheduler

我通过扩展默认类添加了几个成员变量和成员方法来创建自己的作业类。我看到工作被触发并且运行了很长时间。

我只是想获得 Job Instance 而不是 JobDetail 并想调用我定义的任何成员方法或想要访问成员变量。

您能否让我知道我们如何实现这一目标？

谢谢， 凯瑟尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T17:26:44.970

没有这样的方式，可能是因为石英是为了与远程调度模式（即集群）兼容。

但是，如果您在单个服务器/应用程序上下文中使用它，您可能会实现自己的 JobFactory ( [http://quartz-scheduler.org/api/2.1.5/org/quartz/simpl/SimpleJobFactory.html](http://quartz-scheduler.org/api/2.1.5/org/quartz/simpl/SimpleJobFactory.html) )只需将实例的创建委托给超类，然后以某种方式在地图或其他东西中注册实例。然后，您必须遍历地图键才能找到您正在查看的实例。

小心使用这种解决方案的内存泄漏

* * *

## 快速示例：

在您的弹簧配置文件中：

```
<!-- quartz scheduler -->
<bean id="orchestration-api-quartz-factory" class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
    <property name="configLocation" value="classpath:spring/quartz.properties"/>
    <property name="jobFactory">
        <bean class="service.scheduler.SpringServiceJobFactory"/>
    </property>
</bean> 
```

以及您工厂的基本实现：

```
/**
 * 这个作业工厂试图定位到JobClass对应的spring bean。
 *
 * @author Mathieu POUSSE
 */
公共类 SpringServiceJobFactory 扩展 SpringBeanJobFactory 实现 JobFactory {

    @自动连线
    私有 ApplicationContext 上下文；

    /**
     * {@inheritDoc}
     */
    @覆盖
    受保护对象 createJobInstance（最终 TriggerFiredBundle 捆绑包）
                                       抛出异常 {
        // 创建或获取 bean 实例
        对象 bean = this.context.getBean(bundle.getJobDetail().getJobClass());

        // 用 bean 做你想做的事
        // 但记住你做了什么，否则如果你忘记了
        // 你会有内存泄漏！！！

        // myConcurrentMap.put("job.key", bean);

        回豆；
    }

}

```

HIH

# java - 如何在java中读取，一个在unix中声明的变量

> ID：13620031
> 
> 赞同：1
> 
> 时间：2012-11-29T06:24:55.777
> 
> 标签：java, unix

我在unix中有一个变量，我想将该变量的值传递给java代码，以便我可以在java中使用。一种方法是使用属性文件。有没有其他办法..？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:30:52.833

`public static String getenv(String name)`

用于提取系统相关信息的首选方法是 java.lang.System.getProperty 方法的系统属性以及 Boolean、Integer 和 Long 基本类型的相应 getTypeName 方法。例如：

`String classPath = System.getProperty("java.class.path",".");`

[在这里学习](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/System.html#getenv%28java.lang.String%29)

A similar Question is [asks here](https://stackoverflow.com/questions/531694/how-can-i-get-system-variable-value-in-java)，也是一个很好的讨论[here](http://quirkygba.blogspot.in/2009/11/setting-environment-variables-in-java.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:26:50.140

您[System#getenv](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#getenv%28java.lang.String%29)要么获取整个环境或单个环境变量

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:31:12.580

变量具有不同的字节序。 [http://en.wikipedia.org/wiki/Endianness](http://en.wikipedia.org/wiki/Endianness)

据我所知，JVM 中数据的字节序以 Big-Endian 表示，而在 Unix 中则以 Little-Endian 表示。

您应该使用 Bytebuffer 进行转换，或者手动进行：P

# objective-c - 来自 UIImagePicker 的视频文件在 Web 服务器上的方向错误

> ID：13620032
> 
> 赞同：0
> 
> 时间：2012-11-29T06:25:09.133
> 
> 标签：objective-c, web-services, metadata, avfoundation, nsdata

我要做的是从 UIImagePicker 中选择一个视频，然后将该视频上传到在网页上播放的服务器。

当我观看视频时，它是水平的。这是不正确的，因为我以纵向模式垂直录制视频。

我将视频保存为 NSData：

```
 NSURL *videoURL = [info objectForKey:UIImagePickerControllerMediaURL];
    savedVideo = [[NSData dataWithContentsOfURL:videoURL] retain]; 
```

并且从上传函数中的 NSData 将其转换为准备发送到服务器的 base64string。

服务器收到文件并错误地显示它。

我知道 Quicktime 能够读取视频文件以显示它，因为它知道如何读取方向元数据。

但是如何更改视频上的元数据以按照我想要的方式显示？

最好的结果是返回我 NSData 的函数，因此无需更改任何内容。

我曾尝试使用 AVFoundation 并且我能够读取该文件的 AVAsset 方向不正确，但这是我所能得到的。

我不知道如何转换文件轮换，也不知道 AVFoundation 导出过程如何返回到 NSData 数据类型。

任何帮助将不胜感激。

# android - 没有警报对话框的图标

> ID：13620034
> 
> 赞同：5
> 
> 时间：2012-11-29T06:25:39.593
> 
> 标签：android

即使我没有`.setIcon(android.R.drawable.ic_dialog_alert)`为对话框设置图标，它也会显示信息图标。

如何从对话框中完全删除图标？

```
new AlertDialog.Builder(MyActivity.this)
    .setTitle(R.string.success_title)
    .setMessage(R.string.success_msg)
    .setNeutralButton("OK",
        new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dlg, int sumthin) {
                try {
                    dlg.dismiss();
                } catch (Exception e) {
            }
        }
}).show(); 
```

编辑：对不起大家..我从对话框中完全删除 .setIcon 行。我在这里粘贴代码时忘记删除它。即使我删除了该图标，我仍然可以将图标视为信息图标。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-29T06:31:51.800

```
new AlertDialog.Builder(MyActivity.this)
    //.setIcon(android.R.drawable.i)    /// put comment on this line
    .setTitle(R.string.success_title)
    .setMessage(R.string.success_msg)
    .setNeutralButton("OK",
        new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dlg, int sumthin) {
                try 
                {
                    dlg.dismiss();
                } catch (Exception e) {
            }
        }
}).show(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-29T06:38:22.570

尝试这个

```
new AlertDialog.Builder(MainActivity.this)
    .setIcon(null)
    .setTitle("Naeem").setMessage("Shahzad").setNeutralButton("OK", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dlg, int sumthin) {
            try {
                dlg.dismiss();
            } catch (Exception e) {
            }
        }
    }).show(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-17T07:41:10.087

`setIcon(int resId)`将 AlertDialog.Builder 对象的*resId*设置为 0 。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T06:35:31.920

从您的代码中添加注释或删除此行 setIcon(android.R.drawable.i)

```
new AlertDialog.Builder(MyActivity.this)
   // .setIcon(android.R.drawable.i)
    .setTitle(R.string.success_title)
    .setMessage(R.string.success_msg)
    .setNeutralButton("OK",
        new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dlg, int sumthin) {
                try {
                    dlg.dismiss();
                } catch (Exception e) {
            }
        }
}).show(); 
```

# android - 如何获取其他包中的第二个顶级活动的包名称？

> ID：13620037
> 
> 赞同：1
> 
> 时间：2012-11-29T06:26:08.603
> 
> 标签：android, android-package-managers

在我的例子中，一个应用程序调用一个服务，该服务将反过来启动一个活动。我的问题是获取调用该服务的应用程序包。

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T11:49:02.450

我直接从 android 源代码中找到了它，它工作正常 :)

```
final ActivityManager am = (ActivityManager)
                getSystemService(Context.ACTIVITY_SERVICE);

        final List<ActivityManager.RecentTaskInfo> recentTasks =
                am.getRecentTasks(3, ActivityManager.RECENT_IGNORE_UNAVAILABLE);
        for (int i = 0, index = 0; i < 3 && (index < 3); ++i) {
            final ActivityManager.RecentTaskInfo recentInfo = recentTasks.get(i);

            Intent intent = new Intent( recentInfo.baseIntent);
            if ( recentInfo.origActivity != null) {
                intent.setComponent( recentInfo.origActivity);
            }

            final PackageManager pm = getPackageManager();
            final ResolveInfo resolveInfo = pm.resolveActivity(intent, 0);
            final ActivityInfo info = resolveInfo.activityInfo;
            final String title = info.loadLabel(pm).toString();

            Log.d("hello","  "+title+" "+info.packageName);
           final ImageView iv = (ImageView)findViewById(R.id.imageView1);
           iv.setImageDrawable(info.loadIcon(pm));
                ++index;
            } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:29:07.523

试试这个

```
ActivityManager am = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);
        List<RunningTaskInfo> tasks = am.getRunningTasks(1);
        if (!tasks.isEmpty()) {
          ComponentName topActivity = tasks.get(1).topActivity;
          if (!topActivity.getPackageName().equals(context.getPackageName())) {
            return true;
          }
        } 
```

获得第二个顶级活动可能对您有用。

# php - PHP在从外部站点重定向时清空了会话

> ID：13620040
> 
> 赞同：0
> 
> 时间：2012-11-29T06:26:12.493
> 
> 标签：php, api, session, twitter

我正在尝试从 twitter API 获取用户令牌。从 twitter API 重定向时，它将内容存储在会话中。我可以从会话中获取该凭据。它在本地主机上运行良好。但是在实时服务器上这样做时，我得到了一个空的 php 会话。它显示一个空数组

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:03:01.100

你检查`session_start()`过你的脚本吗？

通常，您的本地 php 部署`session.auto_start = 1`默认具有 php.ini 设置。在生产服务器上这可能不是真的，所以`session_start()`如果你想确保它可以在任何地方工作，在你的脚本中明确定义是至关重要的。

还要检查 php.ini 设置`session.use_cookies`是否通过 cookie 将会话 ID 发送到用户浏览器，或者必须通过 url 查询参数手动发送，例如`?PHPSESSID=....`

# ruby - 使用 ruby 配置 Spork

> ID：13620041
> 
> 赞同：1
> 
> 时间：2012-11-29T06:26:17.120
> 
> 标签：ruby, rspec, bootstrapping, spork

我是红宝石新手。我正在使用 Rspec 观看 Rails 在 Spork 上的投射并按照教程进行操作。我只使用没有 Rails 的 Ruby。我成功安装了 spork gem。但是当我运行以下命令时：

```
spork --bootstrap 
```

它告诉我

```
 bash: /usr/bin/spork: No such file or directory. 
```

请建议我一些方法来解决它。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T14:13:45.243

在[spork with rspec 的 railscasts 剧集中](http://railscasts.com/episodes/285-spork)，Ryan Bates 使用`spork`他在前几集中构建的 Rails 应用程序中加速规范，从标题为[How I Test](http://railscasts.com/episodes/275-how-i-test)的那一集开始。如果您重新访问这些剧集并使用 rails 应用程序按照步骤进行操作会更容易。或者从下载[spork 剧集的源代码开始](https://github.com/railscasts/285-spork)

正如许多人在上面评论的那样，（a）当您刚刚进入 ruby​​/rails 时，您在这个阶段不需要 spork，并且（b）最好您有一个工作 ruby​​ 设置，其中一个`rvm`或`rbenv`。

我要补充的另一个建议是阅读 Michael Hartl 的免费[Rails Tutorial Book](http://ruby.railstutorial.org/ruby-on-rails-tutorial-book)；它是学习 ruby​​/rails 工作的好指南，并提供有关如何使用 ruby​​/rails 世界中的各种工具的最新信息，例如`git`、`rspec`、`spork`、`rvm`、`bundler`等等。

# linux - 双引号对 Linux csh 中的 setenv 命令有什么影响吗？

> ID：13620043
> 
> 赞同：0
> 
> 时间：2012-11-29T06:26:41.147
> 
> 标签：linux, unix, csh, setenv

我在 SuSe Linux 的 C shell 中设置了一个环境变量——比如 ABC。

我的问题，以下两个命令有什么区别吗？

1.  `$setenv ABC "1"`
2.  `$setenv ABC 1`

在这两种情况下`echo`都给了我相同的结果。

IE

```
$echo $ABC 
1 
```

对我来说，看起来两者都是一样的。但我想要确认继续进行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:33:59.110

不，您的示例没有区别。但是`csh`被正确地[认为是有害](http://www.faqs.org/faqs/unix-faq/shell/csh-whynot/)的，所以忘记它。使用`bash`或`zsh`代替。

^(我个人的偏好是使用 Posix`/bin/sh`或其他`/bin/bash`脚本，并`zsh`作为我的交互式登录 shell)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:35:15.180

简而言之，如果分配给环境变量的值包含空格，则需要使用引号。

这是一个[链接](http://sc.tamu.edu/help/general/unix/vars.html)，其中包含有关 shell 和环境变量的更多信息。在页面上搜索 setenv。

# sql - 如何使用OUTPUT捕获新旧ID？

> ID：13620044
> 
> 赞同：5
> 
> 时间：2012-11-29T06:26:42.417
> 
> 标签：sql, sql-server, sql-server-2008

例如，假设我有，

```
 create table product
    (
      ID INT IDENTITY(1,1) NOT NULL,
      Name VARCHAR(10)
    )

    insert into product(Name) values('a')
    insert into product(Name) values('b')
    insert into product(Name) values('c')
    insert into product(Name) values('d')
    insert into product(Name) values('e')

    create table #tempproduct
    (
      ID INT IDENTITY(1,1) NOT NULL,
      Name VARCHAR(10)
    )

    declare @OutputAttributesValues table
    (
      [NewID] INT, 
      [OldID] INT
    )

    insert into #tempproduct(Name)
    OUTPUT INSERTED.[ID],[ID] INTO @OutputAttributesValues
    select [Name] FROM product 
```

请参阅我需要从输出中获取旧 ID 和新 ID。但是这个sql给了我错误“无效的列名'ID'。” [http://sqlfiddle.com/#!3/a27b2/1](http://sqlfiddle.com/#!3/a27b2/1)

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-29T06:35:34.720

您不能使用传统`INSERT`输出未插入的字段。改用合并（警告：仅适用于数据库兼容性> = 100）：

```
MERGE
  #tempproduct AS t
USING(
  SELECT
      Name
      , ID
  FROM
    product) AS s
ON (1=0)  
WHEN NOT MATCHED   
  THEN INSERT (Name) VALUES (Name)
OUTPUT inserted.ID, s.ID INTO @OutputAttributesValues;

SELECT * FROM @OutputAttributesValues 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:37:56.687

如果要同时输出表中的以及从临时表中新创建`ID`的，则需要扩展该临时表以包含该列：`Products``ID INT IDENTITY``Products.ID`

```
create table #tempproduct
(
   ID INT IDENTITY(1,1) NOT NULL,
   OldID INT,
   Name VARCHAR(10)
)

declare @OutputAttributesValues table
(
  [NewID] INT, 
  [OldID] INT
)

insert into #tempproduct(OldID, Name)
  OUTPUT INSERTED.[ID], Inserted.OldID INTO @OutputAttributesValues
  select ID, [Name] FROM product 
```

# wpf - WPF 应用程序进程很高，它显示 wpfgfx_v400.dllMilResource_SendCommandBitmapSource+0x5f60

> ID：13620047
> 
> 赞同：0
> 
> 时间：2012-11-29T06:26:51.380
> 
> 标签：wpf

在我的应用程序中，有一个显示最高进程的进程。我的应用程序构建在 wpf 中。wpfgfx_v400.dllMilResource_SendCommandBitmapSource+0x5f60 如果用户不执行任何操作并且在应用程序中没有任何进程，则此进程占用 15-20 % CPU 使用率。请帮帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T10:29:17.103

SendCommandBitmapSource 由 UpdateBitmapSourceResource 调用，因此您似乎有一个 BitmapSource 正在下载或更新（可能在循环中）。因此，您的 UI 似乎正在连续渲染。

# oracle11g - Oracle Apex 端口更改

> ID：13620049
> 
> 赞同：4
> 
> 时间：2012-11-29T06:26:59.350
> 
> 标签：oracle11g, oracle-apex

我正在使用 Oracle Apex 4.2 版。它被配置为监听 8080 端口。现在我想更改端口。我可以在安装后更改 Oracle Apex 的端口吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-09-30T04:12:13.497

要找出在运行时配置了哪个端口 Oracle Apex Web 应用程序：

```
select dbms_xdb.gethttpport from dual; 
```

要更改运行时配置的 Oracle Apex Web 应用程序的端口：

```
exec dbms_xdb.sethttpport('8081');
commit; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-04-10T11:55:26.110

是的，可以在初始安装和配置 Oracle APEX 后更改端口。事实上，您会同时在多个端口上运行 APEX（虽然不可取，但仅用于测试/调试）。

如果您将嵌入式 EPG 用于 APEX，下面的代码会将您的新端口设置为“7070”。执行 dbms_xdb.sethttpport('7070');

但您也可以更改 HTTP 服务器或 RESTapi/Apex 侦听器配置中的端口，然后重新启动您正在使用的 Apex 侦听器或 HTTP 服务器，以便新端口处于活动状态。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T06:28:36.450

如果您看到安装指南，有一个命令可以更改您想要的端口，请[单击此处](http://www.snapdba.com/2013/04/installing-apex-4-2-and-configuring-embedded-plsql-gateway-epg/)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-05-23T01:35:22.760

您可以通过运行 apex_conf.sql 文件来更改端口。如果您通过 Web 服务器运行 Apex，则更改 Web 服务器的端口。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-06-11T22:51:48.367

```
SYSTEM_DRIVE:\ sqlplus /nolog
SQL> CONNECT SYS as SYSDBA
Enter password: sys_password 
```

输入以下语句以验证端口号：

```
SELECT DBMS_XDB.GETHTTPPORT FROM DUAL; 
```

如果端口号返回 0，则 Oracle XML DB 协议服务器被禁用。

用于启用 Oracle XML DB 协议服务器。输入类似于以下内容的语句：

```
EXEC DBMS_XDB.SETHTTPPORT(port); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-06-15T20:09:10.330

要找出在运行时配置了哪个端口 Oracle Apex Web 应用程序：

`select dbms_xdb.gethttpport from dual;` 要更改运行时配置的 Oracle Apex Web 应用程序的端口：

`exec dbms_xdb.sethttpport('8081');commit;`

希望这可以帮助。:)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-07-10T20:00:53.350

您可以通过使用连接从数据库执行此命令来更改 apex 侦听器端口。`sys user :EXEC DBMS_XDB.SETHTTPPORT(8089);` 此外，您可以通过运行`apex_conf.sql`文件来更改端口。

# django - django 应用程序的 Heroku 推送得到“没有名为 psycopg2.extensions 的模块”

> ID：13620051
> 
> 赞同：9
> 
> 时间：2012-11-29T06:27:03.637
> 
> 标签：django, postgresql, heroku

我正在尝试将 django 应用程序推送到 heroku 并收到一个我在 heroku 或 stackoverflow 论坛中没有看到的错误。我正在使用postgres。

我不知道从哪里开始；我在任何文档中都看不到有什么问题。主要错误是：

**ImportError：没有名为 psycopg2.extensions 的模块**

...但是heroku的配置是将其设置为ENGINE的配置，我不知道如何使用它。

我与 heroku 的对话以确保它了解 postgres

```
$ heroku addons:add heroku-postgresql:dev
Adding heroku-postgresql:dev on morning-crag-1585... done, v24 (free)
Attached as HEROKU_POSTGRESQL_OLIVE_URL
Database has been created and is available
 ! This database is empty. If upgrading, you can transfer
 ! data from another database with pgbackups:restore.
.
Use `heroku addons:docs heroku-postgresql:dev` to view documentation.
$ heroku pg:wait 
$ heroku config | grep HEROKU_POSTGRESQL
HEROKU_POSTGRESQL_OLIVE_URL: postgres://<blah-blah-blah>@ec2-<ip-address>.compute-1.amazonaws.com:5432/<blah-blah>
$ heroku pg:promote HEROKU_POSTGRESQL_OLIVE_URL
Promoting HEROKU_POSTGRESQL_OLIVE_URL to DATABASE_URL... done 
```

我的要求.txt：

```
Django==1.4.2
wsgiref==0.1.2
dj-database-url==0.2.1 
```

我的 settings.py 中的一个片段：

```
print "Got here before!\n"
try:
  import dj_database_url
  DATABASES = { 'default': dj_database_url.config(default='postgres://localhost') }
except:
  print "Unexpected error:", sys.exc_info()

print DATABASES 
```

当我推到 heroku 时，我从`heroku logs`：

```
heroku[slugc]: Slug compilation finished
heroku[web.1]: Starting process with command `python ./manage.py runserver 0.0.0.0:30550 --noreload`
app[web.1]: Got here before!
app[web.1]: 
app[web.1]: {'default': {'ENGINE': 'django.db.backends.postgresql_psycopg2', 'NAME': '<blah blah>', 'HOST': 'ec2-<iip-address>.compute-1.amazonaws.com', 'USER': '<blah blah>', 'PASSWORD': '<blah>', 'PORT': 5432}}
app[web.1]: 
app[web.1]: Validating models...
app[web.1]: Traceback (most recent call last):
app[web.1]:   File "./manage.py", line 10, in <module>
app[web.1]:     execute_from_command_line(sys.argv)
app[web.1]:     utility.execute()
app[web.1]:     self.execute(*args, **options.__dict__)
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/base.py", line 196, in run_from_argv
app[web.1]:     self.fetch_command(subcommand).run_from_argv(self.argv)
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/__init__.py", line 443, in execute_from_command_line
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/__init__.py", line 382, in execute
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/base.py", line 232, in execute
app[web.1]:     self.inner_run(*args, **options)
app[web.1]:     self.validate(display_num_errors=True)
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/commands/runserver.py", line 91, in inner_run
app[web.1]:     num_errors = get_validation_errors(s, app)
app[web.1]:     self.run(*args, **options)
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/db/utils.py", line 92, in __getitem__
app[web.1]:     output = self.handle(*args, **options)
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/validation.py", line 23, in get_validation_errors
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/utils/importlib.py", line 35, in import_module
app[web.1]:     from django.db import models, connection
app[web.1]:     return import_module('.base', backend_name)
app[web.1]:     __import__(name)
app[web.1]: ImportError: No module named psycopg2.extensions
app[web.1]:     return getattr(connections[DEFAULT_DB_ALIAS], item)
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/db/backends/postgresql_psycopg2/creation.py", line 1, in <module>
app[web.1]:     backend = load_backend(db['ENGINE'])
app[web.1]:     import psycopg2.extensions
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/db/__init__.py", line 40, in <module>
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/commands/runserver.py", line 69, in handle
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/commands/runserver.py", line 80, in run
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/db/utils.py", line 24, in load_backend
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/base.py", line 266, in validate
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/db/__init__.py", line 34, in __getattr__
app[web.1]:     backend = load_backend(connection.settings_dict['ENGINE'])
app[web.1]:     from django.db.backends.postgresql_psycopg2.creation import DatabaseCreation
app[web.1]:   File "/app/.heroku/venv/lib/python2.7/site-packages/django/db/backends/postgresql_psycopg2/base.py", line 13, in <module>
heroku[web.1]: Process exited with status 1
heroku[web.1]: State changed from starting to crashed 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-29T07:02:26.397

您需要将`psycopg2`安装添加到您的`requirements.txt`文件中。它是数据库适配器——python 与 PostgreSQL 的接口方式，你确实不需要安装，因为 heroku 需要。

只需将该行添加`psycopg2==2.4.4`到您的`requirements.txt`文件中。

顺便说一下，数据库附加组件本身并不是必需的。`dj-database-url`自动处理它。查看[heroku 文档](https://devcenter.heroku.com/articles/django)以获取分步指南。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-02-20T12:40:18.517

我遵循了公认的答案，但它一次又一次地给我同样的错误。所以我不得不改变我的 requirements.txt 文件。从：`psycopg2==2.7.7` 到：`psycopg2-binary`。

现在它工作得很好。有关更多详细信息，请访问文档：http: [//initd.org/psycopg/docs/install.html#binary-install-from-pypi](http://initd.org/psycopg/docs/install.html#binary-install-from-pypi)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-10-17T11:28:17.090

我安装了 psycopg2-binary。

```
pip install psycopg2-binary 
```

添加到**requirements.txt**文件中。

提交并推送代码并且它起作用了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-04-19T02:29:13.350

我遇到过同样的问题。我正在使用烧瓶。在 requirements.txt 中输入 psycopg 或 psycopg 二进制文件没有帮助。我的解决方案是：

*   退出python并访问虚拟环境
*   `pip install psycopg2-binary`

一切都很完美。

# android - 使用 Facebook 的 API 集成在墙上发布照片的问题

> ID：13620055
> 
> 赞同：0
> 
> 时间：2012-11-29T06:27:46.780
> 
> 标签：android, facebook, api, integration

我已经在一个 android 应用程序中集成了 Facebook API。我的主要应用程序的目的是从相机拍摄图像并存储在 SD 卡中。通过 Facebook API 的集成，我通过适当的身份验证在用户的墙上发布照片。问题，我面临的是非常戏剧性的。有时我能够成功地在用户的墙上发布照片，有时我的应用程序已经停止并通知“不幸的是 XXXXXXXX 已停止工作”。失败率是 1/5 。请尽快帮助我 代码在这里

```
public class FbshareScreen extends Activity implements OnClickListener{
    public  Button                  _share;
private Button                  _decline;
int check;

public static final String APP_ID ="433644253229338";

private static final String[] PERMISSIONS = new String[] {"publish_stream"};
private com.android.fb.Facebook facebook;
private String path = ProjectUtil.createSdCardDirectory("/Camera/Photo");

public void onCreate(Bundle savedInstanceState){

    super.onCreate(savedInstanceState);
    setContentView(R.layout.facebookshare);

    facebook = new Facebook(APP_ID);

    _decline = (Button) findViewById(R.id.Button02);
    _share = (Button)findViewById(R.id.Button01);

    BitmapFactory.Options options = new BitmapFactory.Options();
    options.inSampleSize = 4;
    Bitmap bitmap = BitmapFactory.decodeFile(path+"/image.png",options);

    ImageView storedphoto= (ImageView)findViewById(R.id.storedphoto);
    storedphoto.setImageBitmap(bitmap);

    _decline.setOnClickListener(this);
    _share.setOnClickListener(this);

    facebook.setAccessExpires(5000);
}  

    private void logoutFromFacebook() 
    {
      AsyncFacebookRunner    mAsyncRunner = new AsyncFacebookRunner(facebook);
         mAsyncRunner.logout(FbshareScreen.this, new RequestListener() 
         {
                @Override
                public void onComplete(String response, Object state) 
                {
                    Log.d("Logout from Facebook", response);
                    if (Boolean.parseBoolean(response) == true) 
                    {
                        // User successfully Logged out
                    }
                }

                @Override
                public void onIOException(IOException e, Object state) {
                }

                @Override
                public void onFileNotFoundException(FileNotFoundException e,
                        Object state) {
                }

                @Override
                public void onMalformedURLException(MalformedURLException e,
                        Object state) {
                }

                @Override
                public void onFacebookError(FacebookError e, Object state) {
                }
            });

    }   

    public void loginAndPostToWall()
    {
         facebook.authorize(this,PERMISSIONS,Facebook.FORCE_DIALOG_AUTH,new LoginDialogListener());
         //facebook.authorize(this, new String[] {"publish_stream"}, Facebook.FORCE_DIALOG_AUTH, new LoginDialogListener() {}); 
    }
    String  response;
    public void postToWall(String message)
    { 

        try {
            addVango(BitmapFactory.decodeResource(getResources(), R.drawable.imagepicker),BitmapFactory.decodeFile(ProjectUtil.createSdCardDirectory("/Camera/Photo")+"/image.png"));

            byte[] data = null;
            try
            {

                FileInputStream fis =  new FileInputStream(ProjectUtil.createSdCardDirectory("/Camera/Photo")+"/image.png");
                Bitmap bi = BitmapFactory.decodeStream(fis);
                ByteArrayOutputStream baos = new ByteArrayOutputStream();
                bi.compress(Bitmap.CompressFormat.PNG, 10, baos);
                data = baos.toByteArray(); 
                }catch (Exception e) 
                {
                    Toast.makeText(FbshareScreen.this,e.toString(),Toast.LENGTH_SHORT).show();
                }
                response=facebook.request("me");
                Bundle parameters = new Bundle();       
                parameters.putString("message", message);   
                parameters.putByteArray("picture", data);
                 AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(facebook);   
                 mAsyncRunner.request("me/photos", parameters, "POST", new mRequestListener(), null);

                 Log.d("Tests", "got response: " + response);
                 if (response == null || response.equals("") || response.equals("false")) 
                 {   
                    Log.v("Error", "Blank response");
                    Toast.makeText(FbshareScreen.this,"Blank response",Toast.LENGTH_SHORT).show();

                    check=1;
                 }
                 else
                 {
                     check=2;

                     Intent FBshare_Home =  new Intent(FbshareScreen.this,FacebookFeedback.class);
                     startActivity(FBshare_Home);
                     File file= new File(path+"/image.png");
                     file.delete();
                     finish();

                 }

        } catch (Exception e) {
            Log.e("Error", e.toString());
        }
    }
    class LoginDialogListener implements com.android.fb.Facebook.DialogListener
    {
        public void onComplete(Bundle values) {
            new MailSendingTask().execute((Void[])null);

                //postToWall("");

        }

        public void onFacebookError(FacebookError error) 
        {
            showToast("Authentication with Facebook failed!");
            File f= new File("/mnt/sdcard/Camera/Photo/image.png");
            if(f.canRead())
            {
                f.delete();
            }
            Intent in=new Intent (FbshareScreen.this, HomeScreen.class);
            startActivity(in);
            finish();
        }
        public void onError(DialogError error) {
            showToast("Authentication with Facebook failed!");
            File f= new File("/mnt/sdcard/Camera/Photo/image.png");
            if(f.canRead())
            {
                f.delete();
            }
            Intent in=new Intent (FbshareScreen.this, HomeScreen.class);
            startActivity(in);
            finish();
        }
        public void onCancel() {
            showToast("Authentication with Facebook cancelled!");
            File f= new File("/mnt/sdcard/Camera/Photo/image.png");
            if(f.canRead())
            {
                f.delete();
            }
            Intent in=new Intent (FbshareScreen.this, HomeScreen.class);
            startActivity(in);
            finish();
        }
    }
    class WallPostDialogListener implements com.android.fb.Facebook.DialogListener {

        public void onComplete(Bundle values) {
            logoutFromFacebook();
                if (response != null)
                {
                 showToast("Message posted to your facebook wall!");

            } else {
                showToast("Wall post cancelled!");   
            }
            finish();

        }
        public void onFacebookError(FacebookError e) {
            showToast("Failed to post to wall!");
            e.printStackTrace();
            finish();
        }
        public void onError(DialogError e) {
            showToast("Failed to post to wall!");
            e.printStackTrace();
            finish();
        }
        public void onCancel() {
            showToast("Wall post cancelled!");
            finish();
        }
    }
    private void showToast(String message)
    {
        Toast.makeText(getApplicationContext(), message, Toast.LENGTH_SHORT).show();
    }
    public class mRequestListener implements RequestListener{

        private static final String TAG = "I am Tag";

        @Override
        public void onMalformedURLException(MalformedURLException e, Object state) {
            Log.d(TAG, "******************* FACEBOOK::onMalformedURLException *******************");
        }

        @Override
        public void onIOException(IOException e, Object state) {
            Log.d(TAG, "******************* FACEBOOK::onIOException *******************");
        }

        @Override
        public void onFileNotFoundException(FileNotFoundException e, Object state) {
            Log.d(TAG, "******************* FACEBOOK::onFileNotFoundException *******************");
        }

        @Override
        public void onFacebookError(FacebookError e, Object state) {
            Log.d(TAG, "******************* FACEBOOK::onFacebookError *******************");
        }

        @Override
        public void onComplete(String response, Object state) {
            Log.d(TAG, "******************* FACEBOOK::onComplete *******************");
        }

    }

    public void onActivityResult(int requestCode, int resultCode, Intent data) 
    {
        super.onActivityResult(requestCode, resultCode, data);
        facebook.authorizeCallback(requestCode, resultCode, data);
    }

    public void onClick(View view) 
    {
        if(view == _share)
        {
            if(!ProjectUtil.haveNetworkConnection(FbshareScreen.this)){
                Toast.makeText(FbshareScreen.this,"Unable to connect at this time please check your network connection and try again.",Toast.LENGTH_LONG).show();
                return;
            }
            new FacebookSendingTask().execute((Void[])null);

            loginAndPostToWall(); 

        }else if(view == _decline){
            File file= new File(path+"/image.png");
            file.delete();
            //Toast.makeText(getApplicationContext(), "Photo Deleted \nClick Another Photo", Toast.LENGTH_SHORT).show();

            finish();
        }

    }
public Bitmap   addVango(Bitmap c, Bitmap s)
{
    Bitmap cs = null; 

    int width, height = 0; 

    if(c.getWidth() > s.getWidth()) 
    { 
      width = c.getWidth();   
      height = c.getHeight() + s.getHeight(); 
    } else { 
      width = s.getWidth(); 
      height = c.getHeight() + s.getHeight(); 
    } 

    cs = Bitmap.createBitmap(c.getWidth(), c.getHeight(), Bitmap.Config.ARGB_8888); 
    Canvas comboImage = new Canvas(cs); 
    comboImage.drawBitmap(c, 0f, 0f, null);
    comboImage.drawBitmap(s, c.getWidth()-s.getWidth()-75, c.getHeight()-s.getHeight()-155, null);

    OutputStream os = null; 
    try { 
      os = new FileOutputStream(ProjectUtil.createSdCardDirectory("/Camera/Photo")+"/image.png"); 
      cs.compress(CompressFormat.PNG, 100, os); 
    } catch(IOException e) 
    { 
      Log.e("combineImages", "problem combining images", e); 
      Toast.makeText(FbshareScreen.this,""+e,Toast.LENGTH_SHORT).show();
    }

    return cs; 
}

 public class MailSendingTask extends AsyncTask <Void, Void, Void> {

        private ProgressDialog progressDialog;
        public  Looper mLooper;

        @Override
        protected void onPreExecute() {

            this.progressDialog = ProgressDialog.show(
                    FbshareScreen.this,

                    "Doing Processing", // title
                    "Posting Photo", // message
                    true // indeterminate
            );
        }

        @Override
        protected Void doInBackground(Void... params) {
            //if(haveNetworkConnection())

            try
            {
                postToWall("");
            }
            catch (Exception exception)
            {
                Log.e("Exception", exception.toString());
                check=1;
            }

            return null;
        }

        @Override
        protected void onPostExecute(Void v) {
            this.progressDialog.cancel();
            if(check==1)
                Toast.makeText(getApplicationContext(), "Wall Post Cancelled", Toast.LENGTH_SHORT).show();
            if(check==2)
                Toast.makeText(getApplicationContext(), "Message Posted To your Wall", Toast.LENGTH_SHORT).show();

        }

    }

 public boolean onKeyDown(int keyCode, KeyEvent event)  
    {
        if (keyCode == KeyEvent.KEYCODE_BACK) 
        {
            File file= new File(path+"/image.png");
            if(file.canRead())
            {
            file.delete();

            Intent in=new Intent(FbshareScreen.this,FacebookFeedback.class);
            in.putExtra("value", "1");
            startActivity(in);             
            return true;
            }

        }
        return super.onKeyDown(keyCode, event);

    }

 public class FacebookSendingTask extends AsyncTask <Void, Void, Void> {

        private ProgressDialog progressDialog;
        public  Looper mLooper;

        @Override
        protected void onPreExecute() {

            this.progressDialog = ProgressDialog.show(
                    FbshareScreen.this,

                    "Connecting To Facebook", // title
                    "Wait for a Moment", // message
                    true 
            );
        }

        @Override
        protected Void doInBackground(Void... params) {

            try {
                facebook.logout(getApplicationContext());
            } catch (Exception e) {
                Log.e("Error", e.toString());
            }

            return null;
        }

        @Override
        protected void onPostExecute(Void v) {
            this.progressDialog.cancel();
    }

    } 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T11:03:44.547

您的问题出现是因为您的应用程序超出了您的 android 设备的缓存限制。android 设备的堆大小导致此内存异常。请升级内存或使用更高端的设备。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T11:11:26.423

我以为你`outofmemoryerror`在发布照片时会得到。这在运行时处理 Android 中图像的分配/解除分配非常棘手，因为它占用了太多堆。可能是因为您的设备而出现问题..我建议您升级内存或使用更高端的设备

# api - Twitter API 超时

> ID：13620057
> 
> 赞同：0
> 
> 时间：2012-11-29T06:27:50.980
> 
> 标签：api, twitter

我正在尝试开发一个集成 Twitter API 的应用程序并收集所有关注者及其推文，但在某些时候 Twitter 会超时并且直到第二天才能工作。这个问题有什么解决办法吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-12T17:17:55.220

Twitter API 对您在给定时间内可以发出的请求数量有速率限制。详细信息在他们的开发网站上： [https ://dev.twitter.com/docs/rate-limiting/1.1](https://dev.twitter.com/docs/rate-limiting/1.1)

您需要保持在这些限制范围内。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-08-29T12:35:16.557

你使用 PHP 吗？就我而言，我在错误代码行上方添加了此代码并且它有效。

设置时间限制（600）；

# windows-7 - 批处理脚本输出到文件

> ID：13620060
> 
> 赞同：0
> 
> 时间：2012-11-29T06:27:54.993
> 
> 标签：windows-7, batch-file

我正在尝试使用以下行运行一个小批处理文件来打印 java 版本的输出。

```
@echo off
set instDir=%cd%
set JAVA_DIR="%instDir%\bin\jre\bin\java.exe"
%JAVA_DIR% -version > output.txt 
```

当我运行（双击）这个带有“*.bat”扩展名的文件时，没有任何内容写入 output.txt。

当我从命令提示符执行相同的文件时，它会在命令提示符下打印版本，但不会打印到文件中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:59:07.093

您正在尝试重定向标准输出，但您需要重定向错误输出：

```
@echo off
set instDir=%cd%
set JAVA_DIR="%instDir%\bin\jre\bin\java.exe"
%JAVA_DIR% -version 2> ".\output.txt" 
```

# python - pip 连接失败 - 无法获取索引基本 URL

> ID：13620061
> 
> 赞同：0
> 
> 时间：2012-11-29T06:28:01.320
> 
> 标签：python, ip, pip

我既不能通过 pip 命令安装 python 包，也不能从我的网络子网加入 url [http://pypi.python.org/](http://pypi.python.org/)但是当我连接到具有相同计算机但不同 IP 和子网的另一个网络时，我可以安装包和加入网址。当我进行 pip 安装时，我收到错误消息“无法获取索引基础 URL [http://pypi.python.org/simple/ ”。](http://pypi.python.org/simple/)我认为这与 IP-ban 问题有关，因为它以前是有效的。以前有人有过这样的经历吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-06T15:18:58.360

解决方案？：

```
user@host:~$export HTTP_PROXY="$http_proxy" 
```

简短回答：小写 $http_proxy 必须是大写 $HTTP_PROXY

长答案：我也遇到了这个错误。检查 netstat -ant 并显示“SYN SENT”到 [pypi.python.org] 端口 80。但是为什么？我的 $http_proxy 服务器清楚地将其他流量发送到另一个 IP 和端口 8080？！它是全局设置的，不管用户是root用户还是其他用户，所以 sudo -E 解决方案不起作用。

在 pip 版本 1.0 -> 1.3.1 中不检查环境变量的大小写敏感性——至少对于字符串 HTTP_PROXY 的 os.environ.get() 调用。不完全是“错误”，但与其他已安装的软件（如使用小写或不区分大小写的 Google Chrome）发生冲突。

如果 netstat 显示到某些 IP“not-your-proxies-IP”的端口 80 的流量，一种解决方案就是修改 pip/download.py 以查找小写的 env var 'http_proxy'。或者，确保在您的环境中同时设置了 $http_proxy 和 $HTTP_PROXY。

这是我的测试：

```
user@host:~$ grep -R HTTP_PROXY /usr/local/lib/python2.7/dist-packages/pip/*

/usr/local/lib/python2.7/dist-packages/pip/download.py:            
proxystr = os.environ.get('HTTP_PROXY', '')

Python 2.7.3 (default, Aug  1 2012, 05:14:39) 
[GCC 4.6.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import os
>>> proxystr = os.environ.get('HTTP_PROXY', '')
>>> proxystr
''

Now I change HTTP_PROXY to http_proxy and the same snippet of download.py returns the value of my proxy

>>> proxystr = os.environ.get('http_proxy', '')
>>> proxystr
'http://proxyserver.mydomain.com:8080/' 
```

# streaming - 通过 rtsp 流式传输 mjpeg 视频

> ID：13620062
> 
> 赞同：1
> 
> 时间：2012-11-29T06:28:07.873
> 
> 标签：streaming, rtsp, mjpeg

我正在通过 rtsp 协议流式传输 MJPEG 数据，我可以在客户端接收数据，但它显示灰色视频，我与wireshark 交叉检查它发送 jpeg 数据。除了高度和宽度不正确，还怀疑量化表我可以如何设置它正确。（我正在逐帧读取文件并分解成数据包。）提前致谢。

# jquery-ui - 如何在单击jQuery中的链接时显示第二个选项卡

> ID：13620067
> 
> 赞同：-1
> 
> 时间：2012-11-29T06:28:47.857
> 
> 标签：jquery-ui, jquery-ui-tabs

页面顶部有两个链接登录和注册。在页面正文中有两个选项卡登录和注册。单击登录时应显示登录选项卡，单击注册时应显示注册选项卡。这两个选项卡都存在于单独的 div 中，并且这两个 div 有一个父 div。目前我正在使用以下代码，它仅在单击两个链接时显示第一个选项卡：

```
 $("ul#myaccount-details-tabs").tabs("div#myaccount-details-panes>div");
        $(".tabs").each(function(){
        initTabs($(this).attr("id"));
    }); 
```

html代码如下：

```
 <div id="signin-info-tab-container" >
          <ul id="myaccount-details-tabs">
               <li><a href="#">sign-in</a></li>
              <li ><a href="#">create an account</a></li>
          </ul>
          <div id="myaccount-details-panes">
                 <div id="signin-details-panes">

                </div><!-- signin-details-panes-->
                <div id="register-details-panes">

                </div><!--register-details-panes-->
           </div><!--myaccount-detailes-panes-->
     </div><!--signin-info-tab-container--> 
```

现在，我必须在单击页面顶部的注册链接时显示注册选项卡而不是登录选项卡。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:56:16.037

提这个：

```
$('#tabs').tabs();

$('#sign-in').click(function(){    
    $("#tabs").tabs("select", "#tabs-1");        
});

$('#register').click(function(){    
    $("#tabs").tabs("select", "#tabs-2");        
}); 
```

[在这里演示](http://jsfiddle.net/nSLfN/18/)

# python - 大 o 表示法和惰性求值的运行时间

> ID：13620069
> 
> 赞同：2
> 
> 时间：2012-11-29T06:28:55.103
> 
> 标签：python, algorithm, time-complexity

```
def foo(x):
    if x > 5:
        return foo(x–1) – foo(x-1)
    else:
        return 11

def bar(a,b):
    if (b > 0):
        return bar( bar(a, b+1) , b-1 )
    else:
        return 0 
```

我如何找到运行时间`Big O notation`以及惰性评估（在需要表达式的值之前不评估表达式）如何影响这一点？

第一个是`O(n)`由于单个递归调用，第二个是`O(n^2)`由于另一个递归调用中的递归调用吗？我只知道如何根据我之前看到的例子进行猜测。:(

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T09:10:26.903

*   `foo()`是`O(2^n)`（假设interpeter没有缓存优化）。
*   `bar()`是`O(infinity)`（从不终止），并且`O(n)`使用惰性求值

* * *

**说明：**
每个`foo(n)`调用 2 次调用，`f(n-1)`因此您将获得复杂度函数：

```
T(n) = T(n-1) + T(n-1) = T(n-2) + T(n-2) + T(n-2) + T(n-2) = ... = 2^(n-5)*T(5) 
```

（这`...`部分可以用[数学归纳法](http://en.wikipedia.org/wiki/Mathematical_induction)形式化证明）

* * *

处于无限循环中，`bar(n)`因为假设`b>0`- 它将被递归调用`b+1`- 这也将满足约束`b>0`。通过归纳，您可以得到对于所有`b>0`的额外调用`bar()`with `b'>b`- 这会导致无数次调用`bar()`- 因此`O(infinity)`

* * *

**使用惰性求值，第二种方法 ( `bar()`) 变为`O(n)`**.
这是因为无限递归仅发生在评估`a`- 但是，因为`a`从未真正使用过 - 不需要评估参数的表达式`a`，并且因为`b`减少了每个递归调用 - 你得到`O(n)`

* * *

**的正式证明`T(n) = T(n-1) + T(n-1)`在`O(2^n)`：**

**基数：** T(5) = CONST
**假设**：`T(k) <= CONST * 2^k`对于每个`k<n`
**证明：**

```
T(n) = T(n-1) + T(n-1) <= (assumption) <= CONST* 2^(n-1) + CONST* 2^(n-1) = 
     = CONST*2*2^(n-1)  = CONST * 2^n 
```

从数学归纳法我们可以得出结论，假设是正确的，并且`T(n)`在`O(2^n)`

# opengl - 使用显示列表有什么好处？

> ID：13620070
> 
> 赞同：0
> 
> 时间：2012-11-29T06:28:55.580
> 
> 标签：opengl

我无法清楚地理解显示列表。例如，如果我想绘制一个具有复杂光线的场景，并且可能会更改场景中对象使用的材质。设置素材的速度可能比较慢，所以我可以把素材的定义放在显示列表中。那么使用 displaylist 有什么好处呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T11:06:01.460

显示列表本质上是宏记录器/播放器。编译显示列表时，OpenGL 实现将发送给它的所有命令记录到一个对象中。不幸的是，显示列表使用起来有点麻烦。例如，显示列表*将*存储传递给纹理对象的数据（它们曾经在 OpenGL-1.0 中用作纹理存储，大约 1992 年，在引入纹理对象之前），但它们不会存储通过顶点数组绘制的几何数据.

通过显示列表获得的任何性能提升都是由于（GPU 端）顶点数组允许批量处理大量即时模式调用的可能性。随着*顶点缓冲区对象*的可用，显示列表的这种使用变得过时了。这大约是 2000 年左右。显示列表的唯一剩余用途是封装 OpenGL 状态设置，这很有用，因为为固定功能管道设置状态记录非常繁琐。自从 OpenGL 完全基于着色器以来，许多固定功能状态也变得过时了。今天，您通过调用大量 OpneGL 状态调用（或一个 glCallLists）所做的工作已被简单地为手头的任务选择正确的着色器程序所取代。

自从显示列表完全过时并且没有提供可行的性能增益以来。

同样值得注意的是，OpenGL 侧矩阵数学运算（glLoadIdentity、glTranslate、glRotate 等）不是由 GPU 执行的。矩阵由驱动程序准备好，然后上传到 GPU。显示列表只存储准备好的矩阵并上传它。但是从带宽和性能的角度来看，自己调用 glUniform / glLoadMatrix 或让显示列表触发该代码路径没有区别。因此，Khronos 做了合理的事情，并从任何现代 OpenGL 版本和变体中删除了显示列表。

***TL;DR：**当顶点缓冲区对象无法将几何图形放入快速内存并将更大的 OpenGL 状态集编译成一个名称时，显示列表曾经是一个有用的工具。现代 OpenGL 显示列表不再提供优势，只会增加驱动程序的大小和复杂性，因此显示列表已从现代 OpenGL 变体中删除。*

# ms-access - 自动化 MS Access 以上传/导出文件并合并到表中

> ID：13620071
> 
> 赞同：0
> 
> 时间：2012-11-29T06:28:58.293
> 
> 标签：ms-access, vba

我有将 csv 文件导入 Access 表的代码。有几个问题或想法超出了我的技能水平。第一个问题是文件不附加现有字段，而是插入整个文件，创建包含新标题的副本。

第二个问题是我只想从 Access 中导出 csv 文件中的新记录或更新记录，而不是整个表，我还没有到那里。

我需要一只小手牵着这里。

谢谢大家，这个论坛，你们是最棒的。总是乐于助人并渴望分享您的知识。

```
Option Compare Database
Option Explicit

Private Sub ImportFile()
Dim strPathFile As String, strFile As String, strPath As String
Dim strTable As String

Dim xlApp As Object, xlWb As Object, xlWs As Object
Dim lngRow As Long, lngLastRow As Long
Dim rst As DAO.Recordset

strPath = "C:\Transit\"
strTable = "Transit"
strFile = Dir(strPath & "*.csv")

Set rst = CurrentDb.OpenRecordset(strTable)

Do While Len(strFile) > 0

      strPathFile = strPath & strFile

        Set xlApp = CreateObject("Excel.Application")
        Set xlWb = xlApp.Workbooks.Open(strPathFile)
        Set xlWs = xlWb.Worksheets(1)

        lngLastRow = xlWs.UsedRange.Rows.Count

        For lngRow = 1 To lngLastRow

            rst.AddNew
            rst("Field1") = xlWs.Range("A" & lngRow).Value
            rst("Field2") = xlWs.Range("B" & lngRow).Value
            rst("Field3") = xlWs.Range("C" & lngRow).Value
            rst("Field4") = xlWs.Range("D" & lngRow).Value
            rst("Field5") = xlWs.Range("E" & lngRow).Value
            rst("Field6") = xlWs.Range("F" & lngRow).Value
            rst("Field7") = xlWs.Range("G" & lngRow).Value
            rst.Update

        Next

    xlApp.Quit
    Set xlApp = Nothing
    Set xlWb = Nothing
    Set xlWs = Nothing
    strFile = Dir()
Loop

rst.Close
Set rst = Nothing

End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T10:01:00.093

我建议为该文件创建一个链接表。完成此操作后，您可以像对待任何其他表一样处理链接的 Excel 文件，包括运行 SELECT 和操作查询。在您的情况下，您可以创建一个以 Excel 电子表格为目标的简单追加查询，并将其限制为仅那些尚未更新的记录。

![链接外部 Excel 文件](../Images/f1b81b85e64a0bf8645304fc7b29ca74.png) 它也将在查询设计器的添加表对话框中可见。

* * *

**更新**

如果 Excel 文件的路径不固定，则需要一点 VBA 来自动重新链接文件。

```
'Defined as a function instead of a Sub
'Allows calling from an AutoExec macro, or setting as an eventhandler property
Public Function Relink(path As String)
    Dim dbs As DAO.Database, tdf As DAO.TableDef
    Dim newConnect As String
    Dim connectParts As Variant, part As Variant, keyValuePair As Variant
    Dim key As String, value As String, delimiterPosition As Integer

    'Objects created from CurrentDb can only be referenced once; after that they cause an error
    'Therefore we need save a reference to the Database object in a variable
    Set dbs = CurrentDb

    'Each table has a corresponding TableDef (table definition) object
    Set tdf = dbs.TableDefs("LinkedSheet")

    'TableDef objects have a Connect property, containing a connection string for linked tables
    '(For non-linked tables this will be a zero-length string)
    'A connection string has the form key=value;key1=value1 etc.
    connectParts = Split(tdf.Connect, ";")
    For Each part In connectParts
        keyValuePair = Split(part, "=")
        If keyValuePair(0) = "DATABASE" Then
            keyValuePair(1) = path
        End If
        newConnect = newConnect & ";" & Join(keyValuePair, "=")
    Next

    'We need to remove the extra semicolon in the beginning
    newConnect = Mid(newConnect, 2)

    'Set the connection string, and save the change by calling RefreshLink
    tdf.Connect = newConnect
    tdf.RefreshLink
End Function 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:37:30.857

好的，简短的回答，但稍微抬头，我认为它会有所帮助。

查看**DoCmd.TransferText**命令。有了它，您可以将 csv 文件导入临时表。您甚至可以选择指定文件是否有标题。它看起来像这样：

```
DoCmd.TransferText acImportDelim, , "temp", "c:\Transit\myfile.csv", True 
```

一旦将它放在临时表中，您就可以进行查询以查看哪些记录是新的，并将它们附加到您的永久表中。

# android-layout - Android :: Custom Array Adapter 未调用 getView 且未导致任何异常

> ID：13620074
> 
> 赞同：0
> 
> 时间：2012-11-29T06:29:06.120
> 
> 标签：android-layout, android-arrayadapter, android-view

我想要的只是一个记录列表，每个记录在列表视图中都有三个字符串字段。使用该应用程序会生成更多记录，此活动将记录显示为日志。数据被记录到本地存储上的 CSV 文件并从中读取。如果您知道存储数据的更好方法，请告诉我。

这是我的自定义适配器。在调试时，我让构造函数执行，但从未调用 getView() 的覆盖，这解释了为什么我什么也没看到，但为什么？更多代码如下：

```
public class TransRecordAdapter extends ArrayAdapter<String[]> {
    private List<String[]> history;

    public TransRecordAdapter(Context context, int textViewResourceId, List<String[]> history2) {
        super(context, textViewResourceId);
        this.history = history2;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        View v = convertView;
        if (v == null) {
            LayoutInflater vi = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            v = vi.inflate(R.layout.listitem, null);
        }

        String[] rec = history.get(position);
        if (rec != null) {
            TextView input = (TextView) v.findViewById(R.id.history_input);
            TextView trans = (TextView) v.findViewById(R.id.history_trans);
            TextView num = (TextView) v.findViewById(R.id.history_num);

            if (rec[0] != null) {
                input.setText(rec[0]);
            }
            if (rec[1] != null) {
                trans.setText(rec[1]);
            }               
            if (rec[2] != null) {
                num.setText(rec[2]);
            }
        } 
        return v;
    }
} 
```

以及此活动的 onCreate()

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_gematria_droid_history);
    ListView history_list = (ListView) findViewById(R.id.history_list);

    try {
        File historyFile = this.getFileStreamPath("gematriadroid-history");
        if(!historyFile.exists()) {
            historyFile.createNewFile(); 
        }
        FileReader mFileReader = new FileReader(historyFile);
        CSVReader csvReader = new CSVReader(mFileReader);
        List<String[]> history = csvReader.readAll();
        csvReader.close();

        if(history.size() != 0) {
            TransRecordAdapter adapter = new TransRecordAdapter(this, R.layout.listitem, history);
            history_list.setAdapter(adapter);
        }
    } catch (IOException e1) {
        e1.printStackTrace();
    } catch (RuntimeException e2) {
        e2.printStackTrace();
    } catch (Exception e3) {
        e3.printStackTrace();
    }

} 
```

和布局

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical"
android:background="@drawable/background"
tools:context=".GematriaDroidHistory" >
<TextView
    android:id="@+id/history_filter"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="10dp"
    android:padding="5dp"
    android:hint="@string/history_filter"/>
<ListView
    android:id="@+id/history_list"
    android:layout_height="match_parent"
    android:layout_width="match_parent"
    android:layout_marginLeft="10dp"
    android:layout_marginRight="10dp"
    android:layout_marginBottom="10dp"
    android:background="#FFFFFF">
</ListView>
</LinearLayout> 
```

和列表项

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="75dp"
android:layout_marginTop="5dp"
android:layout_marginLeft="10dp"
android:layout_marginBottom="5dp"
android:layout_marginRight="10dp"
android:background="@drawable/papyrus"
android:padding="5dp">

<TextView
    android:id="@+id/history_input"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true"
    android:text="@string/history_input"
    android:textSize="20sp" />

<TextView
    android:id="@+id/history_trans"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_alignParentLeft="true"
    android:text="@string/history_trans"
    android:textSize="20sp" />

<TextView
    android:id="@+id/history_num"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_centerVertical="true"
    android:textSize="20sp"
    android:text="@string/history_num"/>
</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T06:52:36.650

我认为问题在于你没有告诉基类你的数组有多少元素。

它可能会为您提出两种解决方案。

解决方案 1）如下修改您的构造函数。这样，我认为您不必定义“历史”，在getView中，您只需调用“getItem（）”即可获取该位置的项目。

```
public TransRecordAdapter(Context context, int textViewResourceId, List<String[]> history2) {
    super(context, textViewResourceId, history2);
    this.history = history2;
} 
```

解决方案 2) 同时覆盖 getCount() 和 getItem()。

# matlab - MATLAB 访问结构体中的元胞数组

> ID：13620076
> 
> 赞同：2
> 
> 时间：2012-11-29T06:29:10.393
> 
> 标签：matlab, structure, cell, octave

假设我有一个名为的数据集`data`，它是从以下位置创建的`dataset(xls2struct('file.xls')`：

```
 subj_CDI: {1166x1 cell}
      age_at_test_CDI: [1166x1 double]
developmental_age_CDI: [1166x1 double] 
```

表达方式：

```
data(data.developmental_age_group_CDI==3, 'subj_CDI') 
```

将从中返回单元格`data.subj_CDI`。没问题。

但是，如果我尝试通过匹配“HA18”的单元格进行搜索，则通过以下表达式：

```
data(data.subj_CDI=={'HA18'}, 'developmental_age_group_CDI') 
```

我收到此错误：

```
??? Undefined function or method 'eq' for input arguments of type 'cell'. 
```

我知道这是数据不匹配，但我不知道如何解决它......我试图转换`data.subj_CDI`为结构，但没有成功访问它......

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:49:45.050

你应该`strcmp`改用。它将为您提供您正在寻找的元素（或元素！）的索引。

```
index = strcmp('HA18',data.subj_CDI); 
```

然后要获取值/值，请使用

```
data.age_at_test_CDI{index} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:54:22.980

Matlab 函数`cellfun`用于将特定函数应用于单元格中的每个元素。习惯它需要一些努力，但它非常强大。看看你的例子：

```
cellfun(@(x)strcmp(x,'HA18),  data.subj_CDI) 
```

`data.subj_CDI`返回where为 true的元素的数组`strcmp(x, 'HA18')`（在将每个单独的元素替换为 之后`x`。然后您可以使用

```
data.age_at_test_CDI(cellfun(@(x)strcmp(x,'HA18),  data.subj_CDI)) 
```

得到你的结果。

# python - 如何从python生成一个常量唯一ID

> ID：13620078
> 
> 赞同：1
> 
> 时间：2012-11-29T06:29:48.413
> 
> 标签：python, constants, uuid

我的应用程序需要使用 python 为运行机器生成一个常量唯一 ID。
常量唯一标识的意思是：
**任何时候在同一台机器上，生成唯一标识总是相同的唯一标识。**

（可能像系统 uuid，但我的应用程序没有运行 root，无法获取 system-uuid）。
顺便说一句，我认为 python uuid 模型对我不好：
uuid1（）：使用时间，生成一个 uuid，这不是一个常数唯一 id
uuid3（）：不能使用一些字符串生成一个 uuid，但是这个 uuid 在任何机器上都是一样的。

谢谢！

同一台机器：同一个cpu+主板+操作系统安装+同一个磁盘。action :
uuid1():use time gen a uuid,this is not a constant Unique id

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-04T00:08:11.017

你可以试试[雪花](http://pypi.python.org/pypi/snowflake/)。如果你有root，这个ID可以为整机持久化；否则，它可以将 ID 保存在您有权创建的文件中。

披露：我写的。:)

# actionscript-3 - 如何获取嵌入 swf 的网站？

> ID：13620082
> 
> 赞同：0
> 
> 时间：2012-11-29T06:30:02.627
> 
> 标签：actionscript-3

我想知道哪个网站嵌入了我的 swf 文件。例如，我的 swf 是 www.a.com/a.swf，而 www.b.com/index.html 嵌入了我的 swf。当 stage.loaderinfo.url 获得“www.a.com/a.swf”时，我如何在代码中获得“www.b.com”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:40:06.100

如果在您的服务器上有一个处理程序来处理来自您的 swf 的请求呢？所以，你可以做类似（未经测试）的事情

```
var loader: URLLoader = new URLLoader();
var request: URLRequest = new URLRequest("http://www.domain.com/tracker");
var location: String = ExternalInterface.call("window.location");
request.data = new URLVariables("location=" + location)
loader.load(request) 
```

请注意，我正在使用对 javascript 的调用来获取当前 url。同样，您可以使用类似的东西`location.host`而不是`window.location`. javascript 还会提供其他功能。

# xquery - 将非标准 HTTP 标头 X-XSS-Protection 发送到 xquery 页面（使用 Marklogic 服务器）

> ID：13620083
> 
> 赞同：0
> 
> 时间：2012-11-29T06:30:08.607
> 
> 标签：xquery, marklogic

当 Chrome 浏览器抛出此错误时，问题就开始了：

“**拒绝执行 JavaScript 脚本。在请求中找到脚本的源代码**”。

我已经尝试过`http-equiv`将属性设置为“ `X-XSS-Protection`”且内容属性设置为 0 的元标记。

```
<meta http-equiv="X-XSS-Protection" content="0"/> 
```

通过放置在头部来禁用防止`xss`攻击的选项。但它不起作用。

帮帮我。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T17:59:01.437

我认为这就是你想要的：

xdmp:add-response-header("X-XSS-Protection", "0")

请参阅[http://docs.marklogic.com/xdmp:add-response-header](http://docs.marklogic.com/xdmp%3aadd-response-header)

# objective-c - 是否可以在 iphone sdk 中暂停视频录制？

> ID：13620092
> 
> 赞同：-1
> 
> 时间：2012-11-29T06:30:54.970
> 
> 标签：objective-c, ios, ios4, video-recording

我想在 iOS 中暂停视频录制是否可以使用任何库或框架来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:54:28.433

从这里下载 wwdc 2010 示例源代码：[https](https://connect.apple.com/cgi-bin/WebObjects/MemberSite.woa/wa/getSoftware?code=y&source=x&bundleID=20645) ://connect.apple.com/cgi-bin/WebObjects/MemberSite.woa/wa/getSoftware?code=y&source=x&bundleID= 20645 并找到 AVCamDemo 项目的代码。这一切都与视频录制、暂停和播放有关。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-06T12:39:59.353

您需要将其从 AVCam 更改为 CameraEngine

```
 #import "CameraEngine.h"

- (void) startPreview
{
    AVCaptureVideoPreviewLayer* preview = [[CameraEngine engine] getPreviewLayer];
    [preview removeFromSuperlayer];
    preview.frame = self.cameraView.bounds;
    [[preview connection] setVideoOrientation:UIInterfaceOrientationLandscapeRight];

    [self.cameraView.layer addSublayer:preview];
}

    - (IBAction)startRecording:(id)sender
    {
        [[CameraEngine engine] startCapture];
    }

    - (IBAction)pauseRecording:(id)sender
    {
        [[CameraEngine engine] pauseCapture];
    }

    - (IBAction)stopRecording:(id)sender
    {
        [[CameraEngine engine] stopCapture];
    }
    - (IBAction)resumeRecording:(id)sender
    {
        [[CameraEngine engine] resumeCapture];
    } 
```

# asp.net - IIS 7.5下的asp net web应用程序重定向到登录页面，但登录后出现错误http 404.0

> ID：13620095
> 
> 赞同：0
> 
> 时间：2012-11-29T06:31:09.087
> 
> 标签：asp.net, asp.net-mvc, iis, asp.net-mvc-4, iis-7.5

我有一个使用 ASP NET MVC 开发的应用程序，并且我在 IIS 中配置了一个虚拟目录。

我可以访问服务器文件夹以及位于 http:localhost:8081/application 的应用程序

我按预期重定向到位于 /Account/Login 的登录页面，但是当我使用我的用户名/密码登录时，我得到一个 Erro HTTP 404.0 - Not Found。

为什么会有这种行为？

**编辑：**

**控制器：**

```
 //
    // POST: /Account/Login
    [HttpPost]
    [ValidateAntiForgeryToken]
    [AllowAnonymous]
    public ActionResult Login(LoginModel model, string returnUrl)
    {
        MembershipProvider mp = Membership.Provider;

        if (ModelState.IsValid && mp.ValidateUser(model.UserName, model.Password))
        {
            FormsAuthentication.SetAuthCookie(model.UserName, false);
            return RedirectToAction("Index", "Home");
        }

        // If we got this far, something failed, redisplay form
        ModelState.AddModelError("", "Username ou Password incorreto!.");

        return View(model);
    } 
```

**路由配置：**

```
namespace tgpwebged { public class RouteConfig
{
    public static void RegisterRoutes(RouteCollection routes)
    {
        routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

        routes.MapRoute(
            name: "Default",
            url: "{controller}/{action}/{id}",
            defaults: new { controller = "Account", action = "Login", id = UrlParameter.Optional }
        );
    }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:42:11.647

问题不在于我的 asp net 应用程序，而在于 IIS 配置。负责 IIS 的人解决了这个问题。谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:07:31.657

可能您的 web.config 应该在其`loginUrl1`属性中包含虚拟目录。

尝试像这样更改您的 web.config：

```
<authentication mode="Forms">
      <forms loginUrl="tgpwebged/Account/Login"  />
</authentication> 
```

# apache-flex - 加载多个高级数据网格时出现 StackOverFlowError

> ID：13620097
> 
> 赞同：1
> 
> 时间：2012-11-29T06:31:35.543
> 
> 标签：apache-flex

我在主数据网格右侧的选项卡式导航器（每个选项卡一个）上有两个自定义高级数据网格，其中列出了供用户选择的选项。当用户单击主数据网格上的行项目时，选项卡式导航器中的高级数据网格将加载适当的信息。问题是，在我最初加载用户所做的第一个选择后，当用户尝试进行第二个选择时，它会冻结。但是，如果用户决定在进行第二次选择之前切换选项卡（查看选项卡 1 和 2），一切都很好。如果在进行下一个选择之前只查看选项卡 1...崩溃..

可以在这里找到高级数据网格的源： [http ://code.google.com/p/advanceddatagrid/source/browse/trunk/mergeableDataGrid/src/AdvancedDataGrid/AdvancedDataGrid.mxml?r=3](http://code.google.com/p/advanceddatagrid/source/browse/trunk/mergeableDataGrid/src/AdvancedDataGrid/AdvancedDataGrid.mxml?r=3)

我已经修改了网格如何通过 xml 循环，但可以在下面的代码片段中看到

```
 public function createGrid(xml:XML):void
        {
            // create columns 
            var columns:ArrayList = new ArrayList();  

            var rows:ArrayCollection = new ArrayCollection(); 

            for each (var column:XML in xml.Columns.Column)
            {
                var col:AdvancedDataGridColumn = new AdvancedDataGridColumn();

                col.dataField = column.DataField.valueOf().toString(); 
                col.headerText = column.Name.valueOf().toString();
                col.dataTipField = column.Tooltip.valueOf().toString();
                col.showDataTips = true;

                columns.addItem(col);
            }

            this.dataProvider = xml.Rows.Row;

            this.groupedColumns = columns.toArray();
        } 
```

这是我的标签式导航器代码

```
 <mx:TabNavigator id="tabNavigator"  width="100%" height="100%">         
        <s:VGroup width="100%"
                 label="Financial">
            <s:HGroup height="100%"
                      width="100%"
                      gap="0">
                <dataGrid:AdvancedDataGrid id="fundingGrid"
                                           itemEditBeginning="fundingGrid_itemEditBeginningHandler(event)"
                                           itemEditEnd="fundingGrid_itemEditEndHandler(event)"
                                           width="100%"
                                           height="100%"/>          

            </s:HGroup>
        </s:VGroup>
        <s:VGroup width="100%"
                 label="Quarterly Breakdown">
            <s:HGroup height="100%"
                     width="100%">
                <dataGrid:AdvancedDataGrid id="quarterlyBreakdownGrid"
                                           width="85%"
                                           height="100%"
                                           itemEditBeginning="quarterlyBreakdownGrid_itemEditBeginningHandler(event)"
                                           itemEditEnd="quarterlyBreakdownGrid_itemEditEndHandler(event)"/>     
                <s:Button id="btnSaveQuarterlyBreakdown"
                          label="Submit"
                          toolTip="Click to save program's quarterly funding."
                          click="btnSaveQuarterlyBreakdown_clickHandler(event)"/>

            </s:HGroup>
        </s:VGroup>
    </mx:TabNavigator> 
```

当用户从网格中选择一个行项目时，高级数据网格将发送带有列名和行的 xml。这个 createGrid 方法在第一个代码片段中。

```
this.fundingGrid.createGrid(fundingXML);
this.quarterlyBreakdownGrid.createGrid(bdXML); 
```

错误信息

> 错误：错误 #1023：发生堆栈溢出。在 mx.styles::StyleManager$/getStyleManager() 在 mx.styles::StyleProtoChain$/getStyleManager() 在 mx.styles::StyleProtoChain$/getTypeHierarchy() 在 mx.styles::StyleProtoChain$/matchesCSSType() 在 mx .core::UIComponent/matchesCSSType() 在 mx.styles::CSSSelector/matchesStyleClient() 在 mx.styles::CSSStyleDeclaration/matchesStyleClient() 在 mx.styles::StyleProtoChain$/matchStyleDeclarations() 在 mx.styles::StyleProtoChain $/getClassStyleDeclarations() at mx.core::UIComponent/getClassStyleDeclarations() at mx.styles::StyleProtoChain$/getMatchingStyleDeclarations() at mx.styles::StyleProtoChain$/initProtoChain() at mx.core::UIComponent/http: //www.adobe.com/2006/flex/mx/internal::initProtoChain() 在 mx.core::

有任何想法吗？我知道这可能看起来令人困惑.. 如有必要，愿意详细说明。

# multithreading - 一次启动所有工作人员我缺少什么？

> ID：13620098
> 
> 赞同：0
> 
> 时间：2012-11-29T06:31:43.263
> 
> 标签：multithreading, c#-4.0, concurrency

在下面的代码中，我试图同时启动两个工作人员，以便总经过时间和个人经过的时间相互匹配。我预计所有经过的时间为 1000 毫秒（+ 说 3 毫秒的延迟），所有工作人员的个人经过的时间为 1000 毫秒。

但是我得到的输出好像所有的工人都是按顺序运行的。

```
OverAll Elapsed Time: 2001
Individual Elapsed Time: 1000
Individual Elapsed Time: 999 
```

你能解释一下我错过了什么吗？

```
class Program
{
    static int m_NumberOfWorkers = 2;
    static readonly object m_Locker = new object();
    static bool flag_GO = false;
    static Stopwatch m_OverAllStopwatch = new Stopwatch();
    static ConcurrentBag<Stopwatch> m_bagIndividualStopwatch = new ConcurrentBag<Stopwatch>();
    static int m_CompletedWorkers = 0;
    static void Main(string[] args)
    {   
        // Create Workers
        List<Thread> lstThreads = new List<Thread>();
        for (int i = 0; i < m_NumberOfWorkers; ++i)
        {
            lstThreads.Add(new Thread(ConcurrentMethod));
        }

        // Start Workers
        for (int i = 0; i < lstThreads.Count; ++i)
        {
            lstThreads[i].Start();
        }

        m_OverAllStopwatch.Start();

        // Signal all workers
        lock (m_Locker)
        {
            flag_GO = true;
            Monitor.PulseAll(m_Locker);
        }

        // Wait all workers to finish
        for (int i = 0; i < lstThreads.Count; ++i)
        {
            lstThreads[i].Join();
        }

        Console.Read();
    }

    private static void ConcurrentMethod()
    {
        lock (m_Locker)
        {
            while (!flag_GO) Monitor.Wait(m_Locker);
            TestWhatEverYouWant();
            IamDone();
        }
    }

    private static void TestWhatEverYouWant()
    {
        Stopwatch stopWatch = Stopwatch.StartNew();
        Thread.Sleep(1000);
        stopWatch.Stop();
        m_bagIndividualStopwatch.Add(stopWatch);
    }

    private static void IamDone()
    {
        Interlocked.Increment(ref m_CompletedWorkers);
        // Summarize results if all workers are done
        if (Interlocked.CompareExchange(ref m_CompletedWorkers, 0, m_NumberOfWorkers) == m_NumberOfWorkers)
        {
            m_OverAllStopwatch.Stop();
            Console.WriteLine("OverAll Elapsed Time: {0}", m_OverAllStopwatch.ElapsedMilliseconds);
            foreach (Stopwatch stopWatch in m_bagIndividualStopwatch)
            {
                Console.WriteLine("Individual Elapsed Time: {0}", stopWatch.ElapsedMilliseconds);
            }
        }
    }        
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:06:50.127

傻我:)我在锁里工作！！！将这些方法移出锁当然解决了这个问题。

```
 private static void ConcurrentMethod()
    {
        lock (m_Locker)
        {
            while (!flag_GO) Monitor.Wait(m_Locker);                
        }
        TestWhatEverYouWant();
        IamDone();
    } 
```

我得到了想要的输出！！

```
OverAll Elapsed Time: 1004
Individual Elapsed Time: 1000
Individual Elapsed Time: 999 
```

# blackberry-10 - 用于 blackbery10 的 Facebook Api

> ID：13620099
> 
> 赞同：0
> 
> 时间：2012-11-29T06:31:49.077
> 
> 标签：blackberry-10

嗨朋友们，我是 blackberry10 平台的新手。我正在开发一个在 Facebook 中共享页面的应用程序。我在黑莓 6 中做到了这一点，但在黑莓 10 中我没有获得对 Facebook 的任何 API 支持。谁能帮我在 Blackberry10 中将页面分享到 Facebook

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T10:38:57.863

我建议等待集线器的黄金版本才能正常工作。使用 beta4 仍然没有 Hub 应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T23:23:35.730

你可以试试这个 Qt facebook 图形库，[http://code.google.com/p/facebook-cpp-graph-api/](http://code.google.com/p/facebook-cpp-graph-api/)

# servicestack - 这是在 servicestack 中处理 HEAD 请求的代码吗？

> ID：13620111
> 
> 赞同：3
> 
> 时间：2012-11-29T06:33:12.093
> 
> 标签：servicestack

使用此参考 - [https://github.com/ServiceStack/ServiceStack/wiki/Request-and-response-filters](https://github.com/ServiceStack/ServiceStack/wiki/Request-and-response-filters)

现在在我当前的实现中，任何传入的 HEAD 请求都会收到 404 状态码。我想返回 200 作为 HEAD 请求的状态码，因此客户端将进一步为实际输出发出 GET 请求。

显然我下面的代码在 AppHost 中是错误的，仍然返回 404，请纠正我。

```
 this.RequestFilters.Add((httpReq, httpResp, requestDto) =>
        {

        });

        this.ResponseFilters.Add((req, res, dto) =>
        {
            if (req.HttpMethod == "HEAD") res.StatusCode = 200;
        }); 
```

问题 2：这个单一的代码实现是否足以满足 AppHost 中定义的所有 Routes。

```
Routes.Add<dto1>("/GetMethod1", "GET");
Routes.Add<dto1>("/GetMethod1/Id/{ID}", "GET");
Routes.Add<dto2>("/GetMethod2", "GET");
Routes.Add<dto2>("/GetMethod2/Id/{ID}", "GET"); 
```

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T17:46:12.720

看起来您使用的是旧版本的 ServiceStack，所以我首先建议升级到最新版本。

除此之外，处理**HEAD**或其他不常见的 HTTP 方法请求的理想方法是使用[ServiceStack 的新的更灵活的 API](https://github.com/ServiceStack/ServiceStack/wiki/New-Api)，例如：

```
public void Head(GetMethod request) {
    base.Response.StatusCode = 200;
} 
```

但是只要有实现就足够了，所以你可以有一个空的身体。即设置`200`状态代码是多余的，因为它是默认状态代码。

如果您想使用过滤器一般地处理它，那么您将希望尽可能早地在请求管道中处理它。有关用户定义的事件和过滤器的执行顺序，请参阅[ServiceStack 的操作](https://github.com/ServiceStack/ServiceStack/wiki/Order-of-Operations)顺序。

# mysql - 加入两个mysql表并按日期显示数据顺序

> ID：13620117
> 
> 赞同：2
> 
> 时间：2012-11-29T06:33:41.843
> 
> 标签：mysql, sql, select, join

我有两个 mysql 表 tblSharesRegistry、tblSharesAccount。我想加入两个表并按日期显示行。但它显示数据不正确。请提供任何帮助。

```
1\. tblSharesRegistry
    ID  EMPNumber   NoOfShares  Amount  Deposit    Date 
    1   1111         100         10000     1    2012-07-20      
    2   1234         50           5000     1    2012-08-12      
    3   1001         10           1000     1    2012-09-25      
    4   1001         10           1000     1    2012-10-25      
    5   1001         10           1000     1    2012-11-25
    6   1001         -5           -500     0    2012-11-28      

2\. tblSharesAccount
    ID  EMPNumber   Balance Interest    Rate    Date    
    1   1111      10000   1000           10 2012-11-29
    2   1234       5000    500           10 2012-11-29
    3   1001       2500    250           10 2012-11-29 
```

并且输出应该是 EMPNumber: 1001

```
Date         Description    #Shares   Amount   Interest   Total
2012-09-25   Shares bought     10      1000       -        1000
2012-10-25   Shares bought     10      1000       -        2000
2012-11-25   Shares bought     10      1000       -        3000
2012-11-28   Shares sold       -5      -500       -        2500
2012-01-29   Interest          25      2500      250       2750 
```

我当前用于连接两个表的代码

```
SELECT tblSharesRegistry.Date, tblSharesRegistry.NoOfShares, tblSharesRegistry.Amount, tblSharesAccount.Interest, tblSharesAccount.Date FROM tblSharesAccount INNER JOIN tblSharesRegistry ON tblSharesAccount.EMPNumber = tblSharesRegistry.EMPNumber WHERE tblSharesRegistry.EMPNumber = '1001' ORDER  BY Date DESC 
```

**VB.NET 错误：** ![在此处输入图像描述](../Images/e302c6a445467532d38b0d4364ce0fac.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:44:50.383

试试这个：

```
SELECT * FROM 
(SELECT sr.Date, IF(sr.NoOfShares > 0, 'Shares bought', 'Shares sold') Description, 
         sr.NoOfShares, sr.Amount, '-' Interest, sr.Amount Total 
FROM tblSharesRegistry sr WHERE sr.EMPNumber = '1001' 
UNION 
SELECT sa.Date, 'Interest' Description, (SELECT SUM(sr.NoOfShares) FROM tblSharesRegistry sr  WHERE sa.EMPNumber = se.EMPNumber) NoOfShares, 
         sa.Balance, sa.Interest, (sa.Balance + sa.Interest) Total 
FROM tblSharesAccount sa WHERE sa.EMPNumber = '1001' ) AS A 
ORDER BY A.date 
```

检查此链接以更好地了解 if else 语句[**MySQL IF ELSE**](http://dev.mysql.com/doc/refman/5.1/en/control-flow-functions.html#function_nullif)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:36:11.363

试试这个 ：：

```
SELECT 
tblSharesRegistry.Date, 
tblSharesRegistry.NoOfShares, 
tblSharesRegistry.Amount, 
tblSharesAccount.Interest, 
tblSharesAccount.Date 

FROM tblSharesAccount 
INNER JOIN tblSharesRegistry ON tblSharesAccount.EMPNumber = tblSharesRegistry.EMPNumber 
WHERE tblSharesRegistry.EMPNumber = '1001' ORDER  BY tblSharesRegistry.Date DESC 
```

# java - 无法使用 RandomAcessFile 读取和打印一组字节作为字符串

> ID：13620123
> 
> 赞同：0
> 
> 时间：2012-11-29T06:34:07.913
> 
> 标签：java

我正在使用`RandomAccessFile`. 我已经在我的文件中写下了我想写的所有内容，但我无法读取和打印我的文件的一组字节作为字符串。有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T06:39:36.447

```
RandomAccessFile rand = ... // Your RandomAccessFile instance.

rand.seek(0);

for (long i = 0; i < rand.length(); i++) 
{
    byte b = rand.readByte();
    System.out.print((char)b);
} 
```

# java - 需要在我自己的程序中重写位于封闭源 jar 中的 java 类

> ID：13620124
> 
> 赞同：0
> 
> 时间：2012-11-29T06:34:14.297
> 
> 标签：java

我有以下问题：

*   我正在编写代码，并想在无法更改其源的包中使用 java bean。
*   这个包在给定的 java bean 上有一个错误。在我的情况下，解决方案是删除这个字段（如果我有源）+重新编译。
*   我想在我的源代码中编写相同的包 + 类（因为我没有 jar 的源代码），没有有问题的字段。
*   实际情况要复杂一些。

在开始实施之前，我想与您协商什么是最好的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:46:49.493

你现在有Spring Aspects吗？您可以尝试配置一个切入点来拦截您的方法调用，并使用“周围建议”来调用您自己的代码并避免使用原始的 . 更多信息：[http ://static.springsource.org/spring/docs/3.1.1.RELEASE/spring-framework-reference/html/aop.html](http://static.springsource.org/spring/docs/3.1.1.RELEASE/spring-framework-reference/html/aop.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:40:06.723

我想你很可能在这里寻找[适配器设计模式](http://en.wikipedia.org/wiki/Adapter_pattern)。但是请记住，使用此模式您不会更改/修改原始类，而是您自己的继承类（尽管在同一个包中）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:40:36.683

如何对原始源代码进行逆向工程，编写自己的 bean 并将其添加到 jar 中？当然，如果 jar 的许可证没有禁止这种方法。

它相对简单，现代逆向工程工具为您提供可读的源代码。

有很多工具可以对编译的类进行逆向工程。我最近使用了一个作为 Eclipse 插件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T06:41:38.807

最好的方法是使用相同的包结构和设置类路径顺序重写相同的 java bean，以便首先引用用户定义的代码而不是 jar 文件

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-29T06:43:50.237

您无法真正更改 jar 中的现有源代码（也许我在这里错了，但现在没有办法）。您可以做的是处理类加载级别和面向方面的方法（如字节码操作）。有了它，您可以在加载时更改类、方法等的源代码。但我不会真的推荐它，它只是如果你真的想要它，那么它可能是一种可能性。

# php - 使用自己独特的 css 加载外部 html

> ID：13620125
> 
> 赞同：0
> 
> 时间：2012-11-29T06:34:18.617
> 
> 标签：php, html

我被要求查看现有网站。现在的工作方式是，他们有一个主根 html 文件，其中包含多个 iframe 链接到外部 html。现在他们想弄清楚 Iframe 是否还有其他替代方案，因为它会减慢他们的页面速度。

所以我已经使用 php 包含和 jquery .load 函数进行了测试。它有点工作，但我必须深入挖掘每个页面并从根文件夹设置到 images/css/js 的路径。更糟糕的是，一些 css 相互重叠。有没有办法加载外部 html，但保留自己独特的 css 文件？

使用 iframe 的原始代码。我需要用替代品替换 iframe：

```
<div class = "container" style = "margin-top: 2%;">
            <iframe src="home-slide/index.html" height="100%" width="100%" allowtransparency="yes" scrolling="no" frameborder="0" name="info">
</div> 
```

我希望这是有道理的。不确定之前是否有人问过这个问题，但我不确定要输入什么关键字。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-13T11:57:44.613

不，这是不可能的。样式表作为一个整体应用于浏览上下文，即整个框架，或作为整个窗口的“超框架”。因此，分离具有冲突样式表的内容块的唯一方法是使用框架机制。

你的问题归结为*“我被要求在墙上钉钉子，但我不能用锤子，也不能用钉子”*。如果您有有效的解决方案，请使用它。

# c# - 我如何将 web 方法传递给标签

> ID：13620127
> 
> 赞同：0
> 
> 时间：2012-11-29T06:34:24.820
> 
> 标签：c#, asp.net, web-services, web

`enter code here`我很难将 web 方法传递给标签。我也使用 sql 将信息传递给标签。你们能帮帮我吗？

这是我的网络方法。

```
 public string[] GetCPname(string cpname)
        {
            OleDbConnection conn = new OleDbConnection("Provider=Microsoft.Jet.OLEDB.4.0;Data Source= C:\\Temp\\StudentsDatabase.mdb");
            conn.Open();

            //Get the ID of the selected book.
            OleDbCommand cmd = new OleDbCommand("SELECT ID FROM Student where Name = @name", conn);
            cmd.Parameters.AddWithValue("@name", cpname);
            OleDbDataReader reader = cmd.ExecuteReader();
            reader.Read();
            int cpNameID = reader.GetInt32(0);

            //Get all the reviews with the Book_ID selected.
            cmd = new OleDbCommand("SELECT CPname FROM StudentInformation where ID = @id", conn);
            cmd.Parameters.AddWithValue("@id", cpNameID);
            reader = cmd.ExecuteReader();

            ArrayList result = new ArrayList();

            while (reader.Read())
            {
                result.Add(reader.GetString(0));
            }
            // Disconnect from DB
            reader.Close();
            conn.Close();
            // Convert ArrayList to string array and return
            return result.ToArray(typeof(string)) as string[];
        }

 This is my coding to pass to the label.

 protected void retrievecpname(string CP)
        {

            StudentsWSRef.StudentsWS ws = new StudentsWSRef.StudentsWS();
            string[] x = ws.GetStudentNames();
            lblcpName.Text = CP;

        } 
```

我对这段代码有疑问，因为它仍然没有将信息传递给标签。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T11:20:21.037

Please make sure the Question is full or not?? In this method retrievecpname you are simply call the WebService Method, adn Set Some Cp variable to Label. I couldn't get what you are trying to say. GetCPname returns the String[], to change the text of Label we have to just assign some string to .Text property.

# objective-c - “阻塞”主线程（dispatch_get_main_queue()）和（或不）定期运行 currentRunLoop - 有什么区别？

> ID：13620128
> 
> 赞同：3
> 
> 时间：2012-11-29T06:34:28.847
> 
> 标签：objective-c, ios, queue, semaphore, nsrunloop

我有以下代码：

```
- (void)test_with_running_runLoop {
    dispatch_semaphore_t semaphore = dispatch_semaphore_create(0);

    NSTimeInterval checkEveryInterval = 0.05;

    NSLog(@"Is main queue? : %d", dispatch_get_current_queue() == dispatch_get_main_queue());

    dispatch_async(dispatch_get_main_queue(), ^{
        sleep(1);
        NSLog(@"I will reach here, because currentRunLoop is run");
        dispatch_semaphore_signal(semaphore);
    });

    while (dispatch_semaphore_wait(semaphore, DISPATCH_TIME_NOW))
        [[NSRunLoop currentRunLoop] runMode:NSDefaultRunLoopMode beforeDate:[NSDate dateWithTimeIntervalSinceNow:checkEveryInterval]];

    NSLog(@"I will see this, after dispatch_semaphore_signal is called");
}

- (void)test_without_running_runLoop {
    dispatch_semaphore_t semaphore = dispatch_semaphore_create(0);

    NSLog(@"Is main queue? : %d", dispatch_get_current_queue() == dispatch_get_main_queue());

    dispatch_async(dispatch_get_main_queue(), ^{
        sleep(1);
        NSLog(@"I will not reach here, because currentRunLoop is not run");
        dispatch_semaphore_signal(semaphore);
    });

    NSLog(@"I will just hang here...");
    while (dispatch_semaphore_wait(semaphore, DISPATCH_TIME_NOW));

    NSLog(@"I will see this, after dispatch_semaphore_signal is called");
} 
```

产生以下内容：

```
Starting CurrentTests/test_with_running_runLoop
2012-11-29 08:14:29.781 Tests[31139:1a603] Is main queue? : 1
2012-11-29 08:14:30.784 Tests[31139:1a603] I will reach here, because currentRunLoop is run
2012-11-29 08:14:30.791 Tests[31139:1a603] I will see this, after dispatch_semaphore_signal is called
OK (1.011s)

Starting CurrentTests/test_without_running_runLoop
2012-11-29 08:14:30.792 Tests[31139:1a603] Is main queue? : 1
2012-11-29 08:14:30.797 Tests[31139:1a603] I will just hang here... 
```

我的问题是相互关联的：

1.  如果我理解正确，主队列 (dispatch_get_main_queue()) 是一个串行队列。我用 dispatch_semaphore_wait 阻塞了主队列/主线程，那么为什么我会在第一个测试用例中看到*“我会到达这里，因为 currentRunLoop 正在运行”* （我对第二种情况很好 - 据我了解，确实如此，它应该是什么）？

2.  *在当前执行任务被阻塞的情况下，串行*队列如何在当前任务解锁之前调度下一个任务（哦，这个神秘的 runLoop:beforeDate:)？

我想听听*详细*而*全面*的答案，因为非常非常多的事情（这里也是如此）取决于这个问题！

**更新：**除了接受的答案之外，这个 SO 主题对这个问题有很好的回答：[Pattern for unit testing async queue that calls main queue on completion](https://stackoverflow.com/questions/7817605/pattern-for-unit-testing-async-queue-that-calls-main-queue-on-completion)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-29T07:00:13.920

因为主线程上的默认 runloop 具有特殊行为，即在运行时，它还为主调度队列进行处理。在这种情况下，您实际上并没有阻塞，因为您要`dispatch_semaphore_wait`立即超时，它正在执行此操作（返回非零，它的计算结果`if`为真）-因此您运行 while 循环，在其中驱动当前运行循环，因此您的排队块被执行。

But my answer is broad because I'm not sure what part you're surprised by.

# android - TelephonyManager.CALL_STATE_IDLE 多次调用

> ID：13620134
> 
> 赞同：2
> 
> 时间：2012-11-29T06:34:57.917
> 
> 标签：android, broadcastreceiver, phone-call, phone-state-listener

我有一个班级，一个电话状态的听众。在此，当此线路的通话断开时，

```
case TelephonyManager.CALL_STATE_IDLE:
Log.e(TAG, "CALL_STATE_IDLE");
break; 
```

执行不止一次。这严重影响了我的要求。如果有人知道这个问题，请帮助我。

提前致谢

```
 public class IncomingCallListener extends BroadcastReceiver
        {
            private Context mContext;
            private static final String TAG = "CustomBroadcastReceiver";
        @Override
        public void onReceive(Context context, Intent intent) 
        {
            mContext = context;
            TelephonyManager telephony = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);
            CustomPhoneStateListener customPhoneListener = new   CustomPhoneStateListener();
            telephony.listen(customPhoneListener,   PhoneStateListener.LISTEN_CALL_STATE);
            Bundle bundle = intent.getExtras();
            String phoneNr= bundle.getString("incoming_number");

        }
        public class CustomPhoneStateListener extends PhoneStateListener
            {
                private static final String TAG = "CustomPhoneStateListener";

                @Override
                public void onCallStateChanged(int state, String incomingNumber) 
                {
                switch (state) 
                {
                    case TelephonyManager.CALL_STATE_RINGING:
                        if(!incomingNumber.equalsIgnoreCase(""))
                        {
                            Log.e(TAG, "CALL_STATE_RINGING");
                        }
                        break;
                case TelephonyManager.CALL_STATE_OFFHOOK:
                    Log.e(TAG, "CALL_STATE_OFFHOOK");
                    break;
                case TelephonyManager.CALL_STATE_IDLE:
                    Log.e(TAG, "CALL_STATE_IDLE");
                    break;
                default:
                    break;
                }
                super.onCallStateChanged(state, incomingNumber);
            }
        }       
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T06:40:40.303

将您的代码更改为：

```
public class IncomingCallListener extends BroadcastReceiver
        {
            private Context mContext;

            private static final String TAG = "CustomBroadcastReceiver";
        @Override
        public void onReceive(Context context, Intent intent) 
        {
            mContext = context;
            Bundle extras = intent.getExtras();
            if (extras != null) {
            String state = extras.getString(TelephonyManager.EXTRA_STATE);
            Log.w("DEBUG", state);
            if (state.equals(TelephonyManager.EXTRA_STATE_RINGING))
            {
                TelephonyManager telephony = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);
                CustomPhoneStateListener customPhoneListener = new   CustomPhoneStateListener();
                telephony.listen(customPhoneListener,   PhoneStateListener.LISTEN_CALL_STATE);
                Bundle bundle = intent.getExtras();
                String phoneNr= bundle.getString("incoming_number");
            }
            else{
                        if (state.equals(TelephonyManager.EXTRA_STATE_RINGING))
                            {
                               // DO SOME CODE HERE...
                            }
                        else{
                        if (state.equals(TelephonyManager.CALL_STATE_OFFHOOK))
                            {
                               // DO SOME CODE HERE...
                            }                          
                        }
            }
        }

     }
//YOUR CODE HERE... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T04:25:56.973

我改变了一点......这是工作代码......

```
public class IncomingCallListener extends BroadcastReceiver
    {
        private Context mContext;
        private static final String TAG = "CustomBroadcastReceiver";
         TelephonyManager telephony;
         CustomPhoneStateListener customPhoneListener ;
        @Override
        public void onReceive(Context context, Intent intent) 
        {
            mContext = context;
            Bundle extras = intent.getExtras();
            if (extras != null) {
                String state = extras.getString(TelephonyManager.EXTRA_STATE);
                Log.w("DEBUG", state);

                    telephony = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);
                    customPhoneListener = new   CustomPhoneStateListener();
                    telephony.listen(customPhoneListener,   PhoneStateListener.LISTEN_CALL_STATE);
                    Bundle bundle = intent.getExtras();
                    String phoneNr= bundle.getString("incoming_number");

            }

        }
        public class CustomPhoneStateListener extends PhoneStateListener
        {
            private static final String TAG = "CustomPhoneStateListener";
            Handler handler=new Handler();
            @Override
            public void onCallStateChanged(int state, String incomingNumber) 
            {
                switch (state) 
                {
                case TelephonyManager.CALL_STATE_RINGING:
                    if(!incomingNumber.equalsIgnoreCase(""))
                    {
                        //YOUR CODE HERE

                    }
                    break;
                case TelephonyManager.CALL_STATE_OFFHOOK:
                    //YOUR CODE HERE

                    break;
                case TelephonyManager.CALL_STATE_IDLE:
                    //YOUR CODE HERE
                    break;
                default:
                    break;
                }
                super.onCallStateChanged(state, incomingNumber);
                telephony.listen(customPhoneListener, PhoneStateListener.LISTEN_NONE);
            }

        }       
    } 
```

# blackberry - 如何使用数据报连接在黑莓中获取完整的消息内容？

> ID：13620136
> 
> 赞同：1
> 
> 时间：2012-11-29T06:35:21.957
> 
> 标签：blackberry, datagram

我的应用程序使用数据报连接来接收 SMS。如果 SMS 超过 160 个字符，则将其拆分为两条或更多条消息。

有没有办法在一条消息中获取 SMS 的内容？

# objective-c - NSTimer 在不同的功能中使用时不起作用

> ID：13620140
> 
> 赞同：0
> 
> 时间：2012-11-29T06:35:40.210
> 
> 标签：objective-c, nstimer, nsoperation

当我像这样使用它时，ns 计时器可以工作，即它同时调用 foo1 和 foo1

```
-(void)register1
{
    NSRunLoop * runLoop = [NSRunLoop currentRunLoop];
    [runLoop addTimer:[NSTimer scheduledTimerWithTimeInterval:10 target:self selector:@selector(foo) userInfo:nil repeats:YES] forMode:NSDefaultRunLoopMode];
     [runLoop addTimer:[NSTimer scheduledTimerWithTimeInterval:5 target:self selector:@selector(foo2) userInfo:nil repeats:YES] forMode:NSDefaultRunLoopMode];
    [runLoop run];
} 
```

但我的要求是我必须在不同的函数中使用 nstimer，以便我可以创建两者的 nsoperation。下面的代码只调用第一个函数。即，当我从 main 调用 register1 和 register2 时，只注册了一个计时器。最上面的一个

```
-(void)register1
{
    NSRunLoop * runLoop = [NSRunLoop currentRunLoop];
    [runLoop addTimer:[NSTimer scheduledTimerWithTimeInterval:10 target:self selector:@selector(foo) userInfo:nil repeats:YES] forMode:NSDefaultRunLoopMode];

    [runLoop run];
}
-(void)register2
{

    NSRunLoop * runLoop = [NSRunLoop currentRunLoop];
    [runLoop addTimer:[NSTimer scheduledTimerWithTimeInterval:5 target:self selector:@selector(foo2) userInfo:nil repeats:YES] forMode:NSDefaultRunLoopMode];
    [runLoop run];
} 
```

我找到了我的问题的答案，我想我也应该告诉其他人。解决方案是我必须为每个函数使用不同的线程。我以这种方式在 main 中使用了 nsoperation

```
abc *ab=[[abc alloc]init];
//[ab register1];
  //  [ab register2];

    NSOperationQueue *queue=[[NSOperationQueue alloc]init];
    NSInvocationOperation *abc=[[NSInvocationOperation alloc]initWithTarget:ab selector:@selector(register1) object:(nil)];
    NSInvocationOperation *abc2=[[NSInvocationOperation alloc]initWithTarget:ab selector:@selector(register2) object:(nil)];
   [queue addOperation:abc];
    [queue addOperation:abc2]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:54:20.260

1.  `-[NSRunLoop addTimer:forMode:]`使用时不要打电话`+[NSTimer scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:]`- 这是多余的。名称的*预定*部分说明了一切：它正在为您创建一个已经在当前运行循环上安排好的计时器。
2.  不要打电话`-[NSRunLoop run]`，一般。它无限期地运行runloop。它基本上永远不会回来。所以你的第二个函数实际上并没有被调用，因为你永远不会从你的第一个函数返回。您可以通过在不同位置插入 NSLog 语句或在调试器中单步执行您的代码来简单地确认这一点。

如果您发布更多代码 - 特别是您的 main() 函数 - 那么我们可以为您提供进一步的答案。通常，您只想从 main() 调用 -[NSRunLoop run]（或其变体）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:24:10.680

你可以像这样得到NSTimer的点地址

NSTimer NSTimer * aTimer = [NSTimer scheduledTimerWithTimeInterval:10 target:self 选择器:@selector(foo) userInfo:nil repeats:YES] forMode:NSDefaultRunLoopMode];

并将其用于另一种方法。

# windows-phone-7 - 在 windows phone 8 中实现多点触控和捏合和缩放

> ID：13620142
> 
> 赞同：3
> 
> 时间：2012-11-29T06:35:57.973
> 
> 标签：windows-phone-7, windows-phone-8

我如何在 windows phone 8 中实现捏缩放和多点触控功能。在我的应用程序中，我在网格中添加了 3 个图像容器，我需要对我的图像执行上述操作。请任何人帮助我在我的应用程序中实现该功能。提前致谢。

斯特兹

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:39:37.800

从 codeplex 尝试以下库：

[https://multitouch.codeplex.com/](https://multitouch.codeplex.com/)

它执行缩放/旋转图像时所需的计算。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T08:39:41.427

我的适用于 WP7.5 和 WP8 的解决方案：

XAML 代码

```
<StackPanel  x:Name="Scroll" Margin="0">
                    <Image  CacheMode="BitmapCache" Name="FrontCover"   Source="{Binding FullCover}"  >
                        <Image.RenderTransform>
                            <CompositeTransform x:Name="transform" ScaleX="1" ScaleY="1"  />
                        </Image.RenderTransform>
                        <toolkit:GestureService.GestureListener>
                            <toolkit:GestureListener   PinchDelta="OnPinchDelta" PinchStarted="OnPinchStarted" DragDelta="OnDragDelta"  />
                        </toolkit:GestureService.GestureListener>
                    </Image>
            </StackPanel> 
```

```
 double initialScale;

    private void OnPinchStarted(object sender, PinchStartedGestureEventArgs e)
    {
        initialScale = transform.ScaleX;
    }

    private void OnPinchDelta(object sender, PinchGestureEventArgs e)
    {
        var curZoom = initialScale * e.DistanceRatio;
        if (curZoom >= 1 && curZoom <= 3)
        {
            transform.ScaleX = curZoom;
            transform.ScaleY = curZoom;

        }
    }

    private void OnDragDelta(object sender, DragDeltaGestureEventArgs e)
    {
        transform.CenterX = (transform.CenterX - e.HorizontalChange);
        transform.CenterY = (transform.CenterY - e.VerticalChange);

        if (transform.CenterX < 0)
            transform.CenterX = 0;
        else if ( transform.CenterX > Scroll.ActualWidth)
            transform.CenterX = Scroll.ActualWidth;
        else if (transform.CenterX > (FrontCover.Height * transform.ScaleX))
            transform.CenterX = FrontCover.Height * transform.ScaleX;

        if (transform.CenterY < 0)
            transform.CenterY = 0;
        else if (transform.CenterY > Scroll.ActualHeight)
            transform.CenterY = Scroll.ActualHeight;
        else if (transform.CenterY > (FrontCover.Height * transform.ScaleY))
            transform.CenterY = FrontCover.Height * transform.ScaleY;

    } 
```

认为它应该帮助别人

# javascript - 添加一个css类到 错误条件为 TRUE 时的标记

> ID：13620147
> 
> 赞同：-1
> 
> 时间：2012-11-29T06:36:18.033
> 
> 标签：javascript, jquery, wordpress, addclass

设置错误条件，以便在条件为真时添加一个 css 类。

例如，当条件为 FALSE`<p></p>`时什么都不做，如果为 TRUE 添加一个类。`<p class="error"></p>`.

这是我用来添加调用的 jquery，但它不起作用。

[http://jsfiddle.net/hookedonweb/7XhGC/1/](http://jsfiddle.net/hookedonweb/7XhGC/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:16:33.437

此示例获取所有 p 标记的数组，并为每个带有空 innerHTML 的标记设置类（如果您不想替换现有类，您可能需要 getAttribute 并将新字符串连接到旧的第一个）还有旧版本的 IE可以使用类名

```
var ptags=document.getElementsByTagName("p")
for(var i=0;i<ptags.length;i++)
    if(ptags[i].innerHTML=="")
        ptags[i].setAttribute("class", "myClass") 
```

# c# - 如何使用 html5 将标签应用于视频中的特定时间

> ID：13620150
> 
> 赞同：1
> 
> 时间：2012-11-29T06:36:35.830
> 
> 标签：c#, html, video, tagging, timelapse

任何人都可以帮助我如何根据时间流逝在视频上应用标签。例如，用户只需单击视频上的特定时间段并在其上添加标签。稍后通过单击标签，用户将重定向到该时间范围。在 youtube 视频中很简单，但我想在 Html5`<video>`标签中应用它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-16T19:11:39.800

HTML5 元素中没有任何东西可以自动执行此操作，但是您可以做的是，当您创建书签时，您会记下 currentTime 属性并将其存储为链接的一部分（例如[http://example.com/ myvideo.mp4?time=55](http://example.com/myvideo.mp4?time=55)）然后当用户单击链接时，您的页面会检查是否有时间参数，并且在播放视频之前将 currentTime 设置为适当的值

# c# - 过滤 XML 元素并编辑它们的值，ASP.NET

> ID：13620153
> 
> 赞同：-2
> 
> 时间：2012-11-29T06:36:39.860
> 
> 标签：c#, asp.net, xml

我想通过 QueryString 根据 id xmlelement 值过滤我的代码，但它似乎不起作用！！！

```
XmlDocument xdoc = new XmlDocument();
xdoc.Load(filepath);

XmlNode root = xdoc.DocumentElement;
XmlNode idNode = root.SelectSingleNode("/students/student/id");

           if (idNode.Value == null){create a new xml node}
else if (idNode.Value != null) {update the xml element with the value of id) 
```

我试图解释它的问题，这是链接...

[https://stackoverflow.com/questions/13607387/edit-xml-elements-of-a-specific-node-based-on-its-id-element-asp-net-page](https://stackoverflow.com/questions/13607387/edit-xml-elements-of-a-specific-node-based-on-its-id-element-asp-net-page)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:50:52.570

如果我理解正确，您想添加学生元素，如果没有指定 id 的学生（并且可能向学生节点添加一些数据）。这是 Linq to xml 解决方案：

```
int id = 2;
XDocument xdoc = XDocument.Load(filepath);
XElement student = xdoc.Descendants("student")
        .Where(s => (int)s.Element("id") == id)
        .SingleOrDefault();

if (student == null)
{
    student = new XElement("student",
                        new XElement("id", id),
                        new XElement("first_name"),
                        new XElement("last_name")); // add other elements here
    xdoc.Root.Add(student);
}

student.Element("first_name").Value = TextBox_firstname.Text;
student.Element("last_name").Value = TextBox_lastname.Text;
// set other values here          

xdoc.Save(filepath); 
```

# gcc - gcc 静态库链接问题

> ID：13620155
> 
> 赞同：0
> 
> 时间：2012-11-29T06:36:40.580
> 
> 标签：gcc, static, hyperlink

libx.a 只有一个函数 x() 什么都不做。
liby.a 有两个函数，y() 什么都不做，yx() 调用 libx.a 的 x()。
然后，我有一个 main.c，在函数 main() 中我调用 liby.a 的 y()。当我做链接工作时，我必须添加 libx.a，否则 gcc 将给出错误提示：未定义的对 'x' 的引用。但我只是使用与 libx.a 无关的 y()。
在我的情况下，无论如何让 gcc 忽略 libx.a 吗？或者换句话说，gcc 只能在真正需要 libx.a 时才需要 libx.a 吗？

libpthread.a 和 libmysqlclient.a 可以做到。我有一个使用 libpthread 和 libmysqlclient 的 libm.a。我写了一个main.c，它只调用libm.a中的一个空函数，gcc在链接时不会请求libpthread.a和libmysqlclient.a。libpthread/libmysqlclient 和我的 liby.a 有什么区别？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:39:57.270

> 当真正需要 libx.a 时，gcc 可以只要求 libx.a 吗？

是的。事实上，它只在真正需要时才需要它。***在这种情况下，确实需要它。***

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:07:11.200

几分钟前我从另一个 bbs 得到了答案：我们应该在两个单独的源文件中实现 y() 和 yx()，例如 yc 中的 y() 和 yx.c 中的 yx()。完成此操作后，gcc 将不再需要 libx.a！

我测试了一下，是真的！

# javascript - Javascript函数的问题

> ID：13620156
> 
> 赞同：4
> 
> 时间：2012-11-29T06:36:44.837
> 
> 标签：javascript

我正在尝试编写一个函数，该函数将通过随着时间的推移调整元素的“左”样式来移动元素。它目前根本无法以目前的形式工作。

```
    变量选项卡；
    变量选项卡；

    函数初始化（）{
        tab = document.getElementById("tab");
        tabPos = 10.8;
        tab.style.left = tabPos + '%';
    }

    函数 moveOver( ) {
        如果 (tabPos < 15.8)
            {
                setTimeout(函数 moveOver(), 100;
                选项卡位置 = 选项卡位置 + 0.1；
                tab.style.left = tabPos + '%';
            }
        否则如果 (tabPos > 15.8)
            {
                setTimeout(函数 moveOver(), 100;
                tabPos = tabPos - 0.1;
                tab.style.left = tabPos + '%';
            }
     }

```

init 函数成功设置了元素的初始位置，但我将 moveOver 函数添加到不再设置元素位置的代码中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:41:59.640

函数调用的括号`setTimeout`未闭合：

```
function moveOver( ) {
    if (tabPos < 15.8)
        {
            setTimeout(function moveOver( ), 100;
            tabPos = tabPos + 0.1;
            tab.style.left = tabPos + '%');  // <----
        }
    else if (tabPos > 15.8)
        {
            setTimeout(function moveOver( ), 100;
            tabPos = tabPos - 0.1;
            tab.style.left = tabPos + '%'); // <----
        }

 } 
```

您*应该*会看到浏览器报告的 JavaScript 错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:42:33.513

更改`setTimeout(function moveOver( ), 100;`为`setTimeout(moveOver, 100);`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T06:43:44.560

更改行：

```
setTimeout(function moveOver( ), 100; 
```

至

```
setTimeout(moveOver, 100); 
```

* * *

`function moveOver( )`不是有效的 JavaScript 语法。此外，您的括号（或括号）不匹配。因为您有语法错误，所以您的代码将无法工作。

对于`setTimeout`，您应该将函数作为第一个参数传递，因此`mouseOver`or`function(){mouseOver();}`将起作用。

* * *

你的脚本的另一个问题......是你会看到元素不断地跳跃。

你有两个条件：`tabpos < 15.8`和`tabpos > 15.8`。执行不进入两个 if 块中的任何一个的条件是`tabpos == 15.8`... 但 JavaScript`Number`实际上是一个浮点数。由于精度误差，`15.8 == 15.7 + 0.1`会导致`false`，这表明与`15.8`不完全相同`15.7 + 0.1`。实际上，`15.7 + 0.1`大约*等于*`15.799999999999999`...

所以我建议你使用一个整数值`tabPos`，例如，并且仅在设置样式时`158`将其除以。`10`

* * *

您的代码的可能结果：

```
var tab;
var tabPos;

function init() {
    tab = document.getElementById("tab");
    tabPos = 108;
    tab.style.left = tabPos / 10 + '%';
}

function moveOver( ) {
    if (tabPos < 158)
        {
            setTimeout(moveOver, 100);
            tabPos = tabPos + 1;
            tab.style.left = tabPos / 10 + '%';
        }
    else if (tabPos > 158)
        {
            setTimeout(moveOver, 100);
            tabPos = tabPos - 1;
            tab.style.left = tabPos / 10 + '%';
        }
 } 
```

# matlab - 如何绘制随机矩阵的直方图以及如何知道什么不会。使用 hist 命令的垃圾箱？

> ID：13620158
> 
> 赞同：0
> 
> 时间：2012-11-29T06:36:49.667
> 
> 标签：matlab, octave

我有一个大小为 1x1000 的矩阵。如何绘制此随机数据的直方图。我无法应用`hist`命令，因为它不需要。箱。如何决定不。当输出是这个矩阵时的 bins。它的直方图和pdf的性质是什么。

```
m_SIR_SU =

  Columns 1 through 12

    3.1143   12.8266  -10.4597   20.8193    1.2036   22.1917   16.6404   -2.1747   14.7870   -0.1750   17.9230   21.6503

  Columns 13 through 24

   22.6298    8.8368   -7.5701   -9.1480   24.8008   25.2241    5.1497   10.1364   20.6523   13.5170   24.3638   22.8368

  Columns 25 through 36

   -4.0256    3.4712   24.8473   20.3856    9.8586    7.9472    3.6841   22.6547    9.5229   23.6298    1.7185   -2.3464

  Columns 37 through 48

   18.2688    6.2398   15.1851   12.0138   16.8261    5.0790   17.2463   12.8158   13.5059    3.3817   19.7647  -10.6391

  Columns 49 through 60

   23.0559    7.2573   19.7791    9.7403   22.3583   21.8934    9.8713   12.7451    7.4452   17.5498   12.4172   -4.9624

  Columns 61 through 72

  -15.2914   15.8457   12.4343   19.4865  -10.8145   22.3592   -5.7041    3.0798   13.9808   23.8388   18.1387   21.8099

  Columns 73 through 84

    1.4490   20.8895   12.9483   11.8998   -6.2724    8.1395    6.6716   24.6358   -1.0938   24.5365   12.4058   -2.0318

  Columns 85 through 96

  -10.0411   -1.5261   23.0585   -7.3129   12.1013   19.7631   21.9379    6.5803   15.3412   23.0485  -19.7686   14.6987

  Columns 97 through 108

    4.8440   14.0121    0.2701   19.5125   10.9891   19.9954   21.8048   24.3611    4.8377   15.3876   -3.7644   18.6335

  Columns 109 through 120

   -8.2429   14.1494   16.2510   19.8763   -4.2530   22.2335   15.6233   13.4121  -14.3926   19.9585   18.9019   17.9961

  Columns 121 through 132

    9.9310   22.5066   20.8492   20.7201    3.7406   -1.1431   19.6511   13.4896   22.0894   -7.2231   18.3995    4.5214

  Columns 133 through 144

   -1.2212   17.7128   16.9634   19.0148    2.1982   20.5636   22.8517   19.1908   21.9122   19.5032   12.9961   18.5094

  Columns 145 through 156

   13.9744   18.4371   -4.1708   15.9433   19.2935   18.6221    3.4737    8.6776   17.9156    5.9932    2.8915   24.7065

  Columns 157 through 168

   -3.5831   17.9418   16.0072    2.6069   20.2114   23.3133   20.8495    9.8424   14.4864   24.0575   13.1039   23.5231

  Columns 169 through 180

   -1.1074   -9.5503   12.8528   18.4714    3.6147    9.4028    8.2549  -29.1474   18.5855   -1.9708   14.4915   10.0668

  Columns 181 through 192

    9.1886   18.4410   12.5856    5.3606   24.3115   -3.1107    4.7734   16.4518  -11.5257   12.7726   10.3782   24.1398

  Columns 193 through 204

   16.5187   -3.6252   18.5054    7.7256    7.7233   16.9101    4.0459  -11.3605   21.8611   15.2621   14.5121   15.3325

  Columns 205 through 216

    7.9852   22.8393  -10.4399   -3.8988   22.6575   13.4566   -3.7922   -3.0905   10.5690   -0.4155    0.7602   12.1940

  Columns 217 through 228

   16.3045   22.2269  -13.0022   19.6432   13.7388   23.3205   14.3952   12.3955   16.0980    4.5279  -13.1766    9.4957

  Columns 229 through 240

   -2.4867   18.6075   -0.2416   14.8591   -3.8525   22.5614   -3.9405  -15.7647  -17.7263   22.5830   19.4998   16.8518

  Columns 241 through 252

   24.4494    7.2578   23.2791   19.2177   21.6955   16.0310   22.3782   13.3570    6.8531    5.9008   -9.9231   19.8152

  Columns 253 through 264

   10.4352   12.3101  -19.7597   -4.8294    4.9557   -4.5681   18.3188   20.5055   17.1743   19.0657   21.2414    8.5090

  Columns 265 through 276

  -13.9360   12.5057   24.7137   16.6343   18.1940    3.2008   12.2830    9.7005   23.8997    3.2054  -18.2804   23.5466

  Columns 277 through 288

    4.6165  -12.0288   14.5694   -6.8659   16.3960    8.1170    7.6458   12.7286   11.9851    7.3085   16.3672    9.7813

  Columns 289 through 300

   20.7130    8.9363   21.6058   -7.7229   24.9194   14.1539   13.1019   17.6225   -1.0509   22.5234    9.3373   15.0910

  Columns 301 through 312

   12.4383    8.7756    9.5229   -1.2958    8.7990   -1.1887   13.1662   24.3292    5.9338   17.8945   10.3812   12.0542

  Columns 313 through 324

   -2.1154   -4.4908   22.5672   23.8202   23.2760    9.8215    4.7731   -7.4138  -10.1916    9.7824    4.7400   24.0828

  Columns 325 through 336

    6.4175    3.1476    7.1783   14.4256    3.8791   22.4789    6.1857   22.2562    2.1091   24.5908   19.1568   -3.7121

  Columns 337 through 348

   23.0053   20.2116   13.5992   24.2402   19.0291   13.1637   20.2883   20.6765   -3.3210   19.7126   22.5609   22.3013

  Columns 349 through 360

   21.8918   17.1509   -5.8178   14.1786   19.3950   21.9774  -14.6555   -1.5641   10.7374   -0.5795   18.7736   23.4023

  Columns 361 through 372

   21.2085   11.4272   13.2664   23.3330   -4.5078    4.6153   16.4786   14.2271   22.9317   16.3172    3.5742   18.0425

  Columns 373 through 384

   21.0778   10.2545   24.3502   23.8587  -19.4650   -6.0176   16.2508    9.2197  -47.8908    8.2188   17.2284   20.0619

  Columns 385 through 396

   22.3382   14.3910   21.5147  -16.6395    9.1265   14.4265   16.4529   19.2864  -30.7454   23.7049   -4.7053   17.1816

  Columns 397 through 408

   20.9988    3.0436   -5.7028   -3.2404   16.6604   20.0256   -4.5528   22.2362   21.5977   23.7955   11.6178   19.8688

  Columns 409 through 420

   20.2853   17.5979    8.0503   20.5221    9.9057  -12.3146   13.0926   14.1138    0.5834   -9.2024   15.4738   22.5113

  Columns 421 through 432

   15.4683   19.6569   11.8542   17.9246   11.0744   13.8646   23.4753   -1.1463   20.1015    6.2268   10.0964   -8.5307

  Columns 433 through 444

   17.3651  -13.2540    2.1768   18.9061   21.5442   23.9051   19.5728   11.5393   14.7571   13.6199    7.2314  -10.9265

  Columns 445 through 456

   23.4076   20.7657  -11.2402    6.0154   -2.1196    5.7117   -0.0119   15.1974   24.0591   15.5617   12.7281   11.9834

  Columns 457 through 468

   16.6351  -22.2521  -14.2090   10.3872  -32.4577   24.3754  -20.1414   22.6486   12.5268   23.7598   16.4683   25.1559

  Columns 469 through 480

    7.0257   14.9243  -10.5469   16.7565    8.2584   21.1107   18.9832   23.0607    3.5011   21.1802   12.7810   21.0219

  Columns 481 through 492

   -9.6787   23.7891   -3.1141   16.1979   20.8157   11.2932    8.0996   19.9793   12.8104   10.9255   -5.7119   20.0756

  Columns 493 through 504

   19.7699   15.0674   21.6674    5.6487   10.3777   15.0335   24.1197   18.8044    3.3881   10.7781    4.0454    5.1816

  Columns 505 through 516

   21.1144   10.5409   13.4258    4.1279   21.8084   17.4903    7.9033   18.1242   13.6821    7.8551   14.6067    3.1478

  Columns 517 through 528

   10.0707    8.6723   16.2126   14.4863   12.1799   22.6394   20.5864   -4.5133   19.7107   17.3046   18.1358  -17.3852

  Columns 529 through 540

    6.0937    2.3090   -0.2220    1.5995    6.1170    9.6396   -2.9612    6.6696   15.8229   19.6982    3.4762   21.1814

  Columns 541 through 552

   -5.0250   23.6460   25.8105    1.7277   11.6052   17.6773   -7.2448    7.2158   17.0813   21.8725  -11.4134    6.8135

  Columns 553 through 564

    2.3845   22.3122   16.1726  -11.8366    7.4094  -18.3545   16.8456   17.7031   -1.0107  -12.2803   12.4227   18.4426

  Columns 565 through 576

   21.1181   16.4937   19.0667    6.1154   -7.5398  -17.0356   11.0205   19.4845   17.3708   12.6848   21.3559   25.2790

  Columns 577 through 588

   24.4583   -3.0867   -0.5439   11.7985   22.1316   22.9560    3.9956   20.1440   11.5224    5.1242   -7.0063   12.3645

  Columns 589 through 600

   10.7339   20.2418    4.4879   11.9179   -1.6820   19.5576    4.4135   12.6833   14.0107   19.0557   16.7520   13.7658

  Columns 601 through 612

   22.2472   24.0167    6.5646   15.9701   -5.6276   23.2256   -1.5661   17.9403  -19.5608    5.8429   20.4147   12.9571

  Columns 613 through 624

   13.1610   13.9334   -7.9791   13.2914   23.3541   -2.3087   22.6658   11.8415   15.6788   11.8079   11.6546    4.1837

  Columns 625 through 636

    0.5525   14.1287    4.5229   11.1840   19.0459    8.6573    3.1802    7.9893    6.4692   10.5290   -1.9341   24.7597

  Columns 637 through 648

   14.8639    3.2738   10.8049   23.9817   -5.8366   24.3834   13.4359    4.2490   21.9847   -9.1489    7.9476   20.2561

  Columns 649 through 660

   15.0094   21.3259    9.2039   -1.6139   23.1399   -1.2675    9.0426   16.8943   13.0709   16.4847    6.6746   20.4594

  Columns 661 through 672

   24.8421   -1.4786   10.6748   17.2364    8.7116   21.1113   23.7438   18.6245   21.8692    0.0460   14.5536   22.4841

  Columns 673 through 684

   21.7918  -10.6537   11.2333    4.5613   10.5894  -24.0947   10.3594   10.2981   22.7324    2.5822   -2.4210   22.6202

  Columns 685 through 696

    3.2856   23.3656   16.8861    8.3809   24.7985   21.2383    1.3542    6.1350   21.7415   25.1190   20.3096    4.3156

  Columns 697 through 708

   22.2033   14.6346   12.6396    1.4612    7.2545   -8.3392    7.7333    8.3409   11.6267   -1.7724   19.2836   22.1828

  Columns 709 through 720

   12.3172    7.3262    0.8337   13.3511   11.7651   -6.4826   24.4986   20.4363   14.4714   19.6669   17.0340   20.7079

  Columns 721 through 732

    0.2035    0.1110   24.0248  -18.0660   11.0757    2.9405    2.9377  -20.2975   16.8046   10.5980   15.9038    3.8560

  Columns 733 through 744

   11.9366   15.9228   22.0819   16.9803    1.5006    9.5806  -12.6343   11.4400   19.4007   12.3847   17.6381   10.9586

  Columns 745 through 756

   20.5678   12.7918   -2.2205   10.1368   12.3443   20.9106   20.6848   17.6225   16.3257    3.1674    7.1777   17.0709

  Columns 757 through 768

  -13.1589   11.0551   -2.1184   23.3110   12.1927  -30.8428  -16.6259    8.6530    0.4595   21.4808   15.5965    4.4974

  Columns 769 through 780

    6.4492    4.7020   24.6517    8.3413    4.4613   22.3309   13.4146   25.0251    0.0619   17.4230  -12.5809    9.9662

  Columns 781 through 792

   17.4419    9.4654   15.6600   14.9352   13.1798    9.2061   -5.9166   16.5305   24.0777    9.4214   -3.8586   24.4610

  Columns 793 through 804

  -22.3023    4.0220    8.0413    4.5141   17.8212   21.8239    7.0066   19.2048    9.3079   12.4533  -11.2369  -22.1634

  Columns 805 through 816

   14.0394   -2.5475   17.8827   10.1856    3.1175   17.5539   23.0894   22.9427   10.6805   21.7780   10.4405   18.5549

  Columns 817 through 828

   23.4421    5.4531   10.5287   18.8985    2.5515   23.7638    4.4745   -9.4263   24.0055   -7.0340  -21.8509   13.6929

  Columns 829 through 840

   13.2776   13.4972   10.0714    2.8182   13.2393   -9.8101   18.7226   11.2005   12.0190   12.5419   13.4739   14.0413

  Columns 841 through 852

    2.2810    9.0674   18.1518  -24.6664   10.0668   19.7481    2.0905   11.6921   23.0575   14.1509   17.5971    1.9482

  Columns 853 through 864

   -5.9919   20.5882  -10.1625    3.9253    5.7599    9.7138   -3.0538   19.6938   16.8113   23.3448   21.8296    5.8226

  Columns 865 through 876

   17.6925  -16.2738   15.5973    1.1930   22.2721   11.4343   23.4930   20.2491   22.5872    0.8353   16.8785   16.8523

  Columns 877 through 888

    3.3807   23.7515    6.6763   23.3247    9.5512  -11.9353   20.2654    6.4631  -32.0256   19.1966    9.5994   24.1581

  Columns 889 through 900

    5.0054    7.7977    7.1539   -6.8754   12.1732  -13.8509    9.1757   12.4463   22.9073   21.5420   -5.8633   21.0112

  Columns 901 through 912

   13.2941   14.2776    9.4999   17.1849    8.4598    8.7673   17.1714    4.3529  -24.7716   15.9223   11.4322   14.3806

  Columns 913 through 924

   22.5852    6.6638   20.4638   22.3946   22.6033   -5.6090    7.9896  -10.6873   20.9147  -14.5063    1.0616   18.7306

  Columns 925 through 936

    7.0097   23.0482   10.9954   -2.8075   25.7660   20.7874    0.3680   21.4917   -6.6140    5.9869   21.0128    5.1931

  Columns 937 through 948

   23.4153   -6.8217   13.9697   24.4942   20.1318   18.4823   19.4630   -5.8234    6.1744   21.5543  -16.6184    2.0871

  Columns 949 through 960

    4.4450   -8.1314   22.0302   18.8161    5.2294   23.9193   12.0840   17.4780   17.6119    8.8761   -6.6852   23.2893

  Columns 961 through 972

   23.4560   14.9606    5.8889   22.9689   18.0416   19.9161   -4.6528  -26.2008   23.6307   23.0924    7.2145   -8.4485

  Columns 973 through 984

   21.3776    4.1225   -2.0679   12.3074    3.0664    4.2298   20.3053   13.4311   16.2094   24.3459   18.0053   21.0069

  Columns 985 through 996

    4.7273   -8.8592   24.4293   18.9754   -7.3654    7.7107   23.2117    8.2289   22.8241   19.7715   12.0123   11.1991

  Columns 997 through 1000

   14.5318    8.2633    8.3647   20.6225 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-13T19:59:07.997

您必须自己决定垃圾箱的数量。

```
[n x] = hist(x);
bar( x, n ); %plot
pdf = n/sum(n); 
```

看到相关的[这个问题](https://stackoverflow.com/questions/16527672/entropy-estimation-using-histogram-of-normal-data-vs-direct-formula-matlab/16529739#16529739)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:58:11.027

取决于你想要的粒度。我的直方图经验来自于进行照片分析和从图像生成颜色和亮度直方图 - 所以我通常有更多数据需要处理，而且我已经知道我的界限（上限和下限）。

对于 1000 点，100 个桶可能太多了，但 20-50 可能就可以了。因此，搜索最小值和最大值的数据，使用它为每个存储桶创建适当的边界，然后循环遍历数据，增加相关存储桶上的计数器。

就像是：

```
 class MyHistogram
    {
        int[] _histogram;

        public void MyHistogram(int bucketCount, double[] data)
        {
            double minValue = data[0];
            double maxValue = data[0];

            for(int i=0;i<data.Length;i++)
            {
                if (data[i] < minValue) minValue = data[i];
                if (data[i] > maxValue) maxValue = data[i];
            }

            double bucketSize = (maxValue - minValue) / bucketCount;
            _histogram = new int[bucketCount];

            for (int i = 0; i < data.Length; i++)
            {
                int bucket = (int)((data[i] - minValue) / bucketSize);
                _histogram[bucket]++;
            }
        }

        public int[] Histogram { get { return _histogram } }
    } 
```

# javascript - 创建 Cordova 2.2.0 插件

> ID：13620159
> 
> 赞同：1
> 
> 时间：2012-11-29T06:36:57.460
> 
> 标签：javascript, objective-c, cordova, phonegap-plugins

我一直想知道为什么我的旧插件在 cordova 2.2.0 中不起作用。我发现如何为插件制作 javascript 文件有一个新结构。我能够让它工作，但我有一个问题。

在我能做到这一点之前。

```
window.plugins.pluginName.functionName(\"%@\"); 
```

这将允许我`functionname`从目标 c 调用到 javascript。

这将如何应用于 2.2.0 版本的新格式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T04:06:55.317

window.plugins 对象已不复存在。在您的插件的 js 代码中，您需要做的是：

```
if (!window.plugins) {
    window.plugins = {};
}
if (!window.plugins.pluginName) {
    window.plugins.pluginName = new pluginName();
} 
```

然后它应该按照以前的方式运行，而无需更改其余代码。

# linux - 设置核心速度 - linux

> ID：13620165
> 
> 赞同：5
> 
> 时间：2012-11-29T06:37:15.503
> 
> 标签：linux, cpu-speed

```
Architecture:
**AMD** Opteron quad-core using 2 CPUs --- Numa system

Processor : x86_64 Operating System: GNU/Linux 
```

我试图在芯片的一个核心上将核心频率设置为 2.2GHz（即最大值）。另一个模具完全关闭。

```
sudo sh -c "echo 0 > /sys/devices/system/cpu/cpu1/online"
sudo sh -c "echo 0 > /sys/devices/system/cpu/cpu3/online"
sudo sh -c "echo 0 > /sys/devices/system/cpu/cpu5/online"
sudo sh -c "echo 0 > /sys/devices/system/cpu/cpu7/online" 
```

因此，只有核心，`0,2,4,6 are turned on`

我尝试将其更改为`governor`，`performance`但是当任何其他线程在其上运行时，它会改变其他内核的频率。例如：

```
if thread one runs on core 0: then its freq is 2.2GHz

when thread two starts to run on core 2: it gets it as 2.2GHz - Where as I am expecting it to work as 0.8GHz. 
```

有没有一种特殊的方法可以永久设置一个核心的频率。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T20:06:12.217

遵循@Lars 的回答。

这是完整的解决方案：

```
echo userspace > /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor

echo userspace > /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor

echo userspace > /sys/devices/system/cpu/cpu4/cpufreq/scaling_governor

echo userspace > /sys/devices/system/cpu/cpu6/cpufreq/scaling_governor 
```

`yum install cpufrequtils`或者`sudo aptitude install cpufrequtils`

然后，

```
sudo cpufreq-set -c 0 -f 2200Mhz

sudo cpufreq-set -c 2 -f 800Mhz

sudo cpufreq-set -c 4 -f 800Mhz

sudo cpufreq-set -c 6 -f 800Mhz 
```

让我知道我是否可以在这个问题上提供帮助。谢谢

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T09:23:54.023

您可以尝试将调速器设置为`userspace`（如果不包含内核，您可能需要重新编译内核），然后使用`scaling_setspeed`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-03T13:10:00.887

如果缺少“cpufreq-set”这个命令可能会起作用：

```
cpupower -c 0 frequency-set -f 800 
```

# c++ - 在 Visual Studio 2010 中安装 Open CV 2.43

> ID：13620175
> 
> 赞同：0
> 
> 时间：2012-11-29T06:38:19.510
> 
> 标签：c++, visual-studio-2010, opencv

请告诉我如何在 Visual Studio 2010 中安装 open cv 2.4.3。我用谷歌搜索了它，但在每个解决方案中我都需要使用 cmake。我不知道 cmake 是做什么的。

我的项目需要它。请告诉我该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T05:08:25.450

您需要从这里下载 exe 文件 OpenCV-2.4.3.exe (263.7 MB) - [http://sourceforge.net/projects/opencvlibrary/files/opencv-win/2.4.3/](http://sourceforge.net/projects/opencvlibrary/files/opencv-win/2.4.3/)。运行 .exe 文件后会生成 .dll、include 和 lib 文件。将 OpenCV 运行时 dll（动态链接库）的路径添加到您的环境路径变量中，一切顺利。

将 include 和 lib 文件夹添加到您的 VC++ 设置中。另外，不要忘记添加链接器库。

如果您仍然卡住，请尝试从此处安装 opencv - 2.4.2 - [http://karanjthakkar.wordpress.com/2012/11/21/usin-opencv-2-4-2-with-visual-studio-2012 -on-windows-7-64-bit/](http://karanjthakkar.wordpress.com/2012/11/21/usin-opencv-2-4-2-with-visual-studio-2012-on-windows-7-64-bit/)。虽然这是针对 2.4.2 的，但它会让您对安装 opencv 有正确的了解，您可以通过评论了解如何安装 Open CV 2.4.3

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-11T08:44:04.803

该过程包括三个步骤：

1.  下载openCV；

2.  创建环境变量；

3.  在 Visual Studio 中创建属性表。

    最好看视频链接安装：[https ://youtu.be/zg15fPJ42OQ](https://youtu.be/zg15fPJ42OQ)

# javascript - 列出大部分时间部分相互重叠的项目

> ID：13620181
> 
> 赞同：2
> 
> 时间：2012-11-29T06:38:51.417
> 
> 标签：javascript, sencha-touch, sencha-touch-2

在面板的点击处理程序上，我正在创建一个列表（使用 itemTpl），然后用相关项目填充其存储，然后将其设置到容器中。当显示此列表时，第一项完全显示，其余所有其他项目在其下方，相互重叠。这种情况在 90% 的情况下并不总是发生，如果我调整浏览器大小或更改设备重叠的方向，所有项目看起来都正确。

这是我的商店：

```
var listStore = Ext.create('Ext.data.Store', {
    fields: ['id','image','name','description']
}); 
```

这是我填充商店的方式：

```
var json = Ext.decode(response.responseText);
var arr = json.categories;
for(var x = 0; x < arr.length; x++) {
    if(arr[x].id == self.parent.cid){
        var itemsArr = arr[x].items;
        var myitems = [];
        for(var y = 0; y < itemsArr.length; y++) {
            myitems.push({"id":itemsArr[y].id, "image":itemsArr[y].image, "name":itemsArr[y].name, "description":itemsArr[y].description});
        }
        listStore.add(myitems);
    }
} 
```

这是我创建列表的方式：

```
var itemsList = {
    xtype: 'list',
    itemTpl : self.parent.tp,
    store : listStore,
    flex : 1,
    id : 'ilid',
    layout : 'fit',
    templateId : 'detailsTemplate_'+self.parent.cid,
    detailsView : 'myshop.view.'+self.parent.ctype+'Details',
    direction: 'vertical',
    listeners: {
      itemtap: function (list, index, element, record)
      {
            var popup = Ext.create(list.detailsView, {
                    rec : record.getData(),
                    tid : list.templateId
            });
            Ext.Viewport.add(popup);
            popup.show('pop');
      }
    }
}; 
```

这是模板：

```
<tpl for="."><div class="tp_1"><div class="productBox"><div class="productTitle">{name}</div><div class="productBody"><img class="productImage" src="{image}"/></div></div></div></tpl> 
```

这是它的样子：

![重叠列表项](../Images/5b7c6fecbce26b4fd7b152e04f956dc8.png)

请帮忙！

编辑！！！这是模板：

```
<tpl for=".">
    <div class="tp_5">
        <div class="productBox">
            <div class="productTitle">{name}</div>
            <div class="productBody"><img class="productImage" src="{image}" width="300"/></div>
        </div>
    </div>
</tpl> 
```

这是相关的CSS：

```
.productBox
    {
        border:1px solid #9a9a9a;
    }
.productTitle
    {
        border-bottom:1px solid #9a9a9a;
        padding:5px 10px 0px 10px;
        background-color:#ccc;
        font-weight:bold;
        font-size: 80%;
        height:30px;
    }
.productBody
    {
        padding:10px;
        background-color: white;
    }
.productImage
    {
        margin-left: auto;
        margin-right: auto;
        display: block;
    }
.tp_5 .productBody, .st_5 {
        background-color : white;
    } 
```

**编辑**

在测试使用 flex、提供边距、进行刷新等各种事情时，我意识到这种重叠仅在第一次加载列表时发生。当我返回主页并将其从容器中删除时

```
hccontainer.remove(Ext.getCmp('ilid'), true); 
```

然后再次创建并将其放入容器 onTap 事件中，它渲染得很好。

重叠也只发生在第二个项目之后，第一个项目总是完全显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-03T09:26:07.213

这似乎是 Sencha 的一个未解决问题：

[http://www.sencha.com/forum/showthread.php?249938-List-Items-with-height-gt-47px-not-rendered-correctly](http://www.sencha.com/forum/showthread.php?249938-List-Items-with-height-gt-47px-not-rendered-correctly)。

在我的情况下有效的解决方法是延迟刷新列表，如下所示：

```
var l = Ext.getCmp('ilid');
Ext.defer(function(){ 
  l.refresh(); 
  console.log("Refreshed");
}, 100, l); 
```

希望能尽快修复 TOUCH-3781。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T13:07:37.807

通过为包含图像的模板 div 提供高度，我找到了更简洁的解决方法。

```
 .productBody
    {
        padding:10px;
        background-color: white;
        height : 240px;
    } 
```

看起来重叠正在发生，因为模板没有默认的 CSS 高度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-07T12:54:59.287

在 Sencha Touch 2.2.1 的模板中使用“div”给我带来了重叠。我的解决方法是将“div”转换为 html 表，因此您的模板将变为：

```
<table><tr><td>{name}</td>
<tr><td><img class="productImage" src="{image}" width="300"></td></tr></table> 
```

# java - 可以使用 InterfaceBasedMBeanInfoAssembler 为 Spring JMX MBean 设置描述吗？

> ID：13620183
> 
> 赞同：1
> 
> 时间：2012-11-29T06:39:01.290
> 
> 标签：java, spring, jmx

Spring 2.5 参考文档 ( [http://static.springsource.org/spring/docs/2.5.x/reference/jmx.html#jmx-interface-metadata](http://static.springsource.org/spring/docs/2.5.x/reference/jmx.html#jmx-interface-metadata) ) 演示了如何使用 MetaDataMBeanInfoAssembler 和源内注解来提供描述以及可以从 JConsole 客户端查看 MBean 的操作和属性的其他元数据信息。是否有一种方法可用于通过 Spring 的 XML 配置和 InterfaceBasedMBeanInfoAssembler 为 Spring 支持的 MBean 表达这种相同类型的元数据？

换句话说，我希望能够指定诸如 description、defaultValue 和表 20.3 中描述的其他“源级元数据参数”（[http://static.springframework.org/sp...metadata-types](http://static.springsource.org/spring/docs/2.5.x/reference/jmx.html#jmx-interface-metadata-types) ) 使用基于接口的方法而不是源代码注释方法。这些被称为源级别的事实对我来说意味着只能为使用源内注释的 Springified JMX MBean 指定这些。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:57:26.160

可能有几种方法可以做到这一点。InterfaceBasedMBeanInfoAssembler 本身会从接口中读取描述符信息，因此如果您控制了接口，则可以添加@DescriptorKey 注解。MetaDataMBeanInfoAssembler 更强大，因为它允许您插入一个 JmxAttributeSource，您可以在其中添加您喜欢的任何元数据（例如，基于在外部源中的查找，如配置的地图或属性文件）。

# asp.net - 如何在umbraco的所有节点和所有属性中搜索关键字

> ID：13620184
> 
> 赞同：1
> 
> 时间：2012-11-29T06:39:02.640
> 
> 标签：asp.net, umbraco

你好，我已经在 umbraco 中创建了索引来搜索 umbraco 中的任何关键字，我已经为其创建了一个用户控件并创建了一个搜索条件和过滤器，但它正在显示包含别名 bodyText 但我想要的所有节点列表不包含别名的节点列表有别名正文，因为不可能给出所有属性别名正文所以我应该怎么做才能搜索 umbraco 中的所有节点和所有属性

```
 protected void Page_Load(object sender, EventArgs e)
    {
       SearchTerm = Request.QueryString["s"];

        if (string.IsNullOrEmpty(SearchTerm)) return;

        var criteria = ExamineManager.Instance
                .SearchProviderCollection["DemoSearcher"]
                .CreateSearchCriteria(UmbracoExamine.IndexTypes.Content);

        var filter = criteria
        .GroupedOr(new string[] { "nodeName", "bodyText" }, SearchTerm)
        .Compile();

       SearchResults = ExamineManager.Instance.SearchProviderCollection["DemoSearcher"].Search(filter);

        SearchResultListing.DataSource = SearchResults;
        SearchResultListing.DataBind();

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T09:03:10.790

您是否要搜索每种类型的字段，因为搜索整数字段或 guid 甚至多节点选择器的 json 或 xml 不一定会得到您期望的结果。

您可以枚举每个节点的属性，然后如果该属性是您想要搜索的类型（如文本框），您可以使用以下内容作为搜索不一定称为 bodyText 的文本框的基础：

```
foreach(node in nodes)
{

  var props = node.PropertiesAsList;

  foreach (var prop in props)  
  {
    if (@prop.Value.GetType() == " ... type you want to search ... ")
    {
      var fieldValue = node.getProperty(@prop.Alias).Value;
      ... search fieldvalue ...
    }
  }
} 
```

# mysql - 如果表不存在，如何创建 * 并填充 * 表？

> ID：13620189
> 
> 赞同：1
> 
> 时间：2012-11-29T06:39:21.830
> 
> 标签：mysql, sql

我手动开发了我的数据库，现在我的应用程序在我的开发 PC 上运行。

当它部署在新机器上时，如果它不存在，我希望它创建 d/b 结构。

因此，我使用`SHOW CREATE TABLE ...`并将输出复制到一些 MySQl 命令`CREATE TABLE IF NOT EXISTS ...`中，这些命令在我的应用程序启动时执行，每个表一个命令。

但是，虽然数据表在新 PC 上应该是空的 - 有一个配置表（单行），如果不存在，我想将其填充为默认值。

最简单（最优雅？）的方法是什么？`SELECT *`从表中检查 zer0 的行数，必要时插入默认值？

有没有更简单（或“更好”）的东西？什么是标准练习？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:41:07.057

我认为你想要的是 CREATE TABLE IF NOT EXISTS mytable AS SELECT * from originaltable;

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:43:17.743

您可以`CREATE TABLE IF NOT EXISTS config ...`像往常一样简单地使用，然后在您的应用程序中读取您的配置表。如果该表未读取任何数据，则`INSERT`使用默认值行，您就完成了。

您也可以让该配置表有一行具有唯一键，`INSERT IGNORE`如果行已经存在，则用于跳过插入默认行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T07:00:57.323

我认为没有比您已经建议的更优雅的方法了：如果 num_rows==0，插入数据！没有什么可以简化的。

# uiviewcontroller - UIContainerViewController 控制器之间的通信

> ID：13620191
> 
> 赞同：0
> 
> 时间：2012-11-29T06:39:26.217
> 
> 标签：uiviewcontroller, uitableview, uicontainerview

所以我真的很难做到这一点。我的 iPad 应用程序有一个包含类别的侧面菜单，一旦选择加载作为容器的 UIViewController。这个容器左侧有一个自定义的 UITableView，右侧有一个自定义的 UIView。

如何让我的容器告诉 UITableViewController 选择了哪个类别，以便它可以显示正确的表格数据。那么我的 UITableViewController 如何告诉详细视图要显示什么？

这与 UISplitView 的功能完全相同，但我的界面是完全定制设计的，看起来一点也不像拆分视图，但功能却类似。

苦苦挣扎了几天，任何帮助将不胜感激！非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:46:12.623

我发现[NSNotificationCenter](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSNotificationCenter_Class/Reference/Reference.html)对于在不同的 ViewController 之间发送信息特别有用。

为了简单地解释这个过程，你在 ViewController 中设置了一个你想要被通知的通知监听器，然后你在 ViewController 中发布一个通知来进行发送。像这样注册监听器的东西：

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(changeBatteryLabel) name:@"UIDeviceBatteryStateDidChangeNotification" object:nil]; 
```

像这样发布通知：

```
[[NSNotificationCenter defaultCenter] postNotificationName:@"logOutNotification" object:nil]; 
```

# grails - 如何将隐藏值传递给grails中的链接

> ID：13620192
> 
> 赞同：1
> 
> 时间：2012-11-29T06:39:26.797
> 
> 标签：grails

我有以下代码。

```
<li><g:link controller="page" action="viewPage" params="[id:selectedId]">
Click here</g:link></li> 
```

我有一个隐藏字段。

```
<g:hiddenField name="selectedId" value="1234"/> 
```

现在，当我单击链接时，我想要 viewPage 操作中隐藏字段的值。我已经尝试了很多，但我还是找不到。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T12:51:57.193

无法将隐藏字段值获取到 g:link 参数。我创建了一个链接并使用它的 onclick 事件，我在其中调用 javascript 函数，并从 javascript 函数调用我的 grails 请求 viewPage。

```
<g:link class="heirarachyMenuItemPopup" onclick="return validateAndUpdateID()">
Click here</g:link> 
```

# c# - C#中的枚举

> ID：13620196
> 
> 赞同：3
> 
> 时间：2012-11-29T06:39:41.867
> 
> 标签：c#, .net, enums, foreach, enumeration

我正在尝试枚举运行时输入以在 c# 中打印枚举变量的值。例如，

```
class Program
{
   enum Alphabets { a = 1, b, c, d, e, f, g, h }

   public static void Main(String[] args)
   {
       string s = Console.ReadLine();

       foreach(char c in s)
       {
           foreach(int i in Enum.GetValues(typeof(Alphabets)))
              Console.WriteLine(s[i]);
       }

       Console.ReadKey();
   }
} 
```

我将用户输入存储在 String 中。我需要显示用户提供的字符串的整数值。上面的代码显示了一些错误，如下所示： ![索引错误！](../Images/ed9cbc1f7b8d5f1a2c6a6660232b9559.png) 我该如何纠正这个？或者请给我一个有效的代码..

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-29T06:42:56.940

我*认为*您想要以下方面的内容：

```
string line = Console.ReadLine();
foreach (char c in line)
{
    string name = c.ToString();
    Alphabets parsed = (Alphabets) Enum.Parse(typeof(Alphabets), name);
    Console.WriteLine((int) parsed);
} 
```

因此，这会将每个字符转换为字符串，并尝试将其解析为`Alphabets`. 然后通过强制转换将每个解析的值转换为一个`int`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T10:04:31.297

检查此代码。这就够了

```
 enum Alphabets { a = 1, b, c, d, e, f, g, h , i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z }

        public static void Main(String[] args)
        {
            string s = Console.ReadLine();

            foreach (char c in s)
            {
                Alphabets parsed = (Alphabets)Enum.Parse(typeof(Alphabets), c.ToString());
                 Console.WriteLine((int)parsed);
            }

            Console.ReadKey();
        } 
```

# google-app-engine - 交易后是否调用 NDB 模型 _post_delete_hook？或 删除其引用实体时从 blobstore 中清除 blob 的最佳方法

> ID：13620208
> 
> 赞同：1
> 
> 时间：2012-11-29T06:40:44.957
> 
> 标签：google-app-engine, blobstore, app-engine-ndb

我正在实现一个文件存储系统，其中多人可以共享上传到 blobstore 的文件，但是一旦他们都删除了文件，它就会从 blobstore 中删除。

我正在使用引用计数实体来执行此操作，当它的计数设置为 0 时该实体被删除。我还使用定义的 BlobInfo ndb 模型，`google.appengine.ext.ndb.blobstore`因为我需要在几个点获取一堆 BlobInfos 并希望能够异步执行此操作。

当引用计数实体被删除时，它的 _post_delete_hook 方法被调用，我使用 BlobKey 调用 blobstore.delete_async 并且它还在 ndb BlobInfo 实例上调用 BlobInfo._key.delete_async() 。

```
class FileCounter(ndb.Model):
    count = ndb.IntegerProperty(default=1)
    @classmethod
    def _post_delete_hook(cls, key, future):
        blob_key = cls.blob_key_for_key(key)
        blobinfo_extension.delete(blobstore.BlobInfo.get(blob_key)) 
```

并且 blobinfo_extension.delete 定义为：

```
@ndb.tasklet
def delete_async(blobinfo):
""" Delete both the blob info and the blob in the blobstore it refers to. """
    yield blobstore.delete_async(blobinfo.key()), blobinfo._key.delete_async()

def delete(blobinfo):
    delete_async(blobinfo).wait() 
```

我正在获取计数实体，减少其计数，然后检查它是否为 0。如果为 0，则将其删除。这一切都在事务中完成。_post_delete_hook 方法是否在事务之外被调用？如您所见，它正在访问 BlobInfo 实体并删除需要跨组事务的实体。

我将尝试这个，看看它是否有效，但由于无法找到任何答案，我将它发布在这里，所以它可能会在未来对其他人有所帮助。

这是解决此问题的一个很好的解决方案，或者我应该在计数减少时“手动”清理 blobstore/blobinfo？我想也许我在滥用帖子删除钩子！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T18:21:44.763

也许您可以`ndb.get_context().call_on_commit(<callback>)`在事务提交时使用它来做一些工作？您可以将其与常规 _post_delete_hook 结合使用，后者只是为提交后清理步骤添加实体。

# jsf - JSF 数据输入表单中的批量输入

> ID：13620212
> 
> 赞同：0
> 
> 时间：2012-11-29T06:41:07.197
> 
> 标签：jsf, richfaces, jsf-1.2

我正在使用 Richfaces 3.3（BE 上的 oracle 11g）在 jsf 1.2 中创建一个应用程序。我需要合并一个数据输入表单，该表单将显示 800 个人的姓名，数据将在网格或表格结构中输入（如在 excel 表中）。该数据条目表将是基于分页的，例如一次显示 50 条记录，具有下一个和上一个功能。如何在 jsf 中实现这一点。

# android - intellij idea中特定java类的独占访问

> ID：13620213
> 
> 赞同：0
> 
> 时间：2012-11-29T06:41:09.547
> 
> 标签：android, intellij-idea, bitbucket

我正在使用私有存储库 BitBucket 在 Intellij idea 中开发 android 应用程序。我的问题是我想添加特定文件的独占访问等功能，这意味着如果我在特定文件中做一些工作，那么我的朋友不应该允许编辑该文件，除非我提交并离开该文件。（例如，视觉源安全）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T12:23:15.850

据我所知，git 和 mercurial 不提供锁定系统，如果您选择此类 VCS，则不允许您锁定 bitbucket 上的某些文件。

在大多数情况下，当您使用分布式 VCS 时，您不需要锁定机制，因为合并分支非常容易。

干杯

# javascript - jQuery 选择器不起作用？

> ID：13620215
> 
> 赞同：4
> 
> 时间：2012-11-29T06:41:15.190
> 
> 标签：javascript, jquery

假设我有几个

```
<p> Hello </p>
<p> Hello </p>
<p> Hello </p>
<p> Hello </p> 
```

我想用“再见”替换一个“你好”。

```
So => $('p')[2].html('Good Bye'); 
```

它不工作，为什么？为什么我必须使用 eq: 选择器？

当我这样做时它正在工作

```
$('p:eq(3)').html('Good bye') 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T06:42:38.057

您正在尝试使用应该与 jQuery 对象一起使用的`html()`方法，您可以 与 javascript 对象一起使用，所以您需要这个，`with javascript object``innerHTML`

**[现场演示](http://jsfiddle.net/Bdhht/)**

```
$('p')[2].innerHTML = 'Good Bye'; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T07:24:14.603

js 对象没有 html() 方法，只有 JQ 对象有。

所以，你可以这样做：

```
$('p').eq(2).html('hello,I am Chinese'); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-29T06:44:51.910

当您使用方括号时，您不会收到 jQuery 对象，而是收到原始的 javascript 对象，例如，如果您想使用表单中的提交 javascript 函数，您应该使用

```
jQuery('form')[0].submit() 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-29T07:03:05.197

或者你可以使用：

```
$( $('p')[2]).html('Good Bye'); 
```

# javascript - 需要修复表格中的左列

> ID：13620217
> 
> 赞同：0
> 
> 时间：2012-11-29T06:41:32.003
> 
> 标签：javascript, jquery, html, css

大家好，我需要冻结表中的第一列。休息列应该是可滚动的。
这是[链接](http://jsfiddle.net/BuAHT/) ![在此处输入图像描述](../Images/0a3abdfd95d03a7b4ce279e91831fe3f.png)

```
 .tblRpt td{ padding:4px; color:#777;}
.tblServerInfo{border-collapse: collapse; font-size:13px; margin-top:10px;}
.tblServerInfo th{ background:#ececec; border:1px solid #dcdcdc; padding:4px; text-shadow: 1px 1px 0px #fff; color:#666;border-collapse: collapse; line-height:30px; }
.tblServerInfo td{ border:1px solid #dcdcdc; line-height:20px; padding:4px; text-shadow: 1px 1px 0px #fff; color:#666;border-collapse: collapse; text-align:center; }    
.tblServerInfo .feature{ color:#333; font-size:14px;  line-height:30px;  font-weight:bold; padding-left:10px; text-align:left; text-shadow: 1px 1px 0px #fff;}
.tblServerInfo .featureBody{ color:#333; font-size:13px;  line-height:25px;  padding-left:10px; text-align:left; }
.tblServerInfo .rw{background:#f5f5f5;}

.tblClass {
            width: 600px;
            overflow-x:scroll;  
            margin-left:5em;
            overflow-y:visible;
            padding-bottom:1px;
        }   

/*--Tooltip Styles--*/
.tip_trigger{display:block; padding:6px;}
.tip {
    color: #333;
    background:#ffffff;
    border:1px solid #747474;
    display:none; /*--Hides by default--*/
    padding:10px;
    margin-left:-143px;

    text-align:left; line-height:16px;
    position:absolute;  z-index:1000;
    text-decoration:none;
    cursor:auto;
    -moz-box-shadow: 2px 2px 5px #a2a2a2;-webkit-box-shadow: 2px 2px 5px #a2a2a2;box-shadow: 2px 2px 5px #a2a2a2;
}  

<div class="fLeft tblClass" style="margin:10px 0px 0px 0px;">

                    <table class="tblServerInfo" width="100%">
                    <thead>
                        <tr>
                            <th class="headcol feature">
                                Server IP address
                            </th>
                            <th>
                               50.16.197.36
                            </th>
                            <th>
                                50.16.197.18
                            </th>
                            <th>
                                50.16.197.36
                            </th>
                            <th>
                                50.16.197.12
                            </th>
                            <th>
                                50.16.197.36
                            </th>
                            <th>
                                50.16.197.36
                            </th>
                            <th>
                                50.16.197.36
                            </th>
                            <th>
                                50.16.197.36
                            </th>
                            <th>
                                50.16.197.36
                            </th>
                            <th>
                                50.16.197.36
                            </th>
                            <th>
                                50.16.197.36
                            </th>
                            <th>
                                50.16.197.36
                            </th>

                        </tr>
                       </thead>
                       <tbody>
                        <tr style="background:#f5f5f5; line-height:40px;">
                            <td class="headcol feature" >Server Service</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="featureBody headcol">Api_Deletion</td>
                            <td></td>
                            <td><img src="http://cdn-img.easyicon.cn/png/5249/524975.png" /></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td><img src="http://cdn-img.easyicon.cn/png/5249/524975.png" /></td>
                            <td></td>
                            <td></td>
                           <td><img src="http://cdn-img.easyicon.cn/png/5249/524975.png" /></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="featureBody headcol">Api_Deletion</td>
                            <td></td>
                            <td><img src="http://cdn-img.easyicon.cn/png/5249/524975.png" /></td>
                            <td></td>
                            <td></td>
                            <td><img src="http://cdn-img.easyicon.cn/png/5249/524975.png" /></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td><img src="http://cdn-img.easyicon.cn/png/5249/524975.png" /></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="featureBody headcol">Api_Deletion</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td><img src="http://cdn-img.easyicon.cn/png/5249/524975.png" /></td>
                            <td></td>
                            <td></td>
                            <td>
                            <a class="tip_trigger"><img src="http://cdn-img.easyicon.cn/png/5249/524975.png" />
                            <span class="tip" style="width: 250px;">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sit amet enim...</span>
                            </a>
                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>

                       </tbody>
                    </table> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-05T22:45:13.953

尝试使用 DIV。然后，您可以使用以下内容：

对于容器：溢出：滚动；位置：固定；

冻结的 div: position: absolute;

设置顶部和左侧。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:39:04.193

尝试使用`position:fixed`

或者

试试这个链接

[如何创建具有固定/冻结左列和可滚动正文的 HTML 表格？](https://stackoverflow.com/questions/1312236/how-do-i-create-an-html-table-with-fixed-frozen-left-column-and-scrollable-body)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:55:35.187

```
td:nth-child(1){
position:fixed;}

th:nth-child(1){
position:fixed;} 
```

或者您可以使用两个表而不是一个表，将第一列数据放在第一个表中，然后放在第二个表中

# c# - MatrixTransform 你如何判断它是增加还是减少

> ID：13620220
> 
> 赞同：1
> 
> 时间：2012-11-29T06:41:54.577
> 
> 标签：c#, wpf

我在按如下方式捏合的画布上使用 MatrixTransform：

```
var transformation = MyCanvas.RenderTransform as MatrixTransform;
var matrix = transformation == null ? Matrix.Identity:transformation.Matrix;

matrix.ScaleAt(e.DeltaManipulation.Scale.X,
               e.DeltaManipulation.Scale.Y,
               e.ManipulationOrigin.X,
               e.ManipulationOrigin.Y);

Matrix m = MyCanvas.RenderTransform.Value; 
```

如何判断它是增加还是减少？有没有我失踪的财产？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T07:08:47.523

我不确定我是否正确，但如果您需要知道生成的矩阵的比例因子是小于 1 还是大于 1，您可以简单地检查[Matrix.M11](http://msdn.microsoft.com/en-us/library/system.windows.media.matrix.m11.aspx)和[Matrix.M22](http://msdn.microsoft.com/en-us/library/system.windows.media.matrix.m22.aspx)属性。除非您也旋转，否则它们会为您提供 x 和 y 方向的缩放因子。生成的总缩放取决于您如何定义它。最简单的定义可能是算术平均值 (M11 + M22) / 2：

```
matrix.ScaleAt(e.DeltaManipulation.Scale.X,
               e.DeltaManipulation.Scale.Y,
               e.ManipulationOrigin.X,
               e.ManipulationOrigin.Y);

var effectiveScale = (matrix.M11 / matrix.M22) / 2; 
```

编辑：阅读评论后，我必须补充一点，只要您在 x 和 y 方向上独立缩放，您可能会放大一个方向，同时缩小另一个方向。为了避免这种情况并获得定义明确的统一缩放因子，您首先必须通过类似的方式计算平均缩放因子

```
var scale = (e.DeltaManipulation.Scale.X +
             e.DeltaManipulation.Scale.Y) / 2; 
```

该值大于 1 用于放大，小于 1 用于缩小操作。然后，您将像这样缩放矩阵：

```
matrix.ScaleAt(scale, scale,
               e.ManipulationOrigin.X, e.ManipulationOrigin.Y); 
```

# c# - 状态栏上的控件消失了？

> ID：13620222
> 
> 赞同：0
> 
> 时间：2012-11-29T06:42:01.703
> 
> 标签：c#, winforms

解释：我在状态栏上放置了几个标签。但不知何故，它消失了。使用这些控件的代码仍然有效，我在窗口中看不到任何地方。我正在使用 C#.net。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:46:58.670

检查控件的位置并检查表单的相对位置。
或者，如果您从属性菜单中选择控件名称，该控件将在窗体中被选中，然后您可以尝试将其置于前面。

# c# - 如何使用 C# 4.0 检测 Windows 8 操作系统？

> ID：13620223
> 
> 赞同：23
> 
> 时间：2012-11-29T06:42:01.150
> 
> 标签：c#, .net, windows, winforms

我必须在我的 C# Windows 应用程序中检测 Windows 8 操作系统并进行一些设置。我知道我们可以使用 检测 Windows 7 `Environment.OSVersion`，但是如何检测 Windows 8？

提前致谢。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-07-22T19:48:08.473

```
Version win8version = new Version(6, 2, 9200, 0);

if (Environment.OSVersion.Platform == PlatformID.Win32NT &&
    Environment.OSVersion.Version >= win8version)
{
    // its win8 or higher.
} 
```

## Windows 8.1 及更高版本的更新：

好的，在我看来，这段代码已被 Microsoft 本身标记为已弃用。我在这里留下一个[链接，](https://stackoverflow.com/a/31885961/558018)这样你就可以阅读更多关于它的信息。

*简而言之，它说：*

对于 Windows 8 及更高版本，始终会有相同的版本号**(6, 2, 9200, 0)**。与其寻找 Windows 版本，不如寻找您要解决的实际功能。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-07-22T18:05:36.843

Windows 8 或更新版本：

```
bool IsWindows8OrNewer()
{
    var os = Environment.OSVersion;
    return os.Platform == PlatformID.Win32NT && 
           (os.Version.Major > 6 || (os.Version.Major == 6 && os.Version.Minor >= 2));
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-29T06:49:35.027

检查以下问题的答案：[如何获得“友好的”操作系统版本名称？](https://stackoverflow.com/questions/577634/how-to-get-the-friendly-os-version-name)

引用答案：

> 您可以使用 WMI 获取产品名称（“Microsoft® Windows Server® 2008 Enterprise”）：

```
using System.Management;
var name = (from x in new ManagementObjectSearcher("SELECT * FROM Win32_OperatingSystem").Get().OfType<ManagementObject>() select x.GetPropertyValue("Caption")).First();
return name != null ? name.ToString() : "Unknown"; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-12-03T23:22:18.290

首先声明一个结构，如下所示：

```
[StructLayout(LayoutKind.Sequential)]
public struct OsVersionInfoEx
{
    public int dwOSVersionInfoSize;
    public uint dwMajorVersion;
    public uint dwMinorVersion;
    public uint dwBuildNumber;
    public uint dwPlatformId;
    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 128)]
    public string szCSDVersion;
    public UInt16 wServicePackMajor;
    public UInt16 wServicePackMinor;
    public UInt16 wSuiteMask;
    public byte wProductType;
    public byte wReserved;
} 
```

您将需要这个 using 语句：

```
 using System.Runtime.InteropServices; 
```

在相关类的顶部，声明：

```
 [DllImport("kernel32", EntryPoint = "GetVersionEx")]
    static extern bool GetVersionEx(ref OsVersionInfoEx osVersionInfoEx); 
```

现在调用代码如下：

```
 const int VER_NT_WORKSTATION = 1;
        var osInfoEx = new OsVersionInfoEx();
        osInfoEx.dwOSVersionInfoSize = Marshal.SizeOf(osInfoEx);
        try
        {
            if (!GetVersionEx(ref osInfoEx))
            {
                throw(new Exception("Could not determine OS Version"));

            }
            if (osInfoEx.dwMajorVersion == 6 && osInfoEx.dwMinorVersion == 2 
                && osInfoEx.wProductType == VER_NT_WORKSTATION)
                MessageBox.Show("You've Got windows 8");

        }
        catch (Exception)
        {

            throw;
        } 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-04-16T13:28:35.533

不确定这是否正确，因为我只能检查我拥有的 Windows 8 版本。

```
 int major = Environment.OSVersion.Version.Major;
 int minor = Environment.OSVersion.Version.Minor;

if ((major >= 6) && (minor >= 2))
{
    //do work here
} 
```

# android - 服务器无法在 Android 应用程序中通过电子邮件发送存储的数据库数据

> ID：13620225
> 
> 赞同：2
> 
> 时间：2012-11-29T06:42:25.123
> 
> 标签：android, android-service, accelerometer, latitude-longitude, gyroscope

我有一个应用程序，其中加速度计/陀螺仪/线性加速度/纬度/经度读数被发送到服务器以跟踪用户。

当移动设备没有互联网连接时，我面临这个问题，数据保存在本地数据库中。但是，当设备进入网络时，数据与服务器同步。服务器收到读数后，用户的位置跟踪数据（加速度计/陀螺仪/线性加速度/纬度/经度读数）每 1 分钟通过电子邮件发送给用户。这个问题是在冰淇淋三明治之后面临的，即 ANDROID- 4及以上。此外，在 DDMS 上运行应用程序时出现此错误。请参阅下面的 logcat 文件。

```
11-29 11:37:37.336: D/Vold(81): Volume sdcard state changing 3 (Checking) -> 4 (Mounted)
11-29 11:37:37.347: E/VoldConnector(250): NDC Command {114 volume mount /storage/sdcard0} took too long (3737ms)
11-29 11:37:37.375: W/ShutdownThread(250): Result code 0 from MountService.shutdown
11-29 11:37:37.715: D/MountService(250): sendStorageIntent Intent { act=android.intent.action.MEDIA_UNSHARED dat=file:///storage/sdcard0 (has extras) }
11-29 11:37:37.730: I/PackageManager(250): Updating external media status from unmounted to unmounted
11-29 11:37:37.730: D/MountService(250): volume state changed for /storage/sdcard0 (shared -> unmounted)
11-29 11:37:37.734: D/MountService(250): sendStorageIntent Intent { act=android.intent.action.MEDIA_UNMOUNTED dat=file:///storage/sdcard0 (has extras) }
11-29 11:37:37.734: I/StorageNotification(336): Media {/storage/sdcard0} state changed from {shared} -> {unmounted}
11-29 11:37:37.738: D/VoldCmdListener(81): volume shared /storage/sdcard0 ums
11-29 11:37:37.765: D/MountService(250): volume state changed for /storage/sdcard0 (unmounted -> checking)
11-29 11:37:37.769: D/MountService(250): sendStorageIntent Intent { act=android.intent.action.MEDIA_CHECKING dat=file:///storage/sdcard0 (has extras) }
11-29 11:37:37.820: I/ActivityManager(250): Start proc android.process.media for broadcast com.android.providers.media/.MediaScannerReceiver: pid=24156 uid=10024 gids={1015, 1023, 1024, 1028, 2001, 3003, 3007}
11-29 11:37:37.820: D/MountService(250): volume state changed for /storage/sdcard0 (checking -> mounted)
11-29 11:37:37.824: I/PackageManager(250): Updating external media status from unmounted to mounted
11-29 11:37:37.832: D/MountService(250): sendStorageIntent Intent { act=android.intent.action.MEDIA_MOUNTED dat=file:///storage/sdcard0 (has extras) }
11-29 11:37:37.863: D/VoldCmdListener(81): asec list
11-29 11:37:37.894: I/StorageNotification(336): Media {/storage/sdcard0} state changed from {unmounted} -> {checking}
11-29 11:37:37.898: I/StorageNotification(336): Media {/storage/sdcard0} state changed from {checking} -> {mounted}
11-29 11:37:38.082: I/ShutdownThread(250): Performing low-level shutdown...
: E/(): Device disconnected 
```

# android - Android：垂直滚动条

> ID：13620228
> 
> 赞同：0
> 
> 时间：2012-11-29T06:42:31.580
> 
> 标签：android, android-layout, android-listview, scrollbar

![在此处输入图像描述](../Images/879380742333692ebf066789e0fb35eb.png)

我想在列表视图和网格视图中实现这一点。请指导我。在长按向下箭头时，我想来到列表的末尾。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:02:05.833

onClick bootem按钮调用这个函数

```
mListView.setSelection((mListView.getAdapter().getCount() - 1)); 
```

点击顶部

```
mListView.setSelection(0); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:53:00.923

可以使用`setSelection(index`)，listview显示会跳转到你想要的索引

```
downButton.setOnLongClickListener(new OnLongClickListener() { 
        @Override
        public boolean onLongClick(View v) {

   listView.setSelection(LastPositionIndex);

            return true;
        }
    }); 
```

另请参阅此链接，可能与您有关

[返回 ListView 时保持/保存/恢复滚动位置](https://stackoverflow.com/questions/3014089/scroll-to-a-position-in-a-listview)

已编辑

请参阅此链接，不完全是您想要的，但类似，我认为您将需要自定义列表视图来满足您的目的。

[http://baziegar.wordpress.com/2012/07/28/android-listview/](http://baziegar.wordpress.com/2012/07/28/android-listview/)

# php - PHP $_REQUEST 有时为空

> ID：13620233
> 
> 赞同：1
> 
> 时间：2012-11-29T06:42:45.153
> 
> 标签：php, request, intermittent

`$_REQUEST`即使日志说`$_SERVER['CONTENT_LENGTH']`非零，有时也会变空。

以下是来自的一些信息`$_SERVER`：

```
[HTTP_USER_AGENT] => Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; BTRS125268; .NET CLR 2.0.50727; AskTbARS/5.17.0.25589)
[CONTENT_LENGTH] => 180 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:46:50.997

我希望问题在于您发布了一个变量，例如测试，并且您在 url 中具有与参数相同的变量。所以你的`$_POST['test']`变量将被覆盖并且你有in`$_GET['test']`的空值`$_GET['test']``$_REQUEST['test']`。

所以最好直接使用`$_GET`and `$_POST`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:56:01.887

`$_REQUEST``$_GET`是一个关联数组，默认情况下包含 和 的`$_POST`内容`$_COOKIE`。而`$_SERVER`是一个包含诸如标题、路径和脚本位置等信息的数组。`$_REQUEST`是 的子集`$_SERVER`，所以很明显，虽然`$_REQUEST`是空的，但`$_SERVER`有一些内容。

# google-bigquery - 将 CSV 上传到 BigQuery 失败

> ID：13620235
> 
> 赞同：1
> 
> 时间：2012-11-29T06:42:49.280
> 
> 标签：google-bigquery

我已经使用 bigquery 上传系统超过 3 个月了，我每隔一小时将数据推送到 bigquery，它一直运行良好。但是从昨天开始，我所有的上传都失败了。bigquery 控制台上的错误显示“列太少：预期有 11 列，但有 9 列”，第九个字段有一个换行符，它在双引号内。这在过去 3 个月里一直有效，从昨天开始就失败了。有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T19:36:19.340

昨天我们开始强制执行不允许引用的换行符，除非`allowQuotedNewlines`标志被通过。如果您使用的是 bq 工具，则可以添加 --allow_quoted_newlines 标志。如果您使用的是 java，您可以[在此处](https://google-api-client-libraries.appspot.com/documentation/bigquery/v2/java/latest/com/google/api/services/bigquery/model/JobConfigurationLoad.html#setAllowQuotedNewlines%28java.lang.Boolean%29)进行设置。该标志记录[在此处](https://developers.google.com/bigquery/docs/reference/v2/jobs)。

默认情况下不允许引用换行符可以让我们更有效地导入 csv 文件，因为我们可以将它们分成几部分并并行导入。这转化为更快的导入，并允许我们扩展到更大的导入。

# c# - Datagridview 单元格样式问题

> ID：13620242
> 
> 赞同：0
> 
> 时间：2012-11-29T06:43:17.760
> 
> 标签：c#, datagridview

我有一个`Datagridview`C# 桌面应用程序。当任何单元格为空时，为了突出显示它，我将该特定单元格的背景更改为`Color.Green`

```
 if (checkString(Convert.ToString(this.UserDataTable.Rows[i].Cells[kk].Value).Trim()) == false)
                {
                    this.UserDataTable.Rows[i].Cells[kk].Style.BackColor = Color.Green;
                    this.MandatoryField_Label.ForeColor = Color.Green;
                    success = false;
                } 
```

当用户在单元格中输入数据时，我会还原更改。任何想法如何做到这一点。

我正在考虑的解决方案之一是检查每个单元格的颜色，然后更改它。我敢肯定，有更好的方法来做到这一点。

这不起作用：

```
 this.UserDataTable.DefaultCellStyle.BackColor = Color.White; 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:58:40.500

您可以在 CellLeave 事件中检查单元格的内容

```
if(!string.IsNullOrEmpty(((DataGridViewCell)sender).Value))
    ((DataGridViewCell)sender).Style.BackColor = Color.White; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T16:08:01.757

处理这个问题的最干净的方法可能是像这样使用 CellFormatting 事件（这是您需要的唯一代码，您可以删除其他代码）：

```
dataGridView1.CellFormatting += new DataGridViewCellFormattingEventHandler(dataGridView1_CellFormatting);

void dataGridView1_CellFormatting(object sender, DataGridViewCellFormattingEventArgs e)
{
    if (e.Value == null || String.IsNullOrWhiteSpace(e.Value.ToString()))
    {
        e.CellStyle.BackColor = Color.Green;
    }
    else
    {
        e.CellStyle.BackColor = Color.White;
    }            
} 
```

# python - python CQL查询替换“select * from CF where column in (..,..,..)”

> ID：13620243
> 
> 赞同：4
> 
> 时间：2012-11-29T06:43:26.550
> 
> 标签：python, cassandra, cql

这是我的列族定义：

```
CREATE TABLE columnfamily (column1 int PRIMARY KEY, column2 text); 
```

我正在使用 python cassandra-dbapi2 1.4.0 连接到 Cassandra 1.1.6，使用 CQL 3 语法。我想对以下查询使用查询替换，但它似乎不适用于 WHERE... IN (...,...)：

```
cql = "SELECT * FROM columnfamily WHERE column1 IN (:x) and column2 = :y;"
q = cursor.prepare_query(cql)

cursor.execute_prepared(q, {'x':(1,2,3), 'y':'abc'} 
```

尝试上述方法后出现以下错误：

```
Traceback (most recent call last):
  File "test_cassandra.py", line 17, in <module>
    cursor.execute_prepared(q, params)
  File "/usr/local/lib/python2.7/dist-packages/cql/cursor.py", line 89, in execute_prepared
    response = self.get_response_prepared(prepared_query, params, cl)
  File "/usr/local/lib/python2.7/dist-packages/cql/thrifteries.py", line 83, in get_response_prepared
    paramvals = prepared_query.encode_params(params)
  File "/usr/local/lib/python2.7/dist-packages/cql/query.py", line 60, in encode_params
    return [t.to_binary(t.validate(params[n])) for (n, t) in zip(self.paramnames, self.vartypes)]
  File "/usr/local/lib/python2.7/dist-packages/cql/cqltypes.py", line 225, in to_binary
    return cls.serialize(val)
struct.error: cannot convert argument to integer 
```

我也尝试过使用以下内容：

```
cursor.execute_prepared(q, {'x':','.join([str(i) for i in (1,2,3)]), 'y':'abc'} 
```

发生了同样的错误。有谁知道在 WHERE ... IN (...,...) 语句中进行查询替换的正确方法是什么？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T17:37:41.127

Cassandra 是在准备好的查询上插入绑定值的部分，在这里，它不支持绑定一系列值，所以答案几乎是，“你不能这样做（还）”。

如果您想密切关注那里的情况，请参阅[https://issues.apache.org/jira/browse/CASSANDRA-4210 。](https://issues.apache.org/jira/browse/CASSANDRA-4210)

可以*在*普通调用的 python-cql 驱动程序中支持这种结构`execute()`，其中查询插值是在 Python 端完成的，但是您不会获得准备好的查询的任何好处，而且它不会不仅仅是

```
cursor.execute('SELECT * FROM a WHERE b IN (%s)'
               % ', '.join(map(cql.query.cql_quote, your_list_of_values))) 
```

# android - 如何在listview arrayadapter上敬酒 ?

> ID：13620248
> 
> 赞同：2
> 
> 时间：2012-11-29T06:44:03.597
> 
> 标签：android, listview, toast

```
 protected void onActivityResult(int requestCode, int resultCode, Intent data)
{
    if (requestCode == REQUEST_CODE && resultCode == RESULT_OK)
    {
        // Populate the wordsList with the String values the recognition engine thought it heard
        ArrayList<String> matches = data.getStringArrayListExtra(
                RecognizerIntent.EXTRA_RESULTS);
        wordsList.setAdapter(new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1,
                matches));

    }

    super.onActivityResult(requestCode, resultCode, data);
} 
```

我正在寻找正确的语法来将此填充列表的第一个位置转换为字符串，以便我可以将其放入 toast 或将其保存到文件中，我对此很陌生，如果我可以在 toast 上显示它，我可以照顾其余的，谢谢

```
Toast.makeText(this,(CharSequence) wordsList.getItemAtPosition(0) , Toast.LENGTH_LONG).show(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T06:51:49.413

挺容易：

```
String firstResult = matches.get(0);
Toast.makeText(getContext(), firstResult,
Toast.LENGTH_SHORT).show(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:59:18.157

```
wordList.setOnItemClickListener(new ListView.OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView<?> a, View v, int pos, long l) {
            try {
               Toast.makeText(this,"Position is===>>"+pos , Toast.LENGTH_LONG).show();
            }
            catch(Exception e) {
                System.out.println("Nay, cannot get the selected index");
            }
        }
    }); 
```

# drupal - 如何在 Drupal 用户个人资料页面中隐藏历史记录部分（“会员”）？

> ID：13620249
> 
> 赞同：2
> 
> 时间：2012-11-29T06:44:10.777
> 
> 标签：drupal, drupal-7

我正在使用drupal7。我列出了用户配置文件。在用户配置文件详细信息页面中包含历史记录。它显示**为“会员 22 小时 15 分钟”**

我想隐藏历史部分。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-29T07:31:23.470

按照配置 -> 人员 -> 帐户设置 -> 管理显示 ( `admin/config/people/accounts/display`) 并将历史记录的格式设置为“隐藏”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-31T11:09:04.677

[tulvit 绝对提供了最简单的解决方案](https://stackoverflow.com/a/13620849/1127583)，但如果您需要通过代码执行此操作，则可以使用[hook_user_view_alter](https://api.drupal.org/api/drupal/modules!user!user.api.php/function/hook_user_view_alter/7)。

在自定义模块中添加：

```
/**
 * Implements hook_user_view_alter().
 */
function YOURCUSTOMMODULE_user_view_alter(&$build) {
  unset($build['summary']);
} 
```

变量 $build['summary'] 包含用于呈现用户配置文件的历史记录部分的所有信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:50:38.863

嗨，希望这些链接对您有用 :)[如何从个人资料中删除历史记录](http://drupal.org/node/138127)并[自定义用户个人资料布局](http://drupal.org/node/35728)

来自以上链接的点... 1.复制以下代码

```
<?php
// $Id: user-profile-category.tpl.php,v 1.2 2007/08/07 08:39:36 goba Exp $

/**
 * @file user-profile-category.tpl.php
 * Default theme implementation to present profile categories (groups of
 * profile items).
 *
 * Categories are defined when configuring user profile fields for the site.
 * It can also be defined by modules. All profile items for a category will be
 * output through the $profile_items variable.
 *
 * @see user-profile-item.tpl.php
 *      where each profile item is rendered. It is implemented as a definition
 *      list by default.
 * @see user-profile.tpl.php
 *      where all items and categories are collected and printed out.
 *
 * Available variables:
 * - $title: Category title for the group of items.
 * - $profile_items: All the items for the group rendered through
 *   user-profile-item.tpl.php.
 * - $attributes: HTML attributes. Usually renders classes.
 *
 * @see template_preprocess_user_profile_category()
 */
?>
<?php if ($title && $title != t(History)) : ?>
  <h3><?php print $title; ?></h3>
<?php endif; ?>

<?php if ($title != t(History)) : ?>
<dl<?php print $attributes; ?>>
  <?php print $profile_items; ?>
</dl>
<?php endif; ?> 
```

2\. 将上述代码保存在一个名为“ `user-profile-category.tpl.php`”的文件中（请不要使用任何其他名称，因为我们已经覆盖了 Drupal 的核心 tpl 文件）并将提到的文件保存到主题的根文件夹中，无论您使用什么... 3 . 确认您使用的是相同的主题（因为我们覆盖了特定主题的 tpl 文件） 4\. 清除缓存并查看结果:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-08-10T09:13:14.163

管理 » 配置 » 人员 » 帐户设置 » 管理显示

# sql - 两个sql查询的比较

> ID：13620253
> 
> 赞同：0
> 
> 时间：2012-11-29T06:44:37.207
> 
> 标签：sql, sql-server-2008

我有两个 sql 查询如下

```
SELECT rc.stateId,rs.stateName FROM
(SELECT DISTINCT cityid FROM HolidayPackageCity) AS hpc
 INNER JOIN 
 (SELECT cityid,stateid FROM RegCity WHERE countryCode='IN' AND stateId IS NOT NULL) AS rc
ON hpc.cityId=rc.cityId
INNER JOIN
RegState AS rs
ON rc.stateId=rs.stateId 
```

对比

```
SELECT DISTINCT rc.stateId,rs.stateName 
FROM HolidayPackageCity AS hpc
INNER JOIN 
  RegCity  AS rc
  ON hpc.cityId=rc.cityId
  INNER JOIN
    RegState AS rs
    ON rc.stateId=rs.stateId
WHERE rc.countryCode='IN' AND rc.stateId IS NOT NULL 
```

在第一个查询中，我首先过滤特定表的数据，然后应用连接，在第二个表中，我首先应用连接，然后应用 where 条件过滤数据。我想知道的是哪一个更快，为什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:49:11.987

第二个查询更快，因为优化器将首先使用 where 子句过滤表，然后创建内部临时表，稍后用于连接。结论 - 更好的解决方案是加入包含较小数据集的表。

顺便说一句，优化器更容易处理不包含子查询的第二个查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:21:17.120

您可以在 SQL Server 2008 中显示执行计划。某处有一个按钮。只需将两个查询放在同一个窗口中，它就会告诉您每个查询花费了多少时间。结果的正确性可能取决于实际花费超过一两毫秒的查询。

我相信第二个查询给了优化器更多的自由，而第一个查询迫使它进入一些可能效率低下的路径（但它也可以迫使它进入优化器不会尝试的更有效的路径）。我很确定效率的差异取决于表格布局，尽管我怀疑优化的查询对于这样一个简单的查询效率会低得多。

请注意（根据我的说法）关于 SQL 的重要事情不是告诉它如何做事，而是让优化器处理它，所以第二个查询是首选（尽管优化器并不总是做得很好，所以我'd 建议让优化器处理它，做一些压力测试，看看事情是否很慢，也许使用分析器来识别有问题的查询，并强制它进入更有效的路径）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-12T18:13:34.927

一般规则是子查询会更慢，特别是如果连接使用正确的索引。

# javascript - 如何在我使用 Q.all 的同一函数中使用 defer 和 deferred.resolve？

> ID：13620255
> 
> 赞同：0
> 
> 时间：2012-11-29T06:44:44.913
> 
> 标签：javascript, asynchronous, callback

要求是我在需要返回结果的 JavaScript 函数中使用了名为 Q.all 的 Q.js 功能，前提是 Q.all 成功完成。

我的目标是返回一个具有两个属性的对象，分别称为 wrongsize 和 OKsize。这两个属性都是 javascript 数组。

问题是我不确定如何将 Q.defer 函数与 Q.all 包含在同一个函数中。

```
function filterNonConformingPageSize(files) {

    var addToWhichGlobalVariable = "pageSizesOfNewFiles";

    promises = [];
    for (var i=0; i<files.length; i++) {
        promises.push(
            getSizeSettingsFromPage(files[i], addToWhichGlobalVariable, calculateRatio)
        );
    }

    // *** sort out the files after all promises have been resolved
    var resultObj = Q.all(promises).then(function() {
        var test = new Object();
        var filesWithOkaySize = new Array();
        var filesWithWrongSize = new Array();   

        for (var i=0; i<files.length; i++) {
            if (pageSizesOfNewFiles[i].size == majorityPageSize) {
                filesWithOkaySize.push(files[i]);
            } else {
                filesWithWrongSize.push(files[i].name);
            }
        }
        test['wrongsize'] = filesWithWrongSize;
        test['okaysize'] = filesWithOkaySize;

        return test;
    });

    return resultObj;

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:10:11.810

注意@TODO 部分。

```
 /** iteratively calculate pagesize of the new incoming files **/
function filterNonConformingPageSize(files) {
    // @TODO Create a Deferred
    var deferred = Q.defer();

    var addToWhichGlobalVariable = "pageSizesOfNewFiles";

    promises = [];
    for (var i=0; i<files.length; i++) {
        promises.push(
            getSizeSettingsFromPage(files[i], addToWhichGlobalVariable, calculateRatio)
        );
    }

    // *** sort out the files after all promises have been resolved
    Q.all(promises).then(function() {
        var test = new Object();    
        var filesWithOkaySize = new Array();
        var filesWithWrongSize = new Array();   

        for (var i=0; i<files.length; i++) {
            var filename = files[i].name;
            var newFileSize = pageSizesOfNewFiles.getByKey(filename);
            if (newFileSize.size == majorityPageSize) {
                console.log(filename + "is right size");
                console.log(newFileSize.size);
                filesWithOkaySize.push(files[i]);
            } else {
                console.log(filename + "is wrong size");
                filesWithWrongSize.push(files[i]);
            }
        }
        test['wrongsize'] = filesWithWrongSize;
        test['okaysize'] = filesWithOkaySize;
    // @TODO add the resolve        
        deferred.resolve(test); 
    });
    // @TODO return the promise part. 
    return deferred.promise;

} 
```

当你调用函数时，这样做

```
 filterNonConformingPageSize(filterDupeNameResult['okaynames']).then(function(result){
 // result will be the expected result
     // at the end of running filterNonConformingPageSize
 }); 
```

# iphone - 调整uitableviewcell中的文本大小

> ID：13620262
> 
> 赞同：0
> 
> 时间：2012-11-29T06:45:21.957
> 
> 标签：iphone, ipad

我在表格视图单元格中有一个标签，我必须根据标签中的文本调整其大小。在 potratit 模式下它可以正常工作，但是当切换到横向模式时，文本不会显示到表格单元格的长度。目前我已经动态地创建了标签，并通过重新加载表格来根据设备的当前方向调整其宽度。

我已经动态创建了标签并将其添加到 contentView 中。代码如下

```
UILabel *lblSize = [[UILabel alloc] initWithFrame:CGRectMake(nameLbl.frame.origin.x + nameLbl.frame.size.width , 0, 580, 60)];
lblSize.backgroundColor = [UIColor clearColor];
lblSize.font = [UIFont fontWithName:@"TrebuchetMS" size:18];
lblSize.textColor = [UIColor blackColor];
lblSize.minimumFontSize = 10;
lblSize.tag = 3;
[cell.contentView addSubview:lblSize]; 
```

当我以纵向模式执行代码时会发生什么如下

|第1页| 一些文字。一些文字。一些文字。一些文字。一些文字.... |

横向模式下发生的情况如下

|第1页| 一些文字。一些文字。.... |

我不想使用我使用过的方法。有没有其他更合适的方法可以用来解决问题。请提出一些解决方案。我目前正在使用 iPad，需要一个解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:57:12.477

只需使用以下条件设置框架

```
 if (UIDeviceOrientationIsLandscape([UIDevice currentDevice].orientation))
    {
         // code for landscape orientation      
    } 
```

或者

```
 if (UIDeviceOrientationIsPortrait([UIDevice currentDevice].orientation))
    {
         // code for Portrait orientation       
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:27:44.393

在你的使用以下`cellForRowAtIndexPath`

```
CGFloat maxHeightForLabel=1000.0;
CGSize size=[label.text sizeWithFont:label.font
       constrainedToSize:CGSizeMake(label.frame.size.width, maxHeightForLabel)];
CGRect frame=label.frame;
frame.size=size;
label.frame=frame; 
```

呼吁`[yourTableView reloadData];`改变方向。

# visual-c++ - 如何检索 Windows8 中 TSF 管理器使用的文档中的总字符数？

> ID：13620263
> 
> 赞同：2
> 
> 时间：2012-11-29T06:45:25.203
> 
> 标签：visual-c++, windows-8, text-services-framework

我正在研究 windows8 应用程序中的文本服务框架。在此应用程序文档管理器界面中使用的方法是 (*ppRange)-GetText(ec,TF_TF_IGNOREEND,wStr,WCHAR_MAX, &fetched);此方法仅返回组合模式文本。如何检索文档（记事本）中的总字符？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-08T22:34:20.337

记事本不支持 TSF，因此您无法获取整个文档。然而，碰巧的是，[临时扩展](http://blogs.msdn.com/b/tsfaware/archive/2007/05/21/transitory-extensions.aspx)服务支持编辑控件（记事本使用），您可以使用它来代替。请务必遵守规则。

# c# - 使用 LINQ 交叉连接两个数据表

> ID：13620264
> 
> 赞同：1
> 
> 时间：2012-11-29T06:45:24.850
> 
> 标签：c#, asp.net, linq, linq-to-sql

我在两个表上进行交叉连接时遇到问题。这是我的代码：

```
public DataTable JoinTable(DataTable piTable1, DataTable piTable2)
{
    if (piTable1 == null || piTable2 == null)
        return new DataTable();

    var joinResult = from parent in piTable1.Rows.Cast<DataRow>()
                     from child in piTable2.Rows.Cast<DataRow>()
                     select new {parent, child};

    return joinResult.CopyToDataTable();
} 
```

我得到的结果是两个`DataRowCollection`s，但它无法将其转换为 a `DataTable`。如何在两个`DataTable`s 上进行交叉连接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T14:08:45.363

试试这个方法

```
public DataTable JoinTable(DataTable piTable1, DataTable piTable2)
{
    DataTable JoinTable = new DataTable();

    if (piTable1 == null || piTable2 == null)
        return new DataTable();

    var q = from parent in piTable1.AsEnumerable()
                     from child in piTable2.AsEnumerable()
                     select new 
                     {                                                      
                         property1 = parent.Field<T>("PropertyName1"),
                         property2 = parent.Field<T>("PropertyName2"),
                         property3 = child.Field<T>("PropertyName3"),
                         property4 = child.Field<T>("PropertyName4")
                     };

    JoinTable.Rows.Add(q);
    return JoinTable;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:39:28.223

您只需要手动完成：
1）创建结果 DataTable
2）从两个表中添加列（请记住，输入表中的列名可能具有保存名称，因此您需要约定来处理它 - 比如包括输入表名或smth)
3) 并将值从连接结果实体复制到相应的列

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-11-23T13:16:33.560

我使用了下面对我有用的代码。我不得不进一步将 q 转换为数组，然后列出，然后是表格，因为我无法将 q 直接转换为表格。以下是可能对某人有所帮助的代码。

```
public DataTable JoinTable(DataTable piTable1, string table1Column, 
DataTable piTable2, string table2Column)
{
     DataTable JoinTable = new DataTable();
     JoinTable.Columns.Add(table1Column);
     JoinTable.Columns.Add(table2Column);

        if (piTable1 == null || piTable2 == null)
            return new DataTable();

        var q = from parent in piTable1.AsEnumerable()
                from child in piTable2.AsEnumerable()
                select new
                {
                    table1Column = parent.Field<string>(table1Column),
                    table1Column = child.Field<string>(table2Column),
                };

        JoinTable = ToDataTable((q.ToArray()).ToList());
        JoinTable.TableName = "ResultTable";

        return JoinTable;

    }

    public DataTable ToDataTable<T>(List<T> items)
    {
        DataTable dataTable = new DataTable(typeof(T).Name);
        //Get all the properties
        PropertyInfo[] Props = typeof(T).GetProperties(BindingFlags.Public | BindingFlags.Instance);
        foreach (PropertyInfo prop in Props)
        {
            //Setting column names as Property names
            dataTable.Columns.Add(prop.Name);
        }
        foreach (T item in items)

        {
            var values = new object[Props.Length];
            for (int i = 0; i < Props.Length; i++)
            {
                //inserting property values to datatable rows
                values[i] = Props[i].GetValue(item, null);
            }
            dataTable.Rows.Add(values);
        }
        //put a breakpoint here and check datatable
        return dataTable;
    } 
```

# php - 显示数据库中具有相同 id 的数据

> ID：13620265
> 
> 赞同：2
> 
> 时间：2012-11-29T06:45:25.717
> 
> 标签：php, mysql, arrays, loops

我有一个名为 workdetails 的表。我有一个名为 personid 的外键来识别属于同一个人的所有工作细节。资格详细信息表由以下字段组成：

*   Qualificationid（Pri、INT、Auto_increment）
*   资格类型（Varchar）
*   资格名称 (VarChar)
*   机构名称 (VarChar)
*   完成年份 (VarChar)
*   Personid（外键，INT）

当用户填写表格时，他/她将提交任意数量的资格。现在我想检索这些数据并将其显示在网页上。以下是页面顶部的php代码：

```
<?php
//Start the session
session_start();
//Connect to the database
require 'scripts/connect.php';
//Get the Person id
$persid = $_GET['Personid'];
//Select Applicant information from the tables
$Personid_query ="SELECT * FROM person where Personid=$persid";
$Qualification_query ="SELECT *FROM qualifications where Personid=$persid";

//Submit the selected information into the database
$Personid = mysql_query($Personid_query) or die(mysql_error);

$Qualificationid = mysql_query($Qualification_query) or die(mysql_error);

//Fetch the Applicant data
$row = mysql_fetch_assoc($Personid);
$QDrow = mysql_fetch_assoc($Qualificationid);
//I need to have another look at this one as well 
```

?>

以下代码在html标签内

**资质名称：**

```
 <hr width ="50%" />
                              <table border="0">
                              <!-- Display Qualification details-->
                              <tr>
                              <td><strong>Institution Name:</strong></td>
                              <td><?php echo $QDrow['InstitutionName'];?><br/></td>
                              </tr>
                              <tr>
                              <td><strong>Year Completed:</strong></td>
                              <td><?php echo $QDrow['CompletionYear'];?><br/></td>
                              </tr> 
```

但问题是上面的代码只显示一个记录，但我想每人显示一个记录器。例如

*   人 123
*   学位
*   数学
*   德国大学
*   1999

* * *

*   人 1234
*   学位
*   统计数据
*   伦敦大学
*   2000\. 我真的需要帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:04:20.420

为什么不使用 JOIN

```
 $query ="SELECT * FROM person INNER JOIN qualifications ON   
person.Personid=qualifications.Personid where Personid=$persid"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:08:15.240

一个人有很多资格，所以你需要展示所有的资格

请试试这个

```
while($QDrow = mysql_fetch_array($Qualificationid)){
?>  
<tr>
   <td><strong>Institution Name:</strong></td>
   <td><?php echo $QDrow['InstitutionName'];?><br/></td>
   </tr>
   <tr>
   <td><strong>Year Completed:</strong></td>
   <td><?php echo $QDrow['CompletionYear'];?><br/></td>
 </tr>    
<?php
} 
```

# python - 避免 Python/selenium 自动化中的下载文件对话框

> ID：13620266
> 
> 赞同：3
> 
> 时间：2012-11-29T06:45:27.397
> 
> 标签：python, selenium, automation

我正在使用此代码来自动化流程，该流程将在没有提示的情况下下载 Winzip 文件。但这似乎不起作用

```
profile = webdriver.firefox.firefox_profile.FirefoxProfile()
profile.set_preference('browser.helperApps.neverAsk.saveToDisk',("application/zip,
                                                   application/octet-stream"))
profile.set_preference('browser.download.folderList', 2)
profile.set_preference('browser.download.dir', '/home/jack/DOWNLOAD')
self.driver = webdriver.Firefox(firefox_profile=profile) 
```

我仍然看到在自动化时打开的对话框。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-05T06:37:35.687

我通过提取`href`下载链接并使用 python`urllib`模块解决了这种情况。

使用下面的代码，可以下载文件并将其保存为不同的文件名。

```
import urllib
url = driver.find_element_by_link_text("Download").get_attribute("href");
urllib.urlretrieve(url, "saveasfilename") 
```

# powershell - powershell add-member cmdlet问题

> ID：13620267
> 
> 赞同：1
> 
> 时间：2012-11-29T06:45:34.960
> 
> 标签：powershell

我正在使用 add-member cmdlet，发现以下三段代码没有给我相同的结果。任何人解释为什么？谢谢。

```
################################################################ 
$hash = @{"a" = "aa"; "b" = "bb"}
$result = new-object psobject
$result | Add-Member $hash
$result

################################################################ 
$hash = @{"a" = "aa"; "b" = "bb"}
$result = new-object psobject | Add-Member $hash
$result

################################################################ 
$hash = @{"a" = "aa"; "b" = "bb"}
$result = (new-object psobject | Add-Member $hash)
$result 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T08:54:55.490

第一个有效，因为 $result psobject 创建是在 Add-Member 之前执行的。第二个 2 不起作用，因为 $result 为空。下面的代码确保语句评估的顺序。

```
################################################################ 
$hash = @{"a" = "aa"; "b" = "bb"}
($result = new-object psobject) | Add-Member $hash
$result 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T08:58:42.723

$hash 可能绑定到错误的参数。正确的方法是确定成员类型（本例中为 NoteProperty）、名称和值：

```
$result | Add-Member -MemberType NoteProperty -Name MyHash -Value $hash 
```

如果将结果分配给变量，请添加 -PassThru 开关：

```
$result = new-object psobject | Add-Member -MemberType NoteProperty -Name MyHash -Value $hash -PassThru
$result.MyHash 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-29T13:45:37.347

您使用 $hash 作为 Add-Member 的位置参数。如果您查看 Add-Member 的帮助，在 PowerShell v2 中，第一个参数是 MemberType。所以你的第一个例子相当于

```
$result | Add-Member -MemberType @{"a" = "aa"; "b" = "bb"} 
```

PowerShell 无法将您的哈希表解释为 MemberType，因此会出错。这适用于所有三个示例。

在 PowerShell v3 中，它将您的第一个示例解释为

```
$result | Add-Member -NotePropertyMembers @{"a" = "aa"; "b" = "bb"} 
```

正如其他人已经指出的那样，如果您使用 Add-member 分配结果，则需要使用 -PassThru 参数。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-29T09:14:56.443

`Add-Member``-PassThru`除非您使用参数，否则不会返回任何内容。

# asp.net - 文字自动化——将页码添加到页面顶部

> ID：13620270
> 
> 赞同：1
> 
> 时间：2012-11-29T06:45:50.773
> 
> 标签：asp.net, .net, ms-word

我使用 Office Word Com 来构建 word 文档，我在页眉中添加了页码，但我需要分页格式如下：

当前唯一的数字：10

我想成为 ：

10 从 11

以及我想添加字体格式（粗体，字体名称，字体大小）这里是代码：

```
 Sub addnumber(ByRef oWordDoc As Word.Document)

        oWordDoc.ActiveWindow.ActivePane.View.SeekView = Word.WdSeekView.wdSeekCurrentPageHeader
        oWordDoc.ActiveWindow.ActivePane.Selection.Paragraphs.Alignment = Word.WdParagraphAlignment.wdAlignParagraphCenter
        Dim CurrentPage As Object = Word.WdFieldType.wdFieldNumPages
        oWordDoc.ActiveWindow.Selection.Fields.Add(oWordDoc.ActiveWindow.Selection.Range, CurrentPage, Type.Missing)

    End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:53:38.843

检查以下代码：

```
 oWordDoc.ActiveWindow.ActivePane.View.SeekView = Word.WdSeekView.wdSeekCurrentPageHeader

            oWordDoc.ActiveWindow.ActivePane.Selection.Paragraphs.Alignment = Word.WdParagraphAlignment.wdAlignParagraphCenter

            Dim CurrentPage As Object = Word.WdFieldType.wdFieldNumPages
            Dim CurrentPage1 As Object = Word.WdFieldType.wdFieldPage
            Dim format As Object = True
            oWordDoc.ActiveWindow.Selection.Range.Bold = True
            oWordDoc.ActiveWindow.Selection.Range.Font.Name = "Arial"
            oWordDoc.ActiveWindow.Selection.Range.Font.Size = 10

            oWordDoc.ActiveWindow.Selection.Fields.Add(oWordDoc.ActiveWindow.Selection.Range, CurrentPage, Type.Missing, format)
            oWordDoc.ActiveWindow.Selection.TypeText(" from ")
            oWordDoc.ActiveWindow.Selection.Fields.Add(oWordDoc.ActiveWindow.Selection.Range, CurrentPage1, Type.Missing, format) 
```

# c# - 如何以编程方式创建站点集合

> ID：13620272
> 
> 赞同：-2
> 
> 时间：2012-11-29T06:45:58.837
> 
> 标签：c#, asp.net, sharepoint-2010

我使用了以下代码，但它给出的异常为 System.NullReferenceException: Object reference not set to an instance of an object。谁能纠正

```
 try
    {
         SPWeb mySite = SPContext.Current.Web;
        SPWebCollection subSites = mySite.Webs;
        string currentTemplate = mySite.WebTemplate;

        string siteUrl = TextBox1.Text.ToString();
        string siteTitle = TextBox2.Text.ToString();
        string siteDescription = TextBox3.Text.ToString();

        subSites.Add(siteUrl, siteTitle, siteDescription, 1033,
           currentTemplate, true, false);

        lblMessage.Text = "Site created.";
    }
    catch (Exception ex)
    {
        lblMessage.Text = "Some error" + ex;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T09:28:21.957

如果您从 WPF 中调用它，则必须通过 ServerURL 创建 SPweb 对象。

代替`SPWeb mySite = SPContext.Current.Web;`

尝试`SPWeb mySite = new SPSite("http://demo2010site")`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T08:55:15.020

您正在 SharePoint 网站之外运行您的代码。`SPContext.Current`在这种情况下为空。

如果没有更多详细信息，则无法针对该异常提出任何解决方案。

# java - 在 Android 中使用 listview 启动另一个 Activity

> ID：13620279
> 
> 赞同：0
> 
> 时间：2012-11-29T06:46:18.843
> 
> 标签：java, android, listview

当用户单击列表项时，我想开始另一个活动。当我运行它时，虚拟机上没有出现错误，但我得到一个完全空白的屏幕。关于我的代码有什么错误有什么建议吗？

我计划开始另一个活动的活动代码是

```
public class Selector extends ListActivity {

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.selector);

    ListView listView = (ListView) findViewById(android.R.id.list);
     // storing string resources into Array
    String[] story_titles = getResources().getStringArray(R.array.story_list);

    // Binding resources Array to ListAdapter

    ArrayAdapter<String> adapter = new ArrayAdapter<String> (this,android.R.layout.simple_list_item_1,android.R.id.text1,story_titles);

    listView.setAdapter(adapter);
}

        public void onListItemClick(ListView parent,View view, int position, long id) {

            // Launching new Activity on selecting single List Item
            Intent i = new Intent(this, Descriptor.class);
            // sending data to new activity
            startActivity(i);
        }

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
} 
```

}

描述符类的代码如下

```
public class Descriptor extends ListActivity {

public void onCreateBundle(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.descriptor);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

} 
```

描述符 xml 是

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<TextView
    android:id="@+id/textView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:padding="40dip"
    android:text="@string/select"
    android:textAppearance="?android:attr/textAppearanceLarge"
    android:textColor="@android:color/background_dark" >
    </TextView>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="horizontal" >

<ListView
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/list"
    android:layout_width="480dp"
    android:layout_height="wrap_content"
    android:padding="40dip"
    android:textSize="16dip"
    android:textStyle="bold" >

</ListView>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" > 

<TextView
    android:id="@+id/textView2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:padding="40dip"
    android:text="@string/description"
    android:textAppearance="?android:attr/textAppearanceLarge"
    android:textColor="@android:color/background_dark" >
    </TextView>

<TextView
    android:id="@+id/textView3"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Story Description goes Here"
    android:padding="40dip"
    android:textAppearance="?android:attr/textAppearanceLarge"
    android:textColor="@android:color/background_dark"
   />

</LinearLayout>
</LinearLayout>
</LinearLayout> 
```

清单是

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.fableoid"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="15" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".MainActivity"
        android:label="@string/title_activity_main" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <activity android:name=".Selector" />
    <activity android:name=".Descriptor" />
</application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:54:51.413

您的 Descriptor.class 中有错误的方法。

```
public void onCreateBundle(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.descriptor);
} 
```

称呼

```
public void onCreate(Bundle savedInstanceState) 
```

反而

# java - maven-shade-plugin 的用途是什么，为什么要重新定位 Java 包？

> ID：13620281
> 
> 赞同：322
> 
> 时间：2012-11-29T06:46:36.803
> 
> 标签：java, maven, jar, maven-shade-plugin

我发现有人在 pom.xml 中使用了 maven-shade-plugin。我以前从未使用过 maven-shade-plugin（我是 Maven n00b），所以我试图了解使用它的原因以及它的作用。

我查看了[Maven 文档](http://maven.apache.org/plugins/maven-shade-plugin)，但是我无法理解这个声明：

> 这个插件提供了将工件打包在 uber-jar 中的能力，包括它的依赖项和遮蔽 - 即重命名 - 一些依赖项的包。

页面上的文档似乎对新手不太友好。

什么是“超级罐”？为什么有人想做一个？重命名依赖项的包有什么意义？我尝试浏览 maven-shade-plugin apache 页面上的示例，例如“为 Uber Jar 选择内容”，但我仍然无法理解“着色”正在完成什么。

任何指向说明性示例/用例的指针（解释为什么在这种情况下需要阴影 - 它解决了什么问题）将不胜感激。最后，我应该什么时候使用 maven-shade-plugin？

* * *

## 回答 #1

> 赞同：386
> 
> 时间：2012-11-29T06:58:47.667

简而言之，Uber JAR 是一个包含所有内容的 JAR。

通常在 Maven 中，我们依赖于依赖管理。工件仅包含其自身的类/资源。Maven 将负责根据项目的构建时间找出项目的所有工件（JAR 等）。

uber-jar 是一种获取所有依赖项的东西，并提取依赖项的内容并将它们与项目本身的类/资源一起放在一个大 JAR 中。通过拥有这样一个 uber-jar，执行起来很容易，因为您只需要一个大 JAR 而不是大量的小 JAR 来运行您的应用程序。在某些情况下，它还简化了分发。

附带说明：避免使用 uber-jar 作为 Maven 依赖项，因为它会破坏 Maven 的依赖项解析功能。通常我们只为实际部署或手动分发的最终工件创建一个 uber-jar，而不是用于放入 Maven 存储库。

* * *

更新：我刚刚发现我还没有回答问题的一部分：“重命名依赖项的包有什么意义？”。以下是一些简短的更新，希望能帮助有类似问题的人。

创建一个易于部署的 uber-jar 是 shade 插件的一个用例。还有其他涉及包重命名的常见用例。

例如，我正在开发`Foo`库，它依赖于库的特定版本（例如 1.0）`Bar`。假设我不能使用其他版本的`Bar`lib（因为 API 更改或其他技术问题等）。如果我在 Maven 中简单地声明`Bar:1.0`为`Foo`' 的依赖关系，则可能会遇到问题：一个`Qux`项目依赖于`Foo`，并且也`Bar:2.0`（并且它不能使用`Bar:1.0`，因为`Qux`需要使用 中的新功能`Bar:2.0`）。这是一个难题：应该`Qux`使用`Bar:1.0`（哪个`Qux`代码不起作用）还是`Bar:2.0`（哪个`Foo`代码不起作用）？

为了解决这个问题，开发者`Foo`可以选择使用shade插件重命名它的用法`Bar`，使jar中的所有类`Bar:1.0`都嵌入到jar中，嵌入类`Foo`的包由改为. 通过这样做，可以安全地依赖，因为 now不再依赖，并且它正在使用位于另一个包中的“已更改”的自己的副本。`Bar``com.bar``com.foo.bar``Qux``Bar:2.0``Foo``Bar``Bar`

* * *

## 回答 #2

> 赞同：72
> 
> 时间：2013-10-15T16:51:13.130

我最近想知道为什么 elasticsearch 会隐藏并重新定位它的一些（但不是全部）依赖项。这是项目维护者**[@kimchy](https://stackoverflow.com/users/275993/kimchy)**的解释：

> 阴影部分是有意的，我们在 elasticsearch 中使用的阴影库是 elasticsearch 的所有意图和目的部分，使用的版本与 elasticsearch 公开的内容以及它如何基于库的内部工作原理（以及版本之间的变化），netty 和 guava 就是很好的例子。
> 
> 顺便说一句，我实际上提供了几个弹性搜索罐没有问题，一个带有 lucene 没有阴影，一个带有 Lucene 阴影。不知道如何用 maven 来做。例如，我不想提供一个不遮蔽 netty/jackson 的版本，因为 elasticsearch 对它们的使用很深（例如，将即将到来的缓冲改进与除当前版本之外的任何先前版本的 netty 一起使用将与使用更少的内存相比，实际上使用更多的内存）。

*-- [https://github.com/elasticsearch/elasticsearch/issues/2091#issuecomment-7156766](https://github.com/elasticsearch/elasticsearch/issues/2091#issuecomment-7156766)*

还有来自**drawr**的另一个：

> 阴影对于保持我们的依赖项（尤其是 netty、lucene、guava）接近我们的代码很重要，这样即使上游提供者落后，我们也可以解决问题。我们可能会分发代码的模块化版本，这将有助于解决您的特定问题（例如#2091），但此时我们不能简单地删除阴影依赖项。您可以为您的目的构建一个本地版本的 ES，直到有更好的解决方案。

*-- [https://github.com/elasticsearch/elasticsearch/pull/3244#issuecomment-20125452](https://github.com/elasticsearch/elasticsearch/pull/3244#issuecomment-20125452)*

所以，这是一个用例。作为一个说明性示例，下面是 maven-shade-plugin 在 elasticsearch 的 pom.xml (v0.90.5) 中的使用方式。这些`artifactSet::include`行指示它将哪些依赖项拉入 uber JAR（基本上，当目标 elasticsearch jar 生成时，它们会与 elasticsearch 自己的类一起解压缩并重新打包。（如果您还不知道这一点，一个 JAR 文件是只是一个包含程序的类、资源等以及一些元数据的 ZIP 文件。您可以提取一个以查看它是如何组合在一起的。）

这些`relocations::relocation`行是相似的，除了在每种情况下它们还将指定的替换应用于依赖项的类 - 在这种情况下，将它们置于`org.elasticsearch.common`.

最后，该`filters`部分从目标 JAR 中排除了一些不应该包含在其中的东西 - 例如 JAR 元数据、ant 构建文件、文本文件等，它们与一些依赖项打包在一起，但不属于 uber JAR。

```
<plugins>
    <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-shade-plugin</artifactId>
        <version>2.1</version>
        <executions>
            <execution>
                <phase>package</phase>
                <goals>
                    <goal>shade</goal>
                </goals>
            </execution>
        </executions>
        <configuration>
            <minimizeJar>true</minimizeJar>
            <artifactSet>
                <includes>
                    <include>com.google.guava:guava</include>
                    <include>net.sf.trove4j:trove4j</include>
                    <include>org.mvel:mvel2</include>
                    <include>com.fasterxml.jackson.core:jackson-core</include>
                    <include>com.fasterxml.jackson.dataformat:jackson-dataformat-smile</include>
                    <include>com.fasterxml.jackson.dataformat:jackson-dataformat-yaml</include>
                    <include>joda-time:joda-time</include>
                    <include>io.netty:netty</include>
                    <include>com.ning:compress-lzf</include>
                </includes>
            </artifactSet>
            <relocations>
                <relocation>
                    <pattern>com.google.common</pattern>
                    <shadedPattern>org.elasticsearch.common</shadedPattern>
                </relocation>
                <relocation>
                    <pattern>gnu.trove</pattern>
                    <shadedPattern>org.elasticsearch.common.trove</shadedPattern>
                </relocation>
                <relocation>
                    <pattern>jsr166y</pattern>
                    <shadedPattern>org.elasticsearch.common.util.concurrent.jsr166y</shadedPattern>
                </relocation>
                <relocation>
                    <pattern>jsr166e</pattern>
                    <shadedPattern>org.elasticsearch.common.util.concurrent.jsr166e</shadedPattern>
                </relocation>
                <relocation>
                    <pattern>org.mvel2</pattern>
                    <shadedPattern>org.elasticsearch.common.mvel2</shadedPattern>
                </relocation>
                <relocation>
                    <pattern>com.fasterxml.jackson</pattern>
                    <shadedPattern>org.elasticsearch.common.jackson</shadedPattern>
                </relocation>
                <relocation>
                    <pattern>org.joda</pattern>
                    <shadedPattern>org.elasticsearch.common.joda</shadedPattern>
                </relocation>
                <relocation>
                    <pattern>org.jboss.netty</pattern>
                    <shadedPattern>org.elasticsearch.common.netty</shadedPattern>
                </relocation>
                <relocation>
                    <pattern>com.ning.compress</pattern>
                    <shadedPattern>org.elasticsearch.common.compress</shadedPattern>
                </relocation>
            </relocations>
            <filters>
                <filter>
                    <artifact>*:*</artifact>
                    <excludes>
                        <exclude>META-INF/license/**</exclude>
                        <exclude>META-INF/*</exclude>
                        <exclude>META-INF/maven/**</exclude>
                        <exclude>LICENSE</exclude>
                        <exclude>NOTICE</exclude>
                        <exclude>/*.txt</exclude>
                        <exclude>build.properties</exclude>
                    </excludes>
                </filter>
            </filters>
        </configuration>
    </plugin>
</plugins> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2020-03-04T00:25:16.527

我认为需要“阴影”jar 的一个例子是 AWS Lambda 函数。它们似乎只允许您上传 1 个 jar，而不是像您在典型的 .war 文件中找到的整个 .jar 集合。因此，创建一个包含项目所有依赖项的单个 .jar 可以让您执行此操作。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-01-13T13:55:56.083

* * *

## 小警告

虽然这没有描述为什么要使用 maven-shade-plugin（因为所选答案描述得很好），但我想指出我遇到了问题。它改变了 JAR（因为它正在做的事情）并导致我的软件回归。

因此，我没有使用这个（或 maven-jarjar-plugin），而是使用了 JarJar 的二进制文件，它似乎可以正常工作。

我在这里发布我的解决方案，因为我花了一些时间才找到一个体面的解决方案。

* * *

## 下载 JarJar 的 JAR 文件

您可以从此处下载 jar： [https](https://code.google.com/p/jarjar/) ://code.google.com/p/jarjar/ 在左侧菜单中，您有一个下载链接。

* * *

## 如何使用 JarJar 将 JAR 的类从一个包重新定位到另一个包

在本例中，我们将把包从“com.fasterxml.jackson”更改为“io.kuku.dependencies.com.fasterxml.jackson”。- 源 JAR 称为“jackson-databind-2.6.4.jar”，新修改的（目标）JAR 称为“kuku-jackson-databind-2.6.4.jar”。- “jarjar” JAR 文件的版本为 1.4

1.  创建一个“rules.txt”文件。文件的内容应该是（注意'@'字符之前的句点）：rule com.fasterxml.jackson.** io.kuku.dependencies.com.fasterxml.jackson.@1

2.  运行以下命令： java -jar jarjar-1.4.jar process rules.txt jackson-databind-2.6.4.jar kuku-jackson-databind-2.6.4.jar

* * *

## 将修改后的 JAR 安装到本地存储库

在这种情况下，我正在安装位于“c:\my-jars\”文件夹中的 3 个文件。

mvn install:install-file -Dfile=C:\my-jars\kuku-jackson-annotations-2.6.4.jar -DgroupId=io.kuku.dependencies -DartifactId=kuku-jackson-annotations -Dversion=2.6.4 - dpackaging=jar

mvn install:install-file -Dfile=C:\my-jars\kuku-jackson-core-2.6.4.jar -DgroupId=io.kuku.dependencies -DartifactId=kuku-jackson-core -Dversion=2.6.4 - dpackaging=jar

mvn install:install-file -Dfile=C:\my-jars\kuku-jackson-databind-2.6.4.jar -DgroupId=io.kuku.dependencies -DartifactId=kuku-jackson-annotations -Dversion=2.6.4 - dpackaging=jar

* * *

## 在项目的 pom 中使用修改后的 JAR

在此示例中，这是项目 pom 中的“依赖项”元素：

```
<dependencies>
    <!-- ================================================== -->
    <!-- kuku JARs -->
    <!-- ================================================== -->
    <dependency>
        <groupId>io.kuku.dependencies</groupId>
        <artifactId>kuku-jackson-annotations</artifactId>
        <version>2.6.4</version>
    </dependency>
    <dependency>
        <groupId>io.kuku.dependencies</groupId>
        <artifactId>kuku-jackson-core</artifactId>
        <version>2.6.4</version>
    </dependency>
    <dependency>
        <groupId>io.kuku.dependencies</groupId>
        <artifactId>kuku-jackson-databind</artifactId>
        <version>2.6.4</version>
    </dependency>
</dependencies> 
```

# iphone - 当 iPhone 应用程序在后台运行时显示一个弹出窗口 (UIAlertView)

> ID：13620284
> 
> 赞同：2
> 
> 时间：2012-11-29T06:46:49.920
> 
> 标签：iphone, ios, xcode

我是 iphone 应用程序开发的新手。

我的问题是我的应用程序在后台运行时如何显示弹出窗口（UIAlertView）？我正在为 ios 6 使用 xcode 4.2 我无法在互联网上找到令人满意的答案。有人可以帮我吗？

```
 - (void)applicationDidEnterBackground:(UIApplication *)application
      {
         UIApplication* app = [UIApplication sharedApplication];
         bgTask = [app beginBackgroundTaskWithExpirationHandler:^{
            [app endBackgroundTask:bgTask];
            bgTask = UIBackgroundTaskInvalid;
         }];

         dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
         NSTimer* t = [NSTimer scheduledTimerWithTimeInterval:5 target:self selector:@selector(doBackgroundProcessing) userInfo:nil repeats:YES];
        [[NSRunLoop currentRunLoop] addTimer:t forMode:NSDefaultRunLoopMode];
        [[NSRunLoop currentRunLoop] run];
    }); 
```

}

```
 - (void) doBackgroundProcessing
    {
        global = [lMGlobal getInstance];

        while(TRUE)
        {
            [self showAlertFor:@"Hello" andMessage:@"Wake up"];

            [NSThread sleepUntilDate:[lMGlobal getSleepDuration]];

        }

    }

    - (void) showAlertFor:(NSString *)title andMessage:(NSString*)message
      {
          UIAlertView *alertDialog;
          alertDialog = [[UIAlertView alloc]
               initWithTitle:title
               message:message
               delegate: self
               cancelButtonTitle: nil
               otherButtonTitles: @"Mute", nil];

          [alertDialog
          performSelector:@selector(show)
          onThread:[NSThread mainThread]
          withObject:nil
          waitUntilDone:NO];
          [alertDialog release];
      } 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-29T06:55:02.387

虽然不能显示 UIAlertView，但可以显示 UILocalNotification。您的代码可能如下所示：

```
backupAlarm = [[UILocalNotification alloc] init];

backupAlarm.fireDate = alarmTime;
backupAlarm.timeZone = [NSTimeZone systemTimeZone];

backupAlarm.alertBody = @"Good morning, time to wake up.";
backupAlarm.alertAction = @"Show me";
backupAlarm.soundName = UILocalNotificationDefaultSoundName; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:48:42.460

无法让您的应用`UIAlertView`在后台运行时显示。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:54:22.007

我不认为您可以直接执行此操作，但您可以**触发 UILocalNotification！**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-29T11:14:45.510

此外，@DavidBrunow 的响应，您必须通过以下方式安排配置的本地通知：

```
[[UIApplication sharedApplication] scheduleLocalNotification: backupAlarm]; 
```

# c++ - 记录多个波形输出设备播放的数据

> ID：13620286
> 
> 赞同：1
> 
> 时间：2012-11-29T06:47:18.330
> 
> 标签：c++, c, windows

我有一个程序，我通过套接字接收来自多方的语音数据，然后我在单独的线程中使用多个波形对象播放它，我想将数据存储
到一个通用文件中，如对话。可能吗？我正在使用 Windows MMI，waveout。

# java - j_security_check 与 Primefaces

> ID：13620287
> 
> 赞同：4
> 
> 时间：2012-11-29T06:47:24.883
> 
> 标签：java, authentication, jsf-2, primefaces, jaas

如何使用**Primefaces实现****j_security_check**？通常在**JSP**中如果要使用**JAAS**登录，登录形式一般为：

 ******```
<form action="j_security_check" method="POST">
   Username:<input type="text" name="j_username"><br>
   Password:<input type="password" name="j_password">
   <input type="submit" value="Login">
</form> 
```

但是我们如何在 JSF 或 Primefaces 中实现它！

*   会有什么动作
*   我们如何摆脱 id 或 name like`formId:componentId`
*   Primefaces`p:commandButton`默认情况下也是 ajaxified，那么它如何以非 ajax 方式提交表单

**我需要使用Primefaces**实现**JAAS**表单身份验证，我在这里分享解决方案；它可能对某人很方便。

 *** * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-11-29T06:47:24.883

解决方案非常简单。

*   您需要定义`h:form`with `prependId="false"`，这样它就不会生成组件的 id 或名称 as `formId:componentId`。
*   您需要`action="j_security_check"`在`h:form`as中定义`onsubmit="document.getElementById('login').action='j_security_check';"`
*   设置to的`ajax`属性，这样表单就不会以 ajax 方式提交。`p:commandButton``false`

就是这样。这是登录表单的完整代码，可以用上述表单代替：

```
<h:form id="login" onsubmit="document.getElementById('login').action='j_security_check';" prependId="false">
    <h:panelGrid columns="2">
        <p:outputLabel for="j_username" value="Username" />
        <p:inputText id="j_username" name="j_username" />            
        <p:outputLabel for="j_password" value="Password" />
        <p:password id="j_password" name="j_password"/>
        <p:commandButton id="submit" value="Login" ajax="false"/>
    </h:panelGrid>
</h:form> 
```

谢谢。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-01-22T22:24:50.803

有工作（使用 Primefaces 5）代码（从 p:inputText 和 p:password 中删除了名称属性，由 BalusC 部分建议删除）：

```
<h:form id="login" onsubmit="action='j_security_check';" prependId="false">
    <h:panelGrid columns="2">
        <p:outputLabel for="j_username" value="Username" />
        <p:inputText id="j_username" />            
        <p:outputLabel for="j_password" value="Password" />
        <p:password id="j_password" />
        <p:commandButton id="submit" value="Login" ajax="false"/>
    </h:panelGrid>
</h:form> 
```********

# iphone - 在 iOS 6 中我的应用程序的 Facebook 登录

> ID：13620292
> 
> 赞同：0
> 
> 时间：2012-11-29T06:47:38.377
> 
> 标签：iphone, objective-c, ios, xcode

我的应用程序需要 facebook 登录。当我通过 Facebook 登录时，它会将我重定向到我的应用程序，而且我需要访问令牌才能在控制台中。任何人都可以给我代码..我阅读了很多链接，但没有获取。如何做这个？？我是新手，所以有人可以给我代码。请。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:50:08.920

我真的不知道你说的每一个字。然而，实现 Facebook 登录就像导入 SDK 并调用 openSession()（或类似的东西）一样简单。按照 Facebook SDK 教程，您可以在 30 分钟内完成。这很简单。\

```
 const BOOL succeed = [FBSession openActiveSessionWithPermissions:
                                [[NSArray alloc] initWithObjects:@"publish_stream", @"user_photos", @"user_likes", nil]
                                                           allowLoginUI:YES
                                                      completionHandler:^(FBSession *session, FBSessionState state, NSError *error)
    {// Check state}]; 
```

你用你想要的权限调用这个简单的方法。allowLoginUI 应该是 YES 以便显示一个对话框。您在完成处理程序中检查状态。如果状态为 FBSessionStateOpen，您可以继续处理您的 Facebook 请求。

无需将 Facebook 令牌存储在最新的 SDK 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:46:13.540

试试这个。将 sdk 文件拖到您的项目中，然后编写以下代码。

```
Facebook *faceBook = [[Facebook alloc] initWithAppId:FACEBOOK_APPID];
NSArray* permissions =  [[NSArray arrayWithObjects:
                          @"email",@"publish_stream",@"offline_access", nil] retain];
[faceBook authorize:permissions delegate:self]; 
```

# iphone - 如何发布请求以获取 JSON 响应

> ID：13620293
> 
> 赞同：0
> 
> 时间：2012-11-29T06:47:59.200
> 
> 标签：iphone, objective-c, ios, json

我正在尝试使用 POST 方法向键值对发送 HTTP-POST 请求，这反过来会向我发送 JSON 响应。

**代码**

```
//[dictionnary setObject:@"tId" forKey:@"serialnumber"];
 NSMutableDictionary *dictionnary = [NSMutableDictionary dictionary];
         [dictionnary setObject:[NSString stringWithFormat:@"tId"] forKey:@"serialnumber"];
   [dictionnary setObject:[NSString stringWithFormat:@"tname"]  forKey:@"mobileimei"];
    [dictionnary setObject:[NSString stringWithFormat: @"tprice"] forKey:@"submerchantguid"];
    [dictionnary setObject:[NSString stringWithFormat: @"tquan"] forKey:@"transactionid"];
    [dictionnary setObject:[NSString stringWithFormat: @"tquan"] forKey:@"emailid"];
    [dictionnary setObject:[NSString stringWithFormat: @"tquan"] forKey:@"mobileno"];
    [dictionnary setObject:[NSString stringWithFormat: @"tquan"] forKey:@"signature"];
    [dictionnary setObject:[NSString stringWithFormat:@"tquan"] forKey:@"photo"];

 NSError *error = nil;
    NSData *jsonData = [NSJSONSerialization dataWithJSONObject:dictionnary
                                                       options:kNilOptions
                                                         error:&error];
    NSLog(@"Error is %@",error);

   NSString *urlString = @"MY_POST_URL/transaction/model/transactionsuccess";
    //NSString *urlString = @"http://yahoo.com";
    NSURL *url = [NSURL URLWithString:urlString];
    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];
    [request setHTTPMethod:@"POST"];

    [request setHTTPBody:jsonData];
    NSURLResponse *response = NULL;
    NSError *requestError = NULL;
    NSData *responseData = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&requestError];
    NSLog(@"request Error %@",requestError);
    NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding] ;
    NSLog(@"%@", responseString); 
```

**输出**

```
inside submitinfo method
2012-11-29 12:13:02.238 ReaderDeployment[1568:11f03] Error is (null)
2012-11-29 12:13:03.005 ReaderDeployment[1568:11f03] request Error (null)
2012-11-29 12:13:03.006 ReaderDeployment[1568:11f03] <!DOCTYPE html PUBLIC
    "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>PHP notice</title>

<style type="text/css">
/*<![CDATA[*/
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent;margin:0;padding:0;}
body{line-height:1;}
ol,ul{list-style:none;}
blockquote,q{quotes:none;}
blockquote:before,blockquote:after,q:before,q:after{content:none;}
:focus{outline:0;}
ins{text-decoration:none;}
del{text-decoration:line-through;}
table{border-collapse:collapse;border-spacing:0;}

body {
    font: normal 9pt "Verdana";
    color: #000;
    background: #fff;
}

h1 {
    font: normal 18pt "Verdana";
    color: #f00;
    margin-bottom: .5em;
}

h2 {
    font: normal 14pt "Verdana";
    color: #800000;
    margin-bottom: .5em;
}

h3 {
    font: bold 11pt "Verdana";
}

pre {
    font: normal 11pt Menlo, Consolas, "Lucida Console", Monospace;
}

pre span.error {
    display: block;
    background: #fce3e3;
}

pre span.ln {
    color: #999;
    padding-right: 0.5em;
    border-right: 1px solid #ccc;
}

pre span.error-ln {
    font-weight: bold;
}

.container {
    margin: 1em 4em;
.......... 
```

请纠正我的代码有什么问题。我还尝试使用发送所有值的详细信息

```
[dictionnary setObject:@"tId" forKey:@"serialnumber"]; 
```

格式也。我没有收到任何错误，仍然没有达到预期的 jSON 响应。后端只接收信息，并将状态抛出为“0”或“1”。相反，正在显示一些奇怪的输出，我想它是 css 脚本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:59:47.570

您在服务器端有错误，您不能直接使用 json 您必须先将 json 转换为数组**json_decode**然后使用数组的值

这是如何将 php json 转换为数组[http://php.net/manual/en/function.json-decode.php](http://php.net/manual/en/function.json-decode.php)

此外，要返回 json，您应该再次将 php 数组格式化为 JSON 编码

# forms - drupal中的自定义用户注册表单

> ID：13620303
> 
> 赞同：0
> 
> 时间：2012-11-29T06:48:50.903
> 
> 标签：forms, drupal-6

我正在使用 version6 在 drupal 中开发网站，我是 drupal 的新手。我需要自定义用户注册表单，并且需要根据角色显示不同的不同字段。我将为像学生这样的用户定义三个角色是天气学生、员工、校友。SO 字段也会因角色而异。我使用了配置文件模块，但它对我不起作用。所以请帮帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-12T12:37:44.700

您需要使用[Content Profile](http://drupal.org/project/content_profile)模块在 Drupal 6 中实现这一点。

内容配置文件模块具有对每个角色的自定义表单的内置支持（来自模块描述页面）：

> 内容配置文件可以限制为某些角色；**该模块还支持不同角色的单独内容配置文件**。

学习曲线很小，但该模块的文档应该足以让您入门。

还有一个相关的[Drupal Group 专门用于将配置文件存储为节点](http://groups.drupal.org/profiles-as-nodes)。

# mysql - 为什么我的 MySQL Left Join 查询结果混淆了？

> ID：13620304
> 
> 赞同：2
> 
> 时间：2012-11-29T06:49:00.780
> 
> 标签：mysql, sql, left-join

我迷失了 MySQL 查询（正在运行`MySQL 5.0.88`）

我有两张表，一张带有`products`from different `brands`，另一张带有`applications`（=应用程序过滤产品，因此并非每个应用程序都显示每个产品）。

我正在尝试根据用户正在运行的应用程序查询以获取品牌列表，如下所示：

```
SELECT    p.brand_name
        , p.id
        , p.seller_id
        , a.seller_id
        , a.info  
        , a.name
        , a.application_match_keys  

    FROM  applications AS a 
    LEFT JOIN products AS p
        ON a.seller_id = p.seller_id    
        AND p.brand_name IN ( <<QueryString: application_match_keys>> )

    WHERE  p.active = "1"
    AND    a.seller_id = "2222222222222"

    GROUP BY p.brand_name
    ORDER BY p.brand_name ASC 
```

问题是，一旦我这样做了，`left join`我就不再得到正确的结果，例如：

```
=== products ===
id        brand_name  seller_id
123       A           John
111       A           John
124       A           John
999       B           John
xx1       C           John

=== applications ===
name    seller_id   info  application_match_keys
red     John        foo   A
blue    John        bar   B,C 
```

如果用户在应用程序 A 中，他的品牌列表应该只包括来自具有相应 match_keys (= A) 的活跃产品的品牌，所以我希望查询返回

```
p.brand_name  application   info
A             red           foo 
```

但我总是得到正确的品牌名称和不匹配的应用程序数据，如下所示：

```
p.brand_name  application   info
A             blue          bar 
```

**问题：**
有没有办法在单个查询中进行查询，还是我必须先查询`active products' brands with matching application key`然后再次循环/查询才能获取我需要的应用程序数据？也必须在单个查询中实现吗？

感谢帮助！

**编辑：**
明白了。这是它的工作原理：

```
SELECT    p.brand_name
        , p.id
        , p.seller_id
        , a.seller_id
        , a.info  
        , a.name
        , a.application_match_keys 

FROM  applications AS a 
LEFT JOIN products AS p
    ON a.seller_id = p.seller_id
    AND p.brand_name IN ( <<QueryString: application_match_keys>> )
    AND FIND_IN_SET( a.application_match_keys, <<QueryString: application_match_keys>>) <> 0    

WHERE  p.active = "1"
AND    a.seller_id = "2222222222222"

GROUP BY p.brand_name
ORDER BY p.brand_name ASC 
```

非常感谢你！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:57:21.903

如何使用`FIND_IN_SET`？

```
AND FIND_IN_SET(p.brand_name, a.application_match_keys) <> 0 
```

*   [FIND_IN_SET](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_find-in-set)

# google-maps - Google Places API - getQueryPredictions Restrict by Country/City/State？

> ID：13620308
> 
> 赞同：10
> 
> 时间：2012-11-29T06:49:28.153
> 
> 标签：google-maps, google-places-api

下面是google给出的getQueryPredictions例子

```
service.getQueryPredictions({input: 'pizza near'}, callback); 
```

有没有办法限制特定国家/城市/州的结果？

其他功能/组件有能力做到这一点

```
var input = document.getElementById('searchTextField');
var options = {  types: ['(cities)'],  componentRestrictions: {country: 'fr'}};
autocomplete = new google.maps.places.Autocomplete(input, options); 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-08T07:04:03.370

使用这个类似的函数（它比 getQueryPredictions 更强大一点）：

```
getPlacePredictions(
            {
            input: "pizza near",
            types: ['(cities)'],
            componentRestrictions: {country: 'fr'}
            }, 
            callback); 
```

支持四种**类型**：企业的“机构”、地址的“地理编码”、行政区域的“（地区）”和地方的“（城市）”。

或者，如果您想使用 geyQueryPredictions()，您可以执行以下技巧（但这不是一个好方法）：

**{输入：'附近的披萨'+'，AR-M'}**

其中“AR-M”是阿根廷门多萨的邮政编码。（我住的地方）只要看看你所在位置的邮政编码。

当您显示预测时，请执行以下操作：

```
for (var i = 0, max = predictions.length; i < max; i++) {
    var address = predictions[i].description.replace(/AR-M,/g, '');
        ...
    } 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-04T02:54:11.200

目前不支持此功能，支持的请求参数请参见[参考文档](https://developers.google.com/maps/documentation/javascript/3.exp/reference#QueryAutocompletionRequest)。

如果您认为这是一个有用的功能，请添加[Places API - Feature Request](http://code.google.com/p/gmaps-api-issues/issues/entry?template=Places%20API%20-%20Feature%20Request)。

# iphone - yii控制器动作的自动刷新/调用

> ID：13620316
> 
> 赞同：1
> 
> 时间：2012-11-29T06:50:01.523
> 
> 标签：iphone, yii-extensions, yii

在 Yii 应用程序控制器中，我有一个用于 xml url 解析和插入数据库表的操作。

在一定的时间间隔后，我想检查 xml url 中是否有任何更新。我想通过再次调用控制器操作来实现这一点。

我想通过自动刷新页面或自动调用控制器操作来实现这一点。Yii 中实现我想要的最好方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-08T12:19:50.363

你可以通过创建一个调用 Yii 动作的 cron 作业来做到这一点。由于 cron 作业从命令行调用操作，因此您应该将它们编写为控制台操作。检查[控制台应用程序的 Yii 指南](http://www.yiiframework.com/doc/guide/1.1/en/topics.console)

# joomla - WordPress 是否像 Joomla 那样提供插件覆盖功能？

> ID：13620317
> 
> 赞同：3
> 
> 时间：2012-11-29T06:50:06.913
> 
> 标签：joomla, wordpress

我想以与 Joomla 类似的方式覆盖 WordPress 插件的输出，这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T08:37:56.283

您可以使用过滤器在数据输出之前对其进行更改。

[http://codex.wordpress.org/Plugin_API#Filters](http://codex.wordpress.org/Plugin_API#Filters)

或者`template_include`过滤器可用于提供不同的自定义模板。例如

```
function choose_template($template)
{
  if( $template == 'plugin-template-page.php' )
  {
    $template = 'my-template-page.php';
  }
  return $template;
}
add_filter('template_include','choose_template'); 
```

# javascript - Javascript监视变量值变化？

> ID：13620319
> 
> 赞同：0
> 
> 时间：2012-11-29T06:50:30.160
> 
> 标签：javascript

基本上我有一个读取cookies的功能。获取Cookie（'消息'）。

当`getCookie('message')`值更改时，我想显示带有新值的警报。

我认为该函数可以被视为一个变量。因此，如果不是，请让我知道问题的标题，以便我更正它。如何监听函数返回值的变化？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-29T06:56:47.143

基本轮询示例

```
var message = getCookie('message');
setInterval(function(){
    var m = getCookie('message');
    if(m != message) {
        message = m;
        alert(message);
    }
}, 1000); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-29T07:02:03.473

行。所以你想读取cookie的值。像这样有点容易 -

要读取 cookie，请调用此函数并传递 cookie 的名称。将名称放入变量中。首先检查这个变量是否有值（如果 cookie 不存在，则变量变为 null，这可能会扰乱函数的其余部分），然后做任何必要的事情。

```
var x = readCookie('ppkcookie1')
  if (x) 
   {
    alert("this is a change"+x)
   } 
```

饼干读。

# php - 在文件夹中运行 Zend Framework 2

> ID：13620320
> 
> 赞同：0
> 
> 时间：2012-11-29T06:50:34.083
> 
> 标签：php, localhost, zend-framework2

我需要在服务器 IP 地址上临时运行 Zend Framework 2 项目。我必须运行两个 Zend Framework 2 项目作为 http://IP-ADDRESS/project1 和 http://IP-ADDRESS/project2。我搜索了但得到了虚拟主机的例子。有没有人知道如何做到这一点或一些教程网址来做到这一点。

我在直接运行路径 http://localhost/project1/public 时尝试不使用虚拟，但它给了我类似“未捕获的异常”RuntimeException 的错误消息“无法加载 ZF2。运行`php composer.phar install`或定义 ZF2_PATH 环境变量。'。虽然相同的结构与虚拟主机一起工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:23:38.953

使用 putenv 设置 Env 变量可以解决问题，所以必须回答问题。

# php - 卷曲 没有设置 URL！3 错误

> ID：13620324
> 
> 赞同：2
> 
> 时间：2012-11-29T06:50:54.747
> 
> 标签：php, curl, joomla

当我执行此代码时，我正在使用 curl 从 Punchtab 获取结果我收到 curl 异常 3 未设置 URL！任何人都可以帮助我。

```
$tocken2 =  "https://api.punchtab.com/v1/user?access_token=".$rest->authResponse->accessToken;

  $ch1 = curl_init();
  $ca = 'c:/path/to/ca-bundle.crt';
  curl_setopt($ch, CURLOPT_URL,$tocken2);

    curl_setopt ($ch1, CURLOPT_SSL_VERIFYHOST, 0);
    curl_setopt ($ch1, CURLOPT_SSL_VERIFYPEER, 0);
    curl_setopt($ch1, CURLOPT_POST, 1);
    curl_setopt($ch1, CURLOPT_REFERER, "http://locatefirms.in");        
    curl_setopt($ch1, CURLOPT_RETURNTRANSFER, true);

    $server_output = curl_exec ($ch1);
    $errorMsg = curl_error($ch1);
    $errorNumber = curl_errno($ch1);
    echo $errorMsg;
    echo $errorNumber;
    echo $server_output;exit; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T07:00:17.307

您的 curl 句柄是`$ch1`，但您将 URL 选项设置为`$ch`.

```
$ch1 = curl_init(); // initializing $ch1 here
curl_setopt($ch, CURLOPT_URL,$tocken2); // setting option to $ch 
```

很明显，要解决这个问题，您需要将语句更改为

```
curl_setopt($ch1, CURLOPT_URL,$tocken2); 
```

# android - 关闭后台无法关闭服务

> ID：13620330
> 
> 赞同：0
> 
> 时间：2012-11-29T06:51:30.413
> 
> 标签：android

我在 onDestroy() 方法中编写了这段代码。

```
@Override
public void onDestroy()
{
MessageService.this.stopSelf();
messageThread.isRunning = false;
System.exit(0);
super.onDestroy();
} 
```

并在其他 Activity 中关闭该服务。

```
stopService(new Intent(MainOptionActivity.this,MessageService.class)); 
```

我尝试了很多代码，关闭后台时无法关闭服务。谁能给我一些建议？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:38:51.450

这是服务类的简单代码

```
public class MyService extends Service {

@Override
public IBinder onBind(Intent intent) {

    return null;
}

@Override
public void onCreate() {
    Toast.makeText(getApplicationContext(), "MSG onCreate SERVICE", Toast.LENGTH_LONG).show();
    super.onCreate();
}

@Override
public int onStartCommand(Intent intent, int flags, int startId) {
    Toast.makeText(getApplicationContext(), "MSG onStartCommand SERVICE", Toast.LENGTH_LONG).show();
    return super.onStartCommand(intent, flags, startId);
}

@Override
public void onDestroy() {
    Toast.makeText(getApplicationContext(), "MSG STOP SERVICE", Toast.LENGTH_LONG).show();
    super.onDestroy();
}

} 
```

这是测试此服务的代码

```
 startService(new Intent(this, MyService.class));

    new Timer().schedule(new TimerTask() {

        @Override
        public void run() {
            startService(new Intent(getApplicationContext(), MyService.class));
        }
    }, 5000);

    new Timer().schedule(new TimerTask() {

        @Override
        public void run() {
            stopService(new Intent(getApplicationContext(), MyService.class));
        }
    }, 10000); 
```

这工作得很好。还要在清单中添加此代码

```
<service android:name=".MyService" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:21:05.107

不要`System.exit(0)`在 Android 上使用，而是使用`finish`（例如在 Activity 中）。

但是没有必要停止自己的`onDestroy`方法，它实际上会被停止和销毁（这就是`onDestroy`方法的用途）。

您停止执行该方法，`System.exit(0);`因此系统永远不会到达 `super.onDestroy();`点并且服务不会被破坏。

试一试

```
@Override
public void onDestroy() {
    messageThread.isRunning = false;
    super.onDestroy();
} 
```

# c# - 我在vc6中有win32 dll并用参数char *调用c#？

> ID：13620333
> 
> 赞同：0
> 
> 时间：2012-11-29T06:51:35.073
> 
> 标签：c#, c++, dll, visual-c++-6

这个vc6代码：

```
MCASMARTMANAGER_API int  __stdcall reqeustKey_test(char* prKey)
{    
    Xhandeler.GetPrimaryKey(prKey);
    return 0;
}

prKey = "AB472EDB9012" 
```

而这个 C# 代码：

```
[DllImport(McaSmartManagerDllPath, CallingConvention = CallingConvention.StdCall, CharSet = CharSet.Auto)]
[return:MarshalAs(UnmanagedType.LPStr)]
public static extern string reqeustKey_test([MarshalAs(UnmanagedType.LPWStr), In, Out] string prKey);
var key_ = new string(' ', 17);
_strPrimaryKey = McaSmartNativeCommand.reqeustKey_test(key_); 
```

我在 key_ {'い㠶㐵䘷䘰䉆ㄴ㌰'} 上收到的运行时。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:16:27.097

首先，“请求”拼写错误。

其次，ac# 字符串是 unicode（16 位）。VC6 char* 是 ASCII（8 位）。您的 MarshalAs 应该使用`MarshalAs(UnmanagedType.LPStr)`

第三，您的返回类型不是字符串，而是 int，并且应该编组为`MarshalAs(UnmanagedType.I4)`,

# android - 从 adb shell 在韩语键盘中输入 keyevent

> ID：13620337
> 
> 赞同：5
> 
> 时间：2012-11-29T06:51:40.990
> 
> 标签：android, adb

我想使用 adb shell 将韩语或其他非英语文本发送到 Android 设备。选择的输入键盘语言是韩语，但它始终使用`adb input keyevent`命令显示英文字符。如果我从设备键入它可以工作。

同样的事情在模拟器中有效，但在真实设备上无效。

# ios - iphone Xib内部结构

> ID：13620338
> 
> 赞同：1
> 
> 时间：2012-11-29T06:51:42.470
> 
> 标签：ios, xib

当我们看到xib文件的源码时，里面有一些键值和关键字。任何人都知道这些关键字的含义以及我们如何知道我们在哪个地方使用哪个关键字。我知道里面发生的逻辑，但没有足够的关键字知识（在 xib 源代码中使用）。如果有任何教程或文档可用，请在此处发布它会对我有所帮助。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-30T07:23:00.217

```
Xib source code based on parents, child and sibling concept, it means it fully works on tree concept. 

<string key="className">RSViewController</string>
<string key="superclassName">UIViewController</string>
<object class="IBClassDescriptionSource" key="sourceIdentifier">
<string key="majorKey">IBProjectSource</string>
<string key="minorKey">./Classes/RSViewController.h</string>

Class name :- Your current class name.
SuperclassName :- In which class your current class inherited.

Like that all keywords have its own value. 
```

# android - Android ListView onitemclick 监听器

> ID：13620342
> 
> 赞同：1
> 
> 时间：2012-11-29T06:52:06.790
> 
> 标签：android, android-listview, onclicklistener, onitemclicklistener, onitemclick

当我单击我的列表视图项目时，它会调用 onitemclick 侦听器，但是当我单击长项目时，它会同时调用 initemclick 和 onitemlongclick 侦听器。如何解决长按时只调用 onitemlongclick 监听器？

```
 list.setOnItemClickListener(new OnItemClickListener()
           {

            public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                    long arg3) {
                //my code

            }

           });
        list.setOnItemLongClickListener(new OnItemLongClickListener() {

            public boolean onItemLongClick(AdapterView<?> arg0, View arg1,int arg2, long arg3) {
//my code
    }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:59:28.637

请注意，onItemLongClick() 有一个布尔返回值。如果您不想调用 onItemClick，请让 onItemLongClick() 返回 true。

```
 list.setOnItemLongClickListener(new OnItemLongClickListener() {

        public boolean onItemLongClick(AdapterView<?> arg0, View arg1,int arg2, long arg3) {
           //....

           // Above are your code.
           // Return true for this method as below.
           return true;
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:01:42.173

在这种情况下，最好将 onClickListener() 用于列表的各个视图而不是列表。也适用于视图的 onItemLongClickListener()。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:14:23.577

尝试像这样使用 return ...

list.setOnItemClickListener(new OnItemClickListener() {

```
 public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                long arg3) {

        }

       });
    list.setOnItemLongClickListener(new OnItemLongClickListener() {

        public boolean onItemLongClick(AdapterView<?> arg0, View arg1,int arg2, long arg3) {
    return true;
}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T07:21:42.633

你只需要返回 false 来告诉系统它不应该再传递事件。

```
 list.setOnItemLongClickListener(new OnItemLongClickListener() {

         public boolean onItemLongClick(AdapterView<?> arg0, View arg1,int arg2, long arg3) {
              //Do something
              return false;
        } 
```

# android - 如何使用淡化文本制作自定义 TextView？

> ID：13620344
> 
> 赞同：2
> 
> 时间：2012-11-29T06:52:20.100
> 
> 标签：android, textview, android-custom-view, marquee

我想定制一个`TextView`带有渐变文本的自定义，比如选框的渐变效果。这是我的代码：它不起作用。

```
 public class FadeTextView extends TextView {

    private Paint mShaderPaint;
    private Matrix mMatrix;
    private LinearGradient mShader;
    private RectF mFadingRect;

    public FadeTextView(Context context) {
        super(context);
        // TODO Auto-generated constructor stub
    }

    public FadeTextView(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
        // TODO Auto-generated constructor stub
    }

    public FadeTextView(Context context, AttributeSet attrs) {
        super(context, attrs);
        // TODO Auto-generated constructor stub
    }

    @Override
    protected void onDraw(Canvas canvas) {
        // TODO Auto-generated method stub
        super.onDraw(canvas);
        mShaderPaint = new Paint();
        mShader = new LinearGradient(getLeft(), getTop(), getRight(), getBottom(), 0x7FFFFFFF, 0x00FFFFFF,
                TileMode.CLAMP);
        mShaderPaint.setShader(mShader);
        mShaderPaint.setXfermode(new PorterDuffXfermode(android.graphics.PorterDuff.Mode.DST_IN));

        canvas.drawRect(getLeft(), getTop(), getRight(), getBottom(), mShaderPaint);
    }
} 
```

即使我试图只画一个文字，它也失败了：

```
 super.onDraw(canvas);
    Paint paint = new Paint();
    paint.setColor(Color.RED);
    paint.setTextSize(16);
    canvas.drawText("test", getLeft(), getTop(), paint); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:03:23.083

您也可以使用 xml 制作淡入淡出动画，如下所示（anim/alpha.xml）将其放入
**res/anim/alpha.xml**

```
 <alpha xmlns:android="http://schemas.android.com/apk/res/android"
  android:fromAlpha="0.0"
  android:toAlpha="1.0"
  android:duration="3000" /> 
```

**在java文件中**

```
 private void StartAnimations() {
    Animation anim = AnimationUtils.loadAnimation(this, R.anim.alpha);
    anim.reset();
    TextView l=(TextView) findViewById(R.id.your_textview_id);
    l.clearAnimation();
    l.startAnimation(anim);
   } 
```

有关更多详细信息，您可以查看此[动画启动画面](http://manishkpr.webheavens.com/android-fancy-animated-splash-screen/)

# c - 将整数矩阵输入 cblas_sgemm 返回全 0

> ID：13620349
> 
> 赞同：2
> 
> 时间：2012-11-29T06:52:48.413
> 
> 标签：c, blas

我正在尝试使用 cblas_sgemm 对两个整数矩阵进行快速矩阵乘法。

现在它返回全零。

我运行了一个快速的简单矩阵乘法来仔细检查预期的输出数据，它们不应该是零。

**工作**天真的方法：

```
typedef int    mm_data_t;

void func1( mm_data_t *in1, mm_data_t *in2,  mm_data_t *out, int N ){
    int i, j, k;

    for(i=0; i<N; i++){
        for(k=0; k<N; k++){
            int temp = in1[i*N+k];
            for(j=0; j<N; j++){
                out[i*N+j] += temp * in2[k*N+j];
            }
        }
    }
} 
```

并使用 cblas_sgemm：

```
void func2( mm_data_t *in1, mm_data_t *in2,  mm_data_t *out, int N ){

    cblas_sgemm(CblasRowMajor, CblasNoTrans, CblasNoTrans, N,  N,  N, 1.0, (float*)in1, N, (float*)in2, N, 0.0, (float*)out, N);

} 
```

我正在使用一维数组进行优化。

输入数据是黑盒的，但是是恒定的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-01T17:18:09.640

`cblas_sgemm()`旨在将单精度*浮点*值矩阵相乘，而不是整数。

所以你的整数被解释为浮点值。小的正整数很可能被视为[次正规数](http://en.wikipedia.org/wiki/Denormal_number)。将其中任何一对相乘将得到零。因此，如果您的输入都是小的非负整数，则输出将全为零。

如果您的输入包含小的负整数，您的输出可能会包含很多[NaN](http://en.wikipedia.org/wiki/NaN)，它们看起来像非常大的整数（可能是正数或负数。）

如果您确实需要将整数相乘，则需要将它们从浮点数转换为 &，或者使用可以将整数矩阵相乘的库（BLAS 不能。）

# svn - svn 从多个版本创建补丁

> ID：13620350
> 
> 赞同：4
> 
> 时间：2012-11-29T06:52:56.597
> 
> 标签：svn, patch, revisions

如果我有更改，在修订版 11、13、17、20 中提交到分支中，我可以创建这样的 svn 补丁吗？

svn 差异 -r11:20

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T08:19:21.747

你可以，但不要忘记你所区分的路径，`svn diff`JFYI 的规范第一形式是：

```
diff [-c M | -r N[:M]] [TARGET[@REV]...] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-09T16:45:30.617

这应该足够了:)

```
svn diff -rFIRSTREVISION:LATESTREVISION pathOfWorkingCopy > /myPatchFile.patch 
```

# c# - LINQ 查询以指定时间间隔从数据库中获取值

> ID：13620352
> 
> 赞同：0
> 
> 时间：2012-11-29T06:53:00.667
> 
> 标签：c#, .net, sql, linq

我想在 C# 中以特定间隔从数据库中获取值，并且需要一个 LINQ 查询。这就是我的数据库的样子

```
Id      SensorId  Value       CreatedOn   

1         8        33.5       15-11-2012  5:48 PM     
2         5        49.2       15-11-2012  5:48 PM 
3         8        33.2       15-11-2012  5:49 PM
4         5        48.5       15-11-2012  5:49 PM
5         8        31.8       15-11-2012  5:50 PM  
6         5        42.5       15-11-2012  5:50 PM  
7         8        36.5       15-11-2012  5:51 PM  
8         5        46.5       15-11-2012  5:51 PM  
9         8        39.2       15-11-2012  5:52 PM  
10        5        44.4       15-11-2012  5:52 PM  
11        8        36.5       15-11-2012  5:53 PM  
12        5        46.5       15-11-2012  5:53 PM  
13        8        39.2       15-11-2012  5:54 PM  
14        5        44.4       15-11-2012  5:54 PM  
..        .        ....       ................... 
```

间隔以分钟为单位。所以，如果间隔是 10 分钟，那么我们需要 5:48、5:58、6:08 等处的值...

这是我尝试过的

```
while (startDateTime <= endDateTime)
            {
               var fetchIndex =
                    fullValues.Where(
                        item =>
                        item.CreatedOn >= startDateTime &&
                        item.CreatedOn < startDateTime.AddMinutes(1)).Select(
                            item => item.FetchIndex).FirstOrDefault();
                if (fetchIndex != 0)
                {
                    var temp = fullValues.Where(item => item.FetchIndex == fetchIndex).ToList();
                    result = result.Union(temp);
                }

                startDateTime = startDateTime.AddMinutes(interval);
            } 
```

由于 while 循环遍历表，因此需要花费大量时间来获取这些值。

有没有办法在单个查询中获取数据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:36:19.483

以下方法创建一个列表，其中包含和`requiredTimes`之间的所有相关日期时间（开始和结束日期时间之间的 10 分钟间隔中的日期时间）。创建此类列表后，将在其上进行内部连接。结果是一个 IEnumerable，其中包含满足间隔条件的日期时间。它应该工作得很快，因为创建这样的列表很快，而且该方法是一个内部连接，它也应该工作得很快，试试吧：`startDateTime``endDateTime``fullValues``fullValues``Join`

```
 DateTime startDateTime = DateTime.Parse("15-11-2012 5:48 PM");
        DateTime endDateTime = DateTime.Parse("16-11-2012 5:58 PM");

        List<DateTime> requiredTimes = new List<DateTime>();

        DateTime dt = startDateTime;
        requiredTimes.Add(dt);
        while (dt <= endDateTime)
        {
            dt = dt.AddMinutes(10);
            requiredTimes.Add(dt);
        }

        var result = fullValues.Join(
            requiredTimes,
            fv => fv.CreatedOn,
            rt => rt,
            (fv, rt) => fv); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T07:06:24.247

```
from x in table
where   x.CreatedOn >= startDateTime &&
        x.CreatedOn <= endDateTime &&
        (x.CreatedOn.Minute % 10) == 0
select x 
```

这会给你 1:00,1:10,1:20

10 代表您的间隔，0 是您的偏移量。

# c++ - 自定义对象的 C++ (Qt) 最大向量大小

> ID：13620354
> 
> 赞同：0
> 
> 时间：2012-11-29T06:53:10.697
> 
> 标签：c++, qt, vector

我正在使用 Qt Creator 版本 5.0.0 beta 来编写我的代码，使用带有 SP1 的 MSVC2010 并且所有更新都应用于编译。

我正在创建一个已定义的对象向量，用于存储有关我的测量公司工作的元信息。

我将以下信息存储在此结构中，变量类型然后是变量名；

```
#pragma once
#ifndef JOB_H
#define JOB_H

#include "surveyman.h"
#include "client.h"
#include "contact.h"
#include "job.h"
#include "legallocation.h"
#include "location.h"
#include <string>
#include <time.h>
#include <QDate>

using namespace std;

class job
{
public:
    job();
job(int newUI, int newJobNumber, string newAddendum, string newJobType,
    string newDevelopmentName, QDate newDateReceived, string newNotes,
    legalLocation newJobLocation, client newCustomer, int newTotalMoneyPaid)
;
static int uniqueIdentifier;
    int jobNumber;
private:
    int UI;

    string addendum;
    string jobType;
    string developmentName;
    QDate dateReceived;
    string notes;
    legalLocation jobLocation;
    client customer;
    int totalMoneyPaid;
};

#endif // JOB_H

#pragma once
#ifndef LOCATION_H
#define LOCATION_H

#include <string>

using namespace std;

class location
{
public:
    location();
    location(string, string, string, string, string, int, string, string, string);
    string getAddressLine1();
    void setAddressLine1(string);
    string getAddressLine2();
    void setAddressLine2(string);
    string getAddressLine3();
    void setAddressLine3(string);
    string getAddressLine4();
    void setAddressLine4(string);
    string getLocality();
    void setLocality(string);
    string getStreet2();
    void setStreet2(string);
    string getAdditionalStreets();
    void setAdditionalStreets(string);
    string getAdditionalLocalities();
    void setAdditionalLocalities(string);
    int getUI();
    int getPostCode();
    void setPostCode(int);
    string toString();
    string getProvince(int);
    static int uniqueIdentifier;
private:
    int UI;
    string addressLine1;
    string addressLine2;
    string addressLine3;
    string addressLine4;
    string locality;
    int postCode;
    string street2;
    string additionalStreets;
    string additionalLocalities;

};

#endif // LOCATION_H

#pragma once
#ifndef LEGALLOCATION_H
#define LEGALLOCATION_H

#include "location.h"
#include <string>
#include <vector>

using namespace std;

class legalLocation : public location
{
public:
    legalLocation();
    legalLocation(location basicLocoation, vector<vector<int> > folios);
    legalLocation(string, string, string, string, string, int, string,
                  string, string, vector<vector<string> >);
    vector<vector<string> > getFolios();
private:
    vector<vector<string> > folios;

};

#endif // LEGALLOCATION_H

#pragma once
#ifndef CLIENT_H
#define CLIENT_H

#include "location.h"
#include "legallocation.h"
#include <string>
#include "contact.h"

using namespace std;

class client
{
public:
    client();
    client(string, string, string, string, string, location, vector<contact>);
    client(int, string, string, string, string, string, location, vector<contact>);
    static int uniqueIdentifier;
private:
    int UI;
    string lastName;
    string firstName;
    string phone;
    string fax;
    string emailAddress;
    location address;
    vector<contact> contacts;

};

#endif // CLIENT_H

#pragma once
#ifndef CONTACT_H
#define CONTACT_H

#include <string>
using namespace std;

class contact
{
public:
    contact();
    contact(string, string, string, string);
    static int uniqueIdentifier;
private:
    int UI;
    string firstName;
    string lastName;
    string phone;
    string emailAddress;

};

#endif // CONTACT_H 
```

当我将需要大量代码才能从一种非常非结构化的格式中获取信息的作业导入到这种格式中时，我注意到了关于使用 vector.push_back(temporaryJob) [实际代码是 jobsDatabase.push_back(tempJob);] 的三件事

当它达到添加到向量中的 5395 个作业时，程序停止工作并给出标准的微软“程序已停止响应”窗口。

当我创建第二个向量对象并在第一个向量中存储了 5000 个对象后添加到其中时，第二个向量对象在发生相同错误之前达到 711 的大小。

当对两个向量对象使用相同的代码并将限制提高到 5350 时，第二个文件在警告出现之前达到 474。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T10:37:39.780

可能同时有几个问题：

*   复制作业类。我不知道你是怎么做的，但是如果你创建另一个线程，那么你就有一个错误。这可能会导致您的操作系统耗尽资源。当向量变满（超过保留空间）时，可能会发生这种情况
*   内存不足。您只需尝试保留过多的内存，然后您的系统就有了。同样，如果需要将向量的大小调整为大于保留的大小，则可能会发生这种情况

# eclipse - 使用 Eclipse Helios 配置 Tomcat 7.0？

> ID：13620357
> 
> 赞同：1
> 
> 时间：2012-11-29T06:53:30.227
> 
> 标签：eclipse, tomcat

我正在使用底部的服务器选项卡添加服务器

从

服务器选项卡-> 右键单击​​服务器选项卡（在底部）-> 新建

-> 服务器，然后选择“Tomcat v7.0 服务器”。

在新的服务器环境中，我正在使用以下详细信息

名称：- Apache Tomcat v7.0 (3)

Tomcat 安装目录 :-C:\Documents and Settings\499451\My Documents\Tomcat_7\apache-tomcat-7.0.33,,, JRE :- jre6（已安装 JRE）然后我点击完成按钮。

然后在“定义新服务器”对话框中，我正在使用详细信息

服务器的主机名：- localhost

服务器名称：- 本地主机上的 Tomcat v7.0 服务器

服务器运行环境：- Apache Tomcat v7.0

然后我单击完成按钮，添加的 tomcat 服务器现在显示在服务器选项卡下的窗口中。

但是当我输入 URL 时：“http://localhost:8080/”

然后我收到以下错误：HTTP Status 404 -/

类型：- 状态报告

信息 ：-/

描述：-请求的资源不可用。这个错误的原因可能是什么？

寻求帮助！

# knockout.js - 在淘汰赛中使用自定义映射创建和更新有什么区别？

> ID：13620358
> 
> 赞同：3
> 
> 时间：2012-11-29T06:53:30.037
> 
> 标签：knockout.js, knockout-mapping-plugin

```
 var repo = {
     desc: 'this is repo desc.',
     title: 'this is title.',
     job: { jobId: 1, description: 'job desc', status: 'Done', workAllowed: 'Yes' },
     fault: { faultId: 1, jobId: 1, faultDescription: 'some thing', removed: 1, },
 };

 var mappingSettings = {
        'job': {
            create: function (options) {
                options.data.status = "this has been created.";
                return options.data;
            },
            update: function(options) {
                options.data.status = "this has been updated";
                return options.data;
            }

        }
    };

    $(document).ready(function () {
        viewModel = ko.mapping.fromJS(repo, mappingSettings);
        ko.applyBindings(viewModel);
    }); 
```

当我使用 mappingSetting 将 repo 映射到 viewModel 时，我发现 viewModel.status:"this has been updated"

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T10:29:12.703

创建是第一次创建模型时，如果再次映射则更新触发器。

[http://jsfiddle.net/pHQ9t/](http://jsfiddle.net/pHQ9t/)

```
viewModel = ko.mapping.fromJS(repo, mappingSettings);

//Update again
ko.mapping.fromJS(repo, mappingSettings, viewModel); 
```

# android - 暂时为android设置home

> ID：13620364
> 
> 赞同：1
> 
> 时间：2012-11-29T06:54:08.093
> 
> 标签：android, android-launcher, android-homebutton

我有一个使用 CATEGORY_HOME 的应用程序，因此当您按下主页按钮时，它会将您留在我的应用程序中。在用户选择我的应用程序作为默认主页后，它将为整个设备设置。

我想知道当您按下主页按钮时，当您不在我的应用程序中时，您如何禁用我的应用程序中的主页。在做了一些研究之后，我认为我需要使用包管理器，但我不知道如何实现它。

活动在 Manifest 中定义为 home：

```
<activity
        android:name=".home"
        android:label="@string/title_activity_main" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.HOME" />
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity> 
```

这是我去家的方式和设置方式：

```
Intent startMain = new Intent(Intent.ACTION_MAIN);
startMain.addCategory(Intent.CATEGORY_HOME);
startMain.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
startActivity(startMain); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-03T22:49:23.273

为什么要在清单中配置类别 HOME ？您可以通过覆盖来覆盖主页按下行为：

```
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if ((keyCode == KeyEvent.KEYCODE_HOME)) {
        Toast.makeText(this, "Home button pressed!", Toast.LENGTH_LONG).show();                     
        return true;
    }
    return super.onKeyDown(keyCode, event);
} 
```

然后在按下应用程序内的按钮时做任何你正在做的事情。在应用程序之外它当然会正常工作。

**编辑**

刚刚检查过，在我的设备上不起作用，但似乎如果您覆盖`onAttachedWindow()`并禁用 HOME，它可能会起作用。请记住使用重新分配密钥`onKeyDown()`（就像在此编辑上方发布的一样）。

```
@Override
public void onAttachedToWindow() {  
    getWindow().setType(WindowManager.LayoutParams.TYPE_KEYGUARD);
    super.onAttachedToWindow();  
} 
```

# abstract-factory - 抽象工厂糟糕的设计？

> ID：13620371
> 
> 赞同：1
> 
> 时间：2012-11-29T06:54:50.897
> 
> 标签：abstract-factory

我有汽车厂生产不同尺寸的汽车。我有 2 家工厂：美国和泰国，生产大、中、小汽车尺寸。但我有一个问题：泰国工厂不生产大型汽车。

代码：

```
public enum CarSize { Big, Middle, Little,}

public interface ICarFactory {
    ICar CreateCar(CarSize carSize);
}

public class USACarFactory : ICarFactory {
    public ICar CreateCar(CarSize carSize) {
        ICar car = null;
        switch (carSize) {
            case CarSize.Little:
                car = new USALittleCar();
                break;
            case CarSize.Middle:
                car = new USAMiddleCar();
                break;
            case CarSize.Big:
                car = new USABigCar();
                break;
        }
        return car;
    }
}

public class ThailandCarFactory : ICarFactory {
    public ICar CreateCar(CarSize carSize){
        ICar car = null;
        switch (carSize) {
            case CarSize.Little:
                car = new ThailandLittleCar();
                break;
            case CarSize.Middle:
                car = new ThailandMiddleCar();
                break;
            case CarSize.Big:
                //no big cars in Thailand!!!!
                break;
        }
        return car;
    }
}

public interface ICar { }

public class USABigCar : ICar { }
public class USAMiddleCar : ICar { }
public class USALittleCar : ICar { }

public class ThailandMiddleCar : ICar { }
public class ThailandLittleCar : ICar { } 
```

我应该怎么办？我的抽象工厂设计得很糟糕吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:30:24.330

@zzfima，借鉴COM的思路，查询接口看看是否支持创建指定大小的汽车并适当调用？代码肯定实现了抽象工厂模式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-02T19:33:24.773

```
case CarSize.Big:
            car = new ThailandBigCar();
            break; 
```

试试看。那应该可以让你制造大型汽车。

```
public interface ICar { }

public class USABigCar : ICar { }
public class USAMiddleCar : ICar { }
public class USALittleCar : ICar { }

public class ThailandMiddleCar : ICar { }
public class ThailandLittleCar : ICar { }
public class ThailandBigCar : ICar { } 
```

# linux - 如何检测 SUSE Linux 系统中的音频可用性

> ID：13620373
> 
> 赞同：2
> 
> 时间：2012-11-29T06:54:53.740
> 
> 标签：linux, audio, suse

我得到了一些**flv**格式的音频片段。他们每个人大约有**10**秒长。

我的问题是如何检测音频片段是否有“声音”，换句话说，有时音频片段没有声音，即使它的大小不是 0 字节，那么如何通过一些 linux 工具找到那些损坏/静音的音频文件/命令？

也许ffplay可以做到这一点？任何可用的建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:07:11.670

如果您想快速检查流是仅视频、仅音频还是同时包含音频和视频，请尝试`hexdump -C filename | head`. 第五个字节包含有关文件内容的信息。

0x01 - 仅视频 0x04 - 仅音频 0x05 - 音频 + 视频

您也可以尝试使用 VLC 媒体播放器播放文件。有一个菜单选项可以启用来自正在播放的媒体的信息性消息。

# c++ - 通过名称获取属性值

> ID：13620377
> 
> 赞同：1
> 
> 时间：2012-11-29T06:55:05.010
> 
> 标签：c++, sax, xerces

在我的 c++ 代码和使用 xerces 进行 sax 解析中，我想通过它的名称来获取属性的值。我怎样才能做到这一点 ？xerces 文档中有类似的内容，但不起作用：

```
String identifier = atts.getValue("id"); 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:18:17.790

我已经解决了这个问题

```
XMLCh* identity= XMLString::transcode("id");
char* identityVal = XMLString::transcode(attrs.getValue(identity)); 
```

# java - 这个的Java DateTime 格式

> ID：13620378
> 
> 赞同：2
> 
> 时间：2012-11-29T06:55:11.083
> 
> 标签：java, datetime

这个的Java DateTime 格式是什么？

> 2012 年 11 月 26 日星期一 13:57:03 SGT

我想将此字符串转换为日期并将其转换为另一种格式，例如“yyyy-MM-dd HH:mm:ss”。

从日期转换为字符串并不难。

> 格式格式化程序 = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");

但我发现没有有效的格式可以将“Mon Nov 26 13:57:03 SGT 2012”转换为日期格式......

=====

找到解决方案：

```
DateFormat oldDateFormat = new SimpleDateFormat("EEE MMM dd HH:mm:ss z yyyy");
Format newDateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
Date oldDate = oldDateFormat.parse(oldTimeString);
String newDateString = newDateFormat.format(oldDate); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T07:02:01.910

这将起作用，`EEE MMM dd HH:mm:ss z yyyy`

您可以在 .java 的 javadoc 中找到示例`SimpleDateFormat`。请参阅[http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html](http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-29T07:02:21.503

好吧，这段代码产生*了一些输出*

```
import java.util.*;
import java.text.*;

public class Test {

    public static void main(String[] args) throws ParseException {
        DateFormat inputFormat = new SimpleDateFormat("E MMM dd HH:mm:ss z yyyy",
                                                      Locale.US);
        DateFormat outputFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss",
                                                       Locale.US);
        String text = "Mon Nov 26 13:57:03 SGT 2012";

        Date date = inputFormat.parse(text);
        System.out.println(outputFormat.format(date));
    }
} 
```

...但它使用默认的系统时区进行输出。目前尚不清楚您想要结果的时区。没有`Date`存储时区，这使得很难保留文本中给出的*原始*时区，因此您需要自己决定使用哪个时区。

请注意，我`Locale.US`在输入和输出中都指定了；当您指定自定义格式时，这通常是合适的，特别是对于依赖于月份和日期名称的输入。

正如评论中所指出的，如果*可以的话，我个人建议您使用*[Joda Time](http://joda-time.sf.net)进行日期/时间工作......它是一个比/更好的 API 。不幸的是，Joda Time 无法解析时区 - 来自以下文档：*`Date``Calendar``DateTimeFormat`*

 *> 区域名称：时区名称 ('z') 无法解析。

还值得注意的是，如果有任何方法可以影响输入数据，那么将它们从使用时区缩写中移开将是一个很好的步骤。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-29T07:05:37.117

尝试`SimpleDateFormat.parse()`将字符串转换为`Date`.

```
SimpleDateFormat sdf = new SimpleDateFormat("EEE MMM dd HH:mm:ss z yyyy");
Date parseDate = sdf.parse(strInput); 
```

注意解析异常

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-27T09:46:58.373

```
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
public class CPDateTime 
{
    public static void main(String[] args)
    {
        Calendar cal  = Calendar.getInstance();
        //subtracting a day
        //cal.add(Calendar.DATE, -1);
        cal.add(Calendar.MONTH, -1);
        SimpleDateFormat prev_day = new SimpleDateFormat("dd");
        SimpleDateFormat prev_month = new SimpleDateFormat("MM");
        SimpleDateFormat prev_year = new SimpleDateFormat("YYYY");   
        String prev_day_str = prev_day.format(new Date(cal.getTimeInMillis()));
        System.out.println(prev_day_str);
        String prev_month_str = prev_month.format(new Date(cal.getTimeInMillis()));
        System.out.println(prev_month_str);
        String prev_year_str = prev_year.format(new Date(cal.getTimeInMillis()));
        System.out.println(prev_year_str);
    }
} 
```*

# php - 如何将数组元素从一个数组推送到另一个数组

> ID：13620379
> 
> 赞同：1
> 
> 时间：2012-11-29T06:55:15.570
> 
> 标签：php, arrays, function

大家好，这里是我最初使用的代码....

```
array_push($Parameter_IdArray, $Parameter_Id1, $Parameter_Id2, $Parameter_Id3, $OptParameter_Id);

array_push($Eqt_ParamArray, $eqt_param1, $eqt_param2, $eqt_param3, $Opt_eqt_param1); 
```

我没有问题来推送数组值....但是现在`$eqt_param1, $eqt_param2, $eqt_param3 and $Opt_eqt_param1`在另一个数组中它是这样的

```
Array ( [Profile_Id] => 4 [eqt_param] => Array ( [0] => 4.00 [1] => 4.00 [2] => 4.00 ) [Parameter_Id1] => 8 [min_param] => Array ( [0] => 1.00 [1] => 1.00 [2] => 1.00 ) [max_param] => Array ( [0] => 5.00 [1] => 5.00 [2] => 5.00 ) [Wtg_param] => Array ( [0] => 25.00 [1] => 25.00 [2] => 50.00 ) [Parameter_Id2] => 5 [Parameter_Id3] => 1 [Opt_eqt_param] => Array ( [0] => 0.00 ) [OptParameter_Id] => 14 [Opt_wtg] => Array ( [0] => 1.05 ) [operator] => Array ( [0] => M ) [eqt_pay] => 1,574,235 [rec_sal] => 1,485,000 [#] => -6.01 % [Emp_Id] => 490699 [Emp_Process] => Confirm New Pay ) 
```

现在我需要 tp 推送数组值`$eqt_param1`，`$eqt_param2`以及如何做到这一点`$eqt_param3`？`$Opt_eqt_param1``$Eqt_ParamArray`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:04:23.913

如果我理解正确，您现在在 PHP 中有一个关联数组。基于这个假设，我继续为你重新格式化噩梦：

```
$myarray = array(
  "Profile_Id" => 4,
  "eqt_param" => array(4.00, 4.00, 4.00),
  "Parameter_Id1" => 8,
  "min_param" => array (1.00, 1.00, 1.00 ),
  "max_param" => array (5.00, 5.00, 5.00 ),
  "Wtg_param" => array (25.00, 25.00, 50.00 ),
  "Parameter_Id2" => 5,
  "Parameter_Id3" => 1,
  "Opt_eqt_param" => array (0.00),
  "OptParameter_Id" => 14,
  "Opt_wtg" => array (1.05),
  "operator" => array ("M"),
  "eqt_pay" => array(1,574,235),
  "rec_sal" => array(1,485,000),
  "#" => "-6.01 %",
  "Emp_Id" => 490699,
  "Emp_Process" => "Confirm New Pay"
); 
```

这种良好的格式现在清楚地表明您可以`array_push`直接在`"eqt_param"`索引上使用：

```
array_push($myArray["eqt_param"], $eqt_param1, $eqt_param2, $eqt_param3, $Opt_eqt_param1); 
```

您也可能意味着要替换它，这也很容易：

```
$myArray['eqt_param'] = array($eqt_param1, $eqt_param2, $eqt_param3, $Opt_eqt_param1); 
```

~~同样的原则也适用于您已~~标记的 Javascript，所以您可能是这个意思。

# apache-flex - 通过 flex 创建视频

> ID：13620384
> 
> 赞同：0
> 
> 时间：2012-11-29T06:55:52.840
> 
> 标签：apache-flex, flex4, red5, flash-media-server, wowza

录制后我有一个带有网络摄像头视频录制的网站以保存到我的服务器。我的问题是，当我录制网络摄像头视频时，我想在其中附加一个介绍文本。ic 显示前 10 秒的文本。

这是我的示例代码

```
 protected function button3_clickHandler(event:MouseEvent):void
            {
                nc = new NetConnection();
                nc.objectEncoding = flash.net.ObjectEncoding.AMF3;
                nc.connect("rtmp://localhost/webcamrecording/");
                                                                                                          nc.addEventListener(NetStatusEvent.NET_STATUS,staushandler);
                //Alert.show(nc.toString());

            }

protected function staushandler(obj:NetStatusEvent):void
            {
                var str:String=obj.info.code;
                Alert.show(str);

                camera = Camera.getCamera();
                microphone = Microphone.getMicrophone();
                vDisplay.attachCamera(camera);
                nsPublish = new NetStream(nc);
                nsPublish.publish("streamer", "record");
                nsPublish.attachCamera(camera);
                nsPublish.attachAudio(microphone);
            }

<s:Panel title="Video">
<mx:VideoDisplay id="vDisplay" creationComplete="VideoDisplay_creationCompleteHandler(event)" height="300" width="400"/>
</s:Panel>
<s:Button label="Record" click="button3_clickHandler(event)" /> 
```

提前致谢

# ios - GPUImageMovieWriter 是否支持带音频的 AVFileTypeMPEG4？

> ID：13620392
> 
> 赞同：4
> 
> 时间：2012-11-29T06:56:07.067
> 
> 标签：ios, avfoundation, gpuimage

GPUImage 允许我以我想要的方式非常有效地操作我的视频文件，但前提是我在`AVFileTypeQuickTimeMovie`指定.`fileType``GPUImageMovieWriter`

我的应用程序需要与无法播放 quicktime 电影文件的 Android 设备进行交互，因此我尝试将代码更改为如下编码：

```
movieWriter = [[GPUImageMovieWriter alloc] initWithMovieURL:movieURL size:CGSizeMake([UIScreen mainScreen].bounds.size.width, [UIScreen mainScreen].bounds.size.height) 
              fileType:AVFileTypeMPEG4 outputSettings:videoCompressionSettings]; 
```

正如布拉德在他的电影作家示例中所示，我正在传递音频，但我的应用程序在与`setHasAudioTrack`函数内 GPUImageMovieWriter.m 文件中的音频相关的以下行崩溃：

```
[assetWriter addInput:assetWriterAudioInput]; 
```

我发现如果我完全删除音频，GPUImage 可以输出一个在 Android 上运行良好的 MPEG4 文件。我尝试不通过音频，但随后在`[assetWriterAudioInput appendSampleBuffer:audioBuffer];`该`processAudioBuffer`方法中遇到了崩溃。

我不想过多地使用 Brad 的代码，因为到目前为止它对我来说效果很好，所以我转向社区看看是否有人遇到过类似的问题并可以提供建议。我很乐意提供更多代码，但我不确定什么是相关的，什么不是。

提前致谢。

# javascript - 尝试使用数组制作包含视频和图像的幻灯片，但图片不会显示

> ID：13620394
> 
> 赞同：1
> 
> 时间：2012-11-29T06:56:22.103
> 
> 标签：javascript, arrays, html, video, slideshow

> 我在javascript中使用带有数组的视频和图像制作幻灯片我有一个下一个按钮和上一个按钮。当我将图片添加到数组中并继续单击下一步时，视频可以使用按钮和播放以及所有内容，它们不会显示，不确定如何执行此操作。此外，每次您点击下一个或上一个标题更新以匹配显示的内容时，这也可以正常工作。我的视频也只能在 chrome 中使用，知道如何解决这个问题吗？这是我的 html 和 javascript 代码

```
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>javascript homework 2</title>

<link href="css/styles.css" rel="stylesheet" type="text/css">
</head>

<body>
    <div id="mainImg">
    <h2 id="caption">movie1</h2>
    <video id="myVideo" src="video/movie1.mp4" type="video/mp4"/></video>

    </div>
    <div id="controls">
    <div id="playToggle" class="player-button">Play</div>
</div>

    <div id="links">
        <ul>
            <a onClick="nextPhoto();" href="#">Next</a>

            <a onClick="prePhoto();" href="#">Previous</a>
       </ul>
    </div>

</body>
<script src="js/javascript.js"></script>
</html>

// JavaScript Document

/*---Global varibales--*/

var currentImage = 0;

var count = 0;              
var videos = new Array("movie1", "movie2", "movie3","Dk1", "Dk2", "Dk3");

var captions = new Array("movie1", "movie2", "movie3", "Dark Knight 1", "Dark Knight 2", "Dark Knight 3");

var video = document.createElement("video");
var playPauseButton = document.getElementById('playToggle');

function switchVideo() {
    video.setAttribute('src',videoPaths[CurrentVideos]);                                     
    video.onload = function() {                   
        currentVideo++;                    
        if (currentVideo >= videoPaths.length) {     
            currentImage = 0;
        }

    }
}

function changeVideo(movie)
{               
    var thisVideo = "video/"+videos[movie]+".mp4";  
    document.getElementById("myVideo").src = thisVideo;
    document.getElementById("caption").innerHTML = captions[movie];
    count = movie;
}

function nextPhoto()
{   
    count++;    

    if(count==videos.length)
    {
        count = 0;  
    }

    var thisVideo = "video/"+videos[count]+".mp4";
    document.getElementById("myVideo").src = thisVideo;
    document.getElementById("caption").innerHTML = captions[count];
}

function prePhoto() 
    {   

    count--;    

    if(count < 0)
    {
        count = videos.length-1;    
    }

    var thisVideo = "video/"+videos[count]+".mp4";
    document.getElementById("myVideo").src = thisVideo;
    document.getElementById("caption").innerHTML = captions[count];
}

playPauseButton.onclick = function() {
    if (myVideo.paused) {
        myVideo.play();
        this.innerHTML = "Pause";
    } else {
    myVideo.pause();
    this.innerHTML = "Play";

}

}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:20:38.437

在该`nextPhoto()`功能中，您可以使用设置当前图像或视频

```
var thisVideo = "video/"+videos[count]+".mp4"; 
```

这适用于 mp4 文件，但仅适用于其他文件。我建议您像这样将文件扩展名添加到您的数组中。

```
var videos = ["movie1.mp4", "image1.png"]; // and so on.... 
```

# selenium - 无法从 Firefox 浏览器写入 MS Word 文档

> ID：13620397
> 
> 赞同：2
> 
> 时间：2012-11-29T06:56:30.810
> 
> 标签：selenium

在 Selenium 中，当我尝试从 Firefox 浏览器打开 MS Word 文档时，会弹出我无法通过 Selenium 识别的对话框。谁能帮助我通过硒识别对话框（如何捕获ID或窗口ID）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:59:53.487

您可以使用**autoit** 。只需从给定链接下载 autoit 软件并安装即可。

[AutoIt网站](http://www.autoitscript.com/site/)

根据您的需要在 autoit 中编写几行脚本，并在导致该窗口出现的行之前调用已编译的 exe。

Autoit**窗口信息工具**将帮助您识别所需控件的 ID 和类。

# jquery - ASP.NET MVC + JQuery Mobile 事件处理程序

> ID：13620398
> 
> 赞同：2
> 
> 时间：2012-11-29T06:56:31.480
> 
> 标签：jquery, asp.net, asp.net-mvc-3, jquery-mobile, jquery-events

我有具有这种布局结构的 ASP.NET MVC 3 + JQuery Mobile 应用程序：

```
<body>
    <div class="page" data-role="page" data-add-back-btn="true" id="page">
        <div data-role="header" data-position="fixed"></div>
        <div data-role="content" id="content">
            @RenderBody()
        </div>
        <div id="footer" data-role="footer" data-position="fixed"></div>
    </div>
</body> 
```

问题是，绑定到窗口的事件处理程序卡住了几个页面。

例如，我有 2 页：`"Index"`和`"About"`. 在`"Index"`我绑定了一些处理程序（比如`console.log("index"))`事件`$(window).click()`。但是当我转到`"About"`页面时 - 这个处理程序仍然处于活动状态。

有没有办法只在适当的页面处于活动状态时才保留处理程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:23:56.600

在 jQM 中使用这种事件绑定：

```
$('#page').bind('click', function(e) {

}); 
```

使用较新版本的 jQuery 使用 .on( 和 .off( 绑定/取消绑定事件。$('#page') 是您的页面。

这：

```
$(window).click() 
```

将它绑定到窗口，因为 jQM 页面是单个窗口事件，每次都会触发。您还需要担心多个事件绑定，[在这里](https://stackoverflow.com/a/13542166/1848600)您可以找到有关此问题的更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T12:40:49.493

我对这个问题做了一些小研究，但没有找到任何合适的问题。所以我已经用窗口事件为描述的用例实现了解决方案。这令人毛骨悚然，但有效。

在布局中：

1.页面div声明：

```
<div class="page" data-role="page" data-add-back-btn="true"    id="@Request.RawUrl.GetHashCode()">
    ...
</div> 
```

2.脚本：

```
<script type="text/javascript">
    var bindEvents = [];
    $(document).bind('pagehide', function (event) {
        var hash = $(event.target).attr('id');
        $(window).unbind('.' + hash);
    });

    $(document).bind('pageshow', function (event) {
        var hash = $(event.target).attr('id');
        bindEvents[hash]();
    });
</script> 
```

在页面中：

1.索引：

```
<script type="text/javascript">
var hashedIndex = '@Request.RawUrl.GetHashCode()';
if (!bindEvents.hasOwnProperty(hashedIndex)) {
    bindEvents[hashedIndex] = function() {
        $(window).bind('click.' + hashedIndex, function() {
            console.log('index');
        });
    };
};
</script> 
```

2.关于：

```
<script type="text/javascript">
var hashedAbout = '@Request.RawUrl.GetHashCode()';
if (!bindEvents.hasOwnProperty(hashedAbout)){
    bindEvents[hashedAbout] = function () {
        $(window).bind('click.' + hashedAbout, function() {
            console.log('about');
        });
    };
};
</script> 
```

如果需要，类似于其他页面。

在一般情况下，我同意 Gajotres：最好将事件绑定到一些内部容器以避免此类问题。

# asp.net-mvc-3 - 错误 $("#list").jqGrid 不是 mvc3 razor 中的函数

> ID：13620401
> 
> 赞同：2
> 
> 时间：2012-11-29T06:56:50.583
> 
> 标签：asp.net-mvc-3

我在 javascript 中为 JQgrid 编写了一个函数。我在 JSFiddle 中检查了它，在 JSfiddle 中它告诉我“你的 javascript 代码是有效的”。但是当我在 mvc3 razor 中运行它时，视图网格不显示，它给了我一个错误在`TypeError: $("#list").jqGrid`不是函数的萤火虫中

下面是我的视图文件代码@model CBS.Models.Gledgeg

```
@{
ViewBag.Title = "JV";
}

<h2>JV</h2>
<link href="/Content/jquery-ui.css" rel="stylesheet" type="text/css" /> 
<link href="/Content/site.css" rel="stylesheet" type="text/css" /> 

<script src="/Scripts/jquery-1.5.1.js" type="text/javascript"></script> 
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.7.min.js")" type="text/javascript"></script> 
<script src="@Url.Content("~/Scripts/jquery-ui.multiselect.js")"type="text/javascript"></script> 
<script src="@Url.Content("~/Scripts/jquery.tmpl.min.js")" type="text/javascript"></script> 

<script src="@Url.Content("~/Scripts/jquery.jqGrid.locale-en-4.1.2.js")" type="text/javascript"></script> 
 <script src="@Url.Content("~/Scripts/jquery.jqGrid-4.1.2.min.js")" type="text/javascript"></script> 

<script src="/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" />  
<script src="http://code.jquery.com/jquery-1.8.2.js" type="text/javascript"></script> 
 <script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js" type="text/javascript"></script>

<script type="text/javascript">
 $(document).ready(function () {
    $(function () {
    $("#list").jqGrid({
        url: '/Home/GetJVLedg()/',
        datatype: 'json',
        mtype: 'GET',
        colNames: ['Code', 'Remarks', 'Debit'],
        colModel: [
      { name: 'Code', index: 'Code', width: 40, align: 'left' },
      { name: 'Remarks', index: 'Remarks', width: 240, align: 'left' },
      { name: 'Debit', index: 'Debit', width: 200, align: 'left'}],
        pager: jQuery('#pager'),
        rowNum: 10,
        rowList: [5, 10, 20, 50],
        sortname: 'Code',
        sortorder: "desc",
        viewrecords: true,
        //imgpath: '/scripts/themes/coffee/images',
        caption: 'Gledg'
       });
   }); 
  }); 

  </script>
  <fieldset>
 <legend> Journal Voucher</legend>
  <div id="txtArea">
 <label>
 Voucher NO
 </label>
 <input type="text" id="" name="VID" maxlength="20" PlaceHolder="Voucher No..." />
  <label>Remarks</label>
 <input type="text" id="" name="Rem" maxlength="150" PlaceHolder="Remarks..." />
 <label>Voucher Date</label>
 <input type="Text" id="datepicker" name="VDate" />

 </div>

   <table id="list" class="scroll"></table>

  <div id="pager" class="scroll" style="text-align:center;"></div>

    </fieldset> 
```

我搜索了很多，但没有找到可以解决我的问题的解决方案。帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:14:34.383

将您的代码放入 其中，`$(document).ready(function (){})` 然后它将起作用。并确保您已提及所有脚本和 css 参考链接以在 head 部分获取 JQGrid

# android - 关于广播接收器和服务

> ID：13620409
> 
> 赞同：3
> 
> 时间：2012-11-29T06:57:38.123
> 
> 标签：android

该应用程序正在 2.3.3 中开发

在我的应用程序中，我从广播接收器启动服务。该服务调用位置管理器并获取纬度和经度。是否可以将纬度和经度值从服务发送回广播接收器？

如是？我们该怎么做呢？

如果不？-> 这是我现在的方法...我使用 SharedPreferences 对象来保存这些值并在广播接收器中访问它们。这行得通吗？

我对此还有一些问题，将在答案后编辑我的问题......谢谢..

[编辑]回答我上面的问题->所以我们可以将数据从服务发送到广播接收器，尽管这通常不是一个好习惯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:21:23.863

可以通过从具有位置数据的服务广播新的意图将信息传递回广播接收器。您需要为该意图创建一个自定义操作，并让您的广播接收器注册以处理该操作。[此处](http://thinkandroid.wordpress.com/2010/02/02/custom-intents-and-broadcasting-with-receivers/)描述了使用自定义操作创建和接收意图。

但是，我认为在几乎所有情况下，这都是一种不好的方法。一般来说，广播接收器应该只解析意图并启动意图服务来完成所有工作。如果需要对位置进行某些操作，那么服务应该做的不是广播接收器。同样重要的是要注意，在 onReceive() 结束时，广播接收器会立即被销毁，因此您会丢失其所有状态。

如果您提供有关经纬度收集任务目的的更多信息，我很乐意回答更多问题或更新我的答案以更具体。

[编辑] 因为我不能发表评论，所以我会在克里姆的回答中加两分钱。除非我遗漏了一些重要的东西（如果我遗漏了，请让我知道 Kerim，因为您可以评论我的）可能无法按您期望的方式工作。当广播接收器的`onReceive()`功能完成时，广播接收器将被销毁。您发送的处理程序将继续存在，但广播接收器中的任何数据都将不存在，并且处理程序将无法调用广播接收器的函数。由于处理程序无法访问任何广播接收器的数据或功能，因此您不妨在服务中完成所有需要完成的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:22:45.350

You can use [Messenger](http://developer.android.com/reference/android/os/Messenger.html) class to communicate accross processes.

When you start a Service, pass a Messenger object as an extra. Then service after completing its job, can send latitude and longitude values back by calling `messenger.send(message);`

Messenger class takes a Handler object in its constructor. Any Message objects sent through this Messenger will appear in the Handler as if `Handler.sendMessage(message)` had been called directly.

Here is nice tutorial that explains in detail: [http://www.vogella.com/articles/AndroidServices/article.html#servicecommunication_handler](http://www.vogella.com/articles/AndroidServices/article.html#servicecommunication_handler)

# windows-8 - 如何在 Win8 应用程序的 WinJS.Binding.Template 中设置 id

> ID：13620411
> 
> 赞同：1
> 
> 时间：2012-11-29T06:57:57.193
> 
> 标签：windows-8, winjs

以下 html 不适用于我。

```
<div id="weightListViewTemplate"  data-win-control="WinJS.Binding.Template">
<span  data-win-bind="innerText: name; id: id"></span>
</div>

<div id="basicListView" style="width:420px;height:600px"  data-win-options="{ itemTemplate: select('#weightListViewTemplate') }"
    data-win-control="WinJS.UI.ListView">
</div> 
```

出现列表，但未在跨度对象上设置 ID 属性。

如何根据数据源/数组中的相应值在模板中动态设置 span 的 id？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T16:24:52.553

我不建议使用实际的 ID 属性。我相信你不能通过数据绑定来设置它——我相信 WinJS 在幕后的元素上使用 ID 来允许对 DOM 元素的弱引用。因此，它不允许您设置 ID。

我建议改用另一个属性或属性。

# sql - SQL复制行和条件

> ID：13620412
> 
> 赞同：2
> 
> 时间：2012-11-29T06:58:01.227
> 
> 标签：sql, oracle, replication

我正在尝试复制一组类似于以下内容的数据：

地址：

```
| ADDRESS_CODE | ADDRESS_TYPE | COLUMNCOLUMCOLUMN... (40 columns or so)
|   DEFAULT    |   VENDOR1    | DATA DATA DATA
|   002        |   VENDOR1    | DATA DATA DATA
|   003        |   VENDOR1    | DATA DATA DATA
|   004        |   VENDOR1    | DATA DATA DATA
|   005        |   VENDOR1    | DATA DATA DATA 
```

接触：

```
| CONTACT_CODE |   VENDOR_ID  | COLUMNCOLUMNCOLUMN... (30 columns or so)
|   DEFAULT    |   VENDOR1    | DATA DATA DATA
|   002        |   VENDOR1    | DATA DATA DATA 
```

我正在使用几个 SQL 查询来尝试解决这个问题，但它只会从联系人中复制 Default 和 002 5 次，或者只在无限循环中执行其中一行。我正在插入联系人表。

这是我想要的 CONTACT 结果：

```
| CONTACT_CODE |   VENDOR_ID  | COLUMNCOLUMNCOLUMN... (30 columns or so)
|   DEFAULT    |   VENDOR1    | DATA DATA DATA
|   002        |   VENDOR1    | DATA DATA DATA
|   003        |   VENDOR1    | DATA DATA DATA
|   004        |   VENDOR1    | DATA DATA DATA
|   005        |   VENDOR1    | DATA DATA DATA 
```

任何帮助，将不胜感激。

我一直在使用类似以下查询的内容：

```
select c.vendor_id, c.contact_code, a.address_code 
from contact c, address a
inner join contact
on c.contact_code <> a.address_code
and c.vendor_id = a.address_type
group by c.vendor_id; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:28:29.433

```
insert into contact (CONTACT_CODE,VENDOR_ID,<COLUMNS list>)

select Address_code, Address_type, <COLUMNS list>
from ADDRESS a
left join contact c
   on a.address_code=c.contact_code
   and a.address_type=c.vendor_id
where c.contact_code is null 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:07:36.377

您可以在地址和联系人表之间使用左外连接来获得所需的结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T09:59:27.447

您可以使用`INSERT`带条件的语句：

```
INSERT INTO contact c
  (contact_code, vendor_id, < OTHER COLUMNS >)
  SELECT a.address_code, a.address_type, a.OTHER COLUMNS,
    FROM address a
   WHERE NOT EXISTS (SELECT *
            FROM CONTACT c, address a
           WHERE a.address_code = c.contact_code
             AND a.address_type = c.vendor_id); 
```

虽然我没有测试过。。

# android - 如何在android中解析来自json的数据？

> ID：13620414
> 
> 赞同：1
> 
> 时间：2012-11-29T06:58:20.807
> 
> 标签：android, json

我已经`webservice`从android打来电话并得到如下回复......

来自 Web 服务的结果 =

```
11-30 13:21:16.304: DEBUG/Inside SOAP(512): JSON output {
11-30 13:21:16.304: DEBUG/Inside SOAP(512):   "_str": "anyType{string\u003dImplements and Equipments; string\u003dInsurance; string\u003dIrrigation and Water; }"
11-30 13:21:16.304: DEBUG/Inside SOAP(512): } 
```

现在我想解析这些结果并存储在我的`SQLite`数据库中。怎么做？我需要你的帮助...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T07:18:39.687

我假设您想要获取“=”之后和“;”之前的每个字符串

这是一个简单的例子：

```
// This is the string you want to parse
String searchableString = "string=first; string=second; string=third";

int indexOfEqualsSign = searchableString.indexOf("=");
int indexOfSemicolon = searchableString.indexOf(";");

while (indexOfEqualsSign >= 0) {
    String result = searchableString.substring(indexOfEqualsSign + 1, indexOfSemicolon);
    System.out.print(result);
    indexOfEqualsSign = searchableString.indexOf("=", indexOfSemicolon);
} 
```

该示例的输出如下所示：

```
first
second
third 
```

# iphone - 如何使用情节提要在 tabBarViewcontroller 之上添加 ViewController？

> ID：13620415
> 
> 赞同：1
> 
> 时间：2012-11-29T06:58:23.333
> 
> 标签：iphone, objective-c, xcode, ios5, xcode4.2

在我的应用程序中，我想使用情节提要在 tabbarviewcontroller 顶部添加一个带有 nib 的视图控制器。例如；当应用程序第一次启动时，我想显示该视图控制器一次，然后当用户启动应用程序时，它应该显示 tabbarviewcontroller。而不是视图控制器。

以下是我的代码

```
-(void)viewDidAppear:(BOOL)animated
{
    UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"MainStoryboard" bundle:nil];
    UIViewController *vc = [storyboard instantiateInitialViewController];
    [vc setModalPresentationStyle:UIModalPresentationFullScreen];
    [self presentModalViewController:vc animated:YES];

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T17:08:57.447

我对你如何描述你想要的东西有点困惑。有几种方法可以做你想做的事，具体取决于你希望事情如何流动。

故事板 如果您留在故事板中，您可以添加一个 UIViewController - 在您的标签栏（左侧）控制器的前面。基本上，添加一个 UIViewController 并将开始箭头移动到它。然后从它创建一个到您的标签栏控制器的segue。如果需要，您可以通过 push segue 或模态 segue 引入 tabbar 控制器。

您必须将您的 xib 文件移动到情节提要中。它会像这样流动： UIViewController -> UITabbarController -> 你的应用程序的其余部分。在这个模型中，第一个视图控制器在启动时总是可用的。

另一种策略 - 试图让事情变得简单是使用附加到标签栏的第一个视图控制器。它会与最左边的标签对齐。在正常情况下，该视图控制器首先由标签栏控制器实例化并显示在屏幕上。您可以在 ViewDidLoad 或 ViewDidAppear 方法中的 UIViewController 中添加代码，以使用情节提要或 nib 文件实例化和放置模态视图。

最后，我能想到的最后一种方法是从您的应用程序委托加载 nib 文件，然后将故事书中的标签栏显示为模式。我认为这种方法是最不可取的，但也是可行的。

希望有帮助。祝你好运。

# webserver - HAProxy 平衡算法

> ID：13620416
> 
> 赞同：1
> 
> 时间：2012-11-29T06:58:36.007
> 
> 标签：webserver, haproxy

我的搜索引擎有 4 台服务器。我正在使用 HAproxy 进行负载平衡。在这种请求时间很短的情况下，哪种平衡算法最适合使用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:17:37.077

我认为这取决于服务器的实力。我的意思是，如果一台服务器比另一台更强大，它必须比另一台更重。;) 我不认为这取决于你正在做的工作。;)

# html5-video - HTML5 IE 9 .mov

> ID：13620418
> 
> 赞同：0
> 
> 时间：2012-11-29T06:58:44.463
> 
> 标签：html5-video

我在 IE 9 上播放 html5 视频时遇到问题

我正在使用 .mov 播放视频。

有些视频播放，但有些不播放。

例子：

我点击了 video1.mov 并开始播放。我点击了video2.mov，它没有播放。

视频的编解码器有问题吗？

我应该怎么办？

谢谢。

编辑：

检查此图像。

[http://i.stack.imgur.com/iXwCK.png](http://i.stack.imgur.com/iXwCK.png)

左侧图像 - 该视频正在播放。

右侧图像 - 该视频未播放。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:43:16.357

可能是因为编解码器。我认为它需要使用 H.264 编解码器进行视频编码和使用 ACC 编解码器进行音频编码。

您是单独下载这些文件还是将它们大量编码在一起？

如果您单独下载它们，可能是因为不同的编码编解码器。

# php - 如何避免每次在php中使用mysqli准备好的语句

> ID：13620419
> 
> 赞同：2
> 
> 时间：2012-11-29T06:58:45.353
> 
> 标签：php, mysqli, prepared-statement

我是php的新手。我有一个 php 文件，可以将值插入到 mysql 表中。所以考虑到这会经常被击中的效率，我决定在我的 php 文件中使用 mysqli_prepare 语句。

我想知道每次执行这个 php 文件时，它会准备语句，这可能是不必要的负担。有没有办法通过只准备一次声明来避免它，或者我错过了一些准备好的声明的概念？

谢谢，玛鲁莎

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:31:13.673

[mysqli_query](http://php.net/manual/ru/mysqli.query.php)

但我使用[PDO](http://php.net/manual/ru/book.pdo.php)，我的代码看起来像这样：

```
$query = 'INSERT INTO tbl (param, new_param) VALUES (:param, :new_param)';
$stmt  = DB::prepare($query);

foreach( $data as $param => $new_param )
{
  $stmt->execute(':param' => $param, ':new_param' => $new_param);
} 
```

或者像这样

```
DB::query("INSERT "); // PDOChild::getInstance()->query("INSERT "); 
```

如果您从用户输入中插入数据，您应该准备语句...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:40:28.397

如果脚本不包含任何可更改的信息，您可能需要考虑缓存 SQL 结果，或者缓存整个 php 脚本输出（页面缓存）。

对于缓存，请[在此处](http://simas.posterous.com/php-data-caching-techniques)查看更多信息。

如果您使用某种 php 框架，例如 ZendFramework、Symfony、Kohana，它们通常具有更灵活的缓存处理程序。

# sharepoint-2007 - Sharepoint 2007 搜索不适用于特定单词“lånelöfte”

> ID：13620422
> 
> 赞同：2
> 
> 时间：2012-11-29T06:59:06.700
> 
> 标签：sharepoint-2007

我们使用的是 SharePoint 2007 默认搜索，不知何故它不适用于特定的词，例如“lånelöfte、Larmpaket、Vattenfelsbrytare”。但如果搜索诸如“lanelöfte”、“länelöfte”之类的词，则它会正确搜索并显示“lånelöfte”一词的结果。

我们在噪声文件中添加了这个词，也将变音符号设置为 true。

# mysql - SQL: 创建表时出现错误 1064

> ID：13620425
> 
> 赞同：-1
> 
> 时间：2012-11-29T06:59:25.403
> 
> 标签：mysql, sql, mysql-error-1064

我正在创建 3 个子类表，其他 2 个已完成并正常工作，但是当我为最后一个表输入以下代码时出现此错误（1064）：

```
mysql> CREATE TABLE foreign (
    -> account_no VARCHAR(16) NOT NULL,
    -> foreign_id VARCHAR(16) NOT NULL,
    -> TYPE CHAR(4) DEFAULT 'FORE' NOT NULL
    -> CHECK ( TYPE = 'FORE'),
    -> currency_TYPE CHAR(3) NOT NULL
    -> CHECK ( currency_TYPE IN ('EUR','USD','HKD')),
    -> balance DECIMAL(16,2),
    -> PRIMARY KEY(account_no, foreign_id),
    -> FOREIGN KEY(account_no, TYPE)
    -> ON UPDATE CASCADE
    -> ON DELETE CASCADE); 
```

错误消息告诉我在`foreign( account_no VARCHAR(16) NOT NULL, foreign_id VARCHAR(16) NOT NULL, TYPE`得到错误的语法之间，但我找不到它，有什么问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:04:29.910

FOREIGN 是 MySQL 的保留字。

重命名此表，或使用反引号 ` 引用此名称 -

```
CREATE TABLE `foreign` (... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:13:29.100

对于 FOREIGN KEY(account_no, TYPE) 您需要提供参考列

例子

```
CREATE TABLE parent (id INT NOT NULL,
                 PRIMARY KEY (id)
  ) 
 CREATE TABLE child (id INT, parent_id INT,
                INDEX par_ind (parent_id),
                FOREIGN KEY (parent_id) REFERENCES parent(id)
                  ON DELETE CASCADE
   ) 
```

# html - 如何将 html 5 web 应用程序转换为 ipa 文件并在 ipad 上进行测试

> ID：13620427
> 
> 赞同：1
> 
> 时间：2012-11-29T06:59:29.920
> 
> 标签：html, ipad, ipa, iphone-web-app

我有 html 5 web 应用程序，它在 samasung Galaxy 和 ipad 浏览器上的浏览器上运行良好，但我希望它在 ipa 文件中转换并在 ipad 上安装该 web 应用程序以查看它是如何工作的。那么有什么方法可以将 html 的 web 应用程序转换为 ipa 文件。

# c# - 从 MasterPage 方法调用内容页面方法

> ID：13620435
> 
> 赞同：-1
> 
> 时间：2012-11-29T07:00:07.967
> 
> 标签：c#, asp.net, master-pages, content-pages

> **可能重复：**
> [从母版页类调用的内容页类方法](https://stackoverflow.com/questions/887178/content-page-class-method-calling-from-master-page-class)

我需要从母版页事件访问内容页方法。我怎样才能做到这一点？

```
Content Page:
public partial class Call_Center_Main : System.Web.UI.Page
{
    Page_Load(object sender, EventArgs e)
    {
    }

    public void MenuClick(string ClkMenu)
    { 
     // Some Code
    }
}

MasterPage:
public partial class MasterPage : System.Web.UI.MasterPage
{
    protected void Page_Load(object sender, EventArgs e)
    {
    }

    protected void Menu1_MenuItemClick(object sender, MenuEventArgs e)
    {
      //How Can I call MenuClick method from Content Page from Here  ???
    }
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-29T07:00:07.967

此答案取自[Interacting with the Content Page from Master Page](http://www.asp.net/web-forms/tutorials/master-pages/interacting-with-the-content-page-from-the-master-page-cs)

您可以使用委托来执行此操作。

例如，您在 MasterPage 中有一个按钮，并且您想从 MasterPage 调用 Content Page 中的方法。这是母版页中的代码。

母版页：

```
public partial class MasterPage : System.Web.UI.MasterPage
{
    protected void Page_Load(object sender, EventArgs e)
    {
    }

    protected void Button1_Click(object sender, EventArgs e)
    {
        if (contentCallEvent != null)
            contentCallEvent(this, EventArgs.Empty);
    }
    public event EventHandler contentCallEvent;
} 
```

内容页：

```
public partial class Content_1 : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {

    }
    private void Master_ButtonClick(object sender, EventArgs e)
    {
        // This Method will be Called.
    }
    protected void Page_PreInit(object sender, EventArgs e)
    {
        // Create an event handler for the master page's contentCallEvent event
        Master.contentCallEvent += new EventHandler(Master_ButtonClick);
    }
} 
```

并在 VirtualPath 中添加以下行指定您的 MasterPage 路径

```
<%@ MasterType VirtualPath="~/MasterPage.master" %> 
// This is Strongly Typed Reference 
```

# jquery - jquery：两个数字的百分比

> ID：13620439
> 
> 赞同：6
> 
> 时间：2012-11-29T07:00:17.307
> 
> 标签：jquery, html, keyup, rate

**已编辑**

感谢所有提供支持的人......我将与您分享最好的工作脚本，希望我可以帮助其他正在寻找相同解决方案的人：

```
 $(document).ready(function(){
$("#price1, #price2").keyup(function() {
  var priceOne = parseFloat($("#price1").val());
  var priceTwo = parseFloat($("#price2").val());
  var rate = parseFloat($("#rate").val());
  if ($("#price1").val() && $("#price2").val()){     
  $('#rate').val(((priceTwo - priceOne) / priceOne * 100).toFixed(2));
}

});

$("#rate").keyup(function() {
  var priceOne = parseFloat($("#price1").val());
  var rate = parseFloat($("#rate").val());

   if ($("#rate").val() && $("#price1").val() && $("#price2").val()){
 $('#price2').val(((priceOne * rate)/ 100 + priceOne).toFixed(2));
}
});
}) 
```

您也可以按照此[链接对其进行测试](http://jsfiddle.net/dvhT5/195/)

* * *

**最初的问题：**

请帮助计算两个数字之间的百分比。我尝试了一种方法，但没有成功。请告诉我出了什么问题，或者如果您能推荐其他可以帮助我的脚本，我将不胜感激

我的脚本：

```
<html>
<head>
 <script type="text/javascript">
$("#rate").text(function() {
    var result = (parseInt(($("#price1").text(), 10) * 100)/ parseInt($("#price2").text(), 10));
    if (!isFinite(result)) result = 0;
    return result;
});?
</script> 

</head>
<body>
<div id="price1"><label><input id="price1" type="text"></label></div>
<div id="price2"><label><input id="price2" type="text"></label></div>
<div id="rate"><label><input id="rate" type="text"></label></div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-29T07:09:41.030

使用`val()`代替`text()`输入元素，用于`$(function(){})`等待 DOM 准备好。并且不要对元素使用相同的 ID。

```
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">
$(function() {
  $("#price1, #price2").change(function() { // input on change
    var result = parseFloat(parseInt($("#price1").val(), 10) * 100)/ parseInt($("#price2").val(), 10);
    $('#rate').val(result||''); //shows value in "#rate"
  })
});
</script> 
</head>
<body>
<div id="price-div1"><label>price1</label><input id="price1" type="text"></div>
<div id="price-div2"><label>price2</label><input id="price2" type="text"></div>
<div id="rate-div"><label>rate</label><input id="rate" type="text">%</div>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-29T07:04:36.587

你的问题很少，

1.  ? 在文本函数的右括号之后。
2.  div 和文本框的重复 id price1 和 price2
3.  如果你想从文本框输入，那么你应该使用 val() 而不是 text()

修复了你的代码

**[现场演示](http://jsfiddle.net/6nj2z/2/)**

**HTML**

```
<div id="dprice1"><label><input id="price1" type="text" value="80" /></label></div>
<div id="dprice2"><label><input id="price2" type="text" value="100" /></label></div>
<div id="drate"><label><input id="rate" type="text"></label></div>
<input id="btnCal" type="button" value="Calculate"> 
```

**Javascript** ​</p>

```
$("#btnCal").click(function() {
    $("#rate").val(function() {
        var result = parseInt($("#price1").val()) * 100 / parseInt($("#price2").val());
        if (!isFinite(result)) result = 0;
        return result;
    });
});​ 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-29T07:13:20.530

检查这个小提琴

[http://jsfiddle.net/j3WY3/5/](http://jsfiddle.net/j3WY3/5/)

做了一些更正：

*   `?`正如大家所说的那样删除。
*   更改`.text()`为`.val()`
*   两者`div`都有`input`相同的ID

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-29T07:01:25.210

可能你想使用**parseFloat()**而不是**parseInt()**

```
 <div id="price-div1"></label>price1<label><input id="price1" type="text"></div>
    <div id="price-div2"></label>price2<label><input id="price2" type="text"></div>
    <div id="rate-div"><label>rate</label><input id="rate" type="text">%</div>

    <script type="text/javascript">
        $(function() {
            $("#price1, #price2").change(function() {
                var result = parseFloat(parseFloat($("#price1").val(), 10) * 100)/ parseFloat($("#price2").val(), 10);
                $('#rate').val(result||'');
            })
        });
    </script> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-29T07:09:16.567

像这样使用，

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
</head>

<script type="text/javascript">
$("#rate").text(function() {
    var result = (parseFloat(($("#price1").val(), 10) * 100)/ parseFloat($("#price2").val(), 10));
    if (!isFinite(result)) result = 0;
    return result;
});
</script> 
<body>
<div class="price1"><label><input id="price1" type="text"></label></div>
<div class="price2"><label><input id="price2" type="text"></label></div>
<div class="rate"><label><input id="rate" type="text"></label></div>
</body>
</html> 
```

更改了 div 类，并通过以下方式获取输入值`val()`

# tags - Sharepoint 2013 标记配置文件为空

> ID：13620440
> 
> 赞同：2
> 
> 时间：2012-11-29T07:00:20.430
> 
> 标签：tags, sharepoint-2013

当我单击标签云 Web 部件中的标签时，我有一个空的标签配置文件页面 (mysite.domain.com/tagprofile.aspx?termid=9e183a42-9603-43ea-8e9c-173e62dbe34c)。

如何查看标签配置文件中的数据？

UPD：如果我单击搜索标签链接，我会查询 SocialTagId:"9e183a42-9603-43ea-8e9c-173e62dbe34c"，但结果中没有数据。我找到了如何搜索 tagid，如果在搜索框中输入查询：owstaxIdTaxKeyword:"9e183a42-9603-43ea-8e9c-173e62dbe34c"，我们有所有具有此 tagid 的文档。

但是如何在 TagProfile 页面上获得结果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T17:16:08.077

SharePoint 中的标签云利用社交标签，而不仅仅是任何企业关键字。尽管大多数标签都是从 Managed Metadata Service 中提取的，但社交标签与 User Profile Service 社交数据库一起存储。

您需要确保您正在标记文档的库启用了社交标记。您可以通过转到**Library Settings** > **Enterprise Metadata and Keywords Settings**来做到这一点。在那里，您将能够启用**将此列表上的元数据保存为社交标签**：

![启用社交标签](../Images/2b891566d2f5e4194d2e854551ed6918.png)

然后，确保您使用**标签和注释**板来确保您的文档被适当地标记。

![标签和笔记板](../Images/18b7028394df936d0b147f0240bf9d02.png)

最后，确保您的 Search Service 应用程序实际上正在爬网。如果您只执行了初始爬网，请设置爬网计划或切换到使用连续爬网。

# jquery - 使用 Jquery 使用一行代码访问 iframe 中和 iframe 外部的 DOM 元素

> ID：13620443
> 
> 赞同：1
> 
> 时间：2012-11-29T07:00:42.847
> 
> 标签：jquery, iframe

我有一个包含 div 的页面。

代码

```
<div id="main_data">My main div</div> 
```

我还在另一个页面（父页面）的 iframe 中托管此页面。

我有一个功能可以隐藏/显示单击按钮时运行的 div。我从页面本身和托管页面的父页面调用该函数。

现在我正在使用此代码从页面本身访问“Main_data”div

```
var element = $('#main_data'); 
```

我正在使用此代码从在 iframe 中托管页面的父页面访问“Main_data”div。

“graphFrame”是父页面中iframe的ID

```
var element = $('#graphFrame').contents().find("#main_data"); 
```

这意味着我在复制代码，我不喜欢它。我想知道是否有一种方法可以通过一行代码访问 DOM 元素，这两种情况都适用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:16:05.463

我没有看到太多重复的代码，我认为没有必要使用它：

```
function accessor(selector){
    return ($('iframe').length ? $('iframe').contents() : $(documents)).find(selector);
} 
```

未测试

# php - 将 Config TXT 文件转换为 PHP 用于 PIE 图表

> ID：13620447
> 
> 赞同：1
> 
> 时间：2012-11-29T07:01:00.363
> 
> 标签：php, database, pie-chart

[我正在创建插件以使用此http://www.jpowered.com/](http://www.jpowered.com/)使用饼图显示一些计数

现在一切都很好，但我想将它与数据库连接，其中 count 将从 db 中提取。他们的系统正在使用三个不同的文件。

1.  **用于呈现输出的**HTML****
***   **data.txt**获取价值*   **config.txt**这是饼图的外观、大小等配置文件**

 **HTML代码如下

```
<img src="../../graph/pie-chart.php?
data=../demo/piechart/data4.txt&
config=../demo/piechart/config4.txt"
width=700
height=400 /> 
```

现在我想将两个txt文件都转换成php，这样我就可以连接数据库了。

data.txt 到 data.php 以从数据库 config.txt 中提取所有数据以允许从插件设置面板进行一些自定义

为了更好地理解，我在两个文本文件中都放置了一些代码。

**数据.txt**

```
data1series1:   150
data2series1:   27
data3series1:   80

data1series2:   21000
data2series2:   30000
data3series2:   17000 
```

**配置文件**

```
 <!-- Chart Characteristics -->
    width:              700
    height:             400
    ndecplaces:         0
    pecentndecplaces:   0
    depth3d:            20
    3dangle:            40

    backgroundcolor:    #ffffff

    <!-- Chart Switches -->
    3d:                 false
    displayPercentages: true
    labellines:         true
    quality:            very high

    <!-- Popup segment Value Pre & Post Symbols -->
    valuepresym: $

    <!-- thousand seperater -->
    thousandseparator: ,

    <!-- Segment Labels -->
    segmentlabels:            true
    segmentlabelfont:         Arial
    segmentlabelfontsize:     8
    segmentlabelfontbold:     false
    segmentlabelfontitalic:   false
    segmentlabelcolor:        #666666
... ----->continue to more config settings 
```

**最后：** 我想将这两个文件**data.txt**和**config.txt**转换为我可以连接到数据库的 php。我试图转换两者和 data.txt 我发现工作但 config.txt 不会影响内联 php 代码并忽略通过 php 分配的整个属性。

有什么解决办法吗？我可以通过允许 php 连接数据库并使用变量配置设置来解决我的问题的任何其他方式或其他插件。

我希望这些信息就足够了，但如果您需要更多信息，请告诉我。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:07:07.537

使用`"../../graph/pie-chart.php?data=../demo/piechart/data4.txt&config=../demo/piechart/config4.txt"`as 您的 src 只会将 data 和 config (`../demo/piechart/data4.txt`和`../demo/piechart/config4.txt`) 的值发送到 pie-chart.php 文件。您可以简单地将配置和数据文件的数量（在本例中为“4”）传递给 php 文件，并让它相应地解析必要的 txt 文件。**

# javascript - 使用路由在 EmberJS 中渲染视图

> ID：13620449
> 
> 赞同：2
> 
> 时间：2012-11-29T07:01:19.243
> 
> 标签：javascript, ember.js

正如您从我的问题中可以看出的那样，我正在慢慢学习 EmberJS。我已经阅读了伟大的路线指南，我觉得已经准备好迎接这个世界，但后来......

在我的示例中，我认为将呈现 {{somethingView}} 而不是控制器属性 {{somethingCtrl}}。这是正确的行为吗？如果是这样，您将如何从 Ember.View 呈现属性？

**JS**

```
window.App = Ember.Application.create({
    ready: function() {
        this.initialize();
    }
});

window.App.Router = Ember.Router.extend({
    root: Ember.Route.extend({
        index: Ember.Route.extend({
            route: '/',
            connectOutlets: function(router) {
                var controller = router.get('applicationController');
                controller.connectOutlet('garments');
            }
        })
    })
})

window.App.ApplicationView = Ember.View.extend({
    templateName: 'application',
});

window.App.ApplicationController = Ember.Controller.extend();

window.App.GarmentsController = Ember.Controller.extend({
    somethingCtrl: "Something in the controller"
});

window.App.GarmentsView = Ember.View.extend({
    templateName: 'garments',
    somethingView: "Something in the view"
});​ 
```

**DOM 的东西**

```
<script type="text/x-handlebars" data-template-name="application">
  <h1>Hi Ember</h1>
    {{outlet}}
</script>
<script type="text/x-handlebars" data-template-name="garments">
  <h1>Garments</h1>
    {{somethingView}}<br>
    {{somethingCtrl}}
</script> 
```

​</p>

[小提琴](http://jsfiddle.net/EasyCo/jPK8A/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T11:25:54.857

这种行为是正确的。这些是我对这些 ember 核心概念的理解：

*   模型：这些对象代表您的应用程序处理的日期。这些是构成应用程序域模型的业务对象。
*   控制器：控制器负责提供对模型的访问。控制器具有属性内容，应该在其中注入模型（Ember.Controller 的单个对象和 Ember.ArrayController 的对象数组）。控制器将此内容传递给您的视图。Controller 是视图的默认上下文。**因此，您描述的行为是预期的。**
*   视图：视图仅用于显示问题。我个人主要用它来做jQuery动画。

但是仍然可以访问模板中的视图实例。您只需在模板中使用名称为“view”的变量。我用一个工作示例更新了你的小提琴：http: [//jsfiddle.net/jPK8A/5/](http://jsfiddle.net/jPK8A/5/)

```
<script type="text/x-handlebars" data-template-name="garments">
  <h1>Garments</h1>
    {{view.somethingView}}<br>
    {{somethingCtrl}}
</script> 
```

**但要明确：**最常见的情况应该是从控制器访问内容。您不应该经常访问视图的变量。您希望在您的应用程序中显示日期，并且此日期驻留在模型中，因此应通过控制器访问。最可能的情况是，您想在视图中存储标签或类似的东西（必须计算的标签）。

# forms - 关于 Ajax POST 成功的 Jquery 通知

> ID：13620451
> 
> 赞同：2
> 
> 时间：2012-11-29T07:01:27.840
> 
> 标签：forms, jquery, post, notifications

在用户通过 AJAX 提交注册 HTML 表单后，我创建的一些 jQuery 通知存在问题，这些通知是基于从 PHP 文件中回显的信息触发的。错误通知有效，但不能成功发布到数据库。我知道应该显示成功通知，因为数据经过验证并写入数据库并且 AJAX 发布成功。但是，成功通知不想工作。这种技术性的原因可能是什么？

我有以下设置：

**signup.html**（在页面中包含以下 ajax*）：

```
function registerUser(formKey) {
$.ajax({
    type:"POST",
    url:"engine/new_user.php",
    data: $("#"+formKey).serialize(),
    cache:false,
    success: function(data) {

        if(data == -3){
            $("html, body").animate({ scrollTop: 0 }, 600);
            $("#user-exists-notification").fadeIn(1000);
            }
        if(data == -4){
            $("#account-created").fadeIn(1000);
            }
        if(data == -1){
            $("html, body").animate({ scrollTop: 0 }, 600);
            $("#fields-complete-notification").delay(1000).fadeIn(1000);
            }
        if(data == -2){
            $("html, body").animate({ scrollTop: 0 }, 600);
            $("#pw-confirm-notification").delay(1000).fadeIn(1000);
            }
    },
    error: function(data) {

    }
});
} 
```

**新用户.php**

```
 require("register-classes.php");

 $register=new Register($_POST['fname'], $_POST['lname'], $_POST['email'], $_POST['sex'], $_POST['birthdate'], $_POST['phone'], $_POST['country'], $_POST['alias'], $_POST['handle'], $_POST["password"], $_POST["cpassword"], $_POST['network']);

if($register->checkFields()== false){

     echo -1;

 } else if($register->confirmPasswords()== false){

     echo -2;
 }else if($register->registerUser()!=false){

     echo -4;
 } else if($register->registerUser()==false){
     echo -3;
 }

and register-classes.php (which contains classes for processing sign up form)

    class Register {

        public function __construct($fname, $lname, $mail, $sex,
        $birthday, $phonenumber, $regCountry, $alias, $username,
        $password, $conf_password, $network_site) {

            //Copy Constructor
            $this->site=$network_site;
            $this->firstname=$fname;
            $this->lastname=$lname;
            $this->email=$mail;
            $this->sex=$sex;
            $this->birthdate=$birthday;
            $this->phone=$phonenumber;
            $this->country=$regCountry;
            $this->displayname=$alias;
            $this->handle=$username;
            $this->salt="a2cflux9e8g7ds6ggty589498j8jko007876j89j8j7";
            $this->password=crypt($this->salt.$password);
            $this->joindate=date("Y-m-d H:i:s");
            $this->confirm_password1=$password;
            $this->confirm_password2=$conf_password;

        }

        public function registerUser(){

            $database=new Database();
            $database->getConnection();
            $database->startConnection();

            //Check database to insure user and email address is not already in the system.                     
            $checkUsers= mysql_query("SELECT network_users.network_id
            FROM network_users, network_profile
            WHERE network_users.handle = '$this->handle'
            OR network_profile.email = '$this->email'");

            $numRecords= mysql_num_rows($checkUsers);

            if($numRecords == 0){

                $addUser= mysql_query("INSERT INTO network_users(handle, password, date_created, parent_network, site_created, active, account_type, del)
                values('$this->handle', '$this->password', '$this->joindate',' fenetwork', 'network', 'active', 'standard', 'F')") or die(mysql_error());

                $networkId=mysql_insert_id();

                $addProfile= mysql_query("INSERT INTO network_profile(network_id, first_name, last_name, email, sex, birthdate, phone, country, display_name, del)
                values('$networkId', '$this->firstname', '$this->lastname', '$this->email','$this->sex', '$this->birthdate', '$this->phone', '$this->country', '$this->displayname', 'F')") or die(mysql_error());

                $this->addUser;
                $this->addProfile;

                            return true;

            }
            else{

                return false;
            }
        }

        public function checkFields(){
            if(($this->firstname)!="" && ($this->lastname)!="" && ($this->email)!="" && ($this->sex)!="" && 
                ($this->birthdate)!="" &&($this->country)!="" && ($this->handle)!="" && ($this->password)!=""){

                return true;     
            } else {

                return false;
            }

        }

        public function confirmPasswords(){

            if($this->confirm_password1==$this->confirm_password2){

                return true;
            } else {

                return false;
            }
        }

        private $site, $firstname, $lastname, $email,
        $sex, $birthdate, $phone, $country, $displayname, 
        $handle, $password, $salt, $joindate, $confirm_password1, $confirm_password2;

        protected $addUser, $addProfile;

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T12:06:07.333

我发现了这个问题。问题是由于 printf() 函数是数据库类中几个类成员的一部分。它们导致函数完成中断并在 registerUser() 中返回布尔值 true 或 false；

谢谢大家的帮助和帮助。我会放弃投票，但我没有足够的声望点。哈哈。

# c - 将 3D WireFrame 转换为 3D 实体模型

> ID：13620453
> 
> 赞同：3
> 
> 时间：2012-11-29T07:01:42.100
> 
> 标签：c, 3d, autocad, cad

我一直在使用一些 3D 线框模型，它们本质上是大量的顶点，它们通过边或线段连接在一起，以创建 3D 对象的 3D 线框。

我想知道如何将其转换`3D Wire Frame Model`为`3D Solid Model`. 可以使用哪些算法来实现这一点？

现在我所拥有的是我使用线段连接在一起的一系列点，我需要什么来填充这些线段创建的区域以生成 3D 实体模型？

该平台是使用 C 的 Linux。

任何帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T23:13:33.617

通常的方法是将线框模型分成单独的三角形。您可以将表面参数分配给三角形，例如颜色信息。

# android - 线程优先级android

> ID：13620455
> 
> 赞同：1
> 
> 时间：2012-11-29T07:01:43.877
> 
> 标签：android, multithreading, threadpool

在我的应用程序中，我正在寻找一个有 2 个线程的设计：

*   **高优先级主线程**，下载紧急数据
*   **后台线程**优先级极低，不断在后台下载数据，占用资源少

另外，我想通过队列或堆栈管理这些线程，以便我可以随时在这两个线程中推送操作。我该怎么办？谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-10T01:08:07.850

您可以使用 ExecutorService ，它将帮助您管理线程池。你可以通过输入 Runnable 或 Callable 来执行你的任务

# sharepoint-2010 - 如何从文件夹内的列表中获取数据？

> ID：13620457
> 
> 赞同：1
> 
> 时间：2012-11-29T07:01:48.680
> 
> 标签：sharepoint-2010, reporting-services

我正在使用 SSRS 生成报告，创建了数据源和数据集，并且能够检索数据。但是，文件夹内的某些项目没有显示在报告中。

它不是在报告中获取项目。

不知道如何在此处提及范围以进行查询。以下是我的查询：

```
 <RSSharePointList xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
     <ListName>Program</ListName>
      <ViewFields>
      <FieldRef Name="Title" />
      <FieldRef Name="Requestor" />
      </ViewFields>
      </RSSharePointList> 
```

# batch-file - 系统在 Jenkins 中找不到指定的驱动器

> ID：13620462
> 
> 赞同：10
> 
> 时间：2012-11-29T07:02:16.823
> 
> 标签：batch-file, jenkins, cmd, hudson, jenkins-plugins

我想从网络共享驱动器（安装在我的本地机器上作为驱动器 Z）复制一些文件。我已经编写了一个批处理文件来将 Z 驱动器的内容复制到我的本地驱动器中。这个批处理文件在 cmd 上成功运行，但是当我通过 Jenkins 触发它时遇到问题。詹金斯给出以下错误：

“系统找不到指定的驱动器”

对此的任何帮助，将不胜感激。

谢谢，努曼。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-06-05T09:32:49.653

如果您不想使用 Jenkins-plugins 或 schedule-Tasks 这是一种“常规”方式：

**用手：**

您可以使用 Jenkins>Manage Jenkins>Script Console 提供的 Groovy Script-Console 并执行命令在 Jenkins-service 中映射网络驱动器。（必须重复，一旦 Jenkins 服务停止）

**自动化：**

将 Groovy 命令写入名为“init.groovy”的文件，并将其放在 JENKINS_HOME 目录中。所以网络驱动器被映射到 Jenkins-startup 上。

**Groovy 命令 - Windows：**

使用 Script-Console 检查可用的网络驱动器：

```
println "net use".execute().getText() 
```

你的 init.groovy 看起来像这样：

```
def mapdrive = "net use z: \\\\YOUR_REMOTE_MACHINE\\SHARED_FOLDERNAME"
mapdrive.execute() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-06-28T05:41:06.010

是的 Jenkins 使用不同的登录凭据。要通过 Jenkins 映射驱动器，请在 Jenkins 命令提示符中使用以下命令：

替代 U：\驱动器\文件夹

然后你的查询。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T12:32:55.403

您可能会遇到权限问题。Jenkins 可能会使用不同的用户凭据执行；所以它不知道为 Windows 共享配置的驱动器。我建议不要使用 shell 脚本，而是使用插件。有一组[Publish-over](https://wiki.jenkins-ci.org/display/JENKINS/Publish+Over+...)插件允许通过几个协议（ssh、cfis 等）部署到远程系统。查看允许将工件发送到 Windows 共享的[CFIS 插件。](https://wiki.jenkins-ci.org/display/JENKINS/Publish+Over+CIFS+Plugin)一旦配置了插件（即在*Manage Jenkins*部分中指定了主机），您可以添加到后期构建步骤*将文件发送到 Windows 共享*，您可以在其中指定应将哪些文件发送到哪个位置。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-03T21:00:15.910

尝试将调试命令添加到该 bat 文件，或作为单独的构建步骤，例如`net use`, `set`（注意像`HOMEPATH`和这样的变量`USERNAME`）和 plain `dir Z:\`。

正如在另一个答案中所说，最可能的原因是 Jenkins 以`SYSTEM`用户身份运行，该用户具有不同的权限。一种解决方法是，转到服务（例如打开任务管理器，转到其中的“服务”选项卡，单击该选项卡右下角的“服务”按钮），找到 Jenkins 服务，打开它的属性，转到“登录" 选项卡并将您的普通用户帐户设置为运行 Jenkins 的帐户。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-11-22T11:39:06.930

基本上，您可以使用 jenkins 命令中的服务器名或 IP 访问您的网络共享驱动器 (Z)。写 `\\192.168.x.xxx\Your_Folder`而不是`z:\Your_Folder`.

例如：

```
mkdir \\192.168.x.xxx\Your_Folder 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-03-20T12:51:55.990

## 为了访问您的远程驱动器

只需在 cmd 提示符下使用命令

* * *

*   pushd "\sharedDrive\Folder1\DestinationFolder"

*   mkdir 文件夹名称

*   流行音乐

* * *

pushd >> 它通过创建虚拟驱动器导航到共享驱动器.. popd >> 让您回到本地目录

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-04-19T11:08:08.890

[在本文档](https://wiki.jenkins.io/display/JENKINS/Step+by+step+guide+to+set+up+master+and+agent+machines+on+Windows)之后，我们在 Windows Server 2008 上设置的 Jenkins slave 上出现了类似的问题。即使在使用正确的用户凭据配置代理服务后，Jenkins 代理也无法访问已安装的网络驱动器。

**故障排除：**

1.  当通过 JNLP 代理（通过 Java Web Start 启动代理）连接时，Jenkins 可以通过驱动器号访问已挂载的网络驱动器。
2.  在我们将代理安装为 Windows 服务后，它很快就会停止识别驱动器号。配置正确的用户凭据并重新启动代理无济于事。
3.  使用上述用户登录机器时，我们仍然可以通过命令行访问驱动器。
4.  停止代理服务`services.msc`，然后通过运行命令将其卸载`jenkins-slave.exe uninstall`。从站此时断开连接。
5.  通过 Java Web Start 启动 JNLP 代理来重新连接从站。代理现在可以再次访问网络驱动器。

**概要：**

**不要将从代理安装为 Windows 服务**，以继续使用驱动器号访问已安装的网络驱动器。但这是非常**不可靠**的，因为代理可能无法在机器重新启动后重新启动。或者，查看 Jenkins 是否可以通过`\\<ip_address\of\network\drive>`.

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-01-22T15:45:24.110

我试图将文件从一台远程计算机复制到另一台，对我有用的简单解决方案是 COPY iphone.exe \192.xx.xx.xx\dev（dev 是该 IP 地址中 c 驱动器上的文件夹名称）

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-08-18T06:45:37.130

有这个问题，我的詹金斯工作无法读取网络驱动器上存在的文件。我通过在预构建步骤中添加“net use”命令解决了这个问题。IE

打开你的工作。转到 Pre Steps 从下拉列表中选择 Execute Windows Batch Command 输入以下命令：net use E:\[server name][Folder name] "[password]" /user:"[userid]" 点击 Save 执行作业

按照上面提到的步骤，我能够从我的网络驱动器中读取文件。

这似乎是一次活动，因为在初次运行之后，我已经从我的工作中删除了批处理命令，它似乎记住了映射的驱动器命令。

# gwt - GWT 与 GXT 哪个更好？

> ID：13620466
> 
> 赞同：5
> 
> 时间：2012-11-29T07:02:30.037
> 
> 标签：gwt, gxt

我们正在尝试将现有的胖客户端移植到瘦客户端。我们正在研究不同的技术，我们正在尝试不同的选择。我们在示例练习中尝试了 GXT 和 GWT。你认为我们应该继续哪一个？还有其他更好的框架吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-29T07:45:05.453

我使用 GWT（但不是 GXT）已经有好几年了。我正在使用 SmartGWT 的免费版本，它是一个基于谷歌网络工具包（如 GXT）的框架。
我个人认为，如果你想（并且你有足够的理由）使用 GWT，那么使用 GXT 或 SmartGWT 或其他框架等框架是一个明智的选择。这个框架提供了很多功能和准备好的小部件，使开发过程变得如此简单和有趣，但它们也有自己的缺点，例如增加客户端 js 代码大小、与某些浏览器不兼容、执行开销可能会增加响应时间小等等。
无论如何，除了所有弱点，我相信值得使用它们&所以我建议你使用基于 GWT 的框架，但在选择一个之前，请注意以下注意事项：

*   开发社区，他们的积极性和适应新版本 JDK、GWT 和特别是新版本的浏览器的速度以及示例、资源和讨论论坛的可用性
*   提供的各种小部件和易于编码以开发新软件
*   自定义小部件的能力
*   与来自其他类似框架的其他技术和小部件集成的能力
*   支持的开发 IDE
*   最后是许可证和定价

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-29T08:36:01.320

框架的决定取决于您的要求。可能影响框架选择的因素可能会根据您要开发的产品的大小而有所不同。

因素主要包括，

*   学习的时间。
*   支持库/插件。
*   支持的功能。
*   开发时间。
*   支持论坛。

因为我也对 GWT 和 GXT 做了一些研究。学习 GWT 的时间更多。GXT 有更多的小部件。

请参阅[此](http://gxtvsgwt.appspot.com/). 了解 GWT 与 GXT 的性能。对于商业和大型产品开发，选择 GWT、GXT 的决定取决于需求。还有很多其他的框架。

*   [瓦丁](https://vaadin.com/home)
*   [dwr](http://directwebremoting.org/dwr/index.html)
*   [ZK](http://www.zkoss.org/)
*   [阿帕奇点击](http://click.apache.org/)
*   [阿帕奇检票口](http://wicket.apache.org/)
*   [阿帕奇挂毯 5](http://tapestry.apache.org/)
*   [阿里巴网络](http://aribaweb.org/)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-29T07:10:53.970

除了 gwt 和 gxt 之外，还有许多可用的 Web 框架。有[Vaadin](https://vaadin.com/home)、[Dart](http://www.dartlang.org/)等等。

GWT 是 gxt 和 vaadin 的基础。您要使用哪种技术取决于您的应用程序要求。

GWT 在性能方面很棒，但外观不太好 GXT 和 Vaadin 是基于 GWT 构建的，提供了更丰富的功能、更多的小部件、UI 方面的优势和性能滞后。

# internet-explorer - 浏览器如何知道一个activex控件是安全的？

> ID：13620471
> 
> 赞同：2
> 
> 时间：2012-11-29T07:03:04.467
> 
> 标签：internet-explorer, browser, activex, webbrowser-control, security

IE浏览器如何知道一个activex控件是安全的？IE中的任何策略或方法？感谢任何考虑这一点的人。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:19:23.000

它不“知道”它，它所知道的只是控件的开发人员*声称*它是安全的。 [这篇 MSDN 文章](http://msdn.microsoft.com/en-us/library/aa751977(v=vs.85).aspx)提供了有关如何完成此操作的更多信息。

# iphone - iOS：是否有任何关于 Siri 出现的通知？

> ID：13620475
> 
> 赞同：3
> 
> 时间：2012-11-29T07:03:16.590
> 
> 标签：iphone, notifications, siri

我希望每次 Siri 从屏幕上出现或消失时都收到通知。
当用户将 iPhone 放在耳朵附近时，它可能会出现。

是否可以？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T09:58:38.197

我进行了测试，当 Siri 出现时会发送以下通知：

```
_UIApplicationWillAddDeactivationReasonNotification
UIApplicationWillResignActiveNotification 
```

...当 Siri 被解雇时：

```
_UIApplicationDidRemoveDeactivationReasonNotification
UIApplicationDidBecomeActiveNotification 
```

所以，不......因为没有公共的 Siri API，而且 UIApplication 不发送任何 Siri 特定的通知，看起来我们现在不走运。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T09:31:07.813

您收到的唯一通知是 applicationDidEnterBackground （或类似的东西）。

我认为目前没有任何 Siri API，因此您可以将整个操作系统视为一个整体。

# performance - PerfMon 和 CLR Profiler 计数器比较

> ID：13620476
> 
> 赞同：0
> 
> 时间：2012-11-29T07:03:21.803
> 
> 标签：performance, perfmon, performancecounter, clrprofiler

我正在为我的应用程序比较 Perfmon 和 CLR Profiler 计数器。
我想知道哪个 perfmon 计数器与 CLR Profiler 计数器相关？

1.  分配的字节
2.  重定位字节
3.  最终堆字节

提前致谢

# c# - 如何在 MS Chart 的折线图中缩放辅助轴（AxisY2）？

> ID：13620479
> 
> 赞同：3
> 
> 时间：2012-11-29T07:03:34.463
> 
> 标签：c#, winforms, mschart

我想在我的图表上应用比例视图选项。我编写了以下代码，允许我在 AxisY 上缩放视图。但不在 AxisY2 上。

```
chart1.ChartAreas["Area"].CursorY.IsUserEnabled = true;
chart1.ChartAreas["Area"].CursorY.IsUserSelectionEnabled = true;
chart1.ChartAreas["Area"].AxisY.ScaleView.Zoomable = true;
chart1.ChartAreas["Area"].AxisY2.ScaleView.Zoomable = true; 
```

我可以在 AxisY 上缩放，但不能在 AxisY2 上缩放。任何人都可以知道我必须在我的代码中更改或添加什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T08:21:54.140

我已经根据下面的代码自己解决了这个问题。

```
chart1.ChartAreas["Area"].AxisY2.ScaleView.Zoomable = true;
chart1.ChartAreas["Area"].AxisY2.ScaleView.Zoom(ScaleMinValue, ScaleMaxValue); 
```

# javascript - 是否可以使用 WebRTC getusermedia 和 HTML5 访问整个屏幕？

> ID：13620480
> 
> 赞同：2
> 
> 时间：2012-11-29T07:03:47.037
> 
> 标签：javascript, html5-video, html5-canvas, webrtc

我正在尝试通过浏览器在本地共享我的屏幕。是否可以使用 getusermedia 或 HTML5 共享屏幕？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T17:31:35.243

[在这里](https://stackoverflow.com/questions/13616449/screen-sharing-with-webrtc)查看我的答案。实际上，答案是“还没有，但可能最终，尽管没人知道什么时候。”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T23:07:42.257

屏幕共享可以通过 getUserMedia 与 chrome.tabCapture API 完成，但目前仅在 Chrome 开发频道上：请参阅我的[答案](https://stackoverflow.com/questions/13616449/screen-sharing-with-webrtc)。

# c++ - 实数 - 如何确定是否需要浮点数或双精度数？

> ID：13620481
> 
> 赞同：10
> 
> 时间：2012-11-29T07:03:50.333
> 
> 标签：c++, c, floating-point

给定一个真实值，我们是否可以检查一个`float`数据类型是否足以存储数字，或者`double`是否需要 a？

我知道精度因架构而异。是否有任何 C/C++ 函数来确定正确的数据类型？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T09:09:09.380

有关背景，请参阅[每个计算机科学家应该了解的关于浮点运算的知识](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)

不幸的是，我认为没有任何方法可以使决策自动化。

通常，当人们用浮点数而不是字符串表示数字时，其目的是使用数字进行算术运算。即使所有输入都以可接受的精度适合给定的浮点类型，您仍然必须考虑舍入误差和中间结果。

在实践中，大多数计算将使用 64 位类型以足够的精度获得可用结果。许多计算仅使用 32 位不会得到可用的结果。

在现代处理器中，总线和算术单元的宽度足以提供 32 位和 64 位浮点类似的性能。使用 32 位的主要动机是在存储非常大的数组时节省空间。

这导致了以下策略：

如果数组大到足以证明花费大量精力将其大小减半是合理的，请进行分析和实验以确定 32 位类型是否能提供足够好的结果，如果是，请使用它。否则，使用 64 位类型。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-30T01:50:30.480

精度不是很依赖平台。虽然平台允许不同，但`float`几乎是通用的IEEE[标准单精度](http://en.wikipedia.org/wiki/Single-precision_floating-point_format)和[双精度](http://en.wikipedia.org/wiki/Double-precision_floating-point_format)。`double`

单精度在小数点（小数点）之后分配 23 位“尾数”或二进制数字。由于点之前的位始终为 1，因此这相当于 24 位小数。除以 log2(10) = 3.3，浮点数可以得到**7.2 个十进制数字**的精度。

遵循相同的过程`double`产生 15.9 位和`long double`产生 19.2（对于使用 Intel 80 位格式的系统）。

尾数以外的位用于指数。指数位数决定了允许的数字范围。单到 ~ 10 ^(±38)，双到 ~ 10 ^(±308)。

至于您是否需要 7、16 或 19 位数字，或者是否完全适合有限精度表示，这确实超出了问题的范围。这取决于算法和应用程序。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-29T07:14:59.363

我认为您的问题预设了一种在不损失精度的情况下为 C/C++（或任何其他程序）指定任何“实数”的方法。

假设您通过在代码中指定或通过用户输入来获得这个实数；检查浮点数或双精度数是否足以在不损失精度的情况下存储它的一种方法是仅计算有效位的数量并对照浮点数和双精度数的数据范围检查。

如果数字作为表达式（即`1/7`或`sqrt(2)`）给出，您还需要检测方法：

*   如果数字是有理数，它是否具有[重复小数或循环小数](http://en.wikipedia.org/wiki/Repeating_decimal)。
*   或者，[当你有一个无理数时会发生什么？](https://stackoverflow.com/questions/5095991/determine-if-a-float-number-is-irrational-of-a-fraction)

此外，还有一些数字，例如`0.9`，float / double 在理论上不能“准确地”表示（至少在我们的二进制计算范式中不能） - 请参阅[Jon Skeet 对此的出色回答。](https://stackoverflow.com/questions/1089018/why-cant-decimal-numbers-be-represented-exactly-in-binary)

最后，请参阅[关于 float 与 double 的更多讨论。](https://stackoverflow.com/questions/2386772/difference-between-float-and-double)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-29T08:00:16.593

一个非常详细[的帖子](http://randomascii.wordpress.com/2012/03/21/intermediate-floating-point-precision/)，可能会或可能不会回答您的问题。

浮点复杂性的完整[系列！](http://www.altdevblogaday.com/2012/04/05/floating-point-complexities/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-29T07:15:38.627

您不能用浮点或双精度变量表示实数，而只能表示有理数的子集。

当您进行浮点计算时，您的 CPU 浮点单元将为您决定最佳近似值。

我可能错了，但我认为 float（4 字节）和 double（8 字节）浮点表示实际上是独立于 comp 架构指定的。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-29T07:19:49.667

你不能简单地将它存储到一个`float`和一个`double`变量中然后比较这两个吗？这应该隐含地将`float`back 转换为 double - 如果没有区别，`float`就足够了吗？

```
float f = value;
double d = value;
if ((double)f == d)
{
     // float is sufficient
} 
```

# php - 从配置调用图像

> ID：13620484
> 
> 赞同：-2
> 
> 时间：2012-11-29T07:04:11.377
> 
> 标签：php, config

我目前正在学习 PHP，但在从配置文件中调用图像时遇到问题。

基本上，图像的 URL 在配置文件（“config.php”）中定义，如下所示：

```
/*** VISUAL STYLE ***/
$visual_style['background_image'] = 'http://127.0.0.1/images/bigbackground/1.jpg'; 
```

调用图像的函数存储在 index.php 中。

我应该怎么做才能成功调用它？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:07:22.087

```
<img src="<?php echo $visual_style['background_image']; ?>"> 
```

或者

```
<div style="background-image:<?php echo $visual_style['background_image']; ?>"></div> 
```

# python - 2.4中的列表理解

> ID：13620486
> 
> 赞同：2
> 
> 时间：2012-11-29T07:04:14.753
> 
> 标签：python, list, python-2.4, list-comprehension

我是否相信您只能在 python 2.5 及更高版本的列表推导中使用 else ？

即在 2.4 中实现以下目标的最佳方法是什么？

```
print [x if x != "3" else "1" + "3" for x in ["1","2","3"]] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:08:25.037

我相信条件表达式在 python 2.5 中是新的。一种旧的解决方法是使用：

```
("13",x)[x!=3] 
```

它的作用是创建一个元组 ( `("1",x)`)，然后用布尔值 ( `True`( `1`) 或`False`( `0`)) 对其进行索引。

把它们放在一起，你会得到：

```
[("13",x)[x!="3"] for x in ("1","2","3")] 
```

* * *

这个成语很难阅读，值得问问自己是否真的*需要*支持 python2.4。一个稍微冗长的替代方法是使用一个函数：

```
def conditional_expr(a,cond,b):
    if cond:
        return a
    else:
        return b 
```

换句话说：

```
[conditional_expr(x,x!='3','13') for x in ("1","2","3")] 
```

当然，这些实际上都不能与能够短路的条件表达式进行比较（例如，如果条件是`True`，则不需要评估返回值`False`）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:17:07.427

你可以利用地图...

```
In [38]: def f(x):
   ....:     if x != "3":
   ....:         return x
   ....:     else:
   ....:         return "1" + "3"
   ....:

In [39]: map(f, ["1", "2", "3"])
Out[39]: ['1', '2', '13'] 
```

'Janne Karila' 建议的另一种方法

```
In [40]: [f(x) for x in ["1", "2", "3"]]
Out[40]: ['1', '2', '13'] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T07:08:51.173

我不知道 2.4 中的列表推导。但无论如何，经典的 for 循环都可以。

```
l = []
for x in ["1","2","3"]:
    if x != "3":
        l.append(x)
    else:
        l.append("1" + "3")
print l 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T07:10:00.027

你需要一个完整的`for`循环，你只需要测试一个`if`语句：

```
results = []
for x in ["1","2","3"]:
    if x == "3":
        x = "1" + "3"
    results.append(x) 
```

一些兼容 python2.4 的“单行条件”不值得（我认为）他们阅读的令人困惑的方式。

# css - 淡化 CSS 中未聚焦的对象

> ID：13620495
> 
> 赞同：1
> 
> 时间：2012-11-29T07:04:58.600
> 
> 标签：css, object, fade

我想知道是否可以选择三个项目，当它们没有悬停时，所有这些项目的不透明度都为 1，而对于某些人来说，其他两个项目的不透明度是一半，或者“褪色”，当我将鼠标悬停在一个上。

这是我到目前为止所尝试的，不幸的是，它被证明是不成功的，因为我悬停在上面的对象的不透明度仍然是 0.5。

```
 #mainLinks:hover { opacity: .5; }
 #mainLinks a{
      margin: 10px -10px 10px -10px;
      -webkit-transition: -webkit-transform .1s;
 }
 #mainLinks a:hover{
      -webkit-transform: scale(1.1);
      opacity: 1.5;
 } 
```

任何和所有的帮助表示赞赏！只要问我您是否需要更多信息或澄清！

谢谢，欧文

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:18:38.827

你快到了。

1.  父级需要将完全不透明度设置为 0.5
2.  悬停的项目需要不透明度设置为 1

示例 HTML：

```
<ol id="items">
    <li>Item 1</li>
    <li>Item 2</li>
    <li>Item 3</li>
    <li>Item 4</li>
    <li>Item 5</li>
</ol>​ 
```

CSS：

```
#items:hover > li { opacity: .5; }
#items:hover > li:hover { opacity: 1; } 
```

我从你的例子中省略了转换/转换，但我假设你明白了。

**[JSF](http://jsfiddle.net/rS7ZR/)**中。

# c# - 打开文件对话框，在 var 中获取文件路径

> ID：13620497
> 
> 赞同：0
> 
> 时间：2012-11-29T07:05:25.010
> 
> 标签：c#, c#-4.0

我能够打开一个文件对话框，现在我想知道如何在 var 变量中获取文件的路径，例如

```
 OpenFileDialog fd1 = new OpenFileDialog();
        fd1.InitialDirectory = "c:\\";
        fd1.Filter = "pdf files (*.pdf)|*.pdf|All Files (*.*)|*.*";
        fd1.FilterIndex = 2;
        fd1.RestoreDirectory = true; 
```

所以我想在我的var中像

```
 var path = @"c:\abc.pdf"; 
```

可能吗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:22:37.770

这里是：

```
if (openFileDialog1.ShowDialog() == DialogResult.OK)
            {
                var path = openFileDialog1.FileName;
            } 
```

这样，您将获得文件路径，例如：

**C:\folder1\folder2\fffffffff...\abc.pdf**

更新：

您将“var”更改为“string”，并使**路径**变量成为全局变量。这是一个例子：

```
private string path;

        private void button1_Click(object sender, EventArgs e)
        {
            if (openFileDialog1.ShowDialog() == DialogResult.OK)
            {
                path = openFileDialog1.FileName;
            }

        }

        private void button2_Click(object sender, EventArgs e)
        {
            MessageBox.Show(path);
        } 
```

你不需要公开你的变量，因为你在同一个班级！！！

更新：

认为这会做

```
AxAcroPDF1.src = path; 
```

Process.Start 应该启动一个新进程以使用默认客户端 Adob​​e Reader 打开 pdf 文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:27:33.473

您可以提示用户`filedialog`获取文件路径。如果你想获得一些特定的文件夹，你可以试试

```
 String PersonalFolder = 
    Environment.GetFolderPath(Environment.SpecialFolder.Personal); 
```

环境有很多特定于机器的文件夹。希望能帮助到你

# shell - 为什么 emacs comint 模式不将字符串作为 shell 处理？

> ID：13620498
> 
> 赞同：4
> 
> 时间：2012-11-29T07:05:34.667
> 
> 标签：shell, emacs, comint-mode

例如，我有以下命令来运行我的项目：

```
java -cp "lib/*:src:resources" clojure.main -m etl-proxy.proxy.core 
```

所以我尝试使用以下命令创建 comint 缓冲区：

```
(progn 
   (kill-all-local-variables)
   (erase-buffer)
   (comint-mode)
   (comint-exec (current-buffer) "etl-proxy" 
                "java" nil '("-cp" "\"lib/*:src:resources\"" "clojure.main" 
                            "-m" "etl-proxy.proxy.core"))) 
```

这将导致 java 类路径错误。但是当我更改`"lib/*:src:resources"`属性列表中的键时，这项工作正常。

我如何在不运行 shell 的情况下强制以 comint 模式处理字符串？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T14:02:38.973

我认为您所说的“字符串处理”是通常的外壳执行的处理。执行此操作的更好工具（即按照所有规则执行此操作，例如需要引用的内容、如果 a`$(...)`出现在 中会发生什么`"..."`、如何扩展`"foo"*"bar"`等...）是 shell。

如果您知道您需要的处理比 shell 所能做的要简单得多，您可以尝试使用特殊情况代码来避免通过 shell。 `shell.el`在一些地方这样做并使用`shell--unquote-argument`它，因此您可以尝试使用该功能，如：

```
(comint-exec (current-buffer) "etl-proxy" 
             "java" nil (mapcar #'shell--unquote-argument
                                '("-cp" "\"lib/*:src:resources\"" "clojure.main" 
                                  "-m" "etl-proxy.proxy.core")))) 
```

但就您而言，仅使用外壳可能更简单：

```
(comint-exec (current-buffer) "etl-proxy" 
             "/bin/sh" nil '("-c" "java -cp \"lib/*:src:resources\" clojure.main -m etl-proxy.proxy.core")) 
```

# android - 在片段列表中增加怎么做

> ID：13620500
> 
> 赞同：0
> 
> 时间：2012-11-29T07:05:39.220
> 
> 标签：android, list, fragment

我尝试增加图片片段。增加按钮没问题。但是今天我想增加他们编译错误的列表。我该怎么做？。

```
 public View onCreateView(LayoutInflater inflater, ViewGroup container,
                Bundle savedInstanceState) {
            super.onCreateView(inflater, container, savedInstanceState);
            View view = inflater.inflate(R.layout.templistmune, container, false);

            String[] glossary = {"C","B","A","K"
            };
            setListAdapter(new ArrayAdapter<String>(templistview.this, R.layout.listview_item, glossary));
//The method setListAdapter(ArrayAdapter<String>) is undefined for the type templistview
//error The constructor ArrayAdapter<String>(templistview, int, String[]) is undefined
            ListView listView = getListView();
//error The method getListView() is undefined for the type templistview
            listView.setTextFilterEnabled(true);
            listView.setOnItemClickListener(new OnItemClickListener() {
                @Override
                public void onItemClick(AdapterView<?> parent, View view, 
                        int position, long id) {

                }
            });    

            return view;

        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:30:50.110

我发现将 templistview.this 更改为 getActivity()

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-12T14:55:56.920

您需要扩展 ListActivity

```
MyActivity extends ListActivity 
```

来源：[“方法 setListAdapter(ArrayAdapter) 未为类型创建定义”](https://stackoverflow.com/questions/3033791/the-method-setlistadapterarrayadapter-is-undefined-for-the-type-create)

# linux - 我可以在内核代码之外使用 Linux 内核链表吗？

> ID：13620501
> 
> 赞同：5
> 
> 时间：2012-11-29T07:05:40.420
> 
> 标签：linux, list, kernel

我想在内核代码的某些部分使用它之前使用内核链表。但是，如果我只包含`list.h`，由于依赖关系，它不起作用。

如何使用`single.c`文件中的列表编写代码，例如 test.c，以便我可以通过编译来测试我的代码`test.c`？期待很快可以收到你的来信。

另外，如何使用嵌套链表？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-30T12:26:49.657

您可以从[http://www.mcs.anl.gov/~kazutomo/list/list.h](http://www.mcs.anl.gov/~kazutomo/list/list.h)获取用户空间端口。
它说：

> 这是为用户空间程序烹制 list.h 的食谱
> 
> 1.  从 linux/include/list.h 复制 list.h
> 2.  消除
>     *   #ifdef **KERNE**及其#endif
>     *   所有 #include 行
>     *   prefetch() 和 rcu 相关函数
> 3.  添加宏 offsetof() 和 container_of

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-29T10:05:55.480

它并不意味着在用户空间中使用该列表，因为它是为内核内部使用而设计的，并且具有内核类型的多个依赖项等等。您可以通过使用正确的包含路径编译代码来看到这一点：

```
gcc -I path-to-kernel-src/include/ test.c 
```

当 test.c 包含此代码时：

```
#include <stdio.h>
#include <stdlib.h>

#include <linux/list.h>

int main(int argc, char **argv) { } 
```

它无法编译，因为 list.h 中包含与用户空间包含 (stdlib.h) 冲突的包含。

然而，像列表这样的数据结构的依赖关系非常小。您需要对它们进行排序以打破 list.h 与其他内核的依赖关系。在一个简短的测试中，我从 list.h 中删除了包含，并添加了数据类型 struct list_head/hlist_head 和 hlist_node。

# android - 我的 android 应用程序可以作为平板电脑的默认应用程序吗

> ID：13620503
> 
> 赞同：0
> 
> 时间：2012-11-29T07:06:07.297
> 
> 标签：android, default, bootable

我正在为我的客户开发一个安卓应用程序。在这种情况下，用户只需要使用该应用程序即可。用户不应使用平板电脑中的任何其他应用程序，并且我的应用程序需要在我安装应用程序后成为默认应用程序...

如果我关闭平板电脑，我的应用程序将停止，如果我打开平板电脑意味着我的应用程序将自动启动。

我能做到这一点，任何步骤来实现它..

帮我解决这个问题，在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:15:19.367

您可以在使用广播完成启动时启动您的应用程序，但您不能在用户按下主页按钮时停止应用程序退出。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T07:18:02.730

您可以将您的活动定义为 Home，在清单文件中，定义如下：

```
 <activity android:name=".YouClassName">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.HOME" />
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity> 
```

这样，安装你的应用程序后，当用户长按 Home 键时，Android 会提示用户选择进入哪个 HOME，一个是系统默认，另一个是你的 Activity。此时，用户也可以将您的活动设置为默认HOME，然后在开机时，系统会自动进入您的活动。

如果您允许删除系统默认启动器（默认主页），那么您的活动将成为唯一的主页。

# jquery - SlideToggle Jquery 恢复为原始文本

> ID：13620506
> 
> 赞同：0
> 
> 时间：2012-11-29T07:06:15.087
> 
> 标签：jquery, slidetoggle

我有这个 HTML 代码：

```
 <div id='codesnipdiv'>
       <a class='fadex' id='codesnipfrontend'>$code_sniptitle</a>
       <div id='boxx' class='clearfix'>
          <pre>$code_content</pre>
       </div>
    </div> 
```

当用户点击上面的超链接时，会触发slideToggle事件并显示内容

```
 <div id='boxx' class='clearfix'> 
```

默认情况下是隐藏的。

它还将链接的锚文本从其原始 $code_sniptitle（这是一个 PHP 变量）更改为“单击以最小化”。这是我的 jQuery 代码：

```
 jQuery( document ).ready( function( $ ) {
$('#codesnipdiv #codesnipfrontend').click(function() {  
    $(this).text('Click to minimize');
    $(this).next().slideToggle();

}); 

}); 
```

上面的代码运行良好。但是当用户单击链接以最小化 slideToggle 时，我想恢复到其原始锚文本。我在这里使用建议：[jQuery - slideToggle() 和 Toggle Text](https://stackoverflow.com/questions/2586156/jquery-slidetoggle-and-toggle-text)但它不起作用。

您对如何实现这一点有一些想法吗？非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:16:40.803

根据示例请使用此

```
jQuery(document).ready(function($) {
    $('#codesnipdiv #codesnipfrontend').click(function(){  
        $("#boxx").animate({opacity: 1.0},200).slideToggle(500, function() {
            $('#codesnipdiv #codesnipfrontend')
               .text($(this).is(':visible') ? "<Hide>" : "<Show>");
        });
    });
}); 
```

相应地更改`<Hide>`和`<Show>`文本。

实施[http://jsfiddle.net/UP6jY/](http://jsfiddle.net/UP6jY/)

# json - 如何从 PHP 文件中输出格式正确的 JSON？

> ID：13620509
> 
> 赞同：3
> 
> 时间：2012-11-29T07:06:38.100
> 
> 标签：json

我有这个代码：

```
<?php

    header('Content-Type: text/javascript; charset=UTF-8');
    header('Cache-Control: private, no-cache, no-store, must-revalidate');
    header('Pragma: no-cache');
    header('Expires: Sat, 01 Jan 2000 00:00:00 GMT');

    $data = array(
        "data" => array(
            "sender" => "Jhon Andrew",
            "recipient" => "Someone OverThe Internet",
            "conversation" =>
            array(
                "unix" => "1234567890",
                "message" => "Lorem ipsum dolor sit amet."
            ),
            array(
                "unix" => "0987654321",
                "message" => "Tema tis rolod muspi merol."
            )
        )
    );

    echo json_encode($data);

?> 
```

我期待这样的结果：

```
{
    "data": {
        "sender":"Jhon Andrew",
        "recipient":"Someone OverThe Internet",
        "message":"Lorem ipsum dolor sit amet."
    }
} 
```

但我只显示在一行中，如下所示：

```
{"data":{"sender":"Jhon Andrew","recipient":"Someone OverThe Internet","message":"Lorem ipsum dolor sit amet."}} 
```

我怎样才能得到正确格式化的 JSON 输出，就像我期望的那样？实际上这并不重要，但我只想以良好的格式查看结果。

* * *

> ...顺便说一句，我刚刚从 facebooks 图表链接复制了标题，因为这就是我想要输出结果的方式。示例：graph.facebook.com/mOngsAng.gA

* * *

> 它当然是有效的。我只想知道如何像这样输出它：graph.facebook.com/mOngsAng.gA - 如您所见，它的格式正确。我的意思是它有换行符和缩进。不像我得到的只是显示在一行中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T07:18:13.077

看看php 手册中的`JSON_PRETTY_PRINT`标志[`json_encode()`](http://php.net/json_encode)。您可以简单地使用：

```
$data = json_encode($data, JSON_PRETTY_PRINT); 
```

如果您没有使用`PHP 5.4`或更多尝试接受问题的答案：[Pretty-Printing JSON with PHP](https://stackoverflow.com/questions/6054033/pretty-printing-json-with-php)。

但是，您的输出是**有效**的json 输出！

# qt - 如何在 PyQt4 中的 QDockWidget 中添加切换全屏按钮？

> ID：13620515
> 
> 赞同：1
> 
> 时间：2012-11-29T07:07:05.400
> 
> 标签：qt, pyqt, pyqt4, titlebar, qdockwidget

默认情况下，[QDockWidget](http://www.riverbankcomputing.com/static/Docs/PyQt4/html/qdockwidget.html)工具栏上有两个小按钮：“分离”和“关闭”。

如何添加新按钮：“切换全屏”？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T16:57:27.153

[QDockWidget.setTitleBarWidget](http://qt-project.org/doc/qt-4.8/qdockwidget.html#setTitleBarWidget)函数可用于将现有的标题栏（包括按钮）替换为您自己的自定义小部件。

但是，不可能使用[QDockWidget.titleBarWidget](http://qt-project.org/doc/qt-4.8/qdockwidget.html#titleBarWidget)获取对*默认*标题栏小部件的引用并向其添加额外的按钮。

# matlab - Matlab变量需要永远保存

> ID：13620522
> 
> 赞同：1
> 
> 时间：2012-11-29T07:07:27.117
> 
> 标签：matlab

我有一个 3x6 元胞数组的 MATLAB 变量。单元阵列的其中一列最多可容纳 150-200 个小 RGB 图像，例如 16x20 像素大小（同样，最多）。其余列是：

*   相同数量的标签是 3 或 4 个字符的字符串，

*   一个图像蒙版，大约 350x200

*   3 个整数

由于某种原因，保存此对象需要很长时间，或者至少对于对象的大小而言。已经 10 分钟了（这还不算太糟糕，但我计划扩大对象的大小以容纳数千张这些小图像），而 MATLAB 似乎没有取得任何进展。事实上，当我打开变量的包含目录时，它的大小在 0 字节到大约 120kB 之间循环。（即它将以 30 或 40 kB 的步长增加到 120，然后重新启动）。

这是正常行为吗？MATLAB 变量是否总是需要很长时间才能保存？这里发生了什么？

错误：我正在保存`AllData`，而不是我的 SVM 变量。`AllData`具有与 SVM keeper 相同的数据，减去实际的 SVM 本身和一个整数。

代码的哪些特定点有助于解决这个问题？代码本身只有几百行，分成几个函数。解决此问题需要考虑哪些重要事项？什么时候创建变量？什么时候保存？我创建较小图像的方式？

讨厌成为给他们的桌面拍照的菜鸟。但是我正在使用的机器在截屏时遇到问题。无论如何，这里是

`Alldata/curdata`只是 3x7 数组的子集...实际上它是 3x8，但最后一个只是`int`.

有趣的一点：我中断了保存过程，变量似乎保存得很好。我在保存的数据上训练了一个新`svm`的，它工作得很好。不过，我不想在未来这样做。 ![工作区内容](../Images/a3d2ad57e422edddeea8986609dc49cd.png)

使用谁：

```
Name                               Size                 Bytes  Class      Attributes

AllData                            3x6                 473300  cell                 
Image                            240x352x3             253440  uint8                
RESTOREDEFAULTPATH_EXECUTED        1x1                      1  logical              
SVMKeeper                          3x8                2355638  cell                 
ans                                3x6                 892410  cell                 
curData                            3x6                 473300  cell                 
dirpath                            1x67                   134  char                 
im                               240x352x3            1013760  single               
s                                  1x1                 892586  struct 
```

更新： 1.这种情况总是发生，还是你只做过一次？

- 它总是发生

2.保存到不同的（本地）驱动器是否需要相同的时间？

-当我回到那台计算机时，我会对此进行更多调查

3.将一个500kb的矩阵保存到那个文件夹需要多长时间？

- 几乎是瞬间的

4.如上所述，您使用的函数调用是什么？

- 下面添加的代码

```
(Image is a rgb image)

MaskedImage(:,:,1)=Image(:,:,1).*Mask;
MaskedImage(:,:,2)=Image(:,:,2).*Mask;
MaskedImage(:,:,3)=Image(:,:,3).*Mask;
MaskedImage=im2single(MaskedImage);
....

(I use some method to create a bounding box around my 16x20 image)
(this is in a loop of that occurs about 100-200 times)

 Misfire=input('is this a misfire?','s');
 if (strcmpi(Misfire,'yes'))
    curImageReal=MaskedImage(j:j+Ybound,i:i+Xbound,:);
    Training{curTrainingIndex}=curImageReal;  %Training is a cell array of images
    Labels{curTrainingIndex}='ncr';
    curTrainingIndex=curTrainingIndex+1;
 end

  (the loop ends)...

SaveAndUpdate=input('Would you like to save this data?(say yes,definitely)','s');
undecided=1;
while(undecided)
if(strcmpi(SaveAndUpdate,'yes,definitely'))
   AllData{curSVM,4}=Training;
   AllData{curSVM,5}=Labels;
   save(strcat(dirpath,'/',TrainingName),'AllData'); <---STUCK HERE
   undecided=0;
else
   DontSave=input('Im not going to save. Say YESNOSAVE to NOT SAVE','s')
   if(strcmpi(DontSave,'yesnosave'))
      undecided=0;
   else
      SaveAndUpdate=input('So... save? (say yes,definitely)','s');
   end
end
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T13:19:35.110

有点不清楚您是否正在保存一些自定义文件。如果是第一个，我猜你的保存循环非常慢，可能是一些硬件问题。尝试使用 MATLAB 的[`save`](http://www.mathworks.se/help/matlab/ref/save.html)函数保存数据：

```
tic
save('test.mat', 'AllData')
toc 
```

如果效果很好，请尝试从那里开始工作，例如一次保存一个元素等。

您可以使用 来分析您的代码，使用[`profiler`](http://www.mathworks.se/help/matlab/matlab_prog/profiling-for-improving-performance.html)命令打开它，`profile viewer`然后在输入文本字段中输入您想要分析的代码、脚本或函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T15:54:37.797

这不是一个很好的答案，但似乎问题在于我在将图像转换为单个图像后保存了它的版本。我不知道为什么这会导致如此显着的减速（在删除这行代码后它立即起作用）所以如果有人可以编辑我的答案以更清楚地了解情况，那将不胜感激。

# gcc - GCC：选择错误版本的标头

> ID：13620527
> 
> 赞同：2
> 
> 时间：2012-11-29T07:07:49.160
> 
> 标签：gcc, llvm, clang, glibc

我下载并开始构建 LLVM / CLANG。我最初安装了 gcc 版本 4.1.2 20080704（Red Hat 4.1.2-48），但 LLVM 网站声明使用更高版本。所以我下载并编译/构建了 GCC gcc 版本 4.7.2 (GCC)。现在我在设置以下配置后开始构建 LLVM：

```
# setenv PATH /usr/local/lib:/usr/local/lib64:$PATH
# setenv LD_LIBRARY_PATH /usr/local/lib/:/usr/local/lib64/
# setenv CC /usr/local/bin/gcc 
```

请注意 GCC 4.1.2 可用的路径是 /usr/bin 而 4.7.2 我默认在 /usr/local/bin 中找到它

但是 LLVM 构建失败，说明：

```
In file included from /x/home/satprasad/llvm/llvm-3.1.src/projects/compiler-rt/lib/asan/asan_posix.cc:35:
In file included from /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/algorithm:64:
In file included from /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/bits/stl_algobase.h:69:
In file included from /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/iosfwd:45:
In file included from /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/x86_64-redhat-linux/bits/c++io.h:38:
In file included from /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/x86_64-redhat-linux/bits/gthr.h:132:
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../include/c++/4.1.2/x86_64-redhat-linux/bits/gthr-default.h:100:1: error: weakref declaration must have
      internal linkage
__gthrw(pthread_once) 
```

但它应该选择 4.7.2 版本而不是 4.1.2 版本的文件/头文件 - 你能告诉我如何解决这个问题 - 给出错误的行在下面的文件/代码中：

```
llvm-3.1.src/projects/compiler-rt/lib/asan/asan_posix.cc

#include <algorithm> 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:03:28.777

跑步：

```
./configure --help
```

显示此选项：

```
--with-gcc-toolchain 安装 gcc 的目录。
```

所以试试：

```
--with-gcc-toolchain /usr/local
```

并且不要设置任何环境变量。

# jquery - jquery .getJSON() 没有捕获“500 内部服务器错误”

> ID：13620528
> 
> 赞同：2
> 
> 时间：2012-11-29T07:07:55.833
> 
> 标签：jquery, error-handling

我们如何进行`.getJSON function()`检测`500 Internal Server error`。我尝试添加 `.error()`,`.complete(status)`函数来检查返回状态，但它们都不起作用。看起来 jQuery 不承认这个错误。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T07:09:54.023

**编辑**

设置函数来捕获这样的错误

**jQuery Ajax 错误处理函数**

```
$(function() {
    $.ajaxSetup({
        error: function(jqXHR, exception) {
            if (jqXHR.status === 0) {
                alert('Not connect.\n Verify Network.');
            } else if (jqXHR.status == 404) {
                alert('Requested page not found. [404]');
            } else if (jqXHR.status == 500) {
                alert('Internal Server Error [500].');
            } else if (exception === 'parsererror') {
                alert('Requested JSON parse failed.');
            } else if (exception === 'timeout') {
                alert('Time out error.');
            } else if (exception === 'abort') {
                alert('Ajax request aborted.');
            } else {
                alert('Uncaught Error.\n' + jqXHR.responseText);
            }
        }
    });
}); 
```

当你这样尝试时被调用

```
// jQuery AJAX Error Handler
$.ajax({
  url: "test.php"
}); 
```

有关更多详细信息，请查看此帖子：[**jquery-ajax-error-handling-function**](http://www.unseenrevolution.com/jquery-ajax-error-handling-function/)

* * *

该`$.getJSON`函数不会返回您想要的错误；改用`$.ajax`：

```
 $.ajax({
    url: 'url',
    dataType: 'json',
    success: function( data ) {
      alert( "SUCCESS:  " + data );
    },
    error: function( data ) {
      alert( "ERROR:  " + data );
    }
  }); 
```

还可以尝试这样的错误功能以获取更多详细信息

```
error: function (request, status, error) {
        alert(request.responseText);
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:16:29.520

如果你想使用`$.getJSON()`不`$.ajax()`

```
$("#debug").ajaxError(function(event, xhr, opt, exception){
  // do your things.
}); 
```

但是这个处理程序会捕获所有 ajax 错误。所以你需要处理正在运行的 ajax。如果不想显示`#debug`，请`display: none`在 css 中设置。

# cgrectmake - 最有用的核心图形（CGrect）功能是什么？

> ID：13620530
> 
> 赞同：4
> 
> 时间：2012-11-29T07:08:15.083
> 
> 标签：cgrectmake

我通常对所有代码使用**CGRectMake**方法。还有其他有用的方便方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T07:18:37.080

**有用的核心图形功能**

`NSLog(@"%@", CGRectCreateDictionaryRepresentation(rect));`: 在 NSLog 中打印 CGRect

`bool CGRectContainsPoint ( CGRect rect, CGPoint point );`：您可以使用此函数来确定触摸事件是否落在设置的屏幕区域内，如果您使用不基于单独 UIView 的几何元素，这将非常方便。

`bool CGRectContainsRect ( CGRect rect1, CGRect rect2 );`: 该函数有两个参数。第一个矩形始终是周围的项目。第二个参数要么完全落在第一个参数内，要么不完全落在第一个参数内。

`bool CGRectIntersectsRect ( CGRect rect1, CGRect rect2 );`：如果要查看两个 UIView 是否重叠，请改用 CGRectIntersects。这需要两个矩形，以任何顺序，并检查这两个矩形是否有任何交点。

`CGRect CGRectIntersection ( CGRect r1, CGRect r2 );`: 这也需要两个参数，都是 CGRects，再次以任意顺序。它返回一个 CGRect 结构，它是两个 CGRect 的实际交集。如您所料，有一个 CGRectUnion 返回相反的函数。当您不仅要测试交叉点而且要使用位于两个视图之间的实际矩形时，CGRectIntersection 非常方便。

`CGRect testRect = CGRectIntersection(rect1, rect2);if (CGRectIsNull(testRect)) ...some result...`

`CGRect CGRectOffset ( CGRect rect, CGFloat dx, CGFloat dy );`：当你想在屏幕上移动视图时，CGRectOffset 函数就派上用场了。它返回一个偏移 (dx, dy) 的矩形，提供从一个点到新点的简单转换。您不必开始计算新的中心或框架，只需将框架更新为新的偏移量即可。

`CGRect CGRectInset ( CGRect rect, CGFloat dx, CGFloat dy );`: CGRectInset 可能是我最喜欢的 Core Graphics rect 实用程序。它允许您以编程方式扩展或收缩矩形。你传递一个偏移量对，让函数相应地调整矩形。该函数将宽度插入 dx，产生两倍 dx 的差异，因为插入适用于左侧和右侧。高度由 dy 插入，总差为 dy 的两倍。

希望你喜欢。

[参考：what-the-most-useful-core-graphics-cgrect-functions](http://blogs.oreilly.com/iphone/2008/12/useful-core-graphics-functions.html)

# c - 使用 rtems-gcc 编译时，如何强制我的代码的入口点位于地址 0

> ID：13620541
> 
> 赞同：1
> 
> 时间：2012-11-29T07:08:51.503
> 
> 标签：c, embedded

我有一个简单的代码，我正在尝试使用 lm32-rtems4.11-gcc 进行编译。
我有代码、编译命令和下面的 lst。当我编译时，我看到顶部添加了一堆代码，而不是我想要的启动代码。我希望处理器在复位后开始使用的代码位于位置 3f4 而不是 0。我想要帮助的是弄清楚其余代码是如何进入的，并找到一种方法将其删除或将所有代码移动到地址在我的代码之后。我很感激帮助。
谢谢

编码：

```
 //FILE: crt.S

.globl _start

.text
_start:
 xor r0, r0, r0
 mvhi sp, hi(_fstack)
 ori sp, sp, lo(_fstack)
 mv fp,r0
 mvhi r1, hi(_fbss)
 ori r1, r1, lo(_fbss)
 mvhi r2, hi(_ebss)
 ori r2, r2, lo(_ebss)
 1:
 bge r1, r2, 2f
 sw (r1+0), r0
 addi r1, r1, 4
 bi 1b
 2:
 calli main
 mvhi r1, 0xdead
 ori r2, r0, 0xbeef
 sw (r1+0), r2

 //FILE: hello_world.c

 void putc(char c)
 {
    char *tx = (char*)0xff000000;
    *tx = c;
 }

 void puts(char *s)
 {
    while (*s) putc(*s++);
 }

 void main(void)
 {
    puts("Hello World\n");
 }

 //FILE: linker.ld

OUTPUT_FORMAT("elf32-lm32")
ENTRY(_start)

__DYNAMIC = 0;

MEMORY {
    pmem : ORIGIN = 0x00000000, LENGTH = 0x8000
    dmem : ORIGIN = 0x00008000, LENGTH = 0x8000
}

SECTIONS
{
    .text :
    {
            _ftext = .;
            *(.text .stub .text.* .gnu.linkonce.t.*)
            _etext = .;
    } > pmem

    .rodata :
    {
            . = ALIGN(4);
            _frodata = .;
             *(.rodata .rodata.* .gnu.linkonce.r.*)
            *(.rodata1)
            _erodata = .;
    } > dmem

    .data :
    {
            . = ALIGN(4);
            _fdata = .;
            *(.data .data.* .gnu.linkonce.d.*)
            *(.data1)
            _gp = ALIGN(16);
            *(.sdata .sdata.* .gnu.linkonce.s.*)
            _edata = .;
    } > dmem

    .bss :
    {
            . = ALIGN(4);
            _fbss = .;
            *(.dynsbss)
            *(.sbss .sbss.* .gnu.linkonce.sb.*)
            *(.scommon)
            *(.dynbss)
            *(.bss .bss.* .gnu.linkonce.b.*)
            *(COMMON)
            . = ALIGN(4);
            _ebss = .;
            _end = .;
    } > dmem
} 
```

编译命令

```
lm32-rtems4.11-gcc -Tlinker.ld -fno-builtin -o hello_world.elf crt.S hello_world.c
lm32-rtems4.11-objdump -DS hello_world.lst hello_world.elf 
```

第一个文件

```
00000000 <rtems_provides_crt0>:
#include <signal.h> /* sigset_t */
#include <time.h> /* struct timespec */
#include <unistd.h> /* isatty */

void rtems_provides_crt0( void ) {}  /* dummy symbol so file always has one */
0:   c3 a0 00 00     ret

00000004 <rtems_stub_malloc>:
#define RTEMS_STUB(ret, func, body) \
ret rtems_stub_##func body; \
ret func body

/* RTEMS provides some of its own routines including a Malloc family */
RTEMS_STUB(void *,malloc(size_t s), { return 0; })
4:   34 01 00 00     mvi r1,0
8:   c3 a0 00 00     ret

0000000c <malloc>:
c:   34 01 00 00     mvi r1,0
10:   c3 a0 00 00     ret
.
.
.
//omitting other such unrelated code that was inserted into the code and going to the 
//code at 3f4 that is the code I wanted at 0

000003f0 <__assert_func>:
3f0:   c3 a0 00 00     ret

000003f4 <_start>:
3f4:   98 00 00 00     xor r0,r0,r0
3f8:   78 1c 00 00     mvhi sp,0x0
3fc:   3b 9c ff fc     ori sp,sp,0xfffc
400:   b8 00 d8 00     mv fp,r0
404:   78 01 00 00     mvhi r1,0x0
408:   38 21 84 48     ori r1,r1,0x8448
40c:   78 02 00 00     mvhi r2,0x0
410:   38 42 84 48     ori r2,r2,0x8448
414:   4c 22 00 04     bge r1,r2,424 <_start+0x30>
418:   58 20 00 00     sw (r1+0),r0
41c:   34 21 00 04     addi r1,r1,4
420:   e3 ff ff fd     bi 414 <_start+0x20>
424:   f8 00 00 28     calli 4c4 <main>
428:   78 01 de ad     mvhi r1,0xdead
42c:   38 02 be ef     mvu r2,0xbeef
430:   58 22 00 00     sw (r1+0),r2
.
.
. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T04:21:03.170

就您生成的 .elf 对象而言，执行从 0x3f4 开始，而不是从位置 0 开始。这是链接器映射将入口点指定为 _start 符号的结果。无论什么解析 .elf 对象，在将执行转移到程序时都应该跳转到该位置。

现在，也许 .elf 对象不是您想要的最终结果 - 如果结果不是由知道如何解析 .elf 对象的东西加载，那么您可能需要一些其他格式，例如平面二进制图像。

使用带有小型嵌入式芯片的 gcc elf 工具链使用以下命令将 .elf 对象转换为平面二进制文件时，这是很常见的

```
toolchain-prefix-objcopy -O binary something.elf something.bin 
```

您也可能需要创建某种存根来跳转到 _start 标签，并调整链接器映射以确保这是图像中的第一件事。

不过，更一般地说，您可能会找到此工具链以及此处理器或类似处理器的工作示例。从头开始设置嵌入式构建系统有点棘手，所以如果有机会找到可以效仿的示例，请不要这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-05T10:06:12.690

因此，当 linker.ld 清楚地告诉它这样做时，我无法弄清楚为什么编译器不将 .start 标签移动到 0 。但我确实想出了一个解决方法。

我为启动代码创建了一个部分名称，如下面的粗体所示。然后我在内存中创建了一个从 0 开始的部分，我只为这个启动代码保留了它。这似乎奏效了。我运行了代码并得到了一个 hello world :) 。我所做的所有更改都以粗体显示，并且还注释了 //Change 1 //Change 2 和 //Change 3。

```
//FILE: crt.S 
```

**.section .init//更改1**

```
.globl _start

.text
_start:
xor r0, r0, r0
mvhi sp, hi(_fstack)
ori sp, sp, lo(_fstack)
mv fp,r0
mvhi r1, hi(_fbss)
ori r1, r1, lo(_fbss)
.
.

//linker.ld
OUTPUT_FORMAT("elf32-lm32")
ENTRY(_start)

__DYNAMIC = 0;

MEMORY { 
```

**init : ORIGIN = 0x00000000, LENGTH = 0x40 //更改 2**

```
 pmem : ORIGIN = 0x00000040, LENGTH = 0x8000
    dmem : ORIGIN = 0x00008000, LENGTH = 0x8000
}

SECTIONS
{ 
```

**.init : {*(.init)}>init //更改 3**

```
 .text :
    {
            _ftext = .;
            *(.text .stub .text.* .gnu.linkonce.t.*)
            _etext = .;
    } > pmem 
```

# python - 在python中检测空函数定义

> ID：13620542
> 
> 赞同：13
> 
> 时间：2012-11-29T07:08:51.763
> 
> 标签：python, introspection, code-inspection

我需要检测一个函数是否为空定义。它可以像：

```
def foo():
    pass 
```

或喜欢：

```
def foo(i, *arg, **kwargs):
    pass 
```

或喜欢：

```
foo = lambda x: None 
```

使用“检查”模块检测它们的最优雅方法是什么？有没有比这更好的方法：

```
def isEmptyFunction(func):
    e = lambda: None
    return func.__code__.co_code == e.__code__.co_code 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-07-11T04:05:24.260

您提出的方法不太有效，因为具有文档字符串的空函数的字节码略有不同。

`func.__code__.co_code`没有文档字符串的空函数的值为`'d\x00\x00S'`，而具有文档字符串的函数的值为`'d\x01\x00S'`。

出于我的目的，它只是添加额外的案例来测试：

```
def isEmptyFunction(func):
    def empty_func():
        pass

    def empty_func_with_doc():
        """Empty function with docstring."""
        pass

    return func.__code__.co_code == empty_func.__code__.co_code or \
        func.__code__.co_code == empty_func_with_doc.__code__.co_code 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-11-21T10:50:08.617

回答最初的问题：我认为没有更好的方法，但绝对是更有弹性的方法。

在@kcon的[这个答案之上构建：](https://stackoverflow.com/a/24689937/3215929)

```
def isEmptyFunction(func): 
    def empty_func(): 
        pass

    def empty_func_with_doc(): 
        """Empty function with docstring.""" 
        pass 

    return func.__code__.co_code == empty_func.__code__.co_code or \
        func.__code__.co_code == empty_func_with_doc.__code__.co_code 
```

失败的原因如下：

```
def not_empty_returning_string():
    return 'not empty'

isEmptyFunction(just_return_string) # True 
```

以及对于 lambdas：

```
not_empty_lambda_returning_string = lambda x: 'not empty'

isEmptyFunction(not_empty_lambda_returning_string) # True 
```

我构建了一个扩展版本，它还检查除文档字符串之外的常量：

```
def is_empty_function(f):
    """Returns true if f is an empty function."""

    def empty_func():
        pass

    def empty_func_with_docstring():
        """Empty function with docstring."""
        pass

    empty_lambda = lambda: None

    empty_lambda_with_docstring = lambda: None
    empty_lambda_with_docstring.__doc__ = """Empty function with docstring."""

    def constants(f):
        """Return a tuple containing all the constants of a function without:
            * docstring
        """
        return tuple(
            x
            for x in f.__code__.co_consts
            if x != f.__doc__
        )

    return (
            f.__code__.co_code == empty_func.__code__.co_code and
            constants(f) == constants(empty_func)
        ) or (
            f.__code__.co_code == empty_func_with_docstring.__code__.co_code and
            constants(f) == constants(empty_func_with_docstring)
        ) or (
            f.__code__.co_code == empty_lambda.__code__.co_code and
            constants(f) == constants(empty_lambda)
        ) or (
            f.__code__.co_code == empty_lambda_with_docstring.__code__.co_code and
            constants(f) == constants(empty_lambda_with_docstring)
        ) 
```

测试：

```
#
# Empty functions (expect: is_empty_function(f) == True)
#

def empty():
    pass

def empty_with_docstring():
    """this is just an example docstring."""
    pass

empty_lambda = lambda: None

empty_lambda_with_docstring = lambda: None
empty_lambda_with_docstring.__doc__ = """this is just an example docstring."""

#
# Not empty functions (expect: is_empty_function(f) == False)
#

def not_empty():
    print('not empty');

def not_empty_with_docstring():
    """this is just an example docstring."""
    print('not empty');

not_empty_lambda = lambda: print('not empty')

not_empty_lambda_with_docstring = lambda: print('not empty')
not_empty_lambda_with_docstring.__doc__ = """this is just an example docstring."""

#
# Not empty functions returning a string (expect: is_empty_function(f) == False)
#

def not_empty_returning_string():
    return 'not empty'

def not_empty_returning_string_with_docstring():
    return 'not empty'

not_empty_lambda_returning_string = lambda: 'not empty'

not_empty_lambda_returning_string_with_docstring = lambda: 'not empty'
not_empty_lambda_returning_string_with_docstring.__doc__ = """this is just an example docstring."""

all([
  is_empty_function(empty) == True,
  is_empty_function(empty_with_docstring) == True,
  is_empty_function(empty_lambda) == True,
  is_empty_function(empty_lambda_with_docstring) == True,

  is_empty_function(not_empty) == False,
  is_empty_function(not_empty_with_docstring) == False,
  is_empty_function(not_empty_lambda) == False,
  is_empty_function(not_empty_lambda_with_docstring) == False,

  is_empty_function(not_empty_returning_string) == False,
  is_empty_function(not_empty_returning_string_with_docstring) == False,
  is_empty_function(not_empty_lambda_returning_string) == False,
  is_empty_function(not_empty_lambda_returning_string_with_docstring) == False,

]) # == True 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-03T04:58:37.917

您使用的方式有效。一个可能更“优雅”的解决方案是拥有一个函数列表，并在所有空（或所有非空）函数中将其添加到列表中，然后检查该函数是否在列表中.

* * *

## 回答 #4

> 赞同：-4
> 
> 时间：2013-01-05T09:54:34.363

为什么要这么做？它看起来像糟糕的设计。我敢打赌你不会让任何事情变得更快。

```
python -m timeit -s'def a(): pass' -s'def b(): pass' 'if a.__code__.co_code == b.__code__.co_code: pass'
1000000 loops, best of 3: 0.293 usec per loop

python -m timeit -s 'def a(): pass' -s 'def b(): pass' 'a()'
10000000 loops, best of 3: 0.0941 usec per loop 
```

比较起来似乎比只做调用要慢很多，因为在后一个 timeit 中有 10 倍的循环。equals 运算符实际上肯定是调用 a。**代码**.co_code。**当量**_ 所以你只是让事情变得更慢。

# mysql - 如何连接没有公共列的 2 个表？

> ID：13620554
> 
> 赞同：5
> 
> 时间：2012-11-29T07:10:01.170
> 
> 标签：mysql, select, join

我有 2 张桌子

```
User Code         SubMenuID

usercol           menucol 
-----------       -------------
AB                Sub-01 
Alam              Sub-02 
CSRL 
```

我想像这样向他们展示

```
usercol           menucol
----------        ------------
AB                Sub-01 
AB                Sub-02 
Alam              Sub-01
Alam              Sub-02 
CSRL              Sub-01 
CSRL              Sub-02 
```

我怎样才能使用 sql 查询得到这个？这将非常有帮助:)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-29T07:15:22.483

由于这些表不通过外键关系相关，因此您不能加入它们 - 结果是您想要的是来自两个表的笛卡尔积。这是通过从两个表中选择而无需任何附加连接条件来实现的（这也称为*交叉连接*）：

```
mysql> SELECT * FROM userCode, SubMenuId; 
```

此查询将第一个表中的所有行与第二个表中的所有行组合在一起。

```
+---------+---------+
| usercol | menucol |
+---------+---------+
| AB      | Sub-01  |
| AB      | Sub-02  |
| Alam    | Sub-01  |
| Alam    | Sub-02  |
| CSRL    | Sub-01  |
| CSRL    | Sub-02  |
+---------+---------+ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:15:25.430

试试这个：

```
SELECT a.usercol, b.menucol FROM UserCode a JOIN SubMenuID b 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:20:34.100

```
select * from usercode,submenuid
order by usercol; 
```

# java - 区分大小写的文件扩展名和存在检查

> ID：13620555
> 
> 赞同：1
> 
> 时间：2012-11-29T07:10:07.857
> 
> 标签：java, file, case-sensitive, case-insensitive, file-exists

我需要检查文件是否存在。这可以通过`File#exists()`方法来完成。但是这种存在性检查是区分大小写的。我的意思是，如果我在代码中有一个文件名 some_image_file.jpg 但如果文件在物理上是 some_image_file.JPG 那么这个方法说该文件不存在。如何检查对扩展名不区分大小写的文件是否存在并获取实际文件名？

在我的场景中，我有一个 excel 文件。每行包含文件的元数据和文件名。在某些情况下我只有文件名或其他情况下我可以有完整路径。我将一行表示为文档。

这些文件被放置在服务器中。我的工作是

*   逐行读取excel文件并列出所有文档。
*   取出文件名或文件路径。
*   创建文件的完整路径。
*   检查文件是否存在。
*   验证文档中提供的其他元数据/信息。
*   上传文件。

如果文件不存在或某些元数据无效，我的应用程序会引发异常。

excel文件是客户写的，他们写错了一些文件名，我的意思是如果文件物理上有小写的扩展名，他们把扩展名写成大写，反之亦然。

我在 unix 服务器上运行应用程序。

由于文件扩展名不匹配，所以`File#exists()`给出错误，最终我的代码抛出异常。

放置文件的文件夹可以有 30000 个或更多文件。

我想要的是

*   获取文件的完整路径。
*   检查文件是否存在。
*   如果它不存在，那么
*   通过转换扩展名的大小写来检查文件是否存在。
*   如果在大小写转换后不存在，则抛出异常。
*   如果存在，则返回实际的文件名或文件路径。

如果文件名具有类似**.JPG**的文件扩展名，不知道该怎么办！我应该通过改变大小写来检查它吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:12:14.337

您可以使用以下方式获取文件夹中的文件名

```
File.list() 
```

并通过以下方式检查名称

```
equalsIgnoreCase() 
```

或尝试[http://commons.apache.org/io/](http://commons.apache.org/io/) 并使用

```
FileNameUtils.directoryContains(final String canonicalParent, final String canonicalChild) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T10:08:12.760

这样我就解决了这个问题：

```
public String getActualFilePath() {
    File givenFile = new File(filePath);
    File directory = givenFile.getParentFile();

    if(directory == null || !directory.isDirectory()) {
        return filePath;
    }

    File[] files = directory.listFiles();
    Map<String, String> fileMap = new HashMap<String, String>();

    for(File file : files) {                        
        if(file.isDirectory()){
            continue;
        }

        String absolutePath = file.getAbsolutePath();
        fileMap.put(absolutePath, StringUtils.upperCase(absolutePath));
    }

    int noOfOcc = 0;
    String actualFilePath = "";

    for(Entry<String, String> entry : fileMap.entrySet()) {
        if(filePath.toUpperCase().equals(entry.getValue())) {
            actualFilePath = entry.getKey();
            noOfOcc++;
        }
    }

    if(noOfOcc == 1) {
        return actualFilePath;
    }

    return filePath;
} 
```

这`filePath`是文件的完整路径。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-11-23T17:03:44.907

规范名称返回区分大小写的名称。如果它返回的字符串与您正在查找的文件的名称不同，则该文件以不同的大小写存在。

因此，测试文件是否存在或其规范名称是否不同

```
public static boolean fileExistsCaseInsensitive(String path) {
    try {
        File file = new File(path);
        return file.exists() || !file.getCanonicalFile().getName().equals(file.getName());
    } catch (IOException e) {
        return false;
    }
} 
```

# python-3.x - 无法在 Python 3.3 中使用 CGIHTTPRequestHandler 运行 python cgi 脚本

> ID：13620558
> 
> 赞同：1
> 
> 时间：2012-11-29T07:10:23.443
> 
> 标签：python-3.x, cgihttprequesthandler

我是菜鸟；尝试在 Python 中创建和使用一个简单的网络服务器，该服务器执行用 Python 编写的 CGI 脚本。我正在使用 Windows XP 和 Python v3.3.0。我有一个“myserver”目录，其中包含“myserver.py”，“sample.html”，目录“cgi-bin”又包含“cgi_demo.py”

我的服务器.py

```
from http.server import HTTPServer
from http.server import CGIHTTPRequestHandler

port = 8080
host = '127.0.0.1'
server_address = (host,port) 
httpd = HTTPServer(server_address,CGIHTTPRequestHandler)
print("Starting my web server on port "+str(port))
httpd.serve_forever() 
```

cgi_demo.py

```
import cgi
import cgitb; cgitb.enable()

print("Content-type: text/html")
print
print("<html><body>")
for i in range(0,100):
  print(i,"<br>")
print("</body></html>") 
```

现在目录列表适用于“myserver”但不适用于“cgi-bin”；也许这就是它的编码方式 - 我在这里没有问题。“sample.html”也可以很好地检索。但是，“cgi_demo.py”的执行是不正确的。我在浏览器中得到一个空白页面；并且控制台窗口（也是空白的）出现并消失。此外，在服务器的控制台上，我收到了消息

```
127.0.0.1 - - [29/Nov/2012 12:00:31] "GET /cgi-bin/cgi_demo.py HTTP/1.1" 200 -
127.0.0.1 - - [29/Nov/2012 12:00:31] command: C:\Python33\python.exe -u "D:\python apps\my web server\cgi-bin\cgi_demo.py" ""
127.0.0.1 - - [29/Nov/2012 12:00:32] CGI script exited OK 
```

请告诉我有什么问题！我感觉我的脚本的输出流没有连接到服务器。我究竟做错了什么？别说我要扩展CGIHTTPRequestHandler！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T14:37:11.120

抱歉，添麻烦了！

好吧，这是我的错。2点需要注意：

[1]出现和消失的控制台窗口；它仅在我使用 IDLE 执行服务器时发生。如果脚本已经在普通的 Windows 控制台中运行，则不会发生这种情况。*我的感觉*是错误的。

[2] 我的 cgi 脚本中有一个错误/错误。打印 HTTP 标头后；我写的打印语句只是“打印”而不是“打印（）”。这太尴尬了！但是，即便如此，为什么解释器没有捕捉到这个错误呢？

# python - Python Twisted - 服务器通信

> ID：13620559
> 
> 赞同：1
> 
> 时间：2012-11-29T07:10:28.083
> 
> 标签：python, twisted

我有一个奇怪的问题。基本上，我现在遇到的问题是处理两个相互连接的不同 LineReceiver 服务器。本质上，如果我要在服务器 A 中输入一些内容，那么我希望在服务器 B 中出现一些输出。反之亦然。我在两个不同的源文件上运行两台服务器（也通过 & shellscript 在不同的进程上运行它们）ServerA.py 和 ServerB.py，端口分别为（12650 和 12651）。我还使用 telnet 连接到每台服务器。

```
from twisted.internet import protocol, reactor
from twisted.protocols.basic import LineReceiver

class ServerA(LineReceiver);
   def connectionMade(self):
      self.transport.write("Is Server A\n")
   def dataReceived(self, data):
      self.sendLine(data)
   def lineReceived(self, line):
      self.transport.write(line)

def main():
   client = protocol.ClientFactory()
   client.protocol = ServerA
   reactor.connectTCP("localhost", 12650, client)

   server = protocol.ServerFactory()
   server.protocol = ServerA
   reactor.listenTCP(12651, server)

   reactor.run()

if __name__ == '__main__':
   main() 
```

我的问题是使用 sendLine。当我尝试使用一些任意字符串从 serverA 进行 sendLine 调用时，serverA 最终会吐出确切的字符串，而不是将其发送到在 main() 中完成的连接。究竟为什么会这样？我一直在环顾四周，尝试了我遇到的每个解决方案，但我似乎无法让它正常工作。奇怪的是，我的朋友基本上在做同样的事情，他得到了一些工作结果，但这是我能想到的最简单的程序，试图找出这种奇怪现象的原因。

无论如何，要点是，我希望将输入到 serverA 中的输入出现在 serverB 中。

注意：服务器 A 和服务器 B 具有完全相同的源代码，但类名和端口除外。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T09:38:47.550

你已经覆盖了`dataReceived`. 这意味着`lineReceived`永远不会调用它，因为最终调用的是它`LineReceiver`的`dataReceived`实现`lineReceived`，而你永远不会调用它。

您应该只需要覆盖`lineReceived`，然后事情就会按您的预期工作。

# c# - C# 的布局建议

> ID：13620561
> 
> 赞同：0
> 
> 时间：2012-11-29T07:10:36.677
> 
> 标签：c#

我在这个问题上遇到了困难。我在这个网站上搜索过，但在任何地方都找不到解决方案。我必须制作一个要显示在图片上的块网格。我搜索并找到了有关绘制网格和 GridView 类的内容。但这一切似乎都是不可能的，因为我必须将块的大小调整到任何大小。因此，如果有人可以提供任何建议，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:19:56.237

如果您需要简单的网格，只需将其绘制到图像即可：

```
using (var bitmap = Bitmap.FromFile(@"C:\darbai_test\Penguins.jpg")) 
{
  var graphics = Graphics.FromImage(bitmap);
  var xStep = 10;
  var yStep = 15;
  for (int i = 0; i < bitmap.Width / xStep; i++)
  {
    var x = i * xStep;
    graphics.DrawLine(Pens.Black, x, 0, x, bitmap.Height);
  }

  for (int j = 0; j < bitmap.Height / yStep; j++)
  {
     var y = j * yStep;
     graphics.DrawLine(Pens.Black, 0, y, bitmap.Width, y);
  } 

  bitmap.Save(@"c:\darbai_test\penguins_withgrid.jpg");
} 
```

# sql - select * from sheet where column <> 0

> ID：13620563
> 
> 赞同：1
> 
> 时间：2012-11-29T07:10:41.257
> 
> 标签：sql, vb.net, excel, select

我需要一个 SQL 查询语句来选择列 O 不等于 0 的行。

例子：

```
Col A     Col O
Pencil      1
Ballpen     0
Paper       5 
```

我想将工作表放在数据表中，但不包括在 O 列具有 0 值的行。我选择的单元格从第 13 行开始，因为 excel 文件在前 10 行仍然有标题和标题。如果我没记错的话，它会像这样开始：

```
SELECT * FROM SHEET1$ WHERE. . . 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:15:31.860

假设 O 列的名称是“O”，

`Select * from sheet1$ where O <> 0;`

不过，O 列可能有另一个名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:33:29.163

如果列名 O

```
SELECT * 
FROM SHEET1$
WHERE o <> 0 ; 
```

# wpf - 关于边距和情节提要的快速一

> ID：13620565
> 
> 赞同：0
> 
> 时间：2012-11-29T07:10:48.510
> 
> 标签：wpf, animation, storyboard

只是一个简单的问题，我一直在谷歌上搜索年龄。我有一个故事板：

```
<Storyboard x:Key="ViewLeftToRight" AccelerationRatio=".5" DecelerationRatio=".5">
    <DoubleAnimation Storyboard.TargetName="ReferenceInfo" Storyboard.TargetProperty="Margin" Duration="0:0:0.15" To="{Binding, Width},0,0,0"/>
</Storyboard> 
```

它不起作用。我想知道是否有办法将控件的宽度绑定到“左”边距。如果我需要使用转换器，您能否在上面的示例中展示它是如何用 XAML 编写的？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:17:18.330

不，您不能将动画绑定到`Margin`，因为它没有定义相应的依赖属性。有几种选择，这里有两个：

1.  将您的对象放在画布中并设置动画`Canvas.Left`和`Canvas.Top`
2.  在您的对象上定义 a ，并为其和属性`RenderTransform`设置动画。`X``Y`

* * *

## 1)

```
<Canvas>
    <TextBlock Text="test" x:Name="ReferenceInfo" Canvas.Left="0" Canvas.Top="0" />
</Canvas> 
```

在这里，您的故事板简短目标是相同的元素`ReferenceInfo`，但目标是*附加的属性*，您使用括号表示，如“（Canvas.Left）”：

```
<DoubleAnimation 
    Storyboard.TargetName="ReferenceInfo" 
    Storyboard.TargetProperty="(Canvas.Left)" Duration="0:0:0.15" 
    To="{Binding Width}"/> 
```

## 2)

```
<TextBlock Text="test" x:Name="ReferenceInfo">
    <TextBlock.RenderTransform>
        <TranslateTransform x:Name="TranslateReferenceInfo" X="0" Y="0" />
    </TextBlock.RenderTransform>
</TextBlock> 
```

然后动画将`TranslateTransform`通过名称引用自身：

```
<DoubleAnimation 
    Storyboard.TargetName="TranslateReferenceInfo" 
    Storyboard.TargetProperty="X" Duration="0:0:0.15" 
    To="{Binding Width}"/> 
```

# rest - 动态查询参数

> ID：13620568
> 
> 赞同：-1
> 
> 时间：2012-11-29T07:10:58.007
> 
> 标签：rest, jersey

我有查询参数名称不固定的要求。IE

> /Test/Add?a=b,c&a1=b1,c1
> 
> /Test/Add?d=e,f&c1=d1,f1

我读过一些文章说使用@Context URI，HttpServlerRequest。

你能指导我如何在泽西岛实施这个吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T18:35:21.957

您可以像这样将[UriInfo](http://jersey.java.net/nonav/apidocs/1.8/jersey/javax/ws/rs/core/UriInfo.html)添加到您的类中：

```
public class Example {
  @Context
  UriInfo uriInfo;

  @GET
  @Path("/")
  public void get() {
    System.out.println(uriInfo.getPathParameters());
  }
} 
```

# objective-c - 页面控制和表格视图

> ID：13620569
> 
> 赞同：1
> 
> 时间：2012-11-29T07:11:01.390
> 
> 标签：objective-c

我有 ios 应用程序，其中包含 7 个具有不同数据的表视图。我从 plist 文件中填充每个表格，我需要有页面控制，并且在每个页面中我需要一个表格视图。我放了页面控件，放在第一页的表格没有改变，我在其他页面中看到了它。如何确定每页的页数和内容？我把这个

```
 - (void)viewDidLoad
{
    [super viewDidLoad];

    int page=pageControl.currentPage;

    //pageControlList=[[NSArray alloc]initWithObjects:tabelView,tabelViewq, nil];

    pageControlBeingUsed = NO;

    self.scrollView.contentSize = CGSizeMake(960, 424);

    self.tabelView = [[UITableView alloc] initWithFrame:self.view.frame style:UITableViewStyleGrouped];
    NSError *err;
    for (page=0; page<7; page++) {

     switch ([pageControl currentPage]) {
         case 0:{
    NSFileManager *fileManager = [NSFileManager defaultManager];
    //getting the path to document directory for the file
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);

    NSLog(@"%@",paths);
    NSString *documentDir = [paths objectAtIndex:0];
    NSString *path = [documentDir stringByAppendingPathComponent:@"News.plist"];

    //checking to see of the file already exist
    if(![fileManager fileExistsAtPath:path])
    {
        //if doesnt exist get the the file path from bindle
        NSString *correctPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"News.plist"];
        NSLog(@"plist exist");
        //copy the file from bundle to document dir
        [fileManager copyItemAtPath:correctPath toPath:path error:&err];
    }

    // read data from plist file
    presedients=[[NSMutableDictionary alloc]initWithContentsOfFile:path ];

    Names=[presedients objectForKey:@"Name"];
    url=[presedients objectForKey:@"URL"];
    NSLog(@"%@",presedients);
    // Uncomment the following line to preserve selection between presentations.
    // self.clearsSelectionOnViewWillAppear = NO;

    // Uncomment the following line to display an Edit button in the navigation bar for this view controller.
         }
             break;
         case 1:{
             pageControl.currentPage =pageControl.currentPage+1;

             NSFileManager *fileManager = [NSFileManager defaultManager];
             //getting the path to document directory for the file
             NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);

             NSLog(@"%@",paths);
             NSString *documentDir = [paths objectAtIndex:0];
             NSString *pathq = [documentDir stringByAppendingPathComponent:@"Quran.plist"];

             //checking to see of the file already exist
             if(![fileManager fileExistsAtPath:pathq])
             {
                 //if doesnt exist get the the file path from bindle
                 NSString *correctPathq = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"Quran.plist"];
                 NSLog(@"plist exist");
                 //copy the file from bundle to document dir
                 [fileManager copyItemAtPath:correctPathq toPath:pathq error:&err];
             }

             // read data from plist file
             presedientsq=[[NSMutableDictionary alloc]initWithContentsOfFile:pathq ];

             NamesQ=[presedientsq objectForKey:@"Name"];
             urlq=[presedientsq objectForKey:@"URL"];
             NSLog(@"%@",presedientsq);

         }
             break; 
```

但程序见案例一（我把第一个表放在所有页面中）。为什么？难道我的条件不对？

问候

# sed - 带有文件路径的 sed 删除行

> ID：13620570
> 
> 赞同：7
> 
> 时间：2012-11-29T07:11:04.057
> 
> 标签：sed

> **可能重复：**
> [sed：使用不同的分隔符删除](https://stackoverflow.com/questions/1797906/sed-delete-using-a-different-delimiter)

我可以像这样替换文件中的行

```
sed "s|$PATH_WITH_SLASH||" file 
```

但我不能删除它

```
sed "|$PATH_WITH_SLASH|d"  file 
```

问题是**|** 字符不能用于删除。为什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-29T08:45:55.113

如果使用其他字符作为地址分隔符，则需要在第一个字符之前使用反斜杠。所以

```
/address/ 
```

或者

```
\|address| 
```

# ruby-on-rails - 更改配置文件的 Rails 约定混淆

> ID：13620575
> 
> 赞同：3
> 
> 时间：2012-11-29T07:11:53.997
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1

因此，我没有遇到太多问题，因为我对在网络上看到的用于更改 Rails 配置文件的两种不同约定感到困惑。

具体来说，我经常看到这两个语句：

```
config.autoload_paths << "#{Rails.root}/app/arbitrary"
config.autoload_paths += %W(#{config.root}/app/arbitrary)
config.autoload_paths += Dir["#{config.root}/app/arbitrary/**/"] 
```

`<<`首先，使用运算符与运算符有什么区别`+=`吗？`Rails.root`其次，与 相比，使用它是否被认为是一种更好的做法`config.root`？

这些约定中的一些是否只能用于某些组合？我只是讨厌不知道一些看似基本的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T10:02:56.570

**`<<`和之间的区别`+=`**

`config.autoload_paths`是一个数组。对于 Array 对象，`<<`将 ONE 对象推送到数组中，同时`+`连接两个数组以创建一个新数组。因此，如果您只有一个对象要附加到现有数组，`<<`则优先考虑性能，因为不会创建新对象。如果要将另一个数组附加到现有数组，则必须使用`+`.

你知道，`a1 =+ a2`等于`a1 = a1 + a2`。

**`Rails.root`对比`config.root`**

`Rails.root`只是 Rails 应用程序的根。如果`config.root`在 Rails 应用程序中使用，它应该与`Rails.root`. 但它也可以在引擎中使用，它将成为引擎的根。如果`config.root`在 Rails 应用程序中使用，您可能无需更改它以将应用程序用作引擎。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T10:04:43.513

`<<`添加一个值，同时`+=`添加一个值数组。该`%w(...)`符号只是字符串数组的快捷方式。

检查`Rails.root`方法的来源： [https ://github.com/rails/rails/blob/master/railties/lib/rails.rb#L83](https://github.com/rails/rails/blob/master/railties/lib/rails.rb#L83)

所以它`config.root`无论如何都会使用，因为

```
Rails.application.config == Rails.configuration 
```

评估为`true`。这也是您为 config/application.rb 和 config/environments/ 文件中的配置块传递的对象。

# php - php echo不会转向ajax成功

> ID：13620583
> 
> 赞同：-4
> 
> 时间：2012-11-29T07:12:48.117
> 
> 标签：php, ajax, login

我有一个非常简单的问题，但我无法处理。当我输入用户名和密码值并按下登录按钮时，php 不会将其值返回给 ajax 成功。它打开 webService.php 页面并回显结果。谢谢你的帮助。

```
if($count==1){
    $_SESSION['UserName'] = $UserName;
    $_SESSION['Password'] = $Password;
    echo "true";
}
else  
    echo "false"; 
```

我的javascript代码是；

```
<script type="text/javascript"> //javascript fonksiyonları

    $(document).ready(function() {

                $("#login").click(function() {

                var form_data = {

                    UserName: $("#UserName").val(),

                    Password: $("#Password").val(),

                    }

                    $.ajax({

                    type: "POST",
                    url: 'webService.php',
                    data: form_data,
                    async:false,
                    success: function(data) {
                        alert(data);}

                            });

                                                });

    });         

    </script> 
```

我添加了“js/jquery-1.6.js”库，它只是在 webservice.php 页面中返回 true。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:19:12.807

检查 FireBug 或服务器日志中 webService.php 完成的状态 OK 200。您可以添加到 ajax 处理程序以查看错误并检查它。

可能是您的 php 脚本出现错误并且没有返回 HTTP OK 状态 - 只有在这种情况下才会运行成功处理程序。

# asp.net - asp.net 应用程序从 appSettings 键获取母版页名称

> ID：13620588
> 
> 赞同：1
> 
> 时间：2012-11-29T07:13:19.507
> 
> 标签：asp.net, master-pages

我试图弄清楚 asp.net 应用程序如何从配置文件 appSettings 键设置 MasterPageFile，如下所示：

```
<appSettings>
  <add key="MasterPageFile" value="~/Other.Master" >
</appSettings> 
```

这会导致它忽略 .aspx 文件（指向不同的母版页）中的 Page 指令的 MasterPageFile 属性。我搜索了整个解决方案，但找不到任何正在加载此 appSettings 键的 ConfigurationManager 或 MasterPageFile 调用。据我了解，您通常必须将其放在具有 masterPageFile 属性的 pages 元素中的配置文件的 system.web 部分中。

无论如何，如何从这个 appSettings 键设置母版页？还有其他方法可以检索我不知道的 appSettings 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T03:40:58.550

MaserPage 文件可以设置在页面级别或 pre_init 级别。在配置级别设置它会覆盖您的页面设置，因此请避免使用它。

# c# - 如何从 Caliburn.Micro ViewModel 制作文本框 ReadOnly？

> ID：13620589
> 
> 赞同：1
> 
> 时间：2012-11-29T07:13:20.157
> 
> 标签：c#, windows-phone-7, mvvm, caliburn.micro

我开始使用 Caliburn.Micro 在 WP 7.1 上编写应用程序。我的起始视图是一个带有登录和传递文本框的日志窗口以及带有登录操作的按钮。现在我想将顶部的进度条显示为不确定，并将文本框设置为只读。我一直在网上搜索，发现只有不满意的解决方案。我正在考虑这样的解决方案：

1.  更改默认绑定器以按约定绑定属性，例如“ControlNameIsReadOnly”“ControlNameIsEnabled”
2.  将屏幕设为仅显示进度条的对话框

有人解决了这个问题吗？这些解决方案都没有让我满意。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T22:00:05.963

有几种方法-取决于您是否要基于约定和按控件进行操作

如果没有约定，您可以使用繁忙的属性，例如

```
class SomeViewModel : Screen // or whatever
{
    public bool IsBusy 
    {
        get { // getter code 
        } 
        set { // setter code, calling notifypropertychanged 
        }

} 
```

然后在你的控制

```
<UserControl>
    <Grid>
        <TextBox>Hello World</TextBox>
        <Border Background="#AAFFFFFF"> <!-- Semitransparent overlay -->
            <ProgressBar IsIndeterminate="true" Visibility="{Binding IsBusy, Converter={StaticResource BooleanToVisibilityConverter}" />
        </Border>
    </Grid>
</UserControl> 
```

您的转换器可能如下所示：

```
class BooleanToVisibilityConverter : IValueConverter
{
    public void Convert(object value, blah blah blah...)
    {
        if(value is bool)
        {
            if((bool)value) return Visibility.Visible;

            return Visibility.Collapsed;
        }

        return null;
    }
} 
```

这样，您可以在控件上发生事情时覆盖进度条，以便用户无法交互。

您可能需要调整以使其最适合，因为我没有测试过任何一个：P

您甚至可以将`IsReadOnly`文本框绑定到该`IsBusy`属性。这当然是假设您不介意使用非常规方法并且它在 Windows Phone 7 上都可以工作 :)

# perl - 如何从 Perl Dancer CGI 中的 flex 应用程序中读取 URL 参数？

> ID：13620594
> 
> 赞同：0
> 
> 时间：2012-11-29T07:13:33.343
> 
> 标签：perl, cgi, dancer

我想知道如何将输入参数传递给 perl cgi 。我有一个 flex 应用程序，它将获取一个人的姓名和其他一些详细信息，然后我想调用一个 perl cgi，并将这些详细信息作为输入。怎么可能？是否在 url 末尾附加参数，例如：`http://localhost/cgi-bin/test.pl?name=abc&location=adsas`，将参数传递给 perl cgi 的唯一方法？

如何在 perl cgi 中获取传递的参数？

我试过这段代码但没有得到输出

```
use CGI qw(:standard);
use strict;
my $query = new CGI;
my $name = $query->param('name');
my $loc = $query->param('loc');
print "$name is from $loc\n"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T11:20:43.993

The client (Flex) is irrelevant. A query string is a query string and post data is post data, no matter what sends it to the server.

If you are using Dancer, then you are using Plack. If CGI is involved, then Plack will take care of it and translate all the environment variables to the standard Plack interface which Dancer will consume.

You can't access the CGI environment variables directly (and nor can CGI.pm).

From the [docs](https://metacpan.org/module/Dancer%3a%3aRequest):

```
get '/foo' => sub {
    request->params; # request, params parsed as a hash ref
    request->body; # returns the request body, unparsed
    request->path; # the path requested by the client
    # ...
}; 
```

Therefore:

```
my $params = request->params;
my $name = $params->{'name'};
my $loc = $params->{'loc'}; 
```

# javascript - IE9 的 canvas.height 没有改变

> ID：13620597
> 
> 赞同：0
> 
> 时间：2012-11-29T07:14:03.060
> 
> 标签：javascript, html, internet-explorer-9, html5-canvas

在 Java 脚本中，我正在更改 HTML5 画布的高度和宽度。它适用于 Mozilla、Chrome、opera 和 safari，但不适用于 IE9。任何人都可以告诉我我做错了什么，我需要设置任何属性吗？

提前致谢

更新：- HTML：-

```
<body onload="Load();">
            <canvas id="myCanvas" width="500" height="300"></canvas>
</body> 
```

Javascript：-

```
function Load(){
     var canvas = document.getElementById("myCanvas");
     var context = canvas.getContext('2d');
     img=new Image();
     img.src= "data:image/bmp;base64,"+respObj.respData; //Adding bmp image header
     img.onload = function(){
     canvas.width = 300;
     canvas.height = 500;
     context.clearRect(0, 0, canvas.width, canvas.height);
     context.drawImage(img,0,0,canvas.width, canvas.height);
    }
} 
```

CSS：-

```
.canvas{
    height: auto;
    width: auto;
    margin : 0px 35px;
    border:1px solid black;
    position: relative;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T09:29:29.747

试试下面的代码。它适用于 IE9、Firefox、Chrome：

```
<!DOCTYPE html>
<html>
<style language="css/text">
    .canvas{
    height: auto;
    width: auto;
    margin : 0px 35px;
    border:1px solid black;
    position: relative;
}
</style>

<body onload="Load();">
            <canvas id="myCanvas" width="500" height="300"></canvas>
            <input type="button" onClick="change()"/>
</body>

<script>
     var canvas = document.getElementById("myCanvas");
     var context = canvas.getContext('2d');

function Load(){
     img=new Image();
     //img.src= "data:image/bmp;base64,"+respObj.respData; //Adding bmp image header

     canvas.width = 300;
     canvas.height = 500;
     context.fillStyle="#FF0000";
     context.fillRect(0, 0, canvas.width, canvas.height);
     //context.drawImage(img,0,0,canvas.width, canvas.height);
}

function change() {
     canvas.width = 100;
     canvas.height = 100;
    context.fillStyle="#FF0000";
    context.fillRect(0, 0, canvas.width, canvas.height);

}
</script>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:36:55.093

我发现我的画布有问题。这是风格的问题。我已经从样式脚本中删除了高度和宽度设置。正因为如此，画布的高度和宽度被覆盖为其默认值，即分别作为高度和宽度的 150 和 300。

# javascript - 自定义 javascript document.getElementById() 方法？

> ID：13620603
> 
> 赞同：1
> 
> 时间：2012-11-29T07:14:37.147
> 
> 标签：javascript, getelementbyid

我尝试了一个自定义的 getElementById() 方法来从 HTML 页面中检索 DOM 元素。这是定义。

```
document.customGetElById = function(passedId){
    var nodeFound = null;
    recursive = function(nodes)
    {
        for(var i =0 ; i< nodes.length; i++)
        {
            if(nodes[i].nodeType == 1) //element nodes
            {
                //console.log(nodes[i].id);   //only element nodes have id's
                if(nodes[i].id == passedId)
                {
                    //console.log(nodes[i]);
                    nodeFound = nodes[i];
                    return;
                }
                if(nodes[i].childNodes)
                {
                    //console.log('there are child nodes inside it');
                    recursive(nodes[i].childNodes);
                }
            }
        }
    }
    recursive(document.body.childNodes);
    return nodeFound;
}; 
```

这是正确的做法吗？这对性能有好处吗？它与覆盖本机 getElementById() 方法无关。原生函数是怎么写的？有人可以帮帮我吗？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:17:32.917

原生函数不是用 JS 编写的，因此任何 JS 方法都必然与原始的`getElementById`.

您的函数也可能比浏览器的实现效率低，因为您所做的只是从大量其他本机函数中复制它。

# java - 我们可以用多少种不同的方式在 java 中声明一个 main 方法？

> ID：13620604
> 
> 赞同：-21
> 
> 时间：2012-11-29T07:14:44.343
> 
> 标签：java

我有多少种不同的方式可以在 java 中声明一个 main 方法？

```
class A{
    public static void main(String args[]){
       System.out.println("hi");
    }
} 
```

现在我想要不同的方法来创建一个主要方法。你能给我解释一下吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-06-12T13:20:27.773

```
public static void main(String[] argument)

public static void main(String argument[])

public static void main(String... args)

public static synchronized void main(String... args)

public static strictfp void main(String... args)

public static final void main(String... args) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-29T07:18:36.783

从[Java 文档](http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.1.4)中只有两种方法：

```
public static void main(String[] args) 
```

和

```
public static void main(String... args) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-29T07:38:01.487

声明main方法的多种方式是（上面大家都解释过）

1.  **public static void main(String[] args) 或 public static void main(String args[])**
2.  **公共静态无效主要（字符串...参数）。** public 和 static 的位置可以根据程序员的意愿改变。但请记住 void 应始终位于 main 方法之前。您也可以为 main 方法使用任何参数，但带有**String[] args**的 main只会首先执行。你也可以在没有 main 方法的情况下执行 java 程序。为此，您需要在最后使用带有 break 语句的静态块。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-30T11:20:19.443

看看下面的方法。哪些不会编译？哪些可以编译，但不能用作应用程序的入口点？哪些编译并按照您期望的主要方法执行？

如果对此有任何疑问，请验证以下链接

[http://rationalpi.wordpress.com/2007/01/29/main-method](http://rationalpi.wordpress.com/2007/01/29/main-method) ...

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-29T07:16:45.197

你也可以这样做

```
static public void main(String args[]) 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-07-12T07:06:11.447

有两种可能的方法

*通过使用单个参数*

```
public static void main(String args) { .. } 
```

*或通过可变参数*

```
public static void main(String... args) { .. } 
```

请记住，`args`in`(String args)`只是一个参数名称。你可以在这里使用任何东西`(String abc)`，`(String myargs)`等等。
最后一件事是，你也可以像这样从 main 传递一个多维数组

```
public static void main(String[][] args) { .. } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-29T07:17:32.123

您可以使用 var-args 代替数组：

```
public static void main(String... args) { 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-11-29T07:17:51.457

还有这个

```
public static void main(String... args) 
```

# ruby - 我可以对传递给方法的块强制执行 arity 吗？

> ID：13620606
> 
> 赞同：6
> 
> 时间：2012-11-29T07:14:48.863
> 
> 标签：ruby, lambda, proc

有没有办法“打开”使用`Proc.new`or实例化的 Proc 的严格数量强制`Kernel.proc`，以便它的行为类似于用 实例化的 Proc `lambda`？

我的`initialize`方法需要一个块`&action`并将其分配给一个实例变量。我想`action`严格执行 arity，因此当我稍后对其应用参数时，它会引发一个`ArgumentError`我可以拯救并引发更有意义的异常的异常。基本上：

```
class Command
  attr_reader :name, :action

  def initialize(name, &action)
    @name   = name
    @action = action
  end

  def perform(*args)
    begin
      action.call(*args)
    rescue ArgumentError
      raise(WrongArity.new(args.size))
    end
  end
end

class WrongArity < StandardError; end 
```

不幸的是，`action`默认情况下不强制执行arity：

```
c = Command.new('second_argument') { |_, y| y }
c.perform(1) # => nil 
```

`action.to_proc`行不通，也不行`lambda(&action)`。

还有其他想法吗？还是解决问题的更好方法？

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-29T07:34:01.847

您`@action`将是一个`Proc`实例，并且`Proc`s 有一个[`arity`](https://ruby-doc.org/core/Proc.html#method-i-arity)方法，因此您可以检查该块应该有多少个参数：

```
def perform(*args)
  if args.size != @action.arity
    raise WrongArity.new(args.size)
  end
  @action.call(*args)
end 
```

这应该会处理像`{ |a| ... }`和这样的无溅块，`{ |a,b| ... }`但是使用 splats 会稍微复杂一些。如果你有一个这样的块，`{ |*a| ... }`那么`@action.arity`将是-1，`{ |a,*b| ... }`会给你一个`arity`-2。一个带有 arity -1 的块可以接受任意数量的参数（包括没有），一个带有 arity -2 的块需要至少一个参数，但可以接受更多参数，依此类推。对 splatless 测试的简单修改应该处理 splatful 块：

```
def perform(*args)
  if @action.arity >= 0 && args.size != @action.arity
    raise WrongArity.new(args.size)
  elsif @action.arity < 0 && args.size < -(@action.arity + 1)
    raise WrongArity.new(args.size)
  end
  @action.call(*args)
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T14:08:39.677

根据[this answer](https://stackoverflow.com/a/2946734/725792)，将proc转换为lambda的唯一方法是使用`define_method`和朋友。从[文档](http://www.ruby-doc.org/core-1.9.3/Proc.html#method-i-lambda-3F)：

> `define_method`总是定义一个没有技巧的方法[*即一个 lambda 风格的 Proc* ]，即使给出了一个非 lambda Proc 对象。这是唯一没有保留技巧的例外。

具体来说，除了实际定义方法外，还`define_method(:method_name, &block)`返回一个 lambda。为了在不不必要地在一些糟糕的对象上定义一堆方法的情况下使用它，您可以`define_singleton_method`在临时对象上使用。

所以你可以做这样的事情：

```
def initialize(name, &action)
  @name = name
  @action = to_lambda(&action)
end

def perform(*args)
  action.call(*args)
  # Could rescue ArgumentError and re-raise a WrongArity, but why bother?
  # The default is "ArgumentError: wrong number of arguments (0 for 1)",
  # doesn't that say it all?
end

private

def to_lambda(&proc)
  Object.new.define_singleton_method(:_, &proc)
end 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-29T08:29:57.050

您的解决方案：

```
class Command
  attr_reader :name, :action

  def initialize(name) # The block argument is removed
    @name   = name
    @action = lambda # We replace `action` with just `lambda`
  end

  def perform(*args)
    begin
      action.call(*args)
    rescue ArgumentError
      raise(WrongArity.new(args.size))
    end
  end
end

class WrongArity < StandardError; end 
```

一些参考资料：“如果从方法内部调用 Proc.new 而没有任何自己的参数，它将返回一个新的 Proc，其中包含为其周围方法提供的块。” -- [http://mudge.name/2011/01/26/passing-blocks-in-ruby-without-block.html](http://mudge.name/2011/01/26/passing-blocks-in-ruby-without-block.html)

事实证明 lambda 以相同的方式工作。

# c - 创建 ip 网络数据包

> ID：13620607
> 
> 赞同：0
> 
> 时间：2012-11-29T07:14:49.520
> 
> 标签：c, sockets, tcp, ip

我必须手动创建自己的网络包 我对套接字编程有想法..

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-29T07:25:56.107

您可以使用`<linux/ip.h>`它包含结构来指向 ip 数据包。你也可以使用套接字。

下面是一个例子。本示例发送一个 ICMP ECHO 数据包并等待响应

```
/* send icmp packet example */
#include <stdio.h>
#include <stdlib.h>
#include <netdb.h>
#include <linux/ip.h>
#include <linux/icmp.h>

int main(int argc, char* argv[])
{
    struct iphdr *ip, *ip_reply;
    struct icmphdr* icmp;
    struct sockaddr_in connection;
    char *dst_addr="192.168.1.33";
    char *src_addr="192.168.1.34";
    char *packet, *buffer;
    int sockfd, optval, addrlen;

    packet = malloc(sizeof(struct iphdr) + sizeof(struct icmphdr));
    buffer = malloc(sizeof(struct iphdr) + sizeof(struct icmphdr));
    ip = (struct iphdr*) packet;
    icmp = (struct icmphdr*) (packet + sizeof(struct iphdr));

    ip->ihl         = 5;
    ip->version     = 4;
    ip->tot_len     = sizeof(struct iphdr) + sizeof(struct icmphdr);
    ip->protocol    = IPPROTO_ICMP;
    ip->saddr       = inet_addr(src_addr);
    ip->daddr       = inet_addr(dst_addr);
    ip->check = in_cksum((unsigned short *)ip, sizeof(struct iphdr)); 

    icmp->type      = ICMP_ECHO;
    icmp->checksum = in_cksum((unsigned short *)icmp, sizeof(struct icmphdr));

    /* open ICMP socket */
    if ((sockfd = socket(AF_INET, SOCK_RAW, IPPROTO_ICMP)) == -1) {
        perror("socket");
        exit(EXIT_FAILURE);
    }
     /* IP_HDRINCL must be set on the socket so that the kernel does not attempt 
     *  to automatically add a default ip header to the packet*/
    setsockopt(sockfd, IPPROTO_IP, IP_HDRINCL, &optval, sizeof(int));

    connection.sin_family       = AF_INET;
    connection.sin_addr.s_addr  = ip->daddr;
    sendto(sockfd, packet, ip->tot_len, 0, (struct sockaddr *)&connection, sizeof(struct sockaddr));
    printf("Sent %d byte packet to %s\n", ip->tot_len, dst_addr);

    addrlen = sizeof(connection);
    if (recvfrom(sockfd, buffer, sizeof(struct iphdr) + sizeof(struct icmphdr), 0, (struct sockaddr *)&connection, &addrlen) == -1)
        {
        perror("recv");
        }
    else
        {
        char *cp;
        ip_reply = (struct iphdr*) buffer;
        cp = (char *)&ip_reply->saddr;
        printf("Received %d byte reply from %u.%u.%u.%u:\n", ntohs(ip_reply->tot_len), cp[0]&0xff,cp[1]&0xff,cp[2]&0xff,cp[3]&0xff);
        printf("ID: %d\n", ntohs(ip_reply->id));
        printf("TTL: %d\n", ip_reply->ttl);
        }

}

unsigned short in_cksum(unsigned short *addr, int len)
{
    register int sum = 0;
    u_short answer = 0;
    register u_short *w = addr;
    register int nleft = len;
    /*
     * Our algorithm is simple, using a 32 bit accumulator (sum), we add
     * sequential 16 bit words to it, and at the end, fold back all the
     * carry bits from the top 16 bits into the lower 16 bits.
     */
    while (nleft > 1)
    {
      sum += *w++;
      nleft -= 2;
    }
    /* mop up an odd byte, if necessary */
    if (nleft == 1)
    {
      *(u_char *) (&answer) = *(u_char *) w;
      sum += answer;
    }
    /* add back carry outs from top 16 bits to low 16 bits */
    sum = (sum >> 16) + (sum & 0xffff);     /* add hi 16 to low 16 */
    sum += (sum >> 16);             /* add carry */
    answer = ~sum;              /* truncate to 16 bits */
    return (answer);
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-29T07:30:42.073

**使用原始套接字。**

您可以参考[http://beej.us/guide/bgnet/output/html/singlepage/bgnet.html](http://beej.us/guide/bgnet/output/html/singlepage/bgnet.html)进行套接字编程和原始套接字。

我认为这个[http://csis.bits-pilani.ac.in/faculty/dk_tyagi/Study_stuffs/raw.html](http://csis.bits-pilani.ac.in/faculty/dk_tyagi/Study_stuffs/raw.html)

# javascript - 将 hashmap 转换为 javascript 对象

> ID：13620609
> 
> 赞同：-2
> 
> 时间：2012-11-29T07:14:52.113
> 
> 标签：javascript

我正在尝试将哈希图转换为 javascript 的对象，然后我传递一个键，即对象的属性并想要检索它的值；Hashmap mcl = {AB=1,BC=2,DE=3} 。现在，当我发送值 AB 时，它会给出输出，但是当我传递 BC 或 DE 时，它不会。有人可以建议吗？

```
function getCount(key)
        {

            var map='<%=mcl%>';

            var nmap=new Object();
            var z=map.substr(1, map.length-2);

            var y=z.split(',');
            for(var i=0;i<y.length;i++)
            {
                var k=y[i];
                var m=k.split("=");
                nmap[m[0]]=m[1];
            }
            alert(nmap[key])
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:18:00.963

您的示例`;`用作分隔符 ( `{AB=1;BC=2;DE=3}`)，但您的代码使用`,`( `z.split(',')`)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:18:22.917

您以逗号`,`分隔，但您的示例由分号分隔`;`

改成：

```
var y=z.split(';'); 
```

编辑：如果您的数据有逗号，并且您在逗号上拆分，那么您的代码就可以了。您是否忘记实际调用该函数？除非你调用它，否则它不会执行。

```
getCount('AB'); 
```

**[jsFiddle 演示](http://jsfiddle.net/Ej6G4/)**

# android - 使用 MediaPlayer 从 SDCard 播放声音？

> ID：13620614
> 
> 赞同：0
> 
> 时间：2012-11-29T07:15:16.117
> 
> 标签：android, android-mediaplayer

让我解释清楚：

1.  我有一个名为“声音”的文件夹，并且有一些 .ogg 文件可以播放。
2.  我使用`Environment.getExternalStorageDirectory().getAbsolutePath() + mySoundsPath;`.
3.  我从该文件夹中获取了所有列表并将其保存到数组中：`List<String> soundList;`

我的问题是：

1.  如何调用`soundList`我创建的声音以便它们都可以播放？
2.  它是否需要解码（如图像，解码为位图）？

对不起我的语法。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:19:44.067

使用以下链接作为参考 [http://developer.android.com/reference/android/media/MediaPlayer.html](http://developer.android.com/reference/android/media/MediaPlayer.html)

您也可以尝试小代码示例

[http://davanum.wordpress.com/2007/12/29/android-videomusic-player-sample-from-local-disk-as-well-as-remote-urls/](http://davanum.wordpress.com/2007/12/29/android-videomusic-player-sample-from-local-disk-as-well-as-remote-urls/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-26T11:45:21.220

公共无效播放（字符串路径）{count++; 播放文件=路径；

```
 //showNotification();
        new NotificationPanel(activity);

            if(mediaPlayer!=null && mediaPlayer.isPlaying()){
                Log.d("*****begin*****", "playing");
                stopPlaying();
                 Log.d("*****begin*****", "stoping");
              } else{
                 Log.d("*****begin*****", "nothing");
              }

            Uri myUri1 = Uri.parse(path);
            mediaPlayer = new MediaPlayer();
            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);

            try {
                mediaPlayer.setDataSource(activity, myUri1);            
            } catch (IllegalArgumentException e) {
                Toast.makeText(activity, "You might not set the URI correctly!", Toast.LENGTH_LONG).show();
            } catch (SecurityException e) {
                Toast.makeText(activity, "You might not set the URI correctly!", Toast.LENGTH_LONG).show();
            } catch (IllegalStateException e) {
                Toast.makeText(activity, "You might not set the URI correctly!", Toast.LENGTH_LONG).show();
            } catch (IOException e) {
                e.printStackTrace();
            }

            try {
                mediaPlayer.prepare();
            } catch (IllegalStateException e) {
                Toast.makeText(activity, "You might not set the URI correctly!", Toast.LENGTH_LONG).show();
            } catch (IOException e) {
                Toast.makeText(activity, "You might not set the URI correctly!", Toast.LENGTH_LONG).show();
            }
            mediaPlayer.start();

        }

        private void stopPlaying() { 
            if (mediaPlayer != null) {
                mediaPlayer.stop();
                mediaPlayer.release();
                mediaPlayer = null;
           } 
        } 
```

# json - 使用 JQUERY 从 Twitter 解析 JSON

> ID：13620623
> 
> 赞同：0
> 
> 时间：2012-11-29T07:15:39.597
> 
> 标签：json, twitter

我想从 twitter 搜索一条推文，它将取决于文本或主题标签。然后显示它`<div id="result">`。但我很困惑，因为我的代码没有显示推文。

这是我从 twitter 搜索中读取 JSON 的代码：

```
<script type="text/javascript" src="jquery.js"></script>

<script type="text/javascript">

    $(document).ready(function()
    {

        $('#btn').click(function()
        {
            $.getJSON("http://search.twitter.com/search.json?q="+$('#search').val(),function(data)
            {
                $.each(data.results, function(i,data){
                    var from = data.from_user;
                    var tw_content = data.text;

                    $('#result').append("<p>User : "+from+"<br>Tweet : "+tw_content+"</p>");
                });
            });
        });

    });

</script>

<input type="text" id="search"/><input type="button" id="btn" value="cari"> 

<div id="result">

</div> 
```

当我运行它时，什么也没有发生。任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:38:53.407

您应该使用`jsonp`来获取结果，因为`jsonp`提供了一种从不同域中的服务器请求数据的方法

检查这个[小提琴](http://jsfiddle.net/KvVFM/4/)

我在这里使用`$.ajax`功能`dataType: jsonp`

检查[这个](http://json-p.org/)和[这个](https://stackoverflow.com/questions/2067472/please-explain-jsonp)_`JSONP`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:45:16.350

我会做如下的事情：

```
 $(document).ready(function() {
  // Declare variables to hold twitter API url and user name
  var twitter_api_url = 'http://search.twitter.com/search.json';
  var twitter_user = 'behudinnystrom';

  // Enable caching
  $.ajaxSetup({ cache: true });

  // Send JSON request
  // The returned JSON object will have a property called "results" where we find
  // a list of the tweets matching our request query
  $.getJSON(
    twitter_api_url + '?callback=?&rpp=5&q=from:' + twitter_user,
    function(data) {
      $.each(data.results, function(i, tweet) {
        // Uncomment line below to show tweet data in Fire Bug console
        // Very helpful to find out what is available in the tweet objects
        //console.log(tweet);

        // Before we continue we check that we got data
        if(tweet.text !== undefined) {
          // Calculate how many hours ago was the tweet posted
          var date_tweet = new Date(tweet.created_at);
          var date_now = new Date();
          var date_diff = date_now - date_tweet;
          var hours = Math.round(date_diff/(1000*60*60));

          // Build the html string for the current tweet
          var tweet_html = '<div class="tweet_text">';
          tweet_html += '<a href="http://www.twitter.com/';
          tweet_html += twitter_user + '/status/' + tweet.id + '">';
          tweet_html += tweet.text + '<\/a><\/div>';
          tweet_html += '<div class="tweet_hours">' + hours;
          tweet_html += ' hours ago<\/div>';

          // Append html string to tweet_container div
          $('#tweet_container').append(tweet_html);
        }
      });
    }
  );
}); 
```

[**示范**](http://jsfiddle.net/refhat/YfKCy/)

# c# - 我的 C# windows 应用程序在系统启动时运行。但适用于 windows xp 而不是 windows 7。我已经编写了这些代码

> ID：13620625
> 
> 赞同：1
> 
> 时间：2012-11-29T07:15:53.543
> 
> 标签：c#

```
RegistryKey rkStartUp = Registry.CurrentUser;
RegistryKey StartupPath;
StartupPath =rkStartUp.OpenSubKey(@"Software\Microsoft\Windows\CurrentVersion\Run", true);
if (StartupPath.GetValue("MyApplication") == null)
{
    StartupPath.SetValue("MyApplication", Application.ExecutablePath, RegistryValueKind.ExpandString);
}
else
{
    StartupPath.DeleteValue("MyApplication", true);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T08:39:10.380

首先，请注意注册表项对于 32 位和 64 位系统是不同的。此外，如果您的应用程序没有以管理员权限运行，则可能不允许写入注册表项。

# ios - 在下面我得到了 NSMutableURLRequest 的内存泄漏

> ID：13620627
> 
> 赞同：1
> 
> 时间：2012-11-29T07:15:56.147
> 
> 标签：ios

```
NSMutableURLRequest *request = [[NSMutableURLRequest alloc]initWithURL:url];
    [request setHTTPMethod:@"POST"];
    [request setHTTPBody: [body dataUsingEncoding: NSUTF8StringEncoding]];
    [webView loadRequest:request]; 
```

在上面的代码中，我创建了一个 NSMutableURLRequest，然后我用这个请求加载了一个 webview。但是它给了我内存泄漏，说如下：-

1) 对象泄露：分配并存储到“请求”中的对象稍后在此执行路径中未引用，并且保留计数为 +1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:17:03.727

如警告消息所述，请使用发布声明作为您的请求，

```
 MutableURLRequest *request = [[[NSMutableURLRequest alloc] initWithURL:url] autorelease]; 
```

或者你可以使用

```
 MutableURLRequest *request = [NSMutableURLRequest requestWithURL:url]; 
```

如果您不使用 ARC，则需要释放/自动释放通过分配内存创建的任何参数。避免这种情况的一种方法是切换到 ARC。

# ios - openEars 无法识别字母

> ID：13620630
> 
> 赞同：0
> 
> 时间：2012-11-29T07:15:58.783
> 
> 标签：ios, openears

> **可能重复：**
> [如何调整 OpenEars 错误识别](https://stackoverflow.com/questions/13614410/how-can-i-adjust-openears-wrong-recognition)

我在我的应用程序中使用了 OpenEars 来输入带有字母的单词。我只是从 "a" 到 "z" 的初始字典。但它在识别字母方面的识别度很差。

例如。我说“e”但它给我一个字母“d”，我说“d”它仍然给我一个字母“d”

我该如何处理这个问题。

# jquery - 如何仅使用头像显示 Twitter 列表中的成员列表

> ID：13620631
> 
> 赞同：3
> 
> 时间：2012-11-29T07:15:59.163
> 
> 标签：jquery, ajax, json, list, twitter

我一直在尝试找出一种方法来列出特定列表中所有成员的个人资料图片。

我可以从 API URL 获取状态

```
 $.ajax({
  url: "https://api.twitter.com/1/lists/statuses.json?slug=stringed-chaos&owner_screen_name=darkpsy",
  dataType: "jsonp",
  jsonpCallback: "listTweets"
});

function listTweets(r) { 
console.log(r);
var output = '<ul>';

$.each(r, function(key, val) {
    var text = r[key].text;
    var thumbnail = r[key].user.profile_image_url;
    var name = r[key].user.name;

    output += '<li>';
    output += '<img src="' + thumbnail +'" alt="Photo of ' + name + '">';
    output += '<div>' + text + '</div>';
    output += '</li>';      
}); //go through each tweet
output += '</ul>'; 
```

当我将 API URL 更改为 GET 列表/成员 URL（如[官方 twitter 文档](https://dev.twitter.com/docs/api/1/get/lists/members)中所述）时，我无法提取任何信息（未定义）。我可以很好地解析 statuses.json，但 members.json 什么也不返回

代码如下：

```
 $.ajax({
  url: "https://api.twitter.com/1/lists/members.json?slug=stringed-chaos&owner_screen_name=darkpsy",
  dataType: "jsonp",
  jsonpCallback: "listTweets"
});

function listTweets(r) { 
console.log(r);
var output = '<ul>';

    $.each(r, function(key, val) {
        var text = r[key].text;
        var thumbnail = r[key].profile_image_url;
        var name = r[key].screen_name;
            output += '<li>';
        output += '<img src="' + thumbnail +'" alt="Photo of ' + name + '">';
        output += '<div>' + text + '</div>';
        output += '</li>';      
    }); //go through each tweet
    output += '</ul>';
    $('#tweetlist').html(output);}` 
```

将不胜感激任何形式的帮助，因为 twitter API 文档似乎不太友好，我也没有在网上找到任何东西来解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:48:33.413

尝试这个：

```
<!DOCTYPE HTML>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title></title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script>
$(function() {
  $.ajax({
    url: "https://api.twitter.com/1/lists/statuses.json?slug=customers&owner_screen_name=vijaysales",
    dataType: "jsonp",
    success: function(r) {
      listTweets(r);
    }
  });
  function listTweets(r) {
    var output = '<ul>';
    $.each(r, function(key, val) {
      var text = r[key].text;
      console.log(JSON.stringify(r[key]));
      var thumbnail = r[key].user.profile_image_url;
      var name = r[key].screen_name;
      output += '<li>';
      output += '<img src="' + thumbnail +'" alt="Photo of ' + name + '">';
      output += '<div>' + text + '</div>';
      output += '</li>';      
    }); //go through each tweet
    output += '</ul>';
    $('#tweetlist').html(output);
  }
})
</script>
</head>
<body>
<div id="tweetlist"></div>  
</body>
</html> 
```

你可以使用`success`方法。我修复了关于 profile_image_url 的问题。

**更新**

```
<!DOCTYPE HTML>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title></title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script>
$(function() {
  $.ajax({
    url: "https://api.twitter.com/1/lists/members.json?slug=customers&owner_screen_name=vijaysales",
    dataType: "jsonp",
    success: function(r) {
      listTweets(r);
    }
  });
  function listTweets(r) {
    var output = '<ul>';
    $.each(r.users, function(n, user) {
      var text = user.status ? user.status.text : '';
      var thumbnail = user.profile_image_url;
      var name = user.screen_name;
      output += '<li>';
      output += '<img src="' + thumbnail +'" alt="Photo of ' + name + '">';
      output += '<div>' + text + '</div>';
      output += '</li>';      
    }); //go through each tweet
    output += '</ul>';
    $('#tweetlist').html(output);
  }
})
</script>
</head>
<body>
<div id="tweetlist"></div>  
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:58:30.617

Twitter 的成员列表 API 以与状态 API 不同的格式返回数据。您要查找的数据包含在`users[]`. 这是一个固定的解决方案：

```
$.ajax({
    url: "https://api.twitter.com/1/lists/members.json?slug=customers&owner_screen_name=vijaysales",
    dataType: "jsonp",
    success : function(data) {listTweets(data["users"]);}
});

function listTweets(r) {
    var output = '<ul>';

    $.each(r, function(key, val) {
        var text = r[key].text;
        var thumbnail = r[key].profile_image_url;
        var name = r[key].screen_name;

        output += '<li>';
        output += '<img src="' + thumbnail +'" alt="Photo of ' + name + '">';
        output += '<div>Photo of ' + name + '</div>';
        output += '</li>';      
    }); //go through each tweet
    output += '</ul>';
    $('#tweetlist').html(output);
} 
```

我将回调从 更改`jsonpCallback`为`success()`因为`jsonpCallback`在 jsFiddle 的最新版本的 jQuery 上似乎不太好用。

在此处的 jsFiddle 上尝试：http: [//jsfiddle.net/vCA4F/并在](http://jsfiddle.net/vCA4F/)[jsonviewer](http://jsonviewer.stack.hu/#http://api.twitter.com/1/lists/members.json?slug=customers&owner_screen_name=vijaysales)上查看返回的 JSON 的结构。

# python - Python/lxml/Xpath：如何找到包含某些文本的行？

> ID：13620633
> 
> 赞同：0
> 
> 时间：2012-11-29T07:16:03.200
> 
> 标签：python, xpath, python-2.7, lxml

给定 URL [http://www.smartmoney.com/quote/FAST/?story=financials&timewindow=1&opt=YB&isFinprint=1&framework.view=smi_emptyView](http://www.smartmoney.com/quote/FAST/?story=financials&timewindow=1&opt=YB&isFinprint=1&framework.view=smi_emptyView)，您将如何捕获和打印整行数据的内容？

例如，要获得类似于“Cash & Short Term Investments 144,841 169,760 189,252 86,743 57,379”的输出需要什么？或者类似“财产、厂房和设备 - 总额 725,104 632,332 571,467 538,805 465,493”？

我已经通过网站[http://www.techchorus.net/web-scraping-lxml](http://www.techchorus.net/web-scraping-lxml)了解了 Xpath 的基础知识。然而，Xpath 语法在很大程度上对我来说仍然是个谜。

我已经在 BeautifulSoup 中成功地做到了这一点。我喜欢 BeautifulSoup 不需要我知道文件的结构这一事实——它只查找包含我搜索的文本的元素。不幸的是，BeautifulSoup 对于必须执行数千次的脚本来说太慢了。我在 BeautifulSoup 中的任务的源代码是（title_input 等于“现金和短期投资”）：

```
 page = urllib2.urlopen (url_local)
    soup = BeautifulSoup (page)
    soup_line_item = soup.findAll(text=title_input)[0].parent.parent.parent
    list_output = soup_line_item.findAll('td') # List of elements 
```

那么 lxml 中的等效代码是什么？

编辑 1：我第一次发布时，这些 URL 被隐藏了。我现在已经解决了。

编辑 2：我添加了基于 BeautifulSoup 的解决方案，以阐明我想要做什么。

编辑 3：+10 为您的解决方案扎根。为了将来有同样问题的开发人员的利益，我在这里发布了一个对我有用的快速而肮脏的脚本：

```
 #!/usr/bin/env python
    import urllib
    import lxml.html

    url = 'balancesheet.html'

    result = urllib.urlopen(url)
    html = result.read()

    doc = lxml.html.document_fromstring(html)
    x = doc.xpath(u'.//th[div[text()="Cash & Short Term Investments"]]/following-sibling::td/text()')
    print x 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:25:35.187

```
In [18]: doc.xpath(u'.//th[div[text()="Cash & Short Term Investments"]]/following-sibling::td/text()')
Out[18]: ['   144,841', '   169,760', '   189,252', '    86,743', '    57,379'] 
```

或者您可以定义一个小函数来按文本获取行：

```
In [19]: def func(doc,txt):
    ...:     exp=u'.//th[div[text()="{0}"]]'\
    ...:         u'/following-sibling::td/text()'.format(txt)
    ...:     return [i.strip() for i in doc.xpath(exp)]

In [20]: func(doc,u'Total Accounts Receivable')
Out[20]: ['338,594', '270,133', '214,169', '244,940', '236,331'] 
```

或者您可以将所有行放入 a `dict`：

```
In [21]: d={}

In [22]: for i in doc.xpath(u'.//tbody/tr'):
    ...:     if len(i.xpath(u'.//th/div/text()')):
    ...:         d[i.xpath(u'.//th/div/text()')[0]]=\
    ...:         [e.strip() for e in i.xpath(u'.//td/text()')]

In [23]: d.items()[:3]
Out[23]: 
[('Accounts Receivables, Gross',
     ['344,241', '274,894', '218,255', '247,600', '238,596']),
 ('Short-Term Investments', 
     ['27,165', '26,067', '24,400', '851', '159']),
 ('Cash & Short Term Investments',
     ['144,841', '169,760', '189,252', '86,743', '57,379'])] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T08:48:56.850

让 html 保存 html 源代码：

```
import lxm.html
doc = lxml.html.document_fromstring(html)
rows_element = doc.xpath('/html/body/div/div[2]/div/div[5]/div/div/table/tbody/tr')
for row in rows_element:
     print row.text_content() 
```

未经测试，但应该可以工作

PSInstall xpath cheker 或 firefinder 在 firefox 中帮助您使用 xpath

# c# - 提高事件日志的读取速度？

> ID：13620635
> 
> 赞同：0
> 
> 时间：2012-11-29T07:16:11.623
> 
> 标签：c#, .net, wmi, event-log

我有一个应用程序从事件日志中读取一些数据，如果事件日志太大，即超过 30,000 个条目，则该应用程序性能太差。

我正在寻找一种更快的方法来从中获取信息，

我现在使用了两种方法，使用 WMI 查询是 {Select message from Win32_NTLogEvent Where Logfile = 'System' and EventCode = '1' }

我使用 System.Diagnostic.Eventlog.GetEventLogs(); 这也需要太多时间

我应该使用什么来提高搜索速度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T14:30:23.017

这段简单的代码在 AMD Athlon X3 上处理 100,000 个事件需要 4.6 秒（i5 更快）。

```
string queryString = "*";
int eventsCount = 0;
Stopwatch stopWatch = new Stopwatch();
stopWatch.Start();
EventLogQuery eventsQuery = new EventLogQuery("MyLog", PathType.LogName, queryString);
EventLogReader logReader = new EventLogReader(eventsQuery);

for (EventRecord eventInstance = logReader.ReadEvent();
                null != eventInstance; eventInstance = logReader.ReadEvent())
{
  if (eventInstance.Id == 100) //random event id                 
     ++eventsCount;

}
stopWatch.Stop();

Console.WriteLine("Found events: {0}", eventsCount);
Console.WriteLine("Time elapsed: {0}", stopWatch.Elapsed); 
```

为了获得更好的性能，您可以自己或通过 Windows 事件查看器使用正确创建的 XPATH 查询（创建`Custom view`而不是选择`XML`选项卡）

# android - Android 响应内容

> ID：13620636
> 
> 赞同：0
> 
> 时间：2012-11-29T07:16:18.477
> 
> 标签：android, saxparser

webservice返回解析错误时如何获取response的内容。 `Sax listner`有这些方法

公共无效解析成功（列表列表），

公共无效解析错误（字符串错误）&

公共无效连接错误（字符串错误）

如果出现错误，我们只会收到错误消息。只有当解析成功时，我们才会得到一个列表。解析错误时如何获取全部内容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:11:13.780

```
 Handler handler = new Handler(new Callback() {

                        public boolean handleMessage(Message msg) {
                            this.list.setAdapter(); // set data to your list
                            return false;                           
                            }
                    });

public void connectionError(String error){
handler.sendEmptyMessage(0);// connection failder;
} 
```

# android - 图像地图上的自定义导航

> ID：13620638
> 
> 赞同：-1
> 
> 时间：2012-11-29T07:16:22.920
> 
> 标签：android, navigation

我知道有人问过类似的问题，但我没有找到我正在寻找的正确答案。我需要在图像地图上实现导航。地图比较小（5km X 5km），使用起来就能在地图上平移和缩放。你能指出正确的方向吗？我应该如何使用图像（WebView、ImageView...）和一般建议。

我的客户不喜欢使用 Google Maps API 和 Google MapView，因为他说可能有一天会变得不免费，这可能吗？我不需要在地图上实现导航和路由。只需在图像上显示用户位置。地图可能是类似 3D 的视图（它将是图像，但地图不会从上方显示）。地图很有可能是非常大的图像，以便用户可以放大，我是否需要将图像剪切为乡绅并仅显示相关的图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-03T10:00:29.237

好吧，这里的信息很少，但我认为我们正在谈论这种情况：

1.  您想开发一个不使用 Google Maps API 和 Google MapView 的导航应用程序

2.  最有可能的是，您最终将使用 ImageView 来显示您的地图图像

3.  您希望用户能够在此自定义地图上获取路线方向

在这种情况下，您必须在地图上定义一组路线/路径，并且您将不得不依赖某种寻路引擎，例如：

[http://project-osrm.org/](http://project-osrm.org/)

问题是：你实际上是在尝试重新实现一个完整的、定制的导航系统，这是许多学生选择作为他们的主论文的那种项目。它很难而且*很大*。这将需要你大量的时间和精力。

如需灵感，请查看 OSM 志愿者开发的工具：

[http://wiki.openstreetmap.org/wiki/Main_Page](http://wiki.openstreetmap.org/wiki/Main_Page)

[http://wiki.openstreetmap.org/wiki/Software/Mobile](http://wiki.openstreetmap.org/wiki/Software/Mobile)

# python - 在用户锁定的 Windows 系统上触发 python 定义

> ID：13620647
> 
> 赞同：0
> 
> 时间：2012-11-29T07:16:49.703
> 
> 标签：python

我正在编写一个 python 脚本，它在不同的过程中更新 MySql 数据库。我想在用户锁定他的系统（如“锁定”）或在关机\注销进程到（“离线”）之前更新数据库字段（“状态”）。当系统状态发生变化时，我无法找出如何触发定义。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:33:05.653

您必须监视 和的[`WM_WTSSESSION_CHANGE`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa383828(v=vs.85).aspx)消息。 `WTS_SESSION_LOGOFF``WTS_SESSION_LOCK`

有关如何在 Python 中执行此操作的详细信息，请参阅[Detect windows logout in Python](https://stackoverflow.com/questions/365058/detect-windows-logout-in-python/)

（如果您还不知道答案，则很难找到此答案。）

# c++ - 如何为许多自包含 cpp 文件的文件夹制作 */*？

> ID：13620650
> 
> 赞同：2
> 
> 时间：2012-11-29T07:16:51.507
> 
> 标签：c++, opencv, makefile

我正在玩[这个 OpenCV 2 Cookbook](http://www.packtpub.com/opencv-2-computer-vision-application-programming-cookbook/book)中的一些教程代码。该代码不附带任何 Makefile，**我想创建一个 Makefile 可以制作 codebase 中的所有文件**。我的计划是用分析编译所有文件，然后制作一个运行所有可执行文件并收集 gprof 结果的脚本。然后，我可以对各种 OpenCV 函数的计算时间有一些直觉。

代码库是这样安排的：`tutorial_code/Chapter[1-10]/*.cpp` 每个`.cpp`文件都是自给自足的，可以在不链接到此代码库中的其他模块的情况下进行编译。（不过，有一些小型的仅标头库。）

以下是我坚持的几件事：

*   通常，`$(EXEC)`Makefile 中的 代表一个文件，该文件是大部分构建工作的结果。但是，就我而言，我想`$(EXEC)`为每个文件创建一个单独的`.cpp`文件。我想我已经接近正确了，但到目前为止我的 Makefile 只是生成`*.o`但没有`*.out`
*   我知道这`SOURCES = $(wildcard *.cpp)`是一种“收集”当前目录中的 cpp 文件集的方法。`SOURCES = $(wildcard */*.cpp)`向下钻取并获取`.cpp`子目录中的所有文件是有道理的。不过，它似乎不起作用。

* * *

从[本教程](http://www.puxan.com/Computers/Howto-write-generic-Makefiles)开始，我设置了一个实现建议功能的 Makefile。它不太工作......`$(wildcard */*.cpp)`似乎没有深入到目录中，我不确定如何做类似的事情`$<`并`$@`引用`basefilename.o`和创建`basefilename.out`.

```
CC = g++
CC_FLAGS = -w `pkg-config opencv --cflags`
LINK = g++
LINKOPTS = -pg `pkg-config opencv --libs`

SOURCES = $(wildcard */*.cpp)
OBJECTS = $(SOURCES:.cpp=.o)
EXEC = $(SOURCES:.cpp=.out)

%.out: %.o
    $(LINK) $< $(LINKOPTS) -o $@

%.o: %.cpp
    $(CC) -c $(CC_FLAGS) $< -o $@

clean:
    rm -f $(EXEC) $(OBJECTS) 
```

* * *

*   我对 Makefiles 和 OpenCV 相当熟悉，并且通过在 Makefiles 中手动编码依赖项、对象等列表来编译我自己的项目也没有问题。然而，就手头的事情而言，在没有太多用户干预的情况下自动制作所有内容真是太棒了。
*   请随意评论、发送电子邮件或给我发消息，以获取我正在尝试编译的代码库的副本。
*   我还想过制作一个脚本来遍历`tutorial_code/Chapter[1-10]`目录并为每个目录创建一个 Makefile。然后，我会在脚本中创建另一个函数，在每个目录中调用一次 Make。不过，做一个宏大的 Makefile 的想法听起来更有趣。

* * *

编辑：如果我使用Makefile 并将其放置在文件所在的同一目录中，这**确实**有效。但是，我仍在试图弄清楚如何深入到子目录中。`SOURCES = $(wildcard *.cpp)``cpp``$(wildcard */*.cpp)`

编辑 2： 上面显示的 Makefile 现在可以正常工作。要查看早期版本，请随意滚动浏览编辑历史记录。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T20:13:54.313

您可以编写一个仅使用函数`wildcard`以递归方式工作到任何深度的版本：`make`

```
find-recursive = \
  $(wildcard $1/$2) \
  $(foreach f,$(wildcard $1/*/.),\
    $(call find-recursive,$(patsubst %/.,%,$f),$2))

SOURCES = $(call find-recursive,.,*.cpp) 
```

# c - 分配内存时出现错误“初始化元素不是常量”

> ID：13620654
> 
> 赞同：8
> 
> 时间：2012-11-29T07:17:03.550
> 
> 标签：c

```
 1 #include<stdio.h>
  2 #include<malloc.h>
  3 
  4 typedef struct node_t{
  5     int i;
  6     struct node_t* link;
  7 }node;
  8 
  9 node* head = (node *)malloc(sizeof(node));
 10 
 11 if(head == NULL){
 12     printf("\n malloc for head node failed! \n");
 13 }
 14 
 15 int main(){
 16     int i = 10;
 17     node* temp = NULL;
 18     temp = (node *)malloc(sizeof(node));
 19     if(temp == NULL){
 20         printf("\n malloc for temp node failed! \n");
 21     }
 22     else{
 23         while(i<=10){
 24             ;
 25         }
 26     }
 27     return 0;
 28 } 
```

编译错误：

```
linked.c:9:1: error: initializer element is not constant
linked.c:11:1: error: expected identifier or â€˜(â€™ before â€˜ifâ€™ 
```

我正在尝试一个简单的链表程序。它还没有完全完成。我收到编译错误。无法理解为什么会这样。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-29T07:21:15.240

由于您将其定义`head`为全局，因此它的初始化程序需要是一个常量——基本上，编译器/链接器应该能够在可执行文件中为其分配空间，将初始化程序写入该空间，然后完成。在初始化期间没有`malloc`像上面所做的那样调用 - 你需要在内部`main`（或你调用的东西`main`）内部进行调用。

```
#include <stdlib.h>

void init() { 
    head = malloc(sizeof(node));
}

int main() { 
    init();
    // ...
} 
```

在这种情况下，您拥有的代码`main`实际上从未使用过`head`，因此您可以毫无问题地跳过上述所有内容。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-11-29T07:21:00.137

```
 9  node* head = (node *)malloc(sizeof(node));
 10 
 11 if(head == NULL){
 12     printf("\n malloc for head node failed! \n");
 13 } 
```

这些行在外部是不可能的，`main()`因为任何函数调用或可执行文件都应该在`main()`函数内部或从 main 调用的任何函数中。

为了`linked.c:9:1: error: initializer element is not constant`

外部只能有函数定义或任何全局初始化，`main()`但初始化器必须是[常量表达式](http://h30097.www3.hp.com/docs/base_doc/DOCUMENTATION/V40F_HTML/AQTLTBTE/DOCU_066.HTM)`。

您可以将其声明`head`为全局，但初始化是错误的。

像这样做 ：

```
node * head =NULL // here initialization using constant expression

void function () // any function 
{
 head = malloc(sizeof(node));
} 
```

对于`linked.c:11:1: error: expected identifier`,

`if`语句不能在任何函数之外。在您的情况下，将这些行放在 main 中并解决问题

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-29T07:20:33.273

`head`是一个全局变量。全局变量和静态变量必须由常量表达式（即文字）初始化。所以你不能做

```
node* head = (node *)malloc(sizeof(node)); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T07:37:56.347

您不能在全局范围内使用 malloc() 。或者你可以像关注

```
#include<stdio.h>
#include<malloc.h>
  :
node* head
  :
  :
int main(){
  :
  :
head = (node *)malloc(sizeof(node));
  :
  :
} 
```

# blackberry - 无法签署黑莓应用程序..错误预验证类

> ID：13620660
> 
> 赞同：0
> 
> 时间：2012-11-29T07:17:14.647
> 
> 标签：blackberry, sign

我遇到了这个奇怪的问题，我似乎找不到解决方案。在以下方法的帮助下，我在我的项目中包含了 net_rim_bb_qm_platform.jar：

1.  在 Eclipse 中，打开 BlackBerry Application Development 透视图。
2.  单击文件 > 新建 > BlackBerry Project。
3.  在 New BlackBerry Project 对话框的 Project Name 字段中，键入您的项目的名称。
4.  在 JRE 部分中，确保选择 5.0 或更高版本的 BlackBerry JRE，然后单击完成。
5.  在 Package Explorer 视图中，右键单击项目并单击 Properties。
6.  在“属性”对话框的左窗格中，单击“Java 构建路径”。
7.  单击库选项卡。
8.  单击添加外部 JAR 按钮。
9.  导航到您提取 BlackBerry Messenger SDK 文件的文件夹。在 BBM SDK 文件夹中，双击 net_rim_bb_qm_platform.jar。
10.  点击下一步。
11.  在属性窗口中，单击确定。
12.  当您准备好构建项目时，在 Project 菜单上，单击 BlackBerry > Package All。

但是每次我签署我的应用程序时，此方法都会创建一个 tempXXXXX 文件夹，并且项目文件夹上会出现一个错误 (X) 标记。控制台说：

错误！：错误：preverifier 失败：C:\Eclipse\plugins\net.rim.ejde.componentpack7.1.0_7.1.0.10\components\bin\preverify.exe -d C:\Users\ ... 打包项目 MyBBMApp失败（耗时 1.285 秒）

任何帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:37:04.730

您的主题说您在签署文件时遇到问题。为了对文件进行签名，请确保您的系统上有三个可用的签名文件（RBB、RCR 和 RRT）。为了签署应用程序，首先需要包含以下文件：

黑莓（位于顶部）-> 签名-> 安装新密钥

将密钥包含在您的项目中后，为您的应用签名：

右键单击项目 -> BlackBerry -> 使用签名工具签名。它将提示输入您在获取密钥时创建的密码。

应用签名后，打包您的项目：

右键单击项目 -> BlackBerry -> 打包项目

确保您的应用没有编译错误，以便应用成功打包。

# android - Phonegap：两个页面在 Android 上重叠

> ID：13620662
> 
> 赞同：0
> 
> 时间：2012-11-29T07:17:21.520
> 
> 标签：android, cordova

我正在开发一个 Android/Phonegap 应用程序。下面是我的代码：

```
public class SharePointProjectActivity extends DroidGap {
  /* SharedPreferences are used so that any initial setup can be done, 
     * i.e operations that are done once in life-time of an application
     * such as coping of database file to required location, initial wait 
     * request page,etc.
  */
  private SharedPreferences myPreferences;
  private Boolean registration;
  private static final String PREFS_NAME = "Register";
  /** Called when the activity is first created. */
  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    myPreferences = PreferenceManager.getDefaultSharedPreferences(this);
    registration = myPreferences.getBoolean(PREFS_NAME, false);
    if (!registration) {
    //this code would load index1.html which would just display "Initialization is going on please wait"
      super.loadUrl("file:///android_asset/www/index1.html");
      try {
        //some code to copy the database files
      }
      catch (IOException e) {
        //some exception during the operation
      }
      //once the database file are copied i want to load the login page.Remember this would happen during installation only, successive runs (launch) would directly load the login page i.e index2.html
      super.loadUrl("file:///android_asset/www/index2.html");
      SharedPreferences.Editor editor = myPreferences.edit();
      editor.putBoolean(PREFS_NAME, true);
      editor.commit();
    } else {
      super.loadUrl("file:///android_asset/www/index.html");
    }
  } 
```

问题：在安装过程中，两个页面都在另一个之上加载，即 index2.html 在 index1.html 之上。

预期：在复制过程中，应该显示 index1.html，一旦完成，index1.html 应该会消失并且 index2.html 应该加载。

编辑：我将在安装过程中使用两个 html 文件，第一个文件将只显示一个图像，要求用户在安装过程中等待，如果一切正常，则应该加载登录页面（第二个文件）。到目前为止，这是可行的，但是当我单击后退按钮时，控件会转到第一页。提前致谢，

七无

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:31:50.330

您可以尝试使用 AsyncTask，如果您使用它，它将允许用户与您的应用程序交互，因为您不会使用 UI 线程

```
public class LoadDataTask extends AsyncTask<Void, Void, Void> {
      protected void onPreExecute() {
            SharePointProjectActivity.this.super.loadUrl("file:///android_asset/www/index1.html");
      }

      protected void doInBackground(final Void... args) {
         ... do you db stuff ...
         return null;
      }

      @Override
      protected void onPostExecute(Void result) {
           SharePointProjectActivity.this.super.loadUrl("file:///android_asset/www/index2.html");
      }
   } 
```

您可以通过执行来启动 asynctask

```
new LoadDataTast().execute(); 
```

# api - facebook分享数不准确

> ID：13620664
> 
> 赞同：0
> 
> 时间：2012-11-29T07:17:32.363
> 
> 标签：api, facebook-graph-api

我可以知道为什么这三个网址返回计数差异吗？

[https://www.facebook.com/plugins/like.php?href=http://www.rotikaya.com/iqram-dinzly-tinggalkan-jalan-jalan-cari-makan-kerana-takut-gemuk/&layout=标准&show_faces=false&width=300&action=like&colorscheme=light&height=30](https://www.facebook.com/plugins/like.php?href=http://www.rotikaya.com/iqram-dinzly-tinggalkan-jalan-jalan-cari-makan-kerana-takut-gemuk/&layout=standard&show_faces=false&width=300&action=like&colorscheme=light&height=30)

[https://graph.facebook.com/?id=http://www.rotikaya.com/iqram-dinzly-tinggalkan-jalan-jalan-cari-makan-kerana-takut-gemuk/](https://graph.facebook.com/?id=http://www.rotikaya.com/iqram-dinzly-tinggalkan-jalan-jalan-cari-makan-kerana-takut-gemuk/)

[http://api.facebook.com/restserver.php?method=links.getStats&format=json&urls=http://www.rotikaya.com/iqram-dinzly-tinggalkan-jalan-jalan-cari-makan-kerana-takut- gemuk/](http://api.facebook.com/restserver.php?method=links.getStats&format=json&urls=http://www.rotikaya.com/iqram-dinzly-tinggalkan-jalan-jalan-cari-makan-kerana-takut-gemuk/) （已弃用但更准确）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:22:17.703

> [https://graph.facebook.com/?id=http://www.imdb.com/title/tt0117500/](https://graph.facebook.com/?id=http://www.imdb.com/title/tt0117500/)

这显示了总喜欢和不推荐使用的份额作为一个整体

> [http://api.facebook.com/restserver.php?method=links.getStats&format=json&urls=http://www.imdb.com/title/tt0117500/](http://api.facebook.com/restserver.php?method=links.getStats&format=json&urls=http://www.imdb.com/title/tt0117500/)

这个显示所有数据，你可以看到如果你添加了喜欢计数和分享计数，它与之前的 URL 相同

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:21:14.427

图表链接旨在反映点赞按钮将显示的数字，这是多个指标的组合。

getStats 端点进行了更详细的细分。如果您查看它的总价值，您会发现它们匹配。

# .net - 绑定到 ExpandoObject。属性更改不起作用

> ID：13620665
> 
> 赞同：31
> 
> 时间：2012-11-29T07:17:32.463
> 
> 标签：.net, dynamic, binding, expandoobject

在我的 Windows 应用商店应用程序中，我有一个填充了 ExpandoObjects 的列表。数据绑定适用于初始值，但不适用于我在下载文件后异步设置的图像属性：

```
public static async void Set<T>(this ExpandoObject thisObject, string property, Func<Task<T>> setter) {
        var expando = thisObject as IDictionary<string, Object>;

        if (!expando.ContainsKey(property)) {
            expando.Add(property, null);
        }
        expando[property] = await setter.Invoke();
    } 
```

连接到 ExpandoObject 上的 PropertyChanged 事件确认它为所有对象触发。新属性附加到对象并且值正确，但是 ListView 中的项目没有完全更新。

该列表包含 14 个对象。如果我使用常规类型的对象而不是 ExpandoObjects 并使用图像属性的相同异步设置，则 14 个对象中的一些会在视图中更新（当前不可见的对象）。如果我在类中实现 INotifyPropertyChanged，则所有 14 个都会更新。使用 ExpandoObjects 我得到了与没有 INPC 的类型对象的确切行为：更新当前不可见的项目。

因此，PropertyChanged 似乎不适用于 ExpandoObject 和数据绑定。

它在 WPF 中按预期工作，但在商店应用程序中没有。查看比较： [https ://sites.google.com/site/moramatte/ExpandoComparison.zip?attredirects=0&d=1](https://sites.google.com/site/moramatte/ExpandoComparison.zip?attredirects=0&d=1)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-03-22T23:07:18.990

他们没有添加绑定到动态对象的默认机制，而是添加了一个新接口`ICustomTypeProvider`。并且该接口也没有添加到 ExpandoObject 中，但是使用 expando 您应该能够使用索引器绑定，因为它是一个`IDictionary<string, object>`实现`INotifyPropertyChanged`.

```
<TextBlock Text="{Binding [Foo]}"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-18T08:05:45.137

再次回顾这一点，我得出结论，在使用 ExpandoObjects 时，绑定不适用于 WinRT/Win10（Build 10240）的属性更新（使用 INotifyPropertyChanged 处理的那些）。

INotifyCollectionChanged 有效 - 因此 ExpandoObjects 列表会随着它们的变化而更新 - 但它们的属性没有被 Binding 正确连接。

一种解决方法是创建一个值对象并将其保存在每个 expandoobject 属性中：

```
public class ValueHolder : INotifyPropertyChanged
{

  public ValueHolder(object v)
  {
    _value = v;
  }
  public event PropertyChangedEventHandler PropertyChanged;

  private object _value;
  public object Value
  {
    get { return _value; }
    set {
      if (_value != value)
      {
        _value = value;
        if (PropertyChanged != null)
        {
          PropertyChanged(this, new PropertyChangedEventArgs("Value"));
        }
      }
    }
  }
} 
```

然后，我可以成功地绑定并从 expandoobjects 中的属性获取更新，如下所示：

```
<TextBlock   Text='{Binding Path=Attribute1.Value }' MinWidth='20'/> 
```

我分配这样的新属性：

```
(theList[0] as dynamic).Attribute1 = new ValueHolder("a1"); 
```

我更新这样的属性：

```
var listitem = (thelist[0] as dynamic);
  listitem.Attribute1.Value = "UPDATE"; 
```

# android - 防止可点击的 div 在 Android WebView 中突出显示

> ID：13620670
> 
> 赞同：21
> 
> 时间：2012-11-29T07:18:00.000
> 
> 标签：android, webview

我在 Android 应用程序中使用全屏 WebView，使用 API 级别 15。我使用 jQuery 的`.click`功能可以点击一些开/关开关。该方法工作正常，但点击处理程序导致按钮在点击元素时以透明的蓝色阴影突出显示，并且不美观。

这些方法都不能防止元素被突出显示：

**CSS 方法**

```
div.pill
{
    outline: none;
} 
```

**点击方法**

```
$("div.pill").click(function(Event)
{
    // ... other code here ...
    Event.stopPropagation();
    Event.preventDefault();
    return false;
}); 
```

**鼠标按下方法**

```
$("div.pill").mousedown(function(Event)
{
    // ... other code here ...
    Event.stopPropagation();
    Event.preventDefault();
    return false;
}); 
```

这是一个带有蓝色突出显示的 div 示例：

![网页视图截图](../Images/bbdfbcb8ad1c52a443846d38523c1153.png)

有谁知道如何防止可点击的 div 在被点击时被突出显示？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-11-29T07:21:06.487

将以下代码放入 CSS 文件中：

`-webkit-tap-highlight-color: rgba(0, 0, 0, 0);`

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-10-10T16:03:06.950

在 Galaxy 设备上，“-webkit-tap-highlight-color”仅适用于

```
-webkit-tap-highlight-color:transparent; 
```

# python - 我想运行 make 、make install 和 python setup install 等命令

> ID：13620683
> 
> 赞同：1
> 
> 时间：2012-11-29T07:18:43.177
> 
> 标签：python, linux, directory, makefile, setup.py

实际上我已经编写了一个脚本，它将软件从互联网下载到当前用户的主目录，然后它会解压它。我已经制作并安装它，在某些软件中我必须运行 python setup.py install 但是现在的问题是我不想更改当前目录来运行所有这些命令。

有什么方法可以在命令中指定路径（make，make install，python setup install）

比如：python /home/username/Desktop/urllib/setup.py install

制作/home/用户名/桌面/somedir/

安装 /home/用户名/桌面/somedir/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T08:12:25.493

根据手册页`make`：

```
-C dir, --directory=dir
     Change to directory dir before reading the makefiles or doing anything 
     else.  If multiple -C options are specified,  each  is interpreted  
     relative to the previous one: -C / -C etc is equivalent to -C /etc.  
     This is typically used with recursive invocations of make. 
```

因此，您应该能够输入：

```
make -C /home/username/Desktop/somedir/
make -C /home/username/Desktop/somedir/ install 
```

Python 命令行中没有任何等价物。但是您可以考虑在您的 shell 脚本中使用它：

```
(cd /home/username/Desktop/urllib/ && python setup.py install) 
```

括号中的命令在“子shell”中执行。所以你的脚本的工作目录不会改变，但`python`命令将从`/home/username/Desktop/urllib/`目录中执行。的使用确保除非命令成功`&&`，否则不会执行 Python 命令。`cd`您也可以对命令使用相同的技巧`make`：

```
(cd /home/username/Desktop/somedir/ && make && make install) 
```

# objective-c - 在 Mac Cocoa 应用程序中管理未处理的异常和崩溃

> ID：13620685
> 
> 赞同：4
> 
> 时间：2012-11-29T07:18:50.293
> 
> 标签：objective-c, cocoa, exception-handling

我正在实现一个 Mac 应用程序，我想处理以下事件：

*   未处理的异常
*   程序崩溃（内存错误 dcc）

如果我检测到它们，我可以将详细信息发送给我，以使用我发现的其中一个崩溃[处理程序](http://cutecoder.org/programming/choosing-crash-reporting-system-cocoa/)来分析和修复错误。唉，我无法弄清楚如何拦截崩溃和异常。

1.  第一个问题：我必须区分 Exceptions 和 Crashes 吗？还是检测异常就足够了？
2.  如何捕获异常和/或崩溃，将它们重定向到我的处理程序？

PS我尝试在我的 MyApp 课程中关注

```
NSSetUncaughtExceptionHandler(&uncaughtExceptionHandler);
signal(SIGABRT, SignalHandler);
signal(SIGILL, SignalHandler);
signal(SIGSEGV, SignalHandler);
signal(SIGFPE, SignalHandler);
signal(SIGBUS, SignalHandler);
signal(SIGPIPE, SignalHandler); 
```

但它不起作用。每次它崩溃时，它都会进入调试器而不对 SignalHandler 或 uncaughtExceptionHandler 进行分类

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T08:13:55.147

我发现最好的方法是创建一个简单的异常处理委托类，因为这样`IBAction`可以捕获方法中的异常。

主.mm：

```
@interface ExceptionDelegate : NSObject
@end
static ExceptionDelegate *exceptionDelegate = nil; 

int main(int argc, char **argv)
{
    int retval = 1;

    @autoreleasepool
    {
        //
        // Set exception handler delegate
        //
        exceptionDelegate = [[ExceptionDelegate alloc] init];
        NSExceptionHandler *exceptionHandler = [NSExceptionHandler defaultExceptionHandler];
        exceptionHandler.exceptionHandlingMask = NSLogAndHandleEveryExceptionMask;
        exceptionHandler.delegate = exceptionDelegate;

        //
        // Set signal handler
        //
        int signals[] =
        {
            SIGQUIT, SIGILL, SIGTRAP, SIGABRT, SIGEMT, SIGFPE, SIGBUS, SIGSEGV,
            SIGSYS, SIGPIPE, SIGALRM, SIGXCPU, SIGXFSZ
        };
        const unsigned numSignals = sizeof(signals) / sizeof(signals[0]);
        struct sigaction sa;
        sa.sa_sigaction = signalHandler;
        sa.sa_flags = SA_SIGINFO;
        sigemptyset(&sa.sa_mask);
        for (unsigned i = 0; i < numSignals; i++)
            sigaction(signals[i], &sa, NULL);

        ....
    }

    ....

    return retval;    
}

static void signalHandler(int sig, siginfo_t *info, void *context)
{
    logerr(@"Caught signal %d", sig);
    exit(102);
}

@implementation ExceptionDelegate

- (BOOL)exceptionHandler:(NSExceptionHandler *)exceptionHandler
      shouldLogException:(NSException *)exception
                    mask:(unsigned int)mask
{
    logerr(@"An unhandled exception occurred: %@", [exception reason]);
   return YES;
}

- (BOOL)exceptionHandler:(NSExceptionHandler *)exceptionHandler
   shouldHandleException:(NSException *)exception
                    mask:(unsigned int)mask
{
    exit(101);

    // not reached
    return NO;
}

@end 
```

您需要将 ExceptionHandling.framework 添加到您的项目中。

# c# - 如果它具有 runat="server" 属性，我如何使 div 可拖动

> ID：13620686
> 
> 赞同：0
> 
> 时间：2012-11-29T07:18:49.730
> 
> 标签：c#, javascript, asp.net, html, draggable

我想让我的 div 块可拖动并且它可以工作，但是如果我对我的 div 块使用 runat="server" 属性，我可以使用 visible="false" 属性，而不是可以使用可拖动的。

这是我的代码：

```
<script>

        $(function () {
            $("#draggablebox").draggable();
        });

       </script>

<div class="create_box" id="draggablebox" runat="server" visible="false">
          ...
        </div> 
```

我可以在 ASP.Net 中做什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T07:22:33.583

如果您使用`runat="server" visible="false"`，那么这是一个服务器端属性，并且该元素根本不会被发送到客户端。尝试`style="display: none;"`改用 - 这会将 div 呈现给客户端，但使其隐藏。

请注意，`runat="server"`它本身不会做任何事情。 `<div runat="server"></div>`将相同的内容发送回客户端`<div></div>`。一旦您开始添加服务器属性以及`runat="server"`ASP.Net 开始修改呈现的内容（包括在 的情况下根本不呈现任何内容`visible="false"`）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-26T19:49:29.127

虽然 display:none 不会在浏览器中显示该元素，但它仍然会将 HTML 输出到浏览器，并依赖浏览器渲染来选择是否显示该元素。如果在加载页面和应用 CSS 之间存在延迟，这可能会导致元素在屏幕上“闪烁”。

在回答原始问题时，如果您使用 runat，如何将可拖动元素应用于元素...

**选项1：** 您可以设置可拖动的服务器端：

```
draggable.Attributes["draggable"] = "true" 
```

这将输出（来自您的示例）：

```
<div class="create_box" id="draggablebox" runat="server" visible="false" draggable="true">
...
</div> 
```

使元素在 HTML5 中可拖动 - 与 jQuery 选项所做的相同。

**选项 2：** 使用不同的选择器通过 jQuery 设置。

您当前正在根据 ID 进行选择，但是由于您的控件是服务器端控件，因此它是您设置的 ID，而不是它输出到浏览器的内容 - ID 已成为它的服务器端控件 ID。

你可以给你的控件一个 CSS 类，然后用它来选择你的元素：

```
<script>

$(function () {
    $(".draggablebox").draggable();
});

</script>

<div class="create_box" id="draggablebox" class="draggablebox" runat="server" visible="false">
      ...
</div> 
```

**选项 3：**在客户端脚本中指定正确的 ID

在 ASPX 页面中，您可以修改输出 javascript 以使用正确的“ClientID”。见下文：

```
<script>

$(function () {
    $('<%= draggablebox.ClientID %>').draggable();
});

</script>

<div class="create_box" id="draggablebox" class="draggablebox" runat="server" visible="false">
      ...
</div> 
```

我希望这有帮助！

库尔特

# javascript - 无法从后面的代码注册 Java 脚本

> ID：13620687
> 
> 赞同：1
> 
> 时间：2012-11-29T07:18:56.697
> 
> 标签：javascript, asp.net, .net

我创建了函数，它会在.net 中添加评论时显示类似 twitter 的消息，当从 aspx 文件调用 javascript 函数时一切正常，但是当尝试在页面上注册它时它不起作用？

vb 中的函数：

```
 Dim script As String = ""
        script &= "  function ErrorMessage121212(TextClass, Error, MainDiv) { "
        script &= "     MainDiv = '#' + MainDiv;"
        script &= "      $(MainDiv).append(""<div align='center' id='overlaytext' style='margin-top:10px'></div>"");"
        script &= "    $(MainDiv).css('color', 'white');"
        script &= "      $(MainDiv).css('align', 'center');"
        script &= "       $(MainDiv).css('backgroundColor', 'black');"
        script &= "       $(MainDiv).css('display', ""none"");"
        script &= "      $('#overlaytext').html(""<b>"" + Error + ""</b>"");"
        script &= "         if (TextClass == """") {"
        script &= "          }"
        script &= "      else { "
        script &= "     $('#overlaytext').addClass(TextClass);"
        script &= "                 }"
        script &= "    $(MainDiv).fadeIn(1000, function () { $(MainDiv).fadeOut(1000); })"
        script &= "     }"
        script &= " ErrorMessage121212('" & MessageCss & "','" & errormessage & "','" & DivID & "');"
        If Not Page.ClientScript.IsClientScriptBlockRegistered("s1") Then
          Page.ClientScript.RegisterClientScriptBlock(_page.GetType(), "s1", script)
        End If
        Return True 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:25:01.450

尝试使用：

```
ScriptManager.RegisterStartupScript(_page, typeof(Page), Guid.NewGuid().ToString(), "alert('a');", true); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T08:31:53.810

试试下面的代码它工作正常： -

```
Dim script As String = ""
    script &= "  function ErrorMessage121212(TextClass, Error, MainDiv) { "
    script &= "     MainDiv = '#' + MainDiv;"
    script &= "      $(MainDiv).append(""<div align='center' id='overlaytext' style='margin-top:10px'></div>"");"
    script &= "    $(MainDiv).css('color', 'white');"
    script &= "      $(MainDiv).css('align', 'center');"
    script &= "       $(MainDiv).css('backgroundColor', 'black');"
    script &= "       $(MainDiv).css('display', ""none"");"
    script &= "      $('#overlaytext').html(""<b>"" + Error + ""</b>"");"
    script &= "         if (TextClass == """") {"
    script &= "          }"
    script &= "      else { "
    script &= "     $('#overlaytext').addClass(TextClass);"
    script &= "                 }"
    script &= "    $(MainDiv).fadeIn(1000, function () { $(MainDiv).fadeOut(1000); })"
    script &= "     }"
    script &= " ErrorMessage121212('" & MessageCss & "','" & errormessage & "','" & DivID & "');"
    If Not Page.ClientScript.IsClientScriptBlockRegistered("s1") Then
        ScriptManager.RegisterStartupScript(_page, _page.GetType, "s1", script, True)
          End If
    Return True 
```

# objective-c - 是否可以在 iPhone 中更新本地通知

> ID：13620689
> 
> 赞同：3
> 
> 时间：2012-11-29T07:19:09.667
> 
> 标签：objective-c, ios5, ios6, xcode4.5, uilocalnotification

我以编程方式添加了一个本地通知，如下所示：

```
UILocalNotification *eventLocalNotification=[[UILocalNotification alloc]init];
eventLocalNotification.fireDate=myDate;
eventLocalNotification.timeZone=[NSTimeZone defaultTimeZone];
eventLocalNotification.alertBody=@"My notification";
eventLocalNotification.soundName=UILocalNotificationDefaultSoundName; 
```

我可以更改 fireDate、timeZone、alertBody 或任何其他属性吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-26T12:46:24.983

在互联网上搜索了很多之后，我得到了一个我们无法`edit`添加 UILocal 通知的东西。但可以肯定的是，我发现了另一种方法。

1.  获取您设备的所有本地通知。
2.  搜索相应的本地通知
3.  取消该通知
4.  创建一个新的

**下面是添加通知的方法。**

```
-(void)setLocalNotification
{
    UILocalNotification *eventLocalNotification =   [[UILocalNotification alloc]init];

    eventLocalNotification.fireDate     =   //set firing Date of NSDate type
    eventLocalNotification.timeZone     =   [NSTimeZone defaultTimeZone];
    eventLocalNotification.alertBody    =   [NSString stringWithFormat:@"An event has arrived\n Event Name: %@",notificationName.Text];
    eventLocalNotification.soundName    =   UILocalNotificationDefaultSoundName;

    if ([repeat isEqualToString:@"Once"]){

        eventLocalNotification.repeatInterval   =   0;

    }else if ([repeat isEqualToString:@"Daily"]){

        eventLocalNotification.repeatInterval   =   NSDayCalendarUnit;

    }else if ([repeat isEqualToString:@"Weekly"]){

        eventLocalNotification.repeatInterval   =   NSWeekCalendarUnit;

    }else if ([repeat isEqualToString:@"Monthly"]){

        eventLocalNotification.repeatInterval   =   NSMonthCalendarUnit;

    }else if ([repeat isEqualToString:@"Yearly"]){

        eventLocalNotification.repeatInterval   =   NSYearCalendarUnit;
    }

    NSDictionary *info  =   [NSDictionary dictionaryWithObject:[NSString stringWithFormat:@"%@",notificationName.text] forKey:@"name"];
    eventLocalNotification.userInfo =   info;
    NSLog(@"notification userInfo gets name : %@",[info objectForKey:@"name"]);
    [[UIApplication sharedApplication] scheduleLocalNotification:eventLocalNotification];
    NSLog(@"Notification created");
} 
```

**下面是取消通知的功能**

```
-(void)cancelLocalNotification
{
    UILocalNotification * notificationToCancel=nil;
    for(UILocalNotification * aNotif in [[UIApplication sharedApplication] scheduledLocalNotifications])
    {
        NSLog(@"%@",[aNotif.userInfo objectForKey:@"name"]);
        if([[aNotif.userInfo objectForKey:@"name"] isEqualToString:notificationName ])
        {
            notificationToCancel    =   aNotif;
            [[UIApplication sharedApplication] cancelLocalNotification:notificationToCancel];
            NSLog(@"Notification Cancelled");
            break;
        }
    }

} 
```

希望您能从中受益。祝你好运

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T08:24:11.060

要设置日期和时间，您必须使用 NSDateComponents 并实例化 NSDate 两次。一个用于当前日期，另一个将是您想要的日期。将所需的 NSDate 实例设置为 UILocalNotification 对象的 fireDate。

```
eventLocalNotification.fireDate = desiredDate; 
```

对于时区，将其保持为默认设置。

```
eventLocalNotification.timeZone = [NSTimeZone defaultTimeZone]; 
```

警报主体可以是任何东西，只需输入您的上下文即可。

```
eventLocalNotification.alertBody = @"DESIRED CONTEXT"; 
```

# iphone - 无法控制 NSFetchedResultsController

> ID：13620693
> 
> 赞同：0
> 
> 时间：2012-11-29T07:19:35.830
> 
> 标签：iphone, ios, core-data

完成更新后我需要触发获取请求控制器。他们有什么方法可以控制这一点。

原因是某些父实体具有称为“图像”的子实体。这用于存储图像。此图像单独下载。

由于这个原因，当获取请求控制器触发（图像下载未完成）时，我无法获取图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:31:50.850

通过调用 performFetch 请求 fetchedResultsController 重新获取。

```
NSError *error;
[self.fetchedResultsController performFetch:&error]; 
```

# asp.net - 托管在 Java EE 配置目录上的 ASP.NET 应用程序

> ID：13620695
> 
> 赞同：1
> 
> 时间：2012-11-29T07:19:39.000
> 
> 标签：asp.net, jakarta-ee, publishing

我们的一位客户有一个 Java EE 应用程序。我们想使用 ASP.NET/C# 开发一个新项目，方法是将应用程序托管为该 Java EE 项目下的子目录。

我的问题是：

1.  .NET 应用程序会顺利运行吗？
2.  在向客户做出承诺之前，我需要记住什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:26:21.413

您构建项目的方式根本不会影响应用程序的行为。但是最后，每个已编译和未编译的资源都需要正确配置到其适当的 Web 服务器，您根本不应该有任何问题。IIS 有自己的目录，而 Tomcat（或您使用的任何东西）将有自己的目录。让他明白，如果项目根本不相关，那么在单个根文件夹中共享项目是没有意义的。

使它们交互的唯一方法是通过您可以在这两种技术中的任何一种中编排的服务和队列。

***更新***

让我们假设：

您正在使用两个 Web 服务器的默认值：您的 IIS 需要将您的应用程序复制到 c:\inetpub 文件夹，而 tomcat 使用 $CATALINA_BASE 系统变量来定位它们自己的文件夹。这根本不是问题。

现在，假设您的客户在 tomcat 和 iis 中选择了相同的文件夹作为您网站的根目录（顺便说一句，维护决策非常糟糕）您还可以通过两个文件夹来分隔两个环境：JAVA 和 DOTNET

现在假设您的客户端不接受任何逻辑建议，并且您必须合并 java 文件和 aspx 文件，从技术上讲不会有任何问题，因为每个 Web 服务器将处理非常不同的问题的请求，但是，如果您也是使用相同的资源，假设在两个页面中都使用了一张图片，您将遇到文件锁定问题，您的 iis 只能响应自己的行为，而 tomcat 只会响应自己的行为。

所以总而言之，从技术上讲它可以工作，性能会影响你的硬盘，这完全取决于每个应用程序的请求负载，但总的来说这是一个糟糕的基础架构设计。

希望能帮助到你，

# ruby-on-rails - Cancan 和 rails_admin 的设计问题

> ID：13620702
> 
> 赞同：0
> 
> 时间：2012-11-29T07:20:10.150
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2

所以我用 devise 和 cancan 设置了 rails_admin，我有它，所以只有管理员可以访问 /admin 页面。

但是当试图只向管理员显示某些代码时，`<% if user_admin? %>`我得到`undefined method`了 user_admin？为`

**能力.rb**

类能力包括 CanCan::Ability

```
 def initialize(user)
      user ||= User.new # guest user (not logged in)
      if user.admin?
        can :manage, :all
        can :access, :rails_admin #grant access to rails_admin
        can :dashboard #gives access to the dashboard

      else
        can :read, :all
      end
  end
end 
```

**_header.html.erb**

```
 <% if user_admin? %>
 <li><%= link_to 'Settings', edit_user_registration_path %></li>
 <li><%= link_to 'Logout', destroy_user_session_path, method: :delete %></li>
 <% else %>
 <li><%= link_to "Create Account", new_user_registration_path %></li>
 <li><%= link_to "Login", new_user_session_path %></li>
 <% end %> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-01T00:28:02.810

我需要在ability.rb中设置能力

```
class Ability
  include CanCan::Ability

  def initialize(user)
      user ||= User.new # guest user (not logged in)
      if user.admin?
        can :manage, :all
        can :access, :rails_admin #grant access to rails_admin
        can :dashboard #gives access to the dashboard

      else
        can :read, :all
      end
  end
end 
```

然后就可以打电话了

```
 <% if can? :access, :rails_admin %>
  <li><%= link_to 'Admin', rails_admin_path %></li>
  <% end %> 
```

如果可以，我现在可以做什么？我想授权的任何事情。

# php - trigger_error 是否中断脚本？

> ID：13620705
> 
> 赞同：10
> 
> 时间：2012-11-29T07:20:35.377
> 
> 标签：php

在运行时，日志文件包含我设置为参数的消息`trigger_error`。之后页面是空白的！之后是否可以继续执行代码`trigger_error`？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-29T07:21:59.290

不，[`trigger_error()`](http://php.net/manual/en/function.trigger-error.php)除非您将第二个参数作为`E_USER_ERROR`. 默认情况下，它会触发警告。通话后的某个时候，您一定会遇到错误。

触发警告：

```
trigger_error("CTest message"); // defaults to E_USER_NOTICE 
```

触发致命错误：

```
trigger_error("Test message", E_USER_ERROR); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-29T07:24:38.490

这取决于您传递给[`trigger_error()`](http://php.net/trigger_error)函数的第二个参数`$error_type`, 是什么。有些会显示错误并停止执行，有些会显示错误并继续（注意，显示也基于您的`error_reporting`设置`display_errors`）。

例如，如果您调用：

```
trigger_error('This is an error', E_USER_ERROR); 
```

您的脚本将停止执行。

但是，如果您致电：

```
trigger_error('This is a warning', E_USER_WARNING); 
```

您的脚本不会停止。

默认情况下，`trigger_error()`使用`E_USER_NOTICE`which 不会停止执行。

可以在[此处](http://php.net/manual/en/errorfunc.constants.php)找到错误类型的完整列表。

# android - 如何将数据从活动传递到片段

> ID：13620711
> 
> 赞同：8
> 
> 时间：2012-11-29T07:20:49.670
> 
> 标签：android, android-fragments

我在将数据从活动传递到其中的片段时遇到了一些问题。我四处寻找，但没有找到适合我情况的答案。我有 2 个名为`CurrentFragment.java`和的片段类`HistoryFragment.java`。我将它们初始化为 Activity 中的选项卡。

```
 Tab tab = actionBar.newTab()
            .setText(R.string.tab_current)
            .setTabListener(new TaskitTabListener<CurrentFragment>(
                    this, "current", CurrentFragment.class));
    actionBar.addTab(tab);

    tab = actionBar.newTab()
            .setText(R.string.tab_history)
            .setTabListener(new TaskitTabListener<HistoryFragment>(
                    this, "history", HistoryFragment.class));
    actionBar.addTab(tab); 
```

我被告知要`setArguments`在活动和`getArguments`片段中使用。但是在这种情况下，我如何在 Activity 中获取片段对象？我不能使用`getFragmentManager().findFragmentById()`，因为片段是以编程方式添加的。

另外，我发现一些帖子说我可以`getActivity()`在片段中使用来访问 Activity 容器中的数据，但对我来说它一直返回 null。有没有人有一个可行的例子？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-29T07:34:05.743

[编辑] 我已经更新了我的答案，以更好地回答你的问题。

您还可以通过标签检索片段`getFragmentManager().findFragmentByTag("tag")`。但请注意，如果尚未查看该选项卡，则该片段将不存在。

```
CurrentFragment curFrag = (CurrentFragment)
    getFragmentManager().findFragmentByTag("current");
if(curFrag == null) {
    // The user hasn't viewed this tab yet
} else {
    // Here's your data is a custom function you wrote to receive data as a fragment
    curFrag.heresYourData(data)
} 
```

如果您希望片段从活动中提取数据，请让您的活动实现片段定义的接口。在片段的`onAttach(Activity activity)`生命周期函数中，您可以访问创建片段的活动，以便您可以将该活动转换为您定义的接口并进行函数调用。为此，请像这样将接口放入您的片段中（如果您想在多个片段之间共享相同的接口，您也可以将接口设为自己的文件）：

```
public interface DataPullingInterface {
    public String getData();
} 
```

然后在你的活动中实现接口，如下所示：

```
public class MyActivity extends Activity implements DataPullingInterface {
    // Your activity code here
    public String getData() {
        return "This is my data"
    }
} 
```

最后，`onAttach(Activity activity)`在 CurrentFragment 中的方法中，将您收到的活动转换为您创建的接口，以便您可以调用这些函数。

```
private DataPullingInterface mHostInterface;
public void onAttach(Activity activity) {
    super.onAttach(activity);
    if(D) Log.d(TAG, "onAttach");
    try {
        mHostInterface = (DataPullingInterface) activity;
    } catch(ClassCastException e) {
        throw new ClassCastException(activity.toString() + " must implement DataPullingInterface");
    }
    String myData = mHostInterface.getData();           
} 
```

# c# - 从数据库传递字符串值填充下拉列表

> ID：13620712
> 
> 赞同：-1
> 
> 时间：2012-11-29T07:20:52.610
> 
> 标签：c#, asp.net, drop-down-menu

我需要从传递字符串值的数据库中填充下拉值。这里我刚从数据库中填充数据集，但它没有绑定，因此我无法正确填充下拉列表并从下拉列表中选择项目。

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!Page.IsPostBack)
    {
        string strCreatedId = string.Empty;
        strCreatedId = "2";
        fillgroupname(id_ddlgroupname,strCreatedId);
    }

}

 public void fillgroupname(DropDownList id_ddlgroupname, string strCreatedId)
{
    DataSet dsgroup = new DataSet();
    dsgroup = objUser.GetFillGroup(strCreatedId);
    if (dsgroup.Tables.Count > 0)
    {
        if (dsgroup.Tables[0].Rows.Count > 0)
        {
            this.id_ddlgroupname.DataSource = dsgroup;
            this.id_ddlgroupname.DataTextField = "c_group_name";
            this.id_ddlgroupname.DataValueField = "c_group_name";
            this.id_ddlgroupname.DataBind();
            this.id_ddlgroupname.Items.Insert(0, "--Select--");
        }
    } 
```

我将上传显示的图像。图片1： ![当页面加载时，我会得到这样的下拉列表](../Images/54ae403fa4ad85a9d64513f614b97057.png)

图片2： ![当我单击下拉列表以选择值时](../Images/8cefcee34eab3dc57129e74dc5eb5f15.png)

图片3：![在这里我无法选择项目，它将禁用下拉菜单](../Images/7cda34a322ccd002ccda7b3758bd3331.png)

像这样我面临的下拉问题我无法知道我哪里出错了。请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:30:04.690

使用此代码

```
public void fillgroupname(DropDownList id_ddlgroupname, string strCreatedId)
{
DataSet dsgroup = new DataSet();
dsgroup = objUser.GetFillGroup(strCreatedId);

id_ddlgroupname.DataSource = dsgroup;
id_ddlgroupname.DataTextField = "c_group_name";
id_ddlgroupname.DataValueField = "c_group_name";
id_ddlgroupname.DataBind();
ListItem li = new ListItem("--Select--","0");
id_ddlgroupname.Items.Insert(0, li);
} 
```

这对我有用，我希望它对你有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T09:56:16.767

对不起。我解决了我的问题，这是我使用 jquery 进行验证时的问题。

# python - 使用指针的 h5py 对称数组

> ID：13620719
> 
> 赞同：1
> 
> 时间：2012-11-29T07:21:20.293
> 
> 标签：python, arrays, symmetric, h5py

我一直在寻找一种方法来创建最终对称的自定义 h5py 数组。理想情况下，它将是一个数组，这样当它被创建时有一个单一的值`a[i][j]`并`a[j][i]`指向。这样做的原因是我会将一个大距离向量写入一个方形矩阵。向量和方阵太大而无法保存在内存中，所以我想要一个相对快速的解决方案来创建方阵。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-27T15:15:57.280

我建议使用一些额外的逻辑来执行此操作，使用一维数组来存储矩阵的上三角形。将 1D 数组中的索引映射到 2D 数组中，如下所示：

```
[[0  1  2  3 ]
 [x  4  5  6 ]
 [x  x  7  8 ]
 [x  x  x  9 ]] 
```

您可以为此编写一个函数：

```
from __future__ import division
def tri_ravel_factory(n_cols):
    def tri_ravel(j, k):
        assert j < n_cols, 'j out of range'
        assert k < n_cols, 'j out of range'
        assert j >= 0, 'j out of range'
        assert k >= 0, 'j out of range'        
        if k < j:
            j, k = k, j
        #return sum(n_cols - tmp for tmp in range(0, j)) + (k - j)
        return j * n_cols - (j * (j-1))//2 + (k-j)
    return tri_ravel

test_ravel = tri_ravel_factory(4)
indx = test_ravel(1, 0) 
```

这只会让你变成两倍。使用稀疏数组可能会更好，即时计算所需的距离，或者找到一种不必计算大部分距离的方法（例如，如果您只关心与 配对`distance < r`）。

# xslt - 如果子元素的属性与给定值匹配，则删除 XML 节点

> ID：13620725
> 
> 赞同：1
> 
> 时间：2012-11-29T07:21:37.497
> 
> 标签：xslt

我是 xslt 的新手，如果其中一个子元素属性值与特定字符串匹配，我需要从 xml 文件中删除整个节点。输入xml文件如下：

```
 <?xml version="1.0" encoding="UTF-8"?>
    <gpm xmlns="http://www.airbus.com/topcased/gPM" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.airbus.com/topcased/gPM">
    <version>1.2</version>
        <version>1.2</version>
<filters>
  <sheetFilter description=" " labelKey="Liste de distribution" hidden="false">
    <userLogin>TO44452</userLogin>
    <resultSummary>
      <fieldResult name="DL_NAME"/>
      <fieldResult name="DL_USERS"/>
      <fieldResult name="$SHEET_STATE"/>
    </resultSummary>
    <scope>
      <productScope name="$CURRENT_PRODUCT" includeSubProducts="false"/>
    </scope>
    <containers>
      <sheetTypeRef name="DistributionList"/>
    </containers>
  </sheetFilter>
  <sheetFilter .../>
          ....
        </filters>
    </gpm> 
```

如果元素的名称属性与特定值匹配，我必须删除整个节点。

我使用的 xslt 文件是：

```
<?xml version="1.0" encoding="UTF-8"?>

<xsl:stylesheet version="1.1"
    xmlns="http://www.airbus.com/topcased/gPM"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:gpmns="http://www.airbus.com/topcased/gPM"
    exclude-result-prefixes="gpmns">

    <xsl:output method="xml" encoding="UTF-8" indent="yes" />

    <!-- Delete extra blank lines -->
    <xsl:strip-space elements="*"/>

    <!-- template for any attribute node, copy  -->
    <xsl:template match="*|@*" name="copy_all">
        <xsl:copy disable-output-escaping="yes">
            <xsl:apply-templates select="@*"/>
            <xsl:apply-templates select="node()"/>
        </xsl:copy>
    </xsl:template>

        <xsl:template match="gpmns:sheetTypeRef[@name = 'DL']">
        <xsl:apply-templates match="gpmns:sheetFilter"/>
        </xsl:template> 
</xsl:stylesheet> 
```

我得到的转变是：

```
<?xml version="1.0" encoding="UTF-8"?>
<gpm xmlns="http://www.airbus.com/topcased/gPM" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.airbus.com/topcased/gPM">
<version>1.2</version>
<filters>
<sheetFilter description=" " labelKey="Liste de distribution" hidden="false">
<userLogin>TO44452</userLogin>
<resultSummary>
<fieldResult name="DL_NAME"/>
<fieldResult name="DL_USERS"/>
<fieldResult name="$SHEET_STATE"/>
</resultSummary>
<scope>
<productScope name="$CURRENT_PRODUCT" includeSubProducts="false"/>
</scope>
<containers/>
</sheetFilter>
<sheetFilter ..... /> 
```

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:37:22.580

至少有两种可能性来管理它：

```
<xsl:apply-templates select="filters/sheetFilter"/>

<xsl:template match="filters/sheetFilter[containers/sheetTypeRef/@name != 'DL']">
    … your output goes here …
</xsl:template> 
```

或者

```
<xsl:apply-templates select="filters/sheetFilter[containers/sheetTypeRef/@name != 'DL']"/>

<xsl:template match="filters/sheetFilter">
    … your output goes here …
</xsl:template> 
```

取决于你的目的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T05:51:49.867

最后我能够找到如下解决方案：可能对某些人有用。

```
<xsl:template match="sheetFilter[*/sheetTypeRef[@name='DistributionList']]"/> 
```

感谢罗迪翁的建议。

苏珊

# ruby - RSpec - 在调用方法时检查条件？

> ID：13620727
> 
> 赞同：0
> 
> 时间：2012-11-29T07:21:45.293
> 
> 标签：ruby, rspec

现在我断言调用了一个方法：

代码：

```
def MyClass
  def send_report
    ...
    Net::SFTP.start(@host, @username, :password => @password) do |sftp|
      ...
    end
    ...
  end
end 
```

测试：

```
it 'successfully sends file' do
  Net::SFTP.
    should_receive(:start).
    with('bla.com', 'some_username', :password => 'some_password')

  my_class.send_report
end 
```

但是，我还想在调用 Net::SFTP.start 时检查给定条件是否为真。我该怎么做这样的事情？

```
it 'successfully sends file' do
  Net::SFTP.
    should_receive(:start).
    with('bla.com', 'some_username', :password => 'some_password').
    and(<some condition> == true)

  my_class.send_report
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:34:06.007

您可以向 提供一个块`should_receive`，该块将在调用该方法时执行：

```
it 'sends a file with the correct arguments' do
  Net::SFTP.should_receive(:start) do |url, username, options|
    url.should == 'bla.com'
    username.should == 'some_username'
    options[:password].should == 'some_password'
    <some condition>.should be_true
  end

  my_class.send_report
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:28:45.220

你可以使用期望

```
it 'successfully sends file' do

Net::SFTP.
    should_receive(:start).
    with('bla.com', 'some_username', :password => 'some_password')

  my_class.send_report
end

it 'should verify the condition also' do
  expect{ Net::SFTP.start(**your params**)  }to change(Thing, :status).from(0).to(1)  
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:51:55.177

谢谢@rickyrickyrice，你的回答*几乎*是正确的。问题是它没有验证传递给`Net::SFTP.start`. 这是我最终使用的：

```
it 'sends a file with the correct arguments' do
  Net::SFTP.should_receive(:start).with('bla.com', 'some_username', :password => 'some_password') do
    <some condition>.should be_true
  end

  my_class.send_report
end 
```

# java - 测试控制器方法时出现 NullpointerException

> ID：13620731
> 
> 赞同：0
> 
> 时间：2012-11-29T07:22:03.603
> 
> 标签：java, testing, junit, jmock

这是我将要使用 JUnit 和 JMock 测试的控制器方法。

```
public String myMethod(ModelMap model, Principal principal,
                        @PathVariable MyObject obj) {
  if (obj != null) {
    Student student = getStudent(principal);
    if (check(obj, student)) {
      model.addAttribute(student).addAttribute(obj);
      return "page";
    }
  }
  return REDIR;
}

private boolean check(MyObject obj, Student student) {
  return student.getStudentNumber().longValue() == obj.getStudent().getStudentNumber().longValue();
} 
```

我的测试

```
final StudentService studentService = context.mock(StudentService.class);

public void test() throws Exception {
  ModelMap model = new ModelMap();
  final MyObject = new myObject();

  context.checking(new Expectations() {
    {
      oneOf(studentService).getByNumber(SecurityHelper.getStudentNumberOf(Helper.getTestPrincipal()));
      will(returnValue(mockStudent));
    }
  });

  controller.myMethod(model, Helper.getTestPrincipal(), obj);
} 
```

运行测试时，我得到了一个`NullPointerExeption`指向检查方法的点。知道这是从哪里来的吗？是因为我缺乏期待吗？Student 和 obj 不是可模拟的接口。我是新手。跟踪此类测试错误的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T09:49:16.103

如果我理解正确，这是引发异常的行：

```
return student.getStudentNumber().longValue() == obj.getStudent()
    .getStudentNumber().longValue(); 
```

所以异常可能来自几个地方：

1.  `studen`或`obj`为空。
2.  `student.getStudentNumber()`返回空值。
3.  `obj.getStudent()`返回空
4.  `obj.getStudent().getStudentNumber()`返回空值。

对所有这些语句执行 System.out 并查看哪个为空。

# java - CSRFGuard 和保护电子邮件中发送的页面链接

> ID：13620732
> 
> 赞同：1
> 
> 时间：2012-11-29T07:22:05.360
> 
> 标签：java, csrf, owasp

我们实现了 OWASP 的 CSRFGuard 来保护我们在 Web 应用程序中的页面。例如 */myCsrfProtected.jsp。我们在应用程序中所有出现的 */myCsrfProtected.jsp 处都注入了 CSRF 令牌。一切正常。

但是，我们还有其他用例，其中指向此受保护页面的链接通过电子邮件发送给用户。想想报告的链接。现在，当用户单击此链接时，令牌丢失或无效，因此 CSRFGuard 过滤器会阻止请求，假设这是 CSRF 攻击。（这是为:-) 实施的过滤器）

有没有办法处理这个用例并允许从应用程序外部访问受 CSRF 保护的页面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:38:12.527

理想情况下，CSRF 令牌检查只需要对 POST 请求执行。GET 请求应该是幂等的（（对服务器没有副作用，只返回一些数据，没有代表用户执行的事务）。

如果您只想在用户单击链接时返回报告，您可能不需要执行 csrf 检查。您可能仍希望确保用户已获得授权。您应该能够通过此请求的 CSRF 检查

# java - XML解析/JAVA

> ID：13620736
> 
> 赞同：-3
> 
> 时间：2012-11-29T07:22:29.860
> 
> 标签：java, xml, parsing

例如，我有一个 XML

```
<root>
 <config x="xxx" y="yyyy" z="zzz" />
 <properties>blah blah blah </properties>   
 <example>
   <name>...</name>
   <decr>...</descr>
 </example> 
 <example>
   <name>...</name>
   <decr>...</descr>
 </example> 
</root> 
```

我需要获取节点配置、属性和其中的所有值。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:30:00.577

Xpath 可以获取配置标签中的数据。您需要首先创建一个表达式，例如这个表达式="//root/config/@x"，以获取 x,y,z 的值。对于属性，请遵循此线程： [Parsing XML with XPath in Java](https://stackoverflow.com/questions/340787/parsing-xml-with-xpath-in-java)

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:27:58.367

DOM，DOM4J，SAX..

如果 XML 文件很小，你可以使用 DOM 或 DOM4J，但是文件很大，你使用 SAX

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T07:42:36.360

如果您直接想查询或获取数据 XPath 可以提供帮助，但如果您希望将数据作为 Java 对象以便您可以进一步使用它，那么请使用**JAXB**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T08:23:51.823

您可以使用 SAX 解析器读取 xml 操作其基于事件的解析并消耗更多内存。如果您的 xml 很大并且需要大量操作，那么选择 DOM/DOM4j 都很好。DOM4L 是最新的。DOM 广泛应用于工业领域。

根据您的要求，选择好的解析器。

谢谢，帕万

# ios - 如何知道放大镜在 UITextView 中被关闭

> ID：13620737
> 
> 赞同：1
> 
> 时间：2012-11-29T07:22:31.783
> 
> 标签：ios, text, uitextview

我想知道UITextView的selecedRange，我用的是委托方法testViewDidChangeSelection。问题是这个方法只在我更改选择时调用，但是如果我点击并按住 textView，放大镜会出现并且还会选择一些文本而不调用这个函数。就我而言，我的文本视图不可编辑，用户只能选择和复制。我想知道我怎样才能知道放大镜被关闭，以便我可以得到选定的文本信息。或者有没有其他方法可以实现这一目标？

感谢帮助我分析这个问题的人，终于找到了解决方案。我真正的问题是当我旋转我的设备时，选择丢失了。在旋转过程中，我重绘了 textView 并重置了它的文本。当我们重置 UItextview 的文本时，它的属性 selectedRange 也会被重置，这就是选择丢失的原因。谢谢 jimpic 和 NobleK :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-04T08:50:28.120

感谢帮助我分析这个问题的人，终于找到了解决方案。我真正的问题是当我旋转我的设备时，选择丢失了。在旋转过程中，我重绘了 textView 并重置了它的文本。当我们重置 UItextview 的文本时，它的属性 selectedRange 也会被重置，这就是选择丢失的原因。谢谢 jimpic 和 NobleK :)

# windows - CMD 正则表达式

> ID：13620739
> 
> 赞同：1
> 
> 时间：2012-11-29T07:22:38.743
> 
> 标签：windows, command-line

我正在尝试使用正则表达式创建一个命令行（或 .bat 文件），该正则表达式必须用（单个空格字符）替换 *（多个空格字符）。仅用一个空格字符替换多个空格字符。在 Unix 中，我们可以使用 sed。但是在我们的情况下这是不可能的，并且安装 sed 不是一种选择。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:21:00.343

```
@echo off
set file_name_with_spaces="_ file    name   _.txt"

rem --- '?' is forbidden in file names ---
set file_name_with_no_spaces=%file_name_with_spaces: =?%
echo %file_name_with_no_spaces%

rem --- we need to to replace the quewstion marks that have primer numbers count and their modulus --
set file_name_with_no_spaces=%file_name_with_no_spaces:??=?%
set file_name_with_no_spaces=%file_name_with_no_spaces:???=?%
set file_name_with_no_spaces=%file_name_with_no_spaces:?????=?%
set file_name_with_no_spaces=%file_name_with_no_spaces:???????=?%
set file_name_with_no_spaces=%file_name_with_no_spaces:????????????=?%
set file_name_with_no_spaces=%file_name_with_no_spaces:???????=?%
set file_name_with_no_spaces=%file_name_with_no_spaces:???????=?%
set file_name_with_no_spaces=%file_name_with_no_spaces:???=?%
set file_name_with_no_spaces=%file_name_with_no_spaces:??=?%

set file_name_with_single_spaces=%file_name_with_no_spaces:?= %
rem ---  ---

echo %file_name_with_single_spaces%
ren %file_name_with_spaces% %file_name_with_single_spaces% 
```

这在大多数情况下应该可以工作。如果你的文件有很多空格，你需要添加更多`?` 的表达式（也可以插入 for 循环，但这更容易:-)）。

# windows-8 - 有关设置 Windows 8 Monogame 项目的最新说明是什么？

> ID：13620742
> 
> 赞同：2
> 
> 时间：2012-11-29T07:22:59.350
> 
> 标签：windows-8, xna, visual-studio-2012, monogame

我无法遵循 MonoGame 为构建 Windows 8 应用程序提供的所有“教程”和“文档”。设置已过时，因为目录不再匹配。我用最新的二进制文件安装了 MonoGame，我可以在 VS 2012 中访问 Windows 8 模板。我实际上可以很好地使用图像并编译并完成大量工作，但是在我跟随之后音频和 spritefonts 不起作用如文档所述，从 VS2010 导入 xnb 文件。另外，是否有任何 Windows8 Monogame 示例？我找不到一个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T22:36:25.110

你可以试试 Bob Familiar 的这篇文章：

*   [http://blogs.msdn.com/b/bobfamiliar/archive/2012/08/02/windows-8-xna-and-monogame-part-2-getting-started.aspx](http://blogs.msdn.com/b/bobfamiliar/archive/2012/08/02/windows-8-xna-and-monogame-part-2-getting-started.aspx)

请注意 Dave Voyles 的一些帖子评论，指出自原始帖子以来的一些名称更改。

至于 Windows 8 的 MonoGame 示例，[该系列的第三篇文章](http://blogs.msdn.com/b/bobfamiliar/archive/2012/08/07/windows-8-xna-and-monogame-part-3-code-migration-and-windows-8-feature-support.aspx)恰好有一个创建井字游戏的演练。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T19:24:36.787

MonoGame 3.0 稳定版于 1 月 21 日星期一发布，其中包括一个 Windows 安装程序，它将安装 Visual Studio 2010 和 Visual Studio 2012 的所有 MonoGame 模板，而无需从 GitHub 关闭 MonoGame 3.0 分支。安装程序可以在这里找到：http: [//monogame.codeplex.com/downloads/get/601094](http://monogame.codeplex.com/downloads/get/601094)

如果您需要分步说明，请查看我的帖子：http: [//blogs.msdn.com/b/tarawalker/archive/2012/12/04/windows-8-game-development-using-c-xna-and -monogame-3-0-building-a-shooter-game-walkthrough-part-1-overview-installation-monogame-3-0-project-creation.aspx](http://blogs.msdn.com/b/tarawalker/archive/2012/12/04/windows-8-game-development-using-c-xna-and-monogame-3-0-building-a-shooter-game-walkthrough-part-1-overview-installation-monogame-3-0-project-creation.aspx)

这是构建 Windows 8 XNA MonoGame 的分步教程，其中还包括 .xnb 文件。如果您需要内容处理器来支持不同纹理、字体、声音等的跨平台支持。请查看 MonoGame wiki 关于其 monogame.net 站点上的内容处理/处理器的内容。抱歉，我无法提供指向内容处理器信息的链接，StackOverflow 不允许我以新用户的身份发布超过 2 个链接。

# line - 如果当前一个返回 404，我如何让 python 尝试我文件中的下一个 URL？

> ID：13620743
> 
> 赞同：0
> 
> 时间：2012-11-29T07:23:13.463
> 
> 标签：line, beautifulsoup, mechanize, next

我在弄清楚我需要创建什么代码以使 python 在我的 csv 文件中尝试下一个 url 时遇到问题，每个 url 都在这样的一行上：

* * *

[http](http://www.indexedamerica.com/states/PR/Adjuntas/Restaurants-Adjuntas-00601.html) : //www.indexedam​​erica.com/states/PR/Adjuntas/Restaurants-Adjuntas-00601.html http://www.indexedam​​erica.com/states/PR/Aguada/Restaurants-Aguada-00602.html [http:// www.indexedam​​erica.com/states/PR/Aguadilla/Restaurants-Aguadilla-00603.html](http://www.indexedamerica.com/states/PR/Aguadilla/Restaurants-Aguadilla-00603.html) http: //www.indexedam ​​erica.com/states/PR/Aguadilla/Restaurants-Aguadilla-00604.html [http://www.indexedam​​erica。 com/states/PR/Aguadilla/Restaurants-Aguadilla-00605.html](http://www.indexedamerica.com/states/PR/Aguadilla/Restaurants-Aguadilla-00605.html) http ://www.indexedam​​erica.com/states/PR/Maricao/Restaurants-Maricao-00606.html http [://www.indexedam ​​erica.com/states/ MI/Kent/Restaurants-Grand-Rapids-49503.html](http://www.indexedamerica.com/states/MI/Kent/Restaurants-Grand-Rapids-49503.html)

* * *

```
#open csv file
#read csv file line by line
#Pass each line to beautiful soup to try
#If URL raises a 404 error continue to next line
#extract tables from url

from mechanize import Browser
from BeautifulSoup import BeautifulSoup
import csv

mech = Browser()
indexed = open('C://python27/longlist.csv')
reader = csv.reader(indexed)
html = mech.open(reader)

for line in html:
    try:
        mechanize.open(html)
        table = soup.find("table", border=3)
else:
#!!!! try next url from file. How do I do this?

for row in table.findAll('tr')[2:]:
    col = row.findAll('td')
    BusinessName = col[0].string
    Phone = col[1].string
    Address = col[2].string
    City = col[3].string
    State = col[4].string
    Zip = col[5].string
    Restaurantinfo = (BusinessName, Phone, Address, City, State)
print "|".join(Restaurantinfo) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T14:46:12.497

```
for line in html:
    try:
        mechanize.open(html)
        table = soup.find("table", border=3)
    except Exception:
        continue 
```

或者，您可以检查页面的状态代码，如果收到 404（在 for 循环中）则跳过：

```
if urllib.urlopen(url).getcode() == '404':
    continue 
```

`continue`在循环中，停止执行进一步的代码并继续循环中的下一个条目。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:32:15.810

将要搜索的所有 url 添加到列表中。然后遍历列表，依次打开每个 url。如果给定的 url 返回任何类型的错误，那么您可以选择使用 continue 忽略该 url 文件并继续下一个。

# java - 需要帮助根据选定的树节点触发 helpKey F1 JavaHelp (Eclipse-Java)

> ID：13620745
> 
> 赞同：3
> 
> 时间：2012-11-29T07:23:27.017
> 
> 标签：java, eclipse, treenode, javahelp

我需要有关 JavaHelp 的帮助。上下文相关的帮助提供窗口级、字段级（如传递组件）。

但是当用户从树节点（应用程序内置：Eclipse）按下 HelpKey F1 或 JavaHelp 按钮时，我需要激活 JavaHelp。由于树节点不是组件，所以不能直接调用 enableHelpKey 或 enableHelpOnButton。此外，我需要根据选定的树节点打开选定的 JavaHelp 内容（例如有 3 个节点课件：科学、数学、英语）

非常感谢您的想法和帮助。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-05-24T08:33:04.920

树节点不是 JComponent，但它们托管在 JTree 或其他 JComponent (JPanel) 中。我会尝试向 JTree 添加选择侦听器并调整 JTree 或 JPanel 的帮助主题。

# java - 使用 cloudify 时在哪里存储凭据

> ID：13620747
> 
> 赞同：1
> 
> 时间：2012-11-29T07:23:41.207
> 
> 标签：java, security, cloud, credentials, cloudify

我开始使用`cloudify`并本着我希望将密码存储在安全和集中的地方`DevOps`的精神。 在我看来，我应该将凭据放在相关服务的文件中，但是对纯密码进行版本控制似乎是一个坏主意，而不是版本控制似乎也是一个坏主意（未版本化的代码）。 `infrastructure is code`
`.properties`

我知道`chef`有`encrypted data bags`，我想知道是否`cloudify`有类似的东西？如果没有，我应该注意不同的最佳实践吗？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-29T11:57:36.910

随着即将发布的 Cloudify 2.3.0 版本，您将能够在 install-* 命令行中为属性设置添加覆盖。因此，您的配方应该包含一个带有默认密码（可能为空）的属性文件。这个密码实际上不应该做任何事情。

实际安装服务时，请使用覆盖来设置实际密码。这会将明文密码保留在版本化属性文件之外。

# function - VBScript 中的 MsgBox "" vs MsgBox()

> ID：13620748
> 
> 赞同：30
> 
> 时间：2012-11-29T07:23:42.653
> 
> 标签：function, vbscript

我正在尝试编写一个 VBScript，我正在使用诸如 Randomize 和 MsgBox 之类的函数。我很好奇使用 () 和不使用它们有什么区别。例如：

`Randomize`- 这条线有效。

`Randomize()`- 这条线也有效。

`MsgBox "Hello world!"`- 这行得通。

`MsgBox ("Hello world!")`- 这也有效。

该脚本将在具有不同 Windows 版本（至少 Windows XP）的多台机器上运行。我想知道在使用这些函数时是否会遇到任何兼容性/语法问题。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-11-29T09:17:07.050

一段可调用的代码（例程）可以是 Sub（调用副作用/它的作用）或 Function（调用它的返回值）或两者的混合。作为 MsgBox 的文档

> 在对话框中显示一条消息，等待用户单击按钮，并返回一个值，指示用户单击了哪个按钮。
> 
> MsgBox(提示[, 按钮][, 标题][, 帮助文件, 上下文])

表明，这个程序是第三种。

VBScript 的语法规则很简单：

**调用(routine as a)函数时使用参数list()**

如果您想向用户显示消息并且需要知道用户的回复：

```
Dim MyVar
MyVar = MsgBox ("Hello World!", 65, "MsgBox Example")
   ' MyVar contains either 1 or 2, depending on which button is clicked. 
```

**调用 (routine as a) Sub 时不要使用参数列表 ()**

如果您想向用户显示消息并且对响应不感兴趣：

```
MsgBox "Hello World!", 65, "MsgBox Example" 
```

这种美丽的简单性被以下因素搞砸了：

将 () 用于参数列表和强制按值调用语义的设计缺陷

```
>> Sub S(n) : n = n + 1 : End Sub
>> n = 1
>> S n
>> WScript.Echo n
>> S (n)
>> WScript.Echo n
>>
2
2 
```

S (n) 并不是“用 n 调用 S”，而是“用 n 的值的副本调用 S”。程序员看到了

```
>> s = "value"
>> MsgBox(s) 
```

当他们尝试时，“作品”会让人大吃一惊：

```
>> MsgBox(s, 65, "MsgBox Example")
>>
Error Number:       1044
Error Description:  Cannot use parentheses when calling a Sub 
```

编译器对 Sub 调用中的 empty() 的宽大处理。可以通过以下方式调用“纯”子随机化（称为设置随机种子的副作用）

```
Randomize() 
```

尽管 () 既不能表示“给我你的返回值”也不能表示“按值传递”。这里更严格一点会迫使 prgrammers 意识到

```
Randomize n 
```

和

```
Randomize (n) 
```

在 Sub 调用中允许参数 list() 的 Call 语句：

> > s = "value" 调用 MsgBox(s, 65, "MsgBox Example")

这进一步鼓励程序员不假思索地使用 ()。

（基于[你的意思是“不能使用括号？”](http://blogs.msdn.com/b/ericlippert/archive/2003/09/15/52996.aspx)）

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-11-29T08:51:09.917

据我所知，这些是在 VBScript 中调用子例程和函数的规则：

*   调用丢弃返回值的子例程或函数时，不要使用括号
*   调用分配或使用返回值的函数时，将参数括在括号中
*   使用`Call`关键字调用子例程时，将参数括在括号中

由于您可能不会使用`Call`关键字，因此您只需要了解**如果您调用函数并想要分配或使用返回值，则需要将参数括在括号中的规则。否则，请勿使用括号。**

这里有些例子：

*   `WScript.Echo 1, "two", 3.3`- 调用子程序

*   `WScript.Echo(1, "two", 3.3)`- 语法错误

*   `Call WScript.Echo(1, "two", 3.3)`- 关键字`Call`需要括号

*   `MsgBox "Error"`- 调用一个函数“像”一个子程序

*   `result = MsgBox("Continue?", 4)`- 调用使用返回值的函数

*   `WScript.Echo (1 + 2)*3, ("two"), (((3.3)))`- 调用一个子例程，其中参数由包含括号的表达式计算（请注意，如果在参数列表中用括号括起变量，它会将行为从引用调用更改为按值调用）

*   `WScript.Echo(1)`- 显然这是一个使用括号的子例程调用，但实际上参数只是表达式`(1)`，这往往会使习惯于其他编程语言的人感到困惑，在调用子例程时必须指定括号

*   我不确定如何解释您的示例，`Randomize()`. `Randomize`是一个接受单个可选参数的子例程，但即使子例程没有任何参数，也可以使用空括号对调用它。似乎 VBScript 解析器对空参数列表有一个特殊规则。但是，我的建议是避免使用这种特殊结构，只需调用任何子程序而不使用括号。

我很确定这些句法规则适用于不同版本的操作系统。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-29T17:22:16.003

您只是在函数内部使用了一个参数，因此它在两种情况下都可以正常工作，如下所示：

```
MsgBox "Hello world!"
MsgBox ("Hello world!") 
```

但是，当您使用多个参数时，在 VBScript 方法中，括号会引发错误，而没有括号将可以正常工作，例如：

```
MsgBox "Hello world!", vbExclamation 
```

上面的代码将运行顺利，但

```
MsgBox ("Hello world!", vbExclamation) 
```

会抛出错误。尝试这个！！:-)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-29T08:12:44.747

您必须在 vba 中区分子例程和函数...通常（据我所知），子例程不返回任何内容，并且周围的括号是可选的。对于函数，您需要编写括号。

至于您的示例， MsgBox 不是函数而是子例程，因此在这种情况下括号是可选的。函数的一个例外是，当您不分配返回值时，或者当函数不使用参数时，您也可以省略括号。

[这个答案](https://stackoverflow.com/questions/5413765/what-are-the-rules-governing-usage-of-brackets-in-vba-function-calls)更详细一点，但基本上你应该在保存方面，当你为函数提供括号并将它们留给子例程时。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-01-09T18:02:11.800

"" 和 () 的区别是：

使用 "" 你没有调用任何东西。
使用 () 你正在调用一个子。

子示例：

```
Sub = MsgBox("Msg",vbYesNo,vbCritical,"Title")
Select Case Sub
     Case = vbYes
          MsgBox"You said yes"
     Case = vbNo
          MsgBox"You said no"
 End Select 
```

与正常：

```
 MsgBox"This is normal" 
```

# ruby-on-rails - 在用户模型中没有电子邮件列的 Rails 中使用 Authlogic 进行身份验证

> ID：13620752
> 
> 赞同：2
> 
> 时间：2012-11-29T07:23:58.177
> 
> 标签：ruby-on-rails, ruby, authlogic

我在我的 ROR 应用程序中使用 Authlogic 进行身份验证。以前我使用过普通的基于 authlogic 电子邮件的登录，并且有电子邮件和密码字段。现在我希望用户通过多个电子邮件 ID 登录，因此我从用户表中删除了“电子邮件”列，并添加了一个新表，将用户与相应的电子邮件进行映射。我编写了一个新的登录方法来识别该表中的电子邮件。问题是 UserSession 没有凭据。此外，我不明白为什么密码字段也丢失了它的凭据，即使它存在于用户模型中。在我调整会话表单并提交后，这是我得到的错误：“您没有提供任何身份验证详细信息。” . 有什么方法可以让 authlogic 识别电子邮件的另一个表和密码的用户表？

# android - 我可以在 android 2.2 上使用 API 级别 11 吗？

> ID：13620756
> 
> 赞同：4
> 
> 时间：2012-11-29T07:24:21.247
> 
> 标签：android

也许是愚蠢的问题，但我正在为 android 2.2 到 4.1 开发。我可以使用这个功能[http://developer.android.com/reference/android/preference/PreferenceFragment.html](http://developer.android.com/reference/android/preference/PreferenceFragment.html)只能从 API 11 获得吗？

或者我必须使用旧的[http://developer.android.com/reference/android/preference/PreferenceActivity.html](http://developer.android.com/reference/android/preference/PreferenceActivity.html)有一些不推荐使用的方法。

旧 API 能否在 android 4.1 上运行良好？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-29T07:29:34.037

PreferenceFragment 不适用于 2.2 和 2.3（仅 API 级别 11 及以上）。但以上版本可以使用旧版本。所以你可以使用旧的 PreferenceActivity - 不推荐使用的方法只是意味着应该避免它们，但它们*通常*仍然有效。

CommonsWare 之前写过，为了给用户提供最好的体验并且仍然支持 2.2 版本，你应该实现两个 PreferenceActivity 类，然后在运行时决定调用哪一个。这可以通过检查`Build.VERSION.SDK_INT`并与“11”进行比较来完成。

请参阅此处接受的答案以进行实施： [PreferenceActivity Android 4.0 及更早版本](https://stackoverflow.com/questions/10186697/preferenceactivity-android-4-0-and-earlier)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:29:46.043

是的，你可以使用。右键单击项目->选择properites->单击android->选择任何目标.. **任何更高版本的google taget都可以在较低版本中运行，**即可以导入类..但如果出现异常可能会引发异常低版本不支持类...

# javascript - 仅 getElementsByName？

> ID：13620759
> 
> 赞同：0
> 
> 时间：2012-11-29T07:24:31.467
> 
> 标签：javascript, html

以下代码旨在更改一个字段的颜色：

```
<html>
  <head>
    <meta charset="utf-8">
    <title>Untitled Document</title>
  </head>
  <body>
    <form></form>
    <form>
      <input name="thisone" />
    </form>
    <script language="javascript">
      var bkColor = "red";
      function getEvent(e){
        if(window.event != null) {
          return event;
        }
        return e;
      }
      function setBKColor(e){
        e = getEvent(e);
        var src =  e.srcElement || e.target;
        window.status="t";
        if(src != null) {
          src.style.bkColor = src.style.backgroundColor;
          src.style.backgroundColor = bkColor;
        }
      }
      function reSetBKColor(e){
        e = getEvent(e);
        var src =  e.srcElement || e.target;
        if(src != null) {
          src.style.backgroundColor = src.style.bkColor;
        }
      }
      function attachEvent(name,element,callBack) {
        if (element.addEventListener) {
          element.addEventListener(name, callBack,false);
        } else if (element.attachEvent) {
          element.attachEvent('on' + name, callBack);
        }
      }
      function setListner(eve,func) {
        var ele = document.forms[0].elements;
        for(var i = 0; i <ele.length;i++) {
          element = ele[i];
          if (element.name) {
            switch (element.name) {
              case 'thisone':
                attachEvent(eve,element,func);
            }
          }
        }
      }
      setListner("focus",setBKColor);
      setListner("blur",reSetBKColor);
    </script> 
```

但是，当在更改颜色的字段之前有另一个表单时，代码将停止工作。所以目前 HTML 代码可能看起来像这样，以匹配不便之处：

```
<name="thisone">
<form></form>
<form></form> 
```

现在这段代码有效。

但是如何使 JS 部分独立于`<form>`，并且只依赖于`<Name>`文本字段呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:31:02.113

在表单中添加一个 id 并使用它来引用它

```
function setListner(eve,func) {
   var ele = document.getElementById("#formID").elements; 
```

在 DOM 中使用表单索引是访问其元素的不可靠方式

# php - imagecreatefromjpeg 参数不起作用

> ID：13620760
> 
> 赞同：0
> 
> 时间：2012-11-29T07:24:32.283
> 
> 标签：php, image-processing, php-gd

我使用了它显示的 imagecreatefromjpeg("1.jpg")

```
Warning: imagecopy() expects parameter 1 to be resource, string given in E:\wamp\www 
```

我不明白为什么它不工作并且它作为一个字符串，尽管它是同一个文件上的现有图像名称。

```
$new_image = "assets/small/i/m/".imagecreatetruecolor($size_width, $size_height);
            $file = "upl_13541718681354171868The-best-top-desktop-dolphin-wallpapers-hd-dolphins-wallpaper-3.jpg";
            $image = imagecreatefromjpeg($file);
imagecopy($new_image, $image, 0, 0, 0, 0, $size_width, $size_height);
imagejpeg($imageOutput, $outputPath, 100); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:29:52.803

```
imagecreatefromjpeg 
```

成功返回图像资源标识符，错误返回 FALSE。

所以你可能把 false 传递给

```
 imagecopy 
```

编辑

对不起，参数 1 是目的地。您传递的是字符串而不是资源：

来自文档：

```
// Create image instances
$src = imagecreatefromgif('php.gif');
$dest = imagecreatetruecolor(80, 40);

// Copy
imagecopy($dest, $src, 0, 0, 20, 13, 80, 40); 
```

# django - Django CheckboxSelectMultiple 中的验证错误

> ID：13620761
> 
> 赞同：0
> 
> 时间：2012-11-29T07:24:33.027
> 
> 标签：django, forms, validation, django-forms

我正在尝试在我的应用程序中使用复选框，但 Django 表单验证告诉我输入无效，无论检查了哪些复选框。

在模型中：

```
AV_CHOICES = (
    ('PC', 'PC Laptop ($150)'),
    ('32', '32" LCD Monitor ($150)'),
    ('40', '40" LCD Monitor ($200)'),
)

Optional_AV_Requests = models.TextField(blank=True, choices=AV_CHOICES) 
```

在forms.py

```
class Fair_Logistical_Data1Form(forms.ModelForm):

def __init__(self, *args, **kwargs):
    super(Fair_Logistical_Data1Form, self).__init__(*args, **kwargs)
    self.fields['Optional_AV_Requests'] = forms.MultipleChoiceField(widget=forms.CheckboxSelectMultiple,choices=self.fields['Optional_AV_Requests'].choices) 
```

无论我选择哪个复选框，我都会收到一个内联错误，说“u'PC' is not a valid selection”之类的内容。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:40:29.237

您应该使用[单选按钮](https://docs.djangoproject.com/en/dev/ref/forms/widgets/#radioselect)进行单选。`MultipleChoiceField`返回所选元素的列表，这不是 a 的正确类型`TextField`。

# node.js - 需要亚马逊机械土耳其人资格测试

> ID：13620768
> 
> 赞同：1
> 
> 时间：2012-11-29T07:25:23.483
> 
> 标签：node.js, rest, amazon-web-services, mechanicalturk

我正在尝试为 AMT HIT 创建强制性资格。但发布此数据后，HIT 显示所需的资格是无。我发布的这些数据有什么问题吗？没有资格测试文件。

这个功能真的可以使用 Web 服务 api 吗？

```
Title=Rate%20an%20image&Description=Determine%20if%20an%20image%20is%20inappropriate%20for%20children%20or%20in%20the%20workplace.&Reward.1.Amount=0.01&Reward.1.CurrencyCode=USD&&AssignmentDurationInSeconds=180&Keywords=image%20inappropriate&qualificationRequirement.1.QualificationTypeId=ABCDEFGHIJKLMNOPQRSTUVWXYZ&qualificationRequirement.1.Comparator=EqualTo&qualificationRequirement.1.IntegerValue=10&qualificationRequirement.1.RequiredToPreview=true&AWSAccessKeyId=ABCDEFGHIJKLMNOPQRSTUVWXYZ&Timestamp=2012-11-29T07%3A04%3A15.867Z&Signature=ABCDEFGHIJKLMNOPQRSTUVWXYZ&Service=AWSMechanicalTurkRequester&Operation=RegisterHITType&Version=2008-08-02 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T11:31:24.183

这是正确的数据流。

Title=Rate%20an%20image&Description=Determine%20if%20an%20image%20is%20inappropriate%20for%20children%20or%20in%20the%20workplace.&Reward.1.Amount=0.01&Reward.1.CurrencyCode=USD&&AssignmentDurationInSeconds=180&Keywords=image %20inappropriate&QualificationRequirement.1.QualificationTypeId=ABCDEFGHIJKLMNOPQRSTUVWXYZ&QualificationRequirement.1.Comparator=EqualTo&QualificationRequirement.1.IntegerValue=10&QualificationRequirement.1.RequiredToPreview=true&AWSAccessKeyId=ABCDEFGHIJKLMNOPQRSTUVWXYZ&Timestamp=2012-11-29T07%3A04%3A15.867Z&Signature=ABCDEFGHIJKLMNOPQRSTUVWXYZ&Service=AWSMechanicalTurkRequester&Operation=RegisterHITType&Version=2008-08 -02

“资格要求”是正确的。'qualificationRequirement' 将不起作用。所以在字符大写时要小心。

# mysql - 使用外键时无法在 MySQL [错误 150] 中创建表

> ID：13620769
> 
> 赞同：0
> 
> 时间：2012-11-29T07:25:39.490
> 
> 标签：mysql, database, foreign-keys, mysql-workbench

我用 MySQL 工作台设计了模式。

但它无法完成数据库同步。它可以创建没有外键的表。

我从 MySQL WorkBench 复制 SQL 以在 phpmysqadmin 中执行。

```
CREATE  TABLE IF NOT EXISTS `Books`.`Users` (
`id` INT UNSIGNED NOT NULL AUTO_INCREMENT ,
`mail` VARCHAR(45) NOT NULL ,
`password` VARCHAR(45) NOT NULL ,
`smspassword` VARCHAR(8) NULL ,
`mobile` VARCHAR(16) NULL ,
`type` ENUM('admin','secretery','groupadmin','user') NOT NULL DEFAULT 'user' ,
`securelogin` ENUM('true','false') NULL DEFAULT 'true' ,
PRIMARY KEY (`id`) ,
UNIQUE INDEX `id_UNIQUE` (`id` ASC) ,
UNIQUE INDEX `mail_UNIQUE` (`mail` ASC) )
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci
COMMENT = 'Table to store users data' 
```

用户表创建成功。但无法创建下表（配置文件）。

```
CREATE  TABLE IF NOT EXISTS `Books`.`Profiles` (
`id` INT NOT NULL AUTO_INCREMENT ,
`firstname` VARCHAR(45) NOT NULL ,
`lastname` VARCHAR(45) NOT NULL ,
`title` VARCHAR(45) NOT NULL ,
`nationalcode` VARCHAR(45) NOT NULL ,
`User_id` INT NOT NULL ,
PRIMARY KEY (`id`, `User_id`) ,
INDEX `fk_Profiles_Users` (`User_id` ASC) ,
CONSTRAINT `fk_Profiles_Users`
FOREIGN KEY (`User_id` )
REFERENCES `Books`.`Users` (`id` )
ON DELETE CASCADE
ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci 
```

但它会返回：

> #1005 - 无法创建表“Books.Profiles”（错误号：150）

问题出在哪里，我应该如何解决？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-29T07:30:53.463

您需要将主 id 列类型与外键列类型匹配 - 您的主 id in`Users`是`UNSIGNED INT`，但您的外键 in`Profiles`是`INT`。试试这个：

```
CREATE TABLE IF NOT EXISTS `Books`.`Profiles` (
     `id` INT NOT NULL AUTO_INCREMENT ,
     `firstname` VARCHAR(45) NOT NULL ,
     `lastname` VARCHAR(45) NOT NULL ,
     `title` VARCHAR(45) NOT NULL ,
     `nationalcode` VARCHAR(45) NOT NULL ,
     `User_id` INT UNSIGNED NOT NULL ,          -- <<= Check the type here!
     PRIMARY KEY (`id`, `User_id`) ,
     INDEX `fk_Profiles_Users` (`User_id` ASC) ,
     CONSTRAINT `fk_Profiles_Users`
         FOREIGN KEY (`User_id` )
         REFERENCES `Books`.`Users` (`id` )
         ON DELETE CASCADE
         ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci; 
```

# actionscript-3 - 使用 actionscript 3 在 flash cs6 中重播 btn 行为不正确

> ID：13620770
> 
> 赞同：0
> 
> 时间：2012-11-29T07:25:42.503
> 
> 标签：actionscript-3, button, flash-cs6

我有一个 Flash 动画，它在最后使用动作脚本来停止动画，并有一个按钮供用户单击并重播动画。当他们单击并重播动画时，屏幕上的最后一个场景不会随着动画的重新启动而消失。我的按钮的实例名称为 replay_btn。有什么建议么？

我的动作脚本代码是

```
 stop();

    import flash.events.MouseEvent; function onClick(event:MouseEvent):void {  gotoAndPlay(1); } replay_btn.addEventListener(MouseEvent.CLICK, onClick); 
```

现在已经回答了这个问题。似乎 Flash 中存在一个错误，导致最后一个场景在重播动画开始时挂起。解决方法是让重播按钮前进一帧到空白的白色帧，然后将其引导回开始。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:26:55.170

假设该按钮位于您要重新开始的影片剪辑内。

```
stop();
import flash.events.MouseEvent;
function onClick(event:MouseEvent):void {
    replay_btn.removeEventListener(MouseEvent.CLICK, onClick);
    MovieClip(parent).gotoAndPlay(1);
}
replay_btn.addEventListener(MouseEvent.CLICK, onClick); 
```

# shell - 通过 Shell 脚本将文件转换为另一个文件

> ID：13620773
> 
> 赞同：4
> 
> 时间：2012-11-29T07:26:06.233
> 
> 标签：shell, unix

我想将下面的输入文件（abc）转换为输出文件（xyz），如下所述：

```
$more abc
"2005057400BPI","TS.1.BPI.20121112120000.000#S10S#.txt.xml"
"2005057408BPI","TS.1.BPI.20121112120000.000#S10S#.txt.xml"
"2005057488BPI","TS.1.BPI.20121112120000.000#S10S#.txt.xml"

$more xyz
"2005057400BPI",TS.1.BPI.20121112120000.000.txt
"2005057408BPI",TS.1.BPI.20121112120000.000.txt
"2005057488BPI",TS.1.BPI.20121112120000.000.txt 
```

文件 abc 包含大约 35k 行。我正在转换为：

```
$perl -pi -e 's/"//g' abc
$cut -d'.' -f1-5 abc > xyz
$perl -pi -e 's/.....$/\.txt/g' xyz
$perl -pi -e 's/#//g' xyz

$perl -pi -e 's/^/"/g' xyz
$perl -pi -e 's/,/",/g' xyz 
```

有没有其他方法可以用更少的命令更快地完成它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:33:10.333

使用 sed：

```
sed 's/"\(TS.*\)#S10S#.txt.xml"/\1.txt/' input 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T07:37:36.453

使用 Perl：

```
perl -plne 's/#.*/.txt/;s/,"/,/;'  file 
```

添加选项 -i 以更新文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:35:32.887

一种使用方式`sed`：

```
sed 's/\(.*,\)"\([^#]*\).*/\1\2.txt/' file 
```

结果：

```
"2005057400BPI",TS.1.BPI.20121112120000.000.txt
"2005057408BPI",TS.1.BPI.20121112120000.000.txt
"2005057488BPI",TS.1.BPI.20121112120000.000.txt 
```

# c# - 将字符串观察者集合绑定到组合框

> ID：13620777
> 
> 赞同：0
> 
> 时间：2012-11-29T07:26:20.910
> 
> 标签：c#, wpf, xaml

我可以从这里找到同样的问题。我尝试了所有方法。但他们都没有解决我的问题。所以请不要将此标记为重复。

这就是我想要做的。我有一个字符串列表，我想将列表项绑定到组合框。

可以请任何人帮我找出我在这里做错了什么。

**XAML**

```
<ComboBox Name="comboBox1" ItemsSource="{Binding AvailableTypes}" DataContext="{Binding AvailableTypes}"/> 
```

**.cs 文件**

```
 ObservableCollection<string> availableTypes = new ObservableCollection<string>();

    public ObservableCollection<string> AvailableTypes { get { return availableTypes ; } }

    public Window1()
    {            
        InitializeComponent();
        availablePayTypes.Add("Type1");  
        availablePayTypes.Add("Type1");           
    } 
```

数据不会绑定到组合框。如果我按照以下方式进行操作。

```
comboBox1.ItemsSource=AvailableTypes; 
```

我的代码有什么问题。请帮我。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:31:30.130

至少有两件事是错误的。首先，你有一个错字——`ItemsSource="{Binding AvailablePayTypes}"`应该是`AvailableTypes`匹配属性名称。

其次，您不需要同时设置`DataContext`和`ItemsSource`。通常，您`DataContext`会将 XAML 根的 设置为您的代码隐藏类，然后使用`ItemsSource="{Binding AvailableTypes}"`.

请注意，您可以从代码隐藏中设置 DataContext：

```
public Window1()
{            
    InitializeComponent();
    availablePayTypes.Add("Type1");  
    availablePayTypes.Add("Type1");           
    LayoutRoot.DataContext = this;
} 
```

或者从 XAML 本身使用`RelativeSource`：

```
<UserControl
    DataContext="{Binding RelativeSource={RelativeSource Self}}" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:31:01.200

DataContext 和 ItemsSource 绑定的组合不正确。

这将起作用：

```
<ComboBox Name="comboBox1" ItemsSource="{Binding AvailableTypes}" /> 
```

在你的构造函数中：

```
public Window1()
{            
    InitializeComponent();
    DataContext = this; // <--
    availablePayTypes.Add("Type1");  
    availablePayTypes.Add("Type1");           
} 
```

这里发生了什么？

1.  `AvailablePayTypes`当集合被命名时你绑定到`AvailableTypes`。
2.  您将 DataContext 绑定到`AvailablePayTypes`. 但这不起作用，因为您的 Window 本身没有设置 DataContext，因此 WPF 不知道在哪里寻找`AvailablePayTypes`.
3.  您将 ItemsSource 绑定到`AvailablePayTypes`. 即使 DataContext 的先前绑定可以工作，WPF 现在也会查找名为`AvailablePayTypes`collection的属性`AvailablePayTypes`。这显然是错误的。

我对您的代码进行了以下更改：

1.  修正错字
2.  移除了对 ComboBox 的 DataContext 的绑定，使其继承自 Window
3.  在 Window 的构造函数中，我将 DataContext 设置为自身。

# http - iOS 6 设备是否再次请求旧页面

> ID：13620780
> 
> 赞同：1
> 
> 时间：2012-11-29T07:26:29.363
> 
> 标签：http, caching, ios6, browser-cache

众所周知，iOS 6 经常缓存超出其应有的缓存，尤其是 POST 请求。这会破坏依赖于请求到达服务器的 webbapps。

**我发现 iOS 6 缓存有一个相反的问题，即它再次重新请求旧页面。**似乎通过再次请求所有页面来验证缓存历史记录。我在我的服务器日志中发现了来自用户的“旧”请求页面的踪迹，这些页面相隔几秒钟。

一般来说，重新请求旧的 GET 应该没有问题。但是，就我而言，我有一个系统可以归档不再需要的旧数据，并且这些“旧”请求不断将这些数据带回来。我已经看到至少 3-4 周前的请求重新出现。

**有没有其他人经历过这种情况？**它发生在其他设备上还是iOS缓存的（另一个）问题？

编辑：可能只有 iOS 6.0.1 设备才会这样做，而且只有在 WiFi 连接时才会这样做。

# javascript - 如何覆盖面向对象的Javascript中的方法？

> ID：13620781
> 
> 赞同：3
> 
> 时间：2012-11-29T07:26:31.570
> 
> 标签：javascript, oop, prototypal-inheritance

我试图`interface`在. 并遇到了绊脚石。这是代码示例：`JS``C#`

```
 // Interface for UIBuilder classes
    function IUIBuilder() {
        this.addUserToList = function () {
            alert('parent: added');
        };
    }

    // Class implementing the IUIBuilder
    function ChatUIBuider() {
        IUIBuilder.prototype.addUserToList = function () {
            alert('child: added');
        };
        IUIBuilder.prototype.removeUserFromList = function () {
            alert('child: removed');
        };

        return new IUIBuilder();
    } 
```

在第一堂课中，我定义了一个`addUserToList`在第二堂课中重写的方法`ChatUIBuider`。还`removeUserFromList`使用其原型向基类添加了另一种方法。

我的问题是，`addUserToList`即使在子类中被覆盖后，该方法仍会调用父类方法。为什么？

```
 var builder = new ChatUIBuider();
    builder.removeUserFromList(); // Invokes the child class method. - CORRECT
    builder.addUserToList(); // Invokes the base class method- WHY?? 
```

谁能告诉我这是否是我正在做的正确方式？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T07:28:53.837

我建议这个结构：

```
function IUIBuilder() {
};
IUIBuilder.prototype.addUserToList = function () {
    alert('parent: added');
};

// Class extending the IUIBuilder
function ChatUIBuider() {
}
ChatUIBuider.prototype = new IUIBuilder();
ChatUIBuider.prototype.addUserToList = function () {
        alert('child: added');
};
ChatUIBuider.prototype.removeUserFromList = function () {
        alert('child: removed');
}; 
```

ChatUIBuider 扩展了 IUIBuilder 并继承了它的功能，但覆盖了该`addUserToList`功能。

在以下代码中，将调用两个构造函数，但仅调用覆盖`addUserToList`函数：

```
var chat = new ChatUIBuider();
chat.addUserToList(); 
```

看[演示](http://jsfiddle.net/F55ZJ/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-02-25T08:17:14.250

@Denys 重组了整个代码，但没有明确指出问题所在。问题`addUserToList`不是您的父类的原型方法，而是为每个实例复制的**方法**`this`，而不是 sahred。因此，只需将其转换为`prototype`方法即可解决问题。

```
 // Interface for UIBuilder classes
    function IUIBuilder() {
    }
    IUIBuilder.prototype.addUserToList = function () {
            alert('parent: added');
    };

    // Class implementing the IUIBuilder
    function ChatUIBuider() {
        IUIBuilder.prototype.addUserToList = function () {
            alert('child: added');
        };
        IUIBuilder.prototype.removeUserFromList = function () {
            alert('child: removed');
        };

        return new IUIBuilder();
    }
    var builder = new ChatUIBuider();
    builder.removeUserFromList(); // Invokes the child class method. - CORRECT
    builder.addUserToList(); // Invokes the CHILD CLASS's METHOD 
```

# java - 静态代码分析：方法参数在所有调用中都是相同的常量

> ID：13620785
> 
> 赞同：4
> 
> 时间：2012-11-29T07:26:41.613
> 
> 标签：java, methods, static-code-analysis

是否有免费的 Java 静态代码分析工具，它可以检测到我在对方法的***所有*****调用中使用****与方法参数相同的常量值***，因此我可以删除参数并在方法主体内使用常量值？例如在*

 *```
class A {
    void methodA {
        someMethod("first", 42);
    }
}

class B {
    void methodB {
        someMethod("second", 42);
    }
    void methodC {
        someMethod("third", 42);
    }
} 
```

我想报告 someMethod 的第二个参数（假设这 3 个调用都是*在*我的项目中对该方法的调用）。

我在 Eclipse 编译器警告、Findbugs、CodePro Analytix 或 UCDetector 中没有发现这样的东西，但我可能错过了相应的设置。

编辑：只是为了确保：我不是在问如何通过重构来删除常量值。我正在询问如何检测这种情况，因为这 3 个方法调用可能分布在数千个源文件中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:31:51.143

我想你可以尝试使用声纳： http: [//www.sonarsource.org/](http://www.sonarsource.org/)*

# objective-c - 如何针对xcode中自动需要的框架建立静态库链接

> ID：13620790
> 
> 赞同：0
> 
> 时间：2012-11-29T07:27:04.970
> 
> 标签：objective-c, ios, xcode, static-libraries

我有一个基于 MapKit.framework CoreLocation.framework 等的静态库。

我想将静态库分发给其他开发人员，为了方便起见，我希望找到一种方法来消除开发人员项目中与框架链接的过程。

我知道有些人做到了这一点。

如果你会读中文，你可以参考

[http://dev.umeng.com/releasenote/releasenote_ana_ios.html](http://dev.umeng.com/releasenote/releasenote_ana_ios.html)

MobSDK集成，一句代码集成启动SDK([ClickClick: startSDK)，不再需要手动链接框架

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:29:11.837

从 Xcode 4.5.2 开始没有办法做到这一点。静态库不能指定其动态库依赖项。只有动态库才能做到这一点。

# g++ - 结构定义错误

> ID：13620795
> 
> 赞同：1
> 
> 时间：2012-11-29T07:27:24.340
> 
> 标签：g++

我在头文件中定义了如下结构和一些功能

```
struct ScDetPos
{
 bool  status[MAXD];
 int   noofdetectors;
 float x[MAXD];
 float y[MAXD];
 float z[MAXD];
};

// read sc position
// this function reads sc det coordinate file and returns the structure
ScDetPos ReadScCoordinates();

// print the sccordinates
void DisplayScCoordinates(ScDetPos sc); 
```

在源文件中，我有上述两个函数的函数定义。

```
{
 ScDetPos scpos;
 scpos = ReadScCoordinates();
 DisplayScCoordinates(scpos);
} 
```

它正在编译没有任何问题，

当我使用结构“ScDetPos”中的数据进行一些计算和比较时，它会出错，如下所示。

```
neutron-time.cpp:240: error: ‘scpos’ was not declared in this scope
neutron-time.cpp:280: error: ‘scpos’ was not declared in this scope 
```

# google-app-engine - 使用委派的 GMail 帐户获取用户的电子邮件地址？

> ID：13620800
> 
> 赞同：1
> 
> 时间：2012-11-29T07:27:49.120
> 
> 标签：google-app-engine, gmail, google-gadget, gmail-contextual-gadgets

我正在编写一个 GMail 小工具，并且想知道是否可以获取当前使用委派帐户的用户的电子邮件地址？

[目前，我使用本讨论](https://groups.google.com/forum/?fromgroups=#!topic/google-apps-gadgets-api/d5xu_x16c6k)中描述的技术检索用户的电子邮件。

但如果我使用的是委托账户，它会检索委托账户的电子邮件地址。

例如，我是**john@example.com**，并且我有一个委托帐户**admin@example.com**。当我通过委托访问管理员的 gmail 时，我想使用`john@example.com`小工具中的电子邮件，而不是`admin@example.com`.

# javascript - 将 ext.grid.panel 添加到 ext.form.panel 时出错

> ID：13620804
> 
> 赞同：0
> 
> 时间：2012-11-29T07:27:57.840
> 
> 标签：javascript, jquery, html, extjs, extjs4

我有这个网格和表单面板。我想在表单面板中添加一个数据网格，并且仍然有来自表单面板的按钮。

```
 myGrid= Ext.create('Ext.grid.Panel',{
            layout: {
                type: 'fit'
            },

            id: 'gridId',
            title: null,
            store: myDataStore,
            columns: [{
                header: 'header 1',
                dataIndex: 'index_1',
                width: 120
            }, {
                header: 'header 2',
                dataIndex: 'index_2',
                width: 120
            }, {
                header: 'header 3',
                dataIndex: 'index_3',
                width: 120
            }],
            stripeRows: true
        })

        formPanel= Ext.create('Ext.form.Panel',{
            id:'panelId',

            items:[myGrid],
            buttons: [{
                 // cancel, save, other buttons
            }]
        }) 
```

但我得到这个错误

```
HierarchyRequestError: Node cannot be inserted at the specified point in the hierarchy 
```

我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:14:48.333

您在`Ext.create()`配置后忘记了分号。

似乎在这里工作得很好。我做了一个小提琴

[http://jsfiddle.net/WGgR8/1/](http://jsfiddle.net/WGgR8/1/)

# android - 一个接一个地播放多个视频，不间断

> ID：13620805
> 
> 赞同：1
> 
> 时间：2012-11-29T07:28:15.143
> 
> 标签：android, video

我正在为 android 开发视频播放器。如何播放超过 5 个部分的视频。如何在开始下一个视频时连续播放所有部分而不会中断。我怎样才能做到这一点。请在这个问题上指导我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-29T01:36:49.403

我不认为有办法实现这一点，而无需深入到 NDK。我曾开发过一个视频应用程序，类似于带有广告集成的 youtube。但是，我们没有找到在广告和内容视频之间进行平滑过渡的方法。

有商业库，即使在 android 2 上也可以播放流。如果您的视频具有相同的流类型，您可以尝试摆弄 m3u 并在客户端合并 m3us。但我还没有尝试过。

最简单的解决方案是在服务器端预处理和合并视频，但根据您的用例，这可能不是一个选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-01-18T05:56:24.720

maybi exoPlayer 可以帮助您。这个库可以将多个视频连接在一起。

# eclipse - Eclipse（弹簧工具套件）在服务器启动时自动关闭（包括 Eclipse 日志文件）

> ID：13620807
> 
> 赞同：0
> 
> 时间：2012-11-29T07:28:28.030
> 
> 标签：eclipse, spring, tomcat

我正在使用spring工具套件，我已经成功集成了jsf + primefaces + spring + hibernate(jpa) ...但是在服务器（tomcat）上运行项目时，IDE会自动关闭.. ECLIPSE LOG的副本：

```
 #
 # A fatal error has been detected by the Java Runtime Environment:
    #
    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x7816e542, pid=4068, tid=4072
    #
# JRE version: 6.0_25-b06
# Java VM: Java HotSpot(TM) Client VM (20.0-b11 mixed mode windows-x86 )
# Problematic frame:
# C  [urlmon.dll+0x3e542]
#
# If you would like to submit a bug report, please visit:
#   http://java.sun.com/webapps/bugreport/crash.jsp
# The crash happened outside the Java Virtual Machine in native code.
# See problematic frame for where to report the bug.
#

---------------  T H R E A D  ---------------

Current thread (0x00386400):  JavaThread "main" [_thread_in_native, id=4072, stack(0x00030000,0x00130000)]

siginfo: ExceptionCode=0xc0000005, reading address 0x00000013
Registers:
EAX=0x6fcc5c3a, EBX=0x80004005, ECX=0x7816e57c, EDX=0x00000003
ESP=0x001297a8, EBP=0x001297b0, ESI=0x00000010, EDI=0x00000014
EIP=0x7816e542, EFLAGS=0x00010293

Top of Stack: (sp=0x001297a8)
0x001297a8:   00000001 6fcc5c38 001297c4 7816e50e
0x001297b8:   00000010 6fcc5c3a 6fcc5c20 001297d4
0x001297c8:   7816e4e2 00000010 6fcc5c38 00129a0c
0x001297d8:   7816b5e3 00000010 6fcc5c38 00000027
0x001297e8:   00129a28 6fcc5c20 781d748a 6fcc5c34
0x001297f8:   6fcc5c20 00000000 7c918681 00000000
0x00129808:   6d698998 00000033 6fd9c040 00750041
0x00129818:   006f0074 0061006d 00690074 004c0063 

Instructions: (pc=0x7816e542)
0x7816e522:   90 8b ff 55 8b ec 8b 45 0c 56 8b 75 08 57 6a 14
0x7816e532:   b9 7c e5 16 78 5f 8a 11 80 fa 2d 74 73 0f b6 d2
0x7816e542:   0f b6 14 32 c1 ea 04 66 8b 14 55 90 e5 16 78 66
0x7816e552:   89 10 0f b6 11 0f b6 14 32 40 40 83 e2 0f 66 8b 

Register to memory mapping:

EAX=0x6fcc5c3a is an unknown value
EBX=0x80004005 is an unknown value
ECX=0x7816e57c is an unknown value
EDX=0x00000003 is an unknown value
ESP=0x001297a8 is pointing into the stack for thread: 0x00386400
EBP=0x001297b0 is pointing into the stack for thread: 0x00386400
ESI=0x00000010 is an unknown value
EDI=0x00000014 is an unknown value

Stack: [0x00030000,0x00130000],  sp=0x001297a8,  free space=997k
Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)
C  [urlmon.dll+0x3e542]  CreateAsyncBindCtx+0xcaa
C  [urlmon.dll+0x3e50e]  CreateAsyncBindCtx+0xc76
C  [urlmon.dll+0x3e4e2]  CreateAsyncBindCtx+0xc4a
C  [urlmon.dll+0x3b5e3]  Ordinal451+0x2b8
C  [urlmon.dll+0x351c9]  ObtainUserAgentString+0xb64
C  [urlmon.dll+0x3334f]  Ordinal335+0x48e
C  [mshtml.dll+0x33716b]  CreateHTMLPropertyPage+0x24ec1
C  [mshtml.dll+0x29d513]  Ordinal103+0x91477
C  [mshtml.dll+0xbbfc7]  DllGetClassObject+0x9ebd2
C  [mshtml.dll+0xceb96]  DllGetClassObject+0xb17a1
C  [mshtml.dll+0x29d2c0]  Ordinal103+0x91224
C  [mshtml.dll+0xa926d]  DllGetClassObject+0x8be78
C  [mshtml.dll+0xa9437]  DllGetClassObject+0x8c042
C  [mshtml.dll+0xa73c2]  DllGetClassObject+0x89fcd
C  [mshtml.dll+0xa7335]  DllGetClassObject+0x89f40
C  [mshtml.dll+0xb251a]  DllGetClassObject+0x95125
C  [mshtml.dll+0x8560a]  DllGetClassObject+0x68215
C  [mshtml.dll+0x2292a5]  Ordinal103+0x1d209
C  [mshtml.dll+0x2293b3]  Ordinal103+0x1d317
C  [mshtml.dll+0x1e2921]  Ordinal104+0x707c9
C  [mshtml.dll+0xeb213]  DllGetClassObject+0xcde1e
C  [mshtml.dll+0xf7341]  DllGetClassObject+0xd9f4c
C  [mshtml.dll+0x103108]  DllGetClassObject+0xe5d13
C  [mshtml.dll+0xeac11]  DllGetClassObject+0xcd81c
C  [jscript.dll+0x23a9a]  DllGetClassObject+0xc855
C  [jscript.dll+0x239e6]  DllGetClassObject+0xc7a1
C  [jscript.dll+0x24f26]  DllGetClassObject+0xdce1
C  [jscript.dll+0x24e80]  DllGetClassObject+0xdc3b
C  [jscript.dll+0x24b96]  DllGetClassObject+0xd951
C  [jscript.dll+0x213ab]  DllGetClassObject+0xa166
C  [jscript.dll+0x212e5]  DllGetClassObject+0xa0a0
C  [jscript.dll+0x22a05]  DllGetClassObject+0xb7c0
C  [jscript.dll+0x228c5]  DllGetClassObject+0xb680
C  [jscript.dll+0x243fc]  DllGetClassObject+0xd1b7
C  [jscript.dll+0x224c1]  DllGetClassObject+0xb27c
C  [jscript.dll+0x22d6d]  DllGetClassObject+0xbb28
C  [jscript.dll+0x24235]  DllGetClassObject+0xcff0
C  [jscript.dll+0x23114]  DllGetClassObject+0xbecf
C  [jscript.dll+0x213ab]  DllGetClassObject+0xa166
C  [jscript.dll+0x212e5]  DllGetClassObject+0xa0a0
C  [jscript.dll+0x22a05]  DllGetClassObject+0xb7c0
C  [jscript.dll+0x228c5]  DllGetClassObject+0xb680
C  [jscript.dll+0x243fc]  DllGetClassObject+0xd1b7
C  [jscript.dll+0x224c1]  DllGetClassObject+0xb27c
C  [jscript.dll+0x22d6d]  DllGetClassObject+0xbb28
C  [jscript.dll+0x24235]  DllGetClassObject+0xcff0
C  [jscript.dll+0x23114]  DllGetClassObject+0xbecf
C  [jscript.dll+0x213ab]  DllGetClassObject+0xa166
C  [jscript.dll+0x212e5]  DllGetClassObject+0xa0a0
C  [jscript.dll+0x22a05]  DllGetClassObject+0xb7c0
C  [jscript.dll+0x228c5]  DllGetClassObject+0xb680
C  [jscript.dll+0x23114]  DllGetClassObject+0xbecf
C  [jscript.dll+0x213ab]  DllGetClassObject+0xa166
C  [jscript.dll+0x212e5]  DllGetClassObject+0xa0a0
C  [jscript.dll+0x22a05]  DllGetClassObject+0xb7c0
C  [jscript.dll+0x228c5]  DllGetClassObject+0xb680
C  [jscript.dll+0x243fc]  DllGetClassObject+0xd1b7
C  [jscript.dll+0x224c1]  DllGetClassObject+0xb27c
C  [jscript.dll+0x22d6d]  DllGetClassObject+0xbb28
C  [jscript.dll+0x24235]  DllGetClassObject+0xcff0
C  [jscript.dll+0x23114]  DllGetClassObject+0xbecf
C  [jscript.dll+0x213ab]  DllGetClassObject+0xa166
C  [jscript.dll+0x212e5]  DllGetClassObject+0xa0a0
C  [jscript.dll+0x22a05]  DllGetClassObject+0xb7c0
C  [jscript.dll+0x228c5]  DllGetClassObject+0xb680
C  [jscript.dll+0x243fc]  DllGetClassObject+0xd1b7
C  [jscript.dll+0x224c1]  DllGetClassObject+0xb27c
C  [jscript.dll+0x22d6d]  DllGetClassObject+0xbb28
C  [jscript.dll+0x24235]  DllGetClassObject+0xcff0
C  [jscript.dll+0x23114]  DllGetClassObject+0xbecf
C  [jscript.dll+0x213ab]  DllGetClassObject+0xa166
C  [jscript.dll+0x212e5]  DllGetClassObject+0xa0a0
C  [jscript.dll+0x22a05]  DllGetClassObject+0xb7c0
C  [jscript.dll+0x228c5]  DllGetClassObject+0xb680
C  [jscript.dll+0x3595a]  DllCanUnloadNow+0x21da
C  [jscript.dll+0x24327]  DllGetClassObject+0xd0e2
C  [jscript.dll+0x22a05]  DllGetClassObject+0xb7c0
C  [jscript.dll+0x228c5]  DllGetClassObject+0xb680
C  [jscript.dll+0x243fc]  DllGetClassObject+0xd1b7
C  [jscript.dll+0x224c1]  DllGetClassObject+0xb27c
C  [jscript.dll+0x22d6d]  DllGetClassObject+0xbb28
C  [jscript.dll+0x24235]  DllGetClassObject+0xcff0
C  [jscript.dll+0x23114]  DllGetClassObject+0xbecf
C  [jscript.dll+0x213ab]  DllGetClassObject+0xa166
C  [jscript.dll+0x212e5]  DllGetClassObject+0xa0a0
C  [jscript.dll+0x22a05]  DllGetClassObject+0xb7c0
C  [jscript.dll+0x228c5]  DllGetClassObject+0xb680
C  [jscript.dll+0x3595a]  DllCanUnloadNow+0x21da
C  [jscript.dll+0x24327]  DllGetClassObject+0xd0e2
C  [jscript.dll+0x22a05]  DllGetClassObject+0xb7c0
C  [jscript.dll+0x228c5]  DllGetClassObject+0xb680
C  [jscript.dll+0x243fc]  DllGetClassObject+0xd1b7
C  [jscript.dll+0x224c1]  DllGetClassObject+0xb27c
C  [jscript.dll+0x22d6d]  DllGetClassObject+0xbb28
C  [jscript.dll+0x24235]  DllGetClassObject+0xcff0
C  [jscript.dll+0x24f93]  DllGetClassObject+0xdd4e
C  [jscript.dll+0x213ab]  DllGetClassObject+0xa166
C  [jscript.dll+0x212e5]  DllGetClassObject+0xa0a0
C  [jscript.dll+0xb551]
C  [jscript.dll+0x2317d]  DllGetClassObject+0xbf38
    ...<more frames>...

Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)
J  org.eclipse.swt.internal.win32.OS.DispatchMessageW(Lorg/eclipse/swt/internal/win32/MSG;)I
J  org.eclipse.swt.widgets.Display.readAndDispatch()Z
j  org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run()V+578
j  org.eclipse.core.databinding.observable.Realm.runWithDefault(Lorg/eclipse/core/databinding/observable/Realm;Ljava/lang/Runnable;)V+12
j  org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(Lorg/eclipse/e4/ui/model/application/MApplicationElement;Lorg/eclipse/e4/core/contexts/IEclipseContext;)Ljava/lang/Object;+57
j  org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(Lorg/eclipse/e4/ui/model/application/MApplicationElement;)V+20
j  org.eclipse.ui.internal.Workbench$5.run()V+256
j  org.eclipse.core.databinding.observable.Realm.runWithDefault(Lorg/eclipse/core/databinding/observable/Realm;Ljava/lang/Runnable;)V+12
j  org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Lorg/eclipse/swt/widgets/Display;Lorg/eclipse/ui/application/WorkbenchAdvisor;)I+18
j  org.eclipse.ui.PlatformUI.createAndRunWorkbench(Lorg/eclipse/swt/widgets/Display;Lorg/eclipse/ui/application/WorkbenchAdvisor;)I+2
j  org.eclipse.ui.internal.ide.application.IDEApplication.start(Lorg/eclipse/equinox/app/IApplicationContext;)Ljava/lang/Object;+108
j  org.eclipse.equinox.internal.app.EclipseAppHandle.run(Ljava/lang/Object;)Ljava/lang/Object;+135
j  org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(Ljava/lang/Object;)Ljava/lang/Object;+103
j  org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(Ljava/lang/Object;)Ljava/lang/Object;+29
j  org.eclipse.core.runtime.adaptor.EclipseStarter.run(Ljava/lang/Object;)Ljava/lang/Object;+149
j  org.eclipse.core.runtime.adaptor.EclipseStarter.run([Ljava/lang/String;Ljava/lang/Runnable;)Ljava/lang/Object;+183
v  ~StubRoutines::call_stub
j  sun.reflect.NativeMethodAccessorImpl.invoke0(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+0
j  sun.reflect.NativeMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+87
j  sun.reflect.DelegatingMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+6
j  java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+161
j  org.eclipse.equinox.launcher.Main.invokeFramework([Ljava/lang/String;[Ljava/net/URL;)V+211
j  org.eclipse.equinox.launcher.Main.basicRun([Ljava/lang/String;)V+126
j  org.eclipse.equinox.launcher.Main.run([Ljava/lang/String;)I+4
v  ~StubRoutines::call_stub

---------------  P R O C E S S  ---------------

Java Threads: ( => current thread )
  0x65df1400 JavaThread "Thread-19" daemon [_thread_blocked, id=448, stack(0x6f030000,0x6f130000)]
  0x65f99400 JavaThread "Process monitor" daemon [_thread_in_native, id=3308, stack(0x6c1c0000,0x6c2c0000)]
  0x6627d400 JavaThread "Input Stream Monitor" daemon [_thread_blocked, id=1940, stack(0x6c0c0000,0x6c1c0000)]
  0x65d36800 JavaThread "Output Stream Monitor" daemon [_thread_in_native, id=3304, stack(0x6bfc0000,0x6c0c0000)]
  0x65d36400 JavaThread "Output Stream Monitor" daemon [_thread_in_native, id=276, stack(0x6bec0000,0x6bfc0000)]
  0x65dc9400 JavaThread "Worker-10" [_thread_blocked, id=492, stack(0x6bdc0000,0x6bec0000)]
  0x661a0400 JavaThread "org.eclipse.wst.sse.ui.internal.reconcile.StructuredRegionProcessor" daemon [_thread_blocked, id=3260, stack(0x6b0e0000,0x6b1e0000)]
  0x6664e400 JavaThread "JavaScript indexing" daemon [_thread_blocked, id=3184, stack(0x6aee0000,0x6afe0000)]
  0x66359400 JavaThread "Reporting Thread-1 (Spring UAA/1.0.2)" daemon [_thread_blocked, id=1524, stack(0x682c0000,0x683c0000)]
  0x667a9800 JavaThread "Worker-9" [_thread_blocked, id=552, stack(0x6ad20000,0x6ae20000)]
 0x6657d400 JavaThread "Worker-8" [_thread_blocked, id=4044, stack(0x699a0000,0x69aa0000)]
 0x662bc000 JavaThread "Worker-7" [_thread_blocked, id=2444, stack(0x698a0000,0x699a0000)]
  0x66733c00 JavaThread "Worker-6" [_thread_blocked, id=648, stack(0x69710000,0x69810000)]
  0x66331c00 JavaThread "Event Batch Processing (Spring UAA/1.0.2)" daemon [_thread_blocked, id=2820, stack(0x69610000,0x69710000)]
 0x6630e400 JavaThread "Synchronizer (Spring UAA/1.0.2)" daemon [_thread_blocked, id=3504, stack(0x69510000,0x69610000)]
 0x65d91400 JavaThread "Worker-5" [_thread_blocked, id=2860, stack(0x69400000,0x69500000)]
0x661e5000 JavaThread "Worker-4" [_thread_blocked, id=3388, stack(0x69300000,0x69400000)]
 0x65892c00 JavaThread "[ThreadPool Manager] - Idle Thread" daemon [_thread_blocked, id=3980, stack(0x69180000,0x69280000)]
  0x64e72800 JavaThread "Worker-3" [_thread_blocked, id=3676, stack(0x68b90000,0x68c90000)]
  0x65f9d400 JavaThread "Provisioning Event Dispatcher" daemon [_thread_blocked, id=3904, stack(0x68a10000,0x68b10000)]
  0x66366c00 JavaThread "MultiThreadedHttpConnectionManager cleanup" daemon [_thread_blocked, id=3884, stack(0x68630000,0x68730000)]
0x65ff9400 JavaThread "Java indexing" daemon [_thread_blocked, id=3840, stack(0x68140000,0x68240000)]
0x6626d400 JavaThread "Worker-2" [_thread_blocked, id=3808, stack(0x68040000,0x68140000)]
0x65f34c00 JavaThread "Worker-1" [_thread_blocked, id=1620, stack(0x67dc0000,0x67ec0000)]
0x65cae800 JavaThread "Worker-0" [_thread_blocked, id=536, stack(0x67bc0000,0x67cc0000)]
 0x65e47800 JavaThread "Thread-1" daemon [_thread_blocked, id=2608, stack(0x66e30000,0x66f30000)]
 0x65d31400 JavaThread "Worker-JM" [_thread_blocked, id=2480, stack(0x66ba0000,0x66ca0000)]
  0x65d42400 JavaThread "[Timer] - Main Queue Handler" daemon [_thread_blocked, id=1160, stack(0x66ca0000,0x66da0000)]
0x65ef9400 JavaThread "Framework Event Dispatcher" daemon [_thread_blocked, id=2172, stack(0x66aa0000,0x66ba0000)]
 0x64e64400 JavaThread "Start Level Event Dispatcher" daemon [_thread_blocked, id=3828, stack(0x66990000,0x66a90000)]
  0x65fe8800 JavaThread "Bundle File Closer" daemon [_thread_blocked, id=1660, stack(0x66080000,0x66180000)]
  0x657b7400 JavaThread "State Data Manager" daemon [_thread_blocked, id=1708, stack(0x65b80000,0x65c80000)]
  0x656ed800 JavaThread "Framework Active Thread" [_thread_blocked, id=572, stack(0x65a80000,0x65b80000)]
  0x64e3f400 JavaThread "Low Memory Detector" daemon [_thread_blocked, id=2032, stack(0x654b0000,0x655b0000)]
  0x64e39000 JavaThread "C1 CompilerThread0" daemon [_thread_blocked, id=2036, stack(0x653b0000,0x654b0000)]
  0x64e37800 JavaThread "Attach Listener" daemon [_thread_blocked, id=1964, stack(0x652b0000,0x653b0000)]
0x64e36400 JavaThread "Signal Dispatcher" daemon [_thread_blocked, id=4092, stack(0x651b0000,0x652b0000)]
 0x64e29800 JavaThread "Finalizer" daemon [_thread_blocked, id=4088, stack(0x650b0000,0x651b0000)]
0x64e24c00 JavaThread "Reference Handler" daemon [_thread_blocked, id=4084, stack(0x64fb0000,0x650b0000)]
=>0x00386400 JavaThread "main" [_thread_in_native, id=4072, stack(0x00030000,0x00130000)]

Other Threads:
 0x64e21000 VMThread [stack: 0x64eb0000,0x64fb0000] [id=4080]
0x64e4a000 WatcherThread [stack: 0x655b0000,0x656b0000] [id=1408]

VM state:not at safepoint (normal execution)

VM Mutex/Monitor currently owned by a thread: None

Heap
 def new generation   total 84992K, used 58569K [0x02a30000, 0x08660000, 0x17f80000)
  eden space 75584K,  77% used [0x02a30000, 0x06362668, 0x07400000)
  from space 9408K,   0% used [0x07400000, 0x07400000, 0x07d30000)
  to   space 9408K,   0% used [0x07d30000, 0x07d30000, 0x08660000)
tenured generation   total 188608K, used 113163K [0x17f80000, 0x237b0000, 0x42a30000)
 the space 188608K,  59% used [0x17f80000, 0x1ee02c78, 0x1ee02e00, 0x237b0000)
 compacting perm gen  total 115712K, used 115520K [0x42a30000, 0x49b30000, 0x62a30000)
   the space 115712K,  99% used [0x42a30000, 0x49b003f8, 0x49b00400, 0x49b30000)
No shared spaces configured.

Code Cache  [0x009b0000, 0x013e8000, 0x029b0000)
 total_blobs=4922 nmethods=4688 adapters=164 free_code_cache=22866688 largest_free_block=256

Dynamic libraries:
0x00400000 - 0x0044e000     D:\springsource\sts-3.0.0.RELEASE\STS.exe
0x7c900000 - 0x7c9b2000     C:\WINDOWS\system32\ntdll.dll
0x7c800000 - 0x7c8f6000     C:\WINDOWS\system32\kernel32.dll
0x7e410000 - 0x7e4a1000     C:\WINDOWS\system32\USER32.dll
0x77f10000 - 0x77f59000     C:\WINDOWS\system32\GDI32.dll
0x773d0000 - 0x774d3000     C:\WINDOWS\WinSxS\x86_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.2600.6028_x-ww_61e65202\COMCTL32.dll
0x77c10000 - 0x77c68000     C:\WINDOWS\system32\msvcrt.dll
0x77dd0000 - 0x77e6b000     C:\WINDOWS\system32\ADVAPI32.dll
0x77e70000 - 0x77f03000     C:\WINDOWS\system32\RPCRT4.dll
0x77fe0000 - 0x77ff1000     C:\WINDOWS\system32\Secur32.dll
0x77f60000 - 0x77fd6000     C:\WINDOWS\system32\SHLWAPI.dll
0x76390000 - 0x763ad000     C:\WINDOWS\system32\IMM32.DLL
0x72000000 - 0x7200d000     D:\springsource\sts-3.0.0.RELEASE\plugins\org.eclipse.equinox.launcher.win32.win32.x86_1.1.200.v20120522-1813\eclipse_1503.dll
0x77c00000 - 0x77c08000     C:\WINDOWS\system32\VERSION.dll
0x6d7f0000 - 0x6da9f000     C:\Program Files\Java\jre6\bin\client\jvm.dll
0x76b40000 - 0x76b6d000     C:\WINDOWS\system32\WINMM.dll
0x7c340000 - 0x7c396000     C:\WINDOWS\system32\MSVCR71.dll
0x6d7a0000 - 0x6d7ac000     C:\Program Files\Java\jre6\bin\verify.dll
0x6d320000 - 0x6d33f000     C:\Program Files\Java\jre6\bin\java.dll
0x76bf0000 - 0x76bfb000     C:\WINDOWS\system32\PSAPI.DLL
0x6d7e0000 - 0x6d7ef000     C:\Program Files\Java\jre6\bin\zip.dll
0x68000000 - 0x68036000     C:\WINDOWS\system32\rsaenh.dll
0x769c0000 - 0x76a74000     C:\WINDOWS\system32\USERENV.dll
0x658b0000 - 0x65905000     C:\WINDOWS\system32\netapi32.dll
0x6d600000 - 0x6d613000     C:\Program Files\Java\jre6\bin\net.dll
0x71ab0000 - 0x71ac7000     C:\WINDOWS\system32\WS2_32.dll
0x71aa0000 - 0x71aa8000     C:\WINDOWS\system32\WS2HELP.dll
0x71a50000 - 0x71a8f000     C:\WINDOWS\System32\mswsock.dll
0x76f20000 - 0x76f47000     C:\WINDOWS\system32\DNSAPI.dll
0x76d60000 - 0x76d79000     C:\WINDOWS\system32\iphlpapi.dll
0x76fb0000 - 0x76fb8000     C:\WINDOWS\System32\winrnr.dll
0x76f60000 - 0x76f8c000     C:\WINDOWS\system32\WLDAP32.dll
0x76fc0000 - 0x76fc6000     C:\WINDOWS\system32\rasadhlp.dll
0x65990000 - 0x659c8000     C:\WINDOWS\system32\uxtheme.dll
0x74720000 - 0x7476c000     C:\WINDOWS\system32\MSCTF.dll
0x755c0000 - 0x755ee000     C:\WINDOWS\system32\msctfime.ime
0x774e0000 - 0x7761e000     C:\WINDOWS\system32\ole32.dll
0x6d620000 - 0x6d629000     C:\Program Files\Java\jre6\bin\nio.dll
0x67030000 - 0x670a0000     D:\springsource\sts-3.0.0.RELEASE\configuration\org.eclipse.osgi\bundles\699\2\.cp\swt-win32-4233.dll
0x77120000 - 0x771ab000     C:\WINDOWS\system32\OLEAUT32.dll
0x763b0000 - 0x763f9000     C:\WINDOWS\system32\comdlg32.dll
0x7c9c0000 - 0x7d1d7000     C:\WINDOWS\system32\SHELL32.dll
0x73000000 - 0x73026000     C:\WINDOWS\system32\WINSPOOL.DRV
0x74d90000 - 0x74dfb000     C:\WINDOWS\system32\USP10.dll
0x670a0000 - 0x67186000     C:\WINDOWS\system32\WININET.dll
0x67190000 - 0x67199000     C:\WINDOWS\system32\Normaliz.dll
0x78130000 - 0x78263000     C:\WINDOWS\system32\urlmon.dll
0x671a0000 - 0x6738b000     C:\WINDOWS\system32\iertutil.dll
0x77a80000 - 0x77b15000     C:\WINDOWS\system32\CRYPT32.dll
0x77b20000 - 0x77b32000     C:\WINDOWS\system32\MSASN1.dll
0x675f0000 - 0x6760d000     D:\springsource\sts-3.0.0.RELEASE\configuration\org.eclipse.osgi\bundles\699\2\.cp\swt-gdip-win32-4233.dll
0x67610000 - 0x677bb000     C:\WINDOWS\WinSxS\x86_Microsoft.Windows.GdiPlus_6595b64144ccf1df_1.0.6002.22791_x-ww_c8dff154\gdiplus.dll
0x678f0000 - 0x678fe000     D:\springsource\sts-3.0.0.RELEASE\configuration\org.eclipse.osgi\bundles\117\2\.cp\os\win32\x86\localfile_1_0_0.dll
0x66fb0000 - 0x66fbf000     D:\springsource\sts-3.0.0.RELEASE\configuration\org.eclipse.osgi\bundles\120\2\.cp\jWinHttp-1.0.0.dll
0x66fd0000 - 0x67029000     C:\WINDOWS\system32\WINHTTP.dll
0x76ee0000 - 0x76f1c000     C:\WINDOWS\system32\RASAPI32.DLL
0x76e90000 - 0x76ea2000     C:\WINDOWS\system32\rasman.dll
0x76eb0000 - 0x76edf000     C:\WINDOWS\system32\TAPI32.dll
0x76e80000 - 0x76e8e000     C:\WINDOWS\system32\rtutils.dll
0x77c70000 - 0x77c95000     C:\WINDOWS\system32\msv1_0.dll
0x76790000 - 0x7679c000     C:\WINDOWS\system32\cryptdll.dll
0x67ec0000 - 0x67efa000     C:\WINDOWS\system32\oleacc.dll
0x76fd0000 - 0x7704f000     C:\WINDOWS\system32\CLBCATQ.DLL
0x77050000 - 0x77115000     C:\WINDOWS\system32\COMRes.dll
0x75cf0000 - 0x75d81000     C:\WINDOWS\system32\mlang.dll
0x68730000 - 0x68788000     C:\WINDOWS\system32\hnetcfg.dll
0x71a90000 - 0x71a98000     C:\WINDOWS\System32\wshtcpip.dll
0x68cb0000 - 0x68f75000     C:\WINDOWS\system32\xpsp2res.dll
0x6d780000 - 0x6d788000     C:\Program Files\Java\jre6\bin\sunmscapi.dll
0x77b40000 - 0x77b62000     C:\WINDOWS\system32\Apphelp.dll
0x76380000 - 0x76385000     C:\WINDOWS\system32\msimg32.dll
0x73bc0000 - 0x73bc6000     C:\WINDOWS\system32\dciman32.dll
0x6c470000 - 0x6cf0c000     C:\WINDOWS\system32\ieframe.dll
0x7e720000 - 0x7e7d0000     C:\WINDOWS\system32\SXS.DLL
0x6dea0000 - 0x6e45e000     C:\WINDOWS\system32\mshtml.dll
0x6d220000 - 0x6d249000     C:\WINDOWS\system32\msls31.dll
0x746f0000 - 0x7471a000     C:\WINDOWS\system32\msimtf.dll
0x76c30000 - 0x76c5e000     C:\WINDOWS\system32\WINTRUST.dll
0x76c90000 - 0x76cb8000     C:\WINDOWS\system32\IMAGEHLP.dll
0x72d20000 - 0x72d29000     C:\WINDOWS\system32\wdmaud.drv
0x72d10000 - 0x72d18000     C:\WINDOWS\system32\msacm32.drv
0x77be0000 - 0x77bf5000     C:\WINDOWS\system32\MSACM32.dll
0x77bd0000 - 0x77bd7000     C:\WINDOWS\system32\midimap.dll
0x722b0000 - 0x722b5000     C:\WINDOWS\system32\sensapi.dll
0x6f1e0000 - 0x6f294000     C:\WINDOWS\system32\jscript.dll
0x6d730000 - 0x6d769000     C:\WINDOWS\system32\Dxtrans.dll
0x76b20000 - 0x76b31000     C:\WINDOWS\system32\ATL.DLL
0x6d5d0000 - 0x6d5dc000     C:\WINDOWS\system32\ImgUtil.dll
0x6d5e0000 - 0x6d5ea000     C:\WINDOWS\system32\ddrawex.dll
0x73760000 - 0x737ab000     C:\WINDOWS\system32\DDRAW.dll
0x6d5f0000 - 0x6d5fe000     C:\WINDOWS\system32\pngfilt.dll
0x6f130000 - 0x6f187000     C:\WINDOWS\system32\Dxtmsft.dll
0x77920000 - 0x77a13000     C:\WINDOWS\system32\SETUPAPI.dll

VM Arguments:
jvm_args: -Dosgi.requiredJavaVersion=1.5 -Xms40m -Xmx1024m -XX:MaxPermSize=512m 
java_command: <unknown>
Launcher Type: generic

Environment Variables:
JAVA_HOME=C:\Program Files\Java\jdk1.6.0_25
PATH=C:/Program Files/Java/jre6/bin/client;C:/Program Files/Java/jre6/bin;C:/Program Files/Java/jre6/lib/i386;C:\oraclexe\app\oracle\product\11.2.0\server\bin;;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\Java\jdk1.6.0_25\bin;D:\springsource\sts-3.0.0.RELEASE;
USERNAME=Aeshyu
OS=Windows_NT
PROCESSOR_IDENTIFIER=x86 Family 6 Model 23 Stepping 6, GenuineIntel

---------------  S Y S T E M  ---------------

OS: Windows XP Build 2600 Service Pack 3

CPU:total 2 (2 cores per cpu, 1 threads per core) family 6 model 23 stepping 6, cmov, cx8, fxsr, mmx, sse, sse2, sse3, ssse3, sse4.1

Memory: 4k page, physical 2085996k(763556k free), swap 4024484k(2285216k free)

vm_info: Java HotSpot(TM) Client VM (20.0-b11) for windows-x86 JRE (1.6.0_25-b06), built on Apr 14 2011 01:04:32 by "java_re" with MS VC++ 7.1 (VS2003)

time: Wed Nov 28 18:45:55 2012
elapsed time: 267 seconds 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T09:51:32.567

我刚刚也有类似的事情发生在我身上。在我的情况下，有一个错误的 jar 文件（无效的 ZIP 格式）污染了我的一个项目，我最后所做的是擦除工作区并重新开始（删除 .metadata 目录并重新启动 IDE），通过省略该项目消除并从头开始重新创建它的过程。

您可以尝试使用 -refresh 启动 STS（在命令行中）。它有时有助于解决 Eclipse 问题，但这个问题看起来更严重。

您也可以尝试升级您的 JVM。

# java - 注销后用户也正在执行操作，我必须编写什么代码来防止该注销用户？

> ID：13620809
> 
> 赞同：0
> 
> 时间：2012-11-29T07:28:30.260
> 
> 标签：java, gwt

全部！注销后，用户也在我创建的用 gwt 和 java 开发的网站中执行操作，我必须编写什么代码来阻止该用户？我的意思是如何编写代码来防止“注销”后的用户操作。每当用户在注销后点击页面上的任何链接时，他应该看到消息“您尚未登录查看”，这是我的要求。有人可以说吗？....谢谢巴拉...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:19:31.143

如果您使用活动和地点方法来构建您的网站。然后在每个活动开始时，您应该检查会话是否仍然有效。如果没有，那么您可以使用 goTo(new LoginPlace("login")) 或者您可以使用重定向方法重定向到您的 loginURL。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T09:00:18.387

您需要将他重定向到您的注销页面/url，然后使他的 servlet 会话无效。

1) Servlet 过滤器，您可以使用`httpServletRequest.getSession().invalidate()`. [http://viralpatel.net/blogs/http-session-handling-tutorial-using-servlet-filters-session-error-filter-servlet-filter/](http://viralpatel.net/blogs/http-session-handling-tutorial-using-servlet-filters-session-error-filter-servlet-filter/)

或者

2) 通过一个简单的 servlet - [Servlet 会话无效](https://stackoverflow.com/questions/4004417/servlet-session-invalidate)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T10:16:37.580

看看[这个](https://developers.google.com/web-toolkit/tools/gwtdesigner/tutorials/loginmanager)链接 这解释了你如何使用 GWT 编写登录应用程序

或者在代码中..如果你有 MyProfilePlace,MyProfileView 那么 MyProfileActivity 看起来像

```
private ClientFactory clientFactory;

      public MyProfileActivity(MyProfilePlace place, ClientFactory clientFactory) {

    this.clientFactory = clientFactory;

 }

@Override
public void start(AcceptsOneWidget containerWidget, EventBus eventBus) {

            //pseudo code
    if (session invalidated {
        Window.alert("Sorry you are not logged in");
        goTo(new LoginPlace("login"));
    }

    view = clientFactory.getMyProfileView();
    view.setPresenter(this);
    containerWidget.setWidget(view.asWidget());
    System.out.println("Going to your profile");
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-27T09:25:13.417

考虑一下实际上是什么会话......
现在，请记住维护会话的常见（不是唯一）方式是什么。

也许您会记得 cookie 之类的东西 - 如果您（尝试）删除/删除/清除服务器上的会话并**清除**客户端的 cookie，您将有效地终止/删除会话。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-30T06:55:57.523

考虑当用户单击屏幕上的按钮时的这种情况。您可以点击服务器并检查会话是否处于活动状态。

（您可以使用 jquery 来做到这一点）

> ```
> $('button').click(function(){ 
> ```
> 
> //进行ajax调用并检查会话是否处于活动状态
> 
> ```
> }); 
> ```

与此交替，

方法可以是定期检查服务器，如果会话有效。这将需要 Servlet 方法来检查它，这将导致许多服务器跳闸。

另一种方法可以使客户端的计时器与服务器的计时器保持同步。

客户端代码：

```
import com.google.gwt.user.client.Timer; 
```

公共类计时器{

```
private static final Timer SESSION_MAY_HAVE_EXPIRED = new Timer() {

    @Override
    public void run() {
        // The session may have expired.
        // Go to Login
    }
};

public static void renewSessionTimer() {

    // First cancel the previous timer
    SESSION_MAY_HAVE_EXPIRED.cancel();

    // Schedule again for 5 minutes
    SESSION_MAY_HAVE_EXPIRED.schedule(5 * 60 * 1000);
} 
```

}

当客户端执行 RPC 调用时，服务器会话超时将被更新。

在客户端，然后您编写任何操作失败的代码。

假设点击我的 profile.myprofileService 被调用。然后你可以添加

```
myProfileService.getUserProfile(...) {

 @Override
 public void onSuccess(String result) {

      ClientTimers.renewSessionTimer();

      // Show user profile
 }

 @Override
 public void onFailure(Throwable caught) {

      if (sessionTimedOut()) {

          // redirect to login

      }   

} 
```

}

我希望这有帮助。干杯:)

# svn - Tortoise SVN 导入存储库但不更新文件夹图标

> ID：13620813
> 
> 赞同：0
> 
> 时间：2012-11-29T07:28:46.953
> 
> 标签：svn, tortoisesvn

我正在使用 Tortoise SVN 连接到 java.net 存储库。我使用 Tortoise SVN 1.7 将一个项目（一个文件夹）导入到`{base_repository_url}/projectFolderName`存储库中。

它将所有内容导入到存储库上的文件夹中的文件夹中，但在我的本地计算机上，我仍然没有在我的文件夹上看到任何特殊的 SVN 图标，因为 .svn 文件夹不是在我的项目文件夹中创建的。

其次，我浏览了存储库，但项目文件夹已成功导入。我是不是做错了什么，或者 Tortoise SVN 1.7 中是否存在一个错误，即使在导入文件夹后也不会在其中创建 .svn 文件夹，因此再次右键单击同一个项目文件夹可以选择再次导入，由于项目已经导入并且重试会给您一个错误，因此您无法确定。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T08:42:56.697

*   图标覆盖将仅出现在**工作副本**对象上（如果启用）
*   当您导入一些未版本化的树时，您将其添加到**存储库**
*   导入树不会将树转换为版本化的工作副本
*   为了使用 Repository 中的数据，您必须从 Repository 签出到另一个以前为空的目录，该目录之后成为工作副本（带有覆盖）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T08:27:57.657

如果我没记错的话，导入目录不会使您的本地目录成为工作副本。您需要再次结帐。所以这是设计使然，没有像您期望的那样工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T08:40:46.650

从[将数据导入存储库](http://tortoisesvn.net/docs/nightly/TortoiseSVN_en/tsvn-dug-import.html)一章：

> 导入的文件夹不会成为工作副本。您必须进行结帐才能将文件从服务器复制回来。

这就是您看不到**.svn**文件夹的原因。这是对还是错取决于您要如何处理项目文件。要为项目做出贡献，您需要使用**Checkout**菜单命令。看[这里](http://tortoisesvn.net/docs/nightly/TortoiseSVN_en/tsvn-qs-guide.html#tsvn-qs-wc)

# ruby-on-rails - Rails：如何使用 kaminari 对多个模型进行分页？

> ID：13620817
> 
> 赞同：4
> 
> 时间：2012-11-29T07:29:16.613
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, kaminari

我在控制器中有一些这样的代码：

```
def index

 @plays = current_user.plays.includes(:game).order("created_at desc")

 @wants = current_user.wants.includes(:game).order("created_at desc")

 @ratings = current_user.ratings.includes(:game).order("created_at desc") 

 @activities = (@plays + @wants + @ratings).sort_by {|a| a.created_at}.reverse

end 
```

我想做的是使用 kaminari 对其进行分页。需要明确的是，我希望将所有这些“活动”视为一个“提要”，并以相反的 created_at 顺序进行分页。我不想一次分页每种类型的 5 个或类似的东西。

任何帮助你都很棒！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-29T14:34:17.030

Kaminari 处理数组...

```
Kaminari.paginate_array(@activities).page(params[:page]).per(10) 
```

# websocket - WebRTC：数据通道可以用于信令吗？

> ID：13620818
> 
> 赞同：7
> 
> 时间：2012-11-29T07:29:18.890
> 
> 标签：websocket, webrtc

我正在开发一个实现 webRTC 技术的项目，我想知道我是否可以使用数据通道来像 webSockets 那样发送信号，或者数据通道可以通过发送全局数据来替换对等连接，所以我需要使用 webSockets 来制作信令部分到服务器？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-30T15:43:07.127

事实上，答案是肯定的。

让我详细说明一下：一旦连接了 PeerConnection（通过任何方式 - WebSockets、https 等），那么您可以重新协商（新的 CreateOffer/CreateAnswer/etc）并通过 DataChannel 发送它们。这意味着在某些情况下，重新协商明显更快，特别是对于两个端点都远离服务器的情况，或者如果两者都在同一个 LAN 中，等等（也降低了服务器上的负载，尽管这可能无关紧要，并且不依赖于维护呼叫状态的服务器。）

您还可以通过 PeerConnection 使用 DataChannel 到充当会议中心或信令服务器的服务器，以进行重新协商（在会议中）并启动与连接到集线器或服务器的其他人的连接。

如果是“我想直接随机连接到其他人而不通过服务器”，答案是否定的；您首先需要一个已连接的 PeerConnection。如果您想交换报价和​​答案，可以使用[IPoAC 。](http://en.wikipedia.org/wiki/IP_over_Avian_Carriers)之后，您可以使用 DataChannels（它可能会更快一些）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T08:01:57.340

我觉得**不行**！！！

因为对于第一次握手，您需要一个服务器来发送信号。

而且我认为如果没有握手，我们将无法使用**DataChannel**共享文本或文件。

我对[这个仅限 JavaScript 的 WebRTC 实验](https://webrtc-experiment.appspot.com/javascript/)做了同样的事情！- 见[源代码](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/JavaScript-Only)。我使用[PubNub](http://www.pubnub.com/)进行信令和**ICE**交换的地方。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-28T16:36:01.160

正如jesup所说，答案是肯定的。

信令可以发生在任何传输上。我推荐使用 websockets，因为大多数[浏览器都支持它](http://caniuse.com/websockets)。

如果您不想经历设置自己的信令服务器的麻烦，您可以使用 Pubnub 或[Pusher](http://pusher.com)为您处理。

如果您有兴趣了解更多信息，这里有一个[webRTC 信令教程。](http://pusher.com/tutorials/webrtc_chat)

[http://pusher.com/tutorials/webrtc_chat](http://pusher.com/tutorials/webrtc_chat)

免责声明：我在 Pusher 工作。

# javascript - 如何防止 Javascript 对象丢失数组/对象引用

> ID：13620821
> 
> 赞同：1
> 
> 时间：2012-11-29T07:29:41.837
> 
> 标签：javascript, javascript-objects

我写了一个字典对象或地图对象，无论您喜欢哪个名称，我都遇到了一个问题，在创建第二个对象后不会丢失对该对象的引用。
例如，我希望持有一个带有书籍和摘要的对象，以及一个带有汽车及其成本的对象。结果以两个映射都设置为第二个映射值结束。

```
function Dictionary() {
    var _size = 0;
    var _dict = new Object();
    var _keys = new Array();
    var _values = new Array();
    var _firstKey = "";
    var _lastKey = "";

    Dictionary.prototype.put = function () {
        if (_size == 0)
            _firstKey = arguments[0];

        _keys.push(arguments[0]);
        _values.push(arguments[1]);
        _dict[arguments[0]] = arguments[1];
        _lastKey = arguments[0];
        _size++;
    };

    Dictionary.prototype.firstKey = function () {
        return _firstKey;
    };

    Dictionary.prototype.lastKey = function () {
        return _lastKey;
    };

    Dictionary.prototype.get = function () {
        return _dict[arguments[0]];
    };

    Dictionary.prototype.size = function () {
        return _size;
    };

    Dictionary.prototype.entrySet = function () {
        return _dict;
    };

    Dictionary.prototype.key = function () {
        return _keys;
    };

    Dictionary.prototype.vaules = function () {
        return _values;
    };

    Dictionary.prototype.clear = function () {
        _size = 0;
        _dict = new Object();
        _keys = new Array();
        _values = new Array();
        _firstKey = "";
        _lastKey = "";
    };

    Dictionary.prototype.remove = function () {
        var keyIndex;
        if (_size >= 1) {
            for (var i = 0; i < _keys.length; i++) {
                if (arguments[0] == _keys[i])
                    keyIndex = i;
            }

            if (keyIndex === undefined)
                return undefined

            _dict = removeItemObject(_dict, arguments[0]);
            _keys = removeItemArray(_keys, keyIndex);
            _values = removeItemArray(_values, keyIndex);

            if (_keys.length > 0 && _keys.length == keyIndex) {
                _lastKey = _keys[keyIndex - 1];
            }

            if (_keys.length == 0)
                _lastKey = undefined;

            if (0 == keyIndex) {
                if (_keys.length > 1)
                    _firstKey = _keys[1];

                else if (_keys.length > 0)
                    _firstKey = _keys[0];

                else if (_keys.length == 0)
                    _firstKey = undefined;
            }

            _size--;

        }
    };

    Dictionary.prototype.serialize = function () {
        var serializedFJSON = "{";
        serializedFJSON += "\"size\"" + ":" + _size + ",";
        serializedFJSON += "\"dict\"" + ":" + JSON.stringify(_dict) + ",";
        serializedFJSON += "\"keys\"" + ":" + JSON.stringify(_keys) + ",";
        serializedFJSON += "\"values\"" + ":" + JSON.stringify(_values) + ",";
        serializedFJSON += "\"firstKey\"" + ":" + "\"" + _firstKey + "\"" + ",";
        serializedFJSON += "\"lastKey\"" + ":" + "\"" + _lastKey + "\"" + "";
        serializedFJSON += "}";
        return serializedFJSON;
    };

    Dictionary.prototype.deserialize = function () {
        var DictionaryClone = JSON.parse(arguments[0]);
        _size = DictionaryClone.size;
        _dict = DictionaryClone.dict;
        _keys = DictionaryClone.keys;
        _values = DictionaryClone.values;
        _firstKey = DictionaryClone.firstKey;
        _lastKey = DictionaryClone.lastKey;
    };

    function removeItemArray(arrayName, key) {
        var x;
        var tmpArray = new Array();
        for (x in arrayName) {
            if (x != key) { tmpArray[x] = arrayName[x]; }
        }
        return tmpArray;
    };

    function removeItemObject(arrayName, key) {
        var x;
        var tmpArray = new Object();
        for (x in arrayName) {
            if (x != key) { tmpArray[x] = arrayName[x]; }
        }
        return tmpArray;
    };
}

var m = new Dictionary();
m.put("Lord Of The Rings", "Not One Book But, Three");
m.put("Curious George", "I Don't Know Something About a Guy In A Rain Coat");

var k = new Dictionary();
k.put("Scion FRS", "24955");
k.put("Toyota Camry", "22055");

k.remove("Toyota Camry");

for (items in m.entrySet()) {
    alert(items + " " + m.entrySet()[items]);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:35:19.923

这是因为您正在使用`Dictionary.prototype`您的方法。将它们替换为`this`，它将起作用：

```
this.put = function()

this.firstKey = function()

this.lastKey = function()

... 
```

使用`this`关键字，您正在为您的`Dictionary`[sort of] 类分配方法。您只是将功能公开。如果您查看诸如此类的函数，`removeItemArray()`则这些函数是私有的，并且只能从对象内部访问。

原型的工作方式不同。[这是这个](https://stackoverflow.com/questions/572897/how-does-javascript-prototype-work)关于原型的问题的答案的一个很好的引用：

> 原型是用于构造所有新实例的基础，并且还将动态修改所有已构造的对象，因为在 Javascript 中对象保留指向原型的指针

原型的目的是提供在运行时向对象添加方法的能力。如果您来自传统的 OOP 语言，这可能看起来有点陌生，在传统的 OOP 语言中，您传统上预先定义了一个类及其方法。

看看那个问题中的其他答案，它们很好地解释了原型。

# css - 溢出：以可变 100% 宽度隐藏

> ID：13620824
> 
> 赞同：0
> 
> 时间：2012-11-29T07:29:51.307
> 
> 标签：css, width, overflow, floating, nowrap

我在容器 div 中有一些并排的列表。容器 div 的宽度必须为 100%。

如果容器中的任何列表超过浏览器宽度，它们都应该溢出窗口。

我可以让它按需要工作的唯一方法是，如果我给我的容器一个固定的 px 宽度。

我被困住了，我相信这很简单。

请参阅：http: [//jsfiddle.net/sPKEp/7/](http://jsfiddle.net/sPKEp/7/)

```
.small-list {
background-color:#797979;
display:block;
width:640px; /* <-- This at 640px behaves correct. I need this to be 100% though */
height:81px;
max-height:81px;
margin:0px;
padding:0px;
}
ul {
display:block;
float:left;
overflow:hidden;
height:81px;
max-height:81px;
width: 100px;
list-style-type: none;
padding: 0px;
margin: 0 5px 0 5px;
background-color:#c9c9c9;
}
li {
display:block;
padding:0px;
width: 100px;
height: 25px;
background-color:#2b2b2b;
border:1px solid #fff;
line-height:1em;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:43:51.383

添加`white-space: nowrap`到您的 .small-list 并将您的`float: left`ul 更改为`display: inline-block`'s

[http://jsfiddle.net/sPKEp/30/](http://jsfiddle.net/sPKEp/30/)

但看起来你真正想要的是一个`<table>`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:38:36.877

像这样对你的css进行一些更改

```
.small-list {
background-color:#797979;
display:block;
width:640px; /* <-- This at 640px behaves correct. I need this to be 100% though */
height:81px; // remove this line
max-height:81px; // remove this line
margin:0px;
padding:0px;
overflow:hidden; // add this line
}
ul {
display:block; // remove this line
float:left;
overflow:hidden;  // remove this line
height:81px;
max-height:81px;
width: 100px;
list-style-type: none;
padding: 0px;
margin: 0 5px 0 5px;
background-color:#c9c9c9;
}
li {
display:block;
padding:0px;
width: 100px;  // remove this line
height: 25px;
background-color:#2b2b2b;
border:1px solid #fff;
line-height:1em;
} 
```

***[现场演示](http://jsfiddle.net/rohitazad/sPKEp/28/)***

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:39:45.150

您可以为 .small-list div 尝试此操作，但这取决于您希望如何隐藏列表。

```
.small-list {
  background-color:#797979;
  display:block;
  width:100%;
  height:81px;
  max-height:81px;
  margin:0px;
  padding:0px;
  overflow: hidden;
} 
```

# java - 一些更高级的递归

> ID：13620830
> 
> 赞同：-1
> 
> 时间：2012-11-29T07:30:12.617
> 
> 标签：java

我已经四处寻找了一段时间，但我没有找到任何对我有帮助的东西。我必须编写一个程序，它使用一种方法（主要方法）来读取数组的大小/元素。然后我必须编写一个名为“forwardsEqualBackwards”的递归方法，如果数组的元素可以以相同的方式读取，则无论是向前还是向后读取数组，它都会返回*true*（这是一个测试，看看它是否是回文）和否则为假。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:36:01.417

伪代码：

```
bool forwardsEqualBackwards(array a, int length, int indexToLookAt=0)
{
  if (indexToLookAt >= length-indexToLookAt-1)
    return true; //reached end of recursion
  if (a[indexToLookAt] == a[length-indexToLookAt-1])
    return forwardsEqualBackwards(a,length, indexToLookAt+1); //normal recursion here
  else 
    return false;
}

forwardsEqualBackwards("",0);  //returns true
forwardsEqualBackwards("a",1);  //returns true
forwardsEqualBackwards("otto",4);  //returns true
forwardsEqualBackwards("otsto",5);  //returns true
forwardsEqualBackwards("otstou",5);  //returns false 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:37:12.463

```
bool method(int start, int end)
{
     if(start<=end)
     {
           if(Array[start]!=array[end])
                 return false;
           return method(start+1, end-1)
     }
     return true;

} 
```

# jquery - 更高级的 jquery 切换脚本

> ID：13620833
> 
> 赞同：1
> 
> 时间：2012-11-29T07:30:27.307
> 
> 标签：jquery, drop-down-menu

我有一个主导航按钮，在悬停时略微向下移动，然后在悬停时再次返回。单击此按钮会释放一个包含大量 html 的下拉 div，再次单击时，显然该框会返回。然而，页面上的其他带有下拉菜单的按钮需要相互避开，因此每个按钮也会关闭所有其他下拉框。现在我用切换来做，如果你用另一个按钮关闭框，你必须点击两次才能在主按钮上再次下拉下拉菜单。

切换是有效的，但是使用 if 语句来切换样式 jquery 动画的有效方法是什么？因此，如果向下动画，则单击单击，向上动画，否则向下动画。我基本上不知道如何在 if 部分里面写。我见过类似 if(:animated) 的例子，但那是为了判断是否有任何一般动画。我有很多实例我想应用它，所以我需要具体如下：

`if(:animation).top = 150{ (div).animate(top = 0)} else {(div).animate(top = 150)}`

另外，当您翻转并且顶部按钮向下移动一点时，当下拉菜单向下时我将如何保持向下并在下拉菜单重新向上时重新向上？

这是一个jsfiddle，所以你可以更容易地看到我在说什么。它并不完美，但我的主页看起来很相似，如果我在任何部分感到困惑，请告诉我，我会编辑它！

[http://jsfiddle.net/9DN52/1/](http://jsfiddle.net/9DN52/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:17:19.530

在我看来，您的代码足够有效，因此您需要做的只是添加一个类以查看它是否被点击而不是停止悬停的动作。

jQuery：

```
$("#down").hover(
    function() {
        $(this).stop().animate({top:0},200);
    },
    function() {
        // this will alert the situation for you to understand
        alert($(this).hasClass("isDown"));
        // if its clicked than do not move!
        if ($(this).hasClass("isDown") == false) {
            $(this).stop().animate({top:-5},220);
        }
    }
);

$("#down").click(
    function() {
        $("#DropUp").stop().animate({bottom:-250},220);
        // Add a class to see if its clicked
        $(this).toggleClass("isDown");
    }
); 
```

在你的小提琴周围工作：http: [//jsfiddle.net/9DN52/14/](http://jsfiddle.net/9DN52/14/)

**编辑：**

我还解决了几个错误，修复了一些代码，添加了描述，我认为您真正想要做的是：

jQuery：

```
// Actually you can do this with css transition
// Remove these descriptions for a cleaner looking code
$("#down").hover(
    function() { $(this).stop().animate({top:0},200); },
    function() {
        // if its clicked than do not move!
        if ($(this).hasClass("isDown") == false) {
            $(this).stop().animate({top:-5},220);
        }
    }
);
// Instead of toggle simple click action is enough
$("#down").click( function() {
    // Thanks to class selector now we know
    // if its clicked or down, so we know what to do..
    if ($("#down").hasClass("isDown") == false) {
        $("#DropDown").stop().animate({top:0},250);
        // if footer is up already this will hide it
        $("#DropUp").stop().animate({bottom:-250},220);
        $("#up").removeClass("isUp");
    } else {
        $("#DropDown").stop().animate({top:-250},220);
    }
    // Each click should change the down situation
    $("#down").toggleClass("isDown");
});
// Instead of toggle simple click action is enough
$("#up").click( function() {
    // If its up already
    if ($(this).hasClass("isUp") == false) {
        $("#DropUp").stop().animate({bottom:0},250);
        // if header is down already this will hide it
        $("#DropDown").stop().animate({top:-250},220);
        $("#down").stop().animate({top:-5},220).removeClass("isDown");
    } else {
        $("#DropUp").stop().animate({bottom:-250},220);
    }
    // Each click should change the up situation
    $("#up").toggleClass("isUp");
}); 
```

小提琴：http: [//jsfiddle.net/9DN52/43/](http://jsfiddle.net/9DN52/43/)

# xcode - Xcode：将 Xcode 升级到 4.5 并将 osx 升级到 10.7.5 后如何禁用提示“文档不受源代码管理”？

> ID：13620835
> 
> 赞同：0
> 
> 时间：2012-11-29T07:30:39.843
> 
> 标签：xcode, macos

在将 Xcode 从 4.3 升级到 4.5，osx 从 10.7.4 升级到 10.7.5 之后，我遇到了一个非常烦人的问题，当我单击每个 xcode 项目时，会出现一个提示弹出对话框，它阻止我继续。但是，很多项目只是为了学习，所以它们不会被添加到存储库中。

那么如何禁用对话框？感谢您的回复。

下面是一个快照。

![在此处输入图像描述](../Images/5ab5e9388bc60097c0d8dfe607976ab1.png)

# python - 我的循环和文件 I/O

> ID：13620837
> 
> 赞同：0
> 
> 时间：2012-11-29T07:30:41.350
> 
> 标签：python

如何让我的循环写入文件，直到我停止循环？

例如

```
outFile = "ExampleFile.txt", "w"
example = raw_input(" enter number. Negative to stop ")
while example >= 0:
    example = raw_input("enter number. Negative to stop")
    outFile.write("The number is", example,+ "\n") 
```

我觉得我很接近它，但我不确定。我不知道如何特别搜索这个问题。抱歉，当我输入超过 2 个参数时，我不断收到错误消息，指出该函数需要 1 个参数。

```
import os.path
outFile = open("purchases.txt","w")
quantity = float(raw_input("What is the quantity of the item :"))
cost = float(raw_input("How much is each item :"))

while quantity and cost >= 0:
    quantity = float(raw_input("What is the quantity of the item :"))
    cost = float(raw_input("How much is each item :"))
    total = quantity * cost
    outFile.write("The quantity is %s\n"%(quantity))
    outFile.write("the cost of the previous quality is $s\n" %(cost))
    outFile.close()
    outFile = open("purchases.txt","a")
    outFile.write("The total is ",total)
    outFile.close() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:31:38.417

当你写：

```
outFile = "ExampleFile.txt", "w" 
```

你创建一个`tuple`，而不是一个`file`对象。

你可能打算写：

```
outFile = open('ExampleFile.txt','w') 
```

当然，您可以使用上下文管理器做得更好：

```
with open('ExampleFile.txt','w') as outFile:
    #... 
```

* * *

您的代码有第二个错误：

```
outFile.write("The number is", example,+ "\n") 
```

暴露 SyntaxError ( `,+`)，`file.write`只需要 1 个参数。你可能想要这样的东西：

```
outFile.write("The number is {0}\n".format(example)) 
```

或使用旧样式的字符串格式（根据要求）：

```
outFile.write("The number is %s\n"%(example)) 
```

# solr - 使用 Solr 从 phpMyAdmin 索引 XML 文件

> ID：13620838
> 
> 赞同：2
> 
> 时间：2012-11-29T07:30:47.097
> 
> 标签：solr, phpmyadmin

我是 Solr 的新手，想索引一个由 PhpMyAdmin 制作的 XML 文件。但是，该文件具有表和列，每当我将其放在示例目录中时，Solr 都不会对其进行索引。

==================================================== ====================

```
<?xml version="1.0" encoding="utf-8"?>
<!--
- phpMyAdmin XML Dump
- version 3.5.1
- http://www.phpmyadmin.net
-
- Host: localhost
- Generation Time: Nov 22, 2012 at 07:33 AM
- Server version: 5.5.24-log
- PHP Version: 5.3.13
-->

<pma_xml_export version="1.0" xmlns:pma="http://www.phpmyadmin.net/some_doc_url/">
    <!--
    - Structure schemas
    -->
    <pma:structure_schemas>
        <pma:database name="blog" collation="latin1_swedish_ci" charset="latin1">
            <pma:table name="post">
                CREATE TABLE `post` (
                  `post_id` int(11) NOT NULL,
                  `Title` varchar(50) NOT NULL,
                  `Author` varchar(50) NOT NULL,
                  `Status` varchar(15) NOT NULL,
                  `Date` date NOT NULL,
                  `Time` time NOT NULL,
                  `Text` varchar(1000) NOT NULL,
                  `Category` varchar(25) NOT NULL,
                  `Tags` varchar(10000) NOT NULL,
                  `Links` varchar(10000) NOT NULL,
                  `Ratings` int(11) NOT NULL,
                  PRIMARY KEY (`post_id`),
                  UNIQUE KEY `post_id` (`post_id`),
                  UNIQUE KEY `post_id_2` (`post_id`)
                ) ENGINE=InnoDB DEFAULT CHARSET=latin1;
            </pma:table>
        </pma:database>
    </pma:structure_schemas>

    <!--
    - Database: 'blog'
    -->
    <database name="blog">
        <!-- Table post -->
        <table name="post">
            <column name="post_id">1</column>
            <column name="Title">Human Interface device to Com-port</column>
            <column name="Author">n72.241</column>
            <column name="Status">Answered</column>
            <column name="Date">2012-03-19</column>
            <column name="Time">10:00:09</column>
            <column name="Text">Is there a way to force input from USB HID into specific com-port?</column>
            <column name="Category">Human Interface</column>
            <column name="Tags">interface, com-port, device, human interface</column>
            <column name="Links">www.something.com</column>
            <column name="Ratings">8</column>
        </table>
        <table name="post">
            <column name="post_id">2</column>
            <column name="Title">Human Interface device to Com-port</column>
            <column name="Author">Narmeen</column>
            <column name="Status">Answered</column>
            <column name="Date">2012-03-19</column>
            <column name="Time">10:15:30</column>
            <column name="Text">What do you exactly mean? serial data throughput is thousands of time slower then usb</column>
            <column name="Category"></column>
            <column name="Tags"></column>
            <column name="Links"></column>
            <column name="Ratings">0</column>
        </table>
        <table name="post">
            <column name="post_id">3</column>
            <column name="Title">Human Interface device to Com-port</column>
            <column name="Author">orb</column>
            <column name="Status">Answered</column>
            <column name="Date">2012-03-19</column>
            <column name="Time">10:25:30</column>
            <column name="Text">on hardware/firmware level or OS/driver level, and if OS/driver, then what OS?</column>
            <column name="Category"></column>
            <column name="Tags"></column>
            <column name="Links"></column>
            <column name="Ratings">0</column>
        </table>
        <table name="post">
            <column name="post_id">4</column>
            <column name="Title">Human Interface device to Com-port</column>
            <column name="Author">someone</column>
            <column name="Status">Answered</column>
            <column name="Date">2012-03-19</column>
            <column name="Time">11:00:00</column>
            <column name="Text">Im putting some long text to see how its looks on the main site.A human interface device or HID is a type of computer device that interacts directly with, and most often takes input from, humans and may deliver output to humans. The term &quot;HID&quot; most commonly refers to the USB-HID specification. The term was coined by Mike Van Flandern of Microsoft when he proposed the USB committee create a Human Input Device class working group.[when?] The working group was renamed as the Human Interface Device class at the suggestion of Tom Schmidt of DEC because the proposed standard supported bi-directional communication.[when?]ww/</column>
            <column name="Category"></column>
            <column name="Tags"></column>
            <column name="Links"></column>
            <column name="Ratings">0</column>
        </table>
        <table name="post">
            <column name="post_id">5</column>
            <column name="Title">Human Interface device to Com-port</column>
            <column name="Author">n72.241</column>
            <column name="Status">Answered</column>
            <column name="Date">2012-11-08</column>
            <column name="Time">11:15:00</column>
            <column name="Text">Human interface guidelines (HIG) are software development documents which offer application developers a set of recommendations. Their aim is to improve the experience for the users by making application interfaces more intuitive, learnable, and consistent. Most guides limit themselves to defining a common look and feel for applications in a particular desktop environment. The guides enumerate specific policies. Policies are sometimes based on studies of human-computer interaction (so called usability studies), but most are based on arbitrary conventions chosen by the platform developers. The central aim of a HIG is to create a consistent experience across the environment (generally an operating system or desktop environment), including the applications and other tools being used. This means both applying the same visual design and creating consistent access to and behaviour of common elements of the interface - from simple ones such as buttons and icons up to more complex construction</column>
            <column name="Category">Human interface</column>
            <column name="Tags">human cateogy text checking</column>
            <column name="Links">something.com</column>
            <column name="Ratings">8</column>
        </table>
        <table name="post">
            <column name="post_id">6</column>
            <column name="Title">some other things</column>
            <column name="Author">me</column>
            <column name="Status">not answered</column>
            <column name="Date">2012-11-30</column>
            <column name="Time">10:00:00</column>
            <column name="Text">Rommendations and advice meant to help developers create better applications. Developers sometimes intentionally choose to break them if they think that the guidelines do not fit their application, or usability testing reveals an advantage in doing so. But in turn, the organization publishing the HIG might withhold endorsement of the application. Mozilla Firefox's user interface, for example, goes against the GNOME project's HIG, which is one of the main arguments for</column>
            <column name="Category">Not right</column>
            <column name="Tags">here, there anywhere</column>
            <column name="Links">checking.com</column>
            <column name="Ratings">5</column>
        </table>
        <table name="post">
            <column name="post_id">7</column>
            <column name="Title">some other things again</column>
            <column name="Author">xyz</column>
            <column name="Status">Answered</column>
            <column name="Date">2012-12-29</column>
            <column name="Time">12:00:00</column>
            <column name="Text">Human interface guidelines often describe the visual design rules, including icon and window design and style. Frequently they specify how user input and interaction mechanisms work. Aside from the detailed rules, guidelines sometimes also make broader suggestions about how to organize and design the application and write user-interface text.
HIGs are also done for applications. In this case the HIG will build on a platform HIG by adding the common semantics for a range of application functions</column>
            <column name="Category">nothing</column>
            <column name="Tags">sfksdjghsklgjlsgj</column>
            <column name="Links">something.com</column>
            <column name="Ratings">0</column>
        </table>
        <table name="post">
            <column name="post_id">8</column>
            <column name="Title">noting to say</column>
            <column name="Author">na</column>
            <column name="Status"></column>
            <column name="Date">2012-11-16</column>
            <column name="Time">00:00:00</column>
            <column name="Text">what if this dosent works then what will i do now here</column>
            <column name="Category">sdfsdfs</column>
            <column name="Tags"></column>
            <column name="Links"></column>
            <column name="Ratings">0</column>
        </table>
        <table name="post">
            <column name="post_id">9</column>
            <column name="Title">checkinf for time</column>
            <column name="Author">na</column>
            <column name="Status">Answered</column>
            <column name="Date">2012-10-10</column>
            <column name="Time">09:00:00</column>
            <column name="Text">hoping this works now</column>
            <column name="Category">nothing</column>
            <column name="Tags">afjalfjaf</column>
            <column name="Links">kdflsdfj</column>
            <column name="Ratings">8</column>
        </table>
    </database>
</pma_xml_export> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T09:31:25.437

首先，为了索引 XML 文件，您应该将其转换为 Solr 文档格式，如下所示。

```
<add>
    <doc>
        <field ...
        <field ...
    </doc>
    <doc>
        <field ...
        <field ...
    </doc>
</add> 
```

[或者，您可以使用数据导入](http://wiki.apache.org/solr/DataImportHandler)处理程序通过从关系数据库获取数据来索引数据。

# multithreading - Qt - 关闭被系统级调用阻塞的 QThreads

> ID：13620841
> 
> 赞同：3
> 
> 时间：2012-11-29T07:30:54.213
> 
> 标签：multithreading, qt, blocking, system-calls

我有一个线程阻塞，直到从系统资源（如 USB 设备）接收到数据。我之所以选择这个模型，是因为数据量可能会有所不同，并且随时可能收到数据。退出应用程序后，我收到消息“<strong>QThread: Destroyed while thread is still running”。我应该如何关闭这些线程？

我查看了其他问题/解决方案，例如：

*   [http://www.qtcentre.org/threads/14429-Loop-inside-Qthread-causes-quot-QThread-Destroyed-while-thread-is-still-running-quot](http://www.qtcentre.org/threads/14429-Loop-inside-Qthread-causes-quot-QThread-Destroyed-while-thread-is-still-running-quot)
*   [http://www.qtcentre.org/threads/6211-QThread-Destroyed-while-thread-is-still-running](http://www.qtcentre.org/threads/6211-QThread-Destroyed-while-thread-is-still-running)

第一个解决方案涉及使用标志（包含在我的代码中）但是我的线程永远不会到达标志检查。第二个解决方案使用 QWaitCondition 但似乎与第一个解决方案相同。

我已经包含了下面代码的精简版本。系统调用 WaitForSingleObject() 是我实际使用的 (GetOverlappedResult()) 的替代品。

```
#ifndef CONTROLLER_H
#define CONTROLLER_H

#include <QObject>
#include <QThread>
#include <QReadWriteLock>
#include <QDebug>

#ifdef Q_OS_WIN
    #include <windows.h>
#endif // Q_OS_WIN

#ifdef Q_OS_LINUX
    #include <unistd.h>
#endif // Q_OS_LINUX

////////////////////////////////////////////////
//
//  Worker Object
//
////////////////////////////////////////////////
class Worker : public QObject {
    Q_OBJECT

public:
    QReadWriteLock lock;
    bool running;

public slots:
    void loop() {
        qDebug() << "entering the loop";
        bool _running;
        forever {

            lock.lockForRead();
            _running = running;
            lock.unlock();

            if (!_running) return;

            qDebug() << "loop iteration";

            #ifdef Q_OS_WIN
                HANDLE event = CreateEvent(NULL, FALSE, FALSE, NULL);
                WaitForSingleObject(event, INFINITE);
            #endif // Q_OS_WIN

            #ifdef Q_OS_LINUX
                read(0, 0, 1);
            #endif // Q_OS_LINUX
        }
    }
};

////////////////////////////////////////////////
//
//  Controller
//
////////////////////////////////////////////////
class Controller {
public:
    Controller() {
        myWorker.connect(&myThread, SIGNAL(started()), &myWorker, SLOT(loop()));
        myWorker.moveToThread(&myThread);
        myThread.start();
    }

    ~Controller() {
        // Safely close threads

        myWorker.lock.lockForWrite();
        myWorker.running = false;
        myWorker.lock.unlock();

        myThread.quit();

        //myThread.wait();
        //myThread.exit();
        //myThread.terminate();
    }

private:
    QThread myThread;
    Worker myWorker;
};

#endif // CONTROLLER_H 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-30T12:14:23.730

**对于 Linux：**

使用 pthread_kill() 向线程发送信号会中断 read()，失败代码为 EINTR。sigaction() 用于注册信号，抛出的信号是SIGUSR1。

```
// Global scope
void nothing(int signum) {}

...

// Within the start of the thread
pthread_t myThreadID = pthread_self(); // Get the thread ID
struct sigaction action;
action.sa_flags = 0;
sigemptyset(&action.sa_mask);
action.sa_handler = nothing;
sigaction(SIGUSR1, &action, NULL);

...

// When it's time to close the thread
pthread_kill(myThreadID, SIGUSR1); 
```

**对于 Windows：**

使用 SetEvent() 向 OVERLAPPED 的 hEvent 发送信号用于解除对 GetOverlappedResult() 的阻塞。

```
// Store a reference to the event
HANDLE myEvent = CreateEvent(NULL, FALSE, FALSE, NULL);

...

// Within the start of the thread
OVERLAPPED overlapped;
memset(&overlapped, 0, sizeof(overlapped));
overlapped.hEvent = myEvent;

...

// When it's time to close the thread
SetEvent(myEvent); 
```

# c++ - 在通知区域创建图标

> ID：13620845
> 
> 赞同：0
> 
> 时间：2012-11-29T07:31:02.520
> 
> 标签：c++, service, icons

除了使用 System.Windows.Forms::NotifyIcon 类之外，是否有可能在 C++ 的通知区域中创建 ICON。

我想启用服务来显示图标。

谢谢莫蒂

# c# - 使用 c# 创建 excel 文件时出现两个错误（找不到互操作类型，类型或命名空间名称“Office”不存在）

> ID：13620848
> 
> 赞同：0
> 
> 时间：2012-11-29T07:31:17.423
> 
> 标签：c#, excel

我正在尝试实施以下教程来创建一个 excel 文档

[http://www.codeproject.com/Articles/20228/Using-C-to-Create-an-Excel-Document](http://www.codeproject.com/Articles/20228/Using-C-to-Create-an-Excel-Document)

但是我收到以下错误

> CS1748：找不到与嵌入式互操作类型“Microsoft.Office.Interop.Excel.Application”匹配的互操作类型。您是否缺少程序集参考？

之后我尝试将 Embed 互操作类型设置为 false，

这次我收到以下错误

> CS0234：名称空间“Microsoft”中不存在类型或名称空间名称“Office”（您是否缺少程序集引用？）

但是已经添加了 Microsoft.Office.Core 参考。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:36:22.533

如果我可以建议你一些东西，现在你正在使用 c#，试着改用这个库，它是最新的格式并且更容易使用：

[http://www.microsoft.com/en-us/download/details.aspx?id=5124](http://www.microsoft.com/en-us/download/details.aspx?id=5124)

让我知道是否有帮助，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T08:31:06.413

您是否按照教程中的说明添加了参考？我记得使用相同的教程，但我认为我添加的内容有不同的名称，基本上我添加了一个说 Microsoft 和 Excel 的东西..（它可能不是你提到的那个）

他们没有告诉你的另一件事（因为我猜当时他们没有那个问题）是修复一些错误的几行代码。在开始制作 excel 表之前添加它

```
System.Globalization.CultureInfo Oldci = System.Threading.Thread.CurrentThread.CurrentCulture;
System.Threading.Thread.CurrentThread.CurrentCulture = new CultureInfo("en-us"); 
```

在您完成使用表格后的这条线。

```
System.Threading.Thread.CurrentThread.CurrentCulture = Oldci; 
```

当我需要创建 excel 文件时，这救了我。我在网上的教程中遇到了很多问题。

# mysql - 选择具有给定精度的 FLOAT

> ID：13620850
> 
> 赞同：8
> 
> 时间：2012-11-29T07:31:26.377
> 
> 标签：mysql, floating-point-precision

我想将我的值存储为 FLOATS，但是在检索它们时，用户可以指定（并在运行时更改）他想在小数点后看到多少位数。

我可以`SELECT`以某种方式通过它，还是必须在我的应用程序中这样做？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-29T07:33:03.797

是的，只需指定第二个参数[`ROUND()`](http://dev.mysql.com/doc/refman/5.0/en/mathematical-functions.html#function_round)

```
SELECT ROUND(23.298, <precision>); 
```

有了这个，您可以指定要返回的位数。（您甚至可以有负值，在这种情况下，输入会四舍五入为 10 ^((-precision))）。

或者您可以[`CAST`](http://dev.mysql.com/doc/refman/5.0/en/cast-functions.html#function_cast)用作[`DECIMAL`](http://dev.mysql.com/doc/refman/5.0/en/fixed-point-types.html)：

```
 CAST(2.5 AS DECIMAL(20,2)) 
```

（注意：后者也适用于文本输入，例如`CAST('2.5' AS DECIMAL(20,2))`，但在这种情况下，它是关于 FLOAT 输入的）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-29T07:34:24.587

使用`ROUND()`,`CEIL()`或`FLOOR()`做同样的事情并获取从用户传递的第二个参数的值作为输入。

# java - 嵌套异常是 javax.jms.InvalidDestinationException: Unknown destination type - $Proxy115

> ID：13620854
> 
> 赞同：0
> 
> 时间：2012-11-29T07:31:39.337
> 
> 标签：java, jms, spring-jms

当我尝试向队列发送消息时出现此异常。我的 jms 属性是通过 spring application-context 设置的。请找到为 jms 设置的 applicationContext.xml 属性。

```
 <bean id="jmsQueueConnectionFactory" class="org.springframework.jndi.JndiObjectFactoryBean">
    <property name="jndiTemplate">
        <ref bean="jndiTemplate" />
    </property>
    <property name="lookupOnStartup" value="false"/>
    <property name="jndiName">
        <value>${jmsQueueConnectionFactory.jndiName}</value>
    </property>
    <property name="proxyInterface" value="javax.jms.ConnectionFactory"/>
</bean>

<bean id="jndiTemplate" class="org.springframework.jndi.JndiTemplate">
    <property name="environment">
        <props>
            <prop key="java.naming.factory.initial">
                ${jndiTemplate.naming.factory}
            </prop>
            <prop key="com.sonicsw.jndi.mfcontext.domain">
                ${jndiTemplate.domain}
            </prop>
            <prop key="java.naming.provider.url">
                ${jndiTemplate.provider.url}
            </prop>
            <prop key="java.naming.security.principal">${jndiTemplate.security.principal}</prop>
            <prop key="java.naming.security.credentials">${jndiTemplate.security.credentials}</prop>
        </props>
    </property>
</bean>

<bean id="requestsQueue" class="org.springframework.jndi.JndiObjectFactoryBean">
    <property name="jndiTemplate">
        <ref bean="jndiTemplate" />
    </property>
    <property name="lookupOnStartup" value="false"/>
    <property name="jndiName">
        <value>${requestsQueue.jndiName}</value>
    </property>
    <property name="proxyInterface" value="javax.jms.Destination"/>
</bean> 
```

我得到如下异常：

```
 org.springframework.jms.InvalidDestinationException: Unknown destination type - $Proxy115; nested exception is javax.jms.InvalidDestinationException: Unknown destination type - $Proxy115 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:52:28.143

我想这是因为您将您隐藏`requestsQueue`在一个惰性代理后面，并且您的 JMS 实现由于某种原因不喜欢它：

```
<property name="lookupOnStartup" value="false"/>
<property name="proxyInterface" value="javax.jms.Destination"/> 
```

尝试删除这些行。

# java - Tomcat 库与 Maven 一起包含在 Eclipse 中

> ID：13620856
> 
> 赞同：1
> 
> 时间：2012-11-29T07:31:46.747
> 
> 标签：java, eclipse, maven, tomcat6, eclipse-wtp

我正在使用 Maven 使用 Eclipse 构建一个 Web 应用程序。服务器将是 Apache Tomcat。Eclipse 已经有 tomcat 6 库，您可以将其包含在构建路径和 Web 应用程序模块方面以供选择。这就是我在没有 Maven 的情况下工作的方式。

但是，Maven 能够包含在 tomcat 中使用它们所需的依赖项。我的问题是，什么是正确的，不通过 Maven 包含它们并像以前一样继续这样做，或者不配置 eclipse 构建路径并让 maven 解决它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T08:17:19.967

容器特定 API（如服务器 API）的最佳方法是将其包含在 maven POM 中，但是将依赖项设置为提供的范围，以便它可以在 eclipse 的类路径中使用，但是 maven 在生成它时不会将其打包到 WAR 文件中。例如

```
<dependency>
    <groupId>...</groupId>
    <artifactId>...</artifactId>
    <version>...</version>
    <scope>provided</scope>
</dependency> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:36:12.687

据我所知Maven没有解决它，如果你没有具体说你的项目需要这些依赖。最好的方法是配置 pom.xml 并设置依赖项并使用 Maven 构建项目并在 eclipse 中编辑它。因此，一旦完成，您就可以轻松地“打包”（构建战争）并将其部署在任何服务器位置。

# asp.net-mvc - ASP.NET MVC jquery checkboxlist 帖子？

> ID：13620857
> 
> 赞同：2
> 
> 时间：2012-11-29T07:31:47.310
> 
> 标签：asp.net-mvc, arrays, jquery

发帖方法：

```
function PostChartValues(meter_id, range_type_id, start_date, end_date) {
var values = $("#type_selection").val();
//values = expected values as string array
$.ajax({
    url: '/Widget/GetMeterReadingsTimeSeries',
    type: 'POST',
    data: { MeterType: meter_id, DateRangeType: range_type_id, StartDate: start_date, EndDate: end_date, Parameters: values },
    beforeSend: function () {
        $("#chart_loading_div").show();
    },
    complete: function () {
        $("#chart_loading_div").fadeOut();
        $(".grids").jqGrid('GridUnload');
        grid(meter_id, range_type_id, $("#start_date").val(), $("#end_date").val());
    },
    success: function (result) {
        $("#chart").html(result);
    },
    error: function (result) {
        alert("Seçilen kritere uygun veri bulunamadı!");
    }
});   //end ajax
} //end PostChartValues 
```

动作方法：

```
public ActionResult GetMeterReadingsTimeSeries(int MeterType, int DateRangeType, DateTime? StartDate, DateTime? EndDate,string[] Parameters)
{
    // ...
    return PartialView("_TimeSeries", chart);
} 
```

我调试了它。只有参数数组为空。有没有其他方法可以用 jquery post 发布数组？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T09:30:26.940

您可以将选定的值作为字符串发布，然后将其解析回数组。我在下面创建了基本示例，

**标记**

```
<script src="~/Scripts/jquery-1.7.1.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#someButton').click(function () {
            var selectedValues = [];
            $('#MyDiv input:checked').each(function () {
                selectedValues.push($(this).val());
            });
            console.log(selectedValues);
            $.ajax({
                url: 'someurl',
                type: 'POST',
                data: { values: selectedValues.join(",") }
            });
        });
    });
</script>
<button id="someButton">Do Ajax</button>
<div id="MyDiv">
    <input type="checkbox" value="test1" />
    <input type="checkbox" value="test2" />
    <input type="checkbox" value="test3" />
</div> 
```

**控制器**

```
public class HomeController : Controller
    {       
       public void Test(string values)
        {
            string[] selectedValues = values.Split(',');
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-20T04:29:22.840

如果您使用[Underscore](http://underscorejs.org/) ，另一种获取所选值的方法：

```
var selectedValues = _.map($("#myDiv:checked"), function (item) { return $(item).val(); }); 
```

# java - 如何将 Apache-Solr 服务器作为后台进程运行？

> ID：13620863
> 
> 赞同：2
> 
> 时间：2012-11-29T07:32:18.800
> 
> 标签：java, apache, solr, indexing, background-process

我正在使用**Apache-Solr**在我的 java 应用程序中进行索引和搜索。如果要执行任何与 Apache-Solr 相关的操作，则必须启动**solr 服务器。**

有时运行 Solr-server 的终端意外关闭，然后我们必须再次启动该服务器，因为我们无法执行任何与搜索/索引相关的操作。

我试图通过在命令末尾添加“ **&** ”来在后台运行进程，但它不起作用。

我不想打开那个终端在哪个服务器运行。那么有什么方法可以在后台进程中运行 Apache-Solr-Server 吗？

提前致谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:48:45.050

我认为这个链接对你有用

[在后台启动 apache-solr-server](https://stackoverflow.com/questions/4287561/how-to-run-solr-jetty-in-background)

您也可以通过创建一个 init/LaunchDaemon 脚本自动启动 Solr，并让系统处理运行它。

# c# - 应用程序不关闭，在 c#/xaml windows store 应用程序中使用后台任务时始终保持暂停模式

> ID：13620865
> 
> 赞同：0
> 
> 时间：2012-11-29T07:32:21.707
> 
> 标签：c#, xaml, microsoft-metro, windows-runtime, background-process

我正在开发一个应用程序。它使用带有后台任务的实时磁贴（作为 WinRT 组件），因为我想用时间触发器更新磁贴。我注意到，如果我将锁屏权限设置为 ON 并让后台任务运行，那么在我关闭应用程序后，应用程序始终保持挂起模式。那么我怎样才能杀死应用程序并让后台任务自己运行呢？我正在关注[这个示例](http://code.msdn.microsoft.com/windowsapps/Tile-Update-every-minute-68dbbbff)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T18:16:47.260

您不能以编程方式终止您的应用程序（如果您引入`NullPointerException`（**不要这样做**）或系统内存要求启动（系统需要内存用于其他任务，因此操作系统将终止您的应用程序），那么您可以。）。

请阅读以下有关 Windows 8 应用程序生命周期的文章。

[应用程序生命周期](http://www.jeffblankenburg.com/2012/11/29/31-days-of-windows-8-day-29-application-lifecycle/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T17:24:59.050

您可以通过多种方式强制关闭应用程序：

*   Alt+F4
*   将应用程序从屏幕顶部滑动到底部
*   使用任务管理器

# sql-server-2008 - SQL查询从两个表中选择数据

> ID：13620866
> 
> 赞同：1
> 
> 时间：2012-11-29T07:32:26.853
> 
> 标签：sql-server-2008, sql-server-2012

我有两张桌子，即

**邀请函**

*   邀请ID
*   用户身份
*   电子邮件

**用户**

*   用户身份
*   用户名

我在两个表中都有数据

**邀请**表数据

```
29  NULL    test1@example.com   
40  8       test2@example.com                                                                       
41  8       test3@example.com 
```

**用户**表数据

```
8     someone@example.com 
```

现在我想从表中选择所有数据`Invitation`，并且还想`Username`从`Users`表中选择`Invitation.InvitationID`等于`Users.UserID`.

我使用以下查询来选择数据

```
SELECT 
    Invitations.*, Users.UserName
FROM
    Invitations 
INNER JOIN
    Users ON Invitations.UserID = Users.UserID 
```

但它只返回两行。我想从`Invitation`表中选择所有行。如果`Invitation.UserID`是`null`那么`Username`也是`null`。我想要这样的输出：

```
 29  NULL   test1@example.com   Null
 40  8      test2@example.com   someone@example.com                                                                  
 41  8      test3@example.com   someone@example.com 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T07:36:08.237

您必须使用左连接：

```
SELECT Invitations.*, Users.UserName
FROM     Invitations left JOIN
              Users ON Invitations.UserID = Users.UserID 
```

# python - 对 Django 项目进行分片

> ID：13620867
> 
> 赞同：3
> 
> 时间：2012-11-29T07:32:36.260
> 
> 标签：python, django, postgresql, sharding

我正在启动一个 Django 项目，需要对可能包含太多行的多个表进行分片。我已经查看了这里和其他地方的线程，并遵循了 Django 多数据库文档，但我仍然不确定所有这些是如何缝合在一起的。我的模型有可能被分片破坏的关系，所以看起来选项是要么放弃对各自模型进行分片的外键。

出于争论的目的，考虑经典的 Authot、Publisher 和 Book 场景，但加入书籍副本和可以拥有它们的用户。假设书籍和用户必须被分片。你会怎么处理呢？用户可能拥有不在同一数据库中的书籍副本。

一般来说，您用于路由和分片本身的最佳实践是什么？您是否使用了 Django 数据库路由器，根据您的分片逻辑在命令中手动选择了一个数据库，或者重写了 ORM 的某些部分来实现这一点？

如果重要的话，我在 Ubuntu 上使用 PostgreSQL。

非常感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T08:06:10.657

[在过去，我使用 Postgresql Table Partitioning](http://www.postgresql.org/docs/9.1/static/ddl-partitioning.html)做过类似的事情，但这只是将表拆分到同一个数据库中。这有助于减少表搜索时间。这也很好，因为您不需要太多修改 django 代码。（确保使用用于约束的字段执行查询）。

但这不是分片。

如果您还没有看到它，您应该查看[使用 Instagram 的 Sharding Postgres。](http://www.databasesoup.com/2012/04/sharding-postgres-with-instagram.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:25:10.947

我同意@DanielRoseman。此外，多少行太多。如果你对索引很小心，你可以处理很多行而不会出现性能问题。保持索引值小（整数）。我有超过 4 亿行的表，即使在与其他数百万行表连接时也会产生亚秒级的响应。

将用户分成多个表可能更有意义，以便用户对象具有常用事物的核心，然后“配置文件”信息存在于其他地方（标准 Django 设置）。副本将是一个参考书籍的小表格，其中包含大量数据。考虑到这些天您可以在数据库服务器中放入多少内存，在您拥有之前进行分片似乎是错误的。

# .net - .NET 中使用 EventArgs 取消事件的模式

> ID：13620875
> 
> 赞同：0
> 
> 时间：2012-11-29T07:33:06.947
> 
> 标签：.net, wpf, events, design-patterns, user-interface

在 .NET 中，通常有一种模式使用属性来使用事件来允许取消事件。例如，[这里的一个例子](http://msdn.microsoft.com/en-us/library/system.componentmodel.canceleventargs.aspx)

```
 private void OtherInitialize() {
       this.Closing += new CancelEventHandler(this.Form1_Closing);
    }

    private void Form1_Closing(Object sender, CancelEventArgs e) {
       if (!isDataSaved) {
          e.Cancel = true;
          MessageBox.Show("You must save first.");
       }
       else {
          e.Cancel = false;
          MessageBox.Show("Goodbye.");
       }
    } 
```

是否有此模式的名称，或任何描述如何实现此模式的文章（从视图的角度来看）？我能想象的是这样的

```
CancelEventArgs args = new CancelEventArgs();
if(Closing != null)
    Closing(this, args);
if(!args.Cancel)
    DoActualClosing(); 
```

但我不确定这是否这么容易。如果有多个事件处理程序，哪个处理程序将确定 args.Cancel 的最终值？如果任何（或所有）处理程序抛出异常怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:44:21.823

> 如果有多个事件处理程序，哪个处理程序将确定 args.Cancel 的最终值？

依次调用每个处理程序，并且可以修改 args.Cancel。

目前它们是按照添加的顺序执行的，但我相信这是一个无法保证的实现细节。

所以，最后一个赢了。通常 Cancel 事件处理程序只设置 arg.Cancel = true （从不将其重置为 false），以便任何事件处理程序都可以取消操作。但是没有什么可以阻止事件处理程序忽略该约定。

> 如果任何（或所有）处理程序抛出异常怎么办？

然后，除非您处理它，否则您的应用程序将因未处理的异常而崩溃。

您想象的实现看起来是正确的（它不是线程安全的，但 UI 事件通常只在 UI 线程上处理）。我不知道这种模式的名称。

# c# - KendoUI 级联下拉列表，需要来自 2 个下拉列表的值。

> ID：13620877
> 
> 赞同：2
> 
> 时间：2012-11-29T07:33:12.833
> 
> 标签：c#, asp.net-mvc, kendo-ui, html.dropdownlistfor, cascadingdropdown

我有 3 个级联下拉列表，如下所示：

```
<p>
    <label for="categories">Catergories:</label>
    @(Html.Kendo().DropDownList()
          .Name("categories")
          .OptionLabel("Select category...")
          .DataTextField("CategoryName")
          .DataValueField("CategoryId")
          .DataSource(source => {
               source.Read(read => {
                   read.Action("GetCascadeCategories", "ComboBox");
               });
          })
    )
</p>
<p>
    <label for="products">Products:</label>
    @(Html.Kendo().DropDownList()
          .Name("products")
          .OptionLabel("Select product...")
          .DataTextField("ProductName")
          .DataValueField("ProductID")
          .DataSource(source => {
              source.Read(read =>
              {
                  read.Action("GetCascadeProducts", "ComboBox")
                      .Data("filterProducts");
              })
              .ServerFiltering(true);
          })
          .Enable(false)
          .AutoBind(false)
          .CascadeFrom("categories")
    )
    <script>
        function filterProducts() {
            return {
                categories: $("#categories").val()
            };
        }
    </script>
</p>
<p>
    <label for="orders">Orders:</label>
    @(Html.Kendo().DropDownList()
          .Name("orders")
          .OptionLabel("Select order...")
          .DataTextField("ShipCity")
          .DataValueField("OrderID")
          .DataSource(source => {
              source.Read(read =>
              {
                  read.Action("GetCascadeOrders", "ComboBox")
                      .Data("filterOrders");
              })
              .ServerFiltering(true);
          })
          .Enable(false)
          .AutoBind(false)
          .CascadeFrom("products")
    )
    <script>
        function filterOrders() {
            return {
                products: $("#filterOrders").val()
            };
        }
    </script>
</p> 
```

这是控制器的样子：

```
 public JsonResult GetCascadeCategories()
    {
        var northwind = new NorthwindDataContext();

        return Json(northwind.Categories.Select(c => new { CategoryId = c.CategoryID, CategoryName = c.CategoryName }), JsonRequestBehavior.AllowGet);
    }

    public JsonResult GetCascadeProducts(string categories)
    {
        var northwind = new NorthwindDataContext();
        var products = northwind.Products.AsQueryable();

        if (!string.IsNullOrEmpty(categories))
        {
            products = products.Where(p => p.CategoryID.ToString() == categories);
        }

        return Json(products.Select(p => new { ProductID = p.ProductID, ProductName = p.ProductName}), JsonRequestBehavior.AllowGet);
    } 
```

控制器中的 Action 仅接受 1 个参数，即您在下拉列表的 DataValueField() 属性中指定的任何值。

但是，对于我的第三个下拉列表，我希望其中的项目依赖于前两个下拉列表，而不仅仅是前一个。

如何从我的操作中同时获取第一个和第二个下拉列表的选定值？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T21:25:05.967

要在第三个 DDL 请求其数据时将第一个 DDL 的值与第二个 DDL 的值一起发送，您只需将此值添加到**读取**请求的**数据**函数中。

 **例如

```
<script>
    function filterOrders() {
        return {
            categories: $("#categories").val(),
            products: $("#filterOrders").val()
        };
    }
</script> 
```

还将操作方法​​签名更改为多一个参数

```
public JsonResult GetCascadeOrders(string categories,string products) 
```**

# yii - 通过覆盖旧密码插入新密码

> ID：13620878
> 
> 赞同：0
> 
> 时间：2012-11-29T07:33:14.983
> 
> 标签：yii, passwords

在 yii 我正在创建项目。验证用户输入的电子邮件后，我正在显示 password.php 文件，该文件具有用于输入新密码的文本字段。密码.php=

```
<?php $form=$this->beginWidget('CActiveForm', array(
    'id'=>'email-form',
    'enableClientValidation'=>true,
   ));
        echo CHtml::textField('Enter new password');
        echo CHtml::textField('Repeat password');
        echo CHtml::submitButton('Submit');
        $this->endWidget(); 
```

当用户输入新密码并单击提交按钮时，我想将此新密码插入到用户表的密码字段中，以覆盖旧密码。

在控制器中，我创建了方法为-

```
public function actionCreate(){

if(isset($_POST['email']))
    {

 $record=User2::model()->find(array(
'select'=>'userId, securityQuestionId, primaryEmail',
'condition'=>'primaryEmail=:email',
'params'=>array(':email'=>$_POST['email']))
);

if($record===null) {
                  echo "Email invalid";
                   }

else {
    echo "email exists";

      $this->render('Password');
      if(isset($_POST['Password']))
        {

        $command = Yii::app()->db->createCommand();
        $command->insert('User', array(
                    'password'=>$_POST['password'] ,
                    //'params'=>array(':password'=>$_POST['password'])

        }          

 }

    }
    else{
        $this->render('emailForm'); //show the view with the password field
    } 
```

但它没有插入新密码。那么我该如何实现...请帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:54:08.547

首先，您处理表单的方式肯定不是 Yii-ish，这意味着这不是真正的方式。

处理这个问题的方法是创建一个从[CFormModel](http://www.yiiframework.com/doc/api/1.1/CFormModel)扩展的对象，并将所有逻辑代码放在那里而不是控制器中。

现在，如果您想继续使用您的代码，那么最好放置以下代码

```
$this->render('Password'); 
```

**在 if isset 密码内容**下方。****

 **对于您的问题，您的密码未更新的原因是您创建的查询未执行。如果我们看一下[这里](http://www.yiiframework.com/doc/guide/1.1/en/database.dao#executing-sql-statements)，我们可以看到应该添加以下代码：

```
$command->execute(); 
```

这将执行你的一段 sql。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:57:33.847

像这样的东西...

```
$user = User::find('email = :email', ':email' => $_POST['email']);

if( empty($user) )
  return;

$user->password = $_POST['password'];
$user->save(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T08:05:43.890

你不能得到这样的密码`$_POST['Password']`，因为你没有设置这个 post 变量。

你必须使用：

```
echo CHtml::textField('password');
echo CHtml::textField('repeatPassword');
echo CHtml::hiddenField('email', $email); 
```

'password' 和 'repeatPassword' 是 POST 变量的名称

在你的控制器中你有太多错误，试试这个（检查错别字）：

```
if(isset($_POST['email']))
{
 $record=User2::model()->find(array(
'select'=>'userId, securityQuestionId, primaryEmail',
'condition'=>'primaryEmail=:email',
'params'=>array(':email'=>$_POST['email']))
);

if($record===null) {
                  echo "Email invalid";
                   }

else {
    if(isset($_POST['password']) && isset($_POST['repeatPassword']) && ($_POST['password'] === $_POST['repeatPassword']))
    {
        $record->password = $_POST['password'];
        if ($record->save()) {
             $this->render('saved');
        }
    }          

    $this->render('Password' array('email'=>$_POST['email']));
}

 }

    }
    else{
        $this->render('emailForm'); //show the view with the password field
    } 
```

在您的代码`if(isset($_POST['Password']))`中永远不会执行，因为在发送密码后您还没有设置`email`变量。所以你只是`$this->render('emailForm');`。因此我们将其设置为`CHtml::hiddenField('email', $email);`

**更新。**我强烈建议您阅读[本指南](http://www.yiiframework.com/doc/guide/)。这将为您节省大量时间。**

# android - 回滚到 ADT 20.0.3 和 SDK 以前的版本

> ID：13620882
> 
> 赞同：1
> 
> 时间：2012-11-29T07:33:29.617
> 
> 标签：android, sdk, adt, android-sdk-tools

我更新了 ADT 和 SDK 版本，之后它在 markupartist Action Library 中出现了问题，之前工作正常。如何回滚到旧版本的 ADT 和 SDK？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T10:36:20.083

您将需要卸载较新版本并重新安装较旧版本。

# ruby - 读取 .csv 文件并在 ruby 中进行简单的统计

> ID：13620887
> 
> 赞同：3
> 
> 时间：2012-11-29T07:33:49.657
> 
> 标签：ruby, arrays, csv

我正在使用 jmeter 生成一些负载测试结果，它输出格式良好的 csv 文件，但现在我需要使用 ruby​​ 进行一些数字运算。csv 文件开头的示例：

```
threadName,grpThreads,allThreads,URL,Latency,SampleCount,ErrorCount
Thread Group 1-1,1,1,urlXX,240,1,0
Thread Group 1-1,1,1,urlYY,463,1,0
Thread Group 1-2,1,1,urlXX,200,1,0
Thread Group 1-3,1,1,urlXX,212,1,0
Thread Group 1-2,1,1,urlYY,454,1,0
.
.
.
Thread Group 1-N,1,1,urlXX,210,1,0 
```

现在，对于统计数据，我需要读取每个线程组的第一行，将延迟字段相加，然后除以我拥有的线程组的数量，以获得平均延迟。然后迭代到每个线程组的第二行，依此类推..

我在想，也许我需要为每个线程组编写一些临时排序的 csv 文件（在线程组中，url 的顺序总是相同的），然后将它们用作输入，添加第一行，做数学，添加第二行，直到没有更多行。

但是由于线程组的数量发生了变化，我无法编写 ruby​​ 以便它可以灵活地解决这个问题……任何代码示例都将不胜感激:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T09:55:36.593

**[更新]** - 这是你想要的，我想知道吗？

这个怎么样 - 它可能效率低下，但它做你想要的吗？

```
CSV = File.readlines("data.csv")
CSV.shift # minus the header.

# Hash where key is grp name; value is list of HASHES with keys {:grp, :lat}
hash = CSV.
  map {|l| # Turn every line into a HASH of grp name and it's lats.
    fs = l.split(","); {:grp => fs[0], :lat => fs[4]} 
  }.
  group_by{|o| o[:grp]}

# The largest number of lines we have in any group
max_lines = hash.max_by{|gname, l| l.size}.size

# AVGS is a list of averages. 
# AVGS[0] is the average lat. for all the first lines,
# AVGS[1] is the average lat. for all second lines, etc.
AVGS = 
(0..(max_lines-1)).map{|lno| # line no
  total = # total latency for the i'th line...
    hash.map {|gname, l|
      if l[lno] then  l[lno][:lat].to_i
      else 0 end
    }
  total.reduce{|a,b| a+b} / (hash.size)
}

# So we have 'L' Averages - where L is the maximum number of
# lines in any group. You could do anything with this list
# of numbers... find the average again?
puts AVGS.inspect 
```

应该返回类似：

```
[217/*avg for 1st-liners*/, 305 /*avg for 2nd liners*/] 
```

# java - 查询 @ManyToOne 关系时出现 HSQLDB 错误

> ID：13620889
> 
> 赞同：2
> 
> 时间：2012-11-29T07:33:50.737
> 
> 标签：java, hsqldb, many-to-one

我有两个实体，即。InvoiceItem 和 ChargeCategory，使用 JPA 语义定义，带有`@Column`getter。InvoiceItem#getChargeCategory() 定义如下：

```
@ManyToOne(optional = false)
@JoinColumn(name = "item_charge_category")
public ChargeCategory getChargeCategory()
{
    return chargeCategory;
} 
```

现在，当我尝试使用给定的 item_charge_category 检索所有 InvoiceItems 时，如下所示：

```
SELECT * FROM InvoiceItem i 
WHERE i.chargeCategory.itemChargeCategory = :itemChargeCategory 
```

我收到一个错误

```
Unexpected token: CROSS in statement 
```

声明如下：

```
SELECT 
    <Columns from InvoiceItem>
FROM   dist_invoice_items Invoicei0_
       CROSS JOIN invoice_charge_types Chargec1_ 
WHERE  Invoicei0_.item_charge_category = 
       Chargec1_.item_charge_category 
       AND Chargec1_.item_charge_category = ? 
```

我在用

*   休眠：3.5.5
*   HSQLDB：2.0

和persistence.xml是

```
<persistence-unit name="fssPersistenceUnit" transaction-type="RESOURCE_LOCAL">
</persistence-unit> 
```

有没有人遇到过类似的问题？知道如何纠正这个问题吗？如果有任何进一步的信息有助于解决这个问题，请告诉我。

# java - 网格包布局问题

> ID：13620894
> 
> 赞同：2
> 
> 时间：2012-11-29T07:34:15.717
> 
> 标签：java, swing, jpanel, joptionpane, gridbaglayout

我正在设计一个面板并`OptionPane Confirm Dialog`像这样使用这个面板：

`JOptionPane.showConfirmDialog(null, slaveGroupPanel, messages.getString("centrum.manageGroups"), JOptionPane.OK_CANCEL_OPTION);`

我的网格包约束是这样的：

```
 addGroupButton.setText(messages.getString("centrum.slavegroup.add"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 6;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
    add(addGroupButton, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.gridwidth = 5;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.weightx = 1.0;
    add(addGroupTextField, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.gridwidth = 1;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    add(groupNameLabel, gridBagConstraints);

    groupComboBox.setModel(new DefaultComboBoxModel(slaveGroupHash.keySet().toArray() ));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.gridwidth = 5;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
    gridBagConstraints.weightx = 1;
    add(groupComboBox, gridBagConstraints);

    allSlavesList.setModel(new DefaultListModel());

    for (int i = 0; i < allSlaves.length; i++) {
        ((DefaultListModel)allSlavesList.getModel()).addElement(allSlaves[i]);
    }

    allSlavesList.setVisibleRowCount(4);
    jScrollPane2.setViewportView(allSlavesList);
    jScrollPane2.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.gridheight = 2;
    gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
    gridBagConstraints.weightx = 0.45;
    gridBagConstraints.weighty = 1.0;
    add(jScrollPane2, gridBagConstraints);

    slavesInGroupList.setModel(new DefaultListModel());
    slavesInGroupList.setVisibleRowCount(4);
    jScrollPane3.setViewportView(slavesInGroupList);
    jScrollPane3.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 4;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.gridheight = 2;
    gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
    gridBagConstraints.weightx = 0.45;
    gridBagConstraints.weighty = 1.0;
    add(jScrollPane3, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 2;
    gridBagConstraints.fill = GridBagConstraints.HORIZONTAL;
    add(allSlavesLabel, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 4;
    gridBagConstraints.gridy = 2;
    gridBagConstraints.fill = GridBagConstraints.HORIZONTAL;
    add(slavesInGroupLabel, gridBagConstraints);

    addSlaveButton.setIcon(GeneralObjects.getrightIcon());
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 3;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.weightx = 0.1;
    gridBagConstraints.weighty = 1.0;
    add(addSlaveButton, gridBagConstraints);

    deleteSlaveButton.setIcon(GeneralObjects.getleftIcon());
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 3;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.weightx = 0.1;
    gridBagConstraints.weighty = 1.0;
    add(deleteSlaveButton, gridBagConstraints);

    renameButton.setText(messages.getString("centrum.slavegroup.rename"));

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 6;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
    add(renameButton, gridBagConstraints);

    deleteButton.setText(messages.getString("centrum.slavegroup.delete"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 5;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
    add(deleteButton, gridBagConstraints); 
```

但正如您在随附的屏幕截图中看到的那样，文本字段和添加按钮之间有两个间隙。删除和重命名按钮之间也会出现这种差距。但是我不想要那些差距。我没有定义插图，并且我有两个文本字段和一个组合框，`weightx = 1;`所以`fill = java.awt.GridBagConstraints.HORIZONTAL;`我希望它们尽可能地水平扩展而没有间隙。但为什么会出现这些差距？

其次，您可以清楚地看到右手边的 Jlist 比左手边的要宽。但是，我的两个 JLists（实际上是包含 JLists 的 ScrollPanes）都将`gridwidth`,`weightx`和`fill`参数设置为相同的值。所以我希望它们的大小相同。看起来我错过了一些东西。

![在此处输入图像描述](../Images/90e80059ea3c7465d625d3cca464ca2f.png)

**SSCCE 添加如下：**

```
import javax.swing.*;
import java.awt.*;

public class SSCCE {

private javax.swing.JButton addGroupButton;
private javax.swing.JTextField addGroupTextField;
private javax.swing.JButton addSlaveButton;
private javax.swing.JList allSlavesList;
private javax.swing.JButton deleteButton;
private javax.swing.JButton deleteSlaveButton;
private javax.swing.JComboBox groupComboBox;
private javax.swing.JScrollPane jScrollPane2;
private javax.swing.JScrollPane jScrollPane3;
private javax.swing.JButton renameButton;
private javax.swing.JLabel groupNameLabel;
private javax.swing.JLabel allSlavesLabel;
private javax.swing.JLabel slavesInGroupLabel;
private javax.swing.JList slavesInGroupList;

public SSCCE() {

}

public JPanel createPanel(){
    JPanel panel = new JPanel();
    panel.setLayout(new java.awt.GridBagLayout());

    addGroupButton=new javax.swing.JButton();
    addGroupTextField=new javax.swing.JTextField();
    addSlaveButton=new javax.swing.JButton();
    allSlavesList=new javax.swing.JList();
    deleteButton=new javax.swing.JButton();
    deleteSlaveButton=new javax.swing.JButton();
    groupComboBox=new javax.swing.JComboBox();
    jScrollPane2=new javax.swing.JScrollPane();
    jScrollPane3=new javax.swing.JScrollPane();
    renameButton=new javax.swing.JButton();
    groupNameLabel=new javax.swing.JLabel();
    allSlavesLabel=new javax.swing.JLabel();
    slavesInGroupLabel=new javax.swing.JLabel();
    slavesInGroupList=new javax.swing.JList();

    allSlavesList.setModel(new DefaultListModel());
    slavesInGroupList.setModel(new DefaultListModel());

    GridBagConstraints gridBagConstraints;

    addGroupButton.setText("add");
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 6;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
    panel.add(addGroupButton, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.gridwidth = 5;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.weightx = 1.0;
    panel.add(addGroupTextField, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.gridwidth = 1;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    panel.add(groupNameLabel, gridBagConstraints);

    groupComboBox.setModel(new DefaultComboBoxModel(new Object[]{"one","two","three"}));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.gridwidth = 5;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
    gridBagConstraints.weightx = 1;
    panel.add(groupComboBox, gridBagConstraints);

    allSlavesList.setVisibleRowCount(4);
    jScrollPane2.setViewportView(allSlavesList);
    jScrollPane2.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.gridheight = 2;
    gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
    gridBagConstraints.weightx = 0.45;
    gridBagConstraints.weighty = 1.0;
    panel.add(jScrollPane2, gridBagConstraints);

    slavesInGroupList.setVisibleRowCount(4);
    jScrollPane3.setViewportView(slavesInGroupList);
    jScrollPane3.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 4;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.gridheight = 2;
    gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
    gridBagConstraints.weightx = 0.45;
    gridBagConstraints.weighty = 1.0;
    panel.add(jScrollPane3, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 2;
    gridBagConstraints.fill = GridBagConstraints.HORIZONTAL;
    panel.add(allSlavesLabel, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 4;
    gridBagConstraints.gridy = 2;
    gridBagConstraints.fill = GridBagConstraints.HORIZONTAL;
    panel.add(slavesInGroupLabel, gridBagConstraints);

    //addSlaveButton.setIcon(GeneralObjects.getrightIcon());
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 3;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.weightx = 0.1;
    gridBagConstraints.weighty = 1.0;
    panel.add(addSlaveButton, gridBagConstraints);

    //deleteSlaveButton.setIcon(GeneralObjects.getleftIcon());
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 3;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.weightx = 0.1;
    gridBagConstraints.weighty = 1.0;
    panel.add(deleteSlaveButton, gridBagConstraints);

    renameButton.setText("rename");

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 6;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
    panel.add(renameButton, gridBagConstraints);

    deleteButton.setText("delete");
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 5;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
    panel.add(deleteButton, gridBagConstraints);

    ((DefaultListModel)allSlavesList.getModel()).addElement("one");
    ((DefaultListModel)allSlavesList.getModel()).addElement("two");
    ((DefaultListModel)allSlavesList.getModel()).addElement("three");

    ((DefaultListModel)slavesInGroupList.getModel()).addElement("one");
    ((DefaultListModel)slavesInGroupList.getModel()).addElement("two");
    ((DefaultListModel)slavesInGroupList.getModel()).addElement("three");
    panel.setPreferredSize(new Dimension(600,300));

    return panel;

}

public static void main(String[] args){
    SSCCE a = new SSCCE();
    JOptionPane.showConfirmDialog(null, a.createPanel(), "centrum.manageGroups", JOptionPane.OK_CANCEL_OPTION);
}

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T09:36:34.990

您应该尝试使用更多的嵌套，因为您无法在平面布局中设置此类布局。

根据您的描述，我看到：

*   一个包含 3 行的根面板（使用 a`GridBagLayout`进行设置并将所有额外的垂直空间留给最后一行）
*   第 1 行：您的标签、您的文本字段和一个按钮——> 使用`BorderLayout`
*   第 2 行：一个组合框和 2 个按钮 --> 使用`GridBagLayout`并将所有额外空间分配给组合框
*   第 3 行：2 个标签、2 个列表和 2 个按钮 -->`GridBagLayout`用于设置

现在，要理解的一件事`GridBagLayout`不是`weightx/weighty`它将分配的宽度/高度的百分比，而是“额外”空间的分配方式。它将首先为每个组件指定其首选大小，然后，如果有任何额外的空间，它将根据每个组件的重量分配该空间。

对于最后一行，每个“列”的宽度基于 2 个标签的首选大小（一个明显比另一个宽）和 2 个 JList 的首选大小（基于 JList 的内容） .

这是你的 SSCCE 的更新（虽然我不得不重新修改它，因为代码有点乱：试着按顺序做事，首先设置你的组件，然后按照它们出现的顺序排列它们，这很多更容易阅读）。

```
import java.awt.BorderLayout;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;

import javax.swing.DefaultComboBoxModel;
import javax.swing.DefaultListModel;
import javax.swing.JDialog;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.SwingUtilities;

public class SSCCE {

    private javax.swing.JButton addGroupButton;
    private javax.swing.JTextField addGroupTextField;
    private javax.swing.JButton addSlaveButton;
    private javax.swing.JList allSlavesList;
    private javax.swing.JButton deleteButton;
    private javax.swing.JButton deleteSlaveButton;
    private javax.swing.JComboBox groupComboBox;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JButton renameButton;
    private javax.swing.JLabel allSlavesLabel;
    private javax.swing.JLabel slavesInGroupLabel;
    private javax.swing.JList slavesInGroupList;
    private JLabel groupNameLabel;

    public SSCCE() {

    }

    public JPanel createPanel() {
        JPanel panel = new JPanel();
        panel.setLayout(new java.awt.GridBagLayout());

        addGroupButton = new javax.swing.JButton();
        addGroupTextField = new javax.swing.JTextField();
        addSlaveButton = new javax.swing.JButton();
        allSlavesList = new javax.swing.JList();
        deleteButton = new javax.swing.JButton();
        deleteSlaveButton = new javax.swing.JButton();
        groupComboBox = new javax.swing.JComboBox();
        jScrollPane2 = new javax.swing.JScrollPane();
        jScrollPane3 = new javax.swing.JScrollPane();
        renameButton = new javax.swing.JButton();
        allSlavesLabel = new javax.swing.JLabel("All slaves");
        slavesInGroupLabel = new javax.swing.JLabel("Devices in this group");
        groupNameLabel = new JLabel("Groupd name:");
        slavesInGroupList = new javax.swing.JList();
        groupComboBox.setModel(new DefaultComboBoxModel(new Object[] { "one", "two", "three" }));
        addGroupButton.setText("add");
        allSlavesList.setModel(new DefaultListModel());
        slavesInGroupList.setModel(new DefaultListModel());
        renameButton.setText("rename");
        deleteButton.setText("delete");
        addSlaveButton.setText("->");
        deleteSlaveButton.setText("<-");
        allSlavesList.setVisibleRowCount(4);
        jScrollPane2.setViewportView(allSlavesList);
        jScrollPane2.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);
        ((DefaultListModel) allSlavesList.getModel()).addElement("one");
        ((DefaultListModel) allSlavesList.getModel()).addElement("two");
        ((DefaultListModel) allSlavesList.getModel()).addElement("three");

        ((DefaultListModel) slavesInGroupList.getModel()).addElement("one");
        ((DefaultListModel) slavesInGroupList.getModel()).addElement("two");
        ((DefaultListModel) slavesInGroupList.getModel()).addElement("three");
        slavesInGroupList.setVisibleRowCount(4);
        jScrollPane3.setViewportView(slavesInGroupList);
        jScrollPane3.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);

        // Let's split your display in 3 rows
        panel = new JPanel(new GridBagLayout());
        JPanel row1 = new JPanel(new BorderLayout(3, 3));
        JPanel row2 = new JPanel(new GridBagLayout());
        JPanel row3 = new JPanel(new GridBagLayout());

        // Use GBL to make three rows and give all extra vertical space to the last one
        GridBagConstraints gbc = new GridBagConstraints();
        gbc.gridwidth = GridBagConstraints.REMAINDER;
        gbc.weightx = 1.0;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(3, 3, 3, 3);
        panel.add(row1, gbc);
        panel.add(row2, gbc);
        // Gives all extra v-space to last row
        gbc.weighty = 1.0;
        panel.add(row3, gbc);

        GridBagConstraints gridBagConstraints;

        // Set up row 1
        row1.add(groupNameLabel, BorderLayout.WEST);
        row1.add(addGroupButton, BorderLayout.EAST);
        row1.add(addGroupTextField);// In the middle so that it takes all the width and it won't stretch vertically because row1 has weighty
                                    // set to 0.0

        // Set up row 2
        // We give all extra space to the combo box
        gbc = new java.awt.GridBagConstraints();
        gbc.insets = new Insets(3, 3, 3, 3);
        gbc.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gbc.weightx = 1;
        row2.add(groupComboBox, gbc);
        gbc.weightx = 0;
        row2.add(deleteButton, gbc);
        row2.add(renameButton, gbc);

        // Set up row3
        gbc = new java.awt.GridBagConstraints();
        gbc.insets = new Insets(3, 3, 3, 3);
        gbc.gridx = 0;
        gbc.gridy = 0;
        gbc.weightx = 1.0;
        gbc.anchor = GridBagConstraints.WEST;
        row3.add(allSlavesLabel, gbc);
        gbc.gridx = 2;
        row3.add(slavesInGroupLabel, gbc);

        gbc.weighty = 1.0;
        gbc.weightx = 1.0;
        gbc.gridheight = 2;
        gbc.gridx = 0;
        gbc.gridy = 1;
        gbc.fill = GridBagConstraints.BOTH;

        row3.add(jScrollPane2, gbc);
        gbc.fill = GridBagConstraints.NONE;
        gbc.anchor = GridBagConstraints.CENTER;
        gbc.gridheight = 1;
        gbc.gridx = 1;
        gbc.weightx = 0;
        row3.add(addSlaveButton, gbc);
        gbc.gridy = 2;
        row3.add(deleteSlaveButton, gbc);

        gbc.gridheight = 2;
        gbc.gridx = 2;
        gbc.gridy = 1;
        gbc.fill = GridBagConstraints.BOTH;

        row3.add(jScrollPane3, gbc);

        return panel;

    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                SSCCE a = new SSCCE();
                JDialog dialog = new JDialog();
                dialog.add(a.createPanel());
                dialog.pack();
                dialog.setLocationRelativeTo(null);
                dialog.setVisible(true);
                // JOptionPane.showConfirmDialog(null, a.createPanel(), "centrum.manageGroups", JOptionPane.OK_CANCEL_OPTION);
            }
        });
    }

} 
```

# iphone - 如何在自定义 UIView 类中设置基于键盘的 Textview 上移动画

> ID：13620898
> 
> 赞同：0
> 
> 时间：2012-11-29T07:34:36.593
> 
> 标签：iphone, animation, ios6, uitextview, uitextviewdelegate

我在一个文本视图中有自定义 UIView 类。自定义 View 类框架仅设置某个视图控制器。我的想法是当文本视图委托方法 textviewdidbeginediting 基于键盘高度的文本视图动画无法正常工作时。我正在使用以下代码

```
static const CGFloat KEYBOARD_ANIMATION_DURATION = 0.3;
static const CGFloat MINIMUM_SCROLL_FRACTION = 0.2;
static const CGFloat MAXIMUM_SCROLL_FRACTION = 0.2;
static const CGFloat PORTRAIT_KEYBOARD_HEIGHT = 216;
static const CGFloat LANDSCAPE_KEYBOARD_HEIGHT = 162;
- (void)textViewDidBeginEditing:(UITextView *)textView {
CGRect textFieldRect=
[self.window convertRect:textView.bounds fromView:textView];
CGRect viewRect =[self.window convertRect:self.bounds fromView:self];
//So now we have the bounds, we need to calculate the fraction between the top and bottom of the middle section for the text field's midline:
CGFloat midline = textFieldRect.origin.y + 0.5 * textFieldRect.size.height;
CGFloat numerator = midline - viewRect.origin.y
- MINIMUM_SCROLL_FRACTION * viewRect.size.height;
CGFloat denominator =(MAXIMUM_SCROLL_FRACTION - MINIMUM_SCROLL_FRACTION)* viewRect.size.height;
CGFloat heightFraction = numerator / denominator;
//Clamp this fraction so that the top section is all "0.0" and the bottom section is all "1.0".
if (heightFraction < 0.0)
{
    heightFraction = 0.0;
}
else if (heightFraction > 1.0)
{
    heightFraction = 1.0;
}

//    Now take this fraction and convert it into an amount to scroll by multiplying by the keyboard height for the current screen orientation. Notice the calls to floor so that we only scroll by whole pixel amounts.
UIInterfaceOrientation orientation =
[[UIApplication sharedApplication] statusBarOrientation];
if (orientation == UIInterfaceOrientationPortrait ||orientation == UIInterfaceOrientationPortraitUpsideDown)
{
    animatedDistance = floor(PORTRAIT_KEYBOARD_HEIGHT * heightFraction);
}
else
{
    animatedDistance = floor(LANDSCAPE_KEYBOARD_HEIGHT * heightFraction);
}
//Finally, apply the animation. Note the use of setAnimationBeginsFromCurrentState: — this will allow a smooth transition to new text field if the user taps on another.

CGRect viewFrame = self.frame;
viewFrame.origin.y -= animatedDistance;
[UIView beginAnimations:nil context:NULL];
[UIView setAnimationBeginsFromCurrentState:YES];
[UIView setAnimationDuration:KEYBOARD_ANIMATION_DURATION];
[self setFrame:viewFrame];

[UIView commitAnimations];

 }

-(void)textViewDidEndEditing:(UITextView *)textView{
CGRect viewFrame = self.frame;
viewFrame.origin.y += animatedDistance;
[UIView beginAnimations:nil context:NULL];
[UIView setAnimationBeginsFromCurrentState:YES];
[UIView setAnimationDuration:KEYBOARD_ANIMATION_DURATION];

[self setFrame:viewFrame];
[UIView commitAnimations];
 } 
```

并附上了我的屏幕截图

![在此处输入图像描述](../Images/e88d9d3799dced79714bc85f45cf953d.png)

![在此处输入图像描述](../Images/24aa4337883448c1e663692a69ea1a62.png)

如何解决这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:18:54.413

您并使用动画移动您的 textView ，

这是代码，你可以根据你的设置框架

```
-(void)makeAnimation
{
    yourView.alpha = 0;
    CGRect optionsFrame = yourView.frame;
    [UIView beginAnimations:nil context:nil];
    [UIView setAnimationDuration:.5];

    CGRect optionsFrame2  = {0,0,320,266};
    yourView.frame  = optionsFrame2;
    yourView.alpha=1;
    [UIView commitAnimations];
} 
```

# c++ - 使用链表堆栈的中缀到后缀转换器

> ID：13620901
> 
> 赞同：1
> 
> 时间：2012-11-29T07:35:01.357
> 
> 标签：c++

编写一个程序，该程序使用链表堆栈将中缀表示法的方程转换为后缀表示法。程序的堆栈部分是自己的类，在自己的头文件中，并且实现正确（能够编译运行我教授提供的test main）。我目前正在研究将中缀字符串转换为继承类中的后缀字符串的实际函数。我有以下代码，我认为它在某处错误地完成了调车场算法，因为我得到了奇怪的输出。

```
template <class myType>
void infixToPostfix<myType>::convertToPostfix()
{
    linkedStack<char> newS; //creating a new char stack
    string output; //creating the postfix output string

    for(int i = 0; i < infx.length(); i++) //cycle through the entire string
    {
        if (isgraph(infx[i])) //skip spaces
        {
            if (isalpha(infx[i])) //if the char is a letter (caps or uncaps)
            {
                output += infx[i]; //append it to output
            }
            else
            {
                if (newS.isEmptyStack()) newS.push(infx[i]);
                else if (precedence(infx[i], newS.top()) //check if the current char has higher precedence than the top of the stack, or if the stack is empty
                {
                    newS.push(infx[i]); //push the current char onto the stack
                }
                else if (infx[i] == ')') //check if the current char is a closing paren
                {
                    for(;;)
                    {
                        if (newS.isEmptyStack()) break;
                        if (newS.top() != '(') //check if the top of the stack isn't an open paren
                        {
                            output += newS.top(); //append the top of the stack to the output
                            newS.pop(); //pop the top of the stack off
                        }
                        else //the top of the stack is a (
                        {
                            newS.pop(); //pop the ( off the stack
                            break; //break out of the for loop
                        }
                    }
                }
                else //the current char doesn't have higher precedence than the top of the stack
                {
                    output += newS.top(); //append to the top of the stack to output
                    newS.pop(); //pop off the top of the stack
                    newS.push(infx[i]); //put the current char onto the top of the stack
                }
            }
        }
    }

    while (!newS.isEmptyStack()) //not sure if this works, assuming we're at the end of the line at this point, and if there's anything on the stack we need to append it to the output
    {
        output += newS.top();
        newS.pop();
    }

    pfx = output; //setting pfx to the output (pfx is the class variable for the postfix output)

} 
```

我显示后缀字符串的功能如下

```
template <class myType>
void infixToPostfix<myType>::showPostfix()
{
    cout << "Postfix Expression: " << pfx << endl;
} 
```

运行程序时，我得到以下输出。

```
silverbox@silverbox-VirtualBox:~/Dropbox/CS202/ass13$ ./a.out testinput1.txt
Infix Expression: A + B - C
-ostfix Expression: AB+C
Infix Expression: A + B * C
*+stfix Expression: ABC
Infix Expression: A * B + C / D
/+stfix Expression: AB*CD
Infix Expression: (A + B) * C
*+(tfix Expression: AB)C
Infix Expression: A * (B + C) / D
/+(tfix Expression: A*BC)D
Infix Expression: (A + B) * (C - D)
-(+(fix Expression: AB)*CD)
Infix Expression: A * (B + C / D)
/+(tfix Expression: A*BCD)
Infix Expression: A + ((B + C) * (E - F) - G) / (H - I)
-(--(+( Expression: A+(BC)*EF)G)/HI)
silverbox@silverbox-VirtualBox:~/Dropbox/CS202/ass13$ 
```

老实说，我不明白为什么看起来像后缀表达式的奇数位会被推到我 cout 中的字符串上。任何提示/帮助？

编辑：在进行 ymett 建议的更改后，我的输出如下。我现在正试图找出我在尝试处理括号时出错的地方。

```
silverbox@silverbox-VirtualBox:~/Dropbox/CS202/ass13$ ./a.out testinput1.txt
Infix Expression: A + B - C
Postfix Expression: AB+C-
Infix Expression: A + B * C
Postfix Expression: ABC*+
Infix Expression: A * B + C / D
Postfix Expression: AB*CD/+
Infix Expression: (A + B) * C
Postfix Expression: AB)C*+(
Infix Expression: A * (B + C) / D
Postfix Expression: A*BC)D/+(
Infix Expression: (A + B) * (C - D)
Postfix Expression: AB)*CD)-(+(
Infix Expression: A * (B + C / D)
Postfix Expression: A*BCD)/+(
Infix Expression: A + ((B + C) * (E - F) - G) / (H - I)
Postfix Expression: A+(BC)*EF)G)/HI)-(--(+(
silverbox@silverbox-VirtualBox:~/Dropbox/CS202/ass13$ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T08:38:46.153

您还没有显示如何`infx`填充，但看起来它最后有一个回车符 (CR, '\r', 0x0d, 13)。

您的条件`infx[i] != ' '`应替换为检查任何空白字符的条件，即`!isblank(infx[i])`. 更好的是，不要检查你不想要的字符，而是检查你想要的字符；如果您没有列表使用`isgraph(infx[i])`（任何具有可见表示的字符，即不是控制字符或空格）。

条件`infx[i] >= 65 && infx[i] <= 122`也不好。首先，您应该使用字符文字而不是数字，即`infx[i] >= 'A' && infx[i] <= 'z'`. 其次，您在`'Z'`和之间包含了`'a'`不是字母的字符，所以应该是`(infx[i] >= 'A' && infx[i] <= 'Z') || (infx[i] >= 'a' && infx[i] <= 'z')`. 此外，您假设字母在字符集中是连续的，这对于 ASCII 但并非对于所有字符集都是正确的（尽管也许我们不必担心这一点）。更好地使用语言为您提供的工具，并编写`isalpha(infx[i])`.

# c# - 从两个数据表中获取公共 ID

> ID：13620902
> 
> 赞同：2
> 
> 时间：2012-11-29T07:35:02.003
> 
> 标签：c#, datatable

我有两个`DataTable`: `dt1`& `dt2`。`dt1`包含一个字段，`ID`包含`dt2`两个字段，`ass_ID`并且`Name`.

我必须`ID`从这两个`DataTable`s 中获取匹配 s 的数量。我该怎么做呢？有什么简单的方法可以比较它们或任何东西来计算这两个表中匹配`ID`的 s（common s）的数量吗？`ID`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:36:57.907

```
var count = (from dr1 in dt.AsEnumerable()
            from dr2 in dt2.AsEnumerable()
            where dr1.Field<int>("ID") == dr2.Field<int>("ass_ID")
            select dr1).Count(); 
```

或者

```
var count = (from dr1 in dt1.AsEnumerable()
             join j in dt2.AsEnumerable() on dr1.Field<int>("ID") equals j.Field<int>("ass_ID")
             select j).Count(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:48:56.583

试试这个：

```
string strExpression = string.Format("ID = '{0}'",dt2.Columns["ass_ID"]);
DafaultView dv = new DefaultView();
dv = dt1.DefaultView;
dv.RowFilter = strExpression;
//work with dv (DefaultView) 
```

# jquery - scrollTop() 仍然无法在 Chrome 中工作

> ID：13620906
> 
> 赞同：1
> 
> 时间：2012-11-29T07:35:32.703
> 
> 标签：jquery, google-chrome, safari, scrolltop

我有那个烦人的`.scrollTop()`不工作问题。每次您点击刷新按钮时，我都试图让页面从顶部开始。为此，我`$('html,body').scrollTop(0)`将`$(document).ready`. 在 Firefox 中运行良好，但在 Chrome 或 Safari 中不行。该`scrollTop`功能在整个页面中都可以正常工作（即平滑滚动链接），只是在您点击页面上的刷新时无法正常工作。

我很茫然; 尝试了不同的组合：`$('html')`, `$('body')`, `$('html,body')`, `$(document)`, `$(window)`...

```
$(document).ready(function() {
    $('html,body').scrollTop(0);
})​;​ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:46:12.357

如果你不需要任何动画，你可以使用原生 JS 函数来代替 jQuery。只要过去`0,0`，你就会没事的。

```
window.scrollTo(x-value, y-value); 
```

# objective-c - 单击按钮时隐藏 MasterViewController

> ID：13620910
> 
> 赞同：0
> 
> 时间：2012-11-29T07:36:06.413
> 
> 标签：objective-c, ios, xcode4.3, show-hide, master-detail

我有一个 Master/Detail 应用程序，一切正常……我添加了一个按钮，目的是带我到另一个 tableViewController。
当我转到该表视图控制器时，我需要将主视图控制器从纵向和横向模式永久隐藏。

总而言之，我在一个新创建的独立于原始详细视图控制器的表视图控制器中，当单击此按钮并加载新的 TableViewController 时，我需要永久隐藏主视图控制器。

我该怎么做？我尝试使用 MGSplitViewController 但我迷失了使用它..我是 Xcode 开发的新手。任何帮助将不胜感激。

更新1：
我的问题不在于详细视图控制器...在详细视图控制器中，我添加了一个按钮，该按钮将带我到另一个 tableviewcontroller...现在当我加载时，我需要强制 masterviewcontroller 保持隐藏我该怎么做?

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-29T07:45:19.450

配置详细视图控制器后，您需要关闭弹出框控制器。

```
if (self.popoverController) {
    [self.popoverController dismissPopoverAnimated:YES];
} 
```

如果您的详细视图控制器还没有保存 UIPopoverController 的属性，您可以通过为 UISplitViewControllerDelegate 实现这些委托方法来捕获它

```
- (void)splitViewController:(UISplitViewController *)iSplitViewController
     willHideViewController:(UIViewController *)iViewController
          withBarButtonItem:(UIBarButtonItem *)iBarButtonItem
       forPopoverController:(UIPopoverController *)iPopoverController {

    self.popoverController = iPopoverController;
}

- (void)splitViewController:(UISplitViewController *)iSplitViewController
     willShowViewController:(UIViewController *)iViewController
  invalidatingBarButtonItem:(UIBarButtonItem *)iBarButtonItem {

    self.popoverController = nil;
} 
```

# eclipse - 如何通过 STS 在 spring bean 配置文件中快速添加命名空间声明

> ID：13620918
> 
> 赞同：0
> 
> 时间：2012-11-29T07:36:25.983
> 
> 标签：eclipse, spring

我正在扩展一个使用 spring 框架的项目。通过复制/粘贴 ns 和 schemaLocation 来手动添加这些 xsd 声明总是一项痛苦的任务。我注意到当您最初创建 xml 文件时，有一个步骤可以直观地选择项目中所有可用的 xsd。修改xml时有类似的方法吗？

还有什么方法可以自动格式化引入但未使用的命名空间。类似于 command(ctrl) + shift + o

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T08:23:13.337

在 STS 中，您可以使用 Spring Config Editor 轻松快速地配置命名空间声明。

您需要右键单击要配置的 spring 上下文，选择 Open With -> Spring Config Editor。在 Spring Config Editor 的底部，在 Source 选项卡旁边，您可以找到 Namaspaces 选项卡。在此选项卡中，您可以轻松添加/删除命名空间。

至于你的第二个问题，我不确定弹簧命名空间是否存在类似于 (ctrl) + shift + o 命令的东西。

# ruby-on-rails-3 - 使用 rspec 测试 rails 控制器：值相同，但对象 id 不同

> ID：13620919
> 
> 赞同：2
> 
> 时间：2012-11-29T07:36:28.173
> 
> 标签：ruby-on-rails-3, rspec

我尝试像这样使用 rspec 测试 rails 控制器：

```
require 'spec_helper'

describe NewsController do  
  describe "GET 'edit'" do
    before(:each) do
      @news_1 = FactoryGirl.create(:news_1)
      get :edit, { :id => @news_1.id }
    end
    it { response.should be_success }
    it { assigns(:news).should eq(@news_1) }
    it { response.should render_template(:edit) }
  end
end 
```

但是，我得到了这个错误。

```
 Failures:

  1) NewsController GET 'edit' 
     Failure/Error: it { assigns(:news).should eq(@news_1) }

       expected: #<News id: 1, title: "news_title_1", contents: "news_contents_1", display: nil, created_at: "2012-11-29 07:24:49", updated_at: "2012-11-29 07:24:49", news_date: nil, orion: false, pw: false, op: false, pickup: false, info_1: nil, info_2: nil, info_3: nil, info_4: nil, info_5: nil, del: false, place: nil, contact: false>
            got: #<News id: 1, title: "news_title_1", contents: "news_contents_1", display: nil, created_at: "2012-11-29 07:24:49", updated_at: "2012-11-29 07:24:49", news_date: nil, orion: false, pw: false, op: false, pickup: false, info_1: nil, info_2: nil, info_3: nil, info_4: nil, info_5: nil, del: false, place: nil, contact: false>

       (compared using ==)

       Diff:#<News:0x000001030b55c8>.==(#<News:0x000001033126b8>) returned false even though the diff between #<News:0x000001030b55c8> and #<News:0x000001033126b8> is empty. Check the implementation of #<News:0x000001030b55c8>.==.
     # ./spec/controllers/news_controller_spec.rb:73:in `block (3 levels) in <top (required)>' 
```

我认为这些值是相同的，但对象 id 是不同的。所以这个测试失败了......我该如何解决这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-22T14:41:52.330

我自己也有这个问题。我的解决方法是比较属性，即

```
it { assigns(:news).attributes.should eq(News.last.attributes) } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:50:10.450

你应该做如下

需要'spec_helper'

```
describe NewsController do  
  describe "GET 'edit'" do
    before(:each) do
      @news_1 = FactoryGirl.create(:news_1)
      get :edit, { :id => @news_1.id }
    end
    it { response.should be_success }
    it { assigns(:news).should eq(News.last) }
    it { response.should render_template(:edit) }
  end
end 
```

== 和 eq 是不同的。要在检索对象时测试您的方法，请使用 should == 或其等效的 a.should eql

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:43:49.507

我认为这里的问题是'eq'如何在两个对象之间进行比较。您可能想在这种情况下使用 == 。你可以在这里看到这个[问题的详细解释](https://stackoverflow.com/questions/3436234/rspec-equal-method)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-04-17T02:33:02.513

我在比较数组时遇到了这个问题，我用以下方法解决了它：

```
expect(assigns(:receipts)).to match_array(receipts) 
```

# bash - 有没有办法让 awk 跟踪它所做的更改

> ID：13620920
> 
> 赞同：1
> 
> 时间：2012-11-29T07:36:36.517
> 
> 标签：bash, csv, awk

我想知道是否有办法让 awk 输出它所做的更改数量，或者以某种方式跟踪它所做的更改。例如，如果有一个 .csv 文件，其中我使用 awk 将单词“the”替换为“it”，是否有办法让 awk 输出它找到并替换了“the”内部的次数.csv 文件？我一直在谷歌+这个网站的其余部分上搜索，但没有找到任何东西，不确定我是否只是以错误的方式工作或类似的东西，如果有人可以帮助我解决这个问题我真的很感激，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:38:58.337

每当您在 awk 脚本中将“the”替换为“it”时，都会增加一个计数器。然后通过将计数器放在 END 块中来打印 awk 脚本末尾的计数器。

一个简单的例子，你只是`the`在第 1 列中替换“”：

```
awk 'BEGIN{FS=OFS=","}
     {if ($1 == "the") {$1 = "it"; counter++; print}}
     END{print counter}' input.csv 
```

但是您要做的只是简单地计算单词/模式“the”在原始 .cvs 文件中出现的次数，您可以简单地执行以下操作：

```
grep -c "the" input.csv 
```

或取决于您的 .csv 格式：

```
grep -c " the," input.csv 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T09:37:52.167

据我所知， awk 不能自动给出替换计数。我们必须以某种方式手动对数字求和。例如，用你的“the”->“it”：

```
gawk '{x+=gsub("the","it");print} END{print "total changes:"x}' file.csv 
```

# php - 没有错误，但也没有打印

> ID：13620922
> 
> 赞同：-2
> 
> 时间：2012-11-29T07:36:45.900
> 
> 标签：php, mysql, sql

我创建了一个接受用户输入并返回相关发票的 html 表单。我没有收到任何错误，并且我检查了我的 html 代码以确保 isset 的条件正确。我还在 PHPAdmin 中测试了查询（它返回我要求的信息）。但是，发票没有打印到屏幕上，错误或 PHP 代码也没有。我在屏幕上看到的唯一内容是标题（未显示 html）和超链接（未显示 html）。下面是相关的 PHP 代码部分。提前致谢。

```
if( isset($_POST["submit"] )) {
if (!($stmt =$mysqli->prepare("SELECT DISTINCT INVOICE.date, CUSTOMER.Name, CUSTOMER.Lname, CUSTOMER.Phone, CUSTOMER.Address, CUSTOMER.email, INVOICE.Invoice_num, INVOICE.Itm_num, INVOICE.Itm_Price, INVOICE.Discount, INVOICE.Total 
FROM CUSTOMER, INVOICE
      WHERE CUSTOMER.Phone = INVOICE.Cust_phone AND CUSTOMER.Lname = INVOICE.Cust_lname AND
(CUSTOMER.Name = ? OR  CUSTOMER.Lname = ? OR INVOICE.date = ? OR INVOICE.Invoice_num = ? OR INVOICE.Itm_num = ?)
GROUP BY date;"))) {                                
    print "Prepare failed: (" . $mysqli->errno . ") " . $mysqli->error;
          }

if (!$stmt->bind_param("sssis",$_POST['fname'], $_POST['lname'], $_POST['date'], $_POST['invoice_num'], $_POST['item_num'])) {
    print "Binding parameters failed: (" . $stmt->errno . ") " . $stmt->error;
}

if (!$stmt->execute()) {
    print "Execute failed: (" . $stmt->errno . ") " . $stmt->error;
    }

$stmt->store_result();

if (!$stmt->bind_result($date, $Fname, $Lname, $Phone, $Address, $Email, $Invoice_num, $Item_num, $Itm_Price, $Discount,$Total)) {      
    print "Binding output parameters failed: (" . $stmt->errno . ") " . $stmt->error;
}

if ($stmt->num_rows == 0){  
    print "No results were found for the following search <p>".$_POST['fname'].$_POST['lname'].$_POST['date'].$_POST['invoice_num'].$_POST['item_num']."</p>";
}

else {
    print "<table border=2 cellpadding=4>

        <tr bgcolor=white>
        <th>Date</th>
        <th>First Name</th>         
        <th>Last Name</th>
        <th>Phone</th>          
        <th>Address</th>
        <th>Email</th>          
        <th>Invoice #</th>
        <th>Item #</th>
        <th>Price</th>
        <th>Discount (if applicable)</th>
        <th>Total</th>          
        </tr>";

    while ($stmt->fetch()) {                    
                    print "<tr><td>".$date."</td>
                    <td>".$Fname."</td>
                    <td>".$Lname."</td>
                    <td>".$Phone."</td> 
                    <td>".$Address."</td>
                    <td>".$Email."</td>
        <td>".$Invoice_num."</td>
                    <td>".$Itm_num."</td>
                    <td>".$Itm_Price."</td>
                    <td>".$Discount."</td>
                    <td>".$Total."</td></tr>";
    }

    print "</table>";
}
$stmt->free_result();    
} 
```

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T10:19:14.753

当您的代码没有打印任何内容时，我猜想，根据[`isset`](http://www.php.net/manual/en/function.isset.php)，要么`$_POST["submit"]`未设置，要么为空。

为了验证这一点，请在`if (isset(...))`. 如果您没有看到回声，请检查您的`$_POST`变量。它可能拼写错误，甚至作为 GET 请求而不是 POST 发送。

# objective-c - iPhone XMPPFramework / Openfire 的问题

> ID：13620923
> 
> 赞同：0
> 
> 时间：2012-11-29T07:36:48.467
> 
> 标签：objective-c, ios, xmpp, openfire, xmppframework

我们使用 Objective C XMPPFramework 开发了一个应用程序。但是我们注意到，一段时间后，用户下线了。这是在装有 iOS 4.x 的手机上发生的

我们确保 Openfire 具有允许客户端空闲的设置，并且它还会向客户端发送 ping 消息。但是，我们无法理解用户离线的原因。

如果有人遇到并解决了同样的问题，请告诉我们。如果需要，我们很乐意提供更多信息。

问候阿努普

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-18T02:16:02.043

`XMPPStream`有一个名为 的属性`keepAliveInterval`。iPhone 目标的默认值为`120.0`（2 分钟）。您可能需要设置它（例如，在您初始化流的同一位置）。

如果您的服务器实际上正在发送[XEP-0199](http://xmpp.org/extensions/xep-0199.html) ping，您可能需要使用`XMPPAutoPing`或`XMPPPing`.

# css - a.css-class 和 .css-class 选择器有什么区别——如果我所有的酷元素都是 a？

> ID：13620925
> 
> 赞同：1
> 
> 时间：2012-11-29T07:36:56.003
> 
> 标签：css, css-selectors

我对 CSS 的简单行为感到困惑。

我`<a class="cool-element"></a>`在 DOM 中有一些元素，而 dom 中没有其他类型的元素具有“cool-element”类，甚至没有 div。所以我这样做是为了尝试选择它们：

```
.cool-element {
  background-color: red;
} 
```

令我惊讶的是没有用。但如果我这样做

```
a.cool-element {
  background-color: red;
} 
```

我得到了预期的结果。我在 Firefox 和加载了许多其他 CSS 规则的应用程序中对此进行了测试。我没有单独测试过这个，但我很确定在其他一些地方我成功地使用了第一个选择器。这里的第一个选择器不是应该一直工作得很好，还是我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:10:56.103

**CSS 特异性**

在 CSS 中，更具体的规则优先于不太具体的规则。您可以使用以下方法计算给定选择器的特异性

1.  内联样式 +1000 - 内联样式始终优先
2.  +100 for an id - 元素的 id 属性
3.  +10 类或伪类 - 类属性或 :hover
4.  +1 用于元素或伪元素 - html、body、div、p... 或 :first、:last

选择器会覆盖所有点数小于它的选择器。如果他们的分数相同，那么顺序很重要。

例子

```
a.class-name = 1 + 10 = 11
a#id.class-name = 1 + 100 + 10 = 111
a.class-name.class2-name = 1 + 10 + 10 = 21 
```

直到我了解了如何计算点 CSS 在我看来是一门黑暗的艺术。有一篇关于[css-tricks](http://css-tricks.com/specifics-on-css-specificity/)的好文章可能会更好地解释它 - 跳转到计算 CSS 特异性值部分

**订单事项**

正如 Jorge Alvarado 提到的顺序很重要，因此如果您有两个适用于相同元素的规则，则第二种样式将覆盖第一个样式。

```
a.class-name { background: red } #this rule will be overridden
a.class-name { background: green } #this rule will be applied 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:40:37.647

我认为有时问题不是css中类的选择器，而是你放置它们的顺序，所以如果你先有那个类，然后有另一个覆盖或更改它们的规则，你将永远不会看到预期的结果。尝试组织规则的应用方式并再次比较。

让我们假设：

```
<div class="topclass">
   <a class="myclass1" href="#">a link</a>
</div>

a.myclass1{
    background-color:red;
}

a{
  background-color:blue;
 }

.topclass a{
   background-color:yellow;
 } 
```

锚的最终渲染颜色为黄色。

# php - mysql，在最后一个类别中获取最后一个文章

> ID：13620930
> 
> 赞同：1
> 
> 时间：2012-11-29T07:37:10.623
> 
> 标签：php, mysql, codeigniter

我想把所有带有“IDJurnal”的文章都放在数据库的最后，这是我的表

```
CREATE TABLE `artikel`(
`IDArtikel` INT(11)NOT NULL AUTO_INCREMENT,
`IDJurnal` INT(11)NOT NULL,
`IDKategori` INT(11)NOT NULL,
`judul` VARCHAR(255)NOT NULL,
`abstract` text NOT NULL,
`nama_file` VARCHAR(255)NOT NULL,
`hits` INT(11)NOT NULL,
`didownload` INT(11)NOT NULL,
`created_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
`created_by` VARCHAR(255)NOT NULL,
`updated_time` datetime NOT NULL,
`updated_by` VARCHAR(255)NOT NULL,
PRIMARY KEY(`IDArtikel`))ENGINE = INNODB AUTO_INCREMENT = 12 DEFAULT CHARSET = utf8; 
```

我的期刊表是

```
CREATE TABLE `jurnal`(
`IDJurnal` INT(11)NOT NULL AUTO_INCREMENT,
`volume` VARCHAR(255)NOT NULL,
`nomor` VARCHAR(255)NOT NULL,
`bulan` INT(2)NOT NULL,
`tahun` INT(4)NOT NULL,
`halaman` INT(4)NOT NULL,
`issn` VARCHAR(255)NOT NULL,
`pengantar` text NOT NULL,
`redaksi` text NOT NULL,
`cover` VARCHAR(255)NOT NULL,
`created_time` datetime NOT NULL,
`created_by` VARCHAR(255)NOT NULL,
`updated_time` datetime NOT NULL,
`updated_by` VARCHAR(255)NOT NULL,
PRIMARY KEY(`IDJurnal`))ENGINE = INNODB AUTO_INCREMENT = 3 DEFAULT CHARSET = utf8; 
```

在我的情况下如何查询？这是我从 artikel tabel 得到的结果

```
IDArtikel = 1, IDJurnal=1 
```

IDArtikel = 2，IDJurnal=2 IDArtikel = 3，IDJurnal=2

我想要的是，IDArtikel = 2，IDJurnal=2 IDArtikel = 3，IDJurnal=2

IDJurnal 最后输入

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:51:35.043

```
SELECT * FROM `artikel` WHERE `IDJurnal` = (SELECT `IDJurnal` FROM `jurnal` ORDER BY `IDJurnal` DESC LIMIT 1) 
```

[http://sqlfiddle.com/#!2/f1dae/2/0](http://sqlfiddle.com/#!2/f1dae/2/0)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:40:58.233

最后一个数据库是什么意思？

通常你会这样做：

```
Select * From artikel Where IDArtikel >= 165166 
```

或者类似的东西，如果你想获得一系列 Id，你可以说 >= 1000 AND <= 2000 例如。

# javascript - 使用 jQuery 创建多个输入字段，基于输入的值

> ID：13620939
> 
> 赞同：0
> 
> 时间：2012-11-29T07:37:46.490
> 
> 标签：javascript, jquery, html

我有一个表格，我在其中询问用户他们需要多少个文件输入，并且我想根据答案动态生成合适数量的文件浏览输入。

这是我的尝试：

```
$("#howmany").change(function() 
{
    var htmlString = "";
    var len = $(this).val();
        for (var i = 0; i <= len; i++) 
        {
            htmlString += "
                    <tr>
                    <td>
                    <input name="ufile[]" type="file" id="ufile[]" size="50" />
                    </td>
                    </tr>
                    ";                      
        }
        $("#dynamic_upload").html(htmlString);
} 
```

HTML

```
<input id="howmany" />

<table id="dynamic_upload"> 
</table> 
```

这个想法是重复输入的“单位”将根据输入的数字生成。

但它不起作用，知道我哪里出错了吗？

编辑：更清楚地说明“它不起作用”（道歉）。当我包含此代码时，在“多少”字段中输入数字后，没有明显的反应。没有错误消息出现，虽然 - 在我不知道如何阅读的地方有错误日志吗？（对此很陌生）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:42:51.247

不可能创建这样的字符串。尝试：

```
 htmlString += "<tr>";
        htmlString += "<td>";
        htmlString += '<input name="ufile[]" type="file" id="ufile[]" size="50" />';
        htmlString += "</td>";
        htmlString += "</tr>"; 
```

还要记住，如果字符串包含双引号，则需要在字符串周围使用单引号，或者将它们转义。

函数末尾也缺少您`);`：

```
 $("#dynamic_upload").html(htmlString);
} <--- this should be  }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:41:56.767

JavaScript 字符串中不能有换行符。此外，您在字符串中使用双引号（即用于`<input>`属性）。可能的重写：

```
htmlString += '<tr><td><input name="ufile[]" type="file" id="ufile[]" size="50"></td></tr>'; 
```

以后，请给出一个比“它不工作”更具描述性的问题——例如，您是否收到任何错误消息？

# algorithm - 分析运行时间

> ID：13620941
> 
> 赞同：0
> 
> 时间：2012-11-29T07:37:50.107
> 
> 标签：algorithm, complexity-theory, time-complexity, asymptotic-complexity

```
def foo(x):
    if x > 5:
        return foo(x–1) – foo(x-1)
    else:
        return 77

def bar(a,b):
    if (b > 0):
        return bar( bar(a, b+1) , b-1 )
    else:
        return 0 
```

有人`walk me through`可以找到这些的运行时间吗？对于`foo`，我的猜测是这是`O(n^2)`由于 2 次递归调用。也可以`Θ(n^2)`吗？

因为`bar`，我不知道，因为它是无限递归。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:53:09.750

显然`foo(n)`不在多项式时间内：

```
T(n) = 2T(n-1)  , if n > 5
     = Theta(1) , otherwise 
```

因此

```
T(n) = Theta(2^n) 
```

`bar(a,b)`只要永远不会结束`b > 0`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T09:17:02.973

对于函数

```
 _________  77  if(x<=5)
         /
        /
 foo(x)- 
        \
         \_________    foo(x-1) - foo(x-1)   if(x>5)

let f(x) be time function for foo(x)

f(x) =   f(x-1) - f(x-1) // 2 (2^1)calls of f(x-2) happened for 1 level depth
f(x) =   [f(x-2) - f(x-2)] - [ f(x-2) - f(x-2)] (expanding f(x-1)) // 4(2^2) calls of f(x-2) happened for 2nd level depth
f(x)={[ f(x-3) - f(x-3)]-[ f(x-3) - f(x-3)]} - {[ f(x-3) - f(x-3)]-[ f(x-3) - f(x-3)]} // 8(2^3) calls  of  f(x-2) happened for 3rd level depth 
```

让我打电话已经完成程序....

```
but program terminates when x<=5,
 so program terminates in call f(x-i) when x-i<=5
that means i>=x-5 , 
at level i there are 2power(i) calls 
 ==> 2^i calls of f(x-i).
 since f(<=5)=1(1 is unit of measure) for i>=x-5 
```

所以 f(n) = 2^(x-5)*(1) =>O(2^x) 其中 x 是输入大小。如果我们用 n 替换 x 复杂度是 O(2^n) 。

第二个问题

```
 _________  0  if(b<=0)
         /
        /
 bar(a,b)
        \
         \_________  foo( bar(a,b+1) ,b-1 )  if(b>0) 
```

令 t(n) 为 bar(a,b) 的时间函数，其中 n 与 b 成正比，因为 b 是终止的决定因素。

扩大递归

```
t(a,b) = t( t(a,b+1), b-1) .
first  t(a,b+1) is executed it inturn calls t(a,b+2) and so on.... 
it will be infinite recursion .....   for b > 0  . 
```

据我所知，由于我们没有无穷大的限制（既没有下限也没有上限，所以没有 theta 表示法和大哦表示法，比如 omega 表示法）我们也无法测量复杂度函数。（如果我有请纠正我'我错了）

但是如果 b<0 那么它将在 O(1) 时间内完成......

# amazon-s3 - 从 amazon s3 下载已由第三方上传的文件

> ID：13620944
> 
> 赞同：1
> 
> 时间：2012-11-29T07:37:55.757
> 
> 标签：amazon-s3, amazon-web-services, amazon

我的问题是这个。我有文件从第三方添加到我的 S3 存储桶中。现在，如果我尝试从命令行下载这些文件，它们就会损坏或加密。但是，如果我从 S3 控制台单独下载它们，它们就很好。（我也没有启用加密）

**所以，我的问题是：是否可以从第三方上传的 Amazon S3 存储桶中下载对象？**

我已经阅读了我所能阅读的所有内容，但无法找到为什么会这样的答案。这是存储桶策略：

```
 {
    "Version": "2008-10-17",
    "Statement": [
        {
            "Sid": "AllowPublicRead",
            "Effect": "Allow",
            "Principal": {
                "AWS": "*"
            },
            "Action": "s3:GetObject",
            "Resource": "arn:aws:s3:::bucket-name-here/*"
        }
    ]
    } 
```

加密时的文件内容示例：^ *�^H^H^@��P^B�doc.0.js^@�T[o�0^X�+^^�^FH� pM�ֆj҆:mZ� =M�DNb.^S^Ad��ٴ�>^S.!YՆ^Gۆ^>�ㆌp䆌-册<code>��^[�ΆVن^V,sZ 7JE^S��Z소 sv�첕H^C^_Awʲֲ!HY��"� �^A$�$ <7�"�u{�l^OZ�ѧ)>�7Ч�.3ʇ^HۃQ ��?gTS?2J�� �S�l%z^?�9gB0nHh�^UI��B���^]��^t�%�-KQ^KN�3^* W������[0 偌IV^X�� ��偌^]���2�ȁ~>>>:�B,^\^S�<em>|nہ^@x၌遌쁌�u�� �hE^[��]�=Ն� �~��h�tedԆzꆌ�#x�Gyǆ&Sw8^F]d}D�^^ z2��Q A^Vk^E�f ^U%����� +^D̊^U{�^\kꊌ� /�ꑁ�?푁^E6O!gUN�L3�o?�^�L�ё^[^Q3��בx�[py�\�^FR�^P���,���� ��>�t�V^Z���<��^?iLW^X^Y^E^@^@

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T09:44:17.937

如果第三方工具对您的文件进行加密并上传，您必须以相同的方式并使用相同的密钥对其进行解密。

# jquery - 如何通过 css 或 jquery 选择 HTML 的特定部分？

> ID：13620948
> 
> 赞同：-3
> 
> 时间：2012-11-29T07:38:11.590
> 
> 标签：jquery, html, css

我想显示 HTML 部分的特定部分。例如，

```
<html>
    <div class="entry">
        <span class="headword">work</span>
        <span class="synonym">job</span>
        <span class="antonym">play</span>
        <span class="subentry">
            <span class="headword">working</span>
            <span class="synonym">studying</span>
            <span class="antonym">playing</span> 
        </span>
    </div>
</html> 
```

我需要用`class="subentry"`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T07:42:57.067

**CSS**

```
.entry > span {
         display:none /*This hides all the direct child(span) of the parent div*/
         }
.entry .subentry { display:block} 
```

​<strong> [DEMO](http://jsfiddle.net/N5mxW/2/)

* * *

如果您在父 div 侧使用不同的标签，请使用`visibility`选项。

**HTML**

```
<div class="entry">        
        <span class="antonym">play</span>
        **<span class="subentry">
            <span class="headword">working</span>
            <span class="synonym">studying</span>
            <span class="antonym">playing</span> 
        </span>**
    <div>sgnmgasd</div>
    <p>afs</p>
    </div>​ 
```

**CSS**

```
.entry{
 visibility:hidden
}
.subentry{
 visibility:visible
} 
```

**[演示2](http://jsfiddle.net/N5mxW/5/)** ​</p>

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:50:49.670

检查这个：

> [http://jsfiddle.net/FL7kF/](http://jsfiddle.net/FL7kF/)

```
$(".subentry").siblings().hide(); 
```

这将仅显示 .subentry 子跨度，而其他将被隐藏；

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T08:18:04.327

你的意思是你需要隐藏条目中的所有内容，除了“子条目”部分

那个 Id 做这个`$(".entry").hide()`

然后在它下面添加`$(".subentry").show()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T07:59:26.843

尝试这个：

```
$('.subentry').siblings().hide() 
```

这将隐藏除子条目标记的后代之外的所有内容。有关更多信息，`siblings()`请参阅[此](http://api.jquery.com/siblings/)。

# php - 请解释这个 PHP 函数定义

> ID：13620955
> 
> 赞同：3
> 
> 时间：2012-11-29T07:38:50.277
> 
> 标签：php, function

*请将标题更改为与此问题相关的内容，因为我不知道这应该是什么。

当我阅读一些教程时，我看到这样的脚本

```
function testArray(array $categories) {
var_dump($categories);
}

testArray(array('string')); 
```

in 函数定义使`array`参数严格必须是数组，我喜欢它。
然后我测试这个脚本

```
function testString(string $string) {
    var_dump($string);
}

testString('test'); 
```

为什么我会收到这样的错误`Catchable fatal error: Argument 1 passed to testString() must be an instance of string, string given ....`？
我很确定参数是字符串。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-29T07:42:51.817

你在谈论类型提示。PHP 类型提示只能用于对象和数组。String 是不支持类型提示的标量类型

更多关于类型提示

[http://php.net/manual/en/language.oop5.typehinting.php](http://php.net/manual/en/language.oop5.typehinting.php)

# regex - Notepad++ 中的正则表达式：查找所有 'INSERT INTO ...;' 查询

> ID：13620958
> 
> 赞同：1
> 
> 时间：2012-11-29T07:38:58.393
> 
> 标签：regex, search, notepad++

我有一个很大的 sql 文件，其中包含很多“创建表 ...”和“插入 ...”查询。现在我想从文件中消除所有“插入”查询。插入查询有点像：

```
INSERT INTO 'some_table' (col1, col2, col3) values
('val11','val12','val13'),
('val21','val22','val23'),
('val31','val32','val33'); 
```

使用**记事本++** ，我想使用正则表达式查找和删除所有这些“插入”查询。

当我尝试使用正则表达式查找时，**`INSERT INTO((.*\r\n)*)`**它会从第一个 INSERT 查询的开头选择到文件的结尾。现在，当我在这个 reqex ( **`INSERT INTO((.*\r\n)*);`**) 之后放置分号时，它什么也没找到？如何使用分号 ( `;`) 终止正则表达式搜索？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T07:40:53.850

分号位于行尾之前，这就是它需要在您的正则表达式中的位置。

```
INSERT INTO(([^;]*\r\n)*(.*;(\r\n|$))) 
```

更可靠的方法是：

```
INSERT INTO[\s\S]*?(?<=;)\s*$ 
```

这允许您在查询中使用分号文字。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T07:41:39.430

```
INSERT INTO.*?; 
```

选择`match newline option`

* * *

你贪婪地匹配它（`.*`）...使用惰性限定符（`.*?`）

不需要`\r\n`...

# php - ORDER BY id DESC

> ID：13620961
> 
> 赞同：2
> 
> 时间：2012-11-29T07:39:09.393
> 
> 标签：php, mysql, sql

我只是想通过 ID 对评论进行排序，但我没有运气。无法弄清楚该怎么做，因为这让我感到困惑：`articleid='" . mysql_real_escape_string($_GET['id']) . "'`

你们会碰巧知道我如何通过 DESC 中的 id 对评论进行排序吗？谢谢！

```
<?php

$amount_get = mysql_query("SELECT * FROM comment WHERE articleid='" . mysql_real_escape_string($_GET['id']) . "'"); $comments = mysql_num_rows($amount_get);

$grab = mysql_query("SELECT * FROM comment WHERE articleid='" . mysql_real_escape_string($_GET['id']) . "'");

if (mysql_num_rows($grab)==0) {

    echo "<div class='alert alert-note-x'>Sorry, it looks like their are no comments to be displayed, check back later!</div>";
}

    while($row = mysql_fetch_array($grab)){

    ?> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-29T07:46:28.503

首先你做了`SELECT`两次同样的事情。这是非常不必要的，因为您可以计算行数并从单个查询中获取数据。除此之外，`commentid`用您的评论表的唯一 ID 替换即可。替换`DESC`为`ASC`以反转排序顺序。

```
<?php
    $grab = mysql_query("SELECT * FROM comment WHERE articleid='" . mysql_real_escape_string($_GET['id']) . "' ORDER BY commentid DESC");
    $comments = mysql_num_rows($grab);

    if (mysql_num_rows($grab)==0) {
        echo "<div class='alert alert-note-x'>Sorry, it looks like their are no comments to be displayed, check back later!</div>";
    }

    while($row = mysql_fetch_array($grab)){

?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:40:39.987

添加`ORDER BY`子句

```
$grab = mysql_query("SELECT * FROM comment WHERE articleid='" . mysql_real_escape_string($_GET['id']) . "' ORDER BY articleid, ID DESC"); 
```

您的查询易受攻击`SQL Injection`，请阅读下面的文章以保护它，

*   [如何防止 PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/best-way-to-prevent-sql-injection)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:41:33.567

试试这个

```
$grab = mysql_query("SELECT * FROM comment WHERE articleid='" . mysql_real_escape_string($_GET['id']) . "' order by articleid desc"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T07:44:57.033

我认为您的评论表应该是一列`id`，所以：

```
$grab = mysql_query("SELECT * FROM comment WHERE articleid='" . mysql_real_escape_string($_GET['id']) . "' ORDER BY id DESC"); 
```

这是一个 sql 的东西来排序，而不是 php，所以你只需要修改你的 sql 语句。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-29T07:45:23.303

```
$amount_get = mysql_query("SELECT * FROM comment WHERE articleid='" . mysql_real_escape_string($_GET['id']) . "' ORDER BY id DESC "); 

$grab = mysql_query("SELECT * FROM comment WHERE articleid='" . mysql_real_escape_string($_GET['id']) . "' ORDER BY id DESC"); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-29T07:45:53.993

三个建议：

1）在字符串变量中完成“选择”语句（如下所示；它使调试更容易）

2）考虑使用准备好的语句而不是原始的“选择”（或更新或删除！）。

它可以帮助性能。但它使您的 PHP*更加*安全！

3) 考虑放弃（已弃用的）mysql_query() 语法

```
<?php

  $sql = 
    "SELECT * FROM comment WHERE articleid='" . 
    mysql_real_escape_string($_GET['id']) . "' order by articleid desc";
  $amount_get = mysql_query($sql); 
  $comments = mysql_num_rows($amount_get);

  $sql = 
    "SELECT * FROM comment WHERE articleid='" . 
    mysql_real_escape_string($_GET['id']) . "'order by articleid desc";
  $grab = mysql_query($sql);
  ... 
```

这是取代旧的 mysql_query() 语法的 mySQLi 和 PDI API 的一个很好的链接：

*   [mysqli 或 PDO - 有什么优点和缺点？](https://stackoverflow.com/questions/13569/mysqli-or-pdo-what-are-the-pros-and-cons)

这是关于准备好的陈述的一个很好的链接：

*   [http://forum.codecall.net/topic/44392-php-5-mysqli-prepared-statements/#axzz2Dazi7pQ4](http://forum.codecall.net/topic/44392-php-5-mysqli-prepared-statements/#axzz2Dazi7pQ4)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-29T07:56:35.710

您可以在查询中使用 order by 子句

```
 <?php
$getarticles = array();
$getarticles = mysql_query("SELECT * FROM comment order by articleid desc");

if(empty($getarticles)){
echo "<div class='alert alert-note-x'>Sorry, it looks like their are no comments to be displayed, check back later!</div>";
}
echo "<pre>";
print_r($getarticles);
echo "</pre>";

    for($i=0;$i<count($getarticles);$i++){
//display
}

    ?> 
```

# android - 在android中获取Listview重点项目的索引

> ID：13620962
> 
> 赞同：1
> 
> 时间：2012-11-29T07:39:17.067
> 
> 标签：android, listview, indexing, focus

当我在 android Google tv App 中使用向上和向下键上下滚动列表视图时，我想获取焦点项目的索引，如何在 listview 的焦点更改上获取它。

# c++ - 从 Visual Studio 运行 MySQL 连接器/C++ 时崩溃

> ID：13620963
> 
> 赞同：4
> 
> 时间：2012-11-29T07:39:23.813
> 
> 标签：c++, mysql, crash, visual-studio-2012, connector

我在尝试在 C++ 中运行使用 MySQL 连接器的编译程序时遇到了一些问题。它编译得很好，但是在运行它时，它会立即崩溃 - 似乎在要连接的线路上如此。我已经设置了所有其他库、依赖项、预处理器和链接器输入，并且我正在使用发布解决方案配置。我正在运行 Microsoft Visual Studio 2012。

我得到的错误如下：MyLittleSQL.exe 中 0x6E69AF48 (msvcr90.dll) 的未处理异常：0xC0000005：访问冲突读取位置 0x00000024。

和调用堆栈：

```
MyLittleSQL.exe!main() Line 24 C++
MyLittleSQL.exe!__tmainCRTStartup() Line 536 C 
```

第 24 行是：

```
con = driver->connect("tcp://127.0.0.1:3306", "sepples_su", "easy"); 
```

完整的源代码是：

```
#include <stdlib.h>
#include <iostream>

#include "mysql_connection.h"
#include "mysql_driver.h"

#include <cppconn/driver.h>
#include <cppconn/exception.h>
#include <cppconn/resultset.h>
#include <cppconn/statement.h>
using namespace std;

int main(void)
{
    try 
    {
        sql::Driver *driver;
        sql::Connection *con;
        sql::Statement *stmt;
        sql::ResultSet *res;

        /* Create a connection */
        driver = get_driver_instance();
        con = driver->connect("tcp://127.0.0.1:3306", "sepples_su", "easy");

        /* Connect to the MySQL test database */
        con->setSchema("test");

        stmt = con->createStatement();
        res = stmt->executeQuery("SELECT 'Hello World!' AS _message");
        while (res->next()) 
        {
            cout << "\t... MySQL replies: ";
            /* Access column data by alias or column name */
            cout << res->getString("_message") << endl;
            cout << "\t... MySQL says it again: ";
            /* Access column fata by numeric offset, 1 is the first column */
            cout << res->getString(1) << endl;
        }

        delete res;
        delete stmt;
        delete con;
    } 
    catch (sql::SQLException &e) 
    {
        cout << "# ERR: SQLException in " << __FILE__;
        cout << "(" << __FUNCTION__ << ") on line " << __LINE__ << endl;
        cout << "# ERR: " << e.what();
        cout << " (MySQL error code: " << e.getErrorCode();
        cout << ", SQLState: " << e.getSQLState() << " )" << endl;
    }

    cout << endl;
    return EXIT_SUCCESS;
} 
```

这实际上是从连接器文档中获取的示例之一，但我想首先确保这不是我自己的错。

在这里的任何帮助将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T09:21:01.450

在@LyubomirVasilev 的帮助下，我使用 Visual Studio 11 (2012) 的设置自行编译了 C++ 连接器。用这里编译的替换其他 lib 和 dll 文件，之后它工作得很好。

其他信息可以在这里找到：http: [//dev.mysql.com/doc/refman/5.1/en/connector-cpp-info.html](http://dev.mysql.com/doc/refman/5.1/en/connector-cpp-info.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-09-20T12:35:45.130

最新的 C++ MySQL 连接器是使用 VC9 运行时库 (Visual Studio 2008) 编译的。Visual Studio 2012 使用 VC11 库，因此您的程序崩溃的原因很明显。您的程序必须使用与 MySQL C++ 连接器相同的运行时库：

> 0x6E69AF48 (msvcr90.dll) <--- VC9 处的未处理异常

您必须使用使用 VC9 库的 Visual Studio 2008 编译您的程序，或者使用 Visual Studio 2012 从源代码编译 MySQL C++ 连接器。

# php - 在多维数组php中追加数据

> ID：13620970
> 
> 赞同：0
> 
> 时间：2012-11-29T07:40:16.990
> 
> 标签：php, arrays, multidimensional-array

我想在PHP中将我的表格数据导入多维数组，表格数据不断更新，因此一旦将数据插入表格中，矩阵就必须更新。我们如何创建一个多维数组，将数据插入其中，然后将数据动态追加到数组中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:53:01.087

通常，您会从表中得到一个“正常”的一维数组。要从中制作多维数组，您必须将一维数组放入多维数组。
为此，您可以使用以下内容：

```
$i = 0; //initialize i
while ($i < count($array)) { //as long as i is smaller than the array
    foreach ($array as $key => $value) { //walk along the array
        $newArray[$i][$key] = $value; // set the multidimensional array
    }
    $i++; // count one up 
} 
```

有了这个，你应该得到一个多维数组，如下所示：

```
array(
      '0' => array(
                    '0' => 'foo'
                    '1' => 'bar'
                  )
      '1' => array(
                    '0' => 'foo'
                    '1' => 'bar'
                  )
     ) 
```

等等...希望这会有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T09:40:46.870

对于您想做的事情，我认为应该查看对象方法，因为形成以下评论

> 汤姆，场景是我正在维护一个文档中的术语频率表，所以我的 column1 将是所有文档中的不同术语，并且为每个新文档添加一个新列，并插入相应的术语计数，并且如果它有任何新的术语；

我可以识别以下内容

*   团队
*   文档

而不是使文档为空，仅更新所需的团队信息

例子

```
// Porpulate Teams
$teams = array_map(function ($v) {return new Team($v);}, range("A", "Z"));

// Porpulate Documents
$doc = new SplObjectStorage();
for($i = 0; $i < 100; $i ++) {
    $doc->attach(new Document($teams[array_rand($teams)]));
}

usort($teams, function($a,$b){ return $b->frequency - $a->frequency;});

//Top 10 Teams
echo "<pre>";
foreach (array_slice($teams, 0,10) as $team ) {
    echo "Team ", $team->name, "\t", $team->frequency, PHP_EOL;
} 
```

输出

```
Team P  9
Team N  8
Team S  7
Team Q  6
Team M  6
Team D  6
Team O  5
Team G  5
Team K  5
Team F  5 
```

使用的类

```
class Document {
    function __construct(Team &$team) {
        //Do your metrix
        $team->frequency ++;
    }
}

class Team {
    public $name;
    public $frequency = 0;
    function __construct($name) {
        $this->name = $name;
    }
} 
```

# c# - 将 AutoMapper 与实体框架一起使用时出现异常

> ID：13620972
> 
> 赞同：1
> 
> 时间：2012-11-29T07:40:17.880
> 
> 标签：c#, entity-framework, automapper, entity-framework-5

我正在尝试使用实体框架将 Automapper 包含到项目中，这是我的 DTO 类：

```
public class FunctionDto
{
    public int Id { get; set; }
    public string Name { get; set; }
    public DateTime? StartDate { get; set; }
    public DateTime? EndDate { get; set; }
    public string Comment { get; set; }
    public DateTime? ExaminationDate { get; set; }
    public string Place { get; set; }
} 
```

域类代码优先：

```
public class Function
{
    public int Id { get; set; }
    public string Name { get; set; }
    public DateTime? StartDate { get; set; }
    public DateTime? EndDate { get; set; }
    public string Comment { get; set; }
    public DateTime? ExaminationDate { get; set; }
    public string Place { get; set; }

    public virtual List<Employee> Employees { get; set; }
} 
```

自动映射器配置：

```
public static class AutoMapperConfiguration
{
    public static void Configure()
    {
        Mapper.Initialize(config => config.AddProfile<FunctionProfile>());
    }
}

public class FunctionProfile : Profile
{
    protected override void Configure()
    {
        CreateMap<Function, FunctionDto>()
        .ForMember(dto => dto.Id, opt => opt.MapFrom(src => src.Id))
        .ForMember(dto => dto.Name, opt => opt.MapFrom(src => src.Name))
        .ForMember(dto => dto.Comment, opt => opt.MapFrom(src => src.Comment))
        .ForMember(dto => dto.StartDate, opt => opt.MapFrom(src => src.StartDate))
        .ForMember(dto => dto.EndDate, opt => opt.MapFrom(src => src.EndDate))
        .ForMember(dto => dto.ExaminationDate, opt => opt.MapFrom(src => src.ExaminationDate))
        .ForMember(dto => dto.Place, opt => opt.MapFrom(src => src.Place));
    }   
} 
```

然后在 WebApi 中使用：

```
var functionDtos = functions
            .AsQueryable()
            .OrderBy(sort)
            .Skip(start)
            .Take(count)
            .ToList()
            .Select(Mapper.Map<FunctionDto>); 
```

当然我已经在全球注册了：

```
 AutoMapperConfiguration.Configure(); 
```

但我得到了例外：

> *缺少类型映射配置或不支持的映射*

上面的代码有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:27:01.693

试试这个`Configure()`方法，

注意：如果`Function, FunctionDto`具有相同名称的属性，则不需要映射。`AutoMapper`会照顾映射。

```
protected override void Configure()
{
    CreateMap<Function, FunctionDto>().IgnoreAllNonExisting();
} 
```

--

```
 public static IMappingExpression<TSource, TDestination> IgnoreAllNonExisting<TSource, TDestination>(this IMappingExpression<TSource, TDestination> expression)
    {
        var sourceType = typeof(TSource);
        var destinationType = typeof(TDestination);
        var existingMaps = Mapper.GetAllTypeMaps().First(x => x.SourceType.Equals(sourceType) && x.DestinationType.Equals(destinationType));
        foreach (var property in existingMaps.GetUnmappedPropertyNames())
        {
            expression.ForMember(property, opt => opt.Ignore());
        }
        return expression;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T01:42:13.897

您能否确认`functions`以下通过的内容：

**映射器配置.cs**

```
namespace StackOverflow.Function
{
    using AutoMapper;

    public class MyProfile : Profile
    {
        protected override void Configure()
        {
            CreateMap<Function, FunctionDto>();
        }
    }
} 
```

**映射测试.cs**

```
[TestFixture]
public class MappingTests
{
    [Test]
    public void AutoMapper_Configuration_IsValid()
    {
        Mapper.Initialize(m => m.AddProfile<MyProfile>());
        Mapper.AssertConfigurationIsValid();
    }

    [Test]
    public void AutoMapper_Mapping_IsValid()
    {
        Mapper.Initialize(m => m.AddProfile<MyProfile>());
        Mapper.AssertConfigurationIsValid();

        var functions = new List<Function>
            {
                new Function
                    {
                        Comment = "Stack Overflow Rocks",
                        EndDate = new DateTime(2012, 01, 01),
                        ExaminationDate = new DateTime(2012, 02, 02),
                        Id = 1,
                        Name = "Number 1",
                        Place = "Here, there and everywhere",
                        StartDate = new DateTime(2012, 03, 03)
                    },
                new Function
                    {
                        Comment = "As do I",
                        EndDate = new DateTime(2013, 01, 01),
                        ExaminationDate = new DateTime(2013, 02, 02),
                        Id = 2,
                        Name = "Number 2",
                        Place = "Nowhere",
                        StartDate = new DateTime(2013, 03, 03)
                    }
            };

        var functionDtos = functions
            .AsQueryable()
            .OrderBy(x => x.Id)
            .Skip(1)
            .Take(1)
            .ToList()
            .Select(Mapper.Map<FunctionDto>);

        Assert.That(functionDtos, Is.Not.Null);
        Assert.That(functionDtos.Count(), Is.EqualTo(1));
        Assert.That(functionDtos.First().Id, Is.EqualTo(2));
    }
} 
```

# solr - 码头 - 表格太大错误

> ID：13620982
> 
> 赞同：2
> 
> 时间：2012-11-29T07:40:54.107
> 
> 标签：solr, jetty

我一直在研究 Solr 并对其进行一些负载测试。过了一段时间，我不断得到

```
Nov 29, 2012 3:34:43 PM org.apache.solr.common.SolrException log
SEVERE: null:java.lang.IllegalStateException: Form too large275768>200000
at org.eclipse.jetty.server.Request.extractParameters(Request.java:279)
at org.eclipse.jetty.server.Request.getParameterMap(Request.java:705)
at org.apache.solr.request.ServletSolrParams.<init>(ServletSolrParams.java:29)
at org.apache.solr.servlet.StandardRequestParser.parseParamsAndFillStreams(SolrRequestParsers.java:394)
at org.apache.solr.servlet.SolrRequestParsers.parse(SolrRequestParsers.java:115)
at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:260)
at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1337)
at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:484)
at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119)
at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524)
at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:233)
at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1065)
at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:413)
at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:192)
at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:999)
at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:250)
at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:149)
at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
at org.eclipse.jetty.server.Server.handle(Server.java:351)
at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:454)
at org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:47)
at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:900)
at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:954)
at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:230)
at org.eclipse.jetty.server.BlockingHttpConnection.handle(BlockingHttpConnection.java:66)
at org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:254)
at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
at java.lang.Thread.run(Unknown Source) 
```

基本上我也在谷歌和stackoverflow上进行了搜索，我能找到的只是[这个](https://stackoverflow.com/questions/3861455/form-too-large-exception)，并且应用那里的解决方案根本没有帮助..

我也尝试过修改该值，`org.apache.solr.client.solrj.embedded.JettySolrRunner`但即使更改该文件中的值也没有任何帮助。

任何人都知道如何更改嵌入式 Jetty 的最大允许表单大小？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-02T23:42:18.740

在查看了 Solr 的源代码后，我找到了一个可以设置表单大小的地方。我修改的类是`org.apache.solr.client.solrj.embedded.JettySolrRunner.java`，基本上为表单大小添加了一些大数字......

虽然它有效，但我仍然很困惑为什么我不能通过配置文件设置这个值

# php - PHP 数据库写入性能 PDO VS ORM

> ID：13620984
> 
> 赞同：4
> 
> 时间：2012-11-29T07:40:56.170
> 
> 标签：php, mysql, orm, doctrine, propel

为了与其他数据库同步，我们需要非常快地在 mysql 中插入记录。

哪个执行更快的插入。PHP PDO 或一些 ORM（推进/学说）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-29T07:45:44.897

想一想。

ORM 将涉及创建实体，然后代码将查看映射以找出如何将其更改为 SQL 等。

使用 PDO 只是直接的 SQL 语句。你给它一个 SQL 字符串，它就会运行它。

PDO 获胜。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-07-19T11:58:00.847

**ORM**提供了一个数据访问抽象层，这意味着，无论您使用哪个数据库，您都可以使用相同的函数来发出查询和获取数据。

**PDO**不提供数据库抽象。这意味着它会重写 SQL 或模拟缺失的功能。

如果您需要该工具，您应该使用数据抽象层。ORM 提供了这种便利。

**注意：**当性能是唯一的标准时，最好使用原始 SQL 查询，因为更多的抽象会相对较慢的应用程序仍然可以忽略不计，但是当我们期望应用程序中的数据库抽象时，最好使用 ORM。

# c# - Windows Phone 7 - WebBrowserTask

> ID：13620988
> 
> 赞同：0
> 
> 时间：2012-11-29T07:41:07.023
> 
> 标签：c#, windows-phone-7

我可以在内部 Web 浏览器控件中显示 WebBrowserTask 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:34:40.393

A`WebBrowserTask`用于在指定的 URL 启动 Windows Phone 网络浏览器。它是一个 C# 类，因此您不能从嵌入在`WebBrowser`控件中的 JavaScript 使用它。但是，您可以从 JavaScript 代码（请参阅[此博客文章](http://www.nickharris.net/2010/11/windows-phone-7-webbrowser-control-script-notify/)）向托管它的 C# 应用程序发送通知，然后该应用程序可以启动`WebBrowserTask`.

# android-layout - Android 布局（用户界面）

> ID：13620991
> 
> 赞同：0
> 
> 时间：2012-11-29T07:41:17.973
> 
> 标签：android-layout

![在此处输入图像描述](../Images/0d465aa805f5c24c9b617ffc10203acd.png)

嗨，我想开发一个类似图像的 UI，在 android 中是否有可能，如果可能的话，我们该怎么做？（我需要像图像这样的图像之间的线条（水平和垂直））。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T11:03:27.830

使用`LinearLayout`这种布局非常简单。

试试下面的代码

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:weightSum="4"
    android:orientation="vertical" >

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:gravity="center_horizontal|center_vertical"
        android:layout_weight="1"
        android:orientation="horizontal" >

        <ImageView
            android:id="@+id/imageView1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@drawable/ic_launcher" />

        <TextView
            android:id="@+id/textView1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="20dp"
            android:text="Find Dishes"

            android:textAppearance="?android:attr/textAppearanceLarge" />
    </LinearLayout>

    <View
        android:layout_width="fill_parent"
        android:layout_height="3dp"
        android:background="@android:color/black" />

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:gravity="center_horizontal|center_vertical"
       android:layout_weight="1"
        android:orientation="horizontal" >

        <ImageView
            android:id="@+id/imageView1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@drawable/ic_launcher" />

        <TextView
            android:id="@+id/textView1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="20dp"
            android:text="Recomanded Dishes"
            android:textAppearance="?android:attr/textAppearanceLarge" />
    </LinearLayout>

    <View
        android:layout_width="fill_parent"
        android:layout_height="3dp"
        android:background="@android:color/black" />

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:layout_weight="1"
        android:weightSum="2" >

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_horizontal"
            android:orientation="vertical" >

            <ImageView
                android:id="@+id/imageView1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/ic_launcher" />

            <TextView
                android:id="@+id/textView1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="follow people"
                android:textAppearance="?android:attr/textAppearanceLarge" />
        </LinearLayout>

        <View
        android:layout_width="3dp"
        android:layout_height="fill_parent"
        android:background="@android:color/black" />
        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_horizontal"
            android:orientation="vertical" >

            <ImageView
                android:id="@+id/imageView1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/ic_launcher" />

            <TextView
                android:id="@+id/textView1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="View Profile"
                android:textAppearance="?android:attr/textAppearanceLarge" />
        </LinearLayout>
    </LinearLayout>
 <View
        android:layout_width="fill_parent"
        android:layout_height="3dp"
        android:background="@android:color/black" />

 <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:layout_weight="1"
        android:weightSum="2" >

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_horizontal"
            android:orientation="vertical" >

            <ImageView
                android:id="@+id/imageView1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/ic_launcher" />

            <TextView
                android:id="@+id/textView1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Notifications"
                android:textAppearance="?android:attr/textAppearanceLarge" />
        </LinearLayout>

        <View
        android:layout_width="3dp"
        android:layout_height="fill_parent"
        android:background="@android:color/black" />
        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center_horizontal"
            android:orientation="vertical" >

            <ImageView
                android:id="@+id/imageView1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/ic_launcher" />

            <TextView
                android:id="@+id/textView1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Sign up/Sign-In"
                android:textAppearance="?android:attr/textAppearanceLarge" />
        </LinearLayout>
    </LinearLayout>
</LinearLayout> 
```

使用此代码后，我的输出是这样的

![在此处输入图像描述](../Images/a65d63cf190714fdc7fd09c48eefc460.png)

根据您的要求更改图像和背景。

# objective-c - 终止应用程序后打开 UITextView 可点击 url

> ID：13620993
> 
> 赞同：1
> 
> 时间：2012-11-29T07:41:27.767
> 
> 标签：objective-c, xcode, uitextview

我在 UITextView 中使用 datadetectortypes 来检测链接并导航到页面。但应用程序终止，并在终止应用程序后使用默认 safari 打开链接。有没有办法在应用程序中打开链接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:51:06.573

如果你有网络视图，你可以这样做

例如

```
 NSString *urlAddress = @"http://myurl.com";
 //Create a URL object.
  NSURL *url = [NSURL URLWithString:urlAddress];

//URL Requst Object
NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];

//Load the request in the UIWebView.
[myWebView loadRequest:requestObj]; 
```

# javascript - 在 asp.net 中使用 WL.Logout 无法从 Window live 注销

> ID：13620996
> 
> 赞同：2
> 
> 时间：2012-11-29T07:41:36.617
> 
> 标签：javascript, asp.net, windows

我正在使用 login.live.com 登录或注销我的网络应用程序。当我尝试使用 javascript 中的 WL.Login() 登录时，它是成功的。但是当我尝试使用 WL.Logout() 注销时，它会重定向到再次登录。我尝试寻找并找到[了这个](http://social.msdn.microsoft.com/Forums/en-US/messengerconnect/thread/4fd9a484-54d7-4c59-91c4-081f4deee2c7)。我的问题是，如何使用[https://login.live.com/oauth20_logout.srf](https://login.live.com/oauth20_logout.srf)从 live ID 注销？

这是我的代码

```
 WL.Event.subscribe("auth.login", onLogin);
        WL.Event.subscribe("auth.sessionChange", onSessionChange);
        WL.Event.subscribe("auth.logout", onLogout);
        WL.init({
            scope: ["wl.signin", "wl.basic", "wl.emails"],
            client_id: "****************",
        });

        function signUserIn() {
            WL.login();
        }
        document.write("<button onclick='signUserIn()'>Click here to sign in!</button>");

        function onLogin(session) {
            var session = WL.getSession();
            if (session.error) {
                document.getElementById('<%= LabelStatusLogin.ClientID %>').innerHTML =
                    "Error signing in: " + session.error;
            }
            else {
                document.getElementById('<%= LabelStatusLogin.ClientID %>').innerHTML =
                    "Signed in.";
            }
        }
        function onSessionChange() {
            var session = WL.getSession();
            if (session) {
                document.getElementById('<%= LabelStatusLogin.ClientID %>').innerHTML =
                    "Session changed.";
            }
            else {
                document.getElementById('<%= LabelStatusLogin.ClientID %>').innerHTML =
                    "Signed out or session error.";
            }
        }

        function onLogout() {
            window.location = "https://login.live.com/oauth20_logout.srf?client_id=*************&display=page&locale=en&redirect_uri=http%3A%2F%2Fexample.com%3A8182%2F&response_type=token&scope=wl.signin wl.basic wl.emails&state=redirect_type%3Dauth%26display%3Dpage%26request_ts%3D1354173175356%26response_method%3Durl%26secure_cookie%3Dfalse";
        }

        function signUserOut() {
            WL.logout();
        }
        document.write("<button onclick='signUserOut()'>Click here to sign out!</button>"); 
```

# php - php mysql 插入 (max(id)+1)

> ID：13620998
> 
> 赞同：0
> 
> 时间：2012-11-29T07:41:39.583
> 
> 标签：php, mysql

我有一个表 image_tb，它有 3 个字段，`id,images,link`（id 是 auto auto_increment），这是我的插入代码：

```
mysql_query("
insert into image_tb 
(images,link) 
select 
'".(max(id)+1).".jpeg','".$link."' 
from image_tb
"); 
```

它返回：

```
Warning: max(): When only one parameter is given, it must be an array 
```

如何修改？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T07:45:04.570

最好定义一个函数，通过这样的查询获取最后一个 id：“从 image_tb order by id desc limit 0,1 中选择 id”然后增加它，它的 realibe。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-29T07:45:55.617

我认为您并不是要关闭字符串：

```
select '" ... 
```

应该

```
select MAX(id) + 1 
```

否则，您正在使用 php 函数`max`，我认为您根本不打算这样做。

顺便说一句，你不应该使用`mysql_*`. 使用`PDO`或`mysqli`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:46:55.973

在查询中执行，

```
mysql_query("
insert into image_tb (images,link) 
select CONCAT(COALESCE((SELECT MAX(ID) + 1 FROM image_tb),1), '.jpeg'),'".$link."' 
from image_tb
"); 
```

您的查询很容易受到攻击`SQL Injection`，请阅读下面的文章以保护它

*   [如何防止 PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/best-way-to-prevent-sql-injection)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T07:49:09.450

你考虑过这样的事情吗？

1.  插入带有空文件名的数据
2.  更新文件名为空的表，将文件名设置为 CONCAT(id, ".jpeg") 或其他内容（CONCAT 是用于“添加”字符串的函数）。