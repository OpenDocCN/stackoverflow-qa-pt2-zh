# StackOverflow 问答 13428000-13428999

# python - 如何从某个集合中获得所有素数？

> ID：13428000
> 
> 赞同：0
> 
> 时间：2012-11-17T05:30:07.763
> 
> 标签：python

```
def all_primes(start,end):
    list_nonprimes = []
    list_primes = []

    for i in range(start,end):
        for a in range(2,i):
            if i % a == 1 and i not in list_nonprimes:
                if i not in list_primes:
                    list_primes.append(i)
            else:
                list_nonprimes.append(i)

    return list_primes 
```

为什么这会给我一个不正确的输出？

```
>>> all_primes(1,10)
[3,5,7,9] 
```

如何消除9？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T05:42:33.903

有一种更直接的方法可以做到这一点，因为您已经固有地生成了少于您当前检查的数字的素数列表：

```
def all_primes(start,end):
    list_primes = []

    for i in range(2,end):
        for a in list_primes:
            if i % a == 0:
                break
        else:
            list_primes.append(i)

    return [x for x in list_primes if x >= start] 
```

理解这一点的关键是了解该`for...else`构造在 Python 中是如何工作的。本质上，`for`循环可以有一个语句，只有在循环评估期间没有运行`else`任何语句时才会执行该语句。`break`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T05:35:27.537

将其更改为：

```
 if i % a == 1 and i not in list_nonprimes:
            if i not in list_primes:
                list_primes.append(i)
        else:
            list_nonprimes.append(i) 
```

到：

```
 if i % a == 0 and i not in list_primes:
            if i not in list_nonprimes:
                list_nonprimes.append(i)
        else:
            list_primes.append(i) 
```

旁白：您也可以考虑实施[埃拉托色尼筛法](http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes)。这很容易理解并且效率更高。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T05:42:40.527

我尝试检查您的代码以查看您哪里出错了，但最终进行了一些更改和优化。我已经评论了代码，所以希望它能够自我解释。

```
def all_primes(start,end):
    list_nonprimes = []
    list_primes = []

    for i in range(start,end):
        # if already present in non_primes, skip
        if i in list_nonprimes: continue

        # if already present in primes, skip
        if i in list_primes: continue

        # if 2, mark it as prime. Special case
        if i == 2 :
            list_primes.append(i)
            continue

        # even numbers are not prime
        if i%2 == 0: 
            list_nonprimes.append(i)
            continue

        # only check divisibility with odd numbers starting at 3
        # and ending at sqrt(i)
        for a in range(3,int(i**0,5)+1,2):
            if i % a == 0 :
                list_nonprimes.append(i)
                break

        # if we got here, and the number wasn;t added to non_primes
        # it must be a prime
        if i not in list_nonprimes: list_primes.append(i)            

    return list_primes

start = 2
end = 10
print all_primes(start, end) 
```

[**演示**](http://codepad.org/1tOSQkX1)

# eclipse - Eclipse 配置安装在 Virtual Box 上的 Weblogic 服务器

> ID：13428004
> 
> 赞同：0
> 
> 时间：2012-11-17T05:31:26.693
> 
> 标签：eclipse, virtualbox, weblogic11g

我已经在**Virtual Box**上运行的 Linux 上安装了**Weblogic Server**。

 **如何集成 Weblogic 服务器？在 Eclipse 中配置服务器时，如何在 Linux 上指向 Weblogic Home？[程序是否与使用 Eclipse进行](https://stackoverflow.com/questions/10222022/connecting-eclipse-to-weblogic-server-hosted-on-unix-machine) **远程调试**相同？

对此的任何见解都是非常可观的。

谢谢**

# android-emulator - 为什么在运行时打开多个模拟器？

> ID：13428005
> 
> 赞同：-1
> 
> 时间：2012-11-17T05:31:39.323
> 
> 标签：android-emulator

在做程序时，我通常使用 AVD Manager 打开模拟器，但现在我在运行程序时会自动打开一个新的模拟器，这也需要很长时间，几乎 10-15 分钟。有人可以帮助避免这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-19T11:24:59.230

如果您在 Eclipse 中按下运行并且它看不到已连接的设备，有时设备/模拟器无法连接到 adb 守护程序，因此即使它们打开它们也没有连接，它会自动启动一个 android 模拟器来满足请求，这将是AVD 列表中的默认模拟器。它很慢的原因是因为您使用的是 arm 映像，而模拟器真的很慢，您要做的是设置一个 AVD 以使用 x86 映像，您可能需要通过 android sdk 管理器下载它首先，如果您还没有，然后按照以下信息进行操作：http: [//developer.android.com/tools/devices/emulator.html](http://developer.android.com/tools/devices/emulator.html)使其设置为尽可能快地工作（HAXM、图形加速等）

# r - R 块代码留在 Beamer 框架内

> ID：13428007
> 
> 赞同：7
> 
> 时间：2012-11-17T05:31:58.103
> 
> 标签：r, knitr, beamer

这是我的 MWE 代码。

```
\documentclass{beamer}
\begin{document}

<<setup, include=FALSE>>=
# smaller font size for chunks
opts_chunk$set(size = 'footnotesize')
options(width=60)
@

\begin{frame}[fragile]
\frametitle{Test1}

<<boring-random>>=
y <- c(5, 7, 15, 17, 17, 19)
Trt <- gl(n = 3, k = 2, length = 3 * 2, labels = paste("Trt",
1:3, sep = ""), ordered = FALSE)
Data <- data.frame(Trt, y)
Fit1 <- aov(formula = y ~ Trt, data = Data, contrasts = list(Trt = "contr.sum"))
ANOVA1 <- anova(Fit1)
Coeffs1 <- coefficients(Fit1)
@
\end{frame}

\end{document} 
```

![在此处输入图像描述](../Images/37d2db5b106c3640a513016343b55428.png)

我正在努力将 R 块代码保留在 Beamer 框架内。我想知道管理 R 块代码以使它们留在 Beamer 框架内的有效方法是什么。谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-17T06:09:54.360

最好的方法是关闭`tidy`选项`tidy=FALSE`，然后手动换行。

```
<<boring-random, tidy=FALSE>>=
y <- c(5, 7, 15, 17, 17, 19)
Trt <- gl(n = 3, k = 2, length = 3 * 2, labels = paste("Trt",
  1:3, sep = ""), ordered = FALSE)
Data <- data.frame(Trt, y)
Fit1 <- aov(formula = y ~ Trt, data = Data,
  contrasts = list(Trt = "contr.sum"))
ANOVA1 <- anova(Fit1)
Coeffs1 <- coefficients(Fit1)
@ 
```

这将始终有效。另一种方法是`width`在`options()`（[knitr FAQ 8](https://github.com/yihui/knitr/blob/master/FAQ.md)）中设置较小，您可能需要尝试几次才能获得理想的`width`. 在您的情况下，60 显然太大了。

# c++ - const_cast 映射的键值是否有效？

> ID：13428008
> 
> 赞同：1
> 
> 时间：2012-11-17T05:31:59.917
> 
> 标签：c++, map, iterator, constants

长话短说是否有效：

```
 map<int,int>m;
    m.insert( make_pair( 1, 40 ) );
    for( map<int,int>::iterator it = m.begin(); it != m.end(); ++it )
    {
        const_cast<int&>( it->first ) = 2;
    } 
```

它有效，我在这个问题中遇到了自己，在实际情况下，映射是两个类的映射，`map<classA,classB>`并且要访问我必须访问的类的非常量成员`const_cast<classA&>(it->first).NonConstFunction()`，这是我的第一个想法请注意，这样做可以还是有*更好*的方法？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-17T05:36:09.123

这是不允许的。当您像这样就地修改键时，映射将不会“意识到”值已更改，因此它可能需要将该节点移动到它在内部维护的树中的新位置以存储数据。如果树不再排序，几乎树上的任何其他操作都可能崩溃和烧毁。

要正确执行此操作，您需要获取键/值对的副本，从映射中删除旧节点，在映射之外修改您的副本，然后将修改后的副本插入回映射中。

# c# - 如何使用 c# 为 paypal CreateInvoice api 创建 SOAP XML 请求消息

> ID：13428010
> 
> 赞同：0
> 
> 时间：2012-11-17T05:32:17.047
> 
> 标签：c#, soap, paypal, paypal-sandbox, invoice

我为 PayPal 创建了一个沙盒测试帐户。我想在 C# 中使用 SOAP xml 格式使用 PayPal api CreateInvoice、SendInvoice 和 CreateAndSendInvoice。x.com 的文档至少没有以基本的soap xml 格式显示任何已完成的请求消息，而是仅显示了soap xml 标记的标题部分和定义。

一些示例采用 JSON 格式，但它不是我的首选格式，它轻量级但易于阅读。SDK 使用 NVP 格式，尽管它们具有 SOAP 选项，但代码无法为有效负载编写肥皂 xml 格式。

我需要完整的soap xml 请求消息，其中至少包含创建发票所需的字段。

到目前为止，我仍在搜索 stackoverflow。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:24:08.343

API 参考提供了 SOAP 请求的图形表示。例如，您可以查看[CreateAndSendInvoice](https://www.x.com/developers/paypal/documentation-tools/api/createandsendinvoice-api-operation)并查看可以包含在您的 XML/SOAP 请求中的所有标签以及应该如何嵌套所有内容。

如果您要自己构建 XML 而不是使用 WSDL，那么真的不需要为 SOAP 格式化它。这是我刚刚成功运行的 CreateInvoice 的 XML 请求示例...

```
<?xml version="1.0" encoding="utf-8"?>
<CreateInvoiceRequest xmlns="http://svcs.paypal.com/types/ap">
  <requestEnvelope xmlns="">
    <detailLevel>ReturnAll</detailLevel>
    <errorLanguage>en_US</errorLanguage>
  </requestEnvelope>
  <invoice xmlns="">
    <merchantEmail xmlns="">sandbo_1215254764_biz@angelleye.com</merchantEmail>
    <payerEmail xmlns="">sandbo_1204199080_biz@angelleye.com</payerEmail>
    <number xmlns="">12Z3-ABCDE</number>
    <merchantInfo xmlns="">
      <firstName xmlns="">Tester</firstName>
      <lastName xmlns="">Testerson</lastName>
      <businessName xmlns="">Testers, LLC</businessName>
      <phone xmlns="">555-555-5555</phone>
      <fax xmlns="">555-555-5556</fax>
      <website xmlns="">http://www.domain.com</website>
      <customValue xmlns="">Some custom info.</customValue>
      <address xmlns="">
        <line1 xmlns="">123 Main St.</line1>
        <city xmlns="">Grandview</city>
        <state xmlns="">MO</state>
        <postalCode xmlns="">64030</postalCode>
        <countryCode xmlns="">US</countryCode>
      </address>
    </merchantInfo>
    <itemList xmlns=""><item xmlns="">
      <name xmlns="">Test Widget 1</name>
      <description xmlns="">This is a test widget #1</description>
      <date xmlns="">2012-02-18</date>
      <quantity xmlns="">1</quantity>
      <unitPrice xmlns="">10.00</unitPrice>
      </item><item xmlns="">
      <name xmlns="">Test Widget 2</name>
      <description xmlns="">This is a test widget #2</description>
      <date xmlns="">2012-02-18</date>
      <quantity xmlns="">2</quantity>
      <unitPrice xmlns="">20.00</unitPrice>
      </item></itemList>
    <currencyCode xmlns="">USD</currencyCode>
    <paymentTerms xmlns="">DueOnReceipt</paymentTerms>
    <note xmlns="">This is a test invoice.</note>
    <merchantMemo xmlns="">This is a test invoice.</merchantMemo>
    <billingInfo xmlns="">
      <firstName xmlns="">Tester</firstName>
      <lastName xmlns="">Testerson</lastName>
      <businessName xmlns="">Testers, LLC</businessName>
      <phone xmlns="">555-555-5555</phone>
      <fax xmlns="">555-555-5556</fax>
      <website xmlns="">http://www.domain.com</website>
      <customValue xmlns="">Some custom info.</customValue>
      <address xmlns="">
        <line1 xmlns="">123 Main St.</line1>
        <city xmlns="">Grandview</city>
        <state xmlns="">MO</state>
        <postalCode xmlns="">64030</postalCode>
        <countryCode xmlns="">US</countryCode>
      </address>
    </billingInfo>
    <shippingInfo xmlns="">
      <firstName xmlns="">Tester</firstName>
      <lastName xmlns="">Testerson</lastName>
      <businessName xmlns="">Testers, LLC</businessName>
      <phone xmlns="">555-555-5555</phone>
      <fax xmlns="">555-555-5556</fax>
      <website xmlns="">http://www.domain.com</website>
      <customValue xmlns="">Some custom info.</customValue>
      <address xmlns="">
        <line1 xmlns="">123 Main St.</line1>
        <city xmlns="">Grandview</city>
        <state xmlns="">MO</state>
        <postalCode xmlns="">64030</postalCode>
        <countryCode xmlns="">US</countryCode>
      </address>
    </shippingInfo>
    <shippingAmount xmlns="">10.00</shippingAmount>
    <logoUrl xmlns="">https://www.usbswiper.com/images/angelley-clients/cpp-header-image.jpg</logoUrl>
    <referrerCode xmlns="">AngellEYE_PHPClass</referrerCode>
  </invoice>
</CreateInvoiceRequest> 
```

# facebook - 我们如何在 ios 6 的 facebook 上发布一些东西，比如 twitter？

> ID：13428011
> 
> 赞同：0
> 
> 时间：2012-11-17T05:32:27.243
> 
> 标签：facebook, ios6

我正在我的应用程序中实现 facebook 发布。并添加一些代码以在 facebook 帐户上发布一些内容。我的代码如下。

```
 - (void)publishStory
{
 NSLog(@"publish story called .......");

 [FBRequestConnection
  startWithGraphPath:@"me/feed"
  parameters:self.postParams
  HTTPMethod:@"POST"
  completionHandler:^(FBRequestConnection *connection,
                      id result,
                      NSError *error) {
   NSString *alertText;
   if (error) {
    alertText = [NSString stringWithFormat:
                 @"error: domain = %@, code = %d",
                 error.domain, error.code];
   } else {
    alertText = [NSString stringWithFormat:
                 @"Posted action, id: %@",
                 [result objectForKey:@"id"]];
   }
   // Show the result in an alert
   [[[UIAlertView alloc] initWithTitle:@"Result"
                               message:alertText
                              delegate:self
                     cancelButtonTitle:@"OK!"
                     otherButtonTitles:nil]
    show];
  }];
}

-(IBAction)cancelButtonAction
{
 [[self presentingViewController] dismissViewControllerAnimated:YES completion:nil];
}

-(IBAction)shareButtonAction
{
 // Add user message parameter if user filled it in
 if (![self.postMessageTextView.text isEqualToString:@""]) {
  [self.postParams setObject:self.postMessageTextView.text
                      forKey:@"message"];
 }

 // Ask for publish_actions permissions in context
 if ([FBSession.activeSession.permissions
      indexOfObject:@"publish_actions"] == NSNotFound) {
  // No permissions found in session, ask for it
   [FBSession.activeSession reauthorizeWithPublishPermissions:
   [NSArray arrayWithObjects:@"publish_actions",@"publish_stream", nil]
   defaultAudience:FBSessionDefaultAudienceFriends
   completionHandler:^(FBSession *session, NSError *error) {
    if (!error) {
     // If permissions granted, publish the story
     NSLog(@"not error");
     [self publishStory];
    }
   }];
 } else {
  // If permissions present, publish the story
  NSLog(@"In else condition");
  [self publishStory];
 }
} 
```

这是太多的代码，“因为 ios 6 在设置中包含集成的 facebook。” 但我想在 ios 中发布类似 twitter 集成的帖子。我们该怎么做

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T05:43:27.903

有两种发布方式。

1) 使用 FBNativeDialog 发布。（包括 FacebookSDK.framework） 2）通过 SLComposeViewController 发布。

你想使用哪一个取决于你。你需要添加三个框架，名为 AdSupport.framework、Accounts.framework 和 Social.framework。要使用第一个，您必须包含 #import "FacebookSDK/FacebookSDK.h" 并且发布代码如下：

```
 UIAlertView *alert=[[UIAlertView alloc] initWithTitle:@"" message:@"" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil];

 BOOL displayedNativeDialog = [FBNativeDialogs presentShareDialogModallyFrom:self initialText:@"" image:[UIImage imageNamed:@"iossdk_logo.png"] url:[NSURL URLWithString:@"https://developers.facebook.com/ios"]
  handler:^(FBNativeDialogResult result, NSError *error)
 {
   if (error) {
    alert.message=@"Fail posting due to some error!";
    [alert show];
    /* handle failure */
   } else {
    if (result == FBNativeDialogResultSucceeded) {
     alert.message=@"Posted Successfully!";
     [alert show];
     /* handle success */
    } else {
     /* handle user cancel */
    }
   }}];

 if (!displayedNativeDialog) {
  /* handle fallback to native dialog  */
 } 
```

对于第二个，您需要#import "Social/Social.h"，代码如下：

```
 SLComposeViewController *fbComposer =
 [SLComposeViewController
  composeViewControllerForServiceType:SLServiceTypeFacebook];

 if([SLComposeViewController isAvailableForServiceType:SLServiceTypeFacebook])
 {
  SLComposeViewControllerCompletionHandler __block completionHandler=
  ^(SLComposeViewControllerResult result){

   [fbComposer dismissViewControllerAnimated:YES completion:nil];

   switch(result){
    case SLComposeViewControllerResultCancelled:
    default:
    {
     NSLog(@"Cancelled.....");

    }
     break;
    case SLComposeViewControllerResultDone:
    {
     NSLog(@"Posted....");
     UIAlertView * alert = [[UIAlertView alloc] initWithTitle:@"Sent"
                                                      message:nil
                                                     delegate:nil
                                            cancelButtonTitle:@"Dismiss"
                                            otherButtonTitles: nil];
     [alert show];
    }
     break;
   }};

  [fbComposer addImage:[UIImage imageNamed:@"iossdk_logo.png"]];
  [fbComposer setInitialText:@"The initial text you want to send"];
  [fbComposer addURL:[NSURL URLWithString:@"https://developers.facebook.com/ios"]];
  [fbComposer setCompletionHandler:completionHandler];
  [self presentViewController:fbComposer animated:YES completion:nil];
 } 
```

# c# - 在 Windows 应用程序中检索 CRM 2011 主题树值

> ID：13428012
> 
> 赞同：0
> 
> 时间：2012-11-17T05:32:40.893
> 
> 标签：c#, dynamics-crm-2011

我们如何将 CRM 2011 的主题树值检索到 C# windows 应用程序中并存储在*DropDownList*或*ComboBox*中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T07:16:29.610

您可以使用普通的 RetrieveMultiple：

```
_serviceProxy.EnableProxyTypes();
_service = (IOrganizationService)_serviceProxy;
_service.RetrieveMultiple(new FetchExpression("fetchxml here")); 
```

您将无法使用高级查找来搜索主题，但实体存在并且可以使用 fetch 进行查询。这是一个例子：

```
<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>
  <entity name='subject'>
    <attribute name='title' />
    <order attribute='title' descending='false' />
  </entity>
</fetch> 
```

然后，您将拥有一个 EntityCollection，您可以根据需要在代码中使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-18T20:22:18.043

1.  连接到服务器。
2.  检索所需的信息（查询字符串是您的朋友）。
3.  过滤数据以适合您的目的。
4.  将阵列交付给您的应用程序。
5.  创建一个新的 GUI 组件。

您是否清楚如何以代码方式执行每个步骤？

# ruby - libreadline5-dev 在 apt-cache 中没有候选对象

> ID：13428017
> 
> 赞同：4
> 
> 时间：2012-11-17T05:33:05.157
> 
> 标签：ruby, ubuntu-12.04, chef-infra

我正在尝试在厨师中做到这一点：

```
package("libreadline5-dev") do
  package_name "libreadline5-dev"
  retry_delay 2
  retries 0
  recipe_name "default"
  cookbook_name :"nginx-passenger"
  action :install
end 
```

它给出以下错误：

```
================================================================================
Error executing action `install` on resource 'package[libreadline5-dev]'
================================================================================

Chef::Exceptions::Package
-------------------------
libreadline5-dev has no candidate in the apt-cache

Resource Declaration:
---------------------
# In /var/chef/cookbooks/nginx-passenger/recipes/default.rb

 15: package "libreadline5-dev"
 16: package "build-essential"

Compiled Resource:
------------------
# Declared in /var/chef/cookbooks/nginx-passenger/recipes/default.rb:15:in `from_file' 
```

版本：

红宝石 1.8.7

厨师：10.16.2

ubuntu：12.04（EC2 实例）

有人可以帮我解决这个问题吗？我试过[这个](https://stackoverflow.com/questions/8666169/readline-not-working-in-rvm-ubuntu-11-10)，但它没有解决问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T01:55:23.473

AFAIK，`libreadline5-dev`不再包含在 Ubuntu 12.04 中。

您不妨尝试使用`libreadline-dev`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T07:24:02.263

我对 ntp 食谱安装的 ntp 包也有同样的问题。

执行后

```
apt-get check
apt-get update
chef-client 
```

在 debian 机器上的 shell 中手动对我有用，但我无法找出导致问题的原因。也许有人有想法？

希望有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-21T19:04:24.610

我真的迟到了，但是在搜索这个错误时我并没有真正找到任何结果，除了这个问题。我遇到了同样的问题，这是由一个旧的过时的 apt-get 进程引起的，该进程阻止了 apt-purge 获得锁。您可以通过尝试 apt-get update 来确认：

```
$ sudo apt-get update
E: Could not get lock /var/lib/apt/lists/lock - open (11: Resource temporarily unavailable)
E: Unable to lock the list directory

$ ps auxww | grep apt
root     23488  0.0  0.0  19408  2336 ?        S    Jun03  28:42 /usr/bin/apt-get -q -y --force-yes -o Dpkg::Options::=--force-confold update 
```

在手动杀死该 apt-get 进程并运行 apt-get update 后，厨师成功运行。

# ios - ios6 和 Xcode 4.5 中的 Google 驱动器集成错误

> ID：13428019
> 
> 赞同：2
> 
> 时间：2012-11-17T05:33:18.587
> 
> 标签：ios, ios6, google-drive-api, xcode4.5, google-api-objc-client

伙计们，我正在研究集成 google drive，我在 google sdk 示例中找到了来自 google-api-objectivec-client 的代码。

我搜索并发现，要解决这些问题，您需要添加 security.framewok 和 SystemCofiguration.framework ，我已经这样做了，但无法成功。

还发现将“框架搜索路径”更改为

```
 "$(SDKROOT)/Developer/Library/Frameworks"
 "$(DEVELOPER_LIBRARY_DIR)/Frameworks" 
```

我也这样做，但不能缩短这些错误。

```
 "_SecItemAdd", referenced from:

-[GTMOAuth2Keychain setPassword:forService:accessibility:account:error:] in   GTMOAuth2ViewControllerTouch.o

 "_SecItemCopyMatching", referenced from:

-[GTMOAuth2Keychain passwordForService:account:error:] in GTMOAuth2ViewControllerTouch.o

 "_SecItemDelete", referenced from:

 -[GTMOAuth2Keychain removePasswordForService:account:error:] in GTMOAuth2ViewControllerTouch.o

 "_kSecAttrAccessible", referenced from:

 -[GTMOAuth2Keychain setPassword:forService:accessibility:account:error:] in GTMOAuth2ViewControllerTouch.o

  "_kSecAttrAccessibleAfterFirstUnlockThisDeviceOnly", referenced from:

  +[GTMOAuth2ViewControllerTouch saveParamsToKeychainForName:accessibility:authentication:] in GTMOAuth2ViewControllerTouch.o

 "_kSecAttrAccount", referenced from:

 +[GTMOAuth2Keychain keychainQueryForService:account:] in GTMOAuth2ViewControllerTouch.o

 "_kSecAttrGeneric", referenced from:

 +[GTMOAuth2Keychain keychainQueryForService:account:] in GTMOAuth2ViewControllerTouch.o

 "_kSecAttrService", referenced from:

 +[GTMOAuth2Keychain keychainQueryForService:account:] in GTMOAuth2ViewControllerTouch.o

 "_kSecClass", referenced from:

 +[GTMOAuth2Keychain keychainQueryForService:account:] in GTMOAuth2ViewControllerTouch.o

 "_kSecClassGenericPassword", referenced from:

 +[GTMOAuth2Keychain keychainQueryForService:account:] in GTMOAuth2ViewControllerTouch.o

"_kSecMatchLimit", referenced from:

-[GTMOAuth2Keychain passwordForService:account:error:] in GTMOAuth2ViewControllerTouch.o

"_kSecMatchLimitOne", referenced from:

-[GTMOAuth2Keychain passwordForService:account:error:] in GTMOAuth2ViewControllerTouch.o

"_kSecReturnData", referenced from:

-[GTMOAuth2Keychain passwordForService:account:error:] in GTMOAuth2ViewControllerTouch.o

"_kSecValueData", referenced from:

 -[GTMOAuth2Keychain setPassword:forService:accessibility:account:error:] in  GTMOAuth2ViewControllerTouch.o

 Symbol(s) not found for architecture i386

Linker command failed with exit code 1 (use -v to see invocation) 
```

请帮助我，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-03T12:48:47.023

我也面临谷歌 gtl 框架的这个问题。根据他们的指示，最初我设置了其他链接器标志，如下所示

> 将 ObjC 链接器标志添加到应用程序目标的构建设置中：
> 
> 其他链接器标志：-ObjC

清除该标志后，所有警告都消失了，构建成功。

**注意：**我正在使用`Xcode5.0`

**更新：**一段时间后，它会再次显示相同的错误，但是当我尝试使用设备构建时，它就消失了。但它仍然出现在模拟器中。不知道如何用模拟器解决它。

# linux - 在Linux中，用户空间如何不能访问内核空间？

> ID：13428021
> 
> 赞同：1
> 
> 时间：2012-11-17T05:33:35.743
> 
> 标签：linux

在用户空间中，如果我尝试访问内核空间中的虚拟地址，保护到底发生在哪里？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T05:40:21.267

用户进程和内核在完全不同的地址空间上工作（除了内核在处理用户进程的系统调用时必须使用的区域），可以“尝试访问内核空间中的虚拟地址”的假设是无效的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-07-29T01:52:35.953

关于arm/aarch64中的页表，有一些位（AP[2:0]）来控制访问；对于内核地址，EL1（内核）将其设置为读/写，EL0（用户）将其设置为无，保护将阻止用户访问内核地址。

而对于 ArmV8.1，PSTATE 中有一个位 PAN，用来防止内核访问用户空间，很有趣*^^*。如果您有兴趣，请查看[https://lwn.net/Articles/700623/ 。](https://lwn.net/Articles/700623/)

# android - 如何使用jquery在android db中导入多个sql文件

> ID：13428026
> 
> 赞同：0
> 
> 时间：2012-11-17T05:35:08.927
> 
> 标签：android, jquery

我的资产文件夹中有多个 sql 文件并在 android 上构建应用程序。我希望这个 sql 通过一个使用 jquery 导入到 android 应用程序数据库中。如何做到这一点，请帮助。我已经为单个文件完成了代码，但我希望它用于多个 sql 文件。

```
var filePath = 'database/crmaaaa_1.sql';
            //alert(filePath);
            $.get(filePath, function (response) {
                 var statements = response.split('\n');

                 var shortName = "crm1";
                 var version = '1.0';
                 var displayName = 'crm1';
                 var maxSize = 40000000; //  bytes
                // db = openDatabase(shortName, version, displayName, maxSize);
                 var db = window.openDatabase(shortName, version, displayName, maxSize);
                // db.transaction(populateDB, errorCB);
                 db.transaction(function (transaction) {
                    jQuery.each(statements, function (index, value) {
                    //  alert("query"+value);
                        if (value != '') {
                            transaction.executeSql(value, [], successHandler, function (e) {
                                alert("Error executing sql " + value);
                            });
                        }

                    });
                 });
            }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-06T09:06:53.103

您可以创建要导入的 sql 文件数组：

```
 var sqlFiles = ['file1.sql', 'file2.sql', 'file3.sql'];

 $(sqlFiles).each(function() {
     $.get(this, function (response) {
          // your sql file management
          // ...
     }
 }); 
```

这应该会让你达到目标。

# c# - 谷歌 oauth 访问令牌 411 响应

> ID：13428028
> 
> 赞同：0
> 
> 时间：2012-11-17T05:35:21.717
> 
> 标签：c#, asp.net-mvc, google-api, oauth-2.0, google-oauth

我正在使用用于 Web 服务器应用程序的谷歌 OAuth api，特别是 asp.net mvc，并且我能够到达谷歌为某个 oauth 请求返回授权码的地步。那时，我正在尝试使用以下代码获取访问令牌：

```
public ActionResult GetOAuthToken()
{
     HttpWebRequest myReq = (HttpWebRequest)WebRequest.Create(OAuthConfig.getTokenUrl(Request.QueryString["code"].ToString()));
     myReq.Method = "POST";
     myReq.Host = "accounts.google.com";
     myReq.ContentType = "application/x-www-form-urlencoded";
     WebResponse resp = myReq.GetResponse();
     return View();
 } 
```

OAuthConfig 只是我写的一个类，它包含一个方法 getTokenUrl()，它返回一个带有参数的 url，如 url 的 code、client_secret、client_id 等：[https](https://accounts.google.com/o/oauth2/token) ://accounts.google.com/o/oauth2/token . 我已经调试并检查了这个 url 没有问题。

我不断收到以下错误：远程服务器返回错误：（411）需要长度。

我不知道要为内容长度指定什么，或者是否需要包含其他内容来修复此错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T08:42:13.550

您是否尝试过查看[Google-API .NET Client](https://code.google.com/p/google-api-dotnet-client/wiki/OAuth2)？

如果您进行调试，您会看到 Google 在发送访问令牌请求时使用“长度”作为内部属性。您可以尝试自己修复它，但您可以使用 THEIR 类来发送令牌请求；如果您使用他们的课程，则不必担心诸如长度之类的内部问题...

# c# - 如何将图像加载到列表视图中

> ID：13428030
> 
> 赞同：0
> 
> 时间：2012-11-17T05:35:47.723
> 
> 标签：c#, image, listview

我有这个`ListView`，我想将图像加载到那个`ListView`。我有存储图像的文件路径。我想循环文件路径中包含的每个图像并将它们加载到列表视图中。而且我不知道该怎么做。你能帮帮我吗？以下是我未完成的代码。谢谢你。

```
DataTable dtPath = new DataTable();
dtPath = ContrPtMRD.SelectFilePaths();

foreach (DataRow rows in dtPath.Rows)
{
    lvPtMedicalRecord.????
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T05:47:44.733

看来您将其存储`Image locations`在同一个 DataTable 中。如果您`ImageList`在处理 foreach 循环的同时存储这些图像位置，那将是可以理解的。这是示例代码：

```
lvPtMedicalRecord.LargeImageList = myImageList;  //Attaching ImageList to the ListView
int imageIndex = 0;
foreach (DataRow rows in dtPath.Rows)
{
   //Store the paths of the images in the same DataTable (I can think of this only)
   myImageList.Images.Add(Image.FromFile(row[0].ToString());
   ListViewItem lvi = new ListViewItem();
   lvi.ImageIndex = imageIndex; //Index of the Image present in the `ImageList`
   imageIndex++;
   lvPtMedicalRecord.Items.Add(lvi);
} 
```

更新：

为了使图像变大：

```
 myImageList.ImageSize = new System.Drawing.Size(112, 112); // width, height 
```

# android - 从 ListFragment 调用 DialogFragment 上的 setTitle()

> ID：13428032
> 
> 赞同：2
> 
> 时间：2012-11-17T05:36:10.297
> 
> 标签：android, android-fragments, android-listfragment, android-dialogfragment

我正在尝试从扩展 ListFragment 的 Fragment 的 onActivityCreated 方法设置 DialogFragment 的标题。

```
public void onActivityCreated(Bundle savedState) {
    super.onActivityCreated(savedState);
    ListView lv = this.getListView();
    lv.setOnItemLongClickListener(new OnItemLongClickListener() {

        public boolean onItemLongClick(AdapterView<?> arg0, View arg1,
                int pos, long id) {

            android.app.FragmentManager fragmentManager = getFragmentManager();
            FragmentTransaction fragmentTransaction = fragmentManager
                    .beginTransaction();
            RatingDialogFragment newFragment = new RatingDialogFragment();
            newFragment.getDialog().setTitle("String");
            fragmentTransaction.add(newFragment, "dialog");
            newFragment.show(fragmentTransaction, "dialog");

            return true;
        }
    });
} 
```

这会产生一个空指针异常，因为 DialogFragment 的 mDialog 仍然为空。

请参阅：[DialogFragment.getDialog 返回 null](https://stackoverflow.com/questions/8456143/dialogfragment-getdialog-returns-null)

有想法该怎么解决这个吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-17T05:51:40.307

解决此问题的一种可能方法是让`Fragment`正在创建的对象决定何时可以安全地设置其标题。

例如，您可以在构造函数中传递标题并将其保存在成员变量中。

```
RatingDialogFragment newFragment = new RatingDialogFragment("String"); 
```

然后在您的 RatingDialogFragment 中：

```
...
public RatingDialogFragment(String title) {
   mTitle = title;
}
... 
```

在您的 RatingDialogFragment 生命周期中的某个地方，在安全的情况下，实际设置标题。

```
...
@Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        // Set title for this dialog
        getDialog().setTitle(mTitle);
    } 
```

**编辑：**值得注意的是，虽然这在这种特殊情况下有效，但更好的通用方法是使用' 通过and方法`Fragment`接收参数的能力。这允许您保留默认的空构造函数，以便框架可以正确实例化您的片段（例如，如果您通过 XML 引入片段）。一个例子可以在[这里找到](http://developer.android.com/reference/android/app/DialogFragment.html#BasicDialog)。[`setArguments()`](http://developer.android.com/reference/android/app/Fragment.html#setArguments%28android.os.Bundle%29)[`getArguments()`](http://developer.android.com/reference/android/app/Fragment.html#setArguments%28android.os.Bundle%29)

从[文档](http://developer.android.com/reference/android/app/Fragment.html#Fragment%28%29)中：

> 每个片段都必须有一个空的构造函数，因此可以在恢复其活动状态时对其进行实例化。强烈建议子类不要有其他带参数的构造函数，因为片段重新实例化时不会调用这些构造函数；相反，参数可以由调用者使用 setArguments(Bundle) 提供，然后由 Fragment 使用 getArguments() 检索。

# ios - UITabBarController 似乎在关闭另一个视图之前打开了一个视图

> ID：13428035
> 
> 赞同：1
> 
> 时间：2012-11-17T05:37:25.833
> 
> 标签：ios, xcode, cocoa, uitabbarcontroller

我有一个在我的根视图中点击设置按钮时调用的方法，它子类化两个 UIViewController，将它们附加到 UITabBarController 并将 UITabBarController 推送到导航堆栈上：

```
-(IBAction)onSettings:(id)sender {
// Create the Settings Views
SettingsViewController *vcSettings1 = [[Settings1ViewController alloc] initWithNibName:@"Settings1ViewController" bundle:nil];
Settings2ViewController *vcSettings2 = [[Settings2ViewController alloc] initWithNibName:@"Settings2ViewController" bundle:nil];

// Create the Tab View
UITabBarController *tabController= [[UITabBarController alloc] init];
tabController.viewControllers = @[vcSettings1,vcSettings2];

// Pass the Index of the database on to the views so they can pull the record from the database
vcSettings.recordIndex = recordIndex;
vcSettings2.recordIndex = recordIndex;

// Add the tab bar controller to the navigation stack
[self.navigationController pushViewController:tabController animated:YES];
} 
```

在每个设置视图中，我重写 viewWillAppear 方法以从主键记录索引处的 sqlite 数据库加载一行数据。（两个视图都提取相同的记录并从记录中显示不同的数据，但两者的一个字段相同。）

我还在每个视图中覆盖 viewWillDisappear 以将控件数据保存回数据库。

我可以验证每次使用标签栏切换视图时，都会在一个关闭视图上调用 viewWillDisappear 方法，而在打开视图上调用 viewWillAppear 方法。

问题是当我在第一个视图上更改数据并切换到第二个视图时，除非我返回第一个视图然后再返回第二个视图，否则第二个视图上的数据不会更改。据我所知，这似乎正在发生：

1.  视图 1 已打开。我更改了字段中的数据。
2.  我点击查看 2 的选项卡
3.  为视图 2 调用 viewWillAppear，用数据库中的旧数据填充视图 2 中的字段。
4.  然后为视图 1 调用 viewWillDisappear，将更改的数据保存到数据库中。

似乎在关闭视图调用 viewWillDisappear 之前，打开视图正在调用 viewWillAppear。

我已经尝试过其他方法，例如使用单例，并且只是尝试从两个视图中修改记录索引，并且在所有情况下，似乎数据是从打开视图加载的，然后再从关闭视图保存。

这是 UITabBarController 工作方式中的错误，还是我以不应该的方式滥用 viewWillAppear 和 Disappear？有没有其他人遇到过这种行为？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T09:59:35.063

这不是一个好的设计。不能保证新视图的 viewWillAppear 应该在前一个视图的 viewWillDisappear 之后调用。即使这样可以工作，也不能保证这将在未来的 iOS 版本中继续工作。

如果性能不受影响，快速修复可能是在发生更改时将更改保存到数据库中，您将始终拥有一个可以在任何情况下从任何视图访问的最新数据库。

最好的设计是拥有一些模型类，例如通过单例访问您的模型对象。当您与 UI 交互时，这些模型对象会实时更新，它们是由不同视图访问的对象，并且它们会使用您选择的方法定期保存。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T10:15:15.403

作为一种廉价的解决方案，您可以在 viewDidAppear 中加载数据，但总的来说我同意 JP 的回答

# objective-c - GCD 计时器从不触发

> ID：13428040
> 
> 赞同：5
> 
> 时间：2012-11-17T05:38:11.700
> 
> 标签：objective-c, ios, cocoa-touch, grand-central-dispatch

我有一个裸单视图 iOS 应用程序，在`-viewDidLoad`视图中包含以下内容：

```
dispatch_queue_t q_default;
q_default = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
dispatch_source_t timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0, q_default); //run event handler on the default global queue
dispatch_time_t now = dispatch_walltime(DISPATCH_TIME_NOW, 0);
dispatch_source_set_timer(timer, now, 30ull*NSEC_PER_SEC, 5000ull);
dispatch_source_set_event_handler(timer, ^{
    printf("test\n");
});
dispatch_resume(timer); 
```

这直接取自文档（简化的`printf()`参数除外）。该块永远不会被执行——有人能告诉我为什么吗？

**附加信息**

我在一个更大的应用程序中尝试这个无济于事。然后我退出准系统应用程序，尝试打开和关闭 ARC，在 中尝试了这段代码`-appDidFinishLaunching...`，但都没有运气。我可以用 s 包围这段代码`NSLog`，这两个都被打印出来了。我查过了`timer`——不是`nil`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-14T14:26:24.867

所以，问题是我失去了`timer`对周围范围何时被破坏的参考。更改`timer`为 ivar 而不是自动变量固定的东西...

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-17T07:17:41.050

根据[dispatch_source_create](https://developer.apple.com/library/mac/documentation/Performance/Reference/GCD_libdispatch_Ref/Reference/reference.html#//apple_ref/c/func/dispatch_source_create)的文档：

> 调度源在挂起状态下创建。创建源并设置任何所需的属性（例如，处理程序或上下文）后，您的应用程序必须调用 dispatch_resume 以开始事件传递。

所以你的计时器永远不会因为它被暂停而触发。要结束其暂停，您需要调用[dispatch_resume](https://developer.apple.com/library/mac/documentation/Performance/Reference/GCD_libdispatch_Ref/Reference/reference.html#//apple_ref/c/func/dispatch_resume)。

# angularjs - AngularJS - 访问子范围

> ID：13428042
> 
> 赞同：112
> 
> 时间：2012-11-17T05:38:46.157
> 
> 标签：angularjs

如果我有以下控制器：

```
function parent($scope, service) {
    $scope.a = 'foo';

    $scope.save = function() {
        service.save({
            a:  $scope.a,
            b:  $scope.b
        });
    }
}

function child($scope) {
    $scope.b = 'bar';
} 
```

什么是让`parent`read `b`out的正确方法`child`？如果有必要定义`b`in ，假设它是一个描述与而不是相关的东西的属性，`parent`这不会使它在语义上不正确吗？`b``child``parent`

**更新：**进一步想一想，如果有多个孩子`b`，就会产生冲突，`parent`以求`b`取回。`b`我的问题仍然存在，从访问的正确方法是`parent`什么？

* * *

## 回答 #1

> 赞同：163
> 
> 时间：2012-11-17T06:11:37.213

AngularJS 中的作用域使用原型继承，当在子作用域中查找属性时，解释器将从子作用域开始查找原型链并继续到父作用域，直到找到该属性，而不是相反。

查看 Vojta 对此问题的评论[https://groups.google.com/d/msg/angular/LDNz_TQQiNE/ygYrSvdI0A0J](https://groups.google.com/d/msg/angular/LDNz_TQQiNE/ygYrSvdI0A0J)

简而言之：您不能从父范围访问子范围。

您的解决方案：

1.  在父级中定义属性并从子级访问它们（阅读上面的链接）
2.  使用服务共享状态
3.  通过事件传递数据。`$emit`将事件向上发送到父级，直到根范围并向`$broadcast`下调度事件。这可能会帮助您保持语义正确。

* * *

## 回答 #2

> 赞同：83
> 
> 时间：2013-05-31T09:00:48.583

虽然 jm- 的答案是处理这种情况的最佳方式，但为了将来参考，可以使用范围的 $$childHead、$$childTail、$$nextSibling 和 $$prevSibling 成员访问子范围。这些没有记录，因此它们可能会在没有通知的情况下更改，但如果您*确实*需要遍历范围，它们就在那里。

```
// get $$childHead first and then iterate that scope's $$nextSiblings
for(var cs = scope.$$childHead; cs; cs = cs.$$nextSibling) {
    // cs is child scope
} 
```

[小提琴](http://jsfiddle.net/Lv7Wr/)

* * *

## 回答 #3

> 赞同：49
> 
> 时间：2015-02-06T20:25:41.617

你可以试试这个：

```
$scope.child = {} //declare it in parent controller (scope) 
```

然后在子控制器（范围）中添加：

```
var parentScope = $scope.$parent;
parentScope.child = $scope; 
```

现在父母可以访问孩子的范围。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2015-07-03T03:26:04.677

一种可能的解决方法是使用 init 函数将子控制器注入父控制器。

**可能的实现：**

```
<div ng-controller="ParentController as parentCtrl">
   ...

    <div ng-controller="ChildController as childCtrl" 
         ng-init="ChildCtrl.init()">
       ...
    </div>
</div> 
```

你在哪里`ChildController`：

```
app.controller('ChildController',
    ['$scope', '$rootScope', function ($scope, $rootScope) {
    this.init = function() {
         $scope.parentCtrl.childCtrl = $scope.childCtrl;
         $scope.childCtrl.test = 'aaaa';
    };

}]) 
```

所以现在`ParentController`你可以使用：

```
app.controller('ParentController',
    ['$scope', '$rootScope', 'service', function ($scope, $rootScope, service) {

    this.save = function() {
        service.save({
            a:  $scope.parentCtrl.ChildCtrl.test
        });
     };

}]) 
```

**重要提示：**
要正常工作，您必须使用指令`ng-controller`并重命名每个控制器，`as`就像我在 html 中所做的那样，例如。

**提示：**在此过程中
使用 chrome 插件[ng-inspector 。](http://ng-inspector.org/)它将帮助您理解树。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2019-02-12T15:01:19.850

使用**$emit**和**$broadcast**，（如 walv 在上面的评论中提到的）

向上触发事件（从子到父）

```
$scope.$emit('myTestEvent', 'Data to send'); 
```

向下触发事件（从父级到子级）

```
$scope.$broadcast('myTestEvent', {
  someProp: 'Sending you some data'
}); 
```

最后听

```
$scope.$on('myTestEvent', function (event, data) {
  console.log(data);
}); 
```

有关更多详细信息：- [https://toddmotto.com/all-about-angulars-emit-broadcast-on-publish-subscribing/](https://toddmotto.com/all-about-angulars-emit-broadcast-on-publish-subscribing/)

享受 ：）

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2017-09-07T14:23:08.203

是的，我们可以将子控制器中的变量分配给父控制器中的变量。这是一种可能的方式：

**概述：**下面代码的主要目的是将子控制器的 $scope.variable 分配给父控制器的 $scope.assign

**解释：**有两个控制器。在 html 中，请注意父控制器包含子控制器。这意味着父控制器将在子控制器之前执行。因此，首先将定义 setValue()，然后将控件转到子控制器。$scope.variable 将被分配为“孩子”。然后这个子作用域将作为参数传递给父控制器的函数，其中 $scope.assign 将获取值作为“子”

```
<!DOCTYPE html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
<script type="text/javascript">
    var app = angular.module('myApp',[]);

    app.controller('child',function($scope){
        $scope.variable = "child";
        $scope.$parent.setValue($scope);
    });

    app.controller('parent',function($scope){
        $scope.setValue = function(childscope) {
            $scope.assign = childscope.variable;
        }
    });

</script>
<body ng-app="myApp">
 <div ng-controller="parent">
    <p>this is parent: {{assign}}</p>
    <div ng-controller="child">
        <p>this is {{variable}}</p>
    </div>
 </div>
</body>
</html> 
```

# c++ - C++/Qt - 使用 QGraphicsItem 的多重继承不能按预期工作

> ID：13428051
> 
> 赞同：3
> 
> 时间：2012-11-17T05:40:25.730
> 
> 标签：c++, qt, multiple-inheritance

我最近在我的小程序中遇到了一个奇怪的问题，如果你能帮助我了解这种行为的原因，那就太好了。

我的任务很简单——我想使用 Qt Graphics Framework 来显示一些对象，并且我希望 Box2D 计算身体位置。所以我的类层次结构如下所示：

我有 1 个基本抽象类 B2DObject。它包含一些 Box2D 员工 + 其后继者的一些通用参数（名称、一些标志等）。它还有几个纯虚函数，将在后续类中重新实现。

然后我实现了一些代表基本形状的类：圆形、矩形、多边形等。我按照以下方式进行操作：

```
class ExtendedPolygon : public B2DObject, public QGraphicsPolygonItem { ... };
class ExtendedCircle : public B2DObject, public QGraphicsEllipseItem { ... }; 
```

等等（对于不熟悉Qt的人来说，QGraphics***Item继承自QGraphicsItem）。

我还继承了 QGraphicsScene 并重新实现了它的 mousePressEvent。在此函数中，我使用 QGraphicsScene::itemAt 函数（返回 QGraphicsItem*）请求放置在屏幕上某个点的对象，将其转换为 B2DObject* 并尝试从该对象获取一些内部字段：

```
void TestScene::mousePressEvent (QGraphicsSceneMouseEvent *event)
{
    QGraphicsItem* item = itemAt (event->scenePos ());
    if (item)
    {
        B2DObject* obj = reinterpret_cast < B2DObject* > (item);
        QString objName = obj->Name();  // just for example, 
                                        // getting other internal fields has 
                                        // the same effect (described below)
        // use retrieved field somehow (e.g. print in the screen)
    }

    // give the event to the ancestor
} 
```

不幸的是，dynamic_cast 在这里不起作用，因为这些类完全不相关。

然后我创建必要的对象并将其添加到我的场景中：

```
ExtendedPolygon* polygon = new ExtendedPolygon (parameters);
polygon->setName (QString ("Object 1"));
...
TestScene scene;
scene.addItem (polygon); 
```

（对于不熟悉Qt的人，这里是最后一个函数的原型：

```
void QGraphicsScene::addItem(QGraphicsItem *item); 
```

我猜它只是将所有项目存储在内部索引存储中，并在需要重新绘制项目时调用 QGraphicsItem::paint (...) 。我想 QGraphicsScene 没有对此项目进行任何重大更改）。

因此，当我运行程序并单击屏幕上的某个项目时，我的问题就开始了。`TestScene::mousePressEvent`被调用（参见上面的一段代码）。

检索鼠标点击位置，找到*项目*。投射工作正常：在调试器窗口中（我正在使用 Qt Creator）我看到*obj*指向 ExtendedPolygon（地址与我将项目添加到场景中时的地址相同，并且在调试器窗口中我可以看到所有字段）。但是当我得到一些字段时，无论如何我都会收到垃圾（这并不重要，我想要得到什么 - QString 或指向其他结构的指针）。

所以首先，我想得到关于我的多重继承的任何建议。在 95% 的情况下，我试图避免它，但从编程的角度来看，它在这里非常有效。因此，如果您向我提供您对类层次结构体系结构的看法，我将不胜感激——它甚至可以按我的预期工作吗？

如果在这个级别上一切都很好，那么如果有人知道为什么它不起作用，那就太好了。

我对解决方法有一些想法，但我真的很想解决这个问题（只是为了不再重复同样的错误）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:05:31.803

看起来我找到了问题的根本原因。只是缺乏关于多重继承如何在数据层上真正起作用的知识。

假设我们有 2 个基本类，A 和 B。它们中的每一个都提供了一些内部数据字段和一些接口。

然后我们创建一个派生类AABB，继承A和B：

```
class AABB : public A, public B {...} 
```

AABB 可以添加一些额外的数据字段并重新实现一些接口，但这不是必需的。

让我们创建 AABB 类的对象：

```
AABB* obj = new AABB (); 
```

例如，*obj*指向地址 0x8416e0。在此地址开始来自祖先类 A 的数据。来自祖先类 B 的数据以某个偏移量开始（它应该 bw 等于 sizeof (A)），例如，在 0x841700。

如果我们有一些函数`f (B* b)`，并且如果我们将一个指向 AABB 对象的指针传递给该函数（像这样：`f (obj)`，上面创建了*obj*），实际上传递的不是*obj*起始地址，而是 AABB 的 B 数据段开头的指针目的。

因此，这种对多重继承内部工作的误解导致了我遇到的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-19T10:57:42.020

我猜 Qobjects 和多重继承已经被处理过了。例如：[QObject 多重继承](https://stackoverflow.com/questions/8578657/qobject-multiple-inheritance)

# java - 用户关闭浏览器时 sessionlistner 不工作

> ID：13428056
> 
> 赞同：0
> 
> 时间：2012-11-17T05:41:00.457
> 
> 标签：java, session, session-timeout, sessionid, servlet-listeners

在下面的代码中 sessionCreated 在创建新会话时工作。但是 sessionDestroyed 只有在我们调用 session.invalidate() 时才有效；在以下情况下，我怎样才能使它工作**

1）用户关闭浏览器

2)系统断电

3）会话超时**

```
 import java.util.*;
 import javax.servlet.*;
 import javax.servlet.http.*;
 public class SesListener implements HttpSessionListener 
 {
long sttime,endtime;
public void sessionCreated(HttpSessionEvent se)
{
    sttime=System.currentTimeMillis();
    HttpSession ses=se.getSession();
    ServletContext sc=ses.getServletContext();
    sc.log("session started at "+new Date());
    System.out.println("session started at "+new Date());
}

public void sessionDestroyed(HttpSessionEvent se)
{

    endtime=System.currentTimeMillis();
    HttpSession ses=se.getSession();
    ServletContext sc=ses.getServletContext();
    sc.log("session ended at "+new Date());
    System.out.println("session ended  at "+new Date());
}
 } 
```

我的 .xml 文件是

```
 <listener>
   <listener-class>SesListener</listener-class>
 </listener> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T05:59:35.983

没有可靠的方法可以联系服务器以使会话无效，例如：网络丢失/断电：（无法联系服务器）

但是在浏览器关闭时，您可以使用 onunload 事件捕获用户的浏览器关闭事件并触发注销请求。

同样在会话超时监听器的 sessionDestroyed() 将被执行

# c# - 当我使用任务秒表时，会显示经过的时间，但当我使用线程时，它不会显示。这是为什么？

> ID：13428059
> 
> 赞同：0
> 
> 时间：2012-11-17T05:42:23.630
> 
> 标签：c#, multithreading, task-parallel-library, task

我很困惑为什么当我使用任务时会显示秒表的时间，而当我使用线程时却不会。我的代码有什么问题？我错过了什么吗？

```
static void Main(string[] args)
    {
        Stopwatch sw = new Stopwatch();
        sw.Start();

        //if I used this sw.Elapsed will display
        //Task t1 = Task.Factory.StartNew(runTask1);
        //Task t2 = Task.Factory.StartNew(runTask2);
        //Task.WaitAll(t1, t2);

        //if I used this sw.Elapsed will not display
        //Thread t1 = new Thread(runTask1);
        //Thread t2 = new Thread(runTask2);
        //t1.Start();
        //t2.Start();

        sw.Stop();

        Console.WriteLine(sw.Elapsed);

        Console.ReadLine();
    }

    public static void runTask1()
    {
        for (int x = 1; x <= 5000; x++)
        {
            Console.WriteLine("Run task tester 1");
        }
    }
    public static void runTask2()
    {
        for (int x = 1; x <= 5000; x++)
        {
            Console.WriteLine("Run task tester 2");
        }
    } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-17T05:48:20.773

当您使用任务时，您需要等待他们完成工作，然后再停止秒表并显示时间。当您使用线程时，您不会在显示结果之前等待它们完成，因此它会打印在线程文本上方的顶部。

您还想等待线程完成：

```
static void Main(string[] args)
{
    Stopwatch sw = new Stopwatch();
    sw.Start();

    // add Thread.Join at the end
    Thread t1 = new Thread(runTask1);
    Thread t2 = new Thread(runTask2);
    t1.Start();
    t2.Start();
    t1.Join();
    t2.Join();

    sw.Stop();

    Console.WriteLine(sw.Elapsed);

    Console.ReadLine();
} 
```

# android - 从文件和 SQLiteOpenHelper 读取 SQL

> ID：13428060
> 
> 赞同：3
> 
> 时间：2012-11-17T05:42:31.293
> 
> 标签：android, android-sqlite

我需要`SQLiteDatabase`在我的 Android 应用程序中包含一个现有的，并且我还希望能够下载和安装一个新的数据库。我做了一些研究，我的第一个工作解决方案[来自这里](http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications)。我不喜欢那个解决方案，一方面，它假设数据库总是在一个固定的路径和其他奇怪的地方。

因此，我没有将现有的数据库文件放在资产中，而是将数据库导出到 SQL 文件，将其读入，然后在`onCreate()`my 的方法中，我用文件数据`SQLiteOpenHelper`调用一个新方法 。我遇到了一些问题，我认为我已经解决了，但我确信我没有想到所有问题，它们是：`updateDatabase``DataInputStream`

1.  当`SQLiteOpenHelper`'`onCreate`方法被调用时，数据库已经创建，它是打开的，并且`inTransaction()`是`true`。因此，如果导入的 sql 文件包含`BEGIN TRANSACTION`，则会引发异常，并且如果 sql 字符串包含创建`'android_metadata'`另一个异常的语句。因此，我添加了一个使用`String.contains()`查找这些关键字的简单搜索，并设置了一个`boolean` `doExecute` 来`false`避免执行它们。所以一个问题是，是否有更好的 SQL 类或方法来过滤它，甚至是更好的正则表达式方法？

2.  SQL 文件中出现意外换行符的类似问题。我用 和 读取文件`readLine()`以查找换行符，我只是`String.trim()`在行上使用，然后检查`endsWith(";")`. 这对我的输入文件施加了一些限制，例如在一行中没有多个语句。那么，有没有更好的方法从文件中预处理 SQL 呢？

这是我`DataInputStream`从`assets`资源或下载中获得后用于创建数据库的代码：

```
 public boolean updateDatabase(DataInputStream inStream, SQLiteDatabase db, boolean doClear) throws Error {
    String sqlStatement = null;
    boolean result = true;
    boolean inOnCreate = true;
    boolean wasInTransaction;

    if(doClear) dropDatabase();

    // if called from onCreate() db is open and inTransaction, else getWritableDatabase()
    if(db == null) {
        inOnCreate = false;
        db = this.getWritableDatabase();
    }

    wasInTransaction = db.inTransaction();  // see NB below

    boolean doExecute;
    try {
        while ((sqlStatement = inStream.readLine()) != null) {
            // trim, so we can look for ';'
            sqlStatement.trim();
            if(!sqlStatement.endsWith(";")) {
                continue;   // line breaks in file, get whole statement
            }

            // NB - my file (exported from SQLite Database Browser starts with "BEGIN TRANSACTION;". 
            // executing this throws SQLiteException: cannot start a transaction within a transaction
            // According to SQLiteDatabase doc for beginTransaction(), "Transactions can be nested"
            // so this is a problem
            // but... possibly it is an "exclusive transaction" ?
            doExecute = true;
            if(wasInTransaction) {
                // don't execute BEGIN TRANSACTION; or COMMIT;
                if((sqlStatement.contains("BEGIN" ) || sqlStatement.contains("begin" )) &&
                        (sqlStatement. contains("TRANSACTION") || sqlStatement.contains("transaction" ))) {
                    doExecute = false;
                }
                if(sqlStatement.contains("COMMIT") || sqlStatement.contains("commit")) {
                    doExecute = false;
                }
            }   // inTransaction
            // this statement could be in older databases, but this scheme doesn't need, can't have it
            if(sqlStatement.contains("android_metadata")) {
                doExecute = false;
            }
            if(doExecute) {
                try {
                    db.execSQL(sqlStatement);
                } catch (SQLException e) {
                    throw(new Error("Error executing SQL " + sqlStatement));
                }   // try/catch
            }   // doExecute
        }   // while()
    } catch (IOException e) {
        result = false; // which won't matter if we throw 
        throw(new Error("Error reading  " + DB_SQL));
    } 

    if(!inOnCreate) {
        db.close();
    }

    return result;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-18T00:57:38.100

不想让您在如此雄心勃勃且优雅的实现中早早退出，但是如果您已经创建了数据库并使用数据库浏览器进行了检查，那么您是否考虑过[SQLite Asset Helper？](https://github.com/jgilfelt/android-sqlite-asset-helper)如果您的主要问题是被迫使用资产文件夹，则此方法`lib`可让您使用任何指定目录中的文件。此外，它允许处理原始`.db`文件。值得一试。

# algorithm - Constructing a graph using hashmap?

> ID：13428063
> 
> 赞同：1
> 
> 时间：2012-11-17T05:42:45.237
> 
> 标签：algorithm, graph, graph-theory, depth-first-search, breadth-first-search

1) Can an undirected graph's adjacency list be represented using HashMap?

`HashMap<String,ArrayList<String>>`?

Key will be nodes and ArraList will be the edges. If answer is "yes" to (1) - How do I check the redundancy here?

Eg:

`1 -> 2,3,4 2 -> 1,5,6 ... The 1->2 & 2->1 are same.`

In this case, How to do a BFS/DFS using this data structure?!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T06:00:08.073

You do not have to worry about redundancy. And BFS will be implemented in normal format. I dnt use Java much so its mix of Java and C++. And just to be more correct HashMap > would be better option though both will work. Reason : Set has unique property.

Algo :

```
HashMap<String, ArrayList<String> > graph;
Set<String> visited;
queue<String> currentTraverse; // a data structure which has efficient front removal and back insertion
currentTraverse.push_back(sourcePoint);
visited.insert(sourcePoint);
while(! currentTraverse.empty())
{
    String currentNode = currentTraverse.front();
    currentTraverse.pop_front();
    ArrayList<String> adjacentNodes = graph.find(currentNode)->second;
    for(String node adjacentNodes)
    {
        pair<iterator, bool> isVisited = visited.insert(node);
        if(!isVisited.second) // if not in visited set
            currentTraverse.push_back(node);
    }
} 
```

# nsdate - CoreData 谓词按日期

> ID：13428064
> 
> 赞同：0
> 
> 时间：2012-11-17T05:43:08.297
> 
> 标签：nsdate, nspredicate

我已经设置了一个 coreData 模型并添加了数据。我想搜索过去 30 天的所有项目，然后将总单位数相加。

这是我得到的：-

```
- (void) calculateThirtyDayValues {

NSDate *endDate = [NSDate date];
NSTimeInterval timeSinceRefDate = [NSDate timeIntervalSinceReferenceDate];
NSTimeInterval lastThirtyDays = timeSinceRefDate- 2592000;
NSDate *startDate = [NSDate dateWithTimeIntervalSinceReferenceDate:lastThirtyDays];
NSPredicate *predicate = [NSPredicate predicateWithFormat: @"(date >= %@) AND (date <=     %@)", startDate, endDate]; 
```

}

基本上我已经创建了一个设置今天日期的 NSDate 对象，然后创建了另一个设置为今天前 30 天的 NSDate 对象。然后尝试断言从开始日期到当前日期的所有对象。

我正在返回结果，但它们似乎与过去 30 天的总数不匹配。它似乎只是返回一切！

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T15:38:06.737

您的谓词似乎没问题，但您的日期代码不正确，原因有几个。

*   `[NSDate date]`返回当前日期，精度为亚毫秒。因此，如果您在当地时间下午 4:15:37 创建谓词，则该谓词将找不到任何日期为当地时间下午 5:37:42 的对象。如果您想要像这样精确到秒的精度，那么您可能没问题。但是如果你想要粒度到不同的日历单位（比如按天），那么你需要做更多的工作。
*   并非每天都有 86,400 秒。因此，您尝试减去 (30*86400) 是错误的。您应该让日历对象为您计算：

    ```
    NSDate *endDate = ...;
    NSDateComponents *diff = [[NSDateComponents alloc] init];
    [diff setDay:-30];
    NSCalendar *calendar = [NSCalendar currentCalendar];
    NSDate *startDate = [calendar dateByAddingComponents:diff toDate:endDate options:0]; 
    ```

# android - 当应用程序回到前台时如何使用粘性广播来执行任务？

> ID：13428065
> 
> 赞同：1
> 
> 时间：2012-11-17T05:43:15.767
> 
> 标签：android, broadcastreceiver

我的应用程序使用 Internet 连接从 Web 服务器加载数据。所以我有一个 BroadcastReceiver，它不断检查互联网连接的可用性，如果连接丢失，它会显示一个持久的 AlertDialog。它工作正常。我的 BroadcastReceiver 在清单中声明。

```
 <receiver android:name="com.project.service.ConnectivityChangedReceiver"
      android:label="NetworkConnection">
      <intent-filter>
        <action android:name="android.net.conn.CONNECTIVITY_CHANGE"/>
      </intent-filter> 
 </receiver> 
```

现在的问题是我仅在我的应用程序处于前台时才显示此 AlertDialog。因此，如果用户在另一个应用程序中并且 Internet 丢失，我的 AlertDialog 将不会显示（尽管已触发 Broadcast 事件）。现在，如果用户来到我的应用程序，对话框不会出现，因为事件已经被触发一次。但我希望它显示出来，因为我不希望用户在连接恢复之前能够做任何事情。

我在某处读到我们可以为此目的使用粘性广播，但我不知道如何以及在何处使用它们。请帮忙。

# java - java - 在线程之间共享数据 - 原子引用或同步

> ID：13428070
> 
> 赞同：3
> 
> 时间：2012-11-17T05:44:39.370
> 
> 标签：java, android, multithreading, synchronized, atomicreference

我正在制作一个 2 人视频游戏，并且对手的位置在线程上得到更新，因为它有一个持续监听的套接字。我想分享的是位置和旋转。

因为它是一个视频游戏，我不希望主线程被阻塞（或者只是可能的最短时间），我不希望性能受到影响。因此，从我所看到的分享这些信息来看，正常的做法是

```
class sharedinfo
{
   public synchronized read();
   public synchronized write();
} 
```

但这会阻塞主线程中的读取（与绘制视频游戏相同），直到写入三个值（或者将来写入更多信息），而且我读过同步非常昂贵（也是重要的是要说这个游戏也适用于android，所以性能非常重要）。

但我在想，也许在 AtomicReference 中包含 sharedInfo 并消除 synchronized 会使其更有效，因为它只会在引用本身被更新时停止（写入不存在，我会创建一个新对象并将其放在atomicreference），他们还说 atomic* 使用硬件操作并且比同步更有效。

你怎么看？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:18:08.483

考虑为此使用队列，Java 有一些不错的并发队列实现。在 java.util.concurrent 中查找 BlockingQueue 接口，以及谁实现了它。您可能会发现您甚至没有考虑过的实施策略。

在不知不觉中，您需要的不仅仅是线程之间的位置通信，而且通过队列，您可以将不同类型的对象放入其中，可能具有不同的优先级等。

如果在您的代码中尽可能多地使用接口（如 Queue 或 BlockingQueue）（即除了构造特定实例的地方之外的任何地方），如果您需要，更换您正在使用的确切类型的队列真的很容易不同的功能，或者只是想玩。

# java - String.compareTo 方法进行比较

> ID：13428071
> 
> 赞同：1
> 
> 时间：2012-11-17T05:45:01.277
> 
> 标签：java, compareto

你会检查我的方法并让我知道我做错了什么吗？谢谢你 ：）

```
public static void sortByVehicleMakeModel(Vehicle[] vehicles) {
    boolean swapped = true;

    for(int y = 0; y < vehicles.length && swapped; y++) {
        swapped=false;
        for(int x = 0; x < vehicles.length - (y+1); x++) {
            if(vehicles[x].getMake() && vehicles[x].getModel().compareTo(vehicles[x + 1].getMake() && vehicles[x].getModel())) {    
                swap(vehicles, x, x + 1);
                swapped=true;
            }
        }
    }
} 
```

我的错误出现在第二条语句 .compareto() 运算符 && 未定义参数类型 java.lang.String、java.lang.String

但是，这段代码工作得很好：

```
public static void sortByOwnerName(Vehicle[] vehicles) {
    boolean swapped = true;

    for(int y = 0; y < vehicles.length && swapped; y++) {
        swapped=false;
        for(int x = 0; x < vehicles.length - (y + 1); x++) {
            if(vehicles[x].getOwner().getName().compareTo(vehicles[x + 1].getOwner().getName())> 0) {   
                swap(vehicles, x, x + 1);
                swapped=true;
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T05:55:54.977

的两个操作数都`&&`必须是`boolean`表达式（`true`或`false`）：

在下文中，其中一个或两个都是`String`.

```
vehicles[x].getMake() && vehicles[x].getModel().compareTo(vehicles[x + 1].getMake() && vehicles[x].getModel()) 
```

* * *

与其尝试使用该逻辑对对象进行排序，不如`Vehicle`为您的`Vehicle`

```
public class VehicleComparator implements Comparator<Vehicle> {
    //...
    public int compare(Vehicle v1, Vehicle v2) {
       //..
    }
} 
```

并使用使用[`Arrays.sort()`](http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort%28T%5b%5d,%20java.util.Comparator%29)方法。

```
Arrays.sort(vehicles, new VehicleComparator()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T05:56:15.053

我建议将 a 添加`int getCost()`到 Vehicle 对象中，然后使用类似于`vehicles[x].getCost() > vehicles[x - 1].getCost()`if 语句的内容。

此外，这种排序不是很有效。也许 Vehicle 应该实现[Comparable](http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html)并用于`Collections.sort()`排序。

* * *

只需阅读您的问题的更新。

试试这个：

```
if (vehicles[x].getMake().compareTo(vehicles[x - 1].getMake()) < 0 || 
   (vehicles[x].getMake().compareTo(vehicles[x - 1].getMake()) == 0 &&
    vehicles[x].getModel().compareTo(vehicles[x - 1].getModel()) < 0)) { 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T05:56:33.853

要实现该`compareTo()`方法，您必须实现`Comparable<Type>`接口并覆盖

```
public int compareTo(T o); 
```

方法将返回 so 而不是

```
vehicles[x].getModel().compareTo(vehicles[x + 1.... 
```

你应该把

```
vehicles[x].getModel().compareTo(vehicles[x + 1.... > -1 // or any constant which you want to say as invalid. 
```

然后只有工作

希望这会帮助你。

# ios - Amazon DynamoDB 预置吞吐量（iOS 开发工具包）

> ID：13428072
> 
> 赞同：4
> 
> 时间：2012-11-17T05:45:20.057
> 
> 标签：ios, amazon-web-services, amazon-dynamodb, amazon-cloudwatch

我是 DynamoDB 的新手。我对预置吞吐量感到非常困惑。我正在创建一个用户可以在游戏中聊天的 iPhone 游戏。我有一个聊天桌。Chat 表包含 GameID、UserID 和 Message。如何找到项目的大小来计算吞吐量。项目的大小完全取决于消息对吗？如何计算物品的尺寸？

Amazon 告诉我们，我们可以使用 UpdateTable API 或从控制台手动修改吞吐量。如果我想将其更改为代码，我如何知道某个表已超过预置吞吐量？如何从代码中检查？

我也对 CloudWatch 感到困惑。这个怎么理解？

有人可以帮我吗？请不要将我指向文档。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-19T15:06:58.643

我会尽力帮助解决混乱。

*   DynamoDB 是一个键值数据库
*   CloudWatch 是亚马逊的产品监控工具
*   预置吞吐量大致是您计划每秒读取/写入的 Items KB 数

每当您超过您的预置吞吐量时，

1.  DynamoDB 回答[`ProvisionedThroughputExceededException`](http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/ErrorHandling.html)
2.  DynamoDB 通知 CloudWatch

Cloudwatch 所做的基本上是记录和聚合数据点。对于大多数应用程序，它只会跟踪每个连续 5 分钟的聚合数据。

然后，您可以访问这些数据以进行“手动”监控或设置“警报”。几周前有一个关于 DynamoDB 使用警报自动扩展的非常有趣的问题。您可能有兴趣阅读它：[http ://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/ErrorHandling.html](http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/ErrorHandling.html)

知道了这一点，您就可以开始构建您的应用程序了。

对于每项 DynamoDB 服务，都需要凭据才能访问它。即使它们可以被限制在一个特定的表或一组动作中，将它们捆绑在一个应用程序中是非常危险的。你会给任何不受信任的人提供 MySQL 或 MongoDB 或凭据，甚至只读吗？

我可以建议您构建您的应用程序以依赖您自己的服务器吗？该服务器由您信任并由您构建，您可以在那里安全地执行任何授权检查并授予它对您的表的完全访问权限。

我希望这有帮助。随意要求更多的精度。

# webview - 当我使用 pubsub 时，Setpage 在 wxpython2.9 webview 中不起作用

> ID：13428073
> 
> 赞同：0
> 
> 时间：2012-11-17T05:45:27.320
> 
> 标签：webview, wxpython, publish-subscribe

我在windows中使用wxpython创建一个应用程序，我想发布一些数据来创建一个html视图，pubsub数据可以在cmd窗口中打印，但是当我在webview中设置页面时，它不起作用，我可以使用webview吗做出这个效果？ps：如果webview可以做到这一点，当点击一个链接时，它是否可以弹出一个新的框架来解析这个链接的一些数据？

好吧，我没有清楚地描述我的问题，也许我可以通过代码清楚地描述它：

在 wxpython2.8 中，我的代码：

```
import time
import wx
import re
from threading import Thread
from wx.lib.pubsub import Publisher

import urllib2  
from win32gui import *
import win32gui
from wx.lib.wordwrap import wordwrap
import wx.html2 as webview
import lxml.html
import lxml.html.soupparser as soupparser

class ListenerThread(Thread):
    def __init__(self):
        Thread.__init__(self)
        self.start() 

    def findtitle(self):
        ........
        ........

    def find_window(self):
        title = self.findtitle()
        dlg=win32gui.FindWindow(None,title)
        return dlg

    def run(self):
        tempWindowName=win32gui.GetWindowText (self.find_window())
        while True:
            ........
            ........
            Publisher().sendMessage("update", info)
        time.sleep(0.1)

class InfoFrame(wx.Frame):
    def __init__(self):
       wx.Frame.__init__(self, None, title="title",size=(430, 700))
       panel = InfoPanel(self)
       style= self.GetWindowStyle()
       self.SetWindowStyle(style|wx.STAY_ON_TOP)

class InfoPanel(wx.Panel):
    def __init__(self, parent):
        .......

        self.browser= wx.html.HtmlWindow(self)
        Publisher().subscribe(self.updateDisplay)

        ......

    def updateDisplay(self, msg):
        t = msg.data
        self.browser.SetPage("%s"%t)

class MyApp(wx.App):
    def OnInit(self):
        self.infoFrame=InfoFrame()       
        self.SetTopWindow(self.infoFrame)
        self.infoFrame.Show(True)    
        return True

    def OnExit(self):
        wx.Exit()

#----------------------------------------------------------------------
if __name__ == "__main__":
    app = MyApp(False)
    app.MainLoop() 
```

信息的结构像

```
<a href=....>text1</a><br><a href=......>text2</a><br>..... 
```

它是通过lxml从其他网站解析的，这段代码可以工作，但我认为这个视图很难看，我想添加一些css样式，我想也许我可以打开一个新框架来显示一些内容，当我通过链接解析时点击链接。

所以，我在谷歌搜索，然后发现也许wxpython2.9中的webview可以做到这一点，然后，我改变了我的代码：

```
import time
import wx
import re
from threading import Thread
from wx.lib.pubsub import setupv1   
from wx.lib.pubsub import pub

import urllib2  
from win32gui import *
import win32gui
from wx.lib.wordwrap import wordwrap
import wx.html2 as webview
import lxml.html
import lxml.html.soupparser as soupparser

publisher = pub.Publisher()

class ListenerThread(Thread):
    def __init__(self):
        """Init Worker Thread Class."""
        Thread.__init__(self)
        self.start() 

    def findtitle(self):
        ........
        ........

    def find_window(self):
        title = self.findtitle()
        dlg=win32gui.FindWindow(None,title)
        return dlg

    def run(self):
        tempWindowName=win32gui.GetWindowText (self.find_window())
        while True:
            ........
            ........
            Publisher().sendMessage("update", info)
        time.sleep(0.1)

class InfoPanel(wx.Panel):
    def __init__(self, parent):
        .......

        self.browser= webview.WebView.New(self)
        publisher.subscribe(self.updateDisplay)

        ......

    def updateDisplay(self, msg):
        t = msg.data
        page = "<html><body>"+"%s"%t+"</body></html>"
        self.browser.SetPage("%s"%t)

class MyApp(wx.App):
    def OnInit(self):
        self.infoFrame=InfoFrame()       
        self.SetTopWindow(self.infoFrame)
        self.infoFrame.Show(True)    
        return True

    def OnExit(self):
        wx.Exit()

#----------------------------------------------------------------------
if __name__ == "__main__":
    app = MyApp(False)
    app.MainLoop() 
```

但它显示错误：

NotimpementedError：没有匹配的函数 fo overoaded 'WebView_SetPage'

感谢您的时间，任何建议都非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-29T13:12:27.183

根据 docs`SetPage`函数需要两个参数。

来自`html2.py`：

> SetPage(self, String html, String baseUrl)
> SetPage(self, InputStream html, String baseUrl)

来自[http://docs.wxwidgets.org/trunk/classwx_web_view.html](http://docs.wxwidgets.org/trunk/classwx_web_view.html)：

> `html`- 包含要显示的 HTML 数据的字符串。
> `baseUrl`- 分配给 HTML 数据的 URL，例如用于解析相对路径。

只是您可以将第二个留空。

```
import wx
import wx.html2

class AppFrame(wx.Frame):
    def __init__(self, parent):
        super(AppFrame, self).__init__(parent)

        self.html_view = wx.html2.WebView.New(self)

        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(self.html_view, 1, wx.EXPAND)
        self.SetSizer(sizer)

if __name__ == '__main__':
    app = wx.App()

    frame = AppFrame(None)
    frame.html_view.SetPage("<html><body>Hello World</body></html>", "")
    frame.Show()
    app.MainLoop() 
```

# java - JDBC-Mysql Amazon EC2 连接

> ID：13428077
> 
> 赞同：2
> 
> 时间：2012-11-17T05:45:50.600
> 
> 标签：java, jdbc, amazon-ec2

我是服务器和数据库的新手。我一直在尝试测试一个连接、读取和修改托管在亚马逊 ec2 上的 Mysql 数据库的 Java 应用程序。

```
System.out.println("-------- MySQL JDBC Connection Testing ------------");
    String DNS = "MYDNS";
            String myDBname = "DBNAMe"
            String MYSQLUSER = "USER";
            String MYSQLPW = "PW";
    try {

        Class.forName("com.mysql.jdbc.Driver");

    } catch (ClassNotFoundException e) {

        System.out.println("Where is your MySQL JDBC Driver?");
        e.printStackTrace();
        return;

    }

    System.out.println("MySQL JDBC Driver Registered!");
    Connection connection = null;

    try {
        connection = DriverManager.getConnection("jdbc:mysql://" +DNS+@"/"+myDBname, MYSQLUSER, MYSQLPASS)

    } catch (SQLException e) {
        System.out.println("Connection Failed! Check output console");
        currentDir = "broke";
    }

    if (connection != null) {
        System.out.println("You made it, take control your database now!");
    } else {
        System.out.println("Failed to make connection!");
    } 
```

问题是，尽管能够通过 Mysql 工作台使用凭据进行连接，将 3306 添加到我的安全组，将 0.0.0.0 绑定到 mysql 配置，但我仍然无法建立连接（在对其他类似问题进行了一些搜索之后所以）

任何人都知道什么可能是错的？我尝试了 getConnection() 参数的许多变体。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T06:03:32.950

`connection = DriverManager.getConnection("jdbc:mysql://username@ec2-host/myDBname, MYSQLUSER, MYSQLPASS)`

# java - 数据报套接字未接收

> ID：13428088
> 
> 赞同：1
> 
> 时间：2012-11-17T05:47:44.773
> 
> 标签：java, sockets, datagram

我在这里有一个服务器-客户端基础，但似乎当服务器和客户端握手时，我可以让服务器将消息发送回客户端。

这是服务器端

```
 package me.game.net;

import java.io.IOException;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;
import java.net.SocketException;
import java.net.SocketTimeoutException;
import java.util.ArrayList;
import java.util.List;

import me.game.WorldOfTrade;

public class NetServerHandler implements Runnable {

    public static final int max_packet_size = 512;
    public static final int max_clients = 5;

    DatagramSocket socket;

    List<DatagramSocket> connectedClients;

    public NetServerHandler(short port) {
        try {
            socket = new DatagramSocket(port);
            connectedClients = new ArrayList<DatagramSocket>();
        } catch (SocketException e) {
            System.out.println("Failed to initialize the server...");
            e.printStackTrace();
        }
    }

    public boolean handlePacket(byte[] pck, InetAddress add) throws IOException{
        String str = new String(pck);
        str = str.trim();
        if(str.equalsIgnoreCase("ping")){
            System.out.println("Client ==>> Us: ping");
            sendPacket(easyPacket("pong").getData(), add);
            return true;
        }

        return false;
    }

    public DatagramPacket easyPacket(String buffer){
        byte[] buff = buffer.getBytes();
        return new DatagramPacket(buff, buff.length);
    }

    public void run() {
        System.out.println("Running server!");
        new Thread(new Runnable() {

            @Override
            public void run() {
                while(WorldOfTrade.isRunning){
                DatagramPacket pck = new DatagramPacket(new byte[max_packet_size], max_packet_size);

                try {
                    socket.setSoTimeout(200);
                    socket.receive(pck);
                    DatagramSocket newSocket = new DatagramSocket();
                    newSocket.connect(pck.getAddress(), 25565);
                    if(connectedClients.size() > 0){
                        continue;
                    }

                    connectedClients.add(newSocket);
                    System.out.println("Found new client! "+new String(pck.getData()));
                    sendPacket(easyPacket("pong").getData(), pck.getAddress());
                } catch (IOException e) {
                    if(!(e instanceof SocketTimeoutException)){
                        e.printStackTrace();
                    }
                }

            }
            }
            }
        ).start();
        while (WorldOfTrade.isRunning) {
            if(connectedClients.isEmpty()){
                continue;
            }
                int i = 0;
                    //System.out.println("Checking "+i);
                    DatagramSocket sck = socket;
                    DatagramPacket pck = new DatagramPacket(new byte[max_packet_size], max_packet_size);
                    try {
                        sck.setSoTimeout(0);
                        sck.receive(pck);
                    } catch (IOException e) {
                        if(e instanceof SocketTimeoutException){
                        }else{
                            e.printStackTrace();
                        }
                    }
                    try {
                        if(!handlePacket(pck.getData(), pck.getAddress())){
                            //sendPacket(easyPacket("pong").getData(), i);
                        }
                    } catch (IOException e) {
                        e.printStackTrace();
                    }

                }

        socket.close();
    }

    public void sendPacket(byte[] buffer, InetAddress add) throws IOException {
        if(buffer.length > max_packet_size){
            System.out.println("Couldnt send packet because it was to big!");
            return;
        }
        DatagramPacket pck = new DatagramPacket(buffer, buffer.length, add, 25565);
        System.out.println("Sending packet to "+add.getHostAddress()+":"+25565);
        socket.connect(add, 25565);
        socket.send(pck);

    }

} 
```

这是客户端

```
package me.game.net;

import java.io.IOException;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;
import java.net.SocketException;
import java.net.SocketTimeoutException;
import java.net.UnknownHostException;

import me.game.WorldOfTrade;

public class NetHandler implements Runnable {

    DatagramSocket sck;

    public NetHandler(String connect){
        try {
            sck = new DatagramSocket();
            sck.connect(InetAddress.getByName(connect), (short)25565);
            sck.setSoTimeout(0);
        } catch (SocketException | UnknownHostException e) {
            e.printStackTrace();
        }
    }

    public boolean handlePacket(byte[] pck) throws IOException{
        String str = new String(pck);
        str = str.trim();
        System.out.println("Recieved Packet: "+str);
        if(str.equalsIgnoreCase("pong")){
            System.out.println("Server ==>> Us : pong");
            return true;
        }
        System.out.println("!");
        return false;
    }

    public DatagramPacket easyPacket(String buffer){
        byte[] buff = buffer.getBytes();
        return new DatagramPacket(buff, buff.length);
    }

    public void run() {
        System.out.println("Running client connector!");
        boolean timedOut = false;

        try {
            sendPacket(easyPacket("ping").getData(), sck);
        } catch (IOException e) {
            e.printStackTrace();
        }   
        int update = 0;
        while (WorldOfTrade.isRunning) {
            if(WorldOfTrade.frame == null){
                continue;
            }
            WorldOfTrade.frame.setTitle("Timed Out: "+timedOut);
            update++;
            if (update % 2 == 0) {
                try {
                    sendPacket(easyPacket("ping").getData(), sck);
                } catch (IOException e) {
                    e.printStackTrace();
                }   
            }else{
                DatagramPacket pck = new DatagramPacket(new byte[NetServerHandler.max_packet_size], NetServerHandler.max_packet_size);
                while(true){
                try {
                    //System.out.println("Client:  Listening for packet "+System.currentTimeMillis());
                    sck.setSoTimeout(500);
                    sck.receive(pck);
                    System.out.println(new String(pck.getData()));
                    handlePacket(pck.getData());
                    timedOut = false;
                    break;

                } catch (SocketTimeoutException e) {
//                  if(e instanceof SocketTimeoutException){
//                      timedOut = true;
//                      continue;
//                  }
                    try {
                        sendPacket(easyPacket("ping").getData(), sck);
                    } catch (IOException e1) {
                        e1.printStackTrace();
                    }   
                } catch (SocketException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                }

            }
        }
        sck.close();
    }

    public void sendPacket(byte[] buffer, DatagramSocket sck) throws IOException {
        if(buffer.length > NetServerHandler.max_packet_size){
            System.out.println("Couldnt send packet because it was to big!");
            return;
        }
        DatagramPacket pck = new DatagramPacket(buffer, buffer.length, sck.getInetAddress(), 25565);

        sck.send(pck);

    }

} 
```

# scheme - 如何使评估在定义上起作用？

> ID：13428091
> 
> 赞同：0
> 
> 时间：2012-11-17T05:48:10.050
> 
> 标签：scheme, racket

*我发布了一些其他简单的代码，以澄清发生了什么*

当我使用`eval`以下代码时

```
#lang racket
(define (test )
   `( (define num 1)
    (define l (list))
    (define num2 (add1 num))
      (displayln num2))) 

(eval (test) (make-base-namespace)) 
```

球拍对我尖叫`define-values: not in a definition context in: (define-values (num) 1)`

我的问题是：

*   如何进行`eval`定义工作？
*   如果`eval`不是为处理定义而设计的，那么是否有一些解决方法可以使它起作用？

我很感激任何帮助！

*我认为这可能是我想在这里做的事情的另一种方法：[如何将表达式列表解拼接到代码中？](https://stackoverflow.com/questions/13427979/how-can-i-unsplice-a-list-of-expression-into-code)*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T21:48:45.140

这是一个例子：

```
#lang racket
(define ns (make-base-namespace))
(define top-level-expressions
  '(begin 
     (define x 3)
     (+ x 1)))

(eval top-level-expressions ns) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T09:08:51.830

正如球拍告诉你的那样，`eval`需要一个表达式作为参数。你应该传递`'(define len (make-length 10))`给`eval`. 注意引号符号`'`。

但我不确定你是否真的需要这样做，请先阅读一下目的和缺陷[`eval`](https://stackoverflow.com/questions/2571401/why-exactly-is-eval-evil)。

# php - result.success ajax 调用失败

> ID：13428094
> 
> 赞同：2
> 
> 时间：2012-11-17T05:48:32.280
> 
> 标签：php, ajax, json

我的代码运行良好，但在成功调用时失败。在 ajax 部分“if (result.success){”上，它在浏览器源选项卡中显示错误，结果为空。

**登录页面**：

```
<form id="login_form_header">
    <input type="hidden" name="action" value="sc_ajax_callback" />
    <input type="hidden" name="func" value="sc_login" />

    Email:
    <input type="text" name="username" />

    Password:
    <input type="password" name="password"/>

    <input type="submit" value="Log in" />
</form>
<script>
$("#login_form_header").submit(function(event){

    event.preventDefault();

    $.ajax({
        type: 'post',
        url: '<?php echo get_stylesheet_directory_uri(); ?>/connect.php',
        data: $('#login_form_header').serialize(),
        dataType: 'json',
        success: function(result){
            if (result.success){
                window.location = "my-dashboard/";
                return false;
            };
        },
        error: function(e){console.log("Could not retrieve login information")}
    });

    return false;
});
</script> 
```

**连接页面**：

```
<?php 

    mysql_connect("localhost", "%user%", "%pass%") or die(mysql_error()); // Connect to database server(localhost) with username and password.
    mysql_select_db("%db%") or die(mysql_error()); // Select registration database.
    # Make sure form data was passed to the script
    if(isset($_POST['username']) && !empty($_POST['username']) AND isset($_POST['password']) && !empty($_POST['password'])){

    # Define Variables
    $active_var = "1";
    $given_username = mysql_escape_string($_POST['username']);
    $given_password = dosomethingtopass;
    $matched_username = "";
    $matched_password = "";

     # See if there is matching info in the database
    $sql = 'SELECT username, password, active FROM %table% WHERE username="'.$given_username.'" AND password="'.$given_password.'" AND active="'.$active_var.'"'; 
    $result = mysql_query($sql);
    while($row = mysql_fetch_assoc($result)){
    if($given_password == $row['password']){
        $matched_username = $row['username'];
        $matched_password = $row['password'];
        }
    };

    # If there was a match 
    if($matched_username != "" && $matched_password != ""){
        #If there is only one result returned
        echo json_encode(array("$matched_password"));
        $session_sql = 'SELECT id, username, password, last_login FROM %table% WHERE username="'.$matched_username.'" AND password="'.$matched_password.'"';
        $session_result = mysql_query($session_sql);
        while($returned_row = mysql_fetch_assoc($session_result)){
            if($matched_password == $returned_row['password']){ 

            $_SESSION['id'] = $returned_row['id'];
            //$_SESSION['last_login'] = $returned_row['last_login'];
            $_SESSION['username'] = $returned_row['username'];
                }
             }

            $date = date('Y-m-d H:i:s');
            $update_sql = "UPDATE %table% SET last_login='".$date."'";
            mysql_query($update_sql);

        echo json_encode(array("success"=>"user logged in", "session"=>$_SESSION));
        }
    }

?> 
```

此外，update_sql 正在更新我表中的每一行，这有点奇怪。不知道我哪里出错了有什么帮助吗？

编辑：

更新

```
 $.ajax({
        type: 'post',
        url: '<?php echo get_stylesheet_directory_uri(); ?>/connect.php',
        data: $('#login_form_header').serialize(),
        dataType: 'json',
        success: function(result){

                window.location = "my-dashboard/";

            };
        },
        error: function(e){console.log("Could not retrieve login information")}
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T05:55:02.587

试试这个：

`success: function(result){ window.location = "my-dashboard/"; }`

因为这个函数调用成功的结果。第一个参数是来自服务器答案的数据。这不是对象。您可以在那里找到详细信息：http: [//api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T06:10:37.403

```
success: function(result){
            if (result.success){
                window.location = "my-dashboard/";
                return false;
            }; 
```

改成

```
success: function(result){                    
                    window.location = "my-dashboard/";                     
                } 
```

`result`这是服务器发送的数据，而不是对象。

* * *

> **update_sql 也在更新我表中的每一行有点奇怪**

这是因为您的查询中没有`WHERE`子句。`UPDATE`

*从文档中：*

> WHERE 子句（如果给定）指定标识要更新哪些行的条件。如果没有 WHERE 子句，**所有行都会更新。**

更多信息[**在这里**](http://dev.mysql.com/doc/refman/5.0/en/update.html)

**更新后编辑**

你有一个额外的`};`。

改变

```
success: function(result){

                window.location = "my-dashboard/";

            };
        }, 
```

至

```
success: function(result){

                window.location = "my-dashboard/";

        }, 
```

有几点值得一提：

*   弃用通知：jqXHR.success()、jqXHR.error() 和 jqXHR.complete() 回调将在 jQuery 1.8 中弃用。要为最终删除准备代码，请改用 jqXHR.done()、jqXHR.fail() 和 jqXHR.always()。

*   mysql_* 函数已被弃用。请改用 PDO。

# jquery - 工具按钮、工具栏和工具目标（拖放克隆）

> ID：13428096
> 
> 赞同：1
> 
> 时间：2012-11-17T05:48:53.787
> 
> 标签：jquery, jquery-ui-draggable, jquery-ui-droppable

已经看过这样的例子：http: [//jsfiddle.net/andrewwhitaker/t97FE/light/](http://jsfiddle.net/andrewwhitaker/t97FE/light/)和其他人试图结合几个部分，但没有任何成功。

我正在尝试实现一个工具栏，该工具栏使用将从数据库中存储和检索的克隆在目标上创建多个副本（克隆）

```
<style>
.toolbutton { width: 20px; height: 20px; padding: 0px; float: left; margin: 0 2px 2px 0;text-align:center;cursor:pointer}
#tooltarget { width:200px; height:100px; border:2px solid #ccc; padding: 1px; }
#toolbar {width:200px;height: 22px; margin:0px 0px 0px 0px;border:2px solid #ccc;padding: 2px 2px 2px 2px;}
</style>
<script>
    $(function() {
    $( "#btn_a" ).draggable({revert:'invalid',helper:"clone"});
    $( "#btn_b" ).draggable({revert:'invalid',helper:"clone"});
    $( "#btn_c" ).draggable({revert:'invalid',helper:"clone"});
    $('#tooltarget').droppable({
        accept:'.toolbutton',
        drop: function(event,ui){
            $(this).append($(ui.draggable).clone());
            $('#tooltarget .toolbutton').addClass('target-item');
            $(".target-item").draggable({containment: 'parent'});
        }
    }); 
});
</script>
</head>
<body>
 <div id="toolbar">
    <div id="btn_a" class="toolbutton ui-widget-content">A</div>
    <div id="btn_b" class="toolbutton ui-widget-content">B</div>
    <div id="btn_c" class="toolbutton ui-widget-content">C</div>
</div>

 <div id="tooltarget">
 </div> 
```

# ruby-on-rails - 关于使用回形针 gem 上传视频

> ID：13428097
> 
> 赞同：1
> 
> 时间：2012-11-17T05:49:01.713
> 
> 标签：ruby-on-rails

我只有一个小要求。我正在使用回形针上传视频。我正在使用 Rails 3.2.6 版本。我遵循了我们用于正常图像上传的相同过程。它将我的视频保存到我在 model.rb 文件中提到的路径。但该视频未显示在 show.erb 中。如果将相同的 URL 放在新标签中，我可以加载我的视频。但不在同一页面中。我不知道我哪里出错了。

在我的 model.rb 文件中，

```
class Product < ActiveRecord::Base 

  attr_accessible :description, :name, :price,:video

  has_attached_file :video,
                :url => "#{Rails.root}/app/assets/images/:basename.:extension",
                :path => "#{Rails.root}/app/assets/images/products/:id/:style/:basename.:extension" 

end 
```

在我的 show.html.erb 中，

```
video_tag @product.video.url 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-18T15:01:45.780

尝试使用[video_path](http://apidock.com/rails/ActionView/Helpers/AssetTagHelper/video_path)而不是 video_tag。

* * *

这也是我自己在自己的网站上执行此操作的方法：

1 - 创建一个名为的部分`_video.html.erb`（我实际上使用slim，但如果您愿意，erb 会这样做）并将其放在诸如views/shared之类的文件夹中，然后将以下代码放入其中：

```
<iframe width="490" height="275" src="<%= url %>" frameborder="0" allowfullscreen></iframe> 
```

2 将以下方法添加到`application_helper.rb`

```
module ApplicationHelper
  # this method will embed the code from the partial
  def show_video(url)
    render :partial => 'shared/video', :locals => { :url => url }
  end 
end 
```

3 - 现在只需在您的视图中调用它：

```
<%= show_video @product.video.url   %> 
```

这对我来说没问题

# javascript - jsp页面中如何动态更改标签框的文字？

> ID：13428100
> 
> 赞同：1
> 
> 时间：2012-11-17T05:49:16.110
> 
> 标签：javascript, java, jsp, jakarta-ee, dom-events

在我的 jsp 页面中，我有一个按钮和一个标签。页面加载时，标签框的文本为“Test”。假设，用户单击按钮，然后我必须将标签的文本更改为“已测试”。

我是 Jsp 的新手。所以，请指导我摆脱这个问题......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T05:52:15.407

您首先需要为您的按钮设置一个侦听器，例如我们的标记如下：

```
<button id='btn'>test it</button>
<span id='label'>Test</span> 
```

我们可以选择按钮元素，并设置它的 onclick 属性：

```
document.getElementById('btn').onclick = test 
```

然后我们可以定义一个函数调用`test`来切换标签：

```
function test(){
 document.getElementById('label').innerHTML = 'Tested';
} 
```

就是这样！

这是一个演示此代码的[jsfiddle 。](http://jsfiddle.net/zNcNy/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T05:54:36.457

```
 <script type="text/javascript">
function fnc()
{
    document.getElementById("atext").innerHTML="tested";
}
</script>

<label id="atext">test</label>
<input type="button" onClick="fnc()" value="click me"> 
```

# php - 如何使用 PHP 添加动态文本框（行）并保存到数据库

> ID：13428103
> 
> 赞同：3
> 
> 时间：2012-11-17T05:49:50.177
> 
> 标签：php, javascript, mysql

我在这里有我的 Javascript 代码，它添加了动态文本框（行）我的问题是如何使用 PHP 脚本将动态文本框中的值保存到数据库中？希望你们能帮助我。谢谢！

```
<script type="text/JavaScript"> 
  function addRow(r){ 
  var root = r.parentNode;//the root 
  var allRows = root.getElementsByTagName('tr');//the rows' collection 
  var cRow = allRows[0].cloneNode(true)//the clone of the 1st row 
  var cInp = cRow.getElementsByTagName('input');//the inputs' collection of the 1st row 
  for(var i=0;i<cInp.length;i++){//changes the inputs' names (indexes the names) 
  cInp[i].setAttribute('name',cInp[i].getAttribute('name')+'_'+(allRows.length+1)) 
  } 
  root.appendChild(cRow);
  } 
  function shownames(){ 
  var allInp=document.getElementsByTagName('input'); 
  for(var i=0;i<allInp.length;i++){ 
  alert(allInp[i].name) 
  } 
  } 
  </script> 
```

我的 HTML 代码：

```
 <form method="POST" action="#"> <table width="1024" border="0" cellspacing="6" cellpadding="0"> <tr>
      <td width="195"><div class="user"><input type="text" name="user_a" id="user"  tabindex="6"/></div></td> 
    <td width="410"><div class="reported"><input type="text" name="user_b" id="reported" tabindex="7"/></div></td> 
    <td width="399"><div class="reported"><input type="text" name="user_c" id="reported" tabindex="8"/></div></td> 
    <td width="10"><input name="button" type="button" value="+" onclick="addRow(this.parentNode.parentNode)"></td> </tr> </table> </form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:04:34.770

您必须只使用动态添加的文本框的名称。

```
 $('form').submit(function() {
 var data=($(this).serialize());
 return false;
 }); 
```

此函数获取所有元素值并创建一个存储在数据中的字符串，现在数据将通过 ajax 调用传递。

```
$('form').submit(function() {
 var data=($(this).serialize());
      $.ajax({
      type: "POST",
      url: "your_some.php",
      data: data,
      }).done(function( msg ) {
      alert( "Data Saved: " + msg );
     });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T06:10:41.287

```
<html>
<head>
<title>Dynamic Form</title>
<script language="javascript">
<?php $i = 1; ?>
function changeIt()
{
    //alert(i);
    //var i = 1;

my_div.innerHTML = my_div.innerHTML +"<br><input type='text' name='mytext[<?php echo $i;?>]'><input type='text' name='mytext[<?php echo $i+1;?>]'><input type='text' name='mytext[<?php echo $i+2;?>]'><br>";
<?php $i = $i+3; ?>
}
</script>
</head>
<body>

<form name="form" action="http://localhost/try.php" method="post">
<!--<input type="text" name=t1>-->
<input type="button" value="test" onClick="changeIt()">
<div id="my_div"></div>
<p class="submit"><button type="submit">Register</button></p>       
</body> 
```

try.php（这是您将捕获值然后插入到 sql 中的文件）

```
<?php
    $var = $_POST['mytext'];
    echo $var[1].$var[2];
     ?> 
```

# java - 屏幕键盘 gui 不起作用

> ID：13428104
> 
> 赞同：2
> 
> 时间：2012-11-17T05:49:56.397
> 
> 标签：java, swing, jbutton, grid-layout, border-layout

我正在尝试在顶部显示 textarea 并在其下方显示键盘键，但是当我运行此代码时，整个事情都是混合的。我做错了什么，我该如何解决？这是代码：

```
public Keyboard()
{
    super("Typing Tutor");

    pane1= new JPanel();
    pane2= new JPanel();
    pane3= new JPanel();
    pane4= new JPanel();
    pane5= new JPanel();
    pane6= new JPanel();

    glayout= new GridLayout(5,14);
    text= new JTextArea(770,300);

    text.setFocusable(true);

    Handler = new HandlerClass();

    pane1.add(text);

    setLayout(glayout);

    but= new JButton[57];

    AssignLettersToButtons();

    text.addKeyListener(Handler);

    add(pane1,BorderLayout.NORTH);
    add(pane2);
    add(pane3);
    add(pane4);
    add(pane5);
    add(pane6);

}

private void AssignLettersToButtons()
{       
    for(int i=0;i<names.length;i++)
    {
        if(i<14)
        {
            but[i]=new JButton(names[i]);
            pane1.add(but[i]);
        }
  } 
```

![在此处输入图像描述](../Images/70b39a16d7fbd19df72be9192ba245f3.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T06:42:15.273

设计它可能需要至少 3 个面板。如下所示![在此处输入图像描述](../Images/18581db7c8dca9e74e577096cd25691b.png)

# javascript - 切换侧边栏一次，在块之间切换并关闭

> ID：13428107
> 
> 赞同：1
> 
> 时间：2012-11-17T05:51:08.497
> 
> 标签：javascript, jquery

我需要一些帮助。HTML

```
<div class="sidebar">
<ul>
    <li>
        <a href="{{URL::to('artworks')}}" class="action-link discover">
        <span class="action-icon discover-icon"></span>
        <span class="action-label">Discover</span></a>
    </li>
    <li>
        <a class="action-link viewlist disabled showlink">
        <span class="action-icon collection-icon"></span>
        <span class="action-label">ViewList</span></a>
    </li>
    <li>
        <a class="action-link filters showlink">
        <span class="action-icon filter-icon"></span>
        <span class="action-label">Filters</span></a>
    </li>
    <li>
        <a class="action-link share showlink">
        <span class="action-icon share-icon"></span>
        <span class="action-label">Share</span></a>
    </li>
</ul>
<div class="sidebar-content">
<div class="watchlist-content">
<h2>Watchlist</h2>
<ul>
    <li class="facebook"><a href="#"><span class="icon"></span></a></li>
    <li class="twitter"><a href="#"><span class="icon"></span></a></li>
    <li class="pinterest"><a href="#"><span class="icon"></span></a></li>
    <li class="google"><a href="#"><span class="icon"></span></a></li>
</ul>
</div>
<div class="share-content">
<h2>Share</h2>
<ul>
     <li class="facebook"><a href="#"><span class="icon"></span>Facebook</a></li>
     <li class="twitter"><a href="#"><span class="icon"></span>Twitter</a></li>
     <li class="pinterest"><a href="#"><span class="icon"></span>Pinterest</a></li>
     <li class="google"><a href="#"><span class="icon"></span>Google+</a></li>
</ul>
</div>
<div class="filters-content">
<h2>Filters</h2>
<ul class="core">
     <li class="cat-icon"><a href="list.html"><span class="icon"></span>Categories</a></li>
     <li class="artists-icon"><a href="artist.html"><span class="icon"></span>Artists</a></li>
     <li class="style-icon"><a><span class="icon"></span>Styles</a></li>
</ul>
</div>
</div> 
```

还有我写得不好的 Jquery

```
$('.filters').toggle(
    function(){
        if($('.share-content').is(':visible'))
            {
            $('.share-content').hide();
            $('.filters-content').show();
            }
        else{
            $('.filters-content').css({'display': 'block'}, {queue:false});
            $('.sidebar').stop().animate({left:'255px'}, {duration: 300, queue:false});
            $('.content-with-list').children().stop().animate({'margin-left':'255px'}, {duration: 300, queue:false});
            }
    },
    function()
    {
            $('.sidebar').stop().animate({left:'0'}, {duration: 300, queue:false});
            $('.content-with-list').children().stop().animate({'margin-left':'0'}, {duration: 300, queue:false});
    });

    $('.share').toggle(
    function()
    {
        if($('.filters-content').is(':visible'))
            {
            $('.filters-content').hide();
            $('.share-content').show();
            }
        else{
            $('.share-content').css({'display': 'block'}, {queue:false});
            $('.sidebar').stop().animate({left:'255px'}, {duration: 300, queue:false});
            $('.content-with-list').children().stop().animate({'margin-left':'255px'}, {duration: 300, queue:false});
            }
    },
    function()
    {
        $('.sidebar').stop().animate({left:'0'}, {duration: 300, queue:false});
        $('.content-with-list').children().stop().animate({'margin-left':'0'}, {duration: 300, queue:false});
    }); 
```

因此，即使代码看起来很糟糕，它也适用于两个块，但现在我需要添加第三个块，而我被困在这个块上。我真的很想知道如何制作重复很少的代码并只打开侧边栏在内容之间切换一次，如果单击了相同的链接，则关闭侧边栏。

提前感谢您的耐心等待。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T06:16:20.387

## *[jsBin 演示](http://jsbin.com/awezim/2/edit)*

```
$('.sidebar li').click(function() {
    var el = $('.sidebar-content > div').eq( $(this).index() );
    check = el.is(':visible') ? el.hide() : ($('.sidebar-content > div').hide()) (el.show());
}); 
```

# python - 如何在 Python 中将字符串标准化为日期时间格式

> ID：13428113
> 
> 赞同：3
> 
> 时间：2012-11-17T05:53:15.373
> 
> 标签：python, datetime

我想将日期字符串转换为 python 日期时间格式。字符串如下：

```
Mon, 26 Dec 2011 20:42:08 +0200
Sat, 24 Dec 2011 16:28:59 +0200 
```

有没有更快的方法在不使用 pytz API 的情况下将字符串转换为 python 日期时间格式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T05:59:11.540

```
>>> import datetime
>>> s = "Mon, 26 Dec 2011 20:42:08 +0200"
>>> t = datetime.datetime.strptime(s, "%a, %d %b %Y %H:%M:%S %z")
>>> t
datetime.datetime(2011, 12, 26, 20, 42, 8, tzinfo=datetime.timezone(datetime.timedelta(0, 7200))) 
```

有关日期时间占位符的完整列表，请参阅[文档。](http://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T10:24:49.343

这是适用于 Python 2.5+、PyPy、Jython 的变体：

```
from datetime import datetime, timedelta
from email.utils import mktime_tz, parsedate_tz

s = "Mon, 26 Dec 2011 20:42:08 +0200"
t = parsedate_tz(s)
if t[9] is not None:
    utc_offset = timedelta(seconds=t[9])  # local = utc + offset
    print("utc offset: %s" % (utc_offset,))
print(repr(datetime.utcfromtimestamp(mktime_tz(t))))  # naive datetime in UTC 
```

### 输出

```
utc offset: 2:00:00  
datetime.datetime(2011, 12, 26, 18, 42, 8) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-01-12T04:33:01.467

试试这个？假设输入 2016-01-02 并且您想要标准化所有日期。

```
def NormalizaData(input):
 input = str(input)
 num = input.split('-')
 year = num[0]
 newnum = num[1]
 num = newnum.split('-')
 month = num[0]
 day = '01'
 return (year + '-' + month + '-' + day) 
```

# php - 发布索引时出现 PHP 错误

> ID：13428120
> 
> 赞同：1
> 
> 时间：2012-11-17T05:55:23.263
> 
> 标签：php, indexing

你能帮我解决这个问题吗？我一直在尝试在文本框中发布内容并尝试使用 PHP 'echo' 显示它，但它一直显示“未定义的索引”并且文本框的内容没有发布。这是代码：

```
<?php

if (isset($_POST['updateaccount'])) {

$accountType = $_POST['typeBox'];

echo $accountType;
}
?>
<form method="POST" action="<?php echo $_SERVER['PHP_SELF'];?>">
<table>
<tr>
    <td><strong>Account Type<strong></td>
    <td><input type="text" name="typeBox" value="This is a test." disabled="true"></td>
</tr>
<tr>
    <td></td>
    <td><input type="submit" name="updateaccount" value="Update Account"></td>
</tr>
</table>
</form> 
```

每当我尝试提交表单时，它都会说：

注意：未定义索引：第 5 行 C:\xampp\htdocs\cel1rcfc\test.php 中的 typeBox

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T05:57:59.913

因为您设置了属性`disabled="true"`，所以禁用的输入元素将不会发布到服务器端。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T05:58:35.610

您已将输入标记为“已禁用”：

```
<input type="text" name="typeBox" value="This is a test." disabled="true"> 
```

所以它没有被提交。但是，提交按钮 ( `updateaccount`) 已启用，因此您在顶部的检查通过了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:28:02.307

您应该删除该属性`disabled="true"`以使其正常工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T06:05:34.410

这是因为你已经设置了`disabled="true"`文本框删除的属性`disabled="true"`以获得你想要的结果。

像这样

```
<input type="text" name="typeBox" value="This is a test" /> 
```

# algorithm - Haskell找到两个最近点之间的距离

> ID：13428125
> 
> 赞同：6
> 
> 时间：2012-11-17T05:56:14.820
> 
> 标签：algorithm, haskell, functional-programming, hugs, closest-points

给定二维空间中的点列表，您想在 Haskell 中执行一个函数来查找两个最近点之间的距离。示例：输入：项目 [(1,5), (3,4), (2,8), (-1,2), (-8.6), (7.0), (1.5), (5.5), (4.8 ), (7.4)] 输出：2.0

假设列表中最远的两个点之间的距离最多为 10000。

这是我的代码：

```
import Data.List
import System.Random

sort_ :: Ord a => [a] -> [a]
sort_ []    =  []
sort_ [x]  =  [x]
sort_ xs   =  merge (sort_ left) (sort_ right)
  where
    (left, right) = splitAt (length xs `div` 2) xs
    merge [] xs = xs
    merge xs [] = xs
    merge (x:xs) (y:ys)=
    if x <= y then 
        x : merge xs (y:ys)
    else  y : merge (x:xs) ys     

project :: [(Float,Float)] -> Float
project [] = 0
project (x:xs)=
    if null (xs) then 
        error "The list have only 1 point"
    else head(sort_(dstList(x:xs)))

distance :: (Float,Float)->(Float,Float) -> Float
distance (x1,y1) (x2,y2) = sqrt((x1 - x2)^2 + (y1 - y2)^2)

dstList :: [(Float,Float)] -> [Float]
dstList (x:xs)=
    if length xs == 1 then 
        (dstBetween x xs):[]
    else (dstBetween x xs):(dstList xs)

dstBetween :: (Float,Float) -> [(Float,Float)] -> Float
dstBetween pnt (x:xs)=
    if null (xs) then 
        distance pnt x
    else  minimum ((distance pnt ):((dstBetween pnt xs)):[])

{-
Calling generator to create a file created at random points
-}
generator = do
    putStrLn "Enter File Name"
    file <- getLine
    g <- newStdGen
    let pts = take 1000 . unfoldr (Just . (\([a,b],c)->((a,b),c)) . splitAt 2) 
                $ randomRs(-1,1) g :: [(Float,Float)]
    writeFile file . show $ pts

{-
Call the main to read a file and pass it to the function of project
The function of the project should keep the name 'project' as described 
in the statement
-}
main= do
    putStrLn "Enter filename to read"
    name <- getLine
    file <- readFile name
    putStrLn . show . project $ readA file

readA::String->[(Float,Float)]
readA = read 
```

我可以像示例中那样运行程序，也可以使用生成器，如下所示：

在 haskell 解释器中必须输入“生成器”，程序将在此处询问包含一千个点的文件名。并且在Haskell解释器中生成文件后必须写main，并请求一个文件名，这是你用“generator”创建的文件的名称。

问题是我的程序随机生成 1000 个点需要很长时间，在双核处理器的计算机上大约需要 3 分钟。我究竟做错了什么？如何优化我的代码以更快地工作？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-17T08:14:15.100

您正在使用二次算法：

```
project []  = error "Empty list of points"
project [_] = error "Single point is given"
project ps  = go 10000 ps
  where
    go a [_]    = a
    go a (p:ps) = let a2 = min a $ minimum [distance p q | q<-ps]
                  in a2 `seq` go a2 ps 
```

您应该使用更好的算法。[在 SO 上搜索计算几何标签](https://stackoverflow.com/search?q=%5Bcomputational-geometry%5D+closest+points)以获得更好的算法。

另请参阅[http://en.wikipedia.org/wiki/Closest_pair_of_points_problem](http://en.wikipedia.org/wiki/Closest_pair_of_points_problem)。

* * *

[@maxtaldykin 对算法提出](https://stackoverflow.com/a/13430171/849891)`d`了一个不错、简单且有效的更改，这应该对随机数据产生真正的影响——按 X 坐标预先对点进行排序，并且永远不要尝试在 X 坐标中距离当前点超过单位的点（其中`d`是当前已知的最小距离）：

```
import Data.Ord (comparing)
import Data.List (sortBy)

project2 ps@(_:_:_) = go 10000 p1 t 
  where
    (p1:t) = sortBy (comparing fst) ps
    go d _         [] = d
    go d p1@(x1,_) t  = g2 d t
      where
        g2 d []          = go d (head t) (tail t)
        g2 d (p2@(x2,_):r)
           | x2-x1 >= d  = go d (head t) (tail t)
           | d2 >= d     = g2 d  r
           | otherwise   = g2 d2 r   -- change it "mid-flight"
               where
                 d2 = distance p1 p2 
```

在随机数据上，`g2`将`O(1)`及时工作，这样整个事情`go`就会`O(n)`受到一个排序的限制，`~ n log n`.

`~ n^2.1`第一个代码（在 1k/2k 范围内）和第二个代码（在 10k/20k 范围内）的[经验增长顺序](http://en.wikipedia.org/wiki/Analysis_of_algorithms#Empirical_orders_of_growth)显示`~n^1.1`，测试它快速编译加载到 GHCi 中（第二个代码运行速度比第一个代码快 50 倍） 2,000 点，3,000 点快 80 倍）。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-17T11:34:51.743

可以稍微修改您的蛮力搜索以获得更好的随机数据性能。

主要思想是按 x 坐标对点进行排序，并且在比较循环中的距离时，只考虑*水平*距离不大于当前最小距离的点。

这可能要快一个数量级，但在最坏的情况下，它仍然是*O(n^2)*。
实际上，在我的机器上，在 2000 点上它快 50 倍。

```
project points = loop1 10000 byX
  where
    -- sort points by x coordinate
    --  (you need import Data.Ord to use `comparing`)
    byX = sortBy (comparing fst) points

    -- loop through all points from left to right
    -- threading `d` through iterations as a minimum distance so far
    loop1 d = foldl' loop2 d . tails

    -- `tail` drops leftmost points one by one so `x` is moving from left to right
    -- and `xs` contains all points to the right of `x`
    loop2 d [] = d
    loop2 d (x:xs) = let
        -- we take only those points of `xs` whose horizontal distance
        -- is not greater than current minimum distance
        xs' = takeWhile ((<=d) . distanceX x) xs
        distanceX (a,_) (b,_) = b - a

        -- then just get minimum distance from `x` to those `xs'`
      in minimum $ d : map (distance x) xs' 
```

顺便说一句，请不要使用这么多括号。Haskell 不需要包含函数参数。

# c++ - 根据少数规则随机选择枚举值

> ID：13428135
> 
> 赞同：0
> 
> 时间：2012-11-17T05:58:03.393
> 
> 标签：c++, random, enums, switch-statement

请看下面的代码

```
#include <iostream>
#include <stdlib.h>

using namespace std;

int main()
{
    enum Movement{STAND,WALK,RUN,CRAWL};

    Movement state = (Movement)(1+rand()%4);

    for(int i=0;i<100;i++)
    {

    cout << state << endl;

    switch(state)
    {
        case STAND: 
            cout << "You can walk or crawl" << endl;        
            while(state==WALK || state==CRAWL){
            state = (Movement)(1+rand()%4);}
            break;

        case WALK: 
            cout << "You can stand or run" << endl;
            while(state==STAND || state==RUN){
            state = (Movement)(1+rand()%4);}
            break;

        case RUN: 
            cout << "You can walk" << endl;
            while(state==WALK){
            state = (Movement)(1+rand()%4);}
            break;

        default: 
            cout << "You can stand" << endl;
            while(state==STAND){
            state = (Movement)(1+rand()%4);}

    }

    }
} 
```

在这里，规则很少。让我们称它们为合法过渡

1.  从站立，他可以走路或爬行
2.  从 Walk 开始，他可以站立或奔跑
3.  从Run，他可以走路
4.  从爬行，他可以站立

因此，在这里，是否应该随机选择合法转换。但是，它应该根据上面提供的规则。例如，如果选择了“STAND”，那么接下来要选择的应该是“WALK”或“CRAWL”。但正如你在这里看到的，所有的结果

```
2
You can walk 
```

这是为什么？请帮忙！

更新：

以下代码使用 do..while 循环，正如回复中所建议的那样

```
#include <iostream>
#include <stdlib.h>

using namespace std;

int main()
{
    enum Movement{STAND,WALK,RUN,CRAWL};

    Movement state = (Movement)(1+rand()%4);

    for(int i=0;i<10;i++)
    {

    cout << state;

    if(state==STAND)
    {
        cout << " STAND is selected" << endl;

    }
    else if(state==WALK)
    {
        cout << " WALK is selected" << endl;

    }
    else if(state==RUN)
    {
        cout << " RUN is selected" << endl;
    }
    else if(state==CRAWL)
    {
        cout << " CRAWL is selected" << endl;
    }

    switch(state)
    {
        case STAND: 
            //cout << "You can walk or crawl" << endl;        
            do{state = (Movement)(rand()%4);}
            while(state==WALK || state==CRAWL);

            break;

        case WALK: 
            //cout << "You can stand or run" << endl;
            do{state = (Movement)(rand()%4);}
            while(state==STAND || state==RUN);
            break;

        case RUN: 
            //cout << "You can walk" << endl;
            do{state = (Movement)(rand()%4);}
            while(state==WALK);
            break;

        default: 
            //cout << "You can stand" << endl;
            do{state = (Movement)(rand()%4);}
            while(state==STAND);

    }

    }
} 
```

它仍然是一样的。现在我得到不同的答案，但不是正确的！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:01:30.520

在 C 和 C++ 中，枚举默认从 0 开始。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T06:02:28.503

您的逻辑顺序错误；你的`while`循环都将被跳过，因为`state`它仍然是你输入特定的`case`. 您可以重写它们`do-while`以确保它们至少运行一次。

# python - Mac OSX 10.7.5 Reportlab上的Python，子模块的导入错误

> ID：13428141
> 
> 赞同：1
> 
> 时间：2012-11-17T05:58:36.157
> 
> 标签：python, macos, osx-lion, importerror, reportlab

Mac OS X 10.7.5 Python 2.7 报告实验室 2.6

尝试调用reportlab中的子模块时，我遇到了很好的导入错误：

```
> Traceback (most recent call last):   File "reportlab.py", line 1, in
> <module>
>     import reportlab   File "/Users/maggielee/Documents/pythons/reportlab.py", line 2, in <module>
>     from reportlab.graphics.shapes import Drawing, String ImportError: No module named graphics.shapes 
```

:( 我很确定 reportlab.graphics 在那里。作为一个菜鸟，我不能嵌入图像，但它在这里，在...站点包中，与 beautifulsoup 等相同：

[https://docs.google.com/open?id=0B-ZMst96R_MYUENKR0FjcFJjaG8](https://docs.google.com/open?id=0B-ZMst96R_MYUENKR0FjcFJjaG8)

这是我尝试过的步骤： python setup.py install

```
> ...
> ########## SUMMARY INFO #########
> ################################################
> #Attempting install of _rl_accel, sgmlop & pyHnj
> #extensions from '/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site->packages/reportlab-2.6/src/rl_addons/rl_accel'
> ################################################
> ################################################
> #Attempting install of _renderPM
> #extensions from '/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site->packages/reportlab-2.6/src/rl_addons/renderPM'
> # installing without freetype no ttf, sorry!
> # You need to install a static library version of the freetype2 software
> # If you need truetype support in renderPM
> # You may need to edit setup.cfg (win32)
> # or edit this file to access the library if it is installed
> ################################################ Standard T1 font curves already downloaded 
```

是的，好吧，我不知道那是什么意思，所以让我们试试：python setup.py 测试

然后它通过一些测试搅动，详细说明一些错误并告诉我（失败=1错误=6）

所以，让我们试试 easy_install reportlab

结果：

```
> Searching for reportlab Best match: reportlab 2.6 Adding reportlab 2.6
> to easy-install.pth file
> 
> Using
> /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages
> Processing dependencies for reportlab Finished processing dependencies
> for reportlab 
```

太伤心了，一直在与这个斗争，但我在黑暗中。有任何想法吗？

# c# - 如何使用 C# 登录网站？

> ID：13428145
> 
> 赞同：1
> 
> 时间：2012-11-17T05:59:20.923
> 
> 标签：c#, forms, .htaccess, login, screen-scraping

我需要使用 C# 登录到一个网站，但是该网站在它使用 htaccess 样式弹出登录的页面中没有登录表单。我以前做过，但仅限于使用网页表单登录的网站。我尝试使用实时 http 标头捕获标头数据，但我没有看到登录帖子数据。

我将如何使用 C# 登录其中之一？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T09:19:29.453

尝试这个：

```
using (WebClient wc = new WebClient())
{
  wc.Credentials = new NetworkCredential("login", "password");
  string page = wc.DownloadString("http://example.com/");
} 
```

# c# - 将字符串解析为 DateTime 失败

> ID：13428149
> 
> 赞同：3
> 
> 时间：2012-11-17T06:00:14.453
> 
> 标签：c#

```
Nov 8 1:44 
```

当我使用此代码时，它失败了：

```
string DD = "Nov 8 1:44";

try
{
    DateTime.ParseExact(DD, "MMM dd HH:mm", CultureInfo.InvariantCulture);
}
catch(Exception ex)
{
    MessageBox.Show("Bad day because " + ex.Message);
} 
```

它说，

> 字符串未被识别为有效的 DateTime

请让我知道我哪里错了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T06:03:12.787

这种格式是

```
MMM d H:mm 
```

根据[MSDN](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)，您需要一个单一的`d`并且`H`由于您的源字符串使用单个数字的日期和小时。

> “d”
> 
> 一个月中的某一天，从 1 到 31。
> 
> 更多信息：“d”自定义格式说明符。
> 
> 2009 年 6 月 1 日下午 1:45:30 -> 1
> 
> 2009 年 6 月 15 日下午 1:45:30 -> 15

* * *

> “dd”
> 
> 一个月中的某一天，从 01 到 31。
> 
> 更多信息：“dd”自定义格式说明符。
> 
> 2009 年 6 月 1 日下午 1:45:30 -> 01
> 
> 2009 年 6 月 15 日下午 1:45:30 -> 15

* * *

> “H”
> 
> 小时，使用从 0 到 23 的 24 小时制。
> 
> 更多信息：“H”自定义格式说明符。
> 
> 2009 年 6 月 15 日上午 1:45:30 -> 1
> 
> 2009 年 6 月 15 日下午 1:45:30 -> 13

* * *

> “嗯”
> 
> 小时，使用从 00 到 23 的 24 小时制。
> 
> 更多信息：“HH”自定义格式说明符。
> 
> 2009 年 6 月 15 日上午 1:45:30 -> 01
> 
> 2009 年 6 月 15 日下午 1:45:30 -> 13

# vb.net - 从数字字符串中检索唯一值

> ID：13428151
> 
> 赞同：-1
> 
> 时间：2012-11-17T06:00:42.347
> 
> 标签：vb.net

我有这个字符串

```
 Dim test As String = "12,32,12,32,12,12,32,15,16,15,14,12,32" 
```

并想检索一个字符串

```
newstr = 12,32,15,16,14 
```

我试过这么多

```
Dim test As String = "12,32,12,32,12,12,32,15,16,15,14,12,32"
Dim word As String
Dim uc As String() = test.Split(New Char() {","c})
For Each word In uc
' What can i do here?????????
Next 
```

只有唯一的数字我怎么能在 vb asp.net 中做到这一点

正确答案

```
Dim test As String = "12,32,12,32,12,12,32,15,16,15,14,12,32"
                Dim word As String
                Dim uc As String() = test.Split(New Char() {","c}).Distinct.ToArray
                Dim sb2 As String = "-1"
                For Each word In uc
                    sb2 = sb2 + "," + word
                Next
                MsgBox(sb2.ToString) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-17T06:10:41.067

```
Dim test As String = "12,32,12,32,12,12,32,15,16,15,14,12,32"
Dim uniqueList As String() = test.Split(New Char() {","c}).Distinct().ToArray() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T06:22:09.340

```
 Dim test As String = "12,32,12,32,12,12,32,15,16,15,14,12,32"
    'Split into an array
    Dim testArray As String() = test.Split(",")
    'remove duplicates
    Dim uniqueTestArray As String() = testArray.Distinct().ToArray())
    'Concatenate back to string
    Dim uniqueString As String = String.Join(",", uniqueTestArray) 
```

或全部在一行中：

```
 Dim uniqueString As String = String.Join(",", test.Split(",").Distinct().ToArray()) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T06:07:42.977

更新对不起我忘了把新字符串加在一起

**解决方案：**

```
Dim test As String = "12,32,12,32,12,12,32,15,16,15,14,12,32"

Dim distinctArray = test.Split(",").Distinct()

Dim newStr As String = String.Join(",", distinctArray.ToArray()) 
```

**培训参考：**查看此网站以获取有关 LINQ 的指南，这将使您更轻松地应对这些类型的编程挑战。[LINQ 教程](http://www.codeproject.com/Articles/84521/LINQ-for-the-Beginner)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2021-01-29T13:49:04.623

您忘记为 Distinctand ToArray 加上括号。因为这些是方法

```
Dim uc As String() = test.Split(New Char() {","c}).Distinct().ToArray() 
```

# android - 如何获取 Android 蓝牙设备的连接状态

> ID：13428158
> 
> 赞同：0
> 
> 时间：2012-11-17T06:02:34.007
> 
> 标签：android, bluetooth

如何获取适用于 Android 的蓝牙设备的连接状态，即 API 级别 7 及以上的“已连接”、“已断开”、“正在断开”或“正在连接”？

我在这个问题上进行了很多搜索，但没有找到任何关于此的内容。我也无法断开未在我的应用程序中连接的设备，因为我不知道它是否已连接。

`Intent.ACTION_ACL_CONNECTED`我可以使用and知道我的应用程序中是否连接了设备`Intent.ACL_DISCONNECTED`，当我连接或断开设备时，我会收到中断或警报。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-03T01:43:01.740

不幸的是，目前没有办法检测蓝牙设备是否连接。您只能检测连接/断开连接事件。

# iphone - iOS6 自动旋转。TabBar->导航->模态

> ID：13428162
> 
> 赞同：2
> 
> 时间：2012-11-17T06:02:55.813
> 
> 标签：iphone, rotation, ios6

我已经阅读了几乎所有关于新 iOS6 自动旋转内容的答案，但我仍然无法做我想做的事。

我有一个标签栏。其中一个选项卡是 NavigationView。当您将 iPhone 转为横向时，会加载一个 modalViewController。

在 iOS5 上一切正常，但我无法在 iOS6 上旋转模式视图。我已经尝试子类化导航控制器，子类化标签栏控制器和两者！。没门。

我现在很困惑。哪个负责旋转模态视图？tabbarController?、navigationViewController?、呈现它的 viewController?。

我会很感激任何帮助。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T21:05:41.513

在 iOS6 中，您必须更改应用程序的旋转。application.statusBarOrientation = UIInterfaceOrientationLandscapeLeft;

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T14:56:11.337

***iOS 6 中的自动旋转正在发生变化。*** 在 iOS 6 中，[不推荐使用UIViewController的](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/cl/UIViewController)[*shouldAutorotateToInterfaceOrientation* :](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/occ/instm/UIViewController/shouldAutorotateToInterfaceOrientation%3a)方法。取而代之的是，您应该使用[supportedInterfaceOrientationsForWindow](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIApplication_Class/Reference/Reference.html#//apple_ref/occ/instm/UIApplication/supportedInterfaceOrientationsForWindow%3a)和[shouldAutorotate](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/shouldAutorotate)方法。

更多的责任正在转移到应用程序和应用程序委托身上。现在，iOS 容器（例如[UINavigationController](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UINavigationController_Class/Reference/Reference.html#//apple_ref/occ/cl/UINavigationController)）不会咨询它们的子容器来确定它们是否应该自动旋转。默认情况下，应用程序和视图控制器支持的界面方向设置为 iPad 惯用语的[UIInterfaceOrientationMaskAll和 iPhone 惯用语的](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIApplication_Class/Reference/Reference.html#//apple_ref/c/econst/UIInterfaceOrientationMaskAll)[UIInterfaceOrientationMaskAllButUpsideDown](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIApplication_Class/Reference/Reference.html#//apple_ref/c/econst/UIInterfaceOrientationMaskAllButUpsideDown)。

视图控制器支持的界面方向会随着时间而改变——甚至应用程序支持的界面方向也会随着时间而改变。每当设备旋转或视图控制器以全屏模式呈现样式呈现时，系统都会向最顶层的全屏视图控制器（通常是根视图控制器）询问其支持的界面方向。此外，仅当此视图控制器`YES`从其[shouldAutorotate](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/shouldAutorotate) 方法返回时，才会检索支持的方向。系统将视图控制器支持的方向与应用支持的方向（由`Info.plist`文件或应用委托的[application:supportedInterfaceOrientationsForWindow:](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIApplicationDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UIApplicationDelegate/application%3asupportedInterfaceOrientationsForWindow%3a)方法确定）相交以确定是否旋转。

[系统通过将应用程序的supportedInterfaceOrientationsForWindow:](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIApplication_Class/Reference/Reference.html#//apple_ref/occ/instm/UIApplication/supportedInterfaceOrientationsForWindow%3a)方法返回的值与最顶部全屏控制器的[supportedInterfaceOrientations](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/supportedInterfaceOrientations)方法返回的值相交来确定是否支持方向。

setStatusBarOrientation [:animated:](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIApplication_Class/Reference/Reference.html#//apple_ref/occ/instm/UIApplication/setStatusBarOrientation%3aanimated%3a)方法并未完全弃用。它现在仅在最顶层全屏视图控制器的[supportedInterfaceOrientations](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/supportedInterfaceOrientations)`0`方法返回时才有效。这使得调用者负责确保状态栏方向一致。

为了兼容性，仍然实现[shouldAutorotateToInterfaceOrientation:](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/occ/instm/UIViewController/shouldAutorotateToInterfaceOrientation%3a)方法的视图控制器不会获得新的自动旋转行为。（换句话说，他们不会回退到使用应用程序、应用程序委托或`Info.plist`文件来确定支持的方向。）相反，shouldAutorotateToInterfaceOrientation: 方法用于合成将由[supportedInterfaceOrientations](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/supportedInterfaceOrientations)方法返回的信息。

willRotateToInterfaceOrientation [:duration:](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/willRotateToInterfaceOrientation%3aduration%3a)、[willAnimateRotationToInterfaceOrientation:duration:](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/willAnimateRotationToInterfaceOrientation%3aduration%3a)和[didRotateFromInterfaceOrientation:](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/didRotateFromInterfaceOrientation%3a)方法不再在任何对其自身进行全屏演示的视图控制器上调用 - 例如，[presentViewController:animated:completion:](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/presentViewController%3aanimated%3acompletion%3a)。

您应该确保您的应用程序没有使用这些方法来管理任何子视图的布局。相反，他们应该使用视图控制器的[viewWillLayoutSubviews](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/viewWillLayoutSubviews)方法并使用视图的边界矩形调整布局。

参考 - [iOS 6.0 发行说明](https://developer.apple.com/library/ios/#releasenotes/General/RN-iOSSDK-6_0/_index.html)

希望这可以帮助你

# java - 更改在类 java 上调用 = 运算符时发生的情况

> ID：13428163
> 
> 赞同：0
> 
> 时间：2012-11-17T06:02:55.473
> 
> 标签：java, class, equals

我有一个类，如下所示，它需要能够以 int 的方式使用 equals，例如：你不说

```
int i = new Integer(1); 
```

你说

```
int i = 1; 
```

我如何定义在类上调用 = 时会发生什么？

**和有什么区别**

```
 int i1 = new Integer(5); 
```

和

```
 Integer i2 = new Integer(5); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T06:05:01.593

你不能，它只在语言中定义，你不能改变它。顺便说一句，您提到的称为**[“自动装箱”](http://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html)**，并且仅在 Java 1.5 以来的原始时代发生

# c++ - C++ 编译错误：具有初始化程序但类型不完整

> ID：13428164
> 
> 赞同：121
> 
> 时间：2012-11-17T06:03:02.747
> 
> 标签：c++, compilation, istringstream

我在 Eclipse 中编码并且有如下内容：

```
#include <ftream>
#include <iostream>

void read_file(){
    char buffer[1025];
    std::istringstream iss(buffer);
} 
```

但是，当我尝试构建时，出现以下错误：`variable 'std::istringstream iss' has initializer but incomplete type`

有什么快速的想法吗？我搜索了一下，似乎大多数有这个问题的人根本没有包含正确的头文件，我相信我做得正确。

* * *

## 回答 #1

> 赞同：272
> 
> 时间：2012-11-17T07:13:55.913

你需要这包括：

```
#include <sstream> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-12-02T06:02:08.967

` 请包括以下任何一项：

```
`#include<sstream>`

using std::istringstream; 
```

# android - 为什么在 Android 中使用 xml 文件以及它们提供的功能。

> ID：13428167
> 
> 赞同：3
> 
> 时间：2012-11-17T06:03:16.413
> 
> 标签：android, android-xml

在我的大学里，我开始学习 XML 用于传输和存储数据，在 HTML 的支持下可以显示动态数据，我只是好奇我们如何在 android 的情况下设计 XML 以及连接是什么以及它是如何来的成。我想在这方面了解更多，需要洞察力，如果有教程！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T06:25:02.883

在 android 中，有几个 xml 文件用于多种不同的目的，

## 布局xml

它用于定义应用程序的实际用户界面。它包含您要在应用程序中使用的所有元素或工具。像文本视图、按钮和其他 UI 元素。

## 清单 xml

此 xml 用于定义应用程序的所有组件。它包括你的包的名称、你的类（活动）、服务、接收者和你的应用程序需要的权限。有关 Manifest xml 的更多信息，请参阅[Android Manifest xml](http://developer.android.com/guide/topics/manifest/manifest-intro.html)

## 字符串 xml

此 xml 文件用于将硬编码字符串替换为单个字符串，就像您可以将**“Welcome to my application”**替换为**“Welcome”字符串，并且您可以通过您的应用程序使用****Welcome**字符串引用该字符串。有关strings.xml 文件的更多信息，请参阅[strings xml](http://developer.android.com/guide/topics/resources/string-resource.html)

## 样式 xml

此 xml 用于定义不同的样式并查找应用程序的用户界面。有关它的更多信息，请参阅[样式 xml](http://developer.android.com/guide/topics/resources/style-resource.html)

## 可绘制的 xml

这些是用于为应用程序元素提供各种图形的 xml 文件。有关这些的更多信息，请参阅可[绘制资源](http://developer.android.com/guide/topics/resources/drawable-resource.html)

# pypy - 使用 pypy 的纸浆

> ID：13428173
> 
> 赞同：2
> 
> 时间：2012-11-17T06:04:27.623
> 
> 标签：pypy

我在 python 中编写了一个模拟器，并使用 Pypy 来加速它。我需要用于整数编程的 Pulp 模块，据我所知，Pypy 不支持该模块（http://pypy.org/compat.html）。

有什么干净的方法可以使用 Pypy 的纸浆吗？某种 python 包装器，甚至是一种从外部调用 python 脚本并获取结果的方法？

-非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-18T05:33:50.027

在阅读了 delnan 的评论后，我意识到 pypy 找不到纸浆，因为它不知道在哪里寻找它。它在抱怨：

来自纸浆进口 *

ImportError：没有名为纸浆的模块

添加行

sys.path.append('/usr/local/lib/python2.7/dist-packages/PuLP-1.4.8-py2.7.egg/pulp') 来自纸浆导入 *

成功了，现在它似乎奏效了。

有趣的是，使用 pypy 运行纸浆比使用普通 python 慢两倍。我怀疑它是 JIT 的启动成本。

# ios - 任何人都知道是否有可能在使用 OTA 方法安装 .ipa 文件时更改警报消息“loqi.me 想安装'Geoloqi'”

> ID：13428179
> 
> 赞同：0
> 
> 时间：2012-11-17T06:05:44.640
> 
> 标签：ios, ota

任何人都知道是否有可能在使用 OTA 方法安装 .ipa 文件时更改警报消息**“loqi.me 想安装'Geoloqi'” 。**

[检查屏幕截图图像](http://i.stack.imgur.com/Cwf7k.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T08:46:32.697

不，我很抱歉，但没有任何方法可以改变这一点。这种方法被认为是一个重要的（也可能是危险的）行动。定制将允许伪装它。

# objective-c - 推送到 UINavigationController 时隐藏 FBFriendPickerViewController 导航栏

> ID：13428181
> 
> 赞同：4
> 
> 时间：2012-11-17T06:06:10.933
> 
> 标签：objective-c, ios, facebook-ios-sdk

呈现`FBFriendPickerViewController`using的实例`presentViewController:animated:completion:`非常简单，并且该类似乎是针对该用例的。但是，我想将 的实例推`FBFriendPickerViewController`送到`UINavigationController`using的实例上`pushViewController:animated:`。

以以下代码为例：

```
self.fbFriendPickerController = [[FBFriendPickerViewController alloc] init];
self.fbFriendPickerController.hidesBottomBarWhenPushed = YES;
// configure stuff

[[self navigationController] pushViewController:self.fbFriendPickerController animated:YES]; 
```

但是，问题是 的实例`FBFriendPickerViewController`已经有一个顶部导航栏。当推到 a`UINavigationController`时，这会导致两个顶部导航栏垂直堆叠，如下面的屏幕截图所示。

![双顶导航栏](../Images/10045fb64c4c23b59ada7185a3e94b78.png)

一种解决方案是隐藏 的顶部导航栏`UINavigationController`，但这会产生尴尬的过渡并且没有后退按钮。`UINavigationController`关于保留顶部导航栏但隐藏顶部导航栏的最佳方式的任何想法`FBFriendPickerViewController`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-19T23:45:40.080

在浏览了Github 上的 Facebook iOS SDK[源代码后，我明白了这一点。](https://github.com/facebook/facebook-ios-sdk)`FBFriendPickerViewController`是 的子类`FBViewController`。如果将 any 的`doneButton`和`cancelButton`属性设置`FBViewController`为`nil`，`FBViewController`将移除顶部导航栏。结果，以下代码有效：

```
self.fbFriendPickerController = [[FBFriendPickerViewController alloc] init];
self.fbFriendPickerController.hidesBottomBarWhenPushed = YES;
self.fbFriendPickerController.doneButton = nil;
self.fbFriendPickerController.cancelButton = nil;
// configure stuff

[[self navigationController] pushViewController:self.fbFriendPickerController animated:YES]; 
```

# wordpress - 用 htaccess 覆盖 WordPress 永久链接结构

> ID：13428183
> 
> 赞同：0
> 
> 时间：2012-11-17T06:06:15.813
> 
> 标签：wordpress, .htaccess, mod-rewrite

我正在尝试向我的 htaccess 文件添加一些重写规则，但我似乎无法绕过永久链接结构。这是我正在尝试的：

```
Options +FollowSymLinks

# BEGIN MyRules

<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^properties/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)$ ?property=$1&page=$2
RewriteRule ^properties/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/$ ?property=$1&page=$2
RewriteRule ^agents/(.*)$ ?agent=$1
RewriteRule ^agents/(.*)/$ ?agent=$1
</IfModule>

# END MyRules

# BEGIN WordPress

<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>

# END WordPress 
```

WordPress 不断将“属性”和“代理”呈现为类别，但由于这些类别不存在，我收到 404 错误。这些实际上是页面，我想将参数传递给这些页面以重写 url。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T13:08:24.273

我已经更正了您的规则并添加了评论

你不应该重复整个块。`<IfModule mod_rewrite.c>`当您添加另一个块时，Apache 可能（未验证）只是忘记了第一个 "块

我没有验证您的正则表达式，但它们的语法看起来不错

```
Options +FollowSymLinks

<IfModule mod_rewrite.c>
    # enable the rewrite engine
    RewriteEngine On
    # "/" is the base path to work on
    RewriteBase /

    # dont rewrite calls on index.php
    RewriteRule ^index\.php$ - [L]

    # rewrite the url to index.php and pass query values
    # [L] indicates, that apache does not need to care 
    # about the following rewrites when this matches
    RewriteRule ^properties/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/?$  /index.php?property=$1&page=$2 [L]
    RewriteRule ^agents/(.*)/?$ /index.php?agent=$1

    # If the request does not point to a existing file ( image.jpg )
    RewriteCond %{REQUEST_FILENAME} !-f
    # If the request does not point to a existing directory ( /, default index.php )
    RewriteCond %{REQUEST_FILENAME} !-d
    # in this cases you would usually say "404 not found" but no, 
    # please direct all those to the index.php which will care of the rest
    RewriteRule . /index.php [L]
</IfModule> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-09T20:49:20.233

似乎 WordPress 已经将其他参数传递给索引，例如“名称”和“类别”，因为我尝试重写的结构类似于我正在使用的自定义永久链接结构。

我能够像这样删除这些参数：

```
RewriteRule ^properties/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/?$  /index.php?property=$1&page=$2&cateogry=&name= [L] 
```

上面米歇尔的建议没有错，但这特别解决了我的问题。

# php - XMLRPC 使用 wp.deletePost 删除 Wordpress 帖子

> ID：13428184
> 
> 赞同：1
> 
> 时间：2012-11-17T06:06:16.413
> 
> 标签：php, wordpress, xml-rpc

我正在尝试使用 XMLRPC 删除 wordpress 帖子，我创建了一个函数，但它返回了一个奇怪的东西：

```
function deletePost($rpcurl,$username,$password,$post_id) 
{
// xmlrpc settings
$params = array(0,$username,$password,$post_id);

// run xmlrpc
$request = xmlrpc_encode_request('wp.deletePost', $params);
$ch = curl_init();  
curl_setopt($ch, CURLOPT_POSTFIELDS, $request);  
curl_setopt($ch, CURLOPT_URL, $rpcurl);  
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);  
curl_setopt($ch, CURLOPT_TIMEOUT, 1);  
$results = curl_exec($ch);  
curl_close($ch);

// testing
var_dump( $results);
return $results;  
} 
```

这是返回的内容（一旦剥离了一些 xml 标签）：

```
<name>faultCode</name>
<value><int>-32601</int></value>
<name>faultString</name>
<value><string>server error. requested method wp.deletePost does not exist.</string> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:46:42.923

它实际上是它所说的......在xmlrpc服务器上没有这样的方法，因为wp不允许自己删除帖子......但是在xmlrpc中有一个名为**blogger.deletePost**的博客API方法。它应该做你想做的事。当我查看您的代码时，我认为您只需要修复两件事，将您的第三行代码更改为

```
$request = xmlrpc_encode_request('blogger.deletePost', $params); 
```

而且，您的**$params**应该是一个数组，[1] 上的值是 post_id，[2] 用户名是 [3] 密码。

**编辑**：它显然存在于 3.4 版中，因此您可以使用上面的解决方案，或者使用*wp.deletePost*和**$params**，其值为 [1] 用户名、[2] 密码和 [3] post_id。

# python - 获取谷歌的答案并显示它们？

> ID：13428185
> 
> 赞同：0
> 
> 时间：2012-11-17T06:06:21.643
> 
> 标签：python, urllib2, google-search

我正在开始一个个人助理项目。我注意到，如果您在 Google 上输入类似“奥巴马几岁”之类的内容，第一个点击是“51 年（1961 年 8 月 4 日）”的小东西。这适用于很多事情，例如，如果您输入“谁是罗姆尼的妻子”，它会返回“安·罗姆尼 (m. 1969)”。这非常有用。如何获取这些数据并检索它？

此外，如果没有弹出任何内容，例如说“谷歌值多少钱”，然后逐个扫描每个点击并确定它。（我可以做确定部分，我只需要知道扫描）。

这可以使用`urllib2`吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T20:54:44.407

你考虑[过 wolframalpha](http://www.wolframalpha.com/)吗？

它更有助于基于大量内置数据、算法和方法进行动态计算。

另外，这里有一个例子： [奥巴马多大了](http://www.wolframalpha.com/input/?i=How%20old%20is%20Obama)

# javascript - 从 Javascript 数组或类型化数组继承

> ID：13428189
> 
> 赞同：3
> 
> 时间：2012-11-17T06:07:08.783
> 
> 标签：javascript, arrays, firefox, inheritance

我想创建`vector`一个零初始化数组的 JavaScript 类。稍后我可能想添加数学功能，但我不想牺牲本机类型的内存或性能质量，因为该程序对大量数据进行操作。（它基本上是科学可视化。）

要插入`Array.prototype`原型链，我尝试使用

```
vector.prototype = Object.create( Array.prototype ); 
```

Firefox 给我一个错误

> TypeError: Array.prototype.toSource 在不兼容的对象上调用

这是 Firefox 中的错误吗？它似乎在 Webkit 中工作。

所以，我尝试使用`Float32Array`哪个更接近我想要的，并且无论如何默认为零初始化。

```
var vector = function( size ) { Float32Array.call( this, size ); }
vector.prototype = Object.create( Float32Array.prototype ); 
```

在 Firefox 中，它会运行，但`new`不会正确初始化对象。在 Webkit`new vector`中抛出异常。如果我使用它没有区别`vector.prototype = Float32Array.prototype`。

我从根本上要求太多了吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-05-23T03:04:24.083

几乎不可能真正从 JavaScript 数组继承，因为该语言内置了非常特殊的功能以及它处理数组的方式。你会看到很多答案，但大多数在特殊情况下都会失败。1）如果你继承它，它将失去特殊的长度属性。2) 如果你使用 __ProtoType __ 变量，它是非标准的，并且不适用于所有浏览器。3) 有很多方法可以检测 3rd 方库中的数组，这些方法在检查时可能会失败。instanceof Array.isArray 和 ==['Object Array'] 都可以使用。

对于更详细的阅读，我建议这篇文章[如何 ECMA 仍然不允许子类化数组](http://perfectionkills.com/how-ecmascript-5-still-does-not-allow-to-subclass-an-array/)

我有一个返回真实数组并避免所有这些问题的解决方案。这是[来自 JavaScript Array 的小提琴 Inhetit](https://jsfiddle.net/jfallin/qftv1w8s/4/)小提琴上 有检测、长度和功能测试。

```
var ArrayGenerator = (function () {
    var args = [].slice.call(arguments);
    var Arr = new Array();
    var ovevar ArrayGenerator = (function () {
    var args = [].slice.call(arguments);
    var Arr = new Array();
    var overiddenPush = Arr.push;
    args.forEach(function (arg) {
        Arr.push(arg);
    });
    args = null;
    Arr.push = function (args) {
        overiddenPush.apply(this, arguments);
    }
    Arr.TableName = "YourTable";
    return Arr;
}); 
```

//你像这样初始化你的数组

```
 var MyArray=new ArrayGenerator(1,2,3); 
```

1.  返回实数数组
2.  没有检测问题
3.  允许您覆盖您想要的所有内容并添加自定义属性和方法，就像继承数组一样。

您只需创建一个数组，将原始方法存储在内部变量中，然后用您自己的方法替换公共方法。要调用基类，您只需调用引用的方法，而不是像常规继承对象那样调用原型。

# linq - 如何从多个表中选择数据？

> ID：13428196
> 
> 赞同：1
> 
> 时间：2012-11-17T06:08:07.970
> 
> 标签：linq

在我的 MVC 项目中，我有一些这样的表：

*   表格 ( `FormID, SectionID`)
*   第 ( `SectionID, SectionName`)节
*   部分问题 ( `SectionID, QuestionID`)
*   问题`(QuestionID, Content`）

一个表格有多个部分，一个部分有一些问题。

我可以得到所有的问题`FormID`。但我想获取模型的部分列表（包含问题）。

这意味着在视图中我想做这样的事情：

```
@Model IEnumerable<MedialForm.Models.Sections>

foreach (var section in Model)
{
     //Show questions
} 
```

你们能帮帮我吗？:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-06-28T22:44:19.700

您不会看到表单的部分列表，因为该表单只能有 1 个部分。（即SectionID 是在Form 中定义的，而不是在Section 中定义的FormID）。但是，以下 Linq 查询将返回指定 FormID 的部分和相关问题：

```
void Main()
{
    var sections = 
        new [] 
        {
            new Section { SectionID = 1, SectionName = "SectionName1" },
            new Section { SectionID = 2, SectionName = "SectionName2" }
        };

    var forms = 
        new []
        {
            new Form { FormID = 1, SectionID = 1 },
            new Form { FormID = 2, SectionID = 1 },
            new Form { FormID = 3, SectionID = 2 },
            new Form { FormID = 4, SectionID = 2 }
        };

    var questions =
        new[]
        {
            new Question { QuestionID = 1, Content = "Question1" },
            new Question { QuestionID = 2, Content = "Question2" }
        };

    var sectionQuestions =
        new[]
        {
            new SectionQuestion { SectionID = 1, QuestionID = 1 },
            new SectionQuestion { SectionID = 2, QuestionID = 1 },
            new SectionQuestion { SectionID = 2, QuestionID = 2 }
        };

    var formId = 4;

    var result = forms
        .Join(
            sections, 
            f => f.SectionID, 
            s => s.SectionID, 
            (f, s) => new { Form = f, Section = s })
        .Join(
            sectionQuestions, 
            jfs => jfs.Section.SectionID, 
            sq => sq.SectionID, 
            (jfs, sq) => new { Form = jfs.Form, Section = jfs.Section, sq.QuestionID })
        .Join(
            questions, 
            jfsq => jfsq.QuestionID, 
            q => q.QuestionID, 
            (jfsq, q) => new { Form = jfsq.Form, Section = jfsq.Section, Question = q })
        .Where(f => f.Form.FormID == formId)
        .GroupBy(f => f.Section.SectionID)
        .Select(grp => new { SectionID = grp.Key, Questions = grp.Select(g => g.Question)});

    Console.WriteLine($"For Form: {formId} the following sections with their questions were found: {String.Join(", ", result.Select(r => $"SectionID: {r.SectionID}, QuestionIDs: [{String.Join(", ", r.Questions.Select(q => q.QuestionID))}]"))}");
}

public class Form
{
    public Int32 FormID { get; set; }
    public Int32 SectionID { get; set; }
}

public class Section
{
    public Int32 SectionID { get; set; }
    public String SectionName { get; set; }
}

public class SectionQuestion
{
    public Int32 SectionID { get; set; }
    public Int32 QuestionID { get; set; }
}

public class Question
{
    public Int32 QuestionID { get; set; }
    public String Content { get; set; }
} 
```

这将返回以下结果：

> 对于 Form: 4 找到以下部分及其问题：SectionID: 2, QuestionIDs: [1, 2]

# iphone - 如何使用 Cloud Me iPhone api 在 osm 地图上绘制 .shp（形状文件）

> ID：13428198
> 
> 赞同：2
> 
> 时间：2012-11-17T06:08:29.880
> 
> 标签：iphone, ios, file, shape

我已成功使用**Cloud me iPhone 库**在我的 osm 地图上绘制路由数据，包括显示当前位置。

**现在我想使用 .shp(shape file) 在离线模式下使用 iPhone 中开放街道地图的 cloud me api 绘制地图**。但我没有找到一种方法来做到这一点。

**在这方面的任何帮助都将受到高度赞赏和欢迎。**

# dll - 使用 ctypes 导入一个 DLL 会导致调用另一个 DLL 失败（python ctypes）吗？

> ID：13428201
> 
> 赞同：1
> 
> 时间：2012-11-17T06:08:57.550
> 
> 标签：dll, ctypes

这是我第一次在论坛发帖。我是一个没有经验的程序员，他认为他的第一个程序几乎完成了，结果却遇到了障碍。我将非常感谢对这个问题的一些见解。

我正在编写一个 GUI 来运行两个硬件：一个运动控制卡 (Precision MicroControl) 和一个数据采集卡 (National Instruments)。到目前为止，我已成功使用 Python 的 ctypes 导入所需的 DLL 以单独运行设备。那里一切都好。但是，当我尝试同时使用这两者时，特定的 DAQ 调用失败并生成 NIDAQmx 运行时错误以及 Windows 错误：

NIDAQ 错误 - 50251 ' 指定的软件组件不可用。组件未加载的窗口错误“PYTHONW 在 0167:6ef85ab5 的模块 NIESXU.DELL 中导致异常 10H。”

运动控制卡的初始化是我的程序中首先发生的事情之一。如果我跳过程序的这一部分，DAQ 就可以正常工作。事实上，当我在程序中使用 matplotlib 创建图形时，会出现一个非常相似的问题。使用 Tkinter 'grid' 调用时程序失败，可以通过排除运动控制调用来解决。

谁能给我一个关于故障可能在哪里的指针？将不胜感激任何线索。如果需要，我会尝试提供更多信息。

更多信息：Windows 98 SE、Precision MicroControl DCX-PC100、DAQ PCI-MIO-16XE-50、Python 2.5 版

不工作的程序的简化版本：

```
from ctypes import *
import numpy

mcapi32 = windll.mcapi32  # motion control card DLL  # leave out this line...
hCtlr =mcapi32.MCOpen(arguments...)      # and this line, and the program works

def CollectNShots(n):  # set up to take n measurements
    mx = windll.nicaiu  #  load National instruments DAQ DLL
    TH0 = c_ulong()
    data.numpy.zeros((2*n,),dtype = numpy.float64)
    mx.DAQmxCreateTask(arguments)
    mx.DAQmxCreateAIVoltageChan( arguments)  # here is where the error arises
    .....other DAQ commands.....

    return 0 
```

谢谢！

# c - 在 C 中存储局部常量

> ID：13428204
> 
> 赞同：3
> 
> 时间：2012-11-17T06:09:48.017
> 
> 标签：c, linker, elf

我有一个关于在 C 中存储常量的问题。

如果我有以下陈述：

```
const int a = 5; 
```

如果语句在全局范围内，则常量将存储在 .rodata 中。我一直在为 MSP430 器件使用 TI 编译器。如果语句在本地范围内，则常量存储在 stack 中。

我不确定如果我在本地范围内将其声明为“静态常量”会发生什么，但我希望它存储在 .rodata 中。

这种行为正确吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:47:56.900

没有“正确”的行为。平台、工具链类型和版本、操作系统、编译器和链接器设置都会对变量最终所在的部分产生巨大影响。

我已经看到`static const`被放入`.text`, `.data`,`.sdata`等。

# c++ - 重载运算符在使用 std::map 时产生错误

> ID：13428205
> 
> 赞同：0
> 
> 时间：2012-11-17T06:09:48.673
> 
> 标签：c++, map

```
class A
{
private:
    int a;
public:
    A( int set )
    {
        a = set;
    };
    ~A();
    bool operator <(const A& ref )
    {
        return this->a < ref.a;
    };
    bool operator ==(const A& ref )
    {
        return this->a == ref.a;
    };
};

int _tmain(int argc, _TCHAR* argv[])
{

    map<A,int>m;
    A a( 1 );
    m.insert( make_pair( a, 2 ) );
    for( map<A,int>::iterator it = m.begin(); it != m.end(); ++it )
    {

    }
    return 0;
} 
```

生成 C2678： http: [//msdn.microsoft.com/en-us/library/ys0bw32s (v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/ys0bw32s(v=vs.80).aspx)

对于运营商 <

如果我使用`m.find`也会为操作员生成 == 如何解决这个问题？

更具体地说，错误导致：

```
template<class _Ty>
    struct less
        : public binary_function<_Ty, _Ty, bool>
    {   // functor for operator<
    bool operator()(const _Ty& _Left, const _Ty& _Right) const
        {   // apply operator< to operands
        return (_Left < _Right);
        }
    }; 
```

在功能上

最终案例：

```
struct MASTERPLAYER
{
    int a;
    bool operator==( const MASTERPLAYER& ref ) const 
    {
        return a == ref.a;
    }
};

int _tmain(int argc, _TCHAR* argv[])
{

    MASTERPLAYER m;
    vector<MASTERPLAYER>v;
    v.push_back( m );
    std::find( v.begin(), v.end(), 2 ); 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T06:12:29.877

您想将函数标记为`const`，以表示它们不会修改调用它们的对象：

```
bool operator <(const A& ref ) const
{
    return a < ref.a;
};
bool operator ==(const A& ref ) const
{
    return a == ref.a;
}; 
```

# ios - 在xcode中获取用户的当前地址？

> ID：13428214
> 
> 赞同：0
> 
> 时间：2012-11-17T06:11:10.260
> 
> 标签：ios, core-location, cllocationmanager

我需要获取用户的确切当前地址（国家、州、城市）。所以我去查找经纬度，然后通过使用反向地理编码从中找出。但无法获得经纬度本身。我正在使用 xcode 4.1 并在 iphone 模拟器中进行测试。

这是我正在处理的代码：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    locationManager = [[CLLocationManager alloc] init];
    locationManager.distanceFilter = kCLDistanceFilterNone;
    locationManager.desiredAccuracy = kCLLocationAccuracyHundredMeters; 
    [locationManager startUpdatingLocation];
    NSLog(@"%@", [self deviceLocation]);
}

- (void)locationManager:(CLLocationManager *)manager
    didUpdateToLocation:(CLLocation *)newLocation
           fromLocation:(CLLocation *)oldLocation
{
    int degrees = newLocation.coordinate.latitude;
    double decimal = fabs(newLocation.coordinate.latitude - degrees);
    int minutes = decimal * 60;
    double seconds = decimal * 3600 - minutes * 60;
    NSString *lat = [NSString stringWithFormat:@"%d° %d' %1.4f\"", 
                     degrees, minutes, seconds];
    latLabel.text = lat;
    degrees = newLocation.coordinate.longitude;
    decimal = fabs(newLocation.coordinate.longitude - degrees);
    minutes = decimal * 60;
    seconds = decimal * 3600 - minutes * 60;
    NSString *longt = [NSString stringWithFormat:@"%d° %d' %1.4f\"", 
                       degrees, minutes, seconds];
    longLabel.text = longt;
} 
```

我怎样才能找到纬度和经度，从而找到用户的地址？

编辑：

将我的版本更新到 Xcode 4.5。但是还是看不到位置......？是这样吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T06:55:02.567

改变 ：

```
locationManager.desiredAccuracy = kCLLocationAccuracyBest; 
```

现在 latitude 和 longitude 应该作为`float`not获得`int`。

```
CLLocation *location = [locationManager location];
// Configure the new event with information from the location
CLLocationCoordinate2D coordinate = [location coordinate];

float longitude=coordinate.longitude;
float latitude=coordinate.latitude; 
```

使用经纬度查找用户的地址`CLGeocoder`。

**编辑**：请参阅[此](http://jonathanfield.me/jons-blog/clgeocoder-example.html)链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T07:02:05.493

请下载[此文件](http://www.sendspace.com/file/6quoja)

在我附加的 zip 文件中，有 4 个文件：

**LocationGetter.h 和 .m**

**物理位置.h 和 .m**

你只需要导入

`#import "PhysicalLocation.h"`

```
 PhysicalLocation *physicalLocation = [[PhysicalLocation alloc] init];
    [physicalLocation getPhysicalLocation]; 
```

在课堂`getPhysicalLocation`上`PhysicalLocation.m`

```
#pragma mark MKReverseGeocoder Delegate Methods
- (void)reverseGeocoder:(MKReverseGeocoder *)geocoder didFindPlacemark:(MKPlacemark *)placemark
{

    NSLog(@"%@",placemark);

    objcntrAppDelegate = (yourappDeleger *)[[UIApplication sharedApplication]delegate];

    objcntrAppDelegate.strCountry=placemark.country;
    objcntrAppDelegate.strSuburb=placemark.subAdministrativeArea;

    [[NSNotificationCenter defaultCenter] postNotificationName:@"ReceivedAddress" object:nil userInfo:nil];

     [geocoder autorelease];
} 
```

你得到你所有的整洁的纬度，液化天然气，当前城市，国家，你需要的一切。希望它可以帮助你。 **注意：-**模拟器给出不正确的结果，您必须在设备上进行测试。

**更新**

[更新DEMO](http://www.sendspace.com/file/eu7bzm)

# php - 生日下拉列表

> ID：13428216
> 
> 赞同：1
> 
> 时间：2012-11-17T06:11:18.930
> 
> 标签：php, registration

我希望用户在注册期间从下拉菜单中输入他的生日。我搜索了代码并得到了这个

```
 <tr>
      <td><label>Birthday:</label></td>
      <td>
        <div class="input-container">
        <select name="month"><option value="0">Month:</option><?=generate_options(1,12,'callback_month')?></select>
        <select name="day"><option value="0">Day:</option><?=generate_options(1,31)?></select>
        <select name="year"><option value="0">Year:</option><?=generate_options(date('Y'),1900)?></select>
        </div>
      </td>
    </tr> 
```

但此代码不起作用。请显示一些错误或提供更好的下拉菜单代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:23:21.293

可能是您的 PHP 设置中禁用了 short_open_tag。代替

```
 <?= generate_options( 
```

您可能需要编码为

```
<?php
 echo generate_options( 
```

然后下一步，我们仍然需要知道您的页面显示的错误。**在名为index2.php**的新文件上尝试此代码

 **```
<?php
    error_reporting(E_ALL);
    define('INCLUDE_CHECK',1);
    require "functions.php";
?>
<html>
<body>
    <?=generate_options(1,12,'callback_month')?> 
```

* * *

下面是以前的答案...

你得到了什么错误？如果它的未定义函数**generate_options**，那么您需要在页面中添加该函数。

你能提供更多细节，以便我们回答这个问题吗？您还可以提及您从中获取的页面吗？

如果您从这里获得它 [http://tutorialzine.com/2009/08/creating-a-facebook-like-registration-form-with-jquery/](http://tutorialzine.com/2009/08/creating-a-facebook-like-registration-form-with-jquery/) 您还需要从该页面复制 PHP 代码。

* * *

您需要在页面顶部或底部添加 php 代码。

```
<?php
    function generate_options($from,$to,$callback=false)
{
    $reverse=false;

    if($from>$to)
    {
        $tmp=$from;
        $from=$to;
        $to=$tmp;

        $reverse=true;
    }
  ......
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T06:14:26.627

generate_options 不是内部 PHP 函数。要修复此代码，您应该找到此函数的定义并将其插入到您的代码中**

# kendo-ui - 如何在 Kendo UI Grid 中将页面大小、过滤器和排序参数传递给后端？

> ID：13428217
> 
> 赞同：0
> 
> 时间：2012-11-17T06:11:27.330
> 
> 标签：kendo-ui

我正在尝试将 Kendo UI 网格与远程数据源一起使用，但无法理解如何将页面大小、过滤器和排序参数传递给为网格数据源返回 json 字符串的 ASP.Net aspx 页面。Telerik 关于 Kendo UI 的文档很糟糕，因为他们没有在 Kendo UI 中使用服务器端技术的示例。如果有人知道这一点，请告诉我？

```
 $(document).ready(function () {
                $("#grid").kendoGrid({
                    dataSource: {
                        type: "json",
                        transport: {
                            read: "GetProducts.aspx"
                        },
                        schema: {
                            model: {
                                fields: {
                                    ProductId: { type: "number" },
                                    ProductName: { type: "string" },
                                    CategoryName: { type: "string" },
                                    IncludeProduct : { type: "boolean" } 
                                }
                            }
                        },
                        pageSize: 10,
                        serverPaging: true,
                        serverFiltering: true,
                        serverSorting: true                             
                    }, 
```

在 GetProducts.aspx 页面中，我在页面加载事件中创建了一个 json 字符串并将其发送回浏览器。**我正在使用 ASP.Net 网络表单。**

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-17T21:32:50.387

参数在服务器请求中自动传递。您需要查看正在发出的请求（即 FireFox 的 Firebug 插件）以查看所有请求，但其中一些是 skip、take、filter[logic]、sort[i][dir]、sort[i][field] 等.

如果您的页码是 3 并且您的页面大小是 100，那么传递的跳过值将是 200 并且拍摄将是 100。

要修改这些以使用不同的名称传递，您需要使用 Kendo 提供的 parameterMap，但我没有这方面的经验。

我不熟悉 ASP.Net Web Forms 可以肯定地知道，但我是在基本的 google 搜索之后写的，所以你可以得到拉参数的基本想法。

```
 protected void Page_Load(object sender, EventArgs e)
 { 
   string skip = Request.QueryString["skip"];
 } 
```

# android - 如何更方便高效地在 Ubuntu Linux 中查找 C/C++ 源代码？

> ID：13428218
> 
> 赞同：1
> 
> 时间：2012-11-17T06:11:29.013
> 
> 标签：android, c++, c, eclipse, ubuntu

众所周知，**SourceInsight**可以方便地在 Windows 上查找 C/C++ 源代码。

**eclipse**是java代码的不错选择。

我想研究android源代码，但是没有方便的工具来查找C/C++代码。当我用简单的文本编辑器分析C/C++代码的调用关系时，我很头疼！

例如，我想知道在**frameworks/base/libs/ui/Camera.cpp**中调用的方法**getService()的定义**

 **```
binder = sm->getService(String16("media.camera")); 
```

我会浪费大量时间来寻找调用关系。

但是当我想知道eclipse对java代码的定义时，比如**packages/apps/Camera/src/com/android/camera/Camera.java**中的**onCreate()**方法，只需一步即可。

 **如何更方便高效地在 Ubuntu Linux 中查找 C/C++ 源代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:20:07.213

Eclipse (indigo) 也可用于 c++。[在这里](http://www.eclipse.org/indigo/)查看

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T06:24:02.057

如果您使用 vi，请使用 ctags，或者对于 emacs，请使用 etags。

还有一个[cscope](http://cscope.sourceforge.net/)，很多年前我用的时候印象非常深刻。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T06:22:48.387

我向您推荐 Sublime Text 2 编辑器： http: [//www.sublimetext.com/2](http://www.sublimetext.com/2) 它是一个简单、快速且功能强大的编辑器 :) 例如：您可以定义您的代码片段以加快代码编写速度，您也可以搜索一个词在所有项目文件中使用一个简单的命令，而无需打开所有文件......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T06:27:02.257

您可以使用 doxygen (www.doxygen.org) 从源代码生成交叉引用网页。****

# activex - 如何找到传递给 Shell.Explorer 事件方法的参数？

> ID：13428221
> 
> 赞同：0
> 
> 时间：2012-11-17T06:11:39.857
> 
> 标签：activex, webbrowser-control, autohotkey

我以为 Shell.Explorer 是 AutoHotkey 中的 Webbrowser Control 的意思。

但是当我查看`NavigateError`事件参数的输出时，它与 MSDN 页面中描述的略有不同。

我在 MSDN 上找到了两个不同的页面`NavigateError`。

*   DWebBrowserEvents2::NavigateError [http://msdn.microsoft.com/en-us/library/aa768286%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/aa768286%28v=vs.85%29.aspx)
*   NavigateError 事件[http://msdn.microsoft.com/en-us/library/bb268221%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/bb268221%28v=vs.85%29.aspx)

由于第二个参数显示带有以下代码的 url，我猜 AutoHotkey 正在使用 DwebBrowserEvents2 接口，但 MSDN 页面说该方法接受 5 个参数，而 AutoHotkey 接收其中的 6 个。

```
new WBConttrol("file:///" A_ScriptDir "/nofile")
class WBConttrol {
    NavigateError(oParams*) {
        msgbox, 64, % Parameters, % "the number of passed parameters: " oParams.MaxIndex() "`n"
            . "1: " (IsObject(oParams.1) ? "object" : oParams.1) "`n"
            . "2: " (IsObject(oParams.2) ? "object" : oParams.2) "`n"       ; url
            . "3: " (IsObject(oParams.3) ? "object" : oParams.3) "`n"
            . "4: " (IsObject(oParams.4) ? "object" : oParams.4) "`n"
            . "5: " (IsObject(oParams.5) ? "object" : oParams.5) "`n"
            . "6: " (IsObject(oParams.6) ? "object" : oParams.6) "`n"
    }       
    __New(strURL="") {
        static WB
        Gui, New, Resize MaximizeBox
        Gui, Add, ActiveX, vWB w300 h200, Shell.Explorer  
        Gui, show, w300 h200
        ComObjConnect(WB, this)
        WB.Navigate(strURL)
    }   
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-02T09:45:40.120

`Shell.Explorer`确实意味着[WebBrowser](http://msdn.microsoft.com/en-us/library/aa752085.aspx)控件。

额外的（第六个）参数在[ComObjConnect()](http://l.autohotkey.net/docs/commands/ComObjConnect.htm)的文档中定义：

> PrefixEventName([Params..., **ComObject** ])
> ...
> *ComObject*是可选的，只有在定义了正确数量的 Params 时才能使用；它包含对传递给 ComObjConnect 的原始包装器对象的引用。

这个额外参数的原因是一些 COM 事件方法根本没有定义任何参数，因此不提供对引发事件的 COM 对象的引用。

# assembly - 汇编中 MOV 指令的有效性

> ID：13428223
> 
> 赞同：0
> 
> 时间：2012-11-17T06:12:02.397
> 
> 标签：assembly, x86, nasm, masm, mov

这是一个有效的汇编指令吗？

> MOV CX,0F9

我的意思是，正如我们看到的那样，其中有“0F9”，虽然源操作数看起来像“十六进制”，但指令末尾（或源操作数的末尾）没有使用“H”符号。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T06:58:11.923

是的。它确实是一个有效的 intel x86 语法，将 0xF9 移动到 CX 寄存器。按照惯例，我们假设任何立即数都采用十六进制表示。F9 前面有一个 0 的原因是为了确保汇编程序将该值视为立即值（十六进制），而不是标签。它**不能**区分它的 base-n 表示。

# java - 调整相机拍摄的照片大小以适合屏幕

> ID：13428226
> 
> 赞同：2
> 
> 时间：2012-11-17T06:12:35.560
> 
> 标签：java, android

我正在尝试制作一个在拍摄后显示照片的应用程序。问题是我似乎无法将具有相同纵横比的位图缩放到屏幕。

我试过 imageView.setScaleType(ScaleType.FIT_XY); 但它没有保持这个比例。Android:Scale 也没有。

我能做些什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:25:27.480

你可以试试

```
Bitmap.createScaledBitmap (Bitmap src, int dstWidth, int dstHeight, boolean filter) 
```

这是片段！希望对你有帮助

```
 public static Bitmap createScaledBitmap(String path, float scale, boolean filtering){
    Bitmap src = BitmapFactory.decodeFile(path);
    int width = (int)( src.getWidth() * scale + 0.5f);
    int height = (int)( src.getHeight() * scale + 0.5f);
    return Bitmap.createScaledBitmap(src, width, height, filtering);
  } 
```

看看文档还 [创建缩放位图](http://developer.android.com/reference/android/graphics/Bitmap.html#createScaledBitmap%28android.graphics.Bitmap,%20int,%20int,%20boolean%29)

# c# - 清除以下列表或适当 .NET 集合的快速方法

> ID：13428230
> 
> 赞同：2
> 
> 时间：2012-11-17T06:13:38.400
> 
> 标签：c#, .net, data-structures, collections

我需要一种只能按顺序访问的快速集合类型。它需要快速添加和快速清除。我认为有一些集合类型可以用很少的处理时间来清除。

我读过这`List<>`是 O(n) 操作。有没有超快速清除能力的收藏类型？也许是一个堆栈？`List<int>`or `List<Double>`（非引用类型）是否允许更快的操作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T06:18:03.233

O(n) 是您搜索的时候。如果您使用 Enumerable （也许是我不知道该部分的索引器）逐步浏览列表，它将是 O(1) 查找。~~清算也是 O(1)，只要你不`Remove(T obj)`打电话`Clear()`就会非常快。~~清除仍然是 O(n)。

如果您不需要可调整大小，只需声明一个数组将有一个 O(1) 索引器并“清除”它，您只需取消引用它并创建一个新的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T06:42:44.973

如果您的主要目标是 O(1) 明确 - 只需将任何合适的集合（List、LinkedList、Array）作为您的 cusomt 类的成员实现`IList`或`ICollection`转发索引/迭代到该成员。要实现清晰的简单创建该内部成员的新实例。

```
class FastClearList<T> : IList<T>
{
  List<T> inner = new List<T>();

  public void Clear()
  {
     inner = new List<T>(); // recreating list here will give O(1)
  }

  public IEnumerator<T> GetEnumerator()
  {
     return inner.GetEnumerator();
  }
  // forward everything else ...
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-17T17:49:55.157

如果您确实需要快速清除并且不想每次都分配新的内存，您还可以通过简单地将内部计数器重置为 0 来编写自己的 O(1) 实现。`IList<T>`该类保持一个确定列表当前位置的计数器，要重置您可以在自己的实现中将其设置为 0。内部数组不会真正被清除，但添加到列表中的任何项目都会覆盖旧值，并且枚举不会继续过去，因此您永远不会触及旧值。`Clear``List<T>``_size``_size`

本质上，您希望`List<T>`where `Count`is settable 为 0 而不仅仅是 gettable。

但请注意，如果`T`是引用类型，这种列表将保存对旧值的引用，并防止它们被垃圾收集。因此，也许只有在您想存储值类型时才最好使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T21:37:32.337

List 确实需要清除对已清除对象的引用。最好的方法是创建一个新的 List<> 而不是清除它，或者创建一个实现这种方法的包装器/工厂。

# python - 奇怪的 Tkinter 鼠标悬停行为

> ID：13428233
> 
> 赞同：5
> 
> 时间：2012-11-17T04:06:15.387
> 
> 标签：python, tkinter

我一直在尝试获得一个鼠标悬停事件来更改 Tkinter 中一个按钮小部件的背景颜色。我在网上得到了一些适用于文本的简单代码，但对颜色无效。这里是：

```
from Tkinter import *
root - Tk()

b = Button(root, text='foo')
b.pack()

def enterB(event):
    b.configure(text='bar', background='red')

def leaveB(event):
    b.configure(text='foo')

b.bind('<Enter>', enterB)
b.bind('<Leave>', leaveB)

root.mainloop() 
```

当我将鼠标放在按钮上时，文本变为“条形”，但背景颜色保持灰色。当我的鼠标离开按钮上方的区域时，背景颜色变为红色，文本变为“foo”。这与应该发生的情况相反。

如果我在 leaveB 函数的 b.configure 语句中放入 background='blue' ，其余部分保持不变，离开按钮将使按钮保持蓝色，并且永远不会是红色。

谁能告诉我发生了什么？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-18T13:04:35.113

首先，我想这是第 2 行的错字，应该是`root = Tk()`

* * *

该程序对我来说可以正常工作，除了将鼠标从按钮上移开时背景保持不变的行为`red`。可以通过稍微修改`leaveB`函数来改变如下：

```
def leaveB(event):
    b.configure(text="foo", background="SystemButtonFace") 
```

`"SystemButtonFace"`如果您在 Windows 上，默认按钮面颜色在哪里

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T17:20:55.720

我遇到了同样的问题（实际上，除非您用鼠标离开，否则单击后按钮颜色不会改变，这让我感到困扰）。解决方案是设置 activebackground 颜色。据我了解，这是鼠标悬停在按钮上时显示的颜色（请参阅[http://www.tutorialspoint.com/python/tk_button.htm](http://www.tutorialspoint.com/python/tk_button.htm)）

所以我所做的是：

```
def enterB(event):
   b.configure(text='bar', background='red')
   b.configure(activebackground='red'); 
```

这样，当鼠标悬停在按钮上时，按钮已经变为红色。当然，您必须在离开按钮后重置 leaveB 函数中的颜色，使其变回灰色。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-07T00:07:03.750

如果您使用的是 Mac，则无法更改按钮的背景颜色或浮雕样式。但是，您可以更改高亮背景颜色。这是 tk 在 Mac 上的限制，因此我会推荐 wx。

# c++ - 如何专门化已经专门化的模板

> ID：13428235
> 
> 赞同：0
> 
> 时间：2012-11-17T06:14:49.083
> 
> 标签：c++, templates, specialization

假设我有这个模板：

```
template<class T, int a, int b>
class Foo 
```

我有上述 char 模板的部分专用版本：

```
template<int a, int b>
class Foo<char, a, b> 
```

我怎样才能进一步将上述模板专门化为 a = 1？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-08T00:41:39.760

你不能专精一个专精，你只能让另一个专精更好地匹配。

# c++ - 为什么“外部内联”模板无法编译？

> ID：13428236
> 
> 赞同：4
> 
> 时间：2012-11-17T06:15:04.723
> 
> 标签：c++, gcc, clang

好的，这是一个代码：

```
#include <sstream>

struct A {
    class Type {};
    template < typename Type >
    Type as( void ) {
        std::istringstream test;

        Type temp;
        test >> temp;

        return temp;
    }
}; 
```

它编译得很好，完全没有问题。

现在，这里*几乎*是相同的代码：

```
#include <sstream>

struct A {
    class Type {};
    template < typename Type >
    inline Type as(void);
};

template < typename Type >
Type A::as( void ) {
    std::istringstream test;

    Type temp;
    test >> temp;

    return temp;
} 
```

砰，它不再编译了。错误 ：

```
t.cc:14:10: error: invalid operands to binary expression ('std::istringstream' (aka 'basic_istringstream<char>') and 'A::Type')
    test >> temp;
    ~~~~ ^  ~~~~ 
```

我已经用 clang 和 gcc 重现了这种行为。

为什么编译器在第二种情况下使用错误的类型？（只是要清楚：我知道与枚举存在冲突，但据我了解，如果是真正的问题，第一个代码也应该无法编译）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T07:40:03.717

A::as() 中的范围使用 A::Type 作为 temp 的类型限定符。看到这一点的最简单方法是将嵌套类名称更改为 Type 之外的名称。

更好的问题是*为什么*它首先发生。它与声明点、名称查找和名称隐藏有关，所有这些都包含在标准的第 3.3、3.4 和 14.6.4 节中。这是一组非常丰富的部分，如果/当我有时间缩小范围时，我将发布与此问题相关的具体条款。到目前为止，我倾向于 3.3.9-10 和 3.4

*无论如何，更改类名允许模板参数在 struct声明*的范围之外解析，后者是它首先发生的关键（所以无论如何我都会相信标准）。

```
struct A
{
    class TypeX {};
    template < typename Type >
    Type as(void);
};

template < typename Type >
inline Type A::as( void )
{
    std::istringstream test;
    Type temp;
    test >> temp;
    return temp;
} 
```

如果我有与此问题相关的标准的错误部分，我非常有信心，*StackOverflow的**大量*占用者将通过此答案发送热棒。

# javascript - 当变量的值发生变化时如何调用Javascript函数？

> ID：13428245
> 
> 赞同：3
> 
> 时间：2012-11-17T06:17:42.413
> 
> 标签：javascript, function, variables, dom-events

通常我们调用一个 Javascript 函数，当一个按钮被点击时。

```
<button onclick=function1();>Post message</button> 
```

或者有时，我们可能会在特定时间调用 Javascript 函数。

```
window.onload = myFunction();
          function myFunction()
           {
                 setInterval(function1,t);  
           } 
```

`function1()`任何 Javascript 函数在哪里。仅当脚本中变量的值发生更改时，我才想调用此函数。

例如：假设我有一个变量**abc**。现在，当我使用下面的函数在页面上选择某些内容时，该变量的值会发生变化。

```
var abc = function getSelectionHTML() {
      var userSelection;
      if (window.getSelection) {
        // W3C Ranges
        userSelection = window.getSelection ();
        // Get the range:
        if (userSelection.getRangeAt) {
          if (userSelection.rangeCount > 0)
        var range = userSelection.getRangeAt(0);
          else
        return '';
        } else {
          var range = document.createRange ();
          range.setStart (userSelection.anchorNode, userSelection.anchorOffset);
          range.setEnd (userSelection.focusNode, userSelection.focusOffset);
        }
        // And the HTML:
        var clonedSelection = range.cloneContents ();
        var div = document.createElement ('div');

        div.appendChild (clonedSelection);
        return div.innerHTML;
      } else if (document.selection) {
        // Explorer selection, return the HTML
        try {
          userSelection = document.selection.createRange ();
          return userSelection.htmlText;
        } catch (err) {
          return '';
        }
      } else {
        return '';
      }
    } 
```

**`alert(abc)`只有当变量的值发生变化时如何？**请帮忙！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-10-24T02:50:37.527

首先，您需要`abc`使用[自定义 Setters 和 Getters](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#Example:_Custom_setters_and_getters)定义变量：

```
var value_of_abc;
 Object.defineProperty(window, 'abc', {
    get: function() {
      console.log('get!');
      return value_of_abc;
    },
    set: function(value) {
      console.log('set!');
      value_of_abc = value;
    }
  }); 
```

然后，每当您调用或更改 variable`abc`时，就会发生这里的事情。

```
window.abc //get!
window.abc = 1 //set! 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T06:40:14.797

如果您的目标是“现代”浏览器，您可以使用[Object.defineProperty](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty)定义一个 setter 函数，即每次设置相应字段的值时都会调用的函数。

由于 JS 中的“全局”变量只是窗口对象的成员，所以你应该能够做类似的事情

```
Object.defineProperty(window, "abc", { set: function(v) { 
  /* this is run every time abc is assigned a value: 
     the value being assigned can be found in v */
} } ); 
```

# google-apps-script - Google 应用脚本 - 将文档附加/嵌入到电子邮件中

> ID：13428246
> 
> 赞同：4
> 
> 时间：2012-11-17T06:17:49.747
> 
> 标签：google-apps-script

有没有将 Google 文档嵌入电子邮件的好方法？

我可以从：

```
var doc = DocumentApp.openById('1P_KZr_xpg.....xntBqvQ'); 
```

我试过这些方法：

A)`MailApp.sendEmail('john@abc.com', doc.getName(), doc.getText());` 文档中的原始文本构成了电子邮件的正文……所有格式都丢失了。

B)`MailApp.sendEmail('john@abc.com', doc.getName(), doc.getUrl());`文档的 URL 是消息的正文。在您单击源文档之前，不会看到文档的内容。

C)`MailApp.sendEmail('john@abc.com', doc.getName(), '', { htmlBody: HtmlService.createHtmlOutput(doc.getAs('blob') });`这看起来很有希望，但给出了一个错误：“不支持的转换请求。”

还有其他方法可以嵌入文档吗？

有没有办法获取文档的 HTML 版本？一旦我有了它，我就可以用`htmlBody`它来插入它。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-17T08:09:45.947

这已经回答了几次，这里是[最初](http://productforums.google.com/forum/#!searchin/apps-script/convert$20html/apps-script/gjEVtRd-kIo/rrRPCq4hRAQJ)由 Henrique Abreu 建议的代码（不要在意评论说它不起作用，它确实！）：

```
function emailDocTest() {
  var id = 'Doc-Very-Long-ID-Here';
  var url = 'https://docs.google.com/feeds/';
  var doc = UrlFetchApp.fetch(url+'download/documents/Export?exportFormat=html&format=html&id='+id,
                              googleOAuth_('docs',url)).getContentText();
  var emailAdress = Session.getEffectiveUser().getEmail();
  MailApp.sendEmail(emailAdress, 'test doc send by mail as html', 'html only', {htmlBody:doc});
}

function googleOAuth_(name,scope) {
  var oAuthConfig = UrlFetchApp.addOAuthService(name);
  oAuthConfig.setRequestTokenUrl("https://www.google.com/accounts/OAuthGetRequestToken?scope="+scope);
  oAuthConfig.setAuthorizationUrl("https://www.google.com/accounts/OAuthAuthorizeToken");
  oAuthConfig.setAccessTokenUrl("https://www.google.com/accounts/OAuthGetAccessToken");
  oAuthConfig.setConsumerKey('anonymous');
  oAuthConfig.setConsumerSecret('anonymous');
  return {oAuthServiceName:name, oAuthUseToken:"always"};
} 
```

请注意，googleOAuth_ 功能需要特殊授权，只能使用脚本编辑器激活才能运行该功能（不能通过 UiApp 或菜单），并且该功能不会出现在“运行”列表中，因为名称末尾的下划线（这是它的工作方式）所以至少从脚本编辑器运行一次，并记住如果/当你最终与其他人共享应用程序时。有关详细信息，请参阅[功能请求 677](http://code.google.com/p/google-apps-script-issues/issues/detail?id=677)。

# javascript - 具有对象值的属性的 JSON.stringify 过滤器不起作用

> ID：13428247
> 
> 赞同：2
> 
> 时间：2012-11-17T06:17:59.947
> 
> 标签：javascript, json

有人可以澄清过滤规则吗？

属性 z 未正确字符串化，请参阅最后一行。

MDN 说“如果是数组，则指定包含在最终字符串中的对象中的一组属性”。

```
var obj = {x:1,y:'str',z:{a:1,b:2}};
var s = JSON.stringify(obj)
"{"x":1,"y":"str","z":{"a":1,"b":2}}"
var s = JSON.stringify(obj,["x","y","z"]);
"{"x":1,"y":"str","z":{}}"   //z empty object why? 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T06:30:30.857

从[MDN](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/JSON/stringify)中，如果`replacer`（JSON.stringify 的第二个参数）是一个数组，它指定包含在最终字符串中的对象中的一组属性。

您将其设置为`["x","y","z"]`在这种情况下您的结果字符串具有这三个属性，您可能错过的是它适用于所有属性而不仅仅是顶级属性，因此由于您没有指定`"a"`并且`"b"`在您的数组中它们不包括在内在最后的字符串中。

试试`JSON.stringify(obj,["x","y","z", "a", "b"]);` [http://jsfiddle.net/mowglisanu/rhCTY/](http://jsfiddle.net/mowglisanu/rhCTY/)

# php - 如何在 OpenCart 中运行多个商店？

> ID：13428250
> 
> 赞同：1
> 
> 时间：2012-11-17T06:18:11.870
> 
> 标签：php, opencart

是否可以在 OpenCart 中拥有多个具有不同管理员和角色的商店？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-18T00:03:36.907

您可以在插入新组或用户期间设置各种权限，但是由于您是从一个管理员管理所有站点，因此不可能让用户仅查看适用于一个商店的订单或商品等。

你可以得到一个可以做到这一点的扩展：[http ://www.opencart.com/index.php?route=extension/extension/info&extension_id=8336](http://www.opencart.com/index.php?route=extension/extension/info&extension_id=8336)

希望有帮助

# google-app-engine - 从数据存储中导出/提取数据

> ID：13428251
> 
> 赞同：1
> 
> 时间：2012-11-17T06:18:22.440
> 
> 标签：google-app-engine, etl, google-cloud-datastore, database-backups

GAE 开发中的新手，对提取数据有一些疑问。

我有一个从最终用户收集数据的应用程序，数据存储在高可用性数据存储中，并且需要定期将应用程序收集的数据子集发送给业务合作伙伴。

以下是我的问题， 1\. 如何定期备份数据存储中的数据，例如每日增量备份和每周完整备份？2\. 生成可以安全下载或发送给我的合作伙伴的每日数据转储文件的最佳做法是什么。我预计每天有几百 MB 的数据文件，最终将在几 GB 范围内。3\. 我的业务伙伴可以通过基本的 HTTP 身份验证，还是必须使用 OAuth？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T11:15:33.417

谷歌实际上是通过将您的数据存储在多个数据中心来备份您的数据。

但是，如果需要，您可以使用批量加载程序并手动备份：

[上传和下载数据](https://developers.google.com/appengine/docs/python/tools/uploadingdata)

您可以根据自己的选择对用户进行身份验证，这完全取决于您。但是，“用户”服务直接集成到应用引擎中，因此如果每个人都拥有或可能拥有谷歌帐户，那么您使用起来就更容易了。

[用户服务](https://developers.google.com/appengine/docs/python/gettingstarted/usingusers)

由于文件的大小，除非您想从数据存储中将它们拼凑在一起，否则您将不得不使用其他东西，因为数据存储每个模型有 1MB 的限制。然而，完全有可能做到这一点。

但是您可能应该查看[Google Cloud Storage API](https://developers.google.com/appengine/docs/python/googlestorage/)，因为没有文件大小限制。

# android - 在 xml 代码中声明片段时出现 ClassCastException

> ID：13428252
> 
> 赞同：-1
> 
> 时间：2012-11-17T06:18:39.883
> 
> 标签：android, fragment, android-support-library

我在布局中声明了一个片段，然后尝试膨胀该视图，但我总是得到 ClassCastException。请帮我解决这个问题。

这是我的布局源：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    style="@style/fillparent"
    android:background="#ffffffff"
    android:orientation="vertical" >

    <android.support.v4.app.Fragment
        android:name="com.ihnel.tinyapp.xskt.view.ResultView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_marginTop="55dp" />

    <ihnel.lib.topbar.TopBar
        android:id="@+id/container_topbar"
        android:layout_width="fill_parent"
        android:layout_height="50dp"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:background="@drawable/topbar_header" >
    </ihnel.lib.topbar.TopBar>

</RelativeLayout> 
```

这是引发异常的java代码：

```
container = (ViewGroup) LayoutInflater.from(getApplicationContext()).inflate(R.layout.container, null); 
```

这是logcat：

```
11-17 13:17:34.689: E/AndroidRuntime(21674): FATAL EXCEPTION: main
11-17 13:17:34.689: E/AndroidRuntime(21674): java.lang.RuntimeException: Unable to start activity ComponentInfo{ihnel.tinyapp.xskt/com.ihnel.tinyapp.xskt.Home}: android.view.InflateException: Binary XML file line #7: Class is not a View android.support.v4.app.Fragment
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1996)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2023)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.app.ActivityThread.access$600(ActivityThread.java:127)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1174)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.os.Handler.dispatchMessage(Handler.java:99)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.os.Looper.loop(Looper.java:137)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.app.ActivityThread.main(ActivityThread.java:4503)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at java.lang.reflect.Method.invokeNative(Native Method)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at java.lang.reflect.Method.invoke(Method.java:511)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:809)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:576)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at dalvik.system.NativeStart.main(Native Method)
11-17 13:17:34.689: E/AndroidRuntime(21674): Caused by: android.view.InflateException: Binary XML file line #7: Class is not a View android.support.v4.app.Fragment
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.view.LayoutInflater.createView(LayoutInflater.java:599)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:682)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.view.LayoutInflater.rInflate(LayoutInflater.java:741)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.view.LayoutInflater.inflate(LayoutInflater.java:491)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.view.LayoutInflater.inflate(LayoutInflater.java:397)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.view.LayoutInflater.inflate(LayoutInflater.java:353)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:262)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.app.Activity.setContentView(Activity.java:1846)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at com.ihnel.tinyapp.xskt.Home.onCreate(Home.java:28)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.app.Activity.performCreate(Activity.java:4504)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1050)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1960)
11-17 13:17:34.689: E/AndroidRuntime(21674):    ... 11 more
11-17 13:17:34.689: E/AndroidRuntime(21674): Caused by: java.lang.ClassCastException: android.support.v4.app.Fragment cannot be cast to android.view.View
11-17 13:17:34.689: E/AndroidRuntime(21674):    at java.lang.Class.asSubclass(Class.java:1380)
11-17 13:17:34.689: E/AndroidRuntime(21674):    at android.view.LayoutInflater.createView(LayoutInflater.java:554)
11-17 13:17:34.689: E/AndroidRuntime(21674):    ... 22 more
11-17 13:17:34.690: E/IBINDER_HOOK(21674): open whitelist file error 
```

这是 ResultView 片段：

```
 package com.ihnel.tinyapp.xskt.view;

import ihnel.tinyapp.xskt.R;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.webkit.WebView;

This is the ResultView fragment:

    public class ResultView extends Fragment {

        /** The webview which is used to show result. */
        WebView webview_main;
        @Override
        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
            View view = inflater.inflate(R.layout.resultview, null);
            init(view);
            return view;
        }

        /**
         * Inits the fragment view.
         *
         * @param view the root view.
         */
        private void init(View view){
                }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T06:25:20.713

好像`com.ihnel.tinyapp.xskt.view.ResultView`不是碎片！[文档](http://developer.android.com/guide/components/fragments.html#Adding)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-07T22:38:34.523

像这样编辑您的布局 xml。

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
**xmlns:tools="http://schemas.android.com/tools"**
style="@style/fillparent"
android:background="#ffffffff"
android:orientation="vertical" > 
```

我有同样的问题。我无法通过任何建议的解决方案来解决这个问题。当我像这样编辑我的布局 xml 时，问题就神奇地消失了。我仍然不知道为什么即使我删除了 xmlns:tools="http://schemas.android.com/tools" 这一行，问题也不会再次发生。

# java-me - 可以从黑莓模拟器发送短信吗？

> ID：13428257
> 
> 赞同：0
> 
> 时间：2012-11-17T06:20:05.557
> 
> 标签：java-me, sms, blackberry-simulator

是否可以将短信从黑莓模拟器发送到其他移动设备。因为我已经为此编写了代码但无法发送所以任何人都可以帮助我，甚至让我知道是否可以发送消息到其他手机？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T11:26:24.923

不，这是不可能的。

原因：模拟器/模拟器没有SIM卡，没有SIM卡，你不能发送短信。如果您使用任何第三方 API，您可以通过 GPRS 发送消息，例如`WaytoSMS`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-19T15:37:18.807

我认为这很有可能 - 为什么不应该呢？您可以使用任何给定的 Telecom API（那里有很多），并使用 Java 库让您的 BB 模拟器发送和接收 SMS。我现在参与了一个项目，它允许你这样做。

# sql - Sql Server：任何相当于 Excel 的 Hlookup？

> ID：13428259
> 
> 赞同：0
> 
> 时间：2012-11-17T06:20:07.380
> 
> 标签：sql, sql-server, excel, reference

我试图找到这个问题的答案，但这非常困难，因为我真的不知道我想写什么。我已经尝试过“对列的顺序引用”、“索引列”，当然还有“等价的” `HLookup`，但似乎没有任何效果。

无论如何，我的问题来了：

我在 Excel 中有一个表，在第 1 列中有一个条目（标识唯一键），有 1700 个不同的值（行）。这些行中的每一行都有大约 100 列（对应于该键）。

我需要一个过程来按顺序扫描此表并将 ID 条目（在第一列中）匹配到每列中的条目并返回相应单元格中的值。

它会是这样的：

```
For row=1 to N do
    For column = 1 to N do
        Result <- cell[i,j]
    End for
End for 
```

我的问题是如何扫描列，因为我不知道如何使用一些索引来引用列？

如果这真的不可能，你知道我还能如何解决这个问题吗？例如，复制分布在列中的所有值并“转置”它们，使它们成为一个列，以某种方式在另一列上重复 ID_Key 的多个副本？

谢谢您的帮助！

Excel数据：

```
ID      Date0   DateF   Jun-26  Jun-27  Jun-28  Jun-29  Jun-30  
---------------------------------------------------------------
10006   1926    1953    67.743  71.245  70.139  70.139  70.139  
10014   1926    1961    13.005  12.787  12.63   13.871  14.896  
10022   1926    1960    13.567  13.996  14.326  14.552  14.025  
10030   1926    1966    15.924  17.487  18.771  20.508  20.488  
10049   1926    1932    11.984  12.848  13.34   59.145  61.094  
10057   1926    1968    8.234   8.376   8.448   7.577   8.966  
10065   1926    1929    16.609  15.727  13.849  18.062  -99.99  
10073   1926    1938    14.789  14.912  14.571  15.321  14.926  
10081   1926    1930    1.769   1.83    1.881   1.731   1.703  
10102   1926    1953    14.474  16.604  19.184  21.49   27.895 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T11:23:09.587

您需要做的第一件事是将这些数据转换为类似于数据库表的东西。我建议你用[`UNPIVOT`](http://msdn.microsoft.com/en-us/library/ms177410%28v=sql.105%29.aspx)这样做。

因此，您的部分查询将类似于：

```
SELECT ID,Date0,DateF,PDate,Value
FROM Table t
  UNPIVOT (Value FOR PDate IN ([Jun-26],[Jun-27],[Jun-28],[Jun-29],[Jun-30])) AS up 
```

这会给你一些看起来像这样的行：

```
ID      Date0   DateF   PDate    Value
10006   1926    1953    Jun-26   67.743
10006   1926    1953    Jun-27   71.245
10006   1926    1953    Jun-28   70.139
10006   1926    1953    Jun-29   70.139
10006   1926    1953    Jun-30   70.139
10014   1926    1961    Jun-26   13.005 
```

您可以将其放在子查询或 CTE 中。现在，您可以构建一条合理的 SQL，因为您不再有包含相同类型数据的重复列。

如果**需要**，您可以`PIVOT`在最后再次将其转回此 Excel 样式表，但我不建议这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T07:22:07.577

简单的答案是：不，您不能遍历表的列。

但是您可以使用简单的查询获取每列的列信息（名称、类型、大小等），然后构造一个表示查询的字符串

```
SELECT * FROM sys.columns WHERE object_id = OBJECT_ID('dbo.yourTableName') 
```

这是一个针对特定类型的所有列创建查询的函数。它接受 3 个参数：表名、一些常量值和数据类型（'float' 或 'int'）用法：

```
select dbo.BuildNumericQuery('MyTable','123','float') 
```

它将创建一个看起来像的字符串

```
'select * from MyTable where Field1=123 or Field2=123 or .... ' 
```

这里的代码（tadaaa）：

```
create function BuildNumericQuery 
(
  @table varchar(80), 
  @value varchar(10), 
  @datatype varchar(10) 
)
returns varchar(1000)
as
begin
  declare @column varchar(80), @query varchar(1000)
  declare x cursor for
    SELECT name FROM sys.columns 
      WHERE object_id = OBJECT_ID(@table) and (1=
         case when @datatype = 'int' 
               and system_type_id in (48,52,56,127) then 1
              when @datatype = 'float' 
               and system_type_id in (60,62,106,108,122) then 1 
              else 0 end)
  open x
  fetch next from x into @column
  while @@FETCH_STATUS=0 begin
    set @query= case 
      when @query is null then '' 
      else @query+' or ' 
      end + @column+' = '+ @value
    fetch next from x into @column
  end
  close x
  deallocate x
  set @query='select * from ' + @table + 
    case when @query is null then '' else 'where '+@query     
    end
  return @query
end 
```

但是，这不是好的解决方案。重构表模式是真正的交易。

# php - 验证输入的用于请求密码的电子邮件是否存在于数据库中

> ID：13428260
> 
> 赞同：0
> 
> 时间：2012-11-17T06:20:11.940
> 
> 标签：php, mysql, database, smtp, echo

我有以下代码从数据库中检索用户的密码并通过电子邮件发送给他。如果数据库中存在用户的电子邮件，我可以成功地向用户发送他的密码。但是如果电子邮件不存在，我希望代码回显特定用户的电子邮件在数据库中不存在。如果在表单中输入了无效的电子邮件，我的代码会给我以下结果：

无法添加收件人：@localhost [SMTP：从服务器收到的响应代码无效（代码：555，响应：5.5.2 语法错误。v9sm2318990paz.6）]

为此，我尝试使用 if-else 语句。这是我写的代码：

```
<?php

//Connect to server and select databse.
mysql_connect("$host", "$username", "$password")or die("cannot connect to server");
mysql_select_db("$db_name")or die("cannot select DB");

// email value sent from HTML form
$email_to=$_POST['email'];

// table name
$tbl_name="registration";

if($mysql1 = "SELECT ID,Email,Password FROM $tbl_name WHERE Email='$email_to' ORDER BY ID DESC ")
{
$selectemail = mysql_query($mysql1);

$shah       =   mysql_fetch_array($selectemail);
$EMAIL      =   $shah['Email'];
$UID        =   $shah['ID'];
$password           =       $shah['Password'];

require_once "/home/computat/php/Mail.php";

$from = "abhishekagrawal.988@gmail.com";
$to = $EMAIL;  

$subject = "Your password for www.computationalphotography.in";
$body    = "Your password for logging on to our website www.computationalphotography.in is:\n$password\r\nIf you have any additional queries, kindly write to us at abhishekagrawal.988@gmail.com\r\n\nThanks & Regards\nThe Computational Photography Team\n";   

    $host = "ssl://smtp.gmail.com";
    $port = "465";
    $username = "abhishekagrawal.988@gmail.com";  //
    $password = "*********";

    $headers = array ('From' => $from,
      'To' => $to,
      'Subject' => $subject);
    $smtp = Mail::factory('smtp',
      array ('host' => $host,
        'port' => $port,
        'auth' => true,
        'username' => $username,
        'password' => $password));

    $mail = $smtp->send($to, $headers, $body);

    if (PEAR::isError($mail)) {
      echo("<p>" . $mail->getMessage() . "</p>");
     } else {
      echo("<p></p>");
     }
}
else{
echo "<b><center>Email not found in the database</center></b>";
}
/* 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:26:14.230

用这个

```
$mysql1 = mysql_query("SELECT ID,Email,Password FROM $tbl_name WHERE Email='$email_to' ORDER BY ID DESC ");
if(mysql_num_rows($mysql1)){
      //exists in db
}
else{//does not exist} 
```

避免使用`mysql_*`函数 use`mysqli_*`或`PDO`as `mysql_*`is are depreciated

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T06:38:27.543

我认为 @localhost 已添加到 Mail.php 中的 $email 变量中

尝试更改脚本中 $email 变量的名称。

你也可以使用 die($email); 在您的脚本中测试电子邮件在各个阶段的价值。

# c++ - 类型表达式上的 decltype

> ID：13428263
> 
> 赞同：3
> 
> 时间：2012-11-17T06:20:37.850
> 
> 标签：c++, templates, decltype

有什么方法可以避免以下示例中的虚拟函数？

```
template<class T1, class T2>
struct A {

    static T1 T1_ ();
    static T2 T2_ ();

    typedef decltype (T1_ () + T2_ ()) sum_type;
}; 
```

我想写

```
typedef decltype (T1+T2) sum_type; 
```

但这是不可能的，因为`T1`and`T2`是类型，而不是变量。我的上述解决方案真的是最简单的吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-17T06:38:43.763

圣标准**`std::declval`**正是为此目的而规定的：

```
typedef decltype (declval<T1>()+declval<T2>()) sum_type; 
```

包括`<utility>`标题。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-17T06:38:35.043

你可以这样做：

```
typedef decltype(*(T1*)0 + *(T2*)0) sum_type; 
```

# ember.js - ember CollectionView 在最后突出显示时设置一个 className

> ID：13428265
> 
> 赞同：2
> 
> 时间：2012-11-17T06:21:00.047
> 
> 标签：ember.js, collectionview

我有一个使用**Ember.CollectionView**显示的项目列表，其 tagName 为**ul**。我想为 li 中的一个元素设置一个特定的**className**得到***mouseOvered***但在任何给定时间只有一个元素可以拥有该类，基本上在任何元素的 mouseOver 上我需要从所有元素中删除该类并将其添加到当前结束的具体一个。

```
App.AnimalsListView = Ember.CollectionView.extend({
  tagName: 'ul',
  contentBinding: 'parentView.controller.content',
  classNames: ['animals'],
  elementId: 'animalsList',
  itemViewClass: Ember.View.extend({
    highlightNameBinding: "",
    classNameBindings: ['animal', 'highlightName'],
    template: Ember.Handlebars.compile(
      '{{view.content.title}}'
    ),
    mouseEnter: function() {
      // need to remove highlighted class on all elements
      // this.set('highlightName', 'highlighted'); on current element
    },
    mouseLeave: function() {

    }
  })
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T08:37:22.373

You could use className Bindings by toggling a boolean value when the mouse enters or leaves...

```
App.AnimalsListView = Ember.CollectionView.extend({
  tagName: 'ul',
  contentBinding: 'parentView.controller.content',
  classNames: ['animals'],
  elementId: 'animalsList',
  itemViewClass: Ember.View.extend({
    isHighlighted: false,
    //highlight-name is the CSS Class to be applied when isHighlighted = true
    classNameBindings: ['animal', 'isHighlighted:highlight-name'],
    template: Ember.Handlebars.compile(
      '{{view.content.title}}'
    ),
    mouseEnter: function() {
      //due to the following line, class will be applied when mouse enters
      this.set('isHighlighted', true);
      //this.toggleProperty('isHighlighted'); if using the latest ember
    },
    mouseLeave: function() {
      //remove the class by making the value false when mouse leaves
      this.set('isHighlighted', false);
      //this.toggleProperty('isHighlighted'); if using the latest ember
    }
  })
}); 
```

Hope this helps...

**Update on highlighting an item on click**

This method is particularly useful if you are planning on routing on clicking item in a list, and doesn't require clearing the boolean flag by iterating over...

```
//define a reusable component this way

App.ListView = Ember.CollectionView.extend({
    itemViewClass: Ember.View.extend({
        tagName: 'li',
        classNameBindings: ["isSelected:highlight-item"],
        isSelected: (->
            return this.get('content.id') === this.get('parentView.selected');
        ).property('parentView.selected')
    })
})

App.PostsController =  Ember.ArrayController.extend({
    content: [{
            name: "name1",
            id: 1,
            property1: "etc"
        },
        {
            name: "name2",
            id: 2,
            property1: "etc"                    
        }
        ]
})

//App.PostsView Handlebars
{{#collection App.ListView contentBinding="content" selectedBinding="controllers.postController.content.id"}}
    Name: {{view.content.name}}<br>
    Comments: {{view.content.property1}}
{{/collection}}
{{outlet}} //to connect App.PostView

//Now when an item is clicked you could send the context object or just the context id 
```

If you are not using routing you could go with what said by Aras

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-18T07:23:22.487

保留所选项目的一种方法是向*Animal*模型添加 selection 属性。然后，您可以在控制器中添加一个方法来迭代您的列表`animals`并将它们全部重置为 false

```
clearHighlighted: function() { 
  animals.forEach(function(animal, index, self) {
    animal.set('highlighted', false);
  });
} 
```

在鼠标输入时，您将首先调用该方法将所有突出显示的属性重置为`false`，然后将`highlighted`当前视图的属性设置为`true`。不是最有效的，但我认为除了上面未指定的内容之外，这将相对容易实现。

# git - 推送到 master 时出错：git

> ID：13428266
> 
> 赞同：2
> 
> 时间：2012-11-17T06:21:01.870
> 
> 标签：git

我是一个新的 git 用户。

我在 bitbucket 上有一个存储库，我想将它导入到我在实时共享主机 Web 服务器（我安装了 git）上创建的 .git 文件夹中。我可以通过 SSH 发出命令。我正在按照[http://joemaller.com/990/a-web-focused-git-workflow/中的说明进行操作](http://joemaller.com/990/a-web-focused-git-workflow/)

如文章中所述，我已经能够在服务器上设置 2 个存储库。但是，当给出命令时：

```
"git remote add hub ~/site_hub.git; git remote show hub; git push hub master; " 
```

我得到：

```
Push URL: /home/***/site_hub.git HEAD branch: (unknown) 
error: src refspec master does not match any. 
error: failed to push some refs to '/home/***/site_hub.git' 
```

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:44:22.863

你不能推送到一个空的存储库：它还不包含一个`master`分支。

对于裸回购，请尝试：

```
git push -u origin master 
```

这是因为最近**[推动政策发生了变化](https://stackoverflow.com/questions/4586687/what-is-the-result-of-git-push-origin/9749477#9749477)**。

在您的情况下，您的远程裸仓库称为集线器，因此：

```
git push -u hub master 
```

[OP](https://stackoverflow.com/users/1592380/user61629)仍然出现错误：

```
src refspec master does not match any. 
error: failed to push some refs to '/home/*****/site_hub.git 
```

但只有在源 repo 的 master 上没有任何提交时才会出现这种情况。
事实上，[OP](https://stackoverflow.com/users/1592380/user61629)报告：

> 我有一个语法错误错误，阻止了 add 命令在“prime”存储库中工作。
> 修复此问题后，文件似乎可以正确添加。然后我运行' `git push hub master`'，现在`site_hub.git/objects/pack`目录中似乎有我认为是推送文件的文件。

* * *

对于非裸仓库，首先在目标本地仓库中进行空提交。

有关具体示例，请参见：

*   “[`push origin master`新存储库错误](https://stackoverflow.com/questions/827351/push-origin-master-error-on-new-repository)”
*   “[`src refspec master`在 git 中推送提交时不匹配任何内容](https://stackoverflow.com/a/7572252/6309)”

# c - 管道实现中的错误，我面临这个错误，ls: write error: Bad file descriptor

> ID：13428267
> 
> 赞同：0
> 
> 时间：2012-11-17T06:21:02.977
> 
> 标签：c, fork, pipe

我在 c 中实现 shell 时做了这个，但是在实现管道时，我想出了这个错误 ls:write error:Bad file descriptor ，我不明白为什么会出现这个错误，请帮忙。

```
#include<stdio.h>
#include<unistd.h>
#include <stdlib.h>
void  execute(char **argv)
{
  pid_t  pid;
  int    status;
  //fflush(0); 
  pid_t id  ;
  int out=0,in=0,pip=0;
  int fds[2];

  if ((pid = fork()) < 0) {     /* fork a child process           */
      printf("*** ERROR: forking child process failed\n");
      exit(1);
  }
  if (pid==0) {
    close(1);       /* close normal stdout */
    dup2(fds[1],1);   /* make stdout same as pfds[1] */
    close(fds[0]); /* we don't need this */
    execlp(argv[0],argv[0],argv[1],NULL);
   } 
  else {
     close(0);       /* close normal stdin */
     dup2(fds[0],0);   /* make stdin same as pfds[0] */
     close(fds[1]); /* we don't need this */
     execlp(argv[3],argv[3],argv[4], NULL);
    }

  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T06:26:42.827

`pipe(fds);`在你打电话之前，你似乎错过了一个电话`fork()`。你也错过了一些`close()`电话。如果将管道的一端（使用`dup()`或`dup2()`）复制到标准输入或标准输出，则应关闭来自 的*两个*原始描述符`pipe()`。

还有一个强有力的论点是您应该检查系统调用的返回值。你可以使用这样的函数：

```
#include <stdarg.h>
#include <stdio.h>
#include <string.h>
#include <errno.h>
#include <stdlib.h>

extern void err_exit(const char *fmt, ...);

void err_exit(const char *fmt, ...)
{
    int errnum = errno;
    va_list args;
    va_start(args, fmt);
    vfprintf(stderr, fmt, args);
    va_end(args);
    if (errnum != 0)
        fprintf(stderr, " (%d: %s)", errnum, strerror(errnum));
    fputc('\n', stderr);
    exit(1);
} 
```

你可以像这样使用它：

```
if (dup2(fds[2], 1) != 0)
    err_exit("dup2(%d, %d) failed", fds[2], 1); 
```

# android - Android 和 Phonegap 中的推送通知

> ID：13428272
> 
> 赞同：2
> 
> 时间：2012-11-17T06:22:21.350
> 
> 标签：android, cordova, sencha-touch, push-notification

我正在 Android 应用程序中搜索推送通知。我检查了“ **Pushwoosh** ”：以`initPushwoosh`我看到的方法`GOOGLE_PROJECT_ID`和`PUSHWOOSH_APP_ID`.

```
function initPushwoosh() {
  var pushNotification = window.plugins.pushNotification;
  pushNotification.registerDevice(
    {
      projectid: "GOOGLE_PROJECT_ID",
      appid : "PUSHWOOSH_APP_ID"
    },
    function(status) {
      var pushToken = status;
      console.warn('push token: ' + pushToken);
    },
    function(status) {
      console.warn(JSON.stringify(['failed to register ', status]));
    }
  );
  document.addEventListener('push-notification', function(event) {
    var title = event.notification.title;
    var userData = event.notification.userdata;
    if(typeof(userData) != "undefined") {
      console.warn('user data: ' + JSON.stringify(userData));
    }
    navigator.notification.alert(title);
  });
} 
```

我怎样才能得到这两个ID？或者有没有更好的方法来做到这一点？

我在 PhoneGap 文档中看到了通知，它是推送通知吗？

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-18T11:29:33.890

这些是您必须执行的步骤：

1.  首先您必须在 Google APIs 站点注册，选择服务：[https ://code.google.com/apis/console/](https://code.google.com/apis/console/)
2.  将 Google Cloud Messaging 切换为 ON
3.  在服务条款页面中，接受条款。现在您需要创建服务器密钥
4.  按“API 访问”按钮
5.  按“创建新的服务器密钥”。服务器密钥或浏览器密钥应该可以工作。使用服务器密钥的优点是它允许您将 IP 地址列入白名单。
6.  按“创建”。
7.  您可以`GOOGLE_PROJECT_ID`从 Google API 控制台中的 URL 找到您的。通常它看起来像这样：[https](https://code.google.com/apis/console/#project:12345678912:access) ://code.google.com/apis/console/#project :12345678912:access 在这个例子中，它会是：12345678912
8.  进入 Pushwoosh copanel：[https ://cp.pushwoosh.com/](https://cp.pushwoosh.com/)
9.  创建或进入`My Apps`菜单
10.  当您进入应用程序时，您会在该页面或导航器的 url 中看到应用程序代码，这将是您的`PUSHWOOSH_APP_ID`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T23:24:15.857

Phonegap 的通知与推送通知无关。在这里查看：http: [//docs.phonegap.com/en/2.2.0/cordova_notification_notification.md.html#Notification](http://docs.phonegap.com/en/2.2.0/cordova_notification_notification.md.html#Notification)

要将 Pushwoosh for Android 与 Phonegap 集成，请查看手册：[http ://www.pushwoosh.com/programming-push-notification/android-gcm-push-notifications-guide/](http://www.pushwoosh.com/programming-push-notification/android-gcm-push-notifications-guide/)

此页面上有更多使用 Pushwoosh 的指南：
[http ://www.pushwoosh.com/programming-push-notification/](http://www.pushwoosh.com/programming-push-notification/)

祝你好运！

# matlab - 在 MATLAB 上为特定 y 值绘制不同线条颜色的绘图

> ID：13428273
> 
> 赞同：0
> 
> 时间：2012-11-17T06:22:21.417
> 
> 标签：matlab, plot, colors

我想制作一个图，以便对于所有`y`大于 some 的值`y0`，该图将显示为红色。对于所有其他值，它将显示为蓝色。这在 MATLAB 中可行吗？这将有助于在不同的条件下以不同的颜色/设置绘制绘图的不同部分。我正在寻找类似的东西

`plot(x,y,{y>y0,'-r'})`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T06:49:48.217

试试这个：

```
 plot(x,y,'b',x(y>y0),y(y>y0),'r'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T06:50:32.097

您可以将大于 y0 的值分开，然后使用“hold on”为小于 y0 的值绘制一次图形，为大于 y0 的值绘制第二次图形。

[http://www.mathworks.com/help/matlab/ref/hold.html](http://www.mathworks.com/help/matlab/ref/hold.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T14:05:47.217

这个问题没有定义在极限范围内应该发生什么。

但一个很好的尝试是：

```
y1=y;
y1(y<=y0)=NaN;
plot(x,y,'b', x,y1,'r'); 
```

# iphone - FacebookSDK for IOS 6 使用 FBLoginView

> ID：13428275
> 
> 赞同：1
> 
> 时间：2012-11-17T06:22:32.897
> 
> 标签：iphone, facebook, ipad, loginview, authorize

我有一个 iPhone IOS 4.3 和 iPad IOS 6 应用程序都使用相同的代码来登录用户。FBLoginView 在 IOS4.3 的 iPhone 上工作。在我使用 IOS 6 的 iPad 应用程序上，只显示对话框说应用程序想要访问您的照片，并使用 2 个按钮“不允许”和“确定”代表您发布给您的朋友。我按了确定，但 Facebook 仍未登录。

我还需要什么其他设置？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-02T16:22:54.520

对我来说，问题是因为我使用的是offline_access。

我有以下代码：

```
FBLoginView *loginView = [[FBLoginView alloc] initWithReadPermissions:
             [NSArray arrayWithObjects:@"offline_access", @"email", nil]]; 
```

更改为后错误消失：

```
FBLoginView *loginView = [[FBLoginView alloc] initWithReadPermissions:
             [NSArray arrayWithObjects:@"email", nil]]; 
```

此处有关离线访问的更多详细信息：[https ://developers.facebook.com/roadmap/offline-access-removal/](https://developers.facebook.com/roadmap/offline-access-removal/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T22:00:30.847

好的，现在不要使用 FBLoginView，而是使用下面的方法来追踪错误。然后，您可以切换回 FBLoginView。

```
[FBSession openActiveSessionWithReadPermissions:[NSArray arrayWithObjects:@"read_stream", nil] allowLoginUI:YES
                              completionHandler:^(FBSession *session,
                                                  FBSessionState status,
                                                  NSError *error) {
                                  // session might now be open.
                                  NSLog(@"Error - %@", error);
                              }] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T06:34:00.170

根据文档，可以使用以下代码完成登录。将 NSLog 放入其中以获取错误。

```
[FBSession openActiveSessionWithReadPermissions:[NSArray arrayWithObjects:@"read_stream", nil] allowLoginUI:YES
                              completionHandler:^(FBSession *session,
                                                  FBSessionState status,
                                                  NSError *error) {
                                  // session might now be open.
                                  NSLog(@"Error - %@", error);
                              }] 
```

# c# - 从数据库中检索位值

> ID：13428276
> 
> 赞同：-4
> 
> 时间：2012-11-17T06:22:32.933
> 
> 标签：c#, sql-server

当我试图从数据库中获取位值时，它会出错。下面给出以下代码：

```
SqlCommand cmd = new SqlCommand("SELECT ISADMIN FROM USER_DETAILS WHERE USER_NAME=@User AND ISPASSWORD=@Pass", con);
cmd.Parameters.AddWithValue("@User", cbUserName.Text);
cmd.Parameters.AddWithValue("Pass", txtPassword.Text);

SqlDataReader dr = cmd.ExecuteReader();

b = (bool)dr["ISADMIN"];//*Here it gives error 
```

错误：

> *不存在数据时尝试读取无效。*

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-17T06:26:45.210

您必须先调用[`Read()`](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqldatareader.read.aspx)数据阅读器。

```
using(SqlDataReader dr = cmd.ExecuteReader())
{
    while(dr.Read())
    {
         //now read the value(s)
    }
} 
```

如果您确定会有一个结果，那么使用[`ExecuteScalar()`](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executescalar.aspx)将是一种更好的方法：

```
b = (bool)cmd.ExecuteScalar(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T06:31:30.417

您必须调用 SqldataReader 的读取方法。

```
 SqlDataReader dr = cmd.ExecuteReader();

 while(dr.Read())
 {
 b = (bool)dr["ISADMIN"];
 } 
```

# javascript - 使用谷歌地图地理编码通过 jquery/ajax 从纬度/经度获取城市/州？

> ID：13428284
> 
> 赞同：7
> 
> 时间：2012-11-17T06:24:58.043
> 
> 标签：javascript, jquery, google-maps, google-maps-api-3

我已经反向看到了这个概念的一些 jscript/jquery 实现，您可以在其中输入邮政编码并从 google maps api 获取 long/lat。

但是，就我而言，我已经有一组坐标，并且想知道当我们通过 jquery 提供经度/纬度时，是否可以从 API 动态获取文本城市状态结果？

谢谢！

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-17T06:27:39.223

这是一个称为[反向地理编码](https://developers.google.com/maps/documentation/geocoding/#ReverseGeocoding)的过程，谷歌有相当广泛的文档。

一个例子是：

```
$.ajax({ url:'http://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&sensor=true',
         success: function(data){
             alert(data.results[0].formatted_address);
             /*or you could iterate the components for only the city and state*/
         }
}); 
```

# iphone - 我想以编程方式从照片库中删除图像？

> ID：13428286
> 
> 赞同：2
> 
> 时间：2012-11-17T06:24:59.737
> 
> 标签：iphone, objective-c, image

我想从照片库中删除图像或替换裁剪的图像而不是原始图像。在iphone中可以吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T06:50:04.160

您不能允许删除`PhotoLibrary`通过代码的任何图像，您可以通过直接在 PhotoLibrary 应用程序中到达那里来执行此操作。

这是由 Apple 限制完成的。请参阅 Apple 文档的几行关于此的内容。

`To save a still image to the user’s Saved Photos album, use the UIImageWriteToSavedPhotosAlbum function. To save a movie to the user’s Saved Photos album, use the UISaveVideoAtPathToSavedPhotosAlbum function.`

# java - 值更改时要运行的函数java

> ID：13428289
> 
> 赞同：-1
> 
> 时间：2012-11-17T06:25:24.827
> 
> 标签：java, variables, onchange

在弄清楚我不能自动装箱自己的类型之后，我仍然需要一个在分配时自动调整自身的值。这会起作用吗，还是会简单地冻结？如果它不会，那么帮助将不胜感激。

```
while(true){
    if(x){
        y=z
    }
} 
```

注意：如果我更好地解释我的课程可能会有所帮助，所以这里是：它本质上与整数相同，但它需要一个最大值和一个最小值。我需要这样当它的值大于最大值时，它从最小值开始，反之亦然。例子：

```
LoopInteger i = new LoopInteger(0, 3, 0); //min, max, value
i.setValue(5); //When this is run, i need it to set the value to 1, as it is two more than the max of 3
i.setValue(-2); //The same here, except now it has to be set to 2, as it is two less than the min of 0. 
```

基本上，它至少具有可配置的最大值并且未签名。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:00:47.773

好吧，只要它是这样写的，你就可以做类似的工作（有点）：

```
volatile boolean x;
...
while (true) {
   if (x) {
       y = z;
       break;
   }
} 
```

（请注意，您需要声明`x`为 volatile 或`synchronized`为此线程使用同步以可靠地看到`x`另一个线程所做的更新。）

但是，这是一种不好的实现方式。本质上，一个线程将不断执行该循环，直到`x`设置为`true`. 这将占用您的一个核心，占用您系统的大量内存带宽……并耗尽您机器的电池。

更好的方法是设置`x`私有，并编写它的设置器以在变量更新时通知另一个线程。

或者更好的是，使用事件/事件侦听器或类之一来实现您尝试做的任何事情`java.util.concurrent`。（很难建议哪个最好，因为你的例子太做作了......）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T06:32:42.390

**我没有看到您的循环的任何终止条件**，因此它将继续循环。我认为您可以执行以下两种操作之一：

1.  使用`break`：

    ```
     while(true){
       if(x){
          y=z;
          break;
       }
    } 
    ```

2.  使用状态标志：

    ```
     boolean found = false;
     while(!found){
       if(x){
          y=z;
          found = true;
       }
    } 
    ```

另外我建议在循环中设置一些时间间隔，例如 100 毫秒（Thread.sleep(100)）；否则它将不断循环单元`x`条件满足。

# java - 在通知区域显示加载活动进度条

> ID：13428292
> 
> 赞同：2
> 
> 时间：2012-11-17T06:26:23.527
> 
> 标签：java, android, eclipse, progress-bar

我想在通知区域放置一个进度条，当用户切换到另一个活动时；在加载时间显示进度百分比和通知区域的值。

我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T06:42:39.900

您可以通过以下方式做到这一点使用进度条的关键是使用“线程”运行您的时间消耗任务，并使用另一个“线程”相应地更新进度条状态。阅读代码的注释，它应该是不言自明的。

```
import android.app.Activity;
import android.app.ProgressDialog;
import android.os.Bundle;
import android.os.Handler;
import android.widget.Button;
import android.view.View;
import android.view.View.OnClickListener;

public class MyAndroidAppActivity extends Activity {

    Button btnStartProgress;
    ProgressDialog progressBar;
    private int progressBarStatus = 0;
    private Handler progressBarHandler = new Handler();

    private long fileSize = 0;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        addListenerOnButton();

    }

    public void addListenerOnButton() {

        btnStartProgress = (Button) findViewById(R.id.btnStartProgress);
        btnStartProgress.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {

                // prepare for a progress bar dialog
                progressBar = new ProgressDialog(v.getContext());
                progressBar.setCancelable(true);
                progressBar.setMessage("File downloading ...");
                progressBar.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
                progressBar.setProgress(0);
                progressBar.setMax(100);
                progressBar.show();

                // reset progress bar status
                progressBarStatus = 0;

                // reset filesize
                fileSize = 0;

                new Thread(new Runnable() {
                    public void run() {
                        while (progressBarStatus < 100) {

                            // process some tasks
                            progressBarStatus = doSomeTasks();

                            // your computer is too fast, sleep 1 second
                            try {
                                Thread.sleep(1000);
                            } catch (InterruptedException e) {
                                e.printStackTrace();
                            }

                            // Update the progress bar
                            progressBarHandler.post(new Runnable() {
                                public void run() {
                                    progressBar.setProgress(progressBarStatus);
                                }
                            });
                        }

                        // ok, file is downloaded,
                        if (progressBarStatus >= 100) {

                            // sleep 2 seconds, so that you can see the 100%
                            try {
                                Thread.sleep(2000);
                            } catch (InterruptedException e) {
                                e.printStackTrace();
                            }

                            // close the progress bar dialog
                            progressBar.dismiss();
                        }
                    }
                }).start();

            }

        });

    }

    // file download simulator... a really simple
    public int doSomeTasks() {

        while (fileSize <= 1000000) {

            fileSize++;

            if (fileSize == 100000) {
                return 10;
            } else if (fileSize == 200000) {
                return 20;
            } else if (fileSize == 300000) {
                return 30;
            }
            // ...add your own

        }

        return 100;

    }

} 
```

**打开“layout/main.xml”文件，添加普通按钮进行演示。**

```
<Button
    android:id="@+id/btnStartProgress"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Download File" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T08:06:17.327

要显示通知：

```
NotificationManager notificationManager = (NotificationManager) mContext
            .getSystemService(NOTIFICATION_SERVICE);

        Notification updateComplete = new Notification();
        updateComplete.icon = android.R.drawable.stat_notify_sync;
        updateComplete.tickerText = mContext
            .getText(R.string.app_name);
        updateComplete.when = System.currentTimeMillis();

        Intent notificationIntent = new Intent(mContext,
                MainActivity.class);
            PendingIntent contentIntent = PendingIntent.getActivity(mContext, 0,
                notificationIntent, 0);

            String contentTitle = mContext.getText(R.string.app_name)
                    .toString();
                String contentText;

                    contentText = mContext.getText(
                        R.string.yes).toString();

                updateComplete.setLatestEventInfo(mContext, contentTitle,
                    contentText, contentIntent);

                notificationManager.notify(progressBarStatus, updateComplete); 
```

了解更多信息：

[http://mobile.tutsplus.com/tutorials/android/android-fundamentals-status-bar-notifications/](http://mobile.tutsplus.com/tutorials/android/android-fundamentals-status-bar-notifications/)

# html - HTML 导航错误。如何处理 www.website.com 与 website.com？html中的正确导航？

> ID：13428293
> 
> 赞同：0
> 
> 时间：2012-11-17T06:26:36.277
> 
> 标签：html, navigation, no-www

我有以下html代码：

```
<div id="page">
    <a class="topNavigationLink" href="http://MyOwnWebsite.com/">Home</a>
    <a class="topNavigationLink" href="page1.html">page1</a>
    <a class="topNavigationLink" href="page2.html">page2</a>
</div> 
```

当我浏览到 www.MyOwnWebsite.com 然后单击导航链接时，一切正常。

但是，如果我浏览到 MYOWnWebsite.com（没有 www）然后尝试导航到其中一个页面，我会收到一个错误：

```
Firefox can't find the file at http://MyOWnWebsite.com/page1.html. 
```

难道我做错了什么？处理 www.website.com 与 website.com 的正确方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:39:12.533

如果您对您的虚拟主机具有 root（和 ssh）访问权限，您应该在 htdocs 目录中的 www 文件夹中添加一个符号链接。您的 htdocs 文件夹中的所有目录都被您的网络服务器视为子域。因此，如果您的 DNS 记录将您指向通配符子域的服务器，您的网络服务器将处理子域的进一步处理。所以这个符号链接将使您的服务器为 www.mysite.com 和 mysite.com 加载相同的内容。

```
cd /patch/to/htdocs
ln -s www mysite 
```

将 mysite 替换为您的域名，但没有国家后缀和 www 前缀。它应该给你这样的东西：

```
[vhostxxxx@ssh:~/domains/mysite.com/htdocs]$ ls -l
total 3 
lrwxrwxrwx  1 vhostxxxx vhostuser  3 2012-11-10 12:47 mysite -> www
drwxr-xr-x+ 9 vhostxxxx vhostuser 20 2012-11-13 21:52 www` 
```

现在，如果我浏览到 mysite.com，我会看到与 www.mysite.com 相同的站点。

至于导航中的链接：

```
`<div id="page">
    <a class="topNavigationLink" href="http://mysite.com/">Home</a>
    <a class="topNavigationLink" href="http://wwww.mysite.com">Home</a>
    <a class="topNavigationLink" href="wwww.mysite.com">Home</a>
    <a class="topNavigationLink" href="page1.html">page1</a>
    <a class="topNavigationLink" href="/page2.html">page2</a>
</div>` 
```

这将链接如下（按某种顺序）：

1.  `mysite`到您调用的目录（或符号链接）`htdocs`
2.  `wwww`到您调用的目录（或符号链接）`htdocs`
3.  这是错误的。它将指向一个名为 的页面`wwww.mysite.com`，该页面应位于与您链接它的页面相同的目录中。因此，如果您将其链接到`htdocs/www/index.html`它将指向`htdocs/www/wwww.mysite.com`. `http://`如果您的地址包含域，请始终使用。
4.  到名为 的页面`page1.html`，该页面与您链接它的页面位于同一目录中。如果您从中链接它，`htdocs/www/SomeTopic/page99.html`它将指向`htdocs/www/SomeTopic/page1.html`
5.  到名为 的页面`page2.html`，位于文档根目录中。如果您从中链接它，`htdocs/www/SomeTopic/page99.html`它将指向`htdocs/www/page1.html`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T06:50:37.697

这是导航的一个常见错误，当您在当前网址时

> `http://www.mywebsite.com/home/index.html`

你有一个这种形式的锚标签：

> `<a class="topNavigationLink" href="page1.html">page1</a>`

当您单击此链接时，您将被重定向到：

> `http://www.mywebsite.com/home/page1.html`

这是因为`href="page1.html"`是一个**相对链接**，并且 url 的基础是`/home/`

# 解决方案：

如果你想访问：

> `http://www.mywebsite.com/home/page1.html`

您必须在链接中添加正斜杠。例子：

> `<a class="topNavigationLink" href="/page1.html">page1</a>`

这将具有根域的基础`/`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-17T06:40:57.320

您应该做的第一件事是**使用相对链接。**

话虽如此，您**应该**检查您的**域的 DNS 记录**，A 记录有**一个“*”记录**，它获取您的所有子域，包括“www”并将它们指向您的服务器。

或者如果你不需要全部，你可以只输入“www”。

您可以在**registrar**的控制面板中执行此操作。

您在导航中拥有的是没有前导斜杠的链接。

建立您的相对链接`/page_x.html`，而不仅仅是`page_x.html`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T21:00:43.643

为了解决这个问题，我做了以下事情：

进入我的主机鳄鱼控制面板 - >点击域重定向。[添加了来自http://website.com](http://website.com)的永久重定向以重定向到[https://www.mysite.com](https://www.mysite.com)。

这样，每次用户在没有 www 的情况下访问 mysite.com 时，它会将他们重定向到 www.mysite.com 并且所有导航都将从那里开始工作。

# ios - UITableView 偏移隐藏部分标题

> ID：13428300
> 
> 赞同：0
> 
> 时间：2012-11-17T06:28:21.687
> 
> 标签：ios, uitableview, uisearchbar

在我的应用程序上，我设置了一个 UISearchBar，它最初是偏移的，直到用户向上滚动。问题是部分标题（右侧的字母）也偏移了，因此隐藏了前两个字母。

如何仅删除此偏移量或完全删除它？

# objective-c - SLComposeViewController CompletionHandler

> ID：13428304
> 
> 赞同：19
> 
> 时间：2012-11-17T06:29:34.680
> 
> 标签：objective-c, ios, xcode

嗨，如果使用 SLComposeViewController CompletionHandler 完成推文，我如何获得通知。这是发送推文的代码

```
 if ([SLComposeViewController isAvailableForServiceType:SLServiceTypeTwitter])
    {
        SLComposeViewController *tweetSheet = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeTwitter];
        [tweetSheet setInitialText:@"Tweeting from my own app! :)"];
        [tweetSheet addURL:[NSURL URLWithString:@"www.someurl.com"]];

        [self presentViewController:tweetSheet animated:YES completion:NULL];
    } 
```

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-11-17T06:36:35.440

找到了答案

```
- (void)showTweetSheet
{
  //  Create an instance of the Tweet Sheet
  SLComposeViewController *tweetSheet = [SLComposeViewController
                                         composeViewControllerForServiceType:
                                         SLServiceTypeTwitter];

  // Sets the completion handler.  Note that we don't know which thread the
  // block will be called on, so we need to ensure that any UI updates occur
  // on the main queue
  tweetSheet.completionHandler = ^(SLComposeViewControllerResult result) {
    switch(result) {
        //  This means the user cancelled without sending the Tweet
      case SLComposeViewControllerResultCancelled:
        break;
        //  This means the user hit 'Send'
      case SLComposeViewControllerResultDone:
        break;
    }

    //  dismiss the Tweet Sheet
    dispatch_async(dispatch_get_main_queue(), ^{
      [self dismissViewControllerAnimated:NO completion:^{
        NSLog(@"Tweet Sheet has been dismissed.");
      }];
    });
  };

  //  Set the initial body of the Tweet
  [tweetSheet setInitialText:@"just setting up my twttr"];

  //  Adds an image to the Tweet.  For demo purposes, assume we have an
  //  image named 'larry.png' that we wish to attach
  if (![tweetSheet addImage:[UIImage imageNamed:@"larry.png"]]) {
    NSLog(@"Unable to add the image!");
  }

  //  Add an URL to the Tweet.  You can add multiple URLs.
  if (![tweetSheet addURL:[NSURL URLWithString:@"http://twitter.com/"]]){
    NSLog(@"Unable to add the URL!");
  }

  //  Presents the Tweet Sheet to the user
  [self presentViewController:tweetSheet animated:NO completion:^{
    NSLog(@"Tweet sheet has been presented.");
  }];
} 
```

# c++ - 是否有适用于 iOS 的高级音频队列记录服务库？

> ID：13428305
> 
> 赞同：1
> 
> 时间：2012-11-17T06:29:35.940
> 
> 标签：c++, objective-c, ios, xcode, macos

我正在尝试开发一个关于VOIP的应用程序，

是否有适用于 iOS 的高级音频队列服务库？

因为我不太擅长处理扩展文件名“.mm”，

使用开源将是一个更好的选择。

或者有人可以给我一些关于如何从 AudioQueueBufferRef 获取缓冲区的提示？

理想的方式就像一个代表：

```
- (void)audioRecorderDidReceivedBuffer:(Buffer) {
    do something for other operations
} 
```

* * *

*   **更新** 我发现了一篇关于[使用 RemoteIO 音频单元的文章](http://atastypixel.com/blog/using-remoteio-audio-unit/)

    也许输入回调是我需要的。

> 总督
> 
> 1.  识别音频组件（kAudioUnitType_Output/ kAudioUnitSubType_RemoteIO/ kAudioUnitManufacturerApple）
> 2.  使用AudioComponentFindNext(NULL, &descriptionOfAudioComponent)获取AudioComponent，就像你获取音频单元的工厂
> 3.  使用 AudioComponentInstanceNew(ourComponent, &audioUnit) 创建音频单元的实例
> 4.  启用 IO 以使用 AudioUnitSetProperty 进行录制和播放
> 5.  在 AudioStreamBasicDescription 结构中描述音频格式，并使用 AudioUnitSetProperty 应用格式
> 6.  再次使用 AudioUnitSetProperty 为录制和可能的播放提供回调
> 7.  分配一些缓冲区
> 8.  初始化音频单元
> 9.  启动音频单元
> 10.  麾

```
// Enable IO for recording
UInt32 flag = 1;
status = AudioUnitSetProperty(audioUnit, 
                              kAudioOutputUnitProperty_EnableIO, 
                              kAudioUnitScope_Input, 
                              kInputBus,
                              &flag, 
                              sizeof(flag));

// Set input callback
AURenderCallbackStruct callbackStruct;
callbackStruct.inputProc = recordingCallback;
callbackStruct.inputProcRefCon = self;
status = AudioUnitSetProperty(audioUnit, 
                              kAudioOutputUnitProperty_SetInputCallback, 
                              kAudioUnitScope_Global, 
                              kInputBus, 
                              &callbackStruct, 
                              sizeof(callbackStruct));

//recordingCallback
static OSStatus recordingCallback(void *inRefCon, 
                              AudioUnitRenderActionFlags *ioActionFlags, 
                              const AudioTimeStamp *inTimeStamp, 
                              UInt32 inBusNumber, 
                              UInt32 inNumberFrames, 
                              AudioBufferList *ioData) {

// TODO: Use inRefCon to access our interface object to do stuff
// Then, use inNumberFrames to figure out how much data is available, and make
// that much space available in buffers in an AudioBufferList.

AudioBufferList *bufferList; // <- Fill this up with buffers (you will want to malloc it, as it's a dynamic-length list)

// Then:
// Obtain recorded samples

OSStatus status;

status = AudioUnitRender([audioInterface audioUnit], 
                         ioActionFlags, 
                         inTimeStamp, 
                         inBusNumber, 
                         inNumberFrames, 
                         bufferList);
checkStatus(status);

// Now, we have the samples we just read sitting in buffers in bufferList
DoStuffWithTheRecordedAudio(bufferList);
return noErr;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T16:30:45.147

这是如何从录音中获取音频缓冲区的方法

（参考自：[http](http://atastypixel.com/blog/using-remoteio-audio-unit/) ://atastypixel.com/blog/using-remoteio-audio-unit/ ）

```
static OSStatus recordingCallback(void *inRefCon, 
                                  AudioUnitRenderActionFlags *ioActionFlags, 
                                  const AudioTimeStamp *inTimeStamp, 
                                  UInt32 inBusNumber, 
                                  UInt32 inNumberFrames, 
                                  AudioBufferList *ioData) {

    // TODO: Use inRefCon to access our interface object to do stuff
    // Then, use inNumberFrames to figure out how much data is available, and make
    // that much space available in buffers in an AudioBufferList.

    AudioBufferList *bufferList; // <- Fill this up with buffers (you will want to malloc it, as it's a dynamic-length list)

    // Then:
    // Obtain recorded samples

    OSStatus status;

    status = AudioUnitRender([audioInterface audioUnit], 
                             ioActionFlags, 
                             inTimeStamp, 
                             inBusNumber, 
                             inNumberFrames, 
                             bufferList);
    checkStatus(status);

    // Now, we have the samples we just read sitting in buffers in bufferList
    DoStuffWithTheRecordedAudio(bufferList);
    return noErr;
} 
```

# exception - 未处理的异常

> ID：13428307
> 
> 赞同：0
> 
> 时间：2012-11-17T06:30:00.070
> 
> 标签：exception, exception-handling, visual-studio-2012, unhandled-exception

在我的 VS2012 VB.net 应用程序中，我有一段代码调用 UnhandledExceptions。

我的问题是：发生未处理的异常后，是否可以在下一行继续执行代码。就像“on error resume next”一样，除了例外？

# tfs - 如何一次性删除用户的所有 TFS 工作区

> ID：13428308
> 
> 赞同：2
> 
> 时间：2012-11-17T06:30:21.700
> 
> 标签：tfs, workspace

我想创建一个批处理文件来删除用户的所有 TFS 工作区。这将在一个人离开组织的情况下使用。

TFS 中是否有允许我一次性删除用户的所有工作区的命令？我不想先获取工作空间，然后一个一个地删除它们，因为那样就需要人工干预。

如果这样的事情是可能的 C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC>tf workspace /server:<servername> /delete *;<domain>\<username>

上面的命令不起作用。

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T06:34:13.137

我相信Atrice 的[Team Foundation Sidekicks可以做到这一点](http://www.attrice.info/cm/tfs/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-28T18:30:13.400

当前版本的[Sidekicks](http://www.attrice.info/cm/tfs/) (5.0) 允许您删除多个工作区。我刚刚清除了 4218 个工作区。

# python - Python从MySQL导入列数据作为数组

> ID：13428310
> 
> 赞同：0
> 
> 时间：2012-11-17T06:31:07.570
> 
> 标签：python, numpy, mysql-python

我有这个从 mysql 表中检索数据的代码。我正在使用 Python 的 MySQLdb 模块。我希望在数组下检索基于 SELECT WHERE 条件的每个列的数据。例如，在下面的代码中，我希望在不同的数组下检索位置字段为“NY，US”的所有数据 - 每个数组代表不同的列值。

```
import numpy
import MySQLdb

db = MySQLdb.connect("localhost", "root", "", "test")
cursor = db.cursor()

sql = "SELECT * FROM usa_new WHERE location = 'NY, US'"
try:
   cursor.execute(sql)
   results = cursor.fetchall()
   discresults = {}
   for row in results:

      id = row[0]
      location = row[1]
      temp_f = row[2]
      pressure_mb = row[3]
      wind_dir = row[4]
      wind_mph = row[5]
      relative_humidity = row[6]
      timestamp = row[7]

except:
   print "Error: unable to fecth data"

db.close() 
```

有什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-18T12:06:33.370

python中有一个名为“list”的数据结构，您可以将其用作数组。如果您的问题的语义我理解的是“获取按列分类的数组中的结果，并存储在本地列表中”，那么您可以执行以下简单的实现：记住我已经一一获取了符合给定条件的行；作为一种良好的做法；

```
import MySQLdb

db = MySQLdb.connect("localhost", "root", "", "test")
cursor = db.cursor()
id, location, temp_fm, pressure_mb, .. = [],[],[],[],...
//for the number of lists you want to create, just add their names and a empty list
sql = "SELECT * FROM usa_new WHERE location = 'NY, US'"

try:
   cursor.execute(sql)

   rcount = int(cursor.rowcount)

   for r in rcount:
      row = cursor.fetchone()

      id.append(row[0])
      location.append(row[1])
      temp_f.append(row[2])
      pressure_mb.append(row[3])
      wind_dir.append(row[4])
      wind_mph.append(row[5])
      relative_humidity.append(row[6])
      timestamp.append(row[7])

except:
   print "Error: unable to fecth data"

db.close() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-18T12:03:14.870

一旦你有了`results`from `cursor.fetchall()`，你可以尝试将结果映射到一个 numpy 数组中：-

```
cols = zip( *results ) # return a list of each column
                      # ( the * unpacks the 1st level of the tuple )
outlist = []

for col in cols:

    arr = numpy.asarray( col )

    type = arr.dtype

    if str(type)[0:2] == '|S':
        # it's a string array!
        outlist.append( arr )
    else:
        outlist.append( numpy.asarray(arr, numpy.float32) ) 
```

# python - Python 刷新和已经关闭的文件

> ID：13428313
> 
> 赞同：2
> 
> 时间：2012-11-17T06:31:23.443
> 
> 标签：python

当某些函数已经完成 f.close() 时，如何添加检查以避免使用 f.flush() 刷新文件 f？

我似乎无法弄清楚该怎么做：/

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T06:49:37.733

只需检查`closed`文件对象的属性。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-17T06:33:02.673

你可以使用[try ...我猜除了](http://docs.python.org/2/tutorial/errors.html#handling-exceptions)这个目的

> 任何需要打开文件的操作都会在文件关闭后引发 ValueError

或使用 fileobj.closed 属性，如果它为真，则不要刷新

> file.closed bool 指示文件对象的当前状态。这是一个只读属性；close() 方法更改值。它可能不适用于所有类似文件的对象。

# php - 抑制 php 中的 2048 错误

> ID：13428314
> 
> 赞同：2
> 
> 时间：2012-11-17T06:31:25.487
> 
> 标签：php, error-handling, shutdown, error-reporting

好的，首先，我已经搜索了将近 40 分钟，但找不到特定问题的答案。我知道最好修复错误，但这不是这里的问题。

我需要做的是让 php 不报告 2048 错误。原因是，我继承了一个站点，我需要设置一个关闭功能来捕获致命错误并向我发送短信。这一切都很好。但是代码不断抛出 2048 错误，因此当我的关闭函数遇到最后一个错误时，抛出的始终是 2048，而不是实际的致命错误。我不需要关闭显示错误，因为这不是问题。它是我关心的后端处理。

我通过关闭错误报告对此进行了测试。当我这样做时，我得到了预期的结果，但这意味着我无法在服务器上记录其他错误。我只是希望它忽略 2048 错误，我认为这是 E_STRICT。但是，我的错误报告仅设置为 E_ERROR，我不认为 E_STRICT 包含在其中。

那么，如何让 php 完全停止报告 2048 错误，这样它们就不会覆盖我实际的致命错误？但请保留 E_ERROR，以便我可以在服务器上记录其他错误...

**编辑**

这已经解决了......有点：

我仍然不知道如何正确抑制该错误或为什么 error_reporting() 会影响 error_get_last。但是，解决了在服务器上仍然记录错误时能够忽略该错误的根本问题。我只是将错误报告完全关闭，并将错误报告添加到我的关闭功能中，以手动将数据写入日志文件。

这是我用于所有非致命错误的代码：

```
 $message="\n[".date('d-M-Y H:i:s',time())."] PHP Notice:  ".$e['message']." in ".$e['file']." on line ".$e['line'];
        $file=dirname(__FILE__) . '/error_log-'.date("m-d-Y").'.txt';
        file_put_contents($file, $message, FILE_APPEND | LOCK_EX); 
```

这不是我正在寻找的答案，但它解决了我的问题我仍然想知道是否有人真的知道如何关闭 e_strict 报告，这样它就不会出现在 error_get_last() 中。

和平。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T06:35:35.440

您如何设置错误报告级别，如果设置为`E_ERROR`，则`E_STRICT`跳过。

```
error_reporting(E_ERROR); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T06:42:24.283

用这个修改你的 PHP.ini 文件

```
E_ALL & ~E_STRICT 
```

这将显示除 E_STRICT 之外的所有错误。

或者

在你的 PHP 文件中

```
error_reporting(E_ALL | E_STRICT); 
```

更多知识请访问 PHP NET [http://php.net/manual/en/migrating5.errorrep.php](http://php.net/manual/en/migrating5.errorrep.php)

# c++ - 如何从长整数值中扫描中间 4 位数字？

> ID：13428316
> 
> 赞同：-1
> 
> 时间：2012-11-17T06:32:17.793
> 
> 标签：c++, c

我有 12 位的长值作为算术运算的输出。所以我只想要中间的 4 值。例如，我得到 823954957346，我只希望 5495 存储在变量中。我可以用 C 或 C++ 做到这一点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T06:41:24.367

你可以使用类似的东西：

```
main() {
    unsigned long i = 823954957346;
    printf ("%lu\n", i);
    printf ("%lu\n", i / 10000 % 10000); 
} 
```

输出：

```
823954957346
5495 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T06:41:54.190

如果您真的在谈论位，请右移 4 位，然后使用按位与屏蔽四个低位。我的 C++ 有点生锈，但它是这样的：

```
number >> 4 & 15 
```

如果您说的是数字，请除以 10000，然后取数字 mod 10000，例如：

```
number / 10000 % 10000 
```

简单的。

# r - R 中的 ipairs 包 - 布局中的行太多，限制为 50

> ID：13428317
> 
> 赞同：0
> 
> 时间：2012-11-17T06:32:32.187
> 
> 标签：r, scatter-plot

我正在尝试在 R 中使用 ipairs 包，并且在制作图像散点图时遇到了一些问题。我的数据集最初有大约 80 列，但我认为这是导致问题的原因，将其减少到 49 列。在此之后我仍然收到错误。下面是我的代码：

```
> length(names(ameshouse))
[1] 49

> ameshouse $SalePrice <- as.factor(ameshouse $SalePrice)
> zmax <- ipairs(ameshouse, pixs=.5, main="Ames Housing")

Error in layout(lom, widths = c(rep(1, nc), d.legend, w.legend), heights = c(h.main, : 
  too many rows in layout, limit 50 
```

数据集确实有大约 2900 行，但肯定不是问题，任何人有任何建议或可能有其他优于 ipairs 的包？

先谢谢了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:41:03.147

通过反复试验，我发现问题出在列数上。对于遇到相同问题的任何人，最大列数为 21。

# python - 在 Python 中从 CSV 文件中读取行

> ID：13428318
> 
> 赞同：61
> 
> 时间：2012-11-17T06:32:36.650
> 
> 标签：python, csv

我有一个 CSV 文件，下面是它的样例：

```
Year:  Dec: Jan:
1      50   60
2      25   50
3      30   30
4      40   20
5      10   10 
```

我知道如何读取文件并打印每一列（例如 - `['Year', '1', '2', '3', etc]`）。但我真正想做的是读取行，就像这样`['Year', 'Dec', 'Jan']`，然后`['1', '50', '60']`等等。

然后我想将这些数字存储`['1', '50', '60']`到变量中，以便稍后将它们汇总，例如：

`Year_1 = ['50', '60']`. 那我就可以了`sum(Year_1) = 110`。

我将如何在 Python 3 中做到这一点？

* * *

## 回答 #1

> 赞同：108
> 
> 时间：2012-11-17T06:48:42.823

使用[`csv`模块](http://docs.python.org/2/library/csv.html)：

```
import csv

with open("test.csv", "r") as f:
    reader = csv.reader(f, delimiter="\t")
    for i, line in enumerate(reader):
        print 'line[{}] = {}'.format(i, line) 
```

输出：

```
line[0] = ['Year:', 'Dec:', 'Jan:']
line[1] = ['1', '50', '60']
line[2] = ['2', '25', '50']
line[3] = ['3', '30', '30']
line[4] = ['4', '40', '20']
line[5] = ['5', '10', '10'] 
```

* * *

## 回答 #2

> 赞同：42
> 
> 时间：2012-11-17T06:59:23.573

你可以这样做：

```
with open("data1.txt") as f:
    lis = [line.split() for line in f]        # create a list of lists
    for i, x in enumerate(lis):              #print the list items 
        print "line{0} = {1}".format(i, x)

# output 
line0 = ['Year:', 'Dec:', 'Jan:']
line1 = ['1', '50', '60']
line2 = ['2', '25', '50']
line3 = ['3', '30', '30']
line4 = ['4', '40', '20']
line5 = ['5', '10', '10'] 
```

或者 ：

```
with open("data1.txt") as f:
    for i, line in enumerate(f):             
        print "line {0} = {1}".format(i, line.split())

# output         
line 0 = ['Year:', 'Dec:', 'Jan:']
line 1 = ['1', '50', '60']
line 2 = ['2', '25', '50']
line 3 = ['3', '30', '30']
line 4 = ['4', '40', '20']
line 5 = ['5', '10', '10'] 
```

编辑：

```
with open('data1.txt') as f:
    print "{0}".format(f.readline().split())
    for x in f:
        x = x.split()
        print "{0} = {1}".format(x[0],sum(map(int, x[1:])))

# output          
['Year:', 'Dec:', 'Jan:']
1 = 110
2 = 75
3 = 60
4 = 60
5 = 20 
```

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2012-11-17T06:39:37.850

逐列阅读更难？

无论如何，这会读取该行并将值存储在列表中：

```
for line in open("csvfile.csv"):
    csv_row = line.split() #returns a list ["1","50","60"] 
```

* * *

现代解决方案：

```
# pip install pandas
import pandas as pd 
df = pd.read_table("csvfile.csv", sep=" ") 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2020-05-23T16:55:45.010

**最简单的方法是这样：**

```
from csv import reader

# open file in read mode
with open('file.csv', 'r') as read_obj:
    # pass the file object to reader() to get the reader object
    csv_reader = reader(read_obj)
    # Iterate over each row in the csv using reader object
    for row in csv_reader:
        # row variable is a list that represents a row in csv
        print(row)

output:
['Year:', 'Dec:', 'Jan:']
['1', '50', '60']
['2', '25', '50']
['3', '30', '30']
['4', '40', '20']
['5', '10', '10'] 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2016-08-03T11:20:14.047

```
import csv

with open('filepath/filename.csv', "rt", encoding='ascii') as infile:
    read = csv.reader(infile)
    for row in read :
        print (row) 
```

这将解决您的问题。不要忘记给出编码。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2016-07-24T10:33:32.327

```
#  This program reads columns in a csv file
import csv
ifile = open('years.csv', "r")
reader = csv.reader(ifile)

# initialization and declaration of variables
rownum = 0
year = 0
dec = 0
jan = 0
total_years = 0`

for row in reader:
    if rownum == 0:
        header = row  #work with header row if you like
    else:
    colnum = 0
    for col in row:
        if colnum == 0:
            year = float(col)
        if colnum == 1:
            dec = float(col)
        if colnum == 2:
            jan = float(col)
        colnum += 1
    # end of if structure

# now we can process results
if rownum != 0:
    print(year, dec, jan)
    total_years = total_years + year
    print(total_years)

# time to go after the next row/bar
rownum += 1

ifile.close() 
```

有点晚了，但仍然......您需要创建并识别名为“years.csv”的 csv 文件：

年份 十二月 一月 1 50 60 2 25 50 3 30 30 4 40 20 5 10 10

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2019-06-02T06:14:08.570

### 例子：

```
import pandas as pd

data = pd.read_csv('data.csv')

# read row line by line
for d in data.values:
  # read column by index
  print(d[2]) 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2019-09-02T09:45:04.790

该`csv`模块按行处理 csv 文件。如果要按列处理，`pandas`是一个很好的解决方案。

此外，有两种方法可以使用纯简单的 Python 代码获取所有（或特定）列。

## 1\. csv.DictReader

```
with open('demo.csv') as file:
    data = {}
    for row in csv.DictReader(file):
        for key, value in row.items():
            if key not in data:
                data[key] = []
            data[key].append(value) 
```

这很容易理解。

## 2\. 带 zip 的 csv.reader

```
with open('demo.csv') as file:
    data = {values[0]: values[1:] for values in zip(*csv.reader(file))} 
```

这不是很清楚，但很有效。

`zip(x, y, z)`transpose `(x, y, z)`, 而`x`, `y`,`z`是列表​​。 `*csv.reader(file)`make `(x, y, z)`for `zip`，带有列名。

## 演示结果

的内容`demo.csv`：

```
a,b,c
1,2,3
4,5,6
7,8,9 
```

1的结果：

```
>>> print(data)
{'c': ['3', '6', '9'], 'b': ['2', '5', '8'], 'a': ['1', '4', '7']} 
```

2的结果：

```
>>> print(data)
{'c': ('3', '6', '9'), 'b': ('2', '5', '8'), 'a': ('1', '4', '7')} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-03-30T13:31:47.113

可以使用`pandas`库来做到这一点。

**例子：**

```
import numpy as np
import pandas as pd

file = r"C:\Users\unknown\Documents\Example.csv"
df1 = pd.read_csv(file)
df1.head() 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-04-22T18:09:38.987

我只是把我的解决方案留在这里。

```
import csv
import numpy as np

with open(name, newline='') as f:
    reader = csv.reader(f, delimiter=",")
    # skip header
    next(reader)
    # convert csv to list and then to np.array
    data  = np.array(list(reader))[:, 1:] # skip the first column

print(data.shape) # => (N, 2)

# sum each row
s = data.sum(axis=1)
print(s.shape) # => (N,) 
```

# jquery - 与 jquery removeClass 方法分离

> ID：13428323
> 
> 赞同：-2
> 
> 时间：2012-11-17T06:33:27.597
> 
> 标签：jquery, removeclass

直播：http: [//jsbin.com/ibolaf/2/](http://jsbin.com/ibolaf/2/)

我正在从 jq 源中学习 jquery，我尝试从大库中分离出一些方法。我认为这是对的，但事实并非如此！

这个removeClass方法我是单独的jq已经删除了className，但是改写了一个'undefined'。我认为问题出现在trim函数中。另外，trim方法是jquery的。

```
removeClass(this,test); 
```

前：

```
<ul class="test demo" id="ul"> 
```

后：

```
<ul class="undefined" id="ul"> 
```

我认为应该是

```
<ul class="demo" id="ul"> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T06:54:14.840

您不能“将方法与 jquery 分开”并期望一切正常。您尝试分离的该方法具有**依赖项**。第一个是**jQuery 对象**。

Jquery 不仅仅是一堆可单独重用的函数。

它不是那样工作的。

# javascript - 对象的 Javascript oop 实例

> ID：13428324
> 
> 赞同：1
> 
> 时间：2012-11-17T06:33:38.883
> 
> 标签：javascript, oop

如果我做

```
var a={a:1} 
```

那么a是具有更多属性的Object实例吗？它是如何工作的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T06:36:13.757

该语句中将发生的事情是`a`将创建一个名为的变量。

`a`里面`{a:1}`是一个属性名，而不是对变量的引用`a`。

因此，`a.a`会给你`1`。

# node.js - 在翡翠中，在脚本中无法包含工作

> ID：13428331
> 
> 赞同：1
> 
> 时间：2012-11-17T06:34:57.850
> 
> 标签：node.js, templates, pug

在模板中，`include`工作正常，除非在本`script`节中：

```
块头2
  标题一些标题

  脚本
    功能页面初始化（）{
      包括 restful.js
      restful.init();
    }
  document.addEventListener('load',pageInit)

```

以`include restful.js`直接脚本的形式出现 - 翡翠不执行包含。

我如何在其中获得`include`转储行`pageInit()`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T13:08:04.647

我相信，这样的动作一定不是模板引擎的工作，而是资产管理器的工作。

无论如何，这感觉不对，但仍然有效：

```
//- somewhere in head
| <script>
include ../public/javascripts/log.js
| </script> 
```

# asp.net - 为什么在 JavaScript 调用后会重新加载 Aspx 页面

> ID：13428332
> 
> 赞同：2
> 
> 时间：2012-11-17T06:35:09.297
> 
> 标签：asp.net, .net

下面是一个带有按钮的简单页面的代码。

```
<%@ Page Title="" Language="C#" MasterPageFile="~/Site1.Master" AutoEventWireup="true"
CodeBehind="AdminPage.aspx.cs" Inherits="School.AdminPage" %>

<asp:Content ID="Content1" ContentPlaceHolderID="head" runat="server">
<script type="text/javascript">
    function calling() {
        var user = "all";
        alert(user)
    }
</script>
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="server">
<button runat="server" onclick="calling()">
    Mybutton</button>
</asp:Content> 
```

单击按钮时，会出现警报，当我在该警报对话框上单击“确定”时...页面会重新加载...。为什么会重新加载以及如何停止这种情况。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T06:36:44.883

“默认事件”正在发生。

要禁用它，请在函数调用之前使用 return，如下所示：

```
<button runat="server" onclick="return calling()"> 
```

在函数中：

```
<script type="text/javascript">
   function calling() {
       var user = "all";
       alert(user);
       return false;
   }
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T06:50:27.273

使用此代码关闭警报而不刷新页面

```
<script type="text/javascript">
    window.onbeforeunload = function() {
        return ;
    }
</script> 
```

# android - 将 CheckBoxes 的选中状态从 ListView 的行传递到按钮单击的另一个 Activity

> ID：13428333
> 
> 赞同：1
> 
> 时间：2012-11-17T06:35:13.227
> 
> 标签：android, checkbox, android-listview

**问题**：在我检查`CheckBoxes`了自定义中显示的多个后，无论我所做的选择如何`ListView`，我仍然会返回自定义中显示的整行数据值。`ListView`我猜`CheckBox`' 的状态在我检查后根本没有改变。`CheckBox`那么在我检查多个之后如何设置状态（真） `CheckBoxes`？此外，当我点击提交时，如何获取选中的`CheckBoxes`位置？那么，如何调用的类来检索特定的数据行，包括和（供用户输入）以显示在另一个自定义列表中以供检查？`ListView``Button``Model``TextView``EditText``CheckBoxes`

**摘要**：我想仅在另一页上显示带有**选中复选框的值行数组。**

测试1.xml

```
<?xml version="1.0" encoding="utf-8"?>
<AbsoluteLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <ScrollView
        android:id="@+id/scrollView1"
        android:layout_width="match_parent"
        android:layout_height="310dp"
        android:layout_x="0dp"
        android:layout_y="-4dp" >

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent" >

            <ListView
                android:id="@android:id/list"
                android:layout_width="match_parent"
                android:layout_height="293dp" >

            </ListView>

        </LinearLayout>
    </ScrollView>

    <Button
        android:id="@+id/button1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_x="113dp"
        android:layout_y="346dp"
        android:text="Button" />

</AbsoluteLayout> 
```

测试.xml

```
<?xml version="1.0" encoding="utf-8"?>
<AbsoluteLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <CheckBox
        android:id="@+id/checkBox1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_x="208dp"
        android:layout_y="4dp"
        android:text="CheckBox" />

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_x="11dp"
        android:layout_y="15dp"
        android:text="TextView" />

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_x="22dp"
        android:layout_y="49dp"
        android:text="TextView" />

    <TextView
        android:id="@+id/textView3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_x="42dp"
        android:layout_y="89dp"
        android:text="TextView" />

    <TextView
        android:id="@+id/textView4"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_x="35dp"
        android:layout_y="123dp"
        android:text="TextView" />

    <EditText
        android:id="@+id/editText1"
        android:layout_width="42dp"
        android:layout_height="wrap_content"
        android:layout_x="147dp"
        android:layout_y="13dp"
        android:ems="10"
        android:inputType="number" />

</AbsoluteLayout> 
```

MultipleSet1.java 类：

```
public class MultipleSet1 extends ListActivity
{

    List<Model> list = new ArrayList<Model>();

     protected void onCreate(Bundle savedInstanceState)
     {
         super.onCreate(savedInstanceState);
         View viewToLoad = LayoutInflater.from(this.getParent()).inflate(R.layout.testing1, null);
            this.setContentView(viewToLoad);
         //final ViewHolder viewHolder = new ViewHolder();
         String temp = "Set_A";
         String response = null;
         ArrayList<NameValuePair> postParameters = new ArrayList<NameValuePair>();
         postParameters.add(new BasicNameValuePair("Name", temp));

            try
            {
                response = CustomHttpClient.executeHttpPost("PhPScripts", postParameters);
            }

            catch (Exception e)
            {
                // TODO Auto-generated catch block
                Toast.makeText(getApplicationContext(), "Fail to connect to server7777777777.", 3).show();
            }

            int size = 0;

            try
            {

             JSONArray jArray = new JSONArray(response);
             size = jArray.length();

             for(int i =0; i<size; i++)
             {
                JSONObject json_data = jArray.getJSONObject(i);
                list.add(get(json_data.getString("description"), json_data.getString("price"), false));

             }

            }
            catch (JSONException e)
            {
               Toast.makeText(getApplicationContext(), "Fail to connect to server7777777777.", 3).show();
            }

             ArrayAdapter<Model> adapter = new InteractiveListViewAdapter(this, list);
             setListAdapter(adapter);

             Button button1 = (Button) findViewById(R.id.button1);
             button1.setOnClickListener(new View.OnClickListener() {

                    //@Override
                    public void onClick(View v) {

                        ListView list = (ListView)findViewById(android.R.id.list);
                        list = getListView();
                        list.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);
                        int size = list.getCount();
                        String checked = "";

                         String unchecked = "";
                         SparseBooleanArray sparseBooleanArray = list.getCheckedItemPositions();

                         for(int i = 0; i < size; i++)
                         {

                             if(sparseBooleanArray.get(i) == true) 
                             {
                                 checked += list.getItemAtPosition(i).toString() + "\n";
                             }
                             else  if(sparseBooleanArray.get(i) == false) 
                             {
                                 unchecked+= list.getItemAtPosition(i).toString() + "\n";
                             }

                         }

                            Intent intent = new Intent(getApplicationContext(), SingleSet.class);
                            intent.putExtra("TAG_DESCRIPTION", unchecked);

                            // Create the view using TabTour's LocalActivityManager
                            View view1 = bookingTab.group.getLocalActivityManager().startActivity("BookingTab", intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP))
                            .getDecorView();

                            // Again, replace the view
                            bookingTab.group.replaceView(view1);

                    }
             });

     }

     private Model get(String name, String score, boolean selected)
     {
         return new Model (name, score, selected);
     }

} 
```

InteractiveListViewAdapter.java 类：

```
public class InteractiveListViewAdapter extends ArrayAdapter<Model>
{
    private final List<Model> list;
    private final Activity context;

    public InteractiveListViewAdapter(Activity context, List<Model> list) 
    {
        super(context, R.layout.testing, list);
        this.context = context;     
        this.list = list;   
    }

    static class ViewHolder
    {        
        protected TextView text; 
        protected CheckBox checkbox;        
        protected EditText scores;     
    }

    //@Override     
    public View getView(int position, View convertView, ViewGroup parent)
    {        
        View view = null;

        if (convertView == null)
        {             
            LayoutInflater inflator = context.getLayoutInflater(); 

            view = inflator.inflate(R.layout.testing, null); 

            final ViewHolder viewHolder = new ViewHolder(); 
            viewHolder.text = (TextView) view.findViewById(R.id.textView1);
            viewHolder.scores=(EditText) view.findViewById(R.id.editText1);
            viewHolder.scores.addTextChangedListener(new TextWatcher()
            {  
                public void onTextChanged(CharSequence s, int start, int before, int count)
                {      
                    Model element=(Model)viewHolder.scores.getTag();
                    element.setScore(s.toString());        
                }    

                public void beforeTextChanged(CharSequence s, int start, int count,int after)
                {       

                }

                public void afterTextChanged(Editable s)
                { 

                }
           });         

            viewHolder.checkbox = (CheckBox) view.findViewById(R.id.checkBox1);      
            viewHolder.checkbox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener()
            {
               public void onCheckedChanged(CompoundButton buttonView,boolean isChecked)
               {    
                   Model element = (Model) viewHolder.checkbox.getTag();  
                   element.setSelected(buttonView.isChecked());      
               }
            }); 

            viewHolder.checkbox.setTag(list.get(position));
            viewHolder.scores.setTag(list.get(position));
            view.setTag(viewHolder);   
        } 

        else 
        {
            view = convertView; 
            ((ViewHolder) view.getTag()).checkbox.setTag(list.get(position));
            ((ViewHolder) view.getTag()).scores.setTag(list.get(position)); 
        }                

        ViewHolder holder = (ViewHolder) view.getTag(); 
        holder.text.setText(list.get(position).getName());
        holder.scores.setText(list.get(position).getScore());    
        holder.checkbox.setChecked(list.get(position).isSelected());    
        return view;

    }

} 
```

Model.java 类：

```
public class Model
{
    private String name;
    private String score;
    private boolean selected;

    public Model(String name, String score, boolean selected)
    { 
        this.name = name;
        this.score = score;
        this.selected = selected;

    }

    public String getName()
    {  
        return name;     
    }

    public void setName(String name)
    {    
        this.name = name;   

    }

    public boolean isSelected() 
    {     
        return selected;   
    }

    public void setSelected(boolean selected)
    {    
        this.selected = selected;   
    }

    public String getScore()
    {     
        return score;    
    }

    public void setScore(String score)
    { 
        this.score = score;     
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T10:22:56.977

你的代码有很多问题：

*   **不要**使用`AbsolutLayout`，该类已被弃用，因为您不能使用它来制作在 Android 设备所具有的所有屏幕上都可以很好缩放的布局。
*   不要将可滚动的小部件（如 a `ListView`）放在其他可滚动的小部件（如 a `ScrollView`）中，这不会很好。
*   不要在主线程上做一些可能需要很长时间才能完成的事情，因为你可能会得到一个“不稳定的”应用程序，或者更糟糕的是可怕的 ANR 对话框。此操作包括任何网络操作、数据库访问等。使用线程或`AsyncTasks`从 Internet 获取数据。
*   我不确定你在做什么，`ActivityManager`但我有一种不对劲的感觉。只需将`Activity`'`startActivity`方法与`Intent`.
*   `getCheckedItemPositions`使用 SDK 中的默认`ArrayAdapter`布局和其中一种布局。如果您使用自定义行布局制作自己的适配器，那么您必须自己管理`CheckBox`状态（并设置一种检索该状态的方法）。这部分应该很容易，关于如何做到这一点有数以千计的问题和博客。
*   您的适配器的`getView`方法不正确。每次调用`getView`方法时，应在两个视图上设置标签（因此应在该`if (convertView == null)`块之外设置标签）。我也不认为那些听众会很好地工作。
*   即便如此，您的代码无论如何也不会工作，因为您设置了`Intent`所需的数据，但您实际上并没有使用它`Intent`来启动新的`Activity` ，因此您不会将任何信息传递给新开始的`Activity`。

这应该让你朝着正确的方向前进。

# c# - 自定义 ASP.NET 通用提供程序或 SimpleMembership

> ID：13428336
> 
> 赞同：0
> 
> 时间：2012-11-17T06:35:31.717
> 
> 标签：c#, asp.net-mvc, asp.net-membership, membership-provider

在可以通过服务层访问数据库的应用程序中，您是否可以创建自定义 Universal Provider 或自定义 SimpleMembership，以便您可以覆盖提供程序方法来进行服务调用，而不是使用链接到数据库的 EF 上下文？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-25T07:24:43.800

Universal Provider 和 SimpleMembership Provider 只是抽象基类[MembershipProvider](http://msdn.microsoft.com/en-us/library/system.web.security.membershipprovider.aspx)的实现。如果您想使用您创建的服务来创建自己的服务，您可以编写自己的提供程序来实现 MembershipProvider。您很可能需要创建自己的[RoleProvider](http://msdn.microsoft.com/en-us/library/system.web.security.roleprovider.aspx)，并且当您在控制器上使用 [Authorize] 属性时会调用它。

更多的信息：

[实现成员资格提供程序](http://msdn.microsoft.com/en-us/library/f1kyba5e%28v=vs.100%29.aspx)

[实现角色提供者](http://msdn.microsoft.com/en-us/library/8fw7xh74%28v=vs.100%29.aspx)

创建后，您可以在 web.config 中引用您自己的提供程序，并以与使用内置提供程序相同的方式使用它们

# jakarta-ee - 如何禁用 AJAX JSONP 请求的超时？

> ID：13428338
> 
> 赞同：3
> 
> 时间：2012-11-17T06:35:49.203
> 
> 标签：jakarta-ee, jquery, browser, jsonp

我正在从我的浏览器（IE、Mozilla、Chrome）向我的 Java 应用程序发出 jQuery AJAX jsonp 异步请求。如果我在 4 分钟内没有回复，则所有浏览器上的请求都会超时。如果超时，IE 会自动触发新请求，Mozilla 会简单地终止该请求。我不希望请求超时（我的意思是它应该等到响应不是来自服务器）**有没有办法可以禁用 jQuery AJAX JSONP 请求的超时？**

一些网站建议将超时值设置为太大作为解决方法，我不想使用它，因为它仍然会在很长一段时间后超时。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-23T13:20:04.533

另一种可能不如 websockets 先进的选项是轮询地址以获取结果。考虑以下场景：

您需要在屏幕上显示报告，但需要很长时间才能加载。您可以将初始请求发送到服务器。然后服务器启动报告，并返回一个客户端可以轮询结果的 uri。客户端然后轮询该 uri 并将（可能）获得 404，直到报告完成。报告完成后，可以通过 uri 访问它，然后您可以将其显示到浏览器中。

我建议你不要试图反对浏览器超时和花哨的 javascript 规避的刺激。即使你有时让它工作，它也容易出错，因为人们使用不同的浏览器（现在甚至是移动浏览器）。拥有一个强大的解决方案可以使事情保持简单和可维护。

正如@BalusC 提到的，网络套接字非常适合这种东西。如果你愿意稍微改变你的范式并且有时间在你手上，那么它是一个很好的解决方案。网络肯定会这样发展。但是，如果您面临时间压力，这可能不是短期内的最佳解决方案。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-23T20:20:31.027

我不认为无论如何你可以让请求超时然后优雅地处理它，因为你已经注意到究竟发生了什么取决于浏览器，你几乎无法控制。

但是，我认为解决方案相当简单，只是不要让您的请求超时。

您可以毫不费力地更改您的 java 应用程序中的 jsonp 回调处理程序，以通知客户端超时期限已过并且它应该再次执行请求。

我创建了一个功能齐全的工作示例来向您展示我的意思。

这个例子是在 nodejs 中，但我认为服务器端的实现应该保持最小。它实际上更多的是关于客户端代码的作用。

**演示：http:**
[//jsonp-timeout.herokuapp.com/](http://jsonp-timeout.herokuapp.com/)

**来源：**
[https ://github.com/helmus/jsonp-timeout/blob/master/public/index.html](https://github.com/helmus/jsonp-timeout/blob/master/public/index.html)

这实际上是所有相关代码：
基本上你把你的 jsonp 调用放在一个函数中，这样你就可以重用它。如果您的处理程序随后收到`"timeout"`响应，它可以轻松地再次执行请求，直到您的服务器确定其他操作相关。

```
$(function(){
    $("#call").on("click", function(){
        var makeJsonpCall = function(){
            return $.ajax({
                url: "rpc.js",
                dataType: "jsonp"
            });
        };
        var handler = function(data){
            if (data === "timeout") {
                console.log("a timeout occured, forwarding your request");
                makeJsonpCall().done(handler);
                return;
            }else{
                console.log("request completed");
            }
        };
        makeJsonpCall().done(handler);
    });
}); 
```

我认为这种方法确实足够健壮，并且允许您以最小的更改保持您的界面，并且如果端点支持它，它仍然可以与跨域 jsonp 一起使用。
您可以将超时时间更改为 2 或 3 分钟（服务器端），但我不会让它更长。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-25T20:23:01.613

我的方法包括设置服务器、客户端和数据库。

创建一个数据库，该数据库使用时间附加器存储唯一的哈希键。那是客户端请求密钥。它包含您正在寻找的数据块的数据块，或者一个布尔值以了解该请求是否已完成。

服务器端：当客户端调用此请求时，存储其唯一密钥并开始处理事件。在该过程完成之前，第二列将有一个错误。完成后，您将该表翻转为真。

客户端：使用 ajax 请求 ping 服务器，然后在该请求的成功调用中使用超时并随着时间的推移创建一个请求链，这将检查数据库以查看该过程是否完成。在内部请求中，超时需要每 4 分钟一次或任何您喜欢的时间，但是当它返回成功时，它将具有所需的数据，您会想要删除计时器。如果它不返回 true，则将调用错误函数，什么也不做。

这个双重请求系统将允许您触发请求并随着时间的推移对其进行监控。完成后，您将拥有所需的内容。该系统将删除超时，因为它正在触发 1 个请求，然后将随着时间的推移触发检查请求。

这就是我将如何解决它，以便没有超时。没有挂起的进程挂起数据获取等。

**编辑：**您希望他们运行一个清理脚本，该脚本将从您所做的数据库表中删除该行，以及与不浪费空间相关的所有其他内容。

# android - 如何在android中使用cocos2d创建edittext

> ID：13428339
> 
> 赞同：0
> 
> 时间：2012-11-17T06:36:08.827
> 
> 标签：android, android-emulator

嗨，我正在使用 cocos2d 做一个应用程序，这里我需要显示编辑文本。我很容易显示图像和文本视图，但我不知道如何显示编辑文本。如果有人对 cocos2d 中的 edittext 有任何想法，请建议我...使用下面的代码我显示图​​像..

```
 HelloWorldLayer:

  public class HelloWorldLayer extends CCColorLayer {
  static HelloWorldLayer layer;
    CGSize winSize;
   CCSprite home,target;
protected HelloWorldLayer(ccColor4B color) {
    super(color);
    // TODO Auto-generated constructor stub
     winSize = CCDirector.sharedDirector().displaySize();
     this.setIsTouchEnabled(true);
    home= CCSprite.sprite("banana.png");
    home.setPosition(winSize.width/2,winSize.height/2);
    this.addChild(home);
    }

       public static CCScene scene() {
    // TODO Auto-generated method stub
     //Creates scene  
    CCScene scene = CCScene.node();

     layer = new HelloWorldLayer(ccColor4B.ccc4(225, 225,225, 225));

    //adds layer to scene
    scene.addChild(layer);

    return scene;
}

@Override
public boolean ccTouchesEnded(MotionEvent event)
{
    CGPoint location = CCDirector.sharedDirector().convertToGL(CGPoint.ccp(event.getX(), event.getY()));

    if (CGRect.containsPoint(home.getBoundingBox(), location))
    { 

         CCDirector.sharedDirector().replaceScene(CCFadeTransition.transition(0.5f,GamestartLayer.scene()));
            removeAllChildren(true);  

    }

            return true;
}

 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T15:01:39.117

您可以在 cocos2d 游戏活动中动态添加 UI 视图

```
 EditText txv=new EditText(context);
    txv.setText("ABC");
    CCDirector.sharedDirector().getActivity().addContentView(txv,layoutParams); 
```

# c# - 在用户控件中更改组合框时如何设置文本框的开头

> ID：13428341
> 
> 赞同：1
> 
> 时间：2012-11-17T06:36:17.220
> 
> 标签：c#, winforms, user-controls, textbox

我使用了表单用户控件（而不是 C# winform 中的表单）。

在这个用户控件中，我有一个组合框和一个文本框。

更改组合框时，对于选定的值（1 或 2 或 3），文本框的文本分别以 1 或 2 或 3 开头。

用户可以在文本框中添加 6 位数字，但不能删除或更改 1 或 2 或 3。

我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:02:52.753

看看这是否可行，它正在处理 TextChanged 事件以验证第一个 Character 是来自 ComboBox 选择的值。

```
public partial class UserControl1 : UserControl
{
    string mask;

    public UserControl1()
    {
        InitializeComponent();
        textBox1.MaxLength = 7;
        textBox1.TextChanged += new EventHandler(textBox1_TextChanged);
        textBox1.KeyPress += new KeyPressEventHandler(textBox1_KeyPress);

    }

    void textBox1_KeyPress(object sender, KeyPressEventArgs e)
    {
        if (!char.IsNumber(e.KeyChar) && !( e.KeyChar == 0x8) && !(e.KeyChar == 0xd))
            e.Handled = true;

    }

    void textBox1_TextChanged(object sender, EventArgs e)
    {
        TextBox tb = (TextBox)sender;

        char[] temp = tb.Text.ToCharArray(); //Code to catch any cut and Paste non numeric characters
        foreach (var item in temp)
        {
            if (!(char.IsNumber(item)))
            {
                tb.Text = "";
                break;
            }
        }

        if (tb.TextLength == 0)
        {
            tb.Text = mask[0].ToString();
            tb.SelectionStart = tb.Text.Length;

        }
        else
        {
            if (tb.Text[0] != mask[0])
            {
                tb.Text = mask[0] + tb.Text;
                tb.SelectionStart = tb.Text.Length;
            }
        }
    }

    private void comboBox1_SelectedIndexChanged(object sender, EventArgs e)
    {
        mask = ((ComboBox)sender).SelectedValue.ToString();
        textBox1.Text = mask;
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T06:49:23.527

在组合框 selectedchanged 事件中，将文本框值设置为 1/2/3。设置文本框按键或 keydown 事件以处理用户无法删除/编辑文本框中第一个字符的情况。如果用户尝试删除/编辑第一个字符，则设置您的条件并设置 e.Handled = true。确保向用户发出某种警告，即他无法编辑第一个字母。

```
cmbBox_SelectionChanged(object sender, SomeEventArgs args)
{
    txtBox.Text = "1";
}

txtBox_KeyPress(object sender, KeyPressEventArgs e)
{
     //Writing a little bit of pseudo code here 'cause I don't have VS on this system.
     if(KeyPressed is delete or if the txtBox.Text string is left with a single character)
         e.Handled = true;
} 
```

您可以类似地处理其他一些情况，例如用户选择整个文本并删除。请检查我是否也错过了组合框中的任何可能案例。也许，您只想在用户选择新值时替换文本框中现有字符串的第一个字符。类似的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T06:53:06.013

如果你真的想要文本框中的数字，你可能必须处理 KeyPress 事件，并确保用户没有删除你想要开始的数字，或者在你的起始数字前面添加数字。处理 KeyPress 事件还将允许您过滤长度并限制用户只输入数字。

处理此问题的另一种方法是将 Label 控件放在 TextBox 的左侧。将数字放入标签中并允许用户编辑文本框中的文本。操作 UserControl 的 Value 以将两者连接在一起。如果 ComboBox 选择了“2”，则 Label 中的文本将为“2”，用户键入“543”，然后将 User 控件的 Value 属性设置为“2543”。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T07:19:57.663

不要为事件中的所有情况而烦恼。只需将标签放在文本框之前并使用组合框值设置它。清洁且易于维护。

# entity-framework-4.1 - 导航属性首先与 ef 代码共享密钥

> ID：13428347
> 
> 赞同：0
> 
> 时间：2012-11-17T06:37:08.543
> 
> 标签：entity-framework-4.1, ef-code-first

鉴于此代码优先数据模型，我将如何在实体上配置或实现`LocalizedName`导航属性，将实例上的属性用于其中一个键，并将上下文中的属性用作另一个键？`Product``LocalNameKey``Product``_languageId`

```
public class SampleDataContext : DbContext
{
    int _languageId;

    public SampleDataContext(int languageId)
    {
        _languageId = languageId;
    }

    public DbSet<LocalizedName> LocalNames { get; set; }
    public DbSet<Product> Products { get; set; }
    public DbSet<Language> Languages { get; set; }
}

public class LocalizedName
{
    [Key, Column(Order = 0)]
    public Guid Key { get; set; }

    [Key, Column(Order = 1)]
    public int LanguageId { get; set; }

    public string Name { get; set; }
}

public class Language
{      
    public int Id { get; set; }
    public string Name{ get; set; }
}

public class Product
{
    public int Id { get; set; }
    public string Sku { get; set; }
    public Guid LocalNameKey { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T11:24:53.720

不，你不能。如果您尝试，EF 将尝试创建一个与上下文相对应的表，并且可能会窒息尝试。

您必须使用存储库模式来确保对任何本地化实体的查询也包含语言 id（它将被封装在存储库中，而不是上下文中）。

顺便说一句，对实体的每个单独属性进行本地化条目的 FK 对性能的要求可能非常高。有关一些好的提示（不仅是公认的答案），请参阅[此问答。](https://stackoverflow.com/questions/316780/schema-for-a-multilanguage-database)

# java - 原始类型双重错误

> ID：13428350
> 
> 赞同：2
> 
> 时间：2012-11-17T06:37:31.650
> 
> 标签：java, compareto

抱歉，如果我的问题看起来很愚蠢。我在 .compareTo() 上收到错误无法在原始类型 double 上调用 compareTo(double)！我怎样才能解决这个问题 ？谢谢！

车辆等级：

```
public class Vehicle implements IOutput {
private double cost;}

public double getCost(){
        return cost;
    } 
```

数组类：

```
public static void sortByVehicleMakeModel(Vehicle[] vehicles) {

    boolean swapped = true;

    for(int y = 0; y < vehicles.length && swapped; y++) {
        swapped=false;
        for(int x = 0; x < vehicles.length - (y+1); x++) {
            if(vehicles[x].getCost().compareTo(vehicles[x + 1].getCost()) > 0){
                swap(vehicles, x, x + 1);
                swapped=true;
            }
        }
    }
} 
```

我的其他代码工作正常：

```
public static void sortByOwnerName(Vehicle[] vehicles) {
    boolean swapped = true;

    for(int y = 0; y < vehicles.length && swapped; y++) {
        swapped=false;
        for(int x = 0; x < vehicles.length - (y + 1); x++) {
            if(vehicles[x].getOwner().getName().compareTo(vehicles[x + 1].getOwner().getName())> 0) {   
                swap(vehicles, x, x + 1);
                swapped=true;
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T06:44:50.383

`getCost()`将您的方法的返回类型从`double`to更改为`Double`一切正常。自动装箱将负责其余的工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T06:39:38.337

`if(vehicles[x].getCost().compareTo(vehicles[x + 1].getCost()))`

你需要`>0`在那里的某个地方！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-17T06:39:45.447

`compareTo`方法不适用于原始类型。用作`Wrapper Double`：

```
 if(Double.valueOf(vehicles[x].getCost())
          .compareTo(Double.valueOf(vehicles[x + 1].getCost()))>0){ 
```

请注意：[**Double.valueOf(double)**](http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#valueOf%28double%29)`Double`返回值为的 Wrapper 类型`double`。

**请注意：**如果您的目标是使用`compareTo`，那么它很好，否则您可能希望使用适当的`double`比较运算符直接比较值。`<, >, ==`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T07:17:36.607

我将其更改为：

```
public Double getCost() 
```

代替

```
public double getCost(){ 
return cost; 
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-17T06:39:42.843

您只能在引用类型上调用方法，`double`是原始类型。正如错误消息所暗示的那样，`vehicles[x].getCost()`返回一个`double`.

您可以做的一件事是手动将您`double`放入`Double`：

```
int costComp = Double.valueOf(vehicles[x].getCost()).compareTo(Double.valueOf(vehicles[x + 1].getCost());

if(costComp < 0) {
    //...
} else if(costComp == 0) {
    //...
} else {
    //...
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-17T06:41:41.590

你的这段代码工作正常

`if(vehicles[x].getOwner().getName().compareTo(vehicles[x+1].getOwner().getName())> 0)`

因为`vehicles[x+1].getOwner().getName()`必须返回一个对象，`String`并且`compareTo`方法接受一个对象作为参数。

此代码不起作用

`if(vehicles[x].getCost().compareTo(vehicles[x + 1].getCost()))`

因为`vehicles[x + 1].getCost()`不能返回一个对象（在你的情况下它必须返回一个原语`double`）所以类型不匹配并且编译器抱怨没有这样的`compareTo`方法可以接受`double`（原语）

# mysql - mySQL，具有不同条件的同一张表上的多个连接。在查询中重命名列

> ID：13428351
> 
> 赞同：1
> 
> 时间：2012-11-17T06:37:59.010
> 
> 标签：mysql, join

问候并感谢您阅读我的问题。

首先，下图描述了我正在创建的数据库的一部分。我的目标（除非有更好的方法可以做到这一点）是支持多种语言的字段，这些字段通常在单独的表中称为“schedule_name”和“schedule_description”。PS - 我知道此图中的列类型标记得很糟糕。

![数据库](../Images/4ee17908107a321a3741d950b9cd3242.png)

如您所见，boat, Cruise 和 schedule 都有一个 languageid 作为外键。如果我想提取游轮和船的时间表记录，请问我该怎么做？

我的表加入没问题，列别名已排序，但想在每个别名中获取正确的详细信息。为了清楚起见

时间表有它自己的 language_language_id 参考来选择使用 language_id = 1 language_name_en 是 - 星期一早上

Cruise 有自己的 language_language_id 参考，可以使用 language_id = 2 language_name_en 进行选择 - Sunny Haze

船有它自己的 language_language_id 参考来挑选使用 language_id = 3 language_name_en is - Blue Dolphin

回答对此问题的评论；en 是英文，zhs 是简体中文，zht 是繁体中文。这些是该系统支持动态数据的语言。我认为这样布置表格会很方便，这样可以有一个只负责处理语言的用户类型；无需处理调度表。

到目前为止，我相信我的查询将按如下方式获得示例记录，如下所示：

```
SELECT 
   schedule_id,
   s.language_name_en as schedule_name_en,
   l.language_name_zhs as schedule_name_zhs,
   l.language_name_zht as schedule_name_zht,
   schedulesafename,
   schedule_expected_arrival,
   schedule_expected_departure,
   cruise_id,
   c.language_name_en as cruise_name_en,
   c.language_name_zhs as cruise_name_zhs,
   c.language_name_zht as cruise_name_zht 
   FROM
      schedule as s 
   INNER JOIN
      language as l 
         ON s.language_language_id = l.language_id
   INNER JOIN
      cruise as c
         ON c.language_language_id = l.language_id
   Where
      schedule_id = 1; 
```

这是我希望使用列出的查询返回的一些示例数据。

```
scheduleid - 1
schedule_name_en - monday morning
schedule_name_zhs - 星期一的早晨
schedule_name_zht - 星期一的早晨
schedule_safename - pwupglfkpmwcbkgzhmzxrqfeqzlhvaed 
schedule_expected_arrival - 1353138308
schedule_expected_departure - 1353139218
cruise_id - 1 
cruise_name_en - Sunny Haze
cruise_name_zhs - 彩霞
cruise_name_zht - 彩霞
cruise_safename - bbhdrunzdmftyvhprefvogysgfrtnkgm 
```

这让您了解我希望如何从数据库中获取数据。我的主要问题是如何在同一个查询中删除语言记录。感谢您阅读我的问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T07:55:44.953

我认为您非常接近，您只需要为相应的表重新使用具有不同别名的相同语言表......就像

```
SELECT 
      S.schedule_id,
      SL.language_name_en as schedule_name_en,
      SL.language_name_zhs as schedule_name_zhs,
      SL.language_name_zht as schedule_name_zht,
      schedulesafename,
      S.schedule_expected_arrival,
      S.schedule_expected_departure,
      C.cruise_id,
      CL.language_name_en as cruise_name_en,
      CL.language_name_zhs as cruise_name_zhs,
      CL.language_name_zht as cruise_name_zht 
   FROM
      schedule as s 
         INNER JOIN language as SL 
            ON s.language_language_id = SL.language_id
         INNER JOIN cruise as c
            on s.Cruise_Cruise_ID = c.Cruise_Id
            INNER JOIN language as CL 
               ON c.language_language_id = CL.language_id
   Where
      S.schedule_id = 1; 
```

首先请注意，Schedule（别名 S）在 schedules language ID join 上加入了语言（第一次被别名为 Schedule Language 的“SL”）。

接下来，计划加入 Cruise ID 上的 CRUISE。

最后，CRUISE 表通过 CRUISE 语言 ID 值连接到语言表（这次为 Cruise Language 别名为“CL”）。

因此，您现在有两次相同的表源，每次用于您尝试提取的相应“语言 ID”元素。

# java - 使用 Bing 地图应用程序显示特定方向

> ID：13428354
> 
> 赞同：0
> 
> 时间：2012-11-17T06:38:23.257
> 
> 标签：java, google-maps, bing-maps

我知道在 Java 中集成地图可能会很痛苦。于是我想了一个办法。这可能是java应用程序在PC上打开Bing Maps应用程序显示到最近的实用程序比如医院的方向！或打开浏览器，打开 G 地图并显示路线。

谢谢你

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-17T09:33:30.033

我不确定为什么在 Java 中集成地图应该特别困难，但是，要回答您的问题：您可以创建一个超链接来启动 Bing 地图网站，其中包含使用 rtp 参数预先计算的特定路线。例如[http://www.bing.com/maps/default.aspx?rtp=adr.Norwich,Norfolk~adr.Oxford,%20Oxon~adr.Edinburgh,%20Scotland](http://www.bing.com/maps/default.aspx?rtp=adr.Norwich,Norfolk~adr.Oxford,%20Oxon~adr.Edinburgh,%20Scotland)

更多示例请访问[http://alastaira.wordpress.com/2012/06/19/url-parameters-for-the-bing-maps-website/](http://alastaira.wordpress.com/2012/06/19/url-parameters-for-the-bing-maps-website/)

或者，您可以使用 Bing REST 服务创建静态地图图像（即 JPG 或 PNG 文件）突出显示路线或位置[http://msdn.microsoft.com/en-us/library/ff701713.aspx](http://msdn.microsoft.com/en-us/library/ff701713.aspx) - 大概是您可以在您的 Java 应用程序中嵌入地图图像吗？

# android - Achartengine 显示来自 Android 数据库的数据

> ID：13428356
> 
> 赞同：0
> 
> 时间：2012-11-17T06:38:25.557
> 
> 标签：android, sqlite, achartengine

我试图在图表中显示我的 BMI 结果。数据来自数据库。这是我到目前为止所尝试的：

```
private static class DBHelper extends SQLiteOpenHelper{

    public DBHelper(Context context) {
        super(context, DATABASE_NAME, null, DATABASE_VERSION);
        // TODO Auto-generated constructor stub
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        // TODO Auto-generated method stub
        db.execSQL( "CREATE TABLE " + DATABASE_TABLE + " (" +
        KEY_BMIID + " INTEGER PRIMARY KEY AUTOINCREMENT, " +
                KEY_BMIDATA + " TEXT NOT NULL, " +
                KEY_BMIDATE + " TEXT NOT NULL );"
                );
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // TODO Auto-generated method stub
        db.execSQL( "DROP TABLE IF EXISTS " + DATABASE_TABLE );
        onCreate(db);
    }

}

public BMICalculatorDB(Context c){
    ourContext = c;
}

public BMICalculatorDB open(){
    ourHelper = new DBHelper(ourContext);
    ourDatabase = ourHelper.getWritableDatabase();
    return this;
}

public void close(){
    ourHelper.close();
}

public long createEntry( String data, String date ) {
    //, String date 
    // TODO Auto-generated method stub
    ContentValues cv = new ContentValues();
    cv.put(KEY_BMIDATA, data);
    cv.put(KEY_BMIDATE, date);
    return ourDatabase.insert(DATABASE_TABLE, null, cv);
}

public String getBMIID() {
    // TODO Auto-generated method stub
    String[] column =
            new String[]{ KEY_BMIID };
    Cursor c = 
            ourDatabase.query(DATABASE_TABLE, column, null, null, null, null, null);

    String result = "";
    int iID = c.getColumnIndex(KEY_BMIID);

    for ( c.moveToFirst(); ! c.isAfterLast(); c.moveToNext() ){
        result = result + c.getString(iID);
    }

    return result;
}

public String getBMIDataData(){

    String[] column =
                new String[]{ KEY_BMIDATA };
        Cursor c = 
                ourDatabase.query( DATABASE_TABLE, column, null, null, null, null, null );

        String result = "";
        int iData = c.getColumnIndex( KEY_BMIDATA );

        for ( c.moveToFirst(); ! c.isAfterLast(); c.moveToNext() ){
            result = result + c.getString( iData );
        }

    return result;
}

public String getBMIDateData(){
    String[] column =
            new String[]{ KEY_BMIDATE };
    Cursor c = 
            ourDatabase.query( DATABASE_TABLE, column, null, null, null, null, null );

    String result = "";
    int iDate = c.getColumnIndex( KEY_BMIDATE);

    for ( c.moveToFirst(); ! c.isAfterLast(); c.moveToNext() ){
        result = result + c.getString( iDate );
    }

return result;
}

public void updateEntry( long lId, String mData, String mDate ) {
    // TODO Auto-generated method stub
    ContentValues cvUpdate = new ContentValues();

    cvUpdate.put( KEY_BMIDATA, mData );
    cvUpdate.put( KEY_BMIDATE, mDate );
    ourDatabase.update( DATABASE_TABLE, cvUpdate, KEY_BMIID + " = lId", null );
}

public String getData(long l) {
    // TODO Auto-generated method stub
    return null;
}

public String getDate(long l) {
    // TODO Auto-generated method stub
    return null;
}

public XYMultipleSeriesDataset getDemoDataset(String title) {

    String[] column =
            new String[]{ KEY_BMIDATA };
    Cursor c = ourHelper.getWritableDatabase().query( DATABASE_TABLE, column, null, null, null, null, null );

    XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();

    TimeSeries series = new TimeSeries("Line1");
    TimeSeries series2 = new TimeSeries(title);

    getBMIDataData();

    while (!c.isAfterLast()) {
        int date = c.getInt((Integer) c.getColumnIndexOrThrow("bmi_date"));
        int weight = c.getInt((Integer) c.getColumnIndexOrThrow("bmi_data"));
        series2.add(weight, date);
        c.moveToNext();
    }

    c.close();

    dataset.addSeries(series);
    dataset.addSeries(series2);

    return dataset;
}

public Intent getIntent(Context context) {

    //Lager TimeSeries for den første linja
    XYMultipleSeriesDataset dataset = getDemoDataset("Line1");

    //Kode for render
    XYMultipleSeriesRenderer mRenderer = new XYMultipleSeriesRenderer();

    //Optimalisering linje1
    XYSeriesRenderer renderer = new XYSeriesRenderer();
    renderer.setColor(Color.YELLOW);
    renderer.setPointStyle(PointStyle.CIRCLE);
    renderer.setFillPoints(true);

    // Optimalisering linje2 husk rekke følgen
    XYSeriesRenderer renderer2 = new XYSeriesRenderer();
    renderer2.setColor(Color.BLUE);
    renderer2.setPointStyle(PointStyle.SQUARE);
    renderer2.setFillPoints(true);

    //Legger til render seriene
    mRenderer.addSeriesRenderer(renderer);

    //Optimalisering grafen
    mRenderer.setChartTitle("Test");
    mRenderer.setZoomEnabled(true);
    mRenderer.setZoomButtonsVisible(true);
    mRenderer.setBackgroundColor(Color.BLACK);
    mRenderer.setApplyBackgroundColor(true);
    mRenderer.setXTitle("Dager");
    mRenderer.setShowGrid(true);

    mRenderer.addSeriesRenderer(renderer2);

    Intent intent = ChartFactory.getLineChartIntent(context, dataset, 
            mRenderer, "Line Graph Title");

    return intent;

} 
```

**我遇到了错误：**

```
 Cursor c = ourHelper.getWritableDatabase().query( DATABASE_TABLE, column, null, null, null, null, null );

        XYMultipleSeriesDataset dataset = getDemoDataset("Line1"); 
```

**日志猫：**

```
11-17 14:35:36.823: E/AndroidRuntime(334): FATAL EXCEPTION: main
11-17 14:35:36.823: E/AndroidRuntime(334): java.lang.NullPointerException
11-17 14:35:36.823: E/AndroidRuntime(334):  at com.fps.iHealthFirst.calculators.BMICalculatorDB.getDemoDataset(BMICalculatorDB.java:155)
11-17 14:35:36.823: E/AndroidRuntime(334):  at com.fps.iHealthFirst.calculators.BMICalculatorDB.getIntent(BMICalculatorDB.java:183)
11-17 14:35:36.823: E/AndroidRuntime(334):  at com.fps.iHealthFirst.calculators.BMICalculator.onClick(BMICalculator.java:161) 
```

**我的活动课：**

```
public class BMICalculator extends Activity implements OnClickListener{

Button calculate, cancel, view;
EditText etweight, etheightin, etanswer, etheightft, etage;
TextView tvbmi;
RadioGroup gender;
RadioButton male, female;
Date dt = new Date();

public final String TABLE_NAME = "tbl_bmi";
public final String COLUMN_NAME = "bmi_data";

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_LEFT_ICON);
    setContentView(R.layout.bmi);
    getWindow().setFeatureDrawableResource(Window.FEATURE_LEFT_ICON, R.drawable.calculator32);

    // call for components
    initControls();     

} // end onCreate method

private void initControls(){

    calculate = (Button) findViewById (R.id.btBMICalculate);
    cancel = (Button) findViewById (R.id.btBMICancel);
    calculate.setOnClickListener(this);
    cancel.setOnClickListener(this);
    etweight = (EditText) findViewById (R.id.etBMIweight);
    etheightin = (EditText) findViewById (R.id.etBMIheightIn);
    etheightft = (EditText) findViewById (R.id.etBMIheightft);
    etanswer = (EditText) findViewById (R.id.etBMI);    
    etage = (EditText) findViewById (R.id.etBMIAge);
    tvbmi = (TextView) findViewById (R.id.tvBMI);
    tvbmi.setOnClickListener(this);
    male = (RadioButton) findViewById (R.id.rbMale);
    female = (RadioButton) findViewById (R.id.rbFemale);
    view = (Button) findViewById (R.id.btnViewMe);
    view.setOnClickListener(this);

}

private void viewErrorToast(){

     LayoutInflater inflater = getLayoutInflater();
     View layout = inflater.inflate(R.layout.alert_toast,
        (ViewGroup) findViewById(R.id.llToast));
     ImageView image = (ImageView) layout.findViewById(R.id.tvImageToast);
     image.setImageResource(R.drawable.alert32);
     TextView title = (TextView) layout.findViewById(R.id.tvTitleToast);
     title.setText("Attention");
     TextView text = (TextView) layout.findViewById(R.id.tvTextToast);
     text.setText("You have blank field/s!");
     Toast toast = new Toast(getApplicationContext());
     toast.setGravity(Gravity.CENTER | Gravity.CENTER, 12, 40);
     toast.setDuration(Toast.LENGTH_SHORT);
     toast.setView(layout);
     toast.show();

} // end of viewErrorToast method

private void viewBMISavedToast(){

    boolean didItWork = true;

    try{
    String data = etanswer.getText().toString();
    String date = new SimpleDateFormat( "yyyy-MM-dd" ).format( dt );

    BMICalculatorDB entry = new BMICalculatorDB( BMICalculator.this );
    entry.open();

    entry.createEntry(data, date);

    entry.close();
    }
    catch(Exception e){
        didItWork = false;
        viewErrorToast();
    }finally{
        if (didItWork){

            AlertDialog.Builder builder = new AlertDialog.Builder( this );
            builder.setTitle( "Successful" )
            .setIcon( R.drawable.ic_launcher )
            .setMessage( "You're result is saved in the database!" )
            .setPositiveButton( "OK", new DialogInterface.OnClickListener() {           
                public void onClick( DialogInterface dialog, int which ) {

                    dialog.dismiss();
                }
            });       
         AlertDialog ad = builder.create();
         ad.show();  

        }

    }

}

public void onClick(View v) {
    // TODO Auto-generated method stub

    switch(v.getId()){
    case R.id.btBMICalculate:
        if (male.isChecked()){
            calculateMen();
        }
        else if (female.isChecked()){
            calculateWomen();
        } // end if else
        break;
    case R.id.btBMICancel:
        clearAll();
        break;
    case R.id.tvBMI:
        displayDialog();
        break;
    case R.id.btnViewMe:
        //Intent i = new Intent( BMICalculator.this, ViewBMIData.class );
        //startActivity(i);
        BMICalculatorDB view = new BMICalculatorDB( null );
        Intent viewIntent = view.getIntent( this );
        startActivity( viewIntent );
        break;
    } // end switch

} // end onClick method 
```

我有新的 logcat 错误：

```
11-17 15:13:34.580: E/AndroidRuntime(360): FATAL EXCEPTION: main
11-17 15:13:34.580: E/AndroidRuntime(360): java.lang.IllegalArgumentException: column 'bmi_date' does not exist
11-17 15:13:34.580: E/AndroidRuntime(360):  at android.database.AbstractCursor.getColumnIndexOrThrow(AbstractCursor.java:314)
11-17 15:13:34.580: E/AndroidRuntime(360):  at com.fps.iHealthFirst.calculators.BMICalculatorDB.getDemoDataset(BMICalculatorDB.java:165)
11-17 15:13:34.580: E/AndroidRuntime(360):  at com.fps.iHealthFirst.calculators.BMICalculatorDB.getIntent(BMICalculatorDB.java:183)
11-17 15:13:34.580: E/AndroidRuntime(360):  at com.fps.iHealthFirst.calculators.BMICalculator.onClick(BMICalculator.java:162)
11-17 15:13:34.580: E/AndroidRuntime(360):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839) 
```

你能帮我弄清楚我在这里缺少什么吗？我已经被这个问题困扰了好几个星期了。任何帮助表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T06:58:31.327

你从来没有像你为你的入口方法那样为你的意图方法打开你的数据库。在您的按钮开关语句中：

```
case R.id.btnViewMe:
        BMICalculatorDB view = new BMICalculatorDB( BMICalculator.this );
        view.open(); //<-- missing this line!!!
        Intent viewIntent = view.getIntent( BMICalculator.this ); // <-- make sure this context is approriate
        startActivity( viewIntent );
        view.close();
        break; 
```

# ms-access - 将数据从 Excel 导入 MS Access

> ID：13428358
> 
> 赞同：0
> 
> 时间：2012-11-17T06:38:28.623
> 
> 标签：ms-access, excel, vba

我有一个包含一些数据的 excel 文件，我需要使用 VBA 将所有数据导入 MS Access，然后对其运行查询，最后将数据呈现在报告中。如何实现？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-19T09:52:22.713

参考： http: [//office.microsoft.com/en-in/excel-help/import-excel-data-to-an-access-database-HP005200852.aspx](http://office.microsoft.com/en-in/excel-help/import-excel-data-to-an-access-database-HP005200852.aspx)

确保 Microsoft Excel 数据为列表格式：每一列在第一行都有一个标签并包含类似的事实，并且列表中没有空白行或列。

```
Close the Excel workbook that contains the data you want to use in Microsoft Access.

In Access, open the database where you want to copy the Excel data.

On the Access File menu, point to Get External Data, and then click Import.

In the Import dialog box, click Microsoft Excel in the Files of type box.

In the Look in list, locate the file you want to import, and then double-click the file.

Follow the directions in the Import Spreadsheet Wizard. 
```

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T06:57:34.967

使用 docmd.transterspreadsheet，如下所示：

```
DoCmd.TransferSpreadsheet acImport, acSpreadsheetTypeExcel12Xml,tblName, impPath, False, impSheet

where tblName is table to add data to
      impPath is path and file name of excel workbook to import from
      false = no field names in import area (true =field name included in import area)
      sheet = sheet name and range ie "sheet!b5:j15" 
```

# python - How to integrate Selenium and Python

> ID：13428365
> 
> 赞同：1
> 
> 时间：2012-11-17T06:38:56.273
> 
> 标签：python

I wanted to run selenium code in using python so, How to integrate with python

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T09:00:16.983

you can install it using pip:

`pip install selenium`

the documentation has a nice [Getting Started](http://selenium-python.readthedocs.org/en/latest/getting-started.html) section with some good examples. The example I created below is a very simple one that will load a url and print the page's title. You could use it to just check that everything is up and running.

```
from selenium import webdriver
driver = webdriver.Firefox()
driver.get("http://google.com")
print driver.title
driver.close() 
```

# javascript - 单选按钮问题 cakephp + jquery

> ID：13428367
> 
> 赞同：1
> 
> 时间：2012-11-17T06:39:10.087
> 
> 标签：javascript, jquery, database, cakephp

这是我的 cakephp 代码...

```
<?php
$attributes=array('legend'=>false,'separator'=>'<td>'); 
$options=array('N'=>'none','R'=>'read','W'=>'write');
?>

<table>
 <tr class="gray_tab">
    <td class="align-l">English</td>
    <td>
    <?php echo $this->Form->radio('language_english',$options,$attributes); ?>
    </td>   
  </tr>
</table> 
```

这是我的 javascript

```
var English = 
$("input[type='radio'][name='data[User][language_english]']:checked").val();
alert(English); 
```

现在，假设我`R-(read)`从单选按钮中选择，那么它第一次运行良好，我使用该值更新数据库，但之后如果我希望使用值更新该单选按钮，那么我的 js 代码返回由数据库`w-(write)`设置的旧值，即`cakephp``R-(read).`

我想第一次获取与数据库中设置的值不同的单选按钮的更新值！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T12:44:28.297

只需尝试此更改，然后告诉我是否可行：

```
var English =$("input[type='radio']name='data[language_english]']:checked").val(); 
```

# javascript - stuff.className.indexOf("term") == 1 不工作

> ID：13428372
> 
> 赞同：3
> 
> 时间：2012-11-17T06:39:44.917
> 
> 标签：javascript, string, indexof, classname

我做了一些谷歌搜索，发现以下代码不起作用，因为 inputs[i].className 不是字符串。我怎么把它变成一个字符串？？？我试过toString（）。此外，inputs.length 不是 0。我检查过。

```
for (var i = 0; i < inputs.length; i++)
{
     if (inputs[i].className.indexOf("blah") == 1)
     {
      //do something
     }
} 
```

我只想对类名类似于“blah 1;2;3;4”的输入数组值做一些事情。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-17T06:47:52.830

`indexOf(value)``-1`不匹配时返回，匹配时返回索引`0`。

在您的情况下，您应该将结果与 0 而不是 1 进行比较。

* * *

请注意，如果您想测试一个节点是否有某个特定的类名，这不是一个好的做法。

`node.classList.contains()`更好的方法是使用现代浏览器中可用的DOM API 。

或者使用正则表达式`/\bblah\b/.test(node.className)`来避免`blah`是另一个类名的子字符串的情况，比如`not-blah`.

另一种方法是使用 mootools，它提供`node.hasClass()`给`HTMLElement`实例。

或者使用 jQuery 之类的`$(node).hasClass()`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T06:52:06.007

如果你想检查一个类是否存在，检查 indexOf() !== -1 因为 indexOf 返回搜索词开始的索引。仅当它从第二个字符开始时检查 1 才有效。类似地，检查 0 仅在它从开头开始时才有效，但如果有多个类，它可能出现在任意数量的其他索引处，在这种情况下，它将返回 0 以外的某个值。

正如 xiaoyi 指出的那样，您可能拥有与您正在寻找的类名足够相似的类名，它可能会返回误报。为避免这种情况，如果您仍想使用 indexOf，则需要进行一些额外的检查。首先，我会在 ' ' 上拆分 className 并遍历结果数组进行索引检查。然后，在任何 indexOf() !== -1 值上，检查值的长度是否等于您要检查的值的长度。

# php - PHP数组只返回字符串的第一个字符

> ID：13428374
> 
> 赞同：0
> 
> 时间：2012-11-17T06:40:01.160
> 
> 标签：php, sql, arrays, string, forms

我正在使用复选框来更改 SQL 查询。

的HTML：

```
 <input type="checkbox" name="chapter" value="7"  /><label>ch. 7</label><br />
        <input type="checkbox" name="chapter" value="13"  /><label>ch. 13</label> 
```

PHP：

```
 //adjust query for chapter
   $chap = $_POST['chapter'];
   $chapter = "";
   if(!empty($chap)){
        $N = count($chap);
        if($N == 1){
         $chapter .= " AND chapter = '".$chap[0]."'";
        }else{
         $chapter .= " AND (chapter = '".$chap[0]."' OR chapter = '".$chap[1]."')";
        }
   }    

       $zquery = "SELECT * FROM records WHERE ".$zipcodes.$chapter; 
```

当复选框未选中时，它可以正常工作。当第 7 章框被选中时，它工作正常。问题在于那个 13 盒。当我检查时，`$chap[]`只返回一个值`"1"`而不是`"13"`. 例如，当`var_dump` `$zquery`我得到`string(3384) "SELECT * FROM records WHERE (party_zip='34683' OR party_zip='34682' ) AND chapter = '1'"`.

此外，`$N`总是返回`1`，即使我选中了两个框。是`$_POST['chapter']`不是数组？为什么它只返回字符串中的第一个字符？

合十礼

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T06:46:40.217

`$_POST['chapter']`不是数组，请在输入名称中使用方括号：

```
<input type="checkbox" name="chapter[]" value="7"  /><label>ch. 7</label><br />
<input type="checkbox" name="chapter[]" value="13"  /><label>ch. 13</label> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T06:48:43.357

`[0]`如果您只想从表单返回一个值，请尝试删除

```
$chapter .= " AND chapter = '".$chap."'"; 
```

或者（可能是您想要的），将您的输入更改为数组，它应该可以工作

```
<input type="checkbox" name="chapter[]" value="7"  /><label>ch. 7</label><br />
<input type="checkbox" name="chapter[]" value="13"  /><label>ch. 13</label> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-17T06:53:43.197

Molle 博士和 Douglas 都是正确的，但我想扩展一下他们的答案。

`$_POST` *是*一个数组。它可以包含各种值，无论是在一个`key => value`结构中，还是在一系列数字索引的值中。每个值都可以是任何其他类型的数据。在这种情况下，您的变量：

`$_POST['chapter']`

是一个字符串，最有可能 - PHP 将数组索引（`[0]`等）解释为一个*字符*索引，当用于字符串时（或针对可以简单地转换为字符串的变量，如整数或浮点数。）这就是为什么你'重新获取第一个字母而不是第一个值：只有一个值可以得到！

当然，您可能会遇到数组的值本身就是一个数组的情况——在这种情况下，您可以通过键入等方式访问该值`$array[0]['candles']`，但数组不会发生这种情况`$_POST`（它始终是一个数组）字符串。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T06:50:57.937

`$_POST`作为数组工作，它通过表单打印项目的所有值，以了解帖子值的使用

```
echo"<pre>";
 print_r($_POST); 
```

`$_POST`作为数组工作，它包含我们通过表单发布的所有值。

为了获得每个值，我们也可以使用

```
foreach ($_POST as $value ) 
{
   echo $values."</br>";
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-17T06:59:37.893

$_POST['chapter'] 不是数组。$N 返回 1 因为 $chap 不是数组，如果变量不是数组，则 count() 函数总是返回 1。

你可以使用喜欢

> ```
> 名称="章节[]"  
> ```

那么 $_POST['chapter'] 应该是一个数组。

# java - Java：如何为方法或构造函数选择引用？

> ID：13428378
> 
> 赞同：0
> 
> 时间：2012-11-17T06:40:42.400
> 
> 标签：java

在下面的代码中，我对以下行有一些疑问：

```
btn.addActionListener(this);
th= new Thread(this); 
```

代码 ：

```
public class Foo  extends Applet implements  Runnable,ActionListener
{
    Button btn;
    Thread th;
    public void init()
    {
        btn=new Button("Click on me");
        add(btn);
        btn.addActionListener(this);  // pass reference as this
        th=null;
    }
    public void run()
    {
        int i=0;
        while(i++<10)
        {
            try{
                th.sleep(500);
                showStatus(new Integer(i).toString());
            }
            catch(Exception e){}
        }
    }
    public void actionPerformed(ActionEvent e)
    {
        if(th==null)
        {
            th= new Thread(this);  // pass reference as this
            th.start();
        }       
    }
} 
```

在 Thread 类构造函数中**`Thread(Runnable target)`**分配一个新的 Thread 对象。
我们可以传递 Runnable Target，但我已将***其***作为参数传递。我已经实现了 Runnable 接口，虽然它是可能的
但是我再次将它作为参数传递***在***这种情况下，我们可以传递**ActionListener**目标。
如果我们在这两种情况下都将它作为参数传递***它***如何得到解决。
我认为 ***这个***参考是针对
1\. Foo
2\. Runnable
3\. ActionListener的参考，
那么如何为方法或构造函数选择合适的参考？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T06:45:11.210

您正在调用的方法的方法签名决定了“'this' 的目标”，无论它应该是什么意思。addActionListener() 接受一个 ActionListener 参数；new Thread() 采用 Runnable；等等

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T07:35:15.803

你有一个 IS-A 关系：

*   `Foo`IS-A`Applet`
*   `Foo`IS-A`Runnable`
*   `Foo`IS-A`ActionListener`

`Foo`当创建类型的新对象时，`Foo`将是“选定的引用”类型。如果您想拥有不同的类型（从所选列表中），您必须向其他人投射。

只要`Foo`IS-A和`Applet`，方法的合同是完整的：接受which IS-A ，接受which IS-A 。`Runnable``ActionListener``btn.addActionListener(this);``Foo``ActionListener``th= new Thread(this);``Foo``Runnable`

# java - 以同步方式运行线程

> ID：13428390
> 
> 赞同：0
> 
> 时间：2012-11-17T06:42:44.007
> 
> 标签：java, multithreading

我需要并行运行两个线程。

1) PrimeThread，计算从 1 到 100 的素数。 2) evenThread，计算从 1 到 100 的偶数。

我已经实现了素数和偶数的逻辑。不要专注于它。我的问题是，

我想以下列方式打印数字。10 个素数 10 个偶数 10 个素数 10 个偶数，其余的。

那可能吗？？？

我使用了 sleep() 方法，但它不起作用。请帮我。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T10:23:57.513

> 我需要并行运行两个线程。
> [...]
> 我想以下列方式打印数字。10 个素数 10 个偶数 10 个素数 10 个偶数，其余的。

这似乎是矛盾的：您想要的输出意味着您真正想要的是按顺序运行任务，但是以交错的方式。为什么不创建 2 个方法：`printNextPrimes(int number)`并`printNextEvens(int number)`在单线程循环中调用它们：

```
for (int i = 0; i < 10; i++) {
    printNextPrimes(10);
    printNextEvens(10);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T09:23:18.467

看这个例子，它向你展示了如何以同步方式使用线程......

在此我将打印 "A,A,A,.....B,B,B....C,C,C" & VICE VERSA 而不是 RANDMOLY "C,B,A,B,C,A ,B”等...

```
//Use of synchronize

class A
{
    char c[] = {'A', 'B', 'C'};

    synchronized void show (int index)
    {
        try
        {
            for(int i=0; i<3; i++)
            {
                System.out.println(c[index]);
                Thread.sleep(1000);
            }
        }
        catch(Exception e)
        {
            System.out.println(e);
        }
    }
}

class B extends Thread
{
    int index;
    A ob1;

    void set (int i)
    {
        index =i;
    }

    public void run()
    {
        ob1.show(index);
    }

    public static void main (String[] args)
    {
        A ob2 = new A ();

        B b1 = new B ();
        B b2 = new B ();
        B b3 = new B ();

        b1.set(0);
        b2.set(1);
        b3.set(2);

        b1.ob1 = ob2;
        b2.ob1 = ob2;
        b3.ob1 = ob2;

        b1.start();
        b2.start();
        b3.start();
    }
} 
```

我希望这个示例对您有所帮助，因为它与您的问题非常相似......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:03:29.677

听起来您正在寻找[信号量](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Semaphore.html)

每个线程都有自己的信号量。输出10个数字后，它会释放其他线程拥有的信号量，并获取自己的信号量。这将使另一个线程重新启动，并阻塞该线程，直到它再次被释放。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T08:10:07.303

像这样的东西：

```
public class Test {
    static Object lock = new Object();
    static boolean printPrime = true;
    static boolean printEven;

    static class PrimeTread extends Thread {
        public void run() {
            int n = 0;
            while (n < 100) {
                synchronized (lock) {
                    if (printPrime) {
                        for (int i = 0; i < 10; i++) {
                            System.out.println(nextPrime());
                            n++;
                        }
                        printPrime = false;
                        printEven = true;
                        lock.notifyAll();
                    } else {
                        try {
                            lock.wait();
                        } catch (InterruptedException e) {
                            throw new RuntimeException(e);
                        }
                    }
                }
            }
        }

        private int nextPrime() {
            return 31;
        }
    }

    static class EvenTread extends Thread {
        public void run() {
            int n = 0;
            while (n < 100) {
                synchronized (lock) {
                    if (printEven) {
                        for (int i = 0; i < 10; i++) {
                            System.out.println(nextEven());
                            n++;
                        }
                        printPrime = true;
                        printEven = false;
                        lock.notifyAll();
                    } else {
                        try {
                            lock.wait();
                        } catch (InterruptedException e) {
                            throw new RuntimeException(e);
                        }
                    }
                }
            }
        }

        private int nextEven() {
            return 2;
        }
    }

    public static void main(String[] args) {
        new EvenTread().start();
        new PrimeTread().start();
    }
} 
```

# jakarta-ee - Liferay Portal 6.0 社区版 - 修改模板时出现 StackOverflowError

> ID：13428393
> 
> 赞同：1
> 
> 时间：2012-11-17T06:42:54.377
> 
> 标签：jakarta-ee, liferay, liferay-6, liferay-theme

我修改了默认模板 -

*   门户正常.ftl
*   portal_normal.vm

添加了一些标签 -

```
...
            <h1 class="site-title">
                <a class="${logo_css_class}" href="${site_default_url}" title="<@liferay.language key="go-to" /> ${site_name}">
                    <img alt="${logo_description}" height="${site_logo_height}" src="${site_logo}" width="${site_logo_width}" />
                </a>

...my tags here..

                <#if show_site_name>
                    <span class="site-name" title="<@liferay.language key="go-to" /> ${site_name}">
                        ${site_name}
                    </span>
                </#if>
            </h1>
... 
```

现在，当我尝试登录时，我看到一个空白屏幕，并且在日志中指出 -

**catalina.out**：

```
...
    INFO: Server startup in 164719 ms
    06:23:13,302 ERROR [http-bio-8082-exec-3][IncludeTag:253] Current URL /web/guest/main?p_p_id=58&p_p_lifecycle=0&p_p_state=maximized&p_p_mode=view&saveLastPath=0&_58_struts_action=%2Flogin%2Flogin generates exception: java.lang.StackOverflowError
    06:23:13,316 ERROR [http-bio-8082-exec-3][IncludeTag:154] java.lang.StackOverflowError
        at com.liferay.portal.kernel.io.unsync.UnsyncPrintWriter.write(UnsyncPrintWriter.java:385)
        at org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:325)
        at com.liferay.portal.kernel.io.unsync.UnsyncPrintWriter.write(UnsyncPrintWriter.java:385)
        at org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:325)
        at com.liferay.portal.kernel.io.unsync.UnsyncPrintWriter.write(UnsyncPrintWriter.java:385)
        at org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:325)
        at com.liferay.portal.kernel.io.unsync.UnsyncPrintWriter.write(UnsyncPrintWriter.java:385)
        at org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:325)
        at com.liferay.portal.kernel.io.unsync.UnsyncPrintWriter.write(UnsyncPrintWriter.java:385)
        at org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:325)
        at com.liferay.portal.kernel.io.unsync.UnsyncPrintWriter.write(UnsyncPrintWriter.java:385)
        at org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:325)
        at com.liferay.portal.kernel.io.unsync.UnsyncPrintWriter.write(UnsyncPrintWriter.java:385)
        at org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:325)
        at com.liferay.portal.kernel.io.unsync.UnsyncPrintWriter.write(UnsyncPrintWriter.java:385)
        at org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:325)
        at com.liferay.portal.kernel.io.unsync.UnsyncPrintWriter.write(UnsyncPrintWriter.java:385)
        at org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:325)
        at com.liferay.portal.kernel.io.unsync.UnsyncPrintWriter.write(UnsyncPrintWriter.java:385)
        at org.apache.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:325)
... 
```

这是什么异常以及现在如何登录？

我想这不是重点。我按原样返回了所有内容，但无法登录 - 一个空白屏幕。

尝试通过输入`http://localhost: 8082/c/portal/login`url 来恢复登录 portlet。

当我查看萤火虫时，我看到登录请求的状态：

`http://localhost:8082/c/portal/login?p_l_id=10691`是**302 临时移动**

这意味着什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T16:06:08.403

我找到了解决方案。需要在portal-ext.properties的属性中添加以下内容：

> auto.login.hooks=com.liferay.portal.security.auth.CASAutoLogin,com.liferay.portal.security.auth.NtlmAutoLogin,com.liferay.portal.security.auth.OpenIdAutoLogin,com.liferay.portal.security。 auth.OpenSSOAutoLogin,com.liferay.portal.security.auth.RememberMeAutoLogin,com.liferay.portal.security.auth.SiteMinderAutoLogin,com.liferay.portal.security.auth.ParameterAutoLogin

接下来，需要提出以下请求：

```
http://localhost:8082/web/guest?parameterAutoLoginLogin=some_email&parameterAutoLoginPassword=some_password 
```

现在一切正常。

更多信息可以在这里找到：

*   [参数自动登录示例](http://www.liferay.com/community/forums/-/message_boards/message/5005621)
*   [如何在 liferay 中重新获得登录 Portlet](https://stackoverflow.com/questions/10597031/how-to-regain-login-portlet-in-liferay)

# java - While循环中的重复方法

> ID：13428395
> 
> 赞同：0
> 
> 时间：2012-11-17T06:43:10.277
> 
> 标签：java, loops, methods

我似乎无法让我的主要方法正常工作，因为它应该 100%。这很好，但我需要解决循环问题。

我的主要目标是让程序在用户输入任何数字 >=1 时重复方法 pathCalc() 并在用户输入 0 时结束程序。但是，当用户输入 >=1 重复程序时，程序确实重复，但是当它询问用户是否重复或再次退出，并且用户输入 0 退出时，程序重复方法 pathCalc() 而不是退出。

如何在重复方法后使其工作，以便用户输入 >= 1 重复方法或 0 退出？

```
 import java.util.Scanner;

      public class AssignmentArrays{
         static int[] data = new int [6];

            public static void getIDs(){

               Scanner seg = new Scanner(System.in);

               int[] data = new int [6];
               data[0] = 0;
               data[1] = 0;
               data[2] = 0;
               data[3] = 0;
               data[4] = 0;
               data[5] = 0;

              /* Segment values */

               System.out.println("Enter cost for segment 0:");
               data[0] = seg.nextInt();

               System.out.println("Enter cost for segment 1:");
               data[1] = seg.nextInt();

               System.out.println("Enter cost for segment 2::");
               data[2] = seg.nextInt();

               System.out.println("Enter cost for segment 3:");
               data[3] = seg.nextInt();

               System.out.println("Enter cost for segment 4:");
               data[4] = seg.nextInt();

               System.out.println("Enter cost for segment 5:");
               data[5] = seg.nextInt();

   }

     public static void pathCalc(){     

     /* Path inputs */

     Scanner node1 = new Scanner(System.in);

     int pathCost;

     System.out.println("Enter ID of segment 0 of path:");
     int node1value = node1.nextInt();

     System.out.println("Enter ID of segment 1 of path:");
     int node2value = node1.nextInt();

     System.out.println("Enter ID of segment 2 of path:");
     int node3value = node1.nextInt();

     /* Path cost calculation */

     pathCost = data[node1value] + data[node2value] + data[node3value];
     System.out.println("The cost of the trip is: $" + pathCost);
     }

     public static void main(String[] args){
      getIDs();
      pathCalc();
      System.out.println("Enter 0 to exit or any other number"+
                                        " to evaluate another path:");
         int choice;
         choice = end.nextInt();

         while(choice != 0){
         getIDs();
         pathCalc();
         System.out.println("Enter 0 to exit or any other number"+
                                        " to evaluate another path:");
         choice = end.nextInt();
         }
     }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:46:25.400

您正在阅读`choice`while 循环中的两个时间。移出一个实例，如下所示：

```
 getIDs();
    pathCalc();
    System.out.println("Enter 0 to exit or any other number"+
                                            " to evaluate another path:");
    int choice = end.nextInt();
    while(choice != 0){
         //getIDs();
         pathCalc();
         System.out.println("Enter 0 to exit or any other number"+
                                            " to evaluate another path:");
         choice = end.nextInt();
    } 
```

此外，不需要额外的标志。`choice`您可以在上述情况下使用自己。

**`0`如果用户在开头输入，您的 while 循环将不会启动；`0`当用户随后进入时，循环将自动终止。**

**编辑：**更新程序。

```
public class AssignmentArrays {
    static int[] data = new int[6];
    static Scanner seg;

    public static void getIDs() {
        int[] data = new int[6];
        data[0] = 0;
        data[1] = 0;
        data[2] = 0;
        data[3] = 0;
        data[4] = 0;
        data[5] = 0;

        /* Segment values */

        System.out.println("Enter cost for segment 0:");
        data[0] = seg.nextInt();

        System.out.println("Enter cost for segment 1:");
        data[1] = seg.nextInt();

        System.out.println("Enter cost for segment 2::");
        data[2] = seg.nextInt();

        System.out.println("Enter cost for segment 3:");
        data[3] = seg.nextInt();

        System.out.println("Enter cost for segment 4:");
        data[4] = seg.nextInt();

        System.out.println("Enter cost for segment 5:");
        data[5] = seg.nextInt();

    }

    public static void pathCalc() {
        int pathCost;

        System.out.println("Enter ID of segment 0 of path:");
        int node1value = seg.nextInt();

        System.out.println("Enter ID of segment 1 of path:");
        int node2value = seg.nextInt();

        System.out.println("Enter ID of segment 2 of path:");
        int node3value = seg.nextInt();

        /* Path cost calculation */

        pathCost = data[node1value] + data[node2value] + data[node3value];
        System.out.println("The cost of the trip is: $" + pathCost);
    }

    public static void main(String[] args) {
        seg = new Scanner(System.in);
        getIDs();
        pathCalc();
        System.out.println("Enter 0 to exit or any other number"
                + " to evaluate another path:");
        int choice;
        choice = seg.nextInt();

        while (choice != 0) {
            getIDs();
            pathCalc();
            System.out.println("Enter 0 to exit or any other number"
                    + " to evaluate another path:");
            choice = seg.nextInt();
        }
        seg.close();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T06:52:25.947

```
if (choice == 0){ 
System.exit(0);
 } 
```

直接退出或确保在进入循环之前检查选择

# fonts - FontForge Gylph 名称

> ID：13428397
> 
> 赞同：1
> 
> 时间：2012-11-17T06:43:54.797
> 
> 标签：fonts, glyph, fontforge

嗨，当我加载字体文件时，在 Windows 中使用字体锻造它会为字体文件中的每个字形创建字形名称。我感兴趣的领域是这个名字是如何在 fontforge 中生成的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-08-09T04:04:12.320

默认情况下，FontForge 使用[Adob​​e Glyph List](https://en.wikipedia.org/wiki/Adobe_Glyph_List)作为其名称列表，它提供像*ydieresis*这样的字形名称；这些是 FontForge .sfd 文件中使用的名称。FontForge 还显示 Unicode 名称，例如*LATIN SMALL LETTER Y WITH DIAERESIS*。

如果您愿意，可以[更改](https://fontforge.github.io/encodingmenu.html#namelist)给定字体的名称列表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-18T17:36:53.277

这些名称由 Unicode 联盟决定。

[https://github.com/fontforge/libuninameslist](https://github.com/fontforge/libuninameslist)是 FontForge 用来查找信息的 C 库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-11T07:50:54.390

大多数 unicode 字符都有一个唯一的名称。见：[http ://unicode.org/charts/charindex.html](http://unicode.org/charts/charindex.html)

# jms - 从 Websphere MQ 读取消息总是破坏性调用

> ID：13428399
> 
> 赞同：3
> 
> 时间：2012-11-17T06:44:14.053
> 
> 标签：jms, ibm-mq

我观察到，如果回滚 TX（MDB 容器管理的 TX）稍后从队列中读取 msg（破坏性调用），则将 msg 放回队列（原始队列或退出队列，具体取决于队列的倒计时和阈值设置） . 可以说，如果由于 TX 回滚失败而发生某些事情（重复网络问题或某些问题），那么 Msgs 就会丢失。

是真的吗？？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T17:32:54.917

正如我在对前面问题的评论中指出的那样，简短的回答是“不，如果失败，WMQ 不会丢失这些消息`COMMIT`”，但让我们更详细地了解一下。

当客户端通过网络连接到 MQ 时，幕后发生的事情是 MQ 启动一个进程，该进程创建一个到 MQ 的共享内存连接和一个到客户端应用程序的套接字连接。保持事务打开的是共享内存进程，在 WMQ 术语中称为“通道代理”。

从应用程序的角度来看，有两种情况`COMMIT`似乎失败了。在其中的第一个中，将`COMMIT`传递给通道代理并执行，但由于网络问题，确认永远不会返回给应用程序。从 MQ 的角度来看，消息并没有“丢失”，因为应用程序有意提交了`GET`调用。

第二种情况是在`COMMIT`到达通道代理之前发生网络故障。在这种情况下，`COMMIT`确实失败了，因为应用程序无法恢复事务所在的连接句柄。当通道代理意识到 TCP 连接失败时，它会退出事务并关闭通道。这个过程中的问题是通道代理可能需要一段时间才能意识到连接已经断开。事实上，大多数平台上默认的 TCP 超时时间是两个小时。根据您服务器的 TCP 设置，交易的`GET`可能会将该消息在同步点下保存长达两个小时，使其看起来已被消耗。这是强烈推荐使用当前级别的 QMgr 和客户端的原因之一——它们较少依赖 TCP，而更多地依赖内部通道心跳协议来检测丢失的连接。

从应用程序的角度来看，这两种情况似乎都是相同的——应用程序调用`COMMIT`并返回 2009 `MQRC_CONNECTION_BROKEN`。但是在第一种情况下，消息由于 的原因而消失了，`COMMIT`而在第二种情况下，消息可能会再次传递。由于这种模糊性，应用程序必须能够检测并优雅地处理欺骗消息。

现在在声明这是 MQ 中的一个缺陷之前，让我指出这种结果的模糊性是在网络上使用消息传递时固有的，而不是特定于 WebSphere MQ 的任何东西。事实上，[JMS 1.1 规范](http://download.oracle.com/otn-pub/jcp/7195-jms-1.1-fr-spec-oth-JSpec/jms-1_1-fr-spec.pdf?AuthParam=1353173044_14b5b8bec5f26d766c0ba91093d05c21)在 4.4.13 中直接解决了这个问题，它说：

> 如果在客户端在 Session 上提交其工作和 commit 方法返回之间发生故障，则客户端无法确定事务是提交还是回滚。当在 PERSISTENT 消息的非事务性发送和发送方法的返回之间发生故障时，存在同样的歧义。
> 
> 由 JMS 应用程序来处理这种歧义。在某些情况下，这可能会导致客户端生成功能上重复的消息。
> 
> 由于会话恢复而重新传递的消息不被视为重复消息。

所以使用同步点可以消除丢失消息的情况，因为任何后面都`GET`必须跟一个a`COMMIT`才能将消息从队列中永久删除。根据定义，`COMMIT`直到应用程序看到消息才能到达。但是，同步点不能消除重复消息的可能性，因为如果`COMMIT`一个`GET`失败，应用程序可能会再次看到该消息。同样，如果`COMMIT`一个`PUT`失败，应用程序无法知道是`COMMIT`在到达通道代理之前还是之后失败，只能重新连接并`PUT`再次发送消息。

如果实际上您遇到“丢失”消息，则可能是：

1.  放置应用程序失败，`COMMIT`但没有放置消息的另一个副本。
2.  `GET`ting 应用程序在 上失败，消息`COMMIT`没有丢失，但实际上在同步点下。在这种情况下，停止任何孤立通道以回滚事务。

除了这两种情况，WMQ 不会丢失该持久消息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T11:23:29.210

不会。消息不会丢失。在事务中，只有在成功提交后，消息才会从队列中删除。如果提交或回滚失败，消息会重新出现。如果在调用提交或回滚之前应用程序和队列管理器之间的连接中断，WebSphere MQ 会自动执行回滚。这样可以确保消息不会丢失。

# c++ - 如何将更新的 git-hash 嵌入到 Version.hpp 中？

> ID：13428403
> 
> 赞同：4
> 
> 时间：2012-11-17T06:44:56.437
> 
> 标签：c++, c, git, githooks

**原标题：如何让 git 忽略我的文件而不管分支？**

我有以下按预期工作的结帐后文件：

```
#!/usr/bin/ruby

cmd = ENV["HOME"] + "/dev/pitbull/cpp/bin/gen_version.rb --write"
`#{cmd}` 
```

gen_version.rb 脚本计算出时间戳、最后一个主标记和 HEAD git 哈希，并写入`VERSION.hpp`也在 git 中的文件。

然后我`use git update-index --assume-unchanged VERSION.hpp`用来让 git 忽略我的更改。

现在，如果我留在我的开发分支上，这将非常有用。但是当我尝试 a 时`get checkout master`，我搞砸了：

```
git checkout master
error: Your local changes to the following files would be overwritten by checkout:
    cpp/inc/core/util/VERSION.hpp
Please, commit your changes or stash them before you can switch branches.
Aborting 
```

**什么是正确的 git 设置，以便我可以在签出时更新 VERSION.hpp，但无论我的分支如何，git 都会忽略对此文件的任何更改？**

**编辑** 我更改了主题，因为最终解决方案实际上解决了一个更广泛的主题，这可能对更多的 SO 用户更有用。因此，您可以通过两种方式阅读该主题：使用原始标题和下面的答案，或者使用上面更广泛的问题，再次使用下面的整个解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T15:39:56.810

**解决我最初的问题：如何让 git 无论分支如何都忽略我的文件？**

1.  git rm cpp/inc/core/util/VERSION.hpp
2.  将 cpp/inc/core/util/VERSION.hpp 添加到 .gitignore

**解决方法：如何将更新的 git-hash 嵌入到 Version.hpp 中？**

部分问题是鸡蛋问题，在所有文件都签入之前您无法知道您的哈希值，但在您知道您的 git-hash 之前您无法签入更新的 VERSION.hpp。所以我的解决方案是将 VERSION.hpp 留在存储库和 .gitignore 文件中。

*请记住，将 VERSION.hpp 嵌入到可执行文件中的目的：如果在生产中出现讨厌的错误，使用二进制文件中的 git-hash，我们将知道要检查 git 的代码，以便我们可以正确调试代码.*

除了上述两个步骤之外，我还采取了以下步骤：

1.  编写一个简短的 ruby​​ 脚本，它根据本地区域是否脏（如果`git diff --shortstat`显示多于 0 行，则表示您有脏区域）做两件事。 `git rev-list HEAD | sed -n '1p' | cut -c1-10`会给你前 10 个字符作为 git-hash。如果您的本地区域很脏，这是 LAST HEAD 的 git-hash（我将字符串 LAST 嵌入到 VERSION.hpp 中）。如果这是干净的，那就是你真正的当前 git-hash。
2.  ruby 脚本将检查 1\. 中的结果与实际的 VERSION.hpp 文件。如果结果已更改，则将新结果写入 VERSION.hpp。
3.  修改我的 .bashrc，添加两个小别名 - **cmakerel**和**cmakedbg**​​ 用于在我的本地和发布目录中调用 cmake，但在我这样做之前，我在别名中调用 cmake 和 make，我在 1 中调用 ruby​​ 脚本来更新我的 VERSION.hpp 如果必要的。

如果我在 git checkout 之后调用 cmakerel 和 cmakedbg​​ 并且如果我在构建之前不修改代码（无论如何我都不应该为实际发布做这件事），我将拥有我需要的 VERSION.hpp 以及所有正确的信息嵌入。

**注意**使用别名修改 .bashrc 的另一种解决方案是使用 git 的**post-checkout 挂钩**（理论上）。但是，我无法让它发挥作用，而且我已经在这个问题上花费了太多时间，但你可能会有更好的运气。

# xml-parsing - 如何使用 JDOM 获取属性值

> ID：13428405
> 
> 赞同：1
> 
> 时间：2012-11-17T06:45:18.973
> 
> 标签：xml-parsing, jdom-2

我想从此 XMLfile 中获取元素“UML:UseCase”的属性“名称”。

```
<?xml version = "1.0" encoding = "UTF-8"?>
<XMI xmi.version = "1.1" xmlns:UML="href://org.omg/UML/1.3" timestamp = "Fri Nov 16 11:47:6 2012">
<XMI.header>
  <XMI.documentation>
    <XMI.owner></XMI.owner>
    <XMI.contact></XMI.contact>
    <XMI.exporter>StarUML.XMI-Addin</XMI.exporter>
    <XMI.exporterVersion>1.0</XMI.exporterVersion>
    <XMI.notice></XMI.notice>
  </XMI.documentation>
  <XMI.metamodel xmi.name = "UML" xmi.version = "1.3"/>
 </XMI.header>
<XMI.content>
<UML:Model xmi.id="UMLProject.1">
  <UML:Namespace.ownedElement>
    <UML:Model xmi.id="UMLModel.2" name="Use Case Model" visibility="public" isSpecification="false" namespace="UMLProject.1" isRoot="false" isLeaf="false" isAbstract="false">
      <UML:Namespace.ownedElement>
        <UML:Package xmi.id="UMLPackage.3" name="Purchasing" visibility="public" isSpecification="false" namespace="UMLModel.2" isRoot="false" isLeaf="false" isAbstract="false">
          <UML:Namespace.ownedElement>
            <UML:UseCase xmi.id="UMLUseCase.4" name="Place order" visibility="public" isSpecification="false" namespace="UMLPackage.3" isRoot="false" isLeaf="false" isAbstract="false" participant="UMLAssociationEnd.40" extend2="UMLExtend.47 UMLExtend.48" include="UMLInclude.25 UMLInclude.44 UMLInclude.45"/>
            <UML:UseCase xmi.id="UMLUseCase.5" name="Place order via Web site" visibility="public" isSpecification="false" namespace="UMLPackage.3" isRoot="false" isLeaf="false" isAbstract="false" extend="UMLExtend.48"/>
            <UML:UseCase xmi.id="UMLUseCase.6" name="Place order via Application" visibility="public" isSpecification="false" namespace="UMLPackage.3" isRoot="false" isLeaf="false" isAbstract="false" extend="UMLExtend.47"/>
            <UML:UseCase xmi.id="UMLUseCase.7" name="Browse catalog" visibility="public" isSpecification="false" namespace="UMLPackage.3" isRoot="false" isLeaf="false" isAbstract="false" participant="UMLAssociationEnd.43"/>
            <UML:UseCase xmi.id="UMLUseCase.8" name="Confirm shipment" visibility="public" isSpecification="false" namespace="UMLPackage.3" isRoot="false" isLeaf="false" isAbstract="false"/>
            <UML:Actor xmi.id="UMLActor.9" name="Customer" visibility="public" isSpecification="false" namespace="UMLPackage.3" isRoot="false" isLeaf="false" isAbstract="false" participant="UMLAssociationEnd.39 UMLAssociationEnd.42"/>
            <UML:Stereotype xmi.id="X.55" name="Common feature" extendedElement="UMLPackage.3"/>
            <UML:Stereotype xmi.id="X.56" name="Common use case" extendedElement="UMLUseCase.4 UMLUseCase.7 UMLUseCase.8"/>
            <UML:Stereotype xmi.id="X.57" name="Alternative use case" extendedElement="UMLUseCase.5 UMLUseCase.6"/>
          </UML:Namespace.ownedElement>
        </UML:Package>
...... 
```

我的预期结果。

**下订单
通过网站
下订单 通过应用下订单
浏览目录
确认发货** 

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-18T14:08:20.957

为您编写程序付出了太多的努力......但您将希望使用命名空间研究 XPath：

```
XPathFactory.compile("//UML:UseCase/@name", Filters.attribute(), null,
         Namespace.getNamespace("UML", "href://org.omg/UML/1.3")); 
```

或直接使用命名空间导航：

```
Parent.getChildren(name, Namespace). 
```

您的问题是您需要使用命名空间 Namespace.getNamespace("UML", "href://org.omg/UML/1.3"); 访问所有带有 UML 前缀的内容。

罗尔夫

# java - 如何在数组中搜索特定字符串并在java中将其删除

> ID：13428407
> 
> 赞同：0
> 
> 时间：2012-11-17T06:45:46.790
> 
> 标签：java

我有一个包含一百个字符串的数组。我希望能够使用用户给出的输入，通过方法参数传递它，搜索该确切的字符串，然后将其删除。我该怎么做呢？此外，我将如何做同样的事情但添加它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T06:52:42.933

像这样的东西？？

```
import java.util.Scanner;

public class StringSearch 
{
    public static void main(String[] args) 
    { 
        String[] nameArray = {"Stack", "Overflow"};
        String newName;
        int index;
        Scanner keyboard = new Scanner(System.in);
        System.out.print("\nPlease enter in a name: ");
        newName = keyboard.nextLine();
        index = nameSearch(nameArray, newName);
        if (index != -1) {
            System.out.print("\nFound the name " + newName );
        }
        else {
            System.out.print("\nCannot find specified name " + newName);
        }
    }

    public static int nameSearch(String[] names, String name)
    {
        for (int n = 0; n < names.length; n++) {
            if (names[n].equals(name)) {
                return n;
            }
        }
        return -1;
    }
} 
```

如果你想实现删除，你可以从这样的数组中删除一些东西

```
List<String> list = new ArrayList<String>(Arrays.asList(array));
list.remove("thing to remove");
array = list.toArray(array); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T07:02:03.207

使用 List 而不是数组会容易得多。

您可以像这样将数组转换为列表：

```
String[] stringArray = populateArray();
List<String> stringList = Arrays.asList(stringArray); 
```

您可以像这样将 List 转换为数组：

```
String[] stringArray = stringList.toArray(new String[0]); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:07:51.247

你可以做的是：

1）无论你在数组中有什么元素，只需将该数组转换为 List

2）一旦你得到清单，所有的事情对你来说都变得更容易了。

3) 只需使用 contains 方法来查找此列表是否包含指定元素。

4）并相应地使用列表的添加/删除方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T06:53:17.760

将您的数组转换为`String(char[] value)`然后使用类似的东西`public String replaceAll(String regex,String replacement)`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-17T06:55:09.267

```
String arrayvalues[] ={some set of strings};

public void methodToReplace(String st)    
{
String inputfromuser =st;

    for(int i=0;i<arrayvalues;i++)
    {
    if(inputfromuser.equals(arrayvalues[i]))
         arrayvalues[i] ="new values";

    }

} 
```

# c++ - 在构造函数中混合可变参数模板和初始化列表

> ID：13428408
> 
> 赞同：2
> 
> 时间：2012-11-17T06:45:54.323
> 
> 标签：c++, c++11, variadic-templates

我有一个类用于保存泛型类型的参数列表（ParameterList）。许多类通常在构造函数中接受一个 ParameterList，但有些只需要几个参数，所以我还想提供一个简化版本。

问题在于第二个版本。我写了一个例子来展示一个典型的用法：

```
#include <string>
#include <map>
#include <memory>
#include <vector>
#include <iostream>

struct Parameter
{
};

template<typename T>
struct TypedParameter : public Parameter
{
    TypedParameter (const T& data): data(data){};
    T data;
};

struct ParameterList
{
    std::map<std::wstring, std::shared_ptr<Parameter>> list;

    template<class T> void addParameter(const std::wstring& name, const T& param)
    {
        list[name] = std::shared_ptr<Parameter>(new TypedParameter<T>(param));
    }

    template<class T> T& getParameter(const std::wstring& name) const
    {
        return static_cast<TypedParameter<T>*>(list.at(name).get())->data;
    }
};

class Test
{
private:
    /*const*/ ParameterList _param;
protected:
public:
    Test(ParameterList p):
        _param(p)
    {
    }

    Test(const std::wstring& name, int age)
    {
        _param.addParameter<std::wstring>(L"name", name);
        _param.addParameter<int>(L"age", age);
    }

    void Present()
    {
        std::wcout << L"My name is " << _param.getParameter<std::wstring>(L"name");
        std::wcout << L" and I'm " << _param.getParameter<int>(L"age") << L" years old." << std::endl;
    }
};

int main()
{
    ParameterList l;

    l.addParameter<int>(L"age", 16521);
    l.addParameter<std::wstring>(L"name", L"Bahamut");

    std::wcout << L"name: " << l.getParameter<std::wstring>(L"name") << std::endl;
    std::wcout << L"age: " << l.getParameter<int>(L"age") << std::endl;

    Test t1(l);
    Test t2(L"Tiamat", 15525);

    t1.Present();
    t2.Present();

    getchar();
} 
```

t2 有效，但主要有两个问题。首先我必须创建一个新的构造函数，其次我必须放弃将“_param”设置为 const。

我正在考虑向 ParameterList 添加一个新的构造函数，如下所示：

```
template<typename... Values>
ParameterList(std::initializer_list<std::wstring> keys, const Values&... values)
{
    //?
}

//Later
Test t3({L"name", L"age"}, L"Vorel", 19870); 
```

但是我怎样才能正确解压这些值呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-18T13:34:57.320

你可以做你最初想做的事，而不需要像其他答案那样额外的 std::pair 东西。只需一步提取参数 - 一个用于名称，一个用于值。

```
struct ParameterList
{
    template <class... NamedParams>
    ParameterList(NamedParams... namedParams)
    {
        buildList(namedParams...);
    }
//...
private:
    template <class... NamedParams>
    void buildList() {}
    template <class Name, class Value, class... NamedParams>
    void buildList(Name name, Value value, NamedParams... restParams)
    {
        addParameter(name, value);
        buildList(restParams...);
    }
 }; 
```

然后在您的 Test 类中，只需使用以下命令：

```
class Test
{
private:
    const ParameterList _param;
protected:
public:
    Test(ParameterList p):
        _param(p)
    {
    }

    Test(const std::wstring& name, int age) : _param(L"name", name, L"age", age)
    {
    }

//...
}; 
```

[ideone 的](http://ideone.com/J7SR6o)完整工作示例。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-17T06:51:08.460

`std::initializer_list`用于制作接受编译时可变数量参数的*非模板*函数。用`initializer_list`.

尝试制作一组​​元组或对：

```
template<typename... Values>
ParameterList(std::pair< std::wstring, Values > const &... keyvalues)

Test t3(std::make_pair(L"name", L"Vorel"), std::make_pair(L"age", 19870)); 
```

不同的参数必须用 生成`make_pair`，它们不能从花括号初始化列表推导出来，因为 a`std::initializer_list`必须具有所有相同类型的元素，并且模板参数`std::pair`不能从花括号初始化列表推导出，也不能编译器甚至首先确定给定的重载是合适的。

# sql - 如何按 ActiveRecord 中的一系列值（ruby on rails）分组？

> ID：13428409
> 
> 赞同：2
> 
> 时间：2012-11-17T06:46:07.213
> 
> 标签：sql, ruby-on-rails, activerecord

我有一个 ActiveRecord 模型，它有两列我想分组和求和（都是整数）。我似乎无法解决的问题是如何将第一列作为第二列的一组相加，第二列按范围分组。

我知道我可以做 Model.sum(:first_column, group: :second_column)，但这会导致很多组，因为第二列的值是分散的。如何对第二列的值进行分组，例如在 10 的范围内（0-9、10-19、20-29 等）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T07:05:01.843

您可以在 SQL 中对表达式进行 GROUP BY，而不必仅对列进行 GROUP BY。你可以这样做：

```
Model.sum(:first_column, :group => 'second_column / 10') 
```

或像这样：

```
Model.group('second_column / 10').sum(:first_column) 
```

两者都应该将一些这样的 SQL 发送到数据库中：

```
select sum(first_column), second_column / 10
from models
group by second_column / 10 
```

会有别名，引用，......但效果是一样的。

# android - 是否可以将我的 android 项目拆分为多个项目以减少编译时间？

> ID：13428410
> 
> 赞同：1
> 
> 时间：2012-11-17T06:46:10.970
> 
> 标签：android, eclipse, java, build-time

我创建了一个需要很长时间才能构建的大型 android 应用程序。一些命名空间很少更改。是否可以在单独的项目中创建这些名称空间并将它们作为库导入到主项目中？如果是，我该怎么做？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-18T07:06:41.627

是的，如果这些命名空间不依赖于项目中的其他代码，您可以这样做。

只需使用这些名称空间创建一个新项目并确保它可以正常编译。然后右键单击它并选择属性，选择Android，勾选是库复选框。

之后将此项目导入您当前的工作区。右键单击您的主项目，属性，然后转到 Android。单击添加并添加库项目。（*但这次不要点击是图书馆*）。

如需更多了解，您可以查看[我们如何在项目中使用 AndEngineGles2](http://jimmaru.wordpress.com/2012/04/23/setting-up-andengine-gles2-0/)在 Android 中创建 2D 游戏。

# c# - 想要将我的列表附加到数据库并在 C# 中使其动态化

> ID：13428412
> 
> 赞同：0
> 
> 时间：2012-11-17T06:46:18.930
> 
> 标签：c#, asp.net

想将此列表附加到数据库并从那里获取图像。我不确定那里会有多少图像。我有一个名为 clients 的文件夹，里面有图像和一个 sql 数据库，我从中获取图像路径并希望将其放在 li 中。任何帮助，将不胜感激。

```
<div class="list_carousel">
                    <ul id="foo0">
                        <li>
                            <img src="images/logo-01.png" alt="" /></li>
                        <li>
                            <img src="images/logo-02.png" alt="" /></li>
                        <li>
                            <img src="images/logo-03.png" alt="" /></li>
                        <li>
                            <img src="images/logo-04.png" alt="" /></li>
                        <li>
                            <img src="images/logo-05.png" alt="" /></li>
                        <li>
                            <img src="images/logo-01.png" alt="" /></li>
                        <li>
                            <img src="images/logo-02.png" alt="" /></li>
                        <li>
                            <img src="images/logo-03.png" alt="" /></li>
                        <li>
                            <img src="images/logo-04.png" alt="" /></li>
                        <li>
                            <img src="images/logo-05.png" alt="" /></li>
                    </ul>
                    <div class="clearfix">
                    </div>
                </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T07:51:19.863

假设您知道如何从数据库中获取图像路径，请在您的 aspx 页面中创建一个 placeholer，例如

```
<asp:Label runat="server" ID="ImagesPlaceHolder">
</asp:Label> 
```

在后面的代码中

```
protected void Page_Load(object sender, EventArgs e)
{
   StringBuilder sb = new StringBuilder();
   sb.Append("<div class=\"list_carousel\">");
   sb.Append("<ul id=\"foo0\">");

   List<string> images = GetImagesPathsFromDB();

   foreach(string path in images)
   {
       sb.AppendFormat("<li>{0}</li>", path);
   }

   sb.Append("</ul>");
   sb.Append("<div class=\"clearfix\"></div>");
   sb.Append("</div>");

   ImagesPlaceHolder.Text = sb.ToString();  //or ImagesPlaceHolder.InnertHTML = sb.ToString();
} 
```

# java - android java.lang.nullpointerexception

> ID：13428415
> 
> 赞同：0
> 
> 时间：2012-11-17T06:46:23.943
> 
> 标签：java, android, nullpointerexception

我正在尝试在 android 中做这样的事情。我的意思是我有密码文本框，如果密码正确，我正在尝试使文本视图可见，但我不断显示异常`java.lang.nullpointerexception`这是我的代码

```
public class MainActivity extends Activity {
    EditText Password;
    Button login;
    TextView txtDash;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Password=(EditText)findViewById(R.id.pass);
        login=(Button)findViewById(R.id.login);

        login.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View V) {
                try {
                if (Password.getText().toString().equals("dsml"))
                {

                    txtDash.setVisibility(View.VISIBLE);
                    login.setVisibility(View.INVISIBLE);
                    Password.setVisibility(View.INVISIBLE);

                }
                else
                {
                    Toast.makeText(getBaseContext(), "invalid password - try again",  Toast.LENGTH_SHORT).show();
                }
                }catch(Exception e){
                     //Log.e("log_tag", "Error"+e.toString());
                     Toast.makeText(getBaseContext(), e.toString(),  Toast.LENGTH_SHORT).show();
                }
            }
        });

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }
} 
```

请任何人帮助摆脱这个

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T06:48:06.447

`txtDash`从 xml 布局文件中引用密码，登录

```
Password=(EditText)findViewById(R.id.pass);
login=(Button)findViewById(R.id.login);

txtDash=(TextView)findViewById(R.id.txtdas); <<< You Forgot this line... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T06:48:48.783

在使用 txtDash 之前，您似乎缺少对它的引用。

```
txtDash = (View)findViewById(R.id.id_for_your_view); 
```

# scala - 如何在 scala 中为不同类型的输入覆盖 bang 运算符（！）

> ID：13428419
> 
> 赞同：1
> 
> 时间：2012-11-17T06:46:29.577
> 
> 标签：scala, overriding

> **可能重复：**
> [如何在 Scala Actor 模型中重载 bang(!) 运算符？](https://stackoverflow.com/questions/13371797/how-to-overload-bang-operator-in-scala-actor-model)

在 Scala 中的 Actor 模型实现中，我们可以覆盖 bang(!) 运算符吗？我需要通过重载这个操作符来修改消息传递的操作吗？

我需要记录任何参与者向任何其他参与者发送消息时发送的消息。我从

```
override def !(msg:Any):Unit =
{
  //logic for writing to logs..
  super.!(msg)
} 
```

这工作正常。但是，我想根据我发送的消息来区分 ! 的行为。

```
actor_name!(arg1,arg2,arg3)
actor_name1!(arg4, arg5) 
```

在上述情况下，首先！操作，我需要执行日志记录。第二个！，我只想在屏幕上打印。我如何区分覆盖代码中的这两种消息发送符号？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T11:09:58.787

也许像这样？

```
override def !(msg: Any) {
    msg match {
        case msg@(arg1, arg2, arg3) => /* your logic here... */ ; super ! msg
        case msg@(arg1, arg2) => /* your logic here... */ ; super ! msg
    }
} 
```

# python - 无法从文本文件中打印字符串

> ID：13428422
> 
> 赞同：0
> 
> 时间：2012-11-17T06:46:54.963
> 
> 标签：python, file, list, loops, while-loop

所以我正在做一个测验python程序，我的程序似乎有问题。第一次如果您想开始测验，测验将开始并像普通测验一样打印出问题，当您回答正确的问题时，我会给您积分。但是在测验结束后，您想再次进行测验，这就是问题开始的地方，当我想开始测验时，没有打印出任何问题

```
while True:
    print('1\. Take test, 2\. Add Question, 3\. Modify, 4\. Delete, 5\. Exit')
    n=input('Choice: ')
    counter=0
    lines=q.readlines()
    liness=p.read()
    key=liness.split('\n')
    while n not in ('1','2','3','4','5'):
        print('Invalid Choice')
        n=input('Choice: ')

    if n=='1':            
        score=0
        counter=0
        n=0
        nb=0

        while True:
            linez=lines[n:n+5]
            for line in linez:
                print(line)
            b=CheckAnswer()
            if b==key[nb]:
                score=score+1
                print('Nice')
            n=n+6
            nb=nb+1
            counter=counter+1
            print('Current Score: ',score)
            if counter>=len(key):
                break 
```

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:21:51.610

执行完这些行后：

```
lines=q.readlines()
liness=p.read() 
```

文件指针 p 和 q 指向文件的末尾。以下对`readlines`and的调用`read`将从文件末尾开始，因此将返回一个空答案...

您可以使用`q.tell()`来检查您在文件中的实际位置，并将`q.seek(0)`指针重置为文件的开头...

在这种特殊情况下，从文件中读取后添加以下行将解决问题：

```
q.seek(0)
p.seek(0) 
```

# php - PHP 把它变成一个 while 或 for 循环？

> ID：13428424
> 
> 赞同：0
> 
> 时间：2012-11-17T06:47:11.627
> 
> 标签：php, for-loop, while-loop, switch-statement

```
if(count($crumbs) >= 1)
    print("<a href=\"$startpage?dir=$crumbs[0]\" >".$crumbs[0]."</a> >> ");
if(count($crumbs) >= 2)
    print("<a href=\"$startpage?dir=$crumbs[0]/$crumbs[1]\" >".$crumbs[1]."</a> >> ");
if(count($crumbs) >= 3)
    print("<a href=\"$startpage?dir=$crumbs[0]/$crumbs[1]/$crumbs[2]\" >".$crumbs[2]."</a> >> "); 
```

我有这段代码，我想知道是否有某种方法可以将它变成一个 while 或 for 循环，这样我就不必继续制作越来越多的 if 语句了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T06:50:35.393

您可以使用`switch ...case`而不是多个`if`. 但是你不能将它转换成`for`或`while`循环，它会太乱。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T07:04:02.013

通过小修复，这应该可以

```
$count = count($crumbs);
for ($i = 0; $i < count && $i < 3; $i++){

    $echoes = "<a href=\"$startpage?dir=";
    $arg = array();
    for ($j = 0; $j <= $i; $j++){
        $args[] = $crumbs[$j];
    }

    $echoes .= implode('/', $args)."\">".$crumbs[$i]."</a> >> ";

}

echo $echoes; 
```

# ios - ios sdk 停止多点触控功能

> ID：13428439
> 
> 赞同：1
> 
> 时间：2012-11-17T06:49:22.567
> 
> 标签：ios, xcode, multi-touch, ibaction

我有多个按钮，如果用户同时触摸 2 个或更多按钮并释放，我只想提供一个按钮的操作。

我怎样才能做到这一点。在此先感谢您的帮助..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T07:26:10.520

将`exclusiveTouch`所有按钮的属性设置为`yes`。如果这不起作用，您可能必须在用户点击特定按钮时禁用所有其他按钮，并在该特定操作完成后启用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T13:56:55.093

尝试将视图的`multipleTouchEnabled`属性设置为`NO`.

# ajax - Ajax over SSL 适用于 Mozilla Firefox，但不适用于 IE

> ID：13428442
> 
> 赞同：2
> 
> 时间：2012-11-17T06:49:47.860
> 
> 标签：ajax, apache, ssl

正如主题所说，我的预感与 IE 和*证书*有关，但我需要专家意见。

***背景：*** 我的 ajax url 看起来像这样：[https://<serverIpAndPort>/<contextRoot>/getUserGroups]

此网址在 Mozilla Firefox 上运行良好。但是在 IE 8,9 上，我得到**500 Internal server error**异常。我现在应该提一下，在 IE 8,9 上以非 SSL 方式运行时没有问题。我非常确信这不是 javascript 浏览器兼容性问题。

如果我能在这里获得一些专家意见以及解决此问题的方法，我将不胜感激。我们公司是非常专业的 IE，这个 web 应用程序必须在 SSL 开启的情况下工作。

**环境：**在使用 WL_Plugin 和 SSL 的 Web 逻辑应用服务器上具有反向代理和 SSL 的 Apache。

# android - 如何在android中将视频文件转换为二进制数据格式？

> ID：13428445
> 
> 赞同：1
> 
> 时间：2012-11-17T06:50:11.543
> 
> 标签：android, video-processing, binary-data

我已经尝试了一些将视频文件转换为二进制数据格式的过程。但我无法得到它。任何人请帮我解决这个问题，代码如下。在此代码中，我使用文件选项从 sdcard 获取视频文件，在字节数组中，我试图分配从缓冲区中的文件检索到的值，然后显示该字节数组中存在的内容。

```
 Button bt=(Button)findViewById(R.id.button1);
    bt.setOnClickListener(new View.OnClickListener() 
    {

        @Override
        public void onClick(View v) 
        {
            // TODO Auto-generated method stub
            File file = new File("/mnt/sdcard/myvideo.mp4");
            FileInputStream objFileIS = null;
            try 
            {
                objFileIS = new FileInputStream(file);
            } 
            catch (FileNotFoundException e) 
            {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            ByteArrayOutputStream objByteArrayOS = new ByteArrayOutputStream();
            byte[] byteBufferString = new byte[1024];
            try 
            {
                for (int readNum; (readNum = objFileIS.read(byteBufferString)) != -1;) 
                {
                 objByteArrayOS.write(byteBufferString, 0, readNum);
                 System.out.println("read " + readNum + " bytes,");
                }
            } 
            catch (IOException e) 
            {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }                    
            byte[] byteBinaryData = Base64.encode((objByteArrayOS.toByteArray()), Base64.DEFAULT);
            String strAttachmentCoded = new String(byteBinaryData);
            System.out.println(strAttachmentCoded);
            Toast.makeText(getApplicationContext(), strAttachmentCoded ,Toast.LENGTH_SHORT).show();     
        }
    }); 
```

# ios - iOS 设备 - iOS 设备 HTTP 实时流式传输

> ID：13428446
> 
> 赞同：2
> 
> 时间：2012-11-17T06:50:24.827
> 
> 标签：ios

我正在尝试创建一个应用程序，其中一台设备将实时视频流式传输到另一台设备。根据我的阅读，HTTP Live Streaming 是下载已经是 .m3u8 格式的视频。所以这不起作用，而且看起来没有任何简单的方法可以做到这一点。

我猜我必须使用 AVCapture 来捕获每一帧，然后将每一帧上传到服务器。然后另一个设备将下载每一帧。但这会非常缓慢。

是否有任何有用的示例代码或教程？

谢谢

# java - Android 应用程序 - 开发 Wifi 文件传输

> ID：13428448
> 
> 赞同：2
> 
> 时间：2012-11-17T06:50:30.093
> 
> 标签：java, android, wifi

我想开发一个 Android 应用程序，它允许用户使用 WiFi 连接将文件从 android 设备传输到计算机。基本上这个[https://play.google.com/store/apps/details?id=com.smarterdroid.wififiletransfer&hl=en的简化应用](https://play.google.com/store/apps/details?id=com.smarterdroid.wififiletransfer&hl=en)

应用程序使用网络浏览器作为接口传输文件。正在通过下载将文件传输到计算机。我需要找到一种方法来以某种方式广播来自 android 设备的网页。关于如何实现这一点的任何想法？我知道如何在 android 上创建简单的应用程序。我设法创建了一个使用内部数据库的应用程序。但几乎这就是我在android中所知道的。我们还没有真正尝试过使用无线连接的应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T08:57:42.713

您基本上需要做的是在您的 android 上实现一个小型 http 服务器，该服务器将为该页面提供服务。UI 将显示 android 的 ip 和 webserver 使用的端口。就这样。

如果您只专注于获取请求，我相信这可以在一周内实现。

# visual-studio-2010 - Visual Studio 构建应用程序以从 cd 运行

> ID：13428450
> 
> 赞同：0
> 
> 时间：2012-11-17T06:50:31.757
> 
> 标签：visual-studio-2010

我有一个解决方案，可以从指定目录播放视频。当我构建我的应用程序时，视频目录与可执行文件一起位于调试文件夹中。我可以轻松地从那里运行我的 exe 文件，但是当我将该可执行文件和目录从调试文件夹复制到桌面上的某个位置时，我只是得到“应用程序已停止工作”。我被困住了。有没有一种方法可以将我在项目中的所有内容构建到一个可执行文件中，这样当我运行它时，它应该无需设置即可运行。实际上，我正在使该应用程序可移植以从 cd 运行。

提前致谢。

# jquery - 当您向下滚动并成为标题的一部分时，移动应用程序效果是什么？

> ID：13428455
> 
> 赞同：0
> 
> 时间：2012-11-17T06:50:56.410
> 
> 标签：jquery, jquery-mobile, effects

我正在构建一个 jQuery Mobile 应用程序，当我向下滚动列表时，我希望多个列表标题一个接一个地成为整个标题的一部分。我已经在几个应用程序中看到它，但我不知道它叫什么，并且会喜欢一个好的插件。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-22T23:12:17.207

我相信这被称为 Sticky Header。这是一个演示[http://codepen.io/chrissp26/full/gBrdo](http://codepen.io/chrissp26/full/gBrdo)

资源：[使用 CSS 和 jQuery 获取粘性标题以“向上推”，例如在 Instagram 的 iPhone 应用程序中](https://stackoverflow.com/questions/13279725/getting-a-sticky-header-to-push-up-like-in-instagrams-iphone-app-using-css-a)

2013/06/11 更新：也称为持久标头。资源：[http ://css-tricks.com/persistent-headers/](http://css-tricks.com/persistent-headers/)

# php - 数组计数在 php 中返回错误的答案

> ID：13428458
> 
> 赞同：0
> 
> 时间：2012-11-17T06:51:51.040
> 
> 标签：php, arrays, cakephp

这是我的 php 代码：

```
$allids_arr = $_REQUEST['allids'];
print_r($allids_arr);
echo $arr_count = count($allids_arr); 
```

数组打印如下：

```
Array (
     [0] => 26 
     [1] => 27 
     [2] => 28 
     [3] => 29 
     [4] => 30 
     [5] => 31 
     [6] => 32 
     [7] => 33 
) 
```

但计数显示为`1`。

但正确答案是`8`。

我的代码有什么问题？

编辑：

我创建了数组：这是我创建数组的代码：

```
$allids = array();
        $ikall = 0;
        foreach($alldata as $rwosall){
            $allids[$ikall] = $rwosall['journelmodel']['id'];
            $ikall++;
        }   
        $this->set('alldataids', $allids); 
```

这是在我的控制器中。在我的视图页面中：

```
<input type="hidden" readonly="" id="allids" class="input1" name="allids" value="<?php print_r($alldataids);?>"> 
```

这个值是我在提交表单时要求的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T08:09:42.203

首先，您的代码中几乎没有错误。

1.  您使用不是数组的 print_r 函数在隐藏字段中分配数组。
2.  当您提交值并使用 $_REQUEST 获取值时，它被视为字符串。它看起来像数组，这就是 count 返回 1 的原因。

解决方案：1.您可以将值分配为逗号分隔的值，例如“x，y，z”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T06:55:16.833

你需要：

```
echo count($allids_arr); 
```

或者

```
$arr_count = count($allids_arr);
echo $arr_count; 
```

:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:17:49.743

`$_REQUEST`，默认情况下，包含`$_GET, $_POST and $_COOKIE.`

但这只是一个默认值，取决于 variables_order ；并且不确定您是否要使用 cookie。

如果我必须选择，我可能不会使用`$_REQUEST`，我会选择`$_GET or $_POST`- 取决于我的应用程序应该做什么（即一个或另一个，但不是两者）：一般来说：

```
You should use `$_GET` when someone is requesting data from your application.
And you should use `$_POST` when someone is pushing (inserting or updating ; or deleting) data to your application. 
```

无论哪种方式，性能都不会有太大差异：与脚本的其余部分相比，差异可以忽略不计。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T07:34:11.123

尝试使用这个：

```
<?php
    $foo = $_REQUEST['foo'];
    print_r($foo);
    echo $arr_count = count($foo);
?> 
```

使用此查询：

`sample.php?foo[]=test&foo[]=baz&foo[]=foo`

它返回正确的结果：

```
Array ( [0] => test [1] => baz [2] => foo ) 3 
```

...可能如果您对数组和参数使用相同的名称，则效果很好。

希望这有帮助。

# webkit - 每当我单击按钮时，如何使图像旋转一定度数？（网络套件）

> ID：13428459
> 
> 赞同：1
> 
> 时间：2012-11-17T06:51:51.550
> 
> 标签：webkit, rotation, degrees

这是代码：

`45°`看到我每次单击按钮时都需要它来旋转它：0 到 45 - 45 到 90 - 90 到 135 等等等等，并且无限。

如果你们帮助我，那就太棒了。

```
<style type="text/css">
.classname {
-webkit-animation-name: cssAnimation;
-webkit-animation-duration:0.7s;
-webkit-animation-iteration-count: 1;
-webkit-animation-timing-function: ease;
-webkit-animation-fill-mode: forwards;
}
@-webkit-keyframes cssAnimation {
0% { -webkit-transform:scale(1) rotate(0deg); }
95% { -webkit-transform:scale(1) rotate(46deg); }
100% {-webkit-transform:scale(1) rotate(45deg); }
}

</style>
  <script type="text/javascript">
       function ani(){
            document.getElementById('img').className ='classname';
        }
  </script>
<title>Untitled Document</title>
</head>

<body align="center">

 <form  type="button" onclick="ani()"  style="position:relative;z-index:2" name="img" >

<img  src="2.png" width="645" height="545" style="position:absolute;left:26.9%;top:-8%;z-index:1;"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-18T00:23:04.257

这不是一个完全有效的解决方案，主要是因为它不知道当旋转超过 180 度时如何处理。你必须弄清楚：

```
$("button").click(function() {
    var matrix = $("img").css("-webkit-transform");
    var values = matrix.split('(')[1].split(')')[0].split(',');
    var a = values[0];
    var b = values[1];
    var current = Math.round(Math.atan2(b, a) * (180 / Math.PI));
    var newz = current + 45;
    $("img").css("-webkit-transform", "rotate(" + newz + "deg)");
});​ 
```

[http://jsfiddle.net/charlescarver/tvQNH/](http://jsfiddle.net/charlescarver/tvQNH/)

# asp.net - 如何将 ASP.Net 网页导出为 PDF

> ID：13428473
> 
> 赞同：0
> 
> 时间：2012-11-17T06:53:54.450
> 
> 标签：asp.net, pdf

如何将 ASP.Net 网页导出为 PDF？我想将当前的 ASP.Net 网页导出为 PDF。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T07:02:24.780

asp.net 网页在 HTMl 中呈现，因此您可以使用 ITextSharp 将 HTML 页面转换为 PDF

这是将 HTML 转换为 PDF 的代码

```
protected override void Render(HtmlTextWriter writer)
    {
        MemoryStream mem = new MemoryStream();
        StreamWriter twr = new StreamWriter(mem);
        HtmlTextWriter myWriter = new HtmlTextWriter(twr);
        base.Render(myWriter);
        myWriter.Flush();
        myWriter.Dispose();
        StreamReader strmRdr = new StreamReader(mem);
        strmRdr.BaseStream.Position = 0;
        string pageContent = strmRdr.ReadToEnd();
        strmRdr.Dispose();
        mem.Dispose();
        writer.Write(pageContent);
        CreatePDFDocument(pageContent);
    }
    public  void CreatePDFDocument(string strHtml)
    {

        string strFileName = HttpContext.Current.Server.MapPath("test.pdf");
        // step 1: creation of a document-object
        Document document = new Document();
        // step 2:
        // we create a writer that listens to the document
        PdfWriter.GetInstance(document, new FileStream(strFileName, FileMode.Create));
        StringReader se = new StringReader(strHtml);
        HTMLWorker obj = new HTMLWorker(document);
        document.Open();
        obj.Parse(se);
        document.Close();
        ShowPdf(strFileName);

    }
    public void ShowPdf(string strFileName)
    {
        Response.ClearContent();
        Response.ClearHeaders();
        Response.AddHeader("Content-Disposition", "inline;filename=" + strFileName);
        Response.ContentType = "application/pdf";
        Response.WriteFile(strFileName);
        Response.Flush();
        Response.Clear();
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T06:57:08.053

您可以在浏览器中加载页面并使用像 CutePDF 这样的免费工具将其打印为 PDF。

此工具添加了一个打印机，使您能够将文档/网页另存为 PDF。

[http://www.cutepdf.com/](http://www.cutepdf.com/)

# objective-c - NSPopupButton 内容绑定到 NSAttributedString

> ID：13428486
> 
> 赞同：0
> 
> 时间：2012-11-17T06:55:44.663
> 
> 标签：objective-c, cocoa, cocoa-bindings, nspopupbuttoncell

我有一个`NSArrayController`用一堆列动态填充的表格，其中一个有一个弹出按钮。弹出按钮单元格的内容需要使用`NSAttributedString`，因为我需要显示一个带下标的科学变量（例如，X1 降低 1）。

将弹出单元格绑定`content values`到 UI 中会产生乱码数组，`NSAttributedString`因为它只能理解普通`NSString`对象。

弹出按钮的菜单不可绑定（即无法通过绑定动态分配）。

弹出按钮菜单的内容也不能动态绑定。

任何人都可以提出一种方法（至少对表格内容的其余部分坚持绑定）用对象动态填充`NSPopUpButtonCell`菜单吗？`NSAttributedString`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-04T12:40:21.910

为了在弹出菜单时在菜单中显示属性字符串，我建议设置包含弹出单元格的表列，使其`Content`绑定指向`NSArrayController`本身绑定到包含所有选项的一个`NSArray`，`NSAttributedStrings`然后在`NSMenu`由弹出单元格包含，然后在委托中执行以下操作：

```
- (void)menuNeedsUpdate:(NSMenu*)menu
{
    for (NSMenuItem* item in menu.itemArray)
        if ([item.representedObject isKindOfClass: [NSAttributedString class]])
        {
            item.attributedTitle = item.representedObject;
        }
} 
```

绑定会将​​未骚扰的人`NSAttributedString`放入. 您可以在那里找到它并将其放入属性中，这将使其在菜单中显示属性字符串。总而言之，在菜单中绘制的菜单项及其属性设置得当，将绘制样式化的文本。`representedObject``NSMenuItem``attributedTitle``attributedTitle`

更复杂的是，当菜单*未*弹出时，在弹出单元格中按预期绘制属性字符串。`NSPopUpButtonCell`似乎通过`NSMenuItem`为它绘制一个来呈现。不幸的是，该特定的创建`NSMenuItem`似乎并不包括将未受到干扰的价值推入其中。相反，标题似乎是作为一个普通的、非归属的字符串发送的。我无法为此设计一个优雅的解决方案，但我确实想出了一个不优雅的解决方法：

首先添加一`NSTextField`列`NSTableView`正确绘制当前选定的属性字符串（即带有属性）。使该列隐藏。子类化`NSPopUpButtonCell`或使用类别和关联存储将新的私有属性添加到`NSPopUpButtonCell`. 此属性将包含一个块，您可以在绘制时使用它从隐藏列中获取相应的单元格。添加`NSTableViewDelegate`, 并实现`-tableView:dataCellForTableColumn:row:`. 当弹出列调用它时，创建块以从隐藏列中获取单元格并将其推入子类的属性中。`title`然后在绘制时，如果您有一个单元格提取器块，请清除`menuItem`它通常用于渲染，调用 super （获取弹出窗口的小箭头），然后获取代理单元格，并让它也绘制。代码如下所示：

```
@interface AppDelegate : NSObject <NSApplicationDelegate, NSMenuDelegate, NSTableViewDelegate>

@property (assign) IBOutlet NSTableColumn *popUpColumn;
@property (assign) IBOutlet NSTableColumn *surrogateColumn;

// ...snip...

@end

@interface SOPopUpButtonCell : NSPopUpButtonCell

typedef NSTextFieldCell* (^CellFetcher)();
@property (nonatomic, copy, readwrite) CellFetcher cellFetcherBlock;

@end

@implementation AppDelegate

// ...snip...

- (NSCell *)tableView:(NSTableView *)tableView dataCellForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row
{
    if (nil == tableColumn || self.popUpColumn != tableColumn)
        return nil;

    SOPopUpButtonCell* defaultCell = (SOPopUpButtonCell*)[tableColumn dataCellForRow: row];
    const NSUInteger columnIndex = [[tableView tableColumns] indexOfObject: self.surrogateColumn];
    CellFetcher f = ^{
        return (NSTextFieldCell*)[tableView preparedCellAtColumn: columnIndex row: row];
    };
    defaultCell.cellFetcherBlock = f;

    return defaultCell;
}

@end

@implementation SOPopUpButtonCell

- (void)setCellFetcherBlock:(CellFetcher)cellFetcherBlock
{
    if (_cellFetcherBlock != cellFetcherBlock)
    {
        if (_cellFetcherBlock) 
            Block_release(_cellFetcherBlock);

        _cellFetcherBlock = cellFetcherBlock ? Block_copy(cellFetcherBlock) : nil;
    }
}

- (void)dealloc
{
    if (_cellFetcherBlock) 
        Block_release(_cellFetcherBlock);
    [super dealloc];
}

- (void)drawWithFrame:(NSRect)cellFrame inView:(NSView *)controlView
{
    CellFetcher f = self.cellFetcherBlock;
    if (f)
        self.menuItem.title = @"";

    [super drawWithFrame:cellFrame inView:controlView];

    if (f)
        NSTextFieldCell* surrogateCell = f();
        [surrogateCell drawWithFrame: cellFrame inView: controlView];
}

@end 
```

我必须承认这让我觉得有点脏，但它似乎完成了工作。我已经在 github 上发布了所有代码，包括带有所有关联绑定的 xib： [示例项目](https://github.com/ipmcc/SOExamples/tree/master/bindings/NSPopUpButtonCellWithNSAttributedString)

希望有帮助。

# php - 如何从 PHP 中的 base64Binary 编码数据中获取原始数据？

> ID：13428491
> 
> 赞同：0
> 
> 时间：2012-11-17T06:57:01.553
> 
> 标签：php, encoding, base64

我正在使用 Salesforce 元数据 API。我得到一个 base64 数据，其中包含一个项目清单，一个名为`package.xml`. 如何`package.xml`从此数据中获取文件。

请参阅下面的编码数据：

```
UEsDBBQACAAIAOcycUEAAAAAAAAAAAAAAAAhAAAAdW5wYWNrYWdlZC9vYmplY3RzL0NvbnRhY3Qub2JqZWN01Vffb9owEH7nr4jyPpxO0zRNIRWlVKDxS5CNR2SSC/FwHGo7tPnv65CAE0CoUFYxnnKfz+fvvrtLjH3/GlFjDVyQmDXMu7plGsC82Cds0TB/u09ffpj3Ts1uJULG0XD+FzxpqC1MNMxQytVPhESMV3URxNyDuhdH6KtlfUfWNxSBxD6W2HRqhvrZwPCcwhOALxzJE7BRGcl9AgJ0a+RAQukAR+D0MFskeAFiNvNstIO1J7xK4AzTru8EmIosvEa0G8VzoDqajXKg5ABsIUPnzrLUWv6sFzk8J4TD7oidrV0kx94yy6lDlGQ83boe4KUt6QocV9FVXtmjXkkYeU5gG6KwcqlQWatTwgH2J3GiqnNUthXxllQx0lAF/oNpAqK6WI0/hfmxwDtHHwKcULnNYWtWj0OnzjuDzCiMGRhdllUlvSFamEsG3BhDAJxjekPMVGOEWIBv9JT/7fAayhD4v6YjYi71LBdW7XDz/qiOCrw8rmfM4xrodV5iWaTDF9iHJ3oCXsx8fEsD5AKX5KYYjTiJPoHQJS164QfoHV29oUng5WhjNyltxUxiT4qjvR0Qqlp54sUqeFvdOFIZqktGdoLG91tcxTR00FKnK6PK5TS3B8Jl6ONUuCERfRUwvALFHN2v2EYwpzUcuM2WW3/ojt3OY9NtF0ruOauAHEt19XLURUKVyUYaqXqus+5w3E53Muur2B0b5UipFw74FCLukjey7I0i/cvF7KfvrnOfMDhd4X56lQIP4KWHhZwCLD+psq1xW5X1cXa94vaaE3c2bbd/nVFblbeRJW7kmX9IwKw7/msBN9NxgYCbsTgtoI3K/4Cc2htQSwcIRtMK5HUCAAA4DQAAUEsDBBQACAAIAOcycUEAAAAAAAAAAAAAAAAWAAAAdW5wYWNrYWdlZC9wYWNrYWdlLnhtbE2OzQrCMBCE732KkLvZWKSIpOmh4FUP+gBpumrVJKVZRd/e2h90TzPDx+yo4uXu7IldbILP+VJIztDbUDf+nPPjYbtY80Inam/szZyR9bSPOb8QtRuAGEwr4il0FoUNDlIpM5ArcEimNmS4Tlh/it4txlEP3qGr+pe6DJ6MJQVz8EO8cajLR6TgdtUVv9AQjYXw16im9TrNhFQwu0TBNFonH1BLBwj45N4QogAAAOYAAABQSwECFAAUAAgACADnMnFBRtMK5HUCAAA4DQAAIQAAAAAAAAAAAAAAAAAAAAAAdW5wYWNrYWdlZC9vYmplY3RzL0NvbnRhY3Qub2JqZWN0UEsBAhQAFAAIAAgA5zJxQfjk3hCiAAAA5gAAABYAAAAAAAAAAAAAAAAAxAIAAHVucGFja2FnZWQvcGFja2FnZS54bWxQSwUGAAAAAAIAAgCTAAAAqgMAAAAA 
```

我正在使用 base64_decode() 方法，但我得到如下输出：

```
PKç2qA!unpackaged/objects/Contact.objectÕWßoÚ0~ç¯ˆò>œNÓ4M!¥T ñKGd’ñpj;´ùïë€@¨PV1žrŸÏçï¾»KŒ}ÿQc \˜5Ì»ºeÀ¼Ø'lÑ0»O_~˜÷NÍn%BÆÑpþ–Øtj†úÙÀðœÂ€/É°QÉ}tkä@BéGàô0[$xb6ól´ƒµ'¼JàÓ®ï˜Š,¼F´Ås :šr äl!CçÎ²ÔZþ¬9<'„Ãîˆ­]$ÇÞ2Ë©C”d<Ýºà¥-é WÑU^Ù£^IyN`¢°r©PY«SÂö'q¢ªsT¶ñ–T1ÒPþƒi¢ºX?…ù±À;GœP¹ÍakVC§Î;ƒÌ(Œ]–U%½!Z˜KÜCœczCÌTc„X€oô”ÿíðÊø¿¦#b.õ,Vípóþ¨Ž ¼<®gÌãèu^bY¤ÃØ‡'z^Ì||Kä—ä¦8‰&gt;Ð%-záè]½¡Iàåhc7)mÅLbOŠ£½ªZyâÅ*x[Ý8RªKFv‚Æ÷[\Å4tÐR§+£Êå4·ÂeèãT¸!}0¼ÅÝ¯ØF0§5¸Í–[èŽÝÎcÓmJî9«€KuõrÔEB•ÉF©z®³îpÜNw2ë«ØåH©ø"î’7²ì"ýËÅì§ï®sŸ08]á~z•à¥‡…œ,?©²­q[•õqv½âöšw6m·Q[•·‘%nä™HÀ¬;þk7Óq€›±8- Êÿ€œÚPKFÓ äu8 PKç2qAunpackaged/package.xmlMŽÍ Â0„ï}Š»ÙX¤ˆ¤é¡àUúiºjÕ$¥YEßÞÚtO3ÃÇì¨âåîì‰]l‚ÏùRHÎÐÛP7þœóãa»XóB'joìÍœ‘õ´9¿µ€L+â)t… R)3+pH¦6d¸NXŠÞ-ÆQÞ¡«ú—ºžŒ%sðC¼q¨ËG¤àvÕ¿Ð…ð×¨¦õ:Í„T0»DÁ4Z'PKøäÞ¢æPKç2qAFÓ äu8 !unpackaged/objects/Contact.objectPKç2qAøäÞ¢æÄunpackaged/package.xmlPK“ª 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T07:22:21.527

我试过这段代码：

```
<?php
header('Content-Type: application/zip');
header('Content-disposition: filename="my.zip"');
$s = "UEsDBBQACAAIAOcycUEAAAAAAAAAAAAAAAAhAAAAdW5wYWNrYWdlZC9vYmplY3RzL0NvbnRhY3Qub2JqZWN01Vffb9owEH7nr4jyPpxO0zRNIRWlVKDxS5CNR2SSC/FwHGo7tPnv65CAE0CoUFYxnnKfz+fvvrtLjH3/GlFjDVyQmDXMu7plGsC82Cds0TB/u09ffpj3Ts1uJULG0XD+FzxpqC1MNMxQytVPhESMV3URxNyDuhdH6KtlfUfWNxSBxD6W2HRqhvrZwPCcwhOALxzJE7BRGcl9AgJ0a+RAQukAR+D0MFskeAFiNvNstIO1J7xK4AzTru8EmIosvEa0G8VzoDqajXKg5ABsIUPnzrLUWv6sFzk8J4TD7oidrV0kx94yy6lDlGQ83boe4KUt6QocV9FVXtmjXkkYeU5gG6KwcqlQWatTwgH2J3GiqnNUthXxllQx0lAF/oNpAqK6WI0/hfmxwDtHHwKcULnNYWtWj0OnzjuDzCiMGRhdllUlvSFamEsG3BhDAJxjekPMVGOEWIBv9JT/7fAayhD4v6YjYi71LBdW7XDz/qiOCrw8rmfM4xrodV5iWaTDF9iHJ3oCXsx8fEsD5AKX5KYYjTiJPoHQJS164QfoHV29oUng5WhjNyltxUxiT4qjvR0Qqlp54sUqeFvdOFIZqktGdoLG91tcxTR00FKnK6PK5TS3B8Jl6ONUuCERfRUwvALFHN2v2EYwpzUcuM2WW3/ojt3OY9NtF0ruOauAHEt19XLURUKVyUYaqXqus+5w3E53Muur2B0b5UipFw74FCLukjey7I0i/cvF7KfvrnOfMDhd4X56lQIP4KWHhZwCLD+psq1xW5X1cXa94vaaE3c2bbd/nVFblbeRJW7kmX9IwKw7/msBN9NxgYCbsTgtoI3K/4Cc2htQSwcIRtMK5HUCAAA4DQAAUEsDBBQACAAIAOcycUEAAAAAAAAAAAAAAAAWAAAAdW5wYWNrYWdlZC9wYWNrYWdlLnhtbE2OzQrCMBCE732KkLvZWKSIpOmh4FUP+gBpumrVJKVZRd/e2h90TzPDx+yo4uXu7IldbILP+VJIztDbUDf+nPPjYbtY80Inam/szZyR9bSPOb8QtRuAGEwr4il0FoUNDlIpM5ArcEimNmS4Tlh/it4txlEP3qGr+pe6DJ6MJQVz8EO8cajLR6TgdtUVv9AQjYXw16im9TrNhFQwu0TBNFonH1BLBwj45N4QogAAAOYAAABQSwECFAAUAAgACADnMnFBRtMK5HUCAAA4DQAAIQAAAAAAAAAAAAAAAAAAAAAAdW5wYWNrYWdlZC9vYmplY3RzL0NvbnRhY3Qub2JqZWN0UEsBAhQAFAAIAAgA5zJxQfjk3hCiAAAA5gAAABYAAAAAAAAAAAAAAAAAxAIAAHVucGFja2FnZWQvcGFja2FnZS54bWxQSwUGAAAAAAIAAgCTAAAAqgMAAAAA";
$out = base64_decode($s);
print($out);
?> 
```

浏览器会下载一个包含 .xml 文件的工作 ZIP 文件。

如果您想使用 PHP 处理该 ZIP 文件的内容，您可以启用 php_zip 扩展并查看以下答案：[Unzip a file with php](https://stackoverflow.com/questions/8889025/unzip-a-file-with-php)

# javascript - 一旦单击并重新加载页面，我如何保留按钮单击状态？

> ID：13428503
> 
> 赞同：0
> 
> 时间：2012-11-17T06:58:49.040
> 
> 标签：javascript, button, cookies, state, click

我试图弄清楚如何在单击后和页面重新加载后保留按钮单击状态。在我的代码中，我使用了一个 onclick 事件，所以如果我需要添加另一个事件，我可以这样做......只是想弄清楚如何保持点击状态。感谢任何时间的帮助，谢谢。

```
<html>
<head>

<style type="text/css">
#sub3 {
position: absolute;
left: 100px;
top: 200px;
background-color: #f1f1f1;
width: 180px;
padding: 10px;
color: black;
border: #0000cc 2px dashed;
display: none;
}
</style>

<script language="JavaScript">
function setVisibility(id, visibility) {
document.getElementById(id).style.display = visibility;
}
</script>

</head>
<body >

<input id="input1" type=button value='Show Layer' onclick="setVisibility('sub3', 'inline');";>

<div id="sub3">Message Box</div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T07:39:53.480

因为 JavaScript 是客户端，所以每次刷新页面时都会丢失用户点击事件等信息。

假设有特定原因需要刷新页面并且不能使用 Ajax，您可以通过在单击时设置 cookie 来完成您想要的操作，然后检查在下一页加载时是否单击了该 cookie。

[这是在 JavaScript 中设置/检索 cookie 的一个很好的入门](http://www.quirksmode.org/js/cookies.html)。如果您愿意，还有一个很好的[Jquery 插件](https://github.com/carhartl/jquery-cookie)。

本质上，在您的`onclick`调用中，您将调用一个函数，该函数为 cookie 设置一个值并执行您的 setVisiblity 函数。

```
function clicked(id, visibility) {
    setVisibility(id, visibility);
    setCookie() // this calls your set cookie function
    return true;
} 
```

在页面加载时，您将拥有一个检查您刚刚设置的 cookie 是否存在的功能。如果是这样，那么您可以再次调用 setVisibility 函数来更改按钮的样式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T07:34:24.727

有一个用于设置 cookie 的 javascript 函数 使用这些片段来设置和获取 cookie 值

```
function setCookie(c_name,value,exdays)
{
var exdate=new Date();
exdate.setDate(exdate.getDate() + exdays);
var c_value=escape(value) + ((exdays==null) ? "" : "; expires="+exdate.toUTCString());
document.cookie=c_name + "=" + c_value;
}

function getCookie(c_name)
{
var i,x,y,ARRcookies=document.cookie.split(";");
for (i=0;i<ARRcookies.length;i++)
  {
  x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));
  y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);
  x=x.replace(/^\s+|\s+$/g,"");
  if (x==c_name)
    {
    return unescape(y);
    }
  }
} 
```

这两个函数都来自[w3schools 教程](http://www.w3schools.com/js/js_cookies.asp)

# c# - 为什么不能通过类实例访问公共委托？

> ID：13428504
> 
> 赞同：2
> 
> 时间：2012-11-17T06:58:52.873
> 
> 标签：c#, .net, delegates

我最近发现，如果我有一个表单（比如 from2），其中声明了一个公共代表（我知道该代表没有附加到任何东西）

```
namespace SomeTest
{
    public partial class Form2 : Form
    {
        public delegate void mydelegate(string some);

        public Form2()
        {   InitializeComponent();}

        private void Form2_Load(object sender, EventArgs e)
        {        }
    }
} 
```

现在，如果我通过该表单的一个实例来说出另一个表单（form1）

```
namespace SomeTest
{
    public partial class Form1 : Form
    {
        Form2 fm = null;
        public Form1(Form2 fm_)
        {
            this.fm = fm_;
            InitializeComponent();
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            //Why cant fm access the public delegate ?
        }
    }
} 
```

为什么我们不能像`fm.begininvoke(fm.mydelegate,"SomeParameter")`我知道委托没有附加到某些东西一样去，但我只是好奇为什么公共变量不可访问？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-17T07:05:02.347

委托是一种类型——这就是为什么您可以从类访问它，但不能从实例访问它。考虑枚举的情况：

```
public class Foo
{ 
    public enum Bar { A, B, C };
    public Bar Baz;
} 
```

这`Bar`是一个类型，但是`Baz`是一个对象——所以`Foo.Bar`是有效的，但不是`Foo.Baz`。同样，如果你有一个实例，`var foo = new Foo();`那么`foo.Bar`它是无效的，但`foo.Baz`没关系。

您的委托类型`mydelegate`与`Bar`此示例中的一样。

* * *

如果您想添加委托的实例：

```
public partial class Form2
{
    public delegate void mydelegate(string some);
    public mydelegate mydelegateImpl = new mydelegate( arg => Console.WriteLine(arg) );
} 
```

...然后您就可以`mydelegateImpl`从`Form2`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-17T07:01:03.140

您可以访问它，您只需使用类名而不是实例名。

```
namespace SomeTest
{
    public partial class Form1 : Form
    {
        Form2 fm = null;
        public Form1(Form2 fm_)
        {
            this.fm = fm_;
            InitializeComponent();
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            Form2.mydelegate // Works.
            fm.mydelegate    // Won't work. 
        }
    }
} 
```

为什么？因为委托不是字段或属性。在类中定义委托更类似于在类中定义类。你知道这是可能的吗？

```
namespace SomeTest
{
    public delegate void mydelegate(string some);

    public partial class Form2 : Form
    {

        public Form2()
        {   InitializeComponent();}

        private void Form2_Load(object sender, EventArgs e)
        {        }
    }
} 
```

# iphone - 如何在 iphone 的缩略图视图中显示所有文档目录图像

> ID：13428510
> 
> 赞同：-3
> 
> 时间：2012-11-17T07:00:10.657
> 
> 标签：iphone

我是 iphone 编程新手。我在文档目录图像文件夹中存储了一些图像，但现在我想在缩略图视图中显示所有这些图像，而不是在 tableview 中。我该怎么做？有人可以帮忙吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:51:54.467

这是我的逻辑尝试看看你怎么能做到这一点，她在下面的代码中你只需要根据你的要求管理代码的调用。

**注意**。这不是任何已编译的代码，这只是我的逻辑......！为了使用它，您已将其转换为可运行的代码。

```
//here You just call below method for setting the Image 
-(void)checkForOldFilesInDocumentDirectory{

NSFileManager *fileManager=[NSFileManager defaultManager];

NSArray *paths = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *folderPath = [documentsDirectory stringByAppendingPathComponent:@"MyIMages"];
//plkease make sure you have only images in that folder.
NSArray *folders   = [fileManager contentsOfDirectoryAtPath:folderPath error:nil];

for(NSString *fileName in folders)
{
   NSString *srcPath = [[NSBundle mainBundle] pathForAuxiliaryExecutable:@"fileName"];//path of Image

    //Here you can Pass These Image Form Give Method

    [self getImagesFromDOc:srcPath];
 } 
```

}

**编辑：在下面的方法只是创建`UIImageView`并设置文档目录中的图像存在于`UIImageView`. 我正在给出基本方法，在这里您需要为该 UIIMageView 创建一些 UIImageView 设置图像，现在您需要将这些创建`UIImageView`为`SubView`在控制器的视图上添加。您需要调用此过程的次数与文档目录中存在的图像数量一样多.**

```
 - (void)getImagesFromDOc:(NSString*)path
 {
 //Now You have The Path Image
 //Here From You  need to0 create an ImageView, below is just a basic knowledge demo.
 UIImage* finalImage =  [[UIImage alloc] initWithContentsOfFile:path];
 UIImageView * imageView =[[UIImageView alloc] initWithFrame:CGRectMake(xOrigin, yOrigin, 30, 30)];
 [imageView setContentMode:UIViewContentModeScaleAspectFit];
 [imageView  setBackgroundColor:[UIColor clearColor]];
 [imageView setImage:finalImage];
 [finalImage release];
 [self.view addSubview:imageView];//Here Add tha ImageView Over SOme current View

 } 
```

我希望它对你有帮助。

# hadoop - 多次运行的 Hadoop 启动时间

> ID：13428515
> 
> 赞同：0
> 
> 时间：2012-11-17T07:01:04.940
> 
> 标签：hadoop

我有一个 hadoop job fat jar，用于定期多次运行具有不同参数的作业。每个作业的启动时间似乎都非常长。我的猜测是胖罐子每次都会转移到任务跟踪器。我不想手动将作业 jar 添加到每个类路径。是否可以将整个作业 jar 传输到 dist 缓存并多次运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T17:30:13.597

`distributed cache`你提到的，只不过是将你复制到`JAR`所有的任务跟踪器。

如果您的 fat-jar 不经常更改，您可以做的是将 jar 放入 Hadoop 的 lib 文件夹中。这些将包含在每个作业运行中。

# asp.net-mvc - 在提交按钮单击登录重定向后，MVC 从表单发布数据

> ID：13428517
> 
> 赞同：4
> 
> 时间：2012-11-17T07:01:17.080
> 
> 标签：asp.net-mvc

您如何拥有一个在用户单击提交之前不需要用户登录的表单，如果用户已登录，则此时提交表单，否则重定向到登录页面。那么用户登录成功后，提交原始表单呢？原始表单也有一个 <input type="file"> 元素，除非用户成功登录，否则不应上传文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-03-29T04:53:47.653

我知道这是一篇旧帖子，希望我的经验对某人有所帮助：

我有两个提交按钮和一个通用方法，用于处理来自它们的表单提交 - 条件语句检查哪个按钮正在提交表单。

在要求用户进行身份验证的按钮上，它返回`HttpUnauthorizedResult()`以强制用户返回登录页面。登录后，用户将被发送回填写字段值的表单，因为它们存储在 TempData 条目中，但用户仍需要再次单击按钮以提交数据。

因此，我添加了一个名为 TempData 的布尔变量`AutoSave`，该变量将在返回`HttpUnauthorizedResult()`. 我在再次加载表单之前检查它，如果`AutoSave == true`我只是重定向到处理提交的方法。奇迹般有效。

这是示例代码：

```
private ActionResult ProcessOnlineApplication(OnlineApplicationViewModel application){

        //if not submit make sure it's save.
        if (application.SubmitAction == "Save")))
        {
             if(!User.Identity.IsAuthenticated)
             {
                    //Keep a copy of the application until logged in
                    TempData["PendingOnlineApplication"] = application;
                    TempData["AutoSave"] = true;
                    return new HttpUnauthorizedResult();
             }
             else{
                   //Everything goes here
             }
        }
}
public ActionResult OnlineApplicationForm(){
        var viewModel = TempData["PendingOnlineApplication"] as OnlineApplicationViewModel;
        if (TempData.ContainsKey("AutoSave") && Convert.ToBoolean(TempData["AutoSave"]) && viewModel != null)
        {
            TempData["AutoSave"] = false;
            return ProcessOnlineApplication(viewModel);
        }
        if (viewModel == null)
        {
            viewModel = CreateModel();
        }
        return GetOnlineApplicationAction(viewModel);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T07:47:27.483

MVC 处理这种情况。只需将`"[Authorize]"`属性仅放在具有 [HttpPost] 的表单发布操作上。在用户未登录时发布表单时，他将被重定向到帐户控制器登录操作（/Account/Login）并呈现登录视图；这是因为它是在 web.config 中设置的。除此重定向外，还添加了查询字符串参数“ReturnUrl=/orginalform”。然后 MVC 登录操作执行登录并将用户再次重定向到原始表单。

更新：如果您需要保留表单数据，这是应该在自定义属性中捕获表单数据的代码（未经测试，仅编译）

```
 public class CustomAuthorizeAttribute : AuthorizeAttribute
    {
       public override void OnAuthorization(
                            AuthorizationContext filterContext)
      {           
          if (!filterContext.HttpContext.User.Identity.IsAuthenticated)
          {

              string loginUrl = "/Account/Login"; //Get this from web.config instead of hardcode
              if (filterContext.HttpContext.Request != null)
              {
                  loginUrl += "?ReturnUrl=" + filterContext.HttpContext
                                                           .Request
                                                           .Url
                                                           .AbsoluteUri;
                  foreach(var formData in filterContext.HttpContext.Request.Form)
                  {
                      loginUrl += "&"+formData.ToString();
                  }
              }              
              filterContext.Result = new RedirectResult( loginUrl );
          }
      }
    } 
```

您可能需要对登录后操作进行一些修改。此外，返回表单获取操作应该从 uri 字符串中获取表单数据`[FromUri]`并再次呈现表单。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-22T19:09:54.137

事实证明，我不能做我想做的事，因为以编程方式填充 <input type=file> 字段存在安全风险，并且不允许这样做。

# haskell - 通用可变向量函数的签名

> ID：13428522
> 
> 赞同：2
> 
> 时间：2012-11-17T07:02:50.367
> 
> 标签：haskell, mutable, higher-rank-types

我正在尝试编写一个通用向量函数，它接受一个不可变向量并返回一个不可变向量，但对（临时）可变向量进行操作。演示我的问题的一个简单示例是：

```
import Data.Vector.Generic as V
import Control.Monad.ST
import qualified Data.Vector.Mutable as M

test :: (Vector v r) => v r -> v r
test v = runST $ do
  x <- V.thaw v
  -- modify the mutable vector x, code elided
  let s = V.sum x
  M.write x 0 s
  -- continue to modify the mutable vector x, code elided
  V.unsafeFreeze x 
```

此函数无法编译，因为 GHC 无法推断`(Vector (Mutable v s) r)`。我意识到这是一个问题，但由于`runST`,

```
runST :: (forall s. ST s a) -> a 
```

我不能只将此约束添加到`test`，也不能弄清楚如何适当地使用显式 forall'd 变量。我怎样才能`test`编译？

# c# - 完全修剪字符串

> ID：13428525
> 
> 赞同：1
> 
> 时间：2012-11-17T07:02:55.957
> 
> 标签：c#

我正在使用以下代码来获取输出，`FtpWebRequest`然后逐行解析。

```
FTPEntity entity = new FTPEntity(entityName);
entities.Add(entity);
FtpWebRequest request = (FtpWebRequest)WebRequest.Create(textBoxFTPSite.Text + entityName);
request.Method = WebRequestMethods.Ftp.ListDirectoryDetails;
request.Credentials = new NetworkCredential(textBoxFTPUserName.Text, textBoxFTPPassword.Text);
FtpWebResponse response = (FtpWebResponse)request.GetResponse();
Stream responseStream = response.GetResponseStream();
StreamReader reader = new StreamReader(responseStream);
string[] outputlines = reader.ReadToEnd().Trim().Split(new string[] { Environment.NewLine }, StringSplitOptions.None);
foreach (string info in outputlines) {
  if (info == "") {
    worker.ReportProgress(1);
    continue;
  }
  var tokens = info.Split(new char[] { ' ' }, StringSplitOptions.RemoveEmptyEntries);
} 
```

由于该 FTP 目录中没有任何内容，因此 的输出`ReadToEnd()`为空白。但是，Split 函数仍在创建一个包含一个空白元素的数组，我不得不使用一条`if`语句来过滤掉那个。

为什么`Trim()`不完全修剪？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:22:56.140

假设您的`ReadToEnd()`调用的输出是一个空字符串（但不是空白，因为这是不同的），那么该`Trim()`方法正在完美地完成它的工作，即删除所有空白，尽管事实上没有任何空白。

该`String.Split()`方法将始终返回一个至少包含一个元素的数组，即使该元素是一个空字符串。由于您的字符串不包含文本并且为空，因此您将获得一个包含一个空字符串的数组。

# c++ - 指针未初始化？

> ID：13428526
> 
> 赞同：-1
> 
> 时间：2012-11-17T07:02:59.790
> 
> 标签：c++, pointers, initialization

在我的主类中，我有一个 person 对象，在 person 类中，它包含一个指向 Strategy 对象的指针。我正在尝试这样做：

```
person.strategyPointer->getStrategyType() 
```

但是当我打印出来时，我得到一个特殊的数字，3435973836。这可能意味着我的 strategyPointer 尚未初始化。

在我的 Person 类头文件中，我声明了这一点：

```
Strategy* strategyPointer; 
```

在 Person.cpp 文件中，我像这样初始化指针。

```
Person::Person()
    : strategyPointer(nullptr)
{
} 
```

如果我将指针指向 null，为什么编译器仍然抱怨我没有初始化 strategyPointer？或者可能因为它指向 null，它超出范围并被删除？实际上，我在解析时将指针指向某些东西。我做这样的事情：

```
StrategyType newStrat;
newStrat.setStrategyType(strategyType);
    person.strategyPointer = &newStrat 
```

我正在使用继承，而 Strategy 是我的基类。但是，它稍后会在我的主源文件中抱怨初始化。我不知道这个初始化问题是怎么回事。我也不能将指针指向一个虚假的 Strategy 对象。

编辑：我刚刚在我的 Person 头文件 Strategy newStrategy 中添加了一个新的变量声明；稍后我将创建的 StrategyType 对象分配给 newStrategy，并将 strategyPointer 指向 &newStrategy。这应该可以防止我创建的 StrategyType 对象超出范围，对吗？但是在我的 main.cpp 中，当我尝试打印 person.stratPointer->getStrategyType(); 时，我仍然得到相同的值；但是，如果我打印出 person.newStrategy.getStrategyType()，我会得到我想要的值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T08:18:21.987

除非您打算取消对 NULL 指针的引用（如果是，请检查一下），您对“已初始化”的定义仅在将指针设置到`nullptr`Person 构造函数的初始化程序列表中避免其值的意义上是准确的是不确定的。

也就是说，这尖叫声？？？

```
StrategyType newStrat;
newStrat.setStrategyType(strategyType);
person.strategyPointer = &newStrat; 
```

如果这是在某处的函数中（当然必须是），那么`newStrat`在函数返回、循环退出等时超出范围，您的`person`对象现在引用未定义的行为。它还可以解释为什么您将堆栈标记视为结果值。

使 StrategyType 成为 Person 的值属性，并像这样初始化它：

```
person.strategy.setStrategyType(strategyType); 
```

或者更好的是这样：

```
class Person
{
   ...
   StrategyType strategy;

public:
   void setStrategyType(StrategyType type)
   {
       strategyType.setStrategyType(type);
   }
}; 
```

# c# - 为自定义控件编写 keydown 事件

> ID：13428527
> 
> 赞同：0
> 
> 时间：2012-11-17T07:03:05.457
> 
> 标签：c#, winforms, c#-4.0

**我有从PictureBox**控件派生的自定义控件。我想为它编写一个**KeyDown**事件，我已经编写了下面的代码，但我仍然无法使用它。如果我做错了什么或需要更多补充，请检查我的代码并指导我。我知道默认情况下 PictureBox 没有 KeyDown 事件，因此我正在尝试使用 KeyDown 事件制作自定义 Select-able PictureBox ...

```
 using System;
    using System.Linq;
    using System.Windows.Forms;

    namespace BenisImageDownloader
    {
        class SelectablePictureBox:PictureBox
        {
            public SelectablePictureBox()
            {
                this.SetStyle(ControlStyles.Selectable, true);
                this.TabStop = true;
            }

            protected override void OnMouseDown(MouseEventArgs e)
            {
                this.Focus();
                base.OnMouseDown(e);
            }

            protected override void OnKeyDown(KeyEventArgs e)
            {
                if (e.KeyCode == Keys.Up || e.KeyCode == Keys.Down || e.KeyCode == Keys.Left || e.KeyCode == Keys.Right)
                    e.Handled = true;
                base.OnKeyDown(e);
            }

            protected override bool IsInputKey(Keys keyData)
            {
                if (keyData == Keys.Up || keyData == Keys.Down) return true;
                if (keyData == Keys.Left || keyData == Keys.Right) return true;
                return base.IsInputKey(keyData);
            }

            protected override void OnEnter(EventArgs e)
            {
                this.Invalidate();
                base.OnEnter(e);
            }

            protected override void OnLeave(EventArgs e)
            {
                this.Invalidate();
                base.OnLeave(e);
            }

            protected override void OnPaint(PaintEventArgs pe)
            {
                base.OnPaint(pe);
                if (this.Focused)
                {
                    var rc = this.ClientRectangle;
                    rc.Inflate(-2, -2);
                    ControlPaint.DrawFocusRectangle(pe.Graphics, rc);
                }
            }
        }
    } 
```

我是一名在 Windows Form Application v4.0 项目（不是 WPF）上工作的学生，我的论文要提交。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T09:57:20.780

您可以改写控件的`ProcessCmdKey`() 函数并捕获那里的按键。

（抱歉，我只有一个 VB 示例 - 但你会明白的）：

```
Protected Overrides Function ProcessCmdKey(ByRef msg As System.Windows.Forms.Message,
                                           ByVal keyData As System.Windows.Forms.Keys) As Boolean

    'process key, return true for processed
    If (keyData And Keys.KeyCode) = Keys.KeyToCheck Then
        Return true
    End If

    Return MyBase.ProcessCmdKey(msg, keyData)

End Function 
```

# xml - 如何使用 XML 数据初始化 flex List

> ID：13428528
> 
> 赞同：2
> 
> 时间：2012-11-17T07:03:12.367
> 
> 标签：xml, actionscript-3, apache-flex, web-applications

我的应用程序基于 Adob​​e Flex 4

我有一个如下的 XML：

```
<data>
   <GENERAL _index="0" DESCRIPTION="DEAD TIME" CODE="D" _count="1"/>
   <REQUEST>
      <PARAMETERS>
         <page>db/ocr_valid_opr_category.xsl,db/sql.xsl</page>
         <maj_cd>COC</maj_cd>
      </PARAMETERS>
   </REQUEST>
</data> 
```

我想用 GENERAL 选项卡中的数据初始化我的列表（Adobe Flex 4），您看到的是“描述”和“代码”值，这是动态 XML 并且不断变化，如何将 GENERAL 选项卡中的数据设置为我的数据提供者用于 Flex 4 中的列表。我想要 Description 作为列表的 LabelFeild 和 codeCode 作为 list 的后端值，希望你明白？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-18T10:38:20.747

你可以试试这个，

我们需要将 List dataProvider 的 XML 结构更改为 XMLList，以便我们只能显示项目列表，因此我们需要在其间添加 XML 元素。

您可以访问 CODE 属性，例如`list.selectedItem.@CODE.toString()`

```
<?xml version="1.0" encoding="utf-8"?><s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009" 
                   xmlns:s="library://ns.adobe.com/flex/spark" 
                   xmlns:mx="library://ns.adobe.com/flex/mx">   `<fx:Script>
    <![CDATA[
        import mx.collections.XMLListCollection;
        import mx.controls.Alert;

        import spark.events.IndexChangeEvent;

        [Bindable]
        private var xml:XML = <data>
                                <list>
                                   <GENERAL _index="0" DESCRIPTION="DEAD TIME" CODE="D" _count="1"/>
                                   <REQUEST>
                                      <PARAMETERS>
                                         <page>db/ocr_valid_opr_category.xsl,db/sql.xsl</page>
                                         <maj_cd>COC</maj_cd>
                                      </PARAMETERS>
                                   </REQUEST>
                                </list>
                                <list>
                                   <GENERAL _index="1" DESCRIPTION="ENOUGH TIME" CODE="E" _count="2"/>
                                   <REQUEST>
                                      <PARAMETERS>
                                         <page>db/ocr_valid_opr_category.xsl,db/sql.xsl</page>
                                         <maj_cd>COC</maj_cd>
                                      </PARAMETERS>
                                   </REQUEST>
                                </list>
                              </data>;  

        protected function list_changeHandler(event:IndexChangeEvent):void
        {
            Alert.show(list.selectedItem.@CODE.toString());
        }

    ]]>
</fx:Script>

<fx:Declarations>
    <!-- Place non-visual elements (e.g., services, value objects) here -->
</fx:Declarations>

<s:layout>
    <s:VerticalLayout/>
</s:layout>

<s:List id="list" labelField="@DESCRIPTION" dataProvider="{new XMLListCollection(XMLList(xml.list.GENERAL))}"
        change="list_changeHandler(event)"/>
</s:WindowedApplication> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-19T09:05:45.273

首先，您应该使用顶级 xml 节点来包含您的 xml 数据：

```
 private var xml:XML =
            <xml>
            <data>
              <GENERAL _index="0" DESCRIPTION="DEAD TIME" CODE="D" _count="1"/>
              <REQUEST>
                <PARAMETERS>
                <page>db/ocr_valid_opr_category.xsl,db/sql.xsl</page>
                <maj_cd>COC</maj_cd>
              </PARAMETERS>
             </REQUEST>
           </data>
           </xml>;

      [Bindable]
      private var dataList:XMLListCollection = new XMLListCollection(xmlOne.data);
      ...
      private function labelFunc(item:Object):String {
        return item.GENERAL.@DESCRIPTION;
      }
    ]]>
  </fx:Script>

  <s:VGroup>
    <s:List dataProvider="{dataList}" labelFunction="labelFunc"/>
  </s:VGroup> 
```

引用“CODE”就像“DESCRIPTION”：item.GENERAL.@CODE。

# javascript - 在 JavaScript 中使用本地文件作为数据源

> ID：13428532
> 
> 赞同：31
> 
> 时间：2012-11-17T07:03:29.833
> 
> 标签：javascript, html, file, filereader

**背景：**

我想制作一个*仅*使用 JavaScript/HTML并且可以由浏览器直接从文件系统打开的“应用程序”。此应用程序**必须**能够从另一个文件中读取数据。然后，我将使用 JS 对其进行解析并呈现页面。作为一个简化的示例，假设我有一个 CSV 文件[（在此处下载）](http://ablazex.com/demos/csv.txt)：

```
Mark Rodgers,mark.rodgers@company.com,Accounting
[...]
Melissa Jones,melissa@company.com,CEO 
```

我希望能够使用 JS 读取文件并使用其中的数据来生成我的页面。

**到目前为止我已经完成了什么：**

**[演示](http://ablazex.com/demos/load.html)**（右键单击->“另存为”将 HTML 保存到您的计算机）。它也可以在[**jsfiddle**](http://jsfiddle.net/ZqZ4r/)上以半损坏的方式使用（布局已损坏，但在功能上应该仍然正确）。

只需将 CSV 文本文件拖放到拖放框中，或使用文件菜单选择文本文件，JavaScript 就会读取、解析文件并填充表格。

这依赖于 FileReader API；大部分繁重的工作都是由这个函数完成的：

```
function handleFileSelect(evt) {
    evt.stopPropagation();
    evt.preventDefault();

    var files = evt.target.files || evt.dataTransfer.files; // FileList object.
    var file = files[0];

    // this creates the FileReader and reads stuff as text
    var fr = new FileReader();
    fr.onload = parse;
    fr.readAsText(file);

    // this is the function that actually parses the file
    // and populates the table
    function parse()
    {
        var table = document.getElementById('emps');
        var employees = fr.result.split('\n'); var c = 0;
        for (var i in employees)
        {
            var employee = employees[i].split(',');
            if (employee.length == 3)
            {
                var row = document.createElement('tr');
                row.innerHTML = "<td>" + employee.join("</td><td>") + "</td>";
                table.appendChild(row);
                c++;
            }
        }
        document.getElementById('result').innerHTML = '<span>Added ' + c + ' employees from file: ' + file.name + '</span>';
    }
} 
```

这*几乎*没问题，但它给用户手动加载文件带来了不便。理想情况下，它应该能够自动加载它，但出于安全原因，没有浏览器允许这样做......但是。

**解决方案要求：**

*   必须离线工作；即：它不能依赖任何在线服务。这也包括在本地机器上运行的 HTTP 服务器。我们的想法是让它在任何只安装了浏览器的计算机上运行。

*   必须在使用`file:///`协议打开页面时工作（即：硬盘驱动器上的 HTML 页面）。

*   不应**依赖**第三方插件（例如：Flash、Java、*颤抖*的ActiveX）。我很确定如果页面在，这些可能无论如何都不起作用`file:///`

*   它必须能够接受**任意**数据。这排除了以行为良好的格式加载文件，该格式可以像 JSON 一样可供使用。

*   如果它适用于 Firefox 或 Chrome 中的任何一个（理想情况下两者都适用），那就没问题了。依赖实验性 API 也是可以的

我事先知道文件名是什么，所以它可以在 HTML 本身中编码。*任何*使我能够从磁盘读取文件的解决方案都可以，它不必使用 FileReader API。

因此，如果有一个聪明的技巧可以将文件加载到一个页面中也很好（也许将它加载到一个不可见的 iframe 并让 JS 检索内容）；那也没关系。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T07:16:58.153

这是我用于 Firefox 的代码，它*不可*移植，但~~作品~~：

正如 OP 评论的那样，`enablePrivilege()`已被弃用，这应该被认为是可用的。但是由于我的 Firefox 使用以前的配置文件仍然可以使用我的代码，所以我深入研究了`prefs.js`（`about:config`隐藏这些设置），这里是你需要的设置，你可以让它工作。

```
user_pref("capability.principal.codebase.p0.granted", "UniversalXPConnect");
user_pref("capability.principal.codebase.p0.id", "file://");  // path to the html file.
user_pref("capability.principal.codebase.p0.subjectName", ""); 
```

代码如下：

```
var File = function(file) {
  netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');
  var ios = Components.classes["@mozilla.org/network/io-service;1"]
                            .getService(Components.interfaces.nsIIOService);
  if (!File.baseURI) {
    File.baseURI = ios.newURI(location.href.substring(0, location.href.lastIndexOf('/')+1), null, null);
    File.baseFolder = File.baseURI.QueryInterface(Components.interfaces.nsIFileURL).file.path;
  }
  var URL = ios.newURI(file, null, File.baseURI);
  this.fptr = URL.QueryInterface(Components.interfaces.nsIFileURL).file;
}

File.prototype = {
  write: function(data) {
    netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');
    var foStream = Components.classes["@mozilla.org/network/file-output-stream;1"]
                             .createInstance(Components.interfaces.nsIFileOutputStream);
    foStream.init(this.fptr, 0x02 | 0x08 | 0x20, 0666, 0);
    var converter = Components.classes["@mozilla.org/intl/converter-output-stream;1"]
                              .createInstance(Components.interfaces.nsIConverterOutputStream);
    converter.init(foStream, null, 0, 0);
    converter.writeString(data);
    converter.close();
  },
  read: function() {
    netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');
    var fstream = Components.classes["@mozilla.org/network/file-input-stream;1"]
                            .createInstance(Components.interfaces.nsIFileInputStream);
    var cstream = Components.classes["@mozilla.org/intl/converter-input-stream;1"]
                            .createInstance(Components.interfaces.nsIConverterInputStream);
    fstream.init(this.fptr, -1, 0, 0);
    cstream.init(fstream, null, 0, 0);
    var data = "";
    // let (str = {}) { // use this only when using javascript 1.8
    var str = {};
      cstream.readString(0xffffffff, str);
      data = str.value;
    // }
    cstream.close();
    return data;
  }
}; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-27T04:51:48.610

这是一个在本地或服务器上工作的外部文件中使用 JSON 数据的示例。此示例仅使用浏览器的语言设置加载具有本地化 html 的 <script>，然后处理其 json 对象以使用本地化内容重置指示标记中的数据

```
<html><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<head>
<script>
    function setLang(){
        for (var i=0;i<items.length;i++){
            term=document.getElementById(items[i].id)
            if (term) term.innerHTML=items[i].value
        }
    }
    var lang=navigator.userLanguage || navigator.language;
    var script=document.createElement("script");
    script.src=document.URL+"-"+lang.substring(0,2)+".js"
    var head = document.getElementsByTagName('head')[0]
    head.insertBefore(script,head.firstChild)
</script>
</head>
<body onload='setLang()'>
<div id="string1" class="txt">This is the default text of string1.</div> 
<div id="string2" class="txt">This is the default text of string2.</div>
</body></html> 
```

用于此的数据文件如下所示：

```
items=[
{"id":"string1","value":"Localized text of string1."},
{"id":"string2", "value":"Localized text of string2."}
]; 
```

但是您可以使用任何参数来有条件地加载适当的文件（它将作为 <head> 中的第一个标签插入，因此它可以在任何地方使用）并且 JSON 格式能够处理大量数据。您可能希望将函数 setLang 重命名为更合适的名称并对其进行修改以满足您的需求，例如...对于每个我添加一行，然后添加带有数据的字段（看起来您已经掌握了该部分的句柄）你的 JSON 看起来像：

```
items=[
{"fname":"john","lname":"smith","address":"1 1st St","phone":"555-1212"},
{"fname":"jane","lname":"smith","address":"1 1st St","phone":"555-1212"}
]; 
```

如果您需要预处理您的数据，awk 非常方便 - 它类似于：（未经测试的猜测）

```
awk 'BEGIN{FS=",";print "items=[\n"}
{printf "{\"fname\":\"%s\",\"lname\":\"smith\",\"address\":\"1 1st St\",\"phone\":\"555-1212\"},\n", $1, $2, $3, $4}
END{print "];"}' file.csv > file.js 
```

编辑：现在 OP 更清楚了，只有 mozilla 浏览器允许 XMLHttpRequest on file:// 开箱即用，并且可以配置 chrome（可能是其他基于 webkit 的浏览器）*以*允许它。知道它可能*不适*用于 IE<10，您可以：

```
var filePath = "your_file.txt";
xmlhttp = new XMLHttpRequest();
xmlhttp.open("GET",filePath,false);
xmlhttp.overrideMimeType('text/plain');
xmlhttp.send(null);
//maybe check status !=404 here
var fileContent = xmlhttp.responseText;
var fileArray = fileContent.split('\n')
var n = fileArray.length;
//process your data from here probably using split again for ',' 
```

我将最初的 json-p 变体留给可能有类似问题但对其数据格式有一定控制权的其他人，因为它适用于所有支持 javascript 的浏览器。但是，如果有人知道使它适用于 IE 的方法（除了运行小型 Web 服务器），请编辑。

编辑2：

使用 mozilla 浏览器，您还可以使用 iframe

```
<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<head>
<script>
function showContents(frameObject){
    alert(frameObject.contentDocument.body.innerHTML);
    //replace with your code
}
</script>
</head>
<body onload='showContents()'>
<iframe id="frametest" src="data.txt" onload="showContents(this);" 
    style="visibility:hidden;display:none"></iframe>
</body></html> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-03T09:10:12.810

假设 csv 文件与应用程序位于同一目录中，我将使用 AJAX 加载文件。据我所知，可以获取文本格式的文件，然后对其进行解析。这应该适用于 IE 和 Firefox，但不适用于 Chrome（除非使用`--allow-file-access-from-files`命令行设置运行 chrome）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-03-03T16:22:02.850

这可以很容易地使用 javascript XMLHttpRequest() 类完成：

```
function FileHelper()
{}
{
    FileHelper.readStringFromFileAtPath = function(pathOfFileToReadFrom)
    {
        var request = new XMLHttpRequest();
        request.open("GET", pathOfFileToReadFrom, false);
        request.send(null);
        var returnValue = request.responseText;

        return returnValue;
    }
}

...

var text = FileHelper.readStringFromFileAtPath ( "mytext.txt" ); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-26T14:15:12.157

据我了解，文件的内容完全在您的控制之下，它不一定是特定的格式？你只需要一种阅读方式吗？

您可以声明一个全局函数“handleFile”。在您的外部文件中，内容必须是这样的：

```
handleFile('Mark Rodgers,mark.rodgers@company.com,Accounting'); 
```

要“读取”文件，只需添加一个具有相应 src 属性的脚本元素。在你的函数“handleFile”中，你得到你的内容。

文件的位置可能最初必须由用户设置，但之后您可以将位置保存在 localStorage 或类似的东西中。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-11-27T06:51:56.297

确保文件在同一目录或子目录中，使用 AJAX 加载文件。

与脚本标签不同，您将可以访问内容。

# php - 从 php 执行 .exe 文件

> ID：13428533
> 
> 赞同：0
> 
> 时间：2012-11-17T07:03:35.937
> 
> 标签：php, exec

我写了这个程序：

```
echo exec('hi.exe '.$file,$results,$status);
if ($status === 0)
{
    echo implode('<br/><br/>',$results);
} 
```

hi.exe 在同一目录中存在的各个文件中生成所有输出（.exe 文件运行良好），但问题是每当我在浏览器中从本地主机运行此 .exe 文件时，浏览器都会继续加载并且确实如此不显示任何输出。

为什么会这样？为什么浏览器变得这么慢？

# winforms - 如何在 DataGridView 的给定 DataTable 中查找存在唯一标识符的行？

> ID：13428539
> 
> 赞同：0
> 
> 时间：2012-11-17T07:05:40.147
> 
> 标签：winforms

我有一个 DataGridView，它在表中显示以下列的值

```
PK1, PK2, PK3, C1, C2, C3, C4
  1,   2,   3,  A,  B,  X,  Y
  4,   1,   4,  C,  D,  Z,  Y (Match the rows in the table below)
  2,   3,   5,  F,  E,  X,  W
  3,   1,   2,  A,  B,  X,  Y (Match the rows in the table below)
  ...... 
```

`PK1, PK2, PK3`是组合表的主键。给定 PK 的 DataTable（示例如下所示）。找到这些行的最佳方法是什么？

```
PK1, PK2, PK3
  4,   1,   4
  3,   1,   2 
```

（迭代 DataGridView 单元格或下划线 DataSource？也许是单元格，因为我需要突出显示行中的一些单元格。性能考虑因素？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:03:25.837

我会看一下[DataGridView RowPrePaint 事件](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.rowprepaint.aspx)、[CellFormatting 事件](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.rowprepaint.aspx)或[CellPainting 事件](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.cellpainting.aspx)，以实现突出显示。

为了匹配行，数据来自哪里很重要。如果它来自同一个数据库，您能否在返回数据的查询中进行匹配？您可以使用 Linq 对 DataTables 进行查询并找到匹配项。

另一个想法是在两个 DataTables 之间创建一个[DataRelation 。](http://msdn.microsoft.com/en-us/library/system.data.datarelation.aspx)请参阅靠近底部的[DataTable Class](http://msdn.microsoft.com/en-us/library/system.data.datatable.aspx)页面上的示例。继续搜索`MakeDataRelation`以找到示例。DataRelations 可能真的很棘手，但是当你让它们工作时，它们真的很酷。

为了评估性能考虑，可能需要更多信息。数据从何而来？每个表有多少行数据，几个，10s，100s，1000s？您对数据源的设计有任何控制权吗？你能消除这个复合键并创建一个代理键吗？

如果您可以控制查询，则可以执行以下操作：

```
SELECT A.PK1, A.PK2, A.PK3, A.C1, A.C2, A.C3, 
       WHEN B.PK1 IS NULL THEN 0 ELSE 1 END AS OTHER
FROM TABLEA AS A
LEFT JOIN TABLEB AS B ON A.PK1 = B.PK1 AND A.PK2 = B.PK2 AND A.PK3 = B.PK3
WHERE <whatever other criteria you have for this query> 
```

现在 DataTable 中的 OTHER 列将指示 TableB 是否有匹配项。您实际上并不需要该`WHEN...END`子句，您可以只放置`B.PK1`和处理 null 与一个值，假设它`PK1`永远不会有一个有效的 null 值。在您的应用程序中，不要显示该`OTHER`列，只需将其用作确定是否进行突出显示的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-08T07:00:30.793

您可以定义`DataTable.PrimaryKey()`然后使用`DataTable.Rows.Find()`.

[首要的关键](https://msdn.microsoft.com/en-us/library/z24kefs8(v=vs.110).aspx)

[查找数据行](https://msdn.microsoft.com/en-us/library/y06xa2h1.aspx)

处理数据表比 DataGridView 单元更有效。我建议在形成单元格之前要小心，请检查此 [Using Cell Styles Efficiently](https://msdn.microsoft.com/library/ha5xt0d9(v=vs.100).aspx) 。

# doctrine-orm - ZF2每次加载phtml时加载侧边栏数据

> ID：13428540
> 
> 赞同：1
> 
> 时间：2012-11-17T07:06:12.687
> 
> 标签：doctrine-orm, zend-framework2, zend-framework-modules

我正在使用 zf2 + 教义 orm 模块进行项目。在`layout.phtml`我已经加载了用于加载侧边栏新闻的部分侧边栏 phtml。

我想了解为该 sidebar.phtml 加载新闻的最佳编码解决方案。该新闻列表的查询是否应该在 module.php 中。我怎样才能将它传递给viewmodel。或在 module.php 中加载部分视图数据的任何其他解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T12:59:52.730

这是关于如何创建自己的视图助手的很好的描述，并讨论了其他解决方案的优缺点：

[http://www.michaelgallego.fr/blog/2012/10/06/how-to-replace-the-action-helper-in-zf-2-and-make-great-widgetized-content/](http://www.michaelgallego.fr/blog/2012/10/06/how-to-replace-the-action-helper-in-zf-2-and-make-great-widgetized-content/)

# php - 在 php 和 mysql 中从维基百科中提取内容

> ID：13428541
> 
> 赞同：3
> 
> 时间：2012-11-17T07:06:14.960
> 
> 标签：php, mysql, database, web-crawler, extract

我有一个网页，其中包含来自维基百科的精选文章的所有链接，并且我提取了所有这些文章的标题、描述和关键字。但是我有一个问题，当网络爬虫开始提取文章的内容时，我的数据库中的字段描述和关键字仍然是空的。

如何提取维基百科文章的描述和关键字？

网络爬虫是用 php 和 mysql 编写的，这是实际代码：

```
<?php
error_reporting(E_ALL | E_STRICT);
set_time_limit(0);
$server_link = mysql_connect("localhost", "root", "");
if (!$server_link) {
    die("Fall&oacute; la Conexi&oacute;n " . mysql_error());
}
$db_selected = mysql_select_db("test", $server_link);
if (!$db_selected) {
    die("No se pudo seleccionar la Base de Datos " . mysql_error());
}
@mysql_query("SET NAMES 'utf8'");
function storeLink($titulo, $descripcion, $url, $keywords) {
    $query = "INSERT INTO webs (webTitulo, webDescripcion, weburl, webkeywords) VALUES ('$titulo', '$descripcion', '$url', '$keywords')";
    mysql_query($query) or die('Error, fallÃ³ la inserciÃ³n de datos');
}
function extraer($url, $prof, $patron) {
    $userAgent = 'Interredu';
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_USERAGENT, $userAgent);
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(("Accept-Language: es-es,en")));
    curl_setopt($ch, CURLOPT_FAILONERROR, true);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, FALSE);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);
    curl_setopt($ch, CURLOPT_MAXREDIRS, 2);
    curl_setopt($ch, CURLOPT_AUTOREFERER, true);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    $html = curl_exec($ch);
    saveUrl($url, $prof, $patron, $html);
    if (!$html) {
        echo "<br />cURL error number:" . curl_errno($ch);
        echo "<br />cURL error:" . curl_error($ch);
    }
    $dom = new DOMDocument();
    $dom->loadHTML($html);
    $xpath = new DOMXPath($dom);
    $hrefs = $xpath->evaluate("/html/body//a");
    for ($i = 0;$i < $hrefs->length;++$i) {
        $href = $hrefs->item($i);
        $url2 = $href->getAttribute('href');
        $var = strstr($url2, '#', true);
        if ($var !== false) {
            $url2 = $var;
        }

        if (strpos($url2, $patron) === false) {
            continue;
        }

        if ($url2 != $url && $url2 != '') {
            $busqueda = mysql_query("SELECT weburl FROM webs WHERE weburl='$url2'");
            $cantidad = mysql_num_rows($busqueda);
            if (1500 >= $prof && 0 == $cantidad) {
                extraer($url2, ++$prof, $patron);
            }
        }
    }
}
function saveUrl($url, $prof, $patron, $html) {
    $retorno = false;
    $pos = strpos($url, $patron);
    if ($prof >= 1) {
        preg_match_all("(<title>(.*)<\/title>)siU", $html, $title);
        $metas = get_meta_tags($url, 1);
        $titulo = html_entity_decode($title[1][0], ENT_QUOTES, 'UTF-8');
        $descripcion = isset($metas["description"])?$metas["description"] : '';
        $keywords = isset($metas["keywords"])?$metas["keywords"] : '';
    if (empty($descripcion)){
obtenerMetaDescription($html);
    }
    if (empty($keywords)){
preg_match_all("#<\s*h1[^>]*>[^<]+</h1>#is", $html, $encabezado);
    preg_match_all("#<\s*b[^>]*>[^<]+</b>#is", $html, $negrita);
    preg_match_all("#<\s*i[^>]*>[^<]+</i>#is", $html, $italica);
    foreach($encabezado[0] as $encabezado){
    $h1 = $encabezado;
    }
    foreach($negrita[0] as $negrita){
    $bold = $negrita;
    }
    foreach($italica[0] as $italica){
    $italic = $italica;
    }
    $keys = $bold." ".$h1." ".$italic." ";
    $keywords = substr(strip_tags($keys), 0, 200);
}
        storeLink($titulo, $descripcion, $url, $keywords, $prof);
        $retorno = true;
    }
    return $retorno;
}
function obtenerMetaDescription($text) {
    preg_match_all('#<p>(.*)</p>#Us', $html, $parraf);
    foreach($parraf[1] as $parraf){
    $descripcion = substr(strip_tags($parraf), 0, 200);
    }
    }
$url = "http://www.mywebsite.com/wikiarticles";
$patron = "http://es.wikipedia.org/wiki/";
$prof = 1500;
libxml_use_internal_errors(true);
extraer($url, 1, $patron);
$errores = libxml_get_errors();
libxml_clear_errors();
mysql_close();
?> 
```

谢谢大家，问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-18T09:25:27.410

## General approach in such situations

First thing to do is to **locate the error**

*   check the contents of the variables at different positions (`$descripcion`, `$metas`, `$parraf`) for some **known** Wikipedia URLs (you can check manually)
*   this lets you find out where the variables are correct and where not

Then you can come to the following possible conclusions:

*   every variable is correct in the code: some problem in your mysql-insert method
*   some variable is not set, even though it should be: error at the specific location in your code

## How this approach applies to your situation

*   meta-description does not seem to be used on Wikipedia (at least on the article I looked)
*   thus, obtenerMetaDescription() should be called
*   so I tried this method with a small example like this:

Code:

```
function obtenerMetaDescription($text) {
    preg_match_all('#<p>(.*)</p>#Us', $html, $parraf);
    foreach($parraf[1] as $parraf){
        $descripcion = substr(strip_tags($parraf), 0, 200);
        var_dump($descripcion);
    }
}

$html = file_get_contents('https://de.wikipedia.org/wiki/Ehrenmal_Marienfeld');
obtenerMetaDescription($html); 
```

*   PHP output is: `PHP Notice: Undefined variable: html in test.php on line 4`

## Solution for your situation

You used `$html` even though it was passed as `$text` to the function. Simple variable problem.

## Possible other problem

Double check the assigning to `$descripcion` in the same function. You assign the contents of `<p>` to `$descripcion` in a **for loop**. You overwrite the old value each time with the old value. I cannot imagine this to be an expected behaviour. I guess you wanted to implement one of the following both:

*   Take only the first paragraph: only use $parraf[1][0] if `!empty()`
*   Concatenate all texts to one large text: use `.=` string concatenation operator

# jquery - Jquery 隐藏 div 和显示 div

> ID：13428542
> 
> 赞同：3
> 
> 时间：2012-11-17T07:06:26.107
> 
> 标签：jquery, hide, show

我想要几个隐藏，一个 ID，一个显示。

现在我有这个：

```
 $(document).ready(function () {
        $('#showhidetarget').hide();

        $('a#showhidetrigger').click(function () {
            $('#about_me').toggle(1200);
        });
    }); 
```

所以#about_me 部分隐藏在#showhidetrigger 上，但如果我再次单击它也会显示。如果我想要另一个 id 来触发节目，我需要添加什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T07:09:16.950

试试这个，

```
$(document).ready(function () {         

        $('a#showhidetrigger').click(function () {
            $('#about_me').hide(1200);
        });

        $('#idOfSomeother').click(function () {
            $('#about_me').show(1200);
        });

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T07:16:32.720

试试这个

添加另一个触发元素..with和id ..让我们说... `id= "hideshowtrigger"`..这显示了aboutme ....

Javascript

```
$(document).ready(function () {
  $('a#showhidetrigger').click(function () {
        $('#about_me').show();
   });

   $('#hideshowtrigger').click(function () {

        $('#about_me').hide();
    });
}); 
```

# java - 静态整数的 Switch 语句错误

> ID：13428543
> 
> 赞同：1
> 
> 时间：2012-11-17T07:06:32.017
> 
> 标签：java, static, switch-statement

为什么我在下面的 switch 语句中出现“}”错误。我没有看到任何语法错误。我在编译代码时没有收到错误。Eclipse 在下面的指定位置指示错误。

放}后我得到这个错误

```
- The static field KeyEvent.VK_XXXX should be accessed in a 
 static way
- case expressions must be constant expressions

switch(event.getKeyCode())
        {
        case event.VK_BACK_SLASH:
            backColor=but[27].getBackground();
            break;

        case event.VK_RIGHT:
            for(int i=0;i<but.length;i++)
            {
                if(" > ".equals(but[i].getText()))
                {
                    backColor=but[i].getBackground();
                    break;
                }
            }
            break; // error here
   } 
```

当我按下键时，出现以下错误

```
Exception in thread "AWT-EventQueue-0" java.lang.Error: Unresolved compilation problem: 
Syntax error, insert "}" to complete SwitchBlock

    at Keyboard$HandlerClass.keyPressed(Keyboard.java:242) // this is break statement

    at java.awt.Component.processKeyEvent(Unknown Source)
    at javax.swing.JComponent.processKeyEvent(Unknown Source)
    at java.awt.Component.processEvent(Unknown Source)
    at java.awt.Container.processEvent(Unknown Source)
    at java.awt.Component.dispatchEventImpl(Unknown Source)
    at java.awt.Container.dispatchEventImpl(Unknown Source)
    at java.awt.Component.dispatchEvent(Unknown Source)
    at java.awt.KeyboardFocusManager.redispatchEvent(Unknown Source) 
```

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:12:10.050

我可以在您的代码中看到的唯一问题是以下（但这不是编译时/运行时错误），这很可能最终会成为一个错误：

```
but[i].getText() == " > " //this is called object identity check 
```

这不是比较字符串的正确方法。改用`.equals`方法

```
" > ".equals(but[i].getText()) //this is object equality check 
```

**更新**

> 静态字段 KeyEvent.VK_XXXX 应该以静态方式访问

这意味着您应该更改`event.VK_BACK_SLASH`为`KeyEvent.VK_BACK_SLASH`, ...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T07:37:44.040

**要解决任何编译问题：**

首先使用类名来引用静态内容而不是对象引用。意思是，在 case 语句中使用 KeyEvent.VK_BACK_SLASH 而不是 event.VK_BACK_SLASH

如果这不起作用，我怀疑您的程序的其他部分存在错误，可能是您没有正确数量的匹配大括号。一个简单的 grep 应该可以帮助您识别问题。试试 grep "{" | wc -l AND grep "}" | 厕所-l。

**要根本导致您的运行时问题：**

尝试在 Eclipse 范围之外运行它。通过将根目录添加到类路径或将类文件打包到 jar 文件中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:36:26.640

该错误`The static field KeyEvent.VK_XXXX should be accessed in a static way`意味着它所说的：您应该静态访问这些字段，如下所示：

```
case KeyEvent.VK_BACK_SLASH:
    // Do something
    break;
case KeyEvent.VK_RIGHT:
    // Do something else
    break; 
```

# android - 动画片段进出时遇到问题

> ID：13428544
> 
> 赞同：2
> 
> 时间：2012-11-17T07:06:50.597
> 
> 标签：android, android-fragments

在我的游戏中，当用户按下后退按钮时，它应该会调出暂停菜单（作为片段）。当用户再次按下后退按钮时，它应该关闭暂停菜单。所有这些都应该通过动画来完成。

```
@Override
public void onBackPressed()
{
    if (!paused)
    {
        // pause game here

        if (mPauseFragment == null)
        {
            mPauseFragment = new PauseFragment();

            FragmentTransaction ft = getSupportFragmentManager().beginTransaction();
            ft.setCustomAnimations(R.anim.fade_in, R.anim.fade_out, R.anim.fade_in, R.anim.fade_out);
            ft.replace(R.id.pause_container, mPauseFragment, "pauseFragment");
            // Start the animated transition.
            ft.commit();
        }
        else
        {
            getSupportFragmentManager().beginTransaction().show(mPauseFragment).commit();
        }           
    }
    else
    {
        // resume game here
        getSupportFragmentManager().beginTransaction().hide(mPauseFragment).commit();
    }

    paused = !paused;
} 
```

它淡入很好（但只有一次），但它根本不会淡出。请给我一点帮助，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:23:50.350

`ft.setCustomAnimations`仅应用于该特定片段事务。将您的动画设置为每个显示隐藏事务。

# json - 如何使用嵌套数组数组创建 JSON 对象多天和多次？

> ID：13428554
> 
> 赞同：0
> 
> 时间：2012-11-17T07:08:50.810
> 
> 标签：json

我正在尝试创建一个 JSON 对象文件，但我不确定如何记录所有可用滑冰课程的列表。目前我有以下内容：

```
[
{"classname":"FS1","classdays":["monday", "wednesday"]},
{"classname":"FS2","classdays":  ["tuesday", "thursday"]}
] 
```

它有效，唯一的问题是每个班级“classname”，每天都有多个班级时间“classdays”。而且我不确定如何添加另一个时间数组并将它们与特定类的特定日期相关联，并将其添加到我当前的 JSON 文件中以创建该结构。

以下是非编程语言的类 - 为清楚起见：

```
Classname: FS1
Monday classes are 12:00PM and 2:00PM
Wednesday classes are 1:00PM and 3:00PM
Classname: FS2
Tuesday classes are 4:00PM and 6:00PM
Thursday classes are 2:00PM and 8:00PM
Classname: FS3
Monday classes are 2:00PM and 4:00PM
Thursday classes are 2:00PM and 8:00PM 
```

我愿意接受有关如何最好地构建或在需要时进行重组的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:14:37.113

在对象中创建每个条目`classdays`，以日期名称和时间作为键：

```
[
    {
        "classname": "FS1",
        "classdays": [
            {
                "day": "monday",
                "times": [
                    "12:00",
                    "14:00"
                ]
            },
            {
                "day": "tuesday",
                "times": [
                    "16:00",
                    "18:00"
                ]
            },
            ...more days here...
        ]
    },
    ...more classses here...
] 
```

您*可以*创建`classdays`一个对象而不是数组，以日期名称为键：

```
[
    {
        "classname": "FS1",
        "classdays": {
            "monday": [
                "12:00",
                "14:00"
            ],
            "tuesday": [
                "16:00",
                "18:00"
            ],
            ...more days here...
        }
    },
    ...more classes here...
] 
```

......但是日子没有秩序。当然，我希望您的代码逻辑可以知道星期几的顺序，但我想我可能会使用第一个结构。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T07:15:53.197

首先，只是指出 JSON 不是一种“编程语言”，它是一种数据语言。不同之处在于 JSON，就像 XML*不做*任何事情，它只是描述对象。

其次，我认为您前进的方向会让您直接意识到 JSON 不是关系型的。

最后，这是我的做法：

```
[
    { "classname":"FS1",
      "classdays":[
        { "classday":"Monday",
          "classtimes": ["12:00 PM", "2:00 PM"]
        }, 
        { "classday":"Wednesday",
          "classtimes": ["1:00 PM", "3:00 PM"]
        }
        ]
    },
    { "classname":"FS2",
      "classdays":[
        { "classday":"Tuesday",
          "classtimes": ["4:00 PM", "6:00 PM"]
        }, 
        { "classday":"Thursday",
          "classtimes": ["2:00 PM", "8:00 PM"]
        }
        ]
    },
    ... And so on.
] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:26:06.067

```
{"classname":"FS1","classdays":[{"day":"monday","times":["12:00PM","2:00PM"]},{"day":"wednesday" ,"次":["1:00PM","3:00PM"]}]}

```

# java - Java - 捕获异常的建议？

> ID：13428561
> 
> 赞同：0
> 
> 时间：2012-11-17T07:10:05.490
> 
> 标签：java, exception-handling

我有一个对象“LinkFinder”，如果它收到格式错误的 URL，我将抛出异常，但我不喜欢使用 System.out 并仅打印错误的想法。我可以强制它返回 null 或其他东西，而不是构造函数返回初始化的对象吗？

```
private URL url;

//constructor in question
public LinkFinder(String sourcePage) 
{
    try
    {
        this.url = new URL(sourcePage);
    }
    catch (MalformedURLException e)
    {
        System.out.print("Malformed URL Exception: Setting URL to NULL");
        this.url = null;
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:44:28.853

**不，你不能**。构造函数不返回对象（或返回 null）的唯一方法是它未完成。

如果您想要一个`URL`格式错误的空对象，那么解决方案是在您的对象实例化代码（即）周围应用一个 try 块`new LinkFinder(url)`，并在其 catch 块中将引用设置为 null。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T07:12:44.243

**从理论上讲**`try-catch`，这是通过块 iecatch 预期异常进行异常处理的唯一目的，并根据需要进行处理（在您的情况下，`this.url`使用分配`null`）。

如果您认为`LinkFinder`应该`null`在 invalid 的情况下优雅地初始化`sourcePage`，那么您的代码似乎很好。尽管您可以根据需要决定`System.out`与`logger`。

但**实际上**，这并没有多大意义，因为您正在消化无效输入并分配`this.url`可能`null`稍后导致`NullPointerException`的结果。最好使用一些默认值进行初始化。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:15:59.950

除了在控制台上打印异常，您可以使用 logger 记录异常，并将 null 作为 url 返回，但是在此之后您必须检查 url 是否为 null，

您可以使用非常易于使用的 apache 中的 log4j。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T07:18:15.047

您不必显式调用`this.url = null;`，因为如果抛出异常，`url`则不会初始化，并且由于它是实例变量，因此它将默认值设置为`null`。您应该使用 try catch 来处理这种情况，以解决这种“意外行为”。例如重定向到不同的`url`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-17T07:20:18.770

根据您的问题，我假设 LinkFolder 类的意图是处理您的应用程序中的某种数据，并且它被另一个处理您的程序表示的类使用。

优雅的方法是让构造函数重新抛出异常，因此您的表示层将使用 try catch 处理错误：

```
public LinkFinder(String sourcePage) throws MalformedURLException
{
    this.url = new URL(sourcePage);
} 
```

演示文稿将如下所示：

```
try {
    LinkFinder lf = new LinkFinder("whatever");
} catch (MalformedURLException e) {
    System.out.print("Malformed URL Exception.. it has sense to put it right here");
} 
```

将 println 更改为您想要显示错误的方式。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-17T07:32:13.843

要直接回答您问题的第二部分，不，您不能让构造函数 return `null`。构造函数只能返回新构造的对象或抛出错误，就像@Hernan 建议的那样。另一种处理方式，设置`this.url = null`需要外部代码来检查这个条件，或者`url`设为私有，然后只需要这个类的内部代码来检查条件。如果需要，您可以提供一种`bool isUrlBroken()`方法来允许外部代码检查条件。

# php - 如何将 CSV 文件导入 couchdb 更新现有数据、插入新记录、删除旧记录

> ID：13428562
> 
> 赞同：2
> 
> 时间：2012-11-17T07:10:11.800
> 
> 标签：php, bash, shell, couchdb, sh

我想要做的是将 CSV 或 TSV 文件导入到 couchdb 更新记录中，这些记录对其进行了更改，删除不再在 csv 文件中的记录（或标记为不活动），并将新记录插入数据库中。我需要保留所有修订数据以显示值的波动。有人可以帮我弄这个吗？

我看过：[如何将 CSV/TSV 数据导入 Couch DB？](https://stackoverflow.com/questions/5238387/how-to-import-csv-tsv-data-to-couch-db)

这有助于将初始数据导入 couchdb，但对我的问题的插入/更新/删除部分没有帮助。

# c# - 将空值发送到存储过程

> ID：13428563
> 
> 赞同：3
> 
> 时间：2012-11-17T07:10:18.357
> 
> 标签：c#, asp.net, stored-procedures, sql-server-2008-r2

如何将表值参数的空值发送到 C# 中的存储过程？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-17T07:12:47.150

像这样使用

```
command.Parameters.AddWithValue("@param", DBNull.Value); 
```

这是关于同一主题的一个很好的链接
[How to pass a null variable to a SQL Stored Procedure from C#.net code](https://stackoverflow.com/questions/1207404/how-to-pass-a-null-variable-to-a-sql-stored-procedure-from-c-net-code)

您可以通过链接。
[在不知道 sqlDbType 的情况下将 DBNull.Value 与 SqlParameter 一起使用？](https://stackoverflow.com/questions/4222819/using-dbnull-value-with-sqlparameter-without-knowing-sqldbtype)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-03-09T09:15:30.353

但是使用 DBNull.Value 有一个小问题。假设我在名为 IO 的存储过程中有一点。

在存储过程中

```
 CREATE PROCEDURE [dbo].[stp_Check]
   @IO BIT 
```

然后在代码中添加参数如下。

```
 object parameter = new SqlParameter("IO", true); //using false is the same. 
```

然后我调用存储过程

```
 _repositary.DataContext.Database.SqlQuery<CallDetail>("exec stp_Check @IO", parameter)(); 
```

这里 _repository 是我的带有上下文的 DataRepository 类。知道它将执行 sp 就足够了。

您可以使用 sql server profiler 来接听电话。这将按如下方式生成。

```
declare @p24 int
set @p24=7
exec sp_executesql N'exec stp_Check @IO', --parameter passed
N'@IO bit', -- parameter with the type passed
@IO=1 --parameter value used when executing the sp
select @p24 
```

问题是这样的。当您使用 DBNull.Value 创建参数时，如下所示。

```
 object parameter = new SqlParameter("IO", (object)DBNull.Value); 
```

从 sql server profiler 你可以找到的是

```
declare @p24 int
set @p24=7
exec sp_executesql N'exec stp_Check @IO', --parameter passed
N'@IO nvarchar(4000)', -- the passes type is not boolean
@IO=NULL --parameter value is NULL
select @p24 
```

没错，这将起作用。但这不是预期的。我更喜欢

```
using System.Data.SqlTypes; 
```

您可以按如下方式传递 null。

```
 object parameter = new SqlParameter("IO", System.Data.SqlTypes.SqlBoolean.Null ); 
```

然后请求是这样的。

```
declare @p24 int
set @p24=7
exec sp_executesql N'exec stp_Check @IO', --parameter passed
N'@IO bit', -- the passes type is boolean
@IO=NULL --parameter value is NULL
select @p24 
```

所有 sqltypes 都有空值，例如 int、bigint、datetime 等。希望对您有所帮助。干杯。:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:16:09.747

`DBNull.Value`用来通过`NULL`。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-17T07:15:27.237

您可以将 null 添加为默认参数值，如果您希望它为 null，请不要发送任何值

前任：

```
create procedure sp_name(@param1 varhcra(10), @param2 varchar(10)=null) 
```

C＃

```
command.Parameters.AddWithValue("@param1", "value1");
//dont pass any value for param2, it is considered null 
```

# google-apps-script - setValue() 设置整行不是一个单元格

> ID：13428564
> 
> 赞同：0
> 
> 时间：2012-11-17T07:10:28.813
> 
> 标签：google-apps-script, google-sheets

我只是不明白这个。我只是想将值从一个单元格复制到同一行中的另一个单元格。简单吧？好吧，它用值填充每个单元格（右侧），而不仅仅是一个单元格。我为此绞尽脑汁，我想我只是不明白一些事情。

```
/* This gets the entire sheet (range) doesn't it? */
var range = SpreadsheetApp.getActiveSheet().getDataRange();
var rowRange ;
var status ;
var notes ;

var i=981;
var theEnd=979; 

  for (; i > theEnd; i--) {
     rowRange = range.offset(i, 0, 1); // Doesn't this specify one row (range) ?
     status = rowRange.offset(0, statusColumnOffset).getValue();  // one cell, right? 
     notes = rowRange.offset(0, notesColumnOffset).getValue();

    /* it gets the correct value for notes */
    if (notes == "No Number") {
// copy notes cell to status cell
/* I've tried both this (first attempt): */      
      //rowRange.offset(0, statusColumnOffset).setValue("No Number");

/* and this (second attempt):  */
      statusCell = rowRange.offset(0, statusColumnOffset);
      statusCell.setValue("No Number");
/* both give the same results */

    } 
```

现在我很困惑为什么我第一次尝试使用 "rowRange.offset(0, statusColumnOffset).setValue("No Number");" 做了它所做的。它得到一个单元格的值就好了。那么为什么在世界上相同的代码（除了设置而不是获取）会导致整行被设置为每个单元格中的值？我对为什么我的第二次尝试给出相同（错误）的结果感到困惑。我不明白的是什么？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T09:18:35.833

```
rowRange = range.offset(i, 0, 1); // Doesn't this specify one row (range) ? 
```

是的，它的范围与工作表中填充的列数一样宽。所以这：

```
statusCell = rowRange.offset(0, statusColumnOffset); 
```

会一样宽。我相信你需要使用：

```
statusCell = rowRange.offset(0, statusColumnOffset, 1, 1); 
```

[https://developers.google.com/apps-script/class_range#offset](https://developers.google.com/apps-script/class_range#offset)

> 如果未指定可选的 numRows 和 numColumns，则返回的偏移范围将与初始范围具有相同的大小，否则将调整返回的 Range 的大小。

# c# - 在应用程序退出时存储字符串值

> ID：13428570
> 
> 赞同：0
> 
> 时间：2012-11-17T07:11:55.157
> 
> 标签：c#, android, mono

我是 Android Mono 编程的新手，但我有一个可能很简单的问题。基本上我正在做的是每当我的应用程序通过主页或后退按钮操作退出时存储一个字符串值。我想在重新打开应用程序时将此字符串值恢复到正确的 TextView 字段。这似乎很简单，但我还没有发现这样做的方法。到目前为止，我将字符串作为我的 Activity 类的全局变量，并且只要在我的应用程序中执行更改此值的操作，我就会设置它。我已经处理了 OnResume 和 OnRestart 以尝试重新填充 TextView，但似乎活动的生命周期导致该字符串的值在应用退出时丢失。在应用程序更改或退出时，我可以在哪里或如何存储这个值，所以当它恢复时，这个值可以恢复？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T11:09:36.267

用它来存储字符串...

```
 final SharedPreferences pref1 = getSharedPreferences("myapp", MODE_PRIVATE);
        SharedPreferences.Editor editor = pref1.edit();
        editor.putString("Stringval", "xxxxxxx");
        editor.commit(); 
```

要从 SharedPreference 中获取值，请使用以下代码：-

```
 final SharedPreferences pref1 = getSharedPreferences("myapp", MODE_PRIVATE);
    String str1= pref2.getString("Stringval", null); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T11:06:40.630

除了共享首选项，您还可以使用数据库。

# opengl - OpenGL中带有索引VBO的多个偏移量

> ID：13428575
> 
> 赞同：0
> 
> 时间：2012-11-17T07:12:49.407
> 
> 标签：opengl, vbo

我有两个 VBO，一个充满数据，另一个充满该数据的索引。两者都是不同网格的串联。有没有办法以这种格式绘制这些东西？

视觉上：

```
Each [] denotes a mesh
Vertex VBO: [  vertex data ][  vertex data ][  vertex data ]
Index  VBO: [indices into ^][indices into ^][indices into ^] 
```

有没有办法指定索引数组和顶点数组的偏移量？所有数据都具有相同的格式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T09:55:57.553

如果绑定了 VBO，则 glVertexAttribPointer（以及遗留的 gl…Pointer）函数确实将字节偏移量作为其“数据”参数。我建议您不要将数字转换为，而是`void*`将函数签名转换为`uintptr_t`（在 stdint.h 中找到），这实际上应该发生。

以同样的方式，您可以使用 glDrawElements 偏移到索引数组中：如果有一个索引缓冲区绑定，则它需要一个字节偏移到缓冲区中。

另一种方法是使用[glDrawElementsBaseVertex](http://www.opengl.org/sdk/docs/man/xhtml/glDrawElementsBaseVertex.xml)。

# c# - WPF C# 提取并显示默认文件图标

> ID：13428580
> 
> 赞同：2
> 
> 时间：2012-11-17T07:13:50.793
> 
> 标签：c#, wpf, icons

我正在为某些扩展（如 XLS、XLSX、PDF 等）提取系统默认图标（仅限 16 * 16），并尝试在图像控制中显示它。我注意到，如果我将这些图标转储到磁盘上，它们看起来很清晰，但我的 ListBox 中的图标看起来有些模糊。

有什么想法可以在这里发生吗？我从阅读的帖子中尝试了很多建议，但无法解决问题

代码片段：

Case1 - 我正在通过 Win32 Pinvoke 提取文件的图标 - 结果 - > 模糊图标

```
private const uint SHGFI_ICON = 0x100;
    private const uint SHGFI_LARGEICON = 0x0;
    private const uint SHGFI_SMALLICON = 0x1;
    private const int FILE_ATTRIBUTE_NORMAL = 0x80;
    private const uint SHGFI_USEFILEATTRIBUTES = 0x000000010;
    [StructLayout(LayoutKind.Sequential)]
    private struct SHFILEINFO
    {
        public IntPtr hIcon;
        public IntPtr iIcon;
        public uint dwAttributes;
        [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 260)]
        public string szDisplayName;
        [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 80)]
        public string szTypeName;
    };
    [DllImport("shell32.dll")]
    private static extern IntPtr SHGetFileInfo(string pszPath, uint dwFileAttributes,   
   ref SHFILEINFO psfi, uint cbSizeFileInfo, uint uFlags);

private static Icon Extract(string fileName)
{
var shinfo = new SHFILEINFO();

IntPtr hIcon = SHGetFileInfo(fileName, 0, ref shinfo, (uint)Marshal.SizeOf(shinfo), SHGFI_ICON | SHGFI_SMALLICON);
//The icon is returned in the hIcon member of the shinfo struct
var icon = (Icon)Icon.FromHandle(shinfo.hIcon).Clone();
DestroyIcon(shinfo.hIcon);
return icon;
}
[DllImport("User32.dll")]
public static extern int DestroyIcon(IntPtr hIcon); 
```

Case2 - 将上面创建的图标对象转储到磁盘并在资源管理器中查看它们 -> 图标质量非常好

```
string filePath = string.Format("C:\\temp\\Icons\\{0}.ico", iconName.Substring(1));
var stream = new FileStream(filePath, FileMode.OpenOrCreate);
iconObject.ExtensionSource.ToBitmap().Save(stream, ImageFormat.Bmp);
stream.Close(); 
```

列表框 xaml -

```
<Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal"
                    Grid.Row="0"
                    Margin="10">
            <TextBox Text="{Binding ExtensionNames, Mode=TwoWay}"
                     ToolTip="Comma Separated List of Extensions, Tab out to persist changes.."
                     Margin="5"/>
            <Button Content="Dump All Icons" 
                    Click="Button_DumpAllIconsClick" 
                    Width="100"
                    ToolTip="Dump Path: C:\temp\Icons"
                    Margin="5"/>

        </StackPanel>
        <ListBox ItemsSource="{Binding Icons}"
                 Grid.Row="1"
                 Margin="2">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Stretch"
                                Margin="5">
                        <TextBlock Text="{Binding ExtensionName}"
                                       FontWeight="Bold"
                                       FontSize="20"/>
                        <Image Source="{Binding Path=ExtensionSource,
                                                Converter={ExtractIconWPF:IconToImageSourceConverter}}"
                               Margin="5"/>
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
            <ListBox.ItemContainerStyle>
                <Style TargetType="ListBoxItem">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                </Style>
            </ListBox.ItemContainerStyle>
        </ListBox>
</Grid> 
```

我如何将 Icon 转换为 ImageSource 对象：

```
var stream = GetIconStream(iconObject);
ImageSource source = GetBitMapImage(stream);

public static Stream GetIconStream(Icon icon)
{
var iconStream = new MemoryStream();

var bitmap = icon.ToBitmap();
bitmap.Save(iconStream, ImageFormat.Png);

return iconStream;
}

public static ImageSource GetBitMapImage(Stream iconStream)
{
var bi = new BitmapImage();

bi.BeginInit();
bi.StreamSource = iconStream;
bi.EndInit();

return bi;
} 
```

任何指针将不胜感激！

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-02-24T05:56:57.733

我知道这个问题已经解决了一段时间，但我看到了一个很酷的 win32 调用快捷方式：

```
var sysicon = System.Drawing.Icon.ExtractAssociatedIcon(filePath);
var bmpSrc = System.Windows.Interop.Imaging.CreateBitmapSourceFromHIcon(
        sysicon.Handle,
        System.Windows.Int32Rect.Empty,
        System.Windows.Media.Imaging.BitmapSizeOptions.FromEmptyOptions());
sysicon.Dispose(); 
```

我认为这可能比你所做的一切都好。

来源：[这里](http://bhrnjica.net/2014/05/28/how-to-extract-default-file-icon-in-wpf-application/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T07:36:02.087

这是您的问题的解决方案：

[在 C# 中获取已注册的文件类型及其相关图标](http://www.codeproject.com/Articles/29137/Get-Registered-File-Types-and-Their-Associated-Ico)

Man Vuong 制作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T16:43:56.727

分享对我的情况有帮助的其他面临类似问题的人。

在 Image 上设置此属性有助于消除模糊：

```
RenderOptions.BitmapScalingMode="NearestNeighbor" 
```

在其他情况下，我们在 20 * 20 的网格单元中显示图像，因此我们最终使用以下设置删除了默认的图像拉伸。这也造成了很大的差异。

```
Stretch = Stretch.None 
```

# javascript - Javascript不工作 - JQuery

> ID：13428584
> 
> 赞同：0
> 
> 时间：2012-11-17T07:14:04.457
> 
> 标签：javascript, jquery, html, css

我有这个 javascript 代码，它应该根据互联网上的教程工作。但是，这行不通。我不知道代码中有什么问题。请检查：

```
<script type="text/javascript">
$(document).ready(function()
{
    $('#nav2 li a').hover(function()
    {
        var offset=$(this).offset();
        var thiswidth =$(this).width()+13;
        $('#nav2 li.ybg').stop().aimate({left:offset.left+9+"px",width:thiswidth+"px"},400,function(){
            $(this).aimate({height:"28px"},150);
        });    
    },
    function()
    {
        $('#nav2 li.ybg').stop().aimate({height:"4px"},150,function(){
            $(this).aimate({left:"165px",width:"55px"},600,'easeOutBounce');
        });    
    }); 

});
</script> 
```

所有的类、ID 名称和标签名称都正确。但是，这不起作用:(这是小提琴：http: [//jsfiddle.net/HVueJ/](http://jsfiddle.net/HVueJ/) 黄色条应该移动。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T07:16:30.207

你在javascript代码中有错误：

```
<script type="text/javascript">
$(document).ready(function()
{
    $('#nav2 li a').hover(function()
    {
        var offset=$(this).offset();
        var thiswidth =$(this).width()+13;
        $('#nav2 li.ybg').stop().animate({left:offset.left+9+"px",width:thiswidth+"px"},400,function(){
            $(this).animate({height:"28px"},150);
        });    
    },
    function()
    {
        $('#nav2 li.ybg').stop().animate({height:"4px"},150,function(){
            $(this).animate({left:"165px",width:"55px"},600,'easeOutBounce');
        });
    });

});
</script> 
```

应该是这个。你拼写`animate`为`aimate`

这是小提琴：http: [//jsfiddle.net/HVueJ/1/](http://jsfiddle.net/HVueJ/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T07:31:44.103

您的代码中有拼写错误。你把“动画”写成动画

# php - CSS 的绝对地址

> ID：13428587
> 
> 赞同：0
> 
> 时间：2012-11-17T07:14:48.750
> 
> 标签：php, css, require-once

我的 PHP 本地主机上有以下文件结构：

*   根
    *   css/
        *   main.css
    *   行政/
        *   管理员.php
    *   索引.php
    *   头文件.php

admin.php 和 index.php 都需要 header.php，其中包含 main.css，如下所示：

```
 <link rel="stylesheet" type="text/css" 
        href="<?php echo $_SERVER['DOCUMENT_ROOT']; ?>/css/main.css" /> 
```

但是，没有正确包含 css 文件。当我在 Mac 上查看 Chrome 中的源代码时，浏览器已将其变为

```
http://localhost/Users/ljhljh235/Documents/web/hetd/css/main.css 
```

其中`http://localhost`不打算在这里。有人可以帮助我如何为css文件构建正确的绝对路径吗？

PS我在 admin.php 和 index.php 中包含 header.php 的方式是

```
require_once ($_SERVER['DOCUMENT_ROOT'].'/header.php'); 
```

我正在使用 MAMP 2.1.1。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:20:11.887

变量 $_SERVER['DOCUMENT_ROOT'] 用于服务器端路径，仅使用 /css/main.css，它将与域相关，即：[http ://domain.com/css/main.css](http://domain.com/css/main.css)

# perl - 如何比较行中2个数组的元素

> ID：13428589
> 
> 赞同：1
> 
> 时间：2012-11-17T07:15:07.393
> 
> 标签：perl

我有 2 个数组（`@curNodes`和`@oldNodes`），数组的元素在行中。例如：

```
Output of print @curNodes   Output of print @oldNodes  
US                          London
UK                          US 
```

现在我想比较`@curNodes`with的每个元素`@oldNodes`。例如，首先它会检查`"US"`in `@oldNodes`，如果它没有做任何其他操作。

您能否帮助我，让我知道元素是否在行中，如何进行这种比较。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-17T07:28:20.280

对于不需要任何外部模块的方法，如何将第一个数组变成哈希然后遍历第二个数组？见下文。

```
use v5.012;
use warnings;

my @old_nodes = qw/ a b c d /;
my %old = map {; $_ => 1 } @old_nodes;

my @cur_nodes = qw/ a d /;

foreach (@cur_nodes) {
    if ($old{$_}) {
        say "$_ exists in old_nodes";
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-17T07:19:45.463

您可以为此使用**Array::Diff**模块。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-17T07:34:28.393

您可以使用智能匹配运算符 (~~) 来实现。

```
#!/usr/bin/perl
use strict;
use warnings;
use 5.010;
my @curNodes = qw' US UK ';
my @oldNodes = qw' London US ';

my $flag;

foreach my $item (@curNodes) {
  $flag = @oldNodes~~$item ? 0 : 1;
  last if !$flag; #perform some action
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-18T03:03:06.507

Perl 中并没有真正的多维数组。但是肯定有数组引用数组。

假设您正在运行 Perl 5.10 或更高版本，我认为 smartmatch 运算符是有道理的。

根据您的描述，这是我想出的：

```
#!/usr/bin/perl -Tw

use 5.010;
use strict;
use warnings;
use Data::Dumper;

my @curNodes = (
    [ 'US', 'UK' ],
);

my @oldNodes = (
    [ 'London',  'US' ],
);

my @matchedElements = grep { $_ ~~ @{ $oldNodes[0] } } @{ $curNodes[0] };

say Dumper( \@curNodes );
say Dumper( \@oldNodes );
say Dumper( \@matchedElements ); 
```

这发出：

```
$VAR1 = [
          [
            'US',
            'UK'
          ]
        ];

$VAR1 = [
          [
            'London',
            'US'
          ]
        ];

$VAR1 = [
          'US'
        ]; 
```

我想你想在你的程序中迭代 @matchedElements 。

# javascript - 如何使用咖啡脚本扩展 google.maps.Map

> ID：13428591
> 
> 赞同：0
> 
> 时间：2012-11-17T07:15:14.273
> 
> 标签：javascript, google-maps-api-3, coffeescript, extends

我尝试过标准方式：

```
class MyMap extends google.maps.Map
  constructor: (mapDiv, opts)->
    super(mapDiv, opts) 
```

但在这种情况下，占位符是空的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T22:02:36.133

这个问题是 CoffeeScript 制作类的方式和 Google Maps Javascript API 的编写/混淆/缩小方式的组合。

当 CoffeeScript 扩展一个类时，它会创建类似于以下的代码：

```
customnamespace.CustomMap = (function(_super) {

    // '__extends' is a method that gets output at the 
    // top of every CoffeeScript compiled file
    __extends(CustomMap, _super);

    function CustomMap(mapDiv, opts) {
        CustomMap.__super__.constructor.apply(this, arguments);
    }

    return CustomMap;

})(google.maps.Map); 
```

在大多数情况下，尤其是在“extendee”是用 CoffeeScript 编写的情况下，这很有效。

但在 google.map.Maps 的情况下（我怀疑）有一大堆范围操作正在进行，它有点撤销 CoffeeScript 试图设置的范围。诚然，这是一个猜测。

所以在这种情况下，是时候戴上你的 JavaScript 帽子，对构造函数做一些简单的老式作用域锁定了。因此，使用一行 JavaScript 将您的`super`和`apply`函数放在类的范围内。CoffeeScript 只会挥手、微笑并按原样输出 JavaScript 行。

```
class MyMap extends google.maps.Map
    constructor: (mapDiv, opts)->
        google.maps.Map.apply(this, [mapDiv, opts]); 
```

有道理？

# c++ - Visual Studio 2012 的 C++ 命令行编译器

> ID：13428604
> 
> 赞同：13
> 
> 时间：2012-11-17T07:16:18.310
> 
> 标签：c++, visual-studio-2012

我已经安装了 Visual Studio Express 2012 并已添加`cl.exe`到我的 PATH 中，但显然缺少一个 dll ( ? )，`mspdb110.dll`我还注意到 2`cl.exe`个不同的路径中有 2 个：

```
C:\Program Files (x86)\Microsoft Visual Studio 11.0\VC\bin
C:\Program Files (x86)\Microsoft Visual Studio 11.0\VC\bin\x86_amd64 
```

如何`main.cpp`使用 VS 编译器从命令行编译文件？我在哪里可以找到这个编译器的参考？

谢谢。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-17T07:20:27.257

从您安装 Visual Studio 的任何目录下的 VC 目录运行**vcvarsall.bat批处理文件（例如，在我的 PC 上，它位于 C:\Program Files (x86)\Microsoft Visual Studio 11.0\VC 中）。**此批处理文件将配置工具链使用的环境。

默认情况下，它将配置环境以使用 x86 本机工具链。您还可以为批处理文件提供一个参数以使用不同的工具链。例如，您可以通过**amd64**来使用原生 x64 工具链，或者**通过 x86_amd64**来使用 x86 -> x64 交叉编译工具链。如果您对其他选项或它的确切配置感兴趣，请查看批处理文件的内容。

# zend-framework2 - Zend 框架 2 工具

> ID：13428613
> 
> 赞同：2
> 
> 时间：2012-11-17T07:17:47.540
> 
> 标签：zend-framework2

我一直在寻找 Zend\Tool ，它出现在版本 1 中，但没有出现在版本 2 中。我确实找到了另一个 SO 帖子，其中提到它们尚未添加，但已经超过 6 个月了。

有没有人更新他们何时会被添加或可以指出类似实用程序的方向？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-15T09:12:00.497

ZFTool 现在可用于 Zend Framework 2：[https ://github.com/zendframework/ZFTool](https://github.com/zendframework/ZFTool)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T10:21:59.390

目前还没有 Zend Tool 这样的东西。他们仍在努力，但何时发布，尚无定论。然而，有两个很棒的 Git 存储库，它们几乎涵盖了 Zend 工具的关键方面——创建一个裸应用程序和新模块

*   [zendframework/ZendSkeletonApplication](https://github.com/zendframework/ZendSkeletonApplication)
*   [zendframework/ZendSkeletonModule](https://github.com/zendframework/ZendSkeletonModule)

[另外有人在我的博客](http://samminds.com)上发布了一个 shell 脚本来创建一个新的骨架模块，你可以在那里找到这个脚本。但是我对该脚本不承担任何责任，因为我自己不使用它。ZF2 模块非常简单，我只需要 SkeletonModule：

*   [zf2crmod.sh](https://dl.dropbox.com/u/67895339/zf2crmod.sh)

# java - 使用jsp将值插入到oracle表中

> ID：13428617
> 
> 赞同：2
> 
> 时间：2012-11-17T07:18:27.180
> 
> 标签：java, sql

我正在使用以下代码将值插入到表中。

```
String sql = "INSERT INTO APPLICATION VALUES (?,?,?,?,?,?,TO_DATE(?,'DD/MMYYYY'),?,TO_DATE(?,'DD/MM/YYYY'),?,?,?,?,?,SYSDATE,'X',?)";
PreparedStatement pstmt = conn.prepareStatement(sql);
pstmt.setInt(1,Integer.parseInt(sr));
pstmt.setString(2,nm);
pstmt.setString(3,(String)session.getValue("ITSGTYP"));
pstmt.setString(4,pst);
pstmt.setString(5,dox);
pstmt.setString(6,zo);
pstmt.setString(7,dob);
pstmt.setString(8,cdr);
pstmt.setString(9,cdrdt);
pstmt.setString(10,qual);
pstmt.setString(11,mail);
pstmt.setString(12,bond);
pstmt.setInt(13,Integer.parseInt((String)session.getValue("USER")));
pstmt.setString(14,request.getRemoteAddr());
pstmt.setString(17,place); 
```

插入值的表的描述如下

```
EMP_ID                    NOT NULL NUMBER(6)
NAME                      VARCHAR2(25)
APPLN_TYP                 VARCHAR2(10)
POST                      VARCHAR2(100)
DIV                       VARCHAR2(25)
ZONE                      VARCHAR2(5)
DOB                       DATE
CADRE                     VARCHAR2(5)
CADRE_DATE                DATE
QUALIFICATION             VARCHAR2(100)
EMAIL_ID                  VARCHAR2(70)
BOND                      VARCHAR2(3)
SUBMITTED_BY              NUMBER(6)
SUBMIT_IP                 VARCHAR2(30)
SUBMIT_DATE               DATE
FLAG                      VARCHAR2(1)
PLACE                     VARCHAR2(20) 
```

在执行上述代码时，我收到以下错误

```
 Error: java.sql.SQLException: Invalid column index 
```

这个查询以前工作得很好。

我以前的表没有该`PLACE`列。我不得不稍后插入它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:26:30.640

将要插入到 SQL 语句中的列名包括在内会更安全，例如：

```
String sql = "INSERT INTO APPLICATION VALUES (EMP_ID,NAME, ....)   // etc   
(?,?,?,?,?,?,TO_DATE(?,'DD/MMYYYY'),?,TO_DATE(?,'DD/MM/YYYY'),?,?,?,?,?,SYSDATE,'X',?)"; 
```

通过这种方式，您可以更好地控制语句中使用的索引和列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T07:23:56.173

代替 `pstmt.setString(17,place);`

和

`pstmt.setString(15,place);`

您得到错误的原因是：

您的预准备语句查询中没有 17 个`?`符号，您只有 15 个`?`符号，这意味着您只能为该预准备语句设置 15 个值（15 列）。

现在您正在做的是在第 17 个索引处设置一个参数，并且您没有在查询中的索引 17 处指定任何列，您只有 15 列和 15 个`?`符号用于在各自的 15 列中插入的值。

所以用我上面提到的替换它，它会起作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:30:47.760

在您的查询中，您需要设置 15 个参数。你正试图给出第 17 个索引的值。您应该将其更改为 15 而不是 17。

IE

pstmt.setString(15,place);

# c++ - 试图访问 std::stack 的索引

> ID：13428618
> 
> 赞同：6
> 
> 时间：2012-11-17T07:18:58.600
> 
> 标签：c++, stl, stack, operators, std

```
 void PDA::parse(vector<string> words){
    for(int i=0; i<words.size();i++){//for each string in the input file
    string token=words[i];
    for(int j=0; j<token.length(); j++) //for each character in the string
      {
        char input=token[j];
        char matchingBracket=getMatchingBracket(input); //returns the matching bracket, should probably just have ( and [

        if(!stack[j]){//since j-1 when the index is 0 will cause an error
          if(stack[j-1]==matchingBracket){
            stack.pop();
          }else{
            stack.push(input);
          }

        }
  }
    accepted()?cout<<"The string "<<words[i]<<" is balanced and was accepted"<<endl : cout<<"The string "<<words[i]<<" is not balanced and was not accepted"<<endl;
}
} 
```

我收到这些错误

```
PDA.cpp:25: error: no match for âoperator[]â in â((PDA*)this)->PDA::stack[j]â
PDA.cpp:26: error: no match for âoperator[]â in â((PDA*)this)->PDA::stack[(j - 1)]â 
```

对于这些行

```
if(!stack[j]){//since j-1 when the index is 0 will cause an error
              if(stack[j-1]==matchingBracket){ 
```

我查找了 std::stack 并发现“默认情况下，如果没有为特定堆栈类指定容器类，则使用标准容器类模板双端队列。” 当我查看双端队列时，我发现它支持 operator[]。这就是我声明我的堆栈的方式。在这个源文件对应的头文件中。

```
#ifndef PDA_H
#define PDA_H
#include <stack>
#include <vector>
#include <deque>
class PDA{
 private:
  std::stack<char> stack;
 public:
  PDA();
  bool isEmpty();
  void parse(std::vector<std::string>);
  char getMatchingBracket(char);
  bool accepted();
};
#endif 
```

正如我所看到的，在 std::stack 上使用 operator[] 应该可以正常工作。有任何想法吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-17T07:21:48.463

`std::stack`不会从底层容器类型继承，而是将其调整为全新的接口。底层容器未暴露。这本质上是适配器的重点，`std::stack`并且`std::queue`：它们确保您使用的是更有限的接口，无论底层结构如何，该接口都是相同的。

也就是说，您可以`std::stack`从子类继承和访问底层容器。它是一个`protected`名为 的成员`c`。

```
class my_stack : public std::stack< char > {
public:
    using std::stack<char>::c; // expose the container
};

int main() {
    my_stack blah;
    blah.push( 'a' );
    blah.push( 'b' );
    std::cout << blah.c[ 1 ]; 
} 
```

[http://ideone.com/2LHlC7](http://ideone.com/2LHlC7)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-17T07:30:32.607

您应该使用该**`.top()`**方法检查堆栈顶部的内容，而不是索引。

* * *

因此，而不是您当前的代码......

```
if(!stack[j]){//since j-1 when the index is 0 will cause an error
  if(stack[j-1]==matchingBracket){
    stack.pop();
  }else{
    stack.push(input);
  }
} 
```

写

```
if(!stack.empty() && stack.top() == matchingBracket) {
    stack.pop();
} else {
    stack.push(input);
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-11-17T07:23:07.453

根据定义，堆栈不支持对其元素的随机访问。请参阅[std::stack 参考](http://en.cppreference.com/w/cpp/container/stack)。

实际上，在您的情况下，容器选择是错误的。如果您需要随机访问元素（不仅是顶部堆栈元素） ，请`std::vector`改用。相应的操作是`push_back()`把元素放在栈顶，`pop_back()`从栈顶提取元素和`back()`访问栈顶元素。

# iphone - PhoneGap NativeControls 标签栏选择

> ID：13428619
> 
> 赞同：1
> 
> 时间：2012-11-17T07:19:08.503
> 
> 标签：iphone, cordova, phonegap-plugins

我正在使用 XCode 4.2 版和 PhoneGap 1.5.0 版来开发 iOS 应用程序。使用下面的代码，我能够在页面上添加标签栏，但我无法在选择时导航到另一个页面。我使用 PhoneGap 的 NativeControls 插件创建了标签栏。

```
function onDeviceReady()
{
    Cordova.exec("NativeControls.createTabBar"        
    var options = "bottom";

    window.onorientationchange = function() {
            var orientation = window.orientation;

            switch(orientation) {
                case 0:

                Cordova.exec("NativeControls.showTabBar", options);

                /* Add a descriptive message on "Handling iPhone or iPod touch Orientation Events"  */
                document.getElementById("currentOrientation").innerHTML="Now in portrait orientation (Home button on the bottom).";
                break; 

                case 90:

                Cordova.exec("NativeControls.showTabBar", options);

                document.getElementById("currentOrientation").innerHTML="Now in landscape orientation and turned to the left (Home button to the right).";
                break;

                case -90: 

                Cordova.exec("NativeControls.showTabBar", options);

                document.getElementById("currentOrientation").innerHTML="Now in landscape orientation and turned to the right (Home button to the left).";
                break;

                default:

                Cordova.exec("NativeControls.showTabBar", options);

                document.getElementById("currentOrientation").innerHTML="Now the orientation must be -180\. default: case: ";
                break;         
            }//end switch
        }//end window.orientationchange

        Cordova.exec("NativeControls.showTabBar", options);
        Cordova.exec("NativeControls.createTabBarItem", "Wineries", "Wineries", null, "1", options);
        Cordova.exec("NativeControls.createTabBarItem", "Wines", "Wines", "www/Wine.png", "2", {onSelect: function() {location.href = "Review.html" }});
        Cordova.exec("NativeControls.createTabBarItem", "Tours", "Tours", null, "3", options);
        Cordova.exec("NativeControls.createTabBarItem", "Non-Mobile", "Non-Mobile", null, "4", options);

        Cordova.exec("NativeControls.showTabBarItems", "Wineries", "Wines", "Tours", "Non-Mobile"); 
        Cordova.exec("NativeControls.selectTabBarItem", "Wineries");
} 
```

但是此代码根本不适用于更改选择页面。

`Cordova.exec("NativeControls.createTabBarItem", "Wines", "Wines", "www/Wine.png", "2", {onSelect: function() {location.href = "Review.html" }});`

**编辑**当我使用以下代码时也会发生同样的情况。我应该在第二页重复相同的代码吗？如果是这样，我应该调用哪个方法？

```
 function onDeviceReady()
    {            

        var nc = window.plugins.nativeControls;

        nc.createTabBar();
        nc.createTabBarItem("Wineries", "Wineries", "www/grape.png", {onSelect: function() {location.href = "index.html" }});
        nc.createTabBarItem("Wines", "Wines", "www/Wine.png", {onSelect: function() {location.href = "Review.html" }});
        nc.createTabBarItem("Tours", "Tours", "www/tour.png", null);
        nc.createTabBarItem("Non-Mobile", "Non-Mobile", "", null);
        nc.showTabBar();
        nc.showTabBarItems("Wineries", "Wines", "Tours", "Non-Mobile");
        nc.selectTabBarItem("Wineries");
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T12:29:29.567

*刚刚找到解决我的问题的方法。不是为每个选项卡分配一个新的 html 页面，而是将其连接到功能。在每次调用时，它都会相应地更改正文内容。**但是，我仍然想知道是否存在任何其他解决方案**！*

```
function onDeviceReady()
{            
    var title = "WineWeb";
    nc = window.plugins.nativeControls;

    nc.createTabBar();
    nc.createTabBarItem("Wineries", "Wineries", "www/grape.png", {onSelect: Wineries});
    nc.createTabBarItem("Wines", "Wines", "www/Wine.png", {onSelect: Review});
    nc.createTabBarItem("Tours", "Tours", "www/tour.png", null);
    nc.createTabBarItem("Non-Mobile", "Non-Mobile", "", null);
    nc.showTabBar();
    nc.showTabBarItems("Wineries", "Wines", "Tours", "Non-Mobile");
    nc.selectTabBarItem("Wineries");
}

function Wineries () {

    nc = window.plugins.nativeControls;
    nc.setNavBarTitle("Wineries");
    nc.hideLeftNavButton();

    document.getElementById('Review').style.display='none';
    document.getElementById('Wineries').style.display='block';
    document.getElementById('AboutUs').style.display='none';
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-23T02:50:31.057

我遇到了这个问题，我的解决方法虽然很密集，但还是使用了一个框架，比如backbone.js。我设置了一个路由器，它根据 url 调用各种视图（例如，#newsfeed）。这很有效，因为您可以轻松地将这些视图绑定到模型和模板。

相关代码看起来像这样。这是基于[http://blog.viison.com/post/11097185009/how-to-switch-views-using-backbonejs](http://blog.viison.com/post/11097185009/how-to-switch-views-using-backbonejs)上的完整示例。

```
var ApplicationRouter = Backbone.Router.extend({

    initialize: function(el) {
        this.el = el;          
        this.newsfeedView = new NewsContentView({template: '#newsfeed-template'});
    },

    onDeviceReady: function() {

        plugins.tabBar.createItem("feed", "", "tabButton:Contacts", {onSelect: function() {location.href = "#newsfeed" }});
    },

    routes: {
        "": "newsfeed",
        "newsfeed": "newsfeed",
    },

    newsfeed: function() {
        console.log('switch to newsfeed');
        this.switchView(this.newsfeedView);
        this.setActiveEntry('#newsfeed');
    },
}); 
```

# python - 如何阻止命令接受输入

> ID：13428620
> 
> 赞同：1
> 
> 时间：2012-11-17T07:19:37.287
> 
> 标签：python, keyboard-shortcuts, hotkeys

我正在创建一个使用[pyhk](http://www.schurpf.com/python/python-hotkey-module/pyhk-end-user-documentation/)使用键盘快捷键的程序。在下面的代码中，我无法停止`tri.start()`多次输入。

```
 import pyhk
    print "Press ALT + 1"
    def shortcut():
        print "keyboard shortcut"

    #create pyhk class instance
    tri = pyhk.pyhk()

    #add hotkey. Assigning the keyboard shortcut.
    tri.addHotkey(['Alt', '1'], shortcut)

    #start looking for hotkey
    tri.start()

    # removing the hotkey. Should remove the assigned shortcut         
    tri.removeHotkey() 
```

当我按 Alt+1 时，它会打印“键盘快捷键”。然后当我再次按 Alt+1 时，它再次打印“键盘快捷方式”，它不应该因为该`tri.removeHotkey()`部件应该运行删除分配的快捷方式。

就像程序卡在`tri.start()`等待输入一样。我们怎样才能让它只接受一次输入，然后运行下一部分代码。

# javascript - 特定窗口大小的触发功能

> ID：13428628
> 
> 赞同：1
> 
> 时间：2012-11-17T07:20:48.287
> 
> 标签：javascript, jquery

我有一个 div 跟随浏览器滚动并包含在另一个 div 中。

以下函数使我的 div 保持原位并在用户滚动时移动：

```
 $(function() {
            var offset = $("#sidebar").offset();
            var topPadding = 15;
            $(window).scroll(function() {
                if ($(window).scrollTop() > offset.top) {
                    $("#sidebar").stop().animate({
                        marginTop: $(window).scrollTop() - offset.top + topPadding
                    });
                } else {
                    $("#sidebar").stop().animate({
                        marginTop: 0
                    });
                };
            });
        }); 
```

这很好用，除非浏览器高度小于 400 像素，否则它会出现问题。

所以我想我会包含一个简单的行来让它只在浏览器> = 400时运行：

```
 if (window.innerHeight >= 400) {
        $(function() {
            var offset = $("#sidebar").offset();
            var topPadding = 15;
            $(window).scroll(function() {
                if ($(window).scrollTop() > offset.top) {
                    $("#sidebar").stop().animate({
                        marginTop: $(window).scrollTop() - offset.top + topPadding
                    });
                } else {
                    $("#sidebar").stop().animate({
                        marginTop: 0
                    });
                };
            });
        });
        } 
```

只要初始浏览器高度大于 400 像素，这似乎就可以正常工作。如果浏览器窗口从其初始高度调整大小，代码仍将执行，这与我想要的相反。

本质上，有没有办法动态跟踪浏览器大小，只在高度大于 400 像素时运行此代码，而在小于 400 像素时不运行？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:26:36.757

只需将检查移动*到*您的事件处理程序中：

```
$(function() {
    var offset = $("#sidebar").offset();
    var topPadding = 15;
    $(window).scroll(function() {
        if (window.innerHeight >= 400) {  // <=== Moved it here
            if ($(window).scrollTop() > offset.top) {
                $("#sidebar").stop().animate({
                    marginTop: $(window).scrollTop() - offset.top + topPadding
                });
            } else {
                $("#sidebar").stop().animate({
                    marginTop: 0
                });
            }
        }
    });
}); 
```

现在，当您处理`scroll`事件时，检查就完成了，而不是在一开始就阻止滚动完全被钩住。

* * *

另外，因为您是在`scroll`事件中执行此操作的，这种情况经常发生，所以我会尽量减少包装或查找元素的次数。而不是在每个事件上都这样做，因为`window`不会改变，我怀疑你`sidebar`也不会改变，包装/查找*一次*：

```
$(function() {
    var offset = $("#sidebar").offset();
    var topPadding = 15;
    var sideBar = $("#sidebar"); 
    var $window = $(window);
    $window.scroll(function() {
        if ($window.height() >= 400) {  // <=== Moved it here
            if ($window.scrollTop() > offset.top) {
                sidebar.stop().animate({
                    marginTop: $window.scrollTop() - offset.top + topPadding
                });
            } else {
                sidebar.stop().animate({
                    marginTop: 0
                });
            }
        }
    });
}); 
```

这也使得使用 jQuery 的`height`函数来`window`实现跨浏览器兼容性是合理的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T07:25:14.080

要在调整大小时跟踪浏览器的宽度和高度：

```
$(window).resize(function()
{
    var viewportWidth = $(window).width();
    var viewportHeight = $(window).height();

    // More code here...
}; 
```

但是，我认为有一种更好的方法可以使您的 div 保持在适当的位置，一种不涉及 Javascript 的方法。你试过使用`position:fixed`吗？

# c# - 在 C# winform 中加载用户控件时将焦点放在文本框中

> ID：13428636
> 
> 赞同：1
> 
> 时间：2012-11-17T07:23:12.593
> 
> 标签：c#, winforms, user-controls, load

加载用户控件时如何在文本框上设置焦点？

在winforms中，我写了`textbox1.focus()`，`usercontrol.load()`但它没有用。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-17T07:26:41.983

请尝试 .Select() 方法。

```
textBox1.Select(); 
```

或者

```
private void Form1_Load(object sender, EventArgs e)
{
    this.ActiveControl = textBox1;
} 
```

或者，您可以尝试：

```
private TextBox TextFocusedFirstLoop()
{
    // Look through all the controls on this form.
    foreach (Control con in this.Controls)
    {
    // Every control has a Focused property.
    if (con.Focused == true)
    {
        // Try to cast the control to a TextBox.
        TextBox textBox = con as TextBox;
        if (textBox != null)
        {
        return textBox; // We have a TextBox that has focus.
        }
    }
    }
    return null; // No suitable TextBox was found.
}

private void SolutionExampleLoop()
{
    TextBox textBox = TextFocusedFirstLoop();
    if (textBox != null)
    {
    // We have the focused TextBox.
    // ... We can modify or check parts of it.
    }
} 
```

# spring - 与 FourSquare 的 redirect_uri_mismatch 错误

> ID：13428639
> 
> 赞同：0
> 
> 时间：2012-11-17T07:23:58.973
> 
> 标签：spring, spring-mvc, spring-security, foursquare, spring-social

我正在使用spring social将我的应用程序与附加图像中提到的foursquare面临错误连接，同时在给定图像中指定回调URL。对于同一位置，当我指定“localhost:8080/CabFMS”时，它工作正常。请帮助解决此错误。

![在此处输入图像描述](../Images/3b18a38eda6b573be665448b37baed7a.png)

![在此处输入图像描述](../Images/ded4b5798d50054a291ad644ef4b27ce.png)

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-18T19:02:17.080

您在呼叫中包含什么回调 URL `https://foursquare.com/oauth2/authenticate`？确保它与您的回调 URL*完全*匹配，直到包含“http://”，并且没有尾随 '/'

# jquery - 在我的应用程序上，我想为每个列表项添加一个滑动删除选项，例如 Pandora 上的...如何？：/

> ID：13428641
> 
> 赞同：-2
> 
> 时间：2012-11-17T07:24:42.870
> 
> 标签：jquery, jquery-mobile, swipe

我基本上有一个项目列表，当我向左滑动时，我想在每个项目上显示一个删除按钮。当我点击时......哇！它删除！

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T08:17:30.600

试试这个插件：[swipeButton](https://github.com/commadelimited/jquery.swipeButton.js)（带有评论的博文：[swipeButton jQuery Mobile 插件启动](http://andymatthews.net/read/2012/02/19/swipeButton-jQuery-Mobile-plugin-launches.-Millions-rejoice!)）

# android - 是否可以为 android 编译 Qt+QML+OpenCV 应用程序

> ID：13428649
> 
> 赞同：1
> 
> 时间：2012-11-17T07:26:24.153
> 
> 标签：android, qt, qml, qt-necessitas

我的 Windows 7 中有一个应用程序，它是**使用 Qt + QML**和**OpenCV**编写的。现在我想知道是否可以*使用 necessitas*项目为**android**编译它？我想我不会对项目的 Qt+QML 部分有任何问题，但是是否可以链接像 opencv 这样的库（静态或动态）？我想我必须为 android 重新编译库！我对吗？
我有替代方案来为 android 编译这个项目吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T09:59:12.710

我认为你可以做到这一点。Qt/QML 似乎对必需品非常好，可能只需要一些小改动，但没有什么是不可能的。我自己做了几次移植，而且我总是很快就达到了目标。您当然可以链接到其他库，也许 necessitas 也提供了一种简单的方法：可能有一些工作要做（http://sourceforge.net/p/necessitas/tickets/106/）但您应该成功。

另一方面，必须为 Android 重新编译 OpenCV 是的。无论如何，我不是专家，但我记得它几乎没有依赖关系，所以你也应该成功。还可以考虑阅读：[http](http://docs.opencv.org/doc/tutorials/introduction/android_binary_package/dev_with_OCV_on_Android.html#native-c) ://docs.opencv.org/doc/tutorials/introduction/android_binary_package/dev_with_OCV_on_Android.html#native-c 。移植也可能已经完成。

# javascript - 如何知道 asp.net ajax 请求何时完成？

> ID：13428652
> 
> 赞同：0
> 
> 时间：2012-11-17T07:26:33.987
> 
> 标签：javascript, asp.net, ajax

我有一个带有按钮、标签、脚本管理器和更新面板控件的 asp.net 网络表单。当我单击按钮时，标签使用 ajax 更改。如何使用 javascript 检测标签的变化？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T07:35:32.143

您需要使用[**add_endRequest**](http://msdn.microsoft.com/en-us/library/bb383810%28v=vs.100%29.aspx)，

```
Sys.WebForms.PageRequestManager.getInstance().add_endRequest(endRequestHandler);

function endRequestHandler(sender, args)
{
     alert("ended");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T07:31:57.520

您正在使用 ajax 更改或更新某些事件的某些内容。如果它自然地改变，你的输出就会改变。如果是某种不改变输出但改变任何属性的更改，那么
1\. 安装 firebug 插件
2\. 在触发 ajax 函数时使用它。
3\. 在控制台模式下，您将看到您期望从代码中得到的任何错误更改

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:29:45.847

您可以为此目的使用更新进度。
这是更新进度的一个很好的例子

[http://www.devmanuals.com/tutorials/ms/aspdotnet/updateprogress.html](http://www.devmanuals.com/tutorials/ms/aspdotnet/updateprogress.html)

# google-maps-markers - Google Maps V3 MarkerCluster 插件按多边形坐标边界

> ID：13428656
> 
> 赞同：3
> 
> 时间：2012-11-17T07:27:07.173
> 
> 标签：google-maps-markers, markerclusterer

我无法弄清楚如何在我的地图中实现 markercluster v3。我能够让它工作，但我试图根据特定的社区和地区对标记进行聚类。我从一个 kml 文件在我的地图上创建了一个图层，该文件被分成几个社区，我希望地图标记按它们所在的社区“聚集”。我试着弄乱

[http://jsfromhell.com/math/is-point-in-poly#example-header](http://jsfromhell.com/math/is-point-in-poly#example-header)

但没有运气...

另一个问题让我发现我应该使用这种方法：

包含位置（点：LatLng，多边形：多边形）

有没有人能够做到这一点？

这是执行此操作的网站的示例：

公寓清单.com

谢谢你的帮助！

# java - tomcat 5.5 可以处理的最大并发用户数

> ID：13428669
> 
> 赞同：4
> 
> 时间：2012-11-17T07:29:52.660
> 
> 标签：java, mysql, tomcat, client-server, jmeter

我正在研究一个学术客户端/服务器项目。在服务器部分，我们使用 Tomcat 作为应用程序容器。现在我想知道当我在服务器中使用 MySQL 时，可以连接到服务器的最大并发用户数是多少。

我应该提一下，客户端只向服务器发送一个 HTTP 请求并给出返回值，所以每个用户只建立一分钟的连接。Apache JMeter 对我来说是一个不错的选择吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T07:39:19.507

不可能在这上面加上一个具体的数字。除了各种服务器端实现问题外，还取决于用户在*做什么*。

简单地“连接”到网络服务器几乎毫无意义，因为 HTTP 不依赖于打开连接的时间超过完成请求所需的时间。

> 我应该提一下，客户端只向服务器发送一个 httprequest 并给出返回值，所以每个用户只建立一分钟的连接，所以 Apache “JMeter 对我来说是一个不错的选择吗？

您似乎试图说出用户在做什么，但不幸的是，我发现描述难以理解。

JMeter 是一种用于测试您的服务器可以承受多少流量的工具。但它不会直接回答“有多少并发用户”的问题......因为没有简单的方法可以将 JMeter 生成的合成负载与*实际*用户所做的进行比较。

* * *

（旁白：你为什么使用 Tomcat 5.5 而不是 Tomcat 6 或 7？）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T07:32:31.893

这取决于许多因素，例如

1.  您的服务器配置
2.  tomcat（web.xml）的连接池大小
3.  应用架构、查询效率等

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:39:34.887

请参考：

1.  [如何增加 Apache 中的最大并发连接数？](https://stackoverflow.com/questions/3389496/how-do-you-increase-the-max-number-of-concurrent-connections-in-apache)
2.  [apache可以处理的Web服务器最大用户数？](https://stackoverflow.com/questions/10747548/web-server-maximum-number-of-users-apache-can-handle)
3.  [限制Apache2中的并发连接数](https://stackoverflow.com/questions/450606/limit-number-of-concurrent-connections-in-apache2)

堆栈溢出问题可能有更多解决方案，仅用于您对最大并发用户数的疑问。

是的，Apache JMeter 是您测试的不错选择。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T07:39:51.030

请参考此文档： http: [//tomcat.apache.org/articles/performance.pdf](http://tomcat.apache.org/articles/performance.pdf)，其中讨论了各种可扩展性参数和配置。

**在最好的情况下（理想的设置、良好的资源、最好的程序等），我会说 Tomcat 可以扩展到`10,000`并发请求。**

# visual-studio - Visual Studio 的 Windows Phone 设计器使用哪些程序集文件？

> ID：13428670
> 
> 赞同：0
> 
> 时间：2012-11-17T07:30:26.590
> 
> 标签：visual-studio, windows-phone, designer

我正在构建一个显示 Windows Phone 页面用户界面的 Windows 实用程序。Visual Studio 具有类似的设计器，可显示所选页面的 XAML 的外观。Visual Studio 的设计者必须使用一些特殊的程序集来实际呈现页面的 XAML，就像在真实设备上一样。

![Visual Studio 的 Windows Phone 设计师](../Images/59ddc06dd2670ee120f5409a640bcfc4.png)

我想使用与 Visual Studio 的设计器相同的程序集。那些组件是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T17:08:48.813

这些都是 VS 和 Blend 内部的东西。以下博客文章让您深入了解它是如何在幕后工作的：[http](http://advertboy.wordpress.com/2012/04/27/xamluipresenter-what-are-you/) : //advertboy.wordpress.com/2012/04/27/xamluipresenter-what-are-you/ 尽管不是 WP 特定的，但同样适用于电话。但是，这不支持在其他任何地方使用。

我想知道你的用例是什么？可能会有更好的支持供您使用。

# c# - 使用字符串值设置属性

> ID：13428673
> 
> 赞同：0
> 
> 时间：2012-11-17T07:31:01.893
> 
> 标签：c#, .net

我有一个类类别，其中有两个属性名称作为字符串。

并有一个使用这个类的其他类。

```
Public Class Myclass
{
      public virtual Category Category
    {
        get;
        set;
    }
} 
```

我有一个 Myclass 的对象。我想为此对象的类别属性设置字符串值。

```
Myclass cls=new Myclass();
cls.Category=// a string value 
```

这个怎么设置？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T07:39:36.977

从你的例子：

```
Public Class Myclass
{
      public virtual Category Category
    {
        get;
        set;
    }
} 
```

我想你的意思是：

```
Public Class Myclass
{
      public string Category { get; set; } // variable
      public MyClass() {}  //<- empty constructor-might be created by default .. but I like to put them in
} 
```

然后调用：

```
Myclass cls=new Myclass();
cls.Category= "text here"; 
```

看起来您的`Category`变量类型`Category`不是字符串？

除非您在某个地方已经有了要使用的类别类型。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T07:39:46.427

例如，如果这些字符串属性之一是“名称”，那么您只需将其设置为：

```
Myclass cls=new Myclass();
cls.Category = new Category();
cls.Category.Name = "CategoryName1"; 
```

请注意，调用代码`Name`必须可以*访问*`public`该属性（例如）。

或者你可以这样写：

```
Myclass cls=new Myclass();
cls.Category = new Category {Name = "CategoryName1"}; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-17T07:35:01.927

这是你的意思吗？

```
public class Category
{
   public string Name { get; set; }
   public string Description { get; set; }
}

Category myCategory = new Category();
myCategory.Category.Name = "Basketball";
myCategory.Category.Description = "Played Indoors"; 
```

**教程参考：**下面是一些例子来帮助你理解属性和类的

[教程 1](http://www.dotnetperls.com/property)

[教程 2](http://msdn.microsoft.com/en-us/library/aa288470%28v=vs.71%29.aspx)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-17T07:40:33.133

您不能将字符串值设置为非字符串字段。但是，如果您需要在类实例中使用该字符串，则可以这样编写：

```
public class MyClass
{
    public Category Category { get; set; }
}

public class Category
{
    public Category(string name)
    {
        Name = name;
    }

    public string Name { get; set; }
} 
```

然后像这样声明 MyClass 的 Category 字段：

```
var cls = new MyClass();
cls.Category = new Category("hello"); 
```

# python - Jaccard 距离 - 列表的并集和交集

> ID：13428675
> 
> 赞同：0
> 
> 时间：2012-11-17T07:31:19.207
> 
> 标签：python, union, intersection

我正在使用 Jaccard 距离实现层次聚类。我试图找到 Jaccard 的交易以二进制表示。例如：

`t1=['0','1','1','0','1']`

`t2=['1','0','1','0','0']`.

我查看了[这个 SO question](https://stackoverflow.com/questions/4378658/jaccard-distance)，这与我想要的非常相似，但我没有得到正确的答案。

基本上这就是我要找的：
1\. 找到上述 2 个列表的交集和并集。

除了查看许多其他在线资源之外，我还尝试了以下方法：

```
1\. s1=sets.Set(['0','1','1','0','1'])
   s2=sets.Set(['1','0','1','0','0'])  
2\. s1.intersection(s2)  ---> Set(['1', '0'])  
   s1.union(s2)         ---> Set(['1', '0'])  
3\. Set(s1) & Set(s2)      ---> TypeError: unsupported operand type(s) for /: 'Set' and 'Set'

   Set(s1) | Set(s2) 
```

请指导我。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T09:00:44.330

如你所说：

```
s1=sets.Set(['0','1','1','0','1']) 
```

让我们检查一下 s1：

```
print s1
---->Set(['1', '0']) 
```

*sets模块提供了用于构造和操作***独特**元素的无序集合的类。所以，你的 s1 和 s2 实际上是一样的。

# javascript - toLocaleString() 在不同浏览器中的行为不一致

> ID：13428678
> 
> 赞同：11
> 
> 时间：2012-11-17T07:32:11.333
> 
> 标签：javascript, jquery, datetime, multiple-browsers

我正在做一个项目，我必须处理很多日期和时间。服务器端技术是 ASP.Net，在客户端我使用 jQuery 和 jQuery Week Calendar（一个 jQuery 插件）。

所以这里是描述的问题，我从服务器接收数据时间，类似这样`2012-11-13T04:45:00.00`的 GMT 格式。

现在在客户端，我希望将此日期时间转换为区域设置日期时间格式，就像任何可能是 IST、EST、PKT 等一样。

为此，我使用了 JavaScript 方法`toLocaleString()`。这仅在 Chrome 中运行良好，在其他浏览器中运行不一致。

以下是它在不同浏览器中的输出：

**谷歌浏览器（工作正常）：**

称呼：

```
new Date ("2012-11-13T04:45:00.00").toLocaleString(); 
```

输出：

```
Tue Nov 13 2012 10:15:00 GMT+0530 (India Standard Time) 
```

**火狐浏览器：**

称呼：

```
new Date ("2012-11-13T04:45:00.00").toLocaleString(); 
```

输出：

```
Tuesday, November 13, 2012 4:45:00 AM 
```

**苹果浏览器：**

称呼：

```
new Date ("2012-11-13T04:45:00.00").toLocaleString(); 
```

输出：

```
Invalid Date 
```

**IE浏览器：**

称呼：

```
new Date ("2012-11-13T04:45:00.00").toLocaleString(); 
```

输出：

```
Tuesday, November 13, 2012 4:45:00 AM 
```

现在这些是我测试的浏览器。

这是**问题**：

**`2012-11-13T04:45:00.00`无论使用哪个浏览器客户端，我都需要一种将数据时间（具有这样的格式）转换为区域设置日期和时间的方法。**

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-21T21:30:00.013

最简洁的答案是不。toLocaleString 可以按照开发人员的意愿实现。你的问题意味着 Chrome 输出*你想要的字符串*。

如果您想始终如一地输出该格式，则需要使用单独的库 - 例如[DateJS](https://github.com/abritinthebay/datejs/)。

要使用 DateJS 执行此操作，需要 core.js 中提供一些标准格式说明符，以及一些仅在 extras.js 中可用的说明符。该文档有一个[所有格式说明符](https://github.com/abritinthebay/datejs/wiki/Format-Specifiers)的列表。

你想要的字符串是：

```
Tue Nov 13 2012 10:15:00 GMT+0530 (India Standard Time) 
```

所以要从 DateJS 得到这个，你需要：

```
"D M d Y H:i:s \G\M\TO (e)" 
```

DateJS 的语法是：

```
new Date ("2012-11-13T04:45:00.00").format("D M d Y H:i:s \G\M\TO (e)"); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-23T11:05:23.203

我强烈建议使用[Globalize](https://github.com/jquery/globalize)来设置日期和时间格式，而不是使用`toLocaleString()`which is outdated 并且未正确***实现所有 Web 浏览器。***

然后要在客户端格式化日期，您所要做的就是分配有效的文化并简单地调用 format 函数：

```
Globalize.culture(theCulture);
Globalize.format( new Date(2012, 1, 20), 'd' ); // short date format
Globalize.format( new Date(2012, 1, 20), 'D' ); // long date format 
```

很简单，不是吗？好吧，您还必须将它与您的 ASP.Net 应用程序集成，这会使事情变得有点复杂。首先，您需要以常规方式引用 globalize.js：

```
<script type="text/javascript" src="path_to/globalize.js"></script> 
```

然后最好包含正确的文化定义，这是您在格式化时需要使用的定义：

```
<script type="text/javscript" src="path_to/cultures/globalize.culture.<% = CultureInfo.CurrentCulture.ToString() %>.js"></script> 
```

最后，您需要`theCulture`在使用之前设置变量：

```
<script type="text/javscript">
    var theCulture = <% = CultureInfo.CurrentCulture.ToString() %>
</script> 
```

当然，更优雅的方法是在代码隐藏中创建一个属性或方法，为您写下适当的脚本，然后仅引用该方法，例如：

```
public string IntegrateGlobalize(string pathToLibrary)
{
  var sb = new StringBuilder();
  sb.Append("<script type=\"text/javascript\" src=\"");
  sb.Append(pathToLibrary);
  sb.AppendLine("/globalize.js\"></script>");
  sb.Append("<script type=\"text/javascript\" src=\"");
  sb.Append(pathToLibrary);
  sb.AppendLine("/cultures/globalize.culture.");
  sb.Append(CultureInfo.CurrentCulture);
  sb.AppendLine(\"></script>");
  sb.Append("<script type=\"text/javascript\">");
  sb.Append("var theCulture = ");
  sb.Append(CultureInfo.CurrentCulture);
  sb.AppendLine(";</script>");

  return sb.ToString();
} 
```

那么您所要做的就是在（主？）页头中引用此方法：

```
<head>
  <% = IntegrateGlobalize("path_to_globalize") %>
  ...
</head> 
```

### 一些问题

如果您想 100% 正确执行此操作，则需要增强 Globalize 文化生成器以包含`'g'`格式开关，然后在客户端使用此确切开关来格式化日期：

```
Globalize.format( new Date(2012, 1, 20), 'g' ); // default date format 
```

这是为什么？因为 'g' 是默认的日期格式。这就是当您简单地调用不带参数`DateTime`的 '`ToString()`方法时会得到的（这将意味着`CultureInfo.CurrentCulture`作为唯一的参数......）。默认格式是最好的，它可以是短的或长的，或者任何其他格式，但这是使用这种文化的人最常用的格式。

我说这`toLocaleString()`对所有网络浏览器都是错误的。这是为什么？那是因为它将使用 Web 浏览器设置，而不是服务器端检测到的文化。这意味着，您可能在同一个网页中混合了不同的文化。如果您的某些日期在服务器端格式化而其他日期在客户端格式化，则可能会发生这种情况。这就是为什么我们需要从服务器端传递（检测到的）文化。
顺便提一句。如果您决定将区域首选项对话框包含到您的 Web 应用程序中，则不匹配会更加明显，因为`toLocaleString()`不会遵循用户设置...

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-19T15:41:16.130

要将时间转换为服务器上特定于语言环境的字符串，可以使用[DateTime.ToLongDateString](http://msdn.microsoft.com/en-us/library/system.datetime.tolongdatestring.aspx)方法。[在该页面上，请参阅有关DateTimeFormatInfo](http://msdn.microsoft.com/en-us/library/system.globalization.datetimeformatinfo.aspx)类的“当前文化对象”（在服务器上）的注释。确保设置正确。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-11-23T20:35:58.877

任何答案都没有解决这个问题的根本原因。OP说：

> 我正在从服务器接收类似`2012-11-13T04:45:00.00`GMT 格式的数据时间。

GMT 不是一种格式。此字符串采用 ISO 8601 扩展格式，未指定任何时区。ISO 8601 规范说，如果没有限定符，这旨在表示*local time*。要指定 GMT，您可以`Z`在末尾附加一个，或者您可以附加一个偏移量，例如`+00:00`.

问题是，ECMAScript (v1 - v5.1) 没有遵守规范中的这一规定。它实际上说应该解释为UTC而不是本地时间。一些浏览器尊重 ISO 规范，一些尊重 ECMA 规范。这已针对版本 6 进行了更正，并且大多数浏览器都已遵守。

所以 - 如果您打算传输基于 UTC/GMT 的时间戳，那么在服务器端，您应该始终发送 a`Z`这样就不会有歧义。

尽管如此，即使该*值*被正确解释，也不能保证字符串在浏览器中的格式相同。为此，您确实需要一个库。我推荐[moment.js](http://momentjs.com)，但还有其他的。

# opencv - OPENCV 中的 cvtype 值有什么区别？

> ID：13428689
> 
> 赞同：32
> 
> 时间：2012-11-17T07:34:36.610
> 
> 标签：opencv

我尝试了很多常量值，但我找不到 cvtype 值之间的任何区别。这有什么用途？我尝试了 和 之类`CV_8UC4`的值`CV_16S`。我没有在参考资料中找到此信息。

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-11-17T08:43:47.973

类型的命名方案是`CV_<bit-depth>{U|S|F}C<number_of_channels>`.

因此`CV_8UC4`转换为：四个通道的无符号字符并`CV_16S`转换为：1 个带符号的 2 字节整数通道。

当然，该主题在文档中处理。[在这里](http://docs.opencv.org/modules/core/doc/basic_structures.html)您可以找到更多信息。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2016-04-22T05:10:16.897

CV_8U - 8 位无符号整数 (0..255)

CV_8S - 8 位有符号整数 (-128..127)

CV_16U - 16 位无符号整数 (0..65535)

CV_16S - 16 位有符号整数 (-32768..32767)

CV_32S - 32 位有符号整数 (-2147483648..2147483647)

CV_32F - 32 位浮点数（-FLT_MAX..FLT_MAX, INF, NAN）

CV_64F - 64 位浮点数（-DBL_MAX..DBL_MAX, INF, NAN）

* * *

8 位无符号整数 (uchar)

8 位有符号整数 (schar)

16 位无符号整数 (ushort)

16 位有符号整数（短）

32 位有符号整数 (int)

32 位浮点数 (float)

64 位浮点数（双精度）

枚举 { CV_8U=0, CV_8S=1, CV_16U=2, CV_16S=3, CV_32S=4, CV_32F=5, CV_64F=6 };

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2019-01-21T23:17:37.120

为了完成 Farshid PirahanSiah 的回答，

**OpenCV中类型到数字的映射：** [表格格式](https://i.stack.imgur.com/2LnI7.png)

* * *

或长文本：

> 无符号 8bits uchar 0~255

```
Mat: CV_8UC1, CV_8UC2, CV_8UC3, CV_8UC4 
```

> 有符号 8bits char -128~127

```
Mat: CV_8SC1，CV_8SC2，CV_8SC3，CV_8SC4 
```

> 无符号 16bits ushort 0~65535

```
Mat: CV_16UC1，CV_16UC2，CV_16UC3，CV_16UC4 
```

> 有符号 16 位短 -32768~32767

```
Mat: CV_16SC1，CV_16SC2，CV_16SC3，CV_16SC4 
```

> 带符号的 32 位整数 -2147483648~2147483647

```
Mat: CV_32SC1，CV_32SC2，CV_32SC3，CV_32SC4 
```

> 浮点 32 位浮点 -1.18*10-38~3.40*10-38

```
Mat: CV_32FC1，CV_32FC2，CV_32FC3，CV_32FC4 
```

> 双64位双

```
Mat: CV_64FC1，CV_64FC2，CV_64FC3，CV_64FC4 
```

# javascript - Javascript类和函数调用的分解

> ID：13428690
> 
> 赞同：0
> 
> 时间：2012-11-17T07:34:49.033
> 
> 标签：javascript, oop

我正在创建一个类来将整数转换为自然语言中的句子。我正在进行一些基本检查，以确保给定的数字在 -9999 和 9999 之间。我觉得这在大多数情况下都有效。

但是，一旦程序到达“this.convertSentence”——通过 try/catch 块和错误检查，我想知道现在最好的做法是将问题分解为需要运行的各种函数调用以获得任务完成。

我打算用 this.convertSentence 做一些检查数字大小等......然后将数字发送到单独的函数以做更多工作并让它们传播一个句子以返回。我不确定我是否想要在我的班级中使用一个变量，或者我是否应该传递一个变量来构建句子。我想知道这样的事情。

```
/**
*   A class for converting an integer to a natrual language sentence in Spanish.
*   Accepts integers from -9999 to 9999
*
*/
function NumberToWord () {

    this.getSentence = function(number) {

        // Check for erroneous input. Accepts only -9999 thru 9999 integers
        try
        {
            if(number === parseInt(number) && number > -10000 && number < 10000) {
                return this.convertSentence(number);
            } 
            else {
                throw new Error("Argument is not an integer between -9999 and 9999");
            }
        }
        catch(e){
            console.log(e.name + " " + e.message);
        }

    };

    this.convertSentence = function(number) {
        return "This is where I'll start the logic for the sentence";
    };

}

var numberToWord = new NumberToWord();

// Tests
console.log(numberToWord.getSentence(9999));
console.log(numberToWord.getSentence(-9999));
console.log(numberToWord.getSentence(10000));
console.log(numberToWord.getSentence(-10000));
console.log(numberToWord.getSentence(0));
console.log(numberToWord.getSentence(1.1));
console.log(numberToWord.getSentence(-9999.1));
console.log(numberToWord.getSentence(10001));
console.log(numberToWord.getSentence(-10001));
console.log(numberToWord.getSentence(5.5));
console.log(numberToWord.getSentence()); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:36:18.353

There are a few things I found amiss in your code:

1.  You don't need a class. You simply want to convert a number to a sentence. Use a function.
2.  Why are both `getSentence` and `convertSentence` public? Only `getSentence` should be public.
3.  Since your class will (in all probability) only be instatiated once, use the [singleton pattern](https://stackoverflow.com/q/1635800/783743 "Javascript: best Singleton pattern - Stack Overflow").

Things I would do:

1.  Because you want to make your code modular, I would use the [module pattern](http://briancray.com/posts/javascript-module-pattern "Javascript module pattern: When to use it and why").
2.  You can delegate specific tasks to different functions, but keep them in a private namespace.

Here's the code:

```
Number.prototype.toWord = function () {
    return function (lang) {
        var number = this.valueOf();

        if (parseInt(number) === number) {
            if (number < 10000 && number > 10000) {
                switch (lang) {
                case "es":
                    return toSpanish(number);
                case "en":
                default:
                    return toEnglish(number);                        
                }
            } else throw new RangeError("Expected an integer between ±10000.");
        } else throw new TypeError("Expected an integer.");
    };

    function toSpanish(number) {
        // convert the number to Spanish
    }

    function toEnglish(number) {
        // convert the number to English
    }
}(); 
```

Then you can use it like this:

```
var number = 1337;
alert(number.toWord("es")); 
```

**Edit:** I wrote a simple function which will do what you want. However it's in English. I don't know Spanish so you'll have to implement that yourself. Here's the demo: [http://jsfiddle.net/XKYhx/2/](http://jsfiddle.net/XKYhx/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T08:24:52.547

我的想法是检查句子中有多少部分并构建一个数组以与子字符串匹配。例如，无论如何用英语（我不会说西班牙语！）

作为自然语言，您会说（减去）xxx 千和 xxx，因为您的数字的最大/最小为 ~10000 / ~-10000，在伪代码中：

```
 var sign = ""
    var wholeparts = new Array()
    var mantissaparts = new Array()
      if number < 0, 
      sign = "minus"
      number = math.abs(number) // turn the number into a positive number now we have the      sign
    var whole = math.floor(number) //get whole number 
    var mantissa = number - whole //get the after decimal part if exists
    if whole > 1000
      wholeparts.push(math.floor(whole/1000)) //get the thousands part 
      wholeparts.push(whole - parts[0]*1000) // add the hundreds
    else
      parts.push(whole)

 if mantissa.length > 0
   do something similar for the mantissa to the mantissaparts array.

At this point you would have the sentence structure broken down then:

string sentance:
 foreach (var part in wholeparts)
 stringify and check each number, converting to human words depending on index, ie "seven" or "seventy", add each to the string. 
  if wholeparts.length > 1 : sentence = sentence + " thousand and"

then if you had a mantissa, sentence = sentence + "point" .. then and the mantissa as natural language. 
```

我能想到的最佳细分是：

*   将数字（整数或尾数）转换为数组的方法，
*   将数组转换为自然语言的方法，并带有一个参数，说明它将使用的不同措辞是整数还是尾数。
*   接受字符串形式的数字并返回自然语言等价物的方法

希望有帮助..正在思考。

# c++ - 如果禁用多播环回，您可以在同一个多播组上发送和接收吗？

> ID：13428695
> 
> 赞同：1
> 
> 时间：2012-11-17T07:35:35.810
> 
> 标签：c++, multicast

想象有 process`A`和 processes `B`and `C`，我希望它们都将消息多播到`X.Y.Z.W`port上的组`P`，并`A`同时监听该组上的这些消息。是否可以`A`接收来自`B`和`C`不接收自己的消息？换句话说，如果我禁用环回（为了`A`不接收它正在多播的消息）它是否仍会接收来自它的消息`B`，`C`或者这是否会有效地导致它甚至不再监听`X.Y.Z.W`端口`P`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-18T12:35:39.883

是的，它会像你描述的那样工作。我们在 RSP[1] 中以与任意可靠多播完全相同的方式使用它。

[1] [http://www.equalizergraphics.com/documents/design/multicast.html#RSP](http://www.equalizergraphics.com/documents/design/multicast.html#RSP)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T07:57:57.863

从我从文档中可以看出，该`IP_MULTICAST_LOOP`选项在主机级别运行，而不是单个套接字。因此，如果禁用它，发送主机上的任何进程都不会收到多播数据包；如果启用它，发送主机上的所有进程都会收到它。

A 可以做的是检查它收到的数据包的源 IP 和端口。如果它们匹配其发送套接字的本地 IP 和端口，它应该忽略它们。

# java - 使用 Java 将 HTML 转换为带有特殊字符的 PDF

> ID：13428704
> 
> 赞同：1
> 
> 时间：2012-11-17T07:37:20.303
> 
> 标签：java, itext, flying-saucer, html-to-pdf

我正在使用带有**iText 2.1.7的**[飞碟](http://code.google.com/p/flying-saucer/)来转换. 它工作正常，但是当 html 中有一些中文、韩文等字符时会出现问题。**`html to pdf`**

 **我的 PDF 中出现了意想不到的字符，而不是正常的中文字符

我发现[这个问题](http://code.google.com/p/flying-saucer/issues/detail?id=211)打开了，所以我认为目前没有办法让飞碟正确呈现 PDF？

PS：我也发现[了这个问题](http://code.google.com/p/flying-saucer/issues/detail?id=91)，但我无法理解他们提供的解决方案。

这是我正在使用的代码

```
String doc = file.toURI().toURL().toString();
ITextRenderer renderer = new ITextRenderer();
renderer.getFontResolver().addFont (
    "C:\\ARIALUNI.TTF",
     BaseFont.IDENTITY_H,
     BaseFont.EMBEDDED
);
renderer.setDocument(doc);
String outputFile = "report.pdf";
OutputStream os = new FileOutputStream(outputFile);

renderer.layout();
renderer.createPDF(os);
os.flush();
os.close(); 
```

其中**file**是我要转换的 html。

还有其他方法或图书馆可以做同样的事情吗？

这是我正在使用的 CSS

```
@font-face {
  font-family: "Arial";
  src: url("media/arialuni.ttf");
 -fs-pdf-font-embed: embed;
 -fs-pdf-font-encoding: Identity-H; 
} 
```

我需要转换的[HTML 文件](https://gist.github.com/4109733)

[这些](https://dl.dropbox.com/u/99923120/flying%20saurcer%20jars.rar)是与 itext 2.1..x 兼容的重新编译的飞碟 jar

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T10:26:22.587

您的字体可能未嵌入 PDF 文件中。（[如何知道 PDF 文件中的字体是否嵌入？](https://superuser.com/questions/140613/how-do-i-know-if-the-fonts-in-a-pdf-file-are-embedded-or-not)）

每个字体都有一个名称，ARIALUNI.TTF 定义了 Arial Unicode MS，你应该使用它。

所以改变这个：

```
@font-face {
    font-family: Arial1;
    src: url("arialuni.ttf");
    -fs-pdf-font-embed: embed;
    -fs-pdf-font-encoding: Identity-H;
}

* {
        font-family: Arial1;
} 
```

对此：

```
@font-face {
    font-family: Arial Unicode MS;
    src: url("arialuni.ttf");
    -fs-pdf-font-embed: embed;
    -fs-pdf-font-encoding: Identity-H;
}

* {
        font-family: Arial Unicode MS;
} 
```

这样字体将被嵌入。

而且你不需要打电话`renderer.getFontResolver().addFont`，css就足够了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T07:29:36.757

试试这个：

`font.addFont(Html2Pdfs.class.getResource("SIMSUN.TTC").toString().substring(6),BaseFont.IDENTITY_H,BaseFont.NOT_EMBEDDED)`**

# ios - iOS：WebView背景颜色透明

> ID：13428706
> 
> 赞同：3
> 
> 时间：2012-11-17T07:38:10.787
> 
> 标签：ios, ios5, uiwebview, transparency, background-color

我想要的是将 webview 的背景颜色设置为透明。

下面是我用于 webview 的代码。

```
NSString *embedHTML = [NSString stringWithFormat:@"<html><body style=\"background-color: transparent;font-family: verdana;\"><h3>About US</h3></BODY></HTML>"];
[webView loadHTMLString:embedHTML baseURL:nil]; 
```

但是，当我使用它时，我仍然看到背景颜色为白色。知道如何使颜色透明吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-17T07:50:39.073

这就是它应该采取的一切，

```
[webView setBackgroundColor:[UIColor clearColor]];
[webView setOpaque:NO]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T07:49:51.423

只需添加这一行。

```
webView.opaque=NO; 
```

# javascript - 使用扩展程序的 init 将 CSS 文件添加到页面

> ID：13428707
> 
> 赞同：0
> 
> 时间：2012-11-17T07:38:11.607
> 
> 标签：javascript, firefox-addon, onload, dom-events

我正在阅读[本教程](https://blog.mozilla.org/addons/2009/01/28/how-to-develop-a-firefox-extension/)

这就是 CSS 文件的加载方式：

```
var linkTargetFinder = function () {
    return {
        init : function () {
            gBrowser.addEventListener("load", function () {     
                // ...
                }
            }, false);
        },

        run : function () {

            var head = content.document.getElementsByTagName("head")[0],
            style = content.document.getElementById("link-target-finder-style")

            if (!style) {
                style = content.document.createElement("link");
                style.id = "link-target-finder-style";
                style.type = "text/css";
                style.rel = "stylesheet";
                style.href = "chrome://linktargetfinder/skin/skin.css";
                head.appendChild(style);
            }
            // ...
        }
    };
}();
window.addEventListener("load", linkTargetFinder.init, false); 
```

我不明白为什么不能将 CSS 文件注入到页面中`init`：

```
var linkTargetFinder = function () {
    return {
        init : function () {
            gBrowser.addEventListener("load", function () {
                var head = content.document.getElementsByTagName("head")[0]

                style = content.document.createElement("link");
                style.id = "link-target-finder-style";
                style.type = "text/css";
                style.rel = "stylesheet";
                style.href = "chrome://linktargetfinder/skin/skin.css";
                head.appendChild(style);

                // ...
                }
            }, false);
        },

        run : function () {
            // ...
        }
    };
}();
window.addEventListener("load", linkTargetFinder.init, false); 
```

样式在这种情况下不起作用。
为什么不能放进去`init`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-19T17:06:53.820

看起来很合理，但对于`gBrowser`事件使用`DOMContentLoaded`不是`load`。

# python - 使 Flask-Login 的 login_required 成为默认值的最佳方法

> ID：13428708
> 
> 赞同：32
> 
> 时间：2012-11-17T07:38:15.043
> 
> 标签：python, flask

喜欢这个问题：[让 Django 的 login_required 成为默认值的最佳方式](https://stackoverflow.com/questions/2164069/best-way-to-make-djangos-login-required-the-default)

我现在正在使用`Flask-Login`'s [login_required](http://packages.python.org/Flask-Login/#flaskext.login.login_required)装饰器。有没有让它成为默认行为`Flask`？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-11-19T09:48:43.983

我在我的[仪器](https://github.com/MalphasWats/instruments)项目中做到了这一点。我使用`before_request`装饰器：

```
@app.before_request
def check_valid_login():
    login_valid = 'user' in session # or whatever you use to check valid login

    if (request.endpoint and 
        'static' not in request.endpoint and 
        not login_valid and 
        not getattr(app.view_functions[request.endpoint], 'is_public', False) ) :
        return render_template('login.html', next=request.endpoint) 
```

然后我`is_public()`为几个无需登录即可访问的地方创建了一个装饰器：

```
def public_endpoint(function):
    function.is_public = True
    return function 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2014-09-12T08:43:15.830

如果您正在使用蓝图并且需要通过登录来保护整个蓝图，您可以将整个蓝图设置`before_request`为需要登录。

这是我用于 CMS 蓝图的内容：

```
@cms.before_request
@login_required
def before_request():
    if g.user.role != ROLE_ADMIN:
        abort(401) 
```

如果您只需要检查用户是否已登录（而不是用户是否有权限），您可以简单地`pass`使用该功能

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2018-09-29T20:34:39.603

这是@MalphasWats 已经很好的答案的后续（*有点pythonic，但有争议）。*

还包括@nonagon 建议的**重要安全修复。**

漏洞解释`'static' in request.endpoint`：

想象一下，有一条用户可以通过某种方式定义的路线，例如个人资料链接。

如果用户设置他的名字让我们说静态乔，那么：

`"Static Joe" --slugifys--> /usr/profiles/static_joe`.

这样就可以公开这条路线。这只是自找麻烦。

* * *

这是在每个请求处理之前附加的路由保护功能：

```
@app.before_request
def check_route_access():
    if any([request.endpoint.startswith('static/'),
            current_user.is_authenticated,  # From Flask-Login
            getattr(app.view_functions[request.endpoint],'is_public',False)]):
        return  # Access granted
    else:
        return redirect(url_for('users.login_page')) 
```

（*[Flask-Login](https://flask-login.readthedocs.io/en/latest/)是一个优秀的模块，让会话处理变得轻而易举*）

这是装饰器（@public_route），您可以使用它来允许访问默认情况下需要公共访问的特殊页面。（注册页面、登录页面）：

```
def public_route(decorated_function):
    decorated_function.is_public = True
    return decorated_function 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-07-13T16:06:17.777

我必须保护一个 REST API，我最终解决了这个问题：

```
@app.before_request
@auth.login_required
def login_required_for_all_request():    
    pass 
```

（实际上我也使用了连接框架，所以我不得不使用：@app.app.before_request）

# vb.net - 如何从网格视图操作 SQL Server 数据库（VB.NET 中的表单应用程序）

> ID：13428710
> 
> 赞同：-1
> 
> 时间：2012-11-17T07:38:30.060
> 
> 标签：vb.net

我需要从网格视图控制数据库。

在另一篇文章中，我必须了解如何操作数据库，但仍然使用文本框和按钮进行下一个过程。就我而言，我需要从网格视图中控制数据，所以请告诉我您是否有解决此问题的方法。

规格：

*   申请表
*   视觉基本.NET 2010
*   SQL Server 数据库

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T08:03:21.467

在线快速搜索发现：[链接](http://www.codeproject.com/Questions/395019/how-to-use-grid-view-with-vb-net)。下面是该链接中的示例代码，展示了如何显示数据。

如果您想做 CRUD，请查看[此处](http://msdn.microsoft.com/en-us/library/fbk67b6z.aspx)的 Microsoft 示例。

```
Imports System.Data.OleDb
Public Class Form1
    Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
        Dim connectionString As String = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source="Your .mdb path";"
        Dim sql As String = "SELECT * FROM Authors"
        Dim connection As New OleDbConnection(connectionString)
        Dim dataadapter As New OleDbDataAdapter(sql, connection)
        Dim ds As New DataSet()
        connection.Open()
        dataadapter.Fill(ds, "Authors_table")
        connection.Close()
        DataGridView1.DataSource = ds
        DataGridView1.DataMember = "Authors_table"
    End Sub
End Class 
```

# shopify - Shopify 结帐 api 不起作用

> ID：13428711
> 
> 赞同：2
> 
> 时间：2012-11-17T07:38:42.217
> 
> 标签：shopify

似乎结帐API不起作用..

检查浏览器 (https://< store name >/admin/checkouts.json) 并返回错误 ({"errors": "Error"})

还通过 gem shopify_api （版本 3.0.3）检查

*   ShopifyAPI::Order.count: 给我订单数量
*   ShopifyAPI::Order.all: 给我订单
*   ShopifyAPI::Checkout.count：给出错误（ActiveResource::ResourceNotFound：失败。响应代码 = 404。响应消息 = 未找到。）
*   ShopifyAPI::Checkout.all：给出错误（ActiveResource::ServerError：失败。响应代码 = 500。响应消息 = 内部服务器错误。）

我正在使用 Ruby 1.9.2 / Rails 3.2.6。

感谢和问候 Sumit Garg

# network-programming - 通过无线网络的客户端服务器

> ID：13428712
> 
> 赞同：0
> 
> 时间：2012-11-17T07:39:05.893
> 
> 标签：network-programming, visual-studio-2012, client-server, ip

是否可以设置一个简单的客户端服务器应用程序以在两台计算机之间的 LAN 情况下通过无线网络发送文本和其他数据，而无需设置任何网络共享？只知道IP地址？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T07:49:17.743

是的。WiFi 就像任何其他网络一样，您可以在其上使用 TCP/IP 来实现您喜欢的任何网络协议。

# line - 如何将产品品牌放在销售订单行中？

> ID：13428713
> 
> 赞同：2
> 
> 时间：2012-11-17T07:39:09.953
> 
> 标签：line, odoo, openerp-6

我为 OpenERP 6.1 安装了[`product_brand`](http://apps.openerp.com/addon/2507?filter=%7B%22order_by%22%3A+%22click_counter+desc%22%2C+%22text_search%22%3A+%22product_brand%22%7D&page=0)模块。

通过Web客户端，我设法通过插入`product_brand_id`字段通过调试（开发人员）模式继承product.product.tree视图在产品列表页面中显示产品品牌。

现在我希望产品品牌名称显示在`sale.order.line.tree`销售订单的视图中。

我注意到它们是不同的型号，一个是`product.product`，另一个是`sale.order.line`。是否可以在 OpenERP 中显示其他模型的字段？

如何跨相关（不同）模型引用字段名称？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T13:36:26.947

它可以使用相关领域。首先您需要继承销售订单模型并为产品品牌id添加相关字段例如：

```
from osv import osv, fields
class sale_order_line(osv.osv):
    _inherit = 'sale.order.line'
    _columns = {
        'brand_id': fields.related('product_id','product_brand_id',string='Brand',type='many2one',relation='product.brand')
    }
sale_order_line() 
```

然后需要继承销售订单视图。销售订单行树和表单视图在销售订单视图中指定。所以使用 xpath 继承销售订单表单视图。例如：

```
<?xml version="1.0" encoding="utf-8"?>
  <openerp>
    <data>
      <record model="ir.ui.view" id="view_order_inherited_brand">
        <field name="name">sale.order.brand</field>
        <field name="type">form</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form" />
        <field name="arch" type="xml">
          <xpath expr="//field[@name='order_line']/tree/field[@name='name']" position="after">
              <field name='brand_id'/>
          </xpath>
        </field>
      </record>
  </data>
</openerp> 
```

# mysql - 无法在 mysql 系统表上创建触发器

> ID：13428715
> 
> 赞同：-1
> 
> 时间：2012-11-17T07:39:09.830
> 
> 标签：mysql, triggers, system

> **可能重复：**
> [mysql：我们不能在系统表上创建触发器吗？](https://stackoverflow.com/questions/10346546/mysql-cant-we-create-triggers-on-system-tables)

我们正在使用`MySQL`ver `5.1.59`on `rhel 6.1 (64 bit)`。我们要监视数据库的删除，并为此尝试在`mysql`数据库的 db 表上创建触发器。我们`trigger`通过登录来创建`root user`. 编写的触发器如下：

分隔符 |

```
CREATE
    /*[DEFINER = { user | CURRENT_USER }]*/
    TRIGGER `mysql`.`test` BEFORE DELETE
    ON `mysql`.`db`
    FOR EACH ROW BEGIN
    INSERT INTO cescnet.db_monitor (DB_name,user_name,dateandtime,operation_type) VALUES (mysql.db.Db,CURRENT_USER(),NOW(),'Delete');
    END;| 
```

但是我们得到了错误：

> 错误代码：1465
> 
> 无法在系统表上创建触发器

当我们以 root 用户身份工作时，我们认为我们拥有系统的所有权限。来自任何主机（包括本地主机）的 root 用户的全局权限包括 SUPER 权限。任何人都可以帮助我们吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T07:49:39.243

我将大胆猜测并说您收到该错误消息的原因是无法在系统表上创建触发器。

哦，也许我可以添加“不分特权”

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-17T11:07:30.390

总之：你做不到。

我也尝试过类似的东西

[查看 mySql 提供的（全部）和（超级）权限](http://dev.mysql.com/doc/refman/4.1/en/privileges-provided.html)

在尝试了所有类型的特权后

```
grant super on *.* to root@localhost
grant all on *.* to root@localhost 
```

我试过最简单的触发器并得到同样的错误

```
Triggers can not be created on system tables 
```

如果您发现可以在系统表上创建触发器的任何地方，那就错了

# android - 获取用于锁定设备的设备密码

> ID：13428725
> 
> 赞同：0
> 
> 时间：2012-11-17T07:40:05.583
> 
> 标签：android

如何获取用于以编程方式锁定设备的设备密码。

是否有可能`android`获取该密码？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-17T07:45:14.900

我很确定，由于 Android 的安全性，您无法获取任何用于锁定设备的信息。否则，任何应用程序都可能“破坏”用于锁定智能手机/平板电脑的安全防火墙。

**2014 年 10 月 1 日更新**

在有根手机上，这可以获取 Android 智能手机的 pin 和密码锁定。

如果您处理的是已root的智能手机并启用了USB调试，则破解模式锁非常简单。您只需转储文件 /data/system/password.key 和 salt，它存储在 lockscreen.password_salt 键下的 SQLite 数据库中。对应的数据库可以在 /data/data/com.android.providers.settings/databases 中找到，名为 settings.db（见下图）。获得这两个信息后，您只需要开始暴力破解密码即可。

# java - 与预期的 VariableDeclaratorId 有关的 MouseListener 错误

> ID：13428731
> 
> 赞同：0
> 
> 时间：2012-11-17T07:40:45.067
> 
> 标签：java, swing, mouseevent, mouselistener, variable-declaration

我正在使用 Swing 做一个简单的 Java GUI 应用程序，我试图让我的 JList 通过 MouseListener 类响应双击。我的相关代码如下：

```
MouseListener mouseListener = new MouseAdapter(itemList) {
    public void mouseClicked(MouseEvent mouseEvent) {
        if (mouseEvent.getClickCount() == 2) {
            int index = itemList.locationToIndex(mouseEvent.getPoint());
            System.out.println(index);
        }
    }
};
itemList.addMouseListener(mouseListener);
} 
```

但是，在 itemList 之后的期间，我收到一条错误消息，提示“令牌上的语法错误，错误的构造”，并且在（mouseListener）上，我看到“令牌 mouseListener 上的语法错误，此令牌后预期的 VariableDeclaratorId。问题是我看到了这个完全相同的代码是实现 MouseListeners 的简单方法，但我似乎无法找到以前见过这个问题的其他人。谁能提供关于为什么这个问题持续存在的见解？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:48:10.040

[`MouseAdapter`](http://docs.oracle.com/javase/7/docs/api/java/awt/event/MouseAdapter.html)只有一个无参数的构造函数。

```
MouseListener mouseListener = new MouseAdapter(){

    //override the methods

}; 
```

# youtube - Youtube API：无法从用户的活动提要中获取喜欢的视频

> ID：13428732
> 
> 赞同：8
> 
> 时间：2012-11-17T07:41:01.913
> 
> 标签：youtube, youtube-api

Youtube API (v2) 不支持喜欢的视频是一个已知问题 - [http://www.youtube.com/my_liked_videos](http://www.youtube.com/my_liked_videos)（不是[http://www.youtube.com/my_favorites](http://www.youtube.com/my_favorites)）。诀窍是使用事件 API 来处理用户最近的活动，并过滤掉 yt:rating.value = like 的活动。但是，当我点击此端点[https://gdata.youtube.com/feeds/api/users/default/events?inline=true](https://gdata.youtube.com/feeds/api/users/default/events?inline=true)（具有适当的授权标头）时，我只得到最后 24 个事件，并且它们都是' X 上传了一个视频类型。有没有人经历过这个并弄清楚出了什么问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-19T22:00:36.300

在 API 的 v3 中，您可以毫不费力地获得喜欢的视频。我认为在 v2 中没有解决方法。

在 v3 中，`channels.list(part=contentDetails)`调用以获取“喜欢”播放列表 id，然后`playlistItems.list()`调用以获取该播放列表的内容，即已被喜欢的视频。

# android - 无法签署黑莓安卓应用程序：服务器响应不包含版本

> ID：13428735
> 
> 赞同：1
> 
> 时间：2012-11-17T07:42:27.467
> 
> 标签：android, code-signing, blackberry-10, blackberry-android

我正在尝试签署我的 Blackberry Android（移植）应用程序以发布到 App World，但我无法让该工具正常工作。我试过eclipse插件、命令行工具和在线工具，但没有一个能用。eclipse插件和命令行工具只是说：

```
Error: Server response did not contain version. 
```

在线工具说：

```
This APK was already packaged and signed, please update the APK’s version number to package again 
```

即使我以前从未成功打包过它。有没有人可以解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T22:49:08.030

解决了！事实证明，我确实需要增加版本号，即使它从未成功签名。黑莓签名服务器决定版本 1 和 2 已经签名（尽管他们没有），所以我只需要继续直到它工作。

```
Error: Server response did not contain version. 
```

这个错误让我认为这不是问题，但显然*这两个*错误都意味着该版本已在使用中。只需不断增加版本号，直到它工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-11T07:55:48.807

需要增加版本代码，直到生效。此[链接](http://supportforums.blackberry.com/t5/Testing-and-Deployment/Code-signing-request-failed-because-this-file-has-been/ta-p/798291)可能会有所帮助

# sql - 带有 NOT IN 的 HQL 查询 SELECT

> ID：13428737
> 
> 赞同：0
> 
> 时间：2012-11-17T07:42:45.027
> 
> 标签：sql, hibernate, hql

我需要一个 HQL 查询，但我就是不明白。

```
SELECT * FROM Poll WHERE pid NOT IN (
SELECT pid FROM votes WHERE uid =  'theuserid') 
```

**我希望所有投票列表都返回表中不**存在uid的投票。

同样有用的是 hql 查询，其中存在表投票中的 uid **，**但我想这非常相似；-)

这些是2个类：

```
public class Poll {

private int pid;
private String name;
private String description;
private Date deadline;
private Set<Team> teams = new HashSet<Team>(0);
//some getter & setter
}

public class Vote {

private int vid;
private String uid;
private int pid;
private int tid;
private int votes;
//some getter & setter
} 
```

可以smbdy请帮助我。我想这是与 WHERE 而不是 LIKE 的连接，但我就是不明白。

谢谢！

这是顺便说一句的休眠映射：

```
 <hibernate-mapping>
 <class name="package.model.Poll" table="poll">
 <id name="pid" column="pid" >
 <generator class="increment"/>
 </id>
<property name="name" column="name" />
<property name="description" column="description" />
<property name="deadline" type="timestamp" column="deadline" />

<set name="teams" table="pollchoice" 
        inverse="false" lazy="false" fetch="select" cascade="all" >
        <key>
            <column name="pid" not-null="true" />
        </key>
        <many-to-many entity-name="knt.exceedvote.model.Team">
            <column name="tid" not-null="true" />
        </many-to-many> 
</set>
 </class>
 </hibernate-mapping> 

 <hibernate-mapping>
   <class name="package.model.Vote" table="votes">
    <id name="vid" column="vid" >
    <generator class="increment"/>
   </id>
<property name="pid" column="pid" />
<property name="uid" column="uid" />
<property name="tid" column="tid" />
<property name="votes" column="votes" />

  </class>
 </hibernate-mapping> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:52:19.953

请记住，**Hibernate 是使用 的概念设计的`Object Graph`**，它是**关系对象的名称。**

您的映射中缺少该核心概念（民意调查和投票似乎是孤立的），因此我怀疑您是否可以`HQL`在当前状态下使用。

在我看来，你有两个选择：

1.  `Poll`定义,`pid`和`Vote`,之间的关系`uid`。那你应该可以写简单的了`HQL`。

2.  通过`Hibernate`会话本身使用本机 SQL。

# python - Python中的多个计时器（Pygame）

> ID：13428747
> 
> 赞同：0
> 
> 时间：2012-11-17T07:45:46.173
> 
> 标签：python, time, pygame

我是一个业余程序员。我正在尝试编写一个简单的程序，该程序将测量将用于生物学实验的一系列视觉刺激（方块闪烁）的反应时间。这是我的代码（注意，第一次编写图形界面）：

```
stimulus = pygame.Rect(100,250,100,100)

#draw on surface object
time.sleep(2) #wait for 2 seconds before it appears
screen.fill(BLACK)
pygame.draw.rect(screen,WHITE,stimulus)
pygame.display.update(stimulus)

#record time stimulus appeared
t0 = time.clock()

#clear screen ("flash" illusion)
time.sleep(0.5) #***PROBLEM***
screen.fill(BLACK)
pygame.display.update(stimulus) 

while True:
    for event in pygame.event.get():
        if event.type == KEYDOWN:
            t1 = time.clock()
            print t1-t0
        if event.type == QUIT:
            pygame.quit()
            sys.exit() 
```

在我将块包含在标记为“问题”的行之前，该程序运行良好。打印的反应时间似乎是合理的。但是，我希望广场在一段时间后消失，就好像它只是“闪过”一样。包含 time.sleep(0.5) 后，打印的时间不再正确。无论我按多快，它始终为 0.5xxxx 或更大。有什么解决方法吗？

PS我需要它消失，因为我想呈现一系列闪烁，其间有预定的（非恒定的）停顿。

谢谢。

**编辑**

我需要实现两件事： 1\. 形状必须在屏幕上闪烁 0.5 秒。2\. 程序必须在每次按下空格键时创建一个时间戳（例如写入一个列表）（即使在两次闪烁之间随机按下两次）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T15:27:06.787

您的问题是由于您标记为问题的行，计算机将在 0.5 秒内无操作。你需要做的就是让它在方块仍然显示的同时记录反应。而不是有`time.sleep(0.5)`，把这个：

```
while time.clock()-t0<0.5:
    for event in pygame.event.get():
        if event.type == pygame.KEYDOWN:
            t1 = time.clock()
            print t1-t0 
```

这应该可以修复您的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T20:35:08.653

使用`pygame.time.get_ticks()`which 给你毫秒后过去`pygame.init`

编辑：

如果您在`get_ticks`首次显示形状时保存该值，那么每次按下键时，将当前的`get_ticks`.

```
for press in press_times:
    print "milliseconds: {}".format(press - time_start) 
```

毫秒意味着 500 相当于 0.5 秒。

# javascript - jvectorMap 绘制来自 db 的数据

> ID：13428751
> 
> 赞同：2
> 
> 时间：2012-11-17T07:46:07.413
> 
> 标签：javascript, jvectormap

我正在尝试绘制从数据库中获取的数据，但我没有弄清楚如何处理 json 数组并将其传递给绘图插件（jvectorMap）

这是我的json数组的结构

```
{
"countries":[
{
"cname":"Albania",
"ccode":"AL",
"name":"John",
"percent":"20"
},
{
"cname":"Austria",
"ccode":"AT",
"name":"Doe",
"percent":"30"
}
]
} 
```

HTML 中的 JavaScript

```
<script>
        var dataC = "<?php echo $mapData?>";
          $(function(){
            $('#world-map').vectorMap({
              map: 'world_mill_en',
              series: {
                regions: [{
                  values: dataC[ccode],
                  scale: ['#C8EEFF', '#0071A4'],
                  normalizeFunction: 'polynomial'
                }]
              },
              onLabelShow: function(e, el, code){
                el.html(el.html()+dataC[ccode]+dataC[name]+dataC[percent]+dataC[cname]);
              }
            });
          });
        </script> 
```

本质上，我希望根据`ccode`密钥中的 ISO 代码绘制我的数据。例如，当我指向地图时，我希望在标记中看到来自`name`和字段`percentage`的数据。`cname`谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-19T00:37:07.807

```
var dataC = {
    "countries": [
        {
        "cname": "Albania",
        "ccode": "AL",
        "name": "John",
        "percent": "20"},
    {
        "cname": "Austria",
        "ccode": "AT",
        "name": "Doe",
        "percent": "30"}
    ]
};

//---------------------------------------------------------------------------
// The data for the jVectorMap is expected to be an object with 
// member variables for each country code and an associated value. 
// You need to convert your `dataC` data into that format.
//---------------------------------------------------------------------------
var countryData = []; 
//for each country, set the code and value
$.each(dataC.countries, function() {
    countryData[this.ccode] = this.percent;
});

$(function() {
    $('#world-map').vectorMap({
        map: 'world_mill_en',
        series: {
            regions: [{
                values: countryData, //load the data
                scale: ['#C8EEFF', '#0071A4'],
                normalizeFunction: 'polynomial'}]
        },
        //-----------------------------------------------
        // changed to onRegionLabelShow from onLabelShow
        //-----------------------------------------------
        onRegionLabelShow: function(e, el, code) {
            //search through dataC to find the selected country by it's code
            var country = $.grep(dataC.countries, function(obj, index) {
                return obj.ccode == code;
            })[0]; //snag the first one
            //only if selected country was found in dataC
            if (country != undefined) { 
                el.html(el.html() + 
                        "<br/><b>Code: </b>" +country.ccode + 
                        "<br/><b>Name: </b>" + country.name + 
                        "<br/><b>Percent: </b>" + country.percent + 
                        "<br/><b>Country Name: </b>"+ country.cname);
            }
        }
    });
});​ 
```

# facebook - 从 facebook 登录弹出窗口中删除滚动条

> ID：13428753
> 
> 赞同：1
> 
> 时间：2012-11-17T07:46:19.237
> 
> 标签：facebook, login, popup, browser-scrollbars

我正在尝试使用 Facebook Javascript SDK 将 Facebook 登录添加到我的网站。一切似乎都正常，但是在请求权限时，登录弹出窗口会打开烦人的滚动条（我已经登录 Facebook）。我用 Firefox 16、IE 9 对其进行了测试。在弹出窗口中使用 Facbook 登录的其他站点在我的机器上没有相同的行为。

也许他们使用不同的方法？

这是我的代码.. 它非常简单，您只需复制/粘贴到 html 页面中即可对其进行测试。只需设置您的APP-ID。

```
 <html>
 <body>

    <img src="images/facebooklogin.png" id="login-fb" onclick="login();" />

    <script type="text/javascript">
 window.fbAsyncInit = function(){
     FB.init({
         appId : 'APP-ID',
         status : true,
         cookie : true,
         xfbml : false
     });
 };

      // Load the SDK Asynchronously
      (function(d){
         var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement('script'); js.id = id; js.async = true;
         js.src = "//connect.facebook.net/en_US/all.js";
         ref.parentNode.insertBefore(js, ref);
       }(document));

 function login()
 {
     facebookPerms = [
         'user_photos', 'email', 'offline_access', 'user_relationships', 'read_stream',
         'user_about_me', 'user_birthday', 'user_education_history', //'publish_stream',
         'user_hometown', 'user_interests', 'user_location', 'user_likes',
         'user_religion_politics', 'user_activities', 'user_work_history'
     ];

     //Get the facebook login status
     FB.getLoginStatus(function(response) {
         if (response.session) {
             // logged in and connected user, someone you know
             ajaxLogin();
         } else {
             //Display the facebook login dialog
             FB.login(function(response) {
                 if (response.authResponse) {
                     // user is logged in and granted some permissions.
                     // perms is a comma separated list of granted permissions
                     ajaxLogin();
                 } else {
                     // user is not logged in, display the error dialog box
                     errorNotLogged();
                 }
             }, {
                 //Ask for permissions of Facebook
                 scope: facebookPerms.join(',')
             });
         }
     });
 }
 </script>

 </body>
 </html> 
```

# java - WebDav 服务器库最好用 Java 编写

> ID：13428754
> 
> 赞同：3
> 
> 时间：2012-11-17T07:46:19.543
> 
> 标签：java, api, webdav

我有一个用于管理通过自制 RESTFul Api 公开服务的文件和文件夹的应用程序，我想添加 Webdav 功能，以便可以通过标准文件资源管理器轻松访问我托管的文件或通过 MS Office 和相关软件直接修改。

我正在寻找一个服务器 Webdav 库，最好是用 Java 构建一个非常简单的应用程序，它将成为传入的 Webdav 请求和我的 Api 之间的桥梁。主要要求是 Api 必须支持 Webdav 2 级功能（锁定）。

我过去曾尝试过一次 Milton Api，但他们已将许可更改为 AGPL3，我不想让我的整个应用程序成为 AGPL3，也买不起商业许可，所以我正在寻找其他替代方案。

您使用或推荐什么 Api？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T01:59:48.777

如果您不依赖于 java，您可以使用 SabreDav (PHP)。

只需澄清 milton 的许可（最近已更改），所有 DAV 1 级功能都可以在 apache2 许可 jar 中使用，这是问题中提到的用例所需的全部。

AGPL+商业许可证适用于提供锁定、日历和联系人的扩展 jar。

干杯，布拉德

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-14T05:18:14.523

Milton 正在使用 Apache 2 许可证：[https ://github.com/miltonio/milton2/blob/master/LICENSE.txt](https://github.com/miltonio/milton2/blob/master/LICENSE.txt)

只有企业扩展使用 AGPL。

* * *

从主页：

Milton.io 是一个 Java Webdav 服务器库，支持 Webdav level 2、CalDav、CardDav。

将您的 Java Web 应用程序与桌面和移动设备集成以获取文件、日历和联系人

您的数据可以是关系数据库、文件系统、Web 服务或任何其他数据源

支持 Windows、Mac、Linux、Android 和 iOS 设备，以及几乎所有其他设备。

# html - 更改子 div 的不透明度

> ID：13428755
> 
> 赞同：0
> 
> 时间：2012-11-17T07:46:24.833
> 
> 标签：html, css

我有两个 div 一个大整页和子短 div 在对话框中的大 div 中单击对话框显示显示对话框时我想要的大 0.3 不透明度和短 div 1.0 不透明度。但是当显示对话框时所有 div 显示白色 0.3 opacity 。我该如何设置？

代码

```
<div id="incomedialog" style="width:100%;position:absolute;height:100%;min-height:overflow:hidden;background-color:#7F7F7F;display:none;opacity:0.4;" >
<div style="text-align:right;width:600px;position:absolute;left:0;right:0;height:470px;min-height:overflow:hidden;300px;background-color:#EEEEEE;border:2px solid #CDCDCD;border-radius:3px;color:white;margin-left:auto;margin-right:auto;top:70px;opacity:1.0;">
</div>
</div> 
```

我为大 div 设置了 0.3 不透明度，为子 div 设置了 1.0 不透明度，但不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T07:48:35.000

`z-index:100;`为大而设`div`

设置`z-index:101;`为内部`div`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T08:21:48.743

而不是`opacity`您可以为此使用**rgba**颜色属性。像这样写：

```
#incomedialog{
    background-color:rgba(127,127,127,0.4);
} 
```

检查这个[http://jsfiddle.net/Q7B9x/](http://jsfiddle.net/Q7B9x/)

在不影响 IE 8 中包含的元素的情况下检查此项以获得更多[div 背景的不透明度？](https://stackoverflow.com/questions/5662178/opacity-of-divs-background-without-affecting-contained-element-in-ie-8/5662237#5662237)

# solr - Solr 太阳黑子——如何制作像“Co.”这样的 2 个字符串。和“公司”看起来一样吗？

> ID：13428757
> 
> 赞同：0
> 
> 时间：2012-11-17T07:46:48.927
> 
> 标签：solr, sunspot, sunspot-rails, sunspot-solr

我有许多记录在一列名称中包含缩写。我可能有记录“ABC Brewing Co.”，我希望 solr 将其解释为与搜索“ABC Brewing Company”相同。关于如何实现这一点的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T14:53:52.170

您应该考虑在索引或查询时使用[SynonymFilterFactory来完成此操作。](http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.SynonymFilterFactory)

# c++ - 用于 Visual Studio C++ ABI 和 VS 编译对象的 readelf 实用程序？

> ID：13428758
> 
> 赞同：3
> 
> 时间：2012-11-17T07:47:08.673
> 
> 标签：c++, visual-c++, objdump, abi, readelf

在使用 Visual Studio 编译 C++ 源代码和`readelf`调查,和.`objdump``lib``obj``dll`

我知道 MinGW 提供了此工具的移植，但我正在寻找对 Microsoft C++ ABI 有官方支持的东西。

如果这很重要，我正在使用 Visual Studio 2012。

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-17T07:48:48.467

该[`dumpbin`](http://msdn.microsoft.com/en-us/library/c1h23y6c.aspx)实用程序包含在 Visual Studio 中。它有[很多选择](http://msdn.microsoft.com/en-us/library/756as972.aspx)。

# php - php代码中的open_basedir限制有效错误

> ID：13428764
> 
> 赞同：3
> 
> 时间：2012-11-17T07:48:24.933
> 
> 标签：php, filepath, document-root, open-basedir

我是 php 语言的初学者。在我的网络项目中，我创建了一个 filepath.config.ini 文件，该文件将所有文件路径存储在网站目录中。例如。CLASS1 = bin/myclass1.php CLASS2 = bin/myclass2.php

我使用以下方法访问这些路径：

```
require $_SERVER['DOCUMENT_ROOT'].'/'.GetfilePath('CLASS1'); 
```

在本地主机服务器中，它运行良好并给了我这样的路径

```
D:/myproject/bin/myclass1.php 
```

当我在测试服务器上上传这些文件时，我得到了这个 open_basedir 限制错误。

```
Warning: file_exists() [function.file-exists]: open_basedir restriction in effect. File(/usr/local/apache/htdocs/projectfolder/bin/myclass1.php) is not within the allowed path(s): (/home/:/usr/lib/php:/tmp) 
```

我知道我们可以禁用此限制...但我不知道该怎么做：P。但是使用这个服务器 DOCUMENT_ROOT 好吗？？？还是他们使用文件路径的任何替代方式？你们人们为访问这些文件路径所做的事情。如果我禁用 open_basedir 限制会发生什么？这样做安全吗？请帮我做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:05:55.010

编辑您的 php.ini 文件（[PHP：配置更改](http://php.net/manual/en/configuration.changes.php)）并禁用[open_basedir](http://www.php.net/manual/en/ini.core.php#ini.open-basedir)或将 /usr/local/apache/htdocs 添加到其中。

# c++ - std::map::clear 和元素的析构函数

> ID：13428769
> 
> 赞同：7
> 
> 时间：2012-11-17T07:48:51.347
> 
> 标签：c++, stdstring, stdmap

`std::map`使用时会在元素上调用析构函数`std::map::clear`吗？

我试图调试`std::map<string,string>`但看不到`std::string`析构函数被调用。任何人都可以帮助我理解吗？

文档说明它被调用了，但我没有注意到它。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-17T07:55:35.500

文档是正确的，它确实被调用了。

销毁将由方法完成`std::allocator<T>::deallocate()`。在调试器中跟踪它。

[http://www.cplusplus.com/reference/std/memory/allocator/](http://www.cplusplus.com/reference/std/memory/allocator/)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-17T08:13:02.873

析构函数确实被调用了。下面是一个例子来说明：

```
#include <iostream>
#include <map>

class A
{
 public:
  A() { std::cout << "Constructor " << this << std::endl; }
  A(const A& other) { std::cout << "Copy Constructor " << this << std::endl; }
  ~A() { std::cout << "Destructor " << this <<std::endl; }
};

int main()
{
  std::map<std::string, A> mp;

  A a;

  mp.insert(std::pair<std::string, A>("hello", a));
  mp.clear();

  std::cout << "Ending" << std::endl;
} 
```

这将报告与此类似的输出：

```
Constructor 0xbf8ba47a
Copy Constructor 0xbf8ba484
Copy Constructor 0xbf8ba48c
Copy Constructor 0x950f034
Destructor 0xbf8ba48c
Destructor 0xbf8ba484
Destructor 0x950f034
Ending
Destructor 0xbf8ba47a 
```

因此，您可以看到析构函数是通过调用 clear 函数来调用的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:59:43.273

尝试使用`std::map<A,B>`where`A`并且`B`是自定义类型，它们具有在其中设置断点的析构函数。你会看到它确实被调用了，以及这个破坏发生在什么范围内。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-09-21T13:40:56.350

这是一个完整的测试，基于 Chris Mansley 的代码，因为我想看看对值、ptrs 和 refs 的影响——我想看看 clear 和 erase 之间的区别。没有不同。总之，析构函数只为值类型调用，这是您所期望的。我只是想检查一下我的理解 8)

```
#include <iostream>
#include <map>

class A
{
public:
    std::string some_data;

    A(std::string some_data) : some_data(some_data) {
        std::cout << "  A(" << some_data << ") @" << this << std::endl;
    }
    A(const A& other) {
        some_data = other.some_data;
        std::cout << "  Copy A(" << other.some_data << ") @" << this << std::endl;
    }
    ~A() {
        std::cout << "  Destruct ~A(" << some_data << ") @" << this << std::endl;
    }
};

void clear_test_value (void)
{
    std::cout << "clear_test_value() {" << std::endl;
    std::map<std::string, A> mp;
    A a("A1 data");
    mp.insert(std::pair<std::string, A>("key1", a));
    mp.clear();
    std::cout << "}" << std::endl;
    std::cout << std::endl;
}

void erase_test_value (void)
{
    std::cout << "erase_test_value() {" << std::endl;
    std::map<std::string, A> mp;
    A a("A1 data");
    mp.insert(std::pair<std::string, A>("key2", a));
    auto f = mp.find("key2");
    if (f == mp.end()) {
        std::cout << "failed to find element {" << std::endl;
        return;
    }
    mp.erase(f);
    std::cout << "}" << std::endl;
    std::cout << std::endl;
}

void clear_test_ptr (void)
{
    std::cout << "clear_test_ptr() {" << std::endl;
    std::map<std::string, A*> mp;
    A a("A1 data");
    mp.insert(std::pair<std::string, A*>("key1", &a));
    mp.clear();
    std::cout << "}" << std::endl;
    std::cout << std::endl;
}

void erase_test_ptr (void)
{
    std::cout << "erase_test() {" << std::endl;
    std::map<std::string, A*> mp;
    A a("A1 data");
    mp.insert(std::pair<std::string, A*>("key2", &a));
    auto f = mp.find("key2");
    if (f == mp.end()) {
        std::cout << "failed to find element {" << std::endl;
        return;
    }
    mp.erase(f);
    std::cout << "}" << std::endl;
    std::cout << std::endl;
}

void clear_test_ref (void)
{
    std::cout << "clear_test_ref() {" << std::endl;
    std::map<std::string, A&> mp;
    A a("A1 data");
    mp.insert(std::pair<std::string, A&>("key1", a));
    mp.clear();
    std::cout << "}" << std::endl;
    std::cout << std::endl;
}

void erase_test_ref (void)
{
    std::cout << "erase_test_ref() {" << std::endl;
    std::map<std::string, A&> mp;
    A a("A1 data");
    mp.insert(std::pair<std::string, A&>("key2", a));
    auto f = mp.find("key2");
    if (f == mp.end()) {
        std::cout << "failed to find element {" << std::endl;
        return;
    }
    mp.erase(f);
    std::cout << "}" << std::endl;
    std::cout << std::endl;
}

int main ()
{
    clear_test_value();
    erase_test_value();
    clear_test_ptr();
    erase_test_ptr();
    clear_test_ref();
    erase_test_ref();

    return (0);
} 
```

输出：

```
clear_test_value() {
  A(A1 data) @0x7ffee07389a0
  Copy A(A1 data) @0x7ffee0738960
  Copy A(A1 data) @0x7fe98fc029c8
  Destruct ~A(A1 data) @0x7ffee0738960
  Destruct ~A(A1 data) @0x7fe98fc029c8
}

  Destruct ~A(A1 data) @0x7ffee07389a0
erase_test_value() {
  A(A1 data) @0x7ffee07387f0
  Copy A(A1 data) @0x7ffee07387b0
  Copy A(A1 data) @0x7fe98fc029c8
  Destruct ~A(A1 data) @0x7ffee07387b0
  Destruct ~A(A1 data) @0x7fe98fc029c8
}

  Destruct ~A(A1 data) @0x7ffee07387f0
clear_test_ptr() {
  A(A1 data) @0x7ffee07389b0
}

  Destruct ~A(A1 data) @0x7ffee07389b0
erase_test() {
  A(A1 data) @0x7ffee0738800
}

  Destruct ~A(A1 data) @0x7ffee0738800
clear_test_ref() {
  A(A1 data) @0x7ffee07389b0
}

  Destruct ~A(A1 data) @0x7ffee07389b0
erase_test_ref() {
  A(A1 data) @0x7ffee0738800
}

  Destruct ~A(A1 data) @0x7ffee0738800 
```

# actionscript-3 - GCM空气延伸

> ID：13428770
> 
> 赞同：1
> 
> 时间：2012-11-17T07:49:00.807
> 
> 标签：actionscript-3, google-cloud-messaging, air-native-extension

我正在构建一个空中扩展，调用扩展的第一个方法是检查是否

```
GCMRegistrar.checkDevice($context.getActivity());
GCMRegistrar.checkManifest($context.getActivity()); 
```

支持和设置，所以写道：CheckGcm.java

```
package com.doitflash.air.extensions.gcm;

import com.adobe.fre.FREContext;
import com.adobe.fre.FREFunction;
import com.adobe.fre.FREInvalidObjectException;
import com.adobe.fre.FREObject;
import com.adobe.fre.FRETypeMismatchException;
import com.adobe.fre.FREWrongThreadException;

import com.google.android.gcm.GCMConstants;
import com.google.android.gcm.GCMRegistrar;

public class CheckGcm implements FREFunction 
{
    private String _result;

    public FREObject call(FREContext $context, FREObject[] $params) 
    {
            //$context.dispatchStatusEventAsync("variable", "value");

            try 
            {
            GCMRegistrar.checkDevice($context.getActivity());
            GCMRegistrar.checkManifest($context.getActivity());

            _result = "true";
        }
        catch(Exception err)
        {
            _result = "false";
        }

        return as3ConvertValue(_result);
    }

    private FREObject as3ConvertValue(String $value)
    {
        try 
        {
            return FREObject.newObject($value);
        } 
        catch (FREWrongThreadException e) 
        {
            return null;
        }
    }

} 
```

我像这样设置android清单：

```
<manifestAdditions><![CDATA[<manifest android:installLocation="auto">

<permission android:name="air.air.com.doitflash.SampleApp.permission.C2D_MESSAGE" android:protectionLevel="signature" />
<uses-permission android:name="air.air.com.doitflash.SampleApp.permission.C2D_MESSAGE" />
<uses-permission android:name="android.permission.GET_ACCOUNTS" />
<uses-permission android:name="android.permission.WAKE_LOCK" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.VIBRATE" />
<application>

    <activity>
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <receiver 
        android:enabled="true" 
        android:exported="true"
        android:name="com.google.android.gcm.GCMBroadcastReceiver" 
        android:permission="com.google.android.c2dm.permission.SEND" >
        <intent-filter>
            <action android:name="com.google.android.c2dm.intent.RECEIVE" />
            <action android:name="com.google.android.c2dm.intent.REGISTRATION" />
            <category android:name="air.air.com.doitflash.SampleApp" />
        </intent-filter>
    </receiver>

    <service 
        android:enabled="true" 
        android:exported="true" 
        android:name="com.doitflash.air.extensions.gcm.GCMIntentService" />

</application>
</manifest>]]></manifestAdditions> 
```

我还设置了 GCMIntentService：

```
package com.doitflash.air.extensions.gcm;

import android.app.Notification;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.net.Uri;
import android.util.Log;
import android.widget.Toast;

import com.google.android.gcm.GCMBaseIntentService;

public class GCMIntentService extends GCMBaseIntentService 
{
    private static final String TAG = "===GCMIntentService===";

    public GCMIntentService()
    {
        super("000000"); // senderID
    }

    @Override
    protected void onRegistered(Context arg0, String registrationId) 
    {

    }

    @Override
    protected void onUnregistered(Context arg0, String arg1)
    {

    }

    @Override
    protected void onMessage(Context arg0, Intent arg1) 
    {
        //Log.i(TAG, "notification title = " +  arg1.getStringExtra("title"));
        //Log.i(TAG, "notification message = " +  arg1.getStringExtra("msg"));
        //Log.i(TAG, "notification type = " +  arg1.getStringExtra("type"));
        //Log.i(TAG, "notification id= " +  arg1.getStringExtra("id"));

    }

    @Override
    protected void onError(Context arg0, String errorId) 
    {

    }

    @Override
    protected boolean onRecoverableError(Context context, String errorId)
    {
        return super.onRecoverableError(context, errorId);
    }
} 
```

在我看来一切都很好，但是当我尝试在我的 air 项目中跟踪 check 方法时，它返回 null！所以我知道一定有问题：

```
GCMRegistrar.checkDevice($context.getActivity());
GCMRegistrar.checkManifest($context.getActivity()); 
```

因为当我删除这两行时，空气中的痕迹返回真。就在开始构建 air 扩展之前，我在 java 中构建了一个示例 GCM，一切正常，但我似乎不明白为什么 air 版本不起作用。有任何想法吗？

更新：我使用 eclipse logcat 查看手机上发生了什么，这可能是一些提示：

```
Could not find method com.google.android.gcm.GCMRegistrar.checkDevice, referenced from method com.doitflash.air.extensions.gcm.CheckGcm.call
unable to resolve static method 284: Lcom/google/android/gcm/GCMRegistrar;.checkDevice (Landroid/content/Context;)V 
```

# windows-phone - navigationservice 没有定义构造函数

> ID：13428777
> 
> 赞同：0
> 
> 时间：2012-11-17T07:49:47.470
> 
> 标签：windows-phone, navigationservice

我正在使用适用于 Windows Phone 的 Visual Studio Express 2012 并构建面向 Windows Phone 7.1 的应用程序。

我正在尝试使用 NavigationService 导航到不同的页面，但我一直遇到问题。

这是我的代码：

```
private void GotoDetails(object _url)
    {
        var url = string.Format("/DetailsPage.xaml?url={0}", _url.ToString());
        NavigationService nav = new NavigationService();
        nav.Navigate(new Uri(url, UriKind.Relative));
    } 
```

当我尝试构建它时，我在 NavigationService nav =.... 行上得到“类型'System.Windows.Navigation.NavigationService'没有定义构造函数”。

如果我尝试只做 NavigationService.Navigate(new Uri(url, UriKind.Relative)); 然后我收到“非静态字段、方法或属性‘System.Windows.Navigation.NavigationService.Navigate(System.Uri)’需要对象引用”错误。

更新：我正在尝试使用 MVVM（第一次）。此代码位于我的视图模型中。我没有使用任何框架。只是想从头开始学习。

我已经搜索了 intertubes，但似乎找不到解决方案。

任何帮助深表感谢。

卡迈勒

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T17:03:40.950

你在页面内吗？NavigationService 是 Page 类的属性：http: [//msdn.microsoft.com/en-us/library/system.windows.controls.page.navigationservice (v=vs.92).aspx](http://msdn.microsoft.com/en-us/library/system.windows.controls.page.navigationservice(v=vs.92).aspx)

# grails - Grails 实现关系

> ID：13428780
> 
> 赞同：-1
> 
> 时间：2012-11-17T07:50:07.523
> 
> 标签：grails, orm, groovy

请你帮助我好吗。我是 Grails 的新手。我已阅读 grails 文档，但没有找到我的问题的答案。

**类客户：** 包测试

```
 class Customer {
        int points
        static hasMany = [pr:Product]
        List pr;
        static constraints = {
        }
    } 
```

**类产品：**

```
package test
class Product {
    String question
    int points
    static belongsTo = [c:Customer]
    static constraints = {
    } 
```

正如我们所看到的，存在一对多的关系。然后我想向一位客户添加很多产品：

```
 def cust = new Customer()
    def pr = new Product();
    cust.pr=new ArrayList();
    cust.pr.add(pr); 
```

这是正确的认识吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-17T10:12:10.913

默认情况下，当您定义与 GORM 的关系时，它是 java.util。

[回答](http://grails.org/doc/1.3.7/guide/5.%20Object%20Relational%20Mapping%20%28GORM%29.html#5.2.4%20Sets,%20Lists%20and%20Maps)

# objective-c - 在性能方面重构常见的 HTTP 请求代码是否值得？

> ID：13428781
> 
> 赞同：1
> 
> 时间：2012-11-17T07:50:19.423
> 
> 标签：objective-c, ios, performance

我一直在开发一个 iPhone 应用程序，由一位经验丰富的开发人员提供。我只是一个学徒程序员，还在为实际的 Objective-C/iOS 应用程序开发而苦苦挣扎（我自己学习了 Java 和 PHP，但 Objective-c 对我来说完全不是这些）。

我们的应用程序只是另一个“以网络为中心”（我什至不知道这个词是否合适......）应用程序，它严重依赖服务器端操作，每次都会发出频繁的 http post 请求（例如跟踪用户位置，向其他用户发送消息等）。

当我被分配开发这个应用程序时，我在代码中看到，每个 http 请求都写在每个方法中。每个请求都是通过调度另一个线程来完成的，并且每个动作都是为这些请求的响应而相应地编写的。

例如

```
-(void) methodA {  
// Making http request headers...  

// Dispatch another thread  
dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT , 0);  
dispatch_async(queue, ^{  
  // Send synchronous request and handle the response...  
});

}  

-(void) methodB {  
// Making http request headers...  

// Dispatch another thread  
dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT , 0);  
dispatch_async(queue, ^{  
  // Send synchronous request and handle the response...  
});

} 
```

当应用程序需要向服务器发送请求时，上面的代码无处不在。

我想知道，为什么他没有创建一个处理 http 请求的类。
在 Java 中，您可以创建一个向服务器发出同步请求的类：

```
public class ClassHttpRequest {
     public int makePost {  
        // Send synchronous request and return result...  
     }  
} 
```

然后创建这个类的一个实例并在线程内执行它的实例方法（在本例中为 makePost）：

```
public class methodA {  

   Thread t = new Thread(new Runnable() {  
         public void run() {   
           public ClassHttpRequest requestHandler = new ClassHttpRequest();  
               if (success == requestHandler.makePost()) {  
                   // Handle response...  
               }  
           }  
         }  
     });

    t.start();  
 } 
```

在 Objective-C 中创建一个类并让它处理频繁的 http 请求是否有任何性能损失或问题？或者，它只是根本不“推荐”之类的？我听说，在 Objective-C 中，使用 try-catch 语句进行异常处理并不常见，因为它会消耗大量资源。我确实读过几本 iOS 和 Objective-C 的书籍（并在 google 上搜索过），但是对于真正的应用程序开发来说，这种“实用”的答案很难找到，大多数时候它会让像我这样的初学者感到困惑。

我应该问他为什么不创建这样的课程，但他现在不在，我无法联系到他。另外，我相信 stackoverflow 的专业人士可以为我提供比我的前任更准确和简洁的解决方案。（我已经问了几个问题，并且已经得到了我想知道的内容。）

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T08:22:50.097

面向对象设计的常规规则适用：如果将 HTTP 请求表示为有形对象是有意义的——特别是，有一堆样板代码是必要的，否则会被复制粘贴——那么使用它可能是个好主意一类。否则，没有必要。尽管在这种特定情况下，您是否有理由不只是使用标准的异步系统 API - NSURLRequest、NSURLConnection、NSURLDownload 等？

@try/@catch 根据定义用于异常处理，应根据需要使用。如果您忽略它们，您的代码可能会以不必要的有趣方式（例如使锁悬空）或不必要的程度（例如完全崩溃而不是简单地使特定操作失败）失败。您*不应该*将它们用于流控制——与其他语言不同，Objective-C 异常适用于程序员错误、“不可能”条件和其他此类事件。不幸的是，很多现有的 Objective-C 代码都不是异常安全的，所以当你应该使用它们时，你不应该依赖它们。

它们在您现在可能使用的任何运行时中都不是特别昂贵 - @try 非常便宜，几乎是免费的。只有在抛出异常时才会完成任何重要的工作，并且由于您应该只在非常糟糕的情况下看到它们 - 即不经常 - 性能成本是无关紧要的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T08:43:48.040

重构代码是一个平衡问题。当前的代码很冗长并且有点重复，但是将其重构为一个单独的类将引入一个新的间接方法，即一个中间 API。如果新的 API 具有良好的语义，这可能是值得的，例如，如果您可以使用诸如 之类的方法创建一个`SomeNetworkService`类。接口应该是异步的，如下所示：`postStatus``listItems`

```
typedef void (^StatusCompletionBlock)(BOOL success, NSError *error);
- (void) postStatus: (NSString*) status withCompletion: (StatusCompletionBlock) completion; 
```

`SomeNetworkService`这应该使代码更易读，更干，甚至更可测试，因为您可以用存根替换整个对象。所以这肯定是值得的。

发送一条额外消息对性能的影响不值一提。一般来说，人们过于担心性能。如果您可以牺牲性能以获得更好的可读性，那么 100 次中有 99 次是值得的。

# asp.net - “翻译”Windows Phone 7 的数据集？

> ID：13428783
> 
> 赞同：1
> 
> 时间：2012-11-17T07:50:45.297
> 
> 标签：asp.net, visual-studio-2010, web-services, windows-phone-7, windows-phone-7.1

我正在开发 Windows Phone 7.1 的应用程序（我知道已过时），我需要显示有关不同用户的信息，这些信息位于数据库中。我**必须**这样做（计划）的方式是通过 ASP.NET Web 服务中的一种方法来输出数据集。我想到的是，也许有一种方法可以将此数据集转换为多个字符串，甚至是一个数组，只要 Windows Phone 7 支持它。

那么，我怎样才能将这个数据集*翻译*成我可以使用的格式呢？

以下是网络服务方法。变量是西班牙语，我宁愿不翻译它并搞砸一些东西。对此表示歉意。

```
public DataSet Listar_Usuario() //List_User
    {
        DataSet DS = new DataSet();
        abrirconexion(); //openconnection
        query.CommandText = "LISTAR_USUARIO"; //LIST_USER
        query.CommandType = CommandType.StoredProcedure;
        query.Connection = coneccion; //connection
        var_adaptador.SelectCommand = query; //var_adapter
        var_adaptador.Fill(DS, "Usuario"); //var_adapter
        query = null;
        cerrarconexion(); //closeconnection
        return DS;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T08:16:55.810

您**必须**在 ASP.Net 服务中使用此方法吗？如果不是，为什么不看看[http://pcbl.de/2011/07/20/dataset-on-your-wp7-app/](http://pcbl.de/2011/07/20/dataset-on-your-wp7-app/) - 它应该包含解决问题所需的一切。

# twitter-bootstrap - twitter-bootstrap 中“bootstrap”一词的含义

> ID：13428784
> 
> 赞同：4
> 
> 时间：2012-11-17T07:50:55.587
> 
> 标签：twitter-bootstrap

twitter-bootstrap 中的“bootstrap”一词是什么意思？在许多宝石中都有“bootstrap”这个词。我搜索了其中的含义，但无法得出结论。那么有人可以在这种情况下给出“引导”这个词的确切含义吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-17T08:33:20.993

“Bootstrap”通常意味着您正在获得一个推送启动，因此在这种情况下，“twitter-bootstrap”是由“twitter”创建的 UI 布局/组件的集合，用于推送您的项目。

因此，使用“twitter-bootstrap”您无需担心浏览器兼容性、分辨率/布局问题、移动浏览器问题，因为 TB 已经解决了这些问题。因此，您节省了宝贵的时间来考虑您的产品 UI。

最后一点，不要在意“名字”，只要看看他们提供的东西，如果它适合你，就去吧，因为在 Ruby 中你有奇怪的名字，比如“[上帝](http://godrb.com/)”、[厨师](https://github.com/opscode/chef/)等。

但我认为这些很酷，毕竟一点点幽默会提高你的工作效率。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T09:15:12.490

有一次我学习了一门名为“计算机硬件基础”的科目。有一个准备硬件工作的过程的描述。第一阶段是“权力引导”。我认为这是在当今的引导下过去几年的回声。青春岁月……

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T04:17:53.733

Twitter bootstrap 是一个 CSS 和 Js 框架，有助于构建任何类型的 Web 用户界面，并减少从头开始为 Web 应用程序编写 css 和 js 的时间

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-17T09:09:57.600

引导程序：

时尚、直观和强大的前端框架，用于更快、更轻松的 Web 开发。

[http://twitter.github.com/bootstrap/](http://twitter.github.com/bootstrap/)

# delphi - Delphi中的TScreen线程安全吗？

> ID：13428785
> 
> 赞同：2
> 
> 时间：2012-11-17T07:50:56.493
> 
> 标签：delphi, delphi-7

`TScreen`Delphi 7 中的线程安全吗？

`TScreen`源自`TComponent`，这就是我想知道的原因。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T15:45:00.660

与往常一样，某事是否是线程安全的取决于您想要做的具体事情。仅仅检查一个阶级的祖先是不足以做出判断的。

任何时候从任何线程读取对象的`Height`和`Width`属性都是安全的，因为这些属性访问器除了调用API 函数`TScreen`什么都不做。`GetSystemMetrics`他们不访问对象的任何数据成员。您可以在*Forms.pas*中亲自查看。

# java - 根据标记文件中的 TLD 或属性指令，属性项不接受任何表达式

> ID：13428788
> 
> 赞同：27
> 
> 时间：2012-11-17T07:51:20.017
> 
> 标签：java, jstl

我有一个项目需要在 HTML 页面中显示电影的详细信息。尽管我没有使用 Spring 或 Struts 之类的任何框架，但我必须严格遵循 MVC。我也不允许使用 scriptlet，而是使用 JSTL 和表达式语言。我通常从数据库中检索数据，然后将其设置为 bean，然后列出这些 bean 并将其传递给 JSP，然后打印这些详细信息。但是，如果我不允许使用 JSP，我将如何实现它。如果我使用 servlet 检索这些数据并将其设置为一个 bean，然后将其设置为一个列表并通过请求调度程序传递它，我将如何从 HTML 页面中的列表中获取每个 bean？

我无法让这个 JSTL 工作。我正在使用 Netbeans 7.0 和 Apache Tomcat 7。

```
 <%@page contentType="text/html" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jstl/core" prefix="c" %>
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>DVD Guru</title>
        <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
    </head>
    <body>   
     <div id="wrapper">     
        <c:set var="testing" value="blah"/>
                <c:out value="${testing}"/>
        </div>      
    </body>
</html> 
```

我收到以下错误

> 根据标记文件中的 TLD 或属性指令，属性项不接受任何表达式

我已经从项目属性中导入了 JSTL 1.1 库。还应该做些什么吗？

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2012-11-17T09:27:44.737

您必须使用**JSP**，*JSTL* - 只是一组自定义标签，不能单独使用。以及*表达语言*。如果你没有使用任何 MVC 框架，那么你需要自己做一些他们的工作。请查看（如果您还没有）以下设计模式：

1.  `Front Controller`,`Command`对于简单的应用
2.  `Front Controller`,`View Helper`对于更复杂的应用

**更新**：

要解决 EL 问题，请尝试将 JSP 中的 JSTL uri 更正为：

```
 <%@ taglib uri='http://java.sun.com/jsp/jstl/core' prefix='c'%> 
```

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2012-11-19T14:36:21.547

```
<%@ taglib uri="http://java.sun.com/jstl/core" prefix="c" %> 
```

您的 JSTL taglib URI 错误。您所拥有的是旧版 JSTL 1.0。从 JSTL 1.1 开始，taglib URI 中有一个额外的`/jsp`路径，因为表达式语言（那些`${}`东西）已经从 JSTL 转移到 JSP，因此 JSTL 1.0 和 1.1 的 taglib 不能互换。

相应地修复它：

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %> 
```

假设 Netbeans 足够聪明，可以自动生成与`web.xml`Tomcat 7 兼容的 Servlet 3.0，则无需再做任何事情。

### 也可以看看：

*   [我们的 JSTL 维基页面](https://stackoverflow.com/tags/jstl/info)
*   [我们的 EL 维基页面](https://stackoverflow.com/tags/el/info)

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-05-25T16:37:03.427

将您的 JSTL taglib uri 更改为以下内容：

```
<%@taglib prefix="c" uri="http://java.sun.com/jstl/core_rt" %> 
```

它就像一个魅力。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-17T09:57:04.667

您甚至可以通过连接字符串来生成 HTML。或者您可以使用任何文本模板引擎，如简单的 JMTE（Java 最小模板引擎）或更高级的如 Velocity 或 StringTemplate。使用另一个模板引擎，您可以勇敢地声明您不使用 JSP。虽然我看不出 JSP 和其他模板引擎之间有什么区别，但我的意思是你的要求有点愚蠢。

更好的是：不要使用 JSP 使用 JSF 2！)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-09-08T17:44:21.717

尝试使用前缀`<%@ taglib prefix="c" uri="http://java.sun.com/jstl/core_rt" %>`而不是 `<%@ taglib prefix="c" uri="http://java.sun.com/jstl/core" %>`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-08-28T02:43:16.800

我在尝试在 jstl XML 中使用变量时遇到了这个问题，我想使用`randInt`in `<x:out select/>`：

`<x:out select="$parsedXML/content/${randInt}/title"/>`

通过使用解决了它`pageContext`

```
<%
    Random rand = new Random();
    int randInt = rand.nextInt();
    pageContext.setAttribute("randInt", randInt);
%>
<x:out select="$parsedXML/content/article[$pageScope:randInt]/title"/> 
```

# android - 使用 jsoup 库的 android 应用程序意外停止

> ID：13428790
> 
> 赞同：2
> 
> 时间：2012-11-17T07:51:31.657
> 
> 标签：android

我对 android 有点陌生，我正在尝试使用 Jsoup 从网站检索一些数据。这是我在 Java 项目中使用的确切代码，它有效。但是当我将它转移到 Android 并将“println”更改为“setText()”时，应用程序“意外停止”。

```
package com.ex.myschoolapp;
import java.io.IOException;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.select.Elements;
import android.app.Activity;
import android.os.Bundle;
import android.view.Menu;
import android.widget.TextView;
public class MainActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

Document doc = null;

    try {
        doc = Jsoup.connect("http://moisilonesti.licee.edu.ro/concursuri.php").get();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    Elements sElem = doc.select("div#olimpiade table tbody tr th");

    String str = sElem.text();
    TextView stv = (TextView) findViewById(R.id.textView2);
    stv.setText(str);}} 
```

这是 LogCat 跟踪：

```
11-17 17:37:59.145: E/AndroidRuntime(23601): FATAL EXCEPTION: main
11-17 17:37:59.145: E/AndroidRuntime(23601): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.ex.myschoolapp/com.ex.myschoolapp.MainActivity}: java.lang.NullPointerException
11-17 17:37:59.145: E/AndroidRuntime(23601):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1659)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1675)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at android.app.ActivityThread.access$1500(ActivityThread.java:121)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:943)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at android.os.Handler.dispatchMessage(Handler.java:99)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at android.os.Looper.loop(Looper.java:123)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at android.app.ActivityThread.main(ActivityThread.java:3701)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at java.lang.reflect.Method.invokeNative(Native Method)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at java.lang.reflect.Method.invoke(Method.java:507)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:862)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:620)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at dalvik.system.NativeStart.main(Native Method)
11-17 17:37:59.145: E/AndroidRuntime(23601): Caused by: java.lang.NullPointerException
11-17 17:37:59.145: E/AndroidRuntime(23601):    at com.ex.myschoolapp.MainActivity.onCreate(MainActivity.java:67)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
11-17 17:37:59.145: E/AndroidRuntime(23601):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1623)
11-17 17:37:59.145: E/AndroidRuntime(23601):    ... 11 more 
```

我还不知道如何使用 AsyncTask，但从我在 Jsoup 食谱中看到的内容来看，我不需要任何 thred 来使其工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T08:39:07.863

试试这个代码：

```
Document doc = Jsoup.connect("http://example.com/").get();
Elements divs = doc.select("div#test");
for(Element div : divs)
    System.out.println(div.text()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T17:54:24.240

你的代码对我有用，我可以在 TextView 中打印数据。

你得到 NullPointer 因为你的 findViewById 返回 null 因为你没有正确设置 setContentView ..,。

```
setContentView(R.layout.your_activity_xml); 
```

# java - 将背景图片添加到 JFrame

> ID：13428796
> 
> 赞同：1
> 
> 时间：2012-11-17T07:54:13.340
> 
> 标签：java, swing, jframe

我正在尝试按照[这个](https://stackoverflow.com/questions/3006162/problem-in-adding-image-to-jframe)答案向 JFrame 添加背景图片，但遇到了一个奇怪的错误。调试时，我的 url 返回 null，并且弹出一个窗口，提示“找不到类文件编辑器”源，源附件不包含文件 Launcher.class 的源，您可以通过单击更改附件源来更改源附件以下。这意味着什么？

这是我到目前为止的代码：

```
import java.awt.Graphics;
import java.awt.image.BufferedImage;

import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.SwingUtilities;

public class DeluxKenoMainWindow extends JFrame 
{

   public DeluxKenoMainWindow()
   {
    initUI();   
   }

   public final void initUI()
   {
     setLayout(null);
     getContentPane().add(new BackgroundImage());
     int xCoord = 10;
     int yCoord = 10;
     Button[] button = new Button[80];
     for(int i = 0; i<80; i++)
     {
         String buttonName = "button" + i;
        if(i % 10 == 0)
        {
            xCoord = 10;
            yCoord +=40;
        }

        xCoord += 40;
        if(i % 40 == 0)
            yCoord += 8;

         button[i] = new Button(buttonName, xCoord, yCoord, i+1);

         getContentPane().add(button[i]);
     }

     setTitle("Delux Keno");
     setSize(500,500);

     setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
     setLocationRelativeTo(null);

   }

   public static void main(String[] args)
   {
    SwingUtilities.invokeLater(new Runnable()
    {
        public void run()
        {
            System.setProperty("DEBUG_UI", "true");
            DeluxKenoMainWindow ex = new DeluxKenoMainWindow();
            ex.setVisible(true);
        }
    });
   }
   }

import javax.imageio.ImageIO;
import javax.swing.Icon;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import java.io.*;

public class Button extends JButton {

    private String name;
    private int xCoord;
    private int yCoord;
    private final int xSize = 40;
    private final int ySize = 40;
    private int buttonNumber;
    private String picture;

    public Button(String inName, int inXCoord, int inYCoord, int inButtonNumber)
    {

      xCoord = inXCoord;
      yCoord = inYCoord;
      buttonNumber = inButtonNumber;
      picture = "graphics\\" + buttonNumber + "normal.png";

      super.setName(name);    
      super.setIcon(new ImageIcon(picture));
      super.setBounds(xCoord, yCoord, xSize, ySize);

    }

    }

import java.awt.Graphics;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.net.URL;

import javax.imageio.ImageIO;
import javax.swing.JPanel;

public class BackgroundImage extends JPanel{

    private BufferedImage img;
    private URL rUrl;
    public BackgroundImage()
    {
        super();

        try{
            rUrl = getClass().getResource("formBackground.png");
            img = ImageIO.read(rUrl);
        }
        catch(IOException ex)
        {
            ex.printStackTrace();
        }

    }

    @Override
    protected void paintComponent(Graphics g)
    {
        //super.paintComponent(g);
        g.drawImage(img, 0, 0, getWidth(), getHeight(), this);

    }

} 
```

任何sugesstions将appriciated！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T09:20:57.123

*   [由@Gagandeep Bali 设置类路径](https://stackoverflow.com/a/9866659/714968)

*   不执行任何`FileIO`in `paintComponent`，将此图像加载一次作为局部变量，将变量传入`paintComponent`

*   对于 Bingo，Minesweaper 使用[JToggleButton 而不是 JButton](https://stackoverflow.com/a/7877817/714968)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T13:42:39.100

使用 JLabel 以不同的方式进行。这是我的最终代码：

```
import java.awt.Graphics;
import java.awt.image.BufferedImage;

import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.SwingUtilities;

public class DeluxKenoMainWindow extends JFrame 
{

   public DeluxKenoMainWindow()
   {
    initUI();   
   }

   public final void initUI()
   {
     setLayout(null);
     JLabel background = new JLabel(new ImageIcon ("graphics\\formBackground.png"));

     background.setBounds(0,0,600,600);

     //getContentPane().add(new BackgroundImage());
    int xCoord = 85;
     int yCoord = 84;
     Button[] button = new Button[80];
     for(int i = 0; i<80; i++)
     {
         String buttonName = "button" + i;
        if(i % 10 == 0)
        {
            xCoord = 12;
            yCoord +=44;
        }

        if(i % 40 == 0)
            yCoord += 10;

         button[i] = new Button(buttonName, xCoord, yCoord, i+1);
         xCoord += 42;
         getContentPane().add(button[i]);
     }

     add(background);
     setTitle("Delux Keno");
     setSize(600,600);

     setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
     setLocationRelativeTo(null);

   }

   public static void main(String[] args)
   {
    SwingUtilities.invokeLater(new Runnable()
    {
        public void run()
        {
            System.setProperty("DEBUG_UI", "true");
            DeluxKenoMainWindow ex = new DeluxKenoMainWindow();
            ex.setVisible(true);
        }
    });
   }
   } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T13:46:39.323

我发现的另一个问题是您需要对 JPanel 使用 setBounds() 才能使其具有任何大小。为此，我尝试的第一种方法是更新的 BackgroundImage 类：

```
import java.awt.Graphics;
import java.awt.image.BufferedImage;
import java.io.IOException;
import java.net.URL;

import javax.imageio.ImageIO;
import javax.swing.JPanel;

public class BackgroundImage extends JPanel{

    private BufferedImage img;
    private URL rUrl;
    public BackgroundImage()
    {
        super();

        try{
            rUrl = getClass().getResource("formBackground.png");

            img = ImageIO.read(rUrl);
        }
        catch(IOException ex)
        {
            ex.printStackTrace();
        }
        super.setBounds(0,0,600,600);

    }

    @Override
    protected void paintComponent(Graphics g)
    {
        super.paintComponent(g);
        g.drawImage(img, 0, 0, getWidth(), getHeight(), this);

    }

} 
```

# android - 在 android 中设置显示方向后，相机相机预览不正确

> ID：13428797
> 
> 赞同：3
> 
> 时间：2012-11-17T07:54:15.690
> 
> 标签：android, android-camera

我试图在我的应用程序中实现相机，但我发现方向预览一直是横向的，但我的应用程序是纵向的，所以我需要它进入纵向模式我找到了一些类似的解决方案

```
mCamera.setDisplayOrientation(90); 
```

它与 Galaxy tab2 和 htc 配合得很好，但是当我在索尼 xperia sola 中测试它时，它显示奇怪，听到我添加了它的图像屏幕

![在此处输入图像描述](../Images/7bf9061bd0e320b5b7c4f4a6566aa107.png)

你可以看到相机的预览**只显示在屏幕的右侧**

但是当我从这个应用程序拍照时，它显示正常。我不知道这是什么问题，任何人都可以帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T17:56:21.567

您可以尝试强制表面大小（和位置） - 我遵循此路径来补偿 2.2 版三星 Galaxy S 中的类似错误。当设备升级到 2.3 时修复了该错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-24T18:18:46.907

我使用以下代码解决了这个问题：

```
class CameraPreview extends SurfaceView implements SurfaceHolder.Callback {

    [...]

    public void show(){
        // Install a SurfaceHolder.Callback so we get notified when the
        // underlying surface is created and destroyed.
        if (!showing) {
            showing=true;
            try {
                mCamera = Camera.open();
                aspectRatio();

                try {
                    mCamera.setPreviewDisplay(mHolder);
                    mCamera.startPreview();
                    mCamera.setDisplayOrientation(90);
                } catch (IOException e) {
                    e.printStackTrace();
                }
            } catch (Exception e) {
                e.printStackTrace();
                Toast.makeText(getContext(), R.string.text_camera_open_error, Toast.LENGTH_SHORT).show();
            }
        }
    }

    private void aspectRatio(){
        if (!aspect_radio_corrected){
            aspect_radio_corrected=true;
            Display default_disp=((Activity)getContext()).getWindowManager().getDefaultDisplay();

            Camera.Parameters parameters = mCamera.getParameters();
            Camera.Size optimalPreviewSize=parameters.getPreviewSize();

            FrameLayout.LayoutParams l_params=(FrameLayout.LayoutParams)getLayoutParams();
            float ratio = (float) optimalPreviewSize.height / optimalPreviewSize.width;
            l_params.width=default_disp.getWidth();
            l_params.height=Math.round(l_params.width / ratio);
            setLayoutParams(l_params);
            requestLayout();
        }
    }

    [...]
} 
```

在布局文件上我有：

```
<com.socialcoaster.utils.CameraPreview
    android:id="@+id/cameraView"
    android:background="@android:color/transparent"
    android:layout_width="match_parent"
    android:layout_height="match_parent" /> 
```

似乎这是一个与相机上当前预览大小设置的纵横比和要显示它的surfaceView区域相关的错误。您可以通过简单地将 的值更改`aspectRatio()`为某些固定值（例如`100`.

# objective-c - 从 iPhone 应用程序编辑我的应用程序 settings.bundle 的设置

> ID：13428804
> 
> 赞同：1
> 
> 时间：2012-11-17T07:56:22.313
> 
> 标签：objective-c, ios, settings.bundle

我在我的 iPhone 应用程序项目中创建了一个 setting.bundle。它工作正常。应用程序设置在 iPhone 默认设置应用程序中可见，带有应用程序图标和名称。

我还在我的应用程序中创建了一个 UIViewController，其中包含与 setting.bundle 的 Root.plist 中相同的设置功能。

意味着我在 iPhone 默认设置应用程序和我的应用程序设置视图控制器中都有相同的设置视图。

当我在我的应用程序的 iPhone 默认设置中应用一些更改时，它反映了我的应用程序中来自 NSNotification 对象的更改。

但是当我在我的应用程序设置视图控制器中进行一些更改时会出现问题，我无法在 iPhone 默认设置应用程序中应用这些更改。我希望两个设置页面同步工作。两个设置页面都需要相互反映它们的变化。

我发现的一个逻辑是：需要在我的应用程序中修改 settings.bundle 的 Root.plist，与应用程序设置视图控制器并行。但是如何修改它，如果我修改它成功，它会影响我的iPhone默认设置应用程序的设置吗？

第二：是否可以将任何通知从应用程序发送到 iPhone 默认设置应用程序以更改其值？

帮我解决这个问题。

如果我不能成功地向您解释我的问题，请问我。我将简要地向您解释。

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T08:00:38.467

1）您可以以编程方式更改设置应用程序的值。

您需要以`registerDefaults`编程方式调用更改设置值，例如：

`[defaults setObject:@"YES" forKey:@"Toggle];`

存储设置，然后`[defaults synchronize];`保存设置。

这`Toggle`是给任何设置组件的标识符。

2）将您的班级添加为观察者，`NSUserDefaultsDidChangeNotification`例如：

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(changed) name:NSUserDefaultsDidChangeNotification object:nil];

- (void) changed
{
  //change the app viewcontroller settings here
} 
```

并在上述方法中更改 viewControllers 设置。

# java - Android中的录制/播放手势

> ID：13428806
> 
> 赞同：1
> 
> 时间：2012-11-17T07:57:37.693
> 
> 标签：java, android, xml, record, gesture

我已经进行了一些搜索，但我认为尚未有人问过这个问题（如果有，那么我一直在使用错误的术语进行搜索）

我正在尝试找出如何记录在 Android 触摸屏上完成的触摸手势/动作（相对于时间），然后使用该手势的路径作为图形跟随的路径（使用 android 的补间功能）

我还希望能够保存动画，以便以后加载或导出为文件。

我对此的想法是获取触摸点的（x，y）坐标并在设定的时间间隔内保存这对。然后可以稍后从文件中加载坐标，以便在设备上补间 ImageView（或其他视图）。

另外，如果我将坐标保存为百分比而不是实际值，我认为这样的方法可以使其在不同尺寸的屏幕上交叉兼容，然后可以根据设备的屏幕尺寸加载它们

我的问题是：我在正确的轨道上吗？或者这会是一种低效的方式吗？

如果这是正确的想法，那么记录位置然后使用补间功能为对象设置动画的最佳方法是什么（或者是否有比补间更好的方法来提供平滑的动画）？

如果没有，我的问题的建议解决方案是什么？

所有答案表示赞赏！

比特化

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:03:51.877

在开发者应用程序示例中有一个记录手势的工具。您可以在模拟器上找到：GestureBuilder。

这是一个关于手势的[教程。](http://www.vogella.com/articles/AndroidGestures/article.html)

* * *

但是，已经提供了手势以被识别为不像动画路径的手势。但我相信您可以从手势中提取数据并获取给定单点触摸手势的“路径”。这是表示[手势](http://developer.android.com/reference/android/gesture/Gesture.html)的主要类。

它有一个`toPath()`可能对你有用的方法。

# android - 调试android内核内存泄漏，addr2line找不到具体地址

> ID：13428811
> 
> 赞同：3
> 
> 时间：2012-11-17T07:58:35.197
> 
> 标签：android, debugging, kernel, android-source

它是我自己编译的内核。问题是它在尝试启动 USB 网络共享时重新启动。wifi网络共享工作。

last_kmesg 给了这个

```
[  264.185455] Unable to handle kernel NULL pointer dereference at virtual address 00000010
[  264.185638] pgd = 80004000
[  264.185699]     [00000010] *pgd=00000000
[  264.185760] Internal error: Oops: 5     [#1] PREEMPT
[  264.185852] last sysfs file: /sys/devices/virtual/android_usb/android0/bDeviceClass
[  264.186004] Modules linked in: wl12xx_sdio wl12xx mac80211 cfg80211 compat_firmware_class(P) compat
[  264.186187] CPU: 0    Tainted: P        W   (2.6.32.39-MESA-JB-v2.3 #4)
[  264.186340] PC is at name_show+0xc/0x44
[  264.186981] LR is at name_show+0xc/0x44
[  264.190795] pc :     [<803ff2d0>]    lr :     [<803ff2d0>]    psr: a00f0013
[  264.190795] sp : cf15dda8  ip : 80323000  fp : c4e109c0
[  264.202239] r10: 00000004  r9 : c4e109c0  r8 : 00000004
[  264.207458] r7 : 00000004  r6 : cf15c000  r5 : c0b64000  r4 : c0b64000
[  264.213958] r3 : 00000001  r2 : c0b64000  r1 : 00000000  r0 : 00000000
[  264.220489] Flags: NzCv  IRQs on  FIQs on  Mode SVC_32  ISA ARM  Segment kernel
[  264.227752] Control: 10c57c7d  Table: 4ef24059  DAC: 00000017
[  264.233489] 
[  264.233489] PC: 0x803ff250:
[  264.237731] f250  e2851014 ebfb97b7 e59f301c e5941008 e5930000 ebfb9850 e5940004 e3a01000
[  264.245910] f270  e8bd4070 eafba402 80794fc0 8080a124 e92d4070 e1a05002 ebfba3f7 e5903014
[  264.254058] f290  e1a04000 e3530000 0a000003 e1a01005 e12fff33 e3500000 a8bd8070 e1a00005
[  264.262237] f2b0  e59f1008 e594200c e8bd4070 eaf9bafb 806651b2 e92d4070 e1a05002 ebfba3e6
[  264.270385] f2d0  e5903010 e1a04000 e3530000 0a000003 e1a01005 e12fff33 e3500000 a8bd8070
[  264.278533] f2f0  e1a00005 e59f1008 e5942000 e8bd4070 eaf9baea 80675d73 e92d4073 e1a04000
[  264.286712] f310  e59f60c4 e5963000 e3530000 1a000002 ebffffb1 e2505000 ba000029 e59f50ac
[  264.294860] f330  e1952f9f e2822001 e1851f92 e3310000 1afffffa e5940000 e3a01000 e5842008
[  264.303009] 
[  264.303039] LR: 0x803ff250:
[  264.307281] f250  e2851014 ebfb97b7 e59f301c e5941008 e5930000 ebfb9850 e5940004 e3a01000
[  264.315429] f270  e8bd4070 eafba402 80794fc0 8080a124 e92d4070 e1a05002 ebfba3f7 e5903014
[  264.323608] f290  e1a04000 e3530000 0a000003 e1a01005 e12fff33 e3500000 a8bd8070 e1a00005
[  264.331756] f2b0  e59f1008 e594200c e8bd4070 eaf9bafb 806651b2 e92d4070 e1a05002 ebfba3e6
[  264.339904] f2d0  e5903010 e1a04000 e3530000 0a000003 e1a01005 e12fff33 e3500000 a8bd8070
[  264.348083] f2f0  e1a00005 e59f1008 e5942000 e8bd4070 eaf9baea 80675d73 e92d4073 e1a04000
[  264.356231] f310  e59f60c4 e5963000 e3530000 1a000002 ebffffb1 e2505000 ba000029 e59f50ac
[  264.364379] f330  e1952f9f e2822001 e1851f92 e3310000 1afffffa e5940000 e3a01000 e5842008
[  264.372558] 
[  264.372558] SP: 0xcf15dd28:
[  264.376800] dd28  00000000 800ffc28 00000000 00000041 807a27e4 00000000 8fb634a0 00000000
[  264.384979] dd48  ffffffff cf15dd94 cf15c000 00000004 00000004 80033aac 00000000 00000000
[  264.393127] dd68  c0b64000 00000001 c0b64000 c0b64000 cf15c000 00000004 00000004 c4e109c0
[  264.401275] dd88  00000004 c4e109c0 80323000 cf15dda8 803ff2d0 803ff2d0 a00f0013 ffffffff
[  264.409454] dda8  c0b64000 8002ff9c cf15c000 803ff42c 80752b30 80041d0c 80041ce8 00000005
[  264.417602] ddc8  cf15c010 80042594 00000001 80764d18 80764d18 200f0093 cf612580 00000000
[  264.425750] dde8  00000003 807c8d00 cf15de14 800befc4 cf612580 200f0093 807c8d00 00000000
[  264.433929] de08  00000003 cf612580 cf15de2c 800bfd60 cf629fa4 00000001 cf600908 00000000
[  264.442077] 
[  264.442077] IP: 0x80322f80:
[  264.446350] 2f80  e3803b02 e5950004 e6ff3073 eb00021c e1a00004 eb0947a1 e3a00000 e8bd8038
[  264.454498] 2fa0  e92d4010 e1a04000 e3a02000 e5900004 e59410c0 eb000231 e250c000 b8bd8010
[  264.462646] 2fc0  e38ccc12 e30f3bff e5940004 e3a02000 e59410c0 e00c3003 e8bd4010 ea000208
[  264.470825] 2fe0  e92d4070 e1a04000 e59030e0 e3a02004 e59050dc e59410c0 e0055003 e58050e0
[  264.478973] 3000  e5900004 eb00021d e3500000 b8bd8070 e3c03efe e3150001 13833020 e3150002
[  264.487152] 3020  13833040 e3150004 13833080 e3150008 13833c01 e3150a02 13833b01 e3150901
[  264.495300] 3040  13833b02 e1530000 0a000008 e5940004 e3a02004 e59410c0 e6ff3073 eb0001e8
[  264.503448] 3060  e3500000 a3a06001 aa000001 e8bd8070 e3a06000 e59410dc e3110030 01a00006
[  264.511627] 
[  264.511627] FP: 0xc4e10940:
[  264.515869] 0940  c4e1093c 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.524017] 0960  0000d3da c4e10964 c4e10964 00000003 c4fc1af1 00000000 00000000 ced0a600
[  264.532196] 0980  8fb98e3c 00000001 00000000 00000000 54b10008 54b0f4c4 00001fe5 c4e1099c
[  264.540344] 09a0  c4e1099c 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.548522] 09c0  cf150000 00000200 00000000 00000004 8036c1a4 cf138c58 00000000 00000000
[  264.556671] 09e0  ffffff94 00000000 00000000 00000000 00000000 00000000 00000000 4f350000
[  264.564819] 0a00  4f33d140 ffc73140 00000000 00000000 00000000 00000000 00000000 00000000
[  264.572998] 0a20  00005a1a c4e10a24 c4e10a24 00000003 c7e2cc71 c7ac75d0 00000000 c885dc00
[  264.581146] 
[  264.581146] R2: 0xc0b63f80:
[  264.585388] 3f80  c0012d00 00040312 0000ffff c0012d00 00040206 0000043f c0012d00 00040204
[  264.593566] 3fa0  00000000 c0022d00 00040113 3effff00 3effff00 c0022d00 0004010c 00000000
[  264.601715] 3fc0  00000000 c0012d00 00040104 0000000f c0022d00 0004000e 00000000 00e000a0
[  264.609893] 3fe0  c0012d00 00040080 7f007f60 c0013f00 66a6a000 000006dc c0022d00 0001009c
[  264.618041] 4000  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.626190] 4020  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.634368] 4040  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.642517] 4060  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.650665] 
[  264.650695] R4: 0xc0b63f80:
[  264.654937] 3f80  c0012d00 00040312 0000ffff c0012d00 00040206 0000043f c0012d00 00040204
[  264.663085] 3fa0  00000000 c0022d00 00040113 3effff00 3effff00 c0022d00 0004010c 00000000
[  264.671264] 3fc0  00000000 c0012d00 00040104 0000000f c0022d00 0004000e 00000000 00e000a0
[  264.679412] 3fe0  c0012d00 00040080 7f007f60 c0013f00 66a6a000 000006dc c0022d00 0001009c
[  264.687561] 4000  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.695739] 4020  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.703887] 4040  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.712036] 4060  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.720214] 
[  264.720214] R5: 0xc0b63f80:
[  264.724456] 3f80  c0012d00 00040312 0000ffff c0012d00 00040206 0000043f c0012d00 00040204
[  264.732635] 3fa0  00000000 c0022d00 00040113 3effff00 3effff00 c0022d00 0004010c 00000000
[  264.740783] 3fc0  00000000 c0012d00 00040104 0000000f c0022d00 0004000e 00000000 00e000a0
[  264.748931] 3fe0  c0012d00 00040080 7f007f60 c0013f00 66a6a000 000006dc c0022d00 0001009c
[  264.757110] 4000  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.765258] 4020  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.773406] 4040  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.781585] 4060  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.789733] 
[  264.789733] R6: 0xcf15bf80:
[  264.794006] bf80  cf623ed8 cf142d60 80764d18 80750ff8 cf15bfbc 800d8f64 83b3f5b3 00000000
[  264.802154] bfa0  00000013 cf142e94 83b3f5b3 00000000 00000000 cf623ec8 80371854 cf138c00
[  264.810302] bfc0  00000000 00000000 00000000 00000000 00000000 800d8f7c 00000000 00000000
[  264.818481] bfe0  cf15bfe0 cf15bfe0 00000000 00000000 00000000 80035004 55555555 55555555
[  264.826629] c000  00000000 00000002 00000000 cf142d60 80764db0 00000000 00000017 80764d18
[  264.834808] c020  cf142d60 cf15c000 807c8d00 cf0ffde0 c8274cc0 cf612d60 cf15de94 cf15de40
[  264.842956] c040  805741a8 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.851104] c060  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.859283] 
[  264.859283] R9: 0xc4e10940:
[  264.863525] 0940  c4e1093c 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.871673] 0960  0000d3da c4e10964 c4e10964 00000003 c4fc1af1 00000000 00000000 ced0a600
[  264.879852] 0980  8fb98e3c 00000001 00000000 00000000 54b10008 54b0f4c4 00001fe5 c4e1099c
[  264.888000] 09a0  c4e1099c 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  264.896179] 09c0  cf150000 00000200 00000000 00000004 8036c1a4 cf138c58 00000000 00000000
[  264.904327] 09e0  ffffff94 00000000 00000000 00000000 00000000 00000000 00000000 4f350000
[  264.912475] 0a00  4f33d140 ffc73140 00000000 00000000 00000000 00000000 00000000 00000000
[  264.920654] 0a20  00005a1a c4e10a24 c4e10a24 00000003 c7e2cc71 c7ac75d0 00000000 c885dc00
[  264.928802] Process file-storage (pid: 67, stack limit = 0xcf15c2f0)
[  264.935150] Stack: (0xcf15dda8 to 0xcf15e000)
[  264.939483] dda0:                   c0b64000 8002ff9c cf15c000 803ff42c 80752b30 80041d0c
[  264.947662] ddc0: 80041ce8 00000005 cf15c010 80042594 00000001 80764d18 80764d18 200f0093
[  264.955810] dde0: cf612580 00000000 00000003 807c8d00 cf15de14 800befc4 cf612580 200f0093
[  264.963958] de00: 807c8d00 00000000 00000003 cf612580 cf15de2c 800bfd60 cf629fa4 00000001
[  264.972137] de20: cf600908 00000000 cf15de34 800bfddc cf15de64 800d92d0 cf600908 800beb58
[  264.980285] de40: 00000000 cf15c000 200f0093 00000000 cf138c80 00000004 00000000 8002ff40
[  264.988464] de60: cf15de7c 800bfc98 00000000 00000010 cf15c000 600f0013 8036c308 800d570c
[  264.996612] de80: cf15c000 cf6008e0 00000000 800d5794 cf15de98 800d57ec 807eac50 cf138c00
[  265.004760] dea0: 00000000 8036cd04 00000001 cf138c00 00000000 cf15c000 00000004 cf138c00
[  265.012939] dec0: 00000000 cf15c000 00000004 8036f8e8 00000017 807c8d00 0000000a 00000000
[  265.021087] dee0: 00000000 00000000 00000000 8074801c cf142d60 800ddf4c 00000000 00000002
[  265.029235] df00: 80748000 80033f64 c4e109c0 80010013 cf01a068 80365234 806bc58e 8036cedc
[  265.037414] df20: 8002ff84 8fd180e0 cf138c3c cf142e90 00007736 00000000 8002ff84 cf15c000
[  265.045562] df40: cf138c00 00000001 cf138c58 00000004 c4e109c0 00000004 c4e109c0 cf138c00
[  265.053741] df60: 00000200 cf15c000 cf138c58 803718e8 cf138c5c 806bc58e cf624000 80033f64
[  265.061889] df80: cf623ed8 cf142d60 80764d18 80750ff8 cf15dfbc 800d8f64 83574b0d 00000000
[  265.070037] dfa0: 00000013 cf142e94 83574b0d 00000000 00000000 cf623ec8 80371854 cf138c00
[  265.078216] dfc0: 00000000 00000000 00000000 00000000 00000000 800d8f7c 00000000 00000000
[  265.086364] dfe0: cf15dfe0 cf15dfe0 00000000 00000000 00000000 80035004 55555555 55555555
[  265.094543]     [<803ff2d0>] (name_show+0xc/0x44) from     [<803ff42c>] (switch_set_state+0x3c/0x130)
[  265.103057]     [<803ff42c>] (switch_set_state+0x3c/0x130) from     [<8036f8e8>] (handle_exception+0x3f8/0x4c4)
[  265.112426]     [<8036f8e8>] (handle_exception+0x3f8/0x4c4) from     [<803718e8>] (fsg_main_thread+0x94/0x2210)
[  265.121795]     [<803718e8>] (fsg_main_thread+0x94/0x2210) from     [<800d8f7c>] (kthread+0x78/0x80)
[  265.130218]     [<800d8f7c>] (kthread+0x78/0x80) from     [<80035004>] (kernel_thread_exit+0x0/0x8)
[  265.138549] Code: 806651b2 e92d4070 e1a05002 ebfba3e6 (e5903010) 
[  265.146209] ---    [ end trace 1b75b31a2719ed1e ]---
[  265.165191] Kernel panic - not syncing: Fatal exception
[  265.165344]     [<8003a260>] (unwind_backtrace+0x0/0x154) from     [<80573ae0>] (panic+0x54/0x120)
[  265.165557]     [<80573ae0>] (panic+0x54/0x120) from     [<80038038>] (die+0x168/0x194)
[  265.169982]     [<80038038>] (die+0x168/0x194) from     [<8003b3f0>] (__do_kernel_fault+0x64/0x74)
[  265.178222]     [<8003b3f0>] (__do_kernel_fault+0x64/0x74) from     [<8003b5c4>] (do_page_fault+0x1c4/0x1d8)
[  265.187347]     [<8003b5c4>] (do_page_fault+0x1c4/0x1d8) from     [<8003325c>] (do_DataAbort+0x30/0x98)
[  265.196014]     [<8003325c>] (do_DataAbort+0x30/0x98) from     [<80033aac>] (__dabt_svc+0x4c/0x60)
[  265.204254] Exception stack(0xcf15dd60 to 0xcf15dda8)
[  265.209289] dd60: 00000000 00000000 c0b64000 00000001 c0b64000 c0b64000 cf15c000 00000004
[  265.217437] dd80: 00000004 c4e109c0 00000004 c4e109c0 80323000 cf15dda8 803ff2d0 803ff2d0
[  265.225585] dda0: a00f0013 ffffffff
[  265.229095]     [<80033aac>] (__dabt_svc+0x4c/0x60) from     [<803ff2d0>] (name_show+0xc/0x44)
[  265.236968]     [<803ff2d0>] (name_show+0xc/0x44) from     [<803ff42c>] (switch_set_state+0x3c/0x130)
[  265.245483]     [<803ff42c>] (switch_set_state+0x3c/0x130) from     [<8036f8e8>] (handle_exception+0x3f8/0x4c4)
[  265.254852]     [<8036f8e8>] (handle_exception+0x3f8/0x4c4) from     [<803718e8>] (fsg_main_thread+0x94/0x2210)
[  265.264251]     [<803718e8>] (fsg_main_thread+0x94/0x2210) from     [<800d8f7c>] (kthread+0x78/0x80)
[  265.272674]     [<800d8f7c>] (kthread+0x78/0x80) from     [<80035004>] (kernel_thread_exit+0x0/0x8)
[  265.280975] &@panic_name@:*file-storage*
[  265.284942] Rebooting in 10 seconds.. 
```

我假设泄漏的地址是 0x803ff250

```
[  264.233489] PC: 0x803ff250: 
```

但是当我尝试通过 addr2line 查找地址时

```
addr2line -e ~/vmlinux 0x803ff250 
```

它只是给出了这个输出

```
??:0 
```

任何帮助/指针/指导？我不是很擅长调试东西。预先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-18T11:02:04.110

you should use the objdump to find out your crashed PC in kernel

i am not familar to addr2line, but it should be usually used at user mode va and used to debugging the user mode program. Not sure if this can finding location of kernel .

# asp.net - 哪个更适合性能视图状态或会话

> ID：13428815
> 
> 赞同：8
> 
> 时间：2012-11-17T08:00:14.870
> 
> 标签：asp.net, session, viewstate

我必须将数千条记录的数据存储在数据表中并在回发时进行维护。哪个选项适合我的视图状态（我使用的）或会话。当我使用视图状态时，它会创建隐藏字段来存储它并减慢页面加载速度。那么在会话中存储它是否有任何开销（服务器端内存消耗和响应延迟）。请建议我解决方案

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-17T08:13:16.570

对于大量数据，Session 效率更高。如果您可以检测到用户何时完成了特定数据块，请将 Session 变量设置为 null，以帮助减少内存开销。您不能总是这样做，但 Session 最终会过期，然后内存将被回收。降低会话超时会有所帮助，但不要将其设置得太小，您不想切断您的用户。会话需要在您的 Web.config 文件中启用。

以下是 Session 与 ViewState 的基本准则：

ViewState：ViewState 的二进制数据结构是经过 Base64 编码后放入页面的，也就是说它是原始二进制数据大小的 1.3333 倍（8/6）。为每个页面视图上传和下载此数据。因此，如果您在 ViewState 中有很多内容，它会影响页面响应时间。Base64 编码可能经过高度优化，因此不会影响性能。每个页面请求都会为 ViewState 分配然后释放空间，因此这不是长期的内存命中。由于数据在页面中，因此不会过期。

会话：在页面加载之间，会话中的所有数据都保存在 Web 服务器中。这样可以保持页面很小，它只需要携带 Session 标识符。不利的一面是，用于在 Session 中存储数据的任何内存都将保持分配状态，直到 Session 过期。我想知道会话是复制二进制数据还是只保留一个指针。与 Base64 编码一样，这可以进行高度优化，因此即使发生这种情况也不会影响性能。如果用户在页面浏览之间等待的时间过长，会话可能会过期。如果会话过期，它应该将用户返回到网页中的某个已知状态。

这里的另一个问题是，如果您在会话中存储信息，会话 ID 可能会在客户端浏览器中的多个选项卡之间共享。您必须小心如何使用存储在 Session 中的数据。确保您对此进行了测试，这样您的用户就不会得到意外的结果。

（注意：使用 ViewState 是 RESTful，Session 不是。）

# jquery - Jquery在另一个页面中显示/隐藏

> ID：13428818
> 
> 赞同：0
> 
> 时间：2012-11-17T08:00:45.783
> 
> 标签：jquery, html, css, show-hide

我有 2 个 html 页面

**在第 1 页**中有 2 个链接“link1”和“link2”

**在第 2 页**中还有 2 个链接“link1”和“link2”以及 2 `<div id="pan1">`&`<div id="pan2">` `<div id="pan1">`

&`<div id="pan2">`与 jquery 一起显示/隐藏

我希望当用户单击 page1 中的 link1 时，它将转到第 2 页并显示 div"id=pan1"，当用户单击 page1 中的 link2 时，它将转到第 2 页并显示 div"id=pan2"。

这是第 1 页的 html 代码

```
<ul class="linkList">
<li><a href="#pan1">Link 1</a></li>
<li><a href="#pan2">Link 2</a></li>
</ul> 
```

这是第 2 页的代码

html

```
<ul class="linkList">
<li><a href="#pan1">Link 1</a></li>
<li><a href="#pan2">2</a></li>
</ul>
<div id="pan1" class="switchgroup" style="padding:10px; background-color:#060">div 1</div>
<div id="pan2" class="switchgroup" style="padding:10px; background-color:#936">div 2</div> 
```

css

```
#pan1, #pan2{
    display:none;   
} 
```

jQuery

```
$(document).ready(function(){
    $('#pan1').show();
    $('.linkList li:first-child a').addClass('active');
    $('.linkList li a').click(function() {
        var tabDivId = this.hash;                              

        $('.linkList li a').removeClass('active');
        $(this).addClass('active');
        //console.log(tabDivId);
        $('.switchgroup').hide();
        $(tabDivId).fadeIn();
        return false;
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T09:20:50.693

这应该让您大致了解如何执行此操作。请注意，我尚未测试此代码，因此它可能存在一些小问题。

第 1 页 HTML：

```
<ul class="linkList">
    <li><a href="page2.html#pan1">Link 1</a></li>
    <li><a href="page2.html#pan2">Link 2</a></li>
</ul> 
```

第 2 页 HTML：

```
<ul class="linkList">
    <li><a href="#pan1" class="panlink">Link 1</a></li>
    <li><a href="#pan2" class="panlink">2</a></li>
</ul>
<div id="pan1" class="switchgroup">div 1</div>
<div id="pan2" class="switchgroup">div 2</div> 
```

第 2 页 JS：

```
$(function() {
    var anc = window.location.href.split('#')[1];
    $('#' + anc + '.switchgroup').show();

    $('a.panlink').click(function() {
        $('.switchgroup').hide();
        $($(this).attr('href')).show();
    });
}); 
```

第 2 页 CSS：

```
.switchgroup { display: none; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T08:38:50.517

我认为您不能创建要在其他页面上实现的功能，但在您的情况下，您可以使用参数：

当您提供第二页的（重定向到第二页）时，添加查询字符串参数，或通过表单的参数（Post/Get）。并在 JQuery 的准备功能上添加您的隐藏/显示代码。

从我理解你的问题的地方来看，这应该可以完成工作。

# iis - URL 重写 (IIS) - 如何在匹配标记中表示 url 模式

> ID：13428822
> 
> 赞同：0
> 
> 时间：2012-11-17T08:02:25.497
> 
> 标签：iis, iis-7, url-rewriting, iis-6

我的 IIS 7 服务器有一个 url 重写规则，如下所示：

```
<rewrite>
    <rules>
      <rule name="topcontent">
           <match url=".*">
                <action type="rewrite" url="mysite.com/{R:0}"/>
           </match>
       </rule>
    </rules>
</rewrite> 
```

现在我必须为此规则提供一个例外，对于特定位置，即“http://tempurl94.goto.com/?q=x&m=y”，其中“http://tempurl94.goto.com”将始终在 url 中，查询参数 q 和 m 可能会有所不同。所以我们必须为这个 url 写不同的规则。如何写一个不同的（匹配 url=？）。

也许我可以在“topcontent”规则之前写一条规则，然后说 stopProcessing='true'。但是我需要知道我应该在里面写`<match url=' ? '>`什么以及我应该在`<action>`标签中写什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T14:07:59.017

您需要将`conditions`元素添加到新规则中。将新规则放在当前规则之前并设置`stopProcessing`为`true`您提到的。

```
<conditions>
    <add input="{HTTP_HOST}" pattern="^tempurl94\.goto\.com$" />
</conditions> 
```

# objective-c - 使用 url 方案打开其他应用程序

> ID：13428825
> 
> 赞同：5
> 
> 时间：2012-11-17T08:02:56.960
> 
> 标签：objective-c, ios, url-scheme

我刚刚创建了测试应用程序并想从其他应用程序中使用它。

在这两个应用程序中都添加了 Url 类型和方案。然后从一个名为：

```
[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"Test://test_page/"]]; 
```

这有效，但我收到警告：

> 应用程序窗口应该在应用程序启动结束时有一个根视图控制器

我在这里缺少什么？

谢谢

编辑：添加了测试应用程序午餐方法：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];

    MyViewController *mainView = [[MyViewController alloc] init];
    UINavigationController *navControl = [[UINavigationController alloc] initWithRootViewController: mainView];

    [self.window setRootViewController: navControl];

    // Override point for customization after application launch.
    self.window.backgroundColor = [UIColor whiteColor];
    [self.window makeKeyAndVisible];
    return YES;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:33:56.973

您应该在 .plsit 文件中注册 URL 方案。请看这个[链接](http://mobiledevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html)

# ios - 如何使用 AVFoundation 循环播放视频而不会在结尾出现不必要的停顿？

> ID：13428831
> 
> 赞同：3
> 
> 时间：2012-11-17T08:04:09.130
> 
> 标签：ios, video, avfoundation, avplayer

我正在尝试播放无限循环的视频剪辑。我按照 Apple 推荐的方式进行操作；通过设置由 AVPlayerItemDidPlayToEndTimeNotification 触发的通知：

```
@property(nonatomic) AVPlayer *videoPlayer;
@property(nonatomic) AVPlayerItem *videoPlayerItem;

-(void)loadVideo
{
    NSURL *url = [[NSBundle mainBundle] URLForResource:filename withExtension:extension];
    AVURLAsset *asset = [AVURLAsset URLAssetWithURL:url options:nil];
    NSString *tracksKey = @"tracks";

    [asset loadValuesAsynchronouslyForKeys:@[tracksKey] completionHandler:
    ^{
        dispatch_async(dispatch_get_main_queue(),
        ^{
            NSError *error;
            AVKeyValueStatus status = [asset statusOfValueForKey:tracksKey error:&error];

            if (status == AVKeyValueStatusLoaded)
            {
                [self setVideoPlayerItem:[AVPlayerItem playerItemWithAsset:asset]];
                [videoPlayerItem addObserver:self forKeyPath:@"status" options:0 context:&ItemStatusContext];
                [[NSNotificationCenter defaultCenter] addObserver:self
                                                         selector:@selector (videoPlayerItemDidReachEnd:)
                                                             name:AVPlayerItemDidPlayToEndTimeNotification
                                                           object:videoPlayerItem];
                [self setVideoPlayer:[AVPlayer playerWithPlayerItem:videoPlayerItem]];
                [scenePlayerView setVideoPlayer:videoPlayer];
            }
        });
    }];
} 
```

触发时，这会调用我的方法来有效地倒带并再次播放剪辑：

```
-(void)videoPlayerItemDidReachEnd:(NSNotification *)notification
{
    [videoPlayerItem seekToTime:kCMTimeZero];
    [videoPlayer play];
} 
```

问题是，每次播放此方法并循环回到开头时，视频播放都会出现短暂但可见的暂停。

视频剪辑是 H.264 并且已经在其他播放器中进行了测试，以确保它们的内容中没有可见的“跳过”。这一切都发生在 iOS6 下的模拟器和 iPad2 和 iPad3 上。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-18T01:08:39.033

您有两种可能的方法来获得一个没有故障的真正专业的循环（AVPlayer 本身不起作用）。首先，您可以获取原始视频并将其解码为一系列 RGB 帧（图像）。然后对新的 h.264 视频进行编码，并将帧输入到比第一个长得多的更长的 h.264 视频中。例如，您可以将一个 10 秒的循环剪辑编码 6 次以制作一个持续一分钟的剪辑，或者 6 * 5 以制作一个在循环重新开始时可以播放 5 分钟而不会出现故障的剪辑。然后，打开较长的剪辑，用 AVPlayer 播放，一段时间不会出现故障。

第二种方法是使用已经处理无缝循环的现有库。你可以看看我的图书馆，看看我对基本相同问题[iphone-smooth-transition-from-one-video-to-another 的](https://stackoverflow.com/questions/3410003/iphone-smooth-transition-from-one-video-to-another/17138580#17138580)回答。链接答案示例中的角色使用一个视频剪辑的重复“循环”，当没有按下任何按钮时，该视频剪辑会一遍又一遍地循环。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T04:51:23.753

不幸的是，目前看来这实际上是不可能使用 AVPlayer 的——在每种情况下，在 AVPlayer 中开始播放时都会出现不可避免的问题。所以“混乱”的黑客似乎是解决这个问题的唯一方法，使用多个 AVPlayer 等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-11T09:34:45.660

我设法让它与两个一起工作`AVPlayer`，两个`AVPlayerLayer`添加到两个不同的视图（我尝试添加到同一个视图，上面的一个偶尔卡住），并在这两个视图之间切换 alpha 值。

# iphone - 从更新文本字段异步返回 - iphone

> ID：13428836
> 
> 赞同：1
> 
> 时间：2012-11-17T08:05:41.063
> 
> 标签：iphone, cocoa, asynchronous, timer

我想知道为此采取的最佳方法。

示例应用程序是：- 我有一个文本字段和按钮。单击按钮，启动更新文本字段的任务。但是文本字段需要在计时器上（或在后台）更新，比如每 1 秒，但我只需要计时器运行 5 秒，例如填充一段随机文本。

这应该给人的印象是文本框每秒显示随机单词，然后在 5 秒完成后，计时器可以停止并且最后一个值保留在文本框中。

但我也想检测停止事件，然后在文本字段中获取值并执行另一个操作。

最后的问题：-

我应该使用 Timer 事件还是操作和队列？不确定哪种方法最好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T09:22:54.383

是的，以上答案是正确的，只需要根据您的问题进行一些小改动...

```
 count = 0;

  [NSTimer scheduledTimerWithTimeInterval:1 target:self 
                 selector:@selector(ChangeText) userInfo:nil repeats:YES];

 - (void) ChangeText 
  {
    if (count < 5)
    {
      _textfield.text = [nsstring stringwithformat:@"%@%@", _textfield.text, _yourstring];
    }
    else
    {
      //Start your next event here;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T08:12:23.340

是的，以这种方式使用计时器，`repeats:YES`是您所需要的：

```
[NSTimer scheduledTimerWithTimeInterval:1 target:self 
                     selector:@selector(ChangeText) userInfo:nil repeats:YES];

- (void) ChangeText 
{
  _textfield.text = [nsstring stringwithformat:@"%@%@", _textfield.text, _yourstring];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T10:18:07.593

NSTimer 只能在主线程上工作，那么你不需要期望它会在后台启动时触发。另外我认为这基本上是良好架构的问题 - 你不想尝试处理事件来更新你的文本字段吗？例如，当某些任务完成或显示值发生变化时处理事件，然后使用委托/块/NSNotification 来接收事件并更新 UI。

# c++ - 使用模板函数对列表容器进行排序

> ID：13428840
> 
> 赞同：1
> 
> 时间：2012-11-17T08:06:37.283
> 
> 标签：c++, list, function, templates, sorting

我有一个标题，它由不同的模板函数组成

```
#include <cmath>

template<class T>
bool lessThan(T x, T y) {

    return (x < y);

}

template<class T>
bool greaterThan(T x, T y) {

    return (x > y);

} 
```

一类

```
class Point2D {
public:
    Point2D(int x, int y);
protected:
    int x;
    int y;
    double distFrOrigin; 
```

在我的驱动程序类中，我有一个 Point2D: 的 STL 列表`list<Point2D> p2dL`。如何`p2dL`使用模板函数`lessThan`和`greaterThan`在我的标题中进行排序？即基于`x`或`y`值对列表进行排序。

**编辑**：所以，根据安东的评论，我想出了这个：

```
bool Point2D::operator<(Point2D p2d) {

    if (this->x < p2d.x || this->y < p2d.y
            || this->distFrOrigin < p2d.distFrOrigin) {

        return true;

    }

    else {

        return false;

    }

} 
```

我做对了吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T08:31:30.690

*首先，只要*`operator <()`您强制执行严格的排序，所有三个主要模板都可以使用 a 公开：

```
template<class T>
bool lessThan(const T& x, const T& y) 
{
    return (x < y);
}

template<class T>
bool greaterThan(const T& x, const T& y) 
{
   return (y < x);
}

template<class T>
bool equals(const T& x, const T& y) 
{
   return !(x < y) || (y < x));
} 
```

接下来，您的类必须实现`operator <()`以将 a`*this`与参数进行比较。示例如下所示：

```
class Point2D {
public:
    Point2D(int x, int y);

    // sample that orders based on X primary, and Y if X's are equal.
    bool operator <(const Point2D& other) const
    {
        return (x < other.x || (x == other.x && y < other.y));
    }

protected:
    int x;
    int y;
    double distFrOrigin;
}; 
```

最后。像这样对您的列表进行排序：

```
// sort ascending
std::sort(p2dl.begin(), p2dl.end(), lessThan<Point2D>);

// sort descending
std::sort(p2dl.begin(), p2dl.end(), greaterThan<Point2D>); 
```

或者正如胡安指出的那样，直接使用列表排序：

```
p2dl.sort(lessThan<Point2D>); 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T08:11:46.853

您可以`std::list::sort`直接使用该方法，而不是`std::sort`：

```
p2dl.sort(lessThan<Point2D>); 
```

但是您必须根据 Point 类型实现`lessThan`和`greaterThan`/或类似的功能。例如：

```
template<class T>
bool greaterThan(const T& p1, const T& p2) {

    return (p1.x > p2.y);

} 
```

请注意，上述比较函数只是一个示例，您必须决定如何使用 2D 点实现小于和大于。

为了完整起见，这里是一个字典比较，使用`std::tie`：

```
template<class T>
bool greaterThan(const T& p1, const T& p2) 
{
    return std::tie(p1.x, p1.y) > std::tie(p2.x, p2.y);
} 
```

# c - #else 1 如何只是一个警告？

> ID：13428842
> 
> 赞同：1
> 
> 时间：2012-11-17T08:06:50.100
> 
> 标签：c, syntax, c-preprocessor

Clang 有以下测试用例：

```
#if 0
#ifdef D
#else 1       // Should not warn due to C99 6.10p4
#endif
#endif

#if 0
#else 1   // expected-warning {{extra tokens}}
#endif 
```

第一个`#else 1`确实很好，因为它在一个被跳过的组中，但据我所知，第二个应该是一个错误 - 它与标准指定的预处理器指令的语法不匹配 - 但 GCC 和 Microsoft C++ 同意只给它一个警告。我错过了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T08:28:47.933

该标准没有“错误”和“警告”的概念，它只知道“诊断”。由实施来定义什么构成诊断。大多数 C 实现，包括 clang 和 gcc，都定义了包括错误和警告的诊断。

# php - YII中的ajax融合图表

> ID：13428843
> 
> 赞同：1
> 
> 时间：2012-11-17T08:07:31.480
> 
> 标签：php, fusioncharts, yii-extensions, yii

我在 Yii 应用程序中使用了融合图表扩展。我正在使用 ajax 提交来创建各种图表。它呈现，但是当我尝试使用 ajax 过滤它时，我得到相同的输出。

这是我在视图中的代码：

```
<?php 
$this->renderPartial('_search'); ?>
<p id="ChartArea" style="text-align:center;">
<?php 
$this->renderPartial('_chart',array('cchart'=>'mychart', 
'chartType'=>'Line','chartName'=>'callTrend','data'=>array('')));?> 
```

在 _search.php 中：

```
$form=$this->beginWidget('CActiveForm', array(
        'id'=>'calltrend-form',
        'enableAjaxValidation'=>false,
        'htmlOptions'=>array('onsubmit'=>"return false;"),
    ));
echo CHtml::hiddenField('chartType','Line');
echo CHtml::hiddenField('chartName','callTrend');
echo "&nbsp;&nbsp;&nbsp;".CHtml::Label('From:','from_date',
    array('style'=>'display:inline;clear:both;'))."&nbsp;&nbsp;&nbsp;";
$this->widget('zii.widgets.jui.CJuiDatePicker', array(
        'attribute'=>'from_date',
        'name'=>'from_date',
        'htmlOptions'=>array('class'=>'input-small','style'=>'margin-top:9px;'),
        'options'=>array(
            'dateFormat' => 'yy-mm-dd',
            'altField' => '#self_pointing_id',
            'altFormat' => 'yy-mm-dd',
            'changeYear'=>'true',
            'changeMonth'=>'true',
        ),
    ));
echo "&nbsp;&nbsp;&nbsp;".CHtml::Label('To:','to_date',array('style'=>'display: 
inline;clear:both;'))."&nbsp;&nbsp;&nbsp;";
$this->widget('zii.widgets.jui.CJuiDatePicker', array(
        'attribute'=>'to_date',
        'name'=>'to_date',
        'htmlOptions'=>array('class'=>'input-small','style'=>'margin-top:9px;'),
        'options'=>array(
            'dateFormat' => 'yy-mm-dd',
            'altField' => '#self_pointing_id',
            'altFormat' => 'yy-mm-dd',
            'changeYear'=>'true',
            'changeMonth'=>'true',),
    ));
echo "&nbsp;&nbsp;&nbsp;".CHtml::Label('Project:','project',array('style'=>' 
display:inline;clear:both;'))."&nbsp;&nbsp;&nbsp;";
echo CHtml::dropDownList('project','',CHtml::listData(Project::model()->findAll()
        ,'id','name'),array('empty' => '--- Choose---','class'=>'inputmedium','style'=>'
clear:both;margin-top:9px;'));
echo "&nbsp;&nbsp;&nbsp;".CHtml::submitButton(Yii::t('app',
        'Generate'),array('class'=>'btn btn-primary','style'=>'clear:both;'));
echo "&nbsp;&nbsp;&nbsp;".CHtml::ajaxSubmitButton('Generate',
    CHtml::normalizeUrl(array('site/chart')),
    array(
        'data'=>'js:jQuery(this).parents("form").serialize()+ "&request=added"',
        'success'=>'function(data){
$("#ChartArea").html(data);
}'
    ),
    array(
        'id'=>'ajaxSubmitBtn',
        'name'=>'ajaxSubmitBtn',
        'class'=>'btn btn-primary'
    ));
$this->endWidget(); 
```

在控制器中：actionChart() 方法：

```
public function actionChart()
{
    if(Yii::app()->request->isAjaxRequest)
    {
        $chartName=$_POST["chartName"];
        if($chartName=="callTrend")
        {
            $data = array('from_date'=>$_POST["from_date"],'to_date'
            =>$_POST["to_date"],'project_id'=>$_POST["project"]);
            $cchart="mychart";
        }
        elseif($chartName=="topProducts"){
            $data = array('from_date'=>$_POST["from_date1"],'to_date'=>$_POST["to_date1"]);
            $cchart="mychart1";
        }
        elseif($chartName=="topCallers"){
            $data = array('project_id'=>$_POST["project1"]);
            $cchart="mychart2";
        }
        $chartType=$_POST["chartType"];
    }
    else
    {
        $data=array();
        $chartName="callTrend";
        $cchart="mychart";
        $chartType="Line";
    }
    $this->renderPartial('_chart',array('cchart'=>$cchart,'chartName' =>$chartName,
            'chartType'=>$chartType,'data'=>$data));
} 
```

在我的控制器中：actionCallTrend 方法：

```
public function actionCallTrend($from_date=NULL,$to_date=NULL,$project_id=NULL)
{
    echo Yii::trace(CVarDumper::dumpAsString($from_date),'vardump');
    echo Yii::trace(CVarDumper::dumpAsString($to_date),'vardump');
    Yii::app()->fusioncharts->setChartOptions( array( 'caption'=>'Last Week Call Trend',
            'xAxisName'=>'Date', 'yAxisName'=>'Calls' ) );
    $con="";
    if($from_date!=NULL && $to_date==NULL)
    {
        $con="DATE(answer_ts) >= '$from_date'";  // date is database date column field
    }elseif($to_date!=NULL && $from_date==NULL)
    {
        $con="DATE(answer_ts) <= '$to_date'";
    }elseif($from_date!=NULL and $to_date!=NULL){
        $con="DATE(answer_ts)  >= '$from_date' and DATE(answer_ts) <= '$to_date'";
    }
    if(($from_date!=NULL or $to_date!=NULL) && $project_id!=NULL)
    {
        $con.=" and project_id = '$project_id'";  // date is database date column field
    }
    $stats=Creport::model()->findAll(array(
            'select'=>'COUNT(id) as data_count, DATE(answer_ts) as unique_date, answer_ts',
            'condition'=>$con,
            'group'=>'DATE(answer_ts)',
            'order'=>'answer_ts desc',
            'limit'=>10,
        ));
    $ddg=Yii::app()->dateFormatter;
    foreach ($stats as $s){
        Yii::app()->fusioncharts->addSet(array('label'=>$ddg->format("dd",$s->answer_ts)."-"
                .$ddg->format("MMM",$s->answer_ts), 'value'=>$s->data_count));
    }
    Yii::app()->fusioncharts->useI18N = true;
    Yii::app()->fusioncharts->addTrendLine(array('startValue'=>'700000',
            'color'=>'009933', 'displayvalue'=>'Target'));
    Yii::app()->fusioncharts->addDefinition(array('name'=>'CanvasAnim',
            'type'=>'animation', 'param'=>'_xScale', 'start'=>'0', 'duration'=>'1'));
    Yii::app()->fusioncharts->addApplication(array('toObject'=>'Canvas',
            'styles'=>'CanvasAnim'));
    Yii::app()->fusioncharts->getXMLData();
} 
```

这是我的代码。它可以在没有 ajax 的情况下工作，但是当我使用 ajax 过滤字段时，将显示相同的输出，它们不会在 actionCallTrend 控制器中获得 from_date、to_date 和 project_id。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:35:13.697

访问变量：

`public function actionCallTrend($from_date=NULL,$to_date=NULL,$project_id=NULL)`

您需要将这些映射到您的网址管理器中，

最好写：

```
public function actionCallTrend() {
     $from_date  = Yii::app()->request->getQuery('from_date ', null);
     $to_date    = Yii::app()->request->getQuery('to_date', null);
     $project_id = Yii::app()->request->getQuery('project_id', null); 
```

`Yii::app()->request->getParam()`如果您不确定 POST 或 GET ，也可以使用

# wordpress - 如何使用 wordpress 删除 paginate_links 函数中的数字

> ID：13428845
> 
> 赞同：0
> 
> 时间：2012-11-17T08:08:36.917
> 
> 标签：wordpress

我在 WordPress 中使用 paginate_links 函数，所以默认分页像这样 « Prev 1 ... 3 4 5 6 7 ... 9 Next » 但我想删除数字，所以它看起来像 « Prev Next » 这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T08:22:13.143

在函数 paginate_links 它实际上是说*paginate*，所以你不想要这个函数，你想要下一个/上一个。

他们在这里解释了如何使用它：[http ://codex.wordpress.org/Next_and_Previous_Links](http://codex.wordpress.org/Next_and_Previous_Links)

# c++ - 实现如何保证迭代器的复制构造函数不会抛出？

> ID：13428851
> 
> 赞同：4
> 
> 时间：2012-11-17T08:09:05.647
> 
> 标签：c++, exception-safety

C++11 标准的第 23.2.1.10 条说

> “返回的迭代器的复制 ctor 不会引发异常”

这是否基本上说明了迭代器的复制 ctor 可能不会抛出一个 bad_alloc（假设迭代器可能只是一个指针，这里没有问题），因为它将使用“返回的”中已经构建的信息迭代器”？因为它是按值传递的，所以堆栈会在被调用函数中分配，因此可以**保证**没有内存问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:56:57.893

法律答案：没有。那只是你的解释。它在技术上是正确的，但它可能不是唯一且唯一的技术上正确的解释。

技术答案：这里的重点是避免变异迭代器抛出的异常（想想插入器或输出迭代器）导致算法被放弃，同时让容器处于未定义和不一致的状态（想想，例如, 到链接尚未完全重新链接的链接列表）

对于具有动态分配状态的迭代器而言，这不仅是 bad_alloc 的问题，而且是在它自己的副本期间尝试修改失败的引用项目的迭代器（例如，因为项目分配抛出）。

当这种情况发生时，迭代器不需要“完成算法”（这是不可能的），而是让容器处于一致且仍然可管理的状态。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T11:17:29.887

该段讨论了标准库中容器使用的迭代器。众所周知，这些迭代器可以通过多种方式实现，因此它们在被复制时不会引发异常。例如，它们都不必使用任何动态分配的内存。

保证仅适用于这些迭代器，而不适用于一般的迭代器（即使遵循示例是个好主意）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T15:19:11.917

*我认为对复制构造函数*的含义存在误解。

复制构造函数不负责分配将构建对象本身的内存，这是由调用者在外部提供的。

因此，要求是复制构造函数的**主体**（无论是编写的还是生成的）不抛出异常。在 C++ 中已知内置类型 ( `int`, `T*`, ...) 可以在不抛出的情况下复制，并且可以从那里构建可复制的类型而不会抛出异常（只要避免动态资源分配和/或 IO它是自动的）。

# javascript - 音频通道选择

> ID：13428852
> 
> 赞同：5
> 
> 时间：2012-11-17T08:09:21.320
> 
> 标签：javascript, html, browser

这个想法是让多个音频文件在网站上流式传输，并将每个音频流设置为单独的音频通道。或者，音频可以来自单独的网页，甚至单独的窗口，然后过滤到单独的音频通道。

据我了解，来自浏览器中任何地方的音频都通过音频通道 1（左）和 2（右）流式传输。在不同通道上流式传输音频源的优点是能够独立访问该声音数据以进行进一步操作。

如何实现？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-06T23:08:32.107

查看本教程关于使用 Web Audio API 创建位置音频

[http://www.html5rocks.com/en/tutorials/webaudio/positional_audio/](http://www.html5rocks.com/en/tutorials/webaudio/positional_audio/)

Web Audio API 需要低级音频函数来自由混合音频通道。

# c# - 使用 IsAuthenticated 属性扩展 ClaimsPrincipal 类

> ID：13428853
> 
> 赞同：1
> 
> 时间：2012-11-17T08:09:41.507
> 
> 标签：c#, extension-methods, claims-based-identity

我正在尝试使用属性扩展 ClaimsPrincipal 类。我想添加属性 IsAuthenticated ，它基本上会从现有的 Identity 属性返回 IsAuthenticated 。到目前为止，我已将其作为一个函数完成：

```
 public static bool IsAuthenticated(this ClaimsPrincipal principal)
    {
        return principal.Identity.IsAuthenticated;
    } 
```

我想将其转换为属性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:12:27.223

C# 或 VB.NET 不支持*扩展属性*。

# c - C -- 初始化动态列表有问题

> ID：13428858
> 
> 赞同：2
> 
> 时间：2012-11-17T08:11:30.183
> 
> 标签：c

我正在编写的二十一点程序中的交易功能遇到问题。谁能看到发生了什么？当我尝试在 main() 中打印时，出现分段错误。

干杯。

主功能

```
int main(void)
{
    int i, j, k, purse;
    card deck[52];
    card *head_d, *temp_d, *current_d = NULL, *last_d, *head_p, *temp_p, *current_p = NULL, *last_p;

make(deck);  //CREATES THE DECK
shuffle(deck); //SHUFFLES THE DECK
deal(deck, head_d, current_d, head_p, current_p)

for(i = 0; i < DECK_SIZE; i++)
    {
        printf("%d: %d %c\n", i + 1, deck[i].face, deck[i].suit);
    }

temp_p = head_p;
while(temp_p != NULL)
{
printf("%d %c\n", temp_p->face, temp_p->suit);
temp_p = temp_p->listp;
}

return(0);
} 
```

函数交易（）

```
 void deal(card x[DECK_SIZE], card *head_d, card *current_d, card *head_p, card *current_p)
    {

    int i;
    card *temp_p, *temp_d;

    for(i = 0; i < 4; i++)
    {
        if( i % 2 == 0)
        {
            temp_p = (card *)malloc(sizeof(card));
            temp_p->face = x[i].face;
            temp_p->suit = x[i].suit;

            if (current_p==NULL)
            {
                head_p=temp_p;
            }
            else
            {
                current_p->listp=temp_p;
            }
                current_p = temp_p;
                temp_p->listp = NULL;

        }
        else
        {
            temp_d=(card *)malloc(sizeof(card));
            temp_d->face = x[i].face;
            temp_d->suit = x[i].suit;

            if (current_d==NULL)
            {
                head_d=temp_d;
            }
            else
            {
                current_d->listp=temp_d;
            }
                current_d = temp_d;
                temp_d->listp = NULL;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T08:17:54.760

问题是`deal`函数的参数是*local*，这意味着当你在函数中改变它们的值时，调用函数时使用的变量不会改变。您需要*通过引用*传递这些参数：

```
void deal(card x[DECK_SIZE], card **head_d, card **current_d, card **head_p, card **current_p); 
```

例如

```
*head_p=temp_p; 
```

在函数中设置变量。

调用为

```
deal(deck, &head_d, &current_d, &head_p, &current_p); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T08:18:58.907

`head_p`您的`main`函数中有未初始化的指针变量。然而，您正试图读取据称由`head_p`. 当然，你会得到段错误。

# vb.net - 在 VB.NET 2012（Windows 窗体）中从 GridView 建立链接

> ID：13428863
> 
> 赞同：0
> 
> 时间：2012-11-17T08:12:06.813
> 
> 标签：vb.net

我有一个项目要为我的校园内的员工和日程管理开发一个应用程序。我的计划是使用 VB.NET 开发并使用 SQL Server 作为数据库。

如何使用网格视图使链接指向另一个窗口？该窗口将按计划显示所有信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T10:57:19.577

您正在寻找[DataGridViewLinkColumn](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridviewlinkcolumn.aspx)。另请检查[此](http://social.msdn.microsoft.com/Forums/en-US/winformsdatacontrols/thread/61443472-72b5-4202-a4c0-54cca77e13eb/)链接。

一旦`CellContentClick`事件触发，您可以创建另一个表单并将所需的值传递给该表单以显示详细信息并显示它们。

你也可以使用`DataGridViewButtonColumn`。

编辑：

我假设我有两种形式`frmMaster`和`frmDetails`. DataGridView 位于`frmMaster`并且用户记录`ID`在`TAG`第一个单元格的属性中。

那么，FrmMaster 代码将是：

```
Private Sub frmMaster_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load

        ' Added a LinkColumn from code (you can do it at design time too)
        DataGridView1.Columns.Add(New DataGridViewLinkColumn() With {.Text = "Show details"})
End Sub

Private Sub DataGridView1_CellContentClick(ByVal sender As System.Object, ByVal e As System.Windows.Forms.DataGridViewCellEventArgs) Handles DataGridView1.CellContentClick
    Dim detail As New frmDetail()     ' create an instance of detail form
    detail.ID = DataGridView1.Rows(e.RowIndex).Cells(0).Tag'set property of detail form
    detail.ShowDialog()   ' Show form
End Sub 
```

和`frmdetail`代码将是：

```
 Private _Id As String
    Public Property ID() As String
        Get
            Return _Id
        End Get
        Set(ByVal value As String)
            _Id = value
        End Set
    End Property

    Private Sub frmDetail_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
        LoadData(_Id)
    End Sub

    Sub LoadData(ByVal _id As Integer)
        '' use '_id' variable to extract data from dtaabse via query
    End Sub 
```

# vbscript - 删除特定子文件夹的 VB 脚本

> ID：13428869
> 
> 赞同：0
> 
> 时间：2012-11-17T08:13:13.507
> 
> 标签：vbscript, command-prompt

我需要 VBScript / 命令提示符来删除具有特定名称的子文件夹

例如：

1.  E:\test\43\5512686\5512698\html\abc
2.  E:\test\43\5467686\5512699\html\abc
3.  E:\test\43\5587686\55147589\html\abc
4.  E:\test\45\5517586\5512698\html\abc

ETC。，

其中上述示例“abc”文件夹需要删除

有人可以帮忙吗

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T09:44:34.027

对于背景/上下文，请参见递归[*文件*](https://stackoverflow.com/a/13416248/603855)[访问](https://stackoverflow.com/a/13416248/603855)[框架](https://stackoverflow.com/a/13416248/603855)*。鉴于此文件夹结构：*

 *```
tree /A ..\test
Folder PATH listing for volume eh
Volume serial number is 0ED6-233C
E:\TRIALS\SOTRIALS\ANSWERS\13415663\TEST
+---vbs
\---df
    +---1
    |   +---b
    |   |   \---x
    |   \---a
    |       \---abc
    \---2
        \---abc
            \---xx 
```

这个概念验证代码：

```
Option Explicit

Dim goFS : Set goFS = CreateObject("Scripting.FileSystemObject")

WScript.Quit Main()

Function Main()
  Dim sDir : sDir = "..\test"
  Dim oWorker : Set oWorker = New cWorker
  Main = traverseDir(goFS.GetFolder(sDir), oWorker)
End Function

Class cWorker
  Public Sub processFile(oFile)
    ' not needed
  End Sub
  Public Function processFolder(oFolder)
    WScript.Echo "looking at", oFolder.Path
    processFolder = True
    If "abc" = oFolder.Name Then
       WScript.Echo "will delete", oFolder.Path
       oFolder.Delete
       processFolder = False
    End If
  End Function
End Class

Function traverseDir(oDir, oWorker)
  traverseDir = 0
  Dim oF
  For Each oF In oDir.Files
      oWorker.processFile oF
  Next
  For Each oF In oDir.SubFolders
      If oWorker.processFolder(oF) Then
         traverseDir = traverseDir(oF, oWorker)
      End If
  Next
End Function 
```

输出：

```
cscript step02.vbs
looking at E:\trials\SoTrials\answers\13415663\test\vbs
looking at E:\trials\SoTrials\answers\13415663\test\df
looking at E:\trials\SoTrials\answers\13415663\test\df\1
looking at E:\trials\SoTrials\answers\13415663\test\df\1\b
looking at E:\trials\SoTrials\answers\13415663\test\df\1\b\x
looking at E:\trials\SoTrials\answers\13415663\test\df\1\a
looking at E:\trials\SoTrials\answers\13415663\test\df\1\a\abc
will delete E:\trials\SoTrials\answers\13415663\test\df\1\a\abc
looking at E:\trials\SoTrials\answers\13415663\test\df\2
looking at E:\trials\SoTrials\answers\13415663\test\df\2\abc
will delete E:\trials\SoTrials\answers\13415663\test\df\2\abc 
```

证据：

```
tree /A ..\test
Folder PATH listing for volume eh
Volume serial number is 0ED6-233C
E:\TRIALS\SOTRIALS\ANSWERS\13415663\TEST
+---vbs
\---df
    +---1
    |   +---b
    |   |   \---x
    |   \---a
    \---2 
```

您应该能够编写一个脚本来解决您的特定问题。

**更新：**

[在这里](https://stackoverflow.com/a/13453705/603855)查看应用于移动文件夹的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T09:09:15.527

好吧，您需要阅读所有文件夹，比较子文件夹，如果它适合您的名字，请将其删除。

使用它来获取您的子文件夹。

```
Set fs = CreateObject("Scripting.FileSystemObject")
Set f = fs.GetFolder("E:\test\43\5512686\5512698\html\")
Set fc = f.SubFolders 
```

然后使用它来删除您的文件夹。

```
Set filesys = CreateObject("Scripting.FileSystemObject")
If filesys.FolderExists("E:\test\43\5512686\5512698\html\abc") Then 
   filesys.DeleteFolder "E:\test\43\5512686\5512698\html\abc"
End If 
```

使用这些片段，您可以轻松完成您需要的代码。

似乎您不确定父文件夹的不同名称，因此您必须从根文件夹开始并循环所有子文件夹并为每个文件夹级别执行此操作。*

# assembly - 将内存操作数移动到段寄存器，程序集（x86）

> ID：13428875
> 
> 赞同：0
> 
> 时间：2012-11-17T08:14:45.380
> 
> 标签：assembly, x86, nasm, intel, masm

我们是否能够使用汇编（x86）语言中的 MOV 指令以这些方式将内存操作数移动到段寄存器？

1.

> MOV DS,[BX]

2.

> MOV DS,[6401H]

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:24:04.530

是的，[英特尔](http://intel80386.com/386htm/MOV.htm)支持`mov ds, reg/mem`，但不支持`mov ds, imm16`。

验证**1)** gcc -c foo.s; objdump -d foo.o

```
mov (%bx), %ds
mov 1231(%bx), %ds

 d:   67 8e 1f                mov    (%bx),%ds
10:   67 8e 9f cf 04          mov    0x4cf(%bx),%ds 
```

验证**2)**会比较棘手，因为 PE 386 中的指令在 gcc/cygwin 中转换为 `mov 0x7b, %reg`; 但它适用于任何寄存器。在 80286 OTOH 中，有*一种*寻址模式`mov [0x1111], reg`。

```
mov (123), %ds               // the target is protected mode 386
mov (123), %bx
15:   8e 1d 7b 00 00 00       mov    0x7b,%ds  
1b:   66 8b 1d 7b 00 00 00    mov    0x7b,%bx 
```

paulsm4 关于问题 2) 可能是正确的——虽然例如 Flat Assembler 能够`mov ax,[123]`在 8086 模式下编译，但它不允许`mov ds,[123]`.

但是，如果您允许对规则进行一些弯曲，例如，如果 bx/bp/[sp]/di/si 中的任何一个为零，则`mov ds, [1234 + reg]`允许。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T16:18:01.430

是的，两种寻址模式都有效。

您已将这个问题标记为 Masm 和 Nasm。他们不一样，你知道的！为了说服 Masm 你想要一个内存引用，你可能需要做`mov ds, ds:[6401h]`- 奇怪，我知道，但那是汇编器的语法 - 或者是，我最后一次使用 Masm（很久以前！）。冗余`ds:`在 Masm 中被优化掉，Nasm 会发出它。如果 Fasm 不这样做，那么 Fasm 就坏了（我对此表示怀疑！Tomasz 是个天才！）...... 用 Fasm 尝试一下 - 效果很好！

顺便说一句，32 位地址确实涉及一个段寄存器 - 操作系统设置了它们，并且很少在“用户空间”代码中使用它们，但它们仍然存在！（64 位代码，不，但我不太确定）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T08:22:42.920

伙计——本世纪甚至没有人使用 DS 寄存器 :)！

我强烈建议您学习 32 位汇编程序。如果您可以访问 Linux，这是一个极好的资源：

*   [从头开始编程](http://savannah.nongnu.org/projects/pgubook/)

回答你的问题 - 我相信“不”。您通常从 AX 寄存器加载 DS（尽管您当然可以使用其他三个通用寄存器中的任何一个）。

绝对确定，您应该在 Intel 参考手册中查找它（您应该可以在 Google 上找到它）。

PS：

当我说“32 位”时，我赶紧补充一点，你为 x86-32 学到的任何东西都直接适用于 x86-64。但是，您为 16 位 DOS 学习的大部分（大部分？）内容*不适*用于任何当代（阅读：虚拟内存/线性地址空间）系统。

恕我直言...

# git - 如何让用户访问 gitolite 中的所有存储库？

> ID：13428876
> 
> 赞同：2
> 
> 时间：2012-11-17T08:15:16.480
> 
> 标签：git, gitolite

我有一个特定的用户（备份）定期克隆/获取我们 gitolite 系统中的所有存储库。我必须手动添加

```
 R = backup 
```

对于我拥有的每一个回购。有没有更简单的方法可以让这个用户访问每一个 repo？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-17T08:23:48.493

试试这个：

```
repo    @all
  R     = backup 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-17T09:47:28.947

请注意，如果由于某种原因，您需要从用户 ' `backup`' 访问权限中排除 repo，您​​可以添加拒绝规则：

```
repo gitolite-admin
    -   =   backup
    option deny-rules = 1

repo @all
    R   =   backup 
```

例如，在这里，您不会备份主`gitolite-admin`存储库。

见[积累规则](http://sitaramc.github.com/gitolite/rules.html#rule-accum)。

# php - 如果 MYSQL 字段 A 等于 MYSQL 字段 B 则打印 MYSQL 字段 C

> ID：13428877
> 
> 赞同：0
> 
> 时间：2012-11-17T08:15:17.650
> 
> 标签：php, mysql

我想打印一个名为“res_properties”的表格的内容，以大致了解我的投资组合，但不知道语法（PHP 了解我，但我不了解 PHP...）：

我有一个名为“res_properties”的表和一个名为“location_id”的列，还有一个名为“res_location”的表和两个名为“id”和“slug”的列，其中“slug”列包含该位置的人类可读内容

样本“id”是“3”，等于“California”（“slug”的内容）“id”是“4”，等于“Virginia”（“slug”的内容）等等。

打印时我需要查找表'res_location'并且当'location_id'等于'id'然后用'slug'的内容替换'id'（或将'slug'的内容移动到一个新字段中，例如'location_name '（25 个字符）并打印该字段。

到目前为止，我的代码是这样的，我感谢任何帮助。非常感谢：

```
<html>
<head>
<title>Portfolio</title>
</head>
<link rel="stylesheet" type="text/css" href="../scripts/css/formate.css" />
<body>

<?php 
 // Connects to Database 
 mysql_connect("localhost","user","passw") or die(mysql_error()); 
 mysql_select_db("db_name") or die(mysql_error()); 
 $data = mysql_query("SELECT * FROM res_properties"); 
 $location = mysql_query("SELECT * FROM res_locations")

 or die(mysql_error()); 

 Print "<table border cellpadding=3>"; 
 Print "<br><h3>Portfolio</h3><p><br>"; 
   Print "<table border cellpadding=3>"; 
   Print "<tr align='left'><th width=130>Villa Name</th><th width=40>Beds</th><th width=40>Baths</th><th width=60>Sleeps</th><th width=40>Location</th><th width=40>Loc-ID</th><th width=300 >Site URL</th></tr>"; 

   while($info2 = mysql_fetch_array( $location )) 
   while($info = mysql_fetch_array( $data )) 

 { 

 Print "<tr>"; 
 Print "<td>".$info['ref_id'] . "</td> "; 
 Print "<td>".$info['bedrooms'] . " </td>"; 
 Print "<td>".$info['bathrooms'] . " </td>"; 
 Print "<td>".$info['max_occupants'] . " </td>"; 
 Print "<td>".$info2['slug'] . " </td>"; 
 Print "<td>".$info2['id'] . " </td>"; 

// here I want to print a clickable URL but some syntax error:
// Print "<td>" http://www.domain_name.com/'.$info['slug'] .'.html;

// when using the echo command it works fine like this, but doesn't output a clickable URL:
// echo 'http://www.domain_name.com/'.$info['slug'] .'.html' . "<br />"; 

 } 
 Print "</table>"; 
 ?> 

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T08:46:55.410

很难阅读您问题的正文，但如果标题准确，那么这可能就是您想要的。

```
SELECT IF(table.fieldA = table.fieldB, table.fieldC, NULL) FROM table; 
```

格式为IF（条件，真输出，假输出）

现在，如果我的答案在正确的轨道上但不完全正确，你告诉我，我会更新它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T08:50:42.770

在mysql中使用joins，那么你就不用担心php脚本了，使用下面的sql查询来获取数据

```
$data = mysql_query("select
rl.id,
rl.slug
from res_location as rl
join res_properties as rp on rp.location_id=rl.id"); 
```

[在 w3easystep.info 关注我的博客](http://w3easystep.info)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T09:10:10.897

我了解到您想打印 res_properties 和 res_locations 表的内容。表 res_properties 包含位于某些状态的属性。在您的输出中，您要打印属性和属性所在的状态。最好的方法是使用[res_properties](http://dev.mysql.com/doc/refman/5.0/en/join.html)的 location_id 列和 res_locations 的列 id 将表 res_properties 和 res_locations 连接到单个 sql 语句中：

```
$data = mysql_query("SELECT * FROM res_properties t1 INNER JOIN res_locations t2 ON t1.location_id = t2.id"); 
```

使用 join 语句，mysql 返回一个包含与单个属性对应的全部信息的单个连接表。现在迭代 $data 并打印值：

```
print "<table>";
while($info = mysql_fetch_array( $data )) {
   print "<tr>"; 
   print "<td>" . $info['ref_id'] . "</td> "; 
   print "<td>" . $info['bedrooms'] . "</td>"; 
   print "<td>" . $info['bathrooms'] . "</td>"; 
   print "<td>" . $info['max_occupants'] . "</td>"; 
   print "<td>" . $info['slug'] . "</td>"; 
   print "<td>" . $info['id'] . "</td>";
   print "<td>http://www.domain_name.com/" . $info['slug'] . ".html</td>";
}
print "</table>"; 
```

要更好地理解 php，请尝试考虑两个连续 while 循环的语义：

```
while($info2 = mysql_fetch_array( $location )) 
while($info = mysql_fetch_array( $data )) 
{ 
```

还要注意在[打印](http://php.net/manual/en/function.print.php)语句中使用正确的 php 语法以避免语法错误！例如，要打印纯字符串值，需要使用括号：

```
print "hello world"; 
```

我希望我的代码没有语法错误并且我回答了你的问题。

# css - 为什么 :last-child 选择器只选择“最新的孩子”？

> ID：13428879
> 
> 赞同：0
> 
> 时间：2012-11-17T08:15:42.453
> 
> 标签：css, css-selectors

我已经尝试了几次，每次都会发生以下情况：当我使用`:last-child`选择器时，它只选择文档的最后一个孩子，而`:first-child`选择器选择文档的**所有**第一个孩子。有人可以解释我为什么吗？

例子：

**：第一个孩子**

```
<style>
p:first-child {background: pink;}
</style>
<body>
<p> This is the first child of the body so the background color is pink </p>
<p> This is some text in a paragraph </p>
<p> This is some text in a paragraph </p>
<div>
<p> This is the first child of the div so the background color is also pink </p>
<p> This is some text in a paragraph </p>
<p> This is some text in a paragraph </p>
</div> 
</body> 
```

**：最后一个孩子**

```
<style>
p:last-child {background: pink;}
</style>
<body>
<p> This is some text in a paragraph </p>
<p> This is some text in a paragraph </p>
<p> I expect that this will have a pink background but it won't :( Why? </p>

<div>
<p> This is some text in a paragraph </p>
<p> This is some text in a paragraph </p>
<p> This is the last child of div and only this paragraph has a pink background </p>
</div> 
</body> 
```

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T08:47:03.687

> 当我使用`:last-child`选择器时，它只选择文档的最后一个孩子，而`:first-child`选择器选择文档的**所有**第一个孩子。

这不是真的。他们都分别在文档中选择了他们父母的**所有最后一个孩子和第一个孩子。**您要么误解了“最后一个孩子”和“第一个孩子”的含义，要么误解了您的页面结构。

`p:first-child`这里匹配两个元素，因为第一个子元素`div` *和*第一个子元素`body`都是`p`元素。

`p:last-child`只匹配一个元素，因为你的最后一个孩子`div`是 a `p`，但最后一个孩子`body`是**那个`div`**，而不是 a `p`。

稍微缩进你的 HTML 会让这更清楚：

```
<body>
  <p></p>   <!-- First child of body is p -->
  <p></p>
  <p></p>
  <div>     <!-- Last child of body is div -->
    <p></p> <!-- First child of div is p -->
    <p></p>
    <p></p> <!-- Last child of div is p -->
  </div> 
</body> 
```

如前所述，您可能希望选择第一个和最后一个`p`元素，在这种情况下您应该使用`p:first-of-type`and`p:last-of-type`代替。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T08:26:27.707

`p:last-child`选择`p`作为其父元素的最后一个子元素的元素，因此它后面没有任何兄弟元素。`<p> I expect that this will have a pink background but it won't :( Why? </p>`后面是 a `div`，它是最后一个孩子，而不是它的前一个兄弟`p`。

我认为你想要的是[`:last-of-type`](http://www.w3.org/TR/selectors/#last-of-type-pseudo)伪类。`p:last-of-type {background: pink;}`将选择您想要的元素。

# c++ - 在注入的 DLL 中调用函数？

> ID：13428881
> 
> 赞同：5
> 
> 时间：2012-11-17T08:15:48.430
> 
> 标签：c++, function, dll, process, inject

使用 C++，我有一个创建远程进程并将 DLL 注入其中的应用程序。有没有办法让远程应用程序从创建它的应用程序执行从 DLL 导出的函数？是否可以向该函数发送参数？请注意，我试图避免在 DllMain 中做任何事情。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-19T03:19:05.947

***注意：***
*要获得更好的答案，请[参阅下面发布的我的更新](https://stackoverflow.com/a/29897128/1500110)！*

* * *

好的，这就是我能够做到这一点的方法：

```
BOOL RemoteLibraryFunction( HANDLE hProcess, LPCSTR lpModuleName, LPCSTR lpProcName, LPVOID lpParameters, SIZE_T dwParamSize, PVOID *ppReturn )
{
    LPVOID lpRemoteParams = NULL;

    LPVOID lpFunctionAddress = GetProcAddress(GetModuleHandleA(lpModuleName), lpProcName);
    if( !lpFunctionAddress ) lpFunctionAddress = GetProcAddress(LoadLibraryA(lpModuleName), lpProcName);
    if( !lpFunctionAddress ) goto ErrorHandler;

    if( lpParameters )
    {
        lpRemoteParams = VirtualAllocEx( hProcess, NULL, dwParamSize, MEM_RESERVE|MEM_COMMIT, PAGE_EXECUTE_READWRITE );
        if( !lpRemoteParams ) goto ErrorHandler;

        SIZE_T dwBytesWritten = 0;
        BOOL result = WriteProcessMemory( hProcess, lpRemoteParams, lpParameters, dwParamSize, &dwBytesWritten);
        if( !result || dwBytesWritten < 1 ) goto ErrorHandler;
    }

    HANDLE hThread = CreateRemoteThread( hProcess, NULL, 0, (LPTHREAD_START_ROUTINE)lpFunctionAddress, lpRemoteParams, NULL, NULL );
    if( !hThread ) goto ErrorHandler;

    DWORD dwOut = 0;
    while(GetExitCodeThread(hThread, &dwOut)) {
        if(dwOut != STILL_ACTIVE) {
            *ppReturn = (PVOID)dwOut;
            break;
        }
    }

    return TRUE;

ErrorHandler:
    if( lpRemoteParams ) VirtualFreeEx( hProcess, lpRemoteParams, dwParamSize, MEM_RELEASE );
    return FALSE;
}

//...
CStringA targetDll = "injected.dll"

    // Inject the target library into the remote process
PVOID lpReturn = NULL;
RemoteLibraryFunction( hProcess, "kernel32.dll", "LoadLibraryA", targetDll.GetBuffer(MAX_PATH), targetDll.GetLength(), &lpReturn );
HMODULE hInjected = reinterpret_cast<HMODULE>( lpReturn );

    // Call our exported function
lpReturn = NULL;
RemoteLibraryFunction( hProcess, targetDll, "Initialize", NULL, 0, &lpReturn );
BOOL RemoteInitialize = reinterpret_cast<BOOL>( lpReturn ); 
```

这也可以用于通过指向结构或联合的指针将参数发送到远程函数，并且不必在 DllMain 中编写任何内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-04-27T13:26:44.777

所以经过一些精心的测试，我之前的答案似乎不是万无一失的
（或者甚至是 100% 的功能，就此而言），并且容易崩溃。经过一番思考，我决定采取一种完全不同的方法来解决这个问题……使用[进程间通信](https://msdn.microsoft.com/en-us/library/windows/desktop/aa365574)。

***请注意***...此方法使用`DllMain`.
所以不要太过分，并且在这样做时一定要[遵循安全的做法](https://msdn.microsoft.com/en-us/library/windows/desktop/dn633971)，这样你就不会[陷入僵局](http://en.wikipedia.org/wiki/Deadlock)......

最值得注意的是，Win32 API 提供了以下有用的功能：

*   [创建文件映射](https://msdn.microsoft.com/en-us/library/windows/desktop/aa366537)
*   [MapViewOfFile](https://msdn.microsoft.com/en-us/library/windows/desktop/aa366761)
*   [打开文件映射](https://msdn.microsoft.com/en-us/library/windows/desktop/aa366791)

[通过使用这些，我们可以直接从注入的 dll](https://msdn.microsoft.com/en-us/library/windows/desktop/ms686958)本身 告诉我们的 Launcher 进程我们的远程 init 函数所在的确切位置......

* * *

## `dllmain.cpp`：

```
// Data struct to be shared between processes
struct TSharedData
{
    DWORD dwOffset = 0;
    HMODULE hModule = nullptr;
    LPDWORD lpInit = nullptr;
};
// Name of the exported function you wish to call from the Launcher process
#define DLL_REMOTEINIT_FUNCNAME "RemoteInit"
// Size (in bytes) of data to be shared
#define SHMEMSIZE sizeof(TSharedData)
// Name of the shared file map (NOTE: Global namespaces must have the SeCreateGlobalPrivilege privilege)
#define SHMEMNAME "Global\\InjectedDllName_SHMEM"
static HANDLE hMapFile;
static LPVOID lpMemFile;

BOOL APIENTRY DllMain( HMODULE hModule, DWORD ul_reason_for_call, LPVOID lpReserved )
{
    TSharedData data;

    switch (ul_reason_for_call)
    {
        case DLL_PROCESS_ATTACH:
            DisableThreadLibraryCalls(hModule);

            // Get a handle to our file map
            hMapFile = CreateFileMappingA(INVALID_HANDLE_VALUE, nullptr, PAGE_READWRITE, 0, SHMEMSIZE, SHMEMNAME);
            if (hMapFile == nullptr) {
                MessageBoxA(nullptr, "Failed to create file mapping!", "DLL_PROCESS_ATTACH", MB_OK | MB_ICONERROR);
                return FALSE;
            }

            // Get our shared memory pointer
            lpMemFile = MapViewOfFile(hMapFile, FILE_MAP_ALL_ACCESS, 0, 0, 0);
            if (lpMemFile == nullptr) {
                MessageBoxA(nullptr, "Failed to map shared memory!", "DLL_PROCESS_ATTACH", MB_OK | MB_ICONERROR);
                return FALSE;
            }

            // Set shared memory to hold what our remote process needs
            memset(lpMemFile, 0, SHMEMSIZE);
            data.hModule = hModule;
            data.lpInit = LPDWORD(GetProcAddress(hModule, DLL_REMOTEINIT_FUNCNAME));
            data.dwOffset = DWORD(data.lpInit) - DWORD(data.hModule);
            memcpy(lpMemFile, &data, sizeof(TSharedData));
        case DLL_THREAD_ATTACH:
            break;
        case DLL_THREAD_DETACH:
            break;
        case DLL_PROCESS_DETACH:
            // Tie up any loose ends
            UnmapViewOfFile(lpMemFile);
            CloseHandle(hMapFile);
            break;
    }
    return TRUE;
    UNREFERENCED_PARAMETER(lpReserved);
} 
```

* * *

然后，从我们的 Launcher 应用程序中，我们将执行通常的`CreateProcess`++技巧来注入我们的 Dll，确保将指向正确的指针作为第三个参数传递给`VirtualAllocEx`，并在第六个参数中传递标志。`CreateRemoteThread``SECURITY_DESCRIPTOR``CreateProcess``CREATE_SUSPENDED`

这是为了帮助确保您的子进程将具有读取和写入全局共享内存命名空间的适当权限，尽管还有其他方法可以实现这一点（或者您可以完全不使用全局路径进行测试）。

该`CREATE_SUSPENDED`标志将确保 dllmain 入口点函数在加载其他库*之前*完成对我们共享内存的写入，这允许以后更轻松地进行本地挂钩......

* * *

## `Injector.cpp`：

```
SECURITY_ATTRIBUTES SecAttr, *pSec = nullptr;
SECURITY_DESCRIPTOR SecDesc;

if (InitializeSecurityDescriptor(&SecDesc, SECURITY_DESCRIPTOR_REVISION) &&
    SetSecurityDescriptorDacl(&SecDesc, TRUE, PACL(nullptr), FALSE))
{
    SecAttr.nLength = sizeof(SecAttr);
    SecAttr.lpSecurityDescriptor = &SecDesc;
    SecAttr.bInheritHandle = TRUE;
    pSec = &SecAttr;
}

CreateProcessA(szTargetExe, nullptr, pSec, nullptr, FALSE, CREATE_SUSPENDED, nullptr, nullptr, &si, &pi); 
```

* * *

将 DLL 注入目标进程后，您需要做的就是使用相同（或多或少）从 DLL 项目到 Launcher 项目的文件映射代码（当然，设置共享内存内容的部分除外） .

然后，调用您的远程函数只是一个简单的问题：

```
// Copy from shared memory
TSharedData data;
memcpy(&data, lpMemFile, SHMEMSIZE);
// Clean up
UnmapViewOfFile(lpMemFile);
CloseHandle(hMapFile);
// Call the remote function
DWORD dwThreadId = 0;
auto hThread = CreateRemoteThread(hProcess, nullptr, 0, LPTHREAD_START_ROUTINE(data.lpInit), nullptr, 0, &dwThreadId); 
```

然后你可以`ResumeThread`在目标进程的主线程上，或者从你的远程函数中。

* * *

作为一个额外的好处......使用这种通信形式还可以为我们的 Launcher 进程打开几扇门，因为它现在可以直接与目标进程通信。
但同样，请确保您不要做太多，如果可能的话，只需使用您的远程初始化函数（例如，[使用命名互斥锁](https://msdn.microsoft.com/en-us/library/windows/desktop/ms686931)`DllMain`也是安全的）创建一个单独的共享内存映射并继续从那里沟通。

## *希望这对某人有帮助！*=)

# php - 正则表达式如何使正则表达式以第二个/**为起点

> ID：13428883
> 
> 赞同：1
> 
> 时间：2012-11-17T08:16:51.613
> 
> 标签：php, regex

这是 $source 示例

```
/**
 * These functions can be replaced via plugins. If plugins do not redefine these
 * functions, then these will be used instead.
 */

if ( !function_exists('wp_set_current_user') ) :
/**
 * Changes the current user by ID or name.
 *
 */
function wp_set_current_user($id, $name = '') { 
```

**注意**：有些没有 function_exists 行。

出于我的特殊目的，我正在尝试使用正则表达式解析文档块。

这是正则表达式

```
$t = preg_match_all("@(/\*\*.*?\*/\nfunction\s.*?\(.*?\))\s{@mis",$source,$m); 
```

我希望得到：

```
 /**
     * Changes the current user by ID or name.
     *
     */
    function wp_set_current_user($id, $name = '') { 
```

但相反，它返回给我整个代码示例。

任何帮助，将不胜感激。

* * *

我发现有些人问我的目的，但我认为这在这里并不重要。

我正在使用 geany，我发现现有的 wordpress 代码提示不完整。

我发现的 docblock 解析器不解析函数名和函数参数。

所以我尝试自己解析它们。

geany 的代码提示格式是

```
wp_set_current_user|Changes the current user by ID or name.|($id, $name = '')| 
```

但是，我对这个问题的看法是如何使正则表达式以第二个“/**”为起点？我很抱歉我糟糕的英语让大家感到困惑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:44:50.813

您可以像这样通过正则表达式解析注释（查看正则[表达式环顾教程](http://www.regular-expressions.info/lookaround.html)）：

```
/\*\*/(?:(?:.(?!\*\*/))*)\*\*/ 
```

然后可以出现任意数量的空格：

```
[\s]* 
```

php中函数可以有哪些关键字？`static`, `virtual`, `final`, `public`, `private`,`protected` [如果我忘记了什么，请纠正我]。

```
(?:(?:static|virtual|final|public|private|protected)\s+)* 
```

好的，现在函数头和大括号：

```
function\s+(?P<name>\w\d_+)\s*\(...\) 
```

`...`部分变得复杂，因为它可以包含可以是复杂的php字符串（）的默认值，`$remove_characters = '\'"\n\r '`因此[解析值](https://stackoverflow.com/a/5696141/1149736)（字符串，字符串，数字，常量）：

```
"[^"\\\\]*(?:\\\\.[^"\\\\]*)*"
\'[^\'\\\\]*(?:\\\\.[^\'\\\\]*)*'
[\d.]+
\w+ 
```

导致一个大的正则`value`表达式：

```
("[^"\\\\]*(?:\\\\.[^"\\\\]*)*"|\'[^\'\\\\]*(?:\\\\.[^\'\\\\]*)*'|[\d.]+|\w+) 
```

并且每个函数参数都有一个格式`$var`或`$var = data`（当然是任意数量的空格+我省略了`array $input = array()`）所以这是简化的 var 名称匹配：

```
\\$[\w_][\w\d_]* 
```

类型匹配：

```
([\w_]+\s+)? 
```

所以函数参数可以是：

```
\s*([\w_]+\s+)?(\\$[\w_][\w\d_]*|\\$[\w_][\w\d_]*\s*=\s*<value>) 
```

函数的完整正则表达式如下所示：

```
function\s+(?P<name>\w\d_+)\s*\(\s*|<argument>((,<argument>)*)\) 
```

*我不会为你测试那些正则表达式，这是你的工作，我的目标是向你展示你需要什么，如果你想真正正确地做到这一点（但如果你找到了，请随时编辑我的答案错误）。你也可以使用真正简化的版本（比如一个函数参数的正则表达式吃掉所有东西）。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T08:50:53.497

如果您想要简单的肮脏技巧，请使用前瞻断言

```
(?<=if\ (\ !function_exists('wp_set_current_user')\ )\ :) 
```

将此附加到您的搜索中应该可以解决问题。（您可能必须转义单引号。）

# wpf - wpf DataGrid 失去焦点时丢失其行选择

> ID：13428884
> 
> 赞同：5
> 
> 时间：2012-11-17T08:17:05.547
> 
> 标签：wpf

我遇到了 DataGrid 的一个非常奇怪的行为。我在 DataGridRow 上有以下触发器

```
<Style TargetType="{x:Type DataGridRow}">
    <Style.Triggers>
        <Trigger Property="IsSelected" Value="True">
            <Setter Property="Background" Value="{StaticResource SelectionBackgroundBrush}"/>
            <Setter Property="Foreground" Value="White"/>
        </Trigger>
    </Style.Triggers>
</Style> 
```

Initially when the row is selected, I get the behavior from the above trigger. 但是，在选择之后，如果 DataGrid 失去焦点（例如，我单击窗口上的某个其他按钮），则 Foreground 属性将失去其值，但背景仍与触发器中指定的一样。有没有人遇到过这种行为，或者我上面的代码（或我的应用程序中的其他地方）存在一些问题。上述问题的任何解决方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-25T21:36:45.130

我使用了 DataGridCell 而不是 DataGridRow 它对我有用

```
 <Style TargetType="{x:Type DataGridCell}">
        <Style.Triggers>
            <Trigger Property="DataGridCell.IsSelected" Value="True">
                <Setter Property="BorderBrush" Value="#CCDAFF" />
                <Setter Property="Background" Value="#3399ff"/>
                <Setter Property="Foreground" Value="White"/>
            </Trigger>
        </Style.Triggers>
    </Style> 
```

希望它可以帮助某人！

# perl - perl Forks::Super 不等待进程

> ID：13428889
> 
> 赞同：1
> 
> 时间：2012-11-17T08:17:42.000
> 
> 标签：perl, fork, limit

我正在使用 perl 的[Forks::Super](https://metacpan.org/module/Forks::Super)模块来控制我一次分叉的进程数量。这是我的代码：

```
for(....) {
    my $pid = fork { max_proc => 10, on_busy=> "queue", sub => \&process_url, args=>[$url_h,$q_fh,$q_filename,$urls->{$url_h->{'url_id'}},\%fh] };
}
waitall; 
```

但是，问题是，假设我从循环中的 100 个项目开始（每个项目都写入一个文件），在循环之后的 waitall 之后，我可能只有 60 行写入文件中。有谁知道是什么问题？我是文件锁定，所以这不应该是问题。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-19T08:31:12.957

我对 Forks::Super 了解不多，但是从文档中我认为应该这样写：

```
$Forks::Super::ON_BUSY = 'queue';
$Forks::Super::MAX_PROC = 10;
for(....) {
    my $pid = fork { sub => \&process_url, args=>[$url_h,$q_fh,$q_filename,$urls->{$url_h->{'url_id'}},\%fh] };
}
waitall; 
```

我认为最好在没有文件句柄的情况下编写它。使用文件和锁在进程之间共享数据不是很有效。

要在 linux 中的进程之间共享数据，您可以使用：Cache::FastMmap。使用已知的 share_file，你会很好。

# jquery - fadein 中的 jquery 不透明度在 IE 中不起作用

> ID：13428900
> 
> 赞同：0
> 
> 时间：2012-11-17T08:20:48.687
> 
> 标签：jquery, internet-explorer, opacity, fadein

我很擅长将 J 查询内容放入我的项目中。我在这里有一个部分，通过单击图像，会出现一个背景褪色的弹出框。我使用了下面的书面代码：

```
<style>     
    #overlaynew{
         width:100%;
         height:100%;
         top:0px;
         background-color:#000;          
                     opacity: .75; /* standard: ff gt 1.5, opera, safari */
                     -ms-filter:”progid:DXImageTransform.Microsoft.Alpha(Opacity=50)”; 
                     filter: alpha(opacity=50);
                     -khtml-opacity: .75; /* safari 1.x */
                      -moz-opacity: .75; /* ff lt 1.5, netscape */

         position:fixed; 
         /*z-index:1000;*/
         display:none;
    }
</style>

<script>
function showboxlogin(id)
{
    $('#overlaynew').fadeIn( 2000, function(){ $('#minilogindiv').show();   
     });        
}
function hideboxlogin(id)   
   {

    $('#minilogindiv').fadeOut( 2000, function(){ $('#overlaynew').hide(); });
}
</script> 
```

它在 Firefox 中完美运行，同时单击背景褪色并出现弹出窗口。

> 块引用

但在 IE8 中，背景完全变暗/变黑。能不能让IE8的效果和firefox一样。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T22:48:29.597

看到这个问题：[jquery IE Fadein and Fadeout Opacity](https://stackoverflow.com/questions/1284163/jquery-ie-fadein-and-fadeout-opacity)

将您的`showboxlogin`功能更改为以下内容：

```
function showboxlogin(id)
{
    $('#overlaynew').css('filter', 'alpha(opacity=50)');
    $('#overlaynew').fadeIn( 2000, function(){ $('#minilogindiv').show(); });        
} 
```

# java - Eclipse 中字符串搜索程序的性能增强

> ID：13428902
> 
> 赞同：2
> 
> 时间：2012-11-17T08:21:34.897
> 
> 标签：java, string-search, boyer-moore

我编写了一个程序来搜索段落中的给定短语，并在该段落中用花括号将短语括起来。我已经使用 BoyerMoore 的算法进行搜索。同时我还需要提高程序的性能。虽然我得到了所需的输出，但性能是灾难性的。

这是代码：

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.HashMap;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;

public class BoyerMoore {
    static class Pair {
        public int start, end;

        Pair(int start, int end) {
            this.start = start;
            this.end = end;
        }

        public int weight() {
            return end - start;
        }

        public boolean contains(int point) {
            return start <= point && point <= end;
        }

        public int returnStart() {
            return start;
        }

    }

    static class Group {
        public List<Pair> pairs = new ArrayList<Pair>();
        public Pair maxWeight;

        Group(Pair start) {
            add(start);
        }

        Group(List<Pair> pairs) {
            for (Pair pair : pairs) {
                add(pair);
            }
        }

        public boolean contains(Pair pair) {
            for (Pair my : pairs) {
                if (my.contains(pair.start) || my.contains(pair.end))
                    return true;
            }
            return false;
        }

        public void add(Pair pair) {
            pairs.add(pair);
            if (maxWeight == null || maxWeight.weight() < pair.weight())
                maxWeight = pair;
        }
    }

    public static List<Integer> match(String pattern, String text) {
        List<Integer> matches = new ArrayList<Integer>();
        int m = text.length();
        int n = pattern.length();

        Map<Character, Integer> rightMostIndexes = preprocessForBadCharacterShift(pattern);
        int alignedAt = 0;
        while (alignedAt + (n - 1) < m) {
            for (int indexInPattern = n - 1; indexInPattern >= 0; indexInPattern--) {
                int indexInText = alignedAt + indexInPattern;
                char x = text.charAt(indexInText);
                char y = pattern.charAt(indexInPattern);
                if (indexInText >= m)
                    break;
                if (x != y) {
                    Integer r = rightMostIndexes.get(x);
                    if (r == null) {
                        alignedAt = indexInText + 1;
                    } else {
                        int shift = indexInText - (alignedAt + r);
                        alignedAt += shift > 0 ? shift : 1;
                    }
                    break;
                } else if (indexInPattern == 0) {
                    matches.add(alignedAt);
                    alignedAt++;
                }
            }
        }
        return matches;
    }

    private static Map<Character, Integer> preprocessForBadCharacterShift(
            String pattern) {
        Map<Character, Integer> map = new HashMap<Character, Integer>();
        for (int i = pattern.length() - 1; i >= 0; i--) {
            char c = pattern.charAt(i);
            if (!map.containsKey(c))
                map.put(c, i);
        }
        return map;
    }

    public static void main(String[] args) throws IOException {

        BufferedReader input = new BufferedReader(new InputStreamReader(
                System.in));

        ArrayList<String> ListOfAllPhrase = new ArrayList<String>();

        List<Pair> pairs = new ArrayList<Pair>();

        List<Group> groups = new ArrayList<Group>();
        ListOfAllPhrase.add("protein");
        ListOfAllPhrase.add("protein kinase");
        ListOfAllPhrase.add("protein kinase A anchor protein");
        ListOfAllPhrase.add("protein kinase A anchor proteins");
        ListOfAllPhrase.add("protein kinase A anchor protein activity");

        ListOfAllPhrase.add("IL-6");

        ListOfAllPhrase.add("SOX5");
        ListOfAllPhrase.add("NOX5");    

        System.out.println("Input a sentence: ");
        String line = input.readLine();
        char[] lineInChar = line.toCharArray();
        long startTime = System.currentTimeMillis();

        for (int i = 0; i < ListOfAllPhrase.size(); i++) {

            // offset.add((ListOfAllPhrase.get(i)).length());

            List<Integer> matches = match(ListOfAllPhrase.get(i).toLowerCase(),
                    line.toLowerCase());
            for (Integer integer : matches) {

                pairs.add(new Pair(integer, (ListOfAllPhrase.get(i)).length()
                        + integer));

            }

        }

        System.out.println("Total time taken: "
                + (System.currentTimeMillis() - startTime));

        for (Pair pair : pairs) {
            List<Group> intersects = new ArrayList<Group>();
            for (Group group : groups) {
                if (group.contains(pair)) {
                    intersects.add(group);
                }
            }

            if (intersects.isEmpty()) {
                groups.add(new Group(pair));
            } else {
                List<Pair> intervals = new ArrayList<Pair>();
                intervals.add(pair);
                for (Group intersect : intersects) {
                    intervals.addAll(intersect.pairs);
                }

                groups.removeAll(intersects);
                groups.add(new Group(intervals));
            }
        }
        StringBuilder newBuilder = new StringBuilder();
        int flag = 1;
        System.out.println(lineInChar.length);
        for (int a = 0; a <= lineInChar.length; a++) {

            for (Group group : groups) {

                if (a == group.maxWeight.start) {
                    newBuilder.append("{");
                    flag = 1;

                    break;
                }
                if (a == group.maxWeight.end && a == lineInChar.length) {
                    newBuilder.append("}");
                    flag = 0;
                    break;
                }
                if (a == lineInChar.length && a == group.maxWeight.end + 1) {
                    newBuilder.append("}");
                    flag = 0;
                    break;
                }

                if (a == group.maxWeight.end) {
                    newBuilder.append("}");
                    flag = 1;

                    break;
                }
            }
            if (flag == 0)
                continue;

            newBuilder.append(lineInChar[a]);
            flag = 1;

        }
        System.out.println("Final output: " + newBuilder);

    }
} 
```

我可以实施或做些什么来提高我的程序的性能？我应该切换到另一种字符串搜索算法吗？

如果有人可以帮我解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-18T11:44:17.683

我认为您实现了所描述的 Boyer-Moore 算法。虽然我会建议这个：

*   避免 for 循环中的“昂贵”操作。例如，您的`main`方法中的 toLowerCase() 操作。重写循环（在我的测试中速度增益为 33%）：

    ```
    for (int i = 0; i < ListOfAllPhrase.size(); i++) {

        // offset.add((ListOfAllPhrase.get(i)).length());

        List<Integer> matches = match(ListOfAllPhrase.get(i).toLowerCase(),
                line.toLowerCase());
        for (Integer integer : matches) {

            pairs.add(new Pair(integer, (ListOfAllPhrase.get(i)).length()
                    + integer));
        }
    } 
    ```

    到 ：

    ```
    ArrayList<String> lowerCaseListOfPhrases = new ArrayList<String>(ListOfAllPhrase.size());
    for (String phrase : ListOfAllPhrase) {
        lowerCaseListOfPhrases.add(phrase.toLowerCase());
    }
    String lowerCaseLine = line.toLowerCase();
    for (String phrase : lowerCaseListOfPhrases) {
      List<Integer> matches = match(phrase, lowerCaseLine);
        for (Integer integer : matches) {
            pairs.add(new Pair(integer, phrase.length() + integer));
        }

    } 
    ```

*   看看这个快速实现（参见[http://algs4.cs.princeton.edu/53substring/BoyerMoore.java.html](http://algs4.cs.princeton.edu/53substring/BoyerMoore.java.html)）：

    ```
    public static List<Integer> match2(String pattern, String text) {
      List<Integer> result = new ArrayList<Integer>();

      int[] right = new int[256]; // Assuming a 256 character encoding
      for (int c = 0; c < 256; c++)
            right[c] = -1;
      for (int j = 0; j < pattern.length(); j++)
            right[pattern.charAt(j)] = j;

      int M = pattern.length();
      int N = text.length();
      int skip;
      for (int i = 0; i <= N - M; i += skip) {
            skip = 0;
            for (int j = M-1; j >= 0; j--) {
                  if (pattern.charAt(j) != text.charAt(i+j)) {
                        skip = Math.max(1, j - right[text.charAt(i+j)]);
                        break;
                  }
            }
            if (skip == 0) {    // found
              result.add(i);
              skip += pattern.length();
            }
      }
      return result;
    } 
    ```

    执行此测试时，我的性能提高了 +- 50%：

    ```
    public static void main(String[] args) throws IOException {

      String phrase = "protein kinase A anchor protein activity";
      String txt = "This is a test protein kinase A anchor protein activityThis is a test protein kinase A anchor protein activityThis is ";

      List<Integer> result1 = null;
      List<Integer> result2 = null;

      long currentTime = System.currentTimeMillis();
      for (int i=0; i<1000000; i++) {
            result1 = match(phrase, txt);
      }
      System.out.println("ExecutionTime match: " + (System.currentTimeMillis() - currentTime));

      currentTime = System.currentTimeMillis();
      for (int i=0; i<1000000; i++) {
            result2 = match2(phrase, txt);
      }
      System.out.println("ExecutionTime match2: " + (System.currentTimeMillis() - currentTime));

      Assert.assertTrue(result1.equals(result2));

    } 
    ```

    输出：

    > 执行时间匹配：5590
    > 执行时间匹配2：2663

    *   如果您不介意 Boyer-Moore 算法，请使用 Java 内置功能：

    public static List match3(String pattern, String text) { List result = new ArrayList();

    ```
    int index = text.indexOf(pattern);
    while (index >= 0) {
        result.add(index);
        index = text.indexOf(pattern, index + 1);
    }
    return result;
    } 
    ```

# javascript - 如何从下到上动画条形图？

> ID：13428905
> 
> 赞同：2
> 
> 时间：2012-11-17T08:21:41.847
> 
> 标签：javascript, jquery, css, charts

我正在尝试制作条形图，并且条形图现在从上到下进行动画处理，但我希望它从下到上进行动画处理。我如何让它从下到上？

**CSS**

```
.bar {
width:50px;
height:250px;
list-style-type:none;
}
.bar p {
background-color:#63F;
}
.bar span { 
padding-left:15px;
left:100%;  
}
#content ul {
list-style-type:none;
}
#content ul li {
float:left;
margin:50px;
} 
```

**HTML**

```
<div id="content">
<ul>
  <li>
    <div class="bar">
      <p><span>50%</span></p>
    </div><br>
    Freshmen                    
  </li>
</ul>
</content> 
```

**Javascript**

```
<script src="../../jquery-1.6.4.min.js"></script>    
$(document).ready(function(){
    $(".bar").each(function(){
        var length = $(this).find("span").html();
        $(this).find("p").delay(500).animate({'height':length},3500,function(){$(this).find("span").fadeIn(1000);
        });
    });
}); 
```

[“单击此处在 jsfiddle 中查看”](http://jsfiddle.net/saolaoane/6zqSS/ "单击此处在 jsfiddle 中查看")

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-09T09:17:22.653

[http://jsfiddle.net/t4THf/5/](http://jsfiddle.net/t4THf/5/)

**CSS**

```
.perfect
{
    padding-top:30px;
    width:500px;
    height:300px;
    position:relative;
    background-color:#efefef;
}
.perfect .bar
{
    float:left;
    position:relative;
    width:40px;
    height:100%;
    margin-left:5px;
}
.perfect .bar .slideup
{
    position:absolute;
    bottom:0px;
    width:40px;
    background-color:#fff000;
    border:1px solid #000;
}
.perfect .bar .slideup span
{
    display:block;
    position:absolute;
    margin:5px;
    top:-30px;
} 
```

**HTML**

```
<div class="perfect">
    <div class="bar">
        <div class="slideup">
            <span>20%</span>
        </div>
    </div>
    <div class="bar">
        <div class="slideup">
            <span>30%</span>
        </div>
    </div>
    <div class="bar">
        <div class="slideup">
            <span>10%</span>
        </div>
    </div>
    <div class="bar">
        <div class="slideup">
            <span>70%</span>
        </div>
    </div>
    <div class="bar">
        <div class="slideup">
            <span>100%</span>
        </div>
    </div>
    <div class="bar">
        <div class="slideup">
            <span>50%</span>
        </div>
    </div>
    <div class="bar">
        <div class="slideup">
            <span>60%</span>
        </div>
    </div>
    <div class="bar">
        <div class="slideup">
            <span>55%</span>
        </div>
    </div>
    <div class="bar">
        <div class="slideup">
            <span>70%</span>
        </div>
    </div>
    <div class="bar">
        <div class="slideup">
            <span>70%</span>
        </div>
    </div>
</div> 
```

**JS**

```
$(function(){
     $(".bar").each(function(){
        var length = $(this).find("span").html();
        $(this).find(".slideup").delay(500).animate({'height':length},
"slow",function(){$(this).find("span").fadeIn(1000);
        });
    });
}); 
```

点击这里进行[演示](http://jsfiddle.net/t4THf/5/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-17T08:26:32.990

您可以定义**position:absolute**到您的**bar**。像这样写：

```
.bar {
width:50px;
height:250px;
list-style-type:none;
    position:relative;
}
.bar p {
background-color:#63F;
    position:absolute;
    bottom:0;
    left:0;
} 
```

检查这个[http://jsfiddle.net/6zqSS/1/](http://jsfiddle.net/6zqSS/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-17T08:59:36.610

You could also achieve this using css keyframes, for example for webkit [http://jsfiddle.net/kudoslabs/YddaY/](http://jsfiddle.net/kudoslabs/YddaY/)

css

```
dl{ position: relative ; height: 200px ; }
dt,dd{ position: absolute ; }
dd{ height: 70% ; width: 30px ; background: grey ; bottom: 20px ; -webkit-animation: animate-bar 1.25s 1 linear; }
dt{ bottom: 0 ; }
@-webkit-keyframes animate-bar{
    0% {height: 0% ; }
}​ 
```

html

```
<dl>
    <dt>Freshman</dt>    
    <dd>70%</dd>
</dl>​ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T09:49:10.300

[http://jsfiddle.net/chovy/6zqSS/2/](http://jsfiddle.net/chovy/6zqSS/2/)

```
.bar {
    position: relative;
}

.bar p {
    position: absolute;
    bottom: 0;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-05-29T18:16:37.617

使用关键帧为 css 属性设置动画，例如宽度 一旦设置了元素的宽度（例如 div），动画就会启动

```
.animated-bar {
  animation: animateBar 0.25s ease-in;
  @keyframes animateBar {
    0% {
      width: 0;
    }
  }
} 
```

```
<div class="animated-bar" style="width: 200px"><div> 
```

# asp.net - 操作可能会破坏 ASP.NET 中的运行时

> ID：13428906
> 
> 赞同：4
> 
> 时间：2012-11-17T08:21:43.873
> 
> 标签：asp.net, .net, exception, dll

我在这个项目中使用谷歌分析 dll 文件。它不会在本地给出任何错误，但在 io 将网站部署到服务器时会产生此错误。

```
[VerificationException: Operation could destabilize the runtime.]
   Google.Apis.Discovery.BaseService.DeserializeResponse(IResponse input) in Service.cs:391
   Google.Apis.Analytics.v3.AnalyticsService.DeserializeResponse(IResponse response) in 0ixqzagp.0.cs:4340
   Google.Apis.Requests.ServiceRequest`1.FetchObject(IResponse response) in ServiceRequest.cs:203
   _Default.Page_Load(Object sender, EventArgs e) +241
   System.Web.Util.CalliEventHandlerDelegateProxy.Callback(Object sender, EventArgs e) +51
   System.Web.UI.Control.OnLoad(EventArgs e) +92
   System.Web.UI.Control.LoadRecursive() +54
   System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +772 
```

在我的代码中，我在这一行得到了这个异常

```
Profiles myProfiles = _service.Management.Profiles.List("~all", "~all").Fetch(); 
```

过去 2 小时我一直在谷歌上搜索，但找不到任何解决方案。请提供解决方案。提前谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-26T19:13:04.810

这实际上可能类似于我大约一个月前提出的修复程序，即 Google.Api.Services.BaseClientService.cs 类的代码审查。

这是错误报告：[https ://code.google.com/p/google-api-dotnet-client/issues/detail?id=330](https://code.google.com/p/google-api-dotnet-client/issues/detail?id=330)

这是补丁的代码审查：[https ://codereview.appspot.com/110190043/](https://codereview.appspot.com/110190043/)

操作可能会破坏运行时 Google.Api.Services.BaseClientService.cs

本质上，我需要对 DLL 运行 peverify 以找出导致“不稳定的可能性”的语法。找到这条线后，我更正了 google 输入的不安全语法。

我还添加了包含修复程序的 Google.Apis.dll 的编译版本。

我希望这有帮助！

# linux - 如何在linux中设置环境变量LD_LIBRARY_PATH

> ID：13428910
> 
> 赞同：290
> 
> 时间：2012-11-17T08:22:25.450
> 
> 标签：linux, environment-variables

我首先执行了命令：`export LD_LIBRARY_PATH=/usr/local/lib`

然后我打开了`.bash_profile`文件：`vi ~/.bash_profile`. 在这个文件中，我放了：

```
LD_LIBRARY_PATH=/usr/local/lib
export LD_LIBRARY_PATH 
```

然后，如果终端关闭并重新启动，则键入`echo $LD_LIBRARY_PATH`不会显示任何结果。

如何永久设置路径？

* * *

## 回答 #1

> 赞同：257
> 
> 时间：2012-11-17T08:32:31.187

You should add more details about your distribution, for example under Ubuntu the right way to do this is to add a custom `.conf` file to `/etc/ld.so.conf.d`, for example

```
sudo gedit /etc/ld.so.conf.d/randomLibs.conf 
```

inside the file you are supposed to write the complete path to the directory that contains all the libraries that you wish to add to the system, for example

```
/home/linux/myLocalLibs 
```

remember to add only the path to the dir, not the full path for the file, all the libs inside that path will be automatically indexed.

Save and run `sudo ldconfig` to update the system with this libs.

* * *

## 回答 #2

> 赞同：182
> 
> 时间：2016-06-01T01:47:37.617

保留之前的路径，不要覆盖它：

```
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/your/custom/path/ 
```

您可以将其添加到您的`~/.bashrc`：

```
echo 'export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/your/custom/path/' >> ~/.bashrc 
```

* * *

## 回答 #3

> 赞同：42
> 
> 时间：2014-04-10T15:03:50.673

添加

> LD_LIBRARY_PATH="/path/you/want1:/path/you/want/2"

至`/etc/environment`

请参阅[Ubuntu 文档](https://help.ubuntu.com/community/EnvironmentVariables#A.2BAC8-etc.2BAC8-environment)。

更正：我应该接受自己的建议并实际阅读文档。它说这不适用于 LD_LIBRARY_PATH：*由于 Ubuntu 9.04 Jaunty Jackalope，LD_LIBRARY_PATH 不能在 $HOME/.profile、/etc/profile 和 /etc/environment 文件中设置。您必须使用 /etc/ld.so.conf.d/* .conf 配置文件。* 所以[user1824407 的答案](https://stackoverflow.com/a/13428971/4298200)是正确的。

* * *

## 回答 #4

> 赞同：31
> 
> 时间：2015-12-06T17:36:04.867

或者，您可以使用指定的库目录执行程序：

```
/lib/ld-linux.so.2 --library-path PATH EXECUTABLE 
```

[在这里阅读更多](http://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html#AEN77)。

* * *

## 回答 #5

> 赞同：25
> 
> 时间：2012-11-17T08:27:31.563

该文件`.bash_profile`仅由登录 shell 执行。您可能需要将其放入`~/.bashrc`，或者只需注销并再次登录。

* * *

## 回答 #6

> 赞同：18
> 
> 时间：2015-11-04T20:15:35.013

出于某种原因，没有人提到 bashrc 需要在编辑后重新获取资源这一事实。您可以注销并重新登录（如上所述），但您也可以使用命令：`source ~/.bashrc`或`. ~/.bashrc`.

* * *

## 回答 #7

> 赞同：15
> 
> 时间：2012-11-17T08:31:25.717

Put `export LD_LIBRARY_PATH=/usr/local/lib` in `~/.bashrc` [preferably towards end of script to avoid any overrides in between, Default `~/.bashrc` comes with many `if-else` statements]

Post that whenever you open a new terminal/konsole, `LD_LIBRARY_PATH` will be reflected

* * *

## 回答 #8

> 赞同：9
> 
> 时间：2016-07-19T00:19:44.570

1.  转到主文件夹并编辑 .profile
2.  将以下行放在最后

    `export LD_LIBRARY_PATH=<your path>`

3.  保存并退出。

4.  执行这个命令

    `sudo ldconfig`

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2014-03-03T10:10:08.870

您可以尝试添加自定义脚本，例如 `myenv_vars.sh`在`/etc/profile.d`.

```
cd /etc/profile.d
sudo touch myenv_vars.sh
sudo gedit myenv_vars.sh 
```

将此添加到空文件中，然后保存。

```
export LD_LIBRARY_PATH=/usr/local/lib 
```

注销和登录，`LD_LIBRARY_PATH`将被永久设置。

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2014-10-24T19:36:46.087

我在 Mint 15 到 17 中执行以下操作，也适用于 ubuntu 服务器 12.04 及更高版本：

```
sudo vi /etc/bash.bashrc 
```

滚动到底部，然后添加：

```
export LD_LIBRARY_PATH=. 
```

所有用户都添加了环境变量。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2022-02-04T11:25:35.373

在**Ubuntu 20.04** Linux 中，这并不像它应该的那样明显和直截了当。

我将尝试让任何像我使用**Ubuntu 20.04.3 Linux**一样拔掉头发的人都能轻松做到这一点。

首先确定库文件文件夹所在的路径。在我的例子中，我正在使用的 * **.so**文件位于一个名为**libs**的文件夹中，并且这个文件夹在我的 Ubuntu 框中的路径是**/usr/lib**

所以现在我想将路径**/usr/lib**添加到**LD_LIBRARY_PATH**以便当我在我的 Ubuntu 终端中运行**echo $LD_LIBRARY_PATH**时，我将能够看到路径 **/usr/lib**回显，如下所示；

```
joseph$ echo $LD_LIBRARY_PATH
:/usr/lib 
```

这是我使用的步骤

1.  在 Ubuntu 20.04 Linux 盒子中打开**终端**
2.  通过运行**cd /etc/ld.so.conf.d/**将路径更改为**/etc/ld.so.conf.d/**
***   **使用文本编辑器** （例如**vim**或**gedit** ）在末尾创建一个带有 * **.conf**扩展名的文件，在我的情况下，我按如下方式创建它**sudo gedit my_project_libs.conf*********   在我创建的名为**my_project_libs.conf的****.conf**文件中，我 通过添加这一行**export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib添加了我的库的路径*******   此后，我然后运行**​​gedit ~/.bash_profile**打开 **~/.bash_profile**文件，以便我可以在其中添加这一行**export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib**，其中包括我的库**/usr/**文件夹的路径我希望包含在**LD_LIBRARY_PATH中的****库*****   我还运行**gedit ~/.bashrc**来打开 **~/.bashrc**文件，以便我可以在其中添加这一行**export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib**，其中包括我的库**/usr/lib**文件夹的路径我想包含在**LD_LIBRARY_PATH***   在步骤 5 中添加完行后，**保存**并**关闭**.*   在您的终端中，键入以下**sudo ldconfig**并按 键盘上的**enter 。**关闭您正在使用的所有打开的终端，然后打开一个新的终端会话并运行 echo $LD_LIBRARY_PATH 如果您看到您添加的路径被回显，那么您做对了。**************

 ****就我而言，这是我在新打开的 Ubuntu 终端会话中运行**echo $LD_LIBRARY_PATH时看到的****：/usr/lib**

 **```
joseph$ echo $LD_LIBRARY_PATH
:/usr/lib 
```

这就是我让它在我的**Ubuntu 20.04.3 Linux 机器**上为我工作的方式。******

# api - VB6 中的 Skype COM：“请求授权”事件？

> ID：13428914
> 
> 赞同：0
> 
> 时间：2012-11-17T08:23:33.390
> 
> 标签：api, skype

我在 VB6 中使用 Skype COM 对象（“SKYPE4COMLib.Skype”）。

当 Skype 显示消息“文件名想要连接到 Skype。你想允许这个吗？”时，有没有办法获取事件？在 Skype 窗口中？

我想在我的应用程序中显示一个消息框，告诉用户他必须在 Skype 窗口中单击“允许”，因为 Skype 窗口中的这条消息很容易被忽略。

但是我不想一直用这个消息框来打扰用户。可能用户之前已经在 Skype 中确认过这个问题，这个授权问题就不再显示了。

这就是为什么我想要一个事件告诉我这个问题实际上显示在 Skype 窗口中。

或者有没有人为这个问题找到任何其他聪明的解决方案？

非常感谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-19T06:48:11.950

在 VB6 中，有这个“状态”事件。它包含告诉人们授权状态的信息。对我来说似乎有点麻烦，但无论如何这是一个起点。

# performance - NetBeans 运行速度非常慢

> ID：13428920
> 
> 赞同：0
> 
> 时间：2012-11-17T08:24:26.197
> 
> 标签：performance, tomcat, netbeans

我正在使用 NetBeans IDE 6.9.1。我在 JSP 中有一个使用 Spring 3.0.2 版和 Hibernate Tools 3.2.1.GA 的 Web 应用程序。慢慢地，它的大小一直在增长，但它并不是一个很大的应用程序，尽管我在需要时添加了许多外部类库，例如[`HibernateValidator`](http://sourceforge.net/projects/hibernate/files/hibernate-validator/4.0.2.GA/hibernate-validator-4.0.2.GA-dist.zip/download?use_mirror=nchc).

性能下降，构建应用程序需要大量时间。保存更改后，很多时候，应用程序会使用 NetBeans 的自动部署功能无限/无休止地部署。它永远不会结束，我必须重新启动 IDE，并且该过程从头开始重新开始。有时应用程序会自动停止，我必须重新启动 Tomcat 服务器（6.0.26），因为大多数情况下尝试重新启动应用程序都不会成功。

很多次（每半小时左右），应用程序以以下异常结束。

> java.lang.OutOfMemoryError: PermGen 空间

我必须重新启动系统本身！

在使用 JPA 以及 EJB 和 JSF 作为前端（GlassFish Server 3）时，如果我没记错的话，即使使用相同版本的 NetBeans IDE 和完全相同的平台的重负载应用程序也**常常**不是这种情况.

有没有一些方法可以提高性能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T08:58:41.587

如果可以的话，尝试覆盖 jvm 选项以获得更多内存

```
export JAVA_OPTS="-Xms64m -Xmx512m -XX:PermSize=128m -XX:MaxPermSize=756m" 
```

在这里[http://www.unidata.ucar.edu/projects/THREDDS/tech/tds4.2/reference/JavaOptsSummary.html](http://www.unidata.ucar.edu/projects/THREDDS/tech/tds4.2/reference/JavaOptsSummary.html)你可以找到更多关于 java_opts 参数的信息

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T15:16:38.980

我了解您正在使用 Netbeans。一个简单的解决方案是去工具->服务器->（选择服务器（在您的情况下为tomcat））->平台，然后在VM选项中，粘贴以下设置：

```
-Xmx1024m -XX:NewSize=256m -XX:MaxNewSize=256m -XX:PermSize=256m -XX:MaxPermSize=256m 
```

那将解决您的问题。祝你好运！

# php - 将日期导入 MySQL

> ID：13428922
> 
> 赞同：0
> 
> 时间：2012-11-17T08:24:41.237
> 
> 标签：php, mysql, sql, database, date

我似乎找不到任何关于此的信息..

我需要将字符串转换为日期，以便正确导入 SQL DATE 字段。当我导入`12/25/2012`数据库时​​，它显示为`0000-00-00`.

这样做的正确方法是什么？

链接和参考表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T08:29:27.630

MySQL 接受这种格式的日期，`YYYY-MM-DD`要么将日期格式更改`12/25/2012`为，`2012-12-25`要么修改它们以匹配正确的格式。

**编辑** 如果你想继续使用你自己的格式试试这个

```
list($d,$m,$y) = explode("/", "12/25/2012"); //replace 12/25/2012 with your date
$hyphenDate = $y . '-' . $m . '-' . $d;
echo  $hyphenDate; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T08:33:19.403

正如[@Ravi](https://stackoverflow.com/a/13428957/722783)在他的回答中指出的那样，MySQL 接受格式为日期的日期`YYYY-MM-DD`。引自[***11.1.5。日期和时间类型***](http://dev.mysql.com/doc/refman/5.0/en/date-and-time-types.html)¹：

> 尽管 MySQL 尝试以多种格式解释值，但日期部分必须始终按年-月-日顺序给出

为此，您可以使用^(2 个)函数对其进行格式化：[**`str_todate()`**](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_str-to-date)

```
str_to_date('12/25/2012', '%m/%d/%Y); 
```

## [SQL 小提琴演示](http://sqlfiddle.com/#!2/dee65/5)

这样，这些输入字符串将作为日期对象（没有任何特定的日期格式）存储在您的数据库中。稍后，如果您想以特定格式输出这些日期，您可以使用³对其进行格式化。就像是：[**`DATE_FORMAT`**](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date-format)

```
SELECT DATE_FORMAT(datefield, '%Y-%m-%d') FROM Test;
--2012-12-25 
```

^(**1、2、3：**^(您要求的链接和参考。))

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T08:35:00.917

使用类 DateTime。例子：

```
$SomeDate = new DateTime();
echo $SomeDate->format( 'Y-m-d H:i:s' );  //Must be MySQL compatible (YYYY-MM-DD)

$ThisDate = new DateTime( date( 'Y-m-d H:i:s' ) );
echo $ThisDate->format( 'Y-m-d H:i:s' );  //Must be MySQL compatible (YYYY-MM-DD) 
```

# ruby - 在 rhomobile 中发送带有 pdf 文件作为附件的电子邮件

> ID：13428923
> 
> 赞同：0
> 
> 时间：2012-11-17T08:24:44.853
> 
> 标签：ruby, email, pdf, email-attachments, rhomobile

我想使用带有单个 pdf 文件作为附件的 mailto 标签发送电子邮件。mailto 标记使用传递的参数（如 to 和 subject）打开邮件窗口，使用：

```
<a href="mailto:<%=@user.mgremail%>?subject=Expense Report&attachment='<%=fileNameW%>'">Mail to Manager</a> 
```

但是，附件作为参数不起作用。请建议如何在 rhomobile 中发送 pdf 附件。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-18T10:49:40.623

我认为您需要添加 PDF 文件的物理路径才能使其工作（否则它可能不知道文件在哪里）。[论坛上的这个帖子](http://forums.devshed.com/beginner-programming-16/using-mailto-with-an-attachment-66699.html)是这样说的：

> 唯一的问题是这个“mailto”命令在客户端机器上执行，因此它试图通过物理路径而不是虚拟路径来定位附件文件。
> 
> 那是，
> 
> 1.  使用 mailto:iudith.m@zim.co.il?subject=my report&body=see attachment&attachment="\myhost\myfolder\myfile.lis"
>     
>     > 工作正常，但仅适用于本地用户（与“myhost”机器连接到同一网络的用户）。
>     
>     
> 2.  使用 mailto:iudith.m@zim.co.il?subject=my report&body=see attachment&attachment="http://myhost:myport/my_location_virtual_path/myfile.lis"
>     
>     > > 不起作用，它不会将这样的语法识别为对附件文件有效。

在您的情况下，您可能需要查看 Rhomobile 文档的[这一部分](http://docs.rhomobile.com/rhodes/device-caps#file-system-access)（关于文件系统访问）以获得文件的正确路径。

**编辑：**

从您的评论中，我可以看到您正在尝试使其在 iOS 上运行（由于 iOS 特定路径）。

在[这个讨论](https://groups.google.com/forum/?fromgroups=#!topic/rhomobile/EMVzy-Jj5xI)（来自 Rhomobile 的 Google Group）中，解释了 mailto 不支持 iOS 上的附件。它说如下：

> 不知道其他平台，但你不能在 iOS 上做到这一点。mailto：不支持 iOS 上的附件。
> 
> 您可以使用本机 API MFMailComposeViewController 来完成。
> 
> 这是一个带有 UI 的完整控制器，因此您必须编写一个 Native View Extension 才能使用它：
> 
> [http://docs.rhomobile.com/rhodes/extensions#native-view-extensions](http://docs.rhomobile.com/rhodes/extensions#native-view-extensions)

**编辑2：**

我环顾四周，似乎 mailto 也不支持 Android 上的附件。这是因为 Android 支持不包含附件的 RFC 2368 mailto 协议。[这](http://developer.android.com/reference/android/net/MailTo.html)是对 Android mailto url 解析器的参考。

我建议您按照 iOS 的建议进行操作，编写本机扩展。我认为[这篇文章](https://stackoverflow.com/questions/2033818/how-to-send-open-email-attachments-from-android-app)对你很重要。

# sql - Oracle sql，使用关系视图

> ID：13428925
> 
> 赞同：1
> 
> 时间：2012-11-17T08:24:46.223
> 
> 标签：sql, oracle

我已经创建了一个表 TRKTRIPLEG（如下）：

```
CREATE TABLE TRKTRIPLEG(
        T#              NUMBER(10)      NOT NULL,
        LEG#            NUMBER(2)       NOT NULL,
        DEPARTURE       VARCHAR(30)     NOT NULL,
        DESTINATION     VARCHAR(30)     NOT NULL,
        CONSTRAINT TRKTRIPLEG_PKEY PRIMARY KEY (T#, LEG#),
        CONSTRAINT TRKTRIPLEG_UNIQUE UNIQUE(T#, DEPARTURE, DESTINATION),
        CONSTRAINT TRKTRIPLEG_FKEY1 FOREIGN KEY (T#) REFERENCES TRKTRIP(T#) ); 
```

我在表中插入了一些值：

```
INSERT INTO TRIPLEG VALUES(10, 1, 'Perth', 'Sydney');
INSERT INTO TRIPLEG VALUES(10, 2, 'Sydney', 'Brisbane'); 
```

我想出来的输出应该是这样的：

```
T# ORIGIN DESTINATION1 DESTINATION2
---- ---------- ------------------- ----------------
10 Perth   Sydney       Brisbane 
```

我已经坚持了很长一段时间，似乎无法做到这一点......对此有任何帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T08:51:20.660

```
select o.t#, 
       o.departure,
       o.destination as destination_1,
       d.destination as destionation_2
from tripleg o
  join tripleg d on o.t# = d.t# and o.departure = d.origin 
```

# winforms - C#/WinForms：设置和获取静态变量的值

> ID：13428927
> 
> 赞同：0
> 
> 时间：2012-11-17T08:24:58.360
> 
> 标签：winforms, class, static

我有以下全局类文件：

全球.cs

```
public static class Global
    {
        private static string _globalVar = "";

        public static string GlobalVar
        {
            get { return _globalVar; }
            set { _globalVar = value; }
        }
    } 
```

我将 Form1.cs 中字符串 GlobarVar 的新值设置为“1234”。

Form1.cs

```
public Form1()
        {
            InitializeComponent();
            Global.GlobalVar = "1234";
        } 
```

我尝试使用消息框将值显示到 Form2.cs

```
public Form2()
        {
            InitializeComponent();
            MessageBox.Show(Global.GlobalVar); // displays blank values
        } 
```

我错过了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:26:25.517

四个选项：

*   你不是在建造`Form1`之前建造`Form2`
*   其他东西正在设置`Global.GlobalVar`回 null 或空字符串
*   您的表单位于不同的应用程序域中，因此它们将具有完全独立的全局类型
*   您正在运行该应用程序两次；静态变量不会跨不同进程存在

很难说是哪种情况，但我个人会尽量避免从使用全局状态开始。对于程序如何工作的可测试性和推理来说，这是一种痛苦。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-21T10:49:04.147

Try your property page (file Global.cs) like these:

```
public class Global
{
    private static string _globalVar;

    public string GlobalVar
    {
        get { return _globalVar; }
        set { _globalVar = value; }
    }
} 
```

# android - 为我的网站和/或我的 Android 应用自定义 Google 路线

> ID：13428928
> 
> 赞同：0
> 
> 时间：2012-11-17T08:25:31.780
> 
> 标签：android, google-maps, dijkstra

我目前偶然发现了谷歌的方向图，用户输入一个起始地址和一个结束地址，然后它会生成从起始地址到结束地址的路线。我发现生成的路线效率不高，并且没有考虑它突出显示的某条街道的交通情况。

在我的应用程序中，我制作了一个`Graph`. 该图包括`Vertices`，`Edges` 顶点是交点，并具有各自的地理位置。边是从一个顶点到另一个顶点的路径。

为了获得我的图表的最短路径，我使用了 Dijkstra 算法。一种算法，可以绘制出最有效的路线。

所以我的问题是如何自定义谷歌地图的突出显示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-03-03T18:19:49.550

使用 google map android api 直接添加形状？这是他们的官方指南：

[谷歌地图android api添加形状](https://developers.google.com/maps/documentation/android-api/shapes)

# c# - C# 是否被视为上下文无关语言？

> ID：13428934
> 
> 赞同：3
> 
> 时间：2012-11-17T08:26:28.640
> 
> 标签：c#, compilation, context-free-grammar

我一直在寻找这个，但是在[MSDN 论坛](http://social.msdn.microsoft.com/Forums/en-us/csharplanguage/thread/a7dfd7c4-c5fd-44f6-88a9-87bb8645e171)上这个问题有很多不同的答案。

有人说*“所有计算机语言语法都是上下文无关的”*，其他人说*任何具有空格敏感语法的语言都可能是上下文相关的，因此不是上下文无关的*（F# 和 Python）。

谁会是一个很好**的明确答案**，也许是一些证据。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-31T01:28:33.550

我会将 C# 描述为具有上下文无关的语法，但该语言具有语法中未表达的上下文相关规则。

来自维基百科（[形式语法](http://en.wikipedia.org/wiki/Formal_grammar)）：

> 上下文无关文法是一种文法，其中每个产生式规则的左侧仅包含一个非终结符。

从 C# 4.0 规范，第 2.2.1 节（语法符号）：

> 词汇和句法语法使用语法产生式呈现。每个语法产生式都定义了一个非终结符号以及该非终结符号可能扩展为非终结符号或终结符号的序列。

当我读到它时，这意味着定义 C# 语言的生产规则是上下文无关的。每个产生式规则的左侧是一个非终结符。相比之下，上下文相关文法在产生式规则的左侧可能有多个终结符号和非终结符号。

然而，规范中有许多与上下文相关的规则。例如，“必须在获得其值的每个位置明确分配局部变量（第 5.3 节）。” 此外，“方法的签名在声明该方法的类中必须是唯一的。” 在这两种情况下，任何特定片段的有效性都取决于它出现的上下文。

当然，许多编程语言都有类似的要求，包括 C。我怀疑大多数人会认为 C 是一种上下文相关的语言。我认为[这个](https://stackoverflow.com/a/898525/517852)答案总结得很好：

> 语法正确的程序集对于几乎所有语言都是无上下文的。几乎所有语言的编译程序集都不是上下文无关的。

至于 Python 和 F#，正如我在评论中所说，这些语言通常被描述为具有不区分上下文的语义（或有时是语法）空格。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2022-01-25T17:33:55.913

C# 不是上下文无关的。考虑以下上下文中的输入序列“>>”：

```
List<List<int>> foo;
int x = 1234 >> 1; 
```

在第一种情况下，词法分析器为每个“>”返回一个单独的标记。可以在它们之间放置空白甚至是注释。'List<List /* comment */ >' 是一个完全有效的类型！

在第二种情况下，词法分析器为运算符“>>”（以及“>>=”）返回单个标记。表达式 '1234 > > 1' 将产生语法错误。

词法分析器需要知道上下文是类型还是表达式，因此 C# 不是上下文无关语法，

# jquery - 带有 id 的父选择的 jQuery 子项

> ID：13428937
> 
> 赞同：1
> 
> 时间：2012-11-17T08:26:34.880
> 
> 标签：jquery, jquery-selectors

这是我的表格，

```
<form action="" method="post" id="signupform">
    <input class="email" id="email"  type="email" placeholder="somebody@example.com" />
    <input type="submit" value="submit"/>
</form> 
```

这是javascript，

```
$(document).ready(function(){
    $('#signupform').submit(function(){
         return valid_email();
});
});

function valid_email(){
    var email = $('#signupform > #email ').val();
    alert(email);
    return false;
} 
```

它会提醒“未定义”，但如果我使用，只有`$('#email')`，我会得到正确的值。我在哪里犯错。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:28:43.373

Assign initial value to the textbox then you will be able to get it the placeholder is not taken by val() and show empty.

**[Live Demo](http://jsfiddle.net/rajaadil/V89AL/1/)**

```
$(document).ready(function() {
    $('#signupform').submit(function() {
        return valid_email();
    });
});

function valid_email() {
    var email = $('#signupform > #email ').val();
    alert(email);
    return false;
}​ 
```

# java - PL/SQL：将表列的值插入数组或 VARRAY 以供 java 访问？

> ID：13428939
> 
> 赞同：0
> 
> 时间：2012-11-17T08:27:05.217
> 
> 标签：java, oracle, jdbc, plsql, callable-statement

我需要从表中的特定列中获取值并将它们放入数组中。我正在考虑使用 PL/SQL 存储过程，然后在 java 中调用该过程并使用类似的东西：

```
 CallableStatement.getArray(2, myArray); 
```

我正在考虑使用类似的东西：

```
SELECT column1 
INTO myVARRAY
FROM table1
WHERE table_id = t_id; 
```

在存储过程中但这不起作用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-18T04:58:40.543

假设`myVARRAY`是类型`varchar2`。在这种情况下，您可以尝试类似

```
p_col   VARCHAR2 (32);

SELECT column1 
INTO p_col
FROM table1
WHERE table_id = t_id; 
```

然后你将 p_col 添加到你的数组中

```
myVARRAY.EXTEND;
myVARRAY (1) := p_col;

RETURN myVARRAY; 
```

并从 Java 调用您的数组

```
callablestatement.registerOutParameter(2, OracleTypes.ARRAY, "MYVARRAY"); 
```

希望这会有所帮助，否则请提供有关您的功能/程序和您遇到的错误类型的更多信息。

# php - Codeigniter 在数组表示法和对象表示法上都出现错误

> ID：13428941
> 
> 赞同：0
> 
> 时间：2012-11-17T08:27:17.883
> 
> 标签：php, codeigniter

我正在为我的项目使用 codeigniter，但找不到我的代码有什么问题。这是我的控制器代码

```
$products = $this->products_model->getProductsQuantity($id);
$q = $warehouse_product->quantity; 
```

**对象表示法**正在工作但出现错误：**尝试获取非对象的属性**

```
$q = $warehouse_product['quantity']; 
```

**数组表示法**不起作用并出现 php 错误：**致命错误：不能在第 xx 行的 products\controllers\products.php 中使用 stdClass 类型的对象作为数组**

这是我的模型功能

```
public function getProductsQuantity($product_id) 
    {
        $q = $this->db->get_where('products', array('product_id' => $product_id), 1); 
          if( $q->num_rows() > 0 )
          {
            return $q->row();
          } 

          return FALSE;

} 
```

请帮助我找出我的代码中的问题所在。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:53:52.300

你应该看看这个

如果您在 get_where 指令中将结果限制为 1，则返回

```
$q->row_array() // for array 
```

和

```
$q->result_array() // for object 
```

在控制器中执行此操作

```
$products = $this->products_model->getProductsQuantity($id);
$quantity = $products->quantity; // Object notation 
```

和

```
$quantity = $products['quantity']; // Array notation 
```

# css - 从文本中删除 :hover 颜色而不设置颜色

> ID：13428945
> 
> 赞同：5
> 
> 时间：2012-11-17T08:28:01.650
> 
> 标签：css, hover

我想从文本中删除 :hover 颜色。但是，在这种情况下，不可能知道非悬停颜色是什么。有没有办法将颜色设置为从其非 :hover~~父~~自身继承？我可以看到和修改 element:hover CSS，但不能修改 element CSS。

澄清：我希望链接从其非悬停状态继承颜色，以便悬停不会影响元素的颜色。我将一个 div 封装在一个链接中，以便整个 div 成为一个链接，但我不希望它改变 div 内的文本颜色。我正在更改背景颜色。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T09:26:17.257

你不能。CSS中没有撤消。也就是说，如果某些样式表将属性分配给元素或元素的状态，则无法告诉浏览器表现得好像该规则不存在一样。您可以覆盖它的效果，但这意味着将属性设置为一个值（可以是`inherit`，但这在这里没有帮助，因为继承来自父级）。

# drm - 是否有免费的 PlayReady 服务器可用？

> ID：13428947
> 
> 赞同：3
> 
> 时间：2012-11-17T08:28:09.743
> 
> 标签：drm, smooth-streaming, playready

我正在尝试使用加密的 Microsoft 平滑流媒体进行实验。我有一个安装了转换管理器的 IIS 服务器。但是，我想知道是否有免费的 PlayReady 服务器可用于在线测试？

它可以是试用版或功能受限版。在投入更多资金之前，我只想做一个快速的 POC。

我在 Microsoft PlayReady 网站上找到了服务提供商列表：http: [//www.microsoft.com/playready/licensing/asp/](http://www.microsoft.com/playready/licensing/asp/)

但它们似乎都没有提供任何形式的免费试用。

有人知道我可以使用的任何服务吗？还是有另一种将 DRM 应用于平滑流媒体的方法？

**更新：**

感谢大家的回答，感谢[Sander](https://stackoverflow.com/users/2928/sander)，我实际上找到了一个可用的：http: [//playready.directtaps.net/pr/doc/slee/](http://playready.directtaps.net/pr/doc/slee/)

供参考

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T19:30:01.697

[SilverHD DRM](http://axinom.com/drm)的限时免费试用可供商业用户使用 - 获取试用帐户的联系方式在网站上。免费试用包括访问 PlayReady 和 Windows Media DRM 许可证服务器以及随之而来的所有与许可相关的功能。*免责声明：我为提供 SilverHD DRM 服务的 Axinom 工作。*

或者，Microsoft 有一个可以免费使用的[公共 PlayReady 测试服务器。](http://playready.directtaps.net/pr/doc/customrights/)基本上，它总是会提供一个持久的许可证来响应对其提出的任何许可证请求。不是很灵活，并且 URL 查询字符串自定义选项实际上往往不起作用，但也许它适合您的需求？

如果您更详细地描述您的需求，我可能会就如何继续评估 PlayReady 提供更具体的建议。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-01-09T13:53:20.263

2019-01-09 更新：新的 Microsoft Test Playready Server 可用于测试。请注意，这不保护密钥，因为它在 laurl 请求（base64）中给出。请参见下面的示例。

```
kid=43215678123412341234123412341234
key=12341234123412341234123412341234
playready=https://test.playready.microsoft.com/service/rightsmanager.asmx?cfg=(kid:header,sl:2000,persist:false,firstexp:60,contentkey:EjQSNBI0EjQSNBI0EjQSNA==) 
```

（编辑 2019-06-06）没有时间策略功能 drop firstexp 属性的旧设备的许可证 URL。

`playready=https://test.playready.microsoft.com/service/rightsmanager.asmx?cfg=(kid:header,sl:2000,persist:false,contentkey:EjQSNBI0EjQSNBI0EjQSNA==)`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-06T11:25:46.200

我必须承认我没有仔细研究过这个，但你检查过 Azure[媒体服务](http://www.windowsazure.com/en-us/home/features/media-services/)吗？他们有免费试用，看起来他们[支持 PlayReady 和其他一些东西](http://www.windowsazure.com/en-us/develop/net/how-to-guides/media-services/)。

目前看起来他们没有“门户”（[即将发布](http://social.msdn.microsoft.com/Forums/en-US/MediaServices/thread/431ef036-0939-4784-a939-0ecb31151ded)），因此您必须使用代码进行上传等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-17T00:52:08.643

以下是一些可用于测试 PlayReady 实现的测试流：

PlayReady 加密平滑流：[http ://htmlsamples.origin.mediaservices.windows.net/66446cae-fd27-4c8f-a1c2-a38a9771ac09/Testing.ism/Manifest](http://htmlsamples.origin.mediaservices.windows.net/66446cae-fd27-4c8f-a1c2-a38a9771ac09/Testing.ism/Manifest)

PlayReady 加密 HLS：[http://htmlsamples.origin.mediaservices.windows.net/66446cae-fd27-4c8f-a1c2-a38a9771ac09/Testing.ism/Manifest(format=m3u8-aapl)](http://htmlsamples.origin.mediaservices.windows.net/66446cae-fd27-4c8f-a1c2-a38a9771ac09/Testing.ism/Manifest(format=m3u8-aapl))

PlayReady 加密 DASH：[http://htmlsamples.origin.mediaservices.windows.net/66446cae-fd27-4c8f-a1c2-a38a9771ac09/Testing.ism/Manifest(format=mpd-time-csf)](http://htmlsamples.origin.mediaservices.windows.net/66446cae-fd27-4c8f-a1c2-a38a9771ac09/Testing.ism/Manifest(format=mpd-time-csf))

以下是通过几个步骤在 Azure 上配置 PlayReady 许可证服务器的方法：[https ://www.youtube.com/watch?v=k6WWfZxE42w](https://www.youtube.com/watch?v=k6WWfZxE42w)

这是通过 Azure 媒体服务提供 PlayReady 和 AES 密钥服务的博客文章：http: [//azure.microsoft.com/blog/2015/01/29/azure-media-services-enhances-streaming-security-with-general- drm 技术的可用性/](http://azure.microsoft.com/blog/2015/01/29/azure-media-services-enhances-streaming-security-with-general-availability-of-drm-technology/)

如果您有任何问题，请联系 yanmf@microsoft。

# jquery - 获取jquery文件上传回调的upload_dir

> ID：13428949
> 
> 赞同：0
> 
> 时间：2012-11-17T08:28:26.247
> 
> 标签：jquery, file-upload, path, laravel

嗨，我已经设法让 Jquery 文件上传插件在 Laravel 框架中工作。

我可以在包的配置文件中设置upload_dir，如下所示：

```
return array(
    'upload_dir' => path('storage').'users/',
); 
```

虽然我需要在 main.js 中为名为“fileuploadcompleted”的回调获取此 URL，但这工作正常，这会将上传的文件呈现为 HTML：

```
.bind('fileuploadcompleted', function (e, data) {           
        var $filename = $.trim($('#fileupload td.name').text());
        var $filePath = '../bundles/jqueryfileupload/users/'; 
```

忽略上面的路径，它们只是用于测试目的。那么如何在上面的回调中获取用于 $filePath 的upload_dir 呢？

有没有更首选的方法来实现我想要做的事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-18T05:13:29.397

我不确定在给定服务器上传目录的绝对路径的情况下，javascript 将如何呈现文件。上传目录将类似于 /var/www/vhosts/yoursite.com/storage/users。

您可能可以创建一个使用 file_get_contents() 和您的存储目录的路由。

# html - Google Books API to find Book Edition

> ID：13428955
> 
> 赞同：3
> 
> 时间：2012-11-17T08:29:08.987
> 
> 标签：html, json, api

I'm trying to get the Google Books API to return the Book Edition number. IE: 3rd Edition, 7th, Illustrated, ect.

Using the following code, I can basically get everything I could ever want to find out about the book by changing or adding a few objectType changes. EXCEPT the edition type.

```
<html>
<head>
<title>Books API Example</title>
</head>
 <body>
   <div id="content"></div>
   <script>
     function handleResponse(response) {
     for (var i = 0; i < response.items.length; i++) {
       var item = response.items[i];
       // in production code, item.text should have the HTML entities escaped.
       document.getElementById("content").innerHTML += "<br>" + item.volumeInfo.title + " : " + item.volumeInfo.subtitle
    + "<br>" + item.volumeInfo.authors + " "
    + "<br>" + "<img src='" + item.volumeInfo.imageLinks.thumbnail + "'> <br>";
  }
}
</script>
   <script src="https://www.googleapis.com/books/v1/volumes?q=isbn:1435497783&callback=handleResponse"></script>
 </body> 
```

Here are the parameters [https://developers.google.com/books/docs/v1/reference/volumes](https://developers.google.com/books/docs/v1/reference/volumes)

Anyone know anything about the edition for the volume? EDIT: Also, would anyone be willing to show me how I can do basically an 'if' statement for a subtitle. If the book has one, I want to display it. But if it doesn't, I dont want undefined sitting next to the title.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T17:40:31.487

遗憾的是，我认为 API 不会公开这些信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T19:03:03.797

因为我自己正在使用 API，所以才遇到这个问题。响应以 JSON 对象的形式出现。查看响应并以您选择的语言创建必要的类。我正在使用 C#，所以我使用 json2csharp.com 为我创建类。一旦你有了这个，你可以将响应序列化到你的类中，这应该很容易让你看到返回的卷有字幕或任何其他属性。

请注意，我在使用 API 时正在从服务器端执行 Web 请求。这是因为我在处理服务器上的响应方面有更大的灵活性，而不是在客户端浏览器中使用一些漂亮的 javascript（那和我的 c# 技能比我的 JS 技能强得多；-)）

# sql - VB.NET - Failed to convert parameter value from a String to a Guid issue

> ID：13428960
> 
> 赞同：1
> 
> 时间：2012-11-17T08:30:29.813
> 
> 标签：sql, sql-server, vb.net, sql-server-2008

I am new to VB.NET. I can execute the following stored procedure from SQL Server Management Studio:

```
Declare @iResult int
Declare @sMessage VarChar(100)

Exec [WebSite].[vwWebCustomerPasswordUpdate] 'BF49F8B8-B580-4714-85F5-D87E4901009E', 'EF80AF910FA07870E25B1A4C86D10402', @iResult output, @sMessage output

Print @iResult
Print @sMessage 
```

Now, I want to execute the stored procedure from VB.NET. I am writing this code, but it gives me the error "Failed to convert parameter value from a String to a Guid". Here's the code that's failing:

```
Dim ssql As String
ssql = " Declare @iResult int Declare @sMessage VarChar(100) Exec [WebSite].[vwWebCustomerPasswordUpdate] 'BF49F8B8-B580-4714-85F5-D87E4901009E', 'EF80AF910FA07870E25B1A4C86D10402', @iResult output, @sMessage output"

Dim connection As New SqlConnection(connectionString)
connection.Open()

Dim Command As New SqlCommand(ssql, connection)
Command.CommandType = CommandType.StoredProcedure
Command.CommandText = "[WebSite].[vwWebCustomerPasswordUpdate]"
Command.Parameters.Add("@CustGUID", SqlDbType.UniqueIdentifier)
Command.Parameters("@CustGUID").Value = "BF49F8B8-B580-4714-85F5-D87E4901009E"
Command.Parameters.Add("@pWordHash", SqlDbType.VarChar)
Command.Parameters("@pWordHash").Value = "BF49F8B8-B580-4714-85F5-D87E4901009E"

Command.BeginExecuteNonQuery() 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T08:39:25.437

你的答案是

```
Command.Parameters("@CustGUID").Value = New Guid("BF49F8B8-B580-4714-85F5-D87E4901009E") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T08:36:52.283

change

```
Command.Parameters("@CustGUID").Value = 
      "BF49F8B8-B580-4714-85F5-D87E4901009E" 
```

to

```
Command.Parameters("@CustGUID").Value = 
     New Guid("BF49F8B8-B580-4714-85F5-D87E4901009E"); 
```

# java - Viewing JSPs with Weblogic JSPServlet

> ID：13428963
> 
> 赞同：3
> 
> 时间：2012-11-17T08:31:04.620
> 
> 标签：java, jakarta-ee, weblogic

We are currently migrating from OC4J to Weblogic. We have an ANT script which builds the EAR file. The ANT also compiles and packs all the .jsp files into a jar. But when I tried to run the application on Weblogic it always returned 404 when trying to access .jsps. So I tried to add a mapping in web.xml for weblogic.servlet.JSPServlet for the URL pattern *.jsp, but I still get 404 when I try to access .jsps.

What could be the problem?

Thanks.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T17:54:12.933

您的 EAR 文件结构必须正确。

如果要部署到 WLS，则可以单独部署 EAR 或 WAR，但是如果选择 EAR 文件，则必须在 WAR 文件中包含 JSP。您应该只需要在 web 和上下文 xml 文件中指定 servlet 和资源映射。

您还必须确保在库中有您的 .jar 文件。否则你可能会遇到问题。

如果您需要更多信息，请告诉我。

# c++ - 再次随机化的问题

> ID：13428968
> 
> 赞同：1
> 
> 时间：2012-11-17T08:31:49.963
> 
> 标签：c++, random, enums

请看下面的代码

```
#include <iostream>
#include <stdlib.h>
#include <ctime>

using namespace std;

int main()
{
    enum Movement{STAND=1,WALK,RUN,CRAWL};

    srand(time(0));
    Movement state = (Movement)(1+rand()%4);

    for(int i=0;i<10;i++)
    {

    cout << state << endl;

    switch(state)
    {
        /*Here the logic is,
         * 
         * 1\. From stand, he can walk or crawl
           2\. From Walk, he can stand or run
           3\. From Run, he can walk
           4\. From Crawl, he can stand
         */

        case STAND: 
            cout << "You can walk or crawl" << endl;        
            while(state==WALK || state==CRAWL)
            {
                state = (Movement)(1+rand()%4);
            }
            break;

        case WALK: 
            cout << "You can stand or run" << endl;
            while(state==STAND || state==RUN)
            {
                state = (Movement)(1+rand()%4);
            }
            break;

        case RUN: 
            cout << "You can walk" << endl;
            while(state==WALK)
            {
                state = (Movement)(1+rand()%4);
            }
            break;

        default: 
            cout << "You can stand" << endl;
            while(state==STAND)
            {
                state = (Movement)(1+rand()%4);
            }

    }

    }
} 
```

我正在使用随机的，并期望基于这些给定条件的随机结果。但我得到与下面相同的结果。

```
2
You can stand or run
2
You can stand or run
2
You can stand or run
2
You can stand or run
2
You can stand or run
2
You can stand or run
2
You can stand or run
2
You can stand or run
2
You can stand or run
2
You can stand or run 
```

为什么是这样？我也尝试过 do..while 循环。一点都不好。没有什么可以检查我在案例陈述中给出的条件。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T08:40:02.450

翻转你的while循环来做while。表达式对于检查也是无效的（除非您的意图是它们与文本不匹配）。根据*消息*，这些州是：

```
Stand ==> (Walk || Crawl)
Walk  ==> (Stand || Run)
Run   ==> (Walk)
Crawl ==> (Stand) 
```

所以需要将部分更改为

1.  在检查之前生成新的随机数。和..
2.  在达到有效生产之前不要离开。

后一部分对于 Run 和 Crawl 状态很重要。由于它们只能产生一个有效的结果状态，旋转 rand() 调用来寻找该值是没有意义的。只需设置新状态并再次循环。

关于上述（2）：

```
 case WALK: 
        cout << "You can stand or run" << endl;
        while(state==STAND || state==RUN)
        {
            state = (Movement)(1+rand()%4);
        }
        break; 
```

变成...

```
 case WALK: 
        cout << "You can stand or run" << endl;
        do {
            state = (Movement)(1+rand()%4);
        } while(state!=STAND && state!=RUN);
        break; 
```

关于运行和爬行状态：

```
 case RUN: 
        cout << "You can walk" << endl;
        state = WALK;
        break;

    default: // CRAWL 
        cout << "You can stand" << endl;
        state = STAND;
        break; 
```

这让你再检查自己，我留给你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T08:42:16.670

解决方案：`Movement state = (Movement)(1+rand()%4);`进入`for`循环。

更正的代码：

```
#include <iostream>
#include <stdlib.h>
#include <ctime>

using namespace std;

int main()
{
    enum Movement{STAND=1,WALK,RUN,CRAWL};
    srand(time(0));

    for(int i=0;i<10;i++)
    {

        Movement state = (Movement)(1+rand()%4);

        cout << state << endl;

        switch(state)
        {
            /*Here the logic is,
             * 
             * 1\. From stand, he can walk or crawl
               2\. From Walk, he can stand or run
               3\. From Run, he can walk
               4\. From Crawl, he can stand
             */

            case STAND: 
                cout << "You can walk or crawl" << endl;        
                while(state==WALK || state==CRAWL)
                {
                    state = (Movement)(1+rand()%4);
                }
                break;

            case WALK: 
                cout << "You can stand or run" << endl;
                while(state==STAND || state==RUN)
                {
                    state = (Movement)(1+rand()%4);
                }
                break;

            case RUN: 
                cout << "You can walk" << endl;
                while(state==WALK)
                {
                    state = (Movement)(1+rand()%4);
                }
                break;

            default: 
                cout << "You can stand" << endl;
                while(state==STAND)
                {
                    state = (Movement)(1+rand()%4);
                }

        }

    }

    return 0;
} 
```

输出：

```
3
You can walk
1
You can walk or crawl
2
You can stand or run
1
You can walk or crawl
2
You can stand or run
3
You can walk
4
You can stand
2
You can stand or run
2
You can stand or run
4
You can stand

Press any key to continue 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T10:10:25.820

您还可以在状态机中计算您的下一步，如下所示：

```
...

case STAND:
    cout << "You can walk or crawl" << endl;
    state = rand()%2 ? WALK : CRAWL;
    break;

... 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-11-17T08:40:26.717

无论您做什么，具有恒定种子的 C 中的 rand() 函数总是倾向于给出相同的“随机”值。

更好的方法是编写自己的 RandomGenerator 函数并使用它

```
#include<stdio.h>
#include<stdlib.h>
#include<time.h>

int RandomGenerator(int min, int max) // Generate min < random int < max
{
  int randNum;
  srand(rand()*time(NULL));
  randNum = rand() % max + min;
  // printf(" Random number is %d \n", randNum);
  return randNum;
} 
```

还要移动你的`Movement state = (Movement)(1+rand()%4);`内`for`循环

# string - python, \t 在作为参数传递时工作方式不同（在 Eclipse 中）

> ID：13428969
> 
> 赞同：1
> 
> 时间：2012-11-17T08:32:06.943
> 
> 标签：string, python-2.7, delimiter

> **可能重复：**
> [Python：使用多个分隔符拆分字符串](https://stackoverflow.com/questions/4998629/python-split-string-with-multiple-delimiters)
> [将 django Charfield“\t”转换为制表符](https://stackoverflow.com/questions/8730270/convert-django-charfield-t-to-tab)

我在 Eclipse 中编写了一个 python 代码，它将分隔符作为参数。当我做

```
print "Hello",delimiter, "All". 
```

这会生成 --> `Hello \t All`，而如果我在代码中覆盖分隔符`delimiter = '\t'`，我会得到正确的输出 Hello All。我想知道有什么区别？我希望这不仅仅是日食的事情。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T09:13:10.507

问题是从命令行传入的实际上是一个长度为 2 的字符串，`"\\t"`而不是制表符。您可以对您的`delimiter`

```
delimiter.decode("string_escape")) 
```

那应该将字符串`'\\t'`转换为`'\t'`. 答案来自[这里的重复问题](https://stackoverflow.com/questions/8730270/convert-django-charfield-t-to-tab)

# php - 如何在 php 中使用 if 语句分配 2 个变量？

> ID：13428976
> 
> 赞同：-2
> 
> 时间：2012-11-17T08:33:39.220
> 
> 标签：php, variables, if-statement

我想为 3 个不同的条件分配宽度和高度变量。但是，这不起作用：

```
if ($d=="1") $w=100 ;$h=200;
if ($d=="2") $w=200 ;$h=300;
if ($d=="3") $w=200 ;$h=400; 
```

如何使用 php 对其进行编码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T09:00:03.070

你注意到“#etc”部分了吗？

```
if($c1){
$w=200;
$h=100;
}

elseif($c2){
$w=300;
$h=200;
}

else{
$w=400;
$h=300;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T08:37:16.777

```
if($c1){
    $w = 200;
    $h = 100;
}
# etc 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T08:55:44.377

从 OP 的评论中，您缺少括号，还要确保您的变量`$d`是字符串，因为比较字符串和整数会产生意想不到的结果

```
if ($d=="1") { 
  $w=100 ;
  $h=200; 
} elseif ($d=="2") {
  $w=200 ;
  $h=300;
} elseif ($d=="3") { 
  $w=200 ;
  $h=400;
} else {
   //default values
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T08:56:16.247

我认为switch case会比if语句更好..

```
switch ($ch) {
case 1:
    $w=200px; 
    $h=100px;
    break;
case 2:
    $w=300px;
    $h=200px;
    break;
case 3:
    $w=400px ;
    $h=300px;
    break; 
```

}

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-17T08:56:38.733

```
if($condition==1)
{
    $w=200;
    $h=100;
}else if($condition==2)
{
    $w=300;
    $h=200;
}else if($condition==3)
{ 
     $w=400;
     $h=300;
}
else
{
    //Other Data
} 
```

# google-app-engine - Google App Engine/netbeans new web app?

> ID：13428985
> 
> 赞同：0
> 
> 时间：2012-11-17T08:34:57.313
> 
> 标签：google-app-engine

I'm new here. I already search for the solutions to my problem but i cant find one. So y problem is when I'm creating new Web Application, and then i already choose the Google App Engine. Whenever i click Next, nothing happens. But there is an error sign that appears on the bottom-right part of the IDE.

## This is the content of messages.txt (log)

```
 >Log Session: Saturday, November 17, 2012 3:53:54 PM CST
    >System Info: 
      Product Version         = NetBeans IDE 7.2.1 (Build 201210100934) (#a183c5e41a19)
      Operating System        = Windows 7 version 6.1 running on x86
      Java; VM; Vendor        = 1.7.0_05; Java HotSpot(TM) Client VM 23.1-b03; Oracle Corporation
      Runtime                 = Java(TM) SE Runtime Environment 1.7.0_05-b05
      Java Home               = C:\Program Files\Java\jdk1.7.0_05\jre
      System Locale; Encoding = en_US (nb); Cp1252
      Home Directory          = C:\Users\MATT
      Current Directory       = C:\Program Files (x86)\NetBeans 7.2.1
      User Directory          = C:\Users\MATT\AppData\Roaming\NetBeans\7.2.1
      Cache Directory         = C:\Users\MATT\AppData\Local\NetBeans\Cache\7.2.1
      Installation            = C:\Program Files (x86)\NetBeans 7.2.1\nb
                                C:\Program Files (x86)\NetBeans 7.2.1\ide
                                C:\Program Files (x86)\NetBeans 7.2.1\java
                                C:\Program Files (x86)\NetBeans 7.2.1\apisupport
                                C:\Program Files (x86)\NetBeans 7.2.1\webcommon
                                C:\Program Files (x86)\NetBeans 7.2.1\websvccommon
                                C:\Program Files (x86)\NetBeans 7.2.1\enterprise
                                C:\Program Files (x86)\NetBeans 7.2.1\profiler
                                C:\Program Files (x86)\NetBeans 7.2.1\harness
                                C:\Program Files (x86)\NetBeans 7.2.1\javafx
                                C:\Program Files (x86)\NetBeans 7.2.1\platform
      Boot & Ext. Classpath   = C:\Program Files\Java\jdk1.7.0_05\jre\lib\resources.jar;C:\Program      Files\Java\jdk1.7.0_05\jre\lib\rt.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\sunrsasign.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\jsse.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\jce.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\charsets.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\jfr.jar;C:\Program Files\Java\jdk1.7.0_05\jre\classes;C:\Program Files\Java\jdk1.7.0_05\jre\lib\ext\comm.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\ext\dnsns.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\ext\jmf.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\ext\localedata.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\ext\sound.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\ext\sunec.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\ext\sunjce_provider.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\ext\sunmscapi.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\ext\sunpkcs11.jar;C:\Program Files\Java\jdk1.7.0_05\jre\lib\ext\zipfs.jar
      Application Classpath   = C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\boot.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\org-openide-modules.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\org-openide-util-lookup.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\org-openide-util.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\boot_ja.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\boot_pt_BR.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\boot_ru.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\boot_zh_CN.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\org-openide-modules_ja.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\org-openide-modules_pt_BR.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\org-openide-modules_ru.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\org-openide-modules_zh_CN.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\org-openide-util-lookup_ja.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\org-openide-util-lookup_pt_BR.jar;C:\Program 

Files (x86)\NetBeans 7.2.1\platform\lib\locale\org-openide-util-lookup_ru.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\org-openide-util-lookup_zh_CN.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\org-openide-util_ja.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\org-openide-util_pt_BR.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\org-openide-util_ru.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\lib\locale\org-openide-util_zh_CN.jar;C:\Program Files\Java\jdk1.7.0_05\lib\dt.jar;C:\Program Files\Java\jdk1.7.0_05\lib\tools.jar
  Startup Classpath       = C:\Program Files (x86)\NetBeans 7.2.1\platform\core\core.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\core\org-openide-filesystems.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\core\locale\core_ja.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\core\locale\core_pt_BR.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\core\locale\core_ru.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\core\locale\core_zh_CN.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\core\locale\org-openide-filesystems_ja.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\core\locale\org-openide-filesystems_pt_BR.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\core\locale\org-openide-filesystems_ru.jar;C:\Program Files (x86)\NetBeans 7.2.1\platform\core\locale\org-openide-filesystems_zh_CN.jar;C:\Program Files (x86)\NetBeans 7.2.1\nb\core\org-netbeans-upgrader.jar;C:\Program Files (x86)\NetBeans 7.2.1\nb\core\locale\core_nb.jar;C:\Program Files (x86)\NetBeans 7.2.1\nb\core\locale\core_nb_ja.jar;C:\Program Files (x86)\NetBeans 7.2.1\nb\core\locale\core_nb_pt_BR.jar;C:\Program Files (x86)\NetBeans 7.2.1\nb\core\locale\core_nb_ru.jar;C:\Program Files (x86)\NetBeans 7.2.1\nb\core\locale\core_nb_zh_CN.jar;C:\Program Files (x86)\NetBeans 7.2.1\nb\core\locale\org-netbeans-upgrader_ja.jar;C:\Program Files (x86)\NetBeans 7.2.1\nb\core\locale\org-netbeans-upgrader_pt_BR.jar;C:\Program Files (x86)\NetBeans 7.2.1\nb\core\locale\org-netbeans-upgrader_ru.jar;C:\Program Files (x86)\NetBeans 7.2.1\nb\core\locale\org-netbeans-upgrader_zh_CN.jar 
```

* * *

i deleted some parts because of the character limit. Thank you very much!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-09T07:04:37.900

这可能是个问题。

```
Java Home               = C:\Program Files\Java\jdk1.7.0_05\jre 
```

看看您是否可以将其更改为指向 jdk 而不是 jre ？

```
Java Home               = C:\Program Files\Java\jdk1.7.0_05 
```

# ios - 测试对象是否在对象数组中

> ID：13428986
> 
> 赞同：0
> 
> 时间：2012-11-17T08:34:57.430
> 
> 标签：ios, arrays, object, textfield

我知道我忽略了一些简单的事情，但我正在使用

```
if (textField == self.nameTextField || textField == self.ageTextField || textField == ...) 
```

理想情况下，我想使用允许将 textField 与允许的（命名的） textField 对象数组进行比较的东西。

我曾多次尝试对我认为解决方案的样子进行伪编码，但我只是不知道自己在做什么。谁能指出我正确的方向？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:38:51.387

只需检查：

```
if([textFieldArray containsObject:textField])
{
     //do stuff here
} 
```

这`textFieldArray`是`array`包含所有内容的`textFields`。

如果`textField`对象在 中`textFieldArray`，它将返回`true`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T08:40:27.260

首先添加`UITextFields`in 的所有引用`NSArray`。

现在`containsObject`用于if `NSArray`_`check``exists`

```
BOOL contains = [yourArrayofTextFields containsObject:textField];
if(contains)
  // contains
else
  // not contains 
```

# mysql - MySQL query - show data based on date

> ID：13428988
> 
> 赞同：0
> 
> 时间：2012-11-17T08:35:23.443
> 
> 标签：mysql, sql

I need to show cash flow based on what we spent in the company.

We are selling various products day by day, and I have to show transactions in a better way.

Let's say that there is a data like this.

```
Date            Product        Profit
2012-08-17      Apple          $1.00
2012-08-17      Apple          $1.00
2012-08-17      Apple          $1.00
2012-08-16      Apple          $1.00
2012-08-16      Apple          $1.00
2012-08-14      Apple          $1.00
2012-08-13      Apple          $1.00
2012-08-13      Apple          $1.00
2012-08-13      Apple          $1.00 
```

We sold 3 apples on Aug 17, and 2 apples on Aug 16. The one that I am trying to make a query helps to show below result.

```
Date            Product        Total Profit
2012-08-17      Apples         $3.00
2012-08-16      Apple          $2.00
2012-08-14      Apple          $1.00
2012-08-13      Apple          $3.00 
```

I need to sum up all profit day by day.

Can you help me to make a query? I failed couple of times. Thank you.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T08:51:52.537

In the case that the product is the same you can use this query:

```
SELECT Date, Product, sum(Profit) as TotalProfit
FROM transactions
GROUP BY Date 
```

In the case that the product is not the same you can use this query:

```
SELECT Date, Product, sum(Profit) as TotalProfit
FROM transactions
GROUP BY Product, Date 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T08:44:13.327

尝试这个

```
 select date,product,sum(profit) as totalprofit from table
 group by date,product 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T08:45:21.600

```
SELECT date,product,SUM(profit) FROM table
GROUP BY date 
```

# visual-studio - No stack trace on exception

> ID：13428991
> 
> 赞同：0
> 
> 时间：2012-11-17T08:35:27.653
> 
> 标签：visual-studio

I have .NET application that sometimes happily catches System.OutOfMemory (of unknown origin). I tried to debug it by attaching visual studio to it, but when exception happened, visual studio was unable to show me any stack trace. How can I get the stack trace?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T08:39:47.407

您应该尝试使用 try-catch 包装任何可能导致异常的代码，然后在每个 try catch 的 catch 语句上放置一个断点。因此，当您将 VS 附加到它时，您将能够在触发断点时分析异常。

如果您有一个 Main 方法，则将所有代码包装在一个 try-catch 中，这可能允许您捕获任何可能引发的异常。

# c# - SQL Server 比较具有相同列的两个表行并返回更改的列

> ID：13428993
> 
> 赞同：2
> 
> 时间：2012-11-17T08:35:56.297
> 
> 标签：c#, sql, sql-server, c#-4.0

我想比较两个具有相同列的表：

*   `product`-`Id, Name, Description`
*   `Temp_Product`-`Id, Name, Description`

现在用户完成的更新将保存到`Temp_Product`. 当管理员将看到该产品的详细信息时，我需要显示用户所做的更改。我想将这两个表与查询进行比较，并返回从 更改为`Product`的列`Temp_Product`。

请建议我更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T08:47:09.437

```
Select p.id,p.name as orgn,t.name as altn,p.descripion as orgd,t.description as altd
from product p
join tmp_product t
on t.id=p.id and (t.name<>p.name or t.description <> p.description) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T08:50:39.220

> 我想将两个表与查询进行比较，并返回已从 Product 更改为 Temp_Product 的列

由于这两个表具有相同的结构，因此您可以[**`EXCEPT`**](http://msdn.microsoft.com/en-us/library/ms188055.aspx) 为此使用 set 操作符：

```
SELECT * FROM Temp_Product
EXCEPT
SELECT * FROM Product; 
```

## [SQL 小提琴演示](http://sqlfiddle.com/#!3/1fe98/2)

# python - 我如何计算而不是在python中重复相同的字母

> ID：13428995
> 
> 赞同：1
> 
> 时间：2012-11-17T08:36:05.763
> 
> 标签：python, count, repeat

此代码计算字母，但我不希望它重写同一个字母两次。我能做些什么？

```
d=list('banttnay')
for letter in d:
    print letter, d.count(letter) 
```

输出：

```
b 1
a 2
n 2
t 2
t 2
n 2
a 2
y 1 
```

我不希望它重写 'a 2' 或 't 2' 两次

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-17T08:37:33.243

使用`set()`：

```
In [40]: d='banttnay'

In [41]: for x in set(d):
   ....:     print x,d.count(x)
   ....:     
a 2
y 1
b 1
t 2
n 2 
```

[`OrderedDict`](http://docs.python.org/2/library/collections.html#collections.OrderedDict) 或从`collections`模块维护订单使用：

```
In [67]: from collections import *

In [68]: c=OrderedDict()

In [69]: for x in d:
    c[x]=c.get(x,0)+1
In [71]: for x in c:
   ....:     print x,c[x]
   ....:     
b 1
a 2
n 2
t 2
y 1 
```

或者您也可以使用以下`unique_everseen`配方[`itertools Recipes`](http://docs.python.org/2/library/itertools.html#recipes)：

```
>>> d='banttnay'
>>> from itertools import *
>>> def unique_everseen(iterable, key=None):
...     seen = set()
...     seen_add = seen.add
...     if key is None:
...         for element in ifilterfalse(seen.__contains__, iterable):
...             seen_add(element)
...             yield element
...     else:
...         for element in iterable:
...             k = key(element)
...             if k not in seen:
...                 seen_add(k)
...                 yield element
... 
>>> for x in unique_everseen(d):
...     print x,d.count(x)
... 
b 1
a 2
n 2
t 2
y 1 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-17T08:38:04.727

然后使用集合 - 它只允许其中的唯一项目：

```
d = 'banttnay'
for letter in set(d):
    print letter, d.count(letter) 
```

或使用[collections.Counter](http://docs.python.org/2/library/collections.html#collections.Counter)计算可迭代项中唯一项的数量：

```
 from collections import Counter
   cnt = Counter('banttnay')
   print cnt 
```

像这样的东西：

```
word = 'banttnay'
res = dict(zip(set(word),map(word.count, word))) 
```

# x86 - Assembly instruction for setting, clearing OF & TF flags

> ID：13428998
> 
> 赞同：5
> 
> 时间：2012-11-17T08:36:40.943
> 
> 标签：x86, intel, flags, masm, x86-16

Are there any assembly instructions to let us directly "set" or "clear" the "OF" and "TF" flags in Intel's 8086 16-bit Flags register ? If not, what pseudo code should we use?

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-17T08:53:31.043

[http://en.wikipedia.org/wiki/Trap_flag](http://en.wikipedia.org/wiki/Trap_flag)

> The 8086 has no instruction to directly set or reset the trap flag. These operations are done by pushing the flag register on the stack, changing the trap flag bit to what the programmer wants it to be, and then popping the flag register back off the stack. The instructions to set the trap flag are:

```
PUSHF ; Push flags on stack
MOV BP,SP  ; Copy SP to BP for use as index
OR WORD PTR[BP+0],0100H ; Set TF flag
POPF  ; Restore flag Register 
```

> To reset the trap flag, simply replace the OR instruction in the preceding sequence with the instruction:

```
AND WORD PTR[BP+0],0FEFFH 
```

To set and clear the overflow flag, you can do the same, replacing `0100H` with `0800H` and `0FEFFh` with `0F7FFh`.

Be sure to know what `TF` does before you set it. It's a trap.

# c# - HtmlAgilityPack 解析文本块

> ID：13428999
> 
> 赞同：0
> 
> 时间：2012-11-17T08:36:41.987
> 
> 标签：c#, html-agility-pack

我正在制作一个小型网络分析工具，需要以某种方式提取给定 url 上包含超过 X 个单词的所有文本块。

我目前使用的方法是这样的：

```
 public string getAllText(string _html)
    {
        string _allText = "";
        try
        {
            HtmlAgilityPack.HtmlDocument document = new HtmlAgilityPack.HtmlDocument();
            document.LoadHtml(_html);

            var root = document.DocumentNode;
            var sb = new StringBuilder();
            foreach (var node in root.DescendantNodesAndSelf())
            {
                if (!node.HasChildNodes)
                {
                    string text = node.InnerText;
                    if (!string.IsNullOrEmpty(text))
                        sb.AppendLine(text.Trim());
                }
            }

            _allText = sb.ToString();

        }
        catch (Exception)
        {
        }

        _allText = System.Web.HttpUtility.HtmlDecode(_allText);

        return _allText;
    } 
```

这里的问题是我返回了所有文本，即使它是一个很长的文本、一个带有 3 个单词的页脚文本等。

我想分析页面上的实际内容，所以我的想法是以某种方式只解析可能是内容的文本（即超过 X 个单词的文本块）

有什么想法可以实现吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T08:56:07.197

好吧，第一种方法可以是使用[string.Split](http://msdn.microsoft.com/en-us/library/tabh47cf.aspx)函数对每个`node.InnerText`值进行简单的字数分析：

```
string[] words;
words = text.Split((string[]) null, StringSplitOptions.RemoveEmptyEntries); 
```

并仅附加`words.Length`大于 3 的文本。

另请参阅[此问题答案](https://stackoverflow.com/questions/2785092/c-htmlagilitypack-extract-inner-text)以了解原始文本收集的更多技巧。