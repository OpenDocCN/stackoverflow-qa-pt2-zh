# StackOverflow 问答 12972000-12972999

# dns - Webfaction:: 我的网站好像被其他网站打断了，只显示“OK”文字

> ID：12972000
> 
> 赞同：0
> 
> 时间：2012-10-19T10:10:50.553
> 
> 标签：dns, interrupt, webfaction, nameservers

我的网站通常运行良好，但有时只显示简单的“OK”文本。

我不知道出了什么问题..而且看起来很奇怪。

Webfaction 和我的站点使用 Nginx 作为服务器，但是当我的站点被未知站点中断时，响应标头告诉它来自 Apache Server。

这是响应图像..

再次使用 Webfaction，我使用 Nginx 而不是 Apache Web Server。

我认为这个问题归因于 Webfaction 的其他使用 Apache Webserver 的用户或.. ...嗯。我不知道..

有没有人和我遇到同样问题的人？

顺便说一句，My Domain Registrar 是 Whois.com。

```
Request
    Accept:text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
    Accept-Charset:windows-949,utf-8;q=0.7,*;q=0.3
    Accept-Encoding:gzip,deflate,sdch
    Accept-Language:en-US,en;q=0.8,ko;q=0.6
    Cache-Control:max-age=0
    Connection:keep-alive
    Cookie:fbm_144203575725136=base_domain=.tinysocialbox.com;     
    csrftoken=B2OS7jSswEyzpSvT7P4QjUSpILRK7RAk;fbsr_144203575725136=zpY1MFY19op74cxK2jhFAvjo61vxCPJh3AISbBbw9ec.eyJhbGdvcml0aG0iOiJITUFDLVNIQTI1NiIsImNvZGUiOiIyLkFRQkI4N0lrbENFZWZXTk0uMzYwMC4xMzUwNjQ0NDAwLjEtMTAwMDA0MjEwMDkyMTMxfDEzNTA2NDA2ODB8NkFyZWFNcnlneUEyT3o5Zmp3REs5UmNSbVpZIiwiaXNzdWVkX2F0IjoxMzUwNjQwMzgwLCJ1c2VyX2lkIjoiMTAwMDA0MjEwMDkyMTMxIn0; sessionid=b0268bc25c9db5c42d8935dd4669a233
    Host:tinysocialbox.com
    User-Agent:Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.92 Safari/537.4

Response
    Connection:Keep-Alive
    Content-Type:text/html
    Date:Fri, 19 Oct 2012 09:53:20 GMT
    Keep-Alive:timeout=5, max=94
    Server:Apache/2.2.3 (CentOS)
    Transfer-Encoding:chunked 
```

![在此处输入图像描述](../Images/2a3fa79825a459d1a8125348927b68a5.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T01:33:00.117

您使用的是 WebFaction 的 Nginx 服务器，还是安装了您自己的实例？它是什么类型的应用程序（PHP、静态、自定义等）？

你最好的选择是在这里开一张支持票：

[https://help.webfaction.com/](https://help.webfaction.com/)

然后，支持团队可以检查您的应用程序的配置并找出问题所在。

# javascript - 具有功能的多个参数不起作用

> ID：12972002
> 
> 赞同：0
> 
> 时间：2012-10-19T10:10:59.243
> 
> 标签：javascript, innerhtml

我试图在函数中使用多个参数来显示结果，但我的代码无法显示结果。谁能帮我知道我做错了什么？

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
<title>How to write JavaScript?</title>

<script type="text/javascript">

// Using multiple parameters with function
function result( number1, number2, number3)
{
    document.write("your luck number is " + number1 + number2 + number3);
}

</script>

</head>

<body>
<hr>
<h2>Using multiple parameters with function</h2>
<input type="button" value="Result" onclick=result(3, 6, 9);>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:12:47.497

您忘记将内联 JavaScript 包含在`"`. 改用这个：

```
<input type="button" value="Result" onclick="result(3, 6, 9);"> 
```

[**示例小提琴**](http://jsfiddle.net/FLFX3/)

# javascript - 学习 JavaScript 时的有趣结果。但我不知道为什么

> ID：12972003
> 
> 赞同：1
> 
> 时间：2012-10-19T10:11:02.567
> 
> 标签：javascript, jquery, angularjs

我写了以下代码并没有输出。这是代码

```
var a1 = undefined;
var a2 = 5;
if(a1 > a2)
    alert(1);
if(a1 < a2)
    alert(2);
if(a1 >= a2)
    alert(3);
if(a1 <= a2)
    alert(4); 
```

没有出现警告框，这意味着 if 语句导致错误。我能知道原因吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T10:15:57.260

JavaScript 尝试将值转换`x`为`number`使用 ToPrimitive (@RobG)。由于`x`未定义，这将返回`NaN`将 false 与任何值进行比较。所以它总会回来`false`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:28:48.680

正如评论中提到的@jAndy，~~您不能将`undefined`关键字视为 value/Instance~~。`undefined`不是数字类型。相反，它`undefined`是`Global Object`

这就是表达式`if(undefined {operator} {operand value})`计算结果为假的原因。但考虑代码`if(undefined == undefined)`返回`true`

希望这能消除歧义！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T10:18:20.363

在涉及使用关系运算符的表达式时，[抽象关系比较算法](http://ecma-international.org/ecma-262/5.1/#sec-11.8.5)用于计算操作数，然后将结果转换为`true`or `false`。

在比较算法中，步骤 3a 转换`undefined`为`NaN`。在步骤 3c 中，它说与`NaN`任何东西进行比较都会返回*undefined*。

在说[小于运算符](http://ecma-international.org/ecma-262/5.1/#sec-11.8.1)的步骤中，结果`undefined`被转换为假。

因此，对于OP 中的*if*`false`语句，每个测试都会返回，因为它们都是关系运算符，都使用抽象关系比较算法，并且其中一个操作数是`undefined`.

# wordpress - 仅提供 WordPress 主题

> ID：12972006
> 
> 赞同：0
> 
> 时间：2012-10-19T10:11:15.590
> 
> 标签：wordpress, wordpress-theming

我正在尝试创建一个不呈现任何内容但允许访问提要 url 和管理页面的主题。这是这个问题的延续：[Make Only Access to Feed URL on a WordPress Site](https://stackoverflow.com/questions/12960393/make-only-accessible-to-feed-url-on-a-wordpress-site)。

我创建了一个空`style.css`的注释标题，如下所示。

**样式.css**

```
/*
    Theme Name: Only Feeds
    Description: Renders only feeds.
    Version: 0.0.1
    Template: twentyeleven
*/ 
```

并在主题目录下创建了如下空文件。

**添加的文件**

```
search.php
searchform.php
showcase.php
sidebar.php
sidebar-footer.php
sidebar-page.php
tag.php
single.php
style.css
404.php
archive.php
author.php
category.php
comments.php
content.php
content-aside.php
content-featured.php
content-gallery.php
content-image.php
content-intro.php
content-link.php
content-page.php
content-quote.php
content-single.php
content-status.php
footer.php
functions.php
header.php
image.php
index.php
page.php 
```

到目前为止它似乎正在工作，但我注意到当我忘记创建空白`single.php`时，导航文本出现在单个页面中。这让我担心我是否遗漏了什么。

另外，如果 21-11 更新并恰好添加了一些文件，会有一个页面输出一些东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:31:19.227

您需要的唯一页面是 index.php 和 style.css，只是不要将其创建为子主题，而是作为独立主题。这将起作用，因为 Wordpress 自动提供提要，此功能不属于任何一个主题。

# wcf - 无法处理该消息，因为操作“http://docs.oasis-open.org/ws-sx/ws-trust/200512/RST/SCT”无效或无法识别。

> ID：12972008
> 
> 赞同：4
> 
> 时间：2012-10-19T10:11:19.163
> 
> 标签：wcf, wif, saml

尝试使用 WCF Claims Aware 设置 STS。我在客户端收到此消息：

> “/ClientWebsite”应用程序中的服务器错误。无法处理该消息，因为操作“http://docs.oasis-open.org/ws-sx/ws-trust/200512/RST/SCT”无效或无法识别。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T09:07:31.850

`WIF 4.5`和有同样的问题`ADFS 2.0`。我通过禁用绑定上的安全上下文来解决它：

```
binding.Security.Message.EstablishSecurityContext = false; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-28T21:21:42.643

我刚遇到这个问题，不得不关闭 WCF 绑定的安全上下文（就像 Andy Williams 建议的那样）。您需要在客户端和服务中的绑定上关闭它们。

如果您的 WCF 是 IIS 托管的，则这是配置文件：

```
<ws2007FederationHttpBinding>
    <binding>
        <security mode="TransportWithMessageCredential">
            <message establishSecurityContext="false" />
        </security>
    </binding>
</ws2007FederationHttpBinding> 
```

看到这篇文章： [http ://stack247.wordpress.com/2013/05/28/an-unsecured-or-incorrectly-secured-fault-was-received-from-the-other-party/](http://stack247.wordpress.com/2013/05/28/an-unsecured-or-incorrectly-secured-fault-was-received-from-the-other-party/)

# java - 带有 jpa 的框架基类

> ID：12972012
> 
> 赞同：2
> 
> 时间：2012-10-19T10:11:39.320
> 
> 标签：java, jpa

我现在将 Play Framework 2 与 Ebean 一起使用，但看起来问题适合任何 JPA ORM，因此请随意建议 Hibernate、TopLink 和其他解决方案。

我想为社交网络构建设计一些基类。在我看来，它应该是类层次结构，其中每个类都有很少的基本字段，如 id、名称、描述和与其他类的关系。框架用户可以继承这些类并通过添加必填字段来专门化它们。让我们考虑一个例子：

**框架类**

```
@MappedSuperclass
class AbstractUser {
    @Id
    Long id;
    String login;
    String password;

    @ManyToMany
    Set<AbstractGroup> groups;
}

@MappedSuperclass
class AbstractGroup {
    @Id
    Long id;
    String name;
} 
```

**我的社交网络使用框架类**

```
@Entity
class MyUser extends AbstractUser {
    String name;
    String surname;
}

@Entity
class MyGroup extends AbstractGroup {
    String groupDescription;
} 
```

我在这里想要的只是用很少的字段扩展 AbstractUser 和 AbstractGroup 类并保持它们的关系。

如果没有 JPA，它可以用泛型来解决，例如，或者可以用 DI。但是如何用 JPA 实现这样的想法呢？可能吗？

# android - 微调器并添加 imageview 元素

> ID：12972013
> 
> 赞同：0
> 
> 时间：2012-10-19T10:11:41.713
> 
> 标签：android, android-layout

我有一个小问题。我使用代码在代码中创建了一个微调器：`spinner = new Spinner(getApplicationContext());`，但我不知道如何将项目添加到此微调器，但这些项目应该是图像视图，没有文本。你知道任何解决这个问题的教程吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:12:52.360

您必须为您的微调器和一个项目的自定义视图实现自定义适配器。

你可以看看这个[Android Spinner：自定义适配器显示](https://stackoverflow.com/questions/6835032/android-spinner-custom-adapter-display)

# html - 如何在 IE 中提供水平和垂直滚动条

> ID：12972015
> 
> 赞同：0
> 
> 时间：2012-10-19T10:11:46.107
> 
> 标签：html, css, internet-explorer, scroll

```
<!DOCTYPE html>
<html>
<head>
  </head>
 <body>
   <div id="divScroll" style="width: 100%;overflow-x: scroll;overflow-y: scroll;">

<table width="100%">
<tr>
    <td>Name</td>
    <td>Name</td>
    <td>Name</td>
     <td>Name</td>
     <td>Name</td>
     <td>Name</td>
     <td>Name</td>
     <td>Name</td>
   <td>Name</td>
   <td>Name</td>
   <td>Name</td>
  </tr>
  <tr>
    <td>abc</td>
    <td>abc</td>
    <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>    
  </tr>
  <tr>
    <td>abc</td>
    <td>abc</td>
    <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
      </tr>
  <tr>
    <td>abc</td>
    <td>abc</td>
    <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
      <td>abc</td>
     <td>abc</td>
     <td>abc</td>
  </tr>
  <tr>
    <td>abc</td>
    <td>abc</td>
    <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
      <td>abc</td>
     <td>abc</td>
     <td>abc</td>
  </tr><tr>
    <td>abc</td>
    <td>abc</td>
    <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
    <td>abc</td>
     <td>abc</td>
     <td>abc</td>
  </tr><tr>
    <td>abc</td>
    <td>abc</td>
    <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
    <td>abc</td>
     <td>abc</td>
     <td>abc</td>
  </tr>
  <tr>
    <td>abc</td>
    <td>abc</td>
    <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
      <td>abc</td>
     <td>abc</td>
     <td>abc</td>
  </tr>
  <tr>
    <td>abc</td>
    <td>abc</td>
    <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
      <td>abc</td>
     <td>abc</td>
     <td>abc</td>
  </tr>
  <tr>
    <td>abc</td>
    <td>abc</td>
    <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
     <td>abc</td>
      <td>abc</td>
     <td>abc</td>
     <td>abc</td>
  </tr>  
    </table>
</div>

</body>
</html> 
```

**以上是我的 HTMl 代码 wm 在 IE 中给出水平和垂直滚动条的问题**

[见 JSbin 演示](http://jsbin.com/isekok/1/edit#/isekok/4/edit)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T10:15:26.840

您需要指定滚动工作的高度和宽度

改变你的

```
<div id="divScroll" style="width: 100%;overflow-x: scroll;overflow-y: scroll;"> 
```

至

```
<div id="divScroll" style="width: 300px;height:200px;overflow-x: scroll;overflow-y: scroll;"> 
```

你也可以试试这个方法

```
<div id="divScroll" style="width: 300px;height:200px;overflow:auto;"> 
```

检查这个**[演示](http://jsbin.com/isekok/6/edit)**

供您[参考](http://www.w3schools.com/cssref/pr_pos_overflow.asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:30:02.173

应用一些高度，例如： `height: 150px;`垂直滚动条......与水平滚动的宽度相同......

```
<div id="divScroll" style="width: 100%;overflow: scroll; height: 150px;"> 
```

无需应用两次溢出-x 和溢出-y 只需使用溢出..

# php - 如何将 csv 文件导入 mysql 数据库并自动将 id 递增到数据库表中。id 字段不在文件中，仅在表中

> ID：12972017
> 
> 赞同：3
> 
> 时间：2012-10-19T10:11:51.177
> 
> 标签：php, mysql, csv

我正在导入一个包含 2 个字段的 CSV 文件。但是当它被导入时，我希望 transactionid 应该有一个增量。但是这个 id 字段不在文件中。代码在 PHP 中。使用的数据库是MySql。我的代码：

```
do 
{
    if ($data[0])
     {
        mysql_query("INSERT INTO test VALUES
            (
                '".addslashes($data[0])."',
                '".addslashes($data[1])."'
            )
        ");
     }
}
while ($data = fgetcsv($handle,1000,";")); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:12:43.657

在`id`列上的表中，将`auto_increment`参数设置为 true/active。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:17:04.353

您需要指定要在查询中导入的表的名称。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T10:24:01.193

好的试试这个代码

```
do 
{
   if ($data[0])
   {
      mysql_query("INSERT INTO test(table name) VALUES
        ('".addslashes($data[0])."','".addslashes($data[1])."')
                 ");
   }
}
while ($data = fgetcsv($handle,1000,";")); 
```

# python - 在 Django 中对列表进行排序

> ID：12972021
> 
> 赞同：-1
> 
> 时间：2012-10-19T10:12:06.920
> 
> 标签：python, django, sorting

我必须在我的 Django 运动应用程序中显示比赛列表。我已经定义了一个函数来列出所有匹配项。每个匹配作为 DateTime“real_start”，我想按该日期对它们进行排序。

这是我的比赛清单：

```
 matches = Match.live_matches.all() 
```

我试过matches.sort(key=lambda x: x.real_start, reverse=True)

但它不起作用。

欢迎任何帮助。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:15:23.907

也许看看[文档](https://docs.djangoproject.com/en/dev/ref/models/querysets/#dates)？

```
Match.objects.date('real_start', 'day', order='DESC') 
```

您可以在 live_matches 函数中使用它，如果您在日期字段上排序，则不需要 lambdas

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:14:42.613

尝试这个：

```
sort(matches, key=lambda x: x.real_start, reverse=True) 
```

# c - C 中 Channeling 的程序输出

> ID：12972023
> 
> 赞同：0
> 
> 时间：2012-10-19T10:12:14.173
> 
> 标签：c, memory

我写了以下一段代码：

```
#include<stdio.h>
#include<stdlib.h>
#define FOR(i,a,b) for(i=a;i<b;i++)

void DeclareAndInitArray();
void PrintArray();

int main(){
    DeclareAndInitArray();
    //printf("hello\n");
    PrintArray();
    return 0;
}

void DeclareAndInitArray(){
    int array[100];
    int i;
    FOR(i,0,100){
        array[i]=i;
    }
}

void PrintArray(){
    int array[100];
    int i;
    FOR(i,0,100){
        printf("%d\t",array[i]);
    }
} 
```

我希望输出从 0 开始，然后一直到 99，但我得到的是：

![在此处输入图像描述](../Images/91624e93e50b6f9ffce43a3915ca0879.png)

有人可以告诉我一开始这两个值是什么，为什么它们会出现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:14:34.947

`DeclareAndInitArray()`并且`PrintArray()`每个人都使用自己单独的数组。您在每个函数中分别声明它：

```
int array[100]; 
```

因此，您使用的数组`PrintArray()`尚未初始化，并且包含垃圾。

您需要声明一次数组，然后将其`PrintArray()`作为参数传入。试试这个：

```
int main(){
    int array[100];
    DeclareAndInitArray(array);
    //printf("hello\n");
    PrintArray(array);
    return 0;
}

void InitArray(int array[]){
    int i;
    FOR(i,0,100){
        array[i]=i;
    }
}

void PrintArray(int array[]){
    int i;
    FOR(i,0,100){
        printf("%d\t",array[i]);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:15:36.807

您调用的两个函数`main()`都有自己的数组副本，名为`array`.

结果，函数进行的初始化`DeclareAndInitArray()`在其他函数中不可见。

要解决此问题，您可以：

1) 将数组声明为全局的，这样两个函数都可以访问同一个数组。

2）声明数组`main()`并将其传递给两个函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-22T03:50:01.310

Jerry Cain 在[斯坦福 CS107 - Programming Paradigms](https://see.stanford.edu/Course/CS107)中提到了 C 语言中的 Channeling 的想法。

在我的机器（macBook）上输出从 0 开始到 99，您可以打印数组的地址。

我认为要打印的数组的地址小于第一个数组。这就是为什么输出前两个数字是随机数的原因。

# sql - 动态 SQL Pivot - 删除空值

> ID：12972027
> 
> 赞同：1
> 
> 时间：2012-10-19T10:12:29.570
> 
> 标签：sql, tsql, pivot, dynamic-sql

这是我第一次尝试在 SQL 中进行动态旋转，但我有点卡住了！

我有两张要加入的表格，一张存放库存商品，另一张存放不同网站（来源）的库存商品的不同价格。由于可能有不同的站点，因此查询需要是动态的。

问题是我无法从结果中删除空值，我希望有人能提供帮助。

结果目前看起来像这样：

```
ID    site-site1   site-site2    site-site3
1      null          1.99          2.99
2      12.99         null          10.00
3      1.50          null          2.00 
```

查询如下：

```
DECLARE @sources nvarchar(max)

SELECT @sources = 
STUFF(( SELECT DISTINCT ',[' + 
CASE 
WHEN ip.[Source] is null or ip.[Source] = '' THEN 'Default'
ELSE ip.[Source] 
END 
+ ' - ' +  
CASE 
WHEN ip.secondSource is null or ip.secondSource = '' THEN  'Default'
ELSE ip.secondSource 
END  
+ ']'
    FROM itemprice ip
    for XML PATH('')
  ), 1, 1, '')

DECLARE @SQL nvarchar(MAX)
SELECT @SQL = N'
SELECT *
FROM 
(
SELECT 
s.id, 
[Source] = CASE 
               WHEN ip.[Source] is null or ip.[Source] = '''' THEN  ''Default'' 
       ELSE ip.[Source] 
       END + '' - '' +  
CASE WHEN ip.secondSource is null or ip.secondSource = '''' THEN ''Default''
ELSE ip.secondSource 
END, 
    SalePrice = isnull(ip.SalePrice, 0)  
    FROM stock s 
    LEFT OUTER JOIN itemprice ip on ip.id = s.id
) data 
PIVOT 
( 
  MAX(SalePrice) for [Source] IN (' + @sources + ')
) as PivotTable
ORDER BY PivotTable.id'
exec sp_executesql @sql 
```

任何帮助都将不胜感激，它似乎不像将每个 @sources 项目包装在 ISNULL 中那么简单。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:29:03.387

不幸的是，您必须对每个单独的透视列进行 ISNULL。或者 CROSS JOIN 您的`data`子查询以生成完整的矩阵并在那里执行 ISNULL 。

例如，在透视列上使用 ISNULL 将 NULL 替换为 0：

```
DECLARE @sources nvarchar(max), @Selectlist nvarchar(max)

SELECT @sources = 
STUFF(( SELECT DISTINCT ',[' + 
CASE 
WHEN ip.[Source] is null or ip.[Source] = '' THEN 'Default'
ELSE ip.[Source] 
END 
+ ' - ' +  
CASE 
WHEN ip.secondSource is null or ip.secondSource = '' THEN  'Default'
ELSE ip.secondSource 
END  
+ ']'
    FROM itemprice ip
    for XML PATH('')
  ), 1, 1, '')

SELECT @Selectlist = 
STUFF(( SELECT DISTINCT ',ISNULL([' + 
CASE 
WHEN ip.[Source] is null or ip.[Source] = '' THEN 'Default'
ELSE ip.[Source] 
END 
+ ' - ' +  
CASE 
WHEN ip.secondSource is null or ip.secondSource = '' THEN  'Default'
ELSE ip.secondSource 
END  
+ '],0) [' + 
CASE 
WHEN ip.[Source] is null or ip.[Source] = '' THEN 'Default'
ELSE ip.[Source] 
END 
+ ' - ' +  
CASE 
WHEN ip.secondSource is null or ip.secondSource = '' THEN  'Default'
ELSE ip.secondSource 
END  
+ ']'
    FROM itemprice ip
    for XML PATH('')
  ), 1, 1, '')

DECLARE @SQL nvarchar(MAX)
SELECT @SQL = N'
SELECT ID, ' + @Selectlist + '
FROM 
(
SELECT 
s.id, 
[Source] = CASE 
               WHEN ip.[Source] is null or ip.[Source] = '''' THEN  ''Default'' 
       ELSE ip.[Source] 
       END + '' - '' +  
CASE WHEN ip.secondSource is null or ip.secondSource = '''' THEN ''Default''
ELSE ip.secondSource 
END, 
    SalePrice = isnull(ip.SalePrice, 0)  
    FROM stock s 
    LEFT OUTER JOIN itemprice ip on ip.id = s.id
) data 
PIVOT 
( 
  MAX(SalePrice) for [Source] IN (' + @sources + ')
) as PivotTable
ORDER BY PivotTable.id'
exec sp_executesql @sql 
```

# c# - 无法迭代 int 的位表示

> ID：12972028
> 
> 赞同：2
> 
> 时间：2012-10-19T10:12:31.107
> 
> 标签：c#

我需要遍历一个整数的位表示，然后我需要计算其中的零数。我厌倦了下面的代码，但不幸的是它不起作用：

```
public int calculate(int i)
{
            string a = Convert.ToString(i, 2);
            int[] array = new int[a.Length];
            int number = 0;

            for (int n = 0; n < s.Length; n++)
            {
                iarray[n] = s[n]; // build an array of intigers representing the bits valies such as 0011100
            }

            for (int n = 0; n < array.Length; n++)
            {
                if (array[n] == 0) {
                   number = number + 1;
            }

            return number
} 
```

谁能建议它为什么不能按预期工作？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T10:16:55.163

它不起作用的原因是您正在比较字符（`'0'`, value 48 != `0`）

只需使用位运算符，使用*无符号*数学来避免右移负数带来的复杂性：

计算全零：

```
var u = (uint)i;
int count = 0;
for(int bit = 0; bit < 32; bit++)
{
    if((u & 1)==0) count++;
    u  = u >> 1;
} 
```

只计算零直到最高有效设置位：

```
var u = (uint)i;
int count = 0;
while(u != 0)
{
    if((u & 1)==0) count++;
    u  = u >> 1;
} 
```

如果您需要优化，还有更多奇特的方法可以做到这一点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T10:30:08.890

```
int SignificantZeroCount(int x)
{
    int mask = x | (x >> 16);
    mask |= mask >> 8;
    mask |= mask >> 4;
    mask |= mask >> 2;
    mask |= mask >> 1;

    int y = mask ^ x;
    int c = 0;
    while (y != 0)
    {
        c++;
        y &= y - 1;
    }
    return c;
} 
```

首先`mask`计算 a 中的所有位都在集合中的最左侧 1 位的右侧和右侧`x`。异或将in`x`的重要零（作为一），但不是前导零。然后计算 中的个数，这与计算 中的有效零相同。`x``y``y``x`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-19T10:17:07.463

你只需要它。

```
int a = 258;
string str = Convert.ToString(a, 2);
var count = str.Where(c => c == '0').Count(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-19T10:17:11.000

您将 ASCII 值存储在数组 [] 中。使用这样的转换来获得你想要的：

```
 public static int calculate(int i)
        {
            string a = Convert.ToString(i, 2);
            int[] array = new int[a.Length];
            int number = 0;
            for (int n = 0; n < a.Length; n++)
            {
                array[n] = Convert.ToInt32(a[n].ToString()); // build an array of intigers representing the bits valies such as 0011100
            }

            for (int n = 0; n < array.Length; n++)
            {
                if (array[n] == 0)
                {
                    number = number + 1;
                }
            }
            return number;
        } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-19T10:24:21.457

纠正你的方法是这样的：

```
public int calculate(int i) {
    string a = Convert.ToString(i, 2);

    int[] array = new int[a.Length];
    int number = 0;
    for (int n = 0; n < a.Length; n++) {
        iarray[n] = int.parse(a[n]);              
    }               
    for (int n = 0; n < array.Length; n++) {
        if (array[n] == 0) {
             number = number + 1;
        }
    }
    return number;
} 
```

但这是一个不好的方法......当你可以不这样做时，为什么要将整数转换为字符串？当然，这有点棘手......

我会这样做：

```
public int calculate(int i) {
    int bits = 1+Math.log(i) / Math.log(2)
    int zerocount = 0;
    for(int j=0;j<bits;j++) {
        if(i%2==0) {
            zeroCount++;
        }
        i==i>>1;
    }
    return zeroCount;
} 
```

**编辑**这也不是最好的解决方案，因为`Math.log`不是太快。使用 Marc 的解决方案可以获得更快、更优雅的结果！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-19T10:17:31.440

尝试这个：

```
 public int calculate(int i)
            {
        string a = Convert.ToString(i, 2);
        int number = 0

        for (int i=0;i<a.Lenght;i++){
              if (a.Substring(i,1).Equals("0"))
                   number++;
        }

        return number;

    } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-19T10:18:07.760

您可以使用以下代码：

```
IEnumerable<int> GetBits(int n)
{
    int m = 1;
    while(m <= n)
    {
        if((n & m) == m)
            yield return 1;
        else
            yield return 0;
        m <<= 1;
    }
}

var numberOfZeros = GetBits(42).Count(x => x == 0); 
```

请注意，这只会返回*重要*的零，即数字 42 的 3。

# zend-framework - Zend_Navigation 扩展 Menu 类

> ID：12972036
> 
> 赞同：0
> 
> 时间：2012-10-19T10:12:49.230
> 
> 标签：zend-framework, zend-navigation

## 问题

我真的需要扩展 Zend_View_Helper_Navigation_Menu 以实现其方法的自定义行为。如果对您来说很重要，我会使用模块。

## 一些解决方案

*   [如何扩展 Zend Navigation Menu View Helper？](https://stackoverflow.com/questions/2364695/how-do-i-extend-the-zend-navigation-menu-view-helper)
*   [http://forums.zend.com/viewtopic.php?f=69&t=5594](http://forums.zend.com/viewtopic.php?f=69&t=5594)
*   [http://www.virgentech.com/blog/2011/05/extending-navigation-view-helpers-zend-framework.html](http://www.virgentech.com/blog/2011/05/extending-navigation-view-helpers-zend-framework.html)

## 我的问题

我已经实施了所有解决方案，它们的组合，但它仍然以失败告终......伙计们，我正在等待任何提示。

**编辑：**问题是什么都没有发生。使用标准助手（工作正常）。

## 我的代码

我的*Bootstrap.php*文件：

```
protected function _initNavigation() {
    $this->bootstrap('view');
    $view = $this->getResource('view');

    $view->addHelperPath('/../library/Application/View/Helper/Navigation', 'Application_View_Helper_');     
    $view->navigation($this->doGetNavigation());
} 
```

我的`Application_View_Helper_Navigation_Menu`班级（*ROOT/library/Application/View/Helper/Navigation*）：

```
class Application_View_Helper_Navigation_Menu extends Zend_View_Helper_Navigation_Menu
{
    public function menu(Zend_Navigation_Container $container = null)
    {
        echo 'Application_View_Helper_Navigation_Menu::menu(...)';
        return parent::menu($container);
    }
} 
```

我`Zend_Debug::dump($this->getHelperPaths())`的观点：

```
array (size=3)
    'Zend_View_Helper_' =>
array (size=1)
    0 => string 'Zend/View/Helper/' (length=17)
    'Application_View_Helper_' =>
array (size=1)
    0 => string '/../library/Application/View/Helper/Navigation/' (length=47)
    'Fleet_View_Helper_' =>
array (size=1)
    0 => string 'C:/repos/statistics/trunk/application/modules/fleet/views\helpers/' (length=70) 
```

我的脚本视图：

```
echo $this->navigation()->menu(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T20:03:44.590

在 application.ini 中有

```
resources.view.helperPath.Test_View_Helper_ = APPLICATION_PATH "/views/helpers"
resources.view.helperPath.Test_View_Helper_Navigation = APPLICATION_PATH "/views/helpers/Navigation" 
```

然后在 application/views/helpers/Navigation.php

```
class Test_View_Helper_Navigation extends Zend_View_Helper_Navigation
{
    public function navigation(Zend_Navigation_Container $container = null)
    {
         $this->view->getHelper ('Menu');
         $this->_helper ['menu'] = new Test_View_Helper_Navigation_Menu();
     return parent::navigation($container);
    }
} 
```

在 application/views/helpers/Navigation/Menu.php

```
class Test_View_Helper_Navigation_Menu extends Zend_View_Helper_Navigation_Menu
{
    public function render(Zend_Navigation_Container $container = null)
    {
        return 'It is I.';
    }
} 
```

# r - 在晶格图形上用回归线绘制 xyplot

> ID：12972039
> 
> 赞同：13
> 
> 时间：2012-10-19T10:12:56.607
> 
> 标签：r, panel, lattice

我已经加载了格子包。然后我运行：

```
> xyplot(yyy ~ xxx | zzz, panel = function(x,y) { panel.lmline(x,y)} 
```

这会产生绘图面板，显示回归线，没有 xyplots。我正在做 panel.lmline 没有完全理解它是如何完成的。我知道有一个数据参数，数据是什么，知道我有 3 个变量`xxx`, `yyy`, `zzz`?

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-19T10:57:35.067

您真正需要的是：

```
xyplot(yyy ~ xxx | zzz, type = c("p","r")) 
```

`type`论点记录在哪里`?panel.xyplot`

我不会引用它，但

```
type: character vector consisting of one or more of the following:
      ‘"p"’, ‘"l"’, ‘"h"’, ‘"b"’, ‘"o"’, ‘"s"’, ‘"S"’, ‘"r"’,
      ‘"a"’, ‘"g"’, ‘"smooth"’, and ‘"spline"’.  If ‘type’ has more
      than one element, an attempt is made to combine the effect of
      each of the components.

      The behaviour if any of the first six are included in ‘type’
      is similar to the effect of ‘type’ in ‘plot’ (type ‘"b"’ is
      actually the same as ‘"o"’).  ‘"r"’ adds a linear regression
      line (same as ‘panel.lmline’, except for default graphical
      parameters). ‘"smooth"’ adds a loess fit (same as
      ‘panel.loess’).  ‘"spline"’ adds a cubic smoothing spline fit
      (same as ‘panel.spline’).  ‘"g"’ adds a reference grid using
      ‘panel.grid’ in the background (but using the ‘grid’ argument
      is now the preferred way to do so).  ‘"a"’ has the effect of
      calling ‘panel.average’, which can be useful for creating
      interaction plots.  The effect of several of these
      specifications depend on the value of ‘horizontal’. 
```

`type`正如我上面所展示的，您可以通过传递一个字符向量将它们串联起来。本质上，您的代码给出了与 相同的结果`type = "r"`，即**只**绘制了回归线。

和格子绘图函数的`panel`参数`xyplot`通常非常强大，但对于如此复杂的事情并不总是需要。基本上，您需要传递`panel`一个函数，该函数将在绘图的每个面板上绘制内容。要修改您的代码以执行您想要的操作，我们还需要添加一个调用`panel.xyplot()`。例如：

```
xyplot(yyy ~ xxx | zzz,
       panel = function(x, y, ...) {
                 panel.xyplot(x, y, ...)
                 panel.lmline(x, y, ...)
               }) 
```

通过 传递各个面板函数上的所有其他参数也非常有用`...`，在这种情况下，您需要`...`在匿名函数中作为参数（如上所示）。实际上，您可以将面板功能部分写为：

```
xyplot(yyy ~ xxx | zzz,
       panel = function(...) {
                 panel.xyplot(...)
                 panel.lmline(...)
               }) 
```

但为了清楚起见，我通常会添加`x`and参数。`y`

# sql - SQL 增量 ID 分配

> ID：12972040
> 
> 赞同：0
> 
> 时间：2012-10-19T10:12:58.223
> 
> 标签：sql, oracle, formatting, increment

我想向 Oracle 表中插入新值。该表非常大，ID 代码以数字形式存储。我想编写插入语句，可以添加我的新信息并自动分配一个尚未使用的 ID。

例如：

```
insert into example_table values
(
(select max(person_id)+1 from example_table),
99, 'example name', 'example type'); 
```

但是上面的这段代码显然是行不通的，因为我指定了一个 ID（99）。如果我在上面的代码片段中将 99 设置为 null，它会起作用吗？不知道怎么格式化。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:20:13.580

这是错误的做法。它不能扩展，也不能在多用户环境中工作。

显然，Oracle 12c 将像 MSSQL 一样具有 AUTOINCREMENT 功能。与此同时，您将需要创建一个序列并使用它。

```
insert into example_table 
values ( person_id_seq.nextval, 'example name', 'example type') 
```

[了解更多。](http://docs.oracle.com/cd/E11882_01/server.112/e26088/statements_6015.htm#i2067093)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:16:51.627

您可以通过在数据库表上定义序列和触发器来做到这一点。该序列将简单地按顺序出售 id。插入行时触发器将触发并询问下一个可用 id 的序列，然后它将为您放入表中。这样，传递 NULL 就可以了。

```
CREATE SEQUENCE YOUR_SCHEMA_NAME.IDSEQ
  START WITH 9988
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  NOORDER;

CREATE OR REPLACE TRIGGER YOUR_SCHEMA_NAME.YOUR_TABLE_NAME_bir
BEFORE INSERT
ON YOUR_SCHEMA_NAME.YOUR_TABLE_NAME REFERENCING NEW AS NEW
FOR EACH ROW

BEGIN

  -- Custom code to: generate primary key from idseq if no id is passed

  IF :NEW.id IS NULL THEN
    :NEW.id := idseq.NEXTVAL;
  END IF;

EXCEPTION
  WHEN OTHERS THEN
    raise_application_error(-20570, 'System error: ' || SQLCODE || ':' || SQLERRM, TRUE);
END;
/ 
```

# c# - 如何检查网页是否已在 ASP.Net 上以特定 IP 地址访问？

> ID：12972041
> 
> 赞同：0
> 
> 时间：2012-10-19T10:13:02.253
> 
> 标签：c#, asp.net

在我的应用程序中，我想检查是否在特定 IP 地址中访问了 url。只有一次需要显示该页面，而下次导航到该页面时该页面不应该出现。

我怎样才能做到这一点？

问候，普拉萨德

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:20:25.670

我最近使用它来识别用户 IP-Address(es) 以在登录失败时记录他们：

```
// Look for a proxy address first
var IP = HttpContext.Current.Request.ServerVariables["HTTP_X_FORWARDED_FOR"];
//Trim and lowercase IP if not null
if (IP != null)
{
    IP = IP.ToLower().Trim();
}
if (IP == null || IP.Equals("unknown"))
{
    //If IP is null use different detection method else pull the correct IP from list.
    IP = HttpContext.Current.Request.ServerVariables["REMOTE_ADDR"].ToLower().Trim();
}

String[] IPs = null;
if (IP.IndexOf(",") > -1)
{
    IPs = IP.Split(',');
}
else
{
    IPs = new string[] { IP };
} 
```

（注：从 VB.NET 转换而来）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T10:19:10.507

您实际上是希望每个客户端显示一次页面，还是每个 IP 真正显示一次？

如果它是基于客户端的机器，那么让该页面存储一个 cookie 并检查它的存在以确定该页面是否曾被访问过。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-19T10:20:38.770

您可以尝试将 IP 地址存储在数据库中，也可以使用 cookie 变量。阅读有关[Cookie的更多信息](http://www.codeproject.com/Articles/244904/Cookies-in-ASP-NET)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-19T10:17:13.893

如此处建议和描述的：[如何在 ASP.NET 中获取用户的客户端 IP 地址？](https://stackoverflow.com/questions/735350/how-to-get-a-users-client-ip-address-in-asp-net)

你可以在`Page_Load`

```
Request.ServerVariables["REMOTE_ADDR"]; 
```

如果访问已经完成，您可以使用`Server.Transfer`移动到另一个页面（如警告页面或返回主页等......）

您坚持哪个 IP 访问您的页面一次的方式取决于您和您的需求、会话、应用程序缓存、数据库、cookie ......

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-19T10:17:14.827

加载页面时获取 IP 地址并将其存储在数据库中。然后，同样在加载页面时，根据数据库中可能的条目检查 IP。如果它不存在，请将其存储并加载页面。如果它已经存在，请重定向用户或其他东西。

# php - 从具有 .htaccess 下载限制的文件夹播放 mp3

> ID：12972044
> 
> 赞同：2
> 
> 时间：2012-10-19T10:13:13.510
> 
> 标签：php, html, .htaccess, playback

我一直在尝试制作一个音乐流媒体网站。

我将所有 mp3 存储在 www.abc.com/audio 文件夹中。

此文件夹具有 .htaccess 限制，因此没有人可以下载任何文件。

经过这么多搜索后，我无法找到如何使用该文件夹中的 php 播放该文件夹中的 mp3。

播放文件的 PHP 代码是文件名：play.php

```
<?php
//print_r($_GET);
include_once('./functions.php');

$path=getPathFromHash($_GET['value']);   //get path from hash_value ex. www.abc.com/audio/1.mp3
echo $track = getFileNameFromHash($_GET['value']);  //get file name ex. 1.mp3

if (file_exists($track)) {
header("Content-Type: audio/mpeg");
header('Content-Length: ' . filesize($track));
header('Content-Disposition: inline; filename=' . $track);
header('X-Pad: avoid browser bug');
header('Cache-Control: no-cache');
readfile($track);
exit;
} else {
    header($_SERVER['SERVER_PROTOCOL'].' 404 Not Found', true, 404);
    echo "no file";
}

?>
<audio src="<?php echo $path?>" autoplay loop controls></audio> 
```

我在音频文件夹中的 .htaccess 文件是

```
<FilesMatch ".(ogg|mp3)$">
Order Allow,Deny
Deny from all
</FilesMatch> 
```

但毕竟这首歌没有播放:(我应该做些什么改变才能让歌曲开始播放？

先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:22:19.157

我可以看到您有两个问题：

1)

```
echo $track = getFileNameFromHash($_GET['value']); 
```

`echo`从此行中删除。这将导致文件名被输出并且至少会破坏文件数据，它也可能会阻止标题设置正确。

2)

您可能需要告诉 PHP 文件在`audio/`目录中。您说`getFileNameFromHash()`返回`ex. 1.mp3`-PHP 将在当前工作目录中查找 1.mp3，根据您上面的评论，该目录将是 webroot。

尝试将上述行更改为

```
$track = 'audio/' . getFileNameFromHash($_GET['value']); 
```

...这也意味着您应该将`Content-Disposition`行更改为：

```
header('Content-Disposition: inline; filename="' . basename($track) . '"'); 
```

* * *

所有这些都假设`$path`包含一个合理的价值。它应该是`/play.php?value=<hash value expected by your functions>`

# python - 如何在 python 中使用 .format() 删除空格并将行打印到下一列？

> ID：12972048
> 
> 赞同：0
> 
> 时间：2012-10-19T10:13:18.247
> 
> 标签：python, string, formatting

我在打印和格式化时遇到问题，我尝试了以下代码：

```
for line in sorted(mydictionary.line()):
    print '{0} ,'.format(key_val[0]),
    print '{0}'.format(*mydictionary[line][0]),
    print '{0}'.format(*mydictionary[line][1]) 
```

输出如下所示：

```
File 1
File 2
File 1
01-CA , C 900
02-AR , A 505
03-UT , U 800
04-NY , N 350
File 2
01-CA , C 500
02-AR , A 700
03-UT , U 805
04-NY , N 300 
```

无论如何我可以进行格式化，所以它会像这样打印：

```
File 1
File 2
File 1       File 2
01-CA , C900 01-CA , C500
02-AR , A505 02-AR , A700
03-UT , U800 03-UT , U805
04-NY , N350 04-NY , N300 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:21:27.287

对于更多行的更优雅的解决方案是遍历这些行而不是将它们全部写出来，但是这样的事情应该可以解决问题：

```
l = ["" for i in range(3)]
for mydictionary in dictionaries:
    for line in sorted(mydictionary.line()):
        l[1] = l[1] + '{0} ,'.format(key_val[0])
        l[2] = l[2] + '{0} ,'.format(key_val[0])
        l[3] = l[3] + '{0} ,'.format(key_val[0])

print l[1]
print l[2]
print l[3] 
```

# c - fopen 在 linux 中无法用于名称中包含德语字符的文件

> ID：12972054
> 
> 赞同：4
> 
> 时间：2012-10-19T10:13:34.033
> 
> 标签：c, linux, unicode, fopen

我用c编写了一个代码，用于文件处理。文件名中包含一些德语字符。此代码在 Windows 上运行良好。但它在 Linux 中不起作用。fopen 给出“无法打开文件”错误。我检查了文件路径，文件存在那里。另外，我对该文件夹具有读写权限。

代码如下。

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main()
{
    const char *fileName = "/users/common/haëlMünchen.txt";

    FILE * pFile;
    char errorMessage[256];
    pFile = fopen (fileName,"r");
    if (pFile != NULL)
    {
        fprintf (stdout,"fopen example",errorMessage);
        fclose (pFile);
    }
    else
    {
    sprintf(errorMessage, "Could not open file %s", fileName);
    fprintf(stdout, "%s\n", errorMessage);
    }
    return 1;
} 
```

对此有任何意见吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:21:27.463

在 Linux 上，您可以将`sprintf`呼叫替换为

```
snprintf (errorMessage, sizeof(errorMessage), 
          "Could not open file %s - %m", fileName); 
```

^(（一般提示是避免`sprintf`由于可能的缓冲区溢出而只使用`snprintf`）)

如果你想避免 GLibc 特定的`%m`格式说明符，并使用更多标准函数，代码

```
snprintf (errorMessage, sizeof(errorMessage), 
          "Could not open file %s - %s",
          fileName, strerror(errno)); 
```

不要忘记,`#include <errno.h>`并*仔细阅读*[errno(3)](http://www.kernel.org/doc/man-pages/online/pages/man3/errno.3.html)手册页。

顺便说一句，你可以避免同时做`snprintf`和`printf`简单的代码

```
fprintf (stderr, "Cannot open file %s - %s\n",
        fileName, strerror(errno)); 
```

^(（正如乔纳森提醒的那样，错误报告通常转到`stderr`）)

然后再次运行您的程序。也许您对字符编码有疑问（在源文件中或在文件系统中）。

你也可以在你的程序上使用`strace`（也许是`ltrace`）来理解它正在执行的实际系统调用。

# jquery - 为什么我的日期选择器不会多次加载日期？

> ID：12972071
> 
> 赞同：0
> 
> 时间：2012-10-19T10:14:23.453
> 
> 标签：jquery, datepicker

在 html 页面中有一个包含此内容的 javascript 文件

```
 var eventsDates = {
    "0" :["11-10-2012","21-10-2012","28-10-2012","25-11-2012","15-12-2012"],
    "10":["11-10-2012"],
    "11":["21-10-2012","28-10-2012"],
    "12":["25-11-2012","15-12-2012"]
  } 
```

然后通过一个选择我选择ID只得到几个日期

```
$('#select_events').bind('change', function(){
    eventsDates = $(eventsDates[$(this).val()]);
}); 
```

最后，使用此函数构建日期并将它们传递给 datepicker 插件

```
function available(date) {
    dmy = date.getDate() + "-" + (date.getMonth()+1) + "-" + date.getFullYear();
    if ($.inArray(dmy, eventsDates) != -1) {
        return [true, "","Available"];
    } else {
        return [false,"","unAvailable"];
    }
} 
```

激活日期选择器我用这个

```
$('#datepickerEventi').datepicker({
    beforeShowDay:available,
    dateFormat: 'dd/mm/yy'
}); 
```

问题是，如果我选择另一个值，它第一次工作就不再工作了，就好像数组为空一样

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:31:06.450

该数组实际上是空的，因为您在此处覆盖了该值：

```
$('#select_events').bind('change', function(){
    eventsDates = $(eventsDates[$(this).val()]);
}); 
```

使用另一个变量名称来缓存所选事件的日期数组。你可以把它改成这样：

```
// default the event dates array to the first option from events dropdown
var selectedEventDates = eventsDates[$("#select_events option:first").val()];

$('#select_events').bind('change', function(){
    selectedEventDates = eventsDates[$(this).val()];
}); 
```

并在此处更新名称：

```
if ($.inArray(dmy, selectedEventDates) != -1) { 
```

# css - 如何编写 IE 8 特定的 CSS 样式

> ID：12972080
> 
> 赞同：1
> 
> 时间：2012-10-19T10:14:52.267
> 
> 标签：css, internet-explorer

是否可以在不使用 js 或 jquery 的情况下为少数元素编写 IE 8 特定样式？我有一个使用行高的要求，这在 Firefox 和 chrome 中工作得很好，就像在 IE8 中我想减少 2 px 的行高我可以在样式类中做到这一点吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:16:34.703

### 是的，你可以使用 Paul-Irish 的方式来定位 IE 浏览器：

```
<!--[if lt IE 7]>  <html class="ie ie6 lte9 lte8 lte7"> <![endif]-->
<!--[if IE 7]>     <html class="ie ie7 lte9 lte8 lte7"> <![endif]-->
<!--[if IE 8]>     <html class="ie ie8 lte9 lte8"> <![endif]-->
<!--[if IE 9]>     <html class="ie ie9 lte9"> <![endif]-->
<!--[if gt IE 9]>  <html> <![endif]-->
<!--[if !IE]><!--> <html>             <!--<![endif]--> 
```

### 或者新的：

```
<!--[if lt IE 7 ]> <html class="ie6"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class=""> <!--<![endif]--> 
```

### 因此，仅针对 IE 8，您可以使用：

```
<!--[if IE 8 ]>    <html class="ie8"> <![endif]--> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:16:04.887

**在 head 标签内使用：**

```
<!--[if IE 8]>
<link rel="stylesheet" href="ie8.css" />
<![endif]--> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T10:16:23.827

CSS条件注释将帮助您做到这一点

```
<!--[if IE 8]>
IE 8 stuff here
<![endif]--> 
```

查看[http://www.quirksmode.org/css/condcom.html](http://www.quirksmode.org/css/condcom.html)了解更多信息。

# java - 在 relativeLayout 的中心下方设置视图

> ID：12972081
> 
> 赞同：1
> 
> 时间：2012-10-19T10:14:53.420
> 
> 标签：java, android, android-relativelayout, centering

我想要一个视图，该视图在相对布局中位于垂直中心线下方 3 处。我只能把它放在精确的中心。你怎么把它放在下面 3 dip ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:30:22.777

我会用两个重量相同的项目进行垂直线性布局。最低的有 3dp 的上边距。你去吧:)

# java - 如何在java中使用hashmap删除重复的数组元素

> ID：12972083
> 
> 赞同：1
> 
> 时间：2012-10-19T10:14:54.963
> 
> 标签：java

如何在不使用 java 中的 hashset 的情况下使用 HashMap 删除数组中的重复元素...

下面的代码描述了删除数组中的重复元素。

现在我需要使用 hashmap 编写来生成键和值对

```
import java.util.*;

class TestArray{

public static void main(String arg[])
{

ArrayList<String> wordDulicate = new ArrayList<String>();

    wordDulicate.add("chennai");
    wordDulicate.add("bangalore");
    wordDulicate.add("hyderabad");
    wordDulicate.add("delhi");
    wordDulicate.add("bangalore");
    wordDulicate.add("mumbai");
    wordDulicate.add("mumbai");
    wordDulicate.add("goa");
    wordDulicate.add("calcutta");
    wordDulicate.add("hyderabad");

    ArrayList<String> nonDupList = new ArrayList<String>();

    Iterator<String> dupIter = wordDulicate.iterator();
    while(dupIter.hasNext())
    {
    String dupWord = dupIter.next();
    if(nonDupList.contains(dupWord))
    {
        dupIter.remove();
    }else
    {
        nonDupList.add(dupWord);
    }
    }
  System.out.println(nonDupList);
}
  } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:16:34.400

A`HashSet`是按照 a 来实现的`HashMap`。如果您特别想使用 a `HashMap`，请以与使用相同的方式使用它`HashSet`：在任何地方使用虚拟常量`new Object()`作为映射值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:22:30.040

那么 HashMap 会阻止你输入重复的键，就像 HashSet 一样。实际上，许多 HashSet 的实现只是在底层使用了 HashMap。

所以你可以这样做：

```
HashMap<String, String> map = new HashMap<String, String>();
for (String s : WordDuplicate) 
  map.put( s, s ); 
```

现在您可以像访问 HashMap 一样访问键/值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-04-26T03:53:44.810

```
import java.util.HashSet;
import java.util.Stack;

public class stackdupes {

    public static void main(String[] args) {
        Stack<Integer> st = new Stack<Integer>();
        int[] arr= {1,2,3,3,4,5,5,7};
        HashSet<Integer> set = new HashSet<Integer>();

        for (int i=0;i<arr.length;i++) {
            if(set.add(arr[i]) == true)
            st.push(arr[i]);
        }
        System.out.println(st); 

    }   
} 
```

# jquery - jquery .html() 删除尾随空格

> ID：12972087
> 
> 赞同：2
> 
> 时间：2012-10-19T10:15:01.483
> 
> 标签：jquery, contenteditable

我想设置`"someting "`为 div 内的 html，但 .html() 似乎删除了尾随空格。

它在一个`contenteditable`div 中，因此当用户开始输入时，“某物”和他输入的内容之间会缺少一个空格。

**HTML**

```
<div id="text" contenteditable="true"></div> 
```

**JAVASCRIPT**

```
$('div#text').html('something          '); 
```

这会在 div 中显示“something_”，但是当您开始输入时，它会出现在文本的其余部分旁边。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T10:20:17.700

为了在 HTML 中设置可见空间，它们应该采用 的形式`&nbsp;`，例如

```
​$("#text").html("something&nbsp;&nbsp;")​​​​; 
```

一种选择是使用您自己的函数进行基本空间转换：

```
function spaceToNbsp(str) {
    return str.replace(/ /g, "&nbsp;");
}

$("#text").html(spaceToNbsp("something  "))​​​​; 
```

**演示：http:** [//jsfiddle.net/NAWY3/](http://jsfiddle.net/NAWY3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:19:24.730

尝试使用`&nbsp;`而不是空格：

```
$('#div_id').html("something&nbsp;"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T10:51:50.080

如果你喜欢它使用`css`

**HTML**

```
<div contenteditable="true" id="test"></div> 
```

**CSS**

```
div#test:before{
    content: '>\0000a0\0000a0';
    /*or  content: 'Something\0000a0\0000a0';*/
} 
```

[**演示**](http://jsbin.com/eyefur/1/edit)。

# java - java - toString 使用惰性值字符串

> ID：12972088
> 
> 赞同：0
> 
> 时间：2012-10-19T10:15:02.800
> 
> 标签：java, tostring

我最近有以下想法：当你定义你的对象并覆盖 toString 方法时，在程序执行过程中可能会被多次调用。我不确定某些 UI 组件如何刷新自己（刷新时 JTable 是否会调用每个单元格成员的 toString 方法），或者每次当您执行修改对象的指令时调试器是否调用 toString 等。无论如何，我在想它是否会如果我们的结构是 IMMUTABLE，则将惰性求值的 String 定义为我们的 to String 定义是有益的：

```
private String toString;
//.. definitions of many components, sets, lists which won't change

public String toString(){
   if (toString == null) // instantiate
   return toString;
} 
```

以上值得做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:24:51.943

如果字符串创建过程较长，且创建的字符串经常被使用，则应存储。如果不是，则取决于您将调用该`toString()`方法的次数（内存和 CPU 时间之间总是同样的老战争）

如果您的类是不可变的并且您知道该`toString()`方法将至少被调用一次，您应该在构造函数（或工厂）中实例化字符串，而不是总是检查。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:30:21.573

优化的标准规则在这里发挥作用。

1.  不要这样做。
2.  （仅适用于专家）暂时不要这样做——至少在您获得分析信息说明为什么这是一个需要解决的问题之前不要这样做。

由于性能原因，您正在失去清晰度和可维护性，因此请量化这些性能原因是什么以及它们是否值得付出代价。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:00:10.560

由于 Javas String Literal Pool，您不必担心这一点。假设您没有创建大量唯一字符串，Java 将在加载类文件或初始化时遍历您的代码并查找字符串，并将它们添加到字符串文字池中。

这是一篇很棒的文章，并通过漂亮的图表对此进行了概述 -[字符串文字池概述](http://www.javaranch.com/journal/200409/ScjpTipLine-StringsLiterally.html)

其他建议是使用 StringBuffers，因为独立部分不会仅将输出字符串添加到缓冲区中。

将 StringBuffer 设为静态也可以避免每次都创建一个新对象，但这实际上取决于您调用 toString() 的频率。

如果这真的是像 Tom Johnson 建议的那样运行分析器的瓶颈，那将是下一个方向。

# javascript - IE 9 标准模式：normalize() 方法不起作用

> ID：12972090
> 
> 赞同：3
> 
> 时间：2012-10-19T10:15:05.610
> 
> 标签：javascript, internet-explorer-9

我正在测试一些东西，我遇到了一个奇怪的错误（虽然我不知道它是否真的是一个错误）。

拿这个简单的文件

```
<!DOCTYPE html>
<html><head><meta charset="utf-8">
<script>
    window.onload = function() {
        var p = document.createElement('p');

        p.appendChild( document.createTextNode('x') );
        p.appendChild( document.createTextNode('y') );
        p.appendChild( document.createTextNode('z') );
        document.body.appendChild(p);

        console.log( p.childNodes.length );

        p.normalize();
        console.log( p.childNodes.length );
};
</script></head><body></body></html> 
```

在除 IE 9 之外的所有浏览器中，控制台输出首先是 3，然后是 1。在 IE-9 中，两次都是 3——这意味着它`normalize()`没有做它的事情。更令人惊讶的是，如果我将“文档模式”更改为 IE 7 或 8 甚至 quirks 模式，控制台输出为 3 和 1。

这是 IE 中的一些错误还是我出错了？

***- 更新 -***

奇怪的是，如果没有将元素添加到 DOM，IE 9 也会以正确的方式运行。也就是说，在上面的代码中，如果我删除将段落添加到正文中的行：

```
document.body.appendChild(p); 
```

然后，IE 9 控制台也先显示 3，然后显示 1。

***-- 更新 2 --***

一个简单的脚本来检查您的浏览器是否`normalize()`正确：

```
 var p = document.createElement('p');

    // you can not put empty strings -- put blank strings instead
    p.appendChild( document.createTextNode(' ') );
    p.appendChild( document.createTextNode(' ') );
    p.appendChild( document.createTextNode(' ') );

    var normalizeOk;

    document.body.appendChild(p);
    p.normalize();
    normalizeOk = p.childNodes.length == 1;
    document.body.removeChild(p);

    console.log("normalize OK: ", normalizeOk); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-07T11:32:10.860

我在 IE 11 上遇到了这个问题，但是在我尝试“重置 Internet Explorer 设置”之后，normalize() 表现正确。无论如何，我编写了一个函数，如果 IE 坏了，它会执行“规范化”。

```
(function () {
    function checkIfNormalizeOk() {
        var p = document.createElement('p');

        // you can not put empty strings -- put blank strings instead
        p.appendChild( document.createTextNode(' ') );
        p.appendChild( document.createTextNode(' ') );
        p.appendChild( document.createTextNode(' ') );

        document.getElementsByTagName('head')[0].appendChild(p);
        p.normalize();
        var isNormalizeOk = (p.childNodes.length === 1);
        document.getElementsByTagName('head')[0].removeChild(p);
        return isNormalizeOk;
    }

    function getNextNode(node, ancestor, isOpenTag) {
        if (typeof isOpenTag === 'undefined') {
            isOpenTag = true;
        }
        var next;
        if (isOpenTag) {
            next = node.firstChild;
        }
        next = next || node.nextSibling;
        if (!next && node.parentNode && node.parentNode !== ancestor) {
            return getNextNode(node.parentNode, ancestor, false);
        }
        return next;
    }

    var isNormalizeOk = checkIfNormalizeOk();
    window.normalizeEl = function (el) {
        if (isNormalizeOk) {
            el.normalize();
        } else {
            var adjTextNodes = [], nodes, node = el;
            while ((node = getNextNode(node, el))) {
                if (node.nodeType === 3 && node.previousSibling && node.previousSibling.nodeType === 3) {
                    if (!nodes) {
                        nodes = [node.previousSibling];
                    }
                    nodes.push(node);
                } else if (nodes) {
                    adjTextNodes.push(nodes);
                    nodes = null;
                }
            }

            adjTextNodes.forEach(function (nodes) {
                var first;
                nodes.forEach(function (node, i) {
                    if (i > 0) {
                        first.nodeValue += node.nodeValue;
                        node.parentNode.removeChild(node);
                    } else {
                        first = node;
                    }
                });
            });
        }
    };
}()); 
```

# algorithm - 未连接的有向图顶点的最大子集的大小？

> ID：12972092
> 
> 赞同：1
> 
> 时间：2012-10-19T10:15:11.427
> 
> 标签：algorithm

给定一个有向图，我怎样才能找到顶点的最大子集的大小，使得它们中的任何一个都没有通过有向路径连接？

这个问题（或解决它的算法）有一个通用名称吗？

（**提示：** “根据 Dilworth 定理，这个问题实际上相当于计算传递闭包后 DAG 上覆盖的最小链数。因此，这个问题可以简化为二分图上的最大匹配。”）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:29:19.200

不知道名字，估计是[Disjoint-set数据结构的子问题](http://en.wikipedia.org/wiki/Disjoint-set_data_structure)

使用 Union Find，您可以确定所有连通图。

最初，每个节点都在其组中。检查每个节点并将其所有直接子节点添加到节点的组根中。这是基本的联合查找。

然后，最大子集由每个组的一个顶点组成。

在最坏的情况下，当每个节点都连接到所有其他节点时，这应该花费 O(n²)，因为每个节点都被检查 n 次。

# iphone - 为字符串返回 null

> ID：12972094
> 
> 赞同：0
> 
> 时间：2012-10-19T10:15:15.450
> 
> 标签：iphone, ios, ios5, ios4, ios6

下面的语句返回 null。

有人可以帮忙吗？

NSString *movpath = [[NSBundle mainBundle] pathForResource:@"Movie" ofType:@"m4v"];

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T10:17:34.133

这主要是因为 Movie.m4v 不正确，您需要在构建阶段将其添加到资源中。

# android - 检查移动网络连接 & NetworkInfo.State SUSPENDED 表示什么？

> ID：12972101
> 
> 赞同：0
> 
> 时间：2012-10-19T10:15:30.587
> 
> 标签：android, networking

我正在创建一个应用程序来检查移动网络的状态。

我使用 NetworkInfo.State.CONNECTED 来检查连接性。它在我的模拟器上运行良好。但是当用户拨打电话时，网络信息状态为SUSPENDED（但用户已连接到网络）挂起的代码表示什么？

此外，当我在设备上运行应用程序时，网络状态为 DISCONNECTED。但用户已连接到网络并且可以接听/接听电话。在这种情况下，NetworkInfo.getReason() 作为 datadisconnected 给出。

有人可以帮忙检查一下移动连接到网络。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:18:25.317

```
public class NetWorkCheck{
    ConnectivityManager connectivityManager;
    NetworkInfo wifiInfo, mobileInfo, lanInfo;

    public Boolean checkNow(Context con){

        try{
            connectivityManager = (ConnectivityManager) con.getSystemService(Context.CONNECTIVITY_SERVICE);
            wifiInfo = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);
            mobileInfo = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);

            if(wifiInfo.isConnected() || mobileInfo.isConnected())
            {
                return true;
            }
        }
        catch(Exception e){
            System.out.println("CheckConnectivity Exception: " + e.getMessage());
        }

        return false;
    }
} 
```

# php - 如何在 PHP 项目中进行大量复杂的字符串替换？

> ID：12972105
> 
> 赞同：0
> 
> 时间：2012-10-19T10:15:37.040
> 
> 标签：php, regex, eclipse, string

我想“在文件树中”就足够了，但这是我的情况。

我被赋予了替换所有实例的任务

`some_function('string_parameter'.$some_optional_var.');`

到

`some_function().'string_parameter'.$some_optional_var.';`在 PHP 项目中。

在调用函数的任何地方，参数都可以不同。

我很确定我可以使用正则表达式或类似的东西，但正则表达式不是我的强项......

如果有帮助，我正在使用 Eclipse Indigo。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T11:20:29.767

这是一个在 Eclipse 搜索和替换中对我有用的解决方案。

搜索：

```
some_function\(([^)]+)\) 
```

代替：

```
some_function().$1 
```

（这会将内容放在`some_function`它之后的调用中，无论该内容是什么。如果这不够具体，您将需要准确描述`some_function`您需要处理哪种情况。）

显然，您需要打开正则表达式选项。

**解释：**

`some_function`匹配那个确切的文本。

`\( ... \)`由于括号是正则表达式中的特殊字符，因此需要一个反斜杠来转义它们，以便我们匹配实际的括号。

`(...)`内括号创建一个捕获组来记录这部分正则表达式匹配的内容。

`[^)]+`匹配一个或多个非括号字符的字符类（`^`否定字符类；`+`要求至少有一个字符，并匹配尽可能多的字符。

`$1`在替换中——插入上面括号中捕获的值。您可以使用不同的括号组捕获许多不同的事物，它们将进入`$1`、`$2`、`$3`等。

# javascript - How to prevent google chrome android browser to display the magnifier when users click a button?

> ID：12972106
> 
> 赞同：12
> 
> 时间：2012-10-19T10:15:37.367
> 
> 标签：javascript, android, html, google-chrome, browser

I'm building a simple html menu with unordered lists and I'm trying to prevent google chrome browser to display its magnifier every time I click a link.

The browser considers the `li`'s to be too close from each other for the user to click it accurately. But I disagree!

How could I disable/cancel/prevent this behavior, other than setting a bigger padding on the `li` elements please? Is there even a way?

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-08T16:14:04.750

I think I found a way and it's so stupid I don't know how I didn't think of it sooner...

Just change the `viewport` meta tag to disable zooming on the page and the magnifier feature won't bother you anymore.

i.e.

```
<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no" /> 
```

I tested this on Galaxy Nexus and Galaxy Note with success. Any other input and feedback is welcome!

[EDIT]

After experimenting a lot with mobile UX I'd advise to... **DESIGN BIGGER BUTTONS!**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T14:30:58.390

I don't think there is a way to disable this as it is a feature of the Android Chrome browser.

Unfortunately, the source code for Android Chrome browser isn't open source (yet) so I can't take a look.

You may find it useful to report a bug here: [new.mcrbug.com](http://new.mcrbug.com)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2015-01-26T21:41:49.633

It seems to work with this CSS declaration:

```
-webkit-touch-callout:none; 
```

# app-store-connect - iTunes Connect：如何将应用程序状态从等待上传恢复为准备上传

> ID：12972109
> 
> 赞同：7
> 
> 时间：2012-10-19T10:15:40.830
> 
> 标签：app-store-connect

我正在上传我的 iOS 应用程序的第一个版本以供审核，而我的应用程序有应用内购买。在进入二进制上传部分时，我将我的应用状态设置为准备上传。但后来我知道我必须在应用程序版本中提交我的第一个应用内购买。

现在我无法编辑应用程序版本元数据中的应用程序内购买部分，因为它指出您不能在此版本中提交应用程序购买，因为它已经提交以供审核。

我还没有在这个版本中上传二进制文件，现在有两个我认为可能的解决方案

1- 我向 Apple 审核团队发送电子邮件，将我的应用程序状态从准备上传更改回准备上传
或
2- 上传二进制文件然后拒绝它，但我很困惑，拒绝二进制文件是否会将我的应用程序状态恢复为准备上传或等待上传。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-14T02:47:54.407

我忘记使用我的第一个二进制文件提交任何 IAP 并被拒绝（“无法购买任何东西 = 无法审查应用程序”）。我还匆匆点击了“准备上传二进制文件”，而没有先编辑 IAP。我刚刚再次提交了相同的二进制文件并很快拒绝了它。然后，我可以编辑 IAP，最后再次重新提交二进制文件。希望这可以帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-04-30T18:10:54.777

1.上传当前二进制文件。

2.使其“开发商拒绝”。

3.上传您选择的新二进制文件。

# javascript - html5 FileReader , readAsDataUrl 函数返回什么样的数据？是网址吗？还是数据本身？

> ID：12972110
> 
> 赞同：3
> 
> 时间：2012-10-19T10:15:42.033
> 
> 标签：javascript, html, fileapi

```
function readURL(input){    
    if(input.files && input.files[0]){
        reader.readAsDataURL(input.files[0]);
    }
    else {
        document.images[0].src = input.value || "No file selected";
    }
}
function checkSrc(){
    var src = document.getElementById('propertyImg').getAttribute('src');
    console.debug(src);
}
<input type='file' class='width70_prop' onchange="readURL(this);"></input>
<button onclick='checkSrc()'>check</button> 
```

我很好奇 FileReader 的 readAsDataUrl 函数返回什么样的数据。
当我通过上面的代码检查 src 属性时，它看起来像
可笑的巨大的长字符串（字符串以 base-64 blah blah 开头）。
我想知道字符串是指文件的地址或文件本身。
任何帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:19:27.387

它是文件本身，但采用 base-64 编码。它也被称为

[数据URI](http://en.wikipedia.org/wiki/Data_URI_scheme)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-19T10:20:20.303

它是编码为 Base64 字符串的文件内容，适合在 URL 中使用。请参阅[https://developer.mozilla.org/en-US/docs/DOM/FileReader](https://developer.mozilla.org/en-US/docs/DOM/FileReader)

# esper - Esper EPL leftouter join 转发到其他流

> ID：12972111
> 
> 赞同：0
> 
> 时间：2012-10-19T10:15:46.093
> 
> 标签：esper, complex-event-processing, epl

我已经为我的 CEP 应用需求实施了 ESPER。在使用 EPL 时，我遇到了一个特定的场景，如下所示：

***我将两个事件与左外连接结合起来，以确保第一个事件中的每个事件都可以触发语句，并且只有包含特定属性的第二个流中的事件才能出现。我创建了一个视图来存储基于某些字段的唯一数据。我的 EPL 是***

```
@Name ('StmtCombinedEvent')
Insert into CombinedEvent 
    Select S as T1,
    L as T2,
    From pattern[every S= bussinessObject.Type1].std:unique(S.Id) as S 
    left outer join 
    bussinessObject.Type2.std:unique(name) as L
    on S.name = L.name;

@Name ('StmtGroupingEvent')
Insert into Position
Select 
    G.T1 as T1
    G.T2 as T2
    From CombinedEvent.std:unique(T1.Id) as G; 
```

我在配置文件中使用 java.util.Map 类型作为 CombinedEvent 数据类型

现在考虑测试场景

1.  已将两个 Id 不同但名称相同的 T1 类型事件输入系统

2.  一个 T2 类型的事件进入系统

**由于视图规范，T1 类型的两个事件都驻留在视图中，并且当 T2 类型的事件进入系统时，Event Bean 类型的 NewData 参数包含 T1 的两个事件（如果我在代码中使用事件侦听器），但作为第一个 EPL 语句指定它插入到第二个语句中，它发现类型不匹配的错误，因为它期待“StmtGroupingEvent”的类型为 T2 的事件，但找到了事件 Bean。**

所以我需要在 EPL 中处理数组类型的数据，这很麻烦。

另一方面，如果场景如下：

1.  只有一个 T1 类型的事件进入系统。

2.  一个 T2 类型的事件进入系统。

此方案不会产生任何错误，因为事件 Bean 已成功类型转换为 T2 类型。

所以请建议我这样做的任何替代方式。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:09:56.453

“它发现类型不匹配的错误”是什么意思？如果记录了异常，请将其发布并在旁边发布一个小型测试类以进行重现。还要确保您使用的是最新版本的 Esper，如果有错误，它可能已在较新版本中修复。

另外，使用“from bussinessObject.Type1.std:unique(S.Id)”而不是 pattern[every S= bussinessObject.Type1].std:unique(S.Id)”，因为后者是一个直线，它是相同的。

# ruby-on-rails - 嵌套模型验证 - 不显示错误

> ID：12972112
> 
> 赞同：5
> 
> 时间：2012-10-19T10:15:54.010
> 
> 标签：ruby-on-rails, ruby, model-view-controller, validation, nested-forms

对此有很多问题，但似乎都没有帮助。是的，我看过[这个铁轨演员](http://railscasts.com/episodes/196-nested-model-form-part-1)。

我有一个作者有很多书，像这样：

作者：

```
class Author < ActiveRecord::Base
  attr_accessible :name
  has_many :books, dependent: :destroy

  accepts_nested_attributes_for :books, allow_destroy: true

  validates :name, presence: true
  validates :name, length: { minimum: 3 }
end 
```

书：

```
class Book < ActiveRecord::Base
  attr_accessible :name, :year
  belongs_to :author

  validates :name, :year, presence: true
  validates :year, numericality: { only_integer: true, less_than_or_equal_to: Time.now.year }
end 
```

我创建了以下表单来将一本书添加到 authors#show 中的作者：

```
<%= form_for([@author, @book], html: { class: "well" }) do |f| %>
<% if @book.errors.any? %>
    <div class="alert alert-block">
        <ul>
            <% @author.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
        </ul>
    </div>
<% end %>
#labels and buttons...
<% end %> 
```

...使用以下 authors_controller 方法：

```
def show
    @author = Author.find(params[:id])
    @book = @author.books.build
end 
```

...以及以下 books_controller 方法：

```
def create
    @author = Author.find(params[:author_id])
    if @author.books.create(params[:book])
      redirect_to author_path(@author)
    else
      render action: :show
    end
  end 
```

我似乎无法弄清楚为什么表单不显示任何错误消息。我遵循了 railscasts 中的示例，他们说表单中应该有书籍的实例变量而不是 @author.books.build，所以我将后者放在控制器中，将 @book 放在表单中 - 仍然无济于事。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-19T10:30:39.613

让我们一步一步来。

您提交创建，然后进入您的创建操作

```
def create
  @author = Author.find(params[:author_id])
  if @author.books.create(params[:book])
    redirect_to author_path(@author)
  else
    render action: :show
  end
end 
```

（旁注，如果找不到 @author 怎么办。您没有处理这种情况。）

现在，找到了作者，但 @author.books.create 失败（返回 false），因此您渲染了 show 动作。

这使用了显示模板，但不调用显示操作代码。（旁注，也许新页面会是一个更好的选择，所以用户可以尝试再次创建。）

此时@author 被实例化为您找到的作者，而不是@book。所以@book，如果被调用将为零。

您的节目模板可以

```
if @book.errors.any? 
```

这不是真的，所以 if 中的其余模板将被跳过。这就是为什么没有错误。

您不需要 form_for 来显示错误消息。如果您切换到使用新模板，那么将有一个表单可以重试。

所以让我们切换到渲染新的。

```
Class BooksController < ApplicationController
  def new
    @author = Author.find(params[:author_id])
    @book = @author.books.build
  end

  def create
    @author = Author.find(params[:author_id])
    @book = @author.books.build(params[:book])
    if @author.save
      redirect_to author_path(@author)
    else
      render action: :new
    end
  end 
```

您的新模板将是

```
<% if @author.errors.any? %>
    <div class="alert alert-block">
        <ul>
            <% @author.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
        </ul>
    </div>
<% end %>
<% if @book.errors.any? %>
    <div class="alert alert-block">
        <ul>
            <% @book.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
        </ul>
    </div>
<% end %>

<%= form_for([@author, @book], html: { class: "well" }) do |f| %>
#labels and buttons...
<% end %> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T14:53:25.463

在 Books 控制器 /books_controller.rb

```
def new
   @author = Author.find_by_id(params[:author_id])
   @book = @author.books.build
end

def create 
   @author = Author.find_by_id(params[:author_id])
   if @author
     @book = @author.books.build(params[:book])
     if @book.save
       flash[:notice] = "Book saved successfully"
       redirect_to author_path(@author)
     else
       render :new
     end
  else
   flash[:notice] = "Sorry no author found"
   redirect_to author_path
  end 
end 
```

如果作者不存在重定向到作者索引页面并显示错误消息，请不要呈现新表单，因为您将无法构建书籍表单，因为作者为零。

在您的书籍新表格中，您可以列出书籍的错误

/books/new.html.erb

```
 <% if @book.errors.any? %>
    <div class="alert alert-block">
      <ul>
         <% @books.errors.full_messages.each do |msg| %>
             <li><%= msg %></li>
         <% end %>
     </ul>
   </div>
 <% end %> 
```

# mongodb - MongoLab 远程 API 字符串到 int 的转换

> ID：12972118
> 
> 赞同：0
> 
> 时间：2012-10-19T10:16:10.303
> 
> 标签：mongodb, mlab

我希望能够从字符串转换为 int 特定字段。到目前为止，我唯一的方法是让我的 PHP 脚本通过 API 调用来更新所有现有值，该 API 调用具有该字段的每个文档。有没有办法 1）MongoLab 更新值在更新调用中利用现有值（即在 SQL 中你可以这样做`price = price + 1`）和 2）你可以在 MongoDB/MongoLab 更新调用中调用函数吗？即`{"price":"integer(price)"}`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T19:20:44.480

您将必须编写一个程序来遍历所有数据并手动进行转换。在 mongo shell 中运行一个简单的 Javascript 程序可能是最简单的方法。

# android - 如何在操作栏上显示 GPS 图标？

> ID：12972119
> 
> 赞同：1
> 
> 时间：2012-10-19T10:16:20.827
> 
> 标签：android

在地图应用程序中，如果启用了 GPS，则在操作栏上有一个 GPS 图标。现在，如果我的应用程序想在操作栏上显示 GPS 图标（与地图应用程序相同）。我该怎么做？

# wpf - Delphi Prism 应用程序设置

> ID：12972122
> 
> 赞同：1
> 
> 时间：2012-10-19T10:16:30.227
> 
> 标签：wpf, delphi-prism, oxygene

在 .net 中，您可以通过代码访问应用程序的属性。你怎么能在 Oxygene/delphi prism 中做同样的事情？

```
Directory.GetFiles(Properties.Settings.Default. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T15:04:51.280

您快到了，要访问应用程序的设置，您必须将 `YourAppNameSpace.Properties`命名空间添加到您的 uses 子句，然后以这种方式访问​​设置

```
Settings.Default.MySettingName 
```

或使用完整的限定名称，如下所示：

```
YourAppNameSpace.Properties.Settings.Default.MySettingName 
```

# file - 如何将文件和文件夹删除到垃圾箱？(qt)

> ID：12972128
> 
> 赞同：0
> 
> 时间：2012-10-19T10:16:40.093
> 
> 标签：file, qt, directory, recycle-bin

我对 Windows、Mac OS 和 Linux 很感兴趣。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:09:43.763

不存在这样的类来自动处理所有事情。

您可以使用 ifdefs 宏编写自己的类来根据编译平台切换操作

# php - 如何将两个 Post/Category 表 MYSQL SELECT 查询合并为一个

> ID：12972130
> 
> 赞同：0
> 
> 时间：2012-10-19T10:16:49.253
> 
> 标签：php, mysql

我有两个 MySQL 查询：

```
1) "SELECT ID,post_title,post_category,post_perma FROM ".TBL_POSTS."
   WHERE  published='1' AND page='0' ORDER BY  ID DESC LIMIT 10"

2) "SELECT p.cat_ID,p.cat_nicename FROM ".TBL_CATEGORIES." n, ".TBL_CATEGORIES." p
   WHERE n.lft BETWEEN p.lft AND p.rgt AND n.cat_ID='".post_category."' ORDER BY p.lft 
```

第一个查询选择帖子，然后第二个选择类别的路径，`post_category`请注意，`post_category`将从第一个查询中获取的方法`post_category`在两个表中都很常见。在第一个表中它被命名为`post_category`，在第二个表中它是`cat_ID`

现在我在 foreach 循环中运行它，这不好。还有一件事需要注意的是，第二个查询也将返回 Array 并且一个数组应该对应于`post_category`

任何 SQL 专家都可以帮助我吗？

多谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T10:29:59.193

请试试这个，它可能对你有帮助。

```
SELECT a.ID, a.post_title,a.post_category,a.post_perma, b.cat_ID, b.cat_nickname
FROM  (SELECT ID,post_title,post_category,post_perma FROM ".TBL_POSTS." WHERE  published='1' AND page='0' ORDER BY  ID DESC LIMIT 10)  a
LEFT   JOIN (SELECT p.cat_ID as cat_ID,p.cat_nicename as cat_nickname FROM " . TBL_CATEGORIES . " n, " . TBL_CATEGORIES . " p WHERE n.lft BETWEEN p.lft AND p.rgt AND n.cat_ID = '" .$post_category. "' ORDER BY p.lft) b ON a.ID = b.cat_ID 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:24:56.173

我会使用**[LEFT JOIN](http://dev.mysql.com/doc/refman/5.0/en/left-join-optimization.html)**

像这样：

```
$sql = "SELECT `p`.`ID`,`p`.`post_title`,`p`.`post_category`,`p`.`post_perma`,`c`.`cat_ID`,`c`.`cat_nicename` FROM `".TBL_POSTS."` AS `p` ";
$sql .= "LEFT JOIN `".TBL_CATEGORIES."` AS `c` ON `c`.`cat_ID`=`p`.`post_category` WHERE `p`.`published`='1' AND `p`.`page`='0' ORDER BY `p`.`ID` DESC LIMIT 10"; 
```

您可能需要调整`WHERE`条款以更适合您的需求。

**请注意：**这是一个字符串，我只是将它们分成两行，以便于阅读。`.=`是追加当前字符串。

# c# - 关闭和打开具有 ATL OCX 的 C# 容器时，ATL_DRAWINFO.prcBounds 值错误

> ID：12972132
> 
> 赞同：1
> 
> 时间：2012-10-19T10:16:52.770
> 
> 标签：c#, atl, ocx

我在 C# 容器上放置了一个 ATL OCX 控件并减小了 ATL OCX 控件的大小。然后我关闭了 C# 容器。现在我设置了一些属性来增加或减小 OCX 控件的大小（这是可能的，因为我正在使用多文档界面，即使我关闭了容器，我也可以为容器上存在的 OCX 设置属性）。在此之后，我打开之前关闭的容器，现在 OCX 根据之前设置的属性计算其自身的正确宽度和高度，并触发对容器的更改。但仍然在 ondraw 中，我没有得到新计算的 OCX 的高度和宽度。我得到了关闭容器之前的旧值。如果我检查包含容器的 RECT 的变量 m_rcPos 它是最新的。

请有人在那里帮助我。

提前致谢。

# c++ - SFML 链接器错误：未解析的外部符号 _WinMain@16，Visual Studio 2012

> ID：12972134
> 
> 赞同：1
> 
> 时间：2012-10-19T10:16:54.123
> 
> 标签：c++, linker, visual-studio-2012, sfml

我能够得到[教程#1](http://www.sfml-dev.org/tutorials/1.6/start-vc.php)来编译。但是我无法编译[第二个。](http://www.sfml-dev.org/tutorials/1.6/window-window.php)

当您执行 new -> Project 时，*可能其中一个设置会干扰？*很确定我做了空项目，否则控制台。

怎么了？编译错误：

```
Error   1   error LNK2019: unresolved external symbol _WinMain@16 referenced in function
___tmainCRTStartup  C:\...\02-videomode-iterate\MSVCRTD.lib(crtexew.obj)    02-videomode-iterate
Error   2   error LNK1120: 1 unresolved externals   C:\...\Debug\02-videomode-iterate.exe   02-videomode-iterate 
```

整个来源：

```
#include <SFML/Window.hpp>

int main()
{
    sf::Window App(sf::VideoMode(800, 600, 32), "SFML-tut: 02");

    bool Running = true;
    while (Running)
    {
        App.Display();
    }

    return EXIT_SUCCESS;
} 
```

项目设置：

> include dir, lib: dir 设置正确。

c++ -> 预处理器 -> 预处理器定义：

> SFML_DYNAMIC

链接器->输入

> 尝试过：`sfml-window.lib`和`sfml-window-d.lib`（Visual Studio 似乎总是在开始时使用调试模式？但教程 #1 仅在我不使用 -d 版本时才有效。

子系统：

> /子系统：WINDOWS

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:21:55.673

当您设置`/SUBSYSTEM:WINDOWS`标志时，链接器将寻找一个`WinMain`函数而不是传统的`main`. 你有两个选择：

1.  更改为`/SUBSYSTEM:CONSOLE`。你会得到一个烦人的（或者可能有用的）控制台窗口，你可以用`FreeConsole`.
2.  更改`main`为`WinMain`以下签名：

    ```
    int CALLBACK WinMain(
     HINSTANCE hInstance,
     HINSTANCE hPrevInstance,
     LPSTR lpCmdLine,
     int nCmdShow
    ); 
    ```

    除非您需要访问`argc`and `argv`，否则此更改不会造成太大麻烦。

* * *

编辑：也许这也值得一看（从第二个教程复制）：

> 在 Windows 操作系统下，您可能已经创建了一个“Windows 应用程序”项目，尤其是在不希望控制台显示的情况下。在这种情况下，为避免将 main 替换为 WinMain，您可以与 SFML_Main 静态库链接，并保留一个标准且可移植的 main 入口点。

所以，我想归结为将`sfml-main.lib`（或类似的）添加到要链接的库列表中。

# c# - 为什么泛型类型参数和其他成员之间存在名称冲突

> ID：12972136
> 
> 赞同：10
> 
> 时间：2012-10-19T10:16:59.050
> 
> 标签：c#, generics

有时有类似的东西很有用：

```
class X {
  ...
}

class Y {
  X X {
    get { ... }
    set { ... }
  }
} 
```

因为 X 描述了类型是什么（作为类名）和被访问/变异的值（作为属性名）。到现在为止还挺好。假设你想做同样的事情，但是以一种通用的方式：

```
class Z<T> {
  T T {
    get { ... }
    set { ... }
  }
} 
```

对于这个例子，编译器抱怨：`The type 'Z<T>' already contains a definition for 'T'`.

属性、变量和方法都会发生这种情况，我不太明白为什么——编译器肯定知道 T 是一种类型，因此可以像第一个示例中那样找出它吗？

**简短版本：**为什么第一个示例有效，而第二个示例无效？

编辑：我刚刚发现，如果我“重构 > 重命名”类型参数，比如从 T 到 U，IDE 会将其更改为：

```
class Z<U> {
  U T {
    get { ... }
    set { ... }
  }
} 
```

所以里面的东西知道什么是类型，什么是成员名

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T10:30:24.747

可能的答案：

在编写非泛型版本时，您可能无法控制 class 的名称`X`，人们可能希望您的属性被调用`X`，因此您可能*别无选择*。

当您编写通用版本时，*没有人真正关心您所称的类型参数*，因此您只需选择另一个名称即可解决此问题。

因此，在编写新的通用编译器的东西时，团队说“我们*可以*让我们的编译器能够弄清楚他什么时候表示类型参数-`T`以及什么时候表示属性`T`-，但这并不是真正必要的，因为他可以解决它，所以让我们把时间花在更有成效的事情上。”

（然后 VS 团队说“该死，编译器团队已经让我们背负了这个问题，现在我们需要弄清楚当用户发现它无法编译时如何让他重构它”......）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-19T10:59:26.333

我认为另一种可能性在于错误消息：

> “Z”类型已经包含“T”的定义。

任何单一类型都可能只能定义一次唯一命名的标识符（重载方法除外，因为它们也有参数）。

在第一个示例中`X`（类型）*不是*由 class 定义的`Y`；它是在外面定义的。而`X`(property)*由*class 定义`Y`。

在您的第二个示例中`Z<T>`，`T`(type) 由 class 定义`Z`，`T`(property)*也*由 class 定义`Z`。编译器意识到它正在为一个类创建两个同名的标识符，举起手说：“不！不！不！”

（然后正如@Rawling 指出的那样，VS IDE 团队被这个坏消息困住了。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T10:22:12.610

类型和名称之间是有区别的。当您不知道（当时或编写代码）调用函数 T 时，您将如何编写对函数 T 的调用？

编辑：上面的答案错误地假设预期的行为是属性名称会随着 T 的类型而变化。

# jquery - 使用 lastIndexOf 将锚附加到具有匹配锚的容器

> ID：12972140
> 
> 赞同：0
> 
> 时间：2012-10-19T10:17:07.710
> 
> 标签：jquery

我试图自己解决这个问题，但遇到了一个小障碍。[这是这个问题](https://stackoverflow.com/questions/12966036/append-anchor-to-a-parent-that-contains-anchor-with-same-href-attribute)的后续。基本上，我需要从具有 .list 和 .combination 类的 3 个容器的链接末尾删除“index.html”，然后将它们添加到适当的容器中。我无法理解如何让所有东西协同工作。我收到了 url 变量的成功警报，但除此之外无法正常工作。不过，附加效果很好。

```
<script>$(document).ready(function () {

        $('ul.list li a, ul.combination li a').each(function(){
            var url = $(this).attr('href');             
            var n = url.lastIndexOf('/');               
            url.substring(0, n != -1 ? n : s.length);
        });

        $('ul.list.combination li').each(function() {
            var element = $('.list li a[href="' + $(this).find('a').attr('href')
     + '"]');

                if (element.siblings('ul').length  == 0) {
                    element.after('<ul />');
                }

                element.next('ul').append($(this));
            });
        });
 </script>
</head>

<body>

 <ul class="list">
  <li><a href="http://www.mysite.com/index.html">My Site</a></li>
  <li><a href="http://www.google.com/index.html">Google</a></li>
  <li><a href="http://www.yahoo.com/index.html">Yahoo</a></li>
  <li><a href="http://www.cnn.com/index.html">CNN</a></li>
  <li><a href="http://www.espn.com/index.html">ESPN</a></li>
 </ul>

 <ul class="combination">
<li><a href="http://www.mysite.com/index.html">My Site</a></li>
<li><a href="http://www.google.comindex.html">Google again</a></li>
 </ul>

 <ul class="combination">
<li><a href="http://www.mysite.com/index.html">My Site Too</a></li>
<li><a href="http://www.yahoo.comindex.html">Yahoo Redux</a></li>
 </ul> 
```

这是预期的输出：

```
 <ul class="list">
  <li><a href="http://www.mysite.com">My Site</a>
  <ul><li><a href="http://www.mysite.com">My Site</a></li>
  <li><a href="http://www.mysite.com">My Site Too</a></li></ul>
  </li>
  <li><a href="http://www.google.com">Google</a>
  <ul><li><a href="http://www.google.com">Google again</a></li></ul>
  </li>
  <li><a href="http://www.yahoo.com">Yahoo</a>
  <ul><li><a href="http://www.yahoo.com">Yahoo Redux</a></li></ul>
  </li>
  <li><a href="http://www.cnn.com">CNN</a></li>
  <li><a href="http://www.espn.com">ESPN</a></li>
 </ul>

 <ul class="combination">
 </ul>

 <ul class="combination">
 </ul> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T13:21:20.833

试试这个，一个href不是/index.html btw

```
$(function(){

            $('#lists li a').each(function(i, val){
                 $(this).attr('href', function(i, href){
                        var n = href.lastIndexOf('/');               
                                        var subString = href.substring(0, n != -1 ? n : s.length);
                                         return subString;
                 });

                 if($(this).parents('ul').hasClass('combination'))
                 {
                    var li = $(this).parent();
                    $('.list').append(li);
                 }
            });

        });

$('ul.list li a, ul.combination li a').each(function(){
        var url = $(this).attr('href'),             
            n = url.lastIndexOf('/'),               
            subString = url.substring(0, n != -1 ? n : url.length);

        $(this).attr('href', subString);

    }); 
```

[小提琴](http://jsfiddle.net/duK7x/10/)

# css - 如何给一个div椭圆形状？

> ID：12972145
> 
> 赞同：12
> 
> 时间：2012-10-19T10:17:15.340
> 
> 标签：css, css-shapes

我尝试了很多椭圆形的形状，两边都有切口，但不能做到![在此处输入图像描述](../Images/ace79c5b40617a8e0b9e097b5eb3ea4d.png)

我需要椭圆形的代码，两边都有切口..

下面是我的代码： -

```
.demo{
    width: 100%;
    height: 600px;
    background: white;
    -moz-border-radius: 100px / 50px;
    -webkit-border-radius: 100px / 178px;
    border-radius: 694px / 208px;

    z-index: 100;
    position: relative;
    } 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-10-19T10:29:49.517

这个可以吗 ？

**HTML**

```
<div id="oval_parent">
    <div id="oval"></div>
</div> 
```

**CSS**

```
#oval_parent{
    background:black;
    width:200px;
    height:120px;
    overflow:hidden;
}

#oval{
    width: 220px;
    height: 100px;
    margin:10px 0 0 -10px;  
    background: white;
    -moz-border-radius: 100px / 50px;
    -webkit-border-radius: 100px / 50px;
    border-radius: 100px / 50px;
} 
```

[**演示**](http://jsbin.com/inuven/1/edit)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-19T10:21:58.673

试试这个：

```
#oval-shape {
    width: 200px;
    height: 100px;
    background: blue;
    -moz-border-radius: 100px / 50px;
    -webkit-border-radius: 100px / 50px;
    border-radius: 100px / 50px;
} 
```

注意角值相对于高度的比率。

**演示**- [http://jsfiddle.net/XDLVx/](http://jsfiddle.net/XDLVx/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T10:25:45.407

更改 css 上的值：

```
#demo {
    width: 100%;
    height: 600px;
    background: white;
    -moz-border-radius: 50% / 250px;
    -webkit-border-radius: 40% / 250px;
    border-radius: 50% / 250px;

    z-index: 100;
    position: relative;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T10:28:03.890

将它放在另一个足够高以显示所有椭圆形的 div 中，不够宽，并设置溢出：隐藏。如果它位于中心，则边缘将被切断，但您将无法横向滚动。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-12-21T12:13:31.817

以下是两种可能的变体：

**方法#01：**

使用[`radial-gradient()`](https://developer.mozilla.org/en-US/docs/Web/CSS/radial-gradient)：

```
background: radial-gradient(ellipse 65% 40%, transparent 0, transparent 90%, black 90%); 
```

```
body {
  background: linear-gradient(orange, red);
  padding: 0 20px;
  margin: 0;
}
.oval {
  background: radial-gradient(ellipse 65% 40%, transparent 0, transparent 90%, black 90%);
  height: 100vh;
}
```

```
<div class="oval">

</div>
```

**方法#02：**

1.  `:before`使用或`:after`伪元素创建覆盖。
2.  添加`border-radius`.
3.  在父级上应用一个大`box-shadow`的以隐藏不需要的区域。`overflow: hidden`

```
body {
  background: linear-gradient(orange, red);
  padding: 0 20px;
  margin: 0;
}
.oval {
  position: relative;
  overflow: hidden;
  height: 100vh;
}

.oval:before {
  box-shadow: 0 0 0 500px #000;
  border-radius: 100%;
  position: absolute;
  content: '';
  right: -10%;
  left: -10%;
  top: 10%;
  bottom: 10%;
}
```

```
<div class="oval">

</div>
```

# cucumber - 红宝石/黄瓜：无法运行“捆绑安装”

> ID：12972152
> 
> 赞同：0
> 
> 时间：2012-10-19T10:17:31.910
> 
> 标签：cucumber, bundle-install

我有一个红宝石/黄瓜项目，我正在一台新的 Windows 机器中设置。一切似乎都到位（gemfile、rakefile、ruby 1.9.3 安装）但是当我运行“捆绑安装”时，我收到消息：

```
"jruby.exe" is not recognized as an internal or external command, operable programme or batch file. 
```

知道问题出在哪里吗？我不知道为什么它甚至会抛出那个 jruby 错误......

我在另一台没有安装 jruby 的机器上安装了完全相同的设置，但是“捆绑安装”在那里工作正常......：S

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:13:58.020

我使用的机器环境变量混乱，并且损坏了 ruby​​ 和 jruby 的过去安装。

卸载所有内容并从头开始解决了问题。

# linux - linux kprint 控制台上的消息

> ID：12972155
> 
> 赞同：0
> 
> 时间：2012-10-19T10:17:46.543
> 
> 标签：linux, linux-kernel

为了在控制台上打印此消息，我使用`kill -SIGKILL <pid>`命令杀死了 klogd 并重新启动了 klogd，`klogd -s -c 2` 但仍然没有在控制台上看到该消息。我在这里想念什么？提前致谢。

```
printk(KERN_ALERT "Hello World\n"); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T18:10:36.273

您必须确保您处于完整终端模式（按 Alt+Ctrl+f2 或 f3）而不是图形模式。

然后检查 /proc/sys/kernel/printk 是否具有正确的值

`# cat /proc/sys/kernel/printk`

 `4 4 1 7

my current setting are above. You can use echo 8 > /proc/sys/kernel/printk to print everything. for kern_alert 4 is enough.

for testing you can use below from full terminal mode.` 

`#echo "<1>Writing critical printk messages from userspace" >/dev/kmsg`

这将打印到终端

[http://elinux.org/Debugging_by_printing](http://elinux.org/Debugging_by_printing)

kern_alert 打印到当前终端，而 kern_emerg 将打印到所有终端。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T20:08:45.847

还要查看您的 syslog.conf（或同等文件）中的优先级，如果您查看 /var/log/messages，将记录哪些级别。您的设置可能...

```
#define KERN_EMERG   "<0>" /* system is unusable               */        
#define KERN_ALERT   "<1>" /* action must be taken immediately */
#define KERN_CRIT    "<2>" /* critical conditions              */
#define KERN_ERR     "<3>" /* error conditions                 */
#define KERN_WARNING "<4>" /* warning conditions               */
#define KERN_NOTICE  "<5>" /* normal but significant condition */
#define KERN_INFO    "<6>" /* informational                    */
#define KERN_DEBUG   "<7>" /* debug-level messages             */ 
```

# java - 在离开主线程之前安全地杀死子线程（无限循环）

> ID：12972157
> 
> 赞同：0
> 
> 时间：2012-10-19T10:17:47.783
> 
> 标签：java, multithreading, parent-child

我有一个 main 函数，它生成了两个线程来更新 JDBC SQL 结果。子线程独占工作处于无限循环并在五分钟后更新结果。我想在退出主线程之前，应该杀死子线程。

最好的程序是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:38:55.183

所以我假设你的代码是这样的：

```
class ThreadTask implements Runnable {
    public void run() {
        while(true) {
            ...
        }
    }
} 
```

你可以做的是实现一个标志：

```
class ThreadTask implements Runnable {

    private volatile boolean shouldStop = false;

    public void run() {
        while(!shouldStop) {
            ...
        }
    }

    public void stopTask() {
        shouldStop = true;
    }
} 
```

然后在主线程中：

```
ThreadTask task = new ThreadTask(); 
Thread t = new Thread(task);
t.start();
...
task.stopTask();
t.join(); 
```

# javascript - 使用jquery或css打印时如何为div的所有孩子设置宽度自动

> ID：12972163
> 
> 赞同：0
> 
> 时间：2012-10-19T10:17:55.413
> 
> 标签：javascript, jquery, css

我在 html 页面中使用了流畅的布局。在打印时，我遇到了宽度问题，并且内容在输入和文本区域中没有完全显示。当我将表格的宽度设置为自动时，单元格对齐丢失。我怎么解决这个问题

```
@media print {
body {
   background-color: white;
   font-size: 12pt;
   width: 100%;
   margin: 0%;
   padding: 0;
}
#target {
    display:none;
}
#printDiv {
    display: block !important;
    width: auto;
 }
} 
```

提前致谢

# c# - 后退按钮代码不起作用

> ID：12972168
> 
> 赞同：0
> 
> 时间：2012-10-19T10:18:13.767
> 
> 标签：c#, javascript, asp.net

我将以下代码用于“返回”按钮：

```
<INPUT type="button" value="Button" onclick="window.history.back(); return true;"> 
```

但是，在上一页我有两个 div 元素。当页面加载时，它将显示 div1。下次点击 div1 的按钮时，会显示 div2。在 div2 上，我有一个“下一步”按钮。重定向到另一个页面。我想要一个“返回”按钮的代码，当单击返回时它将显示 div2。此外，如果我使用 history.back() 它将显示 div1。

HTML 代码

**列出您在债务被免除之日计算的所有负债到债务被免除之前**

下一个

```
<div id="d2">
    <table cellspacing="3">
        <tr>
            <td colspan="2" class="styleh">
                <p>
                    <b>Part II. List the fair market value (FMV) of all your assets, calculated as of the
                        day prior to the debt being forgiven - this would be the "sell today, cash value."</b></p>
            </td>
        </tr>
        <tr>
            <td>
            </td>
            <td>
                <button id="btncalc" onclick="return btncalc_onclick()">
                    Calculate</button>
                <button id="Button2" runat="server">
                    BACK</button>
            </td>
        </tr>
    </table>
</div> 
```

先感谢您

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:23:35.233

尝试一下 ：

```
<INPUT type="button" value="Button" onClick="history.go(-1);return true;"> 
```

**或者**

您也可以为您的场景尝试**Asp.net 向导控件**。您可以通过此控件处理 NextButtonClick
PreviousButtonClick 事件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:19:26.643

改变返回真；返回错误；

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T10:28:33.330

如果你想记住前一页的状态，你必须使用某种存储。

我最熟悉的方法是会话变量，但使用它需要您在 aspx 页面的代码隐藏中进行编码。

```
protected void url_onClick (object sender, EventArgs e) {
    Session["state"] = "div2";
    Response.Redirect("url_of_new_page");
} 
```

当然，您必须根据 Page_Load 期间的状态创建页面。

如果你想纯粹用 javascript 来做，你必须使用 cookie，很遗憾我无法解释，但这里有一个[w3schools](http://www.w3schools.com/js/js_cookies.asp)的链接。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T10:30:12.343

我认为您必须保持一些状态才能完成此功能...我建议您为此使用 cookie..当您单击第二个 div 并转到下一页时设置 cookie（您会发现很多设置 cookie 的方法通过javascript，[这是示例](http://www.w3schools.com/js/js_cookies.asp)），当您返回第一页时，检查此cookie并明确显示第二个div并立即清除该cookie，使其不会持续存在...这是我立即想到的一种方式...

# android - 九块位图不显示

> ID：12972172
> 
> 赞同：0
> 
> 时间：2012-10-19T10:18:24.997
> 
> 标签：android, android-layout, layout, button, expandablelistview

我使用 expandablelistview 来构建一些功能。expandablelistview 的子布局是

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="75dp" 
    android:paddingTop="23dp"
    android:paddingBottom="15dp"
    android:paddingLeft="44dp"
    android:paddingRight="44dp"
    android:orientation="horizontal" 
    android:gravity="center_vertical"
    android:background="@drawable/app_expandable_list_child_bg" >

    <Button
        android:id="@+id/app_download_cancel"
        android:layout_width="100dp"
        android:layout_height="37dp"
        android:background="@drawable/app_cancel_detail_button_bg"
        android:layout_weight="1"
        android:layout_marginRight="32dp"
        android:gravity="center"
        android:textColor="#454545"
        android:textSize="13sp"
        android:clickable="true"
        android:focusable="false"
        android:text="@string/app_cancel_downloading" />

    <Button
        android:id="@+id/app_more_info"
        android:layout_width="100dp"
        android:layout_height="37dp"
        android:background="@drawable/app_cancel_button_bg_normal"
        android:gravity="center"
        android:layout_weight="1"
        android:textColor="#454545"
        android:textSize="13sp"
        android:clickable="true"
        android:focusable="false"
        android:text= "@string/app_more_details"/>

</LinearLayout> 
```

问题是按钮的背景无法显示。

请参阅：我在一个仅显示上述子布局的测试项目中对其进行了测试。显示背景。这就是我遇到的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T16:00:43.987

我注意到，如果您将 9-patch 保存为带有调色板的 PNG，它不会显示。另存为TrueColor，看看是否有所作为。

# sql-server - SQL Server 中的扩展 ascii 字符搜索

> ID：12972174
> 
> 赞同：1
> 
> 时间：2012-10-19T10:18:25.400
> 
> 标签：sql-server, extended-ascii

我有一个表，其中一列可能包含包含扩展 ASCII 字符的数据（如`♥,♦,♣....`）

当我使用查询搜索相同`select`的结果集时，结果集并没有准确地获取 ex：

```
create table testasci(id int,name varchar(20))

insert into testasci values(1, 'santosh');
insert into testasci values(2, 'santosh♥');
insert into testasci values(3, 'santosh♦');
insert into testasci values(4, 'santosh2');
insert into testasci values(5, 'santoshσ');
insert into testasci values(6, 'santosh3'); 
```

当我搜索任何具有扩展 ASCII 字符的名称时，如下所示

```
select * from testasci where name = 'santosh♥' 
```

结果集显示 id2、id3。

那也是用问号 ( `?`) 符号而不是原始字符。

有什么帮助吗？我的结果集应仅`id2`针对上述搜索查询显示

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T10:32:55.673

问题是您输入的字符根本不在 ASCII 范围内。 `VARCHAR(20)`是您数据的**错误**列数据类型。

1.  改变你的表结构
2.  更改插入方式
3.  最后，改变你选择的方式

固定的：

```
create table testasci(id int,name nvarchar(20))

insert into testasci values(1,N'santosh');
insert into testasci values(2,N'santosh♥');
insert into testasci values(3,N'santosh♦');
insert into testasci values(4,N'santosh2');
insert into testasci values(5,N'santoshσ');
insert into testasci values(6,N'santosh3');

select * from testasci where name like N'santosh♥'; 
```

查看您对 的原始定义`varchar(20)`，我创建了一个[SQLFiddle](http://sqlfiddle.com/#!3/6a65c/8/0)来显示问题。

```
select id, a.name, number, ascii(substring(a.name,number,1))
from testasci a
join master..spt_values v
  on v.number between 1 and len(a.name) and type='P'
where a.id in (2,3)
order by id, number 
```

您会注意到 ID 2 和 3 的第 8 个位置包含 ASCII 字符 (63)，它是文字问号 ( `?`)，而不是您的特殊 Unicode 字符。因此，一旦它击中表格列，您就会丢失它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-19T10:22:51.007

**`N`**用于搜索扩展 ascii 字符

```
select * from testasci where name like  N'santosh♥' 
```

# sql - 从 DAO 3.6 更新到 Microsoft Access 对象库 12.0

> ID：12972180
> 
> 赞同：1
> 
> 时间：2012-10-19T10:18:46.633
> 
> 标签：sql, vb.net, visual-studio, ms-access, ms-access-2007

我有一些使用 DAO 3.6 的 vb.net 软件，我希望将其升级为使用 MS access 12 库，这样我就可以在 Windows 7 64 位上运行该软件。

首先，我认为这个库适用于 Windows 7 64 位和 Access 2007 是否正确？

我目前的代码：

```
Imports dao
Imports System.Runtime.InteropServices
Imports system.data

Public Sub DAOAccess()

    Dim dbe As dao.DBEngine
    Dim db As dao.Database
    Dim rs As dao.Recordset
    Dim ConnectionString As String
    dbe = New DBEngine

    Dim x, y As Integer

    ConnectionString = "J:\home\THC2WO\FieldMaster\DAO\FieldMaster.mdb"
    db = dbe.OpenDatabase(ConnectionString)
    rs = db.OpenRecordset("tabParameters")
    rs.Index = "ID_PAR"
    rs.MoveFirst()

    'frmFieldMaster.TextBox21.Text = ""
    For x = 0 To rs.RecordCount - 1
        For y = 0 To rs.Fields.Count - 1
            frmFieldMaster.TextBox21.Text = frmFieldMaster.TextBox21.Text & rs.Fields(y).Value & ", "
        Next
        rs.MoveNext()
        frmFieldMaster.TextBox21.Text = frmFieldMaster.TextBox21.Text & Chr(13) & Chr(10)
    Next

    rs.Close()
    db.Close() 
```

我正在努力寻找在模块开始时需要哪些导入来启用新的 DBEngine。更新参考时还有什么大的语法变化吗？

如果有人有一些示例代码，包括会有很大帮助的参考。

谢谢你的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T15:19:33.117

尝试设置对 COM 对象 Microsoft Access 14.0 对象库的引用。然后您应该能够导入互操作访问。

```
Imports Microsoft.Office.Interop.Access 
```

However, I really recommend you consider moving to ADO.NET instead. It is quite different from DAO or ADO (classic) but it is also much more robust and flexible.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T16:50:48.420

Do consider migrating to ADO.Net instead.

If you do decide to migrate to ADO, you could look at some of the old advice for migrating from DAO to ADO in VB6\. A lot of this advice will still be very relevant, as it relates to object models, differences in the database providers, etc. Here are some links

*   [http://blackbeltvb.com/index.htm?daotoado.htm](http://blackbeltvb.com/index.htm?daotoado.htm)
*   Useful Microsoft article that has been deleted from MSDN and AFAIK is now only available on third-party sites. *Thanks, Microsoft!* [Start here at the beginning](http://www.labath.org/docs/sys/mssql2000/mdacxml/htm/migratingdaotoado.htm), or dive straight into the topic on [opening a recordset](http://www.labath.org/docs/sys/mssql2000/mdacxml/htm/wpmigratingretrieving.htm)
*   Microsoft [KB INFO: Issues Migrating from DAO/Jet to ADO/Jet](http://support.microsoft.com/kb/225048)

# android - 如何使用 android 媒体记录器捕获大型视频文件

> ID：12972181
> 
> 赞同：1
> 
> 时间：2012-10-19T10:18:48.367
> 
> 标签：android, media, video-capture, android-mediarecorder

我想使用 android 媒体记录器捕获一个大型视频文件。当我通过将文件保存到 SD 卡中使用标准方法时，经过一段时间（1 小时）视频捕获停止并且相机挂起。捕获的视频文件也无法播放，因为它在捕获过程中停止。有什么方法可以用android捕获一个大的视频文件吗？

# scala - 由于修改了二进制依赖 rt.jar，Sbt 总是进行完全重建

> ID：12972183
> 
> 赞同：6
> 
> 时间：2012-10-19T10:18:50.427
> 
> 标签：scala, sbt

由于修改了二进制依赖关系，Sbt 总是进行完全重建：rt.jar：

```
[debug] 
[debug] Initial source changes: 
[debug]     removed:Set()
[debug]     added: Set()
[debug]     modified: Set()
[debug] Removed products: Set()
[debug] Modified external sources: Set()
[debug] Modified binary dependencies: Set(C:\Program Files\Java\jdk1.6.0_37\jre\lib\rt.jar)
[debug] Initial directly invalidated sources: Set() 
```

显然，rt.jar 没有改变，它的创建/访问/修改日期是相同的并且相当旧。

它在 c:\Program Files\Java\jdk1.6.0_37\jre\lib\

JAVA_HOME 设置为 C:\Progra~1\Java\jdk1.6.0_37

JAVA_HOME/bin 在 PATH 中。

任何想法为什么 sbt 认为 rt.jar 已更改？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-22T10:55:02.990

我将 JAVA_HOME 设置为 C:\Progra~1\Java\jdk1.6.0_37 并且 sbt 将依赖项解析为 C:\Program Files\Java\jdk1.6.0_37\jre\lib\rt.jar。Sbt 使用 java.io.File.equals() 在这种情况下是不正确的：

在 sbt/compile/inc/Incremental.scala 中：

```
def externalBinaryModified(entry: String => Option[File], analysis: File => Option[Analysis], previous: Stamps, current: ReadStamps)(implicit equivS: Equiv[Stamp]): File => Boolean =
    dependsOn =>
        analysis(dependsOn).isEmpty &&
        orTrue(
            for {
                name <- previous.className(dependsOn)
                _ = println("Name: " + name)
                e <- entry(name)
                _ = println("entry: " + e)
            } yield {
                val resolved = Locate.resolve(e, name)
                println("resolved: " + resolved)
                println("dependsOn: " + dependsOn)
                println("resolved != dependsOn: " + (resolved != dependsOn))
                (resolved != dependsOn) || !equivS.equiv(previous.binary(dependsOn), current.binary(resolved))
            }
        ) 
```

给出以下输出：

```
Name: java.lang.Object
entry: c:\Progra~1\Java\jdk1.6.0_37\jre\lib\rt.jar
resolved: c:\Progra~1\Java\jdk1.6.0_37\jre\lib\rt.jar
dependsOn: c:\Program Files\Java\jdk1.6.0_37\jre\lib\rt.jar
resolved != dependsOn: true 
```

因此，sbt 总是认为 rt.jar 被改变了。

解决方法是将 JAVA_HOME 设置为 "c:\Program Files\Java\jdk1.6.0_37" 解决方案是：

```
resolved.getCanonicalPath != dependsOn.getCanonicalPath 
```

# javascript - Google Places - 无需用户输入即可获取格式化地址

> ID：12972194
> 
> 赞同：0
> 
> 时间：2012-10-19T10:19:11.073
> 
> 标签：javascript, jquery, google-maps-api-3, google-places-api

我一直在筛选文档，但没有成功，需要帮助。我需要访问 Google Places 中的第一个值自动完成或对我在 Google Places 中的 lat lng 坐标进行地理编码。我正在使用“Palo Alto”​​自动填充该字段，并且需要 Google Places 的第一个建议来自动完成该城市。我曾尝试使用 Google Geocode 功能，但结果与 Places API 不同，因此对我来说毫无用处。示例位置输出加利福尼亚州帕洛阿尔托，地理编码要素输出美国加利福尼亚州帕洛阿尔托。我尝试通过反向地理编码 lat lng 将上面的字符串拆分为只说 Palo Alto 并填充一个连接到 Places 自动完成的输入字段，但我无法触发它。我编写了一个脚本来从自动完成结果中提取输出；我只需要触发它。我试过使用 $('myCity').trigger('keypress'); 一旦我将帕洛阿尔托插入输入字段无济于事。欢迎所有关于下一步要采取的步骤的建议。我还查看了以下代码，但我想在没有地图的情况下执行此操作，并且在删除它时出现 javascript 错误。“TypeError: a is undefined [Break On This Error] (66 out of range 46)”

```
var lat = -130;
var lng = 37;
var request = {
    location: new google.maps.LatLng(lat, lng);
};

var service = new google.maps.places.PlacesService(map);
service.search(request, function (results, status) {
    if (status == google.maps.places.PlacesServiceStatus.OK) {
        for (var i = 0; i < results.length; i++) {        
          console.log(results[i])
        }
    }
}); 
```

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:41:42.993

您需要执行文本搜索。

转到[Places Library](https://google-developers.appspot.com/maps/documentation/javascript/places "地方图书馆")并转到**Text Search Requests**。

这是一个例子：

```
var map;
var service;
var infowindow;

function initialize() {
  var pyrmont = new google.maps.LatLng(-33.8665433,151.1956316);

  map = new google.maps.Map(document.getElementById('map'), {
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      center: pyrmont,
      zoom: 15
    });

  var request = {
    location: pyrmont,
    radius: '500',
    query: 'restaurant'
  };

  service = new google.maps.places.PlacesService(map);
  service.textSearch(request, callback);
}

function callback(results, status) {
  if (status == google.maps.places.PlacesServiceStatus.OK) {
    for (var i = 0; i < results.length; i++) {
      var place = results[i];
      createMarker(results[i]);
    }
  }
} 
```

注意：在您的情况下，将请求更改为：

```
 var request = {
    query: 'Palo Alto'
  }; 
```

# drupal-7 - 来自提要的 Drupal 视图

> ID：12972200
> 
> 赞同：0
> 
> 时间：2012-10-19T10:19:33.530
> 
> 标签：drupal-7, drupal-views, drupal-feeds

我已经设置了一个提要导入器来从另一个站点获取新闻。它具有运行良好的内置块。现在我需要自定义输出。如何向块中添加更多字段？尝试使用 Views，这有点工作，但它没有更新。任何人都成功地从提要中获取视图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T15:15:41.913

您是否已经尝试使用聚合器模块？

我已经有一个类似的问题，只是通过“混合”聚合器和提要模块并且工作正常。

[http://drupal.org/project/feeds](http://drupal.org/project/feeds) > 它提供导入/聚合多种支持，如 XML、RPC、OPML、CSV、ATOM 等...

# java - 从主 Java 调用方法

> ID：12972201
> 
> 赞同：0
> 
> 时间：2012-10-19T10:19:33.923
> 
> 标签：java

我正在尝试从主方法调用方法 WriteToFile。这是我到目前为止所拥有的：

```
public void main(String [ ] args)
{
    String fileLoc = Environment.getExternalStorageDirectory() + File.separator + "AccelData.txt";

    File AccelData = new File(fileLoc);

    AccelData.WriteToFile(fileLoc, AccelData);
} 
```

而 WriteToFile 方法是：

```
public void WriteToFile(String fileLoc, File AccelData){
    //code in here
} 
```

我在这条线下面有一条红线`AccelData.WriteToFile`，它只是说我应该添加一个演员，但这并不能解决它。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:24:34.673

首先我想说你的主要方法的签名不正确，它是。：

```
public static void main(String [ ] args)
 {
   // do somthing 
 } 
```

转到此链接[仔细查看“Hello World！” 应用](http://docs.oracle.com/javase/tutorial/getStarted/application/index.html)

其次，您使用其类名调用方法，那么该方法应`static`如下所示

```
public static void WriteToFile(String fileLoc, File AccelData){
 //code in here
} 
```

或者您必须使用其类对象调用该方法。

```
public static void main(String [ ] args)
 {
   String fileLoc = Environment.getExternalStorageDirectory() + File.separator + "AccelData.txt";

   File AccelData = new File(fileLoc);

   ClassName className= new ClassName();
   className.WriteToFile(fileLoc, AccelData);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:22:40.583

您不能将`WriteToFile()`方法应用于`java.io.File`实例，因为它没有在标准 Java File 类中定义。

您可以应用于代码的另一种方法是将您的方法声明为静态：

```
public static void WriteToFile(String fileLoc, File AccelData){
    //code in here
} 
```

在 main 方法中，只需用它的名称调用它：

```
WriteToFile(fileLoc, AccelData); 
```

第二种方法可能是创建一个封装`WriteToFile()`方法的类的实例，然后在 main 方法中再次在您的实例上调用该方法：

```
YourClass obj = new YourClass();
obj.WriteToFile(fileLoc, AccelData); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T10:23:23.923

如果您在自己的类中定义方法，则应删除该`AccelData.`部分：

```
public static void WriteToFile(String fileLoc, File accelData) {
    //code in here
}

public static void main(String [ ] args)
{
    String fileLoc = Environment.getExternalStorageDirectory() + File.separator + "AccelData.txt";

    File accelData = new File(fileLoc);

    WriteToFile(fileLoc, accelData); 
} 
```

您不应使用首字母大写来命名变量。这很令人困惑。方法也是如此。而且您确实需要将方法设为静态。

# php - 处理多个输入：数组 vs 循环，哪个是低资源消耗？

> ID：12972203
> 
> 赞同：0
> 
> 时间：2012-10-19T10:19:53.090
> 
> 标签：php

我从上一页提交了多个输入标签，比如 step1.php：

```
<input type="hidden" name="block01" value="001"/>
<input type="hidden" name="block02" value="012"/>
<input type="hidden" name="block03" value="002"/>
<input type="hidden" name="block04" value="005"/>
<input type="hidden" name="block05" value="008"/>
<input type="hidden" name="block06" value="015"/> 
```

现在我想在 step2.php 中处理这些输入，并且我有 2 个选项可以使用 Array 或 Loop。

如果我使用数组，这些输入将像这样附加：

```
<?php
$stack = array(""); //empty array declared

// I assume I have some codes here to 'catch' those inputs and put it as array_push
array_push($stack, "001", "012", "002", "005", "008", "015");
print_r($stack);
?> 
```

与数组相比，我也有这个 LOOP 选项：

```
<?php
$i = 1;
$x = 'block0'.$i;
$webBlock = $_POST[$x];

while (!empty($webBlock)){
    $x = 'block0'.$i;
    $webBlock = $_POST[$x];
    echo $webBlock . "<br />";  
    $i++;
}

?> 
```

两者都是我在 step2.php 上的问题的解决方案。我只需要您的意见，哪个内存/ cpu 消耗更少？就这样...

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:46:31.113

在第一种情况下，您使用的是 array_push() 和 print_r()。第一个函数使用循环将传递的参数压入堆栈。第二个函数 print_r() 也使用循环来打印数组的所有值。所以，基本上你运行循环两次来完成任务。

在第二种情况下，您已经编写了一个代码来同时处理这两种事情。所以，这个方法只需要循环一次。此外，查看 print_r() 和 echo 的工作情况，如果您运行 echo X 次并使用 print_r() 打印 X 值，则 echo 比 print_r 快一点。阅读 php 文档以获取有关所有这些功能的更多信息。

所以，第二种方式更好。

# java - 如何检索从 web 服务发送的值

> ID：12972205
> 
> 赞同：0
> 
> 时间：2012-10-19T10:20:04.673
> 
> 标签：java, xsd, jaxb, wsdl

我有一个关于检索从 Web 服务发送的数据值的问题。我有一个 Web 服务，它从客户端接收数据，然后对其进行处理。这一切都很完美。

但是现在我想在 xsd 中添加一个额外的元素来处理 web 服务接收到的消息。我已将测试添加到另一个也存在其他元素的 complexType 中。元素测试不是必需的，但用户可以在他们的 XML 文件中添加一个或多个测试。

```
 <xs:element name="tests">
        <xs:complexType>
            <xs:sequence minOccurs="0" maxOccurs="999">
                <xs:element name="test">
                    <xs:complexType>
                        <xs:sequence minOccurs="1" maxOccurs="unbounded">
                            <xs:element name="code" type="xs:string" minOccurs="1" maxOccurs="1"/>
                            <xs:element name="value" type="xs:string" minOccurs="1" maxOccurs="1"/>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
            </xs:sequence>
        </xs:complexType>            
    </xs:element> 
```

整个 XSD： http: [//pastebin.com/TuvYiQzE](http://pastebin.com/TuvYiQzE)

我正在使用 JAXB 来处理从客户端发送的 Web 服务消息。JAXB 自动为我生成了一些代码：

```
public Message.Algemeen.TestCode.Tests getTests(){
    return tests;
} 
```

和

```
 public List<Message.Algemeen.TestCode.Tests.test> getTest() {
            if (test== null) {
                test= new ArrayList<Message.Algemeen.TestCode.Tests.test>();
            }
            return this.test;
  } 
```

现在我想返回每个元素`test`的代码和值，问题是测试和测试是作为对象返回的，目前我不知道如何读取它们的值。该方法`toString()`只是返回`cp.jaxb.classes.Message$Algemeen$Testcode$Tests$test@dcd76a`

我究竟做错了什么？如果您需要更多代码来理解我的问题，请告诉我。

谢谢，

杰夫

PS。英语不是我的母语，我尽力解释我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:36:31.493

Test 定义中的这一行`<xs:sequence minOccurs="1" maxOccurs="unbounded">`意味着您可以在测试中有多个 code:value 对。这是你想要的吗？

我不是 jaxb 专家，但在设计模式时有人告诉我，在这种情况下使用名称类型更容易。

在这里，您有一个测试中“未命名”对象（代码：值对）的列表。我想这会使检索变得困难。

如果您更改为 maxOccurs="1" 会发生什么？如果你为你的 code:value 对定义了一个新类型并列出了这个元素，会发生什么？

你能试着像这样修改它：

```
<xs:element name="tests">
    <xs:complexType>
        <xs:sequence minOccurs="0" maxOccurs="999">
            <xs:element name="test">
                <xs:complexType>
                    <xs:sequence minOccurs="1" maxOccurs="unbounded">
                      <xs:element name="singleTest">
                         <xs:complexType>
                           <xs:sequence minOccurs="1" maxOccurs="1">
                             <xs:element name="code" type="xs:string" minOccurs="1" maxOccurs="1"/>
                             <xs:element name="value" type="xs:string" minOccurs="1" maxOccurs="1"/>
                          </xs:sequence>
                         </xs:complexType>
                      </xs:element>
                    </xs:sequence>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
    </xs:complexType>
</xs:element> 
```

那么你应该能够拥有类似 List testList = test.getSingleTest() 的东西并迭代以获取它们每个的代码和值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:22:41.810

你用什么语言写你的客户？例如，如果您使用 Java 或 .Net，您应该能够简单地调用您的 Web 服务方法并获取完整的 Test 实例。正如 Udo Klimaschewski 上面指出的那样，这意味着您应该能够使用类似的东西

```
getTest().getCode() 
```

需要明确的是，虽然查看 XSD 可能很有趣，但您实际上不需要这样做，除非您的开发环境缺少 SOAP Web 服务支持。生成客户端工件的确切机制取决于您的语言和开发环境；例如，这里描述了使用 Netbeans 引用 Web 服务的过程：

[http://netbeans.org/kb/docs/websvc/client.html](http://netbeans.org/kb/docs/websvc/client.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:26:29.860

这应该有效：

```
List<Message.Algemeen.TestCode.Tests.test> tests = yourObject.getTest();
for (Message.Algemeen.TestCode.Tests.test test : tests) {
   test.getCode(); //Here is test object which contains strings or whatever.
} 
```

# applescript - 我可以将多个附件从子文件夹添加到邮件吗？

> ID：12972208
> 
> 赞同：0
> 
> 时间：2012-10-19T10:20:12.177
> 
> 标签：applescript, email-attachments, apple-mail

尝试为每个地址发送几封带有特定附件的邮件。每个地址都有自己的附件子文件夹。“抓取附件部分”不起作用，我不确定处理程序是否设置正确：我应该将子文件夹传递给处理程序内部的邮件还是保持原样。这是我的第一个长脚本，所以请不要太苛刻;-)

我在想我更接近工作解决方案，但我仍然没有让它发挥作用。到目前为止，这是我的脚本：

```
`  with timeout of 600 seconds

-- Liste: Alle Empfänger  

tell application "Contacts"
    set emailList to {}
    set testPersons to every person of group "Test"
    repeat with thisTestPerson in testPersons
        set end of emailList to (value of email of thisTestPerson) as string
    end repeat
end tell

-- Liste fuer die Übergabe alphabetisch sortieren 

set the_list to emailList
set otid to AppleScript's text item delimiters
set AppleScript's text item delimiters to {ASCII character 10} -- always a linefeed 
set list_string to (the_list as string)
set new_string to do shell script "echo " & quoted form of list_string & " | sort -f"
set new_list to (paragraphs of new_string)
set AppleScript's text item delimiters to otid

-- Liste: Alle Subfolder 

tell application "Finder"
    set mainfolder to choose folder "select a folder"
    set folderList to {}
    set myFolders to every folder of mainfolder
    repeat with attachFolder from 1 to (count of myFolders)
        set end of folderList to attachFolder as string
    end repeat
end tell

-- Sicherheits-Check

set count1 to count of myFolders
set count2 to count of new_list
if count1 is not equal to count2 then
    display dialog "Houston, we have a problem:" & return & "Die beiden Listen sind nicht gleich lang..." buttons {"ok"} with icon 2
    return
end if
 end timeout

 --handler processfolder(myFiles)

 on processfolder(myFiles)
tell application "Mail"
    activate
    set theAddress to (item i of emailList)
    set theMex to (make new outgoing message at end of outgoing messages with   properties {visible:true, subject:"Subjectheader",   content:"email body"})

    tell content of theMex
        make new attachment with properties {file name:FileList} at after last paragraph

    end tell
    tell theMex
        make new to recipient at end of to recipients with properties {address:theAddress}

    end tell
    send theMex
end tell
end processfolder

-- grab attachments and send mail   

tell application "Finder"
repeat with myFolder from 1 to (count of folderList)
    set FileList to {}
    set myFiles to entire contents of myFolder
    repeat with thisFile in myFiles
        set end of FileList to thisFile as string
    end repeat
    my processfolder(myFiles)
end repeat
 end tell
display dialog (count1 as string) & " Nachrichten verschickt."

end` 
```

我相信处理程序应该可以正常工作。将子文件夹列表与地址列表匹配似乎仍然是一个问题，我不确定我的重复循环“抓取附件和发送邮件”是否有效。重复循环的使用很棘手，我仍在努力解决它。关于我仍然做错了什么的任何快速想法？

感谢您的帮助！我真的很感激这个！马可

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T20:07:19.030

您必须在处理程序中将变量作为参数传递：

1- `(item i of emailList)`: **i**和**emailList**未在处理程序中定义。

2- `{file name:FileList}`：处理程序中未定义**FileList ，****文件名**必须是类型的路径`alias`或`string`，而不是路径列表。

`set myFiles to entire contents of myFolder`: **myfolder**变量是一个`integer`，`entire contents`将包含文件夹和文件，如果文件夹不包含子文件夹， `entire contents`则无用，使用`files of xFolder`.

其余的还可以，但包含不必要的行。

这是脚本：

```
with timeout of 600 seconds
    -- Liste: Alle Empfänger  

    tell application "Contacts"
        set emailList to value of email 1 of every person of group "Test"
    end tell

    -- Liste fuer die Übergabe alphabetisch sortieren 

    set otid to AppleScript's text item delimiters
    set AppleScript's text item delimiters to {linefeed}
    do shell script "echo " & (quoted form of (emailList as string)) & " | sort -f"
    set emailList to (paragraphs of the result)
    set AppleScript's text item delimiters to otid

    -- Liste: Alle Subfolder 

    activate
    set mainfolder to choose folder "select a folder"
    tell application "Finder" to set folderList to folders of mainfolder

    -- Sicherheits-Check

    set count1 to count folderList
    if count1 is not equal to (count emailList) then
        display dialog "Houston, we have a problem:" & return & "Die beiden Listen sind nicht gleich lang..." buttons {"ok"} cancel button "ok" with icon 2
    end if
end timeout

-- grab attachments and send mail   

repeat with i from 1 to count1
    try
        tell application "Finder" to set myFiles to (files of entire contents of (item i of folderList)) as alias list
        my processfolder(myFiles, item i of emailList)
    end try -- no error on empty folder
end repeat
display dialog (count1 as string) & " Nachrichten verschickt."

on processfolder(tFiles, theAddress)
    tell application "Mail"
        activate
        tell (make new outgoing message at end of outgoing messages with properties {visible:true, subject:"Subjectheader", content:("email body" & linefeed & " ")})
            make new to recipient at end of to recipients with properties {address:theAddress}
            tell content to repeat with tFile in tFiles
                make new attachment with properties {file name:tFile} at after last paragraph
                make new character with data linefeed at after last paragraph
            end repeat
            send
        end tell
    end tell
end processfolder 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-24T06:53:47.953

完成了！多亏了你和其他一两个专业人士，我现在有了一个漂亮的批量邮件脚本例程，它使用自动机、bash 行和（主要是）applescript。我将它用于工作申请，但您可以将它用于任何需要使用 Mail、MS Word 和 Excel 中的任何给定联系人列表（或就此而言的通讯簿）进行个性化批量电子邮件的情况。为了完整起见，我将添加所有必要的步骤。使用任何给定的 x 个姓名、电子邮件地址、个人地址列表，您可以生成 x 个子文件夹，其中包含 x 个个性化字母和非个性化文档（谢谢，杰克！添加文档效果很好）。一旦您启动最后一个脚本并选择文件夹，您就可以观看将它们全部发送出去的邮件，按姓名称呼该人并附上正确的个性化信件！它更正了在电子邮件地址中呈现不同的外国名称拼写。它最适用于在“@”之前使用姓氏的电子邮件地址，并且现在可以忽略在姓氏前面设置的名字（即 firstname.lastname@company.com）。非常感谢大家的帮助！这是伟大的团队努力。我一到家就发，我应该把它发在这里和其他相关问题中还是有一个分享论坛？

# java - XmlPullParserException：预期：START_TAG <...定义

> ID：12972212
> 
> 赞同：3
> 
> 时间：2012-10-19T10:20:21.350
> 
> 标签：java, android, android-ksoap2

这是`WSDL`我为`php`(Yii) Web 服务调用创建的以连接到 android。但我明白了

```
10-19 11:17:36.068: W/System.err(11165): org.xmlpull.v1.XmlPullParserException: expected: START_TAG {http://schemas.xmlsoap.org/soap/envelope/}Envelope (position:START_TAG <{http://schemas.xmlsoap.org/wsdl/}wsdl:definitions name='StatisticController' targetNamespace='http://example.com/webservice/statistic/'>@13:91 in java.io.InputStreamReader@40539de0) 
```

XML:

```
<wsdl:definitions name="StatisticController" targetNamespace="http://example.com/webservice/statistic/">
  <wsdl:message name="getGeneralstatRequest"/>
  <wsdl:message name="getGeneralstatResponse">
     <wsdl:part name="return" type="xsd:struct"/>
  </wsdl:message>
  <wsdl:portType name="StatisticControllerPortType">
     <wsdl:operation name="getGeneralstat">
       <wsdl:documentation/>
       <wsdl:input message="tns:getGeneralstatRequest"/>
       <wsdl:output message="tns:getGeneralstatResponse"/>
     </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="StatisticControllerBinding" type="tns:StatisticControllerPortType">
     <soap:binding style="rpc" transport="http://schemas.xmlsoap.org/soap/http"/>
     <wsdl:operation name="getGeneralstat">
        <soap:operation soapAction="http://example.com/webservice/statistic/getGeneralstat" style="rpc"/>
        <wsdl:input>
           <soap:body use="encoded" namespace="http://example.com/webservice/statistic/" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/>
        </wsdl:input>
        <wsdl:output>
           <soap:body use="encoded" namespace="http://example.com/webservice/statistic/" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/>
        </wsdl:output>
     </wsdl:operation>
   </wsdl:binding>
   <wsdl:service name="StatisticControllerService">
      <wsdl:port name="StatisticControllerPort" binding="tns:StatisticControllerBinding">
          <soap:address location="http://example.com/webservice/statistic/ws/1"/>
      </wsdl:port>
   </wsdl:service> 
```

网络服务正在工作。我用[http://www.validwsdl.com/测试过](http://www.validwsdl.com/)

Java代码：

```
 private static String domain_name = URLEncoder.encode("example.com");
    private static final String METHOD_NAME = "getGeneralstat";
    private static final String NAMESPACE = "http://"+ domain_name +"/webservice/statistic/";
    //private static final String URL = "http://"+ domain_name +"/webservice/statistic/";
    private static final String URL = "http://"+ domain_name +"/webservice/generalstat2.wsdl";
   private static final String SOAP_ACTION = NAMESPACE + METHOD_NAME;
...
   SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
   SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
   envelope.setOutputSoapObject(request);
   HttpTransportSE ht = new HttpTransportSE(URL,8000); // trying 8 sec  
   try {    
     ht.debug = true;
     ht.call(SOAP_ACTION, envelope);
...
   } catch ...
   } catch ...
   } catch (XmlPullParserException xe) {
   } catch ... 
```

我已经尝试了 3 周，但它不起作用。我已经阅读了很多主题，但没有解决我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:54:45.510

XMLParserException 可能会在两点被抛出。

1.  当库尝试在调用之前生成 SoapObject 时
2.  调用后，当响应对象不是有效的 XML 时（例如，您可能会收到
    带有服务器错误的 HTML 响应）

调试您的 Web 服务调用并检查您的 HTTPTransportSE 对象的转储变量以确定您的 XML 是否有效。您还可以将转储变量的内容复制粘贴到soapUI 中，以检查您的哪些xml 部分不起作用。

这对我帮助很大[http://mspmsp.brinkster.net/MobileJava/ch16.htm](http://mspmsp.brinkster.net/MobileJava/ch16.htm)

我希望它有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-22T12:04:59.827

您给定的 wsdl 绝对不正确：缺少一些命名空间声明，加上文件末尾的 wsdl:definitions 标记未正确关闭（可能是复制+粘贴错误）。这是一个更正的版本：

```
<wsdl:definitions name="StatisticController" 
targetNamespace="http://example.com/webservice/statistic/"
xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
xmlns:xsd="http://www.w3.org/2001/XMLSchema"
xmlns:tns="http://example.com/webservice/statistic/">
  <wsdl:message name="getGeneralstatRequest"/>
  <wsdl:message name="getGeneralstatResponse">
     <wsdl:part name="return" type="xsd:struct"/>
  </wsdl:message>
  <wsdl:portType name="StatisticControllerPortType">
     <wsdl:operation name="getGeneralstat">
       <wsdl:documentation/>
       <wsdl:input message="tns:getGeneralstatRequest"/>
       <wsdl:output message="tns:getGeneralstatResponse"/>
     </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="StatisticControllerBinding" type="tns:StatisticControllerPortType">
     <soap:binding style="rpc" transport="http://schemas.xmlsoap.org/soap/http"/>
     <wsdl:operation name="getGeneralstat">
        <soap:operation soapAction="http://example.com/webservice/statistic/getGeneralstat" style="rpc"/>
        <wsdl:input>
           <soap:body use="encoded" namespace="http://example.com/webservice/statistic/" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/>
        </wsdl:input>
        <wsdl:output>
           <soap:body use="encoded" namespace="http://example.com/webservice/statistic/" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/>
        </wsdl:output>
     </wsdl:operation>
   </wsdl:binding>
   <wsdl:service name="StatisticControllerService">
      <wsdl:port name="StatisticControllerPort" binding="tns:StatisticControllerBinding">
          <soap:address location="http://example.com/webservice/statistic/ws/1"/>
      </wsdl:port>
   </wsdl:service>
</wsdl:definitions> 
```

我建议将 WSDL 导入到 soapUI 中作为快速简单的验证步骤。

# sql - 替换 SQL 中的值 (Microsoft Access)

> ID：12972219
> 
> 赞同：3
> 
> 时间：2012-10-19T10:20:46.480
> 
> 标签：sql, ms-access

所以：我有一张小桌子，看起来像：

```
PartNumber  ReplacedNumber
408077-5102 408077-5102S
408077-0102 408077-5102 
```

正如您在此处看到的，我想将零件号替换为已替换的编号，问题是如果 a 被 b 替换，b 被 c 替换，那么这意味着 a 被 c 替换。

有人知道这样做的方法吗？

谢谢你的帮助

**更新：**
好的，这是示例数据：

```
id PartNumber   ReplacedNumber
1  408077-5102  408077-5102S
2  408077-0102  408077-5102 
```

如您所见，第 2 行中的值被替换（a 被 b 替换，在这种情况下`408077-0102`被替换为`408077-5102`），然后 b 被 c`408077-5102`替换（`408077-5102S`在第 1 行中被替换为）。

这意味着a = c。我想避免重复替换值。我希望现在更清楚了。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T08:12:07.340

如果 a 被 b 替换，b 被 c 替换，则意味着 a 被 c 替换可以写成：

```
SELECT
  Replace.ID,
  Replace.PartNumber,
  IIF(Not IsNull([Replace_1].[ReplacedNumber]),
      [Replace_1].[ReplacedNumber],
      [Replace].[ReplacedNumber])
FROM
  Replace LEFT JOIN Replace AS Replace_1
    ON Replace.ReplacedNumber = Replace_1.PartNumber 
```

（这是一个 SELECT 查询，但它可以很容易地在 UPDATE 查询中转换）但这并不能解决 c 被 d 替换的情况，这（我想）也意味着 a 被 d 替换。

我认为这里唯一的解决方案是使用递归函数：

```
Function searchReplaced(ReplacedNumber) as Variant
  Dim Look As Variant

  Look = DLookup("ReplacedNumber",
                 "Replace",
                 "PartNumber=""" & ReplacedNumber & """")

  If IsNull(Look) Then
    searchReplaced = ReplacedNumber
  Else
    searchReplaced = searchReplaced(Look)
  End If

End Function 
```

然后你只需启动这个 UPDATE 查询：

```
UPDATE Replace
SET Replace.ReplacedNumber = searchReplace([Replace].[ReplacedNumber]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:31:14.483

如果该表具有主 ID，则只需更新该表

```
update table set partnumber=replacednumber where id=id of the column you want to replace 
```

id 指主键

# c++ - boost::posix_time::microsec_clock 的测量误差超过十微秒？

> ID：12972221
> 
> 赞同：5
> 
> 时间：2012-10-19T10:20:56.507
> 
> 标签：c++, winapi, boost, time

我有以下代码：

```
long long unsigned int GetCurrentTimestamp()
{
   LARGE_INTEGER res;
   QueryPerformanceCounter(&res);
   return res.QuadPart;
}

long long unsigned int initalizeFrequency()
{
   LARGE_INTEGER res;
   QueryPerformanceFrequency(&res);
   return res.QuadPart;
}

//start time stamp
boost::posix_time::ptime startTime = boost::posix_time::microsec_clock::local_time();
long long unsigned int start = GetCurrentTimestamp();

// ....
// execution that should be measured
// ....

long long unsigned int end = GetCurrentTimestamp();
boost::posix_time::ptime endTime = boost::posix_time::microsec_clock::local_time();
boost::posix_time::time_duration duration = endTime - startTime;
std::cout << "Duration by Boost posix: " << duration.total_microseconds() <<std::endl;
std::cout << "Processing time is " << ((end - start) * 1000000 / initalizeFrequency()) 
            << " microsec "<< std::endl; 
```

此代码的结果是

```
Duration by Boost posix: 0
Processing time is 24 microsec 
```

为什么会有这么大的分歧？Boost 很糟糕，它应该测量微秒，但它测量微秒，误差只有十分之一微秒？？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T10:46:02.827

Posix 时间：microsec_clock：

*使用亚秒级分辨率时钟获取 UTC 时间。在 Unix 系统上，这是使用 GetTimeOfDay 实现的。在大多数 Win32 平台上，它是使用 ftime 实现的。Win32 系统通常无法通过此 API 实现微秒级分辨率。如果更高的分辨率对您的应用程序至关重要，请测试您的平台以查看达到的分辨率。*

`ftime`根本不提供微秒分辨率。参数可能包含单词`microsecond`，但实现不提供该范围内的任何准确性。它的粒度在 ms 范围内。

当您的操作需要更多时间（例如至少超过 20 毫秒）时，您会得到与 ZERO 不同的东西。

**编辑：**注意：从长远来看`microsec_clock`，Windows 的实现*应尽可能*使用[GetSystemTimePreciseAsFileTime 函数](http://msdn.microsoft.com/en-us/library/windows/desktop/hh706895%28v=vs.85%29.aspx)（最低要求 Windows 8 桌面、Windows Server 2012 桌面）以实现微秒级分辨率。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T10:59:37.227

不幸的是，当前的 Boost 实现[`boost::posix_time::microsec_clock`](http://www.boost.org/doc/libs/1_51_0/doc/html/date_time/posix_time.html)不使用[`QueryPerformanceCounter`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms644904%28v=vs.85%29.aspx)Win32 API，[`GetSystemTimeAsFileTime`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724397%28v=vs.85%29.aspx)而是使用[`GetSystemTime`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724390%28v=vs.85%29.aspx). 但是系统时间分辨率是毫秒（甚至更糟）。

# android - Android View 中的 onTouchEvent 响应缓慢

> ID：12972222
> 
> 赞同：1
> 
> 时间：2012-10-19T10:20:57.713
> 
> 标签：android, performance, view, touch

我创建了一个 View 来监听触摸事件，然后在你触摸时画一个圆圈。目前，它只跟踪触摸的垂直位置。

有一些有趣的代码部分：

触摸事件：

```
public boolean onTouchEvent(MotionEvent event) {

    int actionType = event.getAction();
    if (actionType == MotionEvent.ACTION_MOVE || actionType == MotionEvent.ACTION_DOWN ) {

        int px = getMeasuredWidth() / 2;
        int py = getMeasuredHeight() / 2;

        touchY = (event.getY() - py);

        if (touchY < 25 && touchY > -25) {
            touchY = 0;
        }
        invalidate();
    }
    return true;
} 
```

此外，onDraw：

```
@Override
protected void onDraw(Canvas canvas) {
    int px = getMeasuredWidth() / 2;
    int py = getMeasuredHeight() / 2;
    int radius = px - innerPadding;

    canvas.drawCircle(px, touchY+py, radius - innerPadding, circlePaint);
    canvas.save();
} 
```

它可以工作，但考虑到我有 Galaxy S3，我发现手指后面的圆圈很慢。它很顺利，但有延迟。

关于如何更好地实施这一点的任何建议？

谢谢你。

# javascript - 可重用性：如何在网页的不同位置使用相同的列表项

> ID：12972223
> 
> 赞同：2
> 
> 时间：2012-10-19T10:21:12.707
> 
> 标签：javascript, html

我想在主页和 2 个不同的对话框中使用一组 100 个列表项。我想，编写相同的代码集将是愚蠢的。那么我如何在网页的 3 个不同位置使用相同的集合

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:24:38.383

我会使用 jQuery（或其他一些客户端库）来克隆项目，并将它们附加到每个`<select>`标签。如果您需要这方面的帮助，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:51:34.293

如果您想要一个纯 HTML5 解决方案，这可能会很有趣......使用该`datalist`元素 - 对此*（目前）的*支持将非常有限：

[https://developer.mozilla.org/en-US/docs/HTML/Element/datalist](https://developer.mozilla.org/en-US/docs/HTML/Element/datalist)

*（来自上面的链接）*

```
<datalist id="browsers">
  <option value="Chrome">
  <option value="Firefox">
  <option value="Internet Explorer">
  <option value="Opera">
  <option value="Safari">
</datalist>

<input class="one" list="browsers" />
<input class="two" list="browsers" />
<input class="three" list="browsers" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:24:51.920

我会将列表存储在 json 文件中：list.json

```
{
  list: [element0, element1, ..., element99]
} 
```

然后使用 jQuery 通过 ajax 检索元素，例如：

```
/**
 * Replaces the element's content with the list of items.
 */
function setList(element) {
  $.getJson(listJsonURL, function (data) {
    var list = "<ul>";
    for (var i = 0, len = data.list.length; i<len; i++) {
      list += "\n  <li>" + data.list[i] + "</li>";
    }
    list += "\n</ul>";
    $(element).html(list);
  });
} 
```

警告：未经测试的代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T10:41:31.317

您可以使用此代码段克隆 HTML，

```
 <script>
      (function(){
        $(document).ready(function(){

            $("#listA").clone().appendTo("#dialogueBox1");
            $("#listA").clone().appendTo("#dialogueBox2");

         })
       })();
   </script> 
```

其中 listA 是“ul”或“ol”元素的 id。

# php - PHP如何在此错误中使用标题语句（）

> ID：12972225
> 
> 赞同：0
> 
> 时间：2012-10-19T10:21:20.797
> 
> 标签：php

我正在尝试在 error() 中使用 header 函数，我注释了此函数中的所有代码并插入了 header()，但它不起作用。

这是链接[http://www.htmlgoodies.com/beyond/php/article.php/3877766/Web-Developer-How-To-Upload-Images-Using-PHP.htm](http://www.htmlgoodies.com/beyond/php/article.php/3877766/Web-Developer-How-To-Upload-Images-Using-PHP.htm)

如果没有错误，则应执行插入语句。如何在 URL 代码中执行此操作？

**更新**

```
function error($error, $location, $seconds = 5) 
{ 
   header("Location:test.php");
}

INSERT into table; This query should execute only when there are no errors.How would i do this ? 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:29:05.263

**肮脏的**修复：

```
function error($error, $location, $seconds = 5) 
{

    $urlToRedirect = $location . '?error_message=' . urlencode($error) ;
    header('Location: ' . $urlToRedirect);
    exit;

} 
```

**更好**的解决方案是为错误消息创建一个数组，如下所示：

```
$errorMessages = array(
    'incorrect_login' => 'Incorrect login credentials.',
    'restricted' => 'Restricted page.'
); 
```

然后重写您的错误函数并删除 seconds 参数，因为您不再使用刷新（就个人而言，我也会删除 location 参数，以便所有错误重定向都指向同一页面）：

```
function error($error, $location) 
{
    $urlToRedirect = $location . '?error_message=' . $error ;
    header('Location: ' . $urlToRedirect);
    exit;
} 
```

然后，像这样调用函数：

```
error('restricted', 'error.php'); 
```

然后，在您要显示错误的页面上：

```
if(isset($_GET['error_message']) && array_key_exists($_GET['error_message'], $errorMessages)){
    echo $errorMessages[$_GET['error_message']];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:51:35.073

尝试这个：：

```
function error($error, $location, $seconds = 5)
    { 
        header('Refresh: '.$seconds.'; url=' . $location);

    $content .= <<< END

            <html><head>
            <title>Upload error</title>
            </head>
            <body> 
                    <div id="Upload">
                    <h1>Upload failure</h1>
                    <p>An error has occurred: 
                    <span class="red">$error</span>
        The upload form is reloading</p>
        </div>
        </html>
END;

        echo $content;

        exit; 
    } // end error handler 
```

# android - 直接打开读取文件活动时强制关闭

> ID：12972227
> 
> 赞同：0
> 
> 时间：2012-10-19T10:21:28.980
> 
> 标签：android, android-file

我尝试直接访问此活动但强制关闭：

```
@Override   protected void onCreate(Bundle savedInstanceState) {        

super.onCreate(savedInstanceState);
setContentView(R.layout.log);
historyView = (TextView) findViewById (R.id.historyView);

String data = (String) getIntent().getExtras().get("data");
  try {             FileInputStream fin = openFileInput("data.txt");            InputStreamReader isr = new InputStreamReader(fin);
                    char[] inputBuffer = new char[data.length()];

        isr.read(inputBuffer);

        String readString = new String(inputBuffer);
                boolean isTheSame = data.equals(readString);

        historyView.setText(readString);        
  }

catch (FileNotFoundExceptione) {
        // TODO Auto-generated catch block 
        e.printStackTrace();        
}

catch (IOException e) {         
// TODO Auto-generated catch block
e.printStackTrace();        
  } 
```

但是，当我从另一个写入并传递`data`它的活动中访问它时，它正在工作。为什么？实际上有什么问题？

# c# - 以只读方式存储程序集版本

> ID：12972229
> 
> 赞同：0
> 
> 时间：2012-10-19T10:21:30.447
> 
> 标签：c#, asp.net

这是我不久前提出的这个问题的后续：

[Assembly.GetExecutingAssembly() 性能](https://stackoverflow.com/questions/11031233/assembly-getentryassembly-performance)

这个解决方案似乎很完美。现在我刚刚开始实施它，但它不起作用。我被`System.TypeInitializationException`抛出，内部异常是旧的，`Object reference not set to an instance of an object`. 现在我不确定为什么它不起作用。我的猜测是该`static readonly`属性是在 Assembly 类之前实例化还是什么？

任何人都可以**解释为什么**会发生这种情况，任何修复，*除了不使用 readonly 因为这很明显*，也会受到欢迎，但不一定是预期的！

这是代码：

```
public class VersionHelper
    {
        private static readonly Version _applicationVersion = Assembly.GetEntryAssembly().GetName().Version;
        public static string GetVersionText()
        {
            return string.Format("Version: {0}-{1}", _applicationVersion, Environment.MachineName.Substring(5));
        }
    } 
```

称为：

```
protected void Page_Load(object sender, EventArgs e)
{
    lblVersion.Text = VersionHelper.GetVersionText();
} 
```

只是为了解释如果我这样做，它会起作用：

```
public class VersionHelper
    {
        public static string GetVersionText()
        {
            Assembly web = Assembly.GetExecutingAssembly();
            AssemblyName webName = web.GetName();
            return string.Format("Version: {0}-{1}", webName.Version, Environment.MachineName.Substring(5));
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T11:06:09.143

该异常与该属性是否为只读这一事实没有任何关系。问题是您在 ASP.NET 上下文中调用 Assembly.GetEntryAssembly() ，显然这不能很好地协同工作。

您拥有的另一个选项也不使用此方法，它使用 Assembly.GetExecutingAssembly。如果您更改您的第一个示例以使其使用 Assembly.GetExecutingAssembly，那么您将看到它运行良好。

我没有任何真正的参考资料，但您可以查看[这个](https://stackoverflow.com/questions/4277692/getentryassembly-for-web-applications)问题，尤其是问题下方的评论。

它还有一个关于如何在 ASP.NET 上下文中获取条目程序集的解决方案。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-19T10:45:26.337

`Assembly.GetEntryAssembly`不可靠，特别是如果应用程序在非托管上下文而不是托管上下文中启动，它将返回 NULL。结果必须为空检查..

例如，如果非托管应用程序创建了一个用 C# 编写的 COM 组件的实例，`GetEntryAssembly`则从 C# 组件调用该方法将返回 NULL，因为进程的入口点是非托管代码而不是托管程序集。

而`GetExecutingAssembly`只是获取包含当前正在执行的代码的程序集。

而要获取包含调用当前执行代码的方法的程序集，您应该使用`GetCallingAssembly`.

# python - Python 多处理 - 当方法名称传递给 Process 时可能会失败

> ID：12972230
> 
> 赞同：1
> 
> 时间：2012-10-19T10:21:38.737
> 
> 标签：python, python-3.x, multiprocessing

我对多处理有问题。在你下面有代码（他在几个类和文件中，但我简化了它）。我想，这个问题在于我想在多处理中相乘的传递方法名称。
信息：“args”是一个列表，如 [(0,1),(1,2),(2,3)] 所以单个“arg”如 (0,1) 这两个文件完全在其他 calatogs 中
！ !第一个文件！！

```
from ... import EF
from ... import someclass

class performs():
    def action():
        for i, arg in enumerate(args):
            data.append(EF(self.method,list(arg),i))
        someclass.create_processes(*data)

    def method(self,fa,la):
        ... 
```

！！第二个文件！！

```
from multiprocessing import Process,Event
class EF(object):
    def __init__(self,name,args=list(),proc=1):
        self.name=name
        self.args=args
        self.proc=proc

class someclass:
    @staticmethod
    def create_processes(*functions):
        processes=dict()
        for function in functions:
            process=Process(target=function.name,args=function.args)
            process.start()
            processes[process.pid]=process
        for process in processes.values():
            process.join() 
```

当我调试时，错误来了，当程序执行这个指令“process.start（）”

安慰：

```
File "C:\Python32\lib\multiprocessing\forking.py", line 371, in main
    self = load(from_parent)
AttributeError: 'performs' object has no attribute 'function' 
```

或在其他情况下

```
File "C:\Python32\lib\multiprocessing\process.py", line 267, in _bootstrap
    self.run()
  File "C:\Python32\lib\multiprocessing\process.py", line 116, in run
    self._target(*self._args, **self._kwargs)
  File "...\performs.py", line 88, in method
... 
```

我不知道这很重要，但我有 64 位系统，并安装了 32 位的 Python 和附件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:19:56.807

评论框太小了，但您的代码似乎运行良好。我通过将它复制到两个文件（如您的环境）中来测试它，但它当然也适用于单个文件。您可以在下面找到该文件：它按预期工作（除了打印语句输出被混淆，但这是意料之中的）。

那么，很可能，您的问题出在其他地方？该错误似乎表明可能有一些包含顺序，如[this question](https://stackoverflow.com/questions/2782961/yet-another-confusion-with-multiprocessing-error-module-object-has-no-attribu)中所述？

```
from multiprocessing import Process,Event

class EF:
    def __init__(self, name, args=list(), proc=1):
        self.name = name
        self.args = args
        self.proc = proc

class someclass:
    @staticmethod
    def create_processes(*functions):
        processes=dict()
        for function in functions:
            process=Process(target=function.name,args=function.args)
            process.start()
            processes[process.pid]=process
        for process in processes.values():
            process.join()

class performs:
    def action(self, args):
        data = []
        for i, arg in enumerate(args):
            data.append(EF(self.mult, list(arg), i))
        someclass.create_processes(*data)

    def mult(self,fa,la):
        print '%d x %d = %d' % (fa, la, fa * la)

if __name__ == '__main__':
    p = performs()
    p.action([(x, x+1) for x in xrange(10)]) 
```

# wpf - WPF Datagrid ItemSource + ObservableCollection

> ID：12972231
> 
> 赞同：0
> 
> 时间：2012-10-19T10:21:41.053
> 
> 标签：wpf, datagrid, observablecollection

我有一个显示来自 ObservableCollection 的所有数据的 Datagrid。但我只想显示 Datagrid 中的前 10 个元素。你能帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:05:21.227

我假设您正在使用 MVVM .. 您可以尝试使用集合视图源..

```
 observableCollection = new ObservableCollection<string>();
 Items = CollectionViewSource.GetDefaultView(observableCollection.Take(10)); 
```

其中“Items”是您的视图模型中的属性，而“ItemsSource”是您的数据网格中的属性。

```
public ICollectionView Items { get; set; } 
```

您可能必须在视图模型中包含几个命名空间

```
using System.Collections.ObjectModel;
using System.Windows.Data; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:41:35.590

假设您的 DataGrid 是 dg。你可以试试 ：

```
int nbV = 10; //number you want
ItemCollection ic = new ItemCollection();
for(int k = 0; k < nbV; k++)
   {
      ic.Add(dg.Items[k]);
   }

dg.ItemsSource = ic.DefaultView; 
```

# javascript - 微小的 mce 换行符

> ID：12972239
> 
> 赞同：2
> 
> 时间：2012-10-19T10:22:16.903
> 
> 标签：javascript, tinymce, line-breaks

我使用 tiny mce 让用户显示文本。我使用这段代码来显示他们的文本：

```
<script type="text/javascript" charset="utf-8">
  function init_ContentSwap() {
    var swap1 = {
        restoreDefault: false,
        content: {
            '1': "[[*tinymcetext]]",
            '2': "[[*tinymcetext]]",
            '3': "[[*tinymcetext]]"

        }
    }

    dw_ContentSwap.setup(swap1);
  }

  dw_Event.add(window, 'load', init_ContentSwap);`    

<div class="code_demo">

  <ul class="demoLinks">
    <li><a href="#1" class="showInfo 1">1</a></li>
    <li><a href="#2" class="showInfo 2">2</a></li>
    <li><a href="#3" class="showInfo 3">3</a></li>
  </ul>
  <div id="infoDiv">[[*tinymcetext]]</div>
</div>

<!-- end demo -->

<p class="clearer">&nbsp;</p> 
```

第一个问题是当用户复制/粘贴文本时，它会在 html 代码中创建换行符，并且 javascript 代码不再起作用。在 tinymce 中，remove_linebreak 设置为 yes，它可以工作，但不适用于粘贴的文本。

第二个问题是我在 tinymce 中使用了带有 div 的模板，当我使用它时，它会在 tiny mce 中生成换行符。

我的第三个问题是我使用 " 在我的 javascript 中显示文本，但是当我的用户在他的文本中使用 " 时，它会破坏 javascript 代码。那么更换它的最佳方法是什么？

# windows - Windows 批处理脚本：在日志中显示日期、时间和所有输出

> ID：12972241
> 
> 赞同：3
> 
> 时间：2012-10-19T10:22:20.397
> 
> 标签：windows, date, logging, time, batch-file

我制作了一个脚本，我将使用 Windows 调度程序调用它来备份我制作的 Ruby on Rails 应用程序。

当我在命令窗口中正常调用命令时，输出如下所示

```
C:\Users\admin\Desktop\app>heroku db:pull --confirm app
    Loaded Taps v0.3.23
    Auto-detected local database: postgres://db:pass@127.0.0.1/app?encoding=utf8
    Warning: Data in the database 'postgres://db:pass@127.0.0.1/app?encoding=utf8' will be overwritten and
     will not be recoverable.
    Receiving schema
    Schema:          0% |                                          | ETA:  --:--:--
    Schema:         20% |========                                  | ETA:  00:00:21
    Schema:         40% |================                          | ETA:  00:00:18
    Schema:         60% |=========================                 | ETA:  00:00:12
    Schema:         80% |=================================         | ETA:  00:00:05
    Schema:        100% |==========================================| Time: 00:00:29
    Receiving indexes
    schema_migrat:   0% |                                          | ETA:  --:--:--
    schema_migrat: 100% |==========================================| Time: 00:00:05
    users:           0% |                                          | ETA:  --:--:--
    users:          50% |=====================                     | ETA:  00:00:05
    users:         100% |==========================================| Time: 00:00:10
    Receiving data
    5 tables, 1,000 records
    table1: 100% |==========================================| Time: 00:00:00
    table2:         100% |==========================================| Time: 00:00:00
    table3: 100% |==========================================| Time: 00:00:00
    table4:      100% |==========================================| Time: 00:00:00
    table5:      100% |==========================================| Time: 00:00:01
    Resetting sequences 
```

这是我的.bat：

```
heroku db:pull --confirm app >> log.txt 
```

如果我运行两次，这是进入文件 log.txt 的输出

```
Loaded Taps v0.3.23
Auto-detected local database: postgres://db:pass@127.0.0.1/webapp_development?encoding=utf8
Warning: Data in the database 'postgres://db:pass@127.0.0.1/webapp_development?encoding=utf8' will be overwritten and will not be recoverable.
Receiving schema

Receiving indexes

Receiving data
5 tables, 1,000 records
Resetting sequences

Loaded Taps v0.3.23
Auto-detected local database: postgres://db:pass@127.0.0.1/webapp_development?encoding=utf8
Warning: Data in the database 'postgres://db:pass@127.0.0.1/webapp_development?encoding=utf8' will be overwritten and will not be recoverable.
Receiving schema

Receiving indexes

Receiving data
5 tables, 1,000 records
Resetting sequences 
```

有没有办法包含确切的控制台输出，还包括脚本运行的日期和时间？提前致谢。

更新：

```
Start: 19/10/2012 12:08:04.90 
                                                                               Schema:          0% |                                          | ETA:  --:--:--Schema:         20% |========                                  | ETA:  00:00:24Schema:         40% |================                          | ETA:  00:00:18Schema:         60% |=========================                 | ETA:  00:00:13Schema:         80% |=================================         | ETA:  00:00:06Schema:        100% |==========================================| ETA:  00:00:00Schema:        100% |==========================================| Time: 00:00:32
                                                                               schema_migrat:   0% |                                          | ETA:  --:--:--schema_migrat: 100% |==========================================| ETA:  00:00:00schema_migrat: 100% |==========================================| Time: 00:00:05
                                                                               users:           0% |                                          | ETA:  --:--:--users:          50% |=====================                     | ETA:  00:00:05users:         100% |==========================================| ETA:  00:00:00users:         100% |==========================================| Time: 00:00:08
                                                                               schema_migrat:   0% |                                          | ETA:  --:--:--schema_migrat:   7% |==                                        | ETA:  00:00:06schema_migrat: 100% |==========================================| Time: 00:00:00
                                                                               users:           0% |                                          | ETA:  --:--:--users:           3% |=                                         | ETA:  00:00:11users:         100% |==========================================| Time: 00:00:00
                                                                               projecttechno:   0% |                                          | ETA:  --:--:--projecttechno:   6% |==                                        | ETA:  00:00:05projecttechno: 100% |==========================================| Time: 00:00:00
                                                                               technols:        0% |                                          | ETA:  --:--:--technols:        7% |==                                        | ETA:  00:00:05technols:      100% |==========================================| Time: 00:00:00
                                                                               projects:        0% |                                          | ETA:  --:--:--projects:        1% |                                          | ETA:  00:00:54projects:      100% |==========================================| Time: 00:00:00
Loaded Taps v0.3.23
Auto-detected local database: postgres://postgres:a@127.0.0.1/webapp_development?encoding=utf8
Warning: Data in the database 'postgres://postgres:a@127.0.0.1/webapp_development?encoding=utf8' will be overwritten and will not be recoverable.
Receiving schema

Receiving indexes

Receiving data
5 tables, 1,000 records
Resetting sequences 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T10:59:51.193

添加日期和时间很容易使用`%date%`和`%time%`。

您可以尝试将 stderr (2) 重定向到 stdout (&1)，也许这会捕获丢失的输出。

```
echo Start: %date% %time% >>log.txt
heroku db:pull --confirm app >>log.txt 2>&1
echo Stop: %date% %time% >>log.txt 
```

# php - 从 html 按钮按下运行不同的 sql 查询

> ID：12972246
> 
> 赞同：0
> 
> 时间：2012-10-19T10:22:38.207
> 
> 标签：php, javascript, html

我一直在疯狂地试图弄清楚如何根据用户可能按下的不同按钮查询 php 数据库。例如，单击一个按钮将查询数据库以返回年龄 > 30 的值，而单击另一个按钮将发送不同的查询，因此年龄 < 30。

我知道您不能直接从按钮 onclick 运行 php 函数，但是您可以运行 javascript。我一直在尝试使用从按钮调用的 javascript 来运行 php 查询，但它非常混乱（并且无法正常工作）。

我对 ajax 没有任何经验，这显然是一个解决方案，但宁愿避免它。

我不必使用按钮，我只需要一种方法让用户选择不同的查询。

我怎么能做到？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:45:01.223

我看到它的唯一方法是使用 Ajax。我想说的是使用[JQUery Ajax](http://api.jquery.com/jQuery.post/)，它非常易于使用和学习，您会在这里找到很多关于如何做任何您想做的事情的示例。这是最直接的解决方案。

希望这可以帮助

# php - 编写连接 PHP MS SQL 查询并将其放入循环的最佳方法

> ID：12972254
> 
> 赞同：0
> 
> 时间：2012-10-19T10:23:14.810
> 
> 标签：php

所以通常我会编写如下查询和循环：

```
 $result = mssql_query("SELECT Element FROM Table WHERE Type='Type'");

                while ($row = mssql_fetch_array($result)) { 
} 
```

我知道这不是最佳实践，但我仍在学习并且它有效。

我曾经将我的查询连接如下：

```
$query = "SELECT Element ";
$query .= "FROM Table ";
$query .= "WHERE Condition = 'no' ";

$result = mssql_query($query);

$numRows = mssql_num_rows($result); 
```

这不是很安全，但是我写了一个 SQL 编码，但我离题了。我现在面临的问题是没有编写很长的查询并循环它。我已经写了以下内容，但是它不起作用。有人可以告诉我我的语法是否正确，以便我可以调试问题是否出在我的语法或其他元素上。任何帮助将不胜感激。

```
 $query = "INSERT INTO Items (BasketID, Qty, ProductType, Element1, Element2, Element3, Element4, Element5, Element6, Element7, Element8, Element9, Element10, Element11, Element12, Element13, Element14, Element15, Element16, Element17, Element18, Element19, Element20, DateAdded, Notes)";
$query .= " VALUES ("$_SESSION['basketid']", "1", "Type1", "SQLencode($_POST['Element1'])", "SQLencode($_POST['Element2'])", "SQLencode($_POST['Element3'])", "SQLencode($_POST['Element4'])", "SQLencode($_POST['Element5'])", "SQLencode($_POST['Element6'])", "SQLencode($_POST['Element7'])",";
$query .= ""SQLencode($_POST['Element8'])", "SQLencode($_POST['Element9'])", "SQLencode($_POST['Element10'])","SQLencode($_POST['Element11']", "SQLencode($_POST['Element12']", "SQLencode($_POST['Element13']","SQLencode($_POST['Element14']","SQLencode($_POST['Element15']", "SQLencode($_POST['Element16']",";
$query .= ""SQLencode($_POST['Element17'])","SQLencode($_POST['Element18'])","SQLencode($_POST['Element19'])", "SQLencode($_POST['Element20'])", "NOW()", "SQLencode($_POST['Notes'])" ) "

$insertsql = mssql_query($query);

while ($insertrow = mssql_fetch_array($insertsql)) { 

?> 
```

我认为/希望我是正确的轨道，但我认为我的实际查询语法在某处略有错误，但我不太明白为什么，我不断收到意外的 t_variables。谁能指出我哪里出错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:27:36.643

查看您的代码：

```
 $query = "INSERT INTO Items (BasketID, Qty, ProductType, Element1, Element2, Element3, Element4, Element5, Element6, Element7, Element8, Element9, Element10, Element11, Element12, Element13, Element14, Element15, Element16, Element17, Element18, Element19, Element20, DateAdded, Notes)"; 
$query .= " VALUES ('$_SESSION['basketid']', '1', 'Type1', "SQLencode($_POST['Element1'])", "SQLencode($_POST['Element2'])", "SQLencode($_POST['Element3'])", "SQLencode($_POST['Element4'])", "SQLencode($_POST['Element5'])", "SQLencode($_POST['Element6'])", "SQLencode($_POST['Element7'])""; 
$query .= ""SQLencode($_POST['Element8'])", "SQLencode($_POST['Element9'])", "SQLencode($_POST['Element10'])","SQLencode($_POST['Element11']", "SQLencode($_POST['Element12']", "SQLencode($_POST['Element13']","SQLencode($_POST['Element14']","SQLencode($_POST['Element15']", "SQLencode($_POST['Element16']","; 
$query .= ""SQLencode($_POST['Element17'])","SQLencode($_POST['Element18'])","SQLencode($_POST['Element19'])", "SQLencode($_POST['Element20'])", "NOW()", "SQLencode($_POST['Notes'])" ) " 
```

第 2 行末尾缺少逗号

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:36:07.890

我发现在数组中更容易做到：

```
$fields = array(
    'BasketId'    => $_SESSION['basketid'],
    'Qty'         => 1,
    'ProductType' => 'Type1',
    'Element1'    => SQLencode($_POST['Element1']),
    ...
);

$query = 'INSERT INTO Items ('
$query .= implode(',', array_keys($fields));
$query .= ') VALUES (';
foreach($fields as $value)
    $query .= is_numeric($value) ? $value : "'$value'";
$query .= ');'; 
```

您还可以为您的字段制作一种特殊的语法：

```
'Element1'     => '@Element1', 
```

然后用于`array_map`将所有@-elements 转换为 SQLEncodes。这样您就不会忘记对外部提供的值进行编码：如果您忘记了@，则输入一个无害的字符串。

# java - 非静态成员不应在 java 的静态内部类中声明

> ID：12972256
> 
> 赞同：1
> 
> 时间：2012-10-19T10:23:20.443
> 
> 标签：java, inner-classes, nested-class

> **可能重复：**
> [为什么 Java 禁止内部类中的静态字段？](https://stackoverflow.com/questions/1953530/why-does-java-prohibit-static-fields-in-inner-classes)

我对内部类的访问规范感到非常困惑。请向我解释私有和受保护的内部类和嵌套类。我想知道为什么不能在静态内部类中声明非静态成员。

非常感谢。

对不起我错了。我想知道为什么不能在非静态内部类中声明静态成员..我以相反的方式问..对不起

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:37:41.023

希望这能回答您的一些问题？

[http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html](http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html)

但是你错了，你可以在静态嵌套类中声明非静态成员，这里声明为静态的类是为了将它与内部类区分开来。静态嵌套类可以像任何其他顶级类一样实例化，它们只是以静态方式引用：

```
new StaticClass.NestedClass() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:40:45.867

非静态成员肯定可以在静态内部类中声明，但不允许其他方式。请参阅：[为什么 Java 禁止内部类中的静态字段？](https://stackoverflow.com/questions/1953530/why-does-java-prohibit-static-fields-in-inner-classes)

# android - 更改 android sdcard 模拟器权限

> ID：12972259
> 
> 赞同：3
> 
> 时间：2012-10-19T10:23:34.250
> 
> 标签：android, eclipse, permissions, emulation, sd-card

我正在尝试在我的模拟器中使用 sdcard iso 文件。我已经创建了图像文件并使用 -sdcard 命令将其包含到模拟器中。现在，每次我尝试运行我的 android 应用程序时，它都会给出

```
[2012-10-19 17:14:59 - Emulator] qemu: could not open disk image D:\Data\Eclipse\sdcard_dev.iso: Operation not permitted" 
```

有人知道该怎么做吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-05T02:54:28.930

在我从头开始做所有事情之后它就起作用了。还是不知道是什么原因造成的。

# c - stat() 不适用于大文件名

> ID：12972261
> 
> 赞同：0
> 
> 时间：2012-10-19T10:23:38.347
> 
> 标签：c, stat

我正在尝试编写一个程序，该程序从用户读取文件名输入，将其存储在“名称”中，然后稍后将检查输入的文件名是否在当前目录中。我遇到的问题是，当用户输入目录中不存在的文件的文件名时，然后一个名称比以前长的文件名可以工作，但是如果用户首先输入一个长的不存在的文件名然后确实存在的较短的

```
stat(name, &check)<0 
```

并没有很好。我想知道是否因为第二个实例中的 'name' 是一个具有正确文件名的数组，但是 '\0's 将其填充到之前输入的较大错误尝试的大小与比较文件名有关。有什么方法可以在不使用 fflush 的情况下清除每次尝试的“名称”？

```
char *filename(int *valid_input)
{

    /* Need to malloc name, dat and prefix if doing it this way. */
    int valid1, valid2, valid3, i, n;
    char c, *name;
    char dat[5], prefix[16];
    struct stat check;

    name = malloc(14*(sizeof(char)));

    if(name==NULL)
    {
        printf("Memory could not be allocated.");
        exit(EXIT_FAILURE);
    }

    printf("\nPlease enter a filename in the form 'yourfile.dat'.\nUse only lowercase letters a-z and numerals 0-9 in the prefix. \n The prefix should be 10 characters or less.\nIf you wish to quit enter 'q'.\n\nInput filename : ");

    *valid_input = 0;

    while(*valid_input == 0)
    {
        valid1=0; valid2=0; valid3=0;

         __fpurge(stdin);
        printf("hello1");

        while(valid1==0)  /* Checks input is at least 5 characters long, 14 maximum. */
        {
           printf("hello2");
            n = 0;
            valid1 = 1;

            __fpurge(stdin);

            while ((c=(char)getchar()) != '\n') /* Reads in input */
               {
                   printf("hello3");
                   if(n<14)
                   {
                       name[n]=c;
                       /*printf("%c",name[n]); */
                       if((name[n]=='\n')||(name[n]==EOF)||(name[n]=='\0')) break;
                   }
                   ++n;
               }

           /* printf("check"); */
            if(((n>=14)&&(name[14]!='t'))||(n<5)){printf("hello1");  valid1 = 0;} /* Checks input has a prefix and is less than                     14 characters total */

            if((name[0]=='q')&&(n==1)){printf("hello"); break;}

            if(valid1 > 0) break;

          /* printf("Length of name = %d n = %d ",strlen(name),n);*/
            printf("\nYour filename should contain a prefix of up to 10 characters. \nTo quit press 'q'.\n\nInput filename : ");
        }

        if((name[0]=='q')&&(n==1)) break;

        for (i=0;i<(n-4);i++)
        {

            prefix[i]=name[i];
            printf("\nprefixvalue = %c",prefix[i]);
            if(((prefix[i]>='a')&&(prefix[i]<='z'))||((prefix[i]>='0')&&(prefix[i]<='9'))){ valid3+=1;}
        }
        if(valid3!=n-4) valid3=0;
        else valid3=1;

        for (i=0;i<4;i++)
        {
            dat[i]=name[n-4+i];
            if((dat[0]='.')||(dat[1]='d')||(dat[2]='a')||(dat[3]='t')) valid2=1;
        }

        if((valid2==0)||(valid3==0)) printf("\nYour filename should be in the form 'yourfile.dat' with only lowercase letters or numbers in the prefix.\nTo quit press q.\n\nInput filename : ");

        *valid_input = valid1 && valid2 && valid3;

        if(*valid_input==1)
        {
            if(stat(name, &check)<0)
               {
                printf("\n File does not exist in the current directory.\n Check and re-enter filename.\n To quit press q.\n\nfilename : "); *valid_input=0;
               }
        }

    }

    return(name); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T10:31:00.823

您遇到的最大问题是您没有终止 string `name`。

首先，您应该为终止符再分配一个字符：

```
name = malloc(15);  /* C specifies that `sizeof(char)` is always 1 */ 
```

然后在`getchar`循环之后，您应该终止字符串：

```
name[n] = '\0'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:46:41.970

除了 Joachim 发现的 bug，还有一个：

```
if(((n>=14)&&(name[14]!='t'))||(n<5)){printf("hello1");  valid1 = 0;} 
```

我不知道为什么`name[14]!='t'`具有特殊意义，但无论如何，`n`到目前为止读取的字符数是多少，所以如果`n == 14`then `name[14]`（*第十五个*字符）尚未分配，并且该测试的行为将无法预测。

# javascript - Javascript获取类实例的名称

> ID：12972262
> 
> 赞同：1
> 
> 时间：2012-10-19T10:23:45.437
> 
> 标签：javascript, class

```
function myClass(a,b,c) {
     this.alertMyName=function(){alert(instancename)}

{...}

} 
```

进而

```
foo = myClass(a,b,c);
boo = myClass(a,b,c);

foo.alertMyName(); //it should alert 'foo'
boo.alertMyName(); //it should alert 'boo' 
```

实际上，对于创建大量 html 对象的类，我需要它来为其 ID 加上前缀，以将它们与此类的另一个实例创建的同一对象区分开来。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-04-25T13:34:54.457

我在 Stack Overflow 上找不到解决方案，所以这是我在 dforge.net 上从[ronaldcs](http://www.dforge.net/author/ronaldcs/) 找到的解决方案： [http ://www.dforge.net/2013/01/27/how-to-get-the-name- javascript 中的类的实例](http://www.dforge.net/2013/01/27/how-to-get-the-name-of-an-instance-of-a-class-in-javascript/)/

```
myObject = function () {
  this.getName = function () {
    // search through the global object for a name that resolves to this object
    for (var name in window)
      if (window[name] == this)
        return name;
  };
}; 
```

试试看：

```
var o = new myObject(); 
alert(o.getName()); // alerts "o" 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-19T10:29:02.003

您可以将其作为参数引入：

```
function myClass(name, a, b, c) {
   this.alertMyName = function(){ alert(name) }
}

foo = new myClass('foo', a, b, c); 
```

或者之后分配它：

```
function myClass(a, b, c) {
   this.setName = function(name) {
       this.name = name;
   }
   this.alertMyName = function(){ 
       alert(this.name)
   }
}

foo = new myClass( a,b,c);
foo.setName('foo'); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-19T10:34:27.523

继大卫的回答之后，javascript 中的变量具有一个原始值或对对象的引用。如果值是引用，那么它引用的东西不知道变量的“名称”是什么。

考虑：

```
var foo = new MyThing();
var bar = foo; 
```

那么现在应该`foo.alertMyName()`返回什么？甚至：

```
(new MyThing()).alertMyName(); 
```

如果您希望实例有一个名称，那么给它们一个属性并将其值设置为任何适合的值。

# iphone - 切换背景图片 iphone5 - iphone4

> ID：12972264
> 
> 赞同：7
> 
> 时间：2012-10-19T10:23:50.147
> 
> 标签：iphone, objective-c, ios, cocoa-touch

在我`FirstViewController`的设备是 iPhone4 或 iPhone5 的情况下，我已经为切换背景编写了这段代码：

文件名：bg-for5-568@2x.png
bg-for4@2x.png
bg-for4.png

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    UIImage *backgroundImage = [[UIImage alloc] init];
    if([[UIScreen mainScreen]bounds].size.height == 568)
    {
       backgroundImage = [UIImage imageNamed:@"bg-for5-568h"];
    }
    else
   {
       backgroundImage = [UIImage imageNamed:@"bg-for4"];
   }
   self.view.backgroundColor = [[[UIColor alloc] initWithPatternImage:backgroundImage] autorelease];
   [backgroundImage release];
} 
```

当我在我的模拟器上启动应用程序时，iphone5 的背景显示双倍大小，不在视图中。

/* 已解决，谢谢 */

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T10:50:54.793

我不确定这是否是解决此问题的方法，因为我缺少一些信息，但是：

`.png`首先：从你的`imageNamed:`方法中剥离。从iOS4开始，你不应该再这样做了。接下来是：您的图像的名称是什么？请注意，iPhone5 具有视网膜显示屏，您的图像应命名`bg-for5-568h@2x.png`但在源代码中称为`bg-for5-568h`.

除此之外：在您的图像不是照片的几乎所有情况下，您所做的都是一个坏主意。即使是照片，也只需为 iPhone 4 和 4S 使用更大的图像。它没有那么大，所以内存占用在这里不是问题！看看`UIImageView`'s 的`contentMode`属性。您可以使用它来调整较大图像的位置。如果图像不是全屏的，您可能还需要检查`UIImageView`s属性来剪辑图像。`clipSubviews`

相信我，在我的公司里，我们有很多挂钩，比如 ~ipad、~iphone、~2x 甚至可拉伸的图像。直到今天，所有这些钩子都运行良好，苹果宣布了类似的东西，或者只是一种新设备。所以我决定不再做这些钩子了。首先它们似乎很有帮助，但是当市场上有新产品时遇到的麻烦是不值得的！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T11:07:32.780

您应该将 @2x 后缀附加到所有视网膜图像。在您的情况下，您的图像应存储为“bg-for5-568h@2x.png”。希望它能解决问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T10:43:48.367

我不建议这样做，如果 Apple 再次更改他们的屏幕尺寸并且您必须返回并重写所有代码怎么办？

一个简单的解决方法是使用：

```
 self.view.backgroundColor = [UIColor colorWithPatternImage:/* your image*/]; 
```

这可能会给您带来一些拉伸或平铺的问题。

我更喜欢使用

```
 UIImage* imageName = [[UIImage imageNamed:/*image name*/]resizableImageWithCapInsets:UIEdgeInsetsMake(top,left,bottom,right)]; 
```

在 iOS 6 中，您可以通过定义图像是拉伸还是平铺来进一步改进这一点。这允许您创建一个不会更改的边框，然后默认情况下将图像的中心平铺并填充图像视图的空间

# sql - 验证 Oracle 查询的优化

> ID：12972265
> 
> 赞同：1
> 
> 时间：2012-10-19T10:23:50.880
> 
> 标签：sql, oracle

好的，所以我正在研究这个（相当老的）项目，它使用大量查询来访问 Oracle 数据库。我最近偶然发现了这个 gem，它需要大约 6-7*小时*才能运行并返回约 1400 行。有问题的表/视图包含约 200'000 行。我认为这感觉花费的时间可能比看起来合理的要长一些，所以我开始仔细研究它。现在，出于安全/专有原因，我不能共享确切的查询，但这应该以更一般的术语显示查询的作用：

```
SELECT
    some_field,
    some_other_field
FROM (
    SELECT
        *
    FROM
        some_view a
    WHERE
        some_criteria AND
        a.client_no || ':' || a.engagement_no || ':' || a.registered_date = (
            SELECT
                b.client_no || ':' || b.engagement_no || ':' || MAX(b.registered_date)
            FROM
                some_view b
                JOIN some_engagement_view e
                    ON e.client_no = b.client_no AND e.engagement_no = b.engagement_no
                JOIN some_client_view c
                    ON c.client_no = b.client_no
            WHERE
                some_other_criteria AND
                b.client_no = a.client_no AND
                b.engagement_no = a.engagement_no
            GROUP BY
                b.client_no,
                b.engagement_no
        )
); 
```

基本上，据我所知，它应该做的是从 some_view （包含对客户/参与的评估）获取每个唯一客户/参与的最新评估。

这两个连接是为了确保客户和参与度存在于另一个系统中，它们主要是在您在该系统中完成评估之后处理的。

请注意它如何连接两个数字和一个日期，然后将其与子查询进行比较？“有趣”的设计选择。所以我认为，如果您用适当的比较替换串联，您至少可能会获得某种性能提升。请注意，我主要开发 .NET 和 Web，在数据库方面远非专家，但我将其重写如下：

```
SELECT
    some_field,
    some_other_filed
FROM
    some_view a
WHERE
    some_criteria AND
    (a.client_no, a.engagement_no, a.registered_date) = (
        SELECT
            b.client_no,
            b.engagement_no,
            MAX(b.registered_date)
        FROM
            some_view b
            JOIN some_engagement_view e
                ON e.client_no = b.client_no AND e.engagement_no = b.engagement_no
            JOIN some_client_view c
                ON c.client_no = b.client_no
        WHERE
            some_other_criteria AND
            b.client_no = a.client_no AND
            b.engagement_no = a.engagement_no
        GROUP BY
            b.client_no,
            b.engagement_no
    )
); 
```

现在，如果我用 a 替换第一个 select 中的字段`COUNT(1)`，我会得到两个查询完全相同的行数，所以这是一个好的开始。新查询获取数据的速度与计数一样快，< 10 秒。旧查询在约 20 秒内获得计数，正如我之前提到的，数据需要接近 6-7 小时。它目前正在运行，以便我可以进行某种分析以查看新查询是否有效，但我想我也会在这里问一下，看看我是否有任何明显的错误？

**编辑**还删除了最外面的查询，它似乎没有实现任何目的，除了可能使查询看起来更酷..或其他什么..我不知道..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T12:27:56.780

扩展我的评论......如果我尝试使用内置视图复制您的查询结构，它也会运行很长时间。例如，为每个所有者获取最近创建的表（纯粹出于演示目的，可以更简单地完成）像这样需要几分钟，无论是哪个版本：

```
SELECT
    owner,
    object_name
FROM
    all_objects a
WHERE
    (a.owner, a.object_type, TRUNC(a.created)) = (
        SELECT
            b.owner, b.object_type, TRUNC(MAX(b.created))
        FROM
            all_objects b
            JOIN all_tables e
                ON e.owner = b.owner and e.table_name = b.object_name
            JOIN all_users c
                ON c.username = b.owner
        WHERE
            b.owner = a.owner AND
            b.object_type = a.object_type
        GROUP BY
            b.owner,
            b.object_type
    ); 
```

如果我改写它以避免使用[分析函数](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions004.htm)来避免自加入`all_objects`（相当于您的示例） ：`some_view`

```
SELECT
    owner,
    object_name
FROM (
    SELECT
        a.owner,
        a.object_name,
        row_number() over (partition by a.owner, a.object_type
            order by a.created desc) as rn
    FROM
        all_objects a
        JOIN all_tables e
            ON e.owner = a.owner and e.table_name = a.object_name
        JOIN all_users c
            ON c.username = a.owner
    )
WHERE
    rn = 1; 
```

...然后需要几秒钟。

现在，在这种情况下，我没有得到完全相同的输出，因为我同时创建了多个对象（就目前`created`而言，在同一秒内）。

我当然不知道您存储的值的精度`registered_date`。因此，您可能需要查看不同的函数，可能[`rank`](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions141.htm)而不是[`row_number`](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions156.htm)，或者在必要时调整排序以处理关系。

```
 rank() over (partition by a.owner, a.object_type
            order by trunc(a.created) desc) as rn
...
WHERE
    rn = 1; 
```

给了我相同的结果（好吧，几乎；加入`all_tables`也歪曲了事情，因为我似乎列出了`all_objects`不在 中的表`all_tables`，但这是一个附带问题）。或者[`max`](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions098.htm)也可以工作：

```
 max(created) over (partition by a.owner, a.object_type) as mx
...
WHERE
    TRUNC(created) = TRUNC(mx) 
```

在我`trunc`用来在同一天得到所有东西的这两个中；`registered_date`如果您没有时间组件，您可能不需要。

但是，当然，请检查您是否确实得到了相同的结果。

# intellij-idea - IntelliJ 中是否有办法对方法进行使用搜索并通过传递给该方法的特定参数对其进行过滤？

> ID：12972270
> 
> 赞同：4
> 
> 时间：2012-10-19T10:24:09.997
> 
> 标签：intellij-idea, refactoring, structural-search

我的 Service 类中有一个方法，它为任何域对象执行休眠更新：

```
update(Object obj) 
```

它是从我项目中的许多类中调用的，用于不同类型的对象。当为特定域对象调用此方法时，我想找到它的所有用法。即调用方法调用至极执行我的标题对象的更新：

```
serviceClass.update(Title title) 
```

我使用 IntelliJ 作为我的 IDE，我想知道是否有办法找到所有这些用法。有没有人有一个想法如何做到这一点？

非常感谢，罗尼

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T14:50:07.390

我已经用一个小示例项目进行了尝试，并且能够使用带有修改后的模板的[结构搜索和替换功能来实现所需的行为：](http://wiki.jetbrains.net/intellij/Basics_of_working_with_structural_search)`method calls`

![在此处输入图像描述](../Images/2af41a3ddcd188f98e5d7f5730a52da2.png)

`$MethodCall$` **文本约束**，**文本/正则表达式**应设置为，`update`以便忽略具有其他名称的方法。`$Parameter$` **出现次数**，**最小次数**应设置`1`为忽略没有或更多参数的方法调用。

结果：

![结果](../Images/b3e743492d37ab236a107af01cd96f1f.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T19:51:27.253

如果您对为给定方法提供特定输入的调用链感兴趣，请尝试*分析-> 数据流到此处*命令。

这使您可以查看通过哪些调用链传入了哪些值。例如，*空*值可能来自哪里。

非常强大的功能，真的。

# ios - Xamarin AppDelegate 在初始化好的 Dynamics 时未实现 UIApplicationDelegate

> ID：12972272
> 
> 赞同：1
> 
> 时间：2012-10-19T10:24:17.183
> 
> 标签：ios, xamarin.ios, xamarin, good-dynamics

我正在尝试为 Good Dynamics 创建一个绑定，以便它可以在 Xamarin 中使用。我终于把它弄到了可以构建的地步，但是在尝试初始化 Good Dynamics 时会发生以下错误；

```
MonoTouch.Foundation.MonoTouchException: Objective-C exception thrown.  Name: NSInternalInconsisenter code heretencyException Reason: AppDelegate does not implement UIApplicationDelegate. Check that the class is correct and it conforms to this protocol.
  at (wrapper managed-to-native) MonoTouch.ObjCRuntime.Messaging:void_objc_msgSend_IntPtr (intptr,intptr,intptr)
  at GDBinding.GDiOS.InitializeWithClassConformingToUIApplicationDelegate (MonoTouch.ObjCRuntime.Class applicationDelegate) [0x00000] in <filename unknown>:0
  at GDTest.Application.Main (System.String[] args) [0x00006] in /Users/gareth/GDTest/GDTest/Main.cs:20 
```

Main.cs 的第 20 行是

```
GDiOS.InitializeWithClassConformingToUIApplicationDelegate(new MonoTouch.ObjCRuntime.Class(typeof(AppDelegate))); 
```

我尝试让 AppDelegate 扩展 UIApplicationDelegate 并扩展 GDiOSDelegate，它具有 UIApplicationDelegate 的基本类型，结果相同。

```
namespace GDBinding
{
    [BaseType (typeof (NSObject), Delegates = new string[] {"WeakDelegate"}, Events = new Type[] {typeof(GDiOSDelegate)})]
    interface GDiOS {

    [Export ("delegate", ArgumentSemantic.Assign)]
    NSObject WeakDelegate { get; set;  }

    [Wrap("WeakDelegate")]
    [NullAllowed]
    GDiOSDelegate Delegate { get; set; }

    //+ (void)initializeWithClassNameConformingToUIApplicationDelegate:(NSString*)applicationDelegate;
    [Static, Export ("initializeWithClassNameConformingToUIApplicationDelegate:")]
    void InitializeWithClassNameConformingToUIApplicationDelegate (string applicationDelegate);

    //+ (void)initialiseWithClassConformingToUIApplicationDelegate:(Class)applicationDelegate;
    [Static, Export ("initializeWithClassConformingToUIApplicationDelegate:")]
    void InitializeWithClassConformingToUIApplicationDelegate (Class applicationDelegate);

    //+ (BOOL)isInitialized;
    [Static, Export ("isInitialized")]
    bool IsInitialized();

    //+ (GDiOS*)sharedInstance;
    [Static, Export ("sharedInstance")]
    GDiOS SharedInstance();

    //- (UIWindow*)getWindow;
    [Export ("getWindow")]
    UIWindow GetWindow();

}

[BaseType(typeof(UIApplicationDelegate))]
interface GDiOSDelegate {
    [Abstract, Export("handleEvent:")]
    void HandleEvent(GDAppEvent anEvent);
}

[BaseType(typeof(NSObject))]
interface GDAppEvent {
    [Export("message")]
    string Message { get; set; }

    [Export("code")]
    GDAppResultCode Code { get; set; }

    [Export("type")]
    GDAppEventType EventType { get; set; }
    }
} 
```

代码位于[https://github.com/garethrhughes/GDTest](https://github.com/garethrhughes/GDTest)

我认为问题可能与将 monotouch AppDelegate 传递到本机库有关。

有任何想法吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-10-10T16:34:26.430

我知道这是一个旧线程，但我和一位同事刚刚使用 GOOD 的 SDK (v1.8.x) 的较新版本完成了这个过程，并且能够让它工作。[我们在这里](http://blog.westmonroepartners.com/using-good-dynamics-sdk-v1-8-x-with-xamarin-ios/)发布了一篇关于它的文章，其中还包含一个示例项目的链接。

# ruby-on-rails - 具有相同角色的用户如何访问具有不同权限的不同帖子？

> ID：12972280
> 
> 赞同：1
> 
> 时间：2012-10-19T10:24:47.197
> 
> 标签：ruby-on-rails, ruby-on-rails-3, authorization, roles, access-control

我使用设计进行身份验证，并为每个用户分配了一个角色。我还有一个`posts`包含帖子数量的模型。我想限制该角色的一个用户`employee`查看特定帖子，并限制同一用户查看和创建不同的帖子。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-10T14:51:57.317

我意识到我在这里的战斗迟到了。

您正在寻找的是基于角色的访问控制的扩展。RBAC 不能很好地满足您的方案。您需要考虑基于属性的访问控制。CanCan 和 Devise 是两个特定于语言的框架，用于解决基于属性的访问控制。

如果您想要更广泛、更通用的 ABAC 解决方案，请考虑 XACML，即可扩展访问控制标记语言，它是 OASIS 定义的标准，与 SAML 非常相似。

XACML 为您提供：

*   基于属性的访问控制：属性可以用来描述几乎任何东西（用户、对象、资源、上下文、时间、动作……）。
*   基于策略的访问控制：策略汇集属性来定义授权。例如*，员工可以查看同一团队中员工的帖子，并可以编辑他们拥有的帖子*。
*   细粒度访问：可以定义非常具体和细粒度的授权策略
*   支持职责分离
*   独立于语言的授权：它适用于 Java、.NET、Ruby、Python 等...
*   集中策略管理

以下是一些有趣的资源，可以了解更多信息：

*   NIST [RBAC](http://csrc.nist.gov/groups/SNS/rbac/)模型
*   NIST [ABAC](http://csrc.nist.gov/projects/abac/)模型
*   OASIS [XACML](https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=xacml)网站

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T19:30:50.097

查看本教程，它指定了定义逻辑来控制用户活动的能力

[https://github.com/EppO/rolify/wiki/Using-rolify-with-Devise-and-Authority](https://github.com/EppO/rolify/wiki/Using-rolify-with-Devise-and-Authority)

# iphone - 简单的 Objective-C 概念

> ID：12972284
> 
> 赞同：-4
> 
> 时间：2012-10-19T10:24:56.263
> 
> 标签：iphone, objective-c, ios

我只是想知道这种奇怪的行为当我声明`NSString *temp`in .h 文件并在`viewDidLoad`方法中尝试打印它时`NSLog(@"%@,temp")`，它向我显示 null velue 但是当我在`NSLog(@"%@",temp)`我的应用程序崩溃之前声明这个变量说访问不正确时，谁能给我解释一下？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:28:31.177

声明为实例变量的变量默认设置为 0，但局部变量不是，即它们通常包含无效的数据/指针。访问它们时，您会遇到崩溃。

编辑：您可以尝试使用 int 值 - 它们不会崩溃但会显示它们的值。或者转储对象的指针值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:31:08.897

如果您将 NSString 声明为 ivar，则默认情况下它将具有 nil 值。所以`NSLog(@"%@", temp)`会显示为空。但是局部变量没有得到任何默认初始值，而是包含垃圾值。因此，在这种情况下`NSLog(@"%@", temp)`，尝试访问无效地址，从而发生错误访问。您可以在调试器中检查这一点。ivar 将显示 nil 但本地字符串将显示垃圾值。

编辑： ivar 表示类的实例成员变量。`@interface`您在块中声明这些变量。它们与在任何类和方法之外声明的全局变量不同。全局变量可以从代码的任何地方访问，但实例变量可以在类内部访问（当然，除非您已经定义了 setter/getter）。关于崩溃的事情是，如果您尝试访问不属于程序的任何内存，那么它将崩溃。未初始化的变量包含垃圾值。

```
NSString *str; 
```

考虑这个未初始化`str`的 . 说它包含垃圾值`0x130154d0`。因此，当您编写`NSLog(@"%@", str)`它时，它会尝试访问对`0x130154d0`程序无效并会崩溃的对象。

如果将此变量声明为类 (ivar) 的实例成员变量，则编译器已将其初始化为`nil`. 在这种情况下，您将看到`null`而不是崩溃。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T10:31:42.523

之所以会发生这种情况，是因为 ivars 默认根据它们的类型初始化为 0 = nil = NULL。自动地。另一边的局部变量需要先初始化。

我想，你是这样做的。

```
 NSString* myName;
  //in this case it'll give the warning VARIABLE "myName" IS UNINITIALIZED WHEN USED HERE.
  NSLog(@"%@",myName) 
```

当您分配某些`nil`或任何其他值时，它不会崩溃。所以你应该这样做。

```
 NSString* myName= nil;
  NSLog(@"%@",myName); 
```

我希望它能清除你。

# php - 我如何在我的应用程序中使用 json？

> ID：12972285
> 
> 赞同：2
> 
> 时间：2012-10-19T10:25:08.897
> 
> 标签：php, android, json, phpmyadmin

我为具有登录页面的用户创建了一个项目。我需要使用带有 PHP 的 JSON 登录到应用程序。

```
public class login extends Activity {
    EditText e1, e2;
    Button bt1, bt2;
    String s1, s2, Authendication;
    String S1,S2,u1[],p1[];
    String Uname;
    int i=0,j=0;
    Resources res;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.login);
            e1 = (EditText) findViewById(R.id.userName);
            e2 = (EditText) findViewById(R.id.pwd);
            bt1 = (Button) findViewById(R.id.btLogin);
            bt2 = (Button) findViewById(R.id.btExit);
            res = getResources();

            DBConnect dc=new DBConnect(this);
            try {
                    SQLiteDatabase sqdb = db.getReadableDatabase();
                    Cursor c = sqdb.rawQuery("select UserID,password from User", null);
                     if (c != null) {
                        if (c.moveToFirst()) {
                            do {
                            S1=S1+","+c.getString(c.getColumnIndex("UserID"));
                            S2=S2+","+c.getString(c.getColumnIndex("password"));
                            i++;
                            } while (c.moveToNext());
                        }
                    }
                } catch (Exception e) {
            Toast.makeText(login.this, e.toString(), Toast.LENGTH_LONG).show();
    }
    bt1.setOnClickListener(new OnClickListener() {
        public void onClick(View arg0) {
            // TODO Auto-generated method stub
            int s = 0;
            String regex = "(,)"; 
            u1 = S1.split(regex);
            p1 = S2.split(regex);
            s1 = e1.getText().toString();
            s2 = e2.getText().toString();
            for (j = 0; j <= i; j++)
            {
                if((s1.equals(u1[j])) && (s2.equals(p1[j])))
                {
                    s=1;
                    Toast.makeText(login.this, "Login Successfully",
                            Toast.LENGTH_LONG).show();
                    Intent i1 = new Intent("My Next Screen");
                    startActivity(i1);
                }
            }   
            if(s == 0){ 
                    Toast.makeText(login.this, "Login fail",
                        Toast.LENGTH_LONG).show();
                }

        }
    });
    bt2.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {
            // TODO Auto-generated method stub
            e2.setText("");
            finish();
        }
    });
}
} 
```

我的 Xml 文件有 2 个编辑框和 2 个按钮。我可以使用带有 JSON 的 PHP for Server Database 执行这些选项吗？

帮助我实现这一目标。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:32:08.467

是的你可以 ！有几个教程可用。首先，您必须在项目中创建一个 json 解析器。这将处理json。我已经[在这里](https://stackoverflow.com/questions/12947772/android-php-connection-through-java/12947974#comment17561026_12947974)解决了。请看一看。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:37:50.550

使用以下方法进行编码..

```
 DefaultHttpClient httpClient = new DefaultHttpClient();
 HttpPost httpPost = new HttpPost(url);
 httpPost.setEntity(new UrlEncodedFormEntity(params));
 HttpResponse httpResponse = httpClient.execute(httpPost);
 HttpEntity httpEntity = httpResponse.getEntity(); 
```

并使用以下链接也..

[通过Java连接Android PHP](https://stackoverflow.com/questions/12947772/android-php-connection-through-java/12947974#comment17561026_12947974)

# google-app-engine - 由于错误，无法从 Appengine Datastore 中删除数据：“API 调用 datastore_v3.Put() 需要的配额超过可用配额”

> ID：12972289
> 
> 赞同：1
> 
> 时间：2012-10-19T10:25:19.337
> 
> 标签：google-app-engine

Google Appengine 应用程序已达到有关 Datastore 存储数据的免费资源限制。（所有其他配额都可以）。因此，我试图从数据存储中删除数据（在[数据存储管理员页面上](https://appengine.google.com/datastore/admin)）。

唯一的问题是，我无法删除数据，因为我收到此错误：

```
Delete Job Status
There was a problem kicking off the jobs. The error was:
The API call datastore_v3.Put() required more quota than is available. 
```

如何摆脱这个恶性循环？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:52:42.423

您需要等到当前计费日结束才能重置数据存储操作配额，并且您将能够删除实体。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-29T07:06:49.340

如果您在启用结算后收到此错误，则需要设置每日预算。看看这个答案：[https ://stackoverflow.com/a/31693372/1942593](https://stackoverflow.com/a/31693372/1942593)

# html - 如果使用 courier 字体，则反斜杠在 Windows 7 的 IE9 中呈现为黄符号 (₩)

> ID：12972290
> 
> 赞同：2
> 
> 时间：2012-10-19T10:25:22.057
> 
> 标签：html, windows, fonts, internet-explorer-9

我正面临这个问题，

如果在 Windows 7 下的 IE9 中打开，如果使用 courier 字体，则在我的预格式化 html 块`\`中呈现为 wong 符号₩。如果我设置 Tahoma，例如，没关系。在 chrome 中，即使设置了 courier，符号也会呈现为反斜杠。

如何解决？

编辑：重现此的代码：

```
<html><head>
<style>
            pre {
              margin-top: 10px;
              padding-left: 7px;
              padding-top: 5px;
              margin-left: 50px;
              font-family: courier;
            background-color:#ddd;
            }
        </style></head><body>
<pre>
Can\'t
</pre> 
</body></html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T14:51:15.153

我无法在我的 Win 7 上重现该问题，所以我仍然怀疑原因是您的系统有一个名为“Courier”的实际字体（普通的 Windows 7 不附带这种字体）。该字体在反斜杠方面被破坏了，或者它只是缺少它并且浏览器从另一种字体中拾取该字符。在后一种情况下，该字体可能会损坏。

令人惊讶的是，有很多字体都有“₩”U+20A9 WON SIGN 的字形，它们应该有一个反斜杠的字形。对于其中的原因，外界有一些[猜测。](http://www.velocityreviews.com/forums/t731250-backslash-in-ordinary-text.html)*但关键是，除非*您的浏览器采用备份字体，否则没有理由使用这种字体。在这种情况下，IE 可能已设置为使用例如 Batang Che 作为默认等宽字体——它是存在该问题的字体之一。

在实际方面，几乎不应该使用“Courier”。在具有这种名称的字体的系统中，它通常是一种看起来相当糟糕的位图字体，尤其是在更改字体大小时。请改用“Courier New”。或者更好的东西，比如

```
pre, tt
  { font-family : Consolas, Lucida Console, Courier New, monospace; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T16:36:25.150

正如 Raymond Chen 在评论中指出的那样，浏览器可能猜错了编码。

如果要直接在文件中指定编码，则可以在页面的 head 元素中使用元标记，如下所示：

```
<meta http-equiv="Content-Type" content="text/html; charset=my_encoding_here"> 
```

where`my_encoding_here`实际上是一个字符串，表示您在创建 HTML 时使用的编码。常见的编码是`utf-8`and `ISO-8859-1`，但你应该*弄清楚你的编辑器正在使用哪种编码，并确保你匹配它*。

如果您正在提供这样的页面，那么您可能会选择在您的网络服务器中指定编码，这将在返回页面时将信息放入 HTML 标头中。

# jquery - .find 替换 html 标签内的内容

> ID：12972292
> 
> 赞同：0
> 
> 时间：2012-10-19T10:25:24.867
> 
> 标签：jquery

我想从我的所见即所得中清理 html 标签。我想用另一个替换某些标签。这几乎只适用于 replaceWith() 也从标签中删除内容。我不想这样做。我只想更换标签。这是我到目前为止所拥有的。

测试文本：

```
This<div>is</div><div>a test</div><div>to clean&nbsp;</div><div>some tags</div><div><br></div> 
```

预期结果：

```
This<p>is</p><p>a test</p><p>to clean</p><p>some tags</p><p><br></p> 
```

实际结果：

```
This<p></p><p></p><p></p><p></p><p></p> 
```

这是我用来查找和替换的代码

```
var thebad = ["h1","h2","h3","h4","h5","h6","div"];
        var thegood = ["","","","","","","<p>"];
        for(var i = 0; i < thebad.length; i++){
            $('.content').contents().find('body').find(thebad[i]).replaceWith(thegood[i]);
        } 
```

我需要弄清楚当我替换它们时如何将文本保留在 html 标签内。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:29:48.393

试试这个：

```
$('div').contents().unwrap().wrap('<p />'); 
```

编辑：

```
$('div').replaceWith(function(){ 
    return $("<p />").append($(this).contents()); 
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:04:38.740

```
$("div").replaceWith(function() {
    var $div = $(this);
    return $("<p />")
        //.attr('class', $div.attr('class')) // uncomment if you need to give back same class value
        .html($div.html());
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:07:56.650

试试这个：

```
var text = $("#test").html();
var replace_tags = { "<div>": "<p>", "</div>": "</p>",  "<div ": "<p "}; //edited
$.each( replace_tags, function(i,v){
     text = text.replace(new RegExp(i, 'g'),v);
});
//console.log(text); 
```

测试：

```
<div id='test'>
    <h1>dummy text</h1>
    <div>dummy text</div>
    <h1>dummy text</h1>
    <p>dummy text</p>
    <div>dummy text</div>
</div> 
```

结果：

```
<h1>sadsad</h1>
<p>sadsad</p>
<h1>fsdfsd</h1>
<p>dasdasdasdsad</p>
<p>sadsad</p> 
```

# .net - FirstOrDefault：除 null 以外的默认值

> ID：12972295
> 
> 赞同：173
> 
> 时间：2012-10-19T10:25:35.263
> 
> 标签：.net, linq

据我了解，在 Linq 中，该方法`FirstOrDefault()`可以返回`Default`null 以外的值。我没有弄清楚的是，当查询结果中没有项目时，这个（和类似的）方法可以返回除了 null 之外的什么东西。是否有任何特定的方法可以设置它，以便如果特定查询没有值，则某些预定义值将作为默认值返回？

* * *

## 回答 #1

> 赞同：228
> 
> 时间：2012-10-19T10:30:43.873

> 据我了解，在 Linq 中，方法 FirstOrDefault() 可以返回 null 以外的默认值。

不。或者更确切地说，它*总是*返回元素类型的默认值......它可以是空引用、可空值类型的空值，或者不可空值类型的自然“全零”值。

> 是否有任何特定的方法可以设置它，以便如果特定查询没有值，则某些预定义值将作为默认值返回？

对于引用类型，您可以使用：

```
var result = query.FirstOrDefault() ?? otherDefaultValue; 
```

当然，如果第一个值存在，这也会给你“其他默认值”，但它是一个空引用*......*

* * *

## 回答 #2

> 赞同：81
> 
> 时间：2014-06-03T07:34:06.370

您可以使用[DefaultIfEmpty](http://msdn.microsoft.com/en-us/library/vstudio/bb355419%28v=vs.100%29.aspx)后跟[First](http://msdn.microsoft.com/en-us/library/vstudio/bb291976%28v=vs.100%29.aspx)：

```
T customDefault = ...;
IEnumerable<T> mySequence = ...;
mySequence.DefaultIfEmpty(customDefault).First(); 
```

* * *

## 回答 #3

> 赞同：53
> 
> 时间：2012-10-19T10:34:48.507

一般情况，不仅适用于值类型：

```
static class ExtensionsThatWillAppearOnEverything
{
    public static T IfDefaultGiveMe<T>(this T value, T alternate)
    {
        if (value.Equals(default(T))) return alternate;
        return value;
    }
}

var result = query.FirstOrDefault().IfDefaultGiveMe(otherDefaultValue); 
```

同样，这并不能真正判断您的序列中是否有*任何*内容，或者第一个值是否是默认值。

如果你关心这个，你可以做类似的事情

```
static class ExtensionsThatWillAppearOnIEnumerables
{
    public static T FirstOr<T>(this IEnumerable<T> source, T alternate)
    {
        foreach(T t in source)
            return t;
        return alternate;
    }
} 
```

并用作

```
var result = query.FirstOr(otherDefaultValue); 
```

尽管正如 Steak 先生指出的那样，这也可以由`.DefaultIfEmpty(...).First()`.

* * *

## 回答 #4

> 赞同：20
> 
> 时间：2012-10-19T10:33:46.183

来自[FirstOrDefault的文档](http://msdn.microsoft.com/en-us/library/bb340482.aspx)

> [返回] default(TSource) 如果源为空；

从[default(T)](http://msdn.microsoft.com/en-us/library/xwth0h0d.aspx)的文档中：

> 默认关键字，对于引用类型将返回 null，对于数值类型将返回零。对于结构，它将返回结构的每个成员，根据它们是值类型还是引用类型，初始化为零或空。对于可为空的值类型，默认返回一个 System.Nullable，它像任何结构一样被初始化。

因此，根据类型是引用类型还是值类型，默认值可以为 null 或 0，但您无法控制默认行为。

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2015-01-16T10:51:44.497

从@sloth 的评论中复制过来

代替`YourCollection.FirstOrDefault()`，您可以使用`YourCollection.DefaultIfEmpty(YourDefault).First()`例如。

例子：

```
var viewModel = new CustomerDetailsViewModel
    {
            MainResidenceAddressSection = (MainResidenceAddressSection)addresses.DefaultIfEmpty(new MainResidenceAddressSection()).FirstOrDefault( o => o is MainResidenceAddressSection),
            RiskAddressSection = addresses.DefaultIfEmpty(new RiskAddressSection()).FirstOrDefault(o => !(o is MainResidenceAddressSection)),
    }; 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2015-01-02T20:02:15.603

你也可以这样做

```
 Band[] objects = { new Band { Name = "Iron Maiden" } };
    first = objects.Where(o => o.Name == "Slayer")
        .DefaultIfEmpty(new Band { Name = "Black Sabbath" })
        .FirstOrDefault();   // returns "Black Sabbath" 
```

这仅使用 linq - yipee！

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2017-05-09T19:11:50.820

`NullReferenceException`实际上，当我使用集合时 ，我使用了两种方法来避免：

```
public class Foo
{
    public string Bar{get; set;}
}
void Main()
{
    var list = new List<Foo>();
    //before C# 6.0
    string barCSharp5 = list.DefaultIfEmpty(new Foo()).FirstOrDefault().Bar;
    //C# 6.0 or later
    var barCSharp6 = list.FirstOrDefault()?.Bar;
} 
```

## 对于 C# 6.0 或更高版本：

在执行成员访问之前使用`?.`or测试是否为 null[空条件运算符文档](https://docs.microsoft.com/en-us/dotnet/articles/csharp/language-reference/operators/null-conditional-operators)`?[`

例子： `var barCSharp6 = list.FirstOrDefault()?.Bar;`

## C# 旧版本：

`DefaultIfEmpty()`如果序列为空，则用于检索默认值。[MSDN 文档](https://msdn.microsoft.com/en-us/library/bb360530(v=vs.110).aspx)

例子： `string barCSharp5 = list.DefaultIfEmpty(new Foo()).FirstOrDefault().Bar;`

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2017-04-06T08:53:27.553

代替`YourCollection.FirstOrDefault()`，您可以使用`YourCollection.DefaultIfEmpty(YourDefault).First()`例如。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2017-08-11T07:39:00.020

我刚刚遇到了类似的情况，并且正在寻找一种解决方案，该解决方案允许我在每次需要时都返回替代默认值，而无需在调用方处理它。如果 Linq 不支持我们想要的，我们通常会做的是编写一个新的扩展来处理它。这就是我所做的。这是我想出的（虽然未经测试）：

```
public static class EnumerableExtensions
{
    public static T FirstOrDefault<T>(this IEnumerable<T> items, T defaultValue)
    {
        foreach (var item in items)
        {
            return item;
        }
        return defaultValue;
    }

    public static T FirstOrDefault<T>(this IEnumerable<T> items, Func<T, bool> predicate, T defaultValue)
    {
        return items.Where(predicate).FirstOrDefault(defaultValue);
    }

    public static T LastOrDefault<T>(this IEnumerable<T> items, T defaultValue)
    {
        return items.Reverse().FirstOrDefault(defaultValue);
    }

    public static T LastOrDefault<T>(this IEnumerable<T> items, Func<T, bool> predicate, T defaultValue)
    {
        return items.Where(predicate).LastOrDefault(defaultValue);
    }
} 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2021-06-09T17:28:22.910

这对我们有用

```
int valueOrDefault = myList.Find(x => x.Id == 1)?.Value ?? -1; 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2021-11-19T12:31:55.067

# .NET6 / c#10 解决方案

.NET6 / c#10 通过向 *OrDefault LINQ 方法添加新功能解决了这个问题。新的重载允许您指定在序列为空时使用的默认值。

```
public static TSource FirstOrDefault<TSource> (this System.Collections.Generic.IEnumerable<TSource> source, Func<TSource,bool> predicate, TSource defaultValue); 
```

返回满足条件的序列的第一个元素，如果没有找到这样的元素，则返回指定的默认值。

这是一个例子；

```
var nums = new List<int> { 1, 2, 3 };
var target = 4;

var value = nums.FirstOrDefault(x => x == target, -1); // value becomes -1. 
```

来源：[https](https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.firstordefault?view=net-6.0#System_Linq_Enumerable_FirstOrDefault__1_System_Collections_Generic_IEnumerable___0____0) ://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.firstordefault?view=net-6.0#System_Linq_Enumerable_FirstOrDefault__1_System_Collections_Generic_IEnumerable___0____0 _

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2018-10-31T14:22:11.913

我知道已经有一段时间了，但我会根据最流行的答案添加这一点，但有一点扩展我想分享以下内容：

```
static class ExtensionsThatWillAppearOnIEnumerables
{
    public static T FirstOr<T>(this IEnumerable<T> source, Func<T, bool> predicate, Func<T> alternate)
    {
        var thing = source.FirstOrDefault(predicate);
        if (thing != null)
            return thing;
        return alternate();
    }
} 
```

这允许我用我自己的例子将它称为内联，我遇到了问题：

```
_controlDataResolvers.FirstOr(x => x.AppliesTo(item.Key), () => newDefaultResolver()).GetDataAsync(conn, item.ToList()) 
```

因此，对我来说，我只想内联使用默认解析器，我可以进行通常的检查，然后传入一个函数，这样即使未使用类也不会实例化，而是在需要时执行的函数！

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2021-04-21T11:50:22.633

如果项目列表不是可空类型，请考虑强制转换为可空类型，然后将 firstordefault 和空合并运算符与您想要的任何默认值进行合并。

例子：

```
static class MyClass
{
    public enum Level { Low, Medium, High }

    public static void Dosomething()
    {
        var levels = Enum.GetValues<Level>();

        var myLevel = levels.Select(x => (Level?)x).FirstOrDefault() ?? Level.Medium; // The Default value other than null
    }
} 
```

* * *

## 回答 #14

> 赞同：-1
> 
> 时间：2016-06-16T10:04:27.513

使用`DefaultIfEmpty()`而不是`FirstOrDefault()`.

# iphone - iPhone 和 iPad 之间的身体图像位置

> ID：12972298
> 
> 赞同：0
> 
> 时间：2012-10-19T10:25:41.707
> 
> 标签：iphone, html, ipad

我正在制作一个网站，并且可以在 Mac 和 iPad 上运行。当我在 iPhone 上看到它时，其中一个页面没有正确放置背景图像。我在网站上使用了 2 个背景图片，并且我已经将它的高度设置为 1200 像素左右。当我在 iPhone 上看到同一个页面时，所有的文本都会被包裹起来，使页面变长。我的页脚图像保持在同一位置，并且文本与其重叠。它不应该像 iPad 一样工作，因为我已经将所有文本都包裹在一个 中吗？我注意到问题是图像设置在 body 上，因为它不是 a ，所以它不会跟随文本长度的增加。如何专门为 Mac + iPad 和 iPhone 指定背景图像的高度？

```
body {
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    color:#333;
    background:#000;
    margin: 0px auto;
    background-image:url(images/gradcinza_top.png), url(images/gradcinza_bot.png);
    background-repeat:repeat-x, repeat-x;

    background-position:0px 115px, 0px 950px;

    margin: 0;
    padding: 0;
    border: 0;
    outline: 0;
    font-weight: inherit;
    font-style: inherit;
    font-size: 100%;
    vertical-align: baseline;
    } 
```

在 iPad 和 Mac 上，那些 950px 将页脚图像放在我想要的确切位置。在 iPhone 中，因为我有更少的区域来呈现文本，所以它只会让它变得更长。我需要对网站说些什么，以便在 Mac 和 iPad 上查看背景图像时将其放置在适当的位置，以及为 iPhone 指定新位置的另一个条件。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:54:35.457

阅读一些响应式网页设计指南……为此使用 CSS 媒体查询……

例如：-
[http://www.w3.org/TR/css3-mediaqueries/#media0](http://www.w3.org/TR/css3-mediaqueries/#media0)
[http://www.smashingmagazine.com/responsive-web-design-guidelines-tutorials/](http://www.smashingmagazine.com/responsive-web-design-guidelines-tutorials/)

# asp.net-mvc - 星期几的 MVC 多选控件

> ID：12972300
> 
> 赞同：0
> 
> 时间：2012-10-19T10:25:45.090
> 
> 标签：asp.net-mvc, entity-framework, multi-select, html.listboxfor

我有一个带有 EF 的 ASP.NET MVC 4 项目，我有一个带有字段*ShipmentDay varchar(7)/string 的表**Orders*，我想在一周中的某天将订单保存在数据库中：星期一 1000100和星期五。

 *现在我有一个 ListBox ：

```
@Html.ListBoxFor(model => model.ShipmentDay, new MultiSelectList(ViewBag.ShipmentDay))

List<string> lbSDay = new List<string>();
ZileLiv.Add("Monday"); ...

public ActionResult Create()
{
    ViewBag.lbSDay = lbSDay ;
    return View();
} 
```

**问：**如何制作自定义多选控件来选择星期几？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:16:15.400

我将首先摆脱 varchar(7) 并将装运天数存储在一个字节中，其中包含以下工作日值...

```
private const byte MONDAY = 1;
private const byte TUESDAY = 2;
...
private const byte SUNDAY = 64; 
```

创建一个 html 辅助扩展方法以使用这些值构建多选

给予，例如

```
<select multiple>
    <option value=1>Monday</option>
    ...
    <option value=64>Sunday</option>
</select> 
```

计算是否应该使用类似的方式选择该选项

```
bool checked = ((byte)(shipDays & MONDAY) == MONDAY); 
```*

# javascript - 在 HTML 中查找注释

> ID：12972302
> 
> 赞同：8
> 
> 时间：2012-10-19T10:25:45.357
> 
> 标签：javascript, html, perl, comments

我有一个 HTML 文件，其中可能有 Javascript、PHP 以及人们可能会或可能不会放入他们的 HTML 文件的所有这些东西。

我想从这个 html 文件中提取所有评论。

我可以指出这样做的两个问题：

1.  一种语言的评论可能不是另一种语言的评论。

2.  `//`在 Javascript 中，使用标记将其余行注释掉。但是 URL 也包含`//`在其中，因此如果我只应用替换`//`，然后应用该行的其余部分，我很可能会删除部分 URL，什么都没有。

所以这不是一个小问题。

是否有任何解决方案已经可用？

有人已经这样做了吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T15:04:10.893

问题 2：当你用任何一种语言编写它时，不是每个 url 都被引用，用“www.url.com”或“www.url.com”吗？我不确定。如果是这种情况，那么您要做的就是解析代码并检查反斜杠之前是否有任何引号，以了解它是真正的 url 还是只是评论。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T15:15:20.213

查看像 ANTLR 这样的解析器生成器，它具有[多种语言](http://www.antlr.org/grammar/list)的语法，并编写一个嵌套解析器来可靠地查找注释。如果准确性很重要，正则表达式不会对您有所帮助。即便如此，它也不会是 100% 准确的。

考虑

问题 3，一种语言的评论并不总是一种语言的评论。

```
<textarea><!-- not a comment --></textarea>
<script>var re = /[/*]not a comment[*/]/, str = "//not a comment";</script> 
```

问题 4，嵌入在语言中的注释可能显然不是注释。

```
<button onclick="&#47;&#47; this is a comment//&#10;notAComment()"> 
```

问题5，什么是注释可能取决于浏览器是如何配置的。

```
<noscript><!-- </noscript> Whether this is a comment depends on whether JS is turned on -->
<!--[if IE 8]>This is a comment, except on IE 8<![endif]--> 
```

* * *

我必须为上下文模板系统部分解决这个问题，该系统从源代码中删除注释以防止泄漏软件实现细节。

[https://github.com/mikesamuel/html-contextual-autoescaper-java/blob/master/src/tests/com/google/autoesc/HTMLEscapingWriterTest.java#L1146](https://github.com/mikesamuel/html-contextual-autoescaper-java/blob/master/src/tests/com/google/autoesc/HTMLEscapingWriterTest.java#L1146)显示了一个测试用例，其中在 JavaScript 中标识了注释，稍后测试用例显示在 CSS 和 HTML 中标识的注释。您也许可以调整该代码以查找注释。它不会处理 PHP 代码部分中的注释。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T12:34:09.603

从您的话看来，您正在考虑一些基于正则表达式的方法：在整个文件上这样做很痛苦，尝试使用一些工具突出显示或丢弃有趣或无趣的文本，然后处理剩下的内容根据保留/丢弃标准您的筛子。看看 HTML::Tree 和 TreeBuilder，它对处理 HTML 标记可能非常有用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-21T21:40:29.927

我会将 HTML 文件转换为字符数组并解析它。当您向前移动并跳过或删除这些段时，您可以检测到诸如“<”、“--”、“www”、“http”之类的关键字符串。

必须正确识别开始/结束索引，这是一个挑战，但您将拥有全部权力。

如果性能不是问题，还有其他方法可以简化流程。例如，可以使用 XML::Twig 抓取所有标签，并且可以解析字符串以检测 JS 注释。

# lucene - Elasticsearch 多索引性能

> ID：12972304
> 
> 赞同：1
> 
> 时间：2012-10-19T10:25:53.640
> 
> 标签：lucene, indexing, elasticsearch

我正在考虑在拥有大量记录[`multi-index`](http://www.elasticsearch.org/guide/reference/api/multi-index.html)的集群中从一个索引转移到基于天的索引 ( ) 。`Elasticsearch`

实际的问题是它如何影响 ES 集群中的索引、搜索和映射的性能？

搜索一个巨大的索引比搜索数百个大索引需要更多时间吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T21:18:42.890

搜索一个大型索引而不是数百个较小的索引将花费更少的时间。

如果您主要只搜索一个已分解的索引，那么以这种方式分解索引可能有助于提高性能。就您而言，如果您最常需要搜索在特定日期添加的记录，那么在性能方面您可能会有所帮助。如果您主要在整个索引范围内进行搜索，通常最好在单个整体索引中进行搜索。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T09:36:23.863

最后，我们`ES`在我们公司实施了多索引。对于我们的应用程序，我们选择了每月索引策略，因此我们每个月都会创建一个新索引。

当然，正如@femtoRgon 所建议的那样，搜索所有较小的索引需要更多的时间，但由于其逻辑，应用程序的速度已经提高。

所以，我对所有想要从一个索引转向多个索引的人的建议是：**研究您的应用程序需求**并选择整个索引的适当部分（如果确实需要）。

*例如*，我可以分享一些我们应用程序的研究结果，这有助于我们决定使用月度指数：

*   我们 90-95% 的查询仅针对过去 3 个月
*   我们有大约 4 大组查询：今天、上周、上个月和最近 3 个月（当然，我们可以创建每周或每日索引，但它们太小了，因为我们里面没有足够的文档）
*   如果他在整个期间（所有索引）进行“非常规”查询，我们可以向客户解释为什么他需要等待。

# c# - 亚马逊 MWS 获取产品价格 .NET 库 C#

> ID：12972305
> 
> 赞同：4
> 
> 时间：2012-10-19T10:25:55.110
> 
> 标签：c#, .net, amazon-mws

我想知道是否有人有亚马逊 MWS .NET 库的工作示例。一个亚马逊只指向本地 XML 文件，并没有在他们的文档中提供太多细节。以下是我试图从 MWS 服务中检索的内容。

最低二手价、最低新价、销售排名、其他类别的任何销售排名、标题、图片网址、亚马逊回购价格、第三方卖家数量、商品重量。

在这一点上，任何帮助都会很好。我已经为此工作了两天，但没有得到任何地方。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-04T01:59:53.010

我想通了，如果你想知道它是如何工作的，我已经在 github 上发布了一些代码。[https://github.com/nyneaxis/Amazon_MWS](https://github.com/nyneaxis/Amazon_MWS)您将需要自己的亚马逊密钥。

# security - 使用 Google AppEngine Urlfetch 代替 urllib2

> ID：12972306
> 
> 赞同：4
> 
> 时间：2012-10-19T10:25:56.217
> 
> 标签：security, google-app-engine, urllib2, choice, urlfetch

`urlfetch`Google over the python lib 和有什么区别`urllib2`？

当我遇到谷歌时，`urlfetch`我想也许有安全原因。也许谷歌在恶意网址或其他方面更安全？

我有什么理由选择 Google's `urlfetch`over`urllib2`吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-19T18:01:23.077

请注意，在 GAE urllib 中，urllib2 和 httplib 只是 UrlFetch 的包装器（请参阅[Fetching urls in Python](https://developers.google.com/appengine/docs/python/urlfetch/overview#Fetching_URLs_in_Python)）。

urlfetch 模块的一个不同之处在于它为您提供了一个用于发出[异步请求](https://developers.google.com/appengine/docs/python/urlfetch/asynchronousrequests)的接口。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-19T14:28:14.413

我不为谷歌工作，所以这只是我读过的各种 GAE 帖子的猜测。App Engine 实例并不直接面向互联网，而是隐藏在 Google 基础设施层的后面。当浏览器发出 HTTP 请求时，它不会直接访问您的实例，而是访问 Google 边缘服务器，最终将请求路由到 GAE 实例。

同样，当发出 HTTP 请求时，您的实例不只是打开一个套接字（urllib2 通常会这样做），而是将 HTTP 请求发送到其他发出 HTTP 请求的 Google 边缘服务器。在 GAE 上使用 urllib2 将使用在 urlfetch 之上运行的 GAE 特定版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:09:46.937

在 App Engine 中使用标准库没有问题。Url Fetch Api 只是一个使 HTTP 请求比 urllib2 更“容易”的服务。对于 Python 新手来说，它更不稳定，例如，您可以轻松地使用非阻塞请求。

我建议您在这里阅读一些补充信息：[https ://developers.google.com/appengine/docs/python/urlfetch/overview](https://developers.google.com/appengine/docs/python/urlfetch/overview)

*如果谷歌在 Python 标准库上发现了一些安全问题。我想它会发送修复程序；）*

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2012-10-19T15:49:41.230

不同的是：urlfetch只有函数接口，urllib和httplib有OO接口。OO 接口可能非常有用。我在 oauth2 客户端库中看到了一个很好的示例，其中将请求实例传递给客户端库以检查令牌是否有效和授权。

# iphone - cocos2D中图片的异步下载

> ID：12972307
> 
> 赞同：1
> 
> 时间：2012-10-19T10:25:59.333
> 
> 标签：iphone, asynchronous, cocos2d-iphone, ios6

我使用了 CCSprite 并使用该函数提供了项目中存在的图像`spriteWithFile`。现在我想从服务器下载图像并将其加载到 cocos2D 游戏场景中的 CCSprite 上。有什么好的选择。请建议。

我正在使用此代码，但它不起作用：

```
NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://50.62.138.228:6026/1370user.jpg"]]];
    NSURLResponse *response;
    NSError *error;
    NSData *responseData = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];
    CCTexture2D *texture = [[CCTexture2D alloc] initWithData:responseData
                                                 pixelFormat:kCCTexture2DPixelFormat_RGBA8888
                                                  pixelsWide:50
                                                  pixelsHigh:50
                                                 contentSize:CGSizeMake(50, 50)];
    sprite_Temp = [CCSprite spriteWithTexture:texture];
    sprite_Temp.position=ccp(432,273);
    [self addChild:sprite_Temp z:5]; 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:38:21.770

顺序是：

```
 CCImage::initWithImageData(void* pData, int nDataLen, ...)
 CCTexture2D::initWithImage(CCImage* uiImage);
 CCSprite::initWithTexture(CCTexture2D* pTexture); 
```

或在 iPhone 中

从任何 url 获取数据

```
 NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://sdufhs.com/img.png"]]];

NSURLResponse *response;
NSError *error;
NSData *responseData = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];

NSString *strResponse = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding]; 
```

你可以以数据的形式获取数据...

```
 NSData *imgData = UIImagePNGRepresentation(image);

 CCTexture2D *texture = [[CCTexture2D alloc] initWithData:imgData
                                      pixelFormat:kTexture2DPixelFormat_RGBA8888
                                      pixelsWide:width2
                                      pixelsHigh:height2
                                     contentSize:size];

   CCSprite *sgfd = [CCSprite spriteWithTexture:texture]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T16:27:01.003

查看我[关于使用 Cocos2D 创建网络摄像头查看器的教程](http://www.learn-cocos2d.com/2012/01/download-modified-files-web-server-cocos2d-webcam-viewer/)。文章的第二部分解释了异步图像下载以加快速度。示例项目可通过 MIT 许可证免费下载。

# python - 关于for循环数学的基本python函数

> ID：12972314
> 
> 赞同：-1
> 
> 时间：2012-10-19T10:26:38.900
> 
> 标签：python, string

我正在制作一个刽子手游戏并尝试创建一个函数来执行以下操作；

```
calculate_points(current_score,num_of_letter,letter_type): 
```

现在当前分数=你有多少分。您通过猜测正确的辅音来获得分数，这是字符串中每个字母 +1 分（例如：'apples'，a^^les 并且有人猜到 p，那将是 +2 分，它是辅音，但元音是相同的形式相反，您每个字母都会失去 -1 分。

```
CONSONANTS = 'bcdfghjklmnpqrstvwxyz'
VOWELS = 'aeiou' 
```

字母类型可以是“C”或“c”表示辅音，“V”或“v”表示元音。当前分数从 0 开始，因此 current_score = 0，用户从 0 开始输入自己的分数。

那么例子：

```
calculate_points(2,3,'C') (had 2 points, guessed 3 correct letters that are consonants so + 1 point per correct guess) 2+ 3=5
5
calculate_points(3,2,'V') (had 3 points, guessed 2 correct letters that are vowels so that is (-1) points per correct guess, so 3-2 =1 
1 
```

目前的尝试：

```
def calculate_score(current_score,num_of_letter,letter_type):

    new_score = 0

    for i in range(0,len(CONSONTANTS)):
       if CONSONANTS[i] == letter_type:
           new_score = current_score + (num_of_letter*1)
    for i in range(0,len(VOWELS)):
       if VOWELS[i] == letter_type:
           new_score = current_score + (num_of_letter*(-1))
    return new_score 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:34:39.183

给定您想要的功能，您无需查看辅音和元音，这是一个简单的示例：

```
>>> def calculate_score(current_score, num_of_letter, letter_type):
    sign = 1 if letter_type == 'C' else -1
    return current_score + sign * num_of_letter

>>> calculate_score(2,3,'C')
5
>>> calculate_score(3,2,'V')
1 
```

# navigation - 如何在 zf2 中设置 2 个导航？

> ID：12972316
> 
> 赞同：11
> 
> 时间：2012-10-19T10:26:56.573
> 
> 标签：navigation, config, zend-framework2

我有一个主导航[链接](http://pastie.org/5083400)的配置，第二个只有 1 个[链接](http://pastie.org/5083402)。主导航工作正常，但是当我尝试在模块中设置*第二个*导航栏时，如下所示：

```
$config = $e->getApplication()->getServiceManager()->get('config');
$navigation = new \Zend\Navigation\Navigation($config['navigation_footer']);
$e->getApplication()->getServiceManager()
    ->setService('new_navigation', $navigation);` 
```

在视图中渲染它时出现错误：

> 致命错误：Zend\Navigation\Exception\DomainException: Zend\Navigation\Page\Mvc::getHref 无法执行，因为 /home/cawa/www/sp-app/vendor/zendframework 中没有 Zend\Mvc\Router\RouteStackInterface 实例/zendframework/library/Zend/View/Helper/Navigation/AbstractHelper.php 在第 471 行

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2012-10-19T11:57:54.210

问题是缺少路由器（或更准确地说，是 a `Zend\Mvc\Router\RouteStackInterface`）。路由堆栈是路由的集合，可以使用路由名称将其转换为 url。基本上它接受一个路由名称并为您创建一个 url：

```
$url = $routeStack->assemble('my/route'); 
```

这也发生在 MVC 页面内部`Zend\Navigation`。该页面有一个`route`参数，当有可用的路由器时，该页面将组装它自己的 url（或`Zend\Navigation`术语，一个`href`）。如果您不提供路由器，则它无法组装路由并因此引发异常。

您必须在导航的每个页面中注入路由器：

```
$navigation = new Navigation($config);
$router     = $serviceLocator->get('router');

function injectRouter($navigation, $router) {
  foreach ($navigation->getPages() as $page) {
    if ($page instanceof MvcPage) {
      $page->setRouter($router);
    }

    if ($page->hasPages()) {
      injectRouter($page, $router);
    }
  }
} 
```

如您所见，它是一个递归函数，将路由器注入每个页面。乏味！因此，有一家工厂可以为您做这件事。有**四个简单的步骤**可以做到这一点。

**第一步**

首先将导航配置放入您的模块配置中。就像您有`default`导航一样，您可以创建第二个导航`secondary`。

```
'navigation' => array(
    'secondary' => array(
        'page-1' => array(
            'label' => 'First page',
            'route' => 'route-1'
        ),
        'page-2' => array(
            'label' => 'Second page',
            'route' => 'route-2'
        ),
    ),
), 
```

您有通往第一页 ( `route-1`) 和第二页 ( `route-2`) 的路线。

**第二步**

工厂会将其转换为导航对象结构，您需要先为此创建一个类。`SecondaryNavigationFactory.php`在 MyModule/Navigation/Service 目录中创建一个文件。

```
namespace MyModule\Navigation\Service;

use Zend\Navigation\Service\DefaultNavigationFactory;

class SecondaryNavigationFactory extends DefaultNavigationFactory
{
    protected function getName()
    {
        return 'secondary';
    }
} 
```

看我把名字放在`secondary`这里，和你的导航键一样。

**第三步**

您必须将此工厂注册到服务管理器。然后工厂可以完成它的工作并将配置文件变成一个`Zend\Navigation`对象。您可以在 module.config.php 中执行此操作：

```
'service_manager' => array(
    'factories' => array(
        'secondary_navigation' => 'MyModule\Navigation\Service\SecondaryNavigationFactory'
    ),
) 
```

看我在`secondary_navigation`这里做了一个服务，`Zend\Navigation`然后工厂将返回一个实例。如果你现在这样做`$sm->get('secondary_navigation')`，你会看到那是一个`Zend\Navigation\Navigation`对象。

**第四步**

告诉视图助手使用这个导航而不是默认导航。导航视图助手接受一个“导航”参数，您可以在其中声明您想要的导航。在这种情况下，服务管理器有一项服务`secondary_navigation`，这就是我们需要的服务。

```
<?= $this->navigation('secondary_navigation')->menu() ?> 
```

现在您将拥有`secondary`此视图助手中使用的导航。

# c++ - 依靠枚举 C++ 自动

> ID：12972317
> 
> 赞同：3
> 
> 时间：2012-10-19T10:26:59.863
> 
> 标签：c++, enums, count

我在用 C++ 编写枚举时遇到了一种模式。它是这样的：

```
class Player
{
public:
    class State
    {
    public:
        typedef enum
        {
            Stopped, 
            Playing, 
            Paused
        }PossibleValues;  

        static const int Count() {return Paused+1;};
        static const PossibleValues Default() {return Stopped;};
    };

    //...
} 
```

这解决了枚举的一些常见问题，例如外部命名空间的污染等。但仍有一件事我不喜欢：Count() 是手动完成的。我知道的方法只有两种：这个是从 Last+1 计算出来的；或编写普通的硬编码。

问题是：是否有某种方法，例如使用预处理器宏，可以自动获取计数，并将其放在 Count() 方法中？注意：我不想在枚举中添加最后一个名为 Count 的假元素，污染它！

提前致谢！

**更新 1：**

有一个关于[在标准 C++11（部分）中实现 N4428 枚举反射](https://groups.google.com/a/isocpp.org/forum/?fromgroups#!topic/reflection/hjSbj2_Rvpc)的有趣讨论，以提出更高级的枚举的建议。

**更新 2：**

有趣的文档[N4451-Static reflection (rev. 3)](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4451.pdf)关于 MetaEnums 和 MetaEnumClasses 的第 3.16、3.17、A.7、A.8 节。

**更新 3：**

在我看到[https://bytes.com/topic/c/answers/127908-numeric_limits-specialization#post444962](https://bytes.com/topic/c/answers/127908-numeric_limits-specialization#post444962)之后，我使用枚举类来到了另一个有趣的模式。如果枚举类的**枚举数列表是连续整数**，通过定义它的最大值和最小值，我们可以检查一个值是否属于它。

如果使用该`Count()`方法的目的`Player::State`是检查一个值是否在枚举中，那么该目的也可以通过 numeric_limits 方法实现，甚至更好，因为它不需要枚举器列表以零值项开头！

```
enum class Drink
{
    Water,
    Beer,
    Wine,
    Juice,
};

#pragma push_macro("min")
#undef min

#pragma push_macro("max")
#undef max

namespace std
{
    template <> class numeric_limits < Drink >
    {
    public:
        static const/*expr*/ bool is_specialized = true;

        static const/*expr*/ Drink min() /*noexcept*/ { return Drink::Water; }
        static const/*expr*/ Drink max() /*noexcept*/ { return Drink::Juice; }

        static const/*expr*/ Drink lowest() /*noexcept*/ { return Drink::Water; }

        static const/*expr*/ Drink default() /*noexcept*/ { return Drink::Beer; }
    };
}

#pragma pop_macro("min")
#pragma pop_macro("max") 
```

使用案例：

来自应用程序的变量：

```
Drink m_drink; 
```

在构造函数中初始化为：

```
m_drink = numeric_limits<Drink>::default(); 
```

在表单的初始化上，我可以这样做：

```
pComboDrink->SetCurSel(static_cast<int>(theApp.m_drink)); 
```

在它上面，为了使界面适应用户所做的更改，我可以使用作用域枚举类值进行切换：

```
switch (static_cast<Drink>(pComboDrink->GetCurSel()))
{
case Drink::Water:
case Drink::Juice:
    pAlcohoolDegreesControl->Hide();
break;

case Drink::Beer:
case Drink::Wine:
    pAlcohoolDegreesControl->Show();
break;

default:
    break;
} 
```

在对话框的确认过程`OnOK`（

```
int ix= pComboDrink->GetCurSel();

if (ix == -1)
    return FALSE;

#pragma push_macro("min")
#undef min

#pragma push_macro("max")
#undef max

if (ix < static_cast<int> (std::numeric_limits<Drink>::min()) ||  ix > static_cast<int> (std::numeric_limits<Drink>::max()) )
    return FALSE;

#pragma pop_macro("min")
#pragma pop_macro("max")

theApp.m_drink= static_cast<Drink>(ix); 
```

笔记：

1.  关键字`constexpr`（我注释`/*expr*/`了，将其保留为`const`）并且`noexcept`仅因为我使用的编译器（Visual C++ 2013）在当前版本不支持它们而被注释。
2.  也许您不需要逻辑来临时取消定义 min 和 max 宏。
3.  我知道这`default()`不适合“数字限制”范围；但它似乎是一个方便的地方。`default`甚至它与在某些情况下是关键字的词重合！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:29:47.573

不，没有，如果你需要这个，你可能一开始就不应该使用 an `enum`。

在您的特定情况下，您想要调用的用例是什么`Count`？

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-19T10:30:57.353

AFAIK 没有自动编译器支持的关键字来获取`enum`. OTOH这通常没有意义：您可能有多个具有相同值的值，只要这些值不必具有后续值（即您可以手动分配值，而不是依赖自动编号）。

一种常见的做法是`enum`通过以下方式声明：

```
 typedef enum
    {
        Stopped, 
        Playing, 
        Paused,

        count

    }PossibleValues; 
```

这样，如果`count`总是最后定义 - 它会给你枚举元素的计数，假设编号从 0 开始并且是随后的。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-05-27T13:16:06.020

重新发布类似问题的答案（[非序列整数 c++ 枚举的最佳方法是什么](https://stackoverflow.com/questions/30482218/what-is-the-best-way-for-non-sequencial-integer-c-enums/30482498?noredirect=1#comment49045225_30482498)），因为它与一个几乎没有答案的问题有点相关。

您可以用来获得所需内容的模式是使用 std::initializer_list 来存储枚举的所有值。

```
namespace PossibleValues
{
    enum Type
    {
        ZERO= 0,
        PLUS180= 180,
        PLUS90= 90,
        MINUS90= -90
    };

    constexpr auto Values = {ZERO, PLUS180, PLUS90, MINUS90};
    size_t Count() { return Values.size(); }
    Type Default() { return *begin(Values); }
} 
```

这还具有能够迭代枚举值的好处，即使它们没有线性值。

而且我认为您可以从带有可变参数宏的单个宏中生成枚举、初始化列表和函数，尽管在最好的情况下，这种东西应该是标准的。

编辑：当我使用PossibleValues 作为枚举或为PossibleValues 使用结构时，我的编译器会抱怨类型不完整。为枚举使用命名空间有点不寻常，但它工作正常。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-02-17T22:45:24.460

可以改进解决方案stackoverflow.com/a/60216003/12894563。我们可以将枚举表达式保存在静态向量中并进行迭代，获得最小值/最大值等

用法：

```
#include <type_traits>
#include <algorithm>
#include <vector>
#include <iostream>

#define make_enum(Name, Type,  ...)                                              \
    struct Name {                                                                \
        enum : Type {                                                            \
            __VA_ARGS__                                                          \
        };                                                                       \
        static auto count() { return values.size(); }                            \
                                                                                 \
        static inline const std::vector<Type> values = [] {                      \
            static Type __VA_ARGS__; return std::vector<Type>({__VA_ARGS__});    \
        }();                                                                     \
        static Type min()                                                        \
        {                                                                        \
            static const Type result = *std::min_element(values.begin(), values.end()); \
            return result;                                                       \
        }                                                                        \
        static Type max()                                                        \
        {                                                                        \
            static const Type result = *std::max_element(values.begin(), values.end()); \
            return result;                                                       \
        }                                                                        \
}

make_enum(FakeEnum, int, A = 1, B = 0, C = 2, D);

int main(int argc, char *argv[])
{
    std::cout << FakeEnum::A     << std::endl
              << FakeEnum::min() << std::endl
              << FakeEnum::max() << std::endl
              << FakeEnum::count() << std::endl;
    return 0;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-19T11:38:37.900

可能值的类型必须是枚举吗？如果您只需要一些行为类似于枚举的东西，您可以执行以下操作：

```
#include <iostream>

#include <functional>
#include <set>

template <typename Representation, typename T>
class Iterable_Strong_Enum
{
private:
  struct T_Ptr_Less : public std::binary_function<T const *, T const *, bool>
  {
    bool operator()(T const * x, T const * y) const
    {
      return x->get_representation() < y->get_representation();
    }
  };

public:
  typedef std::set<T const *, T_Ptr_Less> instances_list;
  typedef typename instances_list::const_iterator const_iterator;

  Representation const & get_representation() const { return _value; }

  static Representation const & min() { return (*_instances.begin())->_value; }

  static Representation const & max() { return (*_instances.rbegin())->_value; }

  static T const * corresponding_enum(Representation const & value)
  {
    const_iterator it = std::find_if(_instances.begin(), _instances.end(), [&](T const * e) -> bool
    {
      return e->get_representation() == value;
    });
    if (it != _instances.end())
    {
      return *it;
    }
    else
    {
      return nullptr;
    }
  }

  bool operator==(T const & other) const { return _value == other._value; }
  bool operator!=(T const & other) const { return _value != other._value; }
  bool operator< (T const & other) const { return _value <  other._value; }
  bool operator<=(T const & other) const { return _value <= other._value; }
  bool operator> (T const & other) const { return _value >  other._value; }
  bool operator>=(T const & other) const { return _value >= other._value; }

  static bool is_valid_value(Representation const & value) { return corresponding_enum(value) != nullptr; }

  static typename instances_list::size_type size() { return _instances.size(); }

  static const_iterator begin() { return _instances.begin(); }

  static const_iterator end() { return _instances.end(); }

protected:
  explicit Iterable_Strong_Enum(Representation const & value);

private:
  Representation _value;

  static instances_list _instances;
};

template <typename Representation, typename T>
Iterable_Strong_Enum<Representation, T>::Iterable_Strong_Enum(Representation const & value)
: _value(value)
{
  _instances.insert(static_cast<T const *>(this));
}

class PossibleValues : public Iterable_Strong_Enum<int, PossibleValues>
{
public:
  static const PossibleValues Stopped;
  static const PossibleValues Playing;
  static const PossibleValues Pause;
protected:
private:
  explicit PossibleValues(int value);
};

PossibleValues::PossibleValues(int value) : Iterable_Strong_Enum<int, PossibleValues>(value) { }

// you need to call that explicitly
Iterable_Strong_Enum<int, PossibleValues>::instances_list Iterable_Strong_Enum<int, PossibleValues>::_instances;

const PossibleValues PossibleValues::Stopped(0);
const PossibleValues PossibleValues::Playing(1);
const PossibleValues PossibleValues::Pause(2);

void stackoverflow()
{
  std::cout << "There are " << PossibleValues::size() << " different possible values with representation: " << std::endl;
  for (auto pv = PossibleValues::begin(); pv != PossibleValues::end(); ++pv)
  {
    PossibleValues possible_value = **pv;
    std::cout << possible_value.get_representation() << std::endl;
  }
} 
```

我对那个解决方案有点失望。一方面，它非常笼统，另一方面，它是解决小问题的大锤。

# sql - 如何对sql server中的行号进行内部连接

> ID：12972320
> 
> 赞同：30
> 
> 时间：2012-10-19T10:27:08.797
> 
> 标签：sql, sql-server, sql-server-2008

SQL Server 2008

两张表：

表 A 有以下数据：

```
RowA
RowB
RowC
RowD 
```

表 B 有以下数据：

```
Row4
Row3
Row2
Row1 
```

我想得到以下输出：

```
RowA Row1
RowB Row2
RowC Row3
RowD Row4 
```

两个表之间唯一的共同值是行号

我当然可以单独获取数据：

```
SELECT val
FROM A
ORDER BY val

SELECT val
FROM B
ORDER BY val 
```

但是我如何加入行号？

如果我没有 order-by，但只想按它们出来的顺序排列行怎么办？

```
RowA Row4
RowB Row3
RowC Row2
RowD Row1 
```

就像在加入

```
SELECT val
FROM A

SELECT val
FROM B 
```

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-10-19T10:29:35.793

试试这个：

在 sql server 2008 中使用[ROW_NUMBER()函数](http://msdn.microsoft.com/en-us/library/ms186734.aspx)

```
select A.val,B.val 
from(
    SELECT val,row_number() over (order by val) as row_num
    FROM A)A
join
    (SELECT val,row_number() over (order by val) as row_num
    FROM B)B
on  A.row_num=B.row_num
ORDER BY A.val,B.val 
```

# [SQL小提琴演示](http://www.sqlfiddle.com/#!3/9e5bf/2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-10-15T16:02:24.980

```
select A.sectionname, A.Basicprice,A.Brand,A.Description,A.Description,A.Grandtotal,A.GST,A.Gstvalue,A.Hsncode,A.Image,A.Installationcharge,A.Model,B.Age,B.Mark,B.Name,B.class

from(
   SELECT Class,row_number() over (order by class) as row_num,Age,Mark,Name
   FROM classtable)B
   LEFT join
   (SELECT sectionname,row_number() over (order by sectionname) as row_num,Basicprice,Brand,Description,Grandtotal,GST,Gstvalue,Hsncode,Image,Installationcharge,Model
   FROM testtable)A

on  A.row_num=B.row_num 
```

# java - 大写正则表达式的 Stackoverflow

> ID：12972322
> 
> 赞同：-1
> 
> 时间：2012-10-19T10:27:21.660
> 
> 标签：java, regex, string

我有一个大问题。我在灾难性回溯（http://www.regular-expressions.info/catastrophic.html）中进行了一次验证。但我很难弄清楚为什么。也许有人有想法？除此之外，正则表达式适用于所有用例。

```
regex: "^((^|[^A-Za-z]+)[A-Z][A-Za-z]*)*[^A-Za-z]*$" 
```

问题输入：

```
"Disposable
BHT,
Tocopheryl AcetateHydrating Shave Gel
Aqua,
Glycerin,
Palmitic Acid,
Triethanolamine,
Isopentane,
Glyceryl Oleate,
Stearic Acid,
Isobutane,
Sorbitol,
Parfum,
Hydroxyethylcellulose,
Myristic Acid,
PEG-90M,
Butyrospermum Parkii Butter Extract,
Lauric Acid,
PTFE,
PEG-23M,
Propylene Glycol,
Glyceryl Acrylate/Acrylic Acid Copolymer,
PVM/MA Copolymer,
Silica,
Methylparaben,
Propylparaben,
BHT,
Limonene,
Benzyl Salicylate,
Linalool,
CI 42053,
CI 42090
Series Thermal Face Scrub
PEG-4,
Magnesium Sulfate,
PEG/PPG-300/55 Copolymer,
Polyethylene,
Polypropylene,
Laureth-23,
Stearyl Alcohol,
Dioleoylethyl Hydroxyethylmonium Methosulfate,
Cetyl Alcohol,
Behentrimonium Chloride,
Distearyldimonium Chloride,
Hydroxypropylcellulose,
Parfum,
Methylparaben,
Propylparaben,
Niacinamide,
Alcohol Denat,
Hexylene Glycol,
Benzyl Salicylate,
AquaClassic Clean Shampoo
Aqua,
Sodium Lauryl Sulfate,
Sodium Laureth Sulfate,
Glycol Distearate,
Zinc Carbonate,
Sodium Chloride,
Sodium Xylenesulfonate,
Zinc Pyrithione,
Cocamidopropyl Betaine,
Dimethicone,
Sodium Benzoate,
Guar Hydroxypropyltrimonium Chloride,
Hydrochloric Acid,
Hexyl Cinnamal,
Linalool,
Butylphenyl Methylpropional,
Magnesium Carbonate Hydroxide,
Ammonium Laureth Sulfate,
Magnesium Nitrate,
Sodium Polynaphthalenesulfonate,
Methylchloroisothiazolinone,
Magnesium Chloride,
CI 42090,
Citric Acid,
Methylisothiazolinone,
Tetrasodium EDTA,
CI 17200,
DMDM Hydantoin    Perspirant Deodorant Spray Sport Protect 48H
Butane,
Isobutane,
Cyclopentasiloxane,
Aluminum Chlorohydrate,
Cyclodextrin,
Disteardimonium Hectorite,
Dimethicone,
Aqua,
Triethyl Citrate,
Alpha-Isomethyl Ionone,
Butylphenyl Methylpropional,
Citral,
Citronellol,
Coumarin,
Geraniol,
Limonene,
Linalool
Pillite Series Instant Hydration Moisturiser +SPF 15
Aqua,
Glycerin,
Ethylhexyl Salicylate,
Niacinamide,
Butyl Methoxydibenzoylmethane,
Dimethicone,
Polyethylene,
Octocrylene,
Isopropyl Palmitate,
Phenylbenzimidazole Sulfonic Acid,
Sorbitan Stearate,
Triethanolamine,
Cetyl Alcohol,
Sodium Acrylates Copolymer,
Aluminum Starch Octenylsuccinate,
Stearyl Alcohol,
Caprylic/Capric Triglyceride,
Panthenol,
Benzyl Alcohol,
Dimethiconol,
Fragrance,
Ethylparaben,
Cetearyl Glucoside,
Cetearyl Alcohol,
PEG 100 Stearate,
Propylparaben,
Disodium EDTA,
C12-13 Pareth-3,
Palmitic Acid,
Stearic Acid,
Benzyl Salicylate,
Laureth-7,
Linalool,
Butylphenyl Methylpropional,
Myristic Acid,
Coumarin,
Heptadecanoic Acid,
Benzyl Benzoate" 
```

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:59:09.353

问题是您有一个形式为的子句

```
(something*)* 
```

当正则表达式正确匹配时，这可以正常工作，但如果您的其中一条线格式错误，事情就会发生灾难性的错误。这是由于回溯和正则表达式引擎将尝试的所有各种组合。

如果您的线路最长：

> 吉列系列瞬间补水保湿+SPF 15

如果此行与您的正则表达式不匹配，则正则表达式引擎需要 2,251,799,813,685,248 (2^51) 次尝试才能意识到此行与正则表达式不匹配。

修复程序在您链接到的页面上。由于您正在寻找交替的单词序列而不是单词，因此回溯对您没有用（因为无法将单词拆分为单词/非单词/单词的序列）。您可以通过使用所有格量词来防止回溯（即，一旦正则表达式匹配了一个单词或非单词，它就不会放弃该匹配）。

使用所有格量词只是所有量词的加号，所以

`(something*)*`变成`(something*+)*+`

# javascript - Backbone.js 中的嵌套集合

> ID：12972328
> 
> 赞同：2
> 
> 时间：2012-10-19T10:27:44.390
> 
> 标签：javascript, backbone.js

我们使用backbone.js 在javascript 中创建MV* 结构。

嵌套集合有一个特殊要求。我想知道是否有人对我们如何实现它有想法。

我们已经从集合创建了一个视图，但现在的问题是如何再次创建该视图的集合？

我们试图通过在每个子集合对象中创建父引用来实现相同的目的，但它无法连接父集合视图。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:37:38.480

一种方法是使用[Backbone-Nested plugin](http://afeld.github.com/backbone-nested/)。另请参阅[官方 wiki](https://github.com/documentcloud/backbone/wiki/Extensions,-Plugins,-Resources)以获取解决许多常见问题的插件和扩展列表。

# javascript - 谷歌地图：信息窗口中的触发事件

> ID：12972338
> 
> 赞同：0
> 
> 时间：2012-10-19T10:28:31.200
> 
> 标签：javascript, google-maps-api-3, infowindow

试图在信息窗口中触发事件..我有以下内容字符串

```
var contentString = '<div id="content">'+
           '<div id="siteNotice">'+
           '</div>'+
           '<h2 id="firstHeading" class="firstHeading">'+data.name+'</h2>'+
           '<div id="bodyContent">'+
           '<p>'+data.address+'</p>'+
           '<p></p>'+
           '<p>Do You Want to change search location</p>'+
           '<input type="button" value="click me" onclick="alert(\"infoWindow\")">'+
           '</div>'+
           '</div>'; 
```

这里的警报语句没有触发..实际上我需要实现一个事件，每当我单击按钮时，我需要将该特定坐标存储到本地存储中，任何建议都将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T17:44:19.473

改变`'<input type="button" value="click me" onclick="alert(\"infoWindow\")">'+`

至`'<input type="button" value="click me" onclick="saveData()">'+`

saveData()`latlng`应设置为 GLOBAL 的标记使用的函数（在脚本开始时）

```
function saveData() {
  var latlng = marker.getPosition();
  var lat=latlng.lat();
  var lng=latlng.lng();
//store data
 } 
```

**编辑** 更改自（原始剪切和粘贴错误）

```
var lat=" + latlng.lat();
var lng=" + latlng.lng(); 
```

# sql - 从sql中的两个表中选择行

> ID：12972352
> 
> 赞同：0
> 
> 时间：2012-10-19T10:29:23.127
> 
> 标签：sql, join, table-relationships

我有三个具有主键和引用的表。我需要以下面的方式选择行。请任何人帮助我。

表：**类**( `ClassId -> primarykey`)

```
ClassId  ClassTitle
--------------------
1        First  
2        Second
3        Third 
```

表：**部门**( `DeptId -> primarykey`)

```
DeptId   DeptName
-------------------
1        science
2        maths
3        general knowledge 
```

表：**ClassAndDepartment**

```
ClassId  DeptId(ClassId-> foreign key of class and DeptId->foreign key of Department)
1        1
1        2
2        1
2        3 
```

现在我需要选择值存在于表中`Class`但不存在于表中的行`ClassAndDepartment`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:33:19.887

```
select * from Class c where ClassId not in (select distinct ClassId from ClassAndDepartment) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:35:21.097

```
select * 
from class c 
where classid not in (select classid from classanddepartment) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-02T15:59:47.263

解决此问题的另一种方法是使用 a`LEFT JOIN`而不是`NOT IN`：

```
SELECT *
FROM Class C
LEFT JOIN ClassAndDepartment CandD ON C.ClassId = CandD.ClassId
WHERE CandD.DeptId IS NULL 
```

避免`NOT IN`通常会提高性能。

# iphone - 在 Parse 库中覆盖 FacebookButton

> ID：12972354
> 
> 赞同：0
> 
> 时间：2012-10-19T10:29:28.397
> 
> 标签：iphone, objective-c, ios, xcode

我正在尝试[在 iOS 中实现 Parse 平台登录向导](http://www.youtube.com/watch?v=X-9zk2ArATI&feature=plcp)

更多信息在[这里](https://parse.com/docs/ios_guide#fbusers)。

这是我们需要添加到`ViewDidAppear`Parse Login Modal 的代码。（在为界面设置正确的代表之后：） `PFLogInViewControllerDelegate, PFSignUpViewControllerDelegate`：

```
PFLogInViewController *login = [[PFLogInViewController alloc] init];

login.fields = PFLogInFieldsUsernameAndPassword | PFLogInFieldsLogInButton | PFLogInFieldsFacebook | PFLogInFieldsSignUpButton | PFLogInFieldsPasswordForgotten;

login.signUpController = [[SignUpViewController alloc] init];
login.signUpController.delegate =self;
login.delegate = self;

[self presentModalViewController:login animated:YES];
[login release]; 
```

我们可以通过这种方式访问​​按钮：

```
login.logInView.facebookButton 
```

我可以使用选择器来做到这一点：

```
 [facebookBtn addTarget:self action:@selector(buttonInfo:) forControlEvents:UIControlEventTouchUpInside]; 
```

并添加我自己的操作，但默认操作仍然有效。我不想有这个默认操作。

我想要的是，完全覆盖这个按钮。你能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T12:04:25.530

调用 removeTarget:action:forControlEvents：为目标传递 nil，为操作传递 NULL，并使用设置所有位的控制掩码 (UIControlEventAllEvents)。像这样的东西：

```
[facebookBtn removeTarget:nil 
                   action:NULL 
         forControlEvents:UIControlEventAllEvents]; 
```

# c# - 创建 Windows Phone 应用、Expression Blend 和 Visual Studio 时的工作流

> ID：12972356
> 
> 赞同：0
> 
> 时间：2012-10-19T10:29:41.247
> 
> 标签：c#, visual-studio-2010, windows-phone-7, xaml, expression-blend

我正忙于仅使用 Visual Studio 2010 的 Windows Phone 7 应用程序。我读过有人也可以使用 Expression Blend 来开发应用程序。但是在开发应用程序时，我想澄清一些关于如何与这两个应用程序一起工作的事情。

首先我知道它在 Visual Studio 中是如何工作的，您可以使用 xaml 代码创建 UI，然后添加与您的 C# 代码的交互性。那么 Expression blend 到底是为了什么？它是否更倾向于设计界面而不是太多的交互性？你可以在 Expression blend 中进行交互吗？

从我能收集到的信息（我再次不确定这一点），一个可以同时使用这两种应用程序。用于 UI 的 Expression Blend，以及用于后端/交互性的 Visual Studio。这个对吗？

假设以上是正确的。你怎么办？您可以在两个程序中使用相同的解决方案吗？在这两个程序上工作时，您的典型工作流程会是什么样的？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-23T15:38:25.230

你的假设是正确的；Visual Studio 主要用于编写使程序运行的代码，而 Blend 用于设计 UI。Blend 主要通过将 UI 元素拖到所需位置来工作，但您也可以根据需要直接操作 XAML，或者甚至两者都操作。

您可以在 Blend 中编辑代码隐藏，但您将缺少 Visual Studio 在该部门提供的许多功能。

您可以在 Blend 和 Visual Studio 中打开相同的解决方案，并根据需要在它们之间切换，但在保存修改后的文件之前，对其中任何一个的更改不会被另一个接收。

就个人而言，我使用 Visual Studio 进行编码，使用 Blend 进行设计。两者同时打开，加载相同的解决方案。

# java - .equals() 用于 Java 中的用户定义类

> ID：12972362
> 
> 赞同：3
> 
> 时间：2012-10-19T10:29:56.940
> 
> 标签：java, equals, user-defined

请看下面的代码

```
class TestToString 
{
  public static void main(String args[]) 
  {
    CheckToString cs = new CheckToString (2);
    CheckToString c = new CheckToString (2);
    if( cs.equals(c))
       System.out.println(" Both objects are equal");
    else
       System.out.println(" Unequal objects ");
  }
}

class CheckToString 
{
   int i;
   CheckToString () 
   {
      i=10;
   }
   CheckToString (int a) 
   {
     this.i=a;
   }
} 
```

**输出：** 不等的物体

但我期待输出将是

**两个对象相等**

我知道这两个对象都有不同的引用，

```
System.out.println(cs); //com.sample.personal.checkToString@19821f
System.out.println(c); //com.sample.personal.checkToString@addbf1 
```

但我在问，为什么他们有不同的参考？而在以下情况下，对象具有相同的内存位置。

```
Integer a = new Integer(2);
Integer b = new Integer(2);
System.out.println(a);           //2
System.out.println(b);           //2 
```

我正在将用户定义类的对象与预定义类的对象进行比较。似乎用户定义类的对象与具有超过 -128 到 127 的值的整数类对象的行为相同。为什么这两种情况的引用不同？（对于值在 -128 到 127 之间的整数类相同，对于用户定义的类不同）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-19T10:31:51.713

`equals`检查引用的默认实现。您正在创建 2 个不同的对象，它们在内存中没有引用相同的东西。

一个体面的 equals 实现是这样的：

```
public boolean equals(Object o) {
  if (!(o instanceof CheckToString)) {
    return false;
  }
  CheckToString other = (CheckToString) o;
  return i == other.i;
} 
```

覆盖时`equals`，您也需要覆盖`hashCode`。

每当你说`new CheckToString()`，你是在内存中创建一个新对象，所以一个与另一个完全不同的引用`new CheckToString()`。对象定义中的内容无关紧要。

您提到的有关 Integer 的内容是正确的，但它适用于`Integer`，而不适用于您创建的自定义对象。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-19T10:39:18.117

您需要覆盖类中的`equals`方法`CheckToString`：

```
@Override
public boolean equals(Object o){
   if(this==o){
      return true;
   }
   if(o instanceof CheckString){
       CheckString other = (CheckString) o;
       return this.i == other.i;
   }
   return false;
} 
```

建议您在覆盖`equals`时也覆盖`hashCode`，以便您可以在散列集合（即 HasSet、LinkedHasSet、HashMap）中使用您的对象。在这种情况下，由于您的类似乎是原始整数的包装器，我想您可以返回整数本身。

```
@Override
public int hashCode(){
   return i;
} 
```

最后，总是建议重写`toString`，这样每次查看类的实例时，您都会看到对象的友好、人类可读的表示。

```
@Override
public String toString(){
   StringBuilder sb = new StringBuilder();
   sb.append(this.getClass().getSimpleName()).append("[");
   sb.append("i: ").append(i).append("]");
   return sb.toString();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T10:37:55.500

2 个对象显然没有指向同一个内存位置（请注意，您正在比较对象引用）。有关更多信息，请参阅Object Class 的[JavaDoc](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html)`equals()`和相应的方法

要比较它们的字符串表示，您可以进行以下修改：

```
class TestToString
 {
  public static void main(String args[])
   {
    CheckToString cs = new CheckToString(2);
    CheckToString c = new CheckToString(2);
    if( cs.toString().equalsIgnoreCase(c.toString()))
       System.out.println(" Both objects are equal");
    else
       System.out.println(" Unequal objects ");
 }
}

class CheckToString
{
   int i;
   CheckToString()
   {
      i=10;
   }
   CheckToString(int a)
   {
     this.i=a;
   }
   public String toString(){
    return String.valueOf(i);
   }
} 
```

ps：还要注意对象案例的变化（[Java约定](http://www.oracle.com/technetwork/java/codeconv-138413.html)）

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-08-13T17:19:04.993

默认情况下，在任何用户定义的类中，equals 方法基于引用进行比较，但是如果您覆盖当前类中的 equals 方法，则它是基于内容进行比较...但在 java.lang.StringClass 中，它是比较内容的基础

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-10-19T10:32:34.407

默认情况下，equals 方法只检查任意两个对象的哈希码。因此，如果您需要 equals 方法根据对象中的任何底层属性返回结果，则必须相应地覆盖 equals 方法。

# android - 如何将音频从 android 麦克风发布到 Red5 服务器应用程序？

> ID：12972374
> 
> 赞同：2
> 
> 时间：2012-10-19T10:30:23.507
> 
> 标签：android, red5, rtmp

我如何将音频从 android 麦克风发布到 Red5 服务器应用程序 oflademo 以在那里创建 flv 文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T07:26:49.997

例如，您可以从使用当前主干版本构建 Java RTMPClient 开始： [http ://red5.googlecode.com/svn/java/client/trunk/](http://red5.googlecode.com/svn/java/client/trunk/)

还有一篇来自 red5 开发人员的博客文章：http: [//gregoire.org/2012/01/17/android-market/](http://gregoire.org/2012/01/17/android-market/)

# fonts - 更新到 jdk 7u9 后 Intellij 11.1.x 中的丑陋字体和损坏的源代码编辑器

> ID：12972376
> 
> 赞同：1
> 
> 时间：2012-10-19T10:30:34.373
> 
> 标签：fonts, intellij-idea, java

在 ubuntu 12.04（openjdk7 到 java oracle 7u9 : ）上更新 java sdk 后，我的 Intellij 安装完全损坏：字体丑陋，代码编辑器损坏等。

其他使用 java 的程序就像一个魅力（netbeans 运行没有问题等）

```
java version "1.7.0_09" Java(TM) SE Runtime Environment (build
1.7.0_09-b05) Java HotSpot(TM) 64-Bit Server VM (build 23.5-b02, mixed mode) 
```

所有指向 java、javac 等的符号链接都很好。

我尝试更新到最新版本，但没有成功。

您最近是否遇到过同样的问题？

![在此处输入图像描述](../Images/01ada5eef354eec965820e73cd7034fe.png)

更新了其他配色方案：

![在此处输入图像描述](../Images/3a5275583cecb0db020d0e5e7cb1e3df.png)

JDK版本：

![在此处输入图像描述](../Images/0e3e1fe96d59ae9e9831ed20ec59a46d.png)

激活字体覆盖选项和方案默认值后，我的字体是 UGLY 和 BIG ：

![在此处输入图像描述](../Images/1545d175c5fe667cddec117e59537bbb.png)

与 jdk 7u1 相同的配置：

![在此处输入图像描述](../Images/af26407b67071d98720d8208f54b90ce.png)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-19T14:34:29.187

Java Swing 应用程序中 Linux 上的字体渲染并不完美，[我们已经有一个针对此问题的未解决问题](http://youtrack.jetbrains.net/issue/IDEA-57233)，您可以在其中找到一些如何调整它的提示（通过使用不同的字体、通过修补字体文件、通过修补 JDK、通过提供 JVM 选项， ETC）。

不幸的是，要获得与本机系统用户界面的其他元素完全相同的字体渲染是极其困难的。

好消息是，我们计划在未来的 IntelliJ IDEA 版本中为编辑器实现原生字体渲染（我们将直接使用系统默认的 freetype 库以获得最佳和一致的字体外观）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T12:42:20.080

我在使用 IntelliJ 11.1.3 - java 版本“1.7.0_09”的 Fedora 17 上遇到了类似的问题。我的系统上安装了一些“有问题的”字体。删除*/usr/share/fonts中的**tex-dejavu*字体就足够了。因此，正如 CrazyCoder 所写的那样，查看您在系统中使用的字体可能会有所帮助。

# python - 选择字符串的随机元素：基本 python

> ID：12972378
> 
> 赞同：-3
> 
> 时间：2012-10-19T10:30:36.597
> 
> 标签：python, string

我正在制作一个hang man游戏来自学python的基础知识，我一直在开发一个完成以下任务的函数：1.函数名称= letter_guesser（unguessed_cons，difficulty）：现在解释两个参数；难度报告为两种模式，简单和困难。在简单模式下，计算机从 unguessed_cons 列表中随机选择一个字母并输出集合字符，例如 letter_guesser('abcdefg','Easy') 'd' （随机选择）

# 2 选项：玩家选择另一种难度，困难模式。这就是棘手的地方，

在此游戏模式中，还有另一个名为 PRIORITY_CONSONANTS 的常量，它是一个字母列表，优先于用户在函数开始时输入的其他辅音，例如；PRIORITY_CONSONANTS = 'tnrslhdcmpfgybwvkqxjz'，所以 t 是最优先的，所以如果 t = 在 unguessed_cons 中它会被输出，例如： letter_guesser('atdcdg','HARD') 't' （优先级常量中的第一个并且出现在 unguessed_cons 中）

*****希望澄清一下伙计们

我的想法是：1.如果简单模式=选中；从 unguessed_cons 中随机选择一个辅音 elif hard mode = selected; 不知道如何让计算机在找到 PRIORITY_CONSONANTS(ex, a,b,c,d) 的最高功率后进行扫描和打印 a = 先扫描和搜索，然后是 b 等，直到找到匹配项输出设置字符。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:41:53.513

这不是一个完整的灵魂，但应该让你知道如何去做。

```
In [349]: from random import choice

In [350]: choice('absderg')
Out[350]: 'b' 
```

由于python是开源的，您可以查看代码：

```
def choice(self, seq):
        """Choose a random element from a non-empty sequence."""
        return seq[int(self.random() * len(seq))]  # raises IndexError if seq is empty 
```

# objective-c - 从字节构建 NSImage

> ID：12972379
> 
> 赞同：0
> 
> 时间：2012-10-19T10:30:38.133
> 
> 标签：objective-c, macos

我试图从一些奇怪的字节构建一个 NSImage 。我使用 BlackMagic SDK 来获取接收帧的字节数：

```
unsigned char* frame3 = NULL;
unsigned char* frame2 = (Byte*)malloc(699840);

videoFrame->GetBytes ( (void**)&frame3);
memcpy(frame2, frame3, 699840);

NSData* data = [NSData dataWithBytes:frame2 length:sizeof(frame2) ];
NSImage *image = [[NSImage alloc] initWithData:data];

//(till now i use statically 699840, because i know its size) 
```

为什么我说字节很奇怪是“frame2”的内容看起来像这样：

```
printf("content: %s",frame2); 
```

> \200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200 \200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200 \200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200\200 \200\200.........\200（到最后）

它应该是空白的黑框。

有人知道我怎么能弄清楚这个吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:56:52.513

您应该使用这些 api 从数据字节中获取图像。

NSString *filePath = [yourDirectory stringByAppendingPathComponent:@"imageName.jpg"];

[数据 writeToFile:filePath atomically:YES];

# php - Zend Imap，在 Gmail 标签中获取电子邮件

> ID：12972382
> 
> 赞同：2
> 
> 时间：2012-10-19T10:30:39.637
> 
> 标签：php, zend-framework, gmail, gmail-imap, zend-gdata

我正在使用[Zend 框架](http://framework.zend.com/manual/1.12/en/zend.mail.read.html)从 Gmail 中获取电子邮件，目前我只能在收件箱中获取邮件，身份验证后我 setToken 和其他参数

```
 $imap->requestAndResponse('AUTHENTICATE', $authenticateParams);

 $response = $imap->requestAndResponse('XLIST', $imap->escapeString('', '*')); 
```

在 $responce 变量中，我得到了所有标签/文件夹的列表

```
 Array
(
    [0] => Array
        (
            [0] => XLIST
            [1] => Array
                (
                    [0] => \HasNoChildren
                )

            [2] => /
            [3] => Calendar
        ).................... INBOX, Sent Mails Etc 
```

依此类推，在执行一些代码并在索引 [3] 上获取名称之后，这些名称是我的标签和文件夹。

我在数组中有列表，如下所示。

```
 Array
(
    [0] => Calendar
    [1] => Drafts
    [2] => Facebook Mails
    [3] => Inbox
    [4] => Junk E-mail
    [5] => Logs
    [6] => Personal Mails
    [7] => Sent Items
    [8] => Office Mails
) 
```

现在我想在每条消息/文件夹中获取电子邮件

我试过**`Zend_Mail_Storage_Folder_Maildir`**了，但我不知道如何在上述每个文件夹中获取消息，我正在使用 Imap，

通过像下面这样打开存储

**`$storage = new Zend_Mail_Storage_Imap($imap);`**

这仅返回收件箱文件夹中的邮件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-09T05:42:50.403

显示所有文件夹

```
 $storage = new Zend_Mail_Storage_Imap($this->imap);
    $folders = new RecursiveIteratorIterator($storage->getFolders(), RecursiveIteratorIterator::SELF_FIRST);
    echo '<select name="folder">';
    foreach ($folders as $localName => $folder) {
        $localName = str_pad('', $folders->getDepth(), '-', STR_PAD_LEFT) .
                $localName;
        echo '<option';
        if (!$folder->isSelectable()) {
            echo ' disabled="disabled"';
        }
        echo ' value="' . htmlspecialchars($folder) . '">'
        . htmlspecialchars($localName) . '</option>';
    }
    echo '</select>'; 
```

选择文件夹

```
$storage->selectFolder("[Gmail]/Sent Mail"); 
```

**[Gmail]/**选择已发送邮件文件夹的已发送邮件标签

# php - PHP缓存用户级变量

> ID：12972391
> 
> 赞同：0
> 
> 时间：2012-10-19T10:31:09.843
> 
> 标签：php, caching, apc

我发誓我真的到处找过这个问题，如果答案已经存在，我很失望得知我是盲人......</p>

好。我对 APC 用户缓存功能非常感兴趣，因为与某些 php 级缓存系统不同，使用 APC 缓存的变量保留在内存中，而不是在硬盘上。这对速度有好处。

然而，有一些使用案例我不确定它们的有效性。例如，以一个用户登录并有一个动态菜单作为侧边栏的站点为例（每个用户都有自己的特定菜单）。

缓存用户级变量（例如菜单的内容）是否值得？即使这个菜单在每个页面都重新加载并且显然创建了一个 SQL 请求和一个 PHP 解析？还是每个用户代表的请求数量太少而无法产生任何影响（他们不会每分钟加载 50 页）？

此外，我们还必须考虑使用的内存。这会使服务器的内存饱和吗？我想这在很大程度上取决于有多少用户以及菜单的数据有多大……但我不知道它会增长多快。

我知道这会引起很多问题，请提前感谢您的帮助:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T13:03:10.233

除非您的菜单 * # of users 会产生千兆字节的会话变量，否则我会坚持使用 PHP 会话。它们很容易且经过良好测试。

# php - 在javascript中嵌入php的方法是什么？

> ID：12972396
> 
> 赞同：-3
> 
> 时间：2012-10-19T10:31:20.470
> 
> 标签：php, javascript

嗨，我有一个 javascript 文件，我试图在 php 中将图像的路径提供给它，例如，

```
var arrowimages = {
  down:['downarrowclass', '<?php echo $_SERVER[REMOTE_HOST]; ?>/ultimate-legal-aid/administrator/down.gif', 23],
  right:['rightarrowclass', '<?php echo $_SERVER[REMOTE_HOST]; ?>/ultimate-legal-aid/administrator/right.gif']
} 
```

但它不起作用。请帮助我以正确的方式定义路径。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:39:04.763

如果您的文件是 .js 扩展名，则 PHP 引擎将永远不会编译它（因为浏览器不请求 php 文件，apache 只会提供资源）。将 php 扩展名添加到您的 js 文件中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T10:39:10.863

除非您将服务器配置为将 JavaScript 文件传递​​给 PHP 解析器，否则这将不起作用。这可以通过配置 Apache 来完成：

```
AddHandler application/x-httpd-php5 .js 
```

或 nginx：

```
location ~ \.js$ {
    fastcgi_pass   127.0.0.1:9000;
    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
    include        fastcgi_params;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T10:47:48.350

它不起作用的事实与您如何在 javascript 中嵌入 PHP 无关。在我解释发生了什么之前，我想确保您知道客户端语言和服务器端语言之间的区别。

当用户输入页面的 URL 并按 Enter 键时，会向您的 Web 服务器发送对该页面的请求。由于您的服务器的配置方式，此请求将告诉 serevr 运行 PHP 脚本。PHP 是一种服务器端语言。这意味着用户永远不会看到您的 PHP 代码。无论此 PHP 脚本输出什么，无论是 HTML、CSS、Javascript 还是其他类型的文件，都将发送给用户。

如果您的输出包含 javascript，下载后将由用户的浏览器执行。这意味着在您提供的代码片段中，PHP 脚本将输出

```
var arrowimages={down:['downarrowclass', '12.12.12.12/ultimate-legal-aid/administrator/down.gif', 23], right:['rightarrowclass', '12.12.12.12/ultimate-legal-aid/administrator/right.gif']}. 
```

现在，您看到的这些数字可能不是 12.12.12.12，而是其他一些在它们之间带有点的数字系列。这是一个 IP 地址。更具体地说，它是用户的 IP 地址。因此，此输出的路径将是用户计算机上的路径，并且用户很可能没有运行 Web 服务器，因此不会为您提供任何图像。您应该用这一行替换该行：

```
var arrowimages={down:['downarrowclass', '<?php echo $_SERVER["SERVER_NAME"]; ?>/ultimate-legal-aid/administrator/down.gif', 23], right:['rightarrowclass', '<?php echo $_SERVER["SERVER_NAME"]; ?>/ultimate-legal-aid/administrator/right.gif']} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T10:35:02.917

你忘记了引号

```
$_SERVER['REMOTE_HOST'] 
```

# android - Android - 可扩展列表视图的更好替代方案？

> ID：12972398
> 
> 赞同：9
> 
> 时间：2012-10-19T10:31:29.940
> 
> 标签：android, json, listview, expandablelistview

我有一个从 Web 服务 JSON 加载的项目列表。这些项目中的每一个都有它自己的子项目列表。每个项目都有许多文本视图。子项的数量动态变化，并由多个文本视图组成。有时有几十个项目可能有数百个子项目。我希望所有信息始终可见，即我实际上不需要可扩展列表视图的**“可扩展”**部分，但它似乎是获取子项和组布局的最简单方法。

```
Item1
  sub item 1
  sub item 2

Item 2
  sub item 1
  sub item 2
  sub item 3

etc 
```

我目前已经实现了一个可扩展的列表视图并强制组总是被扩展。这可行，但是滚动非常慢，不仅在模拟器上，而且在我的 Galaxy s2 上。
我想知道是否有更好的方法来实现这一目标？
我考虑了单个列表视图并将子项中的字符串连接到单个文本视图中，但认为这在美学上并不令人愉悦，并且我将无法获得我想要的布局。
我想知道是否有一种方法可以覆盖调整后的列表视图，以便其中一个项目本身就是其他项目的数组。适配器可以遍历该数组并动态创建新的文本视图。我想这就是可扩展列表视图正在做的事情，所以也许这最终会导致同样多的滞后滚动。

非常感谢任何帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:46:56.463

您可以使用 ListView 和自定义适配器类来实现。

`int getViewTypeCount()`请注意，适配器具有`int getItemViewType(int position)`您可以覆盖的方法。

查看列表地图中数据集的示例实现

```
public abstract class ExampleMapAdapter<V extends Map<?, ? extends List<?>>> extends BaseAdapter {

    public static final int VIEW_TYPE_HEADER = 0;
    public static final int VIEW_TYPE_LISTITEM = 1;

    protected V data;
    protected int[] sectionsStart;
    protected Object[] sections;
    protected int count;

    public ExampleMapAdapter(V data) {
        this.data = data;
        onSetData();
    }

    @Override
    public int getCount() {
        return count;
    }

    @Override
    public Object getItem(int position) {
        int sectionIndex = getSectionForPosition(position);
        int innerIndex = position - sectionsStart[sectionIndex];
        if(innerIndex == 0) { //head
            return sections[sectionIndex];
        }
        else { //values
            return data.get(sections[sectionIndex]).get(innerIndex - 1);
        }
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    @Override
    public int getViewTypeCount() {
        return 2;
    }

    @Override
    public int getItemViewType(int position) {
        return Arrays.binarySearch(sectionsStart, position) < 0 ? VIEW_TYPE_LISTITEM : VIEW_TYPE_HEADER;
    }

    public int getPositionForSection(int section) {
        return sectionsStart[section];
    }

    public int getSectionForPosition(int position) {
        int section = Arrays.binarySearch(sectionsStart, position);
        return section < 0 ? -section - 2 : section;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        if(getItemViewType(position) == VIEW_TYPE_HEADER) {
            return getHeaderView(position, convertView, parent);
        }
        else {
            return getListItemView(position, convertView, parent);
        }
    }

    @Override
    public void notifyDataSetInvalidated() {
        data = null;
        onSetData();
        super.notifyDataSetInvalidated();
    }

    @Override
    public void notifyDataSetChanged() {
        onSetData();
        super.notifyDataSetChanged();
    }

    protected void onSetData() {
        if(data == null) {
            sectionsStart = null;
            sections = null;
            count = 0;
        }
        else {
            sectionsStart = new int[data.size()];
            sections = data.keySet().toArray(new Object[data.size()]);
            count = 0;
            int i = 0;
            for(List<?> v : data.values()) {
                sectionsStart[i] = count;
                i++;
                count += 1 + v.size();
            }
        }
    }

    protected abstract View getHeaderView(int position, View convertView, ViewGroup parent);

    protected abstract View getListItemView(int position, View convertView, ViewGroup parent);
} 
```

和用法示例：

```
public class ExampleActivity extends Activity {

    class SubItem {
        public final String text;
        public final int number;
        public final boolean checked;
        public SubItem(String text, int number, boolean checked) {
            this.text = text;
            this.number = number;
            this.checked = checked;
        }
    }

    //use LinkedHashMap or TreeMap as other map implementations may not keep key's order
    final Map<String, List<SubItem>> map = new LinkedHashMap<String, List<SubItem>>();
    {
        List<SubItem> list = new ArrayList<SubItem>();
        list.add(new SubItem("sub item", 1, false));
        list.add(new SubItem("sub item", 2, true));
        map.put("Item1", list);
        list = new ArrayList<SubItem>();
        list.add(new SubItem("sub item", 1, true));
        list.add(new SubItem("sub item", 2, false));
        list.add(new SubItem("sub item", 3, false));
        map.put("Item2", list);
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {

        ListView vList = new ListView(this);
        vList.setAdapter(new ExampleMapAdapter<Map<String, List<SubItem>>>(map) {

            @Override
            protected View getHeaderView(int position, View convertView,
                    ViewGroup parent) {
                TextView v = convertView == null ? 
                        new TextView(parent.getContext()) : (TextView) convertView;
                v.setText((String) getItem(position));
                return v;
            }

            @Override
            protected View getListItemView(int position, View convertView,
                    ViewGroup parent) {
                CheckBox v = convertView == null ? 
                        new CheckBox(parent.getContext()) : (CheckBox) convertView;
                SubItem item = (SubItem) getItem(position);
                v.setText(item.text + " " + item.number);
                v.setChecked(item.checked);
                return v;
            }
        });
        setContentView(vList);
    }
} 
```

# c# - 将字节数组发布到服务器

> ID：12972400
> 
> 赞同：3
> 
> 时间：2012-10-19T10:31:40.583
> 
> 标签：c#

我正在使用 POST 向服务器发送一个字节数组和一个字符串，但没有成功，我做对了吗？

memStream.Write(image, 0, signature.Length);, image 是一个字节数组。

代码：

```
Uri wsHost = new Uri(WebServices.RESTEnpointAddress());
                HttpWebRequest request = (HttpWebRequest)WebRequest.Create(wsHost);

                request.Headers.Add(HttpRequestHeader.AcceptEncoding, "gzip,deflate");

                // Boundary
                var boundary = "------------------------" + DateTime.Now.Ticks.ToString("x");

                // Set the request type
                request.ContentType = "multipart/form-data; boundary=" + boundary;
                request.Method = "POST";
                request.KeepAlive = true;
                //request.ContentLength = docByte.Length;

                // Create a new memory stream
                Stream memStream = new MemoryStream();

                // Boundary in bytes
                byte[] boundaryByte = Encoding.ASCII.GetBytes("\r\n--" + boundary + "\r\n");

                // body
                memStream.Write(boundaryByte, 0, boundaryByte.Length);
                string ImgBody = string.Format("Content-Disposition: form-data; name=\"{0}\"; filename=\"{1}\"\r\n", "signImg", "tmpSignImgName");
                ImgBody += "Content-Type: application/octet-stream\r\n\r\n";
                byte[] ImgBodyByte = Encoding.ASCII.GetBytes(ImgBody);
                memStream.Write(ImgBodyByte, 0, ImgBodyByte.Length);
                memStream.Write(image, 0, signature.Length); // image ss a byte array
                memStream.Write(boundaryByte, 0, boundaryByte.Length);

                string signLocLatBody = string.Format("Content-Disposition: form-data; name=\"{0}\"\r\n\r\n", "signloclat");
                signLocLatBody += latitude;
                byte[] signLocLatBodyByte = Encoding.ASCII.GetBytes(signLocLatBody);
                memStream.Write(signLocLatBodyByte, 0, signLocLatBodyByte.Length);
                memStream.Write(boundaryByte, 0, boundaryByte.Length);

                Stream stream = request.GetRequestStream();
                memStream.Position = 0;
                byte[] tempBuffer = new byte[memStream.Length];
                memStream.Read(tempBuffer, 0, tempBuffer.Length);
                memStream.Close();
                stream.Write(tempBuffer, 0, tempBuffer.Length);
                stream.Close(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T11:04:35.813

```
 string boundary = "---------------------------" + DateTime.Now.Ticks.ToString("x");
     byte[] boundaryBytes = System.Text.Encoding.ASCII.GetBytes("--" + boundary + "\r\n");

     HttpWebRequest webRequest = (HttpWebRequest)HttpWebRequest.Create(MyUrl);

     webRequest.ContentType = "multipart/form-data; boundary=" + boundary;
     webRequest.Method = "POST";

     using (Stream requestStream = webRequest.GetRequestStream())
     {
              // write boundary bytes
              requestStream.Write(boundaryBytes, 0, boundaryBytes.Length);

              // write header bytes.
              string headerTemplate = "Content-Disposition: form-data; name=\"{0}\"; filename=\"{1}\"\r\nContent-Type: {2}\r\n\r\n";
              string header = string.Format(headerTemplate, "MyName", "MyFileName", "content type");
              byte[] headerbytes = System.Text.Encoding.UTF8.GetBytes(header);
              requestStream.Write(headerbytes, 0, headerbytes.Length);

              using (MemoryStream memoryStream = new MemoryStream(imageBytes))
              {
                      byte[] buffer = new byte[4096];
                      int bytesRead = 0;
                      while ((bytesRead = memoryStream.Read(buffer, 0, buffer.Length)) != 0)
                      {
                              requestStream.Write(buffer, 0, bytesRead);
                      }
               }

               // write trailing boundary bytes.
               byte[] trailerBytes = System.Text.Encoding.ASCII.GetBytes("\r\n--" + boundary + "--\r\n");
               requestStream.Write(trailerBytes, 0, trailerBytes.Length);

       }

       using (HttpWebResponse wr = (HttpWebResponse)webRequest.GetResponse())
       {
               using (Stream response = wr.GetResponseStream())
               {
                    // handle response stream.
               }
       } 
```

这会读取一个 MemoryStream 并将数据写入 requestStream，并带有一个 4096 字节的缓冲区。这应该包含在一个 try-catch 中，以便它可以捕获异常并处理它们。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-19T11:05:08.957

用于`WebRequest`将数据发布为：

```
WebRequest request = WebRequest.Create ("MyURL"); 
request.Method = "POST"; 
string postData = "This is a test that posts this string to a Web server.";
request.ContentType = "image/jpeg"; 
request.ContentLength = byteArray.Length; 

//Here is the Business end of the code... 
Stream dataStream = request.GetRequestStream (); 
dataStream.Write (byteArray, 0, byteArray.Length); 
dataStream.Close (); 
//and here is the response. 
WebResponse response = request.GetResponse (); 

//Writing response from server

dataStream = response.GetResponseStream (); 
StreamReader reader = new StreamReader (dataStream); 
string responseFromServer = reader.ReadToEnd (); 
Console.WriteLine (responseFromServer); 
reader.Close (); 
dataStream.Close (); 
response.Close (); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T10:36:30.167

您需要使用 memStream 作为对请求流的引用，例如

```
Stream memStream = request.GetRequestStream(); 
```

然后，当您写信给它时，您就是在写请求。

# asp.net - IsInRole 为工作组角色返回 false

> ID：12972408
> 
> 赞同：3
> 
> 时间：2012-10-19T10:32:01.493
> 
> 标签：asp.net, asp.net-mvc-4, windows-authentication, user-roles

我正在构建一个 ASP.NET MVC4 Razor 应用程序，我想使用 Windows 身份验证来限制作为特定 Windows 组成员的用户对各种功能的访问。我正在一个未加入域的 Windows 8 VM（名为 MYVM）上开发，但该应用程序将部署在将加入域的 Win2008 服务器上。

我已将 web.config 配置如下：

```
<authorization>
  <deny users="?" />
</authorization>
<roleManager enabled="true" defaultProvider="AspNetWindowsTokenRoleProvider"/> 
```

身份验证有效 - @User.Identity.Name 显示“MYVM\MYUSERNAME”

但是，尽管我已将我的帐户添加到几个 Windows 组，但对 @User.IsInRole("GROUP_NAME") 的调用始终返回 false。

我怀疑这是因为我的开发虚拟机没有加入域。有谁知道 ASP.NET MVC 中的 Windows 身份验证是否适用于工作组角色以及域角色？

编辑

我发现我可以枚举角色 - 这给出了：

```
?System.Web.Security.Roles.GetRolesForUser()
{string[9]}
[0]: "None"
[1]: "CONSOLE LOGON"
[2]: "Everyone"
[3]: "NT AUTHORITY\\This Organization"
[4]: "NT AUTHORITY\\INTERACTIVE"
[5]: "NT AUTHORITY\\Authenticated Users"
[6]: "NT AUTHORITY\\NTLM Authentication"
[7]: "LOCAL"
[8]: "BUILTIN\\Users" 
```

但是，当我在“管理计算机”屏幕中查看我的组成员身份时，我属于以下组：

```
Administrators
Users
GROUP_NAME 
```

所以：@User.IsInRole("None") 返回 true；@User.IsInRole("GROUP_NAME") 返回 false。

GetRolesForUser 从哪里获取组列表？

# spring - 无法将 GWT 与 Spring RestTemplate 实现集成

> ID：12972409
> 
> 赞同：0
> 
> 时间：2012-10-19T10:32:03.787
> 
> 标签：spring, gwt, gwt-rpc, gwt2, resttemplate

我是 GWT 的初学者。目前我正在尝试在 Spring 中创建一个 Web 应用程序来使用来自**REST的数据并在****GWT**中显示这些详细信息。因此，我为客户端使用 了**Spring RestTemplate**（发出请求并解组到 java 对象）并将依赖注入留给 Spring（注释）。**我已经在具有 GWT-2.4 插件**的 Eclipse IDE 中开发了这些东西。

 **我已尝试在以下案例中启动此 Web 应用程序并面临特定问题。

**案例 #1：** 当我尝试将应用程序作为 Google Web 应用程序启动时（右键单击 -> 运行方式 -> Google Web 应用程序），没有发生依赖注入，它在属性引用上抛出 NullPointerException。我想当我以 Google App 开始时，它不会使我的上下文加载，因此 Bean-DI 不会发生。

**案例 #2：** 尝试在 Tomcat 服务器上运行时，我所有的 Bean 创建和依赖注入都在发生，但它没有为 GWT 创建入口点。我没有明确定义任何控制器，因为我认为 GWT 会处理它（就像在 Google Web App Server 中运行一样）。

**注意：**当我单独运行 GWT 模块（不使用来自 WebService 的数据）时，应用程序运行良好，甚至 Spring RestTemplate 模块在使用 RestService 时也能正常工作，并在 System.Out.println() 中显示值。

**核心问题是在 GWT 和 Spring DI 之间进行交互。**

**项目.gwt.xml：**

```
<inherits name='com.google.gwt.user.User'/>
<inherits name='com.google.gwt.user.theme.clean.Clean'/>

<entry-point class='com.abc.XXXX.gwt.ui.client.XXXX'/>

  <source path='client'/>
  <source path='shared'/>
  <source path='service'/> 
```

**应用程序上下文.xml：**

```
<context:component-scan base-package="com.serco.XXXX" />

<context:property-placeholder location="classpath:ClientConfig.properties" />

<bean id="clientSkillService" class="com.abc.XXXX.gwt.ui.service.clientService.impl.ClientSkillService"
    p:hostName="${rest.hostName}"
    p:portNumber="${rest.port}"
    p:userName="${rest.userName}"
    p:password="${rest.password}">
</bean>

<bean id="restTemplate" class="org.springframework.web.client.RestTemplate">
    <property name="messageConverters">
        <list>
            <bean class="org.springframework.http.converter.xml.MarshallingHttpMessageConverter">
                <constructor-arg>
                    <bean class="org.springframework.oxm.jaxb.Jaxb2Marshaller">
                        <property name="classesToBeBound">
                            <list>
                                <value>com.abc.XXXX.gwt.ui.shared.SkillDetailList</value>
                                <value>com.abc.XXXX.gwt.ui.shared.SkillDetail</value>
                            </list>
                        </property>
                    </bean>
                </constructor-arg>
            </bean>
        </list>
    </property>
</bean> 
```

**Web.xml：**

```
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>
    classpath:ApplicationContext.xml
    </param-value>
</context-param>

<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener> 
```

请提供您的建议，如何使其工作。

提前致谢。

**更新：** HTML 文件

```
 <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>XYZ UI DASHBOARD</title>
    <script type="text/javascript" language="javascript" src="RTSocketDataMonitor/RTSocketDataMonitor.nocache.js"></script>
  </head>
  <body>
    <h1 align="center">XYZ UI DASHBOARD</h1>
    <div align="center" id="grid_tbl"></div>
</body> 
```

**入口点类：XXXX.java**

```
public class XXXX implements EntryPoint {
    /*entry point method*/
    public void onModuleLoad() {
        //Creation of DialogBoxes and Panel here
        DialogBox dialogBox;
        //Creation of Composite Derived Class which has DataGrid, DataList, Columnprovider properties to render Details in Table format
        SkillDetailPaginationHandler<SkillDetail> skd = 
        new SkillDetailPaginationHandler<SkillDetail>();
        //added VertiCal Panel in Dialogue Boxes and set it in RootPanel
        RootPanel.get("grid_tbl").add(dialogBox);
    }
} 
```

**GWT 编译的 WAR 内容：**

```
 ->Root
      -->XXXX(Folder in the Project Name)
        -->gwt(Folder)
        -->XXXX.nocache.js
        -->host.html
      -->WEB-INF (Folder)
        --> deploy
        --> lib 
        --> web.xml 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:53:34.620

您需要将两个模块分开在单独的项目中。

您需要先编译 GWT 模块，然后将其生成的文件放在主 Web 项目中，然后从 Web 应用程序的控制器调用 GWT 项目的 .html 文件。我希望你理解这一点，它可以帮助你。**

# c++ - 通过 Windows.h 函数关闭打开的文件

> ID：12972410
> 
> 赞同：-2
> 
> 时间：2012-10-19T10:32:07.523
> 
> 标签：c++, windows, visual-studio-2008

如果我知道它的名称，如何在 Windows 中关闭打开的文件，例如“C:\1.txt”（它是通过 CreateFile(...) 打开的）？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:53:55.620

只需[关闭](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724211%28v=vs.85%29.aspx)调用 CreateFile 时创建的句柄。`CloseHandle()`

顺便说一句，当您有 C++ 标准方法来处理文件时，为什么要使用 Windows API？

看到[这个](http://www.cplusplus.com/forum/beginner/39236/)

# android - Android 触摸和滚动列表视图

> ID：12972413
> 
> 赞同：3
> 
> 时间：2012-10-19T10:32:19.077
> 
> 标签：android

我的应用程序中有一个自定义列表视图，其中列表项是可拖动的，并且可以放在列表视图本身的另一个位置。现在我的问题是，我想滚动列表视图。我尝试使用 onIntercept 触摸事件，但只发生触摸事件。我无法滚动，有人可以建议我如何实现这件事...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T12:07:41.570

如何为您创建布局，`ListItem`如下所示：

![在此处输入图像描述](../Images/1d73f0212bc086787df8ea7565cb27da.png)

如果此布局不符合您的要求，请告知我们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-22T06:41:51.633

我使用 pointToPosition 方法获得了平面位置，并将其动态提供给 smoothScrollToPosition 方法，

```
 int flatPos=pointToPosition(flatx, flaty);

    super.smoothScrollToPosition(flatPos); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-30T12:55:11.817

您可以考虑改用 Carl A. Bauer 的开源[`DragSortListView`库](https://github.com/bauerca/drag-sort-listview)。即使在没有拖放功能的旧 Android 版本上，它也可以处理拖放排序，同时让您仍然滚动列表。您可以特别使用两种技术：您可以使用拖动手柄（如 Gagan 画的那个）对项目进行排序，并让拖动到其他任何地方滚动列表；或者您可以让拖动滚动列表，然后长按一个项目将其拾起并重新排列。它在处理点击和拖动方面非常灵活，因此也有更多的可能性。

全面披露：作为图书馆的用户，我也为它做出了贡献，但我对使用它的人没有经济利益，也与作者没有其他联系。

# android - 带有服务（使用警报开始）的 Android Widget 经常被调用

> ID：12972423
> 
> 赞同：0
> 
> 时间：2012-10-19T10:32:43.657
> 
> 标签：android, android-widget, android-alarms, android-appwidget

在一项要求中，我创建了一个应该每 5 分钟更新一次的小部件。我在互联网上发现，我应该使用 AlarmManager 来节省电池，而不是使用 java 线程。现在我正在使用 AlarmManager 进行操作。

我面临的问题是 Service 类的 onStart 方法被非常频繁地调用。一秒钟差不多10次。听说是我的两个班。

```
public class MyAppWidget extends AppWidgetProvider {

    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {  
        intent = new Intent(context, UpdateWidgetService.class);
        context.startService(intent);
    }
} 
```

服务类是

```
public class UpdateWidgetService extends Service {  

private Intent intent;

@Override
public void onStart(Intent intent, int startId) {
this.intent = intent;
System.out.println("This is getting printed 10 times in a second.");
final PendingIntent pending = PendingIntent.getService(getApplication(), 0, intent, 0);
AlarmManager alarm = (AlarmManager) getApplication().getSystemService(Context.ALARM_SERVICE);
alarm.cancel(pending);
long interval = 3000;
alarm.setRepeating(AlarmManager.ELAPSED_REALTIME, SystemClock.elapsedRealtime(),interval, pending);     

stopSelf();
super.onStart(intent, startId);
 } 
} 
```

我还在 xml 文件中设置了属性以进行自动刷新，但这没有用。该应用程序未使用以下属性来刷新小部件。我还想知道如果应用程序使用此属性，将调用哪个方法。

```
android:updatePeriodMillis="1000" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:27:14.617

我建议你移动

```
super.onStart(intent, startId); 
```

到你方法的开始。用 stopSelf() 停止服务后调用它是不对的；

# android - 如何获取 android 锁屏包名称

> ID：12972433
> 
> 赞同：3
> 
> 时间：2012-10-19T10:33:22.570
> 
> 标签：android, package, lockscreen

有没有办法获得android锁屏包名称？

我想使用在锁屏上显示警报`AlertDialog.Builder`。所以我需要知道锁屏何时激活以及它的包名。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-02T08:27:33.057

您可以检测锁屏是否显示：

```
((KeyguardManager) getSystemService(Context.KEYGUARD_SERVICE)).inKeyguardRestrictedInputMode(); 
```

您可以通过以下方式获取当前的热门活动：

```
(ActivityManager) getSystemService(Service.ACTIVITY_SERVICE).getRunningTasks(1).get(0).topActivity; 
```

这通常是锁屏活动，但也有可能在锁屏处于活动状态时显示手机应用程序：在这种情况下，它将是手机活动。

您需要 android.permission.GET_TASKS 权限才能使其工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-09T09:57:18.960

真的是一个简单的解决方案。

```
KeyguardManager km = (KeyguardManager) getApplicationContext().getSystemService(Context.KEYGUARD_SERVICE);

if( km.inKeyguardRestrictedInputMode()) {
               //it is locked

                  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-09T15:21:11.267

找到了本机解决方案。在构建警报对话框之后并在显示它之前，应用这个：

```
AlertDialog alertDialog = new AlertDialog.Builder(context).create();
        alertDialog.getWindow().setType(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);
        alertDialog.show(); 
```

这将在锁定屏幕顶部显示对话框。

# mysql - 在 Windows 7 上重新启动 mysql 服务器

> ID：12972434
> 
> 赞同：65
> 
> 时间：2012-10-19T10:33:24.367
> 
> 标签：mysql, windows

如何在 Windows 7 上重新启动 MySQL？

我使用 HeidiSql 作为前端，那里没有选项。

我唯一拥有的其他东西是 MySQL 5.5 命令行客户端。

* * *

## 回答 #1

> 赞同：116
> 
> 时间：2012-10-19T10:35:34.907

打开命令提示符并输入以下命令：

```
net stop MySQL   
net start MySQL 
```

MySQL 服务名称可能会根据您安装的版本而更改。在我的情况下，MySQL 版本是 MySQL Server 5.7。所以我使用以下命令

```
net stop MySQL57   
net start MySQL57 
```

* * *

## 回答 #2

> 赞同：36
> 
> 时间：2014-01-29T15:20:46.783

您可以按照以下步骤通过 UI 重新启动服务：

1.  打开任务管理器（可能需要以管理员身份运行）

2.  点击“服务”按钮，找到“MySql”服务

    注意：在某些情况下，“MySql”服务将被命名为您在创建服务器时命名的初始数据库。例如，如果您将初始数据库称为“myfirstdb”，则该服务将称为“myfirstdb”。您应该能够通过按“描述”列排序来找到服务，因为描述将是空白的。

3.  右键单击“MySql”服务并选择“重新启动”选项

感谢@Doug_Ivison 和@Lucky 的服务名称注释和评论中的“以管理员身份运行”澄清。

![在此处输入图像描述](../Images/fb963226e73cf8e09a8904c723107dbb.png)

![在此处输入图像描述](../Images/dc986954c42a091a204a3d8e47f84836.png)

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2016-09-22T14:36:44.727

在 Windows 中，

*   通过+打开`Run`窗口`Win``R`
*   类型`services.msc`
*   根据安装的版本搜索`MySQL`服务（有时发现为`MySQL56`或）。`MySQL57`
*   单击停止、启动或重新启动服务选项。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2014-04-21T21:49:59.730

到目前为止，这些建议仅在将 mysql 服务器安装为 Windows 服务时才有效。

如果它没有作为服务安装，您可以使用 Windows 开始按钮 ==> 运行来启动服务器，然后浏览到您的 mysql 安装路径下的 /bin 文件夹并执行 mysqld。或者只是在 bin 文件夹中打开一个命令窗口并输入：mysqld

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2015-04-27T16:10:18.600

第一次尝试：

```
net stop MySQL   
net start MySQL 
```

如果这不起作用，请尝试使用 windows 界面：

开始 > 控制面板 > 系统和安全 > 管理工具 > 服务

查找您的 MySQL 版本（在我的例子中 - MySQL55），突出显示并单击绿色开始箭头。状态应更改为“已启动”

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2014-12-18T17:16:19.060

改用net stop mysql57，应该是没有指定的版本

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-03-16T23:36:58.603

我也有同样的问题，打开任务管理器，进入服务选项卡，搜索 MySQL_One 服务，点击启动，效果很好。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-02-09T07:49:08.427

Ctrl + alt +delete 启动TASK MANAGER ，选择Service ，然后你会找到MySQL，右键单击该项目，然后选择start，你的MySQL Server就会启动！

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2016-05-23T14:11:45.620

为了防止“ `Access Denied`”错误：

`Start` **->**搜索' `Services`' **->** `right click` **->**运行为`admistrator`

# javascript - 如何使用 jquery 在浏览器中获取我的网站打开的标签数量？

> ID：12972435
> 
> 赞同：2
> 
> 时间：2012-10-19T10:33:25.253
> 
> 标签：javascript, jquery, html, node.js

我正在寻找一种方法来了解在浏览器中打开了我的网站的标签数量。基本上我的目的是处理“让我登录”检查。但问题是当我没有选中该复选框并打开多个选项卡时，如果我关闭一个选项卡，它会删除我的会话。我想知道用户是否没有选中“让我保持登录”复选框，然后他关闭了我网页的最后一个选项卡，那么我应该销毁他的会话。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T10:37:11.223

我猜（并希望）你不能，因为这意味着你可以访问用户的私人数据——例如他在另一个选项卡中打开了哪个 URL。

你在这里尝试的对我来说是一场隐私噩梦……</p>

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T10:37:25.090

您应该使用 cookie 来检查您是否已登录。您不应该知道用户正在查看哪些其他网站或他正在查看多少其他网站

# sharepoint-2010 - 如果我们将项目添加到自定义 SPList 。它不会被任何其他人查看...同样我们无法查看他们添加的项目...-SharePoint 2010

> ID：12972436
> 
> 赞同：0
> 
> 时间：2012-10-19T10:33:31.127
> 
> 标签：sharepoint-2010

如果我们向自定义 SPList 添加一个项目。它不会被任何其他人查看（他们也有权访问 SPList）......同样我们无法查看他们添加的项目......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T14:10:34.200

可能是这个列表使用了停止继承属性=false。那就是用户创建的项目仅显示给当前用户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-22T15:13:52.823

Two List Settings to check:

1.  Versioning settings: If Content Approval is Yes, check the Draft Item Security. If users are adding items to a version enabled list, but are not marking those items as approved, then those items will not be visible to all other users.
2.  Advanced settings: If Item-level Permissions is Read items that were created by the user, then only the author, list owners, and site collection administrators will be able to view an item.

# ios - 在 Apple 文档中释放 ivars 并将属性设置为 nil

> ID：12972437
> 
> 赞同：0
> 
> 时间：2012-10-19T10:33:31.763
> 
> 标签：ios

我一直使用`@synthesize`.h 文件中声明的类属性。[我在此处](http://developer.apple.com/library/ios/#samplecode/PhotoPicker/Listings/AppDelegate_m.html)找到的一些 Apple 文档中遇到了*PhotoPicker*示例，并发现了一个非常令人困惑的声明。在他们的 AppDelegate 类（.h 文件）中，他们不创建任何 ivars，只创建属性，如下所示：

```
#import <UIKit/UIKit.h>
@interface AppDelegate : NSObject <UIApplicationDelegate>
@property (nonatomic, retain) IBOutlet UIWindow *window;
@end 
```

在他们的 Appdelegate.m 文件中，他们这样写：

```
#import "AppDelegate.h"

@interface AppDelegate ()
@property (nonatomic, retain) IBOutlet UINavigationController *navController;
@end

@implementation AppDelegate; 
```

现在，我没有找到任何`@synthesize`指令或任何 ivars，但是如果我查看`dealloc`他们发布一些“不可见”的 ivars 的方法（什么？？？）

```
- (void)dealloc
{
    [_navController release];
    [_window release];

    [super dealloc];
} 
```

在 viewController 类中，他们将属性设置为 nil`viewDidUnload`并在方法中释放（非创建的）“ivars” `dealloc`。

这是否与一些新的 Xcode 事物有关？有人可以对此有所了解吗？我正在检查我的逻辑，`didReceiveMemoryWarning`并且总是将属性设置为 nil`viewDidUnload`并释放 ivars，`dealloc`但我以前从未见过。

提前感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:32:55.897

Xcode 4.5 可以自动合成属性。它通过创建普通的 setter/getter 来实现，并且还创建了一个带有前置“_”的 ivar。如果你不喜欢这样，你可以添加你自己的：

```
@synthesize foo; 
```

或使用您想要的任何 ivar：

```
@synthesize foo=MyFoo; 
```

这些属性和综合问题与内存管理是正交的。如果您有 ARC，并且上述技术可以正常工作 - 您不需要使用 dealloc。但是，如果你不使用 arc，那么你应该在 dealloc 中使用 [_foo release] 释放对象；

推荐发布而不是 self.foo = nil 的原因是，在您的对象正式发布后，使用 setter 会生成 KVO 通知。

# javascript - JSONP回调不起作用

> ID：12972439
> 
> 赞同：3
> 
> 时间：2012-10-19T10:33:51.763
> 
> 标签：javascript, html, jsonp

我试图让一些 JSONP 工作，但似乎没有调用回调函数。我查看了其他问题，但我的代码看起来像其他有效的代码 - 有什么想法吗？

```
 <script type="text/javascript">
        function callbackFunc(jsonp){
            alert('In callback');
            alert(jsonp);
        }
    </script>

    <script src="http://localhost:8081/returnUser?username=johndoe@gmail.com&password=testpassword&callback=callbackFunc" type="text/javascript">

    </script>

</body> 
```

我已经在 IE8、Firefox12 和 Chrome 中尝试过。当我通过 firefox 运行它时，我看到 url 正在返回适当的 JSON：

[{"lastName":"Doe","password":"testpassword","userId":2,"firstName":"John","username":"johndoe@gmail.com"}]

欢迎任何帮助。

非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:40:43.827

服务器应返回 JavaScript

```
callbackFunc({"lastName":"Doe","password":"testpassword","userId":2,"firstName":"John","username":"johndoe@gmail.com"}) 
```

为此工作。

# android - 将 ImageView 合并到单个位图图像（Android）

> ID：12972440
> 
> 赞同：4
> 
> 时间：2012-10-19T10:33:53.657
> 
> 标签：android, bitmap, merge, imageview, viewgroup

我有不止一个`ImageView`动态添加到扩展的布局类中`ViewGroup`，有一个用于背景，还有一个以上`ImageView`可拖动到背景之上。我想将它们合并`ImageView`为一个`Bitmap Image`，而不会破坏那些拖动图像的位置。

有没有合并不同大小的方法`ImageView`？或者合并 a 的内容`ViewGroup`？因为我以后还想将图像与`TextView`...合并

感谢你们对我的帮助 ：）

如果您需要更多信息，请告诉我。

# android - 已安装媒体播放器的 android-list

> ID：12972445
> 
> 赞同：0
> 
> 时间：2012-10-19T10:34:06.870
> 
> 标签：android, android-mediaplayer

我知道这篇文章就像这个问题： [如何获取已安装媒体播放器的列表，](https://stackoverflow.com/questions/4586684/how-to-get-a-list-of-installed-media-players) 但我试图测试代码并且它崩溃了！这是代码：

```
public class Newactivity extends Activity {
protected void onCreate(Bundle savedInstanceState) {

super.onCreate(savedInstanceState);
setContentView(R.layout.display);
Intent intent = new Intent(Intent.ACTION_VIEW);
Uri uri = Uri.withAppendedPath(MediaStore.Video.Media.INTERNAL_CONTENT_URI,"1"); 
intent.setData(uri);
List<ResolveInfo> playerList;
PackageManager packageManager = null;
playerList = packageManager.queryIntentActivities(intent, 0);
    } 
```

这是 logcat 错误：

```
10-19 13:05:52.770: E/AndroidRuntime(558): FATAL EXCEPTION: main
10-19 13:05:52.770: E/AndroidRuntime(558): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.upnpexample/com.upnpexample.Newactivity}: java.lang.NullPointerException
10-19 13:05:52.770: E/AndroidRuntime(558):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
10-19 13:05:52.770: E/AndroidRuntime(558):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
10-19 13:05:52.770: E/AndroidRuntime(558):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
10-19 13:05:52.770: E/AndroidRuntime(558):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
10-19 13:05:52.770: E/AndroidRuntime(558):  at android.os.Handler.dispatchMessage(Handler.java:99)
10-19 13:05:52.770: E/AndroidRuntime(558):  at android.os.Looper.loop(Looper.java:123)
10-19 13:05:52.770: E/AndroidRuntime(558):  at android.app.ActivityThread.main(ActivityThread.java:3683)
10-19 13:05:52.770: E/AndroidRuntime(558):  at java.lang.reflect.Method.invokeNative(Native Method)
10-19 13:05:52.770: E/AndroidRuntime(558):  at java.lang.reflect.Method.invoke(Method.java:507)
10-19 13:05:52.770: E/AndroidRuntime(558):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
10-19 13:05:52.770: E/AndroidRuntime(558):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
10-19 13:05:52.770: E/AndroidRuntime(558):  at dalvik.system.NativeStart.main(Native Method)
10-19 13:05:52.770: E/AndroidRuntime(558): Caused by: java.lang.NullPointerException
10-19 13:05:52.770: E/AndroidRuntime(558):  at com.upnpexample.Newactivity.onCreate(Newactivity.java:31)
10-19 13:05:52.770: E/AndroidRuntime(558):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
10-19 13:05:52.770: E/AndroidRuntime(558):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
10-19 13:05:52.770: E/AndroidRuntime(558):  ... 11 more 
```

有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T12:28:44.173

可能没有任何内容`Uri`，因为你正在编造它。请使用`Uri`实际内容。

除此之外，检查 LogCat 中的堆栈跟踪，看看你可能做错了什么。

* * *

**更新**

```
PackageManager packageManager = null;
playerList = packageManager.queryIntentActivities(intent, 0); 
```

既然`packageManager`是`null`，你会在`NullPointerException`这里得到一个。用于`getPackageManager()`获取`PackageManager`.

# javascript - jQuery可以从字符串变量中的HTML标签获取属性吗

> ID：12972446
> 
> 赞同：3
> 
> 时间：2012-10-19T10:34:07.217
> 
> 标签：javascript, jquery, substring

在 JavaScript 内部，在运行时，我正在获取`checkbox`内部的HTML 代码，`string`如下所示：

```
var chk="<input type='checkbox' id='checkbox1' name='chk1' />"; 
```

我 想得到`ID`.`checkbox`

**我的问题是：**

jquery 是否支持任何`api`to 来检索 的值`id`？
**或者**
我是否必须遵循 JavaScript`api`才能达到同样的效果？

**注意：** 目前我正在使用以下 JavaScript 代码：

```
var i=chk.indexOf("id");
var s=chk.substring((i+4));
var j=s.indexOf("'");
s=s.substring(0,j); 
```

最后`s`包含. `id`_`checkbox`

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-19T10:35:30.303

试试这个，

**[现场演示](http://jsfiddle.net/pDXv5/1/)**

```
var chk = $("<input type='checkbox' id='checkbox1' name='chk1' />");

alert(chk.attr('id'));​ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T10:36:21.143

是的，您可以使用 jquery 轻松完成，如下所示：

```
var chk="<input type='checkbox' id='checkbox1' name='chk1' />";
id = $(chk).attr('id');
alert(id); //alerts 'checkbox1' 
```

查看工作[**演示**](http://jsfiddle.net/gnel/wp7x4/)

# gcc - 运行 CPPUTest 时出现 libstdc++-6.dll 错误

> ID：12972449
> 
> 赞同：1
> 
> 时间：2012-10-19T10:34:16.490
> 
> 标签：gcc, cpputest

我正在尝试使用 CPPUTest 来学习 TDD 以进行嵌入式 C 单元测试。我能够在 eclipse CDT 上使用 gcc 编译基本的 C 代码。我试图编译 CPPUTest 附带的 c++ 文件。我尝试运行的机器是 64 位 Windows 7 操作系统。我已经从 sourceforge 为 gcc 安装了 i686-w64-mingw32 二进制包。

测试 cpp 文件的编译和使用 make all 的链接是成功的。但是当测试开始运行时，我得到了以下错误。

“程序无法启动，因为您的计算机中缺少 libstdc++-6.dll。请尝试重新安装程序以解决问题。”

但是，我在 mingw/mingw/lib 下找到了 libstdc++6.dll。我已将此添加到路径中。它似乎仍然没有运行测试。

任何解决此问题的建议都会有所帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-06T20:23:05.860

嗨，去这个地址下载 TDM-GCC 编译器，然后在安装之前清理最后一个 mingw [http://tdm-gcc.tdragon.net/](http://tdm-gcc.tdragon.net/)

# jquery - jQuery 在 Ajax 发布后不起作用

> ID：12972450
> 
> 赞同：1
> 
> 时间：2012-10-19T10:34:24.347
> 
> 标签：jquery, ajax

我正在使用 jQuery 在`<LI></LI>`标签之间对条目列表进行排序，然后使用 Ajax 帖子来验证订单并使用返回的内容“更新”页面。

```
$.ajax({url: "./test.php?id=<?php echo $id; ?>&action=modify",
    contenttype: "application/x-www-form-urlencoded;charset=utf-8",
    data: {myJson:  data},
    type: 'post',
    success: function(data) {
        $('html').html(data);
        OnloadFunction ();
        }
    }); 
```

然后，我失去了对列表进行排序的能力（我不确定是否清楚......）。我试图移动`$(document).ready`里面的内容，并在处理修改的块里面`OnloadFunction ()`调用它来做：`<script>OnloadFunction ();</script>`

```
$action= $_GET['action'];
if ($action == "modify") {
// Code here
} 
```

但它不起作用......

我不知道该怎么做。有人可以帮忙吗？

我剥离了代码的主要部分，只保留必要的部分（文件名：test.php）

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <script type="text/javascript" src="jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="jquery-ui-1.9.0.custom.min.js"></script>
    <script>
    $(document).ready(function(){ 
        //alert("I am ready");
        OnloadFunction ();
        }); 

    function OnloadFunction () {
            $(function() {
            $("#SortColumn ul").sortable({ 
                opacity: 0.6, cursor: 'move',
                update: function() {}                                 
                });
            });
            //alert('OnloadFunction ends');
        }

    function valider(){
        var SortedId = new Array(); 
        SortIdNb = 0;
        $('#SortColumn ul li').each(function() {
            SortedId.push(this.id);
        });
            var data = {
            /* Real code contains an array with the <li> id */
            CheckedId: "CheckedId",
            SortedId: SortedId,
            };
        data = JSON.stringify(data);
        $.ajax({url: "./test.php?id=<?php echo $id; ?>&action=modify",
            contenttype: "application/x-www-form-urlencoded;charset=utf-8",
            data: {myJson:  data},
            type: 'post',
            success: function(data) {
                //alert(data);
                $('html').html(data);
                OnloadFunction ();
                }
            });
        }
    </script>
</head>
<body>
<?

$action= $_GET['action'];
$id = $_GET['id'];
if ($id == 0) {$id=1;}
$id += 1;
if ($action == "modify") {
    echo "action: modify<br>";
    echo "id (àvèc aççént$): ".$id."<br>"; // "(àvèc aççént$)" to check characters because character set is incorrect after the ajax post
    $data = json_decode($_POST['myJson'], true);
    // PHP code here to treat the new list send via the post and update the database
    print_r($data);
    }
?>
<!-- PHP code here to get the following list from the database -->
<div id="SortColumn">
    <ul>
        <li id="recordsArray_1">recordsArray_1</li>
        <li id="recordsArray_2">recordsArray_2</li>
        <li id="recordsArray_3">recordsArray_3</li>
        <li id="recordsArray_4">recordsArray_4</li>
        <li id="recordsArray_5">recordsArray_5</li>
    </ul>
</div>
<input type="button" value="Modifier" onclick="valider();">

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:57:17.210

将您的代码更改为此

```
$(document).ready(function(){ 
    //alert("I am ready");
    OnloadFunction ();
    }); 

function OnloadFunction () {

        $("#SortColumn ul").sortable({ 
            opacity: 0.6, cursor: 'move',
            update: function() {}                                 
            });

        //alert('OnloadFunction ends');
    } 
```

# iphone - -tableView:cellForRowAtIndexPath: 没有被调用

> ID：12972452
> 
> 赞同：2
> 
> 时间：2012-10-19T10:34:33.767
> 
> 标签：iphone, uitableview, ios5, xcode4

我已经`UITableView`进入`UIViewController`并且我已经通过插座连接，并且将数据源分配给自我。`numberOfSectionsInTableView`并且`numberOfRowsInSection`被调用我尝试使用`NSLog`但`cellForRowAtIndexPath`没有被调用我的代码看起来像

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    NSLog(@" cellForRowAtIndexPath ");

    static NSString *CellIdentifier = @"CurrencyCell";

    CurrencyCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[CurrencyCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] ;
    }
    new *Obj = [appdelegate.array objectAtIndex:indexPath.row];

    cell.CurNameLabel.text = Obj.C_Name;
    cell.textLabel.text = @"sdfnhsdfndsio;";
    NSLog(@"C_Name %@", Obj.C_Name);

    return cell;
} 
```

谁能告诉我我犯了错误提前谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-19T10:39:06.637

看起来`numberOfSectionsInTableView`和`numberOfRowsInSection`返回的是 0。如果是这种情况，那么 cellForRowAtIndexPath 将不会被调用..

从上面的评论..似乎“YourAppDelegate”变量是`null`或 yourArray 是。尝试`null`在这些委托上保留断点，以检查它们返回的值

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-19T10:41:00.800

尝试在 .h 文件中添加委托和数据源，如下所示。

```
@interface AddProjectViewController : UIViewController<
UITableViewDataSource,UITableViewDelegate>
.....
@end 
```

输入此代码后`viewDidLoad:`..

```
 - (void)viewDidLoad
   {
        yourTableView.delegate= self;
        yourTableView.dataSource=self;
   } 
```

最后尝试在`numberOfRowsInSection`方法中返回`int`大于 0 的值

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [yourArray count];//or any int value
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-19T10:48:23.593

似乎`numberOfSectionsInTableView`和`numberOfRowsInSection`返回为 0 或可能是另一个原因

仔细检查以下几点

**1**如果您从 XIB 创建 TableView，则应设置数据源并委托给文件的所有者。

如果您以编程方式创建它，那么您应该如下设置委托和数据源，并且不要忘记采用`dataSourec`and `delegate`for `UItableView`in`.h`

```
 YourViewController : UIViewController<UITableViewdelegate, UITableViewDatasource> 
```

将下面的代码行放在创建 UITableView 的行之后

```
 tableViewObj.delegate= self;
        tableViewObj.dataSource=self 
```

**2**仔细检查您的`datasource`（无论数组的名称是什么）是否有数据，因为每当您创建行数时，您都会传递数组`count，如下所示

```
 - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
     {  
      int  numberOfRows= [datasource count];
      return numberOfRows;
      //  here check does the `numberOfRows` have nonzero value or just 0
      if it retunes 0 then cellForAtIndexPath would not call .
   } 
```

希望对你有帮助

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-19T11:01:20.533

如果您在应用程序中启用了多线程概念，即使您调用`reloadData`方法`tableview` `cellForRowAtIndexPath`有时也不会被调用。所以像这样调用 realod 方法：

```
[self performSelectorOnMainThread:@selector(reloadTable) withObject:self waitUntilDone:NO]; 
```

它可能会起作用。

```
- (void)reloadTable
{
    [self.tableView reloadData];
} 
```

如果您不在多线程环境中，那么您需要确保`tableviews` `delegate`并且`datasource`不为空。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-19T10:45:27.207

在“numberOfRowsInSection”方法中检查数组中的数值。在返回值之前打印您的数组。

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    NSLog(@"%@",returnedArray);
    return [returnedArray count];//
} 
```

您也可以尝试在您的方法中发送一些静态行数来检查。

看起来您的数组在该方法中变得空了。

希望它能解决你的问题。

# javascript - 如何更改子菜单侧显示在左侧而不是右侧

> ID：12972457
> 
> 赞同：1
> 
> 时间：2012-10-19T10:34:48.403
> 
> 标签：javascript, css, wordpress, drop-down-menu, menu

我有 wordpress 主题，它的菜单和子菜单向右而不是向左打开（我的语言需要它向左打开）？见下图。

我知道这是一个 css 调整或一个小的 javascript 更改。你能帮我解决这个问题吗？

右侧菜单：[http ://corenetos.com/img/menu2.png](http://corenetos.com/img/menu2.png)

左侧菜单：[http ://corenetos.com/img/menu3.png](http://corenetos.com/img/menu3.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:38:10.430

答案是：

在css子菜单的**li ul**上放上以下内容： **margin-left:-300px**

它会出现在右边

# android - 通过 Google Cloud Messaging for Titanium 的 Android 推送通知

> ID：12972458
> 
> 赞同：1
> 
> 时间：2012-10-19T10:34:49.327
> 
> 标签：android, push-notification, titanium-mobile, appcelerator-mobile, google-cloud-messaging

如果有人知道如何在 Titanium 移动开发中通过 Google Cloud Messaging 实现 Android 推送通知，请为我提供一些帮助。

提前感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T06:03:59.447

您可以检查这个将 GCM 与您的应用程序集成的钛模块[https://github.com/liccowee/Google-Cloud-Messaging--Titanium-/](https://github.com/liccowee/Google-Cloud-Messaging--Titanium-/)

我仍在试图弄清楚它是如何工作的，但看起来很多人都在使用它并且它工作正常..

PS：我已经用我的一个应用程序对其进行了测试，它的工作就像一个魅力一样超过一个星期..但是你需要小心如何设计你的应用程序通知工作

# sql-server - 奇怪的字符问题

> ID：12972460
> 
> 赞同：1
> 
> 时间：2012-10-19T10:34:52.990
> 
> 标签：sql-server, encoding, character-encoding, sybase, linked-server

我们有一个连接到 Sybase 数据库的链接服务器（在 SQL Server 中）。我们还有一项工作是通过链接服务器从 Sybase 传输数据并写入 SQL Server 数据库。

问题是在将数据从 Sybase 传输到 SQL Server 时，它转换`£`为`œ`. 正在使用的 SQL Server 排序规则是`SQL_Latin1_General_CP1_CI_AS`.

我在链接服务器属性中尝试了所有可能的服务器选项，例如等`Use Remote Collation`，`Collation Compatible`但没有任何乐趣。

当我通过 Interactive SQL（即 Sybase 工具）获取数据时，数据显示正确。

我不知道我还能做什么，请帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T16:17:46.257

如上所述，这是代码页问题。我更改了包含与 sybase 1 相同的代码页 850 的排序规则，并且已修复。

# php - 快速表单 - 未选中复选框

> ID：12972465
> 
> 赞同：1
> 
> 时间：2012-10-19T10:35:28.747
> 
> 标签：php, html, css, quickform

我刚开始学习 Quick Form 。我想知道如何使用 add 元素创建一个复选框，然后将其对齐到某个所需的位置。这是我尝试过的：

```
$form->addElement('checkbox','testCB1', 'Test my check box',array('checked'=>'checked',value =>'10')); 
```

但是我的复选框没有被选中，它的值也不是 10 。

提前致谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:52:43.830

调用`setChecked()`方法：

```
$form->addElement('checkbox','testCB1', 'Test my checkbox',array('value' =>'10'))->setChecked(true); 
```

[参考](http://pear.php.net/manual/en/package.html.html-quickform.html-quickform-checkbox.setchecked.php)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T10:55:30.827

阅读这篇文章：[QuickForm – 设置复选框选中值](http://raamdev.com/2006/html_quickform-setting-the-advcheckbox-checked-value/)

# linux - 使用 iptables/ipfilter 重新加载防火墙规则时进行错误处理的可靠/稳健方式

> ID：12972468
> 
> 赞同：-1
> 
> 时间：2012-10-19T10:35:35.840
> 
> 标签：linux, iptables

我需要一种强大/可靠/优雅的方式来处理任何错误情况，同时重新加载防火墙规则，一些背景：

1.  我们的服务器正在使用白名单机制，这意味着如果某个服务器需要与许多不同的目的地通信，则应该有大量的规则。
2.  我们有另一个工具来生成防火墙规则文件，该文件将提供给 iptables/ipfilter，文件格式错误的可能性非常小。
3.  由于防火墙规则数量可能非常大，iptables/ipfilter 可能由于我们一些旧硬件的资源限制而无法加载防火墙规则文件，例如，在某些情况下内存可能不够，同时重新加载超过 20k 条规则共。

所以我的问题是：

1.  是否有任何现有工具可用于在实际加载防火墙规则之前检查它们的语法？

2.  是否有任何方法可以使重新加载过程原子化，例如，它要么成功地重新加载新规则，要么只保留以前的健康规则集？

3.  在给定当前运行环境和规则集的情况下，如何确保重新加载一定会成功？或者是否有任何工具可以让我估计重新加载可能会成功/失败？

任何建议都热烈欢迎。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:50:05.510

据说[iptables-restore](http://unixhelp.ed.ac.uk/CGI/man-cgi?iptables-restore%208)[是](http://www.semicomplete.com/blog/geekery/atomic-iptables-changes-and-not-dropping-packets.html) 原子[的](http://www.tummy.com/journals/entries/kevin_20100116_122930)。我无法证实这一点，但**假设**这是真的，那么这似乎是一种明智的做法。

 **1.  在测试机器上，刷新所有规则，然后应用您生成的规则来验证它们。
2.  验证后，用于[`iptables-save`](http://www.frozentux.net/iptables-tutorial/chunkyhtml/x1841.html)转储规则集。

    ```
    [root@testmachine]$ iptables-save > new_rules.iptables 
    ```

3.  使用以下命令仔细检查生产机器上的规则集`iptables-restore -t`：

    ```
    [root@production]$ iptables-restore --test < new_rules.iptables 
    ```

4.  在您的生产机器上加载新的规则集。

    ```
    [root@production]$ iptables-restore < new_rules.iptables 
    ```**

# mysql - 使用随机值更新列

> ID：12972470
> 
> 赞同：5
> 
> 时间：2012-10-19T10:35:45.233
> 
> 标签：mysql, sql, random, sql-update

我有一张桌子：

```
ID | VALUE | DATE
1  | 5     | 2012-10-01 
2  | 7     | 2012-10-02
3  | 3     | 2012-10-05
4  | 0     | 2012-05-07 
```

我想**在当前值的顶部**添加 VALUE 在1 和 5之间**的**随机值。

让我们说：

```
ID | VALUE | RANDOM VALUE
1  | 5     | 0
2  | 7     | 2
3  | 3     | 3
4  | 0     | 6 
```

新价值

```
ID | VALUE 
1  | 5     
2  | 9     
3  | 6     
4  | 6 
```

我该怎么做呢？我能想到的就是做游标类型的查询。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-19T10:38:57.057

尝试

```
UPDATE TABLE SET VALUE=VALUE+ROUND(1+RAND()*4); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-19T10:39:57.150

这将通过 1 到 5 之间的随机值更新值

```
UPDATE TABLEA SET VALUE=FLOOR(RAND()*5)+1 
```

# javascript - javascript错误。未捕获的引用错误

> ID：12972471
> 
> 赞同：2
> 
> 时间：2012-10-19T10:35:47.587
> 
> 标签：javascript

我正在尝试在`for`循环中编写锚标记，并将参数发送到`onclick`事件中的函数。

现在的问题是该函数没有传递变量中的参数，而是收到错误“Uncaught ReferenceError: I is not defined”，其中 I 是变量 catidone 中的值。

```
catlisttxt += '<li>'+catidone+'<a href="#" onclick="return DisplayQues('+ catidone +')">'+data.categories[i].maincatname+'</a></li>'; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T10:42:16.317

```
catlisttxt += '<li>'+catidone+'<a href="#" onclick="return DisplayQues(\''+ catidone +'\')">'+data.categories[i].maincatname+'</a></li>'; 
```

尝试转义引号。我认为当您这样做时，它实际上将其视为 DisplayQues(I) 而不是 DisplayQues('I')

# css - 寻找 IE 的 CSS 修复

> ID：12972476
> 
> 赞同：3
> 
> 时间：2012-10-19T10:36:18.607
> 
> 标签：css

找到了这个很酷的使用 CSS 设置下拉菜单样式的小教程。您可以更改有关框的所有内容 - 边框、字体、背景颜色等，包括下拉箭头。我制作了一个自定义下拉箭头以适应网站的风格。在 Chrome、Safari 和 Firefox 中一切正常。在 Opera 上，盒子样式保持不变，但箭头恢复为默认值。我可以忍受这个。

然而，好朋友 Internet Explorer 就是问题所在。它还会恢复为默认箭头，但我自定义构建的箭头的一部分在默认箭头下方可见。

有人对我如何解决这个问题有任何想法吗？**测试版本为 IE 9**

这是一个链接代码和 css：[http ://tinkerbin.com/mD2vfqLQ](http://tinkerbin.com/mD2vfqLQ)

以及不同浏览器的一些截图：http: [//ScrnSht.com/sqrnlh](http://ScrnSht.com/sqrnlh)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:43:25.373

有一个条件 CSS 类：

```
<!--[if IE]>
.select_style select {
    background-image: none !important;
}
<![endif]--> 
```

将其更改为`<!--[if lte IE 8]>`是否是特定版本的 IE

# magento - Magento AW 博客子域到博客

> ID：12972478
> 
> 赞同：0
> 
> 时间：2012-10-19T10:36:19.963
> 
> 标签：magento

嗨，我们在 directadmin，有 Magento 和 AW 博客

我们可以通过 magento.com/blog 访问博客

现在如何设置它以便用户也可以通过 blog.magento.com 访问博客

并且感觉就像他们在网站 blog.magento.com 等上，即使打开帖子等

更新：我们通过directadmin blog.magento.com设置了一个子域（这在public_html下创建了一个子目录博客，我删除了）它需要通过magento.com index.php在后台请求magento.com/blog，它将路由到博客路线

有人经历吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T12:14:27.577

我从来没有尝试过这个特定的任务，所以这纯粹是假设的。但是假设去 blog.magento.com 当前指向与主域相同的文档根目录，您应该可以使用 .htaccess 重定向来做到这一点。

```
RewriteCond %{HTTP_HOST} ^blog\.magento\.com
RewriteRule .* /blog/%{REQUEST_URI} [QSA] 
```

这需要放在标准 Magento 重定向规则之前。

添加：

将子域设置到域的根目录（而不是子目录）很重要。在 Direct Admin 中，这可以通过选项子域而不是通过选项添加指针来完成。然后添加 blog.domain.com 作为指针

# blackberry - 将活动指示器放在复选框附近

> ID：12972490
> 
> 赞同：0
> 
> 时间：2012-10-19T10:37:03.423
> 
> 标签：blackberry, java-me, activity-indicator

我有一些复选框被选中以确定将执行哪种检查。使用开始按钮开始检查。我想要的是当我按下开始按钮时，我希望在选中的复选框旁边有一个活动指示器以执行检查。

我阅读了[Activity Indicator](http://docs.blackberry.com/en/developers/deliverables/18125/Activity_indicator_1214556_11.jsp)文档，但我不确定如何根据这些信息实现我想要的。有任何想法吗 ？

# json - 如何在 Sencha Touch 2 中使用 Sqlite

> ID：12972491
> 
> 赞同：2
> 
> 时间：2012-10-19T10:37:05.190
> 
> 标签：json, sqlite, extjs4, sencha-touch-2

我们如何使用带有 sencha touch 2 的 sqlite 将来自服务器的数据存储在 json 中？

有样品吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:43:33.843

它不是现有的 sencha touch 代理，但 tomalex0 已经制作了 sqlLite 代理。

[https://github.com/tomalex0/SenchaTouch-v2-SqliteProxy](https://github.com/tomalex0/SenchaTouch-v2-SqliteProxy)

您也可以尝试将 ExtJS 版本移植到 Sencha Touch

# asp.net - 将焦点设置为 TextBox 时“IME 已禁用”

> ID：12972492
> 
> 赞同：0
> 
> 时间：2012-10-19T10:37:07.773
> 
> 标签：asp.net, ajax

我有 2 个文本框和一个按钮。第一个文本框用于输入，第二个文本框显示单击按钮的时间。

当在第一个文本框中输入中文字符并单击按钮时，tbMsg.Focus() 会导致“IME 已禁用”。因此无法再输入汉字。

如何避免“IME 已禁用”的发生？

```
<form id="form1" runat="server">
  <asp:ScriptManager ID="sm" runat="server" />
  <div>
    <asp:TextBox ID="tbMsg" runat="server" Rows="6" TextMode="MultiLine"
                 Width="329px"  />
    <br />
    <asp:UpdatePanel ID="UpdatePanel1" runat="server" UpdateMode="Conditional">
        <ContentTemplate>
            <asp:TextBox ID="TextBox1" runat="server" Width="150"/>
        </ContentTemplate>
        <Triggers>
            <asp:AsyncPostBackTrigger ControlID="Button1" EventName="Click" />
        </Triggers>
    </asp:UpdatePanel>
    <br />

    <asp:Button ID="Button1" runat="server" Text="Time" onclick="Button1_Click" />
  </div>
</form> 
```

后面有以下代码

```
protected void Button1_Click(object sender, EventArgs e)
{
    TextBox1.Text = DateTime.Now.ToString("dd MMM yyyy HH:mm:ss");
    tbMsg.Focus();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:01:30.353

[这](http://bytes.com/topic/net/answers/564476-how-enable-ime-custom-usercontrol)是一个链接，您可以在其中找到遇到类似问题并最终解决它的人。

希望对你有帮助。

（我试图只是发表评论，但不能......）

# c# - 如何将数据播种到列表 模范会员？

> ID：12972497
> 
> 赞同：3
> 
> 时间：2012-10-19T10:37:23.237
> 
> 标签：c#, asp.net-mvc, entity-framework, ef-code-first

我有一个 Asp.Net MVC 项目启动并运行，当我的模型发生更改时，我可以将我想要的所有数据播种到数据库中，除了一个`List<string>`类型的属性。

我已经隔离了该测试用例以更好地显示问题。

假设我有一个简单的`Person`模型：

```
class Person
{
    public string Firstname { get; set; }
    public string Lastname { get; set; }
    public List<string> Children { get; set; }

    public string ToString()
    {
        string children = "";

        if (Children != null)
        {
            children = String.Join(" - ", Children.ToArray());
        }
        else
        {
            children = "none";
        }

        return Firstname + " " + Lastname + " -> " + children;
    }
} 
```

当我在外部控制台应用程序中使用这个模型时，我能够初始化它的所有成员。

```
class Program
{
    static void Main(string[] args)
    {
        List<Person> myList = new List<Person> {
            new Person { Firstname = "John", Lastname = "Doe", Children = new List<string> { "Bob", "Monica" }},
            new Person { Firstname = "Bob", Lastname = "Doe", Children = new List<string> { "Jack", "John II" }},
            new Person { Firstname = "Monica", Lastname = "Doe", Children = new List<string> { "Sue", "Mark" }}
        };

        // output the list to screen
        myList.ForEach(p => Console.WriteLine(p.ToString()));
    }
} 
```

然后输出如预期的那样：

```
John Doe -> Bob - Monica
Bob Doe -> Jack - John II
Monica Doe -> Sue - Mark 
```

但是现在当我尝试将相同的数据播种到我的数据库中时，`Children`成员是`null`！

这是我尝试的方法：

```
public class MySeedData : DropCreateDatabaseIfModelChanges<MyDataBaseContextClass>
{
    protected override void Seed(MyDataBaseContextClass context)
    {
        List<Person> myList = new List<Person> {
            new Person { Firstname = "John", Lastname = "Doe", Children = new List<string> { "Bob", "Monica" }},
            new Person { Firstname = "Bob", Lastname = "Doe", Children = new List<string> { "Jack", "John II" }},
            new Person { Firstname = "Monica", Lastname = "Doe", Children = new List<string> { "Sue", "Mark" }}
        };
        myList.ForEach(p => context.Persons.Add(p));
    }
} 
```

我尝试了很多不同的构造模式，但每次当我尝试在我的一个视图中访问它时，`Children`成员都是如此。`null`

目前，我发现让这个成员不为空的唯一方法是在`Person`类的默认构造函数中初始化列表......

那么如何`Children`为每个人提供不同值的数据给这个成员呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T23:04:59.120

问题是 EF 不支持标量集合。换句话说，Code First 没有映射您的 Children 属性，因为它不知道如何处理 List。

解决此问题的一种方法是为列表中的项目定义实体类型并改用它。例如：

```
public class Person
{
    public int Id { get; set; }
    public string Firstname { get; set; }
    public string Lastname { get; set; }
    public virtual List<Child> Children { get; set; }
    // Your other code
}

public class Child
{
    public int Id { get; set; }
    public string Name { get; set; }
} 
```

您的 Child 类的形状可能会有所不同，具体取决于它的确切使用方式，这在问题中并不清楚。我还添加了属性作为键，因为 EF 要求每个实体类型都有一个键；您可能想再次更改此设置。最后，我将属性设为虚拟，以便在需要时延迟加载。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:44:43.263

您应该在类的构造函数中执行此操作，如下所示：

```
class Person {
    public string Firstname { get; set; }
    public string Lastname { get; set; }
    public List<string> Children { get; set; }
    public Person() {
        Children = new List<string>();
    }
    public Person(string first, string last, IEnumerable<string> children) {
        FirstName = first;
        LastName = last;
        Children = children.ToList();
    }
    ...
} 
```

无论你如何构造`Person`，它的`Children`成员都不会是`null`。您应该调用构造函数的第二个重载来代替`new Person{...}`语法，这样您就可以将 setter 设为私有（通常，这是一件好事）。

# iphone - UISwitch setThumbTintColor 导致崩溃（仅限 iOS 6）？

> ID：12972500
> 
> 赞同：18
> 
> 时间：2012-10-19T10:37:28.670
> 
> 标签：iphone, ios, uicolor, uiswitch, uiappearance

# 更新：收到来自 Apple 的邮件，说该错误/问题现已修复，下一个 SDK 版本不会出现此问题。和平！

我的 AppDelegate 的代码中有这个：

```
- (void) customizeAppearance {
    [[UISwitch appearance] setOnTintColor:[UIColor colorWithRed:0 green:175.0/255.0 blue:176.0/255.0 alpha:1.0]];
    [[UISwitch appearance] setTintColor:[UIColor colorWithRed:255.0f/255.0f green:255.0f/255.0f blue:255.0f/255.0f alpha:1.000f]];
    [[UISwitch appearance] setThumbTintColor:[UIColor colorWithRed:0.9 green:0.9 blue:0.9 alpha:1.0]];
 } 
```

然后我打电话给`- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions`

我也使用ARC。在 iOS 6 中，我的应用程序不断崩溃。我启用了 NSZombie，它一直说：`*** -[UIDeviceRGBColor release]: message sent to deallocated instance 0x9658eb0`

现在我已经实现了上述的一个完全可重现的流程。当我在customAppearance 中单独注释掉setThumbTintColor 行时，一切正常。当我改用 setThumbTintColor 线时，应用程序每次都以完全相同的方式崩溃。

对于任何使用 UISwitch/setThumbTintColor/UIColor 的人来说，这是一个已知问题吗？如果不是开关颜色，还有什么原因？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-10-22T18:48:46.607

我也在做[这个](http://www.raywenderlich.com/21703/user-interface-customization-in-ios-6)教程并且遇到了同样的问题。（不知道为什么你没有遇到这种情况，因为我的手输入代码和解决方案代码对我来说都有同样的问题？）

第一个 segue 会发生，但在返回后下一个 segue 会失败。

设置全局异常断点后，我可以在生成异常时在调用堆栈中看到 thumbColorTint。我猜测该对象被释放得太早了。为了修复我在我的应用程序委托中创建了一个属性..（您不需要在应用程序委托中执行它，只需设置您正在设置 UISwitch 外观的对象，在我的情况下是 appdelegate）

```
@interface SurfsUpAppDelegate()
@property (strong, nonatomic) UIColor *thumbTintColor;
@end 
```

然后我这样设置

```
[self setThumbTintColor:[UIColor colorWithRed:0.211 green:0.550 blue:1.000 alpha:1.000]];
[[UISwitch appearance] setThumbTintColor:[self thumbTintColor]]; 
```

现在一切都按预期工作，因为该对象没有提前发布。这可能是一个缺陷，即使仍然需要该对象，它也会被释放。UISwitch 的 API 似乎有缺陷 :(

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-19T01:53:28.683

Apple 的 UISwitch 过度释放时，我也遇到了这个错误。我有一个类似的解决方案，但我认为它更好一点，因为它不需要添加无关的属性：

```
UIColor *thumbTintColor =  [[UIColor alloc] initWithRed:red green:green blue:blue alpha:alpha]];

//we're calling retain even though we're in ARC,
// but the compiler doesn't know that

[thumbTintColor performSelector:NSSelectorFromString(@"retain")]; //generates warning, but OK
[[UISwitch appearance] setThumbTintColor:[self thumbTintColor]]; 
```

不利的一面是，它确实会产生一个编译器警告，但是 - 这里确实有一个错误，只是不是我们的！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-18T04:29:40.597

现在，根据比尔的回答，我将采用此方法：

```
// SomeClass.m

@interface SomeClass ()

// ...

@property (weak,   nonatomic) IBOutlet UISwitch *thumbControl;
@property (strong, nonatomic)           UIColor *thumbControlThumbTintColor;

// ...

@end

@implementation SomeClass

// ...

- (void)viewDidLoad
{
    // ...

    self.thumbControl.thumbTintColor = self.thumbControlThumbTintColor = [UIColor colorWithRed:0.2 green:0.0 blue:0.0 alpha:1.0];

    // ...
}

// ...

@end 
```

# jquery - 将变量从 html 表单传递到 js 到 php

> ID：12972501
> 
> 赞同：0
> 
> 时间：2012-10-19T10:37:29.397
> 
> 标签：jquery, file-upload

我需要帮助才能通过：

```
<input type="file" id="upload"/> 
```

到将其传递给 php 页面的 js 中的脚本。在 php 页面中，我需要此代码来上传文件，但我无法检索变量：

```
 move_uploaded_file($_FILES['uploadfile']["tmp_name"],$_FILES['uploadfile']["name"]); 
```

在 js 脚本中，我使用 Ajax JQuery 函数通过 POST 方法给出 html 对象的值。

JS代码：

```
uploader = document.getElementById('uploader');

dati1="allegato="+uploader;
$.ajax({
    type: 'POST',
    url: 'ineriscinew.php',
    data: dati1,
    success: function(msg){ alert(msg); }
}); 
```

但是采用此代码我无法检索 php 变量：**$_FILES['uploadfile']["name"]**

我希望你能帮助我。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T12:22:24.310

您似乎正在尝试通过 AJAX 处理文件上传。

通过新的 XMLHttpRequest 2 [FormData object](https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/FormData/Using_FormData_Objects)可以做到这一点（纯粹使用 JS） 。请记住，它仅适用于较新的浏览器（您可以[在此处](http://caniuse.com/xhr2)检查兼容性）。

可以在[此处](http://net.tutsplus.com/tutorials/javascript-ajax/uploading-files-with-ajax/)找到更详细的示例，该教程还显示了处理表单上传所需的后端代码（PHP）示例。

# centos - Virtualmin 启用带有 Postfix 错误的 DKIM：initctl：未知作业：dkim-milter

> ID：12972515
> 
> 赞同：2
> 
> 时间：2012-10-19T10:38:10.363
> 
> 标签：centos, postfix-mta, dkim, webmin

使用 postfix 作为 MTA 在我的 centos 6.3 服务器上的 virtualmin 中安装 DKIM 时出现以下错误：- 启用 DomainKeys Identified Mail

查找虚拟服务器以启用 DKIM for .. .. 找到 1 个服务器

在文件 /etc/dkim.key 中生成私钥 .. .. 完成

从 /etc/dkim.key 中的私钥中提取公钥 .. .. 完成

在 DKIM 过滤器配置中设置域和选择器 .. .. 完成

将 DKIM 记录添加到 DNS 域 core1234.links18.org .. .. 添加成功

在启动时启用 DKIM 过滤器 .. .. 完成

```
Starting DKIM filter ..
.. start failed : initctl: Unknown job: dkim-milter

DKIM setup failed! 
```

重新启动 DNS 服务器 .. .. 完成

任何帮助都会很棒

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T15:45:49.333

我自己也遇到过这个。原因似乎是 CentOS 6 上的 dkim-milter 软件包还没有使用新的 upstart 初始化守护程序（而 VirtualMin 假设它应该是一个 upstart 工作，因为它将操作系统检测为 CentOS 6）。

为了解决这个问题，我创建了这个文件：**/etc/init/dkim-milter.conf**，内容如下：

```
description "DKIM Milter Job shim for VirtualMin"
author "Raif Atef"
start on runlevel 5
stop on runlevel [!5]

pre-start script
    sh /etc/init.d/dkim-milter start
end script

post-stop script
    sh /etc/init.d/dkim-milter stop
end script 
```

这让 Virtualmin 通过 upstart 控制 dkim-milter 并通过检查。正确的解决方案当然是将此作为错误报告给软件包维护者，并要求他们将 /etc/init.d/dkim-milter 转换为 upstart 作业格式。

我从这里获取了代码： [https ://askubuntu.com/questions/14810/from-init-d-to-upstart-is-there-a-bridge](https://askubuntu.com/questions/14810/from-init-d-to-upstart-is-there-a-bridge)

（参考：CentOS 6 开始像 Ubuntu 一样使用 Upstart，但只有少数包被转换使用）

# javascript - window.focus() 在 Firefox 中不起作用

> ID：12972526
> 
> 赞同：0
> 
> 时间：2012-10-19T10:38:44.293
> 
> 标签：javascript, firefox

> **可能重复：**
> [为什么 window.focus() 在 Mozilla firefox 中不起作用？](https://stackoverflow.com/questions/4085544/why-window-focus-not-working-in-mozilla-firefox)

我正在为我的应用程序实现多选项卡功能，并且在为打开的窗口设置焦点时发现难以实现这些功能。Firefox 在窗口打开时第一次设置焦点，但下次不设置焦点。

例如 -

我的应用程序总是在名为“baseWindow”的窗口中打开。一个页面有以下链接 -

Link1 - 打开一个名为“window2”的新窗口

上述链接的 onclick 具有以下功能

```
 function linkOnClick(){
          var wind1=window.open('window2Page.html','window2');
          wind1.focus();
} 
```

当第一次点击链接时，即window2 不存在，此时焦点自动赋予window2。但是，如果我进入第一个窗口并再次单击链接，则焦点不会放在 window2 上，它会停留在同一个窗口上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T16:15:52.337

是否`focus()`允许提升现有窗口是 Firefox 中的用户偏好，默认为“否”以处理人们在那里创建的所有令人讨厌的弹出窗口/弹出窗口......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:20:45.583

试试这个方法

> ```
>  function linkOnClick(){
>     return function(){
>      var wind1=window.open('window2Page.html','window2');
>      wind1.focus(); 
>     }
>  } 
> ```

# matlab - 中轴骨架图

> ID：12972527
> 
> 赞同：6
> 
> 时间：2012-10-19T10:38:44.573
> 
> 标签：matlab, image-processing

我有一个前景是白色的二进制图像。从它的中轴骨架的分支点和端点中，我想构建一个图。理想情况下，具有以下结构：

1.  [nodes] 具有 [ID XY] 格式，其中 X,Y 是分支点或端点的像素位置，ID 是节点的 ID - 一个整数。
2.  [edges] 具有 [ID N1 N2] 格式，其中 N1 和 N1 表示节点的 ID。

通过同时使用 [nodes] 和 [edges]，我将骨架映射到无向图表示。

使用下面的代码，我可以计算分支和端点，但现在我需要正确连接它们：

```
skelImg   = bwmorph(im, 'thin', 'inf');
branchImg = bwmorph(skelImg, 'branchpoints');
endImg    = bwmorph(skelImg, 'endpoints');

[row, column] = find(endImg);
endPts        = [row column];
[row, column] = find(branchImg);
branchPts     = [row column];

figure; imshow(skelImg); hold on; plot(branchPts(:,2),branchPts(:,1),'r*'); hold on; plot(endPts(:,2),endPts(:,1),'*'); 
```

下面给出了输入图像（左侧）、其骨架（中间）以及相应的分支和端点（右侧）的示例：

![](../Images/1962799a1137ded94bba2397e27b3642.png) ![](../Images/e59c69d99a9c718fca7de713338f96fe.png) ![](../Images/5632c927109bf53daedca6bc405430d7.png)

或者也可以在以下网址中使用完整分辨率：http: [//imgur.com/a/a3s4F/](http://imgur.com/a/a3s4F/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:27:08.503

作为第一步，我建议使用[BFS](http://en.wikipedia.org/wiki/Breadth-first_search)变体。您的节点是白色像素，如果两个像素是邻居，则存在边缘。这将为您提供一个完整的图表，其中包含不需要的节点，即不是分支点/端点的点。

现在，这是一个重要的观察，每个不需要的节点都包含*2*条边，否则它会是一个分支点或一个端点。

因此，开始递归删除所有不需要的节点：

```
While there are nodes that are not branchpoints/endpoints
    Select one of these nodes.
    Merge its two edges into one by removing the node. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-05T11:12:19.567

一个可能的解决方案包括：

```
getting branched points (bp) from skeleton
getting edges : edges=skeleton-bp
getting end points from edges
adding branched points in a graph
getting endpoints neighbouring branched points and linking
adding remaining endpoints in the graph
linking endpoints 
```

[带有 networkx](http://dip4fish.blogspot.fr/2013/06/from-binary-image-skeleton-to-networkx.html)的python 实现产生： ![从B的骨架到图](../Images/d68d4f2214c5f61b1f80025725b6c3f3.png)

# javascript - 无法在 asp.net mvc 中使用 javascript 打印 iframe

> ID：12972529
> 
> 赞同：0
> 
> 时间：2012-10-19T10:38:47.120
> 
> 标签：javascript

我的控制器中有一个操作，视图正在调用 java 脚本函数以从我的 asp.net 会话中获取数据以通过 ajax 显示。

当我浏览 url 中的视图时，数据显示正确。但是当我使用`iframe`javascript 打印该视图时，我的 PDF 文件中没有从视图打印的数据。

这是我的 javascript 函数：

```
function printPage(sURL) {
  var oHiddFrame = document.createElement("iframe");
  oHiddFrame.src = sURL;
  oHiddFrame.style.visibility = "hidden";
  oHiddFrame.style.position = "fixed";
  oHiddFrame.style.right = "0";
  oHiddFrame.style.bottom = "0";
  document.body.appendChild(oHiddFrame);
  oHiddFrame.contentWindow.on
  oHiddFrame.contentWindow.onload = oHiddFrame.contentWindow.print;
  oHiddFrame.contentWindow.onafterprint = function () {    
      document.body.removeChild(oHiddFrame); };
} 
```

# python - 使用脚本将文件从 UNIX 复制到 Windows

> ID：12972530
> 
> 赞同：2
> 
> 时间：2012-10-19T10:38:53.673
> 
> 标签：python, windows, shell, unix

我想编写一个脚本来自动化我每天手动执行的任务。此任务需要我使用 WinSCP 将一些文件从 UNIX 服务器 (Solaris) 下载到我的桌​​面 (Windows XP)。有没有办法使用 Python 或 shell 脚本将文件从 UNIX 服务器中的路径复制/移动到我的 Windows XP PC 中的路径？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:46:26.360

如果你打算使用 python，那么你可以使用 paramiko 库。它有 sftp 支持。在 Windows 上获得文件后，使用 shutils 库将其移动到 Windows 上的路径

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:34:09.827

您是否考虑过将 Cygwin 与 rsync 一起使用？您可以编写一个小的 bash 脚本，使用 rsync 来获取您需要的文件，并将其作为日常 cron 作业运行。

# java-me - 自定义 Lwiit 中的标题栏，使其看起来像 J2ME 默认状态栏

> ID：12972532
> 
> 赞同：1
> 
> 时间：2012-10-19T10:38:55.233
> 
> 标签：java-me, lwuit, statusbar, menubar

我想在我的 J2ME 应用程序中显示状态栏，我也在使用 Lwiit。我找不到这样做的方法，尤其是我也遇到了 Lwuit 中的默认菜单的问题。所以我想自定义 Lwuit 中的标题栏，使其看起来像在 J2ME 中显示通知和时间的状态栏。

任何想法/帮助或我应该从哪里开始？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:48:55.733

你应该先用谷歌搜索它，因为 LWUIT 博客现在随处可见。请参阅[此博客](http://lwuit.blogspot.com/2010_04_01_archive.html)以了解您的目的，它肯定会对您有所帮助。[这是您应该看到的另一个博客](http://lwuit.blogspot.com/2008/07/pimp-my-lwuit-part-1-gradient-galore.html)，因此您可以开始使用`titleBar`它并对其进行自定义。
我希望这些链接一定会对您有所帮助

# c# - FileSystemMonitor 仅在目录中创建文件时检测一次？

> ID：12972543
> 
> 赞同：0
> 
> 时间：2012-10-19T10:39:32.487
> 
> 标签：c#, .net-3.5

我有以下代码，每当将新文件添加到 FileSystemWatcher 正在监视的目录中时，我想告诉我这些代码。问题是，当在被监控的目录中创建一个文件时，它会引发三个事件——我只想要一个。引发的事件都被“改变”了。有什么我做错了吗？

```
FileSystemWatcher _fileWatcher = new FileSystemWatcher();
_fileWatcher.Path = DirToMonitor;
_fileWatcher.NotifyFilter = NotifyFilters.LastWrite;
_fileWatcher.Filter = "*.*";
_fileWatcher.Created += new FileSystemEventHandler(_fileWatcher_Created);
_fileWatcher.Renamed += new RenamedEventHandler(_fileWatcher_Renamed);
_fileWatcher.Changed += new FileSystemEventHandler(_fileWatcher_Changed);
_fileWatcher.EnableRaisingEvents = true; 
```

编辑：我使用了“LastWrite”，因为这是在目录级别进行监控的，而不是新文件。唯一可能的变化似乎是 LastWrite、Size 和 Attributes。LastWrite 似乎是最明智的……

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:44:00.380

我不完全确定，但我会说这取决于您的 NotifyFilter。尝试调整这些以包含其他事件，这应该可以满足您的需求

更多信息：[NotifyFilters 枚举](http://msdn.microsoft.com/en-us/library/system.io.notifyfilters.aspx)

# html - 如何提取 html 内容？我有一个 HTML 页面。如何提取定义标签内的数据并将其打印到 ao/p 文件中。？？？

> ID：12972545
> 
> 赞同：2
> 
> 时间：2012-10-19T10:39:45.997
> 
> 标签：html, html-parsing, extract, jsoup

```
 <div class="message">In Arumbakkam - Opp to CMBT bustand is 1.5C/gr. Unless you are particular about the temple, may want to see Arumbakkam, as if you cross Pondamalle rd, you can go to Anna nagar, where, you can get all the extra caricular activities for kids. plus all high end reastaurants and shops</div> 
```

我同意，Arumbakkam 是 AnnaNagar 和 Vadapalani 之间的完美地点。它也位于 Poonamallee 路和 IRR 的交界处。

---------->输出应该是这样的

在 Arumbakkam - Opp 到 CMBT busstand 是 1.5C/gr。除非你对寺庙特别感兴趣，否则可能想看看 Arumbakkam，就像你穿过 Pondamalle rd 一样，你可以去 Anna nagar，在那里，你可以为孩子们提供所有额外的关节活动。加上所有高端餐厅和商店

如何使用 Jsoup 获得这个。帮我一个简单的程序

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:44:31.797

```
 Elements content = Jsoup.connect(link).get().select("div#message"); 
```

# javascript - JQuery触发自定义事件导致错误

> ID：12972549
> 
> 赞同：9
> 
> 时间：2012-10-19T10:40:11.830
> 
> 标签：javascript, jquery, jquery-events, eventemitter

我有一个人对象，我本质上希望它能够发出自己的事件。但是，如果触发事件与原型同名，则 Chrome 会打印出相当大的错误。在下面的代码示例中， `person.murder`触发了`murder`将错误写入控制台的事件。（代码更有意义）。

```
function Person() {

}

Person.prototype.murder = function() {
   $(this).trigger("murder");
} 
```

我像这样调用触发器

```
var barry = new Person();
$(barry).on("murder", function(){
   alert("I am so angry");
})

barry.murder(); 
```

所以谋杀巴里会导致错误，但是如果事件是这样`personDied`的，则没有错误。我是否正确触发了事件？我只想毫无错误地杀人。

错误有时作为折叠返回`<error>`，有时作为

> 未捕获的 RangeError：超出最大调用堆栈大小

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-19T10:53:21.423

问题是 jQuery 递归调用该方法。来自[http://api.jquery.com/trigger/](http://api.jquery.com/trigger/)：

```
Note: For both plain objects and DOM objects, if a triggered event name matches the name
of a property on the object, jQuery will attempt to invoke the property as a method if no
event handler calls event.preventDefault(). If this behavior is not desired, use
.triggerHandler() instead. 
```

所以你应该使用`triggerHandler`而不是`trigger`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:16:04.623

触发器`murder`调用`murder`on方法，`Person`因为您在 object 上触发它`Person`。这将再次调用该`murder`方法等等（无休止的循环）。

如果你使用 jQuery 的`.triggerHandler()`函数，它只会触发触发器，不会调用方法。

```
function Person() {

}

Person.prototype.murder = function() {
   $(this).triggerHandler("murder");
}

var barry = new Person();
$(barry).on("murder", function(){
   alert("I am so angry");
})

barry.murder(); 
```

工作示例：

[http://jsfiddle.net/6neHC/](http://jsfiddle.net/6neHC/)

jQuery`.triggerHandler()`文档：

[http://api.jquery.com/triggerHandler/](http://api.jquery.com/triggerHandler/)

# java - 安装 Lombok 后 Eclipse Indigo 未运行项目

> ID：12972551
> 
> 赞同：0
> 
> 时间：2012-10-19T10:40:15.293
> 
> 标签：java, eclipse-indigo, lombok

我最近将 Lombok（版本 0.11.0）安装到我的 Eclipse Indigo 安装中，现在我在 Eclipse 中的所有项目都不再从运行和调试启动。

当我尝试运行一个项目时，我得到的错误如下

```
Usage: javaw [-options] class [args...]
       (to execute a class)
or  javaw [-options] -jar jarfile [args...]
       (to execute a jar file)

where options include:
-client   to select the "client" VM
-server   to select the "server" VM
-hotspot      is a synonym for the "client" VM  [deprecated]
              The default VM is client.

-cp <class search path of directories and zip/jar files>
-classpath <class search path of directories and zip/jar files>
              A ; separated list of directories, JAR archives,
              and ZIP archives to search for class files.
-D<name>=<value>
              set a system property
-verbose[:class|gc|jni]
              enable verbose output
-version      print product version and exit
-version:<value>
              require the specified version to run
-showversion  print product version and continue
-jre-restrict-search | -jre-no-restrict-search
              include/exclude user private JREs in the version search
-? -help      print this help message
-X            print help on non-standard options
-ea[:<packagename>...|:<classname>]
-enableassertions[:<packagename>...|:<classname>]
              enable assertions
-da[:<packagename>...|:<classname>]
-disableassertions[:<packagename>...|:<classname>]
              disable assertions
-esa | -enablesystemassertions
              enable system assertions
-dsa | -disablesystemassertions
              disable system assertions
-agentlib:<libname>[=<options>]
              load native agent library <libname>, e.g. -agentlib:hprof
                see also, -agentlib:jdwp=help and -agentlib:hprof=help
-agentpath:<pathname>[=<options>]
              load native agent library by full pathname
-javaagent:<jarpath>[=<options>]
              load Java programming language agent, see java.lang.instrument
-splash:<imagepath>
              show splash screen with specified image 
```

这向我表明它找不到我正在运行的项目的主类文件，但它在运行和调试配置中正确引用了该项目，该文件在项目中并且我检查了 /bin 文件夹以确保班级就在那里（就是这样）。

我唯一能想到的可能会或可能不会导致问题的是，在安装 Lombok 之后，/bin 文件夹没有包含正确的内容，而是在其中构建了我的 JUnit 测试用例。

我已经多次清理了我的整个项目集并卸载/重新安装了 Lombok。我已经重置了我的电脑，但仍然没有乐趣。Eclipse 使用 jdk 1.6.30 运行。

**更新：**问题似乎在于该项目是否引用了另一个使用 Lombok 的项目，或者该项目直接使用 Lombok。删除项目对 Lombok 的引用允许项目在 Eclipse 中正常执行。

# jquery - 类型错误：位置未定义

> ID：12972555
> 
> 赞同：1
> 
> 时间：2012-10-19T10:40:22.660
> 
> 标签：jquery, datetimepicker

我正在尝试使用 jquery-datetimepicker 插件显示日期和时间，但它只显示日历中的日期

JS代码是

```
$("#datetime").datetimepicker();

$("#datetimecalender").live("click", function(){
  $('#datetime').datepicker('show');
}); 
```

而这个的html是

```
<a id="datetimecalender" class="badge icon-calendar"></a>
<input id="datetime" class="hasDatepicker" type="hidden" name="datetime" value="" /> 
```

但是我在 jquery 中遇到了错误：

```
TypeError: position is undefined 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:03:37.243

这是一个有效的小提琴：http: [//jsfiddle.net/LmUnr/190/](http://jsfiddle.net/LmUnr/190/)

使用的资源：

*   [https://raw.github.com/trentrichardson/jQuery-Timepicker-Addon/master/jquery-ui-timepicker-addon.js](https://raw.github.com/trentrichardson/jQuery-Timepicker-Addon/master/jquery-ui-timepicker-addon.js)
*   [https://raw.github.com/trentrichardson/jQuery-Timepicker-Addon/master/jquery-ui-timepicker-addon.css](https://raw.github.com/trentrichardson/jQuery-Timepicker-Addon/master/jquery-ui-timepicker-addon.css)

**编辑**

您不能使用`datetimepicker`具有输入类型的对象`hidden`。您可以使用输入样式使其变小而没有边框，如下所示：http: [//jsfiddle.net/LmUnr/192/](http://jsfiddle.net/LmUnr/192/)

并修改您的 HTML 代码：

```
<input id="datetime" type="text" name="datetime" value="" /> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-19T11:13:48.427

改变这个

```
<input id="datetime" class="hasDatepicker" type="hidden" name="datetime" value="" /> 
```

对此

```
<input id="datetime" type="hidden" name="datetime" value="" /> 
```

# java - 对 Hibernate 数据库结构进行逆向工程

> ID：12972556
> 
> 赞同：2
> 
> 时间：2012-10-19T10:40:27.057
> 
> 标签：java, sql, database, hibernate, reverse-engineering

我正在考虑为一个项目编写一些代码，其中可能会有几个不同的休眠结构化数据库，关于这些数据库知之甚少或一无所知。

理想情况下，该代码将能够接收对象（序列化，通过 http 传输），并根据给定的数据库连接，确定对象是否适合，如果适合，则将其持久化。

是否有一种既定或相对直接的方法来生成persistence.xml 或基于对数据库和元数据的访问的类结构？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T08:06:14.637

这里有几个选项。Eclipse 有一个hibernate 逆向工程工具，这里有一个使用方法：

[http://www.wikihow.com/Generate-Hibernate-Pojo-Classes-from-DB-Tables](http://www.wikihow.com/Generate-Hibernate-Pojo-Classes-from-DB-Tables)

如果您还没有，请从 JBoss 更新站点安装休眠工具（帮助 -> 软件更新... -> 添加站点...）：

[http://download.jboss.org/jbosstools/updates/stable/](http://download.jboss.org/jbosstools/updates/stable/)

我已经用过这个工具几次了，它做得很好。

# python - Doxygen 不创建调用图

> ID：12972565
> 
> 赞同：2
> 
> 时间：2012-10-19T10:40:53.343
> 
> 标签：python, doxygen, call-graph

我正在尝试获取 jython 代码的 callGraph。我的 doxygen 配置包含（除其他外）这些行：

```
HAVE_DOT = YES
DOT_PATH = /path/to/folder/containing/dot
CALL_GRAPH = YES
CALLER_GRAPH = YES 
```

如果我查看生成的文件，我无法在函数定义中找到 callGraphs 或 callerGraphs，但我没有收到关于 dot 问题的错误消息。我得到的只是一些未记录函数的错误，但这些不应该妨碍调用图的输出。

有什么我想念的吗？（我想避免为此使用外部工具，例如 pycallgraph（无论如何我都会运行 doxygen，这样我就可以在文档中获得调用图）

# objective-c - 如果我们想知道当前时间是早上、下午还是晚上呢？

> ID：12972573
> 
> 赞同：1
> 
> 时间：2012-10-19T10:41:44.327
> 
> 标签：objective-c, nsdate

如何使用 NSDate 做到这一点？

所有 NSDate 给出的是 GMT 时间。我想要我的时间。我想要我的用户在他们的手表上看到的时间。

我想根据一天中的时间显示不同的图片。

我将如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:54:31.967

使用`NSCalendar`和`NSDateComponents`。以下代码显示了如何获取本地时区的当前小时和分钟：

```
NSDate *now = [NSDate date];

NSCalendar *gregorian = [[NSCalendar alloc]
                 initWithCalendarIdentifier:NSGregorianCalendar];
NSDateComponents *dateComponents = [gregorian components:NSHourCalendarUnit|NSMinuteCalendarUnit fromDate:now];
int hour = [dateComponents hour];
int minute = [dateComponents minute]; 
```

# java - 为什么 p:panelGrid 不能与 ui:repeat 一起使用？

> ID：12972576
> 
> 赞同：6
> 
> 时间：2012-10-19T10:42:23.790
> 
> 标签：java, jsf, primefaces

如果我按以下方式使用，则不会出现错误，也不会输出。为什么不`p:panelGrid`工作`ui:repeat`？

**注意**：我不想使用`c:forEach`，因为我已经面临很多 JSF 问题。

```
<p:panelGrid>
    <ui:repeat value="#{MyBean.dataList}" var="data">
        <p:row>
            <p:column>
                <h:outputText value="#{data.name}"/>
            </p:column>
            <p:column>
                <h:outputText value="#{data.description}"/>
            </p:column>
        </p:row>
    </ui:repeat>
</p:panelGrid> 
```

MyBean.java

```
public List<Data> getDataList(){
    List<Data> result = new ArrayList<Data>();
    result.add(new Data("Name 1", "Description 1"));
    result.add(new Data("Name 2", "Description 2"));
    result.add(new Data("Name 3", "Description 3"));
    result.add(new Data("Name 4", "Description 4"));
    return result;
} 
```

primefaces 的预期输出

![在此处输入图像描述](../Images/acebdba6af68b9cd6b6df3825d7eebb6.png)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-19T11:13:20.360

`ui:repeat`将不起作用，因为它实际上并未将组件添加到组件树中。

`ui:repeat`仅在渲染阶段有效，并以不同的状态多次重新渲染其子组件。

某些组件，例如`panelgrid`, but also `datatable`，希望在组件树中具有某些子级才能正常工作。由于`ui:repeat`不添加这些，因此这种方法不起作用。

我很抱歉，但正常的解决方案是使用`c:foreach`，它*确实*将孩子添加到树中。

见[https://rogerkeays.com/jsf-c-foreach-vs-ui-repeat](https://rogerkeays.com/jsf-c-foreach-vs-ui-repeat)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:01:41.130

尝试通过定义`columns`in`p:panelGrid`因为你有静态数字列然后你应该定义`<p:panelGrid columns="">`它。它会起作用。
但我建议你使用`primefaces datatable`这个

```
<p:dataTable id="availableCars" var="car" value="#{tableBean.carsSmall}">  
    <p:column style="width:20px">  
        <h:outputText id="dragIcon"  
            styleClass="ui-icon ui-icon-arrow-4" />  
        <p:draggable for="dragIcon" revert="true" />  
    </p:column>  

    <p:column headerText="Model">  
        <h:outputText value="#{car.model}" />  
    </p:column>  

    <p:column headerText="Year">  
        <h:outputText value="#{car.year}" />  
    </p:column>  

    <p:column headerText="Manufacturer">  
        <h:outputText value="#{car.manufacturer}" />  
    </p:column>  

    <p:column headerText="Color">  
        <h:outputText value="#{car.color}" />  
    </p:column>  
</p:dataTable> 
```

[这是](http://www.primefaces.org/showcase-labs/ui/dndTable.jsf)您可以找到此代码和 primnefaces 展示的链接。我认为它会满足您的要求

# ssis - SSIS 任务以错误的顺序执行

> ID：12972581
> 
> 赞同：1
> 
> 时间：2012-10-19T10:43:01.750
> 
> 标签：ssis

我有一个包含 4 个执行 SQL 任务和一个数据流任务的包。

![SSIS 任务序列](../Images/68d55e957580fd7ba21b610e8864c422.png)

该序列是使用优先约束定义的，应该是：

1.  (SQL) 创建表（如果不存在）
2.  (SQL) 创建备份表
3.  (SQL) 备份和清除
4.  (DF) 导入团队数据
5.  (SQL) 删除陈旧数据

但是，它以 3、2、1、5、4 的顺序运行。

我在网上看到这可以通过删除任务并按执行​​顺序重新添加来解决，所以我这样做了但结果完全一样！

我还能做些什么来修复它？

[编辑]

SQL版本是：

Microsoft SQL Server 2008 R2 (RTM) - 10.50.1600.1 (X64) Apr 2 2010 15:48:46 版权所有 (c) Microsoft Corporation Developer Edition (64-bit) o​​n Windows NT 6.1 (Build 7601: Service Pack 1) (Hypervisor) )

[/编辑]

[更新]

SSIS 包“SERVICEAREATEAMS.dtsx”启动。信息：数据流任务 1 处的 0x4004300A，SSIS.Pipeline：验证阶段开始。错误：新包中的 0xC0209303，连接管理器“SourceConnectionOLEDB”：SSIS 错误代码 DTS_E_OLEDB_NOPROVIDER_64BIT_ERROR。请求的 OLE DB 提供程序 OraOLEDB.Oracle.1 未注册 - 可能没有 64 位提供程序可用。错误代码：0x00000000。OLE DB 记录可用。来源：“Microsoft OLE DB 服务组件”Hresult：0x80040154 描述：“类未注册”。错误：数据流任务 1 处的 0xC020801C，源 - 查询[1](https://i.stack.imgur.com/ZfIdG.png)：SSIS 错误代码 DTS_E_CANNOTACQUIRECONNECTIONFROMCONNECTIONMANAGER。对连接管理器“SourceConnectionOLEDB”的 AcquireConnection 方法调用失败，错误代码为 0xC0209303。在此之前可能会发布错误消息，其中包含有关 AcquireConnection 方法调用失败原因的更多信息。错误：数据流任务 1 中的 0xC0047017，SSIS.Pipeline：组件“源 - 查询”(1) 验证失败并返回错误代码 0xC020801C。错误：数据流任务 1 处的 0xC004700C，SSIS.Pipeline：一个或多个组件验证失败。错误：数据流任务 1 处的 0xC0024107：任务验证期间出现错误。SSIS 包“SERVICEAREATEAMS.dtsx”完成：失败。

[/更新]

[更新 2]

![以不同的顺序设计结果](../Images/40c6b59cdb809df9dc8fc6b812b16261.png)

[/更新 2]

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T13:12:35.560

你为什么要说它按那个顺序运行？我可以向您保证，根据您的打印屏幕，任务 3 不可能在任务 1 之前运行。

如果您认为这是因为您查看输出的方式（您的最后一个屏幕），那么您正在以错误的方式查看它。它不显示任务执行的顺序，它单独显示每个任务（我什至认为它们是按字母顺序排列的）。还要注意任务的类型，你`PREPARE`的 sql 任务 1 在 13:57:04 完成，而 pacakge`EXECUTE`在 13:57:06 完成，对我来说似乎是正确的顺序

# mysql - 如何加入两个不同名称的mysql表？（使用 UNION 有问题）

> ID：12972583
> 
> 赞同：1
> 
> 时间：2012-10-19T10:43:16.107
> 
> 标签：mysql, sql

我在使用 UNION 时遇到了一些麻烦。（至少我怀疑 UNION 是工具）

我有以下内容：

表格1：`us_states.us_state`

表 2：`fex_tax_by_prov.TAX_PROVINCE`

我想使用一个 mysql 查询将所有州和省作为一个结果（“区域”）返回。我有类似的东西，但它不正确。

```
SELECT *
FROM (
    SELECT TAX_PROVINCE as region,
    FROM fed_tax_by_prov 
    UNION
    SELECT us_state as region,
    FROM us_states
) 
```

任何帮助将非常感激。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:46:11.300

```
select us_state as region from us_states
union
select tax_province from fed_tax_by_prov 
```

只要两列的类型相同，就应该可以工作，并且添加别名（仅需要在 中的第一次选择时完成`union`）意味着您可以在 wrapping 中引用它`select`，就像您在示例中一样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:00:49.000

我明白了，问题是我`SELECT *`在查询开始时有一个额外的。非常感谢您的帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T10:48:01.500

试试这个查询，

```
SELECT TAX_PROVINCE as region FROM fed_tax_by_prov 

UNION

SELECT us_state as region FROM us_states 
```

MySQL UNION 允许您将来自多个表的两个或多个结果集组合在一起。使用 MySQL UNION 的语法如下：

```
SELECT statement

UNION [DISTINCT | ALL]

SELECT statement

UNION [DISTINCT | ALL]

… 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T10:48:30.740

尝试 (SELECT TAX_PROVINCE FROM fed_tax_by_prov) UNION (SELECT us_state FROM us_states);

# cross-browser - spring security：跨浏览器的“记住我”功能的不一致行为

> ID：12972584
> 
> 赞同：0
> 
> 时间：2012-10-19T10:43:18.377
> 
> 标签：cross-browser, spring-security

Spring security 的默认行为（当`<remember-me/>`没有添加到我们的安全配置中时）似乎在浏览器之间不一致（也可能在浏览器版本之间）。

预期行为：登录访问限制区域后，关闭浏览器，然后重新打开并进入相同的限制区域，浏览器不应该让我访问它，而是提示我输入凭据，只有当我输入正确时才允许我访问它证书。

在玩了之后，我注意到这种行为在浏览器中并不一致：

*   Eclipse 的底层浏览器在关闭后确实记得
*   Chrome 关闭后记得 IE (9) 关闭后不记得
*   Firefox (16.0.1) 关闭后不记得了
*   Safari（5.1.7 for windows）关闭后不记得了
*   可以测试更多浏览器类型和版本...

我所说的“关闭后记得”的意思是浏览器在关闭浏览器并重新打开后不会提示我输入凭据。

众所周知，Spring 非常可靠，所以我可能在这里遗漏了一些东西。

我的设置：

*   爪哇 7
*   雄猫 7
*   Spring Security 依赖版本 3.1.2.RELEASE

如果您知道此问题的任何解决方案，请赐教。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:44:32.120

一种解决方法可能是尝试检测用户何时关闭其浏览器，并在发生这种情况时触发注销。不太确定这是多么可行。

# jquery - JQuery切换滑出选项卡并单击外部关闭

> ID：12972586
> 
> 赞同：1
> 
> 时间：2012-10-19T10:43:21.190
> 
> 标签：jquery, menu, click

我有这个脚本的问题：http: [//jsfiddle.net/bZw83/](http://jsfiddle.net/bZw83/)

如果在选项卡内发生单击，它会在选项卡内切换带有语言选择的选项卡。现在我被卡住了，我尝试编写一个函数，如果单击在选项卡之外，则将选项卡切换到屏幕之外，例如

```
$('html').click(function() {...}); 
```

但我不能排除选项卡区域触发事件。我尝试使用 event.stopPropagation() 但我无法实现目标：-/

有人可以帮我解决这个问题吗？

非常感谢你

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T10:50:04.153

您可以为文档创建一个处理程序，然后检查它是#navigation 还是它的子级。

见：http : [//jsfiddle.net/bZw83/1/](http://jsfiddle.net/bZw83/1/)

```
$(document).click(function(e) {
    $target = $(e.target);
    var is = $target.is('#navigation');
    var isChild = $target.parents('#navigation').length;

    if(!(is) && !(isChild)) {
        $('a', $(this)).stop().animate({
            'marginLeft': '-44px'
        }, 200);
        stato = "chiuso";
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:52:01.720

做这样的事情

```
 $(document).click(function(e) {
    if($(e.target).parents("*").andSelf().is('#navigation')==false)
    {
       //your code here
    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T10:53:48.333

您可以通过处理文档的点击事件来做到这一点，如下所示：

```
$(document).click(function() {
   $('a',$(this)).stop().animate({'marginLeft':'-44px'},200);
   stato="chiuso";
}); 
```

查看工作[**演示**](http://jsfiddle.net/gnel/bZw83/3/)

# python - 变色龙模板循环

> ID：12972592
> 
> 赞同：1
> 
> 时间：2012-10-19T10:43:35.800
> 
> 标签：python, chameleon, template-tal

我尝试使用变色龙创建模板。这是一个代码片段。

调用模块`runtemp.py`：

```
delete_list=[]
delete={'Name':'aaa','Sirname':'bbb','Friends':['ccc','ddd','eee']}
delete_list.append(delete)
templates = PageTemplateLoader(os.path.join(path, "templates"))
template = templates["delete_user.pt"]
print template(tdelete_list=delete_list) 
```

模板文件`delete_list.pt`：

```
 <?xml version="1.0" encoding="UTF-8"?>
 <Delete>
   <DeleteRequest>

       <DeleteItems tal:repeat="deletions tdelete_list">

           <Deleteuser tal:repeat="delete repeat.deletions" >

                <Name tal:content="repeat.delete.Name"></Name>
                <Sirname tal:content="repeat.delete.Sirname"></Sirname>
                 <Friends>
                      <Friend tal:repeat="friend repeat.delete.Friends">
                               <Value tal:content="friend"></Value>
                       </Friend>
                 </Friends>

           </Deleteuser>

     <DeleteItems>

    </DeleteRequest>

 </Delete> 
```

我得到的输出：

```
 <Delete>
        <DeleteRequest>

           <DeleteItems>

           </DeleteItems>
  </DeleteRequest>
 </Delete> 
```

我的问题是中间标签没有打印出来；怎么了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T12:29:36.027

您正在迭代`tdelete_list`哪个是具有一个元素的列表（您在第 2 行创建的 dict）。这就是你获得那个`<DeleteItems />`标签的方式。在该标记中，您尝试迭代`repeat.deletions`，但是在您传递给模板的上下文中，没有名为 的对象`repeat.deletions`。

我从你的变量命名中猜想你误解了什么`tal:repeat="deletions tdelete_list"`- 它迭代`tdelete_list`并依次将名称分配给该`deletions`迭代的每个元素。在`<DeleteItems />`标签内，您可以访问该名称下的元素。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T09:07:51.590

该行`<DeleteItems tal:repeat="deletions tdelete_list">`表示循环`tdelete_list`并将每个元素放入变量中`deletions`。

因此，您的内部循环只需要循环`deletions`；*此处不*使用`repeat.`前缀：

 *```
<Deleteuser tal:repeat="delete deletions" >

    <Name tal:content="delete.Name"></Name>
    <Sirname tal:content="delete.Sirname"></Sirname>
     <Friends>
          <Friend tal:repeat="friend delete.Friends">
                   <Value tal:content="friend"></Value>
           </Friend>
     </Friends>

</Deleteuser> 
```

该`repeat.deletions`变量实际上只用于存储循环元数据；当前计数、`first`and`last`标志、`odd`and`even`标志等。*

# python - 从python中的字符串中提取特定数字后跟命令行参数变量

> ID：12972595
> 
> 赞同：0
> 
> 时间：2012-10-19T10:44:04.560
> 
> 标签：python

首先我说这不是：How to get integer values from a string in [look here](https://stackoverflow.com/questions/11339210/how-to-get-integer-values-from-a-string-in-python/11339230#11339230) ..ok so

我的问题是： **mv = /dev/vg10/lv10:cp:99** 我需要提取**vg10**的“10”而不是 [10]。mv 是一个字符串

我的最终输出应该只有 10 应该从**vg中提取**

我的python版本：`Python 2.6.1`

在此先感谢..请帮助我:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:58:22.450

您应该查看 python 的正则表达式模块。只需在脚本中“import re”即可提供正则表达式功能。顺便说一句，如果您只想要字符串“vg”后面的数字，那么下面的脚本应该可以解决问题。

```
import re
urString = "/dev/vg10/lv10:cp:99"
Matches = re.findall("vg[0-9]*", mv)
print Matches 
```

现在匹配将有一个包含所有 vg'number' 的列表。[0-9]* 表示任何数字任意次数。再次解析它以从中获取数字。您应该阅读有关正则表达式的更多信息。很有趣。

扩展答案以符合 OP 的要求：

```
In [445]: Matches
Out[445]: ['vg10']

In [446]: int(*re.findall(r'[0-9]+', Matches[0]))
Out[446]: 10 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:53:03.060

你在说这个吗：

```
import re
mv = "/dev/vg10/lv10:cp:99"
print re.search('/dev/vg(\d+)', mv).groups() 
```

或者，如果 vg 可以是其他东西，但它始终是您想要的第二项，您可以这样做：

```
print re.search('/dev/\w+(\d+)/lv10:cp:99', mv).groups() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T14:34:30.253

```
import re

mv =  '/dev/mapper/vg8-lv8-eSPAN_MAX_d4:eSPAN_MAX_d4:99'

print re.findall(r'(?<=vg)\d*', mv) 
```

# linqpad - 如何在 Linqpad 中启用自动换行？

> ID：12972600
> 
> 赞同：4
> 
> 时间：2012-10-19T10:44:34.810
> 
> 标签：linqpad

如何在 Linqpad 的文本编辑器中启用自动换行？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-20T08:14:10.257

现在 LINQPad 中没有自动换行选项。[您可以在此处](http://linqpad.uservoice.com)注册请求。

* * *

从[Linqpad Beta v4.48 开始](http://www.linqpad.net/beta.aspx)，现在支持自动换行。检查编辑/首选项

# php - 如何将一个magento商店的根类别提取到另一个？

> ID：12972606
> 
> 赞同：1
> 
> 时间：2012-10-19T10:45:00.363
> 
> 标签：php, categories, magento-1.7, magento

我会简短地告诉我我正在尝试做什么，所以没有任何混淆点。

我的网站是一个每日交易网站，面向城市。在开始时，我将只为 2 个城市推出我的网站。（包括只能在城市兑换的优惠）

但他们是一些适用于该国每个人的购物优惠。

所以现在我所做的是我在后端创建了 3 个商店和 3 个根类别。（2个城市，1个购物）

我将根与特定商店连接起来。

现在，如果一个人来自未在其中列出的第三个城市，他显然会去购物商店为他找到一件物品。

但如果此人来自所列城市，他将前往他所在城市的特定商店。但因为他看不到购物商店中可用的物品。

所以我想要一个解决方案，以便我可以以某种方式使购物商店类别在城市商店中可见。我的网站：www.dealsburrp.com

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T14:32:56.950

使用商店 ID，我们可以获得商店的根类别

```
Mage::app()->getStore($storeId)->getRootCategoryId(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T06:07:00.723

我认为首先我们找到 storeID 并使用 storeId 我们得到 rootcategoryid

```
$storeId =Mage::app()->getStore()->getStoreId();

Mage::app()->getStore($storeId)->getRootCategoryId(); 
```

# php - URL重写查询数据库？

> ID：12972608
> 
> 赞同：0
> 
> 时间：2012-10-19T10:45:12.347
> 
> 标签：php, mysql, url, url-rewriting, seo

我试图了解 URL 重写是如何工作的。我有以下链接。

```
mysite.com/profile.php?id=23 
```

我想用用户的名字和姓氏重写上面的 url。

```
mysite.com/directory/liam-gallagher 
```

从我读过的内容来看，您指定了应该输出 url 的规则，但是如何查询我的表以获取每个用户名？

对不起，如果这很难理解，我自己也糊涂了！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-19T10:51:10.643

你从错误的方向看这个。你不能做那种自动 url 重写。最好的方法是创建一个全面的 url 重写：

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
    RewriteRule ^index\.php$ - [L]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /index.php [L]
</IfModule> 
```

并为数据库中的用户创建一个特定的名称，该名称将用作 url。

```
+---------+----------+------+-----------+----------------+
| user_id | username | name | surname   | url            |
+---------+----------+------+-----------+----------------+
|      23 | liam     | Liam | Gallagher | liam-gallagher |
+---------+----------+------+-----------+----------------+ 
```

现在，当有人访问您的 时`http://mysite.com/directory/liam-gallagher`，您可以阅读最后一个条目并`user_id`在您的数据库中找到 ，然后让您的脚本完成剩下的工作。

另一种方式是[Pekka](https://stackoverflow.com/users/187606/pekka)建议的。创建一个类似的 url`http://mysite.com/directory/23/liam-gallagher`并从链接中读取 id。但我个人不喜欢那种网址。在我看来，它们只是快速/懒惰的解决方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:49:56.500

类似的东西（只是一个草稿，适应你自己的需要......）：

```
RewriteEngine On
RewriteRule ^([a-zA-Z]+)/([a-zA-Z]+)/([0-9]+)/([-0-9a-zA-Z]+)/?$ /$1/$2.php?id=$3 [L] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T10:50:20.953

我使用的一种方法如下。

制定重写规则，例如

```
mysite.com/directory/(.*) 
```

重定向到：

```
mysite.com/profile.php?user=%1 
```

将 %1 作为从规则中捕获的参数。

然后从配置文件页面上的查询参数中获取用户，并从数据库中获取该用户的 ID。

[http://httpd.apache.org/docs/current/mod/mod_rewrite.html](http://httpd.apache.org/docs/current/mod/mod_rewrite.html)

# node.js - 脸书喜欢聊天

> ID：12972609
> 
> 赞同：1
> 
> 时间：2012-10-19T10:45:16.760
> 
> 标签：node.js, socket.io, chat

我用 socket.io 创建了一个简单的聊天。我决定继续创建 Facebook 之类的聊天。问题：

1.  每个用户都有自己的在线好友以及如何向用户展示自己的在线好友
2.  如何以及在何处存储用户及其消息
3.  如果某个用户的朋友断开连接，则更新某个用户的好友列表
4.  如何仅向特定人的朋友（而不是所有连接的用户）发出事件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T18:57:19.170

您可以检查这些插件的 jquery 和 pusher（用于推送通知的 api）。它将帮助您完成一些客户端工作，只需阅读代码即可。它将帮助您制作自己的。

[http://html5-ninja.com/item/Pusher-Chat-jQuery-plugin/7](http://html5-ninja.com/item/Pusher-Chat-jQuery-plugin/7)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-21T14:28:18.697

除非您只是将其作为对自己的练习，否则我会说您使构建所有这些变得太困难或您自己（而且您甚至没有解决这里最重要的问题：当整个事情不再适合一台服务器）。

我想说，安装众多 XMPP 服务器之一，为您解决所有这些问题。

如果您只是为了练习而这样做，我仍然会说，看看 XMPP。它具有发送消息的标准（对于 1 和 3）。2：只需将它们存储在某个数据库中。如果您每秒有超过 50 个数据库写入操作，请为一些主要的数据库问题做好准备。对于 4：如果您想向他们发送断开连接，只需遍历某个用户的所有在线朋友。

# cryptography - OpenSSL GCM 解密中的后期身份验证

> ID：12972610
> 
> 赞同：4
> 
> 时间：2012-10-19T10:45:21.450
> 
> 标签：cryptography, openssl, aes, aes-gcm

我正在使用 OpenSSL 的 EVP 接口来实现使用 GCM 模式的 AES 加密。

现在 GCM 作为身份验证模式之一，提供了密文完整性。这意味着它会在密文（以及附加数据，如果提供）上生成标签（MAC - 消息验证码）。稍后可以在解密之前检查此标签，以确保密文没有被修改。

我已经按照这篇博文实施了加密：http: [//incog-izick.blogspot.in/2011/08/using-openssl-aes-gcm.html](http://incog-izick.blogspot.in/2011/08/using-openssl-aes-gcm.html)

在解密时，我正在使用以下 API 调用（按此顺序）：

```
 // setting cipher, key and iv
    EVP_DecryptInit (ctx, EVP_aes_128_gcm(), key, iv);

    // setting tag
    EVP_CIPHER_CTX_ctrl (ctx, EVP_CTRL_GCM_SET_TAG, taglength, tagbuffer);

    // adding Additional Authenticated Data (AAD)
    EVP_DecryptUpdate (ctx, NULL, &length, aad, aadlength);

    // decrypting data
    EVP_DecryptUpdate (ctx, decrypteddata, &length, encrypteddata, encryptedlength);

    // authentication step
    EVP_DecryptFinal(ctx, outbuffer, &length); 
```

问题是，如果我修改密文或 AAD，密文仍然被解密，并且在解密过程的最终调用中检测到错误，即在对 EVP_DecryptFinal 的调用中。返回零值表示错误。

在我看来，应该在 EVP_DecryptUpdate 调用本身中引发错误并且解密应该失败。后期错误检测违背了认证加密的目的。

这里有什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:54:43.247

它如何知道 MAC 在到达密文末尾之前会失败？流式 API 需要在知道它已经到达终点之前产生输出。

为了避免这种情况，将整个消息解密到一个临时缓冲区中，并且只有在您使用生成的明文完成解密工作后。有些 API（例如 NaCl's `unbox`）仅在验证后才为您提供密文，但这些 API 不支持流式使用。

或者，您可以创建一个新的加密方案，将 MAC 定期放入密文中，这样您就可以解密和验证那些较小的块。普通的 AES-GCM 是不够的。

# php - 在 PHP Myadmin 中更改日期类型

> ID：12972611
> 
> 赞同：0
> 
> 时间：2012-10-19T10:45:23.530
> 
> 标签：php, mysql, date

有什么方法可以更改日期列的类型，它显示为“0000-00-00”表示 YYYY-MM-DD 但我想以 DD-MM-YYY 格式存储日期。我知道它可以通过格式化来完成（使用分解功能），但我不想分解日期。有没有办法在不格式化的情况下做到这一点？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:50:21.393

日期不是“存储为 YYYY-MM-DD”，这就是它向您显示的方式。它实际上以某种内部格式存储以表示时间。当您从数据库中选择它（例如`SELECT DATE_FORMAT(columnName, '%d-%m-%Y')`）或在 PHP 中使用日期格式化函数（例如`echo date('d-m-Y', strtotime($result['columnName']))`）时，您可以对其进行不同的格式化。在任何情况下，您都不应该简单地`explode`使用字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:51:16.557

MySQL 以 'YYYY-MM-DD' 格式检索和显示 DATE 值。

[http://dev.mysql.com/doc/refman/5.6/en/datetime.html](http://dev.mysql.com/doc/refman/5.6/en/datetime.html)

最好坚持下去。在应用程序端显示它时，您可以随时根据您的要求更改格式。

@deceze 谢谢！！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T10:51:20.440

好吧，您只需将格式设置为 MM-DD-YYYY

# asp.net - 如何让 ASPNETDB.mdf 出现？

> ID：12972616
> 
> 赞同：0
> 
> 时间：2012-10-19T10:45:29.660
> 
> 标签：asp.net

你好我最近开始学习asp.net。我知道当你在页面上拖动一个登录控件和一个注册控件时asp会生成一个名为ASPNETDB.mdf的数据库。我也知道这个数据库应该在App_Data中。出于某种原因之后我添加了登录控件、注册控件，还选择了来自互联网的身份验证类型，数据库仍未显示在 App_Data 中。

我怎样才能让它出现？

我需要它来创建与另一个将保存配置文件数据的表的关系。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:49:57.617

尝试在 Visual Studio 的解决方案资源管理器中单击“显示所有文件”按钮。我相信该文件已生成，但它并未自动包含在 Web 应用程序项目中。

![在此处输入图像描述](../Images/14369a9aa0611644ea1b07967d31b88b.png)

# android - 监控android中进程的网络使用情况

> ID：12972617
> 
> 赞同：1
> 
> 时间：2012-10-19T10:45:32.813
> 
> 标签：android, android-networking

我正在一个基于 Android 的自定义平台上进行开发。我想知道是否有办法以编程方式监控 Android 中进程的网络使用情况。

例如

我有一项服务可以跟踪设备中正在运行的所有进程。该服务还希望跟踪单个进程的网络使用信息，如果它超过一个前缀值，该服务将强制终止它。或者也许（会更好），除非强制杀死它，否则它会阻止进程使用网络。

由于我在自定义平台上进行开发，所以我可以给我的流程任何我想要的权限，有没有办法实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T12:27:36.640

[直接使用`TrafficStats`](http://developer.android.com/reference/android/net/TrafficStats.html)，或者通过检查它是如何实现的，以便您的自定义操作系统修改可以在底层实现中使用。

# java - 带有文件重定向的 Java 中的 Runtime.getRuntime().exec()

> ID：12972619
> 
> 赞同：0
> 
> 时间：2012-10-19T10:45:36.957
> 
> 标签：java, macos, runtime.exec

> **可能重复：**
> [使用 Runtime.getRuntime().exec() 重定向不起作用](https://stackoverflow.com/questions/3130787/redirection-with-runtime-getruntime-exec-doesnt-work)

我正在尝试在 OS X 上使用 Java 运行 SQL 脚本来启动我的数据库进行测试。我知道这不是首选的方法，但它是一个临时解决方案。

我试图阅读有关该`exec()`函数以及如何传递参数的信息，但我根本无法使其工作。

我的代码如下所示：

```
try {
    Process p = Runtime.getRuntime().exec("/usr/local/mysql/bin/mysql -uroot dev_test <div/test_db.sql");

    p.waitFor();

    BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));

    while ((line = input.readLine()) != null) {        
        System.out.println(line);
    }

    input.close();

    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

我也尝试在字符串数组中传递参数，但没有运气。

我已经设法通过使用这种格式使其在 Windows 机器上运行，但我无法更改它以便它在 osx 中工作：

```
Process p = Runtime.getRuntime().exec(new String[] { "cmd", "/C", "mysql -u root dev_test < div\\test_db.sql" }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T11:15:25.050

将代码更改为使用 unix shell，就像在 Windows 解决方案中一样。生成的代码如下所示：

```
String [] cmd = {"/bin/sh" , "-c", "/usr/local/mysql/bin/mysql -u root dev_test <div/test_db.sql"};
Process p = Runtime.getRuntime().exec(cmd); 
```

谢谢，约阿希姆！很抱歉重新发布。

# javascript - 使用 History.js 时收到错误

> ID：12972621
> 
> 赞同：2
> 
> 时间：2012-10-19T10:45:47.750
> 
> 标签：javascript, jquery, internet-explorer, internet-explorer-9, history.js

我正在将[History.js](https://github.com/balupton/History.js/)`history.pushState()`实现到我的 Web 应用程序中，作为Internet Explorer缺乏支持的解决方法。

到目前为止，按照演示和教程，我编写了以下代码：

```
var historyJs = window.History;

historyJs.Adapter.bind(window, 'statechange', function () {
     var State = History.getState();
     historyJs.log(State.data, State.title, State.url);
}); 
```

但是，我在 Internet Explorer 9 中返回了以下错误：

> SCRIPT5007：预期对象
> 
> jquery.history.js，第 1 行字符 3154

![在此处输入图像描述](../Images/9db98046bfc79b3a8f41d26dd5b5aef8.png)

为什么我会收到此错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T22:11:40.343

听起来您缺少对 jQuery 的引用。

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script> 
```

# cuda - 我们可以在 CUDA 内核中使用 printf 或任何其他类似的函数吗？

> ID：12972626
> 
> 赞同：0
> 
> 时间：2012-10-19T10:46:13.593
> 
> 标签：cuda, gpgpu, gpu

我的矩阵加法示例：

```
 __global__ void matrix_add(float *a, float*b, float *c, int N)
{
    int index;
    int Row = blockIdx.y * blockDim.y + threadIdx.y;
    int Col = blockIdx.x * blockDim.x + threadIdx.x;

    int index = Row * N + Col;      // N is the order of the square matrix

    cd[index]= ad[index] + bd[index];

} 
```

我可以在上面的内核中使用 printf 或任何其他类似的功能吗？这样我就不需要将数据从设备传输到主机内存（即`cudaMemcpyDeviceToHost`）。如果是，那怎么办？如果没有，那为什么不呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:52:01.800

您可以使用 printf(..) 但仅适用于 cc2.x 或更高版本。
您可以在 CUDA 编程指南附录 B.16 中阅读更多相关信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T15:17:14.427

在不将数据复制回主机的情况下显示内核结果的唯一方法是使用其中一种图形互操作模式。CUDA 支持 OpenGL 和 Direct3D 互操作性。CUDA 编程指南中有关于如何使用这些的示例。

`__device__ printf()`（计算能力 >= 2.0）和`__device__ cuPrintf()`（计算能力 < 2.0）都导致将打印的字符串隐式复制回主机。很可能，这两者也会导致所有尝试同时打印的内核的隐式序列化，因此通常仅用于调试。

如果您在调试器中运行 CUDA 应用程序，您在调试器中查看的设备值也已隐式复制到主机。

从您的问题中不清楚您是要避免将值复制回主机还是只想避免必须*显式*复制值。如果是后者，那么这些`__device__ printf()`方法对于在主机上显示少量结果是可行的。避免显式复制值的另一种方法是使用`thrust::device_vector`. Thrust 是 CUDA 附带的一个库。它的灵感来自 C++ STL。您可以在主机端读取和写入`device_vector`，并在后台对设备执行隐式复制。

您还可以使用所谓的映射内存来进行隐式复制。使用映射内存，CUDA 硬件可以在内核需要时在主机和设备之间执行内存的隐式复制。

这一切的原因是主机和设备之间的副本非常昂贵。通常，它们占用了总计算时间的很大一部分。因此，有必要仔细考虑这些副本何时以及如何发生。我提到的所有技术都有不同的性能影响，如何最好地处理复制是特定于应用程序的。

# apache-flex - 重新初始化组件

> ID：12972628
> 
> 赞同：0
> 
> 时间：2012-10-19T10:46:28.867
> 
> 标签：apache-flex

我想通过单击一个按钮来重新初始化一个组件。我使用以下代码，但似乎没有发生任何事情。

```
protected function createItem(event:MouseEvent):void
{
    this.currentState="Viewer";
    this.initialize();
} 
```

为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T13:47:10.790

> 是的，我指的是 Flex 组件生命周期。我知道 flex 有四个步骤来创建组件，但是有没有一种方法可以强制 Flex 再次执行这些步骤？

实际上，Flex 组件生命周期的步骤远不止四个。有关更多信息，请参见[此处](http://help.adobe.com/en_US/flex/using/WS460ee381960520ad-2811830c121e9107ecb-7fff.html)和[此处](http://livedocs.adobe.com/flex/3/html/help.html?content=ascomponents_advanced_2.html)。

您可能的意思是，有四个方法作为 Flex 组件生命周期的一部分运行；它们是 createChildren()、commitProperties()、updateDisplayList() 和 measure()。在 MX 架构中，还有一个 layoutChrome() 方法，但并不常用。

在 Flex 4 Spark 架构中；还有很多其他钩子（partAdded()、partRemoved()），但它们都扩展了 MX 架构。

您可能会从使用失效方法中受益：

*   在组件上运行 invalidateProperties() 以强制 commitProperties() 在下一次渲染事件期间重新执行
*   在组件上运行 invalidateDisplayList() 以强制 updateDisplayList() 方法在下一次渲染事件期间重新执行
*   在组件上运行 invalidateSize() 以强制 measure() 方法在下一个渲染事件期间重新执行
*   在 Flex 4、Spark 组件中，运行 invalidateSkinState() 以强制 getCurrentSkinState() 方法在下一次渲染事件期间重新执行。

    您还可以对 Spark 容器使用 removeChild()--removeElement() 从舞台中删除组件，然后对 Spark 容器使用 addChild()--addElement。这基本上会迫使组件重新启动它的进程。

    您还可以创建组件的全新实例并删除旧实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T06:41:43.803

我已经解决了我的问题。如果我在这里发布我的方法可能会更好。

我只需添加两行来调用服务并将其放入 Compenent 正在使用的变量中，一切正常。

```
 protected function createItem(event:MouseEvent):void
    {
        this.currentState="Viewer";
        this.initialize();

countResult.token = productdetailService.count();
countResult2.token = getNewProductIDService.count();

    } 
```

# javascript - 在 ASP.NET MVC 中处理日期的最佳方法 - Javascript 应用程序

> ID：12972632
> 
> 赞同：5
> 
> 时间：2012-10-19T10:46:46.457
> 
> 标签：javascript, asp.net-mvc, json, date

我们的应用程序严重依赖于 javascript (jQuery)。所以有很多“应用程序/json”请求。

一段时间以来，我们一直在为日期问题苦苦挣扎，但尽管我们付出了很多努力，但我们还是无法弄清楚如何在 ASP.NET MVC 应用程序中处理它。

**这是我们想要的：**

1.  在服务器端序列化/反序列化 DateTime 对象（最好使用 DateTimeKind.Utc）。
2.  在客户端使用 Date 对象。在 UTC 中使用它。以某种方式格式化日期。

**这里有问题：**

1.  日期客户端对象始终使用最终用户的时区。`JSON.stringify(new Date())`自动换档。

    [JSON Stringify 因 UTC 而更改日期时间](https://stackoverflow.com/questions/1486476/javascript-json-strigify-changes-time-of-date-because-of-utc)

    这个问题有点帮助，但我们需要记住在将其发送到服务器之前更改日期。我们还需要记住，一旦我们这样做了，我们就需要一个转变`new Date('2012-10-19T10:23:47.778Z')` 我们知道 JSON 不知道日期，但是如果有类似 JSON.parse 来解析日期会很好。

2.  我们使用 Newton Json.net 来序列化/反序列化日期，但它在 DateTimeKind.Unspecified

**问题：**

> 有没有一种优雅的方式来处理服务器和客户端上的日期？我们需要它作为整个应用程序中的一个横切事物。

**升级版：**

我不得不说得更清楚。在我们的应用程序中，我们不需要考虑客户时区，因为我们只使用日期进行操作。

因此，如果服务器返回`2012-10-19T10:23:47.778Z'`，我们需要 Date 对象：

`Fri Oct 19 2012 10:23:47 GMT+0300 (Kaliningrad Standard Time)`

不是

`Fri Oct 19 2012 13:23:47 GMT+0300 (Kaliningrad Standard Time)`（日期偏移）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T11:13:11.367

我强烈建议阅读以下帖子：

*   [JSON 日期的噩梦。另外，JSON.NET 和 ASP.NET Web API](http://www.hanselman.com/blog/OnTheNightmareThatIsJSONDatesPlusJSONNETAndASPNETWebAPI.aspx)

这导致您应该使用 ISO 日期的一般结论：

*   `.toJSON()`通过在客户端使用现代浏览器方法
*   通过在服务器端正确配置 JSON 序列化（`JsonNetFormatter`with `IsoDateTimeConverter`）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:04:46.430

可能最好的方法是将时间值发送为自 1970-01-01T00:00:00Z（即 UTC）以来的毫秒数，然后您就可以这样做`new Date(timeValue)`，并且您的日期对象设置为该 UTC 时间。它将根据客户端系统时区设置返回日期和时间。

例如对我来说：

```
alert(new Date(0)); // Thu Jan 01 1970 10:00:00 GMT+1000 (EST) 
```

如果您在客户端上弄乱了该日期对象（例如添加一天），您可以只发回时间值：

```
var timeValue = 1350518400000; // 2012-20-18T00:00:00Z
var date = new Date(timeValue);
alert(date);                   // 2012-10-18T10:00:00UTC+1000

// add a day
date.setDate(date.getDate() + 1); 
alert(date.getTime());         // 1350604800000 
```

从第二个中减去第一个 timeValue，您将得到 86400000，即一天中的毫秒数（如果一天越过夏令时更改边界，这将是一个小时）。用服务器上的时间值做你喜欢的事情，将其保留为数字或将其转换为日期字符串。

# sql-server - TSQL 中的日期范围高级计数计算

> ID：12972635
> 
> 赞同：0
> 
> 时间：2012-10-19T10:47:05.363
> 
> 标签：sql-server, tsql, date-range

我正在处理呼叫中心项目，我必须在特定时间范围之间同时计算呼叫到达。我必须编写一个具有参数 StartTime、EndTime 和 Interval 的程序

例如：

```
Start Time: 11:00
End Time: 12:00
Interval: 20 minutes 
```

因此程序应将 1 小时的时间范围分为 3 个部分，每个部分应计算在此范围内开始和完成的到达或开始但尚未完成的到达

应该是这样的：

```
11:00 - 11:20 15 calls at the same time(TimePeaks)
11:20 - 11:40 21 calls ...
11:40 - 12:00  8 calls ... 
```

任何建议如何计算它们？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:58:09.457

您可以使用`DATEADD`您`GROUP BY`的时间跨度：

```
Select Count(*), DateAdd(Minute, @Interval * (DateDiff(Minute, 0, SomeDate) / @Interval), 0)As Part
From #Temp
Where SomeDate Between @StartTime And @EndTime
Group By DateAdd(Minute, @Interval * (DateDiff(Minute, 0, SomeDate) / @Interval), 0)
ORDER BY Part 
```

样本数据：

```
declare @StartTime datetime;
declare @EndTime datetime;  
declare @Interval int;
SET @StartTime = Convert(datetime,'2012-10-19 12:00:00',102);
SET @EndTime = Convert(datetime,'2012-10-19 13:00:00',102);
SET @Interval = 20;

create table #Temp(SomeDate datetime);
insert into #Temp values(Convert(datetime,'2012-10-19 12:05:00',102));
insert into #Temp values(Convert(datetime,'2012-10-19 12:06:00',102));
insert into #Temp values(Convert(datetime,'2012-10-19 12:15:00',102));
insert into #Temp values(Convert(datetime,'2012-10-19 12:25:00',102));
insert into #Temp values(Convert(datetime,'2012-10-19 12:45:00',102));
insert into #Temp values(Convert(datetime,'2012-10-19 12:35:00',102));
insert into #Temp values(Convert(datetime,'2012-10-19 12:37:20',102));
insert into #Temp values(Convert(datetime,'2012-10-19 12:15:00',102));
insert into #Temp values(Convert(datetime,'2012-10-19 12:55:00',102));
insert into #Temp values(Convert(datetime,'2012-10-19 12:18:10',102)); 
```

这是一个小提琴：[http ://sqlfiddle.com/#!3/ee6f9/1/0](http://sqlfiddle.com/#!3/ee6f9/1/0)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T11:54:41.307

查找 1 小时前范围：

```
DECLARE @iniz VARCHAR(16), @fine VARCHAR(16), @ades VARCHAR(16)
SET @iniz = convert(varchar(16), dateadd(mi,-(60+(datepart(mi,getdate()))), getdate()),120)
SET @fine = convert(varchar(16), dateadd(mi,-(datepart(mi,getdate())), getdate()),120)
SET @ades = convert(varchar(16),Getdate(),120)

PRINT @iniz + ' - ' + @fine + ' - ' + @ades 
```

# oracle - 获取模式名称作为用户输入并在游标中使用它

> ID：12972636
> 
> 赞同：0
> 
> 时间：2012-10-19T10:47:15.730
> 
> 标签：oracle, stored-procedures, cursor, sqlplus

我想让用户输入变量并将其用于游标。此用户输入说明要使用哪个数据库。

```
--source source 
source varchar2(100) := &SOURCE_ATS_USER_SCHEMA;
CURSOR cur_list is
    select ID from source.WEB_FE; 
```

我在 DECLARE 块中使用上面的代码。当它运行时，提示询问用户输入。假设我输入为“ONE”，然后它给出错误“必须声明标识符 ONE”，虽然 ONE.WEB_FE 表存在，但它说“表或视图不存在”。

那么如何获取模式名称作为用户输入并在游标中使用它呢？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T12:43:29.880

假设您`select on`有权查询您不拥有的表。为了能够在`from`查询的子句中更改模式限定符，您需要使用动态 SQL。例如：

```
HR@XE> edit
Wrote file afiedt.buf

  1  declare
  2   c sys_refcursor;
  3   l_emp_name varchar2(11);
  4  begin
  5    open c for 'select first_name from ' || '&schema_name' || '.employees where rownum <= 10';
  6    loop
  7      fetch c into l_emp_name;
  8      exit when c%notfound;
  9      dbms_output.put_line(l_emp_name);
 10    end loop;
 11    close c;
 12* end;
HR@XE> /
Enter value for schema_name: hr
old   5:   open c for 'select first_name from ' || '&schema_name' || '.employees where rownum <= 10';
new   5:   open c for 'select first_name from ' || 'hr' || '.employees where rownum <= 10';

Ellen
Sundar
Mozhe
David
Hermann
Shelli
Amit
Elizabeth
Sarah
David

PL/SQL procedure successfully completed.

HR@XE> 
```

您还可以继续使用静态 SQL 并通过发出更改架构

```
alter session set current_schema = <<schema_name>>; 
```

请注意，在这种情况下，您不需要通过指定模式名称来限定您正在查询的表。例如。该`employee`表存在于两种模式中`HR`，`NK`但包含不同的数据：

```
HR@XE> select user from dual;

USER
------------------------------
HR

HR@XE> declare
  2    cursor c is
  3      select first_name
  4        from employees
  5       where rownum <= 7;
  6    l_emp_name varchar2(11);
  7  begin
  8     open c;
  9     loop
 10       fetch c into l_emp_name;
 11       exit when c%notfound;
 12       dbms_output.put_line(l_emp_name);
 13     end loop;
 14     close c;
 15  end;
 16  /

Ellen
Sundar
Mozhe
David
Hermann
Shelli
Amit

PL/SQL procedure successfully completed.

HR@XE> alter session set current_schema=NK;

Session altered.

HR@XE> declare
  2    cursor c is
  3      select first_name
  4        from employees
  5       where rownum <= 7;
  6    l_emp_name varchar2(11);
  7  begin
  8     open c;
  9     loop
 10       fetch c into l_emp_name;
 11       exit when c%notfound;
 12       dbms_output.put_line(l_emp_name);
 13     end loop;
 14     close c;
 15  end;
 16  /

Tom

PL/SQL procedure successfully completed.

HR@XE> alter session set current_schema=HR;

Session altered.

HR@XE> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T15:56:59.040

你这里有两个问题。该`identifier ONE must be declared`消息是因为您没有引用替换变量。如果你有`set verify on`那么你会看到类似的东西：

```
Enter value for source_ats_user_schema: ONE
old   2: source varchar2(100) := &SOURCE_ATS_USER_SCHEMA;
new   2: source varchar2(100) := ONE;
source varchar2(100) := ONE;
                        *
ERROR at line 2:
ORA-06550: line 2, column 25:
PLS-00201: identifier 'SCOTT' must be declared
ORA-06550: line 2, column 8:
PL/SQL: Item ignored 
```

' `*`d 位置表明它不知道是什么`ONE`意思。由于您希望在此处将其视为字符串，因此您需要执行以下操作：

```
source varchar2(100) := '&SOURCE_ATS_USER_SCHEMA'; 
```

...这将显示：

```
Enter value for source_ats_user_schema: ONE
old   2: source varchar2(100) := '&SOURCE_ATS_USER_SCHEMA';
new   2: source varchar2(100) := 'ONE'; 
```

...这是有效的。就目前而言；这实际上对您没有帮助，因为您仍然有第二个错误：

```
 select ID from source.WEB_FE;
                          *
ERROR at line 4:
ORA-06550: line 4, column 27:
PL/SQL: ORA-00942: table or view does not exist
ORA-06550: line 4, column 5:
PL/SQL: SQL Statement ignored 
```

请注意，错误指的是`source.WEB_FE`，*而不是* `ONE.WEB_FE`。`source`没有被替换。通常，您需要使用@NicholasKrasnov 在他的回答中显示的一种方法，但实际上您使这比需要的更复杂；在这种特定情况下，您根本不需要声明`source`，您可以这样做：

```
CURSOR cur_list is
    select ID from &SOURCE_ATS_USER_SCHEMA..WEB_FE; 
```

请注意，与我刚才所说的相反，这里您不需要引用替换变量，但您确实需要用 a 显式终止它`.`，以阻止它将`.`表名之前的实数视为终止符。（试一试没有额外`.`的，看看如果你不这样做会发生什么）。

当您运行它时，它会提示并且验证输出将如下所示：

```
Enter value for source_ats_user_schema: ONE
old   3:     select ID from &SOURCE_ATS_USER_SCHEMA..WEB_FE;
new   3:     select ID from ONE.WEB_FE; 
```

如您所见，它现在正在查找您指定的模式中的表。这仍然是动态的，但是以一种特殊的 SQL*Plus 方式。

但是，使用这些方法中的任何一种，您都需要考虑 SQL 注入的可能性。

# excel - 等号冒号“:=”是什么意思

> ID：12972637
> 
> 赞同：4
> 
> 时间：2012-10-19T10:47:21.003
> 
> 标签：excel, vba, colon-equals

如果找到此代码：

```
ActiveCell.Offset(-5, -1).Range("A1:E1").Cut Destination:=ActiveCell.Range( _
        "A1:E1") 
```

我找不到有关“：=”的任何参考。这是什么意思？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-19T10:50:48.880

`:=`与命名参数一起使用。在这种情况下， `Destination`是`Cut`方法的参数名称，另一边是它的值。

有关示例，请参见[https://docs.microsoft.com/en-us/office/vba/language/concepts/getting-started/understanding-named-arguments-and-optional-arguments 。](https://docs.microsoft.com/en-us/office/vba/language/concepts/getting-started/understanding-named-arguments-and-optional-arguments)

# fortran - 单台 PC 上的 MPI Fortran 代码错误

> ID：12972639
> 
> 赞同：2
> 
> 时间：2012-10-19T10:47:32.130
> 
> 标签：fortran, mpi, fortran90, fortran77, mpich

最近我试图在单机（Ubuntu 12.04 - 64 bits core i7 2670 QM）上编译和运行我的 mpi 代码，我使用以下配置安装了 mpich2 版本 1.2：

```
./configure --prefix=/opt/mpich2 --enable-f77 --enable-fc --enable-cxx --with-device=ch3:sock --with-pm=mpd CC=icc CXX=icpc F77=ifort FC=ifort 2>&1 | tee configure.log 
```

安装没问题，我的 mpd 运行良好，我用示例测试了 mpd，一切都很完美。

我使用 mpif77 编译我的代码，因为我不知道为什么当我编译 mpich2 时没有创建 mpif90。但即使使用 mpif77 我编译的代码也没有错误。

我用来编译代码的标志是：

对于编译器：

```
LN_FLAGS= -lm -larpack -lsparskit -lfftw3 -lrt -llapack -lblas 
```

对于 MPI 链接器：

```
LN_FLAGS_MPI= $(LN_FLAGS) -I$(MPIHOME)/include -L$(MPIHOME) $(MPIHOME)/lib/libmpich.a -lfmpich -lopa -lmpe 
```

所以问题是当我尝试在我的机器上运行代码时：

首先我调用 mpd 为：

```
mpd & 
```

然后将代码运行为：

```
mpirun -np 4 ./code_mpi 
```

我尝试了很多变化：

```
mpiexec -np 4 ./code_mpi
mpirun -n 2 ./code_mpi
mpiexec -n 2 ./code_mpi 
```

所有结果都导致相同的错误：

```
Fatal error in MPI_Comm_rank: Invalid communicator, error stack:
MPI_Comm_rank(106): MPI_Comm_rank(MPI_COMM_NULL, rank=0x14b46a0) failed
MPI_Comm_rank(64).: Null communicator
Fatal error in MPI_Comm_rank: Invalid communicator, error stack:
MPI_Comm_rank(106): MPI_Comm_rank(MPI_COMM_NULL, rank=0x14b46a0) failed
MPI_Comm_rank(64).: Null communicator
[cli_2]: aborting job:
Fatal error in MPI_Comm_rank: Invalid communicator, error stack:
MPI_Comm_rank(106): MPI_Comm_rank(MPI_COMM_NULL, rank=0x14b46a0) failed
MPI_Comm_rank(64).: Null communicator
[cli_1]: aborting job:
Fatal error in MPI_Comm_rank: Invalid communicator, error stack:
MPI_Comm_rank(106): MPI_Comm_rank(MPI_COMM_NULL, rank=0x14b46a0) failed
MPI_Comm_rank(64).: Null communicator
rank 2 in job 1  ubuntu_38132   caused collective abort of all ranks
  exit status of rank 2: killed by signal 9 
Fatal error in MPI_Comm_rank: Invalid communicator, error stack:
MPI_Comm_rank(106): MPI_Comm_rank(MPI_COMM_NULL, rank=0x14b46a0) failed
MPI_Comm_rank(64).: Null communicator
[cli_3]: aborting job:
Fatal error in MPI_Comm_rank: Invalid communicator, error stack:
MPI_Comm_rank(106): MPI_Comm_rank(MPI_COMM_NULL, rank=0x14b46a0) failed
MPI_Comm_rank(64).: Null communicator
Fatal error in MPI_Comm_rank: Invalid communicator, error stack:
MPI_Comm_rank(106): MPI_Comm_rank(MPI_COMM_NULL, rank=0x14b46a0) failed
MPI_Comm_rank(64).: Null communicator
[cli_0]: aborting job:
Fatal error in MPI_Comm_rank: Invalid communicator, error stack:
MPI_Comm_rank(106): MPI_Comm_rank(MPI_COMM_NULL, rank=0x14b46a0) failed
MPI_Comm_rank(64).: Null communicator
rank 1 in job 1  ubuntu_38132   caused collective abort of all ranks
  exit status of rank 1: return code 1 
```

我花了将近 2 周的时间试图解决这个问题，因为我真的需要在我的个人电脑上运行这段代码才能在家工作。我感谢所有可以帮助我的东西！

* * *

这是我初始化 MPI 库的方法

```
subroutine init()
integer                      :: provided
call mpi_init(mpi_err)
call mpi_comm_rank(mpi_comm_world,rank,mpi_err)
call mpi_comm_size(mpi_comm_world,an_proc,mpi_err)
call MPI_BARRIER(MPI_COMM_WORLD,mpi_err)
end subroutine init 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T01:47:07.390

The problem is your subroutine has no idea what `mpi_comm_world` is. This integer value is set in the `mpif.h` header (or the `mpi` module for f90). As your code is written, `mpi_comm_world` is assigned randomly by the compiler and has no association with the actual `mpi_comm_world` communicator handle provided by `mpi`.

Generally, it's best to use `implicit none` in your code which will warn you of these types of errors. Try the following:

```
subroutine init()
!use mpi   !This one is for f90
implicit none
include 'mpif.h'   !use this for f77
integer  :: provided,rank,an_proc,ierr
call mpi_init(ierr)
call mpi_comm_rank(mpi_comm_world,rank,ierr)
call mpi_comm_size(mpi_comm_world,an_proc,ierr)
call MPI_BARRIER(MPI_COMM_WORLD,ierr)
end subroutine init 
```

# http-post - RestEasy 客户端身份验证和 HTTP Put 与编组

> ID：12972640
> 
> 赞同：4
> 
> 时间：2012-10-19T10:47:40.097
> 
> 标签：http-post, marshalling, jax-rs, resteasy, apache-httpclient-4.x

我想使用 RestEasy 客户端框架测试我的 REST 服务。在我的应用程序中，我使用的是基本身份验证。根据 RestEasy 文档，我使用`org.apache.http.impl.client.DefaultHttpClient`来设置身份验证凭据。

对于 HTTP-GET 请求，这工作正常，我被授权并且我得到了我想要的结果响应。

但是，如果我想在请求的 HTTP 正文中使用 Java 对象（在 XML 中）创建 HTTP-Post/HTTP-Put 怎么办？有没有办法在我使用时自动将 Java 对象编组到 HTTP-Body 中`org.apache.http.impl.client.DefaultHttpClient`？

这是我的身份验证代码，有人可以告诉我如何在不编写 XML-String 或使用 InputStream 的情况下制作 HTTP-Post/HTTP-Put 吗？

```
@Test
public void testClient() throws Exception {

        DefaultHttpClient client = new DefaultHttpClient();
        client.getCredentialsProvider().setCredentials(
                        new AuthScope(host, port),
                        new UsernamePasswordCredentials(username, password));
        ApacheHttpClient4Executor executer = new ApacheHttpClient4Executor(
                        client);
        ClientRequest request = new ClientRequest(requestUrl, executer);
        request.accept("*/*").pathParameter("param", requestParam);

        // This works fine   
        ClientResponse<MyClass> response = request
                        .get(MyClass.class);
        assertTrue(response.getStatus() == 200);

        // What if i want to make the following instead:
        MyClass myClass = new MyClass();
        myClass.setName("AJKL");
        // TODO Marshall this in the HTTP Body => call method 

} 
```

是否有可能使用服务器端模拟框架，然后编组并将我的对象发送到那里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T16:45:32.563

**好的，让它工作，这是我的新代码：**

```
@Test
public void testClient() throws Exception {

    DefaultHttpClient client = new DefaultHttpClient();
    client.getCredentialsProvider().setCredentials(
                    new AuthScope(host, port),
                    new UsernamePasswordCredentials(username, password));
    ApacheHttpClient4Executor executer = new ApacheHttpClient4Executor(
                    client);

    RegisterBuiltin.register(ResteasyProviderFactory.getInstance());

    Employee employee= new Employee();
    employee.setName("AJKL");

    EmployeeResource employeeResource= ProxyFactory.create(
            EmployeeResource.class, restServletUrl, executer);

    Response response  = employeeResource.createEmployee(employee);

} 
```

**员工资源：**

```
@Path("/employee")
public interface EmployeeResource {

    @PUT
    @Consumes({"application/json", "application/xml"})
    void createEmployee(Employee employee);

 } 
```

# linux - NAND 中的纠错能力（1 位 4 位 8 位）

> ID：12972646
> 
> 赞同：0
> 
> 时间：2012-10-19T10:48:08.367
> 
> 标签：linux, linux-kernel, flash-memory

我知道 NAND 有 1 位、4 位和 8 位 ECC。虽然芯片组的技术参考手册只提到了 4 位和 8 位纠错功能，但是否可以在同一芯片组上实现 1 位 ECC？

我想真正了解NAND控制器中是否存在纠错功能，或者是否可以使用软件实现？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T09:28:16.000

猜猜我自己找到了答案.. 只有技术参考手册中提到的 ECC 类型，在这种情况下可以使用 4 位/8 位。这意味着 NAND 控制器内置了 ECC，并且只能使用其寄存器进行配置。如果控制器不支持 1 位 ECC，则无法使用。

# sql - 使用 UNION 优化 JOIN 不起作用

> ID：12972647
> 
> 赞同：1
> 
> 时间：2012-10-19T10:48:09.770
> 
> 标签：sql, sql-server

我有一个查询：

```
SELECT * FROM foo f1
JOIN foo f2 ON f1.ID = f2.ParentID or f1.ID = f2.ChildID
AND f2.CreateTime > 'YYYY-MM-DD 00:00:00.000' 
```

我试图优化它以获得更好的性能，所以我写道：

```
SELECT * FROM foo f1
JOIN foo f2 ON f1.ID = f2.ParentID
AND f2.CreateTime > 'YYYY-MM-DD 00:00:00.000'

UNION

SELECT * FROM foo f1
JOIN foo f2 ON f1.ID = f2.ChildID
AND f2.CreateTime > 'YYYY-MM-DD 00:00:00.000' 
```

但我得到了不同的结果！知道为什么吗？

谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-19T11:12:21.303

你的问题是`WHY are the results different`。

```
SELECT * FROM foo f1
JOIN foo f2 ON f1.ID = f2.ParentID or f1.ID = f2.ChildID
AND f2.CreateTime > 'YYYY-MM-DD 00:00:00.000' 
```

应该写的

```
SELECT * FROM foo f1
JOIN foo f2 ON (f1.ID = f2.ParentID or f1.ID = f2.ChildID)
AND f2.CreateTime > 'YYYY-MM-DD 00:00:00.000' 
```

指出不同。检查**[运算符优先级](http://msdn.microsoft.com/en-us/library/ms190276.aspx)**（即`AND`之前`OR`）

第二个等同于下面。

```
SELECT * FROM foo f1
JOIN foo f2 ON f1.ID = f2.ParentID
AND f2.CreateTime > 'YYYY-MM-DD 00:00:00.000'
UNION
SELECT * FROM foo f1
JOIN foo f2 ON f1.ID = f2.ChildID
AND f2.CreateTime > 'YYYY-MM-DD 00:00:00.000' 
```

第一个相当于

```
SELECT ...
JOIN foo f2 ON f1.ID = f2.ParentID
-- **condition missing
UNION
SELECT ...
JOIN foo f2 ON f1.ID = f2.ChildID AND f2.CreateTime > 'YYYY-MM-DD 00:00:00.000' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:54:25.057

UNION 将加入结果集并删除重复项。尝试联合所有

```
select 1 as ID
UNION 
SELECT 1 as ID 
```

结果 1

```
select 1 as ID
UNION ALL
SELECT 1 as ID 
```

结果 1 和 1

# jquery - 选择子菜单

> ID：12972649
> 
> 赞同：-2
> 
> 时间：2012-10-19T10:48:15.780
> 
> 标签：jquery, menu

我使用[可选](http://css.flepstudio.org/demo/selectable/)的选择列表。

```
<li>item 1</li>
<li>item 2</li> 
<li>item 3  
    <ul>        
        <li>item 3-1</li>       
        <li>item 3-2            
            <ul>                
                <li>item 3-2-1</li>
                <li>item 3-2-2</li>             
            </ul>
        </li>
    </ul> 
</li> 
```

如果我选择`<li>`项目 1,2 或 3 这是真的，但是当我选择子集（例如：项目 3-2-1）时，我选择了主要项目（例如：3 项目）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:08:22.747

您的循环正在进行第一个孩子的水平。我认为您必须对每个级别的子项使用嵌套循环，或者您可以通过单击对每个项使用 $(this).html() 方法，如下所示：

HTML：

```
<li class="item">item 1</li>
<li class="item">item 2</li> 
<li class="item">item 3  
    <ul>        
        <li class="item">item 3-1</li>       
        <li class="item">item 3-2            
            <ul>                
                <li class="item">item 3-2-1</li>
                <li class="item">item 3-2-2</li>             
            </ul>
        </li>
    </ul> 
</li> 
```

JS：

```
$(".item").click(function() 
{
      item = $(this).html();
      checkSelection(item);
});

function checkSelection(item)
{
      alert("You chose " + item);
} 
```

# iphone - 使用 CAEmitterLayer 创建一个粒子圈

> ID：12972658
> 
> 赞同：0
> 
> 时间：2012-10-19T10:48:56.167
> 
> 标签：iphone, objective-c, caemitterlayer

我正在尝试使用 UIKit CAEmitterLayer 在用户触摸屏幕时向用户提供反馈。我想做的是一圈粒子，它会随着时间的推移而增长。

我在想，如果我以相同的速度（没有速度范围）设置粒子，粒子将以相同的速度从中心点移动，因此画一个圆。

但是，看起来速度仍然是随机的，介于 0 和我选择的速度之间。

有没有办法强制速度为精确值？

```
 dragEmitter.emitterPosition = CGPointMake(50, 50);
dragEmitter.emitterSize = CGSizeMake(1, 1);

CAEmitterCell* fire = [CAEmitterCell emitterCell];
fire.birthRate = 10;
fire.lifetime = 0.7;
fire.lifetimeRange = 0;
fire.color = [[UIColor colorWithRed:1.0 green:1.0 blue:1.0 alpha:1.0] CGColor];
fire.contents = (id)[[UIImage imageNamed:@"Particles_fire.png"] CGImage];
[fire setName:@"fire"];

fire.velocity = 50;
fire.velocityRange = 0;
fire.emissionRange = 2*M_PI;
fire.emissionLatitude = 0;
fire.emissionLongitude = 0; 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T12:36:51.713

坦率地说，很难想象 100% 与您想要的粒子系统图片相同，但我认为它接近几个月前所需要的。请为发射器单元尝试以下设置，或尝试根据以下设置尝试使用值：

```
 .
    .
    emitter.emitterPosition = CGPointMake(...);
    emitter.renderMode = kCAEmitterLayerBackToFront;

    CAEmitterCell* star = [CAEmitterCell emitterCell]
    star.emissionLongitude = M_PI*2;
    star.emissionRange = M_PI*2;
    star.lifetime = 2.5;
    star.birthRate = 20;
    star.velocity = 120;
    star.velocityRange = 20;
    star.color = [UIColor colorWithRed:49.0/255.0 green:168.0/255.0 blue:181.0/255.0 alpha:0.6].CGColor;
    star.contents = (id)image.CGImage;
    star.redRange = 0.1;
    star.greenRange = 0.1;
    star.blueRange = 0.1;
    .
    . 
```

# sharepoint - 在 SharePoint 2010 FBA 中获取用户成员资格

> ID：12972660
> 
> 赞同：0
> 
> 时间：2012-10-19T10:49:03.310
> 
> 标签：sharepoint, forms-authentication

*   共享点 2010
*   基于表单的身份验证 (FBA)
*   SqlMembershipProvider

有没有办法通过 SP Web 服务基础设施检索 FBA 的“角色用户”数据？

它在检索 SharePoint 组、权限和角色时效果很好，但是如何让 FBA 用户成为 FBA 角色的成员呢？

'GetRoleCollectionFromUser' 方法对基于声明的 ID 表示“未找到用户”，例如“i:0#.f|fbamembershipprovider|fbaadmin3”。还有其他方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T20:34:50.447

我认为您无法通过 SP Web 服务获得它。您必须直接使用角色提供程序接口来查询角色。在 SharePoint 2010 中使用成员资格和角色提供程序也存在一些问题，因为并非所有功能都已在其“代理”成员资格提供程序中实现。我建议查看 FBA Pack 中的代码以获取有关如何执行此操作的示例。Utils.cs 和 UserEdit.aspx.cs 应该有一些很好的例子给你：

[http://sharepoint2010fba.codeplex.com/SourceControl/changeset/view/458f208d6152#Visigo.Sharepoint.FormsBasedAuthentication%2fVisigo.Sharepoint.FormsBasedAuthentication%2fCode%2fUtils.cs](http://sharepoint2010fba.codeplex.com/SourceControl/changeset/view/458f208d6152#Visigo.Sharepoint.FormsBasedAuthentication%2fVisigo.Sharepoint.FormsBasedAuthentication%2fCode%2fUtils.cs)

[http://sharepoint2010fba.codeplex.com/SourceControl/changeset/view/458f208d6152#Visigo.Sharepoint.FormsBasedAuthentication%2fVisigo.Sharepoint.FormsBasedAuthentication%2fLayouts%2fFBA%2fMANAGEMENT%2fUserEdit.aspx.cs](http://sharepoint2010fba.codeplex.com/SourceControl/changeset/view/458f208d6152#Visigo.Sharepoint.FormsBasedAuthentication%2fVisigo.Sharepoint.FormsBasedAuthentication%2fLayouts%2fFBA%2fMANAGEMENT%2fUserEdit.aspx.cs)

# json - 在 WCF 数据服务上请求应用程序/json 时请求的媒体类型不受支持

> ID：12972665
> 
> 赞同：4
> 
> 时间：2012-10-19T10:49:20.253
> 
> 标签：json, wcf, wcf-data-services

我正在我现有的类上使用反射提供程序（http://msdn.microsoft.com/en-us/library/dd728281.aspx）构建 WCF 数据服务（使用 .net 4.5 VS 2012）。我可以在请求标头中使用“Accept: application/atom+xml”成功访问该服务。但是，在请求标头中将“接受”更改为“应用程序/json”时出现错误“请求的媒体类型不支持”。据了解，WCF数据服务支持JSON，我应该怎么做才能在服务上启用查询json数据？

谢谢

编辑：我在下面粘贴我的代码：首先我定义了 Product 类：

```
[DataServiceKeyAttribute("Id")]
public class Product
{
    public int Id { get; set; }
    public int Price { get; set; }
    public string Name { get; set; }
} 
```

然后我定义了我的 ProductContext 类：

```
public class ProductContext
{
    private List<Product> products = new List<Product>();

    public ProductContext()
    {

        for (int i = 0; i < 100; i++)
        {
            var product = new Product();
            product.Id = i;
            product.Name = "ID - " + i.ToString();
            product.Price = i + 100;
            products.Add(product);
        }
    }

    public IQueryable<Product> Products
    {
        get
        {
            return products.AsQueryable();
        }
    }
} 
```

和我的 ProductService.svc.cs

```
[System.ServiceModel.ServiceBehavior(IncludeExceptionDetailInFaults = true)]
public class ProductsService : DataService<ProductContext>
{
    // This method is called only once to initialize service-wide policies.
    public static void InitializeService(DataServiceConfiguration config)
    {
        // TODO: set rules to indicate which entity sets and service operations are visible, updatable, etc.
        // Examples:
        config.SetEntitySetAccessRule("Products", EntitySetRights.AllRead);
        //config.SetServiceOperationAccessRule("MyServiceOperation", ServiceOperationRights.All);
        config.DataServiceBehavior.MaxProtocolVersion = DataServiceProtocolVersion.V3;
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-20T14:20:34.587

如果您使用的是 WCF 数据服务 5.0，请查看这篇解释 JSON 支持更改的博客文章：http: [//blogs.msdn.com/b/astoriateam/archive/2012/04/11/what-happened -to-application-json-in-wcf-ds-5-0.aspx](http://blogs.msdn.com/b/astoriateam/archive/2012/04/11/what-happened-to-application-json-in-wcf-ds-5-0.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-12T20:36:59.077

tl;dr: 添加一个请求头

最大数据服务版本：2.0

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-06-20T22:51:20.240

如果您使用的是较新版本的 WCF 数据服务，您可能需要使用以下 Accept 标头：`Accept: application/json;odata=verbose,text/plain`

这允许对标量查询（如 ）进行纯文本响应`$count`，并且还指定 JSON 的详细版本。我正在使用 WCF Data Services 5.3，这是我发现的必要条件。我也见过`Accept: application/json;odata=light`，但我个人不需要，因为 odata 的详细版本运行良好。

# android - 构建 Android 电子邮件应用程序

> ID：12972668
> 
> 赞同：1
> 
> 时间：2012-10-19T10:49:41.020
> 
> 标签：android, git, email

我正在考虑检查一些内置的 Android 应用程序，因为它们是开源的，所以我从[https://android.googlesource.com/platform/packages/apps/Email](https://android.googlesource.com/platform/packages/apps/Email)下载 了代码并在 eclipse 中导入了项目。我尝试构建项目，但出现错误。我需要一些先决条件吗？

这是错误 - 在 tempStorage.java 中我得到“字符串无法解析为类型”，并且在控制台中“[2012-10-19 13:47:20 - AndroidMail] 项目没有 project.properties 文件！编辑项目属性设置一个。”

我应该怎么办？谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T11:14:47.417

直接使用 eclipse 构建 ASOP 应用程序是不可能的。他们使用高级功能进行构建，这些功能无法使用 eclipse 构建过程直接处理。此外，这些项目不是独立的，而是具有交叉依赖关系（见下文）

构建电子邮件（和所有其他）ASOP 应用程序的唯一直接解决方案是检查整个 Android 源代码树（有关操作[方法，请参见此处](http://source.android.com/source/downloading.html)），然后使用 make 文件使用构建过程中的构建。您可以在签出源代码树的文件夹中使用“make EMail”来构建电子邮件应用程序。您可能需要先设置构建环境。

从理论上讲，可以将源代码转换为可工作的 eclipse 项目。几个月前我这样做了。您需要做的是识别电子邮件应用程序的所有交叉依赖项（请检查 Makefile `Android.mk`）。如果我没记错的话，至少有两个（[framework/ex/chips](https://android.googlesource.com/platform/frameworks/ex/)和[frameworks/opt/mailcommon](https://android.googlesource.com/platform/frameworks/opt/mailcommon/)）。您还需要检查它们并将它们转换为一个有效的 Android 库项目。然后修改电子邮件应用程序以包含新创建的 Android 库。但是：这远非一个简单的解决方案，需要进行多次修改。上面描述的方法就是要走的路。

# batch-file - 删除名称以命令提示符开头的文件夹（批处理）

> ID：12972670
> 
> 赞同：6
> 
> 时间：2012-10-19T10:49:46.213
> 
> 标签：batch-file, command, command-prompt

我阅读并尝试了一些代码

1.  [在 Windows 中删除大文件夹的最快方法是什么？](https://stackoverflow.com/questions/186737/whats-the-fastest-way-to-delete-a-large-folder-in-windows)( `rmdir /s /q folder`)

2.  [使用 Windows 命令提示符删除文件](https://stackoverflow.com/questions/9170560/delete-files-with-windows-command-prompt)

我想创建一个批处理来删除名称以`Test_`. 我有一个文件夹`D:\Test_123_19_10_2012`。

如何在批处理或命令提示符下编写？需要正则表达式？

谢谢你的耐心。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-19T10:55:19.943

干得好

```
for /d %%a in (D:\Test_*) do rd %%a /q 
```

该`for`循环是必要的，因为它似乎`rd`不支持通配符。

# xaml - 底部应用栏中的本地化按钮

> ID：12972671
> 
> 赞同：1
> 
> 时间：2012-10-19T10:49:54.093
> 
> 标签：xaml, c#-4.0, windows-8, winrt-xaml

如何本地化底部应用栏中的按钮。我想在按钮下方的德语设备“Neu”和英语设备“Add”上写字。

```
<Style x:Key="AddAppBarButtonStyle" TargetType="ButtonBase" BasedOn="{StaticResource AppBarButtonStyle}">
    <Setter Property="AutomationProperties.AutomationId" Value="AddAppBarButton"/>
    <Setter Property="AutomationProperties.Name" Value="Add"/>
    <Setter Property="Content" Value="&#xE109;"/>
</Style> 
```

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T21:27:25.330

因此，如果您使用的是按钮样式，则可以执行以下操作：

```
<Button Style="{StaticResource HomeAppBarButtonStyle}" x:Uid="HomeButton" /> 
```

然后在您的 RESW 中，您将拥有：

```
HomeButton.[using:Windows.UI.Xaml.Automation]AutomationProperties.Name 
```

作为您的关键值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T14:54:52.660

我认为您希望使用`Multilingual App Toolkit`for Visual Studio，它允许您根据用户喜欢的语言更改应用程序中的内容。

您可以点击此链接下载它：http: [//msdn.microsoft.com/en-us/windows/apps/hh848309.aspx](http://msdn.microsoft.com/en-us/windows/apps/hh848309.aspx)

这是一个简短的有用视频，展示了它是如何工作的：[http ://www.youtube.com/watch?v=Uyts-DQbC4w](http://www.youtube.com/watch?v=Uyts-DQbC4w)

问候。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-21T09:40:45.283

这是 Windows 8 的推荐方法：

按钮示例 (C#)

1.  创建资源文件：strings/de-de.resw 在资源文件中，您必须键入：

`desplay.Text` (第一列)
`play the music here`(第二列)
2\. 然后添加这个参数`x:Uid`从资源文件中获取翻译。

更多信息阅读这篇文章： http: [//msdn.microsoft.com/en-us/library/windows/apps/xaml/Hh965323 (v=win.10).aspx](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/Hh965323(v=win.10).aspx)

# javascript - Javascript UTC 时区始终为负数

> ID：12972672
> 
> 赞同：2
> 
> 时间：2012-10-19T10:49:53.980
> 
> 标签：javascript, timezone

我使用此代码以小时为单位获取 UTC 偏移量：

```
new Date().getTimezoneOffset() / 60; 
```

但它总是返回我`-2`，即使你我的时区实际上是`+1`为什么会发生这种情况？

**编辑**如果我将我的计算机时区更改为`UTC +2`它返回`-3`，真的很奇怪..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T16:49:24.620

这是预期的行为。*返回从 UTC 到您的 locale*`Date.getTimezoneOffset()`的偏移量，因此是您期望的数字的负数。

 ***+2**语言环境返回**-3**的原因可能是因为夏令时效果。*

# php - Zend Studio 9.0.2 中的 CodeIgniter 自动完成

> ID：12972679
> 
> 赞同：2
> 
> 时间：2012-10-19T10:50:13.843
> 
> 标签：php, codeigniter, zend-studio

一直试图让 Zend Studio 自动完成 CodeIgniter。尽管没有运气，但偶然发现了[这个 stackoverflow 答案。](https://stackoverflow.com/questions/1080068/how-to-get-zend-studio-autocomplete-with-codeigniter)我已将系统/库添加到 PHP 包含路径，但当我打开控制器并尝试自动完成工作（$this->db）时，什么也没有出现。

我在 google 上搜索了一下，我能找到的唯一答案就是我附上的那个。

如果有人以前尝试过，也许他可以告诉我我错在哪里，在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-31T05:38:58.573

让智能感知工作的一种方法是创建一个虚拟 CI 控制器，例如 -

```
<?php
class CI_Controller {
/**
 *
 * @var CI_DB_active_record
 */
public $db;

/**
 *
 * @var CI_Loader
 */
public $load;

/**
 *
 * @var CI_Output
 */
public $output;

/**
 *
 * @var CI_Email
 */
public $email;

/**
 *
 * @var CI_Session
 */
public $session;

/**
 *
 * @var CI_Config
 */
public $config;

/**
 *
 * @var CI_Benchmark
 */
public $benchmark;

/**
 *
 * @var CI_Calendar
 */
public $calendar;

/**
 *
 * @var CI_Cart
 */
public $cart;

/**
 *
 * @var CI_Encrypt
 */
public $encrypt;

/**
 *
 * @var CI_Upload
 */
public $upload;

/**
 *
 * @var CI_Form_validation
 */
public $form_validation;

/**
 *
 * @var CI_FTP
 */
public $ftp;

/**
 *
 * @var CI_Table
 */
public $table;

/**
 *
 * @var CI_Image_lib
 */
public $image_lib;

/**
 *
 * @var CI_Input
 */
public $input;

/**
 *
 * @var CI_Language
 */
public $lang;

/**
 *
 * @var CI_Pagination
 */
public $pagination;

/**
 *
 * @var CI_Trackback
 */
public $trackback;

/**
 *
 * @var CI_Parser
 */
public $parser;

/**
 *
 * @var CI_Typography
 */
public $typography;

/**
 *
 * @var CI_Unit_test
 */
public $unit;

/**
 *
 * @var CI_URI
 */
public $uri;

/**
 *
 * @var CI_User_agent
 */
public $agent;

/**
 *
 * @var CI_Xmlrpcs
 */
public $xmlrpcs;

/**
 *
 * @var CI_Xmlrpc
 */
public $xmlrpc;

/**
 *
 * @var CI_Zip
 */
public $zip;

    } 
```

创建另一个类以获取它的实例 -

```
<?php
/**
* 
* Enter description here ...
* @return CI_Controller
*/
function get_instance()
{

} 
```

将它们命名为 Dummy_CIController.php 和 Dummy_Factory.php 并将它们放在 /applications/libraries 文件夹中。

由于您还需要模型的智能感知，因此创建 Dummy_CIModel.php，它包含 Dummy_CIController.php 除了扩展 CI_Model 之外的所有内容。

您稍后可能希望通过从控制器中删除 db intellisense 来进行一些清理，因为您不想直接从控制器调用数据库。

# iphone - iphone中的折叠纸视图

> ID：12972685
> 
> 赞同：0
> 
> 时间：2012-10-19T10:50:37.353
> 
> 标签：iphone, ios5

> **可能重复：**
> [iOS 折纸（折纸/手风琴）效果动画，带手动控制](https://stackoverflow.com/questions/11157888/ios-paper-fold-origami-accordion-effect-animation-with-manual-control)

我想在我的应用程序中创建水平和垂直**折叠纸视图**。当我尝试从一个视图切换到另一个视图时，折叠效果应该从视图的**中心**发生。

如果有人熟悉这种效果，欢迎提出建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:03:08.707

有几个预制控件。检查以下链接。然后，您可以使用它们将它们集成到您的项目中:)。希望他们帮助...

[http://www.cocoacontrols.com/platforms/ios/controls/xbpagecurl](http://www.cocoacontrols.com/platforms/ios/controls/xbpagecurl)

[http://www.cocoacontrols.com/platforms/ios/controls/leaves](http://www.cocoacontrols.com/platforms/ios/controls/leaves)

[http://www.cocoacontrols.com/platforms/ios/controls/pagecurl](http://www.cocoacontrols.com/platforms/ios/controls/pagecurl)

[http://www.cocoacontrols.com/platforms/ios/controls/mpflipviewcontroller](http://www.cocoacontrols.com/platforms/ios/controls/mpflipviewcontroller)

# bash - 列出具有给定参数的目录名称

> ID：12972687
> 
> 赞同：2
> 
> 时间：2012-10-19T10:50:49.537
> 
> 标签：bash, shell

我需要列出目录的文件夹和文件的名称，但从`input1`直到`input2`（参数，用户输入）开始。

```
#!/bin/bash
START_INDEX=$1
END_INDEX=$2
     for $STA_INDEX in $(ls) -le $END_INDEX; do
           echo item: $STA_INDEX
     done 
```

我们和我的同事一起想出了这个根本不是解决方案的“解决方案”！那么，任何人都可以尝试向我解释我哪里出了问题，或者给我另一种可行的解决方案。我认为这段代码会给你主要的想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:03:33.653

假设用户应该指定两个名称，并且您想列出在这两个名称之间排序的文件，这个脚本将完成这项工作：

```
#!/bin/bash

case $# in
(2) : OK;;
(*) echo "Usage: $0 from to" >&2; exit 1;;
esac

lo="$1"
hi="$2"
for file in *
do [[ "$file" < "$lo" ]] && continue
   [[ "$file" > "$hi" ]] && break
   echo "$file"
done 
```

检查用户是否提供了两个参数，如果没有，`case`则使用半有用的消息退出。我只是假设`$lo`比较低于`$hi`; 如果没有，可以交换它们：

```
if [[ "$1" < "$2" ]]
then lo="$1"; hi="$2"
else lo="$2"; hi="$1"
fi 
```

使用`*`(glob) 可以避免文件名中出现空格 (etc) 的问题。由于文件名中的空格（等），解析 的输出`ls`很容易出错。测试使用`[[`以便您可以按字典顺序对字符串进行排序；经典的测试运算符使用符号`[`进行整数比较，并且仅支持和字符串比较。`-lt``=``!=`

glob 中的名称按排序顺序排列，因此第一个条件会跳过`$lo`条目之前的名称；一旦`$hi`太小，您就不需要处理其他文件（因此中断）。否则，您打印名称。

循环写得很紧凑；它可以用`if`,`elif`和写得稍微不那么紧凑`else`。

```
for file in *
do
    if [[ "$file" < "$lo" ]]
    then continue
    elif [[ "$file" > "$hi" ]]
    then break
    else echo "$file"
    fi
done 
```

* * *

给定一个目录列表：

```
cmp.sh        human_numbers.pl  intapprox.pl  lg.c    lu    makefile  x
fibonacci.pl  idsdb00216213.ec  lg            lg.out  lu.c  unget.c   x.c 
```

运行`bash cmp.sh garbage rubbish`产生：

```
human_numbers.pl
idsdb00216213.ec
intapprox.pl
lg
lg.c
lg.out
lu
lu.c
makefile 
```

鉴于我对您措辞稍松散的问题的解释，这与我的期望一致。请注意，目录中的文件名`garbage`也不是，但它仍然有效。`rubbish`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:59:53.663

如果您正在谈论的索引是`ls`您想要开始/结束的输出中的索引，那么很容易解决`sed`：

```
ls | sed -ne "${START_INDEX},${STOP_INDEX}p" 
```

这是如何工作的：它抑制自动输出`sed`，然后打印范围内的所有行`<$START_INDEX,$STOP_INDEX>`。您可以在手册中找到更多信息`sed`，搜索范围运算符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:14:36.833

像这样的东西（基本）：

```
#! /bin/bash

for x in $*
do
  ls -l $x
done

$./args.sh dir1 dir2 ... 
```

# php - 如何使用服务器发送事件 HTML 5 创建图片库

> ID：12972690
> 
> 赞同：0
> 
> 时间：2012-10-19T10:50:56.650
> 
> 标签：php, html, canvas, server-sent-events

我想创建一个全屏图像播放列表，它可以从 Web 服务器中的文件夹中旋转图像。

如果我放入新图像，浏览器将自动将新图像置于旋转状态，如果我删除图像，它应该从旋转中删除图像。

我可以使用什么技术或插件来创建这样的东西？

感谢您的关注。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T13:39:19.847

您可能会对以下三种技术感兴趣：

*   长轮询 Ajax 请求：这些都适用于所有最新的浏览器。这个想法是，保持 ajax 请求打开，直到发生变化。小心你正在使用的网络服务器——如果它使用固定数量的威胁，这些可能很快就会耗尽。
*   服务器发送事件：客户端打开一个 http 连接，服务器通过这个连接向客户端发送事件。在框架和浏览器（如 IE10）中没有广泛支持这项技术。
*   WebSockets：这是将事件推送到客户端的最新技术。客户端打开到服务器的 http 连接。之后，协议更改完成，双方甚至可以发送二进制数据。在最新的浏览器中对此有广泛的支持——包括 IE10。您可能仍然会遇到代理服务器问题。

除了这三种技术之外，您还可以每隔几秒或几分钟使用 ajax 请求轮询服务器。如果不需要实时/近时间，这可能就足够了。

# ios - UITableViewCell 宽度

> ID：12972692
> 
> 赞同：1
> 
> 时间：2012-10-19T10:51:06.587
> 
> 标签：ios, uitableview

我在导航控制器中放置了一个表格视图。表格视图的单元格宽度小于原始单元格，背景是图像。如何设置“选定的颜色”？到目前为止，这是我的代码：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    static NSString *CellIdentifier = @"ApplicationCell";

    ApplicationCell *cell = (ApplicationCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil)
    {
        cell = [[CompositeSubviewBasedApplicationCell alloc] initWithStyle:UITableViewCellStyleDefault
                                                            reuseIdentifier:CellIdentifier];

    }
return cell;
}

- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
{
    if (self = [super initWithStyle:style reuseIdentifier:reuseIdentifier])
    {
        cellContentView = [[CompositeSubviewBasedApplicationCellContentView alloc] initWithFrame:CGRectInset(self.contentView.bounds, 0.0, 1.0) cell:self];
        cellContentView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
        cellContentView.contentMode = UIViewContentModeRedraw;

        //here i'm making the cells smaller in width than the rest of the tableView
        CGRect framme = cellContentView.frame;

        framme.size.width = framme.size.width-58;
        //set the left space
        framme.origin.x = framme.origin.x+29;

        [cellContentView setFrame:framme];
        [self.contentView addSubview:cellContentView];
    }
    return self;
} 
```

![这是我未选中的表格视图](../Images/db2cb6d4c7d8e79edda773b8a6093ea1.png)

![选择](../Images/42fbbd369aae392b482ed0a14525c1e2.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:56:20.143

`TableViewCell`s 有 a`backgroundView`和 a `selectedBackgroundView`。使用这些作为背景，只将标签和图像视图放在`contentView`.

```
- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
{
    if (self = [super initWithStyle:style reuseIdentifier:reuseIdentifier])
    {
        UIView* backgroundView = [[UIView alloc] initWithFrame:self.bounds];
        UIView* visibleBackgroundView = [[UIView alloc] initWithFrame:CGRectMake(29.0f, 0.0f, backgroundView.bounds.size.width - 58.0f, backgroundView.bounds.size.height)];
        // configure the visibleBackgroundView with the color you want for unselected cell here
        [backgroundView addSubview:visibleBackgroundView];
        self.backgroundView = backgroundView;

        UIView* selectedBackgroundView = [[UIView alloc] initWithFrame:self.bounds];
        UIView* visibleSelectedBackgroundView = [[UIView alloc] initWithFrame:CGRectMake(29.0f, 0.0f, backgroundView.bounds.size.width - 58.0f, backgroundView.bounds.size.height)];
        // configure the visibleSelectedBackgroundView with the color you want for selection here
        [selectedBackgroundView addSubview:visibleSelectedBackgroundView];
        self.selectedBackgroundView = selectedBackgroundView;

        // configure your content view with all the labels you need here
    }
    return self;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:14:59.797

UITableViewCell 是 UiView 的子类，因此您可以使用其上的所有 UIView 类属性，例如 backgroundColor 等。正如 Madboy 所提到的，它还具有 backgroundView 和 selectedBackgroundView 作为其属性，因此您可以使用这些属性使其成为自定义单元格。

# blackberry - 黑莓按钮不响应字段更改侦听器代码

> ID：12972697
> 
> 赞同：0
> 
> 时间：2012-10-19T10:51:19.630
> 
> 标签：blackberry, popup, field, changelistener

我的应用程序页面下方有一个 2 按钮，在`Image`实现字段更改侦听器的屏幕中我已经在侦听器中实现了此按钮的代码，但按钮仍然没有按预期反应

这是有罪的班级

```
package com.client.grid;

import net.rim.device.api.synchronization.UIDGenerator;
import net.rim.device.api.system.Bitmap;
import net.rim.device.api.system.Display;
import net.rim.device.api.ui.DrawStyle;
import net.rim.device.api.ui.Field;
import net.rim.device.api.ui.FieldChangeListener;
import net.rim.device.api.ui.Graphics;
import net.rim.device.api.ui.Ui;
import net.rim.device.api.ui.UiApplication;
import net.rim.device.api.ui.XYEdges;
import net.rim.device.api.ui.component.BitmapField;
import net.rim.device.api.ui.component.ButtonField;
import net.rim.device.api.ui.component.RichTextField;
import net.rim.device.api.ui.container.HorizontalFieldManager;
import net.rim.device.api.ui.container.MainScreen;
import net.rim.device.api.ui.container.PopupScreen;
import net.rim.device.api.ui.container.VerticalFieldManager;
import net.rim.device.api.ui.decor.Border;
import net.rim.device.api.ui.decor.BorderFactory;

public class MyScreen2 extends MainScreen implements FieldChangeListener {
    // Image height of central image
    private int mImageHeight = 240;
    // Image width of central image.
    private int mImageWidth = 320;

    ButtonField __button1;
    ButtonField __button2;

    public MyScreen2(Bitmap _image) {
        final Bitmap backgroundBitmap = Bitmap
                .getBitmapResource("Artmover-background.jpg");

        HorizontalFieldManager horizontalFieldManager = new HorizontalFieldManager(
                HorizontalFieldManager.USE_ALL_WIDTH
                        | HorizontalFieldManager.USE_ALL_HEIGHT) {

            // Override the paint method to draw the background image.
            public void paint(Graphics graphics) {

                // Draw the background image and then call super.paint
                // to paint the rest of the screen.
                graphics.drawBitmap(0, 0, Display.getWidth(),
                        Display.getHeight(), backgroundBitmap, 0, 0);
                super.paint(graphics);
            }
        };

        HorizontalFieldManager horizontalFieldManagerImage = new HorizontalFieldManager();

        Bitmap __scaledBmp = new Bitmap(mImageWidth, mImageHeight);
        _image.scaleInto(0, 0, _image.getWidth(), _image.getHeight(),
                __scaledBmp, 0, 0, mImageWidth, mImageHeight,
                Bitmap.FILTER_BILINEAR);
        BitmapField __bmpField = new BitmapField(__scaledBmp);
        horizontalFieldManagerImage.add(__bmpField);

        HorizontalFieldManager horizontalFieldManagerButtons = new HorizontalFieldManager();
        __button1 = new ButtonField("Approve");
        // Set margin to the left to displace button screen's left margin.
        __button1.setMargin(0, 0, 0, 20);
        horizontalFieldManagerButtons.add(__button1);

        __button2 = new ButtonField("Not Approve");
        // Set margin to the left to displace button from above button
        __button2.setMargin(0, 0, 0, 20);
        horizontalFieldManagerButtons.add(__button2);

        // Set margin at the top, to displace the central image.
        horizontalFieldManagerImage.setMargin(70, 0, 0, 0);
        // Set top margin to displace buttons from above image
        horizontalFieldManagerButtons.setMargin(30, 0, 0, 0);

        VerticalFieldManager verticalFieldManagerImage = new VerticalFieldManager();
        verticalFieldManagerImage.add(horizontalFieldManagerImage);
        verticalFieldManagerImage.add(horizontalFieldManagerButtons);

        // Set margin at the top to displace contents abit down.
        verticalFieldManagerImage.setMargin(30, 0, 0, 0);

        horizontalFieldManager.add(verticalFieldManagerImage);
        add(horizontalFieldManager);
    }

    class CustomDialog extends PopupScreen implements FieldChangeListener {
        public RichTextField rd;
        ButtonField btnOK, btnCancel;
        String url;

        public CustomDialog() {
            super(new VerticalFieldManager());

            rd = new RichTextField();
            rd.setEditable(true);
            XYEdges thickPadding = new XYEdges(10, 10, 10, 10);
            Border roundedBorder = BorderFactory.createRoundedBorder(
                    thickPadding, Border.STYLE_SOLID);
            rd.setBorder(roundedBorder);

            btnOK = new ButtonField("OK");
            btnOK.setChangeListener(this);

            btnCancel = new ButtonField("Cancel");
            btnCancel.setChangeListener(this);

            add(rd);
            add(btnOK);
            add(btnCancel);
        }

        public void fieldChanged(Field field, int context) {
            if (field == btnOK) {
                System.out.println("ok button has been pressed" + rd.getText());
                UiApplication.getUiApplication().invokeLater(new Runnable() {

                    public void run() {

                        UiApplication.getUiApplication().invokeLater(
                                new Runnable() {
                                    public void run() {
                                        String url = "link/commentput.php?&c="
                                                + rd.getText()
                                                + "&id="
                                                + MyApp.user
                                                + "&u="
                                                + GridImageManager.url;
                                        final String me = NTServices
                                                .javaServerGet(url, 0);
                                        close();
                                        UiApplication.getUiApplication()
                                                .pushScreen(new MyScreen());

                                    }
                                });

                    }

                });

            } else if (field == btnCancel) {
                close();
            }
        }

        public void close() {
            close();
            super.close();
        }

    }

    public void fieldChanged(Field field, int context) {

        if (field == __button1) {
            UiApplication.getApplication().invokeLater(new Runnable() {

                public void run() {

                    String url = "http://link.php?&c=approved&id="
                            + MyApp.user + "&u=" + GridImageManager.url;
                    final String me = NTServices.javaServerGet(url, 0);
                    UiApplication.getUiApplication().pushScreen(new MyScreen());

                }
            });
        } else if (field == __button2) {

            UiApplication.getApplication().invokeLater(new Runnable() {

                public void run() {
                    UiApplication.getUiApplication().pushScreen(new CustomDialog());
                }
            });

        }
    }
} 
```

有人能指出做错了什么吗谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T11:48:54.400

您的代码是正确的，只需使用此代码初始化您的按钮-

```
__button1 = new ButtonField("Approve")
{
   protected boolean navigationClick(int status, int time) 
   {
      fieldChangeNotify(1);
      return true;
   }
};

__button2 = new ButtonField("Not Approve")
{
   protected boolean navigationClick(int status, int time) 
   {
      fieldChangeNotify(1);
      return true;
   }
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T08:59:16.150

您错过了为按钮调用**setChangeListener**：

`__button1.setChangeListener(this);`和`__button2.setChangeListener(this);`

```
 __button1.setMargin(0, 0, 0, 20);
     __button1.setChangeListener(this);
    horizontalFieldManagerButtons.add(__button1); 
```

和

```
 __button2.setMargin(0, 0, 0, 20);
    __button2.setChangeListener(this);
    horizontalFieldManagerButtons.add(__button2); 
```

试试这个，让我知道。

# apache-flex - 闪存虚拟内存改进

> ID：12972701
> 
> 赞同：0
> 
> 时间：2012-10-19T10:51:34.657
> 
> 标签：apache-flex

由于我的 Flex 应用程序必须返回大量数据，我该如何改进闪存虚拟内存。当我从字节数组中读取字节时，它会抛出：

> 内存不足异常

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T13:01:21.053

您可以尝试更改默认虚拟机。

这是你怎么做的：

转到：窗口-> 首选项

![窗口->首选项](../Images/8b0f542a7ac076639c35ebfa64e4c091.png)

找到 Java Installed JREs - 点击它

![安装的JRs](../Images/68c59ad3d597e795b36152306250a3d1.png)

您应该获得已安装 JRE 的列表，选择您正在使用的 JRE，在我的情况下，它是**Adob​​e Flash Builder 4.6**

单击编辑，然后您将获得带有默认 VM 参数的窗口

![编辑 JRE](../Images/c64dad45102822386fb4830797a2aa28.png)

在那里输入： **-Xmx1024m**

或您想为虚拟机提供的任何其他最大内存值，在我的情况下！

# php - 浏览器关闭时如何自动注销用户？

> ID：12972706
> 
> 赞同：0
> 
> 时间：2012-10-19T10:51:59.893
> 
> 标签：php, javascript, ajax

我有一个在线/离线程序，它依赖于用户是否在线。那么当他/她关闭窗口时有什么方法可以注销用户。所以管理员可以了解用户的实际登录信息吗？这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:54:52.873

一旦用户关闭他/她的浏览器，会话应该被自动丢弃。那是除非你有某种“记住我”的功能。

至于知道用户何时注销，没有万无一失的方法可以知道。最好的办法是记录他们的最新活动并将其与当前时间进行比较。所以...如果用户超过 30 分钟不活动，假设他们已注销？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T10:59:10.660

最简单的注销方式。在卸载时制作一个弹出页面，上面写着“再见或smth”。并在弹出加载时注销并丢弃会话。

# gwt - 复制和粘贴 GWT 列表框值

> ID：12972709
> 
> 赞同：0
> 
> 时间：2012-10-19T10:52:05.370
> 
> 标签：gwt

我们有一个 GWT ListBox，目前我们正在应用一些验证以使 ListBox 禁用但问题是我们无法复制其选定的值以粘贴到其他位置。

请你能建议最好的方法来实现这个吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T21:44:35.353

是的，这是仍然缺少的便利方法之一；虽然我不确定是否有原因。

您必须获取选定的索引，然后使用它来获取关联的值。无论 ListBox 是启用还是禁用都可以做到这一点。

这是一行：

```
String mySelectedValue = myListBox.getValue(myListBox.getSelectedIndex()); 
```

这是文档：[https ://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/user/client/ui/ListBox.html](https://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/user/client/ui/ListBox.html)

您可以在任何需要的地方添加它。最简单的是使用实现 HasText 接口的类。

下面是一个使用标签的例子：

```
myLabel.setText(mySelectedValue); 
```

这是文档：[https ://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/user/client/ui/HasText.html](https://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/user/client/ui/HasText.html)

希望有帮助。

# php - 从php下载一个具有不同数组的excel文件

> ID：12972714
> 
> 赞同：0
> 
> 时间：2012-10-19T10:52:20.890
> 
> 标签：php, mysql, arrays, excel

我想将我的 php 脚本中的不同数组写入 excel 文件的不同行。我知道有很多方法可以做到这一点。

我有一个小脚本，它下载一个 excel 文件，但不支持我的数组插入到内容中。如果需要任何更改，请帮助我。

谢谢

```
 $shop['id']=$column['id'];
    $shop['name']=$column['name'];
    $shop['cat1'] = $cat1;
    $shop['cat2'] = $cat2;
    $shop['cat3'] = $cat3;
    $all_shops[$column['id']] = $shop; 

$filename ="cat.xls";
$contents = "$shop['cat2']";
header('Content-type: application/ms-excel');
header('Content-Disposition: attachment; filename='.$filename);
echo $contents; 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-19T10:59:25.860

最简单的方法是在输出中将内容作为 HTML 流式传输。（例如：将扩展名 .html 更改为 .xls，它将在 Excel 中顺利打开）

```
$shop['id']=$column['id'];
$shop['name']=$column['name'];
$shop['cat1'] = $cat1;
$shop['cat2'] = $cat2;
$shop['cat3'] = $cat3;
$all_shops[$column['id']] = $shop; 

$content = "<table>";
foreach($all_shops as $k => $shop){
   $content .= "<tr><td>ID</td><td>{$shop['id']}</td></tr>"; // add other columns
}
$content .= "</table>";

$filename ="cat.xls";
$contents = "$shop['cat2']";
header('Content-type: application/ms-excel');
header('Content-Disposition: attachment; filename='.$filename);
echo $contents; 
```

# php - php错误不显示

> ID：12972715
> 
> 赞同：0
> 
> 时间：2012-10-19T10:52:25.277
> 
> 标签：php, apache2

我是 php 新手；当我的脚本中有一些错误时，浏览器不会显示错误 wirh line nymber，而是显示：

> 服务器错误网站在检索“http://localhost/gmailAPP/google-api-php-client/examples/calendar/simple.php”时遇到错误。它可能因维护而停机或配置不正确。以下是一些建议： 稍后重新加载此网页。HTTP 错误 500（内部服务器错误）：服务器尝试完成请求时遇到了意外情况。

在没有错误消息和行号的情况下调试代码非常困难。请帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:00:51.667

您还可以使用以下命令直接从服务器检查错误日志

```
tail /var/log/apache2/error.log 
```

或者，显示最后 100 行

```
tail -100 /var/log/apache2/error.log 
```

或随着文件的增长输出附加的数据

```
tail -f /var/log/apache2/error.log 
```

**您将需要验证错误日志的路径，也许它可以改变**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:56:42.077

写：

```
 <?php

    /**
     * Whether errors should be displayed
     */
    ini_set('display_errors', true);

    /**
     * Set the error reporting level
     */
    ini_set('error_reporting', E_ALL);  // display errors must be turned on

 ?> 
```

并确保您的 .htaccess 文件没有失败（如果您使用）。

注意：error_reporting(ERROR_LEVEL) 是上面显示的 ini_set() 方法的别名。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T10:57:32.853

```
error_reporting(E_ALL);
ini_set('display_errors','On'); 
```

或在您的 htaccess 文件中

```
php_flag display_errors on 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-19T10:57:43.623

```
 error_reporting(E_ALL);
 ini_set('display_errors', '1'); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-19T10:58:35.383

试试这个，把这行放在你的 PHP 文件的开头并检查，这是运行时配置方法

```
<?php
error_reporting(E_ALL);
?> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-19T10:53:39.053

您需要在配置文件中打开错误

# jquery - 无法将动态内容设置为 iframe（fancybox onComplete）

> ID：12972721
> 
> 赞同：1
> 
> 时间：2012-10-19T10:52:57.507
> 
> 标签：jquery, iframe, fancybox

无法将动态内容设置为在 fancybox 的 onComplete 方法中动态创建的 iframe。静态 iframe 也是如此。如何在运行时将动态内容设置为 iframe？

```
$(document).ready(function() {
    $("a").fancybox({
        'titleShow': false,
        'autoScale': true,
        'hideOnOverlayClick': false,
        'centerOnScroll': true,
        'scrolling': 'no',
        'content': $('div#content').html(),
        'onComplete': function() {
            //method #1
            $('<iframe id="testiframe" src="about:blank" style="border: 0px;"/>').load(function() {
                $('#testiframe').contents().find('body').append('test').width("100%");
            }).appendTo('div#iframe');

            //method #2
            $('<iframe id="testiframe"/>').appendTo('div#iframe').attr("style", "border: 0px;");
            $('#testiframe').contents().find('body').append('test');

            var iframe = document.getElementById('testiframe');
            if (iframe) {
                iframe.width = "100%";
                iframe.height = "";
                iframe.height = iframe.contentWindow.document.body.scrollHeight + "px";
            }

            //method #3
            $('#testiframe3').contents().find('body').append('test').width("100%");
        }
    });
}); 
```

[http://jsfiddle.net/9xszx/](http://jsfiddle.net/9xszx/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:53:01.287

也许我正试图将文本放入 iframe，但为时已晚，无法对其进行任何更改，但我能够让它像这样工作：

```
$(document).ready(function() {
    $("a").fancybox({
        'titleShow': false,
        'autoScale': true,
        'hideOnOverlayClick': false,
        'centerOnScroll': true,
        'scrolling': 'no',
        'content': function() {
            return $('div#content').html() + '<iframe id="iframeTemplate" frameborder="0" vspace="0" hspace="0" src="about:blank"></iframe>';
        },
        'onComplete': function() {
            var iframeElem = document.getElementById('iframeTemplate');
            var iframeDoc = (iframeElem.contentWindow.document || iframeElem.contentDocument); iframeDoc.open();
            iframeDoc.write('<html><head><title></title><b>test</b></body></html>');
            iframeDoc.close();
        }
    });
}); 
```

# url-rewriting - Nginx 子目录重写规则

> ID：12972723
> 
> 赞同：1
> 
> 时间：2012-10-19T10:53:10.157
> 
> 标签：url-rewriting, nginx

我在尝试美化一些网址时面临 Nginx 重写规则问题，例如

```
http://subdomain.mywebsite.com:1234/someuser/temp/min/?g=home&v=049075caf8fc8193892c286889040861a8148de3 
```

在哪里，

```
g = <some js file> and 
v = <version of file> 
```

到类似的东西，

```
http://subdomain.mywebsite.com:1234/someuser/temp/min/049075caf8fc8193892c286889040861a8148de3/home.js 
```

我的虚拟主机文件（/etc/nginx/sites-available 中的 subdomain.mywebsite.com）的条目为，

```
rewrite ^/someuser/temp/min/([^/]*)/home.js$ /someuser/temp/min/?g=home&v=$1 last; 
```

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T04:51:32.767

解决了。

```
rewrite ^/someuser/temp/min/([^/]+)/(.*).js$ /someuser/temp/min/?g=$2&v=$1 last; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T12:02:58.560

您可以添加以下重写规则以获得`/049075caf8fc8193892c286889040861a8148de3/home.js`如同您使用过的一样`/?g=home&v=049075caf8fc8193892c286889040861a8148de3`

```
rewrite ^/someuser/temp/min/(.*)/(.*\.js)$ /someuser/temp/min/?g=$2&v=$1 last; 
```

# vbscript - 三重确认（不需要）

> ID：12972726
> 
> 赞同：0
> 
> 时间：2012-10-19T10:53:23.327
> 
> 标签：vbscript

我已经向 vbs 脚本（由第 3 方提供）添加了一个确认对话框，但我不需要单击“确定”3 次，并且希望确认提示只显示一次......在我的（有限的）知识中我做没办法做到这一点，有人可以纠正这个代码吗？

```
Set fso = CreateObject("Scripting.FileSystemObject")

a = "C:\Path to file 1\File 1.txt"
b = "C:\Path to file 2\File 2.txt"

RenameItem a, a & ".bak"
RenameItem b, a
RenameItem a & ".bak", b

Sub RenameItem(oldname, newname)
  If fso.FileExists(oldname) Or fso.FolderExists(oldname) Then
If fso.FileExists(oldname) Then Set f = fso.GetFile(oldname)
If fso.FolderExists(oldname) Then Set f = fso.GetFolder(oldname)
f.Name = fso.GetFileName(newname)
  End If
Msgbox "Files were toggled successfully" & vbNewLine & vbNewLine & "(click the ""OK"" button to exit)"
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:56:02.560

`RenameItem()`是一个[子（例程）](http://msdn.microsoft.com/en-us/library/tt223ahx%28v=vs.84%29.aspx)，即可以重用的代码单元。每次调用 sub 时，它都会执行其中的所有内容，包括`MsgBox`.

将此行移到子之外：

```
Msgbox "Files were toggled successfully" & vbNewLine & vbNewLine & "(click the ""OK"" button to exit)" 
```

## 完整代码

```
Set fso = CreateObject("Scripting.FileSystemObject")

a = "C:\Path to file 1\File 1.txt"
b = "C:\Path to file 1\File 1.txt"

RenameItem a, a & ".bak"
RenameItem b, a
RenameItem a & ".bak", b

Msgbox "Files were toggled successfully" & vbNewLine & vbNewLine & "(click the ""OK"" button to exit)"

Sub RenameItem(oldname, newname)
    If fso.FileExists(oldname) Or fso.FolderExists(oldname) Then
        If fso.FileExists(oldname) Then Set f = fso.GetFile(oldname)
        If fso.FolderExists(oldname) Then Set f = fso.GetFolder(oldname)
        f.Name = fso.GetFileName(newname)
    End If
End Sub 
```

# class - 在运行时获取方法的名称

> ID：12972727
> 
> 赞同：0
> 
> 时间：2012-10-19T10:53:31.720
> 
> 标签：class, runtime

出于日志目的，我想知道运行时方法的名称。

前任。

```
public void methodA(){
Log.e("INSIDE", "//some code here to get the name of methodA");
} 
```

如果我将在运行时获取方法的名称，它将减少我在不同方法中插入相同日志的重复任务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:55:36.477

我假设这是 Java ......如果是这样，这将返回您当前所在的方法的名称。

```
String methodName = new Exception().getStackTrace()[0].getMethodName() 
```

但是要小心，不要把它放在一个方法中，因为那样会返回那个方法的名字。你也可以使用这个：

```
public String getMethodName() {
    return new Exception().getStackTrace()[1].getMethodName();
} 
```

这将观察堆栈跟踪的第二个元素，返回正确的方法名称。

**更新：**

虽然第一个做了它所需要的，但这更好：至少不涉及创建一个新对象：

```
Thread.currentThread.getStackTrace()[1].getMethodName(); 
```

**警告**我不得不提一下，所有这一切都会对性能产生不利影响......

# android - 如何在android中使图像模糊

> ID：12972733
> 
> 赞同：2
> 
> 时间：2012-10-19T10:53:46.510
> 
> 标签：android, image-processing

嗨，我正在尝试对图像进行一些效果，例如图像边框和各种颜色，现在我正在尝试制作像这样的模糊图像

![在此处输入图像描述](../Images/7729621ef87f94092776fedbad765492.png)

图像的中心部分清晰可见，其他部分模糊

听到的是我参考的链接女巫 [http://www.jhlabs.com/ip/filters/VariableBlurFilter.html](http://www.jhlabs.com/ip/filters/VariableBlurFilter.html)

但它与这张图片不同（java中的这个lib，所以我将BufferdImage转换为位图，但现在我不在乎）任何人都可以帮助我解决这个问题..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-22T15:31:55.567

这么晚才回复很抱歉。这个周末我忘了检查stackoverflow。

无论如何，我认为你应该做的是这样的（它已被简化为灰度，但应该很容易为 RGB 工作）：

```
oim = original image
xc, yc = center point
d = distance from center point for in-focus
fval = zeros, matrix size of oim
max_blur = maximum blur radius
for all pixels (xp,yp) in oim
    dist = sqrt((xp-xc)^2+(yp-yc)^2)
    dist = dist-d // we only care about the area beyond the clear area
    if dist>0
       blur = dist
    end
    if blur>max_blur
       blur = max_blur // this can also be scaled or whatever works for your needs
    end
    blur = round(blur)
    fval(xp,yp) = blur
end
nim = oim
for b=1:max_blur
    blurred = blur_function(oim,b)
    for all pixels (xp,yp) in fval
       if fval(xp,yp) == b
          nim(xp,yp) = blurred(xp,yp)
       end
     end
end 
```

nim 现在是新图像

所以基本上这里发生的事情是我们首先制作一种查找表，告诉我们模糊给定像素的程度。焦点值是每个像素与清晰区域的距离的函数。这是矩阵 fval。然后我们多次模糊图像，每次都使用来自模糊图像的新像素数据更新新图像，并且仅在我们针对该散焦级别进行更新时才更新给定像素。

blur_function 可以是任何东西。当我自己对此进行测试时，我在 MatLab 中使用了平均模糊。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-05T19:34:01.480

从以下链接下载适用于 Android 的 JHLabs 库。这些库将在 Android 上运行。

*   [https://code.google.com/p/android-jhlabs/](https://code.google.com/p/android-jhlabs/)
*   [https://code.google.com/p/android-jhlabs/downloads/list](https://code.google.com/p/android-jhlabs/downloads/list)

# oracle - PIVOT，如何将指定行以外的行转换为列？

> ID：12972743
> 
> 赞同：3
> 
> 时间：2012-10-19T10:54:24.153
> 
> 标签：oracle, select, plsql, oracle11g, pivot

我的表中有`ID`和`NUMBER`列。

ID 可以是 1 到 200，而 NUMBER 可以是 1 到 100000。

以下代码完美运行。

```
SELECT *
FROM PIVOT_DATA
PIVOT (
    SUM(NUMBER)
    FOR (ID)
    IN (1 , 2)
    ); 
```

但是，我想选择 3 列（1、2、Others），如何选择除 1 或 2 之外的所有其他 ID？它应该类似于下面的代码，但是什么？

```
SELECT *
FROM PIVOT_DATA
PIVOT (
    SUM(NUMBER)
    FOR (ID)
    IN (1 , 2, OTHERS)
    ); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T11:09:47.413

使用该`CASE`语句将您的列转换为您想要透视的三个值。

```
CASE ID
WHEN 1 THEN '1'
WHEN 2 THEN '2'
ELSE 'OTHERS'
END 
```

然后以该值而不是 ID 为中心。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-19T12:13:38.733

```
WITH TAB AS (SELECT   CASE ID
                         WHEN 1 THEN '1'
                         WHEN 2 THEN '2'
                         ELSE 'OTHERS'
                      END
                         ID, num
               FROM   PIVOT_DATA)
SELECT   *
  FROM   TAB 
  PIVOT ( SUM (NUM) 
          FOR ( ID ) 
                    IN ( 1 , 2 , 'OTHERS' ) ); 
```

# javascript - 如何使用 ArcGIS JavaScript API 直接绘制点和文本

> ID：12972749
> 
> 赞同：2
> 
> 时间：2012-10-19T10:54:33.120
> 
> 标签：javascript, arcgis, esri, arcgis-js-api

我是 ArcGIS 新手。

我想直接在地图上画一些点和一些文字。

如下所示。但它只是显示地图并且什么都不画。

谁能帮我解决这个问题？

```
<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Draw point and text</title>
<link rel="stylesheet" type="text/css" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.1/js/dojo/dijit/themes/tundra/tundra.css">
<script type="text/javascript" src="http://serverapi.arcgisonline.com/jsapi/arcgis?v=3.1"></script>
<script type="text/javascript">
dojo.require("esri.map");
dojo.require("esri.layers.agsdynamic");
var map;
var layer;
var mapUrl;
var defaultSymbol;
function Init() 
{
    map = new esri.Map("mapDiv");
    mapUrl = "http://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Demographics/ESRI_Population_World/MapServer";
    //mapUrl = "http://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Specialty/ESRI_StatesCitiesRivers_USA/MapServer";
    layer = new esri.layers.ArcGISDynamicMapServiceLayer(mapUrl);
    map.addLayer(layer);        
    defaultSymbol = new esri.symbol.SimpleMarkerSymbol(); // point
    defaultSymbol.setColor(new dojo.Color([255, 0, 0]));

    addPoint(10, 10);
    addText(10, 20, "Text");
}
function addPoint(x, y)
{
    var pt = new esri.geometry.Point(x, y, map.spatialReference);
    var graphic = new esri.Graphic(pt, defaultSymbol);
    map.graphics.add(graphic);
}
function addText(x, y, text) 
{
    var pt = new esri.geometry.Point(x, y, map.spatialReference);

    //Create font
    var font = new esri.symbol.Font();
    font.setSize(18);
    font.setWeight(esri.symbol.Font[WEIGHT_NORMAL]);

    //Create the TextSymbol
    var textSymbol = new esri.symbol.TextSymbol();
    textSymbol.setText(text);
    textSymbol.setColor(new dojo.Color([0, 255, 0]));
    textSymbol.setFont(font);
    textSymbol.setKerning(true);
    var graphic = new esri.Graphic(pt, textSymbol);
    map.graphics.add(graphic);
}

 dojo.addOnLoad(Init);
     </script>  
    </head>
   <body class="tundra">
   <div id="mapDiv" style="width:900px; height:600px; border:1px solid #000;"></div>
   </body>  
   </html> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-15T05:48:45.430

使用 Tiled Map 作为底图，然后添加 Dynamic Map 图层，更改 addPoint 函数： 注意：wkid 依赖于您的地图空间。

```
function addPoint(x, y)
{
   var point = new esri.geometry.Point(x, y, new esri.SpatialReference({ wkid: 102113 }));
   var mp = esri.geometry.geographicToWebMercator(point);
   point = new esri.geometry.Point({ "x": mp.x, "y": mp.y, "spatialReference": { "wkid": 102113} });
   var graphic = new esri.Graphic(point, defaultSymbol);
   map.graphics.add(graphic);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-13T03:00:13.733

您的图形代码没有问题。

我尝试按原样运行您的代码，但 map.graphics 对象为空 - 我无法从 ESRI 加载该示例图层。我更换了你的线路：

`map.addLayer(layer)`

和

`map.addLayer(new esri.layers.OpenStreetMapLayer());`

只是为了收集一些基础数据，我在非洲海岸的某个地方得到了一个红点和一些绿色文本。看起来动态层没有创建图形对象......？

# kinect - Kinect 在 C++ 中获取有关特定关节的颜色数据

> ID：12972755
> 
> 赞同：1
> 
> 时间：2012-10-19T10:54:53.183
> 
> 标签：kinect

我正在尝试获取有关关节（即臀部中心）的颜色数据。但是，我不知道如何将关节的光谱位置映射到颜色框架。我确实相信 C# 也有类似的答案，但在 C++ 方面似乎几乎没有。

我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T12:52:47.213

在 c++ 中，您必须分两步完成，首先使用以下方法获取深度数据：

[NuiTransformSkeletonToDepthImage](http://msdn.microsoft.com/en-us/library/hh855604.aspx)

这将为您提供深度坐标和深度值。然后你可以用它来调用：

[NuiImageGetColorPixelCoordinatesFromDepthPixelAtResolution](http://msdn.microsoft.com/en-us/library/jj663858.aspx)

获取色彩空间坐标。

# asterisk - Digim 卡被检测为以太网控制器

> ID：12972756
> 
> 赞同：1
> 
> 时间：2012-10-19T10:54:55.540
> 
> 标签：asterisk, telephony

我在一台机器上有两张 digium 卡。1是4端口卡。型号是Wildcard TE420，另一种是单端口卡。型号是通配符 TE121。当我执行 lspci 命令时，我的 digium 卡得到以下输出。

```
05:08.0 Ethernet controller: Digium, Inc. Device 8000 (rev 11)
07:08.0 Communication controller: Digium, Inc. Device 1420 (rev 02) 
```

在上面的“通讯控制器”中只有正确的。为什么另一张卡被检测为以太网控制器。

以下是我的 dahdi systems.conf。

```
# Span 1: TE4/0/1 "T4XXP (PCI) Card 0 Span 1" (MASTER)
span=1,1,0,CAS,hdb3
# termtype: te
fxsks=1-15,17-31
dchan=16
echocanceller=mg2,1-15,17-31

# Span 2: TE4/0/2 "T4XXP (PCI) Card 0 Span 2"
span=2,2,0,CAS,hdb3
# termtype: te
fxsks=32-46,48-62
dchan=47
echocanceller=mg2,32-46,48-62

# Span 3: TE4/0/3 "T4XXP (PCI) Card 0 Span 3"
span=3,3,0,CAS,hdb3
# termtype: te
fxsks=63-77,79-93
dchan=78
echocanceller=mg2,63-77,79-93

# Span 4: TE4/0/4 "T4XXP (PCI) Card 0 Span 4"
span=4,4,0,CAS,hdb3
# termtype: te
fxsks=94-108,110-124
dchan=109
echocanceller=mg2,94-108,110-124

# Span 5: WCT1/0 "Wildcard TE121 Card 0"
span=5,5,0,CAS,hdb3
# termtype: te
fxsks=125-139,141-155
dchan=140
echocanceller=mg2,125-139,141-155

# Global data

loadzone        = us
defaultzone     = us 
```

当我开始时，我的 dahdi 4 端口卡只有在工作。单端口卡不工作。是什么原因。上面的配置有没有错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T23:43:21.250

关于该卡是以太网控制器的消息对您来说并不重要。非常低级别的消息在技术上是准确的。这些卡可以处理 T1 和 ISDN 连接。在一些非常特殊的情况下，用户会将 T1 拆分为语音和数据。这在过去的日子里更为常见。这几天不太常见。它也不是一个真正优雅的解决方案，但这是另一回事。您的 Digium 卡可以并且将为您正常工作。根据您从电信公司获得的配置表完成卡的配置，您应该可以关闭并运行。如果没有，请告诉我，我可以帮助您完成剩下的路。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T18:52:12.220

关于以太网的消息并不流行。卡可以作为网络连接。

尝试

> dahdi_genconfig

它将根据您的卡片创建新配置。

检查输出

> dahdi_cfg -vvvv

查看错误

# json - XSS 安全的 JsonResult 作为字符串

> ID：12972758
> 
> 赞同：4
> 
> 时间：2012-10-19T10:55:04.587
> 
> 标签：json, asp.net-mvc-4

我将我的代码更改为不再需要这个答案，但我仍然出于好奇而询问。

经过大量搜索，我发现[了这个问题](https://stackoverflow.com/questions/4571985/jsonresult-to-string)和其他一些人喜欢它。我一直在寻找一种方法来获取将由 JsonResult 返回的 JSON 并在视图中使用它。该答案和其他答案的问题在于它们似乎不安全。我发现的一些来源建议是这样的：

```
@Html.Raw(Json.Encode(Model)) 
```

首先，`Json.Encode`似乎不存在了。其次，如果我使用 Raw，那么不仅 JSON 语法未编码，模型内容也未编码。如果用户`<script>`在他们的信息中输入标签，它将以这种方式吐出并执行。如果我不使用 Raw，JSON 也会被视图编写器转义。

我想要这个的原因是因为我有一个使用一些 jQuery 模板的页面，并且在第一次加载时，我希望通过让视图输出一个触发它们的脚本标记来继续使用这些模板。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-12-09T23:13:33.707

这是一个非常好的观察结果，并非所有 JSON 输出都可以安全地用于 HMTL - 事实上，即使使用 Json.NET（非常棒）的默认配置也可能导致 XSS 漏洞。

无论如何，虽然没有关于此类的*广告*，但在上下文中的构造中使用[`Json.Encode`](https://msdn.microsoft.com/en-us/library/system.web.helpers.json.encode(v=vs.111).aspx)是*安全的。*（结果在使用单引号的属性中也是安全的“原始”，但不是使用双引号或不使用引号的属性。）`@Html.Raw(Json.Encode(obj))``<script>`

这是因为`Json.Encode`将 \u-encoding 应用于JSON 字符串文字中的`<`、`>`、`&`和`'`字符（它还转义了 ASCII 控制字符，因此也可以很好地处理 XML）。例如，

```
Json.Encode(new { hello = "\0\"\b\r\t<>&'" }) 
```

结果是

```
{"hello":"\u0000\"\b\r\t\u003c\u003e\u0026\u0027"} 
```

* * *

由于`Json.Encode`方法仍然存在，因此可能没有正确使用包含程序集 (System.Web.Helpers) 或命名空间。

我知道这个问题已经过时 3 年了〜但由于这个问题是我经过短暂搜索后能找到的最好的问题，我不得不自己寻找答案，因为许多其他来源包含挥手或完全忽略这个问题..所以是的，我想要一个死灵法师徽章。

# javafx-2 - 在 JavaFX 应用程序中显示阿拉伯文本

> ID：12972759
> 
> 赞同：1
> 
> 时间：2012-10-19T10:55:07.460
> 
> 标签：javafx-2, arabic

我有一个使用 Scene Builder 1.0 创建的简单 javafx 应用程序，我已经在 xp 和 win7 中测试了这个应用程序，并且**阿拉伯字符**显示良好，但是当我在另一台机器（xp 和 win7）上测试相同的应用程序时，应用程序无序显示阿拉伯语（从左到右）！我怎样才能解决这个问题 ？

JavaFX 2.1 - Netbeans 7.2 - JDK 1.7

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T15:18:12.600

不幸的是，只有 fx 3.0（明年推出）才支持 Bi-Di 测试（例如阿拉伯语），请参阅[http://javafx-jira.kenai.com/browse/RT-17411](http://javafx-jira.kenai.com/browse/RT-17411)

虽然一旦 3.0 的开发人员版本可用，您就可以尝试它，但我希望它很快就会发生。

# android - 通过 android 中的帐户管理器检索在移动设备中配置的 facebook 帐户的身份验证令牌

> ID：12972760
> 
> 赞同：0
> 
> 时间：2012-10-19T10:55:15.900
> 
> 标签：android, facebook, oauth-2.0, accountmanager

我正在尝试通过 android 中的帐户管理器获取设备中配置的 facebook 帐户的身份验证令牌

```
accountManager.getAuthToken(account,"user_activities",null,Hellol10n.this, new   GetAuthTokenCallback(), null);// account is of type "com.facebook.auth.login" 
```

但我没有得到任何结果。回调根本没有被调用。

facebook 是否支持这种获取身份验证令牌的方式。Facebook 确实使用 oauth2。所以看看

> 本课演示连接到支持 OAuth2 的 Google 服务器。虽然以 Google 服务为例，但所展示的技术适用于任何正确支持 OAuth2 协议的服务。”

[http://developer.android.com/training/id-auth/authenticate.html](http://developer.android.com/training/id-auth/authenticate.html)

另外，我正在尝试这个，因为我不希望用户输入他已经在设备中配置的帐户的凭据，以简化用户体验。

更新：

即使未安装 facebook 应用程序，客户经理也有一个类型为“com.sec.android.app.snsaccountfacebook.account_type”的 fb 帐户。是否无法获取此帐户的身份验证。帐户管理器中的帐户类型“com.sec.android.app.snsaccountfacebook.account_type”和“com.facebook.auth.login”有什么区别

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T18:05:03.037

我建议改用[适用于 Android 的 Facebook SDK](https://developers.facebook.com/android/)。如果用户有 Facebook 应用，则 SSO 只需切换到应用进行身份验证和授权，无需重新输入用户名/密码。如果用户没有 Facebook 应用程序，那么 accountManager.getAuthToken 机制无论如何都不会工作，因为 Android 不会有帐户信息。

# c# - 文本框自动完成（多行）

> ID：12972761
> 
> 赞同：11
> 
> 时间：2012-10-19T10:55:16.290
> 
> 标签：c#, winforms, autocomplete

我在 C# 中制作一个自动建议/完整文本框，我点击下面的链接，但文本框没有显示建议

[如何在 Windows 窗体中创建自动提示文本框？](https://stackoverflow.com/questions/5648476/how-to-create-autosuggest-textbox-in-windows-forms)

```
//-------- Get all distinct description -----------------------------
OleDbCommand command = new OleDbCommand(Queries.qry16, Connection);
OleDbDataReader reader = command.ExecuteReader();

//--------- Storing ------------------------------------
while (reader.Read())
{
    namesCollection.Add(reader.GetValue(0).ToString());
}

//----------- Close after use ---------------------------------------
reader.Close();

//----------- Set the auto suggestion in description box ------------
descriptionBox.AutoCompleteMode = AutoCompleteMode.Suggest;
descriptionBox.AutoCompleteSource = AutoCompleteSource.CustomSource;
descriptionBox.AutoCompleteCustomSource = namesCollection; 
```

这是我的代码，它在winform的加载功能中。并且 nameCollection 初始化在构造函数中......请帮助使其正常工作。

我正在编辑我的帖子而不是创建新的...我已经在单行文本框中尝试了我自己的代码并且它有效。现在我想在多行中使用相同的内容...对于研究，我在 Google 上搜索了 2 天以上，尝试了不同的代码（一个具有智能意义的代码），但它没有作为文本框中提供的自动建议。谁能给我建议将整个过程编码为多行..谢谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-06T12:54:13.733

[AutoCompleteSource 不适用于多行 TextBox 控件。](http://msdn.microsoft.com/en-us/library/system.windows.forms.textbox.autocompletesource.aspx)

这意味着你需要从头开始：

我会制作一个 ListBox 来显示自动完成的内容：

```
var listBox = new ListBox();
Controls.Add(listBox); 
```

你需要在你的文本框上进行事件处理，但这有点粗糙，所以我会重写它以在某个时候停止 keyupevent：

```
private void textBox_KeyUp(object sender, KeyEventArgs e)
{
    var x = textBox.Left;
    var y = textBox.Top + textBox.Height;
    var width = textBox.Width + 20;
    const int height = 40;

    listBox.SetBounds(x, y, width, height );
    listBox.KeyDown += listBox_SelectedIndexChanged;

    List<string> localList = list.Where(z => z.StartsWith(textBox.Text)).ToList();
    if(localList.Any() && !string.IsNullOrEmpty(textBox.Text))
    {
        listBox.DataSource = localList;
        listBox.Show();
        listBox.Focus();

    }
} 
```

现在您只需要一个处理程序来设置文本框中的文本：

```
 void listBox_SelectedIndexChanged(object sender, KeyEventArgs e)
    {
        if(e.KeyValue == (decimal) Keys.Enter)
        {
            textBox2.Text = ((ListBox)sender).SelectedItem.ToString();
            listBox.Hide();                
        }
    } 
```

在适当的地方进行空检查

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-05T10:44:39.023

您需要通过“添加新项目”添加一个新组件类。然后为该类编写代码，然后在需要的地方添加该组件..

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T11:28:17.317

试试这个代码，因为它适用于我的情况：

```
 AutoCompleteStringCollection MyCollection = new AutoCompleteStringCollection();
                while (reader.Read())
                {
                    namesCollection.Add(reader.GetString(0));
                }
                reader.Close();
    descriptionBox.AutoCompleteMode = AutoCompleteMode.Suggest;
descriptionBox.AutoCompleteSource = AutoCompleteSource.CustomSource;    
                descriptionBox.AutoCompleteCustomSource = namesCollection;
                con.Close(); 
```

请检查读者是否获得所需的记录..:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-10T14:55:01.777

“自动建议”有点混乱，因为这基本上是自动完成的，没有用户“完成”文本的许可。不过，这里有几个链接可能会对您有所帮助：

[http://docs.jquery.com/UI/Autocomplete](http://docs.jquery.com/UI/Autocomplete)

[文本区域上的自动完成功能](https://stackoverflow.com/questions/2518442/autocomplete-functionality-on-a-textarea)

[多行文本框的自动完成扩展器](http://forums.asp.net/t/1577849.aspx/1)

向下滚动链接 #2，用户建议使用 jquery 解决方案并与链接 #1 进行比较。您可能会找到解决方案。

第三个链接来自asp论坛，与您类似的问题也由链接回答。你可能想检查一下。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-10-12T10:34:27.203

这可以帮助您解决问题；您可以更改表名。您可以更改查询以加载列表框。

```
 ListBox lbox;
    private void IletisimBilgileriDoldur()
    {
        try
        {
            string strQuery= "Select adres From tblIletisimBilgileri Where adres <> '';";
            veri = new OleDbCommand(strQuery,strConn);
            veri.CommandType = CommandType.Text;
            if (strConn.State == ConnectionState.Closed) strConn.Open();
            oku = veri.ExecuteReader();
            DataTable dt = new DataTable();
            dt.Load(oku);
            oku.Close();
            txtAdres.AutoCompleteCustomSource.Clear();
            if (dt.Rows.Count >= 0)
            {
                lbox = new ListBox();
                for (int count = 0; count < dt.Rows.Count; count++)
                {
                    lbox.Items.Add(dt.Rows[count]["adres"].ToString());
                }
            }
            txtAdres.AutoCompleteMode = AutoCompleteMode.SuggestAppend;
            txtAdres.AutoCompleteSource = AutoCompleteSource.CustomSource;
            if (strConn.State == ConnectionState.Open) strConn.Close();
        }
        catch (Exception)
        {
            if (strConn.State == ConnectionState.Open) strConn.Close();
        }
    }

    private void txtAdres_PreviewKeyDown(object sender, PreviewKeyDownEventArgs e)
    {
        var x = txtAdres.Left;
        var y = txtAdres.Top + txtAdres.Height;
        var width = txtAdres.Width;
        const int height = 120;

        lbox.SetBounds(x, y, width, height);
        lbox.KeyDown += lbox_SelectedIndexChanged;
        lbox.DoubleClick += lbox_DoubleClick;
        gbxAdres.Controls.Add(lbox);
        lbox.BringToFront();
        lbox.Show();
        ActiveControl = txtAdres;
    }

    void lbox_DoubleClick(object sender, EventArgs e)
    {
        txtAdres.Text = ((ListBox)sender).SelectedItem.ToString();
        lbox.Hide();
    } 
```

# java - 加号在字符串中的作用是什么？

> ID：12972762
> 
> 赞同：3
> 
> 时间：2012-10-19T10:55:18.210
> 
> 标签：java, string

我想知道，这两个语句有什么区别，这些可能很简单

```
 String ss="myname";
      char[] charArray = ss.toCharArray();
      for ( char character : charArray )
         {
            System.out.println( +character );//Statements are here what does plus refers here:

            System.out.println( character ); //Statements are here:

     } 
```

我得到代码的输出没有错误，但对它的工作原理毫无疑问？这里会发生什么？

如果你投反对票，请告诉我原因。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-19T10:57:47.143

您必须记住，`char`它仍然是数字类型。

这里`+`是一元加号，它……什么都没有。`+x`具有与 相同的值`x`。

**然而** `+x`，在你的情况下是一段`int`时间。所以它在这种情况下的效果是调用它而不是有效地打印你的数值而不是它所代表的字符。`x``char``println(int)``println(char)``char`

之所以`+x`是 an的原因`int`是[一元运算符 +](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.15.3)执行所谓的[一元数值提升](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.6.1)，它将数值“规范化”为 , 和 类型，`int`并酌情进行。`long``float``double`

该行的更易于理解的版本是

```
System.out.println((int) character); 
```

它的存在*主要是*因为语言关于一元减号 ( `-x`) 是对称的，它返回其操作数的否定值。

有关详细信息，请参阅[此页面](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html)（在“一元运算符”下）。

# android - cocos2dx Android：.txt 地图文件未 复制到 /data/data/com.cocos2dx.application/ 文件夹中

> ID：12972764
> 
> 赞同：0
> 
> 时间：2012-10-19T10:55:20.767
> 
> 标签：android, cocos2d-x

接下来的问题是：我在 iOs/win32 cocos2dx 项目的 Resources 文件夹中有一些 .txt 文件（那里一切正常）。我正在尝试将此移植到 Android 并且一切正常，除了在构建项目时我找不到我的 .txt 地图文件的一件事。显示资产文件夹中的所有图片我使用这样的代码

```
std::stringstream ss;
ss << "tutorialMap" << i << ".txt";
std::string fileName = ss.str();
const char *fullPath = CCFileUtils::sharedFileUtils()->fullPathFromRelativePath(fileName.c_str());

#if (CC_TARGET_PLATFORM == CC_PLATFORM_ANDROID) 
  std::stringstream strStream;
  strStream<<"/data/data/com.cocos2dx.application/"<<fileName; 
  std::string fName = strStream.str();
  fullPath = fName.c_str();
  CCLog("File name is:%s",fullPath);
#endif

std::ifstream t(fullPath);
std::string str((std::istreambuf_iterator<char>(t)),std::istreambuf_iterator<char>());
CCLog("file content: %s",str.c_str()); 
```

当 iOS/win32 构建工作时，最后一行确实显示了文件内容，但在 android 中它是空的。看起来文件不存在。请帮忙！！！！

PS 同样是一周前（当项目还没有准备好时）我试图做同样的事情，一切都很好。你能给我一些链接或其他我可以找到它的原因的东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T00:50:05.243

Android 将文件夹[资产压缩在 .apk 文件中](http://developer.android.com/tools/projects/index.html)，因此您必须以其他方式去那里，例如：

```
unsigned char * bufferSize = 0;
unsigned char * charbuffer = CCFileUtils::sharedFileUtils()->getFileData(genrefile, "file", &bufferSize ); 
```

> 资产/这是空的。您可以使用它来存储原始资产文件。您在此处保存的文件将按原样编译为 .apk 文件，并保留原始文件名。您可以像使用 URI 的典型文件系统一样导航此目录，并使用 AssetManager 将文件作为字节流读取。例如，这是放置纹理和游戏数据的好位置。

查看[文档](http://www.cocos2d-x.org/reference/native-cpp/d0/ddc/classcocos2d_1_1_c_c_file_utils.html)

关于[资产](https://stackoverflow.com/questions/5030448/android-how-to-find-the-absolute-path-of-the-assets-folder)

# c# - 是否有可能知道哪个 .NET 代码创建了临时文件？

> ID：12972770
> 
> 赞同：3
> 
> 时间：2012-10-19T10:55:46.837
> 
> 标签：c#, .net, file, temporary-files

我正在查看一个 Windows Azure Web 角色 VM，我看到运行角色有效负载的进程的临时文件夹包含几十个很久以前创建的零长度临时文件。这对我来说是一个潜在的问题，因为如果文件被创建并以不受控制的方式遗留下来，角色就会在某个时候被丢弃。

我完全控制了有效负载代码，并且很有可能这些临时文件是由运行有效负载的同一进程创建的。

是否可以拦截在与创建文件的进程相同的进程中运行的 C# 代码创建的临时文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T12:35:16.373

为什么不使用调试器（远程/其他方式）和实时转储来获取此信息？

你可以随时尝试

*   在创建临时文件时使用 FileSystemWatcher 引发异常。使用调试器（VS 中的 Ctl+Alt+E 用于异常对话框）捕获第一次机会异常。然后您可以检查堆栈中的其他线程
*   使用系统审计策略（这只会告诉你是哪个用户和可能（？）进程创建了一个文件。（另请参见[http://www.techrepublic.com/article/step-by-step-how-to-audit-文件和文件夹访问以改进windows-2000-pro-security/5034308](http://www.techrepublic.com/article/step-by-step-how-to-audit-file-and-folder-access-to-improve-windows-2000-pro-security/5034308)）

![在此处输入图像描述](../Images/0aa2377cf340d8971c7a93d050221ada.png)

*   通过使用额外信息标记您自己的文件创建来消除（例如，将它们的名称写入日志文件，`.tag`为每个写入的文件创建文件等）

# python - python无法识别新创建的文件

> ID：12972775
> 
> 赞同：1
> 
> 时间：2012-10-19T10:56:21.233
> 
> 标签：python

我有一个 python 脚本，它将创建一个文本文件，然后将在这个新创建的文件上运行一个命令。

问题是命令行无法识别新创建的文件，并且我收到文件为空的错误消息。

我的代码是这样的：

`randomval`是一个函数，它将创建随机字符并将它们作为字符串返回。

```
text_file = open("test.txt", "w")
text_file.write(randomval(20,10))

# do something with the `test.txt` file 
```

但我收到文件 test.txt 为空的错误。

有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T11:15:58.503

发生这种情况是因为除非您刷新或关闭文件，否则操作系统不会将任何数据写入磁盘。要确保文件已关闭，请使用以下`with`语句：

```
with open("test.txt", "w") as f:
    f.write(randomval(20,10))

print('Whoa, at this point the file descriptor is automatically closed!') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T11:01:22.540

不要忘记关闭文件：

```
br@ymir:~$ python
Python 2.6.5 (r265:79063, Oct  1 2012, 22:04:36) 
[GCC 4.4.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> file=open('foo.bar','w')
>>> file.write('42\n')
>>>  
[2]+  Stopped                 python
br@ymir:~$ cat foo.bar
br@ymir:~$ fg
python

>>> file.close()
>>> 
[2]+  Stopped                 python
br@ymir:~$ cat foo.bar
42
br@ymir:~$ 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-19T11:02:59.207

您至少应该在尝试对新文件 ( `text_file.flush()`) 执行某些操作之前刷新缓冲区。最好的办法是关闭文件并在需要时重新打开它。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-19T11:19:23.930

做 a`f.close()`然后再次打开它 text_file = open("test.txt", "r")

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-19T11:11:17.500

文件的流仍然打开！！！！试试看嘛：`text_file.close()`

# ruby - 用于 php 注释块的 ruby 正则表达式

> ID：12972776
> 
> 赞同：0
> 
> 时间：2012-10-19T10:56:29.267
> 
> 标签：ruby, regex

我一直在尝试在 ruby​​ 中找到正则表达式以匹配 php 注释块：

```
/**
 * @file
 * lorum ipsum
 * 
 * @author  ME <me@localhost>
 * @version 00:00 00-00-0000
 */ 
```

任何人都可以帮助我尝试搜索很多，即使我发现的一些正则表达式已经在正则表达式测试器中工作，但是当我将它写在我的 ruby​​ 文件中时却没有。

这是我发现的最成功的正则表达式：

```
 (/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+/) 
```

这是我的脚本的输出

```
file is ./test/123.rb so regex is ((^\s*#\s)+(.*?))+
i = 0
found: my first ruby comment
file is ./test/abc.php so regex is (/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+/)
i = 0
found: * 
i = 1
found: * 
```

这是我必须这样做的代码：

```
 56   def self.extract_comments f
 57     if @regex[File.extname(f)]
 58       puts "file is " + f + " so regex is " + @regex[File.extname(f)]
 59       cur_rgx = Regexp.new @regex[File.extname(f)]
 60       matches = IO.read( f ).scan( cur_rgx )
 61       content = ""
 62       if ! matches.empty?
 63         # content = "== " + f + " ==\n"
 64         content += f + "\n"
 65         for i in 0...f.length
 66           content += "="
 67         end
 68         content += "\n"
 69         for i in 0...matches.length
 70           puts "i = " + i.to_s
 71           puts "found: " + matches[i][2].to_s
 72           content << matches[i][2].to_s + "\n"
 73         end
 74         content << "\n"
 75       end
 76     end
 77     content || '' # return something
 78   end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T12:17:58.913

似乎`/\/\*.*?\*\//m`应该这样做。这也是一个真正的 c 风格的注释块。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:14:18.973

除非注释块中的每一行都以星号开头很重要，否则您可能需要尝试以下正则表达式：

```
/\/\*(?:[^*]+|\*+(?!\/))*\*\// 
```

**编辑：**这是一个更严格的版本，它只会匹配格式与您的示例完全相同的评论：

```
/^( *)\/\*\*\n(?:\1 \*(?:[^*\n]|\*(?!\/))*\n)+\1 \*\// 
```

此版本将仅匹配具有`/**`和`*/`位于不同行的注释。`/**`可以缩进任意数量的*空格*（但不能缩进其他空白字符），但其他行必须缩进比该`/**`行多一个空格。

**编辑2：**这是另一个版本：

```
/^([ \t]*)\/\*\*.*?\n(?:^\1 .*?\n)+^\1 \*\// 
```

它允许混合使用制表符和空格（ew）进行缩进，但仍然要求所有行都符合一个缩进`/**`（加上一个空格）。

# google-fusion-tables - 融合表数字 ID

> ID：12972778
> 
> 赞同：3
> 
> 时间：2012-10-19T10:56:37.023
> 
> 标签：google-fusion-tables

我正在使用 Fusion Table 进行多重查询。直到昨天我使用 numericID 但今天创建了一个新表，FT 在 about 菜单中没有显示数字 ID。我试图用 Ecrypted 更改 NUMeric ID，但它不起作用。这是页面：

[http://siti-torino.hostei.com/test/test_09_02.html](http://siti-torino.hostei.com/test/test_09_02.html) ( `numeric ID`) [http://siti-torino.hostei.com/test/test_09_03.html](http://siti-torino.hostei.com/test/test_09_03.html) ( `Encrypted ID`)

很清楚查询工作正常（计数器显示正确的结果），但脚本无法更新地图。所以我想问题出在第 94-95 行

```
searchTracks = new google.maps.FusionTablesLayer(fusionTableId, { query: searchStr}); 
```

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T14:04:25.770

您使用的是“旧语法”，它不适用于加密的 id。

```
new google.maps.FusionTablesLayer(fusionTableId, { query: searchStr}); 
```

使用[记录的语法](https://developers.google.com/maps/documentation/javascript/reference#FusionTablesLayer)

```
 new google.maps.FusionTablesLayer({ query: {[FusionTablesQuery object](https://developers.google.com/maps/documentation/javascript/reference#FusionTablesQuery)}}); 
```

[您的页面示例](http://www.geocodezip.com/siti-torino_hostel_com_test_09_02a.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T12:22:03.203

嘿伙计们，我正试图在同事离开后捡起这件作品。我不是程序员。我们相信该站点可能无法将新的 Ids 识别为与旧数值相比的字符串

//设置经纬度

```
 var latlng = new google.maps.LatLng(lati, long);
     var myOptions = {
              zoom: zoomLevel,
              center: latlng,
              mapTypeId: google.maps.MapTypeId.ROADMAP
          };

        map.setOptions(myOptions);
        layer = new google.maps.FusionTablesLayer "1QzYXB7nkb7drbz66HMmq3_d7Dut_Gulx2aZEC2Q"; 
        layer.setMap(map);

        if(addressMarker)
            addressMarker.setMap(null);                     
        addressMarker = new google.maps.Marker({
                map: map, 
                position: latlng
        });         

        infowindow.open(map,addressMarker);
        google.maps.event.addListener(addressMarker, 'click', function() 
        {
            infowindow.open(map,addressMarker);
        });             
      }
} 
```

# javascript - XML 在第二次尝试时未正确解析

> ID：12972782
> 
> 赞同：0
> 
> 时间：2012-10-19T10:56:42.407
> 
> 标签：javascript, android, xml-parsing, titanium, appcelerator

我正在 Appcelerator Titanium 中开发一个应用程序。我面临的问题是，当我第一次在单击按钮时解析特定的 XML 时，它工作正常，但是如果我重新单击按钮，则应该再次解析 XML，这不会发生。在日志中，我可以在重新形成的 XML 中看到更新的值，但是当我尝试解析它时，解析器中使用的变量会保留它们的值。他们没有得到更新。更新解析器的变量值要做什么？

解析代码：

```
if(xml.getElementsByTagName("d:user_id").length>0)
{
         Ti.App.information.user_id = xml.getElementsByTagName("d:user_id").item(0).text;
         Ti.App.information.organization_id=xml.getElementsByTagName("d:organization_id").item(0).text;
         Ti.App.information.uname=xml.getElementsByTagName("d:name").item(0).text;
         Ti.App.information.Lpassword=xml.getElementsByTagName("d:password").item(0).text;
         Ti.App.information.Lemail_id=xml.getElementsByTagName("d:email_id").item(0).text;
         Ti.App.information.is_valid=xml.getElementsByTagName("d:is_valid").item(0).text;
} 
```

这是我使用**Ti.App.information.is_valid**变量的函数：

```
function checkCredential()
{
    if(Ti.Utils.md5HexDigest(txtPasswordLogin.value)==Ti.App.information.Lpassword && txtEmailLogin.value == Ti.App.information.Lemail_id)
    {
        activityIndicator.hide();
        //alert("welcome");
        //Login.close();
        if(Ti.App.information.is_valid == 'true')
        {
            //Ti.API.info("..........Login Success........Getting Approved Forms..........");
            Ti.App.information.is_valid='';
             //alert(Ti.App.is_valid);

            // Titanium.include('Login.js');
             // Login.open();
             Ti.App.information.is_valid = '';
            Titanium.include('Home.js');
            Home.open();

        }
        else
        {
            // var a = Titanium.UI.createAlertdialogScreen({title:'Access Denied!'});
            Ti.App.information.is_valid='';
             //alert(Ti.App.is_valid);
            myAlert.title = 'Access Denied!';
            myAlert.setMessage('You are not authorized. Please contact Administrator.');
            myAlert.addEventListener('click', function(e){
                // Titanium.include('Login.js');
            // Login.open();
              Login.close();
      });

        myAlert.show();     
    }       
}
else
{ 
    Ti.App.information.is_valid='';
     //alert(Ti.App.is_valid);
    activityIndicator.hide();
    myAlert.title = 'Invalid Login!';
    myAlert.setMessage('The email address or password you entered is incorrect.');

    myAlert.show();
    // Titanium.include('Login.js');
    // Login.open();
    // alert("Please enter a correct password.");   
}

} 
```

变量在**app.js**文件中声明：

```
Ti.App.information={base_url:'',uid:'',password:'',EmailId:'',pass:'',user_id:'',organization_id:'',uname:'',Lpassword:'',Lemail_id:'',is_valid:''};
Ti.App.authentication=false;
Ti.App.formid;
Ti.App.guid;
Ti.App.mydata={_guid:'',status:true,networkStatus:true};
Ti.App.formurl={burl:''};
Ti.App.glocation={longitude:'',latitude:'',gloc:''};
Ti.App.gloc; 
```

这是要解析的示例 XML 文件：

```
<feed xml:base="http://webdevhost.servehttp.com/iPhoneDataEntryService/iPhoneDataEntryDataService.svc/" xmlns:d="http://schemas.microsoft.com/ado/2007/08/dataservices" xmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" xmlns="http://www.w3.org/2005/Atom">
   <title type="text">users</title>
   <id>http://webdevhost.servehttp.com/iPhoneDataEntryService/iPhoneDataEntryDataService.svc/users</id>
   <updated>2012-10-26T04:05:48Z</updated>
   <link rel="self" title="users" href="users" />
   <entry>
     <id>http://webdevhost.servehttp.com/iPhoneDataEntryService/iPhoneDataEntryDataService.svc/users(34L)</id>
     <title type="text"></title>
     <updated>2012-10-26T04:05:48Z</updated>
     <author>
       <name />
     </author>
     <link rel="edit" title="user" href="users(34L)" />
     <link rel="http://schemas.microsoft.com/ado/2007/08/dataservices/related/user_type" type="application/atom+xml;type=entry" title="user_type" href="users(34L)/user_type" />
     <link rel="http://schemas.microsoft.com/ado/2007/08/dataservices/related/organization" type="application/atom+xml;type=entry" title="organization" href="users(34L)/organization" />
     <link rel="http://schemas.microsoft.com/ado/2007/08/dataservices/related/form_data" type="application/atom+xml;type=feed" title="form_data" href="users(34L)/form_data" />
     <category term="iPhoneDataEntryModel.user" scheme="http://schemas.microsoft.com/ado/2007/08/dataservices/scheme" />
     <content type="application/xml">
       <m:properties>
         <d:user_id m:type="Edm.Int64">34</d:user_id>
         <d:organization_id m:type="Edm.Int64">1</d:organization_id>
         <d:name>test</d:name>
         <d:password>16690502e26791e97c6c4743d2d4cb9a</d:password>
         <d:email_id>ad@ad.com</d:email_id>
         <d:user_type_id m:type="Edm.Int32">3</d:user_type_id>
         <d:is_valid m:type="Edm.Boolean">true</d:is_valid>
         <d:registration_date m:type="Edm.DateTime">2012-10-18T10:33:13</d:registration_date>
       </m:properties>
     </content>
   </entry>
 </feed> 
```

**d:is_valid**是我必须在单击按钮时每隔一段时间解析的标签。

问题是，即使在重新调用解析器之后，该变量仍保留其值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T20:06:27.843

好的改变对象值，这样做。我删除了一些没有被使用的对象，所以如果你想重新添加它们，请记住这一点。我会将此代码复制到一个新项目中，以便对其进行测试并使用它。

```
Ti.App.information = {
    user_id:'existing username val',
    organization_id:'existing org val',
    uname:'existing uname val',
    Lpassword:'existing Lpassword val',
    Lemail_id:'existing Lemail_id val',
    is_valid:'existing is_valid val'
};

function parseXML(xml)
{
    if (xml.getElementsByTagName("d:user_id").length > 0)
    {
        for (key in Ti.App.information)
        {
            //outputs the key => value pairs for some existing data
            Ti.API.info(key + ': ' + Ti.App.information[key]); 
        }
        Ti.API.warn('------------------------');
        Ti.App.information = {
            user_id:            xml.getElementsByTagName("d:user_id").item(0).text,
            organization_id:    xml.getElementsByTagName("d:organization_id").item(0).text,
            uname:              xml.getElementsByTagName("d:name").item(0).text,
            Lpassword:          xml.getElementsByTagName("d:password").item(0).text,
            Lemail_id:          xml.getElementsByTagName("d:email_id").item(0).text,
            is_valid:           xml.getElementsByTagName("d:is_valid").item(0).text
        }

        for (key in Ti.App.information)
        {
            //outputs the key => value pairs for the new data you set above
            Ti.API.info(key + ': ' + Ti.App.information[key]); 
        }
    }
}

function loadXML()
{
    var xhr = Ti.Network.createHTTPClient({
        onload: function(event)
        {
            Ti.API.info('loaded');
            parseXML(this.responseXML);
        },
        onerror: function(event)
        {
            alert('Error. Code: ' + this.status);
        },
        timeout: 5000
    });
    xhr.open('GET','http://ronnieswietek.com/feed.xml');
    xhr.send();
}
loadXML(); 
```

# vba - 重命名工作表时宏不起作用

> ID：12972790
> 
> 赞同：0
> 
> 时间：2012-10-19T10:57:10.563
> 
> 标签：vba, excel

我在需要保护的工作表上使用宏。这是宏：

```
wksPartsDataEntry.Unprotect
Sheet11.Unprotect
Application.ScreenUpdating = False

Dim historyWks As Worksheet
Dim inputWks As Worksheet

Dim nextRow As Long
Dim oCol As Long

Dim myCopy As Range
Dim myTest As Range

Dim lRsp As Long

Set inputWks = wksPartsDataEntry
Set historyWks = Sheet11

'check for duplicate order ID in database
If inputWks.Range("CheckID2") = True Then
  lRsp = MsgBox("Clinic ID already in database. Update record?", vbQuestion + vbYesNo, "Duplicate ID")
  If lRsp = vbYes Then
    UpdateLogRecord
  Else
    MsgBox "Please change Clinic ID to a unique number."
  End If

Else

  'cells to copy from Input sheet - some contain formulas
  Set myCopy = inputWks.Range("OrderEntry2")

  With historyWks
      nextRow = .Cells(.Rows.Count, "A").End(xlUp).Offset(1, 0).Row
  End With

  With inputWks
      Set myTest = myCopy.Offset(0, 2)

      If Application.Count(myTest) > 0 Then
          MsgBox "Please fill in all the cells!"
          Exit Sub
      End If
  End With

  With historyWks
      With .Cells(nextRow, "A")
          .Value = Now
          .NumberFormat = "mm/dd/yyyy hh:mm:ss"
      End With
      .Cells(nextRow, "B").Value = Application.UserName
      oCol = 3
      myCopy.Copy
      .Cells(nextRow, 3).PasteSpecial Paste:=xlPasteValues, Transpose:=True
      Application.CutCopyMode = False
  End With

  'clear input cells that contain constants
  With inputWks
    On Error Resume Next
       With myCopy.Cells.SpecialCells(xlCellTypeConstants)
            .ClearContents
            Application.GoTo .Cells(1) ', Scroll:=True
       End With
    On Error GoTo 0
  End With
End If

Application.ScreenUpdating = True
wksPartsDataEntry.Protect
Sheet11.Protect
End Sub 
```

宏工作正常。但是，我会将文件分发给其他想要使用密码来保护他们的工作表的用户。每个用户都希望使用不同的密码。在代码中添加密码不是一种选择，因为该密码是唯一的，我希望其他用户能够在保护时添加自己的密码。是否存在可以执行以下操作的代码：

```
Sub Macro1()
wksPartsDataEntry.Unprotect Password: (anything a user might choose as a password)
Sheet11.Unprotect: (anything a user might choose as a password) 
```

因此，最后我的宏将根据用户自己选择的密码取消保护和重新保护，而用户无需更改任何代码。

希望我已经足够清楚了，感谢您的任何回答！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T11:18:00.473

是的 - 你应该在 excel 帮助中查找*unprotect ：*

`wksPartsDataEntry.Unprotect(password)`是可能的，`password`它是一个可选参数，所以你可以忽略它。

为了做你需要的，试试这个：

```
Public Sub MyUnprotect()
  wksPartsDataEntry.Unprotect InputBox( _
                prompt:="Please type your password to unprotect:", _
                Title:="Unprotect")

End Sub 
```

您也可以将其扩展为*保护*，即将给定密码保存为变量。

如果你想用星号来隐藏密码输入，你必须创建你自己的用户窗体，你可以调用它而不是 InputBox。在那里您可以设置一个带有隐藏输入的输入字段。

# google-maps - 允许用户在 gmap 保存坐标上用鼠标绘制路线

> ID：12972793
> 
> 赞同：0
> 
> 时间：2012-10-19T10:57:20.203
> 
> 标签：google-maps, bing-maps

我需要开发一个网站，允许其用户在谷歌地图上用鼠标绘制/绘制路线。完成此操作后，我需要将路线的坐标以及其他一些表单数据发送回客户端。

我不知道如何实现这一点，或者是否存在任何可以简化流程的插件/库。谁能指出我正确的方向？提前谢谢了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:16:05.920

以典型的方式，我在发布请求后查看的下一个链接是这个[http://googlemapsapi.blogspot.co.uk/2008/05/love-my-maps-use-its-line-and-shape.html](http://googlemapsapi.blogspot.co.uk/2008/05/love-my-maps-use-its-line-and-shape.html)答案我的问题。

# selenium - Groovy 代码：要导入哪个库

> ID：12972801
> 
> 赞同：0
> 
> 时间：2012-10-19T10:57:54.430
> 
> 标签：selenium, groovy, noclassdeffounderror, geb

```
import geb.Browser
import org.openqa.selenium.firefox.FirefoxDriver

Browser.drive {
    go "google.com"
} 
```

我运行上面的脚本并得到以下错误：`java.lang.NoClassDefFoundError: org/openqa/selenium/TakesScreenshot`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:14:54.713

正如它在[文档页面](http://www.gebish.org/manual/current/intro.html#installation__usage)（以及它的[maven info](http://mvnrepository.com/artifact/org.codehaus.geb/geb-core/0.7.2)）上所说，您需要：

```
org.codehaus.geb:geb-implicit-assertions:0.7.2
org.seleniumhq.selenium:selenium-api:2.15.0
org.seleniumhq.selenium:selenium-support:2.15.0 
```

selenium-api[依赖于](http://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-api/2.15.0)google guava

和硒支持[取决于](http://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-support/2.15.0) `junit`和`hamcrest`

您还需要将 groovy 添加到类路径中，因为 geb 在幕后使用它

# ios - AppStore / iOS 应用程序和解释代码 - 他们在哪里划清界限？

> ID：12972802
> 
> 赞同：21
> 
> 时间：2012-10-19T10:57:56.287
> 
> 标签：ios, iphone, app-store

Apple 的 iOS 开发者指南指出：

> 3.3.2 — 应用程序本身不得以任何方式安装或启动其他可执行代码，包括但不限于通过使用插件架构、调用其他框架、其他 API 或其他方式。除了由 Apple 的文档化 API 和内置解释器解释和运行的代码外，不得在应用程序中下载或使用任何解释代码。

假设允许在运行时下载*数据*（例如 XML 和图像，或游戏级别描述）（我的印象是？），我想知道他们在“数据”和“代码”之间划清界限。想象一个应用程序向用户提供交互式“演示”（例如调查）的场景。演示文稿不断添加到服务器，并且不同的用户可以使用不同的演示文稿，因此它们不能成为初始应用程序下载的一部分（这将是重点）。它们以 XML 格式描述，但是是交互式的，它们可能包含这种类型的条件分支（以伪形式显示以举例说明）：

```
<options id="Gender">
    <option value="1">Male</option>
    <option value="2">Female</option>
</options>

<branches id="Gender">
    <branch value="1">
        <image src="Man" /> 
    </branch>
    <branch value="2">
        <image src="Woman" /> 
    </branch>
</branches> 
```

当此 XML 在应用程序中被解释和“播放”时，上述内容将分两步呈现。首先显示一个选择屏幕，用户可以在其中单击两个选项（“男性”或“女性”）中的任何一个。接下来，将根据上一步中的选择[动态下载]并显示图像。

现在，从这里，很容易想象附加的标签，描述进一步的逻辑。例如，可以添加包含标签：

```
<loop count="3">

    <options... />
    <branches... />

</loop> 
```

当然，这里的结果是选择屏幕/图像屏幕对将依次呈现三遍。

或者想象一些描述*游戏关卡的*格式。将其视为被动“数据”可能是很自然的，但如果它包括，比如说，用户可以通过的几个门道，并附有各种触发器、陷阱和点等 - 这与使用脚本（或者，实际上，解释代码） - 描述执行序列、选项及其条件响应？

假设数据的解释引擎已经存在于应用程序中，并且此类“演示文稿”只能在应用程序中使用（不能创建或编辑），这将如何违反 Apple 的 iOS 指南？从这个意义上说，XML 基本上不构成脚本语言吗（解释语言中的任何程序都不能用 XML 描述）？

如果专有脚本语言（参考上面使用的 XML）被严格沙盒化（他们怎么知道？）并且不能以任何方式访问操作系统（但能够下载内容 - 例如调查或游戏级别 - 动态以及上传结果 - 答案或分数 - 到创作服务器）？

线路在哪里？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-11-21T06:05:21.227

**更新至 WWDC 2017**

现在明确允许以下提到的 Codea 等编程工具下载代码。[App Store 指南](https://developer.apple.com/app-store/review/guidelines/)目前说（强调我的）：

**2.5.2**应用程序应在其捆绑包中自包含，不得在指定容器区域外读取或写入数据，也不得下载、安装或执行代码，包括其他应用程序。*旨在教授、开发或测试可执行代码的应用程序可以在有限的情况下下载代码，前提是此类代码不用于其他目的。此类应用程序必须使应用程序提供的源代码完全可供用户查看和编辑。*

还有[一条推文](https://twitter.com/palmin/status/871980560943636480/photo/1)引用了有关宽松条款的更多细节。

**原来的**

您的解释下载是否允许用户编写无限循环或递归？

Apple 允许使用 Javascript，因为它们提供解释器并且可以杀死您的代码。我有一种感觉，我读过它有 10 秒的限制，但我在网站上搜索了几分钟就找不到它。（是的，我自己设定的写答案的超时时间开始了。）

如果您所做的是声明性的并且不允许在解释器中出现明显的循环，我认为您是非常安全的。

我也会避免在 Apple 可见的任何描述（包括公开讨论）中使用“解释器”一词。也许“解析器”会更安全。

Codea 已经在他们的 Lua 环境中滑过这些定义的边缘，无法下载代码。他们[不得不删除将](http://www.twolivesleft.com/Codea/Talk/discussion/comment/2306)新包下载为“.codea”文件的功能。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-02-18T05:57:00.387

基于 3.3.2，他们可以为此拒绝应用程序。然而，更可怕的是，你可以创建应用程序，让它获得批准，让它被许多用户下载和使用，然后苹果可以从商店下架应用程序。

你有没有发布过你描述的应用程序？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-13T22:52:39.123

指南与 App Review 团队的实际做法之间存在重大差异。

现行指南规定：

> 2.7 以任何方式或形式下载代码的应用程序将被拒绝
> 
> 2.8 安装或启动其他可执行代码的应用程序将被拒绝

因此，对解释代码的旧禁令已经消失，取而代之的是对可能被视为 IDE 或自我修改的应用程序的禁令。

然而在实践中，有许多应用程序可以做到这一点，因此理论和实践之间存在差异。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-25T16:23:07.027

你应该看看 Apple[在 iOS7 中启用了什么](http://blog.bignerdranch.com/3784-javascriptcore-and-ios-7/)。现在允许在您的应用程序中下载和运行 JavaScript。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-09-26T08:20:07.827

我只能告诉你的是，我已经发布了使用 XML 在应用程序中编写行为脚本的产品，Apple 一直都在批准它们。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-29T02:41:06.157

我认为 Apple 的意思是您的应用程序不应依赖于另一个模块、编译产品或可执行文件才能工作，这些模块将从网站/服务器下载，并且编译的附加组件未经 Apple 审查。

基本上，当我问类似的问题时，他们告诉我类似：“如果您的应用程序将下载另一个可执行编译代码，例如 ftp 下载器、密钥解密工具或此类未经我的 Apple 批准的东西。您可以下载数据或不代表应用程序的文件（例如 XML、HTML、PDF 文件、图像）。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-08-12T17:16:00.157

“代码”和“数据”之间的差异概念之前已经在 SO 上讨论过。请看这个答案：[https ://stackoverflow.com/a/642476/200696](https://stackoverflow.com/a/642476/200696)

从 Apple 的角度来看，这项禁令阻止了应用商店中未经审查的可执行内容。创建一个经过 Apple 批准的程序，然后下载更改预先批准的行为的可执行内容将是微不足道的。

# android - AndEngine：使用 LayoutGameActivity 时黑屏

> ID：12972803
> 
> 赞同：2
> 
> 时间：2012-10-19T10:57:57.350
> 
> 标签：android, andengine

我曾经在我的应用程序中使用 SimpleBaseGameActivity，一切正常，但现在我想在应用程序中添加一些广告，所以我尝试使用 LayoutGameActivity。但是我得到渲染视图完全是黑色的，我不知道为什么。那是我的代码：

```
public class AcGame extends LayoutGameActivity {
    [...]
    @Override
    protected int getLayoutID() {
        return R.layout.ad;
    }

    @Override
    protected int getRenderSurfaceViewID() {
        return R.id.layout_render;
    }

    @Override
    public EngineOptions onCreateEngineOptions() {
        [...]
        return new EngineOptions(true, ScreenOrientation.PORTRAIT_FIXED, resolution, camera);
    }

    @Override
    public void onCreateResources(OnCreateResourcesCallback pOnCreateResourcesCallback) throws Exception {
        createResources();
        pOnCreateResourcesCallback.onCreateResourcesFinished();
    }

    @Override
    public void onCreateScene(OnCreateSceneCallback pOnCreateSceneCallback) throws Exception {
        pOnCreateSceneCallback.onCreateSceneFinished(createScene());
    }

    @Override
    public void onPopulateScene(Scene pScene, OnPopulateSceneCallback pOnPopulateSceneCallback) throws Exception {
        pOnPopulateSceneCallback.onPopulateSceneFinished();
    } 
```

这就是我的布局：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent">
    <LinearLayout
            android:orientation="vertical"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="top"
            android:id="@+id/layout_ad"
            >
        <Button
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:text="Ad Sample"/>
    </LinearLayout>
    <org.andengine.opengl.view.RenderSurfaceView
            android:orientation="vertical"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:gravity="center"
            android:id="@+id/layout_render"
            />

</LinearLayout> 
```

当我尝试调试时，我可以看到 EngineOptions 正在创建，但没有一个 LayoutGameActivity 的方法被调用（`onCreateResources`或`onCreateScene`）`onPopulateScene`。有人可以告诉我我错过了什么吗？

**UPD：**我发现如果将 xml 中的按钮向下移动，则会显示场景：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent">
    <org.andengine.opengl.view.RenderSurfaceView
            android:orientation="vertical"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:gravity="center"
            android:id="@+id/layout_render"
            />
    <LinearLayout
            android:orientation="vertical"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="top"
            android:id="@+id/layout_ad"
            >
        <Button
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:text="Ad Sample"/>
    </LinearLayout>

</LinearLayout> 
```

但现在我看不到我的按钮，一切似乎我仍在使用 SimpleBaseGameActivity。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T13:09:49.320

我找到了解决方案：如果你想使用`(Simple)LayoutGameActivity`，你必须使用`RelativeLayout`。此外，如果您使用`LayoutGameActivity`而不是`SimpleLayoutGameActivity`，请不要忘记使用回调！

# http - 为什么使用下载队列？

> ID：12972807
> 
> 赞同：2
> 
> 时间：2012-10-19T10:58:11.773
> 
> 标签：http, download, delay

我见过很多使用下载队列的网站。其中一些让用户等待几分钟，这样他们就可以展示广告并推广他们服务的支付版本，但像 Sourceforge 这样的网站使用 5 秒的队列，甚至为不耐烦的人提供直接链接。

Sourceforge 可以从引入这个 5 秒延迟中获得什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T11:03:58.207

sourceforge 下载页面上有广告

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:05:05.853

我认为，一般来说是减少 30% 的带宽和 70% 的广告空间

通过让用户仅等待 5 秒，带宽不会受到太大影响。
然而，这一事实更适用于延迟超过 30 秒的主机。

从广告的角度来看：每一秒都很重要。有时，为了让消费者想起那家公司，展示某个标志就足够了。连两三句话也能在5秒内读完！

想象一下，你只看到一个大黄色`M`，我敢打赌你会把它与一家知名的快餐公司联系起来！;)

# oracle - 获取 Oracle 异常：ORA-1017：用户名/密码无效；登录被拒绝

> ID：12972809
> 
> 赞同：0
> 
> 时间：2012-10-19T10:58:15.423
> 
> 标签：oracle, visual-studio-2008, oracle11g

我已经尝试了很多东西，但我无法解决该错误。

我可以用我的用户名和密码连接到：

```
Database in SQLDeveloper,
in SQL-Plus,
in Server-Explorer (Visual Studio 2008) 
```

一切正常。

但是，如果我编译我的项目，我会得到那个错误：

> ORA-1017: 无效的用户名/密码；登录被拒绝

这是为什么？

我试图将 case_sensitive 设置为 false，但出现了同样的错误。我不知道还能做什么。

我的甲骨文版本：

> Oracle Database 11g Express Edtiton 版本 11.2.0.2.0 - 生产 PL/SQL 版本 11.2.0.2.0 - 生产 CORE 11.2.0.2.0 用于 32 位 Windows 的生产 TNS：版本 11.2.0.2.0 - 生产 NLSRTL 版本 11.2。 0.2.0 - 生产

我的连接字符串：

```
<add name="Oracle" connectionString="Data Source=ORCL;User ID=book;Password=bookadm;" providerName="Oracle.DataAccess.Client" /> 
```

# java - 仅选择一条记录（Javabean、setAttribute、getAttribute、SQL、servlet）

> ID：12972814
> 
> 赞同：0
> 
> 时间：2012-10-19T10:58:47.487
> 
> 标签：java, servlets, return, javabeans

我创建了一个名为、 和`client`字段`Id`的新`Name`bean 。我当然创建了模型和视图。我的模型返回所有​​客户的列表。这个工作正常。`LastName``Address`

但我需要一个模型，我只能选择一个由`Id`. 谁能告诉我我需要在这个模型中更改什么（除了 SQL 语句），以便我根据 SQL 的过滤器（id）标准只获得一个客户端？

```
{
    Connection connection = getDatabaseConnection();
    request.setAttribute("clientList", getClientList(connection));
    closeDatabaseConnection(connection);
}

private ArrayList<Client> getClientList(Connection con)
{
    String sqlstr = "SELECT * FROM Clients";
    PreparedStatement stmt = null;
    ResultSet rs = null;
    ArrayList<Client> clients = new ArrayList<Client>();

    try
    {
        stmt = con.prepareStatement(sqlStr);
        rs = stmt.executeQuery();

        while (rs.next())
        {
            Client client = new Client();
            client.setId(rs.getInt("Id"));
            client.setName(rs.getString("Name"));
            client.setLastName(rs.getString("LastName"));
            client.setAddress(rs.getString("Address"));

            clients.add(client);
        }

        rs.close();
        stmt.close();
    }
    catch (SQLException sqle)
    {
        sqle.printStackTrace();
    }
    finally
    {
        return clients;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:04:54.703

除了 sql 语句之外你是什么意思？你必须在查询中添加一个 where 子句。我认为不可能有任何其他情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:08:09.113

好吧，我猜你已经有一个类，其中包含一个调用来检索所有客户端的方法，对吧？

好吧，现在添加另一个方法，但这次是接收客户端 ID 作为参数的方法：

```
public List<Client> getAllClients();
public Client getClientById(int clientId); 
```

您将需要第二条 SQL 语句，因为第一个中的逻辑用于检索所有记录。就像是：

```
"select clientId, clientName, ... from clients where clientId=?" 
```

使用 JDBC PreparedStatement 您可以轻松替换 ? 对于您的 API 接收的实际参数。

您还可以考虑抽象您的映射策略，以便您可以将其用于两种方法：

```
class ClientMapper implements SqlMapper<Client> {
    @Override
    public Client map(ResultSet rs) throws SQLException {
       Client client = new Client();
       client.setId(rs.getInt("Id"));
       client.setName(rs.getString("Name"));
       client.setLastName(rs.getString("LastName"));
       client.setAddress(rs.getString("Address"));
       return client;
    }
} 
```

您还可以拥有一个 ClientsMapper，它使用这个单一的客户端映射器来检索所有客户端。

```
class ClientsMapper implements SqlMapper<List<Client>>{
   @Override
   public List<Client> map(ResultSet rs){
     List<Client> result = new ArrayList<>();
     ClientMapper mapper = new ClientMapper();
     while(rs.next()){
        result.add(mapper.map(rs));
     }
     return result;
   }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:11:25.140

好吧，您可以再使用一种方法，该方法根据您作为参数提供的 id 返回单个客户端。

```
 public Client getClientById(int id){
    //fetch the client data using the id

    //make a local Client object
    Client c = new Client();

    //populate c based on the values you get from your database.

    //return this local object of Client
    return c;

 } 
```

# c# - c#拆分数组并在文本框中按降序显示

> ID：12972815
> 
> 赞同：1
> 
> 时间：2012-10-19T10:58:57.517
> 
> 标签：c#, arrays, textbox, split

我希望在文本框中显示一个文本数组，在用逗号分割它之后，我将一堆数字传递到 textbox1 并用逗号分割它，我如何按降序对数字进行排序。这是我到目前为止的方法

```
 private void btnCalc_Click(object sender, EventArgs e)
    {
        //string A = txtInput.Text;
        string[] arrText = txtInput.Text.Split(',');
        int[] newOne = new int[]{};
        foreach (string r in arrText)
        {

        }
        txtOutput.AppendText( );
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T11:01:40.190

```
int[] newOne = arrText.Select(x => int.Parse(x)).OrderByDescending(x => x).ToArray(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:05:16.203

你应该可以这样做：

```
private void btnCalc_Click(object sender, EventArgs e)
{
    //string A = txtInput.Text;
    string[] arrText = txtInput.Text.Split(',');
    txtOutput.Text = string.Join(",",arrText.Select( s => int.Parse(s)).OrderByDescending( i => i))
} 
```

请注意，如果逗号之间的某些输入文本不是数字，这将爆炸。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T11:06:20.470

这应该工作：

```
var newOne = arrText.OrderByDescending(int.Parse).ToArray();

foreach (var s in newOne)
{
      txtOutput.AppendText(s);
} 
```

# spring - 我可以访问要注入的 bean 实例上的注释吗

> ID：12972819
> 
> 赞同：1
> 
> 时间：2012-10-19T10:59:13.013
> 
> 标签：spring

给定一个类：

```
public ClassA {
    @Autowired
    @SomeAnnotation("foo")
    private ClassB bar;
}

@Component
@Scope(prototype)
public ClassB {
    private String someString;
} 
```

我想编写一些 bean 处理器（构造后...），它可以在`ClassB`构造时访问正在注入`@SomeAnnotation`的实例，以便我可以将值设置为“foo”。`ClassB``someString`

我知道这不是非常 IoC，我猜这不可能完成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T12:18:53.873

您可能可以使用`@PostConstruct`of执行以下操作`ClassA`：

```
@PostConstruct
public void postConstruct(){
  SomeAnnoation someAnnotation =  this.getClass().getField("bar").getAnnotation(SomeAnnotation.class);
  bar.someString(someAnnotation.value());
} 
```

**更新：** - 使用 BeanPostProcessor 的一般解决方案：

```
public class SomeAnnotationFieldInitalizer implements BeanPostProcessor{

    @Override
    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {
        return bean;
    }

    @Override
    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {
        Field[] fields = bean.getClass().getFields();
        if (fields!=null){
            for (Field field:fields){
                SomeAnnotation someAnnotation = field.getAnnotation(SomeAnnotation.class);
                if (someAnnotation!=null){
                    try {
                        ReflectionUtils.makeAccessible(field);
                        field.set(bean, someAnnotation.value());
                    } catch (Exception e) {
                        e.printStackTrace();
                    }
                }
            }
        }
        return bean;
    }
} 
```

# javascript - 手风琴布局未在底部显示堆叠的封闭面板

> ID：12972820
> 
> 赞同：0
> 
> 时间：2012-10-19T10:59:23.390
> 
> 标签：javascript, extjs, extjs4

通常手风琴面板会展开第一个子面板，其余面板的标题将堆叠在底部。但对我来说**，底部没有可见的面板标题**。它只是空的。请参阅屏幕截图。

![在此处输入图像描述](../Images/3a1606c6140e036a1ddd83160bacdf36.png)

但我实际上有 3 个表单面板。

```
Ext.create('Ext.container.Viewport', {
    layout: 'border',
    items: [{
        region: 'center',
        html: '<h3>Some text. Lorem ipsom?</h3>'
    },{
        region: 'east',
        layout: 'accordion',
    width: 300,
    items: [loginForm, regForm, passForm]
    }]
}); 
```

为什么是这样？我该如何解决？

我正在使用`Ext 4.0.7`. 完整的源代码可以在[这里](http://pastie.org/5083527)找到。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:52:24.070

我希望在 Accordion Layout 中您不应该为您为 loginForm 指定的面板指定高度。

身高：150，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T14:33:01.373

这是由标题 div 元素引起的。通常视口渲染为`document.body`. 如果它找到任何现有元素，则无法替换它。而是附加输出。所以这里发生的是 2 个组件/元素被渲染。首先是现有的标题 div，然后是视口。标题 div 在视口顶部占用一些空间。然后在底部的视口上看不到相同的空间。要解决这个问题，请将现有元素 html 作为面板放在视口中。保持其区域为`north`.

```
Ext.create('Ext.container.Viewport', {
    layout: 'border',
    items: [{
            region: 'north',
            html: header.html // <------- Add html of `div#head` here
            height: 300  // <------- put a height too.

        },{
            region: 'center',
            html: '<h3>Some text. Lorem ipsom?</h3>'
        },{
            region: 'east',
            layout: 'accordion',
            width: 300,
            items: [
                    loginForm, regForm, passForm
            ]
        }]
}); 
```

# sms - 用于 USSD/SMS 应用测试的硬件

> ID：12972824
> 
> 赞同：1
> 
> 时间：2012-10-19T10:59:37.237
> 
> 标签：sms, gsm, modem, ussd, smslib

我们正在寻找具有普通 GSM 调制解调器功能的硬件，以自动执行 8 张 SIM 卡的 USSD/SMS 应用程序。硬件应该理解通过 java smslib 发送的基本 AT 命令，用于在 CI 服务器上运行的代码。通用目的是测试属于不同区域平台但工作流程相同的 SIM 卡的 USSD/SMS 应用程序（即断言 sms 和 ussd 响应）。我们已经尝试在一个调制解调器中为单个 SIM 卡执行此操作，现在我们希望避免手动更换 SIM 卡。另外，如果这个方案将来也能用于IVR服务测试，那就再好不过了。

第一个想法是使用 Smslib + USB 集线器 + 8 个 GSM 调制解调器，但总成本约为 8* 30 美元。我们发现的一些 GSM 网关是 2300 美元，它们不支持 USSD。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:06:51.650

[http://www.made-in-china.com/showroom/lindamodem/product-detailfoVQbuOYHXcn/China-16-Sim-Cards-Multi-port-Modem-Pool-GSM-GPRS-SimBox.html](http://www.made-in-china.com/showroom/lindamodem/product-detailfoVQbuOYHXcn/China-16-Sim-Cards-Multi-port-Modem-Pool-GSM-GPRS-SimBox.html)

似乎存在这种硬件，但目前还不清楚，是否可以用这种硬件发送短信和ussd。不幸的是，没有人在那个网站上回答。

# android - 片段和异步任务

> ID：12972826
> 
> 赞同：0
> 
> 时间：2012-10-19T10:59:48.813
> 
> 标签：android, rss, android-asynctask, android-fragments, actionbarsherlock

我现在遇到同样的问题 8 天了，我希望有人可以帮助我，我正在开发一个应用程序，它解析多个 RSS 提要并将它们显示在带有片段的列表视图上，但问题是 UI 被阻塞了 2 到 4秒，并且每次用户触摸屏幕时，应用程序都会崩溃。我跟踪了这​​个问题，我发现我必须异步带来数据，我确实这样做了，但是每次我有一个片段时，都会出现同样的问题。实际上，如果片段从主线程中获取数据时会阻塞，而我实际上是异步获取数据，这就是为什么我无法获得阻塞的原因。

这就是我更改代码的方式，这是我的界面

```
public interface OnTaskFinishedListener {
void onTaskFinished(ArrayList<Article> articles);
} 
```

我像这样在 AsyncTask 中获取 ArrayList

```
public class AndroidSaxFeedParserAsync extends AsyncTask<String, Long,ArrayList<Article>> {
ArrayList<Article> rssItems = new ArrayList<Article>();

public URL feedUrl;

OnTaskFinishedListener onTaskFinishedListener;

public AndroidSaxFeedParserAsync(OnTaskFinishedListener _onTaskFinishedListener)
{
    onTaskFinishedListener = _onTaskFinishedListener ;
    }

@Override
protected void onPostExecute(ArrayList<Article> result) {
    super.onPostExecute(result);
    onTaskFinishedListener.onTaskFinished(result);
}
@Override
protected ArrayList<Article> doInBackground(String... params) {
//....
    return rssItems;
}   

} 
```

最后我像这样在我的片段中得到它

```
public class FeedPlayerIndexFragment extends SherlockFragment implements OnTaskFinishedListener{

String url="http://www.whatever.com/index.php?format=feed&amp;type=rss";
ArrayList<Article> feeds;
ItemAdapterArticle lfa;

public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    new AndroidSaxFeedParserAsync(new OnTaskFinishedListener() {
        @Override
        public void onTaskFinished(ArrayList<Article> articles) {
        }
    }).execute(url);
    View view=inflater.inflate(R.layout.main, container, false);
//....
return view;
}

@Override
public void onTaskFinished(ArrayList<Article> articles) {
    lfa = new ItemAdapterArticle(getActivity().getApplicationContext(), articles);  
    } 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T11:21:57.833

问题是您正在使用`AsyncTask.get()`实际上阻塞的呼叫。这个问题还有另一个解决方案，它不会阻塞 UI 线程。您需要定义一个简单的接口：

```
public interface OnTaskFinishedListener {
    void onTaskFinished(List<Article> articles);
} 
```

调用`Fragment`应实现此接口。实例化时，`AsyncTask`您将`Fragment`作为`OnTaskFinishedListener`实例作为参数发送给构造函数。`AsyncTask`应该保存对实例的引用，`OnTaskFinishedListener`当工作完成时，在 中`onPostExecute()`，您调用`onTaskFinished()`实例。现在，`Fragment`您可以响应此调用并使用`articles`参数来填充您的 UI 组件。希望这可以帮助。

# javascript - Javascript：解析双精度

> ID：12972831
> 
> 赞同：0
> 
> 时间：2012-10-19T11:00:09.357
> 
> 标签：javascript

> **可能重复：**
> [在javascript中将十六进制转换为浮点数](https://stackoverflow.com/questions/5055723/converting-hexadecimal-to-float-in-javascript)

我正在尝试解析十六进制值，它实际上是 c++ 双值的十六进制表示。我尝试了很多东西来在java脚本中转换/解析为double但失败了。

请帮助并分享执行此操作的方法。

# html - 如何链接到页面中的特定点

> ID：12972833
> 
> 赞同：3
> 
> 时间：2012-10-19T11:00:14.980
> 
> 标签：html, css

我尝试在同一页面中加载特定位置。所以我使用这段代码并且它的工作正常。这里是[JSFIDDLE](http://jsfiddle.net/sAdK5/7/)。

```
<div class="header">This is Header</div>
<div id="nav" class="clearfix">
<a href="#headline1">1</a>
<a href="#headline2">2</a>
<a href="#headline3">3</a>
<a href="#headline4">4</a>
</div>
<div class="section">
<h1><a name="headline1">Headline One</a></h1>
<p>Lorem ipsum dolor sit amet...</p>
</div>

<div class="section">
<h1><a name="headline2">Headline Two</a></h1>
<p>Lorem ipsum dolor sit amet...</p>
</div>

<div class="section">
<h1><a name="headline3">Headline Three</a></h1>
<p>Lorem ipsum dolor sit amet...</p>
</div>

<div class="section">
<h1><a name="headline4">Headline Four</a></h1>
<p>Lorem ipsum dolor sit amet...</p>
</div> 
```

但问题是，标题固定在顶部位置。当我单击链接`1`时，`Headline one`它会返回标题。所以`h1`内容不显示。

请访问这个[小提琴](http://jsfiddle.net/sAdK5/7/)。你可以理解我想表达的意思。
感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T11:12:14.173

简单的方法：在“名称”元素上使用填充，以对抗标题。

见[http://jsfiddle.net/sAdK5/3/](http://jsfiddle.net/sAdK5/3/)

```
.section h1 a {
    display:block;
    padding-top:100px;
} 
```

* * *

一种更复杂的方法：将所有内容放在一个 div 容器中，并使用 CSS 创建内联滚动。

* * *

您也可以使用 jQuery 添加额外的滚动。

见：http: [//jsfiddle.net/sAdK5/11/](http://jsfiddle.net/sAdK5/11/)

我们所做的是，在#content 区域内创建滚动条，并测量窗口的高度，减去标题 - 并在每次调整窗口大小时调用它。

```
$(document).ready(function(){  
   resizeContent();
  //attach on resize event
   $(window).resize(function() {
       resizeContent();
    });
});
function resizeContent()
{
  //#content height equals window height minus .header height
   $('#content').css('height', $(window).height() - $('.header').height());
} 
```

# java - 具有自己的对象类型的 NavigableSet？

> ID：12972834
> 
> 赞同：0
> 
> 时间：2012-10-19T11:00:16.197
> 
> 标签：java, collections

我如何使用`tailSet()`and ？并且还实施自己的规则，哪些元素符合tailset或耳机的条件？`headSet()``NavigableSet<MyType>`

喜欢：

```
class MyType {
  String name;
  String number;
} 
```

现在，如果我有一个类型（“daniel”，“12”），我希望所有元素都按字母顺序排列在 daniel 之前，并且数字 > 12。这将是我的耳机。对面是尾巴。（当然，比较没有任何意义，但你得到了我想要做的）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T11:08:37.070

let`MyType`实现`Comparable`或使用 a`NavigableSet`让您提供单独的`Comparator`like `TreeSet`。

# installation - 安装 Jammer 构建路径

> ID：12972836
> 
> 赞同：3
> 
> 时间：2012-10-19T11:00:18.753
> 
> 标签：installation, jammer

我在让安装程序获取构建路径时遇到问题。我需要通过命令行将组件提供给文件组。在构建 .mpi 文件时如何提供源文件路径？

任何帮助将不胜感激。提前致谢。

# c# - 按名称按字母顺序对数组进行排序

> ID：12972839
> 
> 赞同：0
> 
> 时间：2012-10-19T11:00:35.917
> 
> 标签：c#, linq

我目前有一个数组`"Brand Products"`，我正在尝试根据`name`从数据库中获取它们后的字母顺序对其进行排序，该列表当前使用以下内容填充：

```
 protected override object[] GetCollection()
    {
        Brand brand = ItemLocator.LocateItem(this.Parent, typeof(Brand)) as Brand;

        ICriteria criteria = CoreHttpModule.Session.CreateCriteria(typeof(Product));
        criteria.Add(NHibernate.Expression.Expression.Eq("Brand", brand));
        criteria.Add(NHibernate.Expression.Expression.Eq("IsVisibleOnWebsite", true));

        IList<Product> productList = criteria.List<Product>();

        IList<Product> filteredLroductList = new List<Product>();

        for (int i = 0; i < productList.Count; i++)
        {
            if (productList[i].Parent != null)
            {
                filteredLroductList.Add(productList[i]);
            }
        }

        object[] filteredProductListArray = new object[filteredLroductList.Count];

        for (int i = 0; i < filteredLroductList.Count; i++)
        {
            filteredProductListArray.SetValue(filteredLroductList[i], i);
        }

             return filteredProductListArray;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T11:08:24.060

您可以在单个 linq 表达式中实现它。

```
products[] productList = criteria.List<Product>()
                                  .Where(p => p.Parent != null)
                                  .OrderBy((p => p.Name)
                                  .ToArray(); 
```

完整的代码。

```
protected override object[] GetCollection()
{
    Brand brand = ItemLocator.LocateItem(this.Parent, typeof(Brand)) as Brand;

    ICriteria criteria = CoreHttpModule.Session.CreateCriteria(typeof(Product));
    criteria.Add(NHibernate.Expression.Expression.Eq("Brand", brand));
    criteria.Add(NHibernate.Expression.Expression.Eq("IsVisibleOnWebsite", true));

    products[] productList = criteria.List<Product>()
                                         .Where(p => p.Parent != null)
                                         .OrderBy((p => p.Name)
                                         .ToArray();
    return productList;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:04:23.653

我只需将您方法的^(第二部分替换为：)

```
return filteredProductList.OrderBy(f => f.BrandName).ToArray(); 
```

*假设这`BrandName`是您要订购的*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:05:14.890

试试这个：

```
protected override object[] GetCollection()
{
    Brand brand = ItemLocator.LocateItem(this.Parent, typeof(Brand)) as Brand;

    ICriteria criteria = CoreHttpModule.Session.CreateCriteria(typeof(Product));
    criteria.Add(NHibernate.Expression.Expression.Eq("Brand", brand));
    criteria.Add(NHibernate.Expression.Expression.Eq("IsVisibleOnWebsite", true));

    return criteria.List<Product>()
        .Where(x => x.Parent != null)
        .OrderBy(x => x.Name)
        .Cast<object>()
        .ToArray();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T11:06:03.153

大致是这样的，具体取决于您的类型：

`var products = from p in GetCollection() orderby p.ProductName select p;`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-19T11:07:32.950

如果将其保留为列表，则可以对集合使用 linq ...

mylist = myList.OrderBy(x => x.Name).ToList();

# javascript - 如何重置按钮的 div onclick 内的所有选择框？

> ID：12972848
> 
> 赞同：0
> 
> 时间：2012-10-19T11:01:20.107
> 
> 标签：javascript, input

以我的形式

```
<div class="container">
    <select name="sel1">
        <option value="0">0</option>
        <option value="1">1</option>
        <option value="2">2</option>
    </select>
    <select name="sel2">
        <option value="0">Zero</option>
        <option value="1">One</option>
        <option value="2">Two</option>
    </select>
</div>
<input type="button" onclick="resetAll()" value="Reset"/> 
```

我需要将**sel1、sel2**都重置为默认值。即**selectedIndex = 0;**

```
function resetAll()
{
     //what should i write here to do this
} 
```

我有 20 多个选择框。有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:11:31.420

试试这个，这应该适用于任何数量`drop downs`

```
function resetAll()
{
    var selects = document.getElementsByTagName('select');
    var len = selects.length;
    for(var i=0; i<len; i++){
        selects[i].selectedIndex=0;
    }
} 
```

演示：http: [//jsfiddle.net/LAaRv/1/](http://jsfiddle.net/LAaRv/1/)

**更新：**

如果您只想重置“sel1”和“sel2”，那么试试这个，

```
function resetAll()
{
    var selects = document.getElementsByTagName('select');
    var len = selects.length;
    for(var i=0; i<len; i++){
        if(selects[i].name == "sel1" || selects[i].name == "sel2"){
           selects[i].selectedIndex=0;
        }
    }
} ​ 
```

​</p>

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:13:52.480

只需向容器项添加一个 id，以便您可以轻松引用它。这样，您只重置驻留在其中的选择框，而不是您可能在页面上拥有的任何其他选择框：

```
function resetAll() {
    var container = document.getElementById('container');
    var children = container.getElementsByTagName('select');
    for (var i = 0; i < children.length; i++) {
        children[i].selectedIndex = 0;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-26T09:47:06.750

只需不使用任何 for 循环 -

对于第一个索引 -

```
 $("select").each(function() { this.selectedIndex = 0 }); 
```

对于空选择 -

```
 $("select").each(function() { this.selectedIndex = -1 }); 
```

`[PLUNKER EXAMPLE](http://plnkr.co/edit/vy7jAt1L56bVPdpUIm0I?p=preview)`

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-19T11:06:34.760

试试这个

```
var secondCombo = document.getElementsByName("sel1")[0];
secondCombo.value = 0; 
```

# typo3 - 使用 TypoScript 生成随机字符串

> ID：12972853
> 
> 赞同：5
> 
> 时间：2012-10-19T11:01:40.563
> 
> 标签：typo3, typoscript

是否可以通过 TypoScript 自动生成混合的数字和字母字符串，例如`12A54`或类似的东西？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-21T13:36:44.320

我更喜欢 userFunc 到 php 包含脚本。例如，您可以将参数传递给用户函数。

**排版：**

```
includeLibs.generateInvoiceNo= fileadmin/scripts/generateInvoiceNo.php
temp.invoiceNo = USER
temp.invoiceNo {
  userFunc =user_generateInvoiceNo->main
} 
```

**PHP：**
*文件管理/脚本/generateInvoiceNo.php*

```
<?
class user_generateInvoiceNo {
    var $cObj;// The backReference to the mother cObj object set at call time
    /**
    * Call it from a USER cObject with 'userFunc = user_generateInvoiceNo->main'
    */
    function main($content,$conf){
        $length = 6;
        $chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
        $number=substr(str_shuffle($chars),0,$length);
        return $number;
    }
}
?> 
```

**学分：**

*   [这个 php 脚本](http://codepad.org/5rHMHwnH)
*   [userFunc 上的 TYPO3 向导](http://www.typo3wizard.com/en/snippets/common-problems-and-solutions/simple-userfunc.html)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-19T12:33:07.220

如前所述，Typoscript 中没有这样的功能，因此**首选方法**是使用其他答案中建议的一些简单的 PHP 函数。

但是，有一个**作弊**方法，那就是使用 MySQL。请注意，只有当您绝对不能（出于我真的想不到的原因）编写一段自定义 PHP 时，它才是一个解决方案。把它当作一个**学术答案**而不是一个实际答案。

```
temp.random = CONTENT
temp.random {
  table = tt_content
  select {
    pidInList = 1
    recursive = 99
    max = 1
    selectFields = SUBSTRING(MD5(RAND()) FROM 1 FOR 6) AS random_string
  }
  renderObj = TEXT
  renderObj {
    field = random_string
    case = upper
  }
} 
```

**笔记：**

1.  `pidInList`必须指向现有页面。
2.  MySQL 命令实际上只是一个示例，因为字符串永远不会包含字母 GZ。我确信有可能想出一个由 MySQL 生成的更好的字符串。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-19T11:45:34.367

为这样简单的任务修补 TYPO3 源是错误的想法。在下一次源升级后，您将丢失所做的更改。

相反，最好包含一个简单的 PHP 脚本，您可以在其中呈现您需要的内容[检查 TSREF](http://typo3.org/documentation/document-library/core-documentation/doc_core_tsref/4.7.0/view/1/12/)

# jquery - 历史 API 和 jQuery 不起作用

> ID：12972857
> 
> 赞同：1
> 
> 时间：2012-10-19T11:01:55.577
> 
> 标签：jquery, browser-history, pushstate, popstate

我正在尝试在按下内部链接时将 div 加载到我的页面中并推送历史状态以更改位置。我还试图让页面加载 popstate 上的前一个 div。我似乎无法使任何工作，甚至 return false 都没有，但我知道 jQuery 已包含在内，因为我可以在页面的另一部分使用它。有谁知道可能出了什么问题？

```
$(document).ready(function() {
    $("a:not([href^='http://'])").click(function() {
        history.pushState({ path: this.path }, '', this.href);
        $('#innercontents').load(location.pathname + ' #innercontents');
        return false;
    });
    $(window).bind('popstate', function() {
        $('#innercontents').load(location.pathname + ' #innercontents');
    });
}); 
```

# javascript - 如何将数字格式化为十进制表示法？

> ID：12972861
> 
> 赞同：1
> 
> 时间：2012-10-19T11:02:04.387
> 
> 标签：javascript, decimal, number-formatting

> **可能重复：**
> [显示两位小数，不四舍五入](https://stackoverflow.com/questions/4187146/display-two-decimal-places-no-rounding)

我需要以 2 位十进制格式格式化总结果数。我试图在不使用 jQuery 插件的情况下实现它，而只是编辑我的以下函数：

```
function tally(selector) {
    var total = 0;
    $('p.editable_number').each(function() {
        total += parseInt($(this).text()) || 0;
        $('#subtotal').html(total)
        $('#total').html(total*0.21);
        $('#total1').html(total*1.21);
    })
} 
```

这怎么可能修改`VAR`？还有其他方法可以实现吗？

[这是我的情况](http://jsfiddle.net/Manna/CBk5a/9/)，你可以注意到我没有得到仅用小数分隔符格式化的总结果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:07:47.677

如果我理解正确，您希望格式化您的总数，使其显示为 2 位小数。

试试这个：

```
$('#subtotal').html(total.toFixed(2)); 
```

等等...

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:08:35.370

```
$('#subtotal').html((total).toFixed(2))
$('#total').html((total*0.21).toFixed(2));
$('#total1').html((total*1.21).toFixed(2)); 
```

不过需要注意的是：在一般情况下，基数不是整数，由于四舍五入，基数 + vat != total 可能。

# javascript - jQuery获取使用每个循环单击的第4个和更多复选框的值

> ID：12972865
> 
> 赞同：0
> 
> 时间：2012-10-19T11:02:47.793
> 
> 标签：javascript, jquery

我正在对表单运行每个循环，以根据用户选择对值求和并获得产品的最终价格。困难的部分是，在特定的复选框组中，我有进一步的限制，例如：组 A 将开始添加价格，在单击 4 个或更多复选框后，仅添加在第 3 个项目之后单击的值。

以下是我创建的函数，我正在寻找解决问题的方法：

```
var quantity = 1;
var removedProductPrice = false; //User can pick a variation of the same product, so the price changes to that selected variation (flag)    
var product_price = parseFloat($("#product").val()); //Base product price
var totalProduct = product_price;

$(":input", "#productForm").each(function(){
    if(this.type == 'checkbox' || this.type == 'radio'){
        if(this.checked == true){

            priceProtocol = $(this).attr('rel').split('_');
            //priceProtocol[0]: 'variation/component/steady, priceProtocol[1]: number of choices

            switch(priceProtocol[0]){               
                case 'variation':
                    removedProductPrice = true;
                    totalProduct = Number(totalProduct)+Number(this.value);
                break;

                case 'component':                       
                    totalProduct = Number(totalProduct)+Number(this.value);                     
                break;          

                case 'steady':                      
                    //If the number of clicked checkboxes is greater than the limit, start adding to the price
                    if($("input[name='"+this.name+"']:checked").length > priceProtocol[1]){                         
                        totalProduct = Number(totalProduct)+Number(caller.val());
                    }
                break;  
            }

        }
    }else if(this.id == 'product_quantity'){ quantity  = this.value; }
});

//If a variation selected, change the price to that of the variation
if(removedProductPrice){ totalProduct = totalProduct-product_price; }

//Multiple by the selected quantity
totalProduct = Number(quantity)*totalProduct;

    //Preview the final price
$("#current_product_price").html(totalProduct.toFixed(2));  
 } 
```

我怎样才能实现上述目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:12:38.363

对于仅在选中 4 个或更多复选框后添加价格，您可以使用[选定](http://api.jquery.com/selected-selector/)的选择器：

```
if ($("#GroupAId option:selected").length > 4) {
...
} 
```

对于仅添加在第三个项目之后单击的项目，您可以使用[index](http://api.jquery.com/index/)方法。仅添加索引 > 2 的项目（从零开始）

```
<ul>
  <li id="foo">foo</li>
  <li id="bar">bar</li>
  <li id="baz">baz</li>
</ul>

...

var listItem = document.getElementById('bar');
alert('Index: ' + $('li').index(listItem));
//We get back the zero-based position of the list item:
//Would alert - Index: 1 
```

希望有帮助

# python - 通过 Python 连接远程 MySQL 数据库

> ID：12972867
> 
> 赞同：21
> 
> 时间：2012-10-19T11:03:01.290
> 
> 标签：python, mysql

我尝试了以下脚本，但不幸的是不起作用。我正在使用免费的 MySQL 数据库提供程序。有任何想法吗？

```
import MySQLdb

myDB = MySQLdb.connect(host="208.11.220.249",port=3306,user="XXXXX",passwd="XXXXX",db="XXXXX")
cHandler = myDB.cursor()
cHandler.execute("SHOW DATABASES")
results = cHandler.fetchall()
for items in results:
    print items[0] 
```

目前，我收到以下错误：

```
super(Connection, self).__init__(*args, **kwargs2)
_mysql_exceptions.OperationalError: (1044, "Access denied for user 'XXXXX'@'%' to database 'XXXXX'") 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-19T11:20:20.547

```
 GRANT ALL
 ON  *.*
 TO user@192.168.39.17  -- client ip address
 IDENTIFIED BY 'pwd'; 
```

**编辑**

这是您在数据库上运行的 SQL，以确保可以`user`访问所有内容。`pwd`是`user`的密码。

基本上，此答案假定连接问题是凭据问题。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-19T11:41:01.550

这就是我会做的

1.  查看该端口是否在该机器上实际打开。
2.  在您要连接的机器上，打开 console/cmd/terminal 并查看是否可以使用`mysql -u XXXX -h 208.11.220.249 -p`. 如果您的mysql客户端无法连接，那么您无法使用python连接

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T15:50:14.130

您无权使用此用户连接到数据库。按着这些次序：

1.尝试连接mysql数据库：mysql -h208.11.220.249 -uXXXXX -pXXXXX XXXXX

2.如果您没有连接数据库的权限，请尝试创建具有远程权限的用户

GRANT ALL ON DB.* -- 数据库名称到 user@ip -- 客户端 ip 地址由 'pwd' 识别；

3.最后检查 my.cnf 。如果要连接所有远程地址，“绑定地址”必须为 0.0.0.0。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-06-25T11:13:28.517

在 mysql 中打开数据库并键入以下内容：

```
mysql> GRANT ALL ON *.* TO root@'x' IDENTIFIED BY 'Your-password' 
```

其中 x 是想要访问您的数据库的用户的 IP 地址。

使用此链接了解更多信息： [如何允许 MySQL 客户端连接到远程 MySQL 服务器](https://www.thegeekstuff.com/2010/08/allow-mysql-client-connection)

# android - 点击后删除通知

> ID：12972868
> 
> 赞同：52
> 
> 时间：2012-10-19T11:03:01.703
> 
> 标签：android

我刚刚开始使用通知，现在我正在尝试删除通知并在通知中心中点击通知后启动应用程序。

我尝试使用以下代码：

```
import android.app.NotificationManager;

public class ExpandNotification {
     private int NOTIFICATION = 546;
     private NotificationManager mNM;

     public void onCreate() {
        mNM.cancel(NOTIFICATION);
        setContentView(R.layout.activity_on);
        //Toast.makeText(this, "stopped service", Toast.LENGTH_SHORT).show();
    } 
```

我认为这段代码在被点击时会执行另一个类？

```
PendingIntent contentIntent = PendingIntent.getActivity(this, REQUEST_CODE, new Intent(this, ExpandNotification.class), 0); 
```

但是，通知不会消失，应用程序也不会启动。但是我可以向左或向右滑动以将其删除，但这不是我想要的..

* * *

## 回答 #1

> 赞同：117
> 
> 时间：2014-07-14T09:46:09.567

`Notification.Builder`使用或`NotificationCompat.Builder`调用`setAutoCancel(true)`Builder 实例获得相同的效果。

* * *

## 回答 #2

> 赞同：88
> 
> 时间：2012-10-19T11:07:51.210

使用标志`Notification.FLAG_AUTO_CANCEL`

```
Notification notification = new Notification(icon, tickerText, when);
notification.setLatestEventInfo(context, contentTitle, contentText, pendingIntent);

// Cancel the notification after its selected
notification.flags |= Notification.FLAG_AUTO_CANCEL; 
```

并启动应用程序：

```
NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);

// Create a new intent which will be fired if you click on the notification
Intent intent = new Intent(context, App.class);

// Attach the intent to a pending intent
PendingIntent pendingIntent = PendingIntent.getActivity(context, intent_id, intent, PendingIntent.FLAG_UPDATE_CURRENT); 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2015-11-27T11:00:50.060

这个答案太晚了，但我特别编写了以下解决方案，因为通知构造函数已被弃用，因此使用 builder 使用通知，如下所示：

```
 **.setAutoCancel(true)** is used to remove notification on click 
```

整个通知就像以下内容：

```
 private void makeNotification(String title,String msg){

    Intent resultIntent = new Intent(this, MasterActivity.class);

    PendingIntent resultPendingIntent =
            PendingIntent.getActivity(
                    this,
                    0,
                    resultIntent,
                    PendingIntent.FLAG_UPDATE_CURRENT
            );

    NotificationCompat.Builder mBuilder =
            new NotificationCompat.Builder(this)
                    .setContentIntent(resultPendingIntent)
                    .setSmallIcon(R.drawable.ic_launcher)
                    .setContentTitle(title)
                    .setAutoCancel(true)
                    .setContentText(msg);

    int mNotificationId = 001;
    NotificationManager mNotifyMgr =
            (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
    mNotifyMgr.notify(mNotificationId, mBuilder.build());

} 
```

使用标题和消息调用此方法，您将获得完美的通知。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-05-07T09:37:50.313

最好和简单的方法是设置`builder.setAutoCancel(true)`它在单击通知后取消您的通知。我希望这段代码对你有所帮助。

通知生成器

```
NotificationCompat.Builder builder = new NotificationCompat.Builder(this);
builder.setSmallIcon(android.R.drawable.btn_star);
builder.setContentTitle("This is title of notification");
builder.setContentText("This is a notification Text");
builder.setLargeIcon(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher)); 
```

在点击通知时打开一个活动

```
Intent intent = new Intent(Broadcastdemo.this, ThreadDemo.class);
PendingIntent pendingIntent = PendingIntent.getActivity(this, 113,intent, PendingIntent.FLAG_UPDATE_CURRENT);
builder.setContentIntent(pendingIntent);
builder.setAutoCancel(true); 
```

在通知中显示粗体

```
NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
manager.notify(114, builder.build()); 
```

显示带有图标、图像、标题、描述、自动取消和单击打开活动的通知的完整代码

```
public void ShowIntentNotification(View v)
    {
        NotificationCompat.Builder builder = new NotificationCompat.Builder(this);
        builder.setSmallIcon(android.R.drawable.btn_star);
        builder.setContentTitle("This is title of notification");
        builder.setContentText("This is a notification Text");
        builder.setLargeIcon(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher));

        Intent intent = new Intent(Broadcastdemo.this, ThreadDemo.class);
        PendingIntent pendingIntent = PendingIntent.getActivity(this, 113,intent, PendingIntent.FLAG_UPDATE_CURRENT);

        builder.setContentIntent(pendingIntent);
        builder.setAutoCancel(true);

        NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
        manager.notify(114, builder.build());

    } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-03-24T09:26:52.333

您可以直接`.setAutoCancel(true)`将此行添加到您的代码中，以删除点击通知。

这必须添加到您的构建器变量中。

例子：

```
mBuilder = new NotificationCompat.Builder(mContext);
mBuilder.setSmallIcon(R.mipmap.ic_launcher);
mBuilder.setContentTitle("Notification")
        .setContentText("Hello")
        .setSound(Settings.System.DEFAULT_NOTIFICATION_URI)
        .setAutoCancel(true)
        .setContentIntent(pendingIntent); 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2018-02-11T17:33:46.747

对我来说就是这样

```
.setPriority(Notification.PRIORITY_HIGH); 
```

这导致单击后通知不清除...确保您使用：

```
.setPriority(Notification.PRIORITY_DEFAULT); 
```

并且`.setAutoCancel(true)`应该工作。

# android - 如何自动从一个屏幕导航到另一个屏幕？

> ID：12972869
> 
> 赞同：-2
> 
> 时间：2012-10-19T11:03:02.780
> 
> 标签：android

> **可能重复：**
> [Android SplashScreen](https://stackoverflow.com/questions/1979524/android-splashscreen)

我是android应用程序开发的新手。

我使用 android sdk 开发了一个 android 应用程序。我在三星选项卡中安装 .apk 文件，它工作正常。

但是我的要求是在我的应用程序主页启动之前，我必须在一个屏幕上显示我的公司徽标，并且每隔 5 秒在另一个屏幕上显示我的应用程序标题，之后我的应用程序主页必须自动显示。

请帮助我前进。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T11:08:47.850

```
 startTime = System.currentTimeMillis();

     TimerTask enableTask = new TimerTask() {
     public void run() {
             handler.post(new Runnable() {
                     public void run() {
                      currenttime = System.currentTimeMillis();
             if(currenttime-startTime > 30000) {

             Intent intent = new Intent(Activity.this,
                    nextActivity.class);

            startActivity(intent);
             }
             else {

              go.setVisibility(View.GONE);
             }
                     }
            });
     }};

  Timer t = new Timer();
  t.schedule(enableTask,1000, 30000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:04:39.590

使用计时器。启动特定时间段的计时器。说 5 秒。计时器结束后，关闭显示公司徽标的第一个活动并开始第二个活动。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:07:45.853

在 Asynck Task 中使用 Thread.sleep() 作为：

```
private class splashAsync extends AsyncTask<Void, Void, Void>
{
        protected void onPreExecute(){

        }     
        protected Void doInBackground(Void... params) {
        try { 
            Thread.sleep(1000);

        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        return null;
        }
        protected void onPostExecute(Void v){
        startActivity(new Intent(Activity1.this,Activity2.class));
        finish();
        }
      } 
```

# javascript - Aptana“构建工作区”极慢

> ID：12972870
> 
> 赞同：16
> 
> 时间：2012-10-19T11:03:05.837
> 
> 标签：javascript, aptana

我正在本地服务器上运行一个相当大的 Web 应用程序（大约 1.5gb），我刚刚将该项目添加到 Aptana 中。它在添加后自动开始构建工作空间，并在遇到 Javascript 文件时开始急剧减速。

构建工作空间到底能做什么？如果它没有多大用处，有没有办法关闭它？扫描不同的 .js 文件时，它停留在 24% 的时间超过 15 分钟。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-10T16:07:57.147

我在这里有同样的问题。如果我想保存我的文件并且“构建项目”操作处于活动状态，Aptana 3 会卡住，我需要等到“构建项目”操作完成。

“构建项目”操作意味着将更新依赖项，并且自动完成功能（超过一个文件）可以使用最新的更改。例如：如果你添加一个带有 id="test" 的新 html 标签，如果 wokspace 被重建，自动完成功能会在任何相应的 css 文件中显示这个 id。

要关闭此功能，请访问首选项（Aptana Studio 3, build: **3.3.1.201212171919**）：General -> Workspace -> 'Build Atomatically' Checkbox

**更新：**

要关闭此功能，请访问首选项（Aptana Studio 3，构建：**3.4.1.201306062137**）：项目>“自动构建”复选框

我希望他们能提高此功能的性能！

玩得开心 ：）

# ios - 如何使用foursquare api在foursquare上添加新的特价商品

> ID：12972873
> 
> 赞同：0
> 
> 时间：2012-10-19T11:03:13.793
> 
> 标签：ios, foursquare

我正在尝试使用 [https://api.foursquare.com/v2/specials/add](https://api.foursquare.com/v2/specials/add)添加新的特价商品，但它总是响应错误的请求。这就是回应

错误域 = com.labratrevenge.HTTPRiot.ErrorDomain 代码 = 403 “禁止” UserInfo = 0x797dc90 {NSLocalizedFailureReason = 403 错误：，NSLocalizedDescription = 禁止，标题 = {类型 = 不可变字典，计数 = 10，条目 => 0：不区分大小写的键: Access-Control-Allow-Origin = {contents = "*"} 2: 不区分大小写键: Expires = {contents = "Fri, 19 Oct 2012 10:58:12 GMT"} 4: 不区分大小写键: Content-Type = {contents = "application/json; charset=utf-8"} 5：不区分大小写键：服务器 = {contents = "nginx/1.2.1"} 6：不区分大小写键：Content-Length = {contents = "125 "} 7：不区分大小写键：Connection = {contents = "keep-alive"} 8：不区分大小写键：日期 = {contents = "Fri, 19 Oct 2012 10:58:12 GMT"} 9：不区分大小写键：Cache-Control = {contents = "no-cache, private, no-store"} 10：不区分大小写键：Content-Encoding = {contents = "gzip"} 11：不区分大小写键：Pragma = {contents =“无缓存”} }

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T22:35:52.807

您似乎收到了 403 Forbidden 错误，这意味着您无权添加特价商品。您只能将特价添加到您是经理的场所。

# c# - 在 C# 中调整窗口大小时如何将对象保持在原位

> ID：12972874
> 
> 赞同：13
> 
> 时间：2012-10-19T11:03:14.847
> 
> 标签：c#, winforms, resize, window

调整窗口大小时，如何将窗口的对象（按钮、标签等）保持在中心？

目前，我在 Windows 窗体中有 3 个按钮。当我最大化窗口时，按钮停留在窗口的左上角。我希望它们像窗口未最大化时一样位于中心。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-10-19T11:08:20.097

您应该将对象的 Anchor 属性设置为**none**，

这将使其保持在中间。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-19T11:08:35.713

正确设置`Anchor`控件的属性。默认情况下，您的控件锚定到`Top,Left`. 如果您清除此属性（基本上是无锚），您的按钮将保持居中。

（看起来你想锚定到所有四个方面，但实际上这会调整你的按钮大小以填充表格！）

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-19T11:18:56.863

要保持布局固定并在中间，请执行以下操作：

1.  在您`Form`添加`TableLayoutPanel`.
2.  将其`Dock`属性设置为`Fill`.
3.  创建 3 行和 3 列。
4.  编辑行和列 - 为第一列和最后一列和行设置 50%。
5.  为中间行和列设置固定大小。
6.  在第 2 行和第 2 列放置`Panel`或您喜欢的任何其他内容。它将永远在中间。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T11:08:29.220

如果您正在使用 Visual Studio 的可视化设计器（而且您没有理由不这样做），那么您试图管理它们在表单中的放置方式的控件属性是“锚点”。默认情况下，当您创建新控件时，它设置为“左上角”，这意味着它们将保持在表单左上角的固定位置。您可以更改它以将它们锚定到任何东西上。

您还可以通过覆盖表单的 Resize 方法来禁用锚点并控制它们的位置。

# actionscript-3 - Adobe flex 中的变形文本

> ID：12972875
> 
> 赞同：0
> 
> 时间：2012-10-19T11:03:19.217
> 
> 标签：actionscript-3, flash, apache-flex, flex4, photoshop

我找不到为 Adob​​e Flex 提供变形文本功能的解决方案。我喜欢将 Photoshop 中的 Warp 文本放在 Adob​​e flex 中。

![扭曲文本](../Images/21ba85f900b1635289fb9a5103f6b75d.png)

# javascript - is(:visible) 选择器不适用于 jQuery 类

> ID：12972879
> 
> 赞同：2
> 
> 时间：2012-10-19T11:03:47.040
> 
> 标签：javascript, jquery, html

不知道如何解释这一点，我做了一个我正在尝试做的事情：http: [//jsfiddle.net/x2btM/9/](http://jsfiddle.net/x2btM/9/)

这是我的代码： HTML：

```
<div id="ZodOneDragBox">
    <div id="aquariusSelectedComp1" class="killSelectedComp1" style="display:none;">
        <img src="some.jpg">
    </div>
</div>

<div id="ZodTwoDragBox">
    <div id="aquariusSelectedComp2" class="killSelectedComp2" style="display:none;">
        <img src="some.jpg" width="45" height="45">
    </div>
</div>

<div id="aquariusIcnClick" class="iconClicker">
        <img src="some_Icon.jpg" width="45" height="45">
</div> 
```

这是我的jQuery：

```
if ($('.killSelectedComp1').is(':visible')) {
    //--SELECT BOX TWO
    $('#aquariusIcnClick').click(function() {
        $('.killSelectedComp2').hide();
        $('#aquariusSelectedComp2').show();
    });

}
else {
    //--SELECT BOX ONE
    $('#aquariusIcnClick').click(function() {
        $('.killSelectedComp1').hide();
        $('#aquariusSelectedComp1').show();
    });

}​ 
```

基本上当你点击`aquariusIcnClick`图片`aquariusSelectedComp1`时会出现在 div 中`ZodOneDragBox`。`aquariusSelectedComp1`类`killSelectedComp1`现在可见，因此当您再次单击该图标`aquariusIcnClick`时，图像应出现在`ZodTwoDragBox`. 它适用于第一个框，但选择器没有读取具有相应类的图像当前可见，因此执行`if`语句中的内容并在第二个框中显示图像。希望我解释得足够好，再一次，这是我的小提琴：

[http://jsfiddle.net/x2btM/9/](http://jsfiddle.net/x2btM/9/)

不知道我做错了什么，我用谷歌搜索以确保我`:visible`正确使用了选择器，非常感谢所有帮助。谢谢你</p>

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-19T11:06:43.310

您不需要绑定您对 div 条件的点击，而是检查您的 div 可见性 onclick

```
 $('#aquariusIcnClick').click(function() {
         if ($('.killSelectedComp1').is(':visible')) {       
           $('.killSelectedComp2').hide();
           $('#aquariusSelectedComp2').show();
         }
         else
         {
           $('.killSelectedComp1').hide();
           $('#aquariusSelectedComp1').show();
         }
    }); 
```

[现场演示](http://jsfiddle.net/x2btM/10/) ​</p>

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T11:07:24.977

您的代码仅在页面加载/或 dom 准备好时执行一次。这意味着您`if statement`只测试了一次。您需要修改代码，以便 if 语句出现在 click 处理程序中。这意味着`killSelectedComp1`每次点击发生时都会测试 的可见性，然后您可以决定要做什么。

正如@rahul 所做的那样；）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-19T11:07:40.330

不要绑定事件条件，而是将条件放入事件中

**[现场演示](http://jsfiddle.net/x2btM/11/)**

```
$('#aquariusIcnClick').click(function() {
    if ($('.killSelectedComp1').is(':visible')) {
        $('.killSelectedComp2').hide();
        $('#aquariusSelectedComp2').show();
    }
    else {
        $('.killSelectedComp1').hide();
        $('#aquariusSelectedComp1').show();
    }
});​ 
```

# clang++ - clang++：C++ 需要一个类型说明符

> ID：12972881
> 
> 赞同：1
> 
> 时间：2012-10-19T11:03:55.293
> 
> 标签：clang++

我无法通过 clang++ 克服这个“C++ 需要所有声明的类型说明符”问题请建议使用 clang++ 克服这个错误。我非常感谢你看它

```
:>clang++ --version
clang version 3.1 (tags/RELEASE_31/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix

:>cat f.cpp
main(int argc, char** argv)
{
int A;
}

:> clang++ f.cpp
f.cpp:1:1: error: C++ requires a type specifier for all declarations
main(int argc, char** argv)
^~~~
1 error generated.

:> clang++ f.cpp -std=gnu++98
f.cpp:1:1: error: C++ requires a type specifier for all declarations
main(int argc, char** argv)
^~~~
1 error generated.

:> clang++ f.cpp -std=c++11
f.cpp:1:1: error: C++ requires a type specifier for all declarations
main(int argc, char** argv)
^~~~
1 error generated.

:> clang++ f.cpp -std=c++0x
f.cpp:1:1: error: C++ requires a type specifier for all declarations
main(int argc, char** argv)
^~~~
1 error generated. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-02T16:55:54.843

您正在调用 C++ 编译器 (clang++)。在 c++ 中，没有 main 的返回类型是非法的。如果它是一个 C 程序，那就没问题了。

使用 clang -xc f.cpp

在这种情况下，这只会发出警告。

如果您想摆脱警告，请执行 clang -Wimplicit-int -xc f.cpp

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:09:30.873

您需要指定主函数的返回类型！

```
int main(int argc, char** argv)
{
    int A;
} 
```

# asp.net - 图像缩略图和调整大小

> ID：12972885
> 
> 赞同：1
> 
> 时间：2012-10-19T11:04:35.667
> 
> 标签：asp.net

我有一个图片调整大小和图片缩略图工作正常的代码，但它只支持 3MB 的最大文件大小。我想将文件大小限制增加到至少 10 到 12MB。任何人都可以为我做吗？谢谢

```
 using System;
   using System.Data;
   using System.Configuration;
   using System.Web;
   using System.Web.Security;
   using System.Web.UI;
   using System.Web.UI.WebControls;
   using System.Web.UI.WebControls.WebParts;
   using System.Web.UI.HtmlControls;

   public partial class _Default : System.Web.UI.Page 
   {
    protected void Page_Load(object sender, EventArgs e)
     {
   }

     protected void Upload_Click(object sender, EventArgs e)

    {

   if (FileUpload1.HasFile)

    {

        FileUpload1.SaveAs(MapPath("Image/" + FileUpload1.FileName));

        System.Drawing.Image img1 = System.Drawing.Image.FromFile(MapPath("image/") + FileUpload1.FileName);      

        System.Drawing.Image bmp1 = img1.GetThumbnailImage(50, 50, null, IntPtr.Zero);

        bmp1.Save(MapPath("thumbnail/S/") + FileUpload1.FileName);

        System.Drawing.Image bmp2 = img1.GetThumbnailImage(100, 100, null, IntPtr.Zero);

        bmp2.Save(MapPath("thumbnail/L/") + FileUpload1.FileName);

        NormalImage.ImageUrl = "Image/" + FileUpload1.FileName;
        ThumbnailImageS.ImageUrl = "thumbnail/S/" + FileUpload1.FileName;
        ThumbnailImageM.ImageUrl = "thumbnail/L/" + FileUpload1.FileName;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:12:46.943

[检查最大请求长度](http://msdn.microsoft.com/en-us/library/e1f13641%28v=vs.71%29.aspx)

> 指示 ASP.NET 支持的最大文件上传大小。此限制可用于防止因用户向服务器发布大文件而导致的拒绝服务攻击。指定的大小以千字节为单位。默认值为 4096 KB (4 MB)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:20:16.163

您可以从 web.config 文件中设置文件的最大长度。试试这个代码：

```
<configuration>
...
<system.web>

<httpRuntime maxRequestLength="102400" executionTimeout="3600" />
...
</system.web>
</configuration> 
```

# r - R防止“for”循环反向迭代

> ID：12972890
> 
> 赞同：3
> 
> 时间：2012-10-19T11:04:58.427
> 
> 标签：r, for-loop, iteration

考虑下面的代码：

```
foo = list("First List", 1, 2, 3)
bar = function(x) {
    cat("The list name is:", x[[1]], "\nThe items are:\n")
    for (i in 2:length(x))
        cat(x[[i]], "\n")
}
bar(foo) 
```

结果将是：

```
The list name is: First List 
The items are:
1 
2 
3 
```

现在考虑传递一个没有项目但有名称的列表：

```
baz = list("Second List")
bar(baz) 
```

结果将是：

```
The list name is: Second List 
The items are:
Error in x[[i]] : subscript out of bounds 
```

错误是因为`2:length(x)`会`c(2, 1)`为后一种情况产生一个序列`bar(baz)`，所以它尝试访问`baz[2]`并且它不存在。

如何`for`在 R 的循环中简单地防止这种不需要的反向迭代？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-19T11:10:15.463

这`seq_along`有助于：

```
bar <- function(x) {
  cat("The list name is:", x[[1]], "\nThe items are:\n")
  for (i in seq_along(x[-1])) cat(x[[i+1]], "\n")   ### Edit ###
} 
```

结果：

```
bar(foo)
The list name is: First List 
The items are:
First List 
1 
2 
3 

bar(baz)
The list name is: Second List 
The items are:
Second List 
```

* * *

当然，最好不要使用`for`循环，而是`lapply`或家庭：

```
bar <- function(x) {
  cat("The list name is:", x[[1]], "\nThe items are:\n")
  lapply(x[-1],  function(xx)cat(xx, "\n"))
  invisible(NULL)
}

bar(foo)
The list name is: First List 
The items are:
1 
2 
3 

bar(baz)
The list name is: Second List 
The items are: 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-19T11:11:17.910

无需遍历列表索引，您只需遍历子列表即可：

```
> bar = function(x) {
+     cat("The list name is:", x[[1]], "\nThe items are:\n")
+     for (i in x[-1])
+         cat(i, "\n")
+ } 
```

如果列表中有单个项目，则子列表将为空，并且将跳过 for 循环。

编辑：正如 GavinSimpson 指出的那样，这很有效，因为您的特定情况并不需要遍历索引。如果绝对需要索引，那么您将不得不循环`seq_along(x[-1])`而不是`x[-1]`像 Andrie 显示的那样。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-19T11:14:03.703

我认为正确的答案是：对您的函数进行输入验证。而不是创建意大利面条代码来“解决”这种行为，而是测试您的输入变量的长度，或检查`typeof`每个元素等。

在您的示例中，一个简单的 `if (length(x)<2) #skip the loop section of code`就足够了。

# android - ExpandableListView 的 ScrollView 和 RelativeLayout 滚动问题

> ID：12972891
> 
> 赞同：2
> 
> 时间：2012-10-19T11:05:00.203
> 
> 标签：android, scrollview, android-relativelayout, expandablelistview

我有下面的布局，它显示了联系方式，还有一个可扩展的列表。但问题是可扩展列表视图是固定的，但我已经给它 fill_parent 作为高度，所以它必须采用可用的全高。滚动视图也仅应用于列表而不是整个布局。如果有人有任何想法，请帮助我。

```
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads"
    android:id="@+id/scroll"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="#FFFFFF"
    android:scrollbars="vertical|horizontal" >

    <RelativeLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
         >

        <RelativeLayout
            android:id="@+id/vsHeader"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/header" >

            <Button
                android:id="@+id/btnHome"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerVertical="true"
                android:background="@drawable/home"
                android:onClick="btnHomeClick" />
        </RelativeLayout>

        <RelativeLayout
            android:id="@+id/contactheader"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_below="@id/vsHeader"
            android:padding="5dip" >

            <TextView
                android:id="@+id/txtContactName"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginBottom="5dip"
                android:text="Hello Taxi"
                android:textColor="@color/autoText"
                android:textSize="@dimen/text_size_large"
                android:textStyle="bold" />

            <ImageView
                android:id="@+id/img_address"
                android:layout_width="25dip"
                android:layout_height="25dip"
                android:layout_below="@id/txtContactName"
                android:layout_marginBottom="5dip"
                android:contentDescription="@string/content_description"
                android:src="@drawable/address" />

            <TextView
                android:id="@+id/txt_Address"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_below="@id/txtContactName"
                android:layout_marginBottom="15dip"
                android:layout_marginLeft="15dip"
                android:layout_toRightOf="@+id/img_address"
                android:maxLines="5"
                android:singleLine="false"
                android:textColor="@color/autoText" />

            <ImageView
                android:id="@+id/img_phone"
                android:layout_width="25dip"
                android:layout_height="25dip"
                android:layout_below="@id/txt_Address"
                android:layout_marginBottom="5dip"
                android:contentDescription="@string/content_description"
                android:src="@drawable/contact_no" />

            <TextView
                android:id="@+id/txtPhone"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_below="@id/txt_Address"
                android:layout_marginBottom="15dip"
                android:layout_marginLeft="15dip"
                android:layout_toRightOf="@id/img_phone"
                android:textColor="@color/autoText" />

            <ImageView
                android:id="@+id/img_mobile"
                android:layout_width="25dip"
                android:layout_height="25dip"
                android:layout_below="@id/txtPhone"
                android:layout_marginBottom="5dip"
                android:contentDescription="@string/content_description"
                android:src="@drawable/mobile" />

            <TextView
                android:id="@+id/txtmobilenumber"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_below="@id/txtPhone"
                android:layout_marginBottom="15dip"
                android:layout_marginLeft="15dip"
                android:layout_toRightOf="@id/img_mobile"
                android:textColor="@color/autoText" />

            <ImageView
                android:id="@+id/img_web"
                android:layout_width="25dip"
                android:layout_height="25dip"
                android:layout_below="@id/txtmobilenumber"
                android:layout_marginBottom="5dip"
                android:contentDescription="@string/content_description"
                android:src="@drawable/www" />

            <TextView
                android:id="@+id/txtweb"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_below="@id/txtmobilenumber"
                android:layout_marginBottom="15dip"
                android:layout_marginLeft="15dip"
                android:layout_toRightOf="@id/img_web"
                android:textColor="@color/autoText" />

            <ImageView
                android:id="@+id/img_email"
                android:layout_width="25dip"
                android:layout_height="25dip"
                android:layout_below="@id/txtweb"
                android:layout_marginBottom="15dip"
                android:contentDescription="@string/content_description"
                android:src="@drawable/mail" />

            <TextView
                android:id="@+id/txtemail"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_below="@id/txtweb"
                android:layout_marginBottom="15dip"
                android:layout_marginLeft="15dip"
                android:layout_toRightOf="@id/img_email"
                android:textColor="@color/autoText" />

            <Button
                android:id="@+id/btn_rate_it"
                android:layout_width="150dip"
                android:layout_height="wrap_content"
                android:layout_below="@id/img_email"
                android:layout_centerHorizontal="true"
                android:background="@drawable/greenbutton"
                android:text="@string/rate_it"
                android:textColor="#ffffff" />
        </RelativeLayout>

        <ExpandableListView
            android:id="@+id/expandable_list"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_below="@id/contactheader"
            android:layout_marginTop="10dip"
            android:groupIndicator="@drawable/group_indicator" />
    </RelativeLayout>

</ScrollView> 
```

**IMAGE :- 您可以看到只有列表视图具有滚动功能，因此当您滚动 UI 时会变得有些难看。我不想这样做。我想要整个布局滚动。**

![在此处输入图像描述](../Images/b4dee6a6f0a4575658938893b1a240d2.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-27T17:22:00.413

我知道为时已晚，但我为遇到此问题的其他人写了。问题是当您在 Scrollview 中使用 ExpandableListView 时 ExpandableListView 高度未正确定义。所以我以编程方式计算高度，如下所示：

```
//for converting dp to pixel
final float scale = getApplicationContext().getResources().getDisplayMetrics().density;
//when all the headers are Collapse
expListView.getLayoutParams().height=listDataHeader.size()*(int) (43 * scale + 0.5f);

expListView.setOnGroupExpandListener(new OnGroupExpandListener() {

                @Override
                public void onGroupExpand(int groupPosition) {

                    expListView.getLayoutParams().height+=listDataChild.get(listDataHeader.get(groupPosition)).size()*(int) (34 * scale + 0.5f);

                }
            });

            // Listview Group collasped listener
            expListView.setOnGroupCollapseListener(new OnGroupCollapseListener() {

                @Override
                public void onGroupCollapse(int groupPosition) {
                    expListView.getLayoutParams().height-=listDataChild.get(listDataHeader.get(groupPosition)).size()*(int) (34 * scale + 0.5f);

                }
            }); 
```

# android - 如何使用 Content Providers 在另一个应用程序中访问一个应用程序的数据

> ID：12972906
> 
> 赞同：1
> 
> 时间：2012-10-19T11:06:16.963
> 
> 标签：android

我有两个应用程序 A 和 B，在应用程序 A 中假设我正在使用 ipdetails.db 文件并将 IP 地址保存在 iptable 中。

在应用程序 A 中，我使用 Content Resolver（我使用了 Content Provider 的某些示例中提供的所有方法）和其他类来访问数据。

现在我的问题是在应用程序 B 中，我有一些带有一些表的 transaction.db 文件，我如何使用内容提供程序从应用程序 A 获取 ip 详细信息。

从具有相同应用程序的内容提供商获取数据我成功了如何在另一个应用程序中访问一个应用程序的数据。

我正在等待您的宝贵意见...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:51:59.280

**项目一：**

*AndroidManifest.xml：*

```
 <activity 
        android:name=".ProjectTwoActivity" 
        android:label="@string/app_name" > 
        <intent-filter> 
            <action android:name="com.zetsin.test.MYACTION" /> 
            <data android:scheme="info"/> 
            <category android:name="android.intent.category.DEFAULT" /> 
        </intent-filter> 
    </activity> 
```

和*MainActivityInProjectOne.java*

```
 // getIntent().getData() is get the url form ProjectTwo
    if (getIntent().getData() != null) { 
        // get the data passed from ProjectTwo
        String value = getIntent().getExtras().getString("value");
    } 
```

**项目二：**

*MainActivityInProjectTwo.java*

```
 // start the activity in ProjectOne by Action and URI, then pass the data.
    Uri uri = Uri.parse("info://test"); 
    Intent invokeIntent = new Intent("com.zetsin.test.MYACTION",uri); 
    invokeIntent.putExtra("value", "Data from project Two"); 
    startActivity(invokeIntent); 
```

# android - 三星 Galaxy S3 拼写检查器

> ID：12972908
> 
> 赞同：1
> 
> 时间：2012-10-19T11:06:23.053
> 
> 标签：android, galaxy, samsung-mobile, spelling

一位用户报告说，当他在三星 Galaxy S3 上启用拼写检查时，他无法对我的应用执行某些操作。

我已经要求更多的用户这样做，而且它只发生在三星 Galaxy S3 上。

有没有办法解决这个问题？SGS3 拼写检查器与其他拼写检查器有什么不同？

# java - 为什么和什么是多态泛型类型

> ID：12972910
> 
> 赞同：7
> 
> 时间：2012-10-19T11:06:33.370
> 
> 标签：java, generics

什么时候应该使用像这样的泛型多态类型，它的含义是什么？

```
 1\. List<? super Dog> list = new ArrayList<Animal>();
 2\. List<? extends Animal> list = new ArrayList<Dog>();
 3\. List<?> list = new ArrayList<Dog>(); 
```

有人会使用类似的东西吗

```
List<? super Dog> list = new ArrayList<Dog>();
List<? extends Animal> list = new ArrayList<Animal>(); 
```

注意：我理解人们何时使用`List<? super Dog>`或`List<? extends Animal>`在方法定义中。但我不明白的是多态泛型类型对象的创建。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-19T11:47:51.620

其原因是基于 Java 如何实现泛型。

**数组示例**

使用数组，您可以做到这一点（数组是协变的）

```
Integer[] myInts = {1,2,3,4};
Number[] myNumber = myInts; 
```

但是，如果你尝试这样做会发生什么？

```
Number[0] = 3.14; //attempt of heap pollution 
```

最后一行可以编译得很好，但是如果你运行这段代码，你可以得到一个`ArrayStoreException`. 因为您试图将双精度数放入整数数组（无论通过数字引用访问）。

这意味着你可以欺骗编译器，但不能欺骗运行时类型系统。之所以如此，是因为数组就是我们所说*的可具体化类型*。这意味着在运行时 Java 知道这个数组实际上被实例化为一个整数数组，它恰好是通过 type 的引用访问的`Number[]`。

所以，如您所见，一件事是对象的实际类型，另一件事是您用来访问它的引用的类型，对吧？

**Java泛型的问题**

现在，Java 泛型类型的问题是类型信息被编译器丢弃并且在运行时不可用。这个过程称为[类型擦除](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.6)。在 Java 中实现这样的泛型是有充分理由的，但这是一个很长的故事，它与与预先存在的代码的二进制兼容性有关。

但这里重要的一点是，由于在运行时没有类型信息，因此无法确保我们没有造成堆污染。

例如，

```
List<Integer> myInts = new ArrayList<Integer>();
myInts.add(1);
myInts.add(2);

List<Number> myNums = myInts; //compiler error
myNums.add(3.14); //heap polution 
```

如果 Java 编译器没有阻止你这样做，那么运行时类型系统也不能阻止你，因为在运行时没有办法确定这个列表应该只是一个整数列表。Java 运行时将允许您将任何您想要的内容放入此列表中，但它应该只包含整数，因为在创建它时，它被声明为整数列表。

因此，Java 的设计者确保您不能欺骗编译器。如果你不能欺骗编译器（就像我们可以用数组做的那样），你也不能欺骗运行时类型系统。

因此，我们说泛型类型是*不可具体化的*。

显然，这会妨碍多态性。考虑以下示例：

```
static long sum(Number[] numbers) {
   long summation = 0;
   for(Number number : numbers) {
      summation += number.longValue();
   }
   return summation;
} 
```

现在你可以像这样使用它：

```
Integer[] myInts = {1,2,3,4,5};
Long[] myLongs = {1L, 2L, 3L, 4L, 5L};
Double[] myDoubles = {1.0, 2.0, 3.0, 4.0, 5.0};

System.out.println(sum(myInts));
System.out.println(sum(myLongs));
System.out.println(sum(myDoubles)); 
```

但是如果你试图用泛型集合实现相同的代码，你将不会成功：

```
static long sum(List<Number> numbers) {
   long summation = 0;
   for(Number number : numbers) {
      summation += number.longValue();
   }
   return summation;
} 
```

如果您尝试这样做，您会得到编译器错误...

```
List<Integer> myInts = asList(1,2,3,4,5);
List<Long> myLongs = asList(1L, 2L, 3L, 4L, 5L);
List<Double> myDoubles = asList(1.0, 2.0, 3.0, 4.0, 5.0);

System.out.println(sum(myInts)); //compiler error
System.out.println(sum(myLongs)); //compiler error
System.out.println(sum(myDoubles)); //compiler error 
```

解决方案是学习使用 Java 泛型的两个强大特性，即协变和逆变。

**协方差**

使用协方差，您可以从结构中读取项目，但不能向其中写入任何内容。所有这些都是有效的声明。

```
List<? extends Number> myNums = new ArrayList<Integer>();
List<? extends Number> myNums = new ArrayList<Float>()
List<? extends Number> myNums = new ArrayList<Double>() 
```

你可以阅读`myNums`：

```
Number n = myNums.get(0); 
```

因为您可以确定无论实际列表包含什么，它都可以向上转换为一个数字（毕竟任何扩展 Number 的东西都是一个数字，对吗？）

但是，不允许将任何内容放入协变结构中。

```
myNumst.add(45L); //compiler error 
```

这是不允许的，因为 Java 无法保证泛型结构中对象的实际类型。它可以是任何扩展 Number 的东西，但编译器不能确定。所以你可以读，但不能写。

**逆变**

使用逆变器，您可以做相反的事情。您可以将事物放入通用结构中，但无法从中读出。

```
List<Object> myObjs = new List<Object();
myObjs.add("Luke");
myObjs.add("Obi-wan");

List<? super Number> myNums = myObjs;
myNums.add(10);
myNums.add(3.14); 
```

在这种情况下，对象的实际性质是一个对象列表，通过逆变，你可以将数字放入其中，基本上是因为所有数字都有对象作为它们的共同祖先。因此，所有数字都是对象，因此这是有效的。

然而，假设你会得到一个数字，你就不能安全地从这个逆变结构中读取任何内容。

```
Number myNum = myNums.get(0); //compiler-error 
```

如您所见，如果编译器允许您编写此行，您将在运行时收到 ClassCastException。

**获取/放置原则**

因此，当您只打算将泛型值从结构中取出时使用协变，当您只打算将泛型值放入结构中时使用逆变，当您打算同时使用两者时使用精确的泛型类型。

我拥有的最好的例子是以下将任何类型的数字从一个列表复制到另一个列表。它只从源头*获取*物品，它只*将*物品放在命运中。

```
public static void copy(List<? extends Number> source, List<? super Number> destiny) {
    for(Number number : source) {
        destiny.add(number);
    }
} 
```

由于协变和逆变的力量，这适用于这样的情况：

```
List<Integer> myInts = asList(1,2,3,4);
List<Double> myDoubles = asList(3.14, 6.28);
List<Object> myObjs = new ArrayList<Object>();

copy(myInts, myObjs);
copy(myDoubles, myObjs); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:15:53.417

他们会使用：

1.  如果他们需要一个超类的对象列表`Dog`。比如`Animal`，例如。

2.  如果他们需要一个动物对象列表（的子类`Animal`）。比如`Dog`，例如。

3.  如果他们需要一个对象列表，句号。例如，这可能是一个狗列表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:18:14.980

看看这个可能对你有帮助。

1.  [是`List<Dog>`的子类`List<Animal>`吗？为什么 Java 的泛型不是隐式多态的？](https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-arent-javas-generics-implicit)
2.  [泛型](http://docs.oracle.com/javase/1.5.0/docs/guide/language/generics.html)

# servlets - servlet的通配符路径？

> ID：12972914
> 
> 赞同：11
> 
> 时间：2012-10-19T11:07:02.093
> 
> 标签：servlets, wildcard, url-pattern, path-parameter

有一个`@WebServlet(urlPatterns = "/myServlet/")`. 如果用户转到`myapp/myServlet/other`，我仍然希望我的 servlet 能够捕获。可以这么说，通配符在 servlet 路径之后的任何内容。我怎么能这样做？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-10-19T11:09:03.107

您可以`*`用作前缀或后缀通配符。在您的情况下，您可以使用`/myServlet/*`文件夹映射。

```
@WebServlet("/myServlet/*") 
```

路径信息（URL 中映射后的部分）在 servlet 中，可以通过以下方式获得：

```
String pathInfo = request.getPathInfo(); 
```

这将在`myapp/myServlet/other`return的情况下`/other`。

### 也可以看看：

*   [Servlet 和 /xyz/{value}/test 等路径参数，如何映射到 web.xml 中？](https://stackoverflow.com/questions/8715474/servlet-and-path-parameters-like-xyz-value-test-how-to-map-in-web-xml/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:10:20.140

使用“/myServlet/*”作为您的 servlet 映射。

# c# - 在单独的 dll WPF 中设置资源

> ID：12972915
> 
> 赞同：2
> 
> 时间：2012-10-19T11:07:05.710
> 
> 标签：c#, wpf, .net-assembly, resourcedictionary

我想在一个独立的 dll 中包含一组样式，可以从许多不同的 WOF 类中引用这些样式来定义常见的样式。

我已经创建了独立的 dll 并尝试引用它，但遇到了问题。

这是独立dll的代码：

```
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

        <Style x:Key="myStyle" TargetType="Button">
            <Setter Property="Background" Value="Orange" />
            <Setter Property="FontStyle" Value="Italic" />
            <Setter Property="Padding" Value="8,4" />
            <Setter Property="Margin" Value="4" />
        </Style>

    <!-- store here your styles -->
</ResourceDictionary> 
```

这是我试图引用它的地方：

```
<src:GX3ClientPlugin.Resources>
    <ResourceDictionary Source="pack://application:,,,/GX3StyleResources.dll;component/GX3StyleResources.xaml" />
</src:GX3ClientPlugin.Resources> 
```

运行时出现以下异常：

> *无法加载文件或程序集“GX3StyleResources.dll，Culture=neutral”或其依赖项之一。该系统找不到指定的文件。*

有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T11:34:07.637

我在我的一些项目中做同样的事情，我所做的是将 dll 作为引用添加到我的项目中，然后我使用 pack Uri 但我没有指定扩展名 .dll。我只使用程序集名称（通常没有 .dll）

```
Source="pack://application:,,,/GX3StyleResources;component/GX3StyleResources.xaml" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:25:47.533

我之前也遇到过这个问题。如果您从未在实际的 C# 代码中实际引用该程序集中的任何内容，有时（我一生无法确定的标准）编译器/运行时/两者的某种组合不会加载或复制您的程序集。

将一个类添加到您的资源程序集文件中，该类执行 SOMETHING / 任何事情 - 不要将其留空，否则在某些情况下它会被优化掉：

```
public static class Resources
{
    public static void Init()
    {
        Console.Write(string.Empty);
    }
} 
```

然后，在您的应用程序中，先在您的 App 启动方法中调用 Resources.Init()，然后再进行其他任何操作，以确保加载资源程序集。

这是一个肮脏肮脏的黑客，但它有效。

# iphone - 在 iPhone 中构建 Soaprequest

> ID：12972916
> 
> 赞同：0
> 
> 时间：2012-10-19T11:07:07.900
> 
> 标签：iphone, soap, request

所以我的问题是我需要构建带有多个对象的大型肥皂请求。我的请求取决于用户输入，这意味着有时他甚至可以在其中添加 10 个复杂对象。所以构建一个字符串接缝有点困难。有没有其他方法可以做到这一点？我正在用 android 构建相同的东西，并且有一种将对象添加到请求中的简单方法。

我知道构建字符串并不难，但为什么没有更多用户友好的解决方案呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:40:51.633

我强烈建议通过转到您正在使用的网站的 SOAP api 并获取 API 的 WSDL 来使用[SudzC](http://sudzc.com/)，然后该网站将创建一个 Zip 文件，其中包含将肥皂服务实现到应用程序中所需的所有代码。我已经使用了几次，通常可以节省很多时间。

实现后调用可以使用：

```
Service *mySoapService;
SoapRequest *request;

    mySoapService = [[Service alloc]init];
    mySoapService = [Service service];
    [mySoapService setDefaultHandler:self];

request =  [mySoapService LoginWithPostedDateEx1:self  action:@selector(handleFind:) Username:userName Password:passWord LoginDt:loginDateString LoggedIn:TRUE PostedDt:loginDateString DeviceCaps:@"iPhone 4"]; 
```

该网站将制作所需的文件和方法，您只需添加文件夹、标题、创建服务实例然后创建请求。

在上面的长请求中，您可以看到`LoginWithPostedDateEx1`实际上是您将手动构建的 SOAP 调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T12:39:55.567

它似乎唯一的方法就是构建一个完整的字符串。经过一番尝试，我发现这很容易......

# jquery - 简单的 jQuery.Gantt 宽度和高度调整

> ID：12972917
> 
> 赞同：0
> 
> 时间：2012-10-19T11:07:13.560
> 
> 标签：jquery, css, gantt-chart

我正在使用来自该站点[http://mbielnczuk.com/2011/06/jquery-gantt-chart/](http://mbielanczuk.com/2011/06/jquery-gantt-chart/)的 jQuery 插件。

除了宽度和高度有问题外，我能够实现它。示例：[http ://www.txtease.com/android/push/login/schedule/mbielan/index.htm](http://www.txtease.com/android/push/login/schedule/mbielan/index.htm)

从链接中，您可以看到图表没有填满屏幕。您是否熟悉使用 jQuery.Gantt 并且知道要针对哪个元素来调整宽度和高度？

1.  我已将“itemsperpage”参数设置为 17。
2.  根据我的调查，图表的宽度似乎是基于高度的。该数字被划分为分页。

3.  我在 css 中的图表周围放置了宽度和高度样式。只有高度调整为800px。宽度保持不变

甘特图 </script-->

```
 <link rel="stylesheet" href="style.css" type="text/css" media="screen" />
    <script type="text/javascript">

jQuery(function () {
var dataPath = location.href.substring(0, location.href.lastIndexOf('/')+1);
$(".gantt2").gantt({source: dataPath + "js/dataHours.js", navigate: 'scroll', scale: 'hours', maxScale: 'hours', minScale: 'hours', hollydays: ["\/Date(1293836400000)\/","\/Date(1294268400000)\/","\/Date(1303596000000)\/","\/Date(1306274400000)\/","\/Date(1304200800000)\/","\/Date(1304373600000)\/","\/Date(1307829600000)\/","\/Date(1308780000000)\/","\/Date(1313359200000)\/","\/Date(1320105600000)\/","\/Date(1320966000000)\/","\/Date(1324767600000)\/","\/Date(1324854000000)\/","\/Date(1325372400000)\/","\/Date(1325804400000)\/","\/Date(1333836000000)\/","\/Date(1336514400000)\/","\/Date(1335823200000)\/","\/Date(1335996000000)\/","\/Date(1338069600000)\/","\/Date(1339020000000)\/","\/Date(1344981600000)\/","\/Date(1351724400000)\/","\/Date(1352588400000)\/","\/Date(1356390000000)\/","\/Date(1356476400000)\/"]});
//$(".gantt").gantt({source: dataPath + "js/dataDays.js", navigate: 'scroll', scale: 'days', maxScale: 'weeks', minScale: 'days', hollydays: ["\/Date(1293836400000)\/","\/Date(1294268400000)\/","\/Date(1303596000000)\/","\/Date(1306274400000)\/","\/Date(1304200800000)\/","\/Date(1304373600000)\/","\/Date(1307829600000)\/","\/Date(1308780000000)\/","\/Date(1313359200000)\/","\/Date(1320105600000)\/","\/Date(1320966000000)\/","\/Date(1324767600000)\/","\/Date(1324854000000)\/","\/Date(1325372400000)\/","\/Date(1325804400000)\/","\/Date(1333836000000)\/","\/Date(1336514400000)\/","\/Date(1335823200000)\/","\/Date(1335996000000)\/","\/Date(1338069600000)\/","\/Date(1339020000000)\/","\/Date(1344981600000)\/","\/Date(1351724400000)\/","\/Date(1352588400000)\/","\/Date(1356390000000)\/","\/Date(1356476400000)\/"]});
//$(".gantt").gantt({
// source: [{"name":"application","desc":"LÃ¼beck","values":[{"from":"/Date(1293874598708)/","to":"/Date(1354268198708)/","desc":"ID: 10<br/>name: CRM<br/>date: 01.01.2011 to 30.11.2012<br/>description: CRM 4.0", "label":"CRM","customClass":"ganttGreen"}]}],
// navigate: 'scroll', scale: 'days', hollydays: ["\/Date(1293836400000)\/","\/Date(1294268400000)\/","\/Date(1303596000000)\/","\/Date(1306274400000)\/","\/Date(1304200800000)\/","\/Date(1304373600000)\/","\/Date(1307829600000)\/","\/Date(1308780000000)\/","\/Date(1313359200000)\/","\/Date(1320105600000)\/","\/Date(1320966000000)\/","\/Date(1324767600000)\/","\/Date(1324854000000)\/","\/Date(1325372400000)\/","\/Date(1325804400000)\/","\/Date(1333836000000)\/","\/Date(1336514400000)\/","\/Date(1335823200000)\/","\/Date(1335996000000)\/","\/Date(1338069600000)\/","\/Date(1339020000000)\/","\/Date(1344981600000)\/","\/Date(1351724400000)\/","\/Date(1352588400000)\/","\/Date(1356390000000)\/","\/Date(1356476400000)\/"]});

});

    </script>
</head>
<body>

 <div class="gantt2" style="width: 800px,height: 800px"></div>
</body> 
```

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T16:21:43.797

插件附带了一个默认的 style.css。我已经改变了这个并且它有效

```
.gantt {
    width: 800px;
    height: 800px;
    margin: 20px auto;
    border: 15px solid #ddd;
    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    border-radius: 5px;  
} 
```

# java - 为什么 park/unpark 有 60% 的 CPU 使用率？

> ID：12972918
> 
> 赞同：8
> 
> 时间：2012-10-19T11:07:22.163
> 
> 标签：java, profiling, yourkit

最近我们开始使用 YJP 11.0.9 对我们的应用程序（基于 XMPP 的聊天服务器）进行压力测试。在我们的测试中，我们注意到以下奇怪的行为。

1.  采样显示 sun.misc.Unsafe.unpark(Object) 占用了 60% 的 CPU。
2.  对于同一个应用程序跟踪显示 LockSupport.park(Object) 占用了 52% 的 CPU。

我做了多次测试来确认结果，每次我得到类似的结果。

我无法理解为什么 unpark 应该花费 60% 的时间以及为什么跟踪显示完全相反的结果。

有人可以帮我理解这些结果。我在这里错过了什么吗？

环境：

```
java版本
java版本“1.6.0_31”
Java(TM) SE 运行时环境 (build 1.6.0_31-b04)
Java HotSpot(TM) 64 位服务器 VM（内部版本 20.6-b01，混合模式）
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2015-04-02T13:47:13.343

高 CPU 时间是*上下文切换*`Unsafe.unpark`过多的标志。这是一篇文章来了解上下文切换的成本：

 *[进行上下文切换需要多长时间？](http://goo.gl/n22v2 "进行上下文切换需要多长时间？")

在 Linux 上找出 CS 计数的最简单的选项是 run `vmstat <seconds>`。

一旦高 CS 被确认（例如每核/每秒更多 10K 开关），您将使用有问题的线程（您可以在 YJP 中按 CPU 时间对线程进行排序）并运行`strace -p <pid> -c`以找出切换的原因，例如线程正在从套接字中读取小块并关闭，在这种情况下增加套接字缓冲区可能会有所帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-19T11:58:31.493

对于某些低级别的阻塞命令，如读/写/停放/锁定，“CPU”时间被高估了，因为它假设它在实际操作阻塞时正在消耗 CPU。unpark/park 都很高的事实确实表明您有问题，但我怀疑您应该将这两个百分比中的较低者作为估计值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-09-10T18:07:38.803

I learned the hard way that you can also have high CPU usage % on LockSupport.parkNanos() if you call multiple times the method and your sleep argument is in the order of nanoseconds:

```
while(true){
  // code logic
  LockSupport.parkNanos(100);
} 
```

Simply changing to microseconds helped me resolve my issue. I also tried it on my local machine and was able to reproduce the high CPU usage %, and saw it drastically improve after going for microseconds.*

# android - 应用程序崩溃 bz 获取默认共享首选项

> ID：12972929
> 
> 赞同：0
> 
> 时间：2012-10-19T11:07:53.387
> 
> 标签：android, sharedpreferences

我正在开发一个简单的闹钟应用程序，并在设置闹钟时使用 OnSharedPreferenceChangeListener 来显示更改。代码包含在下面。问题：应用程序在此行崩溃：

```
//SharedPreferences etPrefs=PreferenceManager.getDefaultSharedPreferences(getBaseContext()); 
```

而且我找不到原因。奇怪的是，整个事情都在大学里工作，但是当我在家里使用相同版本的 Eclipse 打开项目时，它在提到的行 o_0 处崩溃有什么建议吗？

```
public class NewAlarm extends PreferenceActivity implements
    OnSharedPreferenceChangeListener {
private Button btnCancel, btnSave;
private TimePicker tp;
private TextView txtDate;
private DigitalClock dc;
private SimpleDateFormat sdf = new SimpleDateFormat("EEEE, dd MMM");
SharedPreferences getPrefs = PreferenceManager
        .getDefaultSharedPreferences(getBaseContext());

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    addPreferencesFromResource(R.xml.new_alarm_prefs);
    setContentView(R.layout.new_alarm);
    setupRefs();
    tp.setIs24HourView(true);
    dc.setBackgroundColor(Color.parseColor("#14B909"));
    dc.setTextColor(Color.parseColor("#FFFFFF"));
    txtDate.setText("Today is: " + sdf.format(new Date()));
}

public void setupRefs() {
    btnCancel = (Button) findViewById(R.id.btnCancelNewAlarm);
    txtDate = (TextView) findViewById(R.id.txtDate);
    tp = (TimePicker) findViewById(R.id.tp);
    dc = (DigitalClock) findViewById(R.id.dc);
}

@Override
protected void onResume() {

    super.onResume();

    getPrefs.registerOnSharedPreferenceChangeListener(this);

    onSharedPreferenceChanged(getPrefs, "Repeat_PREFS");

    onSharedPreferenceChanged(getPrefs, "et_PREFS");

    btnCancel.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            finish();

        }
    });

    btnSave = (Button) findViewById(R.id.btnSaveNewAlarm);
    btnSave.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {

        }
    });

}

@Override
protected void onPause() {
    // TODO Auto-generated method stub
    super.onPause();
    getPrefs.unregisterOnSharedPreferenceChangeListener(this);

}

public void onSharedPreferenceChanged(SharedPreferences getPrefs, String key) {

    Preference pref = findPreference(key);

    if (pref instanceof ListPreference) {
        ListPreference listPref = (ListPreference) pref;
        pref.setSummary(listPref.getEntry().toString());
    }
    if (pref instanceof EditTextPreference) {
        EditTextPreference etPref = (EditTextPreference) pref;
        pref.setSummary(etPref.getText());
    }

} 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T11:11:54.310

在全球范围内宣布这一点，

```
SharedPreferences getPrefs = null; 
```

在你的 onCreate() 里面做这个，

```
 getPrefs = PreferenceManager
        .getDefaultSharedPreferences(this); 
```

这是因为您的 Context 将`onCreate()`仅在之前启动，它将为空，这就是导致您出现问题的原因。

# javascript - 如何从 controller.action 获取 ajax 响应真/假

> ID：12972931
> 
> 赞同：1
> 
> 时间：2012-10-19T11:07:59.300
> 
> 标签：javascript, php, jquery, ajax, cakephp

我想检查客户端名称是否存在然后不创建它。
功能和每件事都运行良好。
我需要的是：函数向我的 ajax 函数返回 true 或 false。

我在 js 和 ajax 中的创建函数是：

```
function createClient(){
       var newClientForm = $$('newClientForm').getValues();
       var client_name = newClientForm.client_name;

       if (client_name != ''){
       url_call = window.server_name + "/index.php/clients/create_new_client/"+client_name; 
       url_call = url_call.replace(/\n/g, '|');
       $.ajax({
              url: url_call ,               
              success: function(data) {
                       if ((data==true)||(data==false)){
                            alert('data true');
                        }

              }     
        }); 
        }else{            
            dhx.alert({title:'Error', message:"Please enter the client name."});
        }
    }; 
```

和我在 cakephp 中的控制器

```
function create_new_client($string = null){
            $this->layout = 'default_really_empty';
            $string = urldecode($string);
            $explode_item = explode('^', $string);

            $client_name        = $explode_item[0]; 

            //--Sreach if the Client is already there don't create it
            $modelClassChild = 'Client';
            $this->loadModel($modelClassChild);                
            $objects=$this->$modelClassChild->find('all',array('conditions'=>array($modelClassChild .'.deleted'=>'0', 
                                                                                   $modelClassChild .'.name'=>$client_name)));
            foreach($objects as $object) { 
                $dbName = $object['Client']['name'];
            }                

            if ($client_name != $dbName){  
            //--Sreach if the Client is already there don't create it
                $clientArray = array();
                $fields = array();

                $clientArray['Client']['name']  = $client_name;
                $fields[] = 'name';

                $client_exists = FALSE;                    

                $this->Client->create();
                $this->Client->save($clientArray, true); 
           }else{
               $client_exists = TRUE;                   
           }
           $this->set('client_exists',$client_exists);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:13:05.067

返回布尔值

```
if ($client_name != $dbName){  
    //--Sreach if the Client is already there don't create it
    $clientArray = array();
    $fields = array();

    $clientArray['Client']['name']  = $client_name;
    $fields[] = 'name';

    $this->Client->create();
    $this->Client->save($clientArray, true); 

    return false;                    

}else{
    return true;                   
} 
```

检查ajax的成功回调为

```
success: function(data) {
    if ((data==0)||(data==1)){
        alert('data true');
    }
} 
```

# asp.net - 为 ASP.NET MVC4 中的控制器操作分配自定义类权限检查

> ID：12972937
> 
> 赞同：0
> 
> 时间：2012-10-19T11:08:18.740
> 
> 标签：asp.net, asp.net-mvc, security, reflection, permissions

我有一个带有自定义用户/角色提供程序的 ASP.NET MVC4 站点。实体框架与底层的用户和角色实体一起工作。现在我介绍一个`RolePermission`s的概念。每个角色都有一个关联的权限列表，允许该角色中的用户在系统内执行某些操作，例如删除评论。

在我的自定义构建管理面板中，我想列出控制器的所有操作，并且能够根据当前用户角色中权限的存在来允许或禁止调用某些操作。

问题是：

1.  是否可以？
2.  如何在控制器中列出一组操作。
3.  如何分配或取消操作与角色权限之间的关联。

可能的战略：

我介绍了一个应用于所有控制器和操作的全局自定义过滤器，它检查我的数据库以查看我是否具有逻辑关联。这样，每次用户调用某个操作时都会运行一个检查代码。我仍然如何列出控制器和操作（也许通过反射？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:50:37.563

> 我仍然如何列出控制器和操作（也许通过反射？）

是的，反思是一种方法。下面是一个如何获取所有控制器类型列表的示例：

```
public IEnumerable<Type> GetControllers()
{
    IEnumerable<Type> typesSoFar = Type.EmptyTypes;
    var assemblies = BuildManager.GetReferencedAssemblies();
    foreach (Assembly assembly in assemblies)
    {
        Type[] typesInAsm;
        try
        {
            typesInAsm = assembly.GetTypes();
        }
        catch (ReflectionTypeLoadException ex)
        {
            typesInAsm = ex.Types;
        }
        typesSoFar = typesSoFar.Concat(typesInAsm);
    }
    return typesSoFar.Where(type => 
        type != null && 
        type.IsPublic && 
        type.IsClass && 
        !type.IsAbstract && 
        typeof(IController).IsAssignableFrom(type)
    );
} 
```

然后您可以获得`ActionDescriptor`每种控制器类型的列表：

```
foreach (var controller in GetControllers())
{
    ActionDescriptor[] actions = new ReflectedControllerDescriptor(controller).GetCanonicalActions();
    foreach (var action in actions)
    {
        // here you know everything about the action
    }
} 
```

# c# - 在 Linq 中更新子页面的列

> ID：12972938
> 
> 赞同：0
> 
> 时间：2012-10-19T11:08:19.480
> 
> 标签：c#, linq, entity-framework, lambda

请看以下代码：

```
public void UpdateChildPagesReWrittenUrl(int parentPageId)
    {
        var childPageList = db.PcPages.Where(m => m.ParentID == parentPageId);

        if (childPageList.Count() > 0)
        {
            foreach (var item in childPageList)
            {
                db.ExecuteNonQuery(string.Format("UPDATE pcPage SET Url = {0}/{1} WHERE PageID = {2}",
                    GetRootUrl(item.ParentID),
                    hnUrlHelper.UrlSafe(item.PageName), item.PageID));
                db.SaveChanges();
            }
        }

    } 
```

当父页面更新页面名称本身时，我尝试更新所有子页面 url。这段代码我认为它有效。但不是。任何人都可以以更好的方式提出更好的建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:12:18.957

它在更新什么吗？您可以使用 SQL Profiler 查看实际发送的查询吗？

还可以设置一个断点并确保它按照您的预期进行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:19:22.080

尝试在新的 url 地址周围添加引号：

```
"UPDATE pcPage SET Url = '{0}/{1}' WHERE PageID = {2}" 
```

另外我相信您可以更新子行而不获取它们

```
var query = @"UPDATE pcPage SET Url = Concat(ParentID, '/', PageName)
              WHERE ParentID = " + parentPageId; 
db.ExecuteNonQuery(query); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T12:01:26.550

为什么不这样做：

```
public void UpdateChildPagesReWrittenUrl(int parentPageId)
{
    Func<PcPage, string> url = item => String.Format("{0}/{1}",
        GetRootUrl(item.ParentID), hnUrlHelper.UrlSafe(item.PageName));

    Array.ForEach(db.PcPages.Where(m => m.ParentID == parentPageId).ToArray(),
        x => { x.Url = url(x); });

    db.SaveChanges();
} 
```

# c++ - 用点填充一条线，然后寻找与轮廓的交点

> ID：12972944
> 
> 赞同：0
> 
> 时间：2012-10-19T11:08:34.933
> 
> 标签：c++, opencv, line, intersection, points

我有两点想用一条线连接（OpenCv2.4 Visual c++ 2010）。

我正在寻找他的线上的点和我使用 findContours 找到的轮廓之间的交点。

我的问题是如何用这条线的点填充结构，以检查与轮廓的任何交叉点？？？？

如果您可以提供一种方法来提出在线积分，那将是很好的。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T13:10:36.700

正确的方法是计算[Bresenham 线算法](http://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm)：

> Bresenham 线算法是一种算法，该算法确定应绘制 n 维栅格中的哪些点，以便形成两个给定点之间的直线的近似值。

OpenCV drawLine 函数可能使用了这个算法。如果速度不是问题，另一种方法是：在遮罩图像中画线，然后遍历此遮罩中的像素（或至少围绕线的 ROI）并收集点的坐标：

```
cv::Mat mask = cv::Mat::zeros(originalImage.size(), CV_8U);
cv::Point p1, p2;
std::vector<cv::Point> points;
cv::line(mask, p1, p2, CV_RGB(255,255,255), CV_AA);
for (int row = min(p1.y, p2.y); row < max(p1.y, p2.y); ++row) 
  for (int col = min(p1.x, p2.x); col < max(p1.x, p2.x); ++col)
    if(mask.at<unsigned char>(row, col) != 0)
      points.push_back(cv::Point(col, row)); 
```

# svg - 更改创建的 svg 组件中的文本 标签，并与 ， 那可能吗？

> ID：12972947
> 
> 赞同：1
> 
> 时间：2012-10-19T11:08:35.713
> 
> 标签：svg

我想在 svg 中创建一个可以重用的组件。这将绘制一个包含文本的矩形：

```
 <g id='TestComponent'>
        <rect x='200' y='235' width='100' height='30' rx='10' style='fill: white; stroke: lightgrey;'/>
        <text x='250' y='252' text-anchor='middle' alignment-baseline='middle' style='fill:black;font-family: Helvetica'>Test</text>
    </g> 
```

如果我在容器“g”元素之间定义它：测试

然后我可以像这样使用它：

```
 <use xlink:href='#TestComponent' /> 
```

我还可以移动它并通过以下方式重用它：

```
 <use xlink:href='#TestComponent' x=100 y=100 /> 
```

这是我的问题，我希望能够更改文本。那可能吗？我想做的是：

```
 <use xlink:href='#TestComponent' text="Hello world 2"/> 
```

有没有办法做到这一点？如果不是，那么构建这种东西的首选方法是什么，以便我可以重用并尽可能避免重复？

/汉斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T13:23:55.480

是的，您可以在 SVG 中重用参数化结构。查看描述和示例：[www.w3.org](http://www.w3.org/TR/SVGParamPrimer/)或[www.schepers.cc](http://www.schepers.cc/w3c/svg/params/ref.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T13:40:40.090

您可以使用 XSLT 或 javascript。<use> 开箱即用的功能无法满足您的要求。

# video - 直播：存储、转码、重播

> ID：12972950
> 
> 赞同：0
> 
> 时间：2012-10-19T11:08:39.283
> 
> 标签：video, streaming, video-streaming, storage, transcoding

我目前正在开展一个项目，其中我有以下关于视频流的用例：

```
1) receive live video stream (mkv container would be prefered)
2) store this stream (on cloud storage)
3) optionally transcode the stream into mp4/etc.
4) optionally store the transcoded stream (on cloud storage)
5) re-transmit transcoded stream 
```

所有这些过程步骤都应该实时执行（因为我正在处理实时流），并且如果可能的话同时执行（存储传入流、转码 + 转播）

是否有任何商业/开源解决方案能够做到这一点？该服务器将在 linux VM 下的云中运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T08:21:33.873

Flumotion：[http ://flumotion.net/](http://flumotion.net/)

基于 GStreamer 的开源解决方案，并且已经拥有您需要的所有部分（我不确定是否有官方的方式来流式传输 .mkv，但 Flumotion 处理 .webm，所以让它工作应该不难）

免责声明：我是 Flumotion 开发人员。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-21T15:10:03.297

试试 kaltura [http://www.kaltura.org/project](http://www.kaltura.org/project) .. 我没用过，但他们应该有东西。

如果您正在考虑构建自己的，那么 ffmpeg（用于转码和复用）和 gstreamer（作为框架）可以提供很好的帮助。

您可能还需要考虑计划支持哪些流媒体协议来摄取和流式传输视频。

# xml - 多个相同类型的元素只生成一个根

> ID：12972953
> 
> 赞同：0
> 
> 时间：2012-10-19T11:09:05.540
> 
> 标签：xml, visual-studio-2010, xsd, xsd.exe

我有 3 个不同名称的可能根元素，我们称它们为 foo、bar 和 baz。所有这些可能的根元素都具有相同的类型，简称为 fooBarOrBazType。

现在，当我从 XSD 生成我的类时，只有第一个元素是用 fooBarOrBazType 创建的。所以我可以创建那个类型，当我序列化它时，它将被称为 foo。我没有看到任何为 bar 或 baz 生成的条目。

当所有根元素都在同一个模式中以及它们被拆分为不同的 xsd 文件时，都会发生这种情况。

有没有办法生成它，以便每个不同命名的元素都有自己对应的类？

我应该使用某种继承来创建 3 种不同的类型吗？如何修复这种继承？

显然，我自己发现了它，使用：

```
<xs:element name="foo">
<xs:complexType>
  <xs:complexContent>
    <xs:extension base="p:fooBarBazType"/>
  </xs:complexContent>
</xs:complexType> 
```

就足够了。

# android - 如果代码需要，则不显示 tapfortap 横幅

> ID：12972954
> 
> 赞同：1
> 
> 时间：2012-10-19T11:09:14.740
> 
> 标签：android, adview

如果我把它放在我的活动布局中，那么横幅显示没有问题

```
<com.tapfortap.AdView android:id="@+id/ad_view"
  android:layout_height="50dip"
  android:layout_width="320dip"
  android:layout_gravity="bottom"
  /> 
```

但是如果我在代码中执行此操作，我的横幅未显示

```
AdView adView = new AdView(this);
// Optionally specify layout params.
DisplayMetrics metrics = getResources().getDisplayMetrics();
int width = metrics.widthPixels;
int height = (int)(50 * (width / 320.0));
LinearLayout.LayoutParams myLayoutParams = new LinearLayout.LayoutParams(width, height);
adView.setLayoutParams(myLayoutParams);
// Add the AdView to your layout.
myLayout.addView(adView); 
```

问题是

> 10-19 13:04:02.066 W/com.tapfortap.AdView(15940)：无法显示广告，空间不足。

我不明白，因为 mylayout 在我创建的这个示例应用程序中有足够的空间是整个屏幕中唯一的一个

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T12:45:53.433

使用 padding 时会出现问题，即使它只是顶部填充并且有很多空间......

也许这将通过下一个版本的 tapfortap sdk 解决

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-20T17:19:10.300

Tap for Tap SDK 不再检查是否有足够的空间来显示广告，这现在取决于开发人员。

# objective-c - Objective-C 保存和加载文件

> ID：12972955
> 
> 赞同：1
> 
> 时间：2012-10-19T11:09:16.797
> 
> 标签：objective-c, macos, cocoa, load, save

您好我正在尝试从文件加载数据

此功能将数据保存到文档文件夹中的文件中

```
- (IBAction)saveUser:(id)sender{
   NSString *name = [nameField stringValue];
   NSString *weight = [weightField stringValue];
   NSDate *date = [datePick dateValue];

   NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
   NSString *documentsDirectory = [paths objectAtIndex:0];

   NSMutableDictionary *dict = [[NSMutableDictionary alloc] init];
   [dict setValue:[nameField stringValue] forKey:@"name"];
   [dict setValue:[weightField stringValue] forKey:@"weight"];
   [dict setValue:date forKey:@"date"];
   [dict writeToFile:name atomically:YES];
} 
```

但是，当我尝试加载文件并从中获取数据时，我不能，有人可以告诉我这是如何完成的。

* * *

编辑以显示 loadFunction

```
-(IBAction)loadUser:(id)sender{
 NSString *weight = [weightField stringValue];
 NSDate *date = [datePick dateValue];

NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *loadPath = [documentsDirectory stringByAppendingPathComponent:name];

NSMutableDictionary *savedData = [[NSMutableDictionary alloc] initWithContentsOfFile: name]; 
 NSLog(@"%@", weight);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T11:57:00.120

修复你的答案。这是一个有效的代码，你几乎没有给出文件名。

```
NSString *filename = [documentsDirectory stringByAppendingPathComponent:@"file.txt"]; 
```

在您编写文件的行中：

```
[dict writeToFile:name atomically:YES]; 
```

您必须将名称更改为文件名，像这样

```
[dict writeToFile:filename atomically:YES]; 
```

在您的加载数据方法中：

```
NSString *filename = [documentsDirectory stringByAppendingPathComponent:@"file.txt"];

NSMutableDictionary *savedData = [[NSMutableDictionary alloc] initWithContentsOfFile:filename]; 

NSLog(@"The weight is : %@", [savedData valueForKey:@"weight"]); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:41:55.697

以下似乎符合您的意图（减去代码中的 UI 元素依赖项）：

```
#import <Foundation/Foundation.h>

static NSString *pathToDocuments(void) {
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    return [paths objectAtIndex:0];
}

int main(int argc, char *argv[]) {
    NSAutoreleasePool *p = [[NSAutoreleasePool alloc] init];

    NSMutableDictionary *dict = [[NSMutableDictionary alloc] init];
    [dict setValue:@"SomeName" forKey:@"name"];
    [dict setValue:@"SomeWeight" forKey:@"weight"];
    [dict setValue:[NSDate date] forKey:@"date"];

    NSString *filePath = [pathToDocuments() stringByAppendingPathComponent:[dict objectForKey:@"name"]];
    [dict writeToFile:filePath atomically:YES];

    [dict release];  dict = nil;

    NSLog(@"%s - Confirming dict is nil: %@",__FUNCTION__,dict);

    dict = [[NSDictionary dictionaryWithContentsOfFile:filePath] mutableCopy];
    NSLog(@"%s - weight = %@",__FUNCTION__,[dict objectForKey:@"weight"] );

    [p release];
} 
```

这会将以下内容打印到控制台：

```
2012-10-19 06:40:38.691 Untitled[10633:707] main - Confirming dict is nil: (null)
2012-10-19 06:40:38.693 Untitled[10633:707] main - weight = SomeWeight 
```

**编辑：**

也就是说，我认为问题可能是`loadUser`...中的文件路径

# iphone - 如何使用 UIPickerView

> ID：12972956
> 
> 赞同：1
> 
> 时间：2012-10-19T11:09:16.553
> 
> 标签：iphone, ios, cocoa-touch, uipickerview

我一直在使用`UIPickerView`，同时显示`UIPickerView`我是否需要在同一视图中隐藏所有其他控件，因为我遇到了这样的问题。请看图片![以下](../Images/56f8a8bf1e27be413114e62177078fd4.png)

后面的按钮显示前面。如何避免这个问题。任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T11:10:36.397

```
[self.view bringSubviewToFront:yourPickerView]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T12:13:17.797

嗨，我认为您必须为选择器视图设置框架。下面的代码是针对 uipickerview 的，请随意修改。

-(IBAction)pickButtonpressed:(id)sender

{

UIActionSheet *asheet = [[UIActionSheet alloc] initWithTitle:@"Select Distance" delegate:self cancelButtonTitle:@"Cancel" 破坏性ButtonTitle:nil otherButtonTitles:@"Select", nil];

```
[asheet setTag:200];

UIPickerView *statePicker = [[UIPickerView alloc] initWithFrame:CGRectMake(0, 40, 0, 0)];

statePicker.delegate=self;

statePicker.showsSelectionIndicator = YES;

[statePicker setTag:11];

[asheet addSubview:statePicker];

[asheet showInView:[self.view superview]]; //note: in most cases this would be just self.view, but because I was doing this in a tabBar Application, I use the superview.

[asheet setBounds:CGRectMake(0,0,320, 700)];

[asheet setFrame:CGRectMake(0, 117, 320, 383)];

NSArray *subviews = [asheet subviews];

[[subviews objectAtIndex:1] setFrame:CGRectMake(20, 266, 280, 46)]; 

[[subviews objectAtIndex:2] setFrame:CGRectMake(20, 317, 280, 46)]; 
```

}

# java - 从 Selenium IDE 以 excel 格式记录测试用例

> ID：12972959
> 
> 赞同：0
> 
> 时间：2012-10-19T11:09:26.067
> 
> 标签：java, excel, selenium, automation, selenium-ide

所以到目前为止，我使用 Selenium IDE 记录网站上的操作，然后我手动编写测试用例，并在 Excel 中编写。有没有办法直接输出到excel文件中？我知道从 IDE 输出到 excel 文件是不可能的，但是关于如何完成这项工作的任何想法？IDE 可以在 java 中导出测试用例，所以也许我可以编写另一个程序将其转换为我的格式？你怎么看？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T16:51:38.953

我会做以下事情：

1.  转到 Excel 应用程序。
2.  选择菜单**File -> Open**。
3.  在打开的对话框中选择所有文件类型。
4.  找到记录的测试用例（**扩展名为 .html**）并打开它。
5.  您将看到 excel 以正确格式打开它。
6.  现在保存为**Excel 书或 .csv 文件**。

# php - 我应该使用什么图表工具在 php 中创建图表？

> ID：12972964
> 
> 赞同：1
> 
> 时间：2012-10-19T11:09:34.147
> 
> 标签：php, jquery, flash

我正在用 php 创建图表报告，但不明白我应该使用什么。

你能帮我吗，我应该使用什么图表工具？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:11:43.747

jpgraph 已经存在了一段时间

rgraph 似乎也有能力。

编辑：//

[http://www.rgraph.net/](http://www.rgraph.net/)

[http://jpgraph.net/](http://jpgraph.net/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:12:17.913

你可以试试这些。

1.  [pCharts](http://pchart.sourceforge.net/)
2.  [jpGraph](http://jpgraph.net/)
3.  [谷歌图表](https://developers.google.com/chart/)(JQuery)
4.  [XML/SWF 图表](http://www.maani.us/xml_charts/index.php?menu=Gallery&submenu=3D_Pie)(3D)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T11:12:41.333

这是针对 Web 应用程序的吗？如果是这样，请考虑使用 JavaScript 在客户端呈现图表。

我用[浮动](http://www.flotcharts.org/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T11:27:16.270

您期待使用哪种图表？开源？或其他方式？对于许可版本，您可以查看此[Fusion Charts](http://www.fusioncharts.com/)（Flash 和 javascript）。
[高图](http://www.highcharts.com/)。（也提供演示和试用版。）
对于开源，请查看[Google 图表 API](https://developers.google.com/chart/)。Google 为您提供静态和交互式图表。
希望这可以帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-19T11:40:26.453

[pChart 2](http://www.pchart.net/)很棒，免费且易于使用。不幸的是，它是在 GPLv3 下发布的，所以你不能将它用于商业产品（但我认为你可以购买许可证）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-31T07:39:28.047

嘿很多可用的图表 api，其中一些已列出。1.jpgraph 2.Koolgraph 3.jqchart 4.google 图表

我更喜欢使用谷歌图表。它易于使用并且效果很好。

# android - 我无法解决这个问题 - Android 中的线程、处理程序和列表视图问题

> ID：12972973
> 
> 赞同：0
> 
> 时间：2012-10-19T11:09:58.940
> 
> 标签：android, multithreading, handler

我只想用 httpconnection 提取数据并用 ResponseHandler 和一些操作操作获取值。然后我只想把它们放到listview中。但我做不到。

首先，我在一个线程中取值。然后我在主线程上进行操作并向适配器添加值，但是，我要么接受异常，要么接受空白列表视图。

我的示例代码如下；

```
 public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_x);

        m_results = new ArrayList<Type>();

        /*
        rs.setDate("22.09.2012");
        rs.setOne("5");
        rs.setTwo("12");
        rs.setThree("18");
        rs.setFour("21");
        rs.setFive("44");
        rs.setSix("48");
        */

        this.m_adapter = new Adapter(this, R.layout.resultrow, m_results);
        setListAdapter(this.m_adapter);

        sendNumbers = new Runnable() {

            @Override
            public void run() {

                httpclnt = new DefaultHttpClient();

                httppst = new HttpPost("url");

                try {           

            ResponseHandler<String> responseHandler = new BasicResponseHandler();

                    response = httpclnt.execute(httppst, responseHandler);

                    message = response;

                    handler.sendEmptyMessage(0);

                }catch (ClientProtocolException e) {
                    Toast.makeText(getApplicationContext(), "Client protocol exception ", Toast.LENGTH_LONG).show();
                } catch (IOException e) {
                    Toast.makeText(getApplicationContext(), "IO exception "+e.getMessage(), Toast.LENGTH_LONG).show();
                } 

            }
        };
            Thread thread = new Thread(sendNumbers,"sendNumbers");
            thread.start();

        handler = new Handler() {

                public void handleMessage(Message msg) {

                    firstResult = message.substring(0,message.indexOf(")"));

 firstDate = firstResult.substring(firstResult.indexOf(">")+2,firstResult.indexOf(">")+12);
                         firstNumbers=firstResult.substring(firstResult.lastIndexOf(">")+2,firstResult.lastIndexOf(">")+19);

                    rs.setDate(firstDate.substring(firstDate.lastIndexOf("-")+1,firstDate.lastIndexOf("-")+3)+"."
                            +firstDate.substring(firstDate.indexOf("-")+1,firstDate.indexOf("-")+3)+"."+firstDate.substring(0,4));

                    m_results.add(rs);

                    m_adapter.notifyDataSetChanged();

                        }
                    }; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:13:56.673

而不是 Thread 使用异步任务，

```
public class Get_User_Data extends AsyncTask<Void, Void, Void> {

            private final ProgressDialog dialog = new ProgressDialog(
            MyActivity.this);

    protected void onPreExecute() {
        this.dialog.setMessage("Loading...");
        this.dialog.setCancelable(false);
        this.dialog.show();
    }
        @Override
        protected Void doInBackground(Void... params) {

                    uploadImage(); // inside the method paste your file uploading code
            return null;
        }

        protected void onPostExecute(Void result) {

            // Here if you wish to do future process for ex. move to another activity do here

            if (dialog.isShowing()) {
                dialog.dismiss();
            }

        }
    } 
```

有关更多信息，请参阅此链接[http://vikaskanani.wordpress.com/2011/01/29/android-image-upload-activity/](http://vikaskanani.wordpress.com/2011/01/29/android-image-upload-activity/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:18:21.250

在您的代码中使用它作为参考，..

```
XMLParser parser = new XMLParser();
    String xml = parser.getXmlFromUrl(URL); // getting XML from URL
    Document doc = parser.getDomElement(xml); // getting DOM element

    NodeList nl = doc.getElementsByTagName(KEY_SONG);
    // looping through all song nodes &lt;song&gt;
    for (int i = 0; i &lt; nl.getLength(); i++) {
        // creating new HashMap
        HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();
        Element e = (Element) nl.item(i);
        // adding each child node to HashMap key =&gt; value
        map.put(KEY_ID, parser.getValue(e, KEY_ID));
        map.put(KEY_TITLE, parser.getValue(e, KEY_TITLE));
        map.put(KEY_ARTIST, parser.getValue(e, KEY_ARTIST));
        map.put(KEY_DURATION, parser.getValue(e, KEY_DURATION));
        map.put(KEY_THUMB_URL, parser.getValue(e, KEY_THUMB_URL));

        // adding HashList to ArrayList
        songsList.add(map); 
```

它可能对您有帮助！.. 并尝试在此链接上...

[http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/](http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:22:03.560

@Aerrow 的解决方案很好。如果您不想在代码中更改太多，请
替换 `Thread thread = new Thread(sendNumbers,"sendNumbers");`
为`HandlerThread thread = new HandlerThread("sendNumbers",sendNumbers);`

# python - 创建后 Ckeditor 保持隐藏状态 - editor.css 为空

> ID：12972974
> 
> 赞同：3
> 
> 时间：2012-10-19T11:10:00.860
> 
> 标签：python, google-app-engine, tinymce, ckeditor, webapp2

我正在尝试在我目前正在开发的 Web 项目中使用 ckeditor。

问题是当我尝试实例化 Ckeditor（通过 jQuery 适配器或使用 CKEDITOR.replace 命令）时，编辑器被创建但它被隐藏了。

我检查了源代码，由于某种原因它有这个 css 属性

```
.cke_skin_kama {
    visibility: hidden;
} 
```

然后我检查了它使用的 css 文件，我注意到 editor.css 文件中没有 css 规则！它完全是空的，尽管它指向正确的 url。

你知道为什么会这样吗？任何提示都会非常受欢迎！

提前致谢！

更新：我也尝试使用 Tinymce，但我遇到了同样的问题。文件 ui.css 也是空的。

我正在为 GAE 使用 python-webapp2。这可能与问题有任何关系吗？我必须做任何特定的配置吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T11:47:54.470

问题可能在于您的静态文件目录的声明。尝试将 ckeditor 移到现有静态文件的路径之外。例如在您的 app.yaml 中添加以下内容，当然也可以将 ckeditor 放在相应的文件夹中：

```
- url: /ckeditor
  static_dir: static/ckeditor 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:18:32.950

如果您想在页面中创建 chkeditor，您可以在附加 chkeditor javascript 文件后使用此代码：

```
<textarea  id='chkeditor2' class='ckeditor' name='editor1'></textarea> 
```

类和名称被定义到 javascript 文件中，这个文本区域将 chkeditor 面板。抱歉英语不好:)我希望这对你有帮助:)

# xml - XSLT：逐页循环遍历一系列元素

> ID：12972976
> 
> 赞同：0
> 
> 时间：2012-10-19T11:10:15.057
> 
> 标签：xml, xslt, xpath

我想转换这个 XML 以创建标签页作为我的 XSLT 输出，假设每页 3 个，所以我最终得到如下内容：

除了将它们分组到页面之外，我可以做我需要的一切。

```
INPUT XML:
<root>
   <element>a</element>
   <element>b</element>
   <element>c</element>
   <element>e</element>
   <element>f</element>
   <element>g</element>
   <element>h</element>
   <element>i</element>
</root>

XSLT RESULT XML:
<root>
   <page num="1">
      <element>a</element>
      <element>b</element>
      <element>c</element>
   </page>
   <page num="2">
      <element>d</element>
      <element>e</element>
      <element>f</element>
   </page>
   <page num="3">
      <element>g</element>
      <element>h</element>
   </page>
</root> 
```

我试过`position() mod X`了，但顺序似乎很重要，因为我试图打破 xml 10 个单独的文件，并且使用`exsl:document`这种方式会导致它每次都覆盖文件，只保留最后一个元素：

```
<exsl:document href="chunk-{position() mod 10}.xml"> 
```

似乎我需要按顺序循环它们（1-3，然后是 4-6，然后是 7-8）。

注意：我在 linux 上使用 xsltproc，所以它支持 EXSL 但不支持 XSLT2.0。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T12:08:13.617

您可以将示例输入转换为所需的输出，如下所示：

```
<xsl:stylesheet 
  version="1.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

<xsl:param name="block-size" select="3"/>

<xsl:output indent="yes"/>
<xsl:strip-space elements="*"/>

<xsl:template match="@* | node()">
  <xsl:copy>
    <xsl:apply-templates select="@* | node()"/>
  </xsl:copy>
</xsl:template>

<xsl:template match="root">
  <xsl:copy>
    <xsl:apply-templates select="element[(position() - 1) mod $block-size = 0]" mode="page"/>
  </xsl:copy>
</xsl:template>

<xsl:template match="element" mode="page">
  <page num="{position()}">
    <xsl:apply-templates select=". | following-sibling::element[position() &lt; $block-size]"/>
  </page>
</xsl:template>

</xsl:stylesheet> 
```

如您的示例所示，该样式表采用一个输入文档并创建一个输出文档。

你也提到`exsl:document`了，但我不确定你想做什么，因为你想要的结果似乎是一个文档。因此，如果这是要求的一部分，请展示您要创建的不同文档的示例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T12:11:36.237

试试这个：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:template match="root">
    <xsl:copy>
      <xsl:apply-templates select="element[position() mod 3 = 1]" />
    </xsl:copy>
  </xsl:template>

  <xsl:template match="element">
    <page num="{position()}">
      <xsl:copy-of select=". | following-sibling::element[position() &lt; 3]" />
    </page>
  </xsl:template>
</xsl:stylesheet> 
```

这是一个简单的例子，但应该足以说明原理。

# javascript - 悬停意图不起作用

> ID：12972986
> 
> 赞同：0
> 
> 时间：2012-10-19T11:10:40.110
> 
> 标签：javascript, jquery, hover

我对js不太好。如何让它与 hoverIntent 一起使用？

```
$(document).ready(function () {
    $('#nav > li > a').hover(function(){
        if ($(this).attr('class') != 'active'){
            $('#nav li ul').slideUp(800);
            $(this).next().slideToggle(800);
            $('#nav li a').removeClass('active');
            $(this).addClass('active');
        }
    });
    return false;
}); 
```

我尝试过四处搜索，但不太确定该怎么做。它现在基本上可以使用悬停。但是如何将 .hoverIntent 添加到代码中。

[这是小提琴。](http://jsfiddle.net/leslie20/Fmu8Y/)

我不能只是将 .hover 更改为 .hoverIntent 对吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T11:14:03.050

对于 hoverIntend，请参阅 jQuery 插件： [http](http://cherne.net/brian/resources/jquery.hoverIntent.html) ://cherne.net/brian/resources/jquery.hoverIntent.html （您只需下载缩小版并将其导入您的应用程序：[http ://cherne.net/brian/资源/jquery.hoverIntent.minified.js](http://cherne.net/brian/resources/jquery.hoverIntent.minified.js)）。

这里是 jsFiddle：http: [//jsfiddle.net/Fmu8Y/1/](http://jsfiddle.net/Fmu8Y/1/)

还有一个有用的链接：[延迟 jquery 悬停事件？](https://stackoverflow.com/questions/435732/delay-jquery-hover-event)

```
$(document).ready(function () {
  $('#nav > li > a').hoverIntent(function(){
    if (!$(this).hasClass('active')){
      $('#nav li ul').slideUp(800);
      $(this).next().slideToggle(800);
      $('#nav li a').removeClass('active');
      $(this).addClass('active');
   }
 }, function() {
  if ($(this).hasClass('active')){
      $(this).next().slideUp(800);
      $(this).removeClass('active');
    }  
  });
  return false;
}); 
```

# c++ - 如何使 c++ 项目在不同的 PC 上运行

> ID：12972987
> 
> 赞同：0
> 
> 时间：2012-10-19T11:10:41.647
> 
> 标签：c++, visual-studio-2010, lapack, blas, armadillo

我在 Windows7、64 位（我们称之为 PC1）上的 Visual Studio 2012 中开发了一个小型 c++ 程序。在那台电脑上运行良好！

由于我手头没有像 SVN 这样的版本控制系统，我将所有项目数据（确切的文件夹结构、DLL、源文件、项目文件...）复制到 U 盘，然后将其移动到另一台计算机上。在另一个引擎上，Windows7、64 位（PC2）上有 Visual Studio 2010。所以我只是将平台工具集更改为 v100，如此处[所述](https://stackoverflow.com/questions/10245771/sharing-a-c-solution-between-visual-studio-2010-and-11)。

我在 PC2 上成功编译了项目（清理，构建）并想运行 exe，但命令提示符保持为空。然后我尝试调试并在 main 的第一行添加了一个断点 - 没有到达，命令提示符仍然是空的。

好的，U 盘肯定不是最安全的数据存储解决方案，所以我再次尝试并再次移动它 - 问题仍然存在。

Visual Studio 在 PC2 上的输出与 PC1 上的相同，所以我在那里找不到任何异常。

是的，可能有很多错误来源，那么我可以从哪里开始呢？

以及如何获得更详细的输出以进行故障排除？

或者这甚至是一种常见现象（可能是由于不同的 VS 版本）并且有一种简单的方法可以解决它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T09:30:04.497

这不是一个完整的解决方案，但至少我领先了一小步：

在我的最后一条评论中，我写道：

> 我考虑了您的建议，并在 PC2 VS2010 上创建了一个全新的项目。我完全按照本指南： http: [//frozenhamster.wordpress.com/2011/02/11/lapack-on-windows-with-visual-studion-2010/](http://frozenhamster.wordpress.com/2011/02/11/lapack-on-windows-with-visual-studion-2010/)

那也不起作用，所以我删除了除了一个 cout 之外的所有内容。瞧，这行得通！但是，一旦我使用了所需的犰狳（LAPACK 和 BLAS），该项目就会编译但不会运行。

这里出了什么问题？我没有得到任何编译器错误！

# php - php可以写文件但不能取消链接，在windows上，可以吗？

> ID：12972989
> 
> 赞同：1
> 
> 时间：2012-10-19T11:10:54.870
> 
> 标签：php, file-permissions

我有以下函数用于检查目录是否可写。

```
/**
 * check if the path is writable. if the path is a folder it creates a test file.
 *
 * @param string $path
 * @return boolean
 */
public static function is_writable( $path ) {
    //will work in despite of Windows ACLs bug
    //NOTE: use a trailing slash for folders!!!
    //see http://bugs.php.net/bug.php?id=27609
    //see http://bugs.php.net/bug.php?id=30931
    if ( $path{strlen($path)-1} === DIRECTORY_SEPARATOR ) {// recursively return a temporary file path
        return self::is_writable( $path . uniqid( mt_rand() ) . '.tmp' );
    } else if ( is_dir( $path ) ) {
        return self::is_writable( $path . DIRECTORY_SEPARATOR . uniqid( mt_rand() ) . '.tmp' );
    }
    $file_already_exists = file_exists( $path );
    // check tmp file for read/write capabilities
    $f = @fopen( $path, 'a');
    if ( $f === false ) {
        return false;
    }
    if ( ! $file_already_exists ) {
        unlink( $path );
    }
    return true;
} 
```

这一直很好，直到最近我总是收到警告，因为`unlink()`没有删除文件的权限。但是临时文件是正常创建的，所以我可以写入目录。

> 警告：取消链接（C:\Program Files (x86)\Zend\Apache2\htdocs\wordpress\wp-content\plugins\all-in-one-event-calendar-premium\cache\152006398050813468bb6ec.tmp）[function.unlink] : C:\Program Files (x86)\Zend\Apache2\htdocs\wordpress\wp-content\plugins\all-in-one-event-calendar-premium\lib\utility\class-ai1ec-filesystem-utility 中的权限被拒绝.php 在第 35 行

这怎么可能？我试图将 777 提供给我正在测试的目录，但我仍然收到警告！我在带有 Zend 服务器的 Windows 7 上

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T16:08:01.097

尝试添加一个`fclose()`调用，您在创建文件后保持文件指针处于打开状态。

[`touch()`](http://php.net/manual/en/function.touch.php)如果您只想确定是否能够创建文件，也可以考虑使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:22:22.107

当您尝试取消链接时，您的文件不存在。看这里：

```
if ( ! $file_already_exists ) { //TRUE if file does not exist.
    unlink( $path );
} 
```

它在 file_exist 为 FALSE 时工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:40:55.537

C:\Program Files (x86) 是受保护的系统目录。尝试使用资源管理器将文件拖到那里 - 您需要通过点头 UAC 提示来获得必要的权限。

如果您希望 PHP 脚本在文件系统的这一部分写入或删除，您需要从管理提示符运行它（打开开始菜单，在搜索框中键入“cmd”，右键单击 cmd命令并选择“以管理员身份运行”）。

从该提示符调用您的 PHP 脚本，它将拥有写入该文件夹或删除内容的所有权限，并且通常会在脚本认为合适的地方对您的系统造成严重破坏；）

正如其他人所提到的， chmod() 在 Windows 中毫无意义，不会做任何事情。这只是 *nix 的事情。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-19T11:19:32.983

通常 Windows 7 的 c:\ 需要管理员写入来添加/删除任何文件。要么给 apache uaser 管理员写入/给 htdocs 文件夹 777 权限/将 apache docrot 移到 c:\ 之外

# android-notifications - 未从 NotificationCompat.Builder 收到通知

> ID：12972991
> 
> 赞同：4
> 
> 时间：2012-10-19T11:11:01.233
> 
> 标签：android-notifications

我想通过生成器方法生成一个显示进度的通知栏，但我不知道我哪里出错了。如果有人能告诉我哪里出错并帮助我，我将不胜感激.....

```
public class DownloadReceiver extends ResultReceiver{
    private final static String TAG = "DownloadReceiver"; 
    public Context context;
    public DownloadReceiver(Handler handler,Context context) {
        super(handler);
        this.context = context;
        Log.d(TAG,handler.getLooper().getThread().getName());
    }

    @Override
    protected void onReceiveResult(int resultCode, Bundle resultData) {
        super.onReceiveResult(resultCode, resultData);
        Log.d(TAG,"in download receiver");

        NotificationManager notificationManager = (NotificationManager) context.getSystemService(Service.NOTIFICATION_SERVICE);
        Intent notifyIntent = new Intent(android.content.Intent.ACTION_VIEW,Uri.parse("http://www.android.com"));
        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, notifyIntent, 0);

    if(resultCode == DownloadService.COMPLETED){
            Log.d(TAG,resultCode + "");
            Builder notificationBuilder = new NotificationCompat.Builder(context)
                                          .setProgress(100, 20, false)
                                          .addAction(R.drawable.ic_action_search, "title", pendingIntent)
                                          .setWhen(System.currentTimeMillis());
    //      notification.flags = Notification.FLAG_ONGOING_EVENT;
            //      notification.setLatestEventInfo(context, "contentTitle", "contentText", pendingIntent);
            notificationManager.notify(50, notificationBuilder.build());
        }else if(resultCode == DownloadService.ALLCOMPLETED){

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-02T22:22:04.633

我刚刚不得不处理这个问题，对我来说解决方案是你必须添加一个通知图像

`.setSmallIcon(R.drawable.launcher)`

否则它不会显示任何东西。旧的通知方法不需要您自己设置，因为它会默认为应用程序的图标。

# c# - 在代码中更改桌面图标（不是快捷方式）

> ID：12972992
> 
> 赞同：1
> 
> 时间：2012-10-19T11:11:00.990
> 
> 标签：c#, windows, icons, desktop, explorer

我希望能够更改桌面图标 [不是快捷方式] 的图像以反映 Windows 服务中已更改的事件。这需要在正常运行时动态完成 - 因此需要更改图标，并且 Windows 资源管理器会通知更改并刷新。

我已经尝试过 EZNamespaceExtensions.net 但这在 Windows 7 安全性下不起作用。有什么建议吗？

# objective-c - 如何模糊区域？

> ID：12972993
> 
> 赞同：0
> 
> 时间：2012-10-19T11:11:05.930
> 
> 标签：objective-c, ios, draw, blur, uitableview

我有一个 UITableView 和 UIView（橙色）。我需要在滚动表格时，在橙色区域下我的表格模糊。大家可以帮帮我吗？谢谢。

![在此处输入图像描述](../Images/e4d416f3fa3bb5dd9cc67e2d355cf060.png) ![在此处输入图像描述](../Images/16bae01f465c4cc8eb6df511bd560029.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:20:14.650

你可以像这里描述的那样做：[Apply blur to UIView](https://stackoverflow.com/questions/11130923/apply-blur-to-uiview)

但是模糊是计算密集型的，滚动性能很可能很差。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:14:07.167

在 tableview 上制作橙色视图，然后设置它的不透明度。

# php - 为什么这个循环总是产生 N+1 输出？

> ID：12972994
> 
> 赞同：0
> 
> 时间：2012-10-19T11:11:08.767
> 
> 标签：php

假设我有这个输入：

```
<input type="hidden" name="block-1" value="001"/>
<input type="hidden" name="block-2" value="012"/>
<input type="hidden" name="block-3" value="002"/>
<input type="hidden" name="block-4" value="005"/>
<input type="hidden" name="block-5" value="008"/> 
```

我想使用这个 PHP 循环处理这些输入

```
$i = 1;

do {
    $x = 'block-'.$i;
    $webBlock = $_POST[$x];
    //some codes here
    $i++;
}

while (!empty($webBlock)); 
```

为什么我总是有 6 个输出？最后一个是空白输出。似乎循环总是在做 n+1。如何根据给定的输入数量制作正确的循环？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:13:39.113

尝试这个：

```
$i = 0;

do {
    $i++;
    $x = 'block-'.$i;
    $webBlock = $_POST[$x];
    //some codes here
}
while (!empty($webBlock)); 
```

**UPD**：最好的方法是：

```
for ($i = 1; $i <= count($_POST); $i++) {
    $webBlock = $_POST['block-'.$i];
    //some code here
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:13:59.123

因为您使用的是重复循环，所以应该使用 while 循环：

```
while (!empty($webBlock)){
    $x = 'block-'.$i;
    $webBlock = $_POST[$x];
    //some codes here
    $i++;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T11:14:28.383

因为 do 将至少执行一次 while 表达式中可能存在的内容。`do while is an exit control loop.`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-19T11:16:32.817

你需要`while`吗？

我会去：

```
$i=0;
foreach($_POST as $name => $value)
{
   if( strpos($name , 'block-') !== false ) echo $i . " - " . $name . ": " . $value;
   $i++;
} 
```

相信应该占名为' `block-n`'的项目。该`if`声明基本上说“如果`block-`在该字段名称中的任何位置，则回显出某某”。如果您遇到错误，请告诉我，并会修改。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-19T11:35:11.777

我不是 PHP 开发人员，所以我只会让您大致了解您在做什么。

实际上，您正在使用`Do-while`循环，有时称为退出控制循环。因此，在执行代码后 Do-While 的情况下，将检查您的条件。因此，即使您没有在“webBlock”中获得任何价值，您的代码也会被执行。所以，这是你的错误。

而不是这个，你可以使用 `While`循环，入口控制循环。当且仅当条件为真时，您的代码才会执行​​。

```
$i = 1;
while (i>0) {
     $x = 'block-'.$i;
     $webBlock = $_POST[$x];
    if(empty($webBlock))
    {
      break;
   }
   $i++;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-19T11:16:28.863

因为您正在使用`Do While loop`。我不确定您的数据，但我必须说它会按照您的预期再执行一次。让我们通过迭代来检查它
它将第一次运行，因为`$webBlock`它不是空的，并且与 5 次相同。
现在在这里你想关闭循环，但你的第 5 次迭代的条件为真。现在它将再次执行并且什么都不显示（因为 $webBlock 中没有任何内容）现在条件会发现它`$webBlock`是空的。
我建议你在这里使用`while loop`它会解决你的问题

# java - 一个类如何用两个不同的类扩展一个类来自外部库而另一个是内置的

> ID：12972995
> 
> 赞同：0
> 
> 时间：2012-10-19T11:11:10.030
> 
> 标签：java, android

我在我的项目中使用 SherlockActionBar 库。我的类正在扩展一个抽象类 SherlockActivity

```
public class AllAppsInfo extends SherlockActivity{} 
```

同时，我也想用 FragmentActivity 扩展我的 AllAppsInfo。由于 java 中的多重继承的疏忽，这是不允许的。

我做了一些搜索，组合是解决方案，但如何在这个场景中使用它？我既不能使抽象 Sherlock 类成为接口，也不能用 Fragment Activity 类来完成。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T11:15:47.617

尝试[组合](http://www.javapractices.com/topic/TopicAction.do?Id=72)。

你也可以参考[这里](https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance)。

基础很简单：

```
class A
{
    void aMethod() {}
}

class B
{
    void bMethod() {}
}

class C
{
    void cMethod() {}
} 
```

如果你想打电话`aMethod()`和`bMethod()`从`cMethod()`; 你可以做以下方式：

```
class C extends A    // Inheritance
{
    B aBObject = null;    // Composition
    void cMethod()
    {
        aMethod();
        aBObject = new B();
        aBObject.bMethod();
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T11:23:15.570

是的，在 Java 中我们没有多重继承。

你有两个选择。

1.  使用复合图案。[这里](http://en.wikipedia.org/wiki/Composite_pattern)描述
2.  通过添加更多接口和基类来重新创建您的类层次结构。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-22T11:39:00.133

**我通过使用SherlockFragmentActivity**扩展我的课程解决了这个问题

 **```
public class AllAppsInfo extends SherlockFragmentActivity{} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T11:24:29.283

Java没有完全[多重继承](http://en.wikipedia.org/wiki/Multiple_inheritance)，C++有。你需要解决方法来做它像[组合](http://en.wikipedia.org/wiki/Composition_over_inheritance)**