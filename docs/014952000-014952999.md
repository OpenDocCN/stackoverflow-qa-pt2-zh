# StackOverflow 问答 14952000-14952999

# jquery - 实现 jQuery Mobile 弹出窗口

> ID：14952003
> 
> 赞同：0
> 
> 时间：2013-02-19T07:27:21.567
> 
> 标签：jquery, css, jquery-mobile

我正在使用 JQM 弹出窗口来显示一些数据。

在弹出窗口中，我有几个 DIV 可以设置为 DISPLAY：BLOCK/INLINE-BLOCK 以显示不同的并隐藏其他的。

问题是它们的大小不同，所以当我从一个大的切换到一个小的时，JQMPopup 与页面的其余部分不对齐。

有人知道让 JQMPopup 重新对齐的方法吗？

我确实注意到，如果我更改浏览器的大小，JQMPopup 会调整到正确的位置。

保重，李

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:45:26.577

实际上，您可以通过 css 更改它。在我的情况下，我希望它保持在中心，所以我将以下 css 设置为它：

```
left: 50%; 
width: 75%; 
margin: 10% 0 0 -37.5%; 
```

# sql - 将数据类型 varchar 转换为 float 时出错

> ID：14952004
> 
> 赞同：3
> 
> 时间：2013-02-19T07:27:22.103
> 
> 标签：sql, sql-server, tsql

在 SO 上搜索和搜索，但无法弄清楚
尝试将每个字段转换为 FLOAT 无济于事，转换没有进一步帮助我
如何获得以下 case 子句以返回 THEN 部分中所述的值？

错误：消息 8114，级别 16，状态 5，第 1 行将数据类型 varchar 转换为浮点数时出错。

我的 SQL 查询部分使它出错：

```
When cust_trendd_w_costsv.terms_code like '%[%]%' and (prod.dbo.BTYS2012.average_days_pay) - (substring(cust_trendd_w_costsv.terms_code,3,2)) <= 5 THEN prod.dbo.cust_trendd_w_costsv.terms_code 
```

average_days_pay = 浮动
terms_code = char

干杯!

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-19T08:06:15.473

尝试使用[ISNUMERIC](http://msdn.microsoft.com/en-us/library/aa933213%28v=sql.80%29.aspx)处理无法转换的字符串：

```
When cust_trendd_w_costsv.terms_code like '%[%]%' 
and (prod.dbo.BTYS2012.average_days_pay) - 

(case when isnumeric(substring(cust_trendd_w_costsv.terms_code,3,2))=1 
         then cast(substring(cust_trendd_w_costsv.terms_code,3,2) as float)
         else 0
 end)
<= 5 THEN prod.dbo.cust_trendd_w_costsv.terms_code 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-19T07:55:03.877

您遇到的问题是您专门搜索包含`%`字符的字符串，然后将它们（隐式或显式）转换为浮点数。

但是包含符号的字符串`%`在它们仍然有 a 时不能转换为浮点数`%`。这也会产生错误：

```
select CONVERT(float,'12.5%') 
```

如果要转换为浮点数，则需要先删除该`%`符号，例如：

```
CONVERT(float,REPLACE(terms_code,'%','')) 
```

只会消除它。我不确定您的`terms_code`专栏中是否还有其他字符也可能会出错。

您还需要注意，SQL Server 可以非常积极地重新排序操作，因此可能会尝试对 中的其他字符串进行上述转换`terms_code`，即使是那些不包含`%`. 如果这是您的错误的根源，那么您需要防止这种激进的重新排序。如果不涉及聚合，`CASE`表达式通常可以避免最糟糕的问题 - 在尝试转换之前，确保您不想处理的所有字符串都被前面的`WHEN`子句消除

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T07:49:11.510

如果您确定 Substring Part 返回一个数值，您可以将 substring(....) 转换为 Float ：

```
 .....and (prod.dbo.BTYS2012.average_days_pay) - (CAST(substring(cust_trendd_w_costsv.terms_code,3,2)) as float ) <= 5 .... 
```

# java - 在jooq中检索selectCount的值

> ID：14952007
> 
> 赞同：7
> 
> 时间：2013-02-19T07:27:25.620
> 
> 标签：java, sql, jooq

我有一些看起来像这样的代码：

```
Record record = jooq
    .selectCount()
    .from(USERS)
    .fetchOne(); 
```

目前我正在执行以下操作来获取计数：

```
Integer count = (Integer) record.getValue(0); 
```

但似乎必须有一个更好的解决方案（这是类型安全的......因为这是使用 jooq 的全部意义）。有什么建议么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T09:03:33.683

不幸的是，对于这个特定的查询，没有很多“更好”的方法来类型安全地获取`count()`值。为了添加类型安全，您可以做的是：

```
Field<Integer> f = count();
Integer count = jooq.
    .select(f) // Or selectCount(). Replaced it to illustrate the case
    .from(USERS)
    .fetchOne(f); 
```

问题是大多数关于投影的类型信息已经“丢失”给 Java 编译器，当`fetch()`方法“到达”时。方法`ResultQuery.fetchXXX()`无法从`SELECT`子句中恢复它，并将其生成给您。

在 jOOQ 用户组中，一些用户争论将投影移动到`fetch()`方法中，完全是 C# 的 LINQ 或 Scala 的 SLICK 的方式。`SELECT`这将使更高级语句的表达变得非常复杂。此处记录了[更详细的解释](http://www.jooq.org/doc/3.0/manual/sql-building/sql-statements/select-statement/select-lexical-vs-logical-order/)。

在 jOOQ 3.0 中，引入了额外的记录级类型安全。在 jOOQ 3.3 中，因此可以获取单个值（已注册为[#2246](https://github.com/jOOQ/jOOQ/issues/2246)）：

```
<T> T fetchValue(Select<Record1<T>> select); 
```

# android - android弹出窗口可点击

> ID：14952008
> 
> 赞同：1
> 
> 时间：2013-02-19T07:27:27.047
> 
> 标签：android, android-layout, android-widget, onclicklistener

嗨，我有一个 android PopupWindow，它有一个包含两个 TextView 和一个 ImageView 的 RelativeLayout。我希望能够单击 Popup 作为一个整体，其中包含相应的视图并转到另一个活动。我需要实现一个自定义弹出窗口中的 OnClickListener 或弹出窗口中有一些方法我错过了。请指导我。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:36:59.243

`PopupWindow`不继承自`View`，因此您需要实现自己的点击监听器。[这种方法](http://developer.android.com/reference/android/widget/PopupWindow.html#setTouchInterceptor)可能会有所帮助。

# android - 如何在平板电脑中并排显示细节片段并在移动设备中显示垂直堆栈？

> ID：14952011
> 
> 赞同：0
> 
> 时间：2013-02-19T07:27:36.560
> 
> 标签：android, android-layout

如何在双面板中添加多个动态片段？我需要为平板电脑添加双面板，为移动设备添加单面板。同样在细节部分有两个片段，如果平板电脑它并排显示片段，否则如果移动它显示片段顶部和下方。如何做到这一点。我可以在双面板中添加另一个框架布局吗？还是详细片段，只需添加线性布局？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:00:34.933

这是 android.com 的链接。有一个很好的教程如何支持平板电脑和智能手机的不同布局。基本上，您创建不同的布局文件夹（一个用于平板电脑，一个用于手机）并在其中创建您想要的布局。Android 会自动选择正确的。 [http://developer.android.com/guide/practices/tablets-and-handsets.html](http://developer.android.com/guide/practices/tablets-and-handsets.html)

# perl - 我怎样才能得到想要的输出？

> ID：14952014
> 
> 赞同：0
> 
> 时间：2013-02-19T07:27:42.097
> 
> 标签：perl

```
System Database Directory

 Number of entries in the directory = 3

Database 1 entry:

 Database alias                       = Sample
 Database name                        = sample
 Local database directory             = /home/db2inst1
 Database release level               = b.00
 Comment                              =
 Directory entry type                 = Indirect
 Catalog database partition number    = 0
 Alternate server hostname            =
 Alternate server port number         =

Database 2 entry:

 Database alias                       = sample2
 Database name                        = sample2
 Local database directory             = /home/db2inst1
 Database release level               = b.00
 Comment                              =
 Directory entry type                 = Indirect
 Catalog database partition number    = 0
 Alternate server hostname            =
 Alternate server port number         =

Database 3 entry:

 Database alias                       = sample3
 Database name                        = sample
 Local database directory             = /home/db2inst1
 Database release level               = b.00
 Comment                              =
 Directory entry type                 = Indirect
 Catalog database partition number    = 0
 Alternate server hostname            =
 Alternate server port number         = 
```

当我执行系统命令时，我有以下文本。我只想`sample,sample2,sample3`作为输出。我熟悉在 shell 中执行此操作，但我是 perl 新手。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:33:06.467

您可以使用`-n`单行中的选项来处理通过管道发送的标准输入：

```
yourcommand | perl -F'\s*=\s*' -anlwe '/Database alias/ && print $F[1]' 
```

这只是`-a`正则表达式上的一个拆分 ( ) `/\s*=\s*/`，它将在等号上拆分并去除周围的空白。找到目标文本后，它会打印第二个字段，它应该是您的字符串。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-23T15:01:41.360

对此的解决方案只是对[这个答案](https://stackoverflow.com/questions/14953565/how-to-get-only-the-3rd-column/16717044#16717044)稍作修改。基本上，您希望每行的第四列以“数据库别名”开头。您可以使用 perl`grep`函数选择匹配行，然后从上述[解决方案](https://stackoverflow.com/questions/14953565/how-to-get-only-the-3rd-column/16717044#16717044)中执行选择：

```
#!/usr/bin/env perl

use strict;
use warnings;

my $file = shift;
my @aliases;

open FILE, $file or die "Cannot open input file";

chomp (my @lines = grep /^Database alias/, <FILE>);    

close FILE;

for my $row (@lines) {                
    my @columns = split /\s+/, $row;  
    push @aliases, $columns[3];
}

print join "\n", @aliases; 
```

如果您的输入文件很大，我建议使用`while`循环遍历文件并即时过滤掉不匹配的行。这种方法不会将整个文件存储在内存中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T09:03:03.207

您可以像这样在 open 中使用 shell 命令：

```
open(IN,"cmd_that_generate_the_output|grep -i 'Database alias'|cut -f2 -d'='|cut -f2 -d' '|") or die;
while (my $str = <IN>){
  print "str: $str\n";
} 
```

# javascript - 是否可以使用phonegap的文件系统和javascript创建和存储一个json文件

> ID：14952026
> 
> 赞同：0
> 
> 时间：2013-02-19T07:28:20.320
> 
> 标签：javascript, android, jquery, cordova

我正在考虑收集用户的数据并将该用户的数据存储为 json 文件，以便在用户每次使用应用程序时由 javascript 检索，这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:46:20.960

您可以使用文件 API 写入文件系统并存储 JSON 数据。

[Phonegap 文件 API](http://docs.phonegap.com/en/2.4.0/cordova_file_file.md.html#FileWriter)

像这样简单的事情

```
function win(writer) {
    writer.onwrite = function(evt) {
        console.log("write success");
    };
    writer.write("some sample text");
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:33:56.867

是的，你可以做到。ether 通过将其存储在 sqlite（html5 本地存储）中或通过创建单独的文件，它可以是 js 文件、xml 文件或任何类型；）

检查[phonegap文档](http://docs.phonegap.com/en/2.4.0/cordova_file_file.md.html#File)

# javascript - 允许用户在 html/javascript 中指定日期/时间戳范围的最简洁方法是什么？

> ID：14952029
> 
> 赞同：0
> 
> 时间：2013-02-19T07:28:28.887
> 
> 标签：javascript, user-interface, user-controls, timestamp

我有一个简单的 javascript，它在两个时间戳之间的画布上显示数据。

大多数时候，我的用户可能希望快速导航到特定的日期/时间范围，但有时也希望明确说明一个范围。

是否有可以用于此的库等，或者我应该自己滚动？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:32:47.320

我找到了[timepicker](https://github.com/trentrichardson/jQuery-Timepicker-Addon)的解决方案。

# html - Firefox 不喜欢使用弹性框模型的自动边距

> ID：14952032
> 
> 赞同：0
> 
> 时间：2013-02-19T07:28:43.580
> 
> 标签：html, css

我正在尝试将标题 > 部分居中。它适用于chrome和opera，但firefox推到左侧。我创建了一个名为and`.body`的类。它无法在 firefox 上识别（我使用的是 firefox 18）。`width: 960px``margin: 0 auto``margin: 0 auto`

我已经尝试将`display`值设置`inline-block`为`.body`类。它确实居中，但它推`nav`到底部（适用于所有浏览器）。

这就是我想要做的

**HTML**

```
<header id="header">
<section class="body box">
  <section class="flex1">
    <a>MyWebsiteName</a>
  </section>
  <nav class="nav-list flex1">
    <ul>
      <li>
        <a href="">Login</a>
      </li>
      <li><a href="">Register</a></li>
      <li><a href="">Help</a></li>
    </ul>
  </nav>
</section> 
```

**CSS**

```
.box {
  display: -webkit-box;
  display: -moz-box;
  display: -o-box;
  display: box;
 -webkit-flex-direction: row;
 -mox-flex-direction: row;
 flex-direction: row;
 -webkit-box-align: center;
 -moz-box-align: center;
 -o-box-align: center;
 box-align: center;
}

.flex1 {
 -webkit-box-flex: 1;
 -moz-box-flex: 1;
 -o-box-flex: 1;
 box-flex: 1;
}

.body {
  clear: both;
  width: 960px;
  margin: 0 auto;
}

header {
  background: #0C2C52;
  box-shadow: 0 0 .2em .1em rgb(78, 76, 76);
 -webkit-box-shadow: 0 0 .2em .1em rgb(78, 76, 76);
 -moz-box-shadow: 0 0 .2em .1em rgb(78, 76, 76);
 margin-bottom: 1em;
 padding: 1em 0;
}

header > section {
  height: inherit;
}

#header section.flex1 {
  display: inline-block;
}

.nav-list {}

.nav-list > ul {
  float: right;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-19T21:09:44.533

答案并不完美，但相当方便。

就个人而言，我对浏览器开发团队（Microsoft、Mozilla 等）在为他们的应用程序规划 HTML 界面时没有很好地合作感到沮丧。W3C 根本无法对这些公司强制执行：对我们来说是一个主要缺点，现在快到 2014 年了，仍然存在这些荒谬的咕哝级问题。在商界工作了十年，我有点沮丧。请参阅下面的答案...（相应地设置宽度）

**回答**

```
<style type="text/css">
    .box_wrap{margin:0 auto;width:50%;}
</style>

<div class="box_wrap">
    <div class="your_flex_box"> ... </div>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:44:03.000

这是改变你的位`margin: 0 auto;`：

```
.box {
  display: -moz-box;
} 
```

如果你只离开它工作正常`<section class="body">`。[jsfiddle 示例](http://jsfiddle.net/y87Pq/)

# android - 如何使用 JSON 对象在 Android 中显示来自 MySQL 数据库的图像

> ID：14952038
> 
> 赞同：1
> 
> 时间：2013-02-19T07:29:02.330
> 
> 标签：android, database, json, string, image

我一直在尝试几种显示 JSON 图像的方法，但我的解决方案从未成功。

我已经解析了我的 JSON 并得到了响应。

然而，包括响应是我需要在我的应用程序中显示的图像。

将图像接收为：“img src=question/images/u2_1_l2_q66”，这只是字符串。我得到的文本与模拟器**"not a image"**中的文本相同。

在drawable中，我应该添加图像吗？

如何在我的应用程序中显示这些图像？请指导我。

任何帮助都是不言而喻的。

> 代码

```
 protected String doInBackground(String... args) {
        List<NameValuePair> params = new ArrayList<NameValuePair>();
        params.add(new BasicNameValuePair("tid", tid));
        json = jsonParser.makeHttpRequest(url_get_quesurl, "GET", params);
        Log.d("All Groups: ", json.toString());
        try {
        int success = json.getInt(TAG_SUCCESS);
        if (success == 1) {
            System.out.println("Success");
            groups = json.getJSONArray(TAG_GROUP);
            System.out.println("Result Success+++"+groups);
             for (int i = 0; i < groups.length();i++) {
            JSONObject c = groups.getJSONObject(i);
            String question = c.getString(TAG_QUES);
            System.out.println("Checking ::"+question);
            ques1.add(question);
            String img = c.getString(TAG_IMAGE);
            System.out.println("Checking ::"+img);
            imgarr.add(img);
             }
        } else {
            showAlert();
        }
    } catch (JSONException e) {
        System.out.println("Error "+e.toString());
    }
    return null;
}
protected void onPostExecute(String file_url) {
        pDialog.dismiss();
        ques1=new ArrayList<String>(new ArrayList<String>(ques1));
        imgarr=new ArrayList<String>(new ArrayList<String>(imgarr));
        TextView txtque = (TextView) findViewById(R.id.que_txt); 
        txtque.setText("Q" + num + ")" + ques1.get(j) + imgarr.get(g));
           } 
```

> php代码

```
 $group[$i]['image']= base64_encode(file_get_contents("http://10.0.2.2/question/images/".$row['image']));                                                                                                     
        $i++;
      array_push($response["group"], $group); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T12:13:08.140

```
<?php

mysql_connect("localhost","root","sarwar");
mysql_select_db("ess");
$sql=mysql_query("select image from default_products ");

$i=0;

while($row=mysql_fetch_assoc($sql))
{   

//Where Image Exists.
//First taking path from database and then image from folder against that path and then //converting it ino base64 and then Json
   $output[$i]['image']= base64_encode(file_get_contents("http://ur ip address/ess/uploads/default/products/".$row['image']));

  $i++;
}

print(json_encode($output));

mysql_close();
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T13:01:03.347

```
String image;
protected Void doInBackground(String... arg0) {

                try{
                        HttpClient httpclient = new DefaultHttpClient();
                        HttpPost httppost = new HttpPost("//Ur URL");

                        HttpResponse response = httpclient.execute(httppost);
                        HttpEntity entity = response.getEntity();
                         is = entity.getContent();
                }catch(Exception e){
                        Log.e("log_tag", "Error in http connection "+e.toString());
                }

                try{
                        BufferedReader reader = new BufferedReader(new InputStreamReader(is,"iso-8859-1"),8);
                        StringBuilder sb = new StringBuilder();
                        String line = null;
                        while ((line = reader.readLine()) != null) {
                                sb.append(line + "\n");
                        }
                        is.close();

                        result=sb.toString();
                }catch(Exception e){
                        Log.e("log_tag", "Error converting result "+e.toString());
                }
                return null;
                // TODO Auto-generated method stub

            }
            protected void onPostExecute(Void v) {
                  try{

                        JSONArray jArray = new JSONArray(result);
                      for(int i=0;i<=jArray.length();i++)
                      {
                                JSONObject json_data = jArray.getJSONObject(i);

                            String  image=json_data.getString("image");

                      }

             byte[] rawImage = Base64.decode(image, Base64.DEFAULT);
                                                  Bitmap bmp = BitmapFactory.decodeByteArray(rawImage, 0, rawImage.length); 

                                                  imageview.setImageBitmap(bmp);

                }

                catch(JSONException e){
                        Log.e("log_tag", "Error parsing data "+e.toString());
                }

            } 
```

# c# - .NET 中用于属性/装饰器的 IOC

> ID：14952043
> 
> 赞同：0
> 
> 时间：2013-02-19T07:29:11.270
> 
> 标签：c#, wcf

我们的团队创建了一个库，可自动执行 WCF 服务的异常处理和日志记录。使用这个库，开发人员只需用自定义属性装饰服务，设置一些简单的配置文件条目，他们就可以利用通用的异常处理和日志记录机制。

以下是如何使用该库的示例：

```
[ErrorHandlingBehavior (LogWriterOption.EmailLogWriter, LogWriterOption.SQLLogWriter)]
public class SampleService : ISampleService
{
    public string GetData(int value)
    {
        throw new DivideByZeroException();
        //return string.Format("You entered: {0}", value);
    }
} 
```

ErrorHandlingBehavior 类使用 Logger 对象，该对象接受参数中的 LogWriterOption 枚举来确定记录的位置。

我们的初衷是让开发者指定自己的日志记录机制，并将其提供给ErrorHandlingBehavior，从而消除解决方案对Logger类的依赖（取而代之的是任何实现ILogger的类）。但是，以以下方式指定属性会产生错误：

```
 [ErrorHandlingBehavior (new Logger (new HashSet<LogWriterOptions> 

                             {LogWriterOption.EmailLogWriter, LogWriterOption.SQLLogWriter}))] 
```

似乎我们在指定属性时无法实例化任何东西，因此我们现在无法让用户指定他们自己的日志记录机制。

有人知道解决这个问题的方法吗？我们如何将实现 ILogger 的类的实例提供给我们的属性，而不是硬连接依赖关系？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T23:54:22.497

我还写了一些日志异常处理行为。在这种情况下，我总是问自己：

**log4net 会做什么？**

您的 LogWriterOptions 似乎转换为 log4net 附加程序。**Appender 通常最好通过 xml 配置来完成，因为它们的要求会随环境而变化。**（它相当于不要将 WCF 客户端绑定放入代码中。）换句话说，在本地开发时：不要发送电子邮件，只输出到本地文本文件。在 QA 中运行时：输出到数据库，但不要与测试人员一起发送电子邮件，故意破坏某些东西。在生产中：做一些完全不同的事情。[Log4net appenders 支持所有这些类型的编译后更改（以及更多）。](http://logging.apache.org/log4net/release/config-examples.html)

回到你的问题：

*   在您的方法中，我会将行为名称作为“StandardLogging”之类的字符串传递给 ErrorHandlingBehavior，这将查找导致使用 EmailLogWriter 和 SQLLogWritter 的可配置行为。
*   日志框架中常见的另一种方法是[传递正在记录的类的类型](https://stackoverflow.com/questions/3143929/why-do-loggers-recommend-using-a-logger-per-class)。如果该类型没有显式配置，它将获取默认附加程序。

请注意，这种配置方法的额外好处是

1.  集中整个应用程序的日志记录输出选项。如果您更改标准，则不必更新许多类文件。
2.  标准化不同代码段使用的日志写入器选项。在代码审查会议上，您只需问“您是否使用标准日志记录输出？” 查看。

* * *

**更新**以响应您的“保持简单”评论：

如果保持简单是目标，我想说什么都不传递给你的行为的构造函数。而是将所有 log4net 配置信息放在它自己的 log4net.config 文件中，并将其作为通用日志库的一部分存储在源代码控制中。然后只需要添加新项目（或初级开发人员）

```
<configuration>
     <log4net configSource="log4net.config" />
</configuration> 
```

到 app.config。这种方法的好处是，作为我们构建过程的一部分，我们定义了不同的 log4net.config 文件以部署到不同的环境。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:34:36.150

您可以使用工厂模式。让开发人员指定将用于提供`ILogger`实例的类型：

```
[ErrorHandlingBehavior(LoggerFactoryType = "FooBar.MyLoggerFactory")] 
```

这种类型可以实现你的接口：

```
public interface ILoggerFactory
{
    ILogger GetLogger();
} 
```

然后在您的自定义属性中，您可以首先使用该[`Type.GetType`](http://msdn.microsoft.com/en-us/library/system.type.gettype.aspx)方法获取工厂类型，检查它是否实现了`ILoggerFactory`接口，使用该[`Activator.CreateInstance`](http://msdn.microsoft.com/en-us/library/system.activator.createinstance.aspx)方法实例化工厂，最后`GetLogger`在该实例上调用该方法。

# asp.net - 'asp:TextBox' 的 'Text' 属性不允许子对象 #2

> ID：14952044
> 
> 赞同：2
> 
> 时间：2013-02-19T07:29:14.827
> 
> 标签：asp.net, skins

所以这是我第一次尝试在 asp.NET 中使用皮肤。我发现这个概念相当简单——至少我是这么认为的。

我的 .skin 文件如下所示：

```
<asp:TextBox runat="server" CssClass="textBox"></TextBox>

<asp:Button runat="server" CssClass="button"></asp:Button>

<asp:GridView runat="server" Font-Underline="False" CssClass="noborder"
    AllowPaging="true" AutoGenerateColumns="false" Width="100%" PagerStyle-CssClass="pagingrow"
    PagerSettings-Mode="NextPreviousFirstLast" PagerSettings-NextPageText="Next"
    PagerSettings-PreviousPageText="Prev"  PagerSettings-FirstPageText="First"
    PagerSettings-LastPageText="Last" AllowSorting="true"
    HeaderStyle-CssClass="headerrow" RowStyle-CssClass="itemrow" AlternatingRowStyle-CssClass="altrow">
    <EmptyDataTemplate>
        <asp:Label runat="server" ID="lblNoData" Text="No data matches your request."></asp:Label>
    </EmptyDataTemplate>
</asp:GridView> 
```

显然我在这里做错了，因为我不断收到以下错误：

> 'asp:TextBox' 的 'Text' 属性不允许子对象。

引用我为文本框设置皮肤的 .skin 文件中的行。

我无法开始思考这个问题可能是什么，因为任何地方（还）都没有使用我的任何文本框文本属性......那么这里出了什么问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T07:36:24.643

我相信，由于您在 TextBox 结束标记中有错字，ASP.NET 引擎将文本框旁边的所有控件视为默认 Text 属性的子项

解决这个问题：`<asp:TextBox runat="server" CssClass="textBox"></TextBox>`

应该：`<asp:TextBox runat="server" CssClass="textBox"></asp:TextBox>`

# java - 在一段时间后终止由 exec() 启动的进程并将帧存储在数组中

> ID：14952047
> 
> 赞同：4
> 
> 时间：2013-02-19T07:29:21.663
> 
> 标签：java, ffmpeg, exec

首先让我说我对 Java 完全陌生。我来自 PHP 背景，但碰巧我的一项 PHP 任务需要转换为 Java。

任务是使用 ffmpeg 将视频分割成帧，然后使用这些帧。我已经在 PHP 中完成了这个过程。现在我可以将它转换成 Java。

我浏览了一些教程并掌握了基础知识（使用 IDE、运行 java 程序等）。我为此目的使用 Eclipse。

到目前为止，我已经设法通过使用 java 程序来启动 ffmpeg

```
public static void main(String[] args) throws IOException {

    String livestream = "D:/video.mpg";
    String folderpth = "D:/frames";
    String cmd="D:/ffmpeg/bin/ffmpeg.exe -i "+ livestream +" -r 10 "+folderpth+"/image%d.jpg";

    //System.out.println(cmd);
    Runtime r = Runtime.getRuntime();
    Process p = r.exec(cmd); // this starts creating frames
   // and stores them on local disk
   // any way to store that frame name in array?
   // something like String[] frames = {"image%d.jpg"}
   // so that frames array contains image1.jpg, image2.jpg..and so on?

} 
```

这工作正常，我正在文件夹中获取框架。现在我想做的是在一段时间后终止进程，比如 5 分钟，因为视频超过 2 小时，我不想去任务栏手动终止进程。我还想知道是否有办法将 ffmpeg 创建的帧名称存储到数组中以备将来使用。

我尝试使用`p.destroy()`，但这并没有停止这个过程。`setTimeout()`我将如何使用与jQuery 中使用的类似的东西？

### 一些元数据

操作系统：Windows 7

IDE：日食

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:36:49.633

`p.destroy()``kill PID`在linux上发送。这意味着进程接收到信号但不一定终止。您必须执行`kill -9 PID`以确保进程确实终止。不幸的是，标准的 java API 没有提供这样的功能，所以你必须自己做。

但这并不复杂。只有 2 个命令：`kill`用于 Unix 和`killtask`用于 Windows。两者都接受进程 ID。您可以通过反射发现它：私有 int 字段`pid`呈现在`Process`您从中获取的实例的平台特定子类中`runtime.exec()`

编辑

在 linux 上返回extends`runtime.exec()`的实例。我现在没有可用的窗口，无法为您检查它，但据我记得在 Windows 上它返回实例或类似的东西。两者都有可以使用反射提取的私有 int 字段：`UnixProcess``Process``WindowsProcess``pid`

```
Process proc = Rutime.getRuntime().exec("my command");
Field f = proc.getClass().getDeclaredField("pid");
f.setAccessible(true);
int pid = (Integer)f.get(proc); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:48:08.203

我认为 Apache 看门狗会帮助你。它在给定的时间内等待执行。如果时间超过给定时间，它将终止该过程。它在[commons exec中可用](http://commons.apache.org/exec/)

示例代码：

```
ExecuteWatchdog watchdog = new ExecuteWatchdog(1000*60*5);
Process process= Runtime.getRuntime().exec("cmd");
watchdog.start(process); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:34:42.660

一种简单的方法是使用[java.util.Timer](http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html)和[java.util.TimerTask](http://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html)将计时器设置为 5 分钟（或您感兴趣的任何持续时间），并且计时器任务将在计时器关闭时获取进程句柄来杀死它并触发定时器任务。

# javascript - 将 blob URL 转换为普通 URL

> ID：14952052
> 
> 赞同：119
> 
> 时间：2013-02-19T07:29:49.413
> 
> 标签：javascript, url, blob

我的页面会生成这样的 URL：`"blob:http%3A//localhost%3A8383/568233a1-8b13-48b3-84d5-cca045ae384f"`如何将其转换为普通地址？

我将它用作`<img>`'s`src`属性。

* * *

## 回答 #1

> 赞同：197
> 
> 时间：2013-04-23T21:57:31.727

从 JavaScript 创建的 URL`Blob`不能转换为“正常” URL。

`blob:`URL 不是指服务器上存在的数据，它指的是您的浏览器当前在内存中针对当前页面的数据。它在其他页面上不可用，在其他浏览器中不可用，并且在其他计算机上不可用。

因此，一般来说，将`Blob`URL 转换为“普通”URL 是没有意义的。如果您想要一个普通的 URL，则必须将数据从浏览器发送到服务器，并让服务器使其像普通文件一样可用。

至少在 Chrome 中，可以将`blob:`URL 转换为URL。`data:`您可以使用 AJAX 请求从`blob:`URL“获取”数据（即使它实际上只是将其从浏览器的内存中拉出，而不是发出 HTTP 请求）。

这是一个例子：

```
var blob = new Blob(["Hello, world!"], { type: 'text/plain' });
var blobUrl = URL.createObjectURL(blob);

var xhr = new XMLHttpRequest;
xhr.responseType = 'blob';

xhr.onload = function() {
   var recoveredBlob = xhr.response;

   var reader = new FileReader;

   reader.onload = function() {
     var blobAsDataUrl = reader.result;
     window.location = blobAsDataUrl;
   };

   reader.readAsDataURL(recoveredBlob);
};

xhr.open('GET', blobUrl);
xhr.send();
```

`data:`URL 可能不是您所说的“正常”，并且可能会出现问题。然而，它们确实像普通 URL 一样工作，因为它们可以共享；它们并不特定于当前浏览器或会话。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2015-07-23T07:44:16.420

从 blob url 创建数据 url 的另一种方法可能是使用画布。

```
var canvas = document.createElement("canvas")
var context = canvas.getContext("2d")
context.drawImage(img, 0, 0) // i assume that img.src is your blob url
var dataurl = canvas.toDataURL("your prefer type", your prefer quality) 
```

正如我在 mdn 中看到的那样，canvas.toDataURL 得到了浏览器的良好支持。（除了ie<9，总是ie<9）

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2019-07-22T08:00:04.140

对于那些来这里寻找下载 blob url 视频/音频的方法的人来说，[这个答案](https://stackoverflow.com/questions/42901942/how-do-we-download-a-blob-url-video?answertab=votes#tab-top)对我有用。**简而言之，您需要通过Chrome** -> **Network 选项卡**在所需网页上找到一个 *.m3u8 文件并将其粘贴到**VLC 播放器**中。

另一个指南向您展示了如何[使用 VLC Player 保存流](https://www.zachpoff.com/resources/stream-recording-with-vlc/)。

* * *

**更新：**

从 blob url 下载视频的另一种方法是使用批量下载器并将文件连接在一起。

**下载视频部分**

1.  在 chrome 开发工具中打开网络选项卡

[![在此处输入图像描述](../Images/3ea0d5f4727e28bc9f75a5d86e17cb48.png)](https://i.stack.imgur.com/WOrLi.png)

2.  重新加载网页
3.  过滤 .m3u8 文件

[![在此处输入图像描述](../Images/25f2743b113b32d6df385e44533caec1.png)](https://i.stack.imgur.com/UMq5d.png)

4.  查看所有过滤的文件并找到“.ts”文件的播放列表。它应该看起来像这样：

[![在此处输入图像描述](../Images/5d362da165b20981567ad18cd3c941ae.png)](https://i.stack.imgur.com/JeKp5.png)

5.  您需要以某种方式提取这些链接。手动下载和编辑文件或使用您喜欢的任何其他方法。如您所见，这些链接非常相​​似，唯一不同的是视频的序列号：'s - **0** -v1-a1.ts'、's - **1** -v1-a1.ts'等。

    [https://some-website.net/del/8cf.m3u8/s-0-v1-a1.ts](https://some-website.net/del/8cf.m3u8/s-0-v1-a1.ts)

    [https://some-website.net/del/8cf.m3u8/s-1-v1-a1.ts](https://some-website.net/del/8cf.m3u8/s-1-v1-a1.ts)  </p>

    [https://some-website.net/del/8cf.m3u8/s-2-v1-a1.ts </a>](https://some-website.net/del/8cf.m3u8/s-2-v1-a1.ts%E2%80%A8)

    [](https://some-website.net/del/8cf.m3u8/s-2-v1-a1.ts%E2%80%A8)
[](https://some-website.net/del/8cf.m3u8/s-2-v1-a1.ts%E2%80%A8)

 [依此类推，直到 .m3u8 播放列表文件中的最后一个链接。这些 .ts 文件实际上是您的视频。您需要下载所有这些。](https://some-website.net/del/8cf.m3u8/s-2-v1-a1.ts%E2%80%A8) 

[](https://some-website.net/del/8cf.m3u8/s-2-v1-a1.ts%E2%80%A8)
7.  [对于批量下载，我更喜欢使用适用于 Chrome 的 Simple Mass Downloader 扩展程序（](https://some-website.net/del/8cf.m3u8/s-2-v1-a1.ts%E2%80%A8)[https://chrome.google.com/webstore/detail/simple-mass-downloader/abdkkegmcbiomijcbdaodaflgehfffed](https://chrome.google.com/webstore/detail/simple-mass-downloader/abdkkegmcbiomijcbdaodaflgehfffed)）

8.  如果您选择使用 Simple Mass Downloader，您需要：

    一种。选择模式 URL

[![在此处输入图像描述](../Images/2cd6ce83179c6ea6b9a6ce7ab6908eda.png)](https://i.stack.imgur.com/K4yDE.png)

湾。在地址字段中输入您的链接，只需进行一次修改：为每个下一个视频更改的链接部分需要替换为方括号 [0:400] 中的模式，其中 0 是第一个文件名，400 是最后一个。所以你的链接应该看起来像这样[https://some-website.net/del/8cf.m3u8/s-[0:400]-v1-a1.ts](https://some-website.net/del/8cf.m3u8/s-%5B0:400%5D-v1-a1.ts)。

然后点击 Import 按钮将这些链接添加到 Mass Downloader 的下载列表中。

[![在此处输入图像描述](../Images/e60c7e3d1f347b0cff5a40f8b51f14a7.png)](https://i.stack.imgur.com/8Eg5R.png)

C。下一个操作可能会询问您下载的每个视频的目标文件夹。因此强烈建议在 Chrome 设置中指定默认下载文件夹，并在 Chrome 设置中禁用选择目标选项。这将为您节省大量时间！此外，您可能希望指定这些文件所在的文件夹：

[![在此处输入图像描述](../Images/e098deb125a7d52fd08d7771f7b4ef6b.png)](https://i.stack.imgur.com/Fe8WW.png)

c1。单击全选复选框以从下载列表中选择所有文件。

[![在此处输入图像描述](../Images/e5e507ae68e456c8291dd9b91e7e2c43.png)](https://i.stack.imgur.com/BUivz.png)

c2。单击 SMD 扩展窗口右下角的下载按钮。它将带您到下一个选项卡开始下载

[![在此处输入图像描述](../Images/369055474151c78459473eb6c07128c3.png)](https://i.stack.imgur.com/fVb4k.png)

c3。点击开始选择。这会将所有视频自动下载到下载文件夹中。

[![在此处输入图像描述](../Images/7e3ce0fbd54fd17995187a32233cce60.png)](https://i.stack.imgur.com/S3x3H.png)

这就对了！只需等到所有文件都下载完毕，您就可以通过 VLC 播放器或任何其他支持 .ts 格式的播放器观看它们。但是，如果您想拥有一个视频而不是下载的视频，则需要将所有这些迷你视频连接在一起

**加入视频部分**

由于我在 Mac 上工作，我不知道您将如何在 Windows 上执行此操作。如果您是 Windows 用户并且想要合并视频，请随时使用谷歌搜索 Windows 解决方案。后续步骤仅适用于 Mac。

1.  在要保存新视频的文件夹中打开终端
2.  类型：`cat`然后点击`space`
3.  打开您下载`.ts`视频的文件夹。选择`.ts`您要加入的所有视频（使用鼠标或`cmd+A`）
4.  将它们拖放到终端中
5.  打`space`
6.  打`>`
7.  打`Space`
8.  输入新视频的名称，例如`my_new_video.ts`。请注意，格式必须与原视频格式一致，否则转换时间较长，甚至可能会失败！
9.  打`Enter`。等待终端完成加入过程并享受观看您的视频！

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2020-11-16T11:26:40.570

[在这里](https://stackoverflow.com/questions/23150333/html5-javascript-dataurl-to-blob-blob-to-dataurl)找到了这个答案并想引用它，因为它看起来比接受的答案要干净得多：

```
function blobToDataURL(blob, callback) {
  var fileReader = new FileReader();
  fileReader.onload = function(e) {callback(e.target.result);}
  fileReader.readAsDataURL(blob);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-04-13T18:54:48.397

我参加晚会很晚了。

如果您想下载内容，您`fetch`现在可以简单地使用

```
fetch(blobURL)
  .then(res => res.blob())
  .then(blob => /*do what you want with the blob here*/) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2022-01-30T20:35:55.030

这里的解决方案：

```
 let blob = new Blob(chunks, { 'type' : 'video/mp4;' });
        let videoURL = window.URL.createObjectURL(blob);
        const blobF = await fetch(videoURL).then(res => res.blob()) 
```

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2018-05-12T06:08:15.797

正如前面的答案所说，没有办法将其解码回 url，即使您尝试从 chrome devtools 面板查看它，url 可能仍被编码为 blob。

但是，获取数据是可以的，另一种获取数据的方法是放到anchor中直接下载。

```
<a href="blob:http://example.com/xxxx-xxxx-xxxx-xxxx" download>download</a> 
```

将此插入包含 blob url 的页面并单击按钮，您将获得内容。

另一种方法是通过代理服务器拦截ajax调用，然后您可以查看真实的图像url。

# ios - iOS：我的 Google Analytics（分析）帐户中的 Google Analytics（分析）用户计时报告未更新

> ID：14952061
> 
> 赞同：9
> 
> 时间：2013-02-19T07:30:50.633
> 
> 标签：ios, google-analytics

我正在尝试使用谷歌分析来跟踪我的应用程序速度，但我在我的谷歌分析帐户中看不到应用程序速度下的任何内容。我已经跟踪了其他参数，例如事件、崩溃和异常。对于这些参数，我能够看到在我的谷歌分析帐户中生成的报告。以下是我用来发送事件计时的代码。

```
 self.endDate=[NSDate date];
 double timeDiff=[_startDate
 timeIntervalSinceDate:_endDate];
 NSLog(@"timeDiff----%f",timeDiff); 
 if([[[GAI sharedInstance]defaultTracker] sendTimingWithCategory:category
                                                       withValue:timeDiff
                                                        withName:@"LoadTime"      
                                                       withLabel:category])   {
       NSLog(@"Succesfully sent load time to GA");   
 } 
```

以下是控制台中打印的消息。

> GoogleAnalytics 2.0b4 -[GAIDispatcher dispatchComplete:withStartTime:withRetryNumber:withResponse:withData:withError:] (GAIDispatcher.m:415) 调试：成功发送命中 /GAIHit/p479（0 次重试）。

如果你有任何示例代码，请提供给我。请帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-11-21T16:07:48.420

我发现间隔必须是整数。它期望毫秒，但 NSTimeInterval 是秒，因此它尝试将其作为“3.1234”发送，但如果将其转换为整毫秒，它将作为 3123 发送，您应该会看到结果。转换我使用（GA V3）

```
[tracker send:[[GAIDictionaryBuilder createTimingWithCategory:category interval:@((int)(interval * 1000)) name:name label:label] build]] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:33:53.457

您是否碰巧在 GA 仪表板中看到了实时数据选项卡？？？它们显示最近 30 分钟的使用数据。稍后它会在您的 Google 分析仪表板中更新。我曾使用 Flurry、Google 分析，我发现 GA 更好更快。继续尝试！！！。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T09:43:52.620

您的实现似乎很好。我不认为这是问题（当你得到基本事件时，它可能不是初始化问题）。我有同样的方法来记录计时事件（如果你想比较，你可以在下面找到我的代码）。

**我可以告诉你的是：**

1/ 这是一个“ **beta** ”版本（是的，好吧，@google 的所有东西都在 beta xD 中），非常不稳定，事件需要时间才能显示在管理中（例如，我还没有看到 2 月 18 日的任何事件）。至少，比具有类似统计数据的网站要多。

2/ 我无法显示超过 2 天的时间事件，或者它显示了一些错误 ^^（可能太多数据要求大时区）

3/ 如果没有label，就不放category，直接设置nil。名字也一样。我认为它们都是可选参数。当您拥有更多统计数据时，它会减慢您的分析显示速度。

4/ 对于大数据集，时间事件是根据您的部分访问计算的。但现在应该不是您的问题 ^^ [http://support.google.com/analytics/bin/answer.py?hl=en&answer=1042498](http://support.google.com/analytics/bin/answer.py?hl=en&answer=1042498)

等待 2 天。如果您仍然没有看到任何内容，请尝试联系谷歌分析代表。或者冒着“风险”按原样提交。

**我的实现**

（以防万一）

```
+ (void)trackGoogleTimingInCategory:(NSString *)category withTimeInterval:(NSTimeInterval)time withName:(NSString *)name withLabel:(NSString *)label {

    //
    if (![ category isKindOfClass:[ NSString class ] ])
        return;

    NSLog(@"[%@] %@ time=%f (%@)", category, name, time, label);

    //
    if (![ name isKindOfClass:[ NSString class ] ])
        name = nil;
    if (![ label isKindOfClass:[ NSString class ] ])
        label = nil;

    //
    [ [ [ GAI sharedInstance ] defaultTracker ] sendTimingWithCategory:category withValue:time withName:name withLabel:label ];

} 
```

对于时间计算，我也是这样做的：

```
NSTimeInterval timeInterval = [ [ NSDate date ] timeIntervalSinceDate:timeStart ]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-21T01:42:41.223

您必须等待至少 24 小时才能在您的 Google Analytics（分析）仪表板中提供数据，除非您拥有 GA 高级帐户：

[http://www.google.com/analytics/premium/features.html](http://www.google.com/analytics/premium/features.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-06-09T06:01:35.533

我在 iOS 上的 Xamarin 的 Google Analytics 组件遇到了同样的问题，但是使用**NSNumber.FromInt32**让它工作：

```
var start = DateTime.Now;

// do operation

var finish = DateTime.Now;
var timeElapsed = finish.Subtract (start);

GAI.SharedInstance.DefaultTracker
    .Send(GAIDictionaryBuilder.CreateTiming(
            "Storage", 
            NSNumber.FromInt32((int)timeElapsed.TotalMilliseconds), 
            "LoadItems", null)
        .Build()); 
```

# iphone - 一点uitextview位置

> ID：14952062
> 
> 赞同：1
> 
> 时间：2013-02-19T07:30:57.417
> 
> 标签：iphone, ios, plist, uitextview, frame

我正在编写此代码以将 plist 加载到 2 textview 但我希望他们根据我所做的内容大小调整它们的高度但我希望第二个 uitextview 从第一个结束的地方开始..请帮助

```
 for (int i = 0; i < arrresult.count; i++) {

    NSArray *sorteddetail = [self.arrresult sortedArrayUsingFunction:sortint context:NULL];
    DuaObject *duaobj2 = [[DuaObject alloc] initWithFilePath:[sorteddetail objectAtIndex:i]];
    [duaobj2 loadFile];

    CGRect frame;
    frame.origin.x = self.scrollmain.frame.size.width * i;
    frame.origin.y = 0;
    frame.size = self.scrollmain.frame.size;

    UITextView *subview = [[UITextView alloc] initWithFrame:CGRectMake((frame.origin.x)+40,(frame.origin.y)+10, 230, 120)];
    UITextView *subview2 = [[UITextView alloc]initWithFrame:CGRectMake((frame.origin.x)+40,(frame.origin.y)+160,230, 120)];

    subview.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"BG_text.png"]];
    subview2.backgroundColor = [UIColor whiteColor];

    [subview setFont:[UIFont boldSystemFontOfSize:14]];
    [subview2 setFont:[UIFont boldSystemFontOfSize:14]];

    subview.layer.cornerRadius = 10 ;
    subview2.layer.cornerRadius = 10;

    NSString *p = [duaobj2 dua_arabic];
    NSString *b = [duaobj2 eng_trans];

    subview.text = p;
    subview2.text = b;

    [self.scrollmain addSubview:subview];
    [self.scrollmain addSubview:subview2];

    subview.editable = NO;
    subview2.editable = NO;

    subview.textColor = [UIColor blackColor];
    subview2.textColor = [UIColor blackColor];

    subview.backgroundColor = [UIColor whiteColor];
    subview2.backgroundColor = [UIColor whiteColor];

    scrollmain.showsHorizontalScrollIndicator = NO;

    CGRect frame1 = subview.frame;
    CGRect frame2 = subview2.frame;

    frame1.size.height = subview.contentSize.height;
    frame2.size.height = subview2.contentSize.height;

    subview.frame = frame1;
    subview2.frame = frame2;

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:42:00.817

您可以为此使用两个 UIWebView。从 plist 获取文本数据后，将其重定向到特定的 Web 视图。并使用 [webView stringByEvaluatingJavaScriptFromString:@"document.body.offsetHeight;"] 方法获取像素高度。根据像素的高度，您可以重新调整网页视图框架。

编辑：看这个：[如何根据内容调整 UITextView 的大小？](https://stackoverflow.com/questions/50467/how-do-i-size-a-uitextview-to-its-content) 它会帮助你。

# derby - 将多个数据迭代地插入到 java 数据库（derby）中的表中会产生错误

> ID：14952067
> 
> 赞同：0
> 
> 时间：2013-02-19T07:31:37.417
> 
> 标签：derby

我编写了一个负责注册的程序，每次我尝试一次插入多个具有不同 id 的新用户时，它都会给出错误消息： java.sql.SQLIntegrityConstraintViolationException: The statement was aborted because it would have cause a duplicate在“STCEPARTICIPANTS”上定义的“SQL130217122630580”标识的唯一或主键约束或唯一索引中的键值。

这是从按钮传递的操作，指示要保存数据：

```
private void printsavebtnActionPerformed(java.awt.event.ActionEvent evt) {                                             
    // TODO add your handling code here:

    String query1= "insert into STCEPARTICIPANTS values("
                +speno1tf.getText()+",'"+sname1tf.getText()+"','"
                +fname1tf.getText()+"','"+uni1cb.getSelectedItem()
                +"')";
    String query2= "insert into STCEPARTICIPANTS values("
                +speno1tf.getText()+",'"+sname1tf.getText()+"','"
                +fname1tf.getText()+"','"+uni1cb.getSelectedItem()
                +"')";
    String query3= "insert into STCEPARTICIPANTS values("
                +speno1tf.getText()+",'"+sname1tf.getText()+"','"
                +fname1tf.getText()+"','"+uni1cb.getSelectedItem()
                +"')";
    String query4= "insert into STCEPARTICIPANTS values("
                +speno1tf.getText()+",'"+sname1tf.getText()+"','"
                +fname1tf.getText()+"','"+uni1cb.getSelectedItem()
                +"')";
    String [] queryarray= {query1,query2,query3,query4};

    int speno1,speno2,speno3,speno4;
    String task;
    if(fname1tf.getText().equals("")||sname1tf.getText().equals("")||speno1tf.getText().equals("")
            ||uni1cb.getSelectedItem().equals("-")|| fname2tf.getText().equals("")||sname2tf.getText().equals("")||speno2tf.getText().equals("")
            ||uni2cb.getSelectedItem().equals("-") || fname3tf.getText().equals("")||sname3tf.getText().equals("")||speno3tf.getText().equals("")
            ||uni3cb.getSelectedItem().equals("-") || fname4tf.getText().equals("")||sname4tf.getText().equals("")||speno4tf.getText().equals("")
            ||uni4cb.getSelectedItem().equals("-")  ){
        JOptionPane.showMessageDialog(rootPane, "Please enter the fields marked '*'");
    }
    else {
        try{
        speno1=Integer.parseInt(speno1tf.getText());
        speno2=Integer.parseInt(speno2tf.getText());
        speno3=Integer.parseInt(speno3tf.getText());
        speno4=Integer.parseInt(speno4tf.getText());

        int [] taskit = {speno1,speno2,speno3,speno4};

        for(int count2=0;count2<taskit.length;count2++){
            task=  "select * from STCEPARTICIPANTS where spe_number="+taskit[count2];
            DBOptions.executeNonQuery(queryarray[count2]);

             if(SearchData.searchSpeno(task)==true){
        JOptionPane.showMessageDialog(rootPane, "Sorry, this member is already in the database./t Please go to Profile to renew of view membership details. Thank you!");
        }   
        } 
```

SearchData 类如下所示：

```
public static boolean searchSpeno(String task){
    String query =task;
    ResultSet rs = DBOptions.executeSQLQuery(query);

    if(rs!=null)
        {
            try
            {
                java.sql.ResultSetMetaData rsmd = rs.getMetaData();
                int colCount = rsmd.getColumnCount();
                if(colCount > 0)
                {
                    try
                    {
                        if(rs.next() && ! rs.getString("spe_number").equals(""))
                        {
                                return true;
                        }
                        else
                        {
                            return false;
                        }

                    }

                    catch(SQLException e)
                    {
                        JOptionPane.showMessageDialog(null, e,"Search Error", 3);
                        return false;
                    }
                }
                else
                {
                     //JOptionPane.showMessageDialog(null, "Invalid Employee ID","Search Error", 3);
                     return false;
                }
            }
            catch(SQLException ex)
            {
                 //JOptionPane.showMessageDialog(null, ex.getMessage(),"Error Occured", 2);
                 return false;
            }

         }
        else
        {
            return false;
        }

} 
```

}

}

DBOptions 类是：

```
public static boolean executeNonQuery(String sqlString)
{
    try
    {
        Statement stmt = con.createStatement();
        stmt.executeUpdate(sqlString);
        JOptionPane.showMessageDialog(null,"success!");
        return true;
        //return the number of rows affected
    }
    catch(SQLException e)
    {
        //display error message
        JOptionPane.showMessageDialog(null,  e.getMessage()+"\nPlease Try Again","Non Query Execution Failure", 1);
        e.printStackTrace();
        return false;
    }
}

public static ResultSet executeSQLQuery(String sqlQuery)
{
    try
    {
        Statement stmt = con.createStatement();
        return stmt.executeQuery(sqlQuery); //query successfully executed
    }
    catch(SQLException e)
    {
        //display error message
        JOptionPane.showMessageDialog(null, e.getMessage()+"\nPlease Try Again","Query Execution Failure", 1);
        return null; //sql query execution failed
    }
} 
```

}

拜托，我已经看到了一些这样的问题，我尝试了不同形式的解决方案，但没有办法。我需要为小型项目防御做好准备。感谢您的回复。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T16:13:28.787

你是如何创建表格的？您可以将 CREATE TABLE 语句粘贴到您的问题中吗？

表中的每一行都必须为每一列定义一个唯一值，该值被定义为 PRIMARY KEY 或 UNIQUE，并且 Derby 正在强制执行该约束。

回到您的表定义，找出您为哪些列指定了 PRIMARY KEY 或 UNIQUE 列，然后查看您的程序以找出您为这些列提供的值。

然后修改您的程序，使其为每个此类列提供唯一值。

# javascript - Kendo UI 网格 - throw Error(kendo.format("Cannot call method '{0}' of {1} before it is initialized",t,r))

> ID：14952072
> 
> 赞同：9
> 
> 时间：2013-02-19T07:32:11.003
> 
> 标签：javascript, user-interface, grid, kendo-ui

我有`tabstrip`两个标签。在每个选项卡上，我都有一个带有分页的网格。我的网格配置在客户端。当我快速切换beetween选项卡时，我从javascript中得到异常：

```
"throw Error(kendo.format("Cannot call method '{0}' of {1} before it is initialized",t,r))" 
```

以下部分用于网格中的分页配置：

```
[...]

pageable: {
                    pageSizes: [5, 10, 20],
                    input: true
           },
[...] 
```

你知道如何防止这个错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-11-09T13:00:37.760

我遇到了同样的问题，是的，有一个解决方法，基本上你只需要在移动到新标签之前破坏网格......

解决这个问题的最好方法是使用这个函数，同时会寻找剑道网格并摧毁它们

```
$("[kendo-grid]").each(function(idx,kGrid){
                                var dataObj=$(kGrid).data();
                                for(mData in dataObj)
                                {
                                    if(typeOf dataObj[mData] != "string")
                                    {
                                        if("destroy" in dataObj[mData])
                                        {
                                            dataObj[mData].destroy();
                                        }
                                    }
                                }
                            }) 
```

希望这可以帮助...

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-03-20T22:01:40.400

不清楚确切的问题是什么......看起来像同步问题。

尝试使用 async: false 加载内容

# javascript - Javascript - 在 DIV 中选择 H1

> ID：14952073
> 
> 赞同：2
> 
> 时间：2013-02-19T07:32:18.693
> 
> 标签：javascript, jquery, css, qtip2

我已经对此进行了所有搜索，并找到了看似正确的答案。但这对我不起作用。我在 div 中有这个 CKEditor。在这个 CKEditor 里面，有很多内容，我想在这个编辑器里面的所有 H1 样式上添加一个悬停事件。

div 结构如下所示：

```
<div id="content" class="cke_editable">
   <h1>
      <span>My content</span>
    </h1>
</div> 
```

我实际上正在尝试使用 qTip2，因为它似乎符合我的需求。但我无法选择 H1 标签。是因为它在一个同时具有 ID 和类的 div 中吗？还是与H1内部有`<span>`标签有关？

这是javascript：

```
<script type="text/javascript">
var shared = {
    position: {
        my: 'top left', 
        at: 'bottom right',
    },
    style: {
        tip: true
    }
};

$('h1').qtip( $.extend({}, shared, { 
    content: 'An example tooltip',
    style: {
        classes: 'ui-tooltip-red'
    }
}));
</script> 
```

在选择器方面，我尝试只选择 H1，就像在这个例子中一样。以及和。`$('.cke_editable h1')`_ 但没有骰子。在我的 CSS 中，我已成功添加到. 那行得通。`$('#content h1')``$('#content > h1')``cursor: pointer``#content h1`

我在这里做错了吗？

编辑：如果我`$('#content').qtip`直接选择，它会起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:38:06.793

试着这样写：

```
$('h1','#content').qtip 
```

或者：

```
$('#content').find('h1').qtip 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:49:09.543

CKEditor 创建一个 iframe 来放置内容，因此您不能使用 jQuery 选择器来选择其中的元素，因为它甚至不再位于同一个文档中。

# java - 将设备数据与网络服务器同步

> ID：14952076
> 
> 赞同：2
> 
> 时间：2013-02-19T07:32:23.280
> 
> 标签：java, performance, queue, android-sqlite, android-networking

我的应用程序中有数据，必须根据网络可用性在服务器上进行更新。我使用 sqlite 将这些数据存储在 android 上的本地数据库中。目前的想法是：

1.  数据应插入本地 sqlite 数据库
2.  插入数据后，服务应该等待它检查网络可用性并将其发送到服务器并等待成功响应。
3.  如果从服务器收到响应 true，它应该更新该 sqlite 行的同步状态并移动到下一行以发送数据。

我想找到将这些数据排队以将其发送到服务器的最佳方式，此外，当网络不可用时，此队列应该停止向服务器发送数据。由于 java 中有很多可用的队列，哪个队列最适合保存这些数据。由于数据可以增长到任何无限大小。这就像一个生产者 - 消费者问题，但解决它的最有效方法是什么。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:47:49.303

当它已经存储在本地数据库中时，为什么要将这些数据存储在队列中？我的意思是如果您的应用程序关闭然后队列中的数据丢失会发生什么。只需编写一个服务来检查本地数据库是否有新条目。如果有新条目，请尝试将它们推送到网络服务器。

# heroku - 如何从自定义 Heroku buildpack 中检索当前构建的版本？

> ID：14952077
> 
> 赞同：0
> 
> 时间：2013-02-19T07:32:34.417
> 
> 标签：heroku, buildpack

我有一个由我们的 CI 服务器存储在 s3 上的 git 修订索引的构建目录。我不想在部署时执行构建，我只想下载一个预构建的应用程序，解压它然后去。

我正在尝试使用自定义构建包来完成此任务，但为了做到这一点，我需要找出正在编译的代码版本。可悲的是（对我而言），我在环境中的任何地方都找不到此信息。

似乎这是应该以某种方式发现的东西，但我完全不知道在哪里。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T22:11:17.833

您可能想查看*（非官方支持的）* [`heroku-anvil`](https://github.com/ddollar/heroku-anvil)插件，其中包括`heroku release`将外部创建的 slug 推送到 Heroku 应用程序的命令。它最初是为使用 Anvil 创建的 slug 而设计的，但应该适用于任何 TAR GZ，只要它可以在 Heroku 上运行。例如，您可以执行以下操作：

```
$ heroku release https://s3.amazonaws.com/my-bucket/slugs-000.tgz -a myapp-staging
Releasing to myapp-staging.heroku.com... done, v42 
```

# ruby-on-rails-3 - 非模型字段未以嵌套形式验证

> ID：14952080
> 
> 赞同：1
> 
> 时间：2013-02-19T07:32:51.857
> 
> 标签：ruby-on-rails-3, nested-forms, attr-accessor

我正在尝试为“创意”模型添加“大小”属性的验证。“创意”模型与“广告”是一一对应的，其字段以嵌套形式显示在“广告”表单中（代码如下）。

问题是，当我实际保存表单时，不会验证大小 - 既没有使用格式验证器，也没有使用 :presence 验证器（如果我添加一个）。同时验证 :filter 属性。

Size 是一个非模型属性，添加了 attr_accessor 方法和自定义 setter 和 getter。

寻找修复此代码的方法或任何不同的解决方案来为非模型嵌套属性添加验证将不胜感激。

控制器：

```
class Creative < ActiveRecord::Base
  attr_accessible :size, :filter
  belongs_to :ad
  attr_accessor :size
  validates :size, :format => { :with => /^\d+x\d+$/, :message => "Incorrect size param. Should be [width]x[height], e.g. 320x50" }
  validates :filters, :presence => true

  def size
    "#{self.width}x#{self.height}"
  end

  def size=(size)
      @width, @height = size.split("x").map(&:to_i)
  end
end

class Ad < ActiveRecord::Base
  attr_accessible :creative_attributes
  has_one :creative
  accepts_nested_attributes_for :creative

  validates_associated :creative
end

class Campaign < ActiveRecord::Base
  has_many :ads
end 
```

形式：

```
<%= simple_form_for [:rtb, @campaign, @ad], :html => { :class => 'form-horizontal' } do |f| %>
    <% if @ad.errors.any? %>
        <div id="error_explanation" class="alert alert-error">
            <h2><%= pluralize(@ad.errors.count, "error") %> prohibited this ad from being saved:</h2>

            <ul>
                <% @ad.errors.full_messages.each do |msg| %>
                    <li><%= msg %></li>
                <% end %>
            </ul>
        </div>
    <% end %>
            <%= f.input :name  %>
            <%= f.simple_fields_for :creative do |creative_f| %>
            <fieldset>
                <legend>Creative Settings</legend>
            <%= creative_f.input :size %>
            <%= creative_f.input :filters %>
            </fieldset>
        <% end %>
        <%= f.button :submit, :class => 'btn-primary' %>
<% end %> 
```

# java - 复制矩阵

> ID：14952090
> 
> 赞同：0
> 
> 时间：2013-02-19T07:33:10.547
> 
> 标签：java, arraylist

我必须复制矩阵并更改新矩阵，但不想更改初始矩阵。我用arraylist 的arraylist 来表示它们。这是我的代码

```
ArrayList<ArrayList<Integer>> tempMatrix = new ArrayList<ArrayList<Integer>>();
        for(ArrayList<Integer> row : matrix) {
            for(Integer index : row) {
                tempMatrix.get(row).add(index);
            }
        } 
```

编译器说为此目的使用 get 方法是非法的。我还能做些什么来复制？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:37:22.800

您可以复制整行，省去很多麻烦：

```
ArrayList<ArrayList<Integer>> tempMatrix = new ArrayList<ArrayList<Integer>>();
for(ArrayList<Integer> row : matrix) {
    tempMatrix.add(new ArrayList<Integer>(row));
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:42:39.520

尝试：

```
 for(ArrayList<Integer> row : matrix) {
        ArrayList<Integer> rowList = new ArrayList<Integer>();
        for(Integer index : row) {
            rowList.add(index);
        }
        tempMatrix.add(rowList);
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T07:44:29.037

您需要克隆数组列表：

```
 ArrayList<ArrayList<Integer>> tempMatrix = new ArrayList<ArrayList<Integer>>();
    for(ArrayList<Integer> row : matrix) {
         tempMatrix.add(row.clone());
    } 
```

如果您使用 new`Arraylist`那么您将`arraylist`确实有一个 new 但它包含的元素将是对作为构造函数参数传递的数组中包含的元素的引用。

# ios - 在哪里调用超级方法

> ID：14952091
> 
> 赞同：0
> 
> 时间：2013-02-19T07:33:10.500
> 
> 标签：ios

```
- (void)didReceiveMemoryWarning
{

   self.listArr=nil;
   self.tableView1=nil;

   [super didReceiveMemoryWarning];

} 
```

我应该把[super didReceiveMemoryWarning]放在最后还是最前面，或者不写。你能详细解释一下吗？

# sockets - 什么是 Socket.IO 发送和获取数据（确认）？

> ID：14952092
> 
> 赞同：5
> 
> 时间：2013-02-19T07:33:11.510
> 
> 标签：sockets, websocket, socket.io

[来自Socket.IO 网站](http://socket.io/#how-to-use)的这个例子让我很困惑。*发送和获取数据（确认）*：

**客户**：

```
<script>
    socket.on('connect', function () {
        socket.emit('ferret', 'tobi', function (data) {
             console.log(data); // data will be 'woot'
        });
    });
</script> 
```

**服务器**：

```
io.sockets.on('connection', function (socket) {
    socket.on('ferret', function (name, fn) {
        fn('woot');
    });
}); 
```

我实际上是在复制这个例子。我无法理解的是：

*   **Q1**：首先这是如何工作的。服务器（执行时`fn`）是否*自动*将结果发送给客户端？Socket.IO 是否绑定`fn`到客户端的第三个参数`emit`？
*   **Q2 ：****服务器**匿名中的（未使用）`name`参数是什么？记录它显示它是，为什么？**`function (name, fn)``undefined`**

 *** * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-19T16:07:08.200

自己找的，如有错误请指正：

*   `name`（官方文档中的什么倒霉的名字！！！）实际上是**客户端发送的数据**。
*   `fn`对应于客户端代码的第三个参数，当执行（从服务器）*自动*（？）将数据发送回客户端。惊人的！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-19T20:38:48.037

确实; 如果您将“fn”重命名为“callback”，它会变得更加清晰，如下所示：[Acknowledgment for socket.io custom event](https://stackoverflow.com/questions/20417569/acknowledgment-for-socket-io-custom-event)。该回调永远不会在服务器端执行；服务器只是将传递给回调的数据（在本例中为字符串“woot”）发送回客户端作为确认。然后使用服务器发送的数据在客户端上执行回调。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-09-27T04:54:00.470

将数据从客户端发送到服务器

```
socket.emit("Idofhtmltag",value); 
```

要从服务器接收数据，在客户端 html 上添加这个

```
socket.io("Idofhtmltag",function(msg){  }) ; 
```**

# android - 为什么 onCreate 在方向改变时再次重新加载

> ID：14952094
> 
> 赞同：0
> 
> 时间：2013-02-19T07:33:18.303
> 
> 标签：android, oncreate

目前我正在设计一个应用程序，其中我有一个列表和列表的字母滚动条。要加载列表中的数据，我在 onCreate 中调用一个方法，并调用一个方法来为列表构建字母滚动条。现在我的问题是，当我改变方向时， onCreate 方法再次调用，因为这两个内部方法也再次调用。但我不想再次调用将数据加载到列表中的方法。意味着在改变方向时不应再次调用正在加载数据的方法，而应再次调用正在构建滚动条的方法。

请告诉我我该怎么做。

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T07:35:20.367

你可以添加这个：

```
android:configChanges="orientation" 
```

在所需`Activity`标签的清单中

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);
    //reload your ScrollBars by checking the newConfig
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T07:39:38.540

发生这种情况是因为 android 假设已经创建了一个新活动。

**在android 清单**内的活动部分使用**android :configChanges="orientation"**

 **并且不要忘记覆盖此方法：

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);    
} 
```

然后将在方向更改时调用此方法。在此代码中执行您想要执行的操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:38:11.693

您可以在活动清单中添加 android:configChanges="orientation" 并手动设置 contentView 或通过覆盖[OnConfigurationChanged更改布局](http://developer.android.com/reference/android/app/Activity.html#onConfigurationChanged%28android.content.res.Configuration%29)**

# php - PHP 在会话中保存 Obj 然后在另一个页面上更改它的值

> ID：14952095
> 
> 赞同：0
> 
> 时间：2013-02-19T07:33:24.743
> 
> 标签：php, session-variables

我是 PHP 的 OOP 新手，我正在尝试做这样的事情：类条目表单在它自己的文件中。index.php 从类条目表单创建一个对象并将其存储在会话中。page1.php - 我希望能够回调这个对象并在其上运行一些方法来修改它的值。除了这不起作用...

所以工作流程如下index->​​page1

我试图掌握面向对象编程的概念。我开始明白了。我想做错了吗？这可能吗？

```
//page1.php

    include('entry.class.php');
    session_start();

    print_r($_SESSION['entry']);
    $entry = unserialize($_SESSION['Entry']);
    $entry->set_category('Asian');
    $entry->set_upload('http://paypal.com');

    print_r($entry);

//index.php
    session_start();
    include('entry.class.php');

    $entry = new entryForm();
    $entry->set_category('Blondes');
    $entry->set_upload('http://google.com');

    $_SESSION['entry'] = serialize($entry);

    print_r($entry);
    print_r($_SESSION['entry']);

//class entryform   

    class entryForm{

                            var $category;
                            var $upload;

                            function set_category($new_category)
                            {
                                    $this->category = $new_category;
                            }

                            function get_category()
                            {
                                    return $this->category;
                            }

                            function set_upload($new_upload)
                            {
                                    $this->upload = $new_upload;
                            }

                            function get_upload()
                            {
                                    return $this->upload;
                            }

                    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:36:00.930

在您的反序列化中，您编写了“条目”大写。在序列化中，您写了“条目”，小写

# javascript - Knockoutjs 没有将数组转换为可观察数组？

> ID：14952096
> 
> 赞同：0
> 
> 时间：2013-02-19T07:33:35.660
> 
> 标签：javascript, knockout.js

我正在使用这个 knockoutjs 教程将数组转换为可观察数组。[http://knockoutjs.com/documentation/observableArrays.html](http://knockoutjs.com/documentation/observableArrays.html)。但是给定的以下行给了我一个长度为零的数组。

```
var anotherObservableArray = ko.observableArray([
    { name: "Bungle", type: "Bear" },
    { name: "George", type: "Hippo" },
    { name: "Zippy", type: "Unknown" }
]); 
```

为什么另一个ObservableArray 不起作用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:41:38.937

您应该访问底层数组的长度，而不是可观察数组本身。
`anotherObservableArray().length`会给你合适的长度。

检查这个小提琴：http: [//jsfiddle.net/jfSG8/](http://jsfiddle.net/jfSG8/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T07:40:13.447

您还没有告诉我们您是如何使用 的`var anotherObservableArray`，但以下应该可以工作：

```
<ul data-bind="foreach: anotherObservableArray">
    <li data-bind="text: name"></li>
</ul> 
```

带淘汰赛/js：

```
var viewModel = function() {
  this.anotherObservableArray = ko.observableArray([
    { name: "Bungle", type: "Bear" },
    { name: "George", type: "Hippo" },
    { name: "Zippy", type: "Unknown" }
  ]);
};

ko.applyBindings(new viewModel()); 
```

看到[这个 jsfdiddle](http://jsfiddle.net/SMBay/)。

请注意，我没有使用 a`var`来存储可观察数组，而是将其创建为视图模型上的属性。

# java - Spring 和 Portlet 标记的 Maven 依赖关系

> ID：14952102
> 
> 赞同：2
> 
> 时间：2013-02-19T07:33:48.310
> 
> 标签：java, spring, netbeans, taglib, spring-portlet-mvc

我在 Netbeans IDE 中遇到以下问题 - 当我创建一个 JSP 文件并将这两个标记库放入其中时

```
<%@taglib prefix="portlet" uri="http://java.sun.com/portlet_2_0" %> 
<%@taglib prefix="form" uri="http://www.springframework.org/tags/form"%> 
```

然后我得到错误`The absolute uri ... cannot be resolved`。所以我想知道问题出在哪里？应用程序在部署到 AS 时工作正常，但我想在开发过程中享受自动完成等功能。我`pom.xml`看起来像这样 - [PasteBin](http://pastebin.com/nEb8tw0q)。

我想我在类路径上有所有必要的 JAR，那么如何让 NetBeans 识别这些标签？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T20:27:35.163

要修复 portlet TLD 问题，请将其添加到您的 POM

```
<dependency>
        <groupId>javax.portlet</groupId>
        <artifactId>portlet-api</artifactId>
        <version>2.0</version>
        <scope>provided</scope>
</dependency> 
```

提供的范围很重要 - 请记住，您只是希望将其包含在您的 IDE 中进行验证。portlet TLD 将由您部署到例如 Liferay、uPortal 等的任何 JSR-286 实现提供。

注意这在 Eclipse 中对我有用，我认为它在 NetBeans 中也可以解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:46:41.960

要使用 sprint 标签，声明一个 spring 依赖项就足够了

```
 <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-webmvc-portlet</artifactId>
        <version>3.0.6.RELEASE</version>
    </dependency> 
```

Spring 会自动下载其他依赖项。您可以[在此处查看 spring portlet 的所有依赖项列表](http://search.maven.org/remotecontent?filepath=org/springframework/spring-webmvc-portlet/3.2.1.RELEASE/spring-webmvc-portlet-3.2.1.RELEASE.pom)

由于 portlet 标签稍微复杂一些，我仍然找不到 portlet taglib 的依赖关系，我总是将 portlet_2_0.tld 复制到我的 WEB-INF/tld 文件夹中，如果你发现这个依赖关系，请告诉我。谢谢。

# jsf - 两个不同的 SelectItems 返回单个选定的值

> ID：14952103
> 
> 赞同：3
> 
> 时间：2013-02-19T07:33:50.697
> 
> 标签：jsf

我有一个国家课程：

```
public class Country{
     private Long id;
     private String name;
} 
```

和一个有两个 Country 字段的 person 类

```
public class Person{
    private Country nationality;
    private Country nationality2;
} 
```

现在在 JSF 中，我使用`<f:selectItems>`返回国家列表来选择国籍，如下所示：

```
<h:form id="form1">
    <h:selectOneMenu value="#{mybean.person.nationality.id}">
         <f:selectItems value="#{mybean.countryList}" var="var" itemValue="#{var.id}"/>
    </h:selectOneMenu>

    <h:selectOneMenu value="#{mybean.person.nationality2.id}">
         <f:selectItems value="#{mybean.countryList}" var="var" itemValue="#{var.id}"/>
    </h:selectOneMenu>
    <p:commandButton actionListener="#{mybean.save}" update="sometable @form"/>
</h:form> 
```

现在奇怪的问题是，当我提交表单时，分配给第二个字段（nationality2）的值会同时分配给nationality 和nationality2，而不管第一个字段选择了什么。例如，如果`selected value for nationality is 1`和`selected value for nationality2 is 2`，当我提交表单时`both fields have the value 2`。为什么会出现这种情况？

PS：JSF 实现是 Mojarra 2.1.3

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T11:08:38.257

您的具体问题是因为您将相同`Country`参考的副本设置为选定值，然后仅操作该`id`属性。在一个参考中所做的所有更改也会反映在所有其他参考中。

例如

```
Country country = new Country();
person.setNationality1(country);
person.setNationality2(country);
country.setId(1); // Gets reflected in both nationalities! 
```

您最好将整个`Country`实体设置为值，而不是操纵其属性。创建一个在和`Converter`之间转换的：`Country``id`

```
@FacesConverter(forClass=Country.class)
public class CountryConverter implements Converter {

    @Override
    public String getAsString(FacesContext context, UIComponent component, Object value) {
        return (value instanceof Country) ? ((Country) value).getId() : null;
    }

    @Override
    public Object getAsObject(FacesContext context, UIComponent component, String value) {
        if (value == null || value.isEmpty()) {
            return null;
        }

        if (!value.matches("\\d+")) {
            throw new ConverterException(new FacesMessage("Invalid country ID: " + value));
        }

        Long countryId = Long.valueOf(value);
        MyBean myBean = context.getApplication().evaluateExpressionGet(context, "#{myBean}", MyBean.class);

        for (Country country : myBean.getCountries()) {
            if (countryId.equals(country.getId())) {
                return country;
            }
        }

        throw new ConverterException(new FacesMessage("Unknown country ID: " + value));
    }

} 
```

并按如下方式使用它：

```
<h:selectOneMenu value="#{mybean.person.nationality1}">
     <f:selectItems value="#{mybean.countries}" var="country" itemValue="#{country}" itemLabel="#{country.name}" />
</h:selectOneMenu>
<h:selectOneMenu value="#{mybean.person.nationality2}">
     <f:selectItems value="#{mybean.countries}" var="country" itemValue="#{country}" itemLabel="#{country.name}" />
</h:selectOneMenu> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:47:04.407

试着给你的第二个`selectOneMenu`另一个名字`var`。例如：

```
<h:selectOneMenu value="#{mybean.person.nationality2.id}">
         <f:selectItems value="#{mybean.countryList}" var="var2" itemValue="#{var2.code}"/>
    </h:selectOneMenu> 
```

否则，您`var`通过更改第二个变量来覆盖（第一个）变量中的更改`selectOneMenu`。

**编辑：**
如果它不能解决问题，请尝试测试以创建第二个`countryList`(countryList2) 并将其附加到第二个`selectOneMenu`.

如果值仍然保持不变，则失败必须在 getter 或 setter 中。

# wpf - WPF TabControl 项添加 MVVM

> ID：14952104
> 
> 赞同：0
> 
> 时间：2013-02-19T07:33:54.953
> 
> 标签：wpf, xaml, mvvm, tabcontrol, tabitem

我有一个像这样的 WPF TabControl：

XAML：

```
<TabControl Name="myTabControl" ItemsSource="{Binding Main.TabItems, UpdateSourceTrigger=PropertyChanged}" /> 
```

现在我想在运行时添加 TabItems。所以这是我的模型。

C＃：

```
class Model() : INotifyPropertyChanged
{
    private List<TabItem> _tabitems = new List<TabItem>();

    public Model()
    {
        TabItem myItem = new TabItem();
        myItem.Header = "test";
        myItem.Content = "test";
        _tabitems.Add(myItem);
        TabItems = _tabitems;
    } 

    public List<TabItem> TabItems
    {
        get
        {
            return _tabitems;
        }
        set
        {
            _tabitems = value;
            OnPropertyChanged("TabItems");
        }
    }

    public bool Execute()
    {
        TabItem myItem = new TabItem();
        myItem.Header = "test";
        myItem.Content = test;
        _tabitems.Add(myItem);
        TabItems = _tabitems;

        return true;
    }

    public event PropertyChangedEventHandler PropertyChanged;

    private void OnPropertyChanged(string propertyName)
    {
        PropertyChangedEventHandler handler = PropertyChanged;

        if (handler != null)
        {
            handler(this, new PropertyChangedEventArgs(propertyName));
        }
    }
} 
```

如果我启动我的程序，构造函数中的代码运行良好。我在 TabControl 中有一个 TabItem。但是，如果我从命令执行我的函数 Execute()，那么什么也不会发生。如何解决我可以从构造函数中添加一个 tabitem 的问题。如果我在构造函数中启动该函数，那么它就可以工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:46:54.897

因为`Xaml`不知道你添加了一个新的`TabItem`

将您的更改`List<T>`为`ObservableCollection<T>`，ObservableCollection 将通知 UI 对集合的任何更改（添加、删除等）。

例子：

```
class Model : INotifyPropertyChanged
{
    private ObservableCollection<TabItem> _tabitems = new ObservableCollection<TabItem>();

    public Model()
    {
        TabItem myItem = new TabItem();
        myItem.Header = "test";
        myItem.Content = "test";
        TabItems.Add(myItem);
    } 

    public ObservableCollection<TabItem> TabItems
    {
        get
        {
            return _tabitems;
        }
        set
        {
            _tabitems = value;
            OnPropertyChanged("TabItems");
        }
    }

    public bool Execute()
    {
        TabItem myItem = new TabItem();
        myItem.Header = "test";
        myItem.Content = test;
        TabItems.Add(myItem);

        return true;
    }

    public event PropertyChangedEventHandler PropertyChanged;

    private void OnPropertyChanged(string propertyName)
    {
        PropertyChangedEventHandler handler = PropertyChanged;

        if (handler != null)
        {
            handler(this, new PropertyChangedEventArgs(propertyName));
        }
    }
} 
```

# regex - 如何使用正则表达式匹配嵌套括号？

> ID：14952113
> 
> 赞同：25
> 
> 时间：2013-02-19T07:34:20.713
> 
> 标签：regex, nested

正如标题所说，这是一个示例输入：

```
 (outer
   (center
     (inner)
     (inner)
   center)
 ouer)
 (outer
   (inner)
 ouer)
 (outer
 ouer) 
```

当然，匹配的字符串会被递归处理。

我希望第一个递归匹配：

```
 [
 (outer
   (center
     (inner)
     (inner)
   center)
 ouer),
 (outer
   (inner)
 ouer),
 (outer
 ouer)] 
```

后面的流程就不用说了...

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-02-19T08:12:33.450

许多正则表达式实现不允许您匹配任意数量的嵌套。但是，Perl、PHP 和 .NET 支持递归模式。

Perl 中的演示：

```
#!/usr/bin/perl -w

my $text = '(outer
   (center
     (inner)
     (inner)
   center)
 ouer)
 (outer
   (inner)
 ouer)
 (outer
 ouer)';

while($text =~ /(\(([^()]|(?R))*\))/g) {
  print("----------\n$1\n");
} 
```

这将打印：

```
----------
（外
   （中央
     （内）
     （内）
   中央）
 欧尔）
----------
（外
   （内）
 欧尔）
----------
（外
 欧尔）
```

或者，PHP 等价物：

```
$text = '(outer
   (center
     (inner)
     (inner)
   center)
 ouer)
 (outer
   (inner)
 ouer)
 (outer
 ouer)';

preg_match_all('/(\(([^()]|(?R))*\))/', $text, $matches);

print_r($matches); 
```

产生：

```
大批
(
    [0] => 数组
        (
            [0] =>（外
   （中央
     （内）
     （内）
   中央）
 欧尔）
            [1] =>（外
   （内）
 欧尔）
            [2] =>（外
 欧尔）
        )

...
```

一个解释：

```
( # 开始第 1 组
  \( # 匹配一个文字 '('
  (#第二组
    [^()] # 除 '(' 和 ')' 以外的任何字符
    | ＃ 或者
    (?R) # 递归匹配整个模式
  )* # 结束第 2 组并重复零次或多次
  \) # 匹配文字 ')'
) # 结束组 1
```

## 编辑

注意@Goozak 的评论：

> 更好的模式可能是`\(((?>[^()]+)|(?R))*\)`（来自[PHP:Recursive patterns](http://php.net/manual/en/regexp.reference.recursive.php)）。对于我的数据，Bart 的模式在遇到没有嵌套的（长字符串）时使 PHP 崩溃。这种模式毫无问题地遍历了我的所有数据。

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2013-02-19T07:58:53.517

不要使用正则表达式。

相反，一个简单的递归函数就足够了。这是一般结构：

```
def recursive_bracket_parser(s, i):
    while i < len(s):
        if s[i] == '(':
            i = recursive_bracket_parser(s, i+1)
        elif s[i] == ')':
            return i+1
        else:
            # process whatever is at s[i]
            i += 1
    return i 
```

例如，这是一个将输入解析为嵌套列表结构的函数：

```
def parse_to_list(s, i=0):
    result = []
    while i < len(s):
        if s[i] == '(':
            i, r = parse_to_list(s, i+1)
            result.append(r)
        elif s[i] == ')':
            return i+1, result
        else:
            result.append(s[i])
            i += 1
    return i, result 
```

像这样调用`parse_to_list('((a) ((b)) ((c)(d)))efg')`会产生结果`[[['a'], ' ', [['b']], ' ', [['c'], ['d']]], 'e', 'f', 'g']`。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2014-08-25T16:05:01.507

我发现了这个简单的正则表达式，它使用递归提取所有嵌套的平衡组，尽管得到的解决方案并不像您期望的那样简单：

正则表达式模式：`(1(?:\1??[^1]*?2))+`

样本输入：`1ab1cd1ef2221ab1cd1ef222`

为简单起见，我将`1`其设为开放式括号和`2`封闭式括号。字母字符代表一些内部数据。我将重写输入，以便于解释。

> ```
> 1  ab  1 cd 1ef2 2  2     1  ab  1 cd 1ef2 2  2
> 
>             |_1|
>        |______2__|
> |_____________3_____| 
> ```

`1ef2`在第一次迭代中，正则表达式将匹配第一个兄弟组中最内部的子组`1ab1cd1ef222`。如果我们记住它和它的位置，并删除这个组，就会留下`1ab1cd22`. 如果我们继续使用正则表达式，它将返回`1cd2`，最后返回`1ab2`。然后，它将继续以相同的方式解析第二个兄弟组。

正如我们从这个例子中看到的那样，正则表达式将正确地提取出现在括号定义的层次结构中的子字符串。特定子串在层次结构中的位置将在第二次迭代期间确定，如果它在字符串中的位置在第二次迭代的子串之间，则它是子节点，否则它是兄弟节点。

从我们的例子：

1.  `1ab1cd1ef222 1ab1cd1ef222`, 迭代匹配`1ef2`, 带索引`6`,

2.  `1ab1cd22 1ab1cd1ef222`, 迭代匹配`1cd2`, 带索引`3`, 结尾`6`. 因为`3`< `6`<= `6`，第一个子字符串是第二个子字符串的子字符串。

3.  `1ab2 1ab1cd1ef222`, 迭代匹配`1ab2`, 带索引`0`, 结尾`3`. 因为`0`< `3`<= `3`，第一个子字符串是第二个子字符串的子字符串。

4.  `1ab1cd1ef222`, 迭代匹配`1ef2`, 带索引`6`, 因为它不是`3`< `0`<= `6`, 它是另一个兄弟的分支, 等等...

我们必须在移动到父节点之前迭代并删除所有兄弟节点。因此，我们必须按照它们在迭代中出现的顺序记住所有兄弟姐妹。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-04T11:48:26.017

**基于[nneonneo](https://stackoverflow.com/users/1204143/nneonneo)上面发布的 Delphi Pascal 代码：**

您需要一个带有按钮的表单，名为 btnRun。在源代码中，将“arnolduss”替换为您在 DownLoads 文件夹中的名称。请注意 ParseList 创建的输出中的堆栈级别。显然，相同类型的括号必须在同一堆栈级别上打开和关闭。您现在将能够提取每个堆栈级别的所谓组。

```
unit Unit1;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls;

Type TCharPos = record
  Level: integer;
  Pos: integer;
  Char: string;
end;

type
  TForm1 = class(TForm)
    btnRun: TButton;
    procedure btnRunClick(Sender: TObject);
  private
    { Private declarations }
    procedure FormulaFunctionParser(var CharPos: array of TCharPos;
       const formula, LBracket, RBracket: string; var itr, iChar,
       iLevel: integer; var ParseList: TStringList);
  public
    { Public declarations }
  end;

var
  Form1: TForm1;

implementation

{$R *.dfm}

procedure TForm1.btnRunClick(Sender: TObject);
var
  formula: string;
  CharPos: array of TCharPos;
  itr, iChar, iLevel: integer;
  ParseList: TStringList;
begin
  screen.Cursor := crHourGlass;
  itr := 0;
  iChar := 1;
  iLevel := 0;
  ParseList := TStringList.Create;
  try
    formula := Trim('add(mul(a,add(b,c)),d) + e - sub(f,g)');
    ParseList.Add(formula);
    ParseList.Add('1234567890123456789012345678901234567890');

    SetLength(CharPos, Length(formula));
    FormulaFunctionParser(CharPos[0], formula, '(', ')', itr, iChar, iLevel, ParseList);
  finally
    ParseList.SaveToFile('C:\Users\arnolduss\Downloads\ParseList.txt');
    FreeAndNil(ParseList);
    screen.Cursor := crDefault;
  end;
end;

//Based on code from nneonneo in: https://stackoverflow.com/questions/14952113/how-can-i-match-nested-brackets-using-regex
procedure TForm1.FormulaFunctionParser(var CharPos: array of TCharPos;
       const formula, LBracket, RBracket: string; var itr, iChar,
       iLevel: integer; var ParseList: TStringList);
  procedure UpdateCharPos;
  begin
    CharPos[itr-1].Level := iLevel;
    CharPos[itr-1].Pos := itr;
    CharPos[itr-1].Char := formula[iChar];

    ParseList.Add(IntToStr(iLevel) + '  ' + intToStr(iChar) + ' = ' + formula[iChar]);
  end;
begin
  while iChar <= length(formula) do
  begin
    inc(itr);
    if formula[iChar] = LBracket then
    begin
      inc(iLevel);
      UpdateCharPos;
      inc(iChar);
      FormulaFunctionParser(CharPos, formula, LBracket, RBracket, itr, iChar, iLevel, ParseList);
    end
    else
    if formula[iChar] = RBracket then
    begin
      UpdateCharPos;
      dec(iLevel);
      inc(iChar);
    end
    else
    begin
      UpdateCharPos;
      inc(iChar);
    end;
  end;
end;

end. 
```

# c++ - 使用 libzip 从 .zip 获取文件（文本除外）

> ID：14952114
> 
> 赞同：0
> 
> 时间：2013-02-19T07:34:24.993
> 
> 标签：c++, zip, extract, zlib

我正在学习 C++，并决定用libzip 库。所以我做了我的程序，但现在我有一个问题。它可以很好地提取文本文件，但不能提取图像或 zip 等文件。它会检测到它们，给我确切的名称和大小，但是一旦提取出来，它们就只有几个字节。（但它们位于应有的位置）。

这是我的代码： http: [//pastie.org/6221955](http://pastie.org/6221955)

因此，如果有人可以帮助我从 zip 中提取不是文本的文件，那就太好了！谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:38:49.400

您正在以文本字符串的形式读取和写入二进制数据。问题是字符串使用 NULL 字符（0 字节）的存在来指示字符串的结尾。二进制数据可以（并且肯定会）在所有地方都包含零，而不仅仅是在最后。

您需要使用`ofstream`'s`.write (buffer, <size in bytes>)`写入磁盘；通过手动指定字节大小，您可以强制它读取那么多字节，而不是在 NULL 字符的第一个实例处停止。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:39:29.527

问题在于 << 运算符。你输出一个字符数组/字符串。C 中的字符串以空值结尾。因此，第一个二进制 0 将终止您的输出。

# java - 运行 executeQuery(sql) 时出现 NullPointerException

> ID：14952116
> 
> 赞同：1
> 
> 时间：2013-02-19T07:34:27.163
> 
> 标签：java, sql-server-2008, nullpointerexception, jtds, executequery

我在**Java**中有简单的查询，可以在**SQL SERVER 2008**中运行。当它达到

`rs = stmt.executeQuery(sql);`它给了我 `java.lang.NullPointerException`

1-我使用**jtds**驱动程序将我的代码连接到数据库。

2-当我直接在数据库中执行查询时，它可以工作。

3-为了使代码简短易懂，我省略了 Try-Catch

```
 public class DataBases 
    {

        private  Connection link;
        private  java.sql.Statement  stmt;
        public    ResultSet rs;

        public DataBases() 
        {    

            Class.forName("net.sourceforge.jtds.jdbc.Driver"); 
            String connectionUrl = "jdbc:jtds:sqlserver://localhost:1433;databaseName=DB;integratedSecurity=true";
            Connection link = DriverManager.getConnection(connectionUrl);

        }

        public ResultSet select(String sql)
        {
         rs = stmt.executeQuery(sql);                        
             return rs; 
        }
}

    public static void main(String[] args)
    {   

        DataBases s=new DataBases();      
        String sql="SELECT * FROM [DB].[dbo].[quantities] ";                       
        ResultSet rs=s.select(sql); 
   } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:36:51.853

您需要在`stmt`某处实例化（在构造函数或内部`select`函数中）

您还可以将`stmt`字段移动为`select`函数变量。

```
 public ResultSet select(String sql)
    {
         Statement  stmt = link.createStatement();
         rs = stmt.executeQuery(sql);                        
         return rs; 
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:37:47.963

您的 select 方法应如下所示，只是为了让您的代码正常工作：

```
 public ResultSet select(String sql)
    {
         stmt = link.createStatement();
         rs = stmt.executeQuery(sql);                        
         return rs; 
    } 
```

你需要看一个关于如何在不泄漏资源的情况下执行 jdbc 操作的好教程（比如这里的连接）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:41:54.243

由于 stmt 对象引用未指向任何对象，因此您将获得 NPE。尝试..

```
public DataBases() 
        {    

            Class.forName("net.sourceforge.jtds.jdbc.Driver"); 
            String connectionUrl = "jdbc:jtds:sqlserver://localhost:1433;databaseName=DB;integratedSecurity=true";
            Connection link = DriverManager.getConnection(connectionUrl);
            Statement stmt = link.createStatement();
        } 
```

# android - 创建意图将我的位置数据发送到安装在我的 android 手机上的导航应用程序

> ID：14952118
> 
> 赞同：1
> 
> 时间：2013-02-19T07:34:29.893
> 
> 标签：android

我正在创建一个获取用户位置和各种感兴趣的位置的应用程序。我需要添加一个意图，将我的位置数据和点的位置发送到导航应用程序。我如何实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-12-30T12:22:03.517

试试这个代码：

```
 Button map_button = (Button) findViewById(R.id.map_btn);
        map_button.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Intent intent = null, chooser;
                intent = new Intent(Intent.ACTION_VIEW);
                intent.setData(Uri.parse("geo:xx.xxxxxx,xx.xxxxxx"));
                chooser = Intent.createChooser(intent,"Lunch Map");
                try {
                    startActivity(chooser);
                }catch (ActivityNotFoundException e) {
                    e.getCause();
                }

            }
        }); 
```

其中 xx.xxxxxx 是您的位置。

# java - 如何检索“来自其他文件的用户输入”以在 JAVA 中显示为表格？

> ID：14952121
> 
> 赞同：3
> 
> 时间：2013-02-19T07:34:36.610
> 
> 标签：java, swing, sorting, quicksort

下面是显示表格的代码示例，但是当我想从其他文件的用户输入中检索信息时该怎么做？

```
package components;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import java.awt.Dimension;
import java.awt.GridLayout;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;

public class SimpleTableDemo extends JPanel {
    private boolean DEBUG = false;

    public SimpleTableDemo() {
        super(new GridLayout(1,0));

        String[] columnNames = {"First Name",
                                "Last Name",
                                "Sport",
                                "# of Years",
                                "Vegetarian"}; 
```

我如何从其他文件中检索信息，而不是手动输入每个信息？

```
 **Object[][] data = {
        {"Kathy", "Smith", "Snowboarding", new Integer(5), new Boolean(false)},
        {"John", "Doe","Rowing", new Integer(3), new Boolean(true)},
        {"Sue", "Black","Knitting", new Integer(2), new Boolean(false)},
        {"Jane", "White","Speed reading", new Integer(20), new Boolean(true)},
        {"Joe", "Brown","Pool", new Integer(10), new Boolean(false)} };**

        final JTable table = new JTable(data, columnNames);
        table.setPreferredScrollableViewportSize(new Dimension(500, 70));
        table.setFillsViewportHeight(true);

        if (DEBUG) {
            table.addMouseListener(new MouseAdapter() {
                public void mouseClicked(MouseEvent e) {
                    printDebugData(table);
                }
            });
        }

        //Create the scroll pane and add the table to it.
        JScrollPane scrollPane = new JScrollPane(table);

        //Add the scroll pane to this panel.
        add(scrollPane);
    }

    private void printDebugData(JTable table) {
        int numRows = table.getRowCount();
        int numCols = table.getColumnCount();
        javax.swing.table.TableModel model = table.getModel();

        System.out.println("Value of data: ");
        for (int i=0; i < numRows; i++) {
            System.out.print("    row " + i + ":");
            for (int j=0; j < numCols; j++) {
                System.out.print("  " + model.getValueAt(i, j));
            }
            System.out.println();
        }
        System.out.println("--------------------------");
    }

    /**
     * Create the GUI and show it.  For thread safety,
     * this method should be invoked from the
     * event-dispatching thread.
     */
    private static void createAndShowGUI() {
        //Create and set up the window.
        JFrame frame = new JFrame("SimpleTableDemo");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        //Create and set up the content pane.
        SimpleTableDemo newContentPane = new SimpleTableDemo();
        newContentPane.setOpaque(true); //content panes must be opaque
        frame.setContentPane(newContentPane);

        //Display the window.
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        //Schedule a job for the event-dispatching thread:
        //creating and showing this application's GUI.
        javax.swing.SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                createAndShowGUI();
            }
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:06:37.987

您可以将有关用户的信息以 csv（逗号分隔值）格式写入文件，然后使用[OpenCSV](http://opencsv.sourceforge.net/)解析该文件并构造用于显示的矩阵或数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:13:03.240

所以，基本上你的问题是如何将文件的内容检索到 Object[][] 中？

假设您的文件有行并且这些行看起来像：

```
Kathy,Smith,Snowboarding,5,false
John,Doe,Rowing,3,true 
```

那是一个 CSV 文件。要读取 CSV 文件，最好的办法是下载[openCSV](http://opencsv.sourceforge.net/) 但是，如果您仍然想自己做，并且您的数据在一个名为“data.csv”的文件中，我会使用扫描仪。另外，假设您不了解 ArrayLists 和类似的东西，这里有一些代码可以帮助您。

```
Scanner s = new Scanner(new File("data.csv"));
int count = 0;
while (s.hasNext())
   count++;
// now count has the number of lines in the file and you know 
// there are 5 attributes.
Object[][] data = new Object[count][5]
Scanner s1 = new Scanner(new File("data.csv"));
count = 0;
while(s1.hasNext()){
   String[] fields = s1.next().split(",");
   data[count][0] = field[0];
   data[count][1] = fields[1];
   data[count][2] = fields[2];
   data[count][3] = new Integer(Integer.parseInt(fields[3]));
   data[count][4] = new Boolean(fields[4].equals("true");
   count++;   
} 
```

最后，请注意如果您在开头、行之间或结尾处留空一行（即文件的最后一行为空），可能会发生 indexOutOfBounds 错误

# statistics - 停止 Alexa 以获取访客统计信息

> ID：14952123
> 
> 赞同：1
> 
> 时间：2013-02-19T07:34:42.480
> 
> 标签：statistics, limit, nofollow, alexa

有没有办法让我停止 alexa 以获取访问者统计信息，我不希望每个人都在 alexa 中搜索我的域并获取有关总体用户统计信息的信息，或者获取有关哪个国家/地区的用户访问我的网站最多的信息或关于他们的其他统计数据。例如，当我们不希望爬虫访问我们的某些页面并限制对它们的索引时，我们将`nofollow`其用作元标记或`rel`链接属性，但是我们可以为 alexa 机器人做些什么呢？有没有办法限制alexa？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-16T16:40:07.920

Alexa 从您有意安装的浏览器工具栏或与某些软件捆绑在一起的浏览器工具栏中获取其信息。对于某些浏览器，它会修改用户代理，因此您可以检查用户是否使用以下方式向 Alexa 报告

```
<?php if (preg_match('/(Alexa)/i',$_SERVER['HTTP_USER_AGENT'])) {echo 'This is Alexa Reporter :)';) ?> 
```

但是你不能阻止 Alexa 获取信息。即使您将所有这些人重定向到某个地方，Alexa 仍然会知道引用域、搜索关键字等。

这是一篇提供有关 Alexa Rank 的更多信息的文章 - [http://netberry.co.uk/alexa-rank-explained.htm](http://netberry.co.uk/alexa-rank-explained.htm)

# iphone - 按钮单击第二次不起作用

> ID：14952124
> 
> 赞同：0
> 
> 时间：2013-02-19T07:34:54.467
> 
> 标签：iphone, ios, uitabbarcontroller

我在这里遇到了一个问题，我试图解决过去三天。当我运行我的 iphone 应用程序时，它会显示此屏幕![登录](../Images/73ec31bf854df26fcaa4fc3e7fde98a2.png)

一切正常，即如果我单击“*使用电子邮件登录*”按钮，它确实可以工作。

当我单击“*使用 Facebook 登录*”时，它会显示此屏幕![菜单](../Images/0f163b318b6626b6de8fec72133d46f3.png)

但是一旦我点击“*注销*”按钮，它就会显示这个 ![注销后登录](../Images/c698539e6b250c233d9d935bf1193b7d.png)没有标题的屏幕，并且“使用电子邮件登录”不起作用。

能有什么问题？

**注销按钮后面的代码：**

```
LoginViewController *LoginviewController = [[LoginViewController alloc]                                                 initWithNibName:@"LoginViewController" bundle:nil];

[self presentViewController:LoginviewController animated:YES completion:nil]; 
```

注销按钮位于 UITabbarController（以编程方式创建）中。这是我第二次无法转换到的 ViewController 的屏幕截图 ![在此处输入图像描述](../Images/df2356eb20e7747fbc37676a77543d4c.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:24:31.473

你分配 VC 是为了`UITabBarController`什么？我打赌`UIViewController`？尝试分配`UINavigationController`而不是`UIViewController`

```
UINavigationController *navController = [[UINavigationController alloc] init];
SomeViewController *viewController = [[SomeViewController alloc]  initWithNibName:@"SomeViewController" bundle:nil];
navController.viewControllers = [NSArray arrayWithObject:viewController];

UITabBarController *tabBarController = [[UITabBarController alloc] init];
[tabBarController setViewControllers:[NSArray arrayWithObjects:
viewController, nil]]; 
```

然后上`SomeViewController.m`

```
[self.navigationController pushViewController:anotherViewController animated:YES]; 
```

在`anotherViewController.m`

```
[self.navigationController popViewControllerAnimated:YES]; 
```

希望有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:24:15.103

可能会检查您的代码，以查看您在展示控制器时是否禁用了`Log in with Email`按钮的用户交互。`LoginviaFacebook`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T11:47:47.363

所以伙计们，我解决了这个问题。以下代码应该已放置在注销按钮中

UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:appDelegate.LoginviewController];

[self presentViewController：navigationController 动画：YES 完成：无]；

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T09:11:26.580

使用此代码通过电子邮件 btn 在登录中显示 viewController：

```
 LoginViewController *loginViewController = [[LoginViewController alloc] initWithNibName:@"LoginViewController" bundle:nil];
    [self presentModalViewController:loginViewController animated:NO]; 
```

并返回您的登录页面，将此代码放入注销 btn：

```
[self dismissModalViewControllerAnimated:NO]; 
```

# javascript - 如果超过长度，则将表行拆分为多行

> ID：14952125
> 
> 赞同：2
> 
> 时间：2013-02-19T07:34:55.853
> 
> 标签：javascript, css, css-tables

我有一个返回长行的 PHP 脚本。使用它我在这里做了一个片段 - [http://jsfiddle.net/MLZEb/6/](http://jsfiddle.net/MLZEb/6/)

你能帮我把行分成多行而不是水平滚动条（[http://jsfiddle.net/MLZEb/](http://jsfiddle.net/MLZEb/)）吗？

目前我正在使用自动换行，这使得它不可读。

```
td
{
word-wrap: break-word;
}
table
{
width:100%;
table-layout:fixed;
} 
```

![我正在寻找的快照](../Images/21e54382c9d4f5d0a0acc65b6a9262c9.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T01:00:35.053

从语义上讲，将您的行分成多个并不是一个好的选择，因为您的列将不再与它们的标题匹配。这并不意味着你被一张可怕的、反应迟钝的桌子困住了。

使表格适合狭窄的（移动）设备非常容易，并且需要最少的标记更改：

[http://jsfiddle.net/MLZEb/9/](http://jsfiddle.net/MLZEb/9/)

```
tbody, tr, th, td { display: block }
thead { display: none }
td:before {
    content: attr(data-label);
    display: inline-block;
    width: 6em;
    padding-right: 1em;
    vertical-align: middle;
}

td:first-child {
    background: #CCC;
} 
```

您需要将`data-label`属性添加到您`td`的 s 才能使其工作：

```
<td data-label="ID">49251</td> 
```

如果您想为更宽的视口填充更多水平，您可以在某些列上使用浮动（请注意，一些单元格已重新排列，以便它们布局更好）：

[http://jsfiddle.net/MLZEb/10/](http://jsfiddle.net/MLZEb/10/)

```
table, tbody, tr, th, td { display: block; border: none }
thead { display: none }
td:before {
    content: attr(data-label);
    display: inline-block;
    width: 5em;
    padding-right: 1em;
    vertical-align: middle;
}

td.attrib { /* add this class to any cell that should appear on the left */
    float: left;
    clear: left;
    width: 15em;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:05:49.857

好吧，您可以完全忽略行并让表格单元格浮动：

```
table { width: 400px; }
td
{
    float: left;
    margin-left: 5px;
} 
```

[更新了小提琴](http://jsfiddle.net/MLZEb/8/)。

# android - 从android中的其他活动返回时，listview选定的项目颜色发生了变化

> ID：14952134
> 
> 赞同：0
> 
> 时间：2013-02-19T07:35:33.930
> 
> 标签：android, listview

`Listview`从android中的其他活动返回时，如何选择项目颜色保持不变？

请给我一个适当的解决方案。在这里，我附上了`Adapter`课

```
public class SelectedAdapter extends ArrayAdapter {

// used to keep selected position in ListView
        private int selectedPos = -1;   // init value for not-selected
        private int selitem;
        public SelectedAdapter(Context context, int textViewResourceId, List objects) {
            super(context, textViewResourceId, objects);
        }

        public void setSelectedPosition(int pos){

            selectedPos = pos;

            // inform the view of this change
            notifyDataSetChanged();
        }

        public int getSelectedPosition(){
            return selectedPos;
        }

@Override
        public View getView(int position, View convertView, ViewGroup parent) {
            View v = convertView;

            // only inflate the view if it's null
            if (v == null) {
                LayoutInflater vi
                            = (LayoutInflater)this.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                v = vi.inflate(R.layout.simplerow, null);
            }

            // get text view
            TextView label = (TextView)v.findViewById(R.id.rowTextView);

            // change the row color based on selected state
            if(selectedPos == position){
                label.setBackgroundColor(Color.CYAN);

                //label.setBackgroundResource(R.color.blue2);
            }else{
                label.setBackgroundColor(Color.WHITE);
            }

            label.setText(this.getItem(position).toString());
            /*
            // to use something other than .toString()
            MyClass myobj = (MyClass)this.getItem(position);
            label.setText(myobj.myReturnsString());
            */
            return(v);
        }

} 
```

主要活动类

```
final Context context = this;
protected ListView applv ;
private ArrayAdapter<String> listAdapter ;
private SelectedAdapter selectedAdapter;
private ArrayList list;

            list = new ArrayList();

    list.add("Actuator");
    list.add("Agitator - Liquid");
    list.add("Agitator - Slurry");
    list.add("Air Separator");
    list.add("Belt Plow");
    list.add("Blower");

    applv = (ListView) findViewById( R.id.lvapps);
    applv.setChoiceMode(ListView.CHOICE_MODE_SINGLE); 

    selectedAdapter = new SelectedAdapter(this,0,list);
    selectedAdapter.setNotifyOnChange(true);
    applv.setAdapter( selectedAdapter );

    applv.setOnItemClickListener(new OnItemClickListener() {      
        public void onItemClick(AdapterView<?> parent, View v, int position,
                long id) {

            itemsel = applv.getAdapter().getItemViewType(position);
            // TODO Auto-generated method stub  
            item = applv.getAdapter().getItem(position).toString();
            selectedAdapter.setSelectedPosition(position);              

        }

    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T04:51:56.613

为此，您需要保存已选择或未选择的 textview 状态。首先将地图创建为您的类的全局，

```
Map<Integer, Boolean> map_textcolor=new HashMap<Integer, Boolean>(); 
```

然后像这样改变你的getView方法..

```
@Override
    public View getView(int position, View convertView, ViewGroup parent) {
        View v = convertView;

        // only inflate the view if it's null
        if (v == null) {
            LayoutInflater vi
=  (LayoutInflater)this.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            v = vi.inflate(R.layout.simplerow, null);
        }

        // get text view
        TextView label = (TextView)v.findViewById(R.id.rowTextView);
*******************************************************************************
        // change the row color based on selected state
        Boolean selectedPos=map_textcolor.get(position);
        if(selectedPos!=null&&selectedPos.booleanValue())
        {
       //label.setSelected(true);
       label.setTextColor(Color.CYAN);
       selected_view=label;
        }
        else
        {
       //label.setSelected(false);
       label.setTextColor(Color.WHITE);
        }
******************************************************************************         
        label.setText(this.getItem(position).toString()); 
```

然后像这样将代码添加到侦听器...

```
 final int p=position;
    label.setOnClickListener(new OnClickListener() {
@Override
public void onClick(View view) {
    // TODO Auto-generated method stub
      if(selected_view!=null)
  {
    //selected_view.setSelected(false);
    label.setTextColor(Color.WHITE);
    map_textcolor.remove(prev_pos);
  }
  selected_view=view;
 // selected_view.setSelected(true);
  label.setTextColor(Color.CYAN);
  map_textcolor.put(p, true);
  prev_pos=p;
}
});
        /*
        // to use something other than .toString()
        MyClass myobj = (MyClass)this.getItem(position);
        label.setText(myobj.myReturnsString());
        */
        return(v);
    } 
```

# email - 如何在window phone 8上获取登录用户的电子邮件地址

> ID：14952135
> 
> 赞同：0
> 
> 时间：2013-02-19T07:35:39.117
> 
> 标签：email, windows-phone-8

如何使用 Microsoft.Phone.UserData.Account 在 Windows Phone 8 上获取登录用户的电子邮件地址。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:31:10.547

如果通过“登录用户”我假设您指的是手机上的主 Live ID 帐户，那么您将无法获得该特定邮件帐户，因为当前的 Windows Phone 无法做到这一点开发工具包。

# c# - 动态创建表格和单选按钮

> ID：14952136
> 
> 赞同：0
> 
> 时间：2013-02-19T07:35:43.830
> 
> 标签：c#, asp.net, dynamic, radio-button

我需要使用 c# 在 asp.net 页面中创建未知数量的**同一个表。**

此表有一个**单选按钮列表**，当其选定值更改时，表（该特定表）必须更改并显示其他内容。

我想到的直接问题是当我将选定的值更改事件分配给每个单选按钮列表时，我需要知道要更改哪个表。

做这样的事情的最佳做法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:55:15.593

您可以创建一个包含您的表和相应的单选按钮列表的实体，并在您的主类中列出该实体

# objective-c - PresentModalViewController 不显示 TabBar

> ID：14952137
> 
> 赞同：1
> 
> 时间：2013-02-19T07:35:44.093
> 
> 标签：objective-c, uitabbarcontroller, uitabbar, presentmodalviewcontroller

我正在尝试从一个 xib 转到另一个，并且正在使用 TabBar。当我从 xib 移动到 xib 时，`PresentModalViewController`我失去了 TabBar。

当我使用这种方式时，它会失败（比如在android中强制关闭）：

```
FirstViewController *fvc = [[FirstViewController alloc]initWithNibName:@"FirstViewController" bundle:nil];
    [fvc setModalTransitionStyle:UIModalTransitionStyleFlipHorizontal];
    fvc.userSelectedLatitude = saveLatitude;
    fvc.userSelectedLongitude = saveLongtitude;
    UITabBarController *tabControl = [[UITabBarController alloc] initWithNibName:fvc bundle:nil];
    [self presentModalViewController:tabControl animated:NO]; 
```

当我使用：

```
UITabBarController *tabControl = [[UITabBarController alloc] initWithNibName:@"FirstViewController" bundle:nil]; 
```

TabBar 出现黑屏。

由于这一切都失败了，我想这不是正确的方法。那么，正确的做法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:32:41.350

上面的代码崩溃是因为你试图在`initWithNibName:bundle:`方法中传递一个视图控制器而不是一个 NSString 对象。

做这件事的方法取决于你真正想做的事情。您是想在 modalViewController 中显示带有或不带 tabBar 的 xib，还是简单地以模态方式显示视图控制器？

**更新：**

好的，您必须首先创建与每个 tabBar 按钮关联的视图控制器（就像您一直在做的那样），然后将这些视图控制器添加到您的 tabBar，然后以模态方式显示 tabBarController。像这样：

```
FirstViewController *fvc = [[FirstViewController alloc] initWithNibName:@"FirstViewController" bundle:nil];
fvc.userSelectedLatitude = saveLatitude;
fvc.userSelectedLongitude = saveLongtitude;

UITabBarController *tabControl = [[UITabBarController alloc] init];
[tabControl setViewControllers:[NSArray arrayWithObjects:fvc, nil]];
[tabControl setModalTransitionStyle:UIModalTransitionStyleFlipHorizontal];
[self presentModalViewController:tabControl animated:NO]; 
```

我认为这段代码应该可以工作。所以，尝试一下，如果出现问题，请告诉我们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:40:26.637

使用 UITabBarController，无需手动呈现 viewController 或调用代码来切换视图。这是为您处理的。

您需要做的就是设置 UITabBarController 的 viewControllers 属性。像这样：

```
[tabBarController setViewControllers:[NSArray arrayWithObjects:view1, view2, nil]]; 
```

# image - 在 FreeImage 下加载具有透明度的图像

> ID：14952138
> 
> 赞同：2
> 
> 时间：2013-02-19T07:35:44.460
> 
> 标签：image, freeimage

我成功地使用了很酷的 FreeImage 库来加载各种格式的图像。

其中，带有透明度信息的 gif 和 png。

加载图像后，我使用`FreeImage_ConvertToRawBits`. 使用我的 png 图像，这工作正常，我可以检索所有四个具有有意义 Alpha 值的红色/绿色/蓝色/Alpha 分量。

相反，对于 gif 图像，Alpha 平面仍然是所有 255，即使`FreeImage_IsTransparent`说的是真的。

我错过了什么？这与 gif 被调色的事实有关吗？我该如何处理？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T15:08:26.207

我通过查看源代码找到了一个明确的答案：将调色图像转换为 32 位时**不处理透明度。**Alpha 字段始终设置为 255。

无论如何，很可能从原始调色位图中逐个像素地检索透明度，知道透明颜色的值 ( `FreeImage_GetTransparentIndex(dib)`)。

# php - 在 header.php 中创建一个函数

> ID：14952139
> 
> 赞同：-2
> 
> 时间：2013-02-19T07:35:49.097
> 
> 标签：php, wordpress, function

我创建了一个 wordpress 网站主题，我想在 header.php 中创建一个函数，该函数应该创建一个链接的菜单，可以使用任何方式（例如小部件）进行更改

这是链接：

```
 <li><a href="#">arabic</a></li> 
```

我希望该功能让我更改 url 以转到页面，就像我在“ **contact-en** ”页面时链接的 url 应该是“ **contact-ar** ”而当我在页面“ **contact-ar** ”时链接应该是“ **contact-en** ”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:40:17.007

为什么不使用 WordPress 菜单？

要使用它，请转到“外观”->“菜单”。

制作任何名称的菜单。从“主菜单”中选择菜单并保存。

将您的链接放在“自定义链接”下，将要显示的文本放在“标签”下，然后单击添加到菜单。重复这个过程，直到全部放好。然后保存它，菜单现在将出现在您的标题菜单中。

如果您对此主题有任何其他问题，请询问我。

# c++ - Objective-C 在 C++ 中的类类构造或技术？

> ID：14952141
> 
> 赞同：11
> 
> 时间：2013-02-19T07:35:52.553
> 
> 标签：c++, categories

Objective-C 类别功能允许程序员添加原始类定义中未定义的新方法。

我可以在 C++ 上归档类似的功能（语言结构或某些技术）吗？

主要关注的是一致的方法调用语法（`.`或`->`运算符）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T08:03:23.660

让我们考虑扩展以下类：

```
struct A {
    int x, y;
    A(int x, int y) : x(x), y(y) {}
}; 
```

您可以从此类继承或编写包含此类实例的包装类。在大多数情况下，继承是要走的路，因为包装类*不是*A，而是*包装*（包含）A。

使用 C++11 移动语义，将实例`A`提升为子类`B`（继承`A`）将是高效的，并且不需要复制实例`A`：

```
class B : public A {
public:
    B (A &&a) : A(a), someOtherMember(a.x + a.y) {}

    // added public stuff:
    int someOtherFunction() const { return someOtherMember; }

private:
    // added private stuff:
    int someOtherMember;
}; 
```

带示例的完整代码：http: [//ideone.com/mZLLEu](http://ideone.com/mZLLEu)

当然我添加的函数有点傻（成员更傻，因为它不尊重原始成员的进一步更改`x`和`y`），但是您应该了解我想要演示的内容。

注意构造函数`B (A &&a)`，我称之为“提升构造函数”（这不是标准术语）。通常，`B (B &&b)`是一个*移动构造函数*，它将提供的实例的内容*移动*到一个即将被构造的新实例中。我使用移动语义*将*的实例（已由另一个函数返回）移动*到*.`B``B`*`A`*`A``B`**

 **实际上，您可以提升`A`to，`B`同时可以将 a`B`用作`A`.

与 Soonts 的回答相反，我的解决方案也适用于添加的虚拟表，因为它不依赖于不安全的指针转换。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-03-22T02:08:28.723

另一种选择，可能不被某些人视为“干净”（尽管在我看来）但仍然完成同样的事情，是使用静态类。重要的是要记住，当我们创建一个成员函数时，幕后真正发生的是编译生成一个函数，其中对象（又名“this”）是第一个参数。因此，我们可以做同样的事情来扩展我们的类的功能，而无需派生它。

```
class Something
{
public:
   Something()
   ~Something()
}

// In objective-c you may call this category Something+Utils
class SomethingUtils
{
   // You can use a pointer, or a reference here, your call.
   static int GetSomethingElse(Something *something, int parameter);
} 
```

这将实现与类别相同的目的：扩展类对象的功能，而不必创建新的派生类。您将无法访问私有或受保护的成员函数和变量，但无论如何您都不能在 Objective-C 中这样做，因此在这方面没有任何损失（如果您尝试使用私有或受保护的成员状态，您'已经完全错过了类别的重点）。您将无法使用 . 和 -> 运算符，但在我看来，这比派生一个新类型只是为了添加一些实用方法要好得多。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T07:54:34.393

C++ 对此具有继承性。此外，我多次使用以下技巧来扩展由 #import "progid:..." 指令生成的类：

```
// This one is part of external framework, or auto-generated, or dllimport, or #import, etc..
class A
{
    protected double m_x;
};

// This one is the extension class. Make sure you only add non-virtual methods here.
// Static methods and static data members are OK as well.
class __declspec( novtable ) B: public A
{
public:
    double getSquare(){ return m_x * m_x; }
    __declspec( property( get = getSquare ) ) double square;
};

// Usage example
double someFunc( A& arg )
{
    B& b = static_cast<B&>( arg ); // Note we've not constructed any instance of B, just casted.
    return b.square;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-26T13:55:38.527

我得到了一个*几乎*一致的调用约定，其中包含我大约一年前[在一次闪电演讲中谈到的一个想法：](http://www.slideshare.net/phil_nash/c-extension-methods-18678294)

（如果没有他的评论，介绍就不那么有意义了——等到它进入 C++ 位）。

请注意，该材料并不打算被认真对待 - 尽管有些材料不可避免地有;-)**

# blackberry-webworks - BB10如何访问FB分享？

> ID：14952142
> 
> 赞同：3
> 
> 时间：2013-02-19T07:35:52.787
> 
> 标签：blackberry-webworks

我曾尝试在 facebook 上分享，但无法分享任何内容。我使用的代码是：-

在 Javascript 中

```
FB.init({
         appId: 'some id', 
         cookie: true,
            status:true, 
            xfbml:true,
            oauth:true
         });

      function postToFeed() {

        // calling the API ...
        var obj = {
          method: 'feed',
          link: 'http://www.example.com',
          picture: imageToShare,
          name: 'name',
          caption: 'This Link is Shared through the some application.',
          description: ''

        };

        function callback(response) {
          //document.getElementById('msg').innerHTML = "Post ID: " + response['post_id'];
        }

        FB.ui(obj, callback);
      } 
```

在配置文件中

```
<access uri="http://connect.facebook.net" /> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T19:35:24.287

如果您只想将应用程序中的某些内容分享到 Facebook，您可以使用 Cards 轻松完成此操作。

我在这里写了一篇博客文章：http: [//devblog.blackberry.com/2013/02/twitter-and-facebook-cards/](http://devblog.blackberry.com/2013/02/twitter-and-facebook-cards/)

基本上，您使用 BlackBerry 调用框架来调用 Card，并将一些数据传递给该卡。

```
function invokeFacebook() {
    blackberry.invoke.invoke({
        target: "Facebook",
        action: "bb.action.SHARE",
        type: "text/plain",
        data: "I’m eating tacos with Alex."
    }, onSuccess, onError);
} 
```

如果您想共享图像，您只需将“数据”属性替换为：

```
uri: 'file://' + pathToFile, 
```

我们的 GitHub 存储库中还有一个示例应用程序：[https ://github.com/ctetreault/BB10-WebWorks-Samples/tree/master/invoke/invoker](https://github.com/ctetreault/BB10-WebWorks-Samples/tree/master/invoke/invoker)

# richfaces - JSF portlet 环境中的多个会话范围的支持 bean 实例

> ID：14952146
> 
> 赞同：1
> 
> 时间：2013-02-19T07:35:59.867
> 
> 标签：richfaces, facelets, portlet, ajax4jsf

我正在为运行`JBoss Portal Server (2.7.1)`.

该产品是一个使用 SEAM 组件作为支持 bean ( `JSF 1.2`, `SEAM 2.1.1.GA`, `Richfaces 3.3.1.GA`) 的 Facelets-portlet。

我的问题：支持 bean 是 SEAM 会话范围的 ( `@Scope(ScopeType.SESSION)`)。但是，当我通过调用任何方法时，`A4J`我将获得一个新实例，就好像涉及不同的会话一样。所有“简单”请求（`h:commandButton`）都将由“原始”实例`A4J`处理，所有请求都由“新”实例处理。

我真的需要相同的实例来实现工作流程。这是已知的行为，我的概念是错误的，还是可能配置错误，有什么想法？

提前致谢。

# javascript - JavaScript/HTML 变量问题

> ID：14952147
> 
> 赞同：-2
> 
> 时间：2013-02-19T07:36:10.837
> 
> 标签：javascript, variables, var

这是我的代码：

```
<HTML>
    <HEADER>
        <TITLE>Page</TITLE>
    </HEADER>
<SCRIPT LANGUAGE="JavaScript">
var asdf=Math.floor(Math.random()*80000000)
</SCRIPT>
<FORM> 
<input type=button 
value="button"
onClick="self.location='http://www.roblox.com/place-place?id=$_GET["var asdf"]'">
</FORM>
    <BODY>
    </BODY>
</HTML> 
```

* * *

我如何解决它，使链接是随机的，但也有效？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:40:08.057

将值更改`onclick`为：

```
"var asdf=Math.floor(Math.random()*80000000); window.location='http://www.roblox.com/place-place?id='+asdf" 
```

这将在每次点击链接时随机化 ID

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:41:04.683

使用一个函数，

```
function redirect(){
self.location='http://www.roblox.com/place-place?id='+asdf;
} 
```

调用输入标签的onclick函数

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:49:35.833

```
try this

<HTML>
<HEADER>
 <TITLE>Page</TITLE>
</HEADER>
 <SCRIPT LANGUAGE="JavaScript">
function my_func()
{
var asdf= Math.floor(Math.random()*80000000);
window.open("http://www.roblox.com/place-place?id="+asdf);
}

</SCRIPT>
<FORM> 
<input type=button value="button" onClick="my_func()">
 </FORM>
<BODY>
</BODY>
 </HTML>

you can also use window.location instead of window.open. 
```

# qmail - 为什么qmail mta有两个接口接收邮件

> ID：14952149
> 
> 赞同：1
> 
> 时间：2013-02-19T07:36:20.413
> 
> 标签：qmail

可以发送/接收邮件的qmail MTA 有两个起点，即qmail-smtp 和qmail-inject。

为什么我们有两个这样不同的邮件传递接口？？？

我正在阅读来自：[http ://www.nrg4u.com/qmail/the-big-qmail-picture-103-p1.gif 的 qmail 教程](http://www.nrg4u.com/qmail/the-big-qmail-picture-103-p1.gif)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:55:30.717

您正在谈论的两个不同的起点/界面具有重要意义：

qmail-smtpd：负责接收来自外部世界的邮件。它侦听端口 25 并接受遵循 smtp 协议的邮件。

而 qmail-inject: 负责将邮件发送到同一域或其他域。（基本上我们称之为MUA）

# sql-server - xp_cmdshell 代理未执行

> ID：14952151
> 
> 赞同：1
> 
> 时间：2013-02-19T07:36:25.880
> 
> 标签：sql-server, xp-cmdshell

我创建了一个具有系统管理员访问权限的代理帐户。用户使用它来执行他们选择的 bcp 命令。

但是，当用户想要执行他们得到的过程时：**对象'xp_cmdshell'，数据库'mssqlsystemresource'，模式'sys'的EXECUTE权限被拒绝**

这是我的过程：

```
CREATE PROCEDURE spCMDProxy 

( 
@SQLSTATEMENT VARCHAR(1000), 
@FILENAME VARCHAR(1000) 

) 
WITH ENCRYPTION 
AS 
BEGIN 
DECLARE @PrepStatement VARCHAR(1000) 
SET @PrepStatement = 'bcp ' + '"'+ @SQLSTATEMENT + '" queryout C:\SamsungEDI\' + @FILENAME + ' -U************ -P************ -c -t"||" -S UECZAERP01' 
EXEC xp_cmdshell @PrepStatement 
END 
```

我的代理帐户是本地系统管理员帐户。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:35:47.847

我发现了问题，由于用户无法在 xp_cmdshell 上执行，因此无法执行：

```
USE master
GRANT EXECUTE on xp_cmdshell to [mydomain\myAccount] 
```

还找到了这篇[文章](https://stackoverflow.com/questions/2016669/getting-execute-permission-to-xp-cmdshell/2028996#2028996)

# android - RelativeLayout content can not be seen

> ID：14952155
> 
> 赞同：0
> 
> 时间：2013-02-19T07:36:32.973
> 
> 标签：android, layout

Like the following layout shows, when the items in list are too much, more than one screen.

I can not see the following LinearLayout content when I drag down.

How to solve this problem?

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <ListView
        android:id="@+id/list"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >
    </ListView>

    <LinearLayout
        android:id="@+id/linearLayout1"
        android:layout_width="wrap_content"
        android:layout_height="100dp"
        android:layout_below="@+id/list"
        android:layout_centerHorizontal="true"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/UserIDStatic"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/UserID" />
        .
        .
        .
    </LinearLayout>

</RelativeLayout> 
```

Thanks in advance!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:41:57.600

change to this

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <ListView
        android:id="@+id/list"
        android:layout_width="match_parent"
        android:layout_height="100dp" >   <!-- use a definate dimension here -->
    </ListView>

    <LinearLayout
        android:id="@+id/linearLayout1"
        android:layout_width="wrap_content"
        android:layout_height="100dp"
        android:layout_below="@+id/list"
        android:layout_centerHorizontal="true"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/UserIDStatic"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/UserID" />
        .
        .
        .
    </LinearLayout>

</RelativeLayout> 
```

or else put both `ListView` and `LinearLayout` in `ScrollView`

or as bellow comment

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
android:weightSum="1"
android:orientatio="verticle" >

        <ListView
            android:id="@+id/list"
           android:layout_weight="0.5"
            android:layout_width="match_parent"
            android:layout_height="0dp" >  
        </ListView>

        <LinearLayout
            android:id="@+id/linearLayout1"
            android:layout_width="wrap_content"
            android:layout_height="0dp"
             android:layout_weight="0.5"

            android:orientation="horizontal" >

            <TextView
                android:id="@+id/UserIDStatic"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/UserID" />
            .
            .
            .
        </LinearLayout>

    </LinearLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:05:24.633

There are two options comes in picture.

1.  Instead of Relative layout Use Vertical Linear layout with appropriate wieght to listview and inner linear layout (eg. 0.7 and 0.3)
2.  Use same Relative layout as above with inner LinearLayout to alignparentbottom = true and listview above="@innerLinearLayout" linearlayout.

This might solve your problem. Using specific height for listview might cause different look in UI for different sized screens.

# c# - PHP中的响应为空，而.Net给出所有文本

> ID：14952156
> 
> 赞同：1
> 
> 时间：2013-02-19T07:36:34.190
> 
> 标签：c#, php, curl

我在 PHP 中使用 cURL 来获取 id 作为响应，但我得到的是空响应。这是我的代码：

```
$jsonContent = "{\"param1\" : [{\"subparam1\" : subnumval1,\"subparam2\" : subnumval2 },{\"subparam1\" : subnumval1,\"subparam2\" : subnumval2 }],\"param2\" : \"val2\",\"param3\" : \"val3\"}";

    $url = HTTPS_URL;    
    $ch = curl_init($url);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);
    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, FALSE);
    curl_setopt($ch, CURLOPT_USERPWD, "user:pass");
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST");  
    curl_setopt($ch, CURLOPT_POSTFIELDS, $jsonContent);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(                                                                          
    'Content-Type: application/json',                                                                                
    'Content-Length: ' . strlen($jsonContent))
);
    $output = curl_exec($ch);
if($output === false)
{
       echo 'Curl error: ' . curl_error($ch);
}else
    {
       echo $output;
    } 
```

当我尝试使用 .NET (C#) 获得响应时，我得到了响应，这里是 .NET 代码：

```
public partial class PostData : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        if (!Page.IsPostBack)
            PostBlockFaceData();

    }

    // POST a JSON string
    void PostBlockFaceData()
    {
        //Create the credentials cache as you can more than one
        CredentialCache tempCache= new CredentialCache();

        //Create the Network username and password
        NetworkCredential secureCred = new NetworkCredential("user", "pass");

        //Add the login credentials to the credential cache
        parkmeCache.Add(new Uri("HTTPS_URL:443/"), "Basic", secureCred);

        //JSON array in string format
        string jsonContent = "{\"param1\" : [{\"subparam1\" : "subval1",\"subparam2\" : "subval2" },{\"subparam1\" : "subval2",\"subparam2\" : "subparam2" }],\"param2\" : \"val2\",\"param3\" : \"val3\"}";
        //
        string url = HTTPS_URL

        //Create the Webrequest with the URL
        HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);
        request.PreAuthenticate = true; //use authentication
        request.UseDefaultCredentials = true; //Use the default credential available
        request.Credentials = parkmeCache; //pass the credential cache to the request object

        //The following is to used to ignore bit matching
        System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate(
                    Object sender1,
                    X509Certificate certificate,
                    X509Chain chain,
                    System.Net.Security.SslPolicyErrors sslPolicyErrors)
        {
            return true;
        };

        request.Method = "POST"; //HTTP VERB
        request.ContentLength = jsonContent.Length; //JSON DATA string length
        request.ContentType = @"application/json"; //The Content type is of application in json format
        System.Text.UTF8Encoding encoding = new System.Text.UTF8Encoding(); //specified UTF8 standard text coding
        Byte[] byteArray = encoding.GetBytes(jsonContent); //converted the json data to bytes because datastream understands that way

        using (Stream dataStream = request.GetRequestStream()) //get the request stream handle
        {
            dataStream.Write(byteArray, 0, byteArray.Length);  //write the json data to the request stream
        }
        long length = 0;
        string strStatusCode="";
        string strDesc = "";
        try
        {
            using (HttpWebResponse response = (HttpWebResponse)request.GetResponse()) //execute the request and get the response from the call
            {

                length = response.ContentLength; //length of the content
                strStatusCode = response.StatusCode.ToString(); //return the status code OK on success or status error codes like 400, 403 etc.,
                strDesc = response.StatusDescription; //The description has the return value in this case on success returns the Block Face ID
                Response.Write("Status Code : " + strStatusCode + "    ,    Status Description : " + strDesc);
            }
        }
        catch (WebException ex)
        {
            Response.Write(ex.Message);
            // Log exception and throw as for GET example above
        }
    }

} 
```

上面的代码就像魅力一样工作..我不知道 PHP 的问题在哪里。谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:30:08.853

首先，我要感谢所有回复我并试图找出我的问题的人。在挖掘了很多并检查了代码之后，我注意到了问题所在。

我需要做的就是像下面的代码一样传递标题

**curl_setopt($ch, CURLOPT_HEADER, 1);**

在这里，我将正确的代码放在下面。

```
$jsonContent = "{\"param1\" : [{\"subparam1\" : subnumval1,\"subparam2\" : subnumval2 },{\"subparam1\" : subnumval1,\"subparam2\" : subnumval2 }],\"param2\" : \"val2\",\"param3\" : \"val3\"}";

    $url = HTTPS_URL;    
    $ch = curl_init($url);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);
    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, FALSE);
    curl_setopt($ch, CURLOPT_USERPWD, "user:pass");
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST");  
    curl_setopt($ch, CURLOPT_POSTFIELDS, $jsonContent);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_HEADER, 1);
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(                                                                          
    'Content-Type: application/json',                                                                                
    'Content-Length: ' . strlen($jsonContent))
);
    $output = curl_exec($ch);
if($output === false)
{
       echo 'Curl error: ' . curl_error($ch);
}else
    {
       echo $output;
    } 
```

我希望它能帮助其他面临/将面临同样问题的人。

再次感谢 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:43:05.370

> $jsonContent = "{\"param1\" : [{\"subparam1\" : "subval1",\"subparam2\" : "subval2" },{\"subparam1\" : "subval2",\"subparam2\" : "subparam2" }],\"param2\" : \"val2\",\"param3\" : \"val3\"}";

至

> $jsonContent = "{\"param1\" : [{\"subparam1\" : \"subval1\",\"subparam2\" : \"subval2\" },{\"subparam1\" : \"subval2\" ,\"subparam2\" : \"subparam2\" }],\"param2\" : \"val2\",\"param3\" : \"val3\"}";

您还没有转义所有双引号。

# php - 通过php流式传输mp3文件

> ID：14952157
> 
> 赞同：7
> 
> 时间：2013-02-19T07:36:40.583
> 
> 标签：php, streaming

这是我通过 php 流式传输 mp3 文件的 php 代码

```
set_time_limit(0);
$dirPath = "path_of_the_directory";
$songCode = $_REQUEST['c'];
$filePath = $dirPath . "/" . $songCode . ".mp3";
$strContext=stream_context_create(
    array(
        'http'=>array(
        'method'=>'GET',
        'header'=>"Accept-language: en\r\n"
        )
    )
);
$fpOrigin=fopen($filePath, 'rb', false, $strContext);
header('content-type: application/octet-stream');
while(!feof($fpOrigin)){
  $buffer=fread($fpOrigin, 4096);
  echo $buffer;
  flush();
}
fclose($fpOrigin); 
```

它适用于 Mac Mini 和所有其他 PC，但不适用于 iPad 和 iPhone。甚至流媒体也适用于所有其他智能手机。您的帮助将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:39:24.487

`content-type: application/octet-stream`如果是一首歌，为什么？更改标题：

```
set_time_limit(0);
$dirPath = "path_of_the_directory";
$songCode = $_REQUEST['c'];
$filePath = $dirPath . "/" . $songCode . ".mp3";
$strContext=stream_context_create(
    array(
        'http'=>array(
        'method'=>'GET',
        'header'=>"Accept-language: en\r\n"
        )
    )
);
$fpOrigin=fopen($filePath, 'rb', false, $strContext);
header('Content-Disposition: inline; filename="song.mp3"');
header('Pragma: no-cache');
header('Content-type: audio/mpeg');
header('Content-Length: '.filesize($filePath));
while(!feof($fpOrigin)){
  $buffer=fread($fpOrigin, 4096);
  echo $buffer;
  flush();
}
fclose($fpOrigin); 
```

LE：删除`Content-Transfer-Encoding`并`Content-Disposition`从更改`attachment`为`inline`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-06-15T08:09:59.077

```
<?php
set_time_limit(0);
$dirPath = "path_of_the_directory";
$songCode = $_REQUEST['c'];
$filePath = $dirPath . "/" . $songCode . ".mp3";
$bitrate = 128;
$strContext=stream_context_create(
     array(
         'http'=>array(
         'method'=>'GET',
         'header'=>"Accept-language: en\r\n"
         )
     )
 );

 header('Content-type: audio/mpeg');
 header ("Content-Transfer-Encoding: binary");
 header ("Pragma: no-cache");
 header ("icy-br: " . $bitrate);

 $fpOrigin=fopen($filePath, 'rb', false, $strContext);
 while(!feof($fpOrigin)){
   $buffer=fread($fpOrigin, 4096);
   echo $buffer;
   flush();
 }
 fclose($fpOrigin); 
```

我知道这篇文章是去年的，但有人可能会觉得这很有用。这将流式传输内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-02-22T15:12:38.367

我知道这已经过时了，但我们只是在 iOS 上遇到了同样的问题。

基本上，如果您的应用程序使用本机播放器读取文件，您似乎需要实现**Accept-Ranges**和**206 Partial Content**才能读取您的文件。

在我们的例子中，文件总共有 4 分钟长。该应用程序将播放大约 1 分 50 秒，然后循环回到开头。它不会检测文件的总长度。
即使我们已将 Accept-Ranges 设置为 none，iOS 仍会忽略它，并且仍在请求文件的某些部分。由于我们要返回整个内容，因此它在下一个“范围”读取时“循环”回到开头。

对于部分内容的实现，我们使用了[https://mobiforge.com/design-development/content-delivery-mobile-devices](https://mobiforge.com/design-development/content-delivery-mobile-devices)，附录 A：Thomas Thomassen 的 Apple iPhone 流媒体

我希望这可以帮助别人

# sql - 视图和索引的性能影响

> ID：14952160
> 
> 赞同：2
> 
> 时间：2013-02-19T07:36:43.730
> 
> 标签：sql, postgresql

假设我有一张桌子 foo：

```
CREATE TABLE FOO (
    FOO_ID INTEGER,
    STATUS INTEGER,
    RATING INTEGER,
    PRIMARY KEY ("FOO_ID")
) 
```

其中 status 可以在 0 到 5 之间，并且表中充满了行。

然后假设我创建了一个关于状态的索引，以及另一个关于评级的索引：

```
CREATE INDEX ON FOO (STATUS);
CREATE INDEX ON FOO (RATING); 
```

现在，假设我有一个观点：

```
CREATE VIEW FOO_THREE_VIEW AS
  SELECT * 
  FROM FOO
  WHERE STATUS = 3; 
```

我想获取 foo 中的记录：`STATUS = 3`和`RATING = 5`. 以下查询会给我想要的结果：

```
SELECT * FROM FOO WHERE STATUS = 3 AND RATING = 5; 
```

但是，以下查询也会给我想要的结果：

```
SELECT * FROM FOO_THREE_VIEW WHERE RATING = 5; 
```

在这两个查询中，是否存在性能差异？第一个查询是否受益于两个索引？第二个查询是否受益于两个索引？我无法在视图上创建索引来帮助提高性能，对吗？如果两列都有索引，`CREATE INDEX ON FOO (STATUS, RATING)`而不是两个单独的索引，那么两者的性能将如何变化？

我知道这个问题可能是一个一般的 SQL 问题，但是当需要规范时，我想知道它在 PostgreSQL 中是如何工作的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:53:05.520

不会有性能*（在这种情况下也是执行）*差异。将使用哪个索引取决于数据和统计信息，仅用于`EXPLAIN`检查数据库首选哪个索引。在所描述的情况下，两列上的索引将是最合适的。

您不能在视图上创建索引，因为 PostgreSQL 将视图视为普通`SQL`语句并将其存储。当您针对视图发出查询时，在内部，查询会在计划开始之前被重写和转换。[您可以在文档](http://www.postgresql.org/docs/current/interactive/overview.html)中阅读有关 PostgreSQL 如何处理您的请求的更多信息。这将改变目前正在积极开发的[物化视图。](http://wiki.postgresql.org/wiki/Materialized_Views)

您还可以随时[`EXPLAIN ANALYZE`](http://www.postgresql.org/docs/current/interactive/sql-explain.html)检查*如何*处理这个或那个查询，并比较涉及和不涉及视图的案例的执行计划。

# html - 表格单元格（td，th）不采用 colgroup 中给出的宽度

> ID：14952166
> 
> 赞同：1
> 
> 时间：2013-02-19T07:36:54.223
> 
> 标签：html, css

我正在尝试使用`col`元素为表格单元格提供最小宽度`colgroup`。由`table`a 包裹，`div`其中设置了一些宽度（小于 中设置的所有单元格的组合宽度`col`），并且`overflow`of`div`设置为`auto`。

这是我的html代码-

```
<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
        .table-block {
            border-spacing: 0;
            border-collapse: collapse;
        }

        .cell {
            padding: 5px 10px;
            border: 1px solid silver;
        }
    </style>
</head>
<body>
<div style="width:200px;overflow: auto">
    <table class="table-block">
        <colgroup>
            <col style="width:300px">
            <col style="width:300px">
        </colgroup>
        <tbody>
        <tr>
            <td class="cell"><em>2(0,2)</em></td>
            <td class="cell"><em>3(0,3)</em></td>
        </tr>
        <tr>
            <td class="cell"><em>2(0,2)</em></td>
            <td class="cell"><em>3(0,3)</em></td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html> 
```

我的问题是单元格没有从`col`. 它试图让自己适应包装器`div`。我希望单元格采用给定的正确宽度，并且应该出现一个滚动条。我有一个解决方案，我将`table`宽度设置为我需要的总宽度。这将要求我`table`每次通过 JavaScript 插入新列时更新宽度。

我的解决方案 -

```
<div style="width:200px;overflow: auto">
        <table class="table-block" style="width:600px">
        <!-- table things -->
</div> 
```

这是正确的做法吗？为什么会这样？

jsFiddle[链接](http://jsfiddle.net/moazzam_khan/QQ86J/1/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:49:55.307

我认为这里的问题是，最终表格默认为容器的 100% 宽度，并且它的内部元素如果没有内容强制它这样做，就无法超越它。当尝试给出大于表格自身的宽度`tr`时，也会发生同样的情况。`td`

你的解决方法和我做的差不多。我要做的唯一改变是：

```
<div style" ... overflow-x:scroll; overflow-y:hidden;"> 
```

这样滚动条就不会出现在旧版本的 IE 上。

这当然假设您只希望表格水平滚动。

# selenium - 模拟器上的 iWebDriver 应用程序不显示 url

> ID：14952168
> 
> 赞同：1
> 
> 时间：2013-02-19T07:36:54.990
> 
> 标签：selenium

在`iWebdriver`模拟器上启动应用程序时，不会显示 url。Xcode 输出

> 如果要使用主故事板文件，应用程序委托必须实现 window 属性。

谢谢。

# android - 如何在启动时获得正确大小的 android 小部件？

> ID：14952171
> 
> 赞同：0
> 
> 时间：2013-02-19T07:37:33.363
> 
> 标签：android, android-widget, android-listview, size, homescreen

我有以下问题：

我有一个带有列表视图的 android 小部件，我的 widget_info.xml 看起来像这样：

```
<appwidget-provider xmlns:android="http://schemas.android.com/apk/res/android"
android:widgetCategory="keyguard|home_screen"
android:minWidth="250dp"
android:minHeight="65dp"
android:updatePeriodMillis="1800000"
android:initialLayout="@layout/widget_layout"
android:resizeMode="horizontal|vertical"
android:previewImage="@drawable/widget_preview"
android:minResizeWidth="250dp"
android:minResizeHeight="65dp">
</appwidget-provider> 
```

当我在主屏幕上设置小部件时，它有时没有最小高度。

你必须知道，我的列表视图在开始时是空的，开始后会被填满。但是当它被填充时，它必须显示具有最小高度的小部件，但事实并非如此。

我的意思是有时会，有时不会。它是错误还是功能？我该如何处理？

请帮我！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T15:48:30.133

更新：由于我已将 android:layout_height="wrap_content" 设置为 android:layout_height="match_parent" 它工作正常！:)

# cocoa - MVC结构？

> ID：14952172
> 
> 赞同：0
> 
> 时间：2013-02-19T07:37:45.783
> 
> 标签：cocoa, model-view-controller, interface-builder

我很难理解 MVC 结构。

我仍在苦苦挣扎的是，在创建控件以伴随支持代码时，是否需要在 IB 中包含对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:44:31.287

将 IB 视为对象的冻干版本。它是视觉形式的对象本身。它存储在 xib 文件中，并在引用时将其拉出。

您不需要使用 IB。您可以创建一个对象并将其添加到视图中，而无需打开可视化工具（有些人更喜欢这样工作）。

故事板将这一点带到了一个更高的水平，您可以在其中以 segue 的形式创建视图之间的交互。

# mysql - MySQL Trigger Insert After with Select query from different table

> ID：14952180
> 
> 赞同：4
> 
> 时间：2013-02-19T07:38:07.187
> 
> 标签：mysql, triggers, insert

DBA 的新手，感谢您对我的包容。

**概述：** 我有组、子组和用户。

1.  用户可以是组的所有者，因此应该是其所有子组的所有者
2.  用户可以是组的合作者或追随者，因此应该是其所有子组的合作者或追随者
3.  用户可以是子组的合作者或追随者

**表格如下（简化）：**

**组**（topic_id，标题）

**子组**（subtopic_id、title、topic_id）

**rel_Group** (user_id,topic_id,type) //判断用户与组的关系（Owner,Collaborator or Follower）

**rel_Subgroup** (user_id,subtopic_id,type) //判断用户与子组的关系（Owner,Collaborator or Follower）

**用户**（user_id）

我想在创建子组时创建一个触发器，该触发器将在 rel_Subgroup 中插入/更新/删除行，因此组上的所有者、协作者或关注者分别是子组上的所有者、协作者或关注者

这是我得到的最接近但仍然得到的结果： **#1415 - 不允许从触发器返回结果集。**

**SQL 查询**

```
delimiter //
create trigger Transfer_Rights_to_Subgroup
after insert 
on Subgroup
for each row
begin
select user_id,type from rel_Group where rel_Group.topic_id = NEW.topic_id;
insert into rel_Subgroup VALUES (rel_Group.user_id,NEW.subtopic_id,rel_Group.type); 
END; //
delimiter ; 
```

我希望对插入进行排序，然后找出更新/删除。

任何帮助，非常感谢！

谢谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-19T20:06:16.027

设法解决它：

```
DROP TRIGGER IF EXISTS Transfer_Rights_to_Subgroup;
DELIMITER //
CREATE TRIGGER Transfer_Rights_to_Subgroup AFTER INSERT ON subgroup
FOR EACH ROW
BEGIN
    DECLARE done INT DEFAULT FALSE;
    DECLARE c1 INT;
    DECLARE c2 INT;
    DECLARE cur CURSOR FOR SELECT User_ID,Type FROM rel_group WHERE rel_group.Topic_ID =     NEW.Topic_ID;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

    OPEN cur;
        ins_loop: LOOP
            FETCH cur INTO c1,c2;
            IF done THEN
                LEAVE ins_loop;
            END IF;
            INSERT INTO rel_Subgroup VALUES (c1,NEW.Subtopic_ID,c2);
        END LOOP;
    CLOSE cur;
END; //
DELIMITER ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:49:03.430

试试这个：

```
delimiter //
create trigger Transfer_Rights_to_Subgroup
after insert 
on Subgroup
for each row
begin
select user_id,type  into @userid, @type from group where rel_Group.topic_id = NEW.topic_id;
insert into rel_Subgroup VALUES (@userid,NEW.subtopic_id,@type); 
END; //
delimiter ; 
```

# c# - Visual Studio“选择资源”对话框替换

> ID：14952181
> 
> 赞同：4
> 
> 时间：2013-02-19T07:38:09.790
> 
> 标签：c#, .net, winforms, visual-studio, windows-forms-designer

在我的项目中，我有超过 750 张图片资源。使用 VS 内置的“选择资源”对话框是为 winforms 设计器中的按钮查找和选择一个图像的噩梦。

如果它是一些像对话框这样的浏览器并且它缺乏搜索功能，它会更有用。

*   你知道如何替换这个对话框吗？

*   有没有可以做到这一点的扩展程序？

*   如果没有这样的扩展，我会创建一个扩展/加载项，无论我需要做什么。如果可以做到的话，你有什么真实的经验吗？

*   我以为我会找到合适的dll并扩展它的行为，但不幸的是我找不到哪个dll包含这个悲剧

任何帮助将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-12-03T05:03:03.523

*资源选择*`UITypeEditor`对话框是一个. 它是`ResourceEditorSwitch<T>`内部使用内部类的内部类`ResourcePickerDialog`，它们都在`Microsoft.VisualStudio.Windows.Forms.dll`程序集中，这是 Visual Studio 的程序集之一。

由于该类的实现与 Visual Studio 程序集的其他一些内部类紧密耦合，因此很难提取类源代码并对其进行自定义，但是您拥有有关该类的这些信息将有助于我们查看其源代码代码并让我们了解有关该类的更多信息。

要自定义*资源选择*对话框相反，您可以在设计时获取类的实例，在显示对话框之前，使用代码操作对话框以具有如下 gif 的过滤功能，*注意`TextBox`我添加到对话框中的：*

[![在此处输入图像描述](../Images/4e161ad9636db4e07b1396b8bf5d61da.png)](https://i.stack.imgur.com/ECz2M.gif)

`ListBox`您可以通过输入`TextBox`和使用来过滤`↑</kbd> and `↓</kbd> keys, without changing the focus from `TextBox` you can select filtered results.``

为此，您应该：

1.  创建一个`ControlDesigner`并将其注册为控件的设计器。然后在其中`OnCreateHandle`找到您要编辑的属性。例如`BackgroundImage`.
2.  找到该`UITypeEditor`属性的。编辑器的类型是`ResourceEditorSwitch<T>`使用`ResourcePickerDialog`. 获取 的实例`ResourcePickerDialog`。
3.  获取`resourcePickerUI`字段并创建`ResourcePickerUI`对话框实例。这是您应该更改的对话框。该对话框包含一些`TableLayoutPanel`. `TextBox`您应该在合适的位置插入 a并处理其`TextChanged`事件并过滤显示在`ListBox`. 所有控件都有名称，您可以简单地访问它们并更改它们的属性和值。

4.  更改表格后，分配它`resourcePickerUI`。这样，编辑器将使用更改后的表单并显示您需要的内容。

**执行**

您可以在以下存储库中找到完整的工作示例：

*   [r-aghaei/CustomizeSelectResourceDialog](https://github.com/r-aghaei/CustomizeSelectResourceDialog)

*   [下载压缩包](https://github.com/r-aghaei/CustomizeSelectResourceDialog/archive/master.zip)

这是设计器的代码：

```
public class MyControlDesigner : ControlDesigner
{
    protected override void OnCreateHandle()
    {
        base.OnCreateHandle();
        var property = TypeDescriptor.GetProperties(this.Control)["BackgroundImage"];
        var resourceEditorSwitch = property.GetEditor(typeof(UITypeEditor)) as UITypeEditor;
        var editorToUseField = resourceEditorSwitch.GetType().GetProperty("EditorToUse",
            BindingFlags.NonPublic | BindingFlags.Instance);
        var editorToUse = editorToUseField.GetValue(resourceEditorSwitch);
        var resourcePickerUIField = editorToUse.GetType().GetField("resourcePickerUI",
            System.Reflection.BindingFlags.Instance |
            System.Reflection.BindingFlags.NonPublic);
        var resourcePickerUI = (Form)Activator.CreateInstance(resourcePickerUIField.FieldType);
        ModifyForm(resourcePickerUI);
        resourcePickerUIField.SetValue(editorToUse, resourcePickerUI);
    }
    void ModifyForm(Form f)
    {
        var resourceContextTableLayoutPanel = GetControl<TableLayoutPanel>(f, "resourceContextTableLayoutPanel");
        var resourceList = GetControl<ListBox>(f, "resourceList");
        resourceContextTableLayoutPanel.Controls.Remove(resourceList);
        var tableLayoutPanel = new TableLayoutPanel();
        tableLayoutPanel.Dock = DockStyle.Fill;
        tableLayoutPanel.Margin = new Padding(0);
        tableLayoutPanel.ColumnCount = 1;
        tableLayoutPanel.RowCount = 2;
        tableLayoutPanel.RowStyles.Add(new RowStyle(SizeType.AutoSize));
        tableLayoutPanel.RowStyles.Add(new RowStyle(SizeType.Percent, 100));

        List<string> list = new List<string>();
        var textBox = new TextBox() { Dock = DockStyle.Fill, Margin = resourceList.Margin };
        Action<string> applyFilter = (s) =>
        {
            if (string.IsNullOrEmpty(s))
            {
                resourceList.BeginUpdate();
                resourceList.Items.Clear();
                resourceList.Items.AddRange(list.ToArray());
                resourceList.EndUpdate();
            }
            else
            {
                var list2 = list.Where(x => x.ToLower().StartsWith(s.ToLower())).ToList();
                resourceList.BeginUpdate();
                resourceList.Items.Clear();
                resourceList.Items.Add("(none)");
                resourceList.Items.AddRange(list2.ToArray());
                resourceList.EndUpdate();
            }
            if (resourceList.Items.Count > 1)
                resourceList.SelectedIndex = 1;
            else
                resourceList.SelectedIndex = 0;
        };
        var resxCombo = GetControl<ComboBox>(f, "resxCombo");
        resxCombo.SelectedValueChanged += (s, e) =>
        {
            resxCombo.BeginInvoke(new Action(() =>
            {
                if (resourceList.Items.Count > 0)
                {
                    list = resourceList.Items.Cast<string>().ToList();
                    textBox.Text = string.Empty;
                }
            }));
        };
        textBox.TextChanged += (s, e) => applyFilter(textBox.Text);
        textBox.KeyDown += (s, e) =>
        {
            if (e.KeyCode == Keys.Up)
            {
                e.Handled = true;
                if (resourceList.SelectedIndex >= 1)
                    resourceList.SelectedIndex--;
            }
            if (e.KeyCode == Keys.Down)
            {
                e.Handled = true;
                if (resourceList.SelectedIndex < resourceList.Items.Count - 1)
                    resourceList.SelectedIndex++;
            }
        };
        tableLayoutPanel.Controls.Add(textBox, 0, 0);

        resourceList.EnabledChanged += (s, e) =>
        {
            textBox.Enabled = resourceList.Enabled;

        };
        tableLayoutPanel.Controls.Add(resourceList, 0, 1);
        resourceContextTableLayoutPanel.Controls.Add(tableLayoutPanel, 0, 4);
    }
    T GetControl<T>(Control c, string name)
        where T : Control
    {
        return (T)c.Controls.Find(name, true).FirstOrDefault();
    }
} 
```

# php - '那不是一个有效的选项' 自定义表单类型提交中的错误

> ID：14952184
> 
> 赞同：1
> 
> 时间：2013-02-19T07:38:19.370
> 
> 标签：php, ajax, symfony, symfony-forms

有没有一种简单的方法可以让 symfony 中的选择字段使用通过 js 添加的数据正确验证？因此，例如，您加载一个空字段，然后使用 js/ajax 调用填充它，然后选择其中一个选项按提交，但验证器总是抛出此选项无效错误...

为了提供一些背景知识，我有一个使用选择类型作为父级的自定义表单类型，还有一个将选项转换为实体的自定义数据转换器（我可以确认它有效，因为如果我将表单类型更改为文本并手动输入对应于我要选择的选项的 id，表单提交正常）。

有任何想法吗？我很高兴提供您可能想要查看的任何文件？

**编辑 nullstateType.php**

```
<?php

namespace ISFP\Index\IndexBundle\Form\Type;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;
use ISFP\Index\IndexBundle\Form\Transformer\nullstateTransformer;
use Doctrine\Common\Persistence\ObjectManager;

class nullstateType extends AbstractType
{
    /**
     * @var ObjectManager
     */
    private $om;

    /**
     * @param ObjectManager $om
     */
    public function __construct(ObjectManager $om)
    {
        $this->om = $om;
    }

    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        $transformer = new nullstateTransformer($this->om);
        $builder->prependNormTransformer($transformer);
    }

    public function setAllowedValues(OptionsResolverInterface $resolver) 
    {
        return array( 'widget' => array('choice'));
    }

    public function getDefaultOptions(array $options)
    {
        return array(
            'invalid_message' => 'The selected state does not exist',
            'property_path' => false
        );
    }

    public function getParent()
    {
        return 'choice';
    }

    public function getName()
    {
        return 'nullstate';
    }
} 
```

**nullstateTransformer.php**

```
<?php

namespace ISFP\Index\IndexBundle\Form\Transformer;

use Symfony\Component\Form\DataTransformerInterface;
use Symfony\Component\Form\Exception\TransformationFailedException;
use Doctrine\Common\Persistence\ObjectManager;
use ISFP\Index\IndexBundle\Entity\State;

class nullstateTransformer implements DataTransformerInterface
{
    /**
     * @var ObjectManager
     */
    private $om;

    /**
     * @param ObjectManager $om
     */
    public function __construct(ObjectManager $om)
    {
        $this->om = $om;
    }

    /**
     * Transforms an object (state) to a string (id).
     *
     * @param  Issue|null $state
     * @return string
     */
    public function transform($state)
    {
        if (null === $state) {
            return "";
        }

        return $this->om->getRepository('ISFPIndexEntityBundle:State')->getId();
    }

    /**
     * Transforms a string (id) to an object (state).
     *
     * @param  string $id
     * @return Issue|null
     * @throws TransformationFailedException if object (state) is not found.
     */
    public function reverseTransform($id)
    {
        if (!$id) {
            return null;
        }

        $state = $this->om
            ->getRepository('ISFPIndexEntityBundle:State')
            ->findOneById(intval($id))
        ;

        if (null === $state) {
            throw new TransformationFailedException(sprintf(
                'An state with id "%s" does not exist!',
                $id
            ));
        }

        return $state;
    }
} 
```

# mysql - MySQL：从具有特定关联的关联表中获取 id

> ID：14952187
> 
> 赞同：2
> 
> 时间：2013-02-19T07:38:24.223
> 
> 标签：mysql, sql, select

我在包和产品之间有以下关联表（简化）：

```
package_id     product_id    count
1              1             6
1              2             1
1              3             1
2              1             6
2              2             1
3              1             6
4              1             8
4              2             1 
```

我正在尝试研究如何创建一个查询，该查询能够选择特定`package_id`的，其中包含我提供的产品及其数量。因此，如果我试图找到包含: 的包`(product_id = 1 AND count = 6) AND (product_id = 2 AND count = 1)`，它应该**只**返回`package_id`2 而不是其他的，因为那些包含其他产品和/或其他计数。

我很乐意在我的代码（PHP）而不是 SQL 中解决这个问题，但由于我试图深入查询，我想知道这是如何完成的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:42:51.453

这就是所谓的`Relational Division`

```
SELECT  a.package_ID
FROM    tableName a
WHERE   (a.product_ID = 1 AND a.count = 6) OR
        (a.product_ID = 2 AND a.count = 1)
GROUP   BY a.package_ID
HAVING  COUNT(*) = 2 AND
        COUNT(*) = (SELECT COUNT(*) FROM tableName WHERE package_ID = a.package_ID) 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/e8c45/2)

或者

```
SELECT  package_ID
FROM    tableName
WHERE   (product_ID, `count`) in ((1, 6), (2, 1))
GROUP   BY package_ID
HAVING  COUNT(DISTINCT product_ID, `count`) = 2 AND
        COUNT(*) = (SELECT COUNT(*) FROM tableName WHERE package_ID = a.package_ID) 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/e8c45/4)

# assembly - 汇编语言 - 调用约定

> ID：14952191
> 
> 赞同：1
> 
> 时间：2013-02-19T07:38:34.740
> 
> 标签：assembly, stdcall, cdecl

有人可以给我一些真实的例子来帮助我理解汇编语言中的被调用者和调用者是什么？我已经通过了大多数来源，但我仍然无法区分被调用者和调用者。先感谢您。（我正在添加这个解释 - 再次感谢您！对不起，我是新来的代码，不知道如何插入代码以正确显示）我正在尝试理解这段代码 - 学习组装的基础知识。我正在尝试为每个命令添加注释（我相信像我这样的其他人也需要它：

```
sub_401040      proc near               
.text:00401040
.text:00401040
.text:00401040 000                 push    ebp    ; Push the content of ebp register onto the stack
.text:00401041 004                 mov     ebp, esp    ;Allocating 8 bytes of storage ; move the esp register content into ebp register
.text:00401043 004                 push    ecx
.text:00401044 008                 mov     eax, [ebp+8]
.text:00401047 008                 push    eax    ; Push eax contents onto the stack
.text:00401048 00C                 call    ds:lstrlenA
.text:0040104E 008                 add     eax, [ebp+0Ch]
.text:00401051 008                 mov     edx, eax
.text:00401053 008                 mov     ecx, 1    ;Set buffer address
.text:00401058 008                 call    sub_401000
.text:0040105D 008                 mov     [ebp-4], eax
.text:00401060 008                 mov     ecx, [ebp-4]
.text:00401063 008                 shl     ecx, 2
.text:00401066 008                 mov     [ebp-4], ecx
.text:00401069 008                 mov     edx, [ebp-4]
.text:0040106C 008                 push    edx
.text:0040106D 00C                 push    offset aResultD ; "Result: %d\n"
.text:00401072 010                 call    ds:printf
.text:00401078 010                 add     esp, 8    ; clean up the stack by adding the size of the argument to esp register
.text:0040107B 008                 mov     eax, 539h
.text:00401080 008                 mov     esp, ebp
.text:00401082 004                 pop     ebp    ;Restore old frame pointer
.text:00401083 000                 retn        ; Return near
.text:00401083     sub_401040      endp 
```

我读到了，为了定义调用约定，我需要弄清楚谁是调用者，谁是被调用者:) 我花了很多时间来理解逻辑： call ds:lstrlenA 是指被调用者吗？sub_401040 是调用者吗？我们可以在一个程序中有多个调用约定吗？像 cdecl 和 stdcall 一样？我不是程序员，也不是在写代码，我只是想了解它是如何帮助分析病毒的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:42:12.937

*调用者*是具有相关（`call`或 rcall/blx/jalr/etc. 函数调用指令）的那个，而*被调用者*是被调用的函数。

```
func:
    do_stuff

func2:
    call func 
```

在这个例子中，当`func2`调用时`func`，`func2`被称为*调用者*和`func`被*调用者*。

任何函数都可以是调用者或被调用者（或两者都在不同的上下文中），除非它不包含任何`call`指令。在后一种情况下，它将被称为“叶函数”，并且可能会应用一些优化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:43:16.507

当某个函数/子例程 A 调用另一个函数/子例程 B 时，A 是调用者，B 是被调用者。如果 B 调用 C，则 B 成为 C 的调用者，C 成为 B 的被调用者。因此，B 既是调用者又是被调用者，这取决于您如何看待它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:46:24.290

在汇编语言中，函数调用与简单跳转（又名 goto）没有太大区别。唯一的区别是函数参数在跳转之前存储在某个众所周知的地方，因此函数可以读取和使用它们。其中一个参数通常是函数完成工作后应该跳转的地址，即所谓的“返回地址”。在跳转到这个地址之前，函数可能会将返回值存储在某个众所周知的地方。

所以调用者是一段代码，存储参数是众所周知的地方，调用跳转到函数的开头，然后，函数将跳转回它，从众所周知的地方读取返回值。

被调用者本身就是一个函数，即调用者跳转到的一段代码，它从众所周知的地方读取参数，根据它们执行一些工作，将返回值存储在众所周知的地方，并使用提供的返回地址跳转回调用者。

# zend-form - Zend 框架 2：“Zend\Form\FormInterface”的“NULL”类型的无效实例化器

> ID：14952199
> 
> 赞同：0
> 
> 时间：2013-02-19T07:39:00.087
> 
> 标签：zend-form, zend-framework2

由于奇怪的异常，我无法通过 DI 实例化我的表单。

这是重现我得到的异常的代码片段

```
include 'Zend/Loader/AutoloaderFactory.php';
Zend\Loader\AutoloaderFactory::factory(array(
    'Zend\Loader\StandardAutoloader' => array(
        'autoregister_zf' => true
    )
));

include 'Zend/Di/Di.php';

$di = new Zend\Di\Di();
$form = $di->get('Zend\Form\Form'); 
```

我总是得到

> 致命错误：未捕获的异常 'Zend\Di\Exception\RuntimeException' 带有消息“Zend\Form\FormInterface”的“NULL”类型的无效实例化器。

我究竟做错了什么？非常感谢任何帮助和/或建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:39:53.040

我对此进行了深入研究，确实引发了异常。尝试运行以下：

```
$def = new \Zend\Di\Definition\RuntimeDefinition();

var_dump($def->getMethods('Zend\Form\Form')); 
```

这将转储所有`Zend\Di`可以理解为“注入方法”的方法。输出将类似于

```
array (size=23)
  '__construct' => boolean true
  'setData' => boolean false
  'setHydrator' => boolean false
  'setBindOnValidate' => boolean false
  'setBaseFieldset' => boolean false
  'setValidationGroup' => boolean false
  'setInputFilter' => boolean false
  'setUseInputFilterDefaults' => boolean false
  'setPreferFormInputFilter' => boolean false
  'setWrapElements' => boolean false
  'setOptions' => boolean false
  'setFormFactory' => boolean true
  'setPriority' => boolean false
  'setMessages' => boolean false
  'setObject' => boolean false
  'setUseAsBaseFieldset' => boolean false
  'setName' => boolean false
  'setAttribute' => boolean false
  'setAttributes' => boolean false
  'setValue' => boolean false
  'setLabel' => boolean false
  'setLabelAttributes' => boolean false
  'prepareElement' => boolean true 
```

如您所见，方法`prepareElement(FormInterface $form)`被标记为注入方法。那是因为（就目前的[Di 自省策略](https://github.com/zendframework/zf2/blob/release-2.1.1/library/Zend/Di/Definition/IntrospectionStrategy.php#L31-L34)而言）`prepareElement`是在 interface 中定义的[`Zend\Form\ElementPrepareAwareInterface`](https://github.com/zendframework/zf2/blob/release-2.1.1/library/Zend/Form/ElementPrepareAwareInterface.php)，并且因为`2.1.0`.

由于注入方法被标记为`Zend\Di`在对象实例化后调用，`Zend\Di`因此无法找到`Zend\Form\FormInterface`（不是`Zend\Form\Form`）的实例。

如您所见，在这种情况下，更改与此无关`Zend\Di`。您最终可以[报告它](https://github.com/zendframework/zf2/issues)或更改内省策略以满足您的需求。

我个人认为不`Zend\Di`应该调用该方法，也不认为该方法应该是`*Aware*`接口的一部分。

# json - 如何在 awk 中解码 JSON 编码的列？

> ID：14952210
> 
> 赞同：2
> 
> 时间：2013-02-19T07:39:29.587
> 
> 标签：json, shell, unix, awk

假设我有一个制表符分隔的文件。在其中，我有一个以 JSON 编码的数据列。有没有办法解码 JSON 数据并以有意义的方式使用它？理想情况下，该方法会将 JSON 数据解码为 awk 的哈希表/数组。或者，像 Hive 的[get_json_object](https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-getjsonobject)这样的东西也可以工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:24:11.280

tl;博士：不要这样做。

详细说明一下普遍观点：Awk 有函数（包括递归）、关联数组、许多支持正则表达式的内置字符串函数。所以，是的，可以为此编写一个 awk 程序。这可以在单行中完成吗，这是 awk 最常用的？非常不可能。

例如，考虑这个微小的 JSON“对象”：`{a: b, c: d}`作为唯一的字段。

这可能是您的 awk 程序：

```
echo {a: b, c: d} | awk 'BEGIN {FS="\t"}
     {sub("{", "", $1); sub("}", "", $1); split($1, array, ", ");
         for (key in array) {
             split(array[key], array2, ": ");
             dict[array2[1]] = array2[2];
         }
     }
     END {for (key in dict) print key, dict[key]}' 
```

这最终会给你一个“dict”，键为“a”和“b”，值为“c”和“d”。难以构建，更难维护和修改。为自己省去麻烦。有许多更整洁的选择。例如[Python JSON](http://docs.python.org/2/library/json.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T03:09:59.753

awk 没有任何解码 JSON 的工具。是时候改用更通用的编程语言了，比如 Perl、Python 或 Ruby，它们都有处理 JSON 和列分隔文本的模块。

# php - 在 symfony 2.1 中重置密码 *

> ID：14952214
> 
> 赞同：0
> 
> 时间：2013-02-19T07:39:50.457
> 
> 标签：php, symfony-2.1

我想为用户提供更改密码的功能。对于身份验证，我在 security.yml 文件中使用 in_memory 提供程序。所以有任何方法可以更改用户名和密码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:39:26.183

如果它对你有用，我正在使用 FOSUserBundle，它为用户提供了这个功能。比如我们，更改密码、更改个人资料、电子邮件确认或注册用户。

我认为这不适用于它。您可以查看文档的这一部分。[http://symfony.com/doc/current/book/security.html#using-multiple-user-providers](http://symfony.com/doc/current/book/security.html#using-multiple-user-providers)

# r - 用于 R 的 Wordnet Lemmatizer

> ID：14952215
> 
> 赞同：1
> 
> 时间：2013-02-19T07:39:53.780
> 
> 标签：r, nlp, wordnet, lemmatization

我想使用`wordnet`词形还原器来词形化单词`a`

```
> a<-c("He saw a see-saw on a sea shore", "she is feeling cold")
> a
[1] "He saw a see-saw on a sea shore" "she is feeling cold" 
```

我转换`a`成语料库并进行预处理步骤（如停用词删除、词形还原等）

```
> a <- Corpus(VectorSource(a)) 
```

我想通过以下方式进行词形还原，

```
> filter <- getTermFilter("ExactMatchFilter", a, TRUE)
> terms <- getIndexTerms("NOUN", 1, filter)
> sapply(terms, getLemma) 
```

但我得到这个错误

```
> filter <- getTermFilter("ExactMatchFilter", a, TRUE)
Error in .jnew(paste("com.nexagis.jawbone.filter", type, sep = "."), word,  : 
  java.lang.NoSuchMethodError: <init> 
```

我的想法是对整个语料库进行词形还原，而不是一个词，如何实现？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T10:45:16.507

把你的代码放在一个循环中，你可以尝试这样的事情：

```
 lapply(a,function(x){
            x.filter <- getTermFilter("ExactMatchFilter", x, TRUE))
            terms <- getIndexTerms("NOUN", 1, x.filter)
            sapply(terms, getLemma)
         }) 
```

# jquery - jquery追加方法失败

> ID：14952221
> 
> 赞同：2
> 
> 时间：2013-02-19T07:40:10.943
> 
> 标签：jquery, cordova, jquery-mobile

我有一个基于网络的，我在 android 上使用 phonegap。我有一个 ajax 调用，它返回一个包含几页的 html 数据，最后我执行附加到 body 标记，并打开一个新页面。大多数时候它工作得很好，他们是那个 html 的附加失败的少数情况，我不知道为什么。我试图直接在我的浏览器上执行 ajax url 调用，我得到了一个很好的结果。

他们是一种方法来获取附加方法acourd的错误，以便我可以修复它？还有他们对附加方法的限制，一些如何在不适用于android的浏览器上工作？

谢谢

# java - 黑莓 - “你目前没有新的通知”

> ID：14952223
> 
> 赞同：3
> 
> 时间：2013-02-19T07:40:16.020
> 
> 标签：java, blackberry, blackberry-jde, localnotification

我正在使用下面的代码（尤其是`pushMessage`方法）向用户显示一些通知：

```
public final class MyApplicationMessageFolder 
{
    public static final long MyFolderId = 0x1256789012F10123L;

    private ApplicationMessageFolder folder_;
    private ApplicationIndicator indicator_;
    private MyReadableListImpl collection_;

    public void pushMessage(String subject, String message)
    {
        try 
        {
            if (collection_ == null)
            {
                collection_ = new MyReadableListImpl();
            }
            if (indicator_ == null)
            {
                registerFolderAndIndicator();
            }

            ApplicationMessage am = new MyApplicationMessage(message, subject);
            collection_.addMessage(am);
            folder_.fireElementAdded(am);

            // Update indicator
            int size = collection_.size();
            indicator_.setValue(size);
            indicator_.setVisible(size > 0);
        } 
        catch (Exception e)
        {
            System.out.println(e.getMessage());
        }
    }

    private void registerFolderAndIndicator()
    {
        // registration application folder and indicator
        ApplicationMessageFolderRegistry amfr = 
                ApplicationMessageFolderRegistry.getInstance();
        folder_ = amfr.getApplicationFolder(MyFolderId );

        if (folder_ == null)
        {
            folder_ = 
                    amfr.registerFolder(MyFolderId , "My Folder", collection_, true);
            ApplicationIcon icon = 
                    new ApplicationIcon(image_ = EncodedImage.getEncodedImageResource("my_icon.png"), true);
            int status = ApplicationMessage.Status.INCOMING | ApplicationMessage.Status.UNOPENED;

            amfr.registerMessageIcon(0, status, icon);
            folder_.setSearchProperties(new ApplicationMessageSearchProperties(true));
            folder_.addListener(
                    new ApplicationMessageFolderListener() {

                        public void actionPerformed(int action, ApplicationMessage[] messages,
                                ApplicationMessageFolder folder) {
                            if (action == ApplicationMessageFolderListener.MESSAGE_DELETED) {
                                for (int i = 0; i < messages.length; i++)
                                    collection_.removeMessage(messages[i]);

                                indicator_.setValue(collection_.size());
                                indicator_.setVisible(collection_.size() > 0);
                            }
                        }
                    },
                    ApplicationMessageFolderListener.MESSAGE_DELETED | 
                            ApplicationMessageFolderListener.MESSAGE_MARKED_OPENED | 
                            ApplicationMessageFolderListener.MESSAGE_MARKED_UNOPENED, 
                    ApplicationDescriptor.currentApplicationDescriptor());

            ApplicationMenuItem[] menu = new ApplicationMenuItem[] {

                    new ApplicationMenuItem(0) {

                        public String toString() {
                            return "Go to application";
                        }

                        public Object run(Object context) {
                            return null;
                        }
                    }
            };

            amfr.registerMessageMenuItems(0, status, menu, 
                    ApplicationDescriptor.currentApplicationDescriptor());
            amfr.setBulkMarkOperationsSupport(0, status, true, false);

            ApplicationIndicatorRegistry air = ApplicationIndicatorRegistry.getInstance();
            air.register(new ApplicationIcon(EncodedImage
                    .getEncodedImageResource("bar_icon_25.png")),
                    false, false);

            indicator_ = air.getApplicationIndicator();
        }
    }

    class MyApplicationMessage implements ApplicationMessage 
    {
        private String message_;
        private String subject_;
        private long timestamp_;

        public MyApplicationMessage(String message, String subject) {
            message_ = message;
            subject_ = subject;
            timestamp_ = new Date().getTime();
        }

        public String getContact() {
            return "HelloWorld";
        }

        public Object getCookie(int cookieId) {
            return null;
        }

        public Object getPreviewPicture() {
            return image_;
        }

        public String getPreviewText() {
            return message_;
        }

        public int getStatus() {
            return ApplicationMessage.Status.UNOPENED;
        }

        public String getSubject() {
            return subject_;
        }

        public long getTimestamp() {
            return timestamp_;
        }

        public int getType() {
            return 0x01;
        }
    }

    private class MyReadableListImpl implements ReadableList {
        private final Vector messages;

        MyReadableListImpl() {
            messages = new Vector();
        }

        public Object getAt(final int index) {
            return messages.elementAt(index);
        }

        public int getAt(final int index, final int count,
                final Object[] elements, final int destIndex) {
            return 0;
        }

        public int getIndex(final Object element) {
            return messages.indexOf(element);
        }

        public int size() {
            return messages.size();
        }

        void addMessage(final ApplicationMessage message) {
            messages.addElement(message);
        }

        void removeMessage(final ApplicationMessage message) {
            messages.removeElement(message);
        }
    }
} 
```

我可以在我的消息文件夹中看到我的消息，但我仍然无法在通知栏中看到它们

![在此处输入图像描述](../Images/39fa973e685e7b50a515cc3d574a293a.png)

谁能解释为什么我看到空的通知栏？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T18:00:50.327

要在通知下拉列表中查看消息，需要使用：

```
ApplicationFolderIntegrationConfig config = new 
        ApplicationFolderIntegrationConfig(true, true, 
        ApplicationDescriptor.currentApplicationDescriptor());
folder_ = amfr.registerFolder(MyFolderId , "My Folder", collection_, config); 
```

反而：

```
folder_ = amfr.registerFolder(MyFolderId , "My Folder", collection_, true); 
```

# vb.net - 自动刷新

> ID：14952226
> 
> 赞同：0
> 
> 时间：2013-02-19T07:40:19.747
> 
> 标签：vb.net, listview, timer

我想问如何在 vb.net 中使用计时器自动刷新/更新列表视图。给我一个想法或步骤或代码。这是我在计时器中的代码：

```
Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
    conn.Open()
    Timer1.enabled = False
    Timer1.interval = 5000
    Dim strquery As String = "Select * " & _
                           "from software "

    Dim myCommand As New OdbcCommand(strquery, conn)
    Dim myReader As OdbcDataReader
    myReader = myCommand.ExecuteReader
    ListView1.Items.Clear()
    If myReader.HasRows = True Then
        'ListView1.BeginUpdate()
        While myReader.Read
            Dim ListView As ListViewItem
            ListView = ListView1.Items.Add(myReader("log_type").ToString())
            ListView.SubItems.Add(myReader("log_desc").ToString())
            ListView.SubItems.Add(myReader("log_details").ToString())
            ListView.SubItems.Add(myReader("log_date").ToString())
            ListView.SubItems.Add(myReader("software_desc").ToString())
            ListView.SubItems.Add(myReader("software_name").ToString())
            ListView.SubItems.Add(myReader("develop_date").ToString())
            ListView.SubItems.Add(myReader("last_update").ToString())
        End While

End Sub
Private Sub Timer1_Tick(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Timer1.Tick
    Timer1.Interval = 1000
    Timer1.Enabled = False
    ListView1.Refresh()
    ListView1.Items.Add(DateTime.Now.ToLongTimeString() + "," + _
                       DateTime.Now.ToLongDateString())
End Sub 
```

这个计时器不起作用。有什么方法可以自动更新或自动刷新列表视图？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:33:22.923

您需要在最后再次启用 Timer：

```
Timer1.Enabled = True 
```

如果没有，计时器将不起作用。`Timer1.Enabled = False`停用定时器。

# javascript - 如何使用 jquery 从 javascript 中隐藏和显示 div

> ID：14952230
> 
> 赞同：0
> 
> 时间：2013-02-19T07:40:42.640
> 
> 标签：javascript, jquery

```
 <script type="text/javascript">
            function toggleDiv()
            {
                if (document.getElementById("searchByRegn_ChkBox").checked)
                {
                        $("#showHideDiv2").show();
                          $('#showHideDiv').hide();
                }
                else
                {
                 $('#showHideDiv2').hide();
                   $('#showHideDiv').show();

                }
            }

        </script>

<tr class="TextDarkBlueBOLD">
                        <td  width="20%" align="left">
                            <input type="checkbox"  id="searchByRegn_ChkBox" checked onclick="toggleDiv(); "/>
                            Custom Search
                        </td>
                        <td valign="top">

                        </td>
</tr>
                  <div id="showHideDiv">   <tr class="TextDarkBlueBOLD">
                        <td  width="20%">
                           Regn. No :
                        </td>
                        <td  align="left">
                            <input type="text" id="rNo" name="regPreSerailNumber" size="15" maxlength="50" onkeypress="return numbersonly(this, event)">
                        </td>
                    </tr></div>
                    <div id="showHideDiv2">
                            <tr>
                              <td class=PageHeader14 colspan="2" align="center">Enrolment Search</td>
                            </tr>
                   </div> 
```

当复选框将被选中时，我想隐藏 div showHideDiv 并显示 div showHideDiv2，如果未选中，那么我想显示 div showHideDiv 并隐藏 div showHideDiv2。但它不工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:45:17.823

尝试这个，

```
 $('#searchByRegn_ChkBox').click(function(){
    if (this.checked){
      $('#showHideDiv2').show();
      $('#showHideDiv').hide();
      // other stuff.............. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:49:36.107

我在您的代码中看不到任何本质上的损坏，除非您未能包含 jQuery，在这种情况下，每当您单击时，浏览器的控制台中都会出现错误。

也就是说，您应该避免使用 DOM0 内联事件处理程序。他们要求注册的处理程序是一个全局变量（坏的），并且不支持正确的 DOM3 事件处理程序可以做的很多好事情（例如冒泡与捕获）。

当您使用 jQuery 时，您也可以使用它来注册事件处理程序，这样可以更轻松地测试复选框。您还需要确保将代码包装在`document.ready`处理程序中，该处理程序应该为您提供完整的必需代码：

```
$(function() {   // shorthand for document.ready
    $('#searchByRegn_ChkBox').on('click', function() {
        var state = this.checked;
        $('#showHideDiv2').toggle(state);
        $('#showHideDiv').toggle(!state);
    });
}); 
```

请注意根据提供的参数使用a或 a的`Boolean`版本。`.toggle``.show``.hide`

请参阅[http://jsfiddle.net/alnitak/5L4PF/](http://jsfiddle.net/alnitak/5L4PF/) NB - 我也更改了 HTML，因为您非法混合了`<tr>`和`<div>`元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:43:32.547

试试这个使用长度`:checked`：

`if jquery lib is used then this way:`

```
if ($(':checked').length > 0){

  ........all other stuff.... 
```

或使用 javascript：

```
function toggleDiv(){
    if (document.getElementById("searchByRegn_ChkBox").checked){
         document.getElementById("showHideDiv2").style.display='block';
         document.getElementById("showHideDiv").style.display = 'none';
    }else{
         document.getElementById("showHideDiv2").style.display='none';
         document.getElementById("showHideDiv").style.display = 'block';
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T07:57:55.260

您可能需要从表格布局中删除 div 以获得所需的结果。您可以使用 change() 选择器在复选框更改时触发。

jsFiddle - [http://jsfiddle.net/Zye8f/1/](http://jsfiddle.net/Zye8f/1/)

jQuery部分：

```
$(document).ready(function() {
    $('#searchByRegn_ChkBox').change(function() {
        $('#showHideDiv').toggle();
        $('#showHideDiv2').toggle();
    });
}); 
```

和更新的html

```
<input type="checkbox"  id="searchByRegn_ChkBox" checked onclick="toggleDiv(); "/>Custom Search
<div id="showHideDiv2">&nbsp;</div>
<div id="showHideDiv">Regn. No :
    <input type="text" id="rNo" name="regPreSerailNumber" size="15" maxlength="50" onkeypress="return numbersonly(this, event)" />
</div> 
```

# java - Atlassian Confluence：宏类型插件，在访问页面时会显示一个弹出窗口

> ID：14952232
> 
> 赞同：2
> 
> 时间：2013-02-19T07:40:46.117
> 
> 标签：java, jquery, macros, confluence, atlassian-plugin-sdk

非常基本的想法，我想在有人访问页面时显示一个弹出窗口。我写了一个示例代码。实际上我想做的是创建一个宏类型的插件，它有一个主体，这样我们就可以在其中添加文本、链接和不同的元素，它会在弹出窗口中显示它们。

这是我在访问页面时能够显示弹出窗口的代码，但是当我选择“PLAIN_TEXT”作为“getBodyType（）”时。它显示未格式化的文本，当我选择“RICH_TEXT”时，它什么也不显示。请帮忙！

```
package com.elixir;

import com.atlassian.confluence.content.render.xhtml.ConversionContext;
import com.atlassian.confluence.content.render.xhtml.XhtmlException;
import com.atlassian.confluence.macro.Macro;
import com.atlassian.confluence.macro.MacroExecutionException;
import com.atlassian.confluence.xhtml.api.MacroDefinition;
import com.atlassian.confluence.xhtml.api.MacroDefinitionHandler;
import com.atlassian.confluence.xhtml.api.XhtmlContent;

import java.util.ArrayList;
import java.util.List;
import java.util.Map;

public class MyMacro implements Macro
{
    private final XhtmlContent xhtmlUtils;

    public MyMacro(XhtmlContent xhtmlUtils)
    {
        this.xhtmlUtils = xhtmlUtils;
    }

    @Override
    public BodyType getBodyType()
    {
        return BodyType.RICH_TEXT;
    }

    @Override
    public OutputType getOutputType()
    {
        return OutputType.BLOCK;
    }

    @Override
    public String execute(Map<String, String> parameters, String bodyContent, ConversionContext conversionContext) throws MacroExecutionException
    {
        String body = conversionContext.getEntity().getBodyAsString();

        final List<MacroDefinition> macros = new ArrayList<MacroDefinition>();

        try
        {
            xhtmlUtils.handleMacroDefinitions(body, conversionContext, new MacroDefinitionHandler()
            {
                @Override
                public void handle(MacroDefinition macroDefinition)
                {
                    macros.add(macroDefinition);
                }
            });
        }
        catch (XhtmlException e)
        {
            throw new MacroExecutionException(e);
        }

        StringBuilder builder = new StringBuilder();
        if (!macros.isEmpty())
        {
            for (MacroDefinition defn : macros) {
                builder.append("<script>AJS.$(document).ready(function() {var popup2 = AJS.popup({width:400, height:200, id:'my-popup2', closeOnOutsideClick: true});");
                builder.append("$('#my-popup2').css({padding:4});$('#my-popup2').html(\"").append(defn.getBody()).append("\");");
                builder.append("popup2.show();});</script>");

            }
        }
        else
        {
            builder.append("Body not defined");
        }

        return builder.toString();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T13:53:29.427

我认为你需要`hasBody='true'`, `bodyType='raw'`or `bodyType='rendered'`, and `outputType='html'`or `outputType='wiki'`。

以下是如何实施此解决方案的示例： [https ://answers.atlassian.com/questions/93630/user-macro-module-body-parameter](https://answers.atlassian.com/questions/93630/user-macro-module-body-parameter)

# ios - 是否可以在 iOS 应用程序的移动浏览器中知道 Facebook 注销？

> ID：14952234
> 
> 赞同：1
> 
> 时间：2013-02-19T07:40:52.237
> 
> 标签：ios, facebook

我在我的应用程序中实现了 Facebook 共享。

这些是场景：

> *   我的设备中没有安装 Facebook 应用程序，因此必须从移动浏览器登录 Facebook，它会要求身份验证。
> *   我从我的应用程序中进行了一些分享。
> *   我从移动浏览器注销我的 Facebook 帐户。
> *   想从我的应用再次进行 FB 分享，它不会再次询问我登录和身份验证页面，但会显示分享对话框。

当 Facebook 网站从移动浏览器注销时，我可以撤销访问令牌或使会话无效吗？

# android - 应用程序配置错误 - 安装官方 Facebook 应用程序后无法登录 Facebook

> ID：14952235
> 
> 赞同：1
> 
> 时间：2013-02-19T07:40:52.663
> 
> 标签：android, facebook, facebook-android-sdk

**我检查了Facebook SDK 3.0** - 示例中的 Hackbook 代码，当安装官方 Facebook 应用程序时，我收到错误，好像应用程序配置错误一样。如果我删除官方安装的 Facebook 应用程序，它可以正常工作。

同样，我的应用程序也有此错误。我已经检查了 Facebook 应用仪表板中的键哈希。

![在此处输入图像描述](../Images/1c845d5879e1d0206197274e21e009eb.png)

我通过了 Stack Overflow *[Android Facebook 授权 - 安装官方 Facebook 应用程序时无法登录](https://stackoverflow.com/questions/10815813/android-facebook-authorization-can-not-login-when-official-facebook-app-instal)*，但它把我带到了`webdialog`，但我想用作原生应用程序并且不想使用`WebDialog`。

我浏览了[https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/)并在 Facebook App Dashboard 中配置了所有详细信息。

我一直在寻找一个多星期，但我找不到任何解决方案。我不知道我哪里错了。欢迎任何相关的答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:21:03.800

如果您尝试在 Google Play 上上传您的应用程序，或者如果您的手机中安装了默认的 Facebook 应用程序，那么您需要一个不同的`KeyHash`. 因为，当您开发 Facebook 应用程序时，您已经使用默认创建的密钥哈希注册了 Facebook 应用程序`debug.keystore`。

所以，现在你需要一个不同`KeyStore`的来生成不同的KeyHash。您需要一个签名`KeyStore`，您可以在[本教程](https://www.youtube.com/watch?v=IYhJp-jqJyM)的帮助下获得该签名。生成新的密钥库后，生成密钥哈希并使用此新密钥哈希注册您的 Facebook 应用程序。这应该有效。

**编辑：**

您应该检查您的 .apk 密钥哈希以确保您已使用此密钥哈希进行注册。您应该查看以下内容：*[Android-Facebook 应用程序](https://stackoverflow.com/questions/4388992/key-hash-for-android-facebook-app#14332237)*和*[应用程序的密钥散列错误配置为 Facebook 登录 - 在 util.java 中将 ENABLE_LOG 设置为 true 后，未返回 logcat](http://facebook.stackoverflow.com/questions/13966906/app-is-misconfigured-for-facebook-login-not-returning-the-logcat-after-setti#13978762)*。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:45:04.197

您需要获取不同的哈希键并粘贴到 facebook 开发人员应用程序配置文件中，然后尝试登录..

# android - “drawable-large-mdpi”的可绘制比例因子

> ID：14952236
> 
> 赞同：1
> 
> 时间：2013-02-19T07:40:52.533
> 
> 标签：android, drawable

我们知道 hdpi、xhdpi 和 ldpi 的可绘制比例因子。即，hdpi=1.5*mdpi、xhdpi=2*mdpi 和 ldpi=.75*mdpi。

但我需要的是“drawable-large-mdpi”和“drawable-xlarge-mdpi”的比例因子。因为我需要为 7" 和 10" 平板设计 UI。请提供 drawable-large-mdpi 和 drawable-xlarge-mdpi 的比例因子。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:49:28.080

和的比例因子`drawable-large-mdpi`与`drawable-xlarge-mdpi`具有相同的比例因子`mdpi`。和`large`标识符`xlarge`指定屏幕大小。

根据[Android - Supporting Multiple Screens](http://developer.android.com/guide/practices/screens_support.html#range)：

> xlarge 屏幕至少 960dp x 720dp
> 大屏幕至少 640dp x 480dp
> 普通屏幕至少 470dp x 320dp
> 小屏幕至少 426dp x 320dp

您应该只为您的可绘制对象使用密度限定符，为每个密度提供它们。屏幕尺寸限定符应用于指定您的布局适合的屏幕尺寸。

例如`res/drawable-mdpi/my_icon.png`，为“中等”密度提供图标，为`res/layout-large/my_layout.xml`“大”屏幕提供布局。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:54:51.677

large 和 xlarge 因子没有比例因子。你为他们创造了一个新的设计。你应该看到它是这样的：

*   有 4 种不同的设备尺寸 atm：小型、普通、大型、xlarge。
*   每个设备大小都有多个比例因子 atm，它们是：ldpi、mdpi、hdpi、xhdpi

当屏幕和设备尺寸发生变化时，这些“桶”也在发生变化。我想我昨天读了一些关于因子 xxhdpi 的东西。

您可以在此处阅读有关此主题的更多信息：http: [//developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

# android - 如果字符串不为空，则想要最短方法，否则添加

> ID：14952238
> 
> 赞同：2
> 
> 时间：2013-02-19T07:40:58.697
> 
> 标签：android

我想添加街道，城市，邮政编码，国家，如果这些不等于空，如果街道为空，那么不要添加街道，我有方法，但我想为此获得最短和最好的方法......

```
map.put(KEY_ADDRESS, street+" "+city +" " +zipcode+ " "+country); 
```

我的方法是这样的

```
if(street.trim().length()>0&&city.trim().length()>0&&zipcode.trim().length()>0&&country.trim().length()>0)
    {
     map.put(KEY_ADDRESS, street+" "+city +" " +zipcode+ " "+country);
     }
 else if(){

   }
 else if(){

     } 
```

我想要检查所有字符串是否为空的最短方法，然后不要将该字符串添加到地图中...在此先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:48:19.967

将所有字符串按顺序存储在一个数组中：

```
String[] sa = new String{street, city, zipcode, country};

private String getAddress(String[] sa){

String s = "";
for(i = 0; i < 4; i++){

if(sa[i] != null){
s = s + " " + sa[i].trim();
}
}
return s;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:48:52.493

制作方法如下。`...`表示可变参数。

```
public boolean AnyNullOrEmpty(String ... strs)
{
    for(String s : strs) {
        if(s == null)
            return false;
        if(s.trim().length() == 0)
            return false;
    }

    return true;
} 
```

称它为：

```
if(NoneNullOrEmpty(street, city, zipcode, country)) {
    // do watever
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T07:50:50.707

有一个内置的实用程序类来测试字符串为空或空：[https://developer.android.com/reference/android/text/TextUtils.html#isEmpty(java.lang.CharSequence)](https://developer.android.com/reference/android/text/TextUtils.html#isEmpty(java.lang.CharSequence))

此外，您可以使用 StringBuilder 从零件构建您的字符串。

```
StringBuilder b = new StringBuilder();
String[] lines = {street, city, etc...}
for(String l : lines){
    if(!TextUtils.isEmpty(l)){
        b.append(l).append(" ");
    }
}
String address = b.toString(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-19T07:52:06.457

```
map.put(KEY_ADDRESS, validate(street, true), true)+validate(city, true)+ validate(zipcode, true)+validate(country, false));

private String validate(String value, final boolean append)
{
    value = ( value != null ) ? value.trim() : value;
    return (value != null && value.length() > 0) ? value + (( append ) ? " " : "") : "";
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-19T08:02:18.607

```
map.put(checkString(street)+checkString(city)+checkString(zip)+checkString(country));

public String checkString(String str)
{
return str.trim().length()>0?str:"";
} 
```

# titanium-mobile - 使用钛检测移动设备中的语音呼叫支持

> ID：14952242
> 
> 赞同：1
> 
> 时间：2013-02-19T07:41:09.517
> 
> 标签：titanium-mobile, appcelerator-mobile

但是，并非所有移动设备都支持电话呼叫，例如 iPad。

如何以编程方式确定设备是否支持语音通话？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:03:03.350

不幸的是，没有办法检测设备功能。但是有几种解决方法，具体取决于您要执行的操作：

1.  您可以创建一个包装方法，尝试检测电话功能：在 iOS 上这很简单，只有 iPhone 能够进行语音通话。在 Android 上有点不同。通常只有手持设备可以打电话，但也有一些平板设备可以。
2.  如果您只是想提供一个用户可以点击的电话号码，您可以创建一个链接`Ti.Platform.openURL('callto:<number>');`。还有一种`canOpenURL()`方法 - 但它在 android 上不可用。

该`canOpenURL()`方法对于确定系统是否能够拨打电话特别有用。这个问题也在[Appcelerator Q&A](http://developer.appcelerator.com/question/134522/determining-device-capabilities)上进行了讨论。

结论：检测能力需要自己解决。在我的一个应用程序中，我使用了第二种解决方案，无论设备是否能够打电话。

# html - 在tinymce textarea的右边放置div

> ID：14952244
> 
> 赞同：3
> 
> 时间：2013-02-19T07:41:21.193
> 
> 标签：html, css, tinymce, textarea

我正在尝试在tinymce-textarea 右侧放置一个图像列表。它适用于没有tinymce的纯文本区域，但是当我添加tinymce时，图像放在它下面。

HTML：

```
<textarea></textarea>
<div class="metadata">
  <div>
    <img src="image.jpg">
    <img src="someimage.jpg">
    <img src="anotherimg.jpg">
    <img src="yetanotherone.jpg">
  </div>
</div> 
```

CSS：

```
#tiny_mce{
   display: block;
   width: 300px;
}

.metadata {
  display: inline-block;
} 
```

编辑：这是 jsfiddle：http: [//jsfiddle.net/twfya/5/](http://jsfiddle.net/twfya/5/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:34:19.093

用 div 包裹文本区域并使其 display:inline-block

```
<div class="tinymc"> <textarea></textarea></div>

.tinymc{
    display:inline-block
} 
```

**[演示](http://jsfiddle.net/twfya/8/)**

# youtube-api - Youtube Data API v3 搜索结果排名

> ID：14952245
> 
> 赞同：0
> 
> 时间：2013-02-19T07:41:24.013
> 
> 标签：youtube-api

我正在使用 Youtube api V3 来获取 Youtube 排名，但是在阅读了这篇文章后，[如果使用 pagetokens，youtube data api 分页是否一致？(v3 data api)](https://stackoverflow.com/questions/13175190/is-youtube-data-api-paging-consistent-if-you-use-pagetokens-v3-data-api) 我意识到使用页面令牌时不能保证顺序，所以有什么选项可以得到相同的顺序？例如对于前 300 个条目，我可以通过 API 获取它吗（按相关性排序并使用相同的配置设置）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T15:59:26.213

使用页面标记是检索进一步结果的建议最佳方法。即使没有 100% 的保证，您仍然很可能得到相同的结果。

# wso2 - 将 WSO2 BPS 连接到 ESB

> ID：14952250
> 
> 赞同：0
> 
> 时间：2013-02-19T07:41:39.553
> 
> 标签：wso2, wso2esb

我是 WSO2 产品的新手，目前我正在部署 2 个 WSO2 产品实例，它们是：ESB 和 BPS，

根据[这里](http://wso2.com/blogs/architecture/2012/01/bus-architecture-to-handle-inbound-and-outbound-calls-with-bpel/)的这篇文章，我们可以将 BPS 服务公开为 ESB 中的端点。

我的问题是：如何让我的 BPS 服务作为我的 ESB 中的端点公开？通过使用 web 管理 GUI 当然可以！

在此先感谢，溴

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T05:22:55.940

当您在 WSO2 BPS 中部署流程时，流程发布的 Web 服务也将可用。为了在 ESB 上公开这个 BPS 服务，您需要从 ESB 创建一个代理服务。然后对于目标端点地址，指定 bps 服务。

你可以从这里找到样本。

[http://wso2.org/project/esb/java/4.0.3/docs/samples/proxy_samples.html](http://wso2.org/project/esb/java/4.0.3/docs/samples/proxy_samples.html)

# windows - 在 Windows 中测试 shell 脚本

> ID：14952251
> 
> 赞同：0
> 
> 时间：2013-02-19T07:41:43.293
> 
> 标签：windows, shell

我需要编写一个可以在 Linux 机器上运行的简单 shell 脚本，并且我想在我的 Windows 机器上对其进行测试。

环顾四周，我找到了像 Cygwin 这样的解决方案。但我真的不需要 Linux 环境——我只是想做一些简单的测试。是否有一个简单的解决方案，不需要重型安装，仅用于这一项小任务？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:41:02.497

如果您可以在线完成，我会在 cjb.net/shell.html 之类的某个地方创建一个免费的 shell 帐户并在 SSH 客户端上对其进行测试

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:50:48.123

我认为如果没有一些“繁重的安装”，这是不可能的，因为大多数脚本依赖于 UNIX 系统工具，这些工具默认情况下在 Windows 环境中不可用。

如果您想保持系统清洁，请尝试使用虚拟机。您可以在不到 10 分钟的时间内使用一些例如 Ubuntu ISO设置**VMWare** Player 或**Virtualbox ，它不会影响您的系统。**（除了 VMWare 安装）。

还有一些可用的预构建虚拟机：

[http://virtualboxes.org/images/ubuntu/](http://virtualboxes.org/images/ubuntu/)

[http://www.backtrack-linux.org/downloads/](http://www.backtrack-linux.org/downloads/)

祝你好运

本

PS 恕我直言 Cygwin 是一个安装在 Windows 机器上的有用且方便的工具。

# c# - 自定义 [AllowHtml] 以允许特定的 html 标签

> ID：14952261
> 
> 赞同：0
> 
> 时间：2013-02-19T07:42:06.747
> 
> 标签：c#, asp.net, asp.net-mvc-4

是否可以自定义 AllowHtml 属性以允许将标签传递给控制器​​的操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:45:56.747

不，恐怕这是不可能的。您可以在之后实施此*过滤*。

# sitecore - sitecore：项目的绑定链接

> ID：14952264
> 
> 赞同：2
> 
> 时间：2013-02-19T07:42:15.533
> 
> 标签：sitecore, sitecore6

```
<asp:ListView ID="ListView1" runat="server">
                <LayoutTemplate>
                        <asp:PlaceHolder runat="server" ID="itemplaceholder"></asp:PlaceHolder>
                </LayoutTemplate>

                <ItemTemplate>
                           <sc:Image runat="server" ID="ImageRenderer1" Field="ThumbImage" 
                            Item="<%# Container.DataItem as Sitecore.Data.Items.Item %>" />     

                             <sc:FieldRenderer ID="FieldRenderer2" runat="server" FieldName="Headline" 
                            Item="<%# Container.DataItem as Sitecore.Data.Items.Item %>" /><br />
             </ItemTemplate>
            </asp:ListView> 
```

后面的代码：

```
string path = "/abc/abc/abc/abc/abc/abc/abc/abc/abc/abc";
var item = sc.Context.Database.GetItem(path);
MultilistField m = item.Fields["test"];
Item[] collection = m.GetItems();
ListView1.DataSource = dataset;
ListView1.DataBind(); 
```

在 MultilistField, m 中，它会得到至少 10 个项目。现在，我需要为用户单击链接的标题字段创建链接，它将用户重定向到该特定项目。任何的想法 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:08:03.300

使用 Sitecore **LinkManager**类获取如下链接：

```
<a href="<%# Sitecore.Links.LinkManager.GetItemUrl(Container.DataItem as Sitecore.Data.Items.Item) %>">
    headline code here
</a> 
```

# android - android在特定帖子上打开facebook应用

> ID：14952266
> 
> 赞同：6
> 
> 时间：2013-02-19T07:42:23.137
> 
> 标签：android, facebook, facebook-graph-api, android-intent

我正在开发一个从用户流（来自流表）中获取帖子并显示它们的应用程序。
流 post_id 字段以以下格式返回：{uid}_{postid}，例如：

```
100001147753406_320951738012113 
```

如何打开 Facebook 应用程序以显示此类帖子？

在网络浏览器中，这可以通过 url：www.facebook.com/uid/posts/postid 来完成，根据搜索，这应该通过将 Intent 的 uri 设置为：

```
fb://post/{postid}?owner={uid} 
```

但是，这并不总是出于意图。

这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-06T23:20:21.650

在弄乱了不同的选项之后，这种简单的格式终于对我有用：

```
fb://post/{postid} 
```

帖子 ID 是整个 {x_id}_{y_id} 字符串，例如：

```
fb://post/100001147753406_320951738012113 
```

# c# - 支持长路径的 C# I/O 库（解决 PathTooLongException）

> ID：14952268
> 
> 赞同：5
> 
> 时间：2013-02-19T07:42:32.717
> 
> 标签：c#, winapi, io, pathtoolongexception

我的开源[软件](http://cmissync.com)将远程文件夹同步到本地桌面。远程文件夹可以在 Alfresco 上，其中路径长度没有限制 ( `/root/very/very/very/long/name.txt`)。

在开发我使用的应用程序时`System.IO.File.OpenWrite`和`System.IO.Stream.Write`，但似乎[它们不支持超过几百个字符的路径](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247%28v=vs.85%29.aspx#maxpath)，因此用户报告错误，例如`PathTooLongException`使用长路径时。

[必须绝对避免使用UNC](http://en.wikipedia.org/wiki/Path_%28computing%29#Uniform_Naming_Convention)路径，因为它们会导致与某些应用程序不兼容。

在这种情况下应该使用什么库/代码？

它必须是开源 C#。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T10:03:54.963

[AlphaFS](http://alphafs.codeplex.com)允许您使用非常长的路径（使用“\?\”样式）并模仿 System.IO 命名空间。

您可能可以像使用 System.IO 一样使用这个库。例如，AlphaFS.Win32.Filesystem.File.Copy() 而不是 System.IO.File.Copy()。

（[来源](https://stackoverflow.com/a/12747217/226958)）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T08:00:20.880

您可以尝试[Base Class Libraries Long Path implementation](http://bcl.codeplex.com/wikipage?title=Long%20Path&referringTitle=Home)。但请注意，如果您开始与默认的 .NET I/O 方法混用，则并非一切都会奏效。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T07:42:32.717

“ [PathTooLongException 的 .NET 2.0 解决方法](http://www.codeproject.com/Articles/22013/NET-2-0-Workaround-for-PathTooLongException)”（文章+代码）。

[根据代码项目开放许可证 (CPOL) 获得许可，该许可证显然](http://en.wikipedia.org/wiki/Code_Project_Open_License)不是开源的。

不过，只有 2 次提交并不能构成一个非常活跃的项目……

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-19T07:44:19.330

[本机文件系统访问](http://source.pelicandd.com/Codebase/Virtual%20file%20system/Source/Native%20File%20System%20Access/)

自修订版 185（2013 年 2 月 19^日）以来，该库由[Microsoft 公共许可证 (MS-PL)](http://www.opensource.org/licenses/MS-PL)涵盖，如源代码文件的标题中所述。

看起来很有希望，但作者[建议](https://softwareengineering.stackexchange.com/a/186456/1480)不要在企业环境中使用它，因为代码不够可靠。

这个库有一些[单元测试](http://source.pelicandd.com/Codebase/Virtual%20file%20system/Unit%20tests/Native%20File%20System%20Access%20Tests/)，但缺少文档。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-19T08:02:00.897

您可以尝试使用此答案中概述的相对路径来拆分路径，方法是：

```
Directory.SetCurrentDirectory() 
```

[C# 代码中的 PathTooLongException](https://stackoverflow.com/questions/1087565/pathtoolongexception-in-c-sharp-code)

# php - 将 SWF 文件替换为移动设备的图像

> ID：14952274
> 
> 赞同：0
> 
> 时间：2013-02-19T07:42:44.013
> 
> 标签：php, mobile, flash, slideshow

我建立了一个网站 www.jetcleandrives.co.uk 但是，我注意到 SWF 文件不会显示在移动设备上。谁能告诉我最好的解决方法。例如，可以使用 PHP 在无法处理 SWF 的设备上显示图像吗？或者有没有办法在所有设备上显示幻灯片？

幻灯片的代码是，

```
<div id="Slideshow">
  <object width="450" height="338" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" title="Slideshow of Driveway Cleaning Selly Oak"> 
    <param name="scale" value="showall" />
    <param name="bgcolor" value="" />
    <param name="wmode" value="opaque" />
    <param name="flashvars" value="" />
    <param name="movie" value="media/JetCleanDrivesSlideshow.swf" />
    <param name="quality" value="high" />
    <embed width="450" height="338" scale="showall" wmode="transparent" quality="high" src="media/JetCleanDrivesSlideshow.swf" pluginspage="https://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash"></embed>
  </object>

  </div><!--end Slideshow--> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:08:16.603

我会考虑从使用`object`标签切换到 SWFObject ( [http://code.google.com/p/swfobject/](http://code.google.com/p/swfobject/) ) 以获得更多控制/灵活性。

该项目的文档页面上有一个简单的示例：[http ://code.google.com/p/swfobject/wiki/documentation](http://code.google.com/p/swfobject/wiki/documentation)

```
<script type="text/javascript" src="swfobject.js"></script>
<script type="text/javascript">
swfobject.embedSWF("myContent.swf", "myContent", "300", "120", "9.0.0");
</script> 
```

然后您可以指定替代内容：

```
<div id="myContent">
  <p>Alternative content</p>
</div> 
```

我认为这足以满足您的要求。

**附加：**我喜欢 SWFObject 的（更高级的）功能之一是能够将 JavaScript 函数注册为回调，一旦 SWFObject 加载，就会触发该回调。然后，开发人员可以检查 SWFObject 的状态并取消隐藏/替换内容。

可以在以下位置找到一个示例：http: [//www.bobbyvandersluis.com/swfobject/testsuite_2_2/test2.html](http://www.bobbyvandersluis.com/swfobject/testsuite_2_2/test2.html)

# android - 哪些应用程序正在使用位置服务？

> ID：14952278
> 
> 赞同：0
> 
> 时间：2013-02-19T07:42:59.677
> 
> 标签：android, location

我发现定位服务耗尽了我的电池。但我认为这不是因为位置服务开启，而是因为某些应用程序经常使用该服务。有什么办法可以找到，哪个应用程序设置了位置服务错误（高负载）？我现在可以获取使用位置服务的应用程序列表吗？预先感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:56:47.183

据我所知，没有简单的方法来获取访问 LocationProvider 的应用程序列表。但是一个简单的诊断方法就是将请求ACCESS_FINE_LOCATION/ACCESS_COARSE_LOCATION权限的App一个一个kill掉。

许多应用程序通过 onLocationChanged(...) 之类的回调获取位置数据，这使得几乎不可能在不修改 Android 系统的情况下识别您的问题。您可以修改定位服务以记录uid（通过Binder.getCallingUid（））以获取当前使用定位服务的应用程序。这不是很困难，但重量很重。

编辑：

在 frameworks/base/services/java/com/android/server 下有一个 LocationManagerService.java。

一般来说，根据其[Location Strategies](http://developer.android.com/guide/topics/location/strategies.html)在 Android 中有几种获取位置的方法。

**LocationManager.requestLocationUpdates**

您可以在 LocationManagerService.java 中查看它的实现。该方法从客户端接收 ILocationListener(Binder 对象)，如果它接收到位置更新，则稍后调用此侦听器。

```
@Override
public void requestLocationUpdates(LocationRequest request, ILocationListener listener,
        PendingIntent intent, String packageName) {
    if (request == null) request = DEFAULT_LOCATION_REQUEST;
    checkPackageName(packageName);
    int allowedResolutionLevel = getCallerAllowedResolutionLevel();
    checkResolutionLevelIsSufficientForProviderUse(allowedResolutionLevel,
            request.getProvider());
    LocationRequest sanitizedRequest = createSanitizedRequest(request, allowedResolutionLevel);

    final int pid = Binder.getCallingPid();
    final int uid = Binder.getCallingUid();
    Receiver recevier = checkListenerOrIntent(listener, intent, pid, uid, packageName);

    // providers may use public location API's, need to clear identity
    long identity = Binder.clearCallingIdentity();
    try {
        synchronized (mLock) {
            requestLocationUpdatesLocked(sanitizedRequest, recevier, pid, uid, packageName);
        }
    } finally {
        Binder.restoreCallingIdentity(identity);
    }
} 
```

基本上，你可以通过这种方法获取应用程序的 uid，以了解有多少应用程序在请求位置更新。但是您还应该记住查看 removeUpdates 方法。

**LocationManager.getLastKnownLocation**

您还可以在执行此方法时注销应用程序的 uid。

修改代码后，您可以编译整个 Android 项目，安装您的应用程序，并获得您的结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:54:02.817

我猜你的意思是在后台运行服务并使用 GPS？这样您就不会自己激活 GPS 但它仍在运行？在那种情况下，我无法知道所有允许在后台使用 GPS 的应用程序。您可以转到设置->应用程序并检查允许哪些应用程序使用 GPS 的权限。

一个典型的背景 GPS 用户是 facebook 应用程序（或者我猜是 google+）。希望这可以帮助。

编辑：或者，您可以在不需要 GPS 时禁用它，这样任何应用程序都无法在后台使用它。

# asp.net - Windows 8 或 Windows 8 专业版

> ID：14952279
> 
> 赞同：0
> 
> 时间：2013-02-19T07:43:04.340
> 
> 标签：asp.net

我打算购买一台新的笔记本电脑，用于 ASP.Net MVC4 项目。我将安装 Microsoft Visual Studio 2012 和 MS SQL Managemet Studio。我将使用远程桌面连接在家工作。我可以使用 Windows 8 完成所有这些操作，还是应该购买 Windows 8 Proffesional

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:50:54.490

您需要**Windows 8 Pro 许可证**，因为 Windows 8 版本不支持，您可以在[官方比较中阅读](http://windows.microsoft.com/en-US/windows/buy?ocid=GA8_O_WOL_Hero_ShopHP_FPP_Null)

# jquery - 文本字段中的警报字段值

> ID：14952281
> 
> 赞同：0
> 
> 时间：2013-02-19T07:43:05.650
> 
> 标签：jquery

我有一个用于输入数字的文本字段。我想提醒我在文本字段中输入的数字。我的 HTML 是：

```
<input id="search_number" type="text" name="numbers" />
<button id="wmsearch">Search</button> 
```

JS是：

```
var sn = ($('#search_number').val());
$('#wmsearch').click(function(){
if(sn != 1234567890){
alert(sn);
}else
{
alert('equal');
}
}); 
```

它不起作用...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:46:10.640

试试这个：

```
$('#wmsearch').click(function () {
    var sn = $('#search_number').val();
    if (sn != 1234567890) {
        alert(sn);
    } else {
        alert('equal');
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:44:30.907

您必须在 click 事件处理程序中获取`val()`of 。`$('#search_number')`

```
$('#wmsearch').click(function() {
    var sn = $('#search_number').val();

    if(sn != 1234567890) {
        alert(sn);
    } else {
        alert('equal');
    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:45:31.943

试试这个

```
 $('#wmsearch').click(function(){
    var sn = $('#search_number').val();//you don't need extra bracket here
    if(sn != 1234567890){
      alert(sn);
    }else
    {
       alert('equal');
    }
  }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T07:51:01.703

您可以将 jQuery 对象保留在事件处理程序`#search_number`之外`click`，但在其中获取值。这样做可以为您每次点击节省一个 DOM 调用。

另外，不要忘记使用 . 将字符串解析为整数`parseInt`。

```
var $search_number = $('#search_number');
$('#wmsearch').click(function(){
    var sn = parseInt($search_number.val(), 10);

    if(sn != 1234567890){
        alert(sn);
    } else {
        alert('equal');
    }
}); 
```

* * *

话虽如此，您可以使用[`?:`条件运算符](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Conditional_Operator)来简化脚本。

```
var $search_number = $('#search_number');
$('#wmsearch').click(function(){
    var sn = parseInt($search_number.val(), 10);
    alert( (sn == 1234567890) ? "equal" : sn );
}); 
```

[在这里查看一个活生生的例子。](http://jsfiddle.net/ptsvd/)

# android - Facebook android 整合图片分享

> ID：14952283
> 
> 赞同：0
> 
> 时间：2013-02-19T07:43:14.673
> 
> 标签：android, facebook, facebook-graph-api

我正在使用 facebook sdk 库将 facebook 集成到我的 Android 应用程序中。它成功连接并正确发布消息，但是当我尝试使用消息进行成像时，它会给出错误响应。

```
String response = mFacebook.request("me");
            Bundle parameters = new Bundle();            
            parameters.putString("message", "abc"); 
            parameters.putString("picture", "http://www.google.com.pk/imgres?um=1&hl=en&tbo=d&biw=1366&bih=667&tbm=isch&tbnid=cP0_FJwyf8mtEM:&imgrefurl=http://valeriaalves.com/casa/js/goog-pictures&docid=cBJZIsB_ap6C0M&imgurl=http://valeriaalves.com/casa/js/goog-pictures-753.jpg&w=400&h=282&ei=QCojUb-hA5SQ4gSwpYGYDg&zoom=1&ved=1t:3588,r:0,s:0,i:76&iact=rc&dur=463&sig=115747166598885772962&page=1&tbnh=177&tbnw=247&start=0&ndsp=15&tx=107&ty=61"); 
            response = mFacebook.request("me/feed", parameters, "POST"); 
```

请帮助我解决问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:51:51.250

尝试：

```
params.putString("message","Photo upload test");
params.putByteArray("picture", photo);  // Where photo is byte[] 
```

改变我/和我一起喂食**/照片**

# opengl - 使用 VBO，是否需要 glVertexPointer/glEnableClientState(GL_VERTEX_ARRAY)？

> ID：14952285
> 
> 赞同：0
> 
> 时间：2013-02-19T07:43:18.380
> 
> 标签：opengl, glsl

我是否可以将 glVertexAttribPointer/glEnableVertexAttribArray 用于顶点位置，并将我自己的属性用于顶点位置而不是 gl_Vertex？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:41:16.287

OpenGL 不知道顶点位置是什么，除非您实际使用`gl_Vertex`. 通用属性（[用户定义的顶点着色器输入](http://www.opengl.org/wiki/Vertex_Shader#Inputs)）只是数据；重要的是你的着色器对数据做了什么。

如何生成顶点着色器输出`gl_Position`完全取决于您；OpenGL 不在乎一种或另一种方式。您根本不必传递“位置”；您可以通过某种算法生成它。

# c# - 与事件的接口

> ID：14952289
> 
> 赞同：1
> 
> 时间：2013-02-19T07:43:29.970
> 
> 标签：c#, events, interface, nullpointerexception

我只需要引发一个自定义事件并且我想实现它。

这是界面：

```
public delegate void Back();

interface IGoBack
{
    event Back GoBack;
    void ExecuteGoBack();
} 
```

这是一个有效的实现：

```
public partial class LiveView : UserControl, IGoBack
{
    public LiveView()
    {
        InitializeComponent();
    }

    public event Back GoBack;
    public void ExecuteGoBack()
    {
        GoBack();
    }

    private void btnGoBack_Click(object sender, EventArgs e)
    {
        ExecuteGoBack();
    }
} 
```

这不起作用（事件出现空指针异常）：

```
 public partial class ViolationsControl : UserControl, IGoBack
{
    public ViolationsControl()
    {
        InitializeComponent();
    }

    public event Back GoBack;

    public void ExecuteGoBack()
    {
        if(GoBack!=null)GoBack();
    }

    private void btnGoBack_Click(object sender, EventArgs e)
    {
        ExecuteGoBack();
    }
} 
```

你认为我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:48:07.433

引发事件通常是这样实现的：

```
public void RaiseGoBack()
{
    var handler = GoBack;
    if(handler == null)
        return;
    handler();
} 
```

这种实现的原因是线程安全。在您的代码中，有人可能在您实际调用它之后但在您实际调用它之前分离了最后*一个*`if`处理*程序* 。在这种情况下`GoBack`，`null`尽管您进行了检查。
上面的实现通过拍摄当前附加的处理程序的“快照”并对这个快照执行检查和调用来解决这个问题。

话虽如此，您需要附加调试器或检查堆栈跟踪以验证`NullReferenceException`. 我上面概述的问题是所谓的竞争条件。如果您不大量使用多个线程，通常不会发生这种情况。
这意味着您的异常很可能是在其他地方引起的，很可能是在某个事件处理程序中。

# android - Android 搜索小部件自定义建议意图返回到活动

> ID：14952291
> 
> 赞同：0
> 
> 时间：2013-02-19T07:43:36.587
> 
> 标签：android, listview, search

我已经根据基于[可搜索字典的自定义建议为我的搜索小部件实现了自](http://developer.android.com/resources/samples/SearchableDictionary/index.html)[定义建议](http://developer.android.com/guide/topics/search/adding-custom-suggestions.html#IntentForSuggestions)

我的 searchable.xml

```
<?xml version="1.0" encoding="utf-8"?>
<searchable xmlns:android="http://schemas.android.com/apk/res/android" 
android:label="@string/app_label"
android:hint="@string/search_hint"
android:searchSuggestAuthority="com.worldclock.CitiesProvider"
android:searchSuggestIntentAction="android.intent.action.VIEW"
android:searchSuggestIntentData="content://com.worldclock.CitiesProvider/cities" 
android:searchSuggestSelection=" ?">
</searchable> 
```

AndroidManifest.xml

```
 <provider android:name="com.worldclock.CitiesProvider"
              android:authorities="com.worldclock.CitiesProvider" 
              android:searchSuggestIntentAction="android.Intent.action.VIEW"/> 
```

我有一个搜索起源的列表活动。该教程指出 searchSuggestionIntentAction 应该是“android.Intent.action.VIEW”，但我不想像可搜索字典那样将用户带到另一个活动。我想要做的就是在我的列表底部添加建议的项目（我知道它的 id），而不通过活动生命周期。目前，每次我从搜索小部件中选择自定义建议项时，它都会调用我的列表活动的 onCreate 方法。我想知道是否可以不刷新我的列表而只向我的适配器添加一个项目？

先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T05:19:41.487

[我在另一个问题中](https://stackoverflow.com/questions/4748898/use-the-searchdialog-intent-to-open-an-active-activity?rq=1)找到了答案

应该使用`singleTop`模式，这解决了我的问题！

还需要实现 onNewIntent 来处理请求！

# image - WebGL - 如何渲染大纹理？

> ID：14952292
> 
> 赞同：8
> 
> 时间：2013-02-19T07:43:37.663
> 
> 标签：image, memory-management, webgl, textures

我正在尝试在 WebGL 中进行一些图像处理。但是，如果我尝试在移动设备上以 GLSL 纹理加载大图片（来自相机 - 8 MP），浏览器就会崩溃。小图片工作正常。所以我认为它的内存不足。

我用谷歌搜索了很多，但没有找到解决方案。我认为最好的方法是实现“基于图块”的渲染。将 8 MP 图片分割成更小的部分，渲染它们并将它们粘在一起。但是会有一些问题，比如应用模糊效果。您将看到“子渲染”的边缘。所以我必须渲染重叠的像素并将它们“淡化”在一起。没那么好听。

有没有我没有想到的解决方案？如何在移动设备上处理真正巨大的纹理？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-23T10:48:53.150

一张 8mp 图像不太可能超过可用内存。在 RGB（字节）下，它将占用 24mb 的内存。即使是半浮点精度，它也是 50mb 的内存。ARM 系统使用统一的内存架构，其中 GPU 和 CPU 共享内存。例如，iPhone 有 1gb 的可用内存。

纹理支持应该达到所需的大小（例如 3264x2248），这在高端手机上似乎没有问题（[81% 的手机](http://webglstats.com/#h_texsize)支持 4096x4096 ）。

最大绘图缓冲区大小可能小于支持的最大纹理大小（您可以[查询](http://codeflow.org/entries/2013/feb/22/how-to-write-portable-webgl/#how-to-query-possible-sizes)）。

除此之外，您可能只是遇到了一个令人讨厌的错误。因此，处理这个问题的方法是将图像细分为更小的图块，并一次处理每个图块。

如果您有过滤器内核，有两种方法可以处理边界。

*   您可以传入 9 个纹理并在纹理查找上进行分支以解决正确的问题（这可能很慢，某些 GPU 不支持分支并将执行所有代码路径）。边框纹理只有 2x2，因此内存占用空间很小。请注意，纹理之间不会有插值，所以不要依赖它，或者替换你自己的。
*   您可以在预处理步骤中从相邻图块中获取像素的每个图块周围添加一个半内核大小的边框。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-20T03:13:18.040

您需要做的就是在边界处提供足够的输入来覆盖图像处理效果的非局部性——例如模糊内核的半径。我能想到的最简单的事情是：

对于输出图像的每个图块，加载相应的输入图块*及其 8 个相邻*图块。然后使用所有 9 个作为输入运行模糊过滤器：您通常会调用的地方`texture2D`，而不是使用（自定义）函数获取坐标并在 9 个纹理中的适当一个中查找它们。

要使用更少的纹理，请将输出图块与输入图块相比，在两个维度上偏移其边长的一半；那么您只需要为每个图块计算使用 4 个输入图块，但如果您使用足够的图块来覆盖所有输入，则输出图块中将有一个额外的边框。（另一方面，如果您以后修剪很聪明，那可能是一件好事；例如，如果我将阴影应用于输入图像，我希望*阴影*放大输出而不是截断在原始边界。）

如果您正确执行此操作，则图块边界处不应有*伪影。*

（免责声明：虽然这个解决方案对我来说似乎简单、明显和正确，但我不是图像处理或 GPU 资源节约方面的专家。这可能有原因导致这实际上不起作用，或者有更好的想法。）

# .net - Sys.WebForms.PageRequestManagerServerErrorException：调用的目标已引发异常

> ID：14952293
> 
> 赞同：1
> 
> 时间：2013-02-19T07:43:38.363
> 
> 标签：.net, farpoint-spread

我将一个 asp.net 网站从 2.0 升级到 4.0 框架。本网站使用**farpoint**。框架升级后，其中一个页面抛出标题中提到的错误。 本页注册的**FarPoint.Web.Spread程序集，使用****FPSPREAD**。 **FarPoint.Web.Spread.dll**程序集版本为**3.0.2003.2005**。我是否需要参考任何最新的 dll 或是否有任何其他解决此问题的方法？我对farpoint很陌生，请帮助我....

非常感谢， Sreekanth Mohan

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T17:16:57.327

Spread 3 可能与 4.0 框架不兼容。您是否尝试过升级Spread？[您可以在此处](http://www.componentone.com/SuperProducts/SpreadNET/)下载 Spread.NET 6 的免费试用版

并[单击此处](http://helpcentral.componentone.com/NetHelp/SpreadNetReadme/upgrade.html)查看有关如何将项目中的传播控件从 3 升级到 6 的说明

# php - 不带按钮的自动提交选择框

> ID：14952294
> 
> 赞同：1
> 
> 时间：2013-02-19T07:43:49.013
> 
> 标签：php, javascript, submit

我想在不提交的情况下自动提交选择框，对于我想在同一页面上发布它们的每个值，尝试下面的代码但无法检索 POST 的值。

```
<?php if(isset($_POST['submit'])){ echo $_POST['modelS'];}?>

<form action="cal1.php" method="post"> 
<select name="modelS" onchange="this.form.elements['submit'].click();">
     <option value="A" selected>Show All</option>
     <option value="B">B</option>
     <option value="C">C</option>
     <option value="D">D</option>
</select>
<INPUT TYPE="hidden" name=post VALUE=$_POST['modelS']>
<INPUT TYPE="submit" VALUE="search" name="submit">
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:52:54.380

```
<select name="modelS" onchange="document.form.submit();"> 
```

# batch-file - 将命令的输出设置为变量（使用管道）

> ID：14952295
> 
> 赞同：58
> 
> 时间：2013-02-19T07:43:52.183
> 
> 标签：batch-file

您可以将命令的输出重定向到带有管道的变量吗？

我没有尝试太多，因为我想不出任何可以尝试的方法，但我尝试了一种方法（有两种变体）......

例如：

```
echo Hello|set text= 
```

没有工作，也没有：

```
echo Hello | set text= 
```

我知道你可以用这个命令很容易地做到这一点`FOR`，但我认为用管道看起来会“更好”。

如果你想知道，除了我很好奇而且我找不到答案之外，我没有具体的理由问这个问题。

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2013-02-19T19:09:15.193

你的方法行不通有两个原因。

您需要使用*用户输入*`set /p text=`来设置变量。 另一个问题是管道。 管道启动两个异步 cmd.exe 实例，完成作业后两个实例都关闭。

 *这就是为什么似乎没有设置变量的原因，但是一个小例子表明它们已设置但后来结果丢失了。

```
set myVar=origin
echo Hello | (set /p myVar= & set myVar)
set myVar 
```

输出

```
Hello
origin 
```

**替代方案：**您可以使用 FOR 循环将值放入变量或临时文件中。

```
for /f "delims=" %%A in ('echo hello') do set "var=%%A"
echo %var% 
```

或者

```
>output.tmp echo Hello
>>output.tmp echo world

<output.tmp (
  set /p line1=
  set /p line2=
)
echo %line1%
echo %line2% 
```

**用宏替代：**

您可以使用批处理宏，这有点像 bash 等价物

```
@echo off

REM *** Get version string 
%$set% versionString="ver"
echo The version is %versionString[0]%

REM *** Get all drive letters
`%$set% driveLetters="wmic logicaldisk get name /value | findstr "Name""
call :ShowVariable driveLetters 
```

宏的定义可以在
[SO:Assign output of a program to a variable using a MS batch file 中找到](https://stackoverflow.com/a/54425285/463115)

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2014-09-20T23:30:49.547

缺乏类似 Linux 的[反引号/反引号](https://unix.stackexchange.com/questions/27428/what-does-backquote-backtick-mean-in-bash)工具是前 PowerShell 世界的主要烦恼。通过 for 循环使用反引号一点也不方便。所以我们需要某种`setvar myvar cmd-line`命令。

在我`%path%`的目录中，我有一个包含许多垃圾箱和批次的目录来应对那些 Win 缺点。

我写的一批是：

```
:: setvar varname cmd
:: Set VARNAME to the output of CMD
:: Triple escape pipes, eg:
:: setvar x  dir c:\ ^^^| sort 
:: -----------------------------

@echo off
SETLOCAL

:: Get command from argument 
for /F "tokens=1,*" %%a in ("%*") do set cmd=%%b

:: Get output and set var
for /F "usebackq delims=" %%a in (`%cmd%`) do (
     ENDLOCAL
     set %1=%%a
)

:: Show results 
SETLOCAL EnableDelayedExpansion
echo %1=!%1! 
```

所以在你的情况下，你会输入：

```
> setvar text echo Hello
text=Hello 
```

该脚本会通知您结果，这意味着您可以：

```
> echo text var is now %text%
text var is now Hello 
```

您可以使用任何命令：

```
> setvar text FIND "Jones" names.txt 
```

如果您想通过管道传输到某个变量的命令本身包含一个管道怎么办？
三重逃脱它，`^^^|`：

```
> setvar text dir c:\ ^^^| find "Win" 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-12-30T06:20:06.807

这不使用管道，但需要一个临时文件
我用它来将简化的时间戳放入低技术日常维护 batfile

我们已经将我们的系统时间短格式设置为 HHmm，（晚上 10:45 为 2245）
我直接输出维护例程到具有 $DATE%@%TIME% 时间戳的日志文件；
. . . 但 %TIME% 是一个长而丑陋的字符串（例如 224513.56，低至百分之一秒）

解决方案概述：
1\. 每次使用重定向 (">") 发送命令“TIME /T”以覆盖 %TEMP% DIRECTORY 中的临时文件
2\. 然后使用该临时文件作为输入来设置新变量（我现在叫它）
3\. 替换

```
回声 $DATE%@%TIME% 等等等等 >> %logfile%
```

      和

```
回声 $DATE%@%NOW% 等等等等 >> %logfile%
```

====输出差异：
之前：

```
成功的时间同步 29Dec14@222552.30
```

后：

```
成功的时间同步 29Dec14@2252
```

实际代码：

```
时间 /T > %TEMP%\DailyTemp.txt
SET /p NOW=<%TEMP%\DailyTemp.txt
回声 $DATE%@%NOW% 等等等等 >> %logfile%
```

之后：
之后剩下的就是附加的日志文件，并且不断覆盖临时文件。如果临时文件被删除，它将根据需要重新创建。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2020-05-07T19:23:29.827

我发现自己对在互联网上任何地方都缺乏我认为这个问题的最佳答案感到有点惊讶。我挣扎了很多年才找到答案。网上很多答案都很接近，但没有一个真正回答。真正的答案是

(cmd & echo.) >2 & (set /p =)<2

“秘密调味料”是“回声”的“严密保护的令人垂涎的秘密”。发送 CR/LF (ENTER/new line/0x0D0A)。否则，我在这里所做的是将第一个命令的输出重定向到标准错误流。然后我将标准错误流重定向到“set /p =”命令的标准输入流。

例子：

(echo foo & echo.) >2 & (set /p bar=)<2

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-07-24T11:57:02.697

在批处理文件中，我通常在临时目录中创建一个文件并附加程序的输出，然后我用变量名调用它来设置该变量。像这样：

```
:: Create a set_var.cmd file containing: set %1=
set /p="set %%1="<nul>"%temp%\set_var.cmd"

:: Append output from a command
ipconfig | find "IPv4" >> "%temp%\set_var.cmd"
call "%temp%\set_var.cmd" IPAddress
echo %IPAddress% 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-04-12T13:27:08.650

您可以将输出设置为临时文件，然后从文件中读取数据，然后您可以删除临时文件。

```
echo %date%>temp.txt
set /p myVarDate= < temp.txt
echo Date is %myVarDate%
del temp.txt 
```

在这个变量`myVarDate`中包含命令的输出。*

# shell - 在 UNIX shell 中生成 8 个字母数字字符串

> ID：14952307
> 
> 赞同：0
> 
> 时间：2013-02-19T07:44:36.090
> 
> 标签：shell, unix

我的意思是按顺序生成 8 个字母数字字符的所有组合。就像您将用于暴力破解 8 位密码一样。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:33:51.533

我没有彻底测试这个，但它应该是一个开始。

```
#!/bin/sh

declare -A aa=(
  [0]=1 [1]=2 [2]=3 [3]=4 [4]=5 [5]=6 [6]=7 [7]=8 [8]=9 [9]=A [A]=B [B]=C [C]=D
  [D]=E [E]=F [F]=G [G]=H [H]=I [I]=J [J]=K [K]=L [L]=M [M]=N [N]=O [O]=P [P]=Q
  [Q]=R [R]=S [S]=T [T]=U [U]=V [V]=W [W]=X [X]=Y [Y]=Z [Z]=a [a]=b [b]=c [c]=d
  [d]=e [e]=f [f]=g [g]=h [h]=i [i]=j [j]=k [k]=l [l]=m [m]=n [n]=o [o]=p [p]=q
  [q]=r [r]=s [s]=t [t]=u [u]=v [v]=w [w]=x [x]=y [y]=z [z]=0
)

bb=(0 0 0 0 0 0 0 0)

while :
do
  IFS= read ff <<< "${bb[*]}"
  echo $ff
  place=7
  while :
  do
    bb[place]=${aa[${bb[place]}]}
    if [ ${bb[place]} = 0 ]
    then
      (( place-- ))
    else
      break
    fi
  done
done 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T16:58:53.053

这不意味着你想要`218,340,105,584,896`组合吗？即`62 ** 8`，如果我们同意您在 3 个位置获得 1,000 个数字组合，即 10 ** 3 == 1,000。

我的数学可能不正确。://

如果是这种情况，您应该考虑在 Python/Perl 中进行

# php - 用弹出框生成下拉菜单然后检索它的值？

> ID：14952310
> 
> 赞同：0
> 
> 时间：2013-02-19T07:44:55.727
> 
> 标签：php, jquery, mysql, drop-down-menu

我有一张带有**hotel_id**和**hotel_name的表****酒店**

 ****和

我有一个链接

```
<a href = "#" id="hotel">Post</a> 
```

当我单击上面的链接时，我想生成一个带有下拉菜单的弹出框（其中选项值=hotel_id 和要显示的文本是hotel_name），当用户从下拉列表中选择酒店时，我如何在 php.ini 中获取选项值。

提前致谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:03:56.373

在你的 a.html 中：

```
<a href="#" id="hotel" onclick="return openHotelPopup(hotelnames.php);">Post</a> 
```

在 Javascript 中：

```
function openHotelPopup(url)
{
    newwindow=window.open(url,'name','height=200,width=150');
} 
```

在hotelnames.php 中

```
$con = mysql_connect("localhost","test","abc123");
if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }

mysql_select_db("my_db", $con);

$result = mysql_query("SELECT * FROM table_hotels");

echo '<form name="myform" method="post"><select name="hotels" onchange="myform.submit();">';

while($row = mysql_fetch_array($result))
  {
    echo '<option value="'.$row['hotel_id'].'>'.$row['hotel_name'].'</option>';
  }
echo "</select></form>";

mysql_close($con); 
```

现在您的弹出下拉菜单将如下所示：

```
 <form name="myform" method="post">
   <select name="hotels" onchange="myform.submit();">
   <option value="1">Vol</option>
   <option value="2">Sa</option>
   <option value="3">Op</option>
   <option value="4">Au</option>
   </select>
   </form> 
```

当您从此下拉菜单中选择任何一个选项时，您将使用以下 PHP 代码检索 PHP 中的值。

```
<?php
print_r($_REQUEST['hotels'])
?> 
```

输出将是：

```
Array ( [hotels] => 1 ); (if you would have selected Vol in drop down menu) 
```****

# java - Hibernate：是否可以在事务提交时进行自动会话清除？

> ID：14952311
> 
> 赞同：1
> 
> 时间：2013-02-19T07:45:00.507
> 
> 标签：java, hibernate, hibernate-session

我有很多单独的函数，我必须在每个函数的 transaction.commit() 上执行 session.clear() 以释放内存。

我可能错了，但我认为，默认情况下，在 transaction.commit() 上不会调用休眠中的 session.clear()。

我想知道是否有任何方法可以配置休眠以在每个 transaction.commit() 上执行自动会话清除，而无需执行 session.clear()？

对上述问题的任何其他解决方案将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:05:50.383

它被称为**session-per-transaction 模式**：您在开始事务时创建一个会话，并在提交后关闭它（请注意，清理会话和提交事务与关闭会话的效果几乎相同，特别是如果您使用连接池） .

[如果您在独立环境](http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/architecture.html#architecture-current-session)中使用 Hibernate，则需要使用`hibernate.current_session_context_class = thread`. 在这种情况下，上下文会话（由 获得`getCurrentSession()`）将在事务提交时自动关闭。

如果您使用 EJB 或 Spring Framework，则可以使用这些框架提供的事务管理工具。他们也支持这种模式。

# mysql - mysql：在 mysql shell 中显示有限的记录？

> ID：14952314
> 
> 赞同：3
> 
> 时间：2013-02-19T07:45:11.327
> 
> 标签：mysql

当我运行这个

```
mysql > show tables; 
```

它列出了所有表格，我看不到第一个。

我如何像`less`在 Linux 中那样限制条目？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T07:46:59.347

您可以在 mysql 客户端中设置寻呼机。

```
mysql> pager less
mysql> show tables;
. . .
mysql> nopager 
```

您实际上可以设置`pager`为通常可以在管道中使用的任何 shell 命令。
例如，*grep*。

在此处查看其他一些提示： [http ://www.mysqlperformanceblog.com/2013/01/21/fun-with-the-mysql-pager-command/](http://www.mysqlperformanceblog.com/2013/01/21/fun-with-the-mysql-pager-command/)

# php - 删除两个相似字符和其他尾随字符的表达式

> ID：14952317
> 
> 赞同：3
> 
> 时间：2013-02-19T07:45:23.133
> 
> 标签：php, preg-replace

我有一个 php reg 表达式，它从任何字符串中删除任何特殊字符并用连字符替换该字符。问题是如果有两个特殊字符相互跟随，我会得到两个连字符。例如，如果我输入`test@hhh%^`我得到的文本，`test-hhh--`或者如果我输入`test@hhh%^kkk`我得到`test-hhh--kkk`. 我要我的表情给我`test-hhh`。我想删除两个相似的连字符以及字符串中的任何尾随连字符。我的代码在这里

```
$slug = preg_replace('/[^a-zA-Z0-9]/', '-', $slug); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:51:27.890

首先将此正则表达式应用于您的字符串：

```
$slug = preg_replace('#-{2,}#', '-', $slug); 
```

其次，您应用带有连字符作为额外参数的右修剪（或常规修剪）。

```
$slug = trim($slug, '-'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:48:40.310

你可以在这里找到有用的信息[http://www.regular-expressions.info/repeat.html](http://www.regular-expressions.info/repeat.html)，基本上你需要指定一个重复修饰符。

# ant - worklight ant task app-deployer - WL 控制台安全处于活动状态时出现未经授权的错误

> ID：14952319
> 
> 赞同：3
> 
> 时间：2013-02-19T07:45:26.727
> 
> 标签：ant, ibm-mobilefirst

我正在尝试使用提供的 ant 任务 app-deployer 将应用程序部署到 WL Server v5.0.5。

这是我使用的简单构建文件：

```
<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." name="deployWL">
   <target name="deploy_application">
      <taskdef resource="com/worklight/ant/defaults.properties">
         <classpath>
            <pathelement location="C:/Worklight50/WorklightServer/worklight-ant.jar"/>
         </classpath>
      </taskdef>
      <app-deployer worklightServerHost="http://localhost:9087/worklight" deployable="C:/temp/UnisTestAdapters-common.wlapp"/>
   </target>
</project> 
```

使用记录在案的“WAS 安全选项 1 过程”（即，在 worklight.war 中修改的 web.xml）保护了对 WL 服务器控制台的访问。

当我运行 ant 进程时，我收到以下错误：

```
C:\temp>C:\apache-ant-1.8.4-bin\bin\ant -buildfile test.xml deploy_application
Buildfile: C:\temp\test.xml
deploy_application:
[app-deployer] Feb 18, 2013 1:39:23 PM com.worklight.ant.deployers.AbstractDeployerTask logDeployResponse
[app-deployer] SEVERE: Unauthorized;
BUILD SUCCESSFUL
Total time: 1 second 
```

如果我在未受保护的 WL 控制台的情况下运行相同的 ant 脚本，则一切正常。

是否可以在安全的 WL 服务器场景中使用 ant 脚本？

如何在应用程序部署期间传播有效凭据？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T11:56:47.390

在当前版本的 IBM Worklight 中没有办法做到这一点（它在积压中）。您可以手动部署应用程序或适配器，也可以在使用 ANT 部署应用程序或适配器时移除保护。

# numpy - 相似数字的 Numpy 相关系数

> ID：14952322
> 
> 赞同：1
> 
> 时间：2013-02-19T07:45:42.153
> 
> 标签：numpy

```
T = array([1, 1, 1, 1,1]) P = array([2.0, 8.7, 4.7, 8.2,9.7]) print corrcoef([T,P]) 
```

给出错误

> [[nan nan nan 1.]] 除法返回 c/sqrt(multiply.outer(d,d)) 中遇到无效值

由于值`T`相同，但如果我给出不同的值，它会起作用。但我的要求是上述数据的输出

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:52:11.830

问题是相关性没有定义，因为 的方差`T`为零。您可以考虑使用协方差而不是相关性：

```
In [8]: cov([T, P])
Out[8]: 
array([[  0\.   ,   0\.   ],
       [  0\.   ,  10.333]]) 
```

# iphone - 排序字典数组

> ID：14952328
> 
> 赞同：0
> 
> 时间：2013-02-19T07:46:00.303
> 
> 标签：iphone, ios, sorting

嗨，我有以下字典数组，我想使用键“BirthDate”对数组进行排序，我的代码如下

```
NSLog(@"nodeEventArray == %@", temp);
NSSortDescriptor *dateDescriptor = [NSSortDescriptor
                                    sortDescriptorWithKey:@"BirthDate"
                                    ascending:YES];
NSArray *sortDescriptors = [NSArray arrayWithObject:dateDescriptor];
NSArray *sortedEventArray = [temp
                             sortedArrayUsingDescriptors:sortDescriptors];
NSLog(@"sortedEventArray == %@", sortedEventArray); 
```

但我无法正确排序，谁能告诉我如何根据“BirthDate”键对字典数组进行排序。因为出生日期是来自服务的字符串

字典样本数组：

```
 nodeEventArray = (
        {
        BirthDate = "05/04/1986";
        Email = "";
        FirstName = Test;
        IsSpouse = 0;
        LastName = Test;
        MiddleInitial = "";
        PatientID = "";
        Phone = "";
        ScacntronCSVId = 40409;
        SlotID = 1;
        UserName = "Tes_02192013010055";
    },
        {
        BirthDate = "02/14/1986";
        Email = "";
        FirstName = Guest;
        IsSpouse = 0;
        LastName = Guest;
        MiddleInitial = "";
        PatientID = "";
        Phone = "";
        ScacntronCSVId = 40410;
        SlotID = 2;
        UserName = "Gue_02192013014725";
    },
        {
        BirthDate = "02/17/1987";
        Email = "";
        FirstName = User;
        IsSpouse = 0;
        LastName = User;
        MiddleInitial = "";
        PatientID = "";
        Phone = "";
        ScacntronCSVId = 40411;
        SlotID = 3;
        UserName = "Use_02192013020726";
    }
    ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:56:51.650

我假设该数组来自服务器或其他东西（因此是“用户名”位），但仍然最好将每个用户/事件/任何内容存储在具有 NSDate 的对象中。这样，您只需按日期排序即可。

但是，如果您想对该数组进行排序，那么...

如果要按 BirthDate 排序（使用日期），则需要将字符串转换为实际的 NSDates。

```
NSDateFormatter *df = [[NSDateFormatter alloc] init];
df.dateFormat = @"MM/dd/yyyy";

[blah sortedArrayUsingComparator:^NSComparisonResult(NSDictionary *obj1, NSDictionary *obj2) {
    NSDate *date1 = [df dateFromString:[obj1 objectForKey:@"BirthDate"];
    NSDate *date2 = [df dateFromString:[obj2 objectForKey:@"BirthDate"];

    return [date1 compare:date2];
}]; 
```

这应该这样做。

它将字符串转换为日期，然后进行比较。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:56:41.463

您可以使用比较器而不是使用 sortDescriptor

```
NSArray *sortedArray = [nodeEventArray sortedArrayUsingComparator: ^(id obj1, id obj2) {
        NSDateFormatter *dateFormator = [[NSDateFormatter alloc] init];
        NSDate *date1 = [dateFormator dateFromString:[[obj1 objectForKey:@"BirthDate"] stringByReplacingOccurrencesOfString:[[obj1 objectForKey:@"BirthDate"] lastPathComponent] withString:@"2013"]];
        NSDate *date2 = [dateFormator dateFromString:[[obj1 objectForKey:@"BirthDate"] stringByReplacingOccurrencesOfString:[[obj1 objectForKey:@"BirthDate"] lastPathComponent] withString:@"2013"]];
        if ([date1 earlierDate:date2] == date1) {
            return (NSComparisonResult)NSOrderedDescending;
        }else{
            return (NSComparisonResult)NSOrderedAscending;
        }

    }]; 
```

# java - Eclipse：引用的类路径提供程序不存在

> ID：14952332
> 
> 赞同：17
> 
> 时间：2013-02-19T07:46:12.247
> 
> 标签：java, eclipse, eclipse-plugin

为了减轻我的日食，我卸载了一些插件。

之后我不能再运行我的项目了。我收到此错误：

> 引用的类路径提供程序不存在：org.eclipse.m2e.launchconfig.classpathProvider

我怎样才能从中恢复过来？

我不记得我删除了哪些插件。

我正在使用 Eclipse 靛蓝。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-19T08:10:57.193

让您的启动配置再次运行的一个简单解决方案是在 IDE 中右键单击您的项目，然后选择配置 -> 转换为 Maven 项目。这修复了损坏的启动配置，并带回了项目的“Maven”上下文菜单条目。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-02-19T07:54:23.383

也许您正在尝试依赖于已卸载插件的运行配置。删除该项目的运行配置并重新创建它。

[看这里](https://stackoverflow.com/questions/4094439/how-to-change-a-referenced-classprovider-in-eclipse)

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2018-05-02T07:53:42.960

关于 Eclipse 的问题

“引用的类路径提供程序不存在：org.eclipse.buildship.core.classpathprovider”

运行应用程序时，我解决了这个问题

1.  去“Eclipse Marketplace”
2.  通过“建造船”搜索
3.  更新了“Buildship Gradle Integration”插件（点击按钮更新）
4.  重新启动 Eclipse

希望它可以帮助某人。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-02-19T09:35:58.513

您可以尝试[恢复旧配置](http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.platform.doc.user/tasks/tasks-123.htm)：

1.  单击`Help > About`，然后单击命令链接`Installation Details...`。
2.  单击`Installation History`选项卡可查看以前保存的配置列表。选择每个配置将显示在该配置中安装的内容。找到要恢复的配置后，单击`Revert`。
3.  `Yes`在要求退出并重新启动工作台时单击。

如果做不到这一点，@PradeepSimha 是对的：最好重新安装 Eclipse。否则，您将来很可能会遇到同样的麻烦，可能是您忘记了原因。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-11-05T13:55:45.390

您缺少 m2e (maven2eclipse) 插件。

转到 Eclipse 市场并下载+安装。之后应该修复它 - 这对我有用。

如果您的 Eclipse 安装中没有可用的市场，请转到“帮助/安装新软件”并输入链接[http://download.eclipse.org/technology/m2e/releases](http://download.eclipse.org/technology/m2e/releases)。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-08-11T07:21:15.867

我有同样的错误，没有卸载任何 Eclipse 插件。也许一些插件得到了更新。我无法运行任何项目，即使是带有简单打印输出的简单 Main 类也失败了。

帮助我的是跑步`eclipse.exe -clean`。打开命令提示符，然后转到 eclipse 目录并运行`eclipse.exe -clean`，然后打开您的工作区并开始照常工作。

希望它可以帮助任何人。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-03-06T21:18:21.397

我遇到了和你一样的问题。请确保您的工作区名称和项目名称与上述配置不同。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2016-07-31T20:03:28.480

如何解决这个问题：

1.  点击运行配置
2.  类路径选项卡
3.  恢复默认条目

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-03-22T11:51:32.343

我有这个问题，我通过这些步骤解决了：右键单击项目 > Maven > 更新项目 > 确定，然后从菜单中：项目 > 清洁

并重新启动您的 IDE

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2013-05-14T19:54:38.977

我遇到了同样的问题，检查了该特定项目的属性中的配置，发现 Java Compiler -> JDK 合规性被禁用和取消选中。尝试了一些选项来启用它bt不走运不得不创建一个新项目并得到解决。

# c# - WCF 一个接口中有多个基类？

> ID：14952333
> 
> 赞同：1
> 
> 时间：2013-02-19T07:46:18.933
> 
> 标签：c#, wcf, datacontract

我只是想知道是否可以在一个接口中使用多个基类。我面临的问题是我为一个接口使用了 2 个（并且还会有更多）基类。使用第一个完全没有问题，但是当我尝试使用第二个时，它不起作用。

我简短地写下代码

```
[ServiceContract(Namespace = "http://bla.ServiceModel.Samples", SessionMode = SessionMode.Required)]
[ServiceKnownType(typeof(ObservableCollection<Models.Model1>))]
[ServiceKnownType(typeof(ObservableCollection<Models.MOdel2>))]
public interface IService
{
    [OperationContract]
    ObservableCollection<Models.Model1> AccessModel1();

    [OperationContract]
    ObservableCollection<Models.Model2> AccessModel2(string group);
} 
```

与客户端连接后，创建 Model1 的集合可以正常工作。当我尝试创建 Model2 的集合时，它只是崩溃了。内部异常是“现有连接被远程主机强行关闭”。

模型 1 和模型 2 包含不同的信息，但具有相同的结构。

是否存在根本性错误或其他问题？

如果您需要任何进一步的信息，欢迎您！

*更新*

我将发布模型类。也许我只是瞎了眼，看不到错误。

```
[DataContract]
public class Model2
{
    private string status;
    private string name;
    private string telephone;

    public Model2(string sStatus, string sName, string sTelephone)
    {
        Status = sStatus;
        Name = sName;
        Telephone = sTelephone;
    }

    [DataMember(IsRequired = true, Order = 0)]
    public string Status
    {
        get { return status; }
        set { status = value; }
    }

    [DataMember(IsRequired = true, Order = 1)]
    public string Name
    {
        get { return name; }
        set { name = value; }
    }

    [DataMember(IsRequired = true, Order = 2)]
    public string Telephone
    {
        get { return telephone; }
        set { telephone = value; }
    }
}

internal class Model2Builder: ObservableCollection<Model2>
{
    public Model2Builder(string group)
        : base()
    {
        try
        {
            DataTable dt = new Database().GetModel2Data(group);

            foreach (DataRow row in dt.Rows)
            {
                Add(new Model2(row[0].ToString(), row[1].ToString(), row[2].ToString()));
            }

            dt.Dispose();
        }

        catch (Exception ex)
        {
            //Code for log...
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:51:07.003

不确定您要在这里做什么。您的模型是否实现了基类？

ServiceKnownTypeAttribute 旨在声明可以存在于对象图中但尚未存在于服务接口中的类型层次结构。

由于您已经在界面中公开了 Models1 和 Models2，因此无需使用 ServiceKnownTypeAttribute 指定它们。

例如：

```
[DataContract]
public class Shape { }

[DataContract]
public class Rectangle : Shape { }

[DataContract]
public class Square : Shape { }

[ServiceContract]
[ServiceKnownType(typeof(Rectangle))]
[ServiceKnownType(typeof(Square))]
public interface IService
{
    [OperationContract]
    Shape[] GetShapes();
}

public class Service : IService
{
    [OperationBehavior]
    public Shape[] GetShapes()
    {
        return new Shape[] {
            new Square(),
            new Rectangle()
        };
    }
} 
```

请注意，您也可以使用[KnownTypeAttribute](http://msdn.microsoft.com/en-us/library/system.runtime.serialization.knowntypeattribute.aspx)：

```
[DataContract]
[KnownType(typeof(Rectangle))]
[KnownType(typeof(Shape))]
public class Shape { }

[DataContract]
public class Rectangle : Shape { }

[DataContract]
public class Square : Shape { } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T17:36:40.827

在您的模型类上，您是否尝试过添加无参数构造函数 - 我很确定数据协定序列化程序需要无参数构造函数，即

```
[DataContract]
public class Model2
{
    private string status;
    private string name;
    private string telephone;

    public Model2(){}

    public Model2(string sStatus, string sName, string sTelephone)
    {
        Status = sStatus;
        Name = sName;
        Telephone = sTelephone;
    }
    ...etc 
```

# xcode4 - 如何在 xcode 4 中正确重命名组和目录

> ID：14952336
> 
> 赞同：1
> 
> 时间：2013-02-19T07:46:24.097
> 
> 标签：xcode4, xcode4.2, xcode4.5

基本上，我在“Classes”目录以及“Classes”组下拥有所有 .h 和 .m 文件。然后我后悔给了这样一个名字，所以我使用“mv”命令行将目录更改为“src”，然后删除“Classes”组并将“src”拖回。然后当我运行我的代码时，我得到了一个 sigabrt立即出错。有谁知道为什么？我尝试重新打开 xcode 项目，但没有解决它。非常感谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T14:16:26.590

对于我想以不同方式组织的 117 个源文件，我必须这样做一次。这是我所做的：

1.  从项目中删除所有源文件和组（删除引用）并退出 Xcode。
2.  在查找器中查看您的文件，创建一些新文件夹并根据需要移动源文件。
3.  返回 Xcode，在项目文件列表中拖动新源文件层次结构的根文件夹。Xcode 将为您创建的任何子文件夹创建组文件夹，从而完全匹配您在磁盘上的层次结构（在导入对话框中有一个选项）。不要忘记检查导入的文件是否已添加到您的目标中（再次在导入对话框中）。

然后你的项目应该像以前一样编译。还有其他方法可以实现这一点，但我发现这种方法是最有效的。

# php - 根据 postgres 中的小时数计算总工资

> ID：14952339
> 
> 赞同：0
> 
> 时间：2013-02-19T07:46:39.710
> 
> 标签：php, postgresql

我想写一个`query`来计算基于工作时间的总工资。

就我而言，我有两张桌子：

1.  `machineTypes`带字段`machine_rent`（每小时基数）。
2.  `machines`（它维护每天出现的机器的所有信息，如：`machine_name`、、、、）`timein``timeout``task`

现在我想填充特定机器的总量，即该机器工作了多少小时，然后乘以`machine_rent`as 来计算`totalpay`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T03:39:51.123

好的，[这个 sqlfiddle](http://sqlfiddle.com/#!12/1d280/3)怎么样？

我创建了一些随机使用，并采用了当前的按需 AWS 每个实例成本（弗吉尼亚州的 Linux）。

读者练习：现在计算总计应该是不言而喻的。

# asp.net-mvc-4 - MVC4 WebAPI 与常规控制器

> ID：14952346
> 
> 赞同：3
> 
> 时间：2013-02-19T07:47:10.937
> 
> 标签：asp.net-mvc-4

我刚刚开始阅读新的 MVC4 WebAPI。这个问题可能很基本，但它会解决我的困惑。

假设您要创建一个也遵循 REST 架构的 MVC 站点。

按照[本](http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api)教程，在创建一个显示产品列表的页面时，我需要创建两个控制器 => 一个用于常规网站（从“控制器”派生），另一个用于通过派生自“API”的 API 服务请求控制器”？。这似乎有很多冗余。

那么您是否只有 1 个视图（网站）？另一个只会返回（例如一些 JSON 结果 - WebAPI）？

编辑：

创建 ViewModel 的标准方法是什么？我假设两个控制器都可以使用相同的视图模型。正确的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:51:11.907

> 按照本教程，在创建一个显示产品列表的页面时，我需要创建两个控制器 => 一个用于常规网站（从“控制器”派生），另一个用于通过派生自“API”的 API 服务请求控制器”？。这似乎有很多冗余。

是的，您需要 2 个控制器。这可能是多余的，但目前就是这样。希望微软将在未来的版本中合并这两种开发方法。目前，您还可以从 Web API 控制器返回 Razor 视图，但通过 API 控制器执行所有操作可能会有点痛苦。

# java - 无法使用 Selenium2 (Webdriver) 和 Java 启动 IE 浏览器

> ID：14952348
> 
> 赞同：56
> 
> 时间：2013-02-19T07:47:14.057
> 
> 标签：java, internet-explorer, selenium-webdriver

我无法启动 IE 浏览器来运行我用 Java 编写的 selenium 自动化测试。我使用的是 Windows 7 和 IE 9。下面是我的代码：

请找到附件。![在此处输入图像描述](../Images/e93fd700dcaf0145abaf9ca9dda3a796.png)

```
public class GoogleNews {
    private WebDriver driver;
    private String baseUrl;
    private StringBuffer verificationErrors = new StringBuffer();
    ArrayList al = new ArrayList();
    @Before
    public void setUp() throws Exception {
        //driver = new FirefoxDriver();
        driver =new InternetExplorerDriver();
        baseUrl = "https://news.google.co.in/";

    }

    @Test
    public void testApple() throws Exception {
        driver.get(baseUrl);
    }
} 
```

* * *

## 回答 #1

> 赞同：149
> 
> 时间：2013-02-19T12:25:13.670

它需要在所有区域中设置相同的安全级别。为此，请按照以下步骤操作：

1.  打开 IE
2.  转到工具-> Internet 选项-> 安全
3.  将所有区域（Int​​ernet、本地 Intranet、受信任的站点、受限制的站点）设置为相同的保护模式，启用或禁用都无关紧要。

最后，通过右键单击右上角的齿轮并启用状态栏将缩放级别设置为 100%。默认缩放级别现在显示在右下方。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2013-02-19T10:42:29.750

正如堆栈跟踪所说，您需要将 IE 中所有区域的保护模式设置设置为相同。在这里阅读原因：http: [//jimevansmusic.blogspot.in/2012/08/youre-doing-it-wrong-protected-mode-and.html](http://jimevansmusic.blogspot.in/2012/08/youre-doing-it-wrong-protected-mode-and.html)

以及来自同一链接的快速操作方法：“在 IE 中，从工具菜单（或更高版本的工具栏中的齿轮图标）中，选择“Internet 选项”。转到“安全”选项卡。在对话框底部每个区域，您应该看到一个标有“启用保护模式”的复选框。将复选框的值设置为每个区域的相同值，选中或未选中”

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2013-02-20T04:56:57.243

以下 WebDriver Java 代码片段应该可以启动 IE。该代码将忽略 IE 浏览器中所有区域的保护模式设置。

```
DesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();
capabilities.setCapability(InternetExplorerDriver.INTRODUCE_FLAKINESS_BY_IGNORING_SECURITY_DOMAINS, true);
File file = new File("D:\\Ripon Al Wasim\\IEDriverServer.exe");
System.setProperty("webdriver.ie.driver", file.getAbsolutePath());
WebDriver driver = new InternetExplorerDriver(capabilities);
driver.get("https://www.google.com/"); 
```

下载 IEDriverServer 并将其解压缩到您想要的位置并设置绝对路径（在我上面的示例中它是“D:\Ripon Al Wasim\IEDriverServer.exe”）

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2015-05-18T10:48:34.403

**IEDriverServer.exe不要使用绝对路径，最好根据项目使用相对路径。**

```
 DesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();
        capabilities.setCapability(InternetExplorerDriver.INTRODUCE_FLAKINESS_BY_IGNORING_SECURITY_DOMAINS, true);
        File fil = new File("iDrivers\\IEDriverServer.exe");
        System.setProperty("webdriver.ie.driver", fil.getAbsolutePath());
        WebDriver driver = new InternetExplorerDriver(capabilities);        
        driver.get("https://www.irctc.co.in"); 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2015-09-01T10:34:36.200

1.  去`IE->Tools->Internet Options`。
2.  转到安全选项卡。
3.  为所有人启用/禁用保护模式（Internet、本地 Intranet、受信任的站点和受限制的站点。）

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-05-10T20:33:18.280

想要分享实际代码，因为很少有人可能仍然对如何实现它感到困惑。这是针对 C# NUNIT 实现的。您需要这样做，因为您的公司可能出于显而易见的原因不允许您更改默认安全设置。祝你好运！

```
InternetExplorerOptions options = new InternetExplorerOptions();
            options.IntroduceInstabilityByIgnoringProtectedModeSettings = true;
            options.IgnoreZoomLevel = true;
            driver = new
                InternetExplorerDriver("C:\\Users\\stdd\\Desktop\\SLL\\SLLAutomation" +
                "\\Clysis\\STGSearch\\STGClaSearch\\Driver\\", options);
            driver.Manage().Window.Maximize(); 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-09-05T14:54:42.107

对于 NightwatchJS 使用：

```
"ie" : {
  "desiredCapabilities": {
    "browserName": "internet explorer",
    "javascriptEnabled": true,
    "acceptSslCerts": true,
    "allowBlockedContent": true,
    "ignoreProtectedModeSettings": true
  }
}, 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2018-04-03T13:40:42.197

要解决此问题，您必须做两件事：

1.  您需要在目标计算机上设置一个注册表项，以便驱动程序可以保持与它创建的 Internet Explorer 实例的连接。

2.  更改该机器上 Internet Explorer 浏览器的一些设置（您希望在其中运行自动化）。

**1\. 设置注册表项/条目：**

*   要设置注册表项或条目，您需要打开“注册表编辑器”。

*   要打开“注册表编辑器”，请按 Windows 按钮键 + r 字母键，这将打开“运行窗口”，然后键入“regedit”并按 Enter。

*   或按 Windows 按钮键并在开始菜单中输入“regedit”，然后按 Enter。现在取决于您的操作系统类型是否 32/64 位遵循相应的步骤。

**Windows 32 位：** 转到此位置 -“HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Internet Explorer\Main\FeatureControl”并检查“FEATURE_BFCACHE”键。

**Windows 64 位：** 转到此位置 - HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Internet Explorer\Main\FeatureControl 并检查“FEATURE_BFCACHE”键。 **请注意，** FEATURE_BFCACHE**子**项可能存在也可能不存在，如果不存在，**则应创建**它。

**重要提示：**在此键中，创建一个名为 iexplore.exe 且值为 0 的 DWORD 值。

[![注册表设置](../Images/88d1b0ce3ed0c33f8adc2a3006392fe2.png)](https://i.stack.imgur.com/dYTNl.jpg)

**2\. 更改 Internet Explorer 浏览器的设置：**

*   单击设置按钮并选择**“Internet 选项”**。

*   在“Internet 选项”窗口中转到**“安全”**选项卡

*   现在选择**“Internet”**选项并取消选中“启用保护模式”复选框并将“安全级别”更改为低。

*   现在选择**“本地 Intranet”**选项并将“安全级别”更改为低。

*   现在选择**“受信任的站点”**选项并将“安全级别”更改为低。

[![互联网选项](../Images/7f15c0677ce76fccb863345f43e16bcb.png)](https://i.stack.imgur.com/I50f5.jpg)

*   现在单击**“应用”**按钮，可能会出现一个警告弹出单击“确定”按钮进行警告，然后单击“Internet 选项”窗口中的“确定”按钮。

[![保存设置](../Images/4c95bd4f184466178d4be32108a7ebeb.png)](https://i.stack.imgur.com/XeoZQ.jpg)

*   在此之后重新启动浏览器。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2020-08-23T06:10:20.693

我无法在我的系统上手动修改保护模式设置，因为它们已被禁用。但是下面用于更新注册表值的 VBA 片段对我有用。（在尝试此操作之前，请注意您的组织对修改注册表的任何限制）

```
Const HKEY_CURRENT_USER = &H80000001
strComputer = "."

Set ScriptMe=GetObject("winmgmts:{impersonationLevel=impersonate}!\\" & _
    strComputer & "\root\default:StdRegProv")

'Disable protected mode for local intranet'
strKeyPath = "Software\Microsoft\Windows\CurrentVersion\Internet Settings\Zones\1\"
strValueName = "2500"
dwValue = 0
ScriptMe.SetDWORDValue HKEY_CURRENT_USER,strKeyPath,strValueName,dwValue

'Disable protected mode for trusted pages'
strKeyPath = "Software\Microsoft\Windows\CurrentVersion\Internet Settings\Zones\2\"
strValueName = "2500"
dwValue = 0
ScriptMe.SetDWORDValue HKEY_CURRENT_USER,strKeyPath,strValueName,dwValue

'Disable protected mode for internet'
strKeyPath = "Software\Microsoft\Windows\CurrentVersion\Internet Settings\Zones\3\"
strValueName = "2500"
dwValue = 0
ScriptMe.SetDWORDValue HKEY_CURRENT_USER,strKeyPath,strValueName,dwValue

'Disable protected mode for restricted sites'
strKeyPath = "Software\Microsoft\Windows\CurrentVersion\Internet Settings\Zones\4\"
strValueName = "2500"
dwValue = 0
ScriptMe.SetDWORDValue HKEY_CURRENT_USER,strKeyPath,strValueName,dwValue

msgbox "Protected Mode Settings are updated" 
```

只需将上面的代码复制粘贴到记事本中并使用 .vbs 扩展名保存并双击它！

现在尝试再次运行您的自动化脚本

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-11-25T09:39:02.963

## 在开始使用 Internet Explorer 和 Selenium Webdriver 之前请考虑这两个重要规则。

*   缩放级别：应设置为默认值 (100%) 和
*   安全区域设置：对所有人都应该相同。应根据您的组织权限设置安全设置。

## 这个怎么设置？

*   只需转到 Internet Explorer，手动完成这两项工作。而已。没有秘密。
*   通过您的代码执行此操作。

**方法一**：

DesiredCapabilities 能力 = DesiredCapabilities.internetExplorer();

```
 capabilities.setCapability(InternetExplorerDriver.IGNORE_ZOOM_SETTING, true);

    System.setProperty("webdriver.ie.driver","D:\\IEDriverServer_Win32_2.33.0\\IEDriverServer.exe");

    WebDriver driver= new InternetExplorerDriver(capabilities);

    driver.get(baseURl);

    //Identify your elements and go ahead testing... 
```

这绝对**不会显示任何错误，并且浏览器将打开**并导航到 URL。

但是这**不会识别任何元素**，因此您无法继续。

为什么？因为我们只是简单地抑制了错误并要求 IE 打开并获取该 URL。然而，只有当浏览器缩放为 100% 时，Selenium 才会识别元素。默认。所以最终的代码是

**方法 2 稳健且全面的证明方式**：

```
DesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();

    capabilities.setCapability(InternetExplorerDriver.IGNORE_ZOOM_SETTING, true);

    System.setProperty("webdriver.ie.driver","D:\\IEDriverServer_Win32_2.33.0\\IEDriverServer.exe");

    WebDriver driver= new InternetExplorerDriver(capabilities);

    driver.get(baseURl);

    driver.findElement(By.tagName("html")).sendKeys(Keys.chord(Keys.CONTROL,"0"));

    //Identify your elements and go ahead testing... 
```

希望这可以帮助。如果需要更多信息，请告诉我。

# wordpress - Wordpress - 创建页面时摆脱默认帖子

> ID：14952352
> 
> 赞同：0
> 
> 时间：2013-02-19T07:47:36.973
> 
> 标签：wordpress, wordpress-theming

当您第一次在 Wordpress 中创建页面时，它会创建一个默认帖子，其中包含该页面的标题以及创建的评论和日期。你如何摆脱它？非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T12:39:47.337

您可以分别禁用每个帖子/页面中的评论。您可以使用静默发布或隐形发布等插件禁用的日期。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T18:03:46.850

问题解决了。使用 display:hidden 在 css 中发布时仅隐藏页面标题。

# ember.js - 在上下文模型完全加载后，强制 ti 重定向到具有动态路由的路由

> ID：14952356
> 
> 赞同：0
> 
> 时间：2013-02-19T07:48:04.853
> 
> 标签：ember.js, ember-data

我有一条显示帖子列表的路线（PostsRou​​te）

我希望 PostsIndexRoute 被重定向到

PostRoute（不是 PostsRou​​te，代表一个帖子）与最后一个帖子的上下文。

我的应用程序的布局是![在此处输入图像描述](../Images/c644a8f5df09e7146a244994cf79df4f.png)

所以我写了一个像这样的 PostsIndex 路由

```
App.PostsIndexRoute = Ember.Route.extend({ 
    redirect: function() {
          var p = this.modelFor('posts').get('lastObject');
          this.transitionTo('post', p);
    }
}); 
```

当我第一次输入 /posts/ 时，重定向不起作用。

（因为 Posts 的模型不会立即填充。）

但是第二次进入/posts/。重定向效果很好。

（因为帖子的模型现在已填充）

如何在上下文模型完全加载后强制转换工作？

（我正在使用 ember-data 进行模型处理。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T13:35:28.813

我相信您看到的行为来自 2 个错误：

*   ember-data [#587](https://github.com/emberjs/data/issues/587)中的一个，这可以防止仅在加载来自服务器的数据时才加载记录数组。随着[#735](https://github.com/emberjs/data/pull/735)中的修复，这个错误应该得到修复。

*   ember [#2116](https://github.com/emberjs/ember.js/issues/2116)中的一个，这个在模型加载之前进行重定向块调用

当它们都被修复时，您不应该遇到任何错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T15:50:14.387

正如您在问题中所说，问题在于您前往路线时尚未加载最近的帖子。我看到三个选项：

### 应用程序设置中的预加载

一种常见的解决方案是在应用程序设置中实例化和获取最近的帖子，并显示一个微调器，直到它们可用。

### 加载帖子/索引

另一个稍微复杂的选项是让`posts.index`状态显示一个微调器，获取最近的帖子，并在可用时重定向到最近的帖子。

### 重定向到`/posts/last`

为其添加一个新路由，`/posts/last`该路由的行为主要类似于`PostShow`路由，但会获取最后几个模型并选择`lastObject`.

# jquery - 子字符串文本上的jquery addClass

> ID：14952362
> 
> 赞同：0
> 
> 时间：2013-02-19T07:48:17.777
> 
> 标签：jquery

我正在开发类似计数字符的推特，并且还将其字符限制为仅 160，当文本长度大于 160 时，我想将*addClass()*添加到倒数第 161 个字符，因此倒数第 161 个字符将*文本装饰*作为*line-through* . *基本上我可以使用substring()*得到长度文本。但是如何将*类*添加到该子字符串文本是我的代码：

```
$(document).ready(function(){
           $("#tweet").attr("disabled","disabled");
           $("#area").keyup(function(){
              var chars=$(this).val().length;

              $("#message").text(160-chars);

              if(chars > 160 || chars <=0){
                  $("#tweet").attr("disabled","disabled");
                  $("#message").addClass("minus");
                  $(this).css("text-decoration","line-through"); //i want this in 161st-last character not on all text

              }else{
                $("#tweet").removeAttr("disabled");
                $("#message").removeClass("minus");
                $(this).css("text-decoration","");
              }
           });
       }); 
```

html

```
<div id="box">
            <p>(Maximum Allowed Characters : 160)</p>
            <p><textarea id="area" rows="10" cols="40"></textarea></p>
            <span id="message"> 160 </span> Characters Remaining
            <input type="button" id="tweet" value="Tweet"/>
     </div> 
```

这是我的 jsfiddle [http://jsfiddle.net/ZM9WD/4/](http://jsfiddle.net/ZM9WD/4/)

ps：对不起我的英语:-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:03:27.960

为了实现这一点，您需要使用`<div contenteditable="true">`而不是`<textarea>`，将内容拆分为 160 个字符，将多余的内容放入 a`<em>`并使用 css 对其进行样式设置。

标记

```
<div id="box">
    <p>(Maximum Allowed Characters : 160)</p>
    <p><div id="area" contenteditable="true"></div></p>
    <span id="message"> 160 </span> Characters Remaining
    <input type="button" id="tweet" value="Tweet"/>
</div> 
```

JS

```
$("#area").keyup(function(){
    var content = $(this).text();
    var chars=content.length;

    $("#message").text(160-chars);

    var html="";
    if (chars > 160 || chars <=0){
        html = content.substr(0, 160) + "<em>" + content.substr(160) + "</em>"
    } else {
        html = content.substr(0, 160);
    }

    $(this).html(html);
    setEndOfContenteditable(this);
}); 
```

源代码`setEndOfContenteditable()`取自这里[https://stackoverflow.com/a/3866442/1920232](https://stackoverflow.com/a/3866442/1920232)

CSS

```
#area {
    -moz-appearance: textfield-multiline;
    -webkit-appearance: textarea;
    border: 1px solid gray;
    font: medium -moz-fixed;
    font: -webkit-small-control;
    height: 68px;
    overflow: auto;
    padding: 2px;
    resize: both;
    width: 350px;
}

#area em {
    color: red;
    text-decoration: line-through;
} 
```

**[jsFiddle 在这里](http://jsfiddle.net/pmatseykanets/R6rbC/)**

*示例大致工作，但我相信这里有很大的改进空间。*

# android - android中Spannable和String之间的区别

> ID：14952363
> 
> 赞同：5
> 
> 时间：2013-02-19T07:48:18.017
> 
> 标签：android, spannable

好奇地想知道`Spannable`在android中的目的是什么。char 数组还不够吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-19T07:52:16.130

A`Spannable`允许将粗体、斜体、...等格式信息附加到字符的子序列（“跨度”，即名称）上。只要您想表示“富文本”，就可以使用它。

该类`Html`提供了一种构造此类文本的简单方法，例如：

```
Html.fromHtml("Text with <b>bold</b> and <em>italic</em>.") 
```

# javascript - GmapPanel 无法缩放级别 - EXTJS 4

> ID：14952365
> 
> 赞同：1
> 
> 时间：2013-02-19T07:48:21.430
> 
> 标签：javascript, ajax, google-maps, extjs, extjs4

```
Ext.require([
    'Ext.tree.*',
    'Ext.data.*',
    'Ext.window.MessageBox',
    'Ext.window.*',
    'Ext.ux.GMapPanel'
]);

var layout = Ext.create('Ext.panel.Panel', {
                //renderTo: 'layout',
                width: window.innerWidth,
                height: window.innerHeight,
                //title: 'Border Layout', //no title will be blank
                layout: 'border',
                items: [{
                    title: 'Message List',
                    region: 'south',     // position for region
                    xtype: 'panel',
                    height: 100,
                    split: true,         // enable resizing
                    collapsible: true,
                    margins: '0 5 5 5',
                    collapsed: true
                },tree,{
                    //title: 'Map',
                    region: 'center',     // center region is required, no width/height specified
                    xtype: 'gmappanel',
                    mapConfOpts: ['enableScrollWheelZoom','enableDoubleClickZoom','enableDragging'],
                    mapControls: ['GSmallMapControl','GMapTypeControl','NonExistantControl'],   
                    zoomLevel: 2,
                    gmapType: 'map'
                }],
                renderTo: Ext.getBody() //get the body and display Layout at there
            }); 
```

![在此处输入图像描述](../Images/f70f5ad2c77b8f4c410accdce32eba6c.png)

## 问题

为什么我的代码不能缩放，带有地图和小地图的gmaptype？即使用 x,y 坐标设置中心也行不通。请帮忙谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-04T12:08:19.693

我也面临同样的问题，我通过`GMapPanel.js`在以下代码部分中更改放大来解决这个问题：

```
options = Ext.applyIf(options, {
        zoom: 4,         // <-- change this to whatever you want
        center: center,
        mapTypeId: google.maps.MapTypeId.HYBRID
    }); 
```

注意：我没有将上面的代码添加到`GMapPanel.js`，它已经存在，只需找到它并更改缩放级别。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-25T11:29:08.200

```
options = Ext.applyIf(options, {
    zoom: this.zoom || 14,      // FIX 
    center: center,
    mapTypeId: google.maps.MapTypeId.HYBRID
}); 
```

创建 xtype 时使用 var zoom 更改默认缩放值

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T18:01:19.067

你想添加

```
 setCenter: {
        'lat': 37.4419,
        'lng': -122.1419,
        marker:{ title: 'Palo Alto'}
    } 
```

在 xtype:'gmpanel' 中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-06-01T16:36:34.023

我认为这就是你想要做的。您需要在“mapOptions”对象中包含“zoomLevel”。这是一个例子：

```
xtype: 'gmappanel',
height: 300,
width: 300,
mapOptions: {
    zoom: 17,
    mapTypeId: google.maps.MapTypeId.ROADMAP
    //...etc
} 
```

# odbc - 星号 func_odbc 用于在 mysql 上保留 MixMonitor() 文件？

> ID：14952366
> 
> 赞同：0
> 
> 时间：2013-02-19T07:48:28.513
> 
> 标签：odbc, asterisk, func

我用 mysql 和 odbc 插件安装了 asterisk 1.8，我如何使用 func_odbc 在 mysql 上保留 MixMonitor() 文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T17:25:07.013

不幸的是，您不能使用 MixMonitor 直接保存在 SQL 表上。

相反，我建议您编写一个脚本（例如在 PHP 中）检查 /var/spool/asterisk/monitor 文件夹中的新文件，在 SQL 中导入文件然后删除该文件。

您创建一个用于“记录”的新 SQL 表，其中包含 2-3 个字段（唯一标识、内容、文件名），您将能够轻松链接 CDR 和记录数据。

由于所有录制文件都将保存在 SQL 数据库中，因此您还可以创建一个 ramdisk 来存储文件，如果您有很多调用，这将减少服务器上的磁盘 i/o ;)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-06-17T13:10:48.793

您可以创建表记录并使用 func_odbc.conf

例子：

func_odbc.conf

```
[R]
dsn=asterisk
prefix=M
writesql=INSERT INTO records (wav,contact,agent,uniqueid) VALUES ('${VAL1}','${VAL2}','${VAL3}','${VAL4}'); 
```

extensions.conf

```
exten => _0[2345679].,1,NoOp(${CALLERID(num)})
exten => _0[2345679].,n,Set(FILENAME=Poste---${CALLERID(num)}__${STRFTIME(${EPOCH},,%d-%m-%Y_%Hh%Mm%Ss)}__Appel-Sortant---${EXTEN}_UI-${UNIQUEID})
exten => _0[2345679].,n,Set(M_R()=${FILENAME}\,${EXTEN}\,${CALLERID(num)}\,${UNIQUEID})
exten => _0[2345679].,n,MixMonitor(${FILENAME}.wav,b)
exten => _0[2345679].,n,dial(SIP/gsm2/2${EXTEN}) 
```

# freeradius - freeradius 分割错误

> ID：14952367
> 
> 赞同：0
> 
> 时间：2013-02-19T07:48:31.010
> 
> 标签：freeradius

我在 ubuntu 11.10 上使用 freeradius 服务器。当我跑步时

```
radtest username password 127.0.0.1 100 testing123 " 
```

命令。在服务器端然后我得到：

```
rad_recv: Access-Request packet from host 127.0.0.1 port 38006, id=243, length=60
    User-Name = "username"
    User-Password = "password"
    NAS-IP-Address = 127.0.1.1
    NAS-Port = 100
# Executing section authorize from file /etc/freeradius/sites-enabled/default
+- entering group authorize {...}
++[preprocess] returns ok
Segmentation fault 
```

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-05T21:12:32.957

这些基本的瞬态 SEGFAULT 通常是由 ABI 不匹配引起的，其中较旧版本的服务器库由较新版本的 radiusd 加载。

从版本 3.xx 开始，服务器将验证它的各种库中的幻数，以检查它们是否都来自同一版本的服务器，如果不是，则拒绝启动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-08T12:02:41.947

当我开始研究 freeradius 时，我遇到了同样的问题。我没有找到任何解决方案或导致此分段错误的原因。

我从存储库 ubuntu 12.04 重新安装了 Freeradius，这对我有用。

# memory - 预测合并/连接中的行数

> ID：14952368
> 
> 赞同：0
> 
> 时间：2013-02-19T07:48:33.380
> 
> 标签：memory, join, merge, pandas

在我的代码中，我在很多地方都使用了合并/加入。最近我遇到了一个可能只是制作笛卡尔产品的连接（可能只有 5000 个文件要处理）。由于代码在 64 位系统/python 上运行，因此此连接会继续运行以填充所有内存，从而阻塞此硬件节点上的每个进程/用户。由于没有发生实际错误，因此也很难调试。

有没有一种简单的方法来测试连接/合并的有效性，我可以在断言语句中使用它？

谢谢，

卢克

# xpages - 休息服务/iNotes 日历控件中的全天事件不正确

> ID：14952369
> 
> 赞同：2
> 
> 时间：2013-02-19T07:48:35.923
> 
> 标签：xpages, xpages-extlib

iNotes 日历控件中的所有日事件都显示不正确：仅显示多日事件（例如假期）的第一天，以及另一个日历条目之后的天数。

例如，当我在日历中添加约会（或会议）时，从 1 月 20 日到 1 月 27 日的全天事件仅在 1 月 20 日显示，例如 22 日：然后全天事件显示在 1 月 20 日和 1 月 23 日（或 22 日） ， 有时）。

--- 疯了 --- 现在“没有人”（在我的公司里）不再信任日历控件了！

编码：

```
<xe:restService id="restCal" pathInfo="/calendar"
preventDojoStore="false">
<xe:this.service>
<xe:calendarJsonLegacyService
viewName="$calendar" colAltSubject="$151" colCalendarDate="$134"
colChair="$153" colConfidential="$154" colCustomData="$UserData"
colEndTime="$146" colEntryIcon="$149" colEntryType="$152"
colStartTime="$144" colStatus="$160" colSubject="$147"
contentType="text/json" databaseName="${javascript:sessionScope.calendarDBName}">
</xe:calendarJsonLegacyService>
</xe:this.service>
</xe:restService>

<xe:calendarView id="calendarAD"
storeComponentId="restCal"
type="#{javascript: null == viewScope.calendarType? 'W' : viewScope.calendarType }">
</xe:calendarView> 
```

编辑（在保罗的评论之后）：萤火虫数据显示全天事件以相同的日期/时间值写入 3 次，直到写入不同的约会数据：

```
 "@unid":"B4E518662A79F897C1257B160067B553",
      "@noteid":"147E6",
      "@position":"632",
      "@siblings":"641",
      "entrydata":
      [
        {
            "@columnnumber":"0",
            "@name":"$134",
            "datetimelist":
            {
                "datetime":
                [
                  {
                      "0":"20130219T040000"
                  }
                ]
            }
        }, 
// ========================================
// ... some more code 
// ... than again the all day event with the SAME date/time value :
// ========================================
      "@unid":"B4E518662A79F897C1257B160067B553",
      "@noteid":"147E6",
      "@position":"632",
      "@siblings":"641",
      "entrydata":
      [
        {
            "@columnnumber":"0",
            "@name":"$134",
            "datetimelist":
            {
                "datetime":
                [
                  {
                      "0":"20130219T040000"
                  }
                ]
            }
        }, 
// ========================================
// ... some more code 
// ... and a 3rd time, with the SAME date/time value:
// ========================================
      "@unid":"B4E518662A79F897C1257B160067B553",
      "@noteid":"147E6",
      "@position":"632",
      "@siblings":"641",
      "entrydata":
      [
        {
            "@columnnumber":"0",
            "@name":"$134",
            "datetimelist":
            {
                "datetime":
                [
                  {
                      "0":"20130219T040000"
                  }
                ]
            }
        }, 
// ========================================
// .... some more code 
// ... then followed by a different appointment:
// ========================================
      "@unid":"ADA38EEBCC643595C1257B160068056A",
      "@noteid":"147EA",
      "@position":"635",
      "@siblings":"641",
      "entrydata":
      [
        {
            "@columnnumber":"0",
            "@name":"$134",
            "datetime":
            {
                "0":"20130221T090000"
            }
        }, 
// ========================================
//... some more code 
//... AND THEN the all day event again, now with a changed date value:
// ========================================
      "@unid":"B4E518662A79F897C1257B160067B553",
      "@noteid":"147E6",
      "@position":"634",
      "@siblings":"641",
      "entrydata":
      [
        {
            "@columnnumber":"0",
            "@name":"$134",
            "datetimelist":
            {
                "datetime":
                [
                  {
                      "0":"20130221T040000"
                  }
                ]
            }
        }, 
```

任何解决方案将不胜感激

乌韦

# jms - RabbitMQ 中的消息接收是如何工作的

> ID：14952372
> 
> 赞同：0
> 
> 时间：2013-02-19T07:48:44.737
> 
> 标签：jms, rabbitmq, message-queue, mom

我在云上有一个 RabbitMQ 实现的队列，我编写了一个 Node.JS 接收器和发送器，它基本上将从队列发送和接收消息。我基本上点击了队列的 uri 并创建了一个连接。

我的问题是：由于我的接收器位于防火墙后面而不是任何公共 IP，队列如何将消息发送到我的队列？它使用什么技术将消息发布到我的队列？我的接收器是否在不断地轮询队列？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T08:21:06.673

由于我还没有找到这个问题的任何答案，这是我根据 RabbitMQ 文档的观察。

在大多数应用程序中，当队列不在系统之外并且可以访问时，实现观察者模式是正确的想法。

在我的情况下，当队列在系统之外（在云上）时，接收器代码会轮询队列中的任何消息，来自 RabbitMQ 站点的示例代码证实了这一点。

```
while (true) {
    QueueingConsumer.Delivery delivery = consumer.nextDelivery();
    String message = new String(delivery.getBody());

    System.out.println(" [x] Received '" + message + "'");
} 
```

可能还有其他一些相同逻辑的实现..

# android - 确定设备是否已移动

> ID：14952373
> 
> 赞同：0
> 
> 时间：2013-02-19T07:48:51.557
> 
> 标签：android, gyroscope

如何确定 Android 设备是否已移动？“移动”是指如果它静止在桌子上并且有人捡起它，我可以检测到它已经移动。我正在考虑使用陀螺仪传感器，但不确定这是否是最佳解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:58:34.257

如果您想检测最小的运动，我认为您没有太多选择。陀螺仪/加速度计传感器是要走的路。即使在那里，您也需要添加一些过滤，因为加速度计有些摇摆不定。

GPS 几乎不够准确，无法用于注意到从桌子到手的移动。

监控接近传感器可能会有一些用处，但任何会触发它的阻塞都不会告诉你手机是否在移动。

如果您想消耗大量电池，请使用相机。通过过滤器流式传输一些输入，该过滤器确定图像是否正在移动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-30T04:23:23.917

您可以使用加速度计来解决此问题。如果设备上没有外力，加速度计传感器值的矢量和将只有重力。如果重力矢量和发生变化，则存在力。如果这个力很大，您可以假设设备正在移动。

如果向量和等于重力，+/- 阈值，则它稳定地躺在桌子上。

代码如下所示，（注意：下面的 MovingAverage 表示 50 个加速度计样本的移动平均值）

```
bool IsDeviceStill(const sensors_event_t& event)
{
    if (event.type == SENSOR_TYPE_ACCELEROMETER) {
        const vec3_t acc(event.data);
        /*Avoiding square root for better performance*/
        float vecsum = acc.x*acc.x + acc.y*acc.y + acc.z*acc.z; 
        vec3_t variance = mVariance->movingAverage(vecsum);

        vec3_t var = mOffsetAvg->movingAverage(abs(variance.x - vecsum));

        ALOGE("Current variance x:%f AvgVarianc:%f ",variance.x,var.x);
        if(var.x < 2) /*Threshold is 2, Standard deviation should less than 2 */
            mDeviceStill = true;
        else 
            mDeviceStill = false;

    }
    ALOGE("%s Device is still:%d\n", __FUNCTION__, mDeviceStill);
    return mDeviceStill;
} 
```

# android - 得到threadid = 1：线程退出列表视图上未捕获的异常（组= 0x41088930）

> ID：14952377
> 
> 赞同：1
> 
> 时间：2013-02-19T07:49:03.463
> 
> 标签：android, android-listview, android-logcat, package-managers, activity-manager

我正在制作一个在列表视图上显示正在运行的应用程序图标的应用程序。没有语法问题（我认为）但是当我启动应用程序并尝试运行活动时，应用程序强制关闭并且我得到`threadid=1: thread exiting with uncaught exception (group=0x41088930)`更多错误我该如何解决这个错误？我应该使用 Asynctask 将图像加载到列表视图吗？或任何解决方案？

```
(Logcat)

02-18 14:17:46.700: W/dalvikvm(18370): threadid=1: thread exiting with uncaught exception (group=0x41088930)
02-18 14:17:46.700: E/AndroidRuntime(18370): FATAL EXCEPTION: main
02-18 14:17:46.700: E/AndroidRuntime(18370): java.lang.RuntimeException: Unable to start activity ComponentInfo{kr.hybdms.sidepanel/kr.hybdms.sidepanel.LeftSidePanel}: java.lang.NullPointerException
02-18 14:17:46.700: E/AndroidRuntime(18370):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2309)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2359)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at android.app.ActivityThread.access$600(ActivityThread.java:153)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1247)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at android.os.Handler.dispatchMessage(Handler.java:99)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at android.os.Looper.loop(Looper.java:137)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at android.app.ActivityThread.main(ActivityThread.java:5204)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at java.lang.reflect.Method.invokeNative(Native Method)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at java.lang.reflect.Method.invoke(Method.java:511)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:799)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:566)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at dalvik.system.NativeStart.main(Native Method)
02-18 14:17:46.700: E/AndroidRuntime(18370): Caused by: java.lang.NullPointerException
02-18 14:17:46.700: E/AndroidRuntime(18370):    at android.widget.ArrayAdapter.getCount(ArrayAdapter.java:330)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at android.widget.ListView.setAdapter(ListView.java:462)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at kr.hybdms.sidepanel.LeftSidePanel.onCreate(LeftSidePanel.java:59)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at android.app.Activity.performCreate(Activity.java:5108)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
02-18 14:17:46.700: E/AndroidRuntime(18370):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2263)
02-18 14:17:46.700: E/AndroidRuntime(18370):    ... 11 more 
```

* * *

```
(LeftSidePanel.java)

package kr.hybdms.sidepanel;

import java.util.ArrayList;
import java.util.List;

import kr.hybdms.sidepanel.PanelArrayAdapter;
import kr.hybdms.sidepanel.R;

import kr.hybdms.sidepanel.util.SystemUiHider;

import android.app.Activity;
import android.app.ActivityManager;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;

import android.os.Bundle;
import android.view.Gravity;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ListView;
import android.widget.Toast;

/**
 * An example full-screen activity that shows and hides the system UI (i.e.
 * status bar and navigation/system bar) with user interaction.
 * 
 * @see SystemUiHider
 */
public class LeftSidePanel extends Activity implements
OnItemClickListener {
ListView listView;
List<PanelItemDetail> rowItems;
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_left_side_panel);

ActivityManager am = (ActivityManager) this.getSystemService(ACTIVITY_SERVICE);
List<ActivityManager.RunningTaskInfo> tasks = am.getRunningTasks(10);
ArrayList<PanelItemDetail> iconarray = new ArrayList<PanelItemDetail>();
PackageManager pacMgr = getPackageManager();
  for (ActivityManager.RunningTaskInfo runningTask: tasks)
  {
    try {
        iconarray.add(new PanelItemDetail(pacMgr.getApplicationIcon(runningTask.topActivity.getPackageName())));
    } catch (NameNotFoundException e) {
      e.printStackTrace();
    }
  }

listView = (ListView) findViewById(R.id.panelcontents);
PanelArrayAdapter adapter = new PanelArrayAdapter(this,
        R.layout.panelrow, rowItems);
listView.setAdapter(adapter);
listView.setOnItemClickListener(this);
}

@Override
public void onItemClick(AdapterView<?> parent, View view, int position,
    long id) {
Toast toast = Toast.makeText(getApplicationContext(),
    "Item " + (position + 1) + ": " + rowItems.get(position),
    Toast.LENGTH_SHORT);
toast.setGravity(Gravity.BOTTOM|Gravity.CENTER_HORIZONTAL, 0, 0);
toast.show();
}
} 
```

* * *

```
(PanelArrayAdapter.java)

package kr.hybdms.sidepanel;

import java.util.List;

import android.app.Activity;
import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.ImageView;

public class PanelArrayAdapter extends ArrayAdapter<PanelItemDetail> {
    Context context;
    public PanelArrayAdapter(Context context, int resourceId,
            List<PanelItemDetail> items) {
        super(context, resourceId, items);
        this.context = context;
    }
    /*private view holder class*/
    private class ViewHolder {
        ImageView imageView;
    }
    public View getView(int position, View convertView, ViewGroup parent) {
        ViewHolder holder = null;
        PanelItemDetail rowItem = getItem(position);
        LayoutInflater mInflater = (LayoutInflater) context
                .getSystemService(Activity.LAYOUT_INFLATER_SERVICE);
        if (convertView == null) {
            convertView = mInflater.inflate(R.layout.panelrow, null);
            holder = new ViewHolder();
            holder.imageView = (ImageView) convertView.findViewById(R.id.appicon);
            convertView.setTag(holder);
        } else
            holder = (ViewHolder) convertView.getTag();
        holder.imageView.setImageDrawable(rowItem.getImageId());
        return convertView;
    }
} 
```

* * *

```
(PanelItemDetail.java)

package kr.hybdms.sidepanel;

import android.graphics.drawable.Drawable;

public class PanelItemDetail {
    private Drawable imageId;
    public PanelItemDetail(Drawable images) {
        this.imageId = images;
    }
    public Drawable getImageId() {
        return imageId;
    }
    public void setImageId(Drawable imageId) {
        this.imageId = imageId;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:53:41.527

错误在这里

```
PanelArrayAdapter adapter = new PanelArrayAdapter(this,
        R.layout.panelrow, rowItems);
listView.setAdapter(adapter); 
```

因为`rowItems`还没有初始化。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:52:05.517

看来，您的来源无法找到`leftsidepanel`

尝试以下步骤：

1.首先，检查您的来源是否在错误日志中提到的位置。

2.如果是，请检查您是否输入错误

3.如果它仍然无法正常工作，（在我看来）创建一个新项目并重命名缺少的内容会更容易（我已经这样做了几次并且它一直有效）当然，请确保你复制所有代码

# javascript - 日期函数未在 Firefox 中运行

> ID：14952383
> 
> 赞同：0
> 
> 时间：2013-02-19T07:49:22.850
> 
> 标签：javascript

我有一个日期选择器，通过它我可以通过 javascript 获取日期。

```
var tmpEarTxt = document.getElementById('<%=txtEarDate.ClientID %>'); 
```

当我将日期增加 30 天时，Mozilla 浏览器会给出 NaN-Nan-0NaN 作为结果。但是，它在 chrome 中运行良好。这是我的代码：

```
var dtVal = new Date(tmpEarTxt.value);
dtVal.setDate(dtVal.getDate() + 30); 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:03:24.050

1-31 范围之外的值作为 的参数是非法的[`Date#setDate`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/setDate)。您可以使用[`Date#setTime`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/setTime)and[`Date#getTime`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/getTime)代替：

```
var TI_DAY = 1000*60*60*24; //convenience constant; use any notation you like
///
var dtVal = new Date(tmpEarTxt.value);
dtVal.setTime(dtVal.getTime() + 30 * TI_DAY); 
```

* * *

还要确保将正确的字符串传递给 Date 构造函数。有关有效格式的列表，请参阅[`Date.parse`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/parse)参考[规范](http://www.w3.org/TR/NOTE-datetime)。

允许使用以下格式。第一个从 ES1 开始工作，后者只从 ES5 开始工作（在 IE8 中测试的第 2 行和第 5 行，不支持）：

```
Mon, 25 Dec 1995 13:30:00 GMT
1997-07-16T19:20:30.45+01:00
1997-07-16T19:20:30+01:00
1997-07-16T19:20+01:00
1997-07-16                    (year-month-day)
1997-07
1997 
```

所以，**只有`new Date("25 Dec 1995")`在任何地方都**可以工作（在 IE8、IE9、FF、Chrome
`new Date("1995-12-25")`中测试）除了 IE（在 IE8、IE9、FF、Chrome 中测试）
`new Date("12-25-1995")`在 Chrome 和 IE 中有效，但在 Firefox 中无效。此外，IE（但不是 Chrome）允许日和月溢出，增加下一个最大的度量，但*仅*在解析最后一种格式（MDN 未认可的格式）时。它甚至让年份降至 1900 以下。

# jquery - Google 图表：来自 .json 文件的数据

> ID：14952388
> 
> 赞同：2
> 
> 时间：2013-02-19T07:49:51.980
> 
> 标签：jquery, html, json, google-visualization

我正在尝试使用 .json 文件中的值使用谷歌图表绘制折线图。我已经尝试过，但没有成功。

这是我的 .json 文件

```
[
   {
      "Year":2005,
      "Sales":25000,
   },
   {
      "Year":2006,
      "Sales":25085,
   },
   {
      "Year":2007,
      "Sales":186230,
   },
   {
      "Year":2008,
      "Sales":35036,
   },
   {
      "Year":2009,
      "Sales":15900,
   },
   {
      "Year":2010,
      "Sales":35700,
   }
] 
```

代码

```
 google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(drawChart);

    function loadData(fileName) { 
        // getting json from a remote file
        // by returning the jqXHR object we can use the .done() function on it
        // so the callback gets executed as soon as the request returns successfully
        return $.getJSON( fileName + ".json");
    }

    function drawChart() {
            var myFile = "Data";

        var obj= loadData(myFile);
        var data = google.visualization.arrayToDataTable(obj);

        var options = {
            title: 'Chart Demo'
        };

        var chart = new google.visualization.LineChart(
                    document.getElementById('chart_div'));
        chart.draw(data, options);
     } 
```

错误

```
Error: Not an array
http://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js
Line 2 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T10:42:15.250

试试这个从文件中获取 json 数据。

```
var data = $.ajax({
                 url: "Data",
                 dataType: "json",
                 async: false,
                 }).responseText; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T08:03:00.827

```
// by returning the jqXHR object we can use the .done() function on it
// so the callback gets executed as soon as the request returns successfully 
```

您不使用`.done()`，因此当您传递时，您传递`obj`的是一个`jqXHR`很可能甚至没有获取数据的对象。

* * *

这应该有效：

```
function drawChart() {
    var myFile = "Data";

    //Use getJSON and process the file contents in the callback function
    $.getJSON(myFile + '.json', function(obj) {

        var data = google.visualization.arrayToDataTable(obj);

        var options = {
            title: 'Chart Demo'
        };

        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
        chart.draw(data, options);
    });
} 
```

# wpf - PRISM 零件创建政策非共享/与 MEF 共享

> ID：14952389
> 
> 赞同：0
> 
> 时间：2013-02-19T07:49:54.037
> 
> 标签：wpf, prism, mef, containers, service-locator

我已经`PartCreationPolicy.NonShared`为我的观点设置了，但是对于某些特定的用户我可以使用`CreationPolicy.Shared`（为了提高性能），我不确定它是否可以完成。正如我`ServiceLocator`用来获取视图实例一样。喜欢

`view = ServiceLocator.GetInstance<MyUserControl>("view_contract");`

什么可能是最好的解决方案。我在谷歌上搜索过，我找到了一些解决方案`CompositionContainer.GetExports`，但是

1- 我无法`CompositionContainer`在我的 ViewModel 中获取实例。

2-[在这篇文章](http://mef.codeplex.com/wikipage?title=Querying%20the%20Composition%20Container)中，它写在**GetExport**下

> 导出的 Value 的连续调用将返回相同的实例，无论该部分是否具有共享或非共享生命周期。

请任何人建议最好的解决方案和一些示例代码片段吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T12:50:40.600

据我了解，您有一些“业务逻辑”来区分共享视图和非共享视图（例如，取决于用户的类型）。我认为这不应该在您的 DI 容器中处理...

如果您想通过“prism-style”实现这一点，那么您可以`INavigationAware`在 ViewModel 中使用 prism 界面：视图和 viewModel 是非共享的，您可以通过导航激活/构建它（与 MEF 完美配合）。将“共享”/“非共享”的业务逻辑放入“IsNavigationTarget”方法中。Prism 将自动调用此方法并仅在需要时创建新的视图实例。

这是一些代码：

视图（不要忘记视图名称作为导航目标！）：

```
[Export(Constants.ViewNames.MyFirstViewName)] // The Export Name is only needed for Prism's view navigation.
[PartCreationPolicy(CreationPolicy.NonShared)] // there may be multiple instances of the view => NO singleton!!
public partial class MyFirstView
{ ... } 
```

视图模型：

```
 [PartCreationPolicy(CreationPolicy.NonShared)] 
    [Export]
    public class MyFirstViewModel: Microsoft.Practices.Prism.Regions.INavigationAware
    {
       #region IINavigationAware
        // this interface ships with Prism4 and is used here because there may be multiple instances of the view
        // and all this instances can be targets of navigation.

        /// <summary>
        /// Called when [navigated to].
        /// </summary>
        /// <param name="navigationContext">The navigation context.</param>
        public override void OnNavigatedTo(NavigationContext navigationContext)
        {                    
            ...
        }

        /// <summary>        
        /// </summary>
        public override void OnActivate()
        {
            ...
        }

        /// <summary>
        /// Determines whether [is navigation target] [the specified navigation context].
        /// </summary>
        /// <param name="navigationContext">The navigation context.</param>
        /// <returns>
        ///     <c>true</c> if [is navigation target] [the specified navigation context]; otherwise, <c>false</c>.
        /// </returns>
        public override bool IsNavigationTarget(NavigationContext navigationContext)
        {
            // use any kind of busines logic to find out if you need a new view instance or the existing one. You can also find any specific target view using the navigationContext...
            bool thereCanBeOnlyOneInstance = ...
            return thereCanBeOnlyOneInstance;
        }    

        #endregion
} 
```

# c++ - 在 C++ 中使用星号分割字符串

> ID：14952391
> 
> 赞同：0
> 
> 时间：2013-02-19T07:50:01.540
> 
> 标签：c++, string, split

我必须根据星号（*）拆分字符串。例如，如果我得到一个字符串，`"a*a"`那么我必须得到结果`"a"`，我通过拆分字符串 API 在 C++ 中实现了这个结果。但是如果我得到一个字符串，`"12*12*12*12"`那么我必须得到`"12*12"`结果。我有一个想法来实现这一点，方法是采用中间星位并拆分字符串。是否可以通过 STL 正则表达式或任何其他简单的方式来实现。

谢谢拉姆库马尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T09:16:55.150

在评论之后，我得出结论，`split`在这种情况下不太适合。改为使用`substr`。

```
 int len = str.length();
 string splittedPart = str.substr(len/2 + 1); //second half 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T09:26:19.513

如果你确定你总是会有奇数颗星星，找到中间的那个：

```
std::string input;
std::vector<unsigned> star_positions;

for (unsigned i = 0; i < input.size(); ++i)
{
    if (input[i] == '*')
        star_positions.push_back(i);
}

unsigned split_position = star_positions[star_positions.size()/2];

std::string input_L = input.substr(0, split_position);
std::string input_R = input.substr(split_position+1, input.size()); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T08:08:01.113

为什么不继续在 Star 上拆分并将结果放入向量中。然后您可以轻松地从向量中检索原始字符串的前半部分和后半部分。想想如果你有偶数颗星星会发生什么

# xslt - openerp中的xsl T日期时间操作错误

> ID：14952396
> 
> 赞同：0
> 
> 时间：2013-02-19T07:50:08.747
> 
> 标签：xslt, datetime, openerp

我尝试在日期时间中添加小时，但它返回此错误：“XPath 评估未返回结果。”

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="2.0" 
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:fo="http://www.w3.org/1999/XSL/Format" 
  xmlns:xs="http://www.w3.org/2001/XMLSchema">
<xsl:import href="../../base/report/corporate_defaults.xsl" />
<xsl:template match="/">
<xsl:call-template name="rml" />
<xsl:variable name="dT" as="xs:dateTime"  
  select="xs:dateTime('1995-04-21T00:47:00')"/>
<xsl:variable name="dTD1" as="xs:dayTimeDuration" 
  select="xs:dayTimeDuration('P5DT9H23M12S')"/>
</xsl:template>

<... body .. >

                    <xsl:value-of select="($dT)"/>
                    <xsl:value-of select="($dTD1)"/> 
```

此致，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:26:14.627

我希望错误表明变量 $dT 和 $dTD1 超出范围。它们在模板规则内声明，并在该模板规则外引用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:15:05.193

我相信：

```
<xsl:value-of select="($dT)"/>
<xsl:value-of select="($dTD1)"/> 
```

可以改为：

```
<xsl:value-of select="$dT"/>
<xsl:value-of select="$dTD1"/> 
```

# php - PHP 中的 MySQL：使用变量和 LIMIT 准备和执行查询

> ID：14952398
> 
> 赞同：0
> 
> 时间：2013-02-19T07:50:22.310
> 
> 标签：php, mysql, variables, prepared-statement

我正在尝试创建一个带有变量 LIMIT 值的 MySQL 查询，以在多个页面上显示表结果。这不起作用：

```
// Check the page number
if (isset($_GET["usPage"])) { 
    $treatedPage  = mysql_real_escape_string(strip_tags($_GET["usPage"])); 
} else { 
    $treatedPage=1; 
}
$start_from = ($treatedPage-1) * 20; 
// Prepare MySQL query with a variable depending on page to display
$req = $DB->prepare('SELECT * FROM Table ORDER BY Id ASC LIMIT :MySQL_start_from, 20');
$req->execute(array(
    'MySQL_start_from' => $start_from
    ));
// Fetch result and display array content
$row = $req->fetch();
echo '<pre>';
print_r($row);
echo '</pre>'; 
```

如果我将 :MySQL_start_from 替换为 0，我可以显示行内容。我认为我的问题来自查询中的那个变量。发现任何错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:04:39.977

将您的 PDO 设置为非仿真模式

```
$DB->setAttribute( PDO::ATTR_EMULATE_PREPARES, FALSE); 
```

或绑定你的变量显式设置它的类型为整数使用`bindValue`

当直接从执行 PDO 绑定变量时，会将它们视为字符串，因此您的查询看起来像`ORDER BY Id ASC LIMIT '0', 20')`并导致解析错误。

顺便说一句，要被通知这些错误总是告诉 PDO 抛出一个异常：

```
$DB->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION ); 
```

当然，您必须同时摆脱`mysql_real_escape_string`and `strip_tags`，因为它们在这里毫无用处。

所以最终的代码是

```
//  right after $DB = new PDO...
$DB->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION );
$DB->setAttribute( PDO::ATTR_EMULATE_PREPARES, FALSE);

// and then with your code
if (isset($_GET["usPage"])) { 
    $treatedPage  = $_GET["usPage"]; 
} else { 
    $treatedPage=1; 
}
$start_from = ($treatedPage-1) * 20; 
// Prepare MySQL query with a variable depending on page to display
$req = $DB->prepare('SELECT * FROM Table ORDER BY Id ASC LIMIT ?, 20');
$req->execute(array($start_from));
// Fetch result and display array content
$row = $req->fetch();
echo '<pre>';
print_r($row);
echo '</pre>'; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-19T08:08:58.343

尝试以下面的方式使用：

```
$dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
$sql = "SELECT * FROM table ORDER BY :sort :dir LIMIT :start, :results";
$stmt = $dbh->prepare($sql);
$stmt->bindParam(':start', $_GET['start'], PDO::PARAM_INT);
$stmt->bindParam(':results', $_GET['results'], PDO::PARAM_INT); 
```

# python - 创建双箱线图 - 即每个 x 值有两个箱

> ID：14952401
> 
> 赞同：3
> 
> 时间：2013-02-19T07:50:27.900
> 
> 标签：python, matplotlib, boxplot

我想创建一个箱线图，其中每个 x 值都有两个相邻的箱线图，有点像这样：

![在此处输入图像描述](../Images/2f069cc26e3ea6372338b5982471cadc.png)

这可能吗？如果是这样，我该怎么做？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-19T10:11:15.703

我不知道这种情节是否有名称，但您可以简单地通过使用`pyplot.boxplot`函数并传入位置关键字来稍微移动框来创建它。这是一个例子

```
x = np.array([1000,2000])
data1 = np.array([np.random.normal(loc=0.5,size=100),np.random.normal(loc=1.5,size=100)]).T
data2 = np.array([np.random.normal(loc=2.5,size=100),np.random.normal(loc=0.75,size=100)]).T
plt.figure()
plt.boxplot(data1,0,'',positions=x-100,widths=150)
plt.boxplot(data2,0,'',positions=x+100,widths=150)
plt.xlim(500,2500)
plt.xticks(x)
plt.show() 
```

首先我们为左右框和对应的*x*位置创建两组数据。接下来，我们绘制每组数据，将位置指定为*x*，但分别稍微向左和向右移动。*注意：因为我们的 x 位置相距很远，我们还必须使用`widths`关键字调整宽度。*现在我们设置正确的 x 轴限制，然后最终将 x-tick 位置替换为我们想要的位置。

它产生这个输出：

![在此处输入图像描述](../Images/ccf2141fc47f42ab64eda4976296d9d9.png)

# javascript - 如何将所有模型更新为空

> ID：14952402
> 
> 赞同：0
> 
> 时间：2013-02-19T07:50:36.080
> 
> 标签：javascript, kendo-ui, observable

我有可观察的模型

```
var viewModel = kendo.observable({
        Car: { number: '', color: '' },
}); 
```

我会更新这个模型的所有字段。

现在我这样做了：

```
viewModel.set("Car.number", " ");
viewModel.set("Car.color", " "); 
```

我会在循环中这样做

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:26:16.547

解决方案是创建字符串常量模型（枚举）

```
NAME_FIELD: {
            NUMBER : nameModel + "number", 
            COLOR: nameModel + "color" } 
```

# php - 检查用户是否点击了 Facebook Like 按钮（多个按钮）

> ID：14952415
> 
> 赞同：0
> 
> 时间：2013-02-19T07:51:24.477
> 
> 标签：php, facebook, facebook-like

我已经为这个站点和其他几个站点寻找了一些解决方案，但我仍然看到了一些解决方案，但我无法将它应用到我的问题中。

如果你能帮助我，我会很高兴。

我有这段代码可以生成类似 facebook 的按钮

注意**$fb_link[$i]**是 facebook 粉丝页面的 URL。

```
 for ($i = 0; $i < $ln_arr_linkdesc; $i++) { //Output Tickets
  echo '
    <div class="tick_cont">
      <div class="flike_cont">
        <fb:like href="'. $fb_link[$i] .'" send="false" layout="button_count" width="250" show_faces="true" font="lucida grande"></fb:like>
      </div>
      <div class="ftitle_cont">'. $fb_desc[$i] .'</div>
    </div>
    <div style="clear:both;"></div>
  ';
  } 
```

这就是它的样子。

![在此处输入图像描述](../Images/647b8cc0bf2bdab52e3e06267ef033c6.png)

我的问题是，我无法验证用户是否喜欢按钮，对此没有任何线索。

我的愿望输出应该是

![在此处输入图像描述](../Images/2f259c76736aa728d0dca0c11a6af617.png)

当用户单击 usergamestv 和 Php Academy 时，它会附加到用户单击/喜欢相应页面**的容器下方。**

我已经把**onclick="validate_like();"** 虽然在按钮上，但它不起作用。这东西有什么解决办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:37:55.373

请检查此链接的源代码。[http://www.saschakimmel.com/2010/05/how-to-capture-clicks-on-the-facebook-like-button/](http://www.saschakimmel.com/2010/05/how-to-capture-clicks-on-the-facebook-like-button/)

[这是演示](http://www.saschakimmel.com/fblike.html)

# spreadsheetgear - 带有 SpreadsheetGear2012 的 XLSB - Excel 无法打开文件“test.xlsb”，因为文件格式或文件扩展名无效

> ID：14952417
> 
> 赞同：1
> 
> 时间：2013-02-19T07:51:36.847
> 
> 标签：spreadsheetgear, xlsb

我正在评估 SpreadsheetGear2012，我希望能够打开/保存所有类型的 Excel 文件：.xls、.xlsx、.xlsm 和 .xlsb。除 .xlsb 外，所有扩展都运行良好。

以下是创建简单 .xlsb 文件的代码：

```
 SpreadsheetGear.FileFormat excelFormat = SpreadsheetGear.FileFormat.Excel12;
            SpreadsheetGear.IWorkbookSet workbookSet = SpreadsheetGear.Factory.GetWorkbookSet();

            SpreadsheetGear.IWorkbook workbook = workbookSet.Workbooks.Add(); 

            workbook.SaveAs(@"D:\test.xlsb", excelFormat);

            workbookSet.Workbooks.Close(); 
```

此代码在磁盘上创建文件，但它只有 3KB，如果我尝试手动打开它，我会从标题中得到错误。如果我直接从 Excel 创建一个 .xlsb 文件，它有 12 KB。

这是我在这里想念的东西吗？也许对于 .xlsb 文件我需要设置一些标题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T23:30:42.743

我在 SpreadsheetGear 工作，我认为我可以澄清所有这些问题：Excel12 符号甚至不应该是 SpreadsheetGear.FileFormat 枚举中的选项，因为我们还不支持 XLSB 文件格式。

此符号意外包含在用于 .NET 的 SpreadsheetGear 2012 的 .NET 2.0 版本中（SpreadsheetGear2012.dll）。您会注意到它（正确地）从 .NET 4.0 构建 (SpreadsheetGear2012.Core.dll) 中丢失。鉴于我们从未完全实现过这种文件格式，尝试使用 Excel12 选项无疑会导致意想不到的结果。

此外，我们将从我们产品的未来版本中删除此选项，因此您需要确保删除对它的任何引用。

# amazon-web-services - AWS PHP SDK V2 dynamodb - 如何禁用/启用 ssl

> ID：14952424
> 
> 赞同：1
> 
> 时间：2013-02-19T07:52:09.957
> 
> 标签：amazon-web-services, amazon-dynamodb

使用新的 PHP SDK (V2) 使用 dynamodb 时如何禁用/启用 SSL。

在 V1 中有 $DDB->disable_ssl(); V2 上的等价物是什么？

在文档中找不到任何关于此的内容。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T19:25:10.387

虽然不建议这样做，但您可以通过将`scheme`选项传递给客户端的工厂方法或作为服务构建器中的配置设置来禁用 SSL。

```
<?php

$client = Aws\DynamoDb\DynamoDbClient::factory(array(
  'key'    => '***',
  'secret' => '***',
  'region' => 'us-east-1',
  'scheme' => 'http'
)); 
```

该`scheme`选项确定在创建用于联系服务的基本 URL 时使用的 URL 方案。

# jsrender - 使用具有数组长度的 jsview

> ID：14952431
> 
> 赞同：1
> 
> 时间：2013-02-19T07:52:32.983
> 
> 标签：jsrender, jsviews

我有这个模型：

```
var taskGroups = 
[
   {name:"Notepad", tasks:[]}
]; 
```

我的目标是按以下格式在列表中显示每个任务组：{Name} {numOfTasks}

如果 taskGroup 的 tasks[] 为空，则不应显示。

这是我作为 jsfiddle 的尝试：http: [//jsfiddle.net/ARS2E/](http://jsfiddle.net/ARS2E/)

这是我的模板：

```
<script id="tmpl" type="text/x-jsrender">
   {{if tasks.length}}
      <li class="tasklist-item">{{>name}} ({^{:tasks.length}})</li>
   {{/if}}
</script> 
```

这是我的javascript：

```
var taskGroups = [{name:"Notepad", tasks:[]}];
var lastID=0;

$.templates({ tasklistTemplate: "#tmpl" });
$.link.tasklistTemplate("#tasklist", taskGroups);

$("#btnAdd").on("click", function()
{
    $.observable(taskGroups[0].tasks).insert(0, {taskID:++lastID});
});
$("#btnRemove").on("click", function()
{
    if(taskGroups[0].tasks.length)
    {
        $.observable(taskGroups[0].tasks).remove(0, 1);
    }
}); 
```

我无法让它工作，并且不确定我哪里出错了。我将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T18:01:47.397

两个问题：`First, {{if tasks.length}}`不是数据绑定的。如果你写`{^{if tasks.length}}`它，那么它将是数据绑定的。

其次，在 jsfiddle 你有错误的路径`jsrender.js`- 它不是`jquery.render.js`.

# ios - UIKeyboard 下一个按钮不会转到下一个 UITextField

> ID：14952432
> 
> 赞同：5
> 
> 时间：2013-02-19T07:52:39.170
> 
> 标签：ios, uikeyboard, resignfirstresponder, becomefirstresponder

我一直在试图弄清楚如何让 UIKeyboard 上的下一个按钮加载下一个 UITextField。我有两个单元格，名称和电子邮件我想使用下一个按钮从名称转到电子邮件。

到目前为止，我已经添加

```
//.h
 <UITextFieldDelegate> 
```

然后我这样做是为了尝试将用户从名称传递到电子邮件

```
//.m
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.

    customerNameTextField.delegate = self;
    customerEmailTextField.delegate = self;
//...

- (BOOL)textFieldShouldReturn:(UITextField *)textField {
    if (![customerNameTextField.text isEqualToString:@""]) {
        [customerNameTextField resignFirstResponder];
        [customerEmailTextField becomeFirstResponder];
    } else if (textField == customerEmailTextField) {
        // here you can define what happens
        // when user presses return on the email field
        // send request
    }
    return YES;
} 
```

它进入第一个 if 语句，然后它使用 resignFirstResponder 从屏幕上删除键盘，但随后它不使用 becomeFirstResponder 加载新键盘。任何解决此问题的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-19T08:05:42.663

这将从一个文本字段转到下一个文本字段...

```
-(BOOL)textFieldShouldReturn:(UITextField *)textField
{
    if (textField == ist) {
        [second becomeFirstResponder];
    }
    else if (textField == second) {
        [third becomeFirstResponder];
    }

    else{
        [textField resignFirstResponder];
    }
    return YES;
} 
```

# windows - 如何在 cygwin 中启动 Windows GUI 程序？

> ID：14952433
> 
> 赞同：6
> 
> 时间：2013-02-19T07:52:40.393
> 
> 标签：windows, vim, cygwin

我在我的 Win7 中安装了 gVim，并且我经常使用 cygwin。

当我在 cygwin bashell 中时，我想输入“vim aaa.c”，然后让我的 Windows 程序 gVim 为我打开 aaa.c。

有人会告诉我做什么配置然后这可以工作吗？

直接在 cygwin shell 中键入“记事本”并按 Enter 即可。我知道“记事本”可以在 Windows 的系统变量“路径”中找到，所以它可以工作。我尝试将我的 gVim.exe 的路径添加到系统变量“path”，但它不起作用。

PS：如果您在 cygwin shell 中键入“运行记事本”，它也会启动 Windows 记事本。但是如何让我的 gVim 像“记事本”一样被 cygwin 识别？我不想每次都在 cygwin shell 中输入我的 gVim 的完整安装路径。

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-19T15:01:10.783

最简单的解决方案是在 .bashrc 中添加以下行

`alias vim="/cygdrive/c/Program\ Files\ \(x86\)/vim/vim73/gvim.exe"`

调用`vim`do时`vim foo.txt &`，`&`确保进程在后台运行，因此您的 shell 在进程结束之前仍然可用。

如果您不想`&`每次都键入，请执行以下别名

`alias vim="cygstart /cygdrive/c/Program\ Files\ \(x86\)/vim/vim73/gvim.exe"`

最好的解决方案是安装 cygwin vim 而不是使用 windows 版本。使用 windows one，您将一直与路径转换作斗争。你真的希望它适用于以下所有情况：

```
vim ~/foo
vim /bar
vim $home/abc
vim /cygpath/c/def
vim "c:\ghi" 
```

有一些复杂的 shell 脚本可以帮助缓解这个问题，但我没有遇到任何没有特定警告的脚本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:08:12.190

作为一个快速破解，尝试使用完整的路径名，cygwin 风格，例如`/cygdrive/c/Program\ Files/gVim/gVim.exe`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T12:32:31.900

对我来说，以下工作：

```
$ PATH=/cygdrive/c/Program\ Files\ \(x86\)/vim/vim73:$PATH
$ gvim 
```

您可以添加到 PATH 中`~/.profile`，但添加到 Windows PATH 变量（通过控制面板）也应该有效。（那么请务必使用正常`C:\...`符号。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-12T14:21:45.853

嗯，我很慢。在您的 Windows 机器上，有一个`Cygwin`文件夹，其中包含一个`home`文件夹和您的`username`文件夹。只需打开文件资源管理器并使用 windows gvim 编辑它，然后保存并在 bash 中运行它。没有必要把它变成一个难题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-08-12T14:26:48.413

我刚刚安装了 Cygwin，当我检查我的路径（echo $PATH）时，我发现它基本上继承了 Windows 在其路径中的任何内容......所以如果你的 Windows 路径中有 gvim，你的 Cygwin 路径中有它......这意味着cygstart gvim 将启动 gvim...不需要 hokey 路径问题...我相信您也可以传递命令行参数并在后台运行它...

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-05-24T16:27:57.317

# 对我来说，cygwin 中的命令“运行”有效。它类似于 OSX cli 中的“打开”命令。

这就是我在 .bash_aliases 文件中使用它的方式

```
# Location of Programs in Win10 that are stored under
# Program Files (x86)
alias x86PF='cd "/cygdrive/c/Program Files (x86)"'

# Navigating to the location of Program Files (x86)
# then switching to the Notepad++ dir
# then calling 'notepad++.exe' with the run command.
# Note the use of the && to run multiple commands in one alias assignement

alias notepad++='x86PF && cd Notepad++ && run notepad++.exe' 
```

**使用别名修改文件后，不要忘记获取 .bashrc 的来源**

# android - Eclipse 找不到原始资源

> ID：14952434
> 
> 赞同：0
> 
> 时间：2013-02-19T07:52:44.557
> 
> 标签：android, resources

我在 res/raw 中有一个原始资源，但我无法使用它找到它

```
context.getResources().openRawResource(R.raw.mystore); 
```

但它是在 R 文件中生成的

```
public static final class raw {
    public static final int mystore=0x7f040000;
} 
```

我尝试清理，刷新它，重新启动 Eclipes，但没有任何效果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:57:44.297

确保您导入`yourpackage.R`而不是`android.R`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:57:11.213

试试这个。

`InputStream is = getResources().openRawResource(R.raw.mystore);`

# c# - 将两个或多个项目共享的字符串放置在解决方案中的引用项目中

> ID：14952436
> 
> 赞同：1
> 
> 时间：2013-02-19T07:52:50.503
> 
> 标签：c#

我目前在一个解决方案中有两个项目，它们共享相似的类。为了解决类的共享问题，我在解决方案中创建了第三个项目，两个项目都引用了这些类。现在我已经到了两个项目都需要共享公共字符串的地步。现在我想将这些字符串添加到通用解决方案中，但我不确定如何解决这个问题。我是否应该简单地创建一个类并使用 getter 和 setter 将这些字符串声明为静态？有什么建议么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:54:23.300

您可以使用常量：

```
public static class Constants
{
    public const string Message1 = "Foo bar";
    public const string Message2 = "Baz";
} 
```

然后在消费代码中调用这些常量：

```
string text = Constants.Message1; 
```

或者，您可以考虑使用资源文件。资源文件的优势在于，如果您需要支持多语言应用程序，可以将它们本地化为各种语言。

# c - 在 RAD Studio XE3 中按字母顺序对二维字符数组进行排序

> ID：14952444
> 
> 赞同：1
> 
> 时间：2013-02-19T07:53:19.440
> 
> 标签：c, c++builder

在我尝试要求任何事情之前，我会尽量澄清事情。所以我目前正在高中作为一名程序员学习。最近我的老师让我在 RAD Studio XE3 中创建一个 VCL 表单应用程序，有点像 C 程序，但只有表单和东西。

我必须创建矩阵 N*M（最终是二维字符数组），其中存储有拉丁字符。然后我不得不用插入排序方法对其进行排序。所以到目前为止我所做的是，我定义了数组，我创建了一个 StringGrid1 从中读取这些字符。我将它们存储到二维字符数组中，但对我来说最难的是让它**按字母**顺序对这些字符进行排序，但我不必将所有内容排序在一起，只需将每一行单独排序，然后进行最终更改回到 StringGrid1 （这不是问题）。

正如我之前所说，我在使这种事情发挥作用时遇到了一些重大困难。我已经浏览了十亿个例子，在 Google 上搜索了类似的 AGE。如果这些是整数值，那将一事无成，但我什至无法忍受 C 讨厌 String 值的事情。

我的程序：

[http://i.stack.imgur.com/Brx9X.jpg](http://i.stack.imgur.com/Brx9X.jpg)

这就是我设法从 StringGrid1 字符读取并将它们存储到数组 [i] [j] 中的方式。mmax 和 nmax 用于告诉阅读的距离，因为用户可以自己选择行和列数。

```
 for(int i=0; i < mmax; i++)    //Rindas (kolonnas)
    {
        for(int j=0; j < nmax; j++) //Kolonnas (rindas)
            {
                char * temp = (char*)(StringGrid1->Cells[i][j]).c_str();    //Nolasam no Edit lauka char elementu
                array[i][j] = temp[0];       //Piešķiram masīvam šo elementu
                ListBox1->Items->Add(array[i][j]);    //Ierakstam ListBox1 masīva elementu
                Button3->Enabled = False;
                Button6->Enabled = True;

            }
    }
StringGrid1->Options = StringGrid1->Options >> goEditing;  //Neatļauj lietotājam rediģēt StringGrid1 laukus 
```

所以，现在是排序的事情......我该怎么做？我没有线索了。如何从二维中对字符进行排序，以便每一行都应该单独排序，例如，有 5 行，并且每一行都被一一排序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T02:31:28.327

首先，您没有正确填充数组。这一行：

```
char * temp = (char*)(StringGrid1->Cells[i][j]).c_str(); 
```

从属性中获取一个**临时** 实例，通过其方法获取指向其内部数据的指针，然后在超出范围时**释放**它，使指针悬空，使其在此行无效：`String``Cells``c_str()`**`String`**

```
array[i][j] = temp[0]; 
```

您的数组*恰好*以正确的字符值结束，但这只是因为 a`String`的内部数据被引用计数，并且`TStringGrid`仍然对原始`String`值有活动引用，所以`String`数据还没有从内存中物理释放，所以你的`temp`指针仍然指向仍然存在的原始内存，但这是您不应该依赖的实现细节。

改用这个：

```
String temp = StringGrid1->Cells[i][j];
array[i][j] = temp[1]; // or temp.c_str()[0] 
```

或这个：

```
array[i][j] = StringGrid1->Cells[i][j][1]; // or StringGrid1->Cells[i][j].c_str()[0] 
```

现在，话虽如此，实际的排序逻辑相当简单，特别是如果您使用 STL 为您进行实际排序，例如：

```
#include <algorithm>

for(int i=0; i < mmax; i++)
{
    std::sort(&(array[i][0]), &(array[i][nmax]));
} 
```

如果您需要对排序进行更多控制，可以使用自定义比较功能：

```
#include <algorithm>

bool my_compare(char a, char b)
{
    // return true if the first argument is less than the second, otherwise return false.
}

for(int i=0; i < mmax; i++)
{
    std::sort(&(array[i][0]), &(array[i][nmax]), my_compare);
} 
```

# java - 在 ant 中使用 app bundler 时出现错误

> ID：14952452
> 
> 赞同：1
> 
> 时间：2013-02-19T07:53:53.460
> 
> 标签：java, macos, ant, app-bundle

当我要在 ant 中使用 app bundler 创建 .app 文件时，会出现以下错误：

```
/Users/vijaygupta/NetBeansProjects/Screen Grabber/build.xml:14: Problem: failed to create task or type bundleapp
Cause: The name is undefined.
Action: Check the spelling.
Action: Check that any custom tasks/types have been declared.
Action: Check that any <presetdef>/<macrodef> declarations have taken place. 
```

我的 build.xml 文件是：

```
<?xml version="1.0" encoding="UTF-8"?>
<project name="Screen_Project" default="default" basedir=".">        
<import file="nbproject/build-impl.xml"/>

<taskdef name="Screen_Project"
         classname="com.oracle.appbundler.AppBundlerTask"   
         classpath="lib/appbundler-1.0.jar" />

<target name="ScreenProject">
    <bundleapp outputdirectory="dist"
        name="ScreenProject"
        displayname="ScreenGrabber"
        identifier="Main.MainIconPage"
        mainclassname="Main.MainIconPage">
        <classpath file="dist/Screen_Project.jar" />
    </bundleapp>
</target>

</project> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-11-12T08:21:44.653

问题是您的 build.xml 不包含 bundleapp 标签的 taskdef。从上面的示例中可以清楚地看出，您已将其更改为 Screen_Project，您只需将 taskdef 替换为：

```
<taskdef name="bundleapp"
     classname="com.oracle.appbundler.AppBundlerTask"   
     classpath="lib/appbundler-1.0.jar" /> 
```

# javascript - jquery复选框被选中/取消选中一次，如果我再试一次它就不起作用

> ID：14952453
> 
> 赞同：0
> 
> 时间：2013-02-19T07:53:54.757
> 
> 标签：javascript, jquery, html

请检查[小提琴](http://jsfiddle.net/JPPmA/)

这是代码：

```
$(document).ready(function(){
        $('#main_chk').click(function(){    

            if(this.checked)
            {
                $(".chks").attr('checked', true);
            }
            else
            {
                $(".chks").removeAttr('checked');                                           
            }

        })
}) 
```

它第一次工作（你必须点击第一个复选框）它会切换复选框，但如果你再试一次，它就不起作用

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T08:00:42.127

使用[`.change()`](http://api.jquery.com/change/)and[`.prop()`](http://api.jquery.com/prop/)代替。

```
$(document).ready(function () {
    $('#main_chk').change(function () {
        if (this.checked) {
            $(".chks").prop('checked', true);
        } else {
            $(".chks").prop('checked', false);
        }
    });
}); 
```

此外，您可以将其简化如下。

```
$(document).ready(function () {
    $('#main_chk').change(function () {
        $(".chks").prop('checked', this.checked);
    })
}) 
```

[在这里查看一个活生生的例子。](http://jsfiddle.net/tZeqm/)

**注意：**属性`id`必须是唯一的，请修正您的 HTML 标记。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T08:02:13.750

你可以试试这个：http: [//jsfiddle.net/6bKyq/](http://jsfiddle.net/6bKyq/)

```
 $(document).ready(function(){
    $('#main_chk').click(function(){    
        $(".chks").prop('checked', this.checked);
    });
 }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T08:04:09.877

首先..您的 html 无效，因为您有多个具有相同名称的 id...ID 应该始终是唯一的.. 将您的所有 id 更改为 class..

其次你可以使用 prop();

```
 $('#main_chk').click(function(){   

    if(this.checked)
    {
      $(".chks").prop('checked', true);
    }
    else
    {
       $(".chks").prop('checked',false);                                            
    }

 }) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T08:02:53.653

您可以使用 ：

```
$('#main_chk').mousedown(function() {
 if (!$(this).is(':checked')) {
     $(this).trigger("change");
 }
}); 
```

# asp.net - WebAPI 是否包含 OData？

> ID：14952454
> 
> 赞同：0
> 
> 时间：2013-02-19T07:53:58.717
> 
> 标签：asp.net, asp.net-web-api, odata

我有点困惑。

这篇文章 ( [http://codebetter.com/johnvpetersen/2012/03/22/bringing-odata-to-your-webapi-just-use-iqueryable/](http://codebetter.com/johnvpetersen/2012/03/22/bringing-odata-to-your-webapi-just-use-iqueryable/) ) 说支持 OData 所需要做的就是改变IEnumerable 到 IQuerable 的返回类型。

我在其他地方读到我必须包含 OData 包 ( [http://www.nuget.org/packages/microsoft.aspnet.webapi.odata](http://www.nuget.org/packages/microsoft.aspnet.webapi.odata) ) 以便在我的 WebAPI 项目中支持 OData。

它是哪一个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:14:59.827

你需要这个包。看看[`following tutorial`](http://www.asp.net/web-api/overview/odata-support-in-aspnet-web-api/getting-started-with-odata-in-web-api/create-a-read-only-odata-endpoint)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T19:21:39.133

第一个版本的 OData 功能非常有限。ASP.NET 2012.2 扩展了这些功能。从技术上讲，两者都没有提供 OData V3 规范中描述的所有功能。

# asp.net-mvc-3 - ObjectContext.SavingChanges 中的当前用户身份

> ID：14952457
> 
> 赞同：0
> 
> 时间：2013-02-19T07:54:01.590
> 
> 标签：asp.net-mvc-3, entity-framework, httpcontext

我正在使用`ObjectContext.SavingChanges`事件根据对象状态更新 CreatedDate/UpdatedDate 列，如下所示

```
partial void OnContextCreated()
{
   //Extension of the Command Timeout to avoid processing problems.
   CommandTimeout = 600; //Time in seconds

   this.SavingChanges += new EventHandler(Entities_SavingChanges);
}

protected void Entities_SavingChanges(object sender, EventArgs e)
{
   var addedObjects = this.ObjectStateManager.GetObjectStateEntries(System.Data.EntityState.Added);
   foreach (var addedObject in addedObjects)
   {
      var propertyInfo = addedObject.Entity.GetType().GetProperty("CreatedDate");
      if (propertyInfo != null)
      {
         propertyInfo.SetValue(addedObject.Entity, DateTime.UtcNow, null);
      }
    }

    var modifiedObjects = this.ObjectStateManager.GetObjectStateEntries(System.Data.EntityState.Modified);
    foreach (var modifiedObject in modifiedObjects)
    {
       var propertyInfo = modifiedObject.Entity.GetType().GetProperty("UpdatedDate");
       if (propertyInfo != null)
       {
          propertyInfo.SetValue(modifiedObject.Entity, DateTime.UtcNow, null);
       }
    }
} 
```

我还有两列 CreatedUser 和 UpdatedUser。

有没有办法从上下文中更新那些使用当前用户名的人？

Ofcource，`System.HttpContext.Current`这里为空，因为这是我通过 WCF 服务访问的单独的类库项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:58:24.507

如果此代码驻留在您从 ASP.NET MVC 应用程序使用的 WCF 服务中，您可以将当前用户名作为参数发送给您正在调用的方法。

# linux - 用于读写和可执行权限的linux命令

> ID：14952460
> 
> 赞同：0
> 
> 时间：2013-02-19T07:54:13.933
> 
> 标签：linux, permissions, command, read-write

我在 linux box 上选择一些路径进行安装。例如 /var/test/installer 如何检查该路径是否有读、写和执行权限？

我确实尝试过“查找命令”，但没有取得很大成功。

伙计们，做“ls -l”对我没有帮助。这是一个真正的问题......我的 /var 分区没有执行权限。我可以通过使用“mount”命令来看到，即 > mount /dev/sda1 on /var type ext3 (rw,noexec,nosuid,nodev,noatime)

但 ls -l 用于 /var 下的任何文件夹，即。/var/test/install 显示读取、写入和执行权限。

所以我看到了用 grep 安装命令来检查 noexec 的唯一方法。

你的意见。

提前致谢。

================================================

我最终所理解的是我必须检查两个级别的权限

1.  挂载点的权限

    使用“mount”命令或检查 /etc/fstab 文件

2.  单个文件夹的权限

    使用“ls -l”命令

这解决了我的问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T08:05:17.987

看看`test`命令

从手册页

```
 -c FILE
          FILE exists and is character special

       -d FILE
          FILE exists and is a directory

       -e FILE
          FILE exists

       -f FILE
          FILE exists and is a regular file

       -g FILE
          FILE exists and is set-group-ID

       -G FILE
          FILE exists and is owned by the effective group ID

       -h FILE
          FILE exists and is a symbolic link (same as -L)

       -k FILE
          FILE exists and has its sticky bit set

       -L FILE
          FILE exists and is a symbolic link (same as -h)

       -O FILE
          FILE exists and is owned by the effective user ID

       -p FILE
          FILE exists and is a named pipe

       -r FILE
          FILE exists and read permission is granted

       -s FILE
          FILE exists and has a size greater than zero

       -S FILE
          FILE exists and is a socket

       -t FD  file descriptor FD is opened on a terminal

       -u FILE
          FILE exists and its set-user-ID bit is set

       -w FILE
          FILE exists and write permission is granted

       -x FILE
          FILE exists and execute (or search) permission is granted 
```

[一个好的手册页](http://unixhelp.ed.ac.uk/CGI/man-cgi?test)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T09:06:08.010

```
ls -la /path/

Sample Output:
-rw-r--r-- 1 eclipse adm 14112 Feb 18 08:49 st433.dat
-rw-r--r-- 1 eclipse adm 24700 Feb 18 08:49 st433.lst
-rw-r--r-- 1 eclipse adm 14112 Feb 18 08:49 st434.dat
-rw-r--r-- 1 eclipse adm 24624 Feb 18 08:49 st434.lst 
```

解释权限位：
-rw-r--r--
0123456789

可以看到文件列表属于用户eclipse和组adm

第一位 0 是一种特殊情况，普通文件为空白，目录等为空白，与权限无关。

位 123 定义所有者权限（在本例中为 eclipse 用户）。rw- 表示用户 eclipse 可以读取或写入这些文件。

位 456 是组权限，因此在这种情况下 (r--) 属于组 adm 的任何其他人都可以读取但不能修改上述文件。

位 789 是“其他人”的权限，因此其他用户也可以读取该文件，但不可写入。

rwx rwx rwx
USER GROUP OTHERS
读/写/执行权限

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T08:31:47.853

如果该`test`命令不是您的事，也许[`stat(1)`](http://linux.die.net/man/1/stat)可以帮助您：

```
[joe@hal ~]$ stat --format='%A' /etc/passwd # access rights in human readable form
-rw-r--r--
[joe@hal ~]$ stat --format='%a' /etc/passwd # access rights in octal
644
[joe@hal ~]$ stat --format='%f' /etc/passwd # raw mode in hex
81a4 
```

十六进制的 81a4 是八进制的 100644。

手册页说明了[`chmod(1)`](http://linux.die.net/man/1/chmod)如何解释文件模式：

> 字母 rwxXst 为受影响的用户选择文件模式位：读（r）、写（w）、执行（或搜索目录）（x）、仅当文件是目录或已经对某些文件具有执行权限时才执行/搜索用户 (X)，在执行时设置用户或组 ID (s)，限制删除标志或粘性位 (t)。除了这些字母中的一个或多个，您可以精确地指定一个字母 ugo：授予拥有文件的用户 (u) 的权限，授予作为文件组成员的其他用户的权限 (g)，以及授予不属于上述两个类别的用户的权限 (o)。
> 
> 数字模式是从一​​到四个八进制数字 (0-7)，通过将具有值 4、2 和 1 的位相加得出。省略的数字假定为前导零。第一个数字选择设置用户 ID (4) 和设置组 ID (2) 以及限制删除或粘性 (1) 属性。第二个数字选择拥有该文件的用户的权限：读取 (4)、写入 (2) 和执行 (1)；第三个选择文件组中其他用户的权限，具有相同的值；第四个用于不在文件组中的其他用户，具有相同的值。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-19T08:01:41.440

试试 ls -l [file_name] 看[这里](http://www.cyberciti.biz/faq/howto-linux-bsd-listing-permissions-of-file/)

# css - chrome中的文本渲染

> ID：14952464
> 
> 赞同：0
> 
> 时间：2013-02-19T07:54:24.007
> 
> 标签：css

我们如何才能仅对 css 中的特定类使用文本渲染 * { text-rendering:optimizelegibility;

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:55:55.770

```
.classname{
       text-rendering: optimizelegibility;
   } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:56:10.213

`*`是[通用选择器](http://www.w3.org/TR/selectors/#universal-selector)。不合格，它匹配所有元素。

使用类（或任何其他有效的 CSS）选择器：

```
/* match a class name */
.my-class { text-rendering: optimizelegibility; }

/* match an element ID */
#my-id { text-rendering: optimizelegibility; }

/* match all P elements inside any element with a class name */
.my-class P { text-rendering: optimizelegibility; } 
```

也可以看看：

*   [CSS 3 选择器](http://www.w3.org/TR/selectors/#selectors)
*   [文本渲染](https://developer.mozilla.org/en-US/docs/CSS/text-rendering)

# jquery - 如何更改 TimePicker 位置？

> ID：14952466
> 
> 赞同：2
> 
> 时间：2013-02-19T07:54:32.557
> 
> 标签：jquery, html, jquery-ui, timepicker

我将 jquery 1.6.4 用于 timePicker。TimePicker 工作正常，但我想更改 timePicker 的位置。每当我在 textBox 中单击以打开 timePicker 时，它都会在移动应用程序屏幕之外的右侧打开。那么我怎样才能改变它的位置呢？

```
<script type="text/javascript"> 
$(document).ready(function(){ 
    $('#sample1 input').ptTimeSelect();
}); 
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:43:47.593

我在 JSFiddle 上试过这个，对我来说它在文本框下方打开。

[http://jsfiddle.net/aiioo7/XNgWB/](http://jsfiddle.net/adiioo7/XNgWB/)

但是如果这个问题仍然存在，您可以使用 containerClass 属性并定义您的 css 来定位日期对话框。

```
$(document).ready(function(){ 
    $("#sample1").ptTimeSelect({containerClass:"test"});
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T08:53:34.733

这就是你需要的。

[http://jsfiddle.net/sgbHk/1/](http://jsfiddle.net/sgbHk/1/)

```
$.extend($.datepicker,{_checkOffset:function(inst,offset,isFixed){offset.top = 0;   offset.left=-100; return offset;}});
$(document).ready(function(){ 
$('#sample').datetimepicker();
}); 
```

您必须扩展 jQuery 的 datePicker 默认设置，以便您设置的偏移量在`extend`函数中，只需更改`offset.left`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:21:41.960

请尝试改变textBox的位置，以便timePicker的位置会自动改变。

# javascript - 如何使用javascript禁用特定div的鼠标左键单击？

> ID：14952471
> 
> 赞同：0
> 
> 时间：2013-02-19T07:54:54.510
> 
> 标签：javascript, jquery, asp.net, mouse, mouseleftbuttondown

我想禁用特定**div**的左键单击。我尝试了以下方法，但对我不起作用：

```
$('[id$=div]').onclick=function(){xajax_addFunction()}; 
```

它是**document.ready()**。它抛出**未定义 xajax_addFunction()**的错误。请帮我。我的代码是：

用于翻转的 Javascript：

```
<script type="text/javascript">

    document.oncontextmenu = new Function("return false")

    var myArray = [];
    var Book_Image_Width = screen.width;
    var Book_Image_Height = screen.height;

    $(document).ready(function (e) {

        var BookId = getParameterByName('BookID');

        ShowImages(BookId);

    });

    function divActive(divId) {
        var div = document.getElementById(divId);
        // div.style.backgroundImage = "url(img/gif/button_add.gif)";
        div.style.cursor = "pointer";
        div.onclick = function () { xajax_addFunction() };
    }

    function getParameterByName(name) {
        name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
        var regexS = "[\\?&]" + name + "=([^&#]*)";
        var regex = new RegExp(regexS);
        var results = regex.exec(window.location.search);
        if (results == null)
            return "";
        else
            return decodeURIComponent(results[1].replace(/\+/g, " "));
    }

    function ShowImages(QueryString) {
        var Append = '';
        $.ajax({
            type: "POST",
            url: "FlipBook.aspx/Test",
            data: "{QueryString:'" + QueryString + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {
                ImageBook(data);
            }
        });
    }
    //var firstimg = $('[id$=]')
    $('[id$=divBook]').live('click', function (e) {
        alert('hi');
        e.preventDefault();
        return false;
    });
    // 7 variables to control behavior
    var Book_Image_Width = 324;
    var Book_Image_Height = 500;
    var Book_Border = false;
    var Book_Border_Color = "gray";
    var Book_Speed = 15;
    var Book_NextPage_Delay = 2000;
    var Book_Vertical_Turn = 0;
    var skip = 0;
    var Book_Image_Sources;

    var B_LI, B_MI, B_RI, B_TI, B_Angle = 0, B_CrImg = 6, B_MaxW, B_Direction = 1;
    var B_MSz, B_Stppd = false;
    var B_Permanent_Stppd = false;
    var lastImgIndex = 1;
    var flipStopPoint;

    function ImageBook(data) {

        var test = data.d.split(',').slice(0, -1);
        for (var i = 0; i < test.length; i++) {
            myArray[i] = test[i];
        }
        myArray = test;

        Book_Image_Sources = myArray;
        B_Pre_Img = new Array(Book_Image_Sources.length);

        flipStopPoint = ((Book_Image_Sources.length / 4) - 1) * 50;

        /**Swap Array**/
        for (i = 0; i < Book_Image_Sources.length; i += 2) {
            if (i > 3) {
                if (i != skip) {
                    temp = Book_Image_Sources[i];
                    Book_Image_Sources[i] = Book_Image_Sources[i + 2];
                    Book_Image_Sources[i + 2] = temp;
                    skip = i + 2;
                }
            }
        }

        if (document.getElementById) {
            for (i = 0; i < Book_Image_Sources.length; i += 2) {
                B_Pre_Img[i] = new Image();
                B_Pre_Img[i].src = Book_Image_Sources[i]
            }
            Book_Div = document.getElementById("divBook");
            //Book_Div.removeEventListener('click')
            B_LI = document.createElement("img"); Book_Div.appendChild(B_LI);
            B_RI = document.createElement("img"); Book_Div.appendChild(B_RI);
            B_MI = document.createElement("img"); Book_Div.appendChild(B_MI);
            B_LI.style.position = B_MI.style.position = B_RI.style.position = "absolute";
            B_LI.style.zIndex = B_RI.style.zIndex = 0; B_MI.style.zIndex = 1;
            B_LI.style.top = (Book_Vertical_Turn ? Book_Image_Height + 1 : 0) + "px";
            B_LI.style.left = 0 + "px";
            B_MI.style.top = 0 + "px";
            B_MI.style.left = (Book_Vertical_Turn ? 0 : Book_Image_Width + 1) + "px";
            B_RI.style.top = 0 + "px";
            B_RI.style.left = (Book_Vertical_Turn ? 0 : Book_Image_Width + 1) + "px";
            B_LI.style.height = Book_Image_Height + "px";
            B_MI.style.height = Book_Image_Height + "px";
            B_RI.style.height = Book_Image_Height + "px";
            B_LI.style.width = Book_Image_Width + "px";
            B_MI.style.width = Book_Image_Width + "px";
            B_RI.style.width = Book_Image_Width + "px";
            if (Book_Border) {
                B_LI.style.borderStyle = B_MI.style.borderStyle = B_RI.style.borderStyle = "solid";
                B_LI.style.borderWidth = 1 + "px";
                B_MI.style.borderWidth = 1 + "px";
                B_RI.style.borderWidth = 1 + "px";
                B_LI.style.borderColor = B_MI.style.borderColor = B_RI.style.borderColor = Book_Border_Color
            }

            B_LI.src = B_Pre_Img[0].src;
            B_LI.lnk = Book_Image_Sources[1];
            B_MI.src = B_Pre_Img[2].src;
            B_MI.lnk = Book_Image_Sources[3];
            B_RI.src = B_Pre_Img[4].src;
            B_RI.lnk = Book_Image_Sources[5];
            B_LI.onclick = B_MI.onclick = B_RI.onclick = B_LdLnk;
            //B_LI.onmouseover = B_MI.onmouseover = B_RI.onmouseover = B_Stp;
            //B_LI.onmouseout = B_MI.onmouseout = B_RI.onmouseout = B_Rstrt;
            setTimeout(function () { BookImages(); }, 2000);

        }
    }

    function BookImages() {
        if (!B_Stppd && lastImgIndex < flipStopPoint) {
            lastImgIndex = lastImgIndex + 1;
            if (Book_Vertical_Turn) {
                B_MSz = Math.abs(Math.round(Math.cos(B_Angle) * Book_Image_Height));
                MidOffset = !B_Direction ? Book_Image_Height + 1 : Book_Image_Height - B_MSz;
                B_MI.style.top = MidOffset + "px";
                B_MI.style.height = B_MSz + "px"
            }
            else {
                B_MSz = Math.abs(Math.round(Math.cos(B_Angle) * Book_Image_Width));
                MidOffset = B_Direction ? Book_Image_Width + 1 : Book_Image_Width - B_MSz;
                B_MI.style.left = MidOffset + "px";
                B_MI.style.width = B_MSz + "px"
            }
            B_Angle += Book_Speed / 720 * Math.PI;
            if (B_Angle >= Math.PI / 2 && B_Direction) {
                B_Direction = 0;
                if (B_CrImg == Book_Image_Sources.length) B_CrImg = 0;
                B_MI.src = B_Pre_Img[B_CrImg].src;
                B_MI.lnk = Book_Image_Sources[B_CrImg + 1];
                B_CrImg += 2
            }
            if (B_Angle >= Math.PI) {
                B_Direction = 1;
                B_TI = B_LI;
                B_LI = B_MI;
                B_MI = B_TI;
                if (Book_Vertical_Turn) B_MI.style.top = 0 + "px";
                else B_MI.style.left = Book_Image_Width + 1 + "px";
                B_MI.src = B_RI.src;
                B_MI.lnk = B_RI.lnk;

                setTimeout("Book_Next_Delay()", Book_NextPage_Delay)
            }
            else setTimeout("BookImages()", 50)
        }
        else setTimeout("BookImages()", 50)
    }

    function Book_Next_Delay() {
        if (B_CrImg == Book_Image_Sources.length) B_CrImg = 0;
        B_RI.src = B_Pre_Img[B_CrImg].src;
        B_RI.lnk = Book_Image_Sources[B_CrImg + 1];
        B_MI.style.zIndex = 2;
        B_LI.style.zIndex = 1;
        B_Angle = 0;
        B_CrImg += 2;
        setTimeout("BookImages()", 50)
    }

    function B_LdLnk() { if (this.lnk) window.location.href = this.lnk }
    function B_Stp() { B_Stppd = true; this.style.cursor = this.lnk ? "pointer" : "default" }
    function B_Rstrt() { B_Stppd = false }
</script> 
```

HTML代码是：

```
<div id="divBook" style="position: relative">
    <input type="hidden" runat="server" id="htmlHiddenImageOrder" />
</div> 
```

我正在动态绑定图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T20:35:06.350

在这里，这应该更简单一点：

```
<style type='text/css'>
#innerDiv {
    display:inline-block;
    background-color: #999;
}

#outerDiv {
    background-color: #444;
}
</style>

<div id='outerDiv'>
    outerDiv: click works here
    <div id='innerDiv'>innerDiv: click doesn't work here</div><br />
    outerDiv: click works here</div>

<script type='text/javascript'> 

$(function () {  //short hand for window.onLoad or $(document).ready()
    $('#outerDiv').on('mousedown', function (event) {
        alert('outerDiv: mousebutton fired');
    });

    $('#innerDiv').on('mousedown', function (event) {
       // all browsers except IE before version 9        // Internet Explorer before version 9
       if ((('which' in event) && (event.which == 1)) || (('button' in event) && (event.button == 1))) {
           alert ('innerDiv: Left button is pressed inside');
           return false; //prevent bubbling and default action
       } else {
           alert('innerDiv: NOT-LEFT button is pressed inside');   
       }
    });
});

</script> 
```

如果在内部 div 中单击左键，则会触发内部 div 左键消息，并且事件将停止冒泡。如果在内部 div 内按下右键，“NOT-LEFT”警报消息将触发并且事件将冒泡。

我选择`return false;`阻止默认操作并阻止事件冒泡。

首先，我想引导您阅读[Dottoro](http://help.dottoro.com/lagstsiq.php/#MouseEvent_Members) Web Reference 中有关鼠标事件的页面，以便您了解事件对象以及为什么我同时使用 event.button 和 event.which。

接下来，[这](http://help.dottoro.com/ljwcseaq.php)是一个描述单击鼠标时事件顺序的页面。也来自 Dottoro Web Reference。您可以看到该事件处于可取消状态，并且确实会冒泡到父节点。

最后，我想让你知道 , , 之间的区别，所以`return false`我会引导你到[这里](http://dev-tricks.com/event-preventdefault-and-event-stoppropagation-and-event-stopimmediatepropagation/)找出区别。`event.preventDefault()``event.stopImmediatePropagation()``event.stopPropagation()`

干杯和良好的阅读。

几点注意事项

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:17:24.743

尝试这个，

```
(function($){
  $(document).ready(function () {
     $("#divBook")
     .mousedown(function (event) {
        var clickVar = (navigator.appName == "Netscape" || navigator.appName == "Opera") ? 0 : 1;
        if (event.button == clickVar) {                
            event.preventDefault();
            $(this).unbind('click');
        }
    });
 });

})(jQuery); 
```

# mongodb - Mongo：当数组中的id（不是对象数组）时如何从id数组中选择

> ID：14952474
> 
> 赞同：-1
> 
> 时间：2013-02-19T07:55:15.380
> 
> 标签：mongodb

```
{ members : [ ObjectId("one"), ObjectId("two") ]} 
```

我想选择“一个”是否在成员中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:30:01.773

```
db.collection.aggregate([{$unwind: '$members'}, {$match: {members: ObjectId("one")}}]) 
```

在这种情况下，您将获得所有具有成员 1 的文件。您可以使用第一个 $match 条件或/和 $limit：

```
db.collection.aggregate([{$match: {<expr>}}, {$unwind: '$members'}, {$match: {members: ObjectId("one")}}, {$limit: 1}]) 
```

您将拥有带有对象的结果数组，但它使用起来很简单。但我认为这是肮脏的黑客:)

# php - 弹出加载不起作用

> ID：14952481
> 
> 赞同：0
> 
> 时间：2013-02-19T07:55:50.433
> 
> 标签：php, javascript

我有一个弹出提交表单，一旦我提交它应该使用 window.load 方法将弹出窗口加载到我的当前窗口中。问题是我总是被重定向到那个窗口（imagine_decupare.php），而不是让那个窗口作为弹出窗口加载到我当前的窗口中。关于为什么的任何想法？

```
function hide_popup(id){
            if (document.getElementById){
                obj = document.getElementById(id);
                if (obj.style.display == ""){
                        obj.style.display = "none";
                }
            }
    }

    function poponload(){
            testwindow = window.open("decupare_imagine.php","mywindow","location=0,status=1,scrollbars=1,width=100,height=100");
            testwindow.moveTo(0, 0);
        }

    <form action="decupare_imagine.php" method="post" >
                                                        <input type="text" name="alt-rol" value="<?php echo $data[1];?>" style="display:none;" /> 

                                                        <a href="javascript:hide_popup('my_popup<?=$data[1]?>')"  style="width:5%;float:left;margin: 0 0 0 90%"><img src="../images/icon_error.gif"> </a>
                                                        <div class="radio_pop">
                                                        //some data to be sent      
                                                        </div>
                                                        <input type="submit" value="Tip imagine" class="buton_imagine" onclick="javascript:hide_popup('my_popup<?=$data[1]?>');" onsubmit="javascript: poponload()" style="width:100%;float:left;" />
    </form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:08:51.437

而不是像这样在输入上添加 onsubmit ：

```
<input type="submit" value="Tip imagine" class="buton_imagine"  
 onclick="javascript:hide_popup('my_popup<?=$data[1]?>');" 
 onsubmit="javascript: poponload()" style="width:100%;float:left;" />
</form> 
```

改为填写表格

```
<form action="decupare_imagine.php" method="post" 
onsubmit="javascript: poponload()">....</form> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:03:33.847

你没有调用`poponload`函数！把这个放在`body`标签里。

```
<body onload="poponload()"> 
```

# jenkins - 在 opwenshift 上设置 jenkins 作业而不在 openshift 上创建 repo

> ID：14952486
> 
> 赞同：0
> 
> 时间：2013-02-19T07:56:04.377
> 
> 标签：jenkins, openshift

我必须做与以下相同的事情。1\. 只需为 jenkins 创建一个装备。2\. 在 jenkins 中创建作业以从 github/bitbucket 获取。3\. 构建

[https://openshift.redhat.com/community/forums/openshift/jenkins-stuff](https://openshift.redhat.com/community/forums/openshift/jenkins-stuff)

问题是我收到“主机密钥验证失败”，因为 git 签出 ssh 密钥时未添加。

因此，我进行了搜索并按照 [https://openshift.redhat.com/community/forums/openshift/jenkins-stuff中提到的步骤进行操作](https://openshift.redhat.com/community/forums/openshift/jenkins-stuff)

1.  转到 $OPENSHIFT_DATA_DIR

2.  创建 wrapper.sh

    ID_RSA="$OPENSHIFT_DATA_DIR/.ssh/jenkins_id_rsa" ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i $ID_RSA $1 $2

3.  在 .bash_profile 中导出 GIT_SSH 环境变量

    导出 GIT_SSH=/var/lib/openshift//app-root/data/wrapper.sh

现在，在詹金斯我仍然遇到同样的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-21T19:36:35.627

你的 wrapper.sh 是可执行文件吗？用 .标记它是可执行的`chmod +x wrapper.sh`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-09T18:57:46.753

没有号码。

/var/lib/openshift/<**数字**>/app-root/data

```
export GIT_SSH=$OPENSHIFT_DATA_DIR/wrapper.sh 
```

或者

```
>rhc env-set -a jenkins GIT_SSH=$OPENSHIFT_DATA_DIR/wrapper.sh 
```

# c# - 如何在 .Net MVC 中为每个区域配置一个菜单以及布局的其他区域特定变量

> ID：14952489
> 
> 赞同：1
> 
> 时间：2013-02-19T07:56:11.107
> 
> 标签：c#, razor, asp.net-mvc-4, asp.net-mvc-areas

我正在.Net MVC 4 中开发一个相当大的应用程序，其中我有一个主菜单来导航区域和一个子菜单来导航一个区域的组件。

显然，这个子菜单在每个区域都是不同的，目前我已经使用 Viewbag “解决”了这个问题。

我有一个带有一些抽象方法的主控制器：

```
public abstract class BaseController: Controller
{
    protected abstract string GetMenu();

    protected override sealed void OnResultExecuting(ResultExecutingContext filterContext)
    { 
        ViewBag.Menu = GetMenu();
        base.OnResultExecuting(filterContext);
    }
} 
```

并且每个区域也都有其基本控制器，并带有以下声明

```
public abstract class Area1Controller: BaseController
{
    protected string GetMenu() 
    {
        return "MenuNameForArea1";
    }
} 
```

在我的 _Layout 中，我只需像这样访问菜单：

```
@{
    var menu = ViewBag.Menu as string;
    if (menu != null)
    {
        Html.RenderPartial(menu);
    }
} 
```

现在的问题是，有相当多的变量加入了“需要在 _Layout 页面上显示但每个区域不同的东西”的包中。

所以我想知道解决这个问题的最佳解决方案是什么。我是否为 _Layout 页面制作 ViewModel？我是否将该 ViewModel 放在 ViewBag 中，还是强制每个 viewmodel 从基本 viewmodel 继承？

由于每个区域都有其单独的 _Viewstart，我曾想过使用部分以类型安全的方式解决此问题，但不幸的是，我似乎无法在 _Viewstart 中定义部分。

建议将非常受欢迎。

额外的问题：什么是一个好的解决方案：

*   在主菜单中显示当前活动区域（每个区域配置一次）
*   在子菜单中显示当前活动的项目（每个控制器配置一次，但应该可以覆盖特定的东西）

# javascript - 我可以在该模块的第二个定义中访问 Marionette 模块的私有变量吗？

> ID：14952491
> 
> 赞同：2
> 
> 时间：2013-02-19T07:56:21.933
> 
> 标签：javascript, backbone.js, marionette

Marionette 允许您将模块的定义拆分到单独的文件中。

是否可以从模块的第二部分访问在模块的一部分中定义的私有变量或函数？例如：

```
//in module1.js
App.module("MyModule", function(MyModule, App, Backbone...){
    myPrivateVar = 0;
}

//in module2.js
App.module("MyModule", function(MyModule, App, Backbone...){
    var myPrivateFunction = function(){
        if (myPrivateVar>0){
            //do something
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T09:34:35.517

你不能。这绝不是木偶特有的。

javascript中的变量是函数范围的。换句话说，在函数内声明的任何变量都只能在该函数内使用。

定义假私有变量（实际上是公共的）的一个常见约定是在名称前加上下划线：

```
//in module1.js
App.module("MyModule", function(MyModule, App, Backbone...){
    MyModule._myPrivateVar = 0;
});

//in module2.js
App.module("MyModule", function(MyModule, App, Backbone...){
    var myPrivateVar = MyModule._myPrivateVar;
    var myPrivateFunction = function(){
        if (myPrivateVar>0){
            //do something
        }
    }
}); 
```

`_`不从模块外部访问 -prefixed 变量的勤奋取决于您。您还应该注意模块的加载顺序：为了`_myPrivateVar`被定义，module1.js 需要在 module2.js 之前加载。

# c# - 如何将 IP 地址绑定到我的 Azure Web 角色，以便远程计算机可以全局访问 Web API？

> ID：14952494
> 
> 赞同：3
> 
> 时间：2013-02-19T07:56:37.437
> 
> 标签：c#, iis, azure, iis-express, azure-web-roles

我的 Azure 应用程序的 Web 角色具有我想通过远程计算机访问的 Web API。通常，如果我只是在 iis express 的 applicationhost.config 文件中将绑定添加到我的网站，它应该可以工作。但对于 Windows Azure 项目，模拟器将 web 角色附加到 iis express 并提供默认 URL“127.255.0.0:82”。

现在如何将 IP 地址绑定到我的网络角色？或者我如何从远程计算机访问我的 API？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T13:11:09.480

Development Fabric 使用环回地址来托管 Windows Azure 角色，因此没有默认方式可以从远程计算机访问这些服务。

看看这里： http: [//blog.sacaluta.com/2012/03/windows-azure-dev-fabric-access-it.html](http://blog.sacaluta.com/2012/03/windows-azure-dev-fabric-access-it.html) Rodrigo De Castro 提出了一个端口映射，以使在 dev 结构中托管的 Web 角色可访问远程计算机。

我自己还没有尝试过，但听起来很有希望。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-31T15:33:21.337

我正在使用[一种更简单的方法从另一台计算机访问 Windows Azure 本地开发结构](http://blog.sacaluta.com/2012/03/windows-azure-dev-fabric-access-it.html)。与[RINETD](http://www.boutell.com/rinetd/)和[serviceex](http://serviceex.com/)。工具和方法的完美结合。

我还成功地将编辑绑定作为我的 IIS（不是 IIS Express）的[临时解决方法。](http://renouncedthoughts.wordpress.com/2013/12/31/add-bindings-to-your-azure-role-in-azure-compute-emulator/)[*下图为原始分辨率*](http://renouncedthoughts.files.wordpress.com/2013/12/untitled_clipping_123113_083620_pm.jpg)。

![在此处输入图像描述](../Images/e3bf60cd23e46b631a05f2106d373af7.png)

# qmail - 是否可以将邮件从 qmail 路由到 postfix

> ID：14952496
> 
> 赞同：-1
> 
> 时间：2013-02-19T07:56:42.573
> 
> 标签：qmail

由于一些垃圾邮件活动，我的服务器 IP 被列入黑名单。为了避免将其列入黑名单，我计划将来自未知 id 的所有邮件路由到通过 postfix 路由（postfix 具有发件人阻塞功能并保留 qmail 没有的队列）

这些主要是与 qmail-remote 相关的邮件（外发邮件），因此可能是 qmail-remote 中的黑客调用后缀。

任何想法/建议都受到热烈欢迎。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:56:38.503

由于权限问题，无法将邮件从 qmail 队列切换到 postfix。如果发件人被列入黑名单，我们可以在 qmail-remote 中进行 hack 来路由邮件。它是一个普通的 smtp 协议代码，需要实现才能将邮件推送到 postfix。qmail-remote 在将邮件发送到其他域时已经这样做了。可以使 Postfix 在非标准端口上运行（以避免可能的黑客攻击）以接受邮件。

# html - Safari ipad 上的控制栏未禁用（视频 html5）

> ID：14952500
> 
> 赞同：1
> 
> 时间：2013-02-19T07:56:52.723
> 
> 标签：html, jwplayer

Safari ipad 上的控制栏未禁用（视频 html5）

```
<script type="text/javascript" src="jwplayer.js"></script>

<video height="270" width="480" id="myVideo" >
<source src="video.mp4" type="video/mp4">

</video>

<script type="text/javascript">

jwplayer("myVideo").setup({
controls:false,
'controlbar':'none',
modes: [
{ type: 'html5' },
{ type: 'flash', src: 'player.swf' }
]
});
</script> 
```

每个人都可以帮助我吗？

谢谢

# c++ - 是否可以将对象向下转换为未在 C++ 中定义额外变量或 vtable 的子类？

> ID：14952504
> 
> 赞同：12
> 
> 时间：2013-02-19T07:57:06.857
> 
> 标签：c++, downcast

是否可以将对象向下转换为不定义任何额外变量或虚拟方法的子类？

如果我有这些课程，

```
class A { public: A (); };
class B : public A { public: void method1 () {} B (); }; 
```

这（1）可能和（2）按标准安全吗？

```
A* a = new A ();
B* b = (B*)a;
b->method1(); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T09:46:17.847

指针转换充当`static_cast`. 5.2.9/2 说，

> 如果 [ ] 类型的对象`A`实际上是 [ ] 类型的对象的子对象`B`，则结果引用 [ `B`] 类型的封闭对象。否则，强制转换的结果是不确定的。

您的对象*不是*对象的子`B`对象，因此结果未定义。

即使您要`reinterpret_cast`通过结果指针访问对象的值，也会有未定义的行为，因为它违反了严格的别名。在 C++11 标准 3.10/10 中：

> 如果程序尝试通过非下列类型之一的泛左值访问对象的存储值，则行为未定义：

“不添加数据成员或虚拟成员函数的对象的动态类型的派生类”*不在*下面的列表中。

根据`method1`实际所做的事情，有可能在调用对象时避免访问对象的存储值。但我不确定这是否可能。除非在标准的其他地方另有说明，否则我会假设调用非静态成员函数固有地“访问对象的存储值”，即使该函数实际上不使用任何数据成员也是如此。

这是可能在实践中一直或几乎一直有效的尴尬案例之一。但这并不能保证，所以即使它看起来可以工作并且发出的代码看起来没问题，你也会担心有一天新的优化会破坏它。

一旦定义，C++ 类就对新成员关闭，包括新成员函数。因此，您创建的对象`new A()`具有它将拥有的所有成员函数。只需编写一个非成员函数——除非`A`有`protected`成员，否则它将具有与您的成员函数完全相同的访问权限`A`。如果`A`确实有`protected`成员，那么就有一种*经过批准*的派生方式，您应该使用它来创建适当的`B`.

如果成员函数语法对您来说意义重大，那么根据`A`您可能能够编写的类：

```
B b = *a;    // "copy" the object (give B a suitable ctor)
b.method1(); // act on it
*a = b;      // copy it back (A needs copy assignment operator) 
```

显然这里有一些问题可能会阻止它工作：首先是对象是否可复制，线程安全，以及是否`method1`存储指向某个地方的指针/引用，`b`一旦`b`被破坏就会开始悬挂。在 C++11 中，副本可能是提高效率的举措，但即便如此，我希望您会同意，为了使用成员函数语法而必须跳过的圈子*是不值得的*。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-19T08:02:50.000

B* b = static_cast< B* >a 或者您尝试的是**不安全的向下转换**，它将基类对象 (A) 的地址分配给派生类 (B) 指针。因此，如果您通过该指针访问任何内容，它将导致未定义的行为。

让我们假设 A 实例的一种可能的对象布局：

```
a ->|vptr| 
```

当您执行强制施法时：

```
b ->|vptr| 
```

这绝对是不安全的，因为 a 不指向 B 的实例或 B 的子类。当您调用虚拟方法或修改字段（在这种情况下不是）时，通常会导致[未定义的行为](http://cpp-interviewquestions.blogspot.com/2010/02/upcasting-and-downcasting-in-c.html)或此布局中的错误。

但是，您的 method1 是非虚拟的，因此无需查找虚拟表。由于您对 method1 的实现没有甚至不能对“this”做任何事情，所以当您在这个假设的对象布局中运行代码时，它可能不会报告任何错误（参见 James 的评论）。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-19T10:18:41.093

1.  是的，有可能。
2.  不，按照标准是不安全的；这是不鼓励的。

这更像是 C void* 强制转换，这不是 C++ 中最好的做法。但我这样做了很多次，效果很好。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-19T08:02:30.133

您应该阅读这篇写得非常好的帖子：

[常规演员与 static_cast 与 dynamic_cast](https://stackoverflow.com/questions/28002/regular-cast-vs-static-cast-vs-dynamic-cast)

如果您使用“static_cast”，请注意您正在“强制”转换，这本质上是不安全的。

# android - 我有第二个点击活动，那么我怎样才能从主活动中的微调器中获取项目，然后在第三个活动的 textview 中显示它？

> ID：14952506
> 
> 赞同：0
> 
> 时间：2013-02-19T07:57:14.840
> 
> 标签：android, android-activity, onclick, spinner

我有第二个点击活动，那么如何从主活动中的微调器获取项目，然后在第三个活动的文本视图中显示它？

我在这里有三人的活动，

主要活动有一个带有项目一、二和树的微调器

然后在第二个活动中，我有按钮单击并从微调器中获取项目

我有第三个活动在文本视图中显示项目，但它更改为整数 1,2,3

我怎样才能做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:01:57.180

使用 Extra 将 Spinner 值从 Activity_1 发送到 Activity_2。

这样，无论用户是否在 Activity_2 中单击按钮，您都将拥有该值。

使用 Extra 将相同的值发送到 Activity_3。

否则，将微调器值存储在 SharedPreference 中并在您想要的任何地方使用它

# sql-server - SQL Server sp_getapplock AND sp_releaseapplock 释放锁时抛出异常

> ID：14952507
> 
> 赞同：3
> 
> 时间：2013-02-19T07:57:16.887
> 
> 标签：sql-server, locking

我正在使用 SQL Server 的锁定功能，如下所示

```
sp_getapplock
sp_releaseapplock 
```

我已经指定`@LockOwner = 'Session'`

但每次都抛出以下异常：

> *com.microsoft.sqlserver.jdbc.SQLServerException：无法释放应用程序锁（数据库主体：'dbo'，资源：'89999'），因为它当前未持有*

欢迎任何建议或想法！

问候！

```
CREATE PROCEDURE [SETLOCK]
    @...
AS
DECLARE
@RESULT INT;
BEGIN TRANSACTION
EXEC @RESULT = sp_getapplock @...
                 @LockOwner = 'Session';

IF @RESULT = -3
BEGIN
    ROLLBACK TRANSACTION;
END;
ELSE
BEGIN
    COMMIT TRANSACTION;
END; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T08:29:31.197

错误很明显：您没有在 resource 上获得 applock `89999`。您还必须在调用中指定`Session`（作为参数的值），并且**锁定释放必须发生在与锁定获取相同的会话中**。另一个可能的原因是不平衡的获取/释放调用（你有一个额外的释放）。`@LockOwner`[`sp_releaselock`](http://msdn.microsoft.com/en-us/library/aa238897(v=sql.80).aspx)

 **As a side note there is no need for a transaction when using Session scoped locks.**

# java - WebLogic 在一段时间内运行

> ID：14952509
> 
> 赞同：1
> 
> 时间：2013-02-19T07:57:20.850
> 
> 标签：java, sql-server, weblogic, ear

我目前正在使用带有 EAR 文件的 WebLOGIC 服务器。

在部署期间，我到达了“准备安装”或“已安装”的状态。

但是当我想运行我的项目时，我无限期地收到了这样的消息：

```
09:14:01.747 INFO [com.itnsa.fwk.dao.hibernate.CustomAnnotatedSessionFactoryBean] Building new Hibernate SessionFactory
09:14:03.294 INFO [org.hibernate.connection.ConnectionProviderFactory] Initializing connection provider: org.springframework.orm.hibernate3.LocalJtaDataSourceConnectionProvider 
```

是不是很奇怪？

如果你有一些信息或者你收到了同样的错误，谈论它会很有趣。

KR托马斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T19:47:46.757

如果将 ear 部署为应用程序，正确的状态应该是“活动”而不是“已安装”。您是否有机会将您的耳朵部署为共享库？

没有有效的部署状态为“已安装”。部署状态存储在“weblogic.management.runtime.AppRuntimeStateRuntimeMBean”中。根据文档，这些是状态：

> STATE_ACTIVE、STATE_ADMIN、STATE_FAILED、STATE_NEW、STATE_PREPARED、STATE_RETIRED、STATE_UPDATE_PENDING

[http://download.oracle.com/docs/cd/E12839_01/apirefs.1111/e13945/weblogic/management/runtime/AppRuntimeStateRuntimeMBean.html](http://download.oracle.com/docs/cd/E12839_01/apirefs.1111/e13945/weblogic/management/runtime/AppRuntimeStateRuntimeMBean.html)

我见过库安装卡在“已安装”状态的情况。问题是随机的，不可重现。通过重新启动域，可以将“已安装”状态更改为“活动”。

# java - 通过“下拉菜单中的升序/降序选项”过滤名称。

> ID：14952510
> 
> 赞同：0
> 
> 时间：2013-02-19T07:57:25.310
> 
> 标签：java, ajax, hibernate, jsp, struts

我想通过下拉列表中的升序/降序选项过滤用户名，所以每次我选择一个选项（ASC/DESC）时，用户名都会按该顺序分别排序。

```
<script>

/* xmlhttpRequest send HTTP/HTTPS requests directly to a webServer and load the server    
   response data directly back into the script :) */

    var xmlHttp; 

    function showUser(str){ 

     xmlHttp = GetXmlHttpObject();

     if (xmlHttp==null)
     {
        alert ("Your browser does not support AJAX!");
        return;
     }

    var url = "http://localhost:8080/Shipping_Order/getcustomer_xml.jsp?order="+str;

     //force a fresh page to load because it's unique, not a page from the cache.
     url = url+"&sid="+Math.random();  

    //the onreadystatechange event is fired ones the request is sent back  
    xmlHttp.onreadystatechange = stateChanged;

    // sends the request to the server
    xmlHttp.open("GET",url,true);  
        xmlHttp.send();
  } // end of showUser()

  function stateChanged() 
  { 
    if (xmlHttp.readyState==4)
    {
    var xmlDoc = xmlHttp.responseXML.documentElement;

    document.getElementById("username").innerHTML   =                        
                  xmlDoc.getElementsByTagName("username")[0].childNodes[0].nodeValue;

    document.getElementById("city").innerHTML=                               
                  xmlDoc.getElementsByTagName("city")[0].childNodes[0].nodeValue;

    document.getElementById("contact").innerHTML    = 
              xmlDoc.getElementsByTagName("contact")[0].childNodes[0].nodeValue;
    }
}

 function GetXmlHttpObject(){
  var xmlHttp=null;
  try{
  // Firefox, Opera 8.0+, Safari
  xmlHttp=new XMLHttpRequest();
  }catch (e){
    // Internet Explorer
    try{
       xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");
    }catch (e){
      xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
     }
  } // end catch outer

 return xmlHttp;
 } // end of GetXmlHttpObject                       
</script> 
```

HTML 代码

```
<form name="myOrderType" action="myOrderType.action">
<select id="order" onChange="showUser(this.value)">
    <option>Select a user name :</option>
    <option value="ASC">Ascending</option>
    <option value="DESC">Descending</option>
</select>
                     <%-- <s:select label="Select an Order"
                       name="order"
                       headerValue="DESC"
                       list="#{'1':'ASC', '2':'DESC'}" 
                    /> --%>
</form> 
```

*下面是来自控制器类的 orderList*

```
<s:iterator value="orderList">

 <tr>  
  <td><s:property id="username" value="username"/></td>
  <td><s:property id="city" value="city"/></td>
  <td><s:property id="contact" value="contact"/></td>                   
 </tr>          

</s:iterator> 
```

*struts.xml*

```
<action name="listUser" class="com.view.OrderProcessingAction" method="listAllUser">
            <result name="success">/adminPanel.jsp</result>
</action> 
```

**//查看类(Action Class)** //按顺序列出所有用户 ASC/DESC

```
public String listAllUser(){

        this.orderList = orderDaoFactory.listUser();
        System.out.println("execute called");
        return SUCCESS;
    } 
```

**//控制器类（DAO工厂）**

```
public List<OrderProcessing> listUser() {
        HttpServletRequest request = (HttpServletRequest) ActionContext.getContext().get(ServletActionContext.HTTP_REQUEST);
        Session session = HibernateUtil.getSessionFactory().openSession();
        List<OrderProcessing> orderList = null;

        String order = request.getParameter("order");

        try {

                orderList =(List<OrderProcessing>) session.createQuery("from OrderProcessing ORDER BY username" +order).list();

        } catch (Exception e) {
            e.printStackTrace();
        }
        return orderList;
    } 
```

**我现在得到了解决方案。谢谢小伙伴。但是现在在 struts2 中部署该代码是一个问题。所以新问题是“使用 Struts2 对下拉列表的 OnChange 事件调用操作”。**

将响应数据直接返回到脚本中:)

```
 var xmlHttp;
        function showUser(str) {
            xmlHttp = GetXmlHttpObject();
        if (xmlHttp == null) {
            alert("Your browser does not support AJAX!");
            return;
        }

        var url = "http://localhost:8080/Shipping_Order/getcustomer_xml.jsp?order="+str;

        //force a fresh page to load because it's unique, not a page from the cache.
        url = url + "&sid=" + Math.random();

        //the onreadystatechange event is fired ones the request is sent back  
        xmlHttp.onreadystatechange = stateChanged;

        // sends the request to the server
        xmlHttp.open("GET", url, true);
        xmlHttp.send();
    }

    function stateChanged() {
        if (xmlHttp.readyState == 4) {
            var xmlDoc = xmlHttp.responseXML.documentElement;
             $("#dropdowntable").empty();       
    for(var i=0;i<xmlDoc.getElementsByTagName("username").length;i++)
       {

$("#dropdowntable").append('<tr><td id="username"'+i+'>'+xmlDoc.getElementsByTagName("username")[i].childNodes[0].nodeValue+'</td><td id="city"'+i+'>'+xmlDoc.getElementsByTagName("city")[i].childNodes[0].nodeValue+'</td> <td id="contact"'+i+'>'+xmlDoc.getElementsByTagName("contact")[i].childNodes[0].nodeValue+'</td></tr>');
            /* $("#dropdowntable").append('<td id="city"'+i+'>'+xmlDoc.getElementsByTagName("city")[i].childNodes[0].nodeValue+'</td>');
             $("#dropdowntable").append('<td id="contact"'+i+'>'+xmlDoc.getElementsByTagName("contact")[i].childNodes[0].nodeValue+'</td></tr>');
            */
           }
            }
            }
    function GetXmlHttpObject() {
        var xmlHttp = null;
        try {
            // Firefox, Opera 8.0+, Safari
            xmlHttp = new XMLHttpRequest();
        } catch (e) {
            // Internet Explorer
            try {
                xmlHttp = new ActiveXObject("Msxml2.XMLHTTP");
            } catch (e) {
                xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
        }
        return xmlHttp;
    }

//getcustomer_xml.jsp

String order = request.getParameter("order");
ResultSet rs = st.executeQuery("select username, contact, city from user ORDER BY username "+order);

while(rs.next())
{

    out.println("<user>");
    out.println("<username>"    +rs.getString(1)+   "</username>");
    out.println("<contact>"     +rs.getInt(2)+      "</contact>");
    out.println("<city>"        +rs.getString(3)+   "</city>");
    out.println("</user>"); 

}
rs.close();
st.close(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:01:08.010

正如我之前所说，使用[jquery ajax()](http://api.jquery.com/jQuery.ajax/)来 http 请求和[each()](http://api.jquery.com/jQuery.each/)方法迭代响应 xml

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:32:29.110

我认为您在解析服务器响应 xml 时遇到问题。这是进行 AJAX 调用的非常古老的方法。尝试使用更方便、更健壮的 JS 框架，如 JQuery。在那里解析 XML 或 JSON 要容易得多，而且您几乎不会犯任何错误。

[jquery ajax 调用](http://api.jquery.com/jQuery.ajax/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T08:04:30.663

看起来没有任何问题，除非您在此处缺少设置“str”

```
 var url = "http://localhost:8080/Shipping_Order/getcustomer_xml.jsp?order="+str; 
```

如果将 str 设置为空，则结果应按 ASC 顺序排列，而 str = "DESC" 将按 DESC 顺序返回结果

# javascript - 在 Dojo 中，如何务实地创建与 TabContainer 共享相同结构的 ContentPane？

> ID：14952512
> 
> 赞同：2
> 
> 时间：2013-02-19T07:57:33.883
> 
> 标签：javascript, dojo

我有静态 TabContainer，并且 TabContainer 内的所有 ContentPanes 都应该从从 servlet 获得的 json 数据动态创建。所有的 ContentPanes 共享相同的模板，只有数据不同。像：

```
[Tab A] Tab B Tab C
Name: Jerry
Age: 28
Birthday: 2.9 
```

单击选项卡 B 时：

```
Tab A [Tab B] Tab C
Name: Michael
Age: 45
Birthday: 2.10 
```

ContentPane 的内容比这个示例复杂得多，并且它声明性地用 html 编写，所以我不能像这样以 promatically 方式创建它：

```
var cp1 = new dijit.layout.ContentPane({
    title:"New Question",
    content:"<p>I am added promatically</p>",
});

dijit.byId("centerLayout").addChild(cp1); 
```

那么，如何通过“模板”或 Dojo 中的某些概念来实现这一点？也许有一个更强大的组件，我不知道可以将查询到的数据绑定到所有这些重复的 ContentPane 上。

任何示例代码都受到高度赞赏。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T12:00:34.490

**使用 lang.replace 的简单模板**

根据 ContentPane 内容/模板的复杂性，一种简单的方法是使用简单的`lang.replace`. 假设您制作了这样的姓名/年龄/生日模板（例如`cai/personTpl.html`）：

```
<dl>
    <dt>Name</dt><dd>{name.firstname} {name.lastname}</dd>
    <dt>Age</dt><dd>{age}</dd>
    <dt>Birthday</dt><dd>{birthday}</dd>
</dl> 
```

在您的 Javascript 中，您可以执行以下操作：

```
require([..other deps.., 'dojo/_base/lang', 'dojo/text!cai/personTpl.html'],
    function(..other deps.., lang, personTpl) {
        //.. your other code .. 
        // assuming person[i] is something like:
        //   {name: {firstname: 'A', lastname: 'B'}, age: 42..}
        var cp1 = new dijit.layout.ContentPane({
            title:"New Question",
            content: lang.replace(personTpl, person[i]),
         });
         dijit.byId("centerLayout").addChild(cp1);
    }
);//~require 
```

更多关于 dojo/_base/lang::replace 与字典在这里：[http ://dojotoolkit.org/reference-guide/1.8/dojo/_base/lang.html#dojo-base-lang-replace](http://dojotoolkit.org/reference-guide/1.8/dojo/_base/lang.html#dojo-base-lang-replace)

* * *

**使用自定义小部件的更复杂的模板**

如果每个选项卡中使用的模板更复杂，例如拥有自己的小部件、使用事件等，您最好编写自定义小部件（而不是使用 ContentPane）。

例如，模板可以类似于 ( `cai/widgets/personTpl.html`)：

```
<dl>
    <dt>Name</dt><dd data-dojo-attach-point='nameNode'></dd>
    <dt>Age</dt><dd data-dojo-attach-point='ageNode'></dd>
    <dt>Birthday</dt><dd>
        <input type='text' data-dojo-type='dijit/form/DateTextBox'
            data-dojo-attach-point='bdayInput' />
     </dd>
</dl> 
```

小部件可以是 ( `cai/widgets/Person.js`)：

```
define([ ..other deps.., "dojo/text!cai/widgets/personTpl.html"],
    function(..other deps.., personTpl) {
        return declare([_WidgetBase, _TemplatedMixin, _WidgetsInTemplateMixin], {
            templateString: personTpl,

            name: "unknown",
            _setNameAttr: { node: "nameNode", type: "innerHTML" },

            age: 0,
           _setAgeAttr: { node: "ageNode", type: "innerHTML" },

           birthday: new Date(),
           _setBirthdayAttr: function(bday) { 
               this.bdayInput.set("value", bday); 
               this._set("birthday", bday); 
           }
        }); //~declare
    }
); //~define 
```

然后您可以将 Person 小部件的实例添加到 TabContainer：

```
require([..other deps.., "cai/widgets/Person"],
    function(..other deps.., Person) {
        //.. your other code .. 
        // assuming person[i] is something like:
        //   {name: "Jerry", age: 42, birthday: new Date(), title: "JerryTab"}
        var p = new Person(person[i]);
        dijit.byId("centerLayout").addChild(p);
    }
);//~require 
```

有关小部件（以及具有映射到节点的属性的小部件）的更多信息：http: [//dojotoolkit.org/reference-guide/1.8/quickstart/writingWidgets.html#mapping-widget-attributes-to-domnode-attributes](http://dojotoolkit.org/reference-guide/1.8/quickstart/writingWidgets.html#mapping-widget-attributes-to-domnode-attributes)

# google-chrome - 如何强制 Chrome 中打开的链接不下载？

> ID：14952514
> 
> 赞同：85
> 
> 时间：2013-02-19T07:57:47.667
> 
> 标签：google-chrome, browser

我想用 Photoshop 打开一个 .psd 格式的链接，当在谷歌浏览器（如 Firefox）中单击时，它要求我打开或下载文件。但谷歌浏览器会自动下载文件。如何在不下载的情况下强制打开 Chrome 中的链接？这些链接用于本地文件。

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2014-06-18T16:00:56.770

要在您的计算机上打开某些文件类型，而不是 Chrome 正在下载...

您必须下载文件类型一次，然后在下载后立即查看浏览器底部的状态栏。单击该文件旁边的箭头，然后选择“始终打开此类型的文件”。完毕。

现在文件类型将始终使用您的默认程序打开。

要重置此功能，请转到设置/高级设置，然后在“下载..”部分下，有一个按钮可以重置“所有”自动下载

希望这可以帮助.. ：-）

在此处找到视觉说明：

[http://www.presentermedia.com/blog/2013/10/my-file-automatically-opens-instead-of-saving-with-chrome/](http://www.presentermedia.com/blog/2013/10/my-file-automatically-opens-instead-of-saving-with-chrome/)

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2019-02-19T00:04:37.117

好问题。

它可以通过扩展来实现：

*   对于 Chrome，加载[undisposition](https://chrome.google.com/webstore/search/undisposition?hl=en)
*   如果文件加载是 ASCII 则可能需要颜色编码，这可以通过[语法](https://chrome.google.com/webstore/search/Syntaxtic!?hl=en)扩展来完成
*   顺便说一句，对于 Firefox，加载[InlineDisposition](https://addons.mozilla.org/en-US/firefox/addon/inlinedisposition-reloaded)附加组件

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2015-08-26T20:47:53.500

到目前为止，谷歌无法在没有保存的情况下打开。作为一种解决方法，我使用 Chrome Store 中的 IE Tab。它是一个运行 IE 的扩展程序——它允许在 Chrome 浏览器应用程序内部打开而不保存。

不是最好的解决方案，但它是目前有效的“补丁”。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-10-09T13:36:50.253

刚刚在尝试解决我遇到的另一个问题时发现了您的问题，您会发现目前 Google 无法执行临时下载，因此您必须下载。

请参阅：[http ://productforums.google.com/forum/#!topic/chrome/Drge_Zrwg-c](http://productforums.google.com/forum/#!topic/chrome/Drge_Zrwg-c)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-03-14T07:40:25.003

我认为问题是要直接打开本地文件，而不是将本地文件下载到下载文件夹并在下载文件夹中打开文件，这在 Chrome 中似乎是不可能的，除了上面提到的一些插件。

我的解决方法是右键单击 -> 复制链接位置 Windows + R 并将链接粘贴到那里，然后 Enter 它将直接转到文件。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-04-19T14:13:23.760

在 Chrome 中自动打开文档而不保存它们；

1.  转到 Chrome 右上角的三个垂直点。

2.  向下滚动到设置并单击。

3.  向下滚动到显示高级设置...

4.  向下滚动到下载位置下的下载：单击更改按钮并选择 tmp 文件夹。然后只需关闭屏幕。

5.  单击任何附件，左侧会出现一个小框，如果您单击它，它应该会自动打开。

6.  当左下方的框出现时，它将包含一个箭头；单击它并选择“始终打开此类型的文件”选项。继续前进，它将立即打开文件，而不是左侧出现的小框，您必须单击它才能打开。对于 PDF、Excel 2010、Excel 2013 Word 等各种文件，您只需执行一次。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-11-25T09:01:13.667

来自后端的响应可能会返回`application/octet-stream`而不是`application/json`. 所以它强制下载文件。

与后端团队联系以检查。

# javascript - Chrome 中的 CKEditor 输入模式问题

> ID：14952515
> 
> 赞同：1
> 
> 时间：2013-02-19T07:57:50.993
> 
> 标签：javascript, jquery, asp.net, ckeditor, fckeditor

在 Ckeditor 的演示页面上，请输入源模式，例如：

默认输入模式是：“P”

```
<h1>Test</h1>
<p>Hello</p> 
```

在此之后，在标准模式下，在“Hello”单词之前添加新行，然后按退格键... Chrome 会为此添加 span 标签（但它不应该）...其他浏览器工作正常。

当我将entermode更改为“BR”时，它在chrome中也可以正常工作......对我来说很好，但是有没有办法覆盖“BR”entermode以在按下回车键时有双新行？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T12:17:33.947

这是 Webkits 的可怕行为。当您按下退格键时，它会创建它`span`以在第二行（标题）与其合并时保留第一行的样式。不幸的是，这不能通过 CKEditor 核心开发人员以外的其他方式解决，因为很可能只有自定义退格处理程序会阻止这种情况。

我将您的案例添加到这张票中： http: [//dev.ckeditor.com/ticket/9998](http://dev.ckeditor.com/ticket/9998)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-26T12:26:52.160

我在 init() 回调中创建了一个插件来修复这个 Bug ..：

[http://pastebin.com/S0epuBNA](http://pastebin.com/S0epuBNA)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-26T13:08:40.737

解决此问题的一种方法是使用`Remove Format`按钮。当您注意到这种情况发生时，突出显示更改的文本并单击`Remove Format`按钮将删除注入的跨度。不是修复，但至少它变得易于管理。

# c# - mysql日期时间格式使用c#

> ID：14952518
> 
> 赞同：1
> 
> 时间：2013-02-19T07:57:56.533
> 
> 标签：c#, mysql, datetime

我需要使用 C# 代码在 mysql 记录中搜索有关日期值的一些数据。我在 c# 中使用以下代码，但我找不到记录。请帮我。

我的 C# 代码：

```
Select distinct v.* from Ven v inner join Des d on v.venid=d.venid and cast( d.despdate as datetime) between  cast('" + dTime1.Value.ToString("dd-MMM-yyy") + "' as datetime) and cast('" + dTime2.Value.ToString("dd-MMM-yyy") + "'as datetime) 
```

我的Mysql表记录：

![在此处输入图像描述](../Images/b831d03a7078ae42ea89ab72c3cfc0cf.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:00:18.367

尝试在 SQL 查询中直接包含一个值是错误的。使用参数化 SQL 并将值指定*为 a`DateTime`*，并假设您的数据库表*也*使用日期/日期时间字段（应该是），您应该没问题。

您应该避免在 SQL 中直接包含值，原因有以下三个：

*   您最终会遇到麻烦的字符串转换，这些转换可能会使用不适当的格式等。这就是这里的问题。
*   您正在邀请[SQL 注入攻击](http://bobby-tables.com)
*   您正在混合代码和数据，这使得代码更难阅读，也更难检查数据

你想要这样的东西：

```
string sql = @"Select distinct v.* from Ven v 
               inner join Des d on v.venid=d.venid 
               and cast(d.despdate as datetime) between @start and @end";
using (MySqlCommand command = new MySqlCommand(connection, sql))
{
    command.Parameters.AddWithValue("@start", startDateTime);
    command.Parameters.AddWithValue("@end", endDateTime);
    // Execute the command here
} 
```

如果`Des.despdate` *还不*是合适的数据类型，您应该更改它...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T08:00:27.617

将您的列`d.despdate`转换为`DATE`使用`STR_TO_DATE`

```
SELECT  ...
FROM    ...
WHERE   STR_TO_DATE(d.despdate, '%d-%b-%Y') BETWEEN '2013-01-15' AND '2013-01-30' 
```

为了获得更好的性能，使用`MySQLCommand`对象参数化查询。前任，

```
string connStr = "connection string here";
string query = @"SELECT ... 
                FROM... 
                WHERE STR_TO_DATE(d.despdate, '%d-%b-%Y') BETWEEN @date1 AND @date2"
using(MySqlConnection _conn = new MySqlConnection(connStr))
{
    using (MySqlCommand comm = new MySqlCommand())
    {
        comm.Connection = conn;
        comm.CommandText = query;
        comm.Parameters.AddWithValue("@date1", dTime1.Value);
        comm.Parameters.AddWithValue("@date2", dTime2.Value);
        try
        {
            conn.Open();
            comm.ExecuteNonQuery();
        }
        catch(MySqlException e)
        {
            // do something with
            // e.ToString()
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T08:00:32.920

应该是yyyy

```
 Select distinct v.* from Ven v inner join Des d on v.venid=d.venid and cast( d.despdate as datetime) between  cast('" + dTime1.Value.ToString("dd-MMM-yyyy") + "' as datetime) and cast('" + dTime2.Value.ToString("dd-MMM-yyyy") + "'as datetime) 
```

# android - 如何让我的 ImageButton 正确调整资产图像的大小？

> ID：14952520
> 
> 赞同：0
> 
> 时间：2013-02-19T07:58:10.680
> 
> 标签：android, android-layout

我的应用程序有一个显示图像按钮垂直滚动列表的活动。我希望（A）的每个按钮图像来自资产文件夹，并且（B）在缩放时保留它的纵横比。不幸的是，当图像来自资产文件夹时，我的 ImageButton 大小不正确。

### 从drawable设置的ImageButton src

第一个屏幕截图是我的测试应用程序，其中所有图像都来自我的应用程序可绘制对象。那是该图像的“正确”纵横比，这是我想要保留的（所有图像按钮都被赋予了 scaleType ~~"fitXY"~~ "centerCrop"）。

![从可绘制对象中获取的图像](../Images/902fa5287b6b82b32360499bb62dba2c.png)

### 从资产设置的 ImageButton src

第二个屏幕截图是我的测试应用程序，其中所有图像都来自我的应用程序“assets”文件夹——如您所见，图像根据需要拉伸到屏幕的整个宽度，但原始纵横比已丢失：

![从资产中获取的图像](../Images/a40cf3ec8414894d85b87a817dd527b0.png)

### 活动代码（MainActivity.java）

```
LinearLayout buttons = (LinearLayout) findViewById(R.id.buttons);
View button = layoutInflater.inflate(R.layout.snippet_imagebutton, null);
ImageButton imageButton = (ImageButton) button.findViewById(R.id.imageButton);
if (GET_IMAGE_FROM_ASSETS) {
    InputStream s = assetManager.open("image.png");
    Bitmap bmp = BitmapFactory.decodeStream(s);
    imageButton.setImageBitmap(bmp);
} else {
    imageButton.setImageResource(R.drawable.image);
}
TextView buttonText = (TextView) button.findViewById(R.id.textView);
buttonText.setText("Button text!");
buttons.addView(button,
    new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT)); 
```

### 按钮布局 (snippet_imagebutton.xml)

```
<RelativeLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="8dp">
    <ImageButton
        android:id="@+id/imageButton"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:scaleType="centerCrop"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true" />
    <TextView
        android:id="@+id/textView"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:gravity="center"
        android:textColor="#FFF"
        android:background="#88000000"
        android:textAppearance="?android:attr/textAppearanceMedium" />
</RelativeLayout> 
```

### 狡猾的黑客

我发现了一个狡猾的 hack，它实现了我想要的并说明了问题——ImageButton 将正确调整大小以匹配资源中的放大图像，但它不会正确调整大小以匹配资产中的放大图像。如果有的话，我更喜欢“真正的”解决方案而不是狡猾的黑客。:)

```
// to start with, scale the ImageButton based on an image in our
// resources that has the same dimensions as the image in our assets
imageButton.setImageResource(R.drawable.image);
// when we eventually render (we don't have width / height yet)...
imageButton.post(new Runnable() {
    public void run() {
        int height = imageButton.getHeight();
        int width = imageButton.getWidth();
        // replace our "resource" image with our "asset" image
        imageButton.setImageBitmap(bmp);
        // and force the ImageButton to keep the same scale as previously
        imageButton.setLayoutParams(
            new RelativeLayout.LayoutParams(width, height));
    }
}); 
```

### 概括

我想从我的应用程序“资产”文件夹中获取这些按钮的图像。如何修复我的应用程序以使按钮图像全部正确缩放（即保留其原始纵横比）？

我假设这与框架在将 ImageButton 渲染到屏幕之前实际上不知道图像的宽度/高度有关 - 那么我该如何解决呢？我尝试在 RelativeLayout 和 ImageButton 本身上将 adjustViewBounds 设置为“true”，但这似乎没有任何效果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:27:48.290

当您将比例类型属性指定为“fitXY”时，不会保留纵横比。根据您的需要尝试“center”、“center_crop”或“center_inside”。还要检查[ImageViewScaleType](http://developer.android.com/reference/android/widget/ImageView.ScaleType.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T10:57:27.937

据我所知，AdjustViewBounds 实际上是提供您需要的确切功能的方法。但是，正如 Roman Nurik[在这里](https://stackoverflow.com/questions/7719617/imageview-adjustviewbounds-not-working)解释的那样，AdjustViewBounds 不会将 ViewBounds 增加到超出可绘制对象的自然尺寸。

在没有看到您如何分配资源/资产的情况下，我怀疑这就是为什么您在从资源加载和从资产加载时看到差异的原因。您的资源文件 - 大概 - 在加载时被放大（因为这是资源的默认行为），因此从 /res 返回的可绘制对象的实际大小明显大于从 /assets 解码的位图。

覆盖 ImageButton （正如 Nurik 建议的那样），当然是一种选择，但可能是矫枉过正。

假设我对这个问题是正确的，您应该能够通过在加载资产文件时正确设置 BitmapFactory.options 来解决它。您需要根据您的设备正确设置 inDensity 和 inTargetDensity（获取 DisplayMetrics），并将 inScaled 设置为 true。

或者，您始终可以在将位图加载到 ImageButton 之前手动重新缩放位图。只需抓住屏幕宽度来确定你需要做多大。

附言

自动缩放显然是一个优雅的解决方案，但它确实有一个弱点（这同样适用于资源和资产） - 如果你的显示宽度 > 放大时的位图宽度，你可能仍然会弄乱纵横比. 您可以通过转到横向模式并查看资源文件是否仍然产生正确的纵横比来轻松检查这一点。如果您有足够大的基本图像（或根据屏幕尺寸/方向使用不同的布局），那么这应该不是问题。只是要记住的事情。

# javascript - 循环逻辑

> ID：14952524
> 
> 赞同：0
> 
> 时间：2013-02-19T07:58:31.993
> 
> 标签：javascript

我正在使用 javascript 函数，其中循环应该运行 10 次，在这 10 次中，它应该基于*,+ 和 - 操作抛出一个随机问题，因为应该有 4 个“+”问题，3 个“-”问题和3个“* ”问题。并且循环不应该运行超过 10 次，有人请为此制定一个逻辑......

到目前为止我的代码：

```
<script type="text/javascript">
        var op=new Array();
        var addCount=0;
        var subCount=0;
        var mulCount=0;
        var counter=0;
        var no;
        op[0]="+";
        op[1]="-";
        op[2]="x";

        Array.prototype.chooseRandom = function() 
        {
            return this[Math.floor(Math.random() * this.length)];
        };
        var a = [1, 2];
        var b = [0, 2];
        var c = [0, 1];

            no=Math.floor((Math.random()*3));
            while(addCount < 4|| subCount < 3 || mulCount < 3)
            {

                    no=Math.floor((Math.random()*3));
                    if(no==0)
                    {
                        if(addCount<4)
                        {
                            addCount++;
            var op1=Math.floor(Math.random() * (99 - 10+1)) + 10;
                var op2=Math.floor(Math.random() * (99 - 10+1)) + 10;
                        }
                        else
                        {
                            no=a.chooseRandom();
                        }
                    }       
                    else if(no==1)
                    {
                        if(subCount<3)
                        {
                            subCount++;
            var no1=Math.floor(Math.random() * (99 - 10+1)) + 10;
            var no2=Math.floor(Math.random() * (99 - 10+1)) + 10;
                            if(no1>no2)
                            {
                                 var op1=no1;
                                 var op2=no2;
                            }
                            else
                            {
                                var op1=no2;
                                var op2=no1;
                            }
                        }
                        else
                        {
                            no=b.chooseRandom();
                        }
                    }
                    else if(no==2)
                    {
                        if(mulCount<3)
                        {
                            mulCount++;
            var op1=Math.floor(Math.random() * (99 - 10+1)) + 10;
            var op2=Math.floor(Math.random() * (9 - 1+1)) + 1;
                        }
                        else
                        {
                            no=c.choseRandom();
                        }
                    }

                    counter++;
            }
    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:03:57.187

制作一个包含所需数量的数组`+`，`-`然后`*`使用以下函数对该数组进行随机排序：

```
arr.sort(function() {return 0.5 - Math.random()}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:31:34.437

希望它会有所帮助 -

```
<script type="text/javascript">
    function shuffle(o) {
        for (var j, x, i = o.length; i; j = parseInt(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
        return o;
    }

    function getQuestions(){
        var operators = shuffle(["+", "+", "+", "+", "-", "-", "-", "x", "x", "x"]);
        var a = [1, 2, 3, 4, 5, 6];
        var counter = 0;

        Array.prototype.chooseRandom = function () {
            return this[Math.floor(Math.random() * this.length)];
        };

        while (counter < 10) {
            var op1 = a.chooseRandom();
            var op2 = a.chooseRandom();
            alert(op1 + operators[counter] + op2 + "?")
            counter++;
        }
    }

    getQuestions();
</script> 
```

# ruby-on-rails - 为什么我的网站的第一次加载需要这么长时间？

> ID：14952527
> 
> 赞同：0
> 
> 时间：2013-02-19T07:58:51.697
> 
> 标签：ruby-on-rails, ruby-on-rails-3, performance

我正在使用 Rails 3.2.x 和 Thin 1.5.0，最初加载我的应用程序时，如果 24 小时没有加载它，它需要很长时间。起初我以为它只是我的 macbook - 因为它处于睡眠模式，并且第一次无论出于何种原因它都需要永远。

但是，我意识到它在 Heroku 上也是如此，对其他人也是如此。就像他们有一段时间没有访问 Heroku 网站一样，他们第一次加载它（不是每次，但有时）需要永远。

根据日志，我的样式表的编译似乎需要很长时间。不过，我感到困惑的是，当我推送到 Heroku 时，它应该在推送期间编译资产……对吗？因此，从理论上讲，这不应该是减缓生产速度的原因。还是我错过了什么？

尽管最近 Heroku 一直在拒绝推送，所以我不得不启用它：

```
# Don't initialize app on pre-compile
  config.assets.initialize_on_precompile = false 
```

所以我不确定这是否是造成它的原因。

```
Started GET "/" for 127.0.0.1 at 2013-02-19 02:44:14 -0500
Processing by HomeController#index as HTML
  Category Load (56.6ms)  SELECT "categories".* FROM "categories" LIMIT 6
  EXPLAIN (14.6ms)  EXPLAIN QUERY PLAN SELECT "categories".* FROM "categories" LIMIT 6
EXPLAIN for: SELECT  "categories".* FROM "categories"  LIMIT 6
0|0|0|SCAN TABLE categories (~1000000 rows)

  Banner Load (44.4ms)  SELECT "banners".* FROM "banners" INNER JOIN "banner_types" ON "banner_types"."id" = "banners"."banner_type_id" WHERE (banner_types.name = 'Featured')
  Banner Load (0.3ms)  SELECT "banners".* FROM "banners" INNER JOIN "banner_types" ON "banner_types"."id" = "banners"."banner_type_id" WHERE (banner_types.name = 'Side')
  Product Load (3.4ms)  SELECT "products".* FROM "products" 
  Vendor Load (15.9ms)  SELECT "vendors".* FROM "vendors" 
  User Load (50.0ms)  SELECT "users".* FROM "users" 
  EXPLAIN (0.1ms)  EXPLAIN QUERY PLAN SELECT "users".* FROM "users" 
EXPLAIN for: SELECT "users".* FROM "users" 
0|0|0|SCAN TABLE users (~1000000 rows)

  Vendor Load (0.3ms)  SELECT "vendors".* FROM "vendors" WHERE "vendors"."id" = 12 LIMIT 1
  Vendor Load (0.2ms)  SELECT "vendors".* FROM "vendors" WHERE "vendors"."id" = 11 LIMIT 1
  Vendor Load (0.2ms)  SELECT "vendors".* FROM "vendors" WHERE "vendors"."id" = 10 LIMIT 1
  CACHE (0.0ms)  SELECT "vendors".* FROM "vendors" WHERE "vendors"."id" = 12 LIMIT 1
  CACHE (0.0ms)  SELECT "vendors".* FROM "vendors" WHERE "vendors"."id" = 12 LIMIT 1
  CACHE (0.0ms)  SELECT "vendors".* FROM "vendors" WHERE "vendors"."id" = 10 LIMIT 1
  Rendered home/_popular_products.html.erb (303.0ms)
  Rendered home/_popular_stores.html.erb (2.4ms)
  Rendered home/index.html.erb within layouts/application (570.6ms)
Compiled main.css  (20360ms)  (pid 86898)
Compiled application.css  (2366ms)  (pid 86898)
  Rendered layouts/_login_nav.html.erb (1.0ms)
  Rendered layouts/_navigation.html.erb (1.7ms)
  Rendered layouts/_header.html.erb (47.3ms)
  Rendered layouts/_messages.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 38402ms (Views: 30707.1ms | ActiveRecord: 1830.8ms) 
```

想法？

**编辑1：**

请注意，这个问题尚未得到充分回答。回复都谈到了 Heroku 上的问题——这是问题的一部分。但是，他们未能解决开发中发生的这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:02:03.903

如果在一定时间内未访问 Heroku，它将关闭您的应用程序以节省资源。因此，缓慢是由于必须再次启动整个应用程序造成的。

有关更多信息，请参阅[https://devcenter.heroku.com/articles/dynos上的 Dyno Idling。](https://devcenter.heroku.com/articles/dynos)

为了解决这个问题，您可以使用诸如 New Relic 插件之类的服务，它会每隔一段时间对您的应用程序执行 ping 操作，以阻止减速。

您还应该在部署时编译资产，而不是按需编译。Heroku 默认应该这样做——你做了什么改变来阻止它发生？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T08:02:46.017

如果您在 Heroku（免费计划）上只有 1 个 dyno，那么它会在一段时间后闲置以节省资源。然后，当有人在一段时间后访问您的应用程序时，它将再次启动。

因此，第一个访问您的应用程序的人将不得不等待一段时间。

# iphone - iphone SDK 中的 Movieplayer 导航栏框架问题

> ID：14952531
> 
> 赞同：0
> 
> 时间：2013-02-19T07:59:04.740
> 
> 标签：iphone, ios, objective-c, xcode, mpmovieplayercontroller

在我的应用程序中，我录制了一段视频并通过 MpMovie Player 播放。它似乎工作正常。

但是当我播放视频时，导航栏（默认进度条）会下降而不是加入状态栏。

![请参阅导航栏](../Images/a83a7ceb92ef2bd2f52adb4c95802b6b.png)

**我播放视频的代码如下**

```
-(IBAction)mth_play:(id)sender
{
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory , NSUserDomainMask, YES);

    NSString *VidLibrary = [paths objectAtIndex:0];

    NSString *url = [VidLibrary stringByAppendingPathComponent:@"p.mp4"];

    MPMoviePlayerViewController *pv=[[MPMoviePlayerViewController alloc]initWithContentURL:[NSURL fileURLWithPath:url]];

    [[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(playfinish:) name:MPMoviePlayerPlaybackDidFinishNotification object:[pv moviePlayer]];
    MPMoviePlayerController *pc=[pv moviePlayer];

    [self.view addSubview:pv.view];
    [pc play];
} 
```

**如何解决这个问题？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:07:24.937

`MPMoviePlayerViewController`您将's添加`view`为子视图有什么特别的原因吗？

您可以`MPMoviePlayerViewController`改为显示模态：

```
[self presentViewController:pv animated:YES completion:nil]; // iOS 5+ 
```

或者

```
[self presentModalViewController:pv animated:YES]; // technically deprecated in iOS 6 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:07:35.130

1.  隐藏导航栏。
2.  设置 pv 帧 0,0

# php - 使用 htaccess 阻止对文件的访问

> ID：14952532
> 
> 赞同：-1
> 
> 时间：2013-02-19T07:59:11.933
> 
> 标签：php, apache, .htaccess, xss

我在一个文件夹中有一个 .htaccess ：

```
Order Deny,Allow
Deny from all
Allow from localhost
Satisfy Any 
```

我尝试限制对包含散列密钥的文件的访问，仅限于同一域，以避免跨站点请求伪造。我只希望 example.com 能够读取该文件而不是 foreign_example.com，但是当我使用 GET 请求读取文件时，会显示 403 禁止状态。

Edit1：我正在使用支持 Apache 的 htaccess 模块的 LiteSpeed Web 服务器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:03:46.903

您可以尝试 Htaccess 的“允许 orign”方法。

```
Header add Access-Control-Allow-Origin "example.com"
Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS" 
```

希望它有效。此致。乔纳斯

# iphone - json解析时出错

> ID：14952534
> 
> 赞同：0
> 
> 时间：2013-02-19T07:59:19.547
> 
> 标签：iphone, ios, objective-c, json, nsarray

我在 json 解析过程中遇到错误。当我尝试使用浏览器发送参数时，它会向我发送记录存储成功的成功消息。但是当我通过 iphone 发送表单参数时，我什么也得不到，在数组中我得到`NULL`了值。这是 json 解析代码。

```
 NSString *string1 = [[NSString alloc]initWithFormat:@"http://195.78.76.34/bedspace/mobileapi.php?action=save_room_info&Area=%@&Address=%@&Living_room=%@&Amenties=%@&Type_of_cost=%@&cost_of_room=%@&Security_deposit=%@&STLC=%@&Days_available=%@&Bill_included=%@&Broadband_available=%@&Exc_Smoke=%@&Exc_gender=%@&Exc_pets=%@&Exc_age=%@&Exc_language=%@&Exc_nationality=%@&Exc_Sexorientition=%@&Exc_intrest=%@&Pre_smoke=%@&Pre_gender=%@&Pre_occupation=%@&Pre_pets=%@&Pre_min_age=%@&Pre_max_age=%@&Pre_nationaltiy=%@&Pre_Language=%@&Pre_Sexorientition=%@&Misc=%@&Title=%@&Description=%@&Your_name=%@&Your_email=%@&Email_alert=%@&No_of_rooms=%@&Country=%@&City=%@&State=%@&Size_of_property=%@&Type_of_property=%@&Occupets_property=%@&My_property_status=%@&Amenties_two=%@&Size_of_room=%@&Refrence_required=%@",area,address,livingRoomVal,amenties,typeOfCost,costOfRoom,securityDeposit,STLC,daysAvailable,billsIncluded,broadbandAvailable,eSmoke,eGender,ePets,eAge,eLanguage,eNationality,eSexOrientation,eInterest,pSmoke,pGender,pOccupation,pPets,pMinAge,pMaxAge,pNationality,pLanguage,pSexOrientation,misc,title,description,yourName,yourEmail,emailAlerts,noOfRooms,country,city,state,sizeOfProperty,typeOfProperty,occupentsOfProperty,myPropertyStatus,amentiesTwo,sizeOfRoom,refrenceRequired];
    NSLog(@"string 1 value %@",string1);
    NSURL *urlRequest = [NSURL URLWithString:string1];
    NSURLRequest *request = [[NSURLRequest alloc]initWithURL:urlRequest];
   NSData *dataResponce = [NSURLConnection sendSynchronousRequest:request returningResponse:Nil error:Nil];

    NSError *jsonParsingError = nil;
    NSArray *publicTimeline = [NSJSONSerialization JSONObjectWithData:dataResponce options:0 error:&jsonParsingError]; 
 NSLog(@"get values %@",publicTimeline); 
```

我不知道问题是什么。我也使用过`SBJsonParser`，但我在数组中什么都没有，之后我使用了 NSJSONSerialization，同样的问题仍然发生，我在 NSData 和 NSArray 中什么也没有。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T08:07:47.167

你不能用参数填充 URL 并且仍然期望它是合法的，所以你需要在使用之前对 URL 进行 URL 编码：

```
NSURL *urlRequest = [NSURL URLWithString:[string1 stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]]; 
```

# java - Android 上的 Proguard 并使用 Json

> ID：14952536
> 
> 赞同：3
> 
> 时间：2013-02-19T07:59:23.320
> 
> 标签：java, android, eclipse, proguard, libgdx

我有一堂课：

```
public class ObjectSettings 
{
public TextureRegion Region;
public ObjectType ObjectType;
public ObjectAffect ObjectAffect;
public String Name;
public int MinimumInterval = 0;
public int MaximumInterval = 0;
public Vector2 Center;

public static ObjectSettings load(int number) {
    ObjectSettings settings = null;
    try {
        Json json = new Json();     
        settings = json.fromJson(ObjectSettings.class, Integer.toString(number) + 
        Constants.FILE_EXT_JSON));
    } finally {};
    return settings;
}
} 
```

当我使用 proguard 时，我收到以下错误：

```
02-19 08:48:56.709: E/AndroidRuntime(29042): com.badlogic.gdx.utils.SerializationException: Error reading file: data/settings/0.json 
```

和：

```
02-19 08:48:56.709: E/AndroidRuntime(29042): Caused by: com.badlogic.gdx.utils.SerializationException: Field not found: ObjectType (com.myname.mapapp.data.ObjectSettings) 
```

我需要在我的 proguard.cfg 文件中添加什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-17T07:58:35.140

我有一个类似的问题，这对我有用：

```
-keepclassmembers class yourPackageName.YourClassName{
   *;
} 
```

`YourClassName`并且`yourPackageName`是您传递给 fromJson 函数的类和类包的名称。

# background-image - CSS 背景图像过渡的后备

> ID：14952538
> 
> 赞同：0
> 
> 时间：2013-02-19T07:59:33.200
> 
> 标签：background-image, css-transitions, fallback

我正在为 background-image 属性使用 CSS 转换，但据我所知，它们仅受 Chrome 和 Webkit 支持（它似乎在 Safari 5.1.7 中不起作用）。我真的不想使用 jQuery 进行过渡，因为它唯一的解决方案是淡出元素（以及随之而来的内容）并使用新背景淡出。通常我会以标准方式进行操作，并在包装​​器内有多个 div 或图像以在其间旋转，但是该站点的设置方式根本行不通（从技术上讲它可以，但它看起来荒谬且不必要地过度-复杂）。

访问这里的网站，你会明白我的意思：[http ://bos.rggwebdesigns.com/](http://bos.rggwebdesigns.com/)

是否有某种方法可以安全地回退到尚不支持背景图像转换的其他浏览器，无论是完全禁用它还是其他方法？如果浏览器无法处理，我不希望用户只看到背景突然发生变化。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:02:19.680

您可以使用 Modernizr 进行特征检测，然后相应地动态更改您的 CSS。

[现代化](http://modernizr.com/)

# c# - 如何为 Base64 应用填充

> ID：14952546
> 
> 赞同：-1
> 
> 时间：2013-02-19T08:00:12.833
> 
> 标签：c#, .net, encryption, cryptography

当我使用四个字母的单词作为输入时，我有以下代码可以正常工作，例如“测试”。当输入不是 4 的倍数时，它会失败，例如“MyTest”。

> 异常：Base-64 字符数组的长度无效。

**问题**

1.  是否保证加密的结果将始终与 Unicode 字符串兼容（没有任何损失）。如果是，我可以使用 UTF 编码而不是 Base64 吗？[UTF8/UTF16和Base64在编码方面有什么区别](https://stackoverflow.com/questions/3866316/whats-the-difference-between-utf8-utf16-and-base64-in-terms-of-encoding)
2.  即使输入不是 4 的倍数，如何添加填充以便我们得到正确的结果（解密后）？

**主要程序**

```
class Program
{
    static void Main(string[] args)
    {
        string valid128BitString = "AAECAwQFBgcICQoLDA0ODw==";
        string inputValue = "MyTest";
        string keyValue = valid128BitString;

        byte[] byteValForString = Convert.FromBase64String(inputValue);
        EncryptResult result = Aes128Utility.EncryptData(byteValForString, keyValue);
        EncryptResult encyptedValue = new EncryptResult();
        string resultingIV = "4uy34C9sqOC9rbV4GD8jrA==";
        if (String.Equals(resultingIV,result.IV))
        {
            int x = 0;
        }

        encyptedValue.IV = resultingIV;
        encyptedValue.EncryptedMsg = result.EncryptedMsg;

        string finalResult = Convert.ToBase64String(Aes128Utility.DecryptData(encyptedValue, keyValue));
        Console.WriteLine(finalResult);

        if (String.Equals(inputValue, finalResult))
        {
            Console.WriteLine("Match");
        }
        else
        {
            Console.WriteLine("Differ");
        }

        Console.ReadLine();
    }
} 
```

**AES 加密实用程序**

```
public static class Aes128Utility
{
    private static byte[] key;

    public static EncryptResult EncryptData(byte[] rawData, string strKey)
    {
        EncryptResult result = null;
        if (key == null)
        {
            if (!String.IsNullOrEmpty(strKey))
            {
                key = Convert.FromBase64String((strKey));
                result = Encrypt(rawData);
            }
        }
        else
        {
            result = Encrypt(rawData);
        }

        return result; 

    }

    public static byte[] DecryptData(EncryptResult encryptResult, string strKey)
    {
        byte[] origData = null;
        if (key == null)
        {
            if (!String.IsNullOrEmpty(strKey))
            {
                key = Convert.FromBase64String(strKey);
                origData = Decrypt(Convert.FromBase64String(encryptResult.EncryptedMsg), Convert.FromBase64String(encryptResult.IV));
            }
        }
        else
        {
            origData = Decrypt(Convert.FromBase64String(encryptResult.EncryptedMsg), Convert.FromBase64String(encryptResult.IV));
        }

        return origData; 
    }

    private static EncryptResult Encrypt(byte[] rawData)
    {
        using (AesCryptoServiceProvider aesProvider = new AesCryptoServiceProvider())
        {
            aesProvider.Key = key;
            aesProvider.Mode = CipherMode.CBC;
            aesProvider.Padding = PaddingMode.PKCS7;
            aesProvider.IV = Convert.FromBase64String("4uy34C9sqOC9rbV4GD8jrA==");
            using (MemoryStream memStream = new MemoryStream())
            {
                CryptoStream encStream = new CryptoStream(memStream, aesProvider.CreateEncryptor(), CryptoStreamMode.Write);
                encStream.Write(rawData, 0, rawData.Length);
                encStream.FlushFinalBlock();
                EncryptResult encResult = new EncryptResult();
                encResult.EncryptedMsg = Convert.ToBase64String(memStream.ToArray());
                encResult.IV = Convert.ToBase64String(aesProvider.IV);
                return encResult;
            }
        }
    }

    private static byte[] Decrypt(byte[] encryptedMsg, byte[] iv)
    {
        using (AesCryptoServiceProvider aesProvider = new AesCryptoServiceProvider())
        {
            aesProvider.Key = key;
            aesProvider.IV = iv;
            aesProvider.Mode = CipherMode.CBC;
            aesProvider.Padding = PaddingMode.PKCS7;
            using (MemoryStream memStream = new MemoryStream())
            {
                CryptoStream decStream = new CryptoStream(memStream, aesProvider.CreateDecryptor(), CryptoStreamMode.Write);
                decStream.Write(encryptedMsg, 0, encryptedMsg.Length);
                decStream.FlushFinalBlock();
                return memStream.ToArray();
            }
        }
    }

 } 
```

**DTO**

```
public class EncryptResult
{
    public string EncryptedMsg { get; set; }
    public string IV { get; set; }
} 
```

**参考文献**：

1.  [如何使用 FromBase64String 创建长度为 16 的字节 []](https://stackoverflow.com/questions/14954248/how-to-create-byte-with-length-16-using-frombase64string)
2.  [使用 AesCryptoServiceProvider 获取不正确的解密值](https://stackoverflow.com/questions/14937707/getting-incorrect-decryption-value-using-aescryptoserviceprovider)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:11:01.877

Base64 是一种将二进制值表示为文本的方法，这样您就不会与常见的控制代码（如`\x0A`换行符或`\0`字符串终止符）发生冲突。它**不适**用于将**输入的文本**转换为二进制。

以下是您应该如何传递文本并将其取回。您可以替换`UTF8`为您想要的任何编码，但您需要确保`Encoding.Whatever.GetBytes`与`Encoding.Whatever.GetString`

```
class Program
{
    static void Main(string[] args)
    {
        string valid128BitString = "AAECAwQFBgcICQoLDA0ODw==";
        string inputValue = "MyTest";
        string keyValue = valid128BitString;

        //Turns our text in to binary data
        byte[] byteValForString = Encoding.UTF8.GetBytes(inputValue);

        EncryptResult result = Aes128Utility.EncryptData(byteValForString, keyValue);
        EncryptResult encyptedValue = new EncryptResult();

        //(Snip)

        encyptedValue.IV = resultingIV;
        encyptedValue.EncryptedMsg = result.EncryptedMsg;

        string finalResult = Encoding.UTF8.GetString(Aes128Utility.DecryptData(encyptedValue, keyValue));
        Console.WriteLine(finalResult);

        if (String.Equals(inputValue, finalResult))
        {
            Console.WriteLine("Match");
        }
        else
        {
            Console.WriteLine("Differ");
        }

        Console.ReadLine();
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T08:06:05.010

如果您正在加密，那么为我编码 Base64 不会增加任何有用的东西，反而会带来您面临的问题。

至于填充，我看到的一个解决方案是创建一个确实是 4 的倍数的新字节 []，并将源字节 [] 复制到该新字节 []。

所以，像这样：

```
 if (rawdata.Length % 16 !=0)
 {
      newSource = new byte[source.Length + 16 - source.Length % 16];
      Array.Copy(source, newSource, source.Length);
 } 
```

# c++ - 为什么要打印“operator + operator +”作为输出？有人可以对此有所了解吗？

> ID：14952552
> 
> 赞同：2
> 
> 时间：2013-02-19T08:00:22.360
> 
> 标签：c++, operator-keyword

为什么要打印“operator + operator +”作为输出？我的期望是“运算符 + 双运算符 +”。有人可以对此有所了解吗？

```
#include<iostream>
using namespace std;

     struct mydata{
        int mx;
        mydata(int x = 0){}
        mydata operator+(const mydata& rhs){
                cout<<" operator + ";
                mydata temp(rhs);
                return temp;
        }
        operator int() const{cout<<" int "; return mx; }
        operator double() const{cout<" double "; return mx; }
};

int main(){
        mydata d;
        mydata r = d + mydata(5); // L1
        5 + (double)d; // L2
        d + d; // L3
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:06:47.450

`cout<" double "`应该是`cout << " double "`。我很惊讶按原样编译。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:13:40.930

奇怪的是，它编译并运行`VS2008`并产生 OP 的答案和这个容易错过的警告：

```
warning C4552: '<' : operator has no effect; expected operator with side-effect 
```

然而，GCC 在编译时确实会发出一声巨响（这实际上很好）：

```
test.cpp: In member function 'mydata::operator double() const':
test.cpp:14: error: no match for 'operator<' in 'std::cout < " double "'
test.cpp:14: note: candidates are: operator<(const char*, const char*) <built-in>
test.cpp:14: note:                 operator<(void*, void*) <built-in> 
```

因此，如果 OP 正在使用`VS`它可能会很好地关注警告。

# c# - 如何在没有显式类型转换的情况下从 View 设置 ViewModel 的属性

> ID：14952555
> 
> 赞同：0
> 
> 时间：2013-02-19T08:00:28.807
> 
> 标签：c#, xaml, mvvm, windows-phone-7.1, mvvm-light

我是 mvvm 的新手，所以我真的需要你的帮助。

在我的 wp7 应用程序中，我正在尝试使用 MVVM Light 工具包。我有两个视图：“主要”和 2 模式“新建”，用于添加一些项目和编辑一些项目。

```
class Item
{
  public int ID {get; set;}
  public string Name {get; set;}
} 
```

当我从 MainView 导航到 NewView 时，如果我想编辑项目，我会在查询字符串中添加“Name”参数。在 NewView 我有文本框：

```
<TextBox Grid.Column="1" Name="txtListName" Text="{Binding ItemName}"/> 
```

新视图模型：

```
class NewViewModel
{
  public string ItemName { get; set; }
} 
```

如何在**没有***NewView.xaml.cs*中的代码的情况下从 NewView 设置ItemName属性

```
(this.DataContext as NewViewModel).ItemName = name; 
```

预先感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T05:11:27.300

我已经决定了这个问题。在 NewView 我设置为文本框双向绑定：

```
<TextBox Grid.Column="1" Name="txtListName" Text="{Binding ItemName,Mode=TwoWay}"/> 
```

然后在视图的加载事件中，我设置了这个文本框的文本属性：

```
void NewView_Loaded(object sender, RoutedEventArgs e)
{
    String name;
    if (NavigationContext.QueryString.TryGetValue("Name", out name))
        this.txtListName.Text = name;
} 
```

在设置 NewViewModel 的属性 ItemName 之后！

# svn - 在 Eclipse 中提交 SVN 时出错

> ID：14952558
> 
> 赞同：0
> 
> 时间：2013-02-19T08:00:38.897
> 
> 标签：svn

这是第一次发生，

当我通过eclipse提交我的一个文件时，它在提交时给出了以下错误。请指教。“过时”错误是什么意思。

![在此处输入图像描述](../Images/f935b386fb250a9ee735c2247c66a03a.png)

* * *

更新：

见下图，我只是点击提交。没有其他的。

![在此处输入图像描述](../Images/cffa4c21e85ac89657ebb57eb26c75ba.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T02:25:02.970

名为“Redundant Control System.xml”的文件在存储库中的版本比您的工作副本所基于的版本（称为 BASE）要新。Subversion 将不允许您提交与您在存储库中提交的文件的最后修改版本不同的 BASE 文件。

您应该运行更新，处理任何导致的合并或冲突，然后再次尝试提交。

svnbook 的这一部分包括： [http ://svnbook.red-bean.com/en/1.7/svn.tour.cycle.html#svn.tour.cycle.commit](http://svnbook.red-bean.com/en/1.7/svn.tour.cycle.html#svn.tour.cycle.commit)

# c# - 如何在 GridView 中仅选择一个特定列中的所有复选框？

> ID：14952561
> 
> 赞同：1
> 
> 时间：2013-02-19T08:00:43.513
> 
> 标签：c#, javascript, asp.net

我有一个 GridView，其中有两列复选框，我想在顶部添加两个单独的“选中所有”文本框，A 列上方的“选中所有”应该只选中该列中的所有复选框。B 列上方的“全部检查”应仅检查 B 列中的所有列。我也无法应用 groupvalidation。对于每一行，应该只选择两列中的一列。我尝试找到解决方案，但是当我单击顶部的全部检查时，它会检查网格视图中存在的所有复选框，并且也没有组验证。这是我的代码..

头：

```
<script type = "text/javascript">
    function Check_Click(objRef) {
        //Get the Row based on checkbox
        var row = objRef.parentNode.parentNode;
        if (objRef.checked) {
            //If checked change color to Aqua
            row.style.backgroundColor = "aqua";
        }
        else {
            //If not checked change back to original color
            if (row.rowIndex % 2 == 0) {
                //Alternating Row Color
                row.style.backgroundColor = "#C2D69B";
            }
            else {
                row.style.backgroundColor = "white";
            }
        }

        //Get the reference of GridView
        var GridView = row.parentNode;

        //Get all input elements in Gridview
        var inputList = GridView.getElementsByTagName("input");

        for (var i = 0; i < inputList.length; i++) {
            //The First element is the Header Checkbox
            var headerCheckBox = inputList[0];

            //Based on all or none checkboxes
            //are checked check/uncheck Header Checkbox
            var checked = true;
            if (inputList[i].type == "checkbox" && inputList[i] != headerCheckBox) {
                if (!inputList[i].checked) {
                    checked = false;
                    break;
                }
            }
        }
        headerCheckBox.checked = checked;

    }
</script>
<script type = "text/javascript">
    function checkAll(objRef) {
        var GridView = objRef.parentNode.parentNode.parentNode;
        var inputList = GridView.getElementsByTagName("input");
        for (var i = 0; i < inputList.length; i++) {
            //Get the Cell To find out ColumnIndex
            var row = inputList[i].parentNode.parentNode;
            if (inputList[i].type == "checkbox" && objRef != inputList[i]) {
                if (objRef.checked) {
                    //If the header checkbox is checked
                    //check all checkboxes
                    //and highlight all rows
                    row.style.backgroundColor = "aqua";
                    inputList[i].checked = true;
                }
                else {
                    //If the header checkbox is checked
                    //uncheck all checkboxes
                    //and change rowcolor back to original 
                    if (row.rowIndex % 2 == 0) {
                        //Alternating Row Color
                        row.style.backgroundColor = "#C2D69B";
                    }
                    else {
                        row.style.backgroundColor = "white";
                    }
                    inputList[i].checked = false;
                }
            }
        }
    }
</script> 
```

身体：

```
<asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False">
                        <Columns>
                            <asp:BoundField DataField="RollNo" HeaderText="RollNo" />
                            <asp:TemplateField HeaderText="Date">
                                <EditItemTemplate>
                                    <asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>
                                    <asp:CalendarExtender ID="CalendarExtender1" runat="server" 
                                        TargetControlID="TextBox1">
                                    </asp:CalendarExtender>
                                </EditItemTemplate>
                                <HeaderTemplate>                                   
                                    &nbsp;
           </HeaderTemplate>
                                <ItemTemplate>
                                    <asp:TextBox ID="TextBox2" runat="server"></asp:TextBox><asp:CalendarExtender ID="CalendarExtender2"
                                        runat="server" TargetControlID="TextBox2">
                                    </asp:CalendarExtender>
                                </ItemTemplate>
                            </asp:TemplateField>
                            <asp:BoundField HeaderText="Time" />
                            <asp:TemplateField HeaderText="Absent">
                                <ItemTemplate>
                                    <asp:CheckBox ID="CheckBox1" runat="server" Text="Absent" />
                                    &nbsp;
                                </ItemTemplate>
                            </asp:TemplateField>
                            <asp:TemplateField HeaderText="Present">
                                <HeaderTemplate>
                                    <asp:CheckBox ID="checkAll" runat="server" onclick = "checkAll(this);" />
                                </HeaderTemplate>
                                <ItemTemplate>
                                    <asp:CheckBox ID="CheckBox2" runat="server" Text="Present" 
                                        onclick = "Check_Click(this)" />
                                </ItemTemplate>
                            </asp:TemplateField>
                        </Columns>
                    </asp:GridView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T13:16:17.080

好的，我找到了解决问题的方法。虽然还是有一点毛病。

头：

```
 <div runat="server">

    <script type="text/javascript">
        function SelectAll(id) {
            //get reference of GridView control
            var grid = document.getElementById("<%= GridView1.ClientID %>");
            //variable to contain the cell of the grid
            var cell;

            if (grid.rows.length > 0) {
                //loop starts from 1\. rows[0] points to the header.
                for (i = 1; i < grid.rows.length; i++) {
                    //get the reference of first column
                    cell = grid.rows[i].cells[4];

                    //loop according to the number of childNodes in the cell
                    for (j = 0; j < cell.childNodes.length; j++) {
                        //if childNode type is CheckBox                 
                        if (cell.childNodes[j].type == "checkbox") {
                            //assign the status of the Select All checkbox to the cell checkbox within the grid
                            cell.childNodes[j].checked = document.getElementById(id).checked;
                        }
                    }
                }
            }
        }

        function SelectAll1(id) {
            //get reference of GridView control
            var grid = document.getElementById("<%= GridView1.ClientID %>");
            //variable to contain the cell of the grid
            var cell;

            if (grid.rows.length > 0) {
                //loop starts from 1\. rows[0] points to the header.
                for (i = 1; i < grid.rows.length; i++) {
                    //get the reference of first column
                    cell = grid.rows[i].cells[3];

                    //loop according to the number of childNodes in the cell
                    for (j = 0; j < cell.childNodes.length; j++) {
                        //if childNode type is CheckBox                 
                        if (cell.childNodes[j].type == "checkbox") {
                            //assign the status of the Select All checkbox to the cell checkbox within the grid
                            cell.childNodes[j].checked = document.getElementById(id).checked;
                        }
                    }
                }
            }
        }
    </script>

 <script type = "text/javascript">
     function CheckBoxCheck(rb) {
         var gv = document.getElementById("<%=GridView1.ClientID%>");
         var row = rb.parentNode.parentNode;
         var rbs = row.getElementsByTagName("input");
         for (var i = 0; i < rbs.length; i++) {
             if (rbs[i].type == "checkbox") {
                 if (rbs[i].checked && rbs[i] != rb) {
                     rbs[i].checked = false;
                     break;
                 }
             }
         }
     }   
</script>

        </div> 
```

身体：

```
<asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" 
                        onrowdatabound="GridView1_RowDataBound">
                        <Columns>
                            <asp:BoundField DataField="RollNo" HeaderText="RollNo" />
                            <asp:TemplateField HeaderText="Date">
                                <EditItemTemplate>
                                    <asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>
                                    <asp:CalendarExtender ID="CalendarExtender1" runat="server" 
                                        TargetControlID="TextBox1">
                                    </asp:CalendarExtender>
                                </EditItemTemplate>
                                <HeaderTemplate>                                   
                                    &nbsp;
           </HeaderTemplate>
                                <ItemTemplate>
                                    <asp:TextBox ID="TextBox2" runat="server"></asp:TextBox><asp:CalendarExtender ID="CalendarExtender2"
                                        runat="server" TargetControlID="TextBox2">
                                    </asp:CalendarExtender>
                                </ItemTemplate>
                            </asp:TemplateField>
                            <asp:BoundField HeaderText="Time" />
                            <asp:TemplateField HeaderText="Present">
                                <AlternatingItemTemplate>
                                    <asp:CheckBox ID="cbSelectAll1" runat="server" onclick="CheckBoxCheck(this)" />
                                </AlternatingItemTemplate>
                                <HeaderTemplate>
                                    <asp:CheckBox ID="cbSelectAll1" runat="server" Text="All Absent" 
                                        onclick="CheckBoxCheck(this)" AutoPostBack="True" ValidationGroup="a" />
                                </HeaderTemplate>
                                <ItemTemplate>
                                    <asp:CheckBox ID="cbSelectAll1" runat="server" onclick="CheckBoxCheck(this)" />
                                </ItemTemplate>
                            </asp:TemplateField>
                    <asp:TemplateField>
                    <AlternatingItemTemplate>
                        <asp:CheckBox ID="cbSelectAll" runat="server" onclick="CheckBoxCheck(this)"/>
                    </AlternatingItemTemplate>
                    <HeaderTemplate>
                        <asp:CheckBox ID="cbSelectAll" runat="server" Text="All Present" 
                            onclick="CheckBoxCheck(this)" AutoPostBack="True" ValidationGroup="a" />
                    </HeaderTemplate>
                    <ItemTemplate>
                        <asp:CheckBox ID="cbSelectAll" runat="server" onclick="CheckBoxCheck(this)" />
                    </ItemTemplate>
                </asp:TemplateField>
                        </Columns>
                    </asp:GridView> 
```

代码背后：

```
protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.Header)
        {
            //Find the checkbox control in header and add an attribute
            ((CheckBox)e.Row.FindControl("cbSelectAll")).Attributes.Add("onclick", "javascript:SelectAll('" + ((CheckBox)e.Row.FindControl("cbSelectAll")).ClientID + "')");
            ((CheckBox)e.Row.FindControl("cbSelectAll1")).Attributes.Add("onclick", "javascript:SelectAll1('" + ((CheckBox)e.Row.FindControl("cbSelectAll1")).ClientID + "')");
        }
    } 
```

问题是用户仍然可以同时选择“全选”，因此两个列同时被选中。虽然不使用全选复选框时只能选择一个。

# javascript - Angular.js 动态表单输入类型

> ID：14952562
> 
> 赞同：3
> 
> 时间：2013-02-19T08:00:44.187
> 
> 标签：javascript, angularjs

我正在尝试制作一个从 JSON 对象创建动态表单输入的 Angular.js 应用程序。

所以首先，我有一个 JSON 对象（称为字段）：

```
[
  {"field_id":209,"form_id":1,"name":"firstname","label":"First Name","type":"text"},
  {"field_id":210,"form_id":1,"name":"lastname","label":"Last Name","type":"text"},
  {"field_id":211,"form_id":1,"name":"email","label":"Email","type":"text"},
  {"field_id":212,"form_id":1,"name":"picture","label":"Picture","type":"file"},
  {"field_id":213,"form_id":1,"name":"address","label":"Address","type":"file"},
  {"field_id":214,"form_id":1,"name":"password","label":"Password","type":"password"},
  {"field_id":215,"form_id":1,"name":"","label":"","type":"submit"}
] 
```

对象键`type`是表单的输入类型。见下文：

```
<p ng-repeat="field in fields">
  {{field.name}} : <input type="{{field.type}}" value="{{record.data[field.name]}}" />
</p> 
```

现在这对`submit`, `text`,`password`和字段完全适用。但如果类型是，它会将输入类型设置为。`checkbox``radio``file``text`

如果我替换`{{field.name}}`为`{{field.type}}`文本，我可以确认它正在输出`file`。

如果我静态更改`<input type="{{field.type}}"...` 为`<input type="file"...`它将正确显示文件输入。

为什么它不允许我将输入类型动态设置为文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:13:14.827

如果元素是热门话题，则更改`type`属性时的话题。`<input>`

实际上，由于 AngularJS 的行为取决于是否添加了 jQuery（在 angular.js 之前或之后）。

在这里您可以阅读一些关于更改可能性的讨论`type`： [使用 jQuery 更改输入字段的类型](https://stackoverflow.com/questions/1544317/jquery-change-type-of-input-field)

还有对 AngularUI 的拉取请求，用于添加支持动态类型更改的新指令：[https ://github.com/angular-ui/angular-ui/pull/371](https://github.com/angular-ui/angular-ui/pull/371)

如果您发现建议的解决方案不够好（尽管在您呈现表单后类型没有更改），您可以`ng-switch`随心所欲 - 只需为用户显示正确的输入。

# ruby - Ruby PATH Aptana 设置/错误 Watir-Webdriver

> ID：14952563
> 
> 赞同：0
> 
> 时间：2013-02-19T08:00:48.507
> 
> 标签：ruby, aptana, aptana3

嗯，我很慢...

我不知道如何在 Aptana（插件 Eclipse）中更改 Ruby 的 PATH。Apatana 网站不提供任何“操作方法”。各种搜索都没有结果。这是我得到的错误。

```
/home/cmcintyre/.rvm/rubies/ruby-1.9.3-p385/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require': cannot load such file -- watir-webdriver (LoadError)
     from /home/cmcintyre/.rvm/rubies/ruby-1.9.3-p385/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
     from /home/cmcintyre/dev/bsro_rebrand_automation/test.rb:2:in `<main>' 
```

任何帮助深表感谢。

版本：Aptana 3

操作系统：Ubuntu 12.10

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T21:12:59.880

我确实发现在使用 Aptana 时将 RVM 与 Ubuntu 12.10 一起使用并不是一个好的选择。

我删除了 RVM 目录并使用以下命令安装：

```
sudo apt-get install ruby. 
```

我还重新安装了 Eclipse 并添加了 Aptana 插件。使用 apt-get 安装了 Eclipse，尽管这可能不是必需的。

Eclipse/Aptana 找到了适当的 Ruby 目录。

使用 Curl 安装时，Ruby 使用本地用户安装（尽管有全局安装说明）。因此，当您使用 sudo 命令安装 gem 时，它会将它们安装到您的根目录。Aptana 自然会感到困惑，因为您没有指向正确的 Ruby 安装。

工作完美。

我是 Linux 的新手，并认为它与我的 Mac/PC 上的相同。不过，这绝对是 Linux/Ubuntu 特有的，因为我在带有 Curl 的 Mac 上使用了相同的安装过程并且没有任何问题。

更新：如下所述，您也可以通过 RVM 更新所有 gem，而不是使用 Rubygems。这可能是对这个问题的更恰当的回答。

# java - 文件 I/O 不包含异常

> ID：14952566
> 
> 赞同：3
> 
> 时间：2013-02-19T08:00:54.043
> 
> 标签：java, file, exception, file-io

什么是最好的使用方法，例如`FileOutputStream`，不会弄乱我的代码。

示例以下代码：

我需要做的是：

```
FileOutputStream fOut = new FileOutputStream(file);    
while(!Thread.currentThread().isInterrupted()){  
   fOut.write(data);  
   //other code  
} 
```

但是如果我添加异常处理就很乱了。例如，我认为类似以下内容：

```
private FileOutputStream openStream(String file){  
   try{  
      return new FileOutputStream(file);    
   }  
   catch(FileNotFoundException e){  
      return null;  
   }    
 } 
```

但这使逻辑变得奇怪。我的意思是当我关闭流时，例如以另一种方法等。
获得更清晰代码的方法是什么

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:13:48.367

不幸的是，在 Java 中没有直接的方法可以避免检查异常。几个变通办法：

## 使用不同的语言

[groovy](/questions/tagged/groovy "显示标记为“groovy”的问题")和[scala](/questions/tagged/scala "显示标记为“scala”的问题")都将已检查的异常视为未检查。

## *Java 7 中*的 try-with-resources习惯用法**

 *它并没有真正帮助`catch`，但大大减少了`finally`周围的方块数量`close()`。

## [`Throwables.propagate(Throwable)`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Throwables.html#propagate(java.lang.Throwable))在番石榴

避免返回`null`和吞咽异常：

```
private FileOutputStream openStream(String file){  
   try{  
      return new FileOutputStream(file);    
   }  
   catch(FileNotFoundException e){  
      return Throwables.propagate(e);  
   }    
 } 
```

另请参阅：[长尝试语句](https://stackoverflow.com/questions/14913854)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T08:13:18.980

像这样的包装器怎么样：

```
public class StreamWrapper {

    private FileOutputStream fileOutputStream;

    public FileOutputStream open(String file) {
        try {
            fileOutputStream = new FileOutputStream(file);
        } catch (FileNotFoundException e) {
            // Define action
        }
        return fileOutputStream;
    }

    public void close() {
        try {
            fileOutputStream.close();
        } catch (IOException e) {
            // Define action
        }
    }

} 
```

并像这样使用它：

```
StreamWrapper wrapper = new StreamWrapper();
FileOutputStream fOut = wrapper.open("file");
// something
wrapper.close(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T08:20:50.010

应用异常的存在是有原因的（没有人喜欢 RT 异常......）您可以使用工厂来隐藏异常处理，但“catch”子句必须在您的代码中的某个地方。

一个想法是实现您自己的 FileOutputStream 包装器，它将在实例化期间吞下异常，但由于在构造函数中抛出异常，如果文件确实不存在，您最终将处于不稳定状态。

```
public class MyFileOutputStream {

private FileOutputStream fis;

public MyFileOutputStream(File file){
    try{
        fis = new FileOutputStream(file);
    } catch (FileNotFoundException e){
        fis = null;
    }
}

public boolean isOpened(){
    return fis!=null;
}

public void write(Byte b) throws IOException {
    fis.write(b);
} 
```

}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T08:17:49.753

您可以执行以下几个选项：

首先，您的示例代码很好，唯一的好处是“如果出现异常，您将返回一个空对象”。`FileOutputStream`因此，您实际上可以发送一个对象并将其`boolean`存储`FileOutputStream`为类变量，而不是返回一个对象。

因此，如果其他程序想要访问可以进行此调用的程序，并且调用者将根据它是否可以成功创建对象而获得 True/False，如果那是 True，则可以使用该`FileOutputStream`对象的类变量。我附上了一些示例代码：

```
FileOutputStream fOutSt;

private boolean isOpenStream(String file){  
       try{  
          fOutSt = new FileOutputStream(file);
          return true;
       }  
       catch(FileNotFoundException e){  
           return false;  
       }    
 } 
```

然后来电者可以拨打电话：

```
if(isOpenStream) {
    obj.GetfOutSt;
} 
```*

# html - 使用嵌入标签嵌入视频在现代浏览器中不起作用

> ID：14952572
> 
> 赞同：0
> 
> 时间：2013-02-19T08:01:18.153
> 
> 标签：html, video, embed, wmv

我有一个非常简单的 html 页面，其中包含以下内容：

```
<embed width="260" height="282" src="rtuner.wmv" showstatusbar="true" showgotobar="true" showdisplay="true" pluginspage="http://www.microsoft.com/Windows/MediaPlayer/" type="application/x-mplayer2" name="rTuner" /> 
```

请注意，嵌入元素的 'src' 属性采用相对 url。这个非常简单的 html 元素在 Firefox 10、IE8 等旧版浏览器中播放视频，但在 FF 17 和 Chrome 27 中无法播放。如果为“src”属性分配了绝对 URL，则视频可以再次播放。

任何想法为什么会这样？

编辑：观察到的 Firebug 控制台显示此警告 - '错误：访问对象的权限被拒绝'。此消息是否提供任何提示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T12:57:33.647

这是一个 WMP 插件问题。如果浏览器有旧的 wmp 插件，则必须安装`npdsplay.dll`新的 wmp 插件。[http://kb.mozillazine.org/Windows_Media_Player](http://kb.mozillazine.org/Windows_Media_Player)`np-mswmp.dll`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-14T16:48:45.500

如果要嵌入视频，请这样做..

首先，点击youtube中想要的视频，然后点击分享

![在此处输入图像描述](../Images/56d16a8abdbb1c6ba94996c6cfdd414d.png)

接下来，单击“嵌入”按钮

![在此处输入图像描述](../Images/2cfa726f8f5b62cc4057580e80fb5d1e.png)

现在您只需**复制**youtube 提供的代码**并将其粘贴到您的代码中**..这将使视频出现在您的网页中..

尝试一下..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-06-02T17:31:20.393

```
<h1>Video examples:</h1>
<iframe src="https://www.youtube.com/embed/j6gNKR0TMMo"></iframe>

<img src="https://cdn.sstatic.net/Sites/stackoverflow/Img/error-lolcat-problemz.jpg">
<embed src="https://www.youtube.com/embed/j6gNKR0TMMo" width="1000" height="600">
<h1>Image examples:</h1>
<h1>Link examples:</h1>
<a href="https://area51.stackexchange.com">Link</a> 
```

# java - 工件存在于 2 个 Maven 存储库中 - 存储库冲突

> ID：14952573
> 
> 赞同：0
> 
> 时间：2013-02-19T08:01:19.710
> 
> 标签：java, maven, hadoop, nexus

这很可能通过 Nexus 配置来解决。

我们使用 maven 进行 hadoop 开发。Nexus 被配置为所有存储库的镜像，并且存储库被添加到 nexus 公共组中。（请参阅[是否有更好的方式在 Nexus 中配置存储库？](https://stackoverflow.com/questions/14576124/is-there-better-way-of-configuring-repositories-in-nexus)）

我发现 hadoop-core artifact 版本 1.0.4 显示来自 spring-roo-repository [http://spring-roo-repository.springsource.org/release/](http://spring-roo-repository.springsource.org/release/) Nexus 仅显示 pom 可用，但我通过浏览器路径看到 jar /nexus/content/groups/public/org/apache/hadoop/hadoop-core/1.0.4/

如何使 hadoop-core 来自 Maven Central？

![Nexus 截图](../Images/27791dce3d4a8f20cc4a618455b7d5b5.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T11:46:40.973

在这种情况下，一种解决方案是配置 2 个不同的代理，并在您的 settings.xml（和/或）pom 中引用这两个代理。

然后，您至少可以控制用于搜索依赖项的**顺序。**

这对于以这种方式分离 spring 存储库可能很有用，因为 Spring 有一个讨厌的（IMO）复制依赖项的习惯（有时使用不同的 groupId 或 artefactId，但似乎并不总是如此）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T06:38:01.763

请确保 Maven 中央代理存储库在您的公共组中的 Spring-Roo-Repository 之前排序。

这是来自 Nexus 文档[管理组](http://www.sonatype.com/books/nexus-book/reference/confignx-sect-managing-groups.html)

> 请注意，Order Group Repositories 中列出的存储库的顺序很重要。当 Nexus 在组中搜索工件时，它将返回第一个匹配项。要重新排序此列表中的存储库，请单击并拖动 Ordered Group Repositories 选择列表中的存储库和组。

# android - android 架构中的 Windows 管理器

> ID：14952574
> 
> 赞同：1
> 
> 时间：2013-02-19T08:01:19.747
> 
> 标签：android, architecture

我是 android 新手，正在了解 Android 架构。我没有得到 WindowManager 的任何定义。任何人都可以帮助我在 Android 中使用窗口管理器吗？

任何帮助都是不言而喻的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T08:04:33.440

窗口管理器为应用程序创建表面，应用程序直接绘制到这些表面，而不通过窗口管理器。

窗口管理器负责组织屏幕，应用程序无法决定。窗口管理器分配表面并决定它们去哪里以及它们是如何分层的；它永远不会触及它们的位，这取决于应用程序。

# html - 如何为html中的选定选项赋予样式

> ID：14952575
> 
> 赞同：0
> 
> 时间：2013-02-19T08:01:27.507
> 
> 标签：html, css

我有这个标记我们

```
<div class="styled-offer">
  <select style="font-size:13px;" class="select offer-select" name="type">  
    <option selected="" class="selected" value="1">Sell Offers</option>
    <option value="2">Buy Offers</option>
    <option value="3">Products</option>
    <option value="4">Companies</option>
    <option value="5">Business Directory</option>
    <option value="6">Classified</option>
  </select>
</div> 
```

现在在这里您可以看到第一个被选中的选项是销售报价。现在我希望选定的选项应该是红色的，所有其余的选项应该是黑色的。就像[这个](http://www.alibaba.com/)网站一样。在这里，您可以看到选项产品默认为蓝色，当您单击选项时，它们为黑色。所以我只想要这个。我想用css制作。不在 jQuery 中。那么有人可以告诉我该怎么做吗？任何帮助和建议都将是非常可观的。

**更新** 对不起..我无法更改我的标记所以请在这个标记中指导我...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:42:35.750

嘿，谢谢大家的所有回答，但最后我得到了解决方案。这太容易了......我的标记是这样的

```
<div class="styled-offer">
  <select style="font-size:13px;" class="select offer-select" name="type">  
    <option selected="" class="selected" value="1">Sell Offers</option>
    <option value="2">Buy Offers</option>
    <option value="3">Products</option>
    <option value="4">Companies</option>
    <option value="5">Business Directory</option>
    <option value="6">Classified</option>
  </select>
</div> 
```

现在我的css会是这样的..

```
<style type="text/css">
  .styled-offer select.offer-select {
    color: #F00;
  }
  .styled-offer select.offer-select option {
    color: #333;
  }
  </style> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T08:04:56.407

尝试将您的 CSS 类“选择”应用于 a `span`，而不是应用于`option`自身：

```
<option selected="" value="1"><span class="selected" >Sell Offers</span></option> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T08:30:19.153

```
http://tympanus.net/Tutorials/CustomDropDownListStyling/index.html 
```

如果您使用默认下拉菜单，则无法尝试自定义下拉菜单。尝试此链接可能会有所帮助。

# sql-server - SQL Server 查询 - 从一个表查找到另一个表

> ID：14952576
> 
> 赞同：0
> 
> 时间：2013-02-19T08:01:32.287
> 
> 标签：sql-server

任何人都可以帮忙 - 见下面两张表

```
Table - Master
Field 1 - Id
Field 2 - Name
Field 3 - Address
Field 4 - Effective End Date
Filed 5 - Last updated date

Table - Child
Field 1 - Id
Field 2 - Name
Field 3 - Address 
```

我需要从子项中的父项进行查找，如果父项记录不存在（基于 ID、名称和地址），则更新表主的有效结束日期和最后更新日期。

SQL 的新手，因此很难处理这个基本查询。

问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:07:42.450

试试这样：

```
UPDATE  m
SET     [Effective End Date] = GETDATE()
        , [Last updated date] = GETDATE()
FROM    Master m
WHERE   NOT EXISTS
(
    SELECT  *
    FROM    Child c 
    WHERE   c.Id = m.Id
    AND     c.Name = m.Name
    AND     c.Address = m.Address
) 
```

如果您想在表中不存在`Master`具有相同记录的记录时更新记录，您可以这样做。还有一个子句返回受更新影响的行。日期将更新为今天的日期，但您可以将其设置为您需要的任何日期。`Id, Name, Address``Child``OUTPUT`

这是一个**[SQL 小提琴](http://sqlfiddle.com/#!3/6f93c/3/1)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T08:10:10.057

> 我需要从子项中的父项进行查找，如果父项记录不存在（基于 ID、名称和地址），则更新表主的有效结束日期和最后更新日期。

您在寻找`IF`和`EXISTS`吗？

```
IF EXISTS(
  SELECT 1 FROM Child c
  WHERE Id = @Id
  AND   Name = @Name
  AND   Address = @Address
) 
BEGIN
    UPDATE Master 
    SET [Effective End Date] = @EffectiveEndDate
        [Last updated date]  = @LastUpdatedDate
    WHERE Id = @Id
    AND   Name = @Name
    AND   Address = @Address 
END 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T08:16:29.090

尝试这个

```
Update Master  Set [Effective End Date] = GETDATE(), 
[Last updated date] = GETDATE()
Where id  not in ( select distinct id from Child) 
```

简单的

# asp.net-mvc - Roles.IsUserInRole("Admin") 是如何工作的？

> ID：14952579
> 
> 赞同：1
> 
> 时间：2013-02-19T08:01:43.263
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor, asp.net-membership

我试图根据登录的用户角色隐藏和显示菜单栏。所以我在剃刀视图中写了一个代码

```
 @if ( Request.IsAuthenticated && HttpContext.Current.User.IsInRole( "Admin" ) ) {
                 <li>Projects link</li>
                 <li>Profile link</li>
            } 
```

还有这个

```
 @if (Roles.IsUserInRole( "Admin" ) ) {
                 <li>Projects link</li>
                 <li>Profile link</li>
            } 
```

我已经尝试了这两种代码，它可以工作，但问题是它不适用于所有管理员。当共有 4 个用户具有管理员角色时，它仅适用于一个管理员。

当我声明另一个用户角色财务管理员它为单个用户工作时，也是同样的类型！

所有其他用户都阻止了菜单，但四个用户的用户角色相同。我不知道当剩下三个同样的角色时，它是如何只让一个用户作为管理员的。任何人都可以解释从数据库中获取角色的方法以及它是如何工作的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:59:57.453

检查`webpages_UsersInRoles`数据库中的表，因为这是控制哪些角色附加到哪些用户配置文件的原因。

也许在创建用户时分配角色也存在问题。检查您在帐户控制器上的注册方法。你应该有这样的一行：

`Roles.AddUserToRole(model.UserName, model.userRole);`

如果不是，则在创建用户时可能不会分配角色。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:17:47.787

IsInRole 方法（和所有其他方法）是数据库中的存储过程。在您的数据库中，您有 MemberShip 表。存储过程在这些表上工作。如果您说该代码将适用于连接了管理员角色的一个用户，那么我要检查的第一件事是它不会工作的其他用户是否真的拥有该角色。检查数据库中所有用户和角色连接的表。

# c# - 调用链中同一个装饰器的多个注册

> ID：14952581
> 
> 赞同：2
> 
> 时间：2013-02-19T08:01:50.987
> 
> 标签：c#, dependency-injection, inversion-of-control, simple-injector

我正在使用 SimpleInjector 进行依赖注入，我刚刚发现我可以在单个调用链中多次注册相同的装饰器，并且将根据请求的配置应用装饰器。例如，我可以插入我的 RepositoryTraceDecorator 作为我的存储库类的第一个和最后一个装饰器：

```
container.RegisterDecorator(typeof(IRepository<>), 
    typeof(RepositoryTraceDecorator<>));
container.RegisterDecorator(typeof(IRepository<>),
    typeof(RepositoryDetectChangesDecorator<>));
container.RegisterDecorator(typeof(IRepository<>),
    typeof(CrossRepositoryTransactionScopeDecorator<>));
container.RegisterDecorator(typeof(IRepository<>),
    typeof(RepositoryTraceDecorator<>));
container.RegisterDecorator(typeof(IRepository<>),
    typeof(RepositoryExceptionDecorator<>)); 
```

这是设计使然，因此我可以依赖此功能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:22:06.750

> 这是设计使然，因此我可以依赖此功能吗？

正如您刚才所展示的，在链中多次应用装饰器可能很有用，并且在未来的版本中更改此行为将是一项重大更改。我可以向您保证，您可以安全地依赖它，并且这种行为不会改变。

未来可能发生的是，新的[诊断功能](https://simpleinjector.codeplex.com/discussions/431684)会得到改进，以检测到这一点，并警告您有多个相同的装饰器。

# android - RemoteViewService 使用的游标如何被停用

> ID：14952614
> 
> 赞同：2
> 
> 时间：2013-02-19T08:04:00.040
> 
> 标签：android, android-sqlite, android-cursor, android-appwidget

我收到一些用户的 ACRA 异常报告，指出向我的 appwidget ( `RemoteViewService`) 提供数据的游标已停用/关闭。它从来没有亲自发生在我身上，但它发生得足够多，这是一个有点问题的地方。

这是我的 RemoteViewService 的代码：

```
 public static class ListItemService extends RemoteViewsService {

        public RemoteViewsFactory onGetViewFactory(final Intent intent) {

            return new RemoteViewsFactory() {

                private MyCursor cursor;

                public void onCreate() {
                    // Nothing
                }

                public synchronized void onDestroy() {
                    if (this.cursor != null)
                        this.cursor.close();
                }

                public synchronized RemoteViews getViewAt(int position) {
                      // Here I read from the cursor and it crashes with
                      // the stack trace below
                }

                public int getCount() {
                      return ((this.cursor != null) ? this.cursor.getCount() : 0);
                }

                public int getViewTypeCount() {
                    return 1;
                }

                public boolean hasStableIds() {
                    return true;
                }

                public long getItemId(int position) {
                    return position;
                }

                public RemoteViews getLoadingView() {
                    return null;
                }

                public synchronized void onDataSetChanged()
                {
                    if (this.cursor != null)
                        this.cursor.close();

                    this.cursor = getApplicationCntext().getContentResolver().query(myUri, null, null, null, null);
                }
            }; 
```

堆栈跟踪因平台版本而异。例如，我在 4.0.3 上得到以下信息：

```
android.database.StaleDataException: Attempting to access a closed CursorWindow.Most probable cause: cursor is deactivated prior to calling this method. 
```

在 2.3 上，我得到一个：

```
java.lang.IllegalStateException: attempt to re-open an already-closed object: android.database.sqlite.SQLiteQuery 
```

对于我的一生，我无法弄清楚是谁或什么东西关闭了我的光标，除了 from`onDestroy()`和`onDataSetChanged()`。一些用户报告说，当崩溃发生时，他们并没有积极地使用应用程序。

我怀疑对 ContentProvider 的多次调用可能会返回相同的光标，当我显示使用相同查询的 UI 时，它们会互相踩踏。但情况似乎并非如此，因为光标对象不同。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T00:14:20.667

在我看来，这就像多个线程之间的同步问题，一个关闭前一个游标，一个在之后立即访问它。

您可能需要考虑在第一时间关闭光标，例如 onPause 事件。

此外 - 您可以在再次访问之前添加安全预防措施，例如检查 cursor.isClosed()。您还可以在代码中添加一些同步。

使用本地 var 获取新游标并且仅在完成后替换前一个游标并关闭它的辅助方法可能是同时更快的解决方案。

来自[AOSP](http://developer.android.com/reference/android/database/Cursor.html)文档；

> 此接口提供对数据库查询返回的结果集的随机读写访问。游标实现不需要同步，因此使用来自多个线程的游标的代码应该在使用游标时执行自己的同步。

从[内容提供者基础知识](http://developer.android.com/guide/topics/providers/content-provider-basics.html)，

> ContentResolver.query() 客户端方法始终返回一个 Cursor，其中包含由查询投影指定的与查询的选择条件匹配的行的列。Cursor 对象提供对其包含的行和列的随机读取访问。使用 Cursor 方法，您可以遍历结果中的行，确定每列的数据类型，从列中获取数据，并检查结果的其他属性。某些 Cursor 实现会在提供者的数据更改时自动更新对象，或在 Cursor 更改时触发观察者对象中的方法，或两者​​兼而有之。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-14T07:52:59.223

尝试`this.cursor = null`添加`onDestory()`方法

```
public synchronized void onDestroy() {
    if (this.cursor != null){
        this.cursor.close();
        this.cursor = null
    }
} 
```

# ruby-on-rails - Rails 应用程序上的 Facebook 授权：为什么我们需要同时进行服务器端和客户端授权？

> ID：14952616
> 
> 赞同：1
> 
> 时间：2013-02-19T08:04:17.920
> 
> 标签：ruby-on-rails, facebook, omniauth

在 Ryan 的[Railscast](http://railscasts.com/episodes/360-facebook-authentication?view=asciicast) on Facebook 授权中，他在末尾添加了一些 Facebook SDK javascript 以“使用服务器端授权降级 facebook 客户端授权”。但是，我看不到它的用途。如果我们已经使用omniauth从服务器端设置了授权，为什么还要再次添加客户端授权？它有什么区别？

引用的 javascript 代码是（来自链接的 Railscast）：

```
jQuery ->
  $('body').prepend('<div id="fb-root"></div>')

  $.ajax
    url: "#{window.location.protocol}//connect.facebook.net/en_US/all.js"
    dataType: 'script'
    cache: true

window.fbAsyncInit = ->
  FB.init(appId: '<%= ENV["FACEBOOK_APP_ID"] %>', cookie: true)

  $('#sign_in').click (e) ->
    e.preventDefault()
    FB.login (response) ->
      window.location = '/auth/facebook/callback' if response.authResponse

  $('#sign_out').click (e) ->
    FB.getLoginStatus (response) ->
      FB.logout() if response.authResponse
    true 
```

**更新：**

我们需要将`FB.login`授权与服务器端授权集成的原因之一可能是 Omniauth 服务器端授权在 Facebook iFrame 中访问时不起作用。如果用户第一次访问应用程序，应用程序必须请求权限；但是，无法在 iFrame 中加载 oAuth 权限对话框以防止点击劫持。调用`FB.login`可以避免此类问题，因为它会将权限框显示为弹出窗口（Omniauth 弹出选项不起作用）。

所以现在我有一个真正的理由来集成客户端授权，但是来自 Railscasts 的代码不适用于我当前的设置。我选择了以下方式。

现在，我的脚本中有以下脚本`application.html.erb`：

```
<script>
    // Additional JS functions here
    window.fbAsyncInit = function() {
      FB.init({
        appId      : <%= ENV['FACEBOOK_KEY'] %>, // App ID
        status     : true, // check login status
        cookie     : true, // enable cookies to allow the server to access the session
        xfbml      : true  // parse XFBML
      });
    };

    // Load the SDK Asynchronously
    (function(d){
       var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement('script'); js.id = id; js.async = true;
       js.src = "//connect.facebook.net/en_US/all.js";
       ref.parentNode.insertBefore(js, ref);
     }(document));

  </script> 
```

在我看来，我有以下链接调用 Facebook 登录操作：

```
<%= link_to 'log in with facebook', '/auth/facebook', id: 'fb_log_in_link' %> 
```

我将以下脚本添加到有登录链接的视图页面。

```
function login() {
  FB.login(function(response) {
    if (response.authResponse) {
      window.location = '/auth/facebook/callback'
    }
  });
} 
```

另外，我需要更改链接以调用该函数而不是指向`/auth/facebook/`

```
<%= link_to_function 'log in with facebook', 'login()' %> 
```

完毕！服务器端和客户端授权完全集成。由于看了 Ryan 的 Railscast 之后我还是一头雾水，所以我想为可能也困惑的人补充一点解释。

它的工作方式：

1.  Facebook SDK 在页面加载时初始化。
2.  用户单击“使用 Facebook 登录”链接。
3.  `FB.login`函数由链接调用，用户完成所有权限过程（例如，出现权限对话框询问用户权限）。
4.  然后，用户被定向到`/auth/facebook/callback`。从`routes.rb`我们有线`match 'auth/:provider/callback', to: 'sessions#create'`。因此，现在服务器要么创建一个新用户，要么只创建一个会话，如果用户之前已经注册过。
5.  完毕！用户已登录。

合并服务器端和客户端授权有两个主要优点： 1\. 如果用户在 Facebook 内部（通过 appcenter）登录到应用程序，他也会在 Facebook 外部登录到应用程序。反之亦然，如果用户在 Facebook 外部登录，之后在 Facebook 内部访问，他将自动登录。2.`/auth/facebook`如果用户在 Facebook iFrame 中登录，则无法登录。为了防止*点击劫持*，Facebook 禁止提示用户在 Facebook iFrame 中验证权限对话框。避免这种情况的唯一方法是在单独的弹出窗口中打开对话框，然后登录`FB.login`解决问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:30:51.680

它只是说，

Facebook 提供了一个 JavaScript SDK，我们可以使用它在客户端对用户进行身份验证，这样他们就不会觉得他们离开了我们的应用程序然后又返回了。

这意味着这是为了客户端理解，当用户从应用程序返回时，看起来他们确实没有离开它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T09:14:42.280

简短的回答是 - 你没有。
您可以在客户端登录（通过[javascript SDK ）和使用](https://developers.facebook.com/docs/reference/javascript/)[omniauth](https://github.com/mkdynamic/omniauth-facebook)的服务器端登录之间进行选择。
服务器端登录的缺点是使服务器过载，您可以从客户端进行调用。
优点是通常令牌更长（3个月令牌而不是像客户端那样的1-2小时）。
我建议[将两者结合起来](https://developers.facebook.com/docs/howtos/login/extending-tokens/)。使用客户端进行初始登录，一旦你这样做了，服务器端就会对扩展令牌进行异步调用（仅当你必须这样做时）。

# c# - 将控件绘制到内存（位图）

> ID：14952617
> 
> 赞同：5
> 
> 时间：2013-02-19T08:04:23.103
> 
> 标签：c#, wpf, bitmap, controls, render

是否可以在根本不在屏幕上绘制的情况下将 wpf 控件绘制到内存（位图）？
我找到了一个如何保存到位图的示例，但它仅在屏幕中绘制窗口时才有效。

```
BitmapImage bitmap = new BitmapImage();
    RenderTargetBitmap renderTarget =
    new RenderTargetBitmap((int)canvaspad.Width,
    (int)canvaspad.Height,
    96,
    96,
    System.Windows.Media.PixelFormats.Default);
renderTarget.Render(canvaspad); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-19T08:49:31.183

由于控件没有父容器，您需要调用[Measure](http://msdn.microsoft.com/en-us/library/system.windows.uielement.measure.aspx)和[Arrange](http://msdn.microsoft.com/en-us/library/system.windows.uielement.arrange.aspx)才能进行正确的布局。由于布局是异步完成的（请参阅[Measure](http://msdn.microsoft.com/en-us/library/system.windows.uielement.measure.aspx)和[Arrange](http://msdn.microsoft.com/en-us/library/system.windows.uielement.arrange.aspx)中的备注），您可能还需要调用[UpdateLayout](http://msdn.microsoft.com/en-us/library/system.windows.uielement.updatelayout.aspx)以强制立即更新布局。

```
public BitmapSource RenderToBitmap(UIElement element, Size size)
{
    element.Measure(size);
    element.Arrange(new Rect(size));
    element.UpdateLayout();

    var bitmap = new RenderTargetBitmap(
        (int)size.Width, (int)size.Height, 96, 96, PixelFormats.Default);

    bitmap.Render(element);
    return bitmap;
} 
```

* * *

如果您已经设置了元素的`Width`and `Height`，您可以将其用于 size 参数：

```
var grid = new Grid
{
    Width = 200,
    Height = 200,
    Background = Brushes.Yellow
};

grid.Children.Add(
    new Ellipse
    {
        Width = 100,
        Height = 100,
        Fill = Brushes.Blue
    });

var bitmap = RenderElement(grid, new Size(grid.Width, grid.Height)); 
```

# jquery - 带有扩展 SubNav 的水平导航

> ID：14952618
> 
> 赞同：-1
> 
> 时间：2013-02-19T08:04:23.870
> 
> 标签：jquery, css, nav

所以我一直在四处寻找，找不到答案。

我想要做的是有 4 个左右的主要导航主题的导航。单击每个主题将在与该主题相关的子导航项列表下方展开（即，单击“硬件”，将显示所有硬件子主题）。

这个想法类似于您在 thecomedynetwork.ca 上单击“节目”时看到的内容

我还希望当他们单击另一个主导航时，子导航将关闭并打开新的子导航（即“硬件”将关闭而“软件”将打开）。

对不起，如果我非常模糊，我会发布代码，但我实际上是在放弃我正在尝试的一切。

更新：所以就在我认为我已经完成的时候，我无法让这件事正确执行。jsfiddle 显示它如何工作我需要它（减去明显的抛光，如缓动）：http: [//jsfiddle.net/HGTKZ/1/](http://jsfiddle.net/HGTKZ/1/)

```
var divs = $('#nav div'),
links = $('a');

links.click(function () {
$(this.hash).toggle().siblings().hide();
return false;
}); 
```

但是当发布这个东西就行不通了： http: [//agiile.com/testing6.html](http://agiile.com/testing6.html)

我链接了 jquery（来自 Google API 的 1.9.1 分钟）并且我没有收到任何语法错误......但是这个看似简单的代码将无法运行！

顺便说一句，如果有人建议改进我的 html 并且不使用#software、#hardware 等，那就太棒了。javascript:void(0) 会更好，但我想不出如何让它在这种情况下工作。

感谢你们一路上的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:06:24.110

你以前应该搜索过谷歌。

无论如何，搜索“CSS Navigation”栏。你会发现很多例子。他们会成功的。

 **好的，然后你可以建立一个这样的菜单

1.  最初使用 CSS 隐藏它

    .menu{ 显示：无；}

2.  设置事件处理程序来切换 + 动画子菜单显示。

3.  将 Jquery 用于该 slideDown 动画。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:26:17.743

的确。如果您在 Google 上搜索“Jquery 下拉菜单”或“Javascript 下拉菜单”，您会发现如下内容：

[http://css-tricks.com/simple-jquery-dropdowns/](http://css-tricks.com/simple-jquery-dropdowns/)

这应该有助于我猜；）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T21:29:17.017

至于我在 jsfiddle.net 中工作的更新问题，运行后从 jsfiddle.net/draft 获取代码似乎已经解决了这个问题！

不完全确定代码在哪里出错了，但它现在可以工作了。多谢你们！**

# regex - 正则表达式中的多个最大长度

> ID：14952621
> 
> 赞同：1
> 
> 时间：2013-02-19T08:04:34.290
> 
> 标签：regex

我有以下正则表达式：

```
[0-9]{7}-[0-9]{1}$ 
```

我应该能够匹配以下模式：

```
1234567-8
3142539-1 
```

但不是以下内容：

```
12345678-1
1234567-12 
```

目前我的正则表达式匹配 12345678-1 但不匹配 1234567-12（在 JavaScript 中）。两者都应该失败。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:09:17.890

您的模式将匹配任何以（`$`）结尾的字符串，`[0-9]{7}-[0-9]{1}`因此它将匹配这些输入..

使用`^`（字符串的开头）指定要**完全**匹配..

```
^[0-9]{7}-[0-9]{1}$ 
```

# red5 - red5 服务无法在 Windows 上启动

> ID：14952623
> 
> 赞同：0
> 
> 时间：2013-02-19T08:04:53.247
> 
> 标签：red5

我在我的 64 位 Windows 8 PC 上安装了 Red5 5.0.1。我将IP地址设置为`127.0.0.1`和端口号。作为`5080`. 它安装得很好。但是当我去服务并选择 start red5 时，它会给出以下错误消息：

```
Windows could not start the Red5 on the local computer. For more information review the System Event Log. If this is non-Microsoft service, contact the service vendor, and refer to service-specific error code 1. 
```

我`JAVA_HOME`设置为`C:\Program Files (x86)\Java\jdk1.6.0_38`. 我已经安装了 32 位 jdk。Red5 之前运行良好，但最近这个错误困扰着我。我再次卸载并重新安装了 Red5，但这没有帮助。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T04:07:06.100

如果您与另一个程序发生端口冲突，它可能会阻止 red5 运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-29T12:26:30.767

我上面链接的页面已被删除，我的帖子已作为评论发表，这是我从 wiki 保存并解决了我的问题（Windows）：

*   安装 Java JDK
*   安装 Red5
*   尝试启动 red5 服务，如果出现错误 1067，请尝试以下操作：
    *   在 /conf/wrapper.conf 添加 wrapper.java.command=[PATH to]\jre7\bin\java.exe
    *   尝试启动服务，如果仍然出现错误检查此文件夹是否存在（如果不存在，请创建它！）：C:\WINDOWS\SYSTEM32\CONFIG\SYSTEMPROFILE\APPDATA\LOCAL\TEMP\

为我工作。

# javascript - jVector - 意大利地区

> ID：14952625
> 
> 赞同：0
> 
> 时间：2013-02-19T08:04:58.503
> 
> 标签：javascript, jquery, maps, jvectormap

我正在尝试在 jVector 中使用意大利的地图，但我无法为特定区域或区域数组分配值。我试过了，试过了......但没有。地图已显示，但我无法分配，例如

```
"Veneto": 100,
"Lazio": 200,
"Sicilia": 350,
"Sardegna": 400.... 
```

我也试过：

```
"IT-Veneto": 100,
"IT-Lazio": 200,
"IT-Sicilia": 350,
"IT-Sardegna": 400.... 
```

或者

```
"VENETO": 100,
"LAZIO": 200,
"SICILIA": 350,
"SARDEGNA": 400.... 
```

和其他可能的组合。

你能帮我吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T15:28:33.640

jVectorMap 遵循 iso-3166 标准。要为意大利地区设置值，您需要使用[此处](http://en.wikipedia.org/wiki/ISO_3166-2%3aIT)描述的代码。

# objective-c - xcode UICollectionView 在开始时滚动到默认选定项目

> ID：14952628
> 
> 赞同：0
> 
> 时间：2013-02-19T08:05:02.417
> 
> 标签：objective-c, uicollectionview

我在视图控制器中创建了集合视图。我已经为委托和数据源方法编写了代码。现在我想在特定索引处启动视图，比如说 2。我在 viewDidLoad 方法中编写了以下代码。但是，它抛出异常，我的应用程序在模拟器中被终止。

```
NSIndexPath *a=[NSIndexPath indexPathWithIndex:18];
[self.myFullScreenCollectionView scrollToItemAtIndexPath:a atScrollPosition:10 animated:NO]; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T08:13:53.057

您需要在以下分配一个有效的枚举值：

```
[self.myFullScreenCollectionView scrollToItemAtIndexPath:a atScrollPosition:10 animated:NO]; 
```

这里第二个参数需要填充一个属于以下枚举**UICollectionViewScrollPosition**的整数：

```
typedef NS_OPTIONS(NSUInteger, UICollectionViewScrollPosition) {
    UICollectionViewScrollPositionNone                 = 0,

    // The vertical positions are mutually exclusive to each other, but are bitwise or-able with the horizontal scroll positions.
    // Combining positions from the same grouping (horizontal or vertical) will result in an NSInvalidArgumentException.
    UICollectionViewScrollPositionTop                  = 1 << 0,
    UICollectionViewScrollPositionCenteredVertically   = 1 << 1,
    UICollectionViewScrollPositionBottom               = 1 << 2,

    // Likewise, the horizontal positions are mutually exclusive to each other.
    UICollectionViewScrollPositionLeft                 = 1 << 3,
    UICollectionViewScrollPositionCenteredHorizontally = 1 << 4,
    UICollectionViewScrollPositionRight                = 1 << 5
}; 
```

尝试使用这些标准枚举值之一，这可能会有所帮助。我认为 10 在这里无关紧要。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-11T07:23:46.953

我一直在努力完成这项工作，现在我通过使用 CollectionView 的默认方法使其功能齐全。

这是如何将集合视图滚动到相应的项目索引。假设我希望集合视图滚动到索引 3 处的项目，这里是代码。

```
[self.collectionView scrollToItemAtIndexPath:[NSIndexPath indexPathForItem:3 inSection:0]
                            atScrollPosition:UICollectionViewScrollPositionNone
                                    animated:NO]; 
```

关键因素是`UICollectionViewScrollPositionNone`枚举值。

# javascript - 显示可滚动元素的底部，而不是默认顶部

> ID：14952629
> 
> 赞同：1
> 
> 时间：2013-02-19T08:05:07.480
> 
> 标签：javascript, html, css, overflow

如何使带有滚动条的元素从滚动底部开始？

我有`div`一个`overflow: scroll`。加载元素时，默认情况下，我们会看到元素的顶部，您必须向下滚动。我希望视图从底部开始`div`。

JS 小提琴示例。目标是默认加载底部元素：

[http://jsfiddle.net/2WpQf/](http://jsfiddle.net/2WpQf/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:11:04.073

如果您可以使用 javascript，那么您可以这样做（演示：http: [//jsfiddle.net/2WpQf/1/](http://jsfiddle.net/2WpQf/1/)）：

```
var div = document.getElementById("div");
div.scrollTop = div.scrollHeight; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:09:28.617

有一个名为 ScrollTo 的 Jquery 插件，它可以为您滚动滚动。

[滚动到（）](http://flesler.blogspot.in/2007/10/jqueryscrollto.html)

# layout - 获取小部件的父布局并删除内容

> ID：14952635
> 
> 赞同：-2
> 
> 时间：2013-02-19T08:05:36.410
> 
> 标签：layout, widget, pyqt, parent

目前 Pyqt 存在问题，因为我们需要删除我们找不到的布局内容。

这基本上是我们所拥有的：

```
<Layout1>
  <Widget1>
    <Layout2>
      <Widget2>
        ... 
```

我们一开始没有 Layout2，也不想做

```
Widget1 = Widget2 
```

所以我们添加了一个布局（Layout2），但是当我们试图改变 Widget1 的内容时，我们有一个自己重新设计的类（看起来像 Qtdesigner 生成器），带有一个 setupUi 方法和 Widget1 的参数：

```
class ... :
  def setupUi(self, Widget1):
    #Creating Layout2 with Widget1 as parent
    #Creating Widget2 with Widget1 as parent
    #Adding Widget2 to Layout2
    ... 
```

在将Widget1的内容添加到Widget1时，我们就没有问题了。然后我们需要更改内容，因此我们需要删除 Widget1 中的所有内容（好吧，我们认为删除是解决方案）。

所以问题来了：删除所有内容时，我们无法删除 2 个布局之间的神秘链接。所以我们被这一切搞砸了，我们现在完全迷路了。我们一直在尝试使用父/子方法，但我们甚至无法得到我们想要的......

正如我所说：

我怎样才能简单地删除所有 Widget1 内容，实际上如何删除 Layout2？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T07:46:14.457

We worked it out as I missed a line in the code of my collegue.

He was adding layout 2 to layout 1 and that was the problem.

So Layout just needs the children to be added to it.

# c++ - valgrind 条件跳转或移动取决于未初始化的值，这是否表明内存泄漏？

> ID：14952637
> 
> 赞同：10
> 
> 时间：2013-02-19T08:05:44.057
> 
> 标签：c++, c, valgrind

我在代码中面临内存泄漏问题，当它运行时，堆继续增加到最大值，我需要重新启动服务，我运行 top 命令并看到每当我在服务中调用场景时堆正在增加。

我用 valgrind 运行服务，

```
valgrind  --log-file=log-feb19.txt --leak-check=full --show-reachable=yes --track-origins=yes myservice 
```

在运行场景时，我没有看到任何明确丢失或可能丢失的块，但我看到很多条件跳转或移动取决于未初始化的值错误。

这些算内存泄漏吗？

我得到的例子：

```
==27278== Conditional jump or move depends on uninitialised value(s)

==27278==    at 0xC90D91E: xcsFreeMemFn (in /apps/opt/mqm/lib64/libmqmcs_r.so) 
```

...........

```
==27278==  Uninitialised value was created by a heap allocation

==27278==    at 0x4A078B8: malloc (vg_replace_malloc.c:270)

==27278==    by 0xC90E32F: xcsGetMemFn (in /apps/opt/mqm/lib64/libmqmcs_r.so) 
```

有人可以帮忙吗。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-19T08:07:43.043

不，这意味着您正在访问尚未初始化的内存：

```
int main()
{
     int unitialized;
     std::cout << unitialized << std::endl;
} 
```

会触发这个错误。

稍微更常见的是：

```
struct X 
{
     X() : i(42) { }
  private:
     int i;
     int* forgotten; // oops, not initialized
}; 
```

最后，当您不使用基于 malloc 的代码`memset`来清除整个缓冲区时，这种情况经常发生。所以，

1.  malloc 一个缓冲区大小 m
2.  读取（例如从套接字） n 个字节
3.  将 m 个字节写入文件；(mn) 字节不会被初始化

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-19T08:09:14.577

Valgrind 用户手册第[4.2.2 节对此进行了解释。使用未初始化的值](http://valgrind.org/docs/manual/mc-manual.html#mc-manual.uninitvals)：

> 当您的程序使用尚未初始化的值时，将报告未初始化值使用错误 - 换句话说，未定义。
> 
> ...
> 
> 重要的是要了解您的程序可以尽可能多地复制垃圾（未初始化）数据。Memcheck 观察到这一点并跟踪数据，但不会抱怨。仅当您的程序尝试以可能影响程序的外部可见行为的方式使用未初始化的数据时，才会发出投诉。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-19T08:08:22.363

不，这并不直接表示内存泄漏。但是，根据未初始化的变量进行条件跳转可能会导致几乎任何事情。通常使用未初始化的变量会调用未定义的行为。

# xml - xmlstarlet - 删除换行符

> ID：14952640
> 
> 赞同：7
> 
> 时间：2013-02-19T08:06:00.273
> 
> 标签：xml, linux, xmlstarlet

我有以下文件`log.xml`：

```
<entry>
  <message>Line 1
  Line 2 and so on</message>
</entry> 
```

在使用 xmlstarlet 1.0.1 的 CentOS 5.4 上，如果我运行以下命令，同时删除换行符`message`：

```
xml sel -t -m //entry -v "translate(message,'&#xa;' ,'@')" log.xml 
```

结果是：

```
Line 1@  Line 2 and so on 
```

在使用 xmlstarlet 的 CentOS 6 上：

```
1.3.1
compiled against libxml2 2.7.6, linked with 20706
compiled against libxslt 1.1.26, linked with 10126 
```

我会收到：

```
Line 1
  Line 2 nd so on 
```

注意“和”转换为空。我想这不是 xmlstarlet 的问题，而是 libxslt 的一些变化。

任何想法如何解决它？

**更新**

添加了将字母“a”转换为空的问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-21T11:12:29.627

您可以通过定义包含换行符值的变量以一般方式解决此问题：

```
--var linebreak -n --break 
```

然后将该变量用作 translate 函数的第二个参数：

```
xml sel -t -m //entry
        --var linebreak -n --break
        -v "translate(message, \$linebreak ,'@')"
        log.xml 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-21T10:40:33.267

`&#xa;`仅当 XPath 表达式本身位于 XML 文件（例如 XSLT 样式表）中时，才表示换行符。我怀疑这里发生的事情是当你说

```
translate(message,'&#xa;' ,'@') 
```

在命令行上， the`'&#xa;'`被视为一个五个字符的字符串，因此您要`translate`替换`&`为`@`并替换所有`#`,`x`和什么`a`都`;`没有。

尝试使用 ctrl-V 换行

```
xml sel -t -m //entry -v "translate(message,'<ctrl-V><CR>' ,'@')" log.xml 
```

（即在键入命令时按 ctrl-V 后跟回车 - 它会在屏幕上显示为`^M`）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-21T10:07:10.153

我不知道 xmlstarlet，但你可以试试[Xidel](http://videlibri.sourceforge.net/xidel.html)：

```
xidel log.xml -e '//message/translate(., $line-ending, "@")' 
```

我编写了从解析器到查询引擎的所有内容，因此它没有依赖关系并且在所有系统上的行为都相同。

# android - 是否可以知道用户何时发送短信？

> ID：14952646
> 
> 赞同：0
> 
> 时间：2013-02-19T08:06:15.543
> 
> 标签：android, android-intent

当用户从其他（可能是默认的）应用程序发送短信时，我想在我的应用程序中获得意图。是否可以？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:08:36.773

当然。您可以使用称为 ContentObserver 的东西。查看这个线程的详细信息：

[检测短信传入和传出](https://stackoverflow.com/questions/2735571/detecting-sms-incoming-and-outgoing)

# ios - 显示模态后 UIScrollView 高度不起作用

> ID：14952648
> 
> 赞同：1
> 
> 时间：2013-02-19T08:06:21.380
> 
> 标签：ios, uiscrollview, mwphotobrowser

我正在从服务器检索 json 数据。json 数据包括一些图像和更多文本，最后但并非最不重要的 json 大小是不可**预测**的。

这是我检索json的方法：

```
-(void)viewWillAppear:(BOOL)animated {
    if (self.jsonUrl == nil) { 
    // This control is about MWPhotoBrowser. If user returned from photo browser do not retrieve data twice

        self.view.layer.shadowOpacity = 0.75f;
        self.view.layer.shadowRadius = 10.0f;
        self.view.layer.shadowColor = [UIColor blackColor].CGColor;

        if (![self.slidingViewController.underRightViewController isKindOfClass:[DetailContextViewController class]]) {
            self.slidingViewController.underRightViewController  = [self.storyboard instantiateViewControllerWithIdentifier:@"DetailAbout"];
        }

        self.jsonUrl = [self.exampleAd getAdJSONLink];
        NSLog(@"%@", self.jsonUrl); // 

        [self backgroundTask]; // retrieving data
    } else {
        // User returned from MWPhotoBrowser so set the current height again/
        // This is not working somehow.
        [self.scrollView setContentSize:(CGSizeMake(320, currentHeight + 10))];
    }
} 
```

我将所有这些数据添加到`UIScrollView`一个子视图中。假设这是B视图。所以滚动视图的高度是不确定的。我正在计算这样的高度和设置：

```
[self.scrollView setContentSize:(CGSizeMake(320, currentHeight + 10))]; 
```

这运作良好。这是我的问题：如果我从 B 回到 A 并再次从 A 到 B，则内容大小不起作用。滚动也不起作用，但我`currentHeight`的显示正确的值。即使是检索方法也不够用，实际上还有缓存之类的东西。

使用时也有同样的问题`MWPhotoBrowser`。当我使用当前模式控制器而不是再次返回 B 视图时，滚动不起作用。

我做错了什么，任何方法或线索都会很棒。

# c# - 浏览器缓存在重建时重置

> ID：14952650
> 
> 赞同：0
> 
> 时间：2013-02-19T08:06:24.087
> 
> 标签：c#, asp.net, asp.net-mvc-4, browser-cache

我有一个从数据库返回图像的控制器操作。这些图像是静态的，它们*永远不会*改变，只有当它们“改变”时，才会为图像元素分配一个新的 ID。

我分配了一个

```
[OutputCache(CacheProfile = "ProductImages", Duration = 36000000)] 
```

对行动，

```
<add name="ProductImages" enabled="true" duration="600000" varyByCustom="ProductImages" varyByParam="" /> 
```

在 web.config->system.web->caching->outputcacheSettings->outputCacheProfiles 和

```
<clientCache cacheControlMode="UseMaxAge" cacheControlMaxAge="365.00:00:00" /> 
```

在 system.webserver->staticContent 下。

我构建它，刷新页面，获取图像。我再次刷新页面，图像是从缓存中获取的。但是，当我更改一行代码时，重新构建，再次刷新......所有图像都会从数据库中重新获取。不仅有成千上万的图像存储在数据库中，而且还将部署在 Windows Azure 中，因此优化非常重要。

请注意，标准的“静态内容”仍然被缓存，例如 Site.css 和 JQuery.js。然而，没有什么是图像。

图片访问 URL 始终是静态的，格式为 ~/Media/Image/1a00d817-6525-4d13-82bc-d0f24d26f29c

我不知道如何解决这个问题，因为虽然它在开发过程中是可以容忍的，但如果每次我重新部署到 Azure，每个人的图像缓存都会被重置......*颤抖*。

欢迎提出想法！

编辑：

我还尝试在 URL 的末尾添加扩展名（如 .jpg），因此浏览器会将其视为静态内容，并添加了

```
<add extension=".jpg" policy="CacheForTimePeriod" kernelCachePolicy="CacheForTimePeriod" location="Client" duration="365.00:00:00"/> 
```

到 system.webserver->caching->profiles，但无济于事。

启用了达林建议的标题（总是重新请求）：

```
Cache-Control:private, max-age=600000
Content-Length:4593
Content-Type:image/jpeg
Date:Tue, 19 Feb 2013 08:55:27 GMT
Expires:Tue, 26 Feb 2013 07:35:26 GMT
Last-Modified:Tue, 19 Feb 2013 08:55:26 GMT
Server:Microsoft-IIS/8.0
X-AspNet-Version:4.0.30319
X-AspNetMvc-Version:4.0
X-Powered-By:ASP.NET 
```

带有 location="Any" 的标头（仅在重建时重新请求）：

```
Cache-Control:public, max-age=600000
Content-Length:21461
Content-Type:image/jpeg
Date:Tue, 19 Feb 2013 08:57:03 GMT
Expires:Tue, 26 Feb 2013 07:37:03 GMT
Last-Modified:Tue, 19 Feb 2013 08:57:03 GMT
Server:Microsoft-IIS/8.0
Vary:*
X-AspNet-Version:4.0.30319
X-AspNetMvc-Version:4.0
X-Powered-By:ASP.NET 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:18:58.697

您可以将它们缓存在客户端上，以避免每次都访问服务器：

```
<add 
    name="ProductImages" 
    enabled="true" 
    duration="600000" 
    varyByCustom="ProductImages" 
    varyByParam="" 
    location="Client" 
/> 
```

# svn - 无法使用 jira svn 分支配置 Intellij IDEA

> ID：14952652
> 
> 赞同：2
> 
> 时间：2013-02-19T08:06:28.510
> 
> 标签：svn, version-control, intellij-idea

我已经检查了我的存储库主干。这行得通，我可以对主干进行更改。我的存储库主干网址是：

```
https://foo.jira.com/svn/PROJECTNAME/trunk 
```

我们也在使用多个分支，所以我想在 Intellij Idea 中配置它们。分支网址是：

```
https://foo.jira.com/svn/PROJECTNAME/branches 
```

在“配置 Subversion 分支”对话框中，我点击“+”按钮并弹出此错误：

```
svn: E170001: OPTIONS of '/svn': 403 Forbidden (https://foo.jira.com) 
```

我对 PROJECTNAME 项目拥有完全权限，但似乎 svn 使用 svn 文件夹作为根，尽管[https://foo.jira.com/svn/PROJECTNAME](https://foo.jira.com/svn/PROJECTNAME)设置为项目根。

谁能帮我这个？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:52:50.037

这是一个[已知的错误](http://youtrack.jetbrains.com/issue/IDEA-100308)。解决方法是手动键入分支 URL 而不是浏览。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T16:39:10.880

如上所述：将以下参数添加到 JVM（在 regedit 中编辑服务）：

```
-Dsvnkit.http.methods=Basic,Digest,Negotiate,NTLM 
```

要在 regedit 中查找服务，只需在 services.msc 中查找服务名称（例如 JIRA031011191852）并在 regedit 中搜索。

此外，如果使用 SSL，请确保在 JVM 输入参数中启用它。

```
-Dsvnkit.http.sslProtocols=SSLv3 
```

为我工作。

# jstree - 使用ajax加载以编程方式扩展jstree中的节点

> ID：14952653
> 
> 赞同：0
> 
> 时间：2013-02-19T08:06:30.613
> 
> 标签：jstree

我有一棵用 jstree 制作的树，它部分加载并在展开节点时通过 json_data 插件加载。这是代码的症结所在：

```
$("#TreeViewDiv")   
.jstree(
{
    json_data:
    {
        ajax:
        {
            url: "/Website/GetNodes",
            data: function (node) {
                //do some stuff to compile data for backend here

                return {
                    //insert data for backend here
                };
            },
            error: function () {
                $("#TreeViewDiv").html("Error initializing tree");
            }
        }
    },

    plugins: ["json_data", "ui"]
}); 
```

然后，我想扩展一些节点并选择一个叶节点，具体取决于访问该站点的用户。我这样做循环如下：

```
var nodeValues = [Parent, firstChild, leaf];

        for (var j = 0; j < nodeValues .length-1; j++) {        
            $("#TreeViewDiv").jstree("open_node", $("input[value='" + nodeValues [j] + "']"));
        } 
```

打开父节点可以正常工作，并且在显示树但未打开 firstChild 节点时会暴露 firstChild。如果我再次启动循环，第一个子节点会成功打开以显示叶节点。

我的猜测是，当上述循环试图打开它时，请求尚未完成，并且 firstChild 树节点不存在。有没有办法在尝试打开下一个节点之前等待节点加载？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T12:13:10.223

好的，所以我最终想通了。这是一种使用延迟的方法。可能有一种更简洁的方法，但是在玩了一天之后我的头很痛，所以重构将不得不等待:)

```
var deffereds = $.Deferred(function (def) { def.resolve(); });

var nodeValues = [Parent, firstChild, leaf];

for (var j = 0; j < nodeValues .length-1; j++) {  
deffereds = (function(name, deferreds) {
                return deferreds.pipe(function () {
                    return $.Deferred(function(def) {
                                                    $("#TreeViewDiv").jstree("open_node", $("input[value='" + name + "']"), function () {
                            def.resolve();
                        });
                    });
                });
            })(nodeValues [j], deffereds);      
 } 
```

这基本上将对 open_node 的调用置于延迟中，并使用来自 open_node 函数的回调来解决延迟，从而确保在打开其父节点之前没有打开任何节点。

# node.js - Nodejs在mongodb中提前一小时存储日期值

> ID：14952665
> 
> 赞同：0
> 
> 时间：2013-02-19T08:07:35.770
> 
> 标签：node.js, mongodb, date

我正在尝试从`nodejs`my中保存一个 Date 值`mongodb`，但保存的值是前一天。更确切地说是一小时。

如果我使用`console.log(new Date(this.year, this.month, this.day));`in`nodejs`我得到：

> 2013 年 3 月 19 日星期二 00:00:00 GMT+0100 (CET)

但在 mongodb 我有以下记录：

> 2013-03-18 23:00:00 +0000

记录提前一小时。

但为什么？我必须在 mongodb 中设置时区吗？我正在使用 Os X：

> 时区：欧洲/柏林

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T12:01:45.683

MongoDB 仅以 UTC 存储时间。留给应用程序进行时区转换。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T08:18:14.860

这不是提前一小时 - 它使用时区 +00:00 而不是 +01:00 存储在 mongodb 中。

00:00 +01:00 === 23:00 +00:00

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T09:01:25.473

为避免时区问题，只需添加`process.env.TZ = 'UTC'`.`"main"`

# android - 想要我的应用在启动器主屏幕上

> ID：14952672
> 
> 赞同：3
> 
> 时间：2013-02-19T08:07:53.267
> 
> 标签：android, launcher, homescreen

嘿，在启动器代码中，我希望一个应用程序显示在主屏幕上，在`AndroidManifest.xml`. 我写了这些行：

```
 <activity 
     android:name=".MyAppTabs" 
     android:theme="@android:style/Theme.NoTitleBar"
     android:label="MyApp"
     android:icon="@drawable/ic_launcher_app">
         <intent-filter>
            <action android:name="android.intent.action.MAIN"/>
            <category android:name="android.intent.category.LAUNCHER"/>
        </intent-filter>
 </activity> 
```

在添加这些行时，我正在主屏幕上获取我的应用程序，但它没有启动，但使用菜单选项我能够启动我的应用程序......有什么帮助吗？

Adiing 更多详细信息.. 我在 xml 文件夹中有 default_workspace.xml 文件，我将我的应用程序添加到最喜欢的标签...

```
<favorite
    launcher:packageName="com.android.launcher"
    launcher:className="com.android.launcher.apps.MyAppTabs"
    launcher:screen="3"
    launcher:x="3"
    launcher:y="0" /> 
```

如果需要任何其他信息..请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-07T13:11:39.230

这只能针对属于同一应用程序的应用程序（在这种情况下是您的启动器）中实现。

1.  您不应该启动要在 laucher 内部运行的应用程序的活动

2.  您应该获得要显示应用程序的父视图，

3.  将应用程序设计作为单个视图或视图组，将其视为子视图（这将是启动器父视图的子视图）

4.  将子应用程序视图添加到启动器父视图中。

# c# - 在后台每 5 分钟执行一次函数

> ID：14952677
> 
> 赞同：3
> 
> 时间：2013-02-19T08:08:14.713
> 
> 标签：c#, asp.net

我有从 Web 服务中读取数据的功能。使用该数据我创建位图。我将位图发送到显示创建的位图的面板（显示器）。手动让它像魅力一样工作。我现在需要的是，我的应用程序在后台每 5 分钟自动运行一次此功能。

我的应用程序在 IIS 下运行。我怎样才能做到这一点？有人可以帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T08:11:25.750

Asp.Net 应用程序不是这样的任务的正确框架。

您可能应该为此类任务创建[专用服务。](http://tech.pro/tutorial/895/creating-a-simple-windows-service-in-csharp)

另一种选择是创建一个[计划任务](https://stackoverflow.com/questions/7394806/creating-scheduled-tasks)，每 X 分钟运行一次

附带说明一下，如果您***必须***通过您的 asp.net 应用程序执行此操作，我建议您阅读如何[使用 ASP.NET 模拟 Windows 服务以运行计划作业](http://www.codeproject.com/Articles/12117/Simulate-a-Windows-Service-using-ASP-NET-to-run-sc)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T08:44:19.193

您不必依赖于 asp.net 项目，但您可以使用`Cache Callback`它来完成它。我找到了一个很好的方法来做到这一点。实际上我不记得链接所以我会给你一个我使用的代码：

```
public abstract class Job
{
    protected Job()
    {
        Run();
    }

    protected abstract void Execute();
    protected abstract TimeSpan Interval { get; }

    private void Callback(string key, object value, CacheItemRemovedReason reason)
    {
        if (reason == CacheItemRemovedReason.Expired)
        {
            Execute();
            Run();
        }
    }

    protected void Run()
    {
        HttpRuntime.Cache.Add(GetType().ToString(), this, null, 
            Cache.NoAbsoluteExpiration, Interval, CacheItemPriority.Normal, Callback);
    }
}

Here is the implementation
public class EmailJob : Job
{
    protected override void Execute()
    {
        // TODO: send email to whole users that are registered 
    }

    protected override TimeSpan Interval
    {
        get { return new TimeSpan(0, 10, 0); }
    }
} 
```

# bash - 如何在unix中查找包含特定类的jar文件列表

> ID：14952678
> 
> 赞同：2
> 
> 时间：2013-02-19T08:08:19.337
> 
> 标签：bash, unix

我想通过在特定目录（DIR）及其所有子目录中搜索来查找包含给定 jar 文件的列表。

我尝试了以下命令。但它提供了所有包含 CLASS FILE 名称的类。
例如：如果类是`Message.class`，则以下命令`HttpMessage.class`也会输出类似的类。

```
find <DIR> -name '*.jar' | while read F; do (echo $F; jar -tvf $F | grep <class>) done - prints the jar name if the class exists then prints the class name. 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-10-09T01:34:34.147

using`grep`可以找到匹配的jar，但是它不能列出类的命名空间。

下面的命令结合`find`和`jar`命令，它将打印出**带有包名的类**以及**jar 文件名**。

```
find . -type f -name '*.jar' -print0 |  xargs -0 -I '{}' sh -c 'jar tf {} | grep Message.class &&  echo {}' 
```

您还可以使用您的包名称进行搜索，如下所示：

```
find . -type f -name '*.jar' -print0 |  xargs -0 -I '{}' sh -c 'jar tf {} | grep com/mypackage/Message.class &&  echo {}' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-01-03T23:09:11.043

这是我为这个问题开发的一个程序：[https ://github.com/javalite/jar-explorer](https://github.com/javalite/jar-explorer)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T08:26:41.247

您可以在 grep 中使用正则表达式来指定精确匹配条件。如果您希望该行以*/Message.class 结尾*，您可以执行以下操作：

`grep '/Message.class$'`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-11-27T07:26:23.653

您也可以尝试**grep -iRl "name_of_your_class"**

# clipboard - 在任何设备上复制和粘贴

> ID：14952683
> 
> 赞同：0
> 
> 时间：2013-02-19T08:08:37.610
> 
> 标签：clipboard

我发现自己大部分时间都需要从我的手机复制一段文本甚至一个链接，然后在我的电脑上粘贴（当我走出浴室时）。

你有同样的问题吗？你用什么来解决这个问题？

问候，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:11:48.753

我为此使用[MyPhoneDesktop](http://www.myphonedesktop.com/) 。从他们的产品描述中：

> 使用 myPhoneDesktop，您可以将内容从桌面快速发送到 iPhone。无论您是想向朋友发送较长的 Google 地图 URL，还是向业务同事发送一些文本，还是向 iPhone 发送照片，myPhoneDesktop 都可以轻松完成。
> 
> myPhoneDesktop 让您的 iPhone 成为桌面的扩展，让它们无缝协作。**如果您可以复制它，您可以将其发送到 iPhone。**使用 Mac 或 PC 全键盘的舒适性，您可以发送 SMS 消息、便笺或您可以键入的任何内容。很快，它就会出现在您的 iPhone、iPad 或 iPod touch 上。

只是一个满意的用户，不以任何方式附属。

# hibernate - Spring Hibernate c3p0 JPA 实现抛出未找到驱动程序错误

> ID：14952688
> 
> 赞同：0
> 
> 时间：2013-02-19T08:09:01.480
> 
> 标签：hibernate, jpa, spring-mvc, c3p0

我正在尝试将 Hibernate Spring c3p0 和 JPA 集成到生产就绪状态。但我不断收到这个错误

```
2013-02-19T07:55:24+00:00 app[web.1]: 07:55:24,556 DEBUG BasicResourcePool:1644 - trace com.mchange.v2.resourcepool.BasicResourcePool@120fe256 [managed: 0, unused: 0, excluded: 0]
2013-02-19T07:55:24+00:00 app[web.1]: 07:55:24,559 DEBUG BasicResourcePool:1831 - An exception occurred while acquiring a poolable resource. Will retry.
2013-02-19T07:55:24+00:00 app[web.1]: java.sql.SQLException: No suitable driver
2013-02-19T07:55:24+00:00 app[web.1]:   at java.sql.DriverManager.getDriver(DriverManager.java:279)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.c3p0.DriverManagerDataSource.driver(DriverManagerDataSource.java:224)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:120)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:143)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:132)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)
2013-02-19T07:55:24+00:00 app[web.1]: 07:55:24,562  WARN BasicResourcePool:1841 - com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@60e1ccdf -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (1). Last acquisition attempt exception: 
2013-02-19T07:55:24+00:00 app[web.1]: java.sql.SQLException: No suitable driver
2013-02-19T07:55:24+00:00 app[web.1]:   at java.sql.DriverManager.getDriver(DriverManager.java:279)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.c3p0.DriverManagerDataSource.driver(DriverManagerDataSource.java:224)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:120)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:143)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:132)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)
2013-02-19T07:55:24+00:00 app[web.1]:   at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)
2013-02-19T07:55:24+00:00 app[web.1]: 07:55:24,559 DEBUG BasicResourcePool:1831 - An exception occurred while acquiring a poolable resource. Will retry.
2013-02-19T07:55:24+00:00 app[web.1]: java.sql.SQLException: No suitable driver 
```

这是我的 Pom.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>
<groupId>com.example</groupId>
<artifactId>Reservosity</artifactId>
<packaging>war</packaging>
<version>0.0.1-SNAPSHOT</version>

<properties>
    <org.springframework.version>3.1.1.RELEASE</org.springframework.version>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
</properties>

<dependencies>
    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>javax.servlet-api</artifactId>
        <version>3.0.1</version>
        <scope>provided</scope>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-webmvc</artifactId>
        <version>${org.springframework.version}</version>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-orm</artifactId>
        <version>${org.springframework.version}</version>
    </dependency>
    <dependency>
        <groupId>taglibs</groupId>
        <artifactId>standard</artifactId>
        <version>1.1.2</version>
    </dependency>
    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>jstl</artifactId>
        <version>1.2</version>
    </dependency>
    <dependency>
        <groupId>org.hsqldb</groupId>
        <artifactId>hsqldb</artifactId>
        <version>2.2.8</version>
    </dependency>
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
        <version>5.1.20</version>
    </dependency>
    <dependency>
        <groupId>commons-dbcp</groupId>
        <artifactId>commons-dbcp</artifactId>
        <version>1.4</version>
    </dependency>
    <dependency>
        <groupId>com.github.jsimone</groupId>
        <artifactId>webapp-runner</artifactId>
        <version>7.0.27.1</version>
        <scope>provided</scope>
    </dependency>

    <!-- Tiles dependency -->
    <dependency>
        <groupId>org.apache.tiles</groupId>
        <artifactId>tiles-core</artifactId>
        <version>2.2.1</version>
    </dependency>

    <dependency>
        <groupId>org.apache.tiles</groupId>
        <artifactId>tiles-jsp</artifactId>
        <version>2.2.1</version>
    </dependency>
    <dependency>
        <groupId>org.apache.tiles</groupId>
        <artifactId>tiles-api</artifactId>
        <version>2.2.1</version>
    </dependency>
    <dependency>
        <groupId>org.apache.tiles</groupId>
        <artifactId>tiles-servlet</artifactId>
        <version>2.2.1</version>
    </dependency>
    <dependency>
        <groupId>org.apache.tiles</groupId>
        <artifactId>tiles-template</artifactId>
        <version>2.2.1</version>
    </dependency>

    <!-- Security -->
    <dependency>
        <groupId>org.springframework.security</groupId>
        <artifactId>spring-security-core</artifactId>
        <version>3.1.3.RELEASE</version>
    </dependency>
    <dependency>
        <groupId>org.springframework.security</groupId>
        <artifactId>spring-security-web</artifactId>
        <version>3.1.3.RELEASE</version>
    </dependency>
    <dependency>
        <groupId>org.springframework.security</groupId>
        <artifactId>spring-security-config</artifactId>
        <version>3.1.3.RELEASE</version>
    </dependency>

    <dependency>
        <groupId>javax.validation</groupId>
        <artifactId>validation-api</artifactId>
        <version>1.0.0.GA</version>
    </dependency>
    <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-entitymanager</artifactId>
        <version>4.1.4.Final</version>
    </dependency>
    <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-validator</artifactId>
        <version>4.3.1.Final</version>
    </dependency>
    <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-c3p0</artifactId>
        <version>4.1.4.Final</version>
    </dependency>
    <dependency>
        <groupId>joda-time</groupId>
        <artifactId>joda-time</artifactId>
        <version>2.1</version>
    </dependency>

    <dependency>
        <groupId>org.codehaus.jackson</groupId>
        <artifactId>jackson-mapper-asl</artifactId>
        <version>1.9.11</version>
    </dependency>
    <!-- Junit API -->
    <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.8.1</version>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>org.mockito</groupId>
        <artifactId>mockito-all</artifactId>
        <version>1.9.5</version>
    </dependency>

    <!-- JavaMail API -->
    <dependency>
        <groupId>javamail</groupId>
        <artifactId>javamail</artifactId>
        <version>1.3.3</version>
    </dependency>
    <!-- Java Activation -->
    <dependency>
        <groupId>javax.activation</groupId>
        <artifactId>activation</artifactId>
        <version>1.1.1</version>
    </dependency>
    <!-- JavaMail extension -->
    <dependency>
        <groupId>javax.mail</groupId>
        <artifactId>mail</artifactId>
        <version>1.4.6-rc1</version>
    </dependency>
    <!-- LOG4J -->
    <dependency>
        <groupId>log4j</groupId>
        <artifactId>log4j</artifactId>
        <version>1.2.17</version>
    </dependency>
    <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-log4j12</artifactId>
        <version>1.5.6</version>
    </dependency>

    <!-- The newrelic-agent.jar dependency. -->
    <dependency>
        <groupId>com.newrelic.agent.java</groupId>
        <artifactId>newrelic-agent</artifactId>
        <version>2.12.0</version>
        <scope>provided</scope>
    </dependency>
    <!-- The newrelic-api.jar dependency. -->
    <dependency>
        <groupId>com.newrelic.agent.java</groupId>
        <artifactId>newrelic-api</artifactId>
        <version>2.12.0</version>
        <scope>compile</scope>
    </dependency>
    <!-- The newrelic-java.zip dependency. -->
    <dependency>
        <groupId>com.newrelic.agent.java</groupId>
        <artifactId>newrelic-java</artifactId>
        <version>2.12.0</version>
        <scope>provided</scope>
        <type>zip</type>
    </dependency>
    <dependency>
        <groupId>aspectj</groupId>
        <artifactId>aspectjweaver</artifactId>
        <version>1.5.4</version>
    </dependency>
</dependencies>

<build>
    <plugins>
        <plugin>
            <artifactId>maven-compiler-plugin</artifactId>
            <configuration>
                <source>1.6</source>
                <target>1.6</target>
            </configuration>
        </plugin>
        <plugin>
            <artifactId>maven-war-plugin</artifactId>
            <version>2.2</version>
        </plugin>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-dependency-plugin</artifactId>
            <version>2.6</version>
            <executions>
                <execution>
                    <id>unpack-zip</id>
                    <phase>package</phase>
                    <goals>
                        <goal>unpack-dependencies</goal>
                    </goals>
                    <configuration>
                        <artifactItems>
                            <artifactItem>
                                <groupId>com.newrelic.agent.java</groupId>
                                <artifactId>newrelic-java</artifactId>
                                <version>theVersion</version>
                                <type>zip</type>
                                <overWrite>true</overWrite>
                                <outputDirectory>target</outputDirectory>
                                <destFileName>newrelic</destFileName>
                            </artifactItem>
                        </artifactItems>
                        <outputDirectory>/newrelic</outputDirectory>
                    </configuration>
                </execution>
                <execution>
                    <phase>package</phase>
                    <goals>
                        <goal>copy</goal>
                    </goals>
                    <configuration>
                        <artifactItems>
                            <artifactItem>
                                <groupId>com.github.jsimone</groupId>
                                <artifactId>webapp-runner</artifactId>
                                <version>7.0.27.1</version>
                                <destFileName>webapp-runner.jar</destFileName>
                            </artifactItem>
                        </artifactItems>
                    </configuration>
                </execution>
            </executions>
        </plugin>
    </plugins>
</build> 
```

应用程序上下文.xml

```
<?xml  version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:jdbc="http://www.springframework.org/schema/jdbc"
xmlns:context="http://www.springframework.org/schema/context" xmlns:tx="http://www.springframework.org/schema/tx"
xmlns:mvc="http://www.springframework.org/schema/mvc"
xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                       http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd
                       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
                       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd
                       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd">

<context:annotation-config />
<context:component-scan base-package="com.muuves.reservosity" />

<mvc:annotation-driven />
<bean id="tilesConfigurer"
    class="org.springframework.web.servlet.view.tiles2.TilesConfigurer">
    <property name="definitions">
        <list>
            <value>/WEB-INF/tiles/tiles.xml</value>
        </list>
    </property>
</bean>

<bean class="org.springframework.web.servlet.view.tiles2.TilesViewResolver">
    <property name="viewClass"
        value="org.springframework.web.servlet.view.tiles2.TilesView" />
</bean>

<tx:annotation-driven />

<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
    <property name="entityManagerFactory" ref="entityManagerFactory" />
    <property name="dataSource" ref="dataSource" />
</bean>
<beans profile="default">
    <bean class="java.net.URI" id="dbUrl">
        <constructor-arg value="http://localhost:3306/reservosity" />
    </bean>

    <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource">
        <property name="url"
            value="jdbc:mysql://localhost:3306/reservosity" />
        <property name="username" value="root" />
        <property name="password" value="toor" />
    </bean>

    <bean id="entityManagerFactory"
        class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
        <property name="dataSource" ref="dataSource" />
        <property name="jpaVendorAdapter">
            <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter" />
        </property>
        <property name="jpaProperties">
            <props>
                <prop key="hibernate.dialect">org.hibernate.dialect.MySQLDialect</prop>
                <prop key="hibernate.show_sql">true</prop>
                <prop key="hibernate.hbm2ddl.auto">verify</prop>
                <prop key="hibernate.current_session_context_class">thread</prop>
            </props>
        </property>
    </bean>
</beans>

<beans profile="prod">
    <bean class="java.net.URI" id="dbUrl">
        <constructor-arg value="#{systemEnvironment['CLEARDB_DATABASE_URL']}" />
    </bean>

    <bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close">
        <property name="driverClass" value="com.mysql.jdbc.Driver" />
        <property name="jdbcUrl"
            value="#{ 'jdbc:mysql://' + @dbUrl.getHost() + @dbUrl.getPath() }" />
        <property name="user" value="#{ @dbUrl.getUserInfo().split(':')[0] }" />
        <property name="password" value="#{ @dbUrl.getUserInfo().split(':')[1] }" />
    </bean>

    <bean id="entityManagerFactory"
        class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
        <property name="dataSource" ref="dataSource" />
        <property name="jpaVendorAdapter">
            <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter" />
        </property>
        <property name="jpaProperties">
            <props>
                <prop key="hibernate.connection.provider_class">org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider</prop>
                <prop key="hibernate.dialect">org.hibernate.dialect.MySQLDialect</prop>
                <prop key="hibernate.show_sql">true</prop>
                <prop key="hibernate.hbm2ddl.auto">verify</prop>
                <prop key="hibernate.current_session_context_class">thread</prop>
                <prop key="hibernate.c3p0.acquire_increment">1</prop>
                <prop key="hibernate.c3p0.min_size">5</prop>
                <prop key="hibernate.c3p0.max_size">20</prop>
                <prop key="hibernate.c3p0.timeout">5000</prop>
                <prop key="hibernate.c3p0.max_statements">100</prop>
                <prop key="hibernate.c3p0.idle_test_period">3000</prop>
                <prop key="hibernate.c3p0.testConnectionOnCheckout">true</prop>
                <prop key="hibernate.c3p0.acquireRetryAttempts">1</prop>
            </props>
        </property>
    </bean>
</beans> 
```

安全上下文.xml

```
 <?xml version="1.0" encoding="UTF-8"?>
 <beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:security="http://www.springframework.org/schema/security"
xmlns:context="http://www.springframework.org/schema/context"
xsi:schemaLocation="http://www.springframework.org/schema/beans
                       http://www.springframework.org/schema/beans/spring-beans.xsd
                       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
                       http://www.springframework.org/schema/security
                       http://www.springframework.org/schema/security/spring-security-3.1.xsd">

<!-- <security:http auto-config='true'> -->
<security:http auto-config='true' use-expressions='true'
    once-per-request='false'>
    <security:intercept-url pattern="/welcome*"
        access="IS_AUTHENTICATED_ANONYMOUSLY" />
    <security:intercept-url pattern="/secure/**"
        access="ROLE_USER" requires-channel="https" />
    <security:intercept-url pattern="/**"
        access="hasRole('ROLE_USER')" requires-channel="any" />
    <security:intercept-url pattern="favicon.ico"
        access="permitAll" />
    <!-- <security:session-management session-fixation-protection="migrateSession"/> -->

    <!-- Make sure you are not sending login/password in plain text on open 
        channel. Use SSL (https) instead -->
    <!-- <security:intercept-url pattern="/login" requires-channel="https"/> 
        <security:intercept-url pattern="/j_spring_security_check" requires-channel="https"/> 
        <security:intercept-url pattern="/**" requires-channel="http"/> form login 
        <security:form-login login-processing-url="/j_spring_security_check" login-page="/**" 
        authentication-failure-url="/login?login_error=true" /> <security:logout 
        /> -->

    <!-- logout -->
    <!-- <security:logout logout-url="/j_spring_security_logout"/> -->

    <!-- remember me -->
    <!-- <security:remember-me key="rememberMeKey" user-service-ref="companyServiceImpl"/> -->
</security:http>

<security:authentication-manager>
    <security:authentication-provider
        user-service-ref="authenticationServiceImpl" />
</security:authentication-manager> 
```

META-INF/persistance.xml

```
<persistence-unit name="dataSource" transaction-type="RESOURCE_LOCAL">
</persistence-unit> 
```

我会很感激任何人的帮助谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T19:12:48.003

更改了以下内容，修复了它 yeeeeeeeeeeeeeeeeeeeees

持久性.xml

```
<?xml version="1.0" encoding="utf-8"?>
 <persistence xmlns="http://java.sun.com/xml/ns/persistence"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"
         version="2.0">

<persistence-unit name="dataSource">
    <provider>org.hibernate.ejb.HibernatePersistence</provider>
            <properties>
                <property key="hibernate.connection.provider_class">org.hibernate.service.jdbc.connections.internal.C3P0ConnectionProvider</property>
                <property key="hibernate.dialect">org.hibernate.dialect.MySQLDialect</property>
                <property key="hibernate.show_sql">true</property>
                <property key="hibernate.hbm2ddl.auto">verify</property>
                <property key="hibernate.current_session_context_class">thread</property>
                <property key="hibernate.c3p0.acquire_increment">1</property>
                <property key="hibernate.c3p0.min_size">5</property>
                <property key="hibernate.c3p0.max_size">20</property>
                <property key="hibernate.c3p0.timeout">5000</property>
                <property key="hibernate.c3p0.max_statements">100</property>
                <property key="hibernate.c3p0.idle_test_period">3000</property>
                <property key="hibernate.c3p0.testConnectionOnCheckout">true</property>
                <property key="hibernate.c3p0.acquireRetryAttempts">1</property>
        </properties>
</persistence-unit> 
```

应用程序上下文.xml

```
 <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
        <property name="driverClassName" value="com.mysql.jdbc.Driver"/>
        <property name="url"
            value="#{ 'jdbc:mysql://' + @dbUrl.getHost() + @dbUrl.getPath() }" />
        <property name="username" value="#{ @dbUrl.getUserInfo().split(':')[0] }" />
        <property name="password" value="#{ @dbUrl.getUserInfo().split(':')[1] }" />
    </bean>

    <bean id="entityManagerFactory"
        class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
        <property name="dataSource" ref="dataSource" />
        <property name="jpaVendorAdapter">
            <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter" />
        </property>
    </bean> 
```

# c# - 使用 C# 5 异步等待在多个游戏帧上执行的东西

> ID：14952689
> 
> 赞同：2
> 
> 时间：2013-02-19T08:09:01.097
> 
> 标签：c#, asynchronous, c#-5.0

我儿子正在编写一个简单的 RPG 游戏，其中包含许多非玩家角色（又名 NPC）。每个 NPC 都有一个关联的“脚本”来控制其行为。我们将使用一种迷你自定义脚本语言来编写这些行为，但我现在想知道在 C#5/Async 中这样做是否会更好。

举一个非常简单的例子，假设一个 NPC 只是在两点之间行走，我认为写这样的东西会很好：

```
while (true)
{
    await WalkTo(100,100);
    await WalkTo(200,200);
} 
```

WalkTo 方法将是一个异步方法，它处理与在两点之间行走有关的所有事情，并在游戏循环中的多个帧上执行此操作。它不是可以卸载到后台线程的阻塞方法。

这就是我卡住的地方......我无法找到任何以这种方式使用 async/await 的示例，但它似乎非常适合它。

想法？

* * *

这是我想做的一些非常粗略的伪代码：

```
class NpcBase
{

    // Called from game loop
    public void onUpdate(double elapsedTime)
    {
        // Move the NPC
        .
        .
        .

        // Arrived at destination?
        if (Arrived)
        {
            // How do I trigger that the task is finished?
            _currentTask.MarkComplete();        
        }

    }

    // Async method called by NPC "script"
    public async Task WalkTo(int x, int y)
    {
        // Store new target location

        // return a task object that will be "triggered" when the walk is finished
        _currentTask = <something??>
        return _currentTask;
    }

    Task _currentTask;

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T09:59:34.863

好的，听起来一个选择是[`TaskCompletionSource`](http://msdn.microsoft.com/en-us/library/dd449174.aspx)为游戏的每一帧设置一个。然后，您可以等待[`Task`](http://msdn.microsoft.com/en-us/library/dd449187.aspx)from `WalkTo`，并将结果设置为`OnUpdate`：

```
private TaskCompletionSource<double> currentFrameSource;

// Called from game loop
public void OnUpdate(double elapsedTime)
{
    ...
    var previousFrameSource = currentFrameSource;
    currentFrameSource = new TaskCompletionSource<double>();
    // This will trigger all the continuations...
    previousFrameSource.SetResult(elapsedTime);
}

// Async method called by NPC "script"
public async Task WalkTo(int x, int y)
{
    // Store new target location
    while (/* we're not there yet */)
    {
        double currentTime = await currentFrameSource.Task;
        // Move
    }
} 
```

诚然，我不确定这会有多有效……但它应该可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T13:01:04.647

我想我已经在一个简单的测试程序中弄清楚了

首先，我有一个 NPC 的基类，如下所示：

编辑：更新 NpcBase 以使用 TaskCompletionSource：

```
public class NpcBase
{
    // Derived classes to call this when starting an async operation
    public Task BeginTask()
    {
        // Task already running?
        if (_tcs!= null)
        {
            throw new InvalidOperationException("busy");
        }

        _tcs = new TaskCompletionSource<int>();

        return _tcs.Task;
    }

    TaskCompletionSource<int> _tcs;

    // Derived class calls this when async operation complete
    public void EndTask()
    {
        if (_tcs != null)
        {
            var temp = _tcs;
            _tcs = null;
            temp.SetResult(0);
        }
    }

    // Is this NPC currently busy?
    public bool IsBusy
    {
        get
        {
            return _tcs != null;
        }
    }

} 
```

作为参考，这里是带有自定义 IAsyncResult 实现而不是 TaskCompletionSource 的旧版本 NpcBase：

```
// DONT USE THIS, OLD VERSION FOR REFERENCE ONLY
public class NpcBase
{
    // Derived classes to call this when starting an async operation
    public Task BeginTask()
    {
        // Task already running?
        if (_result != null)
        {
            throw new InvalidOperationException("busy");
        }

        // Create the async Task
        return Task.Factory.FromAsync(
            // begin method
            (ac, o) =>
            {
                return _result = new Result(ac, o);
            },

            // End method
            (r) =>
            {

            },

            // State object
            null

            );

    }

    // Derived class calls this when async operation complete
    public void EndTask()
    {
        if (_result != null)
        {
            var temp = _result;
            _result = null;
            temp.Finish();
        }
    }

    // Is this NPC currently busy?
    public bool IsBusy
    {
        get
        {
            return _result != null;
        }
    }

    // Result object for the current task
    private Result _result;

    // Simple AsyncResult class that stores the callback and the state object
    class Result : IAsyncResult
    {
        public Result(AsyncCallback callback, object AsyncState)
        {
            _callback = callback;
            _state = AsyncState;
        }

        private AsyncCallback _callback;
        private object _state;

        public object AsyncState
        {
            get { return _state; ; }
        }

        public System.Threading.WaitHandle AsyncWaitHandle
        {
            get { throw new NotImplementedException(); }
        }

        public bool CompletedSynchronously
        {
            get { return false; }
        }

        public bool IsCompleted
        {
            get { return _finished; }
        }

        public void Finish()
        {
            _finished = true;
            if (_callback != null)
                _callback(this);
        }

        bool _finished;
    }
} 
```

接下来，我有一个简单的“NPC”，它在一维中移动。当 moveTo 操作开始时，它会调用 NpcBase 中的 BeginTask。当到达目的地时，它调用 EndTask()。

```
public class NpcTest : NpcBase
{
    public NpcTest()
    {
        _position = 0;
        _target = 0;
    }

    // Async operation to count
    public Task MoveTo(int newPosition)
    {
        // Store new target
        _target = newPosition;
        return BeginTask();
    }

    public int Position
    {
        get
        {
            return _position;
        }
    }

    public void onFrame()
    {
        if (_position == _target)
        {
            EndTask();
        }
        else if (_position < _target)
        {
            _position++;
        }
        else
        {
            _position--;
        }
    }

    private int _position;
    private int _target;
} 
```

最后，一个简单的 WinForms 应用程序来驱动它。它由一个按钮和两个标签组成。单击按钮会启动两个 NPC，并且它们的位置会显示在标签上。

```
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
    }

    private void onButtonClick(object sender, EventArgs e)
    {
        RunNpc1();
        RunNpc2();
    }

    public async void RunNpc1()
    {
        while (true)
        {
            await _npc1.MoveTo(20);
            await _npc1.MoveTo(10);
        }
    }

    public async void RunNpc2()
    {
        while (true)
        {
            await _npc2.MoveTo(80);
            await _npc2.MoveTo(70);
        }
    }

    NpcTest _npc1 = new NpcTest();
    NpcTest _npc2 = new NpcTest();

    private void timer1_Tick(object sender, EventArgs e)
    {
        _npc1.onFrame();
        _npc2.onFrame();

        label1.Text = _npc1.Position.ToString();
        label2.Text = _npc2.Position.ToString();
    }

} 
```

它有效，所有似乎都在主 UI 线程上运行......这就是我想要的。

当然，它需要修复以处理取消操作、异常等……但基本思想就在那里。

# c# - .edmx 文件是否在现实世界中使用

> ID：14952691
> 
> 赞同：4
> 
> 时间：2013-02-19T08:09:05.250
> 
> 标签：c#, entity-framework, entity-framework-5, dbcontext, edmx

我正在阅读[作者](http://www.apress.com/9781430234043)为数据访问创建自定义上下文类（*不使用 edmx 文件）的书中。*
我现在想知道。
在现实世界场景中，最常用的方法自定义`DbContext`类**或** `.edmx`文件是什么。

我知道`.edmx`如果我使用它们，我应该有不同的文件，但如果我使用自定义`DbContext`类，我是否需要有相同的文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T13:06:48.563

如果您首先使用数据库或模型，则必须拥有 edmx 文件 - 它嵌入在 dll 中，并且连接字符串引用它。它包含映射信息。

如果首先使用代码，则永远不需要 edmx 文件 - 映射信息是通过约定和/或代码（即属性等）派生的。（创建自定义 DbContext 是代码优先的方法）

代码优先的方法并没有数据库优先的方法出现，因此我猜想在现实世界的场景中更为普遍。当现有数据库结构存在时，更有可能使用数据库优先方法。但是，代码优先方法正在迅速普及。

# php - Zend Framework 2 包括自定义库

> ID：14952697
> 
> 赞同：2
> 
> 时间：2013-02-19T08:09:25.273
> 
> 标签：php, zend-framework2

我的目录结构是这样的：

*   c:\工作区\Zend
*   c:\Workspaces\自定义库

自定义库是一个共享库，在其他应用程序中使用。它不使用命名空间，只使用旧式下划线。

我下载了 ZF2-Restful-Module-Skeleton，我打算将其用作 Restful 服务器。在 InfoController 我有这个代码：

```
namespace Main\Controller;

use Zend\Mvc\Controller\AbstractRestfulController;

class InfoController extends AbstractRestfulController
{
  public function getList()
  {
    $data = array(
        'phone'   => '+30123456789',
        'email'   => 'email@domain',
    );

    $Res = new CL_Res_Chain_Mutable();

    return $data;
  }
} 
```

错误信息是：

> 致命错误：在 C:\Workspaces\Zend\module\Main\src\Main\Controller\InfoController.php 中找不到类 'Main\Controller\CL_Res_Chain_Mutable'

显然，我需要将这个自定义库添加到我的 Zend 应用程序中，但我在这里“有点”迷失了，我真的不知道该怎么做。我用谷歌搜索了几个解决方案，但似乎没有一个是这样的。

另外，我在文件夹中有另一个库`c:\Workspaces\Custom library 2`，其中有（在其他文件中）文件（类）D.php，我使用过 D::dump($data);

我怎样才能让它像这样在我的 Zend 应用程序中工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T08:20:55.373

您需要配置`StandardAutoloader`以加载您的库类。最简单的方法是修改 Application 模块的`Module::getAutoloaderConfig()`方法，使其看起来像这样：

```
public function getAutoloaderConfig()
{
    return array(
        'Zend\Loader\StandardAutoloader' => array(
            'namespaces' => array(
                __NAMESPACE__ => __DIR__ . '/src/' . __NAMESPACE__,
            ),
            'prefixes' => array(
                'CL' => 'c:\\Workspaces\\Custom library/CL',
                'D' => 'c:\\Workspaces\\Custom library 2/D',
            ),
        ),
    );
} 
```

我添加了一个`prefixes`键，然后列出了前缀名称以及在磁盘上的位置。标准自动加载器[文档](http://framework.zend.com/manual/2.1/en/modules/zend.loader.standard-autoloader.html)有更多详细信息。

如果您正在使用[Zend Skeleton 应用程序](https://github.com/zendframework/ZendSkeletonApplication)，您也可以简单地将这些名称空间添加到您的[init_autoloader.php](https://github.com/zendframework/ZendSkeletonApplication/blob/master/init_autoloader.php)文件中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T08:16:03.617

你的类的命名空间是`Main\Controller`. 如果您在此处实例化一个新类，`new CL_Res_Chain_Mutable()`php 将相对于当前命名空间加载它`Main\Controller\CL_Res_Chain_Mutable`。您的类不是命名空间类，因此您需要从根目录加载它。只需在前面放一个\ `new \CL_Res_Chain_Mutable()`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T08:57:24.407

默认情况下，您的应用程序将使用标准自动加载程序 (PSR-0)。这将根据命名空间和 ZF2 使用的命名约定找到您的文件。ZF2 将允许您注册多个 Autoloader，因此您可以使用不同的策略，这是您需要做的，这是一个示例：

模块.php

```
/**
 * Get autoloader config
 * 
 * @return array
 */
public function getAutoloaderConfig()
{
    return array(
        'Zend\Loader\ClassMapAutoloader' => array(
            // File containing class map key/value pairs
            __DIR__ . '/library/autoloader_classmap.php',
            // Or provide an array with the class map instead...
            array( 
                'Application\Bootstrap' => __DIR__ . '/application/Bootstrap.php',
                'CL_Res_Chain_Mutable'  => __DIR__ . '/library/pathhere/Mutable.php',
            ),
        ),
        'Zend\Loader\StandardAutoloader' => array(
            'namespaces' => array(
                __NAMESPACE__ => __DIR__ . '/src/' . __NAMESPACE__,
            ),
        ),
    );
} 
```

此设置将使用 tell ZF2 首先检查类映射，如果找不到它要查找的内容，它将恢复为标准自动加载器。

[http://framework.zend.com/manual/2.0/en/modules/zend.loader.class-map-autoloader.html](http://framework.zend.com/manual/2.0/en/modules/zend.loader.class-map-autoloader.html)

# java - 将一串文本打印成多行？爪哇

> ID：14952699
> 
> 赞同：-4
> 
> 时间：2013-02-19T08:09:32.377
> 
> 标签：java

我正在使用扫描仪实用程序来读取从键盘输入的句子。我想知道如何能够将此字符串文本转换为多行..

例如，如果我要输入

```
"How are you  doing?" (two spaces between you and doing) 
```

我怎么能把这个打印成多行？

```
How
are
you

doing? 
```

*使用 System.out.println( str.replace* (" ", "\n"))解决

谢谢大家。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:14:57.360

试试下面的代码

```
public static void main(String[] args) {

        Scanner a = new Scanner(System.in);
        String lines = a.nextLine();
        boolean emptyLine = true;

        for (String line : lines.split(" ")) {
            if (!"".equals(line.trim())) {
                System.out.println(line);
                emptyLine = true;

            } else if (emptyLine) {
                System.out.println();
                emptyLine = false;
            }

        }

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:15:49.900

我会这样做：

```
System.out.println(str.replaceAll(" +", "\n")); 
```

### 编辑：

计算非空白字符的数量：

```
int chars = str.replace(" ", "").length(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T08:12:31.257

首先使用扫描仪进行输入。然后使用 input.split(" ") 拆分输入的行并将其存储到 String 数组中。最后使用循环或 Arrays.tostring() 方法打印数组。

```
public static void main(String[] args) {
    String s ="How are you   doing?".replaceAll("  +","  ");
    String[] str = s.split(" ");
    System.out.println(str.length);
    for(String temp: str){
        System.out.println(temp);
    }
} 
```

试试这个：如果给定字符串中有两个以上的空格，它将只打印一个空格。

尝试仅使用`System.out.println();`

```
System.out.println(string.replaceAll("  +", "  ").replace(" ", "\n")); 
```

# java - Java JMS 访问数据库

> ID：14952700
> 
> 赞同：1
> 
> 时间：2013-02-19T08:09:34.747
> 
> 标签：java, jms

当我向其他系统发送队列并计划访问数据库以存储一些图片时，我遇到了 Java JMS 的这个问题。

我在编译器中遇到了这个错误：

> 对连接的引用不明确，java.sql 中的接口 java.sql.Connection 和 javax.jms 中的接口和接口 javax.jms Connection 都匹配 Connection connection = null;

这应该是对代码的一个非常简单的调整，但我不确定如何。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:12:51.337

您必须使用完全限定的类名，即 java.sql.Connection 或 javax.jms.Connection。否则编译器不知道你指的是哪个连接接口。

# c - 如果密钥请求被接受，libssh2 公钥认证只需要密码

> ID：14952702
> 
> 赞同：3
> 
> 时间：2013-02-19T08:09:39.787
> 
> 标签：c, ssh, libssh2

我正在使用`libssh2`使网络程序更安全。

我希望我的程序以与 OpenSSH 客户端 ssh(1) 尽可能相似的方式进行身份验证。OpenSSH 客户端只会询问服务器实际接受的密钥的密码。

[正如我从这个链接](http://www.unixwiz.net/techtips/ssh-agent-forwarding.html#key)中了解到的，一个 ssh 客户端发送一个使用公钥的请求，如果被接受，它可以使用密码解锁私钥。

libssh2 提供了一个函数[`libssh2_userauth_publickey_fromfile`](http://www.libssh2.org/libssh2_userauth_publickey_fromfile.html)，它接受私钥和公钥文件名和密码。使用此功能非常简单，但这意味着我必须获取私钥的密码，即使服务器一开始就不会接受公钥。对于拥有许多不同密钥的用户来说，这显然是一个问题（我的程序目前遍历 ~/.ssh 目录中的密钥文件）。

我已经尝试阅读`libssh2`函数的手册页，如果没有更详细的 ssh 协议知识，它们中的大多数看起来太简短了，我无法理解。事实上[，其中一些](http://www.libssh2.org/libssh2_publickey_init.html)甚至还没有写出来。

谁能告诉我如何只提示 ssh 服务器实际接受的密钥的密码`libssh2`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T16:06:07.983

在 RTFM 并进行一些测试之后，我发现这`libssh2_userauth_publickey_fromfile`将返回不同的错误代码，具体取决于服务器不接受密钥还是密码不正确。

所以，这是一个非常低效的解决方案（因为它调用`libssh2_userauth_publickey_fromfile`协议的所有密钥交换部分至少两次）。

```
int nAttempts = 3; // number of attempts the user gets at entering the passphrase

// Try authenticating with an empty passphrase
int err = libssh2_userauth_publickey_fromfile(session, user, pub, priv,"");
if (err == 0)
{
    fprintf(stderr, "You shouldn't use keys with an empty passphrase!\n");
}
else if (err == LIBSSH2_ERROR_PUBLICKEY_UNVERIFIED)
{
    // if we get here it means the public key was initially accepted
    // but the private key has a non-empty passphrase
    char p[BUFSIZ];

    for (int i = 0; i < nAttempts; ++i)
    {
         get_passphrase(p); // assume this gets the passphrase
         err = libssh2_userauth_publickey_fromfile(session, user, pub, priv,p);
         if (err != LIBSSH2_ERROR_PUBLICKEY_UNVERIFIED) break;
    }
}

if (err != 0)
{
    fprintf(stderr, "Authentication using key %s failed!\n", priv);
} 
```

为了完整起见，该`get_passphrase`函数使用[此问题](https://stackoverflow.com/questions/1196418/getting-a-password-in-c-without-using-getpass-3)的解决方案来提示用户输入密码。

# javascript - window.open() 在 chrome 中作为弹出窗口打开，但我需要在另一个选项卡中打开它

> ID：14952705
> 
> 赞同：0
> 
> 时间：2013-02-19T08:09:58.987
> 
> 标签：javascript, jquery, html

我有一个超时函数调用，在里面我想触发一个“ window.open(redir_URL,"_blank"); ”，它应该在一个新选项卡中打开，但它作为一个弹出窗口打开。

它也不是用户启动的事件，它是一个 javascript 调用。

参考：[http ://upshots.org/javascript/window-open-opening-in-popups-vs-new-tabs-with-set](http://upshots.org/javascript/window-open-opening-in-popups-vs-new-tabs-with-set)

参考这个，我试图触发一个点击事件，但这也作为一个弹出窗口打开。

有人请帮我解决这个问题吗？

铬票：[http ://code.google.com/p/chromium/issues/detail?id=20189](http://code.google.com/p/chromium/issues/detail?id=20189)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:23:16.877

这是一个浏览器设置，不是你可以用代码控制的。在我的浏览器中，您的“window.open”将打开一个新选项卡，因为这就是我的设置。在其他人的浏览器中，它可能会打开一个新窗口。

参考：[如何使用 HTML/JS 在 chrome 中打开新标签页？](https://stackoverflow.com/questions/5495328/how-do-you-open-a-new-tab-in-chrome-using-html-js)

# java - 用 jFreeChart 绘制磁滞回线

> ID：14952712
> 
> 赞同：1
> 
> 时间：2013-02-19T08:10:31.410
> 
> 标签：java, jfreechart

我需要绘制磁滞环，然后计算环内闭合的面积。我正在使用 jFreeChart。

考虑以下数据：

```
 hyst[0]=0;
       hyst[1]=0;
       hyst[2]=0.0098;
       hyst[3]=0.0196;
       hyst[4]=0.0489;
       hyst[5]=0.0879;
       hyst[6]=0.0684;
       hyst[7]=0.0489;
       hyst[8]=0.0196;
       hyst[9]=0.0098;
       hyst[10]=0;
       hyst[11]=0;
       hyst[12]=0;
       hyst[13]=0;
       hyst[14]=0;
       hyst[15]=-0.0195;
       hyst[16]=-0.0488;
       hyst[17]=-0.0391;
       hyst[18]=-0.0195;
       hyst[19]=0;
       hyst[20]=0; 
```

当我尝试：

```
 public void plotHysteresis()
   {
       int j=0;
       int i=0;
       XYSeries series1 = new XYSeries("Before Treatment");
      // DefaultCategoryDataset series1 = new DefaultCategoryDataset();
       for(i=0;i<6;i++)
       {    
        series1.add(j,hyst[i]);
        logTextArea.append(Integer.toString(j) +" : " +Double.toString(hyst[i])+"\n");
        j=j+5;
       }
       j=j-5; 
       for(;i<11;i++)
       {
        j=j-5;   
        series1.add(j,hyst[i]);
        logTextArea.append(Integer.toString(j) +" : " +Double.toString(hyst[i])+"\n");
       }
        for(;i<16;i++)
       {
        j=j-5;   
        series1.add(j,hyst[i]);
        logTextArea.append(Integer.toString(j) +" : " +Double.toString(hyst[i])+"\n");
       }
           for(;i<21;i++)
       {
        j=j+5;   
        series1.add(j,hyst[i]);
        logTextArea.append(Integer.toString(j) +" : " +Double.toString(hyst[i])+"\n");
       }

    XYSeriesCollection dataset = new XYSeriesCollection();
    dataset.addSeries(series1);

    JFreeChart chart = ChartFactory.createXYAreaChart(
"Hysteresis Plot", // chart title
"Pounds (lb)", // x axis label
"Distance (inches)", // y axis label
dataset, // data
PlotOrientation.VERTICAL,
true, // include legend
true, // tooltips
false // urls
);
    chart.setBackgroundPaint(Color.white);

    ChartPanel frame = new ChartPanel(chart);
    frame.setVisible(true);
    frame.setSize(plotPanel.getWidth(),plotPanel.getHeight());
    plotPanel.add(frame);
    plotPanel.repaint();
   } 
```

它给了我以下结果：

![在此处输入图像描述](../Images/9a846eec3cef539c671bc9fb6a6212c5.png)

如果我使用：

```
 JFreeChart chart = ChartFactory.createXYLineChart(
"Hysteresis Plot", // chart title
"Pounds (lb)", // x axis label
"Distance (inches)", // y axis label
dataset, // data
PlotOrientation.VERTICAL,
true, // include legend
true, // tooltips
false // urls
); 
```

我给：

![在此处输入图像描述](../Images/4baa2c704e644e8493edc0e7fcd782fc.png)

我需要一个看起来像这样的滞后图： ![在此处输入图像描述](../Images/a36fa8036176b4cec4ead2751e6b48b5.png)

我想不同之处在于点的连接方式。请指导如何使用 jFreeChart 获得所需的磁滞回线以及如何计算封闭面积。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T20:53:53.963

> 如何更改线条颜色以及表示数据点的符号。我希望他们都统一。

看来您已经确定`JFreeChart`了自己的观点。综合其他一些评论，

*   您可以通过提供 a 使您的多个系列的颜色和形状同质化，如此[处](http://www.jfree.org/forum/viewtopic.php?f=3&t=115314#p174197)`DrawingSupplier`建议和[此处](https://stackoverflow.com/a/14820173/230513)所示。

*   您可以将系列组合成一个[`GeneralPath`](http://docs.oracle.com/javase/7/docs/api/java/awt/geom/GeneralPath.html)并估计[此处](https://stackoverflow.com/a/14175838/230513)概述的面积。

# java - 如何在选择时保持奇数/偶数背景颜色？

> ID：14952713
> 
> 赞同：0
> 
> 时间：2013-02-19T08:10:46.153
> 
> 标签：java, gwt, datagrid, celltable

我有一个 GWT `DataGrid`（CellTable），奇/偶行具有不同的背景颜色：

```
.dataGridEvenRow { background: white !important; }
.dataGridEvenRowCell { border: selectionBorderWidth solid white !important; }
.dataGridOddRow { background: red !important; }
.dataGridOddRowCell { border: selectionBorderWidth solid red !important; } 
```

在选择时，我只想更改边框颜色，但不应更改背景。但是当我使用如下样式时，背景总是更改为“ `white`”。

```
/* Here something must be wrong */
.dataGridSelectedRow {
  background: inherit !important;
  color: inherit !important;
} 
```

这就是细胞的内部背景。但它不是从奇数行/偶数行继承，而是从其他地方继承……

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:18:12.890

在你的CSS试试这个：

```
tr:nth-of-type(odd) {
  background-color:#ccc;
} 
```

这些是css中的伪类选择器，如果这能解决您的问题，请告诉我

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T11:24:51.370

我使用以下样式修复了它：

```
.dataGridSelectedRow {
  color: inherit !important;
}

.dataGridSelectedRowCell {
  background: inherit;
  border: selectionBorderWidth solid inherit !important;
} 
```

重要的是不要在背景属性上使用 !important 。不知道为什么，但它只能这样工作。

# regex - 使用正则表达式提取由没有字符的字符分隔的值（LabView）

> ID：14952717
> 
> 赞同：0
> 
> 时间：2013-02-19T08:11:01.063
> 
> 标签：regex, labview

我想提取夹在两个特定字母之间的数字。

例如字符串：x23y4z90

我指定 x 和 y ，我得到 23
我指定 y 和 z ，我得到 4
我指定 z 和 x ，我得到 90（字符串模式循环）

`x\dy`yield `x23y`，但我不希望包含这些字母。

*注意：这是在 LabVIEW 中串行读取传感器值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:12:48.817

一种可能性是使用组：

```
x(\d+)y 
```

现在，第二组将只包含数字。第一组将是整场比赛。

另一种可能性是使用积极的前瞻和积极的后瞻：

```
(?<=x)\d+(?=y) 
```

请注意`+`我添加的。这是匹配具有多个数字的数字所必需的。

在此处检查[x 和 y](http://regexr.com?33qp8)并[在此处检查 y 和 z](http://regexr.com?33qp5)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:14:41.800

您需要使用环视或组

```
(?<=x)\d+(?=y)
-----    ----
 |         |->only checks if y is after a digit(lookahead) 
 |->only checks if x is before a digit(lookbehind) 
```

# snmp - SNMP MIB DISPLAY-HINT 或 UNITS - 哪个优先？

> ID：14952721
> 
> 赞同：2
> 
> 时间：2013-02-19T08:11:20.493
> 
> 标签：snmp, mib

我正在编写 MIB 和 SNMP 代理。我似乎对 DISPLAY-HINT 和 UNITS 之间的明显冲突感到困惑。NMS 最好有 DISPLAY-HINT 还是了解单位？

这个问题的背景如下： MIB 中的一个对象是 mPowerVoltage：

```
FixedDiv10 ::= TEXTUAL-CONVENTION
    DISPLAY-HINT "d-1"
    STATUS       current
    DESCRIPTION  "Fixed point, one decimal"
    SYNTAX       Integer32

mPowerVoltage OBJECT-TYPE
    SYNTAX       FixedDiv10
    UNITS        "V/10"
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION "Power Voltage in desiVolts"
    ::= { mPowerEntry 2 }  -- an entry in a table with integer index 
```

我理解的值的“在线”实际传输，例如 10.8 V 在 Integer32 中传输为 108。这就是我将 UNITS 设置为“V/10”并将对象描述为 desiVolts 中的电源电压的动机。但是，当我使用 snmpget 时，我得到：

```
snmpget  -c public -v 1 -m -MY-MIB 192.168.1.3  mPowerVoltage.1
MY-MIB::mPowerVoltage.1 = INTEGER: 10.8 V/10 
```

这确实是我指定的，但显然是错误的。

但是我几乎不能将单位更改为“V”？因此问题是，我应该删除 DISPLAY-HINT，还是应该删除 UNITS？

巴尔德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-23T09:17:42.860

据我了解，它们是两个不同的东西，所以两者都不需要。

DISPLAY-HINT 告诉调用者如何放置小数点 - 因此在您的示例中，它将“在线”值 108 打印为 10.8。

UNITS 只是在数字之后附加的一些文本，与您输入的内容完全相同。在这种情况下，您绝对应该将单位更改为“V”，因为您已经告诉调用者将 V 中的数字除以 10 来显示。

然而，一个是文本约定的一部分，而另一个是对象定义的一部分，这似乎有点不一致。

# javascript - JavaScript 函数太快了

> ID：14952723
> 
> 赞同：0
> 
> 时间：2013-02-19T08:11:21.860
> 
> 标签：javascript, javascript-events

我是 JavaScript 新手，我正在尝试对少量数据执行搜索功能。

我有下一个 HTML 代码：

```
<form name="f1">
    <input type="text" name="sbox" onkeydown=keysearch(event)>
    <button type="button" onclick=search()></button>
</form> 
```

以及下一个实现 de 功能的 JavaScript（它隐藏所有块，然后显示其中的一些，比较它们的文本（on ）和搜索框上的文本）：

```
function search() {
word = f1.sbox.value.toLowerCase()

v = document.getElementsByClassName('item')
for( i=0; i<v.length; ++i ) {
    v[i].style.display = 'none'

    s1 = i.toString()
    if( document.getElementById(s1).innerHTML.toLowerCase().indexOf(word) != -1 ) {
        s2 = s1 + "b";
        document.getElementById(s2).style.display = 'block'
    }
}
} 
```

要应用于这样的元素：

```
<div id="items">
    <article id="0b" class="item">
        <h3><a id="0" href="http://www.example.com/">Example</a></h3>
        <img src="example.jpg">
    </article>
(...)
</div><!-- end items --> 
```

所以，一切正常。问题是当我尝试添加另一个功能以允许用户使用 de Enter 键时，不仅使用单击鼠标来使用搜索框。这是我的代码：

```
function keysearch(e) {
    var charCode

    if( e && e.which ) {
        charCode = e.which
    } else if( window.event ) {
        e = window.event
        charCode = e.keyCode
    }

    if( charCode == 13 ) {
        search() // call the function above
    }
} 
```

我有一些我找不到的问题。其实第二个功能也可以，只是速度太快了，不到一秒我就可以看到结果，然后一切都恢复原状了。

请... 关于它的一些想法？

非常感谢。

PS：在此之前，我会对这个搜索框进行“即时搜索”，所以如果你有什么想法……再次感谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:29:27.217

我试过你的代码，它似乎工作，但有一个例外。当您在输入字段中按回车键并注册键码 13 时，您还调用了表单的默认操作。即使用 http 请求发布表单。因此，您的页面将重新加载，使您的 javascript 无用。它会弹出一秒钟。然后在重新加载时消失。

尝试在提交表单时返回 false，如下所示。

```
<form name="f1" onsubmit="return false;"> 
```

这是防止它的一种非常简单的方法，它仍然可以在禁用 javascript 的情况下工作，因为实际操作将运行。

如果您有兴趣，也可以使用 jQuery 进行此操作。

[http://api.jquery.com/event.preventDefault/](http://api.jquery.com/event.preventDefault/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:26:27.600

```
var keycheckTimeout;
function keysearch(e) {
    var charCode

    if( e && e.which ) {
        charCode = e.which
    } else if( window.event ) {
        e = window.event
        charCode = e.keyCode
    }

    if( charCode == 13 ) {
        clearTimeout( keycheckTimeout );
        keycheckTimeout = setTimeout( function() { search(); }, 1000 );
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T09:25:11.297

如果没有设置它的动作，表单就不能正确形成。在某些浏览器中，如果您错过了这一点，则按 Enter 键会刷新页面。这发生在你的情况下。

改变

```
<form name="f1"> 
```

至

```
<form name="f1" action="javascript:void(0);"> 
```

另请参阅此[stackoverflow 答案](https://stackoverflow.com/questions/1818249/form-with-no-action-and-where-enter-does-not-reload-page)

# jquery - 如何在 2 个 UL 元素之间隐藏和显示元素

> ID：14952728
> 
> 赞同：0
> 
> 时间：2013-02-19T08:11:33.887
> 
> 标签：jquery, html

我有 2 个带有 LI 的 Ul 元素

```
<ul>
   <li id="rightli1">item1</li>
   <li id="rightli2">item2</li>
   <li id="rightli3">item3</li>
</ul>
<ul>
   <li id="leftli1">item1</li>
   <li id="leftli2">item2</li>
   <li id="leftli3">item3</li>
</ul> 
```

在这里，如果我点击`id = rightli1`，它应该隐藏而其他`leftli1`应该是可见的，反之亦然，我该怎么做？这有点像拖放功能

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:17:10.270

类似的东西，或者在你的 UL 元素上使用类更容易：

```
 $('li').click(function() {
      var id_other = $(this).attr('id').contains('right') ? 'rightli' : 'leftli';
      var id_number = $(this).attr('id').replace(id_other, '');

      $(this).hide();
      $('li#'+ id_other + id_number).show();
 }); 
```

实际上不需要上课：

```
$('ul li').click(function() {
     $(this).hide();
     $('ul').not($(this).parent()).find('li:eq('+ $(this).index() +')').show();
}); 
```

另一种方式，更简单：

```
$('ul li').click(function() {
     $('li:eq('+ $(this).index() +')').toggle();
}); 
```

如果您的 LI 元素在开始时是隐藏的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T08:21:30.960

**在您的代码中-**

```
<ul class="right">
   <li id="rightli1">item1</li>
   <li id="rightli2">item1</li>
   <li id="rightli3">item1</li>
</ul>
<ul class="left">
   <li id="leftli1">item1</li>
   <li id="leftli2">item1</li>
   <li id="leftli3">item1</li>
</ul> 
```

**这里jquery-**

```
$('.right li').click(function () {
    var idx = $(this).index();
    $('.left li').eq(idx).slideToggle();
}); 
```

它将选择与您的正文内容平行的列表。请记住，避免在单个页面中使用大量 id，使用类。

**相关演示-**

[选择并行列表](http://jsfiddle.net/Xq82u/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T08:19:54.323

你可以试试这个：

```
$('ul').eq(0).children('li').click(function(){
   var index = $(this).index();
   $('ul').eq(1).find('li').eq(index).hide();
});

$('ul').eq(1).children('li').click(function(){
   var index = $(this).index();
   $('ul').eq(0).find('li').eq(index).hide();
}); 
```

# c# - 带数组的列表

> ID：14952736
> 
> 赞同：-6
> 
> 时间：2013-02-19T08:12:12.900
> 
> 标签：c#, arrays, list

我有这样的结构

```
List<int[]> nodeIds = new List<int[]>(); 
```

我可以从中获取每个元素`int[]`吗？我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T08:15:22.653

例如：

```
foreach(int[] items in nodeIds)
  foreach(int item in items)
    // do something with item 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T08:14:36.480

您可以使用 Linq [Enumerable.SelectMany](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.selectmany.aspx)方法将序列展平为一个序列：

```
IEnumerable<int> allIds = nodeIds.SelectMany(x => x); 
```

更新：如果您只需要结果序列中的唯一 ID，那么在讨人喜欢的序列之后也应用[Enumerable.Distinct 。](http://msdn.microsoft.com/en-us/library/bb348436.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T08:14:26.843

你有一个`List`of`int[]`所以你需要做的是获取`List`. 您将不得不为此使用嵌套循环 - 一个在列表上，第二个在当前考虑的列表项的数组上。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T08:15:08.420

就像是：

```
foreach(var nodeId in nodeIds)
{
    foreach(var id in nodeId)
    {
        //do stuff with id
    }
} 
```

或者

```
nodeIds[0][0] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-19T08:16:07.723

如果要从列表中的所有数组中获取所有整数，可以使用以下`SelectMany`方法`IEnumerable`：

```
IEnumerable<int> allIDs = nodeIds.SelectMany(a => a); 
```

`foreach`您可以使用或对结果执行聚合等来枚举结果。

# sql - max 语句中的 where 子句

> ID：14952741
> 
> 赞同：0
> 
> 时间：2013-02-19T08:12:42.017
> 
> 标签：sql

如何添加查询位置、转换或替换或最大值！

```
max(convert(int,replace(( QueueNum ),'-',''))) from [Queue] 
```

我想在 QueueNum 的 where 子句中返回最大的有特殊内容的记录。

**编辑：**

数据 ：

```
1981-1-1232
1981-1-1235
1981-1-1234
1981-2-1
1981-2-2
1981-2-13 
```

如何返回刚开始的记录的最大值 `1981-2`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:17:32.287

不确定我是否给出了一个好的答案，但您可以将您的查询写为

```
Select max(MyValue) from (Select Convert(int, replace((QueueNum),'-','')) as MyValue from [Queue]) MyTable 
```

它的作用是在内存中创建一个临时表，该表具有一列 MyValue 和 Int 类型，然后从该表中找到 Max。我注意到有时“MyTable”[表别名]在这样的查询中很重要，尤其是在 SQl Server 上执行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:20:50.057

把你的条件放在**有**条款中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T08:21:28.823

这是你想要的吗？

```
SELECT MAX(CONVERT(INT, REPLACE((QueueNum),'-','')))
FROM Queue
WHERE QueueNum LIKE '1981-2%' 
```

[SQLFiddle](http://www.sqlfiddle.com/#!6/9e771/1)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T08:27:55.223

我猜在这种情况下它是 MSSql 数据库尝试使用以下语句而不进行任何转换：

[SQLfiddle 演示](http://sqlfiddle.com/#!6/81e39/2)

```
select TOP 1 
QueueNum
from Queue where QueueNum like '1981-2-%'
order by LEN(QueueNum) desc, QueueNum desc 
```

# python - PyMongo find_one 不返回现有条目

> ID：14952747
> 
> 赞同：2
> 
> 时间：2013-02-19T08:13:30.307
> 
> 标签：python, mongodb, pymongo

我对 Pymongo 的 find_one 函数有一个奇怪的问题。我在本地机器上托管了一个名为“cluster_db”的数据库。它有一个名为“集群”的集合。当我在 mongo shell 中运行查询时，我得到以下输出。

```
> db
cluster_db
> db.clusters.findOne({_id:-8488068664808428000})
{
    "_id" : NumberLong("-8488068664808427924"),
    "members" : [
        {
            "participationCoeff" : 1,
            "tweetID" : NumberLong("-8488068664808427924")
        }
    ]
}
> 
```

现在，在我的代码初始化阶段，我在模块“dbutil”中定义了一个常量，如下所示：

```
DB_CONNECTION           = MongoClient('localhost', 27017)
CLUSTER_DB_HANDLE       = DB_CONNECTION['cluster_db'] 
```

在此之后，在一个函数中，我正在进行以下调用。

```
dbutil.CLUSTER_DB_HANDLE.clusters.find_one({'_id':clusterID}) 
```

但是，上述调用始终返回“无”。如果我去 MongoShell 并使用相同的 clusterID 运行完全相同的查询，我会看到结果。

我知道这是一个奇怪的错误，但不知何故我无法弄清楚为什么会这样。在其他任何地方，我都能够使用 dbutil.CLUSTER_DB_HANDLE.clusters 成功调用 cluster_db 中的“集群”集合

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2017-10-14T22:00:08.897

我自己刚遇到这个，原来我传入的id是int类型，我必须通过调用int（id）来转换它，例如：

```
db.Employees.find_one({'id' : int(id)}) // this works
db.Employees.find_one({'id' : id}) //this doesn't work 
```

希望这可以帮助某人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T12:34:07.233

是 clusterID == -8488068664808428000 吗？你为什么不试试 CLUSTER_DB_HANDLE.clusters.find_one({'_id':-8488068664808428000}) ？

# iphone - Facebook 应用程序没有收到电子邮件和生日 iPhone

> ID：14952749
> 
> 赞同：0
> 
> 时间：2013-02-19T08:13:36.987
> 
> 标签：iphone, ios, facebook, email, permissions

我在 facebook 上创建了新应用并设置了许可电子邮件和生日。当我点击预览时，它说基本信息、电子邮件和生日将按预期进行，但是当我在我的 iphone 应用程序上运行它时，它只显示基本信息并且不显示电子邮件或生日..这是一个错误吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T04:43:32.793

这不是错误，在获得许可后，要获取电子邮件，您必须将 FBGraphUser 设置为 NSDictionary，

例如

```
NSDictionary<FBGraphUser> *user
user.birthday //can get user's birthday
[user objectForKey:@"email"] //to get user's email 
```

希望它的作品:)

韦恩

# locking - 混合最终一致性系统和遗留 ACID 系统

> ID：14952755
> 
> 赞同：0
> 
> 时间：2013-02-19T08:13:53.370
> 
> 标签：locking, distributed-transactions, lock-free, acid, eventual-consistency

是否有将最终一致性系统与传统 ACID 系统混合的模式？

我想将数据存储在大型机上需要类似 ACID 事务的一些（至少两个）遗留系统中。那些大型机数据库（我们称它们为 OldWorld）在同一进程中的同一事务管理器下运行，因此大型机系统的一致性没有问题。

我有一个事务管理器，可以在非大型机环境（让我们称之为 NewWorld）中使用大型机 tm 和支持 ACID 的关系数据库处理 XA 事务。但我不想使用 XA-Transaction，因为它经常会导致大型机端长时间运行的锁出现问题，而且在许多情况下，我不需要两个世界的所有 ACID 功能。我一直想要一个一致的大型机（旧世界中的所有数据在旧世界中都是一致的）。新世界系统在从主机端读取数据时可以处理不一致的数据（新旧不一致）。用于在 OldWorld 中存储数据的操作很简单，并且保存了不会在功能上失败的“仅添加操作”（它可能在技术上失败，但这应该始终是暂时的失败）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:18:18.150

我解决分布式事务需求的想法是，我异步更新旧世界中的数据，并使用事件源数据层（在新世界中）存储需要在旧世界中完成的信息，使用“软-transaction-id's“以防止重复提交到旧世界。这些“软事务ID”将在将数据存储到事件源数据层以用于需要在旧世界中完成的事务时生成。

我没有将“软事务 ID”添加到旧世界数据库的更改，但我可以添加一个新数据库，该数据库可以在“软事务 ID”旁边存储“完成”状态并制作更新旧世界事务的此数据库部分。然后另一个异步进程可以在没有任何锁定的情况下读取状态信息并更新 NewWorld（例如，使用来自事件源存储的数据更新关系模型。并将软事务 ID 标记为完成（“全局一致”） ) OldWorld 的更新将始终检查是否始终首先提交软事务 ID。

当我阅读我的著作时，我觉得这就像全局事务，只是锁定较少。知道我对旧世界的更新将成功运行是必不可少的，否则您需要手动合并过程，它可以处理功能冲突。NewWorld 系统需要处理不一致的全局状态的功能。它可以通过读取关系数据库来完成，并通过分析尚未提交的（进入旧世界数据库）事件存储来模仿旧系统数据请求。对于所有其他事务，我需要使用具有锁定行为的分布式事务。

# c# - 通过 LINQ 对 IEnumerable 上的重叠元素进行操作

> ID：14952762
> 
> 赞同：0
> 
> 时间：2013-02-19T08:14:31.830
> 
> 标签：c#, algorithm, linq

让我们考虑一个`IEnumerable`算法，该算法采用成对的重叠索引，例如 {0, 1}, {1, 2}, {2, 3} 等。 end 根据这些索引的值创建一个新集合，例如 {collection[0] , collection[1] => result[0]}, {collection[1], collection[2] => result[1]} 等等。下面是一个直接实现的例子：

```
IEnumerable<string> collection = new string[100];
var array = collection.ToArray();
var results = array.Skip(1).Select((e, i) => e - array[i]); 
```

如何更好地实现目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:18:58.170

```
 var result = Enumerable.Range(1, arrayCollection.Length - 1)
               .Select(i => new[] {arrayCollection[i - 1], arrayCollection[i]}); 
```

如果`arrayCollection`是`IEnumerable`

```
var result = Enumerable.Range(1, arrayCollection.Count() - 1)
                 .Select(i => new[] {
                          arrayCollection.ElementAt(i - 1), 
                          arrayCollection.ElementAt(i) 
                        }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T08:20:02.377

这是另一个：

```
var ints = Enumerable.Range(0, 10);
var paired = ints.Zip(ints.Skip(1), Tuple.Create); 
```

这样你会得到对 {0,1}, {1,2} ...

我认为这就是您所要求的，因为您的代码示例与您所描述的有点不同... :)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-19T08:28:43.677

```
var array = new string[] { "one", "two", "three" };
var result = Enumerable.Range(1, array.Length - 1)
                        .Select(i => new[] { array[i - 1], array[i] }); 
```

这是使用数组而不是元组的@TrustMe 解决方案（只是为了向您展示示例，您不应该接受我的回答）：

```
IEnumerable<string> collection = new string[] { "one", "two", "three" };
var result = collection.Zip(collection.Skip(1), (x,y) => new [] { x, y }); 
```

但请记住，如果您不使用按索引访问（使用数组或列表） ，该集合将被枚举**两次。**

* * *

更新这是一个扩展方法，它将与集合一起使用，并且只会**枚举一次序列**：

```
public static class Extensions
{
    public static IEnumerable<T[]> GetOverlappingPairs<T>(
        this IEnumerable<T> source)
    {
        var enumerator = source.GetEnumerator();
        enumerator.MoveNext();

        var first = enumerator.Current;

        while (enumerator.MoveNext())
        {
            var second = enumerator.Current;
            yield return new T[] { first, second };
            first = second;
        }
    }
} 
```

用法：

```
var result = collection.GetOverlappingPairs(); 
```

# asp.net - asp.net Web 应用程序中的 ArgumentNull 异常

> ID：14952768
> 
> 赞同：-1
> 
> 时间：2013-02-19T08:15:04.907
> 
> 标签：asp.net, exception, file-upload, argumentnullexception

我开发了一个 asp.net 应用程序，其中输入将通过 Excel 表给出。此应用程序在具有 WINDOWS XP 和 MS Office 2008 的系统中运行良好。如果我尝试在具有 WINDOWS 7 和 MS Office 2010 的系统中运行相同的应用程序，我将收到参数空异常。

代码：

```
foreach (var dr in data)
            {
                LHSupdate = new LHSUpdate();
                if (!string.IsNullOrEmpty(Convert.ToString(dr["Associate Id"])))
                {
                    AssociateID = Convert.ToString(dr["Associate Id"]);
                }
                LHSupdate.AssciateID = AssociateID;
                if (!string.IsNullOrEmpty(Convert.ToString(dr["Associate Name"])))
                {
                    AssociateName = Convert.ToString(dr["Associate Name"]);
                }
                LHSupdate.Name = AssociateName;

                var designation = dsData.Tables["LHS"].AsEnumerable().Where(r => Convert.ToString(r["Associate Id"]).Trim() == LHSupdate.AssciateID.Trim());

                if (designation != null)
                {
                    foreach (var de in designation)
                    {
                        LHSupdate.Designation = Convert.ToString(de["Level"]);
                    }
                }

                else
                {
                    LHSupdate.Designation = "";
                }                
                LHSupdate.CourseName = Convert.ToString(dr["Trainings "]);
                LHSupdate.CourseStatus = Convert.ToString(dr["Training Status"]);
                LHSupdate.Score = Convert.ToString(dr["Credits"]);
                LHSupdate.LearningMode = Convert.ToString(dr["Venue"]);
                LHSupdate.StartDate = Convert.ToString(dr["Start Date"]);
                LHSupdate.EndDate = Convert.ToString(dr["End Date"]);                
                lstLHS.Add(LHSupdate);
            } 
```

我在行中遇到错误：

```
var designation = dsData.Tables["LHS"].AsEnumerable().Where(r => Convert.ToString(r["Associate Id"]).Trim() == LHSupdate.AssciateID.Trim()); 
```

代码：

```
private DataSet Getdata()
        {
            string connectionString = "";
            string getExcelSheetName = string.Empty;
            if (fuLHSEntry.HasFile)
            {
                string fileName = Path.GetFileName(fuLHSEntry.PostedFile.FileName);
                string fileExtension = Path.GetExtension(fuLHSEntry.PostedFile.FileName);
                string fileLocation = Server.MapPath("~/App_Data/" + fileName);
                fuLHSEntry.SaveAs(fileLocation);

                if (fileExtension == ".xls")
                {
                    connectionString = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source=" + fileLocation + @";Extended Properties=" + Convert.ToChar(34).ToString() + @"Excel 8.0;Imex=1;HDR=Yes;" + Convert.ToChar(34).ToString();
                }
                else if (fileExtension == ".xlsx" || fileExtension == ".xlsm")
                {
                    connectionString = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + fileLocation + @";Extended Properties=" + Convert.ToChar(34).ToString() + @"Excel 12.0;IMEX=2;HDR=Yes;" + Convert.ToChar(34).ToString();
                }

                OleDbConnection con = new OleDbConnection(connectionString);
                OleDbCommand cmd = new OleDbCommand();
                cmd.CommandType = System.Data.CommandType.Text;
                cmd.Connection = con;
                OleDbDataAdapter dAdapter = new OleDbDataAdapter(cmd);
                DataTable dtExcelRecords = new DataTable();
                con.Open();
                DataTable dtExcelSheetName = con.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);
                int count = 0;
                foreach (DataRow dr in dtExcelSheetName.Rows)
                {
                    getExcelSheetName = GetSheetName(dr);
                    if (!string.IsNullOrEmpty(getExcelSheetName))
                    {                        
                        cmd.CommandText = "SELECT * FROM [" + getExcelSheetName + "]";
                        dAdapter.SelectCommand = cmd;
                        if (getExcelSheetName.ToUpper().Contains("LEARNING"))
                        {
                            getExcelSheetName = "LEARNING";
                        }
                        else
                        {
                            getExcelSheetName = "LHS";
                        }
                        dAdapter.Fill(dsData, getExcelSheetName);
                        count++;
                        if (count == 2)
                        {
                            break;
                        }
                    }
                }
                con.Close();
            }
            return dsData;
        } 
```

请帮我解决这个问题。谢谢，拉吉

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:55:47.797

从您的代码看来，该表可以有两个可能的名称。

要么给它起一个你以后在阅读时使用的名字：

```
dAdapter.Fill(dsData, "LHS"); 
```

或者您可以通过索引完全忽略其名称来获取表格：

```
var designation = dsData.Tables[0].AsEnumerable().Where(r => Convert.ToString(r["Associate Id"]).Trim() == LHSupdate.AssciateID.Trim()); 
```

# android - Android Facebook 登录 - 选项太多

> ID：14952771
> 
> 赞同：0
> 
> 时间：2013-02-19T08:15:10.683
> 
> 标签：android, facebook

我想创建一个使用 Facebook 对用户进行身份验证的 Android 应用程序，然后将访问令牌传递给我们的 Web 应用程序服务器。

该应用程序只有在用户通过身份验证后才能运行。所以当它开始时，我需要打开一个 Facebook 会话，然后使用访问令牌并联系我们自己的服务器以获取更多信息。然后，相同的 Facebook 会话将用于各种应用程序活动。

我无法决定如何处理 Facebook 会话。我是否按照[此处所述](http://developers.facebook.com/docs/howtos/androidsdk/3.0/login-with-facebook/)在第一个活动中放置一个登录按钮？当会话状态发生变化时，我在其他活动中做什么？我不想在每个活动中添加 Facebook 登录...

或者，我可以使用自己的按钮，如 SDK 的登录示例所示。但是，当我在另一项活动中关闭会话时，我会遇到同样的管理问题。

或者我可以将所有内容放在同一个活动中并使用不同的片段。

最佳实践方法是什么？

注意：关于此事的大多数 SO 问题都与较旧的 SDK 相关（使用现已弃用的`Facebook`类）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T18:09:15.427

最简单的方法肯定是使用单个 Activity 来处理所有会话状态更改，并使用它来驱动 UI 更改。无论如何，Android 都在推动 Fragment 模型，所以我认为这是你最好的选择。

或者，如果您需要使用不同的活动，您始终可以使用一个通用的 Session.StatusCallback 实现，该实现具有对当前活动的引用。然后，如果状态更改驱动 UI 更改，您可以创建启动新活动的意图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:36:17.390

你可以像这样获得你的 facebook 会话

```
Session session = Session.getActiveSession();
    if (session == null) {
        if (savedInstanceState != null) {
            session = Session.restoreSession(getActivity(), null, statusCallback, savedInstanceState);
        }
        if (session == null) {
            session = new Session(getActivity());
        }
        Session.setActiveSession(session);
        if (session.getState().equals(SessionState.CREATED_TOKEN_LOADED)) {
            session.openForRead(new Session.OpenRequest(this).setCallback(statusCallback));
        }
    } 
```

# android - 如何做弹出窗口将值传递回android中的背景窗口

> ID：14952772
> 
> 赞同：0
> 
> 时间：2013-02-19T08:15:14.943
> 
> 标签：android, return-value, popupwindow

我想在我的应用程序中使用弹出窗口。

点击button1可以触发窗口弹出，

在弹出窗口中单击 btnback 将关闭它。

但它在我的程序中失败了。

我还想将弹出窗口中的edittext中的值发送回背景窗口

我该怎么做？谢谢！

```
protected void onCreate(Bundle savedInstanceState) {

super.onCreate(savedInstanceState);

final LayoutInflater inflater = (LayoutInflater)

this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

final PopupWindow pw = new PopupWindow(

inflater.inflate(R.layout.activity_setting, null, false), 

200, 
200, 
true);

setContentView(R.layout.activity_memo);

Button bt1 = (Button) findViewById(R.id.button1); 

Button bt2 = (Button) findViewById(R.id.btnBack); 

bt1.setOnClickListener(new Button.OnClickListener()

{

@Override

public void onClick(View v) { 

View layout = inflater.inflate(R.layout.activity_memo, listView);

showAtLocation(layout, Gravity.CENTER, 0, 0); 

}

});

bt1.setOnClickListener(new Button.OnClickListener()

{

@Override

public void onClick(View v) { 

pw.dismiss();

}

});

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:48:25.167

您可以让后台活动成为弹出窗口的侦听器。当在弹出窗口中单击按钮时，它将在侦听器上调用 onButtonClick(String text) 方法。由于您的活动是侦听器，因此它将获取文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:56:15.450

在按钮上单击通过意图将值从对话框传递到背景窗口

# php - 如何使用多个选择器传递多个值

> ID：14952773
> 
> 赞同：1
> 
> 时间：2013-02-19T08:15:17.223
> 
> 标签：php, jquery, submit, css-selectors

这是我到目前为止所做的：

```
<label for="popupDatepicker">DOB<span class="red">*</span></label>
<input  class="text1" type=text id="popupDatepicker" name="popupDatepicker" maximun=30>
<label for="gender">I am<span class="red">*</span></label>
<select name="gender" id="gender">
    <option value="M">Male</option>
    <option value="F">Female</option>
</select> 
```

jQuery代码：

```
$(document).ready(function() {

    $("#gender").blur(function() { // when focus out

        //$("#message").html(''); //before AJAX response

        var form_data = {
            action: 'gender',
            gender: $(this).val(),
            popupDatepicker: $(this).val(),
        };

        $.ajax({
            type: "POST",
            url: "functions.php",
            data:form_data,

            success: function(result) {
                $("#genders").html(result);
                //alert("Hiiiiiiiiiiiiiiiii");  
            }
        });

    });

}); 
```

选择性别后，我想同时传递生日*和*性别。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:29:53.997

另一种方法是直接在 ajax 调用中添加数据 blob 中的各个 post 变量。

例如（未经测试 - 可能会损坏）：

```
data: ({
    a:'gender',
    g:$('#gender').val(),
    d:$('#popupDatepicker').val()
}), 
```

在服务器端，您将看到 'a'、'g' 和 'd' 发布变量！

# android - 提交到 Google Play 时出错 - Android 应用程序

> ID：14952774
> 
> 赞同：-7
> 
> 时间：2013-02-19T08:15:20.440
> 
> 标签：android, upload, google-play

我想在没有许可证密钥的情况下向 Google Play 提交游戏。当我上传 APK 文件时，我收到以下错误：

1.  服务器无法处理您的 apk。再试一次。
2.  Google Play 不接受使用调试证书签名的 apk。创建一个有效期至少为 50 年的新证书。

为什么会出现这个错误？任何人都可以帮助解决它吗？此应用程序要在没有许可证密钥的情况下上传。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:24:31.713

如果您想向谷歌应用商店提交应用程序，**您必须**使用您自己的证书（而不是调试证书）签署您的应用程序。

[签署您的应用程序](http://developer.android.com/tools/publishing/app-signing.html)

最好的问候，萨米

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:18:06.673

使用 Eclipse 右键菜单中的 Export Signed Application Package... 选项。然后它将引导您完成整个过程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T09:10:39.937

您需要创建一个 X.509 证书，然后使用该证书对 APK 进行签名，之后您还需要对 APK 进行 Zipalign 以便上传到 Appstore。

要签名，您可以点击此链接 它对我有用。

[http://www.londatiga.net/it/how-to-sign-apk-zip-files/](http://www.londatiga.net/it/how-to-sign-apk-zip-files/)

之后，您可以点击此链接到 Zipalign

[http://developer.android.com/tools/help/zipalign.html](http://developer.android.com/tools/help/zipalign.html)

我使用命令“zipalign -v 4”

（确保您在运行 Zipalign 命令时位于 \userandroid-sks\tools 文件夹中）

# android - Dimen 值没有像预期的那样工作

> ID：14952778
> 
> 赞同：1
> 
> 时间：2013-02-19T08:15:26.870
> 
> 标签：android

我无法理解 dimen 资源属性。

我有 3 个值文件夹：value-normal、value-large 和 value-xlarge。

我已将 titlesize 定义为 20 for normal、25 for large 和 30 for xlarge，这是我的正常值文件：

```
<resources>
    <dimen name="titleSize">20sp</dimen>
</resources> 
```

但是当我试图得到这个值时

```
Resources r = getResources();
tvTitleSize = r.getDimension(R.dimen.titleSize); 
```

tvTitleSize 等于 40，这是偏大的。为什么价值是原来的两倍，我该如何解决这个问题？

ps：我的设备是galaxy nexus。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T08:22:00.733

如果您阅读方法[文档`Resource.getDimension()`](https://developer.android.com/reference/android/content/res/Resources.html#getDimension%28int%29)，您会发现：

> 资源维度值乘以适当的指标。

换句话说，您将获得设备的实际大小（以像素为单位）。

sp 是与密度无关的值。该值对应mdpi，但Galaxy Nexus是xhdpi，密度是mdpi的两倍。这就是为什么你得到 20 * 2 = 40;

如果您想知道，出了什么问题，那么答案是没有。你得到的尺寸是正确的。ldpi/mdpi/hdpi/xhdpi 设备的实际文本大小不同。

因此，例如 16dp 意味着：

*   12px 在 ldpi 上
*   在 mdpi 上为 16 像素
*   hdpi 上的 24 像素
*   xhdpi 上 32 像素

`sp`和之间的区别在于`dp`，`sp`它受用户对字体大小的偏好的影响。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T08:20:15.103

您返回的值以像素为单位。高密度屏幕上的`20sp`像素比低密度屏幕上的多。Android 会为您进行转换。

# javascript - 使用 Javascript 循环遍历 iframe

> ID：14952783
> 
> 赞同：0
> 
> 时间：2013-02-19T08:15:46.527
> 
> 标签：javascript, google-chrome-extension

我创建了一个自动化程序，为此我需要遍历每个框架文档并设置一些输入。

我用下面的函数迭代它，它工作正常，但是在下面的 URL 中它给了我访问被拒绝的错误。

[http://usacarhire.com/](http://usacarhire.com/)

我用来遍历每一帧和 Iframe 的代码。

```
var i = new Array;
var t = '';

var IFrameDoc;

function GetAllFrame(a, n) 
{
t = '';

try {

    for (i[n] = 0; i[n] < a.length; i[n]++) 

{try{
var oIframe = a[i[n]];

            IFrameDoc = oIframe.document;

            alert(IFrameDoc.body.outerHTML);
        }
        catch (e) {
            alert("Internal Error" + e.message + " - " + a[i[n]].frames.length);
        }

        if (a[i[n]].frames.length) t += GetAllFrame(a[i[n]].frames, n + 1);

    }
}
catch (e) {
    alert("External Error" + e.message);
}
return t;} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T13:45:28.190

如果其他 iFrame 不是您的，则无法解决，您无法覆盖跨源策略。如果你确实拥有它们，你可以做的是使用 HTML5 的 postMessage API 在 iF​​rame 和父窗口之间“对话”，但我不相信这就是你想要的。如果你这样做，请发表评论，我将编辑我的答案。

# android - 如何检查该项目是否在 arrayList 上？

> ID：14952790
> 
> 赞同：1
> 
> 时间：2013-02-19T08:16:25.590
> 
> 标签：android, listview, arraylist

我有一个arrayList，我想知道新添加的项目是否已经在列表中。

```
 protected void onPostExecute(Void result1) {
            //TODO Auto-generated method stub
            super.onPostExecute(result1);
            progressBar.dismiss();

            if(status == 1) {   
                //arrayListItemEntries.add(itemEntryAdded);
                System.out.println(itemEntryAdded);
                System.out.println(arrayListItemEntries.get(arrayListItemEntries.size()-1));
                arrayListNewItems.add(itemEntryAdded);
                adapterItem.notifyDataSetChanged();
                toastMsg = "Item " + description +" is added on the list";                  
            }
            else
            {
                toastMsg ="Item not Found";
            }
            makeToast(toastMsg);
        }

    } 
```

在线上，

```
 System.out.println(arrayListItemEntries.get(arrayListItemEntries.size()-1)); 
```

它输出null，为什么？当我想输出列表大小时，它是正确的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:19:40.803

尝试这样的事情： -

```
if(arrayListItemEntries.contains(itemEntryAdded))
        // do nothing - already there in list
else
        arrayListItemEntries.add(itemEntryAdded); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:23:29.590

您的列表大小是多少？你在哪里添加项目到这个列表？

通常我们使用`.contains(Object)`方法来检查特定对象的存在。

您也可以尝试使用`Set`不允许重复的，因此您不需要检查。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T08:20:50.127

只需使用 `contains(item)`方法。

# grails - 如何让 Grails 在启动时执行控制器方法？

> ID：14952793
> 
> 赞同：1
> 
> 时间：2013-02-19T08:16:36.737
> 
> 标签：grails, controller

我是一名 Java 开发人员，需要使用旧版 Grails 应用程序。我有一个控制器类和一些 java 类。控制器具有在 java 类中描述的启动/停止任务的方法。我为此使用了一个`ScheduledExecutorService`。

问题是每次重新部署应用程序时，我都必须调用`http://application/controller/start`它来初始化调度程序。我希望`controller.start()`在启动应用程序时调用一次此方法。我怎样才能做到这一点，或者有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T08:50:00.923

我建议将此方法放在服务中。您可以在应用程序启动后从控制器和 Bootstrap.groovy 调用该服务。您还可以在服务上使用标准 @PostConstruct 来启动该过程。

您的业​​务方法应该位于服务中而不是控制器中。

如果你真的需要使用控制器，请从 Bootstrap.groovy 中尝试：

```
new Controller().start() 
```

我没有 env 来测试它，但它不应该有问题。

# java - 使用 Matcher 和 Regex 进行 Java 解析

> ID：14952794
> 
> 赞同：0
> 
> 时间：2013-02-19T08:16:38.713
> 
> 标签：java, regex, matcher

我有一个非常简单的问题，但我是 Java Matcher 的新手，我很难弄清楚如何将它用于我的特定问题。

我有一个字符串，类似于`this <not needed content>src="url"<not needed content>src="url2"<not needed content>`

<'不需要的内容'> 是我想在我的字符串中忽略的内容。我基本上想从字符串中提取 URL。

我的代码目前看起来像这样

```
Pattern MY_PATTERN = Pattern.compile("\\src=\"(.*?)\\\"");
Matcher m = MY_PATTERN.matcher(content);
String s = "something";
while (m.find()) {
   s = m.group(1);
} 
```

我为这样的基本且可能重复的问题道歉。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:20:14.057

为什么不尝试更简单的模式？像这个 ：

```
Pattern.compile("src=\"(.*?)\""); 
```

（未测试，但应该更好）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:24:10.747

您可以使用以下任一正则表达式：

```
src="([^"]+)
src="(.+?" 
```

# c# - 并排组件加载问题

> ID：14952795
> 
> 赞同：8
> 
> 时间：2013-02-19T08:16:42.233
> 
> 标签：c#, .net, reflection

我有一个简单的应用程序，它在运行时通过这段代码从 2 个子文件夹加载两个程序集：

```
Assembly.Load("A, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null");
Assembly.Load("B, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"); 
```

目录结构是：
![在此处输入图像描述](../Images/cc0b0793e0887d07621509cfb73fb99f.png)
所以预期的加载如下：

```
TheApp.exe -> A.dll -> C.dll (version 2.0.0.0)
           -> B.dll -> C.dll (version 1.0.0.0) 
```

请注意`C.dll`已签名，因此两个版本应并排加载。

为了确保应用程序从正确的位置加载程序集，我在应用程序配置文件中添加了以下内容：

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <probing privatePath="B;A" />
    </assemblyBinding>
  </runtime>
</configuration> 
```

问题是应用程序在启动时崩溃并显示以下消息：

```
=== Pre-bind state information ===
LOG: User = ...
LOG: DisplayName = C, Version=2.0.0.0, Culture=neutral, PublicKeyToken=93a02044a09d059a
 (Fully-specified)
LOG: Appbase = file:///D:/Temp/TheApp/bin/Debug/Test/
LOG: Initial PrivatePath = NULL
Calling assembly : A, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null.
===
LOG: This bind starts in default load context.
LOG: Using application configuration file: D:\Temp\TheApp\bin\Debug\Test\TheApp.exe.Config
LOG: Using machine configuration file from C:\Windows\Microsoft.NET\Framework\v2.0.50727\config\machine.config.
LOG: Post-policy reference: C, Version=2.0.0.0, Culture=neutral, PublicKeyToken=93a02044a09d059a
LOG: Attempting download of new URL file:///D:/Temp/TheApp/bin/Debug/Test/C.DLL.
LOG: Attempting download of new URL file:///D:/Temp/TheApp/bin/Debug/Test/C/C.DLL.
LOG: Attempting download of new URL file:///D:/Temp/TheApp/bin/Debug/Test/B/C.DLL.
WRN: Comparing the assembly name resulted in the mismatch: Major Version
ERR: Failed to complete setup of assembly (hr = 0x80131040). Probing terminated. 
```

**问题**：为什么运行时只查看“B”文件夹？为什么不继续在 A 文件夹中寻找正确版本的共享程序集？

**EDIT1**：我添加了`<codeBase>`如下所述的标签，我知道我的配置文件中有以下内容：

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
       <probing privatePath="B;A" />
    </assemblyBinding>
    <dependentAssembly>
       <assemblyIdentity name="C" publicKeyToken="93a02044a09d059a" /> 
       <codeBase version="1.0.0.0" href="B/C.dll"/>
       <codeBase version="2.0.0.0" href="A/C.dll"/>
    </dependentAssembly>
  </runtime>
</configuration> 
```

尽管如此，问题仍然存在！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T08:30:01.173

请参阅[此](http://msdn.microsoft.com/en-us/library/15hyw9x3.aspx)MSDN 页面上关于探测的注释，它直接解决了您的问题：

> 如果您在一个目录中有多个版本的程序集并且想要引用该程序集的特定版本，则必须使用`<codeBase>`元素而不是元素的`privatePath`属性`<probing>`。如果您使用该`<probing>`元素，则运行时在第一次找到与所引用的简单程序集名称匹配的程序集时停止探测，无论它是否正确匹配。如果匹配正确，则使用该程序集。如果它不是正确匹配，则探测停止并且绑定失败。

运行时正在查找 2.0.0.0 版本，但找到 1.0.0.0 版本并停止查找。

最终的解决方案是将配置文件更改为以下内容：

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
     <probing privatePath="B;A" />
     <dependentAssembly>
       <assemblyIdentity name="C" publicKeyToken="93a02044a09d059a" /> 
       <codeBase version="1.0.0.0" href="B/C.dll"/>
       <codeBase version="2.0.0.0" href="A/C.dll"/>
     </dependentAssembly>
    </assemblyBinding>
  </runtime>
</configuration> 
```

# jquery - 如何禁用滑块的用户交互？

> ID：14952796
> 
> 赞同：0
> 
> 时间：2013-02-19T08:16:45.267
> 
> 标签：jquery, jquery-ui, jquery-ui-slider

我实现了 jQuery UI Slider，但我用 javascript 控制这个滑块，我不会阻止用户交互。我用作句柄`a.ui.slider-handle`。

我试过这个：

```
 $('a.ui-slider-handle').unbind() 
```

，但它没有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:25:10.793

要禁用用户交互并保持滑块启用，请使用：

```
$('#slider').slider();
$('#slider.ui-slider, #slider ui-slider-handler').off(); 
```

示例：http: [//jsfiddle.net/pwXR6/2/](http://jsfiddle.net/pwXR6/2/)

# django - 如何更改ajax中的类型

> ID：14952801
> 
> 赞同：0
> 
> 时间：2013-02-19T08:17:06.867
> 
> 标签：django

```
template.html
<script >
$(document).ready(function() {          

var a="{{parameter}}";

    $.ajax({
    type :'GET',

    url : geturl(a),

    dataType : 'json',

views.py
if param=="daywise":

    print request.method
    if request.method=="POST":

        if request.POST.get('monyrsubmit'):
            monthform=MonthForm(request.POST)
            if monthform.is_valid():
                selected_month=monthform.cleaned_data["Month"]
                selected_year=monthform.cleaned_data["Year"]
                print selected_month
                print selected_year 
```

我实际上是通过发送表单数据来执行 post 方法的。但它有一个获取请求，因为我已经在 ajax 脚本中给出了 GET 类型。我正在查看视图。如果 request.method=="POST" 但此方法仍然是 GET

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:23:00.497

将类型更改为 POST...

```
var a="{{parameter}}";

    $.ajax({
    type :'POST',

    url : geturl(a),

    dataType : 'json', 
```

如果您没有在 django 中禁用 CSRF 中间件，则会导致问题。`<script>`要修复它，请在标记之后和之前添加此脚本`$(document).read...`：

```
$.ajaxSetup({ 
        beforeSend: function(xhr, settings) {
            function getCookie(name) {
                var cookieValue = null;
                if (document.cookie && document.cookie != '') {
                    var cookies = document.cookie.split(';');
                    for (var i = 0; i < cookies.length; i++) {
                        var cookie = jQuery.trim(cookies[i]);
                     // Does this cookie string begin with the name we want?
                     if (cookie.substring(0, name.length + 1) == (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                     }
                 }
             }
             return cookieValue;
         }
         if (!(/^http:.*/.test(settings.url) || /^https:.*/.test(settings.url))) {
             // Only send the token to relative URLs i.e. locally.
             xhr.setRequestHeader("X-CSRFToken", getCookie('csrftoken'));
         }
     } 
 }); 
```

# jquery - 如何在 jquery colorbox 中设置自动高度？

> ID：14952804
> 
> 赞同：1
> 
> 时间：2013-02-19T08:17:12.610
> 
> 标签：jquery, colorbox

我正在尝试打开 colorbox onclick。没关系。但是现在我想将颜色框高度设置为自动（根据返回的内容高度的高度），并且浏览器的滚动条将在颜色框内容高度的高度内滚动。这是我的代码

```
$('body').on('click', 'a.post', function(e) {
  e.preventDefault();
  $.colorbox({
    width: "850px",
    height: "600px",
    iframe: true,
    href:this.href
  });
}); 
```

有什么帮助吗？（提前致谢）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T08:32:21.473

您可以尝试通过以下`height()`方法使用高度：

```
var objHeight=$(window).height()-100; // reduce 100, so that it will fit in the container

$.colorbox({
   width: "850px",
   height: objHeight,
   iframe: true,
   href: this.href
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-12-30T08:24:03.160

为仍然可能遇到此问题的人发布答案

对于自动高度，这对我来说非常有用，

```
<script type="text/javascript">
    function openColorBox() {
        $.colorbox({ 
          href: "Something.aspx",
          onComplete: function () {
                $(this).colorbox.resize();
          }  
      });
    }
</script> 
```

# xcode - 安装本地隧道时出错

> ID：14952809
> 
> 赞同：0
> 
> 时间：2013-02-19T08:17:40.227
> 
> 标签：xcode, gem, homebrew, rbenv, localtunnel

我运行 sudo gem install localtunnel 并得到以下输出。现在我使用自制软件安装 rbenv 来安装 ruby​​，当我运行 brew doctor 时，它说 xcode 已过时，但是当我打开 xcode 并转到最新版本时，这是我的 sudo gem install localtunnel 错误输出

```
ERROR:  Error installing localtunnel:
    ERROR: Failed to build gem native extension.

        /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/bin/ruby extconf.rb
creating Makefile

make
xcrun cc -I. -I/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin12.0 -I/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin12.0 -I. -DJSON_GENERATOR  -D_XOPEN_SOURCE -D_DARWIN_C_SOURCE   -fno-common -arch i386 -arch x86_64 -g -O3 -pipe -fno-common -DENABLE_DTRACE  -fno-common  -pipe -fno-common   -c generator.c
xcrun: Error: could not stat active Xcode path '/Developer'. (No such file or directory)
cc -arch i386 -arch x86_64 -pipe -bundle -undefined dynamic_lookup -o generator.bundle generator.o -L. -L/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib -L. -arch i386 -arch x86_64     -lruby  -lpthread -ldl -lobjc  
i686-apple-darwin11-llvm-gcc-4.2: generator.o: No such file or directory
i686-apple-darwin11-llvm-gcc-4.2: generator.o: No such file or directory
lipo: can't figure out the architecture type of: /var/tmp//ccfplODR.out
make: *** [generator.bundle] Error 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:23:23.433

Xcode 4 不再安装在 /Developer 中，但 xcrun 似乎期望它在那里。

我会先安装“命令行工具”（Xcode 首选项-> 下载-> 组件）。

如果这没有帮助，请致电

```
sudo xcode-select -switch /Applications/Xcode.app 
```

显式设置 xcrun 的路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T01:43:17.017

我的 Ruby 版本已过期，我必须运行 rbenv install 1.9.3-p0 并将其设置为全局。

# c++ - 使用 STL 对具有特定属性的项目进行分组

> ID：14952816
> 
> 赞同：2
> 
> 时间：2013-02-19T08:18:03.750
> 
> 标签：c++, stl

我有一个这样的多图： `multimap<float, obj*> mmap;` 使用多图作为某些键可能是相同的。

我想要实现的是根据某些标准将多图分组/划分为单独的组。例如，我想要浮动键的差异<=某个阈值的组。

即像这样的多图： `<100, obj0*>, <99, obj1*>, <1000, obj2*>, <1001, obj3*>` 我想将它们分成不同的组，其中浮动键<= 1的差异。

所以结果应该是： `grp1: <100, obj0*>, <99, obj1*>` `grp2: <1000, obj2*>, <1001, obj3*>`

我查看了 std::transform、group_by 等，但这些似乎不是正确的方法。有任何想法吗？

# c# - 将 1,2,3,4,5,6,8,10,11 显示为 1-6,8,10-11

> ID：14952818
> 
> 赞同：16
> 
> 时间：2013-02-19T08:18:07.843
> 
> 标签：c#, java, algorithm, logic

> 我有这个序列**1,2,3,4,5,6,8,10,11**
> 
> 预期产量为**1-6,8,10-11**

这个问题是关于以易于阅读的形式格式化序列

我尝试使用 c# 并使用了许多 if & else。

面试官说，有一些简单的算法可以做到这一点。

我不知道如何实现这个非常简单。

> 同样对于 1,2,3 我显示了 1-3。他们说错了！

此逻辑是否涉及任何设计模式（解释器）？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-19T08:34:40.587

这是一种方法：

```
 int[] numbers = { 1, 2, 3, 4, 5, 6, 8, 10, 11 };

        int start, end;
        for (int i = 0; i < numbers.Length; i++)
        {
            start = numbers[i];

            while (i < numbers.Length - 1 && numbers[i] + 1 == numbers[i + 1])
                i++;

            end = numbers[i];

            if(start == end)
                Console.WriteLine(start);
            else
                Console.WriteLine(start + " - " + end);
        } 
```

这将显示随范围递增的后续数字。不线性增加的数字不会写为范围的一部分。

这是第一种方法的另一个版本，它使用相同的`for`循环来迭代范围：

```
 int temp = numbers[0], start, end;
        for (int i = 0; i < numbers.Length; i++)
        {
            start = temp;

            if (i < numbers.Length - 1 )
                // if subsequent numbers are incremental loop further
                if (numbers[i] + 1 == numbers[i + 1])
                    continue;
                // if they are not, number at index i + 1 is a new 'start' for the next iteration
                else
                    temp = numbers[i + 1];

            end = numbers[i];

            if (start == end)
                Console.WriteLine(start);
            else
                Console.WriteLine(start + " - " + end);
        } 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-19T08:35:12.907

C# 中的一个简单实现可能如下所示：

```
public string Format(IEnumerable<int> input)
{
    var result = string.Empty;

    var previous = -1;
    var start = -1;
    var first = true;

    foreach(var i in input)
    {
        if(start == -1)
            start = i;
        else if(previous + 1 != i)
        {
            result += FormatRange(start, previous, first);
            first = false;
            start = i;
        }

        previous = i;
    }

    if(start != -1)
        result += FormatRange(start, previous, first);

    return result;
}

public string FormatRange(int start, int end, bool isFirst)
{
    var result = string.Empty;
    if(!isFirst)
        result += ", ";
    if(start == end)
        result += start;
    else
        result += string.Format("{0}-{1}", start, end);
    return result;
} 
```

这也将输出`1-3`input `1,2,3`，这是完全有效的。如果没有规范输出应该是什么，则无法回答该部分。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-19T10:07:43.467

可能不是面试问题的合适答案，但使用 LINQ 是解决此问题的另一种方法。

```
int[] numbers = { 1, 2, 3, 4, 5, 6, 8, 10, 11 };
var remains = numbers.AsEnumerable();

while (remains.Any())
{
    int first = remains.First();
    int last = remains.TakeWhile((x, i) => x - first == i).Last();
    remains = remains.Skip(last - first + 1);
    Console.Write(first + (first == last ? "" : "-" + last) + (remains.Any() ? "," : Environment.NewLine));
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-19T08:31:24.027

Java代码：

```
int[] arr = {1,2,3,4,5,6,8,10,11};
int start = arr[0], last = arr[0];
String output = "";

for (int i = 1; i <= arr.length; i++)
{
  if (i == arr.length || arr[i] != last+1)
  {
    if (output.length() != 0)
      output += ",";
    if (start == last)
      output += start;
    else
      output += start + "-" + last;
    if (i != arr.length)
      start = last = arr[i];
  }
  else
     last = arr[i];
}

System.out.println(output); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-19T08:47:54.807

这是我最好的尝试。不聪明，但足够简单，足以满足我相信的要求。我仍然很困惑为什么“1-3”是错误的......

```
 var numbers = new int[] { 1, 2, 3, 4, 5, 6, 8, 10, 11, 12 };

    var groups = new Dictionary<int, int>();
    groups.Add(numbers.First(), numbers.First());

    foreach (var num in numbers.Skip(1))
    {
        var grp = groups.Last();
        if (grp.Value + 1 == num)
        {
            groups[grp.Key] = num;
        }
        else
        {
            groups.Add(num, num);
        }
    }

    var output = string.Join(",", groups.Select(grp => (grp.Key == grp.Value) ? grp.Value.ToString() : grp.Key.ToString() + "-" + grp.Value.ToString())); 
```

注意：当然，使用字典和 linq 等是完全没有必要的（对于需要算法的答案来说太具体了），但我认为它很好地突出了问题的分组方面

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-02-19T08:49:15.447

以下对连续整数进行分组，并为每个组输出一个字符串。但是，它还允许您指定要连字的组的最小长度；少一点只会给你个人数字。因此，如果您只想连接 4 个或更多的组，则可以传入 4；如果你想连字符对，你可以传入 2。（我想自己使用 3，但我不知道*他们*想要什么。）

它也不会保留任何数字集合，因为您不需要。

方法：

```
static IEnumerable<string> Group(IEnumerable<int> input, int minLength)
{
    int currentStart = int.MinValue;
    int currentLength = 0;
    foreach (int c in input)
    {
        if (currentLength > 0)
            if (currentStart + currentLength == c)
                currentLength++;
            else
            {
                if (currentLength >= minLength)
                    yield return string.Format("{0}-{1}",
                        currentStart, currentStart + currentLength - 1);
                else
                    for (int i = currentStart; i < currentStart + currentLength; i++)
                        yield return i.ToString();
                currentStart = c;
                currentLength = 1;
            }
        else
        {
            currentStart = c;
            currentLength = 1;
        }
    }
    if (currentLength >= minLength)
        yield return string.Format("{0}-{1}",
            currentStart, currentStart + currentLength + 1);
    else
        for (int i = currentStart; i < currentStart + currentLength; i++)
            yield return i.ToString();
} 
```

用法：

```
int minCount = 3;
int[] input = new[] { 1, 2, 3, 4, 5, 6, 8, 10, 11 };
Console.WriteLine(String.Join(",", Group(input, minCount))); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-02-19T08:35:36.483

这不是有效的 C# 代码，而是显示想法。

从 Min 到 Max 对列表进行排序，然后执行以下操作：

```
For i = Min to Max
{
  if i < MaxFound
    continue;

  int step = 1;
  Output = i;
  while Found(i + Step)
  {
     Step++;
     MaxFound = i + Step;
  }
  if i < MaxFound 
    Output = (i + "-" + MaxFound);

  Output += ", ";
} 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-02-19T08:45:17.710

这是一种方法：

```
public static void main(String[] args) {
    print(1, 2, 3, 4, 5, 7, 9, 10, 12);
}

public static void print(int ... nums) {
    System.out.print(nums[0]);
    int idx = 1;

    for(int i = 1; i < nums.length; i++, idx++) {
        if(nums[i] - nums[i - 1] != 1) {
            if(idx > 1) {
                System.out.print(" - " + nums[i - 1]);
            }
            System.out.print(", " + nums[i]);
            idx = 0;
        }
    }

    if(idx > 1)
        System.out.println(" - " + nums[nums.length - 1]);
} 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2013-02-19T22:28:04.203

这是一个 Haskell 版本：

```
import Data.List

parseRange [] = ""
parseRange n = 
  let range = takeWhile (\x -> isInfixOf [x,x+1] n) n
  in if not (null range)
        then show (head range) ++ "-" ++ show (last range + 1) 
             ++ (if length (tail n) > 1 then "," else "") 
             ++ parseRange (drop (length range + 1) n) 
        else show (head n) ++ (if null (tail n) then "" else ",") 
             ++ parseRange (drop 1 n) 
```

输出：

```
*Main> parseRange [1,2,3,4,5,6,8,10,11]
"1-6,8,10-11" 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-12-16T14:30:32.263

还有一种在 F# 中使用 fold 的方法——只是为了好玩。

```
let parseRange numbers = 
  numbers 
  |> Seq.fold 
    (fun list n -> 
      match list with
      |(a,b) :: tail when b+1 = n -> (a, n) :: tail
      |_ -> (n,n) :: list) []
  |> List.rev 
  |> Seq.map (fun (a,b) -> if a = b then sprintf "%i" a else sprintf "%i-%i" a b)
  |> String.concat "," 
```

# c# - Process.Start() 是同步的吗？

> ID：14952821
> 
> 赞同：2
> 
> 时间：2013-02-19T08:18:21.833
> 
> 标签：c#, asynchronous, process

我有这样的代码：

```
ProcessStartInfo psi= new ProcessStartInfo(...);
Process process = Process.Start(psi);
Application.Current.Shutdown(); 
```

即便如此，`process`在极少数情况下，在生产计算机上拥有应用程序的进程信息（我有日志），进程根本没有打开。

因为我现在 Process.Start() 是同步的，如果它返回一个值，则必须有一个正在运行的进程。

我掌握的另一个信息是，真正的进程也是shell进程。

有谁知道问题出在哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:27:47.313

进程是 IO 工件，所以在你启动它和它实际打开之间总会有一些延迟。

这种延迟自然取决于运行代码的具体机器。

所以，像一个解决方案，你可以

*   或休眠主线程直到`p`进程打开一段时间

*   或关闭主线程，只有当您从（例如）某个计时器可以`p`在已运行的操作系统进程列表中找到所需的进程时。

第二个，我认为，是一个更好的解决方案。

# html - 如何卸载 iframe 直到显示

> ID：14952822
> 
> 赞同：0
> 
> 时间：2013-02-19T08:18:33.203
> 
> 标签：html, css, iframe

我已经部署了许多 iframe 来显示和隐藏每个选项卡，

```
<div class="slide" data-slide="1">
       <iframe src="url" width="100%" height="100%"></iframe>
</div>
<div class="slide" data-slide="2">
       <iframe src="url" width="100%" height="100%"></iframe>
</div>
<div class="slide" data-slide="3">
       <iframe src="url" width="100%" height="100%"></iframe>
</div> 
```

这就是它的代码的样子。虽然有些按钮没有显示。每个 iframe 都有匹配的按钮。每次单击每个按钮时，都会向用户显示匹配的 iframe。

假设我们有 100 个 iframe。

浏览器会加载这么多 iframe。然后，用户不得不花费很多时间。

所以我明确地想卸载 iframe 直到它被显示。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:21:00.867

您可以在按钮单击事件上动态更改 iframe 的“src”属性。

就像是：

```
<button data-url="http://google.com">Google</button>
<button data-url="http://yahoo.com">Yahoo!</button>
<button data-url="http://aol.com">Aol.</button>
<iframe id="myFrame" src="http://google.com" width="100%" height="100%"></iframe> 
```

使用 jQuery：

```
$( "button" ).on( "click", function(){
     var _url = $( this ).data( "url" );
     $( "#myFrame" ).attr( "src", _url );
}) 
```

这样做，您只需要一个框架元素，而不是相当于没有按钮的框架。

# informix - Informix 过程——如何返回一个空表？

> ID：14952825
> 
> 赞同：2
> 
> 时间：2013-02-19T08:18:49.793
> 
> 标签：informix, procedure

如果我找到一些值，我需要创建一个 Informix 过程来返回一个包含行的表，如果没有找到值则返回一个空表。

我知道如何返回带有行的表，但我不知道如何返回空表；谁能帮忙？

```
CREATE row type AType (
  id VARCHAR(255),
  name VARCHAR(255)
);

CREATE PROCEDURE getmeasurement (p_date DATETIME YEAR TO SECOND)
RETURNING MULTISET(AType NOT NULL);

    DEFINE AType_TABLE MULTISET (AType NOT NULL);
    DEFINE v_id VARCHAR(255);
    DEFINE v_name VARCHAR(255);
    ....
    IF( FoundValue ) THEN
        -- INSERT INTO TABLE
        INSERT INTO TABLE (AType_TABLE) VALUES (ROW(v_id,v_name)::AType);     
    ELSE
        // how to initial a AType_TABLE instance with empty records.
    END IF
    ....
    RETURN AType_TABLE;

END PROCEDURE; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T20:04:38.637

[尽管SQL Syntax Manual](http://publib.boulder.ibm.com/infocenter/idshelp/v117/topic/com.ibm.sqls.doc/ids_sqs_1714.htm)中说了什么，SPL（存储过程语言）过程可以返回集合类型（COLLECT、SET、MULTISET 或 LIST）。我已经报告了一个文档错误——这周早些时候误导了我。

我无法在 Mac OS X 10.7.5 上的 Informix 11.70.FC6 下编译此过程，但它出现的错误是：

```
SQL -9905: [Internal] No extended type information for domain. 
```

我在尝试上述代码的各种变体时遇到了各种问题。您似乎不能在多重集中的 DELETE 上使用 WHERE 子句（不同的错误消息）。如果您回滚类型的创建然后重试，您也可能会遇到问题。

但是，我能够在 Linux（RHEL 5、x86/64）上使用 11.70.FC8 的预发布版本对其进行测试，并获得了所需的输出：

```
CREATE ROW TYPE IF NOT EXISTS AType
(
    id   VARCHAR(255),
    name VARCHAR(255)
);

CREATE PROCEDURE getmeasurement (p_date DATETIME YEAR TO SECOND)
        RETURNING MULTISET(AType NOT NULL);

    DEFINE AType_TABLE MULTISET(AType NOT NULL);
    DEFINE v_id VARCHAR(255);
    DEFINE v_name VARCHAR(255);

    LET v_id = "Polynomial - " || p_date;
    LET v_name = "Euclid's Geometry of the Plane";
    INSERT INTO TABLE (AType_TABLE) VALUES(ROW(v_id, v_name)::AType);
    IF 1 = 1 THEN
        -- how TO initial a AType_TABLE instance WITH empty records.
        DELETE FROM TABLE(AType_TABLE);
    END IF

    RETURN AType_TABLE;

END PROCEDURE;

EXECUTE PROCEDURE getmeasurement(CURRENT);

ROLLBACK; 
```

输出是：

```
MULTISET{} 
```

这是一个空的多重集。如果您不先将某些内容插入到多重集中，则删除将失败。这有点奇怪。

### 概括

您可能对 Informix 11.70.xC7 没问题；它也可能适用于其他一些版本。但是可能有很多版本的 Informix 无法正常工作。

# powershell - “get-wmiobject win32_process -computername”得到错误“访问被拒绝，代码 0x80070005”

> ID：14952833
> 
> 赞同：8
> 
> 时间：2013-02-19T08:19:08.353
> 
> 标签：powershell, powershell-remoting

我正在尝试在 3 个终端服务器上查找其 $_.commandline 属性中包含某些单词的进程。在我的域管理员帐户下，它工作正常。但我希望此脚本可用于域用户，并且域用户在运行此脚本时会出错。

我应该怎么做，以便域用户可以像域管理员一样运行此脚本？提前致谢！

错误：

```
Get-WmiObject : Access is denied. (Exception from HRESULT: 0x80070005 (E_ACCESS DENIED))
At N:\FindWhoIsUsing\FindWhoIsUsing.ps1:7 char:18
get-wmiobject <<<<  win32_process -computername $server -EnableAllPrivileges|
CategoryInfo          : NotSpecified: (:) [Get-WmiObject], UnauthorizedAccessException
FullyQualifiedErrorId : System.UnauthorizedAccessException,Microsoft.PowerShell.Commands.GetWmiObjectCommand 
```

电源外壳代码：

```
Write-host "Who is using this profile?"
$profile = Read-host "specify profile name" 
$servers = @("server-01","server-02","server-03")
Foreach($server in $servers)
{
    Write-host $server
    get-wmiobject win32_process -computername $server -EnableAllPrivileges|
    where{$_.name -like "*Processname*" -and
    $_.CommandLine -like "*$profile*"}|
    select @{n="Server";e={$server}},@{n="User";e={$_.getowner().user}},@{n="ProcessID";e= {$_.ProcessID}},{$_.CommandLine}|fl
}
Write-host "DONE Searching!" 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-19T09:03:42.677

好的，步骤如下：

1.  启动“wmimgmt.msc”
2.  右键单击“WMI 控件（本地）”，然后选择属性
3.  转到“安全”选项卡并选择“安全”，然后选择“高级”，然后选择“添加”
4.  选择要授予 WMI 访问权限的用户名或组，然后单击确定
5.  授予所需的权限，我建议首先授予所有权限以确保授予访问权限，然后根据需要删除权限。
6.  确保“应用到”选项设置为“此命名空间和子命名空间”
7.  保存并退出所有提示
8.  将用户或组添加到本地“分布式 COM 用户”组。注意：此处无法添加“Authenticated Users”和“Everyone”组，因此您可以选择使用“Domain Users”组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-06-18T14:26:12.323

就我而言，我从域服务器连接到工作组服务器，需要设置注册表项：

```
HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\system\LocalAccountTokenFilterPolicy=1 
```

# c# - 用于哈希表 C# 的循环

> ID：14952834
> 
> 赞同：-4
> 
> 时间：2013-02-19T08:19:11.347
> 
> 标签：c#, hashtable

我可以使用'foreach'进行迭代哈希表，但我需要在使用循环中使用索引（for）

我用这个：

```
int i = 0;
foreach (var field in Hashtable) {
    i++;
    //action
} 
```

但我认为这不好

**我需要“为”循环**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:24:19.827

For 循环对于可以按数字索引的集合很有用。因此，迭代 HashTable 的唯一有用方法是迭代 Hashtables 键。

```
var keys = hashtable.Keys.ToArray();
for (int i = 0; i < keys.Length; i++)
   var value = hashtable[keys[i]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:20:52.627

偶数时`i`做某事，`i`奇数时做其他事。

# ajax - 带有异步调用的jqplot外部数据？

> ID：14952835
> 
> 赞同：2
> 
> 时间：2013-02-19T08:19:12.080
> 
> 标签：ajax, json, asynchronous, jqplot, freeze

有没有办法通过异步调用将外部数据加载到 jqplot 中？
我想要一个每分钟更新一次的实时图表，但是每次从服务器接收数据时，使用 async:false 页面都会冻结。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T20:52:57.700

在示例中这样做的原因是为了简单起见。以下是对此的异步[改造](http://www.jqplot.com/tests/data-renderers.php)：

```
var plot2 = null;

function fetchAjaxData(url, success) {
    $.ajax({
        url: url,
        dataType:"json",
        success: function(data) {
            success(data);
            console.log('loaded');
        }
    });
}

function createPlot(url) {
    fetchAjaxData(url, function(data) {
        if (plot2 == null) {
            plot2 = $.jqplot('chart2', data, {
                title: "AJAX JSON Data Renderer"
            });
        } else {
            plot2.replot({data: data});
            console.log('replotting');
        }
    });
}

$(document).ready(function(){
    var jsonurl = "./jsondata.txt";

    //Regenerate the plot on button click.
    $('#ajax-button').click(function() {
        createPlot(jsonurl);
    });

    //Generate the plot first time through.
    createPlot(jsonurl);
}); 
```

并使用 HTML：

```
<div id="chart2" style="height:300px; width:500px;"></div>
<button id="ajax-button">Ajax retrieve</button> 
```

所以它的作用是在 Ajax 调用成功时异步获取数据并绘制它。为了简单起见，我只是重新加载相同的文本文件，尽管这可以很容易地适应您正在绘制实时数据流的场景。

# php - 清理用户输入的最佳方法是什么？

> ID：14952842
> 
> 赞同：1
> 
> 时间：2013-02-19T08:19:48.977
> 
> 标签：php, web-applications, web, tcl, xss

我需要尽可能集中地防止 XSS 攻击，这样我就不必明确地清理每个输入。

我的问题是在 URL/请求处理级别对所有输入进行清理，在服务之前对输入进行编码/清理，还是在表示级别（输出清理）更好？哪个更好，为什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T09:24:08.763

您需要注意两个方面：

1.  将输入用作任何语言的脚本的一部分的任何地方，最显着的是包括 SQL。在 SQL 的特定情况下，*唯一*推荐的处理方式是使用参数化查询（这将导致数据库中存在未转义的内容，但就像字符串一样：这是理想的）。在将字符直接替换为 SQL 字符串之前，涉及对字符进行魔术引用的任何事情都是劣质的（因为它很容易出错）。使用参数化查询无法完成的任何事情都是针对 SQL 注入保护的服务绝不应该允许用户指定的事情。

2.  将输入作为输出的东西呈现在任何地方。输入的来源可以是直接的（包括通过 cookie）或间接的（通过数据库或文件）。在这种情况下，您的默认方法应该是使用户*看到*的文本成为输入的文本。这很容易正确实现，因为您实际上必须引用的唯一字符是`<`and `&`，并且您可以将其全部包装起来以`<pre>`供显示。

但这通常是不够的。例如，您可能希望允许用户进行某种格式化。这是很容易出错的地方。在这种情况下，最简单的方法是解析输入并检测所有格式化指令；其他所有内容都需要正确引用。您应该将格式化版本另外存储在数据库中作为额外的列，以便在将其返回给用户时不需要做太多工作，但您还应该存储用户输入的原始版本，以便您可以搜索它. ***不要把它们混在一起！***真的！审核您的应用程序以确保您*完全*正确（或者，更好的是，让其他人进行审核）。

但是关于小心使用 SQL 的一切仍然适用，并且有许多 HTML 标记（例如 , `<script>`）`<object>`和属性（例如`onclick`）从来都不是安全的。

* * *

您正在寻找有关特定软件包的建议来完成这项工作？那你真的需要选择一种语言。上述建议完全与语言无关。附加包/库可以使上述许多步骤在实践中变得非常容易，但您仍然绝对需要小心。

# .net - Web.config - 在集合中保存集合的自定义配置

> ID：14952846
> 
> 赞同：1
> 
> 时间：2013-02-19T08:20:10.540
> 
> 标签：.net, web-config, custom-configuration

我正在使用 web.config 在 web.config 中设置自定义配置`<configSections></configSections>.`

我想要并在 web.config 中创建的标签结构是：

```
<TwitterCredentialsSectionGroup>
    <TwitterCredentialsSection>
      <accounts>
        <account id="ID1">
          <add key="ConsumerKey" value="..."/>
          <add key="ConsumerSecretKey" value="..."/>
          <add key="AccessToken" value="..."/>
          <add key="AccesstSecretToken" value="..."/>
        </account>
      </accounts>
    </TwitterCredentialsSection>
  </TwitterCredentialsSectionGroup> 
```

我使用以下标签在 configSections 标签内注册了我的自定义配置部分：

```
<configSections>
<sectionGroup name="TwitterCredentialsSectionGroup">
  <section name="TwitterCredentialsSection" type="TwitterIntegration.TwitterCredentialsSection"
           allowLocation="true" allowDefinition="Everywhere" />
</sectionGroup> 
```

这里有 2 个不同的集合元素，即：

1.  帐户（持有每个 Twitter 帐户密钥）
2.  帐户（将保存所有 twitter 帐户实例/标签）

现在我的自定义配置代码文件如下所示：

```
namespace TwitterIntegration
{
    public class TwitterCredentialsSection : ConfigurationSection
    {

    [ConfigurationProperty("accounts")]
    public AccountCollection Accounts
    {
        get
        {
            return (AccountCollection)this["accounts"];
        }
    }

    [ConfigurationProperty("account")]
    public AccountElement Account
    {
        get
        {
            return (AccountElement)this["account"];
        }
    }
}

public class TwitterKeyElement : ConfigurationElement
{
    [ConfigurationProperty("key",IsKey=true, IsRequired=true)]
    public String Key
    {
        get
        {
            return (String)this["key"];
        }
    }

    [ConfigurationProperty("value")]
    public String Value
    {
        get
        {
            return (String)this["value"];
        }
    }
}

[ConfigurationCollection(typeof(TwitterKeyElement))]
public class AccountElement : ConfigurationElementCollection
{
    [ConfigurationProperty("id", IsRequired = true, IsKey = true)]
    public string ID
    {
        get
        {
            return (string)this["id"];
        }
    }

    protected override ConfigurationElement CreateNewElement()
    {
        return new TwitterKeyElement();
    }
    protected override object GetElementKey(ConfigurationElement element)
    {
        return ((TwitterKeyElement)element).Key;
    } 
}

[ConfigurationCollection(typeof(AccountElement))]
public class AccountCollection : ConfigurationElementCollection
{
    protected override ConfigurationElement CreateNewElement()
    {
        return new AccountElement();
    }
    protected override object GetElementKey(ConfigurationElement element)
    {
        return ((AccountElement)element).ID;
    }

} 
```

}

现在，当我尝试使用以下代码读取 web.config 时，出现错误：

```
TwitterCredentialsSection objtcsection = (ConfigurationManager.GetSection("TwitterCredentialsSectionGroup/TwitterCredentialsSection") as TwitterCredentialsSection); 
```

错误： ****解析器错误消息：无法识别的元素“帐户”。**

```
Source Error: 

Line 19:     <TwitterCredentialsSection>
Line 20:       <accounts>
Line 21:         <account id="ID1"> 
Line 22:           <add key="ConsumerKey" value="W0SKMPuXzml2CHGsMSoHZA"/>
Line 23:           <add key="ConsumerSecretKey" value="kaAS0CgeQqcTWjTvYsie8Owtl8o6N8hcOclY9bKlu4"/> 
** 
```

谁能建议我的代码有什么问题？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-22T15:47:46.223

您的代码只需要两个小改动：

1.  **将ConfigurationCollection 属性添加到类中的**属性**`Accounts`以`TwitterCredentialsSection`定义无法识别的“帐户”元素：**

     **```
    public class TwitterCredentialsSection : ConfigurationSection
    {
       [ConfigurationProperty("accounts")]
       [ConfigurationCollection(typeof(AccountCollection), AddItemName = "account")]
       public AccountCollection Accounts
       {
           get { return (AccountCollection) this["accounts"]; }
       }
    } 
    ```** 
***   **`Account`从同一`TwitterCredentialsSection`类中**删除属性：****

     **```
    [ConfigurationProperty("account")]
    public AccountElement Account
    {
        get { return (AccountElement) this["account"]; }
    } 
    ```****

# android - 如何使用 Stackmob 更新架构？

> ID：14952852
> 
> 赞同：0
> 
> 时间：2013-02-19T08:20:44.107
> 
> 标签：android, stackmob

首先我想说，我真的很喜欢 Stackmob。

但是我有一些小问题，因为我是 stackmob 的新手。

1.  我正在开发 Android sdk
2.  我创建了一个名为“level”的模式，它有 2 个唯一索引（facebook_id 和 level_no）

我的问题是**如何通过 facebook_id 和 level_no 插入、更新和删除（crud）行**。

（ps：如果架构有 1 个唯一索引，我可以更新它，但是当索引计数大于 1 时，我不知道该怎么做。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T18:33:47.167

索引不像主键。它不强制唯一性，它只是加快对这些字段的查询。您仍然必须考虑将 level_id 作为主键。不过，在其他领域做 CRUD 操作并不难。对于插入，如果您省略主键，则会为您生成一个。对于其他操作，您可以按您想要的字段查询：

```
Level.query(Level.class, new StackMobQuery().fieldIsEqualTo("facebook_id", "foo"), new StackMobQueryCallback<Level>() {...}); 
```

然后一旦你得到你的关卡对象，只需重新保存或删除

```
myLevel.setSomething("bar");
myLevel.save();
// or
myLevel.delete(); 
```

如果您使用的是数据存储 api，那也是同样的想法，您只是直接进行 REST API 调用。

# php - 如何保护项目中的数据库配置文件？

> ID：14952853
> 
> 赞同：10
> 
> 时间：2013-02-19T08:20:47.600
> 
> 标签：php, mysql, secure-coding

我在 php 文件上创建了用于与数据库服务器建立连接。在这个文件中，我正在使用`mysql_connect()`带有参数主机、用户名和数据库服务器密码的函数。

```
public class DatabaseConnect
{
function __construct()
{
    mysql_connect('localhost','username','password') or die('Could not connect to mysql server.');
    mysql_select_db('databasename');
}

} 
```

现在在这种情况下，用户名和密码对其他人可见。

我找到了另一种确保价值的方法，即`mysql.default_user`和`mysql.default_password`. 在哪种情况下我们必须这样？

或者我怎样才能从别人那里获得我的价值观？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-19T08:26:46.480

您可以尝试将数据库凭据放在具有适当 UNIX 权限集（例如 644）的单独文件中，然后将此文件包含在脚本之上。

该`configuration.php`文件将如下所示：

```
<?php
define (DB_USER, "mysql_user");
define (DB_PASSWORD, "mysql_password");
define (DB_DATABASE, "database_name");
define (DB_HOST, "localhost");
?> 
```

您的原始脚本将如下所示：

```
require ("configuration.php");
public class DatabaseConnect
{
function __construct()
{
    mysql_connect(DB_HOST,DB_USER,DB_PASSWORD) or die('Could not connect to MySQL server.');
    mysql_select_db(DB_DATABASE);
}

} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-19T08:24:04.290

> 现在在这种情况下，用户名和密码对其他人可见。

只有那些有权访问您的源代码的人。这应该不是问题。但是，如果您想将代码和数据库凭据分开，请确保配置文件位于 Web 根目录之外。

# java - 从精灵表中导入精灵

> ID：14952863
> 
> 赞同：0
> 
> 时间：2013-02-19T08:21:11.833
> 
> 标签：java, graphics, sprite, java-canvas

好吧，我一直在观看一些关于如何从 spritesheet (8x8) 中获取精灵的 youtube 视频，我真的很喜欢 DesignsByZepher 的教程。然而，他使用的方法导致他导入一个分类表，然后将颜色更改为代码内选定的颜色。

[http://www.youtube.com/watch?v=6FMgQNDNMJc](http://www.youtube.com/watch?v=6FMgQNDNMJc)显示工作表

[http://www.youtube.com/watch?v=7eotyB7oNHE](http://www.youtube.com/watch?v=7eotyB7oNHE)用于颜色渲染

我通过观看他的视频制作的代码是：

```
package exikle.learn.game.gfx;

import java.awt.image.BufferedImage;
import java.io.IOException;

import javax.imageio.ImageIO;

public class SpriteSheet {

    public String path;
    public int width;
    public int height;

    public int[] pixels;

    public SpriteSheet(String path) {
        BufferedImage image = null;
        try {
            image = ImageIO.read(SpriteSheet.class.getResourceAsStream(path));
        } catch (IOException e) {
            e.printStackTrace();
        }

        if (image == null) { return; }

        this.path = path;
        this.width = image.getWidth();
        this.height = image.getHeight();

        pixels = image.getRGB(0, 0, width, height, null, 0, width);

        for (int i = 0; i < pixels.length; i++) {
            pixels[i] = (pixels[i] & 0xff) / 64;
        }
    }
} 
```

^这是导入图像的代码

```
package exikle.learn.game.gfx;

public class Colours {

    public static int get(int colour1, int colour2, int colour3, int colour4) {
        return (get(colour4) << 24) + (get(colour3) << 16)
                + (get(colour2) << 8) + get(colour1);
    }

    private static int get(int colour) {
        if (colour < 0)
            return 255;
        int r = colour / 100 % 10;
        int g = colour / 10 % 10;
        int b = colour % 10;
        return r * 36 + g * 6 + b;
    }
} 
```

^ 和我认为处理所有颜色的代码，但我对此有点困惑。

我的问题是我如何删除颜色修改器并按原样导入和显示精灵表，所以它已经具有颜色？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:33:17.580

这些基础知识将替换该`get(int)`方法...

```
private static int get(int colour) {
    //if (colour < 0)
    //    return 255;
    //int r = colour / 100 % 10;
    //int g = colour / 10 % 10;
    //int b = colour % 10;
    //return r * 36 + g * 6 + b;
    return colour;
} 
```

我也会摆脱

```
for (int i = 0; i < pixels.length; i++) {
    pixels[i] = (pixels[i] & 0xff) / 64;
} 
```

从`main`方法上

但老实说，简单地使用不是更容易[`BufferedImage#getSubImage`](http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getSubimage%28int,%20int,%20int,%20int%29)吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-26T21:05:03.727

所以你在摆弄 Minicraft 的源代码，我明白了。Notch 的代码的问题在于，他在这场比赛中在技术上大大限制了自己。引擎所做的基本上是说每个精灵/图块可以有 4 种颜色（来自灰度精灵表），他生成自己的调色板，他从中检索颜色并在渲染期间进行相应设置。我不记得他设置的每个通道有多少位等等。

但是，您显然对编程很陌生，而且 imo 没有什么比摆弄和分析其他人的代码更好的了。也就是说，如果您真的*可以*这样做的话。Screen 类是进行渲染的地方，因此它使用 spritesheet 并因此根据您告诉它获取的任何图块相应地提供颜色。Markus 非常聪明，尽管代码写得不好（这是完全可以原谅的，因为他确实有 48 小时来制作该死的东西；））

如果您只想按原样显示精灵表，您可以重写渲染函数或将其重载为类似这样的东西......（在类 Screen 中）

```
public void render() {
     for(int y = 0; y < h; y++) {
          if(y >= sheet.h) continue; //prevent going out of bounds on y-axis
          for(int x = 0; x < w; x++) {
              if(x >= sheet.w) continue; //prevent going out of bounds on x-axis
                  pixels[x + y * w] = sheet.pixels[x + y * sheet.w];
          }
     }
} 
```

这只会将它可以放入屏幕的任何表格进行渲染（这是一段非常简单的代码，但应该可以工作），下一步是将像素复制到实际的光栅中进行显示，我正在确定你可以处理。（如果您已经复制粘贴了所有的 minicraft 源代码或其他一些稍作修改的源代码，您可能还想更改一些相关内容。）

所有的欢呼！

# map - 在滑雪地图上固定纬度经度

> ID：14952868
> 
> 赞同：0
> 
> 时间：2013-02-19T08:21:34.557
> 
> 标签：map, latitude-longitude, coordinate-systems, openstreetmap, coordinate-transformation

我有一张山区地图，[http://skimap.org/data/989/60/1218033025.jpg](http://skimap.org/data/989/60/1218033025.jpg)。它包含许多已知点，使用谷歌地图可以很容易地找到这些点的经纬度。我希望能够在地图上固定任何纬度经度坐标，当然是在景观范围内。

为此，我尝试了一种似乎在很大程度上失败的方法。我假设这张地图相当于一张瑞士风景的航拍照片，没有任何关于相机的高度或其他坐标的信息。因此，我假设垂直于相机镜头法线的平面为 Ax+By+Cz-d=0。

我尝试使用已知点找到平面常数。我将我的原点固定在一个点上，海平面上的 z=0。我在景观中取两个已知点，并使用 3D 线的方程，我找到了连接两个已知点的线段在平面上的投影长度。我将它乘以另一个常数 K 以说明在此 3D 图像的静态 2d 表示上调整此长度的大小。可以很容易地找到此屏幕上此图像的 2d 静态表示中两点之间的长度（以像素为单位），并且可以轻松找到连接两点的线的实际长度，因为我可以计算两者之间的距离点及其经纬度和海拔高度。

所以，我最终得到了一个方程，它与屏幕 2d 表示上两点之间的距离直接相关，我们称之为 Ls，以及景观中的实际长度 L。我还有许多其他已知点，所以将它们代入方程应该给我 4 个常量的值。为此，我需要 8 个已知点（已知参数是它们的名称、经纬度和海拔高度），一个是我的原点，第二个是固定参考点。其余 6 个点在 A^2、B^2、C^2、AB、BC 和 CA 中生成 6 个线性方程组。使用在线工具求解系统，我得到的结果是系统有一个唯一的解决方案，所有 6 个常数都为 0。

因此，将地图等同于从飞机上拍摄的航拍照片的假设似乎是错误的。有人可以给我一些指示或任何其他想法来让它工作吗？开放街道地图是否有墨卡托投影？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-26T14:24:05.787

我会说这不可能以自动方式完成。滑雪地图应该被视为图像而不是地图，地图是现实世界到一个平面的投影，因为这不太适合滑雪地图，而是绘制它们。

最好的方法可能是使用已知或估计的坐标在滑雪地图中手动定义许多点，并使用它们来估计它们之间的点。要获得可接受的结果，您可能必须为滑雪图中的每个像素分配坐标。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-15T18:37:20.347

您可以执行以下操作：http: [//magazin.unic.com/en/2012/02/16/making-of-interactive-mobile-piste-map-by-laax/](http://magazin.unic.com/en/2012/02/16/making-of-interactive-mobile-piste-map-by-laax/)

我正在解决完全相同的问题。这很难，而且数学很多。花了我几个星期来解决它。插值也是许多手动映射的关键。我会说，对于一座滑雪山来说，至少需要 1000/1500 分才能获得最基本的。因此，除非您可以自动收集这些点（我在做什么！），否则这不是一项微不足道的任务；）

# javascript - Firefox 和 Ruby On Rails - 仅在 Firefox 中且仅在部署后出现 hbs 和 js 错误

> ID：14952869
> 
> 赞同：1
> 
> 时间：2013-02-19T08:21:48.760
> 
> 标签：javascript, ruby-on-rails, firefox, assets, pipeline

问题：

1.  我有一个 RoR 项目在不同的浏览器（Chrome、IE、Safari、Opera）以及三种标准环境（本地、暂存和生产）中运行良好。

2.  我只在 Firefox 中遇到错误，并且只有在部署到登台或生产之后。因此，即使在 Firefox 本地环境中也可以正常工作。基本上可见的错误是一些关键的 web javascript 相关功能的故障。

3.  暂存或生产中的 Firefox 控制台首先返回 application-xxxxxxxxx.hbs 中的 html 语法错误（格式错误），其次是 application-yyyyyyyyyyy.js 中的 javascript 错误（this._input 未定义）

4.  似乎js错误来自hbs文件中的错误，所以我尝试将html sintax错误直接解决到暂存的编译文件application-xxxxxx.hbs，但是当修复一个错误时，显示另一个错误：

    *   自动生成的评论
    *   嵌套的双引号对
    *   input、img 和其他没有相应结束标签的 html 开始标签（似乎打开/关闭标签的捷径突然不起作用？！！？！？！....）
    *   等等
5.  所有这些错误内容对我来说毫无意义，因为它在所有浏览器中都可以正常工作，即使在本地 Firefox 中也是如此......所以......

当任何其他浏览器在任何环境中都可以正常工作，甚至Firefox在本地环境中也可以正常工作时，是什么奇怪的事情让Firefox在部署后如此特别？

顺便说一句，我怀疑问题可能始于 Firefox 浏览器更新......但是......真的不知道。

有任何想法吗？

非常感谢你的帮助

# json - 如何将 JavaScript 函数存储到猫鼬的文档中？

> ID：14952870
> 
> 赞同：1
> 
> 时间：2013-02-19T08:21:52.303
> 
> 标签：json, node.js, mongodb, mongoose

我需要存储一些数据并关联`functions`到`mongodb document`.

```
{name:"data1",event:function(){ /* some code */ }}
{name:"data2",event:function(){ /* some other code */ }} 
```

我正在`mongoose.js` `ORM`为我的项目使用。我该怎么写`schema`这个？

引用猫鼬[指南](http://mongoosejs.com/docs/guide.html)

> 允许`SchemaTypes`的是`String`, `Number`, `Date`, `Buffer`, `Boolean`, `Mixed`,`ObjectId`和`Array`。

但是如果您检查`datatypes`allowed by `mongodb`，您可以找到存储 js 函数的方法，如[mongo-db-data-types-article 中所述](http://mongodb.github.com/node-mongodb-native/api-articles/nodekoarticle1.html#mongo-db-data-types)

> 代码类是一个特殊的类，可以让你在 Mongo DB 中存储 javascript 函数，也可以提供一个范围来运行方法

我在猫鼬上找不到上述数据类型。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T00:38:58.677

该模块为 Mongoose 添加了功能支持：[https ://github.com/aheckmann/mongoose-function](https://github.com/aheckmann/mongoose-function)

# php - php 不允许我覆盖默认参数

> ID：14952874
> 
> 赞同：1
> 
> 时间：2013-02-19T08:22:11.543
> 
> 标签：php

当我指定默认值时，我似乎无法让 php 接受参数的动态值。我在[这里](https://stackoverflow.com/questions/9166914/php-using-default-arguments-in-a-function)读到默认值需要在函数的末尾，我已经这样做了。

```
$isbilling = true;

function retrieve_address($dbh, $customer_id, $isbilling=false){
echo $isbilling; //false
} 
```

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T08:24:56.737

```
$isbilling = true;

function retrieve_address($dbh, $customer_id, $isbilling=false){
echo $isbilling; //false
}

// you have to call your function

retrieve_address('dbhval', 'CUSTID', $isbilling); // will print true
retrieve_address('dbhval', 'CUSTID'); // will print false 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T08:25:14.920

您已将 $isbilling 的默认值设置为 false，并且在调用 $isbilling 参数时没有将任何内容传递给它（我假设，因为您实际上并没有发布该部分）。

试试这个：

```
$isbilling = true;

function retrieve_address($dbh, $customer_id, $isbilling=false){
    echo $isbilling; //false
}

retrieve_address($dbh, $customer_id, $isbilling); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T08:31:17.353

那么动态值可以是函数参数中的任何位置，也可以是第一个。但最好的做法是将它们保留在最后，这样就不必在每次调用函数时都指定可选参数。

我也把函数里面的echo改成了return，这也是一个最佳实践。

```
$isbilling = true;

function retrieve_address($dbh, $customer_id, $isbilling=false){
     return  $isbilling; //false
}

$returned = retrieve_address($dbh, $customer_id, $isbilling); 
```

因此，您还可以执行以下操作

```
// will return true or false 
if(retrieve_address($dbh, $customer_id, $isbilling)){
    // if it is true, your code
}else{
    // if it is false
} 
```

或者

```
$returned = retrieve_address($dbh, $customer_id, $isbilling);
if(returned)){
    // if it is true, your code
}else{
    // if it is false
} 
```

# servicestack - 两个服务的解决方案冲突

> ID：14952876
> 
> 赞同：1
> 
> 时间：2013-02-19T08:22:19.743
> 
> 标签：servicestack

我一直在尝试使用以下场景设置解决方案：

1.  客户端应用 X 调用服务 A
2.  服务 A 调用类库 Y
3.  类库 Y 调用服务 B

所以项目以这种方式相互引用：

*   客户端应用 X -> 引用服务 A
*   服务 A -> 引用类库 Y
*   类库 Y -> 参考服务 B

我已将项目配置为开始调试所有项目（类库除外），并且服务在不同端口上的 IIS Express 下运行。

当我使用 SocialBootstrapApi 项目作为服务的模板并开始调试时，服务 A 启动正常，但在服务 B 上出现编译错误：

```
CS0121: The call is ambiguous between the following methods or properties:
'ServiceStack.Mvc.Bundler.ToJsBool(bool)' and 'ServiceStack.Mvc.Bundler.ToJsBool(bool)' 
```

在线的

```
App.models.login.set({ isAuthenticated: @session.IsAuthenticated.ToJsBool() }); 
```

我还使用空的 ASP.NET 项目 + ServiceStack.Host.AspNet 作为模板进行了测试，服务 A 再次运行，但我得到了

```
System.IO.InvalidDataException: AppHostBase.Instance has already been set 
```

在线的

```
new AppHost().Init(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-26T11:24:41.723

您似乎正在尝试在其他工作主机中启动主机。我建议您重新排序和解耦依赖项。

您可以通过以下方式做到这一点：

*   库 Y 公开了一个具有自己需求的接口/合同。没有对任何服务的直接引用是硬编码的。
*   服务 B 实现该接口（或库 B 实现）。
*   然后 Service A 或 AppX 是配置所有服务的唯一主机，并且您将所有部分与 IoC 容器挂钩。

如果提供更具体的服务描述等，我可以提出更好的建议。Servicestack 让您可以通过 IoC 容器和 IMessageService 解耦服务间调用

# file - Windows 按名称批量移动（或复制）PDF 文件到相应文件夹

> ID：14952878
> 
> 赞同：2
> 
> 时间：2013-02-19T08:22:27.970
> 
> 标签：file, windows-7, batch-file, copy

我正在尝试找到一种方法来创建一个 Windows 批处理脚本，该脚本将查看一个充满 .pdf 文件的目标文件夹，并将它们移动（或复制）到另一个目录，其中包含基于文件名的现有子文件夹。

文件和文件夹是真实人物的名字。我希望能够使用脚本将该人的 pdf 文件放入他们现有的文件夹中。

假设我的文件夹中有 2 个文件；`smithJohn015.pdf`和`thomasBill030.pdf`。我希望能够放入`smithJohn015.pdf`文件夹`SmithJohn`和`thomasBill030.pdf`文件夹`ThomasBill`中。

如果文件名重复，我不希望脚本创建新文件夹或覆盖现有文件。

我不一定要找人为我编写脚本，但如果有人能让我朝着正确的方向开始，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T14:33:38.007

尝试为您的邪恶目的修改[此答案](https://stackoverflow.com/a/14669246/1683264)。

```
@echo off
setlocal

pushd "c:\path\to\PDFs"

for /d %%I in (c:\Path\To\People\*) do (
    for %%F in (*) do (
        for /f %%A in ('echo %%~nF ^| find /i "%%~nI"') do (
            set /p a="Moving %%F to %%I... "<NUL
            move "%%F" "%%I" >NUL
            echo Done.
        )
    )
)
popd 
```

你需要`if not exist pdffile`在移动之前添加一个检查，但无论如何你都有一个开始的方向。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T16:42:33.313

以下假设目标子文件夹的位置仅包含 PDF 可能所在的子文件夹，并且您要移动的每个 PDF 都有一个格式为相应子文件夹名称后跟三个字符的名称（与您的示例相同）：

```
@ECHO OFF
FOR /D %%D IN ("D:\path\to\subfolders\*") DO (
  MOVE "D:\path\to\PDFs\%%~nD???.pdf" "%%D"
) 
```

或者作为单线直接在命令提示符下执行：

```
FOR /D %D IN ("D:\path\to\subfolders\*") DO (MOVE "D:\path\to\PDFs\%~nD???.pdf" "%D") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-02-03T12:03:34.840

**folderlist.txt**包含您要在其中复制相应 PDF 的所有文件夹名称。 `xcopy`是复制命令。格式`xcopy "source" "destination" /parameters`。pause 只是为了保持命令窗口打开

```
for /F "tokens=*" %%A in (folderlist.txt) do (
    xcopy "E:\path\to\source folder\<prefix>%%A<suffix>.pdf" "E:\path\to\destination folder\<prefix>%%A<suffix>\" /s)
pause 
```

您可以在源路径和目标路径中使用**通配符。**

# macros - 为游戏创建“机器人”的程序或语言

> ID：14952881
> 
> 赞同：0
> 
> 时间：2013-02-19T08:22:42.160
> 
> 标签：macros, artificial-intelligence, bots

我想编写一些简单的人工智能来玩同样的游戏。简单的事情，例如登录帐户、在屏幕上搜索图像、单击某些点或在一定时间后按击键。由于想法是保持简单，我不想要任何太复杂的东西，所以从头开始工作是我不想做的事情。

我的问题是，您是否可以列出快速完成此操作的方法。程序或语言。我知道一些宏程序，例如 AutoHotkey。在编程语言方面，我知道 C++ 和 Python，但除非我能获得好的库（一个用于操作鼠标，另一个用于操作击键），否则我认为它们不会派上用场。

附言

如果您想知道为什么，我想这样做的原因是我的一些朋友沉迷于社交游戏，他们需要满足某些随机标准（例如每 12 小时引入一个词组）才能让他们与对手竞争其他玩家。所以我，作为一个程序员，想试着让这个负担（不会给游戏增加任何东西）变小一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:24:47.590

如果您不需要它在 linux 下工作，我推荐[Autoit](http://www.autoitscript.com/site/autoit/)

移动鼠标，点击，按键非常简单。它还可以检查屏幕中的像素颜色，在托盘中留下图标或在您按下自定义命令时运行某些功能。它非常简单和完整。这是您可以默认使用的所有功能的列表（您也可以添加库）：[http ://www.autoitscript.com/autoit3/docs/functions.htm](http://www.autoitscript.com/autoit3/docs/functions.htm)

我也使用过 Java Robot，但如果你想要一个游戏机器人，请先尝试 Autoit。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T08:31:19.347

让我说清楚。你想编写一个玩社交游戏的 AI，并且想要一个如何快速完成此操作的列表。

我认为你会得到相当多的反对票，但到底是什么：

简单的解决方案是 Selenium Webdriver，它是一种自动化工具，通常用于测试。您可以在 IDE 中记录基础知识，然后将其导出到 Eclipse 并用 Java 编写更高级的结构。它应该是你阻力最小的路径。

# excel - 根据那里的名称从三张纸中提取值到最终纸中

> ID：14952888
> 
> 赞同：0
> 
> 时间：2013-02-19T08:23:03.070
> 
> 标签：excel, formulas

我有一个工作簿，其中包含三个工作表 [Sheet1、Sheet2 和 Sheet3] 中的数据，第四张工作表是主工作表。

如果匹配，我想根据名称将三张表中的值添加到主表中。例如，

```
Sheet 1
A,B [columns]
test1,1000
test2,2000

Sheet 2
A,B [columns]
test2,1000
test1,2000

Sheet 3
A,B [columns]
test1,1000
test2,2000 
```

预期成绩...

```
Main Sheet
test1, 4000
test2, 5000 
```

你能建议我这个公式或任何参考吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:23:24.713

我认为这就是您所需要的 - 如果我正确理解了输入，假设您`Sheet1:Sheet3`的工作簿和工作`SUM`表中有“主要”（公式用于最后一个）：

1.  输入`A1`:`test1`或您想要总结的任何值。
2.  输入`B1`: `=SUM((Sheet1!A:A=A1)*Sheet1!B:B,(Sheet2!A:A=A1)*Sheet2!B:B,(Sheet3!A:A=A1)*Sheet3!B:B)`，但按`CTRL`+ `SHIFT`+`ENTER`而不是通常的`ENTER`- 这将定义一个 ARRAY 公式并在`{}`其周围产生括号（但不要手动输入它们！）。
3.  根据需要添加新值以汇总`A`并自动填充公式`B`。

示例文件：[https ://www.dropbox.com/s/95n46kavpfj4xs7/Sum3Sheets.xlsx](https://www.dropbox.com/s/95n46kavpfj4xs7/Sum3Sheets.xlsx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:28:44.817

test1 的公式为：

```
 =Sheet1!A2+Sheet2!B2+Sheet3!A2 
```

test2 的公式为：

```
 =Sheet1!B2+Sheet2!A2+Sheet3!B2 
```

然后使用 Fill 将此公式填充到所有列。

更新：

```
HLOOKUP("Test2",Sheet1!A1:B2,2)+HLOOKUP("Test2",Sheet2!A1:B2,2)+HLOOKUP("Test2",Sheet3!A1:B2,2) 
```

# javascript - 如何直接初始化 Nashorn 上下文和引擎？

> ID：14952891
> 
> 赞同：3
> 
> 时间：2013-02-19T08:23:14.417
> 
> 标签：javascript, nashorn

我正在尝试直接从命名空间初始化 Oracle 的 javascript nashorn 引擎`jdk.nashorn.*`。（nashorn 库是 2013 Jan 的 beta 版本）。

有一个使用 javax.script.ScriptEngineManager 实用程序类调用引擎的 Nashorn 引擎实例的 Web 示例。

```
var engine = ScriptEngineManager.getEngineByName(*) 
```

但是，我喜欢远离 ScriptEngineManager，所以我需要像 Rhino 一样直接调用引擎。

```
Context cx = Context.enter();
Scriptable scope = cx.initStandardObjects(); 
```

如何直接创建 nashorn 引擎实例？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-23T09:52:04.010

javax script engine by type application/javascript Hashorn，取回一个脚本引擎并告诉它做事，它还提供可调用和可编译的接口。

Yout 可能有兴趣阅读以下内容：[如何开始使用 Oracle 的 Nashorn JS 引擎进行编码，它何时会取代 OpenJDK 中的 Rhino？](https://stackoverflow.com/questions/13427793/how-can-i-start-coding-with-oracles-nashorn-js-engine-and-when-will-it-replace)

示例用法：

```
import javax.*; //lib imports
// we should use the javax.script API for Nahsorn
ScriptEngineManager m = new ScripteEngineManager(); 
ScriptEngine e = m.getEngineByname("nashorn");
try {
   e.eval("print('hello nashorn !')");
} catch(Exception e) {
  // using jdk lower then version 8 maybe ?
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-27T06:42:11.890

我找到了直接使用.NET初始化引擎的方法，没有“

```
 "javax.script.ScriptEngineManager" 
```

环境：IKVM.NET 版本 8 + .NET Framework 4.52

```
 static void Main(string[] args)
    {

        jdk.nashorn.api.scripting.NashornScriptEngineFactory fact = new jdk.nashorn.api.scripting.NashornScriptEngineFactory();
        jdk.nashorn.api.scripting.NashornScriptEngine nashornengine = fact.getScriptEngine() as jdk.nashorn.api.scripting.NashornScriptEngine;

        nashornengine.eval("var x = 1/3;");
        object result = nashornengine.get("x");
        Console.WriteLine("{0}", result);
    } 
```

这让我可以更直接地与 nashorn 上下文方法进行交互。

```
 compile()
 getFactory()
 invokeMethod()
 invokeFunction() 
```

# tridion - 使用 Tridion UGC Web 服务添加评级

> ID：14952896
> 
> 赞同：3
> 
> 时间：2013-02-19T08:23:35.490
> 
> 标签：tridion, tridion-2011, tridion-content-delivery, ugc

我知道我可以通过 UGC 网络服务添加评论，方法如下：-

```
WebServiceClient ugcCall = new WebServiceClient();

string ugcData = "{ \"d\" :{\"Content\":\"" + comment + "\",\"Status\":2,\"ItemPublicationId\":\"" + PublicationId + "\",\"ItemId\":\"" + itemid + "\",\"ItemType\":\"16\",\"Id\":0,\"ModeratedDate\":\"\",\"LastModifiedDate\":\"\",\"CreationDate\":\"\",\"Score\":0,\"Moderator\":\"\",\"User\":{\"Id\":\"ACME%5Cjbloggs\",\"Name\":\"Joe Bloggs\"}}}";

string result = ugcCall.UploadString("/Comments", "POST", ugcData); 
```

我的问题是添加评级和好恶的语法是什么？这在任何地方都有记录吗？

MTIA

约翰

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T13:13:29.790

上传评分的命令是“/Ratings”而不是“/Comments”。当然，JSON 也不同。在下面的代码中，我没有手动写出 JSON，而是构造了一个简单的 Rating 对象并使用 JavascriptSerializer 将其转换为 JSON：

```
TcmUri tcmUri = new TcmUri(itemUri);
WSR_ContentDelivery.User user = new WSR_ContentDelivery.User { Id = GetUserId() };
WSR_ContentDelivery.Rating rating = new WSR_ContentDelivery.Rating
{
  CreationDate = DateTime.UtcNow,
  LastModifiedDate = DateTime.UtcNow,
  ItemPublicationId = tcmUri.PublicationId,
  ItemId = tcmUri.ItemId,
  ItemType = tcmUri.ItemTypeId,
  RatingValue = ratingValue.ToString(),
  User = user,
  Id = "0"
};

JavaScriptSerializer oSerializer = new JavaScriptSerializer();

WSClient.UploadString("/Ratings", "POST", "{d:" + oSerializer.Serialize(rating) + "}", GetUserId()); 
```

# windows - 如何使用批处理文件在静默安装期间停止窗口退出？

> ID：14952899
> 
> 赞同：2
> 
> 时间：2013-02-19T08:23:50.303
> 
> 标签：windows, batch-file, silent, silent-installer

我写了一个执行静默安装的批处理文件，它工作正常。但是，如果出现任何错误消息，我该如何阅读？我可以将所有错误/成功消息写入日志文件吗？还有什么命令可以阻止窗口退出吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:50:23.577

有一个`PAUSE`命令，它什么也不做，然后打印一条消息 ( `Press any key to continue . . .`) 并等待按下一个键。这将允许您在窗口消失之前阅读任何消息。只需在脚本结束之前和/或您需要的其他位置将该命令添加到批处理文件中。

您也可以尝试将消息重定向到文件。通常，控制台消息通过添加`>filename`或重定向`1>filename`到命令行。

但是，这只会重定向`stdout`消息，虽然也可能有消息`stderr`。特别是，错误消息通常打印到`stderr`，尽管这不是规则，第三方程序可能不遵循该约定。无论如何，`stderr`需要`2>filename`在命令行上使用 put 重定向消息。

要重定向两者并确保它们转到同一个文件，请`1>filename 2>&1`在命令行上使用。

您可以将重定向添加到脚本中的特定命令或一般的批处理文件。如果您重定向多个特定命令，并且您希望将结果记录在同一个文件中，则需要使用`>>`而不是`>`除第一个命令之外的所有或至少所有命令。那是因为`>`如果输出文件存在，它将重写输出文件`>>`并附加到它。

# java - 在 achartengine 中显示多个图表

> ID：14952900
> 
> 赞同：2
> 
> 时间：2013-02-19T08:23:57.807
> 
> 标签：java, android, android-layout, android-intent

我只想在一个页面中严格包含 3 个图表，但与 AChartEngine 关联的视频文件显示了使用 java 代码（[http://www.youtube.com/results?search_query=AChartEngine](http://www.youtube.com/results?search_query=AChartEngine)）每页显示 1 个图表的方式我已经搜索到找到将每个图表放入线性布局的方法并最终找到： [Android：我正在使用 AChartEngine 库进行图表，但无法将 achartengine 的图表视图与 android xml 集成？](https://stackoverflow.com/questions/4062161/android-i-am-using-achartengine-library-for-graphs-but-not-able-to-integrate-a)

但似乎最新版本 1.01 无法运行

你能告诉我是否有办法只在一页上显示 3chart 吗？如果是，你能告诉我怎么做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T14:36:07.977

看看[这个](https://stackoverflow.com/questions/4062161/android-i-am-using-achartengine-library-for-graphs-but-not-able-to-integrate-a/4079692#4079692)例子。它向您展示了如何在视图中嵌入图表。如果您创建 3 个单独`LinearLayout`的 s，您将能够添加 3 个图表，每个 1 个`LinearLayout`。

# ruby-on-rails-3 - 提高 Ruby 模型查询的效率

> ID：14952905
> 
> 赞同：0
> 
> 时间：2013-02-19T08:24:08.547
> 
> 标签：ruby-on-rails-3, join, where

## 问题：

在我的客户模型中，我想总结每次付款状态成功的所有交易，并且`customer_id`匹配当前实例的 id 或当前实例的`parent_id`. 首先，我根本无法让它工作，因为我试图在一个查询中完成所有操作。现在我有了我要找的东西，但恐怕我的效率还不够高。

## 语境：

*   事务表有一`customer_id`列
*   客户表有一`parent_id`列。
*   客户类`has_many :transactions`
*   交易类`belongs_to :customer`
*   交易类`has_many :payments`

这是我的模型：

```
class Customer < ActiveRecord::Base
  has_many :transactions
end

class Transaction < ActiveRecord::Base
  belongs_to :customer
  has_many :payments
end

class Payment < ActiveRecord::Base
  has_one :transaction
end 
```

## 问题：

如果这是我目前使用的模型属性，我该如何提高它的性能，如果有的话？

```
def total_spent
  if customer_type == 1 # "child" customer
    Transaction.joins(:payments).where('payments.status' => 3).sum(:amount, :conditions => ['customer_id = ?', id])
  elsif customer_type == 2 # "parent" customer
    temp_transactions = Transaction.joins(:payments).where('payments.status' => 3)
    temp = temp_transactions.sum(:amount, :conditions => ['customer_id = ?', id])
    Customer.find_all_by_parent_group_id(id).each do |c|
      temp = temp + temp_transactions.sum(:amount, :conditions => ['customer_id = ?', c.id])
    end
    temp
  end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T02:37:03.303

```
Transaction.joins(:payments)
   .joins(:customer)
   .where(:payments => {:status => 3})
   .where("customers.id = ? or customers.parent_id = ?", 5, 5)
   .sum(:amount)

SELECT SUM(amount) AS sum_id 
FROM "transactions" 
    INNER JOIN "payments" ON "payments"."transaction_id" = "transactions"."id" 
    INNER JOIN "customers" ON "customers"."id" = "transactions"."customer_id" 
WHERE 
   "payments"."status" = 3 
   AND (customers.id = 5 or customers.parent_id = 5) 
```

# database - Postgres：如何创建参考单元格？

> ID：14952911
> 
> 赞同：1
> 
> 时间：2013-02-19T08:24:23.993
> 
> 标签：database, postgresql

在 Excel 中，我们可以创建参考单元格（例如 A2 = A1 + 1）。或者我们在其他工作表上创建一个参考单元格。

在 postgres 上，我想为另一个表创建一个引用单元格。是否可以？我怎么能做到这一点？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:39:40.743

RDBMS 使用不同的方法。有*查询*和*数据*。当您查询某些内容时，对数据执行额外的计算是很自然的。在您的情况下，这是一个简单的算术函数。

说，你有一张桌子：

```
CREATE TABLE tab (
  id  integer PRIMARY KEY,
  a1  integer
); 
```

现在，要实现您的案例，您可以执行以下操作：

```
SELECT id,
       a1,
       a1+1 AS a2
  FROM tab; 
```

如您所见，我使用公式中的现有列并为结果分配一个新的别名`a2`。

我真的建议你阅读官方 PostgreSQL 文档中的[教程](http://www.postgresql.org/docs/current/interactive/tutorial.html)和[SQL 基础知识](http://www.postgresql.org/docs/current/interactive/sql.html)，以及一些 SQL 介绍书。

# memory - 堆栈和队列在编程中指的是什么？

> ID：14952912
> 
> 赞同：-7
> 
> 时间：2013-02-19T08:24:27.503
> 
> 标签：memory, stack

堆栈和队列在编程中指的是什么，例如java，javascript，php等

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T08:38:43.847

堆栈是 LastInFirstOut 数据结构。

![堆叠图片](../Images/256e3f0c7f044ad6afc81e37daba2ea3.png)

队列是 FirstInFirstOut 数据结构。

![在此处输入图像描述](../Images/d49498eef9a1d7758d02061615fd3553.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:27:40.903

当您想要对象集合的 FIFO 行为时，请使用 QUEUE，而对于 LIFO 行为，请使用 STACK

# sql - plpgsql 中过程的返回类型

> ID：14952921
> 
> 赞同：1
> 
> 时间：2013-02-19T08:25:20.593
> 
> 标签：sql, postgresql, plpgsql

我正在使用带有 postgis 的 postgres，并且我有一个包含几何数据的表。现在我想在 plpgsql 中编写一个循环遍历行并将每个几何值存储在数组中的过程。

我应该使用什么返回类型来返回一个充满几何值的数组？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:32:59.040

为什么不使用`geometry[]`类型？

* * *

**编辑**

[根据文档](http://www.postgresql.org/docs/current/interactive/arrays.html)，您可以将任何现有的 PostgreSQL 类型用于数组：

> 可以创建任何内置或用户定义的基类型、枚举类型或复合类型的数组。

# java - 如何在 java.library.path 中添加 rxtxSerial？

> ID：14952922
> 
> 赞同：12
> 
> 时间：2013-02-19T08:25:22.277
> 
> 标签：java, eclipse, ubuntu, rxtx

我正在使用 Eclipse IDE 开发 Java 应用程序。我的操作系统是 Ubuntu 11。我的应用程序使用 RXTX 库 (gnu.io.*) 进行串行通信。我通过这样做（项目->属性->java buld路径->添加外部jar）在项目中添加了RXTXomm.jar文件。每当我运行我的代码时，它都会给我这个错误。

```
java.lang.UnsatisfiedLinkError: no rxtxSerial in java.library.path thrown while loading
gnu.io.RXTXCommDriver
Exception in thread "main" java.lang.UnsatisfiedLinkError: no rxtxSerial in 
java.library.path 
```

我什至尝试安装 librxtx-java.deb。但它并没有解决问题。我在文件系统中四处搜索，发现 librxtxSerial.so 位于 /usr/lib/jni 中。

我该如何解决这个问题？

提前致谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-19T08:33:30.570

在项目 -> 属性 -> Java 构建路径中找到您的 jar。单击`+`打开 JAR 的属性，选择 Native library location 并编辑它以指向 RXTX 的共享库（.DLL、.so、.dylib）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T08:50:11.797

一种方法是在项目的 Eclipse 运行配置中设置 java.library.path。您可以在运行配置的参数选项卡中编辑 VM 参数（访问此参数的几种方法包括右键单击项目->运行方式->运行配置...和运行菜单->运行配置...）。

如果您在项目的根目录中创建一个 lib 目录并将 RXTX 库的副本放在 lib 目录中，您可以使用以下 VM 参数（用您的项目名称替换 ProjName）。

```
-Djava.library.path=${project_loc:ProjName}/lib 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-02-08T10:57:17.537

打开终端（Ctrl+Alt+T）并检查：

```
echo $JAVA_HOME 
 # JDKDIR : /usr/lib/jvm/java-7-oracle 
```

然后运行：

```
sudo cp /usr/lib/jni/librxtxSerial.so $JAVA_HOME/jre/lib/i386/ 
```

# joomla - 统计分类中的文章

> ID：14952923
> 
> 赞同：0
> 
> 时间：2013-02-19T08:25:25.717
> 
> 标签：joomla

我想在单个类别中显示文章计数。

```
$categoryName = "CategoryName";
$n = count($this->category->$categoryName);
echo "This category has ".$n." articles in it!"; 
```

这不起作用（示例）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:56:00.937

试试这个。

默认类别布局包含其中的文章数。

看看这个`components\com_content\views\categories\tmpl`

你也可以找到计数`count($item->getChildren())`

希望这可以让你..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:05:43.703

有一个参数允许您执行此操作。分配一个*类别列表*或*类别博客*菜单项，然后在*类别选项*参数选项卡下进行选择。更改**无文章消息**以显示。

您的代码不起作用的原因是因为单个类别仅由`$this->category`.

但是，对于类别博客或类别列表布局，您可以简单地使用：

```
$categoryName = "CategoryName";
if($this->category->title==$categoryName) {
    count($this->category->getNumItems(true))
} 
```

[http://docs.joomla.org/Help25:Menus_Menu_Item_Article_Category_Blog#Category_Options](http://docs.joomla.org/Help25:Menus_Menu_Item_Article_Category_Blog#Category_Options)

# modelica - 示例功能在 Dymola 上不起作用

> ID：14952929
> 
> 赞同：2
> 
> 时间：2013-02-19T08:26:12.477
> 
> 标签：modelica, dymola

我尝试使用 Dymola 编译以下代码：

```
class abc
  import Modelica.SIunits;
  parameter SIunits.Time delta_t=0.5;

  constant Real a[:]={4,2,6,-1,3,5,7,4,-3,-6};
  Real x;
  Integer j(start=1);
  Integer k=size(a, 1);

algorithm 
  when {(sample(0, delta_t) and j < k),j == 1} then
    x := a[j];
    j := j + 1;
  end when;
end abc; 
```

并且`time = 0`变量`j`以`2`. 但它应该以`j = 1`.
有人对这个问题有想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T13:36:08.753

请记住，这`sample(x,y)`意味着样本在从零开始的`x+i*y`地方为真。`i`也就是说，`sample(0, ...)`在`time=0`.

由于`j`从 1 开始并且`k`可能大于 1，因此`sample(0, delta_t) and j<k`在模拟开始时应该变为 true 对我来说似乎并不意外。

我怀疑你想要的是：

```
class abc
  import Modelica.SIunits;
  parameter SIunits.Time delta_t=0.5;

  constant Real a[:]={4,2,6,-1,3,5,7,4,-3,-6};
  Real x;
  Integer j(start=1);
  Integer k=size(a, 1);

algorithm 
  when {(sample(delta_t, delta_t) and j < k),j == 1} then
    x := a[pre(j)];
    j := pre(j) + 1;
  end when;
end abc; 
```

我真的不明白这种`j==1`情况的意义。一开始它是真的，这意味着它不会“变成”真的。而且由于`j`从不递减，我不明白为什么它应该在`1`它第一次递增时返回到该值。

请注意，我`pre`在右侧值周围添加了`j`. 如果这是在一个 `equation`部分中，我很确定这`pre`将是必需的。既然是`algorithm`section，主要是记录代码的意图。它还使代码在切换`equation`到`algorithm`部分时变得健壮。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T13:35:42.967

当然，在 time = 0 时有一个事件由`sample(0, delta_t) and j<k`变为 true 的表达式触发。

但在旧版本的 Dymola 中，离散变量的初始化存在错误。例如，即使您`sample(0.0, delta_t) and j<k`在 dymola74 中删除，j 也会在 time=0 时变为 2。问题是未初始化的 when 子句的 pre 值是正确的。据我所知，这至少在 FD1 2013 版本中得到了纠正。

# ruby - MongoMapper 中的多对一关联

> ID：14952930
> 
> 赞同：1
> 
> 时间：2013-02-19T08:26:17.393
> 
> 标签：ruby, mongodb, mongomapper

有没有办法使用`associations`MongoMapper 中的插件在类之间创建多对一关联？这是我的尝试。

```
class Foo
    include MongoMapper::Document
end

class Bar
    include MongoMapper::Document

    key :foo_id, ObjectId
    one :foo, :in => :foo_id
end 
```

此实现不起作用，因为该`one`方法假定一对一关联并且仅允许单个`Bar`实例包含特定的 id `Foo`。

```
foo = Foo.new

bar1 = Bar.new
bar1.foo = foo

bar2 = Bar.new
bar2.foo = foo

bar1.foo #=> nil :( 
```

我不想在课堂上创建一对多关联，`Foo`因为它不应该包含`Bar`.

简单地存储 a`foo_id`是可能的，但该`Bar#foo`方法非常有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-12T19:52:26.900

我一直在寻找有关此问题的答案，但找不到任何确定的答案。我最终在我的模型中添加了一个方法来运行手动连接。以下是您的示例中的代码：

```
class Foo
    include MongoMapper::Document
end

class Bar
    include MongoMapper::Document

    key :foo_id, ObjectId

    def foo
        Foo.find(foo_id)
    end

    def foo=(a_foo)
        foo_id = a_foo.id
    end

    def serializable_hash(options = {})
        hash = super(options)
        hash.merge({'foo' => foo.serializable_hash})
    end

end

foo = Foo.new

bar1 = Bar.new
bar1.foo = foo

bar2 = Bar.new
bar2.foo = foo

bar1.foo # Should return expected value 
```

# php - 获取组件区 Joomla 的内容

> ID：14952934
> 
> 赞同：0
> 
> 时间：2013-02-19T08:26:19.793
> 
> 标签：php, html, plugins, joomla, joomla2.5

是否可以在内容插件中获取当前页面`<jdoc:include type="component" />`区域的内容，并将其写入 html 文件`fwrite($ourFileHandle, $component);`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T16:44:49.703

`&tmpl=component`您可以通过附加到资源 URL来提取组件内容 。

例子：

```
http://example.com/index.php?option=com_yourcomponent&view=viewname&tmpl=component 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:20:45.987

是的，您有两个事件 onBeforeContentPrepare() 和 onAfterContentPrepare() 都保存组件的内容，您可以从那里登录到磁盘甚至更改内容。

# git - 跨站点管理源

> ID：14952937
> 
> 赞同：1
> 
> 时间：2013-02-19T08:26:34.407
> 
> 标签：git, svn, version-control, git-svn

我们有几个站点，并且正在使用一个集中的 Subversion 存储库。

存储库很大，网络带宽意味着在站点之间获取资源需要几个小时。

你会建议什么？一种选择是开始使用 Git，但它可能非常昂贵。在主站点仍然有一个中央 SVN 存储库并在小站点安装 git 然后我们可以使用 git-svn 管道怎么样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T20:02:17.517

1.  确保您使用的是 1.7+ 版本的 Subversion 服务器和客户端。1.7 版引入了某些性能改进，特别是对于 http(s):// 协议。

2.  `git-svn`使用标准的 SVN 协议，因此它不会修复与 Subversion 服务器通信的速度。

    但是，由于大多数 Git 操作都是本地操作，因此用户必须很少与服务器交互。基本上，在这种情况下只有两个慢命令：`git svn dcommit`和`git svn fetch`.

3.  考虑将[SubGit](http://subgit.com/)用于您的 SVN 存储库。SubGit 在 SVN 和 Git 存储库之间执行服务器端同步，SVN 和 Git 端都保持可写。

    [安装 SubGit](http://subgit.com/book/#installation)并[设置 Git 服务器](http://subgit.com/book/#common-server-configurations)后，您可以使用纯 Git 来拉取和推送更改；在每个`git push`SubGit 上将提交转换为 SVN 修订，并在每次`svn commit`将提交的修订转换为 Git 提交。

    请注意，在这种情况下，您使用的是 Git 协议，这可能会显着提高速度。

    有关 SubGit 的更多详细信息，请参阅[文档](http://subgit.com/documentation/)并[与 git-svn 进行比较](http://subgit.com/documentation/gitsvn.html)。

    免责声明：SubGit 是商业软件；我是 SubGit 开发人员之一。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-16T10:36:51.670

您可以尝试使用 VisualSVN Server 进行多[站点存储库复制。](http://www.visualsvn.com/server/features/multisite-replication/)

多站点存储库复制允许您在主站点上设置主存储库，并在其他远程位置安装多个从存储库。从属和主控之间的双向数据复制是透明和自动的，每个从属和主控都是可写的，从客户端的角度来看，它们充当常规的 Subversion 存储库。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-20T21:22:39.240

如果您想坚持使用纯粹的 Subversion 工具链，请考虑执行以下操作：

*   [存储库复制/镜像](http://svnbook.red-bean.com/en/1.7/svn.reposadmin.maint.html#svn.reposadmin.maint.replication)
*   [直写代理](http://svnbook.red-bean.com/en/1.7/svn.serverconfig.httpd.html#svn.serverconfig.httpd.extra.writethruproxy)

您最终会得到一个位于中心位置的主存储库，以及位于每个站点的只读镜像副本。这些站点的用户将从他们的本地镜像中签出。

然后，您使用直写代理配置这些镜像，这会将提交推送回主存储库。

每次提交后，存储库会使用`svnsync`该版本将该修订推送到镜像。

如果这仍然太慢，您可能需要查看[WanDisco SVN MultiSite](http://www.wandisco.com/subversion/multisite)。

# android - 在异步线程中启动对话框时出现 BadTokenException

> ID：14952943
> 
> 赞同：1
> 
> 时间：2013-02-19T08:27:07.573
> 
> 标签：android, dialog

我有一个进行异步连接的活动，如下所示：

```
 new Thread(new Runnable() {
        public void run() {
            try{
                //Make Connection
            }catch(Exception e){
                runOnUiThread(new Runnable() { public void run() { 
                     Dialogs.showErrorDialog(MyActivity.this); //I display an error dialog using this context
                } });
            }
        }
    }).start(); 
```

想象一下连接真的很慢，我离开了启动这个线程的活动。如果连接最终顺利，一切都很好，但如果连接失败，它会在启动对话框时崩溃，因为上下文不再存在。错误是：

```
android.view.WindowManager$BadTokenException: Unable to add window -- token android.os.BinderProxy@4068a558 is not valid; is your activity running? 
```

如何避免这个错误？我想检测我的活动是否仍然存在

1）显示具有此上下文的对话框（如果我仍在屏幕上）

2) 使用 ApplicationContext 显示 Toast (如果我在屏幕外)

编辑：对话框代码是这样的：

```
static public void showErrorDialog(Context context){
    AlertDialog.Builder builder = new AlertDialog.Builder(context);
    builder.setIcon(android.R.drawable.ic_dialog_alert);
    builder.setTitle(R.string.error_title);
    builder.setMessage(R.string.error_content);
    builder.setPositiveButton(R.string.button_ok,null);
    builder.show();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:46:04.240

> 如何避免这个错误？

我建议你使用这个：

```
runOnUiThread(new Runnable() { 
   public void run() { 
      if (!(((Activity) context).isFinishing())) { // you need to pass Context.
         Dialogs.showErrorDialog(context);      
      }
   } 
}); 
```

让我知道它是否有效。

**注意：**如果它不起作用，我建议您使用`AsyncTask`而不是`runOnUiThread()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:41:53.590

无法在线程中更改 UI；您使用 RunOnUiThread，但 UiThread 仍在线程中。您可以使用 AsyncTask 来执行此操作。

```
class ConnectionTask extends AsyncTask<Void, Void, Boolean> {

    protected Boolean doInBackground(Void... params) {

        //Make Connection
        boolean flag = connecting(); //flag is connect state: success or fail
        return flag;
    }

    protected void onPostExecute(Boolean result) {
        if (!result) {
            Dialogs.showErrorDialog(MyActivity.this); 
        }
    }

} 
```

然后，使用如下：

```
ConnectionTask task = new ConnectionTask();
task.execute(); 
```

# php - Dojo1.8 - 请求没有任何输入的 php 文件

> ID：14952945
> 
> 赞同：0
> 
> 时间：2013-02-19T08:27:24.950
> 
> 标签：php, dojo, pdo

1.  我很难在没有任何输入的情况下请求处理 php 文件。我在 login.php 中使用 PDO 我得到的错误是“无法加载 processing.php，状态：500”。

main.php:-

```
<head>
    <?php require_once '../scripts/login.php';?> //require action
<head>
<body>
<div id='line1'></div>

require(["dojo/request","dojo/domReady!"],                      
function(request)
{ready(function()
    {request('processing.php').then( //request action
     function(response){dom.byId(line1).innerHTML=response;},
     function(error){alert(error);
 });
    ......
</body> 
```

处理.php：-

```
<?php
    echo "By default, fetch mk7BC data<br/>";
echo 
"<table border='1' cellspacing='0' cellpadding='2'>
<tr style='background-color:lightblue; font-weight:normal; font-size:small;'>
    <th style='width:40px'>ID</th>
    <th style='width:80px'>SN</th>
    <th style='width:100px'>Tested</th>
    <th style='width:40px'>Jig</th>
    <th style='width:80px'>Card</th>
    <th style='width:40px'>Batch</th>
    <th style='width:40px'>COM</th>
    <th style='width:40px'>3rdCOM</th>
    <th style='width:40px'>IO34</th>
    <th style='width:40px'>Comment</th>
</tr>";
    try
    (
        $dbh-> query('use testdata1970_10');
    $color='1';     
        foreach($dbh->query('call getallusers();') as $row)
        {if($color==1)
    {echo "<tr style='background-color:lightyellow; font-weight:lighter; 
            font-size:x-small;'>";
    $color='2';
        }
    else
            {echo"<tr style='background-color:lightgreen; font-weight:lighter;
            font-size:x-small;'>";
    $color='1';
    }

        echo
        "<td>{$row['idtest']}</td>
        <td>{$row['SN']}</td>
        <td>{$row['time_tested']}</td>
        <td>{$row['id_jig']}</td>
        <td>{$row['mfg_code']}</td>
        <td>{$row['batch_no']}</td>
        <td>{$row['com_status']}</td>
        <td>{$row['3rdcom_status']}</td>
        <td>{$row['IO34_status']}</td>
        <td>{$row['comment']}</td>
        </tr>";
            }
     echo "</table>";
    )
 ?> 
```

登录.php：-

```
 <?php
         dbname=testdata1970_10;
     $dsn = 'mysql:host=localhost; Port=3306';
     $user = 'root';
     $pswd = '';
     $dbh = new PDO($dsn, $user, $pswd,
         array(PDO::ATTR_PERSISTENT, TRUE));
         $dbh->setAttribute(PDO::ATTR_ERRMODE, 
         PDO::ERRMODE_EXCEPTION);
     $dbh->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);
 ?> 
```

请告知谢谢克莱门特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T11:43:06.330

Stackoverflow 非常适合特定的“我该怎么做 X？” 问题。“这是我所有的代码，帮我找出错误！”不是很好。您需要努力自己找出问题所在，然后提出具体问题。

例如，您的 Javascript 有问题吗？还是你的PHP有问题？也许你的 SQL 有问题？

在这种情况下，您说打开 processing.php 返回错误 500。这意味着该错误可能与您的 Javascript 没有任何关系。相反，它可能是您的 Web 服务器在运行您的 PHP 脚本时遇到问题。

processing.php 有什么问题？它有任何语法错误吗？当您在浏览器中打开 processing.php 时，您可能会收到一条带有一些线索的不错的错误消息。或者您的文本编辑器可能会突出显示错误？如果没有，请尝试运行

```
php -l processing.php 
```

这会检查您的文件是否存在语法错误。你可能会得到类似的东西：

```
PHP Parse error:  syntax error, unexpected '(', expecting '{' on line 18 
```

看起来你需要用`(`第`{`18行替换！

所以你`php -l`再次修复它，你在第 47 行看到相同的错误（几乎）。修复它。重复。看起来你有一个`try`没有对应的`catch`！修复它。重复。

最后，也许你仍然有问题——但现在你已经努力定位问题，你可以提出一个更好的问题。

例如，processing.php 中的 $dbh 是从哪里来的？您是否在 processing.php 的顶部包含 login.php？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T03:37:16.127

感谢您的输入。现在一切都奏效了。$dbh 来自 login.php，我在 main.php 和 processing.php 中需要一次 login.php。但是，我不明白为什么 login.php 需要在 processing.php 中再次被要求，因为 login.php 中的脚本可用于 main.php 中的所有脚本。由于 $dbh 在 login.php 中的全局范围内，而 login.php 是 require_once，因此我会在 main.php 中 require_once login.php，而不是 processing.php。例如；

```
login.php - <?php $dbh="blah"?>
main.php - <?php require_once login.php?>
A.php - <?php $dbh... ?>
B.php - <?php $dbh... ?>
C.php - <?php $dbh... ?> 
```

等等。我只想让 login.php 一劳永逸地可用，而不是在每个脚本中重复 require_once 。我读到“当一个文件被包含时，它包含的代码继承了包含发生的行的变量范围。从那时起，调用文件中该行中可用的任何变量都将在被调用文件中可用。 " 在 PHP.net 中。如果我错了，请纠正。谢谢克莱门特

# android - 设备静止时加速度计给出随机值

> ID：14952947
> 
> 赞同：0
> 
> 时间：2013-02-19T08:27:32.897
> 
> 标签：android, accelerometer

当我运行我的代码时，加速度计返回的值似乎是随机的，即使我拿起设备并旋转它，值似乎也没有任何显着变化或设备已经改变的明显迹象从静止位置到移动位置。我从谷歌的网站上复制了代码。基本上我想看看设备是否已经从静止位置移动了。如果可能，解决方案应该适用于 Android 2.2 及更高版本：

```
sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);
sensor = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);
sensorManager.registerListener(this, sensor, SensorManager.SENSOR_DELAY_FASTEST);

float[] gravity = new float[3];

@Override
public void onSensorChanged(SensorEvent event)
{
  try
  {
    final float alpha = 0.8f;
    float[] linear_acceleration = new float[3];

    // Isolate the force of gravity with the low-pass filter.
    gravity[0] = alpha * gravity[0] + (1 - alpha) * event.values[0];
    gravity[1] = alpha * gravity[1] + (1 - alpha) * event.values[1];
    gravity[2] = alpha * gravity[2] + (1 - alpha) * event.values[2];

    // Remove the gravity contribution with the high-pass filter.
    linear_acceleration[0] = event.values[0] - gravity[0];
    linear_acceleration[1] = event.values[1] - gravity[1];
    linear_acceleration[2] = event.values[2] - gravity[2];
  }
  catch (Exception ex)
  {
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:55:45.763

当您从[文档](http://developer.android.com/reference/android/hardware/SensorEvent.html#values)中应对解决方案时，请务必理解。
`gravity`必须是该类的一个字段，因为您需要存储低通滤波器的状态。 `gravity`保持加速度计的*平均值*，快速变化是您的线性加速度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-03T23:55:38.953

1.  你试过`Sensor.TYPE_LINEAR_ACCELERATION`吗？该传感器返回不包括重力的加速度力，您无需计算
2.  传感器太敏感，噪音很大。获得 0,0,0 值几乎是不可能的。您需要排除较小的值。

# java - 在 Windows 7 中不从命令行强行杀死 JVM

> ID：14952948
> 
> 赞同：3
> 
> 时间：2013-02-19T08:27:35.450
> 
> 标签：java, windows, cobertura

我有在 JVM 中运行的 Cobertura 检测 jar。当我在运行应用程序的 Windows 控制台中按 Ctrl-C 时，JVM 结束并且**Cobertura 结果成功刷新到 cobertura.ser 文件**。但我需要使用命令/工具（不是 Ctrl-C）停止这个 JVM，类似于 Linux 中的“软杀”（“杀”命令没有“-9”参数）。当我使用“taskkill /PID 1234”时，它写道：

```
D:\>taskkill /PID 1234
ERROR: The process with PID 1234 could not be terminated.
Reason: This process can only be terminated forcefully (with /F option). 
```

但是当我使用参数 /F 时，JVM 被强制终止，这就是为什么**Cobertura 结果没有刷新到 cobertura.ser 文件**的原因。

如何使用成功的 Cobertura 刷新（Windows“软杀”）使用 Windows 命令/第三方工具杀死 JVM？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:39:45.093

尝试查看[WMI](http://msdn.microsoft.com/en-us/library/windows/desktop/aa394582%28v=vs.85%29.aspx)，使用 JavaScript 或 VBScript 创建选择进程并杀死它的规则。

例如[http://community.spiceworks.com/scripts/show/498-kill-a-process-using-wmi](http://community.spiceworks.com/scripts/show/498-kill-a-process-using-wmi) - 使用 VBScript 获取简单的终止脚本

# vim - 在 Vim 中按下 enter 时检查语法

> ID：14952949
> 
> 赞同：-2
> 
> 时间：2013-02-19T08:27:37.683
> 
> 标签：vim, vim-plugin

我添加了一些 vim 配置，并且在按 enter 时我失去了检查语法错误的能力。

我认为这在默认情况下有效，我将它与 PHP 一起使用。

有谁知道我应该实施哪种配置才能使其再次工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:30:57.660

这是 php 的 vim 运行时语法检查器：http: [//vim.wikia.com/wiki/Runtime_syntax_check_for_php](http://vim.wikia.com/wiki/Runtime_syntax_check_for_php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:19:49.880

检查此插件以检查 PHP、JS 和许多其他的运行时语法：[https ://github.com/scrooloose/syntastic](https://github.com/scrooloose/syntastic)

将键映射到检查命令，您可以在运行时看到错误。

# filter - 使用 Gradle 复制文件时如何跳过空行？

> ID：14952955
> 
> 赞同：4
> 
> 时间：2013-02-19T08:27:55.050
> 
> 标签：filter, copy, gradle

我想在 Gradle 中复制一些文件，生成的文件不应包含任何空行，即不复制空行。我认为这可以用 from ant 完成，`filter(...)`也许可以用`TokenFilter`from ant 完成。但是，我不确定语法会是什么样子。

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T09:31:42.617

Gradle 使用[Ant 进行过滤](http://ant.apache.org/manual/Types/filterchain.html)，因为它强大的实现。例如，您可以使用[LineContainsRegExp](http://api.dpml.net/ant/1.6.5/org/apache/tools/ant/filters/LineContainsRegExp.html) Ant 过滤器来过滤掉任何只有空或空格的行。

适当的正则表达式可以是*[^ \n\t\r]+*

您可以像这样直接从 Gradle 使用 Ant：

```
task copyTheAntWay {
  ant.copy(file:'input.txt', tofile:'output.txt', overwrite:true) {
    filterchain {
      filterreader(classname:'org.apache.tools.ant.filters.LineContainsRegExp') {
        param(type:'regexp', value:'[^ \n\t\r]+')
      }
    }
  }
} 
```

或者使用[Gradle CopySpec 的](http://www.gradle.org/docs/current/javadoc/org/gradle/api/file/CopySpec.html)过滤方法：

```
task copyGradlefied(type:Copy) {
  def regexp = new org.apache.tools.ant.types.RegularExpression()
  regexp.pattern = '[^ \n\t\r]+'

  from(projectDir) {
    include 'input.txt'
    filter(org.apache.tools.ant.filters.LineContainsRegExp, regexps:[regexp])
  }
  into "outputDir"
} 
```

# python-2.7 - 如何识别 Python pandas Dataframe 中首次出现的重复行

> ID：14952957
> 
> 赞同：10
> 
> 时间：2013-02-19T08:28:05.910
> 
> 标签：python-2.7, dataframe, pandas

我有一个 pandas DataFrame，其中包含一组列的重复值。例如：

```
df = pd.DataFrame({'Column1': {0: 1, 1: 2, 2: 3}, 'Column2': {0: 'ABC', 1: 'XYZ', 2: 'ABC'}, 'Column3': {0: 'DEF', 1: 'DEF', 2: 'DEF'}, 'Column4': {0: 10, 1: 40, 2: 10})

In [2]: df
Out[2]: 
   Column1 Column2 Column3  Column4 is_duplicated  dup_index
0        1     ABC     DEF       10         False          0
1        2     XYZ     DEF       40         False          1
2        3     ABC     DEF       10          True          0 
```

*第 (1) 行和 (3) 行相同。本质上，第 (3) 行是第 (1) 行的副本。*

我正在寻找以下输出：

`Is_Duplicate`，包含该行是否重复[可以通过对数据框列（Column2、Column3 和 Column4）使用“重复”方法来完成]

`Dup_Index`重复行的原始索引。

```
In [3]: df
Out[3]: 
   Column1 Column2 Column3  Column4  Is_Duplicate  Dup_Index
0        1     ABC     DEF       10         False          0
1        2     XYZ     DEF       40         False          1
2        3     ABC     DEF       10          True          0 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-19T10:36:27.883

[`duplicated`](http://pandas.pydata.org/pandas-docs/dev/generated/pandas.DataFrame.duplicated.html)第一列有一个 DataFrame 方法：

```
In [11]: df.duplicated(['Column2', 'Column3', 'Column4'])
Out[11]: 
0    False
1    False
2     True

In [12]: df['is_duplicated'] = df.duplicated(['Column2', 'Column3', 'Column4']) 
```

要做到第二个，你可以尝试这样的事情：

```
In [13]: g = df.groupby(['Column2', 'Column3', 'Column4'])

In [14]: df1 = df.set_index(['Column2', 'Column3', 'Column4'])

In [15]: df1.index.map(lambda ind: g.indices[ind][0])
Out[15]: array([0, 1, 0])

In [16]: df['dup_index'] = df1.index.map(lambda ind: g.indices[ind][0])

In [17]: df
Out[17]: 
   Column1 Column2 Column3  Column4 is_duplicated  dup_index
0        1     ABC     DEF       10         False          0
1        2     XYZ     DEF       40         False          1
2        3     ABC     DEF       10          True          0 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-19T10:29:49.963

假设您的数据框存储在`df`.

您可以使用[groupby](http://pandas.pydata.org/pandas-docs/stable/groupby.html)来获取数据框的非重复行。在这里，我们必须忽略不属于数据的 Column1：

```
df_nodup = df.groupby(by=['Column2', 'Column3', 'Column4']).first() 
```

然后，您可以使用[合并](http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.merge.html)功能将此新数据框与原始数据框合并：

```
df = df.merge(df_nodup, left_on=['Column2', 'Column3', 'Column4'], right_index=True, suffixes=('', '_dupindex')) 
```

您最终可以使用数据框中合并的 _dupindex 列来进行简单的数学运算以添加所需的列：

```
df['Is_Duplicate'] = df['Column1']!=df['Column1_dupindex']
df['Dup_Index'] = None
df['Dup_Index'] = df['Dup_Index'].where(df['Column1_dupindex']==df['Column1'], df['Column1_dupindex'])
del df['Column1_dupindex'] 
```

# android - 虚拟键盘行为异常 Android

> ID：14952963
> 
> 赞同：0
> 
> 时间：2013-02-19T08:29:04.657
> 
> 标签：android, android-keypad

我面临一个奇怪的问题：我的应用程序行为是这样的，当 Activity 启动时，我在 EditText 上 requestFocus() 并显示软键盘。键盘打开但我的布局出错我的布局中只有一个 EditText 框。当在 EditText 上使用 requestFocus() 时：

```
getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE); 
```

应用程序显示 2 个相互重叠的编辑框。当我手动隐藏 EditText 然后显示它的布局工作正常。我在 google nexus 中遇到了这个问题，而相同的代码在选项卡 10.1 和选项卡 7 2 中正常工作。

# ios - 使用 setText 时未调用 UITextField drawPlaceholderInRect

> ID：14952971
> 
> 赞同：0
> 
> 时间：2013-02-19T08:29:33.427
> 
> 标签：ios, objective-c, cocoa-touch

我创建了 UITextField 的自定义子类，其中设置了背景和占位符文本颜色。当我没有设置我的文本字段的文本（在视图控制器中）时，drawPlaceholderInRect 被调用得很好。

但是当我调用这个方法时：

```
[self.txtEmail setText:@"test@test.com"]; 
```

不再调用 drawPlaceholderInRect 方法。文本字段的文本设置正常，但未调用该方法。由于在未设置文本时调用它，因此代表等应该没问题。

到底是怎么回事？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T11:00:25.710

顾名思义，方法`drawPlaceholderInRect`是绘制占位符文本，即没有任何文本集的文本。由于您正在设置字段的文本，因此不需要占位符，因此不会调用该方法。

# c - 用户级线程

> ID：14952980
> 
> 赞同：0
> 
> 时间：2013-02-19T08:30:15.423
> 
> 标签：c

我正在尝试创建用户级线程。这是我的代码示例。任何机构都可以帮助我这个程序中的问题是什么。

```
#include<stdio.h>
#include<ucontext.h>

int thread_counter = 0;
int thread1, thread2;
int who_am_i;

struct TCB {
    ucontext_t context;
    void (* fun_ptr)();
};
struct TCB tcb[3];
char stack[2][8192];

//----------------------
int thread_create(void (*fun)()) {
    static volatile int s;
    thread_counter++;
    s = 0;
    getcontext(&tcb[thread_counter].context);

    if(!s) {
        tcb[thread_counter].context.uc_stack.ss_sp   = stack[thread_counter];
        tcb[thread_counter].context.uc_stack.ss_size = sizeof(stack[thread_counter]);
        tcb[thread_counter].context.uc_link          = &tcb[0].context;
        tcb[thread_counter].fun_ptr                  = fun;
        s = 1;
    }
    else {
        tcb[who_am_i].fun_ptr();
    }

    return thread_counter;
}

void thread_yield(int next_thread) {
    static volatile int switched;
    switched = 0;
    getcontext(&tcb[who_am_i].context);

    if(!switched) {
        switched = 1;
        who_am_i = next_thread;
        setcontext(&tcb[next_thread].context);
    }
}

//----------------------
void f1() {
    printf("start f1\n");
    thread_yield(thread2);
    printf("finish f1:\n");
}

void f2() {
    printf("start f2\n");
    thread_yield(thread1);
    printf("finish f2\n");
}

//----------------------
int main() {
    thread1 = thread_create(f1);
    thread2 = thread_create(f2);

    who_am_i = 0;
    thread_yield(thread1);
    return 0;
} 
```

线程未正确切换。当我运行它时，它会给出以下输出：

```
start f1
start f2
finish f2 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:33:11.100

你有一个*未定义的行为*情况。

在`thread_create`你增加`thread_counter`你做的第一件事。因此，当您创建第二个线程`thread_counter`时将`2`. 然后你访问`stack[2]`它会给你未定义的行为。

* * *

您还将`uc_link`上下文的成员硬编码为`&tcb[0].context`，由于您的“过早”增量，它永远不会被初始化`thread_counter`。

但主要问题是您实际上并没有*创建*新的上下文，您只是获取当前线程的上下文。您应该[`makecontext`](http://linux.die.net/man/3/makecontext)改为使用每个线程。

# php - MS SQL SERVER、PHP、PDO、ODBC：用户登录失败

> ID：14952981
> 
> 赞同：3
> 
> 时间：2013-02-19T08:30:15.750
> 
> 标签：php, sql-server, pdo, connection, odbc

我正在尝试使用字符串进行连接：

```
odbc:Driver={SQL Server Native Client 11.0};Server=(localdb)\v11.0;Database=test;uid=sa;password=123321; 
```

结果：SQLSTATE[28000] SQLDriverConnect: 18456 [Microsoft][SQL Server Native Client 11.0][SQL Server]用户“sa”登录失败。

当我尝试使用 Windows ODBC 数据源管理器连接时，连接成功。

问题可能出在什么地方？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T08:41:21.243

网络用户“ **sa** ”没有访问 Microsoft SQL Server 的权限。
为网络用户提供对 Microsoft SQL Server 的访问权限的最佳方式是创建一个 Windows 组（**例如 EGUSERS**）并在 Microsoft SQL Server 的安全登录处允许 Windows 组服务器访问。
将所有需要访问 Microsoft SQL Server 的网络用户放入 Windows 组 (EGUSERS)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-28T22:20:29.003

检查您是否在 MSSQL Server 上设置了正确的身份验证模式： [https ://msdn.microsoft.com/en-us/library/ms188670.aspx](https://msdn.microsoft.com/en-us/library/ms188670.aspx)

此外，您还有两种方法可以通过 PHP/PDO 连接到 MSSQL，方法是使用 PHP_PDO_ODBC 扩展，该扩展使用连接字符串中给出的 ODBC 驱动程序，或者使用您可以在此处找到的 PHP_PDO_SQLSRV_xx_TS 或 PHP_PDO_SQLSRV_xx_NTS 扩展（仅适用于 32 位 PHP！）[https://www .microsoft.com/en-us/download/details.aspx?id=20098](https://www.microsoft.com/en-us/download/details.aspx?id=20098)或在这里使用非官方的 64 位[http://robsphp.blogspot.nl/2012/06/unofficial-microsoft-sql-server-driver.html](http://robsphp.blogspot.nl/2012/06/unofficial-microsoft-sql-server-driver.html)

使用 PHP_PDO_SQLSRV_xx_(N)TS 扩展时的连接字符串：

```
$hostname='127.0.0.1';
$dbname='test';
$username='user';
$password='pw';
$dbDB = new PDO("sqlsrv:Server=$hostname;Database=$dbname", $username, $password); 
```

使用 PHP_PDO_ODBC 扩展时的连接字符串：

```
//use any of these or check exact MSSQL ODBC drivername in "ODBC Data Source Administrator"
$mssqldriver = '{SQL Server}'; 
$mssqldriver = '{SQL Server Native Client 11.0}';
$mssqldriver = '{ODBC Driver 11 for SQL Server}';

$hostname='127.0.0.1';
$dbname='test';
$username='user';
$password='pw';
$dbDB = new PDO("odbc:Driver=$mssqldriver;Server=$hostname;Database=$dbname", $username, $password); 
```

当测试一个使用 PHP_PDO_ODBC 扩展返回 66 条记录的简单查询时，大约需要 500 毫秒（对于所有三个 MSSQL ODBC 驱动程序），但在使用 64 位（！）PHP_PDO_SQLSRV_TS 时需要大约 5000 毫秒。慢了10倍！尚未尝试 32 位或 NTS 变体。我的开发 PC 是使用 WAMPx64 PHP 5.5.12 的 Windows 7 SP1，我使用了 PHP_PDO_SQLSRV_55_TS

# android - Android中的互联网电话（VoIP）

> ID：14952988
> 
> 赞同：0
> 
> 时间：2013-02-19T08:30:39.223
> 
> 标签：android

是否可以在没有任何服务器的情况下构建用于语音通话的 android 应用程序。目前我在 android 中看到了使用 SIP 的示例应用程序。但这需要一个 SIP 服务器。我们可以在不需要任何服务器的情况下进行类似的工作吗？恐怕如果我使用任何服务器，那么服务器上的负载会随着用户数量的增加而增加很多。如果我错了，请纠正我。有什么可能的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:12:46.797

这是不可能的，因为您将无法识别和联系您要呼叫的用户。服务器是您的应用程序的两个或多个用户之间的接口。负载增加？当然。当您的用户数量增加时，考虑使用更好的服务器配置。

# android - Android facebook登录错误？

> ID：14952989
> 
> 赞同：1
> 
> 时间：2013-02-19T08:30:46.997
> 
> 标签：android, android-facebook

我在我的应用程序中使用 facebook 登录。我正在使用 Facebook SDK 3.0。

如果 facebook 应用程序可用 facebook 登录工作正常，如果 facebook 应用程序不可用则显示此错误。

![在此处输入图像描述](../Images/7038707382ea322a3015e90ef6876802.png)

如果有人知道原因告诉我

# domain-driven-design - 领域驱动设计挑战 - 实体属于哪个领域？

> ID：14952999
> 
> 赞同：2
> 
> 时间：2013-02-19T08:31:23.433
> 
> 标签：domain-driven-design, analysis

我正在分析一个相当企业资源规划软件，因为 ERP 涵盖了从会计到销售和 CRM 的许多领域，所以我选择使用领域驱动设计。现在我有两个问题：

1.  启动 DDD 的主要应用（理论上不是）资源是什么？
2.  例如，我如何找出“发票”属于哪个域或模块？它属于“会计”还是“销售”？

可能有很多这种情况的例子，我在分离实体和域时感到困惑......

我怎样才能克服这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:48:13.933

无论如何，我都不是 DDD 权威，但这是我的 2 美分

1) 你读过蓝色圣经吗？此处的示例取自 Eric Evans 构建真实航运平台的经验。我还没有看到任何其他已发布的示例与书中的示例一样大。

2）*发票*可以同时属于两者，但在每个域上可能意味着不同的东西，在销售中它会与订单、付款等相关联；在会计中，它将链接到分类帐和帐户。您不会找到一个独特的领域来解决整个 ERP 问题。我对 ERP 没有经验，但了解销售和 CRM，我会说你可能会发现 15 多个不同的领域，有些是小型框架，有些会解决问题的一部分。

关于你的困惑：我过去所做的是在 SO 中找到与 DDD 相关的问题（有些真的很有启发性），并阅读了对 DDD 非常了解的人的博文 - [lostechies](http://lostechies.com)有很多关于 DDD 的好博文.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T18:36:35.027

1.  我建议在实践中使用两个资源：第一个是唯一的著名书籍[Applying Domain-Driven Design and Patterns_ With Examples in C# and .NET.pdf](https://rads.stackoverflow.com/amzn/click/com/0321268202)，另一个是[dotNET Domain Driven Design with C# - Problem - Design - Solution.pdf](https://rads.stackoverflow.com/amzn/click/com/0470147563)但它们都假设您首先阅读了 Eric Evan 的书。
2.  我认为没有人有资格很好地回答第二个问题，大多数人会说这取决于上下文和您的特定应用程序。硬道理是 DDD 是关于设计的，它需要复杂的技能（这并不容易）。所以我建议你通过支持测试逐步开发你的代码，这样你就可以在适当的时候改变你的设计（这就是 eric 所说的突破）。