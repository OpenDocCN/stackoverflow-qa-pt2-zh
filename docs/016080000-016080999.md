# StackOverflow 问答 16080000-16080999

# javascript - 快速悬停在导航链接上时不会触发jquery mouseleave事件？

> ID：16080001
> 
> 赞同：2
> 
> 时间：2013-04-18T10:04:41.577
> 
> 标签：javascript, jquery

我有一个下拉导航，我想在其中上下滑动一个可以正常工作的下拉菜单，但是我发现如果我快速将鼠标悬停在链接上，导航链接不会消失，我尝试添加 stop(true,true ) 等但没有成功。谁能建议我如何解决这个问题？

**小提琴：http:** [//jsfiddle.net/9QdhN/3/](http://jsfiddle.net/9QdhN/3/)

**JS**

```
mouseleave: function() {        

        if( !isActive ) {
        inner.stop(true,true).fadeOut('fast', function(){
            if (topLevelLinks.children('.sub-nav').filter(":visible").length === 0) {
                subNav.stop(true,true).slideUp();
            }
        });
        }
    }  

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:01:05.450

您不需要`isActive`变量，jQuery 在`stop()`方法中为您执行此操作。

这是固定代码：http: [//jsfiddle.net/9QdhN/7/](http://jsfiddle.net/9QdhN/7/)

# silverlight - Silverlight UI 设计的最新工具是什么？

> ID：16080008
> 
> 赞同：1
> 
> 时间：2013-04-18T10:04:57.890
> 
> 标签：silverlight, expression-blend

最近宣布停止表达工作室。在 Silverlight 中开发 UI 和动画的最新工具是什么？“Microsoft Expression Changes”页面并没有说得很清楚： http: [//www.microsoft.com/expression/eng/index.html](http://www.microsoft.com/expression/eng/index.html)

谢谢！

编辑：用于在浏览器中运行的 Silverlight 应用程序，而不是 Windows 手机。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T14:45:21.087

简短而正确的答案是**Blend for Visual Studio 2012 with Update 2**。

原因是：Expression 品牌正在停产，同样的原因，Expression Design、Encoder、Web 都将停产。Expression Blend 也是如此，但产品 Blend 现在和将来都被命名为**Blend for Visual Studio**，现在是 Visual Studio 2012 套件的一部分。由于 Expression 系列已停产，这些产品现在可以在[Expression 网站上免费获得。](http://www.microsoft.com/expression/eng/index.html)

如果您有 Visual Studio 2012，[请安装 Visual Studio 2012 Update 2](http://www.microsoft.com/en-us/download/details.aspx?id=38188)，您将获得对 Silverlight 和 Sketchflow for Silverlight 的完全支持。

在 Blend for Visual Studio 中，您可以从 Adob​​e Photoshop 和 Adob​​e Illustrator 等程序中导入文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:27:15.143

正如您分享的链接向我们展示的那样，2012 年的混合版本仍在预览中。我还没有听说过“表情工作室正在停产”的消息。

VS2010 中没有包含一些设计功能。VS2012 改进了 Visual Studio 的设计功能。但我不认为这将是 Blend 的终结。

正如你所说，blend不仅仅是UI设计工具，也是一个动画工具。它看起来像Adobe Flash（以前macromedia的flash）。表情产品家族非常强大，我认为这一定是一笔巨大的投资。您可以使用 Expression Design 打开 Adob​​e 的 Photoshop PSD 文件。Encoder..SketchFlow 用于模型设计。很多东西。

除此之外，我为 SL5 使用 Blend Preview 5，它与 Blend 4 并没有太大区别。它在对话框上给出 Blend4 错误 :) 所以对于营销他们不会取消它。

# jquery - 动态设置 Kendo UI Slider 的最大值

> ID：16080014
> 
> 赞同：3
> 
> 时间：2013-04-18T10:05:20.203
> 
> 标签：jquery, razor, kendo-ui, kendo-asp.net-mvc

我正在玩 Kendo UI 并创建了一个滑块。当我通过 Razor 创建滑块时，滑块的限制为 min16 max 80。

```
 @(Html.Kendo().Slider()
     .Name("Age")
     .Value(16)                    
     .Min(18).Max(80).LargeStep(50).SmallStep(1).TickPlacement(SliderTickPlacement.None).ShowButtons(false)
     .Events(
        e => e.Change("AgeSliderChanged"))
        ) 
```

但是，假设您在表单上选择了其他内容，这意味着最大值必须更改（即 Max 下降到 50 而不是 80）。这怎么能在javascript中完成？

我习惯了 jQueryUI 库，所以你可以在哪里执行此操作：

`$("#Age").slider("option","max", 50);`它会神奇地为您调整滑块的大小。

但是，我在剑道中尝试了类似的方法，但一无所获。在查看 Chrome Devtools 后，我发现了 options/max 设置：`$("#Age").data("kendoSlider").options.max`

如果我尝试这个： `$("#d2cRequired").data("kendoSlider").options.max = 50`，它会返回“50”并将 Kendo 滑块的限制设置为 50（即，如果我将其设置为 51，它会跳回 50）虽然这可行，但理想情况下我想知道您是否可以调整滑块的大小像jqueryUI？（这甚至是更改滑块最大限制的正确方法吗？！）他们的文档非常受欢迎，并且没有真正显示任何动态更改选项的示例（除了值设置）

我正在评估 Kendo 作为公司的一种可能用途，如果他们的某些组件不能比 JQUI 等价物更好地工作，我不想花费数千美元！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-18T15:01:40.637

根据[剑道论坛](http://www.kendoui.com/forums/ui/slider/how-can-i-change-a-property-of-the-slider-after-it-has-been-initialized.aspx)，我引用：

> 目前没有这样的功能可用。我建议您在[Kendo 的 UserVoice](http://feedback.kendoui.com/forums/127393-kendo-ui-feedback)中提交您的请求，以便社区的其他成员可以对其进行评估、评论和投票。

您有几个选项，有多个滑块并显示您想要的一个或销毁滑块并重新创建它。

# c# - 找不到类型或命名空间名称“服务器”（您是否缺少 using 指令或程序集引用？）

> ID：16080023
> 
> 赞同：-1
> 
> 时间：2013-04-18T10:05:36.813
> 
> 标签：c#, sql-server, sql-server-2008

```
The type or namespace name 'Server' could not be found (are you missing a 
using directive or an assembly reference?) 
```

要添加哪些命名空间或程序集来解决此错误。当我使用`ServerConnection`类时会引发类似的错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:08:55.310

你应该参考下面的程序集

> **命名空间**：Microsoft.SqlServer.Management.Common
> 
> **程序集**：Microsoft.SqlServer.ConnectionInfo（在 Microsoft.SqlServer.ConnectionInfo.dll 中）

[在这里找到更多](http://msdn.microsoft.com/en-us/library/microsoft.sqlserver.management.common.serverconnection.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:10:46.163

查找发生此错误的源文件。它可能会包含一个命名空间 using 语句，例如

```
//make sure this dll is copied to the deployment machine
using Foo.Server;  // <=====

namespace MyProject
{
    public class Bar { } 
} 
```

*   检查对特定库的引用是否已添加到项目中
*   确保*没有*从*/bin*引用它，而是使用*/lib*文件夹或*GAC*
*   检查库的属性并将其*Copy Local*设置为*true*

# php - 从数组中排除重复的单词并随机化和限制数组

> ID：16080027
> 
> 赞同：2
> 
> 时间：2013-04-18T10:05:46.377
> 
> 标签：php, arrays

我从文章主题标题创建标签云。我得到每个标题，分成单词并将它们放入一个数组中，检查单词 strlen > 3 而不是我的排除单词数组。这很好用....

我正在努力解决的问题是：

*   如何随机化顺序并将输出限制为 20
*   排除重复项，重复项是指重复的单词，但在同一个 catid 中。

例如，下面的单词 dog 在 3 个不同的 catid 中重复了 5 次。因此，我想为每个不同的 catid 输出单词 dog 3 次。大批：

```
'subject' => 'dog is running', 'id' => '1', 'catid' => '19'

'subject' => 'dog is walking', 'id' => '2', 'catid' => '18'

'subject' => 'dog is sitting', 'id' => '3', 'catid' => '18'

'subject' => 'dog is eating', 'id' => '4', 'catid' => '19'

'subject' => 'dog is barking', 'id' => '5', 'catid' => '20' 
```

这是我的代码：

```
$excluded_word_array = array('a','blah','bleh');

// prepare the tag cloud array for display
$terms = array(); // create empty array

$query = mysql_query("SELECT * FROM hesk_kb_articles WHERE type = '0'");
while($row = mysql_fetch_array($query)){

        $subject = $row['subject'];
        $id = $row['id'];
        $catid = $row['catid'];
        $words = explode(" ", $subject);
        foreach ($words as $val){
                if (strlen($val) > 3) {
                        $stripped_val = strtolower(ereg_replace("[^A-Za-z]", "", $val));
                        if (!in_array($stripped_val, $excluded_word_array)) {
                        shuffle($stripped_val);
                        $terms[] = array('subject' => $stripped_val, 'id' => $id, 'catid' => $catid);
                        }
                }
        }
}

sort($terms);
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:15:09.020

您可以为此使用**[Group BY](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html)**：

```
$query = mysql_query("SELECT * FROM hesk_kb_articles WHERE type = '0' GROUP BY subject, catid"); 
```

**自 PHP 5.5.0 起， mysql***函数也被弃用，并将在未来被删除。相反，应该使用[**MySQLi**](http://www.php.net/manual/en/book.mysqli.php)或[**PDO_MySQL扩展**](http://www.php.net/manual/en/ref.pdo-mysql.php)

**更新1：**

也许这可以帮助你：

```
$excluded_word_array = array('a','blah','bleh');
$query = mysql_query("SELECT * FROM hesk_kb_articles WHERE type = '0'");
while($row = mysql_fetch_array($query)){

    $subject = $row['subject'];
    $id = $row['id'];
    $catid = $row['catid'];
    $words = explode(" ", $subject);
    foreach ($words as $val){
        if (strlen($val) > 3) {
            $stripped_val = strtolower(preg_replace("[^A-Za-z]", "", $val));
            if (!in_array($stripped_val, $excluded_word_array)) {
                $terms[$catid][] = $stripped_val;
            }
        }
    }
}

$items = array();
foreach ($terms as $term) {
    $term = array_unique($term);
    $items = array_merge($items, $term);
} 
```

`$items`将包含您想要的所有单词。

**更新 2：**

如果您希望 catid 与单词一起使用，请更改最后一个 for 循环：

```
$i = 0;
$items = array();
foreach ($terms as $term_key => $term_value) {
    $term_value = array_unique($term_value);
    $items[$i]['catid'] = $term_key;
    $items[$i]['words'] = implode(',', $term_value);
    $i++;
} 
```

现在 $items 将包含 catid 和用逗号分隔的单词。

**更新 3：**

如果您希望每个 catid 和单词分开，那么您可以这样做：

```
$i = 0;
$items = array();
foreach ($terms as $term_key => $term_value) {
    $term_value = array_unique($term_value);
    foreach ($term_value as $term) {
         $items[$i]['catid'] = $term_key;
         $items[$i]['words'] = $term;
         $i++;
    }
} 
```

希望这可以帮助你:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:32:20.737

```
$query = mysql_query("SELECT * FROM hesk_kb_articles WHERE type = '0'"); 
```

使用 SELECT * 你不能 DISTINCT 或 GROUP BY 并且你必须只选择你需要唯一的字段。

像这样的查询会很有帮助

```
$query = mysql_query("SELECT DISTINCT subject, catid FROM hesk_kb_articles WHERE type = '0'"); 
```

或者

```
$query = mysql_query("SELECT subject, catid FROM hesk_kb_articles WHERE type = '0' group by subject, catid"); 
```

ID 列是唯一的，因此您不能使用 SQL 来减少返回的记录数量。如果您需要 PHP 代码中的 ID。如果需要，可以通过 subject-catid 对从 SQL 获取 id。

您应该考虑在您的表上为主题-catid 对设置一个 UNIQUE 约束，以避免这种类型的“重复”，如果标签主题存在于某个类别中，则不应再次插入它。

# magento - 如何获取所有 Magento 订单状态（列出所有 Magento 订单状态）

> ID：16080028
> 
> 赞同：2
> 
> 时间：2013-04-18T10:05:53.893
> 
> 标签：magento

如何获取所有 magento 订单状态（待处理、完成、处理等）的列表？

它应该显示所有值，例如 magento 后端的订单索引网格页面中的“状态”下拉字段。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T10:05:53.893

只需使用这行简单的代码：

```
Mage::getModel('sales/order_status')->getResourceCollection()->getData(); 
```

例如：

```
var_dump(   Mage::getModel('sales/order_status')->getResourceCollection()->getData()  ); 
```

结果：

```
array(10) { [0]=> array(2) { ["status"]=> string(8) "canceled" ["label"]=> string(8) "Canceled" } [1]=> array(2) { ["status"]=> string(6) "closed" ["label"]=> string(6) "Closed" } [2]=> array(2) { ["status"]=> string(8) "complete" ["label"]=> string(8) "Complete" } [3]=> array(2) { ["status"]=> string(5) "fraud" ["label"]=> string(15) "Suspected Fraud" } [4]=> array(2) { ["status"]=> string(6) "holded" ["label"]=> string(7) "On Hold" } [5]=> array(2) { ["status"]=> string(14) "payment_review" ["label"]=> string(14) "Payment Review" } [6]=> array(2) { ["status"]=> string(7) "pending" ["label"]=> string(7) "Pending" } [7]=> array(2) { ["status"]=> string(15) "pending_payment" ["label"]=> string(15) "Pending Payment" } [8]=> array(2) { ["status"]=> string(14) "pending_paypal" ["label"]=> string(14) "Pending PayPal" } [9]=> array(2) { ["status"]=> string(10) "processing" ["label"]=> string(10) "Processing" } } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-08T23:00:39.860

获取所有订单状态并将数组保存`$orderStatus[status][label]`在`$status`关联数组中：

```
$orderStatusCollection = Mage::getModel('sales/order_status')->getResourceCollection()->getData();
$status = array();
$status = array(
    '-1'=>'Please Select..'
);

foreach($orderStatusCollection as $orderStatus) {
    $status[] = array (
        'value' => $orderStatus['status'], 'label' => $orderStatus['label']
    );
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-14T19:01:27.537

以下是获取 dop-down 输出的方法：

```
 $statuses = Mage::getModel('sales/order_status')->getCollection()
                    ->toOptionArray()
    echo '<pre>';print_r($statuses);echo '</pre>';
    //this will output:
    Array
    (
        [0] => Array
            (
                [status] => canceled
                [label] => Canceled
            )

        [1] => Array
            (
                [status] => cancel_ogone
                [label] => Cancelled Ogone
            )

        [2] => Array
            (
                [status] => closed
                [label] => Closed
            )

        [3] => Array
            (
                [status] => complete
                [label] => Complete
            )
    ..... 
```

# android - 在android中使用VideoView播放视频时出错

> ID：16080030
> 
> 赞同：1
> 
> 时间：2013-04-18T10:05:56.100
> 
> 标签：android, video-streaming, android-mediaplayer, android-videoview

在我的应用程序中，我想通过在线流媒体播放视频，但视频无法启动，并且出现错误“抱歉无法播放此视频”，并且 logcat 错误为

```
couldn't open file on client side trying server side and mediaplayer error (1,-1004) 
```

这意味着什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:12:30.743

首先检查您是否在清单中添加了 INTERNET 权限。

接下来，检查您的视频格式的扩展名是什么。

[在这里，](http://www.wondershare.com/convert-video-audio/android-video-format.html)您可以查看 Android 手机和平板电脑支持的文件，并提供编解码器和文件扩展名信息。

如果您想在 Android 上播放视频，请找到多格式视频播放器或将视频转换为 Android 兼容格式。

# delphi - Delphi Chromium Embedded - 使用 F5 刷新页面

> ID：16080031
> 
> 赞同：5
> 
> 时间：2013-04-18T10:05:57.407
> 
> 标签：delphi, page-refresh, chromium-embedded

我在我的应用程序中使用 Delphi Chromium Embedded，我有以下问题：如何模拟 F5 键来刷新页面？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T10:45:17.303

在[`OnKeyEvent`](http://magpcss.org/ceforum/apidocs/projects/%28default%29/CefKeyboardHandler.html)使用以下代码：

```
uses
  CEFLib;

procedure TForm1.Chromium1KeyEvent(Sender: TObject;
  const browser: ICefBrowser; event: TCefHandlerKeyEventType; code,
  modifiers: Integer; isSystemKey: Boolean; out Result: Boolean);
begin
  if (event = KEYEVENT_RAWKEYDOWN) and (code = VK_F5) then
  begin
    Result := True;
    Chromium1.Browser.Reload;
  end;
end; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-14T06:11:16.317

@TLama 也许正确的代码是这样的（在 dcef3 中使用 delphi7）：

```
 if (event^.kind = KEYEVENT_RAWKEYDOWN) and (event^.windows_key_code = VK_F5) then 
```

# java - 高效的适配器实现

> ID：16080032
> 
> 赞同：0
> 
> 时间：2013-04-18T10:06:01.457
> 
> 标签：java, android, performance, design-patterns, final

我的代码中有两种用于适配器实现的类型，但我不确定哪一种更好。

这是我的*更新程序*模式：

```
public View getView(int position, View convertView, ViewGroup parent) {
    Updater content;
    if(convertView == null) {
        final TextView msg = new TextView(parent.getContext());
        content = new Updater() {
            public void update(...) {
                // code to update the control msg
            }
        };
        convertView = msg;
        convertView.setTag(content);
    } else {
        content = (Updater)convertView.getTag();
    }
    content.update(...);
    return convertView;
}

// ...

private interface Updater {
    void update(...);
} 
```

这是我的*ViewHolder*模式：

```
public View getView(int position, View convertView, ViewGroup parent) {
    ViewHolder holder;
    if(convertView == null) {
        convertView = inflater.inflate(...);
        holder = new ViewHolder(convertView);
        convertView.setTag(holder);
    } else {
        holder = (ViewHolder)convertView.getTag();
    }
    holder.setData(...);
    return convertView;
}

// ...

private class ViewHolder {
    public final TextView text;

    public ViewHolder(final View owner) {
        text = (TextView)owner.findViewById(R.id.text);
    }

    public void setData(...) {
        // ...
    }
} 
```

**我想知道哪个效率更高？**我还可以`Updater`在更复杂的控件中实现接口，因此以通用方式*更新不同的控件会更简单。*所以我可以`convertView`不使用`getTag()`. 但是在上面的代码中，我使用了一个`final`在我的接口实现之外定义的变量。**有人可以告诉我这是否会导致性能问题？我不知道带有最终变量的java内部会发生什么。**

如果我的*更新*模式不好，请告诉我，为什么我应该使用*ViewHolder*模式，除了这个模式来自 Google IO。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T05:29:36.540

像这样的决定对性能几乎没有影响。两种解决方案同样有效。最终的键盘实际上可以通过允许编译器进行某些优化来提高性能，但它们肯定不会引起注意。

# android - Starling Android Dev：在 Galaxy Note 2 上通话后出现黑屏

> ID：16080033
> 
> 赞同：1
> 
> 时间：2013-04-18T10:06:02.383
> 
> 标签：android, flash, air, starling-framework

我正在 Galaxy Note 2 上测试我的 Starling 游戏。Starling 接电话后变成黑屏……奇怪的是它可以在其他安卓设备（HTC、sony 等）上运行。

我确实设置了

```
Starling.handleLostContext = true. 
```

有谁知道如何解决这个问题？

# knockout.js - 基于条件语句的 Durandal Compose 模块

> ID：16080036
> 
> 赞同：0
> 
> 时间：2013-04-18T10:06:11.307
> 
> 标签：knockout.js, durandal

我需要使用条件（if 语句）来动态选择要在 Durandal 中组成的视图。这可能吗？有人有一个可以帮助我开始的例子吗？谢谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T17:14:54.480

您没有为您的问题提供太多背景信息，因此这是一个非常简单（未经测试）的示例。

在您的 html 中：

```
<div data-bind="compose: myModel" /> 
```

在你的 js 文件中：

```
define(function (require) {
    var m1 = require('module1');
    var m2 = require('module2');

    var myModel;

    myModel = (1 === 1) ? m1 : m2;

    return {
        myModel : myModel
    };
}); 
```

当然，将 1 === 1 替换为您的条件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-19T12:21:38.933

好节目亚历克斯！请记住，组合绑定上的每个属性本身都是可绑定的，因此您可以在运行时通过使用可观察对象、逻辑或组合有条件地选择或更改任何组合的任何值。

# database - Oracle 中的观察者模式

> ID：16080039
> 
> 赞同：6
> 
> 时间：2013-04-18T10:06:17.927
> 
> 标签：database, oracle, design-patterns, plsql, pipe

我可以设置挂钩更改或添加表中的某些行并在发生此类事件时以某种方式得到通知吗？我发现了网络，只卡在管道上。但是没有办法在发送时立即获取管道消息。只有定期尝试接收。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-30T05:20:49.143

通常应避免从数据库实现观察者模式。

为什么？它依赖于供应商专有（非标准）技术，促进了数据库供应商锁定和支持风险，并导致了一些膨胀。从企业的角度来看，如果不以受控的方式完成，它可能看起来像“臭鼬工厂”——以一种不寻常的方式实现应用程序和集成模式和工具通常涵盖的行为。如果在细粒度级别上实施，它可能会导致与具有大量不可预测的通信和处理的微小数据更改紧密耦合，从而影响性能。机器中的一个额外齿轮可能是一个额外的断点——它可能对操作系统、网络和安全配置敏感，或者供应商技术中可能存在安全漏洞。

如果您正在观察应用管理的事务数据：

*   在您的应用程序中实现观察者模式。例如，在 Java 中，CDI 和 javabeans 规范直接支持这一点，按照 Gang Of Four 书的 OO 自定义设计是一个完美的解决方案。
*   可选择向其他应用发送消息。过滤器/拦截器、MDB 消息、CDI 事件和 Web 服务也可用于通知。

如果用户直接修改数据库中的主数据，那么：

*   在您的应用程序中提供一个单一的管理页面来控制主数据刷新或
*   提供单独的主数据管理应用程序并将消息发送到依赖应用程序或
*   （最佳方法）根据质量（审查、测试等）和时间（与代码更改相同的处理方式）管理主数据编辑，通过环境进行推广，部署和刷新数据/重新启动应用程序到托管程序

如果您正在观察由另一个应用程序管理的事务数据（共享数据库集成），或者您使用 ETL 等数据级集成为您的应用程序提供数据：

*   尝试仅由一个应用程序编写数据实体（其他应用程序只读）
*   轮询登台/ETL 控制表以了解更改发生的内容/时间或
*   使用 JDBC/ODBC 级别的专有扩展进行通知或轮询，正如 Alex Poole 的回答中提到的那样，或者
*   将 2 个应用程序的重叠数据操作重构为共享 SOA 服务，既可以避免观察要求，也可以将其从数据操作提升到更高级别的 SOA/应用程序消息
*   使用 ESB 或数据库适配器调用您的应用程序进行通知或调用 WS 端点进行批量数据传输（例如 Apache Camel、Apache ServiceMix、Mule ESB、Openadaptor）
*   避免使用数据库扩展基础设施，例如管道或高级队列

如果您使用消息传递（发送或接收），请从您的应用程序中执行此操作。来自数据库的消息是一种反模式。作为最后的手段，可以使用调用 Web 服务的触发器 ( [http://www.oracle.com/technetwork/developer-tools/jdev/dbcalloutws-howto-084195.html](http://www.oracle.com/technetwork/developer-tools/jdev/dbcalloutws-howto-084195.html) )，但需要非常小心这以一种非常粗略的方式，在一组数据更改时调用业务（子）流程，而不是处理细粒度的 CRUD 类型操作。最好触发作业并让作业在事务之外调用 Web 服务。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-27T18:11:11.177

除了其他答案，您还可以查看[数据库更改通知](http://www.oracle.com/technetwork/issue-archive/2006/06-mar/o26odpnet-093584.html)。如果您的应用程序是基于 Java 的，则有涵盖[JDBC](http://docs.oracle.com/cd/E11882_01/java.112/e16548/dbchgnf.htm)的特定文档，以及类似的 .NET[此处](http://docs.oracle.com/cd/E11882_01/win.112/e23174/changenote.htm)和[此处](http://docs.oracle.com/cd/E11882_01/win.112/e23174/featChange.htm)；[这里](http://www.oracle.com/technetwork/issue-archive/win06odp-099708.html)还有另一篇文章。

您还可以查看可从 OCI 使用的[持续查询通知。](http://docs.oracle.com/cd/E11882_01/appdev.112/e25518/adfns_cqn.htm)

我知道仅链接的答案不好，但我没有写任何东西的经验（我必须承认我也没有使用过，但我一直想研究 DCN 有一段时间了.. .) 这对于评论来说太长了 *8-)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-27T00:39:48.447

在数据库本身中，您需要的是触发器。您可以在插入、删除、更新数据或其任意组合时运行任意 PL/SQL。

如果您需要让事件在数据库之外传播，您需要一种从 PL/SQL 触发器调用外部应用程序的方法。一些可能的选择是：

1.  [DBMS_PIPES](http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_pipe.htm) - Oracle 中的管道类似于 Unix 管道。一个会话可以写入，一个单独的会话可以读取以传输信息。此外，它们不是事务性的，因此您会立即收到消息。一个缺点是 API 是基于轮询的，所以我建议选项 #2。
2.  Java - PL/SQL 可以调用任意 Java（假设您将类加载到数据库中）。这为执行您想要的任何类型的消息传递打开了大门，包括使用 JMS 将消息推送到消息队列。根据您实现这一点的方式，您甚至可以将其与 INSERT/UPDATE/DELETE 语句本身进行事务绑定。然后，监听应用程序将只监听 JMS 队列，它根本不会与发布事件的数据库绑定。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-19T09:30:29.357

查看 DBMS_ALERT、DBMS_PIPE 或（最好是）**AQ（高级队列）**它是 Oracle 的内部消息传递系统。Oracle 的 AQ 有自己的 API，也可以像 Java JMS 提供者一样对待。

还有像 Stream 或 (XStream) 这样的技术，但这些技术非常复杂。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-04-18T10:25:09.407

根据您的要求使用[触发器](http://docs.oracle.com/cd/B19306_01/appdev.102/b14251/adfns_triggers.htm)或[审计](http://docs.oracle.com/cd/B19306_01/network.102/b14266/cfgaudit.htm)

# java - Java反射-动态加载类时如何排除接口

> ID：16080042
> 
> 赞同：0
> 
> 时间：2013-04-18T10:06:28.720
> 
> 标签：java, spring-mvc, reflection

我使用 spring 框架来动态查找类及其方法和参数。

这些是我使用的方法：

```
public List<Class> findMyTypes(String basePackage) throws IOException, ClassNotFoundException
    {
        ResourcePatternResolver resourcePatternResolver = new PathMatchingResourcePatternResolver();
        MetadataReaderFactory metadataReaderFactory = new CachingMetadataReaderFactory(resourcePatternResolver);

        List<Class> candidates = new ArrayList<Class>();
        String packageSearchPath = ResourcePatternResolver.CLASSPATH_ALL_URL_PREFIX +
                                   resolveBasePackage(basePackage) + "/" + "**/*.class";
        Resource[] resources = resourcePatternResolver.getResources(packageSearchPath);
        for (Resource resource : resources) {
            if (resource.isReadable()) {
                MetadataReader metadataReader = metadataReaderFactory.getMetadataReader(resource);
                if (isCandidate(metadataReader)) {
                    candidates.add(Class.forName(metadataReader.getClassMetadata().getClassName()));
                }
            }
        }
        return candidates;
    }
    public String resolveBasePackage(String basePackage) {
        return ClassUtils.convertClassNameToResourcePath(SystemPropertyUtils.resolvePlaceholders(basePackage));
    }

    @SuppressWarnings({ "rawtypes", "unchecked" })
    public boolean isCandidate(MetadataReader metadataReader) throws ClassNotFoundException
    {
        try {
            Class c = Class.forName(metadataReader.getClassMetadata().getClassName());
            if (c.getAnnotation(Controller.class) != null) {
                return true;
            }
        }
        catch(Throwable e){
        }
        return false;
    } 
```

我加载了有注释的类`@Controller`。它工作正常，但我只想加载类而不是接口，我如何获取加载类的方法和参数。

编辑 ：

这就是我获取所有类名并尝试获取方法名的方式：

```
List classNames = hexgenClassUtils.findMyTypes("com.hexgen.*");
            Iterator<Class> it = classNames.iterator();
            while(it.hasNext())
            {
                Class obj = it.next(); 
                System.out.println("Class  :"+obj.toString());

                cls = Class.forName(obj.toString());
                Method[] method = cls.getMethods();
                for (Method method2 : method) {
                    System.out.println("Method name : "+method2.toGenericString());
                }
                // TODO  something with obj
            } 
```

我面临的问题是`class com.hexgen.api.facade.HexgenWebAPI`课程即将到来，因此我无法动态加载课程并获得以下异常。

`java.lang.ClassNotFoundException: class com.hexgen.api.facade.HexgenWebAPI`那么如何解决它。

请帮助我找到解决方案。

此致

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:13:32.167

尝试

```
 Class c = Class.forName(metadataReader.getClassMetadata().getClassName());
        if (!c.isInterface() && c.getAnnotation(Controller.class) != null) {
            return true;
        } 
```

# python - 如何在 python 中打破长 with 语句

> ID：16080049
> 
> 赞同：22
> 
> 时间：2013-04-18T10:06:51.567
> 
> 标签：python

我在 python 中有这样一行代码：

```
with long_name_function(p) as a, other_long_name_function(): 
```

我想把它分成多行，因为太长了，我可以使用反斜杠，但它们被认为是一种不好的做法。我也可以使用 contextlib.nested，但已弃用，还有其他选择吗？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-04-18T10:17:32.223

这无视问题的前提，但我实际上建议在这种情况下使用反斜杠：

```
with really_really_long_name_function(p) as f1, \
        other_really_really_long_name_function() as f2:
    pass 
```

正如@JonClements 所说，在这种情况下你不能使用方括号或逗号，没有其他选择，所以反斜杠是要走的路，代码看起来很干净IMO。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-04-18T10:08:42.857

如果你想避免反斜杠，你可以给长名称起别名：

```
lnf = long_name_function
olnf = other_long_name_function
with lnf(p) as a, olnf():
    # ... 
```

或者你可以嵌套语句：

```
with long_name_function(p) as a:
    with other_long_name_function():
        pass 
```

你*不想*使用`contextlib.nested()`; 它有几个问题直接导致了它的弃用。例如，较早的上下文管理器不包括嵌套中后来的上下文管理器的问题。

# android - 背景使用什么尺寸？

> ID：16080050
> 
> 赞同：0
> 
> 时间：2013-04-18T10:06:55.880
> 
> 标签：android, android-emulator

我想使用背景图像，但我不知道必须为不同尺寸的android设置尺寸，有几个规范是你可以告诉我你需要使用像素大小。对于我的申请

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:08:51.113

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical"
android:background="@drawable/your_selected_background_image"
 > 
```

`android:layout_width="fill_parent"`主布局中的属性和 `android:layout_height="fill_parent"`属性将使用您在任何设备上完全选择的图像填充应用程序的背景。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:18:25.897

使用 NinePatch 图像。

NinePatch 是一个 PNG 图像，您可以在其中定义当 View 中的内容超出正常图像边界时 Android 可缩放的可拉伸区域。您通常将这种类型的图像分配为 View 的背景，该 View 至少有一个维度设置为“wrap_content”，当 View 增长以容纳内容时，九补丁图像也会缩放以匹配 View 的大小

```
<Button
android:layout_height="wrap_content"
android:layout_width="wrap_content"
android:background="@drawable/myninepatch" /> 
```

[http://developer.android.com/guide/topics/resources/drawable-resource.html#NinePatch](http://developer.android.com/guide/topics/resources/drawable-resource.html#NinePatch)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T11:30:19.777

根据 android 开发者文档，fill_parent 在 API 8 及更高版本中被重命名为 match_parent，建议使用 match_parent 而不是 fill_parent。math_parent/fill_parent 可以使 View 的大小拉伸到其父级的大小，所以如果你在背景布局中使用 android:layout_width="math_parent" 和 android:layout_height="match_parent"。您的背景图像将自动拉伸到您的屏幕大小（准确地说，它取决于其父级的大小）。wrap_content 使视图的大小刚好足以包含其内容。因此使用 wrap_content 视图的大小及其背景将根据视图的内容进行拉伸。

# javascript - jquery：在从另一个页面加载对话框并将其添加到 DIV 时，我只需要添加对话框区域吗？

> ID：16080055
> 
> 赞同：0
> 
> 时间：2013-04-18T10:07:02.740
> 
> 标签：javascript, jquery-ui, jquery

**我正在使用 load 从另一个页面加载一个对话框。我正在尝试将其加载到 DIV 中。现在我只需要在我的 div 中添加对话框区域，而不是加载对话框的页面中存在的整个空白区域。怎么做到呢 ？**

```
$(document).ready(function(e) {
    $('#content').load('dialog.html');
}); 
```

HTML

```
<div id="content">

</div> 
```

对话框.html

```
$(document).ready(function(e) {
    $('#wrapper').dialog({
        appendTo:'#content'
    });
});

<body>
    <div id="wrapper">
    </div>
</body> 
```

我试过`load('dialog.html div')`了，但仍然添加了空白空间！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:24:48.017

你可以试试这个：

```
$(document).ready(function(e) {

    // initialize dialog
    var dialog1 = $("#content").dialog({ 
                      autoOpen: false
                  });

    // load content and open dialog
    dialog1.load('dialog.html #wrapper').dialog('open');
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:26:09.370

如果您只想加载“包装器 div”，请使用它`$("#content").load("dialog.html #wrapper");`

# javascript - Backbone js - 在传递给视图之前使用集合（模型）上的正则表达式清理数据

> ID：16080059
> 
> 赞同：1
> 
> 时间：2013-04-18T10:07:07.247
> 
> 标签：javascript, backbone.js

我正在使用主干来填充下拉列表。API 的更改导致数据（选项标签）返回不需要的数据，例如“Option Foo - 00011222”而不是“Option Foo”

我打算使用正则表达式，这样我只能显示“-”之前的第一个字符

在渲染到视图之前对集合上的数据进行清理的最佳方法是什么。

这应该在视图还是集合上完成

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:22:29.983

如果可以安全地丢弃附加数据，则可以使用[Model.parse](http://backbonejs.org/#Model-parse)修改收到的数据：

> **parse** model.parse(response, options)
> 每当服务器返回模型的数据时，在获取和保存时都会调用 parse。该函数传递原始响应对象，并应返回要在模型上设置的属性散列。

例如，如果要替换`label`字段：

```
var data = [
    {label: 'Option Foo - 00011222'},
    {label: 'Option Foo2 - 00011222'}
];

var M = Backbone.Model.extend({
    parse: function(data) {
        data.label = data.label.replace(M.regexp, '');
        return data;
    }
}, {
    regexp: /\s*-.*$/
});

var C = Backbone.Collection.extend({
    model: M
});

var c = new C(data, {parse: true});
console.log(c.pluck('label')); 
```

还有一个演示[http://jsfiddle.net/nikoshr/xPJDr/](http://jsfiddle.net/nikoshr/xPJDr/)

# jquery - 如何从一个链接中选择一个随机字母 并在悬停时着色？

> ID：16080060
> 
> 赞同：0
> 
> 时间：2013-04-18T10:07:11.647
> 
> 标签：jquery, html, css, wordpress

我正在为客户构建一个 Wordpress 主题，我的设计师认为在悬停时只为菜单项的一个字母着色会很有趣。我试图让它与 lettering.js( [http://letteringjs.com/](http://letteringjs.com/) ) 一起工作，但这样我就必须准确地指定我想在 CSS 中为哪个字母着色，我的 CSS 很快就变成了一团 nth-child选择器之类的。

我想以一种从列表项中的链接中选择一个随机字母（只是一个随机字母，而不是多个）的方式使用 jQuery，并在悬停时将其着色为指定的颜色。我发现了这一点：[更改段落中随机字母的颜色](https://stackoverflow.com/questions/15432075/change-the-color-of-random-letters-in-a-paragraph)并尝试对其进行编辑以适用于我的情况，但我无法使其正常工作。

任何人都可以提出解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:21:27.957

您可以使用任何字符串作为字符数组；例如，您可以通过索引`"abc"[0]`或`slice`它来访问它。

所以给定一个随机索引，`index`你也许可以把它分成

```
text.slice(0, index) // part before target character
+ text[index] // target character
+ text.slice(index+1) // part after target character 
```

那么，一个完整的解决方案可能如下所示：

```
 var text = $.trim($(this).text());
    var index = getRandom(text.length);

    $(this).html(
        [text.slice(0, index), '<span class="colored">', text[index], '</span>', text.slice(index+1)].join('')
    ); 
```

[演示](http://jsfiddle.net/Hzefs/)。重新加载以重新随机化。

请注意，这不包括诸如随机字符是空格之类的东西。一个简单的解决方案可能是投入类似的东西

```
while(text[index] == ' ') index = getRandom(text.length); 
```

# magento - Magento 在标题中编辑购物车标题

> ID：16080061
> 
> 赞同：0
> 
> 时间：2013-04-18T10:07:13.010
> 
> 标签：magento

我有一个 Magento 网上商店，在我的标题中站着：`Shopping cart - Subtotaal`winkelwagen

我正在寻找一种编辑此文本的方法。我已经查看了 .php 文件等，但到目前为止我还没有找到任何东西。我希望有人能告诉我在哪里可以编辑此文本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:16:43.847

最好的方法是 erwin_smit 描述的。

另外，最快的解决方案是使用下面的内联翻译工具

```
System->Configuration->Developer->Inline Translation 
```

激活后重新加载您的前端并编辑虚线文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:53:54.657

这可能在某处`app/design/frontend/packagename/templatename/checkout/cart.`

如果没有，请尝试打开模板提示。

您还可以使用翻译文件替换文本。放置一个文件`"translate.csv"`调用`app/design/frontend/{packagename}/{templatename/locale/{languagecode}/`

希望这可以帮助。

# iphone - 如何生成与 Objective-C 语法兼容的 JSON 字符串

> ID：16080062
> 
> 赞同：0
> 
> 时间：2013-04-18T10:07:14.513
> 
> 标签：iphone, ios, objective-c, json

我需要某种用于objective-c的json字符串生成器。实际上我认为一定有类似的东西，但我找不到任何东西。具体来说，例如我有一个 json 字符串，如：

```
{"name":"abc","email":"def@ghi.com","password":"1"} 
```

当我想将它存储在目标 c 中时，我必须这样写：

```
@"{\"name\":""\"abc\""",\"email\":""\"def@ghi.com\""",\"password\":""\"1\"""}" 
```

所以它令人困惑且难以实施。是否有任何生成器或实现它的简单方法。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:13:51.893

将您的 json 字符串转换为字典...

```
NSData* data = [yourJsonString dataUsingEncoding:NSUTF8StringEncoding];
            NSDictionary* jsonDict = [NSJSONSerialization
                                      JSONObjectWithData:data
                                      options:kNilOptions
                                      error:&error];
 NSLog(@"jsonDict:%@",jsonDict); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T13:55:58.307

小心......在你原来的问题中，当提到如何将它存储在objective-c中时，我认为你犯了一个错误

你写道：@"{\"name\":""\"abc\"""

当它应该是@"{\"name\":\"abc\",....等...

我认为您将引号加倍...要小心，因为一开始已经有一个开头的双引号@“，所有其他需要的引号都必须像这样\”转义，然后也有一个结尾引号。

希望能帮助到你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:12:42.063

您可以使用本机 ios SDK API 从 NSDictionary / NSArray 生成 JSON 数据。

例如，

```
NSData *jsondata = [NSJSONSerialization dataWithJSONObject:(dictobject) options:NSJSONWritingPrettyPrinted error:&error];

NSString *str = [[NSString alloc] initWithData:jsondata encoding:NSUTF8StringEncoding]; 
```

这可能会有所帮助！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-18T10:29:42.197

使用它也导入“JSON.H”

```
 NSDictionary *googleResponse = [[NSString stringWithContentsOfURL:[NSURL  URLWithString:website] encoding: NSUTF8StringEncoding error: NULL] JSONValue]; 
```

# google-app-engine - 仅四秒后获取 SocketTimeoutException？

> ID：16080069
> 
> 赞同：1
> 
> 时间：2013-04-18T10:07:46.133
> 
> 标签：google-app-engine

我正在打开一个 url 并得到一个 SocketTimeoutException：

```
long now = System.currentTimeMillis();
try {
    URL url = new URL("https://example.com");
    InputStreamReader is = new InputStreamReader(url.openStream());
    ..
}
catch (SocketTimeoutException ex) {
    long diff = System.currentTimeMillis() - now;
    System.err.println("Timeout!: " + diff + "ms"); // ~4 seconds
}   

java.net.SocketTimeoutException: Timeout while fetching URL: https://example.com
    at com.google.appengine.api.urlfetch.URLFetchServiceImpl.convertApplicationException(URLFetchServiceImpl.java:142) 
```

但经过的时间只有4秒。我的这段代码自 2 月以来就没有改变，与它所访问的“example.com”网址相同（这也在我的控制之下）。

应用引擎团队是否可以在较低级别进行更改以减少引发超时异常之前的时间长度？

谢谢

# android - 如何自动生成总金额？

> ID：16080071
> 
> 赞同：0
> 
> 时间：2013-04-18T10:07:51.420
> 
> 标签：android, xml

我是 android 新手，我试图在用户在我的购买页面中输入数量后自动生成总金额。我首先从另一个活动中获取产品价格，然后我编辑文本以获取数量。之后页面会自动显示总金额。有没有人有这样做的经验。

**我的代码：**

```
public class PageBuy extends Activity {
TextView lblPID;
TextView lblName;
TextView lblAmount;
EditText quantity;
Integer total_amount;

private static final String KEY_ERROR_MSG = "error_msg";
private static final String TAG_NAME = "product_name";
private static final String TAG_PID = "product_id";
private static final String TAG_AMOUNT = "amount";
private static final String KEY_QUANTITY = "quantity";   
private static final String KEY_UID = "uid";
private static final String KEY_CREATED_AT = "created_at";

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.pagebuy);

        Intent gg = getIntent();

        String product_id = gg.getStringExtra(TAG_PID);
        String product_name = gg.getStringExtra(TAG_NAME);
        String amount = gg.getStringExtra(TAG_AMOUNT);

        lblPID = (TextView) findViewById(R.id.product_id_label);
        lblName = (TextView) findViewById(R.id.product_name_label);
        lblAmount = (TextView) findViewById(R.id.amount_label);

        lblPID.setText(product_id);
        lblName.setText(product_name);
        lblAmount.setText(amount);

        quantity = (EditText) findViewById(R.id.quantity);

        String quan = quantity.getText().toString().trim();
        System.out.println(quan +"Short");
        //UserFunctions userFunction = new UserFunctions();
        //JSONObject json = userFunction.rebuy(product_id, amount, quan);

        Button btn_confirm = (Button) findViewById(R.id.btn_confirm);
        Button btn_home = (Button) findViewById(R.id.btn_home);  

        btn_confirm.setOnClickListener(new View.OnClickListener() {

             public void onClick(View view) {
                  DatabaseHandler db = new DatabaseHandler(getApplicationContext());

                        String uid = db.getCurrentId();

                        System.out.println("SHORTALEX" + uid);

                        String product_id = lblPID.getText().toString().trim();
                        String amount = lblAmount.getText().toString();
                        String quan = quantity.getText().toString().trim();

                        UserFunctions userFunction = new UserFunctions();
                        JSONObject json = userFunction.rebuy(product_id, amount, quan,uid);

                       //DatabaseHandler2 db = new DatabaseHandler2(getApplicationContext());
                        JSONObject json_user;
                        try {   
                            System.out.println("SHORTY");
                            System.out.println(json.toString());
                            json_user = json.getJSONObject("userbuy");

                        } catch (JSONException e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        }

                        Toast.makeText(PageBuy.this, "Purchase Success", Toast.LENGTH_SHORT).show();
                        Intent i = new Intent(getApplicationContext(), PagePurchaseRecord.class);
                        startActivity(i);
                 }               
        });
        btn_home.setOnClickListener(new View.OnClickListener() {

             public void onClick(View view) {

                    Intent i = new Intent(getApplicationContext(), Main.class);
                    startActivity(i);
                }
        });     
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:13:50.047

你需要 textwatcher

```
 quantity.addTextChangedListener(new TextWatcher() {

                @Override
                public void onTextChanged(CharSequence s, int start, int before, int count) {
                    // update quanttiti here

                }

                @Override
                public void beforeTextChanged(CharSequence s, int start, int count,
                        int after) {
                    // TODO Auto-generated method stub

                }

                @Override
                public void afterTextChanged(Editable s) {
                    // TODO Auto-generated method stub

                }
            }); 
```

# css - 为什么要明确：权利不能按预期工作

> ID：16080073
> 
> 赞同：19
> 
> 时间：2013-04-18T10:07:58.133
> 
> 标签：css, css-float

我总是对`clear: left`,`clear: right`和`clear: both`CSS 感到困惑。我知道`clear: both`这意味着它不允许在自身两侧浮动元素。

我在[这里](http://jsfiddle.net/malaikuangren/xqFUL/1/)做了一些测试。我认为布局会如下所示，因为`B`使用`clear: both`. 但事实并非如此。有人能告诉我为什么吗？

光盘_
_

**更新** （发布代码）

```
<div class="container">
    <div class="A">a</div>
    <div class="B">b</div>
    <div class="C">c</div>
    <div class="D">d</div>
    <div class="CB"></div>
</div>

.container{
    width:100%;
    border:1px solid red;    
}
.B{
    float:left;
    clear:both;
    width:10%;
    height:30px;
    border:1px solid blue;
}
.A,.C,.D{
    float:left;
    width:10%;
    height:30px;
    border:1px solid blue;
}
.CB{
    clear:both;
} 
```

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-04-18T10:11:35.790

`clear`在一个元素上只清除它*之前*的浮动以文档顺序。它不会清除它*之后*的浮动。`left`和值分别*表示元素前的*`right`左浮动和右浮动的间隙。它们并不意味着在元素之前和之后清除浮动。

 *由于 C 是浮动的，但没有应用任何清除，它浮动在 B 旁边。B 不会尝试清除 C，因为 C 在文档结构中位于它之后。

此外，`clear: right`在您的测试用例中没有任何影响，因为无论如何您的元素都没有向右浮动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:13:38.133

如果您使用，您可以清楚地在 div 之后工作：

```
.clr::after
{
 content: "";
 clear: both;
 display: block;
 height: 0;
 visibility: hidden;
} 
```*

# c# - 表单加载时的 C# 进度条拉绳

> ID：16080074
> 
> 赞同：0
> 
> 时间：2013-04-18T10:08:00.867
> 
> 标签：c#, progress-bar, default, drawstring, form-load

有没有办法在 C# 的进度条上编写默认文本？

这在 Form_Load 中不起作用，但在单击按钮时可以正常工作...

```
using (Graphics gr = progressBar1.CreateGraphics())
{
    StringFormat sf = new StringFormat(StringFormatFlags.NoWrap);
    sf.Alignment = StringAlignment.Center;
    gr.DrawString("hello world", 
                  new Font("Arial", 10.0f, FontStyle.Regular),
                  new SolidBrush(Color.Black), 
                  progressBar1.ClientRectangle, 
                  sf);                
} 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:16:52.560

您可以设置一次性 Timer 事件来执行此操作作为一个选项。

```
Timer t = new Timer();

Form_Load()
{
    t.Interval = 1000;
    t.Start();
}

static void t_Elapsed(object sender, ElapsedEventArgs e)
{
    //One time event
    t.Stop();
    using (Graphics gr = progressBar1.CreateGraphics())
    {
        StringFormat sf = new StringFormat(StringFormatFlags.NoWrap);
        sf.Alignment = StringAlignment.Center;
        gr.DrawString("hello world", 
            new Font("Arial", 10.0f, FontStyle.Regular),
            new SolidBrush(Color.Black), 
            progressBar1.ClientRectangle, 
            sf);                
    }
} 
```

对此有一点说明：

随着 的`ProgressBar.Value`改变；图形将`ProgressBar`更改并覆盖您绘制的文本。Nolonar 用 a 覆盖 Progressbar 并将其`Label`设置在 ProgressBar 前面的注释可能更符合您的需要。

否则，您必须处理`ProgressBar`图形更改时的重绘。

# asp.net - ASP.NET MasterPage 用于授权目的

> ID：16080076
> 
> 赞同：0
> 
> 时间：2013-04-18T10:08:01.510
> 
> 标签：asp.net, master-pages

我正在使用母版页进行授权。我有三种不同的用户类型：读者、作者和管理员。

我有一个`Main.Master`包含我的页面的基本内容。然后我有，

1.  读者大师
2.  作者.大师
3.  管理大师

这些继承自`Main.Master`. 我正在检查用户是否真的登录（`Session`不为空）以及在, , s函数中是否`UserType`为真。`Reader.Master``Author.Master``Admin.Master``Page_Init()`

**第一个问题：**这是一个好习惯吗？请考虑到我在使用其他 ASP.NET 内置内容进行用户管理、授权等方面的经验为零。

**第二个问题：**有一些页面`ForgotPassword.aspx`，所有`UserType`s 都应该访问同一个页面。在我的结构中，我需要创建三个不同的页面，这些页面继承自三个不同的硕士。如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:17:41.120

***第二个问题：**有一些像 ForgotPassword.aspx 这样的页面，所有用户类型都应该访问同一个页面。在我的结构中，我需要创建三个不同的页面，这些页面继承自三个不同的硕士。如何解决这个问题？*

以相同的方式创建`User.Master`和创建`Guest.Master`，您将拥有适用于所有类型用户的大师。User.Master 将仅检查用户是否已登录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:17:43.597

对于您的**第一个问题**：我使用它类似。我不确定这是否是一个好的解决方案，但它对我有用。

**第二个问题**：您可以`ContentPlaceHolder`在母版页中定义。

```
<asp:ContentPlaceHolder ID="MyId" runat="server" /> 
```

在您的 aspx 站点中，您为每个`ContentPlaceHolder`容器`Content`定义。

```
<asp:Content ContentPlaceHolderID="PageContent" runat="server">
    <!-- content for this area -->
</asp:Content> 
```

如果您在您的三个用户类型的母版页`ContentPlaceHolder`中定义相同的母版页，`ID`您可以在类似 Forgot.aspx 的页面中为每个母版页使用相同的内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T10:24:27.587

好吧，如果不是最佳实践，母版页中的身份验证是可以接受的。我看过很多以此类教程开头的书。但是，当您的网站扩展时，您可能会遇到一些问题，并且在 haldlers 或 global.asax 等页面之外处理与身份验证相关的数据可能会很痛苦。

但是，当网站范围有限并且您不需要高级功能时，这种身份验证就可以了。

关于你的第二个问题，是的，你得到的是正在使用的方法的副作用。您可以做的是使用三个母版页中的任何一个只创建一个页面。在您正在检查身份验证的那个母版页中，您会得到页面的名称，如果页面名称与 forgot.aspx 相同，或者只是忽略的内容，则退出正常进程。

例如

```
if (System.IO.Path.GetFileName(Request.PhysicalPath).ToLower() == "forgot.aspx")
{

}
else
{
    doauthentication();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-01-10T21:33:49.187

把它做成一个没有母版页的普通webform页面，用户忘记密码就无法登录，你只需要给他们一个像登录页面一样的普通页面

# java - 无法使用 HttpClient 读取浏览器 cookie

> ID：16080079
> 
> 赞同：0
> 
> 时间：2013-04-18T10:08:06.527
> 
> 标签：java, spring, spring-mvc, cookies, spring-security

我需要检查浏览器 cookie（连同 id - 密码）来确定用户是否有效。当用户激活帐户时，我在浏览器中设置了 cookie。在登录时，我需要检查 cookie 和凭据。我正在使用 spring security (daoAuthenticationProvider) 进行身份验证。我正在使用代码设置 cookie：

```
public void setCookie(String token, HttpServletRequest request, HttpServletResponse response) {
    try {
        Cookie cookie = new Cookie(cookieName, token);
        cookie.setDomain(cookieDomain);
        cookie.setPath(cookiePath);
        cookie.setMaxAge(31536000); // seconds for 365 days
        response.addCookie(cookie);
    } catch(Exception e) {
        log.error("Exception in setting cookie : {}", e.getMessage());
    }   
} 
```

到了阅读 cookie 的时候，我没有`HttpServletRequest`异议。因为它不是我可以拥有请求对象的弹簧控制器。所以我在 spring 控制器中编写了一个方法，它将返回 cookie 值。代码是：

```
@RequestMapping(value = "gettoken", method = RequestMethod.GET, produces={"text/html"})
public ResponseEntity<String> getToken(HttpServletRequest request) {

    String token = "";
    Cookie cookies[] = request.getCookies();

    if (cookies != null) {
        for (int i = 0; i < cookies.length; i++) {
            System.out.println("Cookie details : " + cookies[i].getName()
            + "\t" + cookies[i].getValue());
            if (cookieName.equalsIgnoreCase(cookies[i].getName())) {
                token = cookies[i].getValue();
                break;
            }
        }
    } else {
        logger.info("No cookies found...");
    }
    return new ResponseEntity<String>(token,HttpStatus.OK);
} 
```

这个 spring 控制器动作返回 cookie 值。当我点击这个 URL 时，我可以在浏览器中看到返回的 cookie 值。

现在，我使用 HttpClient 从应用程序中调用此 URL。代码是：

```
public boolean isCookieValid(String token) {
    boolean valid = false;
    try {       
        String requestUrl = serverUrl + "gettoken";
        log.info("requestUrl is : {} ", requestUrl);

        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpContext localContext = new BasicHttpContext();
        HttpGet getRequest = new HttpGet(requestUrl.trim());
        getRequest.addHeader("accept", "text/html");
        HttpResponse response = httpClient.execute(getRequest,localContext);

        System.out.println("call success : " + response.getStatusLine().getStatusCode());
        if (response.getStatusLine().getStatusCode() != 200) {
            return false;
        }

        HttpEntity entity = response.getEntity();
        if (entity != null) {
            String cookieToken = EntityUtils.toString(entity);
            System.out.println("Cookie Token : " + cookieToken);
            if(token.equalsIgnoreCase(cookieToken)) {
                valid = true;
            }
        }
        httpClient.getConnectionManager().shutdown();      
    } catch (Exception e) {
        log.info("Exception in reading cookies : {}", e.getMessage());      
    }
    return valid;
} 
```

当我使用 http 客户端点击 spring 操作时，我收到 HTTP 200 响应代码。但是 Spring 控制器无法读取 cookie。知道可能是什么问题吗？有人有比这更好的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:24:56.063

`getToken()`从它收到的请求中提取 cookie。`HttpClient`那么，当您向它发送请求而不向请求添加任何 cookie时，您如何期望从它返回令牌？当您使用浏览器调用`getToken()`时，浏览器会随请求一起发送同一个 webapp 之前设置的任何 cookie。这就是你拿回令牌的原因。

# ios - 为什么这不会改变 webview 的大小

> ID：16080084
> 
> 赞同：1
> 
> 时间：2013-04-18T10:08:23.027
> 
> 标签：ios, objective-c, webview

这个已解决的stackoverflow答案对我不起作用，我不知道为什么。

[UIWebView 的高度以编程方式减去 44px？](https://stackoverflow.com/questions/14868668/height-of-uiwebview-minus-44px-programmatically?lq=1)

```
 CGRect oldFrame = WebView.frame;
    CGRect newFrame =CGRectMake(oldFrame.origin.x, oldFrame.origin.y, oldFrame.size.width, oldFrame.size.height-44);
    [WebView setFrame:newFrame]; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:11:17.717

一旦重新加载你的webview，在这样做之后尝试这样，

```
 self.webView.frame = CGRectMake(self.webView.frame.origin.x, self.webView.frame.origin.y, self.webView.frame.size.width, 0);
  [self.webView reload]; 
```

# php - 脚本头过早结束：php-cgi -- 运行 CURL 脚本时

> ID：16080086
> 
> 赞同：1
> 
> 时间：2013-04-18T10:08:26.703
> 
> 标签：php, curl

在我回到主机（再次）之前，他们在下面的脚本中给出的唯一错误日志是：

脚本头过早结束：php-cgi

我正在运行的脚本在其他服务器和我的本地机器上运行，但是在这个 perticualr 服务器上给出了错误 500：

```
$ch = curl_init("http://feeds.energydigger.com/headlines.xml");
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HEADER, 0);
$data = curl_exec($ch);
curl_close($ch);
$doc = new SimpleXmlElement($data, LIBXML_NOCDATA);

if(isset($doc->channel))
{
    parseRSS($doc);
}
function parseRSS($xml)
{
    $cnt = 3;
    for($i=0; $i<$cnt; $i++)
    {
        $url    = $xml->channel->item[$i]->link;
        $title  = $xml->channel->item[$i]->title;
        $desc = $xml->channel->item[$i]->description;
        $date = $xml->channel->item[$i]->pubDate;

        echo '<p><a href="'.$url.'">'.$title.'</a><br />'.$date.'</p>';
    }
} 
```

有谁知道什么可能会产生错误，我不能说我以前见过这个......我仍在尝试获取 PHP 日志。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:24:45.170

如果抛出异常但未捕获，并且在 PHP 设置`display_errors`= 0 中，您可能会收到 500 错误。很可能是由 SimpleXML 抛出的。尝试用 XML 操作将该部分包装在一个`try .. catch`块中，看看异常是什么。例如：

```
$ch = curl_init("http://feeds.energydigger.com/headlines.xml");
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HEADER, 0);
$data = curl_exec($ch);
curl_close($ch);

try
{
    $doc = new SimpleXmlElement($data, LIBXML_NOCDATA);

    if(isset($doc->channel))
    {
        parseRSS($doc);
    }
    function parseRSS($xml)
    {
        $cnt = 3;
        for($i=0; $i<$cnt; $i++)
        {
            $url    = $xml->channel->item[$i]->link;
            $title  = $xml->channel->item[$i]->title;
            $desc = $xml->channel->item[$i]->description;
            $date = $xml->channel->item[$i]->pubDate;

            echo '<p><a href="'.$url.'">'.$title.'</a><br />'.$date.'</p>';
        }
    }
}
catch (Exception $e)
{
    echo $e -> getMessage();
} 
```

以防万一，[这里有更多关于 PHP exceptions 的内容](http://php.net/manual/en/language.exceptions.php)。

# ios - 显示上一个日期的 NSLog

> ID：16080095
> 
> 赞同：2
> 
> 时间：2013-04-18T10:08:58.497
> 
> 标签：ios, objective-c, core-data, nsdate

我想从两个日期之间添加的核心数据中检索所有条目。我正在使用`NSPredicate`. 由于我没有得到正确的结果，我尝试记录日期。它显示了以前的日期。谷歌搜索了一段时间后，我添加了

`[dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];`到我的代码。现在，它显示正确的日期，但结果仍然错误。

这是我使用的代码。

```
NSDate *fromDate = [[self dateFormatter]dateFromString:self.fromDateField.text];
NSLog(@"%@",fromDate);
NSDate *toDate = [[self dateFormatter]dateFromString:self.toDateField.text];
NSLog(@"%@",toDate);
NSComparisonResult result = [fromDate compare:toDate];
switch (result) {
    case NSOrderedAscending:
    {
        //code
    }

- (NSDateFormatter *)dateFormatter
{
static NSDateFormatter *dateFormatter = nil;
if (dateFormatter == nil) 
{
    dateFormatter = [[NSDateFormatter alloc] init];
    [dateFormatter setDateStyle:NSDateFormatterMediumStyle];
    [dateFormatter setTimeStyle:NSDateFormatterNoStyle];
    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
}
   return dateFormatter;
} 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:39:42.670

如果您直接记录 NSDate 对象，它将始终以 GMT/UTC 时区显示该书。您必须记录日期格式化程序的输出。

```
NSLog(@"%@",[self.dateFormatter stringFromDate:toDate]); 
```

这将考虑您的时区。或者更好：日期格式化程序日历的时区——如果你不改变它，设备默认是什么。

# android - 如何使用 9-patch 图像为 Android 视图设置阴影

> ID：16080098
> 
> 赞同：2
> 
> 时间：2013-04-18T10:09:09.363
> 
> 标签：android, shadow, nine-patch

我正在尝试在 ma Android 应用程序的视图中设置阴影。我已经使用 2 个视图创建了阴影，但我正在寻找一种更好的替代方法？有谁知道该怎么做？

这是我尝试过的：

```
 <TableRow>
                <LinearLayout
                    android:id="@+id/layout1"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content">
                    <TextView  
                        android:layout_width="fill_parent" 
                        android:layout_height="wrap_content"
                        android:background="#FFFFFF" 
                        android:text="@string/this_is_text" />
                </LinearLayout>
                <View
                    android:layout_width="2dp"
                    android:layout_height="fill_parent"
                    android:layout_marginTop="2dp"
                    android:background="#FFFEEE"/>
            </TableRow> 
```

# gwt - 从 JavaScript 调用 GWT Java 函数

> ID：16080099
> 
> 赞同：17
> 
> 时间：2013-04-18T10:09:10.450
> 
> 标签：gwt, jsni, gwtquery, gwt-exporter

我是 GWT 和 JavaScript 的新手。我曾尝试遵循类似的此类问题，但一直失败。

我有一个 GWT 应用程序，我需要从 Javascript 调用一个 Java 函数（特别是在 href 标记的 onclick 上。）以下是我所做的。

```
public class JSNITest {

 public static void handleAnchorClick(int a , int b) {
   Window.alert("Current row and Column is " + a + "  " + b);
 }

 public static native void exportMyFunction()/*-{
    $wnd.handleAnchorClick = function(param1,param2){
        @company.package.class.JSNITest::handleAnchorClick(*)(param1,param2);
 }-*/;

} 
```

在 HTML 中，

```
<a href="javascript:handleAnchorClick(a1,a2);">link</a> 
```

`(a1 , a2)`是我的代码中的两个整数变量。我还在入口点函数中调用了 EnclosureClass.exportMyFunction()。我不断遇到各种异常（没有此类异常）。有人可以纠正我吗？

问候

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-04-18T11:11:51.730

让我再解释一下关于将 GWT 内容导出到 JS 世界的内容。您有多种选择，但我将重点介绍三种方法。

[编辑]

0- **JsInterop**：GWT 维护人员正在开发一项新功能，以便轻松地将 java 方法导出到 javascript，并包装 javascript 对象。该功能在 2.7.0 中是非常实验性的，缺少一些功能，但在 2.8.0 中几乎可以使用。请查看[设计文档](https://docs.google.com/document/d/1tir74SB-ZWrs-gQ8w-lOEV3oMY6u6lF2MmNivDEihZ4/edit)，以及邮件列表中的其他[讨论](https://groups.google.com/forum/?utm_medium=email&utm_source=footer#!msg/google-web-toolkit-contributors/Dwdk-aEHs8Y/OvSNe6egUekJ)。

[结尾]

1- **JSNI**：第一个是编写你自己的jsni，在这种情况下你必须意识到你可能犯的错误。基本上这些错误是因为你必须知道如何处理类型。在您的情况下，如果您想获得一个 javascript 数组（就像您在下面的评论中询问的那样），解决方案可能是：

```
public static native void exportMyFunction()/*-{
  $wnd.handleAnchorClick = @company.package.class.JSNITest::handleAnchorClick(*);
}-*/;

public static void handleAnchorClick(JsArrayMixed args) {
  Window.alert("Current row and Column is " +
                args.getNumber(0) + "  " + args.getNumber(1));
}

public void onModuleLoad() {
  exportMyFunction();
}

//javascript code
window.handleAnchorClick([1,2]) 
```

请注意，JSNI 只允许您传递`primitive`类型（long 除外）和`JavaScriptObject`对象。因此，当传递一个 javascript 数组时，您必须`JavaScriptObject`在示例中使用 like 来接收它。在这种情况下，由于 javascript 仅使用数字类型，`args.getNumber`因此将始终返回双精度值，并且您必须在 java 中进行转换。

2- **gwt-exporter**用于导出大型项目，或者当您需要处理复杂的对象和类时，我宁愿使用[gwt-exporter](http://code.google.com/p/gwt-exporter/)

```
static class MyClass implements Exportable {
  @Export("$wnd.handleAnchorClick")
  public static void handleAnchorClick(double[] args) {
    Window.alert("Current row and Column is " +args[0] + "  " + args[1]);
  }
}

public void onModuleLoad() {
  GWT.create(MyClass.class);
}

//javascript code
window.handleAnchorClick([1,2]) 
```

gwt-exporter 将处理任何类型的原始类型（即使是 long）`myfunc(long[] args)`，使用 var-args `myfunc(long...args)`，它支持方法重载等等。

3- **gwtquery**最后，如果您更喜欢[gwtquery](https://code.google.com/p/gwtquery/)，您可以使用一种技术将函数属性添加到任何 js 对象，例如`window`

```
// The GQuery Properties object is able to wrap a java Function object
// into an js property.
Properties wnd = window.cast();
wnd.setFunction("handleAnchorClick", new Function() {
  public void f() {
    // Get the js arguments[] array
    JsArrayMixed args = arguments(0);
    // Get the first element of the arguments[] array
    JsArrayMixed ary = args.getObject(0);

    Window.alert("Current row and Column is " +
                  ary.getNumber(0) + "  " + ary.getNumber(1));
  }
});

//javascript code
window.handleAnchorClick([1,2]) 
```

使用 gquery，您可以使用 gwt`JsArrayMixed`类，它总是将数字作为双精度返回，或者您可以使用`JsCache`允许将数字转换为 java 中的任何其他数字类型的a`((JsCache)ary.get(1, Integer.class)`

作为总结，我宁愿使用**gwt-exporter**作为第一个选项，因为它专门处理这个问题。作为第二种选择，我会使用**gquery**，它是 gwt 的重要补充。最后，我会尽可能避免使用手写**jsni**，Javascript 通常是问题和错误的根源（认为 gwt 的主要目标不是处理 js）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-25T08:02:42.333

您应该考虑 GWT 导出器。您甚至可以考虑等待，因为 GWT 2.8 应该很快就会出来。它本应在 2015 年的乞讨时发布。2015 年已经开始，他们现在正在 GWT.create 上演示，所以它应该随时发布。如果你等不及了，那么你可以使用实验性的互操作，JSNI 就像上面的回答所说的那样，或者 GWT 导出器。JSNI 比较复杂，涉及很多样板代码，所以如果你必须做很多 js 互操作，我推荐 GWT-exporter。

# compass-sass - 使用守卫实时重装和守卫指南针似乎有冲突

> ID：16080102
> 
> 赞同：1
> 
> 时间：2013-04-18T10:09:14.597
> 
> 标签：compass-sass, guard, livereload

我正在尝试同时使用守卫 livereload 和守卫指南针。这是我的文件

# 示例 Guardfile

```
 # More info at https://github.com/guard/guard#readme

    guard 'compass' do
      watch('^sass/(.*)\.s[ac]ss')
    end

    guard 'livereload' do
      watch(%r{.+\.(css|html|js)$})
    end

    # This will concatenate the javascript files specified in :files to public/js/all.js
    #guard :concat, type: "js", files: %w(), input_dir: "public/js", output: "public/js/all"

    #guard :concat, type: "css", files: %w(), input_dir: "public/css", output: "public/css/all"

    #guard 'uglify', :destination_file => "public/javascripts/application.js" do
    #  watch (%r{app/assets/javascripts/application.js})
    #end 
```

当我开始保护时，没有启用 chrome live reload 扩展，我的 sass 文件被编译并且运行良好。

但是当我启用 livereload 扩展时，我的终端说浏览器已连接，然后当我在我的 sass 文件中进行更改时，什么也没有发生（页面没有重新加载，sass 文件也没有被编译）。

有没有人有任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T12:36:23.053

目前，我在 Windows 中启动了两个终端，一个是我看罗盘的地方，一个是我看守的地方（我评论了 GuardFile 的罗盘部分）。

如果有人有更好的解决方案

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-05T08:15:25.673

我就是这样做的，而且效果很好。

```
 puts "Using default guard file."

group :development do

  if File.exists?("./config.rb")
    # Compile on start.
    puts `compass compile --time --quiet`
    # https://github.com/guard/guard-compass
    guard :compass do
      watch(%r{(.*)\.s[ac]ss$})
    end
  end

  guard :livereload, :host => '127.0.0.1', :port => '35729', :grace_period => 0.5 do
    watch(%r{.+\.(css|js|html?|php|inc|theme)$})
  end

end 
```

所有这一切都是告诉 Compass 我的 config.rb 在哪里......它在我的站点的基础上，我的 Guardfile 保存在那里。然后它有指南针编译SCSS。不确定您的情况，但在我的情况下，我需要设置主机和端口才能使其正常工作。但基本上，守卫会观察变化，一旦 compass 输出 css 文件，LiveReload 就会注意到变化，然后重新加载该文件。很简单。

我确定你已经知道了，但是将所有正确的 Gem 添加到你的 Gemfile，在你的项目上运行 'bundle' 然后使用 $ guard 启动 Guard

在您的浏览器中确保您点击了 LiveReload 按钮，它会在终端中告诉您浏览器已连接并且您离开了。

希望有帮助。

# snmp - 两台 kyocera 打印机具有相同的 SysObjectID (.1.3.6.1.2.1.1.2)

> ID：16080105
> 
> 赞同：0
> 
> 时间：2013-04-18T10:09:22.427
> 
> 标签：snmp, printers, mib

我正在尝试使用 SNMP 获取打印机的设备详细信息。我正在尝试使用设备的 SysObjectID 来跟踪模型。对于以下打印机，我得到了相同的 SysObjectID 值（值为 .1.3.6.1.2.1.1.2.0），我使用 mib 浏览器进行了检查。我假设每个型号的打印机都必须共享一个唯一的对象 ID。

京瓷FS-C5350DN

京瓷TASKalfa 3050ci

我认为 OID 在模型之间总是唯一的，但这怎么可能呢？我错了吗？请建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T14:39:20.590

尝试将您的模型识别基于一些附加信息 - 例如 sysDescription 通常包含有关特定设备变体的详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-11T16:48:47.263

OID 是 MIB 中的特定点。如果您正在查询`1.3.6.1.2.1.1.2`，那么它应该给您一个类似的值`1.3.6.1.4.1.9.1.1024`，如果您再查找它是`catalyst3560v248ts`那个 OID（以 .1.1.2 结尾）本质上是指向具有产品 ID 的位置的引用或指针。谁说这两款打印机不使用相同的 OID？也许一个只是另一个的更重的责任版本？我不知道，但我过去取得的成功是查询`1.3.6.1.2.1.1.1`（而不是 .1.1.2）并从那里找出我需要的东西。

基本上，这些可能只是在其固件中运行相同版本的某些相同版本的东西。您经常可以找到在其 MIB 中具有型号 OID 的各个制造商。您可以联系制造商或查看他们的支持页面。

# database - 查看不同类型文章的小修改

> ID：16080107
> 
> 赞同：0
> 
> 时间：2013-04-18T10:09:25.897
> 
> 标签：database, forms, view, yii

我有一个文章类型的视图，我需要扩展这个视图，如果用户打开文章类型“特殊”，我需要在这个视图中显示一些新字段。

我不想为这种类型的表单创建单独的视图，因为只有一个字段不同。

此外，如果保存“特殊”文章，我还需要在数据库中保存一个不同的值，在“类型”字段中。

请建议我如何做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T15:18:26.833

好吧，您应该在视图中简单地使用 if 语句来显示或不显示附加字段，并使用[`beforeSave`](http://www.yiiframework.com/doc/api/1.1/CActiveRecord#beforeSave-detail)模型中的方法来处理您的类型属性。

```
protected function beforeSave()
{
    // if ('Special' article)
    //     $this->type = 'value';
    parent::beforeSave();
} 
```

您还应该考虑使用[场景](http://www.yiiframework.com/wiki/266/understanding-scenarios/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T20:15:08.290

我通过在文章模型中添加一个公共变量来解决这个问题，在控制器中我用一个字符串设置变量，并在视图中验证这个字符串。

# python - Django ModelChoiceField 返回索引。想要在那个位置获得对象

> ID：16080110
> 
> 赞同：1
> 
> 时间：2013-04-18T10:09:36.110
> 
> 标签：python, django, html-select, django-queryset

我有一个网页，您可以在其中向数据库添加新计算机/IP，或从下拉列表中选择以前添加的。一切正常，除了用户从列表中选择一个项目后我得到的是它的索引，而不是它的名称。我怎样才能得到这个名字？我正在尝试将查询集作为向量访问，如此处所示[，](https://stackoverflow.com/questions/5123839/fastest-way-to-get-the-first-object-from-a-queryset-in-django)但出现 TypeError。

视图.py：

```
d = DropDownList(request.POST or None)
    if d.is_valid():
        c = request.POST.get('current')
        return HttpResponse(d.qs[c-1]) 
```

模型.py：

```
class DropDownList(forms.Form):
    qs = Computer.objects.all().order_by('name')
    current = forms.ModelChoiceField(qs, widget=forms.Select(attrs={"onChange":'submit()'}))    

class Computer(models.Model):
    name = models.CharField(max_length=200, default='')
    ip = models.CharField(max_length=200, default='')
    def __unicode__(self):
        return self.name 
```

主页.html：

```
<form method="post">
    {{ current }}
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:18:15.493

使用表单的全部意义在于它负责验证和数据转换，因此在您看来，您应该从表单中获取数据，而不是从 POST 本身获取数据。

```
if d.is_valid():
    c = d.cleaned_data['current'] 
```

# angularjs - 使用通过模块定义的多个控制器不起作用

> ID：16080113
> 
> 赞同：6
> 
> 时间：2013-04-18T10:09:46.923
> 
> 标签：angularjs

将控制器定义为全局函数时，一切正常。但是当使用模块来声明和“分配”控制器时，只有第一个控制器用于解析绑定。我错过了什么？

```
<!doctype html>
<html>
<head/>
<body>
  <div ng-app="flintstones">
    <div ng-controller="flintstoneCtrl">
      <label>Name:</label>
      <input type="text" ng-model="yourName" placeholder="Enter a name here">
      <hr>
      <h1>Hello {{yourName}}!</h1>
    </div>
  </div>
  <div ng-app="rumbles">
    <div ng-controller="rumbleCtrl">
      <label>Name:</label>
      <input type="text" ng-model="yourName" placeholder="Enter a name here">
      <hr>
      <h1>Hello {{yourName}}!</h1>
    </div>
  </div>
</body>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular.min.js"></script>
<script>

  var flintstones = angular.module("flintstones", []);
  flintstones.controller("flintstoneCtrl", function flintstoneCtrl($scope) {
    $scope.yourName = "Fred";
  });

  var rumbles = angular.module("rumbles", []);
  rumbles.controller("rumbleCtrl", function rumbleCtrl($scope) {
    $scope.yourName = "Barney";
  });

</script>

</html> 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-18T12:34:36.990

@Arun 是正确的。但是，在您的情况下，我猜您并不想两次引导 Angular，而只是使用在不同模块中定义的控制器。

这通常是通过拥有一个页面/站点模块来完成的，该模块依赖于所需的所有模块，在您的情况下`flintstones`和`rumbles`.

```
angular.module('flintstones', []).controller('flintstoneCtrl', ...);
angular.module('rumbles', []).controller('rumbleCtrl', ...);

// Create a module with dependencies.
angular.module('myApp', ['flintstones', 'rumbles'])... 
```

然后，在您的 html 中，您只需使用`ng-app="myApp"`该模块中的内容和它的所有依赖项即可访问。

```
<html ng-app="myApp">
  <body>
    <div ng-controller="flintstoneCtrl">...</div>
    <div ng-controller="rumbleCtrl">...</div>
  </body>
</html> 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-18T10:14:16.317

我认为，一页`ng-app`默认只能有一个，在您的情况下，您有两个`ng-app`定义。

[如果您在一个页面中有多个应用程序，则必须进行手动引导](https://stackoverflow.com/questions/12860595/how-to-define-two-angular-apps-modules-in-one-page)

# html - Dart WebUI 构建错误

> ID：16080115
> 
> 赞同：2
> 
> 时间：2013-04-18T10:10:02.533
> 
> 标签：html, dart, dart-webui

我在将 web_ui 添加到现有的 dart 应用程序时遇到问题。我什至没有将任何 webui 特定代码添加到我的 html 文件中，我只是在尝试构建。

我将 web_ui 添加到 pubspec.yaml 并运行 pub install。

当我运行我的 build.dart 文件时，它会生成：

```
Uncaught Error: type 'AttributeName' is not a subtype of type 'String' of 'name'. 
```

这就是我的 build.dart 文件的样子（它位于我项目的根目录中）：

```
import 'package:web_ui/component_build.dart';
import 'dart:io';

void main() {
  build(new Options().arguments, ['bin/mywebpage.html']);
} 
```

另外值得注意的是，我尝试了他们自动生成的 webUI 示例，它可以工作，我只是无法将它添加到我现有的项目中。

编辑：

1.  是的，通常是 index.html，但没有区别。我确实尝试过改变它。我正在运行最新版本的 Dart M4。

2.  当我在 Dartium 中运行 mywebpage.html 时，我没有收到任何错误，但 {{dataValue}} 不会被其对应的数据替换。

3.  Dart 编辑器版本 0.4.7_r21658 Dart SDK 版本 0.4.7.5_r21658

这就是我得到的所有信息，有趣的是 clipPath 并不意外，它正在关闭一个打开的 clipPath 标签：

```
warning bin/mywebsite.html:86:3: Unexpected end tag (clippath). Ignored.
        </clipPath>
  ^^^^^^^^^^^
warning bin/mywebsite.html:99:3: Unexpected end tag (clippath). Ignored.
        </clipPath>
  ^^^^^^^^^^^
Uncaught Error: type 'AttributeName' is not a subtype of type 'String' of 'name'.
Stack Trace:
#0      _Analyzer.visitAttribute (package:web_ui/src/analyzer.dart:403:48)
#1      _Analyzer.visitElementInfo.<anonymous closure> (package:web_ui/src/analyzer.dart:157:53)
#2      LinkedHashMap.forEach (dart:collection-patch:241:13)
#3      _Analyzer.visitElementInfo (package:web_ui/src/analyzer.dart:157:28)
#4      _Analyzer.visitElement (package:web_ui/src/analyzer.dart:123:21)
#5      TreeVisitor.visit (package:html5lib/dom_parsing.dart:15:50)
#6      TreeVisitor.visitChildren (package:html5lib/dom_parsing.dart:27:49)
#7      TreeVisitor.visitNodeFallback (package:html5lib/dom_parsing.dart:35:48)
#8      TreeVisitor.visitElement (package:html5lib/dom_parsing.dart:44:50)
#9      _Analyzer.visitElementInfo (package:web_ui/src/analyzer.dart:175:23)
#10     _Analyzer.visitElement (package:web_ui/src/analyzer.dart:123:21)
#11     TreeVisitor.visit (package:html5lib/dom_parsing.dart:15:50)
#12     TreeVisitor.visitChildren (package:html5lib/dom_parsing.dart:27:49)
#13     TreeVisitor.visitNodeFallback (package:html5lib/dom_parsing.dart:35:48)
#14     TreeVisitor.visitElement (package:html5lib/dom_parsing.dart:44:50)
#15     _Analyzer.visitElementInfo (package:web_ui/src/analyzer.dart:175:23)
#16     _Analyzer.visitElement (package:web_ui/src/analyzer.dart:123:21)
#17     TreeVisitor.visit (package:html5lib/dom_parsing.dart:15:50)
#18     TreeVisitor.visitChildren (package:html5lib/dom_parsing.dart:27:49)
#19     TreeVisitor.visitNodeFallback (package:html5lib/dom_parsing.dart:35:48)
#20     TreeVisitor.visitElement (package:html5lib/dom_parsing.dart:44:50)
#21     _Analyzer.visitElementInfo (package:web_ui/src/analyzer.dart:175:23)
#22     _Analyzer.visitElement (package:web_ui/src/analyzer.dart:123:21)
#23     TreeVisitor.visit (package:html5lib/dom_parsing.dart:15:50)
#24     TreeVisitor.visitChildren (package:html5lib/dom_parsing.dart:27:49)
#25     TreeVisitor.visitNodeFallback (package:html5lib/dom_parsing.dart:35:48)
#26     TreeVisitor.visitDocument (package:html5lib/dom_parsing.dart:37:52)
#27     TreeVisitor.visit (package:html5lib/dom_parsing.dart:19:52)
#28     analyzeFile (package:web_ui/src/analyzer.dart:63:17)
#29     Compiler._analyze.<anonymous closure> (package:web_ui/src/compiler.dart:512:24)
#30     time (package:web_ui/src/utils.dart:46:24)
#31     Compiler._time (package:web_ui/src/compiler.dart:714:16)
#32     Compiler._analyze (package:web_ui/src/compiler.dart:511:14)
#33     Compiler.run.<anonymous closure> (package:web_ui/src/compiler.dart:110:15)
#34     _ThenFuture._sendValue (dart:async:397:24)
#35     _FutureImpl._setValue (dart:async:294:26)
#36     _CompleterImpl.complete (dart:async:129:21)
#37     FutureGroup.add.<anonymous closure> (package:web_ui/src/utils.dart:141:28)
#38     _ThenFuture._sendValue (dart:async:397:24)
#39     _FutureImpl._setValue (dart:async:294:26)
#40     _FutureImpl._setOrChainValue (dart:async:371:16)
#41     _ThenFuture._sendValue (dart:async:403:21)
#42     _FutureImpl._setValue (dart:async:294:26)
#43     _CatchErrorFuture._sendValue (dart:async:415:14)
#44     _FutureImpl._setValue (dart:async:294:26)
#45     _FutureImpl._setOrChainValue (dart:async:371:16)
#46     _ThenFuture._sendValue (dart:async:403:21)
#47     _FutureImpl._setValue (dart:async:294:26)
#48     _FutureImpl._setOrChainValue (dart:async:371:16)
#49     _ThenFuture._sendValue (dart:async:403:21)
#50     _FutureImpl._setValue (dart:async:294:26)
#51     _FutureListenerWrapper._sendValue (dart:async:157:21)
#52     _FutureImpl._setValue (dart:async:294:26)
#53     _FutureListenerWrapper._sendValue (dart:async:157:21)
#54     _FutureImpl._setValue (dart:async:294:26)
#55     _FutureImpl._setOrChainValue (dart:async:371:16)
#56     _ThenFuture._sendValue (dart:async:403:21)
#57     _FutureImpl._setValue (dart:async:294:26)
#58     _FutureListenerWrapper._sendValue (dart:async:157:21)
#59     _FutureImpl._setValue (dart:async:294:26)
#60     _FutureImpl._setOrChainValue (dart:async:371:16)
#61     _ThenFuture._sendValue (dart:async:403:21)
#62     _FutureImpl._setValue (dart:async:294:26)
#63     _CompleterImpl.complete (dart:async:129:21)
#64     _SendPortImpl.call.<anonymous closure> (dart:isolate-patch:106:27)
#65     _ReceivePortImpl._handleMessage (dart:isolate-patch:81:92)

Unhandled exception:
_FutureImpl._scheduleUnhandledError.<anonymous closure> (dart:async:325:9)
#1      Timer.run.<anonymous closure> (dart:async:2240:21)
#2      Timer.run.<anonymous closure> (dart:async:2248:13)
#3      Timer.Timer.<anonymous closure> (dart:async-patch:15:15)
#4      _Timer._createTimerHandler._handleTimeout (dart:io:6721:28)
#5      _Timer._createTimerHandler._handleTimeout (dart:io:6729:7)
#6      _Timer._createTimerHandler.<anonymous closure> (dart:io:6737:23)
#7      _ReceivePortImpl._handleMessage (dart:isolate-patch:81:92) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T05:21:03.950

This error message is caused by the web-ui library failing a type check. It's expecting a String but getting an [AttributeName](https://github.com/dart-lang/html5lib/blob/master/lib/dom.dart) class back from html5lib.

See this [issue](https://github.com/dart-lang/web-ui/issues/484). Are you using an xmlns attribute in your html - svg perhaps?

You could also post on the [web-ui mailing list](https://groups.google.com/a/dartlang.org/forum/#!forum/web-ui), or [file a bug report](https://github.com/dart-lang/web-ui/issues).

# tags - NFC 标签唯一 ID

> ID：16080131
> 
> 赞同：7
> 
> 时间：2013-04-18T10:10:50.020
> 
> 标签：tags, unique, nfc, uniqueidentifier, serial-number

我正在开发一个系统，包括 NFC 标签和 Android 手机，使用 NFC 标签的唯一 ID。但是不知道4种NFC标签有什么区别。我发现了这个：

> “与 NFC 兼容的标签可以采用以下技术/标准，并且每个标签都有不同的 ID 概念：

```
NFC Tag1 : Topaz/Jewel
NFC Tag2 : Mifare UL (ISO14443A-3)
NFC Tag3 : JIS X 6319-4 (FeliCa)
NFC Tag4 : ISO14443-4A or ISO14443-4B tag 
```

Mifare Classic 卡也有非官方支持作为 NFC 标签。他们每个人都定义了一些标识号。

*   Topaz/jewel 有一个 4 字节的 ID
*   Mifare UL 有一个 7 字节的 UID
*   Mifare Classic 有一个 4 或 7 字节的 UID
*   FeliCa 有一个 8 字节的 ID
*   ISO14443-4A 有一个 4、7 或 11 字节的 UID
*   ISO14443-4B 有一个 4 字节的 PUPI

用 nfc-list 做一些测试，你会看到结果取决于使用的标签。有关代码，请参见 nfc-list.c 的代码如何检索和显示 ID。”

这是真的吗？还有别的吗？你能帮助我吗 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-01-18T09:53:13.097

通过这些链接阅读有关 nfc 标签的更多信息。

*   [http://www.nfc.cc/technology/nfc-tag-types/](http://www.nfc.cc/technology/nfc-tag-types/)

*   [http://www.radio-electronics.com/info/wireless/nfc/near-field-communications-tags-types.php](http://www.radio-electronics.com/info/wireless/nfc/near-field-communications-tags-types.php)

> **类型 1：**标签基于 ISO/IEC 14443A。此标签类型具有读写能力。标签的内存可以写保护。内存大小可以在 96 字节和 2 KB 之间。与标签的通信速度为 106 kbit/sec。示例：Innovision 黄玉
> 
> **类型 2：**标签基于 ISO/IEC 14443A。此标签类型具有读写能力。标签的内存可以写保护。内存大小可以在 48 字节和 2 KB 之间。与标签的通信速度为 106 kbit/sec。示例：NXP Mifare Ultralight、NXP Mifare Ultralight
> 
> **类型 3：**标签基于日本工业标准 (JIS) X 6319-4。此标签类型在制造时预先配置为可读取和可重写或只读。内存大小可达 1 MB。与标签的通信速度为 212 kbit/sec。示例：索尼费利卡
> 
> **类型 4：**完全兼容 ISO/IEC 14443 (A \& B) 标准系列。此标签类型在制造时预先配置为可读取和可重写或只读。内存大小可高达 32 KB；对于与标签的通信，可以使用符合 ISO 7816-4 的 APDU。与标签的通信速度为 106 kbit/sec。示例：NXP DESfire、NXP SmartMX 与 JCOP。）

此链接包含有关 UID 标签大小和其他规范详细信息的更多信息。

[https://www.tagnfc.com/en/info/11-nfc-tags-specs](https://www.tagnfc.com/en/info/11-nfc-tags-specs)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T14:32:58.847

只是一些位供您考虑：

Broadcom（以前的 Innovision）的 Topaz / Juwel 标签越来越难找到。Broadcom 似乎不再支持他们。

Mifare Classic 不包含在 NFC 标准中。带有 NXP 协议栈的设备（所有都支持 Android 4.1x）无论如何都支持它们，因此它们很受欢迎，因为它们的内存很大。但自从 Android 4.2（例如 Nexus 4 或 Nexus 10）以来，NFC 堆栈来自 Broadcom，不再支持 Mifare 经典。

Felica 标签通常很难找到。

所以安全路线是带有 Mifare UL 或 NXP Ntag 芯片的标签。

# sql - 对字符串变量进行空或空检查

> ID：16080139
> 
> 赞同：24
> 
> 时间：2013-04-18T10:11:16.260
> 
> 标签：sql, sql-server-2008, null, null-check

```
if((isnull(@value,''))='') 
```

我想知道上面的代码是否可以检查变量是空还是空。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-04-18T10:15:30.637

是的，该代码正是这样做的。

您还可以使用：

```
if (@value is null or @value = '') 
```

### 编辑：

使用`@value`作为`int`值的附加信息，您需要：

```
if (@value is null) 
```

一个`int`值永远不能包含该值`''`。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2014-05-12T06:11:37.437

使用这种方式更好

```
if LEN(ISNULL(@Value,''))=0 
```

此检查字段是`empty`或`NULL`

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-04-18T10:16:22.393

是的，您也可以使用`COALESCE(@value,'')=''`基于 ANSI SQL 标准的：

```
SELECT CASE WHEN COALESCE(@value,'')='' 
    THEN 'Yes, it is null or empty' ELSE 'No, not null or empty' 
    END AS IsNullOrEmpty 
```

[**演示**](http://sqlfiddle.com/#!3/d41d8/12627/0)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-18T10:21:59.203

是的，它有效。检查以下示例。假设@value 不是`int`

```
WITH CTE 
AS
(
    SELECT NULL AS test
    UNION
    SELECT '' AS test
    UNION
    SELECT '123' AS test
)

SELECT 
    CASE WHEN isnull(test,'')='' THEN 'empty' ELSE test END AS IS_EMPTY 
FROM CTE 
```

结果 ：

```
IS_EMPTY
--------
empty
empty
123 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-09-24T04:52:44.677

尝试这个：

```
ISNULL(IIF (ColunmValue!='',ColunmValue, 'no units exists') , 'no units exists') AS 'ColunmValueName' 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-03-06T13:18:08.727

```
 IF (LEN(@value) > 0) PRINT 'Variable is not null and not empty' 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-10-21T00:17:13.717

你可以试试

```
<column_name> is null 
```

在`where`条款中。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-02-08T09:52:28.193

你可以试试这个......

```
DECLARE @value Varchar(100)=NULL
IF(@value = '' OR @value IS NULL)
  BEGIN
    select 1
  END
ELSE
  BEGIN
    select 0
  END 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-04-13T10:27:23.537

```
declare @sexo as char(1)

select @sexo='F'

select * from pessoa

where isnull(Sexo,0) =isnull(@Sexo,0) 
```

# css - 浮动+垂直对齐

> ID：16080140
> 
> 赞同：1
> 
> 时间：2013-04-18T10:11:16.193
> 
> 标签：css, css-float, vertical-alignment

如何在 html/css 中实现这一点：

```
Client:                                               Sales person:
John Smith                                            Mike Anderson 
```

所以基本上我需要两个输入在页面左侧垂直平铺，在右侧相同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:13:06.373

你甚至尝试过什么吗？只需使用花车就可以了

HTML

```
<div class="left"></div>
<div class="right"></div>
<div style="clear: both;"></div> 
```

CSS

```
.left {
   float: left;
}

.right {
   float: right;
} 
```

如果它是表格格式，最好使用表格而不是 div

# matlab - || 的操作数 和 && 运算符必须可转换为逻辑标量值

> ID：16080143
> 
> 赞同：9
> 
> 时间：2013-04-18T10:11:21.693
> 
> 标签：matlab, logical-operators

我有一个简单的问题，我正在寻找在 Matlab 中的快速实现。我有一个值数组，比方说：

```
 a = floor(rand(5,5).*255) 
```

然后我有一个类似大小的阈值数组，假设它是：

```
a_thresh = floor(rand(5,5).*255) 
```

对于其中的值，`a`如果它们比`a_thresh`我希望输出为 0 中的相应值小 0.5 倍 - 同样对于 1.2 倍，值`a_thresh`也应设置为零，*即*：

```
a(a < a_thresh.*0.4) = 0
a(a > a_thresh.*1.2) = 0 
```

对于 0.4x 和 0.5x 以及 1.0x 和 1.2x 之间的值，我想要一个比例量，否则在 0.5 和 1.0 之间我想使用`a`未更改的值。我想我可以使用类似以下的东西：

```
 a(a>= a_thresh .* 0.4 && a <a_thresh.* 0.5) = ((a - a_thresh.*0.4)/(a_thresh.*0.5 a_thresh.*0.4)) .* a; 
```

但是，我收到一条错误消息：

> || 的操作数 和 && 操作必须可转换为逻辑标量值

关于如何解决这个问题的任何建议？显然我可以使用循环来做到这一点，这将是微不足道的，但我想保持代码矢量化。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-18T10:16:30.513

问题`&&`是它只能对*标量*进行操作，而`&`也可以对数组进行操作。您应该更改`&&`以`&`使其工作（您可以在[此问题](https://stackoverflow.com/questions/1379415/whats-the-difference-between-and-in-matlab.)中阅读更多相关信息）。

**更新：**
关于评论中描述的第二个问题：左侧的元素数量不同，因为您使用的是索引（仅选择某些元素），而右侧则使用整个矩阵`a`和`a_thresh`.

您需要在两边都使用索引，因此我建议将其存储在一个变量中，然后将其用作数组下标，如下所示：

```
idx = (a >= a_thresh*0.4 & a < a_thresh*0.5);
a(idx) = ((a(idx)-a_thresh(idx)*0.4) ./ (a_thresh(idx)*0.5*a_thresh(idx)*0.4)) .* a(idx); 
```

我不确定计算本身是否正确，所以我会留给你检查。

# primefaces - primefaces: dynamic value for oncomplete attribute of ajax component

> ID：16080144
> 
> 赞同：3
> 
> 时间：2013-04-18T10:11:25.637
> 
> 标签：primefaces

I passed dynamic value for oncomplete attribute

is this correct way to do? (not working)

```
oncomplete="if(myBean.isValid){Confirmation.show()}"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:14:47.977

不，这是错误的。试试这个

`oncomplete="{buyerDelegateBean.valid eq 'true'?Confirmation.show():'else logic'}"/>`

我希望`valid`在您的代码片段中是一个布尔值

# javascript - 从 XML 获取数据并在 DIV 中显示

> ID：16080149
> 
> 赞同：1
> 
> 时间：2013-04-18T10:11:35.917
> 
> 标签：javascript, html, xml

我正在尝试将 XML 数据显示为文本。我正在使用 javascript 获取图像数据，效果很好，但我无法显示文本数据。

这是 XML：

```
<vector>
<pic>
    <ad>01-Wedding.jpg</ad>
    <txt>1</txt>
    <met>Tasarim 1</met>
</pic>
</vector> 
```

这是javascript：

```
<script type="text/javascript">
if (window.XMLHttpRequest) {xmlhttp=new XMLHttpRequest();}
else{xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");}

xmlhttp.open("GET","resimler.xml",false);
xmlhttp.send();
    xmlDoc=xmlhttp.responseXML; 
    x=xmlDoc.getElementsByTagName("pic");
    i=0;

    function displayFoto(){
        ad=(x[i].getElementsByTagName("ad")[0].childNodes[0].nodeValue);
        txt=(x[i].getElementsByTagName("met")[0].childNodes[0].nodeValue);
        document.getElementById("showFoto").src="img/" + ad;
        document.getElementById("metintext").value=txt;}

    function next(){
        if (i<x.length-1){
          i++;
          displayFoto();}}

    function previous(){
        if (i>0){
          i--;
          displayFoto();}}
    </script> 
```

这是div：

```
<div id="container">
<div class="inner-tasarim">
<div id="slideshow">
    <ul class="slides">
    <li><img id='showFoto'/></li>
    </ul>                
    <span class="arrow previous"><img onClick="previous()" src="img/arrow-prev.png">
    </span>
    <span class="arrow next"><img onClick="next()" src="img/arrow-next.png"></span>
    <span class="metinalani"><h2 id='metintext'></h2></span> 
    </div>
</div>
</div> 
```

我究竟做错了什么？

# javascript - Attach data to HTML nodes

> ID：16080155
> 
> 赞同：0
> 
> 时间：2013-04-18T10:12:05.750
> 
> 标签：javascript, jquery, html

This question has been asked before, but most of the answers revolve around HTML5\.

My DOCTYPE is:

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
```

I need to attach data (phone dialling code) to option values of a select:

```
<select id="id_creditCardCountry">  
<option value="ax">Aland Islands - AX</option> 
<option value="al">Albania - AL</option> 
<option value="dz">Algeria - DZ</option><!--e.g. Attach dial code "(+213)" -->
<option value="as">American Samoa - AS</option>
<option value="ad">Andorra - AD</option>
<option value="ai">Anguilla - AI</option>
etc 
```

There seem to be numerous ways to accomplish this. I need to find the best one (by best I mean most cross browser and efficient).

*   The jQuery "data" function [http://docs.jquery.com/Core/data](http://docs.jquery.com/Core/data) -- if this is the best method, can anyone give guidance of how to use in this instance?
*   Set data based on element ID - This involves having to give an id to every option in the select.
*   Further suggestions?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:19:48.857

你可以使用：

```
$("#id_creditCardCountry option[value='ax']").data("dial-code", "+213"); 
```

如果你有一个包含所有国家和拨号代码的 JS 数组，那么你可以遍历它们：

```
for(var i = 1; i <= countryArray.length; i++){
    $("#id_creditCardCountry option[value='"+countryArray[i]+"']").data("dial-code", ""+dialCodeArray[i]+"");
} 
```

但是，如果您已经在输出国家/地区列表，则可能需要考虑在服务器端执行此操作。例如：

```
<option value="ax" data-dial="+213">Aland Islands - AX</option> 
```

# c# - Regular expression group matching not working

> ID：16080156
> 
> 赞同：0
> 
> 时间：2013-04-18T10:12:13.947
> 
> 标签：c#, regex

What am I missing here?

```
Regex _validityRegEx = new Regex(@"^(<minStay>.{2})\/(<maxStay>.{2})$");
Match validityMatch = _validityRegEx.Match("--/3M); 
```

I want two groups one containing the first two characters and one containing the second two after the `/`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:17:03.310

请使用下一个模式（你错过了`?`）：

```
@"^(?<minStay>.{2})/(?<maxStay>.{2})$" 
```

您可以访问这样的组：

```
var minStay = validityMatch.Groups["minStay"].Value
var maxStay = validityMatch.Groups["maxStay"].Value 
```

# c - how to get pointer of pointer of a object in `C`

> ID：16080158
> 
> 赞同：0
> 
> 时间：2013-04-18T10:12:23.840
> 
> 标签：c, pointers

I have a struct variable

```
 struct Var var; 
```

and a function which is from a library

```
 void func(struct Var ** ){} 
```

now I want to call this function can I use

```
 func(&&var); 
```

if so, is there anything to be cautious? if not, any solutions?

thanks!

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T10:15:33.537

具有类型参数的函数`T**`可能会将指针重新分配给不同的值。这意味着`T*`必须传入 a 的地址：

```
struct Var* var;
func(&var);

void func(struct Var ** a_var)
{
    *a_var = malloc(sizeof(struct Var));
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T10:21:23.383

运算符获取表达式的地址，该`&`地址必须是左值（即可以出现在赋值左侧的东西）。`&var`表达式*不能*出现在赋值的左侧，因此不允许使用`&var`in的地址。`& (&var)`

为了传递地址的地址，您需要首先创建一个指针变量，将事物的地址分配给该指针，然后传递指针的地址，如下所示：

```
struct Var myVar; // Initialize myVar
struct Var *ptr = &myVar; // First level of indirection - pointer to struct
func(&ptr); // Second level of indirection - pointer to a pointer 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-18T10:14:06.467

您可以通过以下声明来使用它：

```
struct Var *var;
func(&var); 
```

情况：在这些例子中，您在一个函数中声明指针变量并`allocate`在`func()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-18T10:17:19.793

作为双指针传递参数通常用于获取传递指针的新地址。在您的情况下，您正在传递静态变量的地址，因此它的地址不会改变

# opengl - 每种情况的 GLSL 着色器

> ID：16080166
> 
> 赞同：5
> 
> 时间：2013-04-18T10:12:47.573
> 
> 标签：opengl, glsl

在我的游戏中，我想为每种情况创建单独的 GLSL 着色器。例如，如果我有 3 个模型`character`，`shiny sword`并且`blury ghost`我想设置`renderShader`, `animationShader`and`lightingShader`到 the `character`, then `renderShader`, `lightingShader`and `specularShader`to `shiny sword`, 最后我想设置`renderShader`, `lightingShader`and`blurShader`到`blury ghost`.

应该将顶点的`renderShader`位置乘以投影、世界和其他矩阵，它的片段着色器应该简单地将纹理设置为模型。

`animationShader`应该通过给定的骨骼变换来变换顶点。

`lightingShader`应该做光照，`specularLighting`应该做镜面光照。

`blurShader`应该做模糊效果。

现在首先我如何在不同的着色器上进行多个顶点变换？因为`animationShader`应该计算顶点的动画位置，然后`renderShader`应该得到该位置并通过一些矩阵对其进行转换。

其次，如何更改不同着色器上片段的颜色？

基本思想是我希望能够为每个 sutuations/效果使用不同的着色器，但我不知道如何实现它。

我需要知道我应该如何在 opengl 中使用这些着色器，以及我应该如何使用 GLSL，以便所有着色器能够相互完成，并且着色器不会关心是否使用了另一个着色器。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T11:04:57.717

您所要求的*绝对*不是微不足道的，对于您描述的相对有限数量的“着色器”类型来说，这可能是极端的矫枉过正。

做你想做的需要开发你自己的着色语言。它可能是`#define`GLSL 的高度 d 版本，但您编写的着色器不会是纯 GLSL。它们将具有专门的钩子，并以可以预期代码流入其他代码的方式编写。

您需要有自己的方式来指定语言的输入和输出。当您想将着色器连接在一起时，您必须说明谁的输出到哪个着色器的输入。一些输入可能来自实际的着色器阶段输入，而另一些则来自其他着色器。由着色器写入的一些输出将是实际的着色器阶段输出，而其他输出将馈送到其他着色器。

因此，需要来自另一个着色器的输入的着色器必须在另一个着色器之后执行。您的系统必须计算出依赖关系图。

一旦确定了特定着色器序列的所有输入和输出，就必须获取所有这些着色器文本文件并将它们编译为 GLSL，视情况而定。显然，这是一个不平凡的过程。

您的着色器语言可能如下所示：

```
INPUT vec4 modelSpacePosition;
OUTPUT vec4 clipSpacePosition;

uniform mat4 modelToClipMatrix;

void main()
{
  clipSpacePosition = modelToClipMatrix * modelSpacePosition;
} 
```

您的“编译器”将需要对此进行文本转换，将引用`modelSpacePosition`转换为实际的顶点着色器输入或由另一个着色器写入的变量，视情况而定。同样，如果`clipSpacePosition`要写入 to `gl_Position`，则需要将 to 的所有用途都`clipSpacePosition`转换`gl_Position`。此外，您将需要删除显式输出声明。

简而言之，这将是*很多*工作。

如果您打算这样做，我强烈建议您避免尝试合并顶点着色器和片段着色器的概念。保持此着色器系统在明确定义的着色器阶段内工作。因此，您的“lightingShader”需要是顶点着色器或片段着色器。如果它是一个片段着色器，那么输入它的顶点着色器中的一个着色器将需要以某种方式提供法线，或者您需要片段着色器组件通过某种机制来计算法线。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-18T10:21:09.157

对于着色器阶段的每个组合，您都必须创建一个单独的着色器程序。为了节省工作和冗余，您将使用一些缓存结构为每个请求的组合只创建一次程序，并在请求时重复使用它。

与着色器阶段类似。然而，着色器阶段不能从多个编译单元链接（然而，这是 OpenGL 开发中的持续努力，OpenGL-4 的可分离着色器是那里的垫脚石）。但是您可以从多个来源编译着色器。因此，您可以将每种所需效果的函数编写到单独的源中，然后在编译时将它们组合起来。并再次使用缓存结构将源模块组合映射到着色器对象。

### 因评论而更新

假设您想要一些模块化。为此，我们可以利用 glShaderSource 接受多个源字符串的事实，它只是连接起来。您编写了许多着色器模块。一个做每个顶点的照明计算

```
uniform vec3 light_positions[N_LIGHT_SOURCES];
out vec3 light_directions[N_LIGHT_SOURCES];
out vec3 light_halfdirections[N_LIGHT_SOURCES];

void illum_calculation()
{
    for(int i = 0; i < N_LIGHT_SOURCES; i++) {
        light_directions[i] = ...;
        light_halfdirections[i] = ...;
    }
} 
```

你把它放进去`illum_calculation.vs.glslmod`（文件名和扩展名是任意的）。接下来你有一个做骨骼动画的小模块

```
uniform vec4 armature_pose[N_ARMATURE_BONES];
uniform vec3 armature_bones[N_ARMATURE_BONES];

in vec3 vertex_position;

void skeletal_animation()
{
    /* ...*/
} 
```

把这个放进`illum_skeletal_anim.vs.glslmod`. 然后你有一些常见的标题

```
#version 330
uniform ...;
in ...; 
```

和一些包含主函数的通用尾部，它调用所有不同的阶段

```
void main() {
    skeletal_animation();
    illum_calculation();
} 
```

等等。现在您可以将所有这些模块以正确的顺序加载到单个着色器阶段。您可以对所有着色器阶段执行相同的操作。片段着色器很特别，因为它可以同时写入多个帧缓冲区目标（在足够大的 OpenGL 版本中）。从技术上讲，您可以在各个阶段之间传递很多变化。因此，您可以为每个帧缓冲区目标在着色器阶段之间传递一组自己的变量。然而，几何形状和转换后的顶点位置对所有这些都是通用的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-11-23T17:03:34.347

您必须为要渲染的每个模型提供不同的着色器程序。您可以使用 glUseProgram 函数在不同的着色器组合之间切换。所以在渲染你的角色或闪亮的剑或任何你必须初始化适当的着色器属性和制服之前。

所以这只是游戏代码设计的问题，因为您需要为着色器提供所有统一属性，例如光照信息、纹理样本，并且您必须启用着色器的所有必要顶点属性才能分配位置、颜色等。

这些属性在着色器之间可能不同，并且您的客户端模型可以具有不同类型的顶点属性结构。

这意味着您的代码模型直接影响分配的着色器并依赖于它。

如果您想在不同的着色器程序之间共享通用代码，例如，IlluminateDiffuse，您必须外包此函数并将其提供给您的着色器，只需将表示该函数的字符串文字插入到您的着色器代码中，这只不过是一个字符串文字。因此，您可以通过对着色器代码的字符串操作来实现一种模块化或包含行为。

在任何情况下，着色器编译器都会告诉你出了什么问题。

此致

# java - 在活动之间传递扩展抽象类的对象

> ID：16080167
> 
> 赞同：4
> 
> 时间：2013-04-18T10:12:50.467
> 
> 标签：java, android, oop, android-intent, android-activity

我正在尝试通过为我玩的棋盘游戏制作一个帮助程序来学习 Android 开发。我遇到的情况与[Pass custom object between activities](https://stackoverflow.com/questions/5860346/pass-custom-object-between-activities)中回答的情况非常相似。我的情况不同的是，有问题的自定义对象都在扩展一个抽象类。

抽象类代表一个筹码（类似于纸牌游戏），如下所示：

```
import java.util.ArrayList;

public abstract class Chip{
    protected String name;
    protected int imageID;
    protected ArrayList<String> chipColors;
    protected ArrayList<String> chipTypes;

    public String toString(){
        return name;    
    }

    //Getters
    public String getName(){ return name; }
    public int getImageID() { return imageID; }
    public String getSet() { return set; }
    //Figure out how I need to deal with colors/types when I get there
} 
```

将扩展 Chip 的类的示例：

```
public class ChipA extends Chip{
    public ChipA (){
        super();
        name = "Chip A";
        imageID = R.drawable.chipa;
        set = "Basic";
        chipTypes = new ArrayList<String>();
        chipTypes.add("typeA");
        chipColors = new ArrayList<String>();
        chipColors.add("red");
        chipColors.add("green");
    }
} 
```

我正在采用这种方法，这样我就可以通过调用`new ChipA()`我需要的地方来创建适当类型的新芯片，而不是`new Chip(<long list of arguments that describe Chip A>)`. 我需要将这些筹码的集合从一个活动传递到另一个活动。我已经在我的代码中解决了这个问题，方法是存储我想要在[本文](http://savagelook.com/blog/android/android-extending-application-to-handle-global-configuration)中描述的全局传递的芯片，但是文章的结尾建议使用 Intent Extras 来代替这种操作。有人可以更清楚地解释为什么吗？这只是约定吗？如果只是可读性的问题，这个方法看起来比较简洁易读。

通过阅读，很明显，使用 Intent extras 在活动之间传递任意类的预期方法是让它们实现`Parcelable`。但是，由于我正在处理相关类的许多子类，这意味着将 a`writeToParcel`和 a添加`Parcelable.Creator`到每个子类。（`describeContents()`看起来并不重要，据我所知，我可以在基本抽象类中实现它。）我可能会在这里有很多子类，这意味着添加大量重复代码。在这种情况下，实施是否`Parcelable`仍被视为首选方法？我是否遗漏了一些可以让我减少冗余代码的东西？如果可能的话，我宁愿保持我的 Chip 子类相当紧凑。

请温柔一点，我是 Stack Overflow 和 Android 开发的新手。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:04:31.920

您不会错过任何东西，Parcelable 是执行此操作的首选方式。
我同意它会导致一些样板代码，但这是处理这个问题的干净方法。

可以通过扩展 Application 类来跳过这一点，但它会导致一些复杂性：在某些情况下可以删除 Application 对象，这会导致非常麻烦的错误。以预期的方式处理此问题并为您以这种方式移动的每个对象创建构造函数（包裹）会更容易。

还有一点就是，Singleton 模式本身越来越受到诟病。我不会详细介绍，这些讨论涵盖了该主题：
[https :](https://softwareengineering.stackexchange.com/questions/40373/so-singletons-are-bad-then-what)
[//softwareengineering.stackexchange.com/questions/40373/so-singletons-are-bad-then-what 单身人士有什么不好？](https://stackoverflow.com/questions/137975/what-is-so-bad-about-singletons)

更糟糕的是，在 Android 中，你甚至不能指望一个真正的 Singleton；您没有任何保证您正在操作的应用程序对象（或您自己创建的单例）将在应用程序的生命周期中保持其状态。（随机参考： http: [//portabledroid.wordpress.com/2012/05/04/singletons-in-android/](http://portabledroid.wordpress.com/2012/05/04/singletons-in-android/)）

所以请不要使用 Singleton 来避免编写几个 Parcel。它稍后会回来咬你。

编辑：这里很好地解释了如何重现可怕的应用程序类崩溃： http: [//www.developerphil.com/dont-store-data-in-the-application-object/](http://www.developerphil.com/dont-store-data-in-the-application-object/)

# javascript - For循环不工作

> ID：16080174
> 
> 赞同：1
> 
> 时间：2013-04-18T10:13:18.410
> 
> 标签：javascript

我希望这个函数添加从表单输入的两个值，而不是添加它合并数字的值。如果我输入 2 和 2 它是 22，而我希望输出 4。我认为 for 循环不正常

```
<script>
var calculate = function(){
var input = document.getElementsByTagName("input");
var length = input.length;
for (var i = 0; i < length; i++) {
  input[i] = input[i].value;
  input[i] = parseInt(input[i]);
}
var total_living_room = input[0] + input[1];
document.getElementById("sh").innerHTML=total_living_room;
}
</script> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T10:19:00.860

问题是，它`getElementsByTagName()`返回一个 NodeList 并且没有数组（参见，例如，[MDN on this](https://developer.mozilla.org/en-US/docs/DOM/element.getElementsByTagName)）。

两者在许多方面表现相似，但 NodeList 的元素不能以您的方式更改。

作为解决方案，在第二个数组中解析您的值并使用它：

```
<script>
var calculate = function(){
  var input = document.getElementsByTagName("input"),
      length = input.length,
      inputVals = [];
  for (var i = 0; i < length; i++) {
    inputVals.push( parseInt( input[i].value, 10 ) );
  }
  var total_living_room = inputVals[0] + inputVals[1];
  document.getElementById("sh").innerHTML=total_living_room;
}
</script> 
```

**编辑**

[**示例小提琴**](http://jsfiddle.net/x9xGz/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:18:52.317

为什么你试图用它携带的值覆盖数组中的输入 dom 元素？改成：

```
var cache = [];
for (var i = 0; i < length; i++) {
    cache.push(parseInt(input[i].value, 10));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:22:13.030

在您的代码中`input[0]`并且`input[1]`仍然**是一个元素**，您必须添加它的值，如下所示

```
parseInt(input[0].value) + parseInt(input[1].value) 
```

**小提琴：http:** [//jsfiddle.net/RYh7U/145/](http://jsfiddle.net/RYh7U/145/)

# java - 在 java 中打印文本文件？此文档不符合 Adob e 文档结构约定，可能无法正确打印

> ID：16080176
> 
> 赞同：1
> 
> 时间：2013-04-18T10:13:22.770
> 
> 标签：java, printing, rhel, cups

我用java编写了下面的代码来打印一个简单的文本文件，

```
import java.io.FileInputStream;
import java.io.IOException;
import javax.print.Doc;
import javax.print.DocFlavor;
import javax.print.DocPrintJob;
import javax.print.PrintException;
import javax.print.PrintService;
import javax.print.PrintServiceLookup;
import javax.print.SimpleDoc;
import javax.print.attribute.HashPrintRequestAttributeSet;
import javax.print.attribute.PrintRequestAttributeSet;
import javax.print.attribute.standard.Copies;
public class PrintImage {
  static public void main(String args[]) throws Exception {
    try {
      PrintRequestAttributeSet pras = new HashPrintRequestAttributeSet();
      pras.add(new Copies(1));
/*      PrintService pss[] = PrintServiceLookup.lookupPrintServices(DocFlavor.INPUT_STREAM.TEXT_PLAIN_US_ASCII.AUTOSENSE, pras);
      if (pss.length == 0)
        throw new RuntimeException("No printer services available.");*/
      PrintService ps =  PrintServiceLookup.lookupDefaultPrintService();
      System.out.println("Printing to " + ps);
      DocPrintJob job = ps.createPrintJob();
      FileInputStream fin = new FileInputStream("test.txt");
      Doc doc = new SimpleDoc(fin, DocFlavor.INPUT_STREAM.TEXT_PLAIN_US_ASCII.AUTOSENSE, null);
      job.print(doc, pras);
      fin.close();
    } catch (IOException ie) {
      ie.printStackTrace();
System.out.println(ie.toString());
    } catch (PrintException pe) {
System.out.println(pe.toString());
      pe.printStackTrace();
    }
  }
} 
```

我正在使用带有 JDK1.6.0_43 的 Red Hat Enterprise Server 6.0 作为开发平台。代码执行没有错误。而且我在 CUPS 中验证了作业在打印机队列中排队。但是打印机没有打印作业。我在 CUPS 日志中出现以下错误，

> W [18/Apr/2013:15:09:24 +0530] [Job 15] 此文档不符合 Adob​​e 文档结构约定，可能无法正确打印！

但是相同的程序仅适用于 RHEL6.0 下的 pdf 文件。只有 txt、doc 文件不打印。

另一件事是相同的代码在 Ubuntu 12.04 和 RHEL4.7 下完美运行。但是使用 RHEL6.0 只能打印 pdf 文件。

请帮我解决问题...

# c++ - 将环境变量设置为 GDB 中的空间

> ID：16080177
> 
> 赞同：2
> 
> 时间：2013-04-18T10:13:27.930
> 
> 标签：c++, debugging, gdb

我需要在 GDB 中将环境变量设置为单个空格，但是当我尝试

```
set env VAR ' ' 
```

GDB 实际上将 VAR 设置为 3 个字符的字符串，即引号、空格和引号。有没有办法在 GDB 中正确执行此操作？还是 GDB 只是解析参数并将变量设置为按原样传递的字符串（没有转义等）？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:35:09.657

似乎不能直接使用。内置文档 ( `help set env`) 指出：

```
VALUES of environment variables are uninterpreted strings. 
```

和 GDB 的源代码（特别是`environ.c`和`infcmd.c`）同意这一点，除了删除训练空白之外，没有显示对值的任何显式操作。

# java - QR code reading with camera - Android

> ID：16080181
> 
> 赞同：12
> 
> 时间：2013-04-18T10:13:36.043
> 
> 标签：java, android, camera, qr-code

I am currently researching to build an alarm clock application in Android. I am utterly and completely new to programming with QR codes. I know nothing about it. But right now, I want to find out the feasibility of creating an application with QR code functionality. (I have two weeks to build this)

My first question is: would I have to handle the camera myself in the code i.e. do I have to fire it up and then close it and then process the QR image?

2nd Q: How would I create the QR code and then when I scan it, how does it know it scanned the right one? I want to print one, place it in the kitchen or bathroom and then when the alarm goes off, I have to scan the code before the alarm turns off.

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-18T11:47:56.797

在 Android 中，这需要大约 10 分钟：

[https://github.com/zxing/zxing/wiki/Scanning-Via-Intent](https://github.com/zxing/zxing/wiki/Scanning-Via-Intent)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-18T12:10:21.973

只需下载条形码扫描仪 (QR-Code Scanner) apk 文件。

[http://www.aapktop.com/tag/barcode-scanner-apk](http://www.aapktop.com/tag/barcode-scanner-apk) [http://www.4shared.com/android/2lwrpeHZ/Barcode_Scanner.html](http://www.4shared.com/android/2lwrpeHZ/Barcode_Scanner.html) [http://code.google.com/p/zxing/downloads/ detail?name=BarcodeScanner4.31.apk](http://code.google.com/p/zxing/downloads/detail?name=BarcodeScanner4.31.apk)

将其安装在您的设备上（不在模拟器上）。

现在按照这些步骤。

1.  创建一个新项目
2.  在您的 XML 文件中放置一个按钮。
3.  为它创建一个点击事件并通过意图调用（QR-Code Scanner）作为

    ```
     // Scan Handler
    btnScan.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            Intent intent = new Intent(
                    "com.google.zxing.client.android.SCAN");
            intent.putExtra("SCAN_MODE", "QR_CODE_MODE");
            startActivityForResult(intent, 0);
        }
    }); 
    ```

4.  将 onActivityResult 方法重写为

    ```
    // ZXing Result Handler

    public void onActivityResult(int requestCode, int resultCode, Intent intent) {

    if (requestCode == 0) {
        if (resultCode == RESULT_OK) {

                contents = intent.getStringExtra("SCAN_RESULT"); // This will contain your scan result
                    String format = intent.getStringExtra("SCAN_RESULT_FORMAT");

        }
     } 
    ```

**第二季度**

```
Answer 
```

那里有很多链接，您可以自由生成任何类型的二维码。只需谷歌它“在线二维码生成器” [http://qrcode.kaywa.com/](http://qrcode.kaywa.com/)

# curl - How to use curl get HTML code of webpage that include ajax(lazy load)?

> ID：16080183
> 
> 赞同：2
> 
> 时间：2013-04-18T10:13:38.757
> 
> 标签：curl

I use curl to get html code of webpage for server side.

This is a part of my code

```
curl_setopt($this->ch, CURLOPT_RETURNTRANSFER, 1); 
   curl_setopt($this->ch, CURLOPT_URL, $this->url); 
   curl_setopt($this->ch, CURLOPT_FOLLOWLOCATION, true); 
   curl_setopt($this->ch, CURLOPT_BINARYTRANSFER, $this->binary); 
```

but it can not get html code that include ajax or somthing like this [web page](http://www.mayuki.com.tw/showProduct.aspx?p=3006374).

**look at** `<div id="pdImgs"></div>`

when I use my script it show nothing in that but the truth it has html code between div.

How can I get that by curl or other?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-31T18:29:21.583

标签由 Javascript 或 AJAX 动态加载。所以源代码中的标签是空的。由于 curl 无法执行异步加载数据所需的 javascript。因此，您将标签变为空。

# linux - How can I echo to /dev/tty?

> ID：16080186
> 
> 赞同：8
> 
> 时间：2013-04-18T10:13:47.297
> 
> 标签：linux, shell, cygwin, tty, term

Is there a way to send something like an "end of data" after executing

`echo "test" > /dev/tty1`

in order to gain the "input cursor" back to "receiving" terminal (in this case tty1)?

Screenshot: [http://picload.org/image/acdwigg/tty.png](http://picload.org/image/acdwigg/tty.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:18:04.090

```
$ echo "test" > /dev/tty
test 
```

```
Cygwin 支持 POSIX 系统上常见的以下字符设备：

/dev/tty 会话的当前控制 tty。

```

[`Special filenames`](http://cygwin.com/cygwin-ug-net/using-specialnames.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-04-18T14:44:23.557

使用`echo > /dev/tty`你无法做到这一点。但是您可以通过向使用该 tty 的进程发送信号来做到这一点。

例如：

```
kill -s SIGINT `ps -ft pts/2 | grep pts/2 | cut -d ' ' -f 5` 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-09-28T09:53:55.403

centos 将在您选择的控制台中打印出您的字符串

```
#run on pts/8
[root@C203-ATC ONT]# uname -a
Linux C203-ATC 2.6.32-504.el6.x86_64 #1 SMP Wed Oct 15 04:27:16 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux
[root@C203-ATC ONT]# echo "test" > /dev/pts/3
[root@C203-ATC ONT]# 

[root@C203-ATC BASIC]# tty
/dev/pts/3
#checked on pts/3  
[root@C203-ATC BASIC]# test
(cursor)
#cursor pending ... 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-18T20:58:06.590

你不能那样做。'>' 重定向操作符使得对于整个执行时间标准输入是`echo`命令，并且您不能稍后更改它。

您可能需要重新考虑您的需求和实施。

# internet-explorer - IE9: Form values revert back to old value after AJAX form submit

> ID：16080187
> 
> 赞同：3
> 
> 时间：2013-04-18T10:13:48.770
> 
> 标签：internet-explorer, jquery, internet-explorer-9

I have a very weird issue. I submit a form using jquery submit. everythign works fine on my PC in FF and in IE9\. IE9 is corporate standard and all users have same version installed.

One user now has the issue that after every submit

*   form fields (textareas, select, input) are reverted to the previous value
*   when data is reloaded (AJAX) it displays the old values (even thought the submit before actually did save the update to the database correctly)

The only means to get the new values to display is to restart IE9\. I cleared history (temp files) but that had no effect.

Since this works perfectly fine on my PC with IE9 what settings could affect this? Other ideas? Kind of lost here.

EDIT:

Other users have same problem, while it also works for some like it does on my pc

EDIT 2:

Just for clarification: I want the submitted values to stay in the input fields. The submit is a save and user should be able to continue to enter data and save again later.

EDIT 3:

Tried the reset... button (Resets internet explorer settings) on my PC. Nothing changed. Still works as expected. Problem is I can't easily do that on a users PC because he will lose his whole config.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T12:03:31.083

问题是在表单提交后，数据被重新加载以使用 AJAX 显示更改的元数据（最后更新用户和时间）。由于某种原因，GET AJAX 调用被缓存，因此返回了旧值。出于某种原因，我不知道我的电脑从未缓存过 GET 调用，因此它总是正常工作。

解决方案是禁用缓存：

```
$.ajax({
    "url": url,
    "type": "GET",        
    "cache": false,
    "dataType": 'json',
    //...
}); 
```

# jquery - When one dropdown is opened close another

> ID：16080191
> 
> 赞同：2
> 
> 时间：2013-04-18T10:13:55.210
> 
> 标签：jquery, wordpress, drop-down-menu, forceclose

I have 2 drop-down menus for a mobile responsive site, one is for blog categories and another for a drop-down search box. These work fine but when you open one, then another it can look a little messy. I have been looking for something that when one is open and a user clicks to open another, listen out and close it. I have had a research and i have found that most functions use 'parent' and 'child' but not sure how it can apply to my snippet of code. I have also looked into removing classes but nothing seems to do the trick. If anyone has any suggestions to my problem i'd be grateful.

HTML

```
<div id="nav-mobile-responsive"><!--Mobile Navigation-->
        <div class="categories-mobile-responsive">
            <ul id="nav-1">
                <li>
                  <h3></h3>
                    <ul>
                        <?php wp_list_categories('&title_li=') ?>
                    </ul>
                </li> 
           </ul>        
        </div> 
        <div class="searchbar-mobile-responsive">
            <ul id="nav-2">
                <li><h3></h3>
                    <ul>
                        <form method="get" id="searchform-mobile" action="<?php echo home_url( '/' ); ?>">
                        <div id="search-inputs">
                        <input type="text" value="" name="s" id="search-box" placeholder="SEARCH" />
                        <input type="hidden" name="ref_url" value="<?php esc_url($_SERVER['REQUEST_URI'])?>">
                        </div>
                        </form>
                    </ul>
                </li> 
           </ul>        
        </div> 
    </div> 
```

Javascript to toggle both drop-downs for mobile and small screens:

```
$('.categories-mobile-responsive,.searchbar-mobile-responsive').click(function(){
                $(this).find('ul#nav-1,ul#nav-2').find('ul').slideToggle();
            });

$("#searchform-mobile").click(function(event){ event.stopPropagation(); }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:24:07.000

之前`$(this).find('ul#nav-1,ul#nav-2').find('ul').slideToggle();`，只需向上滑动所有其他下拉菜单。

```
$('.categories-mobile-responsive,.searchbar-mobile-responsive').click(function(){
    $(this).siblings().find('ul ul').slideUp();
    $(this).find('ul#nav-1,ul#nav-2').find('ul').slideToggle();
}); 
```

**额外：**一些代码是不必要的，可以优化（除非您没有提供整个 HTML 结构 - 在这种情况下，这可能会破坏它）：

```
$('nav-mobile-responsive div').click(function(){ //only one selector
    $(this).siblings().find('ul ul').slideUp();
    $(this).find('ul ul').slideToggle(); //only call .find() once
}); 
```

**来源**

[jQuery API - .slideUp()](http://api.jquery.com/slideUp/)
[jQuery API - .siblings()](http://api.jquery.com/siblings/)

# c++ - Linux中mremap函数的特点

> ID：16080192
> 
> 赞同：3
> 
> 时间：2013-04-18T10:13:57.547
> 
> 标签：c++, c, linux

在 Linux 中，mremap 函数用于重新映射使用 mmap 映射的内存。请帮助我澄清以下内容：

1.  如果 mremap 函数失败，旧映射内存的状态是什么？
2.  如果mremap函数失败，是否需要调用函数munmap？
3.  如果 mremap 函数成功，重新映射的内存中是否有任何以前的数据？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:27:26.827

mremap 尝试就地增加分配，但如果不能增加当前区域的大小，则回退到分配新区域。

> mremap() 扩展（或缩小）现有内存映射，可能同时移动它（由 flags 参数和可用虚拟地址空间控制）。[源代码](http://linux.die.net/man/2/mremap)

1.  如果 mremap 失败，旧内存就好了（就像 realloc 一样）。

2.  如果 mremap 失败，则 munmap 没有任何东西（至少来自*这个调用）。*见第 1 项。

3.  如果 mremap 成功并且必须移动，则将旧内存复制到新内存中（并且旧的内存会为您 munmap'ped）。如果 mremap 能够就地增加大小，则不会移动内存并且不会创建新的分配。

# c# - Convert Linq to regular function

> ID：16080196
> 
> 赞同：4
> 
> 时间：2013-04-18T10:14:09.000
> 
> 标签：c#, linq

i have this linq method how get all machine network card properties and i don't want to use linq, can i have some help to convert it and not using Linq ?

```
public NetworkAdapter[] GetAll()
{
    return (from adapter in NetworkInterface.GetAllNetworkInterfaces()
            from uniCast in adapter.GetIPProperties().UnicastAddresses
            where !System.Net.IPAddress.IsLoopback(uniCast.Address) && uniCast.Address.AddressFamily != AddressFamily.InterNetworkV6
            let lastGatewayAddress = adapter.GetIPProperties().GatewayAddresses.LastOrDefault()
            select new NetworkAdapter()
            {
                string Name = adapter.Name,
                string ID = adapter.Id,
                string Description = adapter.Description,
                string IPAddress = uniCast.Address.ToString(),
                string NetworkInterfaceType = adapter.NetworkInterfaceType.ToString(),
                string Speed = adapter.Speed.ToString("#,##0"),
                string MacAddress = getMacAddress(adapter.GetPhysicalAddress().ToString()),
                string gatewayIpAddress = string.Join(" ", adapter.GetIPProperties().GatewayAddresses.Select(a => a.Address))
            }).ToArray();
} 
```

this is what i have try;

```
public void get()
{
    NetworkInterface[] nics = NetworkInterface.GetAllNetworkInterfaces();

    foreach (NetworkInterface adapter in nics)
    {
        Description = adapter.Description;
        Name = adapter.Name;
        MacAddress = adapter.GetPhysicalAddress().ToString();

        IPInterfaceProperties ips = adapter.GetIPProperties();
        UnicastIPAddressInformationCollection uniCast = ips.UnicastAddresses;

        foreach (UnicastIPAddressInformation ipInfo in uniCast)
        {
            if (ipInfo.Address.AddressFamily != AddressFamily.InterNetworkV6)
            {

            }
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T10:22:37.327

虽然我不明白为什么，但还是这样。

在我朋友 ReSharper 的帮助下（以及我的意见，因为 ReSharper 无法做到这一切）：

```
public NetworkAdapter[] GetAll()
    {
        List<NetworkAdapter> list = new List<NetworkAdapter>();
        foreach (NetworkInterface adapter in NetworkInterface.GetAllNetworkInterfaces())
            foreach (UnicastIPAddressInformation uniCast in adapter.GetIPProperties().UnicastAddresses)
            {
                if (!System.Net.IPAddress.IsLoopback(uniCast.Address) && uniCast.Address.AddressFamily != AddressFamily.InterNetworkV6)
                {
                    StringBuilder gatewayIPAddresses = new StringBuilder();
                    string gatewayIPAddressesDisplay = string.Empty;
                    foreach (var address in adapter.GetIPProperties().GatewayAddresses)
                    {
                        gatewayIPAddresses.Append(address.Address);
                        gatewayIPAddresses.Append(" ");
                    }

                    if (gatewayIPAddresses.Length > 0)
                    {
                        gatewayIPAddressesDisplay = gatewayIPAddresses.ToString().TrimEnd(' ');
                    }

                    list.Add(new NetworkAdapter()
                        {
                            Name = adapter.Name,
                            ID = adapter.Id,
                            Description = adapter.Description,
                            IPAddress = uniCast.Address.ToString(),
                            NetworkInterfaceType = adapter.NetworkInterfaceType.ToString(),
                            Speed = adapter.Speed.ToString("#,##0"),
                            MacAddress = getMacAddress(adapter.GetPhysicalAddress().ToString()),
                            gatewayIpAddress = gatewayIPAddressesDisplay
                        });
                }
            }
        return list.ToArray();
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:25:40.253

尝试这个：

```
public NetworkAdapter[] GetAll()
        {
            var networkAdapters = new List<NetworkAdapter>();

            foreach (NetworkInterface adapter in NetworkInterface.GetAllNetworkInterfaces())
            {
                foreach (UnicastIPAddressInformation uniCast in adapter.GetIPProperties().UnicastAddresses)
                {
                    if (!System.Net.IPAddress.IsLoopback(uniCast.Address) &&
                        uniCast.Address.AddressFamily != AddressFamily.InterNetworkV6)
                    {
                        GatewayIPAddressInformation lastGatewayAddress = adapter.GetIPProperties().GatewayAddresses.LastOrDefault();

                        networkAdapters.Add(new NetworkAdapter()
                                                {
                                                    Name = adapter.Name,
                                                    ID = adapter.Id,
                                                    Description = adapter.Description,
                                                    IPAddress = uniCast.Address.ToString(),
                                                    NetworkInterfaceType = adapter.NetworkInterfaceType.ToString(),
                                                    Speed = adapter.Speed.ToString("#,##0"),
                                                    MacAddress = getMacAddress(adapter.GetPhysicalAddress().ToString()),
                                                    gatewayIpAddress = string.Join(" ", adapter.GetIPProperties().GatewayAddresses.Select(a => a.Address))
                                                });
                    }
                }
            }

            return networkAdapters.ToArray();
        } 
```

# android - HTC 令人难以置信的设备 android 中的蓝牙连接失败？

> ID：16080197
> 
> 赞同：2
> 
> 时间：2013-04-18T10:14:10.160
> 
> 标签：android, bluetooth, android-wireless

我正在开发一个具有蓝牙连接的安卓应用程序。这里我使用下面的代码来连接套接字。

```
BluetoothSocket mmSocket = mmDevice.createRfcommSocketToServiceRecord(MY_UUID); 
```

这适用于所有设备，但不适用于 HTC 设备。所以我使用了另一个代码来连接仅适用于下面描述的 htc 设备的套接字。

连接在一段时间内建立良好，但一段时间后连接丢失。

```
Method m = mmDevice.getClass().getMethod("createRfcommSocket", new Class[] {int.class});
mmSocket = (BluetoothSocket) m.invoke(mmDevice, 1); 
```

这是我的 Logcat，而蓝牙连接丢失

```
04-18 12:21:04.962: E/BB_LOGS(4285): disconnected
04-18 12:21:04.962: E/BB_LOGS(4285): java.io.IOException: Software caused connection abort
04-18 12:21:04.962: E/BB_LOGS(4285):    at android.bluetooth.BluetoothSocket.readNative(Native Method)
04-18 12:21:04.962: E/BB_LOGS(4285):    at android.bluetooth.BluetoothSocket.read(BluetoothSocket.java:333)
04-18 12:21:04.962: E/BB_LOGS(4285):    at android.bluetooth.BluetoothInputStream.read(BluetoothInputStream.java:96)
04-18 12:21:04.962: E/BB_LOGS(4285):    at java.io.InputStream.read(InputStream.java:163)
04-18 12:21:04.962: E/BB_LOGS(4285):    at com.fitness.BluetoothService$ConnectedThread.run(BluetoothService.java:592) 
```

请告诉我一个用于连接 HTC 所有设备的蓝牙代码的工作程序

# android-sqlite - 我的 Sqlite 数据库图标在文件资源管理器中不可见？

> ID：16080205
> 
> 赞同：1
> 
> 时间：2013-04-18T10:14:43.180
> 
> 标签：android-sqlite

![我在这里附上了我的截图](https://i.stack.imgur.com/Ke4SA.png)

1.如何在eclipse中创建sqlite数据库。

2.我的SQLite图标在文件资源管理器中不可见。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T11:14:11.230

## 如果您在**Android 设备中测试**[本教程，那么您在](http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/)**FileExplorar 中看**不到 db 文件

 ****对于模拟器：之后在模拟器中运行

## 去**DDMS--->文件浏览器-->data/data/com.androidhive.androidsqlite/databases/contactsManager**

`contactsManager`你的数据库文件在哪里

![在此处输入图像描述](https://i.stack.imgur.com/veLwt.jpg)

![在此处输入图像描述](https://i.stack.imgur.com/RzMuC.jpg)

* * *

编辑：

[使用模拟器或设备的文件系统](http://developer.android.com/tools/debugging/ddms.html)

DDMS 提供了一个文件资源管理器选项卡，允许您查看、复制和删除设备上的文件。此功能在检查由您的应用程序创建的文件或如果您想要将文件传输到设备或从设备传输文件时很有用。

要使用模拟器或设备的文件系统：

在“设备”选项卡中，选择要查看其文件系统的模拟器。要从设备复制文件，请在文件资源管理器中找到该文件，然后单击“拉取文件”按钮。要将文件复制到设备，请单击文件资源管理器选项卡上的推送文件按钮。

所以，你必须从设备中提取文件。然后在安装打开的 sqliteBrowser 后**下载并安装**sqlitebrowser。将您的数据库文件拖放到 sqliteBrowser。****

# android - 访问 JSON 文件，AsyncTask 错误

> ID：16080212
> 
> 赞同：1
> 
> 时间：2013-04-18T10:15:10.427
> 
> 标签：android, json, android-asynctask

有一个`JSON`输出：

```
{"status":"error","data":null,"message":"required parameters not available."} 
```

要访问它，有一个**JSON Parsing** java 类和一个**User Function** java 类。

我在`JSON`AsyncTask 中的 LoginActivity 上访问此文件时感到困惑。该任务引发**空指针**异常。我真的认为不提及“状态”是造成这种情况的原因……但这就是真正的原因吗？我是android新手，所以我没有好主意。请帮忙。代码如下：

**JSONParser.java**

```
public class JSONParser {

    static InputStream is = null;
    static JSONObject jObj = null;
    static String json = "";
    static int GET = '1';
    static int POST ='2';

    // constructor
    public JSONParser() {

    }

    public JSONObject getJSONFromUrl(String url, List<NameValuePair> params, int method) throws URISyntaxException {

        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpResponse httpResponse = null;
        HttpEntity httpentity = null;

        try {
            switch (method) {
            case 1: 
                if(params!=null){
                    String paramString = URLEncodedUtils.format(params, "utf-8");
                    url += "?" + paramString;   
                }

                Log.e("URL", url);
                HttpGet httpGet = new HttpGet(url);
                httpResponse = httpClient.execute(httpGet);
                httpentity = httpResponse.getEntity();          

                break;
            case 2: 
                HttpPost postrequest = new HttpPost(url);
                postrequest.setEntity(new UrlEncodedFormEntity(params));
                httpResponse = httpClient.execute(postrequest);
                httpentity = httpResponse.getEntity();

                break;
            }

            is = httpentity.getContent();

        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        try {
            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    is, "iso-8859-1"), 8);
            StringBuilder sb = new StringBuilder();
            String line = null;
            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }
            is.close();
            json = sb.toString();
            Log.e("JSON", json);
        } catch (Exception e) {
            Log.e("Buffer Error", "Error converting result " + e.toString());
        }

        // try parse the string to a JSON object
        try {
            jObj = new JSONObject(json);            
        } catch (JSONException e) {
            Log.e("JSON Parser", "Error parsing data " + e.toString());
        }

        // return JSON String
        return jObj;

    }

} 
```

**用户函数.java**

```
public class UserFunctions {

    private JSONParser jsonParser;
    private static String url_login = "http://10.0.0.2/blamethestars2/public/api/user/login";

    static int GET = '1';
    static int POST ='2';

    // constructor
    public UserFunctions(){
        jsonParser = new JSONParser();
    }

    public JSONObject login(String username, String password){
        JSONObject json = null;

        List<NameValuePair> params = new ArrayList<NameValuePair>();
        params.add(new BasicNameValuePair("email", username));
        params.add(new BasicNameValuePair("password", password));
        try {
            json = jsonParser.getJSONFromUrl(url_login, params, POST);

        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        return json;

    }
} 
```

**登录活动.java**

```
public class LoginActivity extends Activity{

    EditText username, password;
    String user, pass;
    Button submit;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.sign_in);
        username = (EditText)findViewById(R.id.user_email);
        password = (EditText)findViewById(R.id.user_password);

        submit = (Button)findViewById(R.id.user_submit);

        submit.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                user = username.getText().toString();
                pass = password.getText().toString();
                if(user.length()<1 || pass.length()<1){
                    Toast.makeText(getApplicationContext(), "fill user name and pass", Toast.LENGTH_SHORT).show();
                }else{
                    new Asynconnection().execute();
               }
            }
        });
    }   

    public class Asynconnection extends AsyncTask<Void, Void, Void>{
        JSONObject jsarray;
        @Override
        protected Void doInBackground(Void... params) {
            UserFunctions users = new UserFunctions();
            jsarray = users.login(user, pass);      

            return null;
        }
    }

} 
```

*现在我只是想检查 api 响应是否出现在 logcat 上*

**日志错误：**

```
04-18 16:07:01.190: W/System.err(874): java.lang.NullPointerException
04-18 16:07:01.260: W/System.err(874):  at com.example.btshome.library.JSONParser.getJSONFromUrl(JSONParser.java:66)
04-18 16:07:01.260: W/System.err(874):  at com.example.btshome.library.UserFunctions.login(UserFunctions.java:38)
04-18 16:07:01.270: W/System.err(874):  at com.example.btshome.LoginActivity$Asynconnection.doInBackground(LoginActivity.java:54)
04-18 16:07:01.270: W/System.err(874):  at com.example.btshome.LoginActivity$Asynconnection.doInBackground(LoginActivity.java:1)
04-18 16:07:01.280: W/System.err(874):  at android.os.AsyncTask$2.call(AsyncTask.java:287)
04-18 16:07:01.280: W/System.err(874):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
04-18 16:07:01.280: W/System.err(874):  at java.util.concurrent.FutureTask.run(FutureTask.java:137)
04-18 16:07:01.293: W/System.err(874):  at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
04-18 16:07:01.293: W/System.err(874):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
04-18 16:07:01.300: W/System.err(874):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
04-18 16:07:01.320: W/System.err(874):  at java.lang.Thread.run(Thread.java:856) 
```

# c++ - 为什么 C++ 不允许我使用 typeof？

> ID：16080213
> 
> 赞同：11
> 
> 时间：2013-04-18T10:15:11.567
> 
> 标签：c++, visual-c++, c++11

我在 C++11 中使用以下代码并收到一个我不允许使用的错误`typeof`！

有什么问题以及如何解决这个问题？

错误 ：

```
Error   10  error C2923: 'typeof' is not a valid template type argument for parameter 'C' 
```

这是我的代码：

```
#define HIBERLITE_NVP(Field) hiberlite::sql_nvp< typeof(Field) >(#Field,Field)

class Person{
friend class hiberlite::access;
template<class Archive>
void hibernate(Archive & ar)
{
    ar & HIBERLITE_NVP(name); //ERROR
    ar & HIBERLITE_NVP(age);  //ERROR
    ar & HIBERLITE_NVP(bio);  //ERROR
}
public:
string name;
double age;
vector<string> bio;
}; 
```

sql_nvp 是这样的：

```
template<class C>
 class sql_nvp{
public:
    std::string name;
    C& value;
    std::string search_key;

    sql_nvp(std::string _name, C& _value, std::string search="") :    name(_name), value(_value), search_key(search) {}
 }; 
```

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-04-18T10:16:46.743

您正在寻找的是`decltype()`：

```
#define HIBERLITE_NVP(Field) hiberlite::sql_nvp< decltype(Field) >(#Field,Field)
//                                               ^^^^^^^^ 
```

C++ 没有称为`typeof`.

# sql - Correct way to handle anonymous and registered users

> ID：16080214
> 
> 赞同：1
> 
> 时间：2013-04-18T10:15:21.800
> 
> 标签：sql, database, database-design, relational-database, database-schema

I am developing an a game application and is debating which is the correct way to handle which user is the owner of a played game.

You can either play as an anonymous guest who only has to provide your location or as a registered user. All users are stored in the database. Once you complete a game a database entry is added with you score and I also want to log who played the game.

The table looks as follows:

USERS ( id | user_name | password | country ) GAMES ( id | user_id | score )

As of now I just store a reference to USERS(id) in GAMES(user_id), how should I handle anonymous users though?

One way is to store every anonymous user as just an id and location and then add a column to GAMES called anonymous_id. But then one of user_id or anonymous_id would have to be NULL for every game depending on if the player was registered or not.

Another way would be to just add all the anonymous users to the USER table and allow user_name and password to be null.

Is there a better way to handle this?

Any advice appreciated.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:04:29.437

如果您将国家/地区存储在其他地方，我不会在 User 表中为每个匿名用户添加一个事件。因为对于每个匿名用户，您将插入 2 行（用户中的 1 行，游戏中的 1 行）。

相反，你可以

```
GAMES ( id | user_id | score | country_id) 
```

user_id 和 country_id 都是可以为空的外键。

当注册用户结束游戏时，您存储 user_id。您可以将 country_id 保留为空，因为这将是重复数据的情况。当匿名用户结束游戏时，您只需将得分和 country_id 存储在 Games 中。

您可以通过在游戏中过滤来识别匿名用户`user_id is null`，并且仍然可以按用户和国家/地区进行排名。

# c - 什么是“悬挂参考”和“一般保护故障”？

> ID：16080215
> 
> 赞同：9
> 
> 时间：2013-04-18T10:15:23.477
> 
> 标签：c, memory, memory-leaks

当我在研究一些与内存泄漏相关的东西时，我在网上遇到了这个问题。

```
int* Function()

{

   int arrays[10];

     /* Some code here */

   return &(arrays[0]);

} 
```

作者说上面这段代码是有效的，但是返回的内存会被你调用的下一个函数重用，所以同一块内存会被用于两个目的。这被称为“悬挂参考”，可能会导致可怕的间歇性故障或老式的“一般保护故障”。

如果有人能解释什么是“悬挂参考”和“一般保护故障”，那就太好了

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:31:59.073

这并不完全泄漏内存，因为分配的数组将在函数返回时自动释放。这就是悬挂引用的含义，您正在返回一个指向在堆栈上分配的一些内存的指针。当函数返回时，堆栈分配的数组被释放，因此内存中的位置可能会被下一个函数调用的数据覆盖，因此取消引用返回的指针将给出未定义的值。这很可能会导致一般保护错误，因为指针的值可能会发生变化，使其指向有效地址空间之外，取消这样的指针会导致一般保护错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T10:27:03.120

我不知道这些是否是官方解释，但我希望它对这个例子有更好的意义：

悬挂引用：return 语句返回数组的引用（指针）。但是，内存在函数关闭后被（或可以）移除，因此存在一个不指向已分配内存的引用，称为挂起引用。

这可能导致一般保护故障。一般来说，不应该写入未分配的内存。如果您尝试这样做，操作系统可能会引发一般保护错误。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-18T10:27:26.317

`arrays`调用时在栈上分配`Function`。`Function`返回分配在堆栈上的结构的地址。返回时`Function`堆栈指针被弹回，但其数据仍在堆栈上。当先前释放的堆栈区域将被另一个函数或范围使用时，该函数会将其本地范围数据写入堆栈的一部分，该部分仍可能从先前返回的指针访问。

这有两个后果：

*   如果您尝试从外部访问数组数据`Function`，这些数据将不再可靠，并且将（很快或更少）被覆盖该堆栈区域的新分配破坏。
*   在堆栈上分配的新函数，如果没有初始化它的所有字段，可能包含一些脏数据

结果是未定义的行为，也可能取决于您的编译器和编译选项。

# c# - 解析查询时出错。[令牌行号=1，令牌行偏移量=52，令牌错误=）]

> ID：16080218
> 
> 赞同：1
> 
> 时间：2013-04-18T10:15:27.867
> 
> 标签：c#, visual-studio-2010, sql-server-ce

在尝试将数据插入到我的 SQl db 时，我收到以下错误 SqlCeException 未处理：解析查询时出错。[令牌行号= 1，令牌行偏移量= 52，错误令牌=）]我从表customerinfo中检索数据的代码行是

```
SqlCeConnection con = new SqlCeConnection("Data Source = ward.sdf;password=wardrobe");
con.Open();
SqlCeCommand com = con.CreateCommand();
com.CommandText= "select name from customerinfo where [id] =" + textBox1.Text;
SqlCeDataReader reader = com.ExecuteReader();
reader.Read();
textBox2.Text = reader.GetValue(0).ToString(); 
```

我正在尝试从数据库中获取数据并将其放入文本框中。错误显然与第 5 行有关。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:30:01.190

在不知道字段 ID 的数据类型的情况下，很难给出正确的答案。但是假设这个字段是 Text 类型，那么你应该用

```
com.CommandText= "select name from customerinfo where id =@id";
com.Parameters.AddWithValue("@id", textBox1.Text);
SqlCeDataReader reader = com.ExecuteReader();
if(reader.Read())
   textBox2.Text = (!reader.IsDBNull(reader.GetOrdinal("name")) ? reader[0].ToString() : string.Empty); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-24T07:10:26.023

我正在使用 Visual Studio 2008，我的目标设备是 WINCE 设备。

在将任何值插入 SQL Server 数据库时，出现错误“解析查询错误 [令牌行号 = 1 令牌行偏移 = 29 错误中的令牌 = 1]”。

经过多次跟踪后，我发现了我的错误实际上在哪里。早些时候，在给出列名时，我把它命名为 "Ch 1" ， "Ch 2" 。我只是更改了我的列名并将其设置为“Ch1”和“Ch2”，即我删除了空格并且它起作用了。

这是我的工作代码

```
private void btnInsert_Click(object sender, EventArgs e)
        {
            SqlCeCommand cmd = con.CreateCommand();
            cmd.CommandText = "INSERT INTO Tb (Ch1, Chl2) VALUES (?, ?)";

            cmd.Parameters.Add(new SqlCeParameter("p1", SqlDbType.NText));
            cmd.Parameters.Add(new SqlCeParameter("p2", SqlDbType.Int));
            cmd.Parameters["p1"].Size = 50;

            cmd.Prepare();
            cmd.Parameters["p1"].Value =textBox1.Text;
            cmd.Parameters["p2"].Value =textBox2.Text;
            cmd.ExecuteNonQuery();
            cmd.Parameters.Clear();
            displayTable();

        }
  private void displayTable()
        {
           SqlCeCommand cmd = new SqlCeCommand("SELECT * FROM Tb", con1);
           SqlCeDataReader reader = cmd.ExecuteReader();
           DataTable table = new DataTable();
           table.Columns.Add("Ch1", typeof(int));
           table.Columns.Add("Ch2", typeof(string));

           while (reader.Read())
           {
               table.Rows.Add(reader.GetInt32(0), reader.GetString(1));
           }
           reader.Close();
           dataGrid1.DataSource = table;

        } 
```

希望它会帮助你。

有关详细信息，请参阅下面的链接 [http://technet.microsoft.com/en-us/library/aa226134%28v=sql.80%29.aspx](http://technet.microsoft.com/en-us/library/aa226134%28v=sql.80%29.aspx)

# sql - MS Access 更新 Oracle 数据库 - 查询问题

> ID：16080219
> 
> 赞同：2
> 
> 时间：2013-04-18T10:15:29.073
> 
> 标签：sql, oracle, ms-access, sql-update

我目前遇到更新查询的问题，该查询更新了我们的一个 Oracle 表中的一列。基本上，我们将一个 CSV 文件导入 Access，将其命名为“NewULN”，然后使用该文件中的标准来更新我们的表。

如果您手动输入人员代码，此脚本可以正常工作。它用正确的结果相应地更新表。代码如下：

```
UPDATE NewULN INNER JOIN FES_PEOPLE ON NewULN.MISIdentifier = FES_PEOPLE.PERSON_CODE SET FES_PEOPLE.UNIQUE_LEARN_NO = [NewULN].[ULN]
WHERE (NewULN.ULN Is Not Null) AND (FES_PEOPLE.PERSON_CODE=[Enter Person Code]); 
```

我们现在希望一次更新所有记录，但我们一直很难做到这一点。这是我认为下面的代码可以：

原始代码：

```
UPDATE NewULN INNER JOIN FES_PEOPLE ON NewULN.MISIdentifier = FES_PEOPLE.PERSON_CODE SET FES_PEOPLE.UNIQUE_LEARN_NO = [NewULN].[ULN]
WHERE (NewULN.ULN Is Not Null) AND (FES_PEOPLE.PERSON_CODE=NewULN.MISIdentifier); 
```

最新版本（基于建议）：

```
UPDATE NewULN INNER JOIN FES_PEOPLE ON NewULN.MISIdentifier = FES_PEOPLE.PERSON_CODE SET FES_PEOPLE.UNIQUE_LEARN_NO = [NewULN].[ULN]
WHERE (NewULN.ULN Is Not Null); 
```

但是我们遇到了各种各样的错误——有时当您尝试运行访问查询时，Access 会崩溃。

有时它会出现锁冲突（有趣的是，它会更新第一条记录，然后失败所有其他记录）。有时会弹出错误“FES_PEOPLE - 'invalid number'”，有时会弹出“只能绑定长值以插入长列”。

字段 ULN 一直是 Text 并且以前一直有效，MISIdentifier 也一直是 Text（当我们在 Windows XP 上运行此版本时）但现在我已将其更改为 Long Int。

这不是我最初写的，在我们将机器升级到 Windows 7 后它停止工作，所以我现在不得不在几乎不了解 Access 的情况下重写它。

感谢我提前收到的任何回复

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:28:59.950

在您的第二个查询中，您已经在执行 JOIN，`NewULN.MISIdentifier = FES_PEOPLE.PERSON_CODE`因此在 WHERE 子句中包含该条件也是多余的。也许这会给作品带来麻烦？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-09T14:40:46.887

您使用什么 ODBC 驱动程序连接到 Oracle？如果使用 Microsoft for Oracle 驱动程序，请尝试改用 Oracle 驱动程序。MS 驱动程序自第 7 版以来未更新，不应使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-14T09:44:01.680

事实证明，创建一个新的 Access 数据库并再次重新链接所有表使该查询能够工作。语法没有问题:-)

# android - 视频无法在 flowplayer 的 Facebook 分享中播放

> ID：16080221
> 
> 赞同：2
> 
> 时间：2013-04-18T10:15:33.290
> 
> 标签：android, facebook, cordova, phonegap-plugins

我想通过我的 android phonegap applicatoion 在 facebook 上分享视频。它可以在 facebook 上分享带有图片的视频。但无法播放视频。我集成了flowplayer。我在我的服务器上传flowplayer.commercial-3.2.15.swf、flowplayer.controls-3.2.14.swf、flowplayer.pseudostreaming-3.2.11.swf和fp.js，代码如下：

```
function facebookWallPost(e) {
var id = e;
$.post('http://influxhostserver.com/phonegap/previewvideo.php',
    {'id':id},
    function(result)
    {
        //alert(result);
        var res = eval('('+result+')');
        var id = res['id'];
        var video_no = res['video_no'];
        var username = res['full_name'];
        var video_title = res['video_title'];
        var video_desc = res['video_desc'];
        var pic = 'http://influxhostserver.com/phonegap/thumbnail/320*214/'+video_no+'.jpg';
       var vid = 'http://influxhostserver.com/phonegap/video/'+video_no+'.mp4';

        var swfURL ='http://influxhostserver.com/phonegap/video/flowplayer.commercial-3.2.15.swf?file='+vid;
        FB.init({

            //appId : "168284719986345",
            appId : "318021858301087",
            nativeInterface : CDV.FB,
            useCachedDialogs : false
        });
        console.log('Debug 1');
        var params = {
            method: 'feed',
            name: video_title,
            picture: pic,
            link:'gratitube.com',
            caption: 'Reference Documentation',
            description: video_desc,
            width: 400, 
            height: 300,
            source:swfURL,
            type: 'video/mp4',
        };
        console.log(params);
        FB.ui(params, function(obj) { console.log(obj);});

    }
); 
```

}

# java - 如何在 Junit 中清除 afterClass 提交的实例？

> ID：16080223
> 
> 赞同：3
> 
> 时间：2013-04-18T10:15:40.357
> 
> 标签：java, junit, theory

我正在寻找一种方法来收集和发布这些`myResults`. 但是 Junit`@AfterClass`只支持静态方法。

如果我有一个超类如果正在运行多个测试用例，它可能很难看。知道如何解决这个问题吗？如果我使用 after，我不会得到 myresult 收集的完整输出

```
abstract class MainTestCase{
  static List<String> myResults = new ArrayList();

  @AfterClass public static void WrapUp() {

    //code to write the myResults to text file  goes here
    System.out.println("Wrapping Up");
    myResults.clear()
  }

}

@RunWith(Theories.class)
public class TheoryAfterClassTest extends MainTestCase {

  @DataPoint
  public static String a = "a";

  @DataPoint
  public static String b = "bb";

  @DataPoint
  public static String c = "ccc";

  @Theory
  public void stringTest(String x, String y) {
    myResults.add(x + " " + y);
    System.out.println(x + " " + y);
  }      
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-19T07:32:12.007

投入`List<String> myResults;`a`ThreadLocal`可能会解决问题，这就是您所有的并行测试用例将如何拥有自己的`myResults`.

```
static ThreadLocal<List<String>> myResults = new ThreadLocal<>();

@BeforeClass
public static void setUpClass() {
    myResults.set(new ArrayList<String>());
}

// use it later in your code
@Test
public void myTestCase() {
     myResults.get().add("result");
} 
```

# c++ - Convert lat long to X Y coordinates C++

> ID：16080225
> 
> 赞同：6
> 
> 时间：2013-04-18T10:15:44.277
> 
> 标签：c++

I have a vector full of Lat Long coordinates in this format

```
82.0000000, -180.0000000 
```

I am trying to convert them into an X and a Y coordinate to plot them to a map using this code, which as far as i can see is right...

X:

```
double testClass::getX(double lon)
{
    // Convert long to X coordinate (2043 = map width)
    double x =  lon;
    // Scale
    x =         x * 2043.0 / 360.0;
    // Center
    x +=        2043.0/2.0;
    return x;
} 
```

Y:

```
double testClass::getY(double lat)
{
    // Convert lat to Y coordinate (1730 = map height)
    double y =  -1 * lat;
    // Scale
    y =         y * 1730.0 / 180.0;
    // Center
    y +=        1730.0/2.0;
    return y;
} 
```

However when plotted on my map i can see the points do resemble a world map but they are all off by x amount and i think its something to do with my scaling

any ideas?

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-18T12:46:21.077

好的，我找到了答案

```
double testClass::getX(double lon, int width)
{
    // width is map width
    double x = fmod((width*(180+lon)/360), (width +(width/2)));

    return x;
}

double testClass::getY(double lat, int height, int width)
{
    // height and width are map height and width
    double PI = 3.14159265359;
    double latRad = lat*PI/180;

    // get y value
    double mercN = log(tan((PI/4)+(latRad/2)));
    double y     = (height/2)-(width*mercN/(2*PI));
    return y;
} 
```

所以是的，这在使用墨卡托地图时非常有效

# java - Java : Datastructure to stock lots of words

> ID：16080226
> 
> 赞同：6
> 
> 时间：2013-04-18T10:15:47.423
> 
> 标签：java, data-structures

I have to stock lots of word (+200k) in a Java program and I want to access them really fast. I just need to know if a given word belongs to my "dictionary". I don't need a pair like `<word, smthg>`. If possible I'm searching a solution in the standard library.

PS : Maybe using a data structure is not the better way to do this ? Reading each time the file containing the words will be more efficient ?

edit : It's a small project. I have to deal with effectiveness and the memory

Last Edit : I finally choose HashSet.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T10:21:51.663

使用 java Sets 因为集合是线性排序的数据结构，如 TreeSet。因此，对于搜索，可以实现像二分搜索这样的技术，而且它们速度很快，没有重复。

这是一个java Sets的结构。

![在此处输入图像描述](https://i.stack.imgur.com/yIuuO.jpg)

此外，它不会允许重复，从而减少冗余并节省您的内存。

如果您想了解各种搜索算法的复杂性，请参阅此链接。这是

[http://bigocheatsheet.com/](http://bigocheatsheet.com/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-18T10:20:47.190

根据单词的分布使用[Trie](http://en.wikipedia.org/wiki/Trie)或[Patricia 树。](http://en.wikipedia.org/wiki/Radix_tree)我个人会选择 Patricia 树，因为它更适合内存使用（尽管它更难实现）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T11:36:02.490

也许您想测试我的`TrieMap`或`TrieSet`实现（[在此处找到](https://gist.github.com/klatu/5360669)）？我专门为这种情况编写了它们。到目前为止，我已经实现了尝试`String`和`byte[]`键。

```
 TrieSet<String> t = Tries.newStringTrieSet();

    t.add("hello");
    t.add("help");
    t.add("hell");
    t.add("helmet");
    t.add("hemp");

    List<String> resultsA = new ArrayList<>();
    t.findElements("hel", true, resultsA);    // search for prefix

    List<String> resultsB = new ArrayList<>();
    t.findElements("ell", false, resultsB);   // search for substring

    System.out.println("A: " + resultsA);
    System.out.println("B: " + resultsB); 
```

这将打印：

```
A: [hell, hello, helmet, help]
B: [hell, hello] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-18T11:41:26.963

这对我来说看起来很不错，我不知道我是否因为某种原因错了：

```
//put all your words to an ArrayList and sort the list.
List <String> arr = new Arraylist<>();
while(there is next)
    arr.add(theWord)
Collections.sort(arr);

//this is your search method
boolean mysearch(keyword){
    return Collections.binarySearch(arr, keyword)
} 
```

性能是：`O(n*log_n)`对于插入数据和搜索是`O(log_n)`

假设每个字符串平均为 20B。`20B *200000 = 4MB`空间。

# windows-7 - python 3上的Spynner模块

> ID：16080230
> 
> 赞同：2
> 
> 时间：2013-04-18T10:15:51.770
> 
> 标签：windows-7, pyqt4, python-3.3, spynner

我使用 python 的**2to3.py**来修复 spynner 模块。然后，python 3 上的 QString 似乎存在问题。按照一些用户的建议，我使用**QString = str修改了 spynner 中的 browser.py。**首先，我尝试了以下代码

```
import spynner
browser = spynner.Browser()
browser.set_proxy("http://username:password@host:3128")
browser.load("http://www.google.com/") 
```

现在python抛出以下错误

```
File "G:\Python33\lib\site-packages\spynner\browser.py", line 1163, in runjs
js_has_runned_successfully = res.isValid() or res.isNull()
AttributeError: 'str' object has no attribute 'isValid' 
```

res 在 browser.py 中定义为

```
res = self.webframe.evaluateJavaScript(jscode) 
```

spynner 真的可以在 python 3 上工作吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-07-15T13:41:23.793

这对我有用。更改此行

```
js_has_runned_successfully = res.isNull() or res.isValid() 
```

到这些行：

```
if res is None:
      js_has_runned_successfully = True
else:
      js_has_runned_successfully = isinstance(res, str) 
```

我认为没有任何计划让 spynner 与 python 3 [https://github.com/kiorky/spynner/issues/9](https://github.com/kiorky/spynner/issues/9)一起工作。但是我可以通过运行这些 sed 命令来使用它（我没有尝试修复整个代码库，我只是想让它在我的应用程序上运行）：

```
sed -i "s/from PyQt4.QtCore import SIGNAL, QUrl, QString, Qt, QEvent/from PyQt4.QtCore import SIGNAL, QUrl, Qt, QEvent/g" browser.py
sed -i "s/if isinstance(s, QString)/if isinstance(s, str)/g" browser.py
sed -i "s/js_has_runned_successfully = res.isNull() or res.isValid()/if res is None:\n                 js_has_runned_successfully = True\n            else:\n                 js_has_runned_successfully = isinstance(res, str)/g" browser.py
sed -i "s/.toUtf8()/.encode('utf-8')/g" browser.py 
```

# magento - Magento 自定义主题拉入图像而不是样式或脚本

> ID：16080235
> 
> 赞同：1
> 
> 时间：2013-04-18T10:16:14.770
> 
> 标签：magento, content-management-system, e-commerce, skin

我有一家 magento 商店，我正在尝试开发自定义主题。我将文件从 skin/frontend/default/default 和 app/design/frontend/default/default 分别复制到 skin/frontend/occasions/occasions 和 app/design/frontend/occasions/occasions，然后进入 system->configuration- >设计并将所有包和主题文本框更改为场合，但是当我加载我的网站时，它会从场合/场合中提取图像，而不是从基本/默认中提取的 css 或 js。

有任何想法吗？这是 head 标签中的代码示例，用于说明我的问题：

```
<link rel="icon" href="xxxxx/skin/frontend/occasions/occasions/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="xxxxx/skin/frontend/occasions/occasions/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="xxxxx/skin/frontend/base/default/css/styles.css" media="all" />
<link rel="stylesheet" type="text/css" href="xxxxx/skin/frontend/base/default/css/widgets.css" media="all" />
<link rel="stylesheet" type="text/css" href="xxxxx/skin/frontend/base/default/css/print.css" media="print" />
<script type="text/javascript" src="xxxxx/js/lib/ds-sleight.js"></script>
<script type="text/javascript" src="xxxxx/skin/frontend/base/default/js/ie6.js"></script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:40:43.427

问题是，当我使用 site5 上的文件管理器复制文件时，它从 css 文件夹中删除了 css 文件并将它们向上移动到 skin/frontend/occasions/occasions/。当我重新创建 css 文件夹并移动 css 文件时。这解决了这个问题。

# templates - 逻辑简单的 Dust.js 模板

> ID：16080240
> 
> 赞同：1
> 
> 时间：2013-04-18T10:16:29.180
> 
> 标签：templates, dust.js

我有一些 JSON 数据：

```
 {
         "title": "Available Cars",
             "names": [{
             "name": "Ford",
                 "image": "./images/ford.png",
                 "flags": "./images/us.png",
                 "description": "Make Average Cars",
                 "detail": [{
                 "Profile": "Big US company",
                     "Background": "Bad"
             }]
         }, {
             "name": "BWM",
                 "image": "./images/bmw.png",
                 "flags": "./images/gm.png",
                 "description": "Make Great Cars",
                 "detail": [{
                 "Profile": "MediumGermancompany",
                     "Background": "Good"
             }]
         }, {
             "name": "VW",
                 "image": "./images/vw.png",
                 "flags": "./images/gm.png",
                 "description": "MakeGoodCars",
                 "detail": [{
                 "Profile": "LargeGermancompany",
                     "Background": "Very Bad"
             }]
         }]
     } 
```

还有一个看起来像这样的模板：

```
<div><ul><li>{title}</li>{#names}<li data-name=\"{name}\"><a href=\"{name}\"> <h4><img src=\"{flags}\">Name :{name}</h4><p>{description}</p></a></li>{~n}{/names}</ul></div></div> 
```

这将创建以下 HTML：

```
<div id="container">
    <div>
        <ul>
            <li>Available Cars</li>
            <li data-name="Ford"><a href="Ford"><h4><img src="./images/us.png">Name :Ford</h4>

                <p>Make Average Cars</p></a></li>
            <li data-name="BWM"><a href="BWM"><h4><img src="./images/gm.png">Name :BWM</h4>

                <p>Make Great Cars</p></a></li>
            <li data-name="VW"><a href="VW"><h4><img src="./images/gm.png">Name :VW</h4>

                <p>MakeGoodCars</p></a></li>
        </ul>
    </div>
</div> 
```

我想添加一些逻辑来查看“背景”的值并根据该值在每个 li 下方呈现一个按钮。例如

```
If "Background" == "Bad" 
   <button type="button">Button 1</button>
Else If "Background" == "Good"
   <button type="button">Button 2</button>
Else If "Background" == "Very bad""
   <button type="button">Button 3</button> 
```

我创建了一个 jsfiddle 来显示：

[http://jsfiddle.net/carlskii/Dam29/5/](http://jsfiddle.net/carlskii/Dam29/5/)

任何指针将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-26T01:48:00.850

你能在javascript中更新JSON吗？像这样：

```
$(document).ready(function () {

    var template = "<div><ul><li>{title}</li>{#names}<li data-name=\"{name}\"><a href=\"{name}\"> <h4><img src=\"{flags}\">Name :{name}</h4><p>{description}</p></a><p>Button: {type}</p></li>{~n}{/names}</ul></div></div>"

    var compiled = dust.compile(template, "intro");
    dust.loadSource(compiled);

    var data = {
        "title": "Available Cars",
        "names": [{
            "name": "Ford",
            "image": "./images/ford.png",
            "flags": "./images/us.png",
            "description": "Make Average Cars",
            "detail": [{
                "Profile": "Big US company",
                "Background": "Bad"
            }]
        }, {
            "name": "BWM",
            "image": "./images/bmw.png",
            "flags": "./images/gm.png",
            "description": "Make Great Cars",
            "detail": [{
                "Profile": "MediumGermancompany",
                "Background": "Good"
            }]
        }, {
            "name": "VW",
            "image": "./images/vw.png",
            "flags": "./images/gm.png",
            "description": "MakeGoodCars",
            "detail": [{
                "Profile": "LargeGermancompany",
                "Background": "Very Bad"
            }]
        }]
    };

    var arr = data.names;
    for(var i=0; i<arr.length; i++){
        if(arr[i].detail[0].Background == "Bad"){
            arr[i].type = "Button 1";
        }else if(arr[i].detail[0].Background == "Good"){
            arr[i].type = "Button 2";
        }else if(arr[i].detail[0].Background == "Very Bad"){
            arr[i].type = "Button 3";
        }
    }

    dust.render("intro", data, function (err, out) {

        $('#container').html(out).trigger("create");

    });

}); 
```

看看它在[这个 JSFiddle](http://jsfiddle.net/amiramix/4wSAL/)中是如何工作的。如果您无法更新 JSON，那么您始终可以创建一个自定义的灰尘基础，您可以在调用dust.render 之前对其进行初始化。[请参阅灰尘指南](http://akdubya.github.io/dustjs/)中的上下文部分。它可能是这样的：

```
$(document).ready(function () {

    var template = "<div><ul><li>{title}</li>{#names}<li data-name=\"{name}\"><a href=\"{name}\"> <h4><img src=\"{flags}\">Name :{name}</h4><p>{description}</p></a><p>Button: {#type data=detail/}</p></li>{~n}{/names}</ul></div></div>"

    var compiled = dust.compile(template, "intro");
    dust.loadSource(compiled);

    var data = (...); // as in the previous example

    var dustCtx = dust.makeBase({
        type: function(chunk, context, bodies, params){
            var background = params.data[0].Background;
            var output = "undefined";
            if(background == "Bad"){
                output = "Button 1";
            }else if(background == "Good"){
                output = "Button 2";
            }else if(background == "Very Bad"){
                output = "Button 3";
            }
            return chunk.write(output);
        }
    });

    dust.render("intro", dustCtx.push(data), function (err, out) {

        $('#container').html(out).trigger("create");

    });

}); 
```

或再次在[JSFiddle](http://jsfiddle.net/amiramix/Y2ztc/)上。

# php - 表单数据未存储在数据库中

> ID：16080248
> 
> 赞同：0
> 
> 时间：2013-04-18T10:17:06.650
> 
> 标签：php

好的，我的注册表单数据没有存储在数据库中。而如果我这样做，`$name="Bill";`那么它的存储但`$name='name';`不起作用。其次，当`i click`它`register button`显示文件的php代码时`connect.php.`

**注册码**

```
<body>

<div id="registration">
 <h2><b><i>Electronic Montessori Learning</i><b></h2>

 <form id="RegisterUserForm" action="connect.php" method="post">
    <fieldset>
         <p>
            <label for="name">Name</label>
            <input id="name" name="name" type="text" class="text" value="" />
         </p>
        <p>
            <label for="password">Password</label>
            <input id="password" name="password" class="text" type="password" />
         </p>
       <p>
            <button id="registerNew" type="submit">Register</button>
         </p>
    </fieldset>

 </form>
</div>
<body> 
```

现在**connect.php**代码

```
<?php

$db=mysql_connect("localhost", "root", "") or die(mysql_error());
echo "Connected to MySQL<br />";
mysql_select_db("users") or die(mysql_error());
echo "Connected to Database";

if(isset($_POST['Submit'])){
// Storing form values into PHP variables
$name = $_POST['name']; // Since method=”post” in the form
$password = $_POST['password'];
mysql_query("INSERT INTO user_eml(Name, Password) VALUES('$name', '$password' ) ") 
or die(mysql_error());  
echo "Data Inserted!";

echo    'Thank you for submitting your details!';
}

?> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T10:18:50.960

你在这里忘记了`name`属性

```
<button id="registerNew" type="submit" name="Submit">Register</button> 
```

因为这个条件永远不会成立

```
if(isset($_POST['Submit'])) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:18:43.937

您的

```
 if(isset($_POST['Submit'])){ 
```

是错误的，因为表单中没有 name="Submit" 的元素。

这意味着您的按钮应该有一个名称=“提交”。

# variables - Less border-radius shorthand mixin, disable variable

> ID：16080249
> 
> 赞同：6
> 
> 时间：2013-04-18T10:17:08.220
> 
> 标签：variables, less, mixins, css, shorthand

I am trying to write a mixin for border-radius than only outputs when the values, set by a variable, are >= 0\. I set the base value in a variable as 3px, so if I enter -1 or no for example, the border-radius mixin would not create any properties in the final stylesheet. I can get this to work for if I want to have the same value for every corner. But I can't workout how to get it working if I want to use the shorthand i.e 3px 3px 0 0\. I think it is an issue with the 3px being changed by a variable and 0 in both scenarios. My code at the moment is

```
.border-radius(@r) when not (@r = no), (@r = 0) {
    -webkit-border-radius: @r;
       -moz-border-radius: @r;
            border-radius: @r;
}
.border-radius(@r) when (@r = no), (@r = 0) {}

@baseBorderRadius: 3px;
.class1 { .border-radius(@baseBorderRadius); }
// This outputs fine: 3px 3px 3px 3px
.class2 { .border-radius(@baseBorderRadius @baseBorderRadius 0 0); }
// This outputs fine 3px 3px 0 0

@baseBorderRadius: no; // If I change the variable to try and disable/not run the mixin
.class1 { .border-radius(@baseBorderRadius); }
// This does what I want and doesn't run the mixin
.class2 { .border-radius(@baseBorderRadius @baseBorderRadius 0 0); }
// THIS IS THE PROBLEM! This outputs: no no 0 0 
```

So I need a way to disable/not run the mixin if it contains a certain value or word defined from a global variable. I am doing this for a theme variables file where, based on the branding, companies might want rounded corners or not and I would prefer not to have loads of 0 values unnecessarily included in the final stylesheet.

I would really appreciate any help with this, even if it is just to find out that what I want to do isn't possible within LESS. Thank you

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T17:45:46.587

你可以尝试这样的事情，使用多参数混合...并分别检查每个参数的防护，我分两步编写混合以分别执行防护

*   对于值非数字条目（在您的情况下为“否”），使用`isnumber()`and
*   为价值`= 0`

这是**LESS**`and`代码（注意警卫中的使用od ）：

```
.border-r-not-0 (@a, @b, @c, @d) when not (@a = 0), not (@b = 0), not (@c = 0), not (@d = 0){
      -webkit-border-radius: @a @b @c @d;
       -moz-border-radius: @a @b @c @d;
            border-radius: @a @b @c @d;
}
.border-radius(@a, @b, @c, @d) when (isnumber(@a)) and (isnumber(@b)) and (isnumber(@c)) and (isnumber(@d)){
    .border-r-not-0(@a, @b, @c, @d);
}

.border-radius(@r) when (isnumber(@r)) and not (@r = 0) {
    -webkit-border-radius: @r;
       -moz-border-radius: @r;
            border-radius: @r;
} 
```

现在为

```
@baseBorderRadius: 3px;
.class1 { .border-radius(@baseBorderRadius); }
.class2 { .border-radius(@baseBorderRadius, @baseBorderRadius, 0, 0); } 
```

**CSS**输出是：

```
.class1 {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
}
.class2 {
  -webkit-border-radius: 3px 3px 0 0;
  -moz-border-radius: 3px 3px 0 0;
  border-radius: 3px 3px 0 0;
} 
```

如果没有输出

```
@baseBorderRadius: no; 
```

因为它没有通过`isnumber()`测试，

或者如果

```
@baseBorderRadius: 0; 
```

因为那时所有参数都相等`0`。

**注意：**为了做更复杂的事情，比如`/`在参数中使用斜线，你必须定义一个稍微不同的 mixin，它需要额外的属性，但我希望你能明白。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-18T18:50:59.987

## 将“否”视为 0

这个改进的 mixin 将“no”视为`0`，然后查看是否所有内容都设置为`0`。我不知道这是否正是您想要的功能，但这就是我在此处提供的功能（请参阅`.class14`下面的输出，了解它如何与其他有效值一起使用）。

```
.border-radius(@r) {
  .check-no(@r) {
    @rad: `'@{r}'.replace(/no/gi, 0).replace(/\b0px|\b0%|\b0em/gi, 0).replace(/[,\[\]]/g, '')`;
  }
  .check-no(@r);

  .set-radius(@rad) when not (@rad = "0") and not (@rad = "0 0") and not (@rad = "0 0 0") and not (@rad = "0 0 0 0") {
    @finalRad: e(@rad);
    -webkit-border-radius: @finalRad;
       -moz-border-radius: @finalRad;
            border-radius: @finalRad;    
  }

  .set-radius(@rad) {}
  .set-radius(@rad);
} 
```

为了完全兼容，必须为所有[允许的长度](https://developer.mozilla.org/en-US/docs/CSS/length)`/\b0px|\b0%|\b0em/gi`类型设置字符串替换（我不打算花时间去做）。

**所以这个 LESS 测试代码：**

```
@b1: 3px;
.class1 { .border-radius(@b1); }
.class2 { .border-radius(@b1 @b1 0 0); }
.class3 { .border-radius(0 0); }
.class4 { .border-radius(0px 0); }
.class5 { .border-radius(0% 0); }
.class6 { .border-radius(0em 0); }
.class7 { .border-radius(10px 0); }
.class8 { .border-radius(10% 0); }
.class9 { .border-radius(10em 0); }
.class10 { .border-radius(no); }
.class11 { .border-radius(no no); }
.class12 { .border-radius(no no 0); }
.class13 { .border-radius(no no 0 0); }
.class14 { .border-radius(no no 5px 5px); } 
```

**产生这个 CSS 输出**（忽略它评估为 net 的所有实例`0`）：

```
.class1 {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
}
.class2 {
  -webkit-border-radius: 3px 3px 0 0;
  -moz-border-radius: 3px 3px 0 0;
  border-radius: 3px 3px 0 0;
}
.class7 {
  -webkit-border-radius: 10px 0;
  -moz-border-radius: 10px 0;
  border-radius: 10px 0;
}
.class8 {
  -webkit-border-radius: 10% 0;
  -moz-border-radius: 10% 0;
  border-radius: 10% 0;
}
.class9 {
  -webkit-border-radius: 10em 0;
  -moz-border-radius: 10em 0;
  border-radius: 10em 0;
}
.class14 {
  -webkit-border-radius: 0 0 5px 5px;
  -moz-border-radius: 0 0 5px 5px;
  border-radius: 0 0 5px 5px;
} 
```

# asp.net-mvc-4 - 自动完成或为模型创建新对象

> ID：16080253
> 
> 赞同：1
> 
> 时间：2013-04-18T10:17:23.353
> 
> 标签：asp.net-mvc-4

我正在尝试实现类似于 SO/Gmail 标签系统的东西：“尝试找到匹配的标签或创建一个新标签”。

我有两个简单的类：

```
public class Item
{
    [Key]
    public int ItemId { get; set; }
    [Required]
    public string Name { get; set; }
    public int CategoryId { get; set; }
    public virtual Category Tag { get; set; }
}

public class Category
{
    [Key]
    public int CategoryId { get; set; }
    public string Name { get; set; }
} 
```

`CategoryController`实现了一个`AutoCompleteCategory`返回所有可用类别的 Json 列表的方法：

```
public JsonResult AutoCompleteCategory(string term)
{
    var result = categoryRepository.All.Where(category=> category.Name.ToLower().Contains(term.ToLower())).Distinct();

    return Json(result, JsonRequestBehavior.AllowGet);
} 
```

我已经有一个 jquery-Script 将请求发送到该方法并显示匹配项。

**现在我的问题：**

我需要在`_CreateOrEdit`-View 中使用什么来将此编辑字段映射到我的模型？它代表我的类别，但通常我将它绑定到 CategoryId，这是一个简单的键，不是吗？

如果编辑字段包含未知类别，我如何创建它并将其绑定到我的模型？

# asp.net - 使用 java 脚本验证文件大小

> ID：16080254
> 
> 赞同：2
> 
> 时间：2013-04-18T10:17:27.047
> 
> 标签：asp.net

我正在尝试验证文件大小，我正在尝试通过文件上传控件上传。为了验证文件的大小，我使用了 java 脚本代码。但它会引发运行时错误。请有人帮助我。

```
<script language="javascript" type="text/javascript">
    function getSize() {
        var myFSO = new ActiveXObject("Scripting.FileSystemObject");
        var filepath = document.upload.file.value;
        var thefile = myFSO.getFile(filepath);
        var size = thefile.size / (1024 * 1024);
        alert(size + "MB");
    }
</script> 
```

错误消息：Microsoft JScript 运行时错误：自动化服务器无法创建对象

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:21:07.593

Javascript 无法访问文件系统，因此无法通过 javascript 检查文件的大小。

和

`new ActiveXObject("Scripting.FileSystemObject");`- 仅受 IE 支持，因此请检查您起诉的是 IE 而不是其他浏览器。

检查这个：[如何使用 JavaScript 验证上传文件大小和文件扩展名？](http://deepeshdarshan.wordpress.com/2012/06/20/how-to-validate-upload-file-size-and-file-extension-using-javascript/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-06T12:08:47.850

File size can only be retrieved in browsers other than IE while using Javascript..

# graph - Pick all subgraphs by a specific pattern from a graph

> ID：16080255
> 
> 赞同：1
> 
> 时间：2013-04-18T10:17:30.440
> 
> 标签：graph, subgraph

So I'm looking forward to pick a lets say a triangle/square/../hexagon from a graph.

What do i mean by that:

```
input from keybord: a-b b-c c-a 
```

and

`output m-n-o, x-y-z, s-t-u`
(where each of this subgraphs respect that relation ship pattern of the vertex)

How to solve this: It has to be a raw version not with optimisations or other stuff, but without backtracking / recursion.

Solution: transpose the vertexes to a matrix and do combinations in for loops.

The problem i have: for instance if i want my graph to accept up to octogns, do I need to make 8 for in for's ?!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T15:24:14.140

自己的解决方案不是最好的，但足以完成休闲。用组合学 jar 完成。有帮助的洞

```
 @SuppressWarnings("unchecked")
    public static void drawMatrix(Graph g, int tempMatrixSize){
        System.out.println(" ");
        System.out.println("Matrix:");
        ArrayList<Node> nodesSet = new ArrayList<>();
        nodesSet = (ArrayList<Node>) g.getNodes().clone();

        int size = nodesSet.size();

        int[][] matrix = new int[size][size];

        System.out.print("  ");
        for (Node node : nodesSet){
            System.out.print(" " + node.getName()+ " ");
        }
        System.out.println();

        for (int i=0; i<size; i++) {
            System.out.print(nodesSet.get(i).getName()+ " ");
            for (int j=0; j<size; j++){
                if (i == j) {
                    System.out.print(" 1 ");
                    matrix[i][j] = 1;

                }
                else{
                    if (nodesSet.get(i).isFriend(nodesSet.get(j))) {
                        System.out.print(" X ");
                        matrix[i][j] = 1;
                    }
                    else {
                        System.out.print(" 0 ");
                        matrix[i][j] = 0;
                    }
                }
            }
            System.out.println();
        }
        System.out.println();

        // temp matrix
        int[][] tempMatrix = new int[tempMatrixSize][tempMatrixSize];

        // Find combinations
        ArrayList<Integer> al= new ArrayList<>();
        for (int i = 0; i<size; i++ ){
            al.add(i);
        }

        ICombinatoricsVector<Integer> initialVector = Factory.createVector(al);
        Generator<Integer> gen = Factory.createSimpleCombinationGenerator(initialVector, tempMatrixSize);
        int index = 0;
        for (ICombinatoricsVector<Integer> combination : gen) {
            boolean isConnected = true;
            System.out.println(combination);
            List<Integer> comb = combination.getVector();
            for(int i=0; i<tempMatrixSize; i++){
                for(int j=0; j<tempMatrixSize; j++){
                    tempMatrix[i][j] = matrix[comb.get(i)][comb.get(j)];
//                  System.out.print(tempMatrix[i][j]+ " ");
                }
                System.out.println();

            }
            // main matrix coordinations
            System.out.println("main matrix used coords: ");
            for(int i=0; i<tempMatrixSize; i++){
                for(int j=0; j<tempMatrixSize; j++){
                    tempMatrix[i][j] = matrix[comb.get(i)][comb.get(j)];
                    System.out.print("["+comb.get(i)+","+comb.get(j)+"] ");
                }
                System.out.println();
            }
            System.out.println();

            for(int i=0; i<tempMatrixSize; i++){
                for(int j=0; j<tempMatrixSize; j++){
                    if (tempMatrix[i][j] == 0){
                        isConnected = false;
                    }
                }
            }
            if (isConnected) {
                System.out.println("Is connected by >" + tempMatrixSize);
                for (int i=0; i<tempMatrixSize; i++) {
                    System.out.println(" >" +nodesSet.get(comb.get(i)).getName());
                }           
            }
        } 
```

# android - Android模拟器在gridview中单击多个项目

> ID：16080258
> 
> 赞同：1
> 
> 时间：2013-04-18T10:17:38.910
> 
> 标签：android, gridview, android-emulator, padding

我有一个充满单词搜索值的网格视图，基本上，我不知道为什么，但是当我单击一个字母时，它会突出显示下面的下一个 4。

![词搜索](https://i.stack.imgur.com/m4VtX.png)

起初我以为是因为我的垂直间距是 -40dip，但是将其更改为 0，会使间距变大，这反过来又解决了问题，因为单词之间的间距太远，以至于图像中的长而细的点击荧光笔没有'没关系...

所以我真正要问的是，如何减少点击半径左右都可以，就是底部。

会不会是填充？

这是gridview的代码，以及上面的线性布局

```
 <LinearLayout
    android:id="@+id/ScrollViewlLayout"
    android:layout_width="fill_parent"
    android:layout_height="278dp"
    android:orientation="vertical" >

           <GridView
            android:id="@+id/WordSearch"
            android:layout_width="fill_parent"
            android:layout_height="194dp"
            android:layout_marginBottom="40dip"
            android:layout_marginLeft="10dip"
            android:layout_marginRight="10dip"
            android:layout_marginTop="10dip"
            android:layout_weight="0.13"
            android:padding="2dip"
            android:paddingLeft="20dip"
            android:verticalSpacing="-50dip" >
        </GridView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T11:08:24.933

问题是由于应用于网格视图中的文本视图的样式。

# wcf - 使用 Wcf 服务的 Tcp 服务器

> ID：16080262
> 
> 赞同：3
> 
> 时间：2013-04-18T10:17:53.590
> 
> 标签：wcf, gps, tcplistener

我是一位经验丰富的 C# 开发人员，但到目前为止我还没有开发过 TCP 服务器应用程序。现在我必须开发一个高度可扩展和高性能的服务器，它可以处理至少 5-10,000 个并发连接：通过 GPRS 从 GPS 设备获取原始字节数据。

一个常见的通信过程应该是这样的：

GPS 设备启动与我的服务器的连接我的服务器回答如果我想获取数据设备发送 GPS 数据我的服务器向设备发送关于获取它的报告（sg 像校验和）从 GPS 获取新数据，reportm 并且这种情况会在以后一次又一次地发生GPS DEVICE 关闭连接所以，在我的服务器中，我需要

跟踪连接/活动客户端以从服务器端关闭任何客户端捕获事件，当设备关闭连接时获取字节数据向客户端发送数据我开始通过互联网阅读有关此主题的信息，但这对我来说似乎是一场噩梦。有很多方法，但我找不到最好的方法。

异步套接字方法对我来说似乎是最好的，但是以这种异步风格编写代码很糟糕，而且不容易调试。

所以我的问题是：您认为用 C# 实现高性能 TCP 服务器的最佳方式是什么？你知道有什么好的开源组件可以做到这一点吗？（我尝试了几个，但我找不到一个好的。）

在此先感谢，任何专家的答案都将得到应用！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T14:28:01.500

您可以使用两个建议的想法。

1.  WCF TCP (Duplex?) - 在这里你可以有一个异步模式，客户端和服务器都可以互相调用。肯定需要一些管道，但是那里有很多文档。

2.  RESTFUL - 我认为这对你来说可能是更好的选择。这很容易实现异步，并且由于 REST 的无状态特性，开销要少得多。仅供参考，您可以为此使用 TCP，尽管 HTTP 可能是更好的选择。

# image - SVG 不支持图像的自动宽度和高度吗？

> ID：16080273
> 
> 赞同：7
> 
> 时间：2013-04-18T10:18:16.097
> 
> 标签：image, svg

在 HTML 中，可以在没有指定尺寸的情况下创建图像元素。它将具有内在的宽度和高度：

```
<img src="me.jpg" alt=""> 
```

但是，在没有维度属性的 SVG 图像中，大小为 0×0，为了防止这种情况`width`，`height`必须指定（[如本例所示](http://jsfiddle.net/s9u4T/)）：

```
<image xlink:href="me.jpg" width="64" height="64" /> 
```

可以强制 SVG 图像采用它的原始宽度和高度（当然不添加相应的属性）？如果重要的话，我对 HTML 中的内联 SVG 很感兴趣。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-18T15:09:36.767

SVG 1.1 规范需要 <image> 元素的`width`和`height`属性。今天的大多数浏览器都实现了这一点，所以答案还没有。关闭属性意味着使用默认值`0`，这具有使图像不可见的效果。

但是，图像的自动调整大小正在添加到 SVG2，请参阅[https://svgwg.org/svg2-draft/embedded.html#ImageElement](https://svgwg.org/svg2-draft/embedded.html#ImageElement)。

> SVG 2 要求：支持自动调整大小的图像。
> 分辨率：我们将允许在 SVG 2 中自动调整大小的图像。

希望这意味着你将能够在不久的将来做你想做的事。

# python - input value for LIMIT(unitest)

> ID：16080279
> 
> 赞同：0
> 
> 时间：2013-04-18T10:18:36.380
> 
> 标签：python, sql

I'm currently confused on this one. limit by default is none, but if i were to test this in unitest and ask a specific number of comments it would say type mismatch. I know that "int" is not the correct term. I'm only saying that the limit should be an integer. What would be the proper way of addressing the input depending on what the limit is in the unitest.

```
def list_comments(db, limit=None): limit = "int"
    limit = "int"

    cur = db.cursor()
    cur.execute("SELECT id, comment FROM comments ORDER BY id DESC LIMIT ?", (limit,))
    results = cur.fetchall()

    print results

    return results 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:22:15.063

从函数后面删除`limit = "int"`，并将`limit`参数默认为`0`并使用占位符 as `%s`;

```
def list_comments(db, limit=0):
    cur = db.cursor()
    cur.execute("SELECT id, comment FROM comments ORDER BY id DESC LIMIT %s", (str(limit)))
    results = cur.fetchall()

    print results

    return results 
```

如果还不需要逗号，也请删除它；`(limit,)`.

我故意将限制值解析为字符串（如果它真的是整数，您可以最初检查它）以使其始终与`%s`占位符匹配。

# php - 无法初始化类给出错误 324 (net::ERR_EMPTY_RESPONSE)

> ID：16080280
> 
> 赞同：0
> 
> 时间：2013-04-18T10:18:38.723
> 
> 标签：php, zend-framework, frameworks

我想初始化一个类，但我得到一个错误 324 (net::ERR_EMPTY_RESPONSE)

这是我要初始化的类：

```
<?php
class CMS_Content_Item_Page extends CMS_Content_Item_Abstract
{
public $id;
public $name;
public $headline;
public $image;
public $description;
public $content;
} 
```

这是它扩展的类：

```
<?php
abstract class CMS_Content_Item_Abstract
{
const NO_SETTER = 'Setter methode bestaat niet';
public $id;
public $name;
public $parent_id = 0;
protected $_namespace = 'page';
protected $_pageModel;

public function __construct($pageId = null)
{
    $this->_pageModel = new CMS_Content_Item_Page();
    if(null != $pageId)
    {
        $this->loadPageObject(intval($pageId));
    }
}

protected function _getInnerRow($id = null)
{
    if($id == null)
    {
        $id = $this->id;
    }
    return $this->_pageModel->find($id)->current();
}

protected function _getProperties()
{
    $propertyArray = array();
    $class = new Zend_Reflection_Class($this);
    $properties = $class->getProperties();
    foreach($properties as $property)
    {
        if($property->isPublic())
        {
            $propertyArray[] = $property->getName();
        }
    }
    return $propertyArray;
}

protected function _callSetterMethod($property,$data)
{
    $method = Zend_Filter::filterStatic($property, 'Word_UnderscoreToCamelCase');
    $methodName = '_set' . $method;
    if(method_exists($this,$methodName))
    {
        return $this->$methodName($data);           
    }   
    else
    {
        return self::NO_SETTER; 
    }
}

public function loadPageObject($id)
{
    $this->id = $id;
    $row = $this->getInnerRow();
    if($row)
    {
        if($row->namespace != $this->_namespace)
        {
            throw new Zend_Exception('Niet in staat om pagina type te weergeven:' 
            . $row->namespace . ' naar type:' . $this->_namespace);
        }
        $this->name = $row->name;
        $this->parent_id = $row->parent_id;
        $contentNode = new Model_ContentNode();
        $nodes = $row->findDependentRowset($contentNode);
        if($nodes)
        {
            $properties = $this->_getProperties();
            foreach($nodes as $node)
            {
                $key = $node['node'];
                if(in_array($key,$properties))
                {
                    $value = $this->_callSetterMethod($key,$nodes);
                    if($value === self::NO_SETTER)
                    {
                        $value = $node['content'];
                    }
                    $this->$key = $value;
                }
            }
        }
    }
    else
    {
        throw new Zend_Exception("Niet in staat om content item te laden");
    }
}

public function toArray()
{
    $properties = $this->_getProperties();
    foreach($properties as $property)
    {
        $array[$property] = $this->$property;
    }
    return $array;
}

public function save()
{
    if(isset($this->id))
    {
        $this->_update();
    }
    else
    {
        $this->_insert();
    }
}

protected function _insert()
{
    $pageId = $this->_pageModel->createPage(
        $this->name,$this->_namespace,$this->parent_id);
    $this->id = $pageId;
    $this->_update();
}

protected function _update()
{
    $data = $this->toArray();
    $this->_pageModel->updatePage($this->id,$data);
}

public function delete()
{
    if(isset($this->id))
    {
        $this->_pageModel->deletePage($this->id);
    }
    else
    {
        throw new Zend_Exception('Niet in staat om item te verwijderen; het item is leeg!');
    }
}
} 
```

在这个脚本中，我试图初始化类：

```
 public function createAction()
{
    $pageForm = new Form_PageForm();
    $pageForm->setAction('/page/create')
             ->setMethod('post');
    if($this->getRequest()->isPost())
    {
        if($pageForm->isValid($_POST))
        {
            $itemPage = new CMS_Content_Item_Page();
            $itemPage->name = $pageForm->getValue('name');
            $itemPage->headline = $pageForm->getValue('headline');
            $itemPage->description = $pageForm->getValue('description');
            $itemPage->content = $pageForm->getValue('content');
            if($pageForm->image->isUploaded())
            {
                $pageForm->image->receive();
                $itemPage->image = '/images/upload' . basename($pageForm->image->getFileName());
            }
            $itemPage->save();
            return $this->_forward('list');         
        }
    }
    $this->view->form = $pageForm;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-15T05:33:27.810

在抽象类 CMS_Content_Item_Abstract::__construct()

```
Change  $this->_pageModel = new CMS_Content_Item_Page();
to      $this->_pageModel = new Model_Page(); 
```

我在“zend CMS Project”一书中遇到了这个问题，我敢打赌这是作者输入错误造成的。

# java - 字符串缓冲区 - OutOfMemoryError

> ID：16080287
> 
> 赞同：0
> 
> 时间：2013-04-18T10:18:54.820
> 
> 标签：java, stringbuffer

我有字符串缓冲区变量，它保存我从文件中读取的输入。在某些情况下，我会收到巨大的输入文件。在这些情况下，我得到了 OutOfMemoryError。

这是我的代码：

```
StringBuffer response = new StringBuffer("");
BufferedReader in = new BufferedReader(isr);
String inputLine;
while ((inputLine = in.readLine()) != null)
        response.append(inputLine);
in.close(); 
```

请帮助我如何解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:22:12.703

要么以块的形式读取输入，要么`-Xmx`将 JVM 中的参数（最大内存大小）更改为更大的大小。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:22:56.567

如果您正在处理的文件很大，您可能需要找到一种即时处理的方法，而不是将整个文件读入`StringBuffer`内存中。根据数据的结构，这可能对读入的每一行或每几行执行一些操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T13:04:57.087

另一种选择是仅在内存中保存文件的索引。这取决于你想用它做什么。

例如，如果您希望在屏幕上显示文件内容，您可以打开文件进行随机访问并扫描它，记录文件中每一行开头的偏移量。然后，您可以通过查找索引中的行、查找指定位置并从那里读取来单独访问每一行。

# css - 是否可以在带有纯 css 的阴影框中创建一个缺口？

> ID：16080289
> 
> 赞同：0
> 
> 时间：2013-04-18T10:18:58.973
> 
> 标签：css

我目前正在为一个布局而苦苦挣扎，我在问自己这是否可以使用纯 css 或者我是否必须使用图像。

我想要实现的是这样的：

![盒子里的缺口](https://i.stack.imgur.com/6daHi.png)

所以这`<body>`是黄色区域，而白框是`<header>`一个区域被切断的地方。阴影和圆角是这里的棘手问题。

[我只是摆弄了一下](http://jsfiddle.net/945MZ/6/)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:33:24.530

在标题中添加一个 div 并给出 position:absolute。根据您的模拟设置潜水样式。（我无法得到底部曲线：（）

```
header {
    background: white;
    box-shadow: rgba(0, 0, 0, 0.4) 0 0 8px;
    height: 100px;
    position:relative
}
.curve{
    background: #fcf5e5;
     border-radius:14px;
    box-shadow: inset 1px 4px 8px -5px #333;
    -moz-box-shadow: inset 1px 4px 8px -5px #333;
    -webkit-box-shadow: inset 1px 4px 8px -5px #333;
    height:60px;
    width:250px;
    position:absolute;
    left:0; right:0;
    margin:0 auto;
    bottom:-9px
} 
```

**[演示](http://jsfiddle.net/945MZ/4/)**

# html - Chrome is acting strange

> ID：16080293
> 
> 赞同：-3
> 
> 时间：2013-04-18T10:19:03.963
> 
> 标签：html, css, google-chrome, frontend

I have a strange problem, I can't really write down all the code because it's long but basically it looks like this.

A made a menu on a website and it works great, and looks great in every browser to except chrome. I know that's strange because usually chrome is the best.

[http://konyvelespecs.com/](http://konyvelespecs.com/)

So please check the page in Mozilla or Opera or IE, the top navigation should look ok, but check it in chrome and it should break but the weird thing is that it only happens the first time you view the page; after a refresh it is ok. However, if you close the browser window and load it again, the problem shows again until a new refresh.

I'm all out of ideas - does anybody know why this is happening?

So here is a screenshot: ![enter image description here](https://i.stack.imgur.com/irmnc.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:30:54.590

尝试添加`position:absolute`:)

# php - TCPDF - 图像只显示一次

> ID：16080295
> 
> 赞同：0
> 
> 时间：2013-04-18T10:19:09.507
> 
> 标签：php, image, pdf, tcpdf

我正在尝试使用 TCPDF 版本 6.0.010 生成多页 pdf。当我使用版本 5.9.009 时，您在下面看到的脚本运行良好。

每个页面都有一个标志。由 TCPDF 版本 6.0.010 生成的 pdf 仅显示一次（在第一页上）此徽标。当我在这些页面上加载不同的图像时，图像会正确显示（只要没有重复）。

```
 $pdf = new TCPDF(PDF_PAGE_ORIENTATION, PDF_UNIT, PDF_PAGE_FORMAT, true, 'UTF-8', false);
    $pdf->setPrintHeader(false);
    $pdf->setPrintFooter(false);
    $pdf->SetDefaultMonospacedFont(PDF_FONT_MONOSPACED);
    $pdf->SetMargins(PDF_MARGIN_LEFT, 10, PDF_MARGIN_RIGHT);
    $pdf->SetHeaderMargin(PDF_MARGIN_HEADER);
    $pdf->SetFooterMargin(PDF_MARGIN_FOOTER);
    $pdf->SetAutoPageBreak(TRUE, PDF_MARGIN_BOTTOM);
    $pdf->setImageScale(PDF_IMAGE_SCALE_RATIO);
    $pdf->SetFont('freesans', '', 18);
    foreach ($items as $item) {
        $pdf->AddPage();
        $html = myHtmlTemplate($item);
        $pdf->writeHTML($html, true, false, true, false, '');   
    }

    $file = $pdf->Output('myPDF.file', 'S'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-08T16:31:32.597

我有同样的问题，我的工作是将图像加载为 base64 图像字符串并改用它。

例子：

```
$img= "myimage.jpg";

$imgdata = 'data: '.mime_content_type($img).';base64,'. base64_encode(file_get_contents($img));

$html = "<img src=\"$imgdata\"/>"; 
```

这应该有帮助，它不是一个修复程序，它有点慢，但它对我有用。我相信这会有所帮助。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-09-15T21:54:24.490

或者获取最新版本的TCPDF...我遇到了同样的问题并升级到6.0.093，现在它可以工作了...

# c++ - 如何让每个线程都传递另一个参数？

> ID：16080296
> 
> 赞同：1
> 
> 时间：2013-04-18T10:19:10.660
> 
> 标签：c++, multithreading, arguments

我不是 100% 确定如何解释这一点，最好在代码中查看。

```
#include <unistd.h>
#include <iostream>
#include <cstdlib>
#include <ctime>
#include <pthread.h>
#define N 30

using namespace std;

int ZajednickoPolje[50][N];

void *Generiraj(void * i){
    for(int j=0;j<N;j++)
        ZajednickoPolje[*((int*)i)][j]=rand()%50;
}

void *Racunaj(void * i){
    int suma=0;
    for(int j=0;j<N;j++)
        suma=suma+ZajednickoPolje[*((int*)i)][j];
    sleep(1);
    cout<<"Polje"<<*((int*)i)<<" suma = "<<suma<<endl;
    sleep(1);
    cout<<"Polje"<<*((int*)i)<<" aritm_sredina = "<<float(suma)/N<<endl;
}

int main(){

   int M, i;
   cin>>M;
   pthread_t thr_id[M*2];

    for(i=0;i<M;i++)
   if (pthread_create(&thr_id[i], NULL, Generiraj, &i) != 0) {
      cout<<"Greska pri stvaranju dretve!\n";
      exit(1);
   }

    for(i=M;i<(2*M);i++)
   if (pthread_create(&thr_id[i], NULL, Racunaj, &i) != 0) {
      cout<<"Greska pri stvaranju dretve!\n";
      exit(1);
   }

   for(int i=0;i<(2*M);i++)
   pthread_join(thr_id[i], NULL);

   return 0;
} 
```

所以，我想在主函数中将变量“i”传递给函数“Geneiraj”和“Racunaj”，但它的值总是 M*2。我明白为什么会发生这种情况，但不知道如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:22:26.183

因为你给出了变量 i 的地址，如果 i 在外部发生变化，你的线程使用的变量 i 也会发生变化，当你的线程想要访问 i 时，它已经在 for 循环中达到了 2*M 的值。因此，您应该将参数 i 作为一个不同的指针，它指向与 i 相同的值（这么多 i）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:23:44.730

这是一组步骤（至少一种方法）

1.  像线程 id 一样构造一个数组，它将保存`i`每个线程的值
2.  将此数组中的相应条目传递给线程，而不是`&i`传递给线程

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:28:30.930

有很多选项，重要的是不要将指向相同的指针传递`i`给所有线程。这是一种选择，为整数创建动态存储；

```
for(i=0;i<M;i++) {
   if (pthread_create(&thr_id[i], NULL, Generiraj, new int(i)) != 0) {
      cout<<"Greska pri stvaranju dretve!\n";
      exit(1);
   }
}

void *Generiraj(void * ptr){
    int i = *(int*)ptr;
    delete   (int*)ptr;

    for(int j=0;j<N;j++)
        ZajednickoPolje[i][j]=rand()%50;

    return NULL;
} 
```

# ubuntu - Launch beanstalkd command at Ubuntu Boot

> ID：16080297
> 
> 赞同：5
> 
> 时间：2013-04-18T10:19:12.653
> 
> 标签：ubuntu, boot, beanstalkd

I am working on beanstalkd on Ubuntu (Very new for me), I want to know which is good way to start beanstalkd service on ubuntu boot.

In short, I would like to execute,

> beanstalkd -b /path/to/binlog/directory -l 127.0.0.1 -p 11300

1.  Using /etc/default/beanstalkd . I have added following code and reboot system (Not working)

    ```
    BEANSTALKD_LISTEN_ADDR=127.0.0.1
    BEANSTALKD_LISTEN_PORT=11300
    BEANSTALKD_BINLOG_DIR=/var/www
    DAEMON_OPTS="-l $BEANSTALKD_LISTEN_ADDR -p $BEANSTALKD_LISTEN_PORT -b $BEANSTALKD_BINGLOG_DIR"
    START=yes 
    ```

2.  sudo nano /etc/init/beanstalkd.conf and pasting and reboot system (Not working)

    ```
     description "simple, fast work queue"
     start on filesystem stop on runlevel [!2345]
     respawn respawn limit 5 2
     exec su nobody -c 'exec /usr/local/bin/beanstalkd' 
    ```

3.  By editing rc.local file under /etc/ folder. Paste my command to execute before **exit 0** (Working fine for me)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T12:48:59.213

[在https://github.com/kr/beanstalkd/tree/master/adm/upstart](https://github.com/kr/beanstalkd/tree/master/adm/upstart)的 Beanstalkd 存储库中有一个示例 Upstart 脚本， 它与您自己的不同之处仅在于 start/stop 和 respawn 行是分开的。

Binlog 目录的配置和 IP 地址可以很容易地添加到 beanstalkd.conf 文件中。

# annotations - 注释中的动态值

> ID：16080300
> 
> 赞同：1
> 
> 时间：2013-04-18T10:19:21.480
> 
> 标签：annotations

我正在为我的项目编写一个基于注释的框架。早些时候我在注释中传递静态文本，它工作正常。这里是示例代码：-

```
public class MyClass{
   @myannotation(name="Hello World")
   private int variable;
   @myannotation(name="Again Hi")
   private int variable1;
} 
```

由于一些变化，我需要使用从方法中获取其值的最终变量。我知道注释不能采用动态值。所以我现在做一个修复。我在名称值中传递了一个数字，并且在解析注释时以预定义的方法传递该数字，并根据该数字返回该值。这是代码片段：-

```
public class MyClass{
  private static final String finalVar1 = getValue("Hello World");
  private static final String finalVar2 = getValue("Again Hi");
  @myannotation(name="1")
  private int variable;
  @myannotation(name="2")
  private int variable2;

  public String getConvetedValue(String value){
    if(value!=null && value.equals("1")){
        return finalVar1;
    }else if(value!=null && value.equals("2")){
       return finalVar2;
    }
  }
} 
```

因此，在上面的示例中，使用反射从注释解析器调用 getConvertedValue，并且解析器将一个数字传递给从注释中获取的该方法。

请建议我一些更好的解决方案来解决这个问题。

# wpf - WPF 如何在 Pixelsense 中使用 Windows 对话框，因为 Touchevents 不会触发 mouseclick-events

> ID：16080303
> 
> 赞同：0
> 
> 时间：2013-04-18T10:19:29.587
> 
> 标签：wpf, touch, pixelsense

当我遇到一个使用触摸事件作为输入的一般问题时，我最近开始开发一个 Pixelsense 应用程序。Win32 命名空间中的常见 .net 对话框（例如 SaveFileDialog、OpenFileDialog 等）在使用触摸技术时无法工作，因为触摸事件不会触发鼠标单击事件。

有没有办法为触摸事件调用鼠标点击？

也许有一个通用的解决方案可以自动路由所有触摸事件？

我想避免仅添加 touchevent 就自己重新实现所有常见对话框。

任何链接或想法都受到高度赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T11:34:17.110

不可能，您必须以适合触摸的方式重新实现对话框

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T22:42:44.210

我不确定您的目标顺便说一句，您可以在这两篇文章中找到有关 Windows 输入的一些有趣信息：http: [//msdn.microsoft.com/en-us/library/ms754010.aspx](http://msdn.microsoft.com/en-us/library/ms754010.aspx) [http://msdn.microsoft .com/en-us/library/dd317321(v=vs.85)](http://msdn.microsoft.com/en-us/library/dd317321(v=vs.85))

在 PixelSense 设备上运行的 Surface SDK 2.0 上的对话框永远不会出现，这是设计使然。所以如果你真的需要一些对话框，你需要从淀粉中实现它。即使您能够显示对话框（因为您在标准 W7 中运行 PixelSense 应用程序）并且这些不会获得触摸事件（我从未测试过它，我认为您的陈述是正确的），您也需要重新实现它。

现在我的问题是：你真的需要 nui 应用程序中的对话框吗？如果您的答案是肯定的，我的建议是以 NUI 方式思考：scatterview、scatterviewitem、librarycontainers、dragdropsvi ...

hth -g

# c# - MethodInvoker 丢失？

> ID：16080306
> 
> 赞同：0
> 
> 时间：2013-04-18T10:19:44.380
> 
> 标签：c#, multithreading

这是我的代码：

```
private void TaskGestioneCartelle()
{
    Task.Factory.StartNew(() => GeneraListaCartelle())
        .ContinueWith(t => GeneraListaCartelleCompletata()
        , CancellationToken.None
        , TaskContinuationOptions.None
        , TaskScheduler.FromCurrentSynchronizationContext());
}

private void GeneraListaCartelle()
{
    // ... code
}

private void GeneraListaCartelleCompletata()
{
    Task.Factory.StartNew(() => CopiaCartelle())
        .ContinueWith(t => CopiaCartelleCompletato()
        , CancellationToken.None
        , TaskContinuationOptions.None
        , TaskScheduler.FromCurrentSynchronizationContext());
}

private void CopiaCartelle()
{
    if (txtLog.InvokeRequired)
    {
        txtLog.BeginInvoke(new MethodInvoker(delegate { txtLog.AppendText("Copio cartelle in corso..." + Environment.NewLine); }));
    }
} 
```

它启动一个线程。完成后，我启动另一个线程（从 Continue with）并尝试在 UI 上的 Control 中编写一些东西。但实际上什么都没有写`txtLog`。我哪里错了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:22:22.117

> 我尝试在 UI 上的控件中编写一些东西。但实际上txtLog上什么也没写。我哪里错了？

因为在那个时候，Invoke 是不需要的。您可以修改您的 if 语句并添加一个`else`可以执行相同操作的部分。

```
private void CopiaCartelle()
{
    if (txtLog.InvokeRequired)
    {
        txtLog.BeginInvoke(new MethodInvoker(delegate { txtLog.AppendText("Copio cartelle in corso..." + Environment.NewLine); }));
    }
    else // this part when Invoke is not required. 
    {
     txtLog.AppendText("Copio cartelle in corso..." + Environment.NewLine);
    }
} 
```

您可以将文本附加路径重构为方法并从`if-else`

# sqlite - How to stop . being treated as a separator in SQLite FTS4

> ID：16080307
> 
> 赞同：2
> 
> 时间：2013-04-18T10:19:46.587
> 
> 标签：sqlite, tokenize, fts4

I want to be able to search for numbers like 2.3 using FTS4 in SQLite, but the . is being treated as a token boundary. Short of writing a full bespoke tokenizer is there any other way of excluding the . from the list of token boundary characters?

Being able to search for decimal numbers seems like a common use case, but I can't find anything relevant on SO / Google. My best solution at present is to replace all . chars in the text with a known (long) string of letters and substitute accordingly on each search...

Peter

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-09-16T15:30:42.517

实际上，您不需要编写自己的标记器。

“简单”标记器允许自定义分隔符，但它是一个未记录的功能。

如下创建您的 FTS 表，SQLite 将仅对“”（空格）和“#”（哈希）字符进行标记：

```
CREATE VIRTUAL TABLE documents USING fts4(title, content, tokenize=simple '' '# '); 
```

2012 年的 SQLite 邮件列表中有关于此功能的[讨论](http://article.gmane.org/gmane.comp.db.sqlite.general/74199)。支持此功能的 SQLite 源代码在[这里](http://www.sqlite.org/src/artifact/5c98225a53705e5ee34824087478cf477bdb7004)。

从邮件列表中引用关于其缺乏文档的内容：

> “可能的原因是我们忘记了这个功能甚至存在。自从 2006 年最初引入 FTS1 以来，它似乎已经存在于简单的标记器中，没有改变。”

关于使用该功能是否安全的报价：

> “但它在代码中已经存在很长时间了，我们不敢更改它，因为害怕破坏长期建立的程序。”

...但是也有人提到该功能不太可能已经过彻底测试。

我刚刚通过电子邮件发送了 SQLite 用户邮件列表，询问是否可以记录此功能。

更新：我要补充的一件事是，我们发现如果将诸如 '*' 或 '-' 之类的字符配置为这样的分隔符，那么它们也会从 FTS MATCH 子句中的*查询*中删除。因此，虽然这适用于“。” 等，它不能用于在 FTS MATCH 中也是特殊字符的字符。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-08-23T19:21:35.243

您不需要编写自己的分词器：一些内置分词器允许您在创建表时指定某些字符应该或不应该被视为单词字符。例如，unicode61 标记器（请参阅[FTS3 文档](https://www.sqlite.org/fts3.html#tokenizer)，您可能必须在构建时启用对它的支持）允许您传递`tokenchars`和`separators`参数（在[源代码](http://www.sqlite.org/cgi/src/artifact/92391b4b4fb043564c6539ea9b8661e3bcba47b9)中查看）。

在你的情况下，我相信你可以使用这样的东西：

```
CREATE VIRTUAL TABLE whatever USING fts4(
    columns,

    tokenize=unicode61 "tokenchars=."
); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T16:44:37.473

标记器定义了标记是什么，因此您确实需要编写自己的标记。

您可以搜索短语`"2 3"`，它会找到带有任何分隔符的数字 2 和 3。

# ruby-on-rails - How to access virtual attribute from a controller

> ID：16080310
> 
> 赞同：0
> 
> 时间：2013-04-18T10:19:57.630
> 
> 标签：ruby-on-rails, ruby-on-rails-3

I'm using Rails 3.2.11 and Ruby 1.9.3 in Mac OS X Mountain Lion

I have a user model, and i created a virtual attribute called message

```
attr_accessor :message 
```

In my code, i try this:

```
if condition == true
  self.message = "Value is True."
else
  self.message = "Value is not True" 
```

In my controller, I try this

```
def method
  user = User.find(1)
  flash[:message] = user.message
end 
```

But the flash message doesn't display anything. It's nil. How can I pass the value I set in the model to the controller? thanks a lot!

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:24:50.797

似乎是逻辑：当您从数据库中检索对象时，没有理由它的 attr_accessor 应该包含任何内容。

坚持你的逻辑，你宁愿：

*   删除 attr_accessor

*   在您的 User 类中创建一个方法。

像这样：

```
def message 
  if condition
    "Value is True."
  else
    "Value is not True"
  end
end 
```

请注意，您正在耦合数据和视图，这不是一个好习惯。

# delphi - 如何将文本字符串发送到服务？

> ID：16080311
> 
> 赞同：0
> 
> 时间：2013-04-18T10:20:01.990
> 
> 标签：delphi, service

我有一个桌面应用程序和一项服务。如何将字符串从桌面应用程序发送到我的服务并在服务中处理它？

我不想使用套接字，因为它可能被 Windows 防火墙阻止。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-18T10:48:50.833

如果您不想使用网络传输，那么进行跨会话 IPC 的最简单方法可能是使用命名管道。需要注意的主要事情是在创建命名管道时需要提供安全属性。如果不这样做，您将无法在跨会话通信中取得成功。我这样做的代码如下所示：

```
var
  SA: TSecurityAttributes;
....
SA.nLength := SizeOf(SA);
SA.bInheritHandle := True;
ConvertStringSecurityDescriptorToSecurityDescriptor(
  'D:(A;OICI;GRGW;;;AU)',//discretionary ACL to allow read/write access for authenticated users
  SDDL_REVISION_1,
  SA.lpSecurityDescriptor,
  nil
);
FPipe := CreateNamedPipe(
  '\\.\pipe\MyPipeName',
  PIPE_ACCESS_DUPLEX,
  PIPE_TYPE_MESSAGE or PIPE_READMODE_MESSAGE or PIPE_WAIT,
  PIPE_UNLIMITED_INSTANCES,
  0,//don't care about buffer sizes, let system decide
  0,//don't care about buffer sizes, let system decide
  100,//timout (ms), used by clients, needs to cover the time between DisconnectNamedPipe and ConnectNamedPipe
  @SA
);
LocalFree(HLOCAL(SA.lpSecurityDescriptor));
if FPipe=ERROR_INVALID_HANDLE then begin
  ;//deal with error
end; 
```

# php - 获取重叠像素数PHP

> ID：16080316
> 
> 赞同：-1
> 
> 时间：2013-04-18T10:20:14.133
> 
> 标签：php

如果我有它们的 X、Y 坐标和它们的高度/宽度，那么在 PHP 中获取两个矩形之间重叠像素数的最短方法是什么？这是一个最佳实践问题，因为我目前正在使用错误/凌乱的 if 语句集合来做这件事。

编辑：这是我目前正在尝试解决的问题：

```
echo overlapping(1,1,5,5,4,4,6,6).PHP_EOL;
echo overlapping(0,0,29,21,30,20,40,50).PHP_EOL;
function overlapping($x1,$y1,$w1,$h1,$x2,$y2,$w2,$h2){
$wover = abs($x1+($w1/2)  - ($x2+($w2/2))) - ($w1/2)+ ($w2/2);
$hover = abs($y1+($h1/2)  - ($y2+($h2/2))) - ($h1/2)+ ($h2/2);
return $wover*$hover;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:42:32.003

```
echo overlapping(0,-1,10,20,30,20,40,50);

function overlapping($x1,$y1,$w1,$h1,$x2,$y2,$w2,$h2){

$wover = abs($x1+($w1/2)  - ($x2+($w2/2))) > ($w1/2)+ ($w2/2)?0:1;

$hover = abs($y1+($h1/2)  - ($y2+($h2/2))) > ($h1/2)+ ($h2/2)?0:1;

if($hover && $wover ){
return 'over';

}
return 'not';

} 
```

[http://sandbox.onlinephpfunctions.com/code/1ea506fd72f827965d7241d520789a833b34dff5](http://sandbox.onlinephpfunctions.com/code/1ea506fd72f827965d7241d520789a833b34dff5)

# ios - 从 UICollectionView 中删除一个项目

> ID：16080322
> 
> 赞同：4
> 
> 时间：2013-04-18T10:20:39.143
> 
> 标签：ios, uicollectionview, uialertview, uiactionsheet

我有一组图像显示在`UICollectionView`. 当用户点击图像时，它会生成`UIActionSheet`带有该图像的一些选项的 a。其中一个 ID 从`UICollectionView`. 当用户在 中选择删除按钮时`UIActionSheet`，它会弹出一个警报视图，要求确认。如果用户选择是，它应该删除照片。

我的问题是，要从 中删除项目`UICollectionView`，您必须将 传递`indexPath`给`deleteItemsAtIndexPaths`事件。由于最终确认是在警报视图的`didDismissWithButtonIndex`事件中授予的，因此我无法找到一种方法来`indexPath`从那里获取所选图像的图像以将其传递给`deleteItemsAtIndexPaths`事件。我怎样才能做到这一点？

这是我的代码：

```
- (void)actionSheet:(UIActionSheet *)actionSheet clickedButtonAtIndex:(NSInteger)buttonIndex
{
    switch (buttonIndex) {
        case 0:
            deletePhotoConfirmAlert = [[UIAlertView alloc] initWithTitle:@"Remove Photo"
                                                                 message:@"Do you want to remove this photo?"
                                                                delegate:self
                                                       cancelButtonTitle:@"Cancel"
                                                       otherButtonTitles:nil, nil];
            [deletePhotoConfirmAlert addButtonWithTitle:@"Yes"];
            [deletePhotoConfirmAlert show];

            break;
        case 1:
            NSLog(@"To Edit photo");
            break;
    }
}

- (void)alertView:(UIAlertView *)alertView didDismissWithButtonIndex:(NSInteger)buttonIndex
{
    if (alertView == deletePhotoConfirmAlert) {
        if (buttonIndex == 1) {
            // Permission to delete the button is granted here.
            // From here deleteItemsAtIndexPaths event should be called with the indexPath
        }
    }
}

- (void)deleteItemsAtIndexPaths:(NSArray *)indexPaths
{

} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-18T10:29:47.270

为什么不使用**[self.collectionView indexPathsForSelectedItems]；**. 我这样做是为了一次删除多个图像。

```
- (void)alertView:(UIAlertView *)alertView didDismissWithButtonIndex:(NSInteger)buttonIndex {
  if (alertView == deletePhotoConfirmAlert) {
    if (buttonIndex == 1) {
        // Permission to delete the button is granted here.
        NSArray *selectedItemsIndexPaths = [self.collectionView indexPathsForSelectedItems];

       // Delete the items from the data source.
        [self deleteItemsFromDataSourceAtIndexPaths:selectedItemsIndexPaths];

        // Now delete the items from the collection view.
        [self.collectionView deleteItemsAtIndexPaths:selectedItemsIndexPaths];
    }
  }
}

// This method is for deleting the selected images from the data source array
-(void)deleteItemsFromDataSourceAtIndexPaths:(NSArray  *)itemPaths {
   NSMutableIndexSet *indexSet = [NSMutableIndexSet indexSet];
   for (NSIndexPath *itemPath  in itemPaths) {
     [indexSet addIndex:itemPath.row];
   }
   [self.images removeObjectsAtIndexes:indexSet]; // self.images is my data source
} 
```

**编辑**

```
-(void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
   NSArray *indexpaths = [self.collectionView indexPathsForSelectedItems];
   DetailViewController *dest = [segue destinationViewController];
   dest.imageName = [self.images objectAtIndex:[[indexpaths objectAtIndex:0] row]];
} 
```

# phpstorm - 如何将项目特定设置保存到其自己的“.idea”文件夹中？

> ID：16080323
> 
> 赞同：0
> 
> 时间：2013-04-18T10:20:43.343
> 
> 标签：phpstorm

我有两个项目，一个基于 Drupal，另一个基于 Zend 框架，因此它们使用不同的代码样式。

我为每个项目打开两个窗口。当我将 Drupal 项目设置更改为 Drupal 代码样式时，Zend 项目也发生了变化。

如何将项目特定设置保存到其自己的`.idea`文件夹中，以便我可以为每个项目使用不同的代码样式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:29:19.910

使用**“管理”**按钮，选择代码样式并单击**“复制到项目”**。现在您的方案将设置为“项目”，并将仅应用于该**项目**。

![在此处输入图像描述](https://i.stack.imgur.com/7Hq71.png)

不幸的是，这就是它现在的工作方式（令人困惑，我同意）。

对应票：http: [//youtrack.jetbrains.com/issue/IDEA-88210](http://youtrack.jetbrains.com/issue/IDEA-88210)

# wordpress - WordPress | WP_Query('s=a') 什么都不返回

> ID：16080325
> 
> 赞同：1
> 
> 时间：2013-04-18T10:20:44.733
> 
> 标签：wordpress

我有以下代码：

```
$data = new WP_Query('s=a'); 
```

并且 print_r 返回以下数据：

```
WP_Query Object
(
    [query_vars] => Array
        (
            [s] => a
            [error] => 
            [m] => 0
            [p] => 0
            [post_parent] => 
            [subpost] => 
            [subpost_id] => 
            [attachment] => 
            [attachment_id] => 0
            [name] => 
            [static] => 
            [pagename] => 
            [page_id] => 0
            [second] => 
            [minute] => 
            [hour] => 
            [day] => 0
            [monthnum] => 0
            [year] => 0
            [w] => 0
            [category_name] => 
            [tag] => 
            [cat] => 
            [tag_id] => 
            [author_name] => 
            [feed] => 
            [tb] => 
            [paged] => 0
            [comments_popup] => 
            [meta_key] => 
            [meta_value] => 
            [preview] => 
            [sentence] => 
            [fields] => 
            [menu_order] => 
            [category__in] => Array
                (
                )

            [category__not_in] => Array
                (
                )

            [category__and] => Array
                (
                )

            [post__in] => Array
                (
                )

            [post__not_in] => Array
                (
                )

            [tag__in] => Array
                (
                )

            [tag__not_in] => Array
                (
                )

            [tag__and] => Array
                (
                )

            [tag_slug__in] => Array
                (
                )

            [tag_slug__and] => Array
                (
                )

            [ignore_sticky_posts] => 
            [suppress_filters] => 
            [cache_results] => 1
            [update_post_term_cache] => 1
            [update_post_meta_cache] => 1
            [post_type] => any
            [posts_per_page] => 10
            [nopaging] => 
            [comments_per_page] => 50
            [no_found_rows] => 
            [search_terms] => Array
                (
                    [0] => a
                )

            [order] => DESC
        )

    [tax_query] => WP_Tax_Query Object
        (
            [queries] => Array
                (
                )

            [relation] => AND
        )

    [meta_query] => WP_Meta_Query Object
        (
            [queries] => Array
                (
                )

            [relation] => 
        )

    [post_count] => 0
    [current_post] => -1
    [in_the_loop] => 
    [comment_count] => 0
    [current_comment] => -1
    [found_posts] => 0
    [max_num_pages] => 0
    [max_num_comment_pages] => 0
    [is_single] => 
    [is_preview] => 
    [is_page] => 
    [is_archive] => 
    [is_date] => 
    [is_year] => 
    [is_month] => 
    [is_day] => 
    [is_time] => 
    [is_author] => 
    [is_category] => 
    [is_tag] => 
    [is_tax] => 
    [is_search] => 1
    [is_feed] => 
    [is_comment_feed] => 
    [is_trackback] => 
    [is_home] => 
    [is_404] => 
    [is_comments_popup] => 
    [is_paged] => 
    [is_admin] => 
    [is_attachment] => 
    [is_singular] => 
    [is_robots] => 
    [is_posts_page] => 
    [is_post_type_archive] => 
    [query_vars_hash] => 1015947de489d0153582586bded7c016
    [query_vars_changed] => 
    [thumbnails_cached] => 
    [query] => Array
        (
            [s] => a
        )

    [request] => SELECT * FROM wp_posts WHERE 1=2
    [posts] => Array
        (
        )

) 
```

这个查询有什么问题并且不返回任何数据？还要看一下“requer”，它是“SELECT * FROM wp_posts WHERE 1=2”

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-04-20T06:52:43.147

我遇到了同样的问题。我的情况也被证明是由于 Relevanssi 搜索插件。

我在 Relevanssi 支持论坛中找到了[这个。](http://www.relevanssi.com/knowledge-base/query_posts/#comment-1635153371)

将此添加到您的主题`functions.php`或插件中的某个位置。

```
add_filter('relevanssi_prevent_default_request',   'rlv_fix_archive_kill', 10, 2);
function rlv_fix_archive_kill($kill, $query) {
    if (empty($query->query_vars['s'])) $kill = false;
    return $kill;
} 
```

# avplayer - iOS上AVPlayer使用NSURLProtocol实现边下载边播放

> ID：16080326
> 
> 赞同：2
> 
> 时间：2013-04-18T10:20:45.017
> 
> 标签：avplayer, nsurlprotocol

我正在尝试在我的服务器上播放 mp4 视频，我想同时将此视频缓存到磁盘。

我知道我可以只使用 2 个请求来执行此操作，一个用于下载另一个由 AVPlayer 创建的用于播放视频，但这会浪费网络带宽。

所以我只需要使用一个外部请求来下载数据并从 MyNSURLProtocol 中的 AVPlayer 捕获所有 NSURLRequest 并为它们手动创建 NSHTTPURLResponse 。

这是工作流程的样子：

```
AVPlayer <-->  MyNSURLProtocol <--> mp4 over network. 
```

通过使用 Charles，我可以看到 AVPlayer 在 Internet 上播放视频需要 2 个步骤。第一步是下载前 2 个字节，以了解整个视频文件的大小。以下请求将同时下载文件的不同部分。

所以 MyNSURLProtocol 所做的只是使用外部请求下载整个 mp4 文件，当有足够的数据时，它将创建发送到 AVPlayer 的响应（也是数据）。

这就是它为 2 字节请求创建和发送响应的方式。

```
NSMutableDictionary* headers = ... // Config the headers like this:

{
    "Accept-Ranges" = bytes;
    "Cache-Control" = public;
    "Content-Length" = 2;
    "Content-Range" = "bytes 0-1/6581417";
    "Content-Type" = "video/3gpp";
    Date = "Thu, 18 Apr 2013 08:34:35 GMT";
    Expires = "Wed, 12 Feb 2014 08:34:35 GMT";
    "Last-Modified" = "Tue, 16 Apr 2013 09:03:35 GMT";
    "Connection" = Close;
    Server = "gvs 1.0";
    "X-Content-Type-Options" = nosniff;
}

NSHTTPURLResponse* response = [[NSHTTPURLResponse alloc] initWithURL:
self.request.URL statusCode:206 HTTPVersion:@"HTTP/1.1" headerFields:headers];

[self.client URLProtocol:self didReceiveResponse:response 
cacheStoragePolicy:NSURLCacheStorageAllowed]; 
```

问题是**AVPlayer 没有发送以下请求来获取实际数据**，嗯......有什么线索吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-23T03:38:00.880

好的，最后我发现了这个： [How to play movie with a URL using a custom NSURLProtocol?](https://stackoverflow.com/questions/4383388/how-to-play-movie-with-a-url-using-a-custom-nsurlprotocol?rq=1)

似乎自定义 NSURLProtocol 不能与 AVPlayer 一起使用。所以我放弃了。

# java - 如何使用 java 中的单个结果集检查是否有记录并从数据库中获取记录值？

> ID：16080328
> 
> 赞同：0
> 
> 时间：2013-04-18T10:20:51.983
> 
> 标签：java, sql

我如何使用java中的单个结果集检查是否有记录并从数据库中获取值...

我正在使用此代码来检查数据库中是否有记录..

然后我得到了记录集的值，但它没有获取第二行值......它显示一行值......任何人都给我解决方案......

```
try {
    Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
    Connection conn = DriverManager.getConnection("jdbc:odbc:mobile","","");
    String qry = "SELECT * from login";
    ResultSet rs = stmt.executeQuery(qry); 
    if (rs.next()) {
        while(rs.next()) { 
            System.out.println(rs.getString("value1");
            System.out.println(rs.getString("value2");
        }     
    } else {
        System.out.println("No Records");
    }
} catch(Exception e) {  
    System.out.println(e);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:37:00.223

尝试这个：

如果要触发数据库中是否存在记录：

```
if (!rs.next()) 
{
    System.out.println("No Records Found");
}
else
{
    while(rs.next())
    { 
        System.out.println(rs.getString("value1");
        System.out.println(rs.getString("value2");
    }
} 
```

如果您不想触发数据库中是否存在记录，那么以下内容就足够了：

```
while(rs.next())
{ 
    System.out.println(rs.getString("value1");
    System.out.println(rs.getString("value2");
} 
```

**更新1试试** 这个：

```
try
{
    pstmt = con.prepareStatement("Select * from login", ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_UPDATABLE);
    rs = pstmt.executeQuery();
    if (!rs.next()) 
    {
        System.out.println("No Records Found");
    }
    else
    {
        rs.beforeFirst();
        while(rs.next())
        { 
            System.out.println(rs.getString("value1");
            System.out.println(rs.getString("value2");
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:25:50.487

您好，您的问题是您在 if 条件和 while 条件下都使用 rs.next() 。当您使用 while 循环时，您不需要检查 if(rs.next())

使用它会导致您记录集的光标进一步移动两个位置，从而导致您跳过第一条记录。

应该使用

```
if(!rs.isLast()){
    while(rs.next()){
        System.out.println(rs.getString("value1"));
        System.out.println(rs.getString("value2"));
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:40:33.160

为什么要检查行是否存在？

`while(rs.next())`会自动检查`do`下一行是否存在，但如果你想在行不存在时说些什么，你应该使用`if(rs.isLast())`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-18T10:26:25.563

该`rs.next()`方法一次将光标向前移动一行。执行查询后，您可以立即开始迭代`ResultSet`; 如果您的 中没有单条记录`ResultSet`，则第一次调用`next()`将返回`false`并且您的`while`块永远不会执行。

您当前的代码总是跳过 中的第一条记录`ResultSet`，这很可能不是您想要的。

# asp.net - 如何将Repeater Results作为不同的页面

> ID：16080331
> 
> 赞同：1
> 
> 时间：2013-04-18T10:21:05.697
> 
> 标签：asp.net, paging

```
DataTable newdt = new DataTable();
newdt = DataSetHelper.Join(ds.Tables["Unit"], ds.Tables["Location"], new DataColumn[] { ds.Tables["Unit"].Columns["Location_Id"] }, new DataColumn[] { ds.Tables["Location"].Columns["Location_Id"] }, "locationName");
DataView dv = ds.Tables["Unit"].DefaultView;
Repeater.DataSource = dv;
Repeater.DataBind(); 
```

现在所有结果都显示在一页上，我想将其更改为不同的页面。

我怎样才能做到这一点？请帮忙

## 更新 1

```
dv.Sort = SortList.SelectedValue.ToString(); 
PagedDataSource page = new PagedDataSource(); 
page.DataSource = dv; page.AllowPaging = true; 
// page.PageSize = Int32.Parse(ResultList.SelectedValue); page.PageSize = 10; 
page.CurrentPageIndex = CurrentPage; lblCurrentPage.Text = "Page: " + (CurrentPage + 1).ToString() + " of " + page.PageCount.ToString();
cmdPrev.Enabled = !page.IsFirstPage; 
cmdNext.Enabled = !page.IsLastPage; invList.DataSource = dv; invList.DataBind(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:29:18.793

您可以将分页放入。`Repeater`尝试此[链接](http://www.codeproject.com/Articles/31819/Pagination-with-Repeater-Control)以获取更多信息

# unit-testing - SONAR 未记录的公共 API 被单元测试歪曲

> ID：16080335
> 
> 赞同：0
> 
> 时间：2013-04-18T10:21:12.517
> 
> 标签：unit-testing, sonarqube, static-code-analysis

SONAR 指标包括一个用于评估文档质量的部分，其中包含一个项目[Public undocumented API](http://docs.codehaus.org/display/SONAR/Metric+definitions#Metricdefinitions-Documentation)。这在我们的项目中非常高，因为它会报告每个单元测试。但是，对于 Junit，单元测试方法必须是公开的。

有没有一种简单的方法可以**从未记录的 API 指标中删除单元测试方法**？

我知道这些替代方案：

*   我们可以为每个测试方法添加 JavaDoc 注释。这没有用，因为它只会污染代码。
*   测试位于 Eclipse 测试片段项目中。我们可以从 SONAR 分析中完全排除测试类。但是，我们通常希望将相同的规则应用于测试代码和生产代码（例如，在检查违规时）。

我在 SONAR 配置中没有找到与该指标匹配的部分，但我可能错过了它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:31:06.483

这个指标没有提供单元测试类，你一定在你的配置中遗漏了一些东西。

例如，查看[Sonar 分析的 Sonar（在 Nemo 上）](http://nemo.sonarsource.org/drilldown/measures/48569?metric=public_undocumented_api)：您会看到“public_undocumented_api”没有报告任何测试类。

# sql - 用多个表变量填充 SQL 中的 Local #temptable

> ID：16080336
> 
> 赞同：2
> 
> 时间：2013-04-18T10:21:13.363
> 
> 标签：sql, sql-server-2008

我在 SQL Server Management Studio 2008 中，我想设置多个 OrderID 以通过此查询运行它们。我听说我必须使用 TempTable，但我不知道如何设置多个表变量。这是我使用的原始查询：

```
DECLARE @OrderID int
DECLARE @Status int

-- FF nummer
SET @OrderID = 134
-- Huidige status
SET @Status = 4

BEGIN TRANSACTION

UPDATE FF_Task
SET              tsk_FK_CurrentStatus = NULL
WHERE     (tsk_FK_Order = @OrderID)

UPDATE    FF_Order
SET              ord_FK_CurrentOrderStatus  = NULL
WHERE     (ord_PK = @OrderID)

DELETE FROM FF_StatusLog
WHERE     (stl_PK IN
     (SELECT     TOP (1) FF_StatusLog_1.stl_PK
     FROM          FF_StatusLog AS FF_StatusLog_1 INNER JOIN
     FF_Task ON FF_StatusLog_1.stl_FK_Task = FF_Task.tsk_PK
     WHERE      (FF_Task.tsk_FK_Order = @OrderID)
     ORDER BY FF_StatusLog_1.stl_PK DESC))

DELETE
FROM         FF_OrderStatusLog
WHERE     (osl_Status = @Status) AND (osl_FK_Order = @OrderID)                            

UPDATE FF_Task
SET
tsk_FK_CurrentStatus = (SELECT     TOP (1) FF_StatusLog_1.stl_PK
                        FROM          FF_StatusLog AS FF_StatusLog_1 INNER JOIN
                        FF_Task ON FF_StatusLog_1.stl_FK_Task = FF_Task.tsk_PK
                        WHERE      (FF_Task.tsk_FK_Order = @OrderID)
                        ORDER BY FF_StatusLog_1.stl_PK DESC)
                        WHERE     (tsk_FK_Order = @OrderID)

UPDATE    FF_Order
SET              ord_FK_CurrentOrderStatus  = (SELECT TOP 1 osl_Status FROM
                FF_OrderStatusLog WHERE (osl_FK_Order = @OrderID) ORDER BY osl_CreationDateTime DESC)
WHERE     (ord_PK = @OrderID)
COMMIT TRANSACTION 
```

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:16:14.560

您可以使用表变量或临时表

同样在 SQLServer2008+ 中，您可以将[表值参数](http://msdn.microsoft.com/en-us/library/bb510489%28v=sql.105%29.aspx)传递给 SP 和 UDF。表值参数允许您以表格格式将数据行传递给 SP 和 UDF。要创建表值参数，您必须首先创建定义表结构的表类型。

```
DECLARE @TableOfParemeters TABLE(OrderID int, Status int)
INSERT @TableOfParemeters
VALUES(134, 4),
      (135, 5)

BEGIN TRANSACTION

UPDATE FF_Task
SET tsk_FK_CurrentStatus = NULL
WHERE tsk_FK_Order IN (SELECT OrderID FROM @TableOfParemeters)

UPDATE FF_Order
SET ord_FK_CurrentOrderStatus  = NULL
WHERE ord_PK IN (SELECT OrderID FROM @TableOfParemeters)

;WITH cte AS
 (
  SELECT *, ROW_NUMBER() OVER(PARTITION BY stl_PK ORDER BY stl_PK DESC) AS rn
  FROM FF_StatusLog stl INNER JOIN FF_Task ff ON stl.stl_FK_Task = ff.tsk_PK
  WHERE ff.tsk_FK_Order IN (SELECT OrderID FROM @TableOfParemeters)
  )
  DELETE cte
  WHERE rn = 1  

DELETE
FROM FF_OrderStatusLog
WHERE EXISTS (
              SELECT 1
              FROM @TableOfParemeters t
              WHERE osl_Status = t.Status AND osl_FK_Order = t.OrderID
              )

;WITH cte AS
 (
  SELECT stl.stl_PK, ff.tsk_FK_CurrentStatus,
         ROW_NUMBER() OVER(PARTITION BY stl_PK ORDER BY stl_PK DESC) AS rn
  FROM FF_StatusLog stl INNER JOIN FF_Task ff ON stl.stl_FK_Task = ff.tsk_PK
  WHERE ff.tsk_FK_Order IN (SELECT OrderID FROM @TableOfParemeters)
  )
  UPDATE cte
  SET tsk_FK_CurrentStatus = stl_PK
  WHERE rn = 1

;WITH cte AS
 (
  SELECT o.ord_FK_CurrentOrderStatus, l.osl_Status,
         ROW_NUMBER() OVER(PARTITION BY osl_Status ORDER BY osl_CreationDateTime DESC) AS rn
  FROM FF_Order o INNER JOIN FF_OrderStatusLog l ON o.ord_PK = l.osl_FK_Order
  WHERE l.osl_FK_Order IN (SELECT OrderID FROM @TableOfParemeters)
  )
  UPDATE cte
  SET tsk_FK_CurrentStatus = osl_Status
  WHERE rn = 1 

COMMIT TRANSACTION 
```

# iphone - 如何从另一个 B 类 (UIVIew) 更新 A 类 (UIViewController) 的 UI 元素

> ID：16080341
> 
> 赞同：0
> 
> 时间：2013-04-18T10:21:24.707
> 
> 标签：iphone, ios, multithreading, user-interface

我正在尝试从 B 类`View-Controller`和视图类型类更改 A 类的背景颜色，但我无法做到这一点。

我知道我与线程有关。我已经尝试过使用`performSelectorOnMainThread`方法和其他一些方法，但没有什么对我有用。

我的代码如下 -

```
//  In Class B
-(void)method{
 ClassAViewController *AView=[[ClassAViewController alloc]init];
    AView.imageIndex=self.currentRenderingImageIndex;
    [AView findIndexOfImage];
} 
```

现在我正在调用 A 类方法

```
-(void)findIndexOfImage
{
   NSLog(@"print the index is %i",imageIndex);// This is working fine
   AView.backgroundColor=[UIColor blueColor];// Here it is not updating my view.

} 
```

我知道这是我在这里问的非常愚蠢的问题，请告诉我该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:25:08.587

只需从 B 类调用这些行：

```
BaseViewController *objBaseViewController = [[BaseViewController alloc]initWithNibName:@"BaseViewController" bundle:[NSBundle mainBundle]];
    [objBaseViewController firstlink]; 
```

BaseViewController 是我的类名，你在这里给出你的类名& firstlink 是我的 A 类方法。所以你在这里给出你想要调用的 A 类方法。

# git - Git 中的“分支提示”是什么？

> ID：16080342
> 
> 赞同：31
> 
> 时间：2013-04-18T10:21:27.040
> 
> 标签：git, git-branch

我正在学习 Git 并阅读[Pro Git 书](https://git-scm.com/book/en/v2)。书中有时会使用术语“分支提示”，也可以在 Stack Overflow 上使用，但我找不到它的含义。

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-04-18T10:22:11.913

分支提示是分支上的最后一次提交或最近一次提交。基本上它指向分支中最新的代码。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-04-18T10:27:29.503

使用[Pro Git 书中](https://git-scm.com/book/en/v2)的图片来说明：

![git中的一些分支](https://i.stack.imgur.com/o1X7F.png)

`master`，`hotfix`并且`iss53`都是这里的“分支提示”。[凯文的答案](https://stackoverflow.com/a/16080357/1615903)是正确的，但这对于初学者来说可能更容易理解。

# node.js - 使用jade和所见即所得的markdown来允许用户编辑内容

> ID：16080350
> 
> 赞同：7
> 
> 时间：2013-04-18T10:21:53.317
> 
> 标签：node.js, express, tinymce, wysiwyg, pug

我相信除非万不得已，否则不要重新发明轮子。所以我不想开始编码已经编码的东西，或者很多人已经在为它做出贡献。

我最近刚移民到 Node.js 星球（对不起 php/apache），需要将资源放在一起以使其他语言跟上速度。

我使用[Node.js](http://nodejs.org/api/)作为服务器监听器， [Express.js](http://expressjs.com/api.html)作为中间件，[jade](https://github.com/visionmedia/jade#readme-contents) js 作为模板引擎。

我想使用[TinyMCE](http://www.tinymce.com/wiki.php)之类的功能，但不是通常的丑陋 HTML`markup`代码，我希望代码是`markdown`并允许**玉**做它的 majic。我想它或多或少像 stackoverflow 编辑（我正在输入）但可能更高级的 UI 明智。

因此，例如，如果我单击一个按钮`**B**`，它应该使用任何 WYSIWYG 编辑器将所选文本设为粗体。

**参考资料**：

*   [http://nodejs.org/api/](http://nodejs.org/api/)
*   [http://expressjs.com/api.html](http://expressjs.com/api.html)
*   [https://github.com/visionmedia/jade#readme-contents](https://github.com/visionmedia/jade#readme-contents)
*   [http://www.tinymce.com/wiki.php](http://www.tinymce.com/wiki.php)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-11-25T18:27:46.907

您可以使用任何生成 HTML 的所见即所得编辑器，并在“保存”时，允许 HTML 传递到服务器，然后在存储它之前将其转换为 Jade 语法。

例如，您可以轻松地将这个包集成到您的 Express 服务器中：

[https://www.npmjs.org/package/html2jade](https://www.npmjs.org/package/html2jade)

```
html2jade.convertHtml(html, {}, function (err, jade) {
   // save jade to the DB
}); 
```

# jquery - jQuery - 加载 JPlayer 时 removeClass 'current'

> ID：16080352
> 
> 赞同：0
> 
> 时间：2013-04-18T10:21:59.207
> 
> 标签：jquery, jplayer, removeclass

我在这里想念什么？我试图在加载页面时从 href 中删除类“jp-playlist-current”。加载此页面时，我不想要任何“当前”样式。我只希望在用户单击链接时显示“当前”。

不幸的是，由于此代码是动态填充的，因此我无法给出该类的静态视图。相反，请查看以下链接中发布的屏幕截图：

[http://dixiedevils.com/code.jpg](http://dixiedevils.com/code.jpg)

这是页面的完整代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Untitled</title>

<script type="text/javascript">
$(document).ready(function(){
    $('div.jp-type-playlist div.jp-playlist li.jp-playlist-current a').removeClass('jp-playlist-current');
    //$('div.jp-type-playlist div.jp-playlist li').removeClass('jp-playlist-current');
});
</script>

</head>
<body>

<div id="jquery_jplayer_1" class="jp-jplayer"></div>

<div id="jp_container_1" class="jp-audio">

    <div class="jp-type-playlist">

        <div class="jp-playlist">
            <ul>
                <!-- below here is where the dynamic JQ content is placed: -->
                <li></li>
            </ul>
        </div>

    </div>
</div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:27:20.003

```
$("#jp_container_1 .jp-type-playlist .jp-playlist li").find('a').each(function(){
       $(this).removeClass('jp-playlist-current');
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-19T08:46:01.187

使用 JPlayer 时，应使用以下 FINAL CODE 来完成此任务：

... 刚过：

```
swfPath: "../js",
supplied: "ogg, mp3, m4a",
wmode: "window", 
```

...添加这个：

```
ready : function () {
    $('div.jp-type-playlist div.jp-playlist li.jp-playlist-current a').removeClass('jp-playlist-current');
    $('div.jp-type-playlist div.jp-playlist li').removeClass('jp-playlist-current');
    $('div.jp-type-playlist div.jp-playlist li').click(function () {
        $('div.jp-type-playlist div.jp-playlist li:first').addClass('jp-playlist-current');
        $('div.jp-type-playlist div.jp-playlist li.jp-playlist-current a').addClass('jp-playlist-current');
    });
} 
```

这将删除“当前”样式，然后在用户单击链接时将其添加回来。

# c# - 如何从异步方法回调更新 c# wpf 中的 gui

> ID：16080355
> 
> 赞同：-1
> 
> 时间：2013-04-18T10:22:03.657
> 
> 标签：c#, .net, wpf, asynchronous, mvvm-light

我已经在 stackoverflow 和网络上进行了搜索，但找不到解决问题的方法。

我以异步方式从流中读取。我想要回调来更新 gui

```
[STAThread]
    private void ClientLoggedCallback(IAsyncResult res)
    {
        try
        {
            MailClient.Helpers.Client.getInstance().client.GetStream().EndWrite(res);
            MailClient.Helpers.Client.getInstance().asyncRecieveEncryptedProtocolMessage(new AsyncCallback(LoginInfo_recieved));
        }
        catch { }
    }
    [STAThread]
    private void LoginInfo_recieved(IAsyncResult res)
    {
        try
        {
            MailClient.Helpers.Client.getInstance().client.GetStream().EndRead(res);
            MailClient.AsyncState state = (MailClient.AsyncState)res.AsyncState;
            string answer = Aes.DecryptStringFromBytes_Aes(state.buffer, state.AES_KEY, state.AES_IV);
            if (answer.Contains("OK"))
            {
                string[] answer_params = answer.Split(',');
                LoggedUserInfo.USER_ID = Convert.ToInt32(answer_params[1]);
                LoggedUserInfo.USER_LOGIN = answer_params[2];

                //zalogowano
                //this.TargetWindow = new MessageListsWindow();
                Dispatcher.CurrentDispatcher.Invoke(DispatcherPriority.Background, new Action(() => this.TargetWindow = new MessageListsWindow()));
                //System.Windows.Application.Current.Dispatcher.Invoke(DispatcherPriority.Background,  new Action(() => this.TargetWindow = new MessageListsWindow()));
            }
            else
            {
                //zle dane
                System.Windows.MessageBox.Show("Zle dane");
            }
        }
        catch(Exception exep) { }
    } 
```

这是 asyncSendEncryptedProtocolMessage 的声明

```
asyncSendEncryptedProtocolMessage(string message, AsyncCallback callBack) 
```

使用功能

```
clientStream.BeginWrite(encryptedMessage, 0, encryptedMessage.Length, callBack, st); 
```

当代码执行时出现异常“调用线程必须是 STA，因为许多 UI 组件都需要这个。” 我读到“SetApartmentState(ApartmentState.STA);” 但我不知道如何将其应用于回调。我也尝试过使用 STAThread 属性，但它不起作用。我使用 MVVM Light 框架。

堆栈跟踪

```
" w System.Windows.Threading.DispatcherObject.VerifyAccess()\r\n   w System.Windows.Application.get_MainWindow()\r\n   w MailClient.ViewModel.MainWindowModel.LoginInfo_recieved(IAsyncResult res) w c:\\Users\\oem\\Documents\\Visual Studio 2012\\Projects\\MvvmLight3\\MailClient\\ViewModel\\MainWindowModel.cs:wiersz 171" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:37:00.977

```
 public static void Dispatch(this DispatcherObject source, Action func)
    {
        if (source.Dispatcher.CheckAccess())
            func();
        else
            source.Dispatcher.Invoke(func);
    } 
```

然后像这样使用它：

```
MailClient.Helpers.Client.getInstance()
.asyncRecieveEncryptedProtocolMessage(new AsyncCallback(()=> 
Application.Current.MainWindow.Dispatch(LoginInfo_recieved))); 
```

# c# - javascript 中的 string.Format("{0:n0}")

> ID：16080356
> 
> 赞同：1
> 
> 时间：2013-04-18T10:22:06.427
> 
> 标签：c#, javascript

我试图找到一个等效的功能：

```
string.Format("{0:n0}") 
```

在 JavaScript 中。

或者换句话说，我有一个很长的数字 10898502，我想像这样显示它 10,898,502。

有简单的方法吗？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T11:07:19.977

对于纯 Javascript 解决方案，我会推荐下面的函数。这是由这个 SO Community Wiki 条目提供的：[如何在 JavaScript 中将数字格式化为货币？](https://stackoverflow.com/questions/149055/how-can-i-format-numbers-as-money-in-javascript)

```
Number.prototype.formatMoney = function(c, d, t){
var n = this,
    c = isNaN(c = Math.abs(c)) ? 2 : c, 
    d = d == undefined ? "." : d, 
    t = t == undefined ? "," : t, 
    s = n < 0 ? "-" : "", 
    i = parseInt(n = Math.abs(+n || 0).toFixed(c)) + "", 
    j = (j = i.length) > 3 ? j % 3 : 0;
   return s + (j ? i.substr(0, j) + t : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : "");
};

console.log(
    (1000000.94).formatMoney(1, '.', ',')   // 1,000,000.9
); 
```

# ios - 在类方法之间匹配 2 个 NSString 值

> ID：16080364
> 
> 赞同：0
> 
> 时间：2013-04-18T10:22:23.480
> 
> 标签：ios, objective-c, class, methods

我知道我不能在 Class 方法中传递实例变量，所以我不再对两者之间的区别感到困惑。

因此我有点卡住了。

我有 2 个类方法，它们都可以`NSString`作为参数。

无论如何他们可以匹配吗？因为一个 Class 方法有一个字符串，它是一个 url，需要在按下按钮后在 Safari 中打开，因此`@selector(openBrowser:)`需要知道该 url 来自什么`JWKObjectView01`

请告诉我有办法做到这一点？？

我尝试将其全部更改为实例方法，但是当我按下按钮时应用程序崩溃 - 所以我正在尝试解决这个问题:-)

提前致谢。PS我知道我首先要说我知道你不能混合这两个课程 - 据我所知，但也许我错过了什么？

//添加代码：

UIView 类 .h 文件

```
@interface JWKObjectView01 : UIView <UIWebViewDelegate>
{
    NSString *string;
    NSURL *url;

    NSUserDefaults *defaults;
}

+ (JWKObjectView01 *)anyView:(UIView *)anyView
                         title:(NSString *)title
                        weburl:(NSString *)webstring;

+ (void)openBrowser:(NSString *)urlString; 
```

.m 文件

```
+ (JWKObjectView01 *)anyView:(UIView *)anyView
                       title:(NSString *)title
                      weburl:(NSString *)webString
{
    JWKObjectView01 *anotherView = [[JWKObjectView01 alloc] initWithFrame:CGRectMake(0,0,320,200)];
    anotherView.backgroundColor = [UIColor yellowColor];

    [anyView addSubview:anotherView];

    UIButton *button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    button.frame = CGRectMake(20, 20, 100, 100);

    [button setTitle:title forState:UIControlStateNormal];
    [button addTarget:self action:@selector(openBrowser:) forControlEvents:UIControlEventTouchUpInside];

    [anotherView addSubview:button];

    return anotherView;
}

+ (void)openBrowser:(NSString *)urlString;
{

    //This is where I am stuck and I need the variable - weburl:(NSString *)webString - 

    NSURL *url = [NSURL URLWithString:urlString];

    [[UIApplication sharedApplication] openURL:url];
} 
```

.m 文件视图控制器

```
-(void)viewDidLoad
  {
     [JWKObjectView01 anyView:self.view title:@"OPEN" weburl:@"http://google.com"];
  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:50:32.093

为 url 使用静态变量。在方法中初始化它`initialize`（那不是`init`方法）。您当然可以添加一个设置静态变量值的方法。

与其他语言中的类变量一样，静态变量在运行时仅存在一次。

但它们不是类变量。当名称也用于其他类中的其他静态变量时，您可能会遇到命名冲突。因此，请熟悉单例模式，并在需要静态变量时考虑使用它。

有些人“滥用”应用程序委托对象作为全局字符值的容器。这可能不是“超出书本”，但效果很好并且很常见。但是，我相信单身人士的生活要好得多。

所有这一切都假设相关 URL 将针对所有`JWKObjectView01`.

# postgresql - 如何将 Puppet 的 ralsh 与模块提供的资源类型一起使用？

> ID：16080369
> 
> 赞同：0
> 
> 时间：2013-04-18T10:22:34.040
> 
> 标签：postgresql, puppet

我已经从 Puppetforge 安装了 postgresql 模块。

如何使用 查询 Postgresql 资源`ralsh`？

以下均无效：

```
# ralsh postgresql::db
# ralsh puppetlabs/postgresql::db
# ralsh puppetlabs-postgresql::db 
```

我希望使用它从当前系统中获取数据库列表（包括字符集等属性）和用户名/密码，我可以将其粘贴到 puppet 清单中，以便在另一台机器上重新创建该设置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-25T09:12:25.283

原则上，any`puppet client`从另一个名为`Facter`. 您应该创建一个自定义`Fact`（的模块`Facter`），然后将其包含到您的 puppet 客户端中。之后，我认为您可以`Fact`从`ralsh`.

`Fact`可以在[此处](http://docs.puppetlabs.com/guides/custom_facts.html)找到有关创建自定义的更多信息。

在创建自己的`Fact`时，您应该执行 SQL 查询，然后将结果保存到特定的变量中。

# ruby-on-rails - 具有其他类型关联的 Rails 多态表

> ID：16080370
> 
> 赞同：0
> 
> 时间：2013-04-18T10:22:36.187
> 
> 标签：ruby-on-rails, ruby, activerecord, ruby-on-rails-3.2

我目前正在为 Rails 3.2 应用程序建模，我需要一个名为“archives”的表中名为“archivable”的多态关联。不用担心，但我的“档案”表也必须属于“连接”表。我只是想知道 Rails 是否有任何限制来做到这一点。

[你可以在这里看到模型](http://i1280.photobucket.com/albums/a492/Emmanuel_Lemoine/rails_polymorphic_zps9574561f.png)

另一个细节，我的 Connection 模型有两次 user_id 作为外键。一个 user_id 作为发送者，一个 user_is 作为接收者。可能的？我认为我在下面所做的将行不通...

这是我的模特协会。

```
class User < ActiveRecord::Base
  has_many :connections, :foreign_key => :sender
  has_many :connections, :foreign_key => :receiver
end

class Connections < ActiveRecord::Base
  belongs_to :user
  has_many :archives
end

class Archive < ActiveRecord::Base
  belongs_to :connection
  belongs_to :archivable, :polymorphic => true
end

class Wink < ActiveRecord::Base
  has_many :archives, :as => :archivable
end

class Game < ActiveRecord::Base
  has_many :archives, :as => :archivable
end

class Message < ActiveRecord::Base
  has_many :archives, :as => :archivable
end 
```

您是否发现 Rails 有什么问题或无法解决的问题？

谢谢你们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:36:46.060

我想你想这样做：

```
class Connections
  belongs_to :sender, :class_name => 'User', :foreign_key => 'sender_id'
  belongs_to :receiver, :class_name => 'User', :foreign_key => 'receiver_id' 
end

class User
  has_many :sended_connections, :class_name => 'Connection', :as => :sender
  has_many :received_connections, :class_name => 'Connection', :as => :receiver
end 
```

重要提示：不要声明 2 次 has_many :connections 同名！

# php - PHP正则表达式检查图像是否用标签包装

> ID：16080373
> 
> 赞同：0
> 
> 时间：2013-04-18T10:22:48.407
> 
> 标签：php, regex, html-parsing

我正在创建一个 wordpress 函数，需要确定内容中的图像是否用包含指向 PDF 或 DOC 文件的链接的标签包装，例如

```
<a href="www.site.com/document.pdf"><img src="../images/image.jpg" /></a> 
```

我将如何使用 PHP 进行此操作？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:02:49.440

我*强烈*建议不要为此使用正则表达式。除了更容易出错和可读性更低之外，它也不能让您轻松操作内容。

您最好将内容加载到 DomDocument 中，检索所有`<img>`元素并验证其父元素是否为`<a>`元素。然后，您要做的就是验证`href`属性的值是否以所需的扩展名结尾。

一个非常粗略的实现看起来有点像[这样](http://ideone.com/mhOHSa "ideone.com 上的实时示例")：

```
<?php

$sHtml = <<<HTML
<html>
<body>
    <img src="../images/image.jpg" />
    <a href="www.site.com/document.pdf"><img src="../images/image.jpg" /></a>
    <a href="www.site.com/document.txt"><img src="../images/image.jpg" /></a>
    <p>this is some text <a href="site.com/doc.pdf"> more text</p> 
</body>
</html>
HTML;

$oDoc = new DOMDocument();
$oDoc->loadHTML($sHtml);
$oNodeList = $oDoc->getElementsByTagName('img');

foreach($oNodeList as $t_oNode)
{
    if($t_oNode->parentNode->nodeName === 'a')
    {
        $sLinkValue = $t_oNode->parentNode->getAttribute('href');
        $sExtension = substr($sLinkValue, strrpos($sLinkValue, '.'));

        echo '<li>I am wrapped in an anchor tag '
           . 'and I link to  a ' . $sExtension . ' file '
        ; 
    }
}
?> 
```

我将为读者留下一个确切的实现作为练习;-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T11:19:56.217

这是您可以使用的基于 DOM 解析的代码：

```
$html = <<< EOF
<a href="www.site.com/document.pdf"><img src="../images/image.jpg" /></a>
<img src="../images/image1.jpg" />
<a href="www.site.com/document.txt"><IMG src="../images/image2.jpg" /></a>
<a href="www.site.com/document.doc"><img src="../images/image3.jpg" /></a>
<a href="www.site.com/document1.pdf">My PDF</a>
EOF;
$doc = new DOMDocument();
libxml_use_internal_errors(true);
$doc->loadHTML($html); // loads your html
$nodeList = $doc->getElementsByTagName('a');
for($i=0; $i < $nodeList->length; $i++) {
    $node = $nodeList->item($i);
    $children = $node->childNodes; 
    $hasImage = false;
    foreach ($children as $child) { 
       if ($child->nodeName == 'img') {
          $hasImage = true;
          break;
       }
    }
    if (!$hasImage)
       continue;
    if ($node->hasAttributes())
       foreach ($node->attributes as $attr) {
          $name = $attr->nodeName;
          $value = $attr->nodeValue;
          if ($attr->nodeName == 'href' && 
              preg_match('/\.(doc|pdf)$/i', $attr->nodeValue)) {
                echo $attr->nodeValue . 
                     " - Image is wrapped in a link to a PDF or DOC file\n";
                break;
          }

       }
} 
```

### 现场演示：http: [//ideone.com/dwJNAj](http://ideone.com/dwJNAj)

# ios - UIWebView - PDF 超链接崩溃

> ID：16080374
> 
> 赞同：4
> 
> 时间：2013-04-18T10:22:53.203
> 
> 标签：ios, pdf, uiwebview, uiwebviewdelegate, openurl

我有一个**UIWebView**并在其中打开一个**PDF**。PDF 包含很多超链接，当我***长按***它时会得到一个操作表。按下操作表中的打开按钮，如果超链接是有效的 URL，它会在 safari 中打开，如果是其他东西，它会崩溃**EXEC_BAD_ACCESS**，我这里没有任何崩溃日志。

![在此处输入图像描述](https://i.stack.imgur.com/XLnPE.png)

需要立即帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-23T11:02:40.520

也许这有帮助：

> [https://discussions.apple.com/thread/2483470?start=0&tstart=0](https://discussions.apple.com/thread/2483470?start=0&tstart=0)

似乎是一个常见的错误。

# javascript - 检查一个日期是否在两个日期之间

> ID：16080378
> 
> 赞同：105
> 
> 时间：2013-04-18T10:23:01.540
> 
> 标签：javascript, date

我需要检查一个`date`- 格式的字符串`dd/mm/yyyy`- 是否位于具有相同格式的其他两个日期之间`dd/mm/yyyy`

我试过这个，但它不起作用：

```
var dateFrom = "02/05/2013";
var dateTo = "02/09/2013";
var dateCheck = "02/07/2013";

var from = Date.parse(dateFrom);
var to   = Date.parse(dateTo);
var check = Date.parse(dateCheck );

if((check <= to && check >= from))      
    alert("date contained"); 
```

我使用调试器并检查，`to`and`from`变量有`isNaN`值。你可以帮帮我吗？

* * *

## 回答 #1

> 赞同：124
> 
> 时间：2013-04-18T10:36:37.747

`Date.parse``mm/dd/yyyy`不支持格式 `dd/mm/yyyy`。对于后者，要么使用像 moment.js 这样的库，要么执行如下所示的操作

```
var dateFrom = "02/05/2013";
var dateTo = "02/09/2013";
var dateCheck = "02/07/2013";

var d1 = dateFrom.split("/");
var d2 = dateTo.split("/");
var c = dateCheck.split("/");

var from = new Date(d1[2], parseInt(d1[1])-1, d1[0]);  // -1 because months are from 0 to 11
var to   = new Date(d2[2], parseInt(d2[1])-1, d2[0]);
var check = new Date(c[2], parseInt(c[1])-1, c[0]);

console.log(check > from && check < to) 
```

* * *

## 回答 #2

> 赞同：67
> 
> 时间：2013-04-18T10:26:04.100

不是直接比较日期，而是比较日期的 getTime() 值。getTime() 函数以整数形式返回自 1970 年 1 月 1 日以来的毫秒数——应该很容易确定一个整数是否介于其他两个整数之间。

就像是

```
if((check.getTime() <= to.getTime() && check.getTime() >= from.getTime()))      alert("date contained"); 
```

* * *

## 回答 #3

> 赞同：21
> 
> 时间：2013-04-18T10:46:56.313

试试下面的内容。它会帮助你...

**小提琴：http:** [//jsfiddle.net/RYh7U/146/](http://jsfiddle.net/RYh7U/146/)

**脚本 ：**

```
if(dateCheck("02/05/2013","02/09/2013","02/07/2013"))
    alert("Availed");
else
    alert("Not Availed");

function dateCheck(from,to,check) {

    var fDate,lDate,cDate;
    fDate = Date.parse(from);
    lDate = Date.parse(to);
    cDate = Date.parse(check);

    if((cDate <= lDate && cDate >= fDate)) {
        return true;
    }
    return false;
} 
```

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2017-05-05T21:55:19.850

有 50 票的答案不检查日期，只检查几个月。这个答案是不正确的。下面的代码有效。

```
var dateFrom = "01/08/2017";
var dateTo = "01/10/2017";
var dateCheck = "05/09/2017";

var d1 = dateFrom.split("/");
var d2 = dateTo.split("/");
var c = dateCheck.split("/");

var from = new Date(d1);  // -1 because months are from 0 to 11
var to   = new Date(d2);
var check = new Date(c);

alert(check > from && check < to); 
```

这是另一个答案中发布的代码，我已经更改了日期，这就是我注意到它不起作用的原因

```
var dateFrom = "02/05/2013";
var dateTo = "02/09/2013";
var dateCheck = "07/07/2013";

var d1 = dateFrom.split("/");
var d2 = dateTo.split("/");
var c = dateCheck.split("/");

var from = new Date(d1[2], parseInt(d1[1])-1, d1[0]);  // -1 because months are from 0 to 11
var to   = new Date(d2[2], parseInt(d2[1])-1, d2[0]);
var check = new Date(c[2], parseInt(c[1])-1, c[0]);

alert(check > from && check < to); 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2019-12-24T13:59:04.613

基于接受的答案的简化方法。

就我而言，我需要检查当前日期（今天）是否在其他两个日期的范围内，因此使用 newDate() 而不是硬编码值，但您可以了解如何使用硬编码日期。

```
 var currentDate = new Date().toJSON().slice(0,10);
var from = new Date('2020/01/01');
var to   = new Date('2020/01/31');
var check = new Date(currentDate);

console.log(check > from && check < to); 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-08-11T19:15:42.040

我创建了自定义函数来验证给定日期是否在两个日期之间。

```
var getvalidDate = function(d){ return new Date(d) }

function validateDateBetweenTwoDates(fromDate,toDate,givenDate){
    return getvalidDate(givenDate) <= getvalidDate(toDate) && getvalidDate(givenDate) >= getvalidDate(fromDate);
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-10-19T09:35:09.053

试试这个：

HTML

```
<div id="eventCheck"></div> 
```

JAVASCRIPT

```
// ----------------------------------------------------//
// Todays date
var today = new Date();
var dd = today.getDate();
var mm = today.getMonth()+1; //January is 0!
var yyyy = today.getFullYear();

// Add Zero if it number is between 0-9
if(dd<10) {
    dd = '0'+dd;
}
if(mm<10) {
    mm = '0'+mm;
}

var today = yyyy + '' + mm + '' + dd ;

// ----------------------------------------------------//
// Day of event
var endDay = 15; // day 15
var endMonth = 01; // month 01 (January)
var endYear = 2017; // year 2017

// Add Zero if it number is between 0-9
if(endDay<10) {
    endDay = '0'+endDay;
} 
if(endMonth<10) {
    endMonth = '0'+endMonth;
}

// eventDay - date of the event
var eventDay = endYear + '/' + endMonth + '/' + endDay;
// ----------------------------------------------------//

// ----------------------------------------------------//
// check if eventDay has been or not
if ( eventDay < today ) {
    document.getElementById('eventCheck').innerHTML += 'Date has passed (event is over)';  // true
} else {
    document.getElementById('eventCheck').innerHTML += 'Date has not passed (upcoming event)'; // false
} 
```

小提琴： [https ://jsfiddle.net/zm75cq2a/](https://jsfiddle.net/zm75cq2a/)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-09-26T01:07:10.057

这是用 typescript 编写的 Date Prototype 方法：

```
Date.prototype.isBetween = isBetween;
interface Date { isBetween: typeof isBetween }
function isBetween(minDate: Date, maxDate: Date): boolean {
  if (!this.getTime) throw new Error('isBetween() was called on a non Date object');
  return !minDate ? true : this.getTime() >= minDate.getTime()
    && !maxDate ? true : this.getTime() <= maxDate.getTime();
}; 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-02-09T22:39:11.450

我做了与@Diode相同的事情，第一个答案，但我用一系列日期制作了条件，我希望这个例子对某人有用

例如（与日期数组示例相同的代码）

```
var dateFrom = "02/06/2013";
var dateTo = "02/09/2013";

var d1 = dateFrom.split("/");
var d2 = dateTo.split("/");

var from = new Date(d1[2], parseInt(d1[1])-1, d1[0]);  // -1 because months are from 0 to 11
var to   = new Date(d2[2], parseInt(d2[1])-1, d2[0]); 

var dates= ["02/06/2013", "02/07/2013", "02/08/2013", "02/09/2013", "02/07/2013", "02/10/2013", "02/011/2013"];

dates.forEach(element => {
   let parts = element.split("/");
   let date= new Date(parts[2], parseInt(parts[1]) - 1, parts[0]);
        if (date >= from && date < to) {
           console.log('dates in range', date);
        }
})
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-10-23T05:38:54.757

例如，假设您的日期即将到来，并且您需要安装 momentjs 以获得提前日期功能。

```
let cmpDate = Thu Aug 27 2020 00:00:00 GMT+0530 (India Standard Time)

    let format = "MM/DD/YYYY";
    let startDate: any = moment().format(format);
    let endDate: any = moment().add(30, "days").format(format);
    let compareDate: any = moment(cmpDate).format(format);
    var startDate1 = startDate.split("/");
    var startDate2 = endDate.split("/");
    var compareDate1 = compareDate.split("/");

    var fromDate = new Date(startDate1[2], parseInt(startDate1[1]) - 1, startDate1[0]);
    var toDate = new Date(startDate2[2], parseInt(startDate2[1]) - 1, startDate2[0]);
    var checkDate = new Date(compareDate1[2], parseInt(compareDate1[1]) - 1, compareDate1[0]);

    if (checkDate > fromDate && checkDate < toDate) {
      ... condition works between current date to next 30 days
    } 
```

* * *

## 回答 #11

> 赞同：-1
> 
> 时间：2014-05-09T11:54:31.203

试试这个

```
var gdate='01-05-2014';
        date =Date.parse(gdate.split('-')[1]+'-'+gdate.split('-')[0]+'-'+gdate.split('-')[2]);
        if(parseInt(date) < parseInt(Date.now()))
        {
            alert('small');
        }else{
            alert('big');
        } 
```

[小提琴](http://jsfiddle.net/2CY7W/)

# tfsbuild - Team Foundation Server 2012 构建定义，用于构建团队项目中的所有解决方案

> ID：16080379
> 
> 赞同：0
> 
> 时间：2013-04-18T10:23:10.777
> 
> 标签：tfsbuild

我正在设置一个 TFS 2012 并想为我们的一个团队项目配置一个构建定义。

我想要实现的是我能够手动触发构建定义，它应该构建团队项目中包含的所有解决方案。

到目前为止，我可以在“流程 - > 1\. 所需 - > 要构建的项目”中包含所有解决方案，但是如果有人签入团队项目的新解决方案，我将不得不手动将其添加到所需项目中。

有没有办法将其配置为自动构建团队项目中的所有解决方案？

我阅读了很多不同的帖子和博客，都在谈论如何使用持续集成，但我仍然必须提供所需的项目。现在我有点困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T11:17:21.150

Answear 不是，你不能开箱即用，只要定义的工作空间发生变化，CI 就会触发构建，但是它会构建定义的解决方案/项目。

您将需要为构建创建一个自定义活动，该活动将扫描您的工作区以查找解决方案并覆盖默认列表。

但是，这通常是不好的方法-您将遇到很多复杂情况-构建解决方案的配置和平台，如果应该排除一个解决方案怎么办，如果解决方案在主机级别引用程序集并且 buildmachine 没有安装它怎么办。

更可取的是将您的项目组织到一个构建所有内容的构建解决方案中（您可以有解决方案的解决方案吗？）并确保您的指导方针需要在添加新内容时更新此构建解决方案。

# haskell - 使用 repa-devil 读取的索引图像

> ID：16080381
> 
> 赞同：3
> 
> 时间：2013-04-18T10:23:21.283
> 
> 标签：haskell, repa

我正在尝试检查图像中像素的 RGB 分量，但我不知道该怎么做。

```
import Data.Array.Repa
import Data.Array.Repa.IO.DevIL
import Data.Word (Word8)

main = do
  (RGB ps) <- runIL $ readImage "test.jpeg"
  let k = (Z :. 142) :. 212 :. 0 :: DIM3
  print $ ps ! k 
```

我得到的错误是：

```
[1 of 1] Compiling Main             ( amy.hs, interpreted )

amy.hs:8:15:
    Couldn't match expected type `Array r0 DIM3 a0'
                with actual type `repa-3.2.3.1:Data.Array.Repa.Base.Array
                                    repa-3.2.3.1:Data.Array.Repa.Repr.ForeignPtr.F
                                    repa-3.2.3.1:Data.Array.Repa.Index.DIM3
                                    Word8'
    In the first argument of `(!)', namely `ps'
    In the second argument of `($)', namely `ps ! k'
    In a stmt of a 'do' block: print $ ps ! k
Failed, modules loaded: none. 
```

首先，我不明白这个信息。看起来编译器期望一个`Array something DIM3 something`，它得到一个`Array F DIM3 Word8`. 为什么这些类型不匹配？我已经阅读了Haskell wiki 上的[Repa 教程](http://www.haskell.org/haskellwiki/Numeric_Haskell%3a_A_Repa_Tutorial#Indexing_arrays)，但我仍然不知道如何使它工作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T11:45:04.070

我想你可能有两个不同的版本`repa`在玩。通过说检查

```
ghc-pkg list repa 
```

并查看显示了多少个版本。我怀疑您是`Data.Array.Repa`从一个实例导入的，但`Data.Array.Repa.IO.DevIL`取决于另一个实例。提示在错误消息中：

```
Couldn't match expected type `Array r0 DIM3 a0'
            with actual type `repa-3.2.3.1:Data.Array.Repa.Base.Array 
```

一次，GHC 说`Array`，一次，它说`repa-3.2.3.1:Data.Array.Repa.Base.Array`。这通常意味着它明确希望在`Array`此处的两次出现的类型之间产生差异。

如果我的怀疑是正确的，您可以通过传递隐藏一个版本`repa`（**不是**版本`3.2.3.1`且被 使用的版本）`repa-devil`

```
-hide-package repa-<version> 
```

（填写正确的版本号）到 GHC，或者您可以通过隐藏包

```
ghc-pkg hide repa-<version> 
```

# java - 在 Eclipse 上运行 JUnit

> ID：16080383
> 
> 赞同：0
> 
> 时间：2013-04-18T10:23:24.650
> 
> 标签：java, eclipse, junit

我正在尝试在 Eclipse 中运行以下代码。

它给了我一个错误“*编辑器不包含主要类型*”，但它确实如您所见`public static void main(String args[])`。

任何人都知道如何运行它或为什么它不识别主要方法？

```
package org.axiondb.functional;

import junit.framework.Test;
import junit.framework.TestCase;
import junit.framework.TestSuite;

/**
 * @version $Revision: 1.26 $ $Date: 2005/05/03 18:02:23 $
 * @author Rodney Waldhoff
 * @author Chuck Burdick
 */
public class TestAll extends TestCase {

    public TestAll(String testName) {
        super(testName);
    }

    public static void main(String args[]) {
        String[] testCaseName = { TestAll.class.getName() };
        junit.textui.TestRunner.main(testCaseName);
    }

    public static Test suite() {
        TestSuite suite = new TestSuite();
        suite.addTest(TestDatatypes.suite());
        suite.addTest(TestDDL.suite());
        suite.addTest(TestDQL.suite());
        suite.addTest(TestDQLMisc.suite());
        suite.addTest(TestDQLDisk.suite());
        suite.addTest(TestDQLWithArrayIndex.suite());
        suite.addTest(TestDQLDiskWithArrayIndex.suite());
        suite.addTest(TestDQLWithBTreeIndex.suite());
        suite.addTest(TestDQLDiskWithBTreeIndex.suite());
        suite.addTest(TestDML.suite());
        suite.addTest(TestDMLMisc.suite());
        suite.addTest(TestDMLDisk.suite());
        suite.addTest(TestDMLWithArrayIndex.suite());
        suite.addTest(TestDMLDiskWithArrayIndex.suite());
        suite.addTest(TestDMLWithBTreeIndex.suite());
        suite.addTest(TestDMLDiskWithBTreeIndex.suite());
        suite.addTest(TestMemoryClob.suite());
        suite.addTest(TestDiskClob.suite());
        suite.addTest(TestMemoryBlob.suite());
        suite.addTest(TestDiskBlob.suite());
        suite.addTest(TestThreadedSelect.suite());
        suite.addTest(TestIndexedJoin.suite());
        suite.addTest(TestBugs.suite());
        suite.addTest(TestAxionBTreeDelete.suite());        
        suite.addTest(TestSpecials.suite());
        suite.addTest(TestFunctions.suite());
        suite.addTest(TestThreadedDML.suite());
        suite.addTest(TestTransactions.suite());
        suite.addTest(TestTransactionsDisk.suite());
        suite.addTest(TestConstraints.suite());
        suite.addTest(TestBooleanLiterals.suite());
        suite.addTest(TestTransactionalLobs.suite());
        suite.addTest(TestTransactionalLobsDisk.suite());
        suite.addTest(TestMetaData.suite());
        suite.addTest(TestMetaDataDisk.suite());
        suite.addTest(TestDatabaseLock.suite());
        suite.addTest(TestIndexSpecials.suite());
        suite.addTest(TestForElmar.suite());
        suite.addTest(TestPrepareStatement.suite());
        suite.addTest(TestGroupByAndOrderBy.suite());

        suite.addTest(TestBinaryStream.suite());
        return suite;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T20:48:09.483

尝试重新打开文件，然后运行测试。否则，重新启动 Eclipse。请让我知道这是否解决了问题！否则请给我更多详细信息，我会尽力提供帮助。

# sql - 可能的sybase sql查询

> ID：16080385
> 
> 赞同：1
> 
> 时间：2013-04-18T10:23:37.727
> 
> 标签：sql, sybase

多年后，我正试图重新回到 sql 中。我也是 Sybase 的新手。您能否就以下问题提出一个可能的查询？

有一个表叫蔬菜如下。

```
| product | price | date     |
| beans   | 1.78  | 20040903 |
| beans   | 1.79  | 20040902 |
| potato  | 1.78  | 20040902 | 
```

我需要获取每种蔬菜的最新可用价格。预期的数据库是 sybase。非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:26:52.487

您可以使用子查询来获取`max(date)`for each`product`然后加入您的表：

```
select v1.product, 
  v1.price,
  v1.date
from vegetables v1
inner join
(
  select product, max(date) MaxDate
  from vegetables
  group by product
) v2
  on v1.product = v2.product
  and v1.date = v2.maxdate; 
```

请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/#!3/41951/1)（Demo 是 SQL Server，但语法应该是有效的）。

如果您的 Sybase 版本支持窗口函数，则可以使用以下命令：

```
select product, price, date
from 
(
  select product, price, date,
    row_number() over(partition by product order by date desc) rn
  from vegetables
) v
where rn = 1; 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!3/41951/2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:34:09.900

据我了解，标准 SQL 查询在大多数情况下应该在 Sybase 数据库上工作。我不是数据库管理员，但这样的事情可能会起作用：

```
SELECT * FROM 
  vegetables v 
INNER JOIN 
  (SELECT 
      iv.id, 
      MAX(iv.date) AS date
    FROM 
      vegetables iv 
    GROUP BY 
      iv.id
  ) maxv ON maxv.date = v.date 
```

# assembly - Atmega8535 INT0 INT1 INT2 INT3

> ID：16080386
> 
> 赞同：0
> 
> 时间：2013-04-18T10:23:41.337
> 
> 标签：assembly, external, avr, interrupt, atmega

我正在使用 Atmega8535 微控制器和 STK200 开发板，我试图使用多个外部中断，但由于某种原因，只有 INT0 工作，其他人什么都不做，这里是相关代码：

```
;Interrupt Vector Addresses 
.equ     INT0addr=$001            ;External Interrupt0 Vector Address 
.equ     INT1addr=$002
.equ     INT2addr=$003
.equ     INT3addr=$004
.equ     INT4addr=$005

//interrupts
.org     INT0addr 
         rjmp   INT0              ;External Interrupt0 Vector 
.org     $0015                    ;Program address 

.org     INT1addr 
         rjmp   INT1              ;External Interrupt1 Vector 
.org     $0015                    ;Program address

.org     INT2addr 
         rjmp   INT2              ;External Interrupt0 Vector 
.org     $0017

.org     INT3addr 
         rjmp   INT3              ;External Interrupt0 Vector 
.org     $0018

.org     INT4addr 
         rjmp   INT4              ;External Interrupt0 Vector 
.org     $0019
;External Interrupt0 Service Routine 
INT0:    cli                      ;Prevent any more interrupts while ISR is running

     rjmp reset 
     reti                     ;Return and enable interrupts again

;External Interrupt1 Service Routine 
INT1:    cli                      ;Prevent any more interrupts while ISR is running

         rjmp reset 
         reti                     ;Return and enable interrupts again
;External Interrupt1 Service Routine 
INT2:    cli                      ;Prevent any more interrupts while ISR is running

         rjmp reset 
         reti                     ;Return and enable interrupts again
;External Interrupt1 Service Routine 
INT3:    cli                      ;Prevent any more interrupts while ISR is running

         rjmp reset 
         reti                     ;Return and enable interrupts again
;External Interrupt1 Service Routine 
INT4:    cli                      ;Prevent any more interrupts while ISR is running

         rjmp reset 
         reti                     ;Return and enable interrupts again 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T09:46:34.950

你可能对这个处理器要求太多了。根据[处理器参考资料](http://www.atmel.com/Images/doc2502.pdf)（第 65 页），该处理器只有 3 个外部中断 INT0、INT1 和 INT2（分别在 PORTD.2、PORTD.3 和 PORTB.2 上）……也值得一读 pg 68ff！

我没有看到您最初设置了全局中断启用位（SREG 的第 7 位），该位在复位后为 0 并防止处理任何中断，并且必须启用各个中断（寄存器 GICR）

您的代码中有很多多余`.org`的部分（例如第 11、13 行）。

我建议您包含设备特定的 inc 文件，并且 - 为了清楚起见 - 指定完整的中断向量表，例如

```
.nolist
.include <m8535def.inc>
.list

.org 0x0000
                     ; .... highest priority
    jmp V_RESET      ; Reset
    jmp V_ExtINT0    ; External Interrupt 0
    jmp V_ExtINT1    ; External Interrupt 1
    jmp V_NOINT      ; Timer/Counter2 Compare Match
    jmp V_NOINT      ; Timer/Counter2 Overflow
    jmp V_NOINT      ; Timer/Counter1 Capture Event
    jmp V_NOINT      ; Timer/Counter1 Compare Match A
    jmp V_NOINT      ; Timer/Counter1 Compare Match B
    jmp V_NOINT      ; Timer/Counter1 Overflow
    jmp V_NOINT      ; Timer/Counter0 Overflow
    jmp V_NOINT      ; SPI Serial Transfer Complete
    jmp V_NOINT      ; USART, RX Complete
    jmp V_NOINT      ; USART Data Register Empty
    jmp V_NOINT      ; USART, TX Complete
    jmp V_NOINT      ; ADC Conversion Complete
    jmp V_NOINT      ; EEPROM Ready
    jmp V_NOINT      ; Analog Comparator
    jmp V_NOINT      ; Two-wire Serial Interface
    jmp V_ExtINT2    ; External Interrupt Request 2
    jmp V_NOINT      ; TimerCounter0 Compare Match
    jmp V_NOINT      ; Store Program Memory Read
                     ; .... lowest priority

V_RESET:
    ; define stack pointer
    ; set individual interrupt bits
    ; initialize ports, etc.

    sei              ; enable general interrupts

MAIN:
    rjmp MAIN

V_ExtINT0:
    ; INT0 handler
    reti

V_ExtINT1:
    ; INT1 handler
    reti

V_ExtINT2:
    ; INT2 handler
    reti

V_NOINT:
    ; e.g. flash a LED otherwise unused to show abnormal condition
    reti 
```

# php - php登录表单中数据库的名字

> ID：16080389
> 
> 赞同：-1
> 
> 时间：2013-04-18T10:23:50.967
> 
> 标签：php, login-script

我有一个用户和管理员的登录表单，我希望我的用户在登录后能被那里的名字打招呼。

我有一个名为 users 的表，其中包含以下列`ID`, `username`, `password`, `admin`,`fname``lname`

我有如下登录脚本代码，如果你们/gals可以提供任何帮助，因为我对php很陌生

```
//Connect to db
include("conndb.php");
session_start();
//Get variables from login form
$username = $_POST['username'];
$password = $_POST['password'];
echo $username;
echo $password;
$password = MD5($password);

//query to find if user and password exist and match the password.
$query = "SELECT username, admin FROM users WHERE (username = '$username' AND password      
= '$password')";
$result = mysql_query($query)
or die (mysql_error($connect));

if (mysql_num_rows($result) !=1) {
$_SESSION['loginfail'] = 1;
header ('location: index.php');
}                    

elseif (mysql_num_rows($result) ==1)
{
// check for admin flag

$a = mysql_fetch_array($result);

if ($a[admin] == Y)
{
 $_SESSION['admin'] = 1;
header('location: admin.php');
}
else
{
 $_SESSION['user'] = $fname;
header('location: index2.php');
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:28:38.783

将此更改为

```
if ($a[admin] == Y)
{
    $_SESSION['admin'] = 1;
    $_SESSION['username'] = $a['username'];
    header('location: admin.php');
}
else
{
   $_SESSION['user'] = 1;
   $_SESSION['username'] = $a['username'];
   header('location: index2.php');
} 
```

现在使用 $_SESSION['username'] 在您的网页上显示用户名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:28:46.900

您需要将`username`或保存`id`到会话（`$_SESSION`）和中，`admin.php`并且`index2.php`您需要查询`fname`用户并相应地使用它

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:48:23.430

您可能尚未开始会话。因此，通过在页面顶部添加以下行来开始您的会话。

```
session_start(); 
```

此外，将代码的最后一部分更改如下：

```
$_SESSION['username'] = $a['username'];
if ($a['admin'] == 'Y') {
     $_SESSION['admin'] = true;
     header('location: admin.php');
}else{
     $_SESSION['user'] = true;
     header('location: index2.php');
} 
```

# javascript - jQuery 上的动画只执行一次

> ID：16080393
> 
> 赞同：0
> 
> 时间：2013-04-18T10:24:12.837
> 
> 标签：javascript, jquery

我正在尝试制作一个有趣的函数来旋转元素 360。问题是它只执行第一次，我不知道为什么！

```
jQuery.fn.circularFun = function() {
            this.stop().animate(
                {rotation: 360},
                {
                  duration: 500,
                  step: function(now, fx) {
                    $(this).css({"transform": "rotate("+now+"deg)"});
                  }
                }
            );
        } 
```

谢谢！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:27:07.423

第一次旋转后，它已经旋转到`360`。您需要`0`在完成后将其设置为。

# c# - 如何在 yyyymmddhhmmss 中获取日期时间

> ID：16080395
> 
> 赞同：1
> 
> 时间：2013-04-18T10:24:26.923
> 
> 标签：c#, datetime-format

我已经编写了下面的查询来从实体创建一个 xml，我需要在 .NET 中`yyyymmddhhmmss`以字段格式获取日期时间`SLOTTINGTIME`，所以我考虑编写一种新方法来获取所需格式的日期时间。

```
var slottingmessagexml = new XDocument(new XElement("Message",
    new XAttribute("ID","SLT"),
    new XElement("Record",
        new XAttribute("STORENO",slottingmessage.StoreID),
        new XAttribute("PICKLOCATION",slottingmessage.PickLocation),
        new XAttribute("TPNB",slottingmessage.ProductID),
        new XAttribute("SLOTTINGTIME",GetDateTimeInNewFormat(slottingmessage.SlottingDateTime)),
        new XAttribute("SLOTTTINGACTION",slottingmessage.SlottingAction))
    )
); 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-18T10:25:50.023

您可以使用

```
string strDate = DateTime.Now.ToString("yyyyMMddhhmmss"); 
```

如果需要 24 小时格式，则在格式字符串中使用大写字母`HH`代替。`hh`

请记住，第一个`MM` **应该**大写，因为小写`mm`代表分钟，而大写代表月份。

对于您的特定情况，您可以执行以下操作，而不是编写新方法：

```
new XAttribute("SLOTTINGTIME",slottingmessage.SlottingDateTime.ToString("yyyyMMddhhmmss")), 
```

`hh`还要添加一件事：由于字符串中的小写部分，输出将包含 12 小时格式的 Hour 。不确定您是否需要，因为没有上午/下午，这无法指示准确的时间。为此，使用`HH`小时，它将以 24 小时格式显示小时。所以你的代码可能是：

```
new XAttribute("SLOTTINGTIME",slottingmessage.SlottingDateTime.ToString("yyyyMMddHHmmss")),
                                                                               //^^ for 24 hours format 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-18T10:26:21.150

这个怎么样？

```
public string GetDateTimeInNewFormat(DateTime d)
{
    return d.ToString("yyyyMMddhhmmss");
} 
```

或者，对于 24 小时格式：

```
public string GetDateTimeInNewFormat(DateTime d)
{
    return d.ToString("yyyyMMddHHmmss");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:57:34.670

尽管您的问题没有明确说明您要查找的格式，但我认为根据您的示例格式，`yyyymmddhhmmss`我们可以假设您想要`[years][months][days][hours][minutes][seconds]`.

基于此，我们可以将每个部分分解如下：

**年**：如果你想要全年，那么你`yyyy`是正确`2013`的，例如会产生。一个常见的（尽管不鼓励）替代方案可能是`yy`（例如`13`）

**月**：目前您的尝试`mm`不会返回月。它将产生分钟。您可能想要`MM`（例如`04`）。替代包括`MMM`(eg `APR`) 和`MMMM`(eg `April`)

**Days**：你已经有了这个正确的。例如`dd`会产生。`18`

**Hours**：您的尝试`hh`将产生 12 小时的时间格式。如果这是你所追求的，那很好。但是鉴于您没有尝试包含 AM/PM 指示符（`tt`顺便可以使用），那么我建议您选择 24 小时格式，即`HH`（大写）

**分钟**：你的分钟是正确的，例如`mm`会产生。`52`

**Seconds**：再一次，`ss`是正确的，`33`例如会产生。

* * *

现在我们可以将它们串在一起并生成以下格式，其中包括我推荐的 24 小时时间格式。然后可以将其传递给`DateTime`对象`ToString()`函数，如下所示：

```
var stringDateTime = slottingmessage.SlottingDateTime.ToString("yyyyMMddHHmmss"); 
```

如果你想保持你的方法的`GetDateTimeInNewFormat`方法，那么你可以像这样实现它：

```
public string GetDateTimeInNewFormat(DateTime dt)
{
    return dt.ToString("yyyyMMddHHmmss");
} 
```

然后将按照您在示例代码中已有的方式调用此函数：

```
GetDateTimeInNewFormat(slottingmessage.SlottingDateTime) 
```

您可以在此处阅读有关各种[日期/时间格式选项](http://msdn.microsoft.com/en-gb/library/8kb3ddd4.aspx)的更多信息，其中有大量示例

# ckeditor - CKEDITOR - 如何禁用多选

> ID：16080400
> 
> 赞同：1
> 
> 时间：2013-04-18T10:24:43.437
> 
> 标签：ckeditor, multi-select

我想知道如何禁用（关闭）多选（文本选择的多个部分）。配置中有一些属性吗？

谢谢，P。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:04:09.827

如果您的意思是可以通过 CTRL 单击或选择表格列在 Firefox 中选择多个区域（只有它支持此功能），那么我想不出一个可行的解决方案。这不是 CKEditor 功能，而是本机浏览器的功能，要阻止它，您必须破解选择系统。

# php - Jquery, xml, ajax 过滤器搜索

> ID：16080404
> 
> 赞同：0
> 
> 时间：2013-04-18T10:24:48.437
> 
> 标签：php, jquery, xml, ajax

我被困住了！我得到了一个如下所示的 XML：

```
<ButikerOmbud>
    <ButikOmbud>
        <Typ>Butik</Typ>
        <Nr>1518</Nr>
        <Namn/>
        <Address1>Kungsgatan 34 C</Address1>
        <Address2/>
        <Address3>S-441 31</Address3>
        <Address4>ALINGSÅS</Address4>
        <Address5>Västra Götalands län</Address5>
        <Telefon>0322/101 61</Telefon>
        <ButiksTyp>Självbetjäning</ButiksTyp>
        <Tjanster>Dryckesprovning</Tjanster>
        <SokOrd>VÄSTERGÖTLAND;STORKEN,KRISTINEKYRKA</SokOrd>
        <Oppettider>...</Oppettider>
        <RT90x>6427551</RT90x>
        <RT90y>1306408</RT90y>
    </ButikOmbud>
    <ButikOmbud>
        <Typ>Butik</Typ>
        <Nr>0704</Nr>
        <Namn/>
        <Address1>Storgatan 14</Address1>
        <Address2/>
        <Address3>S-342 30</Address3>
        <Address4>ALVESTA</Address4>
        <Address5>Kronobergs län</Address5>
        <Telefon>0472/124 01</Telefon>
        <ButiksTyp>Självbetjäning</ButiksTyp>
        <Tjanster/>
        <SokOrd>
SMÅLAND;KRONOBERG;ALVESTA JÄRNVÄGSSTATION;ALVESTA KOMMUNHUS
        </SokOrd>
        <Oppettider>...</Oppettider>
        <RT90x>6308791</RT90x>
        <RT90y>1423876</RT90y>
    </ButikOmbud>
</ButikerOmbud> 
```

我希望能够搜索，即“Gotlands län”，并且我想返回每个`<Address1>`、、`<Address4>`和`<Telefon>`值，或该节点的所有数据，但这三个是目前最重要的数据。

阿贾克斯代码：

```
 $.ajax({
                    type: "GET",
                    url: "systembolaget.xml",
                    dataType: "xml",
                    success: function (xml) {
                        var result = $(xml).find("ButikOmbud").filter(function() {
                          return $(this).find("Address5").text().indexOf('Gotlands län') === 0;
                        }).each(function() {
                            alert("THIS: "+this);                       
                        });
                        alert("RESULT: "+result);
                    },
                    error: function () {
                        alert("Ett fel inträffade vid inläsandet av XML-filen");
                    }
                }); 
```

我收到了预期数量的对象，但我不知道如何从这些对象中读取数据（alert("THIS: "+this) alers 3 次，xml 包含 'Gotlands län' 3 次）。

# jquery - Imagemapster：如果选择了区域，则取消悬停效果？

> ID：16080407
> 
> 赞同：1
> 
> 时间：2013-04-18T10:24:51.213
> 
> 标签：jquery, imagemapster

我正在使用 imagemapster 为图像地图添加一些效果，如果我可以取消所选区域的悬停效果，那将是非常棒的，这可能吗？

编辑：我指的是[http://www.outsharked.com/imagemapster/](http://www.outsharked.com/imagemapster/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T13:25:02.883

好的，所以我终于设法获得了我所说的效果。

首先，我在主要的 .mapster() 选项中使用了它：

```
 onMouseover: function(data) {
        if ( data['selected'] !== true ) {
            $('#bgartisti').mapster('highlight', data['key']);              
        }
    }, 
```

这不起作用，因为如果你设置`highlight : false`它会完全禁用它们，而不是 isSelectable （就像我在问题中添加的评论一样）。所以我完全评论了悬停以手动管理它。我通过评论 jquery.imagemapster.js 中第 2725 行的语句来做到这一点

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-28T13:24:13.363

对于选定区域

```
 onMouseover: function (e) {
        if (!e.selected) {
            $(this).mapster('deselect');
        }
    } 
```

适用于所有领域

```
 onMouseover: function (e) {
        if (!e.selected) {
            $("#imageID").mapster('deselect');
        }
     } 
```

这可能会解决您的问题。

# c++ - 如何在 C++ 中打印所有素数？

> ID：16080411
> 
> 赞同：-1
> 
> 时间：2013-04-18T10:25:03.793
> 
> 标签：c++, primes

我正在尝试连续打印所有素数，我最终得到的代码如下，它不是打印所有素数而是打印随机数，有些是素数，有些不是：/为什么会这样？

```
#include <iostream>

using namespace std;

long int x,y=3;
int a=3;
bool isprime;

int main()
{
    while(a<=100)
    {
    for(x=2;x<=y;x++)
    {
        if(y%x==0 && x!=y)
        {
            isprime=false;
            break;
        }
        else if(y%x!=0 && x!=y)
        {
            isprime = true;
        }

    }
    if(isprime==true  && y%x!=0 && x!=y)
    {
        cout<<a<<" is a prime number."<<"\n";
        isprime=false;
    }

      a++;
      y++;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T02:10:23.363

我看到你的代码现在没问题。尽管如此，我还是做了一些小的改动，清理了代码并让它更快一点。

```
#include <iostream>

using namespace std;

long int x, y = 2;
int a = 3;
bool isprime;

int main() {
    while (a <= 100) {
        while ((y + 1) * (y + 1) <= a) {
            y++;
        }

        isprime = true;
        for (x = 3; x <= y; x += 2) {
            if (a % x == 0) {
                isprime = false;
                break;
            }
        }
        if (isprime) {
            cout << a << " is a prime number." << "\n";
        }

        a+=2;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:32:10.147

这个

```
if(isprime=true && a%x!=0 && a!=y) 
```

应该是这个

```
if(isprime==true && a%x!=0 && a!=y) 
```

这是一个常见的错误。但更好的是意识到您不需要将布尔值与真假进行比较，因为它们*是*真或假。所以就

```
if (isprime && a%x!=0 && a!=y) 
```

逻辑看起来都错了（而且太复杂了），试试这个

```
 isprime = true;
    for(x=2;x<a;x++)
    {
        if(a%x==0)
        {
            isprime = false;
            break;
        }
    }
    if (isprime)
    {
        cout<<a<<"\n";
    } 
```

不需要y。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T10:52:46.760

好吧，让我眼前一亮的是你永远不会增加 y。

y 一开始是 3，所以你只尝试如果 2 是 a 的可能除数，然后转到下一个 a。

无论如何，我不确定你想用 y 实现什么。

让 x 从 2 运行到 a/2，因为没有必要尝试大于 a/2 的数字。这仅仅是因为永远不会有比 a/2 更大的除数。示例：a = 30。尝试除以 16 或更大是没有意义的，因为结果永远不可能是整数（当然除了 a 本身）

但是，这应该做你想要的：

```
int x = 0; 
int a = 0;
bool isPrime = false;

for(a=3; a < 100; a+=2) 
{
    isPrime = true;
    for(x = 2; x <= a/2; x++) {
        if(a%x == 0) {
            isPrime = false;
            break;                                     
        }                    
    }
    if(isPrime) {
        cout << a << "\n";            
    }
} 
```

当然还有其他算法可以找到素数，但我基本上想使用你的方法。

干杯

克里斯

编辑：有人更快:)

反正：没有必要跑高于a/2，这是一个重要的优化...！

编辑2：

另一个优化当然是跳过所有偶数，所以从 a = 3 开始，每次循环迭代增加 2...

# c# - 在 fileStream.CopyTo(memoryStream) 之后，memoryStream 为 null

> ID：16080413
> 
> 赞同：15
> 
> 时间：2013-04-18T10:25:07.440
> 
> 标签：c#, windows-phone-7

所以，我有这个函数，`BitmapImage`我需要将它保存到 iso 存储并转换为 Base64（用于发送到服务器）。`fileStream`但是，从to复制`memoryStream`不成功。

```
public void SetImage(BitmapImage bitmap)
{
    if (isoFiles.FileExists(Settings.FILE_AVATAR_JPG))
        isoFiles.DeleteFile(Settings.FILE_AVATAR_JPG);

    var fileStream = isoFiles.CreateFile(Settings.FILE_AVATAR_JPG);
    var wb = new WriteableBitmap(bitmap);
    wb.SaveJpeg(fileStream, 120, 120, 0, 85); // file is saved 

    var memoryStream = new MemoryStream();
    fileStream.CopyTo(memoryStream);          // here, memoryStream is null
    byte[] result = memoryStream.ToArray();
    fileStream.Close();

    var base64 = Convert.ToBase64String(result);
} 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-04-18T10:36:05.433

`Stream.CopyTo``fileStream`从已更改的当前位置复制，`SaveJpeg()`因此您需要重置它；

```
var memoryStream = new MemoryStream();

fileStream.Position = 0;
fileStream.CopyTo(memoryStream); 
```

# git - git子模块的不同推/拉网址

> ID：16080415
> 
> 赞同：11
> 
> 时间：2013-04-18T10:25:09.120
> 
> 标签：git, git-submodules, gitlab

我在一个大型项目中使用[git 超级项目模式](http://en.wikibooks.org/wiki/Git/Submodules_and_Superprojects)，该项目由没有存储库帐户的 Teamcity 构建代理部署，但是存储库设置为允许匿名克隆。`http://`出于这个原因，我使用它们的url 而不是它们的 git url设置了子模块。问题在于存储库拒绝 http 推送：

```
Total 0 (delta 0), reused 0 (delta 0)
error: RPC failed; result=22, HTTP code = 401
fatal: The remote end hung up unexpectedly
fatal: The remote end hung up unexpectedly 
```

所以每次我在切换分支时更新子模块，我都必须做一个`git remote add-url --push`添加`git://`url。

有什么方法可以在超级项目中设置子模块，使它们已经使用`http://`url 进行拉取，使用`git://`url 进行推送？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-18T11:28:07.447

[LibreOffice 项目也使用子模块](https://wiki.documentfoundation.org/Development/Submodules)，包括：

> 默认情况下，您的子模块存储库处于一种称为“分离 HEAD”的状态，这意味着已签出的提交——这是超级项目（核心）需要的——与本地分支名称无关。
> 
> 不要忘记为您正在处理的子模块添加正确的 pushurl，否则您将无法提交。

```
$ editor .git/modules/submodule/config 
```

> 并在该部分`[remote "origin"]`添加：

```
pushurl = ssh://logerrit/submodule 
```

（类似于[soulseekah](https://stackoverflow.com/users/482864/soulseekah)的[评论](https://stackoverflow.com/questions/16080415/different-push-pull-urls-for-git-submodule#comment22955624_16080415)）（在你的情况下，使用`git://`地址）

您也可以通过（在子模块中）

```
git config remote.origin.pushurl git://... 
```

如果您不这样做，如[本项目所示](http://www.itk.org/Wiki/Git/Trouble)，您将获得：

```
fatal: The remote end hung up unexpectedly 
```

# php - Max MInd Omni Web 服务数组转换成变量

> ID：16080417
> 
> 赞同：0
> 
> 时间：2013-04-18T10:25:10.583
> 
> 标签：php, arrays

您好我正在使用 Max Mind Omni 网络服务，并且正在使用他们的 PHP 示例代码。

我是使用 curl 的新手，我正在尝试找出将数组分隔为可以插入到数据库表中的各个变量的最佳方法。

下面是我正在使用的代码示例。当我运行此代码时，我似乎无法获得全能键的单个值。

任何建议，将不胜感激。

```
 if (!isset($params['i'])) $params['i'] = '82.150.248.29';

 $query = 'https://geoip.maxmind.com/e?' . http_build_query($params);

 $omni_keys = 
   array(
    'country_code',
    'country_name',
    'region_code',
    'region_name',
    'city_name',
    'latitude',
    'longitude',
    'metro_code',
    'area_code',
    'time_zone',
    'continent_code',
    'postal_code',
    'isp_name',
    'organization_name',
    'domain',
    'as_number',
    'netspeed',
    'user_type',
    'accuracy_radius',
    'country_confidence',
    'city_confidence',
    'region_confidence',
    'postal_confidence',
    'error'
    );

   $curl = curl_init();
   curl_setopt_array( $curl, 
               array(
                     CURLOPT_URL => $query,
                     CURLOPT_USERAGENT => 'MaxMind PHP Sample',
                     CURLOPT_RETURNTRANSFER => true
                     )
               );

            $resp = curl_exec($curl);

          if (curl_errno($curl)) {
            throw new Exception('GeoIP Request Failed');
              }

                  $omni_values = str_getcsv($resp);
                $omni = array_combine( $omni_keys, $omni_values);

                //print_r($omni_values);

                 $country_code=$omni_value[0];
                 $country_name=$omni_value[1];
                 echo "$country_code";
                 echo "$country_name"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:31:21.153

你的代码有错别字......

```
$country_code= $omni_values[0]; //instead of $omni_value[0]; 
```

其中的这一行使其成为一个关联数组。

```
$omni = array_combine( $omni_keys, $omni_values); 
```

因此，您将进行一些更改，如下所示：

```
$country_code= $omni['country_code']; //instead of $omni_value[0];
$country_name= $omni['country_name']; //instead of $omni_value[1]; 
```

希望这可以帮助

# c++ - 无抛出异常保证和堆栈溢出

> ID：16080419
> 
> 赞同：0
> 
> 时间：2013-04-18T10:25:15.097
> 
> 标签：c++, exception-handling, exception-safety

有几个特殊功能通常可以保证不抛出异常，例如：

*   析构函数
*   `swap`方法

考虑以下`swap`实现，如[本答案](https://stackoverflow.com/a/3279550/261217)所述：

```
friend void swap(dumb_array& first, dumb_array& second)
{
    using std::swap; 

    swap(first.mSize, second.mSize);  
    swap(first.mArray, second.mArray);  // What if stack overlow occurs here?
} 
```

它使用两个`swap`函数——整数和指针。如果第二个函数会导致堆栈溢出怎么办？对象将损坏。我猜这不是`std::exception`，它是某种系统异常，例如`Win32-exception`. 但是现在我们不能保证不抛出，因为我们正在调用一个函数。

但是所有权威来源都可以正常使用`swap`，这里永远不会抛出异常。为什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:35:09.450

通常，您无法处理堆栈不足的情况。该标准没有说明如果您用完堆栈会发生什么，也没有说明堆栈是什么，可用的数量等。操作系统可能会让您在构建可执行文件时或运行时控制它，如果您正在编写库代码，所有这些都相当无关紧要，因为您无法控制进程有多少堆栈，或者在用户调用您的库之前已经使用了多少。

您可以假设堆栈溢出导致操作系统在您的程序之外执行*某些*操作。一个非常简单的操作系统可能会让它变得怪异（未定义的行为），一个严重的操作系统可能会破坏进程，或者如果你真的很不幸，它会抛出一些实现定义的异常。我实际上不知道 Windows 是否为堆栈溢出提供了 SEH 异常，但如果提供了，那么最好不要启用它。

如果您担心，可以将您的`swap`功能标记为`noexcept`. 然后在符合要求的实现中，任何试图离开函数的异常都会导致程序`terminate()`. 也就是说，它`noexcept`以拿出你的程序为代价来履行合同。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T10:39:03.397

> 如果第二个函数会导致堆栈溢出怎么办？

那么你的程序就处于不可恢复的故障状态，没有切实可行的办法来处理这种情况。希望溢出已经导致分段错误并终止程序。

> 但现在我们不能保证不扔

我从来没有遇到过会在那种状态下抛出异常的实现，如果真的发生了，我会很害怕。

> 但是所有权威来源都只是使用交换就可以了，这里永远不会抛出异常。为什么？

我读过的权威资料（例如[这个](http://www.gotw.ca/gotw/059.htm)）并不是“随便用就行”；他们说，*如果*你有（例如）一个非抛出`swap`函数和一个非抛出析构函数，*那么*你可以从使用它们的函数中提供异常安全保证。

根据异常保证对函数进行分类很有用：

*   基本：异常使所有内容都处于有效但未指定的状态
*   强：异常使状态保持不变
*   No-throw：不会抛出异常。

提供“强”保证的常用方法是：

*   做可能导致临时状态副本的工作
*   将该副本与实时状态交换（需要非抛出交换操作）
*   销毁旧状态（需要一个不抛出的析构函数）

如果您没有从这些操作中获得不投掷保证，那么提供强有力的保证会更加困难，甚至可能是不可能的。

# actionscript-3 - 在 as3 中仅加载来自 youtube 的音频

> ID：16080421
> 
> 赞同：0
> 
> 时间：2013-04-18T10:25:17.543
> 
> 标签：actionscript-3, flash, youtube-api, audio-streaming

是否可以通过**youtube AS3 api****仅将 YouTube 中的音频**加载到我的**AS3 flash 自定义播放器**中？

 **我想将它加载到声音对象中，然后将其分配给声道。

我想知道是否有“**官方**”的方式来做到这一点，我想避免即兴创作（比如加载整个流然后只使用音频）。

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T14:35:55.760

我建议您仔细阅读 YouTube 服务条款：

[https://developers.google.com/youtube/terms](https://developers.google.com/youtube/terms)

特别是，您不得“单独宣传通过 YouTube API 提供的任何 YouTube 视听内容的音频或视频组件”。

以任何方式这样做（例如将视频移出舞台）都可能会因违反服务条款而被 YouTube 阻止播放您的网站。

注意：YouTube 设法通过在视频内容上投放广告来提供它所提供的服务。像这样分离内容可以防止 YouTube 从它提供的服务中赚钱。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-25T22:07:17.487

如果您将其用于私人用途，我想没关系。

在对不同的 API 和库进行了一些研究并研究了源代码之后，我自己和 wolla 尝试了它。

只是说，每个视频的页面源中只有音频链接。

你只需要知道你在找什么;）

打开一个 youtube 视频，查看页面源并搜索“mime%3Daudio”。应该有 5 个匹配项，例如完整的 url：

"https%3A%2F%2Fr2---sn-35cxanpbo5a-8pxl.googlevideo.com%2Fvideoplayback%3Fsource%3Dyoutube%26signature%3D30EC556F55533FBFD9003767730D10556681F33A.B12E021CA54CCB9E225F58A4430E9BB528081FB5%26requiressl%3Dyes%26expire%3D1527306011%26clen%3D3064602%26initcwndbps%3D1152500%26ipbits ％3D0％26Mime％3Daudio％252FMP4％26DUR％3D192.911％26FVIP％3D5％26LMT％3D152494633333333550％26Key％26Key％3DYT6％3DYT6％26Sparams％26SPARAMS％3DCLEN％252cdurpimpim p252CIRPIRPIST％2522222222222222CIRPIR %252Cmime%252Cmm%252Cmn%252Cms%252Cmv%252Cpl%252Crequiressl%252Csource%252Cexpire%26itag%3D140%26gir%3Dyes%26ip%3D81.217.53.239%26id%3Do-ALNxMeQYw4LLc1FAjxt4h795wKTdqJnzc_SBgzEJVBxR%26c%3DWEB%26keepalive%3Dyes%26mm %3D31%252C29%26mn%3Dsn-35cxanpbo5a-8pxl%252Csn-2gb7sn7r%26ei%3Du4IIW7DfC46rgAfrrpnICw%26ms%3Dau%252Crdu%26mt%3D1527284230%26pl%3D16%26mv%3D

只需解码 URL，你就得到了你想要的。**

# ruby-on-rails - 在什么基础上命名 ruby 和 ruby on rails 版本

> ID：16080423
> 
> 赞同：2
> 
> 时间：2013-04-18T10:25:21.100
> 
> 标签：ruby-on-rails, ruby

我很好奇 ruby​​ 和 ror 版本的命名依据是什么。例如，在 ruby​​ 1.9.3 之后，它的版本是 2.0 而不是 1.10 或 1.9.4，在 rails 中也是如此。必须有一些约定或规则。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T10:32:20.777

Ruby 和 Rails 与许多其他项目一样遵循[Semantic Versioning](http://SemVer.Org/)。

不过，他们并不总是信守承诺。例如，Ruby 1.9 与 Ruby 1.8 向后不兼容，而 Ruby 2.0 大部分与 Ruby 1.9 兼容，所以 Ruby 1.9 应该是 Ruby 2.0，而 Ruby 2.0 应该是 Ruby 2.1。

在这种特殊情况下，有历史上的“营销”原因：“Ruby 2.0”这个词在 Ruby 社区中已经使用了 10 多年，用来标记具有特定的、经常被谈论的特性的特定“神话”版本，例如范围猴子补丁和特征。发布一个*没有*这些功能但仍将其称为“2.0”的版本会比违反语义版本控制规则*更令人困惑。*（实际上，Ruby 2.0*发布*时没有特征，[这*导致*了混乱](https://stackoverflow.com/q/15871618/2988)！）

OTOH，不可能将其称为“1.10”，因为`RUBY_VERSION`常量将版本返回为 a `String`，并且许多工具（错误地）执行类似的操作

```
if RUBY_VERSION <= '1.8'
  def foo
  end
end 
```

这会破坏，因为`String` `'1.10'`实际上*小于*.`String` `'1.8'`

因此，决定选择 1.9。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:34:03.190

我认为 Ruby 和 Rails 或多或少遵循[语义版本控制](http://semver.org/)，大致意思是如果版本是 XYZ，则在修复错误时更改 Z。如果您添加某些内容，请更改 Y（因此所有依赖于它的程序，可以说我至少需要版本 XY），如果您引入向后不兼容，则更改 X）。X、Y 和 Z 通常称为 Major、Minor 和 revision。

# jquery - Function on event click in jquery runs on pageload

> ID：16080424
> 
> 赞同：0
> 
> 时间：2013-04-18T10:25:30.397
> 
> 标签：jquery

How come function is run on pageload? I see 4 alerts, as if on page load each button is clicked once.

```
//Leaderboard switch alltime-week
$("#leader_all_time_btn").on("click", leadboard_switch_period("#leader_all_time_btn"));
$("#leader_month_btn").on("click", leadboard_switch_period("#leader_month_btn"));
$("#leader_week_btn").on("click", leadboard_switch_period("#leader_week_btn"));
$("#leader_day_btn").on("click", leadboard_switch_period("#leader_day_btn"));

//This is for above
function leadboard_switch_period(btn_id) {
    $("#leaderboard_nav a").removeClass("active_lb_btn");
    alert("yes");
    return false;
} 
```

Also since I'm opening a topic :) `$("#leader_month_btn").on("click", leadboard_switch_period("#leader_month_btn"));`

how can I rewrite this, so that I don't have to write button id twice? this.id ?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:42:26.220

```
 $(document).ready(function(){

      //Leaderboard switch alltime-week
      $("#leader_all_time_btn").on("click", leadboard_switch_period("#leader_all_time_btn"));  
      $("#leader_month_btn").on("click", leadboard_switch_period("#leader_month_btn"));
      $("#leader_week_btn").on("click", leadboard_switch_period("#leader_week_btn"));
      $("#leader_day_btn").on("click", leadboard_switch_period("#leader_day_btn"));

    });

    //This function need to be invoked on function call..
    //You can even call from jquery event....
     function leadboard_switch_period(btn_id) {
     $("#leaderboard_nav a").removeClass("active_lb_btn");
     alert("yes");
     return false;
     } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:29:49.867

jquery .on() 方法需要一个选择器和一个回调（在这种情况下），你实际上是在传递一个函数执行的结果，这就是为什么它在开始时被调用 4 次，你想要的是这样的：

```
$("#leader_all_time_btn").on("click", leadboard_switch_period);

function leadboard_switch_period(ev) {
  ev.preventDefault(); // If instead of a button you use a link, but dont want the default behavior
  var btn_id = this.id; // this refers to the clicked button
} 
```

请注意，通过将“leadboard_switch_period”传递给 .on 方法，您正在将回调传递给该函数，而在执行“leadboard_switch_period(bla)”时，您实际上是在调用该函数并将其结果传递给 .on 方法。

当您单击元素时，jQuery 将调用您的函数，事件作为第一个参数，被单击的元素作为上下文对象 (this)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:27:41.357

您在绑定它时调用该`leadboard_switch_period`函数。这意味着它的*返回值*被传递给`.on()`，而实际上您需要传递对函数的引用。

您可以让您的`leadboard_switch_period`函数返回一个将用作事件处理程序的函数：

```
function leadboard_switch_period(btn_id) {
    return function () {
        $("#leaderboard_nav a").removeClass("active_lb_btn");
        alert("yes");
        return false;
    };
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-18T10:28:31.870

`$("#leader_all_time_btn").on("click", leadboard_switch_period("#leader_all_time_btn"))`立即调用此函数。您应该将其替换为

```
$("#leader_all_time_btn").on("click", function(){
    //inside this function $("#leader_all_time_btn") is this
    leadboard_switch_period(this)
}) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-18T10:28:49.067

你错过了功能位，不是吗？

```
$("#leader_all_time_btn").on("click", function() {
  leadboard_switch_period($(this));
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-18T10:28:54.103

请注意，问题询问如何在不重写语句的情况下完成两次（没有其他答案做过......），您可以在单个 jQuery 选择器中执行此操作，分配给一个函数以使您的代码更清晰。

```
$("#leader_all_time_btn, #leader_month_btn, #leader_week_btn, #leader_day_btn").on("click", function() {
    alert("#" + this.id); // Get the ID of the button that was clicked and add a hashtag, or $(this) for the whole element.
    $("#leaderboard_nav a").removeClass("active_lb_btn");
    return false;
}); 
```

# java - Eclipse 生成的哈希码

> ID：16080430
> 
> 赞同：2
> 
> 时间：2013-04-18T10:25:43.557
> 
> 标签：java, eclipse, hashcode

在 SO 中，我已经阅读了几个与哈希码实现相关的答案以及使用 XOR 运算符的建议。（例如[为什么在 java hashCode() 中经常使用 XOR 而很少使用其他位运算符？](https://stackoverflow.com/questions/2334218/why-are-xor-often-used-in-java-hashcode-but-another-bitwise-operators-are-used)）。

当我使用 Eclipse 生成`field`一个对象和`timestamp`一个 long 的哈希码函数时，输出是：

```
public int hashCode() {
  final int prime = 31;
  int result = 1;
  result = prime * result
        + field == null) ? 0 : field.hashCode());
  return result;
} 
```

不使用下面的 XOR 运算符有什么原因吗？

```
 result = prime * result + (int) (timestamp ^ (timestamp >>> 32)); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:45:19.747

Eclipse 采取了安全的方法。尽管使用素数、乘法和加法的计算方法比单个 XOR 慢，但在您有多个字段的情况下，它会为您提供整体更好的哈希码。

考虑一个简单的例子——一个有两个`String`s`a`和的类`b`。您可以使用

```
a.hashCode() ^ b.hashCode() 
```

或者

```
a.hashCode() * 31 + b.hashCode() 
```

现在考虑两个对象：

```
a = "ABC"; b = "XYZ" 
```

和

```
a = "XYZ"; b = "ABC" 
```

第一种方法将为它们生成相同的哈希码，因为 XOR 是对称的；第二种方法会产生不同的哈希码，这很好，因为对象不相等。通常，您希望不相等的对象尽可能频繁地具有不同的哈希码，以提高这些对象的基于哈希的容器的性能。该`31*a+b`方法比 XOR 更好地实现了这个目标。

请注意，当您处理同一对象的各个部分时，如

```
timestamp ^ (timestamp >>> 32) 
```

上面的论点要弱得多：遇到两个时间戳，它们之间的唯一区别是它们的上下部分交换了比两个具有交换`a`和`b`字段值的对象更难想象。

# c++ - Qt - Set display text of non-editable QComboBox

> ID：16080431
> 
> 赞同：7
> 
> 时间：2013-04-18T10:25:48.593
> 
> 标签：c++, qt, qcombobox

I would like to set the text of a QComboBox to some custom text (that is not in the QComboBox's list), without adding this text as an item of the QComboBox. This behaviour is achievable on an editable QComboBox with `QComboBox::setEditText(const QString & text)`. On a non-editable QComboBox, however, this function does nothing.

Is it possible to programmatically set the display/edit text of a non-editable QComboBox to something that is not in its list? Or do I have to find another way (e.g. use a QPushButton with a popup menu)

EDIT: Consider an editable QComboBox with `InsertPolicy` `QComboBox::NoInsert`. If the user types in something and hits enter, the entered value will be used but not added to the list. What I want is this behaviour to change the 'current' text programmatically, but without allowing the user to type in some text himself. The user can choose something from the QComboBox, but some time later, I may want to override the 'current' text.

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-10-01T14:21:22.097

当我进行子类`QComboBox`化以制作复选框组合框时，我遇到了同样的问题。我编写了一个小函数来以编程方式更改组合框中显示的文本，但我不想让用户编辑该文本。解决方案是将组合框设置为可编辑：

```
 this->setEditable(true); 
```

和`QComboBox::lineEdit()`只读。参考函数：

```
void CheckedComboBox::setText(QString text)
{
   QLineEdit *displayedText = this->lineEdit();
   displayedText->setText(text);
   displayedText->setReadOnly(true);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-08-31T08:10:26.943

重新实现paintEvent：[https ://github.com/qt/qtbase/blob/28d1d19a526148845107b631612520a3524b402b/src/widgets/widgets/qcombobox.cpp#L2995](https://github.com/qt/qtbase/blob/28d1d19a526148845107b631612520a3524b402b/src/widgets/widgets/qcombobox.cpp#L2995)

并添加这一行：`opt.currentText = QString(tr("My Custom Text"));`

**例子 ：**

QCustomCheckComboBoxFilter.h

```
...
protected:
    void paintEvent(QPaintEvent *e) Q_DECL_OVERRIDE;
... 
```

QCustomCheckComboBoxFilter.cpp

```
...
void QCustomCheckComboBoxFilter::paintEvent(QPaintEvent *)
{
    QStylePainter painter(this);
    painter.setPen(palette().color(QPalette::Text));

    // draw the combobox frame, focusrect and selected etc.
    QStyleOptionComboBox opt;
    initStyleOption(&opt);
    opt.currentText = QString(tr("My Custom Text"));
    painter.drawComplexControl(QStyle::CC_ComboBox, opt);

    // draw the icon and text
    painter.drawControl(QStyle::CE_ComboBoxLabel, opt);
}
... 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-19T08:28:15.570

我最终使用了`QPushButton`带有弹出菜单的 a 。`QComboBox`我将我在我的列表中的项目添加`QActions`到菜单中。菜单可以设置`QPushButton`在

```
QPushButton::setMenu(QMenu* menu) 
```

. 按钮上的文本可以很容易地设置

```
QPushButton::setText(const QString &) 
```

并且与弹出菜单中的文本无关，这是我想要的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-18T11:26:40.967

我假设您想要一个组合框，其中“A”、“B”、“C”作为实际数据，“这是 A”、“这是 B”和“这是 c”作为 QComboBox 中显示的内容。这是代码：

```
box.addItems(QStringList () << "This is A"<< "This is B"<< "This is C");
box.setItemData(0, "A");
box.setItemData(1, "B");
box.setItemData(2, "C"); 
```

您可以使用以下代码获取实际数据：

```
QString actual = box.itemData(0).toString();//actual will be = "A";
qDebug()<<actual;//"A" 
```

注意：您几乎可以为组合框项设置所需的每种数据类型。更重要的是，您可以使用[setItemData](http://qt-project.org/doc/qt-5.0/qtwidgets/qcombobox.html#setItemData)的第三个参数为每个项目设置更多的附加数据。

# windows - vlc马赛克中的udp流

> ID：16080435
> 
> 赞同：2
> 
> 时间：2013-04-18T10:25:55.227
> 
> 标签：windows, stream, udp, vlc, mosaic

我正在尝试在 Windows 7 上使用 VLC 2.0.5 将三个 UDP 流重新组合在一个马赛克中。我不需要流式传输它；但只是为了在我的屏幕上显示它。但是我做错了，希望有人可以帮助。

这是我的conf文件：

```
new 1 broadcast enabled
setup 1 input "udp://@1.2.3.1:1234"
setup 1 output #duplicate{dst=mosaic-bridge{id=1,height=144,width=180},select=video,dst=bridge-out{id=1},select=audio}
new 2 broadcast enabled
setup 2 input "udp://@1.2.3.2:1234"
setup 2 output #duplicate{dst=mosaic-bridge{id=2,height=144,width=180},select=video,dst=bridge-out{id=2},select=audio}
new 6 broadcast enabled
setup 6 input "udp://@1.2.3.3:1235"
setup 6 output #duplicate{dst=mosaic-bridge{id=3,height=144,width=180},select=video,dst=bridge-out{id=3},select=audio} 
new BackGround broadcast enabled loop
setup BackGround input "file:///C:/file.bmp"
setup BackGround output output #transcode{sfilter=mosaic,vcodec=mp2v,vb=500,scale=1}:bridge-in{delay=400,id-offset=100}:display
setup BackGround option file-caching=300

control 1 play
control 2 play
control 6 play
control BackGround play 
```

这是我的命令：./vlc --color --vlm-conf --mosaic-width=360 --mosaic-height=288 --mosaic-keep-picture --mosaic-rows=2 --mosaic-cols =2 --mosaic-position=1 --mosaic-order=1,2,3,4 ."mosaic.vlm.conf"

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-01T07:15:07.263

之后`--vlm-conf`你应该指定输入的 vlm 配置文件；你在最后指定了它！尝试这个：

vlc --color --vlm-conf 马赛克.conf --mosaic-width 360 --mosaic-height 288 --mosaic-rows 2 --mosaic-cols 2 --mosaic-order 1,2,3,4

# git - git diff 用于 diff 命令的参数是什么？

> ID：16080437
> 
> 赞同：1
> 
> 时间：2013-04-18T10:26:02.287
> 
> 标签：git, command-line, diff, git-diff

当您调用`git diff`时，它使用该`diff`实用程序来比较文件，但是，不是以默认方式。它使用了许多额外的选项，我能说出的一些是：

*   行前的不同标记：+/- 而不是 >/<。
*   在实际不同的行之前和之后的几行上下文。

但我不确定这些是唯一的变化。其他是什么以及`git`传递哪些命令行参数`diff`以实现其默认输出？如果我想比较，比如说， `a.txt`用`b.txt`git 制作的方式制作差异文件，我应该使用什么命令行？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:50:00.353

Git 不使用默认的 *nix 或 GNU diff，但实现了自己的 diff 算法。

其代码主要位于文件`builtin/diff.c`、`builtin/diff-tree.c`和[Git 源代码树](https://github.com/git/git)`builtin/diff-index.c`中。`builtin/diff-files.c`

因此，它可以做一些花哨的事情，例如高级 word-diff，并为所有平台提供可靠的实现。

它可以生成的默认（基于行的）统一差异格式补丁与该格式的大多数其他实现兼容。IIRC、GNU diff（或者它是补丁？）还对 Git 放入 diff 中的一些额外内容增加了一些容忍度，以便在应用 git 生成的补丁时更具弹性。

# php - 显示计数结果

> ID：16080451
> 
> 赞同：0
> 
> 时间：2013-04-18T10:26:39.633
> 
> 标签：php

我想知道如何计算有多少人在 Instagram 中关注某人并将数字放在 var 中，Instagram 为您提供了此链接：

```
https://api.instagram.com/v1/users/3/followed-by?access_token=xxxxxxxxx.xxxxxxxxxxxxxxxxxxxx 
```

并显示这样的结果

```
{
    "data": [{
        "username": "meeker",
        "first_name": "Tom",
        "profile_picture": "http://distillery.s3.amazonaws.com/profiles/profile_6623_75sq.jpg",
        "id": "6623",
        "last_name": "Meeker"
    },
    {
        "username": "Mark",
        "first_name": "Mark",
        "profile_picture": "http://distillery.s3.amazonaws.com/profiles/profile_29648_75sq_1294520029.jpg",
        "id": "29648",
        "last_name": "Shin"
    },
    {
        "username": "nancy",
        "first_name": "Nancy",
        "profile_picture": "http://distillery.s3.amazonaws.com/profiles/profile_13096_75sq_1286441317.jpg",
        "id": "13096",
        "last_name": "Smith"
    }]
} 
```

我如何计算有多少个并将其放在一个 var 中，让我们说：

```
<? echo "You are been follow by ".$followers." users!"; ?> 
```

显示：您已被 3 位用户关注！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:31:47.750

您需要使用 json_decode 来解码 JSON 响应，然后访问结果对象的数据属性（“跟随者”对象的数组），并计算：

```
$json = '{
    "data": [{
        "username": "meeker",
        "first_name": "Tom",
        "profile_picture": "http://distillery.s3.amazonaws.com/profiles/profile_6623_75sq.jpg",
        "id": "6623",
        "last_name": "Meeker"
    },
    {
        "username": "Mark",
        "first_name": "Mark",
        "profile_picture": "http://distillery.s3.amazonaws.com/profiles/profile_29648_75sq_1294520029.jpg",
        "id": "29648",
        "last_name": "Shin"
    },
    {
        "username": "nancy",
        "first_name": "Nancy",
        "profile_picture": "http://distillery.s3.amazonaws.com/profiles/profile_13096_75sq_1286441317.jpg",
        "id": "13096",
        "last_name": "Smith"
    }]
}';
$json = json_decode($json);
echo "You have " .count($json->data) ." followers" 
```

# 或者

```
$json = json_decode($json,true);
echo "You have " .count($json['data']) ." followers" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:28:28.127

你得到一个 json 字符串，你需要使用[json_decode](http://php.net/manual/en/function.json-decode.php)对其进行解码。

```
$data = json_decode($string,true);
$followers = count($data['data']); 
```

[键盘演示](http://codepad.viper-7.com/USqfMS)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:28:06.707

用于[`json_decode()`](http://php.net/json_decode)从 JSON 创建 PHP 数组。然后你可以简单地做一个[`count()`](http://php.net/count)：

```
$jsonData = json_decode($yourAPIResult);
echo count($jsonData->data); 
```

但是请注意，您可能应该设置一些错误处理，以防 API 没有返回正确的 JSON 字符串。所以这样的事情可能会更好：

```
if (is_null($jsonData) || !property_exists($jsonData, 'data')) {
   echo '?';
} else {
   echo count($jsonData->data);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-18T10:29:46.627

您需要使用`json_decode()`which 将返回一个 PHP 数组。然后你需要做的就是`count()`用'data'键对数组中的所有值。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-18T10:30:09.557

您可以使用 json_decode

```
$array = json_decode($str); 
```

然后给

```
echo count($array); 
```

它将给出用户总数

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-18T10:31:11.247

计算返回为 JSON 的条目的简单方法

```
echo count(json_decode($followers); 
```

# jsp - How to show site page urls in Liferay jsp portlet?

> ID：16080453
> 
> 赞同：1
> 
> 时间：2013-04-18T10:26:41.447
> 
> 标签：jsp, liferay, liferay-6, liferay-velocity

I would like to show some **site page urls** in a **Liferay jsp portlet**. I'm using Liferay 6.1 EE. I would like to use page's localized title and other custom fields added (e.g. cssClass).

I have done the same for the navigation bar, for my **velocity theme**:

```
#if (!$page_group.isUser())

    #set($layoutLocalService = $serviceLocator.findService("com.liferay.portal.service.LayoutLocalService"))

    <ul id="quickLinks">
        <li>
            #set($currFriendlyUrl = "/i-want-to")
            #set($currLayout = $layoutLocalService.getFriendlyURLLayout($group_id, true, $currFriendlyUrl))
            <a href="$currLayout.getRegularURL($request)" $currLayout.getTarget() class="$currLayout.getExpandoBridge().getAttribute('cssClass')">$currLayout.getName($locale)</a>
        </li>
    </ul>
#end 
```

How could I write the same code using jsp?

I have found a [similar quesion](https://stackoverflow.com/questions/12045055/rendering-liferay-page-urls-inside-of-portlets-liferay-6-1), but there was not a clear code example for jsp in answers.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T12:00:12.287

设法用jsp实现它，如下所示：

```
<%@ page import="com.liferay.portal.service.LayoutLocalServiceUtil" %>
<% if (!layout.getGroup().isUserGroup()) { %>
    <ul id="quickLinks">
        <li>
            <% Layout currLayout = LayoutLocalServiceUtil.getFriendlyURLLayout(scopeGroupId, true, "/i-want-to"); %>
            <a href="<%=currLayout.getRegularURL(request)%>" <%=currLayout.getTarget()%> class='<%=currLayout.getExpandoBridge().getAttribute("cssClass")%>'><%=currLayout.getName(locale)%></a>
        </li>
    </ul>
<% } %> 
```

# android - 如何获得每个进程的准确 CPU 使用率和进程空闲 CPU 时间

> ID：16080457
> 
> 赞同：3
> 
> 时间：2013-04-18T10:26:49.987
> 
> 标签：android, linux, operating-system, java-native-interface

我一直在努力获得每个进程的准确 CPU 使用率和进程空闲 CPU 时间。我尝试了“top”命令 proc/[pid]/stat 文件夹，但仍在尝试我的运气。

TOP 命令为在 fg(foreground) 和 bg(background) 中运行的所有进程提供 CPU 使用率，但我觉得它并不准确.. 因为它显示 %CPU 0，即使进程在后台运行.. 任何其他方法？请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-05T18:07:36.230

我找到了自己做的方法..我正在使用

1.  proc/[pid]/stat -> 用于每个进程的 CPU Usage 14th 和 15th 参数
2.  proc/stat -> 用于所有进程同时消耗 CPU

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-24T07:02:42.890

您可以通过以下方式获取 CPU 使用率：

```
ArrayList<String> list = new ArrayList<String>();
    try {
        // -m 10, how many entries you want, -d 1, delay by how much, -n 1,
        // number of iterations
        Process p = Runtime.getRuntime().exec("top -m 15 -d 1 -n 1");

        BufferedReader reader = new BufferedReader(new InputStreamReader(
                p.getInputStream()));
        int i = 0;
        String line = reader.readLine();
        while (line != null) {
            Log.e("Output "   i, line);
            list.add(line);
            line = reader.readLine();
            i  ;
        }

        p.waitFor();

        Toast.makeText(getBaseContext(), "Got update",Toast.LENGTH_SHORT)
                .show();

    } catch (Exception e) {
        e.printStackTrace();
        Toast.makeText(getBaseContext(), "Caught", Toast.LENGTH_SHORT)
                .show();
    } 
```

# vb.net - 无法从 oracle 服务器获取数据到 System.Data.DataTable

> ID：16080459
> 
> 赞同：0
> 
> 时间：2013-04-18T10:26:52.550
> 
> 标签：vb.net, oracle

我正在从我的 vb.net 应用程序调用以下查询到 oracle 服务器，并且在我的 oracle sql 开发人员上执行了相同的查询并正确给出了结果。但是当从下面的 vb.net 代码调用相同的查询时，结果在数据表中出现零行，没有任何异常。

提前致谢。

甲骨文

```
with sdk as (select roll_no from student where roll_no='1001';)
select * from sdk; 
```

VB

```
Dim MyconnectionString As String = &quot;provider=MSDAORA.1;data source=student;user id=ss;password=1234;
Dim myOleDbConnection As New OleDbConnection(MyconnectionString)

Dim loDataTable As New DataTable
Dim loCommand As New OleDbCommand
Dim loDataAdapter As New OleDbDataAdapter

loCommand.CommandText = "with sdk as (select roll_no from student where roll_no=&#39;1001&#39;)select * from sdk;"                
loCommand.CommandType = CommandType.Text
loCommand.Connection = myOleDbConnection
loCommand.CommandTimeout = 0
loDataAdapter.SelectCommand = loCommand
loDataAdapter.Fill(loDataTable) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:32:32.507

您有两个不同的查询：

```
with sdk as (select roll_no from student where roll_no='1001';) 
```

对比

```
with sdk as (select roll_no from student where roll_no='1005') 
```

所以我猜你有 roll_no = 1001 的数据，但没有 roll_no = 1005 的数据

# events - AngularJS中的Fire按钮单击

> ID：16080461
> 
> 赞同：6
> 
> 时间：2013-04-18T10:27:01.090
> 
> 标签：events, button, input, angularjs, click

我想在输入中按 ENTER 时触发按钮的单击事件，我发现 AngularJS 很难。

*我的观点（简化，**更新**）：*

```
<!doctype html>
<html lang="en" ng:app="test">
    <head>
        <meta charset="utf-8" />
        <title>Test</title>
        <link rel="stylesheet" href="css/app.css" />
    </head>
    <body ng-controller="TestController">
        <button ng-click="onButton1Click()" class="btn1">Click Me</button>
        <button ng-click="onButton2Click()" class="btn2">Don't click me</button>
        <script src="lib/jquery/jquery.js"></script>
        <script src="lib/angular/angular.js"></script>
        <script src="js/testcontroller.js"></script>
    </body>
</html> 
```

*我的这个视图的控制器：*

```
'use strict';

angular.module('test', [])
.controller('TestController', ['$scope',
    function($scope) {

        $scope.onButton1Click = function() {
            alert("Hello");
        }

        $scope.onButton2Click = function() {
            $('.btn2').click();
        }
}]) 
```

我将所有代码简化为这个。当我点击**btn2**我得到这个错误

> $apply 已经在进行中

不行，不能`$scope.onButton1Click()`直接调用，必须模拟**btn1**点击。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-19T14:58:24.037

你提到

> 在输入中按 ENTER 时触发按钮的单击事件

因此，如果可以安全地假设您可以拥有我更喜欢使用[ng-submit](http://docs.angularjs.org/api/ng.directive:ngSubmit)的表单，如下所示。

```
<form ng-submit="clickEventFunction()">
  <input type="text"/>
  <button type="submit">Click</button>
</form> 
```

注意按钮类型应该是**submit**。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-06-10T23:21:49.733

我花了一段时间才弄清楚（很多小提琴）。

`<form id="nowsorting" ng-submit="getData(sc_user)">Now sorting the Soundcloud likes of <input type="text" ng-model="sc_user"><input type="submit" value="Sort"></form>`

制作一个表单并使用 ng-submit 来触发事件（可能是一个函数）。

然后创建两个输入（一个是“文本”，另一个是“提交”）。

然后按 enter 应该触发 ng-submit 事件/函数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T11:24:38.813

我想，你只需要调用你的 $scope.onButtonClick()

请检查[这个 Plunker](http://plnkr.co/edit/atV0gglDvMMBXtxmVJMr)

```
$scope.onKeyPress = function($event) {
   if ($event.keyCode == 13) {
      $scope.onButtonClick();
   }
}; 
```

# jquery - Handling session timeout in ajax

> ID：16080462
> 
> 赞同：2
> 
> 时间：2013-04-18T10:27:01.610
> 
> 标签：jquery, asp.net-mvc, asp.net-mvc-3, razor, asp.net-mvc-4

In my MVC app I have the following attribute that checks for logged on users:

```
public override void OnActionExecuting(ActionExecutingContext filterContext)
{
       ....
       if (filterContext.RequestContext.HttpContext.Request.IsAjaxRequest())
       {
               filterContext.Result = new Http403Result();
               filterContext.HttpContext.Response.StatusCode = 403;
       }
...
} 
```

Layout.cshtml

```
 $("body").ajaxError(
        function (e, request, settings, exception) {
            alert('in');
            if (request.status == 403) {
                window.location = '@Url.Action("LogOn", "Account", new {area = "", msg = "forbidden", returnUrl = HttpContext.Current.Request.RawUrl})' + window.location.hash;
                return;
            }
            if (request.status == 500) {
                window.location = '@Url.Action("AccessDenied", "Error")';
                return;
            }
            if (request.status == 410) {
                window.location = '@Url.Action("Deleted", "Error")';
                return;
            }
            window.location = '@Url.Action("Index", "Error")';
        }); 
```

but for some reason alert("in") never gets hit even when 403 code is thrown (from ajax request):

![enter image description here](https://i.stack.imgur.com/lb4EG.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:38:52.590

在 DOM Ready 函数中包装 Ajax 错误事件

```
$(document).ready(function () {
    $(document).ajaxError(function (e, xhr, settings) {
        debugger;
    });
}); 
```

或**[在这里查看](https://stackoverflow.com/q/12703942/2007801)**

# android - 您的内容必须有一个 id 属性为 'android.r.id.list' 的列表视图。

> ID：16080466
> 
> 赞同：4
> 
> 时间：2013-04-18T10:27:09.760
> 
> 标签：android, listview, runtime-error

我编写了程序，但是当我运行这个程序时，程序出现运行时错误:(

LogCat 中的错误是：

```
your content must have a listview whose id attribute is 'android.r.id.list' 
```

我`android:id="@android:id/list"`在`ListView`activity_main.xml 文件中设置。

我写我的代码，请阅读并帮助我。

MainActivity.java：

```
public class MainActivity extends ListActivity {

private TextView text;
private static final String[] items={"test", "test1" , "test2" , "test3" , "test4" , "test5" , "test6"};

@Override
public void onCreate(Bundle savedInstanceState){
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    setListAdapter(new ArrayAdapter<String>(this,R.layout.row,R.id.label,items));
    text=(TextView)findViewById(R.id.selection);
}
public void onListItemClick(ListView parent,View v,int position,Long id){
    text.setText(items[position]);
}
} 
```

活动主.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout 
   xmlns:android="http://schemas.android.com/apk/res/android"
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
   android:orientation="vertical">
   <TextView
       android:id="@+id/selection"
       android:layout_width="fill_parent"
       android:layout_height="wrap_content"/>
   <ListView
       xmlns:android="http://schemas.android.com/apk/res/android"
       android:id="@android:id/list"
       android:layout_width="fill_parent"
       android:layout_height="fill_parent"
       android:drawSelectorOnTop="false"/>
</LinearLayout> 
```

行.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal">
   <ImageView
       android:id="@+id/pic"
       android:padding="2dip"
       android:layout_width="wrap_content"
       android:layout_height="wrap_content"
       android:src="@drawable/pic"/>
   <TextView
       android:id="@+id/label"
       android:layout_width="fill_parent"
       android:layout_height="wrap_content"/>
</LinearLayout> 
```

干杯。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-12-02T05:41:08.910

请扩展 Activity 而不是 ListActivity，

然后从布局文件中获取它的视图

```
ListView listView = (ListView) findViewById(R.id.listView); 
```

然后调用`listView.setAdapter(/*agruments*/);`方法

而不是调用 setListAdapter()。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T10:29:07.020

你必须得到一个列表视图的实例，比如

```
ListView lv=getListView(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-18T10:54:28.583

## 比较你的代码没什么区别....

![在此处输入图像描述](https://i.stack.imgur.com/o0vJd.png)

主要活动

```
package com.example.testdemo;

import android.annotation.SuppressLint;
import android.app.ActionBar;
import android.app.Dialog;
import android.app.ListActivity;
import android.os.Bundle;
import android.view.Menu;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends ListActivity {

    private TextView text;
    private static final String[] items = { "test", "test1", "test2", "test3",
            "test4", "test5", "test6" };

    @SuppressLint("NewApi")
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main_);

        setListAdapter(new ArrayAdapter<String>(this, R.layout.lable,
                R.id.label, items));
        text = (TextView) findViewById(R.id.selection);

    }

    @Override
    protected void onListItemClick(ListView l, View v, int position, long id) {
        // TODO Auto-generated method stub
        text.setText("" + items[position]);
        super.onListItemClick(l, v, position, id);
    }

    }
} 
```

* * *

activity_main.xml

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/selection"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" />

    <ListView

        android:id="@android:id/list"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:drawSelectorOnTop="false" />

</LinearLayout> 
```

* * *

行.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal" >

    <ImageView
        android:id="@+id/pic"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="2dip"
        android:src="@drawable/ic_launcher" />

    <TextView
        android:id="@+id/label"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" />

</LinearLayout> 
```

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2013-04-18T10:46:35.810

更改此行

```
 android:id="@android:id/list" 
```

到

```
 android:id="@+id/list" 
```

# c# - 查询数据集中的 2 个数据表

> ID：16080468
> 
> 赞同：2
> 
> 时间：2013-04-18T10:27:12.173
> 
> 标签：c#, linq, datatable, dataset

我有 2 个名为“dst”和“dst2”的数据表。它们位于数据集“urenmat”中。数据的主体在“dst”中。然而，这包含一个名为“werknemer”的列。它包含一个对应于“dst2”中某一行的值。此列名为“数字”。

我需要的是一种左外连接 dst.werknemer 和 dst2.nummer 链接的数据表的方法，并创建一个新的数据表，其中包含链接到“dst.werknemer”的“dst2.naam”以及来自的所有其他列'dst'。

我到处寻找，似乎仍然无法找到我问题的正确答案。几个站点提供了一种在这种情况下使用 LINQ 的方法。我曾尝试使用 LINQ，但我对此并不那么熟练。

我尝试使用 101 个 LINQ 示例： [http ://code.msdn.microsoft.com/101-LINQ-Samples-3fb9811b](http://code.msdn.microsoft.com/101-LINQ-Samples-3fb9811b)

```
urenmat = dataset.
dst =  a, b, c, d, werknemer.
dst2 = nummer, naam. 
```

我使用了“101”中的以下代码。

```
 var query =
            from contact in dst.AsEnumerable()
            join order in dst2.AsEnumerable()
            on contact.Field<string>("werknemer") equals
            order.Field<string>("nummer")
            select new
            {
                a = order.Field<string>("a"),
                b = order.Field<string>("b"),
                c = order.Field<string>("c"),
                d = order.Field<string>("d"),
                naam = contact.Field<decimal>("naam")}; 
```

但是，我不知道将“联系人”和“订单”更改为什么，而且我似乎无法找到如何将其再次保存到数据表中。

如果这些是愚蠢的问题，我很抱歉，但我试图自己解决它，但看起来我很愚蠢：P。提前感谢您的帮助！

PS。我正在使用 C# 编码，输入数据集和数据表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-20T15:42:27.157

如果你想生成一个`dst`左外连接的投影数据集，`dst2`你可以使用这个 LINQ 表达式（对不起，我并没有真正使用 LINQ 查询语法，所以你必须改用这个 lambda 语法）。

```
var query = dst.AsEnumerable()
    .GroupJoin(dst2.AsEnumerable(), x => x.Field<string>("werknemer"), x => x.Field<string>("nummer"), (contact, orders) => new { contact, orders })
    .SelectMany(x => x.orders.DefaultIfEmpty(), (x, order) => new
    {
        a = order.Field<string>("a"),
        b = order.Field<string>("b"),
        c = order.Field<string>("c"),
        d = order.Field<string>("d"),
        naam = x.contact.Field<decimal>("naam")
    }); 
```

因为这是一个投影数据集，您不能简单地*保存回*数据表。如果需要保存，那么您需要加载受影响的行，更新所需的字段，然后保存更改。

```
// untyped
var row = dst.Rows.Find(keyValue);
// typed
var row = dst.FindBy...(keyValue);

// update the field
row.SetField("a", "some value");
// save only this row's changes
row.AcceptChanges();

// or after all changes to the table have been made, save the table
dst.AcceptChanges(); 
```

通常，如果您需要执行（投影）数据的加载和保存，ORM（如实体框架或 LINQ-to-SQL）将是最好的工具。但是，在这种情况下，您使用的是`DataTable`'s，我不确定您是否可以将 ORM 链接到这些（尽管看起来它可能是可能的）。

# ruby-on-rails - 处理 html 时 auto_link_usernames_or_lists 的 Twittertext 错误

> ID：16080470
> 
> 赞同：1
> 
> 时间：2013-04-18T10:27:25.903
> 
> 标签：ruby-on-rails, ruby-on-rails-3, twitter

auto_link_usernames_or_lists 不能很好地处理 html。当我尝试使用 html 标签生成链接时。当您在单个 html 元素中提及字符串时，它不会生成链接，但如果您有两个以上的标签，它会正确生成链接

```
auto_link_usernames_or_lists('<p>@blankyao</p>')                O/P - No link generated
auto_link_usernames_or_lists('<span><p>@blankyao</p><span>')    O/P - Link generated properly 
```

# android - Android - 使用 setOnItemClickListener 帮助更改 XML 项目

> ID：16080474
> 
> 赞同：0
> 
> 时间：2013-04-18T10:27:32.723
> 
> 标签：android, xml, android-manifest

所以我有一个鸡尾酒列表，我想单击一个并更改 XML、Image、TextView 和按钮链接中的三个项目。我在设置和更改这些项目时遇到了困难。我目前只尝试两种鸡尾酒。XML

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="@drawable/beer"
    android:id="@+id/cocktailDetail" >

    <TextView
        android:id="@+id/textCocktailName"
        android:textStyle="bold"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:text="Cocktail Name"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <ImageView
        android:id="@+id/imageCocktail"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:src="@drawable/bloodymary" />

    <TextView
        android:textStyle="bold"
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:text="Ingredients"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <TextView
        android:id="@+id/textIngredients"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:text="Insert txt here"
        android:textAppearance="?android:attr/textAppearanceSmall" 
        android:textStyle="bold" />

    <TextView
        android:textStyle="bold"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:layout_marginTop="2dp"
        android:text="Preparation"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <TextView
        android:id="@+id/textPrepration"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:text="Insert txt here"
        android:textAppearance="?android:attr/textAppearanceSmall"
        android:textStyle="bold" />

    <Button
        android:id="@+id/buttonYoutube"
        android:layout_width="200dp"
        android:layout_height="75dp"
        android:layout_gravity="center"
        android:layout_marginTop="5dp"
        android:text="YouTube Clip"
        android:textSize="20dp" />

</LinearLayout> 
```

班级

```
package com.drunktxtapp;

import android.net.Uri;
import android.os.Bundle;
import android.widget.AdapterView;
import android.widget.Button;
import android.widget.ImageView;
import android.view.View.OnClickListener;
import android.app.Activity;
import android.app.ListActivity;
import android.content.Intent;
import android.widget.TextView;
import android.view.View;
import android.widget.ListView;
import android.widget.AdapterView.OnItemClickListener;

public class CocktailDetail extends ListActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.cocktaildetail);
        ListView cocktail = getListView();
        cocktail.setOnItemClickListener(new OnItemClickListener() {
           public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
               ImageView imageView1 = (ImageView)findViewById(R.id.imageCocktail);
             if(position == 0){
                 imageView1.setImageDrawable(getResources().getDrawable(R.drawable.bloodymary));
                 Button b1 = (Button) findViewById(R.id.buttonYoutube);
                 TextView t1 = (TextView)findViewById(R.id.textCocktailName);
                 String cocktailName = getIntent().getStringExtra("Bloody_Mary");
                 t1.setText(cocktailName);
                 b1.setOnClickListener(new Button.OnClickListener() {

                    public void onClick(View v) {
                         startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("http://www.youtube.com/watch?v=Alt-ehDc3fc")));
             }
                 });
             }else{ 
                 imageView1.setImageDrawable(getResources().getDrawable(R.drawable.bloodymary));
                 Button b1 = (Button) findViewById(R.id.buttonYoutube);
                 TextView t1 = (TextView)findViewById(R.id.textCocktailName);
                 String cocktailName = getIntent().getStringExtra("capirinha");
                 t1.setText(cocktailName);
                 b1.setOnClickListener(new Button.OnClickListener() {

                    public void onClick(View v) {
                         startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("http://www.youtube.com/watch?v=Alt-ehDc3fc")));
                    }
                 });
             }
                 }
             });
           }
        } 
```

列出代码

```
package com.drunktxtapp;

import android.app.ListActivity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.ListView;

public class Menu extends ListActivity{

    String classes[] = {"Bloody_Mary", "Capirinha", "Cosmopolitan", "Cuba_Libre", "Daiquiri", "Mai_Tai", "Manhattan", "Margarita", "Martini", "Mint_Julep", "Mojito", "Old_Fashoned", "Pina_Colada", "Screwdriver", "Singapore_Sling", "Tom_Collins", "Whiskey_Sour", "White_Russian"};
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setListAdapter(new ArrayAdapter<String>(Menu.this,android.R.layout.simple_list_item_1, classes));
    }

    @Override
    protected void onListItemClick(ListView l, View v, int position, long id) {
        // TODO Auto-generated method stub
        super.onListItemClick(l, v, position, id);;
            Intent ourIntent = new Intent(Menu.this, CocktailDetail.class);
            ourIntent.putExtra("Cocktails", classes);
            startActivity(ourIntent);
    }
} 
```

日志猫

```
04-18 11:50:36.330: D/dalvikvm(32700): GC_FOR_ALLOC freed 40K, 7% free 12378K/13191K, paused 14ms, total 14ms
04-18 11:50:36.335: I/dalvikvm-heap(32700): Grow heap (frag case) to 12.992MB for 358208-byte allocation
04-18 11:50:36.345: D/dalvikvm(32700): GC_FOR_ALLOC freed 1K, 7% free 12727K/13575K, paused 12ms, total 12ms
04-18 11:50:36.350: V/MediaPlayer-JNI(32700): native_setup
04-18 11:50:36.350: V/MediaPlayer(32700): constructor
04-18 11:50:36.360: V/MediaPlayer(32700): setListener
04-18 11:50:36.360: V/MediaPlayer-JNI(32700): setDataSourceFD: fd 44
04-18 11:50:36.360: V/MediaPlayer(32700): setDataSource(44, 18199, 64493)
04-18 11:50:36.370: V/MediaPlayer(32700): setVideoSurfaceTexture
04-18 11:50:36.370: V/MediaPlayer(32700): prepare
04-18 11:50:36.375: V/MediaPlayer(32700): message received msg=5, ext1=0, ext2=0
04-18 11:50:36.380: V/MediaPlayer(32700): New video size 0 x 0
04-18 11:50:36.380: V/MediaPlayer(32700): callback application
04-18 11:50:36.380: V/MediaPlayer(32700): back from callback
04-18 11:50:36.380: V/MediaPlayer(32700): message received msg=1, ext1=0, ext2=0
04-18 11:50:36.380: V/MediaPlayer(32700): prepared
04-18 11:50:36.380: V/MediaPlayer(32700): signal application thread
04-18 11:50:36.380: V/MediaPlayer(32700): callback application
04-18 11:50:36.380: V/MediaPlayer(32700): prepare complete - status=0
04-18 11:50:36.380: V/MediaPlayer-JNI(32700): start
04-18 11:50:36.380: V/MediaPlayer(32700): start
04-18 11:50:36.385: V/MediaPlayer(32700): back from callback
04-18 11:50:36.635: I/MediaPlayer(32700): Don't send intent. msg.arg1 = 0, msg.arg2 = 0
04-18 11:50:40.750: V/MediaPlayer(32700): message received msg=2, ext1=0, ext2=0
04-18 11:50:40.750: V/MediaPlayer(32700): playback complete
04-18 11:50:40.750: V/MediaPlayer(32700): callback application
04-18 11:50:40.750: V/MediaPlayer(32700): back from callback
04-18 11:50:41.675: V/MediaPlayer-JNI(32700): release
04-18 11:50:41.675: V/MediaPlayer(32700): setListener
04-18 11:50:41.675: V/MediaPlayer(32700): disconnect
04-18 11:50:41.680: V/MediaPlayer(32700): destructor
04-18 11:50:41.680: V/MediaPlayer(32700): disconnect
04-18 11:50:42.750: D/AbsListView(32700): Get MotionRecognitionManager
04-18 11:50:43.980: D/dalvikvm(32700): GC_CONCURRENT freed 233K, 7% free 12967K/13831K, paused 12ms+2ms, total 27ms
04-18 11:50:43.980: D/dalvikvm(32700): WAIT_FOR_CONCURRENT_GC blocked 9ms
04-18 11:50:43.980: V/MediaPlayer-JNI(32700): native_finalize
04-18 11:50:43.980: V/MediaPlayer-JNI(32700): release
04-18 11:50:43.985: D/AndroidRuntime(32700): Shutting down VM
04-18 11:50:43.985: W/dalvikvm(32700): threadid=1: thread exiting with uncaught exception (group=0x40d3c2a0)
04-18 11:50:43.990: E/AndroidRuntime(32700): FATAL EXCEPTION: main
04-18 11:50:43.990: E/AndroidRuntime(32700): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.drunktxtapp/com.drunktxtapp.CocktailDetail}: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list'
04-18 11:50:43.990: E/AndroidRuntime(32700):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2100)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2125)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at android.app.ActivityThread.access$600(ActivityThread.java:140)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1227)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at android.os.Handler.dispatchMessage(Handler.java:99)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at android.os.Looper.loop(Looper.java:137)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at android.app.ActivityThread.main(ActivityThread.java:4898)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at java.lang.reflect.Method.invokeNative(Native Method)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at java.lang.reflect.Method.invoke(Method.java:511)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1006)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:773)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at dalvik.system.NativeStart.main(Native Method)
04-18 11:50:43.990: E/AndroidRuntime(32700): Caused by: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list'
04-18 11:50:43.990: E/AndroidRuntime(32700):    at android.app.ListActivity.onContentChanged(ListActivity.java:243)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:311)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at android.app.Activity.setContentView(Activity.java:1924)
04-18 11:50:43.990: E/AndroidRuntime(32700):    at com.drunktxtapp.CocktailDetail.onCreate(CocktailDetail.java:22) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:39:12.900

您需要扩展`ListActivity`而不是`Activity`for `CocktailDetail`class，并且您的 XML 应该有一个`ListView`with id`android:id="@+id/list"`

# php - 注意：尝试登录php时未定义索引

> ID：16080482
> 
> 赞同：-1
> 
> 时间：2013-04-18T10:27:55.830
> 
> 标签：php, database, login

我在尝试登录我的页面时遇到了一些问题。总是收到错误的用户名和密码错误通知：未定义索引.....第 30-32 行这是我的代码：

```
<?php 
include("start.html");
include("db-connect.php");
include("sjekk.php");
?>

<form method="post" action="" id="loggInn" name="loggInn">
<fieldset class="container">
<legend>Logg inn</legend>
<table>
    <tr>
    <td><label>Brukernavn </td><td> <input type="text" id="brukernavn" name="brukernavn"> <br/></label></td>
    </tr>
    <tr>
    <td><label>Passord </td><td>  <input type="password" id="passord" name="passord"> <br/></label></td>
    </tr>
    <tr>
    <td><input type="submit" value="Logg inn" id="loggInnKnapp" name="loggInnKnapp" /> </td>
    <td><input type="reset" value="Nullstill" id="nullstill" name="nullstill" /> <br /></td>
    </tr>
    </table>
</fieldset>
</form>
<br />

<?php 

$brukernavn=$_POST ["brukernavn"];
$passord=$_POST["passord"]; 
$login=$_POST[loggInnKnapp];

if($login)
{
if (!sjekkBrukernavnOgPassord($brukernavn,$passord)) 
    {

mysql_query($sqlSentence) or die ("<p>Feil brukernavn/passord.</p>".file_get_contents("slutt.html"));

    }
else        
    {
        print("<p>Du er n&aring logget inn.</p>");
    }               
}

if (!sjekkBrukernavnOgPassord($brukernavn,$passord))  
{
    print("Feil brukernavn/passord <br />");
}
else  
{
    @session_start();
    $_SESSION["innlogget"]=1;  

    print("I menyen til venstre finner du ulike valg som kan utføres ved bruk av denne applikasjonen");
}   
?>
<p>Ny bruker?</p>
<a href="reg-bruker.php">Registrer deg her</a>
<?php
include("slutt.html");
?> 
```

不知道为什么我会收到这些错误，已经查看了几天的代码并且无法弄清楚

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:38:40.873

你得到错误，因为`$_POST`数组的索引不存在。首先`$_POST[loggInnKnapp]`应该是`$_POST['loggInnKnapp']`，您应该在将值分配给新变量之前测试变量是否存在：

```
if(isset($_POST["brukernavn"]) && isset($_POST["passord"]) && isset($_POST['loggInnKnapp'])) {
   $brukernavn=$_POST ["brukernavn"];
   $passord=$_POST["passord"]; 
   $login=$_POST["loggInnKnapp"];
   //The rest of your code
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-18T10:34:15.557

您的参考应该用单引号引起来：

```
$login=$_POST[loggInnKnapp]; 
```

应该：

```
$login=$_POST['loggInnKnapp']; 
```

# background-image - 上传和预览为重复的背景图片

> ID：16080484
> 
> 赞同：0
> 
> 时间：2013-04-18T10:27:57.397
> 
> 标签：background-image, photoshop, background-repeat

我正在网上寻找一个工具，但他们根本没有取得任何成功。我想要上传和预览图像作为背景作为重复的一种或任何其他选择......

我有这个样本：

![在此处输入图像描述](https://i.stack.imgur.com/Y4kqW.png)

如何将图像预览和剪切为重复的**完美背景图像。**是否可以在 Photoshop 或某些类似产品中使用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-28T05:26:58.047

我恢复的技巧是在 Photoshop 的大画布中裁剪图像的一部分，然后制作图层的重复副本......

如果图像看起来不规则，则意味着裁剪的图像是错误的，因此您必须使用图像的其他或更大部分进行更改...

如果它是规则的并且没有从侧面切到边缘，这意味着图像是完美的，使背景重复......

谢谢...

# jquery - Google Maps V3 从数组中绘制多个标记

> ID：16080485
> 
> 赞同：0
> 
> 时间：2013-04-18T10:28:01.220
> 
> 标签：jquery, google-maps, google-maps-api-3

我正在尝试从数组中绘制标记，但是当我使用下面的代码时，它会弹出一个`OVER_QUERY_LIMIT`

```
$.each(obj , function(index, value){
        geocoder = new google.maps.Geocoder();
        console.log(value);
        var replaced = value.toString().replace(/\[.*\]/g,'');
        geocoder.geocode( { 'address': replaced}, function(results, status) {
            if (status == google.maps.GeocoderStatus.OK) {
                map.setCenter(results[0].geometry.location);
                marker = new google.maps.Marker({
                    map: map,
                    position: results[0].geometry.location
                });
            } else {
                alert('Geocode was not successful for the following reason: ' + status);
            }
        });
    }); 
```

**目前我的位置写入一个数组，但除了复制我的一部分 console.log() 之外，我似乎无法向你展示这个**

```
Object { Lagos=[2], Almaty=[2], Banten=[2], more...} 
```

**如果我将数组转换为 json 以向您展示其中的所有内容，则显示如下**

```
{"Lagos":[6.443663,3.419248],"Almaty":[43.243819,76.947697],"Banten":[43.257846,76.946418],"Kuala":[3.15021,101.707703],"Dubai":[24.9952447639,55.0559356887],"Sharjah":[43.25819,76.946332],"Esbjerg":[55.505168,8.456096],"Brighouse":[53.6986,-1.76824],"Burnley":[53.801334,-2.213863],"Ipswich":[52.080412,1.118962],"Daventry":[52.246678,-1.15401],"Yarmouth":[52.595971,1.728609],"Southampton":[50.93347,-1.505792],"Cork":[51.807925,-8.370402],"Gerenzano":[45.63942,8.998989],"Stavanger":[58.99573462,5.6308005317],"Sandnessjoen":[66.022204,12.631874],"Glenugie":[57.486747,-1.800621],"Wellbank":[57.484958,-1.813535],"Cowdenbeath":[56.09946,-3.35909],"Brisbane":[-27.46845,153.022642],"Perth":[-31.955876,115.863018],"Johns":[47.528329,-52.855225],"Halifax":[44.644811,-63.569984],"Edmonton":[53.50247,-113.425276],"Kennesaw":[34.008442,-84.583408],"Houston":[29.838801,-95.501597],"Sanford":[35.443243,-79.177523],"Cunupia":[10.571607,-61.398527],"Maracaibo":[10.67676,-71.617362]} 
```

我的问题是如何将上述纬度和经度绘制成地图上的标记？因为当前的`$.each()`方法似乎超过了我每秒的查询限制。

提前致谢

# enums - Quantifier elimination for enumeration types in Z3

> ID：16080486
> 
> 赞同：1
> 
> 时间：2013-04-18T10:28:02.253
> 
> 标签：enums, z3, quantifiers

I'm experimenting with quantifier elimination tactic for formulas of enumerated types. I'd like to know if there are any ways of increasing the performance by adjusting the solver somehow. After a brief glance over the source code I concluded that there seem to be different strategies for quantifier elimination (e.g. qe_lite.cpp), but they are not exposed as parameters of the qe tactic. In my case formulas have a simple propositional structure, sometimes quantified variables even don't occur in the formula, but the procedure can be called several thousands of times. So I guess, my questions are the following:

1.  Does Z3 have some sort of caching for quantifier elimination (application mode?), that would allow to process a bunch of similar or identical formulas faster?
2.  Can I guide Z3 to use different approaches for quantifier elimination on finite domain formulas, so I can see which one works better for me?
3.  It would be interesting to know which approach is generally used in Z3 to eliminate quantifiers for formulas over finite domain types. Is it performed just by a substitution + simplification, or some more elaborate techniques are used?

Thank you.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T15:35:49.590

1.  “qe-lite”是与“qe”不同的策略。
2.  没有公式的相似性检测。相同的公式是经过散列的（唯一表示的），并且量词消除遍历一次。
3.  您可以尝试“qe”或“qe-lite”。“qe-lite”真的很轻。它主要是消除平等。它是一种粗略（更快、不完整）的例程，用于在适当的时候消除量化变量。
4.  有限域的工具非常简单：Z3 执行位向量和布尔运算，本质上是一个 ALL-SAT 来查找可以使用的值。对于作为代数数据类型给出的枚举类型，Z3 只进行案例拆分（然后进行可满足性检查以进行修剪）。来自有限域的值是

# asp.net - ASP.NET Web 应用程序/网站中的 IP 地址阻止列表

> ID：16080487
> 
> 赞同：5
> 
> 时间：2013-04-18T10:28:02.640
> 
> 标签：asp.net, web-applications

我有一组 IP 地址。

部署我的应用程序后，我希望只能从特定 IP 地址访问我的应用程序。

如何使用 Global.asax（不通过 IIS）实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:44:39.047

[这](http://www.hanselman.com/blog/AnIPAddressBlockingHttpModuleForASPNETIn9Minutes.aspx)对你来说是一个很好的起点

（特别是因为它被很好地分离成一个 HttpModule 以供后续重用）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:39:46.343

我将以这种方式开始，在您的 Global 类的开始请求事件处理程序中，我将根据以下答案确定客户端 IP 地址：[https ://stackoverflow.com/a/9567439/559144](https://stackoverflow.com/a/9567439/559144)

然后，如果连接的 ip 不在允许列表中，我会重定向到另一个页面，例如拒绝访问页面、登录页面或公司/谷歌主页。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:35:20.617

在会话开始 - 事件处理程序中：

假设您有一组被阻止的 IP 即代码（文本）：

Dim bArr() As String = {"198.122.xxx.xx", "xxx.xxx.xx.xxx" 等}

代码（文本）：

```
Dim strIP = Request.ServerVariables("HTTP_X_FORWARDED_FOR")
If strIP="" Then strIP = Request.ServerVariables("REMOTE_ADDR")

For i As integer = 0 To bArr.UperBound
  If strIP = bArr(i) Then
     Response.Redirect("Permissionsdenied.html")
  End If
Next 
```

# php - PHP：如何了解 Web Service 通过 WSDL 提供的功能

> ID：16080489
> 
> 赞同：0
> 
> 时间：2013-04-18T10:28:05.330
> 
> 标签：php, web-services, soap, sabre

我目前是 SOAP Web 服务的新手。我已经阅读了一些描述如何创建 SOAP 服务器和客户端的教程。[这是其中之一]

但是，我的工作涉及整合机票预订和航空公司座位预订。Web 服务通过 [WSDL] 文件公开。我对如何开始，要调用的函数以及所有这些感到非常困惑......

任何对正确教程或解释的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-09-16T16:10:35.043

我想这有点太旧了，但是在 DevStudio 中你有一些示例代码，并且 PHP 是提供的语言之一： [https ://developer.sabre.com/resources/sample_code](https://developer.sabre.com/resources/sample_code)

# linux - 跨正在运行进程的所有线程的“无影响”堆栈跟踪？

> ID：16080493
> 
> 赞同：0
> 
> 时间：2013-04-18T10:28:13.130
> 
> 标签：linux, performance, debugging, stack-trace

如何在 Linux x64 上以侵入性和影响最小的方式**跨已运行进程的所有线程获取堆栈跟踪？**

到目前为止我想到的事情：

*   *gdb* - 恐怕它会太慢而且太久；
*   *[strace+](http://code.google.com/p/strace-plus/)* - 不知道它有什么性能，有经验吗？尽管如此，IIUC，它只跟踪系统调用，我什至不能指望每个线程都进入一个系统调用，特别是一些线程可能已经挂起；
*   *强制崩溃并获取核心转储*- 是的......如果我能轻松做到这一点，我可能已经忙于调试......请，让我们假设房间里没有大象，为了这个问题，好吗？.. . 漂亮请...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T16:13:39.513

`gcore`附带一个实用程序`gdb`。您无需强制崩溃即可获得核心转储。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-31T08:05:12.813

这正是 pstack 所做的。见[http://www.linuxcommand.org/man_pages/pstack1.html](http://www.linuxcommand.org/man_pages/pstack1.html)

# asp.net - 缺少 using 指令或程序集引用？ASP.NET WCF

> ID：16080494
> 
> 赞同：0
> 
> 时间：2013-04-18T10:28:27.627
> 
> 标签：asp.net, wcf, web-services

我在一个项目中有三个项目，一个是数据库层，第二个是 WCF，第三个是使用这两个项目的主站点，所以我在调试时出错

```
Error   203 'CIService.CIServiceClient' does not contain a definition for 'GetInventoryProjectDetailCompleted' and no extension method 'GetInventoryProjectDetailCompleted' accepting a first argument of type 'CIService.CIServiceClient' could be found (are you missing a using directive or an assembly reference?) G:\Design Scoring\InspectionEvaluation\ProjectDetails.aspx.cs   30  27  G:\Design Scoring\InspectionEvaluation\ 
```

在以下代码行中，

```
CIService.CIServiceClient svcClient = new CIService.CIServiceClient();
                svcClient.GetInventoryProjectDetailCompleted += new EventHandler<CIService.GetInventoryProjectDetailCompletedEventArgs>(svcClient_GetInventoryProjectDetailCompleted);
                svcClient.GetInventoryProjectDetailAsync(consultantId, projectId); 
```

此代码来自使用 WCF 服务方法“GetInventoryProjectDetailCompleted”的主站点，我在主站点中也添加了 WCF 参考，在网上检查它我得到了在 web.config 文件中添加参考的解决方案，如图所示，

```
<add assembly="System.Data.Entity, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/> 
```

希望你的建议

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T13:08:38.533

从这段代码：

```
 svcClient.GetInventoryProjectDetailCompleted += new EventHandler<CIService.GetInventoryProjectDetailCompletedEventArgs>(svcClient_GetInventoryProjectDetailCompleted); 
```

这似乎`GetInventoryProjectDetailCompleted`不是方法而是事件，不是吗？

可能你会发现这个异步调用的例子很有用：

[http://www.codeproject.com/Articles/91528/How-to-Call-WCF-Services-Synchronously-and-Asynchr](http://www.codeproject.com/Articles/91528/How-to-Call-WCF-Services-Synchronously-and-Asynchr)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-08-01T06:26:02.470

希望对你有帮助

```
Line 10:          var currentYear = date.getFullYear();
Line 11: 
Line 12:          var txtPurchaseDate = '<%=txtPurchaseDate.ClientId %>';
Line 13: 
Line 14:          $('#' + txtPurchaseDate).datepicker({ 
```

# grails - How to write query in grails controller

> ID：16080503
> 
> 赞同：0
> 
> 时间：2013-04-18T10:28:46.790
> 
> 标签：grails

I am using grails 1.3.7\. I am sending username and password from my view page to controller. And it's rendering correctly on browser. But I need to write query for collect data with that username and password from database. But I have no idea how to write query in grails controller. Can anyone please help me on this ? Here is my action below where I want to write query for logging in to the home page >>>

```
def loginAction = {
    def username = params?.username
    def password = params?.password
    def val = username + "  ---  " +password
    render val
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:57:01.657

就像是：

```
def loginAction = {
    def username = params?.username
    def password = params?.password
    User user = User.findByUsername(username)
    def val = user?.password == password ? 'Valid' : 'Invalid'
    render val
} 
```

但你真的应该阅读 GORM 的文档 - [http://grails.org/doc/latest/guide/GORM.html](http://grails.org/doc/latest/guide/GORM.html)

# jquery - How to show a confirm when i click a button?

> ID：16080506
> 
> 赞同：1
> 
> 时间：2013-04-18T10:28:50.863
> 
> 标签：jquery, asp.net-mvc

I am working with asp.net MVC. I am trying to show a custom message to a user when he clicks a button.

Here is the view :

```
@foreach (var item in Model.ticketList)
 {
var number = item.TicketId.ToString();
<tr>
    <td>

       @Html.ActionLink(number, "Details", new {id=item.TicketId })
    </td>
    <td>Title : 
        @Html.DisplayFor(model => item.Title)
    </td>
    <td> Date Submitted : 
        @Html.DisplayFor(model => item.DateCreated)
    </td>
    <td id="status"> Ticket Status : 
        @if (item.Status == "open") 
        {
            <span id="open">Open</span>
            @Html.ActionLink("Close","Close",new {id=item.TicketId})
        }
        @if (item.Status == "closed") 
        {
             <span id="closed">Closed</span>
            @Html.ActionLink("Open","Open",new {id=item.TicketId})
        }
    </td>
</tr>
<tr id="ticket-backcolor">
    <td colspan="4">Description :
        @Html.DisplayFor(model => item.Description)
    </td>
</tr> 
```

}

The action link is a action controller to modify the value of a field. That works. What I want to do is to show a confirm window in which i ask the user if he is sure he wants to close/open a ticket.

This is what i have been trying to do so far :

```
<script type="text/javascript">
function alert() {
    confirm("are you sure you want to close this ticket ?");
}
$(function () {
    $("span[id='open']").click(alert)
});
</script> 
```

And the same for the open option. This does not work. Can someone help me ?

Edit :

```
<script type="text/javascript">
$(document).ready(function () {
    $("td[id='status']").click(function () {
        return confirm('Are you sure you want to open the ticket ? ');
    });
});
</script>

<script type="text/javascript">
$(document).ready(function () {
    document.getElementById("closed").click(function () {
        return confirm('Are you sure you want to open the ticket ? ');
    });
});
</script> 
```

The second script does not work either. this script works for the tag. can not get it to work for the 2 span tags.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:31:58.133

使用确认

```
var answer = confirm("Are you sure?");
if (answer) {
  //Confirm true code
}else{
  //confirm false code
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T10:36:32.067

```
<script type="text/javascript">
function alert() {
    confirm('are you sure you want to close this ticket ?');
}
$(function() {
    $('#open').click( function() {
        alert();
    });
});
</script> 
```

试试这个。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T10:37:42.237

请尝试以下代码

```
<script type="text/javascript">
        function closeTicketConfirm() {
            if (confirm("are you sure you want to close this ticket ?")) {
                //Do your code for close ticket
            }
        }

        function openTicketConfirm() {
            if (confirm("are you sure you want to open this ticket ?")) {
                //Do your code for open ticket
            }
        }

        $(function () {
            $("span[id='open']").click(function() {closeTicketConfirm();});
            $("span[id='closed']").click(function() {openTicketConfirm();});
        });
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-18T11:08:43.967

我找到了我的问题的解决方案并且它有效。

```
@Html.ActionLink("Close Ticket", "Close", new { id = item.TicketId }, new  { onclick=" return confirm ('Are you sure you want to close ticket ?')"}) 
```

这将在执行操作之前显示确认消息。

# unity3d - 如何统一在地形上绘制图像

> ID：16080508
> 
> 赞同：5
> 
> 时间：2013-04-18T10:28:56.320
> 
> 标签：unity3d

我正在统一开发游戏，其中我需要将一些图像放置在地形上，如附图中的黄色箭头和“蓝色圆圈中的 P”统一渲染在表面上。

任何想法或方法将不胜感激。

![Unity中的箭头](https://i.stack.imgur.com/skFPv.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T10:32:15.580

Unity 中没有对贴花的内置支持。您可以只创建具有透明纹理的单独游戏对象并将它们放置在此处的地形上方，或者使用 Unity Asset Store 中贴花的几个包之一，例如[这个](http://forum.unity3d.com/threads/141792-Decal-System)。（我只是简单地尝试过，不能说它的质量）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-01T10:09:50.627

我知道这是一个古老的话题 - 但对于那些仍然不满意的人：

我会推荐使用[Easy Decal](https://www.assetstore.unity3d.com/en/#!/content/22867)。

这是一个非常强大的贴花投影仪。它易于使用，您也可以在崎岖不平的地形等不平坦的表面上粘贴贴花。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:34:12.190

您可以尝试放置一个平面，其纹理与表面法线略高于表面对齐。或者你可以尝试一个为你贴花的扩展。这是我发现的：

[Unity3D 贴花系统](https://www.assetstore.unity3d.com/#/content/3779)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-04-04T18:11:37.967

如前所述，Easy 贴花是一个不错的选择。它易于使用，具有广泛的功能，您将物有所值。但是，如果您需要蒙皮贴花，则无法使用 Edelweiss 交互式贴花系统 Pro。它更昂贵，但除了蒙皮网格支持之外，它还支持纹理图集，可以节省您的绘制调用。

# delphi - Delphi Chromium Embedded - 清除浏览器缓存

> ID：16080509
> 
> 赞同：2
> 
> 时间：2013-04-18T10:28:57.423
> 
> 标签：delphi, browser-cache, chromium-embedded

我在我的应用程序中使用 Delphi Chromium Embedded。我有以下问题：有没有办法清除浏览器的缓存？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-19T21:32:28.323

我还尝试通过正确设置选项来不使用缓存。我将两个选项（页面和应用程序缓存）都设置为禁用，但我的页面仍然使用缓存。我找到的解决方案是使用

```
chromium1.RecreateBrowser(url); 
```

这个清除了我的缓存。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-09-10T14:18:14.353

为了避免使用缓存：(1) 不要在程序代码中设置 GlobalCEFApp.Cache 和 (2) 在调用 LoadURL 之前设置这两个值：

```
Chromium1.CustomHeaderName  := 'Cache-Control';
Chromium1.CustomHeaderValue := 'no-cache';
Chromium1.LoadURL(aURL); 
```

# events - 找出什么控制器在 symfony2 中触发了一个事件

> ID：16080517
> 
> 赞同：0
> 
> 时间：2013-04-18T10:29:13.377
> 
> 标签：events, symfony, triggers, controller

我需要在我的 symfony2 项目中为每个 web 触发一次事件，我创建了一个在 kernel.controller 发生时调度的事件，问题是这会使事件运行六到七次，而我只希望它运行一次。

有什么想法或建议吗？

如果是这样，我不介意能够知道是哪个控制器触发了事件，这样我就可以把我想放的代码放在那里！！

# php - 为什么我的上传路径无效？（Codeigniter 库）

> ID：16080519
> 
> 赞同：2
> 
> 时间：2013-04-18T10:29:17.393
> 
> 标签：php, codeigniter, file-upload

我正在创建一个库作为项目的一部分，其中一种方法是上传帮助程序的包装器。

方法：

```
 public function upload(){

    echo "Doing upload";

    $config['upload_path']= RESOURCE_PATH . "Downloads";
    $config['allowed_types']='pdf|doc';
    $config['max_size']='10000';
    //echo $config['upload_path'];

    $this->CI->load->library('upload',$config);

    if(!$this->CI->upload->do_upload()){
        echo "Couldn't do the upload";
        echo $this->CI->upload->display_errors();
        echo $config['upload_path'];
    }
    else{
        echo "Could do the upload";
    }
} 
```

我检查了下载文件夹的目录权限并且它存在，但我收到以下错误：**“上传路径似乎无效。”**

我该如何解决这个问题？

**编辑:: 我创建了一个符号链接，所以我的目录结构看起来像：**

```
 www -> /home/user/Dropbox/www/appname 
```

注意使用的变量：

```
$this->CI = &get_instance(); // Defined in custom library class 
define('RESOURCE_PATH', APPPATH . 'views/resources/'); // Defined in constants.php 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T14:45:06.770

> 想通了愚蠢的问题。
> 
> 当我尝试通过 $this->load->library('upload', $config); 初始化配置时，我正在自动加载库以及一些方法。它不会这样做。
> 
> 相反，我将我的配置文件放在 config/upload.php
> 
> 另一种方法是 $this->upload->initialize($config);

[看到这个答案。](https://stackoverflow.com/questions/8664758/the-upload-path-does-not-appear-to-be-valid-codeigniter-file-upload-not-worki)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-16T05:18:25.730

添加这一行

```
$this->CI->upload->initialize($config); 
```

后

```
$this->CI->load->library('upload',$config); 
```

# facebook - 从评论框小部件中删除评论

> ID：16080522
> 
> 赞同：1
> 
> 时间：2013-04-18T10:29:19.973
> 
> 标签：facebook, comments

正如标题所说，我有点坚持评论框的管理控制。

我已经包含了元标记

```
<meta property="fb:admins" content="[mhalpin13]" /> 
```

成为管理员，但似乎没有用。我只能将评论标记为垃圾邮件。

**网址** [http://www.rubb.co.uk/teamrubb.htm](http://www.rubb.co.uk/teamrubb.htm)

如您所见，此页面尚未完成。

任何帮助都会很棒。

谢谢

迈克尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:49:32.683

我只是完全吓到你，但它是为了帮助你，所以我希望你不介意.. 在[Facebook Docs](http://developers.facebook.com/docs/reference/plugins/comments/)
`<meta property="fb:admins" content="{YOUR_FACEBOOK_USER_ID}"/>`
的例子 中，实际上是指你的用户 ID 号。我去了 facebook.com/mhalpin13，右键单击添加朋友，复制链接，并将其粘贴在下面。在其中您会看到您的个人资料 ID 是，所以继续尝试并告诉我它是否有效. 再一次，抱歉爬行..让我知道它是否有效，哈哈`{YOUR_FACEBOOK_USER_ID}``51585963`

[https://www.facebook.com/r.php?profile_id=515859638&next=http%3A%2F%2Fwww.facebook.com%2Fmhalpin13&friend_or_subscriber=friend](https://www.facebook.com/r.php?profile_id=515859638&next=http%3A%2F%2Fwww.facebook.com%2Fmhalpin13&friend_or_subscriber=friend)

# python - Python如何将列表中的元素添加到另一个字符串列表中

> ID：16080524
> 
> 赞同：1
> 
> 时间：2013-04-18T10:29:23.467
> 
> 标签：python, prepend

我有一个列表（list1）如下：

```
[0, 1, 2] 
```

我想将每个元素添加到`list2`字符串列表 ( ) 中：

```
['Start|983471|String1|True\n',
 'Start|983472|String2|True\n',
 'Start|983473|String3|True\n'] 
```

给：

```
['0|Start|983471|String1|True\n',
 '1|Start|983472|String2|True\n',
 '2|Start|983473|String3|True\n'] 
```

我的代码：

```
Finallist = []
x=0
while x < len(list1):
    for line in list2:
        Finallist.append("|".join((str(list1[x]),line)))
    x+=1 
```

这将返回 9 行。怎么了？我希望每个项目都被添加。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:30:42.730

您的代码的问题在于您实际上有 2 个循环，一个循环`x`从`0`到列表的长度，另一个循环通过列表中的每一行，所以它看起来像：

```
for x in range(len(list1)):
    for line in list2:
        Finallist.append("|".join((str(list1[x]),line))) 
```

因此，您将在每次迭代中通过`list1`. 你可能想要这样的东西：

```
for x in range(len(list1)):
    Finallist.append("|".join((str(list1[x]),list2[x]))) 
```

以下是如何通过列表理解更紧凑地做到这一点：

```
>>> list1 = [0, 1, 2]
>>> list2 = ['Start|983471|String1|True\n',
 'Start|983472|String2|True\n',
 'Start|983473|String3|True\n']
>>> ['{0}|{1}'.format(num, s) for num, s in zip(list1, list2)]
['0|Start|983471|String1|True\n', '1|Start|983472|String2|True\n', '2|Start|983473|String3|True\n'] 
```

我观察到您只是使用每行的索引，因此您可以使用：

```
['{0}|{1}'.format(i, s) for i, s in enumerate(list2)] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T10:33:09.330

`enumerate`并将`zip`完成工作：

```
list1 = [0, 1, 2]

data1 = ['Start|983471|String1|True\n',
 'Start|983472|String2|True\n',
 'Start|983473|String3|True\n']

for i, (line, num) in enumerate(zip(data1[:], list1)):
    data1[i] = str(num) + '|' + line

print(data1) 
```

输出：

```
['0|Start|983471|String1|True\n', '1|Start|983472|String2|True\n', '2|Start|983473|String3|True\n'] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:35:55.107

不要使用`for`循环... `while`循环就够了。。

```
list1=['Start|983471|String1|True\n', 'Start|983472|String2|True\n', 'Start|983473|String3|True\n']
list2=['1','2','3']   
Finallist = []
x=0
while x < len(nk):
    Finallist.append(str(list2[x])+'|'+list1[x])
    x+=1 
```

# authentication - spring security jsf/facelets 标签库没有标签“身份验证”

> ID：16080526
> 
> 赞同：2
> 
> 时间：2013-04-18T10:29:28.073
> 
> 标签：authentication, tags, spring-security

我是春季安全的新手。我也使用 JSF 框架。在 xhtml 页面中，我使用弹簧安全标签。这个有效：

```
<sec:authorize access="hasRole('ROLE_USER')">HOHO</sec:authorize> 
```

但是，这些不起作用：

```
<sec:authentication property="name" />
<sec:authentication property="principal.name" />
<sec:authentication property="principal" /> 
```

它给了我这个错误：

```
/Welcome.xhtml @20,48 <sec:authentication> Tag Library supports namespace: http://www.springframework.org/security/tags, but no tag was defined for name: authentication 
```

**编辑** 我试图在 springsecurity.taglib.xml 中添加它：

```
<tag>
  <tag-name>authentication</tag-name>
  <handler-class>org.springframework.security.taglibs.authz.AuthenticationTag</handler-class>
</tag> 
```

和这个 ：

```
<tag>
   <tag-name>authentication</tag-name>
   <component>
        <component-type>org.springframework.security.taglibs.authz.AuthenticationTag</component-type>
   </component>
</tag> 
```

但他们都没有为我工作。

# java - 如何从 Java 应用程序重新启动 Apache？

> ID：16080534
> 
> 赞同：1
> 
> 时间：2013-04-18T10:29:50.553
> 
> 标签：java, apache

我想从 Java 重新启动 Apache。我尝试使用以下代码重新启动它。

```
Runtime.getRuntime().exec("cmd.exe /c \"C:\\Program Files\\Apache\\Apache22\\bin\\httpd.exe\" -k restart -n \"localServer\""); 
```

这似乎在 Java 程序内部不起作用（如果我将它放入命令行，它确实起作用）。我知道我最终会遇到管理员问题，但现在我只想让它重新启动服务器。任何人都可以给我任何指示吗？

我设法弄清楚了这一点，并使其与 Windows 7 和 UAC 管理器一起工作。

```
Process stop = Runtime.getRuntime().exec("\"C:\\Program Files\\Apache\\Apache22\\bin\\elevate.exe\" -c \"C:\\Program Files\\Apache\\Apache22\\bin\\httpd.exe\" -k stop -n \"localServer\""); 
```

然后有一秒钟的时间再次启动它。第一个调用是提升这是一个 .exe，我下载了该提升的特权，因此我能够实际运行命令，然后第二个调用停止。

# download - Vaadin 6 : Window.open(FileResource) ; 如何监控下载？

> ID：16080536
> 
> 赞同：2
> 
> 时间：2013-04-18T10:29:54.280
> 
> 标签：download, vaadin, monitor

我正在使用 Vaadin 6 构建一个 Portlet。在该 Portlet 中，我让最终用户下载他完成的搜索/操作的结果。我在这里所做的是即时生成一个 zip 文件以供下载并使用

> getMainWindow().open(资源);

其中资源是文件资源。

由于搜索非常复杂，我几乎没有机会重用结果，为了让事情变得更好，我想在下载过程“消费”后从服务器中删除 zip 文件.

下载完成后，我是否有机会以某种方式进行监控？

TIA

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T05:16:37.927

如果您只关心保持服务器清洁，那么使用机器的 tmp-dir 就足够了。这样，操作系统会为您处理删除。或者，您可以使用 cron 或 sheduler/timer 服务编写自己的清理过程。

# windows - CPU 周期计数作为执行指令数的近似值

> ID：16080541
> 
> 赞同：0
> 
> 时间：2013-04-18T10:30:11.540
> 
> 标签：windows, profiling, cpu-usage

我正在尝试测量在 Windows 上执行某些代码所花费的 CPU 周期。在运行上面的代码（Visual C++ 11）时，我注意到 CPU 周期可能因运行而异。由于没有涉及显式 I/O，我不知道为什么会发生这种情况。

一般来说，线程花费的 CPU 周期与执行的指令量之间有什么关系？我可以使用 CPU 周期作为近似值吗？

```
#include "stdafx.h"
#include <windows.h>
#include <iostream>
#include <algorithm>
int _tmain(int argc, _TCHAR* argv[])
{
    unsigned __int64 thread_cycle1;
    unsigned __int64 thread_cycle2;

    HANDLE thread_handle = GetCurrentThread();
    QueryThreadCycleTime(thread_handle, &thread_cycle1);

    // Code for profiling
    int a[] = {1,3,4,5,6,7,23,4,2,6,7,8,9};
    std::sort(a, a + sizeof(a) / sizeof(a[0]));

    QueryThreadCycleTime(thread_handle, &thread_cycle2);

    std::cout << thread_cycle2 - thread_cycle1 << " cycles";
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T15:40:13.847

我认为您必须概括太多才能说 Cycles ~= # 执行的指令。不同的指令有不同的延迟。

您至少可以在以下链接中找到有关英特尔® 64 和 IA-32 的详细信息：

[http://www.intel.co.uk/content/dam/doc/manual/64-ia-32-architectures-optimization-manual.pdf](http://www.intel.co.uk/content/dam/doc/manual/64-ia-32-architectures-optimization-manual.pdf)

附录 C 介绍了这种延迟。

至于为什么它们会有所不同，其他评论将适用，特别是因为缓存未命中会显着改变行为。

# java - 如何在 JavaFX 菜单中调用 Java 方法

> ID：16080542
> 
> 赞同：1
> 
> 时间：2013-04-18T10:30:21.633
> 
> 标签：java, javafx-2, javafx

我是 JavaFX 的新手。我创建了这个简单的菜单。

```
MenuBar menuBar = new MenuBar();

        // File menu - new, save, exit
        Menu menu = new Menu("File");
        menu.getItems().add(new MenuItem("New"));
        menu.getItems().add(new MenuItem("Save"));
        menu.getItems().add(new SeparatorMenuItem());
        menu.getItems().add(new MenuItem("Exit"));

        menuBar.getMenus().add(menu);

        // Options menu - Preferences
        Menu options = new Menu("Options");
        options.getItems().add(new MenuItem("Preferences"));

        menuBar.getMenus().add(options);

        // Help menu - About
        Menu help = new Menu("Help");
        help.getItems().add(new MenuItem("About"));

        menuBar.getMenus().add(help);

        menuBar.prefWidthProperty().bind(primaryStage.widthProperty());

        root.getChildren().add(menuBar);
        primaryStage.setScene(scene);
        primaryStage.show();
    } 
```

您能告诉我单击菜单时如何调用 Java 方法吗？刚开始我想在单击时调用此 Java 方法`Exit`。

```
 public void programExit(){

       System.exit(0);

    } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-18T10:34:25.287

而不是`menu.getItems().add(new MenuItem("Exit"));`写：

```
MenuItem menuItem = new MenuItem("Exit");
menuItem.setOnAction(new EventHandler<ActionEvent>() {
    @Override public void handle(ActionEvent e) {
        System.exit(0);
    }
});
menu.getItems().add(menuItem); 
```

# git - 了解 GitHub 上的拉取请求：删除请求存储库时会发生什么？

> ID：16080544
> 
> 赞同：16
> 
> 时间：2013-04-18T10:30:31.603
> 
> 标签：git, github, open-source, pull-request

以下场景：

我创建了一个开源存储库 ( `GitHub -> project -> Fork`)。然后我在本地克隆了我的项目副本，在主分支中进行了一些更改，提交它们，然后推送到我的存储库：

```
$ git clone git@github.com-myusername:myusername/originalprojectname.git
... changes ...
$ cd originalprojectname
$ git add path/to/changed/file.php
$ git commit -m "..."
$ push 
```

之后，我在 GitHub 上发起了一个拉取请求。它已被标记为“适合合并”并添加到`Milestone: x.y.z`.

更改后的代码在哪里？仅在我的仓库中还是在其他地方？背景是：我想删除我的存储库。所以，最后我的问题是：**如果我在 GitHub 上删除我的存储库，那么原始项目的更改是否仍然可用，还是应该等待发布`x.y.z`？**

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-18T10:46:04.793

是**的，删除 repo 后代码仍然存在**。一旦您提交拉取请求，Github 就会在内部将该分支添加到目标 repo（它会在非默认命名空间中创建一个分支，因此您通常看不到这些分支）。

由于 PR 通常不能被删除，因此这些分支将无限期地存在于目标 repo 中。

回答您的另一个问题：代码将驻留在您的分叉和目标存储库中（最初，至少，除非您删除您的分叉）。

# php - php 函数 file_exists 与 condeigniter

> ID：16080550
> 
> 赞同：0
> 
> 时间：2013-04-18T10:30:49.160
> 
> 标签：php, codeigniter, file-io, user-profile

我正在使用 codeigniter，我想显示一个显示他的个人资料图片的用户页面。当用户上传个人资料图片时，它将获得与用户名相同的名称（旧的个人资料图片将被覆盖）。如果他没有上传个人资料图片，则会显示问号图片。我使用 file_exists 函数，但它每次都返回 false。

```
$filename = base_url().'images/userimg/'.$this->session->userdata('username');

if(file_exists($filename)){
echo '<img src="'.$filename.'" width="300" height="300"  /><br/>';
}
else { 
echo '<img src="'.base_url().'images/no_image.jpg" width="300" height="300"  /><br/>';  
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-07-24T09:30:59.213

将您的代码更改为：

```
$filename = './images/userimg/'.$this->session->userdata('username'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-19T19:44:00.123

可能是您的问题是由于使用或 url 而不是本地服务器路径引起的。配置文件中的那个 base_url 包含一个 URL，并且 file_exists 函数应该使用完整的本地路径 - 您可以使用 FCPATH（如 Svetlio 建议的）或任何其他方式。虽然 file_exists 应该与 URL 一起使用，但我认为它会比完整路径更麻烦。

# tmux - tmux会话分离时如何停止进程

> ID：16080554
> 
> 赞同：2
> 
> 时间：2013-04-18T10:31:02.253
> 
> 标签：tmux

我经常同时运行几个 tmux 会话，在大多数这些会话中，我将在一个端口上运行一个本地服务器。我想要的是能够在从 tmux 会话分离时自动终止该服务器，并在重新连接时类似地重新启动服务器。

tmux 中是否有任何东西可以使这更容易，感觉就像 tmux 提供了一个钩子，以便您可以在会话分离或重新连接之前运行脚本，但我看不到这样的东西文档。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-05-18T22:54:18.690

快进到 2017 年。今天，tmux 调用了钩子`client-attached`，`client-detached`当客户端分别连接到会话或从会话中分离时，这些钩子就会运行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-11-28T19:10:09.643

```
tmux a  # attach most recent tmux session 
```

或者

```
tmux list-sessions  # look for the session you want to kill
tmux a -t 0         # attach session named "0" 
```

一旦进入你想要杀死的会话：

```
[Ctrl]-B x          # kill current pane of current session 
```

对该会话中的所有窗格和窗口执行此操作，并且应该这样做。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-17T00:20:27.617

您可以将这样的内容添加到您的`~/.tmux.conf`

`shell-command /bin/bash yourhook.sh`

在运行 tmux 时，这至少会给你一些功能，但我不确定你会对分离钩子做什么......

# php - 用 php 将 \n 替换为字符串中的新行

> ID：16080555
> 
> 赞同：0
> 
> 时间：2013-04-18T10:31:06.360
> 
> 标签：php, character-encoding, special-characters, newline

我只想使用 php 将 "\n" 字符替换为字符串中的新行，如下所示：

```
string 'foo\n\nbar' 
```

至

```
string 'foo

bar` 
```

有人有想法吗？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:34:54.943

利用`str_replace('\n', PHP_EOL, 'foo\n\nbar');`

```
<?php
header('Content-Type: text/plain');

$string = 'foo\n\nbar';

$string = str_replace('\n', PHP_EOL, $string);

echo $string;
?> 
```

显示：

```
foo

bar 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:31:34.003

你可以随时使用

```
nl2br 
```

功能

# unit-testing - 使用 Mocha 和 Chai 测试 Angular

> ID：16080559
> 
> 赞同：4
> 
> 时间：2013-04-18T10:31:13.270
> 
> 标签：unit-testing, angularjs, mocha.js

我想用 Yeoman 测试我的 Angular 应用程序，它使用 Mocha 和 Phantom 和 Chai 进行断言。但是，当我运行任何示例测试用例时，测试用例无法正常运行，它显示 PhantomJs 由于缺少 Mocha run() 调用而超时。非角度用例在测试用例中运行良好。

```
<!doctype html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Mocha Spec Runner</title>
  <link rel="stylesheet" href="lib/mocha/mocha.css">
</head>
<body>
  <div id="mocha"></div>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular.min.js"></script>
  <script src="lib/mocha/mocha.js"></script>
  <script>mocha.setup('bdd')</script>
  <script src="lib/chai.js"></script>
  <script>
      expect = chai.expect;
      assert = chai.assert;
  </script>
    <script>
        function addSum(num1, num2) {
            return num1 + num2;
        }
    </script>
  <script>
  (function() {
    describe('Give it some context', function() {
        it('should simulate promise', inject(function ($q, $rootScope) {
            assert.notStrictEqual(3, '3', 'no coercion for strict equality');
         /*   var deferred = $q.defer();
            var promise = deferred.promise;
            var resolvedValue;

            promise.then(function(value) { resolvedValue = value; });
            expect(resolvedValue).to.be.undefined;

            // Simulate resolving of promise
            deferred.resolve(123);
            // Note that the 'then' function does not get called synchronously.
            // This is because we want the promise API to always be async, whether or not
            // it got called synchronously or asynchronously.
            expect(resolvedValue).to.be.undefined

            // Propagate promise resolution to 'then' functions using $apply().
            $rootScope.$apply();
            expect(resolvedValue).to.equal(123);*/
        }));
    });
  })();
  </script> 

  <!-- trigger the mocha runner -->
  <script src="runner/mocha.js"></script>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-06-26T03:23:13.090

你试过用量角器吗？它是专门为测试端到端 angularjs 应用程序而开发的（由 angularjs 团队开发）。[https://github.com/angular/protractor](https://github.com/angular/protractor)

它有自己的跑步者，你可以安装它：

```
npm install protractor -g 
```

然后运行器执行：

```
protractor /configfile.cfg 
```

不需要 HTML 页面来运行测试。

配置文件非常简单（您可以在源代码中查看选项）。

有了它，您将把规范定义为：

```
// myTest.js
describe('angularjs homepage', function() {
    it('should greet the named user', function() {
        browser.get('http://www.angularjs.org');
        element(by.model('yourName')).sendKeys('Julie');

        var greeting = element(by.binding('yourName'));

        expect(greeting.getText()).toEqual('Hello Julie!');
      });
}); 
```

# android - Android On Delete Cascade 无法正常工作

> ID：16080564
> 
> 赞同：2
> 
> 时间：2013-04-18T10:31:22.903
> 
> 标签：android, sqlite, cascade

我正在制作 android 应用程序，其中我在一个开放的助手类中制作了 5 个表。当我的架构中有 ON DELETE CASCADE 时，我遇到了这个问题。我知道 ON DELETE CASCADE 的概念。在这里，我复制了两张表中的一张。

```
private static final String MEDICINE_TABLE  = "create table medicine_details (_mid integer primary key autoincrement, "
                                                    + " medicine_name text, type text, take_with text, m_did integer not null,"
                                                    + "FOREIGN KEY(m_did) REFERENCES doctor_details(did)"
                                                    + " ON DELETE CASCADE" + ");";

private static final String SCH_TAB         = "CREATE TABLE schedule_details(sid INTEGER PRIMARY KEY AUTOINCREMENT, "
                                                    + "medi_stdate TEXT,medi_end_date TEXT,time_sch TEXT,rept TEXT, alarm_id NUMBER, "
                                                    + "u_id integer not null, doc_id integer not null, mid integer not null, "
                                                    + "FOREIGN KEY(u_id) REFERENCES member_details(_id)"
                                                    + " ON DELETE CASCADE,"
                                                    + "FOREIGN KEY(doc_id) REFERENCES doctor_details(did)"
                                                    + " ON DELETE CASCADE,"
                                                    + "FOREIGN KEY(mid) REFERENCES medicine_details(_mid)"
                                                    + " ON DELETE CASCADE" + ");"; 
```

每当我尝试从药物中删除时，它只会从药物表中删除，而不是从时间表表中删除。这里的医学表是主表，日程表是子表。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-02-01T14:54:18.200

您必须重写该方法`open()`，如以下示例所示：

```
 @Override
public void onOpen(SQLiteDatabase db) {
    super.onOpen(db);
    if (!db.isReadOnly()) {
        db.execSQL("PRAGMA foreign_keys=ON;");
    }
} 
```

此致

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T17:24:54.310

在您的数据库`open()`方法中添加以下代码
`mDb.execSQL("PRAGMA foreign_keys=ON;");`

# actionscript-3 - 如何将 AIR 与 Windows superbar 集成？

> ID：16080566
> 
> 赞同：1
> 
> 时间：2013-04-18T10:31:30.370
> 
> 标签：actionscript-3, apache-flex, winapi, air, progress-bar

我正在使用 Flex 和 AIR 制作一种批处理应用程序，我想说明批处理的进度。我正在使用`mx:ProgressBar`，但这对我来说还不够，我想在 Windows 超级栏中查看进度，这与我复制文件时非常相似。我唯一发现的是[这个原生扩展](https://github.com/daniel-frank/fre-taskbar-progress)，但我不想使用原生扩展。

AIR 是否为此提供任何 API？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T14:24:09.807

由于您尝试访问本机功能，因此您将不得不使用本机扩展。没有办法解决它。RIAStar 发表评论。

# objective-c - 检索目标 c 中最后 10 条记录的最大值

> ID：16080571
> 
> 赞同：2
> 
> 时间：2013-04-18T10:31:48.430
> 
> 标签：objective-c, sqlite

我想检索数据库`maximum value`中的最后 10 条记录`sqlite`，我使用下面的查询，但它检索的`maximum value`不仅仅是`column`最后 10 条，我该如何解决这个问题？

```
select ifnull(Max(Systolic),0)  from PressureAndHR order by ID desc limit 10; 
```

感谢你，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:48:11.083

尝试从修改

```
select ifnull(Max(Systolic),0) from PressureAndHR order by ID desc limit 10; 
```

至

```
SELECT ifnull(Max(Systolic),0) FROM (SELECT * PressureAndHR ORDER by ID DESC limit 10); 
```

# css - CSS，连续图片库，每张图片之间的空间，

> ID：16080573
> 
> 赞同：0
> 
> 时间：2013-04-18T10:31:53.100
> 
> 标签：css, spacing

您好，我正在尝试在连续图片之间以及列中添加一些空格。这是我的代码。如果您能指出我正确的方向，我将不胜感激

```
<!DOCTYPE>
<html>
<head>
<style type="text/css">

body
 { 
    background-color:#abe9ff;
}
.container {
  width: 950px; /* look i'm now showing 4 images per line */  
  margin-left: 10px;
margin-right: 10px;
 }
.img {
 /* height: 234px; width: 218px; */
 float: left;
  margin-top: 10px;
margin-left: 30px;
margin-right: 10px;

}
</style>

<body>
<div class="container">
<div img src="interpret_1.png" alt="Interpret1" width="218" height="234"      href="boywonder.htm">
 <img src="interpret_1.png" alt="Interpret1" width="218" height="234"   href="boywonder.htm">
 <img src="interpret_1.png" alt="Interpret1" width="218" height="234" href="boywonder.htm">
 <img src="interpret_1.png" alt="Interpret1" width="218" height="234" href="boywonder.htm">
 <img src="interpret_1.png" alt="Interpret1" width="218" height="234" href="boywonder.htm">

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-18T10:47:39.467

使用这个 html

```
<body >

<div id="wrapper">

<div class="container">

 <img class="image" src="interpret_1.png" alt="Interpret1" width="218" height="234"     href="boywonder.htm">
 <img class="image" src="interpret_1.png" alt="Interpret1" width="218" height="234" href="boywonder.htm">
 <img class="image" src="interpret_1.png" alt="Interpret1" width="218" height="234" href="boywonder.htm">
 <img class="image" src="interpret_1.png" alt="Interpret1" width="218" height="234" href="boywonder.htm">
 <img class="image" src="interpret_1.png" alt="Interpret1" width="218" height="234" href="boywonder.htm">
</div>

</div>

</body> 
```

CSS就像

```
body{   margin:0 5px;
}

#wrapper
{ 
background-color:#abe9ff;
        height:500px;}

.container { width:950px;
margin-left: 10px;
margin-right: 10px;
}

.image{
 height: 234px; width: 218px; 
 float: left;
margin-top:10px;

margin-right: 19px;} 
```

# iis - 无法登录 Intranet 站点不断询问凭据 ASP IIS MVC4

> ID：16080583
> 
> 赞同：1
> 
> 时间：2013-04-18T10:32:30.127
> 
> 标签：iis, visual-studio-2012, intranet

问题描述：所以基本上我在visual studio 2012中设置了IIS express，一切正常。它是一个使用 Windows 身份验证的 MVC 4 Intranet 应用程序。我能够使用我的用户名和密码登录到我正在开发的 Intranet 站点。但是在输入一些代码后执行时，代码如下：

```
 Runspace runSpace = RunspaceFactory.CreateRunspace();
        runSpace.Open();
        Pipeline pipeline = runSpace.CreatePipeline();
        Command getSnapIn = new Command("Add-PSSnapin WebAdministration");
        Command importSnapIn = new Command("import-module WebAdministration");
        Command getProcess = new Command("New-WebAppPool -Name test");
        pipeline.Commands.Add(getSnapIn);
        pipeline.Commands.Add(importSnapIn);
        pipeline.Commands.Add(getProcess);

        pipeline.Invoke();
        runSpace.Close(); 
```

它一直在询问我的凭据。我不明白为什么这段代码会继续触发凭据。我已经尝试过的事情：

1.  注释掉代码
2.  在 IIS 管理器中设置站点（仍然是同样的问题）
3.  [http://www.iis.net/configreference/system.webserver/security/authentication/windowsauthentication](http://www.iis.net/configreference/system.webserver/security/authentication/windowsauthentication)
4.  我禁用匿名身份验证启用 Windows 身份验证。去找供应商，把 NTML 放在首位。
5.  我在网络配置文件中做了这个 `<system.web><authentication mode="Windows" /> <authorization> <deny users="?" /> </authorization> </system.web>`
6.  我尝试将该站点添加到 Internet Explorer 本地站点。

关于这个的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:59:30.473

[http://support.microsoft.com/kb/896861](http://support.microsoft.com/kb/896861) 它的固定方法 2 成功了。

# php - 使用 Composer 安装 Laravel4 依赖项时遇到问题

> ID：16080584
> 
> 赞同：1
> 
> 时间：2013-04-18T10:32:30.777
> 
> 标签：php, composer-php

我尝试按照[https://github.com/brunogaspar/laravel4-starter-kit](https://github.com/brunogaspar/laravel4-starter-kit)中的说明安装 laravel4 。

下载部分后，我尝试执行第 2 部分，其中包含：

```
 cd your-folder
    curl -s http://getcomposer.org/installer | php
    php composer.phar install 
```

当我运行最后一个命令时：

```
 php composer.phar install 
```

我得到了输出：

```
Loading composer repositories with package information
 Installing dependencies
 - Installing doctrine/lexer (dev-master bc0e1f0)
   Cloning bc0e1f0cc285127a38c6c8ea88bc5dba2fd53e94
 - Installing doctrine/annotations (v1.1)
Downloading:connection...                                                              
 [Composer\Downloader\TransportException]                                     
 The "https://api.github.com/repos/doctrine/annotations/zipball/v1.1" file could not 
 be downloaded (HTTP/1.0 500 Internal Server Error)                                    
install [--prefer-source] [--prefer-dist] [--dry-run] [--dev] [--no-dev]
[--no-custom-installers] [--no-scripts] [--no-progress] [-v|--verbose] 
[-o|--optimize-autoloader] 
```

知道为什么我会收到此错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-02T14:10:08.493

重新启动相同的命令：

```
php composer.phar install 
```

# asp.net - 在 RadGrid FormTemplate 中查找控件

> ID：16080587
> 
> 赞同：2
> 
> 时间：2013-04-18T10:32:33.903
> 
> 标签：asp.net, telerik, radgrid

假设我有这个网格，

```
<telerik:RadGrid
    ...........................
    ...........................
    <FormTemplate>
            <asp:TextBox ID="txtDescription" runat="server" />
    </FormTemplate>
    ...........................
    ...........................
    ........................... 
```

现在在后面的代码中，我需要 DataSource1_Updating 事件中的 txtDescription，

```
 protected void DataSource1_Updating(object sender, SqlDataSourceCommandEventArgs e){ 
```

这是可能的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T12:21:24.200

这是我解决此问题的方法。定义了一个 EditCommand，

```
 protected void RadGrid1_EditCommand(object sender, GridCommandEventArgs e)
    {
        ViewState["CurrentIndex"] = e.Item.ItemIndex;
    } 
```

在我的事件中，

```
protected void DataSource1_Updating(object sender, SqlDataSourceCommandEventArgs e){

        var currentIndex = (int)ViewState["CurrentIndex"];
        var form = RadGrid1.Items[currentIndex].EditFormItem;
        var txtDescription= form.FindControl("txtDescription") as RadComboBox; 
```

# matlab - 如何自动循环组合

> ID：16080588
> 
> 赞同：1
> 
> 时间：2013-04-18T10:32:34.483
> 
> 标签：matlab

新版本：

主程序及功能编辑部分

```
AID=[30,50,52,53,54,56,57,72,75,77];
SID=[30,50,52,53,54,56,57,72,75,77];
[AID,SID]=meshgrid(AID,SID)
myfunction=@(SID,AID)myfunc(Blink,SID,AID);                                    
[rss_dBm1,rss_dBm2,rss_dBm3,rss_dBm4,y1,y2,y3,y4]=arrayfun(Blink,AID,SID) 
```

功能

```
function [rss_dBm1,rss_dBm2,rss_dBm3,rss_dBm4,y1,y2,y3,y4] = arrayfun(Blink,AID,SID)
for i=1:length(BlinkSetList)
 S=cell2mat(BlinkSetList(i));                                 
   for j=1:length(S)
     if S(j).AID==AID & S(j).SID==SID       
        if S(j).AnchorChan==0 & S(j).SourceChan==0             
        y=S(j).agc;                                             
        rss_dB1(i)= -(33+y*(89-33)/(29-1));
        else
            rss_dB1(i)=0;
            isempty(rss_dB1(i))              
        end
        if S(j).AnchorChan==0 & S(j).SourceChan==1            
        y=S(j).agc;                                             
        rss_dB2(i)= -(33+y*(89-33)/(29-1));
        else
            rss_dB2(i)=0;
            isempty(rss_dB2(i))
        end
        if S(j).AnchorChan==1 & S(j).SourceChan==0             
        y=S(j).agc;                                             
        rss_dB3(i)= -(33+y*(89-33)/(29-1));
        else
            rss_dB3(i)=0;
            isempty(rss_dB3(i))
        end
        if S(j).AnchorChan==1 & S(j).SourceChan==1             
        y=S(j).agc;                                            
        rss_dB4(i)= -(33+y*(89-33)/(29-1));
        else
            rss_dB4(i)=0;
            isempty(rss_dB4(i))
        end
     end           
   end
end
   rss_dB1(rss_dB1==0)=[];
   rss_dB2(rss_dB2==0)=[];
   rss_dB3(rss_dB3==0)=[];
   rss_dB4(rss_dB4==0)=[];
   y1=std(rss_dB1);
   y2=std(rss_dB2);
   y3=std(rss_dB3);
   y4=std(rss_dB4);
   rss_dBm1=sum(rss_dB1(:))/length(rss_dB1);
   rss_dBm2=sum(rss_dB2(:))/length(rss_dB2);
   rss_dBm3=sum(rss_dB3(:))/length(rss_dB3);
   rss_dBm4=sum(rss_dB4(:))/length(rss_dB4);

    disp([sprintf('The rssi value  with A-Chan 0 and S-Chan 0 is %0.0f',rss_dBm1)]);
    disp([sprintf('The rssi value  with A-Chan 0 and S-Chan 1 is %0.0f',rss_dBm2)]);
    disp([sprintf('The rssi value  with A-Chan 1 and S-Chan 0 is %0.0f',rss_dBm3)]);
    disp([sprintf('The rssi value  with A-Chan 1 and S-Chan 1 is %0.0f',rss_dBm4)]); 
```

我得到输出，然后是错误

```
AID =

  Columns 1 through 10
  30 50 52........ 
  30 50 52 
  30 50 52
  .
  .

SID =

  Columns 1 through 10

  30        30          30                  
  50        50          50          
  52        52          52......   
  .
  .
  . 
```

？？？未定义的函数或变量“rss_dB1”。==> arrayfun 中的错误 54 rss_dB1(rss_dB1==0)=[];

```
Error in ==> main_reduced at 38 
```

[rss_dBm1,rss_dBm2,rss_dBm3,rss_dBm4,y1,y2,y3,y4]=arrayfun(Blink,AID,SID)

但我希望我的结果为

所有组合的结果，例如：AID=30 SID=50 , AID=50 SID=54 , AID= 54 SID=57 .......

```
The rss value  with A-Chan 0 and S-Chan 0 is -68 % combination of AID=30 SID=50 
The rss value  with A-Chan 0 and S-Chan 1 is -73 % with all pairs of anchor and source channel (0,0),(0,1),(1,0),(1,1)
The rss value  with A-Chan 1 and S-Chan 0 is -73
The rss value  with A-Chan 1 and S-Chan 1 is -76
The rss value  with A-Chan 0 and S-Chan 0 is -68 % combination of AID=50 SID=54 
The rss value  with A-Chan 0 and S-Chan 1 is -73% with all pairs of anchor and source channel (0,0),(0,1),(1,0),(1,1)
The rss value  with A-Chan 1 and S-Chan 0 is -73
The rss value  with A-Chan 1 and S-Chan 1 is -76
The rss value  with A-Chan 0 and S-Chan 0 is -68 % combination of AID=54 SID=57 
The rss value  with A-Chan 0 and S-Chan 1 is -73 % with all pairs of anchor and source channel (0,0),(0,1),(1,0),(1,1)
The rss value  with A-Chan 1 and S-Chan 0 is -73
The rss value  with A-Chan 1 and S-Chan 1 is -76

rss_dBm1 =-68
rss_dBm2 =-72.8621
rss_dBm3 =-73
rss_dBm4 = -76
rss_dBm1 =-68
rss_dBm2 =-72.8621
rss_dBm3 =-73
rss_dBm4 = -76
rss_dBm1 =-68
rss_dBm2 =-72.8621
rss_dBm3 =-73
rss_dBm4 = -76 
```

注意：有时通道对组合或 AID 和 SID 组合不存在，所以在这种情况下它只是返回 NaN（这就是我使用 isempty 的原因）

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

首先，我感谢看到这篇文章并尝试提供解决方案的人。在此先感谢

我的问题如下，

主程序的一部分

```
 AID=30;
 SID=50; 
```

[rss_dBm1,rss_dBm2,rss_dBm3,rss_dBm4,y1,y2,y3,y4]=sample(Blink,AID,SID)

注意：AID 有不同的 ID 为 30,50,52,54,55,57（与 SID 相同） SID 有不同的 ID 为 30,50,52,54,55,57（与 AID 相同）

```
 Here the AID and SID is manually entered from the user to check the below anchorchannel and source channel condition and check if such combination exist it will display the rss values if not it will return NaN. 
```

调用函数

```
 function [rss_dBm1,rss_dBm2,rss_dBm3,rss_dBm4,y1,y2,y3,y4]=sample(Blink,AID,SID)        

 for i=1:length(Blink)     %Blink=<500x1 cell> inside which several blinks are present
 S=cell2mat(Blink(i));     %  with information on AID,SID,agc
   for j=1:length(S)
    if S(j).AID==AID && S(j).SID==SID      
       if S(j).AnchorChannel==0 && S(j).SourceChannel==0 %Anchor-source channel                                   
        y=S(j).agc; %agc is present in every blink to calculate rss       %combination                                           
        rss_dB1(i)= -(33+y*(89-33)/(29-1));
        else
            rss_dB1(i)=0;
            isempty(rss_dB1(i))              
        end
        if S(j).AnchorChannel==0 && S(j).SourceChannel==1             
        y=S(j).agc;                                            
        rss_dB2(i)= -(33+y*(89-33)/(29-1));
        else
            rss_dB2(i)=0;
            isempty(rss_dB2(i))
        end
        if S(j).AnchorChannel==1 && S(j).SourceChannel==0            
        y=S(j).agc;                                            
        rss_dB3(i)= -(33+y*(89-33)/(29-1));
        else
            rss_dB3(i)=0;
            isempty(rss_dB3(i))
        end
        if S(j).AnchorChan==1 && S(j).SourceChan==1             
        y=S(j).agc;                                            
        rss_dB4(i)= -(33+y*(89-33)/(29-1));
        else
            rss_dB4(i)=0;
            isempty(rss_dB4(i))
        end
    end
  end
end

   rss_dB1(rss_dB1==0)=[];
   rss_dB2(rss_dB2==0)=[];
   rss_dB3(rss_dB3==0)=[];
   rss_dB4(rss_dB4==0)=[];
   y1=std(rss_dB1);
   y2=std(rss_dB2);
   y3=std(rss_dB3);
   y4=std(rss_dB4);
   rss_dBm1=sum(rss_dB1(:))/length(rss_dB1);
   rss_dBm2=sum(rss_dB2(:))/length(rss_dB2);
   rss_dBm3=sum(rss_dB3(:))/length(rss_dB3);
   rss_dBm4=sum(rss_dB4(:))/length(rss_dB4);

    disp([sprintf('The rss value  with A-Chan 0 and S-Chan 0 is %0.0f',rss_dBm1)]);
    disp([sprintf('The rss value  with A-Chan 0 and S-Chan 1 is %0.0f',rss_dBm2)]);
    disp([sprintf('The rss value  with A-Chan 1 and S-Chan 0 is %0.0f',rss_dBm3)]);
    disp([sprintf('The rss value  with A-Chan 1 and S-Chan 1 is %0.0f',rss_dBm4)]); 
```

现在我的问题是如何在不给用户输入的情况下自动检查 AID 和 SID 的不同组合？如果这有意义，它应该遍历每个组合并返回 AID SID 与锚通道和源通道的所有可能组合的“rss”结果

一种组合的结果：AID=30 SID=50

```
The rss value  with A-Chan 0 and S-Chan 0 is -68
The rss value  with A-Chan 0 and S-Chan 1 is -73
The rss value  with A-Chan 1 and S-Chan 0 is -73
The rss value  with A-Chan 1 and S-Chan 1 is -76

rss_dBm1 =-68
rss_dBm2 =-72.8621
rss_dBm3 =-73
rss_dBm4 = -76

y1 = 1.4142
y2 =  1.4072
y3 =   0
y4 =  1.1547 
```

以上是一个 AID(30) SID(50) 组合的结果。但我想像 AID=50 SID=52, AID=52 SID=55, AID=57 SID=54 这样循环，所以这些是一些示例对。我希望结果像上面的输出，除了它还应该包括我提到的对，有四种不同的通道组合

注意：上述组合的输出也必须包含在下面提到的组合中。示例：AID=50 SID=52,AID=52 SID=55,AID=57 SID=54 带锚点，源通道对 (0,0),(0,1),(1,0),(1,1 ) 在少数情况下，锚源通道对不存在，因此它会自动返回“0”或“NaN”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:52:01.743

假设你有一个函数，它接受`sid`和`aid`参数并返回一个包含你需要的所有数据的结构：

```
res = function sample(Blink, AID, SID) 
```

正如我所说，`res`这是一个带有 fields `rss_dBm1`,`rss_dBm2`等的结构......

你还有两个数组：

```
SIDS = [30,50,52,54,55,57];
AIDS = [30,50,52,54,55,57]; 
```

要获得所有对 sid 和辅助工具，您可以[使用`meshgrid`函数](https://stackoverflow.com/questions/7446946/how-to-generate-all-pairs-from-two-vectors-in-matlab-using-vectorised-code)：

```
[sid aid] = meshgrid(SIDS, AIDS); 
```

并为每一对调用你的函数，你可以[使用`arrayfun`function](http://www.mathworks.com/help/matlab/ref/arrayfun.html)：

```
fn = @(sid, aid) sample(Blink, sid, aid);
data = arrayfun(fn, sid, aid); 
```

`data`这是一个`length(SIDS) x length(AIDS)`结构矩阵。我在这里使用了一个[匿名函数（lambda 表达式）](http://www.mathworks.com/help/matlab/matlab_prog/anonymous-functions.html)来对函数的第一个参数进行[部分应用](http://en.wikipedia.org/wiki/Partial_application)`sample`。

如果您不想更改功能，可以按原样使用它：

```
fn = @(sid, aid) sample(Blink, sid, aid);
[rss_dBm1,rss_dBm2,rss_dBm3,rss_dBm4,y1,y2,y3,y4] = arrayfun(fn, sid, aid); 
```

在这种情况下**，每个**返回的变量都是一个`length(SIDS) x length(AIDS)`数组。

# c# - 在asp.net c#中应用拆分函数后传递字符串值

> ID：16080590
> 
> 赞同：-1
> 
> 时间：2013-04-18T10:32:45.497
> 
> 标签：c#, asp.net

拆分功能后，我无法将字符串值传递给标签或文本框。所以我的问题是如何在应用拆分函数后将字符串值存储在标签中。

```
string strData2 = "samsung,apple,htc";       
char[] separator2 = new char[] { ',' };
string[] strSplitArr = strData2.Split(separator2);
foreach (string arrStr in strSplitArr)
{
       Response.Write(arrStr + "<br/>");

} 
```

（例如 label.text = ""+*拆分字符串值*）谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:36:48.090

您可以使用[`String.Join`](http://msdn.microsoft.com/en-us/library/57a79xd0.aspx)：

```
label.Text = String.Join("," , strSplitArr); 
```

> 在每个元素之间使用指定的分隔符连接字符串数组的所有元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:38:15.957

你想再次将这些加入一个字符串吗？使用 String.Join：

```
label.Text += String.Join(' ',strSplitArr); 
```

来源：http: [//msdn.microsoft.com/pl-pl/library/57a79xd0.aspx](http://msdn.microsoft.com/pl-pl/library/57a79xd0.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:34:33.033

尝试：

```
label.text = label.text + arrStr; 
```

用break一个接一个地列出，做

```
label.text = label.text + arrStr + "</br>"; 
```

# php - 如何在 codeigniter 中使用 $this_render->view("pagename",$renderData) 将数据传递给视图？

> ID：16080592
> 
> 赞同：1
> 
> 时间：2013-04-18T10:32:46.243
> 
> 标签：php, codeigniter, view, viewdata, pass-data

这是我的代码。

```
public function usertype($renderData='')
    {
        $this->grocery_crud->set_table('usertype');
        $output = $this->grocery_crud->render();

        $this->_example_output($output,$renderData='');        
    }

    function _example_output($output = null,$renderData='')

    {

      // $this->load->view('pages/our_template',$output);

       //echo $output;
      // $this->output=$output;
        $this->_render('pages/our_template',$renderData);      
    } 
```

我想使用 $this->_render('pages/our_template',$renderData); 而不是 $this->load->view('pages/our_template',$output); 但我需要将 $output 传递给视图页面。请帮助我找到一种使用 $renderData 将 $output 传递到我的视图页面的方法。

在我的视图页面中，我想获取类似的数据

```
echo $output; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:40:48.893

嗨，你可以用这样的视图来做

```
$output = $this->load->view('pages/our_template',$data,TRUE); // this will return view output to variable
echo $output 
```

**编辑新答案**

首先抱歉回答错误

如果你想使用 $this->_render 方法，那么你必须利用 OOP 在 application/core 目录下创建一个 MY_Controller 并在其中添加 _render 方法，像这样使用 MY_Controller 扩展你的所有控制器

```
class MY_Controller extends CI_Controller{

        function __construct(){
               parent::__construct();
            }

            function _render($view = '', $data = array(), $return = FALSE){

              if($return){
                  return  $this->load->view($view,$data,$return);
              }    

             $this->load->view($view,$data);

            }

} 
```

示例页面控制器

```
class PageController extends MY_Controller{

  function __construct(){
      parent::__construct();
  }   

  function index(){
      $data['title'] = 'Page title';
      $data['body'] = 'Page body';
      $this->_render('page_view',$data);
  }

} 
```

如果您正在为您的项目使用具有页眉、页脚、侧边栏的布局，那么您可以提前一点渲染方法

```
function _render($view = '', $data = array(), $return = FALSE){

$output = $this->load->view($view,$data,TRUE);

if($return){
  return  $output;
}

$layout_data['header'] = $this->load->view('header_view',$data,TRUE);
$layout_data['footer'] = $this->load->view('footer_view',$data,TRUE);
$layout_data['sidebar'] = $this->load->view('sidebar_view',$data,TRUE);
$layout_data['body'] = $output;

$this->load->view('layout',$layout_data);

} 
```

如果你喜欢回答接受并提高它。

# c# - MVC4 Force 移动站点适用于所有请求，包括桌面

> ID：16080593
> 
> 赞同：0
> 
> 时间：2013-04-18T10:32:48.423
> 
> 标签：c#, mobile, asp.net-mvc-4

我为移动设备和桌面设备创建了一个 MVC 4 Internet 应用程序项目。现在我只想为所有浏览器全局显示移动站点。

我一直在尝试使用代码`HttpContext.SetOverriddenBrowser(BrowserOverride.Mobile)`来执行此操作，但无论我把它放在哪里，它似乎都无法正常工作。

目前我可以使用 ViewSwitcher 从桌面站点切换到移动站点，但这是不切实际的，因为桌面站点还没有功能。

```
public RedirectResult SwitchView(bool mobile, string returnUrl) {
    if (Request.Browser.IsMobileDevice == mobile)
        HttpContext.ClearOverriddenBrowser();
    else
        HttpContext.SetOverriddenBrowser(mobile ? BrowserOverride.Mobile : BrowserOverride.Desktop);

    return Redirect(returnUrl);
} 
```

我所有的移动视图都是 VIEWNAME.Mobile.cshtml 格式。任何帮助将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-09-05T12:26:14.793

我参加聚会可能有点晚了，但我遇到了和 OP 一样的问题，并且不喜欢 Tieson 的解决方案。所以我想出了一个替代方案，对我来说效果很好。

将以下代码添加到您的项目*Global.asax.cs*：

```
protected void Application_BeginRequest()
{
    Request.RequestContext.HttpContext.SetOverriddenBrowser(BrowserOverride.Mobile);
} 
```

**这会在每个**请求上告诉 ASP.NET ，它是移动浏览器的请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T22:14:04.720

我想另一种尝试是在您从控制器操作返回结果时手动指定移动视图。`View()`有很多重载（请参阅[http://msdn.microsoft.com/en-us/library/system.web.mvc.controller.view%28v=vs.100%29.aspx](http://msdn.microsoft.com/en-us/library/system.web.mvc.controller.view%28v=vs.100%29.aspx)），其中之一让您指定要渲染的视图：`return View("index.mobile", model)`应该可以工作。一旦应用程序的其余部分完成，一个简单的 Find+Replace 将让您删除“hack”。

# c# - 基于设备的 URL 重定向

> ID：16080594
> 
> 赞同：0
> 
> 时间：2013-04-18T10:32:49.933
> 
> 标签：c#, javascript, jquery, asp.net, .net

对于移动设备和应用程序重定向，我们需要做的是如果一个人从移动设备进入网站？

1）如果设备使用IOS（IPAD除外），则建议用户下载移动应用程序。通过单击链接，用户被重定向到应用商店。如果用户单击“跳过应用程序下载”，则将用户转发到 m.example.com

2）如果设备使用Android，则建议用户下载移动应用程序。通过点击链接，用户被重定向到谷歌播放。如果用户单击“跳过应用程序下载”，则将用户转发到 m.example.com

3）如果用户通过任何移动设备进入，只需将其转发到移动站点m.abc.com。

4）如果设备不是以上：转发到m.example.com。所有链接都应以 m.example.com 格式打开。链接应转换为：

一个。如果有人访问 www.example.com/ViewVacancy.aspx?ID=66880，链接应转换为[http://m.example.com/vacancy.aspx?name=66880](http://m.example.com/vacancy.aspx?name=66880)

湾。如果一个人从移动设备访问 abc.com 的任何其他页面。他应该被重定向到[http://m.example.com](http://m.example.com)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:00:21.207

在你的`Global.asax`

**添加以下代码：**

```
 protected void Application_AcquireRequestState(object sender, EventArgs e)
  {

        HttpContext context = HttpContext.Current;

        if (context.Request.Browser.IsMobileDevice)
        {
            // Your Logic
        }
        if (context.Request.ServerVariables["HTTP_USER_AGENT"] != null)
        {
            //Create a list of all mobile types
            string[] mobiles =
            new[]
            { "midp", "j2me", "avant", "docomo",
            "novarra", "palmos", "palmsource",
            "240×320", "opwv", "chtml",
            "pda", "windows ce", "mmp/",
            "blackberry", "mib/", "symbian",
            "wireless", "nokia", "hand", "mobi",
            "phone", "cdm", "up.b", "audio",
            "SIE-", "SEC-", "samsung", "HTC",
            "mot-", "mitsu", "sagem", "sony"
            , "alcatel", "lg", "eric", "vx",
            "NEC", "philips", "mmm", "xx",
            "panasonic", "sharp", "wap", "sch",
            "rover", "pocket", "benq", "java",
            "pt", "pg", "vox", "amoi",
            "bird", "compal", "kg", "voda",
            "sany", "kdd", "dbt", "sendo",
            "sgh", "gradi", "jb", "dddi",
            "moto", "iphone"
            };

            //Loop through each item in the list created above
            //and check if the header contains that text
            foreach (string s in mobiles)
            {
                if (context.Request.ServerVariables["HTTP_USER_AGENT"].
                ToLower().Contains(s.ToLower()))
                {
                    //Your Logic
                }
            }
        }
   } 
```

希望这可能会有所帮助。，

# windows-phone-8 - 从 Windows phone 8 中的音频直播 URL 获取元数据

> ID：16080596
> 
> 赞同：3
> 
> 时间：2013-04-18T10:32:54.043
> 
> 标签：windows-phone-8, metadata

有没有办法从 windows phone 8 中的实时音频流 url 中提取或提取元数据

# javascript - javaScript中的内存泄漏？

> ID：16080597
> 
> 赞同：1
> 
> 时间：2013-04-18T10:32:56.437
> 
> 标签：javascript, google-chrome, memory-leaks, profiling, firebug

我们能找到任何`memory leaks`应​​该发生的地方`Java Script`吗？

哪个最好？`Google chrome`还是`Fire bug`？

我使用 chrome 进行 CPU 分析，但它没有显示发生内存泄漏的行。

有什么建议么 ？或如何`Memory leak`找到`javaScript`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:37:32.890

您不应该查看 CPU 分析。Chrome 的检查器窗口为您提供了一种获取[**堆快照**](https://developers.google.com/chrome-developer-tools/docs/heap-profiling)的方法。

> 堆快照配置文件显示页面的 JavaScript 对象和相关 DOM 节点之间的内存分布。

# c# - QueryOver：在 Where 子句中动态添加 IsLike

> ID：16080599
> 
> 赞同：0
> 
> 时间：2013-04-18T10:32:57.340
> 
> 标签：c#, .net, nhibernate, queryover

我有这个*QueryOver*，我在其中选择日志*名称*以*D*或*F开头的**日志*记录（使用通配符）。

 ***```
conv.InnerTransaction.Session.QueryOver<Log>()
    .Where(l => l.DateTime > _datetime)
    .And(
        l => l.Name.IsLike("D%") || l.Name.IsLike("F%")
     ) 
```

相反，我希望名称搜索动态使用列表中的值。如何才能做到这一点？

我试过类似的东西：

```
var query = conv.InnerTransaction.Session.QueryOver<Log>()
            .Where(l => l.DateTime > _datetime);
foreach (var name in _names)
{
    query = query.And(l => l.Name.IsLike(name));
} 
```

但这会导致列表中的每个名称都有多个 AND 语句，而它只需要是一个 OR。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T12:03:56.213

你试过`Disjunction`吗？我曾经有过类似的要求，但我不得不`Conjunction`改用。`Disjunction`将`or`多个条件放在一起。

```
var disjunction = new Disjunction();
var query = Session.QueryOver<Log>().Where(l => l.DateTime > _datetime);
foreach (var name in _names)
{
    disjunction.Add(Restrictions.On<Log>(log => log.Name).IsLike(name));
}
var queryResult = query.Where(disjunction).List<Log>(); 
```***

# java - 多个线程访问同一个类

> ID：16080600
> 
> 赞同：1
> 
> 时间：2013-04-18T10:33:00.657
> 
> 标签：java, multithreading

我有 4 个线程同时运行，试图访问同一类的以下四种不同方法。我想知道线程将按什么顺序执行。

```
public void method1();
public static void method2(); 
public synchronized void method3();
public static synchronized method4(); 
```

method1 被 T1 调用 method2 被 T2 调用 method3 被 T3 调用 method4 被 T4 调用

以上所有方法都在同一个类中。我对将运行哪个顺序线程完全感到困惑。请求您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:35:06.333

线程将半并行运行。如果您不同步它们，它们可以以任意顺序运行。

您在示例中提供的同步方法不会相互影响。第一个 2 根本没有同步，第三个在*Object*实例上同步，第四个在*Class*上同步。因此，四个线程可以以任何特定的顺序运行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:42:43.637

完全不可能预测线程顺序。这是 JVM 的全部责任，而不是程序员，并且没有基本规律。

同步对此毫无帮助。它只是允许确保原子性和内存屏障。

由于这个事实，最知名的“问题”可能是：[竞争条件](http://en.wikipedia.org/wiki/Race_condition)控制程序员对线程的决定很棘手。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T10:37:08.793

需要同步。按照此链接进行同步：[http ://www.tutorialspoint.com/java/java_thread_synchronization.htm](http://www.tutorialspoint.com/java/java_thread_synchronization.htm)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-18T10:39:03.680

线程将执行的顺序将取决于多种因素，所以真正的问题是您**希望**它们以什么顺序执行，以及在什么条件下该顺序会改变？

一旦你解决了这个问题，你可以强制一个线程等待或阻塞另一个线程，直到它完成。这是大多数语言/环境中线程编程的最常见方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-18T10:35:55.183

没有办法知道这一点。所有线程根据系统中 CPU/内核的数量、系统的优先级以及整个系统的负载同时运行。因此，主要是哪个线程有机会执行某些代码是一个机会问题。

线程调度程序看似随意的性质也是调试竞争条件、活锁和死锁对开发人员如此“有趣”的原因。当您不使用（足够的）同步机制时，无法可靠地预测操作系统如何执行您的代码。

# ios - 应用程序在 Ipad 3rd Generation 中崩溃，但在 ipad 2 中运行良好

> ID：16080603
> 
> 赞同：0
> 
> 时间：2013-04-18T10:33:06.170
> 
> 标签：ios, objective-c, ipad

我的应用程序在 Ipad 3rd Generation 中崩溃，但在我的 ipad 2 中运行良好，在 ipad 3rd Gen 中它说“内存警告”。我的应用程序在 ARC 中。控制台日志如下所示。我在谷歌上搜索了几次，在他们建议更改 plist 名称的帖子之一中，我已连接但尝试过，没有更改。请帮助我。谢谢

```
2013-04-17 13:21:42 +0000 searchd Could not open updates file for com.apple.MobileSMS SMSSearch

2013-04-17 13:21:42 +0000 searchd Finished getting 33 applications, took 0.048442 seconds
2013-04-17 13:21:43 +0000 searchd Indexed all records in 0.28s
2013-04-17 13:22:09 +0000 SpringBoard could not save thumbnail for downloading icon: image=(null) path='/var/mobile/Library/SpringBoard/DownloadingIconImageCache/com.OneandoLLC.MyApp-14C1F156-4461-410E-93CE-4FE55B75B86D'
2013-04-17 13:22:14 +0000 lsd Attempting to store identifiers file
2013-04-17 13:22:14 +0000 lsd updating identifier store

2013-04-17 13:22:27 +0000 SpringBoard Memory level is not normal. Pending auto-relaunch of 'com.facebook.Facebook' until it is.
2013-04-17 13:22:27 +0000 backboardd Application 'UIKitApplication:com.apple.mobilesafari[0x7974]' exited abnormally with signal 9: Killed: 9
2013-04-17 13:22:27 +0000 backboardd Application 'UIKitApplication:com.mybusinessapp.JPOP[0x22fc]' exited abnormally with signal 9: Killed: 9
2013-04-17 13:22:27 +0000 backboardd Application 'UIKitApplication:com.mybusinessapp.dssapp[0x11db]' exited abnormally with signal 9: Killed: 9
2013-04-17 13:22:27 +0000 backboardd Application 'UIKitApplication:com.facebook.Facebook[0xbf29]' exited abnormally with signal 9: Killed: 9
2013-04-17 13:22:28 +0000 My App Received memory warning.
2013-04-17 13:22:31 +0000 backboardd -[BKSystemAppSentinel lock_bootstrapEmbedded] Found running system app (com.apple.SpringBoard, pid 66). Attempting to stop it...
2013-04-17 13:22:32 +0000 SpringBoard lockdown says we've previously registered: [0], state is 0
2013-04-17 13:22:32 +0000 SpringBoard lockdown says the device is: [Activated], state is 3
2013-04-17 13:22:32 +0000 SpringBoard ERROR: _xpc_handle_outgoing_request error: Connection invalid
2013-04-17 13:22:32 +0000 backboardd Telling the system app that it can start immediately
2013-04-17 13:22:38 +0000 SpringBoard BTM: attaching to BTServer
2013-04-17 13:22:39 +0000 assistant_service the local store doesn't allow tasks and we have no default calendar :(
2013-04-17 13:22:39 +0000 SpringBoard WiFi picker plugin initialized
2013-04-17 13:22:39 +0000 SpringBoard SIMToolkit plugin for SpringBoard initialized.
2013-04-17 13:22:39 +0000 SpringBoard SMS Plugin initialized.
2013-04-17 13:22:42 +0000 itunesstored iTunes Store environment is: ST11
2013-04-17 13:22:49 +0000 assistant_service the local store doesn't allow tasks and we have no default calendar :( 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:45:56.090

您正在使用 ARC，但 ARC 不提供与内存崩溃相关的任何保证，当资源空闲时编译器会自动留下参考，但如果在整个导航流程中使用任何资源，则它不能留下参考，如果您的应用程序出现内存崩溃，请检查您在仪器工具上的应用程序，特别关注仪器工具上的脏尺寸部分。

# java - Java 媒体框架 - MP3 问题

> ID：16080606
> 
> 赞同：1
> 
> 时间：2013-04-18T10:33:13.217
> 
> 标签：java, mp3, jmf

我使用的是 Windows 7，并且可以在我的混音器中“Java Platform SE Binary”，但似乎仍然没有声音播放。

我的代码是：

```
import javax.media.*;
import java.io.File;
import java.io.IOException;
import java.net.URL;
import java.net.MalformedURLExc;

public class SimpleAudioPlayer {
private Player audioPlayer = null;

public SimpleAudioPlayer(URL url) throws IOException, NoPlayerException, 
    CannotRealizeException {
    audioPlayer = Manager.createRealizedPlayer(url);
}

public SimpleAudioPlayer(File file) throws IOException, NoPlayerException, 
    CannotRealizeException {
    this(file.toURL());
}

public void play() {
    audioPlayer.start();
}

public void stop() {
    audioPlayer.stop();
    audioPlayer.close();
}

public static void main(String[] args) {
    try{
        File audioFile = new File("/t.mp3");
        SimpleAudioPlayer player = new SimpleAudioPlayer(audioFile);

        System.out.println();
        System.out.println("-> Playing file '" + 
                           audioFile.getAbsolutePath() + "'");
        System.out.println("   Press the Enter key to exit");
        player.play();

        // wait for the user to press Enter to proceed.
        System.in.read();
        System.out.println("-> Exiting");
        player.stop();
    }catch(Exception ex){
        ex.printStackTrace();
    }

    System.exit(0);

}
} 
```

我使用的是 Windows 性能 JMF 版本。我试图播放的 MP3 在 VLC/WMP 中工作正常，所以它不能是文件。

该代码在运行时也不会引发异常或错误，只是似乎没有播放声音。

我有什么遗漏吗？喜欢拉声卡？例如接管它，以便我可以从中播放声音？

我的总体目标是使用 RTP/RTSP 提供 MP3 流媒体服务，因此任何链接、建议或教程都会有所帮助，因为我正在使用[IBM JMF Tuturiol](http://www.ibm.com/developerworks/java/tutorials/j-jmf/section2.html)和[Java Demo](http://java-demos.blogspot.co.uk/2012/11/java-code-to-play-mp3-file.html)

请询问是否需要更多信息！

更新-

下载了[WAV 文件](http://freewavesamples.com/files/Yamaha-SY-35-Clarinet-C5.wav)，它似乎可以播放，我怎样才能播放 MP3？

添加了格式并尝试了此代码，但仍然是同样的问题：

```
import java.io.File;
import javax.media.Format;
import javax.media.Manager;
import javax.media.MediaLocator;
import javax.media.Player;
import javax.media.PlugInManager;
import javax.media.format.AudioFormat;

public class SimpleAudioPlayer {
    public static void main(String[] args) {

        Format input1 = new AudioFormat(AudioFormat.MPEGLAYER3);
        Format input2 = new AudioFormat(AudioFormat.MPEG);

        Format output = new AudioFormat(AudioFormat.LINEAR);
        PlugInManager.addPlugIn(
            "com.sun.media.codec.audio.mp3.JavaDecoder",
            new Format[]{input1, input2},
            new Format[]{output},
            PlugInManager.CODEC
        );
        try {
            Player player = Manager.createPlayer(new MediaLocator(new File("/t.mp3").toURI().toURL()));
            player.start();
        }
        catch(Exception ex) {
            ex.printStackTrace();
        }
    }
} 
```

> 无法处理格式：mpeglayer3, 44100.0 Hz, 16-bit, Stereo, LittleEndian, Signed, 16000.0 frame rate, FrameSize=32768 bits 无法实现：com.sun.media.PlaybackEngine@62deaa2e 错误：无法实现com.sun。 media.PlaybackEngine@62deaa2e

这就是错误！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:51:35.050

正如我所想，这是一个缺少的编解码器。

我认为这就是你需要的：[http ://www.oracle.com/technetwork/java/javase/download-137625.html](http://www.oracle.com/technetwork/java/javase/download-137625.html)

# javascript - 如何检测div是否被javascript隐藏

> ID：16080607
> 
> 赞同：0
> 
> 时间：2013-04-18T10:33:17.213
> 
> 标签：javascript

我有一个 DIV，有时它是隐藏的，在这种情况下，我不希望谷歌添加出现/加载在这个 DIV 中。

使用 javascript 进行此类检查的最佳做法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:38:48.820

您应该通过查看您想要的节点的计算样式[`window.getComputedStyle`](https://developer.mozilla.org/en-US/docs/DOM/window.getComputedStyle)，而不是节点的*样式*属性，因为其他地方的 css 可能也会影响它。

检查一个节点是否被另一个节点覆盖要困难得多，一种方法是使用[`document.elementFromPoint`](https://developer.mozilla.org/en-US/docs/DOM/document.elementFromPoint)找出哪个节点在特定点最顶部，然后在您的节点应该在的位置执行此操作，直到您满意它是可见的。例如，检查节点的中心是您的节点。

```
function isHidden(node, checkIfCovered) {
    var absPosition = function absPosition(node) {
            var x = 0, y = 0,
                h = node.offsetHeight || 0, w = node.offsetWidth || 0;
            do {
                node.offsetLeft && (x = x + node.offsetLeft);
                node.offsetTop && (y = y + node.offsetTop);
            } while (node = node.offsetParent);
            return {x: x, y: y, h: h, w: w};
        },
        o, style;
    if (checkIfCovered && document.elementFromPoint) { // only if supported
        o = absPosition(node); // get position & size
        o.centre = {x: o.x + o.w / 2, y: o.y + o.h / 2}; // centre of node
        if (document.elementFromPoint(o.centre.x, o.centre.y) !== node) {
            return true; // another node is in the centre => covered
        }
    }
    do { // loop up over parent nodes
        if (node.nodeType === 9) break; // skip #document
        style = window.getComputedStyle(node);
        if (   style.display === 'none'
            || style.visibility === 'hidden'
            || style.opacity === '0'
        ) {
            return true;
        }
    } while (node = node.parentNode);
    // passed all tests, not hidden
    return false;
} 
```

示例用法

```
isHidden(document.getElementById('myDivId')); // true->hidden
isHidden(document.getElementById('myDivId'), true); // true->hidden or covered 
```

* * *

## 需要考虑的其他事项

*   节点是否位于可以滚动到视图中的位置？请参阅[*Fabrizio Calderan*的评论](https://stackoverflow.com/questions/16080607/how-to-detect-if-div-is-hidden-by-javascript/16080702#comment-22956004)。
*   **现在编辑了。**父节点是否隐藏？您可能需要循环 DOM 树来找出这一点。很明显，如果它们被覆盖就可以了。请参阅[*Loïc Faure-Lacroix*的评论](https://stackoverflow.com/questions/16080607/how-to-detect-if-div-is-hidden-by-javascript/16080702#comment-22956137)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T10:35:28.523

如果你的 div 有一个 ID，试试这个：

```
if((document.getElementById('your_div_id').style.display=='none') || (document.getElementById('your_div_id').style.visibility=='hidden')){
//its hidden
}else{
//its not
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:36:43.610

你可以通过

```
var div = document.getElementById('div_id');
if( div.style.visibility=="hidden"
    || div.style.display=="none")
 {   alert("div is hidden"); } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-18T10:38:42.183

```
var isVisible = element.offsetWidth > 0 || element.offsetHeight > 0; 
```

`isVisible`会给你是隐藏或可见的div。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-18T10:46:33.513

有几种方法可以知道对象是否隐藏。有几种方法可以找出答案，但事实是它比大多数解决方案要复杂得多。

不幸的是，我现在不能把它捣碎，但我可以告诉我该怎么做。

隐藏的对象可能仍具有`none`与默认值不同的显示或可见性。如果父对象被隐藏，则子元素也被隐藏，但显示属性保持不变。

换句话说，您必须冒泡每个父元素，直到找到隐藏元素或根。

也就是说，css 属性`display`不是`visibility`隐藏元素的唯一方法。您还可以检查`overflow: hidden`对象是否在边界框之外。

伪代码

```
def visible(initial, element)
    if element.invisible or element.hidden
       // Element was simply hidden so false
       return false

    if element != initial and elemen.has_overflow_hidden && initial.outside(element)
       // Here we check if our element is inside the bounding box of a overflow hidden
       // Parent.
       return false

    if element.opacity == 0
       return false

    if element == element.parent
       // reached the root
       return true

    visible(initial, element.parent)

if (visible(element, element))
  do something

else

  do something else 
```

据我所知，不幸的是，它并没有处理所有案件。但这应该绰绰有余。它不能处理`z-index`，它可能不适用于绝对位置、相对位置和固定位置。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-18T10:52:12.413

```
<script>
function isHidden(divId){
   styleValue = document.getElementById(divId).style.display;
   if(styleValue == 'none'){
      return true;
   }
   else{
     return false;
   }
}
</script>

returnValue = isHidden(); //return true if hidden 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-04-18T10:36:21.143

在 jquery 中：

```
$('#div').is(':visible');
$('#div').is(':hidden'); 
```

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2013-04-18T10:37:08.253

您正在查看 DOM 元素（在本例中）DIV、CSS 属性。隐藏元素有两种方法。

一个是显示：无，另一个是可见性：隐藏。

在 jQuery 中，您将执行以下操作：

```
 if !($('#div-id').css('display') == 'none'){
    JAVASCRIPT_TO_LOAD_ADS_GOES_HERE
 } 
```

在可见性隐藏的情况下，执行相同操作，但`.css('visibility')`与`hidden`.

# css - 反向查找sass mixin，这可能吗？

> ID：16080609
> 
> 赞同：0
> 
> 时间：2013-04-18T10:33:22.147
> 
> 标签：css, sass, mixins

有谁知道SASS是否可以做到以下几点

我有一个ie mixin：

```
@mixin ie($version) {
    @if $version == 8 {
        html.lt-ie9 {
            @content;
        }
    }
    @if $version == 7 {
        html.lt-ie8 {
            @content;
        }
    }
} 
```

用法：

```
@include ie(8){
    body {
        header {
            color: beige;
        }
    }
} 
```

呈现：

```
html.lt-ie9 body header {
  color: beige;
} 
```

现在，如果我能做这样的事情，那就太棒了：

```
header {
    > nav {
        color: beige;
        @include ie(8) {
            color: green;
        }
    }
} 
```

这将呈现

```
header > nav {
    color: beige;
}

html.lt-ie9 header > nav {
    color: green;
} 
```

这可能是一厢情愿的想法，但如果这样的事情是可能的，有没有人有任何想法

[编辑]

所以这是可能的！极好的。

我已将我的 mixin 更新为：

```
@mixin ie($version,$depth:false) {
    @if $depth == false {
        @if $version == 8 {
            html.lt-ie9 {
                @content;
            }
        }
        @if $version == 7 {
            html.lt-ie8 {
                @content;
            }
        }
    } @else {
        @if $version == 8 {
            html.lt-ie9 & {
                @content;
            }
        }
        @if $version == 7 {
            html.lt-ie8 & {
                @content;
            }
        }
    }
} 
```

谢谢戴夫

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T11:40:35.000

你不需要混合。只需使用：

```
header {
    > nav {
        color: beige;
        html.lt-ie9 & {
            color: green;
        }
   }
} 
```

# mysql - mysqldump 在转储中间插入“drop database”语句

> ID：16080611
> 
> 赞同：2
> 
> 时间：2013-04-18T10:33:35.577
> 
> 标签：mysql, mysqldump

我正在使用 mysqldump 从系统中转储数据库。问题是：有时SQL文件在文件的中间包含一个“删除数据库”，不幸的是这些文件的导入失败 - 在我看来很合乎逻辑。

mysqldump 命令行如下：

```
mysqldump -u$USER -p$PASS \
 --default-character-set=utf8 --single-transaction \
 --add-drop-database --add-drop-table \
 --databases $DB 
```

当我尝试重新导入此 SQL 文件时，我收到此错误：`ERROR 1146 (42S02) at line 3486: Table 'meta.tx_baauftragsdb_auft' doesn't exist`.

查看 SQL 转储文件，我看到以下几行：

```
3470 --
3471 -- Current Database: `meta`
3472 --
3473
3474 /*!40000 DROP DATABASE IF EXISTS `meta`*/;
3475
3476 CREATE DATABASE /*!32312 IF NOT EXISTS*/ `meta` /*!40100 DEFAULT CHARACTER SET utf8 */;
3477
3478 USE `meta`;
3479
3480 --
3481 -- View structure for view `tx_baauftragsdb_view_ueber`
3482 --
3483
3484 /*!50001 DROP TABLE IF EXISTS `tx_baauftragsdb_view_ueber`*/;
3485 /*!50001 DROP VIEW IF EXISTS `tx_baauftragsdb_view_ueber`*/;
3486 /*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`meta`@`localhost` SQL SECURITY 
```

...并且有 DROP DATABSE 语句。如果我删除此语句下方的所有内容，则 db 导入就好了，但是......好吧......我想知道这里发生了什么。

谁能告诉我这里发生了什么，为什么会有这个额外的`DROP DATABASE`声明，也许我做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T11:15:59.587

这是旧版本 MySQL 中的一个错误：[http ://bugs.mysql.com/bug.php?id=17201](http://bugs.mysql.com/bug.php?id=17201)

建议升级:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T10:37:05.203

[--add-drop-database](http://dev.mysql.com/doc/refman/5.5/en/mysqldump.html#option_mysqldump_add-drop-database)选项添加了这一点。它可以确保您获得一个干净的数据库，其内容与进行转储时的内容完全相同。

> **在每个**CREATE DATABASE语句之前添加一个 DROP DATABASE语句

# android - 我无法通过 Eclipse 运行 Android SDK 管理器

> ID：16080612
> 
> 赞同：0
> 
> 时间：2013-04-18T10:33:38.997
> 
> 标签：android, eclipse, eclipse-plugin

这是得到的错误：

```
[2013-04-18 12:30:30 - SDK Manager] [SDK Manager] 'C:\Program' is not recognized as an internal or external command,
[2013-04-18 12:30:30 - SDK Manager] [SDK Manager] operable program or batch file. 
```

我应该怎么办 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T20:35:28.467

将 Android SDK 放在`%PROGRAMFILES%`文件夹以外的其他位置。Android SDK 将通过下载新组件来修改自身，这通常在您的程序文件夹中是不允许的（除非您以管理员权限运行，但您不应该这样做）。

将 SDK 放入其他未使用的可写位置，例如 C:\AndroidSDK。避免在文件夹名称中使用空格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T15:47:32.627

你可能有两种问题..首先是... adb 工具已移至 platform-tools/

如果您在 SDK 中没有看到此目录，请启动 SDK 和 AVD Manager（执行 android 工具）并安装“Android SDK Platform-tools”

还请更新您的 PATH 环境变量以包含 platform-tools/ 目录，以便您可以从任何位置执行 adb。

因此，您还应该将 C:/android-sdk/platform-tools 添加到您的环境路径中。此外，在您修改 PATH 变量后，请确保您启动一个新的 CommandPrompt 窗口

第二个是：

其他可能性是将目录（使用 cd）更改为工具文件夹，然后从那里执行命令。由于当前目录（不管它是什么）通常在 PATH 中，系统会找到它。但这并不方便，因为您经常希望在不同的目录中执行此命令。只是通过它并享受..

# php - 从谷歌缓存中恢复被覆盖的文件

> ID：16080613
> 
> 赞同：0
> 
> 时间：2013-04-18T10:33:41.543
> 
> 标签：php, html

我已经用旧文件覆盖了我的文件（扩展名为 .php 的 web 文档），我尝试从 google 访问缓存版本，我找到了一个，即[http://webcache.googleusercontent.com/search?q=cache： http://minnesotataxiandcarservice.com/testimonials.php&strip=0](http://webcache.googleusercontent.com/search?q=cache:http://minnesotataxiandcarservice.com/testimonials.php&strip=0)但我正在寻找一种方法来恢复它，当我试图查看它的源代码时，我只能看到 html 脚本，因为 php 部分不可见。现在我正在寻找一种方法来检索包含 php 编码在内的原始内容的整个文档。如果有任何方法可以做到这一点，请提及。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:36:56.143

你不能。

下一次，你应该使用**[版本控制系统](http://en.wikipedia.org/wiki/Revision_control)**，比如**[Git](http://git-scm.com/)**

# ruby-on-rails - 按 start_time 和 end_time 搜索表单

> ID：16080629
> 
> 赞同：0
> 
> 时间：2013-04-18T10:34:35.333
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

我的模型

```
class House < ActiveRecord::Base
    has_many: bookings
end

class Booking < ActiveRecord::Base
    belongs_to: house
end 
```

预订表具有字段 customer_name、start_time、end_time 等。

我想在房屋页面索引页面上制作一个搜索表单（start_time，end_time），以便访问者可以检查给定时间段内哪些房屋可用。

有人知道如何开始吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:08:39.203

在视图中，声明一个不链接到任何对象的表单

```
<% form_tag :url => search_book_path, :method => :get do %>
  <%= text_field_tag :start_time %>
  <%= text_field_tag :end_time %>
  <%= submit_tag %>
<% end %> 
```

在书籍上添加路线

```
map.resource :books, :collection => { search => :get } 
```

在 book_controller 中，声明函数 search：

```
def search
  start_time = params[:start_time] || DateTime.now
  end_time = params[:end_time] || DateTime.now
  @books = Book.search(start_time, end_time)
end 
```

然后在 Book 模型上声明搜索

```
def search(start_time_, end_time_)
  return Book.find(:all, :conditions => [
       "#{Book.table_name}.start_time >= ? AND #{book.table_name}.end_time <= ?",
       start_time_,
       end_time_]
  )
end 
```

不确定所有的语法，但这应该给你一个想法。

编辑：我不明白所有的问题。模型功能`search`应该搜索可用的房屋：

*   未在要求的开始日期使用：book.end_time < start_time_
*   未在规定的结束日期预订：book.start_time > end_time_

像这样

```
def search_for_availability_between(start_time_, end_time_)
  return Book.find(:all, :conditions => [
       "#{Book.table_name}.start_time > ? AND #{book.table_name}.end_time < ?",
       end_time_,
       start_time_]
  )
end 
```

你应该通过测试来检查它，但我认为它应该可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T12:30:06.170

在控制器中

```
@books = Book.available_house(start_time, end_time) 
```

在 Book 模型中，您可以使用范围

室内模型

```
def available_house(start, finish)
  where("id not in (select t.house_id from timings t where (t.start_time between ? and ?) || (t.end_time between ? and ?) )", start,finish,start,finish)
end 
```

# cuda - 推 device_malloc 和 device_new

> ID：16080630
> 
> 赞同：4
> 
> 时间：2013-04-18T10:34:50.903
> 
> 标签：cuda, thrust

使用 Thrust`device_malloc`而不是普通的`cudaMalloc`有什么好处，有什么作用`device_new`？

因为`device_malloc`似乎使用它的唯一原因是它更干净一些。

`device_new`文档说：

> “device_new 为驻留在设备内存中的类型实现放置 new 运算符。device_new 在设备内存中的对象数组上调用 T 的 null 构造函数。此函数不分配内存。”

我不明白...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:15:01.790

所以我想我发现了 device_new 的一个很好的用途

它基本上是初始化对象并将其复制到设备的更好方法，同时在主机上持有指向它的指针。

所以不要这样做：

```
Particle *dev_p;
cudaMalloc((void**)&(dev_p), sizeof(Particle));
cudaMemcpy(dev_p, &p, sizeof(Particle), cudaMemcpyHostToDevice);

test2<<<1,1>>>(dev_p); 
```

我可以这样做：

```
thrust::device_ptr<Particle> p = thrust::device_new<Particle>(1);
test2<<<1,1>>>(thrust::raw_pointer_cast(p)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T11:17:58.547

`device_malloc`如果您打算将 Thrust 用于其他事情，则返回正确类型的对象。`cudaMalloc`如果您使用 Thrust，通常没有理由使用。封装 CUDA 调用使其更容易并且通常更清晰。C++ 和 STL 容器与 C 样式数组和`malloc`.

对于，您应该阅读[文档](http://thrust.github.io/doc/group__allocation__functions.html#ga4c8a057314da6f7dab0b471f5b726247)`device_new`的以下行：

```
 template<typename T>
 device_ptr<T> thrust::device_new (device_ptr< void > p, const size_t n = 1) 
```

> p：指向设备内存区域的 device_ptr，在该区域中构造一个或多个 T。

基本上，如果内存已经分配，​​则可以使用此功能。只会调用默认构造函数，这将返回`device_pointer`转换为 T 的类型。

另一方面，以下方法分配内存并返回 a `device_ptr<T>`：

```
template<typename T >
device_ptr<T> thrust::device_new (const size_t n = 1) 
```

# c# - 在 IIS 上发布网站时“找不到请求的 URL”

> ID：16080636
> 
> 赞同：3
> 
> 时间：2013-04-18T10:35:14.400
> 
> 标签：c#, asp.net, iis

我使用 asp.net c# 开发我的网站。当我调试我的项目或在我的本地 IIS 上测试时，完全没有问题。

但是在我的 IIS 服务器上发布时，它一直显示“找不到请求的 URL”错误，并且需要大约 3 次刷新才能正常显示页面。

请在此处查看屏幕截图（对不起，我还不允许发布图片）：

![IIS 错误](https://i.stack.imgur.com/TJvAq.jpg)

谁能告诉我怎么了？这个错误是由 IIS 配置引起的还是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:09:22.643

这可能是由于与您的 IIS 服务器的 IP 通信不佳。

这里有一些提示，只需尝试：
1\. 打开 IIS 错误日志文件，查看托管网站发生的情况。
2\. 尝试彻底清除浏览器缓存。
3\. 也检查其他网站，看看它们是否正常工作……
a) 如果没有，那么您的 Internet/Intranet 连接有问题。
b) 如果是，请检查您的防火墙以确保不会阻止您访问网站/互联网。

# java - 在每一步之后检查错误值

> ID：16080638
> 
> 赞同：0
> 
> 时间：2013-04-18T10:35:22.943
> 
> 标签：java, error-handling, refactoring, workflow

我有以下Java方法：

```
public ERROR myMainMethod() {
  ERROR ret = invokeFirstSub();
  if (ret != ERROR.NO_ERROR) {
    return ret;
  }
  ret = invokeSecondSub();
  if (ret != ERROR.NO_ERROR) {
    return ret;
  }
  // you get the rest
} 
```

基本上，在每次子调用之后，我们都会检查返回值并在发生任何错误时退出。如何重构？第一个想法是将整个调用序列放在一个 try-catch 循环中，使用断言并捕获第一个 AssertionError，但我觉得它不太优雅。有什么好的做法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:10:12.207

基于重构良好实践，有两个可能的改进：

1.  避免多个 return 语句（对于具有许多 return 语句的大型方法，使代码可读性笨拙）

2.  尽可能封装逻辑，即将错误检查逻辑作为方法移动`isError()`到 ERROR 枚举中

    公共错误 myMainMethod() {

    错误 ret = invokeFirstSub();

    ret = (ret.isError()) ？ret : 调用SecondSub();

    ret = (ret.isError()) ？ret : 调用ThirdSub();

    // 以此类推，最后

    ret = (ret.isError()) ？ret : ERROR.NO_ERROR;

    // 你得到剩下的

    返回 ret; }

此外，根据您在管理每个班级或班级中所有潜艇的情况下的可行性，上述策略模式可能适合。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:56:25.963

如果您的设计允许，您可以实现[策略模式](http://en.wikipedia.org/wiki/Strategy_pattern)：

```
public interface CheckStrategy {
    ERROR invoke();
}

public class FirstCheck implements CheckStrategy {
    ERROR invoke() {
        // do something
    }
}

public class SecondCheck implements CheckStrategy {
    ERROR invoke() {
        // do something
    }
}
[...] 
```

你的主要方法：

```
public ERROR myMainMethod() {
    List<CheckStrategy> checks = new ArrayList<CheckStrategy>();
    checks.add(new FirstCheck());
    checks.add(new SecondCheck());
    [...]

    ERROR ret = ERROR.NO_ERROR;
    for(CheckStrategy check : checks) {
        ret = check.invoke();
        if(ret != ERROR.NO_ERROR) {
            break;
        }
    }

    return ret;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:40:01.783

解决方案之一是使用 AOP。根据您的技术堆栈，您可以使用[Spring AOP](http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/aop.html)、[Guice AOP](https://code.google.com/p/google-guice/wiki/AOP)甚至原始[AspectJ](http://www.eclipse.org/aspectj/doc/released/progguide/examples-basic.html)轻松实现您的目标。

这个想法是定义一个拦截器，它将拦截某些方法并在方法之前和/或之后执行自定义逻辑。

# c - 在 linux 控制台（Raspbian）中创建 OpenGL 上下文

> ID：16080639
> 
> 赞同：2
> 
> 时间：2013-04-18T10:35:27.023
> 
> 标签：c, graphics, opengl-es, console-application, raspbian

我想用openGL在控制台中做一个最小的视觉显示，但据我所知，必须涉及一个窗​​口系统（glut、glfw、sdl等）。

我已经看到[omxplayer](https://github.com/huceke/omxplayer)从控制台构建了一个图形环境（我只是假设它是 openGL 或类似的东西，所以如果我错了，请纠正我），以节省一些处理能力，并使电影在 PI 中可观看。

我只是想知道他们是怎么做到的？该主题是否有一些文献？我对 C/C++ 中的解决方案最感兴趣，但是任何具有这些功能的语言都会很高兴知道！

我翻阅了源代码，但无法真正找到有关此特定任务的线索。任何帮助或指针将不胜感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T11:03:35.413

**注意**：Raspberry Pi 使用 OpenGL ES，而不是 OpenGL。

您可以在 VideoCore SDK 中找到制作基于控制台的 OpenGL ES 应用程序的示例：

`/opt/vc/src/hello_pi`

我不确定您所说的“窗口系统”是什么意思，尤其是当您提到 SDL 时。您绝对可以在控制台中使用 SDL + OpenGL ES。这就是 Quake3 端口（和我制作的 Quake2 端口）使用的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T10:56:08.817

它使用[EGL](http://www.khronos.org/egl/)本机平台接口。

[下面是来自SubtitleRenderer](https://github.com/huceke/omxplayer/blob/master/SubtitleRenderer.cpp)类的一些代码：

```
void SubtitleRenderer::initialize_vg() {
  // get an EGL display connection
  display_ = eglGetDisplay(EGL_DEFAULT_DISPLAY);
  ENFORCE(display_);

  // initialize the EGL display connection
  ENFORCE(eglInitialize(display_, NULL, NULL));

  // get an appropriate EGL frame buffer configuration
  static const EGLint attribute_list[] = {
    EGL_RED_SIZE, 8,
    EGL_GREEN_SIZE, 8,
    EGL_BLUE_SIZE, 8,
    EGL_ALPHA_SIZE, 8,
    EGL_SURFACE_TYPE, EGL_WINDOW_BIT,
    EGL_NONE
  };
  EGLConfig config{};
  EGLint num_config{};

  ENFORCE(eglChooseConfig(display_, attribute_list, &config, 1, &num_config)); 
```

# ios - NSFetchedResultsController 更改跟踪

> ID：16080641
> 
> 赞同：0
> 
> 时间：2013-04-18T10:35:32.387
> 
> 标签：ios, objective-c, core-data, nsfetchedresultscontroller

我知道`NSFetchedResultsController`轨道从 bg 上下文更改（即合并更改）。

它是否也跟踪主要上下文的变化？

即，如果我有一个`NSFetchedResultsController`获取`Person`对象并且我使用“编辑人员”视图来更改`Person`传入的实际值，控制器会看到更改吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:18:42.097

*获取的结果控制器仅*跟踪来自其自身上下文的更改。如果您在后台上下文中保存更改，然后将更改合并到主上下文中，则主上下文上的 FRC 将看到这些更改（通常，见下文）。但是说它*“从背景环境跟踪变化”*是一种误导。

FRC 是否看到非持久更改，取决于`includesPendingChanges`获取请求中的设置。默认情况下，此值为`YES`，*除非* 您将 的值设置`resultType`为`NSDictionaryResultType`。在这种情况下，FRC 只返回持久存储的状态，并且更改跟踪根本不起作用。

# actionscript-3 - AS3：在另一个动画剪辑位置缩放动画剪辑？

> ID：16080642
> 
> 赞同：0
> 
> 时间：2013-04-18T10:35:32.913
> 
> 标签：actionscript-3, zooming, scale, movieclip

我正在尝试根据影片剪辑的 x 和 y 位置缩放基本图像？基础镜像镜像也是一个 MC。

```
infoIconCompFit.addEventListener(MouseEvent.ROLL_OVER, zoomInCompFit);
infoIconCompFit.addEventListener(MouseEvent.ROLL_OUT, zoomOutCompFit);

function zoomInCompFit(event:MouseEvent):void {
   TweenLite.to(baseImage, 1, {scaleX:2, scaleY:2});
}

function zoomOutCompFit(event:MouseEvent):void {
   TweenLite.to(baseImage, 1, {scaleX:1, scaleY:1});
} 
```

我的意思是; 是否可以在舞台上另一个影片剪辑的 x 和 y 位置缩放影片剪辑？就像我希望基本动画剪辑在鼠标 ROLL_OVER 上另一个动画剪辑的位置缩放（放大）然后在鼠标 ROLL_OUT 上缩小。

我把它带到它在处理程序上放大和缩小的位置，但我如何让它相对于另一个 MC 放大到那个位置？

（之前）[http://www.marketingfanatics.co.za/images/exampleNormal.jpg](http://www.marketingfanatics.co.za/images/exampleNormal.jpg) （之后）[http://www.marketingfanatics.co.za/images/exampleZoomedl.jpg](http://www.marketingfanatics.co.za/images/exampleZoomedl.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T13:11:25.670

是的你可以。但是您需要编写一些代码并记住这些对象的转换枢轴在哪里。

```
/**
         * Calculate position and dimensions of image to zoom.
         * @param   img - image to animate, need to have transformation pivot in top left corner!
         * @param   point - point to zoom in (or null if zoom out) that will be new center of image
         * @param   scale - scale in zoom in
         * @param   viewWidth - container width
         * @param   viewHeight - container height
         * @return  object for tween engine with parameters to animate
         */
        private function centerOn(img:DisplayObject, point:Point=null, scale:Number=2, viewWidth:Number=300, viewHeight:Number=200):Object
        {
            var r:Object;
            var mm:Matrix = img.transform.matrix;
            img.transform.matrix = new Matrix();

            if (point == null) { // oryginal size
                r = { x: 0, y: 0, width: img.width, height: img.height };
            }else { // zoom
                img.scaleX = img.scaleY = scale;
                point.x *= scale;
                point.y *= scale;
                img.x = -point.x + viewWidth / 2;
                img.y = -point.y + viewHeight / 2;
                r = { x: img.x, y: img.y, width: img.width, height: img.height };
            }
            img.transform.matrix = mm;
            return r;
        } 
```

使用示例：

```
TweenLite.to(baseImage, 1, centerOn(baseIMG, new Point(100, 150))); //zoom in
TweenLite.to(baseImage, 1, centerOn(baseIMG)); //zoom out
centerOn(img, new Point(200, 135), 4, stage.stageWidth, stage.stageHeight); // to fit stage size 
```

请记住，您的显示对象没有被遮盖，有时（在边界附近缩放）您会看到它下面的场景！

PS。代码测试。

# javascript - 自定义图片上传的文件按钮

> ID：16080644
> 
> 赞同：15
> 
> 时间：2013-04-18T10:35:42.947
> 
> 标签：javascript, jquery, css, html

我放置了一个用于上传图像文件的按钮。我想自定义该按钮，我想添加多个图像文件，实现的逻辑是什么。

```
<input type="file" />,this is rendering a choose button with a text saying `no files choosen` in the same line. 
```

是否可以自定义按钮`no files choosen`下方的文本“” `choose`。我明智的做法是在文本之前保留相机图像`no files choosen`。

如何执行此操作以改进我的网站。

谢谢

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2013-04-18T10:48:50.010

您可以通过将输入放入 div 来隐藏输入，即`height:0px`和`overwflow:hidden`。然后添加一个按钮或其他 html 元素，您可以根据需要设置样式。在 onclick 事件中，您使用 javascript 或 jQuery 获取输入字段并单击它：

```
<div style="height:0px;overflow:hidden">
   <input type="file" id="fileInput" name="fileInput" />
</div>
<button type="button" onclick="chooseFile();">choose file</button>

<script>
   function chooseFile() {
      $("#fileInput").click();
   }
</script> 
```

现在输入是隐藏的，但是您可以根据需要设置按钮的样式，它总是会在单击时打开文件输入。

如果您不想使用 jQuery，请将脚本标签替换为此脚本标签：

```
<script>
   function chooseFile() {
      document.getElementById("fileInput").click();
   }
</script> 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-18T10:37:41.600

试试这个操纵的解决方案。（我今天为我的一个项目尝试了它:)）

**HTML**

```
 <div class="choose_file">
        <span>Choose File</span>
        <input name="Select File" type="file" />
    </div> 
```

**CSS**

```
.choose_file{
    position:relative;
    display:inline-block;    
    border-radius:8px;
    border:#ebebeb solid 1px;
    width:250px; 
    padding: 4px 6px 4px 8px;
    font: normal 14px Myriad Pro, Verdana, Geneva, sans-serif;
    color: #7f7f7f;
    margin-top: 2px;
    background:white
}
.choose_file input[type="file"]{
    -webkit-appearance:none; 
    position:absolute;
    top:0; left:0;
    opacity:0; 
} 
```

**[演示](http://jsfiddle.net/TeWG3/1/)**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-08-15T19:29:43.060

您可以仅使用 CSS 对其进行自定义。通过下面的链接。

HTML

```
<label class="btn-upload">
   <input type="file" name="fileupload">
   <button class="btn">Browse</button>
</label>

.btn-upload {
    position: relative;
    overflow: hidden;
    display: inline-block;
}
.btn-upload input[type=file] {
    position: absolute;
    opacity: 0;
    z-index: 0;
    max-width: 100%;
    height: 100%;
    display: block;
}
.btn-upload .btn{
    padding: 8px 20px;
    background: #337ab7;
    border: 1px solid #2e6da4;
    color: #fff;
    border: 0;
}
.btn-upload:hover .btn{
    padding: 8px 20px;
    background: #2e6da4;
    color: #fff;
    border: 0;
} 
```

[http://imdebasispanda.blogspot.in/2015/08/custom-upload-button-using-css.html](http://imdebasispanda.blogspot.in/2015/08/custom-upload-button-using-css.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-02-12T15:46:40.107

```
 <body>

    <style>
   .image{
  position:relative;
   display:inline-block;    
     width:3%; 
   padding: 0%;
    }
.image input[type="file"]{
-webkit-appearance:none; 
position:absolute;
    top:0; left:0;
    opacity:0; 
     }
   </style>

  <div class="image">
    <span><img src='admin/ico/fms.ico' class "image"></span>
    <input name="image" type="file" />
  </div>
</body> 
```

# javascript - 使用本机 mongoDB 驱动程序为节点流式查询结果

> ID：16080650
> 
> 赞同：2
> 
> 时间：2013-04-18T10:35:57.010
> 
> 标签：javascript, node.js, mongodb

我在 mongoDB 集合中有 100,000 条记录，并尝试使用本机驱动程序在 node.js 应用程序中检索它们。

我按照[MongoDB 文档中的示例进行 CursorStream](http://mongodb.github.io/node-mongodb-native/api-generated/cursorstream.html)但得到错误：

```
RangeError: Maximum call stack size exceeded 
```

在这个错误之前，我得到了很多：

```
(node) warning: Recursive process.nextTick detected. This will break in the next version of node. Please use setImmediate for recursive deferral. 
```

这是我的代码：

```
var query = {...};
var fields = {...};
var options = {
    // "limit": 10
    //"skip": 10,
    //"sort": title
}

var stream = myCollection.find(query, fields, options).stream();
//  stream.pause();
var results = [];
stream.on('data', function (item){
    results.push(item);
    stream.pause();
    // Restart the stream after 1 miliscecond
    setTimeout(function() {
        stream.resume();
    }, 1);
});

stream.on('close'..... 
```

当我没有为“数据”事件定义侦听器时，也会发生错误。但如果在创建后立即暂停流，则不会发生。

mongod版本是v2.4.1 node驱动版本是1.2.x

任何帮助/提示将不胜感激。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-22T19:27:48.610

看起来问题是通过在光标流中设置批量大小来解决的：

```
var stream = myCollection.find(query, fields, options).batchSize(10000).stream(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-19T12:49:07.330

您可能想尝试[使用 setImmediate](http://nodejs.org/api/timers.html#timers_setimmediate_callback_arg)而不是 setTimeout，以确保可以刷新未完成的 IO 操作。另请参阅[https://github.com/ZJONSSON/streamz/issues/1](https://github.com/ZJONSSON/streamz/issues/1)

# javascript - 为什么这个函数不等到它有来自 XHR 请求的数据？

> ID：16080655
> 
> 赞同：4
> 
> 时间：2013-04-18T10:36:09.533
> 
> 标签：javascript

当我调用 getCurrentConditions 时，它会尝试在 requestData 完成之前返回数据，因此找不到 data.currently。我肯定会从 URL 返回数据，我尝试添加一个超时循环来等待 XHR 加载，但这只是一起破坏了脚本。我有点困惑为什么第二个函数不等待 this.requestData(latitude, longitude); 在继续之前完成。

```
this.requestData = function(latitude, longitude) {
    request_url = self.API_ENDPOINT + api_key + '/' + latitude + ',' + longitude + '?units=auto';
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function() {
        if(xhr.readyState==4 && xhr.status==200) {
            content = xhr.responseText;
            if(content != '' && (content)) {
                return JSON.parse(content);
            } else {
                return false;
            }
        }
    }
    xhr.open('GET', 'proxy.php?url='+request_url, true);
    xhr.send(null);
}
/**
 * Will return the current conditions
 *
 * @param float $latitude
 * @param float $longitude
 * @return \ForecastIOConditions|boolean
 */
this.getCurrentConditions = function(latitude, longitude) {
    data = this.requestData(latitude, longitude);
    if(data !== false) {
        return new ForecastIOConditions(data.currently);
    } else {
        return false;
    }
}

var forecast = new ForecastIO(api_key);
var condition = forecast.getCurrentConditions(latitude, longitude); 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-18T10:39:45.860

因为 ajax 是异步的，这意味着一旦发送请求，它将继续执行而不等待响应。

[一种简单的解决方案是通过将第三个参数传递给.open()](https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest#open%28%29)方法作为 false来关闭异步特性，但它有一些缺点，例如浏览器线程将被阻塞直到请求完成意味着 UI 将保持无响应直到请求完成完全的。

```
xhr.open('GET', 'proxy.php?url='+request_url, false); 
```

正确的解决方案是使用回调方法

```
this.requestData = function(latitude, longitude, callback) {
    request_url = self.API_ENDPOINT + api_key + '/' + latitude + ',' + longitude + '?units=auto';
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function() {
        if(xhr.readyState==4 && xhr.status==200) {
            content = xhr.responseText;
            if(content != '' && (content)) {
                callback(JSON.parse(content));
            } else {
                callback(false);
            }
        }
    }
    xhr.open('GET', 'proxy.php?url='+request_url, true);
    xhr.send(null);
}
/**
 * Will return the current conditions
 *
 * @param float $latitude
 * @param float $longitude
 * @return \ForecastIOConditions|boolean
 */
this.getCurrentConditions = function(latitude, longitude, callback) {
    this.requestData(latitude, longitude, function(data) {
        if(data !== false) {
            callback(ForecastIOConditions(data.currently));
        } else {
            callback(false);
        }
    });
}

var forecast = new ForecastIO(api_key);
forecast.getCurrentConditions(latitude, longitude, function(condition){
    if(condition !== false) {

    } else {

    }
}); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-18T10:51:52.363

代替

```
xhr.open('GET', 'proxy.php?url='+request_url, true); 
```

利用

```
xhr.open('GET', 'proxy.php?url='+request_url, false); 
```

* * *

**关于方法：**

```
open(method,url,async) 
```

指定请求的类型、URL 以及是否应异步处理请求。

`method:`请求类型：GET 或 POST

`url:`服务器上文件的位置

`async:`true（异步）或 false（同步）

资料来源：w3schools

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T10:39:02.873

放在这里`false`而不是`true`

```
// `false` makes the request synchronous
xhr.open('GET', 'proxy.php?url='+request_url, false); 
```

这使得调用同步而不是同步。因此，当调用变为同步时，它会等待 ajax 调用完成，然后执行您想要的功能。

XMLHttpRequest 的 Mozila 链接：[**同步和异步请求**](https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/Synchronous_and_Asynchronous_Requests)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-18T10:40:16.700

这是异步调用。尝试使用回调函数。下面的代码是一个示例。未测试！

```
 this.requestData = function(latitude, longitude, callback) {
        request_url = self.API_ENDPOINT + api_key + '/' + latitude + ',' + longitude + '?units=auto';
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function() {
            if(xhr.readyState==4 && xhr.status==200) {
                content = xhr.responseText;
                if(content != '' && (content)) {
                    callback(JSON.parse(content));
                } else {
                    return false;
                }
            }
        }
        xhr.open('GET', 'proxy.php?url='+request_url, true);
        xhr.send(null);
    }
    /**
     * Will return the current conditions
     *
     * @param float $latitude
     * @param float $longitude
     * @return \ForecastIOConditions|boolean
     */
    this.getCurrentConditions = function(latitude, longitude) {
        this.requestData(latitude, longitude, callback);        
    }

this.callback = function(data) {
if(data !== false) {
            return new ForecastIOConditions(data.currently);
        } else {
            return false;
        }
}; 
```

# jquery - 更改 Jquery 对话框按钮文本

> ID：16080658
> 
> 赞同：2
> 
> 时间：2013-04-18T10:36:15.437
> 
> 标签：jquery

我需要更改对话框按钮的文本，但我有 3 个对话框按钮，我只需要更改其中一个。

我有这个 jquery 代码：

```
$("dialog").dialog({
height: 600,
width: 1000,
modal: true,
resizable: false,
buttons: {
     "Upload": function() {
           alert("Upload");
      }
     "Edit": function() {
           $('#dialog').dialog("option", "buttons",[
                    {
                        text: "Save",
                        click: function () {
                            alert("Save");
                        } 
                    }
                ]);
      }
     "Delete": function() {
           alert("Delete");
      }
} 
```

此解决方案将编辑按钮更改为保存按钮，但删除了上传和删除按钮。我可能会在 Edit 函数中再次添加 Upload 和 Delete，但我认为这样看起来不太好。

请帮助我有一个更好的解决方案。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:44:33.090

尝试这个

```
 buttons:
            [
              {
                  text: "Your name"

              }
            ] 
```

或者

```
$('selector').dialog({
    buttons: {
        OK: function() {
            alert(1);
        }
    },
    dialogClass: 'my-dialog'
});
$('.my-dialog .ui-button-text:contains(OK)').text('CANCEL'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:54:50.357

您可以在创建按钮时为其分配一个类，为您提供一种很好的干净方式来引用它。

[这是一个关于 jsfiddle 的工作示例](http://jsfiddle.net/cpickard/Eu8kz/)和修改后的代码：

```
$("#dialog").dialog({
height: 600,
width: 1000,
modal: true,
resizable: false,
        buttons:
            [
              {
                  text: "Upload",
                  click: function() {
                     alert("Upload");
                  }
              },
              {
                  text: "Edit",
                  click: function() {
                    $(".editbutton > .ui-button-text").text("Save"); 
                  },
                  'class': 'editbutton'
              },
                {
                  text: "Delete",
                  click: function() {
                     alert("Delete");
                  }
              }
            ]
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-15T01:36:49.377

正如 Colin 指出的那样，您可以在对话框的声明中为按钮分配类、id 和行为。为了在创建对话框后定位和更改文本，请使用以下内容：

```
$('#button-id').click(function(){
    $(this).children('ui-button-text').text("new text");
}); 
```

# wordpress - BuddyPress 网站中缺少注册页面

> ID：16080667
> 
> 赞同：0
> 
> 时间：2013-04-18T10:36:55.090
> 
> 标签：wordpress, buddypress

我是 word press 和 buddy press 的新手。出于学习目的，我在免费 word press 托管网站上创建了一个帐户并手动安装了 buddy press。但是在我的 buddy press 网站上，当我点击注册新用户链接时，它显示了一个“找不到页面”错误消息。

我检查了好友新闻文件夹并在其中找到了一个注册文件夹。任何人都可以为这个问题提出一个解决方案。对不起，我的英语不好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T15:28:01.617

> 一个免费的文字新闻托管网站....

那就是问题所在。免费托管站点已瘫痪，通常不允许 mod_rewrite 并且具有其他减少的功能，这些功能会影响到除了简单的 WP 安装之外的任何东西。获得一个真实的托管帐户：[推荐的 WordPress 虚拟主机](http://wordpress.org/hosting/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-16T19:36:06.503

如果免费主机问题实际上是问题，这可能不适用于您，但创建自定义注册页面的方法如下..

1.  在 wordpress 中创建一个新页面。将其命名为您喜欢的任何**名称，例如“注册”，然后单击“****发布**”不要以任何其他方式更改它。

2.  A. 在 wordpress 管理面板中，转到**settings -> buddypress -> pages**。

    B. 在**注册 -> 注册**下选择“注册”（这是您创建的同名空白页面。）

3.  从 bp-legacy（默认 BP 模板位置）获取 register.php 的副本

    /wp-content/plugins/buddypress/bp-templates/bp-legacy/buddypress/members/register.php

4.  将其重命名为 index-register.php 并将其复制到此位置..

    /wp-content/themes/YOURTHEME/buddypress/members/index-register.php

5.  您的注册页面将在 your.website/register/ 检查它是否正常工作（当然将 your.website 更改为您的实际域名）

    *   如果您正确地遵循了这些步骤，您将知道您的主机是否是问题所在。

    *   您可以自定义 index-register.php 以满足您的需求。

# c# - 查找丢失的鼠标点击

> ID：16080669
> 
> 赞同：3
> 
> 时间：2013-04-18T10:36:56.320
> 
> 标签：c#, winforms, debugging, mouse

我正在使用我不太熟悉的 C# WinForms 应用程序。该控件旨在可拖动，如果用户在控件的某些部分开始拖动，但在其他部分不开始拖动，则该控件实际上是可拖动的。

该控件包含几个子控件，我相信其中一些子控件在父控件看到它们之前捕获了鼠标点击，因此在某些区域出现故障。我已经在调试器中确认只有当用户单击特定子控件时才会调用父级的鼠标按下处理程序。

鉴于我知道点击在到达我的处理程序之前被捕获/抑制，调试器（或其他方式）中有没有办法确定点击的去向？盯着代码一直没有成功，因为我不知道从哪里开始。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:42:12.627

与 Visual Studio 捆绑在一起的是一个名为[Spy++](http://msdn.microsoft.com/en-us/library/aa264396%28v=vs.60%29.aspx)的漂亮小程序。它允许您[记录发送到窗口的所有消息](http://msdn.microsoft.com/en-us/library/aa265737%28v=vs.60%29.aspx)，并向您显示窗口中 Win32 控件的“真实”结构（许多控件实际上不是控件，而只是自定义绘制的屏幕区域）。通过一些检查，您应该能够通过消息日志找到罪魁祸首。

# ios - 在 facebook 上发布带有文本的图像

> ID：16080673
> 
> 赞同：0
> 
> 时间：2013-04-18T10:37:02.503
> 
> 标签：ios, facebook-graph-api

我想通过使用后备共享在 facebook 上发布提要。它应该包含图像和消息。我通过更改参数尝试了很多

```
 NSMutableDictionary *postParams =
[[NSMutableDictionary alloc] initWithObjectsAndKeys:
 @"http://www.abc.com",@"link",
 self.produtObj.productImageURL, @"picture",
 self.produtObj.productName, @"name",
 self.produtObj.productDescription, @"message",
 nil];

[FBRequestConnection
 startWithGraphPath:@"me/feed"
 parameters:postParams
 HTTPMethod:@"POST"
 completionHandler:^(FBRequestConnection *connection,
                     id result,
                     NSError *error) {
     NSString *alertText;
     if (error) {
         alertText = [NSString stringWithFormat:
                      @"error: domain = %@, code = %d",
                      error.domain, error.code];
     } else {
         alertText = [NSString stringWithFormat:
                      @"Posted action, id: %@",
                      [result objectForKey:@"id"]];
     }
     // Show the result in an alert
     [[[UIAlertView alloc] initWithTitle:@"Result"
                                 message:alertText
                                delegate:self
                       cancelButtonTitle:@"OK!"
                       otherButtonTitles:nil]
      show];
 }]; 
```

使用此代码，提要显示在一个框中，单击它会将我带到指定的链接。我只想在盒子里有一个带有故事的图像缩略图。请帮我。这是我在 SOF 的第一个问题。所以请原谅我的错误。提前致谢。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-20T05:29:30.740

我真的更喜欢使用 UIActivityItemViewConroller 将内容推送到 facebook。

用户需要在其设备上登录 facebook。您可以通过 Facebook 部分中的设置来做到这一点。

我为我的东西制作了这样的新控制器：

```
 NSMutableArray *stuff = [[NSMutableArray alloc]init];
    NSString *textstring = @"Now is the time for all good men to come to the aid of their country. Lorum Ipsum etc";
    UIImage *pic = [UIImage imageNamed:@"Icon-Small-50"];//A local image
    NSString *URL = @"http://nwc.co/images/nwc-icon-200.gif";//A link to an image
    [stuff addObject:textstring];
    [stuff addObject:pic];
    [stuff addObject:URL];
    UIActivityViewController *vc = [[UIActivityViewController alloc]initWithActivityItems:stuff applicationActivities:nil];

    [self.navigationController presentViewController:vc animated:YES completion:^{
        //do something here when they are done   
    }]; 
```

如果您运行上述程序，您会注意到文本、本地图像和指向在线图像的链接都出现在帖子上。如果您不想在活动图标弹出时混淆人们，您可以排除其他活动：

```
vc.excludedActivityTypes = @[UIActivityTypePrint, UIActivityTypePostToTwitter, UIActivityTypePostToWeibo, UIActivityTypeMail, UIActivityTypeCopyToPasteboard, UIActivityTypeAssignToContact, UIActivityTypeSaveToCameraRoll]; 
```

# jquery - 努力让所见即所得在 Rails 中工作

> ID：16080679
> 
> 赞同：0
> 
> 时间：2013-04-18T10:37:14.537
> 
> 标签：jquery, ruby-on-rails, ruby, twitter-bootstrap, wysiwyg

试图让 bootstrap-wysihtml5-rails gem 工作。

代码（HAML）：

应用程序.css

```
 *= require_self
 *= require bootstrap-wysihtml5
 *= require_tree .
 */ 
```

应用程序.js

```
//= require jquery
//= require jquery_ujs
//= require bootstrap-wysihtml5
//= require bootstrap
//= require_tree . 
```

pages.js（我编辑的表单是为@page）

```
$(".wysihtml5").each (i, elem) ->
  $(elem).wysihtml5() 
```

_form.html.haml

```
= f.text_area :content, class: 'wysihtml5' 
```

签入 DOM 和脚本在那里，但我看不到编辑器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T17:23:16.133

试着在你的文本区域里放一个 id，我对咖啡或火腿不是很熟悉。

打电话

```
$('#someIdorClass').wysihtml5(); 
```

检查您的页面源代码，看看是否存在所见即所得的 iframe 代码

# wpf - 当前上下文中不存在名称“InitializeComponent”：奇怪的行为

> ID：16080680
> 
> 赞同：3
> 
> 时间：2013-04-18T10:37:19.173
> 
> 标签：wpf

我创建了非常小的 WPF 应用程序并面临一个问题。我有以下课程。

员工.cs

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace StaticResourceVsDynamicResource
{
    public class Employee
    {
        public string strName;
        public int nId;

        public Employee()
        {
            strName = "Default name";
            nId = -1;
        }

        public string Name
        {
            get{return strName;}set{strName = value;}
        }

        public int ID
        {
            get{return nId;}set{nId = value;}
        }
    }
} 
```

MainWindow.xamal.cs

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;

namespace StaticResourceVsDynamicResource
{
    /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();
        }

        private void button1_Click(object sender, RoutedEventArgs e)
        {
            this.Resources["objEmployee"] = new Employee { Name = "Changed employee", ID = 100};

            this.Resources.Add("myBrush",new SolidColorBrush(SystemColors.GrayTextColor));            
        }
    }
} 
```

主窗口.xamal

```
<Window x:Class="StaticResourceVsDynamicResource.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:StaticResourceVsDynamicResource"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    Title="MainWindow" Height="350" Width="525">
<Window.Resources>        
    <x:ArrayExtension Type="{x:Type sys:String}" x:Key="objNames">
        <sys:String>A1</sys:String>
        <sys:String>A2</sys:String>
    </x:ArrayExtension>
    <local:Employee x:Key="objEmployee"></local:Employee>
</Window.Resources>
<Grid>                       
    <Grid Height="100" HorizontalAlignment="Left" Margin="281,12,0,0" Name="grid3" VerticalAlignment="Top" Width="200" >           
        <ComboBox ItemsSource="{StaticResource ResourceKey=objNames}" Height="23" HorizontalAlignment="Left" Margin="48,37,0,0" Name="comboBox1" VerticalAlignment="Top" Width="120" />
    </Grid>
</Grid> 
```

上面的 xaml 代码很有趣。当我构建此代码时，我没有收到任何错误。无论出于何种原因，我只是改变了 and 的位置，`<x:ArrayExtension>`然后`<local:Employee>`我开始低于错误。

```
The name 'InitializeComponent' does not exist in the current context 
```

当我在此`<local:Employee>`之前声明时，`<x:ArrayExtenion>`只有我收到此错误。我确信这与命名空间有关，但我无法弄清楚。请参阅以下导致编译错误的代码。

```
<Window.Resources>
    <local:Employee x:Key="objEmployee"></local:Employee>
    <x:ArrayExtension Type="{x:Type sys:String}" x:Key="objNames">
        <sys:String>A1</sys:String>
        <sys:String>A2</sys:String>
    </x:ArrayExtension>        
</Window.Resources> 
```

任何人都可以帮忙吗？似乎是一个奇怪的问题，但它是......

问候，赫曼特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-02T03:53:12.593

我有同样的问题。我解决它的方法是将 XAML 文件的构建操作更改为 Page。

要归功于我找到解决方案的来源：http: [//blog.mahop.net/post/Compile-Error-for-WPF-Files-The-name-InitializeComponent-does-not-exist-in-the-current-上下文.aspx](http://blog.mahop.net/post/Compile-Error-for-WPF-Files-The-name-InitializeComponent-does-not-exist-in-the-current-context.aspx)

# jquery - 将点击代码更改为自动循环版本

> ID：16080681
> 
> 赞同：0
> 
> 时间：2013-04-18T10:37:28.447
> 
> 标签：jquery, slideshow

我有这段代码：

```
function slideshow_animateClick(){
    slideshowItem_position = 0 - (slideshowItem_place * 1920);
    $('#slideshowContent').stop().animate({'left':slideshowItem_position + 'px'}, 1000, 'swing');
  } 
```

...这是水平幻灯片中的左/右按钮单击功能。

我需要将其复制到可循环的版本。基本上我希望幻灯片自行播放，直到单击左/右按钮。一旦发生这种情况，最好设置某种空闲时间条件，之后幻灯片将再次恢复自动播放。

完整的上下文 -[小提琴](http://jsfiddle.net/W3Dub/)

谢谢。

佩德罗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T20:42:21.630

编辑：在此处添加小提琴：http: [//jsfiddle.net/jnS3H/12/](http://jsfiddle.net/jnS3H/12/)与您的代码和修复。

要执行间隔计时器，您可以执行以下操作：

```
//create a function to handle the auto rotate
function autoRotate() {
    //code here for what happens every n seconds
}

//create a function that holds the interval to do an auto rotate push
function rotate(){
    var startRotate = setInterval(function(){  //Start the autorotate on load to rotate every 2 seconds.      
        autoRotate();
    }, 2000);
}

$('.rightarrow, .leftarrow').click(function(){
    clearInterval(startRotate);  //Stops the auto-animation
    clearTimeout(startAgain);   //Stops the starting again - incase you click again, it resets the timeout
    //write some code here to do something when you click on the right arrow
    var startAgain = setTimeout(function(){  //Then create a timeout to start rotating again after you click
        rotate();
    }, 2000);
});

$(document).load(function(){
    rotate();
}); 
```

当然这是非常松散的代码，你必须填空并测试它，但我相信主体是正确的。

# php - 通过 AsyncTask 登录自动获取先前输入的用户名，密码

> ID：16080686
> 
> 赞同：-1
> 
> 时间：2013-04-18T10:37:55.910
> 
> 标签：php, android, mysql

我正在使用 php 从 MYSQL 获取用户名和密码...代码没问题，但是当我显示警告栏时，我显示警告栏，你想注销吗？然后我的 LoginActivity 出现在图片中。即使用户输入了错误的用户名或密码，也会获取以前的登录数据。这是我的php代码

```
<?php

    include("db.php");

    include("database.php");

    $uname=$_REQUEST['Username'];

    $upassword=$_REQUEST['Password'];

    if($upassword!='' && $uname!=''){

    $resultFac = SelectSingleRow("FacultyLogin","Password='$upassword' AND Username='$uname'","");

    if($resultFac['FacultyID']!=''){

        $facid= $resultFac['FacultyID'];

        $resultEmp = SelectSingleRow("tblFaculty","ID='$facid'","");

        if($resultFac['ID']!=''){

        $empid= $resultEmp['EmployeeID'];

        $response["Emp_id"]=$empid;

         $response["flag"]=1;

         echo json_encode($response);

        }

    }

    else{

        $response["flag"]=0;

            echo "Please enter correct user name password";

         echo json_encode($response);

    } 

    }else{

        $response["flag"]=0;

         echo json_encode($response);

        echo "Please enter both the fields";

    }

  ?> 
```

和我的登录活动

```
public class LoginActivity extends Activity {
    int flag;
    int empid;
    String username;
    String password;

    EditText edUsername,edPassword;

    private ProgressDialog pDialog;

    JSONParser jParser = new JSONParser();
    JSONArray jarray;

    ArrayList<HashMap<String, String>> productsList;

    private static String url_faculty_login = "http://10.0.2.2/xyz/login_check.php";
    private static final String TAG_EMPLOYEE = "employee_id";
    private static final String TAG_PID = "pid";
    private static final String TAG_NAME = "name";

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.login);
    //  setTitleColor(1);

        Intent i=new Intent();

        edUsername=(EditText) findViewById(R.id.edUserName);
        edPassword=(EditText) findViewById(R.id.edPassword);
        String clear="clear";

    }

@Override
protected void onStop() {
    // TODO Auto-generated method stub
    super.onStop();
    LoginActivity.this.finish();
    //  LoginActivity.

}

//@Override
protected void onPause() {
    // TODO Auto-generated method stub
    super.onPause();

    LoginActivity.this.finish();
}
//onClick login.xml Button
    public void signIn(View view) {
        //call to inner class
        if(edUsername!=null && edPassword!=null )
        {
            new LoadAllProducts().execute();

        }
        else 
        {
            Toast.makeText(getApplicationContext(), "Enter Both Fields", Toast.LENGTH_LONG);

        }
    }

    class LoadAllProducts extends AsyncTask<String, String, String> {
        private static final String Emp_id = "Emp_id";

        public String doInBackground(String... args) {
             username=edUsername.getText().toString();
             password=edPassword.getText().toString();

             List<NameValuePair> params = new ArrayList<NameValuePair>();

            params.add(new BasicNameValuePair("Username", username));
            params.add(new BasicNameValuePair("Password", password));

            JSONObject json = jParser.makeHttpRequest(url_faculty_login, "POST", params);
            Log.d("Username n password: ", json.toString());

            try {
                 flag=json.getInt("flag");
                Log.d("flags",""+flag);
            } catch (JSONException e) {

            e.printStackTrace();
            }

            if(flag==1)
            {           
                try 
                {
                    empid=json.getInt(Emp_id);
                } 
                catch (JSONException e) 
                {
                    e.printStackTrace();
                }
                Intent i=new Intent(getApplicationContext(),ClassActivity.class);
                i.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);
                i.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                i.putExtra("Emp_id", ""+empid);
                Log.d("Empid",""+empid);

                startActivity(i);
            }
            if(flag==0)
            {
                Intent i=new Intent(getApplicationContext(),InvalidUPLoginActivity.class);

                startActivity(i);
            }
        return null;
    }
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:53:27.623

**后**

```
 username=edUsername.getText().toString();
  password=edPassword.getText().toString();

  edUsername.setText("");
  edPassword.setText(""); 
```

# eclipse - NoClassDefFoundError: com/sun/lwuit/layouts/Layout 错误？

> ID：16080687
> 
> 赞同：0
> 
> 时间：2013-04-18T10:38:07.947
> 
> 标签：eclipse, java-me, lwuit

我正在使用 eclipse pulser ide 开发一个 java 应用程序，因为我得到了 `NoClassDefFoundError: com/sun/lwuit/layouts/Layout.

我尝试了许多解决方案并尝试导入 LWUIT.jar 并清理了项目，但即使它不工作，任何人都可以提出解决方案。

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T13:26:04.173

转到项目属性、Java 构建路径、订单和导出，并确保您的 LWUIT jar 已标记。

# javascript - 我们真的必须更改为 Object.create 吗？

> ID：16080691
> 
> 赞同：3
> 
> 时间：2013-04-18T10:38:19.737
> 
> 标签：javascript, prototype, prototypal-inheritance

我有一个问题问你

据我所知，`new`操作员以这种方式工作

```
function fakeNew(Ctor) {
  var instance = Object.create(Ctor.prototype);
  instance.constructor();
  // I skip the conditional for simplicity
  return instance;
} 
```

这一切都是从我做`Object.create`polifill 开始的，这样我就可以在不使用`new`.

```
Object.create = function(proto) {
  function F() { }
  F.prototype = proto;
  return new F();
} 
```

我开始创建很多对象并对它们进行原型设计，但是多次需要初始化它的属性我`.init()`对它们做了一个方法

```
var base = {
  init: function() {
    EmitterMixin.call(this);
    return this;
  }
};

var obj = Object.create(base).init(); 
```

`this`但是，当然，我必须记住总是从那里回来，`.init()`而且很多时候我都忘记了，或者最糟糕的是，我忘了打电话`.init()`。因此，为了简化对象初始化，我想创建一个全局帮助器来完成它：invoke `Object.create`，调用初始化函数并返回它。

```
function create(proto) {
  var child = Object.create(proto);
  child.init();
  return child;
} 
```

**然后当我意识到我正在做的实际上是`new`操作员所做**的事情时，我想用头撞墙，但要慢得多。如果 polifill 适用，我什至会`new`在引擎盖下使用。

所以我问自己，投掷有什么好处`new`？它在主要浏览器上[明显更快](http://jsperf.com/object-create-vs-constructor-vs-object-literal/49)，并且由于 javascript 的性质，我们通常需要调用一个 initualizer 函数，而不是`new`从一开始就做的事情。

最糟糕的是，我注意到比**我使用两种不同类型的对象**，“抽象”和“实例”，更大的区别是我必须调用的实例，`.init()`而抽象是不必要的，因为它们只会被用来其他对象的原型。而且我在使用时已经看到了这种模式`new`：

```
function Foo() { }
Foo.prototype.method = function() { ... };

function Bar() { }
// "abstract" doesnt invoke initializer
Bar.prototype = Object.create(Foo.prototype);
Bar.prototype.other = function() { ... };

// "instance", the constructor is called as initializer
var obj = new Bar(); 
```

如果我们停止观看真的有好处`new`吗？我们确定它不是一个比简化我们必须做的事情更高级的工具吗？您认为`new`和有哪些优点/缺点`Object.create`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-06T16:15:22.797

我已经尝试了这两种方法，我个人认为传统方法使用`new`. 的主要论点`Object.create`是它使原型继承更加清晰 - 您不必了解`prototype`函数构造函数上属性的复杂性以及它与对象的实际原型的关系。但它确实要求初始化是一个单独的步骤。

我首选的方法是结合这两种方法，例如：

```
function Animal(name) {
    this.name = name || null;
}
Animal.prototype.eat = function() {
    console.log('yum');
}

function Cat(name) {
    Animal.call(this, name);
}
Cat.prototype = Object.create(Animal.prototype);
Cat.prototype.constructor = Cat;

Cat.prototype.meow = function() {
    console.log('meow');
}

var garfield = new Cat('garfield');
garfield.eat();
garfield.meow(); 
```

`Object.create`这里比继承更好，`Cat.prototype = new Animal()`原因有两个：

1.  如果您想要求该`name`参数（如果未传递则抛出异常），您可以这样做，并且继承 ( `Cat.prototype = Object.create(Animal.prototype)`) 仍然有效。
2.  `Cat`如果你忘记从构造函数中调用构造`Animal`函数，那么所有应该由构造函数创建的属性都`Animal`将是未定义的，让你快速意识到错误。

尽管这种方法（使用构造函数和`new`）不太“纯粹”原型，但它仍然是原型继承，只要您了解如何正确使用它，它就可以正常工作，并且比该`Object.create`方法需要更少的输入。

我在我的 Javascript OO 库[simpleoo](https://github.com/mbrowne/simpleoo.js)的文档中写了一些关于此的其他说明。（注意：我可能很快会更改该库的 API；我链接到它主要是因为文档更详细地讨论了其中一些概念。）

# php - Long Polling with Ajax and PHP - Apache freezes

> ID：16080692
> 
> 赞同：5
> 
> 时间：2013-04-18T10:38:25.103
> 
> 标签：php, ajax, apache, long-polling

We try to implement long-polling based notification service in our company's ERP. Similar to Facebook notifications.

Technologies used:

*   PHP with `timeout` set to 60 seconds and 1 second `sleep` in each iteration of loop.
*   jQuery for AJAX handling.
*   Apache as web server.

After nearly month of coding, we went to production. Few minutes after deployment we had to rollback everything. It turned out that our server (8 cores) couldn't handle long requests from 20 employees, using ~5 browser tabs each. For example: User opened 3 tabs with our ERP, with one long-polling AJAX on each tab. Opening 4th tab is impossible - it hangs until one of previous 3 is killed (and therefore AJAX is stopped).

'Apache limitations', we thought. So we went googling. I found some info about Apache's MPM modules and configs, so I gave it a try. Our server use `prefork` MPM, as `apachectl -l` shown us. So I changed few lines in config to look something like this:

```
<IfModule mpm_prefork_module>
    StartServers          1
    MinSpareServers       16
    MaxSpareServers      32
    ServerLimit          50%
    MaxClients          150
    MaxClients           50%
    MaxRequestsPerChild   0
</IfModule> 
```

Funny thing is, it works on my local machine with similar config. On server, it looks like Apache ignores config, because with `MinSpareServers` set to 16, it lauches 8 after restart. Whe have no idea what to do.

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-19T07:28:06.257

前一篇文章的第一条评论中的路人给了我一个很好的方向来检查我们是否达到了与一个服务器的最大浏览器连接。

事实证明，每个浏览器都有这些限制，您无法更改它们（据我所知）。我们制定了一种解决方法以使其正常工作。

假设我正在`AJAX`从

```
http://domain.com/ajax 
```

为了避免达到最大浏览器连接数，每个长轮询`AJAX`连接到随机子域，例如：

```
http://31289.domain.com/ajax
http://43289.domain.com/ajax 
```

等等。DNS 服务器上有一个通配符指向 from `*.domain.com`，`domain.com`子域是唯一的随机数，由每个选项卡上的 JS 生成。

有关更多信息，请查看[此线程](https://stackoverflow.com/questions/985431/max-parallel-http-connections-in-a-browser/985704)。

也有一些问题`AJAX Same Origin Security`，但我们设法解决了问题，在两边都使用了适当的`JS`标题`PHP`。

如果您想了解有关标头的更多信息，请[在 StackOverflow](https://stackoverflow.com/questions/298745/how-do-i-send-a-cross-domain-post-request-via-javascript)和[Mozilla Developer's page 上查看](https://developer.mozilla.org/en-US/docs/HTTP/Access_control_CORS)。谢谢！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-09-04T23:27:47.293

我已经成功实现了带有长轮询的 LAMP 设置。有两件事要记住，linux 的 php 内部执行时钟不会被“usleep()”函数改变或增加。因此，只有在获取数据需要比正常时间更长的极少数情况下，或者可能用于 Windows 设置时，才需要设置最大执行时间。此外，考虑到长时间轮询，一旦超过 20 秒，您很容易发生浏览器超时。

其次，您需要验证您的会话没有锁定（如果正在使用会话）。

Apache 真的不应该对你想要做的事情有任何问题。不过，我承认像 nginx 这样的网络服务器或特定于 ajax 的网络服务器可以更好地处理并发连接。如果您可以发布 ajax 处理程序的代码，我们或许能够找出问题所在。

利用子域，或者正如其他线程所建议的那样——不同端口上的多个网络服务器，请记住您可能会遇到 JavaScript 域安全问题。

我说，在遇到问题并用尽所有其他选项之前不要更改 apache 配置；小心 PHP 会话，并确保 AJAX 正在等待响应，然后再发送另一个请求；）

# java - 动态 Jasper 子报表表格边框

> ID：16080693
> 
> 赞同：0
> 
> 时间：2013-04-18T10:38:30.787
> 
> 标签：java, mysql, struts2

嗨，我是 dynamicjasper 的新手，我创建了子报告，但是当我使用 setBorder 属性为我的子报告设置边框时，它会引发异常`java.lang.reflect.InvocationTargetException`

这是子报表代码

```
public DynamicReport buildReport() throws Exception {

        FastReportBuilder frb = new FastReportBuilder();
        frb.setTitle("PROJECT DOCUMENTATION")
           .setMargins(5, 5, 20, 20);
         frb.addColumn("","project_id", String.class.getName(), 30)
        .addColumn("","product_name",String.class.getName(),30)

        .setQuery("select * from project_master where project_id=$P{project_id}", DJConstants.QUERY_LANGUAGE_SQL);
         SIZE = table_name.size();
         delete_table = table_name;
         System.out.println("SIZE = = = "+SIZE);

         frb.addGroups(2);

        for(int s=0;s<table_name.size();s++){
            System.out.println(" s "+s+" = "+table_name.get(s).toString()+" s_n "+seciton_name.get(s).toString()+" tab_type "+table_type.get(s).toString());
        frb.addSubreportInGroupHeader(2, subreport(table_name.get(s).toString(),seciton_name.get(s).toString(),table_type.get(s).toString()),getLayoutManager

(),"getDataSourceSubreport"+s,DJConstants.SUBREPORT_PARAMETER_MAP_ORIGIN_PARAMETER,DJConstants.DATA_SOURCE_TYPE_JRDATASOURCE);
       params.put("getDataSourceSubreport"+s, getDataSourceSubreport(table_name.get(s).toString()));

            }

       frb.setPrintBackgroundOnOddRows(true);

        frb.setUseFullPageWidth(true);
        params.put("project_id","PJT/0001");

        return dr;
    }

public DynamicReport subreport(String tab_name,String tit_name,String tab_type)throws Exception{
**Style tbl_border = new Stryle();
       tbl_border.setBorder(Border.THIN());** //***Error occured in the line***
       FastReportBuilder drb1 = new FastReportBuilder();
       if(tab_type.equals("textarea")){
           int max_width = 0;
                    Statement st5 = connection.createStatement();
            ResultSet rs5 = st5.executeQuery("select column_name from information_schema.columns where table_name='"+tab_name+"'");
            while(rs5.next()){
                                System.out.println("inside while textarea");
                    if(max_width>=1){
                      drb1.addColumn("",rs5.getString(1).toString(),String.class.getName(),25);  
                    }
                    max_width++;
            }
             drb1.setUseFullPageWidth(true); 
       }
       if(tab_type.equals("table")){

            int max_width =0;
                    Statement st5 = connection.createStatement();
                ResultSet rs5 = st5.executeQuery("select column_name from information_schema.columns where table_name='"+tab_name+"'");
                while(rs5.next()){
                    System.out.println("inside while");
                       **drb1.addColumn(rs5.getString(1).toString(),rs5.getString(1).toString(),String.class.getName(),25)addStyle(tbl_border);**

                        max_width++;
                }
           if(max_width>2){
                drb1.setUseFullPageWidth(true); 
           }
       }

//           for(int sg=0;sg<header.size();sg++){
//             drb1.addColumn(header.get(sg).toString(),header.get(sg).toString(),String.class.getName(),25);
//           }

             drb1.setSubtitle(tit_name);
             drb1.setTitle("");

                 DynamicReport dr1 =   drb1.build();

             return dr1;
   } 
```

在上面的代码中，我设置了一个条件，如果表格我需要像表格一样的精确边框，我该如何实现它

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T13:57:59.513

它使用Dynamicjasper3.0.6的冲突是因为它没有正确包含边框类，当你在同一个项目中使用Dynamicjasper 4.0.3和3.0.6时，它只考虑3.0.6而不是4.0.3。所以删除 3.0.6 并使用 4.0.3 它肯定可以工作。

# javascript - HTML + JavaScript Date Setters funciton setting differnt date other than the input

> ID：16080694
> 
> 赞同：0
> 
> 时间：2013-04-18T10:38:35.757
> 
> 标签：javascript

Consider the following code of HTML & JavaScript

```
<!DOCTYPE html>
<html>
<body>
    <script>
        var str = "20990229";
        var showDate = new Date();
        showDate.setFullYear(str.substring(0, 4))
        showDate.setMonth(parseInt(str.substring(4, 6), 10) - 1)
        showDate.setDate(str.substring(6, 8))
        document.write(showDate)
    </script>
</body>
</html> 
```

**Output**:

> Fri Mar 01 2099 16:02:52 GMT+0530 (India Standard Time)

The output is not the correct one, where I am going wrong is not known.

Could anyone tell me where I am going wrong?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:42:37.197

输出与应有的完全一样：

```
var str = "20990229";
var showDate = new Date();

showDate.setFullYear(str.substring(0, 4)); // Set year to 2099
showDate.setMonth(parseInt(str.substring(4, 6), 10) - 1); // Set month to 1
showDate.setDate(str.substring(6, 8)); // Set date to 29 
```

那将是 2099 年 2 月 29 日。（请注意，月份从 0 开始索引）。

由于 2099 年不是闰年，因此没有 2 月 29 日，日期对应于 3 月 1 日。

如果您将年份更改为闰年（例如 2096 年），那么输出将与您预期的一样。这是[一个例子](http://jsfiddle.net/jamesallardice/9EtCW/)。

# php - Changing an output for a link in php

> ID：16080695
> 
> 赞同：-1
> 
> 时间：2013-04-18T10:38:35.887
> 
> 标签：php, login, href, logout

I'm trying to get a link in my menu to change once the user logged in. Meaning that "My Page" is displayed, rather than "Log In". Now, the user can log in and log out. Yet the name/link will not change directly after the user logged in.

My code for the menu: (I use include('menu.php' on all sites. For flexibility of the code)

```
<div id="menu">
<ul>
    <li><a href="index.php">Home</a></li>
    <li><?php echo $mypage?></li>
    <li><a href="community.html">Community</a></li>
    <li><a href="media.html">Media</a></li>
    <li><a href="contact.html">Contact</a></li>
</ul> 
```

My code for the config.php:

```
<?php

session_start();

$mypage;

if(isset($_SESSION['name'])) {
$mypage = '<a href="mypage.php">My Page</a>';
}
else {
    $mypage = '<a href="login.php">Log In</a>';
}
?> 
```

Only when the user clicks on another menu the $mypage variable will update. I've tried refreshing the page with a header() function. But this only lead into a redirection-loop.

It would be great if someone could help me out.

**EDIT**

To clear some things up:

For a better understanding of the website: [http://www.askmephilosophy.camilstaps.nl/](http://askmephilosophy.camilstaps.nl/) (The only thing that can be viewed (so far) are the 'Welcome' and 'Log In'. After a login you will be redirected to a mypage.php site. (this can also be accessed by just typing it after the name. */mypage.php)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:50:22.030

因此，如果我理解：1/您登录 2/您已登录但名称保持“登录”3/您刷新页面然后菜单更改为“我的页面”

我认为您在执行此**操作后设置了 $_SESSION['name']**

```
if(isset($_SESSION['name'])) {
    $mypage = '<a href="mypage.php">My Page</a>';
}
else {
    $mypage = '<a href="login.php">Log In</a>';
} 
```

尝试这样的事情：

```
if (isset ($_POST['name']) && isset ($_POST['password']) && ($_POST['password'] == $hash)) {
    $_SESSION['name'] = $_POST['name'];
}
if(isset($_SESSION['name'])) {
    $mypage = '<a href="mypage.php">My Page</a>';
} else {
    $mypage = '<a href="login.php">Log In</a>';
} 
```

# android - change application visibility according to user's choice in android

> ID：16080700
> 
> 赞同：-6
> 
> 时间：2013-04-18T10:38:43.377
> 
> 标签：android

Hi I am developing an application to show/hide application according to user's choice.In my application, it will display all the applications installed on the device and there is check boxes for all the application listing . If the user select a Check box then that application will not show to the menu if already hidden then it will show, when the user presses the OK button. Is there any way to show/hide the application from android device.Can anybody tell me a way to solve this problem.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:58:15.627

是的，只需创建您自己的启动器/主屏幕活动。Android 非常适合创建这种东西。

参考这个问题：

[如何为 Android 创建自定义主屏幕替换应用程序？](https://stackoverflow.com/questions/3666771/how-can-i-create-a-custom-home-screen-replacement-application-for-android)

# javascript - What is the difference between writing jquery.fn.colorbox and jQuery.colorbox

> ID：16080701
> 
> 赞同：3
> 
> 时间：2013-04-18T10:38:43.693
> 
> 标签：javascript, jquery, colorbox

When i write `jQuery.fn.colorbox()` it gives me same results as `jQuery.colorbox();` I want to understand the significance of `fn` in jQuery.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:44:50.103

上次我查看时，fn 是 jquery 中原型的别名。

看看[这个 stackexchange 答案](https://stackoverflow.com/questions/310870/use-of-prototype-vs-this-in-javascript)，它可能会让你更清楚。

# eclipse - 当我在 Eclipse 中运行单元测试时，Maven 构建运行

> ID：16080706
> 
> 赞同：1
> 
> 时间：2013-04-18T10:39:01.150
> 
> 标签：eclipse, maven-3, junit4, m2eclipse

我有一个 Maven 项目。我正在尝试在 Maven 命令行中运行单个测试，并且效果很好。我正在尝试在 Eclipse 中调试该测试并使用 -Dmaven.surefire.debug 选项并在端口 5005 上作为 maven 中的“远程应用程序”启动调试 - 参考[http://maven.apache.org/surefire/maven-surefire-插件/示例/debugging.html](http://maven.apache.org/surefire/maven-surefire-plugin/examples/debugging.html)

现在，当我这样做时 - 作为命令行中我的 maven 命令的一部分，所有类/测试类，spring config 都会被编译并放在正确的位置。但是，当我在测试暂停以侦听端口 5005 时从 eclipse 运行调试时 - 我看到 eclipse 正在重新运行一个 maven 构建并且所有类都被重新编译。在执行此操作时，它不会获取测试所需的所有配置文件，因为默认情况下并非所有配置文件都处于活动状态。我可以通过 Project->Properties->Maven 解决这个问题，并在那里设置活动的 Maven 配置文件。

如果当我尝试运行已经存在编译类的测试时，为什么 eclipse 试图进行 maven 构建，我正在寻找什么？这是 eclipse maven 插件 m2e 的默认行为吗？并且可以关闭它 - 以便它只执行类而不是尝试 maven 构建？

# php - 使用 php/mysql 在数据库中保存文件 mime 类型

> ID：16080710
> 
> 赞同：1
> 
> 时间：2013-04-18T10:39:04.760
> 
> 标签：php, mysql, mime-types

我用标题和简短描述将文件路径保存在数据库中

```
id   file   title   desctiption   date 
```

在这里，我想按文件类型过滤表
我应该使用什么最好的方法？

**方法1：**将文件扩展名保存在新字段中
**方法2：**将文件mime类型保存在新字段中
**方法3：**使用mysql在当前文件字段中的文件名中搜索为“%.jpg”

我认为 wordpress 使用方法 2，它将附件类型存储在帖子表中
，谢谢，抱歉英语不好

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:43:18.220

我建议您使用 MIME 类型。它们对于已知类型是唯一的，并且由于您将它们放在不同的列中，因此数据库可以有效地处理 MIME 类型的查询。字符串比较查询`like *.jpg`可能会更慢。

如果您的用例涉及查询文件扩展名，我建议您使用方法 1。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-30T03:24:47.303

我建议请创建新字段，如“扩展”或其他，您只需按扩展搜索，如果您想保留您的结构表，我建议使用`SUBSTRING_INDEX(file,'.',-1)`，这比通配符更好

# bash - Execute multiple commands in a bash script sequentially and fail if at least one of them fails

> ID：16080716
> 
> 赞同：49
> 
> 时间：2013-04-18T10:39:18.870
> 
> 标签：bash

I have a bash script that I use to execute multiple commands in sequence and I need to return non-zero exit code if at least one command in the sequence returns non-zero exit code. I know there is a `wait` command for that but I'm not sure I understand how to use it.

**UPD** The script looks like this:

```
#!/bin/bash
command1
command2
command3 
```

All the commands run in foreground. All the commands need to run regardless of which exit status the previous command returned (so it must not behave as "exit on first error"). Basically I need to gather all the exit statuses and return global exit status accordingly.

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2013-04-18T11:05:44.267

去做就对了：

```
EXIT_STATUS=0
command1 || EXIT_STATUS=$?
command2 || EXIT_STATUS=$?
command3 || EXIT_STATUS=$?
exit $EXIT_STATUS 
```

如果多个命令失败，不确定应该返回哪种状态。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-04-18T10:46:23.970

如果按顺序表示管道，那么您需要`pipefail`在脚本中设置`set -o pipefail`. 来自`man bash`：

> 管道的返回状态是最后一个命令的退出状态，除非启用了 pipefail 选项。如果启用了 pipefail，则管道的返回状态是最后一个（最右边）以非零状态退出的命令的值，如果所有命令都成功退出，则返回零。如果保留字！在管道之前，该管道的退出状态是上述退出状态的逻辑否定。shell 在返回值之前等待管道中的所有命令终止。

如果您只是指顺序命令，那么只需检查每个命令的退出状态，如果退出状态不为零，则设置一个标志。让您的脚本返回标志的值，例如：

```
#!/bin/bash

EXIT=0
grep -q A <<< 'ABC' || EXIT=$?  # Will exit with 0
grep -q a <<< 'ABC' || EXIT=$?  # Will exit with 1
grep -q A <<< 'ABC' || EXIT=$?  # Will exit with 0
echo $EXIT                      # Will print 1
exit $EXIT                      # Exit status of script will be 1 
```

这使用逻辑运算符 OR`||`仅`EXIT`在命令失败时设置。如果多个命令失败，脚本将返回最后一个失败命令的退出状态。

如果这些命令没有在后台运行，那么`wait`这里不相关。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-18T11:48:16.213

如果您想知道哪个命令失败，但不一定知道它的返回码，您可以使用：

```
#!/bin/bash

rc=0;
counter=0;

command1 || let "rc += 1 << $counter"; let counter+=1;
command2 || let "rc += 1 << $counter"; let counter+=1;
command3 || let "rc += 1 << $counter"; let counter+=1;

exit $rc 
```

这在 bash 中使用位移位来设置对应于哪个命令失败的位。

因此，如果第一个命令失败，您将获得返回码 1 (=2^0)，如果第三个命令失败，您将获得返回码 8 (=2^3)，如果第一个和第三个命令都失败你会得到 9 作为返回码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-10-01T13:54:15.687

如果您想知道哪个命令失败：

```
#!/bin/bash
EXITCODE_RESULT=0
command1
EXIT_CODE_1=$?
command2
EXIT_CODE_2=$?
command3
EXIT_CODE_3=$?

for i in ${!EXIT_CODE_*}
do
    # check if the values of the EXIT_CODE vars contain 1
    EXITCODE_RESULT=$(($EXITCODE_RESULT || ${!i}))
    if [ ${!i} -ne 0 ]
    then
        var_fail+="'$i' "

    else
        var_succ+="'$i' "
    fi
done 
```

在 $var_fail 你得到一个失败的 EXIT_CODE 变量的列表，在 $var_succ 一个成功的列表

# cocoa - Cocoa - 带有子视图的约束

> ID：16080720
> 
> 赞同：0
> 
> 时间：2013-04-18T10:39:31.627
> 
> 标签：cocoa, nslayoutconstraint

我有两个 NSButton (`button1`和`button2`)，它们作为子视图添加到 NSView ( `buttonView1`, `buttonView2`)。`buttonView1`并被`buttonView2`添加到更大的 NSView ( `menuBarView`) 中。

所以设置看起来像：

![在此处输入图像描述](https://i.stack.imgur.com/sFj7i.png)

我试图通过以下方式做到这一点：

`button1`在和 它之间添加约束`buttonView1`。但是当我尝试将`buttonView1`&添加`buttonView2`到`menuBarView`.

如何使用视觉格式对约束进行编码来实现这一点？

# python - Special characters in countVectorizer Scikit-learn

> ID：16080726
> 
> 赞同：6
> 
> 时间：2013-04-18T10:39:46.917
> 
> 标签：python, machine-learning, scikit-learn

Consider this runnable example:

```
#coding: utf-8
from sklearn.feature_extraction.text import CountVectorizer

vectorizer = CountVectorizer()
corpus = ['öåa hej ho' 'åter aba na', 'äs äp äl']
x = vectorizer.fit_transform(corpus)
l =  vectorizer.get_feature_names()

for u in l:
        print u 
```

The output will be

```
aba
hej
ho
na
ter 
```

Why is the åäö removed? Note that the vectorizer strip_accents=None is default. I would be really grateful if you could help me with this.

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-18T12:37:32.667

这是一种有意降低维度的方法，同时使矢量化器能够容忍作者并不总是与使用重音字符一致的输入。

如果您想禁用该功能，只需按照[此类文档中的](http://scikit-learn.org/dev/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html)说明传递`strip_accents=None`给。`CountVectorizer`

```
>>> from sklearn.feature_extraction.text import CountVectorizer
>>> CountVectorizer(strip_accents='ascii').build_analyzer()(u'\xe9t\xe9')
[u'ete']
>>> CountVectorizer(strip_accents=False).build_analyzer()(u'\xe9t\xe9')
[u'\xe9t\xe9']
>>> CountVectorizer(strip_accents=None).build_analyzer()(u'\xe9t\xe9')
[u'\xe9t\xe9'] 
```

# c++ - Traversing boost::month_iterators using ranges

> ID：16080729
> 
> 赞同：0
> 
> 时间：2013-04-18T10:39:59.700
> 
> 标签：c++, date, boost, c++11, iterator

I'm trying to come up with an idomatic way of writing this

```
boost::gregorian::month_iterator start(boost::gregorian::date(1901,1,1),1);
boost::gregorian::date end(2000,12,31);
int i = 0;
while(start <= end) {
    boost::gregorian::gregorian_calendar::day_of_week_type x = (*start).day_of_week();
if(x==0)
      ++i;
} 
```

This is fine, but I wondered if there was a way of writing it like

```
boost::gregorian::month_iterator start(boost::gregorian::date(1901,1,1),1);
boost::gregorian::month_iterator end(boost::gregorian::date(2000,12,31));

const int i = std::count_if(start,end,[](boost::gregorian::month_iterator& start) {
    boost::gregorian::gregorian_calendar::day_of_week_type x = (*start).day_of_week();
    return (x==0);
}); 
```

Same result, but I think it's prettier code, it's more like a functional approach (which I like) and the intention of what I'm trying to achieve is clearer. I have a feeling I have to use any_range<> but I'm not really sure how in this case as the month_iterator doesn't seem to have all the normal semantics of forward iterators

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:48:38.513

没有简单的方法可以做到这一点。首先，您应该`std::iterator_traits`像这样专门化

```
namespace std {

template<>
struct iterator_traits<boost::gregorian::month_iterator>
{
   typedef ptrdiff_t difference_type;
   typedef boost::gregorian::month_iterator value_type;
   typedef boost::gregorian::month_iterator& reference;
   typedef boost::gregorian::month_iterator* pointer;
};

} 
```

其次，您不能使用 any `boost::range`，因为没有`operator ==`for 两个迭代器并且没有`operator * const`. 因此，您应该编写自己的类，可能派生自`boost::iterator_adaptor`，但是，我认为，这个迭代器根本不是为这种用途而创建的。

我正在写一个小例子，这不是有效的，但它可以工作并且没有过于复杂。

```
#include <boost/range.hpp>
#include <boost/range/any_range.hpp>
#include <boost/date_time/gregorian/gregorian.hpp>
#include <boost/shared_ptr.hpp>

#include <vector>

namespace std {

template<>
struct iterator_traits<boost::gregorian::month_iterator>
{
   typedef ptrdiff_t difference_type;
   typedef boost::gregorian::month_iterator value_type;
   typedef boost::gregorian::month_iterator& reference;
   typedef boost::gregorian::month_iterator* pointer;
};

}

class month_iterator : public boost::iterator_adaptor
<
   month_iterator,
   boost::gregorian::month_iterator*,
   boost::gregorian::month_iterator::value_type,
   boost::bidirectional_traversal_tag,
   boost::gregorian::month_iterator::value_type&
>
{
   friend class boost::iterator_core_access;
public:
   month_iterator() : m_it(boost::gregorian::date(boost::gregorian::not_a_date_time)) {}
   explicit month_iterator(const boost::gregorian::month_iterator& pos) :
      m_it(pos)
   {
      receive_value();
   }
   reference dereference() const
   {
      return *value;
   }
   bool equal(const month_iterator& rhs) const
   {
      return *value >= *rhs.value;
   }
   void increment()
   {
      ++m_it;
      *this = month_iterator(m_it);
   }
private:
   void receive_value()
   {
      value.reset(new value_type(*m_it));
   }
   boost::gregorian::month_iterator m_it;
   boost::shared_ptr<value_type> value;
};

int main()
{
   boost::gregorian::month_iterator start(boost::gregorian::date(1901,1,1),1);
   boost::gregorian::month_iterator end(boost::gregorian::date(2000,12,31));

   month_iterator p(start), e(end);
   const int result = std::count_if(p, e, [](const month_iterator::value_type& v)
   {
      return v.day_of_week() == 0;
   });
   std::cout << result << std::endl;
} 
```

# html - 固定大小的图像容器

> ID：16080733
> 
> 赞同：0
> 
> 时间：2013-04-18T10:40:21.577
> 
> 标签：html, css

我有以下图像容器：

```
<div class="images">
    <img src="<%=imageURL %>" />
</div> 
```

而css`.images`是：

```
.images{
display:inline-block;
width:100px;
height:133px;
overflow:hidden;
} 
```

我的图像尺寸不同，这就是为什么我使用上面的 div 胶囊使它们大小相同。但是在页面中，我的图像是这样的：

![在此处输入图像描述](https://i.stack.imgur.com/zi6OF.png)

它们的顶部没有对齐。我该如何纠正？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:42:09.697

添加`vertical-align:top`

```
.images{
    display:inline-block;
    width:100px;
    height:133px;
    overflow:hidden;
    vertical-align:top
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:44:03.037

使用浮动

```
.images{
       float:left;
       width:100px;
       height:133px;
       overflow:hidden;
      } 
```

# c# - 在 Windows Mobile 设备中捕获按键序列

> ID：16080734
> 
> 赞同：0
> 
> 时间：2013-04-18T10:40:26.490
> 
> 标签：c#, events, keypress, windows-mobile-6.5

我需要从 Windows Mobile 设备捕获按键序列以触发胁迫事件。如果我的应用程序是唯一运行的东西，我将使用基本表单事件处理程序来检查按键但是......因为应用程序可以启动浏览器并且还使用 SOTI，它也必须在主应用程序之外工作。

是否可以在 Windows Mobile 设备上创建可以发送 Web 服务消息（在通信中）的 TSR 应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T16:49:02.920

我已经编写了几个调用不同功能的键盘挂钩“应用程序”。您还可以使用它来进行套接字或 Web 服务调用：[http](http://www.hjgode.de/wp/?s=hook) ://www.hjgode.de/wp/?s=hook和[http://www.hjgode.de/wp/?s=keytoggle](http://www.hjgode.de/wp/?s=keytoggle)

```
 // The command below tells the OS that this EXE has an export function so we can use the global hook without a DLL
__declspec(dllexport) LRESULT CALLBACK g_LLKeyboardHookCallback(
   int nCode,      // The hook code
   WPARAM wParam,  // The window message (WM_KEYUP, WM_KEYDOWN, etc.)
   LPARAM lParam   // A pointer to a struct with information about the pressed key
)
{
    /*    typedef struct {
    DWORD vkCode;
    DWORD scanCode;
    DWORD flags;
    DWORD time;
    ULONG_PTR dwExtraInfo;
    } KBDLLHOOKSTRUCT, *PKBDLLHOOKSTRUCT;*/

    // Get out of hooks ASAP; no modal dialogs or CPU-intensive processes!
    // UI code really should be elsewhere, but this is just a test/prototype app
    // In my limited testing, HC_ACTION is the only value nCode is ever set to in CE
    static int iActOn = HC_ACTION;
    static bool isShifted=false;

#ifdef DEBUG
    static TCHAR str[MAX_PATH];
#endif

    PKBDLLHOOKSTRUCT pkbhData = (PKBDLLHOOKSTRUCT)lParam;
    //DWORD vKey;
    if (nCode == iActOn)
    {
    //only process unflagged keys
    if (pkbhData-&gt;flags != 0x00)
        return CallNextHookEx(g_hInstalledLLKBDhook, nCode, wParam, lParam);
    //check vkCode against forbidden key list
    if(pForbiddenKeyList!=NULL)
    {
        BOOL bForbidden=false;
        int j=0;
        do{
            if(pForbiddenKeyList[j]==(BYTE)pkbhData-&gt;vkCode)
            {
                bForbidden=true;
                DEBUGMSG(1, (L"suppressing forbidden key: 0x%0x\n",pkbhData-&gt;vkCode));
                continue;
            }
            j++;
        }while(!bForbidden &amp;&amp; pForbiddenKeyList[j]!=0x00);
        if(bForbidden){
            return true;
        }
    }

    SHORT sShifted = GetAsyncKeyState(VK_SHIFT);
    if((sShifted &amp; 0x800) == 0x800)
        isShifted = true;
    else
        isShifted = false;

    //check and toggle for Shft Key
    //do not process shift key
    if (pkbhData-&gt;vkCode == VK_SHIFT){
        DEBUGMSG(1, (L"Ignoring VK_SHIFT\n"));
        return CallNextHookEx(g_hInstalledLLKBDhook, nCode, wParam, lParam);
    }

    //################################################################
    //check if the actual key is a match key including the shift state
    if ((byte)pkbhData-&gt;vkCode == (byte)szVKeySeq[iMatched]){
        DEBUGMSG(1 , (L"==== char match\n"));
        if (bCharShiftSeq[iMatched] == isShifted){
            DEBUGMSG(1 , (L"==== shift match\n"));
        }
        else{
            DEBUGMSG(1 , (L"==== shift not match\n"));
        }
    }

    if( wParam == WM_KEYUP ){
        DEBUGMSG(1, (L"---&gt; szVKeySeq[iMatched] = 0x%02x\n", (byte)szVKeySeq[iMatched]));

        if ( ((byte)pkbhData-&gt;vkCode == (byte)szVKeySeq[iMatched]) &amp;&amp; (isShifted == bCharShiftSeq[iMatched]) ) {

            //the first match?
            if(iMatched==0){
                //start the timer and lit the LED
                LedOn(LEDid,1);
                tID=SetTimer(NULL, 0, matchTimeout, (TIMERPROC)Timer2Proc);
            }
            iMatched++;

            DEBUGMSG(1, (L"iMatched is now=%i\n", iMatched));
            //are all keys matched
            if (iMatched == iKeyCount){
                //show modeless dialog
                DEBUGMSG(1, (L"FULL MATCH, starting ...\n"));
                PostMessage(g_hWnd, WM_SHOWMYDIALOG, 0, 0);
                //reset match pos and stop timer
                DEBUGMSG(1, (L"FULL MATCH: Reset matching\n"));
                LedOn(LEDid,0);
                iMatched=0; //reset match pos
                KillTimer(NULL, tID);
                //return CallNextHookEx(g_hInstalledLLKBDhook, nCode, wParam, lParam);
            }
            //return -1; //do not forward key?
        }
        else
        {
            KillTimer(NULL, tID);
            LedOn(LEDid,0);
            iMatched=0; //reset match pos
            DEBUGMSG(1, (L"FULL MATCH missed. Reseting matching\n"));
        }
    } //if wParam == WM_KEY..
    }
    return CallNextHookEx(g_hInstalledLLKBDhook, nCode, wParam, lParam);
} 
```

寻找一个寻找键序列的钩子示例：[http ://code.google.com/p/keytoggleboot/source/browse/trunk/KeyToggleBoot/ReadMe.txt?spec=svn14&r=14](http://code.google.com/p/keytoggleboot/source/browse/trunk/KeyToggleBoot/ReadMe.txt?spec=svn14&r=14)

互联网上也有关于键盘挂钩的文章和帖子（即在 codeproject 上）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-08T14:40:54.403

我最近需要从手持设备获取密钥代码，我刚刚创建了一个带有 1 个文本框的空项目，包含以下[文件](http://www.hjgode.de/wp/2009/12/04/hooking-the-keyboard-message-queue-in-compact-framework-code/)并添加了这段代码：

```
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
        HookKeys x = new HookKeys();
        x.Start();
        x.HookEvent += new HookKeys.HookEventHandler(HookEvent);
    }

    private void HookEvent(HookEventArgs e, KeyBoardInfo keyBoardInfo)
    {
        textBox1.Text = "vkCode = " + keyBoardInfo.vkCode + Environment.NewLine + textBox1.Text;
    }
} 
```

为windows mobile 6.5专业人士工作

# java - 使用 ArrayBlockingQueue 和 mutex 的多线程代码中的疑点

> ID：16080736
> 
> 赞同：0
> 
> 时间：2013-04-18T10:40:32.663
> 
> 标签：java, multithreading, mutex, blockingqueue

我正在尝试编写多线程代码。但说真的，我不明白我可以从哪里开始。我的头也在敲。请帮我。

**我的任务是，**

1.  有一个长度为 1 的队列，称为`pending_tasks`，其中包含需要一些处理的任务。
2.  还有另一个长度为 1 的队列，称为`completed_tasks`，其中包含完成处理并准备交付的任务。

**我的实现思路，**

1.  首先制作两个阻塞队列，`pending_tasks`然后`completed_tasks`。
2.  一个线程（生产者）总是监听来自外部的任务，如果被放入`pending_tasks`.
3.  一个线程（消费者）始终准备好从中获取任务`pending_tasks`并开始处理，然后放入`completed_tasks`.
4.  然后又来了`pending_tasks`，每当有任务来的时候，就开始同样的处理。
5.  基本上，它是一个单一的生产者 - 单一的消费者问题。

**我的困惑，**

我知道它可以通过使用 ArrayBlockingQueue 和 Mutex 来编写代码。但我不明白我该如何开始。我对互斥锁有很好的理解，我从这个[链接](http://www.jguru.com/faq/view.jsp?EID=98786)中了解了互斥锁，并且对阻塞队列也有很好的理解，因为我在这个网站上阅读了很多问题。

能否请您给我一些实现指导，以便我可以编写这个多线程代码。

我已经为此编写了一些代码，但这并没有达到我任务的最终目标。

提前致谢。寻找您的友好答复。

**编辑编号 1**

请看我下面的代码。此代码工作正常，但此代码缺少一个功能。请帮我补充一下，提供一些指导。

**功能是，**

1.  当生产者线程在pending_task队列中放入一些值时，它会在那里等待一段时间。如果在那个时候消费者将结果提供给消费者，那么它就可以了。否则，它说超时，生产者获取另一个值并将其放入pending_task队列中，并且相同的过程开始。

**请帮助我添加上述功能。我认为我们必须在生产者线程和消费者线程之间进行通信，而线程通信是通过使用互斥体完成的（我认为）。请帮我实现同样的**

**我的代码，**

**多线程类**

```
package multithread;

import java.util.concurrent.ArrayBlockingQueue;
import java.util.concurrent.BlockingQueue;

public class MultiThread {

    public static BlockingQueue<Integer> pending_task;
    public static BlockingQueue<Integer> completed_task;

    public MultiThread(int length) {
        pending_task = new ArrayBlockingQueue<Integer>(length, true);
        completed_task = new ArrayBlockingQueue<Integer>(length, true);
    }
} 
```

**生产者类**

```
package multithread;

import java.util.logging.Level;
import java.util.logging.Logger;

public class Producer implements Runnable {

    @Override
    public void run() {
        for (int i = 0; i < 10; i++) {
            try {
                System.out.println("PRODUCER: Try to put value  " + i + "  in the pending queue");
                MultiThread.pending_task.put(i);
                System.out.println("PRODUCER: Successfully put value  " + i + "  in the pending queue, now its turn to consumer");
            } catch (InterruptedException ex) {
                Logger.getLogger(Producer.class.getName()).log(Level.SEVERE, null, ex);
            }
        }
    }
} 
```

**消费类**

```
package multithread;

import java.util.logging.Level;
import java.util.logging.Logger;

public class Consumer implements Runnable {

    @Override
    public void run() {
        for (int i = 0; i < 10; i++) {
            try {
                System.out.println("CONSUMER: Try to take value from the pending queue");
                int val = MultiThread.pending_task.take();
                System.out.println("CONSUMER:  Successfully take value, and that is   " + val);
                System.out.println("CONSUMER: Processing starts");
                Thread.sleep(1000);
                System.out.println("CONSUMER: Processing ends");
                System.out.println("CONSUMER: Try to put that  that value in  completed queue, and the value is   " + val);
                MultiThread.completed_task.put(val);
                System.out.println("CONSUMER: Successfully put into completed queue");

                //Serve this value to the corresponding user
            } catch (InterruptedException ex) {
                Logger.getLogger(Consumer.class.getName()).log(Level.SEVERE, null, ex);
            }

        }
    }
} 
```

**送货员班**

```
package multithread;

import java.util.logging.Level;
import java.util.logging.Logger;

public class DeliveryBoy implements Runnable {

    @Override
    public void run() {
        for (int i = 0; i < 10; i++) {
            try {
                System.out.println("DELIVERYBOY: Waiting for the value near completed queue");
                int val = MultiThread.completed_task.take();
                System.out.println("DELIVERYBOY:  Succesfully take value from completed queue and the vlue is  " + val);
                //Serve this value to the corresponding user
            } catch (InterruptedException ex) {
                Logger.getLogger(Consumer.class.getName()).log(Level.SEVERE, null, ex);
            }

        }
    }
} 
```

**测试班**

```
package multithread;

public class Test {

    public static void main(String[] args) {
        // TODO code application logic here
        MultiThread ml = new MultiThread(1);
        new Thread(new Producer()).start();
        new Thread(new Consumer()).start();
        new Thread(new DeliveryBoy()).start();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:45:04.660

从[ArrayBlockingQueue#put](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ArrayBlockingQueue.html#offer%28E%29)

> public void put(E e) 抛出 InterruptedException
> 
> 在此队列的尾部插入指定元素，**如果队列已满，则等待**空间变为可用**

从[ArrayBlockingQueue#take](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ArrayBlockingQueue.html#take%28%29)

> public E take() 抛出 InterruptedException
> 
> 从接口复制的描述： BlockingQueue 检索并删除此队列的头部，**如有必要，等待元素变为可用**。

所以你需要做的就是从你的线程中调用这些方法。
试试这个（研究 javadoc），当你有更具体的问题时，你可以再次询问。

# svn - 从 svn 1.7 中删除大量文件

> ID：16080738
> 
> 赞同：0
> 
> 时间：2013-04-18T10:40:36.553
> 
> 标签：svn

我使用的是 Windows 8 和 subversion 1.7 我不小心在 svn 控制下的文件夹中添加了一个文件夹，并且所有内容在 SmartSVN 中都标记为新的。我尝试恢复文件，但因为有大约 70,000 个文件，它只是挂起。即使我删除文件夹 SmartSVN 仍然认为它们存在

所以我知道有一个可以删除的根 .svn 文件夹，但我只想删除引用该文件夹的条目，而不是所有有效的颠覆引用。

实际上，这让我想知道为什么他们从每个文件夹都有一个 suversion 文件夹更改为只有一个文件夹，使用旧格式很容易解决这个问题。

# c# - Convert arabic"unicode" content html or xml to pdf using itextsharp

> ID：16080741
> 
> 赞同：2
> 
> 时间：2013-04-18T10:40:47.083
> 
> 标签：c#, asp.net-mvc-3, itextsharp

I am trying to create reports in my asp.net MVC3 application after a lot of search I found many blog posts talks about `ITextSharp` to convert my `Html/Razor` to `Pdf` I am trying to parse razor view to get PDf as follows

```
 public void Render(ViewContext viewContext, TextWriter writer)
    {
        var doc = new Document();

        // associate output with response stream
        var pdfWriter = PdfWriter.GetInstance(doc, viewContext.HttpContext.Response.OutputStream);
        pdfWriter.CloseStream = false;

        viewContext.HttpContext.Response.ContentType = "application/pdf";
        viewContext.HttpContext.Response.ContentEncoding = System.Text.Encoding.UTF8;

        // generate view into string
        var sb = new System.Text.StringBuilder();
        TextWriter tw = new System.IO.StringWriter(sb);
        _result.View.Render(viewContext, tw);
        var resultCache = sb.ToString();

        //Path to our font
        string arialuniTff = Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.Fonts), "ARIALUNI.TTF");
        //Register the font with iTextSharp
        iTextSharp.text.FontFactory.Register(arialuniTff);

        //Create a new stylesheet
        iTextSharp.text.html.simpleparser.StyleSheet ST = new iTextSharp.text.html.simpleparser.StyleSheet();
        //Set the default body font to our registered font's internal name
        ST.LoadTagStyle(HtmlTags.BODY, HtmlTags.FACE, "Arial Unicode MS");
        //Set the default encoding to support Unicode characters
        ST.LoadTagStyle(HtmlTags.BODY, HtmlTags.ENCODING, BaseFont.IDENTITY_H);

        //Parse our HTML using the stylesheet created above
        List<IElement> list = HTMLWorker.ParseToList(new StringReader(resultCache), ST);
        doc.Open();
        //Loop through each element, don't bother wrapping in P tags
        foreach (var element in list)
        {
            doc.Add(element);
        }

        doc.Close();
        pdfWriter.Close();
    } 
```

the result of that code is ![enter image description here](https://i.stack.imgur.com/CW7ml.png)

which is not correct, the arabic word should be "محمد". so what I need is to set document direction to be from right to left

**EDIT** Thanks to @Romulus

I made a little changes to his code i just replaced adding element to `PdfPCell` to looping on my Html and set some attributes

```
 //Loop through each element, don't bother wrapping in P tags
        foreach (var element in list)
        {
            //Create a cell and add text to it
            //PdfPCell text = new PdfPCell(new Phrase(element.ToString(), f));

            //Ensure that wrapping is on, otherwise Right to Left text will not display
            //text.NoWrap = false;

            //Add the cell to the table
            //table.AddCell(text);
            if (element is iTextSharp.text.pdf.PdfPTable)
            {
                table = (iTextSharp.text.pdf.PdfPTable)element;
                table.DefaultCell.NoWrap = false;
                table.RunDirection = PdfWriter.RUN_DIRECTION_RTL;
                foreach (PdfPRow row in table.Rows)
                {
                    foreach (PdfPCell cell in row.GetCells())
                    {
                        cell.RunDirection = PdfWriter.RUN_DIRECTION_RTL;
                        cell.NoWrap = false;
                    }
                }
            }

        } 
```

That's working for me now well Thanks :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:11:47.360

您需要使用支持 RunDirection 的容器元素，例如 ColumnText 或 PdfPCell，然后设置它们的 element.RunDirection = PdfWriter.RUN_DIRECTION_RTL

```
List<IElement> list = HTMLWorker.ParseToList(new StringReader(resultCache), ST);
doc.Open();

//Use a table so that we can set the text direction
PdfPTable table = new PdfPTable(1);
//Ensure that wrapping is on, otherwise Right to Left text will not display
table.DefaultCell.NoWrap = false;
table.RunDirection = PdfWriter.RUN_DIRECTION_RTL;

//Loop through each element, don't bother wrapping in P tags
foreach (var element in list)
{
    //Create a cell and add text to it
    PdfPCell text = new PdfPCell(new Phrase(element, font));

    //Ensure that wrapping is on, otherwise Right to Left text will not display
    text.NoWrap = false;

    //Add the cell to the table
    table.AddCell(text);
}
//Add the table to the document
document.Add(table);
doc.Close();
pdfWriter.Close(); 
```

如需其他参考，请查看此[示例](http://geekswithblogs.net/JaydPage/archive/2011/11/02/using-itextsharp-to-correctly-display-hebrew--arabic-text-right.aspx)。

# javascript - ActiveXObject("WScript.Shell"); 在 Firefox 中未定义？

> ID：16080744
> 
> 赞同：1
> 
> 时间：2013-04-18T10:40:49.210
> 
> 标签：javascript, firefox, activex

在这里，我尝试使用 ActiveXObject 调用系统计算器。在 IE 中它对我来说工作正常，但在 Firefox 中它不会出现。我收到未定义的错误。如何在 Firefox 中解决这个问题？

```
try{
    if(gBrowser == 'IE'){
        var shell = new ActiveXObject("WScript.Shell");  
        shell.Run("calc"); 
    }
    else{
        var shell = new ActiveXObject("WScript.Shell");  
        shell.Run("calc",1,true); 
    }
}
catch(e){
    if(gBrowser == 'IE'){
        alert(e.description);
    }
    else{
        alert(e.description);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:42:34.857

你不能。ActiveX是微软独有的专有技术，IE支持，Firefox不支持`ActiveXObject`，也无法访问shell对象。
您可以在 FF 中创建 COM 组件，但它需要一个插件和一定的努力。在这种情况下可能不是一个解决方案。

由于多种原因，Firefox 不支持 ActiveX 技术。

*   ActiveX 仅在 Windows 操作系统上可用，因此需要它的网页无法在 Linux 或 Mac 上运行。
*   ActiveX 与 Windows 操作系统的集成使其成为恶意软件的目标。

# oracle11g - Oracle ALL_TABLES.LOGGING 澄清

> ID：16080745
> 
> 赞同：3
> 
> 时间：2013-04-18T10:40:51.960
> 
> 标签：oracle11g

我查询了 sys.all_tables 的 user_tables 视图，看到一个名为 LOGGING 的列，它设置为 YES 或 NO。这是一个 Oracle 11g 数据库。我对Oracle数据库的细节不太熟悉。

我只是想找出那个参数的作用。我们在谈论什么样的日志记录？我有兴趣了解此参数与基于 Oracle 的应用程序中通常可用的 CREATED 和 LAST_MODIFIED 字段之间是否存在任何联系。

此日志记录参数是否还启用记录数据更改（插入、更新、删除），包括更改的字段的旧值和新值？

感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:28:48.220

有点。该文档因此[描述了该列](http://docs.oracle.com/cd/E11882_01/server.112/e25513/statviews_2117.htm#REFRN20286)：

> 指示是否记录对表的更改；分区表为 NULL

与[CREATE TABLE 语句](http://docs.oracle.com/cd/E11882_01/server.112/e26088/statements_7002.htm#SQLRF01402)中的 LOGGING 子句有关：

> 指定由于约束、分区或 LOB 存储特性而需要的表和任何索引的创建是否将记录在重做日志文件 (LOGGING) 中或不 (NOLOGGING)。

这是[单独记录](http://docs.oracle.com/cd/E11882_01/server.112/e26088/clauses005.htm#i999782)的，以及更多信息。简单地说，这表明是否正在记录对表所做的更改，以便在发生实例故障时可以恢复它们。不是这样您就可以参考更改；您必须为此使用触发器或[物化视图](http://docs.oracle.com/cd/E11882_01/server.112/e25789/schemaob.htm#CNCPT411)。

# c# - Coordinate System in C#

> ID：16080748
> 
> 赞同：3
> 
> 时间：2013-04-18T10:41:24.903
> 
> 标签：c#, coordinate-systems

I'm trying to make a coordinate system with some features in C#. I never worked with C# but think it should be similar to other languages.

I'm not sure which element is suitable for that (Panel,PictureBox,....).

The requirements are:

*   I want zoom in and out
*   move the left/right/down/up there
*   I get values from a microcontroller and want paint them in real time

I'm using Visual Studio 2012. I dont want use other dll/libraries or programms from other people.

Thx

PS:Maybe a simple tutorial would be also great.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:43:45.667

`Canvas`我在 WPF 中使用简单的方法做了同样的事情。因此，我建议您将平台更改为 WPF。放大/缩小行为可以使用 a 来完成，`ScaleTransform`并且向左/向右移动/...可以使用 TranslateTransform 来完成。不需要任何库，您可以使用几何类型 int wpf 例如`Path`. 并将`RenderTransform`每条路径的属性设置为这些变换函数。

# amazon-web-services - How do I run chef recipes after app server is fired up

> ID：16080752
> 
> 赞同：3
> 
> 时间：2013-04-18T10:41:34.813
> 
> 标签：amazon-web-services, chef-infra, composer-php, chef-recipe, chef-solo

Using Amazons OpsWorks

I'm able to get a PHP App Server to get initialised, it downloads our project from git and sets it up, I've got a custom recipe being run on `Setup` that works and downloads `composer`, but this gets run before the git repository is downloaded, so too early to try and change permissions.

I've currently got a recipe in `Deploy` that changes permissions on some files that were created as part of downloading our git project, however this recipe doesn't seem to get fired when setting up a new instance, I can only run it by manually deploying an app.

How can I have a recipe run after the git project has been downloaded by chef, when an instance is created (so when the site auto scales and a new instance is fired up, the recipe is run to set file permissions correctly)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:24:36.570

由于 opsworks 目前处于测试阶段，因此仍然存在一些问题，因此部署存在问题。显然，在初始化新的 php 实例时不会运行自定义部署（不确定其他的，因为我只使用了 php）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-15T00:39:12.843

我们已经解决了这个问题。自定义部署配方现在在实例启动时运行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-19T23:09:51.400

今天在 OpsWorks 中的“设置”事件意味着：OpsWorks 设置厨师食谱，客户设置厨师食谱，OpsWorks 部署厨师食谱

我们计划对此进行更改，以便“设置”事件意味着：OpsWorks 设置厨师食谱、客户设置厨师食谱、OpsWorks 部署厨师食谱、客户部署厨师食谱

# javascript - Maximum conditions inside if in javascript

> ID：16080753
> 
> 赞同：2
> 
> 时间：2013-04-18T10:41:53.213
> 
> 标签：javascript, if-statement

Is there any maximum limit of conditions for `If` in Javascript? I am using following method to detect bombs in division "b". But it skips more than 3 or 4 conditions and hence less bombcount than the actual count.

The following function triggers as soon as I click on `div b` where `b = some number` . It has a Kwhere I check for bomb in every cell and if the cell with the bomb satisfies the position criterion it increases bombcount by 1.

```
 var i = 1;
    var p1 = b-1;
    var p2 = b+1;
    var p3 = b+6;
    var p4 = b-6;
    var p5 = b-5;
    var p6 = b+5;
    var p7 = b-7;
    var p8 = b+7;
    var bombcount = 0;

    while(i<37)
    {
        var check = document.getElementById(i).value;
        if (check == "explode" && b>6 && b<31) {
            if(i==p1 || i==p2 || i==p3 || i==p4 ||
               i==p5 || i==p6 || i==p7 || i==p8) {

               bombcount++
            };
        }
        i++;
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:48:54.963

使用数组 for`p`和 indexOf 检查是否`i`在数组中：

```
var p = [b - 1, b + 1, b + 6, b - 6, b + 5, b - 5, b + 7, b - 7];
if (p.indexOf(i) !== -1) {
    bombcount++;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-18T10:45:44.980

`if-else`不，语句的数量没有限制，无论是一个接一个还是嵌套的 if-else 循环。此外，在 if 语句下可以拥有的条件数量没有限制。

但是，最好`switch`在这些情况下使用。它提高了可读性和性能。

有关开关语法，请参阅此 [https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/switch](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/switch)

要在一系列值上使用 switch，请参阅上一篇文章 [Switch statement for greater-than/less-than](https://stackoverflow.com/questions/6665997/switch-statement-for-greater-than-less-than)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T10:46:55.440

没有限制。作为提示，您最好在`switch`以下情况下使用和失败：

```
 switch (i)  {
     case p1:
     case p2:
     case p3:
             // your logic
             break;

 } 
```

[https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/switch](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/switch)

# python - filtering lists of lists python, how to create final list?

> ID：16080754
> 
> 赞同：2
> 
> 时间：2013-04-18T10:41:53.330
> 
> 标签：python, list

I have code that produces a data struicture that looks like this:

```
{'AttributeId': '4192',
 'AttributeList': '',
 'ClassId': '1014 (AP)',
 'InstanceId': '0',
 'MessageType': '81 (GetAttributesResponse)',
 'ObjectInstance': '',
 'Protocol': 'BSMIS Rx',
 'RDN': '',
 'TransactionId': '66',
 'Sequences': [[],
               [1,'2013-02-26T15:01:11Z'],
               [],
               [10564,13,388,0,-321,83,'272','05',67,67,708,896,31,128,-12,-109,0,-20,-111,-1,-1,0],
               [10564,13,108,0,-11,83,'272','05',67,67,708,1796,31,128,-12,-109,0,-20,-111,-1,-1,0],
               [10589,16,388,0,-15,79,'272','05',67,67,708,8680,31,125,-16,-110,0,-20,-111,-1,-1,0],
               [10589,15,108,0,-16,81,'272','05',67,67,708,8105,31,126,-14,-109,0,-20,-111,-1,-1,0],
               [10637,40,233,0,-11,89,'272','03',30052,1,5,54013,33,103,-6,-76,1,-20,-111,-1,-1,0],
               [10662,46,234,0,-15,85,'272','03',30052,1,5,54016,33,97,-10,-74,1,-20,-111,-1,-1,0],
               [10712,51,12,0,-24,91,'272','01',4013,254,200,2973,3,62,-4,-63,0,-20,-111,-1,-1,0],
               [10737,15,224,0,-16,82,'272','01',3020,21,21,40770,33,128,-13,-108,0,-20,-111,-1,-1,0],
               [10762,14,450,0,-7,78,'272','01',3020,21,21,53215,29,125,-17,-113,0,-20,-111,-1,-1,0],
               [10762,15,224,0,-7,85,'272','01',3020,21,21,50770,33,128,-10,-105,0,-20,-111,-1,-1,0],
               [10762,14,124,0,-7,78,'272','01',3020,10,10,56880,32,128,-17,-113,0,-20,-111,-1,-1,0],
               [10812,11,135,0,-14,81,'272','02',36002,1,11,43159,31,130,-14,-113,1,-20,-111,-1,-1,0],
               [10837,42,23,0,-9,89,'272','02',36002,1,11,53529,31,99,-6,-74,1,-20,-111,-1,-1,0,54],
               [13,'2013-02-26T15:02:09Z'],
               [],
               [2,12,7,0,9,70,'272','02',20003,0,0,15535,0,0,0,0,1,100,100,-1,-1,0],
               [5,15,44,0,-205,77,'272','02',20003,0,0,15632,0,0,0,0,1,100,100,-1,-1,0],
               [7,25,9,0,0,84,'272','02',20002,0,0,50883,0,0,0,0,1,100,100,-1,-1,0]]
} 
```

I then filtered this down to make a list of relevant values, I only wanted the first 2 elements of Sequences if the length was >=22\. I did this as follows:

```
 len22seqs = filter(lambda s: len(s)>=22, data['Sequences'])
 UARFCNRSSI = []
 for i in range(len(len22seqs)):
     UARFCNRSSI.append([len22seqs[i][0], len22seqs[i][1]]) 
```

An example of the filtered list is:

```
 [[10564, 15], [10564, 13], [10589, 18], [10637, 39], [10662, 38], [10712, 50], [10737, 15], [10762, 14], [10787, 9], [10812, 12], [10837, 45], [3, 17], [7, 21], [46, 26], [48, 12], [49, 24], [64, 14], [66, 17], [976, 27], [981, 22], [982, 22], [983, 17], [985, 13], [517, 9], [521, 15], [525, 11], [526, 13], [528, 14], [698, 14], [788, 24], [792, 19]] 
```

However I now note that I need a third element in each of these sub-lists. That is this:

```
[1,'2013-02-26T15:01:11Z'], 
```

I need the first element of every list with length of 2 to be appended to this filtered list as a third element, for the elements that follow. But when there is a new list with length 2 then I need that new value to be appended to the subsequent entries.

So my final list example could look like, note the change to 13 for the third element upon finding another list with length 2:

```
[[10564, 15, 1], [10564, 13, 1], [10589, 18, 1], [10637, 39, 1], [10662, 38, 1], [10837, 45, 1], [3, 17, 13], [7, 21, 13], [46, 26, 13], etc] 
```

How do I do this? Do i have to filter twice with len >=22 and len = 2, and a separate filter for just len >=22 as I wouldn't want to append element 0 or 1 to my final list for the lists with length 2.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:48:32.617

我会尽量让它可读：

```
UARFCNRSSI = []
x = None        # future "third element"; please choose a better name
for item in data["Sequences"]:
   if len(item) == 2:
       x = item[0]
   elif len(item) >= 22:
       UARFCNRSSI.append([item[0], item[1], x]) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-18T10:50:39.877

我会使用生成器来过滤您的数据：

```
def filterdata(sequences):
    add = []
    for item in sequences:        
        if len(item) == 2:
            add = [item[0]]
        elif len(item) >= 22:
            yield [item[0], item[1]] + add 
```

你可以像访问它`data = list(filterdata(data['Sequences']))`

# symfony - 阻止 Symfony 2 配置处理器添加空数组？

> ID：16080756
> 
> 赞同：3
> 
> 时间：2013-04-18T10:41:59.593
> 
> 标签：symfony, symfony-2.1

使用以下配置树：

```
$rootNode
    ->fixXmlConfig('parameter')
    ->children()
        ->arrayNode('parameters')
            ->useAttributeAsKey('name')
            ->prototype('array')
                ->children()
                    ->scalarNode('type')->end()
                    ->scalarNode('value')->end()
                ->end()
            ->end()
        ->end()
    ->end(); 
```

...即使我没有指定`parameters`密钥，Symfony 也会添加一个空数组：

```
$config = $processor->processConfiguration($configuration, array());
var_dump($config); // Output is array('parameters' => array()) 
```

`parameters`但如果没有参数，我希望密钥未设置、不存在。

我试过删除 中的键（如果为空）`beforeNormalization`，但它不起作用：

```
$rootNode
    ->beforeNormalization()
        ->always(function ($v) {
            if(empty($v['parameters'])) {
                unset($v['parameters']);
            }

            return $v;
        }) 
```

似乎对于一个空数组，之前的规范化回调永远不会执行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-26T13:48:32.310

在我看来，您应该只使用 treeBuilder NodeDefinition API 来表示如果未设置它应该为 null：

```
$rootNode
    ->fixXmlConfig('parameter')
    ->children()
        ->arrayNode('parameters')
            ->useAttributeAsKey('name')
            ->prototype('array')
                ->children()
                    ->scalarNode('type')->end()
                    ->scalarNode('value')->end()
                ->end()
            ->end()
                ->defaultNull() /////// defaults to null OR
                ->setAddIfNotSet(false) 
        ->end()

    ->end(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-20T23:15:55.680

数组节点将确保配置键的规范化值将始终是数组而不是其他任何内容，即使没有提供任何内容（在这种情况下，您会得到一个空数组）。

我认为，与其尝试在配置处理器的返回结果中删除此键，不如在处理完成后处理此配置项（始终为数组）更有意义。例如，如果它为空，您可以取消设置它。

```
$config = $processor->processConfiguration($configuration, array());
if(empty($config['parameters'])) {
    unset($config['parameters']);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-25T08:34:53.460

Gremo，你几乎成功了。你试过了`beforeNormalization`，但是`parameters`key 是标准化的结果，所以它在标准化之后出现。所以我们应该使用一些终结例程，例如：

```
$rootNode->validate()
    ->always(function($val) {
        if (empty($val['parameters'])) {
            unset($val['parameters']);
        }

        return $val;})
    ->end() 
```

# .net - 通过网络发送数据时出错？

> ID：16080761
> 
> 赞同：-2
> 
> 时间：2013-04-18T10:42:16.500
> 
> 标签：.net, vb.net, sockets, networking, network-programming

我制作了一个小程序，允许用户从任何明显有互联网连接的计算机远程控制他们的家用计算机，但是每当我尝试向我的笔记本电脑发送测试命令时，我都会收到这个错误......

> System.ArgumentNullException：值不能为空。
> 
> 参数名称：缓冲区
> 
> 在 System.Net.Sockets.NetworkStream.Read（字节 [] 缓冲区，Int32 偏移量，Int32 大小）
> 
> 在 C:\Users\Samuel\documents\visual studio\2012\Projects\svchost\svchost\Form1.vb:line 40 中的 svchost.Form1.accept_Client()

这是我的代码...

```
Imports STE

Public Class Form1 'PS, client_info is a rich text box...

Private serverListener As New Net.Sockets.TcpListener(9653) 'list for incoming connections
Private serverSender As New Net.Sockets.TcpClient 'send data back to client
Private byteFromClient() As Byte 'Allows max of 1024 characters from client.
Private byteFromServer() As Byte 'Allows max of 1024 characters from server.
Private stringFromServer As String = ""
Private stringFromClient As String = ""
Private streamFromServer As Net.Sockets.NetworkStream
Private streamFromClient As Net.Sockets.NetworkStream
Private pendingClient As New Net.Sockets.TcpClient 'client to handle
Private secure As New STE.Encryption 'encrypt data

Private Sub Form1_FormClosing(sender As Object, e As FormClosingEventArgs) Handles Me.FormClosing
    Recive.CancelAsync()
End Sub

Private Sub Form1_Load(sender As Object, e As EventArgs) Handles MyBase.Load
    Recive.RunWorkerAsync() 'Start listening thread
End Sub

Private Sub Recive_DoWork(sender As Object, e As System.ComponentModel.DoWorkEventArgs) Handles Recive.DoWork
    serverListener.Start() 'start listening to incoming information from clients
    Do While True
        If serverListener.Pending = True Then
            Call accept_Client()
        End If
        If Recive.CancellationPending = True Then
            Exit Do
        End If
    Loop
End Sub

Private Sub accept_Client()
    Try
        pendingClient = serverListener.AcceptTcpClient
        pendingClient.GetStream.Read(byteFromClient, 0, pendingClient.ReceiveBufferSize) 'Error here...
        stringFromClient = System.Text.Encoding.ASCII.GetString(byteFromClient)
        client_info.Text = stringFromClient & vbNewLine
    Catch ex As Exception
        client_info.Text = ex.ToString
    End Try
End Sub

Private Sub Transmit_DoWork(sender As Object, e As System.ComponentModel.DoWorkEventArgs) Handles Transmit.DoWork
    Try
        Do While serverSender.Connected = False
            serverSender.Connect("127.0.0.1", 9653) 'connect to local pc (temp)...
        Loop
        byteFromServer = System.Text.Encoding.ASCII.GetBytes(commandTB.Text)
        streamFromServer.Write(byteFromServer, 0, byteFromServer.Length) 'write data to stream
        streamFromServer.Flush() 'send data
    Catch ex As Exception
        MsgBox(ex.ToString & vbNewLine & ex.InnerException.Data.ToString)
    End Try
End Sub

Private Sub send_command_Click(sender As Object, e As EventArgs) Handles send_command.Click
    Transmit.RunWorkerAsync() 'start thread to transmit data to client
End Sub
End Class 
```

网络编程目前对我来说是一个薄弱环节，所以我什至不确定我的代码是否具有正确的逻辑。任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:01:45.847

```
Dim byteFromClient(1024) As Byte 
```

# ios - 如何在 Titanium 和 Pixate 中使用实时 CSS 样式

> ID：16080762
> 
> 赞同：3
> 
> 时间：2013-04-18T10:42:25.163
> 
> 标签：ios, titanium, appcelerator, pixate

我想在带有 Pixate 的 Titanium 应用程序中使用实时 CSS 样式。在他们的文档中，他们提到[了一个视频](http://www.youtube.com/watch?v=rjNrNIyEL_c&feature=plcp)，该视频演示了如何在 XCode 中进行设置。

[另一个视频](http://www.youtube.com/watch?v=MsxV08CSoLg)在 Titanium 应用程序中演示了这一点，但我没有找到关于如何实现这一点的解释。

如何启用实时 CSS 样式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-16T20:04:32.460

Pixate 为此目的维护了一个 Titanium 模块。

[https://github.com/Pixate/Titanium-Pixate](https://github.com/Pixate/Titanium-Pixate)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-13T21:50:39.337

经过一番挖掘，我确实找到了方法。我不确定这是否是预期的方式，但它工作正常。

将此代码放入您的 app.js 中，模拟器将在保存 CSS 文件时立即刷新更改。

```
var PX = require('com.pixate.framework');
PX.styleSheetFromFilePathWithOrigin({ 
    monitor: true,
    origin: 0,
    filename: '/absolute/path/to/app.css'
});
    // you can add multiple css files to monitor
PX.styleSheetFromFilePathWithOrigin({ 
    monitor: true,
    origin: 0,
    filename: '/absolute/path/to/another_file.css'
}); 
```

# html - 需要 div 来填补两个 div 之间的空白

> ID：16080765
> 
> 赞同：3
> 
> 时间：2013-04-18T10:42:28.077
> 
> 标签：html, css

给定以下 HTML：

```
<div id="wrapper">
<div id="header">*header*</div>
<div id="content">*content*</div>
<div id="footer">*footer*</div>
</div> 
```

以及以下 CSS：

```
#wrapper {
min-height:100%;
position:relative;
}
* {margin:0;padding:0;height:100%;}
#header {
    width:100%;
    height:auto;
    margin-top: 0;
}
#content {
    width:100%;
    height: auto;
    margin:0;
    margin-top:0;
    margin-bottom:0;
}
#footer {
    width:100%;
    height:auto;
    position:absolute;
    margin-top: 0;
    margin-bottom: 0;
    bottom:0;
    left:0;
} 
```

内容和页脚的 div 之间存在间隙。如何设置内容的高度必须是页眉和页脚之间的所有空间？

页脚必须具有“绝对”位置才能定位在页面底部。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:48:42.420

尝试使用`display:table`,`table-row`选项

`display:table`至`#wrapper`

`display:table-row`到`#header`, `#content`（此处的宽度和高度应为 100%）和`#footer`

```
#wrapper {
    min-height:100%;
    position:relative; 
    display: table; 
    width:100%
}

#header {
    width:100%;
    height:auto;
    margin-top: 0;
    background:#dbfcd6; display: table-row;
}
#content {
    width:100%; display:table-row; background:green; height:100%
}
#footer {
    width:100%;
    height:auto;
    position:absolute;
    margin-top: 0;
    margin-bottom: 0;
    bottom:0;
    left:0; background:yellow;
    display: table-row;
} 
```

**[演示](http://jsfiddle.net/t6EKv/332/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:48:34.553

这是因为你的页脚有一个底部：0 并且它的位置是绝对的。这将使它卡在底部。

你应该给你的内容一个最小高度和最大高度，如下所示：

```
#content {
background-color:red;
width:100%;
min-height:450px;
max-height: auto;
margin:0;
margin-top:0;
margin-bottom:0; 
```

}

然后将页脚的位置更改为`relative`

看看这个小提琴：）[检查我！](http://jsfiddle.net/xGUye/)

# wpf - 绑定到数据模板

> ID：16080768
> 
> 赞同：1
> 
> 时间：2013-04-18T10:42:32.940
> 
> 标签：wpf, xaml

我有一个按钮模板：

```
<DataTemplate x:Key="TemplateTest">
    <Button Margin="10" BorderThickness="2" Content="{Binding Text}" />
</DataTemplate> 
```

我想创建一个文本框和一个按钮，其内容与文本框的文本相同。

```
<TextBox x:Name="TextBox" Margin="10">TextBox</TextBox>
<ContentControl DataContext="{Binding ElementName=TextBox}"
    ContentTemplate="{StaticResource ResourceKey=TemplateTest}" /> 
```

但是我没有以这种方式在按钮上得到任何东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:29:17.113

@DanPuzey 的那个在 VS2012 中仍然不适合我。不知道为什么它在 Kaxaml

这做到了：

```
<TextBox x:Name="TextBox"
          Margin="10"
          Text="Hello World" />
<ContentControl Content="{Binding ElementName=TextBox,
                                  Path=.}"
                ContentTemplate="{StaticResource TemplateTest}" /> 
```

和

```
<DataTemplate x:Key="TemplateTest">
  <Button Height="100"
          Margin="10"
          BorderThickness="2"
          Content="{Binding Text}" />
</DataTemplate> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:58:47.500

这是失败的，很简单，因为您没有设置*内容*控件的内容：设置`DataContext`不会改变任何内容。试试这个：

```
<ContentControl Content="{Binding ElementName=TextBox}" ContentTemplate="{StaticResource ResourceKey=TemplateTest}" /> 
```

以上在 Kaxaml 中为我工作，但如果它不适合你，那么我建议你试试这个，它明确绑定到文本框的文本：

```
<ContentControl Content="{Binding Text, ElementName=TextBox}" ContentTemplate="{StaticResource ResourceKey=TemplateTest}" /> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T11:28:52.317

首先，您应该将 contentControl 的内容设置为绑定到文本

```
<TextBox x:Name="TextBox" Margin="10">TextBox</TextBox>
<ContentControl Content="{Binding ElementName=TextBox,Path=Text}"
ContentTemplate="{StaticResource ResourceKey=TemplateTest}" /> 
```

现在您需要更改按钮的绑定：

```
<DataTemplate x:Key="TemplateTest">
<Button Margin="10" BorderThickness="2" Content="{Binding}" />
</DataTemplate> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-18T11:48:19.710

我不确定是否`{Binding ElementName=TextBox}`设置了默认值`Binding.Path`。您可以尝试将其设置`Path`为`.`：`DataContext="{Binding ElementName=TextBox, Path=.}"`

或者您可以直接绑定`Text`元素的属性：

```
<TextBox x:Name="TextBox" Margin="10">TextBox</TextBox>
<ContentControl DataContext="{Binding Text, ElementName=TextBox}"
    ContentTemplate="{StaticResource ResourceKey=TemplateTest}" /> 
```

和

```
<DataTemplate x:Key="TemplateTest">
    <Button Margin="10" BorderThickness="2" Content="{Binding}" />
</DataTemplate> 
```

# iphone - 从应用程序在 Dropbox 中创建文件夹

> ID：16080773
> 
> 赞同：0
> 
> 时间：2013-04-18T10:42:41.067
> 
> 标签：iphone, ios, dropbox

如果我需要集成 Dropbox SDK，我正在制作一个 iPhone 应用程序。在 Dropbox 中创建文件夹时出现错误。请任何人告诉我如何创建文件夹。

这是我的代码

```
(DBRestClient*)restClient { 
 if (restClient1 == nil) {
    restClient1 = [[DBRestClient alloc] initWithSession:[DBSession sharedSession]];
    restClient1.delegate = self; }
    return restClient1; }

(IBAction)folderCreateMethod:(id)sender {
  [[self restClient] createFolder:@"/YourFolder"];

   } 
```

我得到以下错误

```
-[__NSCFConstantString stringByAddingURIPercentEscapesUsingEncoding:]: unrecognized selector sent to instance 0x2fe5c 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T12:35:46.977

`stringByAddingURIPercentEscapesUsingEncoding`不是 NSString 的方法，但可能在类别中定义。

要使用在另一个库中定义的类别——其中 DBRESTClient 是——你必须将`-ObjC`标志传递给链接器（在 xcode 中）

# java - Java中的休眠映射

> ID：16080775
> 
> 赞同：0
> 
> 时间：2013-04-18T10:42:45.283
> 
> 标签：java, hibernate, jakarta-ee, nhibernate-mapping

我有两张桌子；

*街*有

```
 "Street_id", "StreetName", "description" 
```

并且*路径*有

```
 "path_id", "pathDescription", "path_name" 
```

还有一张桌子，

*街道路径*有

```
 "path_id", "Street_id" 
```

现在我想在这些表之间创建一个关系，这样当从*Street*删除记录时，来自*Street-path 的*记录也将被删除，但它们不能有直接关系。只有*Street*和*Path*可以有直接关系，*Path*中的记录应该保持完整。

如何在休眠中做到这一点？

PS：我使用的是xml，而不是hibernate映射的注释。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T11:01:11.433

您可以使用本教程：[休眠映射](http://viralpatel.net/blogs/hibernate-many-to-many-xml-mapping-example/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:52:30.903

您可以使用标准 api。您实际上不需要任何关系，您只需要 street_id 并且您已经拥有它。你可以试试这个；

```
public void removeStreet(Street street) //this reference is an instance 
{                                       //of Street entity that you want to remove
   session.clear();
   session.delete(street);
   session.flush();

   StreetPath streetPath = new StreetPath(); //create new instance of StreetPath entity
   streetPath.setStreetId(street.getId());   //with id of deleted row of Street table  

   session.clear();
   session.delete(streetPath);
   session.flush();
} 
```

我希望这会有所帮助。

# sql - 如何使用 DataTable 和 For Each 循环填充列表？

> ID：16080777
> 
> 赞同：0
> 
> 时间：2013-04-18T10:43:01.707
> 
> 标签：sql, .net, vb.net, datatable, generic-list

我正在尝试使用 DataTable 填充列表，我有一个 for each 循环来检查每一行并将项目添加到列表中。但是代码不起作用，我不断收到错误..

> System.NullReferenceException：{“对象引用未设置为对象的实例。”}

-数据：{System.Collections.ListDictionaryInternal}

-HelpLink：无 -内部异常：无

-TargetSite：{System.Collections.Generic.List`1[System.String] getListOfUsers()}

这是我的代码...

```
Function getListOfUsers() As List(Of String)

    'Dim i As Integer = 0
    Dim lUserNames As List(Of String) = Nothing

    Dim dt As DataTable = getDataTable(db_Config, "SELECT * FROM tblUsers")

    If dt.Rows.Count > 0 Then

        Try

            For Each dRowItem As DataRow In dt.Rows

                'i = i + 1

                'If IsDBNull(dt.Rows(0)("fldUserName").ToString) = False Then
                '    lUserNames.Add(dt.Rows(0)("fldUserName").ToString)
                'End If

                If dRowItem.Item("fldUserName").ToString <> "" Then
                    lUserNames.Add(dRowItem.Item("fldUserName").ToString)
                End If

            Next dRowItem

        Catch ex As Exception
            MsgBox(ex.ToString)
        End Try

    End If

    Return lUserNames

End Function 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T10:45:01.290

目前 lUserNames 尚未初始化。你需要这样做：

```
Dim lUserNames As New List(Of String) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-18T10:47:51.397

您已声明`List`，但尚未对其进行初始化。

所以改变

```
Dim lUserNames As List(Of String) = Nothing 
```

至

```
Dim lUserNames As List(Of String) = New List(Of String) 
```

当然你也会得到一个`NullReferenceException`if`getDataTable`返回`Nothing`而不是一个空的`DataTable`if`tblUsers`将是空的 at `If dt.Rows.Count > 0`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T10:49:37.190

您没有在第 4 行初始化您的列表。它应该是：

```
Dim lUserNames As List(Of String) = New List(Of String)() 
```

**编辑**：显然这有点像 CSharp'ism :) 这也有效：

```
Dim lUserNames As New List(Of String) 
```

# java - 如何从地图中检索内容 >?

> ID：16080781
> 
> 赞同：-1
> 
> 时间：2013-04-18T10:43:21.787
> 
> 标签：java

```
Map<String, Map<String,String>> regMap = new HashMap<String, Map<String,String>>(); 
```

如何从中检索内容`regMap`？是否有任何数据结构可以存储三个相关的东西？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:45:25.590

> ...或者是否有任何数据结构可以存储三个相关的东西？

只需创建自己的课程。

```
public class Foo {

  private final Bar thingOne;
  private final Bar thingTwo;
  private final Bar thingThree;

  // ...

} 
```

然后，如果需要，您可以将其存储在 a 中`Collection`。

*注意：不要以我的琐碎示例作为建议，您应该将字段命名为`foo1`等`foo2`。给它们起有意义的名称，例如`forename`,`surname`等。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:45:20.590

如果您**确定** `"firstKey"`存在于 中`regMap`，请使用：

```
String value = regMap.get("firstKey").get("secondKey"); 
```

要不然：

```
private String safelyGetString(String firstKey, String secondKey) {
    Map<String,String> temp = regMap.get(firstKey);
    return (temp == null ? null : temp.get(secondKey));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:46:51.970

一种方法可能是

```
Map<String,String> innerMap= regMap.get("string");
String value=null;
if(innerMap!=null)
 value=innerMap.get("insidemap"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-18T10:47:41.650

当您确定第一个地图的密钥有效时，您可以使用

```
String value = regMap.get("key1").get("key2"); 
```

但是，当在第一个映射中找不到键时，这将引发 NullPointerException。要检查这一点，请执行以下操作：

```
String value;
Map<String, String> subMap = regMap.get("key1");
if (subMap != null) {
    value = subMap.get("key2");
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-18T10:49:24.573

我建议不要使用这样的结构。如前所述，最好在 Map 中使用您自己的 Objects，因此您可以比 Map 中的 Map 更好地访问它们。

# php - 源不添加到电子邮件模板中的图像

> ID：16080784
> 
> 赞同：0
> 
> 时间：2013-04-18T10:43:25.583
> 
> 标签：php, html

我正在创建包含一些图像的电子邮件模板。我创建了这些图像的绝对路径并将图像放入电子邮件中。

当我检查电子邮件时，未在电子邮件中找到图像。当我检查电子邮件的来源并发现那里找不到图像（）的来源时。

我搜索了这个问题，但没有找到任何解决方案。这是示例代码。

```
<img src='http://".$_SERVER['HTTP_HOST']."$userPhoto' height=80 width=80 border=1 alt='".$user->getTitle()."'/> 
```

当我检查电子邮件源代码时，我只得到了`<img border="1" width="80" height="80" alt="XYZ">`. 此处未找到图片来源。

如果有人遇到这个问题，请告诉我。

# clojure - 为什么从 Leiningen 运行任何 Java/Clojure 程序都会变慢？

> ID：16080787
> 
> 赞同：6
> 
> 时间：2013-04-18T10:43:47.083
> 
> 标签：clojure, leiningen

在对 Clojure 应用程序进行基准测试并试图确定性能问题时，我注意到了这种特殊行为：即使整个程序是用 Java 编写的，当从 Leiningen 启动时，它似乎也经历了显着的减速。

假设我有这个 Java 程序：

```
public class Foo {
    public static void main(String[] args) throws Exception {
        for (int i = 0; i < 10; i++)
             run();
    }

    public static void run() {
        final long start = System.nanoTime();

        Random r = new Random();
        double x = 0;
        for(int i=0; i<50000000; i++)
            x += r.nextDouble();

        final long time = TimeUnit.MILLISECONDS.convert(System.nanoTime() - start, TimeUnit.NANOSECONDS);
        System.out.println("time (ms): " + time + " total: " + x);
    }
} 
```

当我简单地运行程序时，我得到的执行时间（每`run`）大约为 1 秒。但是，当我像这样从 leiningen 运行它时：

```
lein run -m Foo 
```

我的运行时间约为*2 秒*！Clojure/Leiningen 是如何将一个完整的 Java 程序减慢这么多的？我究竟做错了什么？

我尝试在两次运行中检查系统属性，但找不到任何明显的东西（比如不同的 JIT 设置）。在这两种情况下，我都使用 Java 7 和服务器编译器。

编辑：我不知道为什么这个问题被否决了。我不反对 Clojure。相反，我喜欢 Clojure，我将使用它。我只是有这个我绝对必须解决的严重性能问题。

更新：运行`lein trampoline`解决了这个问题！（虽然我不知道为什么）我已经更新了问题以反映这确实是 Leiningen 问题，而不是 Clojure 问题。

另一个更新：任何 Clojure 代码也会发生这种情况。在没有蹦床的情况下运行会使代码速度降低多达 5 倍。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-03-17T13:22:18.000

leiningen 的创建者意识到了这一点，并详细解释了为什么会这样，以及你可以做些什么。

[https://github.com/technomancy/leiningen/wiki/Faster](https://github.com/technomancy/leiningen/wiki/Faster)

相关问题： [为什么 leiningen 启动时这么慢？](https://stackoverflow.com/questions/25052212/why-is-leiningen-so-slow-when-it-starts/29099983#29099983)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T12:14:21.953

这可能是由于不同的 JIT 行为。

JIT 编译的性能可能会受到许多因素的影响，包括：

*   调用了哪些启动代码，这将影响 JIT 统计信息
*   加载了哪些其他类（例如 Random 的其他子类）可能会影响编译器对方法调用调度的优化

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-18T10:47:00.363

leiningen 大约需要一秒钟才能启动。

# gwt - 带有自定义项的 GWT 组合框

> ID：16080788
> 
> 赞同：0
> 
> 时间：2013-04-18T10:43:47.603
> 
> 标签：gwt, combobox

我正在尝试定义一个组合框，该组合框显示为项目、自定义控件而不是标准的纯文本项目。使用的控件是 com.google.gwt.user.client.ui.ListBox（标准 GWT 控件）作为组合框。

例如，查看Showcase [http://gwt.googleusercontent.com/samples/Showcase/Showcase.html#!CwCellList](http://gwt.googleusercontent.com/samples/Showcase/Showcase.html#!CwCellList)，有一个带有自定义项目的自定义列表。为此，该示例使用 CellList 类。是否可以对组合框使用相同的技术？

更一般地说，是否可以使用带有自定义复杂项目的组合框（例如多列项目、任何类型的自定义复杂项目，通常是我自己的小部件或类似的小部件）？

我使用标准的 gwt ui 控件来问这个问题，没有 Ext-GWT，没有 Smart GWT 或其他。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T14:40:48.473

您不能在 GWT ListBox 转换为 HTML`<select>`元素时为其设置样式。如果您仍然坚持使用 GXT 等功能丰富的组合框，那么您可以选择

1.  GwtChosen - [http://dev.arcbees.com/gwtchosen/](http://dev.arcbees.com/gwtchosen/)
2.  [CellList](http://gwt.googleusercontent.com/samples/Showcase/Showcase.html#!CwCellList)具有降低的高度，选择模式 - single 和[CustomCell](https://developers.google.com/web-toolkit/doc/latest/DevGuideUiCellWidgets#custom-cell)。
3.  GWT SuggestBox - [http://gwt.googleusercontent.com/samples/Showcase/Showcase.html#!CwSuggestBox](http://gwt.googleusercontent.com/samples/Showcase/Showcase.html#!CwSuggestBox)

# c++ - 从模板创建对象，类型由用户输入 c++

> ID：16080790
> 
> 赞同：1
> 
> 时间：2013-04-18T10:43:57.740
> 
> 标签：c++, class, templates, object

我有一个类是模板。我希望程序询问用户他想要什么类型，然后根据他选择的类型实例化一个对象。最好的方法是什么？像这样的东西，但它不起作用：

```
template <typename T> class Object {...};
cin >> type;
Object<type> newobject; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:53:51.060

## [多态性](http://en.wikipedia.org/wiki/Polymorphism_in_object-oriented_programming)

它将根据用户输入使对象基于模板和动态：

```
class Base
{
public:
  virtual ~Base() {};
};

template <typename T>
class Type : public Base
{
    T type;
};

int main()
{
    int i;
    cin >> i;

    Base *b;

    switch (i)
    {
    case 0: b = new Type<float>(); break;
    case 1: b = new Type<int>(); break;
    case 2: b = new Type<char>(); break;
    }

    // ...

    delete b;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T11:39:20.677

至少有两种方法。

首先，使用基于用户输入的 if/switch 语句创建一个实例，然后将此实例存储在一个不知道特定类型是什么的指针中。它可以是指向抽象基类的指针，也可以是指向生成的包装器的类型已擦除指针（就像做什么`std::function`一样），或者是指向等价物的指针`void`和一个变量，用于说明以后要使用的类型。这在 C Java 和许多其他语言中是可行的。

第二种方法是打开用户输入，生成对象，然后继续运行知道模板生成的对象类型的代码。您可以使用 C 和其他 C 派生语言中的复制粘贴或宏或代码生成来做到这一点，但这种语言代码生成是该沿袭中的一种新技术。其他 C 派生语言中最相似的通用代码实际上是模糊类型擦除。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T10:50:36.030

C++ 中的模板必须在编译时解析，所以你想要的在这里是不可能用模板来做的。您最好的选择可能是实现[工厂方法模式](http://en.wikipedia.org/wiki/Factory_method_pattern)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-02-22T05:41:57.310

# 模板函数

您可以有条件地调用模板函数。这将在编译时生成所有必要的代码以支持所有需要的类型，但仅当您的 if 语句调用该代码时才会使用这些代码。然后，当您需要在函数中引用用户输入的类型时，您可以使用“T”。

```
template <typename T> class Object {...};

template <typename T> void myFunc() {
    Object<T> newobject;
    //statements
}

int main() {
    cin >> type;
    if (type == "int") myFunc<int>();
    if (type == "double") myFunc<double>();
    return 0;
} 
```

# javascript - 在动态创建的列表视图中获取行数据

> ID：16080794
> 
> 赞同：1
> 
> 时间：2013-04-18T10:44:09.257
> 
> 标签：javascript, jquery-mobile, cordova

嗨，我正在动态创建列表视图。我想在点击时获取特定行的数据，以继续执行进一步的步骤。我的代码如下

```
function getList(tx, results){

                $('#DeliveryList').empty();
                var len = results.rows.length;
                for(var i=0; i <len; i++)
                {
                    var deliveryItems = results.rows.item(i);
                    var html = '<li data-role="list-divider">'+deliveryItems.DeliveryName+ ' | ' + deliveryItems.PrimaryName+' <span class="ui-li-count">Copay ='+deliveryItems.Total+'</span> </li><li><a><img src="Pending"/><h3>'+deliveryItems.Name1+'</h3><p>'+deliveryItems.Address+'</p><p>'+deliveryItems.City+' <b></b></p><p><strong>'+deliveryItems.ContactNumber+'</strong></p><a href="#PrescriptionPage" class="cls_btn" id="btn_list" onclick = "Prescription()" >Delivary Details</a></a></li>'; 
                    $('#DeliveryList').append(html).trigger('create'); 
                }
                $('ul').listview('refresh');
            } 
```

我的 html 文件看起来像

```
 <div data-role="page" id="page3" >
        <div data-role="header">
                        <a href="#page1" data-icon="back">Back</a>
                        <h1>Heading</h1>
                        <a href="#Page2" class="ui-btn-right" type="submit" data-role="button" data-icon="home" data-theme="b" data-mini="true">Home</a>
                    </div><!-- /header -->
                    <ul data-role="listview" id="DeliveryList" data-inset="true" data-theme="d" data-divider-theme="b"> </ul>
</div> 
```

任何人都可以帮助我实现结果。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T07:47:00.427

下面的代码对我有用

```
$('ul').children('li').on('click', function () {
                                         alert('Selected Name=' + $(this).text());
                                          }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:57:06.990

您已经在使用 jQuery，为什么不使用它来创建这些元素呢？我假设`getList()`绑定到一个事件。

```
// Create the element
var li = $('<li></li>');
// Add your class
li.addClass('list-divider');
// Change the innerHTML
li.html('Your content');

// Then append it to the list
$('#DeliveryList').append(li); 
```

只需根据您的需要更改此代码。这个例子只是添加了一个`<li>`带有类和一些内容的元素。

祝你好运。

# highcharts - IE8 的 Highcharts CDN 问题

> ID：16080798
> 
> 赞同：0
> 
> 时间：2013-04-18T10:44:22.693
> 
> 标签：highcharts, highstock

highchart 画廊位于

[http://www.highcharts.com/demo/](http://www.highcharts.com/demo/)

不要在 IE8 上为我渲染。在 Firefox/Chrome 上一切正常，但 IE8（当然）抱怨“无效字符，第 1 行字符 1，[http://code.highcharts.com/highcharts.js](http://code.highcharts.com/highcharts.js) ”。

这可能是由于 code.highcharts.com CDN 上使用的文件压缩格式吗？还有其他人有这个问题吗？我在公司网络上，所以这可能是某种代理服务器问题？

更新：

浏览器版本：IE 8.0.7601.17514

根据 whatsmyip.org/http-compression-test/ 这个版本的 IE8（或更可能是公司代理）不请求压缩内容。

根据 web-sniffer.net 的说法，即使请求标头未指示 GZIP 支持，highcharts CDN 也会提供 GZIP 内容 - 所以我认为这可能是问题所在。

塞巴斯蒂安：

是否可以更新 highcharts/highstock CDN 以在请求时支持交付未压缩的内容？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-19T10:11:44.183

似乎许多代理服务器管理员不允许压缩 javascript 模块：

[http://www.stevesouders.com/blog/2009/11/11/whos-not-getting-gzip/](http://www.stevesouders.com/blog/2009/11/11/whos-not-getting-gzip/)

所以如果 Highcharts CDN 不强制压缩就好了。在这改变之前，我建议的最好方法是尝试从 Highcharts CDN 加载，如果失败则回退到您自己的服务器。也许是这样；

```
<script src="//code.highcharts.com/stock/1.2/highstock.js"></script>
<script>!window.Highcharts && document.write(unescape('%3Cscript src="../js/highstock/highstock.js"%3E%3C/script%3E'))</script>
<script src="//code.highcharts.com/stock/1.2/modules/exporting.js"></script>
<script>!window.Highcharts.post && document.write(unescape('%3Cscript src="../js/highstock/modules/exporting.js"%3E%3C/script%3E'))</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-25T12:04:02.500

对于 Highcharts 库，这个问题可以通过使用不同的 CDN 来解决，例如：

//cdnjs.cloudflare.com/ajax/libs/highcharts/2.3.5/highcharts.js

不幸的是，HighStock 库不在 cdnjs 或任何其他支持未压缩下载的 CDN 上（截至 2013 年 4 月）。

# sql - 在一个条件下加入不同的表

> ID：16080799
> 
> 赞同：1
> 
> 时间：2013-04-18T10:44:26.317
> 
> 标签：sql, sql-server, tsql

我有 3 个表，学生、员工、交通，在交通表中有学生和教职员工的记录，他们有交通并与`CandidateType`列区分开来。如果`CandidateType = 0`记录必须来自员工表，`CandidateType=1`那么记录必须来自学生表。问题是两个表中的连接列具有相同的值。以下是我的表格的结构。

```
|Staff Table|
-------------------------
Id | Name | Designation |
-------------------------
1  | ABC  | Teacher     |
2  | xyz  | Clerk       |
3  | DDD  | Teacher     |

Student Table
Id | Name | Class |
-------------------
1 | Ali   | 5th   |
2 | Khan  | 6th   |
3 | Jan   | 6th   |

Transport Table
Id | CandidateId | Candiadate Type | VehicleId
----------------------------------------------
1  |  1          | 0               |  1
2  |  3          | 1               |  1
3  |  2          | 1               |  1 
```

我想在表中检索学生和教职员工的记录，`VehicleId=1.` 在`transport`教职员工和学生表中，候选人ID 是相同的，如何获取第一辆车的`students`记录`staff`。任何帮助......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:50:00.843

```
SELECT  a.ID,
        CASE WHEN CandidateType = 0 
            THEN b.Name
            ELSE c.Name
        END AS Name
FROM    Transport a
        LEFT JOIN Staff b
            ON  a.CandidateID = b.ID
        LEFT JOIN   Student c
            ON a.CandidateID = c.ID
WHERE   a.VehicleID = 1 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!3/12c25/2)

输出

```
╔════╦══════╗
║ ID ║ NAME ║
╠════╬══════╣
║  1 ║ ABC  ║
║  2 ║ Jan  ║
║  3 ║ Khan ║
╚════╩══════╝ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:46:34.063

```
select  *
from    Transport tr
left join
        Staff stf
on      stf.Id = tr.CandidateId 
        and tr.CandidateType = 0
left join
        Student stu
on      stu.Id = tr.CandidateId 
        and tr.CandidateType = 1 
```

# jquery - 来自不同来源的js插件不起作用

> ID：16080802
> 
> 赞同：0
> 
> 时间：2013-04-18T10:44:37.460
> 
> 标签：jquery

我正在使用这个 jquery，来自这个不同来源的插件可以工作吗？如果我同时包含两个插件，那么其中一个不工作，我怎样才能让它们都工作

```
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
 <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>

 <script type="text/javascript"  src="dropdown-check-list.1.9/js/ui.dropdownchecklist-1.4-min.js"></script>
<script type="text/javascript"  src= "dropdown-check-list.1.9/src/jquery-1.6.1.min.js"></script>
<script type="text/javascript"  src= "dropdown-check-list.1.9/src/jquery-ui-1.8.13.custom.min.js"></script>
<script type="text/javascript"  src="dropdown-check-list.1.9/src/ui.dropdownchecklist.js"></script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:47:15.830

您可以将不同的 jQuery 发行版分配给不同的全局变量。只有一个可以容纳在`$`变量中。

```
<script src="dropdown-check-list.1.9/src/jquery-1.6.1.min.js"></script>
<script>
    var jq161 = window.jQuery;
</script>

<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script>
    var $ = window.jQuery; // Not needed per se
</script> 
```

另一种方法是使用它；[http://api.jquery.com/jQuery.noConflict/](http://api.jquery.com/jQuery.noConflict/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:48:49.807

你需要使用.noConflict()。因为这里存在一些冲突

# asp.net-mvc-3 - 我有一个必须在运行时生成的 javascript。在 MVC 3 中

> ID：16080805
> 
> 赞同：-2
> 
> 时间：2013-04-18T10:44:39.133
> 
> 标签：asp.net-mvc-3

我有一个必须在运行时生成的 javascript。那是在控制器中，我将它作为字符串获取到我的视图中。像 asp 文字控制一样，mvc 3 razor 中有什么方法吗？？？？帮我大师

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:49:55.997

这可能有效：

```
<script type="text/javascript">
   @Html.Raw(Model.YourJavaScriptString)
</script> 
```

# visual-studio-2012 - 无法从 Windows 或 Windows Phone 项目的非交互式服务运行 VSTest.Console.exe

> ID：16080806
> 
> 赞同：5
> 
> 时间：2013-04-18T10:44:41.947
> 
> 标签：visual-studio-2012, continuous-integration, windows-phone, jenkins-plugins, vstesthost

我安装了 Visual Studio 2012 Update 2 并从命令行成功运行了一组 Windows Phone 测试

然后我尝试从 Jenkins 执行此操作（使用 VSTest 插件）并收到以下消息，这显然与沙盒有关..

正在开始测试执行，请稍候... 错误：无法为 Windows Phone 应用程序的单元测试启动测试运行：无法从服务或非交互式进程运行 Windows 应用商店应用程序的单元测试。请从交互式过程中运行单元测试..

有任何想法吗...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-31T14:45:52.150

如果有正确的适配器，这个命令行实用程序 vstest.console.exe 也可以运行 3rdparty 单元测试。您必须对 vstest.console.exe 使用 /UseVsixExtensions 选项。此外，为了启用代码覆盖率分析，我提供了 /EnableCodeCoverage 选项。

```
 "C:\Program Files (x86)\Microsoft Visual Studio 11.0
 \Common7\IDE\CommonExtensions\Microsoft\TestWindow\vstest.console.exe"
 /UseVsixExtensions:true /EnableCodeCoverage "C:\Users\Arve\Documents\Visual Studio
 2012\Projects\MyApp\MyApp.Tests\bin\Debug\MyApp.Tests.dll" 
```

上面的命令会在“TestResults”目录下生成一个后缀为 .coverage 的文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-01T21:39:35.400

我遇到了同样的问题，通过从本地服务中删除 Jenkins 解决了这个问题。这可以通过从卸载程序控制面板卸载 Jenkins 来完成。或执行以下操作：

> 1.  运行命令： `sc delete jenkins`
> 2.  从 HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services 中删除 Jenkins
> 3.  重启你的机器
> 4.  从命令开始运行 Jenkins：`java -jar jenkins.war`

# ios - SBJson 显示为空

> ID：16080809
> 
> 赞同：0
> 
> 时间：2013-04-18T10:44:51.790
> 
> 标签：ios, json, sbjson

我正在尝试使用 SBJson 解析一些 json 数据以显示当前温度。本教程中的示例代码完美运行：[教程：获取和解析 JSON](http://www.touch-code-magazine.com/tutorial-fetch-and-parse-json/)

当我将代码更改为我的 json 提要时，我得到一个空值。我对 JSON 有点陌生，但遵循了我找到的每个教程和文档。我使用的json源：[JSON Source](http://free.worldweatheronline.com/feed/weather.ashx?q=seatle&format=json&num_of_days=5&key=c0901b281c095607121605)

我的 sbjson 代码：

```
NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
self.responseData = nil;

NSArray* currentw = [(NSDictionary*)[responseString JSONValue] objectForKey:@"current_weather"];

//choose a random loan
NSDictionary* weathernow = [currentw objectAtIndex:0];

//fetch the data
NSNumber* tempc = [weathernow objectForKey:@"temp_C"];
NSNumber* weatherCode = [weathernow objectForKey:@"weatherCode"];

NSLog(@"%@ %@", tempc, weatherCode); 
```

当然，我已经实现了其他 sbjson 代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:49:29.197

您发布的 JSON 数据中没有`current_weather`密钥。结构是：

```
{ "data": { "current_condition": [ { ..., "temp_C": "7", ... } ], ... } } 
```

这是一个视觉表示：

![JSON 视觉表示](https://i.stack.imgur.com/RFf0e.png)

因此，要获得`temp_C`，您需要首先获得顶级`data`属性：

```
NSDictionary* json = (NSDictionary*)[responseString JSONValue];
NSDictionary* data = [json objectForKey:@"data"]; 
```

然后，从中获得`current_location`属性：

```
NSArray* current_condition = [data objectForKey:@"current_condition"]; 
```

最后，从`current_location`数组中，获取您感兴趣的元素：

```
NSDictionary* weathernow = [current_condition objectAtIndex:0]; 
```

* * *

另请注意，`temp_C`and`weatherCode`是字符串，而不是数字。将它们转换为数字，而不是：

```
NSNumber* tempc = [weathernow objectForKey:@"temp_C"];
NSNumber* weatherCode = [weathernow objectForKey:@"weatherCode"]; 
```

你可以使用类似的东西：

```
int tempc = [[weathernow objectForKey:@"temp_C"] intValue];
int weatherCode = [[weathernow objectForKey:@"weatherCode"] intValue]; 
```

（或者`floatValue`/`doubleValue`如果值不应该是 a `int`，而是 a`float`或 a `double`）

然后，您将使用`%d`（或`%f`for `float`/ `double`）作为格式字符串：

```
NSLog(@"%d %d", tempc, weatherCode); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:49:47.437

使用`NSJSONSerialization`而不是`JSONValue`.

```
NSData* data = [responseString dataUsingEncoding:NSUTF8StringEncoding];
            NSDictionary* jsonDict = [NSJSONSerialization
                                      JSONObjectWithData:data
                                      options:kNilOptions
                                      error:&error];
 NSLog(@"jsonDict:%@",jsonDict); 
```

在您的链接中，没有`current_weather`密钥。

```
NSString* tempc = [[[[jsonDict objectForKey:@"data"] objectForKey:@"current_condition"] objectAtIndex:0] objectForKey:@"temp_C"]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:50:14.313

提供的链接返回没有 current_weather 参数的 json。只有 current_condition 参数，请查看此参数。

# awk - 用于替换前 100 行 csv 文件特定列的命令

> ID：16080811
> 
> 赞同：5
> 
> 时间：2013-04-18T10:44:56.013
> 
> 标签：awk

以下命令在完整的 csv 文件中用值 e 替换第二列，但是如果我只想替换前 100 行怎么办。

```
awk -F, '{$2="e";}1' OFS=, file 
```

csv文件的其余行应该是完整的..

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-18T10:46:38.843

`awk -F, 'NR<101{$2="e";}1' OFS=, file`

`NR`内置变量根据使用情况为您提供正在处理的记录总数或行号。在上面的 awk 示例中，`NR`变量具有行号。当您放置模式时`NR<101`，前 100 行的操作将变为 true。一旦它为假，它将默认按`1`原样打印剩余的行。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-18T10:47:09.067

尝试这个：

```
awk -F, 'NR<=100{$2="e"}1' OFS=, file 
```

# windows-7 - 诺基亚 822 的 WP 开发注册失败

> ID：16080812
> 
> 赞同：0
> 
> 时间：2013-04-17T01:48:41.027
> 
> 标签：windows-7, windows-phone-8, zune

所以我最近得到了一个诺基亚 822 和一个 windows 开发帐户，并试图使用 windows 7 注册我的设备，我不断收到消息：

> 无法连接到手机。请检查 Zune 软件是否正在运行以及 Zune 与您的手机的同步伙伴关系是否已建立。

我安装了 Zune 软件，并按照 microsoft 网站的建议重新安装了它，我还多次重启了手机和我的 PC，并在我的 PC 上的多个端口中使用了设备随附的 USB 线。我可以从我的文件资源管理器中看到手机，并且可以使用 WindowsPhone.exe 程序连接到它，但是每当我尝试注册手机进行开发时，我总是会收到上面的消息。我在这里缺少什么能够注册我的手机进行开发吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T02:00:28.710

诺基亚 822 是 Windows Phone 8，因此不再使用 Zune。相反，您需要使用[Windows Phone SDK](http://go.microsoft.com/fwlink/?LinkId=259416) 7.8 (Windows 7) 或 8.0（仅限 Windows 8）来注册它。有一些[解决方法](https://stackoverflow.com/questions/13507616/how-to-install-windows-phone-8-sdk-on-windows-7)可以让 8.0 SDK 在 Windows 7 上运行，但模拟器不会运行。

以下是[微软提供](http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff769508%28v=vs.105%29.aspx)的步骤：

1.  打开手机并解锁手机屏幕。
2.  在您的手机上，确保日期和时间正确无误。
3.  使用手机随附的 USB 数据线将手机连接到计算机。
4.  在计算机的“开始”屏幕上，切换到“所有应用”视图。
5.  在 Windows Phone SDK (7.8/8.0) 下，单击 Windows Phone 开发人员注册。
6.  验证状态消息是否显示已识别的 Windows Phone 8 设备。点击注册按钮解锁手机。如果您的电话已经注册，状态消息会指示这一点，并且您会看到一个取消注册按钮。
7.  单击注册。
8.  在您的 Microsoft 帐户（以前称为 Windows Live ID）的登录对话框中，输入与您的开发中心成员资格对应的 Microsoft 帐户和密码。单击登录。
9.  手机注册成功后，状态信息会显示*Congratulations! 您已成功解锁 Windows Phone*。

# css - 边框渲染奇怪

> ID：16080818
> 
> 赞同：1
> 
> 时间：2013-04-18T10:45:19.390
> 
> 标签：css, rendering, border

我有一个包含表格的页面。

的`<tr>`有一个`border-bottom: 1px dotted black;`，但是从下图中可以看出，它们的渲染非常奇怪。有谁知道这可能是为什么？

![在此处输入图像描述](https://i.stack.imgur.com/GFjZQ.png)

**相关CSS**

```
.basket-item{
    border-bottom: 1px dotted black;
    border-top: 1px dotted black;
    padding: 10px 0;
}

.basket-item td:nth-of-type(2){ //included this as it seems to be the second td in every row
    padding: 25px;
    vertical-align: top;
    text-align: left;
} 
```

HTML结构是一个标准的表格，`<tr>`有一个类`.basket-item`

提前感谢您的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T03:14:34.887

从评论扩展：

这个问题似乎只/主要影响Chrome（或WebKit），经过一些不成功的尝试，我终于想出了这个：

添加

```
h4 {
    margin-bottom: 1.5em; /* or whatever length that ends in an integer pixel */
} 
```

这样做的原因是您已指定

```
font-size: 14px; 
```

Chrome 有一个内部 CSS，如下所示：

```
h4 {
    -webkit-margin-before: 1.33em; /* works like margin-top */
    -webkit-margin-after: 1.33em; /* works like margin-bottom */
} 
```

这就产生了一个浮点数像素`14 * 1.33 = 18.62`（`float: left`那是“非常接近200px”。

**观察**：

在我的 Chrome 中，`<td>`应该是 250px 高度（包括`padding`）。那`<td>`有`padding: 25px`，所以“内部高度”应该是`200px`，但使用默认样式，在开发人员工具中，Chrome 显示`<td>`实际`199.609375px`高度。`margin-bottom`将of覆盖为`h4`整数，将内部高度“标准化”回 200px。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T11:27:53.833

显然是表格显示；如果您将您的`td`或您的显示器更改`tr`为另一个显示器（如`inline-block`），它会消失，但您的布局已损坏。

它似乎也取决于视口的缩放级别：如果放大，可以使奇怪的边框消失（顶部和底部边框）：有时从 250px 切换到 251px 的`tr`高度`td`。

由于信息如此之少，我无法推断出另一个要更改的参数。

在没有任何实际解决方案的情况下，请考虑更改显示类型（`tr`或`td`），并调整布局以适应您的要求。

# php - 仅对 jsonrpc 应用程序使用 yii 框架是否可取？

> ID：16080824
> 
> 赞同：0
> 
> 时间：2013-04-18T10:45:37.810
> 
> 标签：php, yii, json-rpc

仅使用 yii 框架（或任何其他 php 框架）来处理 jsonrpc 请求的应用程序是否可取？

我很困惑

1.  用oop创建我自己的文件/文件夹结构，并且
2.  使用现有的 yii 框架（或任何其他 php 框架）

任何人都可以建议，我应该怎么做？

有没有其他 php 框架可以做同样的事情。？？？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-21T07:39:07.920

框架将减少开发量，特别是对于 JSON 请求处理（内置于 Yii）之类的东西，因此您可以更快地启动项目并减少需要维护的代码。

然而，对你来说，当然还有 Yii 的学习曲线……但我认为从长远来看这是值得的……

你的项目有多大？

# google-maps-api-3 - 如何使用谷歌地图仅在显示的地图内搜索？

> ID：16080825
> 
> 赞同：0
> 
> 时间：2013-04-18T10:45:38.587
> 
> 标签：google-maps-api-3, geolocation, gmaps4rails

Airbnb 在其主搜索页面上有一项功能，即仅显示地图中的结果。谷歌地图 api 是否支持它？

我正在使用 gem [gmaps4rails](https://github.com/apneadiving/Google-Maps-for-Rails)。我在谷歌地图 api 和 gem 中都没有找到这个。

基本上我想要的是地图的边界，以便我知道要搜索的约束，以便结果适合地图。

你觉得可以怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:53:42.350

[Map 类](https://developers.google.com/maps/documentation/javascript/reference?hl=de#Map)有一个名为 getBounds() 的方法。

# design-patterns - 需要一些关于单例模式的说明

> ID：16080827
> 
> 赞同：3
> 
> 时间：2013-04-18T10:45:49.483
> 
> 标签：design-patterns, singleton

单例设计模式是否确保一个对象引用或者在实现单例模式时有任何机会/可能性超过一个对象的引用，我认为在多线程的情况下，即使我们也有可能超过一个对象已经实现了单例模式。

请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T10:53:51.480

线程可能会导致单例出现问题。您可以在此处找到一套使单例线程安全的综合解决方案：

[http://cshapindepth.com/Articles/General/Singleton.aspx](http://csharpindepth.com/Articles/General/Singleton.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T10:51:34.487

单例模式是一种将类的实例化限制为一个对象的设计模式。如果一个实例已经存在，它只返回一个对该对象的引用。但是，在多线程环境中，可能有 2 个单独的线程`getInstance()`同时进入，检查该实例是否存在`null`，然后创建该类的 2 个实例。因此，为了防止它，您需要将您的标记`getInstance()`为`synchronized`：

```
public static synchronized Singletone getInstance() {
    if(instance == null){
        instance = new createInstance();
    }
    return instance;
} 
```

查看[这篇](https://stackoverflow.com/questions/3061328/singleton-class-in-java-api)文章以获得更好的理解。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T10:48:10.813

单例模式确保在 JVM 上运行的应用程序中创建单个对象。即使在多线程环境中也是如此。如果不是，那不是单例，或者至少不是编程不好的单例。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-18T10:48:14.543

当您有单例类时，您不能创建该类的多个对象。您可以在该对象上创建许多引用，但对象将是相同的。

# cakephp-2.0 - 从cakePHP中的数组中检索值

> ID：16080828
> 
> 赞同：0
> 
> 时间：2013-04-18T10:45:50.280
> 
> 标签：cakephp-2.0

我想知道如何从看起来像这样的数组中检索值：

```
 Array ( [0] => Array 
( [Group] => Array 
( [id] => 1 
[name] => admin 
[created] => 2013-04-15 14:13:19
[modified] => 2013-04-15 14:13:19 
)
 [Admin] => Array 
( [0] => Array 
(
 [id] => 1
 [email] => iman@yahoo.com 
[username] => iman 
[password] => 9e217e2039912c40b0f179f801e2d3e9fe8eb32e 
[active] => 1 
[mobile] => 01000000000 
[created] => 2013-04-15 13:56:02
 [modified] => 2013-04-15 14:44:59 
[group_id] => 1 
[tokenhash] => e2e1bbffc40d3f909594a268f0f3ec127fabe5c00e01c5f0644a1950aa37e6103ad18542a8731a2ad9ade283916281977677523098cd25a296116d078fbbc231
 [image] => d 
)... 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T11:33:13.320

你已经尝试过什么？

据我所知，根据提供的有限信息，您有两种选择；通过提供相关键或遍历数组来直接访问值。

假设您要访问数组`name`中的第一个`Group`，我假设它存储在一个变量中（`$yourArray`在本例中调用）：

```
 $yourArray[0]['Group']['name'] 
```

结果将是“管理员”。

循环将使您获得检索所有组名（或任何其他值）的好处：

```
 foreach ($yourArray as $value) {
    //Output the Group name
    echo $value['Group']['name'];

    //Output the Admin email
    echo $value['Admin'][0]['email'];
  } 
```

但以上都是相当标准的 PHP 东西，而不是特定于 CakePHP。阅读 PHP 的基础知识可能也不错，因为 CakePHP 通过提供各种框架约定和便利方法增加了另一层抽象。

# django - Django model_to_dict 转换模型时跳过所有 DateTimeField

> ID：16080829
> 
> 赞同：11
> 
> 时间：2013-04-18T10:45:55.983
> 
> 标签：django, datetime, model

我刚刚注意到 model_to_dict 的一个错误，它跳过了模型中的所有 DateTimeField 并且从不将它们转换为字典，而使用 QuerySet 的 values() 函数则没有。我在互联网上查看，但找不到其他人有同样的问题。我只是想确认这确实是其他人遇到的问题，看看人们如何解决它。在这种情况下，是否每个人都避免使用 model_to_dict 并尝试使用 values() 来模拟行为？还是有更好的解决方案？你觉得呢？你有没有什么想法？

谢谢！

下面是出处：

```
>>> member = Member.objects.get(id=1)
>>> member.create_time
datetime.datetime(2013, 2, 26, 6, 1, 2, tzinfo=<UTC>)
>>> model_to_dict(member)
{'verified': True, 'name': u'John', 'email': u'', 'phone': u'', 'id': 1L, 'password': u'4e3fc0574fbcdff16c8508339e', 'verify_token': u'5d98aacaba39eb7e'} 
```

如您所见，“create_time”字段不在字典中。我不得不手动插入它：

```
>>> obj = model_to_dict(member)
>>> obj
{'verified': True, 'name': u'John', 'email': u'', 'phone': u'', 'id': 1L, 'password': u'4e3fc0574fbcdff16c8508339e', 'verify_token': u'5d98aacaba39eb7e'}
>>> obj["create_time"] = member.create_time
>>> obj
{'verified': True, 'name': u'John', 'email': u'', 'phone': u'', 'create_time': datetime.datetime(2013, 2, 26, 6, 1, 2, tzinfo=<UTC>), 'id': 1L, 'password': u'4e3fc0574fbcdff16c8508339e', 'verify_token': u'5d98aacaba39eb7e'}
>>> 
```

编辑：

我想我发现了问题：在model_to_dict（）中：

```
opts = instance._meta
for f in opts.fields:
    if not f.editable:
        continue 
```

我的 create_time 字段显示为不可编辑。进一步研究表明 auto_now_add=True 会自动使 editable=False。从而导致 model_to_dict() 跳过它......

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-07-05T08:23:20.563

我发现原因是 auto_now_add=True，它会自动设置 editable=False，这会导致 model_to_dict() 跳过字段

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T11:37:00.447

我无法复制您的问题

```
>>> pprint(model_to_dict(User.objects.get(pk=1)))
{'date_joined': datetime.datetime(2013, 1, 21, 10, 56, 6, tzinfo=<UTC>),
 'email': u'g@o.org',
 'first_name': u'\u042d\u0434\u0443\u0430\u0440\u0434',
 'groups': [],
 'id': 1,
 'is_active': True,
 'is_staff': True,
 'is_superuser': True,
 'last_login': datetime.datetime(2013, 3, 26, 12, 10, 28, 834151, tzinfo=<UTC>),
 'last_name': u'\u0418\u0441\u043a\u0430\u043d\u0434\u0430\u0440\u043e\u0432',
 'password': u'pbkdf2_sha256$10000$n8t2YQB1MaZE$lVg5bbp22ixDNQCj7AjtzGJ3WzOUnJo24137fTOxwi4=',
 'user_permissions': [],
 'username': u'1'} 
```

# ruby - RMagick 分色和其他不起作用

> ID：16080834
> 
> 赞同：0
> 
> 时间：2013-04-18T10:46:04.887
> 
> 标签：ruby, rmagick

我的家伙我写了这段代码：

```
require 'RMagick'
include Magick

img = Image.read("small_img.gif").first
img.posterize
img.display
exit 
```

图像的结果不会改变我已经测试了 blur_image，oil_paint，其他但仅旋转不起作用！从我那里工作，也许代码写得太糟糕了？ps对不起我的英语不好

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T11:02:11.460

这条线

```
img.posterize 
```

返回一个新的图像对象，它不会改变图像。因此，如果您执行以下操作

```
new_img = img.posterize
new_img.display 
```

你应该看到你的测试结果。

这同样适用于许多 rmagic 转换。

# c# - 完成后开始一个新线程：为什么我不在一个新线程中？

> ID：16080836
> 
> 赞同：0
> 
> 时间：2013-04-18T10:46:06.000
> 
> 标签：c#, multithreading, winforms

这基本上是代码：

```
private void TaskGestioneCartelle()
{
    Task.Factory.StartNew(() => GeneraListaCartelle())
        .ContinueWith(t => GeneraListaCartelleCompletata()
        , CancellationToken.None
        , TaskContinuationOptions.None
        , TaskScheduler.FromCurrentSynchronizationContext());
}

private void GeneraListaCartelle()
{
    // ... code
}

private void GeneraListaCartelleCompletata()
{
    Task.Factory.StartNew(() => CopiaCartelle())
        .ContinueWith(t => CopiaCartelleCompletato()
        , CancellationToken.None
        , TaskContinuationOptions.None
        , TaskScheduler.FromCurrentSynchronizationContext());
}

private void CopiaCartelle()
{
    // long operation...
} 
```

事实上，当 CopiaCartelle 启动时，我并没有进入新线程，因为它需要很长时间，并且 UI 完全冻结（而 on `GeneraListaCartelle()`，这也需要很长时间，这不会发生）。也因为我可以在 UI 中的控件上编写而不使用`InvokeRequired`and `MethodInvoker`。

我错过了一些观点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T11:06:46.320

尝试更改 `Task.Factory.StartNew(() => CopiaCartelle())` 为以下内容：

```
Task.Factory.StartNew(() => CopiaCartelle(),  CancellationToken.None, TaskCreationOptions.None, TaskScheduler.Default)) 
```

您将在 UI 线程上继续进入 GeneraListaCartelleCompletata，它似乎在 UI 线程上调度任务 - 放置 TaskScheduler.Default 将使其在自己的线程中运行。（刚刚测试了这个以确认）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T13:25:08.183

@NDJ 发布的内容是正确的，我做了一个简单的例子来展示发生了什么。

首先，方法：

```
private static void TaskGestioneCartelle()
{            
    Task.Factory.StartNew(() => GeneraListaCartelle())
        .ContinueWith(t => GeneraListaCartelleCompletata()
        , CancellationToken.None
        , TaskContinuationOptions.None
        , TaskScheduler.FromCurrentSynchronizationContext());
}

private static void GeneraListaCartelle()
{
    //No sleep could block the thread UI because the task is being executed on a different Thread
    Debug.WriteLine("GeneraListaCartelle " + Thread.CurrentThread.ManagedThreadId);
    Thread.Sleep(4000);            
    mainForm.Invoke(new Action(() => bla.Text = "uno due tre, Genera Lista!"));            
}

private static void GeneraListaCartelleCompletata()
{
    //This is begin executed on the UI thread
    Debug.WriteLine("GeneraListaCartelleCompletata " + Thread.CurrentThread.ManagedThreadId);
    Task.Factory.StartNew(() => CopiaCartelle())
        .ContinueWith(t => CopiaCartelleCompletato()
        , CancellationToken.None
        , TaskContinuationOptions.None
        , TaskScheduler.FromCurrentSynchronizationContext());
}

private static void CopiaCartelle()
{
    //This is begin executed on the UI thread (doesn't even show in the form 'cause the thread is blocked)
    Debug.WriteLine("CopiaCartelle " + Thread.CurrentThread.ManagedThreadId);
    Thread.Sleep(4000);   
    mainForm.Invoke(new Action(() => bla.Text = "Copia Cartelle \\o"));            
}

private static void CopiaCartelleCompletato()
{
    //This is begin executed on the UI thread
    Debug.WriteLine("CopiaCartelleCompletato " + Thread.CurrentThread.ManagedThreadId);
    Thread.Sleep(4000);   
    mainForm.Invoke(new Action(() => bla.Text = "Completato!"));
    //Stops blocking the UI thread
} 
```

现在表单和组件

```
 static Label bla = new Label()
    {
        Text = "Mama Mia, Gestione Cartelle!",
        Left = 100,
        Top = 100,
        Width=300
    };

    static Label hangOn = new Label()
    {
        Text="Hang loose"
    };

    static Form mainForm = new Form()
    {
        Width = 600,
        Height = 600
    };

[STAThread]
static void Main(string[] args)
{
    mainForm.Controls.Add(bla);
    mainForm.Controls.Add(hangOn);
    mainForm.MouseMove += (o, e) => { hangOn.Left = e.X; hangOn.Top = e.Y; };
    Debug.WriteLine("UI Thread: "+ Thread.CurrentThread.ManagedThreadId);
    TaskGestioneCartelle();

    Application.Run(mainForm);
} 
```

首先，运行应用程序并继续移动鼠标。`Hang Loose`当Label 停止跟随您的鼠标时，您会注意到 UI 线程被阻止。

现在，如果你`Output`从 Debug 中检查，你会看到类似这样的东西：

```
UI Thread: 10
GeneraListaCartelle 6
GeneraListaCartelleCompletata 10
CopiaCartelle 10
CopiaCartelleCompletato 10 
```

看？它使用 UI 线程来运行您的任务，从而挂起您的 UI。

现在，`TaskScheduler.FormCurrentSynchronizationContext()`改为`TaskScheduler.Default`

多田：

```
UI Thread: 8
GeneraListaCartelle 9
GeneraListaCartelleCompletata 10
CopiaCartelle 10
CopiaCartelleCompletato 11 
```

在注释中，看到我`mainForm.Invoke`用来调用要在 中执行的操作`UI Thread`，例如更改标签文本。

如果您还有任何疑问，请随时发表评论。

# c# - 在 TCP Socket 数据发送 C# 之间获得恒定延迟

> ID：16080838
> 
> 赞同：1
> 
> 时间：2013-04-18T10:46:12.187
> 
> 标签：c#, sockets, tcp

我在 C# 2010 中有一个客户端-服务器应用程序。在 TCP Socket 中，我为我的应用程序中的所有连接的套接字（客户端-服务器）设置了 Nodelay = True 和 SendBufferSize = 0。

我正在跟踪每个传入传出的数据包，并使用 streamwriter 将其写入日志文件，它的 autoflush 属性设置为 true。

我注意到一件事，有时在发送数据时 2 个数据包之间存在恒定延迟（15-16 毫秒）。几次连续发送后，此延迟再次出现。

为什么会出现这种延迟？以及如何避免它....

看图片...

[http://s4.postimg.org/uoly38shp/Trace_1.png](http://s4.postimg.org/uoly38shp/Trace_1.png)
[http://s14.postimg.org/m4ab7oght/Trace_2.png](http://s14.postimg.org/m4ab7oght/Trace_2.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T10:52:28.137

如果您使用[DateTime](http://msdn.microsoft.com/en-gb/library/system.datetime.aspx)来跟踪您的性能 15 毫秒是关于提供的分辨率。尝试使用更可靠的[秒表。](http://msdn.microsoft.com/en-gb/library/system.diagnostics.stopwatch.aspx)

# java - 使用 servlet 无需重启的 Tomcat 程序化部署

> ID：16080841
> 
> 赞同：0
> 
> 时间：2013-04-18T10:46:23.910
> 
> 标签：java, tomcat

我想在java中创建一个可以自动创建servlet项目（如ide）的web项目。我完成了servlet项目创建部分，但是当我的应用程序运行时，我需要在服务器上部署新创建的项目。

我怎样才能得到这个给出一些例子或建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:50:01.093

`autoDeploy`通过[Tomcat Automatic_Application_Deployment](http://tomcat.apache.org/tomcat-6.0-doc/config/host.html#Automatic_Application_Deployment)查看您的 Tomcat 版本热部署`server.xml`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:50:56.563

如果你正在使用 maven 构建（你真的应该这样做），这非常简单。

```
<plugin>
    <groupId>org.codehaus.mojo</groupId>
            <artifactId>tomcat-maven-plugin</artifactId>
            <configuration>
                <url>http://myHost:8080/manager/html</url>
                <server>localtomcat</server>
                <update>true</update>
                <path>/myApp</path>
            </configuration>
        </plugin> 
```

然后在命令行

```
mvn clean package tomcat:deploy 
```

这将卸载当前版本，并部署新版本，所有这些都很好地打包在一个 war 文件中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T11:20:23.187

您可以通过多种方式进行。如果您熟悉 ANT，其中一种方法是使用 ANT（假设您不是热部署而是进行编程部署）

```
<project name="ApplicationName" basedir="." default="redeploy">

<!-- Defining the properties for this build.xml -->
<property environment="sysenv" />
<property name="application.war" value="<ApplicationName>.war"/>
<property name="server.home" value="${sysenv.CATALINA_HOME}"/>
<property name="server.startup" value="startup.bat"/>
<property name="server.shutdown" value="shutdown.bat"/>  
<property name="server.deploy" value="${server.home}/webapps"/>

<!-- Moves the application war file to server deployment folder -->
<target name="moveOutputWar">
    <echo>Deleting already deployed war file in the server</echo>
            <delete file="${server.deploy}/${application.war}"/>

    <copy file="${application.war}" toDir="${server.deploy}"/>  
</target>   

<!-- Restarts the server -->
<target name="redeploy" depends="moveOutputJar">
<echo>Stopping the server</echo>
<exec executable="${server.home}/bin/${server.shutdown}" dir="${server.home}/bin"/>
<echo>Starting the server</echo>
<exec executable="${server.home}/bin/${server.startup}" dir="${server.home}/bin"/>
</target>

</project> 
```

# c# - StringSplitOptions.None doesn't work as expected

> ID：16080843
> 
> 赞同：0
> 
> 时间：2013-04-18T10:46:25.783
> 
> 标签：c#, string, split

I'm trying to convert a string to string[] using two delimiters and I want delimiters to be null strings in resultant string[] nodes

```
string source = "(('CO.IN'.bit = C) OR ('CO.IN'.bit = V))";
char[] delimiters = new char[] { '(', ')' };
string[] parts = source.Split(delimiters,StringSplitOptions.None); 
```

The expected result for string[] parts is:

```
[null]
[null]
'CO.IN'.bit = C
[null]
' OR '
[null]
'CO.IN'.bit = V
[null]
[null] 
```

But the result obtained is:

```
[null]
[null]
'CO.IN'.bit = C
' OR '
'CO.IN'.bit = V
[null]
[null] 
```

I miss two nodes and I don't understand why.

Can anyone help me please?

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-18T10:48:49.697

您获得`null`分隔符值的假设是错误的。如果两个分隔符之间没有文本，则会得到一个空字符串。

出现前两个空字符串（您的帖子中的 [null]）是因为字符串的开头和第一个分隔符之间没有文本，并且第一个和第二个分隔符之间没有文本。

但是`C) OR ('CO`（您的字符串的一部分）可以拆分为`C`，`OR`并且`'CO`两个分隔符之间没有空字符串。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-18T10:48:27.597

输出正常。**注意 OR 前后的空格**。期望值不是你说的。输出“OR”是“OR”而不是“OR”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-19T06:11:44.657

我对函数的工作方式有误。我希望分隔符变成数组的空节点。但是 Dirk 帮助我理解了它的作用。

得到的结果是：

```
[null]
[null]
'CO.IN'.bit = C
' OR '
'CO.IN'.bit = V
[null]
[null] 
```

这意味着分隔符在字符串之间

```
[null]
Delimiter
[null]
Delimiter
'CO.IN'.bit = C
Delimiter
' OR '
Delimiter
'CO.IN'.bit = V
Delimiter
[null]
Delimiter
[null] 
```

我假设分隔符始终位于每个字符串的末尾，但不在最后一个节点中。我的循环运行良好。知道使用哪个分隔符是另一场战斗。

非常感谢！！

# c# - Visual studio Oracle client 11g use Oracle.DataAccess Intalation/configuration

> ID：16080844
> 
> 赞同：0
> 
> 时间：2013-04-18T10:46:26.313
> 
> 标签：c#, visual-studio-2008, oracle11g, odp.net, vshost.exe

I'm a bit lost here.

I have a 64-bit Windows 7 and I'm trying to do something on Visual Studio 2008 (I want to build something that works on 32 and 64 bit systems).

I'm also trying to use ODP.net and i had installed, a long time ago, the oracle 11g client, but unfortunatly for me i ended up with 2 oracle clients homes and one oradb home (i did found it to be very confusing, i mean the installation and i remmember i got a lot of troubles during the installations). i tried to correct this by removing what i had extra but never made it, not even with the Oracle uninstall (the official one they provide). Until now i used OLeDB to connect to an oracle DB but i want to start using ODP and so the Oracle.DataAccess.dll.

First i used the 32 bit version and it did not worked, saying it could not load it in the assembly. I found the reason was that my visual studio project properties had to be changed to work only on 32 bit systems. Even this way when i execute the command

```
cmd.ExecuteReader(); 
```

I got an error saying that vshost32 crashed.

I then decided to download the ODP-64 bit. This time it did not gave me the assembly error having my project for all types of systems, but the vshost crash happened anyway, although this time it was vshost and not vshost32, guessing visual studio is executing a different one depending on my project properties.

I'm trying to avoid reinstalling everything (oracle clients and vs2008) for 2 reasons. One, untill now i wasn't able to uninstall completely an oracle client, second because i have many work dependent and can't really do it fast enough and 100% sure it will work or it will not make thing worst.

So... any help? Any advice? I'm i missing something? Is the vshost crashing because i failed to install the ODP correctly? I can't find much information on web, basicly i only find code on how to use the ODP.

I would appreciate any help. I do think i should be starting from zero-ground (uninstalling everything) but only if it is safe and fast to do.

==============================================

Not sure its relevant but i found the oracle.dataaccess.dll in both GAC_64 and GAC_32 under C:\Windows\Microsoft.NET\assembly. I can also find the Policy in both cases.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T13:33:02.410

从注册表开始，找到 odp.net，在它之后 - 查看 gac，您应该会看到您的版本中的 oracle.dataaccess.dll，以及 pokucy dll，说明您将使用哪个 odac。

然后，查看注册表中指定的文件夹，尝试找到 oracle.Dataaccess.dll。

我想备份注册表，仅卸载 ODAC，清理注册表条目，可能是备份并清理 gac。

之后，重新安装 odac（我认为 11 带有自己的客户端）64 位，将您的项目配置为 64 位。

# java - 如何使用 iText 查找文本并将其替换为 pdf 文件

> ID：16080854
> 
> 赞同：0
> 
> 时间：2013-04-18T10:46:45.940
> 
> 标签：java, excel, pdf, itext

我有一个pdf表格，结构如下

```
 Hello firstname,

      Mr. firstname you are currently working at the designation post 
      and your current package is salary.

      Thanks.

       Excel database
       --------------------------------------
      + firstname + salary   + designation  +  
      |-----------|----------|--------------|
      | Alin      | 3,00,000 | Manager      |
      | Roy       | 2,75,000 | Php Developer|
      +-----------+----------+--------------+ 
```

这里的关键字firstname、designation 和salary 是从**excel 数据库**中获取并动态更改的。假设如果用户选择 alin，那么在**pdf 格式中，名字中​​的名字被替换为 Alin，薪水和职务分别被替换为 3,00,000 和经理。**

我的问题是我是 iText 的新手，我找不到如何搜索和替换这些关键字的方法。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:50:02.573

我不会将 iText 视为我的首选技术来执行此操作。

我会为 XSL-FO 使用 Velocity 模板，用动态数据填充它，生成 XSL-FO，然后使用标准 XSL-T 引擎将其转换为 PDF。复杂，但有效。

或者，如果您希望坚持 iText 轨道，只需弄清楚如何在 Java 对象中进行替换并以这种方式生成表单。

我不会推荐 Excel 作为“数据库”。

# java - 在 PHP 中将查询成功返回给 java

> ID：16080858
> 
> 赞同：0
> 
> 时间：2013-04-18T10:46:54.413
> 
> 标签：java, php, mysql, json

我需要检查用户名是否已经存在于数据库中。如果是，那么只有登录。登录后，我需要从 php 文件向 java 类发送响应，说明成功。当我使用 Json 访问我的 java 文件中的结果数组时，尽管用户名已经存在于数据库中，但它给出了 NULL。

有什么帮助吗？

我正在使用下面的 PHP 和 java 代码

```
<?php

include("db_config.php");

$myusername = $_GET['username'];
$mypassword = $_GET['password'];

$sql="SELECT id FROM tablename WHERE username='$myusername' and  password='$mypassword'";    

echo $sql;

$result=mysql_query($sql);
$row=mysql_fetch_array($result);
$active=$row['active'];

$count=mysql_num_rows($result);

if($count==1)
{
$result['login'] == 'success';

}
else 
{
$result['login'] == 'failed';
}
echo json_encode($result); 
```

这是我的 Java 代码

```
btnLogin.addActionListener(new ActionListener() 
    {
        public void actionPerformed(ActionEvent arg0)
        {
            username= textFieldUserName.getText().toString();
            password = textFieldPassword.getText().toString();
            //  discount = textFieldDiscount.getText().toString();

            List<NameValuePair> params = new ArrayList<NameValuePair>();

            params.add(new BasicNameValuePair("username",username));
            params.add(new BasicNameValuePair("password",password ));

            JSONObject json = jParser.makeHttpRequest(url_all_products, "GET", params);

            try {           

                status = json.getString(TAG_SUCCESS);
                System.out.println(" status is "+status);

                if(status.equalsIgnoreCase("success"))
                {
                    System.out.println("Login success");
                }   

            } catch (JSONException e) {

                e.printStackTrace();
            }           

        }

    }); 
```

另外，我尝试了 if(response.getStatusLine().getStatusCode()==200) ，如果来自服务器的 OK 则返回 200。

[编辑：代码重组]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:55:31.177

使用此代码`java`

```
JSONObject json = (JSONObject)jParser.makeHttpRequest(url_all_products, "GET", params);
try {           
   //status = json.getString(TAG_SUCCESS);
   String status = (String) json.get("login");
   System.out.println(" status is "+status);

   if(status.equalsIgnoreCase("success"))
   {
       System.out.println("Login success");
   }   
 } 
```

# eclipse - Webcontent code modified from eclipse not updating

> ID：16080861
> 
> 赞同：0
> 
> 时间：2013-04-18T10:46:56.300
> 
> 标签：eclipse, eclipse-indigo

I have java source code of about 3000 classes & other web content (js, css, html). I imported the project in eclipse(indigo) and run the project on Tomcat6\. After ant **compile.complete.deploy**, a new folder **${env.CATALINA_HOME}**.
I am modifying few js & html files from IDE, but it doesn't reflect in the browser. I reloaded the page several times, but no changes are done.

In Project -> Buildautomatically option is checked.

Do i need to modify on the files in **${env.CATALINA_HOME}** or the direct src code is fine?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-27T10:52:52.157

对于所有与 UI 相关的内容 - Webcontent 文件夹文件需要进行更改。当添加新的类文件或修改现有的类时，“ant smartbuild”就可以了。

- 谢谢。

# java - WebDriver 无法从 JQuery 下拉列表中选择

> ID：16080869
> 
> 赞同：2
> 
> 时间：2013-04-18T10:47:23.300
> 
> 标签：java, jquery, selenium, webdriver

我有一个带有 JQuery 下拉列表的 Web 表单。特定字段包含出生日期。该字段的来源是：

```
<div class="tooltipGroup" style="z-index:19;">
   <div class="day">
      <div class="jqTransformSelectWrapper" style="z-index: 19;">
      <div>
         <ul style="width: 100%; display: block; visibility: visible;">
          <li class="optHeading">
          <li class="undefined">
          <li class="undefined">
          <li class="undefined">
          <li class="undefined">
          <li class="undefined">
          <li class="undefined">
             <a index="6" href="#">6</a>
      </li>

         <li class="undefined">
             <a index="31" href="#">31</a>
       </li> 
```

这是试图获取所有元素并将它们放入 HashMap 的代码：

```
public void selectDob(int dob) {

        WebElement dobFieldDropdown;

        WebElement content = driver.findElement(By.className("leftClmn"));

        driver.findElement(By.id("aWrapper_dob_day")).click();

        dobFieldDropdown = content.findElements(By.className("tooltipGroup")).get(2).findElement(By.className("day")).findElement(By.tagName("ul"));

        HashMap<String, WebElement> dropdownValues = new HashMap<String, WebElement>();

        for (WebElement el : dobFieldDropdown.findElements(By.tagName("a"))) {
            dropdownValues.put(el.getText(), el);

            System.out.println(el.getText());
        }
        dropdownValues.get(dob).click();

    } 
```

该代码工作得很好，但有一个例外：它无法获取所有字段的值，只是打开下拉列表时第一个可见的值。

> 1 2 3 4 5

问题是如何获取其他字段的值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T07:35:45.010

我要感谢你们的帮助（尤其是 HemChe）。

原来这是最新的 FirefoxDriver 2.32 版本中的一个 bug。相同的代码在 ChromeDriver 上工作得很好，我已经得到了所有的下拉值。将 selenium 版本降级到 2.31 解决了这个问题，并且代码适用于两个驱动程序！

我将在 Selenium 错误跟踪器上注册一个错误！

这是我的代码的最终版本：

```
public void selectFromDropdown(String option) {

        WebElement dobFieldDropdown;

        WebElement content = driver.findElement(By.className("leftClmn"));

        driver.findElement(By.id("aWrapper_dob_day")).click();

        dobFieldDropdown = content.findElements(By.className("tooltipGroup")).get(2).findElement(By.className("day")).findElement(By.tagName("ul"));

        HashMap<String, WebElement> dropdownValues = new HashMap<String, WebElement>();

        for (WebElement el : dobFieldDropdown.findElements(By.tagName("a"))) {
            dropdownValues.put(el.getText(), el);

            System.out.println(el.getText().toString());
        }
        dropdownValues.get(option).click();

    } 
```

干杯!

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T12:15:27.880

试试下面的代码并检查它是否工作。

```
 WebElement w = driver.findElement(By.id("aWrapper_dob_day"));
    w.click();
    WebElement dobFieldDropdown = driver.findElements(By.className("undefined"));

    HashMap<String, WebElement> dropdownValues = new HashMap<String, WebElement>();

    for (WebElement el : dobFieldDropdown) {
        dropdownValues.put(el.getText(), el);

        System.out.println(el.getText());
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T10:55:36.627

您无法使用 Web Driver 定位不可见元素，您需要使用 JavaScript 才能获取它们。所以尝试类似的东西

```
JavascriptExecutor js = (JavascriptExecutor) driver;
js.executeScript("get them here by class name"); 
```

# maven - 过滤资源 maven-shade-plugin

> ID：16080870
> 
> 赞同：6
> 
> 时间：2013-04-18T10:47:24.457
> 
> 标签：maven, maven-shade-plugin

我正在尝试过滤我的 jar 中包含的资源。我正在使用 shade-maven-plugin，这个插件将我所有依赖项的所有资源添加到我生成的 jar 中，我只想包含我的项目资源。

这是我的 pom 定义：

```
 <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-shade-plugin</artifactId>
            <version>1.6</version>
            <executions>
                <execution>
                    <goals>
                        <goal>shade</goal>
                    </goals>
                    <configuration>
                        <minimizeJar>true</minimizeJar>
                        <transformers>
                            <transformer
                                implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">
                                <mainClass>es.app.applet.MyApplet</mainClass>
                            </transformer>
                        </transformers>
                    </configuration>
                </execution>
            </executions>
            <configuration>
                <filters>
                    <filter>
                        <artifact>*:*</artifact>
                        <excludes>
                            <exclude>META-INF/*.SF</exclude>
                            <exclude>META-INF/*.DSA</exclude>
                            <exclude>META-INF/*.RSA</exclude>
                            <exclude>META-INF/*.RSA</exclude>
                        </excludes>
                    </filter>
                </filters>
            </configuration>
        </plugin> 
```

我尝试添加下一个过滤器以删除所有资源，然后添加另一个过滤器，仅添加我的 artifactID 资源，但它不起作用。

```
 <filter>
                        <artifact>*:*</artifact>
                        <excludes>
                            <exclude>resources/*.*</exclude>
                        </excludes>
                    </filter> <filter>
                        <artifact>my.groupId:my.artifactId</artifact>
                        <includes>
                            <include>resources/*.*</include>
                        </includes>
                    </filter> 
```

想法？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-02-05T15:18:04.510

这是因为过滤器包含发生在过滤器排除之前。

使用您的代码，您将包括您 "my.groupId:my.artifactId" -> resources/ *。*

但后来你排除了所有“资源/ ” *。*

从原始[文档](http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html)：

> 从逻辑的角度来看，包含在排除之前处理​​，因此可以使用包含从存档中收集一组文件，然后使用排除进一步减少该集合。

# javascript - AJAXing 图像和处理它的数据

> ID：16080873
> 
> 赞同：2
> 
> 时间：2013-04-18T10:47:29.353
> 
> 标签：javascript, ajax, image

```
jQuery.ajax({
  url: "http://img.bitpixels.com/getthumbnail?code=72853&size=200&url=http://www.facebook.com"}).done(function ( data ) {
        if( console && console.log ) {
            magically_display(data)
        }
    }); 
```

所以我已经到了 ajaxing 图像。现在我很困惑，是否可以在不从服务器获取 base64 编码版本的情况下显示图像？我不想使用图像对象来加载图像，也不想将 url 直接放入图像标签中，我这样做的目的是找到一种方法将图像编码为我可以保存的格式localstorage 和以后使用 javascript 显示。

有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:55:41.160

[https://developer.mozilla.org/en-US/docs/DOM/Storage](https://developer.mozilla.org/en-US/docs/DOM/Storage)

```
interface Storage {
  readonly attribute unsigned long length;
  [IndexGetter] DOMString key(in unsigned long index);
  [NameGetter] DOMString getItem(in DOMString key);
  [NameSetter] void setItem(in DOMString key, in DOMString data);
  [NameDeleter] void removeItem(in DOMString key);
  void clear();
}; 
```

LocalStorage 允许只保存字符串值。因此，您必须将图像“转换”为文本并为当前用例“转换回”。猜猜，base64 是最好的解决方案。

# iphone - CCMenuItemFont 上的 CCLabelBMFont

> ID：16080874
> 
> 赞同：-1
> 
> 时间：2013-04-18T10:47:32.393
> 
> 标签：iphone, xcode, string, fonts, cocos2d-iphone

我正在尝试用我的个人 fnt 字体更改菜单声音上的“经典”标记感觉字体。这是我的代码，例如我想更改“恢复”和“退出”的字体。

```
 CCLabelBMFont* label = [CCLabelBMFont labelWithString:@"Paused" fntFile:@"score.fnt"];

    label.position = ccp(240, 160);

    [self addChild: label];

    [CCMenuItemFont setFontName:@"Marker Felt"];
    [CCMenuItemFont setFontSize:35];

    CCMenuItem *Resume = [CCMenuItemFont itemFromString:@"Resume"
                                                 target:self
                                               selector:@selector(resume:)];

    CCMenuItem *Quit = [CCMenuItemFont itemFromString:@"QUIT"
                                               target:self
                                             selector:@selector(GoToMainMenu:)]; 
```

好的，使用 CCLabelBMFont 暂停它可以工作，而另一个则不能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:09:30.423

试着打电话

```
[CCMenuItemFont setFontName:@"yourFontName"]; 
```

在使用 CCMenuItemFont 创建菜单项之前。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T12:08:04.453

`CCLabelBMFont`需要位图字体，而`CCMenuItem`需要*普通*字体。

如果您想从位图字体创建菜单项，您可能首先必须创建一个`CCLabelBMFont`并将其包装成一个`CCMenuItemLabel`

```
CCLabelBMFont* label = [CCLabelBMFont labelWithString:@"Resume" fntFile:@"score.fnt"];
CCMenuItemLabel* item = [CCMenuItemLabel itemWithLabel:label target:self selector:@selector(resume:)]; 
```

您也可以尝试`CCMenuItemAtlasFont`使用 atlas 字体

# localhost - 安装 Joomla 3 错误：您的配置文件或目录不可写

> ID：16080877
> 
> 赞同：4
> 
> 时间：2013-04-18T10:47:40.410
> 
> 标签：localhost, joomla3.0

> 您的配置文件或目录不可写或创建配置文件时出现问题。您必须手动上传以下代码。单击文本区域以突出显示所有代码，然后粘贴到新的文本文件中。将此文件命名为“configuration.php”并将其上传到您的站点根文件夹。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-18T10:57:38.510

运行 Joomla php 文件的用户（即运行您的 Web 服务器的用户）对当前托管 Joomla 站点的文件夹没有写入权限。这意味着安装过程不能自动创建文件。

选项是：

1.)您需要更改文件夹的权限，以便您的网络服务器可以创建文件。建议你以后换回去。

2.) 自己创建 confguration.php 文件，并将其放入托管 Joomla 的文件夹中。

# asp.net-mvc - 在 VS2012 中发布 Web 时出现问题

> ID：16080878
> 
> 赞同：2
> 
> 时间：2013-04-18T10:47:40.457
> 
> 标签：asp.net-mvc, deployment, visual-studio-2012, unity-container

我正在研究具有不同层的 MVC 项目（主项目 MVC Web 其他项目是类库，其中 Bin 指向 MVC Web Bin 文件夹）使用 Unity 进行依赖注入。

在我的本地机器上运行时，一切看起来都很好。如果我发布我的网站并浏览应用程序正在获取

给定的程序集名称或代码库无效。

```
var container = new UnityContainer();
container.LoadConfiguration();        //Error line 
```

我花了一些时间查看问题，发现在我的 Published Bin 文件夹中我的业务和数据访问 DLL 丢失了？

这是因为 Unity 吗？因为我的接口通过统一引用业务层？

我错过了什么或我如何发布没有任何问题？

PS：如果我复制 DLL 并放入虚拟目录文件夹，一切看起来都很好。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:45:47.327

In a web project, or any final project that employs dependency injection (could be WPF or Silverlignt application, even classic ASP.NET), **all binaries** that are used should be made **available**.

Imagine you have `Lib1.dll` and `Lib1.Impl.dll`, respectively an API library and a concrete implementation of the API. Now, in the web project you *rely* on dependency injection to provide you with concrete implementation of the interfaces from the `Lib1.dll`. You may *never happen to use a class from `Lib1.Impl.dll` directly* in that application. Still, **the DI framework needs to access** the `Lib1.Impl.dll` in order to instantiate the dependencies.

Depending on the DI framework and the supported capabilities of loading dependencies, you should provide them accordingly. It seems straightforward to have them all in the bin folder, or referenced directly by the final project - that is probably the reason your project works when you provide the implementation dll-s in the bin folder. Since, however, this goes against the considerations of decoupling, you may have to look at alternative approaches to dynamically load dll-s - by physical location for instance. I am sure Unity supports mechanisms for this, since Modularity in Enterprise Library allows for bootstrapping modules from a filesystem location.

I must say, though, while I mentioned decoupling and keeping the references separate, this is **not an issue** if you have them all referenced in the final tier of the project hierarchy (the web application), **as long as you do not have code that causes coupling** in that application.

# android - android扫描SD卡中的所有.mp3文件

> ID：16080880
> 
> 赞同：1
> 
> 时间：2013-04-18T10:47:45.833
> 
> 标签：android, media

我正在尝试扫描 SD 卡中的所有 .mp3 文件并保存其名称。这是负责此的代码片段。1.我做错了什么？1\. SD 卡 /mnt/sdcard 或 /sdcard 的正确路径是哪个？

```
public class PlayerActivity extends Activity
{

    public void onCreate(Bundle savedInstanceState)
    {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.player_activity); 
    }
    public class SongsManager 
    {
        // SDCard Path
        //final String MEDIA_PATH = new String(MediaStore.Audio.Media.getContentUri("external").toString());
        private ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();

        public SongsManager()
        {

        }

        public ArrayList<HashMap<String, String>> getPlayList()
        {
         //   File home = new File(MEDIA_PATH);
            File home = Environment.getExternalStorageDirectory();

            if (home.listFiles(new FileExtensionFilter()).length > 0) 
            {

                for (File file : home.listFiles(new FileExtensionFilter())) 
                {
                    HashMap<String, String> song = new HashMap<String, String>();
                    song.put("songTitle", file.getName().substring(0, (file.getName().length() - 4)));
                    song.put("songPath", file.getPath());

                    // Adding each song to SongList
                    songsList.add(song);

                }
            }
            // return songs list array
            return songsList;

        }

        class FileExtensionFilter implements FilenameFilter 
        {
            public boolean accept(File dir, String name) 
            {
                return (name.endsWith(".mp3") || name.endsWith(".MP3"));
            }
        }

    }
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-08-16T07:28:01.300

试试这个代码片段

```
final String MEDIA_PATH = Environment.getExternalStorageDirectory()
        .getPath() + "/";
private ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();
private String mp3Pattern = ".mp3";

// Constructor
public SongsManager() {

}

/**
 * Function to read all mp3 files and store the details in
 * ArrayList
 * */
public ArrayList<HashMap<String, String>> getPlayList() {
    System.out.println(MEDIA_PATH);
    if (MEDIA_PATH != null) {
        File home = new File(MEDIA_PATH);
        File[] listFiles = home.listFiles();
        if (listFiles != null && listFiles.length > 0) {
            for (File file : listFiles) {
                System.out.println(file.getAbsolutePath());
                if (file.isDirectory()) {
                    scanDirectory(file);
                } else {
                    addSongToList(file);
                }
            }
        }
    }
    // return songs list array
    return songsList;
}

private void scanDirectory(File directory) {
    if (directory != null) {
        File[] listFiles = directory.listFiles();
        if (listFiles != null && listFiles.length > 0) {
            for (File file : listFiles) {
                if (file.isDirectory()) {
                    scanDirectory(file);
                } else {
                    addSongToList(file);
                }

            }
        }
    }
}

private void addSongToList(File song) {
    if (song.getName().endsWith(mp3Pattern)) {
        HashMap<String, String> songMap = new HashMap<String, String>();
        songMap.put("songTitle",
                song.getName().substring(0, (song.getName().length() - 4)));
        songMap.put("songPath", song.getPath());

        // Adding each song to SongList
        songsList.add(songMap);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T13:54:24.643

我不确定您的代码有什么问题。但是您可以尝试这种方法：

```
public HashMap<String, String> scanDirectory(File dir) {

HashMap<String, String> song; 
String mp3Pattern = ".mp3";
File listFile[] = dir.listFiles();

if (listFile != null) {
    for (int i = 0; i < listFile.length; i++) {

        if (listFile[i].isDirectory()) {
            walkdir(listFile[i]);
        } else {
          if (listFile[i].getName().endsWith(mp3Pattern)){
               song = new HashMap<String, String>();
                song.put("songTitle", file.getName().substring(0, (file.getName().length() - 4)));
                song.put("songPath", file.getPath());

                // Adding each song to SongList
                songsList.add(song);

          }
        }
    }
}  
   return song;
  } 
```

扫描整个 sdcard 以进行 mp3 调用`scanDirectory(Environment.getExternalStorageDirectory());`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-10T15:45:38.373

通常`Environment.getExternalStorageDirectory().getPath()`是“/storage/emulated/0/”左右的形式。

您将其拆分以获取根-

```
String media_path = Environment.getExternalStorageDirectory().getPath();
String[] splitPath= media_path .split("/");
final String MEDIA_PATH = "/" + splitPath[1] + "/"; 
```

这行得通！

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-08-21T00:50:42.107

问题在于android认为是外部存储。您添加到设备中的并不总是 sd 卡。内部存储器也可以是外部存储器。/sdcard 或 /mnt/sdcard 是同一位置，它可能指向您的内部存储。所以你必须彻底扫描 /mnt 文件夹。就像在某些设备中 /mnt/sdcard 将是内部存储器，而 /mnt/extSdCard 将是您添加的那个。文件主页 = Environment.getExternalStorageDirectory(); 此方法将返回第一个外部存储，而不是全部。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2015-06-07T09:58:09.077

试试这个：final String MEDIA_PATH = "/storage/";

# java - 以编程方式隐藏和显示 Eclipse 视图

> ID：16080881
> 
> 赞同：3
> 
> 时间：2013-04-18T10:47:48.270
> 
> 标签：java, eclipse-plugin, eclipse-rcp

我正在使用下面的代码显示和隐藏 Eclipse 视图。它与 Eclipse 3.3 完美配合，但在 Eclipse Juno（4.3 版）中，它不是第一次显示，而是在我第二次触发该事件时显示。

```
IWorkbenchPage page = PlatformUI.getWorkbench().getActiveWorkbenchWindow()
    .getActivePage();
page.showView(UserView.ID);
page.hideView(page.findView(UserView.ID)); 
```

以前有人遇到过这种情况吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T15:21:58.760

我不知道为什么你没有第一次得到它。第一次触发时检查是否没有空指针错误。

```
PlatformUI.getWorkbench().getActiveWorkbenchWindow().getActivePage() 
```

`null`如果工作台尚未加载，则可以返回 a 。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-12-11T23:40:04.383

我在最小化状态下遇到了同样的问题，所以我尝试改变视图的状态，强制它出现在之后`page.showView(UserView.ID);`

这段代码让我的 viewPart 显示：

```
page.showView(UserView.ID); 
IWorkbenchPartReference ref = page.getReference(searchResultUI);    
page.setPartState(ref,IWorkbenchPage.STATE_RESTORED); //or STATE_MAXIMIZED 
```

# .net - Windows Vista 上的应用程序崩溃

> ID：16080887
> 
> 赞同：0
> 
> 时间：2013-04-18T10:48:03.913
> 
> 标签：.net, mfc, crash, sql-server-ce, windows-vista

我使用 .NET 框架 4 开发了一个应用程序。它使用 SQL CE 和 WPF。该应用程序已经安装在许多机器上（Windows XP SP3/Windows 7/Windows 8）并且运行良好。当一些客户尝试在运行 Windows Vista（带有 SP1 或 SP2）的机器上安装它时，应用程序崩溃并弹出“*应用程序*已停止工作。Windows 正在检查问题的解决方案..”。我没有收到其他异常消息，并且一切似乎都安装得很好。你能提出一个解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T16:31:07.420

问题已经解决了。事实证明，我不是 x86 问题，而且它不仅仅在 windows vista 上遇到。在 windows xp 上观察到相同的问题/错误，但出现了错误签名。在 Windows vista 中，我必须检查来自事件处理程序的错误。显示的错误与此类似：

事件类型：clr20r3 P1：HelloWorld.exe P2：1.0.0.0 P3：515b6326 P4：system.data.sqlserverce P5：4.0.0.0 P6：4fcd17f1 P7：8f0 P8：25
P9：System.windows.markup.xamlparse

搜索后我发现解决方案是在机器上安装此 Microsoft 更新 [http://www.microsoft.com/en-us/download/details.aspx?id=26368](http://www.microsoft.com/en-us/download/details.aspx?id=26368)

# iphone - 如何在ios中将FLAC文件转换为wav文件？

> ID：16080888
> 
> 赞同：2
> 
> 时间：2013-04-18T10:48:04.037
> 
> 标签：iphone, ios, objective-c, avaudioplayer, flac

*我想创建一个支持 Flac 格式的音频文件的音频播放器。为此，我尝试实现 flac 到 wav 转换的算法，如下所示*

请帮我。

它一直给我错误

错误：初始化解码器：FLAC__STREAM_DECODER_INIT_STATUS_ERROR_OPENING_FILE

```
static FLAC__bool write_little_endian_uint16(FILE *f, FLAC__uint16 x)
{
return
fputc(x, f) != EOF &&
fputc(x >> 8, f) != EOF
;
}

static FLAC__bool write_little_endian_int16(FILE *f, FLAC__int16 x)
{
return write_little_endian_uint16(f, (FLAC__uint16)x);
}

static FLAC__bool write_little_endian_uint32(FILE *f, FLAC__uint32 x)
{
return
fputc(x, f) != EOF &&
fputc(x >> 8, f) != EOF &&
fputc(x >> 16, f) != EOF &&
fputc(x >> 24, f) != EOF
;
}

int main(int argc, char *argv[])
{
const char *input = "demo_audio_shaer.flac";
printf("aa[0]====%s",argv[0]);

FLAC__bool ok = true;
FLAC__StreamDecoder *decoder = 0;
FLAC__StreamDecoderInitStatus init_status;
FILE *fout;

if((fout = fopen(argv[2], "wb")) == NULL) {
    fprintf(stderr, "ERROR: opening %s for output\n", argv[2]);
    return 1;
}

if((decoder = FLAC__stream_decoder_new()) == NULL) {
    fprintf(stderr, "ERROR: allocating decoder\n");
    fclose(fout);
    return 1;
}

(void)FLAC__stream_decoder_set_md5_checking(decoder, true);
init_status = FLAC__stream_decoder_init_file(decoder, input, write_callback, metadata_callback, error_callback, /*client_data=*/fout);
if(init_status != FLAC__STREAM_DECODER_INIT_STATUS_OK) {
    fprintf(stderr, "ERROR: initializing decoder: %s\n", FLAC__StreamDecoderInitStatusString[init_status]);
    ok = false;
}

if(ok) {
    ok = FLAC__stream_decoder_process_until_end_of_stream(decoder);
    fprintf(stderr, "decoding: %s\n", ok? "succeeded" : "FAILED");

    fprintf(stderr, "   state: %s\n", FLAC__StreamDecoderStateString[FLAC__stream_decoder_get_state(decoder)]);
}

FLAC__stream_decoder_delete(decoder);
fclose(fout);

return 0;
}

FLAC__StreamDecoderWriteStatus write_callback(const FLAC__StreamDecoder *decoder, const                 FLAC__Frame *frame, const FLAC__int32 * const buffer[], void *client_data)
{
FILE *f = (FILE*)client_data;
const FLAC__uint32 total_size = (FLAC__uint32)(total_samples * channels * (bps/8));
size_t i;

(void)decoder;

if(total_samples == 0) {
    fprintf(stderr, "ERROR: this example only works for FLAC files that have a total_samples count in STREAMINFO\n");
    return FLAC__STREAM_DECODER_WRITE_STATUS_ABORT;
}
if(channels != 2 || bps != 16) {
    fprintf(stderr, "ERROR: this example only supports 16bit stereo streams\n");
    return FLAC__STREAM_DECODER_WRITE_STATUS_ABORT;
}

/* write WAVE header before we write the first frame */
if(frame->header.number.sample_number == 0) {
    if(
       fwrite("RIFF", 1, 4, f) < 4 ||
       !write_little_endian_uint32(f, total_size + 36) ||
       fwrite("WAVEfmt ", 1, 8, f) < 8 ||
       !write_little_endian_uint32(f, 16) ||
       !write_little_endian_uint16(f, 1) ||
       !write_little_endian_uint16(f, (FLAC__uint16)channels) ||
       !write_little_endian_uint32(f, sample_rate) ||
       !write_little_endian_uint32(f, sample_rate * channels * (bps/8)) ||
       !write_little_endian_uint16(f, (FLAC__uint16)(channels * (bps/8))) || /* block align */
       !write_little_endian_uint16(f, (FLAC__uint16)bps) ||
       fwrite("data", 1, 4, f) < 4 ||
       !write_little_endian_uint32(f, total_size)
       )
    {
        fprintf(stderr, "ERROR: write error\n");
        return FLAC__STREAM_DECODER_WRITE_STATUS_ABORT;
    }
}

/* write decoded PCM samples */
for(i = 0; i < frame->header.blocksize; i++) {
    if(
       !write_little_endian_int16(f, (FLAC__int16)buffer[0][i]) ||  /* left channel */
       !write_little_endian_int16(f, (FLAC__int16)buffer[1][i])     /* right channel */
       ) {
        fprintf(stderr, "ERROR: write error\n");
        return FLAC__STREAM_DECODER_WRITE_STATUS_ABORT;
    }
}

return FLAC__STREAM_DECODER_WRITE_STATUS_CONTINUE;
}

void metadata_callback(const FLAC__StreamDecoder *decoder, const FLAC__StreamMetadata *metadata, void *client_data)
{
(void)decoder, (void)client_data;

/* print some stats */
if(metadata->type == FLAC__METADATA_TYPE_STREAMINFO) {
    /* save for later */
    total_samples = metadata->data.stream_info.total_samples;
    sample_rate = metadata->data.stream_info.sample_rate;
    channels = metadata->data.stream_info.channels;
    bps = metadata->data.stream_info.bits_per_sample;

    fprintf(stderr, "sample rate    : %u Hz\n", sample_rate);
    fprintf(stderr, "channels       : %u\n", channels);
    fprintf(stderr, "bits per sample: %u\n", bps);
#ifdef _MSC_VER
    fprintf(stderr, "total samples  : %I64u\n", total_samples);
#else
    fprintf(stderr, "total samples  : %llu\n", total_samples);
#endif
}
}

void error_callback(const FLAC__StreamDecoder *decoder, FLAC__StreamDecoderErrorStatus status, void *client_data)
{
(void)decoder, (void)client_data;

fprintf(stderr, "Got error callback: %s\n", FLAC__StreamDecoderErrorStatusString[status]);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-05-23T13:45:03.153

我可以建议我的解决方案。 [https://github.com/Krivoblotsky/KSAudioPlayer](https://github.com/Krivoblotsky/KSAudioPlayer)

它支持 *.flac 和许多其他文件格式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T11:21:14.917

无法直接使用框架播放`FLAC`文件 。`AVFoundation`支持的是：

```
*AAC
*HE-AAC
*AMR (Adaptive Multi-Rate, a format for speech)
*ALAC (Apple Lossless)
*iLBC (internet Low Bitrate Codec, another format for speech)
*IMA4 (IMA/ADPCM)
*linear PCM (uncompressed)
*µ-law and a-law
*MP3 (MPEG-1 audio layer 3 
```

但是在上面给出之后`converting`，`feasible format`它可以`played`使用`AVFoundation`框架。

**编辑**：[图书馆](http://sourceforge.net/projects/flac/files/flac-src/)`converting to wav`。_ [这里的](http://awesome-wav.googlecode.com/svn-history/r263/trunk/src/flac/main.c)好例子

**编辑**：使用[FFMPEG](http://www.ffmpeg4ios.org/)库播放 FLAC

# android - 如何调出动态壁纸列表

> ID：16080893
> 
> 赞同：0
> 
> 时间：2013-04-18T10:48:21.627
> 
> 标签：android

我正在编写我自己的活动壁纸，它几乎准备好了。几乎是偶然的，我发现在一个 apk 中你可以同时拥有一个壁纸服务和一个普通的应用程序。我注意到可以安排普通应用程序，以便在运行时立即显示动态壁纸列表，并且您可以收到一条祝酒消息，例如“单击我的超级壁纸以打开它”。要查看示例，请尝试 Google Play 上的“海洋”壁纸。

我现在的问题是如何像海洋一样​​以编程方式显示动态壁纸列表。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:51:02.080

这是获取列表的方式

```
 Intent lv = new Intent(WallpaperManager.ACTION_LIVE_WALLPAPER_CHOOSER);
    //Toast
    startActivity(lv); 
```

# android - 如何在自定义主题中设置对话框样式？

> ID：16080895
> 
> 赞同：0
> 
> 时间：2013-04-18T10:48:25.080
> 
> 标签：android

我尝试了很多方法，但我无法从 xml 更改 AlertDialog 样式。

我想要的结果是为扩展和覆盖默认值的对话框定义 XML 样式，然后将其绑定到我的主题中，因此所有 alertDialogs 看起来都一样。

我试过了：

```
<style name="AppTheme" parent="AppBaseTheme">
    <!-- All customizations that are NOT specific to a particular API-level can go here. -->
    <item name="android:alertDialogStyle">@style/pippo</item>
</style>
<style name="pippo" parent="@android:style/Theme.Dialog">
    <item name="android:bottomBright">@android:color/holo_orange_dark</item>
    <item name="android:bottomDark">@android:color/holo_orange_dark</item>
    <item name="android:bottomMedium">@android:color/holo_orange_dark</item>
    <item name="android:centerBright">@android:color/holo_orange_dark</item>
    <item name="android:centerDark">@android:color/holo_orange_dark</item>
    <item name="android:centerMedium">@android:color/holo_orange_dark</item>
    <item name="android:fullBright">@android:color/holo_orange_dark</item>
    <item name="android:fullDark">@android:color/holo_orange_dark</item>
    <item name="android:topBright">@android:color/holo_blue_dark</item>
    <item name="android:topDark">@android:color/holo_blue_dark</item>
</style> 
```

然后我将清单“AppTheme”作为活动主题放入，但我仍然看到正常的警报对话框。

我哪里做错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:56:27.993

您可以尝试这样的事情来应用所需的样式：

```
AlertDialog.Builder builder = new AlertDialog.Builder(new ContextThemeWrapper(this, R.style. pippo)); 
```

# ruby-on-rails - 在 Ruby Rails 应用程序中动态定义数据库名称

> ID：16080898
> 
> 赞同：1
> 
> 时间：2013-04-18T10:48:31.427
> 
> 标签：ruby-on-rails, passenger

有没有办法动态设置数据库名称（最初来自 database.yml），最好使用应用程序路径名的一部分？

问题的背景是，我有一个源代码，它应该在同一个服务器上多次运行，但应用程序的每个实例都应该有一个不同的数据库。

例如，我有一个使用货币 USD 的拍卖网站。现在我想再次运行相同的拍卖网站（一个相同的服务器）以获得第二种货币。出于正当理由，我不想让应用程序支持多币种，我想保持源代码不变。

使用子 URL 在同一服务器上设置应用程序我将遵循这种方法： [http ://www.modrails.com/documentation/Users%20guide%20Apache.html#deploying_rack_to_sub_uri](http://www.modrails.com/documentation/Users%20guide%20Apache.html#deploying_rack_to_sub_uri)

剩下的问题是，应用程序的每个实例如何获得自己的数据库名称，例如，一个实例使用数据库名称 production_USD，另一个使用 production_CAD

* * *

编辑：由于收到的反馈，该解决方案就像一个魅力：

我在服务器上的文件夹结构是

```
/var/www/auction/USD-US Dollar
/var/www/auction/CAD-Canadian Dollar
/var/www/auction/source
/var/www/logs 
```

使用包含原始源代码的源文件夹以及指向源代码的 USD 和 CAD（实际上不需要将任何代码复制到任何地方，除了将其放入源代码中。

接下来动态设置数据库。货币是通过查看文件夹名称自动确定的。我在早期将它放入 application.rb 中，因为我还需要不同货币的不同日志文件。我将日志文件存储在源文件夹之外，以确保在从 QA 系统刷新源文件夹时不会丢失它们

这里代码更改：

应用程序.rb：

```
fname = File.basename(File.expand_path('../../', __FILE__))

curr = fname.split("-")
if curr[1].nil?
  CURR_SHORT = "XXX"
  CURR_LONG  = "XXX"
else
  CURR_SHORT = curr[0]
  CURR_LONG  = curr[1]
end

dbname = "myapp_#{CURR_SHORT}_#{Rails.env[0..2]}"

ActiveRecord::Base.establish_connection(
  :adapter  => "sqlite3",
  :host     => "localhost",
  :username => "myuser",
  :password => "mypass",
  :database => dbname 
```

)

```
module Virex
  class Application < Rails::Application

    config.logger = ActiveSupport::BufferedLogger.new("../logs/#{Rails.env}.#{CURR_SHORT}.log")

.... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T12:29:49.377

当然，看看`ActiveRecord::Base.establish_connection`：

```
ActiveRecord::Base.establish_connection(
  :adapter  => "mysql",
  :host     => "localhost",
  :username => "myuser",
  :password => "mypass",
  :database => "somedatabase"
) 
```

您可以将这段代码放入初始化程序中，并使用您想要的数据库名称，具体取决于您的路径名。

[在此处完成文档](http://apidock.com/rails/ActiveRecord/Base/establish_connection/class)

# iphone - iPhone中隐藏在我的BaseViewController后面的按钮

> ID：16080909
> 
> 赞同：-2
> 
> 时间：2013-04-18T10:48:49.883
> 
> 标签：iphone, uiimageview, uibutton

我面临着奇怪的问题。我有一个使用 UIViewController 扩展的 baseViewController。在我的 BaseView 控制器中，我在其顶部有一个自定义 HeaderBar (UIImageView)。

然后我制作了一个新的 ViewController 并用 baseViewController 扩展了这个新的 ViewController。BaseViewController 中的 headerBar 出现在我的 UIViewController 上。但是现在，如果我在 NEWViewController 中的 headerBar 上添加任何子视图，那么它不会超过那个，而它会在标题栏后面。

任何人都可以建议做什么。

***已编辑***

这是我的代码。

***BASEViewController***

```
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
CGFloat xOffset = 0;
if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad) {
    xOffset = 224;
}

self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
if (self) {
    // Custom initialization

   headerBarView = [self addHeaderBar];
    //[self.view addSubview:headerBarView];
    [self.view insertSubview:headerBarView belowSubview:self.view];

}

return self;
}
-(UIView *)addHeaderBar{

UIView *header_bar = [[UIView alloc] initWithFrame:CGRectMake(0.0, 0.0, 320, 50.0)];

//HeaderBar Image
UIImageView *headerBar = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0.0, 320, 50.0)];
[headerBar setImage:[UIImage imageNamed:@"top_bar"]];
[header_bar addSubview:headerBar];
return header_bar;
} 
```

***用 BaseViewController 扩展的 NEWViewController***

```
 //Back Button
back =  [UI getActionBarButtonWithName:[NSString stringWithFormat:@"Back"] andCGRect:CGRectMake(7.0, 100.0, 55.0, 31.0) andEdgeInset:UIEdgeInsetsMake(0.0, 9.0, 2.0, 0.0) withBackGround:[UIImage imageNamed:@"back_button"]]; 
   [self.view bringSubviewToFront:back];

+(UIButton *)getActionBarButtonWithName:(NSString *)name andCGRect:(CGRect)rect andEdgeInset:(UIEdgeInsets)edgeInset withBackGround:(UIImage *)background{

UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
button.frame = rect;
[button setBackgroundImage:background forState:UIControlStateNormal];
[button setTitleEdgeInsets:edgeInset];
[button setTitle:name forState:UIControlStateNormal];
[button.titleLabel setFont:[UIFont boldSystemFontOfSize:13.0]];
[button setUserInteractionEnabled:YES];

return button;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T11:40:59.817

尝试使用

```
[self.view bringSubviewToFront:button]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:55:04.350

如果您有很多视图，您也可以使用其中任何一种 -

```
[self.view insertSubview:<#(UIView *)#> aboveSubview:<#(UIView *)#>]
[self.view insertSubview:<#(UIView *)#> atIndex:<#(NSInteger)#>]
[self.view insertSubview:<#(UIView *)#> belowSubview:<#(UIView *)#>] 
```

希望它会帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T12:53:53.137

新的 UIVIew 覆盖您的基本视图控制器，您可以设置新视图的框架，然后添加子视图。

前任。UIView* tempView=[UIView alloc]initWithFrame:CGRectMake(0,44,320,420)]; [self.view addSubView:temView];

# java - 如何让计算器上的按钮真正做方程式？

> ID：16080912
> 
> 赞同：-4
> 
> 时间：2013-04-18T10:48:51.243
> 
> 标签：java, swing, math, user-interface

我想制作一个有趣的小型计算器项目，以使用 Java Swing API 测试我的新 GUI 知识。我创建了 GUI，但缺少一个关键部分：数学！我的问题是，如何为每个按钮添加功能？简单来说：当用户单击按钮时，如何使按钮向文本框（2+2）添加一些内容，然后让系统实际将数字加在一起并为用户显示？

这是代码：

```
package calculatorPack;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextArea;
import javax.swing.UIManager;

public class basicCalculatorDesign {

    public static void main(String[] args) {
        try {
            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
            } 
            catch (Exception e) {
            }
        basicCalculatorDesign calc = new basicCalculatorDesign();
        calc.start();
    }

    JTextArea input = new JTextArea();
    String[] operators;
    int[] numbers;

    public void start() {
        JFrame frame = new JFrame();
        JPanel panel = new JPanel();
        JButton one = new JButton("1");
        JButton two = new JButton("2");
        JButton three = new JButton("3");
        JButton four = new JButton("4");
        JButton five = new JButton("5");
        JButton six = new JButton("6");
        JButton seven = new JButton("7");
        JButton eight = new JButton("8");
        JButton nine = new JButton("9");
        JButton zero = new JButton("0");
        JButton plus = new JButton("+");
        JButton minus = new JButton("-");
        JButton divide = new JButton("/");
        JButton multiply = new JButton("*");
        JButton sqrt = new JButton("SqRt");
        JButton percentage = new JButton("%");
        JButton equals = new JButton("=");

        // work on this

        JLabel label = new JLabel("Basic Calculator");
        frame.getContentPane().add(BorderLayout.NORTH, label);

        frame.getContentPane().add(BorderLayout.SOUTH, input);

        panel.setBackground(Color.BLUE);
        panel.setLayout(new GridBagLayout());

        JPanel panel2 = new JPanel();
        panel2.setLayout(new BoxLayout(panel2, BoxLayout.Y_AXIS));
        panel2.setBackground(Color.RED);
        frame.getContentPane().add(BorderLayout.EAST, panel2);

        frame.getContentPane().add(BorderLayout.CENTER, panel);

        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setVisible(true);
        frame.setSize(210, 260);

        GridBagConstraints right = new GridBagConstraints();
        right.anchor = GridBagConstraints.WEST;
        GridBagConstraints left = new GridBagConstraints();
        left.anchor = GridBagConstraints.EAST;
        GridBagConstraints middle = new GridBagConstraints();
        middle.anchor = GridBagConstraints.CENTER;
        right.gridwidth = GridBagConstraints.REMAINDER;
        right.fill = GridBagConstraints.HORIZONTAL;

        // add buttons
        panel.add(one, left);
        panel.add(two, middle);
        panel.add(three, right);
        panel.add(four, left);
        panel.add(five, middle);
        panel.add(six, right);
        panel.add(seven, left);
        panel.add(eight, middle);
        panel.add(nine, right);
        panel.add(zero, right);

        panel2.add(equals);
        panel2.add(plus);
        panel2.add(minus);
        panel2.add(divide);
        panel2.add(multiply);
        panel2.add(sqrt);
        panel2.add(percentage);

        //integrate buttons 
        one.addActionListener(new ButtonListener());
        two.addActionListener(new ButtonListener());
        three.addActionListener(new ButtonListener());
        four.addActionListener(new ButtonListener());
        five.addActionListener(new ButtonListener());
        six.addActionListener(new ButtonListener());
        seven.addActionListener(new ButtonListener());
        eight.addActionListener(new ButtonListener());
        nine.addActionListener(new ButtonListener());
        zero.addActionListener(new ButtonListener());

        equals.addActionListener(new OperatorListener());
        }

    class ButtonListener implements ActionListener {
        public void actionPerformed(ActionEvent e) {
            JButton source = (JButton)e.getSource();
            input.replaceSelection(source.getActionCommand());  

        }
    }

    class OperatorListener implements ActionListener {
        public void actionPerformed(ActionEvent e) {
            JButton source2 = (JButton)e.getSource();
            input.replaceSelection(source2.getActionCommand());

        }
    }

    // I need THIS to do math. 
    class EqualsListener implements ActionListener {
        public void actionPerformed(ActionEvent e) {

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:33:07.693

看起来您想要评估算术表达式。一些选项：

*   使用可用的`ScriptEngine`，显示[在这里](https://stackoverflow.com/a/14951809/230513)和[这里](https://stackoverflow.com/a/7441804/230513)。

*   编写一个[递归下降解析器](http://en.wikipedia.org/wiki/Recursive_descent_parser)，如图[所示](https://sites.google.com/site/drjohnbmatthews/enumerated-functions)。

*   当用户在文本区域中键入时，使用[此处](http://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html)`DocumentListener`讨论的 来评估表达式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T11:07:19.647

他们以我理解您的代码的方式，您正在创建一个带有字符串的文本区域，该字符串恰好看起来像公式（“1 + 1”）。我不确定该代码是否有效，因为在我看来，您只是将一个数字替换为另一个数字。无论如何，这只是文本，所以没关系。

如果你想做数学，你必须改变你的代码，从文本中得到一个实数。由于您只转换一个数字，这很容易。

您必须知道哪个是第一个数字，哪个是第二个数字。然后，当用户按下“=”按钮时，您可以执行它。

所以它是这样的：

```
setVal1(-1);
setVal2(-1);
setOperation(null); 
```

在您的按钮侦听器中执行以下操作：

```
int val = Integer.parseInt(buttontext);
if(getVal1() == -1)
   setVal1val);
else
   setVal2(val); 
```

在您的运营商侦听器中执行以下操作：

```
setOperation(OperationFromButton); 
```

在你平等的听众做这样的事情：

```
if(getVal1() == -1 || getVal2() == -1 || getOperation() == null)
    return error or nothing;

if(operation == "+")
   result = getVal1()+getVal2();
else if(operation == "-")
   result = getVal1()-getVal2();
... 
```

# events - 活动创建时的 Jomsocial 电子邮件提醒

> ID：16080921
> 
> 赞同：1
> 
> 时间：2013-04-18T10:49:19.767
> 
> 标签：events, joomla3.0, jomsocial

如果我在 Jomsocial 组中创建活动，如果我是该组的一员，我会自动收到一封通知电子邮件。

能否在普通活动中复制此功能，以便我的 Jomsocial 网络上的每个人都会在活动创建时收到一封电子邮件，即使他们不属于某个组？

# paypal - 贝宝付款方式

> ID：16080926
> 
> 赞同：0
> 
> 时间：2013-04-18T10:49:33.223
> 
> 标签：paypal

我希望有人可以对此有所了解。

我们使用网站支付标准、网站支付专业版 (DoDirectpayment) 与 PayPal 一起开发。

还有其他几种方法，例如 Advanced Checkout、Express Checkout、Payflow Pro 等。每种方法的作用是什么？有没有地方可以看到所有这些以及它们之间的差异？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T13:00:06.457

为您提供一些主要差异的快速简要概述。

网站支付标准 - 使用您从 PayPal 帐户生成的 HTML 按钮按钮，或者您可以使用第三方购物车，或构建您自己的购物车。买家基本上被重定向到 PayPal 支付页面，输入他们的信息。您可以控制结帐流程，但您可以控制的内容有限。此项服务不收取月费。完成付款后，买家在 PayPal 网站上。

网站付款专业版 - 此服务按月收费。使用此服务，您可以完全控制结帐流程。买家在输入帐单信息时会留在您的网站上。您将使用 API 调用将数据发送到 PayPal 并获得回复，而不是使用 HTML 并将买家重定向到 PayPal。

Express Checkout - 这通常与 Pro 结合使用或单独使用。这允许买家使用 PayPal 结账，而不是直接在您的网站上使用他们的信用卡。买家被重定向到 PayPal 网站以登录或​​使用信用卡付款。没有在您的网站上输入帐单信息。此方法使用类似于 Pro 的 API 调用，并允许对结帐流程进行一些控制。与使用网站付款标准相比，您将拥有更多的控制权。买家在实际完成付款后会回到您的网站。此项服务不收取月费。

Payflow Pro - 这类似于 Website Payments Pro。此项服务每月收取服务费。您可以使用 API 并让买家留在您的网站上，在那里他们输入所有信息并完成付款。否则，您也可以使用托管的结帐页面并让买家在 PayPal 页面上输入他们的账单信息，从而使您符合 PCI 标准。同样使用 Payflow，您可以使用自己的处理器，只要它与 Payflow 兼容。因此，如果您选择不使用，则不必使用 PayPal 作为您的处理器。

希望这可以帮助。

# momentjs - Moment.js 一周的第一天不正确

> ID：16080927
> 
> 赞同：17
> 
> 时间：2013-04-18T10:49:35.710
> 
> 标签：momentjs

我第一次使用 Moment.js。我试图检索一周的第一天的日期，而在欧洲，这通常是星期一。无论我做什么，我都会在一周的第一天得到星期天。

我尝试设置不同的语言（本地或全球），但无济于事。我使用来自[moment.js github 页面](https://github.com/timrwood/moment/tree/develop/min)的 langs.min.js 文件。“en-gb”和[“fr”](https://github.com/timrwood/moment/blob/develop/lang/fr.js)的语言文件有这行代码：

```
dow : 1, // Monday is the first day of the week. 
```

所以当我询问一周的第一天时，我会得到星期一的日期，对吗？我一直把星期天作为输出。

```
// Create moment object
var localLang = moment();

// Set language to french
localLang.lang('fr');

// Test language
localLang.lang(); // Output: fr

// Retrieve first day of the week and format it
var dow = localLang.startOf('week').format('dddd DD-MM-YYYY'); // Output: dimanche 14-04-2013 
```

Dimanche 是周日的法语。如您所见，moment.js 可以成功使用语言文件，但不使用星期几配置

JSfiddle 与 moment.js 和 langs.js 进行测试： [JSFiddle](http://jsfiddle.net/JesseDobbelaere/pCwb5)

编辑：我可以得到星期一的日期而不是星期日的日期，而`day(1)`不是`startOf('week')`. 但是使用`day(0)`我仍然得到星期天。为什么星期一不是语言文件中配置的一周的第一天。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2014-03-31T05:47:54.250

对于最近遇到此问题的任何人，现在支持`lang`设置区域设置特定设置的方法。

将第一周设置为星期一：

```
moment.lang('zh-cn', {
    week : {
        dow : 1 // Monday is the first day of the week
    }
});

var date = moment().weekday(0); // date now is the first day of the week, (i.e., Monday) 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-18T16:44:45.217

我们正在努力添加支持区域设置的工作日，但尚未完成。

[https://github.com/timrwood/moment/issues/613#issuecomment-13786429](https://github.com/timrwood/moment/issues/613#issuecomment-13786429)

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2014-07-28T13:39:54.603

我设法让它工作。我使用了下面的代码：

```
 $(#id_Of_Element).daterangepicker({
        weekStart: 2,

        locale: {
            customRangeLabel: 'Custom Range',
            daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
            monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
            firstDay: 1
        }
}); 
```

# javascript - handlebars.js 示例 jquery 错误

> ID：16080929
> 
> 赞同：1
> 
> 时间：2013-04-18T10:49:42.680
> 
> 标签：javascript, jquery, handlebars.js

您能告诉我为什么这个handlebars.js 示例不起作用吗？我得到一个 jquery 错误？

***TypeError：e在jquery中为null***

看起来它发生在这里 `$(document).append(theTemplate(theData));`

```
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
    <script src="js/jquery-1.9.1.min.js"></script>
    <script src="js/handlebars.js"></script>

    <script type ="text/javascript">

        $(document).ready(function () {
            var theData = { headerTitle: 'Shop Page', weekDay: 'Wednesday' };
            var theTemplateScript = $("#header").html();
            var theTemplate = Handlebars.compile(theTemplateScript);
            $(document).append(theTemplate(theData));
        });
</script>
</head>
<body>
    <form id="form1" runat="server">
    <div>
    <script id="header" type="text/x-handlebars-template">
        <div> {{ headerTitle }} </div>
        Today is {{weekDay}}
   </script>
   </div>
   </form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-17T18:13:46.133

我将 jQuery 版本更改为 1.7.2 并解决了问题。仍然不确定新版本中发生了什么变化

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T11:24:17.017

如果我将其更改为有效的正文，则该问题似乎已附加到文档中。

```
$('body').append(theTemplate(theData)); 
```

# jquery - 为什么 $.get 不返回元元素？

> ID：16080940
> 
> 赞同：0
> 
> 时间：2013-04-18T10:50:01.390
> 
> 标签：jquery

```
$.get('home.html', function(data) { 
  console.log($(data).find('meta')); // Doesnt work
  console.log($(data).find('#foobar')); // Works
}); 
```

不返回元元素？这是什么诡计？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T10:58:19.140

嗯，这似乎有点奇怪。但这可以使用`filter`而不是`find`.

```
$.get('home.html', function(data) { 
  console.log($(data).filter('meta')); // Now works
  console.log($(data).find('#foobar')); // Works
}); 
```

# javascript - 为什么在这段代码中，for 循环在 Jquery Selector 之前执行？

> ID：16080941
> 
> 赞同：2
> 
> 时间：2013-04-18T10:50:02.090
> 
> 标签：javascript, jquery

在下面的代码中，`for`循环总是首先执行，jQuery 选择器在后面。但是我想在更改所选滑块的值后运行这个 for 循环。

```
$('div[name="FirstSliderselector"]').slider('value', $("#MasterSlider").slider("value"));
var FirstSliders = $('div[name="FirstSliderselector"]');
for (var i = 0; i < FirstSliders.length; i++) {
     console.log('for loop executed');
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:59:19.723

**编辑以反映对问题的新理解**

~~您要做的是为更改事件传递一个回调函数，如下所示：~~

我现在理解的是，当您更改滑块的值时，您想触发一个更改事件。您可以通过以下方式以编程方式设置值：

```
$('div[name="FirstSliderselector"]').slider('value', $('#MasterSlider').slider('value')); 
```

为了`for`在完成此操作后执行循环，您需要将更改事件绑定到滑块，如下所示：

```
$('div[name="FirstSliderselector"]').slider({
    change: function (event, ui) {
        var firstSliders = $('div[name="FirstSliderselector"]'),
            i;
        for (i = 0; i < firstSliders.length; i += 1) {
            console.log(ui.value);
        }
    }
}); 
```

你也可以这样做：

```
$('div[name="FirstSliderselector"]').on('slidechange', function (event, ui) {
    var firstSliders = $('div[name="FirstSliderselector"]'),
        i;
    for (i = 0; i < firstSliders.length; i += 1) {
        console.log(ui.value);
    }
}); 
```

如果您想确保仅在以编程方式完成值更改而不是在滑块滑动后触发此操作，您的回调函数将变为：

```
function (event, ui) {
    if (!event.originalEvent) {
        var firstSliders = $('div[name="FirstSliderselector"]'),
            i;
        for (i = 0; i < firstSliders.length; i += 1) {
            console.log(ui.value);
        }
    }
} 
```

最后，如果这些都不能满足您的需求，正如 Chris GW Green 所建议的那样，总有一个 when-done 构造：

```
$.when($('div[name="FirstSliderselector"]').slider('value', $('#MasterSlider').slider('value'));).then(function () {
    var firstSliders = $('div[name="FirstSliderselector"]'),
        i;
    for (i = 0; i < firstSliders.length; i += 1) {
        console.log('for loop executed');
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T12:38:21.933

保证在滑块分配后运行 for 循环...

```
var FirstSliders = $('div[name="FirstSliderselector"]'),
    MastSliderValue = $("#MasterSlider").slider("value");

function updateSliders(){
    FirstSliders.slider('value', MastSliderValue);
}

$.when(
    updateSliders()        
).done(
    function(){
        for (var i = 0; i < FirstSliders.length; i++) {
             console.log('for loop executed');
        }
    }
); 
```

感谢第一次尝试的人 -1 ;) 新手。

# php - 定期触发 php 文件 - 没有 cronjobs？

> ID：16080950
> 
> 赞同：0
> 
> 时间：2013-04-18T10:50:30.413
> 
> 标签：php, cron

好的，我有一个 Web 服务器和一个使用 php 的站点。我的问题是如何触发 php 文件定期运行（例如每 5 分钟一次）？

不幸的是，我的网络托管服务提供商似乎不支持 cronjobs，但对于没有 cron 访问权限的人来说，肯定有一些替代方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:05:39.813

鉴于您的要求，不，如果没有 cronjob，您将无法做到这一点。如今，如果您无法使用 cron 工具，则只需切换主机即可。

另一种选择是，您的用户实际上会在他们访问您的网站时触发您的操作，这意味着，如果您确定您的网站每分钟都会受到点击，那么您将使用数据库跟踪您的“cron 作业”，所以当用户访问该网站，您检查 cron 是否在最近 5 分钟内运行，如果运行，则什么也不做，否则，您运行 cron 并保存它运行到数据库时的时间戳。每次用户访问您的网站时都会发生这种情况。

但是，这是可怜的人 cron，如果您的操作需要花费大量时间，则不应使用它，因为您的用户将不得不等待操作完成，因此如果需要时间，您的用户将离开网站。

编辑：如果它是您所说的专用服务器，您应该可以访问 shell，然后您可以从那里设置 cron。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T11:04:10.017

根据您可能希望执行这 5 分钟的松散程度，以及您的网站是否有定期流量（每分钟至少 1 个请求），您可以考虑：

*   在每个请求上检查上次作业运行时的数据库
*   如果超过 5 分钟，运行作业并更新数据库

这个脚本运行得越多，你的 5 分钟就越准确。要增加此脚本的运行次数：

*   查看每个请求中是否包含某些文件，例如 config.php。
*   或者你有一些路由，例如所有请求都通过 index.php

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T11:05:09.890

您可以使用 PHP 中的守护程序脚本来完成。

您可以创建一个守护程序并运行它。在那个存储中，每次都会看到时间差异。如果时间差异达到 5 分钟，那么您可以调用其他脚本并重置时间变量 - 反之亦然。

# django - Django 无法将浮点数转换为十进制。首先将浮点数转换为字符串

> ID：16080952
> 
> 赞同：2
> 
> 时间：2013-04-18T10:50:33.593
> 
> 标签：django

我有一个模型，可以在您上传图片时自动调整图像大小并保存原件。

问题是，当我在管理面板中保存图像时，出现此错误

无法将浮点数转换为十进制。首先将浮点数转换为字符串

```
File "C:\o\mysite\fruit\models.py" in save
 61\.         super(Pic, self).save(*args, **kwargs)
 File "C:\Python26\lib\decimal.py" in __new__
  652\.                             "First convert the float to a string")

Exception Type: TypeError at /admin/fruit/pic/add/
Exception Value: Cannot convert float to Decimal.  First convert the float to a string 
```

我只是想不通为什么我会收到这个错误

我的模型.py

```
class Pic(models.Model):
    user = models.ForeignKey(User)
    image = models.ImageField(
        upload_to="image",
        blank=True
        )
    descrip = models.TextField()
    ratio = models.DecimalField(decimal_places=5,max_digits=10,default=0)

    def __unicode__(self):
        return self.descrip

    def original(self):
        width = self.image.width / float(self.ratio)
        height = self.image.height / float(self.ratio)

        result = "<img src='/media/{0}' height='{1}' width='{2}'>".format(
            self.image, height, width)

    return result

    def save(self, *args, **kwargs):       
        pw = self.image.width
        ph = self.image.height
        mw = 200
        mh = 200

        self.ratio = getWH(pw, ph, mw, mh, 'r')

        super(Pic, self).save(*args, **kwargs)

        if (pw > mw) or (ph > mh):
            filename = str(self.image.path)
            imageObj = img.open(filename)

            ratio = 1

            if (pw > mw):
                ratio = mw / float(pw)
                pw = mw
                ph = int(math.floor(float(ph)* ratio))
            if ( ph > mh):
                ratio = ratio * ( mh /float(ph))
                ph = mh
                pw = int(math.floor(float(ph)* ratio))

            width = getWH(pw, ph, mw, mh, 'w')
            height = getWH(pw, ph, mw, mh, 'h')

            imageObj = imageObj.resize((width, height),img.ANTIALIAS)
            imageObj.save(filename)

def getWH(pw, ph, mw, mh, result):
    ratio = 1

    if (pw > mw):
        ratio = mw / float(pw)
        pw = mw
        ph = int(math.floor(float(ph)* ratio))
    if ( ph > mh):
        ratio = ratio * ( mh /float(ph))
        ph = mh
        pw = int(math.floor(float(ph)* ratio))

    if result == 'w':
        return pw
    elif result == 'h':
        return ph
    else:
        return ratio 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-05-15T20:27:24.040

使用 Python 2.7+：

```
from decimal import Decimal
Decimal.from_float(234.234) 
```

[https://docs.python.org/2/library/decimal.html#decimal.Decimal.from_float](https://docs.python.org/2/library/decimal.html#decimal.Decimal.from_float)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-18T11:25:30.060

从官方文档[9.4.8\. 十进制常见问题](http://docs.python.org/2.6/library/decimal.html#decimal-faq)

> 问：为什么模块中不包含 float_to_decimal() 例程？
> 
> A. 关于混合二进制和十进制浮点是否可取存在一些问题。此外，它的使用需要注意避免与二进制浮点相关的表示问题：

顺便说一句，您可以在给定的链接中找到答案：

```
def float_to_decimal(f):
    "Convert a floating point number to a Decimal with no loss of information"
    n, d = f.as_integer_ratio()
    numerator, denominator = Decimal(n), Decimal(d)
    ctx = Context(prec=60)
    result = ctx.divide(numerator, denominator)
    while ctx.flags[Inexact]:
        ctx.flags[Inexact] = False
        ctx.prec *= 2
        result = ctx.divide(numerator, denominator)
    return result 
```

而且这个特性已经包含在 python 2.7 中。

# java - 在 SQL 优化中，我们应该一直使用 LIMIT 来防止系统下载大量数据吗？还是有其他更好的解决方案？

> ID：16080955
> 
> 赞同：0
> 
> 时间：2013-04-18T10:50:39.203
> 
> 标签：java, sql, optimization

好的，比如说，有一张有百万条记录的表。然后我们不知何故需要一个查询

```
Select column1 from tbl where column1 like '%a%'; 
```

假设这个查询的结果将在一个程序中用于检查一些信息，而这个程序需要所有的结果数据来检查-->所以我们不能零碎地取数据。

如果我们零碎地获取数据，那么我们必须使用 LIMIT。

但是如果我们运行该查询，那么它会下载大量数据并使系统变慢。

问题：还有其他优雅的解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T10:57:16.777

> 他的程序需要所有结果数据进行检查

如果一个程序需要*所有*这些数据来检查它需要检查的任何内容，那么就没有办法解决它：您需要从 RDBMS 下载所有数据。

但是，通常您不需要将所有数据存储在内存中：如果可以通过一次检查一行来检查数据，则可以一次读取一行数据，检查它，然后丢弃该行。这种方法提供了一个很好的分页替代方案，因为您只需要发送一个查询，非分页查询通常比分页查询更易于使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T10:58:04.847

当您的查询像上面显示的那样简单时，您可以做很多事情来使其更快。如果您有大量数据，您将不得不预计它需要更长的时间。只需使用`LIMIT`并检查查询 10000 条记录需要多长时间，然后慢慢增加并测试性能

哦，抱歉刚刚意识到您说您需要所有数据。也许尝试将查询拆分一下，例如仅搜索尽可能少的内容，然后在您需要使用或显示数据时运行使用初始结果的查询作为搜索参数？

我只能假设您在这里展示的只是一个示例，还是您正在运行的实际查询？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T10:59:06.283

根据您要对数据执行的操作，您可以要求数据库执行（部分）它。数据库通常可以执行很多操作，例如加法、减法、取最大值或最小值、求平均值等。

但是，在不知道确切的处理类型的情况下，很难说出您的确切替代方案是什么。

# mysql - <5>5的诊断量和男性和女性mysql查询量

> ID：16080957
> 
> 赞同：-1
> 
> 时间：2013-04-18T10:50:41.267
> 
> 标签：mysql

我有两张表，一张是保存客户信息，另一张是对客户进行的诊断。我想获得 <5 >5 的诊断数量和得到诊断的男性/女性数量。

表格：

```
customers
**NAME**       **PID**      **BIRTH_DATE**    **SEX**
chris             1            1980-07-01        m
Jane              2            1977-10-05        f
Anna              3            1990-5-10         f
David             4            2008-1-10         m
Naomi             5            2009-10-20        f
juma              6            2010-10-15        m

**diagnosis**
**PID**      **date_done**       **diagnosis_code**
  1           2013-03-20           084
  1           2013-03-13           019
  2           2013-03-17           084
  5           2013-03-13           037
  3           2013-03-21           019
  4           2013-03-01           037 
```

我想获得 3 月份 <5 >5 的诊断量和男性和女性的诊断量

```
 Year         Gender     
**Diagnosis_code      <5   >5       male    female**
?                    ?     ?         ?        ? 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T11:07:21.537

您可以按案例分组，这样应该可以工作。

```
SELECT CASE WHEN d.diagnosis_code <5 THEN '<5' ELSE '>5' END,
       c.sex,
       count(*)
FROM customers c
JOIN diagnosis d
  ON c.pid=d.pid
WHERE d.diagnosis_code<>5
  AND MONTH(d.date_done)=3
GROUP BY CASE WHEN d.diagnosis_code <5 THEN '<5' ELSE '>5' END,
         c.sex; 
```

[Sqlfiddle](http://sqlfiddle.com/#!2/554cf/1)（注意在诊断表中添加了两行）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T11:12:01.613

你没有具体说明什么`<5`或`>5`意味着什么，但我假设你的意思是年龄。如果是这种情况，那么您可以使用：

```
select diagnosis_code,
  sum(case when ageInYears <5 then 1 else 0 end) `<5`,
  sum(case when ageInYears >5 then 1 else 0 end) `>5`,
  sum(case when sex = 'm' then 1 else 0 end) male,
  sum(case when sex = 'f' then 1 else 0 end) female
from
(
  select d.diagnosis_code,
    FLOOR(DATEDIFF(d.date_done, c.BIRTH_DATE)/365.25) AS ageInYears,
    c.sex
  from diagnosis d
  inner join customers c
    on d.pid = c.pid
) src
group by diagnosis_code 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!2/ca09d/9)

# android - vitamio.MediaPlayer 不播放第二个视频

> ID：16080958
> 
> 赞同：0
> 
> 时间：2013-04-18T10:50:42.737
> 
> 标签：android, media-player, vitamio

我正在使用 vitamio 库来播放 flv 视频。以下是我的 VideoWrapper 活动：

```
public class VideoWrapperActivity extends Activity {

    private String videoPath = null;
    private VideoView mVideoView;
    int chaperPlaying = 0;
    MediaController mController;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        if (!io.vov.vitamio.LibsChecker.checkVitamioLibs(this))
            return;
        setContentView(R.layout.videoview);
        mVideoView = (VideoView) findViewById(R.id.surface_view);
        Constants.gotCourse = true;
        if (!io.vov.vitamio.LibsChecker.checkVitamioLibs(this))
            return;
        setContentView(R.layout.videoview);
        init();

        mVideoView = (VideoView) findViewById(R.id.surface_view);
        mVideoView.setVideoPath(videoPath);
        mVideoView.setVideoQuality(MediaPlayer.VIDEOQUALITY_HIGH);
        mVideoView.setMediaController(new MediaController(this));
        mVideoView.setOnCompletionListener(new OnCompletionListener() {

            @Override
            public void onCompletion(MediaPlayer arg0) {
                Log.d(Constants.TAG,"Completed");
                Intent returnIntent = new Intent();
                setResult(RESULT_CANCELED, returnIntent);  
                finish();   

            }
        });
    }

    private void init(){
        Bundle extras = getIntent().getExtras();
        chaperPlaying = extras.getInt("chaptertoplay",1);
        if(extras.getString("videofile").length() >0){
            videoPath = extras.getString("videofile");
        }

        Log.d(Constants.TAG,"Video File: "+videoPath);
        Log.d(Constants.TAG,"Current Chapter: "+chaperPlaying);
    }

    @Override
    public void onConfigurationChanged(Configuration newConfig) {
        if (mVideoView != null)
            mVideoView.setVideoLayout(VideoView.VIDEO_LAYOUT_SCALE, 0);
        super.onConfigurationChanged(newConfig);
    }
} 
```

我从处理播放视频和测验等的 MovieWrapper Activity 中调用此活动。我正在开始以下活动：

```
Intent intent = new Intent(MovieWrapperActivity.this, VideoWrapperActivity.class);
                intent.putExtra("chaptertoplay", currentChap);
                intent.putExtra("videofile",  Constants.mCourse.getmChapters().get(currentChap).getVideoURL());
                startActivityForResult(intent, MOVIE_WRAPPER); 
```

第一次视频播放正确。但是当我通过调用上面的代码播放下一个视频时。我的两个活动都被关闭并且没有错误。以下是我的日志：

```
04-18 15:36:05.169: D/HFI(31808): Video File: http://server.com/VC_701_02.flv
04-18 15:36:05.169: D/HFI(31808): Current Chapter: 1
04-18 15:36:05.169: D/HardwareRenderer(31808): Disabling v-sync
04-18 15:36:05.269: W/Adreno200-EGLSUB(31808): SetSwapInterval() interval: 0 not set
04-18 15:36:05.319: I/Vitamio[Player](31808): VPLAYER INIT BEGIN
04-18 15:36:05.319: I/Vitamio[Player](31808): Copyright (c) VOV IO (http://vov.io).
04-18 15:36:05.319: I/Vitamio[Player](31808): THIS SOFTWARE (Vitamio) IS WORK OF VOV IO (http://vov.io)
04-18 15:36:05.319: I/Vitamio[Player](31808): Application package name: uk.org.humanfocus.hfi
04-18 15:36:05.319: D/Vitamio[Player](31808): RENDER RGB
04-18 15:36:05.319: I/Vitamio[Player](31808): VPLAYER INIT END
04-18 15:36:05.319: I/Vitamio[Player](31808): Copyright (c) VOV IO (http://vov.io).
04-18 15:36:05.319: I/Vitamio[Player](31808): THIS SOFTWARE (Vitamio) IS WORK OF VOV IO (http://vov.io)
04-18 15:36:05.319: I/Vitamio[Player](31808): Application package name: uk.org.humanfocus.hfi
04-18 15:36:05.319: D/Vitamio[Player](31808): SURFACE INIT OK
04-18 15:36:05.319: I/Vitamio[Player](31808): Copyright (c) VOV IO (http://vov.io).
04-18 15:36:05.319: I/Vitamio[Player](31808): THIS SOFTWARE (Vitamio) IS WORK OF VOV IO (http://vov.io)
04-18 15:36:05.319: I/Vitamio[Player](31808): Application package name: uk.org.humanfocus.hfi
04-18 15:36:05.319: D/Vitamio[Player](31808): SURFACE INIT OK
04-18 15:36:05.319: D/Vitamio[Player](31808): prepareAsync
04-18 15:36:05.319: I/Vitamio[Player](31808): PREPARE SIG: 0
04-18 15:36:05.329: D/Vitamio[Player](31808): THREAD NOTIFY START
04-18 15:36:05.339: I/Vitamio[Player](31808): THREAD PREPARE START
04-18 15:36:05.339: I/Vitamio[Player](31808): THREAD PREPARE ATTACHED
04-18 15:36:05.339: I/Vitamio[Player](31808): Copyright (c) VOV IO (http://vov.io).
04-18 15:36:05.339: I/Vitamio[Player](31808): THIS SOFTWARE (Vitamio) IS WORK OF VOV IO (http://vov.io)
04-18 15:36:05.349: I/Vitamio[Player](31808): OPEN FILE http://83.170.72.102/content/700_719/VC_701_02.flv
04-18 15:36:05.739: D/Vitamio[Player](31808): pthread_kill 0
04-18 15:36:05.749: I/Vitamio[Player](31808): PREPARE HANDLER 12
04-18 15:36:05.749: I/Vitamio[Player](31808): THREAD PREPARE DETTACHED
04-18 15:36:05.749: D/Vitamio[Player](31808): pthread_join 0
04-18 15:36:05.749: I/Vitamio[Player](31808): FILE CLOSE BEGIN
04-18 15:36:05.749: I/Vitamio[Player](31808): CLOSE AVFORMAT BEGIN
04-18 15:36:05.769: I/Vitamio[Player](31808): CLOSE AVFORMAT END
04-18 15:36:05.769: I/Vitamio[Player](31808): FREE VIDEOPIC BEGIN
04-18 15:36:05.769: I/Vitamio[Player](31808): FREE VIDEOPIC 2 END
04-18 15:36:05.769: I/Vitamio[Player](31808): FREE SUBPIC BEGIN
04-18 15:36:05.769: I/Vitamio[Player](31808): FREE SUBPIC 4 END
04-18 15:36:05.769: I/Vitamio[Player](31808): FREE AUDIOFRAME BEGIN
04-18 15:36:05.769: I/Vitamio[Player](31808): FREE AUDIOFRAME 8 END
04-18 15:36:05.769: I/Vitamio[Player](31808): DELETE GLOBAL REF BEGIN
04-18 15:36:05.769: I/Vitamio[Player](31808): DELETE GLOBAL REF END
04-18 15:36:05.769: I/Vitamio[Player](31808): FILE CLOSE END
04-18 15:36:05.769: I/Vitamio[Player](31808): VPLAYER RELEASE BEGIN
04-18 15:36:05.769: D/Vitamio[Player](31808): THREAD NOTIFY END
04-18 15:36:05.769: I/Vitamio[Player](31808): VPLAYER RELEASE END
04-18 15:36:05.769: A/libc(31808): Fatal signal 11 (SIGSEGV) at 0x00002840 (code=1), thread 31871 (.humanfocus.hfi)
04-18 15:36:05.809: A/libc(31808): Fatal signal 11 (SIGSEGV) at 0x00002814 (code=1), thread 31869 (.humanfocus.hfi)
04-18 15:36:08.359: E/Trace(31904): error opening trace file: No such file or directory (2)
04-18 15:36:08.379: V/ActivityThread(31904): uk.org.humanfocus.hfi white listed for hwui
04-18 15:36:08.959: D/HardwareRenderer(31904): Disabling v-sync
04-18 15:36:08.989: D/HardwareRenderer(31904): Disabling v-sync
04-18 15:36:09.069: D/libEGL(31904): loaded /system/lib/egl/libEGL_adreno200.so
04-18 15:36:09.089: D/libEGL(31904): loaded /system/lib/egl/libGLESv1_CM_adreno200.so
04-18 15:36:09.089: D/libEGL(31904): loaded /system/lib/egl/libGLESv2_adreno200.so
04-18 15:36:09.189: D/OpenGLRenderer(31904): Enabling debug mode 0 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-31T02:36:04.337

下次播放时，应在 videoView 之前释放。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-12T10:54:59.757

当我更改编解码器时，我遇到了同样的问题，它工作正常。请使用此编解码器 recorder.setVideoCodec(avcodec.AV_CODEC_ID_H264);

# sql - 如何使用文本字段项向 Oracle Apex 中的表添加行？

> ID：16080959
> 
> 赞同：0
> 
> 时间：2013-04-18T10:50:46.657
> 
> 标签：sql, oracle, row, oracle-apex

我希望能够通过使用一些文本字段项来为表中新行的每一列输入值来向表中添加新行。例子：

如果我有一个名为**Persons**的表，其中包含以下列：**Name**、**Hometown**和**Job**。

然后在我的 Apex 应用程序的页面上，我有**Name**、**Hometown**和**Job**的文本字段项，并带有提交按钮。用户应该能够在三个文本字段中输入一个值，然后单击提交，它应该在**Persons**表中创建一个新行，每列中包含三个值。

我知道编辑表格可以在 Apex 中使用表格形式完成，但如果可以通过这种方式完成，它将适合我的应用程序，非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T14:01:35.693

斯蒂芬：我不会为此写一个大的答案。学习事物的最好方法是简单地做和体验它们。
你说你对 Apex 还很陌生，这很好。
但是，需要一些时间来熟悉 Apex 中的一些常见做法。您要求的只是其中之一：带有详细信息屏幕的报告。

*   [参加为期 2 天的开发人员指南](http://docs.oracle.com/cd/E37097_01/doc/doc.42/e35122/toc.htm)。特别是作为初学者，这是一个非常基础的教程，但它仍然介绍了一些基本概念。
*   [在apex.oracle.com](http://apex.oracle.com)上注册一个工作区（或者，您也可以在本地访问它）。默认情况下，此工作区将保存 Oracle 创建的示例数据库数据库应用程序。制作整个应用程序是为了让您可以从中学习。例如，在运行应用程序时，您可以转到“客户”选项卡。您会注意到这是一份报告，并且有一个编辑链接，该链接将您带到一个表单页面，您可以在其中编辑记录。报告页面上的创建按钮也会将您带到该页面，但只有空值。应用更改后，您将被重定向回报告页面，该页面将包含新的/编辑的记录。
*   此工作区还包含打包的应用程序（仅限 4.2 及更高版本）。这些也是很好的学习工具，让您了解某些解决方案是如何实施的。安装一个会将其安装在您的工作区中，让您可以看到引擎盖下的内容。

最终，您应该能够通过创建一个新页面并选择一个表单来相当轻松地创建它。Apex 将为您提供创建表单 + 报告的选择，这将引导您完成两者的向导屏幕并将它们链接起来。
如果您仍然有一些问题或无法从那里解决，我们仍然在这里为您提供帮助。

# javascript - 动态媒体查询

> ID：16080961
> 
> 赞同：7
> 
> 时间：2013-04-18T10:50:57.533
> 
> 标签：javascript, jquery, css, media-queries

我目前正在使用 js/jq resize 事件将 css 规则应用于水平菜单（宽度可变），当它对于屏幕来说太大时。然而，在应用新规则之前，菜单会暂时换行。

理想情况下，我想测量菜单宽度并更改媒体查询的断点！

```
@media screen and (min-width: THIS-VALUE){
    New Rules
} 
```

这可能吗？？

提前致谢。

克里斯 GW 格林

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T12:50:28.640

您可以以编程方式创建媒体查询规则 - 通过测量菜单的宽度来激活（使用 js/jQuery）：

```
 document.querySelector('style').textContent +=
     "@media screen and (min-width:400px) { div { color: red; }}" 
```

媒体查询并非旨在激活页面或屏幕中元素的宽度变化 - 更多的是通过更改视口/窗口本身和其他因素。（可在[此处](http://www.w3.org/TR/css3-mediaqueries/#media1)找到完整列表）

您尚未发布菜单代码，因此很难理解您正在经历的“包装”，但如果您的水平菜单正在“*离屏*”，那么您最好将菜单设置为百分比（%）宽度视口并使用一系列媒体查询，**在某些屏幕宽度下**重新绘制菜单并更改/删除子元素等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T10:55:55.177

尝试元标记，而不是媒体查询。在元标记中，您还可以使用 min-width 属性。

就好像 meta 是一个 html 标签一样，您可以根据自己的喜好更改值：

```
var element = document.getElementByTagName('meta')[0];

element.setAttribute('content','Value'); 
```

[元标记的示例使用](https://developer.mozilla.org/en-US/docs/Mobile/Viewport_meta_tag)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-08-15T04:52:20.487

您可以使用[matchMedia](https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia)完成此操作。

[我在这个答案中](https://stackoverflow.com/a/68788747/2041696)给出了一个用法示例。

我假设您只需要测量一次菜单宽度。这个解决方案应该很容易适应。

# javascript - Combine scroll and resize events after document is ready

> ID：16080963
> 
> 赞同：0
> 
> 时间：2013-04-18T10:51:06.970
> 
> 标签：javascript, jquery, events, resize, scroll

In this example all things work nice, but when scrolling in large window width then resize it to small window the div still take the .fixed class

So it's working just when the scroll is 0px(top), but not when resizing the window to a small size while scroll it more than 0px

I want it to remove the .fixed class when detecting scroll 0 and window is less than 600px even if the document is already loaded

Example: [http://jsbin.com/arehow/1/edit](http://jsbin.com/arehow/1/edit)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:02:10.700

你的条件不对。

```
if ( $(window).width() > 600 ) {
            $('div').addClass('fixed');
        }
    } else {
        if ( $(window).width() > 600 ) {
            $('div').removeClass('fixed');
        }
    } 
```

两个条件都 >600 ... 使最后一个条件为 < 600

# php - Search in multiple tables by eloquent query

> ID：16080964
> 
> 赞同：2
> 
> 时间：2013-04-18T10:51:07.203
> 
> 标签：php, laravel

I have two tables: `posts` and `pages`. Based on the keyword, I want to search different columns of the two tables for the occurrence of keyword. The two tables do not have related content.

I have written two queries one for each table. Following are the queries:

```
$result1 = Post::where('title_en', 'LIKE', '%' . $keyword . '%')
                ->or_where('title_np', 'LIKE', '%' . $keyword . '%')
                ->order_by('id', 'desc')
                ->paginate(10);

$result2 = Page::where('title', 'LIKE', '%' . $keyword . '%')
                ->or_where('content', 'LIKE', '%' . $keyword . '%')
                ->order_by('id', 'desc')
                ->paginate(10); 
```

The above queries return two different `Laravel\Paginator` object. But I want a single `Laravel\Paginator` object so that a single pagination is displayed on the page which works for both the queries or on a single query which achieves the functionality of both the above queries. How would I be able to do that?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T22:58:10.817

由于它们是不相关的表，你需要做一些对 Eloquent 来说太复杂的技巧，你需要做一些类似于以下的事情来将两个查询连接在一起，并且仍然能够对组合进行限制/排序查询：

```
$results = DB::query('SELECT id, title FROM ( 
SELECT id, title FROM `post` where `title_np` LIKE "%'.$keyword.'%" OR `title_en` LIKE "%'.$keyword.'%"
UNION ALL
SELECT id, title FROM `page` where `title` LIKE "%'.$keyword.'%" OR `content` LIKE "%'.$keyword.'%"
) temp_table
ORDER BY `id` desc
LIMIT 0, 10
') 
```

注意以上内容未经测试，纯粹是您需要采取的方法的一个示例，不确定这是否真的有效。

# javascript - jquery resizable not working after ajax update

> ID：16080967
> 
> 赞同：0
> 
> 时间：2013-04-18T10:51:15.613
> 
> 标签：javascript, jquery, html, ajax

I have a resizable div that has some text in it and a edit button.

On the edit button click it opens a layer with a textbox and save button so the user can edit the text.

Then the user clicks save, the layer is closed and the db updated with some ajax. The div on the parent page is also updated with some ajax.

The problem I have is that the div is no longer resizable.

I know the line of code that is doing this and why it is doing it but cant find any other solution to updating the original div without stripping out the resizable code as well.

On the 'save' button click on the layer this function is called

```
$(document).ready(function() {  
  $('.button').click(function() {
     var edit_content = $('#myFrm').find('.nicEdit-main').html();           
     var box_id = $('#myFrm').find("#box_id").val();
     var page_ref = $('#myFrm').find("#page_ref").val();
     var template_ref = $('#myFrm').find("#template_ref").val();
      $.post("update_textarea.php",
          {
            box_id:box_id, page_ref:page_ref, template_ref:template_ref, edit_content:edit_content
          },
          function(data,status){
            UpdateElementOfParent(box_id, page_ref, template_ref)           
            edit_box('hide')
          });
    });
}); 
```

This updates the db and the function UpdateElementOfParent() is called on the parent page

```
function UpdateElementOfParent(box_id, page_ref, template_ref) {
   var myBox = box_id;
   $.get("get_content.php", { box_id: box_id, page_ref: page_ref, template_ref:template_ref })
   .done(function(data) {                  
        $('#'+myBox).html(data);                 
    }); 
} 
```

this updates the original div with the updated content from the db.

I know the $('#'+myBox).html(data); strips out the inner html of the div and replaces it with the text and so removes the jquery resizable text but I cant find another way to update the text.

I have tried

```
$('#'+myBox).value(data);
$('#'+myBox).text(data);
$('#'+myBox).innerHTML(data);
document.getElementById('myBox').val(data);
document.getElementById('myBox').value(data);
document.getElementById('myBox').text(data);
document.getElementById('myBox').val=data;
document.getElementById('myBox').value=data;
document.getElementById('myBox').text=data; 
```

None of these work.

My javascript is not too strong(as you can probably tell).

Can anyone help with a solution?

any help greatly appreciated

QUICK UPDATE

I noticed that if I use firebug inspector the div before it has any text updates is like so

```
<div id="3" class="textarea1 ui-resizable ui-resizable-autohide" style="width:300px; height:300px;position:absolute; top:10px;left:0px;overflow-y: none;background-color:transparent;" name="textarea[3]">
  newtextarea
  <div class="ui-resizable-handle ui-resizable-e" style="z-index: 90; display: none;"></div>
  <div class="ui-resizable-handle ui-resizable-s" style="z-index: 90; display: none;"></div>
  <div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90; display: none;"></div>
</div> 
```

but once I update it (I use nicedit to format the text) the div now has a hidden ipnout within it called 'content[]'

```
<div id="3" class="textarea1 ui-resizable ui-resizable-autohide" style="width:300px; height:300px;position:absolute; top:10px;left:0px;overflow-y: none;background-color:transparent;" name="textarea[3]"></div>
<br></br>
<input type="hidden" value="
  <div align="justify">
     <font face="trebuchet ms" size="2"><strong>Lorem Ipsum</strong> es simplemente el texto de relleno de las imprentas y archivos de texto.</font>
  </div>" name="contents[1]">
</input> 
```

so it would seem that the structure of the div has change and the inner input would need updating. As the input does not have an id how can I update just using its name

MORE

ok I have edited the update function to this

```
function UpdateElementOfParent(box_id, page_ref, template_ref) {
var myBox = box_id;
$.get("get_content.php", { box_id: box_id, page_ref: page_ref, template_ref:template_ref })
    .done(function(data) {                            
            var updatedata=data+"<div class='ui-resizable-handle ui-resizable-e' style='z-index: 90; display: none;'></div><div class='ui-resizable-handle ui-resizable-s' style='z-index: 90; display: none;'></div><div class='ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se' style='z-index: 90; display: none;'></div></div>";
('#'+myBox).html(updatedata);                                              
    }); 
} 
```

now when I check the original dv in firebug with the newly updated one the structure and contents are exactly the same.

I need to reinitialise the resizable. any clues?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-21T16:08:43.873

我使用了 dt192 的建议，并在 div 中添加了一个跨度并更新了跨度，效果很好

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T11:03:43.507

~~不太确定你真的想做什么，但是。~~

 ~~```
var oldContent = $('#'+myBox).html();  
$('#'+myBox).html(data+oldContent); 
```~~ 

将保留旧内容并添加新内容。

或者您可以使用`.append()` [http://api.jquery.com/append/](http://api.jquery.com/append/)取决于更新数据库时返回的内容

```
$('#'+myBox).append(data); 
```

~~**更新：**~~

 ~~从我所看到的情况来看`data`，使用新文本的值检索隐藏的输入。我建议您要么更改`data`以回馈其他东西，要么手动添加该`input`值。`div`

输入也是错误的。在里面应该是因为你已经在`input`里面了。之后这个函数应该放在右边。`value=""``value=''``"``value``div`

```
function UpdateElementOfParent(box_id, page_ref, template_ref) {
   var myBox = box_id;
   $.get("get_content.php", { box_id: box_id, page_ref: page_ref, template_ref:template_ref })
   .done(function(data) {                  
        $('#'+myBox).html(data); 
        var inval = $("input[name='contents["+myBox+"]']").val();
        $("#"+myBox).html(inval).resizable();                
    }); 
} 
```

您一开始遇到的基本问题是您忘记重新初始化`.resizable()`新的`div`.~~

# excel - Excel Starter 2010 上的 Vbs：activex 组件无法创建对象 Excel.Application

> ID：16080973
> 
> 赞同：1
> 
> 时间：2013-04-18T10:51:37.690
> 
> 标签：excel, vbscript

我有一台预装了 Windows 7 和**Office Starter 2010的新电脑。**如果我启动以下简单的 vb 脚本（从命令行：cscript testScript.vbs）：

```
Dim xlApp
Set xlApp = CreateObject("Excel.application")
xlApp.visible = True
Set xlWorkbooks = xlApp.Workbooks
Set xlWorkbook = xlWorkbooks.Open("C:\path\myFile.xls")
xlWorkbook.ActiveSheet.Rows("1:2").AutoFit
xlApp.visible = False
xlWorkbook.Save
xlWorkbook.Close("C:\path\myFile.xls")
xlApp.Quit
Set xlApp = Nothing 
```

它返回此错误：**activex 组件无法创建对象 'Excel.Application'**。我不明白该错误是否是由于 Starter 限制（[http://office.microsoft.com/en-us/starter-help/excel-features-that-are-not-fully-supported-in-excel- starter-HA010374501.aspx](http://office.microsoft.com/en-us/starter-help/excel-features-that-are-not-fully-supported-in-excel-starter-HA010374501.aspx)），我在网上发现了不同意见。

有没有办法让它使用 Office Starter 版本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-04-28T16:52:43.340

尽管这已经是一个非常古老的问题，但我决定发布以下信息只是为了帮助其他谷歌用户。

由于您尝试在 VBA 之外创建**Excel.Application**的实例，因此如果您在目标计算机上安装[Microsoft Excel Viewer](https://www.microsoft.com/pt-pt/download/details.aspx?id=10)的更新版本，则很有可能成功。这将允许您访问**Excel 的 API**。

请记住，**Excel Starter Edition**不支持宏以及[其他重要限制](https://support.office.com/en-gb/article/Use--Excel-Starter-2010-with-earlier-versions-of-Excel-4cdae7ad-0cdd-44e9-9ce8-f6b9551c612b?ui=en-US&rs=en-GB&ad=GB#bm3g)。

干杯!

# jmeter - 如何将 apache jmeter 源代码（主干代码）从 apache jmeter CVS 存储库添加到 eclipse cvs 存储库？

> ID：16080977
> 
> 赞同：0
> 
> 时间：2013-04-18T10:51:44.297
> 
> 标签：jmeter

我需要将 apache jmeter 的主干版本从 apache CVS 存储库添加到 eclipse IDE。我在搜索有关在 Eclipse 中添加新 CVS 的不同站点时发现了一些详细信息，并且如果尝试连接它没有连接并且没有从存储库下载任何代码，则使用这些详细信息。

```
Details given to add  new CVS  detaisl in my Eclipse for apache - jmeter

Host : cvs.apache.org
Repositry path : /home/cvspublic
user name : anoncvs 
password : 
Connction type : pserver
checked in validating connection on finish option is checked.

But I am getting error like  **Error validating : "Could not connect to :pserver:anoncvs@cvs.apache.org:/home/cvspublic: cannot  locate host:cvs.paahce.org"** 

It seems like problem in host name or repository path and so on.Kindly Can any one know correct host name , repository path , username, password for successful connection   means reply me.Thanks in advance friends. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T11:53:45.480

在我看来，jmeter 源代码的主干版本只能从 subversion Repositories 访问。

有关设置，请参阅[http://wiki.apache.org/jmeter/JMeterAndEclipseHowTo](http://wiki.apache.org/jmeter/JMeterAndEclipseHowTo)。

并查看[http://jmeter.apache.org/svnindex.html](http://jmeter.apache.org/svnindex.html)以获取存储库 URL。

# python - python循环迅速增加其内存使用量

> ID：16080979
> 
> 赞同：4
> 
> 时间：2013-04-18T10:51:45.910
> 
> 标签：python, memory-leaks, profiler

我有一个运行循环的 python 脚本。在这个循环中，函数`DoDebugInfo`被调用，每次循环迭代一次。这个函数基本上是使用matplotlib将一些图片打印到硬盘，导出一个KML文件并做一些其他的计算，**什么都不返回**。

我遇到的问题是python，对于每次运行，该函数都会消耗`DoDebugInfo`越来越多的 RAM。我猜一些变量正在增加每个循环的大小。

我在通话前后添加了以下几行：

```
print '=== before: ' + str(resource.getrusage(resource.RUSAGE_SELF).ru_maxrss / 1000)
DoDebugInfo(inputs)
print '=== after: ' + str(resource.getrusage(resource.RUSAGE_SELF).ru_maxrss / 1000) 
```

输出是：

```
=== before: 71598.08
=== after: 170237.952
=== before: 170237.952
=== after: 255696.896
=== before: 255696.896
=== after: 341409.792 
```

如您所见，在调用之前程序有内存占用，在调用之后它会增加，但在下一次调用之前保持稳定。

为什么是这样？既然`DoDebugInfo(inputs)`是一个什么都不返回的函数，那么一些变量怎么会留在内存中呢？是否需要在函数结束时清除所有变量？

编辑：`DoDebugInfo`导入此功能：

```
def plot_line(x,y,kind,lab_x,lab_y,filename):
    fig = plt.figure(figsize=(11,6),dpi=300)
    ax = fig.add_subplot(111)
    ax.grid(True,which='both')
    #print 'plotting'
    if type(x[0]) is datetime.datetime:
        #print 'datetime detected'
        ax.plot_date(matplotlib.dates.date2num(x),y,kind)
        ax.fmt_xdata = DateFormatter('%H')
        ax.autoscale_view()
        fig.autofmt_xdate()
    else:   
        #print 'no datetime'
        ax.plot(x,y,kind)
    xlabel = ax.set_xlabel(lab_x)
    ax.set_ylabel(lab_y)
    fig.savefig(filename,bbox_extra_artists=[xlabel], bbox_inches='tight')

def plot_hist(x,Nbins,lab_x,lab_y,filename):
    fig = plt.figure(figsize=(11,6),dpi=300)
    ax = fig.add_subplot(111)
    ax.grid(True,which='both')
    ax.hist(x,Nbins)
    xlabel = ax.set_xlabel(lab_x)
    ax.set_ylabel(lab_y)
    fig.savefig(filename,bbox_extra_artists=[xlabel], bbox_inches='tight') 
```

并使用以下方式将 10 个图形绘制到磁盘上：

```
plot_line(index,alt,'-','Drive Index','Altitude in m',output_dir + 'name.png') 
```

如果我注释使用`plot_line`问题的行不会发生，那么泄漏应该在这行代码上。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-18T13:12:07.613

问题在于创建了如此多的数字并且从未关闭过。不知何故，蟒蛇让他们都活着。

我添加了行

```
plt.close() 
```

到我的每个绘图功能`plot_line`，`plot_hist`问题就消失了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T12:34:41.877

大小会无限增长吗？即使不再使用，也很少有程序（或库）将堆返回到它们分配的系统，CPython（2.7.3）也不例外。通常的罪魁祸首是`malloc`它会按需增加进程内存，将空间返回到它的空闲列表`free`，但从不取消分配它从系统请求的空间。此示例代码故意占用内存并表明进程使用是有界且有限的：

```
import resource

def maxrss(start, end, step=1):
    """allocate ever larger strings and show the process rss"""
    for exp in range(start, end, step):
        s = '0' * (2 ** exp)
        print '%5i: %sk' % (exp, 
            resource.getrusage(resource.RUSAGE_SELF).ru_maxrss / 1000)
    # s goes out of scope here and is freed by Python but not returned 
    # to the system

try:
    maxrss(1, 40, 5)
except MemoryError:
    print 'MemoryError'

maxrss(1, 30, 5) 
```

输出（在我的机器上）在哪里，部分是：

```
26: 72k
31: 2167k
MemoryError
 1: 2167k
 6: 2167k
 ...
26: 2170k 
```

这表明解释器未能从系统中获得 2**36 字节的堆，但仍有“手头”的内存来填充以后的请求。正如脚本的最后一行演示的那样，Python 可以使用内存，即使它当前没有使用它。

# java-me - 诺基亚 QA：应用程序无法成功启动，并显示错误消息“应用程序不受支持。删除？'

> ID：16080984
> 
> 赞同：0
> 
> 时间：2013-04-18T10:52:05.897
> 
> 标签：java-me, j2mepolish, nokia-s40

我用于 asha 的 Java s40 应用程序未能通过上述标题的 QA 测试。我尝试通过将 jar 文件下载到支持的 asha 手机之一并成功启动应用程序来重现问题。其他一切似乎都还好，我还使用诺基亚 RDA 来测试应用程序。还有哪些其他原因可能导致失败。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T06:15:05.243

仅从错误消息中，我可以假设您的 Jar 文件的 MIDP 和 CLDC 版本与您的 S40 Asha 系列手机不匹配。

您需要打开您的编辑器/IDE 并将 MIDP 版本更改为 2.0 并将 CLDC 的版本更改为 1.1。

# python - 在运行时生成代码

> ID：16080988
> 
> 赞同：0
> 
> 时间：2013-04-18T10:52:13.177
> 
> 标签：python, django

我需要在运行时根据 from 值生成下面的模型。

下面是我想要实现的一个示例，但问题很明确，即 [field.value] ...

```
def import_data(form, *args, **kw):
    class ContactCSVModel(CsvModel):  
        for field in form:
           [field.value] =  CharField()

         class Meta:
            delimiter = ","
            dbModel = Contact
            update = {'keys': ["mobile", "group"]}

      return ContactCSVModel.import_data(*args, **kw) 
```

所以上面的代码在生成后看起来像这样（如果它是静态代码）......

```
def import_data(form, *args, **kw):
    class ContactCSVModel(CsvModel):  

        first_name = CharField()
        mobile = CharField()
        last_name = CharField()

         class Meta:
            delimiter = ","
            dbModel = Contact
            update = {'keys': ["mobile", "group"]}
  return ContactCSVModel.import_data(*args, **kw) 
```

我怎样才能`[field.value]`以我需要的方式工作？我已经看过 setattr() 之类的东西，但我认为这不是我所追求的。

Forms.py 供参考...

```
COL_CHOICES = [
    ('NONE', 'No Import'),
    ('first_name', 'First Name'),
    ('last_name', 'Last Name'),
    ('company', 'Company'),
    ('mobile', 'Mobile Number'),
    ('email', 'Email Address'),
    ]

class ConfiguratorForm(forms.Form):
    col1 = forms.TypedChoiceField(choices=COL_CHOICES, initial='first_name')
    col2 = forms.TypedChoiceField(choices=COL_CHOICES, initial='first_name')
    col3 = forms.TypedChoiceField(choices=COL_CHOICES, initial='first_name')
    col4 = forms.TypedChoiceField(choices=COL_CHOICES, initial='first_name')
    col5 = forms.TypedChoiceField(choices=COL_CHOICES, initial='first_name') 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T11:23:48.317

该`class`语句是语法糖，`type(name, bases, dict)`因此您可以构建动态模型属性的字典并将其传递给类型，即：

```
def import_data(form, *args, **kw):
    class Meta:
        delimiter = ","
        dbModel = Contact
        update = {'keys': ["mobile", "group"]}
    clsmap = dict((field.value(), CharField()) for field in form)
    clsmap["Meta"] = Meta
    ContactCsvModel = type("ContactCsvModel", (CsvModel,), clsmap)         
    return ContactCSVModel.import_data(*args, **kw) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-18T11:35:10.020

您可以在构造类对象后向其添加字段：

```
def import_data(form, *args, **kw):
    class ContactCSVModel(CsvModel):

         class Meta:
            # ...

    for field in form:
        setattr(ContactCSVModel, field.value(), CharField())

    return ContactCSVModel.import_data(*args, **kw) 
```

# android - Android Spinner 导航？

> ID：16080992
> 
> 赞同：0
> 
> 时间：2013-04-18T10:52:30.147
> 
> 标签：android

我目前正在创建一个 Android 应用程序，其中我从数据库中读取数据。主要部分是我正在使用 Spinner 小部件。如您所知，使用 Android Spinner，您可以在其中拥有任意数量的选项。

我希望我的 Spinner 做的是当我选择一个选项时，我想按下一个按钮（确认或“确定”按钮），然后将我导航到与该按钮相关的页面。

例如，我正在参加体育赛事。因此，在我的一个微调器中，我希望它有一个事件列表，当我选择一个特定事件时，我希望被定向到一个包含与该事件相关的内容的页面

这甚至可能吗？还是我最好使用不同的小部件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T11:03:08.833

您可以使用[ItemSelectedListener](http://developer.android.com/reference/android/widget/AdapterView.html#setOnItemSelectedListener%28android.widget.AdapterView.OnItemSelectedListener%29)并在[onItemSelected](http://developer.android.com/reference/android/widget/AdapterView.OnItemSelectedListener.html#onItemSelected%28android.widget.AdapterView%3C?%3E,%20android.view.View,%20int,%20long%29)方法中编写导航代码以移动到相应的活动。您可以使用 OnIntemSelected 方法中的位置参数检索项目详细信息。

# r - combine 2 or more in operator in R

> ID：16080999
> 
> 赞同：0
> 
> 时间：2013-04-18T10:52:59.450
> 
> 标签：r, dataframe

I want to select rows from a data frame according to some conditions. I usually select values using `% in %` operator. I used many `%in%` for selecting values.

```
 val1 <- portData [portData$PmkVal %in% c(NA),]
  val2 <- val1 [val1$Quantity %in% c(NA),]
  weigtageData <- val2 [val2$MktVal %in% c(NA),] 
```

Can i write all these statements in one line and select data from frame `portData` itself instead of writing this inefficient code?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T10:56:25.383

首先，由于您正在检查`NA`，您可以使用方便的功能`is.na(.)`。那是，

```
val1 <- portData [is.na(portData$PmkVal), ]
val2 <- val1[is.na(val1$Quantity), ]
weigtageData <- val2[is.na(val2$MktVal), ] 
```

* * *

现在，您可以使用`&`一个命令将所有这些连接在一起，如下所示：

```
weigtageDate <- portData[is.na(portData$PmkVal) & 
                         is.na(portData$Quantity) & 
                         is.na(portData$MktVal), ] 
```

* * *

更好的是在`with`这里使用，这样你就不必`portData$`每次都使用。

```
weigtageData <- portData[with(portData, is.na(PmkVal) & 
                           is.na(Quantity) & is.na(MktVal)), ] 
```

当然，同样的翻译也`%in%`一样。只是这里没有必要。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T11:01:39.707

`complete.cases`如果您检查 NA ，另一种选择是使用该功能：

```
test <- matrix(sample(20),ncol=5)
colnames(test) <- c("A","B","C","D","E")

test[2,1] <- NA
test[3,1] <- NA
test[4,2] <- NA

test[complete.cases(test),]
test[complete.cases(test[,2]),]
test[complete.cases(test[,c(1,2)]),] 
```

编辑：为了只保留内部缺少值的行，您必须通过以下方式反转调用`!`：

```
test[!complete.cases(test),] 
```