# StackOverflow 问答 13639000-13639999

# php - 来自数据库的数据超出了 PHP 的内存限制

> ID：13639000
> 
> 赞同：1
> 
> 时间：2012-11-30T04:27:09.453
> 
> 标签：php

我正在开发一个报告，我在其中编写从数据库中检索数据的语法，但我的结果数据很大。它导致这样的错误：

> 致命错误：允许的内存大小为 25165824 字节已用尽（试图分配 2024 字节）

它还缓慢地显示报告页面。

我怎样才能解决这个问题，避免这个错误并使这个页面更快？

# sql - 如何在 SQL Server 2008 r2 中获得六个星期日的星期数？

> ID：13639005
> 
> 赞同：1
> 
> 时间：2012-11-30T04:27:50.500
> 
> 标签：sql, sql-server, sql-server-2008, sql-server-2008-r2

我想使用 SQL Server 2008 获取六个星期日的星期数。例如，我有 2012 年 11 月，日期 18，11 月 18 日的 WeekNo 是“47”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T04:57:10.663

试试这个：

```
SELECT DATEPART(week,'18-nov-2012') 
```

# c# - 在 WCF 中使用 Windows 身份验证类型时，用户名和密码是否以纯文本形式发送？

> ID：13639006
> 
> 赞同：2
> 
> 时间：2012-11-30T04:27:51.460
> 
> 标签：c#, wcf, security

如果我有以下绑定：

```
<bindings>
  <wsHttpBinding>
    <binding name="Binding">
      <security mode="Transport">
        <message clientCredentialType="Windows"/>
      </security>
    </binding>
  </wsHttpBinding>
</bindings> 
```

用户名和密码是否会通过网络以纯文本形式发送？

## 编辑

我知道默认情况下 wcf 会加密连接。我问这个问题的原因是：

![在此处输入图像描述](../Images/88e1f0a5dd8884cde5f91229e3518f2e.png)

我从[http://msdn.microsoft.com/en-us/library/aa354513.aspx得到的](http://msdn.microsoft.com/en-us/library/aa354513.aspx)

**所以我的问题是**我知道默认情况下连接是加密的。但是我是否需要 ssl 证书以防止用户看到用户名和密码。我知道，一旦我通过身份验证，消息就会被加密。但是密码和用户名也加密了吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-30T05:06:45.550

此处的其他答案具有误导性和不正确性，尽管它们可能会通过提及运输安全性来使您放心。正确答案是**Windows 身份验证不会以纯文本形式发送密码。**

当客户端向服务器保证用户就是他们所说的那个人时，Windows 身份验证起作用。没有密码通过网络传输。

如果您要使用基本身份验证，那么密码将通过网络传输；如果使用任何`https`传输，则连接会被加密，但在该连接中，消息的内容不会被加密。

请参阅[WCF wsHttpBinding 的 Windows 身份验证有多安全？](https://stackoverflow.com/questions/2906685/how-secure-is-wcf-wshttpbindings-windows-authentication)一个类似的问题。

有关 WCF 传输安全的更多信息，请参阅[MSDN 消息和](http://msdn.microsoft.com/en-us/library/ff648863.aspx)传输安全。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T04:46:10.813

通过线路发送的数据，包含在消息中是纯文本；但是，鉴于正在使用传输安全模式，客户端-服务器通信通过 http 上的 ssl（以及 TCP 情况下的 TLS）来保护。

可以在[此处](http://msdn.microsoft.com/en-us/library/ff648589.aspx "WCF 传输安全")阅读有关 Transport 如何保护通信的更多信息。

但是由于通信双方都不需要理解 xml 级别的安全概念，因此消息的实际 xml 以纯文本形式发送。

**编辑**：Kirk Broadhurst 是正确的 - 在 Windows 身份验证的情况下，用户名和密码未附加到/存在于消息上，但存在的任何数据都未加密。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T04:32:11.997

WsHttpBinding 默认加密消息，因此它不会是纯文本。

更多信息[在这里](http://msdn.microsoft.com/en-us/library/ff647344.aspx)。

# html - 您如何向数据库中的用户发送电子邮件

> ID：13639007
> 
> 赞同：-2
> 
> 时间：2012-11-30T04:27:51.383
> 
> 标签：html, mysql, database, list, email

我有一个数据库，其中存储了注册我的电子邮件列表的人的电子邮件地址。但现在我需要知道如何发送大量电子邮件，而不必从我的 PHPMYADMIN 复制每个单独的电子邮件地址。这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T04:36:12.827

你没有提到你将用什么方法发送这些电子邮件。使用 phpmyadmin，您可以导出各种格式的电子邮件。使用 csv，您可以将该文件用于多个应用程序。如果您需要更好的帮助，请更具体一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T04:46:03.383

您真的很想使用[电子邮件服务提供商](http://en.wikipedia.org/wiki/Email_service_provider)。

> ...商业 ESP，是一家提供电子邮件营销或批量电子邮件服务的公司。根据 Spamhaus 的说法，这些术语都不是垃圾邮件的同义词，也不是发送不需要的或未经请求的大量营销或其他冒犯性质的电子邮件。

[MailChimp](http://mailchimp.com)应该是一个简单易用的电子邮件服务提供商，尽管我从未使用过它。我使用过 SparkList 和 Responsys。SparkList 对您来说可能很容易使用，但 Responsys 有点困难，而且可能超出您的需要。

这是ESP的[完整列表。](http://www.emailvendorselection.com/email-service-provider-list/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:03:07.117

如果你有这样的数据库：

+----+------+------+
| id |姓名|邮箱|
+----+------+------+
那你就可以发邮件了。首先，您需要在一个名为`$msg`. 这是您的问题的演示版本。

```
<?php
$msg = "Hi this is my common message to you all";
$sub = "This is test message dnt pay attention";
$conn = mysqli_connect('localhost','user_name','password','DB_name')
        or die('Error in connecting the database');
$query = "SELECT * FROM EMAIL_LIST";
$result = mysqli_query($conn, $query);
while($row = mysqli_fetch_array($result)){
      mail($row['email'], $sub, $msg);
      echo 'Sent to '.$row['email'];
 }
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-01-11T16:50:48.920

很简单，当你创建数据库的时候，你把 email 字段设置为唯一类型，这样 email 字段就不会存储重复的记录。要发送电子邮件，您还必须从[http://www.bulkreply.com/#pricing](http://www.bulkreply.com/#pricing)选择一些定价服务。

# eclipse - 在eclipse中打开最后一个关闭文件的快捷方式？

> ID：13639008
> 
> 赞同：24
> 
> 时间：2012-11-30T04:27:59.140
> 
> 标签：eclipse, keyboard-shortcuts, eclipse-juno

在 Firefox 中，我们有`ctrl`+`W`关闭当前选项卡和 `ctrl`+ `shift`+ `T` 打开最后关闭的选项卡。

同样在 eclipse 中，我们有`ctrl`+`W` 用于关闭当前文件。但是**有没有打开最后一个关闭文件的快捷方式？**

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-11-30T04:58:02.920

是的，这是可能的。关闭一个选项卡并点击上面`left yellow arrow`的或键盘上的+ ，将在 Eclipse 编辑器中打开您关闭的文件`Eclipse menu bar``ALT``LEFT`

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-11-30T04:45:00.960

最后一个要编辑的文件显示在文件下拉菜单的末尾。从该菜单中选择它将重新打开文件。默认显示 4 个最近编辑的文件。首选项页面可让您将该数字更改为不超过 15。这是您能做的最好的事情。

# android - Android Gestures - 启动时意外关闭

> ID：13639015
> 
> 赞同：0
> 
> 时间：2012-11-30T04:28:53.167
> 
> 标签：android, gestures

我正在尝试在 Android 中构建一个手势应用程序。我已成功从 sd 卡中提取手势文件并将其放入我的 res/raw 文件夹中。

但是当我启动应用程序时，它意外终止。

我的代码是：

```
package com.example.gest;

import java.util.ArrayList;

import android.os.Bundle;
import android.app.Activity;
import android.gesture.Gesture;
import android.gesture.GestureLibraries;
import android.gesture.GestureLibrary;
import android.gesture.GestureOverlayView;
import android.gesture.GestureOverlayView.OnGesturePerformedListener;
import android.gesture.Prediction;
import android.view.Menu;
import android.widget.Toast;

public class MainActivity extends Activity implements OnGesturePerformedListener {
    GestureLibrary mLibrary;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        mLibrary = GestureLibraries.fromRawResource(this, R.raw.gestures);
           if (!mLibrary.load()) {
             finish();
           }
           GestureOverlayView gestures = (GestureOverlayView) findViewById(R.id.gestures);
           gestures.addOnGesturePerformedListener(this);

    }
    public void onGesturePerformed(GestureOverlayView overlay, Gesture gesture) {
       ArrayList<Prediction> predictions = mLibrary.recognize(gesture);
       if (predictions.size() > 0 && predictions.get(0).score > 1.0) {

         String result = predictions.get(0).name;
         if ("o".equalsIgnoreCase(result)) {
           Toast.makeText(this, "Opening the document", Toast.LENGTH_LONG).show();
         } else if ("s".equalsIgnoreCase(result)) {
           Toast.makeText(this, "Saving the document", Toast.LENGTH_LONG).show();
         }
       }

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    } 
} 
```

我的 main.xml 文件是：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.gest"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="15" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name=".MainActivity"
            android:label="@string/title_activity_main" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>
<android.gesture.GestureOverlayView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/gestures"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:eventsInterceptionEnabled="true"
android:gestureStrokeType="multiple"
android:orientation="vertical" >
<TextView
android:id="@+id/textView1"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="TextView" />
</android.gesture.GestureOverlayView>

</manifest> 
```

日志猫错误是：

```
11-30 09:55:05.584: E/AndroidRuntime(5031): FATAL EXCEPTION: main
11-30 09:55:05.584: E/AndroidRuntime(5031): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.gest/com.example.gest.MainActivity}: java.lang.NullPointerException
11-30 09:55:05.584: E/AndroidRuntime(5031):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at android.app.ActivityThread.access$600(ActivityThread.java:130)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at android.os.Handler.dispatchMessage(Handler.java:99)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at android.os.Looper.loop(Looper.java:137)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at android.app.ActivityThread.main(ActivityThread.java:4745)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at java.lang.reflect.Method.invokeNative(Native Method)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at java.lang.reflect.Method.invoke(Method.java:511)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at dalvik.system.NativeStart.main(Native Method)
11-30 09:55:05.584: E/AndroidRuntime(5031): Caused by: java.lang.NullPointerException
11-30 09:55:05.584: E/AndroidRuntime(5031):     at com.example.gest.MainActivity.onCreate(MainActivity.java:27)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at android.app.Activity.performCreate(Activity.java:5008)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
11-30 09:55:05.584: E/AndroidRuntime(5031):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
11-30 09:55:05.584: E/AndroidRuntime(5031):     ... 11 more
11-30 09:55:10.323: I/Process(5031): Sending signal. PID: 5031 SIG: 9 
```

如果有人能找出原因，那就太棒了。

# python - 在两个二维物体之间的弹性碰撞中，物体之间的总速度（速度大小）是否守恒？

> ID：13639017
> 
> 赞同：4
> 
> 时间：2012-11-30T04:29:15.003
> 
> 标签：python, geometry, pygame, game-physics

## 问题

在一个运动的二维圆形物体（它们具有质量和速度属性）以完美弹性相互碰撞的封闭系统中，系统内所有物体的总~~速度~~速度（速度大小）是否守恒？

## 背景

我正在 Python 中实现一个简单的二维物理引擎，基于[这个 Stack Overflow question](https://stackoverflow.com/questions/345838/ball-to-ball-collision-detection-and-handling)中概述的碰撞解决方法。我的期望是，当两个物体发生碰撞时，总速度（与每个物体相关的速度矢量的长度之和）应该在它们之间保持恒定，我根据这个期望为我的解析方法设计了一个单元测试。但我发现我的测试失败了。所以我想首先确保我的假设是正确的。

如果正确，我邀请您查看我的代码并解释测试失败的原因：

### 冲突解决

```
class Physics:

    @staticmethod
    def reflect_colliding_circles(
        (c1_x, c1_y, c1_vx, c1_vy, c1_r, c1_m, c1_e),
        (c2_x, c2_y, c2_vx, c2_vy, c2_r, c2_m, c2_e)):
        # inverse masses, mtd, restitution
        im1 = 1.0 / c1_m
        im2 = 1.0 / c2_m
        mtd = Physics.calculate_mtd((c1_x, c1_y, c1_r), (c2_x, c2_y, c2_r))
        normal_mtd = mtd.normalized()
        restitution = c1_e * c2_e

        # impact speed
        v = vec2d(c1_vx, c1_vy) - vec2d(c2_vx, c2_vy)
        vn = v.dot(normal_mtd)

        # circle moving away from each other already -- return
        # original velocities
        if vn > 0.0:
            return vec2d(c1_vx, c1_vy), vec2d(c2_vx, c2_vy)

        # collision impulse
        i = (-1.0 * (1.0 + restitution) * vn) / (im1 + im2)
        impulse = normal_mtd * i

        # change in momentun
        new_c1_v = vec2d(c1_vx, c1_vy) + (impulse * im1)
        new_c2_v = vec2d(c2_vx, c2_vy) - (impulse * im2)

        return new_c1_v, new_c2_v

    @staticmethod
    def calculate_mtd((c1_x, c1_y, c1_r), (c2_x, c2_y, c2_r)):
        """source: https://stackoverflow.com/q/345838/1093087"""
        delta = vec2d(c1_x, c1_y) - vec2d(c2_x, c2_y)
        d = delta.length
        mtd = delta * (c1_r + c2_r - d) / d
        return mtd 
```

### 单元测试

```
def test_conservation_of_velocity_in_elastic_collisions(self):
    for n in range(10):
        r = 2
        m = 10
        e = 1.0

        c1_pos = vec2d(0, 0)
        c1_v = vec2d(random.randint(-100,100), random.randint(-100,100))

        c2_delta = vec2d(random.randint(-100,100), random.randint(-100,100))
        c2_delta.length = random.randint(50, 99) * r / 100.0
        c2_pos = c1_pos + c2_delta
        c2_v = vec2d(random.randint(-100,100), random.randint(-100,100))

        c1_np, c2_np = Physics.translate_colliding_circles(
            (c1_pos.x, c1_pos.y, r, m),
            (c2_pos.x, c2_pos.y, r, m))

        c1_nv, c2_nv = Physics.reflect_colliding_circles(
            (c1_np.x, c1_np.y, c1_v.x, c1_v.y, r, m, e),
            (c2_np.x, c2_np.y, c2_v.x, c2_v.y, r, m, e))

        old_v = c1_v.length + c2_v.length
        new_v = c1_nv.length + c2_nv.length

        self.assertTrue(Physics.circles_overlap(
            (c1_pos.x, c1_pos.y, r), (c2_pos.x, c2_pos.y, r)))
        self.assertTrue(old_v - new_v < old_v * .01) 
```

我正在使用这个 pygame 矢量类：[http ://www.pygame.org/wiki/2DVectorClass](http://www.pygame.org/wiki/2DVectorClass)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T04:43:18.447

无论碰撞的弹性如何，总*动量*都是守恒的。总速度显然不是。严格来说，*速度*是一个向量，作为向量很容易看出它会发生变化：例如，一个球从一个不可移动的垂直壁上弹性反弹，它的速度就会变成相反的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:15:57.857

[AndreyT 的回答](https://stackoverflow.com/a/13639140/1093087)让我明白了。这是我想要的单元测试：

```
def test_conservation_of_momentum_in_elastic_collisions(self):
    """Some references:
    http://en.wikipedia.org/wiki/Elastic_collision
    http://en.wikipedia.org/wiki/Momentum
    https://stackoverflow.com/a/13639140/1093087"""
    for n in range(10):
        r = 2
        m = 10
        e = 1.0

        c1_pos = vec2d(0, 0)
        c1_v = vec2d(random.randint(-100,100), random.randint(-100,100))

        c2_delta = vec2d(random.randint(-100,100), random.randint(-100,100))
        c2_delta.length = random.randint(50, 99) * r / 100.0
        c2_pos = c1_pos + c2_delta
        c2_v = vec2d(random.randint(-100,100), random.randint(-100,100))

        momentum_before = (c1_v * m) + (c2_v * m)  

        c1_np, c2_np = collision.translate_colliding_circles(
            (c1_pos.x, c1_pos.y, r, m),
            (c2_pos.x, c2_pos.y, r, m))

        c1_nv, c2_nv = collision.reflect_colliding_circles(
            (c1_np.x, c1_np.y, c1_v.x, c1_v.y, r, m, e),
            (c2_np.x, c2_np.y, c2_v.x, c2_v.y, r, m, e))

        momentum_after = (c1_nv * m) + (c2_nv * m)  

        self.assertTrue(collision.circles_overlap(
            (c1_pos.x, c1_pos.y, r), (c2_pos.x, c2_pos.y, r)))
        self.assertEqual(momentum_before, momentum_after) 
```

它通过了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-24T07:16:34.057

这是一个很好的问题。我认为弹性碰撞理论中不存在正确的解决方案，因为它是在物理课程/书籍中教授的。

在质心 (CM) 参考系中，在二元弹性碰撞 (惠更斯) 中，相对速度是相反的。由于相对速度不取决于选择的参考系，因此相对速度在任何任意参考系中都会反转。这确保了与 CM 参考系中的速度之和相同的相对速度的大小保持恒定。

本质上，上面所说的意思是：如果您计算 CM 框架中的速度总和（速度大小），您的测试/代码必须没有失败。

我可以通过补充信息的方式添加以下内容。

还有另一种理论导致了只需要恢复相对速度而不坚持相对速度反转的结果。根据该理论，在任意参考系中，两个质量之间的动能 (KE) 转移是可能的，同时保持 KE 的总和不变。该理论可能导致您的代码/测试结果失败。

我不明白你写的代码，因为我不熟悉计算机代码/程序。因此，我无法建议对您的程序进行修改。

# php - 避免在没有扩展名的 PHP 文件中重定向

> ID：13639019
> 
> 赞同：1
> 
> 时间：2012-11-30T04:29:26.313
> 
> 标签：php, redirect

在我的应用程序中，如果我尝试浏览到`yellowandred.in/vblogs/index`，我会被重定向到该`vblogs`页面。相反，我打算加载该`index`页面 - 这是一个没有扩展名的 PHP 页面。

避免这种重定向的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T04:38:59.533

将此行放在 .htaccess 顶部或 httpd.conf 中：

```
Options -MultiViews 
```

# java - Android中侦听器内的侦听器按钮

> ID：13639022
> 
> 赞同：0
> 
> 时间：2012-11-30T04:29:53.977
> 
> 标签：java, android, android-layout, android-arrayadapter

我有以下代码......这个列表基本上是“监听”要单击的项目，一旦单击，它会打开一个对话框，里面有一个按钮。我无法让按钮听...即使我这样做...应用程序也会崩溃。并且 Eclipse 不会自动允许我“覆盖” onClick()

```
WeatherAdapter adapter = new WeatherAdapter(this,R.layout.listview_header_row, weather_data);
            listView1 = (ListView)findViewById(R.id.listView1);
            View header = (View)getLayoutInflater().inflate(R.layout.listview_header_row, null);
            //listView1.addHeaderView(header);
            listView1.setAdapter(adapter);  
            listView1.setClickable(true);
            listView1.setOnItemClickListener(new AdapterView.OnItemClickListener() {

              @Override
              public void onItemClick(AdapterView<?> arg0, View arg1, int position, long arg3) {

                    Dialog  dialog = new Dialog (Activity2.this);
                    dialog.setContentView(R.layout.dialogxml);
                    dialog.setCancelable(true);
                    ImageView dcover=(ImageView) dialog.findViewById(R.id.dimageView1);
                    TextView dtitle = (TextView) dialog.findViewById(R.id.dtextView1);
                    TextView dyear = (TextView) dialog.findViewById(R.id.dtextView2);
                    TextView ddirector = (TextView) dialog.findViewById(R.id.dtextView3);
                    TextView drating = (TextView) dialog.findViewById(R.id.dtextView4);
                    TextView len1 = (TextView) dialog.findViewById(R.id.textView77);
                    Button postbutton=(Button) findViewById(R.id.buttonfb);

                    InputStream is;
                    try {
                        is = (InputStream) new URL(full_data[position][0]).getContent();
                        Drawable dd = Drawable.createFromStream(is, "src name");
                        dcover.setImageDrawable(dd);
                    } catch (MalformedURLException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    } catch (IOException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }

                    dtitle.setText("Name: "+full_data[position][1]);
                    dyear.setText("Year: "+full_data[position][2]);
                    ddirector.setText("Director: "+full_data[position][4]);
                    drating.setText("Rating: "+full_data[position][3]+"/10");
                    dialog.show();
          //NOT ABLE TO DO THIS!!          postbutton.setOnClickListener(new View.OnClickListener() { 
                        @Override
                        public void onClick(View v) {

                        }
                      });

              } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T04:32:46.240

抓住了错误

按钮 postbutton=(Button) findViewById(R.id.buttonfb); 应该

按钮 postbutton=(按钮) dialog.findViewById(R.id.buttonfb); 如果按钮在对话框内。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T04:38:08.830

**-**我认为`postbutton`是在里面`dialog`，如果是这样你需要`id`通过以下方式找到它......

`Button postbutton=(Button)dialog.findViewById(R.id.buttonfb);`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:23:42.027

用这个替换你的代码..

因为您的按钮在对话框内，所以您需要`findviewbyid`使用对话框视图。

```
WeatherAdapter adapter = new WeatherAdapter(this,R.layout.listview_header_row, weather_data);
        listView1 = (ListView)findViewById(R.id.listView1);
        View header = (View)getLayoutInflater().inflate(R.layout.listview_header_row, null);
        //listView1.addHeaderView(header);
        listView1.setAdapter(adapter);  
        listView1.setClickable(true);
        listView1.setOnItemClickListener(new AdapterView.OnItemClickListener() {

          @Override
          public void onItemClick(AdapterView<?> arg0, View arg1, int position, long arg3) {

                Dialog  dialog = new Dialog (Activity2.this);
                dialog.setContentView(R.layout.dialogxml);
                dialog.setCancelable(true);
                ImageView dcover=(ImageView) dialog.findViewById(R.id.dimageView1);
                TextView dtitle = (TextView) dialog.findViewById(R.id.dtextView1);
                TextView dyear = (TextView) dialog.findViewById(R.id.dtextView2);
                TextView ddirector = (TextView) dialog.findViewById(R.id.dtextView3);
                TextView drating = (TextView) dialog.findViewById(R.id.dtextView4);
                TextView len1 = (TextView) dialog.findViewById(R.id.textView77);
                Button postbutton=(Button) dialog.findViewById(R.id.buttonfb);

                InputStream is;
                try {
                    is = (InputStream) new URL(full_data[position][0]).getContent();
                    Drawable dd = Drawable.createFromStream(is, "src name");
                    dcover.setImageDrawable(dd);
                } catch (MalformedURLException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

                dtitle.setText("Name: "+full_data[position][1]);
                dyear.setText("Year: "+full_data[position][2]);
                ddirector.setText("Director: "+full_data[position][4]);
                drating.setText("Rating: "+full_data[position][3]+"/10");
                dialog.show();
            postbutton.setOnClickListener(new View.OnClickListener() { 
                    @Override
                    public void onClick(View v) {

                    }
                  });

          } 
```

# php - 使用 cURL 获取数据

> ID：13639026
> 
> 赞同：1
> 
> 时间：2012-11-30T04:30:50.153
> 
> 标签：php, facebook, facebook-graph-api, curl

```
$args = array(
'access_token' => 'xxxxxxx'
); 
 $url = "https://graph.facebook.com/me/friends";

 $ch=curl_init();
 curl_setopt($ch,CURLOPT_URL,$url);
 curl_setopt($ch, CURLOPT_POSTFIELDS, $args);
 curl_exec($ch);
 curl_close($ch); 
```

这是我的代码让我的朋友低于预期的输出。我将在哪里获得我所有朋友的姓名和 ID。

```
{
  "data": [
    {
  "name": "xxxx", 
  "id": "xxxx"
}, 
{
  "name": "xxxx", 
  "id": "xxxx"
}, 
```

但它给错误。

```
{"error":{"message":"(#100) ","type":"OAuthException","code":100}} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T04:37:04.623

100 表示参数无效。[这应该可以帮助您](http://www.fb-developers.info/tech/fb_dev/faq/general/gen_10.html)在遇到其他错误代码时诊断它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T04:38:42.583

您必须使用 facebook 最新的 SDK，这不是获取输出的正确方法您必须使用类似下面的代码

```
$queries = array(
    array('method' => 'GET', 'relative_url' => '/'.$user),
    array('method' => 'GET', 'relative_url' => '/'.$user.'/friends')
);
// POST your queries to the batch endpoint on the graph.
try{
    $batchResponse = $facebook->api('?batch='.json_encode($queries), 'POST');
}catch(Exception $o){
    error_log($o);
} 
```

包括 Facebook SDK 文件更改您的密钥并尝试上述代码

# authentication - Rails 3 + Authlogic + 传递三个参数来验证用户

> ID：13639027
> 
> 赞同：0
> 
> 时间：2012-11-30T04:30:55.190
> 
> 标签：authentication, ruby-on-rails-3.2, authlogic

在我的 authlogic 中，我试图传递三个参数来验证用户，即（电子邮件、dob、passowrd），因为电子邮件地址在系统中不是唯一的。

但是我没有办法验证它，因为 Authlogic 需要两个参数来创建会话。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-31T13:06:41.090

最后，我完成了这个实现。

**这样做的步骤：**

第 1 步 - 在我们的控制器中（例如`class UserSessionsController < ApplicationController`）：

```
login = {:dob => dob_date, :email => primary_email }
@user_exist = UserSession.new(:email => login, :password => password)
if i@user.save
    redirect_to "/UserDashboard"
    return
end 
```

* * *

步骤 2\. UserSessionModel 中的更改

```
class UserLoginSession < Authlogic::Session::Base

    find_by_login_method :find_by_user_email_or_date_of_birth

end 
```

* * *

第 3 步：更改用户模型

```
class User < ActiveRecord::Base

  acts_as_authentic do |c|
    c.login_field = :email # email is the login field
    c.validate_login_field = false 
          # There is no login field, so don't validate it
    c.validations_scope = :dob
  end

  def self.find_by_user_email_or_date_of_birth(login)
    dob = login[:dob]
    primary_email = login[:email]
    find_by_email_and_dob(primary_email, dob)
  end      
end 
```

* * *

这是使用 authlogic 进行身份验证时提供 3 个参数的方法之一。

# php - 注意：未定义索引 PHP 错误

> ID：13639030
> 
> 赞同：0
> 
> 时间：2012-11-30T04:31:22.773
> 
> 标签：php, mysql, database

这一行：

```
<?php echo $row_stuCompSci['Cid']; ?> 
```

给我未定义的索引错误。但我不明白为什么当其他查询没有时这会给我一个错误。这是我使用的查询。这都是在 Dreamweaver 中制作的

```
mysql_select_db($database_project, $project);
$query_stuCompSci = "SELECT compsci.CSid FROM compsci WHERE NOT EXISTS  ( SELECT      studentcourses.Cid FROM studentcourses WHERE studentcourses.Cid=compsci.CSid )";
$stuCompSci = mysql_query($query_stuCompSci, $project) or die(mysql_error());
$row_stuCompSci = mysql_fetch_assoc($stuCompSci);
$totalRows_stuCompSci = mysql_num_rows($stuCompSci); 
```

在查询中，表 studentcourses 有两列（Sid，Cid），第二个表 compsci 也有两列（CSid，Credits）。

查询获取学生课程中不存在的任何 Cid，当我测试查询时它工作正常，但是，当我尝试查看我的网站时，它给了我索引错误。如果需要，我可以在这里复制我的整个代码，但它大约有 220 行长。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T04:32:59.157

您的查询包含：

```
SELECT compsci.CSid FROM ... 
```

注意查询是`CSid`，不是`Cid`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T04:32:32.253

这意味着您没有 `Cid` 在查询中选择尝试

```
 "SELECT compsci.Cid,compsci.CSid FROM compsci WHERE NOT EXISTS  ( SELECT      studentcourses.Cid FROM studentcourses WHERE studentcourses.Cid=compsci.CSid )"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T04:36:51.250

你正在调用`Cid`PHP

```
<?php echo $row_stuCompSci['Cid']; ?> 
```

但尚未`Cid`在查询中选择。做这个

```
SELECT compsci.Cid,compsci.CSid FROM .... 
```

# php - 如何在 ob_get_clean 作为数组后处理 php var_dump

> ID：13639031
> 
> 赞同：0
> 
> 时间：2012-11-30T04:31:24.097
> 
> 标签：php

以下是我的代码

```
<?php
ob_start();
$incoming = var_dump($_REQUEST);
$myFile = "testFile.txt";
$incoming = ob_get_content();
$fh = fopen($myFile, 'w');
fwrite($fh, $incoming);
fclose($fh);
?> 
```

它会生成一个名为 testFile 的文件，其中包含发送给它的内容。

所以，如果我导航到[http://example.com/uploads/upload_file.php?key=value](http://example.com/uploads/upload_file.php?key=value)

文本文件看起来像

```
array(1) {
  ["key"]=>
  string(5) "value"
} 
```

然而，我想要的**只是**价值

我尝试将写入调用更改为

```
fwrite($fh, $incoming[0]); 
```

但是，它只会将 a 写入文件，因为 a 来自字符串的 array(1) 部分。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T04:34:27.820

将您的代码更改为：

```
<?php
$myFile = "testFile.txt";
$fh = fopen($myFile, 'w');
foreach($_REQUEST as $k => $v)
   fwrite($fh, $v);
fclose($fh);
?> 
```

# azure - azure 跟踪日志有间隙

> ID：13639035
> 
> 赞同：2
> 
> 时间：2012-11-30T04:31:57.550
> 
> 标签：azure, azure-storage

我们在 azure 应用程序中广泛使用跟踪日志记录，但有时我们会在日志中看到长达 90m 左右的间隙。

为什么会这样，我该如何进行诊断？这一点非常重要，因为我们使用 WADLogsTable 中的数据作为警报系统的源数据。

**更新**：抱歉耽搁了。我的配置如下：

```
 <system.diagnostics>
        <trace>
            <listeners>
                <add type="Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitorTraceListener, Microsoft.WindowsAzure.Diagnostics, Version=1.7.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
                    name="AzureDiagnostics">
                    <filter type="" />
                </add>
            </listeners>
        </trace>
    </system.diagnostics> 
```

其余的配置以编程方式完成：

公共静态无效ConfigureDiagnosticMonitor（TimeSpan？scheduledTransferPeriod）{TimeSpan stp = scheduleTransferPeriod？？DefaultScheduledTransferPeriod;

```
 var config = DiagnosticMonitor.GetDefaultInitialConfiguration();
    config.OverallQuotaInMB = 8192;

    // configure Windows Event Log monitoring.
    config.WindowsEventLog.DataSources.Add("Application!*");
    config.WindowsEventLog.ScheduledTransferLogLevelFilter = LogLevel.Warning;
    config.WindowsEventLog.ScheduledTransferPeriod = stp;

    // configure Diagnostic infrastructure logs
    config.DiagnosticInfrastructureLogs.ScheduledTransferLogLevelFilter = LogLevel.Information;
    config.DiagnosticInfrastructureLogs.BufferQuotaInMB = 100;
    config.DiagnosticInfrastructureLogs.ScheduledTransferPeriod = stp;

    // configure Logs
    config.Logs.ScheduledTransferLogLevelFilter = LogLevel.Verbose;
    config.Logs.BufferQuotaInMB = 100;
    config.Logs.ScheduledTransferPeriod = stp;

    // configure Directories
    config.Directories.DataSources.Add(AzureLocalStorageTraceListener.GetLogDirectory());
    config.Directories.ScheduledTransferPeriod = stp;

    DiagnosticMonitor.Start("Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString", config);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T15:44:45.483

听起来本地诊断存储在 Azure 能够从其中清除一些数据之前就已填满。

尝试将总配额减少到 4gigs 以下，并将所有其他配额减少到匹配，以使它们低于总数。默认情况下，Azure 只为整个诊断空间分配 4gigs，您希望低于该数量，以便给诊断代理一些时间来修剪数据。

# sql - 具有多个表的条件的 SQL 查询

> ID：13639046
> 
> 赞同：5
> 
> 时间：2012-11-30T04:33:32.050
> 
> 标签：sql

我尝试在 Visual Studio 2010 中生成的表存在问题。我不太确定如何制定形成数据源的 SQL 查询。

基本上我有两张桌子。其中之一包含图片文件名并有两列，`picturefile (PK)`而`username`. 第二个表包含三个用户名列：第一列定义用户名，第二列定义用户名的朋友以形成朋友关系，第三列是 a `RelationshipID`。

我想让我的查询生成一个表，显示当前用户的朋友拥有的图片表中的所有图片。我有`@currentuser`可以使用的参数所以这将是你朋友的图片表。

我的尝试，记住我是一个初学者，是这样的：

```
SELECT picturefile, username
FROM     pictures_table1
WHERE (username = (SELECT User2 FROM friendslist_table1 WHERE     friendslist_table1.Username1 = @currentuser AND friendslist.Username2 <> @currentuser)) 
```

它给出了一个错误，说子查询不能返回多个值。

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T04:51:36.393

```
SELECT f.friendname,p.picturefile from pictures_table1 p
INNER JOIN friendslist_table1 f
ON p.username = f.username
WHERE f.username = @currentuser 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T04:35:02.063

请查看`JOIN`功能，它完全符合您的要求。

# c++ - 如何声明和分配指针

> ID：13639051
> 
> 赞同：0
> 
> 时间：2012-11-30T04:34:28.850
> 
> 标签：c++, c, pointers

我想用一个值（如`1000`）声明和初始化一个指针，我不想使用第二个变量。请看下面：

```
int *p = &1000;
Output: error : & on Constant

int *p = (int *)1000;
Output: 0000003E8

int *p = new int(1000);
Output: 1000 
```

因为，前两种方法没有给出预期的输出。所以，我想知道，哪一个是正确的方法，为什么？

[参考](https://stackoverflow.com/questions/900262/initializing-pointers-in-c)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T04:41:18.903

指针的全部意义（没有双关语）是指向另一个变量（或至少在*一些*内存中——可以是一块动态分配的内存，如第三个示例中所示，而不是实际变量。

尝试用整数文字初始化它根本没有多大意义。*仅在极其*有限的情况下，使用转换为指针类型的整数文字对其进行初始化才有意义——它使您能够直接读取/写入该绝对内存地址。这在小型嵌入式系统之类的东西上是有意义的，它可能具有可以在该地址访问的内存映射设备之类的东西。否则，它几乎毫无意义和无用。

作为术语的旁白：您实际上是在定义一个指针，而不仅仅是声明它。声明将类似于：

```
extern int *p; 
```

这告诉编译器存在一个在其他地方（即在其他翻译单元中）定义的指针。它最常出现在标题中。由于它只是告诉编译器指针，它不能包含声明。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:08:57.843

根据你的评论，

> 当我尝试 *p 时，它显示 1000。现在，无论你得到什么。

您想初始化指针，使其指向存储整数的位置`1000`。您*不想*将指针初始化为指向绝对地址`1000`。

在您提供的三行代码中，只有最后一行可以满足您的要求：

```
int *p = new int(1000); 
```

这会在堆上为 a 分配空间，并使用对空间进行`int`值初始化`1000`。

笔记：

*   在堆上为单个分配空间`int`有时可能是必要的，但大多数时候它不会有用，因为 an`int`是一个非常小的对象。指针很可能同样大或更大，因此传递指向 a 的指针`int`，而不是传递`int`自身，用途有限。

*   如果你真的认为你需要这个，请记住，你需要稍后释放该空间，使用

    ```
    delete p; 
    ```

*   一般而言，大多数时候您需要在堆上分配空间并维护指向它的指针，最好使用智能指针（例如C++11 中的`std::unique_ptr<int>`或`std::shared_ptr<int>`）来避免考虑释放。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T04:38:43.187

运算符的**地址**不能应用于参考页面本身中提到的常量。

目前尚不清楚为什么要以这种方式初始化指针。最好将常量分配给另一个变量并在它们上使用运算符的**地址**。

如果指针值将在代码中的某处更改，那么最好用 NULL 初始化指针。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T04:39:06.793

第一个是错误的（正如在接受的答案和您的编译器中指出的那样）
第二个似乎是正确的，但我不确定您在显示什么。您可能会显示由 p 表示的地址而不是它的值。尝试显示 *p 而不是只显示 p
第三个似乎是正确的，但仅适用于 C++ 而不是 C
编辑：
这就是您实现 Jay 答案的方式

```
int a = 1000;
int *p;
p=&a; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-30T04:49:52.830

整数 * p = 新整数；*p = 1000;

这就是你想要的。第一个字符串为整数分配内存，第二个用 1000 初始化它。不要原谅写“delete p;” 当您在程序中不再需要它时释放与 p 相关的内存。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-30T05:10:17.177

```
#include<stdio.h>

int main()
{
    int *ptr = (int *)1000;

    printf("%d\n", ptr);
    return 0;
} 
```

但这不是为指针赋值的正确方法。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-01-30T08:39:47.580

```
int *p = &1000;         /*You cannot use & of 1000 As 1000 is the numeric constant not the address of any variable*/

int *p = (int *)1000;   /*You are trying to do casting the value into the pointer so the pointer p will hold the address 0x000003e8 and the address will be pointing to some garbage value*/

int *p = new int(1000); /*In this statement you are trying to allocate the address of some variable form heap and storing a "1000" in that address*/ 
```

# android - 如何在全屏模式下调整窗口大小

> ID：13639053
> 
> 赞同：1
> 
> 时间：2012-11-30T04:34:36.177
> 
> 标签：android

我正在为活动使用以下属性，并希望窗口自动调整大小以占用 IME 上方的可用空间： android:windowSoftInputMode="adjustResize" android:theme="@android:style/Theme.NoTitleBar.Fullscreen" 所以请告诉我在全屏模式下打开键盘时如何调整窗口大小。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T04:47:21.503

我建议您在您的活动中尝试此代码..

```
Context myContext=YourActivityName;

((Activity) myContext).getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);
    ((Activity) myContext).requestWindowFeature(Window.FEATURE_NO_TITLE); 
```

# php - 从 php 中的评论中使链接可点击

> ID：13639056
> 
> 赞同：1
> 
> 时间：2012-11-30T04:34:54.397
> 
> 标签：php, hyperlink, chat, anchor

> **可能重复：**
> [正则表达式 URL 匹配](https://stackoverflow.com/questions/9164839/regex-url-match)

我正在尝试创建可以为我的聊天提供可点击链接的功能....这是我创建的功能

```
<?php
//makes links starting with http clickable
    function makehttpclickable($text){
        return preg_replace('!(((f|ht)tp://)[-a-zA-Z?-??-?()0-9@:%_+.~#?&;//=]+)!i', '<a href="$1">$1</a>', $text);
}
//makes links starting www. http clickable

function clickywww($www){
    return preg_replace('!((www)[-a-zA-Z?-??-?()0-9@:%_+.~#?&;//=]+)!i', '<a href="$1">$1</a>', $www);
}
/function that gives me an error!
function clickydotcom($noob){
    return preg_replace('!([-a-zA-Z?-??-?()0-9@:%_+.~#?&;//=]+)(\.com)!i'.'!([-a-zA-Z?-??-?()0-9@:%_+.~#?&;//=]+)(\.com)!f', '<a href="$1.com$f">$1.com</a>', $noob);
} 
```

我收到了一个未知的修饰符错误。警告：preg_replace() [function.preg-replace]: 未知修饰符 '!' 所以无论如何，任何帮助都会很好地说明我如何使所有类型的链接都可点击

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:02:16.810

这段代码会做

```
 <?php
 $input= "website is http://www.xyz.com";
 $clickable = preg_replace('*(f|ht)tps?://[A-Za-z0-9\./?=\+&%]+*', '<a href="$0">$0</a>', $input);
 echo $clickable;
 ?> 
```

我在您的功能中根据上述解决方案进行了一些修改。此代码将使 ftp、http 等链接可点击

```
 <?php
 function makehttpclickable($input){
 return preg_replace('*(f|ht)tps?://[A-Za-z0-9\./?=\+&%]+*', '<a href="$0">$0</a>', $input);
 }
 ?> 
```

希望这可以帮助

# windows-phone-7 - Windows Phone (7.1) 基于用户当前主题的“换肤”

> ID：13639062
> 
> 赞同：1
> 
> 时间：2012-11-30T04:35:31.953
> 
> 标签：windows-phone-7, xaml, themes, windows-phone, skinning

简而言之，我的问题是：如何在 WP7.1 应用程序中切换 ResourceDictionaries？有没有比我想做的更简单的方法？

细节...

在 Windows Phone 7 项目中，我需要根据用户的主题（浅色/深色）替换应用程序资源。简而言之，思路很明显：
    a) 创建 ResourceDictionary 变量
    b) 根据当前主题获取相应的样式和画笔资源文件
    c) 将上述资源添加到 Application.Current.Resources.MergedDictionaries

这就是我正在做的事情：

1) “查看”项目中资源的文件夹结构：
    Resources
        Dark
            Brushes.xaml
            Styles.xaml
        Light
            Brushes.xaml
            Styles.xaml

2) 2 个 Brushes.xaml 文件中的样式具有相同的 Keys。与 Styles.xaml 相同。

3）在我的第一次尝试中（假设选择了浅色主题），我在第二行得到一个“未指定的错误”。

```
var uriPath = "Resources/Light/Brushes.xaml"; 
var brushes = new ResourceDictionary {Source = new Uri(uriPath, UriKind.Relative)};
dic.MergedDictionaries.Add(brushes); 
```

（仅供参考，我尝试使用资源、页面和内容构建操作）

4) 我的第二次尝试给了我希望，因为我成功地将 Brushes.xaml 填充到应用程序的 MergedDictionaries 中：

```
string xaml;
var uriPath = "Resources/Light/Brushes.xaml";
var brushesUri = new Uri(uriPath, UriKind.Relative);
var brushesStream = Application.GetResourceStream(brushesUri);
using (var brushesStreamReader = new StreamReader(brushesStream.Stream))
    xaml = brushesStreamReader.ReadToEnd();
var dic = new ResourceDictionary();
dic.MergedDictionaries.Add((ResourceDictionary)XamlReader.Load(xaml)); 
```

5）为了让brushesStreamReader不在`null`上面的代码中，我必须将xaml文件设置为“内容”。（为什么？）

6) 第 4 步中我的代码的第二个问题是尝试对 Styles.xaml 执行相同操作时。我`Failed to assign to property 'System.Windows.ResourceDictionary.Source'`在最后一行（dic.MergedDictionaries.Add...）上得到一个“”。这可能是因为 Styles.xaml 将 Brushes.xaml 添加到了它自己的 MergedDictionaries：

```
<ResourceDictionary.MergedDictionaries>
    <ResourceDictionary Source="Brushes.xaml"/>
</ResourceDictionary.MergedDictionaries> 
```

是吗？
谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T16:10:41.623

在这种情况下，您可以抓住主题画笔并对其进行分析。前任：

```
private Color lightThemeBackground = Color.FromArgb(255, 255, 255, 255); 
private Color darkThemeBackground = Color.FromArgb(255, 0, 0, 0);  

public bool IsLightTheme()
{
     SolidColorBrush backgroundBrush = Application.Current.Resources["PhoneBackgroundBrush"] as SolidColorBrush;   
     if (backgroundBrush.Color == lightThemeBackground) { 
          // you are in the light theme
          return true;
     } 
     else { 
          // you are in the dark theme
          return false;
     }
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-30T05:41:53.343

你不应该这样做。只需使用系统画笔即可获得所有主题颜色。以下是这些画笔的一个很好的概述：http: [//msdn.microsoft.com/en-us/library/windowsphone/develop/ff769552.aspx#BKMK_BrushResources](http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff769552.aspx#BKMK_BrushResources)

# python - Python Challenge 3 级。为什么我的代码不起作用？

> ID：13639064
> 
> 赞同：-2
> 
> 时间：2012-11-30T04:35:41.263
> 
> 标签：python

所以我知道这是非常肮脏且可能效率低下的代码，但我只是想看看我是否可以让它工作。我只是不明白为什么它不起作用......我正在访问的文件中的文本位于[http://www.pythonchallenge.com/pc/def/equality.html](http://www.pythonchallenge.com/pc/def/equality.html)的来源中。有什么帮助吗？

```
#! /usr/bin/python

# This program searches a string for a lowercase letter that has 3, and only 3,
# uppercase letters to the left of it, and 3, and only 3, uppercase letters to
# the right of it. It then returns that lowercase letter.

from string import lowercase
from string import uppercase

# Open the text file containing the string and set it to variable str
fileHandle = open ( 'bodyguards.txt', 'r' )
str = fileHandle.read()
fileHandle.close()
#str = 'BIGaBIGaBIGaBIG'

# Search for a lowercase letter.
def isitlower(str):
    for a in str :
        if a in lowercase:
            letterposition = str.index(a) 
            r =threebgright(letterposition)
            l =threebgleft(letterposition)
            if r !=None and l !=None:
                print l,":",a,":", r

def threebgright(letterposition):
    if str[letterposition + 1] in uppercase and str[letterposition +2] in uppercase and         str[letterposition + 3] in uppercase and str[letterposition + 4] not in uppercase:
        return str[letterposition+1], str[letterposition+2], str[letterposition+3]
    else:
        return None

def threebgleft(letterposition):
    if str[letterposition - 1] in uppercase and str[letterposition -2] in uppercase and     str[letterposition - 3] in uppercase and str[letterposition - 4] not in uppercase:
        return str[letterposition-1], str[letterposition-2], str[letterposition-3]
    else:
        return None

isitlower(str) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:03:17.823

这将找到str中**第一次出现a 的索引：**

```
letterposition = str.index(a) 
```

可能不是你想要的。正确的方法是使用`enumerate`：

```
def isitlower(my_str):
    for a, letter_position in enumerate(my_str):
        if a in lowercase:
            r =threebgright(letterposition)
            l =threebgleft(letterposition)
            if r !=None and l !=None:
                print l,":",a,":", r 
```

最好不要`str`用作变量名，因为它是内置[类型](http://docs.python.org/2/library/stdtypes.html)/[函数](http://docs.python.org/2/library/functions.html#str)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-25T12:17:29.480

python 的众多好处之一是正则表达式。python中的正则表达式可以通过导入re模块来访问。你的答案太复杂，太累，效率低。最好遵循KISS（保持简单和小）。一个更简单的解决方案是：

```
data = " All that huge text "

bodyguarded = re.findall('[^A-Z][A-Z]{3}([a-z])[A-Z]{3}[^A-Z]')
print "".join(bodyguared) 
```

**说明**：

```
[^A-Z] 
```

请记住，小字母周围应该**正好有**3 个大字母。如果我们删除它，像“SJDHjHDG”这样的东西就会变得正确。这基本上是在[AZ]{3} 定义的**三个大写字母出现之前不想要任何大写字母。**

接下来是`([a-z])`. 这就是您如何定义中间的单个小写字母。注意它旁边没有 {x}。这是因为我们只希望出现**一次**。例如 :`'ABCjjKLM'`不正确，因为中间的小写字符不止一个。

我们希望小写字母被**包围**，因此我们希望在***右侧***再出现 3 个( `[A-Z]{3}`)，但**不再**出现 ，这就是我们添加 的原因`[^A-Z]`。正如我之前解释的那样，喜欢`'AJDkKLKM'` **或** `'JHKHjLKKK'`不正确的情况是因为我们只希望出现 3 次大写字母。这就是说，在 3 个大写字母 ( `[A-Z]{3}`) 之后，除了 A 到 Z 范围内的字符之外的任何字符都是有效的。

最后还有`print "".join(bodyguard)`

我这样做只是为了便于阅读。

re 模块的 findall 函数以列表的形式返回其发现。如果我们这样做了，`print bodyguard`我们会得到这样的结果：`[x,y,z,r,q,i]` 相反，我们得到`'xyzrqi'`的是因为列表的所有元素都连接在一个`""`空字符串中。

希望我有所帮助。

# python-2.7 - python：我在一个类中定义了一个函数，但随后它丢弃“名称错误，函数未定义”

> ID：13639065
> 
> 赞同：3
> 
> 时间：2012-11-30T04:35:44.273
> 
> 标签：python-2.7

我在 python 2.7 中运行此代码进行练习，但每次我都会遇到相同的错误，无论我如何调用函数 fib(n) 并且我不知道为什么它没有得到它。这是代码：

```
 #!/usr/bin/python

class fibonacci:

    def fib(self,n):
        a=1
        b=0
        c=0
        count=0
        fibo=list()

        while count < n:
            c = a + b
            fibo.append(n)
            fibo.append(c)
            a = b
            b = c
            count += 1
        return fibo

n=int(raw_input("ingrese n: "))
s = fib(n)
print s 
```

当我运行它时，我收到此错误：

```
Traceback (most recent call last):
  File "./fib.py", line 22, in <module>
    s=fib(n)
NameError: name 'fib' is not defined
user@debian:~/Documents$ 
```

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T10:58:59.600

`fib()`是 class 的一个方法`fibonacci`，所以你必须这样调用它：

```
s = fibonnaci.fib(n) 
```

如果你只是这样做`fib(n)`，那么解释器会在任何类之外寻找一个名为“fib”的全局函数。在这种情况下，因为把它放在一个类中不会为函数提供任何特定的实用程序，你可以这样做：

```
def fib(n):
    ...

s = fib(n) 
```

（如果你把它放在一个类中作为命名空间的一种方式，请记住 Python 使用模块来简化这件事。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-01T16:03:23.367

```
class fibonacci:

    def fib(self,n):
        a=1
        b=0
        c=0
        count=0
        fibo=list()

        while count < n:
            c = a + b
            fibo.append(n)
            fibo.append(c)
            a = b
            b = c
            count += 1
        return fibo

n=int(raw_input("ingrese n: "))
s =fibonacci().fib(n)#<-- make sure to have fibonacci() before you call .fib() otherwise it will throw an error
print s 
```

您需要的是`fib`从它所在的类中调用该函数。它正在查看常规函数所在的全局范围（一个不在类中）。

# c++ - 用户输入字符串并计算字母实例的程序

> ID：13639066
> 
> 赞同：1
> 
> 时间：2012-11-30T04:35:46.260
> 
> 标签：c++, string, for-loop, if-statement

这是我编写的第一个 C++ 程序，我无法理解必须放入操作数的顺序。这是一个类，但看起来我不应该使用 homework 标记。对不起，如果我做错了。

这是我的输入

```
// Get DNA string

string st;
cout << "Enter the DNA sequence to be analysed: ";
cin >> st; 
```

这似乎工作正常，但我想我会包括它，以防这是我做错了。

到目前为止，这是我要检查输入是否完全是 C、T、A 或 G。它通过程序运行并简单地打印“请输入有效的序列 1，请输入有效的序列 2，……等等。我我确定我在做一些非常愚蠢的事情，我就是想不通。

```
 // Check that the sequence is all C, T, A, G

while (i <= st.size()){
if (st[i] != 'c' && st[i] != 'C' && st[i] != 'g' && st[i] != 'G' && st[i] != 't' && st[i] != 'T' && st[i] != 'a' && st[i] != 'A');
    cout << "Please enter a valid sequence" <<
    i++;
else if (st[i] == c,C,G,t,T,a,A)
    i++; 
```

我程序的后半部分是统计序列中Cs和Gs的个数

```
for (i < st.size() ; i++ ;);
for (loop <= st.size() ; loop++;)
    if (st[loop] == 'c')
    {
    count_c++;
    }
    else if (st[loop] == C)
    {
    count_c++;
    }
    else if (st[loop] == g)
    {
    count_g++;
    }
    else if (st[loop] == G);
    {
    count_g++;
    }

cout << "Number of instances of C = " << count_c;
cout << "Number of instances of G = " << count_g; 
```

看起来它没有循环，它会计算其中一个字母的 1。我如何让它循环？我似乎无法输入 endl; 任何地方都不会出现错误，尽管我知道我会在某个地方需要它。

任何帮助或提示我正确的方向将不胜感激 - 我已经在这段代码上工作了两天（承认这很尴尬）。

* * *

编辑 ：

我的序列检查器现在看起来像这样：

```
while (i < st.size() ) {
if (st[i] != c && st[i] != C && st[i] != g && st[i] !=G && st[i] !=t && st[i] !=T && st[i] !=a && st[i] != A)
    cout << "Please enter a valid sequence" << "\n" << "\n";
    i++;
} 
```

我的柜台看起来像这样：

```
// Count the number of Cs and Gs

count_c = 0;
count_g = 0;

for (i = 0; i < st.size() ; i++) {
   if ((st[i] == 'c') || (st[i] == 'C'))
   count_c++;
   else if ((st[i] == 'g')|| (st[i] == 'G'));
   count_g++;
}

cout << "Number of instances of C = " << count_c;
cout << "Number of instances of G = " << count_g; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T04:38:56.527

您的 for 循环使用了不正确的语法。你要：

```
for (i = 0; i < st.size() ; i++) {
    ...
} 
```

此外，您应该始终使用`< size`而不是`<= size`索引，因为索引从 开始`0`并结束于`size-1`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T04:54:46.187

你应该删除“;” 之后如果运算符：

```
 if (st[i] != 'c' && st[i] != 'C' && st[i] != 'g' && st[i] != 'G' && st[i] != 't' && st[i] != 'T' && st[i] != 'a' && st[i] != 'A'); 
```

现在它什么也没做。

您应该使用“<”而不是“<=”来避免对字符串数组进行错误索引（大小为“size”的字符串表示索引从 0 到 size - 1）

```
while (i <= st.size()) 
```

如果您已经检查过该符号不是 c,C,g,G,t,T,a,A 之一，则无需再次检查，因此 if (st[i] == c,C,G ,t,T,a,A) 没用。

但即使有了这些更正，您的代码在逻辑上也是错误的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T05:02:27.730

让我们同时修复验证和计数：

```
bool sequencedna(const string &s, int &count_a, int &count_t, int &count_c, int &count_g)
{
    for(int i = 0; i != s.length(); i++)
    {
        /* get the character at position i and convert it to uppercase */
        char c = s[i];

        if((c == 'C') || (c == 'c'))
            count_c++;
        else if((c == 'G') || (c == 'g'))
            count_g++;
        else if((c == 'T') || (c == 't'))
            count_t++;
        else if((c == 'A') || (c == 'a'))
            count_a++;
        else
            return false; // invalid character in DNA sequence!
    }

    return true; // valid DNA sequence
}

void doit()
{
    string st;

    while(true)
    {
        cout << "Enter the DNA sequence to be analysed: ";
        cin >> st;

        int count_c = 0, count_g = 0, count_t = 0, count_a = 0;

        if(sequencedna(st, count_a, count_t, count_c, count_g))
        {
            cout << "The DNA string has been sequenced. Counts " << endl
                 << "  Adenine: " << count_a << endl
                 << "  Thymine: " << count_t << endl
                 << " Cytosine: " << count_c << endl
                 << "  Guanine: " << count_g << endl;
            return;
        }

        cout << "Invalid sequence. DNA sequences may contains only A, T, C and G." << endl;
    }
} 
```

# servlets - Tomcat7 HTTP 状态 500 - Servlet 执行引发异常

> ID：13639068
> 
> 赞同：4
> 
> 时间：2012-11-30T04:35:53.250
> 
> 标签：servlets, tomcat7, blackberry-jde

```
类型异常报告

消息 Servlet 执行抛出异常

描述 服务器遇到一个内部错误，阻止它完成这个请求。

例外

javax.servlet.ServletException：Servlet 执行引发异常

根本原因

java.lang.NoClassDefFoundError: org/apache/commons/lang/exception/NestableRuntimeException
    java.lang.ClassLoader.defineClass1（本机方法）
    java.lang.ClassLoader.defineClassCond（未知来源）
    java.lang.ClassLoader.defineClass（未知来源）
    java.security.SecureClassLoader.defineClass（未知来源）
    org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:2904)
    org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:1173)
    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1681)
    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)
    Hello.doGet(Hello.java:42)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:728)

根本原因

java.lang.ClassNotFoundException：org.apache.commons.lang.exception.NestableRuntimeException
    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)
    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)
    java.lang.ClassLoader.defineClass1（本机方法）
    java.lang.ClassLoader.defineClassCond（未知来源）
    java.lang.ClassLoader.defineClass（未知来源）
    java.security.SecureClassLoader.defineClass（未知来源）
    org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:2904)
    org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:1173)
    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1681)
    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)
    Hello.doGet(Hello.java:42)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:728)

```

note Apache Tomcat/7.0.33 日志中提供了根本原因的完整堆栈跟踪。

和我的编码在这里

```
import java.io.IOException;

import javax.servlet.ServletException;

import javax.servlet.http.HttpServlet;

import javax.servlet.http.HttpServletRequest;

import javax.servlet.http.HttpServletResponse;

import java.io.*;

import java.sql.*;

import net.sf.json.JSONArray;

import net.sf.json.JSONObject;
/**
 * Servlet implementation class Getting_data
 */

public class Hello extends HttpServlet {
    private static final long serialVersionUID = 1L;

    /**
     * @see HttpServlet#HttpServlet()
     */
    public Hello() {

    }
        public void doGet(HttpServletRequest req, HttpServletResponse res)
        throws ServletException, IOException
        {

            res.setContentType("text/html");
        PrintWriter pw = res.getWriter();
        Connection con;
        Statement stmt;
        ResultSet rs = null;
        try{
        Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
        con = DriverManager.getConnection("jdbc:odbc:Emp_info");
        stmt = con.createStatement();
        String query = "select * from Emp_table";// where employee_name='"+emp_name+"' or department='"+emp_dept+"' or email='"+email+"' order by employee_name";
        System.out.println("query " + query);
        rs = stmt.executeQuery(query);
        pw.println("Id"+"Name"+"Address"+"<br>");
       JSONArray arrayObj=new JSONArray();
        JSONArray arrayObj1=new JSONArray();
        JSONObject responseData = new JSONObject();
        while(rs.next())
        {
        //pw.println(rs.getString(1) + " " + rs.getString(2) + "<br>");
        String name = rs.getString(1);
        String name1 = rs.getString(2);
        arrayObj.add(new String(name));
        arrayObj1.add(new String(name1));
        }
        responseData.put("rows", arrayObj);
        responseData.put("data", arrayObj);
        pw.print(responseData);
        }

        catch (Exception e){
        pw.println(e);
        }
        }

    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        // TODO Auto-generated method stub
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-10T14:42:58.417

假设您使用 Eclipse 并将项目配置为 Dynamic Web Project 右键单击​​您的项目 --> 选择`configure build path`--> now `click on add jars button`--> 和`select the Gson jar`--> 单击`OK`。

`Republish`项目和`restart`服务器。

否则将罐子添加到`WEB-INF\lib directory`战争内部

或者直接进入 tomcat 中的 Deployed 位置，但在提到的同一目录中

# junit - 需要 JUnit 帮助：线程“main”中的异常 java.lang.NoSuchMethodError: main

> ID：13639069
> 
> 赞同：0
> 
> 时间：2012-11-30T04:35:56.057
> 
> 标签：junit

我有两个文件：

计算器

```
public class Calc {
 public int add(int a, int b) {
  return a + b;
 }
 public int subtract(int a, int b) {
  return a - b;
 }
} 
```

和 TestCalc.java

```
import org.junit.* ;
import static org.junit.Assert.* ;

public class TestCalc {

  Calc c = new Calc();

  @Test
  public void testSum() {
    // 6 + 9 = 15
    int expected = 15;
    int actual = c.add(6, 9);
    assertEquals("adding 6 and 9", expected, actual);
  }

  @Test
  public void testSubstr() {
    // 18 - 3 = 15
    int expected = 15;
    int actual = c.subtract(18, 3);
    assertEquals("subtracting 3 from 18", expected, actual);
    }
  } 
```

他们编译没有错误：

```
javac -cp .:junit-4.11.jar TestCalc.java
javac -cp .:junit-4.11.jar Calc.java 
```

但是当我尝试运行时，我收到了一个错误：

```
java -cp .:junit-4.11.jar TestCalc

Exception in thread "main" java.lang.NoSuchMethodError: main 
```

有人可以解释一下为什么吗？以及如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T04:42:29.243

您应该使用[JUnit 的](http://junit.sourceforge.net/doc/faq/faq.htm)运行器来运行测试用例类。

```
java -cp .:junit-4.11.jar org.junit.runner.JUnitCore TestCalc.java 
```

JUnitCore 将在您的测试类中运行测试。

# android - android ndk向量语法错误？

> ID：13639070
> 
> 赞同：2
> 
> 时间：2012-11-30T04:35:57.567
> 
> 标签：android, opencv, vector, android-ndk, java-native-interface

我正在使用 opencv | ndk | cdt in android, eclipse Juno 发布。我将项目路径设置如下。

```
${NDK}\sources\cxx-stl\gnu-libstdc++\4.6\include
${NDK}\sources\cxx-stl\gnu-libstdc++\4.6\libs\armeabi-v7a\include
${NDK}/platforms/android-14/arch-arm/usr/include 
```

但是当我使用向量时，它显示了一些错误。正如下面的代码所示，向量对象匹配，不能使用某些方法，例如 match.at(0) 甚至 match[0] 都是错误的。但是方法matches.empty() 或matches.push_back() 效果很好。如此迷茫。

cpp源代码：

```
vector< DMatch > matches;
matcher.match( descriptors_object, descriptors_scene, matches );

double max_dist = 0; double min_dist = 100;

//-- Quick calculation of max and min distances between keypoints
for(vector<DMatch>::iterator it = matches.begin(), it < matches.end(), it ++){

}

for( int i = 0; i < descriptors_object.rows; i++ )
{
    double dist = matches[i].distance;
    if( dist < min_dist ) min_dist = dist;
    if( dist > max_dist ) max_dist = dist;
} 
```

另外，上面的代码：

```
//-- Quick calculation of max and min distances between keypoints
for(vector<DMatch>::iterator it = matches.begin(), it < matches.end(), it ++){

} 
```

当按 F3 去定义向量时，eclipse 显示向量语法错误！！！并让我选择去的位置。

任何建议将不胜感激。谢谢

# css - 对于这个页面，为什么我必须使用 display: inline-block 而不是 display: inline？

> ID：13639071
> 
> 赞同：1
> 
> 时间：2012-11-30T04:36:07.117
> 
> 标签：css

[http://christianselig.com/wp/](http://christianselig.com/wp/)

对于主导航，如果我使用 display: inline，它们将显示为块。我一时兴起添加了 display: inline-block ，它起作用了。*抓头*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T04:38:41.653

现在定义**您的主要** `nav li`定义`display:inline-block` **或** `flaot:none`因为您的`.main-navigation li` **定义** `float left`

```
nav.main-navigation li {
    display: inline-block;
    float: none;
    vertical-align: top;
} 
```

结果是

![在此处输入图像描述](../Images/8b634a9c2b8b0824d4cb1bda262a0d5e.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T04:54:07.980

我已经检查了您的 html 代码和 css，根据 Web 标准，这不是有效的，如果您解决了一个问题然后出现其他问题，则会产生许多问题，所以请检查代码

```
nav.main-navigation li {
    display: inline-block;
    float: none;
} 
```

您可以将其添加到您的 css 中，它工作正常，但导航与您的横幅标题合并

# python - 将 .pyc 文件反编译为 Python 3.2 的脚本

> ID：13639074
> 
> 赞同：3
> 
> 时间：2012-11-30T04:36:36.633
> 
> 标签：python

我想将 .pyc 文件反编译为 Python 3.2 的脚本文件。我所能找到的只是他们已经成功地为 Python 2.7 开发了一个反编译器。是否有可以将 .pyc 文件反编译为常规`.py`文件的工具？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T09:58:15.830

您必须使用[unpyc3](http://code.google.com/p/unpyc3/)，这是目前 3.2 中唯一的一个

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-05-01T16:10:12.087

[uncompyle6](https://pypi.python.org/pypi?name=uncompyle6&:action=display)可以反编译包括 3.2 在内的 python 3.x 以及 Python 2。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-03-01T07:12:44.463

使用[https://python-decompiler.com/](https://python-decompiler.com/)在线反编译.pyc文件为.py

# mysql - 部门明智最高工资+2000

> ID：13639075
> 
> 赞同：2
> 
> 时间：2012-11-30T04:36:38.333
> 
> 标签：mysql, sql, database

我有 2 张桌子员工和部门

表格`employee`列
`empid`
`name`
`salary`
`location`

表格`department`列
`deptno`
`deptname`
`empid`
`mangerid`

现在我想找到部门方面的最高薪水，然后将它们增加 2000

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T04:51:32.353

ed：哈我没想到您实际上是要更新行，我以为您只是想检索值。@Ajith Sasidharan 的回答更全面。

您的部门表引用员工表而不是相反似乎很奇怪，但是这应该可以满足您的要求：

```
SELECT
  d.deptno, 
  d.deptname, 
  max(e.salary+2000)
FROM
  department d
INNER JOIN
  employee e
ON 
  e.empid = d.empid
GROUP BY 
  d.deptno, d.deptname; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T04:58:13.403

```
update emp
set sal = sal + 2000
where empid in (
select empid from dept where (deptno,sal) in (
select d.deptno,max(e.sal)
    from emp e,
    dept d
    where e.empid = d.empid
    group by deptno)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-01-03T10:09:23.263

```
 select e.name,e.salary,d.name as Department 
    from employee e join dept d on e.dept = d.id 
    where (e.salary, e.dept) IN (
      select max(salary), dept 
      from employee join dept on (employee.dept = dept.id)
      group by employee.dept
    ); 
```

# mongodb - Mongo Db 数据丢失

> ID：13639076
> 
> 赞同：1
> 
> 时间：2012-11-30T04:36:39.597
> 
> 标签：mongodb

它是开发环境，Ubuntu 12.04。通常我使用以下命令启动我的 mongodb 服务器。

sudo mongod --dbpath /data/db/ --fork --logpath /var/log/mongodb.log --logappend

今天我尝试使用

sudo mongod --fork

接着

sudo mongod --fork --logpath /var/log/mongodb.log --logappend

它没有开始。

然后我给出了完整的命令。仍然没有开始。

我意识到目录 /data/db 丢失了（它一直存在到昨天）。所以我不得不创建它，我所有的数据都丢失了。我团队中的其他开发人员之前也遇到过类似的问题。我不确定为什么会出现问题。这不是启动服务器的正确方法吗？（即使这样数据也不应该丢失）。

如何确保这不会在生产环境上重复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-01T23:23:24.173

你确定是丢了？

我还以为我的丢了，但我开始四处查看，并在您可以找到文件夹的区域找到它：

*   /垃圾桶
*   /启动
*   /ETC
*   /媒体
*   ...

基本上，它似乎存在于“文件系统”所在的位置。

我还看到您正在使用“--fork ...”命令，尽管我不确定它是否会影响它。

如果你在我指定的地方找到它，请告诉我，我们可以从那里拿东西。

# javascript - Jquery 选择在 Backbone 的模板元素中不起作用

> ID：13639077
> 
> 赞同：1
> 
> 时间：2012-11-30T04:36:41.343
> 
> 标签：javascript, jquery, templates, backbone.js

我有一个简单的表单作为模板和一个根据需要更改文本区域的初始化方法。问题是我想定位 textarea 以便在其上使用 Jquery，但 Backbone 不会让我这样做。例如，如果我想`this.$('textarea').css('height', '1em');`改为在控制台中返回以下内容：

```
[prevObject: jQuery.fn.jQuery.init[1], context: <form>, selector: "textarea"]
context: <form>
length: 0
prevObject: jQuery.fn.jQuery.init[1]
selector: "textarea"
__proto__: Object[0] 
```

如果我尝试，我会得到类似的结果`this.$el.find('textarea').css('height', '1em')`。

这是我的代码：

### 模板

```
<script id="reply-form" type="text/template">
      <fieldset>
        <textarea rows="3"></textarea>
        <input type="button" class="cancel btn btn-small" value="Cancel">
        <input type="button" class="send btn btn-success btn-small" value="Send">
      </fieldset>   
</script> 
```

### 视图.js

```
App.Views.Form = Backbone.View.extend({
    tagName: 'form',
    initialize: function() {
        this.startTextarea();
    },

    startTextarea: function(){
        console.log(this.$('textarea').css('height', '1em'));
    },

    template: _.template( $('#reply-form').html() ),

    render: function() {
        this.$el.html( this.template() );
        return this;
} 
```

会发生什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T04:42:22.867

您不能在`initialize`函数中以这种方式真正修改 HTML，因为模板还没有被渲染——它不会找到任何东西。

我认为这样做的方法是将样式的东西放在模板中，或者放在 CSS 文件中——这确实是它所属的地方。但是，如果您需要在加载视图时动态修改模板，则必须在编译模板之前进行。有关示例，请参见[此处。](http://jsfiddle.net/zm8ME/8/)

```
startTextarea: function(){
    // get the template HTML
    var tmpl = $('#reply-form').html();

    // modify the template
    tmpl = $(tmpl).find('textarea').css('height', '1em')[0].outerHTML;

    // compile the template and cache to the view
    this.template = _.template(tmpl);
} 
```

# android - 如何将数据写入 MifareClassic 标签？

> ID：13639079
> 
> 赞同：2
> 
> 时间：2012-11-30T04:36:43.233
> 
> 标签：android, nfc, mifare

我是 NFC Android 的新手。现在我正在做关于 NFC 的项目，它必须用安全数据编写 NFC 标签。所以这里我的应用应该支持所有的论坛标签和 MifareClassic、Mifare Unltralight 标签。我从 tapintonfc blogspot 获得了一个样本，它适用于所有 nfc 论坛标签，但不适用于 MifareClassic。所以我在文档中找到了 MifareClassic Tag 中的写入数据。我了解到 MifareClassic 包含 Sectors，每个 Sector 有 4 个块，其中一个块用于存储 keyA、keyB 以进行身份​​验证。所以我的疑问是我可以将联系人数据和通话/短信数据存储到单个 MifareClassic 标签中吗？如果是，如何？我的第二个疑问是 Card 是否会一次存储一个数据（联系人或电话/短信），那么如果我的联系人数据是 400 字节，那么如何将其存储在扇区中。很明显，我们可以使用每个扇区 48 字节的空间。

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T13:11:06.203

您可以使用 NFC 高级 API 将数据推送到 MifareClassic 标签。

推送数据有两种方式：

*   NDEF 消息（高级方式）：我推荐这种方法来推送联系人 VCARD 或类似的数据。NDEF 消息已被定义为推送这些类型的信息

*   将数据作为 APDU 命令发送，这些命令由 Google 在其 API 中封装，但这种方式需要了解 MifareClassic 内存结构（扇区、块、每个块的身份验证、块的 16 个字节和用于配置访问扇区的第 4 个块）：您必须逐字节管理要存储在 Mifare 中的信息

要推送 NDEF 消息（最简单的方式），我建议您阅读本指南：http: [//developer.android.com/guide/topics/connectivity/nfc/advanced-nfc.html](http://developer.android.com/guide/topics/connectivity/nfc/advanced-nfc.html)

要使用 APDU 命令推送数据，请阅读： [http ://www.nxp.com/documents/data_sheet/MF1S503x.pdf](http://www.nxp.com/documents/data_sheet/MF1S503x.pdf)

理解了那个 PDF 之后，你就会明白如何使用 NFC 低级 API

# actionscript-3 - Flex Datagrid 列对齐数字

> ID：13639081
> 
> 赞同：2
> 
> 时间：2012-11-30T04:36:53.810
> 
> 标签：actionscript-3, apache-flex, datagrid

我有一个数据网格，我想在其中对齐某些列，使文本居中对齐（标题文本和数据）。当数据是数字时，我需要以右对齐的方式对齐，保持总列中心对齐属性。请看图片。

![格式](../Images/070cac7614623ff3e8c4e74df077ca6d.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-13T11:32:42.383

这是一个在不同列中具有不同样式的示例。

```
<s:ArrayList>
    <s:GridColumn id="dgFamilyRegisterLine" width="30"
                  labelFunction="{dgFamily.getRowNumber(dgFamily.dataProvider)}"
                  sortable="false">
                        <s:itemRenderer>
                            <fx:Component>
                                <s:DefaultGridItemRenderer color="0x888888"
                                                           fontStyle="italic"
                                                           textAlign="right"/>
                            </fx:Component>
                        </s:itemRenderer>
                    </s:GridColumn>
    <s:GridColumn dataField="code" headerText="code" minWidth="250"/>
    <s:GridColumn dataField="designation" headerText="designation" minWidth="250"/>                     
    <s:GridColumn dataField="isEnabled" headerText="isEnabled" minWidth="70">
        <s:itemRenderer>
          <fx:Component>    
            <s:GridItemRenderer>
              <s:layout>
                <s:HorizontalLayout horizontalAlign="center" verticalAlign="middle"/>
              </s:layout>
              <s:Image visible="{(data.isEnabled=='1')?true:false}"
                                             source="@Embed(source='assets/images/check.png')"/>    
            </s:GridItemRenderer>
          </fx:Component>
        </s:itemRenderer>
    </s:GridColumn>
 </s:ArrayList> 
```

# android - ViewPager 页面效果

> ID：13639082
> 
> 赞同：1
> 
> 时间：2012-11-30T04:36:56.273
> 
> 标签：android, android-viewpager, transition, albumart

[我需要为具有这种效果](https://lh4.ggpht.com/G5EZwbVVbgpaSRc4XkZ0CX-lk6BkarZ2AqorQkNfL_b7zGl5HC48OjT5ZK-pnCzdjPE)的音乐应用程序制作一个视图寻呼机， 我是 android 开发的新手。我从堆栈中获得了一个[链接，但它并没有完全帮助。](https://stackoverflow.com/questions/12257067/is-this-effect-possible-in-viewpager)

要求：对于音乐应用程序，我需要在视图寻呼机中显示专辑封面。中间当前歌曲的专辑封面以及左侧/右侧分别部分可见的上一首和下一首歌曲的专辑封面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:01:47.230

您可以设置负页边距以使侧页可见。其余所有属性都是 ViewPager 中固有的。只需看一下实现。[上一页和下一页可见的Android ViewPager？](https://stackoverflow.com/questions/7725045/android-viewpager-with-previous-and-next-pages-visible)

**编辑：**有了这个，你可以实现你提到的。我不知道是什么问题？默认 ViewPager 有一系列页面，通过上面提到的链接，您也可以看到其他页面。不要对链接顶部的图片感到困惑，但结果看起来更像您的链接。

# android - Android：getApplicationcontext.bindService() 不适用于 Tabhost 的第二个子活动

> ID：13639087
> 
> 赞同：1
> 
> 时间：2012-11-30T04:37:33.797
> 
> 标签：android, user-interface, service, android-tabhost, childactivity

我有一个名为 RemoteServiceConnection() 的依赖项目，通过使用 AIDL，我可以访问 Tabhost 子活动中的方法。

我有一个包含 3 个子活动的 Tabhost

因此，对于 tabhost 的第一个子活动， getApplicationContext.bindService() 工作正常。

实际情况是我正在访问从远程服务连接到第一个子活动的值（比如速度、温度）并在 UI 上显示

对于 tabhost 的第二个子活动，我是否需要重复我在第一个子活动中的相同代码。

我不想为 tabhost 的第二个和第三个子活动重复相同的代码。

我浏览了这些链接，但没有得到任何正确的想法

[使用基类活动将多个活动（选项卡）绑定到服务](https://stackoverflow.com/questions/8687305/binding-multiple-activitiestabs-to-a-service-using-a-base-class-activity)

[http://code.google.com/p/android/issues/detail?id=2483](http://code.google.com/p/android/issues/detail?id=2483)

对于第二个子活动（SecondTab.java），我按照上面的链接做了一些更改，但 UI 没有获取数据。

任何帮助总是受到赞赏。谢谢

FirstTab.java（对我来说工作正常）

```
 public class FirstTab extends Activity {
    @Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
            WindowManager.LayoutParams.FLAG_FULLSCREEN);
    setContentView(R.layout.hvac);

    startService();
    bindService();
    System.gc();

    serviceHandler = new Handler();
    serviceHandler.postDelayed(myTask, 1000L);

}

@Override
public Context getApplicationContext() {
    // TODO Auto-generated method stub
    return super.getApplicationContext();
    // getApplicationContext().bindService(i, conn, flags)
}

class RemoteServiceConnection implements ServiceConnection {

    public void onServiceConnected(ComponentName className,
            IBinder boundService) {
        remoteService = IMyRemoteService.Stub
                .asInterface((IBinder) boundService);
        invokeService();
        Log.d(getClass().getSimpleName(), "onServiceConnected()");
    }

    public void onServiceDisconnected(ComponentName className) {
        remoteService = null;
        // updateServiceStatus();
        // getApplicationContext().unbindService(conn);
        Log.d(getClass().getSimpleName(), "onServiceDisconnected");
    }
};

private void startService() {
    if (started) {
        // Toast.makeText(CarHome.this, "Service already started",
        // Toast.LENGTH_SHORT).show();
    } else {
        Intent i = new Intent();
        i.setClassName("com.msat.home.clusterservices",
                "com.msat.home.clusterservices.RemoteService");
        getApplicationContext().startService(i);
        started = true;
        updateServiceStatus();
        Log.d(getClass().getSimpleName(), "startService()");
    }

}

private void stopService() {
    if (!started) {
        // drivertmpcount.setText(Integer.toString(hvactemp)); //
        // Toast.makeText(CarHome.this, "Service not yet started",
        // Toast.LENGTH_SHORT).show();
    } else {
        Intent i = new Intent();
        i.setClassName("com.msat.home.clusterservices",
                "com.msat.home.clusterservices.RemoteService");
        getApplicationContext().stopService(i);
        started = false;
        updateServiceStatus();
        Log.d(getClass().getSimpleName(), "stopService()");
    }
}

private void bindService() {
    if (conn == null) {
        conn = new RemoteServiceConnection();
        Intent i = new Intent();
        i.setClassName("com.msat.home.clusterservices",
                "com.msat.home.clusterservices.RemoteService");
        getApplicationContext().bindService(i, conn,
                Context.BIND_AUTO_CREATE);
        updateServiceStatus();
        Log.d(getClass().getSimpleName(), "bindService()");
    } else {
        // Toast.makeText(CarHome.this,
        // "Cannot bind - service already bound",
        // Toast.LENGTH_SHORT).show();
    }
}

private void releaseService() {
    if (conn != null) {
        getApplicationContext().unbindService(conn);
        conn = null;
        updateServiceStatus();
        Log.d(getClass().getSimpleName(), "releaseService()");
    } else {
        // Toast.makeText(CarHome.this, "Cannot unbind - service not bound",
        // Toast.LENGTH_SHORT).show();
    }
}

private void invokeService() {

    if (conn == null) {
        // Toast.makeText(CarHome.this, "Cannot invoke - service not bound",
        // Toast.LENGTH_SHORT).show();
    } else {
        try {
            System.out.println(remoteService);

            final TextView drivertmpcount = (TextView) findViewById(R.id.curtempcount);
            final TextView destmpcount = (TextView) findViewById(R.id.destempcount);
            // final TextView tempcountpass = (TextView)
            // findViewById(R.id.tempcountpass);

            hvactemp = remoteService.getHvacTemp();
            hvacTemppass = remoteService.getHvacTemppass();
            System.out.println("Raghav hvac" + hvactemp);

            System.out.println("jaydeep speed" + speed);
            // rpm_text.setText(rpm);
            destmpcount.setText(Integer.toString(hvactemp));
            drivertmpcount.setText(Integer.toString(hvactemp));
            // tempcountpass.setText(Integer.toString(hvacTemppass));

            Log.d(getClass().getSimpleName(), "invokeService()");
        } catch (RemoteException re) {
            Log.e(getClass().getSimpleName(), "RemoteException");
        }
    }
}

private void updateServiceStatus() {
    String bindStatus = conn == null ? "unbound" : "bound";
    String startStatus = started ? "started" : "not started";
    String statusText = "Service status: " + bindStatus + "," + startStatus;
    // TextView t = (TextView)findViewById( R.id.serviceStatus);
    // t.setText( statusText );
    System.out.println("Jaydeep : " + statusText);
}

protected void onDestroy() {
    super.onDestroy();
    // getApplicationContext().unbindService(conn);
    releaseService();
    Log.d(getClass().getSimpleName(), "onDestroy()");
}

class Task implements Runnable {
    public void run() {
        // invokeService();
        if (remoteService != null) {
            invokeService(); // getting ERROR here
        } else {
            serviceHandler.postDelayed(this, 1000L);
        }
        // serviceHandler.postDelayed(this, 1000L);
        Log.i(getClass().getSimpleName(),
                "Incrementing engineRPM in the run method");
    }
}
  } 
```

SecondTab.java

```
 public class SecondTab extends Activity implements ServiceConnection {

         @Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.hvacpass);

}

public void onServiceConnected(ComponentName className, IBinder boundService) {
    // TODO Auto-generated method stub
    remoteService = IMyRemoteService.Stub
            .asInterface((IBinder) boundService);
    Log.d(getClass().getSimpleName(), "onServiceConnected()");

    Intent i = new Intent();
    i.setClassName("com.msat.home.clusterservices",
            "com.msat.home.clusterservices.RemoteService");
    getApplicationContext().startService(i);
    getApplicationContext().bindService(i, this, Context.BIND_AUTO_CREATE);

    try {
        passcurtempcount = (TextView) findViewById(R.id.passcurtempcount);

        hvactemppass = remoteService.getHvacTemppass();
        passcurtempcount.setText(Integer.toString(hvactemppass));
    } catch (RemoteException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    }

public void onServiceDisconnected(ComponentName className) {
    // TODO Auto-generated method stub
    remoteService = null;

        }
            } 
```

# android - Android/PhoneGap 中的 overflow-y 会产生奇怪的行为

> ID：13639091
> 
> 赞同：0
> 
> 时间：2012-11-30T04:37:59.050
> 
> 标签：android, css, cordova, android-4.0-ice-cream-sandwich

我有一个使用 PhoneGap 开发的 HTML5/jQuery Mobile 应用程序。我已成功将此应用程序部署到 iOS，现在正在将其移植到 Android。

在我的 Android 设备上测试这个应用程序时，我遇到了一些奇怪的行为，这是一个运行冰淇淋三明治的三星 Galaxy S2。

我有一个包含在 div 中的元素列表，并且该 div 具有固定的高度。它还使用 CSS 属性 overflow-y: scroll 来允许移动用户滚动列表。该列表包含锚链接。像这样：

```
<div style="display: block; width: 320px; height: 250px; overflow-y: scroll;">
    <a href="index1.html">Link 1</a>
    <a href="index2.html">Link 2</a>
    <a href="index3.html">Link 3</a>
    <a href="index4.html">Link 4</a>
</div> 
```

当锚链接列表*仍在框的标准高度内时*（即如果列表只有几个元素），它可以正常工作。您可以点击链接，它们会按预期运行。但是，当链接列表*超出框的高度*并且溢出-y滚动生效时，我无法再点击链接。滚动效果很好，但我无法点击滚动 div 中的任何元素！

奇怪的是，我无法对任何链接做的其他事情是使用浏览器的文本选择功能选择它们。当滚动链接太少时有可能，但当滚动处于活动状态时则不可能。

我曾假设带有 ICS 的 Galaxy S2 足够新，可以正确支持溢出滚动，但也许我错了。关于如何让它发挥作用的任何想法？我似乎在网上找不到任何关于冰淇淋三明治中的错误或对溢出-y 的支持的具体内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T04:14:29.143

您可以直接将点击事件处理程序附加到这些链接吗？使用 jQuery Mobile 链接并不像看起来那么简单。

自从您开始使用 iOS 以来，是否还有任何特定于 iOS 的 CSS？为了在 iOS 上获得良好的滚动效果，有时您必须添加 3d 变换来触发硬件加速，但这会对 android 产生一些有趣的副作用。

另一件可能值得尝试的事情是设置`overflow`而不是`overflow-y`- 它不应该有所不同，但有时会有所不同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-10T11:10:12.280

我知道这是一个老问题，但我认为该解决方案可能会有所帮助，因为它仍然在当前版本的 phonegap/cordova 中发生：

要解决此问题，您必须向固定元素添加一个转换属性，在您的情况下是主 div：

```
div {
  -webkit-transform: translate3d(0,0,0);
  transform: translate3d(0, 0, 0);
} 
```

学分[在这里](https://stackoverflow.com/a/20433029/2026167)

# download - wget 找不到网站

> ID：13639095
> 
> 赞同：0
> 
> 时间：2012-11-30T04:38:24.543
> 
> 标签：download, wget

我运行此命令从以下网站下载，并添加了`-p`和`-k`选项（有关它们的描述，请参见[此处](http://www.gnu.org/software/wget/manual/wget.html#Recursive-Retrieval-Options)。）

```
wget -pk http://www.tomshardware.com/ 
```

它返回的是

```
...
--2012-11-29 23:32:42--  http://www.tomshardware.com/%3C%25=%20content[i].buildUserPic%20%25%3E
Reusing existing connection to www.tomshardware.com:80.
HTTP request sent, awaiting response... 404 Not Found
2012-11-29 23:32:43 ERROR 404: Not Found. 
```

并且退出状态为8，表示执行不成功。为什么不成功？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:25:13.207

添加到 Jason Sperske 的回答中：既然您告诉 wget 使用 下载页面资源，它就会被页面使用的元素`-p`弄糊涂。`<script type="text/html">`一些 JavaScript 模板引擎使用这种类型的脚本标记。内容不是有效的 HTML（因为它需要首先由模板引擎解析），但 wget 正在尝试解析它并遵循它所看到的 URL。

该链接`http://www.tomshardware.com/%3C%25=%20content[i].buildUserPic%20%25%3E`是 wget 尝试从以下位置访问 URL 的结果：

```
<img class="buildUserPic" src="http://www.tomshardware.com/&lt;%=&#32 content[i].buildUserPic&#32;%&gt;" /> 
```

因此，wget*能够*找到该网站，但它解析的内容基本上是一个任意字符串，而网站上的脚本无法读取该字符串并替换为正确的值以使其成为有效的 HTML。

编辑：看起来模板本身存在转义错误（它在该特定行上有 <%= 而不是 <%=），但其他行很好，我认为解释是相同的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T04:42:05.827

您正在获取其中的默认文档（index.html 或其等效文件，具体取决于 Web 服务器）以及所有引用的资产（“A”元素、“IMG”和“SCRIPT”元素的 src 属性以及“LINK”元素）文档。其中一个引用已损坏（哎呀），因此出现 404。在这种情况下，它看起来像一些 JavaScript，在浏览器中会很好，但对于 wget（它没有 JavaScript 引擎），它被解释为 URL它指向一个不存在的引用。

# android - 我想将数据从 eclips 保存到 sql server 有什么解决方案吗？

> ID：13639107
> 
> 赞同：-1
> 
> 时间：2012-11-30T04:39:22.480
> 
> 标签：android, asp.net, web-services

我想将数据从 eclips 保存到 sql server 有什么解决方案吗？是否有可能使用 web 服务或 json.. 我已经创建了一个 asp.net 网站并为方法创建了 web 服务......并通过 json 将数据导入到 eclips 中......那么现在如何从 elips 中导入数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T04:45:20.223

**我使用belove代码从android中的asp.net SOAP webservice获取数据试试这个**

```
 public static String SOAP_NAMESPACE = "http://myweb.com/";
public static String SOAP_METHOD_GetQuestionAnswer = "GetQuestionAnswer";

// GetQuestionAnswer Method
public static String GetQuestionAnswer(String GameIDValue, String QuestionIDValue) {
    String responce = null; 

    SoapObject request = new SoapObject(SOAP_NAMESPACE, SOAP_METHOD_GetQuestionAnswer);

    PropertyInfo GameID = new PropertyInfo();
    PropertyInfo QuestionID = new PropertyInfo();

    GameID.setName("gameid");
    GameID.setValue(GameIDValue);

    QuestionID.setName("queid");
    QuestionID.setValue(QuestionIDValue);

    request.addProperty(GameID);
    request.addProperty(QuestionID);

    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
    envelope.dotNet = true;
    envelope.setOutputSoapObject(request);
    HttpTransportSE aht = new HttpTransportSE(SOAP_URL);
    try {
        aht.call(SOAP_ACTION_GetQuestionAnswer, envelope);
        SoapPrimitive LoginResult;
        LoginResult = (SoapPrimitive)envelope.getResponse();
        System.out.println("=================GetQuestion Results: "+LoginResult);
        System.out.println(LoginResult.toString());
        responce = LoginResult.toString();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (XmlPullParserException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    return responce;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:05:51.503

在 android 中，您可以创建一个`JSON object`并`POST`输入到`asp web service`您的`remote sql database`.

```
JSONObject obj = new JSONObject();
obj.put("val1",val1);
obj.put("val2",val2);
obj.put("val3",val3); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T06:08:02.893

@shivanipatel

**首先从服务器端你想拥有或创建任何网络服务来接收你来自android的请求并响应那个请求..** ///

**之后你想使用**
USE NameValuePair 来发布数据。

```
List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>;
nameValuePairs.add(new BasicNameValuePair("name", Name));
nameValuePairs.add(new BasicNameValuePair("number", Number));

httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

HttpResponse response = httpclient.execute(httppost); 
```

它会帮助你，亲爱的

——贾廷·帕特尔

# windows - Bluegiga 蓝牙 LED USB 加密狗固件更新工具无法正常工作

> ID：13639108
> 
> 赞同：5
> 
> 时间：2012-11-30T04:39:42.877
> 
> 标签：windows, bluetooth, usb, libusb, firmware

因此，我一步一步地按照 BlueGiga 的 BGDemo 应用说明进行操作，但在使用 dfutool.exe 更新我的 USB 加密狗固件时遇到了问题。我采取的步骤如下：

1.  打开 BLEGUI 并连接到我的 USB 加密狗。
2.  按 DFU 以在 DFU 模式下重新启动 USB 设备。
3.  Windows 说找不到驱动程序，所以我将驱动程序安装程序指向 windrv 文件夹并成功安装。
4.  在设备管理器的 libusb 设备选项卡下，设备以 DFU 模式显示。
5.  如果我查看属性并查看加密狗的硬件 ID，它会显示 VID:2458 和 PID:FFFE（这正是文档所说的）
6.  我转到命令提示符并运行命令“....\bin\dfutool.exe 2458:FFFE out.hex”，这正是他们所说的

但是命令提示符给了我一个错误“device:2458:fffe not found”，这真的让我大吃一惊，因为它在设备管理器中显示为具有完全相同硬件 ID 的 libusb 设备。有谁知道我可能做错了什么？

# php - 如何检查是否以编程方式请求页面？

> ID：13639109
> 
> 赞同：1
> 
> 时间：2012-11-30T04:39:42.787
> 
> 标签：php, html, request, server-side

我的网站页面根据以下规则显示不同的内容：

如果给定的 cookie 不存在，那么

```
-if referrer is internal then  
--show page 1  
--else  
--show page 2  
else  
-show page 1 
```

问题是，服务器本身偶尔会访问该特定页面（将 php 与 PDF API 结合使用）。具体来说，请求该 URL 的代码如下所示（并且必须如下所示）：

```
$pdf = $client->convertURI('URL HERE') 
```

当它访问页面时，总是显示第 2 页，因为引荐来源网址不存在，cookie 也不存在。

但是，我需要第 1 页始终显示...当通过服务器请求该特定 URL 时，是否有标志或方法始终显示第 1 页？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T04:51:33.807

如果我理解您，您只是想在您正在测试的某些条件下强制用户访问页面（第 1 页）。如果这是正确的，那么这就足够了：

```
/** 
   access logic left to your discretion

***/

if ($access != 'granted') 
{
   header('Location: http://www.example.com/page1');
   exit(); // for clarity
}

/******* logic continued for "page 2" or whatever *****/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:08:43.397

我最终找到了一个解决方案，部分原因是“ChronoFish”的评论“你能颠倒你的逻辑吗”......虽然不是直接的。

我想出的解决方案非常简单，我很生气我以前没有想到它。

好吧，网站是这样工作的：

用户访问 URL 1 - 在 URL 1 上，如果用户没有给定的 cookie 并且他们的引荐来源网址不是内部的或为空的，则显示 URL 2。如果到达 URL 1 的用户有给定的 cookie 存在或其引荐来源网址是内部，它们显示为 URL 1。这都是我原来的问题。

我遇到的问题是，PDF API 也请求 URL 1，而像这样的服务器端调用没有 cookie 或引荐来源...所以 PDF API 将来自 URL 2 的内容返回给它，而不是来自 URL 的内容1 这是需要的。

PDF API 的调用方式是这样使用的：

```
$pdf = $client->convertURI('URL 1 HERE') 
```

好吧，我所做的只是在 URL 中添加一个变量，所以这里的 URL 1 所在的 URL 现在是这样的：

```
http://somesite.com/URL-1/?server=yes 
```

然后，在 URL 1 上，我添加了一点额外的逻辑：

```
$server = $_GET["server"];
if ($server == 'yes')
then show URL 1 
```

然后我的原始代码的其余部分包含在一个附加的 else 语句中。

# rest - 完全 RESTful（包括 HATEOAS）客户端能否在客户端状态下存储服务器提供的 URI？

> ID：13639110
> 
> 赞同：4
> 
> 时间：2012-11-30T04:39:46.470
> 
> 标签：rest, hateoas

（注意：我假设一个 REST 服务使用 URI 来识别资源，我知道这并不是 REST 的严格限制）

根据我对 HATEOAS 的理解，客户端不应该对服务提供的 URI 结构进行任何假设，除了初始入口点（而应该只使用服务器以结构化方式提供给它的 URI）。这是否意味着客户端只能使用最新请求提供给它的 URI，或者客户端可以跟踪从同一会话的早期请求中收到的 URI？如果是前者，后者会违反哪个 REST 约束？

跟踪 URI 的两个示例：

1.  在照片查看应用程序中，我遍历照片列表，将一些照片的 URI 保存到列表中。然后，我导航到“马赛克”功能并将所有照片从保存的 URI 加载到马赛克中。
2.  我浏览产品列表并将一些产品添加到我的客户端购物车中。完成后，我在 Orders 资源中创建一个新元素，其中产品按其 URI 指定的顺序排列。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T16:31:00.420

我不确定你的开场白是什么意思：

> 注意：我假设一个 REST 服务使用 URI 来识别资源，我知道这并不是 REST 的严格限制

你的意思是超链接不必是URI？或者超链接不必指向资源？前者在技术上是正确的，但在 Internet 上，URI 是超链接的唯一形式，因此除非您正在考虑完全不同的东西，否则它们就是 URI。如果您说 REST 不需要 URI 标识资源，那么这是错误的。这正是他们在 RESTful API 中所识别的。总是。

无论如何，继续你的问题：

> 这是否意味着客户端只能使用最新请求提供给它的 URI，或者客户端可以跟踪从同一会话的早期请求中收到的 URI？

**是的，客户端可以缓存以前的响应。**如果它们是“新鲜的”（根据 Expires 或 max-age 标头），则客户端可以立即使用它们。如果它们是“陈旧的”（超过最大年龄/到期时间），则客户端可以使用条件请求（例如 If-Modified-Since）重新请求资源，但它不是必须的。

您的两个示例均不构成 REST 违规。相反，它们都是系统简单性的绝佳例子！

# db2 - 关于 db2 优化器的说明 - Runstas

> ID：13639113
> 
> 赞同：1
> 
> 时间：2012-11-30T04:40:02.297
> 
> 标签：db2, query-optimization

我有一个只有 7 列的复杂表，但在生产中它会有很多行，比如超过 100,000 行。

所以为此我为两列执行RUNSTATS，一列是PK，另一列是FK..

```
RUNSTATS ON TABLE WEBSS.P0029_LOCATION  WITH DISTRIBUTION ON COLUMNS (LOC_ID, OUTLET_ID); 
```

在此之后，当我跑步时

```
SELECT * FROM SYSCAT.COLDIST WHERE TABSCHEMA = 'WEBSS' AND TABNAME = 'P0029_LOCATION' 
```

结果我有60行..两列各30行..我的类型是Q和F..分位数和频率..

但是我需要更多的输入。他们（Q和F）是在什么基础上定义的。我们需要在什么基础上进行优化。

请倾诉你的建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-01T15:47:50.153

There are two type of column statistics on DB2, simple ones where you just get the column cardinality and the number of nulls, and distribution stats as you have collected above.

I found simple statistics are better for most applications unless you do literal searches on highly skewed data.

If you have indexes defined on you PKs and FKs you get simple stats with

```
RUNSTATS ON MYTABLE ON KEY COLUMNS 
```

or

```
RUNSTATS ON MYTABLE ON ALL COLUMNS 
```

The quantiles are histogram data, and you get by default I think 20 histogram values for each, and the F are the most popular values in your column, and I then you get 10 by default. You don't need distributions on a PK, as it's unique, and it's unlikely you need them on an FK as well. Stick to the simple ones first.

# spring-mvc - 如何在云上部署 Web 应用程序（Spring MVC、JPA、Oracle）？

> ID：13639114
> 
> 赞同：1
> 
> 时间：2012-11-30T04:40:22.020
> 
> 标签：spring-mvc, oracle11g, cloud

我想在云上部署 Web 应用程序（基于 Spring MVC Farmework、JPA 和 Oracle 构建）。有人能建议我在云上部署它的最佳方式吗？

维杰

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:16:20.810

鉴于您很高兴迁移到 MySQL 数据库的评论，那么我建议[Jelastic](http://jelastic.com/)，它对您的堆栈具有最简单的部署。它还提供免费试用。

或者，[AppFog](http://appfog.com)也很棒，最多可免费获得 2GB 的 RAM。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T04:46:24.460

您必须首先选择您的云提供商。

鉴于技术堆栈，您可能能够部署到 Oracle 公共 Java 云，或者您也可以配置机器映像以部署在 Amazon EC2 上。限制因素将是技术（和许可）限制。例如，如果您决定使用 MySQL 作为数据库（或任何其他数据存储），您将有更多选择。

# python - 使用 Python 在后台读取磁性滑动

> ID：13639125
> 
> 赞同：2
> 
> 时间：2012-11-30T04:41:25.203
> 
> 标签：python, cardreader, magnetic-cards

我有一个 USB 磁卡读卡器。刷卡时，它将在光标闪烁的地方将卡片的值作为字符串转储。我希望能够轮询和捕获滑动，而不必将光标指向文本输入。

我可以在终端中捕获价值，但我希望抑制终端并在卡通过时简单地捕获刷卡。任何关于如何进行的想法将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:40:22.160

您的设备很可能作为 USB 键盘接口。这就是为什么文本在光标所在的地方被转储的原因。该解决方案可能是特定于操作系统的。您需要在窗口管理器中禁用读卡器作为输入设备，然后使用 Python 专门询问它。

假设这是带有 X 的 Linux，您可以使用“xinput”来完成第一部分。使用以下命令查找设备：

```
xinput list 
```

并通过以下方式禁用它：

```
xinput set-prop "Device_Description_or_ID" "Device Enabled" 0 
```

# regex - oracle中包含数字和句点的正则表达式

> ID：13639126
> 
> 赞同：3
> 
> 时间：2012-11-30T04:41:33.823
> 
> 标签：regex, oracle

我需要正则表达式，它将删除所有非数字字符，不包括在内。表示它只包括数字 perid (.)

有谁能够帮助我。

谢谢你。维杰·纳拉瓦德

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T04:47:30.677

试试下面的方法：

```
 REGEXP_REPLACE('your text 12.133', '[^0-9\.]','') 
```

这将删除所有非数字和非点字符。

**请注意：** `\`前面需要`.`作为`.`匹配任何字符。详细信息：[Oracle 正则表达式](http://docs.oracle.com/cd/B12037_01/appdev.101/b10795/adfns_re.htm)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T04:45:53.437

正则表达式`[0-9.]`仅匹配数字和`.`. 或者，您可以使用此正则表达式将其他字符替换为空字符串：`[^0-9.]`

# ruby-on-rails - TypeError（无法将 Array 转换为 String）：

> ID：13639128
> 
> 赞同：1
> 
> 时间：2012-11-30T04:41:51.257
> 
> 标签：ruby-on-rails, xml, ruby-on-rails-3, json

在我的控制器中，我在第 20 行有以下内容：

```
 data = JSON.parse(params[:error]) 
```

我正在尝试发布帖子并将结果格式化为 JSON，以便我可以执行以下操作：

```
 title = data['title'] 
```

但是这个 500s 有以下内容

```
Started POST "/api/services/"
Processing by Api::ServicesController#create as XML

Parameters: {"{\"error\":{\"id\":313131313,\"title\":\"# (Test-20) \\\"Test message-20\\\"\",\"sub_title\":null,\"app\":{\"id\":313131,\"name\":\"site.com\"},\"last_occurrence\":{\"id\":3131313133,\"request_method\":null,\"url\":null,\"occurred_at\":\"2012-11-30T04:27:01 00:00\",\"backtrace\":null},\"environment\":null,\"first_occurred_at\":\"2012-11-30T04:27:01 00:00\",\"last_occurred_at\":\"2012-11-30T04:27:01 00:00\",\"url\":\"http://getexl.com/123\"}}"=>nil, "token"=>"xxxxxx"}

Completed 500 Internal Server Error in 12ms

TypeError (can't convert Array into String):
  app/controllers/api/services_controller.rb:20:in `create'
  lib/rack/ie_redirect.rb:19:in `call' 
```

关于如何将这篇文章正确格式化为 JSON 的任何想法？谢谢

# sql - 在 VBA 中执行 SQL 查询时出错

> ID：13639129
> 
> 赞同：1
> 
> 时间：2012-11-30T04:41:56.003
> 
> 标签：sql, xml, vba

在 VB 中执行以下查询时出现错误（我正在使用宏来运行此查询）。但在 ORACLE 中，相同的查询运行文件并给我预期的结果。请注意，“XML_FIELD”是一个包含 XML 数据的 CLOB。我正在尝试使用 VB 宏从“XML_FIELD”中提取数据。

**SQL 中的查询：执行良好：
---> select xmltype(XML_FIELD).extract('//XML_TAGNAME/text()').getStringVal() as NEW_COL from TAB_1 where TEST_ID = 123**

## ***VB 中的错误：SQL 执行错误 ora-00936 缺少表达式***

**VBA 中的查询：**
Sub Extract_CLOB()
Dim SQL As String
Dim OraDynaSet As Object
' 注释：我使用两个单引号 (' ' ) 转义另一个单引号
**SQL = "select xmltype(XML_FIELD).extract(''// XML_TAGNAME/text()'').getStringVal() as NEW_COL from TAB_1 where TEST_ID = 123"**
Set OraDynaSet = objDataBase.DBCreateDynaset(SQL, 0&)
End Sub

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:05:20.447

我试过这段代码，效果很好。我在 emp 表中添加了一个 clob 字段。

```
Public objSession As Object
Public objDataBase As Object

Sub ConnectToOracle()
    'Create a reference to the OO4O dll
    Set objSession = CreateObject("OracleInProcServer.XOraSession")
    'Create a reference to my database
    Set objDataBase = objSession.OpenDatabase("mydb", "scott/tiger", 0&)
    Dim strSQL As String
Dim strTxt As String
Dim OraDynaSet As Object

strSQL = "select xmltype(MyXMLField).extract('//ROWSET//ROW//JOB/text()').getStringVal() as NEW_COL from emp where empno = 2"

'Retrieve the results from Oracle
Set OraDynaSet = objDataBase.DBCreateDynaset(strSQL, 0&)

strTxt = CStr(OraDynaSet.Fields(0).Value)

MsgBox strTxt
End Sub 
```

我的xml是：

```
<?xml version="1.0"?>
      <ROWSET>
         <ROW num="1">
            <EMPNO>7</EMPNO>
            <ENAME>S</ENAME>
            <JOB>CLERK</JOB>
            <MGR>7</MGR>
            <HIREDATE>12/17/2008 0:0:0</HIREDATE>
           <SAL>999</SAL>
           <DEPTNO>20</DEPTNO>
        </ROW>
     </ROWSET> 
```

# html - 为什么此页面上的 margin-top 会下推更多，而不仅仅是它所在的 div？

> ID：13639133
> 
> 赞同：1
> 
> 时间：2012-11-30T04:42:15.227
> 
> 标签：html, css, wordpress

[http://christianselig.com/wp](http://christianselig.com/wp)

我有一`margin-top: 50px`组 .greeting 类 div，它基本上是大问候图像。但无论出于何种原因，它会出于某种原因拖下前一个导航元素，即使它们没有附加。

在我的主站点[http://christianselig.com](http://christianselig.com)上，我有它（没有 Wordpress 实现），所以我很困惑这里有什么不同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T04:46:25.917

# [保证金折叠](http://www.w3.org/TR/CSS2/box.html#collapsing-margins)

> 如果元素没有上边框、没有上边距且子元素没有间隙，则流入块元素的上边距与其第一个流入块级子元素的上边距一起折叠。

作为一个严重的过度简化：

*   兄弟元素（顶部和底部）之间的边距将折叠到较大边距的大小。
*   如果没有填充或边框，祖先/后代元素之间相同方向（顶部和底部）的边距将折叠到较大边距的大小

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T04:48:03.903

**习惯了这个 css** **清除**你的标题`id`

```
#masthead.site-header:after {
    clear: both;
    content: "";
    display: block;
    overflow: hidden;
} 
```

结果是

![在此处输入图像描述](../Images/cc0292e8f5111c6254adfd4ef40c17d0.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T04:48:02.797

正在崩溃，因为它的`#masthead`所有孩子（在这种情况下只有一个）都是浮动的，因此失去了它的*布局*属性。

添加这个：

```
#masthead {
    overflow: hidden;
} 
```

* * *

或者，删除规则中的`float`属性并将其替换为。我不明白为什么这应该是浮动的。`.main-navigation``overflow: hidden;`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T04:51:43.773

这是由折叠边距引起的，但这有点不直观，因为您的主要内容的边距正在与其`<header>`上方的元素折叠。发生这种情况是因为您的标题 ( `#masthead`) 以零高度结束。要更正此问题，只需添加`overflow:hidden`到`#masthead`header 元素。

```
#masthead { overflow:hidden; } 
```

这将导致#masthead 扩展以包含`nav`它所包含的浮动元素，从而防止页边距折叠到#masthead 标题上。

# c - 有符号和无符号int的整数转换等级

> ID：13639136
> 
> 赞同：6
> 
> 时间：2012-11-30T04:42:32.770
> 
> 标签：c, c99

例如，如果我有，

```
 int a = 42;
 unsigned b = 10;
 int c = a + b; 
```

对于此语句，将首先转换为 a还是将其转换为 a `int c = a + b;`？两者都具有相同的转换等级，那么我们如何知道哪一个会被转换？有标准规则吗？`a``unsigned int``b``signed int``unsigned int``signed`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-30T04:54:58.610

简短回答：根据 C99 6.3.1.8-p1，`a`s 值将被转换为无符号整数，根据 C99 6.3.1.3-p2，将 UINT_MAX+1 添加到它，直到它落在允许的范围内`unsigned int`。由于它已经在该范围内，因此不会执行添加。`int c`在 C99 6.3.1.3-p3 中，如果 (p1) 和 (p2) 不适用，则分配回的结果将是实现定义的。但在这种情况下，请注意 6.3.1.3-p1 的“值”子句。在这种情况下，值 (52)*可以*用 表示`int`，因此它没有改变，*而是被*定义了。

> **C99 6.3.1.3 有符号和无符号整数**
> 
> 1.  当整数类型的值转换为_Bool以外的其他整数类型时，如果该值可以用新类型表示，则保持不变。
>     
>     
> 2.  否则，如果新类型是无符号的，则在新类型中可以表示的最大值的基础上重复加减一，直到该值在新类型的范围内。60）
>     
>     
> 3.  否则，新类型是有符号的，值不能在其中表示；结果是实现定义的，或者引发了实现定义的信号。
>     
>     
> 
> **C99 6.3.1.8 常用算术转换**
> 
> 许多期望算术类型的操作数的运算符会以类似的方式导致转换和产生结果类型。目的是确定操作数和结果的通用实数类型。对于指定的操作数，每个操作数都在不改变类型域的情况下转换为对应的实数类型是公共实数类型的类型。除非另有明确说明，否则公共实数类型也是结果的对应实数类型，如果它们相同，则其类型域是操作数的类型域，否则为复数。这种模式称为*通常的算术转换*：
> 
> 首先，如果任一操作数的对应实数类型为 long double，则将另一个操作数转换为对应实数类型为 long double 的类型，而不改变类型域。
> 
> 否则，如果任一操作数的对应实数类型为双精度，则将另一个操作数转换为对应实数类型为双精度的类型，而不改变类型域。
> 
> 否则，如果任一操作数的对应实数类型为浮点数，则将另一个操作数转换为对应实数类型为浮点数的类型，而不改变类型域。62)
> 
> 否则，对两个操作数都执行整数提升。然后将以下规则应用于提升的操作数：
> 
> *   如果两个操作数具有相同的类型，则不需要进一步转换。
>     
>     
> *   否则，如果两个操作数都具有有符号整数类型或都具有无符号整数类型，则具有较小整数转换等级的类型的操作数将转换为具有较高等级的操作数的类型。
>     
>     
> *   否则，如果无符号整数类型的操作数的等级大于或等于另一个操作数类型的等级，则将有符号整数类型的操作数转换为无符号整数类型的操作数的类型。
>     
>     
> *   否则，如果有符号整数类型的操作数的类型可以表示无符号整数类型的操作数类型的所有值，则将无符号整数类型的操作数转换为有符号整数类型的操作数的类型。
>     
>     
> *   否则，两个操作数都转换为与带符号整数类型的操作数类型对应的无符号整数类型。

# c# - EntityFramework DatabaseGenerated.Identity 和 AutoMapper == null ID 键

> ID：13639138
> 
> 赞同：2
> 
> 时间：2012-11-30T04:42:58.457
> 
> 标签：c#, entity-framework, azure, automapper

我将 EF 和 AutoMapper 与 Azure 表存储仿真一起使用。

我有两种类型，Fragment（可序列化 DTO）和 FragmentEntity（EF 持久化 DO）。我使用 AutoMapper 从 DTO 映射到 DO，以便在 PUT 调用上保持持久性，在 GET 调用上反之亦然。

问题是我对 EF 和 AutoMapper 都缺乏经验。我已将 FragmentEntity 类（根据我能找到的文档）配置为在数据库中为 Fragment 生成 Id（见下文）。

实体 ID 定义：

```
 [Key]
 [DatabaseGenerated(DatabaseGeneratedOption.Identity)]
 public int? Id { get; set; } 
```

在运行时，http 客户端使用新内容（片段）进行 REST PUT 调用。这通过 WCF 接收并序列化为 Fragment，如下所示。

```
 [OperationContract]
 [WebInvoke(UriTemplate = "/Fragments", Method = "PUT")]
 void PutFagment(Fragment fragment); 
```

在调试期间，如果我跳过代码，接收到的 ID 值为 null（因为我已将 ID 属性定义为可选）。

```
 public void PutFagment(Fragment fragment)
 {
      var fragmentEntity = Mapper.Map<Fragment, FragmentEntity>(fragment);
      _fragmentContext.Add(fragmentEntity);
 }

 [DataMember]
 public virtual int? Id { get; set; } 
```

我不确定将其定义为可选是否是明智之举；我这样做是因为如果它不是可选的，则该值默认为零，然后自动映射器映射到目标 FragmentEntity，随后数据库中的所有键最终都为零（显然是错误的）。

正如您可能期望的那样，我还使 FragmentEntity Id 成为可选以避免在应用程序代码中设置值，我希望如果它为空，则可能会发生数据库生成，但这似乎没有发生。

```
<Fragment><Id i:nil="true"/><Name>Drei</Name><Type>3</Type></Fragment> 
```

我的问题：

1.  我认为在两个类中使 Id 可选的决定是不正确的，我假设有一些 AutoMapper 配置可以适当地处理这种情况，并且两者都可以保持非可选。
2.  我不确定为什么 DatabaseGenerated 属性没有生效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T09:31:11.383

因此，事实证明，开发人员负责使用 azure 表存储来生成他们唯一的行键。这是为扩展*TableServiceEntity的**FragmentEntity*完成的。又名提供者将不支持数据库密钥生成，开发人员必须拥有它。

 *这表示：

1.  您必须拥有 ID 生成代码。
2.  您无需在`TableServiceEntity`s 中定义 Id 属性，只需在 AutoMapper 配置中提供双向的合理映射即可。

ID 不应由客户端指定（这是服务器的责任）。因此，从 DTO 到持久化 DO 的映射会用新生成的 Guid 覆盖默认设置的任何值（参见下面的代码）。

```
Mapper.Configuration.CreateMap<Fragment, FragmentEntity>()
      .ForMember(dest => dest.RowKey,
                 expression => expression.ResolveUsing(source => Guid.NewGuid().ToString()))
// NB: you are also required to provide a partition key for TableServiceEntities
      .ForMember(dest => dest.PartitionKey,
                 opt => opt.ResolveUsing(source => PartitionKeyConstants.LocalPartitionKey)); 
```

然后必须配置从*FragmentEntity*到*Fragment*的另一个方向的映射，将 DTO 的 Id 属性设置为*FragmentEntity*的 RowKey 值。

```
Mapper.Configuration.CreateMap<FragmentEntity, Fragment>()
      .ForMember(dest => dest.Id, 
                 expression => expression.ResolveUsing(source => source.RowKey)); 
```

我的映射代码在我的 Global.asax.cs 中注册以处理映射注册。我会在某个时候将它移到 IoC 容器中。

由于此更改，我不再在 FragmentEntity 中定义 ID，并且 Fragment 类中定义的 Id 属性不再是可选的。

```
[DataMember]
public virtual Guid Id { get; set; } 
```

注意：我使用 Guid 是因为生成唯一的 Guid 值比跟踪 int 键和增量更容易。这也意味着我在检查下一个 int 键值时不会引入 db-lock 瓶颈。*

# actionscript-3 - addFrameScript 不能与 Air 2.6 一起正常工作

> ID：13639139
> 
> 赞同：1
> 
> 时间：2012-11-30T04:42:58.393
> 
> 标签：actionscript-3, air, flash-cs5

我已经使用 flash cs5.5 编写了两个程序。他们都使用**addFrameScript**来组织每一帧上的代码。

我在 Air For Android 上导出的第一个并没有问题。

我在 Air 2.6 上导出的第二个出现了问题。

如果我按顺序从一个帧到另一个帧（使用 gotoAndStop()），那么帧脚本会完美加载。

但是当我使用相同的方法（**gotoAndStop()**）返回上一帧时，我的较低层上的所有舞台实例都没有正确加载，所以我得到**ERROR 1009: Cannot access a property or method of a null object reference**

有趣的是，当我将它们移到前两层时，事情又开始起作用了。

但我仍然希望将它们保留在自己的层中。请帮忙？

提前致谢

编辑1：

我刚刚发现，如果将它们移到新层，则该层中的旧元素将无法正确加载。就像只加载了显示列表的前几个子项。

**编辑2：**

**如果我将其更改为 Air For Android，问题就消失了！！我的思绪现在在飞翔**

# java - 作业中的索引越界异常

> ID：13639142
> 
> 赞同：2
> 
> 时间：2012-11-30T04:43:48.573
> 
> 标签：java, exception, indexoutofboundsexception

我正在尝试做家庭作业。我必须使用动态编程来显示下一个要移动的人是否处于赢/输状态。我不需要解决实际问题的帮助，我需要帮助解决索引越界异常，这让我感到困惑。我只在这里粘贴我的部分代码，因为我只需要查看 for 循环。我也不希望班上的任何人看到我所有的代码并复制它。如果您需要更多数据，请告诉我。所以这里是代码：

```
if(primeArray[x] == true){
    for(int i = 1; i <= x; i++){
        if(primeArray[i]== true){
            newRowNumber = x - i;
        }
        if(dynaProgram[newRowNumber][columnNumber] < minimum){
            minimum = dynaProgram[newRowNumber][columnNumber];
        }
    }
}
//COMPOSITE CASE FOR X!
else{
    for(int k = 1; k <= x; k++){
        if((primeArray[k] == false)){
            newRowNumber = x - k;
        }
        if(dynaProgram[newRowNumber][columnNumber] < minimum){
            minimum = dynaProgram[newRowNumber][columnNumber];
        }
    } 
```

出于某种原因，`if(primeArray[i] == true`运行正确，但我在`if(primeArray[k] == false`. 这两者之间的唯一区别是在 for 循环中使用变量 k 而不是 i。（for 循环是相同的）我没有在我的代码中的其他任何地方使用任何变量。我不知道为什么这会发生在一个而不是另一个。在这两种情况下，x 保持不变。

我还在第二个上得到一个索引越界异常`minimum = dynaProgram[newRowNumber][columnNumber]`，而第一个没有遇到错误。我知道这可能是一个愚蠢的错误，但我无法弄清楚。如果我将'k' for 循环更改为行`k < x`中出界异常的索引`if(primeArray[k] == false`，那么它就会消失，但它是不正确的。（然而，第二个错误`minimum = dynaProgram[newRowNumber][columnNumber]`并没有消失。）

所有这些代码都在一个嵌套的 for 循环中，它遍历表中的行和列来填充它们。如果我删除上面的代码并且只是把`dynaProgram[rowNumber][columnNumber] = 1`我没有问题，所以我不相信这是问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T04:53:21.917

访问长度为 5 的数组时（例如）

```
int[] fred = new int[5]; 
```

第一个元素是`fred[0]`，最后一个元素是`fred[4]`

所以当做类似的事情时：

```
 if(primeArray[i]== true){ 
```

确保它`i`小于数组长度。使用`i`等于数组长度的值将引发异常。

# android - 如何在 android 的用户 Twitter 个人资料中上传照片

> ID：13639145
> 
> 赞同：2
> 
> 时间：2012-11-30T04:43:50.990
> 
> 标签：android, twitter, upload, photo

> **可能重复：**
> [我们可以使用 Android 中的 twitter API 在 twitter 上发布图像吗？](https://stackoverflow.com/questions/7609656/can-we-post-image-on-twitter-using-twitter-api-in-android)
> [带有图像的 Android 推特推文](https://stackoverflow.com/questions/10635113/android-twitter-tweet-with-image)

我必须从相机拍照并上传用户推文状态。我无能为力，请帮忙。我已使用以下代码发布文本但无法将位图中的照片上传到推特

```
 public void shareTwitter()
         {
             try {
                String token =  myPrefs.getString(FindFriends.PREF_KEY_OAUTH_TOKEN, "");
                String secret =  myPrefs.getString(FindFriends.PREF_KEY_OAUTH_SECRET, "");

                    ConfigurationBuilder cb = new ConfigurationBuilder();
                    cb.setDebugEnabled(true)
                    .setOAuthConsumerKey(FindFriends.TWITTER_CONSUMER_KEY)
                    .setOAuthConsumerSecret(FindFriends.TWITTER_CONSUMER_SECRET)
                    .setOAuthAccessToken(token)
                    .setOAuthAccessTokenSecret(secret);
                    AccessToken accessToken = new AccessToken(token, secret);
                    Twitter twitter = new TwitterFactory(cb.build()).getInstance(accessToken);
                    twitter.updateStatus("hello");

             } catch (Exception e) {
                e.printStackTrace(); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-30T05:06:28.437

试试这个代码希望这会你。

```
 Twitter twitter = new TwitterFactory(conf).getInstance();
            Bitmap bmp = BitmapFactory.decodeResource(
                    TwitterFriends.this.getResources(), R.drawable.edit_ic);
            ByteArrayOutputStream stream = new ByteArrayOutputStream();
            bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);
            byte[] byteArray = stream.toByteArray();
            ByteArrayInputStream bis = new ByteArrayInputStream(byteArray);
            StatusUpdate status = new StatusUpdate(message);
            status.setMedia("newyear", bis);

            try {
                twitter.updateStatus(status);
            } catch (Exception e) {
                e.printStackTrace();
            } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T04:51:28.030

Twitter 将只更新状态而不是图片。如果您想实现，然后搜索将图像上传到 TwitPic，这将为您提供您在 TwitPic 上的图像的 bit.ly url。在 Twitter 上发布相同的 URL，这会将用户重定向到 Picture。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:10:44.417

这是上传按钮...

```
 upload.setOnClickListener(new OnClickListener()
        {   
            @Override
            public void onClick(View v) 
            {
                new ImageSender().execute();

            }
        }); 
```

这是异步任务...

```
private class ImageSender extends AsyncTask<URL, Integer, Long> 
    {
        private String url;

        protected void onPreExecute() 
        {
            //mProgressDialog = ProgressDialog.show(SendImageActivity.this, "", "Sending image...", true);

            //mProgressDialog.setCancelable(false);
            //mProgressDialog.show();
        }

        protected Long doInBackground(URL... urls) 
        {            
            long result = 0;
            prefs = PreferenceManager.getDefaultSharedPreferences(TestingTwitterActivity.this);
            String token1=prefs.getString("token", null);
            String tokenSecret1=prefs.getString("tokenSecret", null);
            Configuration conf = new ConfigurationBuilder()                 
            .setOAuthConsumerKey(twitter_consumer_key) 
            .setOAuthConsumerSecret(twitter_secret_key) 
            .setOAuthAccessToken(token1) 
            .setOAuthAccessTokenSecret(tokenSecret1) 
            .build(); 

            OAuthAuthorization auth = new OAuthAuthorization (conf, conf.getOAuthConsumerKey (), conf.getOAuthConsumerSecret (),
                    new AccessToken (conf.getOAuthAccessToken (), conf.getOAuthAccessTokenSecret ()));

            ImageUpload upload = ImageUpload.getTwitpicUploader (twitpic_api_key, auth);

            //Log.d(TAG, "Start sending image...");

            try {
                url = upload.upload(new File(mPath));//here your camera pic file path...
                result = 1;

                //Log.d(TAG, "Image uploaded, Twitpic url is " + url);          
            } catch (Exception e) {        
                //Log.e(TAG, "Failed to send image");

                e.printStackTrace();
            }

            return result;
        }

        protected void onProgressUpdate(Integer... progress) 
        {            
        }

        protected void onPostExecute(Long result) 
        {
            //mProgressDialog.cancel();

            String text = (result == 1) ? "Image sent successfully.\n Twitpic url is: " + url : "Failed to send image";

            Toast.makeText(getApplicationContext(), text, Toast.LENGTH_LONG).show();
        }
    } 
```

# java - 如何使工作 HttpResponse 更快？

> ID：13639146
> 
> 赞同：5
> 
> 时间：2012-11-30T04:43:54.757
> 
> 标签：java, android, http, httpresponse

我正在做一个项目，其中“我必须每隔“1毫秒到10毫秒”从“服务器”获取4096字节的数据到服务器。但它“花费了太多时间”，即“大约300ms - 700ms “这会导致我的应用程序丢失数据。

我正在使用下面的片段

```
HttpClient client = new DefaultHttpClient();
HttpPost request = new HttpPost("http://192.168.1.40/ping");
HttpResponse response = client.execute(request); 
```

**HttpResponse 只需要太多时间，即大约 300 毫秒 - 700 毫秒。**

**我怎样才能更快地得到响应？**

**除了这个，我还能用什么来更快地从服务器获得响应？**

请让我知道任何解决方案或解决方法。

我做过谷歌，通过其他方式`DataOutputStream`，`ByteOutputStream`但没有使用这个，它也花费了太多时间`HttpResponse`。

帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T04:57:28.760

在您可以更快地做出响应之前，您需要调查并了解它们目前​​需要很长时间的原因。粗略地说，可能是：

*   客户端花费很长时间来创建请求和/或处理结果（似乎不太可能......）
*   一个缓慢的 android 网络协议栈
*   您的本地网络（例如 WiFi）或您的电信提供商有问题
*   拥塞/过载的服务器或服务器端网络，或
*   在服务器实现中有些微不足道的东西。

执行以下操作：

*   在传统 PC 上尝试来自网络浏览器的请求，并使用浏览器的网络开发人员的东西来尝试梳理请求是否/为什么需要很长时间......
*   查看服务器端日志和/或监控请求负载和时间信息
*   *其他建议请*

实施 SPDY*可能会*有所帮助，但*不太可能*将 500 毫秒左右的响应时间更改为几十毫秒。这个问题似乎比“HTTP 又老又慢”更为根本。同样的推理适用于人们提出的所有其他建议。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:52:54.663

这是不可能的。您每次都在重新创建连接。

您需要与服务器保持持久连接。尝试创建一个持久的 http 连接。

如果这不起作用，您可以尝试发送原始 udp 数据包（或其他任何东西）。这会更难，但会花费更少的时间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T04:56:53.207

如果服务器启用 SPDY，@sheldonCooper 的答案是正确的。您还可以添加 Gzip 压缩。它已添加到 GingerBread 之后的所有请求中，但您可以为以前的 SDK 版本添加它：[http ://android-developers.blogspot.fr/2011/09/androids-http-clients.html](http://android-developers.blogspot.fr/2011/09/androids-http-clients.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T04:46:48.097

使用[SPDY](https://developers.google.com/speed/spdy/)协议。这将改善您的响应时间。

我认为在您的情况下，您可以使用 websockets，这样您就不必每次都创建连接，并且每次都可以使用实时连接。

# r - 如何使用R求解多整数未知数方程

> ID：13639147
> 
> 赞同：-5
> 
> 时间：2012-11-30T04:44:03.260
> 
> 标签：r

如何在方程 43.5a + 21.5b +26.5c + 43.5d = 826 中使用 R 求解，因为 a,b,c,d 是正整数。我知道会有很多解决方案，但没关系。谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T05:48:51.707

这应该工作（不运行）：

1.  您需要先解决任何变量。

    ```
    Solve.a <- function(b,c,d) {(826-21.5*b-26.5*c-43.5*d)/43.5} 
    ```

2.  您需要确定循环的限制。如果它们都是正整数，`a`并且`d`不能大于大约 17 左右，而`b`并且`c`不能大于大约 37。

3.  编写一个循环并使用蛮力：

    ```
    for(b in 1:37) {
        for(c in 1:37) {
            for(d in 1:17) {
                a <- Solve.a(b,c,d)
                if (a %% 1 == 0 & a > 0) print(c(a,b,c,d))
                }}} 
    ```

# facebook - 使用桌面版的 Facebook 用户 ID 在移动设备中不起作用

> ID：13639148
> 
> 赞同：1
> 
> 时间：2012-11-30T04:44:05.423
> 
> 标签：facebook

此代码适用于 Facebook 桌面版本，但不适用于我想获取当前 User Id 的移动设备。

```
 <div id="fb-root"></div>
<script src="http://static.ak.connect.facebook.com/js/api_lib/v0.4/FeatureLoader.js.php"  
       type="text/javascript"></script>  
<script>

    // Load the SDK Asynchronously

    (function (d) {

        var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];

        if (d.getElementById(id)) { return; }

        js = d.createElement('script'); js.id = id; js.async = true;

        js.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';

        ref.parentNode.insertBefore(js, ref);

    } (document));

    // Init the SDK upon load
    var called = false;

    window.fbAsyncInit = function () {

        FB.init({
            appId: 'XXXX', // App ID           
            status: true, // check login status
            cookie: true, // enable cookies to allow the server to access the session
            xfbml: true  // parse XFBML
        });

        alert("12");
        FB.getLoginStatus(function (response) {

            if (response.status === 'connected') {
                alert("Your UID is " + response.authResponse.userID);
            }
            else if (response.status === 'not_authorized') {
                // not_authorized
                alert("3");
                login();
                alert("5");
            } else {
                // not_logged_in
                alert("4");
                login();
            }

        });

    };
    if (!called) {
        alert("Not Called");
        window.fbAsyncInit();
        alert(" Called");
    }
    function testAPI() {
        console.log('Welcome!  Fetching your information.... ');
        FB.api('/me', function (response) {
            console.log('Good to see you, ' + response.name + '.');
        });
    }
    function login() {
        FB.login(function (response) {
            if (response.authResponse) {
                // connected
                testAPI();
            } else {
                // cancelled
            }
        });
    }

</script> 
```

# c++ - bot 的 C++ 问题（我的私人服务器）

> ID：13639153
> 
> 赞同：-1
> 
> 时间：2012-11-30T04:45:00.847
> 
> 标签：c++, bots

我很快就会为 mmorpg 制作服务器，我想发布一个机器人来配合它，因为我不希望人们能够在一周或更短的时间内达到最高等级，但我不希望他们对农业经验和物品的数量感到沮丧，所以我想制作一个可以处理 1-8 个帐户的机器人。我对 c++ 有点好，不要告诉我“使用 autoit” 我想让它看起来有点专业，实际上可以使用他们计算机上的设置，我对 windows.h 的功能很好，但我不能弄清楚如何让机器人读取或写入内存，我也不知道如何使用softice（不确定我是否有正确的）。

现在，游戏很简单，每个帐户我只使用 2 个法术（长距离或短距离），怪物图标和 hp 总是在同一个 x,y 位置，所以 AI 非常基础，让所有帐户都准确无误同样的事情，但我不知道如何查看更不用说编辑数据包以允许我的机器人工作，而不会让每个帐户成为战斗每一步的焦点窗口。

1-8个账号的原因是普通服务器上的大多数人都有1-8个，通常是4-8个，一旦他们达到更高的级别，让他们能够在不搜索组的情况下做事，因为大多数地牢占用到更高级别的 5 小时，并且一旦有人决定他们必须下车或您需要离开时，更容易获得所需的一切，而不是被困在中途......你知道它是怎么回事。反正，

它严格用于我的服务器，但它还没有启动，所以我无法学习它，而且我不是我付钱给我的朋友设置它的主机，但他不知道如何制作机器人，所以我我正在寻求帮助。我想要一些关于或围绕该主题的教程的帮助。或 - 有人帮助我完成它（我不需要太多帮助，一两个小时可能足以让我朝着正确的方向前进）或 - 某人机器人的源代码（我可能会通过它查看找到我需要的东西。）或-去哪里找人教我（便宜）

现在请不要发布诸如“你不应该作弊”之类的东西，我正在为我提供的服务器制作这个，所以它不是作弊，因为我允许它并在我的网站上免费向人们提供该程序。如果你说“你必须在真实服务器上练习”之类的话，是的，我会，但我会在没人去过的地方的“菜鸟”区域使用 1 级帐户（加上真实的服务器 noob 区域有单独的 200 人服务器，所以即使我继续使用它也不会打扰任何人）而且我只是将它用于练习，然后我会在我的服务器启动后对其进行编辑，所以我没有作弊得到更远的游戏或任何东西，它纯粹是为了在我的服务器中使用。我还要求人们认真对待这一点，我对 C++ 相当擅长我只是卡住了，因为我不能

另外，请管理员不要关闭此功能，我意识到这可能会被视为我违反了服务条款，但如果您阅读此内容，我不会。因为它是为我自己的服务器准备的，我没有用它来作弊，所以我有一个可行的理由来做这个，我真的需要帮助。

**编辑：**

我发现一些信息说我需要了解 C++ 中的套接字和网络。我找到了一些网络教程，但我非常感谢套接字上的一些东西（我发现的都是无用的信息）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-03T09:10:40.637

在我看来，如果机器人本身就是一个游戏客户端，那会容易得多。通过这种方式，它可以在不挂钩任何东西的情况下完成客户端可以做的所有事情。该机器人甚至不需要用户界面，它可以在后台运行。这是否可能取决于您的代码的模块化程度。在理想情况下，您可以创建一个新应用程序，使用游戏逻辑引用游戏客户端 dll，并接收来自服务器的请求并像玩家一样发送操作。
创建一个点击客户端窗口按钮的机器人是可能的，但很复杂。但是为了帮助您处理您的请求，我们需要有关客户端和服务器如何工作的更多信息。它们是用什么语言编写的，您使用什么 API 和库？
如果您不知道如何实现它并且不知道客户端是如何工作的，那么您的朋友编写机器人可能会更好。

# ruby - Ruby 1.9 中非并发 Ruby 线程的优势？

> ID：13639160
> 
> 赞同：4
> 
> 时间：2012-11-30T04:46:15.533
> 
> 标签：ruby, performance, concurrency

我一直在阅读有关 Ruby 1.9 线程的信息，我看到所有 ruby​​ 线程都通过全局解释器锁（朋友的 GIL），并且实际上不存在并发性。

我已经做了一个测试（没有任何信号也没有等待），使用线程的性能不仅没有提高，而且操作实际上比串行运行它们花费更多的时间

我的问题基本上是 - 如果这些线程不是并发的，它们有什么意义？有没有希望他们将来会同时出现？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T08:19:11.017

许多其他 Ruby 解释器（JRuby、Rubinius）实际上并没有 GIL。此外，MRI 2.0 也将取消 GIL。

此外，在很多情况下（例如等待 IO 时），解释器确实会切换到另一个线程。因此，虽然它在*技术上*不是多线程（在 MRI/REE 1.9 的情况下），但它确实获得了一些好处。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-29T14:23:04.060

并行性是不存在的，但 Ruby 线程不会阻止 Ruby 代码的并发执行。即使在单核机器上，并发代码执行也是可能的。我认为您只是将“并发”和“并行”这两个术语混为一谈。

有关更多详细信息，请参阅Jesse Storimer 的*使用 Ruby 线程*。

# internet-explorer - 在 IE 中未检测到带有 document.cookie 的 Cookie

> ID：13639161
> 
> 赞同：1
> 
> 时间：2012-11-30T04:46:17.873
> 
> 标签：internet-explorer, cookies, browser, rewrite

我正在设置一个`Cookie`。下面是代码，

```
var myCookie="MyCookie";
document.cookie = myCookie+"="+escape("myValue")+ ";expires="+";path=/;"; 
```

此代码在我的 xhtml 页面中。我可以`Cookie`在 Chrome 和 FF 浏览器中看到这一点。但不在 IE 中（IE7、8 和 9）

我基本上是在尝试使用这个在 Apache Web 服务器中编写重写规则`Cookie`。但是，由于这`Cookie`在 IE 中没有被检测到，因此不会发生重写。然而，它发生在 Chrome 和 FF 中。

下面是重写规则。

```
RewriteEngine On
RewriteCond %{HTTP:Cookie}  MyCookie=([a-zA-Z0-9]+)
RewriteCond %{REQUEST_URI} ^/web/portal/login
RewriteRule .* http://%{SERVER_NAME}/web/portal/home [R=302] 
```

为什么在 IE 中未检测到`Cookie`设置？`document.cookie`

# ruby - 在 Ruby 中，堆栈中存储了什么？

> ID：13639166
> 
> 赞同：26
> 
> 时间：2012-11-30T04:46:29.973
> 
> 标签：ruby, variables, memory, heap-memory, stack-memory

Ruby 是否在堆上分配所有内容，或者是否有任何实例将某些内容存储在堆栈上？我的印象是所有变量本质上都在堆栈上，并且包含对堆上对象的透明引用。我的这种想法正确吗？这个实现是特定的吗？

此外，如果变量在堆栈上分配并且仅包含隐藏指针，那么变量本身（不考虑它们指向的对象）消耗多少字节？

编辑：

之所以问这个问题，是因为我试图弄清楚光纤的 4kB 堆栈限制是否会成为[这个问题的一个问题](https://stackoverflow.com/q/13638503/509271)。似乎（使用 MRI 1.9.3）每个变量本身消耗一个字节，并且与光纤相关的轻微开销将可用堆栈大小减少了几个字节。

此代码将在第 4,045 次迭代时失败：

```
count = 0
loop do
  count += 1
  puts count
  varlist = String.new
  count.times do |i|
    varlist += "a#{i} = 1\n"
  end
  s = "fiber = Fiber.new do \n #{varlist} \n end \n fiber.resume"
  eval(s)
end 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-11-30T05:00:46.473

这取决于 Ruby 的实现。

例如，Ruby 2.0 MRI（大多数系统上的典型MRI）将其所有对象存储在堆中。诸如短弦之类的小物体可以完全放入堆中。对于大型对象，Ruby 会在堆之外分配额外的内存。

请参阅[“MRI 内存分配 - 开发人员入门”](http://www.engineyard.com/blog/2010/mri-memory-allocation-a-primer-for-developers/)和[“揭开 Ruby GC 的神秘面纱”](http://samsaffron.com/archive/2013/11/22/demystifying-the-ruby-gc)

这是[“了解 Ruby 如何在内存中存储对象”](http://www.theirishpenguin.com/2009/10/29/understanding-how-ruby-stores-objects-in-memory-the-ruby-heap.html)，它有一个很棒的、更长的描述：

> “对象在内存中占用的整个空间并不存储在 Slot 内。相反，每个 Slot 都是一个固定大小的小空间，可以认为是 Ruby 解释器处理内存中的一个位置。这个位置存在于 Ruby Heap 之外本身并包含对象的真正“肉”。要清楚，如果你有一个 50MB 的字符串 - 50MB 的数据存储在 Ruby 的堆之外。如果你真的想知道 50MB 的故事，它的空间实际上是由 C 中的 malloc 命令之类的东西分配的（就像好的 ol' Ruby 是用 C 编写的）然后存储在系统堆中。Ruby 堆中的 Slot 只包含对系统堆上该内存位置的引用，其中包含50MB 的数据。”
> 
> “Ruby 有自己的堆管理，实际上由几个 'Ruby 堆' 组成，用于管理在 Ruby 程序执行期间创建的对象；这与操作系统的系统堆是分开的。每个单独的 Ruby 堆都包含插槽，每个插槽能够一个引用一个对象。

另一个很好的来源是“ [How Ruby Manages Memory and Garbage Collection](http://www.rubyinside.com/how-ruby-manages-memory-and-garbage-collection-3006.html) ”，它链接到“ [Garbage Collection Slides from LA Ruby Conference](http://www.rubyinside.com/how-ruby-manages-memory-and-garbage-collection-3006.html) ”的幻灯片。

> “作为一种垃圾收集语言，Ruby 采取了简单的方法，将所有内容都放在堆上”。

## 纤维

Ruby 中的 Fiber 很特别，因为每个 Fiber 都有自己的小堆栈。

> “与其他无堆栈轻量级并发模型相反，每个光纤都带有一个 4KB 的小堆栈。这使得光纤能够从光纤块内的深层嵌套函数调用中暂停。”

您可能对动态光纤堆栈大小的长期运行[功能请求感兴趣。](http://bugs.ruby-lang.org/issues/3187)

如果您对现实世界的解决方案更感兴趣，功能请求作者推荐这种解决方法：“重构需要大堆栈在单独线程中运行然后阻塞 thread.value 的操作。”

`cont.c`您还可以考虑在源文件中使用自己选择的 FIBER_MACHINE_STACK_ALLOCATION_SIZE 和 FIBER_VM_STACK_SIZE 来编译自定义版本的 Ruby 。该文件还显示了如何分配、释放光纤堆栈等。

# asp.net-mvc - delphi web服务从.net mvc应用程序中获取不同的日期时间

> ID：13639167
> 
> 赞同：6
> 
> 时间：2012-11-30T04:46:33.017
> 
> 标签：asp.net-mvc, web-services, delphi

我知道大多数人建议的解决方案是将对象的属性从 TDateTime 更改为 String，但我无法访问 Web 服务应用程序的所有源代码，因此在某些情况下我无法做到这一点。所以我宁愿确保我能解决这个问题。

简而言之，我有一个 .NET MVC 应用程序，它调用用 Delphi 2005 编写的服务应用程序的 Web 方法来获取约会对象，包括开始日期/时间和结束日期/时间。用户可以对约会进行更改，然后 MVC 应用程序调用另一个 Web 方法，传入修改后的约会对象，以供服务应用程序存储。

TAppointemnt 的 StartTime 和 EndTime 属性在 Delphi 中定义为 TDateTime。它们在 WSDL 中显示为 xs:dateTime。Visual Studio 在 Reference.cs 中将它们创建为 System.DateTime。

通过使用 Delphi 中的 Web App Debugger，并将 MVC 应用程序的端点设置为 Web 服务 EXE，我可以实时单步执行这两个应用程序。我看到的是，从 Web 服务传递到 .NET MVC 时，发送和接收的 Appointment 对象的 StartTime 和 EndTime 属性是相同的，但是从 .NET MVC 传递到 Delphi 时，时间调整了 13 小时网络服务。

虽然我了解 .NET 会进行一些内部时区调整，但这仅在客户端和服务器位于不同时区时才会明显。在我的例子中，客户端浏览器、.NET MVC 应用程序和 Delphi 服务应用程序在同一个应用程序中。事实上，它们都在同一台机器上运行，所以我不知道为什么会有差异。

看起来他们对 XML 中的日期时间进行了不同的编码......

从 Delphi 服务应用程序到 .NET MVC 应用程序的响应：

```
<StartTime xsi:type="xsd:dateTime">2012-10-29T08:00:00.000+13:00</StartTime><EndTime xsi:type="xsd:dateTime">2012-10-29T09:15:00.000+13:00</EndTime> 
```

从 .NET MVC 应用程序到 Delphi 服务应用程序的 POST：

```
<StartTime xsi:type="xsd:dateTime">2012-10-29T08:00:00</StartTime><EndTime xsi:type="xsd:dateTime">2012-10-29T09:15:00</EndTime> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-30T04:58:05.773

我找到了一个适合我的解决方案。

在我处理约会更新的模型中，我收到了一个由视图组件生成的约会对象，该对象不包括所有属性。只有那些在视图中。为了完成预约，我从服务应用程序中获取未更改的版本，并根据新对象修改其属性。

我在调试时发现，从服务应用程序检索到的 wsAppointment 的 StartTime 和 EndTime 属性的 DateTimeKind 为 Local，而 pAppointment 参数的 StartTime 和 EndTime 设置为 Unspecified。因此，我传回服务应用程序的本地 DateTimeKind 被未指定覆盖。

为了解决这个问题，我使用 DateTime.SpecifyKind 显式设置 Kind 属性，如下所示：

```
wsAppointment.StartTime = DateTime.SpecifyKind(pAppointment.StartTime, DateTimeKind.Local);
wsAppointment.EndTime = DateTime.SpecifyKind(pAppointment.EndTime, DateTimeKind.Local); 
```

希望这有助于其他遇到相同或类似问题的人。

# java - 通过参考树桩新手

> ID：13639171
> 
> 赞同：1
> 
> 时间：2012-11-30T04:46:49.880
> 
> 标签：java, extends

根据javadocs“子类继承[其超类](http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)的所有成员（字段、方法和嵌套类） ”。此外，[Java 通过](http://www.javaworld.com/javaqa/2000-05/03-qa-0526-pass.html)引用来操作对象 那么为什么这个子类会为 aList[0] 返回错误的值呢？当我希望它们都修改同一个数组时，似乎每个类都在修改自己的数组。

```
public class mystery {
protected List<String> aList;

public mystery() {
    aList = new ArrayList<String>();
}

public void addToArray() {
    //"foo" is successfully added to the arraylist
    aList.add("foo");
}

public void printArray() {
    System.out.println( "printArray " + aList.get(0) +"" );
}
public static void main(String[] args) {
    mystery prob1 = new mystery();
    mysterySubclass prob2 = new mysterySubclass();
    //add "foo" to array
    prob1.addToArray();
    //add "bar" to array
    prob2.addToArray2();

    //expect to print "foo", works as expected
    prob1.printArray();
    //expect to print "foo", but actually prints "bar"
    prob2.printArray();
    //expect to print "foo", but actually prints "bar"
    prob2.printArray2();
} 
```

}

```
public class mysterySubclass extends mystery {

public void mysterySubclass() {}
public void addToArray2() {
    aList.add("bar");
}

public void printArray2() {
    System.out.println( "printArray2 " + super.aList.get(0) +"" );
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:07:42.273

```
 mystery prob1 = new mystery();
    mysterySubclass prob2 = new mysterySubclass(); 
```

在这里，您正在创建**两个新对象**，因此它们将拥有自己的列表，并且不会像您期望的那样共享一个。

您正在寻找的是：

```
 mystery prob1 = new mysterySubclass();
    mysterySubclass prob2 = (mysterySubclass)prob1; 
```

试试这个..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T04:49:44.917

那是因为您调用`prob2.addToArray2();`它会将`"bar"`String 添加到变量中的`aList`属性。`prob2`考虑到它们共享相同的属性，而不是相同的引用对象引用，所以每个`prob`都有`prob2`自己的`aList`属性值。使用调试器可以轻松证明此行为。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:20:26.870

```
mystery prob1 = new mystery();
mysterySubclass prob2 = new mysterySubclass();
//add "foo" to array
prob1.addToArray();
//add "bar" to array
prob2.addToArray2();

//expect to print "foo", works as expected
prob1.printArray();
//expect to print "foo", but actually prints "bar"
prob2.printArray();
//expect to print "foo", but actually prints "bar"
prob2.printArray2(); 
```

你的 prob1 有 aList 你的 prob2 有 aList 是的，它们是不同的。

第 4 行之后 => prob1.aList -- foo

第 6 行之后 => prob2.aList -- bar

所以 prob2.printArray() 只有“bar”要打印，而且 prob2.printArray2() 基本上它们做同样的事情。

# email - Ant 邮件任务 - 发送带有附件的邮件的问题

> ID：13639172
> 
> 赞同：4
> 
> 时间：2012-11-30T04:46:53.983
> 
> 标签：email, ant

当我尝试使用 ant 邮件任务时，它在发送带有附件的邮件时似乎不起作用。我目前面临的问题是，它在电子邮件正文中发送附件内容，而不是作为附件，即使详细输出显示为，它正在发送附件。最初它抱怨缺少 jar，我添加了 mail.jar 和 activation.jar。这是我尝试过的片段：

```
<mail mailhost="mailHost.com" messagemimetype="text/html" subject="Test report" >
<from address="mymaild-addr@somedomain.com"/>
<replyto address="mymaild-addr@somedomain.com"/>
<to address="mymaild-addr@somedomain.com"/>
<message> Attached is sample report </message>
<attachments>
<fileset dir="${myRequiredDirectory}">
  <include name="Test.txt"/>
  <include name="Calls.txt"/>
</fileset>
</attachments>
</mail> 
```

我得到

```
[mail] Failed to initialise MIME mail: org.apache.tools.ant.taskdefs.email.MimeMailer
[mail] Failed to initialise UU mail: Class org.apache.tools.ant.util.ClasspathUtils can not access a member of class org.apache.tools.ant.taskdefs.email.UUMailer with modifiers ""
[mail] Sending email: Test report
[mail] Sent email with 2 attachments 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-03T13:25:51.070

在添加另一个依赖 jar 'ant-javamail.jar' 后，它工作正常。

# javascript - Javascript：外部函数中的变量不被内部函数改变

> ID：13639173
> 
> 赞同：1
> 
> 时间：2012-11-30T04:46:54.820
> 
> 标签：javascript, closures

我有一个小问题，我认为这可能是我对 Javascript 闭包的误解。

我有这段代码——

```
getStdOpts: function(tbl, filt) {
    var vals = new Array();

    this.srvs.getStdOptions(
        { tbl: tbl },
        {
            'ok': function(rsp) {
                for (var i in rsp) {
                    vals.push({ value: rsp[i].id, text: rsp[i].descr });
                }
            }
        }
    );
    return vals;
} 
```

本质上，虽然 getStdOptions 调用中的内部函数 ('ok': function...) 将新值推送到 vals 数组中，但当从调用外部访问时，vals 数组为空。从内部函数中访问时， vals 包含预期的所有元素。

非常感谢我在这件事上能得到的任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:04:48.820

我怀疑这是一个关闭/范围问题。如果`this.srvs.getStdOptions`是异步操作，您`getStdOpts`将始终返回一个空数组。一旦操作完成，这个数组就会被填充，正如所写的那样，这将是在你需要它之​​后。你将不得不以不同的方式处理事情。要么您需要直接传递`getStdOpts`一个回调，该回调将`vals`作为参数并在您的匿名回调中执行该回调 for `this.srvs.getStdOptions`，或者您需要返回某种可以添加回调的*Promise*`vals`对象（本质上与参数）根据需要 - 您必须在匿名回调中解决您的承诺`vals`作为其“承诺”结果。

# silverlight - 如何实现silverlight动画？

> ID：13639178
> 
> 赞同：1
> 
> 时间：2012-11-30T04:47:36.540
> 
> 标签：silverlight, xaml, animation

我想在我的一个 xaml 页面中实现 silverlight 动画。我的页面中有不同的形状。我想用形状中的动画填充颜色。我想为演示的不同形状实现不同的效果。有人可以告诉我不同​​的动画效果吗？我知道 Silverlight 中的动画类型。双动画、点动画等

# php - MySQL 不保存记录

> ID：13639180
> 
> 赞同：1
> 
> 时间：2012-11-30T04:47:50.840
> 
> 标签：php, mysql

我有一个当前有“ **438,442** ”行的表。下一个 AutoIncrement 是“ **854,040** ”

我的客户有时会报告他们的记录没有保存。虽然系统说有，但是当他们稍后回来时，记录不在那里。

所以我想问一下问题是由于表中的记录数量多还是类似的原因？

我正在使用标准 PHP 函数插入 MySQL：

```
$Qry = "INSERT INTO lesson_result (user, marks, grade, date) VALUES ( 23127, 88, 'B', '2012-11-25')";
$isInserted = @mysql_query($Qry) or die(mysql_error()); 
```

我在使用 PhpMyAdmin 检查 MySQL 运行时信息时发现的另一件事是：

> **Table_locks_waited：2,298**

我们可以认为这是问题的原因吗？

# php - 自动编码以在 Android 主屏幕上保存网络链接

> ID：13639183
> 
> 赞同：0
> 
> 时间：2012-11-30T04:48:02.770
> 
> 标签：php, android, popup

在支持 Android 的设备中，如果我通过我的设备访问任何网络链接，则会出现一个弹出窗口，将链接保存为使用 PHP 语言的“主屏幕”应用程序类型。

一键式移动网络应用程序是 WordPress 中的一个插件，它在支持 iOS 的设备中执行此过程，任何人都可以帮助我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:12:33.687

这在 Android 上是不可能的，用户必须在浏览器中为网站添加书签，然后手动将书签添加到他们的主屏幕。

您链接到的 iPhone 视频只是在 Safari 中的图标旁边显示一个弹出窗口，允许用户选择将其添加到主屏幕，他们的库只负责显示弹出窗口，其他一切都是 Safari 的一部分。

这也是关闭用户访问您网站并阻止他们再次访问的好方法。

# c# - 第一次异步回调后，无法在添加到更新面板的新控件上调用事件处理程序

> ID：13639185
> 
> 赞同：0
> 
> 时间：2012-11-30T04:48:10.317
> 
> 标签：c#, sharepoint, event-handling, updatepanel, web-parts

因此，第一次回发后，我无法在更新面板上调用事件。该事件在回发时分配给控件，但不起作用。下面的代码是回发后添加的控件中发生的情况。

```
 //Add Delete Control
                    up.ContentTemplateContainer.Controls.Add(new LiteralControl("<div class=\"news_delete\">"));
                    LinkButton deleteLink = new LinkButton();
                    deleteLink.ID = item.ID.ToString();
                    deleteLink.Text = "Delete This News Item";
                    deleteLink.Click += new EventHandler(DeleteNewsItem);
                    up.ContentTemplateContainer.Controls.Add(deleteLink);

                    up.ContentTemplateContainer.Controls.Add(new LiteralControl("</div>")); 
```

该控件被添加到更新面板中，我可以看到它，但是当我单击链接按钮时，它不会运行事件 DeleteNewsItem。该事件可以在下面看到。

```
 //OnSubmits
    void DeleteNewsItem(object sender, EventArgs e)
    {
        SPList newsList;

        SPWeb web = SPContext.Current.Web;

        web.AllowUnsafeUpdates = true;

        web.Update();

        newsList = web.Lists["News Wire"];

        SPListItemCollection items;

        items = newsList.Items;

        LinkButton item2Delete = (LinkButton)sender;

        SPListItem item = items.GetItemById(Int32.Parse(item2Delete.ID));

        item.Delete();

        newsList.Update();

        web.AllowUnsafeUpdates = false;

        System.Web.HttpContext.Current.Response.Redirect(SPContext.Current.Web.Url);
    } 
```

因此，我想再次重申，在我在更新面板上进行回发之前它可以工作。我的意思是第一组具有此删除控件工作并删除列表项的项目，但是当我执行异步回发时，当我单击它时它不会运行事件。我已经设置了断点，但它永远不会到达它（事件）。我想知道这是否与 Web 部件生命周期或页面生命周期有关。请有人帮忙。顺便说一句，这不是一个可视化的 Web 部件，但它是一个 Web 部件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T23:46:39.223

这确实是一个生命周期问题。查看以下帖子，它将解释您的问题和可能的解决方法：[ASP.Net Dynamically populate controls on postback](http://spboom.com/sharepoint-development/asp-net-dynamically-populate-controls-on-postback/)

以下[帖子](https://stackoverflow.com/questions/180366/losing-button-click-events-after-first-partial-postback-in-updatepanel) 也可以解决该问题。

# javascript - 使用捆绑和缩小将 js 文件添加到 .net

> ID：13639186
> 
> 赞同：0
> 
> 时间：2012-11-30T04:48:17.867
> 
> 标签：javascript, jquery, asp.net, minify

我通常在`<head>`我的 aspx 页面中有这样的东西

```
<script src="jquery/jquery-1.8.2.min.js" type="text/javascript"></script>
<script src="jquery/jquery-ui-1.8.24.custom.min.js" type="text/javascript"></script>
<script src="jquery/jquery.floatingFixed.js" type="text/javascript"></script>
<script src="jquery/waypoints.min.js" type="text/javascript"></script> 
```

观看[此视频](http://www.youtube.com/watch?v=pIv6yR9Q1IA)后，Scott Guthrie 说不再需要，您可以将文件中的所有 .js 文件添加到一个`<script>`标签中，.Net 会自动为您缩小和捆绑它。像这样

```
 <script src="jquery/js" type="text/javascript" ></script> 
```

编辑：我知道这可以通过许多第三方工具来完成，但他在 .Net 视频中做到了 - 并解释了 .Net 缩小与第三方缩小的比较（意味着他没有使用第三方工具）

现在.. 我知道这是一个关于 MVC 4 的视频，但他说这也可以在 WebForms 中使用。我正在使用安装了 MVC 4 的 VS 2010 sp1 (.Net 4.0) 并且它无法正常工作，是否有一些我缺少需要添加的工具？还是仅适用于 VS 2011 和 VS 2012？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T15:46:01.760

`Microsoft.AspNet.Web.Optimization`可以在 NuGet 中找到并在模板中使用它来处理捆绑以输出捆绑的脚本/样式。

# php - PHP ECHO 通过 URL 传递两个 Var

> ID：13639188
> 
> 赞同：0
> 
> 时间：2012-11-30T04:48:44.970
> 
> 标签：php, url, variables, echo

```
echo "<li><a href=\"#\" onclick='load_page_device(\"mg-device.php?device=device_name&sensor=$p1_url\")'>".$row['p1_name']."</a></li>"; 
```

好吧，我只是试图通过 php echo 语句在 url 中传递两个变量。它根本不起作用。

然后我正在使用

```
$device_name = $_GET['device']; 
$sensor_name = $_GET['sensor']; 
```

我也尝试过使用 & 而不是 & only。第一个变量似乎总是被传递，但第二个变量永远不会。非常感谢任何帮助我一直在努力让它工作几个小时。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T04:50:43.757

尝试

```
echo '<li><a href="#" onclick="load_page_device("mg-device.php?device=device_name&sensor="'.$p1_url.'")">'.$row['p1_name'].'</a></li>'; 
```

您需要先检查是否`$_GET['device'] , $_GET['sensor']` 已设置

尝试

```
if(isset($_GET['device']) && isset($_GET['sensor'])){

//stuff

}else{
      //other stuff
} 
```

# silverlight - Silverlight TabItem 控件焦点问题

> ID：13639191
> 
> 赞同：0
> 
> 时间：2012-11-30T04:49:06.817
> 
> 标签：silverlight

我正在使用 Silverlight `tabcontrol`，问题是在选项卡之间移动时`tabitem`，控件的最后一个更改值会丢失。

有关如何解决此问题的任何想法？

# jquery - 如何从输入中返回带有 jQ uery 的字符串并将其写入不同的 html 元素

> ID：13639193
> 
> 赞同：1
> 
> 时间：2012-11-30T04:49:41.373
> 
> 标签：jquery, input, element

我正在使用这个：

```
var title = $('#input').val();
$('#titleset').click(function (){
    $('#title').html('<h1>' + title + '</h1>'); 
    alert(title);
}); 
```

尝试获取一个`input`框的值，然后当用户单击按钮时`#titleset`，将输入框中的值覆盖到`<h1>`已经存在的元素。我已经能够点击覆盖`<h1>`元素，但是标题变量中没有任何内容可以写入元素。那么我如何从`#input`id 返回一个字符串并将其写入 #title id 这是一个`<h1>`元素

这是我的html

```
<h1 id="title">This Title Changes To What You Want It To Be</h1>
<ul class="menu1">
    <li>menu one
        <ul>
            <li id='inputbox'><input type ="text" id="input"/></li>
            <li id="titleset1"><input type="button" value="set title" id="titleset"/></li>
        </ul>
    </li>
</ul> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T04:58:46.013

您需要在点击处理程序中访问输入的值：

```
$('#titleset').click(function (){
    var title = $('#input').val();
    $('#title').html('<h1>' + title + '</h1>'); 
    alert(title);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:47:08.117

这太简单了（*只需三行代码*）。尝试这个：

```
$('#titleset').click(function() {
    $('#title').html($('#input').val());
});​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:02:49.043

你应该这样使用：

```
$('#titleset').click(function (){
    $('#title').html('<h1>' + $('#input').val()+ '</h1>'); 
    alert(title);
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T05:02:55.250

你可以这样做，

***jQuery代码***

```
<script language="javascript" type="text/javascript">
$(function(){
    $('#titleset').click(function (){
        $('h1').html($('#input').val());
    });
});
</script> 
```

***html代码***

```
<h1>hello</h1>
<input name="" id="input" type="text" value="VALUE"/>
<input name="titleset" id="titleset" type="button" value="CLICK"/> 
```

# sql - 使用 LIKE 时如何转义方括号？

> ID：13639194
> 
> 赞同：4
> 
> 时间：2012-11-30T04:49:44.130
> 
> 标签：sql, sql-server, pattern-matching

> **可能重复：**
> [SQL Server LIKE 包含括号字符](https://stackoverflow.com/questions/3661125/sql-server-like-containing-bracket-characters)

我遇到了模式匹配的问题。我创建了两个对象，比如说，有代码

```
1)[blah1]
2)[blah2] respectively 
```

在搜索选项卡中，假设我将“[blah”作为模式，它返回所有字符串，即 [blah1] 和 [blah2]

查询是

```
select *
from table1 
where code like N'%[blah%' 
```

我想问题出在条件和特殊字符上。如果您有解决方案，请还原。有什么解决方案可以让我们转义字符“[”。我试图将条件更改为 N'%[[blah%'。但即便如此，它也会返回表中的所有对象。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T04:55:34.220

当您不关闭方括号时，不指定结果。

但是，当您关闭括号时，情况就不同了，即

```
select *
from table1 
where code like N'%[blah%]%' 
```

在这种情况下，它成为 的匹配项`(any) + any of ('b','l','a','h','%') + (any)`。对于 SQL Server，您可以使用 ESCAPE 子句转义字符。

```
select * from table1 where code like N'%\[blah%\]%' escape '\' 
```

[SQL Fiddle 示例](http://sqlfiddle.com/#!3/d2235/1/2)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T17:08:15.310

您可以通过这种方式转义文字括号字符：

```
select *
from table1 
where code like N'%[[]blah%' 
```

来源：[LIKE (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms179859.aspx)，在“使用通配符作为文字”部分下。

我想这是微软保持一致的方式，因为他们也使用括号来分隔表和列标识符。但是括号的使用不是标准的 SQL。就此而言，括号作为 LIKE 模式中的元字符也不是标准 SQL，因此在其他品牌的数据库中根本没有必要对其进行转义。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-11-30T05:05:16.920

根据我的理解，符号'['，在查询中没有任何作用。就像如果您使用符号和不使用符号进行查询一样，它会显示相同的结果。

您可以在 UI 级别跳过不需要的字符。

```
 select * from table1 where code like '%[blah%' 
  select * from table1 where code like '%blah%' 
```

两者都显示相同的结果。

# php - 表单仅处理页面上最后一个列表中的值（PHP/MySQL）

> ID：13639197
> 
> 赞同：-1
> 
> 时间：2012-11-30T04:49:45.803
> 
> 标签：php, mysql, sql, forms

我有一个表格供用户使用我们数据库中的食谱创建每日膳食计划。流程如下：

1) 管理员为所需日期的每餐（午餐和/或晚餐）选择 2 个食谱。这些选择将用于填充客户膳食选择列表。

2) 客户为所需日期的每餐选择 1 个食谱。

**问题：**

**该表单似乎只处理从页面上显示的最后一个列表中选择的值**，我不知道为什么。

这是我一直在使用的代码部分。（有需要我可以发更多）

```
// Create a new Meal Plan object
$MPObj = new MealPlan($date);
$MPObj->load($dbDate,$dbDate); // Just want this one day
$minshow = 1;
$defaultServings = 1;

// Read in a list of Meals and Recipes
$rc = DBUtils::fetchColumn( $db_table_meals, 'meal_name', 'meal_id', 'meal_id' );
$mealList = DBUtils::createList($rc, 'meal_id', 'meal_name');
array_unshift_assoc($mealList, 0, ""); // add an empty element to the list 
```

--

```
$sql = "SELECT mplan_date,
  mplan_recipe,
  recipe_name,
  meal_name,
  recipe_serving_size
  FROM recipe_mealplans
  LEFT JOIN $db_table_meals ON meal_id = mplan_meal   
  LEFT JOIN $db_table_recipes ON recipe_id = mplan_recipe
  WHERE mplan_date = '".mysql_real_escape_string($dbDate)."'
  AND mplan_owner = '".mysql_real_escape_string($user_SK)."'
  ORDER BY recipe_name";
  $rc = $DB_LINK->Execute($sql);
  DBUtils::checkResult($rc, NULL, NULL, $sql); 
```

--

```
while (!$rc->EOF) {
  if ($rc->fields['meal_name'] === "Lunch") {
  $recipeListLunch[($rc->fields['mplan_recipe'])] = $rc->fields['recipe_name'] . " (" . $rc->fields['recipe_serving_size'] . ")";
  }
  if ($rc->fields['meal_name'] === "Dinner") {
  $recipeListDinner[($rc->fields['mplan_recipe'])] = $rc->fields['recipe_name'] . " (" . $rc->fields['recipe_serving_size'] . ")";
  }
  $rc->MoveNext();
} 
```

--

```
<form action="index.php?m=meals&amp;dosql=update&amp;view=daily&amp;date=<?php echo $date; ?>" method="post" enctype="multipart/form-data">
<table cellspacing="1" cellpadding="4" border="0" width="80%" class="data">
<tr>
  <th align="center">Remove</th>
  <th align="center">Meal</th>
  <th align="center">Servings</th>
  <th align="center"></th>
  <th align="center">Menu Options</th>
</tr>
<?php
// Print out all the existing meals, and some new ones
for ($i = 0, $maxshow = 1; $i < (isset($MPObj->mealplanItems[$dbDate]) && ($i < $maxshow) ? count($MPObj->mealplanItems[$dbDate]) : 0) + $minshow; $i++) {
  if ($i < (isset($MPObj->mealplanItems[$dbDate]) ? count($MPObj->mealplanItems[$dbDate]) : 0)) {
    // If it is an existing meal item, then set it
    $meal = $MPObj->mealplanItems[$dbDate][$i]['meal'];
    $servings = $MPObj->mealplanItems[$dbDate][$i]['servings'];
    $recipe = $MPObj->mealplanItems[$dbDate][$i]['id'];
  } else {
    // It is a new one, give it blank values
    $meal = NULL;
    $servings = $defaultServings;
    $recipe = NULL;
  }

/* Display Meal Lists to select from */

// Lunch
echo '<tr>';
echo '<td align="center">';
echo '<input type="checkbox" name="delete_'.$i.'" value="yes"></td>';
echo '<td align="center">';
echo DBUtils::arrayselect($mealList, 'meal_id_'.$i, 'size=1', $meal);
echo '</td><td align="center">';
echo '<input type="text" autocomplete="off" name="servings_'.$i.'" value="' . $servings . '" size="3">';
echo '</td><td align="center">';
echo '<input type="hidden" autocomplete="off" name="repeat_'.$i.'" value="1" size="3"> ';
echo '</td><td align="center">';
echo DBUtils::arrayselect($recipeListLunch, 'recipe_id_'.$i, 'size=1', $recipe);
echo '</td></tr>';

// Dinner
echo '<tr>';
echo '<td align="center">';
echo '<input type="checkbox" name="delete_'.$i.'" value="yes"></td>';
echo '<td align="center">';
echo DBUtils::arrayselect($mealList, 'meal_id_'.$i, 'size=1', $meal);
echo '</td><td align="center">';
echo '<input type="text" autocomplete="off" name="servings_'.$i.'" value="' . $servings . '" size="3">';
echo '</td><td align="center">';
echo '<input type="hidden" autocomplete="off" name="repeat_'.$i.'" value="1" size="3"> ';
echo '</td><td align="center">';
echo DBUtils::arrayselect($recipeListDinner, 'recipe_id_'.$i, 'size=1', $recipe);
echo '</td></tr>';

} // end for
?>
</table>

<?php
if isset($recipeListLunch) || isset($recipeListDinner)) {
  echo '<input type="submit" value="Update Menu" class="button">';
}
?>
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T11:05:54.323

午餐和晚餐代码部分使用相同的`name`属性值。您需要给它们完全不同的名称或追加`[]`以创建一个数组。

**编辑**：例如，

```
echo '<input type="checkbox" name="delete_'.$i.'[]" value="yes"></td>'; 
```

注意属性`[]`值的双引号内。`name`你需要对他们所有人都这样做。我不熟悉，`DBUtils::arrayselect`所以我不确定以下是否可行。

```
echo DBUtils::arrayselect($mealList, 'meal_id_'.$i.'[]', 'size=1', $meal); 
```

但只要您有多个同名字段，它们就会相互覆盖。通过将这些字段制作成数组，您还需要更改处理表单的代码，以便它可以处理数组。

**编辑**：您也可以在午餐和晚餐部分之间增加 $i 而不是创建数组。在循环中增加 $i 需要更改`for`参数，但至少您不必更改处理表单的代码。

这`for`条线对我来说似乎很复杂（而且效率低下）。如果单行代码在循环的每次迭代中运行不必要的计算，它的效率并不高。如果我正确理解了意图，请尝试用`for`以下内容替换该行。

```
$maxshow = 1;
$num_items = isset($MPObj->mealplanItems[$dbDate]) ? count($MPObj->mealplanItems[$dbDate]) : 0;
if ($num_items + $minshow < $maxshow) $maxshow = $num_items + $minshow;
$maxshow = $maxshow * 2; //double it because we will be incrementing $i within the loop

for ($i = 0; $i < $maxshow; $i++) { 
```

然后在您原来的午餐和晚餐部分（没有的部分）之间添加以下行`[]`。

```
$i++; 
```

这有效地为每个字段分配了不同的名称，而无需创建数组。

# php - SQL：获取结果，但添加从数字 2000 开始的列

> ID：13639199
> 
> 赞同：0
> 
> 时间：2012-11-30T04:49:48.653
> 
> 标签：php, mysql, sql, database

我现在正在迁移数据，我需要为新的应用程序做好准备。这是我的查询：

```
SELECT pet.member_id, CONCAT(  'full_', pet.member_id,  '.', pet.image_ext ) AS post_thumbnail
FROM pet
WHERE pet.image_ext !=  "" 
```

我需要为 ID 添加一列......并且数字需要从开始`2000`并增加。

如何将其添加到此查询中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:05:42.593

您可以简单地添加一个带有数字 1999 的值。或者使用：

```
ALTER TABLE blabla AUTO_INCREMENT=100 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:07:35.043

尝试这个 ：

```
DBCC CHECKIDENT ('[{yourDb}].[dbo].[pet]', RESEED, 2000); 
```

它将重新设定您的身份列并从 2001 年开始。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:07:34.927

```
SELECT pet.member_id,
CONCAT(  'full_', pet.member_id,  '.', pet.image_ext ) AS post_thumbnail,
@rownum := @rownum + 1 AS ID
FROM pet, 
(SELECT @rownum := 1999) r
WHERE pet.image_ext !=  "" 
```

# java - 奇怪的行为动态生成的线性布局和图像视图到自定义单元适配器

> ID：13639206
> 
> 赞同：0
> 
> 时间：2012-11-30T04:50:45.460
> 
> 标签：java, android, eclipse

我正在尝试生成一个列表视图“facebook”样式，自定义单元格和每个单元格上的不同信息，一切正常，但缩略图库的反应非常奇怪。

画廊起初没有出现，但是当我向下滚动时，它出现在错误的单元格中，一旦我再次向上或向下滚动，它就会一直随机显示在错误的单元格中，并且它开始在其中一个单元格上加倍（显示 2，然后是 4，然后是 6……）

为此，我将线性布局（水平）动态添加到先前生成的线性布局（垂直）中，并根据需要生成图像视图并使缩略图可点击，以便在点击时显示完整尺寸的图片。

动态生成缩略图的代码工作正常，并且在我也使用它的另一个类上进行了测试，但是当我尝试在我的适配器中为自定义单元格使用它时没有向我显示图像。

缩略图的代码如下：

```
 if(!numPics.equals("0")){
                        imageGallery(gT, userId, trainingId);
                    } 
```

“imageGallery” void 的代码如下：

```
void imageGallery (LinearLayout gT, String userId, String trainingId){

        List<NameValuePair> nameValuePair = new ArrayList<NameValuePair>(1);
        nameValuePair.add(new BasicNameValuePair("trainingid" ,trainingId));
        nameValuePair.add(new BasicNameValuePair("userid", userId));

        String url = Common.thumbnail();
        String strPic = Common.doPost(url, nameValuePair);
        String fullImUrl = Common.fullImage();
        String fullImValue = Common.doPost(fullImUrl, nameValuePair);

        final Handler handler = new Handler();

        try{
            boolean fFlg2 = true;
            final String[] arrayFile;

            int startIdx1 = 0;
            int endIdx1 = 0;
            int startIdx2 = 0;
            int endIdx2 = 0;

            endIdx1 = fullImValue.indexOf(",", startIdx1);
            endIdx2 = strPic.indexOf(",",startIdx2);
            int ImageNum = Integer.valueOf(fullImValue.substring(startIdx1,endIdx1));
            int ImageNum2 = Integer.valueOf(strPic.substring(startIdx2,endIdx2));
            Log.d("string", "" + ImageNum2);
            String fileNames = fullImValue.substring(endIdx1+1);
            arrayFile = new String[ImageNum];

            String fileNames2 = strPic.substring(endIdx2+1);
            String strUrl2 = Common.server;

            int niv = 0;
            int nivrow = 0;

            LinearLayout ll = new LinearLayout(FriendsDiaries.this);
            LinearLayout.LayoutParams llp = new LinearLayout.LayoutParams(
                     LinearLayout.LayoutParams.WRAP_CONTENT,
                     LinearLayout.LayoutParams.WRAP_CONTENT);
            ll.setOrientation(LinearLayout.HORIZONTAL);
            boolean rowFlg = true;
            boolean row1Flg = true;

            for (int i=0; i< ImageNum2; i++){
                endIdx1 = fileNames.indexOf(",",startIdx1);
                endIdx2 = fileNames2.indexOf(",",startIdx2);
                String fileName = fileNames.substring(startIdx1,endIdx1);
                String thumUrl = strUrl2 + fileNames2.substring(startIdx2,endIdx2);
                arrayFile[i] = fileName;
                startIdx1 = endIdx1+1;

                ImageView iv = new ImageView(FriendsDiaries.this);

                Bitmap bmImg = null;
                URL myFileUrl =null; 

                try {
                 myFileUrl= new URL(thumUrl);
                 } catch (MalformedURLException e) {
                 e.printStackTrace();
                 }

                 try {
                 HttpURLConnection conn= (HttpURLConnection)myFileUrl.openConnection();
                 conn.setDoInput(true);
                 conn.connect();
                 InputStream is = conn.getInputStream();
                 bmImg = BitmapFactory.decodeStream(is);
                 final int position2 = niv;
                 niv++;

                 final int selectNum = position2;
                 iv.setImageBitmap(bmImg);
                 iv.setId(i+1);
                 final int id_ = iv.getId();
                 Log.e("a1", ""+ id_);
                 iv.setOnClickListener(new View.OnClickListener(){

                     public void onClick(View v){

                         handler.post(new Runnable(){
                                public void run(){
                                    moveScreen(arrayFile, selectNum);
                                }
                            });
                     }

                 });
                 nivrow++;
                 if(ImageNum2 > 4){
                     if(row1Flg){
                         if(nivrow<=4){
                             ll.addView(iv, llp);
                             if(nivrow==4){
                                 rowFlg = false;
                                 row1Flg = false;
                                 nivrow = 0;
                                 gT.addView(ll);
                             }else if(niv == ImageNum2){
                                 gT.addView(ll);
                             }
                         }
                     }else if(rowFlg == false){
                         LinearLayout nll = new LinearLayout(FriendsDiaries.this);
                         LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(
                                 LinearLayout.LayoutParams.WRAP_CONTENT,
                                 LinearLayout.LayoutParams.WRAP_CONTENT);
                         nll.setOrientation(LinearLayout.HORIZONTAL);
                         ll = nll;
                         rowFlg = true;
                         ll.addView(iv, lp);
                         if(niv == ImageNum2){
                             gT.addView(ll);
                         }
                     }else{
                         if(nivrow<=4){
                             ll.addView(iv,llp);
                             if(nivrow==4){
                                 rowFlg = false;
                                 nivrow = 0;
                                 gT.addView(ll);
                             }else if(niv == ImageNum2){
                                 gT.addView(ll);
                             }
                         }
                     }
                 }else{
                     ll.addView(iv,llp);
                     Log.w("string", ""+niv);
                     if(niv == ImageNum2){
                         gT.addView(ll);
                         boolean test = true;
                         Log.i("string", ""+ test);
                     }
                 }

                 } catch (IOException e) {
                 e.printStackTrace();
                 }
                    if(fFlg2){
                        startIdx2 += endIdx2+1;
                    }else{
                        startIdx2 = endIdx2+1;
                    }

                    fFlg2 = false;
            }

        }catch (Exception e) {
            e.printStackTrace();
        }
 } 
```

我找不到代码有什么问题，有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T03:44:29.120

好吧，我更正了在用于解码 JSON 数组的同一周期内根据需要动态生成所有单元格的行为，我认为我的问题是由使用列表视图小部件时单元格的回收引起的，但我不是 100%确定这一点，如果有人可以确认的话。

我想知道的是，从性能的角度来看，我使用列表视图小部件的方法是否有很大不同？

# c# - MVC URL 路由并发症

> ID：13639209
> 
> 赞同：2
> 
> 时间：2012-11-30T04:51:12.143
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-routing

我有一个项目，我希望能够表示以下不同类型的 URL 路径/路由。

```
{controller}/{section}
{controller}/{section}/{id}
{controller}/{section}/{organization}
{controller}/{section}/{id}/{key}
{controller}/{section}/{organization}/{id}
{controller}/{section}/{organization}/{id}/{key} 
```

我在**global.asax**中指定了路由映射，如下所示：

```
routes.MapRoute(
    "Section", // Route name
    "{controller}/{section}", // URL with parameters
    new { 
        controller = "Poll", 
        action = "Section",
        id = UrlParameter.Optional
    } // Parameter defaults
);

routes.MapRoute(
    "SectionMember", // Route name
    "{controller}/{section}/{id}", // URL with parameters
    new { 
        controller = "Poll", 
        action = "SectionMember",
        id = UrlParameter.Optional
    } // Parameter defaults
);

routes.MapRoute(
    "SectionOrganization", // Route name
    "{controller}/{section}/{organization}", // URL with parameters
    new { 
        controller = "Poll", 
        action = "SectionOrganization", 
        id = UrlParameter.Optional 
    } // Parameter defaults
);

routes.MapRoute(
    "SectionOrganizationMember", // Route name
    "{controller}/{section}/{organization}/{id}", // URL with parameters
    new { 
        controller = "Poll", 
        action = "SectionOrganizationMember", 
        id = UrlParameter.Optional 
    } // Parameter defaults
);

routes.MapRoute(
    "SectionMemberKey", // Route name
    "{controller}/{section}/{id}/{key}", // URL with parameters
    new { 
        controller = "Poll", 
        action = "SectionMemberKey", 
        id = UrlParameter.Optional 
    } // Parameter defaults
);

routes.MapRoute(
    "SectionOrganizationMemberKey", // Route name
    "{controller}/{section}/{organization}/{id}/{key}", // URL with parameters
    new { 
        controller = "Poll", 
        action = "SectionOrganizationMemberKey", 
        id = UrlParameter.Optional 
    } // Parameter defaults
); 
```

我的控制器中有以下代码：

```
public class PollController : Controller {
    public ActionResult Section(string section)  {
        return View();
    }

    public ActionResult SectionMember(string section, int id) {
        return View();
    }

    public ActionResult SectionOrganization(string section, string organization) {
        return View();
    }

    public ActionResult SectionOrganizationMember(string section, string organization, int id) {
        return View();
    }

    public ActionResult SectionMemberKey(string section, int id, string key) {
        return View();
    }

    public ActionResult SectionOrganizationMemberKey(string section, string organization, int id, string key) {
        return View();
    }

} 
```

URL 路由似乎有些复杂，因为当我尝试访问不需要的路由时，它会一直寻找 {id} 参数，反之亦然。

我的设置是否显示任何严重的重叠，或者我完全错过了什么？

**编辑**

我将使用的一些示例 URL 如下：

*   [http://mysite.com/Poll/section](http://mysite.com/Poll/section)
*   [http://mysite.com/Poll/section/1234](http://mysite.com/Poll/section/1234)
*   [http://mysite.com/Poll/section/organization/](http://mysite.com/Poll/section/organization/)
*   [http://mysite.com/Poll/section/1234/key](http://mysite.com/Poll/section/1234/key)
*   [http://mysite.com/Poll/section/organization/1234](http://mysite.com/Poll/section/organization/1234)
*   [http://mysite.com/Poll/section/organization/1234/key](http://mysite.com/Poll/section/organization/1234/key)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:02:48.673

注意一些项目。

*   路线配置中路线的位置很重要，如果您将路线从复杂到简单放置会更好。
*   如果您没有可选的 id，请不要指定它。
*   您应该应用内置路由约束，因为当从`/Poll/section/1234`和中选择时，路由系统不知道哪条路由是正确的`/Poll/section/organization/`。

结果，您的路线配置应如下所示

```
 routes.MapRoute(
        "SectionOrganizationMemberKey", // Route name
        "{controller}/{section}/{organization}/{id}/{key}", // URL with parameters
        new { controller = "Poll", action = "SectionOrganizationMemberKey" } // Parameter defaults
    );

    routes.MapRoute(
        "SectionOrganizationMember", // Route name
        "{controller}/{section}/{organization}/{id}", // URL with parameters
        new { controller = "Poll", action = "SectionOrganizationMember" }, // Parameter defaults
        new { id = @"\d+" }
    );

    routes.MapRoute(
        "SectionMemberKey", // Route name
        "{controller}/{section}/{id}/{key}", // URL with parameters
        new { controller = "Poll", action = "SectionMemberKey" } // Parameter defaults
    );

    routes.MapRoute(
        "SectionMember", // Route name
        "{controller}/{section}/{id}", // URL with parameters
        new { controller = "Poll", action = "SectionMember" }, // Parameter defaults
        new { id = @"\d+" }
    );

    routes.MapRoute(
        "SectionOrganization", // Route name
        "{controller}/{section}/{organization}", // URL with parameters
        new { controller = "Poll", action = "SectionOrganization" }
    );

    routes.MapRoute(
        "Section", // Route name
        "{controller}/{section}", // URL with parameters
        new { controller = "Poll", action = "Section" } // Parameter defaults
        ); 
```

我已经测试过了，工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:05:44.630

作为约束的替代方案，例如，如果很难找到合适的约束，您可以做的一件事是使用*混合段*，即为其中一个添加一些前缀，例如，使用`member-{id}`代替`{id}`：

```
routes.MapRoute(
    "Section", // Route name
    "{controller}/{section}", // URL with parameters
    new
    {
        controller = "Poll",
        action = "Section",
    } // Parameter defaults
);

routes.MapRoute(
    "SectionMember", // Route name
    "{controller}/{section}/member-{id}", // URL with parameters
    new
    {
        controller = "Poll",
        action = "SectionMember",
    } // Parameter defaults
);

routes.MapRoute(
    "SectionOrganization", // Route name
    "{controller}/{section}/{organization}", // URL with parameters
    new
    {
        controller = "Poll",
        action = "SectionOrganization",
    } // Parameter defaults
);

routes.MapRoute(
    "SectionOrganizationMember", // Route name
    "{controller}/{section}/{organization}/member-{id}", // URL with parameters
    new
    {
        controller = "Poll",
        action = "SectionOrganizationMember",
    } // Parameter defaults
);

routes.MapRoute(
    "SectionMemberKey", // Route name
    "{controller}/{section}/member-{id}/{key}", // URL with parameters
    new
    {
        controller = "Poll",
        action = "SectionMemberKey",
    } // Parameter defaults
);

routes.MapRoute(
    "SectionOrganizationMemberKey", // Route name
    "{controller}/{section}/{organization}/member-{id}/{key}", // URL with parameters
    new
    {
        controller = "Poll",
        action = "SectionOrganizationMemberKey",
    } // Parameter defaults
); 
```

显然，您将获得以下路线：

1.  [http://mysite.com/Poll/section](http://mysite.com/Poll/section)
2.  [http://mysite.com/Poll/section/member-1234](http://mysite.com/Poll/section/member-1234)
3.  [http://mysite.com/Poll/section/organization/](http://mysite.com/Poll/section/organization/)
4.  [http://mysite.com/Poll/section/member-1234/key](http://mysite.com/Poll/section/member-1234/key)
5.  [http://mysite.com/Poll/section/organization/member-1234](http://mysite.com/Poll/section/organization/member-1234)
6.  [http://mysite.com/Poll/section/organization/member-1234/key](http://mysite.com/Poll/section/organization/member-1234/key)

测试过了，应该可以正常工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:40:41.020

尝试这个

```
routes.MapRoute(
    "Section", // Route name
    "{controller}/{ action }", // URL with parameters
    new { 
        controller = "Poll", 
        action = "Section"

    } // Parameter defaults
);

routes.MapRoute(
    "SectionMember", // Route name
    "{controller}/{ action }/{id}", // URL with parameters
    new { 
        controller = "Poll", 
        action = "SectionMember",
        id = UrlParameter.Optional
    } // Parameter defaults
);

routes.MapRoute(
    "SectionOrganization", // Route name
    "{controller}/{ action }/{organization}", // URL with parameters
    new { 
        controller = "Poll", 
        action = "SectionOrganization",
 organization= UrlParameter.Optional 
    } // Parameter defaults
);

routes.MapRoute(
    "SectionOrganizationMember", // Route name
    "{controller}/{ action }/{organization}/{id}", // URL with parameters
    new { 
        controller = "Poll", 
        action = "SectionOrganizationMember", 
        organization= UrlParameter.Optional ,
        id = UrlParameter.Optional 
    } // Parameter defaults
);

routes.MapRoute(
    "SectionMemberKey", // Route name
    "{controller}/{ action }/{id}/{key}", // URL with parameters
    new { 
        controller = "Poll", 
        action = "SectionMemberKey", 
        id = UrlParameter.Optional,
        key = UrlParameter.Optional
    } // Parameter defaults
);

routes.MapRoute(
    "SectionOrganizationMemberKey", // Route name
    "{controller}/{action }/{organization}/{id}/{key}", // URL with parameters
    new { 
        controller = "Poll", 
        action = "SectionOrganizationMemberKey", 
organization= UrlParameter.Optional ,
        id = UrlParameter.Optional,
key = UrlParameter.Optional

    } // Parameter defaults
); 
```

# javascript - 选择框中的 Google API 字体

> ID：13639211
> 
> 赞同：0
> 
> 时间：2012-11-30T04:51:25.410
> 
> 标签：javascript, html, css, google-font-api

[https://stackoverflow.com/q/5065542/1716774](https://stackoverflow.com/q/5065542/1716774)
我喜欢在我的[小提琴中应用相同的功能](http://jsfiddle.net/vivekdx/pJHnD/2/)

HTML

```
 <select id="styleFont">
          <option value="0">Myraid Pro</option>
          <option value="1">Sans ref</option>
          <option value="2">Times New Roman</option>
          <option value="3"> Arial</option>
 </select>
 <br>
  <textarea id="custom_text"></textarea> 
```

CSS

```
 #custom_text{ resize: none;}​ 
```

脚本

```
 $("#styleFont").change(function () {
     var id =$('#styleFont option' + ':selected').text();    
    $("#custom_text").css('font-family',id);
    });​ 
```

我尝试使用在我的选择框中添加 google API 字体

> [https://www.googleapis.com/webfonts/v1/webfonts?key=YOUR-API-KEY](https://www.googleapis.com/webfonts/v1/webfonts?key=YOUR-API-KEY)

如何将它添加到我的小提琴中

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-07T10:21:34.527

使用 JSONP 请求并将每个返回的字体添加到选择中：

```
function SetFonts(fonts) { 
    for (var i = 0; i < fonts.items.length; i++) {      
     $('#styleFont')
         .append($("<option></option>")
         .attr("value", fonts.items[i].family)
         .text(fonts.items[i].family));
    }    
}
var script = document.createElement('script');
script.src = 'https://www.googleapis.com/webfonts/v1/webfonts?key=API_KEY&callback=SetFonts';
document.body.appendChild(script); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T05:13:30.973

Google Fonts API 调用返回 JSON，因此您需要 JavaScript 来迭代 JSON 结果并用它填充 SELECT。此外，当用户选择其中一种字体时，您需要使用用户选择的项目动态包含来自 Google 的正确脚本。[阅读](https://developers.google.com/webfonts/docs/developer_api#Details)API 文档的这一部分，了解如何执行此操作的详细信息。

# android - 你能在 onDestroy() 中分离一个片段吗？

> ID：13639214
> 
> 赞同：1
> 
> 时间：2012-11-30T04:51:30.710
> 
> 标签：android

这是我遇到的问题。我有一个活动 A，它有一个片段 F，它包含在 FragmentPagerAdapter FPA 中，它在视图 V 中。（A->V->FPA->F）

当 A 被销毁（或者在这种情况下，被换出）时，F 被附加，并且在 FPA 中，它在 V 中。但是，当 A 被重新创建时（例如，有人将返回按钮返回到活动中），V并且 FPA 不存在，所以 F 被重新创建（处于附加状态！），但是对于不存在的东西，所以它根本不在视图层次结构中。然后，当 FPA 尝试在该片段上实例化State 时，它​​会尝试附加它，这什么也不做，因为它已经附加到稀薄的空气中。

显然有几种方法可以解决这个问题（例如，在活动的 onCreate 中存在 V 和 FPA，以便片段在创建时有去处），但我想继续懒惰地创建 FPA 和仅在需要时使用。

因此，似乎需要在 onDestroy() 中将 F 的状态更新为分离。但是，状态保存在 onPause() 中，这意味着我在这里有点不走运。

有没有办法在 A 的 onDestroy() 中更新 F 的保存状态？有没有办法说“如果活动被破坏，不要再水化这个片段”？还有其他一些我没有考虑的明显的思考方式吗？感觉就像我在这里做错了事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T09:25:21.757

我遇到了麻烦`FragmentPagers`。我所做的是在 Activity 中传递一个空包，`onCreate()`然后在每次创建时从头开始创建所有内容。像这样：

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(null);
    // do my stuff
} 
```

这样，在重新创建活动时，片段不会被传递。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T09:59:11.170

你写了：

> 还有其他一些我没有考虑的明显的思考方式吗？

这不会直接回答您的标题问题，而是为如何`Fragment`在`ViewPager`.

您可以通过在初始化 的中标记 来保存销毁`Fragment`时的状态：`Activity``Fragment``Activity``Fragment`

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.photos_pager_activity);

    MyImageFragment fragment;
    if (savedInstanceState != null) {
        fragment = (MyImageFragment) getFragmentManager().findFragmentByTag("my_image_fragment_tag");
    } else {
        fragment = new MyImageFragment();
        getFragmentManager().beginTransaction().add(android.R.id.content, fragment, "my_image_fragment_tag").commit(); 
    } 
```

也可以看看：

[片段标签的使用](https://stackoverflow.com/questions/13509495/uses-of-fragment-tags)

[ViewPager 和 Fragment — 存储 Fragment 状态的正确方法是什么？](https://stackoverflow.com/questions/7951730/viewpager-and-fragments-whats-the-right-way-to-store-fragments-state)

# python - 创建一个在屏幕上滚动的正方形

> ID：13639219
> 
> 赞同：0
> 
> 时间：2012-11-30T04:52:01.650
> 
> 标签：python, algorithm, graphics

这是一个使用 Python 的计算机科学作业，有人知道我会从哪里开始创建一个算法来创建一个在屏幕上滚动的正方形或盒子吗？我确实是指滚动，而不是滑动。它不一定必须使用python，我只需要一个关于坐标如何工作的一般想法和一般算法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:13:45.570

如果一个单位正方形开始时一侧位于 x 轴上，右下角位于 (xs, 0) 处，则顺时针旋转四分之一圈后，它的一侧将再次位于 x 轴上，而下方现在在 (xs+1, 0) 的右角。在它转动之前，将左下角标记为a；左上角，b；和右上角，c。当正方形转动时，角 a 和 c 沿单位圆的弧移动。角 b 以半径 d = sqrt(2) 移动。

这导致以下方法：步距角 t 从 0 到 pi/2（即 90°），令
• xa = xs - cos t
• ya = sin t
• xb = xs - d*cos(t+pi/4)
• yb = d*sin(t+pi/4)
• xc = xs + sin t
• yc = cos t

在每个时间步，通过绘制背景色线擦除旧正方形，从方程计算新的 (xa,ya,xb,yb,xc,yc)，用从 (xs,0) 到 (xa,yb) 的线绘制新正方形) 到 (xc,yc) 到 (xd,yd) 到 (xs,0)，然后延迟适当的量。每次 t 达到 pi/2 时，将 t 设置回 0 并将 xs 加 1。请注意，与其擦除整个正方形然后绘制新的，不如尝试擦除一条旧线并为四个边依次绘制一条新线。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:27:21.040

我会首先考虑盒子在一个角落从一侧旋转到另一侧，然后按顺序组合这些步骤来解决这个问题。也就是说，如果你有一个像

```
A ---- B
|      |
C ---- D 
```

向右滚动，然后首先整个东西围绕 D 旋转，直到你有

```
 C - A
       |   |
       |   |
       |   |
       |   |
       D - B 
```

该步骤是将原点 D 周围的所有点直接顺时针旋转 0 到 90 度之间的角度 theta。我将把这个问题留给提问者和/或维基百科；）。

一旦你弄清楚了那一步，旋转的下一部分是相同的，除了现在你围绕 B 而不是 D 旋转。这会让你

```
 D ---- C
           |      |
           B ---- A 
```

因此，在较高的层次上，我将通过首先计算出最近的“平面”配置来计算角点在时间 t 的位置，然后确定哪个角在前面，然后根据如何围绕前角旋转点自从广场处于那种平坦状态以来，已经过去了很长时间。

作为奖励提示， divmod 是 python 中的一个很好的函数，用于将时间戳分成一对（我在哪一步，我离那一步有多远）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:47:45.043

您也可以完全打破作业的精神，使用 pybox2d、pymunk 或其他物理引擎为您完成所有计算。然后你可以有很多盒子滚动并相互弹跳：D

# c++ - 如何使用 Visual Studio 2010 使用 C++ 中的 OpenNI 库将数据从 Kinect 发送到 Arduino？

> ID：13639220
> 
> 赞同：0
> 
> 时间：2012-11-30T04:52:10.653
> 
> 标签：c++, visual-studio-2010, serial-port, arduino, kinect

我正在开发一个项目，该项目从用户那里获取右手和左手的值，然后将数据发送到 Arduino。我目前的问题是 Arduino 没有收到我能说的任何信息。现在我们将其设置为 5V；如果它收到“2”或“3”并且设置为 0V。当我们在 Arduino 和 Kinect 上运行程序时，我们从未看到引脚的输出降至 0V。

我拥有的完整代码是：

```
#pragma region Includes
//---------------------------------------------------------------------------
// Includes
//---------------------------------------------------------------------------
#include <XnOS.h>
#include <GL/glut.h>
#include <math.h>
#include <XnCppWrapper.h>

using namespace xn;

#pragma endregion

#pragma region Defines
//---------------------------------------------------------------------------
// Defines
//---------------------------------------------------------------------------
#define SAMPLE_XML_PATH "../Data/SamplesConfig.xml"

// Pose to Use Added
#define POSE_TO_USE "Psi"
#pragma endregion

#pragma region Global Nodes
//---------------------------------------------------------------------------
// Globals
//---------------------------------------------------------------------------
// Nodes Added for Skeletal Tracking
UserGenerator g_UserGenerator;
#pragma endregion

#pragma region Functions
// Functions Added for Skeletal Tracking

void XN_CALLBACK_TYPE User_NewUser(xn::UserGenerator& generator, XnUserID nId, void* pCookie)
{
    printf("New User: %d\n", nId);
    g_UserGenerator.GetPoseDetectionCap().StartPoseDetection(POSE_TO_USE, nId);
}

void XN_CALLBACK_TYPE User_LostUser(xn::UserGenerator& generator, XnUserID nId, void* pCookie)
{}

void XN_CALLBACK_TYPE Pose_Detected(xn::PoseDetectionCapability& pose, const XnChar* strPose, XnUserID nId, void* pCookie)
{
    printf("Pose %s for user %d\n", strPose, nId);
    g_UserGenerator.GetPoseDetectionCap().StopPoseDetection(nId);
    g_UserGenerator.GetSkeletonCap().RequestCalibration(nId, TRUE);
}

void XN_CALLBACK_TYPE Calibration_Start(xn::SkeletonCapability& capability, XnUserID nId, void* pCookie)
{
    printf("Starting calibration for user %d\n", nId);
}

void XN_CALLBACK_TYPE Calibration_End(xn::SkeletonCapability& capability, XnUserID nId, XnBool bSuccess, void* pCookie)
{
    if (bSuccess)
    {
        printf("User calibrated\n");
        g_UserGenerator.GetSkeletonCap().StartTracking(nId);
    }
    else
    {
        printf("Failed to calibrate user %d\n", nId);
        g_UserGenerator.GetPoseDetectionCap().StartPoseDetection(POSE_TO_USE, nId);
    }
}
#pragma endregion

int main(int argc, char* argv[])
{
    //System::IO::Ports::SerialPort^  serialPort1;
    //serialPort1 = (gcnew System::IO::Ports::SerialPort(this->components));
    //serialPort1->PortName="COM3";

    XnStatus nRetVal = XN_STATUS_OK;

    Context context;
    nRetVal = context.Init();
    // TODO: check error code

    // Create the user generator
    nRetVal = g_UserGenerator.Create(context);
    // TODO: check error code

    XnCallbackHandle h1, h2, h3;
    g_UserGenerator.RegisterUserCallbacks(User_NewUser, User_LostUser, NULL, h1);
    g_UserGenerator.GetPoseDetectionCap().RegisterToPoseCallbacks(Pose_Detected, NULL, NULL, h2);
    g_UserGenerator.GetSkeletonCap().RegisterCalibrationCallbacks(Calibration_Start, Calibration_End, NULL, h3);

    // Set the profile
    g_UserGenerator.GetSkeletonCap().SetSkeletonProfile(XN_SKEL_PROFILE_ALL);
    // Start generating
    nRetVal = context.StartGeneratingAll();
    // TODO: check error code
    printf("Start Pose:\n");

    while (TRUE)
    {
        // Update to next frame
        nRetVal = context.WaitAndUpdateAll();
        // TODO: check error code
        // Extract hand position of each tracked user
        XnUserID aUsers[1];
        XnUInt16 nUsers = 1;
        g_UserGenerator.GetUsers(aUsers, nUsers);
        for (int i = 0; i < nUsers; ++i)
        {
            if (g_UserGenerator.GetSkeletonCap().IsTracking(aUsers[i]))
            {
                //serialPort1->Open();

                //Get head position
                /*XnSkeletonJointPosition Head;
                g_UserGenerator.GetSkeletonCap().GetSkeletonJointPosition(aUsers[i], XN_SKEL_HEAD, Head);
                printf("%d: (%f,%f,%f) [%f]\n", aUsers[i], Head.position.X, Head.position.Y, Head.position.Z, Head.fConfidence);*/

                //Get right hand position
                XnSkeletonJointPosition RightHand;
                g_UserGenerator.GetSkeletonCap().GetSkeletonJointPosition(aUsers[i], XN_SKEL_LEFT_HAND, RightHand);
                printf("%d: (%f,%f,%f) [%f]\n", aUsers[i], RightHand.position.X, RightHand.position.Y, RightHand.position.Z, RightHand.fConfidence);

                //http://stackoverflow.com/questions/13547574/visual-studio-2010-arduino-serial-communication
                int portspeed;
                int centerpix;
                int xmid;
                HANDLE hDevice = CreateFile("COM7",GENERIC_READ | GENERIC_WRITE,FILE_SHARE_READ | FILE_SHARE_WRITE,NULL,OPEN_EXISTING,0,0);
                DCB lpTest;
                GetCommState(hDevice,&lpTest);
                lpTest.BaudRate = CBR_9600;
                lpTest.ByteSize = 8;
                lpTest.Parity = NOPARITY;
                lpTest.StopBits = ONESTOPBIT;
                SetCommState(hDevice,&lpTest);
                DWORD btsIO;

                if (RightHand.position.X<0)
                {
                    char test[] = "2";
                    WriteFile(hDevice,test,strlen(test),&btsIO,NULL);
                    printf("Right ");
                }
                else
                {
                    char test[] = "3";
                    WriteFile(hDevice,test,strlen(test),&btsIO,NULL);
                    printf("Left");
                }
                FlushFileBuffers(hDevice);
            }
            else
            {
                printf("Not tracking.\n");
            }
        }
    }

    // Clean up
    context.Shutdown();

    return 0;
}` 
```

Arduino的代码是：

```
int incomingByte = 0;   // For incoming serial data
void setup()
{
    Serial.begin(9600);     // Opens serial port, sets data rate to 9600 bit/s
}

void loop()
{
    // Send data only when you receive data:
    //if (Serial.available() > 0)
    //{
        incomingByte = Serial.read();
        if (incomingByte==50)   //if =2
            analogWrite(9,0);
        //else
         //   analogWrite(9,0);

        if (incomingByte==51)   //if =3
            analogWrite(9,255);
        //else 
        //    analogWrite(9,0);

        delay(3000);
    //}
    //else
    //    analogWrite(9,255);
} 
```

每次 Kinect 接收到用户右手的新值时，此代码当前都处于 while 循环中。

有什么我可以在我的代码中修复或使用不同的代码吗？

# javascript - 如何使用 jquery 捕获 500 错误消息？

> ID：13639225
> 
> 赞同：16
> 
> 时间：2012-11-30T04:53:02.330
> 
> 标签：javascript, jquery, ajax

如何使用 jquery 捕获 500 错误消息？我想继续检查 500 错误消息一段时间，直到它发生变化并在 50 秒后超时。

我使用下面的代码尝试捕获并检查 500 错误消息，但它似乎没有捕获 500 错误消息。我可以在萤火虫中看到它

```
$.ajax({
    statusCode: {
        500: function() {
            alert(" 500 data still loading");
            console.log('500 ');
        }
    }
}); 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-30T05:00:27.503

尽管@Danny 提到了已接受的答案，但您也可以在较新版本的 jQuery 中执行此操作。

```
var xhr = $.ajax({
    url: "somewhere"
});

xhr.fail(function(xhr, textStatus, error) {
    // Error handling stuff here ...
}); 
```

请参阅[延迟对象](http://api.jquery.com/category/deferred-object/)。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-30T04:57:12.863

你是否`url`像`$.ajax`下面这样失踪

```
$.ajax({
    url: "/path to page",
    statusCode: {
        500: function() {
            alert(" 500 data still loading");
            console.log('500 ');
        }
    }
}); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-30T04:57:28.403

您可以检查ajax post的错误状态，请检查以下代码。

```
 $.ajax({
        .....
        success: function (data) {

        },
        complete: function (XMLHttpRequest, textStatus) {

        },
        error: function (e, status) {

            if (e.status == 404)
                alert("404 error");
        }
    }); 
```

谢谢

# c - 创建生成文件

> ID：13639230
> 
> 赞同：1
> 
> 时间：2012-11-30T04:53:48.733
> 
> 标签：c, makefile

所以我必须创建一个生成下面描述的应用程序的生成文件，并确保每个生成的文件都有自己的规则。

对于 makefile：第一个工具是 flex，它接受一个名为的文件`spec.l`并生成一个名为`lex.yy.c`. 另一个名为 bison 的工具需要一个文件`calledspec.y`并将生成该文件`spec.tab.c`。如果使用指令调用 bison `-vd`，它还将生成一个名为的文件`spec.tab.h`（编译 lex.yy.c 时需要该文件）。这两个 C 文件可以编译成目标文件，然后与 yacc (-ly) 和 lex (-ll) 库链接在一起以生成编译器 ( `a.out`。如果您只是从 spec 开始，您描述的 makefile 必须生成以下命令.l 和 spec.y：

```
flex spec.l
bison -vd spec.y
gcc -c lex.yy.c
gcc -c spec.tab.c
gcc spec.tab.o lex.yy.o -ly -ll 
```

我不知道从哪里开始解决这个问题

编辑：到目前为止我所拥有的

```
compiler: spec.tab.o lex.yy.o
gcc spec.tab.o lex.yy.o -ly –ll
lex.yy.c: spec.l
flex spec.l
spec.tab.c: spec.y
bison -vd spec.y
spec.tab.o: spec.tab.c
gcc -c spec.tab.c
lex.yy.o: lex.yy.c spec.tab.h
gcc –c lex.yy.c
clean:
rm –f *.c *.o a.out 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:08:52.730

你必须告诉 make 关于依赖关系。例如，`lex.yy.c`取决于 spec.l：

```
lex.yy.c: spec.l
    flex spec.l 
```

第一行说`lex.yy.c`取决于`spec.l`. 第二个告诉如何生成更新版本的`lex.yy.c`何时`spec.l`更新。我们几乎在其他文件中重复了这种模式。在 的情况下`calledspec.y`，我们有两个从相同的输入/命令产生的结果。至少使用 GNU make，您可以像这样指定：

```
spec.tab.c spec.tab.h: calledspec.y
    bison -vd calledspec.y 
```

然后，您几乎重复了头文件和 C 文件上`.o`（或`.obj`等）文件的依赖关系的过程：

```
lex.yy.o: lex.yy.c spec.tab.h
   $(cc) -c lex.yy.c 
```

最后一点：除非您另外指定，否则 make 将构建 makefile 中指定的*第一个*目标，因此您通常希望首先将其与最终可执行文件一起安排，然后再安排其他目标：

```
parser: lex.yy.o y.tab.o
    $(cc) -o parser lex.yy.o y.tab.o

lex.yy.o: lex.yy.c spec.tab.h
    $(cc) -c lex.yy.c 
```

等等。但这仅适用于目标，不适用于宏，因此您通常会看到以下内容：

```
cflags = -O2 
```

...在 make 文件的开头。然后调用编译器的行将使用它，例如：

```
lex.yy.o: lex.yy.c spec.tab.h
    $(cc) $(cflags) -c lex.yy.c 
```

并且当它被执行时，`cflags`宏将被扩展，所以被执行的命令是`gcc -O2 -c lex.yy.c`（并且它预定义`cc`了它通常期望使用的编译器的名称，所以微软的 make 将它设置为`cl`， GNU`gcc`等）

# iphone - 如何使用 iPhone SDK 从 SQLite db 获取原始特殊字符？

> ID：13639232
> 
> 赞同：0
> 
> 时间：2012-11-30T04:53:55.330
> 
> 标签：iphone, objective-c, ios, cocoa-touch, sqlite

我正在将 HTML 内容（具有项目符号等特殊字符）插入 SQLite 数据库。

当我尝试在视图上获取内容时，它没有正确显示特殊字符。它向我显示垃圾文本。

如何确保我在数据库中插入的任何文本都正确显示在视图中。

谢谢！

我的插入代码：

// 这个查询方法实现在不同的文件中

```
- (NSArray *)executeQuery:(NSString *)sql arguments:(NSArray *)args {
    sqlite3_stmt *sqlStmt;

    if (![self prepareSql:sql inStatament:(&sqlStmt)])
        return nil;

    int i = 0;
    int queryParamCount = sqlite3_bind_parameter_count(sqlStmt);
    while (i++ < queryParamCount)
        [self bindObject:[args objectAtIndex:(i - 1)] toColumn:i inStatament:sqlStmt];

    NSMutableArray *arrayList = [[NSMutableArray alloc] init];   // By Devang
    int columnCount = sqlite3_column_count(sqlStmt);
    while ([self hasData:sqlStmt]) {
        NSMutableDictionary *dictionary = [[NSMutableDictionary alloc] init];
        for (i = 0; i < columnCount; ++i) {
            id columnName = [self columnName:sqlStmt columnIndex:i];
            id columnData = [self columnData:sqlStmt columnIndex:i];
            [dictionary setObject:columnData forKey:columnName];
        }
        [arrayList addObject:dictionary];

        //[arrayList addObject:[dictionary autorelease]];
    }

    sqlite3_finalize(sqlStmt);

    return arrayList;
} 
```

// 现在通过 make 对象为这个文件调用这个方法

```
NSString *inserQuery =[NSString stringWithFormat:@"insert into feedtest (title,summary,image,id) values ('%@','%@','%@',%d)",cell.textLabel.text,source,returnURL,indexPath.row];
        NSLog(@"query - %@",inserQuery);

    [database executeQuery:inserQuery]; 
```

// 取回数据

```
NSString *sd=[NSString stringWithFormat:@"Select title,summary from feedtest"];

    NSMutableArray *p=[[NSMutableArray alloc]init];
    p=[[database executeQuery:sd ] mutableCopy];
    [database close];

    NSString *titleHTML = [[p objectAtIndex:i]valueForKey:@"title"];
    NSString *postHTML =[[p objectAtIndex:i]valueForKey:@"summary"];
    NSLog(@"%@",titleHTML);
    NSLog(@"%@",postHTML); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T05:02:53.513

您可以使用 FireFox 插件 SQLite 检查您的本地数据库。但是，有时在检索时我们会遇到奇怪的问题，例如存储中的内容无法正常运行，有时还会出现崩溃。所以我的建议是你应该检查编码方案（通常，这并不重要）并且在获取数据时使用这个：

```
[NSString stringWithFormat:@"%s",(const char*)sqlite3_column_text(statement, 4)] ; 
```

代替：

```
[NSString stringWithUTF8String:(const char*)sqlite3_column_text(statement, 4)]; 
```

希望，这就是你要找的。任何问题都可以回复我。:)

# java - 命名空间之间的 jaxB 冲突

> ID：13639242
> 
> 赞同：2
> 
> 时间：2012-11-30T04:55:16.277
> 
> 标签：java, binding, namespaces, jaxb

我在 jaxB 类生成中遇到了一些对象冲突，我知道我可以做一些事情，比如使用自定义绑定文件来解决冲突，但是，这种冲突发生在使用不同命名空间的单独文件中的两个同名元素之间。他们有不同的命名空间这一事实不就足够了吗？

```
parsing a schema...
compiling a schema...
[ERROR] A class/interface with the same name "code.NameType" is already in use. Use a class customization to resolve this conflict.
  line 215 of file:/C:/Workspace/schemaGen/SchemaGen/src/schemas/Core.xsd

[ERROR] (Relevant to above error) another "NameType" is generated from here.
  line 47 of file:/C:/Workspace/schemaGen/SchemaGen/src/schemas/SearchCore.xsd 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-05T00:11:02.103

冲突不是命名空间的问题，而是 QName 生成的问题。那就是他们发生冲突的地方。

我发现有 3 个选项可以解决此问题：

1.  将 XSD 中的类重命名为其他名称以避免该问题。
2.  创建绑定文件以在生成时重新映射类
3.  从下到上生成类，制作剧集文件并每次指定一个新包，以便对象不会在同一个包中发生冲突。

# python - Python如何保存HTTP cookie

> ID：13639244
> 
> 赞同：5
> 
> 时间：2012-11-30T04:55:33.173
> 
> 标签：python, cookies, httprequest, urllib2, cookielib

我用这件作品

```
cj = cookielib.LWPCookieJar()
cookie_support = urllib2.HTTPCookieProcessor(cj)
opener = urllib2.build_opener(cookie_support, urllib2.HTTPHandler)
urllib2.install_opener(opener)

// ..... log in with username and password. 
// urllib2.urlopen() to get the stuff I need. 
```

现在，我如何保存 cookie 并将过期日期设置为永远，这样下次我就不必再次使用用户名和密码登录了。可以直接用`urllib2.urlopen()`吗？

“下一次”是指程序结束后，当我启动一个新程序时，我可以从磁盘重新加载 cookie 并使用它

非常感谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-30T04:58:19.230

我强烈推荐使用 Requests HTTP 库。它会为你处理这一切。

[http://docs.python-requests.org/en/latest/](http://docs.python-requests.org/en/latest/)

```
import requests
sess = requests.session()
sess.post("http://somesite.com/someform.php", data={"username": "me", "password": "pass"})
#Everything after that POST will retain the login session
print sess.get("http://somesite.com/otherpage.php").text 
```

编辑：要将会话保存到磁盘，有很多方法。您可以执行以下操作：

```
from requests.utils import cookiejar_from_dict as jar
cookies = jar(sess.cookies) 
```

然后阅读以下文档。您可以将其转换为 FileCookieJar 并将 cookie 保存到文本文件中，然后在程序开始时加载它们。

[http://docs.python.org/2/library/cookielib.html#cookiejar-and-filecookiejar-objects](http://docs.python.org/2/library/cookielib.html#cookiejar-and-filecookiejar-objects)

或者，您可以腌制 dict 并将该数据保存到文件中，然后使用`pickle.load(file)`.

[http://docs.python.org/2/library/pickle.html](http://docs.python.org/2/library/pickle.html)

编辑 2：要处理过期，您可以按如下方式遍历 CookieJar。`cj`被假定为以某种方式获得的 CookieJar。

```
for cookie in cj:
    if cookie.is_expired():
        #re-attain session 
```

要检查是否有任何 cookie 过期，这样做可能更方便`if any(c.is_expired() for c in cj)`。

# html - 父 div 没有环绕其子 div - 缺少 clearFloat 可能是问题

> ID：13639246
> 
> 赞同：1
> 
> 时间：2012-11-30T04:55:37.213
> 
> 标签：html, css

我的一个 div 有一个小问题，#divSidebar 没有环绕它的子 div。这可能是我可能忽略的一些小问题，但我已经为此大惊小怪了一段时间。我相信这与失踪有关。我可以将内容放到一边，但我必须添加一个浮动到右侧的 innerSideBar div。

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html itemscope itemtype="http://schema.org/Blog" xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#">
<head>
<title>Welcome to TutorialHelp!</title>
<link href="css/tutorialHelp.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div id="divHeaderContainer">
<div id="divHeader">
<div id="divLogo"></div>
<div id="divNavigtation">
<div id="divNavMenu">
<ul>
<li> <a href="index.html">Home</a></li>
<li> <a href="Tutorials/index.html">Tutorials</a>
<ul>
<li><a href="Photoshop/index.html">Photoshop</a>
<li><a href="Dreamweaver/index.html">Dreamweaver</a>
<li><a href="Illustrator/index.html">Illustrator</a>
<li><a href="Flash/index.html">Flash</a>
<li><a href="InDesign/index.html">InDesign</a>
</ul>
</li>
<li><a href="Articles/index.html">Articles</a></li>
<li><a href="About/index.html">About</a></li>
<li><a href="Contact/index.html">Contact</a></li>
</ul> <!-- end main UL -->
<br class="clearFloat" />
</div>
<div id="divSocial"></div>
</div>
</div>
</div>
<div id="divContentContainer">
<div id="divWrapper">
<div id="divInnerWrapper">
<div id="divContent">
<div id="divBanner"></div>
<div id="divListing">
<header class="listing">
<div id="divListingLeft">
<a href="#" title="The Basics Of Photoshop">
<img width="200px" height="200px" src="images/photoshopBasicsImage.jpg" alt="PhotoshopBasicsImage" title="PhotoshopBasicsImage" />
</a>
<span class="metaWrapper">Photoshop</span>
<span class="metaWrapper">Beginner</span>
</div>
<div id="divListingRight">
<p class="tags">
<a href="#" title="Link to the Tutorials Page">Tutorials</a>
>>
<a href="#" title="Link to the Photoshop Page">Photoshop</a>
</p>
<div class="clearFloat"></div>
<p class="date">
Posted on: October 16, 2012 by 
</p>
<h1><a href="#" title="The Basics Of Photoshop">The Basics Of Photoshop</a></h1>
<div id="synopsis"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam quis viverra lacus. Ut volutpat augue nec nulla sodales facilisis. Duis magna mauris, auctor a hendrerit vitae, adipiscing vel ante. Praesent risus elit, egestas a commodo non, suscipit id mauris. Ut ligula velit, tempor vel accumsan sed, sollicitudin quis sem. Integer nunc sem, feugiat non luctus ut, varius quis enim. Curabitur non odio id leo lobortis gravida acac arcu.</p></div>
</div>
<br class="clearFloat" /></header>
</header>
</div>
<div id="divListing">
<header class="listing">
<div id="divListingLeft">
<a href="#" title="Building A Basic Web Page In Dreamweaver">
<img width="200px" height="200px" src="images/dreamweaverBasicWebPageImage.jpg" alt="DreamweaverBasicWebPageImage" title="DreamweaverBasicWebPageImage" />
</a>
<span class="metaWrapper">Dreamweaver</span>
<span class="metaWrapper">Beginner</span>
</div>
<div id="divListingRight">
<p class="tags">
<a href="#" title="Link to the Tutorials Page">Tutorials</a>
>>
<a href="#" title="Link to the Photoshop Page">Dreamweaver</a>
</p>
<div class="clearFloat"></div>
<p class="date">
Posted on: October 16, 2012 by 
</p>
<h1><a href="#" title="The Basics Of Photoshop">Building A Basic Web Page In Dreamweaver</a></h1>
<div id="synopsis"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam quis viverra lacus. Ut volutpat augue nec nulla sodales facilisis. Duis magna mauris, auctor a hendrerit vitae, adipiscing vel ante. Praesent risus elit, egestas a commodo non, suscipit id mauris. Ut ligula velit, tempor vel accumsan sed, sollicitudin quis sem. Integer nunc sem, feugiat non luctus ut, varius quis enim. Curabitur non odio id leo lobortis gravida acac arcu.</p></div>
</div>
<br class="clearFloat" /></header>
</header>
</div>
<div id="divListing">
<header class="listing">
<div id="divListingLeft">
<a href="#" title="Designing A Cartoon Environment">
<img width="200px" height="200px" src="images/flashCartoonEnvironmentImage.png" alt="FlashCartoonEnvironmentImage" title="FlashCartoonEnvironmentImage" />
</a>
<span class="metaWrapper">Flash</span>
<span class="metaWrapper">Beginner</span>
</div>
<div id="divListingRight">
<p class="tags">
<a href="#" title="Link to the Tutorials Page">Tutorials</a>
>>
<a href="#" title="Link to the Photoshop Page">Flash</a>
</p>
<div class="clearFloat"></div>
<p class="date">
Posted on: October 16, 2012 by 
</p>
<h1><a href="#" title="The Basics Of Photoshop">Designing A Cartoon Environment</a></h1>
<div id="synopsis"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam quis viverra lacus. Ut volutpat augue nec nulla sodales facilisis. Duis magna mauris, auctor a hendrerit vitae, adipiscing vel ante. Praesent risus elit, egestas a commodo non, suscipit id mauris. Ut ligula velit, tempor vel accumsan sed, sollicitudin quis sem. Integer nunc sem, feugiat non luctus ut, varius quis enim. Curabitur non odio id leo lobortis gravida acac arcu.</p></div>
</div>
<br class="clearFloat" /></header>
</header>
</div>
<div id="divBottomBanner"></div>
</div>
<div id="divSidebar">
<div id="divInnerSideBar">
<div id="divAdWrapper">
<div class="adListing">Advertise Here</div>
<div class="adListing">Advertise Here</div>
<div class="adListing">Advertise Here</div> 
<br class="clearFloat" />  
</div>
<fb:comments href="http://www.facebook.com/pages/Tutorialhelp/497024140318879"
num_posts="4" width="300"></fb:comments>
<fb:like href="http://www.facebook.com/pages/Tutorialhelp/497024140318879" send="true" width="285" show_faces="true" font="verdana"></fb:like>
<div class="clearFloat"></div>
</div>
</div>
<div class="clearFloat"></div>
</div>
</div>
</div>
</body>
</html>

@charset "utf-8";
/* CSS Document */

body{
    margin:0px;
    padding:0px;
    font-family:Verdana, Geneva, sans-serif;
    font-size:12px;
    color:#000;
    min-width:1300px;
    background-color:#83ACBC;
}

#divHeaderContainer{
    width:100%;
    height:200px;
    background-color:#CEDBD9;
    margin:0px auto;
}

#divHeader{
    width:1120px;
    height:200px;
    min-width:1120px;
    margin:0px auto;
    background-image: url(../images/backgroundImage_r1_c1_r1_c1.jpg);
    background-repeat: no-repeat;
    background-position: center bottom;
}

#divLogo{
    height:130px;

}

#divNavigation{
    height:32px;
    position:relative;
    background-color:#333;
    width:1120px;
}

#divNavMenu {
    width:auto;
    height:32px;
    margin-top: 7px;
    margin-right: 0px;
    margin-bottom: 0px;
    margin-left: 10px;
}

#divNavMenu ul {
    margin:0;
    padding:0;
    line-height:30px;
}

#divNavMenu li {
    margin:0;
    padding:0;
    list-style:none;
    float:left;
    position:relative;
    background:#DCE4E3;
}

#divNavMenu ul li a {
    text-align:center;
    height:30px;
    width:148px;
    display:block;
    color:#000;
    font-family:Verdana, Geneva, sans-serif;
    text-decoration:none;
    border:1px solid #C5D1D0;
    font-size: 16px;
    font-weight: bold;
}

#divNavMenu ul ul {
    position:absolute;
    visibility:hidden;
    top:32px;
}

#divNavMenu ul li:hover ul {
    visibility:visible;
    z-index:9999; 
}

#divNavMenu li:hover {
   background:#83ACBC;
}

#divNavMenu ul li:hover ul li a:hover {
    color:#FFF;
    background:#9EBECB;
}

#divNavMenu a:hover {   
    color:#FFF;
} 

/* Contains the Float */

.clearFloat {
    clear:both; 
    margin:0;
    padding:0;
    height:0px;
    overflow:hidden;
}

/* IE7 Display Fix */  

#divNavMenu ul li {

    display: inline;     

}   

#divContentContainer{
    margin:0px auto;
    padding-bottom:50px;
    width:100%;
    background-image: url(../images/backgroundImage_r1_c1_r3_c1.jpg);
    background-repeat: no-repeat;
    background-position: center bottom;
}

#divWrapper{
    width:1120px;
    margin:0px auto;
    background-image: url(../images/backgroundImage_r1_c1_r2_c1.jpg);
    background-repeat: repeat-y;
    background-position: center;
}

#divInnerWrapper{
    margin:0px auto;
    width:1088px;
}

#divContent{
    width:738px;
    float:left;
    margin:0px auto;
}

#divBanner{
    width:700px;
    height:60px;
    margin:0px auto;
    padding-bottom:20px;
    background-color:#D3DCDA;
}

#divListing{
    padding:20px 20px 0px 18px;
    margin:15px 0px 0px 0px;
}

.listing{
    height:auto;
    background:none;
    border-bottom:solid 1px #B7B7B7;
}

#divListingLeft{
    width:200px;
    float:left;
    margin:0px 0px 20px 0px;
}

#divListingRight{
    width:480px;
    float:right;
}

.metaWrapper{
    font-family:Verdana, Geneva, sans-serif;
    display:block;
    width:200px;
    font-size:14px;
    text-align:center;
    font-weight:bold;
    color:#000;
}

.tags{
    font-style:italic;
}

.date{
    font-style:italic;
}

#divContent #divListing p{
    padding:0 20px 0px 10px;
}

#divContent #divListing h1{
    font-size:26px;
    color:#000;
    padding:0px 20px 0px 10px;
    margin:0px;
}

h1 a{
    font-style:normal;
    text-decoration:none;
    color:#000;
}

#divBottomBanner{
    width:700px;
    height:60px;
    margin:0px auto;
    padding-bottom:20px;
    margin-top:35px;
    background-color:#D3DCDA;
}

h2{
    font-weight:bold;
    font-size:24px;
    margin:30px 0px 0px 20px;
    padding-bottom:5px;
    border-bottom:solid 1px #B7B7B7;
}

#contactForm{
    padding:0px;
    display: block;
    height: auto;
    margin-top: 30px;
    margin-right: 160px;
    margin-bottom: 0px;
    margin-left: 0px;
    font-weight: bold;
}

#divSidebar{

}

#divInnerSideBar{
    width:300px;
    float:right;

}

#divAdWrapper{
    width:260px;
    height:auto;
}

.adListing{
    display:block;
    font-size:11px;
    background-color:#D3DCDA;
    color:#000;
    text-align:center;
    text-decoration:none;
    overflow:hidden;
    float:left;
    width:125px;
    height:125px;
    margin: 0px 4px 4px 0px;
} 
```

我已经添加了 html 和 css 代码，希望这将帮助您了解代码中的问题所在。可以提出代码的任何其他问题，但要寻找#divSidebar 及其子内容的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:00:58.047

定义你的`divSidebar`

```
#divSidebar{
float:right;
} 
```

***[演示](http://jsfiddle.net/rohitazad/MKsMU/)***

# hyperlink - 如何在主页中给出404状态并显示页面

> ID：13639247
> 
> 赞同：-1
> 
> 时间：2012-11-30T04:55:38.123
> 
> 标签：hyperlink, seo, joomla1.5

4 月，我的网站受到企鹅更新（4 月 24 日）的处罚。由于 JV Links，我从讨厌的地方获得了很多反向链接，尽管我没有链接回任何地方。

现在上个月我已经拒绝了几乎所有的域，但不是排名更高，流量似乎下降了。

所有的反向链接都指向主页，所以我想按原样显示主页，但在访问时也给出 404 错误代码。这将稀释对主页的反向链接惩罚。

我怎样才能在 Joomla 网站上轻松做到这一点？

参考：[http ://www.seroundtable.com/404-links-google-15427.html](http://www.seroundtable.com/404-links-google-15427.html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T14:39:35.010

你想杀死你的网站吗？

企鹅要么贬低了你的反向链接，要么让它们伤害了你。您不会从当前链接回到原来的位置。那些日子已经过去了。

拒绝可能会保护您免受有害的伤害，但它也会删除任何剩余的小链接汁。因此，除非该行为确实关闭了企鹅，否则您可能会因拒绝而放弃排名。直到下一次企鹅更新你才会知道。

让您的主页返回 404 只会将其取消索引，您将失去一切。

文章中的建议假设您谈论的是一个您可以在没有的情况下生存并杀死的页面。您的主页不是其中之一。

我建议您静坐直到下一次企鹅更新，看看您是否拒绝清除它。或者专注于通过能够为您赢得所需链接的内容来改进您的网站。

# utf-8 - 使用记事本或 VS2010 编辑 utf-8 ini 文件有什么区别吗？

> ID：13639248
> 
> 赞同：1
> 
> 时间：2012-11-30T04:55:40.760
> 
> 标签：utf-8, ini, notepad

我有一个应用程序需要读取一个 ini 文件作为预定义配置。ini文件中有一些汉字，所以我选择了utf-8编码。但是当我用 Windows 记事本编辑文件并更改一些中文字符时，应用程序会在我运行时闪烁关闭。但是当我使用VS2010更改相同的汉字时，一切正常。

用记事本和 VS2010 编辑 utf-8 ini 文件有什么区别吗？我希望能够使用记事本来修改 ini 文件，因为它是最方便的选项，并且大多数用户已经可以访问它。

这是上一个问题的审查版本。

# utf-8 - clojure 和 ring: 响应中的 utf-8 是“？”

> ID：13639249
> 
> 赞同：8
> 
> 时间：2012-11-30T04:55:54.633
> 
> 标签：utf-8, clojure, ring

我惊讶地发现我的戒指应用程序没有正确地提供 utf-8。我把它简化为一个简单的测试用例，有谁知道如何确保它总是将 utf-8 返回到浏览器？

```
(ns utf8test.core)

(defn app
  [request]
  {:status 200 :body "ɮѪϴ"}) 
```

在 project.clj 中（使用 lein-ring 插件）：

```
:ring {:handler utf8test.core/app} 
```

在终端：

```
> lein ring server 
```

---> É®ÑªÏ´（这是错误的，应该是ɮѪϴ）

最好是一种适用于 tomcat 的方法，因为这是部署应用程序的地方。

谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-30T07:02:03.903

如果不设置`Content-Type`标头，Jetty 可能会发送指示平台默认编码的响应。尝试使用[`content-type`或`charset`](https://github.com/mmcgrana/ring/blob/master/ring-core/src/ring/util/response.clj#L130)响应函数来添加适当的标题（例如`(charset {:status 200 :body "..."} "UTF-8")`）。

# jquery - 由选择器调用的动态创建的按钮

> ID：13639250
> 
> 赞同：0
> 
> 时间：2012-11-30T04:56:31.597
> 
> 标签：jquery, ajax

伙计们，我有一个创建动态按钮的 ajax，每个按钮的 id 上都有一个计数器。我试图选择每个按钮并向它们添加一个类。

```
 var html;
                $.ajax({
                          type:'POST',
                          url:'add_subject.php',
                     dataType:'json',
                         data:{'func_numbr':'6'},
                      success:function (data){
                           var counter_sub = 0 ;
                         $.each(data, function(i, item) {
                          if(data[i].subjct_statu == "0"){
                            $('#inactivate['+counter_sub+']').addClass("inactiveButton");
                           }
                          html = "<tr>";

                          html += "<td><lable>Subject: </label><input type='text' name='subject["+counter_sub+"]' rel='"+data[i].subj_id+"' value='"+data[i].subj_name+"'></td>";
                          html += "<td><input type='button' id='activate["+counter_sub+"]' name='active' class='button active  ' value='Apply'  > ";
                          html += "<input type='button' id='inactivate["+counter_sub+"]' name='active' class='button inactive' value='Remove from list'></td>";
                          html += "</tr>";
                 $('#curr-4thhigh-tble').append(html);

                 counter_sub = counter_sub +1;
                });
                      }     
               }); 
```

但是我正在做的事情不起作用，我想有什么问题。请帮助 tnx 进阶

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:06:33.317

尝试这样的事情，它应该工作：

```
$.ajax({
    type: 'POST',
    url: 'add_subject.php',
    dataType: 'json',
    data: {
        'func_numbr': '6'
    },
    success: function(data) {
        var counter_sub = 0,
            classToAdd = "";
        $.each(data, function(i, item) {
            classToAdd = "";
            if (data[i].subjct_statu == "0") {
                classToAdd = "inactiveButton";
                //$('#inactivate[' + counter_sub + ']').addClass("inactiveButton");
            }
            html = "<tr>";

            html += "<td><lable>Subject: </label><input type='text' name='subject[" + counter_sub + "]' rel='" + data[i].subj_id + "' value='" + data[i].subj_name + "'></td>";
            html += "<td><input type='button' id='activate[" + counter_sub + "]' name='active' class='button active  ' value='Apply'  > ";
            html += "<input type='button' id='inactivate[" + counter_sub + "]' name='active' class='button inactive " + classToAdd + "' value='Remove from list'></td>";
            html += "</tr>";
            $('#curr-4thhigh-tble').append(html);
            counter_sub = counter_sub + 1;
        });
    }
});​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:10:00.857

我建议将类添加到它们，因为它们的创建方式与其他评论/答案建议一样。但是..要回答您的问题，这就是您如何选择所有具有包含“myID”的 id 的元素

```
 $("[id*='+myID+']") 
```

或在一个循环中

```
 $("[id*='+myID" + counter_sub + "']") 
```

# performance - Big-O 表示法的计算复杂度

> ID：13639253
> 
> 赞同：0
> 
> 时间：2012-11-30T04:56:55.713
> 
> 标签：performance, algorithm

如何根据输入大小以 Big-O 表示法指定其执行遵循以下模式的算法的计算复杂度？

```
Input size: 4
Number of execution steps: 4 + 3 + 2 + 1 = 10

Input size: 5
Number of execution steps: 5 + 4 + 3 + 2 + 1 = 15

Input size: 6
Number of execution steps: 6 + 5 + 4 + 3 + 2 + 1 = 21 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T05:43:17.203

从技术上讲，您没有提供足够的信息来确定复杂性。根据迄今为止的信息，对于所有大于 5 的输入大小，它可能需要 21 个步骤。在这种情况下，无论大小 4 和 5 的行为如何，它都是 O(1)。复杂性是关于限制大输入大小的行为，不是关于三个极小尺寸的东西的行为方式。

如果大小为 n 的步数通常是从 1 到 n 的数字的总和，那么步数的公式确实是 n(n+1)/2，它是 O(n^2)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-30T19:34:43.660

对于遵循模式 1 + 2 + 3 + 4 + ....+n 的任何系列，系列的总和为 n(n+1)/2，即 O(n^2)..

在您的情况下，步数永远不会是 n^2，因为在每个级别上，我们都会少走一步（n + n-1 + n-2），但是使用大哦符号来指定上界一个函数的增长率因此你的大 O 将是 O(n^2) 因为它超过 n 步数但小于 n^2 步数。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-11-30T05:01:41.437

我认为它应该是`O(N)`，因为它就像：给定一个 N 大小的数组，并对其进行迭代（如果我们不关心加计算时间）。

顺便说一句，我认为这`(n + 1)*n/2`只是求和的结果，而不是算法的复杂性。

# c++ - C++ 删除字符串中多余的空格或制表符

> ID：13639260
> 
> 赞同：1
> 
> 时间：2012-11-30T04:57:28.650
> 
> 标签：c++, boost

我需要从行中删除额外的空格，如`1.47\t\t4.32 5.1 \t\tf41.4`. 我怎么能用boost做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:37:25.100

如果您只想轻松地做到这一点，我会使用这样的东西：

```
std::string single_space(std::string const &input) { 
    std::istringstream buffer(input);
    std::ostringstream result;

    std::copy(std::istream_iterator<std::string>(buffer),
              std::istream_iterator<std::string>(),
              std::ostream_iterator<std::string>(result, " "));
    return result.str();
} 
```

如果您担心让它尽可能快，您可能想看看[今天早些时候的另一个问题](https://stackoverflow.com/q/13628514/179910)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:14:33.333

我找到了我的问题的答案。

```
std::string trim(const std::string& str,
                 const std::string& whitespace = " \t")
{
    const auto strBegin = str.find_first_not_of(whitespace);
    if (strBegin == std::string::npos)
        return ""; // no content

    const auto strEnd = str.find_last_not_of(whitespace);
    const auto strRange = strEnd - strBegin + 1;

    return str.substr(strBegin, strRange);
}

std::string reduce(std::string& str,
                   const std::string& fill = " ",
                   const std::string& whitespace = " \t")
{
    // trim first
    auto result = trim(str, whitespace);
    // replace sub ranges
    auto beginSpace = result.find_first_of(whitespace);
    while (beginSpace != std::string::npos)
    {
        const auto endSpace = result.find_first_not_of(whitespace, beginSpace);
        const auto range = endSpace - beginSpace;

        result.replace(beginSpace, range, fill);

        const auto newStart = beginSpace + fill.length();
        beginSpace = result.find_first_of(whitespace, newStart);
    }

    return result;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-24T16:07:36.657

这是删除多余空格的非常简单的实现。

```
#include <iostream>
std::string trimExtraWhiteSpaces(std::string &str);
int main(){
    std::string str = "  Apple    is a     fruit   .  ";
    str = trimExtraWhiteSpaces(str);
    std::cout<<str;
}
std::string trimExtraWhiteSpaces(std::string &str){
    std::string s;
    bool first = true;
    bool space = false;
    std::string::iterator iter;
    for(iter = str.begin(); iter != str.end(); ++iter){
        if(*iter == ' '){
            if(first == false){
                space = true;
            }
        }else{
            if(*iter != ',' && *iter != '.'){
                if(space){
                    s.push_back(' ');
                }
            }
            s.push_back(*iter);
            space = false;
            first = false;
        }
    }
    return s;
} 
```

# c# - 如何从所述指针中检索列表？

> ID：13639261
> 
> 赞同：1
> 
> 时间：2012-11-30T04:57:47.217
> 
> 标签：c#, pointers, pinvoke

我试图遵循的 MSDN 文档位于[此处](http://msdn.microsoft.com/en-us/library/windows/desktop/aa363357%28v=vs.85%29.aspx)。基本上，我试图在 C# 中弄清楚如何将该指针读入 DHCP_OPTION_DATA 结构列表。

我有以下代码，但我认为这不是正确的方法。

```
DHCP_OPTION_ARRAY optionArray = (DHCP_OPTION_ARRAY)Marshal.PtrToStructure(options, typeof(DHCP_OPTION_ARRAY));
List<DHCP_OPTION> allOptions = new List<DHCP_OPTION>();
for (int i = 0; i < optionArray.NumElements; i++) {
    DHCP_OPTION option = (DHCP_OPTION)Marshal.PtrToStructure(optionArray.Options, typeof(DHCP_OPTION));
    allOptions.Add(option);
    optionArray.Options = (IntPtr)((int)optionArray.Options + (int)Marshal.SizeOf(option));
} 
```

由于我无法将指针编组到通用列表集合中，因此我尝试了这种方式。我的问题是，根据我将 IntPtr 增加到多少，我得到了不正确的结果。最初我是这样做的。

```
optionArray.Options = (IntPtr)((int)optionArray.Options + (int)Marshal.SizeOf(typeof(DHCP_OPTION_DATA))); 
```

但是，我随后意识到下一个元素将位于实际选项的大小之后。

所以问题仍然存在，我如何将 Ptr 编组到结构列表中？

**编辑 1**

我发布了错误的文章，现在已修复。

**编辑 2**

虽然这两个答案都很好，但我选择了我的问题的答案，因为它解决了我对在封送信息的后端如何处理数据缺乏了解的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-12T13:04:16.187

您得到的第一个选项对象是否正确？
如果是这样，其余部分偏斜的原因很可能是[结构的对齐方式](http://en.wikipedia.org/wiki/Data_structure_alignment)。

您可以尝试找到正确的对齐方式，例如：

```
var offset = (int)Marshal.SizeOf(typeof(DHCP_OPTION_DATA));
var alignment = 4; 
var remainder = offset % alignment;
if(remainder != 0)
    offset += alignment - remainder;

optionArray.Options = (IntPtr)((int)optionArray.Options + offset); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T21:41:42.583

这是 Jason Rupard 使用 DHCP_OPTION_ARRAY 写的一篇论文...

[http://www.rupj.net/portfolio/docs/dws-writeup.pdf](http://www.rupj.net/portfolio/docs/dws-writeup.pdf)

看起来他有你需要的一切，还有更多...... :)

`Pack`虽然看着它，你可以稍微不同地定义结构，如果你得到正确的属性，它会在反序列化时自动变成一个数组。

# sql - 连接/聚合字符串的最佳方式

> ID：13639262
> 
> 赞同：115
> 
> 时间：2012-11-30T04:57:49.183
> 
> 标签：sql, sql-server, azure, aggregate-functions, azure-sql-database

我正在寻找一种将不同行中的字符串聚合成一行的方法。我希望在许多不同的地方做到这一点，所以有一个功能来促进这一点会很好。我已经尝试过使用`COALESCE`and的解决方案`FOR XML`，但他们只是不适合我。

字符串聚合会做这样的事情：

```
id | Name                    Result: id | Names
-- - ----                            -- - -----
1  | Matt                            1  | Matt, Rocks
1  | Rocks                           2  | Stylus
2  | Stylus 
```

我已经看过[CLR 定义的聚合函数](http://picnicerror.net/development/sql-server/concatenate-multiple-row-values-sql-server-with-clr-2012-01-10/)作为 and 的替代品`COALESCE`，`FOR XML`但显然**SQL Azure** *不*支持 CLR 定义的东西，这对我来说很痛苦，因为我知道能够使用它可以解决很多问题我的问题。

是否有任何可能的解决方法或类似的最佳方法（可能不如 CLR 最佳，但*嘿*，我会尽我所能）可以用来聚合我的东西？

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2012-12-03T10:50:07.460

**解决方案**

*最佳*的定义可能会有所不同，但这里是如何使用常规 Transact SQL 连接来自不同行的字符串，这在 Azure 中应该可以正常工作。

```
;WITH Partitioned AS
(
    SELECT 
        ID,
        Name,
        ROW_NUMBER() OVER (PARTITION BY ID ORDER BY Name) AS NameNumber,
        COUNT(*) OVER (PARTITION BY ID) AS NameCount
    FROM dbo.SourceTable
),
Concatenated AS
(
    SELECT 
        ID, 
        CAST(Name AS nvarchar) AS FullName, 
        Name, 
        NameNumber, 
        NameCount 
    FROM Partitioned 
    WHERE NameNumber = 1

    UNION ALL

    SELECT 
        P.ID, 
        CAST(C.FullName + ', ' + P.Name AS nvarchar), 
        P.Name, 
        P.NameNumber, 
        P.NameCount
    FROM Partitioned AS P
        INNER JOIN Concatenated AS C 
                ON P.ID = C.ID 
                AND P.NameNumber = C.NameNumber + 1
)
SELECT 
    ID,
    FullName
FROM Concatenated
WHERE NameNumber = NameCount 
```

**解释**

该方法归结为三个步骤：

1.  使用连接对行进行编号，`OVER`并`PARTITION`根据需要对它们进行分组和排序。结果是`Partitioned`CTE。我们保留每个分区中的行数，以便稍后过滤结果。

2.  使用递归 CTE ( `Concatenated`) 遍历行号 (`NameNumber`列) 将`Name`值添加到`FullName`列。

3.  过滤掉所有结果，但最高的结果除外`NameNumber`。

请记住，为了使此查询可预测，必须同时定义分组（例如，在您的场景中将相同`ID`的行连接起来）和排序（我假设您只是在连接之前按字母顺序对字符串进行排序）。

我已经使用以下数据在 SQL Server 2012 上快速测试了该解决方案：

```
INSERT dbo.SourceTable (ID, Name)
VALUES 
(1, 'Matt'),
(1, 'Rocks'),
(2, 'Stylus'),
(3, 'Foo'),
(3, 'Bar'),
(3, 'Baz') 
```

查询结果：

```
ID          FullName
----------- ------------------------------
2           Stylus
3           Bar, Baz, Foo
1           Matt, Rocks 
```

* * *

## 回答 #2

> 赞同：59
> 
> 时间：2012-12-08T22:59:32.140

像下面这样使用 FOR XML PATH 的方法真的那么慢吗？Itzik Ben-Gan 在他的 T-SQL Querying 一书中写道，这种方法具有良好的性能（在我看来，Ben-Gan 先生是一个值得信赖的来源）。

```
create table #t (id int, name varchar(20))

insert into #t
values (1, 'Matt'), (1, 'Rocks'), (2, 'Stylus')

select  id
        ,Names = stuff((select ', ' + name as [text()]
        from #t xt
        where xt.id = t.id
        for xml path('')), 1, 2, '')
from #t t
group by id 
```

* * *

## 回答 #3

> 赞同：50
> 
> 时间：2016-12-13T15:19:50.123

`STRING_AGG()`在 SQL Server 2017、Azure SQL 和 PostgreSQL 中： [https ://www.postgresql.org/docs/current/static/functions-aggregate.html](https://www.postgresql.org/docs/current/static/functions-aggregate.html)
[https://docs.microsoft.com/en-us/sql/t- sql/functions/string-agg-transact-sql](https://docs.microsoft.com/en-us/sql/t-sql/functions/string-agg-transact-sql)

`GROUP_CONCAT()`在 MySQL
[http://dev.mysql.com/doc/refman/5.7/en/group-by-functions.html#function_group-concat](http://dev.mysql.com/doc/refman/5.7/en/group-by-functions.html#function_group-concat)

（感谢 @Brianjorden 和 @milanio 提供 Azure 更新）

### 示例代码：

```
select Id
, STRING_AGG(Name, ', ') Names 
from Demo
group by Id 
```

SQL 小提琴：[http ://sqlfiddle.com/#!18/89251/1](http://sqlfiddle.com/#!18/89251/1)

* * *

## 回答 #4

> 赞同：26
> 
> 时间：2014-02-19T09:14:48.240

虽然@serge 的答案是正确的，但我将他的方式与 xmlpath 的时间消耗进行了比较，我发现 xmlpath 是如此之快。我会写比较代码，你可以自己检查。这是@serge 方式：

```
DECLARE @startTime datetime2;
DECLARE @endTime datetime2;
DECLARE @counter INT;
SET @counter = 1;

set nocount on;

declare @YourTable table (ID int, Name nvarchar(50))

WHILE @counter < 1000
BEGIN
    insert into @YourTable VALUES (ROUND(@counter/10,0), CONVERT(NVARCHAR(50), @counter) + 'CC')
    SET @counter = @counter + 1;
END

SET @startTime = GETDATE()

;WITH Partitioned AS
(
    SELECT 
        ID,
        Name,
        ROW_NUMBER() OVER (PARTITION BY ID ORDER BY Name) AS NameNumber,
        COUNT(*) OVER (PARTITION BY ID) AS NameCount
    FROM @YourTable
),
Concatenated AS
(
    SELECT ID, CAST(Name AS nvarchar) AS FullName, Name, NameNumber, NameCount FROM Partitioned WHERE NameNumber = 1

    UNION ALL

    SELECT 
        P.ID, CAST(C.FullName + ', ' + P.Name AS nvarchar), P.Name, P.NameNumber, P.NameCount
    FROM Partitioned AS P
        INNER JOIN Concatenated AS C ON P.ID = C.ID AND P.NameNumber = C.NameNumber + 1
)
SELECT 
    ID,
    FullName
FROM Concatenated
WHERE NameNumber = NameCount

SET @endTime = GETDATE();

SELECT DATEDIFF(millisecond,@startTime, @endTime)
--Take about 54 milliseconds 
```

这是 xmlpath 方式：

```
DECLARE @startTime datetime2;
DECLARE @endTime datetime2;
DECLARE @counter INT;
SET @counter = 1;

set nocount on;

declare @YourTable table (RowID int, HeaderValue int, ChildValue varchar(5))

WHILE @counter < 1000
BEGIN
    insert into @YourTable VALUES (@counter, ROUND(@counter/10,0), CONVERT(NVARCHAR(50), @counter) + 'CC')
    SET @counter = @counter + 1;
END

SET @startTime = GETDATE();

set nocount off
SELECT
    t1.HeaderValue
        ,STUFF(
                   (SELECT
                        ', ' + t2.ChildValue
                        FROM @YourTable t2
                        WHERE t1.HeaderValue=t2.HeaderValue
                        ORDER BY t2.ChildValue
                        FOR XML PATH(''), TYPE
                   ).value('.','varchar(max)')
                   ,1,2, ''
              ) AS ChildValues
    FROM @YourTable t1
    GROUP BY t1.HeaderValue

SET @endTime = GETDATE();

SELECT DATEDIFF(millisecond,@startTime, @endTime)
--Take about 4 milliseconds 
```

* * *

## 回答 #5

> 赞同：19
> 
> 时间：2016-12-19T14:10:14.767

**更新：MS SQL Server 2017+，Azure SQL 数据库**

您可以使用：[`STRING_AGG`](https://docs.microsoft.com/en-us/sql/t-sql/functions/string-agg-transact-sql?view=sql-server-2017).

对于 OP 的请求，用法非常简单：

```
SELECT id, STRING_AGG(name, ', ') AS names
FROM some_table
GROUP BY id 
```

[阅读更多](https://docs.microsoft.com/en-us/sql/t-sql/functions/aggregate-functions-transact-sql?view=sql-server-2017)

好吧，我的旧答案被正确地删除了（在下面保持完整），但是如果将来有人碰巧登陆这里，那就有好消息了。他们还在 Azure SQL 数据库中实现了 STRING_AGG()。这应该提供本帖子中最初要求的确切功能以及本机和内置支持。@hrobky 之前曾将其作为 SQL Server 2016 的功能提到过。

--- 旧帖：这里没有足够的声望直接回复@hrobky，但是 STRING_AGG 看起来不错，但目前仅在 SQL Server 2016 vNext 中可用。希望它也能尽快跟进 Azure SQL Datababse。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2018-03-08T15:20:22.670

您可以使用 += 来连接字符串，例如：

```
declare @test nvarchar(max)
set @test = ''
select @test += name from names 
```

如果您选择@test，它将为您提供所有连接的名称

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2018-05-10T05:44:59.943

我发现 Serge 的答案很有希望，但我也遇到了它所写的性能问题。但是，当我对其进行重组以使用临时表且不包含双 CTE 表时，1000 条组合记录的性能从 1 分 40 秒变为亚秒。这里适用于需要在旧版本的 SQL Server 上不使用 FOR XML 的任何人：

```
DECLARE @STRUCTURED_VALUES TABLE (
     ID                 INT
    ,VALUE              VARCHAR(MAX) NULL
    ,VALUENUMBER        BIGINT
    ,VALUECOUNT         INT
);

INSERT INTO @STRUCTURED_VALUES
SELECT   ID
        ,VALUE
        ,ROW_NUMBER() OVER (PARTITION BY ID ORDER BY VALUE) AS VALUENUMBER
        ,COUNT(*) OVER (PARTITION BY ID)    AS VALUECOUNT
FROM    RAW_VALUES_TABLE;

WITH CTE AS (
    SELECT   SV.ID
            ,SV.VALUE
            ,SV.VALUENUMBER
            ,SV.VALUECOUNT
    FROM    @STRUCTURED_VALUES SV
    WHERE   VALUENUMBER = 1

    UNION ALL

    SELECT   SV.ID
            ,CTE.VALUE + ' ' + SV.VALUE AS VALUE
            ,SV.VALUENUMBER
            ,SV.VALUECOUNT
    FROM    @STRUCTURED_VALUES SV
    JOIN    CTE 
        ON  SV.ID = CTE.ID
        AND SV.VALUENUMBER = CTE.VALUENUMBER + 1

)
SELECT   ID
        ,VALUE
FROM    CTE
WHERE   VALUENUMBER = VALUECOUNT
ORDER BY ID
; 
```

# android - drawable-xxhdpi 的正确尺寸图标是多少？

> ID：13639263
> 
> 赞同：89
> 
> 时间：2012-11-30T04:57:49.900
> 
> 标签：android, drawable, dpi, android-icons

众所周知，正确大小的图标：

```
* drawable-ldpi (120 dpi, Low density screen) - 36px x 36px
* drawable-mdpi (160 dpi, Medium density screen) - 48px x 48px
* drawable-hdpi (240 dpi, High density screen) - 72px x 72px
* drawable-xhdpi (320 dpi, Extra-high density screen) - 96px x 96px 
```

在 Jelly Bean 上，`drawable-xxhdpi`可以支持。那么正确大小的图标是什么？

* * *

## 回答 #1

> 赞同：178
> 
> 时间：2014-01-23T14:41:42.493

![Android 图标显示密度](../Images/408fc083bbc52f89320d01808160606f.png)

*   MDPI：**48x48**
*   HDPI：**72x72**
*   XHDPI：**96x96**
*   *XXHDPI：**144x144***
*   XXXHDPI：**192x192**

> 要为不同的密度创建图标，您应该遵循五个主要密度（分别为中、高、x-高、xx-高和 xxx-高）之间的 2:3:4:6:8 缩放比例

- [developer.android.com](http://developer.android.com/design/style/iconography.html)

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2012-11-30T05:26:19.683

这是尼克·布彻( *Nick Butcher* ) 在 Google Plus 上的帖子的引述[https://plus.google.com/118292708268361843293/posts/ePQya3KsTjW](https://plus.google.com/118292708268361843293/posts/ePQya3KsTjW)

 *> Nexus 10 上华丽的屏幕属于 XHDPI 密度桶。在平板电脑上，Launcher 使用上一个密度桶 [0] 中的图标来使它们稍微变大。为了确保您的启动器图标（可以说是您的应用程序最重要的资产）清晰，您需要在 drawable-xxhdpi 或 drawable-480dpi 文件夹中添加一个 144*144px 的图标。

因此，对于 xxhdpi 限定符，您需要为启动器图标创建一个大小为**144*144px**的图标。您可以将其放置在**drawable-xxhdpi**或**drawable -480dpi**

编辑：添加到原始答案以解决 OP 的评论锥。

根据此链接： http: [//developer.android.com/guide/practices/screens_support.html#DesigningResources](http://developer.android.com/guide/practices/screens_support.html#DesigningResources)，应使用以下比例创建替代资源：**3:4:6:8 缩放比例**。但是，如果您担心会降低应用内可绘制资源的质量，请考虑尽可能使用 9-patch 图像。这将减少或消除任何质量损失。无论如何，Android 操作系统本身在处理各种屏幕尺寸方面做得非常出色。

至于图标大小 144*144px，创建这两个文件夹中的一个**drawable-xxhdpi**或**drawable** -480dpi并将您的启动器图标放入其中。那应该这样做。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-11-30T05:28:14.723

您需要**在 drawable-xxhdpi 或 drawable-480dpi 文件夹中添加一个 144*144px 的图标。**

更多信息：- 官方 G+ 显示 xxhdpi 为 480dpi：

[https://plus.google.com/118292708268361843293/posts/ePQya3KsTjW](https://plus.google.com/118292708268361843293/posts/ePQya3KsTjW)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-07-19T14:12:38.410

dip 中的标准图标大小为**48 dip**。

您可以使用此[服务](https://romannurik.github.io/AndroidAssetStudio/icons-generic.html#source.space.trim=1&source.space.pad=0&size=24&padding=8&color=33b5e5%2C100&name=ic_example)来创建所有大小的图标。（设置大小 - 48 dip 和其他设置）*

# web-scraping - Hukkster 技术栈

> ID：13639265
> 
> 赞同：0
> 
> 时间：2012-11-30T04:57:55.593
> 
> 标签：web-scraping, web-technologies

几天前我开始使用 Hukkster.com。它真的又快又准。hukkster 的小书签总是从产品页面获取正确的价格。它支持的所有特色商家都会发生这种情况。

我真的很想知道他们可能会使用什么技术堆栈来实现如此快速和准确的响应？

我试图在谷歌上搜索所有我能找到的东西。除了 Hukkster 的成功故事、新闻中的 Hukkster 等，我什么也没找到。没有任何与 Hukkster 使用的技术相关的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-03T18:56:40.763

它是莫曾达。

找到了。这里是：

[http://blogs.wsj.com/venturecapital/2012/08/29/the-founders-creators-of-new-shopping-app-hukkster-definitely-not-brogrammers/](http://blogs.wsj.com/venturecapital/2012/08/29/the-founders-creators-of-new-shopping-app-hukkster-definitely-not-brogrammers/)

*联合创始人相信他们的想法。只有一个问题——谁都不知道如何编码。他们没有让这阻止他们。他们开发了一个“纸质原型”，无需编码即可运行。**他们使用名为 Mozenda 的数据提取服务构建了一个爬虫**，并使用电子表格、电子邮件和电话完成了 Hukkster 的其余工作。*

[http://www.mozenda.com/](http://www.mozenda.com/)

# windows-8 - 如何知道 Windows 8 设备（笔记本电脑/平板电脑/台式机）是否支持 GPS

> ID：13639266
> 
> 赞同：2
> 
> 时间：2012-11-30T04:57:57.223
> 
> 标签：windows-8, windows-runtime, winrt-xaml, winrt-async

我正在 xaml 中开发一个 Windows 8 Store 应用程序，它使用用户的 GPS 位置。如果设备用户使用的设备具有 GPS 功能，我是否可以通过编程方式知道？

与 Windows 手机不同，它仅在有互联网连接时才有效？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-04T20:49:21.413

您需要检查位置传感器的状态

```
var location = new Geolocator();

if(location.LocationStatus == PositionStatus.NotAvailable)
{
     //Do Something
}
else
{
     //Do Something else
} 
```

`Geolocation`以下文章很好地涵盖了主题

[http://www.jeffblankenburg.com/2012/11/14/31-days-of-windows-8-day-14-geolocation/](http://www.jeffblankenburg.com/2012/11/14/31-days-of-windows-8-day-14-geolocation/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-04T20:35:08.313

您应该能够检查传感器状态。

*   `NotSupported`传感器硬件不可用。

*   `Ready`传感器可用并解析数据。

*   `Initializing`传感器可用并正在初始化。

*   `NoData`传感器无法获取数据。

*   `NoPermissions`调用者无权访问传感器的数据。

*   `Disabled`传感器被禁用。

# python - 改变输出

> ID：13639268
> 
> 赞同：0
> 
> 时间：2012-11-30T04:58:03.067
> 
> 标签：python, list

> **可能重复：**
> [稍微改变输出](https://stackoverflow.com/questions/13638807/changing-the-output-a-bit)

问题是：

```
voting_borda: 
```

(str 列表列表) -> (str, list of int) 的元组

该参数是一个 4 元素列表的列表，代表单次选区的排名投票。

博尔达计数是通过根据排名分配积分来确定的。一方每获得第一名得3分，每名第二名得2分，每名第三名得1分。（排名第四不得分。）例如，上面显示的排名投票将为自由党计数贡献 3 分，为绿色计数贡献 2 分，为 CPC 计数贡献 1 分。得分最多的一方赢得席位。

返回一个元组，其中第一个元素是根据 Borda Count 的获胜方的名称，第二个元素是一个四元素列表，其中包含每一方的总点数。列表元素的顺序对应于 PARTY_INDICES 中各方的顺序。

这是我的代码：

```
def voting_borda(*args):
results = {}
for sublist in args:
    for i in range(0, 3):
        if sublist[i] in results:
            results[sublist[i]] += 3-i
        else:
            results[sublist[i]] = 3-i

winner = max(results, key=results.get)
return winner, results 
```

但是，如果我尝试

```
voting_borda(['GREEN','NDP', 'LIBERAL', 'CPC'],['GREEN','CPC','LIBERAL','NDP'],['LIBERAL','NDP', 'CPC', 'GREEN']) 
```

我明白了，

```
('GREEN', {'NDP': 4, 'CPC': 3, 'GREEN': 6, 'LIBERAL': 5}) 
```

但是，我希望第一个参数成为获胜者（那部分很好），第二个参数只是值，并且也是 PARTY_INDICES 的顺序，即 `PARTY_INDICES = [NDP_INDEX, GREEN_INDEX, LIBERAL_INDEX, CPC_INDEX]`.

有什么解决方案或方法可以让这变得更好吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:42:16.930

```
PARTY_INDICES = ['NDP_INDEX', 'GREEN_INDEX', 'LIBERAL_INDEX', 'CPC_INDEX']
party_dic = {}

for i, item in enumerate(PARTY_INDICES):
    party_dic[item.split('_')[0]] = i

print party_dic

def voting_borda(*args):
    results = {}
    for sublist in args:
        for i in range(0, 3):
            if sublist[i] in results:
                results[sublist[i]] += 3-i
            else:
                results[sublist[i]] = 3-i

    winner = max(results, key=results.get)
    results = [v for k, v in sorted(results.items(), key = lambda x: party_dic[x[0]])]
    return winner, results

print voting_borda(['GREEN','NDP', 'LIBERAL', 'CPC'],['GREEN','CPC','LIBERAL','NDP'],['LIBERAL','NDP', 'CPC', 'GREEN'])

{'NDP': 0, 'CPC': 3, 'GREEN': 1, 'LIBERAL': 2}
('GREEN', [4, 6, 5, 3]) 
```

# ruby - 安装最新 ruby 版本的问题

> ID：13639273
> 
> 赞同：0
> 
> 时间：2012-11-30T04:58:19.823
> 
> 标签：ruby, debian

我需要一些关于 RVM 和在 debian 服务器上安装最新版本的 rails 的帮助。请注意，我不是 Linux 程序员，所以你必须为我拼出所有内容。

基本上我正在尝试升级到最新版本的 ruby​​。我正在尝试将它安装在我通过 VPN 连接到的 debian 服务器上。到目前为止，我正在尝试使用 RVM，但是当我`RVM install 1.9.3`从我的 debian bash 提示符运行它时，它说该版本没有可用的二进制文件，然后继续尝试从失败的在线获取源（可能是由于防火墙） . 基本上，当它从网上抓取源文件夹时，它会抓取一大块损坏的垃圾。我尝试自己下载源包，如果我单击 ruby​​ 站点上的链接，它会阻止它。如果我使用 wget，它似乎可以下载它，但 md5 不匹配，我无法解压它。它说 gzip: stdin: 该文件不是 gzip 格式。

所以！我需要帮助。我当时的想法是获取 1.9.3 的二进制 rubies .. 但我不确定到底如何.. 我在 Windows 上下载了 tar.gz 文件并使用 winSCP 将其移动，然后我可以使用 untar 的东西好的..然后我有一个解压缩的文件夹，它是该站点的来源.. 但我不确定从那里去哪里.. apt-get install 似乎无法识别 tar.gz 或未解压缩的文件夹.. 我试过 rvm挂载并指定 ruby​​.exe 文件的路径（ruby-1.9.3-p327/bin/ruby），但它说无法识别命令行参数，我应该看到用法..

有什么建议吗？（最好没有 3rd 方程序或其他 RVM 的东西）

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T05:12:22.603

因为您是新手，所以我建议您跳过 RVM，除非您知道自己需要它。

Debian 有很好的方法来安装 Ruby 并使其可供所有系统用户使用：

```
 sudo apt-get install ruby1.9.3 
```

您将使用 root 密码以这种方式安装它。

要验证它是否有效：

```
 ruby -v 
```

那应该打印出如下内容：

```
 ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T10:59:29.927

如果您想使用 rvm 安装 ruby​​：只需按相同顺序执行命令即可。

```
$ sudo apt-get install curl git-core ruby
$ \curl -L https://get.rvm.io | bash -s stable
$ sudo apt-get install libssl-dev
$ source ~/.rvm/scripts/rvm
$ sudo apt-get install build-essential openssl libreadline6 libreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev autoconf libc6-dev ncurses-dev automake libtool bison subversion pkg-config
$ rvm install 1.9.3 
```

-- 给出 sqlserver 的密码，或者你可以直接回车。

```
$ gem install rails 
```

您现在已经设置了 ROR！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-07T15:01:50.423

回顾我的问题，我现在记得，它是防火墙。我当时工作的防火墙不允许我正确下载 ruby​​ 源。它正在下载，但不是实际来源，损坏的来源。所以，我在家里做了，效果很好。

只是想我会在这里弹出这个，以防有人在安装 ruby​​ 时发现它。

# verilog - RGB 值操作未按预期工作 (Verilog)

> ID：13639274
> 
> 赞同：0
> 
> 时间：2012-11-30T04:58:30.157
> 
> 标签：verilog

我正在为一个实体编写代码，该实体接受 RGB 值，对其进行平均，然后输出更改后的数据。

我的代码如下所示：

```
module RGBAVG (
   input            clk,
   input            rst_n,
   input      [9:0] iVGA_R,
   input      [9:0] iVGA_G,
   input      [9:0] iVGA_B,
   output reg [9:0] oVGA_R,
   output reg [9:0] oVGA_G,
   output reg [9:0] oVGA_B
 );

 integer avg;
 integer count;
 integer sum;
 initial begin
     count = 0;
     sum = 0;
     avg = 0; 
end

always@(posedge clk or negedge rst_n) begin

  if (!rst_n) begin //reset
     sum = 0;
     count = 0;
     oVGA_R <= {10{1'b0}};
     oVGA_G <= {10{1'b0}};
     oVGA_B <= {10{1'b0}};
   end
   else begin //get RGB values from pixel, prepare for next avg evaluation
     count = (count + 1)%307200; //640*480 = 307200
     sum = sum + (iVGA_R + iVGA_G + iVGA_B)/3;
     if (count == 0) begin
        avg = sum/307200; //update avg
        sum = 0;
        end

 oVGA_R <= avg;
 oVGA_G <= avg;
 oVGA_B <= avg;
   end
 end

 endmodule 
```

但是，当我上传代码时，我得到的只是黑屏。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:31:19.993

当您说“编译”时，您的意思是针对特定目标进行综合吗？您是要对此进行仿真，还是将其加载到 FPGA 上？

我不能确切地说出这个错误意味着什么，尽管我可能会提出一个可能使它消失的建议。

你的逻辑对我来说有点奇怪，可能无法综合。你对你的 always 块有一个异步重置，你说的是：

> 任何时候我断言这个异步复位，增加计数和总和的值

这种结构在典型的硬件中并不真正存在，您的异步重置应该只做一件事，那就是重置所有触发器的状态。因此，我建议移动所有这些：

```
count = (count + 1)%307200;
sum = sum + (iVGA_R + iVGA_G + iVGA_B)/3;
if (count == 0) begin
    avg = sum/307200;
    sum = 0;
end 
```

进入`else`子句，这样它就不会尝试在异步复位时写入新的寄存器值。我怀疑这与您的错误有关。我猜你可能想在重置时重置计数和总和。

# linux - 检查 Unix/Linux 的文件完整性

> ID：13639276
> 
> 赞同：6
> 
> 时间：2012-11-30T04:58:35.940
> 
> 标签：linux, unix

我不知道如何通过哈希算法 md5 检查 Unix/Linux 上文件的完整性。我注意开发 bash 脚本来检查 Linux 上每个特定文件夹（也包括子文件夹）中所需文件的 md5。所以我的问题是有可能吗？背景是在对系统进行更改之前检查文件的完整性。

谢谢你的建议，波诺米

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T05:01:19.283

这很容易做到！使用[`md5sum`](http://linux.101hacks.com/unix/md5sum/)命令。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-01-03T02:44:24.663

md5sum 不是他的问题中特别要求的递归。也许`find /path/to/files -type f -print0 | xargs -0 md5sum > checksum.md5`就足够了，但我更喜欢 hashdeep 工具。

使用`md5deep -r /path/to/files > checksum.md5`. 稍后，您可以使用它`md5sum -c checksum.md5 | grep -v ' OK$'`来检查是否有任何更改。当然，这不会检测到任何新添加的文件。如果您偏执，也可以使用 sha256deep 和 sha256sum。;-)

你也可以`md5deep -rx checksum.md5 /path/to/files`用来做检查。或者，您可以使用`hashdeep -r /path/to/files > hashes`然后`hashdeep -ravvk hashes /path/to/files`“审核”文件。我不太喜欢 hashdeep 工具进行检查和审计的方式，但你可能认为它很棒，所以你去吧。:-)

当然，这些都不会检查文件元数据（时间戳、所有权、权限等）。但是随后您将进入诸如 TripWire 或 AIDE 之类的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-01-03T06:36:47.950

这是我使用 md5sum 检查来自 2 个目录的所有文件的完整性的脚本。您可以更改要检查的目录名称：

```
#!/bin/sh

cd persediaan
find . -exec md5 {} \; | sort > /tmp/file1_md5_sort
cd -
cd tmp/persediaan
find . -exec md5 {} \; | grep -v Tag | sort > /tmp/file2_md5_sort
cd -
diff /tmp/file1_md5_sort /tmp/file2_md5_sort | grep -v CVS | grep MD5 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-12-21T17:13:21.037

最好使用大多数 linux 系统默认包含的 sha256sum 或 sha512sum：

```
$ sha256sum file
a9c558e2aee7e36080457eabaf5e82b5bcb4f168a552b2c2757121bd72844abc  file
$ sha512sum file
b6d831ff00d55ab467e2c63e27e229f4b1f6e76542709260ead9cde6f426fe76a985ee52cc31b1ab68035d3a37841171c658e3c79cb673566a555d4ab45ff46d  file 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-12-21T17:41:51.290

使用此命令获取 MD5 哈希：

```
md5sum <filename> 
```

# java - 位图大小超过android中的VM预算

> ID：13639277
> 
> 赞同：0
> 
> 时间：2012-11-30T04:58:36.663
> 
> 标签：java, android, bitmap, bitmapimage, bitmapfactory

> **可能重复：**
> [位图大小超过 Vm 预算错误 android](https://stackoverflow.com/questions/10737582/bitmap-size-exceeds-vm-budget-error-android)

我开发了一个 android example.here 我得到了以下错误：

```
java.lang.OutOfMemoryError: bitmap size exceeds VM budget 
```

这里我的控制台窗口显示以下错误：

```
11-23 22:15:55.933: E/dalvikvm-heap(2522): 22458-byte external allocation too large for this process.
11-23 22:15:55.933: E/GraphicsJNI(2522): VM won't let us allocate 22458 bytes
11-23 22:15:55.993: D/AndroidRuntime(2522): Shutting down VM
11-23 22:15:55.993: W/dalvikvm(2522): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
11-23 22:15:56.054: E/AndroidRuntime(2522): FATAL EXCEPTION: main
11-23 22:15:56.054: E/AndroidRuntime(2522): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.ssmobileproductions.catalogue/com.ssmobileproductions.catalogue.SingleMenuItem}: android.view.InflateException: Binary XML file line #93: Error inflating class android.widget.ImageButton
11-23 22:15:56.054: E/AndroidRuntime(2522):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.app.ActivityThread.access$2300(ActivityThread.java:125)
11-23 22:15:56.054: E/AndroidRuntime(2522):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
11-23 22:15:56.054: E/AndroidRuntime(2522):     at android.os.Handler.dispatchMessage(Handler.java:99)
11-23 22:15:56.054: E/AndroidRuntime(2522):     at android.os.Looper.loop(Looper.java:123)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.app.ActivityThread.main(ActivityThread.java:4627)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at java.lang.reflect.Method.invokeNative(Native Method)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at java.lang.reflect.Method.invoke(Method.java:521)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at dalvik.system.NativeStart.main(Native Method)
 11-23 22:15:56.054: E/AndroidRuntime(2522): Caused by: android.view.InflateException: Binary XML file line #93: Error inflating class android.widget.ImageButton
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.view.LayoutInflater.createView(LayoutInflater.java:513)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:563)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.view.LayoutInflater.rInflate(LayoutInflater.java:618)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.view.LayoutInflater.inflate(LayoutInflater.java:407)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:198)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.app.Activity.setContentView(Activity.java:1647)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at com.ssmobileproductions.catalogue.SingleMenuItem.onCreate(SingleMenuItem.java:35)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    ... 11 more
 11-23 22:15:56.054: E/AndroidRuntime(2522): Caused by: java.lang.reflect.InvocationTargetException
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.widget.ImageButton.<init>(ImageButton.java:78)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at java.lang.reflect.Constructor.constructNative(Native Method)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at java.lang.reflect.Constructor.newInstance(Constructor.java:446)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.view.LayoutInflater.createView(LayoutInflater.java:500)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    ... 22 more
 11-23 22:15:56.054: E/AndroidRuntime(2522): Caused by: java.lang.OutOfMemoryError: bitmap size exceeds VM budget
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.graphics.Bitmap.nativeCreate(Native Method)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.graphics.Bitmap.createBitmap(Bitmap.java:468)
  11-23 22:15:56.054: E/AndroidRuntime(2522):   at android.graphics.Bitmap.createBitmap(Bitmap.java:435)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.graphics.Bitmap.createScaledBitmap(Bitmap.java:340)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.graphics.BitmapFactory.finishDecode(BitmapFactory.java:488)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:462)
 11-23 22:15:56.054: E/AndroidRuntime(2522):    at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:323)
  11-23 22:15:56.054: E/AndroidRuntime(2522):   at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:697)
  11-23 22:15:56.054: E/AndroidRuntime(2522):   at android.content.res.Resources.loadDrawable(Resources.java:1709)
   11-23 22:15:56.054: E/AndroidRuntime(2522):  at android.content.res.TypedArray.getDrawable(TypedArray.java:601)
  11-23 22:15:56.054: E/AndroidRuntime(2522):   at android.widget.ImageView.<init>(ImageView.java:118)
  11-23 22:15:56.054: E/AndroidRuntime(2522):   at android.widget.ImageButton.<init>(ImageButton.java:82)
  11-23 22:15:56.054: E/AndroidRuntime(2522):   ... 26 more 
```

这是我的位图代码：

```
 private Bitmap getBitmap(String url) 
{
    File f=fileCache.getFile(url);

    //from SD cache
    Bitmap b = decodeFile(f);
    if(b!=null)
        return b;

    //from web
    try {
        Bitmap bitmap=null;
        URL imageUrl = new URL(url);
        HttpURLConnection conn = (HttpURLConnection)imageUrl.openConnection();
        conn.setConnectTimeout(30000);
        conn.setReadTimeout(30000);
        conn.setInstanceFollowRedirects(true);
        InputStream is=conn.getInputStream();
        OutputStream os = new FileOutputStream(f);
        Utils.CopyStream(is, os);
        os.close();
        bitmap = decodeFile(f);
        return bitmap;
    } catch (Exception ex){
       ex.printStackTrace();
       return null;
    }
}

//decodes image and scales it to reduce memory consumption
private Bitmap decodeFile(File f){
    try {
        //decode image size
        BitmapFactory.Options o = new BitmapFactory.Options();
        o.inJustDecodeBounds = true;
        BitmapFactory.decodeStream(new FileInputStream(f),null,o);

        //Find the correct scale value. It should be the power of 2.
        final int REQUIRED_SIZE=70;
        int width_tmp=o.outWidth, height_tmp=o.outHeight;
        int scale=1;
        while(true){
            if(width_tmp/2<REQUIRED_SIZE || height_tmp/2<REQUIRED_SIZE)
                break;
            width_tmp/=2;
            height_tmp/=2;
            scale*=2;
        }

        //decode with inSampleSize
        BitmapFactory.Options o2 = new BitmapFactory.Options();
        o2.inSampleSize=scale;
        return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
    } catch (FileNotFoundException e) {}
    return null;
    } 
```

请帮助我如何解决此错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:04:50.943

您可以使用`opts.inSampleSize=2; or opts.inSampleSize=4`( [question](https://stackoverflow.com/a/10849390/1068546) )解决问题

```
BitmapFactory.Options opts = new BitmapFactory.Options();
opts.inSampleSize=2;
Bitmap bitmap = decodeFile(f,opts);` 
```

本文还有一些可能会有所帮助的提示：

[http://android-developers.blogspot.de/2009/01/avoiding-memory-leaks.html](http://android-developers.blogspot.de/2009/01/avoiding-memory-leaks.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:03:33.610

您只需要更加谨慎地进行搜索。

这是最好的 IMO[链接](https://stackoverflow.com/a/823966/1855452)，可能有助于回答您的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:06:27.637

**-**这是位图的常见问题，它是在加载位图导致内存超出范围时引起的。

**解决方法见这个官方链接：**

[http://developer.android.com/training/displaying-bitmaps/load-bitmap.html](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)

# sorting - 将 ArrayList 传递给 TreeSet 以获取元素的排序顺序并删除重复项

> ID：13639288
> 
> 赞同：1
> 
> 时间：2012-11-30T04:59:43.960
> 
> 标签：sorting, treeset

```
 List<User> learnersList=null;
    List<User> instructorsList=null;
    List<User> contentCreatorsList=null;

    try {
        learnersList=getManagerFactory().getLearningMgmtManager().getAllLearners();
        SortedSet<User> userList =new TreeSet<User> (learnersList);
    } catch (ElearningException e) {
        log.error("Error in gotoinboxpage method in messagemgmt action");
    } 
```

在上面的代码中，我想以具有唯一值的自然顺序对“userList”进行排序。我打算使用 TreeSet。但我没有以排序的方式获得列表。无法弄清楚这里出了什么问题。而是引发以下异常。有什么帮助吗？

抛出未处理的异常：类 java.lang.ClassCastException 用户无法转换为 java.lang.Comparable

```
at java.util.TreeMap.compare(TreeMap.java:1188)
    at java.util.TreeMap.put(TreeMap.java:531)
    at java.util.TreeSet.add(TreeSet.java:255)
    at java.util.AbstractCollection.addAll(AbstractCollection.java:334)
    at java.util.TreeSet.addAll(TreeSet.java:312)
    at java.util.TreeSet.<init>(TreeSet.java:160) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:10:23.510

在你把你的对象放入之前`SortedSet`，我认为你需要实现`Comparable`接口，并覆盖`compareTo`函数。否则，集合无法知道您要如何对对象进行排序。默认情况下，集合只是根据元素的自然顺序对其进行排序。

# java - jquery.js 没有在 Tomcat 中加载

> ID：13639290
> 
> 赞同：0
> 
> 时间：2012-11-30T05:00:20.227
> 
> 标签：java, jquery, eclipse, jsp, tomcat

好的，所以到目前为止我发现，尽管我的 jquery.js 文件与我拥有的 jsp 文件位于同一文件夹中，但 Ecipse-Tomcat 配置正在不同的位置执行文件，它需要所有文件，除了jquery.js 这怎么可能，我怎样才能让它自动将文件加载到它的执行文件夹中？

在我的情况下，jquery 拒绝工作，除非我专门将它放在 tomcat 执行文件的文件夹中......有什么想法吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:06:19.537

好吧，经过几个小时的努力，我终于找到了解决这个问题的方法。如果您使用除 Java EE 之外的任何其他透视图，似乎 Eclipse Tomcat 可能无法很好地刷新和检查路径中的文件。在我的情况下，我一直在正常的 Java 透视图中使用和工作，这样即使我单击刷新，它也不会重新加载。但是现在我切换到 Java EE 视图并单击刷新。文件终于出现了，jquery 终于开始工作了！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:10:05.167

[所有 JS/CSS/HTML 文件都是静态资源，将通过DefaultServlet](http://tomcat.apache.org/tomcat-6.0-doc/api/org/apache/catalina/servlets/DefaultServlet.html)从 Tomcat 提供。您需要在 web.xml 中配置默认​​ servlet，并在它们所在的文件夹中设置适当的位置。这与 JSP 的位置无关，尽管 JSP 也可以放在同一个文件夹下。

# iphone - NSUser Defaults 保存按钮状态并再次显示

> ID：13639293
> 
> 赞同：1
> 
> 时间：2012-11-30T05:00:23.363
> 
> 标签：iphone, ios, uitableview, nsuserdefaults

我是 iphone 开发的新手。我正在开发一个应用程序，我正在显示一些带有未选中标记图像的联系人姓名。一旦用户点击按钮选择意味着我将其存储在 nsuserdefaults 中。这是我尝试过的代码。实际上我的问题是另一个用户值会动态变化。我正在为进入 tableview 的所有用户添加一个布尔值。如果在另一个用户中添加了一个人，我想以关闭状态显示。对于其他用户，我必须存储存储在 nsuserdefaults 中的值。我第一次手动循环总用户数为 0。

```
My interface File
#import <UIKit/UIKit.h>

 @interface ViewController : UIViewController<UITableViewDelegate,UITableViewDataSource>    
NSArray * test;
IBOutlet UITableViewCell *customCell;
IBOutlet UIImageView *photo;
IBOutlet UILabel *userName;
NSMutableArray *dataArray;
NSMutableDictionary *tempDictionary;
NSMutableArray * selected;
NSUserDefaults *prefs;
NSMutableArray * statusArray;
NSMutableArray * prefsArray;

}
 @property(nonatomic,retain)    IBOutlet UITableViewCell *customCell;
 @property(nonatomic,retain)IBOutlet UITableView *tblView;
  @property(nonatomic,retain) NSMutableArray *dataArray;
 @end

implementation file:
- (void)viewDidLoad
{
dataArray=[[NSMutableArray alloc]init];
selected=[[NSMutableArray alloc]init];
prefs=[NSUserDefaults standardUserDefaults];
prefsArray=[[NSMutableArray alloc]init];

NSMutableArray * anotheruser=[NSMutableArray arrayWithObjects:@"da",@"kn",@"gn",@"Prd",@"Kai",@"Sh",nil];
for (int i=0; i<anotheruser.count;i++) {
    [selected addObject:[NSNumber numberWithInt:0]];
}
for (int i=0; i< anotheruser.count; i++) {
    NSMutableDictionary *dict=[[NSMutableDictionary alloc]init];
    [dict setValue:[anotheruser objectAtIndex:i] forKey:@"name"];
    [dict setValue:[selected objectAtIndex:i] forKey:@"checked"];
    [self.dataArray addObject:dict];
}

[super viewDidLoad];
 }
    (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
return 1;
 }
 - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:NSInteger)section
  {
   return dataArray.count;
   }

  - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath: 
 {

static NSString *CellIdentifier = @"Cell";
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {

        [[NSBundle mainBundle] loadNibNamed:@"MyViewCell" owner:self options:nil];
    cell = customCell;
    self.customCell = nil;

}

photo.image=[UIImage imageNamed:@"raj.jpg"];
NSMutableDictionary *item = [self.dataArray objectAtIndex:indexPath.row];
userName.text= [item objectForKey:@"name"];

[item setObject:cell forKey:@"cell"];

BOOL checked = [[item objectForKey:@"checked"] boolValue];
UIImage *image = (checked) ? [UIImage imageNamed:@"checked.png"] : [UIImage imageNamed:@"unchecked.png"];

UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
CGRect frame = CGRectMake(0.0, 0.0, image.size.width, image.size.height);
button.frame = frame;   // match the button's size with the image size

[button setBackgroundImage:image forState:UIControlStateNormal];
[button addTarget:self action:@selector(checkButtonTapped:event:) forControlEvents:UIControlEventTouchUpInside];
cell.backgroundColor = [UIColor clearColor];
cell.accessoryView = button;

return cell;
}
   - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
 {
[self tableView: tblView accessoryButtonTappedForRowWithIndexPath: indexPath];
[self.tblView deselectRowAtIndexPath:indexPath animated:YES];
}

    - (void)checkButtonTapped:(id)sender event:(id)event
  {
  NSSet *touches = [event allTouches];
UITouch *touch = [touches anyObject];
CGPoint currentTouchPosition = [touch locationInView:tblView];
NSIndexPath *indexPath = [tblView indexPathForRowAtPoint: currentTouchPosition];
if (indexPath != nil)
{
[self tableView:tblView accessoryButtonTappedForRowWithIndexPath: indexPath];
}
 }

   - (void)tableView:(UITableView *)tableView accessoryButtonTappedForRowWithIndexPath:  (NSIndexPath *)indexPath
   {
NSMutableDictionary *item = [dataArray objectAtIndex:indexPath.row];
BOOL checked = [[item objectForKey:@"checked"] boolValue];

NSUInteger myInt=indexPath.row;
    [item setObject:[NSNumber numberWithBool:!checked] forKey:@"checked"];

UITableViewCell *cell = [item objectForKey:@"cell"];
UIButton *button = (UIButton *)cell.accessoryView;

if (!checked)
{
    [selected replaceObjectAtIndex:myInt withObject:[NSNumber numberWithInt:1]];
}else{
    [selected replaceObjectAtIndex:myInt withObject:[NSNumber numberWithInt:0]];
}

 [prefs setObject:selected forKey:@"status"];
   NSLog(@"%@", selected);
   UIImage *newImage = (checked) ? [UIImage imageNamed:@"unchecked.png"] : [UIImage  imageNamed:@"checked.png"];
 [button setBackgroundImage:newImage forState:UIControlStateNormal];
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:03:53.363

只需尝试在`cellForRowAtIndexPath:`方法中使用此代码

对于 CustomCell 使用如下..

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    MyViewCell *cell = (MyViewCell *) [tableView dequeueReusableCellWithIdentifier:nil];

    // MyCustomeCell *cell = (MyCustomeCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];//custom cell
    // UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) 
    {
        NSArray *topLevelObjects = [[NSBundle mainBundle] loadNibNamed:@"MyViewCell" owner:self options:nil];

        for (id currentObject in topLevelObjects){
            if ([currentObject isKindOfClass:[UITableViewCell class]]){
                cell =  (MyViewCell *) currentObject;
                break;
            }

        }
} 
```

对于 DefaultCell 使用下面的代码...

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {
    static NSString *kCustomCellID = @"MyCellID";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:kCustomCellID];
    if (cell == nil)
    {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:kCustomCellID] autorelease];
        cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;
        cell.selectionStyle=UITableViewCellSelectionStyleBlue;
    }
} 
```

# asp.net - ActiveDirectoryMembershipProvider 始终重定向到登录页面

> ID：13639296
> 
> 赞同：0
> 
> 时间：2012-11-30T05:00:41.420
> 
> 标签：asp.net, forms-authentication, activedirectorymembership

我正在尝试实现 ActiveDirectoryMembership 提供程序，以便可以对活动目录使用表单身份验证。

我可以浏览到应用程序，并被重定向到登录页面。如果我输入错误的密码，我会得到正确的错误。如果我输入正确的密码，它会将我重定向到默认 URL (/Secure/Default.aspx)，但会立即重定向回登录页面。我可以看到两个重定向，因为我使用的是提琴手。所以我确定它正在正确地针对 AD 进行身份验证，但仍将我带回登录页面。我也知道浏览器确实接受 cookie，因为我在应用程序中构建了一个测试页面来证明这一点。我已经在下面包含了 web.config 和相关代码，只是无法弄清楚我错过了什么......

**编辑：** 我发现如果我指定 UseUri 而不是 UseCookies，一切都会开始工作。但是我已经验证了我可以将数据存储在一个页面上的 cookie 中，并在另一个页面上检索它，那么为什么它不适用于身份验证部分呢？

**编辑 2** 我还从登录页面中删除了我的代码并使用了标准登录控件，同样的问题。

Web.config 文件：

```
<connectionStrings>
    <add name="ADConnectionString" connectionString="LDAP://YNET" />
</connectionStrings>
<system.web>      
    <authentication mode="Forms">
      <forms name=".ASPXAUTH" 
             path="/FormsAuth"
             loginUrl="~/SignIn.aspx" 
             defaultUrl="~/Secure/Default.aspx" 
             timeout="20" 
             requireSSL="false"
             protection="All"
             slidingExpiration="true"
             cookieless="UseCookies"
             enableCrossAppRedirects="false"/>
    </authentication>

    <authorization>
      <!-- Deny unauthenticated users will cause automatic redirect to the sign in page when using forms authentication. -->
      <deny users="?"/>
      <allow users="*"/>
    </authorization>

    <!-- For non AD passthrough authentication, specify the defaultProvider property -->
    <membership defaultProvider="ActiveDirectoryMembershipProvider">
      <providers>
        <clear/>
        <add name="ActiveDirectoryMembershipProvider"
             type="System.Web.Security.ActiveDirectoryMembershipProvider"
             connectionStringName="ADConnectionString"
             attributeMapUsername="sAMAccountName"/>

       </providers>      
    </membership>
</system.web> 
```

登录页面：

```
bool bIsValid = System.Web.Security.Membership.ValidateUser(txtUsername.Text, txtPassword.Text);

//Authenticate the user credentials against the default membership provider specified in configuration
if (bIsValid)
{
    System.Web.Security.FormsAuthentication.SetAuthCookie(txtUsername.Text, true);

    System.Web.Security.FormsAuthentication.RedirectFromLoginPage(txtUsername.Text, true);

}
else
{
    //display error
    ....
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:31:31.617

cookie 问题（可能是登录问题）是由于您将 cookie 路径设置为`/FormsAuth`. 这意味着 cookie 仅对该 URL 路径有效，否则将被丢弃。此外，您的`<authorization>`部分可以进行一些调整，因为我在您的部分 Web.config 的以下完整更新中进行了调整：

```
<connectionStrings>
    <add name="ADConnectionString" connectionString="LDAP://YNET" />
</connectionStrings>
<system.web>      
    <authentication mode="Forms">
      <forms name=".ASPXAUTH" 
             path="/"
             loginUrl="~/SignIn.aspx" 
             defaultUrl="~/Secure/Default.aspx" 
             timeout="20" 
             requireSSL="false"
             protection="All"
             slidingExpiration="true"
             cookieless="UseCookies"
             enableCrossAppRedirects="false"/>
    </authentication>

    <authorization>
      <allow users="*"/>
    </authorization>

    <!-- For non AD passthrough authentication, specify the defaultProvider property -->
    <membership defaultProvider="ActiveDirectoryMembershipProvider">
      <providers>
        <clear/>
        <add name="ActiveDirectoryMembershipProvider"
             type="System.Web.Security.ActiveDirectoryMembershipProvider"
             connectionStringName="ADConnectionString"
             attributeMapUsername="sAMAccountName"/>

       </providers>      
    </membership>
</system.web>
<location path="Secure">
    <system.web>
        <authorization>
            <deny users="?"/>
        </authorization>
    </system.web>
</location> 
```

如果该`/Secure`文件夹确实是您要通过登录保护的唯一文件夹，那么上述方法有效，但如果您想锁定除登录页面之外的所有内容，您只需要`<deny users "?" />`在您的主要`<authorization>`部分中。

# c++ - 处理重载运算符时多项式类崩溃=

> ID：13639297
> 
> 赞同：0
> 
> 时间：2012-11-30T05:00:43.757
> 
> 标签：c++

我正在开发一个从函数类派生多项式类的程序。我几乎完成了，但我遇到了最后一个问题。

我正在调用“=”运算符。在 main 函数中，它看起来像这样：

```
f3 = f2 * 2; 
```

f3 和 f2 都是多项式数据类型。乘法运算符也被重载，并且已经过测试可以工作。当我的程序达到这一点时，它会崩溃。这是崩溃的回溯：

```
Program received signal SIGABRT, Aborted.
0x00000000 in ?? ()
(gdb) bt
#0  0x00000000 in ?? ()
#1  0x77cbf8c1 in ntdll!RtlUpdateClonedSRWLock ()
   from /cygdrive/c/Windows/system32/ntdll.dll
#2  0x75ab0816 in WaitForSingleObjectEx ()
   from /cygdrive/c/Windows/syswow64/KERNELBASE.dll
#3  0x000000ec in ?? ()
#4  0x00000000 in ?? () 
```

不幸的是，这并没有给我任何提示。

最后，这里是重载的 operator=：

```
 Polynomial& Polynomial::operator=(const Polynomial& rhs) {
if(this->a)
    delete [] this->a;
this->setName(rhs.getName());
this->degree = rhs.degree;
a = new double[this->degree];
for(int i = 0; i < this->degree; i++)
{
    this->a[i] = rhs.a[i];
}
return *this;
} 
```

以及类的头文件。

```
 class Polynomial : public Function
{
    public:
                    Polynomial (const string& name = "unnamed");
                    Polynomial (const Polynomial& rhs);
        void        setCoefficients (int degree, ...);
        int         getDegree() const { return degree; }
        double      operator[] (int i) const;
        double      operator() (double x) const;
        Polynomial  operator* (double c) const;
        Polynomial& operator*= (double c);
        Polynomial& operator=(const Polynomial& rhs);
        void        write(ostream& outfile) const;

    private:
        double*    a;
        int        degree;
};
Polynomial operator* (double c, const Polynomial& p); 
```

构造函数：

```
 (Polynomial::Polynomial (const string& name) {
    a = new double[1];
    a[0] = 0;
    degree = 0;
    return;
    }

Polynomial::Polynomial (const Polynomial& rhs) {

    //Null a, and then pass over to the overloaded = operator.
    if(this->a)
        delete [] this->a;
    *this = rhs;
    return;
    } 
```

我愿意分享尽可能多的代码。感谢您的任何帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:55:08.757

我认为问题出在您的复制构造函数中，在您的复制构造函数中，您有：

```
//Null a, and then pass over to the overloaded = operator.
if(this->a)
    delete [] this->a; 
```

但是`a`这里没有初始化，所以不能删除，所以替换为：

```
Polynomial::Polynomial(Polynomial const& other) : a( NULL ) {...} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:23:59.503

构造函数和复制构造函数都有问题。复制构造函数像普通构造函数一样从无到有构造对象（但随后它从其他对象复制相应的值），因此您不应该在那里检查值，只需创建它即可。不需要空白返回运算符。此外，您还存在 a 的 0 和 1 大小的不确定性问题。这段代码会更常见：

```
Polynomial::Polynomial (const string& name) : Function(name) {
    a = 0;
    degree = 0;
}

Polynomial::Polynomial (const Polynomial& rhs) {

    setName(rhs.getName());
    degree = rhs.degree;
    if(degree)
    {
        a = new double[degree];
        for(int i = 0; i < degree; i++)
            a[i] = rhs.a[i];
    }
    else
        a = 0;
}

const Polynomial& Polynomial::operator=(const Polynomial& rhs) {
    if(this != &rhs)
    {
        if(a)
            delete [] a;
        setName(rhs.getName());
        degree = rhs.degree;
        a = new double[degree];
        for(int i = 0; i < degree; i++)
            a[i] = rhs.a[i];
    }
    return *this;
} 
```

# email - 雅虎邮箱如何推送到 iPhone？

> ID：13639299
> 
> 赞同：0
> 
> 时间：2012-11-30T05:00:55.240
> 
> 标签：email, imap, yahoo-mail

雅虎一般如何向 iPhone/iOS 发送电子邮件推送通知？[http://en.wikipedia.org/wiki/Push-IMAP](http://en.wikipedia.org/wiki/Push-IMAP)是我在研究中得到的，但我不确定雅虎到底在做什么。我正计划建立自己的邮件服务器，我很好奇雅虎如何能够推送，但像 Gmail 这样的其他人却不能。

我应该提到我指的是默认的邮件应用程序，而不是雅虎的自定义邮件应用程序（不确定他们是否有一个）。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T15:03:53.827

[雅虎的 IMAP 服务器有一个特殊的能力“XYMAPPLEPUSHSERVICE”，这大概是协商使用Apple 推送通知服务](https://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html)的专有方式

# php - PHP导出到excel

> ID：13639303
> 
> 赞同：3
> 
> 时间：2012-11-30T05:01:07.790
> 
> 标签：php, export-to-excel

我遇到了无法将日文文本导出到 excel (xls) 的问题。

我使用了以下代码：

```
header('Content-type: application/ms-excel;charset=UTF-8');
header('Content-Disposition: attachment; filename='.$filename); 
header("Pragma: no-cache");     
echo $contents; 
```

但是在 excel 文件中，文本变成了这样的有趣字符：

> ```
> Ã©Â™?Ã¥Â®ÂšÃ§Â‰? Ã£?Â¨Ã£??Ã£?Â¯Ã£??Ã£?Â£Ã£?Â†Ã£?ÂªÃ£?Â¢Ã¥??Ã§ÂŠÂ¬Ã£?Â®Ã£?ÂŒÃ¦??Ã£? 
> ```
> 
> Â'Ã¨??Ã£??Ã£?ÂŸÃ£?Â†Ã£?Â£Ã£??Ã£??Ã£??Ã£?? 一个？？

目前，我正在使用hostingmanager，我在不同的服务器上尝试使用相同的代码，没有问题。

可能是什么问题呢。因为PHP版本？？请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T20:53:18.220

尝试这个

```
<form action="itemexcel.php" method="post" 
onsubmit='$("#datatodisplay").val( $("<div>").append( $("#ReportTable")
.eq(0).clone()).html() )'> 
```

div 或 table 我们想要使用的 div 或 table 应该是 id="ReportTable"

```
<table id="ReportTable" width="781" border="2"> Or <div id id="ReportTable">
<tr>
<td><input type="hidden" id="datatodisplay" name="datatodisplay"></td>
<td><input class="bg" type="submit" value="Export To Excel"></td>
</tr></table></div>

<input type="hidden" id="datatodisplay" name="datatodisplay">
<input class="bg" type="submit" value="Export To Excel"> 
```

itemexcel.php 页面

```
<?php
header('Content-Type: application/force-download');
header('Content-disposition: attachment; filename=itemcode.xls');
// Fix for crappy IE bug in download.
header("Pragma: ");
header("Cache-Control: ");
echo $_REQUEST['datatodisplay'];
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:30:18.387

```
header("Content-type: application/vnd.ms-excel;charset=UTF-8"); 
header("Content-Disposition: attachment; filename=\"download.xlsx");
header("Cache-control: private"); 
```

# iphone - 如何从 NSURL 中的 XML 文件中获取图像以及数据作为 iPhone 中的异步下载

> ID：13639324
> 
> 赞同：0
> 
> 时间：2012-11-30T05:03:27.790
> 
> 标签：iphone, ios, xcode, ios6

我有一个 XML 文件作为 url，其中文件包含这样的内容，

```
<Products>
<products id="1">
<name>product1</name>
<price>$150</price>
<img>http://www.myimage.com/Main_pic.png</img>
</products>
</Products> 
```

现在使用 NSXMLParser 我可以检索数据和图像，但是在我获得这些数据后，我不明白如何存储在 NSMutableArray 或 NSDictionary 中。我还尝试[从 Apple 的 Lazy Loading Table Images Asynchronous Downloading](http://developer.apple.com/library/ios/#samplecode/LazyTableImages/Introduction/Intro.html)实现延迟加载异步图像下载。但我未能加载图像。我们有任何替代异步加载的方法吗？

请详细描述我，

1.  如何在异步下载中存储从 url XML 文件中检索的数据。
2.  如何分离数据和图像。
3.  如何在 UIImage 和数据中实现这些以在 iPhone 中查看。

**已编辑**

为了更好地理解，我需要如下图所示的数据和图像，而不是在表格视图中。 ![示例图片](../Images/077d81295a0d846c154e2e68e270a990.png)

**EDITED-2** 通过使用我根据我的内容修改的lazyloading解析here代码供您参考，

```
- (void)main{
self.workingArray = [NSMutableArray array];
self.workingPropertyString = [NSMutableString string];
NSXMLParser *parser = [[NSXMLParser alloc] initWithData:dataToParse];
[parser setDelegate:self];
[parser parse];
if (![self isCancelled]){
self.completionHandler(self.workingArray);}
self.workingArray = nil;
self.workingPropertyString = nil;
self.dataToParse = nil;}

- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict{
if ([elementName isEqualToString:@"Products"]){
self.workingEntry = [[egsLists alloc] init];}
storingCharacterData = [elementsToParse containsObject:elementName];}

- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName{
if (self.workingEntry){
if (storingCharacterData){
NSString *trimmedString = [workingPropertyString stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
[workingPropertyString setString:@""];
if ([elementName isEqualToString:sIDStr]){
self.workingEntry.ProductID = trimmedString;}
else if ([elementName isEqualToString:sImageStr]){
self.workingEntry.img = trimmedString;}}
else if ([elementName isEqualToString:@"Products"]){
[self.workingArray addObject:self.workingEntry];
self.workingEntry = nil;}}}

- (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string{
if (storingCharacterData){
[workingPropertyString appendString:string];}} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:15:08.663

上课`NSObject`说`DataClass`

// 为你的数据`DataClass.h`创建`Synthesize`对象`DataClass.m`

```
- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName 
  namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName {

DataClass *mydata=[[DataClass alloc]init];

if ([elementName isEqualToString:@"id"]) 
    {
mydata.idvalue=[currentNodeContent stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
}
if ([elementName isEqualToString:@"name"]) 
    {
mydata.namevalue=[currentNodeContent stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
}
if ([elementName isEqualToString:@"price"]) 
    {
mydata.pricevalue=[currentNodeContent stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
}
if ([elementName isEqualToString:@"img"]) 
    {
mydata.imgLink=[currentNodeContent stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
}

[myArray addObject:mydata];

} 
```

之后，当您需要时，如果您正在使用，您可以从数组中检索数据`TableView`

然后在您的`CellForRowAtindexPath`方法中使用以下内容：

```
DataClass *mydata=[[DataClass alloc]init];
mydata=[myarray objectAtindex:indexPath.row];

cell.textlabel.text=mydata.nameValue;
cell.imageView.image=[UIImage imageWithData: [NSData dataWithContentsOfURL: [NSURL URLWithString:mydata.imglink]]]; 
```

您可以使用Apple 的[LazyTableImages SampleCode](http://developer.apple.com/library/ios/#samplecode/LazyTableImages/Introduction/Intro.html)来加载图像。

[http://developer.apple.com/library/ios/#samplecode/LazyTableImages/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/LazyTableImages/Introduction/Intro.html)

如需完整的 XML 解析[，请参阅教程](http://www.theappcodeblog.com/2011/05/09/parsing-xml-in-an-iphone-app-tutorial/)或使用以下代码：

来源：[http ://www.theappcodeblog.com/2011/05/09/parsing-xml-in-an-iphone-app-tutorial/](http://www.theappcodeblog.com/2011/05/09/parsing-xml-in-an-iphone-app-tutorial/)

```
 NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:@"http://opentestdrive.com/Products.xml"]];

        // Perform request and get JSON as a NSData object

        NSData *response = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];

        NSString *responseString = [[NSString alloc] initWithData:response encoding:NSUTF8StringEncoding] ;

        NSLog(@"responseString=%@", responseString);

        NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];

        [request setURL:[NSURL URLWithString:url]];
        [request setHTTPMethod:@"GET"];

        NSURLConnection *conn=[[NSURLConnection alloc] initWithRequest:request delegate:self];
        if (conn)
        {
            receivedData = [[NSMutableData data] retain];
        }
        else
        {
        }

- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
    [receivedData setLength:0];
}

- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{
    [receivedData appendData:data];
}

- (void) parser:(NSXMLParser *)parser didStartElement:(NSString *)elementname namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict
{
    if ([elementname isEqualToString:@"imgName"]) 
    {
        //if you Taking any NSObject Class then Alloc init here.
    }
}

- (void) parser:(NSXMLParser *)parser didEndElement:(NSString *)elementname namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
{
    if ([elementname isEqualToString:@"name"]) 
    {
        namelable.text=currentNodeContent;
    }
    if ([elementname isEqualToString:@"price"]) 
    {
        pricelabel.text = currentNodeContent;
    }
    if ([elementname isEqualToString:@"imgName"]) 
    {
        imageView.image=[UIImage imageWithData: [NSData dataWithContentsOfURL: [NSURL URLWithString:currentNodeContent]]];
    }
}

- (void) parser:(NSXMLParser *)parser foundCharacters:(NSString *)string
{
    currentNodeContent = (NSMutableString *) [string stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
} 
```

# c# - 如何将字符串转换为独立文件流？

> ID：13639326
> 
> 赞同：1
> 
> 时间：2012-11-30T05:03:32.477
> 
> 标签：c#, windows-phone-7

将字符串转换为隔离文件流？我正在尝试将字符串转换为隔离文件流并在 wp7 上重新写入 XML 文件。任何人都可以建议我。预先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:57:31.707

如果您只想存储和检索 XML 数据，请查看以下教程。它将帮助您了解如何存储 XML 数据。

[http://www.windowsphonegeek.com/tips/All-about-WP7-Isolated-Storage---Read-and-Save-XML-files-using-XmlWriter](http://www.windowsphonegeek.com/tips/All-about-WP7-Isolated-Storage---Read-and-Save-XML-files-using-XmlWriter)

当您想要保存大量数据时，特别是当您想要存储类的对象时，请另外查看以下教程。这将教您如何使用 XMLserializer 存储和检索数据，这还将维护存储的整个数据序列。

[http://rushabh.greenpoison.org.in/blog/2012/06/07/local-windows-phone-7-database-using-xmlserializer/](http://rushabh.greenpoison.org.in/blog/2012/06/07/local-windows-phone-7-database-using-xmlserializer/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:06:28.560

`IsolatedFileStream`在很大程度上，您可以像使用任何其他流一样使用。因此，您将写入桌面上的流（例如`XmlWriter.Create(stream)`）的任何方式都应该没问题。对于小到足以加载到内存中的文件，我个人大部分时间都会使用 LINQ to XML - 同样，您可以从流中加载它，然后将其保存到`XmlWriter`包装的`IsolatedFileStream`.

我建议*不要*先将 XML 作为字符串加载，然后再对其进行解析；如果您直接从流中加载它，则允许解析器自己处理声明的文本编码，而不是您必须这样做。

# android - android ViewGroup height can't be wrap_content

> ID：13639329
> 
> 赞同：3
> 
> 时间：2012-11-30T05:03:39.803
> 
> 标签：android, viewgroup

lots of button will be added in my viewgroup, so I need my viewgroup'height is wrap_content, but whatever I set height in code or xml, it doesn't work, the viewgroup'height always match_parent, so what's wrong with it? how can I set the height is wrap_content?

CustomViewGroup:

```
public class CustomViewGroup extends ViewGroup {

private final static String TAG = "CustomViewGroup";

private final static int VIEW_MARGIN = 2;

public CustomViewGroup(Context context) {
    super(context);
}

public CustomViewGroup(Context context, AttributeSet attrs) {
    super(context, attrs);
}

@Override
protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
    Log.d(TAG, "widthMeasureSpec = " + widthMeasureSpec
            + " heightMeasureSpec" + heightMeasureSpec);

    for (int index = 0; index < getChildCount(); index++) {
        final View child = getChildAt(index);
        // measure
        child.measure(MeasureSpec.UNSPECIFIED, MeasureSpec.UNSPECIFIED);
    }

    super.onMeasure(widthMeasureSpec, heightMeasureSpec);
}

@Override
protected void onLayout(boolean arg0, int arg1, int arg2, int arg3, int arg4) {
    Log.d(TAG, "changed = " + arg0 + " left = " + arg1 + " top = " + arg2
            + " right = " + arg3 + " botom = " + arg4);
    final int count = getChildCount();

    int row = 0;// which row lay you view relative to parent
    int lengthX = arg1; // right position of child relative to parent
    int lengthY = arg2; // bottom position of child relative to parent
    for (int i = 0; i < count; i++) {

        final View child = this.getChildAt(i);
        int width = child.getMeasuredWidth();
        int height = child.getMeasuredHeight();

        Log.i(TAG, "width = " + width + " height = " + height);
        lengthX += width + VIEW_MARGIN;
        lengthY = row * (height + VIEW_MARGIN) + VIEW_MARGIN + height
                + arg2;
        Log.i(TAG, "lengthX = " + lengthX + " lengthY = " + lengthY + " row = " + row);
        // if it can't drawing on a same line , skip to next line
        if (lengthX > arg3) {
            lengthX = width + VIEW_MARGIN + arg1;
            row++;
            lengthY = row * (height + VIEW_MARGIN) + VIEW_MARGIN + height
                    + arg2;

        }

        child.layout(lengthX - width, lengthY - height, lengthX, lengthY);
    }

} 
```

}

```
public class ViewGroupTest extends Activity {

CustomViewGroup vg;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_view_group_test);
    LinearLayout l = (LinearLayout) findViewById(R.id.lllll);
    Button b1 = new Button(this);
    b1.setId(1);
    b1.setText("hello");
    vg = new CustomViewGroup(this);
    LinearLayout.LayoutParams pr = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.FILL_PARENT,200);
    vg.setBackgroundColor(Color.BLUE);
    vg.setLayoutParams(pr);
    vg.addView(b1);
    Button b2 = new Button(this);
    b2.setId(2);
    b2.setText("world");
    vg.addView(b2);

    Button b3 = new Button(this);
    b3.setId(3);
    b3.setText("world 33333");
    vg.addView(b3);

    Button b4 = new Button(this);
    b4.setId(4);
    b4.setText("world44444444");
    vg.addView(b4);
    b3.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            Button b = new Button(ViewGroupTest.this);
            b.setText("world");
            vg.addView(b);
        }
    });

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-01T03:05:06.383

I made it, but I still don't know why the height can't be wrap_content; I directly set the viewgroup's real height, and then use callback function to change the height; in the CustomViewGroup add the Interface

```
public void setCallBack(CallBack c) {
    mCallBack = c;
}

public interface CallBack {
    public void callBack(int height);
} 
```

then in onlayout

```
if (lengthX > arg3) {
            Log.i("CustomViewGroup", "yes wrap");
            lengthX = width + VIEW_MARGIN + arg1;
            row++;
            lengthY = row * (height + VIEW_MARGIN) + VIEW_MARGIN + height
                    + arg2;
            if (mCallBack != null) {
                mCallBack.callBack(lengthY);
            }
        } 
```

in the Activity implement the callback

```
private CallBack mCallBack = new CallBack() {

    @Override
    public void callBack(int height) {
        Log.i("CustomViewGroup", "callback");

        LayoutParams lp = (LayoutParams) vg.getLayoutParams();
        Log.i("CustomViewGroup", "vg height = " + lp.height + " height = " + height);
        lp.height = height;
        Log.i("CustomViewGroup", "vg height = " + lp.height + " height = " + height);
        vg.setLayoutParams(lp);
        vg.post(new Runnable() { //must be use post, if you dircetly vg.requestLayout, can't work, who can explain, appreciated!
            public void run() {
                vg.requestLayout();
            }
        });
        Log.i("CustomViewGroup", "vg height = " + vg.getHeight() + " height = " + height);

    }
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T20:33:08.237

I have solved this problem by copying ViewPager code from the support library and modifying it a bit.

What I did is this:

1.  Copied viewpager's code into my class CustomViewPager

2.  Extended CustomViewPager and override onMeasure method

Inside this method i've measured the height of first child and set height of ViewPager to be the same as from first child

```
 @Override
    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
        mInLayout = true;
        populate();
        mInLayout = false;

        int firstChildHeight = 0;
        int firstChildWidth = 0;

        int size = getChildCount();

        for (int i = 0; i < size; ++i) {
            final View child = getChildAt(i);

            if (child.getVisibility() != GONE) {
                measureChild(child, widthMeasureSpec, heightMeasureSpec);

                if (i == 0) {
                    firstChildHeight = child.getMeasuredHeight();
                    firstChildWidth = child.getMeasuredWidth();
                }

                child.layout(0, 0, child.getMeasuredWidth(), child.getMeasuredHeight());
            }
        }

        setMeasuredDimension(firstChildWidth, firstChildHeight);
    } 
```

# oop - 'cell' 类型的输入参数的未定义函数或方法 'shuffle'

> ID：13639332
> 
> 赞同：0
> 
> 时间：2012-11-30T05:03:55.187
> 
> 标签：oop, matlab

我正在尝试创建一个具有 shuffle 和 deal 方法的类“Deck”，但是，我不知道为什么我的“shuffle”函数没有运行。我收到错误消息：

> 'cell' 类型的输入参数的未定义函数或方法'shuffle'。

有人可以解释为什么该功能没有运行吗？非常感谢您。我正在调用以前创建的 classdef 'Card'

```
 classdef Deck < handle;
 properties;
     diamond;
     spade
     heart;
     club;

    end;
     methods;
       function obj=create(deck);
         for k=1:13;
             %Designate a number to each suit to create the deck
             obj(k).diamond=cards('D','R',k);
             obj(k).spade=cards('S','B',k);
             obj(k).heart=cards('H','R',k);
            obj(k).club=cards('C','B',k);
         end
         %Create a vector of each suit and number accordingly until we
         %have 52 cards. 13 of each suit.
         obj={obj.diamond obj.spade obj.heart obj.club};            

     end

     %%
     function obj=shuffle(obj);

             shuff=randperm(52);

         for k=1:52;  
             hf=shuff(k);
             obj(k)=obj(hf);

         end
         end

     end
   end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T19:38:10.653

我想你想要一个属性，它是一个`Card`对象数组。请参阅[对象数组的 MATLAB 文档](http://www.mathworks.com/help/matlab/object-arrays.html)。以下是我将如何解决这个问题：

```
classdef Deck < handle
    properties
        % This will be an object array of Card objects.
        CardArray
    end

    properties (Dependent)
        nCards
    end

    methods 
        function This = Deck()
            % preallocate arrays.
            % the constructor for Card should accept 0 arguments.
            Diamond(13) = Card('D', 'R', 13);
            Spade(13) = Card('S', 'B', 13);
            Heart(13) = Card('H', 'R', 13);
            Club(13) = Card('C', 'B', 13);

            % now fill in the rest of each suit
            for iVal = 1:12
                Diamond(iVal) = Card('D', 'R', iVal);
                Spade(iVal) = Card('S', 'B', iVal); 
                Heart(iVal) = Card('H', 'R', iVal); 
                Club(iVal) = Card('C', 'B', iVal);  
            end

            % finally concatenate them into a single array
            This.CardArray = [Diamond, Spade, Heart, Club];
        end

        function shuffle(This) 
            This.CardArray = This.CardArray(randperm(This.nCards)); 
        end

        function n = get.nCards(This)
            n = length(This.CardArray);
        end
    end
end 
```

您需要确保您的`Card`构造函数接受零参数。例如，您可以执行以下操作：

```
classdef Card < handle

    properties
        symbol = 'D'
        color = 'R'
        value = 1;
    end

    methods
        function This = Card(varargin)
            if nargin >= 1
                This.symbol = varargin{1};
            end
            if nargin >= 2
                This.color = varargin{2};
            end
            if nargin >= 3
                This.value = varargin{3};
            end
        end

    end

end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:14:40.583

您不需要构造函数中的最后一行：

```
obj = { obj.diamond obj.spade obj.heart obj.club } 
```

此行将您的对象变成一个单元格 (?)。尝试删除此行。试试`classdef`这个

```
classdef Deck 
     properties 
          cards
     end
 methods
     function obj = Deck()
          % do your stuff here, but no obj. before diamond/spade/heart/club
          obj.cards = { diamond, spade, heart, club };
     end 
     function obj  =shuffle ( obj )
          obj.cards = obj.cards( randperm(52) );
     end
 end 
```

# c#-4.0 - Fluent Nhibernate Decimal Primary key with Auto Increment

> ID：13639333
> 
> 赞同：1
> 
> 时间：2012-11-30T05:03:59.630
> 
> 标签：c#-4.0, nhibernate-mapping, fluent

是否可以使用从 FNH 映射自动递增来创建十进制作为主键？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-07-07T03:12:44.393

我遇到了同样的事情。似乎`fluent-nhibernate`正在[强制执行此约束](https://github.com/jagregory/fluent-nhibernate/blob/b8aa3ea394504af2ed7f00ef287699ca07410f82/src/FluentNHibernate/Mapping/GeneratorBuilder.cs#L73)。

如果您知道数据库将允许这样做（在这种情况下，应该没问题），您可以像这样绕过约束：

```
Id(x => x.MyDecimalId).GeneratedBy.Custom<IdentityGenerator>(); 
```

这将使用相同的策略`Identity()`，但不会引发异常。就我而言，我已经添加了一个扩展方法`IdentityGenerationStrategyBuilder<IdentityPart>`：

```
public static class IdentityPartExtensions
{
    public static void NumericIdentity(this IdentityGenerationStrategyBuilder<IdentityPart> identityBuilder)
    {
        identityBuilder.Custom<IdentityGenerator>();
    }
} 
```

那么你可以这样做：

```
Id(x => x.MyDecimalId).GeneratedBy.NumericIdentity(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:15:33.260

要实现自增身份类型必须是整型int、long、uint、ulong。

前任 ：

公共类用户 { 公共虚拟 int Id { 获取；放; } 公共虚拟 IList 名称 { 获取；放; } }

Id(x => x.ID).Column("ID").GeneratedBy.Increment();

对于十进制属性： Id(x => x.ID).Column("ID").GeneratedBy.Assigned();

在创建新对象时分配值。值应该是数据库中最后生成的键的增量。

或者你可以为 NHibernate 实现一个自定义 ID 生成器。 [http://lucisferre.net/2009/07/14/implementing-a-custom-id-generator-for-nhibernate/](http://lucisferre.net/2009/07/14/implementing-a-custom-id-generator-for-nhibernate/)

# android - 单击按钮时无法启动服务

> ID：13639334
> 
> 赞同：2
> 
> 时间：2012-11-30T05:04:03.410
> 
> 标签：android, service

我的应用程序中有以下代码：

> .... tb1.setOnClickListener(new OnClickListener() {

```
@Override
public void onClick(View v) {

    // Auto-generated method stub
    startService(Intent this.Main);
}
});
}

public void onStart(Intent intent, int startid) {

    Toast.makeText(context, "yessssss", Toast.LENGTH_LONG).show();
 //and do something//

} 
```

当用户单击“tb1”按钮时，我想启动服务，

我试过了：

> startService(new Intent(this, Main.class));

和

> startService(Main.class);

但是他们都没有开始服务，我该怎么办？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T05:08:50.363

更改代码以在按钮单击上启动服务：

```
Intent intent = new Intent(Current_Activity.this, Main.class);
startService(intent); 
```

并确保您已在 Manifast.xml 中将您的服务注册为：

```
<service
    android:name=".Main"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:07:42.423

试试这个

```
Intent myIntent = new Intent(this, Main.class);
startService(myIntent); 
```

还将您的服务添加到清单中

```
<service android:name="packagename.Main"></service> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-19T08:25:58.877

```
Intent myIntent = new Intent(this, Main.class);
startService(myIntent); 
```

没有编译删除参数以匹配 'Intent()' 出现带有 X 标记。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-09-19T08:30:31.807

```
Intent myIntent = new Intent(this, Main.class);
startService(myIntent); 
```

没有编译。删除要匹配`Intent()`的参数以 X 标记出现。

一个小的改变就会起作用。

```
Intent myIntent = new Intent(MainActivity.this, MyService.class); //is working both
startService(myIntent); and stopService(myIntent); // also working. 
```

# image-processing - 模糊图像的阈值 - 第 2 部分

> ID：13639336
> 
> 赞同：10
> 
> 时间：2012-11-30T05:04:29.700
> 
> 标签：image-processing, opencv, threshold

**如何对这个模糊的图像进行阈值处理以使数字尽可能清晰？**

在[上一篇文章](https://stackoverflow.com/questions/13391073/adaptive-threshold-of-blurry-image)中，我尝试对模糊图像（左）进行自适应阈值处理，结果导致数字失真和断开连接（右）：

![在此处输入图像描述](../Images/9f48871e57c9d33eca8ba019b5cc6fe7.png)

从那时起，我尝试使用[本文](https://stackoverflow.com/a/11366549/1397061)所述的形态闭合操作来使图像的亮度均匀：

![在此处输入图像描述](../Images/4a60ccb98d6dfdff77d019ee33401ae2.png)

如果我自适应地对该图像进行阈值处理，我不会得到明显更好的结果。但是，由于亮度大致均匀，我现在可以使用普通阈值：

![在此处输入图像描述](../Images/8244af625f47290dbd0ac772e89bf1c6.png)

这比以前好多了，但我有两个问题：

1.  我不得不手动选择阈值。尽管关闭操作会导致亮度均匀，但其他图像的亮度级别可能会有所不同。
2.  如果阈值水平略有变化，图像的不同部分会做得更好。例如，左上角的 9 和 7 出现部分褪色，应该有一个较低的阈值，而一些 6s 已经融合成 8s，应该有一个更高的阈值。

我认为回到自适应阈值，但块大小非常大（图像的 1/9）可以解决这两个问题。相反，我最终得到了一个奇怪的“光环效果”，其中图像的中心更亮，但边缘与正常阈值图像大致相同：

![在此处输入图像描述](../Images/5d3ea8d7b3998cff4ea74aa4049be191.png)

编辑：remi[建议](https://stackoverflow.com/a/13641589/1397061)从形态上打开这篇文章右上角的阈值图像。这不太好用。使用椭圆内核，只有 3x3 足够小，可以避免完全消除图像，即使这样，数字也会出现明显的破损：

![在此处输入图像描述](../Images/6c951870985329eca398b21f62b53031.png)

Edit2： mmgp[建议](https://stackoverflow.com/a/13675537/1397061)使用 Wiener 过滤器来消除模糊。我将[OpenCV 中的 Wiener 过滤代码](http://www.ocf.berkeley.edu/~rayver/mm/code/cvWiener2/)改编为 OpenCV4Android，但它使图像更加模糊！这是使用我的代码和 5x5 内核过滤之前（左）和之后的图像：

![在此处输入图像描述](../Images/966441ae725d5d33e5b50641d2e28aea.png)

这是我改编的代码，它就地过滤：

```
private void wiener(Mat input, int nRows, int nCols) { // I tried nRows=5 and nCols=5

    Mat localMean = new Mat(input.rows(), input.cols(), input.type());
    Mat temp = new Mat(input.rows(), input.cols(), input.type());
    Mat temp2 = new Mat(input.rows(), input.cols(), input.type());

    // Create the kernel for convolution: a constant matrix with nRows rows 
    // and nCols cols, normalized so that the sum of the pixels is 1.
    Mat kernel = new Mat(nRows, nCols, CvType.CV_32F, new Scalar(1.0 / (double) (nRows * nCols)));

    // Get the local mean of the input.  localMean = convolution(input, kernel)
    Imgproc.filter2D(input, localMean, -1, kernel, new Point(nCols/2, nRows/2), 0); 

    // Get the local variance of the input.  localVariance = convolution(input^2, kernel) - localMean^2 
    Core.multiply(input, input, temp);  // temp = input^2
    Imgproc.filter2D(temp, temp, -1, kernel, new Point(nCols/2, nRows/2), 0); // temp = convolution(input^2, kernel)
    Core.multiply(localMean, localMean, temp2); //temp2 = localMean^2
    Core.subtract(temp, temp2, temp); // temp = localVariance = convolution(input^2, kernel) - localMean^2  

    // Estimate the noise as mean(localVariance)
    Scalar noise = Core.mean(temp);

    // Compute the result.  result = localMean + max(0, localVariance - noise) / max(localVariance, noise) * (input - localMean)

    Core.max(temp, noise, temp2); // temp2 = max(localVariance, noise)

    Core.subtract(temp, noise, temp); // temp = localVariance - noise
    Core.max(temp, new Scalar(0), temp); // temp = max(0, localVariance - noise)

    Core.divide(temp, temp2, temp);  // temp = max(0, localVar-noise) / max(localVariance, noise)

    Core.subtract(input, localMean, input);  // input = input - localMean
    Core.multiply(temp, input, input); // input = max(0, localVariance - noise) / max(localVariance, noise) * (input - localMean)
    Core.add(input, localMean, input); // input = localMean + max(0, localVariance - noise) / max(localVariance, noise) * (input - localMean)
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-30T08:38:56.347

您可以尝试的一些提示：

*   在原始阈值图像（第一张图片右侧嘈杂的图像）中应用形态开口。您应该摆脱大部分背景噪音并能够重新连接数字。

*   对原始图像使用不同的预处理而不是形态关闭，例如中值滤波器（倾向于模糊边缘）或[双边滤波](http://docs.opencv.org/modules/imgproc/doc/filtering.html?highlight=bilateralfilter#cv2.bilateralFilter)，这将更好地保留边缘但计算速度较慢。

*   就阈值而言，您可以使用 cv::threshold 中的 CV_OTSU 标志来确定全局阈值的最佳值。局部阈值处理可能仍然更好，但与双边或中值滤波器一起使用会更好

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-01T01:35:04.557

我尝试使用 Otsu 算法（CV_OTSU - 感谢 remi！）分别对每个 3x3 框进行阈值处理，以确定每个框的最佳阈值。这比对整个图像进行阈值处理要好一些，并且可能更健壮一些。

![在此处输入图像描述](../Images/c229b61c6d2d6124b8512b736238d7fb.png)

不过，欢迎更好的解决方案。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-12-06T18:01:07.143

如果您愿意花一些时间在它上面，可以使用去模糊技术在处理之前锐化图片。OpenCV 中还没有任何内容，但如果这是一种成败攸关的事情，您可以添加它。

有很多关于这个主题的文献： [http](http://www.cse.cuhk.edu.hk/~leojia/projects/motion_deblurring/index.html) ://www.cse.cuhk.edu.hk/~leojia/projects/motion_deblurring/index.html http://www.google.com/search?q=motion+deblurring

还有一些关于 OpenCV 邮件列表的讨论：http: [//tech.groups.yahoo.com/group/OpenCV/message/20938](http://tech.groups.yahoo.com/group/OpenCV/message/20938)

您看到的奇怪的“光环效应”可能是由于当自适应阈值位于/接近图像边缘时，OpenCV 假设颜色为黑色，并且它使用的窗口“悬在”边缘进入非图像领土。有一些方法可以解决这个问题，很可能你会制作一个比相机图像高和宽至少两个完整块大小的临时图像。然后将相机图像复制到它的中间。然后将临时图像的周围“空白”部分设置为相机图像的平均颜色。现在，当您执行自适应阈值时，边缘/附近的数据将更接近准确。它不会是完美的，因为它不是真实的图片，但它会产生比 OpenCV 假设的黑色更好的结果。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-12-03T00:19:52.740

我的建议假设您可以识别数独单元，我认为这并没有要求太多。在我看来，尝试应用形态运算符（尽管我真的很喜欢它们）和/或二值化方法作为第一步是错误的方法。无论出于何种原因（原始摄像机角度和/或移动，以及其他原因），您的图像至少部分模糊。所以你需要通过执行反卷积来恢复它。当然要求完美的反卷积是太多了，但我们可以尝试一些事情。

这些“事物”之一是[Wiener 滤波器](http://en.wikipedia.org/wiki/Wiener_deconvolution)，例如，在 Matlab 中，该函数被命名为`deconvwnr`。我注意到垂直方向的模糊，所以我们可以使用一定长度的垂直内核（以下示例中为 10）执行反卷积，并假设输入不是无噪声的（假设为 5%）——我我只是想在这里给出一个非常肤浅的看法，放轻松。在 Matlab 中，您的问题至少可以通过以下方式部分解决：

```
f = imread('some_sudoku_cell.png');
g = deconvwnr(f, fspecial('motion', 10, 90), 0.05));
h = im2bw(g, graythresh(g)); % graythresh is the Otsu method 
```

以下是您的一些细胞的结果（原始、otsu、区域生长的 otsu、形态增强图像、具有区域生长的形态增强图像的 otsu、反卷积的 otsu）：

![在此处输入图像描述](../Images/c928f7d53e58dca5139584fa6acde7b9.png) ![在此处输入图像描述](../Images/3526c48aa892a26cb1306b8d0695ea4e.png) ![在此处输入图像描述](../Images/adb89e2f50c40440d45baf24137ec13f.png)![在此处输入图像描述](../Images/8fd4ac6bbc9457a5b95437914508804e.png) ![在此处输入图像描述](../Images/1bf4c6eb54fb3ac4f1f53c3d92b296f8.png) ![在此处输入图像描述](../Images/cf906d9d22bd1843f61431b36ca65930.png)
![在此处输入图像描述](../Images/3f02dfef6ae86b9d36d590a7c4b34e4e.png) ![在此处输入图像描述](../Images/050b4b791878fd6d6224211ce8f29ab0.png) ![在此处输入图像描述](../Images/deccfaef6fa81dede273077b023b63a0.png) ![在此处输入图像描述](../Images/828cc31987458ec282cd370cafbe0153.png) ![在此处输入图像描述](../Images/574e381b9e35469e13cb065b7fa2448e.png) ![在此处输入图像描述](../Images/bdf225dd21f42b40d661b53be759b290.png)
![在此处输入图像描述](../Images/04d7540c9bb518b9f5078a3749aa7fd5.png) ![在此处输入图像描述](../Images/09af78a6f95b964a3becaa25f93d4339.png) ![在此处输入图像描述](../Images/6932b6a3c2a50614f4ac8ed36136b5e4.png) ![在此处输入图像描述](../Images/db2764677048b9faa26e5de638ce6c56.png) ![在此处输入图像描述](../Images/eaf60a2d3ccf6389cebe2ac90548e380.png) ![在此处输入图像描述](../Images/a0cb977a2f8b6f6c200a1a85fbb2060f.png)
![在此处输入图像描述](../Images/ed4b5f39bd9289490798b987302cc869.png) ![在此处输入图像描述](../Images/69b5070e315b9ff64921dfa9e8fc43b7.png) ![在此处输入图像描述](../Images/45a721a3179dfa4fe12746165abd30c8.png) ![在此处输入图像描述](../Images/2c0a9cc7f44676f1cb74d304749ad943.png) ![在此处输入图像描述](../Images/e80d909c2a12917ed71fe973c4072260.png) ![在此处输入图像描述](../Images/27886f3f78addd8d60d8ba3406534acc.png)
![在此处输入图像描述](../Images/e9beb2f5e2f63c2c610ce2e3b0ba3227.png) ![在此处输入图像描述](../Images/7e8878a92d1120948c0885d6dbcd893d.png) ![在此处输入图像描述](../Images/a28f45a60b5428ea4e7789ef06274e5e.png) ![在此处输入图像描述](../Images/44c884665dcf7b9047d43e3901d354fe.png) ![在此处输入图像描述](../Images/6310893c5b9a053d2fff08f9e3ac82c8.png) ![在此处输入图像描述](../Images/174d5caeb9d4f51b4fb0d778d33c5494.png)
![在此处输入图像描述](../Images/f11969c7a089bed6bc3f2fe4469ec43d.png) ![在此处输入图像描述](../Images/b2ac283398dba8c1fe20a91f6a276f5c.png) ![在此处输入图像描述](../Images/4ba37028d1ffb5a9cd62f5494e926926.png) ![在此处输入图像描述](../Images/4bfb8134a73d4833133175fd5f8adf83.png) ![在此处输入图像描述](../Images/43eb3ce525ca21db197fadb560938b4d.png) ![在此处输入图像描述](../Images/9934929d385eacea6f89bd1a84a2ddd8.png)

增强图像是通过使用半径为 3 的扁平圆盘执行 original + tophat(original) - bottomhat(original) 生成的。我手动选择了用于区域生长的种子点并手动选择了最佳阈值。

对于空单元格，您会得到奇怪的结果（解卷积的原始和大津）：

![在此处输入图像描述](../Images/71e0795cc51866cbf1b58cbab35bca45.png) ![在此处输入图像描述](../Images/531f322e42ad9d2043c772587df9cadf.png)

但我认为你不会有麻烦检测一个单元格是否为空（全局阈值已经解决了它）。

编辑：

添加了我可以通过不同方法获得的最佳结果：区域增长。我还尝试了其他一些方法，但这是第二好的方法。

# php - 在 php 中使用插入和更新

> ID：13639340
> 
> 赞同：0
> 
> 时间：2012-11-30T05:04:47.030
> 
> 标签：php, mysql, date, time

我有这段代码记录时间和超时

```
if(isset($_POST['submit']))
{
$query=mysql_query("Select * FROM tblattendance where IDNumber='" . $_POST['IDNumber'] . "' ");
list($exists) = mysql_fetch_row($query);

$idnumber=$row['IDNumber'];
$fname=$row['FirstName'];
$mname=$row['MiddleName'];
$lname=$row['LastName'];

if($exists){
$sql="UPDATE $tbl_name SET TimeoutAM=CURTIME() WHERE IDNumber='" . $_POST['IDNumber'] . "' ORDER BY  Date DESC, TimeinAM DESC LIMIT 1"; 
}else{
$sql="INSERT INTO $tbl_name SET Date=CURRENT_DATE(), TimeinAM=CURTIME(), IDNumber='$idnumber', FirstName='$fname', MiddleName='$mname', LastName='$lname' ";       
}
$result=mysql_query($sql);
} 
```

我的问题是，如果 IDNumber 不存在，它将添加一个带有 timein 的新记录，然后更新超时。但是当我尝试再次添加相同的 IDNumber 时，它并没有添加新记录，而是只是更新了现有记录的超时列。我该怎么做才能再次添加记录？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:22:25.250

[INSERT ... ON DUPLICATE KEY UPDATE 语法](http://dev.mysql.com/doc/refman/5.0/en/insert-on-duplicate.html)。这将插入或更新。

询问：

```
 $idnumber = $_POST['IDNumber'];

INSERT INTO $tbl_name(IDNumber,Date,Timein,FirstName,MiddleName,LastName) 
values( '$idnumber',CURRENT_DATE(), NOW(), '$fname', =$mname', '$lname'
ON DUPLICATE KEY UPDATE Timeout=CURRENT_DATE() 
```

您的第一列必须是 IDNumber，因为它遵循列的顺序来创建过滤器，更新将解释如下：

```
UPDATE $tbl_name SET Timeout=NOW() WHERE IDNumber='" .   $_POST['IDNumber'] . " 
```

代码：

```
<?php
     $sql="INSERT INTO $tbl_name(IDNumber,Date,Timein,FirstName,MiddleName,LastName) 
    values( '$idnumber',CURRENT_DATE(), NOW(), '$fname', =$mname', '$lname'
    ON DUPLICATE KEY UPDATE Timeout=CURRENT_DATE()";

    $result=mysql_query($sql); 
?> 
```

# security - 这个简单的会话管理有多安全？

> ID：13639343
> 
> 赞同：0
> 
> 时间：2012-11-30T05:04:59.230
> 
> 标签：security, session

我想创建一个简单的会话管理脚本并知道您对此有何看法？逻辑上正确吗？

我读到如果 https 不可用，那么每次加载时的 session_regenerate_id 可能是一个解决方案，对吧？

```
if($_SESSION["user"]["logged"] && is_numeric($_SESSION["user"]["id"])){    
    $id = $_SESSION["user"]["id"];  
    $sid = file_get_contents($id);  // read from db the previous key 
    if($sid == $_SESSION["user"]["key"]){  
        echo "<p><a href='?logout'>logout</a></p>";  
        echo "<p><a href='/login.php'>refresh</a></p>";  
        session_destroy();  
        session_start();  
        session_regenerate_id(true);  
        $_SESSION["user"]["logged"] = true;  
        $_SESSION["user"]["id"] = $id;  
        $_SESSION["user"]["key"] = uniqid();  
        file_put_contents($id, $_SESSION["user"]["key"]);  // write to db the new key 

    }  
    else {
        // logout
    }  
} 
```

先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T10:18:41.157

> 我读到如果 https 不可用，那么每次加载时的 session_regenerate_id 可能是一个解决方案，对吧？

什么的解决方案？SSL/TLS 提供传输级别的安全性，保护您在与用户之间传输的数据。在每个请求上重新生成会话 ID 与传输安全无关。的确，没有人能够在运输途中抓住您的 cookie，但这并不是 somoene 能够拿到这个 cookie 的唯一方法。即，如果您的页面容易受到 XSS 攻击，那么在社会工程方面稍有帮助的人就可以窃取您的 cookie。

重新生成可以提高端点（用户）的安全性（尽管这是有争议的），因为如果有人会窃取用户会话 ID cookie，但速度不够快，无法向它发出请求，那么用户将无法使用被盗的值（这不太可能是他不会那么快）。

所以总的来说，如果你不想这样，你的方案是好的，它不是 SSL/TLs 的替代品。登录后重新生成应该是必须的，每个请求的重新生成都是一个补充。

# c# - 在 Visual Studio 2012 中编写简单的 SMTP 客户端

> ID：13639344
> 
> 赞同：1
> 
> 时间：2012-11-30T05:05:00.130
> 
> 标签：c#, windows-8, visual-studio-2012, smtpclient

我正在寻找一些关于实现一个非常简单的 SMTP 客户端的指导，以熟悉这样的事情是如何工作的。我希望能够安全地连接到 imap 服务器并与之交互（例如“imap.google.com”）并处理基本的电子邮件发送和接收。我正在尝试使用 Windows 8 Metro Apps 可用的库来编写此代码，其中**不包括**System.Net.Mail（这是以前的实现使用的）。

我看过其他声称简单的实现，相对而言我确信它们是，但对于我的经验的人来说，它们让我非常迷失。我一直在搜索谷歌以及在这里寻找类似的问题/答案，但空手而归，仍然感到困惑。

任何以解释、教程、带有解释的清晰实现形式的资源，实际上任何朝着正确方向的推动都将不胜感激。

# hudson - Selenium Webdriver 与 Hudson 的集成 - 无法打开浏览器

> ID：13639358
> 
> 赞同：3
> 
> 时间：2012-11-30T05:06:34.577
> 
> 标签：hudson, webdriver

我已将我的 selenium Webdriver 脚本（使用 TestNG）与 Hudson 集成。我通过 ant 调用了我的工作。我的问题是我的脚本没有成功运行，也没有打开 IE 浏览器但是 Build 正在成功创建。

注意 - 1）我正在从同一网络上的不同机器上以管理访问权限触发构建 Hudson。2）我已经使用 excel 2007 开发脚本（数据驱动框架）但是在 Hudson 服务器上它的开放式办公室。这可能是问题吗？

目前我没有使用硒网格。请提供任何建议

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-31T16:31:19.640

这是因为 Hudson/Jenkins 作为 Windows 服务运行。最近，微软改变了服务，让[它们在自己的隐形桌面上运行](http://wrapper.tanukisoftware.com/doc/english/prop-ntservice-interactive.html)。直到几年前，情况才如此。出于这个原因，即使您选中“与桌面交互”，所引用的桌面也是不可见的。

因此，您要做的就是将 Jenkins（而不是 Hudson）作为仅用于主服务器的服务运行。对于 Selenium 测试，您需要运行另一个从属 Jenkins 服务器作为前台 shell 进程，并且需要从该 Jenkins 实例启动 selenium 测试。

如果您认为[设置从站的说明](https://wiki.jenkins-ci.org/display/JENKINS/Step+by+step+guide+to+set+up+master+and+slave+machines)太难，那么您应该知道您不需要作为官方配置的从站运行。您可以作为单独的从属设备运行（确保端口号不同）。

此外，如果您在 Windows 上运行网格和节点，您可能会喜欢[我制作的这些脚本](https://gist.github.com/djangofan/5174433)。

# windows-phone-8 - WP8 模拟器中的内存问题？

> ID：13639359
> 
> 赞同：2
> 
> 时间：2012-11-30T05:06:43.860
> 
> 标签：windows-phone-8, windows-phone-8-emulator

我的应用程序就像一个推文提要阅读器。但随着使用，应用程序在 wp8 模拟器中的响应速度会变慢。通过无响应，我的意思是进度条指示器速度变慢，没有链接响应，没有应用程序按钮响应并且应用程序突然关闭。

我认为这是模拟器的内存问题。我对吗？我无法测试它，因为我还没有设备。

即使使用 Hyper-V 设置增加内存，我也没有观察到太大差异。

我有一个应用内浏览器，它适用于前 2-3 个链接，但随后会使应用挂起！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T01:18:31.060

这听起来不像是内存泄漏。您所描述的是由于在 UI 线程上投入过多工作而导致的减速。总的来说，您应该将尽可能多的工作卸载到后台线程或合成器线程。

应用程序突然关闭听起来像是一些未处理的异常，但很难分辨是哪一个。您说该应用程序在 WP7 上运行良好。您是否查看过 WP7 应用升级到 WP8 后出现的已知应用兼容性问题？查看 MSDN @ [http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj206947(v=vs.105).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj206947(v=vs.105).aspx)

这真的不够继续。应用程序崩溃后，输出窗口中是否会打印出一些内容？您能说出在应用程序崩溃之前要调用的最后一个托管方法是什么吗？您能否尝试分析应用程序的 CPU 并查看最常调用的方法是什么？并分析内存使用情况并查看崩溃前的内存消耗情况？

# mysql - 将多行数据组合成特定列的单行

> ID：13639362
> 
> 赞同：0
> 
> 时间：2012-11-30T05:07:25.300
> 
> 标签：mysql

我有一张类似`的桌子

```
name    id   date        login  logout
arjun   1    2012-11-28  9-30   7-30
arjun   1    2012-11-29  9-30   8-00
arjun   1    2012-11-30  9-40   8-00` 
```

我想将此表视为

```
`
name    id   date        login  logout
             2012-11-28  9-30   7-30
arjun   1    2012-11-29  9-30   8-00
             2012-11-30  9-40   8-00` 
```

这可能吗？如果是这样怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:41:13.273

你可以用 mysql 的 group_concat 来做

```
Select 
    name , 
    id , 
    group_concat(date) as `Date`, 
    group_concat(login) as login_time, 
    group_concat(logout) as logout_time
from mytable
group by name 
```

在前端，您可以根据您的要求使用循环显示。如果你使用的是php，你可以使用php的explode函数。如果还有其他问题，请尝试找出如何分解单元格值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:46:43.310

假设您的表名是'table55'

然后使用以下查询创建存储过程

```
delimiter |
create procedure testProcedure()
BEGIN
declare flag1 int default 0;
DECLARE done INT DEFAULT FALSE;
declare tempid int;
declare tempdate date;
declare tempname,templogin,templogout varchar(50);
DECLARE cur1 CURSOR FOR SELECT * from table55 where `name` like 'arjun' and id=1;
DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;
drop table if exists mytemptable;
CREATE TEMPORARY TABLE IF NOT EXISTS mytemptable ( `name` VARCHAR(50) NULL DEFAULT NULL,
    `id` INT(11) NULL DEFAULT NULL,
    `date` DATE NULL DEFAULT NULL,
    `login` VARCHAR(50) NULL DEFAULT NULL,
    `logout` VARCHAR(50) NULL DEFAULT NULL);

OPEN cur1;

read_loop: LOOP
FETCH cur1 into tempname,tempid,tempdate,templogin,templogout;
if flag1=0 then
    insert into mytemptable(name,id,`date`,login,logout)  values (tempname,tempid,tempdate,templogin,templogout);
    set flag1=1;
else
    insert into mytemptable(name,id,`date`,login,logout) values ('',null,tempdate,templogin,templogout);
end if;  
IF done THEN
      LEAVE read_loop;
    END IF;

END LOOP;
select * from mytemptable;
END
|
delimiter; 
```

您只需运行上述查询一次。之后，您可以使用以下查询来获得所需的结果

```
call testProcedure 
```

# c++ - boost::atomic 编译问题

> ID：13639367
> 
> 赞同：2
> 
> 时间：2012-11-30T05:07:45.003
> 
> 标签：c++, boost, atomic

我知道这`boost::atomic`不是 boost 库的官方部分，但我已经看到它在 stackoverflow 上被多次引用，所以我想我会试一试。我应该先说`boost::atomic`在发布之前我已经搜索了 google、stackoverflow 和文档。

我`boost::atomic`从[http://www.chaoticmind.net/~hcb/projects/boost.atomic/](http://www.chaoticmind.net/~hcb/projects/boost.atomic/)下载并将其复制到我的 boost 文件夹中。但是，我在包含后实际编译时遇到了问题，我认为代码中有错误。导致问题的功能之一是

```
static inline void
                platform_fence_after_load(memory_order)
            {
                if (order == memory_order_seq_cst()) {
                    x86_full_fence(void);
                }
            } 
```

第一个问题是`order`未定义，`memory_order_seq_cst`不是函数，`x86_full_fence`也不应该将 void 作为参数。修复这些错误很容易，但我不确定它们是否是其他问题的症状。这里有人用过`boost::atomic`吗？它是否稳定，是否正常工作？最后，这些实际上是问题`boost::atomic`还是我根本没有正确使用它？任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:28:57.033

我已经用了很长时间了，它很稳定，但是在标题中存在一些问题`interlocked.hpp`，其中一个问题由您解决并且很容易解决，另一个是一个函数没有声明为`inline`，所以它会生成一个链接器错误，但是在解决它们之后，AFAIK 确实可以正常工作

# linux - 迷失在组装 NASM ELF64 世界

> ID：13639369
> 
> 赞同：2
> 
> 时间：2012-11-30T05:07:58.373
> 
> 标签：linux, assembly, 64-bit, nasm

因此，作为我的计算机体系结构课程的一部分，我需要熟悉组装，或者至少足够舒适，我正在尝试向用户读取输入然后重新打印它（暂时），这就是我尝试的方式用伪代码进行说明：

1.  声明 msg 变量（这将打印在屏幕上）
2.  用足够长的值声明长度变量（由 sys_write 函数使用）
3.  出栈一次，获取程序名
4.  再次弹出堆栈以获取第一个参数
5.  将堆栈的当前值移动到 msg 变量中
6.  将 msg 移至 ECX（sys_write 参数）
7.  将长度移动到 EDX（sys_write 参数）
8.  使用标准输出调用 sys_write
9.  内核调用
10.  调用 sys_exit 并离开

到目前为止，这是我的代码

```
section .data
  msg:    db 'placeholder text',0xa;
  length: dw 0x123;

section .text
  global _start 

    _start: 
      pop rbx;
      pop rbx;
      ; this is not working when I leave it in I get this error:
      ; invalid combination of opcode and operands                                                                                            
      ;mov msg, rbx;
      mov ecx, msg;
      mov edx, length;

      mov eax, 4;
      mov ebx, 1;
      int 0x80;
      mov ebx, 0;
      mov eax, 1;
      int 0x80; 
```

当我忽略它（不将参数移动到 msg 中）时，我得到了这个输出

```
placeholder text
#.shstrtab.text.data
                     �@�$�`�� 
```

我们真的刚刚开始使用 NASM，所以任何帮助都将不胜感激，我一直在看这个[http://www.cin.ufpe.br/~if817/arquivos/asmtut/index.html#stack](http://www.cin.ufpe.br/~if817/arquivos/asmtut/index.html#stack)和[http:// syscalls.kernelgrok.com/](http://syscalls.kernelgrok.com/)调整示例以根据我的理解调整注册表名称以匹配[http://www.nasm.us/doc/nasmdo11.html](http://www.nasm.us/doc/nasmdo11.html)

我正在运行 Ubuntu 12.04，64 位编译（甚至不确定这是否是正确的词）ELF64 下的 NASM，很抱歉提出这样一个愚蠢的问题，但我一直无法为使用 64 位的 NASM 找到足够简单的教程.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T15:12:14.560

调用程序时，堆栈应如下所示：

```
+----------------+
| ...            | <--- rsp + 24
+----------------+
| argument 2     | <--- rsp + 16
+----------------+
| argument 1     | <--- rsp + 8
+----------------+
| argument count | <--- rsp
+----------------+ 
```

第一个参数是程序的名称，第二个是用户输入（如果用户键入任何内容作为参数）。所以参数的数量至少为 1。

64 模式系统调用的参数存储在以下寄存器中：

*   rax（系统调用号）
*   rdi（第一个参数）
*   rsi（第二个参数）
*   rdx（第三个参数）
*   rcx（第四个参数）
*   r8（第五个参数）
*   r9（第 6 个参数）

系统调用是用 调用的`syscall`。所有系统调用的编号都可以在~~[这里](http://www.acsu.buffalo.edu/~charngda/linux_syscalls_64bit.html)~~ [找到](http://blog.rchapman.org/post/36801038863/linux-system-call-table-for-x86-64)（是的，它们与 32 位模式下的编号不同）。

这是应该做你的事情的程序：

```
section .data
    msg:    db 'Requesting 1 argument!', 10  ; message + newline

section .text
    global  _start

_start:
    cmp     qword [rsp], 2    ; check if argument count is 2
    jne     fail              ; if not jump to the fail lable

    mov     rax, 1            ; sys_write
    mov     rdi, 1            ; stdout
    mov     rsi, [rsp+16]     ; get the address of the argument 
    mov     rdx, 1            ; one character (length 1)

loop:
    cmp     byte [rsi], 0     ; check if current character is 0
    je      exit              ; if 0 then jump to the exit lable
    syscall
    inc     rsi               ; jump to the next character
    jmp     loop              ; repeat

fail:
    mov     rax, 1            ; sys_write
    mov     rdi, 1            ; stdout
    lea     rsi, [rel msg]    ; move the address of the lable msg in rsi
    mov     rdx, 23           ; length = 23
    syscall

exit:
    mov     rax, 60           ; sys_exit
    mov     rdi, 0            ; with code 0
    syscall 
```

由于代码在很多方面都不是完美的，因此您可能需要对其进行修改。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T07:22:38.487

您已经完全按照说明进行了操作——这是预期的输出。

您写入消息的堆栈变量只是一些二进制值——确切地说，它是指向包含命令行参数的字符串数组的指针。为了理解这一点，您要么必须打印这些字符串，要么将指针转换为 ascii 字符串，例如。“0x12313132”。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-02-12T02:30:17.310

我的操作系统是 Ubuntu 64 位。编译代码产生了错误：

```
nasm print3.asm 

print3.asm:12: error: instruction not supported in 16-bit mode
print3.asm:13: error: instruction not supported in 16-bit mode 
```

正是“pop rbx”所在的位置。

在 asm 文件的顶部添加“BITS 64”解决了这个问题：

```
BITS 64

section .data
  msg:    db 'placeholder text',0xa;
  length: dw 0x123;

... 
```

# android - 如何在android中维护会话

> ID：13639372
> 
> 赞同：1
> 
> 时间：2012-11-30T05:08:07.580
> 
> 标签：android, android-webview, android-networking, android-websettings

我是 android 新手。在我的应用程序中，我需要在第一次连接 Web 服务时保持会话（当我调用第一个 url 时我需要实现 java 服务器 Web 服务 url 我得到响应。在第二个 url 调用之后它给出了错误响应。事情是我需要在同一个会话中调用 url，因为我调用了我的第一个 url打电话，我怎样才能让那些在进一步的活动。请分享示例代码或相关文档或相关答案。我希望你能理解我的意图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:26:09.387

如果使用 http 客户端，要从服务器获取 cookie 或会话，请使用以下命令：

```
 List<Cookie> cookies = ((AbstractHttpClient) httpclient).getCookieStore().getCookies();

             if (cookies.isEmpty()) {
                Log.d("TAG","no cookies received");
             } else {
                for (int i = 0; i < cookies.size(); i++) {

                    if(cookies.get(i).getName().contentEquals("ASP.NET_SessionId")) {
                     asp = cookies.get(i).getValue();
                   }
                }
                Log.e("this is the cookiee", asp);
                } 
```

# c# - 在 Web API 中序列化动态类型

> ID：13639373
> 
> 赞同：6
> 
> 时间：2012-11-30T05:08:18.827
> 
> 标签：c#, reflection, asp.net-web-api

我正在尝试创建一个通用函数，当给定枚举类型时，它将返回一个对象，当 WebApi 序列化该对象时，它将提供漂亮的 XML/Json 输出。

当序列化为 JSON 时，此方法工作得非常好，但我无法让它与 XML 一起使用。如果我使用 XmlSerializer 或 DataContractSerializer 手动序列化返回的对象，我会得到预期的结果。另一方面，当 WebApi 本身尝试从 HttpRequest 序列化它时，我收到如下错误：

> System.Runtime.Serialization.SerializationException
> 
> 不应使用数据合同名称“优先级：http://schemas.datacontract.org/2004/07/”键入“优先级”。考虑使用 DataContractResolver 或将任何静态未知的类型添加到已知类型列表中 - 例如，通过使用 KnownTypeAttribute 属性或将它们添加到传递给 DataContractSerializer 的已知类型列表中。

我尝试使用 GlobalConfiguration.Configuration.Formatters.XmlFormatter.SetSerializer 为生成的类型设置序列化程序，我知道它可以通过设置断点来工作，但它似乎忽略了它并引发了相同的异常。枚举将由整数支持，并保证每个条目都有唯一的值。这是我用来生成类型并返回它的实例的代码。

```
public object GetSerializableEnumProxy( Type enumType ) {

    if ( enumType == null ) {
        throw new ArgumentNullException( "enumType" );
    }

    if ( !enumType.IsEnum ) {
        throw new InvalidOperationException();
    }

    AssemblyName assemblyName = new AssemblyName("DataBuilderAssembly");
    AssemblyBuilder assemBuilder = AppDomain.CurrentDomain.DefineDynamicAssembly(assemblyName, AssemblyBuilderAccess.Run);
    ModuleBuilder moduleBuilder = assemBuilder.DefineDynamicModule("DataBuilderModule");
    TypeBuilder typeBuilder = moduleBuilder.DefineType( enumType.Name, TypeAttributes.Class | TypeAttributes.Public );

    // Add the [DataContract] attribute to our generated type
    typeBuilder.SetCustomAttribute(
        new CustomAttributeBuilder( typeof(DataContractAttribute).GetConstructor( Type.EmptyTypes ), new object[] {} )
    );

    CustomAttributeBuilder dataMemberAttributeBuilder = new CustomAttributeBuilder(
        typeof(DataMemberAttribute).GetConstructor(Type.EmptyTypes), new object[] {}
    );

    // For each name in the enum, define a corresponding public int field
    // with the [DataMember] attribute
    foreach ( var value in Enum.GetValues(enumType).Cast<int>() ) {
        var name = Enum.GetName( enumType, value );

        var fb = typeBuilder.DefineField( name, typeof(int), FieldAttributes.Public );

        // Add the [DataMember] attribute to the field
        fb.SetCustomAttribute( dataMemberAttributeBuilder );

        // Set the value of our field to be the corresponding value from the Enum
        fb.SetConstant( value );
    }       

    // Return an instance of our generated type
    return Activator.CreateInstance( typeBuilder.CreateType() );
} 
```

Web API 控制器方法：

```
private static IEnumerable<Type> RetrievableEnums = new Type[] {
    typeof(Priority), typeof(Status)
};

[GET("enum/{enumName}")]
public HttpResponseMessage GetEnumInformation( string enumName ) {

    Type enumType = RetrievableEnums.SingleOrDefault( type =>
        String.Equals( type.Name, enumName, StringComparison.InvariantCultureIgnoreCase));

    if ( enumType == null ) {
        return Request.CreateErrorResponse( HttpStatusCode.NotFound, "The requested enum could not be retrieved" );
    }

    return Request.CreateResponse( HttpStatusCode.OK, GetSerializableEnumProxy(enumType) );
} 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-17T10:43:47.697

我相信这最终是因为您将枚举值作为`object`- 发送，并且与 Json 格式化程序不同，Web API 的 xml 格式化程序使用`DataContractSerializer`, 使用（实际上）被序列化的值的编译时类型，而不是运行时类型.

因此，您必须*始终*确保您尝试序列化的任何派生类型都添加到底层序列化程序的已知类型中。在这种情况下，您有动态枚举（`object`当然是 ）。

从表面上看，该方法似乎应该可行，但是，我敢打赌，您将动态类型作为第一个参数调用它-如果您*将*枚举发送为，`SetSerializer(type, serializer)`则该方法将不起作用-因为它是序列化程序将使用。*`object``object``XmlRequestFormatter`*

 *这是一个众所周知的问题 -[我已将其报告为 codeplex 上的问题](http://aspnetwebstack.codeplex.com/workitem/189)（那里有一个很好的示例，它在更简单的场景中演示了该问题）。

`XmlMediaTypeFormatter`该问题还包括一些用于属性的 C# 代码和(称为)的替换，`XmlMediaTypeFormatterEx`它为该问题提供了一种解决方案 - 它使用声明性的每个操作方法。用代码中的那个替换`XmlMediaTypeFormatter`- 使用类似这样的东西（注意这段代码处理了没有定义 XML 格式化程序的情况 - 可能有点毫无意义）：

```
var configuration = GlobalConfiguration.Configuration;  
var origXmlFormatter = configuration.Formatters.OfType<XmlMediaTypeFormatter>()
                       .SingleOrDefault();

XmlMediaTypeFormatterEx exXmlFormatter = new XmlMediaTypeFormatterEx(origXmlFormatter);

if (origXmlFormatter != null)
{
    configuration.Formatters.Insert(
      configuration.Formatters.IndexOf(origXmlFormatter), exXmlFormatter);
    configuration.Formatters.Remove(origXmlFormatter);
}
else
    configuration.Formatters.Add(exXmlFormatter); 
```

现在，在您想要返回此动态枚举的 API 方法上，您将使用以下内容进行装饰：

```
[XmlUseReturnedUnstanceType]
public object Get()
{

} 
```

现在，无论您从该`Get`方法返回什么类型，自定义格式化程序都会启动并`DataContractSerializer`专门为运行时类型使用 a，而不是`object`.

这不处理基数的可枚举或字典 - 它变得非常复杂 - 但对于基本的单实例返回值它工作正常。*

# excel - 如何读取省略前两行的excel文件

> ID：13639374
> 
> 赞同：14
> 
> 时间：2012-11-30T05:08:19.060
> 
> 标签：excel, apache-poi

我有一个 111 行的 excel 文件。我需要省略工作表的前两行，然后使用 java 和 POI 读取文件。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-11-30T05:14:39.807

您必须使用 跳过前两行。`rownum()`这是示例代码

```
HSSFWorkbook      workBook = new HSSFWorkbook (fileSystem);
HSSFSheet         sheet    = workBook.getSheetAt (0);
Iterator<HSSFRow> rows     = sheet.rowIterator ();

while (rows.hasNext ())
{
  HSSFRow row = rows.next ();
  // display row number in the console.
  System.out.println ("Row No.: " + row.getRowNum ());
  if(row.getRowNum()==0 || row.getRowNum()==1){
   continue; //just skip the rows if row number is 0 or 1
  }
} 
```

这是完整的例子

```
import org.apache.poi.hssf.usermodel.HSSFCell;
import org.apache.poi.hssf.usermodel.HSSFRichTextString;
import org.apache.poi.hssf.usermodel.HSSFRow;
import org.apache.poi.hssf.usermodel.HSSFSheet;
import org.apache.poi.hssf.usermodel.HSSFWorkbook;
import org.apache.poi.poifs.filesystem.POIFSFileSystem; 
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;

import java.util.Iterator;

public class POIExcelReader
{

/** Creates a new instance of POIExcelReader */
public POIExcelReader ()
{}

@SuppressWarnings ("unchecked")
public void displayFromExcel (String xlsPath)
{
InputStream inputStream = null;

try
{
inputStream = new FileInputStream (xlsPath);
}
catch (FileNotFoundException e)
{
System.out.println ("File not found in the specified path.");
e.printStackTrace ();
}

POIFSFileSystem fileSystem = null;

try
{
fileSystem = new POIFSFileSystem (inputStream);

HSSFWorkbook      workBook = new HSSFWorkbook (fileSystem);
HSSFSheet         sheet    = workBook.getSheetAt (0);
Iterator<HSSFRow> rows     = sheet.rowIterator ();

while (rows.hasNext ())
{
HSSFRow row = rows.next ();
if(row.getRowNum()==0 || row.getRowNum()==1){
       continue; //just skip the rows if row number is 0 or 1
      }
// once get a row its time to iterate through cells.
Iterator<HSSFCell> cells = row.cellIterator ();

while (cells.hasNext ())
{
HSSFCell cell = cells.next ();

System.out.println ("Cell No.: " + cell.getCellNum ());

/*
 * Now we will get the cell type and display the values
 * accordingly.
 */
switch (cell.getCellType ())
{
    case HSSFCell.CELL_TYPE_NUMERIC :
    {

        // cell type numeric.
        System.out.println ("Numeric value: " + cell.getNumericCellValue ());

        break;
    }

    case HSSFCell.CELL_TYPE_STRING :
    {

        // cell type string.
        HSSFRichTextString richTextString = cell.getRichStringCellValue ();

        System.out.println ("String value: " + richTextString.getString ());

        break;
    }

    default :
    {

        // types other than String and Numeric.
        System.out.println ("Type not supported.");

        break;
    }
}
}
}
}
catch (IOException e)
{
e.printStackTrace ();
}
}

public static void main (String[] args)
{
POIExcelReader poiExample = new POIExcelReader ();
String         xlsPath    = "c://test//test.xls";

poiExample.displayFromExcel (xlsPath);
}
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-30T09:05:51.047

Apache POI 提供了两种方法来访问 Excel 文件中的行和单元格。一个是为您提供所有条目的迭代器，另一个是按索引循环。（POI 还会告诉您开始/结束行/列）。迭代器通常更易于使用，但两者都同样快。

如果您对要获取的行有特定要求，我建议您使用后者。您的代码可能类似于：

```
int FIRST_ROW_TO_GET = 2; // 0 based

Sheet s = wb.getSheetAt(0);
for (int i = FIRST_ROW_TO_GET; i < s.getLastRowNum(); i++) {
   Row row = s.getRow(i);
   if (row == null) {
      // The whole row is blank
   }
   else {
      for (int cn=row.getFirstCellNum(); cn<row.getLastCellNum(); cn++) {
         Cell c = row.getCell(cn, Row.RETURN_BLANK_AS_NULL);
         if (c == null) {
            // The cell is empty
         } else {
            // Process the cell
         }
      }
   }
} 
```

# php - PHP中的分页问题

> ID：13639385
> 
> 赞同：1
> 
> 时间：2012-11-30T05:09:03.120
> 
> 标签：php, paginator

目前我有 2 个表并且数据是动态的。

我需要分别为两个表添加分页。我已经使用分页器类添加了分页器，它工作正常。但问题是当我单击第一个表的下一步按钮时，两个表的内容都会更改为下一页。

分页器.php

```
<?php

// Paginator Class
// error_reporting(E_ALL); 

define("QS_VAR", "page"); // the variable name inside the query string (don't use this name inside other links)
define("STR_FWD", "Next&gt;&gt;"); // the string is used for a link (step forward)
define("STR_BWD", "&lt;&lt;Prev"); // the string is used for a link (step backward)

$scriptname = (isset($_SERVER['SCRIPT_NAME']) ? $_SERVER['SCRIPT_NAME'] : '');
define("SCRIPT_NAME", $scriptname);
$v = (isset($_REQUEST['page_num_rows']) ? (is_numeric($_REQUEST['page_num_rows']) ? $_REQUEST['page_num_rows'] : 5) : 5);
define("NUM_ROWS", $v); // the number of records on each page

class Paginator {

    var $sql;
    var $result;
    var $get_var = QS_VAR;
    var $rows_on_page = NUM_ROWS;
    var $str_forward = STR_FWD;
    var $str_backward = STR_BWD;  
    var $all_rows;
    var $num_rows;
    var $page;
    var $number_pages;
    var $url_name = SCRIPT_NAME;

    // constructor
    function Paginator() {

    }

    // sets the current page number
    function set_page() {
        $this->page = (isset($_REQUEST[$this->get_var]) && $_REQUEST[$this->get_var] != "") ? $_REQUEST[$this->get_var] : 0;
        return $this->page;
    }

    // gets the total number of records
    function get_total_rows() {
        $tmp_result = mysql_query($this->sql);
        $this->all_rows = mysql_num_rows($tmp_result);
        mysql_free_result($tmp_result);
        return $this->all_rows;
    }

    // get the totale number of result pages
    function get_num_pages() {
        $this->number_pages = ceil($this->get_total_rows() / $this->rows_on_page);
        return $this->number_pages;
    }

    // returns the records for the current page
    function get_page_result() {
        $start = $this->set_page() * $this->rows_on_page;
        $page_sql = sprintf("%s LIMIT %s, %s", $this->sql, $start, $this->rows_on_page);
        $this->result = mysql_query($page_sql);
        return $this->result;
    }

    // get the number of rows on the current page
    function get_page_num_rows() {
        $this->num_rows = @mysql_num_rows($this->result);
        return $this->num_rows;
    }

    // free the database result
    function free_page_result() {
        @mysql_free_result($this->result);
    }

    function display_row_count() {
        $var = $this->get_var;
        $url_part1 = $this->url_name . "?";
        $url_part2 = "&" . $var . "=0" . $this->rebuild_qs($var);
        $select = "&nbsp;&nbsp;Show ";
        $select.="<form method=get name=page_num_rows_form action=\"$this->url_name\" >"; // [form used for javascript disabled case] -not working
        $select.="<select name=page_num_rows id=page_num_rows onChange=\"window.location='$url_part1'+'page_num_rows='+this.value+'$url_part2'\" >";
        $select.="<option value=50 " . (isset($_REQUEST['page_num_rows']) ? ($_REQUEST['page_num_rows'] == 50 ? ' selected ' : '') : '') . " >50</option>";
        $select.="<option value=100 " . (isset($_REQUEST['page_num_rows']) ? ($_REQUEST['page_num_rows'] == 100 ? ' selected ' : '') : '') . " >100</option>";
        $select.="<option value=150 " . (isset($_REQUEST['page_num_rows']) ? ($_REQUEST['page_num_rows'] == 150 ? ' selected ' : '') : '') . " >150</option>";
        $select.="<option value=200 " . (isset($_REQUEST['page_num_rows']) ? ($_REQUEST['page_num_rows'] == 200 ? ' selected ' : '') : '') . " >200</option>";
        $select.="<option value=500 " . (isset($_REQUEST['page_num_rows']) ? ($_REQUEST['page_num_rows'] == 500 ? ' selected ' : '') : '') . " >500</option>";
        $select.="</select>";
        $select.="<noscript>&nbsp;<input type=submit value=Go /></noscript>";
        $select.="</form>";  // form used for javascript disabled case -- not working
        $select.=" per page";
        return $select;
    }

    // function to handle other querystring than the page variable
    function rebuild_qs($curr_var) {
        if (!empty($_SERVER['QUERY_STRING'])) {
            $parts = explode("&", $_SERVER['QUERY_STRING']);
            $newParts = array();
            foreach ($parts as $val) {
                if (stristr($val, $curr_var) == false) {
                    array_push($newParts, $val);
                }
            }
            if (count($newParts) != 0) {
                $qs = "&" . implode("&", $newParts);
            } else {
                return false;
            }
            return $qs; // this is your new created query string
        } else {
            return false;
        }
    }

    // this method will return the navigation links for the conplete recordset
    function navigation($separator = " | ", $css_current = "", $back_forward = false) {
        $max_links = NUM_LINKS;
        $curr_pages = $this->set_page();
        $all_pages = $this->get_num_pages() - 1;
        $var = $this->get_var;
        $navi_string = "";
        if (!$back_forward) {
            $max_links = ($max_links < 2) ? 2 : $max_links;
        }
        if ($curr_pages <= $all_pages && $curr_pages >= 0) {
            if ($curr_pages > ceil($max_links / 2)) {
                $start = ($curr_pages - ceil($max_links / 2) > 0) ? $curr_pages - ceil($max_links / 2) : 1;
                $end = $curr_pages + ceil($max_links / 2);
                if ($end >= $all_pages) {
                    $end = $all_pages + 1;
                    $start = ($all_pages - ($max_links - 1) > 0) ? $all_pages - ($max_links - 1) : 1;
                }
            } else {
                $start = 0;
                $end = ($all_pages >= $max_links) ? $max_links : $all_pages + 1;
            }
            if ($all_pages >= 1) {
                $forward = $curr_pages + 1;
                $backward = $curr_pages - 1;
                $navi_string = ($curr_pages > 0) ? "<a href=\"" . $this->url_name . "?" . $var . "=0" . $this->rebuild_qs($var) . "\">" . $this->str_first . "</a>&nbsp;&nbsp;<a href=\"" . $this->url_name . "?" . $var . "=" . $backward . $this->rebuild_qs($var) . "\">" . $this->str_backward . "</a>&nbsp;&nbsp;" : $this->str_first . "&nbsp;&nbsp;" . $this->str_backward . "&nbsp;&nbsp;";

                $navi_string .= ($curr_pages < $all_pages) ? "&nbsp;&nbsp;<a href=\"" . $this->url_name . "?" . $var . "=" . $forward . $this->rebuild_qs($var) . "\">" . $this->str_forward . "</a>" . "&nbsp;" : "&nbsp;&nbsp;" . $this->str_forward . "&nbsp;&nbsp;";
            }
        }
        return "<span style='font-size:.7em; padding:3px 3px 4px 3px;'>" . $this->current_page_info() . $navi_string . "</span>";
    }

    function current_page_info() {
        $cur_page = $this->set_page() + 1;
        $total_pages = $this->get_num_pages();
//        $page_info = "&nbsp;Page " . $cur_page . " of " . $total_pages . "&nbsp;&nbsp; ";
//        return $page_info;
    }

    function show_go_to_page() {
        $cur_page = $this->set_page() + 1;
        $total_pages = $this->get_num_pages();
        $options = "";
        for ($i = 1; $i <= $total_pages; $i++) {
            $options.="<option value=$i " . (($i == $cur_page) ? ' selected ' : '') . ">$i</option>";
        }
        $page_info = "&nbsp;&nbsp;&nbsp;&nbsp;Go to page <input type=text name=paginator_go_to_page id=paginator_go_to_page size=1 value=$cur_page />";
        // $page_info.= "<select name=paginator_go_to_page2 >$options</select>";
        return $page_info;
    }

}

?> 
```

表格.php

```
 <?php
    include("library/paginator.php");
    ?>
    <div style="text-align:right;">
        <?
        $query = "select * from haves_settings";
        $tab = mysql_query($query);
        $row = mysql_fetch_array($tab);
        $item_no = $row['items_to_show'];
        $scroll = $row['scroll_interval'];

        $online_paginate = new Paginator;
        $online_paginate->sql = "select * from placing_item_bid where status='Active' and picture1!='' and selling_method!='want_it_now' and selling_method!='ads' and bid_starting_date <= now() and expire_date>=now() order by item_id desc"; // sql statement
        $online_paginate->rows_on_page = $item_no;
        $results = $online_paginate->get_page_result(); // result set
        $num_rows = $online_paginate->get_page_num_rows(); // number of records in result set
        $nav_links = $online_paginate->navigation("&nbsp; | &nbsp;"); // the navigation links (define a CSS class
        ?>
    </div>

    <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr bgcolor="#d79196" class="detail9txt">
        <input type="hidden" value="2" name="len">
        <td align="center" width="20%"><b>Picture</b> </td>
        <td width="30%" align="center"><b>Name / Responses</b> </td>
        <td width="50%" align="center"><b>Description</b> </td>
    </tr><tr style="height:10px;"><td></td></tr>
    <?
    if ($num_rows > 0) {
        while ($bestsellers_fetch = mysql_fetch_array($results)) {
            $temp = $bestsellers_fetch['item_id'];
            $sql = "SELECT count(`user_id`) as response FROM `watch_list` where `item_id`=$temp group by `item_id`";
            $res = mysql_query($sql);

            $response = mysql_fetch_row($res);

            $counttop = $counttop + 1;
            if (!empty($bestsellers_fetch['sub_title']))
                $item_subtitle1 = $bestsellers_fetch['sub_title'];
            else
                $item_subtitle1 = substr($bestsellers_fetch['item_title'], 0, 20);
            $item_title1 = substr($bestsellers_fetch['item_title'], 0, 40)
            ?>
            <tr>
                <td class="tr_botborder" style="vertical-align:middle;" width="20%" align="center"><div align="center"><a href="detail.php?item_id=<?= $bestsellers_fetch['item_id']; ?>" class="bestsellerstxt"><img src="thumbnail/<?= $bestsellers_fetch['picture1']; ?>" alt="" width="79" height="70" border="0" /></a></div></td>
                <td class="tr_botborder" style="vertical-align:middle;" width="30%" align="center"><div align="center"><span class="bestsellerstxt"><a href="detail.php?item_id=<?= $bestsellers_fetch['item_id']; ?>" class="bestsellerstxt"><?= $item_subtitle1; ?> <?= $item_title1; ?></a><br/><?php if ($response[0] != '') { ?><a style="text-decoration:none;color:#336666;" href="detail.php?item_id=<?= $bestsellers_fetch['item_id']; ?>"> <?php echo $response[0] . '&nbsp;responses'; ?></a> <?php } else { ?><span style="color:#666666;"><?php
                echo '0&nbsp;responses';
            }
            ?></span></span></td>
                <td class="tr_botborder" style="vertical-align:middle;" width="50%" align="center"><div align="center"><span class="bestsellerstxt"><a href="#" class="bestsellerstxt"><?= html_entity_decode($bestsellers_fetch['detailed_descrip']); ?></a></span></td>
            </tr>

            <?
            if ($counttop != 2) {

            }
        }
    } else {
        ?>
        <tr><td height="148" align="center" class="featxt">No Items Available</td></tr>
        <?
    }
    ?>
    </table>
    <div style="text-align: right;"><?php echo $nav_links; ?></div>

//wants content

$online_paginate1 = new Paginator;
$online_paginate1->sql = "select * from placing_item_bid where status='Active' and selling_method='want_it_now' order by item_id desc";
$online_paginate1->rows_on_page = $item_no1;
$result1 = $online_paginate1->get_page_result(); // result set
$want_total_records = $online_paginate1->get_page_num_rows(); // number of records in result set
$nav_links1 = $online_paginate1->navigation("&nbsp; | &nbsp;"); // the navigation links (define a CSS class
?>

<div class="superbg">
    <table cellspacing="0" cellpadding="5" width=100%>
        <form name="want_form" action="myauction.php" method=post>
            <tr bgcolor="#d79196" class="detail9txt">
            <input type="hidden" name="len" value="<?= $want_total_records ?>">
            <td align="center" width="30%"><b>Name / Responses</b> </td>
            <td align="center" width="20%"><b>Picture</b> </td>
            <td width="50%" align="center"><b>Description</b>  </td>
            </tr>
            <?
            if ($want_total_records > 0) {
                while ($want_row = mysql_fetch_array($result1)) {
                    $tot_bid_sql = "select count(*) from want_it_now where wanted_itemid=" . $want_row[item_id];
                    $tot_bid_res = mysql_query($tot_bid_sql);
                    $tot_bids = mysql_fetch_array($tot_bid_res);
                    ?>

                    <tr class="detail9txt">
                        <td class="tr_botborder" align="center" style="vertical-align:middle;" width="30%">
                            <a href="wantitnowdes.php?item_id=<?= $want_row['item_id'] ?>" class="header_text">
                                <? echo $want_row['item_title']; ?></a> <br/> <?
                        if ($tot_bids[0] != 0) {
                                    ?>
                                <a style="font-weight:normal;" href="wantitnowdes.php?item_id=<?= $want_row['item_id'] ?> " class="header_text"><? echo $tot_bids[0] . ' responses'; ?></a>
                                <?
                            } else {
                                echo $tot_bids[0] . ' responses';
                            }
                            ?></td>
                        <td class="tr_botborder" style="vertical-align:middle;" width="20%" align="center">
                            <?
                            if (!empty($want_row['picture1'])) {
                                $img = $want_row['picture1'];
                                list($width, $height, $type, $attr) = getimagesize("images/$img");
                                $h = $height;
                                $w = $width;
                                if ($h > 50) {
                                    $nh = 50;
                                    $nw = ($w / $h) * $nh;
                                    $h = $nh;
                                    $w = $nw;
                                }
                                if ($w > 50) {
                                    $nw = 50;
                                    $nh = ($h / $w) * $nw;
                                    $h = $nh;
                                    $w = $nw;
                                }
                                ?>
                                                                                                                                                                                                                    <!-- <img name="runimg" src="images/<? //echo $want_row['picture1'];                                                          ?>" border=1 width=<? //= $w;                                                          ?> height=<? //=$h                                                         ?> >-->
                                <a href="wantitnowdes.php?item_id=<?= $want_row['item_id'] ?> " class="header_text"><img name="runimg" src="images/<? echo $want_row['picture1']; ?>" border=1 width="79" height="70" ></a>
                                <?
                            } else {
                                ?>
                                <img src="images/no_image.gif" border=1  name="runimg" >
                            <? } ?>
                        </td>
                        <td class="tr_botborder" style="vertical-align:middle;" width="50%" align="center"><div align="center"><span class="bestsellerstxt"><a href="#" class="bestsellerstxt"><?= html_entity_decode($want_row['detailed_descrip']); ?></a></span></td>
                    </tr>

                    <?
                } // while
            } else {
                ?>
                <tr>
                    <td width="3%">&nbsp;</td>
                    <td width="97%" class="myauction3txt">There are no items in this section</td>
                </tr>
            <? } ?>

    </table>
    <div style="text-align: right;"><?php echo $nav_links1; ?></div>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T08:46:16.977

**哪里有问题 ？**

Paginator 类使用相同的查询字符串“page”参数来计算当前页面。如果您在同一请求中添加 2 个或更多分页，“页面”将由所有实例共享，导致您描述的这种混乱。

**如何解决？**

告诉 Paginator 类在查询字符串中使用哪个参数...按照下面的两步补丁：

**第 1 步：** 替换 Paginator 类中的构造函数

```
// constructor
function Paginator($get_var=null) {
    if ($get_var!=null) $this->get_var = $get_var;
} 
```

**第 2 步：**更新 Paginator 对象创建（两次）

```
$online_paginate = new Paginator('page_table1'); 
```

然后 ：

```
$online_paginate1 = new Paginator('page_table2'); 
```

希望这可以帮助 ！

# excel - 在excel中搜索区分大小写的文本子字符串并突出显示行

> ID：13639395
> 
> 赞同：1
> 
> 时间：2012-11-30T05:10:21.373
> 
> 标签：excel, perl, office-2007

您能否帮助我理解，如何在 excel 列中搜索区分大小写的文本子字符串并分别突出显示行。

我的excel第二列由值组成，`(((...)))`但在同一列的几个单元格中由值组成，`(((..-)))`或者`(((-..)))`我想提取这些异常单元格并分别突出显示行。

同样，我有相同 excel 的第三列由`AAGUC`value 组成，并且在同一列的几个单元格中由 value 组成`aAgCu`。现在，我想提取这些区分大小写的单元格并突出显示相应的行。

我怎样才能做到这一点？我需要为此编写一个程序吗？或者我可以在excel表格本身中做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:19:19.003

您可以使用具有区分大小写选项的 Excel 查找/查找和替换。（匹配情况=真）

如果您需要从代码中执行此操作，可以使用 VBA 函数，这是一些示例代码。

```
Range("B2:B10").Select
Selection.Replace What:="aAgCu", Replacement:="XX", LookAt:=xlPart, _
SearchOrder:=xlByRows, MatchCase:=True, SearchFormat:=False, _
ReplaceFormat:=False 
```

如果您不想替换这些值，可以将 VBA 中的列复制到临时列，然后运行查找和替换以突出显示或指示哪些列需要受到影响

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:22:01.953

仅电子表格方法：

对于第二列，使用 FIND 函数来识别其中带有“-”的单元格。使用公式设置条件格式以突出显示找到的单元格。例如，对于单元格 B2 中的 (((-...)))，使用公式 =FIND("-",B2) 设置条件格式。格式可以向下复制列。或者，使用辅助列中的公式返回标志值或单元格的内容：例如，在单元格 F2 中输入 =IFERROR(IF(FIND("-",b2),b2),"" )，如果单元格内容包含“-”，则返回单元格内容，否则返回空字符串。

对于第三列，您可以使用以下公式 =NOT(EXACT(c2,LOWER(c2)) 以条件格式或公式 =IF(NOT(EXACT(c2,LOWER(c2)),c2, "") 在辅助列中。请注意，后一个公式仅测试混合大小写，并且会在“aagcu”上失败。

# angularjs - 独立管理独立 AngularJS 指令之间的通信

> ID：13639399
> 
> 赞同：6
> 
> 时间：2012-11-30T05:10:42.183
> 
> 标签：angularjs

这更像是一种解决这个问题的组织方法，而不是直接的解决方案。我的问题本身是，如果我有两个相互不依赖并且可以独立工作以达到其目的的指令。但是，如果存在其中一个指令，则另一个需要在另一个准备好后执行。在这种情况下，在不需要硬编码任何函数调用或事件的情况下，确保它以这种方式工作的合乎逻辑的方法是什么？

例如，假设您有一个构建某种网格的指令：

```
angular.module('App').directive('appGrid',function() {
  return function($scope, element) {
    $scope.rows = ...
  };
}); 
```

然后我有另一个指令使元素水平滚动：

```
angular.module('App').directive('appPane',function() {
  return function($scope, element) {
    element.attachHorizontalScroll();
  };
}); 
```

因此，我的 HTML 示例如下所示：

```
<div data-app-grid data-app-pane>
  <div data-ng-repeat="row in rows">
    <div data-ng-repeat="cell in row.cells">
      {{ cell.data }}
    </div>
  </div>
</div> 
```

基本上，`appPane`指令需要在`appGrid`指令被执行并且表准备好之后运行。

我能想到的一种解决方案是使用该方法观察数据以查看它何时准备就绪`$scope.$watch`，但这会带来问题，因为更改可能会发生多次，这将是冗余更新页面的糟糕设计，它也会带来问题如果多个指令正在写入被监视的同一个范围变量。

另一种解决方案是让第一个指令发出一个事件（类似于 elementReady），然后让第二个指令接管。但是如果第一个指令不存在怎么办？那么第二个指令如何知道何时完成它的工作呢？可能还有另一个指令，它基本上是一个空指令，它只是为所有其他元素触发事件，但这有点小技巧。另外，如果多个其他指令触发`elementReady`事件会发生什么？

另一种解决方案是创建第三个指令，该指令通过共享服务共享两个指令之间的逻辑。但这使得第三条指令完全依赖于其他指令以及它们之间的共享服务。这也需要更多不必要的测试代码以及​​编写指令的实际代码（与仅需要一 + 一行代码的第二种解决方案相比，需要更多代码）。

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T09:53:00.947

查看指令的优先级属性。

这是角度文档中确切描述的副本：

> *优先级*- 当在单个 DOM 元素上定义了多个指令时，有时需要指定应用指令的顺序。优先级用于在调用编译函数之前对指令进行排序。优先级更高。相同优先级内的指令顺序未定义。

你应该可以在

[http://docs.angularjs.org/guide/directive](http://docs.angularjs.org/guide/directive)

在**Writing directives (long version)** --- **Directives definition Object**部分下。

希望这能回答你的问题。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-20T10:56:03.943

我有一个类似的问题。我无法使用优先级，因为在单击元素后发生了接线。我使用 $rootScope 解决了它。这是一个简化的示例：

```
link : function (scope, element, attrs) {
   element.on('click', function() {
       $rootScope.$emit('myEvent', myData);
   });
} 
```

在另一个指令中，您“监听” *myEvent*：

```
link : function (scope, element, attrs) {
   $rootScope.$on('myEvent', function(data) {
      // do sth
   });
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-12T22:14:55.813

好问题。我会使用属性和事件的组合。

由于只有指令的用户（即编写 HTML 的人）知道他/她希望这两个指令交互（即独立运行），我认为他/她需要以某种方式指定这一点，并且属性看起来像好方法（唯一的方法？）。一旦指令知道它们需要交互，它们就可以使用事件来发出信号。

因此，如果指令 B 需要等待指令 A，则可以使用一个或多个属性来指定谁应该等待、谁应该触发事件和/或事件名称是什么。（这当然可以扩展到两个以上的指令和一个以上的事件。）一些可能的实现：

```
<div data-app-grid data-app-pane idc-wait="appPane" idc-event="idc-appGridDone">
<div data-app-grid data-app-pane idc-wait="appPane" idc-emit="appGrid" idc-event="idc-appGridDone"> 
```

通过检查属性，appGrid 指令可以确定它不需要等待，但它确实需要发出事件“idc-appGridDone”。类似地，通过检查属性，appPane 指令可以确定它需要在运行之前等待“idc-appGridDone”事件。

如果指令没有找到任何这些特殊的“指令间通信”/“idc-”属性，它们会正常运行（没有事件，没有等待）。

“（内）独立的指令间通信模式”诞生了。☺

# php - 获取自治系统编号 (ASN) 中的 IP

> ID：13639401
> 
> 赞同：9
> 
> 时间：2012-11-30T05:11:07.927
> 
> 标签：php, networking, dns, ip

我尝试在 ASN 编号下获取 IP 列表，例如 AS8167，但是我没有这样的运气。我已经看到 cymru 团队有一个 ASN 的 IP，但这与我实际需要的相反。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-07-14T00:27:28.550

RADb 有一个提供此功能的 whois 服务器。它包含除 IP 块以外的信息，因此如果您只对这些信息感兴趣，则需要 grep 查找这些信息：

```
$ whois -h whois.radb.net -- '-i origin AS8167' | grep -Eo "([0-9.]+){4}/[0-9]+" | head
189.11.64.0/18
189.31.0.0/16
189.72.128.0/18
189.73.192.0/18
189.74.0.0/18
189.74.64.0/18
189.64.0.0/11
189.0.0.0/11
187.52.192.0/18
187.52.0.0/17 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-30T09:52:08.997

Hurricane Electric 提供专门为此目的和其他 IP 相关目的提供的服务。

试试这个：[http ://bgp.he.net/AS8167#_prefixes](http://bgp.he.net/AS8167#_prefixes)

# ruby-on-rails - 多个关联的 Rails 最佳实践

> ID：13639404
> 
> 赞同：0
> 
> 时间：2012-11-30T05:12:16.993
> 
> 标签：ruby-on-rails, ruby-on-rails-3, associations, polymorphism

我的程序中有三个模型，采用层次结构：

```
User (has_many :computers)
Computer (has_many :programs, belongs_to :user)
Programs (belongs_to :computer) 
```

在程序中，我需要通过扩展查看用户有多少程序。这很容易通过`User.computers.programs`.

也就是说，以任何方式直接声明和`has_many/belongs_to`之间的关系是否有益？会有任何好处（性能或其他方面），还是只会增加代码的复杂性？`Users``Programs`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:26:46.057

这在很大程度上取决于您是否预见到需要经常访问该关系。如果您可以不使用该特定查询，那么您最好只使用

```
class User < ActiveRecord::Base
  has_many :computers
  has_many :programs, :through => :computers
end 
```

并完成它。完成相同任务的代码更少，更易于阅读/维护。

`JOIN`但是，如果您要在大型数据集上访问该关系，则可能会以您以节省昂贵s的名义描述的方式对您的数据进行一些非规范化处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:24:18.390

有`through`选项：

```
has_many :programs, through: :computers 
```

您可以在这里阅读更多信息：http: [//guides.rubyonrails.org/association_basics.html#the-has_many-through-association](http://guides.rubyonrails.org/association_basics.html#the-has_many-through-association)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:24:37.293

你可以这样做：

```
class User < ActiveRecord::Base
  has_many :computers
  has_many :programs, :through => :computers
end 
```

这样你就可以这样做：

```
user = User.first #find some user
user.programs #get a list of programs from the user through the computers they own 
```

# java - Java FileInputStream 使用 if

> ID：13639405
> 
> 赞同：0
> 
> 时间：2012-11-30T05:12:19.410
> 
> 标签：java, if-statement

我正在做的程序要求我使用 FileInputStream 来计算课程的成绩。

我创建的类 Course 有一个方法：

```
public double getGradePoint ()
{
    if (letterGrade == "A+" || letterGrade == "A")
        gradePoint = 4.0;
    if (letterGrade == "A-")
        gradePoint = 3.7;
    if (letterGrade == "B+")
        gradePoint = 3.3;
    if (letterGrade == "B")
        gradePoint = 3.0;
    if (letterGrade == "B-")
        gradePoint = 2.7;
    if (letterGrade == "C+")
        gradePoint = 2.3;
    if (letterGrade == "C")
        gradePoint = 2.0;
    if (letterGrade == "C-")
        gradePoint = 1.7;
    if (letterGrade == "D+")
        gradePoint = 1.5;
    if (letterGrade == "D")
        gradePoint = 1.0;
    if (letterGrade == "F")
        gradePoint = 0.0;

    return gradePoint;
} 
```

在测试客户端中，我有：

```
String subject;
String number;
String letGrade;

Course course1 = new Course ("ENGL", "1111", "D+");
FileInputStream file1 = new FileInputStream ("test transcript 1.txt");
Scanner readFile = new Scanner (file1);

while (readFile.hasNext ())
{
    course1.setSubject (readFile.next ());
    subject = course1.getSubject ();
    course1.setNumber (readFile.next ());
    number = course1.getNumber ();
    course1.setLetterGrade (readFile.next ());
    letGrade = course1.getLetterGrade ();
    course1.getGradePoint ();
    System.out.println (course1.toString ());
} 
```

测试成绩单 1.txt 包含：

```
COMP 1631   A-
ENGL 1101   B
MATH 1200   C+ 
```

但是由于某种原因，当我使用 course1.getGradePoint() 时，它总是返回为 0.0

运行程序后：

```
COMP 1631   A-  (worth = 0.0)
ENGL 1101   B   (worth = 0.0)
MATH 1200   C+  (worth = 0.0) 
```

我尝试在 while 命令上方使用 course1.getGradePoint () ，如下所示：

```
String subject;
String number;
String letGrade;

Course course1 = new Course ("ENGL", "1111", "D+");
course1.getGradePoint ();

FileInputStream file1 = new FileInputStream ("test transcript 1.txt");
Scanner readFile = new Scanner (file1);

while (readFile.hasNext ())
{
    course1.setSubject (readFile.next ());
    subject = course1.getSubject ();
    course1.setNumber (readFile.next ());
    number = course1.getNumber ();
    course1.setLetterGrade (readFile.next ());
    letGrade = course1.getLetterGrade ();
    course1.getGradePoint ();
    System.out.println (course1.toString ());
} 
```

返回为：

```
COMP 1631   A-  (worth = 1.5)
ENGL 1101   B   (worth = 1.5)
MATH 1200   C+  (worth = 1.5) 
```

由于某种原因，它不能与 readFile.next () 一起使用。如果有人可以帮助我，那将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:19:14.043

**-** `Objects`在 Java 中**使用 , 进行比较** `equals()`，并且在 Java 中`String`是 a `Object`，因此遵循相同的规则。

**-** `==`将用于**比较** `primitive`或检查**两个或更多** `Object Reference Variables`是否指向**堆上的同一个对象。**

**-**所以你应该使用`equals()`或`equalsIgnoreCase()`（如果大小写无关紧要）来比较`String`对象。

**例如：**

```
if (str1.equals(str2)){} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:38:44.237

如果他没有使用文件来获得成绩，这个代码就会起作用。

因为他正在使用文件，所以创建的字符串对象不会是 intern()。这意味着存在两个相同类型但在不同内存引用中的字符串对象。

通过实习字符串，您可以将其解析为内存中任何现有的相同类型的字符串（如果存在）或创建新的引用。

这就是为什么使用文件获得的“A”与使用构造函数创建的“A”具有不同的引用。

他可以通过只更改一行代码来使其工作`(course1.getLetterGrade ()).intern()`

但最好使用 equals 进行字符串比较。

# wix - WIX 属性为整数

> ID：13639407
> 
> 赞同：3
> 
> 时间：2012-11-30T05:12:26.570
> 
> 标签：wix, wix3.6

我正在尝试设置一个属性以在设置期间创建的新网站上配置 IIS:Website ConnectionTimeout 值。

但是我不能，因为 ConnectionTimeout 的值必须是整数，而不是字符串。

在我的 product.wxs 中，我有以下内容：

```
<Control Id="IisConnectionTimeoutLabel" Type="Text" X="45" Y="164" Width="100" Height="15" TabSkip="no" Text="Connection Timeout (sec):" />
<Control Id="IisConnectionTimeoutEdit" Type="Edit" X="45" Y="176" Width="220" Height="18" Property="IIS_CONNECTIONTIMEOUT" Text="{80}" Integer="yes"  /> 
```

在我的 IisConfiguration.wxs 我有以下内容：

```
<Property Id="IIS_CONNECTIONTIMEOUT" Value="300" />
<iis:WebSite Id="EersWebsite" Description="[IIS_WEBSITENAME]" ConfigureIfExists="yes" Directory="WEBINSTALLDIR" DirProperties="EersWebsiteDirProperties" ConnectionTimeout="[IIS_CONNECTIONTIMEOUT]"> 
```

当我构建项目时，我得到以下信息：

> “ConnectionTimeout”属性无效 - 根据其数据类型“http://www.w3.org/2001/XMLSchema:nonNegativeInteger”，值“[IIS_CONNECTIONTIMEOUT]”无效 - 字符串“[IIS_CONNECTIONTIMEOUT]”无效整数值。
> 
> iis:WebSite/@ConnectionTimeout 属性的值“[IIS_CONNECTIONTIMEOUT]”不是合法的整数值。合法整数值从 -2,147,483,648 到 2,147,483,647。

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T11:25:36.877

如错误消息所述，`<iis:WebSite>`'`ConnectionTimeout`属性的值需要整数值。`nonNegativeInteger`不是一种[`Formatted`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa368609%28v=vs.85%29.aspx)类型，它知道如何从方括号中提供的属性中提取值。

因此，除了提供硬编码值之外，我认为您没有其他方法......

或者，您可以创建一个自定义操作，该操作调用`appcmd.exe`，并在命令行中提供所需的超时值，并将此操作安排在延迟之后`ConfitureIIs`......但努力似乎远大于好处......

# iphone - 在表格视图单元格内全屏显示视频

> ID：13639409
> 
> 赞同：0
> 
> 时间：2012-11-30T05:12:55.233
> 
> 标签：iphone, mpmovieplayercontroller

我有一个滚动视图，其中显示了表格视图。我有自定义单元格，我想在点击它时显示视频。它运行良好，但是当我单击全屏按钮时，我的应用程序崩溃了。那么我该如何解决这个问题。下面给出了我的显示视频代码。

```
 MPMoviePlayerController *moviePlayer= [[MPMoviePlayerController alloc] initWithContentURL:url];
    moviePlayer.view.frame = CGRectMake([cordinate.x integerValue], [cordinate.y integerValue], [cordinate.width integerValue], [cordinate.height integerValue]);
    moviePlayer.controlStyle = MPMovieControlStyleEmbedded;
    [cell addSubview:moviePlayer.view];
    [moviePlayer prepareToPlay]; 
```

请帮我解决这个问题..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:29:04.470

添加此行，然后检查它是否有效：

```
moviePlayer.view.frame = self.view.frame; 
```

并删除此行`[addSubview:moviePlayer];`

# android - 编译 SELECT 语句时没有这样的列

> ID：13639410
> 
> 赞同：1
> 
> 时间：2012-11-30T05:13:14.760
> 
> 标签：android, sql, sqlite

执行我的 android 应用程序时出现此错误。我在一个名为 MySQLitehelper.java 的文件中创建了 SQLite 数据库，该文件具有以下用于创建表的行：

```
 public static final String COLUMN_ID = "GWid";
  public static final String COLUMN_DATE = "DateGWU";
  public static final String COLUMN_LOCATION = "location";
  public static final String COLUMN_TIME = "time";

  public static final String TABLE_NAME = "UPDTable";

  private static final String DATABASE_NAME = "UPDdb_version6";
  private static final int DATABASE_VERSION = 6;

  private final Context context;
  GetSet getset = new GetSet();
  public void GetIdForGwid(GetSet get)
  {
     getset=get; 
  }

  // Database creation sql statement
  private static final String DATABASE_CREATE = "CREATE TABLE " + TABLE_NAME +
                                " (" +COLUMN_ID+ " integer," + COLUMN_DATE + "VARCHAR," +
                                COLUMN_LOCATION+" VARCHAR," +COLUMN_TIME +" VARCHAR);";

  private static final String DATABASE_INSERT = "INSERT INTO " +TABLE_NAME +
                                                " Values (47688507,'DEC-07-2012','MARVIN 203','20:00');"; 
```

在同一个文件中，我有执行我的 SQL SELECT 查询的语句，但给我一个例外，没有找到这样的列 DateGWU

```
public Cursor getRecord() throws SQLException
{
        Cursor mCursor =
        db.query(true, TABLE_NAME, new String[] {COLUMN_ID,
        COLUMN_DATE, COLUMN_LOCATION, COLUMN_TIME},
        COLUMN_ID + "= 47688507", null, null, null, null, null);   //HARDCODED. Please make it dynamic
        if (mCursor != null) 
        {
            mCursor.moveToFirst();
        }
 return mCursor;
 } 
```

我有点卡住了，不知道我哪里错了。

# LOGCAT

```
11-30 04:57:50.832: E/SQLiteLog(12912): (1) no such column: DateGWU
11-30 04:57:50.842: D/AndroidRuntime(12912): Shutting down VM
11-30 04:57:50.852: W/dalvikvm(12912): threadid=1: thread exiting with uncaught exception (group=0x40a70930)
11-30 04:57:50.952: E/AndroidRuntime(12912): FATAL EXCEPTION: main
11-30 04:57:50.952: E/AndroidRuntime(12912): android.database.sqlite.SQLiteException: no such column: DateGWU (code 1): , while compiling: SELECT DISTINCT GWid, DateGWU, location, time FROM UPDTable WHERE GWid= '47688507'
11-30 04:57:50.952: E/AndroidRuntime(12912):    at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)
11-30 04:57:50.952: E/AndroidRuntime(12912):    at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:882)
11-30 04:57:50.952: E/AndroidRuntime(12912):    at  android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:493)
11-30 04:57:50.952: E/AndroidRuntime(12912):    at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)
11-30 04:57:50.952: E/AndroidRuntime(12912):    at android.database.sqlite.SQLiteProgram.<init>(SQLiteProgram.java:58)
11-30 04:57:50.952: E/AndroidRuntime(12912):    at android.database.sqlite.SQLiteQuery.<init>(SQLiteQuery.java:37)
11-30 04:57:50.952: E/AndroidRuntime(12912):    at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:44)
11-30 04:57:50.952: E/AndroidRuntime(12912):    at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1314)
11-30 04:57:50.952: E/AndroidRuntime(12912):    at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1161)
11-30 04:57:50.952: E/AndroidRuntime(12912):    at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1032)
11-30 04:57:50.952: E/AndroidRuntime(12912):    at com.example.upd.MySQLitehelper.getRecord(MySQLitehelper.java:125) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-30T05:16:22.170

你有

```
private static final String DATABASE_CREATE = "CREATE TABLE " + TABLE_NAME +
                            " (" +COLUMN_ID+ " integer," + COLUMN_DATE + "VARCHAR," +
                            COLUMN_LOCATION+" VARCHAR," +COLUMN_TIME +" VARCHAR);"; 
```

将其更改为

```
private static final String DATABASE_CREATE = "CREATE TABLE " + TABLE_NAME +
                            " (" +COLUMN_ID+ " integer," + COLUMN_DATE + " VARCHAR,"  +
                            COLUMN_LOCATION+" VARCHAR," +COLUMN_TIME +" VARCHAR);"; 
```

注意空格：

> COLUMN_DATE + "VARCHAR"
> 
> COLUMN_DATE + " VARCHAR,"

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-30T05:21:21.083

请更改数据库插入语句

```
private static final String DATABASE_INSERT = "INSERT INTO " +TABLE_NAME +  " (" +COLUMN_ID+ " ," + COLUMN_DATE + "," +
                                COLUMN_LOCATION+" ," +COLUMN_TIME +" )"  +
                                                " Values (47688507,'DEC-07-2012','MARVIN 203','20:00');"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-03-07T06:35:27.810

尝试将您的数据库名称从“UPDdb_version6”更改为“UPDdb_version6.db”，即

```
private static final String DATABASE_NAME = "UPDdb_version6"; 
```

到，

```
 private static final String DATABASE_NAME = "UPDdb_version6.db"; 
```

# ios - 架构 i386 的重复符号

> ID：13639411
> 
> 赞同：8
> 
> 时间：2012-11-30T05:13:21.617
> 
> 标签：ios, xcode

我正在使用 GTL 框架来使用谷歌 GDrive。在将该框架导入到我的应用程序中多次失败后，我将 GTL.xcodeproject 中的所有文件复制到了我的应用程序中。但我仍然遇到下面提到的错误。我已经搜索了所有但没有发现重复的文件或任何东西。请在这里帮忙。

```
/Users/ashutoshb/Desktop/Screen Shot 2012-11-30 at 10.30.24 AM.png

Ld /Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Products/Debug-iphonesimulator/MowWom.app/MowWom normal i386
cd /Users/ashutoshb/Mowwom/MowWomCode/Updated/MowWom
setenv IPHONEOS_DEPLOYMENT_TARGET 4.3
setenv PATH "/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin"
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch i386 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator6.0.sdk -L/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Products/Debug-iphonesimulator "-L/Users/ashutoshb/Mowwom/MowWomCode/Updated/MowWom/MowWom/Twitter+OAuth/Libraries & Headers" -L/Users/ashutoshb/Mowwom/MowWomCode/Updated/MowWom -  F/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom- dmhxeapzkbnuniegdxmsvdgmodrw/Build/Products/Debug-iphonesimulator -  F/Applications/Xcode.app/Contents/Developer/Library/Frameworks - F/Users/ashutoshb/Mowwom/MowWomCode/Updated/MowWom -filelist  /Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom- dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug- iphonesimulator/MowWom.build/Objects-normal/i386/MowWom.LinkFileList -Xlinker - objc_abi_version -Xlinker 2 -fobjc-arc -fobjc-link-runtime -Xlinker -no_implicit_dylibs -mios-simulator-version-min=4.3 -framework SenTestingKit -framework Security -framework MessageUI -lxml2 -lz -framework CFNetwork -framework MobileCoreServices -framework SystemConfiguration -framework CoreLocation -framework MapKit -framework QuartzCore -framework UIKit -framework Foundation -framework CoreGraphics -lOAuth -o /Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Products/Debug-iphonesimulator/MowWom.app/MowWom

duplicate symbol _OBJC_CLASS_$_GTLDriveAboutAdditionalRoleInfoItem in:
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDrive_Sources.o
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDriveAbout.o

duplicate symbol _OBJC_METACLASS_$_GTLDriveAboutAdditionalRoleInfoItem in:
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDrive_Sources.o
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDriveAbout.o

duplicate symbol _OBJC_CLASS_$_GTLDriveAboutExportFormatsItem in:
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDrive_Sources.o
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDriveAbout.o

duplicate symbol _OBJC_METACLASS_$_GTLDriveAboutExportFormatsItem in:
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDrive_Sources.o
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDriveAbout.o

duplicate symbol _OBJC_CLASS_$_GTLDriveAboutFeaturesItem in:
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDrive_Sources.o
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDriveAbout.o

duplicate symbol _OBJC_METACLASS_$_GTLDriveAboutFeaturesItem in:
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDrive_Sources.o
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDriveAbout.o

duplicate symbol _OBJC_CLASS_$_GTLDriveAboutImportFormatsItem in:
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDrive_Sources.o
/Users/ashutoshb/Library/Developer/Xcode/DerivedData/MowWom-dmhxeapzkbnuniegdxmsvdgmodrw/Build/Intermediates/MowWom.build/Debug-iphonesimulator/MowWom.build/Objects-normal/i386/GTLDriveAbout.o

duplicate symbol _OBJC_METACLASS_$_GTLDriveAboutImportFormatsItem in: 
```

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-11-30T05:32:00.353

确保您也检查了“构建阶段”部分中的“编译源”。有时它们会在那里加倍（但在项目文件资源管理器中只出现一次）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:24:10.933

尝试从您的项目位置删除所有文件/文件夹，并从 XCode 项目中删除引用。

然后，将库文件夹复制到项目位置，在 XCode 中，单击“添加文件...”并选择项目位置中新添加的文件夹。

# java - 使用 JQuery 的会话超时有问题

> ID：13639413
> 
> 赞同：1
> 
> 时间：2012-11-30T05:13:31.157
> 
> 标签：java, javascript, jquery-ui, timeout, timeout-dialog.js

我已经使用 JQuery 插件实现了会话超时，它的实现就像从页面加载开始，它启动计时器，10 秒后，将显示一个弹出窗口。像这样[http://rigoneri.github.com/timeout-dialog.js/](http://rigoneri.github.com/timeout-dialog.js/)

```
function ShowTimeoutWarning(){
$.timeoutDialog({timeout: 1, countdown: 60, restart_on_yes: false}); 
```

}

```
setTimeout( 'ShowTimeoutWarning();', 100000 ); 
```

当用户空闲 10 秒时，此代码可以正常工作。但是即使用户在页面上进行一些操作，无论用户是否空闲，都会显示弹出窗口。我希望仅在用户空闲时运行此代码。请在这方面帮助我。

谢谢！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:34:52.200

有一个启动 setTimeout() 的通用 javascript 函数。请注意，这应该比 web.xml 中定义的会话超时时间短。因此，当超时到期时，您会向用户发出警告，询问是否使会话无效。在每次服务器调用和每次页面重新加载时，您都会重置此 setTimeout()。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-15T21:20:11.350

您应该尝试 jQuery idleTimer 插件 [http://www.paulirish.com/2009/jquery-idletimer-plugin/](http://www.paulirish.com/2009/jquery-idletimer-plugin/)

```
<script type="text/javascript">

    $(function () {
        var timeout = 10000;
        $(document).bind("idle.idleTimer", function () {
            // function you want to fire when the user goes idle
            $.timeoutDialog({ timeout: 0.25, countdown: 30, keep_alive_url: '/KeepAlive.aspx', logout_redirect_url: '/Signin.aspx', restart_on_yes: true });
        });
        $(document).bind("active.idleTimer", function () {
            // function you want to fire when the user becomes active again                
            $.get('KeepAlive.aspx?date=' + escape(new Date()));
        });
        $.idleTimer(timeout);
    });

</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:34:07.243

这是通过计时器和一些 JavaScript 完成的。当页面上的计时器到期时，浏览器会请求一个在服务器上调用 session.invalidate() 的 URL。

# ajax - Bootstrap 预输入 AJAX 调用失败

> ID：13639415
> 
> 赞同：1
> 
> 时间：2012-11-30T05:13:52.413
> 
> 标签：ajax, twitter-bootstrap

我正在尝试使用引导程序中的预先输入功能来使用 AJAX 调用填充搜索栏下拉列表。

我看到了一些关于它的帖子，但最好的答案并没有解决我的问题。

`TypeError: a is undefined`每次点击或删除输入中的一个新字母时，我都会从 jquery.min.js (v1.8.1) 获得一个。

我正在使用 bootstrap-typeahead.js v2.1.1。

HTML：

```
<input class="input-xlarge" id="search" type="text" data-provide="typeahead"> 
```

JS：

```
$('#search').typeahead({
  source: function (typeahead, query) {
     return $.get('http://mywebsite.com/search', { query: query }, function(data){
     return typeahead.process(data);
   });
 }
}); 
```

目标：

```
 function search()
    {
      echo  json_encode(array('toto', 'tata', 'word'));
    } 
```

我不明白这个函数如何使我的 jQuery 库崩溃。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T08:33:40.033

尝试这个

```
$(function(){

            $('#search').typeahead({

                source: function (query, process) {
                    return $.getJSON(
                        'http://mywebsite.com/search',
                        { query: query },
                        function (data) {
                            return process(data);
                        });
                }

            });         

        }); 
```

输出的json应该是这样的

```
[
    "toto",
    "tata",
    "word"
] 
```

和 html 应该是

```
<input name="sometext" type="text" class="input-large" id="search"  placeholder="type something"> 
```

# c - C中二维数组的内存映射

> ID：13639416
> 
> 赞同：-4
> 
> 时间：2012-11-30T05:13:55.297
> 
> 标签：c, multidimensional-array

我对 C 中的二维数组感到困惑。我的代码是：

```
main()
{
    int i, j;
    int arr[3][4] = {
                     { 1, 2, 3, 4 },
                     { 5, 6, 7, 8 },
                     { 9, 0, 1, 6 }
                    };    

    printf("\narr: %u", arr);
    printf("\n&arr: %u", &arr);
    printf("\n*arr: %u", *arr);
} 
```

上述程序的输出为：

```
arr u: 3215469448
&arr: 3215469448
*arr: 3215469448 
```

现在告诉我所有 3 个 printf 语句如何显示单个位置的地址。只需大致解释这些地址是如何相同的。

我知道，之前也有人问过类似的问题，但他们没有帮助我。不要让我参考[C 中 2D 数组的 Memory map](https://stackoverflow.com/questions/6673719/memory-map-for-a-2d-array-in-c)和[2d/多维数组的 MEMORY MAP](https://stackoverflow.com/questions/12952708/memory-map-for-2d-multidimensional-arrays) ...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:15:39.087

在内存中，您的数组布局如下

```
Low address                                  High address

  +---+---+---+---+---+---+---+---+---+---+---+---+
  | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 0 | 1 | 6 |
  +---+---+---+---+---+---+---+---+---+---+---+---+
  ^               ^               ^
  |               |               |
arr[0]          arr[1]          arr[2]
  ^
  |
 arr 
```

从上面的原始 ASCII 图像中可以看出，两者`arr`和都`arr[0]`指向同一个内存位置。和 as`*arr`相同`arr[0]`（与 相同`arr`）那么很容易看出为什么`arr`并且`*arr`相同。

看起来很奇怪的是它`&arr`也是一样的，通常它应该是*变量* `arr`的位置而不是它指向的位置。原因可以在 C 规范中找到（最后一个 C11 草案中的第 6.5.3.2/3 节）：

> 类似地，如果操作数是 [] 运算符的结果，则 & 运算符和 [] 所隐含的一元 * 都不会被计算，结果就像 & 运算符被删除并且 [] 运算符被更改为+ 运算符。

这意味着，基本上，如果在`&`数组上使用地址运算符，则只需返回数组的地址。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:28:04.660

首先，`arr`指向二维数组内存块的顶部地址。这意味着变量`arr`的地址与二维数组的内存块的地址相同。

```
printf("\narr: %u", arr); 
```

显示指针值

```
printf("\n&arr: %u", &arr); 
```

显示变量的引用`arr`。它与我上面所说的 2d 块的顶部地址相同。

```
printf("\n&arr: %u", *arr); 
```

`arr`是一个指向地址的指针`a[0]`，所以`*arr`意味着取消引用`&arr[0]`。即`*&arr[0]`= `arr`。

# mono - 在运行 AIX 的 IBM RISC 上安装 MONO 是否可行或实用？如果是这样，我从哪里开始？

> ID：13639419
> 
> 赞同：0
> 
> 时间：2012-11-30T05:14:22.403
> 
> 标签：mono, aix

在运行 AIX 的 IBM RISC 上安装 MONO 是否可行或实用？
如果是这样，我从哪里开始？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:18:52.483

AIX 不是 Mono[支持的平台](http://mono-project.com/Supported_Platforms)之一。

从[常见问题解答](http://mono-project.com/FAQ%3a_Technical#Portability)：

> Mono 目前在 Linux、Windows、Solaris、FreeBSD 和 MacOS X 上运行。即时引擎 (JIT) 可在 x86 和 PowerPC、Sparc 和 S390 处理器上使用，并且可以生成针对特定 CPU 量身定制的代码和优化。Itanium、HP-PA、StrongARM CPU 存在解释器。

在确定平台细节后，您始终可以下载[源代码](http://download.mono-project.com/sources/)并自行编译。也就是说，需要移植 JITter 以处理处理器。

# sitecore - 使用 Lucene.NET 进行 Sitecore 语言搜索

> ID：13639420
> 
> 赞同：1
> 
> 时间：2012-11-30T05:14:26.607
> 
> 标签：sitecore, lucene.net, culture

我正在使用 Alex Shyba 的 Advanced Database Crawler 从 Sitecore 和 Lucene.NET 查询中索引数据以进行搜索查询。我让它在大多数情况下都能正常工作，但是当我尝试进行术语匹配时，_language 字段出现问题，例如 en-US、zh-CN 和 de-DE。

它返回“en”文化的所有结果。但是例如在 zh-CN 文化中，它会返回大约 99% 的结果，并从每组中遗漏 2-3 篇文章。en 和 zh-CN 是同一个项目的不同版本。我可以通过 Luke 在索引中看到两种文化中有关该项目的两个信息。

我在语言字段上使用 TermQuery 来返回数据。我尝试使用 PhraseQuery 和 WildCardQuery，但每次都得到相同的结果。

我尝试转义连字符，因为标准分析器不喜欢带有反斜杠的连字符，但这也不起作用。

在这一点上，我没有想法。如何让我的查询返回所有匹配的文档？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T11:40:29.727

ADC 有自己的查询对象来定义搜索参数。只需使用[SearchParam 对象](http://svn.sitecore.net/AdvancedDatabaseCrawler/Branches/v2/Sitecore.SharedSource.Searcher/Parameters/SearchParam.cs)`Language`上的属性即可按语言进行搜索。

# php - 保护动态表中的某些字段

> ID：13639421
> 
> 赞同：0
> 
> 时间：2012-11-30T05:14:32.270
> 
> 标签：php, mysql

我使用了 describe 语句并将我的代码转换为动态的。因此，表中的每个字段都会显示给用户（因为我使用了 describe 语句）。谁能告诉我，我怎样才能让一些字段不显示给用户？

例如假设我有一个名为 Table1 的表

字段为 Field1 Field2 Field3 Filed4 Field5

我用过Describe Table1；

我不希望字段 3 和字段 4 出现在用户面前

有人可以帮我吗？

先感谢您

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:27:43.083

最好使用“SHOW COLUMNS”语法：[http ://dev.mysql.com/doc/refman/5.0/en/show-columns.html](http://dev.mysql.com/doc/refman/5.0/en/show-columns.html)

例如

```
SHOW COLUMNS FROM Table1 WHERE Field NOT IN ('Field3', 'Field4'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:22:14.290

为什么不为不应该显示的列制作一个排除列表，然后不显示这些列？

# jquery - 打印 HTML 表格时换行

> ID：13639423
> 
> 赞同：0
> 
> 时间：2012-11-30T05:14:33.433
> 
> 标签：jquery, html, css

我有一个包含 20 列的 HTML 表，我的要求是列标题应在每一页上重复，如果列不适合 1 页，则应移至下一页。

我已经实现了第一部分，即同一页面上的标题，但不知道如何进行分栏？？？

必须在 IE8+ 上进行

更新：错过了要求与打印相关的部分。在打印表格时，我遇到了这个问题.... ooooops :P

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:20:24.983

如果您准备考虑使用 jQuery 插件，那么我会推荐[datatables](http://datatables.net/)，它处理分页，虽然是按行而不是按列。

但是，该插件的`fnSetColumnVis()`命令允许隐藏/显示列，并可用于实现所谓的“分栏”效果。

您将需要编写一个在之间切换的函数，例如：

*   显示第 2 到 10 列并隐藏第 11 到 20 列
*   隐藏第 2 到 10 列并显示第 11 到 20 列

实现一种按列分页。

# php - 未定义变量：argc [APP/webroot/cron_dispatcher.php，第87行]<

> ID：13639424
> 
> 赞同：0
> 
> 时间：2012-11-30T05:14:37.367
> 
> 标签：php, cakephp-1.3

我正在使用 cron_dispatcher.php 文件运行 cron 作业。但我收到以下错误消息：

```
Undefined variable: argc [APP/webroot/cron_dispatcher.php, line 87] 
```

我在第 87 行的代码是

```
define('CRON_DISPATCHER', true);
if ($argc == 2) {
    $Dispatcher = new Dispatcher();
    $Dispatcher -> dispatch($argv[1]); 
```

我的 cron 命令是 /web/cgi-bin/php5 /my/path/to/html/app/webroot/cron_dispatcher.php /users/test/

谢谢你。

编辑 **解决：**。解决方案是在 CLI 模式 /usr/local/php5/bin/php（Godaddy 服务器特定）下运行 cron 命令。

它会显示错误，但最终会运行控制器的操作。

感谢每一个人，尤其是“VSTM”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:19:30.560

`$argc`只有启用了相关的 php.ini 指令时，变量`$argv`才会存在。

您应该改用`$_SERVER['argc']`and `$_SERVER['argv']`。

# html - 内容不占用其父元素的高度

> ID：13639426
> 
> 赞同：1
> 
> 时间：2012-11-30T05:14:48.743
> 
> 标签：html, whitespace

我有一个表，其中有几个包含链接的 td，现在问题是我的链接很长，所以我希望这些链接占据 td 的全宽，然后转到第二行，但它不起作用

**演示**

[http://jsfiddle.net/6pyxB/1/](http://jsfiddle.net/6pyxB/1/)

我尝试使用`white-space:no-wrap;`，并且在链接大小等于或小于 td 高度的情况下很好。但如果链接大小大于 td 大小，它也会扩展 td 宽度，这也是我不想要的。

**演示后空白：无换行**

[http://jsfiddle.net/6pyxB/2/](http://jsfiddle.net/6pyxB/2/)

在这种情况下，我希望剩余的链接地址转到第二行，而不是增加 div 的大小。

请帮帮我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:30:32.900

尝试在样式表中添加[分词：](http://www.w3schools.com/cssref/css3_pr_word-break.asp)

```
td {
    word-break: break-all;
} 
```

# c - 何时决定使用 typedef 的数据类型或 C 的内置标准数据类型

> ID：13639427
> 
> 赞同：1
> 
> 时间：2012-11-30T05:14:56.953
> 
> 标签：c, typedef

gcc 4.7.2 c89

你好，

我正在使用 Apache Portable Runtime 并查看他们的 typedef

```
typedef short apr_int16_t
typedef int apr_int16_t
typedef size_t apr_size_t /* This is basically the same, so what's the point */ 
```

等等

1.  那么这一切的意义何在？
2.  什么时候应该决定使用 C 的内置标准数据类型或 typedef 的数据类型？

我只是举了一个使用 APR 的例子。不过，我也泛泛而谈。还有 typedef 的数据类型的 stdint.h 头文件。

非常感谢您的任何建议，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:33:28.993

在我看来，最好为系统的本机数据类型自定义定义数据类型，因为它有助于清楚地区分类型的大小。

例如：long 可能是 32 位或 64 位，具体取决于运行代码的机器及其构建方式。但是，如果您的代码特别需要一个 64 位变量，那么将其命名为 uint_64_t 或类似名称总是有助于清楚地关联大小。

在这种情况下，代码可以写成：

```
 #if _64BIT_
    typedef long uint_64_t
    #else
    typedef long long uint_64_t
    #endif 
```

但正如 Mehrdad 所建议的那样，不要“只是为了好玩”。:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:29:55.600

好问题。

1.  那么这一切的意义何在？

    它旨在用于抽象，但与其他任何事物一样，它有时会被误用/过度使用。
    有时需要向后兼容（例如`typedef VOID void`在 Windows 中），有时需要适当的抽象（例如`typedef unsigned int size_t`），有时它在逻辑上完全没有意义，但使输入更容易（例如`typedef char const *LPCSTR`在 Windows 中）。

2.  什么时候应该决定使用 C 的内置标准数据类型或 typedef 的数据类型？

    如果它使事情变得更容易，或者如果它实现了适当的抽象屏障，请使用它。
    这究竟意味着什么，你将不得不随着时间的推移而学习。
    但不要“只是为了好玩”！

# tfs - 使用电动工具在 tfs 2010 中对现场严重性进行警报并进行分类

> ID：13639431
> 
> 赞同：0
> 
> 时间：2012-11-30T05:15:10.337
> 
> 标签：tfs, alert, tfs-power-tools, tfs-alerts

在 tfs 2010 警报资源管理器中，我必须像下面这样发出警报

严重性的旧值=严重性的旧值和分类的新旧值！=（不等于）分类的新值。

我怎样才能做到这一点 ？由于 tfs 警报严重性/分类字段仅将操作员显示为（更改、更改从、更改到），如果它们可以显示（=，包含）我的问题将得到解决！对不起，我的英语不好 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-02T12:03:16.027

不幸的是，这无法通过 TFS 2010 中的警报资源管理器实现。您可以使用 TFS 插件或使用 Web 服务自行开发，然后您需要通过命令行或“警报资源管理器”订阅“WorkItemChangedEvent” .

# pchart - Pchart - 旋转图像

> ID：13639437
> 
> 赞同：2
> 
> 时间：2012-11-30T05:15:44.173
> 
> 标签：pchart

使用 pchart 2 我正在寻找一种可靠的（希望是内置的）方法来将条形图的横坐标“HITS”移动到图表的左侧而不是顶部，并将带有名称的轴移动到图表的底部。

对不起，但我是新手，我不能上传图片。

```
 Hits
                1 2 3 4 5 6 7 8 9
       Pedro    ---------
       Juan     --------------
       Luis     ------
       Miguel   ------------ 
```

那是一个拉杆。

# c# - 使用 C# 上传 Excel 工作表时如何显示进度条？

> ID：13639438
> 
> 赞同：0
> 
> 时间：2012-11-30T05:15:48.580
> 
> 标签：c#, .net

我需要显示进度条

在上传包含 100 条记录的 Excel 表时，在进度栏中上传 100 条中的 1 条

它应该增加

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:30:55.180

请参阅此文档，其中详细介绍了您可以使用 SqlBulkCopy 挂钩的事件，以在插入 X 行后报告进度。

[http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlbulkcopy.notifyafter.aspx](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlbulkcopy.notifyafter.aspx)

您可以使用此事件将`ProgressBar.Value`（整数 1-100）更新为当前进度。

# c++ - g ++编译存在于另一个目录中的源文件

> ID：13639443
> 
> 赞同：5
> 
> 时间：2012-11-30T05:15:57.873
> 
> 标签：c++, gcc, g++, makefile

我正在尝试使用 makefile 为我正在开发的 C++ 插件设置构建过程。我很想知道是否有任何方法可以使 g++ 编译在另一个目录中找到的*源*文件。我这样做的动机是避免必须为每个源文件指定相对路径，如下所述。

我的项目目录结构如下：

```
MyPlugin --> src   --> Foo.cpp
                   --> Foo.h
                   --> Bar.cpp
                   --> Bar.cpp
         --> build --> Makefile 
```

以下是我当前 Makefile 的精简版本：

```
SRC_PATH=../src
OUT_PATH=../bin
VPATH=${SRC_PATH}
FILES=Foo.cpp Bar.cpp

CC=g++
CFLAGS=-Wall -shared

all:
    mkdir -p ${OUT_PATH}
    ${CC} ${CFLAGS} -I${SRC_PATH} ${FILES} -o ${OUT_PATH}/MyPlugin.so 
```

通过这样做，我试图避免`FILES`如下定义变量：

```
FILES=../src/Foo.cpp ../src/Bar.cpp 
```

当我尝试运行时`make all`，g++ 给了我一个错误。看起来通过`-I`flag 指定的路径仅用于搜索`#include`d 文件。

```
g++: Foo.cpp: No such file or directory
g++: Bar.cpp: No such file or directory 
```

我不能使用通配符 ( `*.cpp`)，因为我并不总是希望提取所有文件进行编译。另一种选择是`cd`src 目录，如此处所述，然后从[那里](https://stackoverflow.com/questions/1139271/makefiles-with-source-files-in-different-directories)运行 g++，但这仅适用于所有文件都在同一目录中的情况（我需要输出为单个`.so`文件）。我也尝试设置环境变量`PATH`，但这似乎没有任何效果。

我查看了 g++ 帮助、make 文档，并查看了 StackOverflow 帖子，例如[https://stackoverflow.com/questions/10010741/g-compile-with-codes-of-base-class-in-a-separate -directory](https://stackoverflow.com/questions/10010741/g-compile-with-codes-of-base-class-in-a-separate-directory) and [gcc/g++: "No such file or directory"](https://stackoverflow.com/questions/12919081/gcc-g-no-such-file-or-directory)，但找不到我可以使用的任何解决方案。你能建议我一个合适的方法来解决这个问题吗？

**编辑**该示例可能具有误导性。在这个精简的示例中，我将所有源文件放在一个目录中，但在我的实际项目中，我有几个子目录，每个目录中有多个文件。因此，尽管在我上面的示例`cd`中对`src`目录有效，但它在我的实际项目中不起作用（或者至少，我想知道它是如何工作的）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-30T06:01:14.010

您可以为*实际*的源文件设置第二个变量，如下所示：

```
FILES = Foo.cpp Bar.cpp
SOURCES = $(FILES:%.cpp=$(SRC_PATH)/%.cpp) 
```

然后`FILES`在构建时使用而不是使用`SOURCES`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:26:03.833

您可以像这样将所有候选源目录放到 VPATH 中：

```
VPATH=${SRC_PATH}:other_source_dir1:other_source_dir2 
```

然后当 g++ 需要源文件时，make 会沿着 VPATH 查找源文件。

并尝试将 .cc 文件列表更改为 .o 列表：

```
FILES = file1.o file2.o 
```

并在您的 make 文件中添加以下两行。注意，第二行必须以 TAB 开头。

```
.cc.o:
    $(CC) $(CFLAGS) -c $<  # NOTE This should begin with TAB 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T05:30:32.667

如果您在控制台上查看 Make 的输出，您会看到如下所示：

```
g++ -Wall -shared -I../src Foo.cpp Bar.cpp -o ../bin/MyPlugin.so 
```

如您所见，要编译的文件的路径不正确。您已经提到了实现此目的的一种方法，即在源文件名前加上 ../src （这种方法有什么问题）。或者您可以定义文件，如下所示：

```
FILES=${SRC_PATH}/Foo.cpp \
      ${SRC_PATH}/Bar.cpp 
```

使用上面的方法，如果源路径发生变化，您将不需要手动编辑源路径。

# python - 嵌套列表和字典

> ID：13639444
> 
> 赞同：0
> 
> 时间：2012-11-30T05:16:07.290
> 
> 标签：python

我必须读取文件的内容并使用字符串格式打印它们。目前我正在使用一个字典，其中键的值是一个列表，即嵌套在字典中的列表。

```
data={'Hour':[],'Total Incoming':[],'Pass':[],'Stale Client':[],'Error':[],'Exec time':[[],],'Update time':[[],]} 
```

打印时我使用 for 循环

```
for i in range (0,len(data['Hour']-1):
    print data['Hour'][i],data['Total Incoming'][i] and so on 
```

我怀疑嵌套在列表中的字典是否比上面的更优化和更好

```
data=[{'Hour1':['Total Incoming','Pass','Stale Client','Error','Exec time'[],'Update time'[]]},{'Hour2':['Total Incoming','Pass','Stale Client','Error','Exec time'[],'Update time'[]]...} 
```

你能在这方面帮助我吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:54:53.570

无论您使用字典中的列表还是列表中的字典，在内存优化方面确实没有区别。根据您的用例，一个可能更容易与另一个一起使用，在这种情况下，您可能会通过选择特定的一个来获得较小的整体速度性能。

# mysql - 我可以在 SQL 中为同一列设置唯一约束和非空约束吗？

> ID：13639445
> 
> 赞同：1
> 
> 时间：2012-11-30T05:16:16.470
> 
> 标签：mysql, sql

我的sql不好。我只是想和你一起消除我的疑虑。我可以将两个约束分配给单个列吗？

例如

```
 eno ename address mobileno
      1   A      US      9089877878
      2   B      UK      NULL
      3   C      IND     9089877878 
```

考虑上面的例子，我不想让用户为 mobileno 列输入 NULL 或相同的值。我如何限制用户这样做？

感谢您的重要时间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T05:18:44.813

`CREATE TABLE table_name (column_name type NOT NULL, UNIQUE (column_name))`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:59:46.607

是的你可以

```
CREATE TABLE TABLE_NAME
 ( eno NUMBER
  ,ename VARCHAR2(100)
  ,address VARCHAR2(2000) 
  ,mobileno NUMBER NOT NULL
  ,constraint table_name_mobile_UK UNIQUE (mobileno)
); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:27:05.970

或者你也可以使用这种方式，

```
CREATE TABLE Persons
(
Id int NOT NULL UNIQUE, 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T05:36:07.720

一种解决方案是数据不能重复以及数据不能为空。可以使用将此列作为主键。

`CREATE TABLE table_name(eno NUMBER(3),ename CHAR(1),address CHAR(3),mobile_no NUMBER(10) PRIMARY KEY(mobile_no));`

在 Oracle 中，我们可以应用多个主键，在您的情况下它被称为复合键，可以采用以下方式：

`CREATE TABLE table_name(eno NUMBER(3),ename CHAR(1),address CHAR(3),mobile_no NUMBER(10) PRIMARY KEY(eno,mobile_no));`

# java - 创建 Spring Web MVC 项目

> ID：13639448
> 
> 赞同：0
> 
> 时间：2012-11-30T05:16:25.587
> 
> 标签：java, spring, spring-mvc

我的代码错误

**预订控制器.java**

```
import java.net.BindException;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import org.springframework.web.portlet.ModelAndView;
import org.springframework.web.servlet.mvc.SimpleFormController;

public class bookingcontroller extends SimpleFormController {
public bookingcontroller() {
    //Initialize controller properties here or 
    //in the Web Application Context

    setCommandClass(Booking.class);
    setCommandName("name");
    setSuccessView("bookingview");
    setFormView("nameview");
}

@Override
protected ModelAndView onSubmit(HttpServletRequest request, HttpServletResponse response, Object command, BindException errors) throws Exception {
    Booking booking = (Booking) command;
    ModelAndView mv = new ModelAndView(getSuccessView());
    mv.addObject("bookingmessages", bookingservices.forminput(booking.getValue()));
    return mv;
}

private bookingservices bs;

public void setbookingservices(bookingservices bs) {
    this.bs = bs;
} 
```

> 这里的错误：@Override

*其他文件*：applicationContext.xml、dispatcher-servlet.xml、redirect.jsp、web.xml、bookingservices.java、bookingcontroller.java、Booking.java、bookingview.jsp、nameview.jsp

如果您需要代码，我会显示。只问文件名..

# c# - 命令行输入和 UseShellExecute == true

> ID：13639454
> 
> 赞同：1
> 
> 时间：2012-11-30T05:17:15.787
> 
> 标签：c#, command-line, cmd

我有一个程序，基本上剩下的就是通过 CMD.exe 调用命令。

我需要在我当前的工作目录中打开 CMD.exe（我知道我可以做 Porcess.Start(CMD.exe)）

然后我需要让程序在 cmd.exe 中键入一个特定的字符串。同时留在我当前的工作目录中。我不能使用“UseShellExecute == false”，因为它会杀死 shell，我需要 shell 才能工作。

显然我需要更具体。所以，我试图写入 cmd.exe 的文本是`"clingo.exe \"Constants.txt\" \"Solver.txt\" \"Nodes.txt\" > \"Solved.txt\""`. cligo.exe 是一个答案集编译器，我在常量、求解器和节点文件上使用它来获得通过管道传输到 Solved 的解决方案。所有这些文件都在一个目录中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T05:37:51.867

首先，我对您认为`UseShellExecute=false`对您不起作用的原因感兴趣。有没有可能你没有正确使用它？

这是您最好的选择。这适用于 99% 的应用程序：

```
ProcessStartInfo psi = new ProcessStartInfo
{
    FileName = "clingo.exe",
    Arguments = "\"Constants.txt\" \"Solver.txt\" \"Nodes.txt\"",
    RedirectStandardOutput = true,
    UseShellExecute = false
};

using(Process p = Process.Start(psi))
using(Stream s = File.Create("Solved.txt"))
{
    p.StandardOutput.CopyTo(s);
    p.WaitForExit();
} 
```

这是罕见的应用程序的一个选项，它不喜欢以标准方式传递的 args，但适用于 cmd.exe：

```
ProcessStartInfo psi = new ProcessStartInfo
{
    FileName = "cmd.exe",
    RedirectStandardInput = true,
    UseShellExecute = false // note this applies to cmd.exe specifically,
                            // NOT the processes that you start from cmd.exe
};

using(Process p = Process.Start(psi))
{
    p.StandardInput.WriteLine("clingo \"Constants.txt\" \"Solver.txt\" \"Nodes.txt\" > \"Solved.txt\"");
    p.StandardInput.WriteLine("exit");
    p.WaitForExit();
} 
```

您可能还需要重定向 StandardOutput 和 StandardError 才能使这个工作正常——我忘了​​！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:29:42.933

您可以尝试传递参数，但请确保您的 exe 参数正确

```
ProcessStartInfo proc = new ProcessStartInfo();
proc.FileName = @"C:\clingo.exe \Constants.txt\ \Solver.txt\ \Nodes.txt\ > \Solved.txt\";
proc.Arguments = @"10.2.2.125";
Process.Start(proc); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:26:19.877

为什么需要从命令行启动进程？那这个呢？

```
var process = new Process { StartInfo = new ProcessStartInfo("cmd", "/c clingo.exe Constants.txt Solver.txt Nodes.txt") };
process.Start();
process.StartInfo.RedirectStandardOutput = true;
process.WaitForExit();
//do something with process.StandardOutput, this has the results 
```

这里需要注意一些技巧。首先，使用 cmd 的 /c 参数，它会使提示立即退出。其次，根据您的上下文，您可能需要设置`process.StartInfo.CreateNoWindow = true`. 最后，请注意，如果输出超出缓冲区，重定向标准输出可能会导致应用程序挂起。如果您希望它不仅仅是一点点数据，您将需要特别努力将其读出。

# java - 如何在关闭窗口时自动保存 TextArea 中的内容？

> ID：13639455
> 
> 赞同：1
> 
> 时间：2012-11-30T05:17:21.557
> 
> 标签：java, swing, compiler-errors, static

我有一个模拟简单文本字段的 Java GUI 程序（就像便笺一样）。我希望能够单击关闭按钮，它会自动将其保存到目录中的预定义文本字段中。

但是我遇到了静态错误的问题：

```
File: C:\Users\Adel\Code\Javas\popupText.java  [line: 538]
Error: non-static method open() cannot be referenced from a static context 
```

这是我的程序的主要方法：

```
 public static void main(String args[])
  {
    popupText note = new popupText("Untitled-Notepad");
    note.setSize(600,600);
    note.setLocation(200,200);
    note.setVisible(true);

    WindowListener exitListener = new WindowAdapter() {

      @Override
      public void windowClosing(WindowEvent e) {
        int confirm = JOptionPane.showOptionDialog(null, "Are You Sure to Close Application?", "Exit Confirmation", JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE, null, null, null);
        if (confirm == 0) {

          open();   //THIS CAUSES ERROR!!
          System.out.print("Yay I openeed");
          addToStatic();  //just added @ end
          System.exit(0);
        }
      }
    };
    text.append(guts);

    note.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE); 
    note.addWindowListener(exitListener); 
```

文本区域很简单，看起来像这样，如果您愿意，我也可以提供完整的代码（目前只是有点未格式化）：

![在此处输入图像描述](../Images/6740b6e21a2d1c919aef69d553ef3c89.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T05:21:52.573

`main`是`static`，但`open`方法不是。

您只能`static`从其他方法访问方法（和字段）`static`。

没有进一步的代码，我建议你尝试类似的东西`note.open()`（假设`open`是一种注意方法）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-30T05:27:07.943

**-** `main`是一种`static`方法。

**-**方法**不能**访问**变量或**`static`方法。**`Non-static`**

 ******-** `open()`方法似乎是一种**非静态**方法。所以它认为你需要创建一个定义了 open() 方法的类的实例，然后使用`.`(dot) 运算符访问它。****

# java - 如何在展开树中旋转节点？

> ID：13639457
> 
> 赞同：2
> 
> 时间：2012-11-30T05:17:25.660
> 
> 标签：java, tree, splay-tree

我的代码是

```
private Node rotateLeftChild(Node n)
{
    Node o = n.left;
    n.left = o.right;
    o.right = n;
    return o;
} 
```

当我调用它在根部旋转这样的树时：

```
 7
            / \
           4   8
          / \   
         1   5 
```

它删除了 4 和 1 并使 5 成为 7 的左根。我尝试将该方法设置为 void 方法，但这似乎也不起作用。我这样做是完全错误的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T19:51:48.700

首先，对不起我的英语。

回答一个问题 - 为什么节点 4 消失很简单。7 有父节点（或 7 是根节点）。当您调用 rotateLeftChild 时，7 的父母仍然“认为”他的孩子是 7，而不是 4：

![实拍图](../Images/eef3170a7f901e6d7f4216694818636b.png)

所以，有树解决方案：

1.  链接到父节点并更新它。在 leftRotation 的最后，进行赋值，n.Parent.Left = o 或 n.Parent.Right = o（分别为 if (n.Parent.Left == n) 或 (n.Parent.Right == n)）。当然，当您旋转根的子节点时，您必须更新指向树根的链接。

2.  当您添加 | 插入 | 查找节点，将所有先前的（父）节点保存在堆栈中，然后在旋转后您必须更新指向其子节点的链接。或者像这样使用递归：

    ```
    private Splay(Node parent, Node cur, Node n, bool canMoveUpTwice = false) {
        if (cur.Value > n.Value)
            Splay(cur, cur.Left, n, !canMoveUpTwice);
        else
            Splay(cur, cur.Right, n, !canMoveUpTwice);

        if (canMoveUpTwice)
            MoveUpTwice();
        else
            MoveUpOnce();

        if (parent.Left == cur)
            parent.Left = n;
        else
            parent.Right = n;

        if (Parent == null)
            tree.Root = n;
    } 
    ```

    如何使用。添加节点后，您必须运行 Splay(root, newNode)。可以肯定的是，你会得到堆栈溢出。

3.  您必须交换节点的值，然后认为节点已被交换。在旋转的标准实现中，我们有这样的图片： ![简单的旋转](../Images/858b75bdbb80664cee71f16b2c87cafa.png) 在使用交换的旋转中，我们得到这个（=x 表示“节点具有值 X”）： ![轮换轮换](../Images/555b73621d51198f77a3c8b33c1e3fd3.png) 所以，我们有这个代码

    ```
    private rotateLeftChild(Node q) {
        Node p = q.Left;

        Swap(q.Value, p.Value); 

        A = p.Left;
        B = p.Right;
        C = q.Right;

        q.Left  = A;
        q.Right = p;

        p.Left  = B;
        p.Right = C;
    } 
    ```

请注意：代码尚未经过测试。

# java - 多态排序转换

> ID：13639458
> 
> 赞同：0
> 
> 时间：2012-11-30T05:17:53.323
> 
> 标签：java, arrays, sorting, polymorphism

我不知道如何更正程序。我尝试将 Sorting.java 程序更改为 public static void selectionSort (int[] intList)，但这似乎并不能解决问题。有人可以帮忙吗？

文件 Sorting.java 包含 Sorting 类。此类实现了选择排序和插入排序算法，用于按升序对任何 Comparable 对象数组进行排序。在本练习中，您将使用 Sorting 类对几种不同类型的对象进行排序。

1.  文件 Numbers.java 读入一个整数数组，调用选择排序算法对它们进行排序，然后打印排序后的数组。将 Sorting.java 和 Numbers.java 保存到您的目录中。Numbers.java 不会以其当前形式编译。研究它，看看你是否能找出原因。

2.  尝试编译 Numbers.java 并查看错误消息是什么。**问题涉及原始数据和对象之间的差异。更改程序以使其正常工作（注意：您不需要进行很多更改 - Java 1.5 的自动装箱功能将负责从 int 到 Integer 的大多数转换）。

这是代码： -

```
// Demonstrates the selection sort and insertion sort algorithms.
public class Sorting {
    // Sorts the specified array of objects using the selection
    // sort algorithm.

    public static void selectionSort (Comparable[] list) {
        int min;
        Comparable temp;
        for (int index = 0; index < list.length-1; index++) {
            min = index;
            for (int scan = index+1; scan < list.length; scan++)
                if (list[scan].compareTo(list[min]) < 0)
                    min = scan;

        // Swap the values
            temp = list[min];

            list[min] = list[index];
            list[index] = temp;
        }
    }

    // Sorts the specified array of objects using the insertion
    // sort algorithm.
    public static void insertionSort (Comparable[] list) {
        for (int index = 1; index < list.length; index++) {
            Comparable key = list[index];
            int position = index;

            // Shift larger values to the right
            while (position > 0 && key.compareTo(list[position-1]) < 0) {
                list[position] = list[position-1];
                position--;
            }

            list[position] = key;
        }
    }
}

// Numbers.java    
// Demonstrates selectionSort on an array of integers.    
import java.util.Scanner;

public class Numbers {

    // Reads in an array of integers, sorts them,
    // then prints them in sorted order.
    public static void main (String[] args) {
        int[] intList;
        int size;
        Scanner scan = new Scanner(System.in);
        System.out.print ("\nHow many integers do you want to sort? ");

        size = scan.nextInt();
        intList = new int[size];

        System.out.println ("\nEnter the numbers...");
        for (int i = 0; i < size; i++)
            intList[i] = scan.nextInt();

        Sorting.selectionSort(intList);

        System.out.println ("\nYour numbers in sorted order...");
        for (int i = 0; i < size; i++)
            System.out.print(intList[i] + " ");

        System.out.println ();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:40:47.170

在您的排序类`selectionSort(Comparable[] list)`方法中需要 Comparable 数组。

但是您发送的是 int[]，而不是`int[]`您可以发送`Integer[]`.

在`main`方法中声明数组如下，它将正常工作。

> 整数 [] 整数列表；

用下面的代码替换你的主要方法。

```
public static void main(String[] args)

    {

        Integer[] intList;

        int size;

        Scanner scan = new Scanner(System.in);

        System.out.print("\nHow many integers do you want to sort? ");

        size = scan.nextInt();

        intList = new Integer[size];

        System.out.println("\nEnter the numbers...");

        for (int i = 0; i < size; i++)

            intList[i] = scan.nextInt();

        Sorting.selectionSort(intList);

        System.out.println("\nYour numbers in sorted order...");

        for (int i = 0; i < size; i++)

            System.out.print(intList[i] + " ");

        System.out.println();

    } 
```

供参考

虽然`int`是 autoboxed to `Integer`，但`int[]`不是 Autoboxed to `Integer[]`。

数组没有装箱，只有类型本身。

看到这个：[How to convert int[] into List<Integer> in Java?](https://stackoverflow.com/questions/1073919/how-to-convert-int-into-listinteger-)

在Java中

# vb.net - vb.net 查找属性 = 查询的类实例

> ID：13639459
> 
> 赞同：1
> 
> 时间：2012-11-30T05:18:28.033
> 
> 标签：vb.net, class

我有一个名为“游戏”的自定义类。假设我创建了这个类的 3 个实例。

```
Public Class FrmMain
  Public Sub addGames()
    for x As Integer = 1 To 3 Step 1
      Dim game As New game
      if x = 1 then game.name = "Zelda"
      if x = 2 then game.name = "Mario"
      if x = 3 then game.name = "Donkey Kong"
    next
  End Sub

  Public Sub findMario()
    'What goes here?
  End Sub
End Class 
```

我在我的子“findMario()”中放入什么来获取“游戏”实例的名称属性等于“马里奥”？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T05:52:11.000

你可以这样做：

```
Public Class FrmMain
    Dim games as new List(of game)

    Public Sub addGames()
        games.Add(New Game With {.Name = "Zelda"})
        games.Add(New Game With {.Name = "Mario"})
        games.Add(New Game With {.Name = "Donkey Kong"})
    End Sub

    Public Sub findMario()
        Dim result = (From game In games
                     Where game.Name.Equals("Mario")
                     Select game).FirstOrDefault

        'Do something with the result
    End Sub
End Class 
```

如果您需要从外部文本文件中检索游戏名称，您可以执行以下操作：

```
Public Sub addGames()
    Dim names = File.ReadAllLines("C:\games.txt")        

    names.ToList().ForEach(Sub(x) games.Add(New Game With {.Name = x}))
End Sub 
```

# python - 用 Python 问题解析多维 json

> ID：13639461
> 
> 赞同：0
> 
> 时间：2012-11-30T05:18:44.867
> 
> 标签：python, json, parsing, twitter

我正在使用 twitter 搜索 API 并使用 python 来解析返回的数据。我是一个 python-noob，所以我的错误可能是我缺乏理解，尽管我被卡住了。

我的回复如下所示：

还有我的代码；“responseJson”是一个文件，我将来自 twitter 的响应保存到该文件中，以便在不使用 API 的情况下继续测试。

```
responseJson = json.loads(open(DEBUG_JSON).read())

for key, value in responseJson.iteritems():
if key == 'results':
    print "type: ", type(value)
    for tweetKey, tweetValue in value.iteritems():
        print tweetKey 
```

当我执行程序时，我得到：

```
$ python search.py
type:  <type 'list'> <-- says it's a list!
Traceback (most recent call last):
File "search.py", line 46, in <module>
for tweetKey, tweetValue in value.iteritems():
AttributeError: 'list' object has no attribute 'items' 
```

您可以看到输出显示“value”是一个列表，这意味着我应该能够在其上调用 iteritems()。我可以在“responseJson”上调用 iteritems() 就好了。

任何帮助/清晰表示赞赏，TIA！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:27:10.320

`iteritems()`只能在字典和类似对象上运行。JSON 在加载时是一个字典。在这种情况下， responseJson 是一个字典，而不是一个列表。

列表没有这种方法；您可以默认迭代它们。您可能需要仔细检查`value`实际情况。如果它是一个 2 元素列表，您只需删除`iteritems()`. 否则，您将不得不更仔细地研究结构。

# javascript - Javascript 等价于 python 的 .format()

> ID：13639464
> 
> 赞同：9
> 
> 时间：2012-11-30T05:18:53.650
> 
> 标签：javascript, python, string, formatting, string-formatting

我想要一个模仿 python .format() 函数的javascript函数，它的工作方式类似于

```
.format(*args, **kwargs) 
```

上一个问题为 '.format(*args) 提供了一个可能的（但不完整的）解决方案

[JavaScript 等价于 printf/string.format](https://stackoverflow.com/questions/610406/javascript-equivalent-to-printf-string-format)

我希望能够做到

```
"hello {} and {}".format("you", "bob"
==> hello you and bob

"hello {0} and {1}".format("you", "bob")
==> hello you and bob

"hello {0} and {1} and {a}".format("you", "bob",a="mary")
==> hello you and bob and mary

"hello {0} and {1} and {a} and {2}".format("you", "bob","jill",a="mary")
==> hello you and bob and mary and jill 
```

我意识到这是一项艰巨的任务，但也许在某个地方有一个完整的（或至少部分的）解决方案，其中也包括关键字参数。

哦，我听说 AJAX 和 JQuery 可能有这方面的方法，但我希望能够在没有所有开销的情况下做到这一点。

特别是，我希望能够将它与谷歌文档的脚本一起使用。

谢谢

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-30T05:37:42.690

更新：如果您使用 ES6，模板字符串的工作方式非常类似于`String.format`：[https ://developers.google.com/web/updates/2015/01/ES6-Template-Strings](https://developers.google.com/web/updates/2015/01/ES6-Template-Strings)

如果不是，则以下适用于上述所有情况，其语法与 python 的`String.format`方法非常相似。下面的测试用例。

```
String.prototype.format = function() {
  var args = arguments;
  this.unkeyed_index = 0;
  return this.replace(/\{(\w*)\}/g, function(match, key) { 
    if (key === '') {
      key = this.unkeyed_index;
      this.unkeyed_index++
    }
    if (key == +key) {
      return args[key] !== 'undefined'
      ? args[key]
      : match;
    } else {
      for (var i = 0; i < args.length; i++) {
        if (typeof args[i] === 'object' && typeof args[i][key] !== 'undefined') {
          return args[i][key];
        }
      }
      return match;
    }
  }.bind(this));
};

// Run some tests
$('#tests')
  .append(
    "hello {} and {}<br />".format("you", "bob")
  )
  .append(
    "hello {0} and {1}<br />".format("you", "bob")
  )
  .append(
    "hello {0} and {1} and {a}<br />".format("you", "bob", {a:"mary"})
  )
  .append(
    "hello {0} and {1} and {a} and {2}<br />".format("you", "bob", "jill", {a:"mary"})
  );
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div id="tests"></div>
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:31:25.703

这应该类似于 python 的工作，`format`但是对于具有命名键的对象，它也可以是数字。

```
String.prototype.format = function( params ) {
  return this.replace(
    /\{(\w+)\}/g, 
    function( a,b ) { return params[ b ]; }
  );
};

console.log( "hello {a} and {b}.".format( { a: 'foo', b: 'baz' } ) );
//^= "hello foo and baz." 
```

# asp.net - 模型视图控制器。什么是模型？

> ID：13639465
> 
> 赞同：1
> 
> 时间：2012-11-30T05:18:53.837
> 
> 标签：asp.net, asp.net-mvc

# 什么是型号？

我是一名 ASP.Net WebForms 开发人员。我已经学习 MVC 几天了。

我可以理解 Controller 和 View 的概念，但什么是 Model ？

是数据吗？它必须与 LINQ 一起使用还是我们可以使用传统的存储过程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:22:06.597

模型表示您的**域模型**或数据。它不一定是 LINQ 对象。您可以为您的域模型创建**POCO**类，并使用任何数据访问方法向其中填充数据。为此，您可以使用 LinqtoSQL 或 EntityFrameWork**或 Plain ADO.NET**。这完全取决于你。

当您查找 MVC 示例时，您大多会看到带有 LINQ to SQL 或 EntityFramework 的示例代码/程序。这些是帮助开发人员避免将所有映射代码从 DataReader 写入 POCO 类的 ORMS。

请记住，MVC 并不担心数据访问方法是什么。MCV 是将这些不同的关注点分成不同的层的开发模式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T05:21:22.370

在抽象层面，`Model`就是与数据库和数据交互。

通过 LINQ 或其他一些传统存储过程与数据库进行交互没有硬性规定。这完全取决于上下文。

顺便说一句，当您遵循`Skinny Controller and Fat Model`方法时，业务逻辑可能会进入`Model`，或者您可以开发`Service layer`来处理业务逻辑但我更喜欢在模型中拥有业务逻辑。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T05:22:24.090

1）是的，它与数据有关。

> 模型是表示数据甚至活动的对象，例如数据库表或什至是一些车间生产机器过程。

2）从技术上讲，您可以通过 Linq OR 存储过程获得它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-30T05:25:19.933

模型是有关您的数据的唯一、确定的数据源。它包含您存储的数据的基本字段和行为。通常，每个模型都映射到一个数据库表。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-30T05:35:39.603

> 是数据吗？

通常是数据和行为。当你开始设计你的模型时，我建议完全忘记“数据库”。[领域驱动设计](https://rads.stackoverflow.com/amzn/click/com/0321125215)这本书就是一个很好的例子。

> 它必须与 LINQ 一起使用还是我们可以使用传统的存储过程？

尝试创建您的模型以保持无知。很多答案都提到了数据库，但理想情况下，模型不应该知道它是如何持久化的。在某些情况下，模型的某些部分并非所有部分都将被保留。看看[基格](http://kigg.codeplex.com/)源。它显示了模型和持久性之间的清晰分离。它显示了将 EF 和 Linq 实现为两个不同的选项。

IMO，《ASP.NET MVC in Action》书籍很好地展示了 MVC 的不同部分，并讨论了不同的“模型”、ViewModel 与实体模型等。

编辑：也许问题应该是，在（领域驱动设计 || 数据驱动设计）中，模型是什么？

# linux - 我正在尝试使用 SPEC 文件创建自定义 RPM。

> ID：13639469
> 
> 赞同：0
> 
> 时间：2012-11-30T05:18:59.113
> 
> 标签：linux, rpm, rpmbuild, rpm-spec

演示规范

```
Name:           demo
Version:        1
Release:        0
Summary:        demo apss

Group:          Applications/Archiving

License:        GPLv2+

URL:            http://xyz.co.in

Source0:        %{name}-%{version}.%{release}.tar.gz

BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)

Requires:       tar

%description

%prep

%setup -q

%build

%configure

make %{?_smp_mflags}

%install

rm -rf $RPM_BUILD_ROOT

make install DESTDIR=$RPM_BUILD_ROOT

%clean

rm -rf $RPM_BUILD_ROOT

%files

%defattr(-,root,root,-)

%doc

/demo/

%changelog 
```

* * *

**输出错误**：

```
Executing(%prep): /bin/sh -e /var/tmp/rpm-tmp.IEtaZH

+ umask 022

+ cd /root/rpmbuild/BUILD

+ cd /root/rpmbuild/BUILD

+ rm -rf demo-1

+ /bin/tar -xf -

+ /usr/bin/gzip -dc /root/rpmbuild/SOURCES/demo-1.0.tar.gz

+ STATUS=0

+ '[' 0 -ne 0 ']'

+ cd demo-1

/var/tmp/rpm-tmp.IEtaZH: line 34: cd: demo-1: No such file or directory

**error: Bad exit status from /var/tmp/rpm-tmp.IEtaZH (%prep)** 
```

**RPM 构建错误**：

```
`Bad exit status from /var/tmp/rpm-tmp.IEtaZH (%prep)` 
```

请帮我解决这个问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-03T02:58:34.260

由于您的 tarball 的结构，您可能遇到了问题。本节是相关区域：

```
+ /usr/bin/gzip -dc /root/rpmbuild/SOURCES/demo-1.0.tar.gz

+ STATUS=0

+ '[' 0 -ne 0 ']'

+ cd demo-1 
```

因此，失败是当您尝试使用 setup 进入该目录时，它希望该目录 (demo-1) 存在于您的 tarball 中。您提供的规范文件不完整，即使在您解决此问题后仍会继续提供错​​误。在尝试再次构建之前，您应该查看[TLDP](http://www.tldp.org/HOWTO/RPM-HOWTO/build.html)和[Fedora文档。](http://fedoraproject.org/wiki/How_to_create_an_RPM_package)

[之前在 Stack Overflow](https://stackoverflow.com/questions/4261565/newbie-rpmbuild-error)上也有人问过类似的问题。

# ruby - OSX 解析的正则表达式

> ID：13639473
> 
> 赞同：0
> 
> 时间：2012-11-30T05:19:29.203
> 
> 标签：ruby, regex, macos, screen-resolution

我正在使用此命令来获取屏幕分辨率：

```
system_profiler SPDisplaysDataType | grep Resolution 
```

这将返回表单的屏幕分辨率：

```
Resolution: 1366 x 768 
```

我面临的问题是找到一种获取值的方法：`1366`并且`768`可能在 Ruby 中单独使用正则表达式。我需要获取这两个值的原因是我可以在这里使用它们：

```
image = Image.new(x, y) 
```

分别在哪里`x`和`y`将在哪里。我的问题是我自己如何才能获得这两个值？`1366``768`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:46:54.670

```
matches = str.match(/(\d+) x (\d+)/)
hor = matches[1]
ver = matches[2] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:50:48.130

你也可以这样做：

```
x, y = str.scan(/\d+/) 
```

# linux - 输出中的 bash 程序“watch”和 ANSI 转义序列

> ID：13639475
> 
> 赞同：10
> 
> 时间：2012-11-30T05:19:33.987
> 
> 标签：linux, bash, watch, ansi-escape

> **可能重复：**
> [unix 命令“watch”的颜色？](https://stackoverflow.com/questions/3793126/colors-with-unix-command-watch)

在我的一个程序中，我想使用彩色文本作为输出，所以我为此使用 ANSI 转义序列，例如：

```
echo -e '\033[34mHello World\033[0m' 
```

它以蓝色打印“Hello World”。（实际上它是一个使用“打印”的 Python 程序，但这对问题无关紧要）

现在我想使用 bash 程序“watch”重复执行程序。但是当我使用“watch”执行与上面相同的行时，即

```
watch echo -e '\033[34mHello World\033[0m' 
```

文本不是蓝色的，输出变为“-e 033[34mHello World033[0m”。所以 ANSI 转义序列不会以某种方式解码。

有没有办法让程序“watch”尊重转义序列，或者有没有替代“watch”来获得相同的效果？

如果它只适用于 Linux 就可以了，因为我只使用它。

**更新：**所以一种解决方案是安装一个更新版本的“watch”，它知道 --color 选项。但是有没有其他方法，也许是一个类似的程序来“观看”？（我不是那台机器的管理员。）

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-30T05:24:29.917

--color 选项对我有用。

```
watch --color -n 1 "echo -e '\033[36mHello World\033[0m'" 
```

或者，在没有颜色选项的情况下，国产手表怎么样：

```
while [ 1 ]; do clear; echo -e '\033[36mHello World\033[0m'; sleep 1; done 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-30T07:46:05.753

根据 ddoxey 的回答，我写了一个小脚本“cwatch”，暂时解决了我的问题：

```
#!/bin/bash
# do something similar to "watch", but enable ANSI escape sequences for colors
# obsolete if new version of "watch" is available which has the --color option
# 2012-11-30

while [ 1 ]
do
  output=$(eval $@)
  clear
  echo -e "$output"
  sleep 2
done 
```

我仍然可以添加一个“--delay”选项...

# php - 如何将字符串中以井号 (#) 开头的单词提取到数组中

> ID：13639478
> 
> 赞同：7
> 
> 时间：2012-11-30T05:19:53.463
> 
> 标签：php, regex, preg-match, hashtag

我有一个包含哈希标签的字符串，我正在尝试将标签拉出我认为我非常接近但得到了一个具有相同结果的多维数组

```
 $string = "this is #a string with #some sweet #hash tags";

     preg_match_all('/(?!\b)(#\w+\b)/',$string,$matches);

     print_r($matches); 
```

产生

```
 Array ( 
    [0] => Array ( 
        [0] => "#a" 
        [1] => "#some"
        [2] => "#hash" 
    ) 
    [1] => Array ( 
        [0] => "#a"
        [1] => "#some"
        [2] => "#hash"
    )
) 
```

我只想要一个数组，每个单词都以哈希标记开头。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-30T05:22:03.303

这可以通过正则 `/(?<!\w)#\w+/`表达式来完成，它会起作用

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-30T05:25:02.717

就是[`preg_match_all`](http://php.net/preg_match_all)这样。你总是得到一个多维数组。`[0]`是完整匹配和`[1]`第一个捕获组结果列表。

只需访问`$matches[1]`所需的字符串。（带有所描述的无关的转储`Array ( [0] => Array ( [0]`是不正确的。您得到一个子数组级别。）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-03-30T22:34:25.387

我认为这个功能会帮助你：

```
echo get_hashtags($string);

function get_hashtags($string, $str = 1) {
    preg_match_all('/#(\w+)/',$string,$matches);
    $i = 0;
    if ($str) {
        foreach ($matches[1] as $match) {
            $count = count($matches[1]);
            $keywords .= "$match";
            $i++;
            if ($count > $i) $keywords .= ", ";
        }
    } else {
        foreach ($matches[1] as $match) {
            $keyword[] = $match;
        }
        $keywords = $keyword;
    }
    return $keywords;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-03-17T02:57:38.557

尝试：

```
$string = "this is #a string with #some sweet #hash tags";
preg_match_all('/(?<!\w)#\S+/', $string, $matches);
print_r($matches[0]);
echo("<br><br>");

// Output: Array ( [0] => #a [1] => #some [2] => #hash ) 
```

# python - 如何在具有上下文的 Python 中停止执行语句？

> ID：13639482
> 
> 赞同：2
> 
> 时间：2012-11-30T05:20:56.807
> 
> 标签：python

我有一些这样的代码：

```
with SomeContext(args):
  <statement1>
  .
  .
  <statementN> 
```

我希望这段代码的行为如下：

```
if some_condition(args):
  f1()
else:
  <statement1>
  .
  .
  <statementN> 
```

else 块中的语句也需要访问 args。

但是我想隐藏这个抽象`f1`的`some_condition`用户，所以使用 if-else 块是不可行的。此外，我不想强​​制用户约束将所有语句包装在一个函数中。`with`是否可以在允许这样做的上下文中做一些 python 魔术？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-05T21:59:32.817

我能得到的最接近的是使用两个嵌套的上下文管理器，如下所示：

```
class SkippedException(Exception):
    pass

class SkipContext:
    def __enter__(self):
        pass
    def __exit__(self, type, value, tb):
        return type is SkippedException

class SomeContext:
    def __init__(self, arg):
        self.arg = arg
    def __enter__(self):
        if self.arg == 1:
            print "arg", self.arg
            raise SkippedException()
    def __exit__(self, type, value, tb):
        pass

with SkipContext(), SomeContext(1):
    print "body" 
```

`SkipContext`经理基本上抓住了`SkippedException`内部经理提出的`SomeContext`情况`arg == 1`。

请注意，多个上下文表达式的语法仅在 Python 2.7 或更高版本中受支持。在早期版本中，您必须编写：

```
with SkipContext():
    with SomeContext(1):
        print "body" 
```

上下文管理器，尽管文档中有声明，但当从 within 抛出异常时，它`contextlib.nested`与上述嵌套语句的语义并不完全匹配，因此在这种情况下它不起作用。`with``__enter__`

应该注意的是，[PEP 343](http://www.python.org/dev/peps/pep-0343/)提到不鼓励隐藏流控制的宏（如上下文管理器），并引用[Raymond Chen 对隐藏流控制的咆哮](http://blogs.msdn.com/b/oldnewthing/archive/2005/01/06/347666.aspx)。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-11-30T05:39:24.000

是的，您可以轻松地创建这样的上下文管理器，如下所示。

```
import contextlib

@contextlib.contextmanager
def SomeContext(args):
    if some_condition(args):
        f1()
    else:
        yield 
```

用户的包装代码在`yield`. 我认为上下文管理器有时不执行用户的代码不是问题，但我没有检查过。

# c# - 反向波兰表示法：从输入文本框中获取值以执行计算

> ID：13639483
> 
> 赞同：0
> 
> 时间：2012-11-30T05:21:03.600
> 
> 标签：c#

我是一名新手 C# 编码器，目前正在研究反向波兰符号计算器。我创建了一个方法来处理计算，但我的代码中有三行导致错误。每`=`执行一次操作，然后显示。我正在尝试从中获取字符串`TxtInputBox`并将其转换为整数，但以下行是我得到红色波浪线的地方`string[] inputarray = TxtBoxInputbox.Text.Split();`：其次，当从按钮单击调用函数 RPNCalc`Btn_Calc`并分配 textBoxes 时，我收到另一条红色波浪线：`RPNCalc(TxtInputBox, TxtOutputBox);`我不确定如何处理这两个使我的表单无法工作的错误。请帮助避免错误。

**代码**

```
namespace rpncalc
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void RPNCalc(TxtBoxInputbox, TxtBoxOutputbox)
        {
            Stack<int> stackone = new Stack<int>();
            stackone.Clear();
            string[] inputarray = TxtBoxInputbox.Text.Split();
            int end = inputarray.Length - 1;
            int numinput;
            int i = 0;

            do
            {
                if(inputarray[i] != "=" && inputarray[i] != "+" && inputarray[i] != "-" && inputarray[i] != "*" && inputarray[i] != "/")  
                {
                    try
                    {
                        numinput = Convert.ToInt32(inputarray[i]);
                        stackone.Push(numinput);
                    }
                    catch
                    {
                        MessageBox.Show("Please check the input");
                    }
                }

                    else if (inputarray[i]== "+")
                    {
                        try
                        {
                            int store1 = stackone.Pop();
                            int store2 = stackone.Pop();
                            stackone.Push(store2 + store1);
                        }
                        catch
                        {
                        }
                    }

                    else if (inputarray[i]== "-")
                    {
                        try
                        {
                            int store1 = stackone.Pop();
                            int store2 = stackone.Pop();
                            stackone.Push(store2 + store1);
                        }
                        catch
                        {
                        }
                    }

                    else if (inputarray[i]== "+")
                    {
                        try
                        {
                            int store1 = stackone.Pop();
                            int store2 = stackone.Pop();
                            stackone.Push(store2 + store1);
                        }
                        catch
                        {
                        }
                    }

                    else if (inputarray[i]== "*")
                    {
                        try
                        {
                            int store1 = stackone.Pop();
                            int store2 = stackone.Pop();
                            stackone.Push(store2 + store1);
                        }
                        catch
                        {
                        }
                    }

                    else if (inputarray[i]== "/")
                    {
                        try
                        {
                            int store1 = stackone.Pop();
                            int store2 = stackone.Pop();
                            stackone.Push(store2 + store1);
                        }
                        catch
                        {
                        }
                    }

            }
            while(i < end && inputarray[i]!= "=" && stackone.Count != 0);
            string txtout = TxtInputBox + " " + stackone.Pop().ToString() + Environment.NewLine;
            TxtOutputBox.AppendText(txtout);
            TxtInputBox.Clear();

        }

        private void Btn_Calc_Click(object sender, EventArgs e)
        {
            RPNCalc(TxtInputBox, TxtOutputBox);
        }

    }
} 
```

![在此处输入图像描述](../Images/511aec9a8b026d1efe615cb805ce602c.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:25:01.683

您的`RPNCalc`方法签名缺少参数的类型。你的意思：

```
private void RPNCalc(TextBox TxtBoxInputbox, TextBox TxtBoxOutputbox) 
```

* * *

旁注，作为`RPNCalc`表单的成员函数，它已经可以访问成员`this.TxtBoxInputbox`和`this.TxtBoxOutputbox`. 因此，您实际上根本不需要向它传递任何参数。

当我们讨论这个话题时，如果是我的代码，我可能会重写不带参数的整个方法，以返回一个 int （即`private int RPNCalc()`），它将接受 in 中的任何内容`this.TxtBoxInputbox`，进行计算并返回结果。然后调用方法可以对结果做它想做的事情（在这种情况下，将其添加到输出中）。但是，这确实超出了原始问题的范围。

# java - 用于创建 jar 的构建中的异常

> ID：13639487
> 
> 赞同：1
> 
> 时间：2012-11-30T05:21:25.180
> 
> 标签：java, exception, ant, build, jar

我创建了一个 build.xml 来编译我的源文件并创建一个 jar。当我运行构建时创建了 jar，但是 jar 运行时出现以下异常

```
 [java] Exception in thread "main" java.lang.NoClassDefFoundError: com/mysql
/jdbc/exceptions/MySQLIntegrityConstraintViolationException 
```

构建文件是：

```
<?xml version="1.0"?>
<project name="NmzAzzist" basedir="." default="main">
    <property name="src.dir" value="../Source/NMSAzzist/src" />
    <property name="build.dir" value="ReleaseBuild/classes" />
    <property name="jar.dir" value="ReleaseBuild/ReleaseJars" />

    <path id="master-classpath">
        <fileset dir="Libraries">
            <include name="*.jar" />
        </fileset>

    </path>

    <patternset id="meta.files">
        <include name="**/*.xml" />
        <include name="**/*.properties" />
        <include name="**/*.mib" />
    </patternset>

    <!-- Simply extends the compile.classpath with your own compiled classes. -->

    <target name="clean" description="Clean output directories">
        <delete dir="${build.dir}" />
    </target>

    <target name="build" description="Compile source tree java files">
        <echo>Compiling the source code</echo>
        <mkdir dir="${build.dir}" />
        <javac destdir="${build.dir}" source="1.5" target="1.5"
            includeantruntime="false">
            <src path="${src.dir}" />
            <classpath refid="master-classpath" />
        </javac>
    </target>

    <target name="copy.meta.files">
        <copy todir="${build.dir}">
            <fileset dir="${src.dir}">
                <patternset refid="meta.files" />
            </fileset>
        </copy>
    </target>

    <target name="jar" depends="build, copy.meta.files">
        <mkdir dir="${jar.dir}" />
        <echo>building jar!</echo>
        <jar destfile="${jar.dir}/${ant.project.name}.jar" basedir="${build.dir}">
            <manifest>
                <attribute name="Main-Class"
                    value="com.ushustech.nmsazzist.NMSAzzistApp" />
            </manifest>
        </jar>
    </target>

    <target name="run" depends="jar">
        <java jar="${jar.dir}/${ant.project.name}.jar" fork="true" />
    </target>
    <target name="main" depends="clean,run" />

</project> 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T16:09:12.110

上面提到的错误是java错误，而不是jar错误。在您的类路径中，您没有包含**mysql-connector-java-5.1.*.jar**，这导致脚本失败。

NoClassDefFoundException 在编译时存在类时遇到，但在执行时应用程序找不到。

更改 java 任务，并包括 classpath ref ......希望这会奏效

```
<java jar="${jar.dir}/${ant.project.name}.jar" fork="true" classpathref="master-classpath"/> 
```

# android - 如何使用朋友 facebook id 将图像和消息组合发布到朋友墙

> ID：13639489
> 
> 赞同：-3
> 
> 时间：2012-11-30T05:21:37.010
> 
> 标签：android

> **可能重复：**
> [如何使用他们的 Facebook id 在多个朋友墙上发帖](https://stackoverflow.com/questions/13646861/how-to-post-on-multiple-friends-wall-using-their-facebook-ids)

我想发布（图片+消息）或有时只使用朋友的 facebook id 给朋友墙发消息。

是否可以通过使用 facebook sdk 或 graph api 来做到这一点？

我得到的实际要求是，我有一些朋友的 facebook id，我想使用他们的 facebook id 在他们的墙上发帖。

我怎样才能满足这个要求？

有任何想法吗。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:27:18.390

“图片”变量到墙上，它从 URL 发布图片，但您可以将其更改为

```
 protected void postPicToWall(String userID, String msg, String caption, String picURL){
        try {
            if (isSession()) {
                String response = mFacebook.request((userID == null) ? "me" : userID);

                Bundle params = new Bundle();
                params.putString("message", msg);  
                params.putString("caption", caption);
                params.putString("picture", picURL);

                response = mFacebook.request(((userID == null) ? "me" : userID) + "/feed", params, "POST");       

                Log.d("Tests",response);
                if (response == null || response.equals("") || 
                        response.equals("false")) {
                    Log.v("Error", "Blank response");
                }
            } else {
                // for relogin 
                Log.d(TAG, "sessionNOTValid, relogin");
                mFacebook.authorize(this, PERMS, new LoginDialogListener());
            }
        }catch(Exception e){
            e.printStackTrace();
        }
    } 
```

# php - php邮件附件以编码格式显示在邮件正文中

> ID：13639497
> 
> 赞同：1
> 
> 时间：2012-11-30T05:22:09.153
> 
> 标签：php, attachment

我正在尝试通过 php 发送带有附件的邮件。电子邮件正文没问题，但附件以某种编码格式显示在电子邮件正文中。我已经分别更改了代码但没有成功。

这是电子邮件正文中显示的附件

```
JVBERi0xLjMKMyAwIG9iago8PC9UeXBlIC9QYWdlCi9QYXJlbnQgMSAwIFIKL1Jlc291cmNlcyAy
IDAgUgovQ29udGVudHMgNCAwIFI+PgplbmRvYmoKNCAwIG9iago8PC9GaWx0ZXIgL0ZsYXRlRGVj
b2RlIC9MZW5ndGggO 
```

附件代码

```
// attachment
$body .= "--".$separator.$eol;
$body .= "Content-Type: application/pdf name=\"".$filename."\"".$eol; 
$body .= "Content-Transfer-Encoding: base64".$eol;
$body .= "Content-Disposition: attachment".$eol.$eol;
$body .= $attachment.$eol;
$body .= "--".$separator."--\n"; 
```

请协助，提前谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T05:34:33.033

我建议使用[PHPMailer](http://sourceforge.net/projects/phpmailer/)而不是编写自己的代码来发送电子邮件附件。

# internet-explorer-8 - Zurb 基金会和 IE 8

> ID：13639499
> 
> 赞同：3
> 
> 时间：2012-11-30T05:22:16.443
> 
> 标签：internet-explorer-8, zurb-foundation

下面的 css 示例适用于除 IE8 之外的所有受支持的浏览器（不关注低于 IE 8 的任何浏览器）。我正在使用最新版本的 Foundation。

当它们应该浮动时，列会在 IE8 中堆叠。实际看到 float:left; 属性应用于样式，但它们不浮动。

如果我将 css 类名称行、第六列等直接添加到我的标记中，但我不希望这样做，那么可行的是。

我似乎无法确定 IE 8 中的问题...任何建议将不胜感激。

**作品：**

```
<div class="content-wrap row">
  <div class="primary six columns"></div>
  <div class="secondary six columns"></div>
</div> 
```

**不工作：**

```
.content-wrap {
  @include outerRow();
  .primary {
    @include column(6);
  }
  .secondary {
    @include column(6);
  }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T14:58:05.807

撰写本文时 Foundation 的最新版本是 Foundation 4。它的网格不支持 IE8，但您可以添加对它的支持。请参阅以下链接。

[基金会谷歌集团](https://groups.google.com/forum/?fromgroups=#!topic/foundation-framework-/ZFn7GBuEQTQ)

[要点](https://gist.github.com/hatefulcrawdad/5068210)：

```
/* The Grid ---------------------- */
.lt-ie9 .row { width: 940px; max-width: 100%; min-width: 768px; margin: 0 auto; }
.lt-ie9 .row .row { width: auto; max-width: none; min-width: 0; margin: 0 -15px; }
.lt-ie9 .row.large-collapse .column, 
.lt-ie9 .row.large-collapse .columns { padding: 0; }
.lt-ie9 .row .row { width: auto; max-width: none; min-width: 0; margin: 0 -15px; }
.lt-ie9 .row .row.large-collapse { margin: 0; }

.lt-ie9 .column, .lt-ie9 .columns { float: left; min-height: 1px; padding: 0 15px; position: relative; }
.lt-ie9 .column.large-centered, .columns.large-centered { float: none; margin: 0 auto; }

.lt-ie9 [class*="column"] + [class*="column"]:last-child { float: right; }
.lt-ie9 [class*="column"] + [class*="column"].end { float: left; }

.lt-ie9 .large-1, 
.lt-ie9 .row .large-1 { width: 8.33333%; }

.lt-ie9 .large-2, 
.lt-ie9 .row .large-2 { width: 16.66667%; }

.lt-ie9 .large-3, 
.lt-ie9 .row .large-3 { width: 25%; }

.lt-ie9 .large-4, 
.lt-ie9 .row .large-4 { width: 33.33333%; }

.lt-ie9 .large-5, 
.lt-ie9 .row .large-5 { width: 41.66667%; }

.lt-ie9 .large-6, 
.lt-ie9 .row .large-6 { width: 50%; }

.lt-ie9 .large-7, 
.lt-ie9 .row .large-7 { width: 58.33333%; }

.lt-ie9 .large-8, 
.lt-ie9 .row .large-8 { width: 66.66667%; }

.lt-ie9 .large-9, 
.lt-ie9 .row .large-9 { width: 75%; }

.lt-ie9 .large-10, 
.lt-ie9 .row .large-10 { width: 83.33333%; }

.lt-ie9 .large-11, 
.lt-ie9 .row .large-11 { width: 91.66667%; }

.lt-ie9 .large-12,
.lt-ie9 .row .large-12 { width: 100%; }

.lt-ie9 .row .large-offset-1 { margin-left: 8.33333%; }
.lt-ie9 .row .large-offset-2 { margin-left: 16.66667%; }
.lt-ie9 .row .large-offset-3 { margin-left: 25%; }
.lt-ie9 .row .large-offset-4 { margin-left: 33.33333%; }
.lt-ie9 .row .large-offset-5 { margin-left: 41.66667%; }
.lt-ie9 .row .large-offset-6 { margin-left: 50%; }
.lt-ie9 .row .large-offset-7 { margin-left: 58.33333%; }
.lt-ie9 .row .large-offset-8 { margin-left: 66.66667%; }
.lt-ie9 .row .large-offset-9 { margin-left: 75%; }
.lt-ie9 .row .large-offset-10 { margin-left: 83.33333%; }

.lt-ie9 .pull-2 { right: 16.66667%; }
.lt-ie9 .pull-3 { right: 25%; }
.lt-ie9 .pull-4 { right: 33.33333%; }
.lt-ie9 .pull-5 { right: 41.66667%; }
.lt-ie9 .pull-6 { right: 50%; }
.lt-ie9 .pull-7 { right: 58.33333%; }
.lt-ie9 .pull-8 { right: 66.66667%; }
.lt-ie9 .pull-9 { right: 75%; }
.lt-ie9 .pull-10 { right: 83.33333%; }

.lt-ie9 .push-2 { left: 16.66667%; }
.lt-ie9 .push-3 { left: 25%; }
.lt-ie9 .push-4 { left: 33.33333%; }
.lt-ie9 .push-5 { left: 41.66667%; }
.lt-ie9 .push-6 { left: 50%; }
.lt-ie9 .push-7 { left: 58.33333%; }
.lt-ie9 .push-8 { left: 66.66667%; }
.lt-ie9 .push-9 { left: 75%; }
.lt-ie9 .push-10 { left: 83.33333%; }

/* Nicolas Gallagher's micro clearfix */
.lt-ie9 .row { *zoom: 1; }
.lt-ie9 .row:before, .row:after { content: " "; display: table; }
.lt-ie9 .row:after { clear: both; } 
```

# mysql - 搜索条件mysql IF (name = name, LIMIT 1, LIMIT 5)

> ID：13639503
> 
> 赞同：4
> 
> 时间：2012-11-30T05:22:42.550
> 
> 标签：mysql

帮助创建搜索条件

```
SELECT *
FROM mlt_adr_city
WHERE name LIKE "Text%" 
AND region_id = 59
AND id <> 0 
IF (name = name, LIMIT 1, LIMIT 5) 
```

值字段名称可以重合。
如果值相同，则输出一行或五行。
对不起我英语不好

[复制自评论：]

如果请求不带条件，则重复记录的名称。例如，具有相同名称的 WHERE name LIKE "City1" 将返回五行，但它们的 id 将不同。

但如果没有匹配，则显示五条记录。

示例 搜索`LIKE "City1%"`显示记录三个 City1、City1、City1。

示例 2\. 搜索`LIKE "City2%"`显示记录三个 City2、City2、City2_en、City2_rect、City2_les。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T11:51:33.327

不，不可能像您在问题中那样有条件限制语句。

如果您使用的是存储过程，则可以将参数或局部变量作为您的限制值，如下所述：

[如何仅使用（My）SQL 使限制偏移动态化](https://stackoverflow.com/questions/5872667/how-to-make-limit-offset-dynamic-using-only-mysql)

如果您不想使用存储过程，这里有一些 sql，如果名称完全匹配，则返回一行，如果名称部分匹配，则返回 5 行：

```
SELECT * FROM mlt_adr_city
    WHERE
    name = 'Text'
    AND region_id = 59
    AND id <> 0
    LIMIT 1
UNION
SELECT * FROM mlt_adr_city
    WHERE
    name like 'Text%'
    AND region_id = 59
    AND id <> 0
    AND NOT EXISTS (SELECT 1 FROM mlt_adr_city WHERE name = 'Text' AND region_id = 59 AND id <> 0)
    LIMIT 5; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-04T07:36:16.017

例子

```
SELECT * FROM mlt_adr_city WHERE name LIKE "Text%"  AND region_id = 59 AND id <> 0 GROUP BY name LIMIT 5 
```

# objective-c - 如何停止核心蓝牙中的连接方法

> ID：13639504
> 
> 赞同：1
> 
> 时间：2012-11-30T05:22:52.950
> 
> 标签：objective-c, ios, core-bluetooth

当我打电话时，

```
[self.CM connectPeripheral:peripheral options:nil]; 
```

有时它没有得到任何答案。

如何停止它或检测它是否已停止？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T11:35:13.087

停止扫描：

```
[central stopScan] 
```

取消连接：

```
[central cancelPeripheralConnection:peripheral_object] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-04T11:57:04.050

```
/* Device is not connected, cancel pending connection */

[centralManager cancelPeripheralConnection:peripheralManager]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T11:26:54.150

您应该`centralManager:didFailToConnectPeripheral:error`在*CoreBluetooth.framework*中查找。

# sql-server - windows mobile 6 应用程序数据库与服务器数据库连接

> ID：13639505
> 
> 赞同：0
> 
> 时间：2012-11-30T05:22:54.207
> 
> 标签：sql-server, windows-mobile, c#-3.0, sql-server-ce, windows-7-x64

我正在开发 Windows 移动应用程序。我想将我的本地数据库与服务器数据库连接。我的设备有 LAN 连接。我如何连接这两个。请给我一些链接..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T18:07:39.823

如果要连接到 SQL Server（不是本地 SQLCE Server），首先需要导入数据和 sqlclient 命名空间（并添加对项目的引用）。

```
using System.Data;
using System.Data.SqlClient; 
```

那么你需要建立一个连接字符串：

```
// Connection string
private string strConn =
    "data source=OurServer;" +
    "initial catalog=Northwind;" +
    "user id=DeliveryDriver;" +
    "pwd=DD;" +
    "workstation id=OurDevice;" +
    "packet size=4096;" +
    "persist security info=False;"; 
```

然后你可以创建一个连接：

```
// A connection, a command, and a reader
SqlConnection connDB = new SqlConnection(strConn); 
```

并使用 SQL 查询构建 SQLCommand（即“SELECT * FROM Products;”）：

```
SqlCommand cmndDB =new SqlCommand(sqlQueryString, connDB); 
```

然后可以使用 datareader 读取结果：

```
SqlDataReader drdrDB; 
```

现在阅读结果：

```
try
{
    // Open the connection.
    connDB.Open();
    // Submit the SQL statement and receive
    // the SqlReader for the results set.
    drdrDB = cmndDB.ExecuteReader();
    // Read each row.
    while ( drdrDB.Read() )
    {
       //access fields of the result
    }
    drdrDB.Close();
}
...
//Close the connection
connDB.Close(); 
```

就这些。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T15:16:44.540

首先，确保您的设备可以浏览到服务器，如下面的屏幕截图所示：

![WM5 截图](../Images/65710f550eb394d84e584161f7befabf.png)

一旦您能够使用一些用户名和密码访问服务器，您就可以在 SQL 连接字符串中使用相同的用户名和密码。

这应该就是你所需要的。

# php - SQL 输出以表格形式显示在 PHP 中

> ID：13639506
> 
> 赞同：0
> 
> 时间：2012-11-30T05:23:04.033
> 
> 标签：php, sum, report

我有 4 个表，其中所有表都有 3 行 [记录] 和 3 列 [字段] 字段，如日期名称总计。该表如下所示：

第一个表

```
Date                  Name                      Total
2012-11-07             Manoj                       10
2012-11-08             Ganesh                       4
2012-11-09             Sri                         30 
```

第二张表

```
Date                   Name                      Total
2012-11-07               Raju                         5
2012-11-08               ggg                          3
2012-11-09               Shshi                       30 
```

第三表

```
Date                   Name                      Total
2012-11-07              Ram                         2
2012-11-08               gm                         5
2012-11-09             Shsse                       30 
```

我需要 PHP 中的以下类型的输出：

```
 Date          Total
 2012-11-07      17
 2012-11-08      12
 2012-11-09      90 
```

它应该在 PHP 中显示日期之间的所有总数

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:34:33.063

您可以创建一个 SQL 语句，该语句将合并所有表以创建一个包含您要查找的结果的表：

```
SELECT DATE, SUM(TOTAL) AS TOTAL
FROM
(
SELECT DATE, TOTAL FROM Table1
UNION ALL
SELECT DATE, TOTAL FROM Table2
UNION ALL
SELECT DATE, TOTAL FROM Table3
) AS AllTables
WHERE Date BETWEEN '1 JAN 2012' AND '13 JAN 2012'
GROUP BY Date 
```

这个结果可以像任何其他表格一样显示在 php 中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:33:47.170

您可以按日期在 3 个表之间进行内部连接，并对总数进行求和（在新字段上）。

例如

```
SELECT t1.date, (t1.total + t2.total + t3.total) AS final_total
FROM t1
INNER JOIN t2 ON t1.date=t2.date
INNER JOIN t3 ON t1.date=t3.date
GROUP BY t1.date 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:43:02.780

假设这些表是 dateslist、datelist2 和 datelist3，然后使用以下代码：

```
SELECT 
dateslist.`Date`,SUM(dateslist.`Total`+datelist2.`Total`+datelist3.`Total`) 
FROM 
`dateslist` 
JOIN 
datelist2 on dateslist.Date=datelist2.Date 
JOIN 
datelist3 ON datelist2.Date=datelist3.Date GROUP BY dateslist.Date 
```

# javascript - 移动应用程序与 Facebook 的集成

> ID：13639507
> 
> 赞同：0
> 
> 时间：2012-11-30T05:23:07.693
> 
> 标签：javascript, android, facebook, cordova

我使用电话间隙创建了一个手机游戏。在那个游戏中，用户可以选择邀请 Facebook 朋友——我已经成功调试了我的 FB API 和 JavaScript——并让它在我的 Apache Web 服务器上运行。

但是，当我将代码集成到我的手机间隙游戏中时，执行会导致以下错误：

> 错误：I/Web 控制台（684）：应用程序配置不允许给定 URL。：应用程序的设置不允许一个或多个给定 URL。它必须与网站 URL 或画布 URL 匹配，或者域必须是应用程序域之一的子域。在[https://www.facebook.com/dialog/oauth?client_id=Myapp_id&response_type=token%2Csigned_request%2Ccode&display=none&domain=&origin=2&redirect_uri=http%3A%2F2Fstatic.ak.facebook.com%2Fconnect%2Fxd_arbiter.php%3Fversion %3D17%23cb%3Df1f21b8b6%26origin%3Dfile%253A%252F%252F%252Ff51b7ec1c%26domain%3D%26relation%3Dparent&sdk=joey:1](https://www.facebook.com/dialog/oauth?client_id=Myapp_id&response_type=token%2Csigned_request%2Ccode&display=none&domain=&origin=2&redirect_uri=http%3A%2F2Fstatic.ak.facebook.com%2Fconnect%2Fxd_arbiter.php%3Fversion%3D17%23cb%3Df1f21b8b6%26origin%3Dfile%253A%252F%252F%252Ff51b7ec1c%26domain%3D%26relation%3Dparent&sdk=joey:1)

我在想：

1.  如果这与 Facebook 应用程序设置和我为移动应用程序设置的 URL 有关，或者
2.  我必须为移动相关应用输入的重定向 URL。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:58:07.967

确保您正确设置了域白名单，[请查看](http://docs.phonegap.com/en/2.2.0/guide_whitelist_index.md.html#Domain%20Whitelist%20Guide)。
要从用户那里获取 oauth 2 令牌，请使用 facebook auth 页面打开 ChildBrowser 并解析 url。
更新评论。facebook 应用程序设置似乎有问题。请检查您的重定向网址，我设置了[https://www.facebook.com/connect/login_success.html](https://www.facebook.com/connect/login_success.html)，然后我在 webview 中检查了此网址。

# javascript - 加载页面并完全显示

> ID：13639508
> 
> 赞同：0
> 
> 时间：2012-11-30T05:23:11.593
> 
> 标签：javascript, jquery, html, css

大家，早安。我需要一个网页来完全加载然后显示。我不想分批加载它们。页面应完整呈现并显示给用户。我尝试了一些代码。但是它会将加载延迟指定时间，然后从头开始加载页面。这比平时需要更多的时间。请帮我解决这个问题。先感谢您..：-）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:28:47.250

你也可以使用这个：

```
CSS
body { visibility: hidden; }

JS
$(window).load(function () {
  $('body').css('visibility', 'visible');
}); 
```

当然你可以更花哨并使用 CSS3 过渡或不透明动画，这取决于你想要多花哨

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:26:28.950

尝试这个：

在你的身体标签上：

```
<body style="opacity:0;">

<script>
    window.onload = function(){
       document.body.style.opacity = 1; 
    }
</script> 
```

你也可以，style.display（块或无）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:24:43.803

可能有很多方法

1.  使用`window.location.href`

    window.location.href = 'http://www.google.com';

2.  使用 window.open

    window.open('http://www.google.com');

3.  使用**[jQuery Load](http://api.jquery.com/load/)**通过 ajax 加载。

    在 html 中

    ```
    <div id="divID" > </div> 
    ```

    在 JavaScript 中

    ```
    $(document).ready(function(){
       $('#divID').load('YourFolder/test.html');
    }); 
    ```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T05:28:33.367

您可以使用一些 css 隐藏所有内容：

```
//some_div
{
  display: none;
} 
```

然后在 javascript 中为 document.onload 分配一个函数以删除该 div。

我认为这是一个非常糟糕的主意。用户喜欢看到简单明了的进步。将页面保持在一种状态几秒钟，然后立即显示加载的页面会让用户觉得什么都没有发生，您可能会失去访问。

一种选择是在后台处理内容时在页面上显示加载状态，但这通常是为站点实际处理用户输入时保留的。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-30T05:33:59.650

你可以做这样的事情，

**HTML：**

```
<html>
  <body>

    <div id="loader">Loading...</div>
    <div id="wrapper" style="display:none">
      HTML content
    </div>

  </body>
</html> 
```

**JS：（**使用 jQuery）

```
$(window).load(function () {
    alert('Content Loaded');        
    $('#loader').hide();
    $('#wrapper').show();
})​ 
```

演示：http: [//jsfiddle.net/gWuCa/1/](http://jsfiddle.net/gWuCa/1/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-30T05:34:48.747

这里有很多东西，

1、Document已经准备好，Dom已经准备好被管理了。2，图像已下载..所以完整的文档准备好了

第一件事你将能够使用 jquery 就绪功能做第二件事有 jquery 插件.. 所以 uisng 该图像已加载插件你将能够做到这一点

在这些加载发生时停止任何用户操作可以通过多种方式完成 1，您可以隐藏正文，直到所有内容都加载（文档 + 图像） 2，您可以使用等待指示器放置一个覆盖灰色，这样用户就无法做任何动作

谢谢

# file-upload - 服务器下载和上传的幕后

> ID：13639510
> 
> 赞同：1
> 
> 时间：2012-11-30T05:23:25.773
> 
> 标签：file-upload, upload, download, webserver, cloud

我一直想知道服务器上传和下载是如何工作的......例如，当我以一定速度下载位于服务器上的文件时，服务器是否需要具有高上传速度才能在提供文件时与我的下载速度相匹配？

将不胜感激任何可以提供一些见解的人。谢谢你！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:27:27.810

是的......服务器上传速度很重要..这就是原因，服务提供商的商业计划中上传速度超过下载速度。否则正常情况下上传速度是下载速度的1/3左右

谢谢

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:41:40.120

通常在商业环境中，上传和下载速度是相同的（取决于您选择的计划）。需要注意的是，如果服务器的上传速度为 40 Mbps，那么为了优化服务器的性能，可以使用带宽限制来控制用户对带宽的使用。这有助于优化带宽共享。

# android - 为什么我无法在 android 应用程序中获得正确的文件权限？

> ID：13639511
> 
> 赞同：1
> 
> 时间：2012-11-30T05:23:40.477
> 
> 标签：android, embedded-linux, android-sdcard, mount

我正在将新的 Android4.2 移植到我们自己的硬件上。我们使用vold将mmc的一个分区挂载到/mnt/sdcard并关闭多用户功能。在终端中，我们可以找到具有 0777 权限的 sdcard。但是当我们使用诸如“es文件管理器”之类的android应用程序浏览/mnt/sdcard时，它会提示“未安装sdcard”

然后，我尝试测试它，并编写一个小程序。当我尝试访问该文件时，它返回权限 0000 ，这是在我们挂载分区之前由 init.rc 定义的。

在 vol.fstab 中

```
dev_mount sdcard /mnt/sdcard 1 /devices/platform/ns115-sdmmc.0/mmc_host/mmc1 
```

在 init.xxx.rc

```
 export EXTERNAL_STORAGE /mnt/sdcard                                                             
   mkdir /mnt/sdcard 0000 system system
   symlink /mnt/sdcard /sdcard 
```

在 vold 中，我们使用 fstype vfat 将 mmc 磁盘安装在 /mnt/sdcard 并授予权限 0777 和 uid=system gid=sdcard_rw

看看坐骑：

```
rootfs / rootfs rw 0 0
/dev/root / ext3 rw,relatime,errors=continue,barrier=0,data=writeback 0 0
tmpfs /dev tmpfs rw,nosuid,relatime,mode=755 0 0
devpts /dev/pts devpts rw,relatime,mode=600 0 0
proc /proc proc rw,relatime 0 0
sysfs /sys sysfs rw,relatime 0 0
tmpfs /mnt/secure tmpfs rw,relatime,mode=700 0 0
tmpfs /mnt/asec tmpfs rw,relatime,mode=755,gid=1000 0 0
tmpfs /mnt/obb tmpfs rw,relatime,mode=755,gid=1000 0 0
/dev/block/vold/179:1 /mnt/sdcard vfat   rw,dirsync,nosuid,nodev,noexec,relatime,uid=1000,gid=1015,fmask=0000,dmask=0000,allow_ut0
/dev/block/vold/179:1 /mnt/secure/asec vfat    rw,dirsync,nosuid,nodev,noexec,relatime,uid=1000,gid=1015,fmask=0000,dmask=0000,al0
tmpfs /mnt/sdcard/.android_secure tmpfs ro,relatime,size=0k,mode=000 0 0 
```

我尝试这些测试：

1.  使用应用程序访问 /mnt/sdcard 失败，权限被拒绝 0000
2.  使用本机服务与 0777 做同样的测试成功
3.  在终端中使用 0777 检查 /mnt/sdcard 是否成功

所以我想知道它是否与应用程序的标志有关？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T09:51:10.800

也许您需要一个正确的 init.rc 文件，该文件必须在 android4.2 中，如果您的 init.rc 在 android4.1 中，您可以添加以下内容： /mnt/安全私人记录

# 创建私有挂载点，以便我们可以从 staging mount tmpfs tmpfs /mnt/secure mode=0700,uid=0,gid=0 中进行 MS_MOVE

# php - PHP - mysql_fetch_array 如何给我选择的回报？

> ID：13639513
> 
> 赞同：0
> 
> 时间：2012-11-30T05:23:40.697
> 
> 标签：php, html, mysql

所以基本上，我试图用我的用户的帖子制作某种时间线，这给了我所有用户的帖子按时间排序。但相反，给了我以下内容：

```
*User1  'post1',
 User1  'post2',
 User1  'post3'..

*User2  'post1',
 User2  'post2',
 User2  'post3'.. 
```

* * *

我想要所有的帖子，而不是 user1 的所有帖子，然后是 user2 的所有帖子，等等。我希望这是有道理的，谢谢你们。

**查询**

```
 <?php
$varq1 = mysql_query('SELECT id2 FROM followers WHERE id ="'.$_SESSION['id'].'"');
    while($req5 = mysql_fetch_array($varq1)){

$req9=$req5['id2'];
$nsql = mysql_query('SELECT content, id, profile_id FROM contenido WHERE profile_id in("'.$req9.'") order by content_time desc');**strong text**
while($nrow = mysql_fetch_array($nsql)){    
?> 
```

**HTML/php 调用**

```
<div class="divider">
<center><?php echo  "".$nrow['content'].""; ?><center/>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:29:11.293

您可以在一个查询中完成这两个查询......让您能够按时间排序

```
select content,id, profile_id from contenido where profile_id in (SELECT id2 FROM followers WHERE id ="'.$_SESSION['id'].'") order by content_time desc 
```

获取它，您将获得您想要的内容：) 来自不同用户的所有帖子按时间排序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:30:43.133

```
'SELECT id2, content, c.id, profile_id
FROM followers f JOIN contenido c ON profile_id = id2
WHERE f.id = "'.$_SESSION['id']"'
ORDER BY content_time DESC, id2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:34:31.303

请使用此代码然后检查

```
<?php
$varq1 = mysql_query('SELECT id2 FROM followers WHERE id ="'.$_SESSION['id'].'"');
while($req5 = mysql_fetch_array($varq1)){

$req9=$req5['id2'];
$nsql = mysql_query('SELECT content, id, profile_id FROM contenido WHERE profile_id='".$req9."' order by content_time desc');/*strong text*/
while($nrow = mysql_fetch_array($nsql)){    
?>
<div class="divider">
   <center><?php  '". echo $nrow['content']."'; ?><center/>
</div> 
```

# java - 可以在没有 sun 包或外部库的情况下使用 java.security 生成 CSR？

> ID：13639514
> 
> 赞同：1
> 
> 时间：2012-11-30T05:23:43.930
> 
> 标签：java, certificate, csr

是否可以在不使用 sun.* 或 com.sun.* 包且不使用外部库的情况下使用 Java 代码生成证书签名请求？如果我需要使用像 BouncyCastle 这样的库，我会研究它，但到目前为止，我的所有搜索都只显示了使用 sun 包或 BouncyCastle 的示例，如果可能的话，我更愿意坚持使用原始 API。

而且，如果我正在尝试的事情是不可能的，那么最好的方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T03:15:52.110

我不认为这是可能的。接受这一点，直到有人有更好的答案或它成为可能。

FWIW，我最终使用外壳调用`keytool`来执行此操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-04T02:24:59.773

很抱歉回复得太晚了，但我想我还是会尝试的。Bouncy Castle 或 Java 库让您的工作轻松完成这项任务。但是，如果您不能将这些库用于您的项目，那么我对您的回答仍然是“是”，但您必须非常熟悉 ASN1 编码。我认为你没有理由不能从现有的 CSR 中学习。当我不得不做类似的事情时，这个站点 ( [http://lapo.it/asn1js/ ) 极大地帮助了我理解 ASN1。](http://lapo.it/asn1js/)一旦您了解了 CSR 的格式，在我之前提到的 ASN1 工具的帮助下，如何重新利用示例 CSR 以供您使用就变得很清楚了。在高层次上，你会

1.  读入示例文件
2.  通过 TLV（类型-长度-值）编码解析
3.  用您想要的数据替换字段
4.  数字签名
5.  嵌入签名
6.  将内容写回文件

java.security.Signature 对象应该能够帮助您完成签名部分。

# ruby - 如何从 Ruby 中的进程调用中分别获取 STDOUT 和 STDERR？

> ID：13639515
> 
> 赞同：2
> 
> 时间：2012-11-30T05:23:56.613
> 
> 标签：ruby

我想从我的 Ruby 脚本中运行一个程序，但我想分别捕获程序的 STDOUT 和 STDERR，而不将它们混合在一起，因此`2>&1`在命令 shell 上执行不会对我有用。

我真的不希望将这些指向临时文件并将临时文件读回我的脚本。有没有办法可以在我的 Ruby 脚本中直接获取这两者？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-30T05:39:36.420

您应该使用 Open3 类。它提供了执行 shell 命令的方法，这些命令可以将 stdin、stdout 和 stderr 作为单独的 IO 对象返回。

[http://ruby-doc.org/stdlib-1.9.3/libdoc/open3/rdoc/Open3.html#method-c-popen3](http://ruby-doc.org/stdlib-1.9.3/libdoc/open3/rdoc/Open3.html#method-c-popen3)

# oracle - 存储过程中的系统（当前）时间

> ID：13639516
> 
> 赞同：0
> 
> 时间：2012-11-30T05:23:58.670
> 
> 标签：oracle, stored-procedures, plsql, sysdate

如何将系统时间以分钟为单位存储在 PL/SQL 存储过程中的变量中？

我想以分钟为单位将系统日期存储在存储过程的变量中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:56:41.473

> 如何将系统时间以分钟为单位存储在变量中

您可以使用`localtimestamp`函数获取会话时区中的当前日期和时间，提取小时、分钟、秒并根据这些数据计算分钟值。

```
SQL> declare
  2    l_val number;
  3  begin
  4    l_val := (extract(hour from localtimestamp) * 60) +
  5              extract(minute from localtimestamp) +
  6             (extract(second from localtimestamp)/60);
  7   dbms_output.put_line(to_char(sysdate, 'hh24:mi:ss" = "') || concat(to_char(l_val, 'fm99990.00'),' minutes'));
  8  end;
  9  /

09:52:26 = 592.44 minutes

PL/SQL procedure successfully completed 
```

# java - java - 如何使用JDBC从Java中的两个Excel工作表中读取数据？

> ID：13639523
> 
> 赞同：1
> 
> 时间：2012-11-30T05:24:47.733
> 
> 标签：java, excel

我已经创建了连接并使用 jdbc 连接从 excel 表中读取数据。但是现在我有两个读取了另外两个 excel 表。

我应该通过 jdbc 为另一个工作表访问创建一个连接吗？请指教

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:35:41.473

假设您[为第一个 excel 工作表创建了一个 DSN 并使用 JDBC-ODBC bridge 读取它](http://www.javaprogrammingforums.com/jdbc-database-tutorials/356-how-connect-excel-spreadsheet-using-jdbc-java.html)，您需要为另一个 excel 工作表创建另一个 DSN 并创建与此 DSN 的连接（而不是与第一个文件的 DSN）并读取此连接中的其他 excel 表。

这类似于从一个完全不同的数据库中读取，需要使用第二个特定于 DB 的值来​​构造不同的 JDBC URL。

# javascript - 一个 div 的 Jquery 鼠标事件切换效果甚至在鼠标事件退出时也会弹跳

> ID：13639525
> 
> 赞同：1
> 
> 时间：2012-11-30T05:24:51.883
> 
> 标签：javascript, jquery, html, css

Jquery鼠标进入和离开事件以切换到html页面中的div

代码如下

html代码

```
<div class="platform_solutions map_link" id="microsoft_link">

      <h3>Heading One</h3>
     </div>
     <div class="testing map_link" id="opensource_link" >

       <h3>Heading Two</h3>
     </div>

     <div class="branding_services map_link" id="verification_link">

      <h3>Heading Three</h3>
     </div>
     <div class="corporate_profile map_link" id="branding_link">

       <h3>Heading Four</h3>
</div>

<div id="microsoft_link1" style="display:none; padding-bottom:20px; float:left;" class="map_data">
<h4>Heading one</h4>
<p>  Test data</p>
</div>
<div id="opensource_link1" style="display:none; padding-bottom:20px; float:left;" class="map_data">
<h4>Heading Two</h4>
<p> Test data two</p>
</div>
<div id="verification_link1" style="display:none; padding-bottom:20px; float:left;" class="map_data">
<h4>Heading Three</h4>
 <p> Test data xussfsf</p>
</div>
<div id="branding_link1" style="display:none; padding-bottom:20px; float:left;" class="map_data">
<h4>Test Heading</h4>
<p> Test data sfs </p>
</div> 
```

jQuery代码

```
$(document).ready(function(){

$(function() {

 $('.map_link').mouseenter(function(){
      event.preventDefault();

    var currentId = $(this).attr('id');
    $("#"+currentId+"1").slideToggle(); 
     $("#"+currentId+"1").css('display','block');
  }).mouseleave(function(){
       event.preventDefault();
   var currentId1 = $(this).attr('id');
    $("#"+currentId1+"1").slideToggle(); 

  });

});

});​ 
```

代码工作正常。但是如果我们将鼠标从一个标题快速移动到另一个标题。它正在创造弹跳效果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:41:35.737

请试试这个：**工作演示** [http://jsfiddle.net/XXTgW/](http://jsfiddle.net/XXTgW/) **或** [http://jsfiddle.net/XXTgW/1/](http://jsfiddle.net/XXTgW/1/)

3 件事要注意：

*   使用事件通过它传递`funciton(event)`
*   [http://api.jquery.com/stop/](http://api.jquery.com/stop/)
*   `hide`为 data_map添加了

希望它适合原因`:)`

**代码**

```
$(function() {

    $('.map_link').hover(function(event) {
        $('.map_data').hide();       
        var currentId = $(this).attr('id');
        $("#" + currentId + "1").stop(true, true).slideToggle();
    }, function(event) {
        $('.map_data').hide();
        var currentId1 = $(this).attr('id');
        $("#" + currentId1 + "1").stop(true, true).slideToggle();

    });

});​ 
```

# c# - 文本框验证 #2

> ID：13639526
> 
> 赞同：2
> 
> 时间：2012-11-30T05:24:55.020
> 
> 标签：c#, winforms, validation, passwords

我目前正在开发一个 Windows 表单应用程序。如何在 Visual Studio (C#) 中为我的密码文本框创建验证，该文本框只允许包含以下内容的文本：

*   至少一个大写字母
*   至少一个小写字母
*   至少一个符号
*   必须超过 8 个字符

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T05:31:45.627

由于它是一个 Windows 表单应用程序，因此您可以在代码中进行验证，如下所示：

```
string password = textBoxPassword.Text;
if (password.Length > 8 && // Must be above 8 characters
    password.Any(char.IsUpper) && //At least one uppercase
    password.Any(char.IsLower) && //At least one lowercase
    password.Any(char.IsSymbol) //At least one symbol
    )
{
    //Valid password
}
else
{
    //Invalid password
} 
```

您可以针对提交按钮（Button_Click 事件）或 TextBox TextChanging 使用此代码。您可以将其提取到如下方法：

```
private bool IsValidPassword(string password)
{
    return (password.Length > 8 &&
        password.Any(char.IsUpper) &&
        password.Any(char.IsLower) &&
        password.Any(char.IsSymbol)
        );
} 
```

例如，如果您想验证 Button_Click 上的文本，则：

```
private void button1_Click(object sender, EventArgs e)
{
    if(IsValidPassword(textboxPassword.Text))
    {
        //valid password
    }
    else
    {
        //invalid password

    }

} 
```

**编辑：**

如果您想要密码中的数字，则可以添加一张额外的支票，例如：

```
password.Any(char.IsDigit) 
```

检查`"!@#"`添加检查。

```
password.Any(char.IsPunctuation) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:41:37.460

**它是这样做的：**

*   必须为 8 个字符长：您不需要正则表达式。使用 .Length 属性就足够了。

*   包括1个大写字母：可以使用[AZ]+正则表达式。如果字符串至少包含一个大写字母，则此正则表达式将返回 true。

*   1 特殊字符：您可以使用 \W 来匹配任何不是字母或数字的字符，或者，您可以使用类似 [!@#] 的东西来指定特殊字符的自定义列表。请注意，尽管 $、^、( 和 ) 等字符是正则表达式语言中的特殊字符，因此需要像这样对它们进行转义：\$。简而言之，您可以使用 \W。

*   字母数字字符：使用 \w+ 应该匹配任何字母和数字以及下划线。

查看本教程以获取更多信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:35:28.963

如果它是网络，请尝试这个正则表达式-（请在问题中提及）

```
(                   # Start of group
    (?=.*\d)        #   must contain at least one digit
    (?=.*[A-Z])     #   must contain at least one uppercase character
    (?=.*\W)        #   must contain at least one special symbol
       .            #     match anything with previous condition checking
         {8,8}      #        length at least 8 characters and also maximum of 8
)                   # End of group 
```

在一行中：

```
((?=.*\d)(?=.*[A-Z])(?=.*\W).{8,8}) 
```

## 资料来源：

*   [密码匹配表达式](http://www.mkyong.com/regular-expressions/how-to-validate-password-with-regular-expression/)

*   [使用正则表达式验证密码强度](http://www.zorched.net/2009/05/08/password-strength-validation-with-regular-expressions/)

# c# - 如何在 Global.asax 之外更改应用程序变量？

> ID：13639527
> 
> 赞同：0
> 
> 时间：2012-11-30T05:24:55.767
> 
> 标签：c#, asp.net, web-applications

您好我正在尝试更改 Global.asax 之外的 Application 变量的变量，但之前的数据似乎再次出现。有什么办法可以更改变量的值或重置它。谢谢 ...

```
In Global.asax :

 void Application_Start(object sender, EventArgs e)
 {
    Application["abc"] = "";
 }

In  aspx.cs page :

protected void Page_Load(object sender, EventArgs e)
{
   if (!IsPostBack)
   {
      ViewState["countmsg"] = 0;
   }
}

protected void Button1_Click(object sender, EventArgs e)
{
   ViewState["countmsg"] = Convert.ToInt32(ViewState["countmsg"]) +1;
   Application["abc"] = Application["abc"] + "hello" + Environment.NewLine;
   string str = Application["abc"].ToString();
     if (Convert.ToInt32(ViewState["countmsg"]) >= 4)
     {
        Application["abc"] = "";    // here the reset is not working
        ViewState["countmsg"] = 0;
     }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:05:42.307

```
protected void Button1_Click(object sender, EventArgs e)
{
  ViewState["countmsg"] = Convert.ToInt32(ViewState["countmsg"]) +1;
  Application["abc"] = Application["abc"] + "hello" + Environment.NewLine;
  string str = Application["abc"].ToString();

   if (Convert.ToInt32(ViewState["countmsg"]) >= 4)
   {
    Application.Lock();
    Application["abc"] = "";    // now its working
    Application.UnLock();  
    ViewState["countmsg"] = 0;
  }
} 
```

# c++ - 返回布尔值的函数的命名约定是什么？

> ID：13639535
> 
> 赞同：8
> 
> 时间：2012-11-30T05:25:21.573
> 
> 标签：c++, coding-style, naming-conventions

我不是以英语为母语的人，所以我对返回布尔值的函数的命名约定感到困惑。

我知道以下函数名称是常规的：

```
bool is_valid();
bool is_sorted();
bool is_empty();
bool has_children();
bool can_draw(); 
```

但是，我想知道以“is, are, can, has, etc.”以外的动词开头的另一个函数名称是否也常规如下：

```
bool TryToCloseWindow();    // check to see if the user tries to close the window
bool IntendToCloseWindow(); // as above
bool FileExists();          // check to see if the file exists 
```

如果你是一个以英语为母语的程序员和程序员，你觉得这三个函数的名字是不是约定俗成的呢？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-30T07:34:25.280

对标题问题的简短回答：不同。有很多不同的约定，甚至可能比程序员的约定还要多。一些约定希望在每个 bool 返回函数名称的开头都有一个“is”，而另一些则没有。并且不要为下划线、CamelCase、lowerCamelCase 等问题而烦恼/争论。只要你坚持你选择的那个，它们都是同样可读的。

我认为重要的*是*函数名称表达了它们在做什么。返回布尔值的函数通常出现在条件或循环的上下文中。所以我认为最好把你想要的名字放在这样的上下文中，看看它是否听起来正确。例如`if (fileExists()) { /* ... */ }`听起来不错。`tryToCloseWindow()`听起来像“嘿，编译器/程序，请关闭那个窗口”。您的评论给出了一个提示，这不是您想要的。也许使用'userIsClosingWindow（）'或类似的东西。“意图”不是我用于函数名称的动词。意图某事。意思是你想做某事，你心里有它，你在想它，但没有真正的行动。所以如果*你*打算关闭一个窗口，就这样做，或者离开它。无需告诉编译器“嘿，我打算关闭那个窗口，几行后我可能真的会这样做......”。而且您无法确定用户是否打算关闭窗口。除非他将他的 Microsoft Mindreader 设备插入 USB 端口并且您可以访问 API，否则请给我一个链接，谢谢 ;)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:27:18.303

一般来说，这应该是如下命名约定，以小写开头。

```
bool tryToCloseWindow();    // check to see if the user try to close the window
bool intendToCloseWindow(); // as above
bool fileExists();          // check to see if the file exists 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T05:39:02.050

如果您使用的名称`isValid()`更有意义。

它将返回值`true`左右`false`，`if(isValid()) ...`任何人都可以轻松理解这个概念。

通常并非所有组织都遵循相同的命名约定。这取决于公司到公司，开发商到开发商。

# python - 在 django 视图中下载文件时被禁止

> ID：13639536
> 
> 赞同：0
> 
> 时间：2012-11-30T05:25:35.693
> 
> 标签：python, django

我有这个代码

```
class DownloadView(TemplateView):
    template_name = 'pdfform/create_form2.html'

    def serve_pdf(self, request):
        #pdf_data = magically_create_pdf()

        response = HttpResponse(mimetype='application/pdf')
        response['Content-Disposition'] = 'attachment; filename="http://localhost/static/pdfs/angular.pdf"'
        return response 
```

当我转到该页面时，我得到了下载对话框，但我无法下载文件。它说

```
http 403 forbidden 
```

现在我可以直接访问该文件，但将`http://localhost/static/pdfs/angular.pdf`其放在浏览器中

我很害怕 `static/pdfs/angular.pdf`，但同样的错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:31:43.893

Filename in 应该只是一个普通的文件名，而不是`http://...`.

所以改变

```
response['Content-Disposition'] = 'attachment; filename="http://localhost/static/pdfs/angular.pdf"' 
```

到

```
response['Content-Disposition'] = 'attachment; filename="angular.pdf"' 
```

此外，您需要通过响应提供文件内容，以便提供文件内容。

例如

```
...
def serve_pdf(self, request):
  from django.core.servers.basehttp import FileWrapper
  # your code

  wrapper      = FileWrapper(open(your_pdf_file_path))
  response     = HttpResponse(wrapper,'application/pdf')
  response['Content-Length']      = os.path.getsize(your_pdf_file_path)    
  response['Content-Disposition'] = 'attachment; filename="angular.pdf"'
  return response 
```

# css - DIV 框未对齐

> ID：13639537
> 
> 赞同：2
> 
> 时间：2012-11-30T05:25:37.500
> 
> 标签：css, html, alignment

我在尝试使 col3 和 col4 对齐时遇到问题。我得到了下面的 - 我试图让红色框内彼此对齐。

![在此处输入图像描述](../Images/8b796ffe6accefdab3a4a09c233581e6.png)

**HTML：**

```
<div class="listingAttributes">
<div class="col0">
<span class="name">Bedrooms:</span>
<span class="value">2</span>

<span class="name">Bathrooms:</span>
<span class="value">4</span><br/>

<span class="name">Price:</span></br>
<span class="value">Asking price $1,250,000</span></p>                                                          
</div>
<div class="col1">
<span class="name">Floor area:</span>
<span class="value">200m²</span>
<span class="name">Land area:</span>
<span class="value">1452m²</span>
<span class="name">Rateable value</span>
<span class="value">$980,000</span>                                                                     
</div>
<div class="col2">
<span class="name">Open home times:</span>
<span class="value">
<p>Sat 1 Dec 2 pm - 2:45pm</p>
<p>Sun 2 Dec 2 pm - 2:45pm</p>

</span>
</div>

<div class="col3">
<span class="name">In the area</span><br/>
<span class="value">Schools, Cafe's, Orewa Beach, Surfclub, Orewa Village, Silverdale Mall Wenderholm Park. Boat Ramp</span>
</div>
<div style="clear:both"></div>
<div class="col4">
<span class="name">In the area</span><br/>
<span class="value">Schools, Cafe's, Orewa Beach, Surfclub, Orewa Village, Silverdale Mall Wenderholm Park. Boat Ramp</span>
</div>
</div> 
```

**CSS：**

```
.listingAttributes{
    width:100%;
    height:100%;
    margin: 15px 10px -5px 10px;
    border-bottom: 1px solid #FFB400;
    background-color: red;
}
.listingAttributes .col0, .col1{
    width:160px;
    height: 100%;
    margin:0 15px 0 0;
    float:left;
    display: inline-block;
}
.listingAttributes .col2{
    width:180px;
    height: 100%;
    margin:0 15px 0 0;
    float:left;
    display: inline-block;
}

.listingAttributes .col3{
    width:350px;
    float:left;
    background: green;
    display: inline-block;
}
.listingAttributes .col4{
    width:350px;
    float:right;
    background: green;
    display: inline-block;   
}
.listingAttributes .sectionListingAttributes, .name{
    font-weight: bold;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:29:17.127

**清除您的父类** `.listingAttributes`

```
.listingAttributes{
overflow:hidden;
} 
```

## --------

我认为您应该**删除** `display:inline-block`，因为您正在使用`floating`并向**您的父母清除**

**[现场演示](http://jsfiddle.net/rohitazad/UEMxg/1/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:28:07.640

这是因为绿色 div 中内容的宽度大于绿色 div

并尝试

```
<div class="col0">...</div>
<div class="col1">...</div>
<div class="col2">...</div>
<div class="col3">...</div> //    width: 230px; in  style
<div class="col4">...</div>//  width: 230px; in  style
<div style="clear:both"></div> <---clear both here 
```

# node.js - 使用 node-oauth 和 passport 对 Twitter API 进行授权调用

> ID：13639539
> 
> 赞同：1
> 
> 时间：2012-11-30T05:25:49.090
> 
> 标签：node.js, twitter, oauth, passport.js

我用护照推特设置了 OAuth，登录和身份验证工作正常。尝试执行授权请求（例如更新状态）时会出现问题。

```
 passport.use(new TwitterStrategy({                                                                                                      
         consumerKey: config.twitter.clientID                                                                                              
       , consumerSecret: config.twitter.clientSecret                                                                                       
       , callbackURL: config.twitter.callback_url || 'http://' + config.domain + '/auth/twitter/callback'                                  
     },                                                                                                                                    
     function(token, tokenSecret, profile, done) {                                                                                                                    
         Player.findOne({ 'twitter.id': profile.id }, function (err, player) {                                                               

         if (err) { return done(err) }                                                                                                     
         if (!player) {                                                                                                                    
           var player = new Player({                                                                                                       
                          name: profile.displayName                                                                                                                                                                              
                        , twitter: profile._json                                                      
                        , twitter_token: token                                                                                             
                        , twitter_tokenSecret: tokenSecret                                                                                                                                                                                
                        })                                                                                                                 
           player.save(function (err, player) {                                                                                            
               if (err) log.error(err);                                                                                                    
               return done(err, player);
           })                                                                                                                              
         }                                                                                                                                 
         else {                                                                                                                            

            return done(err, player)                                                                                                                     
         }                                                                                                                                 
       })                                                                                                                                  
     }                                                                                                                                     
   )) 
```

所以这通过猫鼬保存了播放器并且可以工作。我保存了护照给定的令牌和令牌秘密，并假设它们是`oAuth().getOAuthRequestToken()`作为来自 Twitter 的原始回调的一部分生成的，因此对于给定登录会话的其余部分应该是有效的。（也许是一个糟糕的假设？）

稍后，当我们想为用户发布推文时，已经获取了 Player 记录及其关联的令牌+秘密：

```
 function twitter_oauth() {                                                                                                                
     return new OAuth (                                                                                                                    
         "https://api.twitter.com/oauth/request_token",                                                                                    
         "https://api.twitter.com/oauth/access_token",                                                                                     
         keys.consumerKey,                                                                                                                 
         keys.consumerSecret,                                                                                                              
         "1.0",                                                                                                                            
         null,                                                                                                                             
         "HMAC-SHA1"                                                                                                                       
     )                                                                                                                                     
 } 

 ....

   twitter_oauth().post(api_endpoint, token, secret, body, "application/json",                                                       
                        function (error, data, res) {                                                                                      
                            if (error) {                                                                                                   
                                console.error(error)                                                                                       
                            } else {                                                                                                       
                                console.log('tweet sent')                                                                                  
                            }                                                                                                              
                        }                                                                                                                  
   ) 
```

对此的响应只是状态 401 和“无法使用 OAuth 进行身份验证”。

那么，我错过了一些重要的事情吗？我还没有深入研究护照来源以找出实际上是什么`token`和`tokenSecret`论据，但在这里问希望有人能指出上述的主要缺陷。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T01:33:41.003

你可以写这个。

```
var tw = TwitterStrategy({                                                                          
             consumerKey: config.twitter.clientID                          
           , consumerSecret: config.twitter.clientSecret                       
           , callbackURL: config.twitter.callback_url || 'http://' + config.domain + '/auth/twitter/callback'
    },                                                                                         
         function(token, tokenSecret, profile, done) { 
             Player.findOne({ 'twitter.id': profile.id }, function (err, player) { 
             if (err) { return done(err) } 
             if (!player) {            
               var player = new Player({                     
                              name: profile.displayName
                            , twitter: profile._json 
                            , twitter_token: token        
                            , twitter_tokenSecret: tokenSecret                  
                            })                         
               player.save(function (err, player) {   
                   if (err) log.error(err);                         
                   return done(err, player);
               })                                      
             }                                        
             else {             
                return done(err, player)                                  
             }                                        
           })                                          
         });
passport.use(tw); 
```

而且您不需要新的 Oauth 实例。你可以像这样使用它。

```
tw._oauth.post(api_endpoint, token, secret, body, "application/json",  
                        function (error, data, res) { 
                            if (error) {          
                                console.error(error)                 
                            } else {              
                                console.log('tweet sent') 
                            }                     
                        }                         
); 
```

再见！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T10:08:16.627

尝试查看您在 dev.twitter.com 上的应用程序设置是否设置为读写。

还要检查标头中的时间戳，如果距 twitter 的服务器时钟 5 分钟，则请求将失败。

您也可以尝试另一个库，我使用过[node-oauth](https://github.com/ciaranj/node-oauth)，或者您可以尝试基于 node-oauth 的[ntwitter 。](https://github.com/AvianFlu/ntwitter)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T19:30:06.760

感谢@Brmm 的好建议，但在这种情况下，我们在密钥中使用不同的 twitter 帐户进行身份验证和 api 调用，因为，#bonehead

# fckeditor - FCKEditor 在 IE10 中不起作用

> ID：13639541
> 
> 赞同：7
> 
> 时间：2012-11-30T05:25:54.223
> 
> 标签：fckeditor, internet-explorer-10

FCKEditor 没有出现在 IE10 中。当我去IE开发工具和浏览器模式切换到IE9时，FCKEditor工作正常。但是当我为模拟 IE9 放置元标记时：

```
<meta http-equiv="X-UA-Compatible" content="IE=9" > 
```

进入我的网页的标题，它对我没有帮助。如何让 FCKEditor 工作？或者还有其他方法可以在 IE10 中模拟 IE9？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-27T10:01:42.047

**//IE10**

在**fckeditor.js** > 方法：FCKeditor_IsCompatibleBrowser

**找到这个：**

```
var sBrowserVersion = navigator.appVersion.match(/MSIE (.\..)/)[1] ; 
```

并**替换为：**

```
var sBrowserVersion = navigator.appVersion.match(/MSIE ([\d.]+)/)[1] ; 
```

在**fckeditorcode_ie.js**

**寻找**

```
e.scopeName!='HTML' 
```

并将**if 条件更改为：**

```
if(FCKBrowserInfo.IsIE&& e.scopeName && e.scopeName!='HTML') 
```

**寻找**

```
D.parentElement().document!=B 
```

并**更改为：**

```
if(D.parentElement().document && D.parentElement().document!=B) 
```

**寻找**

```
B.open("GET",A,false); 
```

并**添加：**

```
B.open("GET",A,false);
try {
    B.responseType = "msxml-document";
} catch(e) {};
B.send(null); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-27T09:55:40.480

试试这个

**Mozilla 17**

在 fckeditorcode_gecko.js

**找到这个>>**

```
if (A.IsGecko){var B=s.match(/gecko\/(\d+)/)[1];A.IsGecko10=((B<20051111)||(/rv:1\.7/.test(s)));A.IsGecko19=/rv:1\.9/.test(s);}else A.IsGecko10=false;} 
```

**并替换为>>**

```
if (A.IsGecko){var B=s.match(/gecko\/([0-9.]+)/)[1];if(B != "17.0"){A.IsGecko10=((B<20051111)||(/rv:1\.7/.test(s)));}A.IsGecko19=/rv:1\.9/.test(s);}else A.IsGecko19=true;} 
```

在 fckeditor.php 中

**找到这个>>**

```
return ($iVersion >= 20030210); 
```

**并替换为>>**

```
//return ($iVersion >= 20030210);

return true; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T06:55:30.290

IE10 不能很好地使用它的新怪癖模式。

您可以切换到他们开发的较旧的基本怪癖模式，您的问题将得到解决。添加以下元标记：

```
<meta http-equiv="X-UA-Compatible" content="IE=5"> 
```

还要确保您检测到浏览器及其版本为 IE10，然后应用此元标记。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-24T11:55:37.047

这对我有帮助：

`<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" />`

.

并在 ckeditor JS 代码中查找并替换正则表达式：

替换`/MSIE (\d+)/`为`/MSIE ([\d.]+)/`

* * *

最重要的是，不要忘记**关闭浏览器/选项卡**并再次打开该站点。否则这个元标记将不起作用！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-12-02T19:35:01.110

经过数小时的调试，我的解决方案非常简单。

我让 fckeditor.js 包含最后一个 javascript 包含。如果它被埋在一堆其他 js 包含之间，它将在 IE 10 中失败。当我将它放到最后一个 javascript 文件以包含它时，它会起作用。

# javascript - 错误状态：“内部服务器错误”。错误代码：删除记录时 jqgrid 中出现 500

> ID：13639550
> 
> 赞同：0
> 
> 时间：2012-11-30T05:26:56.640
> 
> 标签：javascript, asp.net, json, jqgrid-asp.net

我想删除 jqgrid 中的一条记录，但出现错误：

> 错误状态：“内部服务器错误”。错误代码：500

在执行删除时。我想从数据库中删除一条记录。请告诉我错误在哪里。我的代码是：

```
<form id="form1" runat="server">
<div style="display:table">           
  <div style="display:table-row">
  </div>
  <div style="display:table-row">            
      <div id="divSurvey"></div>  
      <table id="tableSurvey"></table> 
      <button type="button" ID="btnedit"  value="Submit" runat="server">Submit</button>  
          <script type="text/javascript">
            $(document).ready(function(){
               jQuery("#tableSurvey").jqGrid
               ({
                url         :'FetchGridDetails.aspx',
                datatype    :'json',                 // data which will be filled
                mtype       :"GET",
                postData    :{Fill: function(){return 'Survey'}},
                contentType :"application/json; charset=utf-8",
                jsonReader  :
                            {
                                root:"rows",
                                page:"page",
                                total:"total",
                                records:"records",
                                repeatitems:false
                            },
                colNames    : //Define column Names
                            [
                                'SurveyID',
                                'EnquiryID',
                                'AccountID',
                                'AccountType', 
                                'SurveyType',
                                'BranchID',
                            ],
                colModel:
                [
                    {
                        name    :'SurveyID',
                        index   :'SurveyID',
                        align   :'center',
                        width   :150,
                        key     :true,
                        editoptions:{ readonly:true }
                    },
                    {
                        name    :'AccountID',
                        index   :'AccountID',
                        align   :"center",
                        width   :150,
                        editable:true
                    },
                    {
                        name    :'SurveyType',
                        index   :'SurveyType',
                        align   :"center",
                        width   :150,
                        editable:true
                    },
                ],
                rowNum          :8,
                rowList         :[10,20,30],
                pager           :'#divSurvey', // id of div tag...(Pager)
                sortname        :'SurveyID',
                sortorder       :"desc",
                viewrecords     :true,
                emptyrecords    :"No RECORDS FOUND",
                loadonce        :true,
                editurl         :'EditGridDetails.aspx', //code for delete
                width           :'500px',
                multiselect     :true,
                shrinkToFit     :true,
                forceFit        :true,
                sortable        :true,
                autowidth       :false,
                height          :"100%",
                width           :"100%",
                ignoreCase      :true,
                gridview        :true,
                pageable        :true,
                serverPaging    :true, 
                modal           :true,
                scrollable      :false,                    
                caption         :"Survey Details"          
               }).jqGrid
                    (
                        'navGrid',
                        '#divSurvey',
                        {
                            edit    :false,
                            add     :false,
                            del     :true,
                            search  :false,
                            view    :false
                        }
                    );
           });
          </script> 
```

# maps - python Google Maps API 错误 G_GEO_UNKNOWN_ADDRESS

> ID：13639551
> 
> 赞同：0
> 
> 时间：2012-11-30T05:27:00.173
> 
> 标签：maps

```
from googlemaps import GoogleMaps,GoogleMapsError

gmaps = GoogleMaps()
address = "5555 Car Country Drive Carlsbad CA 92008"
result = gmaps.geocode(address) 
```

回溯（最后一次调用）：文件“/home/yogesh/workspace/Simple/maps_error.py”，第 10 行，结果 = gmaps.geocode(address) 文件“/usr/local/lib/python2.6/dist -packages/googlemaps.py"，第 262 行，在地理编码中引发 GoogleMapsError(status_code, url, response) googlemaps.GoogleMapsError：错误 602：G_GEO_UNKNOWN_ADDRESS

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:27:41.113

删除邮政编码。googlemaps 应该能够在没有它的情况下找到 latlng 值。

这就是我得到的：

```
gmaps.address_to_latlng('5555 Car Country Drive Carlsbad CA')
(33.1283128, -117.3218825) 
```

# architecture - 横向扩展服务

> ID：13639555
> 
> 赞同：1
> 
> 时间：2012-11-30T05:27:05.250
> 
> 标签：architecture, horizontal-scaling

我有一个系统，其服务用于跨多个数据库处理计划任务，计划任务是按数据库配置的。由于来自越来越多的数据库的工作负载，系统需要水平扩展，以便有多个服务副本，每个副本都安装在单独的服务器上。有一个通用数据库，其中包含需要处理的数据库列表。

我不想将数据库静态分配给服务实例，因为每个数据库的工作负载会有所不同。

我正在寻找的是一种方法来编组数据库的选择以在服务的各种实例之间进行处理。

请给点建议，谢谢

# windows-phone - 如何使用 .NET 代码从 Windows Phone Marketplace 获取我的应用程序的深层链接？

> ID：13639564
> 
> 赞同：4
> 
> 时间：2012-11-30T05:27:23.287
> 
> 标签：windows-phone

如何以编程方式从 Windows Phone Marketplace 获取我的应用程序的深层链接，以便我可以在我的代码中使用它？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-30T06:54:33.413

获取 AppDeeplink 非常有用，例如在 ShareStatusTask 和 ShareLinkTask 中。
这是可能的，但是您必须使用一些重要的代码从您的应用清单文件中获取真实的 AppID。这是我所做的：
首先将 Windows Phone 应用程序深层链接的字符串保存在资源中的某个位置，这很简单：

> “http://windowsphone.com/s?appId={0}”

然后您必须通过打开 App Manifest 文件并找到正确的标签来找到真正的 AppId，我在 MarketplaceHelper 中使用此代码来执行此操作：

```
static MarketplaceHelper()
{
    try
    {
        // load product details from WMAppManifest.xml
        XElement app = XElement.Load("WMAppManifest.xml").Descendants("App").Single();

        Title = GetValue(app, "Title");
        Version = new Version(GetValue(app, "Version"));
        Author = GetValue(app, "Author");
        Publisher = GetValue(app, "Publisher");
        Description = GetValue(app, "Description");

        // remove the surrounding braces
        string productID = GetValue(app, "ProductID");
        ProductID = Regex.Match(productID, "(?<={).*(?=})").Value;
    }
    catch (Exception e)
    {
        // should not happen, every application has this field and should containt the ProductID and Version
    }
}

private static string GetValue(XElement app, string attrName)
{
    XAttribute at = app.Attribute(attrName);
    return at != null ? at.Value : null;
} 
```

如果清单存在并且格式正确，并且应该存在，否则应用程序将无法运行，您可以通过这种方式获取所需的任何数据。

现在您可以像这样构建深层链接：

```
string deeplink = string.Format(AppResources.DeepLinkFormat, MarketplaceHelper.ProductID); 
```

# c# - 同一个RelativeLayout中的多个ListView

> ID：13639569
> 
> 赞同：2
> 
> 时间：2012-11-30T05:27:56.867
> 
> 标签：c#, android, listview, mono, scroll

我有一个我正在尝试解决的应用程序。在应用程序的一种布局中，我有多个 ListView 组件。大纲如下所示：

```
<ScrollView>
   <RelativeLayout>
      <TextView />
      <TextView />
      <ListView />
      <ListView />
      <ListView />
      <Button />
   </RelativeLayout>
</ScrollView> 
```

三个独立的 ListView 组件列出了 3 种不同类型的项目。我的问题来了，当用 ScrollView 封装时，ListViews 决定每个只显示 1 个项目，然后下降到它们的滚动行为。我更喜欢他们显示所有项目，并让 ScrollView 进行滚动。这可能吗？

我在这里阅读了其他一些问题，似乎惯例是每个布局不使用多个 ListView。如果可能的话，我宁愿做这项工作，因为列出的 3 个单独的项目是相关的，并且一起显示是有意义的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:42:33.020

ListViews 主要是为滚动而设计的。ListView 使用回收机制，在项目数量很大（相对于屏幕大小）时使滚动平滑。如果您希望您的 ListView 一次显示所有项目，您实际上并不需要 ListView。改用线性布局。我猜您正在使用列表适配器来填写您的列表。因此，您可以使用自定义 setAdapter() 方法扩展 LinearLayout 并利用您的适配器。这是我为不可滚动列表创建的类。

```
public class NonScrollableListView extends LinearLayout {
    private BaseAdapter mAdapter;
    private AdapterDataSetObserver mDataSetObserver;

    public NonScrollableListView(Context context) {
        super(context);
    }

    public NonScrollableListView(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    public NonScrollableListView(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
    }

    @Override
    protected void onAttachedToWindow() {
        super.onAttachedToWindow();
        if(mAdapter != null && mDataSetObserver != null){
            mDataSetObserver = new AdapterDataSetObserver();
            mAdapter.registerDataSetObserver(mDataSetObserver);
        }
    }

    @Override
    protected void onDetachedFromWindow() {
        super.onDetachedFromWindow();
        if(mAdapter != null && mDataSetObserver != null){
            mAdapter.unregisterDataSetObserver(mDataSetObserver);
        }
    }

    public void setAdapter(BaseAdapter adapter) {
        this.mAdapter = adapter;

        if(mAdapter != null && mDataSetObserver != null){
            mAdapter.unregisterDataSetObserver(mDataSetObserver);
        }

        mDataSetObserver = new AdapterDataSetObserver();
        mAdapter.registerDataSetObserver(mDataSetObserver);

        mDataSetObserver.onChanged();
    }

    private void fillChildViews(){
        if(mAdapter != null){
           int requiredChilrenCount = mAdapter.getCount();
           int currentChildrenCount = getChildCount();

            for(int i = 0; i < requiredChilrenCount; i++){
                View nextChild = getChildAt(i);
                View nextChildToAdd = mAdapter.getView(i, nextChild, this);
                nextChildToAdd.setLayoutParams(new LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT));

                if(nextChild == null){
                    addView(nextChildToAdd);
                }
            }

           //Remove remaining child views if any
           for(int i = requiredChilrenCount; i < currentChildrenCount; i++){
               //The length of the children list changes so need to get it at each iteration
               removeViewAt(getChildCount() - 1);
           }
        }
        else{
            removeAllViews();
        }
    }

    private class AdapterDataSetObserver extends DataSetObserver{
        @Override
        public void onChanged() {
            fillChildViews();
        }
    }
} 
```

您可以像使用列表视图一样使用它。请注意，预计项目数量会相对较少。否则，您将遇到性能问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T14:52:25.287

我最终采用的解决方案是分段列表适配器，用于在我的布局中填充单个 ListView 控件。分段适配器使 ListView 与 Preferences List 非常相似。但是分段适配器更加通用，因为您可以自定义分段分隔项，并包含多个列表项布局。假设您已经了解 Mono for Android 的基础知识，下面将详细介绍如何实现这一点。

首先，您需要一个 Section 对象，它将描述每个单独的列表部分。

```
public class ListSection
{
   private String _caption;
   private String _columnHeader1, _columnHeader2, _columnHeader3;
   private BaseAdapter _adapter;
   public ListSection(String caption, String columnHeader1, String columnHeader2, String columnHeader3, BaseAdapter adapter)
   {
      _caption = caption;
      _columnHeader1 = columnHeader1;
      _columnHeader2 = columnHeader2;
      _columnHeader3 = columnHeader3;
      _adapter = adapter;
   }
   public String Caption { get { return _caption; } set { _caption = value; } }
   public String ColumnHeader1 { get { return _columnHeader1; } set { _columnHeader1 = value; } }
   public String ColumnHeader2 { get { return _columnHeader2; } set { _columnHeader2 = value; } }
   public String ColumnHeader3 { get { return _columnHeader3; } set { _columnHeader3 = value; } }
   public BaseAdapter Adapter { get { return _adapter; } set { _adapter = value; } }
} 
```

该对象存储列表中每个部分的所有信息、作为该部分标题的标题以及我希望列表具有的 3 列中的每一列的列标题。此外，我们存储了一个唯一的列表适配器，它将为列表的这一部分提供视图。这允许您为每个部分提供不同的适配器。如果需要，您可以扩展此部分对象以进一步描述分隔部分，从而为您提供更大的灵活性，并有机会更改每个部分的基本结构。

接下来，您需要一个 XML 模板来描述列表的分隔符。由于我的每个部分都将具有相同的基本结构，因此我可以每次都重复使用相同的模板，而不会使它进一步复杂化。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="fill_parent"
              android:layout_height="wrap_content">
              <TextView
                        android:id="@+id/caption"
                        android:layout_marginTop="10px"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:textAppearance="?android:attr/textAppearanceSmall" />
              <LinearLayout
                        android:orientation="horizontal"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        style="?android:attr/listSeparatorTextViewStyle">
                        <TextView
                                  android:id="@+id/columnHeader1"
                                  android:layout_marginLeft="10px"
                                  android:layout_width="wrap_content"
                                  android:layout_height="wrap_content"
                                  android:width="100px"
                                  android:textAppearance="?android:attr/textAppearanceSmall" />
                        <TextView
                                  android:id="@+id/columnHeader2"
                                  android:layout_marginLeft="10px"
                                  android:layout_width="wrap_content"
                                  android:layout_height="wrap_content"
                                  android:width="100px"
                                  android:textAppearance="?android:attr/textAppearanceSmall" />
                        <TextView
                                  android:id="@+id/columnHeader3"
                                  android:layout_marginLeft="10px"
                                  android:layout_width="wrap_content"
                                  android:layout_height="wrap_content"
                                  android:width="100px"
                                  android:textAppearance="?android:attr/textAppearanceSmall" />
                        </LinearLayout>
</LinearLayout> 
```

你会注意到，Inner LinearLayout 控件我给了一个 style="?android:attr/listSeparatorTextViewStyle" 标签。这告诉android给那个视图一个底部边框。如果你只想要一个简单的 TextView 分隔符，你可以这样做，并给它同样的样式标签。

现在我的 ListAdapter 基本上都是一样的，它们只是扩展了一个不同的数据对象。这三个都填充了 3 列，所有这些列都适合它们的数据在相同大小的列中，它们只是不同的逻辑对象。每个适配器都是一个 BaseAdapter 扩展，它使用 3 列数据填充视图。我在这里假设您知道如何创建 BaseAdapter 的标准扩展。我将展示如何创建 ListSectionAdapter。

```
public class ListSectionAdapter : BaseAdapter<ListSection>
{
   private const int TYPE_SECTION_HEADER = 0;
   private Context _context;
   private List<ListSection> _sections;
   private LayoutInflater _inflater;
   public ListSectionAdapter(Context context)
   {
      _context = context;
      _inflater = Inflater.From(_context);
      _sections = new List<ListSection>();
   }
   public List<ListSection> Sections { get { return _sections; } set { _sections = value; } }
   public override int Count
   {
      get
      {
         int count = 0;
         foreach(ListSection s in _sections) count += s.Adapter.Count + 1;
         return count;
      }
   }
   public override int ViewTypeCount
   {
      get
      {
         int viewTypeCount = 1;
         foreach(ListSection s in _sections) viewTypeCount += s.Adapter.ViewTypeCount;
         return viewTypeCount;
      }
   }
   public override ListSection this[int index] { get { return _sections[index]; } }
   public override bool AreAllItemsEnable() { return false; }
   public override int GetItemViewType(int position)
   {
      int typeOffset = TYPE_SECTION_HEADER + 1;
      foreach(ListSection s in _sections)
      {
         if(position == 0) return TYPE_SECTION_HEADER;
         int size = s.Adapter.Count + 1;
         if(position < size) return (typeOffset + s.Adapter.GetItemViewType(position - 1));
         position -= size;
         typeOffset += s.Adapter.ViewTypeCount;
      }
      return -1;
   }
   public override long GetItemId(int position) { return position; }
   public void AddSection(String caption, String columnHeader1, String columnHeader2, String columnHeader3, BaseAdapter adapter)
   {
      _sections.Add(new ListSection(caption, columnHeader1, columnHeader2, columnHeader3, adapter);
   }
   public override View GetView(int position, View convertView, ViewGroup parent)
   {
      View view = convertView;
      foreach(ListSection s in _sections)
      {
         if(position == 0)
         {
             if(view == null || !(view is LinearLayout)) view = _inflater.Inflate(Resource.Layout.SectionSeparator, parent, false);
             TextView caption = view.FindViewById<TextView>(Resource.Id.caption);
             caption.Text = s.Caption;
             TextView columnHeader1 = view.FindViewById<TextView>(Resource.Id.columnHeader1);
             columnHeader1.Text = s.ColumnHeader1;
             TextView columnHeader2 = view.FindViewById<TextView>(Resource.Id.columnHeader2);
             columnHeader2.Text = s.ColumnHeader2;
             TextView columnHeader3 = view.FindViewById<TextView>(Resource.Id.columnHeader3);
             columnHeader3.Text = s.ColumnHeader3;
             return view;
          }
          int size = s.Adapter.Count + 1;
          if(position < size) return s.Adapter.GetView(position - 1, convertView, parent);
          position -= size;
       }
       return null;
    }
    public override Java.Lang.Object GetItem(int position)
    {
       foreach(ListSection s in _sections)
       {
          if(position == 0) return null;
          int size = s.Adapter.Count + 1;
          if(position < size) return s.Adapter.GetItem(position);
          position -= size;
       }
       return null;
    }
 } 
```

现在您所要做的就是在您的代码中，当您填充包含 ListView 的 Activity 或 Layout 时，创建单独的适配器，然后创建分段适配器并为您想要的每个单独的列表类型添加一个部分。

```
ListAdapterType1 adapter1 = new ListAdapterType1();
ListAdapterType2 adapter2 = new ListAdapterType2();
ListAdapterType3 adapter3 = new ListAdapterType3();

ListSectionAdapter sectionAdapter = new ListSectionAdapter(this);
sectionAdapter.AddSection("Section 1", "Column 1", "Column 2", "Column 3", adapter1);
sectionAdapter.AddSection("Section 2", "Column 1", "Column 2", "Column 3", adapter2);
sectionAdapter.AddSection("Section 3", "Column 1", "Column 2", "Column 3", adapter3);

ListView myList = FindViewById<ListView>(Resource.Id.MyList);
myList.SetAdapter(sectionAdapter); 
```

对于 ItemClick 事件，可能有更好的方法来做到这一点，但我使用了以下方法，它比较了分段列表的 GetItem(int) 方法返回的 Object Types 的 ToString，我们已将其扩展为 return基本列表适配器对象类型。

private void MyList_ItemClick(object sender, AdapterView.ItemClickEventArgs e) { ListSectionAdapter adapter = (sender as ListView).Adapter as ListSectionAdapter; if(adapter.GetItem(e.Position).ToString() == typeof(ObjectA).ToString()) { // respond accordingly to object type A being clicked } // so on and so forth on each different object type contained in the sectioned list }

My click event just populates and opens a new Layout describing the item clicked. The differentiation of object type is necessary because I use a different layout based on the object type clicked, because static information on the layout differs per object type.

Hope this helps. I gleaned this example from Wrox's book, Professional Android Programming with Mono C#/.Net, and modified it to meet my needs, hopefully you can see how it works so you can modify it to meet your own needs.

# android - arraylist返回错误的索引android

> ID：13639570
> 
> 赞同：2
> 
> 时间：2012-11-30T05:27:56.890
> 
> 标签：android, arraylist

我想将arraylist与textview进行比较，当arraylist和textview的值匹配/相同时，我想显示arraylist的索引..

**这是我的代码**

```
TextView namamenu2=(TextView)findViewById(R.id.nama_menu2);         
String nama_menu_upd = namamenu2.getText().toString();

for(MenuInputClass mic2 : results) {    
    String comp=mic2.getNama_menu();
    if(nama_menu_upd.equals(comp))
    {                               
        int compIndex=results.indexOf(comp);
        Toast.makeText(Appetizer_Activity.this,compIndex, Toast.LENGTH_LONG).show();                                
    }       
} 
```

**菜单输入类**

```
public class MenuInputClass {

    private String nama_menu;
    private String jumlah_menu;

    public void setNama_menu(String nama_menu) {
        this.nama_menu=nama_menu;
    }

    public String getNama_menu() {
        return (nama_menu);
    }
} 
```

当我在 Toast 上显示*compIndex*时，它总是显示*-1*。但是当我尝试显示*结果*的大小时，它显示正确的大小。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:31:05.173

改用普通`For`循环`Foreach`，Foreach 不会让您知道该索引，除非您使用 int 计数器。

正常`For`：

```
for(int i=0; i< results.size(); i++) {    
        MenuInputClass mic2= results.get(i);
        String comp=mic2.getNama_menu();
        if(nama_menu_upd.equals(comp))
        {                               
            Toast.makeText(Appetizer_Activity.this, i, Toast.LENGTH_LONG).show();                                
        }       
    } 
```

与`Foreach`：

```
int counter=0;
for(MenuInputClass mic2 : results) {    
    String comp=mic2.getNama_menu();
    if(nama_menu_upd.equals(comp))
    {                               
        Toast.makeText(Appetizer_Activity.this, counter, Toast.LENGTH_LONG).show();                                
    }  
     counter++;     
} 
```

# jsp - 为什么 web.xml 中没有 jsp 条目？

> ID：13639574
> 
> 赞同：1
> 
> 时间：2012-11-30T05:28:13.650
> 
> 标签：jsp, jakarta-ee, servlets, deployment-descriptor

当我们创建一个 servlet 时，我们在部署描述符中创建条目，即 web.xml，但是当我们创建一个 jsp 时，我们不在 web.xml 中创建条目？是因为有用于服务 servlet 的 servlet 容器和用于服务 jsps 的 jsp 容器吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:04:16.437

是的，JSP 容器负责处理 JSP 页面请求。Servlet 容器在容器中查找与请求中的 URL 匹配的 servlet。

有关 JSP 容器如何处理 JSP 请求的更多详细信息，您可以参考以下帖子：

希望这可以帮助。

[http://www.coderanch.com/t/364444/Servlets/java/JSP-container](http://www.coderanch.com/t/364444/Servlets/java/JSP-container)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T11:27:27.550

这不是真的..事实是它们也被注意到了...但我们没有这样做..因为 Web 服务器（Jsp 容器）在内部将 Jsp 编译为 servlet，它在第一次请求时为每个 jsp 创建一个条目本身在其内部配置文件中，并将该路径用于所有请求。当向 jsp 页面发出请求时，服务器会在其配置文件中检查当前页面并提供响应。

如果我们想改变我们的jsp页面的url，我们自己可以在web.xml中做一些条目，就像servlet一样

例如，在 tomcat 中，JSP 在 conf/web.xml 文件中进行配置。

而已。

# html - 如何在phonegap中使用图像路径而不是base64字符串？

> ID：13639581
> 
> 赞同：1
> 
> 时间：2012-11-30T05:29:03.293
> 
> 标签：html, cordova

我有 HTML5 & phonegap & iphone 本机插件的应用程序。

使用本机插件上传并存储在 iphone 本地存储中的图像。然后他们提供 base 64 图像字符串 & 我们在 HTML img tage 中显示。

因此，如果有超过 10 个图像，那么它们有 10 个 base64 图像字符串。所以加载页面需要太多时间。

我们可以这样管理吗？他们会提供 sdcard 图像路径并显示在 HTML 图像标签中吗？

我们尝试了但没有成功。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:54:45.690

看看[FileTransfer](http://docs.phonegap.com/en/2.2.0/cordova_file_file.md.html#FileTransfer)。您可以使用它下载文件到手机文件存储，下载后只需保存路径并设置img的src属性。

# c# - 如何从 Access 数据库 2007 中隐藏表

> ID：13639585
> 
> 赞同：0
> 
> 时间：2012-11-30T05:29:14.380
> 
> 标签：c#, ms-access

如何隐藏Access数据库中的表，使用户无法访问该表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:32:14.707

Access 2007 中最简单的保护机制之一是隐藏重要对象。为此，在导航窗格中，右键单击一个对象并选择表属性或视图属性（对于所有其他对象）。现在选择 Hidden 属性，该对象将从导航窗格中消失。

[http://msdn.microsoft.com/en-us/library/office/bb421308(v=office.12).aspx](http://msdn.microsoft.com/en-us/library/office/bb421308(v=office.12).aspx)

# wamp - 尝试使用 WAMP 设置自定义 url (mysite.dev)

> ID：13639588
> 
> 赞同：2
> 
> 时间：2012-11-30T05:29:19.997
> 
> 标签：wamp, custom-url

各位晚安，

首先，如果这是问这个问题的最佳地点，我深表歉意，所以请随时重定向我或这篇文章:)

我在 C: 上安装了 WAMP，但任何项目都将存在于单独的驱动器上。我可以创建一个别名来指向正确的目录 - 没问题。问题在于我想要/需要为每个项目分配一个自定义 URL（所以不是 localhost/mysite，而是类似于 mysite.dev）。

我找到[了这篇文章](http://www.infotales.com/seting-up-local-domains-windows-apache-wamp/#comments)，但它有点旧，所以我不确定信息是否仍然准确。这是我到目前为止所拥有的：

*   编辑主机文件以添加域 - 127.0.0.1 mysite.dev
*   编辑 WAMP 的 httpd.conf 文件以取消注释 - 包括 conf/extra/httpd-vhosts.conf
*   编辑 WAMP 的 httpd-vhost.conf 文件以添加虚拟主机：

```
<VirtualHost 127.0.0.1>
    DocumentRoot "d:/projects/mysite/"
    ServerName mysite.dev
    ServerAlias mysite.dev
<VirtualHost> 
```

最后这不会产生任何错误，只是一个大胖子 403 Forbidden Access “您没有权限访问 / 在此服务器上。”

不知道从哪里开始，这不完全是我的专业领域：P 非常感谢任何和所有帮助/提示！谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:40:54.860

尝试设置一个端口来监听

```
<VirtualHost *:80>
    DocumentRoot d:/projects/mysite/
    ServerName mysite.dev
</VirtualHost> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:02:53.573

再过一两个小时，我就可以真正回答我自己的问题了。

另一个论坛上的某个人提到，您需要在 httpd-vhost.conf 文件中提及普通的 localhost，所以这就是我最终的结果：

```
<VirtualHost *:80>
    ServerName localhost
    DocumentRoot "c:/wamp/www/"
</VirtualHost>

<VirtualHost *:80>
    ServerName platypus.dev
    DocumentRoot "d:/projects/test/"

    <Directory "d:/projects/test/">
        Options Indexes FollowSymLinks Includes
        AllowOverride All
        Order allow,deny
        Allow from all
    </Directory>
</VirtualHost> 
```

退出 WAMP，重新启动 - 很好。希望这对其他人有帮助:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-20T23:00:50.033

根据您使用的 WAMP 堆栈，每个堆栈中都有不同但非常相似的配置。WAMP = (apache, mysql, php FOR Windows ... Win Ap My Php)。有不同的 WAMP 堆栈，AMPPS、XAMPP、Bitnami .. 您可能指的是 WAMPserver（大多数人简称为 WAMP，但也可能指其他的，其配置略有不同..）

如果您使用的是 WAMPserver，我认为配置“自定义 URL”是最简单的，这意味着虚拟主机。您只需要取消注释 apache 文件夹中 httpd.conf 中的 vhosts 配置文件，并且您已经有一个如何在此文件中设置虚拟主机的模板，有 2 个虚拟主机作为示例。但是，不要忘记 Windows 的“hosts”文件，您需要在 hosts 文件中设置 127.0.0.1 [url_you_want]，并且 [url_you_want] 在您的 apache vhosts 配置文件中与“ServerName”相同...

# c# - 将选定的 DataGridView 行传输到另一个表单中的新 DataGridView

> ID：13639600
> 
> 赞同：1
> 
> 时间：2012-11-30T05:30:50.980
> 
> 标签：c#, linq, datagridview, datagridviewrow

我已经详尽地研究（谷歌搜索）了这个问题的解决方案，但找不到。我的问题是，在 Form1 中选择一行（为清楚起见称为）时，它不会将值传输到`DataGridView`Form2 中。请注意，所有列标题都已转移。

这是Form1的一个片段：

```
 private void customersDataGridView_CellClick(object sender, DataGridViewCellEventArgs e)
    {
        OrderSearchForm orderform = new OrderSearchForm();

        orderform.Row = this.customersDataGridView.CurrentRow;

        orderform.MdiParent = this.MdiParent;

        orderform.Show();
    } 
```

和表格2：

```
 private DataGridViewRow row;

    public DataGridViewRow Row
    {
        get { return row; }
        set { row = value; }
    }

    private void OrderSearchForm_Load(object sender, EventArgs e)
    {
        NorthwindDataClassesDataContext db = new NorthwindDataClassesDataContext();

        DataGridViewRow r = row.Clone() as DataGridViewRow;

        foreach (DataGridViewCell cell in row.Cells)
        {
            this.OrderSearchgridview.Columns.Add(cell.OwningColumn.Name,
                cell.OwningColumn.HeaderText);

            r.Cells[cell.ColumnIndex].Value = cell.Value;
        }

        OrderSearchgridview.Rows.Add(r);
    } 
```

所以基本上，我的问题是，如何`DataGridView`在 Form2 中显示 Form1 的行值`DataGridView`？

我觉得在插入列后我错过了添加实际值的步骤，但我被困在这一点上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T09:45:48.103

最好有一个 OrderSearchForm 的构造器来保存行的值。

考虑 Row 有 3 个值，例如 ID、姓名、年龄

使用这些 Pramaeteter 为 OrderSearchForm 创建对象。

```
 OrderSearchForm orderform = new OrderSearchForm(New User(customersDataGridView.SelectedRows[0].Cells[0].Value.ToString(),SelectedRows[0].Cells[1].Value.ToString(),SelectedRows[0].Cells[2].Value.ToString()));

  orderform.MdiParent = this.MdiParent;

 orderform.Show(); 
```

和表格2：

```
 private DataGridViewRow row;
   private User userObj;

public OrderSearchForm(User user)
{
    this.userObj=user;

} 

    public DataGridViewRow Row
    {
        get { return row; }
        set { row = value; }
    }

    private void OrderSearchForm_Load(object sender, EventArgs e)
    {
       //Do Operation with User's Properties.as you Like

        OrderSearchgridview.Rows.Add(r);
    } 
```

# mysql - 检索 empoly 和 magers 列表

> ID：13639602
> 
> 赞同：1
> 
> 时间：2012-11-30T05:31:02.400
> 
> 标签：mysql, database

我有 2 张表员工和部门

```
Table employee columns
empid
name
salary
location

Table department columns
deptno
deptname
empid
mangerid 
```

现在我想检索带有名称的员工和经理列表。我试过了，但我无法找回

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:49:27.660

要为其添加一些亮点，您可以尝试以下操作：) 您可以按经理结果删除`GROUP_CONCAT`普通`GROUP_BY`员工。

参考：

## [SQLFIDDLE](http://sqlfiddle.com/#!2/1c813/8)

样品表

**电磁脉冲**

```
ID  NAME
1   JOHN
2   JIM
3   KATE
4   TIM
5   JANE 
```

**部门**

```
ID  EID     MID
11  2       1
12  3       2
12  4       1
12  5       2 
```

查询`GROUP_CONCAT`

```
SELECT M.NAME AS Manager, GROUP_CONCAT(E.NAME,' ') AS Employee
FROM EMP E
JOIN DEPT D
ON E.ID = D.EID
JOIN EMP M
ON D.MID = M.ID
GROUP BY M.NAME 
```

结果：

```
MANAGER     EMPLOYEE
JIM         KATE ,JANE
JOHN        TIM ,JIM 
```

`GROUP_CONCAT`不带and的查询`GROUP_BY`

```
SELECT M.NAME AS Manager, E.NAME AS Employee
FROM EMP E
JOIN DEPT D
ON E.ID = D.EID
JOIN EMP M
ON D.MID = M.ID 
```

`GROUP_CONCAT`不带and的查询结果`GROUP_BY`

```
MANAGER     EMPLOYEE
JOHN        JIM
JOHN        TIM
JIM         KATE
JIM         JANE 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:36:48.380

尝试`select emp1.name, emp2.name from employee emp1, employee emp2, department dept where emp1.empid=dept.empid and emp2.empid=dept.managerid`

# javascript - 多边形以非常小的尺寸显示

> ID：13639604
> 
> 赞同：0
> 
> 时间：2012-11-30T05:31:06.560
> 
> 标签：javascript, openlayers

我正在从现有的 lonlats 中绘制多边形。但它以非常非常小的尺寸显示。代码如下，

```
for(var i in coordinates) {
  point = new OpenLayers.Geometry.Point(coordinates.lon,coordinates.lat);
  point.transform(new OpenLayers.projection("EPSG:4326"),map.getProjectionObject());
  points.push(point);
}
points.push(points[0]);
var linearRing = new OpenLayers.Geometry.LinearRing(points);
var polygonFeature = new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Polygon([linearRing]),null,{strokeColor:"black",
fillColor:"orange",sides:4});
newLayer.addFeatures([polygonFeature]);
newLayer.redraw(true); 
```

但它以非常非常小的尺寸显示。如何显示更大的尺寸？有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:12:37.960

point.transform() 不会改变`point`对象本身，它返回 new `point`，所以：这里也没有`i`在循环中使用索引（），加上这里是语法错误（`new OpenLayers.projection`应该是`new OpenLayers.Projection`

```
for(var i in coordinates) {
  point = new OpenLayers.Geometry.Point(coordinates[i].lon,coordinates[i].lat);
  points.push(
         point.transform(
             new OpenLayers.Projection("EPSG:4326"),
             map.getProjectionObject()
         )
  );
}
points.push(points[0]);
var linearRing = new OpenLayers.Geometry.LinearRing(points);
var polygonFeature = new OpenLayers.Feature.Vector(
  new OpenLayers.Geometry.Polygon([linearRing]),null,{
    strokeColor:"black", 
    fillColor:"orange",
    });
newLayer.addFeatures([polygonFeature]);
newLayer.redraw(true); 
```

[工作示例](http://jsfiddle.net/oceog/23cGb/)- 请注意非洲的一个非常大的橙色矩形

# objective-c - NSZombiEnabled 设置

> ID：13639609
> 
> 赞同：0
> 
> 时间：2012-11-30T05:31:44.567
> 
> 标签：objective-c, nszombieenabled

我正在尝试检查 NSZombieEnabled 是否在我的代码中工作。我有以下设置：

![在此处输入图像描述](../Images/a3339de07a2528d1e5eac8e7ae6f1830.png)

![在此处输入图像描述](../Images/0d6cf65ca78f761a9618c31b3efd31b7.png)

![在此处输入图像描述](../Images/2d28d147515ee3c7990f96b868765a93.png)

我有以下代码`didFinishLaunchingWithOptions`

```
NSString *string = nil;
    [string release];
    string = @"abc"; 
```

但是，没有产生错误。NSZombie 也没有通知。我应该做更多的设置。请帮助我，因为我已经导入了一个库，并且发生了代码 13 的 EXC_BAD_ACCESS，我无法找到错误原因。

堆栈和控制台看起来像这样 ![在此处输入图像描述](../Images/ff25b464406a64231bc34414b443b918.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:50:06.240

您的设置是正确的，但您的代码不会创建任何僵尸。僵尸是一个已被释放但被重新使用的对象。这样的事情会创建一个僵尸：

```
NSString* string = [NSString stringWithString:@"abc"];
[string release];
[string length]; 
```

在此示例中，字符串被释放，然后您尝试通过调用其`length`方法来使用它。

就您的库而言，当它为您提供 EXC_BAD_ACCESS 时，堆栈是什么样的？

# java - 关于快速排序（java）的问题

> ID：13639611
> 
> 赞同：-2
> 
> 时间：2012-11-30T05:31:47.373
> 
> 标签：java, arrays, quicksort

我正在尝试在 java 中实现几种不同类型的快速排序，但我的实现似乎都没有工作。我查看了整个互联网，我的代码看起来与我找到的所有代码非常相似，所以我不知道出了什么问题。我的代码如下：（请注意，这不完整，但我想如果我发现一个快速排序有什么问题，其他版本也可以）编辑：我遇到的问题是数组没有排序正确。我运行了一个名为 isSorted 的简单方法来告诉我数组是否正确排序。它适用于其他排序方法（插入排序、堆排序等），但在与我的快速排序实现一起使用时报告错误

```
public static void quickSort(int[] A) {
        flag=0;
        quickSortHelper(A, 0, A.length-1);
    }

public static void quickSortHelper(int [] A, int low, int high){
        if(low<high){
            if(flag==0){
            int q=DPartition(A, low,high,A[high]);
            quickSortHelper(A,low,q-1);
            quickSortHelper(A,q+1,high);
        }

public static int DPartition(int [] A, int low, int high,int pivot){
        int p=pivot;
        int i=low;
        int j=high-1;
        while (i<=j){
            while(i<=j && A[i]<=p){
                i=i+1;
            }
            while(j>=i && A[j]>=p){
                j=j-1;
            }
            if (i<j){
            int temp = A[i];
            A[i] = A[j];
            A[j] = temp;
            }

        }
      int temp = A[i];
      A[i] = A[p];
      A[p] = temp;
      return i;
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T05:38:55.233

该错误在您的`DPartition`方法中。在快速排序中，您向特定方向移动，一旦执行交换，您就会改变移动方向。但是，在上面的代码中，您在没有交换的情况下朝两个方向移动。

第一个 inner-while 循环找到了交换的位置，但不是交换，而是从下一个 inner-while 开始，它开始向相反的方向移动。那是错误的。

您应该再维护一个变量以将方向存储在数组中。

您可以尝试像这样修改您的代码（未测试）：-

```
// No need to pass `pivot` as parameter. Just use `high`.
public static int DPartition(int [] A, int low, int high) {  
    int i=low;
    int j=high;
    boolean leftToRight = false;
    boolean rightToLeft = true;

    while (i <= j) {   // Iterate till middle

        if (leftToRight) {  // Move left to right

            while(i <= j && A[i] <= A[j]){
                i=i+1;  // Move right until condition is satisfied
            }
            if (i < j) {   // If `i` has not moved beyond `j`. Perform Swap
                swap(i, j, A);   // Pass index for swapping along with array.
            }
            leftToRight = false;   // Toggle to change direction.
            rightToLeft = true;

        } else if (rightToLeft) {  // Move right to left.

            while(j >= i && A[j] >= A[i]){
                j=j-1;
            }
            if (j > i) {    // If j has not moved beyond `i`. Perform Swap
                swap(i, j, A);
            }
            rightToLeft = false;   // Toggle to change the direction
            leftToRight = true;
        } 
    }
    return i;   // Return `index` to split.
}

public static void swap(int p, int q, int[] a) {
    System.out.println("p = " + p + ", q = " + q);
    int temp = a[p];
    a[p] = a[q];
    a[q] = temp;
} 
```

# .htaccess - 使用htaccess重定向页面？

> ID：13639624
> 
> 赞同：0
> 
> 时间：2012-11-30T05:33:32.107
> 
> 标签：.htaccess

我的域名是`www.yellowandred.in`

如果用户点击`yellowandred.in/mainWork/`，它应该重定向到`yellowandred.in/mainWork.php`

如果用户点击`yellowandred.in/mainWork/index`或者`yellowandred.in/mainWork.php/index`它应该显示`404`错误，请帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:36:31.393

这是我在谷歌 [http://kb.mediatemple.net/questions/85/Using+.htaccess+rewrite+rules#gs找到的第一个链接](http://kb.mediatemple.net/questions/85/Using+.htaccess+rewrite+rules#gs)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:39:11.563

你可能想试试这个工具来帮助你创建一个 htaccess 文件：

[http://htaccessredirect.net](http://htaccessredirect.net)

你会想做一个 url “重写”。

还有其他的。只需搜索“htaccess 生成器”。

# postgresql - Select 或 create 语句中的数据库列

> ID：13639626
> 
> 赞同：1
> 
> 时间：2012-11-30T05:33:48.283
> 
> 标签：postgresql, database-design

> **可能重复：**
> [PostgreSQL 选择查询中的最大列数是多少](https://stackoverflow.com/questions/12606842/what-is-the-maximum-number-of-columns-in-a-postgresql-select-query)

我将开始一个需要大量表和列的新项目，使用 postgres 我只想问创建 postgres 表的列数是有限的，如果是，那么列数的 MAX 值是多少在 CREATE 和 SELECT 语句中？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-30T06:06:22.587

从**Postgres 12**开始，官方的限制列表可以[在手册](https://www.postgresql.org/docs/current/limits.html)中找到：

```
项目上限 备注
-------------------------------------------------- --------
数据库大小无限制     
数据库数量 4,294,950,911     
每个数据库的关系 1,431,650,303     
关系大小 32 TB，默认 BLCKSZ 为 8192 字节
每个表的行数受限于
                        可以容纳 4,294,967,295 页的元组     
每个表 1600 的列进一步受到单个页面上的元组大小的限制；见下面的注释
字段大小 1 GB     
标识符长度63字节可以通过重新编译PostgreSQL来增加
每个表的索引不受每个数据库的最大关系限制
每个索引 32 的列可以通过重新编译 PostgreSQL 来增加
分区键 32 可以通过重新编译 PostgreSQL 来增加
```

[在此之前， PostgresL 的“关于”页面上](https://www.postgresql.org/about/)有一个官方列表。**Postgres 9.5**的报价：

```
Limit                       Value
Maximum Database Size       Unlimited
Maximum Table Size          32 TB
Maximum Row Size            1.6 TB
Maximum Field Size          1 GB
Maximum Rows per Table      Unlimited
Maximum Columns per Table   250 - 1600 depending on column types
Maximum Indexes per Table   Unlimited 
```

如果您接近这些限制，则很可能您做错了*什么*。

# c++ - 这个指针和性能损失

> ID：13639633
> 
> 赞同：10
> 
> 时间：2012-11-30T05:34:22.857
> 
> 标签：c++

```
void do_something() {....}

struct dummy
{
   //even I dont call this, compiler will call it fall me, they need it
   void call_do_something() { this->do_something_member(); } 
   void do_something() {....}
}; 
```

据我所知，C++ 中的每个类或结构都会在您要访问该类的数据成员或成员函数时隐式调用此指针，这会给 C++ 带来性能损失吗？

我的意思是

```
int main()
{
  do_something(); //don't need this pointer
  dummy().call_do_something(); //assume the inline is prefect

  return 0;
} 
```

call_do_something 需要一个 this 指针来调用成员函数，但是像 do_something 这样的 C 不需要 this 指针，与 C 类函数相比，这个指针会带来一些性能损失吗？

我没有做任何微优化的意思，因为它会占用我很多时间但总是不能给我带来好的结果，我总是遵循“衡量，不要思考”的规则。我想知道这个指针是否会因为好奇而带来性能损失。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-30T06:17:15.390

视情况而定，但通常，如果您启用了优化，它不应该比 C 版本贵。唯一真正为`this`其他功能“付费”的时候是在使用继承和虚函数时。除此之外，编译器足够聪明，不会`this`在你不使用它的函数上浪费时间。考虑以下：

```
#include <iostream>

void globalDoStuff()
{
    std::cout << "Hello world!\n";
}

struct Dummy
{
    void doStuff() { callGlobalDoStuff(); }
    void callGlobalDoStuff() { globalDoStuff(); }
};

int main()
{
    globalDoStuff();

    Dummy d;
    d.doStuff();
} 
```

使用 GCC 优化级别编译`O3`，我得到以下反汇编（删除多余的垃圾并仅显示`main()`）：

```
_main:
0000000100000dd0    pushq   %rbp
0000000100000dd1    movq    %rsp,%rbp
0000000100000dd4    pushq   %r14
0000000100000dd6    pushq   %rbx
0000000100000dd7    movq    0x0000025a(%rip),%rbx
0000000100000dde    leaq    0x000000d1(%rip),%r14
0000000100000de5    movq    %rbx,%rdi
0000000100000de8    movq    %r14,%rsi
0000000100000deb    callq   0x100000e62 # bypasses globalDoStuff() and just prints "Hello world!\n"
0000000100000df0    movq    %rbx,%rdi
0000000100000df3    movq    %r14,%rsi
0000000100000df6    callq   0x100000e62 # bypasses globalDoStuff() and just prints "Hello world!\n"
0000000100000dfb    xorl    %eax,%eax
0000000100000dfd    popq    %rbx
0000000100000dfe    popq    %r14
0000000100000e00    popq    %rbp
0000000100000e01    ret 
```

请注意，它完全优化了`Dummy`和`globalDoStuff()`，只是将其替换为`globalDoStuff()`. `globalDoStuff()`甚至没有被调用过，也没有`Dummy`被构造过。相反，编译器/优化器用两个系统调用替换该代码以`"Hello world!\n"`直接打印出来。教训是编译器和优化器非常聪明，通常你不会为你不需要的东西买单。

另一方面，假设您有一个操作成员变量的成员函数`Dummy`。您可能会认为这与 C 函数相比会受到惩罚，对吧？可能不是，因为 C 函数需要一个指向要修改的对象的指针，当您考虑它时，这正是`this`指针的开头。

因此，一般而言，与 C 相比，在 C++ 中您不会为 C++ 支付额外费用`this`。虚函数可能会受到（小）惩罚，因为它必须查找要调用的正确函数，但这不是我们在这里考虑的情况。

如果您不在编译器中打开优化，那么是的，当然，可能会涉及到惩罚，但是......为什么要比较未优化的代码？

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-30T06:37:27.097

```
#include <iostream>
#include <stdint.h>
#include <limits.h>
struct Dummy {
  uint32_t counter;
  Dummy(): counter(0) {}
  void do_something() {
    counter++;
  }
};

uint32_t counter = 0;

void do_something() { counter++; }

int main(int argc, char **argv) {
  Dummy dummy;
  if (argc == 1) {
    for (int i = 0; i < INT_MAX - 1; i++) {
      for (int j = 0; j < 1; j++) {
        do_something();
      }   
    }   
  } else {
    for (int i = 0; i < INT_MAX - 1; i++) {
      for (int j = 0; j < 1; j++) {
        dummy.do_something();
      }   
    }   
    counter = dummy.counter;
  }
  std::cout << counter << std::endl;
  return 0;
} 
```

在 64 位 gcc 版本 4.3.5 (Debian 4.3.5-4) 上平均运行 10 次，没有任何标志：

带全局计数器：0m15.062s

带虚拟对象：0m21.259s

如果我按照[Lyth](https://stackoverflow.com/users/949044/lyth)的建议修改这样的代码：

```
#include <iostream>
#include <stdint.h>
#include <limits.h>

uint32_t counter = 0;

struct Dummy {
  void do_something() {
    counter++;
  }
};

void do_something() { counter++; }

int main(int argc, char **argv) {
  Dummy dummy;
  if (argc == 1) {
    for (int i = 0; i < INT_MAX; i++) {
        do_something();
    }   
  } else {
    for (int i = 0; i < INT_MAX; i++) {
        dummy.do_something();
    }   
  }
  std::cout << counter << std::endl;
  return 0;
} 
```

然后，奇怪的是，

带全局计数器：0m12.062s

带虚拟对象：0m11.860s

# php - 超链接在 gmail 的 IE9 上不起作用

> ID：13639635
> 
> 赞同：0
> 
> 时间：2012-11-30T05:34:27.873
> 
> 标签：php, internet-explorer-9

我用 PHP 开发了一个带有超链接 [http://waterhouseresearch.com/pdf/water_1815.pdf的邮件正文](http://waterhouseresearch.com/pdf/water_1815.pdf)

当我在 IE9 中点击它时，它可以正常打开，但是当我从 gmail 邮件正文中单击它时，它正在加载一些时间并剩余空白页。但是从其他浏览器（例如Firefox）从gmail打开时，它可以很好地打开。请给我一些建议来解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:11:36.037

请在 IE 9 浏览器的 gmail 正文中右键单击 PDF 链接，然后单击“在新选项卡中打开”查看 pdf 完美加载。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:35:56.607

php 与浏览服务器端脚本语言无关，因此问题可能出在 Internet Explorer 中

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-11-30T05:38:21.280

**这不是 PHP 问题。**

试试这个 1

首先备份您的注册表。

单击开始 --> 在搜索栏中，键入 regedt32 并按 Enter。

“注册表编辑器”将打开。转到文件->导出->保存注册表

在您想要的位置使用任何名称备份。

单击下面的超链接“修复”并下载文件

使固定

解压 --> 如果您的 IE9 是 32 位应用程序，则选择 32 位 (32on64) 文件

否则选择 64bit(64on64) 文件。上述修复也适用于 IE9。

应用修复后，重置 Internet Explorer 设置。

右键单击“Internet Explorer”图标->属性->单击“高级”

选项卡->单击“重置”按钮。

祝你好运

# drupal-7 - Drupal Omega 中的自定义主题

> ID：13639646
> 
> 赞同：0
> 
> 时间：2012-11-30T05:35:15.420
> 
> 标签：drupal-7

我是 drual 自定义主题设计的新手。我使用 Omega 主题作为 bae 主题，并创建了子主题。我知道如何添加区域和区域。但我没有得到任何教程如何更改布局。我启用了自定义主题及其显示网格系统作为首页。我想要我的自定义首页。使用子主题创建主题的任何解决方案或教程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-23T13:49:08.390

我也在学习 Omega 主题，我找到了几个关于这个主题的免费教程。我推荐[http://www.youtube.com/watch?v=9Iob6XLRBdQ&feature=share&list=PL15BE2E8313A4E809](http://www.youtube.com/watch?v=9Iob6XLRBdQ&feature=share&list=PL15BE2E8313A4E809) 开始 :) 享受！

# c# - 如何使C# Windows Forms中的标签、文本框、组合框接受并显示中文、日文、韩文等字符？

> ID：13639649
> 
> 赞同：0
> 
> 时间：2012-11-30T05:35:25.467
> 
> 标签：c#, winforms, combobox, textbox, label

当我粘贴中文、日文、韩文文本时，文本框会显示框字符。我怎样才能显示角色？有哪些事情要做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:04:46.747

由于 .Net 支持 Unicode，因此您提到的每种语言都支持，因此请确保您在文本框中使用正确的字体。根据您的目标语言，每种语言都有不同的“首选”字体。

在此处查看其他问题，例如

[Arial Unicode MS 是 WinForms UI 的正确字体吗？](https://stackoverflow.com/q/3179603/21336)

[如何以正确的字体呈现 unicode 字符？(C#/WinForms)](https://stackoverflow.com/q/103556/21336)

[Unicode 字体维基百科](http://en.wikipedia.org/wiki/Unicode_font#List_of_Unicode_fonts)

# android - 从 SQLite android 提升数据值

> ID：13639664
> 
> 赞同：0
> 
> 时间：2012-11-30T05:36:48.513
> 
> 标签：android, sqlite, listview

我对按日期升序有问题...我想按 listDate( 日期格式 ) 对所有日期进行分组，我认为我的代码有问题..

```
public Cursor getAll() {
        // TODO Auto-generated method stub
        return (database.rawQuery("SELECT " + SQLiteHelper.listId + " as _id, "
                + SQLiteHelper.listName + "," + SQLiteHelper.listDate + ","
                + SQLiteHelper.listDest + " FROM " + SQLiteHelper.listTable
                + " ORDER BY " + SQLiteHelper.listDate+ "ASC",null));

    }

private static final String CREATE_SHOPPLINGLIST_TABLE = "CREATE TABLE IF NOT EXISTS "
            + listTable
            + " ("
            + listId
            + " INTEGER PRIMARY KEY AUTOINCREMENT, "
            + listName
            + " TEXT, "
            + listDest + " TEXT," + listDate + " INTEGER)"; 
```

希望有人能纠正我的错误...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:40:18.763

试试这个..

```
return (database.rawQuery("SELECT " + SQLiteHelper.listId + " as _id, "
                + SQLiteHelper.listName + "," + SQLiteHelper.listDate + ","
                + SQLiteHelper.listDest + " FROM " + SQLiteHelper.listTable
                + " ORDER BY " + SQLiteHelper.listDate+ " ASC",null)); 
```

给空间`" ASC"`。

# ios - 获取易趣商品的价格和名称

> ID：13639666
> 
> 赞同：1
> 
> 时间：2012-11-30T05:37:01.293
> 
> 标签：ios, iphone, web-services

我是 iOS 开发新手，我想用我的应用搜索 eBay 商品。[我在eBay 开发网络](https://www.x.com/developers/ebay)上找到了参考资料，但我找不到如何按关键字搜索 eBay 商品。

例如，我输入`mobile`，我想获取包含 eBay 移动商品及其价格的列表。我已经尝试`ASIHTTPRequest`从一项网络服务获取信息，但是：

1.  我在 [https://www.x.com/developers/ebay][1] 中找不到合适的网络服务
2.  也许你可以给我一个例子，如何加载正确的 ebay 项目。

更新：感谢您的帮助，我看到了 eBay 网络服务的请求

```
http://open.api.ebay.com/shopping?
   callname=FindProducts&
   responseencoding=XML&
   appid=YourAppIDHere&
   siteid=0&
   version=525&
   QueryKeywords=harry%20potter&
   AvailableItemsOnly=true&
   MaxEntries=2 
```

但我想使用 POST 请求。eBay 提供了该请求的 XML 正文：

```
<?xml version="1.0" encoding="utf-8"?>
<FindProductsRequest xmlns="urn:ebay:apis:eBLBaseComponents">
  <QueryKeywords>Harry Potter</QueryKeywords>
  <MaxEntries>2</MaxEntries>
  <AvailableItemsOnly>true</AvailableItemsOnly>
</FindProductsRequest> 
```

但是要形成发布请求，我当然需要请求 URL。我应该使用什么网址？是`open.api.ebay.com`吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:50:01.360

使用[Ebay 购物 API](http://developer.ebay.com/DevZone/shopping/docs/CallRef/FindProducts.html)。为此，您需要注册并登录以获取 APIKey。

访问链接：http: [//developer.ebay.com/DevZone/shopping/docs/CallRef/FindProducts.html](http://developer.ebay.com/DevZone/shopping/docs/CallRef/FindProducts.html)

对于[进行 API 调用](http://developer.ebay.com/DevZone/shopping/docs/Concepts/ShoppingAPI_FormatOverview.html)，您可以使用 Shopping API 获取 JSON、XML、NV（名称-值对）和 SOAP 格式的数据。支持 HTTP GET 和 HTTP POST 方法，请访问链接：http: [//developer.ebay.com/DevZone/shopping/docs/Concepts/ShoppingAPI_FormatOverview.html](http://developer.ebay.com/DevZone/shopping/docs/Concepts/ShoppingAPI_FormatOverview.html)

如果您使用的是 URL（和 HTTP GET 方法）

```
http://open.api.ebay.com/shopping?

   callname=FindPopularItems

   &appid=YourAppIDHere

   &version=517

   &siteid=0

   &responseencoding=NV 
```

如果您正在使用该`HTTP POST`方法，请使用该`X-EBAY-API-REQUEST-ENCODING`值（或 requestencoding URL 参数）来指定您的输入采用以下格式之一：`NV (Name-Value Pair), JSON, XML, or SOAP`.

输出（响应数据）将采用与输入相同的格式，因此无需指定 X-EBAY-API-RESPONSE-ENCODING 值。`X-EBAY-API-RESPONSE-ENCODING`但是，您可以通过使用值来指定与输入格式不同的输出格式。

此示例显示调用的标准 Shopping API 标头`HTTP POST`（使用相同的[http://open.api.ebay.com/shopping](http://open.api.ebay.com/shopping) ? 端点作为`GET`调用）。

标`X-EBAY-API-REQUEST-ENCODING`头为 Name-Value Pair 输入指定 NV，并且可以更改如下:: `XML for XML input, SOAP for SOAP input, and JSON for JSON`input。

```
 X-EBAY-API-CALL-NAME: FindPopularItems

   X-EBAY-API-APP-ID: YourAppIDHere

   X-EBAY-API-VERSION: 517

   X-EBAY-API-SITE-ID: 0

   X-EBAY-API-REQUEST-ENCODING: NV 
```

来源：http: [//developer.ebay.com/DevZone/shopping/docs/Concepts/ShoppingAPI_FormatOverview.html#URLExamples](http://developer.ebay.com/DevZone/shopping/docs/Concepts/ShoppingAPI_FormatOverview.html#URLExamples)

# fluent-nhibernate - Fluent Nhibernate - 是否有可能获得一个实体的多个相关实体？

> ID：13639668
> 
> 赞同：0
> 
> 时间：2012-11-30T05:37:26.943
> 
> 标签：fluent-nhibernate

是否可以获得一个实体的多个相关实体？例如，我有一个类 Album，它有两个属性，即 Artist 和 Genre.... 我怎样才能获得具有相关艺术家和流派的专辑？提前感谢：p

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-01T07:52:09.453

简单到

```
var albums = session.Query<Album>()
    .Where(a => <whatever>)
    .Fetch(a => a.Artist)
    .Fetch(a => a.Genre)
    .ToList(); 
```

# svn - JIRA 和 Subversion 工作流的集成

> ID：13639669
> 
> 赞同：0
> 
> 时间：2012-11-30T05:37:31.600
> 
> 标签：svn, workflow, jira

我想知道是否有一种简单或首选的方法可以使用 JIRA 和 Subversion 实现以下工作流程：

我不确定哪种方法更好，但我可以使用任何一种方法：

```
a) Developer Commits BUG-321 to SVN with bug # in commit comment, 
   which automatically transitions the issue's workflow state to "resolved"

   **OR**

b) In JIRA, the developer attempts to transition BUG-321 to "resolved", 
   which triggers an event that forces the developer to commit code first 
   before the transition can happen 
```

**注意——主要目标是从 subversion 中获取内部版本号，并在它被标记为已解决后将其放入错误的字段中，这样我就可以自动让我们的 QA 人员知道修复了错误的内部版本号。**

这是我可以轻松实现的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T21:23:46.357

如果您碰巧使用[FishEye](http://www.atlassian.com/software/fisheye/)并安装了[JIRA FishEye 插件](https://marketplace.atlassian.com/plugins/com.atlassian.jirafisheyeplugin)，您可以：

*   [如果没有针对票证提交代码，则阻止转换](https://studio.plugins.atlassian.com/wiki/display/FISH/JIRA+FishEye+Plugin;jsessionid=596EAC10810D028DDFC660D010C4B719#JIRAFishEyePlugin-EnhanceyourJIRAworkflowwithcode%5Candreviewbasedconditions)
*   [设置提交命令以在提交时自动转换票证](https://blogs.atlassian.com/2009/10/dragon_slayer_supplement_action_issues_with_commit_commands/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:21:40.700

a) 使用 *-commit 钩子可以很容易地完成，它与 Jira 交互，使用它的 API

# sinatra - 当 Gemfile 引用它时，我如何不启动 sinatra？

> ID：13639671
> 
> 赞同：0
> 
> 时间：2012-11-30T05:37:43.377
> 
> 标签：sinatra

总而言之，我有一个客户端应用程序，它是一个 sinatra 应用程序，但这只是其中的一部分，其他一些部分将完成相关工作，例如下载，因此需要在新进程中生成，这主要是同一个客户端项目的 gem 依赖项所必需的，所以我当然使用一些代码在捆绑器环境中加载：

```
Dir.chdir(File.expand_path(File.dirname(__FILE__)))
ENV["BUNDLE_GEMFILE"] = File.expand_path("../Gemfile", __FILE__)
require 'bundler'
env = ENV['RACK_ENV'] || 'development'
Bundler.setup
Bundler.require :default, env.to_sym, 
```

但不幸的是，即使没有代码，比如 puts 3，sinatra 应用程序也会启动并监听 4567，这很烦人，我还尝试了模块化方法在文件中写入一个空类

```
class MyApp < Sinatra::Base;
end 
```

但是sinatra还是从4567开始，挺烦人的，有办法不启动sinatra吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T06:20:14.847

找出问题所在，因为在 Gemfile 中，是：gem "sinatra"，最好使用 gem "sinatra", :require =>"sinatra/base" 代替。

# sql - 在 VB.NET 2010 中向 MS Access 数据库添加数据时出现错误

> ID：13639674
> 
> 赞同：0
> 
> 时间：2012-11-30T05:37:52.997
> 
> 标签：sql, ms-access, save

我有一个`vb.net 2010`将注册表添加到 a 的应用程序`MS Access Patient db`，但有时它不会添加任何内容，直到我重置应用程序（关闭并再次运行它），这非常糟糕！

我要添加一些信息的表如下所示：

```
PatientId Proyect Email        RFC
-----------------------------------
1         firstP  firs@any.com  KEY
2         secondP sec@any.com   GTE
.... 
```

（项目是故意而不是项目）

我的表结构有一个自动增量 ID 值 (PatientID)： 要知道我需要分配的下一个 id，我有一个函数

```
Public Function GenerateAutoID()
        Return Me._patientDataTable.Rows(Me._patientDataTable.Rows.Count - 1)("PatientID").ToString()
    End Function 
```

我怀疑这是有时不允许向数据库插入新数据的错误...然后单击保存按钮时执行的功能是：

```
Public Sub Save()
        Dim query = String.Empty
        If Not _updateFlag Then
            ' save query
            query = "INSERT INTO Patient(Proyect,Email,RFC)"
            query &= " VALUES ('" & txtProyect.Text & "','" & txtEmail.Text & "','" & txtRFC.Text & "')"
            DatabaseFunctions.ExecuteQuery(query)
            MessageBox.Show("Data saved.", "System", MessageBoxButtons.OK, MessageBoxIcon.Information)

        Else
            ' update query
            '... code that updates
        End If
        Clear()
        Reload()
    End Sub 
```

代码包括`Clear()`仅重置表单中的所有文本字段， `Reload()`并且`LoadDBData()`：

```
Public Sub Reload()
        SetToolTipsToButtons() 'this is for some fancy buttons
        LoadDBData()
        txtPatientID.Text = (Integer.Parse(GenerateAutoID()) + 1).ToString()
        FillListNames()
        SetAutoComplete()
    End Sub

Public Sub LoadDBData()

    Dim query As String = "SELECT * FROM Patient "
    Me._patientDataTable = DatabaseFunctions.GetDataTable(query)
    dgvInfo.Rows.Clear()

    For Each dtRow In Me._patientDataTable.Rows

        dgvInfo.Rows.Add()
        dgvInfo.Rows(dgvInfo.RowCount - 1).Cells("colPatientID").Value = dtRow("PatientID").ToString()
        dgvInfo.Rows(dgvInfo.RowCount - 1).Cells("colProyect").Value = dtRow("Proyect").ToString()
        dgvInfo.Rows(dgvInfo.RowCount - 1).Cells("colEmail").Value = dtRow("Email").ToString()
        dgvInfo.Rows(dgvInfo.RowCount - 1).Cells("colRFC").Value = dtRow("RFC").ToString()

    Next    
    dgvInfo.ClearSelection()

End Sub 
```

处理 odbc 连接的类是：

```
Imports System.Data.Odbc
Imports System

Public Class DatabaseFunctions

    Shared con As OdbcConnection
    Public Shared Sub CreateConnection()
        con = New OdbcConnection
        'con.ConnectionString = "Dsn=XXX"
        con.ConnectionString = "Dsn=XXX;uid=sa;pwd=XXXxxx;"
        con.Open()
    End Sub

    Private Shared Sub CheckConnection()
        If con Is Nothing OrElse con.State = ConnectionState.Closed Then
            CreateConnection()
        End If
    End Sub

    Public Shared Function GetDataReader(ByVal SQL As String) As OdbcDataReader
        CheckConnection()
        Dim cmd As New OdbcCommand(SQL, con)
        Dim dr As OdbcDataReader
        dr = cmd.ExecuteReader
        Return dr
    End Function

    Public Shared Function GetDataTable(ByVal SQL As String) As DataTable
        CheckConnection()
        Dim cmd As New OdbcCommand(SQL, con)
        Dim table As New DataTable
        Dim da As New OdbcDataAdapter(cmd)
        da.Fill(table)
        Return table
    End Function

    Public Shared Sub ExecuteQuery(ByVal SQL As String)
        CheckConnection()
        Dim cmd As New OdbcCommand(SQL, con)
        cmd.ExecuteNonQuery()
    End Sub
End Class 
```

以及表单加载时的代码：

```
 Private Sub frmPatientRegistration_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
        Try
            Reload()
        Catch ex As Exception
            MessageBox.Show(ex.Message, "Systema", MessageBoxButtons.OK, MessageBoxIcon.Error)
        End Try
    End Sub 
```

所以我想改变一点 save() 代码来知道表是否有相同数量的行m，如果它还有一行，一切都很好，但如果不是这样，再试一次......

我知道我正在考虑的这个解决方案并不优雅，但也许为了避免这种情况，问题出在代码的其他部分......但我认为它可能在自动增量中，或者与 Access db 文件有关？你有过这样的经历吗？？

我已经调试了程序，它工作正常，只有当我将它作为独立应用程序运行时，有时它不会保存任何东西......直到我重新运行程序......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-02T16:58:24.880

没有`close`联系也没有

```
con.Close()
cmd.Dispose()
con.Dispose() 
```

改变它：

```
Imports System.Data.Odbc
Imports System

Public Class DatabaseFunctions

    Shared con As OdbcConnection

    Public Shared Function GetDataReader(ByVal SQL As String) As OdbcDataReader
        Dim dr As OdbcDataReader
        'CheckConnection()
        Try
            con = New OdbcConnection
            con.ConnectionString = "Dsn=XXX;uid=sa;pwd=XXXxxx;"
            con.Open()
            Dim cmd As New OdbcCommand(SQL, con)
            dr = cmd.ExecuteReader
            con.Close()
            cmd.Dispose()
            con.Dispose()
            Return dr
        Catch ex As Exception
            MessageBox.Show(ex.Message, "System", MessageBoxButtons.OK, MessageBoxIcon.Error)
        Finally
            If (con.State = System.Data.ConnectionState.Open) Then
                con.Close()
                con.Dispose()
            End If
        End Try
        Return dr
    End Function

    Public Shared Function GetDataReaderVal(ByVal SQL As String) As String
        Dim resultado As String
        'CheckConnection()
        Try
            con = New OdbcConnection
            con.ConnectionString = "Dsn=XXX;uid=sa;pwd=XXXxxx;"
            con.Open()
            Dim cmd As New OdbcCommand(SQL, con)
            Dim dr As OdbcDataReader
            resultado = ""
            dr = cmd.ExecuteReader
            dr.Read()
            resultado = dr.GetValue(0).ToString
            con.Close()
            cmd.Dispose()
            con.Dispose()
            Return resultado
        Catch ex As Exception
            MessageBox.Show(ex.Message, "Sistem", MessageBoxButtons.OK, MessageBoxIcon.Error)
        Finally
            If (con.State = System.Data.ConnectionState.Open) Then
                con.Close()
                con.Dispose()
            End If
        End Try
        resultado = "0"
        Return resultado
    End Function

    Public Shared Function GetDataTable(ByVal SQL As String) As DataTable
        Dim table As New DataTable
        'CheckConnection()
        Try
            con = New OdbcConnection
            con.ConnectionString = "Dsn=XXX;uid=sa;pwd=XXXxxx;"
            con.Open()
            Dim cmd As New OdbcCommand(SQL, con)

            Dim da As New OdbcDataAdapter(cmd)
            da.Fill(table)
            con.Close()
            cmd.Dispose()
            con.Dispose()
            Return table
        Catch ex As Exception
            MessageBox.Show(ex.Message, "Sistem", MessageBoxButtons.OK, MessageBoxIcon.Error)
        Finally
            If (con.State = System.Data.ConnectionState.Open) Then
                con.Close()
                con.Dispose()
            End If
        End Try
        Return table
    End Function

    Public Shared Sub ExecuteQuery(ByVal SQL As String)
        'CheckConnection()
        Try
            con = New OdbcConnection
            con.ConnectionString = "Dsn=XXX;uid=sa;pwd=XXXxxx;"
            con.Open()
            Dim cmd As New OdbcCommand(SQL, con)
            cmd.ExecuteNonQuery()
            con.Close()
            cmd.Dispose()
            con.Dispose()
        Catch ex As Exception
            MessageBox.Show(ex.Message, "Sistem", MessageBoxButtons.OK, MessageBoxIcon.Error)
        Finally
            If (con.State = System.Data.ConnectionState.Open) Then
                con.Close()
                con.Dispose()
            End If
        End Try
    End Sub
End Class 
```

# php - PHP：从字符串中删除小词，忽略单词中的德语字符

> ID：13639675
> 
> 赞同：0
> 
> 时间：2012-11-30T05:38:10.453
> 
> 标签：php, regex

我正在尝试为 url 创建 slug。

我有以下测试字符串：

```
$kw='Test-Tes-Te-T-Schönheit-Test'; 
```

我想从此字符串中删除少于三个字符的小单词。

所以，我希望输出是

```
$kw='test-tes-schönheit-test'; 
```

我试过这段代码：

```
$kw = strtolower($kw);
$kw = preg_replace("/\b[^-]{1,2}\b/", "-",  $kw);
$kw = preg_replace('/-+/', '-', $kw);
$kw = trim($kw, '-');
echo $kw; 
```

但结果是：

```
test-tes-sch-nheit-test 
```

因此，德语字符 ö 将从字符串中删除，德语单词 Schönheit 被视为两个单词。

请建议如何解决这个问题。

非常感谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T10:58:02.920

我假设，您的字符串不是 UTF-8。我认为使用变音符号/非 ASCII 字符和正则表达式，首先编码为 UTF-8 更容易，然后 - 在使用 u-修饰符（unicode）应用正则表达式之后 - 如果您需要原始编码，再次解码（根据本地） . 所以你会开始：

```
$kw = utf8_encode(strtolower($kw)); 
```

现在您可以使用 regex-unicode 功能。\p{L} 用于字母， \p{N} 用于数字。如果您将所有字母和数字视为单词字符（由您决定），您的边界将相反：

```
[^\p{L}\p{N}] 
```

你想要所有的单词字符：

```
[\p{L}\p{N}] 
```

你想要这个词，如果之前有一个开始 ^ 或边界。您可以为此使用积极的回顾：

```
(?<=[^\p{L}\p{N}]|^) 
```

替换最多 2 个“单词字符”，后跟边界或结尾：

```
[\p{L}\p{N}]{1,2}([^\p{L}\p{N}]|$) 
```

因此，您的正则表达式可能如下所示：

```
'/(?<=[^\p{L}\p{N}]|^)[\p{L}\p{N}]{1,2}([^\p{L}\p{N}]|$)/u' 
```

如果您愿意，可以解码到您的本地：

```
echo utf8_decode($kw); 
```

祝你好运！罗伯特

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:45:05.960

您的`\b`单词边界越过`ö`，因为它不是字母数字字符。默认情况下，PCRE 适用于 ASCII 字母。

输入字符串为 UTF-8/Latin-1。要这样处理其他非英文字母符号，请使用[`/u`Unicode 修饰符](http://php.net/manual/en/reference.pcre.pattern.modifiers.php)：

```
$kw = preg_replace("/\b[^-]{1,2}\b/u", "-",  $kw); 
```

我会使用[`preg_replace_callback`](http://php.net/preg_replace_callback)or`/e`顺便说一句，而是搜索`[A-Z]`替换。`strtr`对于破折号或只是`[-+]+`为了折叠连续的破折号。

# javascript - 倒数计时器停在零我希望它重置

> ID：13639685
> 
> 赞同：0
> 
> 时间：2012-11-30T05:38:47.167
> 
> 标签：javascript, html, css

我正在尝试找出一种方法，让我的倒计时计时器在 25 点重新开始，当它达到 0 时。我不知道我做错了什么，但它不会工作。

**Javascript**

```
window.onload = function() {
   startCountDown(25, 1000, myFunction);
}

function startCountDown(i, p, f) {
   var pause = p;
   var fn = f;
   var countDownObj = document.getElementById("countDown");

   countDownObj.count = function(i) {
      //write out count
      countDownObj.innerHTML = i;
      if (i == 0) {
      //execute function
      fn();
      //stop
      return;
   }
   setTimeout(function() {
      // repeat
      countDownObj.count(i - 1);
      },
      pause  
      );
   }
   //set it going
   countDownObj.count(i);
}

function myFunction(){};
</script> 
```

**HTML**

```
 <div id="countDown"></div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:45:54.510

试试这个，计时器在 0 后重新启动

[http://jsfiddle.net/GdkAH/1/](http://jsfiddle.net/GdkAH/1/)

完整代码：

```
window.onload = function() {
startCountDown(25, 1000, myFunction);
}

function startCountDown(i, p, f) {
    var pause = p;
    var fn = f;
    var countDownObj = document.getElementById("countDown");

    countDownObj.count = function(i) {
    //  write out count
    countDownObj.innerHTML = i;
    if (i == 0) {
    //  execute function
        fn();
        startCountDown(25, 1000, myFunction);
        //  stop
        return;
    }
    setTimeout(function() {
            //  repeat
            countDownObj.count(i - 1);
    }, pause);
}
//  set it going
countDownObj.count(i);
}

function myFunction(){};

​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:02:38.880

我没有看到你重置计数器。当您的计数器下降到 0 时，它会执行该函数并返回。相反，您要执行函数->重置计数器->返回

您可以通过在 fn() 下简单地添加 i = 25 来做到这一点：

```
function startCountDown(i, p, f) {
var pause = p;
var fn = f;
var countDownObj = document.getElementById("countDown");

countDownObj.count = function(i) {
//  write out count
countDownObj.innerHTML = i;
if (i == 0) {
//  execute function
fn();
i = 25;
//  stop
return;
}
setTimeout(function() {
//  repeat
countDownObj.count(i - 1);
},
pause  
);
}
//  set it going 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T06:21:42.603

在 @Muthu Kumaran 倒计时 1 后代码未显示为零。你可以更新到这个：

```
if (i < 0) {
//  execute function
    fn();
    startCountDown(10, 1000, myFunction);
    //  stop
    return;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-30T06:50:48.560

将 setInterval 用于连续运行的计时器的主要原因是调整间隔，使其尽可能接近系统时钟的增量更新，通常为 1 秒，但可能更长。在这种情况下，这似乎没有必要，所以只需使用 setInterval。

下面是一个不向元素添加非标准属性的函数，可以使用 window.onload 中的函数表达式调用它，因此完全避免使用全局变量（不是说有太多意义，但有些人喜欢最小化他们）。

```
var runTimer = (function() {

  var element, count = 0;

  return function(i, p, f) {
    element = document.getElementById('countDown');

    setInterval(function() {
      element.innerHTML = i - (count % i);
      if (count && !(count % i)) {
        f();
      }
      count++;  
    }, p);
  }
}());

function foo() {
  console.log('foo');
}

window.onload = function() {
  runTimer(25, 1000, foo);
} 
```

# sql - RPAD 的意外结果

> ID：13639687
> 
> 赞同：1
> 
> 时间：2012-11-30T05:39:00.033
> 
> 标签：sql, oracle

我正在使用 Oracle 11g。我正在使用 Scott 帐户和演示`EMP`表。`ENAME`我用BRUCE WILLIAM插入了一条记录。我的目标是在两列中显示名字和姓氏。我使用了这段代码：

```
select trim rpad(ename, instr(ename,' ')))   "First Name", 
       trim(substr(ename, instr(ename,' '))) "Last Name" 
  from emp; 
```

这给出了一个奇怪的结果。`First Name`扩展到第二行。我用了

```
select trim(substr(ename, 1, instr(ename,' '))), 
       trim(substr(ename, instr(ename, ' '))) 
  from emp; 
```

我得到了预期的输出。我的问题是为什么第一行查询给出了额外的空格？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T19:49:32.857

您的字符串中没有多余的空格，如果是的话，您`trim()`将再次删除它们。SQL*Plus 只是以您不期望的方式格式化结果。[文档](http://docs.oracle.com/cd/E11882_01/server.112/e16604/ch_six.htm#sthref578)提到了列类型的默认格式，通常可以为系统函数解决这个问题（尽管字符集可以使它比你预期的要大）。

似乎*SQL* *Plus 和 SQL Developer 无法为您的`rpad`案例确定合理的默认值，但可以为您的`substr`. 好吧，SQL*Plus 实际上只是从数据库中获取结果集游标，并使用游标元数据来确定应用于显示字段的默认宽度，因此它没有从元数据中获得您期望的长度。但它应该使用什么长度？

如果填充长度是一个简单的值，数据库只知道该值有多大`rpad`——它甚至不介意零（它返回 null，您依赖它）。如果填充长度由函数确定，那么除了在返回元数据和实际数据*之前*为结果集中的每个值计算它之外，没有办法判断结果可能有多大，这是不切实际的，并且会随着数据的变化产生不一致的输出。

即使在您的情况下看起来很简单，尝试确定理论上的最大值也是不切实际的。`substr`永远不能返回比原始值更长的东西；但`rpad`即使从一个短的输入值也可能产生巨大的东西，所以如果它不能轻易确定一个限制（即从一个固定值），它必须允许这种可能性。

所以它很安全，并允许它达到 a 的最大长度`varchar2`，即 4000 个字符，正如这个动态 SQL 所示：

```
declare
    l_curid integer;
    l_desctab dbms_sql.desc_tab3;
    l_colcnt integer;
begin
    l_curid := dbms_sql.open_cursor;

    dbms_sql.parse(l_curid, 'select rpad(ename, instr(ename,'' '')), '
        || 'rpad(ename, 4), '
        || 'substr(ename, 1, instr(ename,'' '')) '
        || 'from emp where ename like ''B%''' , dbms_sql.native);

    dbms_sql.describe_columns3(l_curid, l_colcnt, l_desctab);

    for i in 1 .. l_colcnt loop
        dbms_output.put_line('column ' || i
            || ' ' || l_desctab(i).col_name
            || ' type ' || l_desctab(i).col_type
            || ' length ' || l_desctab(i).col_max_len
        );
    end loop;

    dbms_sql.close_cursor(l_curid);
end;
/

column 1 RPAD(ENAME,INSTR(ENAME,'')) type 1 length 4000
column 2 RPAD(ENAME,4) type 1 length 16
column 3 SUBSTR(ENAME,1,INSTR(ENAME,'')) type 1 length 40 
```

如您所见，它知道固定长度`rpad`和 a的长度`substr`（注意，由于多字节字符集，大小是实际字符串长度的四倍），但在`rpad`使用函数时会回落到最大值。

您看到的是 SQL*Plus 显示一个 4000 字符的列。如果您在 SQL Developer 中执行此操作，您会看到该列的标题确实是 4000 个字符。SQL*Plus 通过将显示的列标题减少到[行大小](http://docs.oracle.com/cd/E11882_01/server.112/e16604/ch_twelve040.htm#sthref1903)来提供一点帮助，并将下一列换行到单独的行上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T09:01:58.010

```
lpad ('string', n [, 'string_pad')
rpad ('string', n [, 'string_pad') 
```

使用 string_pad 将字符串填充到长度 n。如果省略 string_pad，**则将使用空格，因为默认** rpad 类似，但填充右侧而不是左侧。

来自[http://www.adp-gmbh.ch/ora/sql/rpad.html](http://www.adp-gmbh.ch/ora/sql/rpad.html)

这是理解的好例子

```
begin

  for i in 1 .. 15 loop
    dbms_output.put_line(
      rpad('string', i) || '<'
    );
  end loop;

end; 
```

# c# - 如何将 Jquery-ui 添加到文本框？在 tag-it 功能中

> ID：13639688
> 
> 赞同：0
> 
> 时间：2012-11-30T05:38:59.430
> 
> 标签：c#, asp.net, tags

我想在我的网页中的文本框中使用 jquery-ui tagit 函数。我做了功课和大量研究，我得到的最终代码是：

```
<script type="text/javascript">
    $(document).ready(function () {
        $("#mytags").tagit();
    });
</script> 
```

问题是我希望输入字段（文本框）与文本框的正常大小一样，但是此代码显示的输入字段与网页一样宽。这是看起来像：[http](http://screencast.com/t/XD7PaAkMj) : //screencast.com/t/XD7PaAkMj 我已经尝试了很多将其应用于 texbox 但它的大小也没有减少。

请帮我解决一下这个。

谢谢，

爱德华

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:57:09.777

您是否尝试在 ul.tagit css 选择器上设置高度和宽度？例如：

```
ul.tagit {
height:30px;
width:30px
} 
```

# android - 如何在 Android 中显示录制时间？

> ID：13639690
> 
> 赞同：-1
> 
> 时间：2012-11-30T05:39:04.450
> 
> 标签：android, audio, recording

我为 Android 开发了一个运行良好的录音应用程序。现在我想在`TextView`. 我该如何实施？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-30T05:50:09.900

**使用 CountDownTimer 因为据我所知，当时您录制时可能 TimerTask 不起作用**

```
CountDownTimer t;

t = new CountDownTimer( Long.MAX_VALUE , 1000) {

        @Override
        public void onTick(long millisUntilFinished) {

            cnt++;
            String time = new Integer(cnt).toString();

            long millis = cnt;
               int seconds = (int) (millis / 60);
               int minutes = seconds / 60;
               seconds     = seconds % 60;

               txtcount.setText(String.format("%d:%02d:%02d", minutes, seconds,millis));

        }

        @Override
        public void onFinish() {            }
    }; 
```

**启动定时器 t.start(); 停止定时器 t.cancel();**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T05:51:25.813

用来`android.widget.Chronometer`记录时间。

请参阅`com.example.android.apis.view.ChronometerDemo`ApiDemos 了解用法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T05:49:37.030

您可以在 android 中使用 Timer 和 TimerTask。检查这里... [http://android.okhelp.cz/timer-task-timertask-run-cancel-android-example/](http://android.okhelp.cz/timer-task-timertask-run-cancel-android-example/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-30T05:48:07.700

当您开始录制时启动计时器

这里是代码 int minute =0, seconds = 0, hour = 0;

```
textView = (TextView) view.findViewById(R.id.textView1);
final Timer t = new Timer("hello", true);
t.schedule(new TimerTask() {

@Override
public void run() {
    textView.post(new Runnable() {

    public void run() {
        seconds++;
        if (seconds == 60) {
        seconds = 0;
        minute++;
        }
        if (minute == 60) {
        minute = 0;
        hour++;
        }
        textView.setText(""
            + (hour > 9 ? hour : ("0" + hour)) + " : "
            + (minute > 9 ? minute : ("0" + minute))
            + " : "
            + (seconds > 9 ? seconds : "0" + seconds));

    }
    });

    }
    }, 1000, 1000);

    view.findViewById(R.id.stop).setOnClickListener(
    new OnClickListener() {

    public void onClick(View v) {
        t.cancel();
    }
    }); 
```

# sql-server - 如何在存储过程中使用临时表

> ID：13639694
> 
> 赞同：1
> 
> 时间：2012-11-30T05:39:42.080
> 
> 标签：sql-server, stored-procedures

我在这样的存储过程中创建一个临时表：

```
 IF OBJECT_ID('#INSTL_PLAN_TEMP') IS NULL 
 BEGIN
     CREATE TABLE #INSTL_PLAN_TEMP(P_LOAN_ID INT,
                                   P_RECOVERY_TYPE VARCHAR(1),
                                   P_SEQ_NO INT,
                                   P_FROM_INSTL_NO INT)

     DROP TABLE #INSTL_PLAN_TEMP 
 END 
```

之后，我在此表上创建了一个光标，例如

```
 DECLARE INSTL_PLAN_CUR CURSOR FOR
     SELECT P_RECOVERY_TYPE, P_LOAN_ID, P_SEQ_NO, P_FROM_INSTL_NO
     FROM INSTL_PLAN_TEMP
     WHERE P_LOAN_ID = @I_LOAN_ID
     ORDER BY P_LOAN_ID, P_SEQ_NO; 
```

但在游标语句中显示错误

> *无效的对象名称 INSTL_PLAN_TEMP*

请帮助我是 SQL 新手

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:49:07.650

我认为这行不通：

```
IF OBJECT_ID('#INSTL_PLAN_TEMP') IS NULL 
```

如果我没记错的话，它看起来像这样：

```
IF OBJECT_ID('tempdb..#INSTL_PLAN_TEMP') IS NULL 
```

为什么创建后会掉落？

```
DROP TABLE #INSTL_PLAN_TEMP 
```

这是正确的声明：

```
DECLARE @INSTL_PLAN_CUR CURSOR FOR
   SELECT P_RECOVERY_TYPE, P_LOAN_ID, P_SEQ_NO, P_FROM_INSTL_NO
   FROM #INSTL_PLAN_TEMP
   WHERE P_LOAN_ID = @I_LOAN_ID
      ORDER BY P_LOAN_ID, 
              P_SEQ_NO; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T05:47:52.017

我可以看到三点：

*   您正在创建表`#INSTL_PLAN_TEMP`，而下一条语句正在删除它。
*   而且，我认为在光标中你应该使用 `#INSTL_PLAN_TEMP`而不是 `INSTL_PLAN_TEMP`
*   光标应定义为`@INSTL_PLAN_CUR CURSOR`

注意：感谢 Mohit 指出。

-米林德

# javascript - 需要帮助 Ajax / Javascript

> ID：13639695
> 
> 赞同：0
> 
> 时间：2012-11-30T05:39:44.810
> 
> 标签：javascript, html, ajax

我被这个难住了。我将使用 Onclick 功能获得未知数量的隐藏和未隐藏（取决于用户在我的数据库中拥有的信息量）。当单击每个未隐藏的 div 时，我通过 AJAX 传递它们的值并从 php 文件中获取一些文本。

```
 function selectProduct(index) {
   var option = document.getElementById('sel'+index).value;
        var queryStringOne = "?option="+option;
         http.open("GET", "product.php" + 
                          queryStringOne, true);
        http.onreadystatechange = getHttpResOne+index;
          http.send(null); 
    }

    function getHttpResOne(index) {

      if (http.readyState == 4) { 
       resOne = http.responseText;  // These following lines get the response and update the page
  document.getElementById('prohidden'+index).innerHTML = resOne;    
   }
 } 
```

HTML

```
 <div id="sel1" value="sel1"  onClick="selectProduct(1); return false;">Select Item</div>
    <div id="prohidden1" class="sel"></div> <!-- hidden -->
    <div id="sel2" value="sel2"  onClick="selectProduct(2); return false;">Select Item</div>
    <div id="prohidden2" class="sel"></div><!-- hidden --> 
```

我需要点击每个 div 的响应文本，以替换其下方的隐藏 div。我无法将 (index) 传递给 getHttpRequestOne() 函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:08:48.703

您始终可以将自定义属性添加到本机对象。这可能不是最好的方法。但你可以试试这个。

```
function selectProduct(index) {
    var option = document.getElementById('sel'+index).value;
    var queryStringOne = "?option="+option;
    http.open("GET", "product.php" + 
              queryStringOne, true);
    http.onreadystatechange = getHttpResOne;
    http.myCustomValue = index;
    http.send(null); 
}

function getHttpResOne() {
    if (http.readyState == 4) { 
    resOne = http.responseText;  // These following lines get the response and update the page
    var index = http.myCustomValue;
    document.getElementById('prohidden'+index).innerHTML = resOne;    
    }
} 
```

# c++ - 如何从最高到最低输出 BST 的节点值？

> ID：13639696
> 
> 赞同：0
> 
> 时间：2012-11-30T05:39:51.510
> 
> 标签：c++, binary-search-tree

这是一个我认为很容易的问题，但我发现最后我错了。我可以在没有递归的情况下完成程序，但我想问一下这个问题是否可以在递归版本中完成？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:42:41.127

递归二叉搜索树遍历基本上是（伪代码，以防这是课程作业）：

```
def traverse (node):
    if (node == NULL):
        return
    traverse (node.left)
    doSomethingWith (node.payload)
    traverse (node.right)
:
traverse (root) 
```

这就是它的全部内容，只需替换`doSomethingWith()`为您想做的任何事情（例如打印）。

这将以从左到右的顺序遍历，因此，如果您的 BST 以左表示较低的方式排序，只需交换两个`traverse`调用。

例如，考虑以下树：

```
 20
      /  \
    10    25
   /     /  \
  5    24    27
 /          /
2         28 
```

如本示例 C 程序中所体现的：

```
#include <stdio.h>

typedef struct s {
    int payload;
    int left;
    int right;
} tNode;

tNode node[] = {  // Trust me, this is the tree from above :-)
    {20,  1,  4}, {10,  2, -1}, { 5,  3, -1}, { 2, -1, -1},
    {25,  5,  6}, {24, -1, -1}, {27, -1,  7}, {28, -1, -1}};

static void traverse (int idx) {
    if (idx == -1) return;
    traverse (node[idx].right);
    printf ("%d ", node[idx].payload);
    traverse (node[idx].left);
}

int main (void) {
    traverse (0);
    putchar ('\n');
    return 0;
} 
```

运行该程序将为您提供以下输出：

```
28 27 25 24 20 10 5 2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:42:58.997

当然。假设 BST 的排序使得“大于”节点在右侧，“小于”节点在左侧，这样的递归函数将起作用：

```
void recurse(Node* node)
{
    if (node == nullptr) return;
    recurse(node->right); // Explore all the "greater than" nodes first
    std::cout << node->value << std::endl; // Then print the value
    recurse(node->left); // Then explore "less than" nodes
} 
```

# php - Mysql更新命令失败

> ID：13639700
> 
> 赞同：0
> 
> 时间：2012-11-30T05:40:35.980
> 
> 标签：php, mysqli, sql-update

令人难以置信的是，我有一个与“附加”不同的变量的精确脚本。但是，即使有额外的 mysql 列，我也无法更新它。我什至尝试过将附加内容更改为其他内容，但它无法与本专栏一起使用。什么是矛盾的？

```
<?php
echo "yup";
$lt2 = "yup";
$blah = "yup";
$username = "yup";
$lt1 = "yup";
$dbh = new PDO(censored);
$sql = "UPDATE purchases SET additional = ? WHERE username = ? AND blah = ? AND kusername = ?";
$q = $dbh->prepare( $sql );
$params = array( $lt1, $lt2, $username, $blah );
$q->execute( $params );
$doc = new DOMDocument();
$r = $doc->createElement("location" );
$doc->appendChild( $r );
foreach ( $q->fetchAll() as $row) {
   $e = $doc->createElement( "location" );
    $e->setAttribute( 'name', $row['additional'] );

    $r->appendChild( $e );

}
print $doc->saveXML();

echo "work";
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:54:04.743

你能告诉我这个表是否有“自动增量”ID。

如果是，请传递您已更新记录的 ID。

```
$sql = "UPDATE purchases SET additional = '$lt1' WHERE purchase_id = ?"; 
```

如果没有，请像这样更改查询：

```
$sql = "UPDATE purchases SET additional = '$lt1' WHERE username = ? OR blah = ? OR kusername = ?"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T05:42:02.983

尝试

```
$sql = "UPDATE purchases SET additional = ? WHERE username = ? AND blah = ? AND kusername = ?";
$q = $dbh->prepare( $sql );
$params = array( $lt1,$lt2, $username, $blah ); 
```

# c - 使用 strtok 函数删除制表符空间

> ID：13639706
> 
> 赞同：1
> 
> 时间：2012-11-30T05:40:59.620
> 
> 标签：c, string, strtok

我正在尝试使用具有制表符分隔符的 strtok 拆分一行。我的代码和输入如下。我想将这些令牌存储到 field1、field2、field3 中。

代码：

```
while(fgets(line,80,fp1)!=NULL) //Reading each line from file to calculate the file size.
{
    field1=strtok(line," ");
    //field1=strtok(NULL,"");
    field2=strtok(NULL," ");
    field3=strtok(NULL," ");
    if(flag != 0)
    printf("%s",field1);
    flag++;
} 
```

输入：

```
315     316     0.013
315     317     0.022
316     317     0.028
316     318     0.113
316     319     0.133
318     319     0.051
320     324     0.054
321     322     0.054 
```

我当前的输出：（如果我打印 field1）

```
315     316     0.013
315     317     0.022
316     317     0.028
316     318     0.113
316     319     0.133
318     319     0.051
320     324     0.054
321     322     0.054 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T05:51:53.070

```
while(fgets(line,80,fp1)!=NULL) //Reading each line from file to calculate the file size.
{
    char *p;

    p = strtok(line, '\t');
    int itr = 0;
    while(p != NULL) {
        if(itr == 0){  
           strcpy(field1, p);
           itr++;
        }  
        else if(itr == 1){
           strcpy(field2, p);
           itr++;
        }
        else {
           strcpy(field3, p); 
           itr = 0;
        }
    p = strtok(NULL, '\t');
    }
    printf("%s%s%s", field1, field2, field3);
    // store it in array if needed         
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T05:51:32.650

看看这里的信息：

```
http://www.cplusplus.com/reference/cstring/strtok/ 
```

您将空格指定为用作标记器的分隔符，但您的字符串没有空格（对我来说似乎是制表符）。所以，strtok 所做的就是从头开始寻找 tab("\t")。它一直到字符串的末尾并没有找到它，但它确实找到了末尾的 \0，因此它在开头返回字符串，因为 strtok 总是在要找到的标记之前给出字符串。

将分隔符更改为“\t”，然后打印每个字段变量。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-30T06:11:42.577

我建议只使用 sscanf。它为您处理制表符作为分隔符。

```
#include <stdio.h>
#include <stdlib.h>

int
main()
{
    char line[80], field1[32], field2[32], field3[32];
    FILE *fp;

    fp = fopen("testfile", "r");
    if (fp == NULL) {
            printf("Could not open testfile\n");
            exit(0);
    }

    while (fgets(line, sizeof(line), fp) != NULL) {
            sscanf(line, "%s%s%s", field1, field2, field3);
            printf("%s %s %s\n", field1, field2, field3);
    }

    exit(0);
} 
```

# g-wan - 所有类型文件的默认到期日期

> ID：13639707
> 
> 赞同：0
> 
> 时间：2012-11-30T05:41:01.520
> 
> 标签：g-wan, content-expiration

尽管在每个文件类型处理程序中都这样做，是否有任何简单的方法来设置所有类型文件的默认到期日期，例如 json、jpg、html、css、js 等？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T15:17:42.653

正如 Nagi 所说，被`connection handler`调用的`/handlers/main.c`可用于生成自定义到期 HTTP 标头。

您还可以使用目录`content-type handlers`中的哪个名称`/handlers`必须与文件类型（`html.c`、`json.c`、`jpg.c`等）匹配。

默认情况下，G-WAN 会生成 HTTP 标头，这些标头可以帮助代理服务器完成其工作：

```
Date:           Thu, 29 Nov 2012 15:00:55 GMT
Last-Modified:  Sun, 25 Nov 2012 13:54:46 GMT
ETag:           "810c7fa9--50b22326-7ec3" 
```

但是可以使用更细粒度的策略。这可以在未来的版本中通过在`content-type handlers`.

证明服务器是有生命的（客户驱动的）生物：

# objective-c - 使用非线程安全 CIFilter 的多线程

> ID：13639709
> 
> 赞同：0
> 
> 时间：2012-11-30T05:41:31.287
> 
> 标签：objective-c, ios, multithreading, exc-bad-access

[文档`CIFilter`](https://developer.apple.com/library/mac/#documentation/graphicsimaging/Reference/QuartzCoreFramework/Classes/CIFilter_Class/Reference/Reference.html)说该类不是线程安全的，并且“每个线程都必须创建自己的`CIFilter`对象”。我正在这样做，但我仍然经常遇到错误的访问崩溃。导致崩溃的示例代码：

```
- (CIImage *) outputCIImage {

  CIFilter *monochromeFilter =
  [CIFilter filterWithName:@"CIColorMonochrome" keysAndValues:
   kCIInputImageKey, self.inputCIImage,
   @"inputColor", [LSMonochromeFilter CIColorForFilterColor:self.color],
   @"inputIntensity",[NSNumber numberWithFloat:1.0], nil];

  return monochromeFilter.outputImage;
} 
```

最多可从 10 个线程并行调用此代码。我无法弄清楚原因，因为看起来`CIFilter`线程之间的实例应该完全相互隔离。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T16:53:31.797

仅仅因为过滤器在每个线程中是独立的，并不意味着它们访问的资源在每个线程中都是独立的。似乎您需要在使用 CoreImage 周围放置一个互斥锁或其他类型的锁或同步。

# java - 什么有效的 Java 集合将用于存储一百万个字符串？

> ID：13639712
> 
> 赞同：1
> 
> 时间：2012-11-30T05:41:35.453
> 
> 标签：java, collections

是否有任何特定的 API 需要使用？有人可以发布如何实施它。

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T05:45:29.567

这将取决于您对哪个集合适合的要求，如果它是 String 列表然后使用`java.util.List`，或者如果它是 String 集然后使用`java.util.Set`或者它也是键值对然后使用`Map`。

每个接口的实现也特定于需求。

当您谈论数据量时，它带有两件事：

1.  表现
2.  记忆。

谈性能，如果是 ArrayList - add 操作在摊销的常数时间内运行，即添加 n 个元素需要`O(n)`时间。所有其他操作都以线性时间运行（粗略地说）。与实现相比，常数因子较低`LinkedList`。

如果`HashSet`它还为基本操作（`add, remove, contains and size`）提供恒定的时间性能，假设哈希函数将元素正确地分散在桶中。

`HashMap``O(1)`为基本操作 ( `get and put`)提供恒定时间性能。

如果大型集合耗尽内存，则谈论内存，这意味着如果你得到`OutOfMemoryExcaption`. 然后你必须通过传递来增加你的堆空间`-Xmxn`。

> **-Xmx** *n*
> 指定内存分配池的最大大小（以字节为单位）。此值必须是大于 2MB 的 1024 的倍数。附加字母 k 或 K 表示千字节，或附加 m 或 M 表示兆字节。默认值为 64MB。此值的上限在 Solaris 7 和 Solaris 8 SPARC 平台上约为 4000m，在 Solaris 2.6 和 x86 平台上约为 2000m，减去开销。像-Xmx2048m

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T07:05:18.263

如果没有上下文和频繁操作的任何进一步信息，似乎最好使用简单的字符串数组或嵌入式 java DB。

# c# - WinRT XAML 上的 Image.OpacityMask

> ID：13639716
> 
> 赞同：3
> 
> 时间：2012-11-30T05:41:47.047
> 
> 标签：c#, image, xaml, windows-runtime

关于这个 .net XAML UIElement 属性，Image.OpacityMask：http: [//msdn.microsoft.com/en-us/library/ms743320.aspx](http://msdn.microsoft.com/en-us/library/ms743320.aspx)

我很难让 OpacityMask 在我的 WinRT 的 C#/XAML 项目中工作。

像这样的示例 XAML：

```
<Image ...
    <Image.OpacityMask>
         <ImageBrush ImageSource="Assets/alpha.png"/>
    </Image.OpacityMask>
/> 
```

似乎不起作用，“在图像类型中找不到可附加属性 OpacityMask 属性”

如何使用 alpha 掩码 .png 来掩码 WinRT XAML 中的 Image UIElement？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T05:56:49.450

Windows Store 应用程序的 XAML 中的[Image](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.image.aspx)（或相关的[UIElement](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.uielement.aspx) ）没有`OpacityMask`属性。您只有[Opacity](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.uielement.opacity.aspx)属性可用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-23T19:26:14.393

根据您要执行的操作，您应该查看 OpactiyMask 的替代品。在此处查看[这些替代方案。](http://www.visuallylocated.com/post/2014/07/07/Alternatives-to-OpacityMask.aspx)

# angularjs - $scope 和 $$phase 变通方法是否总是在 AngularJS 中按预期工作？

> ID：13639717
> 
> 赞同：18
> 
> 时间：2012-11-30T05:41:49.090
> 
> 标签：angularjs

在 AngularJS 中处理 3rd 方工具和外部 DOM 事件时要记住的一件主要事情是使用`$scope.$apply()`方法操作来启动更改。这很有效，但有时范围本身已经在通过摘要（基本上是 $apply 方法触发的内容）并在此过程中调用 $apply 会引发错误。因此，要解决这个问题，您必须注意`$scope.$$phase`在进行摘要时设置为范围的标志。

所以现在，假设您想更改 URL 并启动：

```
$scope.$apply(function() {
  $location.path('/home');
}); 
```

这按预期工作，但现在让我们假设 $scope 正忙于做这件事。因此，您检查 $$phase 变量并假设您的更改将被拾取：

```
if($scope.$$phase) {
  $location.path('/home');
}
else {
  $scope.$apply(function() {
    $location.path('/home');
  });
} 
```

这就是我一直在做的事情（显然不是代码重复），它似乎 100% 的时间都在工作。我担心的是，**当范围处于消化过程中时，AngularJS 是如何拾取变化的？**

也许这个例子不够具体。让我们假设一些更大的东西。想象一下，如果您有一个包含大量绑定的巨大网页，并假设消化将线性地浏览页面（我假设它在优先级方面做了类似的事情......在这种情况下，无论出现在首先是 DOM 树）并从上到下更新页面上的绑定。

```
<div class="binding">{{ binding1 }}</div>
<div class="binding">{{ binding2 }}</div>
<div class="binding">{{ binding3 }}</div>
<div class="binding">{{ binding4 }}</div>
<div class="binding">{{ binding5 }}</div>
<div class="binding">{{ binding6 }}</div>
<div class="binding">{{ binding7 }}</div>
<div class="binding">{{ binding8 }}</div> 
```

让我们假设消化正在进行，并且它位于消化队列中间附近的某个地方。现在让我们尝试更改**页面顶部**某处的绑定值。

```
if($scope.$$phase) {
  $scope.binding1 = 'henry';
} 
```

现在，不知何故，AngularJS 获取了更改并正确更新了绑定。尽管相对于 HTML/DOM，可以认为更改本身在队列中更早发生。

我的问题是 AngularJS 如何管理这种潜在的竞争条件？如果**binding8**更新（因为它位于页面下方），我会感到有些舒服，但是因为**binding1**也会更新（立即无需再次调用 $apply），这让我有点迷茫。这是否意味着在两者之间的某个地方又进行了一次消化？还是 $scope 对象比我想象的更神奇？我会假设这个问题之前已经存在，但是由于首先找出 $$phase 和 $scope 有点棘手，所以我假设这也可能是一些从裂缝中消失的东西。

有任何想法吗？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-11-30T16:19:15.107

关于绑定和竞争条件。*$digest*将循环所有观察者，直到没有变化。正如您可以通过将日志添加到观察者/绑定方法来观察到的，它将至少调用每个绑定/观察者两次，以确保没有更改并且所有绑定值都是稳定的。这些只是脏检查，直到每个值都被解决（在 2 次循环迭代中没有改变）。希望有帮助。

这在此处的 AngularJS 文档中进行了解释：[http ://docs.angularjs.org/api/ng.$ro​​otScope.Scope#$digest](http://docs.angularjs.org/api/ng.$rootScope.Scope#$digest)

*注意：这是 matsko 要求的我评论的副本/粘贴。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T15:14:35.483

`Apply`会一直打电话`digest`，直到确定一切都没有改变。所以 if 可能在第一次调用时有竞争条件，但第二个总是会补偿。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-10T22:41:32.280

无论如何，您都不应该使用该解决方法：如果您的状态`$scope`不确定此函数，您应该在调用堆栈上消化它更高的位置，您知道您是否被 angular 同步处理，因此不需要消化，或者如果您'正在异步修改模型，以便您可以消化它。

附带说明一下，`$scope.$apply`基本上是`$scope.$root.$digest`带有错误处理的，因此如果您要在指令中更新隔离范围，则可以通过调用`$digest`而不是来保存性能`$apply`：

```
// Somewhere in a callback
$location.path('/home');
$scope.$digest(); 
```

PS：这是为了纠正 e-satis 答案：`$digest`在范围脏时也会调用自己。

# image-processing - 查找图中的内部区域

> ID：13639727
> 
> 赞同：1
> 
> 时间：2012-11-30T05:42:57.833
> 
> 标签：image-processing, language-agnostic

假设我们有一个白色背景上的深色甜甜圈。什么是好方法，只查看任何像素的值（0 = 非白色，1 = 白色）和任何相邻像素值，以确定图像上发现的两个白色区域中的哪一个在甜甜圈内？

[![深色甜甜圈](../Images/2776bf640ab4aa8662a468beec450ddb.png)](https://i.stack.imgur.com/IGZtI.jpg)
[（来源：[123rf.com](http://us.cdn2.123rf.com/168nwm/aaronamat/aaronamat1011/aaronamat101101843/8326944-bite-chocolate-donuts-on-a-white-background.jpg)）]

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-03T06:48:49.350

在计算机图形学中，这个问题已经在几何处理的背景下得到了广泛的研究。目标是知道一个点是在多边形之外还是在多边形之外（可能带有孔），并且已用于例如颜色填充。

最常见的解决方案是从当前点沿随机方向抛出一条线（为简单起见，您可以取一条水平扫描线），并计算与边界相交的数量。如果这个数字是偶数，你在外面，如果它是奇数，你在里面。

在图像处理的上下文中，可以使用边缘查找技术（例如，Sobel 算子）来查找边界。您现在可以从给定点向右走（例如）并计算找到的边数。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-03T16:23:47.733

WhitAngl 的回答是正确的，所以我的回答只是在上下文中引入图像处理中涉及的一些问题。如果您知道这些，请为您的幼稚感到抱歉。

给定您的初始图像，由于自身检测边缘的问题，仅考虑其边缘必然会给出不正确的结果。它们可能已损坏，可能无法检测到，等等。另外，从您自己的考虑来看，我们不能简单地使用 0 = 非白色，1 = 白色。使用您的原始图像，这是这种考虑的结果：

![在此处输入图像描述](../Images/ea1a1fbb0cbd29ff822b2a5d86f3c8be.png)

如果我们假设您有一个更好的二进制表示形式：

![在此处输入图像描述](../Images/009df94f1f5a4c5c0b58a99eceeedae5.png)

然后 WhitAngl 的回答完美适用。同样，在这种情况下，答案可以简化为：如果外部边缘的黑色像素与白色像素接触，则该白色像素不是内部像素。这给出了：

![在此处输入图像描述](../Images/43bb6b84d2057f1e81d7fee1312bca21.png)

每个白色像素都在您的甜甜圈内部。

# php - 解析 URL 中“#”之后的 URL 值

> ID：13639729
> 
> 赞同：0
> 
> 时间：2012-11-30T05:43:00.120
> 
> 标签：php

我正在尝试使用 Microsoft Live Connect 进行非常简单的登录，但在解析返回的令牌时遇到问题。我称这个网址为：

`https://login.live.com/oauth20_authorize.srf?client_id=MY_CLIENT_ID&scope=wl.skydrive_update&response_type=token&redirect_uri=http%3A%2F%2FMY_SITE.com%2Fcallback.php`

它会将我带到 Microsoft 服务器，让我登录，确认权限，然后正确加载回调 URL，如下所示：

`http://MY_SITE.com/callback.php#access_token=LOTS_OF_STUFF&authentication_token=MORE_STUFF&token_type=bearer&expires_in=3600&scope=wl.skydrive_update`

现在的问题是如何获得这些令牌？我应该如何解析它？他们使用 '#' 而不是 '?'.. 所以 $_GET 为空，$_POST 为空，并且 $_SERVER['REQUEST_URI'] 不显示任何内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:09:50.507

Normally Browsers doesnt send the values after the hash sign to the server. You can process them with JavaScript on the Client side. See: [Why the hash part of the URL is not in the server side?](https://stackoverflow.com/questions/3664257/why-the-hash-part-of-the-url-is-not-in-the-server-side)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:59:14.583

不幸的是，它们返回一个哈希字符，该字符本应在客户端处理。如果您确实需要使用服务器端脚本 (PHP) 解析值，则可以使用 JavaScript 再次重定向。您可以尝试添加 JavaScript 代码，例如：

```
 window.onload = function() {
    // redirect if hash is detected
    if(window.location.hash)
    {
      var redirect_hash = window.location.hash.replace('#', '?');
      var redirect_location = 'http://' + document.domain + redirect_uri;
      window.location = redirect_location;      
    }
  } 
```

然后可以在重定向时解析查询字符串值。

# css - 缩小没有水平条

> ID：13639732
> 
> 赞同：2
> 
> 时间：2012-11-30T05:43:13.480
> 
> 标签：css

当我们使用+放大页面视图时，我们的[网站](http://www.mindef.gov.sg)出现 HTML 问题，浏览器中没有水平滚动条。`CTRL``+`

我尝试添加一个 CSS 规则`body {overflow-x:auto;}`，但是，在那之后，内容会被剪切，菜单会变得很奇怪。

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:59:12.223

您的 css 中的 html 标记中有一个“overflow-x:hidden”。删除它，你应该很高兴。它在“static.css”行号中。4.

希望这可以帮助。

# javascript - 检测存在哪些 Unicode 字形？

> ID：13639734
> 
> 赞同：7
> 
> 时间：2012-11-30T05:43:26.057
> 
> 标签：javascript, encoding, web

JavaScript/CSS/web 中有没有办法检测系统是否具有某个 Unicode 字符的有效字形？

例如，我想检测语言中的某个字符是否显示为方形框，因为用户没有显示这些 Unicode 点的字体，或者他们是否真的会看到这些字符。

# android - 如何使用片段在线性布局android中加载新内容？

> ID：13639735
> 
> 赞同：0
> 
> 时间：2012-11-30T05:43:47.523
> 
> 标签：android, android-fragments, android-linearlayout, loadview

当我们像这样在片段中加载 Webview 时：

```
private WebView viewer = null;

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        viewer = (WebView) inflater
                .inflate(R.layout.tut_view, container, false);
        return viewer;
    }

    public void updateUrl(String newUrl) {
        if (viewer != null) {
            viewer.loadUrl(newUrl);
        }
    } 
```

但我想使用线性布局而不是 webview。我试试这个，但错误出来了。

```
 private LinearLayout viewer ;
   @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
         viewer =  (LinearLayout) inflater.inflate(R.layout.tut_view, container, false);

        View fragment = inflater.inflate(R.layout.tut_view, null);
        return viewer;
    }
    public void updateUrl(String newUrl) {
        if (viewer != null) {

        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:48:37.227

您应该在 xml 文件中将 LinearLayout 作为根。此外，您不需要将膨胀视图转换为返回类型为视图。请阅读[片段规范](http://developer.android.com/guide/components/fragments.html)。

# xmlhttprequest - XMLHTTPRequest 读取本地文件不适用于所有浏览器

> ID：13639736
> 
> 赞同：2
> 
> 时间：2012-11-30T05:44:09.637
> 
> 标签：xmlhttprequest

```
<!DOCTYPE html> <html> <head> <script>
    function loadXMLDoc(url) {
        var xmlhttp;
        var txt, x, xx, i;
        if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        }
        else {// code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                txt = "<table border='1'><tr><th>Title</th><th>Artist</th></tr>";
                x = xmlhttp.responseXML.documentElement.getElementsByTagName("curriculum_item");
                for (i = 0; i < x.length; i++) {
                    txt = txt + "<tr>";
                    xx = x[i].getElementsByTagName("title");
                    {
                        try {
                            txt = txt + "<td>" + xx[0].firstChild.nodeValue + "</td>";
                        }
                        catch (er) {
                            txt = txt + "<td> </td>";
                        }
                    }
                    xx = x[i].getElementsByTagName("abstract");
                    {
                        try {
                            txt = txt + "<td>" + xx[0].firstChild.nodeValue + "</td>";
                        }
                        catch (er) {
                            txt = txt + "<td> </td>";
                        }
                    }
                    txt = txt + "</tr>";
                }
                txt = txt + "</table>";
                document.getElementById('txtCDInfo').innerHTML = txt;
            }
        }
        xmlhttp.open("GET", url, true);
        xmlhttp.send();
    } </script> </head> <body>

<div id="txtCDInfo"> <button onclick="loadXMLDoc('curriculum_materials.xml')">Get CD info</button> </div>

</body> </html> 
```

大家好，

我需要创建一个 html5 页面，它从文件中读取并在 html5 页面上显示内容。当我在 Visual Studio 上运行它时，它工作正常。

但是当我将这些复制到其他文件夹并从那里运行时，它不适用于大多数浏览器。在 IE 9、firefox 和 chrome 上尝试过。我需要把它写在 CD 上，这样当我插入 cd 时它就会自动运行。请在上面找到代码。我知道很多人都问过同样的问题，但找不到解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-10T17:18:49.273

这是 IE 的答案。我在 Win 7 Pro、IE 11 上安装了它。我从你遇到的问题开始 - 相同的问题并为 IE 工作。

```
xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
xmlhttp.open("GET", "myXMLfile.xml", false);
xmlhttp.send();
var parser = new DOMParser();
var xmlDoc = parser.parseFromString(xmlhttp.responseText, 'text/xml');

// Now this works
alert(xmlDoc.getElementsByTagName("Item")[0]); 
```

# 32bit-64bit - x32 ABI 是这个工具，如何使用它

> ID：13639737
> 
> 赞同：0
> 
> 时间：2012-11-30T05:44:24.180
> 
> 标签：32bit-64bit, 32-bit, linux-x32-abi

我需要提高 32 位应用程序的性能，所以我想转向 64 位以提高性能。但我开始了解 x32abi

下面我有一些信息链接只是我想知道这是一个工具还是它是什么

如何使用它我对链接感到困惑

[https://sites.google.com/site/x32abi/](https://sites.google.com/site/x32abi/) [在此处输入链接描述](https://sites.google.com/site/x32abi/)

[http://en.wikipedia.org/wiki/X32_ABI](http://en.wikipedia.org/wiki/X32_ABI)

[http://www.linuxplumbersconf.org/2011/ocw/sessions/531](http://www.linuxplumbersconf.org/2011/ocw/sessions/531)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T22:57:20.110

x32 不是工具。这是*一个 ABI*，它是编译器、库和操作系统之间的一种协议。这个想法是能够加速 x64 CPU 上的一些应用程序。要做到这一点，需要大量的合作。您需要构建一个特殊版本的 Linux 版本和相关工具，以便能够使用 x32 ABI 编译和运行程序。

在此处查看更多详细信息：http: [//sourceware.org/glibc/wiki/x32](http://sourceware.org/glibc/wiki/x32)

# cakephp - 将生产站点转移到本地主机现在相对路径搞砸了

> ID：13639739
> 
> 赞同：0
> 
> 时间：2012-11-30T05:44:33.337
> 
> 标签：cakephp, relative-path, directory-structure

我在本地对我的整个生产网站进行了 scp，因此我可以使用它`git`而不必担心编辑实时网站（它尚未启动，所以我只是在开发过程中一直在这样做）。

问题是，我的相对路径搞砸了。我在 OS X 上这样做，`~/bob_cobb/Sites`所以以前我只包含一个文件

`<link rel="stylesheet" type="text/css" href="css/screen.css">`

那将是相对于`/webroot/css`. 现在，同一个文件是相对于

`<link rel="stylesheet" type="text/css" href="/~bob_cobb/mywebsitefoldername/css/screen.css">`

我怎样才能解决这个问题？我需要一个符号链接还是什么？我想修复它，以便当我将它推送到我在 github 上的 repo 时，它不会在我拉生产时发生冲突。

顺便说一句，这是一个 CakePHP 站点，所以典型的目录结构如下所示：

```
|-Sites
|--mywebsitefoldername
|---app
|----webroot
|-----css
|------screen.css 
```

对于我的 CSS 和

```
|-Sites
|--mywebsitefoldername
|---app
|----View
|-----Layouts
|------default.ctp 
```

对于调用我所有脚本/css的索引文件。

我的本地用户设置`/etc/apache2/users/bob_cobb.conf`是：

```
<Directory "/Users/bob_cobb/Sites/">
  Options Indexes MultiViews
  AllowOverride None
  Order allow,deny
  Allow from all 
</Directory> 
```

如果有关系？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:50:47.160

除了其他所有内容之外，您还记得从 webroot 复制 .​​htaccess 吗？scp 默认忽略隐藏文件。

# python - Python类继承：dict如何腌制（保存，加载）

> ID：13639740
> 
> 赞同：1
> 
> 时间：2012-11-30T05:44:42.543
> 
> 标签：python, class, inheritance, dictionary, pickle

我正在玩类继承，我被困在如何腌制类字典中的数据。

如果只转储 self 的字典部分，当我将字典加载回 self 时，self 采用 dict 类型而不是类。但是，如果我腌制整个班级，则会出现错误。

### 错误

```
pickle.PicklingError: Can't pickle <class 'main.model'>: it's not the same object as main.model 
```

### 代码

```
import os, pickle

class model(dict):
    def __init__( self ):
        pass

    def add( self, id, val ): 
        self[id] = val

    def delete( self, id ):   
        del self[id]

    def save( self ): 
        print type(self)
        pickle.dump( dict(self), open( "model.dict", "wb" ) )

    def load( self ): 
        print 'Before upacking model.dic, self ==',type(self)
        self = pickle.load( open( "model.dict", "rb" ) ) 
        print 'After upacking model.dic, self ==',type(self)

if __name__ == '__main__':
    model = model()
    #uncomment after first run
    #model.load()

    #comment after first run
    model.add( 'South Park', 'Comedy Central' )
    model.save() 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T06:15:09.393

如果您想要做的只是拥有一个名为 model 的类，它是 dict 的子类，并且可以正确地腌制和解封回一个也是 model 类型的对象，那么您不必做任何特别的事情。您在示例中定义的添加和删除方法是不必要的，您可以直接在模型实例上执行它们，就像使用任何其他 dict 一样。可以使用 pickle 模块而不是类本身来完成保存和加载方法。

**代码**

```
import pickle

class model(dict):
    pass

a = model()
pickled = pickle.dumps(a)
b = pickle.loads(pickled)

print type(a), a
print type(b), b 
```

**输出**

```
<class '__main__.model'> {}
<class '__main__.model'> {} 
```

下面是另一个版本，它可能更符合您想要实现的目标。但是你不应该**这样**做。加载方法很奇怪，保存也很奇怪。我将代码放在下面以显示它可以完成，但不是您真正想要做的事情，因为它最终会变得非常混乱。

**另一个版本（不要这样做）**

```
import pickle

class model(dict):
    def save(self):
        with open("model.dict", "wb") as f:
            pickle.dump(self, f)

    def load(self): 
        with open("model.dict") as f:
            return pickle.load(f)

#comment after first run
test = model()
test['South Park'] = 'Comedy Central'
test.save()
print type(test), test

#uncomment after first run
test2 = model().load()
print type(test2), test2 
```

**延伸阅读**

可腌制的 dict 子类的一个很好的例子是[collections.OrderedDict](http://docs.python.org/2/library/collections.html#collections.OrderedDict)。它是 python 标准库的一部分，并在 python 中实现，因此您可以在源代码处获得峰值。定义是 172 行代码，所以没有太多的代码可以浏览。它还必须实现`__reduce__`实现酸洗的方法，因为它具有有关也需要酸洗和解酸的项目顺序的信息。这是一个很好的例子，说明了为什么您可能想要创建自己的 dict 子类，它添加了非常有用的特性，即尊重添加到 dict 的值的顺序。

# php - 我想通过 URL 限制对某些 Web 目录的访问

> ID：13639746
> 
> 赞同：0
> 
> 时间：2012-11-30T05:45:40.433
> 
> 标签：php, zend-framework2

我正在使用 zend framework-2 做项目。我想通过 URL 限制对某些 Web 目录的访问（如果用户没有登录）。如果用户尝试登录，我需要重定向登录页面。这就是我所做的（粗略的想法不是代码）。

授权控制器

```
 if(username and password ok){
     setcookie('username', $username);
     setcookie('password', $password);

     //redirect to AlbumController indexAction
     return $this->redirect()->toRoute('album', array('controller' => 'album', 'action' => 'index'));
  } 
```

所以在 AlbumControler 我添加了这段代码

```
public function indexAction()
{        
    if(isset ($_COOKIE['username']) && isset ($_COOKIE['password'])){
        //some codes
    }
    else{
        //if user not logged redirect to loogin page 
        return $this->redirect()->toRoute('auth', array('controller' => 'auth', 'action' => 'index'));
    }
} 
```

所以如果我使用这种方式，我需要在每个动作中添加上面的代码。所以我的问题是这样可以吗？还是他们这样做的简单方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:03:57.467

作为实际问题的答案，你可以在你的控制器构造中做到这一点......像这样......

```
namespace Application\Controller;

use Zend\Mvc\Controller\AbstractActionController;
use Zend\View\Model\ViewModel;

class IndexController extends AbstractActionController {

    public function __construct() {
        $session = new \Zend\Session\Container('auth');
        if ( !isset($session->name) || !is_string($session->name) ) {
            echo "The following is not set:".$session->name; 
            header('Location: /user/login');
            exit();
        }
    } 
```

但正如之前的海报所指出的，cookie 真的不适合用于这样的事情。这是一个非常通用的示例，尽管 exit(); 从这个意义上说，部分非常重要，因为您想杀死脚本以不显示任何数据，以防用户在浏览器上点击转义。出口（）; 基本上会杀死并且不显示任何东西。

# jquery - JQuery 按类查找下一个项目

> ID：13639750
> 
> 赞同：1
> 
> 时间：2012-11-30T05:45:59.157
> 
> 标签：jquery, asp.net-mvc

我在文本输入旁边有一堆单选按钮。当单选按钮状态改变时，我运行一个方法来获取所有带有“.IdPassportRadioButton”类的单选按钮。对于每个单选按钮，我想找到下一个文本输入，并根据单选按钮启用或禁用该输入。

HTML 如下所示：

```
<div class="editor-container" style="">
        <div class="editor-label">
            <%=Html.RadioButtonFor(m => m.IsPassport, false, 
                                        new { @class = "IdPassportRadioButton" })%>
            ID Number
        </div>
        <div class="editor-field">
            <%=Html.TextBoxFor(m => m.IdentityNumber, 
                                   new { @class = "textbox IdPassportTextBox"})%>
        </div>
    </div> 
```

jQuery方法：

```
$(".IdPassportRadioButton").each(function() {
        if ($(this).is(":checked")) {
            $(this).next(".IdPassportTextBox").removeAttr("disabled");
        } else {
            $(this).next(".IdPassportTextBox").attr("disabled", "disabled");
            }
    }); 
```

如您所见，我尝试按“.IdPassportTextBox”类查找下一个文本框，但这不起作用。一切正常，除了获取下一个文本框的行。

有什么建议么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:47:57.683

您可以将[**最接近（）**](http://api.jquery.com/closest/)与选择器一起使用`"editor-container"`以访问`parent of TextBox`带有类 IdPassportTextBox 并使用[**find()**](http://api.jquery.com/find/)与选择器`".IdPassportTextBox"`方法来访问文本框。

```
$(".IdPassportRadioButton").each(function() {
    if ($(this).is(":checked")) {
        $(this).closest(".editor-container").find(".IdPassportTextBox").removeAttr("disabled");
    } else {
        $(this).closest(".editor-container").find(".IdPassportTextBox").attr("disabled", "disabled");
        }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:05:26.827

使用 jQuery '.Parent()' 方法来获取封闭的 'editor-container'，然后从中选择 'IdPassportTextbox'。

# asp.net - IIS 上后台线程的空闲超时

> ID：13639755
> 
> 赞同：2
> 
> 时间：2012-11-30T05:47:02.200
> 
> 标签：asp.net, iis

IIS 版本：7.5，ApplicationPool 的空闲超时：20 分钟。

步骤： 1\. 用户访问一个页面。2.服务器收到请求后，代码创建一个新线程来处理复杂的操作。同时，向用户发送响应，说明请求在后台处理。

20 分钟后（没有访问该站点），工作进程被关闭。复杂的操作还没有完成。

如果thead正在运行，如何让iis知道工作进程不是空闲的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-07-27T19:02:43.463

我遇到了同样的问题，目前发现最好的解决方案只是从 IIS 工作线程向 IIS 本身创建新请求，以避免后台线程关闭。

# ruby - 为什么这段代码不在 ruby 1.9 上编译，而是在 ruby 1.8 上编译？

> ID：13639757
> 
> 赞同：7
> 
> 时间：2012-11-30T05:47:04.533
> 
> 标签：ruby, ruby-1.9, ruby-1.8

对不起标题，我不知道这个语法是怎么调用的。

例如：

```
ary = [ [11, [1]], [22, [2, 2]], [33, [3, 3, 3]] ]
# want to get [ [11, 1], [22, 2], [33, 3] ] 
```

红宝石 1.8

```
ary.map{|x, (y,)| [x, y] }
#=> [[11, 1], [22, 2], [33, 3]]

ary.map{|x, (y)| [x, y] }
#Syntax error, unexpected '|', expecting tCOLON2 or '[' or '.'
#ary.map{|x, (y)| [x, y] }
#                ^ 
```

红宝石 1.9

```
ary.map{|x, (y,)| [x, y] }
#SyntaxError: (irb):95: syntax error, unexpected ')'
#ary.map{|x, (y,)| [x, y] }
#                ^

ary.map{|x, (y)| [x, y] }
#=> [[11, 1], [22, 2], [33, 3]] 
```

※*我不是在寻求获得想要的数组的方法。*

我想知道**为什么这段代码可以工作是 Ruby 的版本之一，而不是两者**。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T06:56:01.173

虽然与以前的版本相比，Ruby 1.9 通常对列表中的尾随逗号和类似列表的表示形式更为宽松，但在某些新情况下它会引发语法错误。这似乎是一个。Ruby 1.9 将其严格地视为方法定义，并且不允许使用杂散逗号。

您似乎还遇到了 Ruby 1.8.7 中已更正的边缘情况错误。列表扩展方法似乎不适用于仅一项。

在这种情况下，快速修复可能是：

```
ary.map{|x, (y,_)| [x, y] } 
```

在这种情况下`_`，函数作为*任何*变量。

在这两个版本中，您应该得到：

```
[[11, 1], [22, 2], [33, 3]] 
```

# security - 我们如何映射用户的登录和注销事件

> ID：13639759
> 
> 赞同：0
> 
> 时间：2012-11-30T05:47:22.603
> 
> 标签：security, active-directory, event-log

我对事件 4624（登录）和 4634（注销）有一些了解。正如微软的文档所暗示的，我们可以将这些事件与 logonid 关联起来。

```
 Here my question is, is there any other efficient way to do this?

  Because my need would be, I have to read events for last 30 days, and correlate logon and logonoff events to find the logon duration. 
```

根据文档，logonid 在同一台计算机上的重新启动之间是唯一的。因此在此期间（过去 30 天），可能会多次重启计算机。所以我怀疑，在我们分析过去 30 天的事件时，logonid 可能存在重复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-02T17:46:54.150

如果您想跟踪登录和注销事件，我建议使用将这些信息写入数据库的登录和注销脚本。使用这种方法，您不需要解析事件日志（在所有服务器上）。

# php - 在某些情况下不能写 Session 变量？

> ID：13639763
> 
> 赞同：1
> 
> 时间：2012-11-30T05:47:50.783
> 
> 标签：php, html, session, session-variables

由于某种原因，会话不会保存变量。但是当浏览器重新启动时，它会纠正错误。为什么是这样？这是警告...警告：未知：无法写入会话数据（文件）。请在第 0 行 Unknown 中验证 session.save_path 的当前设置是否正确 ()

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T05:53:20.153

这是因为 $_SESSION 变量由 PHP 设置的浴 session.save_path。通过使用`phpinfo()`，您可以查看该信息。您可以通过设置路径来修复此错误，该路径通常已在 linux 机器上设置。只需简单地包括`session_save_path(“/tmp”);`在你之前`session_start()`，这应该可以解决这个错误......

# mysql - 在 IF 语句 MySQL 中调用存储过程

> ID：13639767
> 
> 赞同：0
> 
> 时间：2012-11-30T05:47:57.963
> 
> 标签：mysql, stored-procedures

有人知道这是否允许吗？

```
IF CALL GET_RIGHT_NODE(edge) = 15
THEN
SELECT "IT WORKS"; 
```

我在这种语法上遇到错误，还有其他方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T05:57:10.060

存储过程的返回值应该在 OUT 参数中捕获（而来自用户定义函数的返回值可以捕获为`@returnValue = function()`）。

因此，您`GET_RIGHT_NODE`应该采用 OUT 参数并将其设置为返回值。

```
CREATE PROCEDURE GET_RIGHT_NODE
(
     @edge INT,
     @returnValue INT OUTPUT
)
AS

-- Definition of the proc. 
```

那么您将按如下方式调用该过程：

```
DECLARE @returnValue INT

CALL GET_RIGHT_NODE(@edge, @returnValue)

IF (@returnValue = 15)
THEN
    SELECT 'IT WORKS' 
```

# .htaccess - 尝试将目录重定向到 https 但返回时获得双 URL 段

> ID：13639770
> 
> 赞同：0
> 
> 时间：2012-11-30T05:48:06.637
> 
> 标签：.htaccess, ssl, https, expressionengine

我正在尝试将我网站上的一个目录重定向到 https。该目录根本不是真正的目录，因为该站点是动态的。我使用 ExpressionEngine 作为 CMS。

我的 .htaccess 文件中已经有几行来删除 index.php ExpressionEngine 添加到其所有网址的内容。

这是我所拥有的：

```
<IfModule mod_rewrite.c>
        RewriteEngine On

RewriteCond %{SERVER_PORT} 80
RewriteCond %{REQUEST_URI} store 
RewriteRule ^(.*)$ https://mysite.com/store/$1 [R,L]

        # Removes index.php
        RewriteCond $1 !\.(gif|jpe?g|png)$ [NC]
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule ^(.*)$ /index.php?/$1 [L]

</IfModule> 
```

当我访问[http://mysite.com/store/](http://mysite.com/store/)时，它会返回[https://mysite.com/store/store/](https://mysite.com/store/store/)。

我认为这可能与以下几点有关：

```
 RewriteRule ^(.*)$ /index.php?/$1 [L] 
```

上面的行在 index.php 之后有一个问号，因为我收到“无输入文件”错误，这是推荐的修复方法。

有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:36:21.370

这一行在这里：

```
RewriteCond %{REQUEST_URI} store 
```

`!`在“store”前面应该有一个：

```
RewriteCond %{REQUEST_URI} !store 
```

因为*如果*URI 已经是`/store`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-01T20:52:08.323

编辑了这一行：

```
RewriteRule ^(.*)$ https://mysite.com/store/$1 [R,L] 
```

读书：

```
RewriteRule ^(.*)$ https://mysite.com/$1 [R,L] 
```

现在它起作用了。这是完整的代码：

```
<IfModule mod_rewrite.c>
        RewriteEngine On

        RewriteCond %{SERVER_PORT} 80
        RewriteCond %{REQUEST_URI} store 
        RewriteRule ^(.*)$ https://mysite.com/$1 [R,L]

        # Removes index.php
        RewriteCond $1 !\.(gif|jpe?g|png)$ [NC]
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule ^(.*)$ /index.php?/$1 [L]

</IfModule> 
```

# android - 通过android画廊裁剪方法裁剪可绘制图像

> ID：13639773
> 
> 赞同：2
> 
> 时间：2012-11-30T05:48:10.907
> 
> 标签：android, imageview, crop

单击我的 Imageview 时，我想通过 android 库的默认裁剪技术裁剪位于我的应用程序的可绘制文件夹中的 imageview 的背景图像，并且裁剪后的图像在裁剪后应设置为相同。

```
@Override
public void onClick(View v) {
    // TODO Auto-generated method stub
    final Intent intent = new Intent("com.android.camera.action.CROP");
    intent.setDataAndType(Uri.parse("android.resource://com.example.croppingactivity/drawable/apple"), "image/*");
    intent.putExtra("outputX", 400);
    intent.putExtra("outputY", 400);
    intent.putExtra("aspectX", 1);
    intent.putExtra("aspectY", 1);
    intent.putExtra("scale", true);
    intent.putExtra("crop", true);
    //intent.putExtra("output", Uri.parse("android.resource://com.example.croppingactivity/drawable/apple"));
    startActivityForResult(intent, 1);
} 
```

这是我的堆栈跟踪。

```
12-04 10:21:28.812: E/AndroidRuntime(2553): FATAL EXCEPTION: main
12-04 10:21:28.812: E/AndroidRuntime(2553): android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.GET_CONTENT dat=android.resource://com.example.croppingactivity2130837504 typ=image/* (has extras) }
12-04 10:21:28.812: E/AndroidRuntime(2553):     at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1622)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at android.app.Instrumentation.execStartActivity(Instrumentation.java:1417)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at android.app.Activity.startActivityForResult(Activity.java:3370)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at android.app.Activity.startActivityForResult(Activity.java:3331)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at com.example.croppingactivity.MainActivity$1.onClick(MainActivity.java:52)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at android.view.View.performClick(View.java:4202)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at android.view.View$PerformClick.run(View.java:17340)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at android.os.Handler.handleCallback(Handler.java:725)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at android.os.Handler.dispatchMessage(Handler.java:92)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at android.os.Looper.loop(Looper.java:137)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at android.app.ActivityThread.main(ActivityThread.java:5039)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at java.lang.reflect.Method.invokeNative(Native Method)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at java.lang.reflect.Method.invoke(Method.java:511)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
12-04 10:21:28.812: E/AndroidRuntime(2553):     at dalvik.system.NativeStart.main(Native Method) 
```

但它不起作用。我得到活动未找到异常。我做错了什么请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T08:08:39.973

嗯，这是我用来做这种事情的代码。也许你可以试试：

```
final Intent intent = new Intent();
intent.setAction(Intent.ACTION_GET_CONTENT);
intent.setType("image/*");

intent.putExtra("crop", "true");

intent.putExtra("aspectX", 1);
intent.putExtra("aspectY", 1);

intent.putExtra("outputX", 400);
intent.putExtra("outputY", 400);
// Scale the image down to 400 x 400
intent.putExtra("scale", true);

intent.putExtra("windowTitle", "My_title");
    // You need to use a temporary file for cropping to work
    File tempFile = File.createTempFile("crop", "png",
              myActivity.getCacheDir());
mSavedUri = Uri.fromFile(tempFile);
intent.putExtra("output", mSavedUri);
intent.putExtra("outputFormat", "PNG");

profileActivity.startActivityForResult(intent, INTENT_PICK_PICTURE); 
```

我想你必须`intent.setType(...)`改为`intent.setDataAndType(Uri.parse("android.resource://..."), "image/*")`

# javascript - 如何解析来自 Bigquery 结果的 json 响应？

> ID：13639779
> 
> 赞同：4
> 
> 时间：2012-11-30T05:48:43.597
> 
> 标签：javascript, jquery, google-bigquery, bigdata

我尝试了示例 javascript 代码来调用 Google bigQuery API ( [https://developers.google.com/bigquery/docs/authorization#client-side-javascript](https://developers.google.com/bigquery/docs/authorization#client-side-javascript) )

**JS：**

```
function runQuery() {
   var request = gapi.client.bigquery.jobs.query({
      'projectId': project_id,
      'timeoutMs': '30000',
      'query': 'SELECT TOP(repository_language, 5) as language, COUNT(*) as count FROM [publicdata:samples.github_timeline] WHERE repository_language != "";'
    });
    request.execute(function(response) {     
        console.log(response);
        var results = response.result.rows ;
        $('#result_box').html(JSON.stringify(results, null));
    });
} 
```

以上大查询**返回**：

```
[{"f":[{"v":"JavaScript"},{"v":"949899"}]},{"f":[{"v":"Ruby"},{"v":"640659"}]},{"f":[{"v":"Java"},{"v":"568202"}]},{"f":[{"v":"Python"},{"v":"484852"}]},{"f":[{"v":"PHP"},{"v":"453830"}]}] 
```

请帮助我如何以 JSON 格式解析上述结果中的值？

```
{"JavaScript": "949899", "Ruby": "640659", "Java": "568202", "Python": "484852", "PHP": "453830" } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T06:25:55.670

评估是一种安全风险。

```
var text = '[{"f":[{"v":"JavaScript"},{"v":"949899"}]},{"f":[{"v":"Ruby"},{"v":"640659"}]},{"f":[{"v":"Java"},{"v":"568202"}]},{"f":[{"v":"Python"},{"v":"484852"}]},{"f":[{"v":"PHP"},{"v":"453830"}]}]';
myData = JSON.parse(text);
alert(myData[4].f[0].v);​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:05:26.353

[http://jsfiddle.net/jv7vm/](http://jsfiddle.net/jv7vm/)

```
var a='[{"f":[{"v":"JavaScript"},{"v":"949899"}]},{"f":[{"v":"Ruby"},{"v":"640659"}]},{"f":[{"v":"Java"},{"v":"568202"}]},{"f":[{"v":"Python"},{"v":"484852"}]},{"f":[{"v":"PHP"},{"v":"453830"}]}]';

var evala=eval('('+a+')');

for(i=0;i<evala.length;i++)
{
document.write(evala[i].f[0].v+' '+evala[i].f[1].v+'<br>');
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T06:49:22.093

从下面的javascript得到答案

```
var total = response.result.totalRows;
var data = [];
for(i=0; i < total; i++){
            data[i]= [ response.rows[i].f[0]["v"], response.rows[i].f[1]["v"] ];
        }

 console.log(data); 
```

# c# - 如何设置 DevExress XtraGridControl Keyfieldname 并在后面的代码中使用它

> ID：13639782
> 
> 赞同：1
> 
> 时间：2012-11-30T05:49:02.183
> 
> 标签：c#, winforms, xtragrid

我正在开发基于 Windows 的应用程序，在我的一种形式中，我有 DevExpress XtraGrid 控件，带有 CheckBox 列和 Name 列，因此用户可以检查他们想要的主题并保存它们。

这是屏幕截图：

![在此处输入图像描述](../Images/c91459d79e89ffbef956aca1fa429317.png)

首先，我想知道如何设置 GridControl 的 KeyFieldName（如在 Aspx GridView 中），因为我在属性中找不到它。其次，当我的用户选择一些行并单击“添加”按钮时，我想通过 KeyField 将所有选定的行转换为 XML 并将其保存到 DB。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:13:53.360

女贞！试试这个：

```
DataRow row = gridView2.GetDataRow(gridView2.FocusedRowHandle); 
```

看看这里：[http ://documentation.devexpress.com/#WindowsForms/CustomDocument753](http://documentation.devexpress.com/#WindowsForms/CustomDocument753)

```
for(int i = view.SelectedRowsCount - 1; i >= 0; i--) {
    int row = view.GetSelectedRows()[i];
    // your code here
} 
```

或出口选择，看这里： http: [//www.devexpress.com/Support/Center/p/E4352.aspx](http://www.devexpress.com/Support/Center/p/E4352.aspx)

这是示例： **Form1.cs**

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace WindowsFormsApplication1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            DataTable dt = new DataTable("table1");
            dt.Columns.Add("ID", Type.GetType("System.Int32"));
            dt.Columns.Add("CHECK", Type.GetType("System.Boolean"));
            dt.Columns.Add("DAY");
            for (int i = 0; i < 10; i++)
                dt.Rows.Add(new object[] {i, false, "Option " + i});
            gridControl1.DataSource = dt;
        }

        /// <summary>
        /// Extract checked rows
        /// </summary>
        private void simpleButton1_Click(object sender, EventArgs e)
        {
            memoEdit1.Text = string.Empty;
            StringBuilder sb = new StringBuilder();
            foreach (var row in ((DataTable)gridControl1.DataSource).AsEnumerable().Where(row => (bool)row["CHECK"]))
                sb.Append(String.Format("{0}, {1}, {2}\r\n", row["ID"], row["CHECK"], row["DAY"]));
            memoEdit1.Text = sb.ToString();
        }

        /// <summary>
        /// Extract selected rows
        /// </summary>
        private void simpleButton2_Click(object sender, EventArgs e)
        {
            memoEdit1.Text = string.Empty;
            StringBuilder sb = new StringBuilder();
            foreach (int rowIndex in gridView1.GetSelectedRows())
            {
                DataRow row = gridView1.GetDataRow(rowIndex);
                sb.Append(String.Format("{0}, {1}, {2}\r\n", row["ID"], row["CHECK"], row["DAY"]));
            }
            memoEdit1.Text = sb.ToString();
        }

    }
} 
```

**Form1.Designer.cs**

```
namespace WindowsFormsApplication1
{
    partial class Form1
    {
        private System.ComponentModel.IContainer components = null;  
        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }

        #region designer

        private void InitializeComponent()
        {
            this.gridControl1 = new DevExpress.XtraGrid.GridControl();
            this.gridView1 = new DevExpress.XtraGrid.Views.Grid.GridView();
            this.gridColumn1 = new DevExpress.XtraGrid.Columns.GridColumn();
            this.repositoryItemCheckEdit1 = new DevExpress.XtraEditors.Repository.RepositoryItemCheckEdit();
            this.gridColumn2 = new DevExpress.XtraGrid.Columns.GridColumn();
            this.simpleButton1 = new DevExpress.XtraEditors.SimpleButton();
            this.simpleButton2 = new DevExpress.XtraEditors.SimpleButton();
            this.memoEdit1 = new DevExpress.XtraEditors.MemoEdit();
            ((System.ComponentModel.ISupportInitialize)(this.gridControl1)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.gridView1)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.repositoryItemCheckEdit1)).BeginInit();
            ((System.ComponentModel.ISupportInitialize)(this.memoEdit1.Properties)).BeginInit();
            this.SuspendLayout();
            // 
            // gridControl1
            // 
            this.gridControl1.Location = new System.Drawing.Point(13, 13);
            this.gridControl1.MainView = this.gridView1;
            this.gridControl1.Name = "gridControl1";
            this.gridControl1.RepositoryItems.AddRange(new DevExpress.XtraEditors.Repository.RepositoryItem[] {
            this.repositoryItemCheckEdit1});
            this.gridControl1.Size = new System.Drawing.Size(350, 329);
            this.gridControl1.TabIndex = 0;
            this.gridControl1.ViewCollection.AddRange(new DevExpress.XtraGrid.Views.Base.BaseView[] {
            this.gridView1});
            // 
            // gridView1
            // 
            this.gridView1.Columns.AddRange(new DevExpress.XtraGrid.Columns.GridColumn[] {
            this.gridColumn1,
            this.gridColumn2});
            this.gridView1.GridControl = this.gridControl1;
            this.gridView1.Name = "gridView1";
            this.gridView1.OptionsSelection.MultiSelect = true;
            // 
            // gridColumn1
            // 
            this.gridColumn1.Caption = "gridColumn1";
            this.gridColumn1.ColumnEdit = this.repositoryItemCheckEdit1;
            this.gridColumn1.FieldName = "CHECK";
            this.gridColumn1.Name = "gridColumn1";
            this.gridColumn1.Visible = true;
            this.gridColumn1.VisibleIndex = 0;
            // 
            // repositoryItemCheckEdit1
            // 
            this.repositoryItemCheckEdit1.AutoHeight = false;
            this.repositoryItemCheckEdit1.Name = "repositoryItemCheckEdit1";
            // 
            // gridColumn2
            // 
            this.gridColumn2.Caption = "gridColumn2";
            this.gridColumn2.FieldName = "DAY";
            this.gridColumn2.Name = "gridColumn2";
            this.gridColumn2.Visible = true;
            this.gridColumn2.VisibleIndex = 1;
            // 
            // simpleButton1
            // 
            this.simpleButton1.Location = new System.Drawing.Point(369, 12);
            this.simpleButton1.Name = "simpleButton1";
            this.simpleButton1.Size = new System.Drawing.Size(75, 23);
            this.simpleButton1.TabIndex = 1;
            this.simpleButton1.Text = "Checked >>";
            this.simpleButton1.Click += new System.EventHandler(this.simpleButton1_Click);
            // 
            // simpleButton2
            // 
            this.simpleButton2.Location = new System.Drawing.Point(369, 41);
            this.simpleButton2.Name = "simpleButton2";
            this.simpleButton2.Size = new System.Drawing.Size(75, 23);
            this.simpleButton2.TabIndex = 2;
            this.simpleButton2.Text = "Selected >>";
            this.simpleButton2.Click += new System.EventHandler(this.simpleButton2_Click);
            // 
            // memoEdit1
            // 
            this.memoEdit1.Location = new System.Drawing.Point(450, 11);
            this.memoEdit1.Name = "memoEdit1";
            this.memoEdit1.Size = new System.Drawing.Size(299, 331);
            this.memoEdit1.TabIndex = 3;
            // 
            // Form1
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.ClientSize = new System.Drawing.Size(964, 665);
            this.Controls.Add(this.memoEdit1);
            this.Controls.Add(this.simpleButton2);
            this.Controls.Add(this.simpleButton1);
            this.Controls.Add(this.gridControl1);
            this.Name = "Form1";
            this.Text = "Form1";
            this.Load += new System.EventHandler(this.Form1_Load);
            ((System.ComponentModel.ISupportInitialize)(this.gridControl1)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.gridView1)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.repositoryItemCheckEdit1)).EndInit();
            ((System.ComponentModel.ISupportInitialize)(this.memoEdit1.Properties)).EndInit();
            this.ResumeLayout(false);
        }

        #endregion

        private DevExpress.XtraGrid.GridControl gridControl1;
        private DevExpress.XtraGrid.Views.Grid.GridView gridView1;
        private DevExpress.XtraGrid.Columns.GridColumn gridColumn1;
        private DevExpress.XtraEditors.Repository.RepositoryItemCheckEdit repositoryItemCheckEdit1;
        private DevExpress.XtraGrid.Columns.GridColumn gridColumn2;
        private DevExpress.XtraEditors.SimpleButton simpleButton1;
        private DevExpress.XtraEditors.SimpleButton simpleButton2;
        private DevExpress.XtraEditors.MemoEdit memoEdit1;
    }
} 
```

# hadoop - 使用 org.apache.hadoop.mapred.mapper 接口实现“in mapper”设计模式

> ID：13639785
> 
> 赞同：0
> 
> 时间：2012-11-30T05:49:09.773
> 
> 标签：hadoop, mapreduce

我正在实现一些 hadoop 应用程序。我的编码部分几乎完成了。但是想在阅读“Lin & Chris Dryer”的映射器设计模式书后改进编码器。至于这种方法的有效实现，需要在 map 函数中保留状态一段确定的时间，然后发出结果。因为这可以通过将一些数据结构作为映射器类中的成员变量然后在清理方法中发出来轻松实现。上面的实现在“org.apache.hadoop.mapreduce.mapper”接口下是可行的。

但实际上我无法在我的系统中设置新的hadoop api，所以使用没有“mapdreduce”包的hadoop0.18，而是使用“mapred”映射器接口来实现没有的map函数任何清理方法，如“mapredcue.mapper”。映射器设计模式中的这个仍然可以在旧接口中实现吗？虽然它有一个“关闭”方法，但此方法不提供任何参数或工具，以便您可以发出您的键值对。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T11:44:41.200

您仍然可以使用旧 API 进行设置和清理。

您的映射器需要实现可配置接口（或扩展已配置）。在这种情况下，当在 MapRunner 中创建映射器类时（通过 ReflectionUtils.newInstance 方法），将调用 setConf(Configuration) 方法传递 Job 配置。新旧 API 之间的区别 - 您无权访问旧 API 中的 OutputCollector（作为新 API，您被传递了 Context）

最后，当所有记录都传递给 map 方法时，MapRunner 会调用 mapper 的 close 方法（类似于新 API 的 cleanup 方法）。同样，您无权访问 OutputCollector，因此如果需要，您需要在 map 方法中创建对它的引用。

# xml - 基本 XML 编辑和保存

> ID：13639786
> 
> 赞同：-1
> 
> 时间：2012-11-30T05:49:20.447
> 
> 标签：xml, notepad++, powerpivot

我已经看到了一种解决方法，它允许用户在 PowerPivot 中批量创建 DAX 度量，但是我正在努力成功编辑然后保存有问题的 XML 文件。

基本上我在 IE 中打开 XML 文件，然后将代码复制并粘贴到 Notepad++ 中，然后在将文件作为“item211.xml”保存到我的桌面之前对代码进行必要的添加。问题是，如果我尝试打开我创建的文件，我在浏览器中什么也看不到，而且我的新文件比原始文件小得多。

我错过了一些非常简单的东西吗？

问候雅各布

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T05:52:48.143

提示：在 Notepad++ 中打开 XML 文件，并用 Notepad++ 保存，以后再也不要使用 IE。

# asp.net-mvc - 带有散列密码的 ActiveDirectoryMembershipProvider.ValidateUser

> ID：13639790
> 
> 赞同：1
> 
> 时间：2012-11-30T05:49:50.127
> 
> 标签：asp.net-mvc, active-directory, asp.net-membership

我有一个 ASP.NET MVC Web 应用程序，它要求用户通过验证 ActiveDirectoryMembershipProvider 使用他们的域用户名和密码登录。

登录时，我使用 ValidateUser(username, password) 来验证用户的凭据，然后设置表单身份验证 cookie，以便在以后的请求中不再要求用户输入他们的用户名和密码

```
FormsAuthentication.SetAuthCookie(m.Username, true); 
```

这很好，但我需要定期重新验证用户以确保他们的域密码没有更改，并且我不希望他们再次输入他们的凭据。

这样做的一种方法是将用户的密码以纯文本形式存储在会话对象中，或者可能先对其进行加密，然后再对其进行解密。然后我可以再次调用 ValidateUser，并在必要时将用户注销。

在我推出自己的身份验证的其他网络应用程序中，我只需存储用户密码的哈希值并将其与存储在数据库中的哈希值进行比较。

ActiveDirectoryMembershipProvider 上似乎没有一个方法可以让我这样做。

在这里做什么是合乎逻辑的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-02T12:00:20.317

答案是定期（每 30 分钟左右）检查 User.IsApproved 和 User.LastPasswordChangedDate 以确保用户凭据仍然有效。

为此，您需要手动创建 FormsAuthenticationTicket 和 cookie，而不是使用 FormsAuthentication.SetAuthCookie。

将验证用户的日期放在 UserData 中，并将其与 LastPasswordChangedDate 进行比较。

我已经实现了这一点，并且效果很好。

更多信息在这里

[检查 Active Directory 密码是否与 cookie 不同](https://stackoverflow.com/questions/12804625/check-if-active-directory-password-is-different-from-cookie)

# jquery - JQuery UI ButtonSet 工具提示

> ID：13639796
> 
> 赞同：2
> 
> 时间：2012-11-30T05:50:19.807
> 
> 标签：jquery, html, jquery-ui

是否有任何标准方法可以为按钮集中的每个单选按钮添加工具提示？

```
<span id="tools">
    <input type="radio" id="feature1" name="tool" title="feature 1"><label for="feature1">Tool 1</label>
    <input type="radio" id="feature2" name="tool" title="feature 2"><label for="feature2">Tool 2</label>
</span> 
```

和脚本：

```
$('#tools').buttonset(); 
```

我已经为每个输入添加了标题，但没有任何工具提示。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T06:00:26.810

你可以使用这样的东西

```
$(function() {
    ​$('label').each(function() {
        var radio = $(this).prop('for')​​​​​​​​;
        $(this).prop('title',$('#' + radio).prop('title'));
    });
}); 
```

​ 它所依赖的只是 jQuery，每个标签的 for 属性都是正确的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-23T19:03:50.543

您可以简单地将标题属性移动到标签。

# css - 如何使用 Twitter Bootstrap 在 TD 中垂直对齐按钮、文本和输入文本字段

> ID：13639797
> 
> 赞同：5
> 
> 时间：2012-11-30T05:50:38.307
> 
> 标签：css, codeigniter, twitter-bootstrap

```
<tr>
  <td colspan="3">
        With Selected: 
    <select name="action" id="group_action" class="span2">
      <option value="">--Choose--</option>
      <option value="delete">Delete</option>
      <option value="add_to">Add To</option>
    </select> 
    <select name="group" id="group">
      <option value="">--Choose--</option>
    <?php foreach($groups as $group){ ?>
  <option value="<?php echo $group->id?>"><?php echo $group->name?></option>
  <?php } ?>
  </select> 
    <button name="group_action" class="btn">Submit</button>
  </td>

</tr> 
```

我已经尝试`style="vertical-align:middle", valign="middle"`过TD，但它不起作用

这是它的样子：[http ://ge.tt/1Klf2dS/v/0?c](http://ge.tt/1Klf2dS/v/0?c)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-30T06:01:44.847

Twitter bootstrap 将向`margin-bottom: 10px`大多数表单元素添加 a，但不会向`<button>`元素添加。如果放置在表格的单行中，这将导致您的 HTML 元素看起来奇怪地对齐。

您可以从元素中删除 margin-bottom，或者将其添加到其他元素。

看看这个例子：

[http://jsbin.com/ezunom/1/edit](http://jsbin.com/ezunom/1/edit)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-26T07:24:33.110

由于您询问的是 Twitter Bootstrap，并且您的代码似乎是表单的一部分（请原谅冗余），将“form-horizo​​ntal”类添加到表单应该可以解决您的对齐问题：

```
<form class="form-horizontal">
</form> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T06:03:39.067

用这个

```
 style="Margin-top:-10px;" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-12T07:49:44.937

这是这类标签的诀窍，;)

`.checkbox`在标签中添加一个

> ```
> <label class="col-sm-4 checkbox">Cinsiyet</label> 
> ```

该课程不会造成任何伤害，只需根据需要添加边距

# windows-7 - 安装和创建 SQL Server 2012 实例

> ID：13639800
> 
> 赞同：3
> 
> 时间：2012-11-30T05:50:51.433
> 
> 标签：windows-7, sql-server-2012, failed-installation

我正在运行`SQLManagementStudio_x86_2012_ENU.exe`安装 SQL Server 2012。我遇到了一个问题，我被它挂了太久了。

我在 SO 中看到了同样的问题，他们为此提供了解决方案。我也解决了这个问题，但在中途再次卡住了。所以我要再问一次（不是垃圾邮件）

问题：当我运行上面提到的 exe 时，它​​安装得很好，然后我尝试创建一个服务器实例。我 `SQL Server Installation Center`在配置工具中使用。然后我选择了新的 SQL Server，它要求我选择`SQL Server Installation Media`. 我选择`C:\Program Files (x86)\Microsoft SQL Server`了，但它无效。

然后我发现它要求安装媒体本身。所以我将 .exe 文件提取到一个文件夹并选择了该路径。这被视为有效媒体。我参考了这个[链接](https://stackoverflow.com/questions/6569508/problem-in-sql-server-2008-installation)。

有些人提到这是[这里](http://social.msdn.microsoft.com/Forums/en-IE/sqlgetstarted/thread/33153123-493e-4bfa-89a3-180c481b5fe4)的一个错误。

![在此处输入图像描述](../Images/5ba593210b683a2e8028060f053dfa93.png)

当我单击下一步时，它会出现以下错误。这样我就无法继续并创建一个实例。有人可以帮我解决这个问题。

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-12T17:17:24.227

我已经尝试了很多事情来解决这个问题。正如您在图片中看到的，只有 2 个复选框已被选中和禁用。这不是要运行的正确 .exe 文件（我无法使用它创建服务器实例）。[我从这里](http://msdn.microsoft.com/en-us/evalcenter/hh230763.aspx)下载了正确的 SQL 服务器安装文件。

有几个 .exe 文件可提供不同的功能增强。我选择了带有大约 1GB 工具的 SQL Server。我不必卸载现有的 sql server 安装。我安装了它，它运行良好。如果我找到一种从给定安装中创建 SQL 服务器的方法，我会回帖。如果您遇到与上述相同的问题，很可能您使用了错误的 .exe 文件。

祝你修复好运。

# java - 多重继承问题

> ID：13639801
> 
> 赞同：0
> 
> 时间：2012-11-30T05:51:05.427
> 
> 标签：java, android

我正在开发一个应用程序，其中包含 2 个带有 Fragment.each 选项卡类`AssetsMapFragment`和`AssetsListFragment`扩展`SherlockFragment`类的选项卡，现在我需要在这两个选项卡类中扩展 MapActivity，但根据 Java 不支持多重继承。还有另一种带有接口的解决方案，我可以制作接口并用它实现。但是我的 MapActivity 不是接口，所以我不能这样做。那么您能否针对这种情况提供一些替代解决方案，即我如何在一个班级中同时使用两个班级？这对我有很大帮助。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:09:19.900

如果可能的话试试这样

```
public class a {
public static String a="This is a";
public static void aDisplay()
{
    System.out.println(a);
}
}
public class b {
public static String b="This is b";
public static void bDisplay()
{
    System.out.println(b);
}
}
public class c extends a {
public static class d extends b{
    public static void main(String args[]){
    aDisplay();
    bDisplay();
    }
}
} 
```

使用**内部类概念**我们可以解决问题。或者以另一种方式，您必须仅遵循多级继承。

# javascript - 每次我在棋盘上拖放棋子时都会出错

> ID：13639802
> 
> 赞同：1
> 
> 时间：2012-11-30T05:51:18.410
> 
> 标签：javascript, jquery-ui, drag-and-drop, console

我正在测试 jQuery 的拖放功能，但在 JSconsole 中出现以下错误：

```
Uncaught TypeError: Cannot read property 'options' of undefined 
```

我正在尝试做一个棋盘游戏，你可以移动棋子，基本上是这样的：

*   棋盘是一张桌子，空的方块是空的`<td></td>`
*   非空 TD 在`<div class="..."></div>`里面， div 类是`drag`或者`nodrag`（取决于轮到谁）
*   拖动时，jQuery 所做的是给出相对位置并调整顶部/左侧
*   drop的时候，我做的是获取新旧方块，并使用`appendTo()`，在有div的情况下，我先`remove()`它
*   有效放置后，我切换类`drag`和`nodrag`，首先删除 droppable 属性，然后将其添加到新的 draggable

这是代码的两个关键部分（[这里是 jsFidle](http://jsfiddle.net/n6kRr/1/)）：

```
function toggleDrag(){
    //remove the (old) draggables
    if($(".drag").data("draggable")){//prevent crash when nobody is draggable
        $(".drag").draggable("destroy");
    }

    //swapp classes
    var tmp=$(".drag");
    var tmp2=$(".nodrag");
    tmp.removeClass("drag").addClass("nodrag");
    tmp2.removeClass("nodrag").addClass("drag");

    //make the (new) draggables
    $(".drag").draggable({
        revert:"invalid"
    });
} 
```

在每个正方形 ( `<td>`) 内：

```
$("td").droppable({
    drop:function(ev,ui){
        var tar=$(this);
        var xdiv=$("#"+tar.attr("id")+" div");

        //if the square is not empty
        if(xdiv.length){
            xdiv.remove();//remove piece
        }

        //I removed styles to reset Top/Left to 0
        //append_TO_ moves the div
        ui.draggable.removeAttr("style").appendTo(tar);

        //I call the toggler funcion
        toggleDrag();
    }
}); 
```

**注意：**我很清楚，如果你将这块棋子放在它被拖动的同一个方格中，就会发生非常糟糕的事情，在我的完整代码中，我会对可放置对象进行清理以仅允许合法移动

任何想法为什么这个完美工作的代码会触发这个控制台错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:21:14.470

您看到此错误是因为（显然）不允许破坏处理程序*内*的可拖动元素。`drop`

解决此问题的一种hacky方法是替换

```
toggleDrag(); 
```

在你的`drop`处理程序里面

```
setTimeout(toggleDrag, 0); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:13:25.017

经过一些测试，我得出的结论是，在droppables*之后*`stop:`触发了 draggables ，所以我只是搬到了这里：*`drop:``toggleDrag()`*

 *```
$(".drag").draggable({
    //... ,
    stop:function(ev,ui){
        toggleDrag(); //a check is needed to make sure it was dropped on dropables though
    }
}); 
```

如果您将一块棋子掉到棋盘外（在棋盘缓慢返回时）并且您快速移动另一块棋子，也会触发旧问题。这也解决了这个问题。*

# java - 将文件从操作系统拖放到 JTable java

> ID：13639804
> 
> 赞同：1
> 
> 时间：2012-11-30T05:51:30.230
> 
> 标签：java, swing, file, drag-and-drop, jtable

有人可以告诉我我做错了什么吗？我可以使用常规面板进行拖放操作，但现在尝试使用表格，但无法对其进行排序。我对 Points 和 DropTargets 感到困惑。不要介意“添加”按钮。我觉得我需要先处理 DnD。

```
public class Table extends JFrame implements ActionListener {

    private JTable table;
    private JScrollPane scroll;
    private JButton add;
    private JFileChooser choose;
    private JMenuBar menubar;
    private JMenu menu;
    private JMenuItem file;
    private DefaultTableModel tm = new DefaultTableModel(new String[] { "File",
            "File Type", "Size", "Status" }, 2);

    public Table() {

        // String column [] = {"Filename ","File Type", "Size", "Status" };
        /*
         * Object[][] data = { {"File1", ".jpg","32 MB", "Not Processed"},
         * {"File2", ".txt"," 5 Kb", "Not Processed"}, {"File3", ".doc","3 Kb",
         * "Not Processed"},
         * };
         */

        table = new JTable();
        table.setModel(tm);
        table.setFillsViewportHeight(true);
        table.setPreferredSize(new Dimension(500, 300));

        scroll = new JScrollPane(table);

        table.setDropTarget(new DropTarget() {
            @Override
            public synchronized void drop(DropTargetDropEvent dtde) {

                Point point = dtde.getLocation();
                int column = table.columnAtPoint(point);
                int row = table.rowAtPoint(point);

                dtde.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);
                Transferable t = dtde.getTransferable();
                List fileList = null;
                try {
                    fileList = (List) t
                            .getTransferData(DataFlavor.javaFileListFlavor);
                } catch (UnsupportedFlavorException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                File f = (File) fileList.get(0);
                table.setValueAt(f.getAbsolutePath(), row, column);
                table.setValueAt(f.length(), row, column + 1);
                super.drop(dtde);
            }
        });
        scroll.setDropTarget(new DropTarget() {
            @Override
            public synchronized void drop(DropTargetDropEvent dtde) {
                Point point = dtde.getLocation();
                int column = table.columnAtPoint(point);
                int row = table.rowAtPoint(point);

                dtde.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);
                Transferable t = dtde.getTransferable();
                List fileList = null;
                try {
                    fileList = (List) t
                            .getTransferData(DataFlavor.javaFileListFlavor);
                } catch (UnsupportedFlavorException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                File f = (File) fileList.get(0);
                table.setValueAt(f.getAbsolutePath(), row, column);
                table.setValueAt(f.length(), row, column + 1);
                // handle drop outside current table (e.g. add row)
                super.drop(dtde);
            }
        });

        add(scroll, BorderLayout.CENTER);

        menubar = new JMenuBar();
        menu = new JMenu("File");
        file = new JMenuItem("file");
        menu.add(file);
        // menubar.add(menu);
        add(menu, BorderLayout.NORTH);

        ImageIcon icon = new ImageIcon("lock_icon.png");

        add = new JButton("Add", icon);
        add.addActionListener(this);

        JFileChooser choose = new JFileChooser();
        choose.addActionListener(this);
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        JButton clicked = (JButton) e.getSource();

        int returnValue = 0;

        if (clicked == add) {
            choose = new JFileChooser();
            choose.showOpenDialog(null);

            if (returnValue == JFileChooser.APPROVE_OPTION) {
                File file = choose.getSelectedFile();
                file.getAbsolutePath();

            }

        }

    }

    public static void main(String[] args) {
        javax.swing.SwingUtilities.invokeLater(new Runnable() {
            public void run() {

                Table t = new Table();

                t.setDefaultCloseOperation(EXIT_ON_CLOSE);
                t.pack();
                t.setSize(600, 200);
                t.setVisible(true);
                t.setTitle("ZipLock");
                t.setIconImage(null);

            }
        });

    }

} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-30T06:27:06.577

我个人会放弃滚动窗格上的放置目标，这会给您带来很多问题。

你的丢弃方法有点古怪......

这是一个坏主意....

```
List fileList = null;
try {
    fileList = (List) t
        .getTransferData(DataFlavor.javaFileListFlavor);
} catch (UnsupportedFlavorException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} catch (IOException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
}
File f = (File) fileList.get(0);
table.setValueAt(f.getAbsolutePath(), row, column);
table.setValueAt(f.length(), row, column + 1); 
```

基本上，您尝试从可传输文件中提取文件列表，并且无论操作是否成功，您都尝试使用它？！您根本不验证返回的值...

您的放置代码通常并不真正关心放置发生在哪一列，因为您已经有名称和大小列，所以我实际上完全忽略了这一点。

至于行，现在你有两个选择。当用户没有放弃现有行时，您可以添加一个新行，或者您拒绝尝试。

## 拒绝拖动表格的“外部”

（或拒绝不调用现有行的拖动）

要在用户拖动时拒绝操作，您需要覆盖该`dragOver`方法...

```
@Override
public synchronized void dragOver(DropTargetDragEvent dtde) {
    Point point = dtde.getLocation();
    int row = table.rowAtPoint(point);
    if (row < 0) {
        dtde.rejectDrag();
        table.clearSelection();
    } else {
        dtde.acceptDrag(DnDConstants.ACTION_COPY_OR_MOVE);
        table.setRowSelectionInterval(row, row);
    }
} 
```

现在，我在这里有点聪明（而不是聪明的方式）。基本上，如果用户拖过一行，我会突出显示它。这使得下降的去向更加明显。

在你的 drop 方法中，我还会做一些额外的检查......

```
@Override
public synchronized void drop(DropTargetDropEvent dtde) {    
    Point point = dtde.getLocation();
    int row = table.rowAtPoint(point);
    if (row >= 0) {
        if (dtde.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {
            dtde.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);
            Transferable t = dtde.getTransferable();
            List fileList = null;
            try {
                fileList = (List) t.getTransferData(DataFlavor.javaFileListFlavor);
                if (fileList.size() > 0) {
                    table.clearSelection();
                    Point point = dtde.getLocation();
                    int row = table.rowAtPoint(point);
                    DefaultTableModel model = (DefaultTableModel) table.getModel();
                    model.setValueAt(f.getAbsolutePath(), row, 0);
                    model.setValueAt(f.length(), row, 2);
                }
            } catch (UnsupportedFlavorException e) {
                e.printStackTrace();
            } catch (IOException e) {
                e.printStackTrace();
            }
        } else {
            dtde.rejectDrop();
        }
    } else {
        dtde.rejectDrop();
    }
} 
```

## 接受 Drag 在表格的“外部”

该过程相对而言是相同的，除了现在我们可以抛弃原本会导致我们拒绝拖放的条件（显然）

```
@Override
public synchronized void dragOver(DropTargetDragEvent dtde) {
    Point point = dtde.getLocation();
    int row = table.rowAtPoint(point);
    if (row < 0) {
        table.clearSelection();
    } else {
        table.setRowSelectionInterval(row, row);
    }
    dtde.acceptDrag(DnDConstants.ACTION_COPY_OR_MOVE);
} 
```

以及`drop`方法

```
@Override
public synchronized void drop(DropTargetDropEvent dtde) {    
    if (dtde.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {
        dtde.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);
        Transferable t = dtde.getTransferable();
        List fileList = null;
        try {
            fileList = (List) t.getTransferData(DataFlavor.javaFileListFlavor);
            if (fileList.size() > 0) {
                table.clearSelection();
                Point point = dtde.getLocation();
                int row = table.rowAtPoint(point);
                DefaultTableModel model = (DefaultTableModel) table.getModel();
                for (Object value : fileList) {
                    if (value instanceof File) {
                        File f = (File) value;
                        if (row < 0) {
                            System.out.println("addRow");
                            model.addRow(new Object[]{f.getAbsolutePath(), "", f.length(), "", ""});
                        } else {
                            System.out.println("insertRow " + row);
                            model.insertRow(row, new Object[]{f.getAbsolutePath(), "", f.length(), "", ""});
                            row++;
                        }
                    }
                }
            }
        } catch (UnsupportedFlavorException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    } else {
        dtde.rejectDrop();
    }
} 
```

笔记。这将在放置点插入行，将所有现有行向下推，或者如果没有放在现有行上，则将它们添加到末尾...

**测试代码**

这是我用来测试代码的完整运行示例...

```
public class DropTable {

    public static void main(String[] args) {
        new DropTable();
    }

    public DropTable() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame();
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(new DropPane());
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }

        });
    }

    public class DropPane extends JPanel {

        private JTable table;
        private JScrollPane scroll;
        private DefaultTableModel tm = new DefaultTableModel(new String[]{"File", "File Type", "Size", "Status"}, 0);

        public DropPane() {
            table = new JTable();
            table.setShowGrid(true);
            table.setShowHorizontalLines(true);
            table.setShowVerticalLines(true);
            table.setGridColor(Color.GRAY);

            table.setModel(tm);
            table.setFillsViewportHeight(true);
            table.setPreferredSize(new Dimension(500, 300));

            scroll = new JScrollPane(table);

            table.setDropTarget(new DropTarget() {
                @Override
                public synchronized void dragOver(DropTargetDragEvent dtde) {
                    Point point = dtde.getLocation();
                    int row = table.rowAtPoint(point);
                    if (row < 0) {
                        table.clearSelection();
                    } else {
                        table.setRowSelectionInterval(row, row);
                    }
                    dtde.acceptDrag(DnDConstants.ACTION_COPY_OR_MOVE);
                }

                @Override
                public synchronized void drop(DropTargetDropEvent dtde) {
                    if (dtde.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {
                        dtde.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);
                        Transferable t = dtde.getTransferable();
                        List fileList = null;
                        try {
                            fileList = (List) t.getTransferData(DataFlavor.javaFileListFlavor);
                            if (fileList.size() > 0) {
                                table.clearSelection();
                                Point point = dtde.getLocation();
                                int row = table.rowAtPoint(point);
                                DefaultTableModel model = (DefaultTableModel) table.getModel();
                                for (Object value : fileList) {
                                    if (value instanceof File) {
                                        File f = (File) value;
                                        if (row < 0) {
                                            model.addRow(new Object[]{f.getAbsolutePath(), "", f.length(), "", ""});
                                        } else {
                                            model.insertRow(row, new Object[]{f.getAbsolutePath(), "", f.length(), "", ""});
                                            row++;
                                        }
                                    }
                                }
                            }
                        } catch (UnsupportedFlavorException e) {
                            e.printStackTrace();
                        } catch (IOException e) {
                            e.printStackTrace();
                        }
                    } else {
                        dtde.rejectDrop();
                    }
                }

            });

            add(scroll, BorderLayout.CENTER);
        }
    }
} 
```

# java - 下载 youtube 视频的直接网址 - Android

> ID：13639805
> 
> 赞同：0
> 
> 时间：2012-11-30T05:51:31.730
> 
> 标签：java, android, youtube, download

我正在做一个 Android 项目，需要直接下载 YouTube 视频（无需任何第三方网站或软件或任何其他 Android 应用程序的帮助）。

我已经尝试了该论坛上发布的几乎所有技术，但没有任何效果。我使用并解析了它们的网址`get_video_info`，但它们不起作用。

谁能帮助我，目前的技术是什么。这将不胜感激。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2018-11-05T05:40:54.613

```
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.util.Log;
import android.widget.Toast;

import com.commit451.youtubeextractor.YouTubeExtractionResult;
import com.commit451.youtubeextractor.YouTubeExtractor;

import retrofit2.Call;
import retrofit2.Callback;
import retrofit2.Response;

public class MainActivity extends AppCompatActivity {

private static final String YOUTUBE_ID = "ea4-5mrpGfE";

private final YouTubeExtractor mExtractor = YouTubeExtractor.create();

private Callback<YouTubeExtractionResult> mExtractionCallback = new 
Callback<YouTubeExtractionResult>() {
    @Override
    public void onResponse(Call<YouTubeExtractionResult> call, 
Response<YouTubeExtractionResult> response) {
        bindVideoResult(response.body());
    }

    @Override
    public void onFailure(Call<YouTubeExtractionResult> call, Throwable t) {
        onError(t);
    }
};

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    //        For android youtube extractor library  
    com.github.Commit451.YouTubeExtractor:youtubeextractor:2.1.0'

    mExtractor.extract(YOUTUBE_ID).enqueue(mExtractionCallback);

    }

private void onError(Throwable t) {
    t.printStackTrace();
    Toast.makeText(MainActivity.this, "It failed to extract. So sad", 
 Toast.LENGTH_SHORT).show();
}

private void bindVideoResult(YouTubeExtractionResult result) {

 //        Here you can get download url link

    Log.d("OnSuccess", "Got a result with the best url: " + 
result.getBestAvailableQualityVideoUri());

    Toast.makeText(this, "result : " + result.getSd360VideoUri(), 
    Toast.LENGTH_SHORT).show();
     }
} 
```

# django - TastyPie 资源包括套装项目

> ID：13639810
> 
> 赞同：0
> 
> 时间：2012-11-30T05:52:03.287
> 
> 标签：django, tastypie

我想知道从另一个模型中包含与外键相关的对象的最佳方法是什么？

例子：

```
class First(models.Model):
      name = models.CharField(max_length=255)

class Second(models.Model):
      first = models.ForeignKey(First)
      second = models.CharField(max_length=255) 
```

如何为第一个模型创建一个资源，其中包含第二个模型中的所有相关对象？- 我知道如何在第一个中为外键做这件事，但不确定如何去做。

干杯，本

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-30T15:36:00.213

把这个放在想要反向关系的资源上

```
anyfieldnameyouwant = fields.ToManyfield(FooResource, 'relatedname', full = True) 
```

在这种情况下：

```
class FirstResource(ModelResource):

    second = fields.ToManyField(SecondResource, 'second_set', full = True) 
```

# c# - 逆波兰表示法 - 结果的逻辑和显示

> ID：13639814
> 
> 赞同：2
> 
> 时间：2012-11-30T05:52:34.507
> 
> 标签：c#

我正在研究一个反向波兰符号计算器。我创建了一个方法来处理计算，但我的代码中有三行导致错误。每`=`执行一次操作，然后显示。我试图从中获取字符串`TxtInputBox`并转换为整数，但它总是显示捕获消息`Please check the input`。然后没有任何东西被计算或显示。我确信我的第一个 if 语句将检查实际整数并避免字符。我的最终目标是输入 rpn 格式的公式，并将结果显示在多行文本框中。

**样本输入** `5 6 -=`

**代码**

```
namespace rpncalc
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void RPNCalc(TextBox TxtBoxInputbox, TextBox TxtBoxOutputbox)
        {
            Stack<int> stackone = new Stack<int>();
            stackone.Clear();
            string[] inputarray = TxtBoxInputbox.Text.Split();
            int end = inputarray.Length - 1;
            int numinput;
            int i = 0;

            do
            {
                if(inputarray[i] != "=" && inputarray[i] != "+" && inputarray[i] != "-" && inputarray[i] != "*" && inputarray[i] != "/")  
                {
                    try
                    {
                        numinput = Convert.ToInt32(inputarray[i]);
                        stackone.Push(numinput);
                    }
                    catch
                    {
                        MessageBox.Show("Please check the input");
                    }
                }

                    else if (inputarray[i]== "+")
                    {
                        try
                        {
                            int store1 = stackone.Pop();
                            int store2 = stackone.Pop();
                            stackone.Push(store2 + store1);
                        }
                        catch
                        {
                        }
                    }

                    else if (inputarray[i]== "-")
                    {
                        try
                        {
                            int store1 = stackone.Pop();
                            int store2 = stackone.Pop();
                            stackone.Push(store2 + store1);
                        }
                        catch
                        {
                        }
                    }

                    else if (inputarray[i]== "+")
                    {
                        try
                        {
                            int store1 = stackone.Pop();
                            int store2 = stackone.Pop();
                            stackone.Push(store2 + store1);
                        }
                        catch
                        {
                        }
                    }

                    else if (inputarray[i]== "*")
                    {
                        try
                        {
                            int store1 = stackone.Pop();
                            int store2 = stackone.Pop();
                            stackone.Push(store2 + store1);
                        }
                        catch
                        {
                        }
                    }

                    else if (inputarray[i]== "/")
                    {
                        try
                        {
                            int store1 = stackone.Pop();
                            int store2 = stackone.Pop();
                            stackone.Push(store2 + store1);
                        }
                        catch
                        {
                        }
                    }

            }
            while(i < end && inputarray[i]!= "=" && stackone.Count != 0);
            string txtout = TxtInputBox + " " + stackone.Pop().ToString() + Environment.NewLine;
            TxtOutputBox.AppendText(txtout);
            TxtInputBox.Clear();

        }

        private void Btn_Calc_Click(object sender, EventArgs e)
        {
            RPNCalc(TxtInputBox, TxtOutputBox);
        }

    }
} 
```

![在此处输入图像描述](../Images/893e95efd71128104c28e1fc7394745b.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T06:04:54.407

不带参数的拆分命令将字符串拆分为空格和其他空格。

-= 之间的输入中没有空格，因此它被视为与 if 语句中的测试不匹配的一个标记。

原始答案错误地表明没有参数的拆分正在拆分为单个字符。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T06:28:40.857

`i`在循环的每次迭代之后，你在做什么来增加`do`？我尝试了您的代码，似乎`i`永远不会增加。此外，当你赶上并跑

```
catch
{
    MessageBox.Show("Please check the input");
} 
```

您也许可以将其更改为：

```
catch (Exception e) 
{
    MessageBox.Show(e.ToString());
} 
```

所以你可以确定你正在捕捉什么，以及为什么。

**编辑：**

这是我的代码版本，现在可以正常工作：

*   `i`在每次迭代中递增
*   修复了减号、乘法和除法运算符中的拼写错误，导致它们改为进行加法运算
*   删除了多余的加法运算符

```
namespace rpncalc {
    public partial class Form1 : Form {
        public Form1 () {
            InitializeComponent();
        }

        private void RPNCalc (TextBox TxtBoxInputbox, TextBox TxtBoxOutputbox) {
            Stack<int> stackone = new Stack<int>();
            stackone.Clear();
            string[] inputarray = TxtBoxInputbox.Text.Split();
            int end = inputarray.Length - 1;
            int numinput;
            int i = 0;

            do {
                if (inputarray[i] != "=" && inputarray[i] != "+" && inputarray[i] != "-" && inputarray[i] != "*" && inputarray[i] != "/") {
                    try {
                        numinput = Convert.ToInt32(inputarray[i]);
                        stackone.Push(numinput);
                    } catch (Exception e) {
                        MessageBox.Show(e.ToString());
                    }
                } else if (inputarray[i] == "+") {
                    try {
                        int store1 = stackone.Pop();
                        int store2 = stackone.Pop();
                        stackone.Push(store2 + store1);
                    } catch {
                    }
                } else if (inputarray[i] == "-") {
                    try {
                        int store1 = stackone.Pop();
                        int store2 = stackone.Pop();
                        stackone.Push(store2 - store1);
                    } catch {
                    }
                } else if (inputarray[i] == "*") {
                    try {
                        int store1 = stackone.Pop();
                        int store2 = stackone.Pop();
                        stackone.Push(store2 * store1);
                    } catch {
                    }
                } else if (inputarray[i] == "/") {
                    try {
                        int store1 = stackone.Pop();
                        int store2 = stackone.Pop();
                        stackone.Push(store2 / store1);
                    } catch {
                    }
                }
            }
            while (i++ < end && inputarray[i] != "=" && stackone.Count != 0);
            string txtout = TxtInputBox.Text + " " + stackone.Pop().ToString() + Environment.NewLine;
            TxtOutputBox.AppendText(txtout);
            TxtInputBox.Clear();

        }

        private void Btn_Calc_Click (object sender, EventArgs e) {
            RPNCalc(TxtInputBox, TxtOutputBox);
        }
    }
} 
```

# xcode - XCode 4.5.2：无法在所选目标上运行 - Facebook SDK

> ID：13639822
> 
> 赞同：1
> 
> 时间：2012-11-30T05:54:22.383
> 
> 标签：xcode, facebook, facebook-ios-sdk

无法在所选目标上运行

所选目标不支持构建所选软件的体系结构。切换到支持该架构的目的地以运行所选软件。

![无法在所选目标上运行](../Images/6e1253fd5e27e860f3ec66e2f3015407.png)

我正在使用来自 GitHub 的 Facebook-iOS-SDK：[https](https://github.com/facebook/facebook-ios-sdk) ://github.com/facebook/facebook-ios-sdk 测试了最新的提交 (2a030e795aed343e7614e149a5ebdfa78b223a72) 和 sdk-version-3.0.8 标签，两者都有同样的问题。在 iDevices 和 iSimulator 上测试了 Hackbook、Scrumptious、FriendPickerSample。

它以前可以工作（在旧版本的 XCode 上），所以它可能是 xcode 升级，但我的其他项目工作正常。我在这个网站上尝试了多种解决方案，这些解决方案适用于其他人，但不适用于我的，有没有人专门使用 Facebook-SDK 遇到过这种情况？提前致谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-28T09:00:20.110

**编辑：**我发现了问题，如果您安装 FacebookSDK 并添加资源文件夹以获取 facebook 图像按钮，则会有一个 Info.plist 文件。这个 info.plist 文件让 XCodes 变得很奇怪。我已经删除了它，做了一个干净的，现在它完美了:)

**OLD：** 这里的行为相同。在另一个项目中它运行完美，但在这个项目中我总是遇到同样的问题。在某些 XCode 重新启动后，有时它运行正常，有时我“单击”运行，然后什么也没发生，有时它运行......

最好的选择是将项目移动到其他路径。从 lib 依赖项中添加和删除 libsql3.0 有时也可以。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-01T11:46:58.343

可悲的是，这似乎是 XCode 上的一个错误，它会在每两次重新启动时构建和运行良好，并且整个项目目录移动到其他路径。这很可悲，因为苹果总是为消费者制造好产品，但与大 M 相比，他们所有的开发者软件都很糟糕

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T21:03:49.860

我遇到了这个问题。它似乎在 XCode 挂起之后就开始了，我不得不强制退出。这是 4.6 更新的前一天。我希望该更新可以解决问题。在我开始收到该消息之前，我确实获得了一个成功的构建（实际上在 4.6 中，有两条不同但相似的消息似乎交替出现。

我通过让 XCode 更新项目设置来解决问题。当我复制我的项目并打开它时，我首先注意到了这种可能性，但很明显，这个选项在原件中也可用。这是我所做的

在我的项目“MyProject 项目”下的问题导航器中，我收到一条消息 MyProject.xcode 验证项目设置更新到推荐的设置。

我点击它，我看到一个带有 4 个复选框的对话框，一些解释性文本和执行更改的选项。我只是让 Xcode 进行这些更改，从那以后一切都很好。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-21T15:23:00.227

从 Facebook 资源文件夹中删除 info.plist。更改了 XCode 项目的位置并重置 iPhone 模拟器......现在它正在工作:) Buggy XCode !!

# c++ - 解决 GNU 中的链接器错误以进行重新声明

> ID：13639823
> 
> 赞同：1
> 
> 时间：2012-11-30T05:54:27.283
> 
> 标签：c++, linux, gnu

我有以下实现：

A的标题：

```
class A
{
public:
foo();
}; 
```

A 有自己的 .cpp 文件，其中包含 foo() 的实现

//B的头部

```
#include "A.h"
class B
{
public foo();
}; 
```

注意：B 没有自己的标头

现在在 C.cpp 类中，我想重用 A 的标头和 Bo 的实现，所以在 C.cpp 中我这样做：

```
//C.cpp
#include "A.h"
....
B b;
b.foo();
.. 
```

当我编译上面的代码时，我一定会得到函数 foo() 的重新声明错误。我想知道是否有任何方法可以告诉 GNU 编译器采用 Bo 并省略 Ao.. 或者告诉编译器考虑包含实现的 make 文件中的第一个对象并忽略其余部分？

我正在使用 GNU v2.16

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:01:07.280

您的问题是关于重新声明的，`A`因为`C.cpp`它会看到 2 个声明`A`一个 through`A.h`和另一个 through `B.h`，所以只需保护`A.h`标题保护以避免多次包含它，通常您应该始终保护标题：

```
#ifndef HEADER_A_h_INCLUDED
#define HEADER_A_h_INCLUDED
class A {...};
#endif 
```

现在，如果您包含`A.h`多次，此守卫将使第二次包含为空！

# api - tx req 选项在 xbee api 中完全禁用 ack 是什么？

> ID：13639825
> 
> 赞同：1
> 
> 时间：2012-11-30T05:54:43.043
> 
> 标签：api, network-protocols, layer, zigbee, xbee

正如标题中提到的那样，问题是导致 tx 选项字段的值恰好为 0x01（禁用 ack）的原因。我假设它禁用了*aps*层确认和额外的*aps*重试。但是它们也以任何方式在禁用*aps确认的情况下发生。**tx 状态帧的重试计数器仍然计数，有时直到 60。我认为这对于mac*层重试来说有点太多了。*还是在nwk*层也有重试？

问候托比

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-07-08T15:43:36.950

TX 请求（API 帧）上的选项 0x01 不会禁用确认，它会禁用重试（最多 3 次）。以下是禁用重试的 TX 请求帧示例：

7E 00 0F 10 01 00 13 A1 00 40 AA D0 06 FF FE 00 **01** 04 78

要禁用确认，您需要在 TX 请求的帧 ID 上设置 0x00。这是一个例子：

7E 00 0F 10 **00** 00 13 A1 00 40 AA D0 06 FF FE 00 00 04 7A

我猜传输重试计数（来自 ZigBee 传输状态帧）与 CSMA-CA 有关。

# java - C++调用java jar

> ID：13639828
> 
> 赞同：0
> 
> 时间：2012-11-30T05:54:49.107
> 
> 标签：java, c++, execvp

我想使用 execvp 调用 java 来执行一个函数，如下面的代码：

```
#include <iostream>
#include <stdlib.h>

using namespace std;

int main()
{
    char* const argv[]= {
                        "-mx300m","-cp","\'stanford-postagger.jar:/root/NLP/postagger/:.\'",
                        "edu.stanford.nlp.tagger.maxent.MaxentTagger",
                        " -model","/root/NLP/postagger/models/english-bidirectional-distsim.tagger",
                        "-textFile","/root/NLP/postagger/sample-input.txt",
                        NULL
                    };

    execvp("java",argv);

    return 0;
} 
```

但发生错误：

```
Exception in thread "main" java.lang.NoClassDefFoundError: edu/stanford/nlp/tagger/maxent/MaxentTagger
Caused by: java.lang.ClassNotFoundException: edu.stanford.nlp.tagger.maxent.MaxentTagger
at java.net.URLClassLoader$1.run(URLClassLoader.java:217)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:205)
at java.lang.ClassLoader.loadClass(ClassLoader.java:321)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)
at java.lang.ClassLoader.loadClass(ClassLoader.java:266)
Could not find the main class: edu.stanford.nlp.tagger.maxent.MaxentTagger. Program will exit. 
```

谁能帮我解决这个问题？非常感谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:55:55.590

删除 -cp 参数中过多的引号 \'。从 shell 脚本启动时需要它，并且该脚本最终剥离了它们。

# excel - 格式功能错误

> ID：13639833
> 
> 赞同：1
> 
> 时间：2012-11-30T05:55:25.060
> 
> 标签：excel, vba

我在 excel vba 中的 Format() 函数有问题。我正在尝试更改日期格式单元格的格式以更改其显示方式。但是，每次我调用 Format 来执行此操作时，我都会收到错误消息：“编译错误：参数数量错误或属性分配无效。”

这是代码：

```
Sub test()
     Dim given
     given = DateSerial(2012, 10, 11)
     dateformat = Format(given, "dd/mm/yy")
     MsgBox given & vbCrLf & dateformat

 End Sub 
```

这只是一个测试功能，应该独立运行并返回“11/10/12”。此代码适用于其他计算机。有什么问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2015-11-20T13:57:47.450

我今天在 Worksheet_Activate() 中输入的代码遇到了这个问题，并且正在拉扯我的头发。通过将 Format 更改为 VBA.Format 解决了它

所以试试：

```
 Sub test()
     Dim given
     given = DateSerial(2012, 10, 11)
     dateformat = VBA.Format(given, "dd/mm/yy")
     MsgBox given & vbCrLf & dateformat

 End Sub 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-05-23T10:40:01.187

这是因为您可能还在项目的其他地方**`Sub`**命名了一些名称。因此您会收到错误消息。**`Format`**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T06:00:41.570

目前，您`given`默认将变量声明为变体。请将其声明为`Date`数据类型。为了安全起见，请确保您仅将`Date`using发送`CDate()`到`Format()`to 格式作为您想要的日期样式。

DateSerial 输入也应采用以下格式。在你的情况下，好吧。;)

```
DateSerial(CInt(x), CInt(y), CInt(z) 
```

代码片段：

```
OPTION EXPLICIT '------------ please add this to your code to begin for better coding

Sub test()
     Dim given as Date '-------- define given as Date type
     Dim dateformat as Date
     given = DateSerial(2012, 10, 11)
     dateformat = Format(CDate(given), "dd/mm/yy") '--------- anyway wrap with CDate() to be sure
     MsgBox given & vbCrLf & dateformat

 End Sub 
```

# iphone - 多个 UIWindow 与单个 UIWindow

> ID：13639834
> 
> 赞同：2
> 
> 时间：2012-11-30T05:55:55.480
> 
> 标签：iphone, ios, uiwindow

我想获得一些关于 UIWindow 的信息，尤其是单个 iOS 应用程序中的多个 UIWindow。我知道虚拟键盘是另一个 UIWindow。

使用多个 UIWindow 与在单个 UIWindows 中交换 self.view 有什么缺点吗？

对命中测试、ui 组合、calayer 等有什么影响？

# javascript - 用 JavaScript 作图

> ID：13639849
> 
> 赞同：2
> 
> 时间：2012-11-30T05:58:44.220
> 
> 标签：javascript, loops, graph

```
function aloop()
{
    var count = 0;
    var stars;

    stars = newCost;
    document.eMarkForm.dangerRange.value =  document.eMarkForm.dangerRange.value + "\n" + newCost + " " ;

    for (var count = 1; count <= stars; count = count + 1)
    {
        document.eMarkForm.dangerRange.value = document.eMarkForm.dangerRange.value + "*" ;
    }
} 
```

所以我计算了一个名为 newCost 的金额，我希望它显示在我的 dangerRange 文本字段中，值旁边有一个 *。但是，我希望每 10 个 newCost 出现 1 个 *。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:23:03.813

在“for”循环中，将 'count' 增加 10:`count = count + 10`并将比较运算符更改为 '<': `count < stars`。如果您总是想要至少一颗星，请从 0 开始“计数”，否则从 10 开始。

# django - 用于与 celery 交互的 Django 作业队列

> ID：13639850
> 
> 赞同：1
> 
> 时间：2012-11-30T05:58:49.620
> 
> 标签：django, scheduled-tasks, celery

我的 django web-app 逻辑主要面向后台任务执行（周期性的和独立的，同步的和异步的）。所有研究似乎都表明使用 Celery 是最推荐的方法。我计划最终部署在 Heroku 上，而且它支持 Celery + Redis（我用于本地开发）对我来说是一个很大的优势。

但是，我需要比 celery 提供的更广泛的调度功能。我需要一些定期任务才能运行诸如“在本月最后一个星期日运行”等计划。所以我在 django 中实现了自己的模型来存储重复规则和其他所需参数。

现在我很困惑如何将我的桌子与芹菜连接起来。理想情况下，我想做的是拥有自己的 Job 模型，该模型具有时间表、到期时应运行的任务以及任务的参数。有点像 C++ 中的函数 ptr 。然后我会运行一个守护进程，它会不断检查哪个作业到期的作业队列，如果它定期创建下一个作业实例并将其推送到队列中，然后使用 celery 的延迟方法或类似方法运行带有参数的关联任务。

问题：

1.  这种方法甚至有意义吗？
2.  如果不是，我可以使用什么其他替代方法
3.  如果是的话，我该如何设计那个作业/事件队列......

我很想听听更好的方法来做到这一点，或者是否有可能合适的作业队列的现有实现或使用芹菜作业队列本身的方法......

谢谢大佬。。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T16:05:05.050

Celery 中的周期性任务的工作方式与此类似。有一个专用的调度程序进程 ( `celery beat`)，它只是在任务到期时发送任务。

您还可以通过对类进行子类化来创建新的调度程序以供使用，并且您也可以`beat`通过子`celery.beat.Scheduler`类化创建自定义调度（如`crontab`已经内置的调度）`celery.schedules.schedule`。

在 django-celery 扩展 ( `djcelery.schedulers.DatabaseScheduler`) 中有一个数据库支持的调度程序实现，它使用了许多技巧来避免过于频繁地轮询数据库等等（遗憾的是它没有得到很好的评论）。

Scheduler: [https://github.com/celery/celery/tree/master/celery/beat.py](https://github.com/celery/celery/tree/master/celery/beat.py) schedules: [https://github.com/celery/celery/tree/master/celery/schedules.py](https://github.com/celery/celery/tree/master/celery/schedules.py) DatabaseScheduler: [https://github.com/celery/django-celery/tree/master/djcelery/schedulers.py](https://github.com/celery/django-celery/tree/master/djcelery/schedulers.py)

# android - mm命令编译的APK无法读取SD卡的内容

> ID：13639853
> 
> 赞同：1
> 
> 时间：2012-11-30T05:59:50.397
> 
> 标签：android, file, build, exists

```
File settingFile = new File(getString(R.string.settingFile));
Log.d("debug",settingFile.toString());
if(settingFile.exists()){
    Log.d("debug","exists");
} else {
    Log.d("debug","not exists");
} 
```

Eclipse编译的APK是可以输出`exists`的，但是用mm命令编译的时候会输出`not exists`。
你能帮助我吗？

# angularjs - $rootScope 是最顶层 $scope 的父级吗？

> ID：13639854
> 
> 赞同：16
> 
> 时间：2012-11-30T05:59:52.043
> 
> 标签：angularjs

我有一个共享函数，它返回我的 AngularJS 应用程序中最顶层元素（文档）的范围。

```
function topScope() { 
  return angular.element(document).scope();
} 
```

这总是有效的，并且我始终保证可以访问位于应用程序内的任何子范围（无论是在控制器还是指令内）。

这是我将其用于的示例：

```
topScope().$emit('pageReady'); 
```

现在我注意到 $rootScope 也以同样的方式工作。

```
$rootScope.$emit('pageReady'); 
```

这也有效并达到了相同的效果。但是由于 $rootScope 被设计为“现成的 $scope”范围（创建的任何范围都将继承它的方法和属性），那么这是否仍然意味着它实际上是页面的最顶层范围？因此成为附加到文档节点的范围对象的父级？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-11-30T18:23:57.977

`$rootScope`*是给定 AngularJS 应用程序*中所有作用域的父作用域。由于可以在一个页面上引导多个 AngularJS 应用程序（只能手动，这不能使用 来完成`ng-app`），因此也可以`$rootScope`在一个 HTML 文档中有多个实例。

每个`$rootScope`都“附加”到声明 ngApp 的元素或传递到[angular.bootstrap的元素，如此](http://docs.angularjs.org/api/angular.bootstrap)[处](http://docs.angularjs.org/api/ng.$rootElement)所述。

简而言之，它`$rootScope`是一个 AngularJS 应用程序的所有作用域的根，但没有“超级根”作用域可以作为给定 HTML 文档的所有其他作用域的父作用域。

`$rootScope`如果您在整个 HTML 文档中只有一个 AngularJS 应用程序，则在您的情况下使用可能没问题。

# ruby-on-rails-3 - Rails 中的更新表格 - 没有路线匹配 [PUT]

> ID：13639860
> 
> 赞同：5
> 
> 时间：2012-11-30T06:00:38.777
> 
> 标签：ruby-on-rails-3, forms, routes, insert-update

我有一个创建广告的表格。

控制器：

```
 def edit
    @engines = Engine.all
    @car = Car.find(params[:id])
  end

  def update
    @car = Car.find(params[:id])

    if @car.save
      redirect_to root_path
    end
  end 
```

我的路线：

```
resources :adverts 
```

创建.html.erb

```
<%= form_for @car, :url => adverts_path do |f| %>

  <div><%= f.label :name %><br />
  <%= f.text_field :name %></div>

  <%= hidden_field_tag :model_id, params[:model_id] %>

  <%= select_tag :engine_id, options_from_collection_for_select(@engines, "id", "name",:selected=>@car.engine_id) %>

  <div><%= f.submit "Create car!" %></div>
<% end %> 
```

我可以创建广告，但我不能更新它。

编辑.html.erb

```
<%= form_for @car, :url => adverts_path do |f| %>

  <div><%= f.label :name %><br />
  <%= f.text_field :name %></div>

  <%= hidden_field_tag :model_id, params[:model_id] %>

  <%= select_tag :engine_id, options_from_collection_for_select(@engines, "id", "name",:selected=>@car.engine_id) %>

  <div><%= f.submit "Update car!" %></div>
<% end %> 
```

当我提交表单时，出现错误 -**没有路线匹配 [PUT] "/adverts"**

$ rake 路线：

```
 adverts GET    /adverts(.:format)                     adverts#index
                               POST   /adverts(.:format)                     adverts#create
                    new_advert GET    /adverts/new(.:format)                 adverts#new
                   edit_advert GET    /adverts/:id/edit(.:format)            adverts#edit
                        advert GET    /adverts/:id(.:format)                 adverts#show
                               PUT    /adverts/:id(.:format)                 adverts#update
                               DELETE /adverts/:id(.:format)                 adverts#destroy 
```

我需要帮助。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-30T06:10:28.037

当你更新时，你必须通过传递一个`id`.

`edit.html.erb`变化中：

```
<%= form_for @car, :url => adverts_path do |f| %> 
```

到：

```
<%= form_for @car, :url => advert_path(@car) do |f| %> 
```

顺便说一句，我觉得你的代码很奇怪。为什么您的模型名称与您的控制器和路由不匹配？我的意思是您正在创建一个广告，但您的模型称为汽车。这没有任何意义。将其称为汽车或广告，但不要将它们混为一谈。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-30T06:17:30.533

如果您使用 RESTful 路由，则无需指定 a `url`，只需：

```
<%= form_for @car do |f| %> 
```

表单可以知道`@car`是新记录还是已保存记录，因此它会发送适当的 http 方法。

在您的更新操作中：

```
def update
  @car = Car.find(params[:id])

  if @car.update_attributes(params[:car])
    redirect_to root_path
  end
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-03T10:41:13.490

我今天遇到了类似的情况，资源和模型名称不匹配。我同意模型和控制器名称需要关联，但是您可以将路由名称覆盖为您想要的任何名称。

```
resources :cars, path: "adverts" 
```

连同 RESTful 路由

```
<%= form_for @car do |f| %> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-05-17T13:58:35.980

您可能还想确保您的`url:`路径**在**`@form_form`.

# symfony - symfony2 自定义用户提供程序打印“错误凭据”

> ID：13639862
> 
> 赞同：4
> 
> 时间：2012-11-30T06:00:45.827
> 
> 标签：symfony, login

当我尝试登录 symfony2 时，我总是收到消息：“凭据错误”。我这样做是基于[http://symfony.com/doc/current/cookbook/security/custom_provider.html](http://symfony.com/doc/current/cookbook/security/custom_provider.html)。请帮我弄清楚，问题出在哪里？提前致谢。

security.yml 看起来像这样

```
security:
    encoders:
        Zags\UserBundle\Security\User\User: plaintext

    role_hierarchy:
        ROLE_ADMIN:       ROLE_USER
        ROLE_SUPER_ADMIN: [ROLE_USER, ROLE_ADMIN, ROLE_ALLOWED_TO_SWITCH]

    providers:
        webservice:
            id: zags_user_provider

    firewalls:
        dev:
            pattern:  ^/(_(profiler|wdt)|css|images|js)/
            security: false

        login_firewall:
            pattern:    ^/login$
            anonymous:  ~

        secured_area:
            pattern:    ^/
            anonymous: ~
            form_login:
                login_path:  /login
                check_path:  /login_check
            #anonymous: ~
            #http_basic:
            #    realm: "Secured Demo Area"

    access_control:
        - { path: ^/gender_type, roles: ROLE_USER }
        #- { path: ^/_internal/secure, roles: IS_AUTHENTICATED_ANONYMOUSLY, ip: 127.0.0.1 } 
```

我已将这些行添加到 routing.yml

```
login:
    pattern:   /login
    defaults:  { _controller: ZagsUserBundle:Security:login }
login_check:
    pattern:   /login_check 
```

User.php 类看起来像这样

```
<?php    
namespace Zags\UserBundle\Security\User;

use Symfony\Component\Security\Core\User\UserInterface;

class User implements UserInterface
{
    private $username;
    private $password;
    private $salt;
    private $roles;

    public function __construct($username, $password, $salt, array $roles)
    {
        $this->username = $username;
        $this->password = $password;
        $this->salt = $salt;
        $this->roles = $roles;
    }

    public function getRoles()
    {
        return $this->roles;
    }

    public function getPassword()
    {
        return $this->password;
    }

    public function getSalt()
    {
        return $this->salt;
    }

    public function getUsername()
    {
        return $this->username;
    }

    public function eraseCredentials()
    {
    }

    public function equals(UserInterface $user)
    {
        return $user->getUsername() === $this->username;
    }
}
?> 
```

所以这是我的 UserProvider.php 类

```
<?php

namespace Zags\UserBundle\Security\User;

use Symfony\Component\Security\Core\User\UserProviderInterface;
use Symfony\Component\Security\Core\User\UserInterface;
use Symfony\Component\Security\Core\Exception\UsernameNotFoundException;
use Symfony\Component\Security\Core\Exception\UnsupportedUserException;

class UserProvider implements UserProviderInterface
{
    public function loadUserByUsername($username)
    {
        // make a call to your webservice here
        $userData = array("username" => "latysh", "password" => "123", "salt" => "123", "roles" => array('ROLE_USER'));
        // pretend it returns an array on success, false if there is no user

        if ($userData) {
            $username = $userData['username'];
            $password = $userData['password'];
            $salt = $userData['salt'];
            $roles = $userData['roles'];
            // ...

            return new User($username, $password, $salt, $roles);
        }

        throw new UsernameNotFoundException(sprintf('Username "%s" does not exist.', $username));
    }

    public function refreshUser(UserInterface $user)
    {
        if (!$user instanceof User) {
            throw new UnsupportedUserException(sprintf('Instances of "%s" are not supported.', get_class($user)));
        }

        return $this->loadUserByUsername($user->getUsername());
    }

    public function supportsClass($class)
    {
        return $class === 'Zags\UserBundle\Security\User\User';
    }
}
?> 
```

services.yml 看起来像这样

```
parameters:
    zags_user_provider.class: Zags\UserBundle\Security\User\UserProvider

services:
    zags_user_provider:
        class: "%zags_user_provider.class%" 
```

安全控制器.php

```
<?php
namespace Zags\UserBundle\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\Controller;
use Symfony\Component\Security\Core\SecurityContext;

class SecurityController extends Controller
{
    public function loginAction()
    {
        $request = $this->getRequest();
        $session = $request->getSession();

        // get the login error if there is one
        if ($request->attributes->has(SecurityContext::AUTHENTICATION_ERROR)) {
            $error = $request->attributes->get(SecurityContext::AUTHENTICATION_ERROR);
        } else {
            $error = $session->get(SecurityContext::AUTHENTICATION_ERROR);
            $session->remove(SecurityContext::AUTHENTICATION_ERROR);
        }

        return $this->render('ZagsUserBundle:Security:login.html.twig', array(
            // last username entered by the user
            'last_username' => $session->get(SecurityContext::LAST_USERNAME),
            'error'         => $error,
        ));
    }
}
?> 
```

和 login.html.twig

```
{% if error %}
    <div>{{ error.message }}</div>
{% endif %}

<form action="{{ path('login_check') }}" method="post">
    <label for="username">Username:</label>
    <input type="text" id="username" name="_username" value="{{ last_username }}" />

    <label for="password">Password:</label>
    <input type="password" id="password" name="_password" />

    {#
        If you want to control the URL the user is redirected to on success (more details below)
        <input type="hidden" name="_target_path" value="/account" />
    #}

    <button type="submit">login</button>
</form> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-01T05:08:48.920

找到了我的问题的答案。感谢[machour](https://stackoverflow.com/users/732772/machour)的回应。问题出在 SALT 上。所以我将 User.php 类更新为

```
public function getSalt()
    {
        return '';
    } 
```

然后它正确登录，或者我应该用盐编码密码才能成功登录。如果有人知道该怎么做，请将其写为答案，YAHOO ))

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-19T21:25:28.123

```
$factory = $this->get('security.encoder_factory');
$encoder = $factory->getEncoder($user);
$pass = $encoder->encodePassword($user->getPassword(), $user->getSalt()); 
```

# java - 单击android中的按钮时数据库导出到xls文件？

> ID：13639863
> 
> 赞同：1
> 
> 时间：2012-11-30T06:00:59.867
> 
> 标签：java, android, sqlite, xls

我正在准备一个应用程序。在我的应用程序中包含 database(SQlite) 。我的数据库 我的数据库包含 14 列表和数据。我想在单击一个按钮时将该数据导出到 xls 文件中。是否可能。请指导我并提供一些教程。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:05:52.407

您可以使用 opencsv 库将您的 sqlite 数据库转换为 .csv 或 .xls 文件...在 google 上搜索该库和一些示例...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T12:43:57.097

这样你就可以在你的 xml 文件中设置 shell 明智的数据..

```
File dbFile=getDatabasePath("yourdatabase.sqlite");
     File exportDir = new File(Environment.getExternalStorageDirectory()+"/XLS", "");
    if (!exportDir.exists())
                {
                    Log.d("export", ""+exportDir);

                    exportDir.mkdirs();

                }

                File file = new File(exportDir, "Your file.xls");
    db=dba.openDataBase();
                    file.createNewFile();
    CSVWriter csvWrite8 = new CSVWriter(new FileWriter(file8)); 
    Cursor curCSV8=db.rawQuery("Select * from tablename",null); 
    if(curCSV.moveToFirst())
                    {
                        curCSV.moveToFirst();

                        Log.d("log is","No of Column is ---->>>"+curCSV.getColumnNames().length);

                       do 
                        {
                            String arrStr[] ={curCSV.getString(0),curCSV.getString(1),curCSV.getString(2),curCSV.getString(3),curCSV.getString(4),curCSV.getString(5),curCSV.getString(6),curCSV.getString(7),curCSV.getString(8),curCSV.getString(9),curCSV.getString(10),curCSV.getString(11),curCSV.getString(12),curCSV.getString(13),curCSV.getString(14),curCSV.getString(15),curCSV.getString(16),curCSV.getString(17),curCSV.getString(18),curCSV.getString(19),curCSV.getString(20),curCSV.getString(21),curCSV.getString(22),curCSV.getString(23),curCSV.getString(25),curCSV.getString(26),curCSV.getString(27),curCSV.getString(28),curCSV.getString(29)};

                            csvWrite.writeNext(arrStr);

                        }while(curCSV.moveToNext());
                    }
                    csvWrite.close(); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-09-21T22:28:19.577

我的解决方案是在第一步将 sqlite 数据库转换为 csv，然后在第二步将 csv 文件转换为 xls，它对我来说很好，你需要 2 个库（opencsv-1.7.jar; poi-3.8-20120326.罐）

```
 public class ExportDatabaseCSVTask extends AsyncTask<String, Void, Boolean>

{

    private final ProgressDialog dialog = new ProgressDialog(DatabaseExampleActivity.this);

     @Override

    protected void onPreExecute()

    {

        this.dialog.setMessage("Exporting database...");

        this.dialog.show();

    }

    protected Boolean doInBackground(final String... args)

    {

        File dbFile=getDatabasePath("database_name");
        //AABDatabaseManager dbhelper = new AABDatabaseManager(getApplicationContext());
        AABDatabaseManager dbhelper = new AABDatabaseManager(DatabaseExampleActivity.this) ;
        System.out.println(dbFile);  // displays the data base path in your logcat 

        File exportDir = new File(Environment.getExternalStorageDirectory(), "");        

        if (!exportDir.exists()) 

        {
            exportDir.mkdirs();
        }

        File file = new File(exportDir, "excerDB.csv");

        try

        {

            if (file.createNewFile()){
                System.out.println("File is created!");
                System.out.println("myfile.csv "+file.getAbsolutePath());
              }else{
                System.out.println("File already exists.");
              }

            CSVWriter csvWrite = new CSVWriter(new FileWriter(file));
          //SQLiteDatabase db = dbhelper.getWritableDatabase();

            Cursor curCSV=db.getdb().rawQuery("select * from " + db.TABLE_NAME,null);

            csvWrite.writeNext(curCSV.getColumnNames());

            while(curCSV.moveToNext())

            {

                String arrStr[] ={curCSV.getString(0),curCSV.getString(1),curCSV.getString(2)};

             /*curCSV.getString(3),curCSV.getString(4)};*/

                csvWrite.writeNext(arrStr);

            }

            csvWrite.close();
            curCSV.close();
            /*String data="";
            data=readSavedData();
            data= data.replace(",", ";");
            writeData(data);*/

            return true;

        }

        catch(SQLException sqlEx)

        {

            Log.e("MainActivity", sqlEx.getMessage(), sqlEx);

            return false;

        }

        catch (IOException e)

        {

            Log.e("MainActivity", e.getMessage(), e);

            return false;

        }

    }

    protected void onPostExecute(final Boolean success)

    {

        if (this.dialog.isShowing())

        {

            this.dialog.dismiss();

        }

        if (success)

        {

            Toast.makeText(DatabaseExampleActivity.this, "Export succeed", Toast.LENGTH_SHORT).show();

        }

        else

        {

            Toast.makeText(DatabaseExampleActivity.this, "Export failed", Toast.LENGTH_SHORT).show();

        }
    }
} 
```

将 CSV 导出到 XLS 部分

```
 public class CSVToExcelConverter extends AsyncTask<String, Void, Boolean> {

    private final ProgressDialog dialog = new ProgressDialog(DatabaseExampleActivity.this);

    @Override
   protected void onPreExecute()

   {

       this.dialog.setMessage("Exporting to excel...");

       this.dialog.show();

   }

    @Override
    protected Boolean doInBackground(String... params) {
        ArrayList arList=null;
        ArrayList al=null;

        //File dbFile= new File(getDatabasePath("database_name").toString());
        File dbFile=getDatabasePath("database_name");
        String yes= dbFile.getAbsolutePath();

        String inFilePath = Environment.getExternalStorageDirectory().toString()+"/excerDB.csv";
        outFilePath = Environment.getExternalStorageDirectory().toString()+"/test.xls";
        String thisLine;
        int count=0;

        try {

        FileInputStream fis = new FileInputStream(inFilePath);
        DataInputStream myInput = new DataInputStream(fis);
        int i=0;
        arList = new ArrayList();
        while ((thisLine = myInput.readLine()) != null)
        {
        al = new ArrayList();
        String strar[] = thisLine.split(",");
        for(int j=0;j<strar.length;j++)
        {
        al.add(strar[j]);
        }
        arList.add(al);
        System.out.println();
        i++;
        }} catch (Exception e) {
            System.out.println("shit");
        }

        try
        {
        HSSFWorkbook hwb = new HSSFWorkbook();
        HSSFSheet sheet = hwb.createSheet("new sheet");
        for(int k=0;k<arList.size();k++)
        {
        ArrayList ardata = (ArrayList)arList.get(k);
        HSSFRow row = sheet.createRow((short) 0+k);
        for(int p=0;p<ardata.size();p++)
        {
        HSSFCell cell = row.createCell((short) p);
        String data = ardata.get(p).toString();
        if(data.startsWith("=")){
        cell.setCellType(Cell.CELL_TYPE_STRING);
        data=data.replaceAll("\"", "");
        data=data.replaceAll("=", "");
        cell.setCellValue(data);
        }else if(data.startsWith("\"")){
        data=data.replaceAll("\"", "");
        cell.setCellType(Cell.CELL_TYPE_STRING);
        cell.setCellValue(data);
        }else{
        data=data.replaceAll("\"", "");
        cell.setCellType(Cell.CELL_TYPE_NUMERIC);
        cell.setCellValue(data);
        }
        //*/
        // cell.setCellValue(ardata.get(p).toString());
        }
        System.out.println();
        }
        FileOutputStream fileOut = new FileOutputStream(outFilePath);
        hwb.write(fileOut);
        fileOut.close();
        System.out.println("Your excel file has been generated");
        } catch ( Exception ex ) {
        ex.printStackTrace();
        } //main method ends
        return true;
    }

    protected void onPostExecute(final Boolean success)

    {

        if (this.dialog.isShowing())

        {

            this.dialog.dismiss();

        }

        if (success)

        {

            Toast.makeText(DatabaseExampleActivity.this, "file is built!", Toast.LENGTH_LONG).show();

        }

        else

        {

            Toast.makeText(DatabaseExampleActivity.this, "file fail to build", Toast.LENGTH_SHORT).show();

        }

    }

    } 
```

# java - 这部分代码在java流类中做了什么？

> ID：13639870
> 
> 赞同：0
> 
> 时间：2012-11-30T06:01:50.213
> 
> 标签：java, stream

我正在努力学习 Java。我有一小段代码试图读取和写入输入流。但是有一句话我就是不明白意思。

```
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;

public class CopyBytes {
    public static void main(String[] args) throws IOException {

        FileInputStream in = null;
        FileOutputStream out = null;

        try {
            in = new FileInputStream("xanadu.txt");
            out = new FileOutputStream("outagain.txt");
            int c;

            while ((c = in.read()) != -1) {
                out.write(c);
            }
        } finally {
            if (in != null) {
                in.close();
            }
            if (out != null) {
                out.close();
            }
        }
    }
} 
```

这部分的含义是什么：？

```
while ((c = in.read()) != -1) {
            out.write(c); 
```

变量`C`实际上做了什么？

该程序如何真正发挥作用？

变量是否`C`从输入流文件中读取，并且在读取之后，正在读取的部分是否已从输入流文件中清除并消除？

有人可以通过逐行解释此代码通常的作用来帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:05:54.443

根据[JavaDoc](http://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html#read%28%29)：

> 回报：
> 
> 数据的下一个字节，如果到达文件末尾，则为 -1。

这意味着：

```
while ((c = in.read()) != -1) {
            out.write(c); 
```

意思是直到输入流还没有找到文件结尾，也就是文件里还有字符，继续读。读取下一个数据字节后，将其写入输出流。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:07:21.803

**-** `FileInputStream` and `FileOutputStream` are used when you need to read from and write into the file respectively in the form of `bytes`....

```
while ((c = in.read()) != -1) {
            out.write(c);
 } 
```

**-** What you are doing is that, you are **reading the data** in the file `xanadu.txt` in the form of bytes and then **writing it to file** `outagain.txt`.

**-** And it will continue till `in.read()` returns `-1`, as **-1 will indicate the EOF** (end of file).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T06:08:40.680

> What is the meaning of this part :?

```
while ((c = in.read()) != -1) {
        out.write(c); 
```

Reads byte by byte from `xanadu.txt` file and output it to `outagain.txt` also byte by byte.

> What does variable C actually do?

Java is case-sensitive, so it `c` not `C`. It has the value of byte read from input file.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T06:08:45.827

```
while ((c = in.read()) != -1) {
        out.write(c);} 
```

In the above code as per the [JavaDocs](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/FileInputStream.html#read%28%29) the method `in.read()` **returns -1** if it reaches the **end of the file** so what it means is that you need to stay in the loop untill the read method does not return -1

**How does the program really function?**

Now coming to this part you are basically reading the file as rawbytes using `FileInputStream` and writing it as a file again using `FileOutputStream` where the above while loop determines you write the whole file till the end

**Does the variable C read from the input stream file and after it has read, the part which is being read it's cleaned and eliminated from the input stream file?**

The method `read()` Reads a byte of data from the input stream and returns it so you have to write the data simultaneously as you read and yes the previous byte that has been read would be removed as it reads a new byte

**FileInputStream** is meant for reading streams of raw bytes such as **Image** data. For reading streams of characters, consider using **FileReader**

# php - php 从 SOAP SERVER 获取 SOAP 标头用户名和密码

> ID：13639871
> 
> 赞同：4
> 
> 时间：2012-11-30T06:01:52.023
> 
> 标签：php, soap, soap-client, nusoap

我必须创建 PHP、SOAP API。我需要从 SOAP 服务器验证 SOAP 客户端。这是 SOAP 客户端的代码。

```
 $client = new SoapClient("cust.wsdl",array(
"trace"      => 1,
"exceptions" => 0,
"user" => 'username',
"pass" => 'password'));

$result = $client->getDetails($value1); 
```

我需要从服务器（SOAP SERVER）端捕获并验证这些用户名和密码。这是我的 SOAP 服务器代码

```
class getDb {
//return DATA 
}

$server = new SoapServer("cust.wsdl");
$server->setClass("getDb");
$server->handle(); 
```

我需要从 SOAP 服务器验证客户端的用户名和密码。

任何人都知道如何从 SOAPSERVER 捕获 SOAP 用户名和密码（“user” => 'username'，“pass” => 'password'），请提供。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T09:44:11.107

可以按如下方式捕获身份验证详细信息。

```
 if(($_SERVER['PHP_AUTH_PW']!= $pass || $_SERVER['PHP_AUTH_USER'] != $login)|| !$_SERVER['PHP_AUTH_USER'])
{
    header('WWW-Authenticate: Basic realm="Test auth"');
    header('HTTP/1.0 401 Unauthorized');
    echo 'Auth failed';
    exit;
} 
```

可以生成任何输出`header('HTTP/1.0 401 Unauthorized');`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T07:52:03.093

```
$client = new SoapClient("cust.wsdl",array(
    "trace"      => 1,
    "exceptions" => 0,
    **"user" => 'username',
    "pass" => 'password'));** 
```

以上2项一般是http auth用户名和密码。如果您需要验证它们，那么您可以在 apache 基本身份验证级别上进行验证。如果您需要在 php 级别执行此操作，那么您将需要编写一个基于 http auth 的会话处理程序，该处理程序需要安全性以显示资源。一个例子在这里： http: [//php.net/manual/en/features.http-auth.php](http://php.net/manual/en/features.http-auth.php) 大多数开发人员只使用绑定到 LDAP 或其他一些服务的 apache 基本身份验证来处理身份验证请求并拥有肥皂服务只是处理实际工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-07T14:51:11.883

我使用了以下方法并从 HTTP Auth 方法获得了成功的 SOAP PHP 身份验证响应。

我的 SOAP 客户端语句看起来像

```
$client = new SoapClient("name.wsdl",array(
"trace"      => 1,
"exceptions" => 0,
"login" => 'xxx',
"password" => 'xxx')); 
```

我使用这个 PHP 语句来验证 PHP Auth 标头

```
 if(($_SERVER['PHP_AUTH_PW']!= $pass
 || $_SERVER['PHP_AUTH_USER'] != $login)
 || !$_SERVER['PHP_AUTH_USER'])
    {
        header('WWW-Authenticate: Basic realm="Test auth"');
        header('HTTP/1.0 401 Unauthorized');
        // OR ANY THING
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-03T23:38:00.833

您可以使用 php 输入流来获取 que 请求的原始 xml，然后提取标题部分。

# tsql - 降低几何复杂性的最佳方法是什么

> ID：13639873
> 
> 赞同：2
> 
> 时间：2012-11-30T06:02:10.623
> 
> 标签：tsql, geometry, geography

所以我在玩[http://www.gadm.org/](http://www.gadm.org/)数据集；

我想从 lat & lon 到一个国家和州（或同等国家）。

因此，为了简化数据，我将其分组并合并几何；到目前为止，一切都很好。结果很好，我可以撤回比利时，这很好。

我撤回澳大利亚，我得到了维多利亚，因为这东西太大了。

现在，老实说，我并不太关心细节的水平。如果线条与它们应该在的位置相距 1 公里，我没问题（只要形状更大，而不是更小）

降低地理空间对象复杂性的最佳方法是什么，以便我最终获得快速而简单的世界视图？

所有数据都保存为几何数据。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-01T04:21:14.487

当您使用“tsql”标记问题时，我假设您使用的是 Sql Server。因此，您已经有了一个方便的函数，称为[Reduce](http://msdn.microsoft.com/en-us/library/bb933814.aspx)，您可以将其应用于几何数据类型以简化它。

例如（从上面的链接复制）：

```
DECLARE @g geometry;
SET @g = geometry::STGeomFromText('LINESTRING(0 0, 0 1, 1 0, 2 1, 3 0, 4 1)', 0);
SELECT @g.Reduce(.75).ToString(); 
```

该函数接收具有简化阈值的容差参数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:42:30.223

我认为复杂性仅由形状中的顶点数决定。有很多[形状简化算法](http://www8.cs.umu.se/kurser/TDBAfl/VT06/algorithms/BOOK/BOOK5/NODE195.HTM)可供选择（也许还有一些来源）。

作为一种简单的方法，如果结果不会引起太大的误差（例如，就增加的面积而言），您可以迭代顶点并拒绝凹面的顶点，最好将较小的段相邻到较大的段中。更复杂的方法可能会破坏现有的细分以更好地删除较小的细分。

# c# - MS Chart 上的工具提示标签错误，具有多个系列

> ID：13639874
> 
> 赞同：2
> 
> 时间：2012-11-30T06:02:10.933
> 
> 标签：c#, asp.net, .net

原始数据源返回一个包含列的表 (Timestamp, 1stValue) 当我只有一个数据系列（数据源）时，此图表将起作用：

```
 MyChart.Series[0].ToolTip = "( #VALX{hh:mmtt}, #VALY )"; 
```

如您所见，x 轴是时间戳，在 X 数据点的格式上。当我将鼠标悬停在数据点上时，我可以看到工具提示显示“（上午 10:20，520）”

但是，当我有两个系列使用另一个数据源返回一个包含列的表时：(TimeStamp, 1stValues, 2nd Values)

```
 MyChart.Series[0].ToolTip = "( #VALX{hh:mmtt}, #VALY )";
        MyChart.Series[1].ToolTip = "( #VALX{hh:mmtt}, #VALY )"; 
```

它仅适用于第一个系列，当我将鼠标悬停在第二个系列上时，我有这个“（hh：mmtt，520）”，看起来X值的数据上有垃圾（这些值与第二系列的那些），Y 值加载得很好，当我使用“（#VALX，#VALY）”并将鼠标悬停在数据点上时，我得到“（40826.291666, 520）”

这就是我将数据源与图表链接的方式

```
 MyChart.DataBindTable(datasrc, "DateTime"); 
```

蹩脚的解决方案是用第一个系列的 X 值覆盖第二个系列的 X 值，但这不只是 DataBindTable 的目的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T16:55:55.510

我明白了，由于某种原因，第二个系列的值类型设置回 double 而不是 DateTime（DataBindTable 中使用的 X 轴的类型），您所要做的就是将值类型设置为 DateTime，如下所示：

MyChart.Series[1].XvalueType = ChartValueType.DateTime

# java - 捕获 mqrc 2009 和 2059 错误的 java 代码

> ID：13639875
> 
> 赞同：0
> 
> 时间：2012-11-30T06:02:18.833
> 
> 标签：java, ibm-mq

在我下面`connect()`的代码中，方法能够捕获 2009 和 2059 异常。但是，当我关闭队列管理器或连接以在`getMessage()`方法中生成 2009 或 2059 MQ 异常时，程序挂起或没有抛出它。它正在排队等候`queue.get(retrievedMessage, getOptions);`。

如果连接或队列管理器损坏，我们是否需要添加额外的打开选项以使代码知道？

```
连接（）
{MQEnvironment.hostname = 主机名；
MQEnvironment.channel = 通道名称；
MQEnvironment.port = 端口名称；
        尝试
        {
        qMgr = 新 MQQueueManager(EvtqManager); // 定义一个队列管理器对象
        LOGGER.debug("队列管理器 " +EvtqManager+ " 实例初始化");
        int openOptions = MQC.MQOO_INQUIRE + MQC.MQOO_FAIL_IF_QUIESCING+ MQC.MQOO_INPUT_SHARED；
        queue = qMgr.accessQueue(queueName, openOptions, null,null,null);
        LOGGER.debug("IBM MQQueue:"+queueName+"被访问");
        getOptions = 新 MQGetMessageOptions();
        getOptions.options = MQC.MQGMO_NO_WAIT；
        获取消息（）；
        }
        抓住（）{
                    如果（MQex.reasonCode==2009 || MQex.reasonCode==2059）{
             关闭（）;
             连接（）;
        }
}

获取消息（）{
    MQMessage 检索消息；
    而（真）{
               尝试 {
                检索消息 = 新 MQMessage();
                queue.get(retrivedMessage, getOptions);
                PCFMessage pcfMessage = new PCFMessage(retrivedMessage);
               }
              捕捉（MQException MQex）{
                如果（MQex.reasonCode==2009 || MQex.reasonCode==2059）{
                关闭（）;
                连接（）;
              }
             }
    }

`
            回答 #1

赞同：1

时间：2012-12-01T02:53:50.790

不需要额外的选项。如果 MQ 方法调用正在进行并且与队列管理器的连接中断，则该方法将返回原因代码 2009 或其他与连接错误相关的原因代码。返回的原因代码将取决于连接是如何中断的，例如，如果队列管理器正在关闭，则将返回 MQRC_Q_MGR_QUIESCING/MQRC_Q_QMGR_STOPPING。

挂起可能是由于检测套接字故障所花费的时间。因此，您可能需要检查呼叫等待多长时间。

连接到队列管理器时返回 MQRC 2059，但在接收消息时不返回。因此，您可以删除 2059 的检查。

我只是对你的代码有点困惑。你有调用`shutdown()`和`Connect()`内部`Connect`和`getMessage`方法。你不认为这会导致递归吗？

```

# iphone - 在有和没有 nsfetchedResultsController 的情况下使用核心数据

> ID：13639877
> 
> 赞同：0
> 
> 时间：2012-11-30T06:02:25.980
> 
> 标签：iphone, core-data, nsfetchedresultscontroller

在核心数据中，您最初使用以下方法添加对象/设置其属性值：

```
-(IBAction)save{

if (self.managedObjectContext == nil)
{
    self.managedObjectContext = [(RootAppDelegate *)[[UIApplication sharedApplication] delegate] managedObjectContext];
}

    Frame *f = [NSEntityDescription insertNewObjectForEntityForName:@"Frame" inManagedObjectContext:self.managedObjectContext];

        f.typeLabel = self.textFieldtext.text;

    [self dismissViewControllerAnimated:YES completion:nil];

    NSError *error;

    if (![self.managedObjectContext save:&error]) {
        NSLog(@"Error");
    }
} 
```

您通常会使用以下方法编辑值：

```
-(IBAction)save{
[self.f setValue:self.newTextfield.text forKey:@"typeLabel"];

[self dismissViewControllerAnimated:YES completion:nil];
NSError *error;
if (![self.managedObjectContext save:&error]) {
        //Handle Error
} 
```

}

使用 A 显然有点不同`NSFetchedResultsController`

我想我的问题是，如何设置属性并使用`NSFetchedResultsController`?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:31:30.347

获取结果控制器充当获取请求和表视图之间的链接。有用的部分是，如果您对托管对象上下文进行任何会影响获取请求结果的更改，FRC 会自动获取这些并发​​送各种委托方法，您可以将这些委托方法绑定到您的表视图数据源代码以保持表是最新的。[请参阅此处](http://developer.apple.com/library/ios/documentation/CoreData/Reference/NSFetchedResultsController_Class/Reference/Reference.html)的“实现表视图数据源方法” 。

您上面的代码与此无关，除非它包含在从显示获取请求结果的表视图调用的模态视图控制器中，并用于添加新项目。在这种情况下，上面的代码将是相同的，但是当您返回表视图时，它已经包含您的新数据。

# angularjs - 如何使用 Angular js 处理现有的 html 元素

> ID：13639878
> 
> 赞同：0
> 
> 时间：2012-11-30T06:02:27.737
> 
> 标签：angularjs

我被困在必须使用一些预先生成的 html 元素的位置。例如我有一个这样的列表

```
<ul>
  <li class="product>
    <div class="name">product 1</div>
    <div class="price">$199</div>
  </li>
  <li class="product>
    <div class="name">product 2</div>
    <div class="price">$299</div>
  </li>
</ul> 
```

由于AngularJs一直在谈论通过js动态生成的内容，我想知道是否有一种方法可以循环通过预先生成的html元素来初始化模型？

# php - 通过浏览器下载的 PHP Excel 文件未被 MS-Excel/OpenOffice 打开

> ID：13639879
> 
> 赞同：1
> 
> 时间：2012-11-30T06:02:34.960
> 
> 标签：php, wordpress, excel-2007, phpexcel

[PHPExcel](http://phpexcel.codeplex.com)的[简单示例](http://www.codeplex.com/Download?ProjectName=PHPExcel&DownloadId=94244)在我的本地机器设置上正确地为我工作。它正在下载 .xlsx 文件，MS-Excel 程序很高兴地打开它。

现在我将此代码复制到我的 WordPress 插件中，以允许从**WordPress 管理**部分下载 Excel

```
if ( file_exists(CHECKIN_PLUGIN_DIR . '/lib/PHPExcel.php') ) {
    ob_end_clean();
    ob_start();

/** Include PHPExcel */
require (CHECKIN_PLUGIN_DIR . "/lib/PHPExcel.php");
require (CHECKIN_PLUGIN_DIR . "/lib/PHPExcel/Writer/Excel2007.php");

// Create new PHPExcel object
$objPHPExcel = new PHPExcel();

// Set document properties
$objPHPExcel->getProperties()->setCreator("Maarten Balliauw")
                             ->setLastModifiedBy("Maarten Balliauw")
                             ->setTitle("PHPExcel Test Document")
                             ->setSubject("PHPExcel Test Document")
                             ->setDescription("Test document for PHPExcel, generated using PHP classes.")
                             ->setKeywords("office PHPExcel php")
                             ->setCategory("Test result file");

// Add some data
$objPHPExcel->setActiveSheetIndex(0)
            ->setCellValue('A1', 'Hello')
            ->setCellValue('B2', 'world!')
            ->setCellValue('C1', 'Hello')
            ->setCellValue('D2', 'world!');

// Miscellaneous glyphs, UTF-8
$objPHPExcel->setActiveSheetIndex(0)
            ->setCellValue('A4', 'Miscellaneous glyphs')
            ->setCellValue('A5', 'éàèùâêîôûëïüÿäöüç');

// Rename worksheet
$objPHPExcel->getActiveSheet()->setTitle('Simple');

// Set active sheet index to the first sheet, so Excel opens this as the first sheet
$objPHPExcel->setActiveSheetIndex(0);

header('Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');
header('Content-Disposition: attachment;filename="myfile.xlsx"');
header('Cache-Control: max-age=0');

// Save Excel 2007 file
$objWriter = PHPExcel_IOFactory::createWriter($objPHPExcel, 'Excel2007');
//$objWriter->save("/home/user/ExcelTests/test01.xlsx");
$objWriter->save('php://output');  

exit;
}
?>
<div class="wrap">
.... 
```

但是下载的文件不能被excel打开，它说`Different format than specified by the file extension....`打开时显示一堆十六进制字符

```
PKU~AG�D�X�[Content_Types].xml��MN�0��"�%nY ��vAa �(0��ؖg�w{&i�@�nbE�{��y��d۸l m�����X�(���)���F��;@1_�����c)j�x/%��E��y� �QĿi!��K� 
```

当我更改代码以将其保存为硬盘中的文件时，可以毫无问题地打开它。

```
if ( file_exists(CHECKIN_PLUGIN_DIR . '/lib/PHPExcel.php') ) {
    ob_end_clean();
    ob_start();

/** Include PHPExcel */
require (CHECKIN_PLUGIN_DIR . "/lib/PHPExcel.php");
require (CHECKIN_PLUGIN_DIR . "/lib/PHPExcel/Writer/Excel2007.php");

// Create new PHPExcel object
$objPHPExcel = new PHPExcel();

// Set document properties
$objPHPExcel->getProperties()->setCreator("Maarten Balliauw")
                             ->setLastModifiedBy("Maarten Balliauw")
                             ->setTitle("PHPExcel Test Document")
                             ->setSubject("PHPExcel Test Document")
                             ->setDescription("Test document for PHPExcel, generated using PHP classes.")
                             ->setKeywords("office PHPExcel php")
                             ->setCategory("Test result file");

// Add some data
$objPHPExcel->setActiveSheetIndex(0)
            ->setCellValue('A1', 'Hello')
            ->setCellValue('B2', 'world!')
            ->setCellValue('C1', 'Hello')
            ->setCellValue('D2', 'world!');

// Miscellaneous glyphs, UTF-8
$objPHPExcel->setActiveSheetIndex(0)
            ->setCellValue('A4', 'Miscellaneous glyphs')
            ->setCellValue('A5', 'éàèùâêîôûëïüÿäöüç');

// Rename worksheet
$objPHPExcel->getActiveSheet()->setTitle('Simple');

// Set active sheet index to the first sheet, so Excel opens this as the first sheet
$objPHPExcel->setActiveSheetIndex(0);
/*
header('Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');
header('Content-Disposition: attachment;filename="myfile.xlsx"');
header('Cache-Control: max-age=0');
*/

// Save Excel 2007 file
$objWriter = PHPExcel_IOFactory::createWriter($objPHPExcel, 'Excel2007');
$objWriter->save("/home/user/ExcelTests/test01.xlsx");
//$objWriter->save('php://output');

exit;
}
?>
<div class="wrap">
.... 
```

Excel5 格式也是如此。

但是通过浏览器下载的 CSV 没有问题。

有什么帮助吗？

**更新**

vi浏览器下载的文件[在这里](http://www.filedropper.com/viabrowser)

保存到文件系统的文件[在这里](http://www.filedropper.com/viasave)

`0A`在 Hexa 编辑器中查看时，在下载文件中的 PK 之前发现了一个额外的换行符

[我尝试使用修剪](http://php.net/manual/en/function.trim.php)删除该换行符

```
// Set active sheet index to the first sheet, so Excel opens this as the first sheet
$objPHPExcel->setActiveSheetIndex(0);
ob_end_clean();
ob_start();

// Save Excel 2007 file
$objWriter = PHPExcel_IOFactory::createWriter($objPHPExcel, 'Excel2007');
$objWriter->save('php://output');

$ob_content = ob_get_contents();
ob_end_clean();
header('Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');
header('Content-Disposition: attachment;filename="export.xlsx"');
header('Cache-Control: max-age=0');
echo trim($ob_content);
exit; 
```

但即使在那之后，`0A`在文件的开头也有。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:53:59.053

我在我的项目中使用此代码，效果很好：

```
$objWriter = new PHPExcel_Writer_Excel2007($objPHPExcel);   

header('Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');
header('Content-Disposition: attachment;filename="' . $filename . '.xlsx"');

$objWriter->save('php://output'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T07:22:25.170

这几乎可以肯定意味着您正在输出 xls 文件内容的其他内容，例如空格或 BOM 标头。在文本编辑器中打开文件，查找文件开头（PK 字符之前）或结尾处的任何空白字符，例如制表符、空格、换行符等，或文件中是否有任何明显的 PHP 错误消息本身。

# php - 动态创建sql表

> ID：13639885
> 
> 赞同：0
> 
> 时间：2012-11-30T06:03:26.780
> 
> 标签：php, sql, database, create-table

我有一个名为 project 的表，其中包含 4 列（ID、NAME、FEATURE、DOWNLOAD）。对于“项目”中的每个条目，我需要在同一个数据库中创建一个名为 pro1、pro2、pro3 等的新表. 在我的 Web UI 中，我必须为每个新项目创建一个新表提供一个按钮，那么 sql 查询应该是什么？我使用 php。用户应该能够在“项目”表中添加新项目，然后单击按钮或自动使用我上面显示的命名约定动态创建一个新表。由于其他一些原因，我无法将所有功能添加到“项目”表中，这就是为每个项目创建一个新表的原因。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:17:19.557

单击按钮时，您可以执行以下操作：

*   获取当前存在的行数`project`，比如说`$nor`
*   增加`$nor`1
*   使用运行`CREATE TABLE`查询`"CREATE TABLE IF NOT EXISTS pro".$nor`

# c++ - 无法转换参数错误

> ID：13639887
> 
> 赞同：0
> 
> 时间：2012-11-30T06:03:40.620
> 
> 标签：c++, visual-c++

我的程序在最后使用 main 函数运行良好，但是当我添加函数原型并将 main 函数放在开头时，我开始遇到这些错误。

> 错误 C2664：“getData”：无法将参数 1 从“std::string [100]”转换为“std::string”没有构造函数可以采用源类型，或者构造函数重载解析不明确
> 
> 错误 C2664：“降序”：无法将参数 1 从“std::string [100]”转换为“std::string”没有构造函数可以采用源类型，或者构造函数重载解析不明确
> 
> 错误 C2664：“升序”：无法将参数 1 从“std::string [100]”转换为“std::string”没有构造函数可以采用源类型，或者构造函数重载决议不明确
> 
> 错误 C2664：“输出”：无法将参数 1 从“std::string [100]”转换为“std::string”

没有构造函数可以采用源类型，或者构造函数重载决议不明确

```
#include <iostream>
#include <string>
#include <fstream>
using namespace std;

void swap(string&, string&);
void getData(string, int&);
void ascending(string, int);
void descending(string, int);
void output(string, int);
int getChoice();

int main()
{
   string name[100], temp;
   int item, choice;

   getData(name, item);

   choice = getChoice();

   if (choice == 1)
      ascending(name, item);
   if (choice == 2)
      descending(name, item);

   output(name, item);
 }

void swap(string& name1, string& name2)
{
   string temp;
   temp  = name1;
   name1 = name2;
   name2 = temp;
}

void getData(string name[], int& item)
{
   ifstream  fin;
   fin.open("E:\\p9.txt");

   item = 0;

   while (!fin.eof())
   {
      fin >> name[item];
      item++;    
   }
   cout << "item = " << item << endl << endl;
}

void ascending(string name[], int item)
{
   for(int j=0; j<item-1; j++)
   {
      for(int i=0; i<item-1; i++)
         if(name[i] > name[i+1])
            swap(name[i], name[i+1]);
   }
}

void descending(string name[], int item)
{
   string temp;
   for(int j=0; j<item-1; j++)
   {
      for(int i=0; i<item-1; i++)
         if(name[i] < name[i+1])
            swap(name[i], name[i+1]);
   }
}

void output(string name[], int item)
{
   for(int i=0; i<item; i++)
      cout << name[i] << endl;
   cout << endl << endl;
}

int getChoice()
{
   int choice;
   cout << "Please enter 1 for ascending or 2 for descending." << endl;
   cin  >>  choice;
   return choice;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T06:06:12.587

好吧，您的“原型”与您的函数定义不匹配。为什么要引入与实际功能无关的原型？

这是一个例子

```
void getData(string, int&);

void getData(string name[], int& item) { ... } 
```

在这种情况下，正确的“原型”是

```
void getData(string[], int&); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:06:12.287

名称应声明为字符串（不应为数组）：

```
int main()
{
   string name, temp;
   int item, choice;

   getData(name, item);

   choice = getChoice();
..... 
```

# qtp - 新安装的qtp没有录音

> ID：13639888
> 
> 赞同：1
> 
> 时间：2012-11-30T06:03:45.073
> 
> 标签：qtp

我在 Windows XP 中的虚拟机中安装了 QTP 10。我的应用程序是基于网络的。不需要额外的插件。也不需要补丁，因为 XP、IE 7 和 qtp 10 是兼容的。我的主要操作系统是带有 IE 9 的 Windows 7。我不在那里自动化。我只在XP中自动化。
我的框架运行良好。我在对象间谍、对象存储库或记录和回放方面没有遇到任何问题。我的框架是完全描述性编程的。我的测试运行正常。
最近我的硬盘坏了。技术支持人员不得不重建我的系统。他们给了我一个新的硬盘驱动器并建立了一个新的虚拟机。我不得不重新安装我的所有软件，包括 vmware 中的 QTP v10。
我运行了我的框架，它运行良好。我停止了测试以添加其他代码并再次运行测试。这一次它没有工作。它给出了一条错误消息，它无法识别父对象。然后我使用了对象间谍。
它将网页上的对象标识为 Window 和 WinObject。我很困惑为什么它会这样。
我重新启动了我的qtp。再次使用 Object Spy，这次它是在与 Browser、Page、Webelements 相同的网页上识别对象。
我做了一个简单的记录和回放来测试它。它记录了我的步数并按应有的方式正确播放了这些步数。我重新录制以向脚本添加额外的步骤，但这次它没有录制我的步骤。
我停止了记录并使用 object spy 来查看发生了什么。这次它再次将对象识别为 Window/WinObject。
然后我检查了对象存储库。它在存储库中有 FIRST 记录的对象，但没有后来记录的步骤。我使用 OR 来拾取对象，但它将网站上的对象识别为 WinObjects。
是什么导致 QTP 以这种方式运行？我以为我会重新安装QTP。我联系了惠普。他们给了我有关如何进行干净卸载的说明。我按照他们的步骤通过 regedit 进行了干净的卸载并删除了那些 HKEY_USER ...... .. 东西。
我重新安装了具有完全管理员权限的 QTP 和所有内容。但我仍然面临同样的问题。QTP 在第一次录制和播放时可以正常工作，并且可以正常运行我的框架，但在第一次运行之后它就无法正常工作了。它不识别 Web 应用程序。任何 Web 应用程序，而不仅仅是我必须自动化的应用程序。
1）加载项不是问题
2）不是补丁问题
3）我必须自动化的应用程序没有问题

我相信这是虚拟机？他们如何重建它有问题吗？巧合的是，我的同事的 QTP 也面临同样的问题。但她的电脑没有崩溃！所以我现在对这个问题一无所知。
我能做些什么来解决这个问题？

感谢您阅读这封巨大的信件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T10:48:19.993

这是[我之前写](https://stackoverflow.com/questions/13586606/how-to-install-the-bhomanager-class-add-on-in-ie/13592532#13592532)的答案，根据您的情况更新：

你能在 IE 中看到 BHOManager 类吗？

```
Go to IE > Tools > Manage Add-ons, make sure BHOManager class 
(Browser Helper Object) from Mercury Interative Corporation is 
enabled. 
```

建议禁用其他插件，例如第三方工具栏、反病毒公司的插件等。这是为了确保没有任何东西阻止 QTP 连接到浏览器。

如果是这种情况，请再次重新注册 BHOManager：

```
Close IE and all iexplore.exe processes in the task manager
Close QTP (or restart your machine)
Go to Start > Run, unregister and register BHOManager.dll: 
    regsvr32 -u c:\WINDOWS\system32\BHOManager.dll 
    regsvr32 c:\WINDOWS\system32\BHOManager.dll 
```

当这解决了你的第二次运行时，你知道 IE 中的 BHO 有问题：它们没有正确启动或第二次被拒绝。也许是更严格的 IT 政策或急切的病毒扫描程序，可以删除所有无法识别的浏览器插件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-26T11:24:33.497

去

1.  自动化 ----> 记录和运行设置 在 Web 和 Windows 应用程序中，应选择第一个单选按钮。

通过更改此设置尝试记录。它会正常工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-17T09:13:12.783

以管理员模式运行 QTP，同样您需要右键单击 QTP 图标并以管理员身份运行。之后更改记录和运行设置..这将打开浏览器并记录脚本。

只需记录单个对象的脚本，然后运行脚本。

现在你会

# c# - 使用 X509certificate 从 XML 文件中提取公钥？

> ID：13639890
> 
> 赞同：7
> 
> 时间：2012-11-30T06:04:15.303
> 
> 标签：c#, x509certificate, saml

我正在尝试`X509Certificate2`从 XML 文件在 C# 中创建一个对象。XML 文件是`SAML`我们从供应商处收到的元数据文件。

我正在尝试从这些 XML 元素中提取公钥：

```
<X509Data>
    <X509Certificate>
      MIIB7DCCAVmgAwIBAgIQPjHcBTL63bBLuJZ88RcrCjAJBgUrDgMCHQUAMBExDzANBgNVBAMT
      BnJvbWVvazAgFw0xMDAzMTUwMjI1MjZaGA8yMTEwMDIxOTAyMjUyNlowETEPMA0GA1UEAxMG
      cm9tZW9rMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDAu/sBh13A27rR7gJpZsI6zCee
      TXNohQWlq2z6Zg8Oxzsy5JoVV 
    </X509Certificate>
</X509Data> 
```

C# 中有没有办法从 XML 元素中提取 .cer 文件或公钥？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-04-08T17:33:07.290

兰德尔的回答是正确的。但在 SAML Token 中，我相信证书将始终是 Base64 编码的。因此，对于后代来说，对我有用的解决方案是：

```
var document = new XmlDocument();
document.LoadXml(txtXml.Text);
var certificateStr = document.SelectSingleNode("X509Data/X509Certificate").InnerText;
byte[] data = Convert.FromBase64String(certificateStr);
var x509 = new X509Certificate2(data);
Console.WriteLine("Public Key Format: {0}", x509.PublicKey.EncodedKeyValue.Format(true)); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-11T20:47:52.527

在不知道 X509Certificate 是如何编码的情况下，这是一个很难回答的问题，但是假设您有编码的东西，您可以执行以下操作：

```
 var document = new XmlDocument();
  document.LoadXml(txtXml.Text);
  var cert = document.SelectSingleNode("X509Data/X509Certificate").InnerText;
  /*...Decode text in cert here (may need to use Encoding, Base64, UrlEncode, etc) ending with 'data' being a byte array...*/ 
  var x509 = new X509Certificate2(data); 
```

然后您应该能够使用标准文件 I/O 逻辑将文件写入磁盘。

# batch-file - 跳过=！计数！在 windows(7) 批处理文件中不起作用

> ID：13639892
> 
> 赞同：2
> 
> 时间：2012-11-30T06:04:28.827
> 
> 标签：batch-file

在 for 循环中，我检查了条件，如果条件为真，我设置了计数值并跳过了文件中的一些行，

```
 @echo off
           SetLocal EnableDelayedExpansion
           set /a count=0
           set for_parameters="skip=!count! delims="
           for /f %for_parameters% %%a in ('list.txt') do (
               echo %%a
               if %%a==Exception: (
                   set /a count+=2
               )
           )
           Endlocal

  Its shows delims=" was unexpected at this time. Error 
```

谁能帮我解决这个问题.....

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T13:03:11.610

jeb 关于延迟扩展和 FOR 选项的说法是正确的——你不能使用它——但这与代码中的问题无关。

在 FOR 语句中使用表达式之前，您正在使用延迟扩展，所以那里没有问题。

您的问题是您试图设置 SKIP=0。SKIP 值必须大于 0 才有效。修复很简单：如果您不想跳过任何行，请不要包含 SKIP 选项 :-)

```
@echo off
SetLocal EnableDelayedExpansion
set /a count=0
set "skip="
if !count! gtr 0 set "skip=skip=!count!"
set for_parameters="!skip! delims="
for /f %for_parameters% %%a in ('list.txt') do (
    echo %%a
    if %%a==Exception: (
        set /a count+=2
    )
)
Endlocal 
```

扩展 jeb 的观点：您不能执行以下操作

```
for /f !for_parameters! %%a in ... 
```

因为 FOR 有特殊的解析规则。大多数命令在延迟扩展后解析它们的选项。但是 FOR 和 IF 在 FOR 变量扩展和延迟扩展发生之前解析它们的选项。FOR 变量和延迟扩展都不能用于指定 FOR 或 IF 选项。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T09:37:02.000

您可以使用更多命令来跳过行。

```
@echo off

:: By Elektro H@cker

SetLocal EnableDelayedExpansion

set /a count=2

for /F %%a in ('Type "list.txt" ^| MORE +!COUNT!') do (echo %%a)

Pause&exit 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T06:30:12.193

在 for-options 中只能使用百分比扩展，不能使用延迟扩展。
如果您的跳过值本身是在一个块中计算的，那么您需要将 for 循环提取到一个函数中

# javascript - 用 Javascript 替换 vb 脚本以在所有浏览器中兼容

> ID：13639898
> 
> 赞同：2
> 
> 时间：2012-11-30T06:04:54.250
> 
> 标签：javascript, html, vbscript, dom-events

我正在尝试在 html 文件中将 Javascript 中的 vbscript 函数转换为在同一页面中打开链接。我在 vbscript 中使用以下代码：

```
 <SCRIPT LANGUAGE="VBScript">
 Sub clickHandler()
    sP = Window.Event.SrcElement.ID
    If Left(sP, 1) = "M" Then
        Set oC = Document.All("C" & Mid(sP, 2))
        If oC.Style.Display = "none" Then
            oC.Style.Display = ""
         Else
            oC.Style.Display = "none"
        End If
        Set oC = Nothing
      End If
  End Sub 
```

Javascript中有哪些替代方法？请建议一些东西或任何在线帮助将 vbscript 代码转换为 Javascript。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T10:19:02.857

```
function clickHandler(e)
{
  var sP=(e?(e.target || e.srcElement):window.event.srcElement).id;
  if(sP[0]=="M")
  {
    var oC=document.getElementById("C"+sP.substr(1));
    if(oC.style.display=="none") oC.style.display="";
    else oC.style.display="none";
  }
} 
```

请注意，您还必须以这种方式注册事件处理程序：

```
<button id="M78" onclick="clickHandler(event);">Whatever</button> 
```

# javascript - JavaScript 是否应该能够通过元素的样式属性读取 CSS 中设置的元素位置？

> ID：13639899
> 
> 赞同：1
> 
> 时间：2012-11-30T06:05:00.310
> 
> 标签：javascript, css, dom

在[http://jsfiddle.net/Xs9e2/](http://jsfiddle.net/Xs9e2/)上有两个元素，名为 ONE 和 TWO。通过使用 JavaScript 分配给 DOM 元素的样式属性来定位元素 ONE。元素 TWO 使用 CSS 定位。

HTML 按预期呈现。

可以按下一个按钮来提醒这两个元素中的每一个的`left`和属性。`top`我们只看到在 JavaScript 中设置的属性，而不是在 CSS 中设置的属性。

这究竟是什么原因？ *我们不*应该能够通过 JavaScript 读取 CSS 属性吗？我可能错误地指定了某些内容。我知道“偏移”属性，也知道 JQuery；我只是不明白为什么这种老式的 DOM 操作不能像我预期的那样工作。我错过了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T06:11:08.197

该`style`属性是，嗯，一个属性。也就是说，您只能访问 HTML 元素的属性中给出的值`style`：

> ### [3.2.3.8 样式属性](http://www.w3.org/TR/2012/WD-html5-20121025/global-attributes.html#the-style-attribute)
> 
> `style`IDL 属性必须返回一个`CSSStyleDeclaration`其值表示该属性中指定的声明的值。（如果该属性不存在，则该对象表示一个空声明。）改变`CSSStyleDeclaration`对象必须在元素上创建一个样式属性（如果还没有），然后将其值更改为表示序列化形式的值`CSSStyleDeclaration`目的。每次都必须返回相同的对象。

使用 CSS 给出的样式不设置元素的属性，因此您无法使用`.style`.

但是，您可以使用[getComputedStyle](http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSview-getComputedStyle)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:10:56.760

您可以使用 IE 特定的[`currentStyle`](http://msdn.microsoft.com/en-us/library/ie/ms535231%28v=vs.85%29.aspx)，它具有所有样式或更好的标准样式（如所指出的）在 IE9+ 中支持的[getComputedStyle](http://msdn.microsoft.com/en-us/library/ie/ff975168%28v=vs.85%29.aspx)[`style`](http://msdn.microsoft.com/en-us/library/ie/ms535870%28v=vs.85%29.aspx) ，而不是仅反映内联样式。

```
alert("one at " 
    + JSON.stringify([getComputedStyle(one).left,getComputedStyle(one).top])
    + "two at "
    + JSON.stringify([getComputedStyle(two).left,getComputedStyle(two).top])); 
```

# java - 如何在我的 Java 程序中使用 RegExp？

> ID：13639902
> 
> 赞同：1
> 
> 时间：2012-11-30T05:23:43.913
> 
> 标签：java, regex

我有以下字符串示例：

```
00001 1 12 123
00002 3 7 321
00003 99 23 332
00004 192 50 912 
```

在单独的文本文件中。**数字由制表符而不是空格分隔。**

如果它与给定的正则表达式匹配，我尝试读取文件并打印每一行，但我找不到适合这些行的正则表达式。

```
private static void readFile() {
    String      fileName = "processes.lst";
    FileReader  file = null;
    String      result = "";

    try {
        file = new FileReader(fileName);
        BufferedReader reader = new BufferedReader(file);

        String line = null;
        String regEx = "[0-9]\t[0-9]\t[0-9]\t[0-9]";
        while((line = reader.readLine()) != null)  {
            if(line.matches(regEx)) {
                result += "\n" + line;
            }
        }
    } catch(Exception e) {
        System.out.println(e.getMessage());
    } finally {
        if(file != null)
            try {
                file.close();
            } catch(Exception e) {
                System.out.println(e.getMessage());
            }
    }

    System.out.println(result);
} 
```

我最终没有打印任何字符串！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T05:38:49.293

问题是只`[0-9]`匹配一个数字，但您的输入通常在 TAB 字符之间有多个数字。您需要使用`[0-9]+`来匹配每个数字。（`+`表示前一个的一个或多个重复......）

但更简单的解决方案是使用`String.split(...)`...阅读 javadoc。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-03T11:35:09.077

用这个 `String regEx = "[0-9]+\s[0-9]+\s[0-9]+\s[0-9]+";`

*   至少 1 个字符及以上
*   最少 0 个字符及以上

{2,3} 最少 2 个字符，最多 3 个字符

# python - 如何在python中处理xml文件

> ID：13639910
> 
> 赞同：1
> 
> 时间：2012-11-30T06:05:41.987
> 
> 标签：python, xml, process

我有一个 ~1GB XML 文件，其中包含我需要从中获取数据的 XML 标记。我有以下格式的 XML 文件（我只是粘贴示例数据，因为实际文件的大小约为 1 GB）。

**报告.xml**

```
<report>
  <report-name name="ALL_TIME_KEYWORDS_PERFORMANCE_REPORT"/>
  <date-range date="All Time"/>
  <table>
  <row campaignID="79057390" adGroupID="3451305670" keywordID="3000000" keyword="Content" avgPosition="1.55" cost="252910000" clicks="11" conv1PerClick="0" impressions="7395" day="2012-04-23" currency="INR" account="Virtual Voyage" timeZone="(GMT+05:30) India Standard Time" viewThroughConv="0"/>

  <row campaignID="79057390" adGroupID="3451305670" keywordID="3000000" keyword="Content" avgPosition="1.16" cost="0" clicks="0" conv1PerClick="0" impressions="160" day="2012-04-23" currency="INR" account="Virtual Voyage" timeZone="(GMT+05:30) India Standard Time" viewThroughConv="0"/>

  <row campaignID="79057390" adGroupID="3451305670" keywordID="3000000" keyword="Content" avgPosition="1.56" cost="0" clicks="0" conv1PerClick="0" impressions="34" day="2012-04-23" currency="INR" account="Virtual Voyage" timeZone="(GMT+05:30) India Standard Time" viewThroughConv="0"/>

  </table>
</report> 
```

1.  在 Python 中解析/处理 XML 文件并从 xml 标签中获取数据的最佳方法是什么？

2.  有没有可以处理 XML 文件的框架？

3.  该方法需要快速；它需要在 100 秒内完成。

我一直在使用 Hadoop 和 Python 来处理 XML 文件，处理数据通常需要将近 200 秒......所以我正在寻找一种替代解决方案来解析上述 XML 标签并从标签中获取数据。

从某种意义上说，这是来自标签的数据：

```
 campaignID="79057390" adGroupID="3451305670" keywordID="3000000" keyword="Content" avgPosition="1.16" cost="0" clicks="0" ... 
```

处理完 XML 文件后，我会将数据和值 (79057390,3451305670 ...) 存储在 MySQL 数据库中。我所需要的只是能够处理大约 1GB 大小的 XML 文件，并在不到 100 秒的时间内将处理后的数据保存到 MySQL 数据库中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:35:09.157

我最近遇到了一个类似的问题，为我解决的方法是使用 iterparse 函数和 lxml，最后，它都是基于使用类似 SAX 的解析器而不是类似 DOM 的解析器，记住 DOM 在内存中工作而 SAX 是事件驱动的，因此您将使用 SAX 节省大量内存（这也意味着时间！因为您无需等待加载所有文档即可解析它！）

我认为你可以使用这样的东西

```
import xml.etree.cElementTree as ET

file_path = "/path/to/your/test.xml"
context = ET.iterparse(file_path, events=("start", "end")) #Probably we could use only the start tag
# turn it into an iterator
context = iter(context)
on_members_tag = False

for event, elem in context:
    tag = elem.tag
    value = elem.text
    if value :
        value = value.encode('utf-8').strip()       
    if event == 'start' :
        if tag == "row" :
            attribs = elem.attrib
            print "This is the campaignID %s and this is the adGroupID" % (attribs['campaignID'] , attribs['adGroupID'])

    elem.clear() #Save memory! 
```

# dynamics-crm-2011 - Microsoft Dynamics CRM Online 注册新程序集

> ID：13639913
> 
> 赞同：0
> 
> 时间：2012-11-30T06:05:53.140
> 
> 标签：dynamics-crm-2011, dynamics-crm-online

我从 Microsoft 下载了一个 30 天的免费试用版，我想使用插件注册工具注册一个新的程序集。当我去创建新连接时，对于发现 URL，我应该写什么？我的网址是：https://xxxx.crm.dynamics.com

我的公司有一个 Dynamics CRM On Premise，我能够连接并注册一个新程序集，但那里的 url 包含端口号，例如 http://xxxxx:5555/Dev

也许使用 Microsoft Dynamics CRM Online 没有办法注册自定义程序集？请让我知道它是否属实（提供链接）或者请让我知道如何连接到 CRM Online

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:49:44.657

[您绝对可以在 CRM Online 中注册程序集](http://msdn.microsoft.com/en-us/library/gg309620.aspx)（但它们必须在沙盒/隔离模式下注册）。

您需要的 URL 记录[在这里](http://msdn.microsoft.com/library/gg328127.aspx)。如果您最近才配置您的环境，那么它将基于 Office 365，因此我认为这是插件注册工具所需的 URL： [https ://disco.crm.dynamics.com](https://disco.crm.dynamics.com)

请注意，您的登录凭据将帮助平台确定您尝试访问的组织，一旦发现服务对您进行了身份验证，系统将提示您从您有权访问的组织列表中进行选择。

[此博客条目](http://readybms.blogspot.co.uk/2012/09/error-registering-plugin-with-crm.html)描述了您的相同场景。

# android - 在 android 应用程序中创建 facebook 事件

> ID：13639919
> 
> 赞同：4
> 
> 时间：2012-11-30T06:06:17.463
> 
> 标签：android, facebook, events

我是 android 新手，我只想从我要开发的应用程序中**创建一个 Facebook 事件。**稍后我将添加邀请朋友的功能。我想将邀请显示为通知或任何好的方式。

我在互联网上做了很多研究，但找不到解决方案。

我将非常感谢任何解决方案...

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-03T07:50:05.100

```
package com.tharaka.facebook;

import java.io.FileNotFoundException;
import java.io.IOException;
import java.net.MalformedURLException;

import org.json.JSONException;
import org.json.JSONObject;

import android.app.Activity;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.Toast;

import com.facebook.android.AsyncFacebookRunner;
import com.facebook.android.AsyncFacebookRunner.RequestListener;
import com.facebook.android.DialogError;
import com.facebook.android.Facebook;
import com.facebook.android.Facebook.DialogListener;
import com.facebook.android.FacebookError;
import com.tharaka.facebook.R;

public class MainActivity extends Activity implements OnClickListener
{

    // Your Facebook APP ID
    private static String APP_ID = "392736034134808"; // Replace your App ID
                                                      // here

    // Instance of Facebook Class
    private Facebook facebook;
    private AsyncFacebookRunner mAsyncRunner;
    String FILENAME = "AndroidSSO_data";
    private SharedPreferences mPrefs;
    private Button btnFbLogin;
    private Button btnCreateEvent;
    private String TAG="MainActivity";

    @Override
    protected void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        initialize();
        setListeners();
    }

    private void initialize()
    {
        facebook = new Facebook(APP_ID);
        mAsyncRunner = new AsyncFacebookRunner(facebook);
        btnFbLogin = (Button) findViewById(R.id.button_FbLogin);
        btnCreateEvent = (Button) findViewById(R.id.button_createEvent);
    }

    private void setListeners()
    {
        btnFbLogin.setOnClickListener(this);
        btnCreateEvent.setOnClickListener(this);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu)
    {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    @Override
    public void onClick(View view)
    {
        switch (view.getId())
        {
            case R.id.button_FbLogin:
                loginToFacebook();
                break;            
            case R.id.button_createEvent:
                createEvent();
                Toast.makeText(getApplicationContext(), "New Event Created!!", Toast.LENGTH_LONG).show();
                break;
            default:
                break;
        }
    }

    private void loginToFacebook()
    {
        mPrefs = getPreferences(MODE_PRIVATE);
        String access_token = mPrefs.getString("access_token", null);
        long expires = mPrefs.getLong("access_expires", 0);

        if (access_token != null)
        {
            facebook.setAccessToken(access_token);
        }

        if (expires != 0)
        {
            facebook.setAccessExpires(expires);
        }

        if (!facebook.isSessionValid())
        {
            facebook.authorize(this, new String[] {
                "email", "publish_stream", "create_event"
            }, new DialogListener()
            {

                @Override
                public void onCancel()
                {
                    // Function to handle cancel event
                }

                @Override
                public void onComplete(Bundle values)
                {
                    // Function to handle complete event
                    // Edit Preferences and update facebook acess_token
                    SharedPreferences.Editor editor = mPrefs.edit();
                    editor.putString("access_token", facebook.getAccessToken());
                    editor.putLong("access_expires", facebook.getAccessExpires());
                    editor.commit();
                }

                @Override
                public void onError(DialogError error)
                {
                    // Function to handle error

                }

                @Override
                public void onFacebookError(FacebookError fberror)
                {
                    // Function to handle Facebook errors

                }

            });
        }
    }

    private void createEvent()
    {
        try
        {
            Bundle params = new Bundle();
            params.putString("name", "This is a test event");
            params.putString("start_time", "2013-12-02T18:00:00+0530");
            params.putString("end_time", "2013-12-02T20:00:00+0530");
            params.putString("description", "This is test description yeah?.");
            params.putString("location", "Mount Lavinia");
            //params.putString("location_id", "");
            params.putString("privacy_type", "OPEN");
            mAsyncRunner.request("me/events", params, "POST", new RequestListener()
            {

                @Override
                public void onMalformedURLException(MalformedURLException e, Object state)
                {

                }

                @Override
                public void onIOException(IOException e, Object state)
                {

                }

                @Override
                public void onFileNotFoundException(FileNotFoundException e, Object state)
                {

                }

                @Override
                public void onFacebookError(FacebookError e, Object state)
                {

                }

                @Override
                public void onComplete(String response, Object state)
                {
                    try
                    {
                        JSONObject event = new JSONObject(response);
                        String event_id = event.getString("id");
                        Log.i(TAG, "Event id => "+event_id);

                       //Toast.makeText(getApplicationContext(), "New Event Created!!", Toast.LENGTH_LONG).show();
                    }
                    catch (Exception e)
                    {

                    }
                }
            }, null);
        }
        catch (Exception e)
        {

        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T08:16:44.343

只需参考下面给出的链接：

[http://ericosgood.com/prog/facebook-android-sdk-tutorial/](http://ericosgood.com/prog/facebook-android-sdk-tutorial/)

和

[http://www.facebook.com/help/](http://www.facebook.com/help/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T06:10:06.747

**谷歌 > Facebook 开发者**

这会告诉你一切。

或者

您可以找到一些其他链接来构建 Facebook 集成应用程序。

祝你好运。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T06:17:01.137

首先从以下链接下载 belove 项目... [https://github.com/facebook/facebook-android-sdk](https://github.com/facebook/facebook-android-sdk) 并在您的项目中使用 facebook sdk 并遵循此（[http://www.integratingstuff.com/2010/10/ 14/integrating-facebook-into-an](https://github.com/facebook/facebook-android-sdk) ) 链接更多 facebook intergaration [.][2]

# html - 查看 HTML 元素从哪里获取样式表

> ID：13639923
> 
> 赞同：0
> 
> 时间：2012-11-30T06:07:14.007
> 
> 标签：html, css, gridview, stylesheet

我在 Visual Studio 2010 中有一个项目。有一个母版页，内容页和内容页上的网格视图。和一个链接到母版页的 css 文件。

有没有办法查看我的 GridView 从哪里得到它的样式表？它没有明确指定样式，并且我的 css 文件没有 GridView 元素，但它正在获取样式。我只是想知道我的 css 文件中的哪些元素被应用到 GridView 以便我可以更改它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:19:34.817

FireBug for Mozilla 有一个 CSS 检查器，它将解决所有级联问题并告诉您样式的来源。

# c++ - 有没有办法自动在所有 C 或 CPP 文件中包含头文件？

> ID：13639928
> 
> 赞同：2
> 
> 时间：2012-11-30T06:07:38.477
> 
> 标签：c++, c, unix, gcc, makefile

> **可能重复：**
> [如何通过 makefile 包含头文件](https://stackoverflow.com/questions/11346935/how-to-include-header-file-through-makefile)

我正在使用 gcc 来编译我的代码。我也有一些制作文件。我可以告诉编译器包含一个特定的头文件以自动包含在所有 CPP 文件中吗？

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-30T06:12:13.780

为您的-s添加适当的[预处理器选项](http://gcc.gnu.org/onlinedocs/gcc/Preprocessor-Options.html)，并有一个定义这些的头文件。`gcc``Makefile``common_feature_header.h`

```
 # in Makefile
 CPPFLAGS+= -include common_feature_header.h 
```

如果您只想定义一些预处理器标志，则不需要`common_feature_header.h`文件，只需添加到`Makefile`以下定义中

```
 CPPFLAGS+= -DSOME_FEATURE_FLAG=1 -DSOME_OTHERFEATURE_FLAG=0 \
            -DYET_ANOTHER_THING=2 
```

另请参阅[此答案](https://stackoverflow.com/a/495646/841108)。

PS 你可能想使用[remake](http://bashdb.sourceforge.net/remake/)（特别是它的`-x`选项）来调试你的`Makefile`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:10:48.163

直接在 makefile 本身中，您可以对其进行操作`-DFEATURE1_SUPPORTED=1`以使其对所有使用它的 CPP 生效。

请参阅 SO 问题：[是否可以在 makefile 中定义 C 宏？](https://stackoverflow.com/questions/5302390/is-it-possible-to-define-c-macro-in-makefile)

# iphone - Install ad hoc on unsupported iOS devices

> ID：13639929
> 
> 赞同：2
> 
> 时间：2012-11-30T06:07:46.983
> 
> 标签：iphone, xcode, ad-hoc-distribution

I am updating an app (whose original deployment target was 3.1.2) and I'm trying test it on a 2nd generation iPod Touch with iOS 4.2.1\. The current release of Xcode (4.5) no longer connects to any device before iOS 4.3, so I can't put the application over USB or even monitor the device log, so installation needs to be over the air using an ad hoc distribution.

I am able to wirelessly install the app on an iOS 6 iPod Touch, but when I try to install it on the 4.2.1 device, I see it download and I see the app label say "Installing...", but in the end I get the pop-up message `Unable to Download "[app name]"`.

Three important details:

1.  The ad hoc cert I'm using is good.
2.  I've confirmed with the iPhone Configuration Utility that the ad hoc distribution certificate is installed on the 4.2.1 device.
3.  I'm worried that I may have used an SDK method or property that only works in 4.3+, though I do not know if any binary validation happens during installation.

Does anyone know what might be happening?

Does anyone know how I can read the device console for a pre-4.3 device without installing an earlier version of XCode?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T09:11:55.230

在这里回答（一半）我自己的问题：

Xcode 4.5的[发行说明](http://developer.apple.com/library/ios/#releasenotes/DeveloperTools/RN-Xcode/_index.html)`This version of Xcode does not generate armv6 binaries.`明确指出：由于第二代 Touches 是 armv6，这意味着您无法生成涵盖这些早期设备的通用二进制文件。如果您想支持它们，我认为您唯一的选择是将您的 Xcode 回滚到 4.4。下次我会更加小心地阅读发行说明。

**如果有人知道任何其他方法可以在不降级 XCode 的情况下从“不受支持的”设备上获取控制台日志信息，请添加答案，我会将其标记为回答此问题。**

# java - Loading resource bundle outside WEB-INF/classes folder

> ID：13639930
> 
> 赞同：1
> 
> 时间：2012-11-30T06:07:48.187
> 
> 标签：java, resourcebundle

For some reason the messages.properties file is located somewhere in `WEB-INF` folder but outside `WEB-INF/classes` folder. Specifically the file's path is /WEB-INF/messages/messages.properties. How do I load this resource bundle using the method `ResourceBundle.getBundle( ? )`?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:47:29.420

您可以使用 Servlet 上下文获取路径，如下所示；

```
getServletContext().getResource("/messages/messages.properties).getPath(); 
```

然后使用 URLClassLoader() 创建一个类加载器并将其传递给 getBundle() 方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-03T01:23:33.823

我只是组合了一个 ResourceBundle.Control 扩展来处理这种确切的情况：

[https://gist.github.com/Tzrlk/82d74c074e63955a8a35](https://gist.github.com/Tzrlk/82d74c074e63955a8a35)

用法：

```
ServletContext servletContext = //! get access to servlet context instance
Locale locale = //! get access to locale instance

try {
    ResourceBundle.Control control = new ServletContextBundleControl(servletContext);
    ResourceBundle bundle = ResourceBundle.getBundle("/WEB-INF/messages/messages", locale, control);
} catch (MissingResourceException error) {
    // handle exception 
} 
```

# php - How to include css in a hmvc setup in codeigniter

> ID：13639932
> 
> 赞同：2
> 
> 时间：2012-11-30T06:07:58.630
> 
> 标签：php, twitter-bootstrap, codeigniter-2, hmvc

I have setup the combination Codeigniter + HMVC + Twitter Bootstrap using [this tutorial](http://www.quizld.com/2012/05/how-to-set-up-hmvc-in-codeigniter-2-1/). I have created two modules named app and session. The app module contains the [twitter bootstrap sample](http://twitter.github.com/bootstrap/examples/carousel.html). When I click on About link, a new login page is displayed which is the session module configured using

```
<?php echo Modules::run('session/session/index'); ?> 
```

The problem I am facing is that when I include the twitter bootstrap in both the views, the app module gets realigned and corousal doesnt work.

How do I get the CSS to work with the session module ?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-14T05:27:41.827

如果您的 CSS 文件位于根级别的 CSS 文件夹中，这可能是一个好主意（与您的 Application 文件夹相同的级别），您只需将它们包含在您的模板中：

```
<link href="<?php echo base_url() ?>css/mystylesheet.css" rel="stylesheet'> 
```

# python - Symbolic array expression

> ID：13639936
> 
> 赞同：2
> 
> 时间：2012-11-30T06:08:40.980
> 
> 标签：python, scipy, sympy

I'm wondering if there's a way to treat array variables symbolically (something like sympy but for array instead of numerical variables). So that I can have array expressions such as

```
f1 = 3*A[i] + 4*B[i][j] - 7 == 0 
```

or something even more advanced such as nested array relations

```
f2= 3 * A[C[i][j]] == B[i] + 3 
```

By treating A, B symbolically, I can change the contents of A, B by using substitution , e.g.:

```
f1.subs(A=[1,2,3,4],B=[[1,2],[3,4]]) 
```

I can then add f1 and f2, etc.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T16:15:12.973

从您的标签来看，我假设您主要对 Python 解决方案感兴趣。

有一些项目以符号方式构建数组表达式。我建议你看看

*   [Theano](http://deeplearning.net/software/theano/) - 为代码生成构建数组表达式。主要用于机器学习应用程序，但一个相当普遍的项目。
*   [SymPy 矩阵表达式](http://docs.sympy.org/dev/modules/matrices/expressions.html)- 仅限于矩阵，但处理我们对线性代数的一些特殊知识。
*   [SymPy 索引](http://docs.sympy.org/0.7.2/_modules/sympy/tensor/indexed.html)
*   [Blaze](https://github.com/ContinuumIO/blaze) - 一个由 Continuum 开发的新项目。

如果您愿意放弃 Python，可以查看 Mathematica 中的[xAct](http://www.xact.es/) 。

还有许多其他项目我没有在此处列出，它们可能与您的应用程序相关。符号线性代数是一个非常活跃的领域。但是，每个项目的设计都倾向于考虑特定的应用程序。

# android - android中直接在mysql数据中插入数据

> ID：13639937
> 
> 赞同：2
> 
> 时间：2012-11-30T06:08:42.583
> 
> 标签：android

我想在不使用任何网络服务的情况下将插入数据保存到 MYSQL 数据库中。有没有办法解决我的问题。或者无法将数据直接插入数据库。先感谢您。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T06:23:57.713

[DVK 回答了为什么你不应该这样做](https://stackoverflow.com/questions/2142070/why-should-a-developer-use-web-services-instead-of-direct-connections-to-a-db)

简而言之，是的，您*可以*直接将数据插入数据库，而无需使用 Web 服务。但是，正如 DVK 回答所提到的那样，您几乎没有什么收获。

此外，网络服务很容易制作。有很多框架可以让 web 服务变得非常简单，并且可以完成大部分繁重的工作。我不确定 mysql，但[.NET Framework 包含一些优秀的库。](http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api)

# iphone - 打印 NSString 时应用程序崩溃

> ID：13639938
> 
> 赞同：0
> 
> 时间：2012-11-30T06:08:44.737
> 
> 标签：iphone, objective-c

使用字符串崩溃应用程序。
`temp`是普通字符串，`strStartDate`也是来自日期的字符串。.h 文件

```
NSString *temp;
NSString *strStartDate
int status; 
```

.m 文件

```
-(void)viewDidLoad
{
    [super viewDidLoad];
    status = 1;
     strStartDate=[[NSString alloc]init];
    [self stateChanged];
}
-(void)stateChanged
{
    switch(status)
    {
    case 0:
        NSLog(@"%@",temp);
        NSLog(@"Start Date : %@",strStartDate);
        break;

    case 1:
        temp=[[NSString alloc]initWithString:@"Temp is here"];
        chargeStartDate=[[NSDate date] retain];
        NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
        [dateFormat setDateFormat:@"dd/MM/YYYY"];
        strStartDate =  [dateFormat stringFromDate:chargeStartDate];
        NSLog(@"string of start date : %@",strStartDate);
        [timeFormat release];
        [dateFormat release];
        break;
    }
} 
```

`temp`是普通字符串，`strStartDate`也是来自日期的字符串。字符串 `temp`并且`strStartDate`都分配相同的位置，都是类变量，并且打印相同的位置但在`case 0`temp 中是在`strStarDate`崩溃时打印。为什么？

我知道这很简单，但我无法理解。请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:13:55.323

您需要在使用 stringFromDate 初始化 strStartDate 后对其进行保留。该调用的结果将被自动释放，因此您需要保留来停止释放对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:26:53.180

它的发生是因为在`strStartDate`变量中没有存储值，`nil(NULL)`所以当你想打印它`%@`时它没有得到字符串值所以应用程序崩溃了..

尝试先分配`strStartDate = @"";`然后打印它，它会工作..

# opencv - 0xC000001D: Illegal Instruction when running cvHaarDetectObjects opencv

> ID：13639941
> 
> 赞同：3
> 
> 时间：2012-11-30T06:08:58.173
> 
> 标签：opencv

I get 0xC000001D: Illegal Instruction when running cvHaarDetectObject. Below is my code

```
int main() {

IplImage* img;
img = cvLoadImage( "lena.jpg",1);

CvMemStorage* storage = cvCreateMemStorage(0);
CvHaarClassifierCascade* cascade = (CvHaarClassifierCascade*)cvLoad( "haarcascade_frontalface_alt2.xml" );

static CvScalar colors[] = { {{0,0,255}}, {{0,128,255}}, {{0,255,255}}, 
{{0,255,0}}, {{255,128,0}}, {{255,255,0}}, {{255,0,0}}, {{255,0,255}} };

// Detect objects
cvClearMemStorage( storage );
CvSeq* objects = cvHaarDetectObjects( img, cascade, storage, 1.1, 2, 0, cvSize(40, 40) );

CvRect* r;
// Loop through objects and draw boxes
for( int i = 0; i < (objects ? objects->total : 0 ); i++ ){
    r = ( CvRect* )cvGetSeqElem( objects, i );
    cvRectangle( img, cvPoint( r->x, r->y ), cvPoint( r->x + r->width, r->y + r->height ),
        colors[i%8]);
}

cvNamedWindow( "Output" );
cvShowImage( "Output", img );
cvWaitKey();

cvReleaseImage( &img );

return 0;
} 
```

Is it something wrong with setup? I can compile the code, but when i run it, i get illegal instruction error, when the program run until cvHaarDetectObjects.

I have included all the lib files and place image inside the same directory of my project.

I'm using VS2010, Opencv2.4.3

Thanks and Best Regards

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T19:54:55.020

今天早上我正在处理这个确切的例子，刚刚修复了这个错误。

首先，我的存储出错了，所以我把它变大了（64MB 而不是默认值，我想记得查找的是 64KB）。这解决了我的第一个分配错误，但 cvHaarDetectObjects() 仍然发生。请注意，您可能/可能不必这样做。

接下来，我复制粘贴了在 cvHaarDetectObjects() 调用上方显示图像的部分：

```
cvNamedWindow( "Output" );
cvShowImage( "Output", img );
cvWaitKey();

// Detect objects
cvClearMemStorage( storage );
CvSeq* objects = cvHaarDetectObjects( img, cascade, storage, 1.1, 2, 0, cvSize(40, 40) ); 
```

它表明我的图像没有加载！一旦我确定我在那里显示的图像，我将它移回并作为一个整体运行代码 - 它就像一个魅力。

如果这没有帮助，我建议对进入 cvHaarDetectObjects() 的每个变量进行类似的跟踪，以查看哪个变量未正确分配。

# java - StringTokenizer 无法与 delim "//" 一起正常工作

> ID：13639942
> 
> 赞同：3
> 
> 时间：2012-11-30T06:09:09.430
> 
> 标签：java, string, stringtokenizer

我正在尝试在 delim“//”上断开字符串。我的字符串还包含“/”和 StringTokenizer 给出奇怪的结果，它也打破了“/”上的字符串。

```
 String  mStr = "abcd//aaa//32434//3/34343";
        StringTokenizer tok = new StringTokenizer(mStr, "//");
        while(tok.hasMoreTokens()){
            System.out.println(tok.nextToken());
        } 
```

结果是

```
abcd
aaa
32434
3
34343 
```

预期的结果是

```
 abcd
    aaa
    32434
    3/34343 
```

为什么会发生这种情况，解决方案是什么？我不想用其他字符替换“/”。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-30T06:13:24.963

`StringTokenizer`将两个标记分开，并对它们进行标记化。因此，它对`//`和都进行了标记`/`，因此也对结果进行了标记。

* * *

我宁愿选择[`String#split`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29). `StringTokenizer`它更易于使用，并且有更多选择。它可以`Regex`作为参数，并返回一个您以后可以使用`array`的参数`tokens`：-

```
String  mStr = "abcd//aaa//32434//3/34343";

String[] arr = mStr.split("//");
System.out.println(Arrays.toString(arr)); 
```

**输出 ： -**

```
[abcd, aaa, 32434, 3/34343] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-30T06:11:29.083

从[http://docs.oracle.com/javase/1.4.2/docs/api/java/util/StringTokenizer.html](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/StringTokenizer.html)：

> StringTokenizer 实例的行为方式有两种，具体取决于它是使用 returnDelims 标志创建的，其值为 true 或 false：
> 
> *   如果标志为假，则分隔符用于分隔标记。记号是非分隔符的连续字符的最大序列。
> *   如果标志为真，则分隔符本身被视为标记。因此，标记要么是一个分隔符，要么是非分隔符的最大连续字符序列。

`StringTokenizer`将始终在连续的分隔符上拆分，而不是在分隔符字符串本身上拆分。因此，您的拆分是“任意数量的斜线或斜线”。`//`是两个斜线或斜线；`/`是一个斜线或斜线。因此，您`StringTokenizer`将匹配两个序列作为分隔符。

换句话说，你`StringTokenizer`相当于拆分以下正则表达式：`[//]+`，而不是`//`你想象的那样。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-30T06:16:15.233

`StringTokenizer`是一个非常简单的类。如果您想要类似标记器的功能，您可以使用[`Scanner`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html)，因为它将分隔符字符串视为正则表达式。

```
 String mStr = "abcd//aaa//32434//3/34343";
    Scanner scanner = new Scanner(mStr);
    scanner.useDelimiter("//");
    while (scanner.hasNext()) {
        System.out.println(scanner.next());
    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-30T06:17:14.820

**-** `split()`的方法`String`会做得很好，`//`with `delimiter`。

```
public class Reg {

    public static void main(String[] args){

        String s = "abcd//aaa//32434//3/34343";
        String[] arr = s.split("//");

                for (String x : arr){

            System.out.println(x);
        }
       }
} 
```

# haskell - 不明白 Haskell 上的笛卡尔积实现是如何工作的

> ID：13639945
> 
> 赞同：0
> 
> 时间：2012-11-30T06:09:30.557
> 
> 标签：haskell, cartesian-product

我已经开始学习 Haskell，但我无法理解列表列表的笛卡尔积如何工作

这是假定的代码

```
cprod = foldr f [[ ]]
      where f xs yss = foldr g [ ] xs
            where g x zss = foldr h zss yss
                  where h ys uss = (x : ys) : uss 
```

我到底没有得到的是我理解的最后一个替换变量名的函数

```
mycart = foldr f [[]]
    where f currentresult listelem = foldr g [] currentresult
          where g currentresultonstep currentresultelem = foldr h currentresultelem listelem
                where h currentresultelemonstep onelistelem = (currentresultonstep:currentreslteleemonstep):onelistelem 
```

最后一个字符串不应该是这样的吗？

```
where h currentresultelemonstep onelistelem = (onelistelem:currentresultelemonstep):currentresultonstep 
```

当我们尝试将列表的元素添加到当前结果元素的开头？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T06:37:32.373

首先，您编写的代码在语法上无效：

```
foo.hs:3:13: parse error on input `where' 
```

其次，您似乎对以下第一个参数中的参数顺序感到困惑`foldr`：

```
foldr :: (a -> b -> b) -> b -> [a] -> b 
```

第一个参数 ( `a`) 是输入列表 ( `[a]`) 的一个元素，第二个参数 ( `b`) 是累加器。

# android - 开发建议：Android 的 Phonegap 或 Eclipse

> ID：13639950
> 
> 赞同：1
> 
> 时间：2012-11-30T06:10:12.657
> 
> 标签：android, eclipse, cordova, gps, phonegap-plugins

所以我需要开发一个应用程序来记录用户 gps 信息并将其传输到云数据库。一旦用户启动应用程序，它将作为后台应用程序在用户手机上持续运行。我的问题是因为我知道基于其他 SO 问题我需要一个插件来基本上让我的应用程序像这样在后台连续运行。是否建议我继续使用 Phonegap 还是应该完全在 Eclipse 中开发？基本上有可能完全在Phonegap中开发类似的东西（这对我来说更容易，因为这将是我的第一个应用程序）或者我应该从Eclipse唯一的道路开始。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:18:29.280

如果您想开发专业应用程序，请跳过电话间隙。我有过非常糟糕的经历。很多东西都没有记录在案，结果有时与文档不同。

跨平台也不一致。开发本机应用程序可以为您省去麻烦，并担心您的应用程序会在未来的平台上崩溃。您还可以使用本机 api 对位置 gps 进行更多控制，很多事情您将无法在电话间隙层上控制。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:29:46.087

PhoneGap 是一个框架，而 Eclipse 是一个 IDE。您所说的“我应该使用 Eclipse 开发吗？”可能是什么意思？是“我应该使用 Android API 吗？”。

使用 Android API 意味着您需要了解 Java。如果您了解 Java 的基础知识并使用它进行了一些编程，并且您可以很好地阅读 Java 文档，那么直接使用 Android API 将为您提供最大的灵活性。您可能需要阅读有关 Android 应用程序的生命周期的信息，但如果您正在为 Android 开发应用程序，那么无论如何这是必须的。

PhoneGap 是 Android API 的包装器，我认为这种方法对于编写 UI 可能是可行的，但对于您在问题中定义的用例来说，它不会是直截了当的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T11:26:24.863

Phonegap 有一个后台进程插件。[https://github.com/phonegap/phonegap-plugins/tree/master/Android/BackgroundService](https://github.com/phonegap/phonegap-plugins/tree/master/Android/BackgroundService)

在该位置可以找到进一步的文件和样本。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-21T12:04:49.200

请参阅此链接以获取简单的 Hello world Phonegap 应用程序，初始设置到 Android 的 Eclipse 中 PhoneGap 入门

[http://www.adobe.com/devnet/html5/articles/getting-started-with-phonegap-in-eclipse-for-android.html](http://www.adobe.com/devnet/html5/articles/getting-started-with-phonegap-in-eclipse-for-android.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-21T12:20:46.290

如果你了解一些基本的 Java，那就去原生吧。性能将永远更好，您将可以访问完整的硬件 API。

PhoneGap 和类似的框架*可能*有很好的性能，但它们**永远不会**比原生项目更好。

# java - 如何将按钮添加到相机预览android？

> ID：13639953
> 
> 赞同：1
> 
> 时间：2012-11-30T06:10:27.773
> 
> 标签：java, android, xml, android-manifest

我正在开发摄影应用程序，我的要求是为我开发代码的相机预览叠加效果。在此代码中，我将图像叠加到表面视图。

```
public class OverlayLiveCamera extends Activity {
       Camera camera;
       LayoutInflater controlInflater = null;
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            requestWindowFeature(Window.FEATURE_NO_TITLE);

            Preview mPreview = new Preview(this);
            DrawOnTop mDraw = new DrawOnTop(this);
            setContentView(mPreview);
            addContentView(mDraw, new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
        }

       class Preview extends SurfaceView implements SurfaceHolder.Callback{

            SurfaceHolder mHolder;

            Preview(Context context) {
                super(context);
                // Install a SurfaceHolder.Callback so we get notified when the
                // underlying surface is created and destroyed.
                mHolder = getHolder();
                mHolder.addCallback(this);
                mHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
            }

            public void surfaceCreated(SurfaceHolder holder) {
                // The Surface has been created, acquire the camera and tell it where
                // to draw.
                camera = Camera.open();
                try {
                    camera.setPreviewDisplay(holder);
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
            }

            public void surfaceDestroyed(SurfaceHolder holder) {
                // Surface will be destroyed when we return, so stop the preview.
                // Because the CameraDevice object is not a shared resource, it's very
                // important to release it when the activity is paused.
                camera.stopPreview();
                camera = null;
            }

            public void surfaceChanged(SurfaceHolder holder, int format, int w, int h) {
                // Now that the size is known, set up the camera parameters and begin
                // the preview.
                Camera.Parameters parameters = camera.getParameters();
                parameters.setPreviewSize(w, h);
                parameters=camera.getParameters();
                camera.setParameters(parameters);
                camera.startPreview();
            }
       }
        class DrawOnTop extends View {

            public DrawOnTop(Context context) {

                super(context);

                // TODO Auto-generated constructor stub
            }

            @Override
            protected void onDraw(Canvas canvas) {
                // TODO Auto-generated method stub
                Bitmap mBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.water);
                Paint paint = new Paint();
                paint.setAlpha(100);
                canvas.drawBitmap(mBitmap, 0, 0, paint); 

                super.onDraw(canvas);
            }

        } 
```

我的xml代码

```
<FrameLayout
      xmlns:android="http://schemas.android.com/apk/res/android"
      android:layout_width="match_parent"
      android:layout_height="match_parent">
    <SurfaceView android:id="@+id/surfaceView1" android:layout_width="wrap_content" android:layout_height="wrap_content"></SurfaceView>
    <LinearLayout android:id="@+id/linearLayout1" android:layout_width="wrap_content" android:layout_height="wrap_content">
        <Button android:text="Button" android:id="@+id/button1" android:layout_width="wrap_content" android:layout_height="wrap_content"></Button>
        <Button android:text="Button" android:id="@+id/button2" android:layout_width="wrap_content" android:layout_height="wrap_content"></Button>
    </LinearLayout>

</FrameLayout> 
```

因为它将显示和覆盖图像，但它不会显示按钮，并且当我单击按钮时，覆盖视图捕获并保存到 SD 卡中。

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T11:53:43.077

U can add the button by using below code..

```
 <FrameLayout android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:layout_weight="2"
  android:padding="5dip"  
  >
  <com.commonlib.controls.CameraPreview
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:layout_weight="1"
  android:layout_gravity="center"
  android:id="@+id/surface_camera"
  />
  <Button android:id="@+id/target"
    android:layout_gravity="center"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="surfacebuttonview"
    >
    </Button>
</FrameLayout> 
```

# c# - 将数据从数据集中插入到表中

> ID：13639955
> 
> 赞同：0
> 
> 时间：2012-11-30T06:10:31.300
> 
> 标签：c#, sql

我有一个包含 18000 + 行的数据集。有没有办法将它插入到 SQL Server 数据库表中，而无需逐行遍历数据集？数据集将具有与数据库表完全相同的结构。我得到了超过 4 列。任何代码示例或链接都会很棒。非常感谢大家

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T06:14:40.267

您可以将[SQLBulkCopy](http://msdn.microsoft.com/en-us/library/30c3y597.aspx)与以下方法一起使用： [SqlBulkCopy.WriteToServer Method (DataTable) - MSDN](http://msdn.microsoft.com/en-us/library/ex21zs8x.aspx)

> 将提供的 DataTable 中的所有行复制到由 SqlBulkCopy 对象的 DestinationTableName 属性指定的目标表。

就像是：

```
using (SqlBulkCopy bulkCopy = new SqlBulkCopy(connection))
            {
                bulkCopy.DestinationTableName = 
                    "dbo.BulkCopyDemoMatchingColumns";

                try
                {
                    // Write from the source to the destination.
                    // Check if the data set is not null and tables count > 0 etc
                    bulkCopy.WriteToServer(yourDataSet.Tables[0]);
                }
                catch (Exception ex)
                {
                    Console.WriteLine(ex.Message);
                }
            } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:17:29.527

使用 C#.net 的 sqlbulkcopy 组件。[**请在此处**](http://www.codeproject.com/Articles/18418/Transferring-Data-Using-SqlBulkCopy)查看示例的详细信息[](http://www.codeproject.com/Articles/18418/Transferring-Data-Using-SqlBulkCopy)

# java - Kryonet 和安卓

> ID：13639961
> 
> 赞同：7
> 
> 时间：2012-11-30T06:11:09.787
> 
> 标签：java, android, kryonet

我正在尝试在 Android 应用程序中使用 Kryonet，但是当我在 Android 虚拟设备甚至我的 Android 手机上尝试时，我收到此错误：

```
-Could not find class 'com.esotericsoftware.kryonet.Client', referenced from method com.Boussole.phone.MainActivity.onCreate 
```

我已经将 Kryonet 添加到构建路径中：

```
properties/java build path --> Libraries-->add jars --> kryonet-2.18-all.jar 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-06T21:23:05.160

如果您使用带有 ADT 的 Eclipse，当您想要添加一个 jar 库时，您唯一需要做的就是将其复制并粘贴到 libs 文件夹（该文件夹已经存在于您的 Android 项目下），ADT 将负责将其添加到构建路径。

实际上，您别无选择，如果您将 jar 文件添加到构建路径（旧方式），它将正确编译，但在启动应用程序时会出现 NoClassDefFoundException。

（答案已经在 njzk2 的简洁评论中提及）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-14T15:56:17.123

我必须将项目导入我的 Eclipse 工作区。通过...

文件 > 导入 > 现有项目到工作区。这是项目的顶层。（我假设它是从 github 下载的？）

我确实将 lib 文件复制到了我的 Android 项目 lib 文件夹中。

我确实遇到了一些错误，但后来以管理员身份运行 eclipse 解决了所有错误。由于 buildconfig 未能在我的 Facebook SDK 中构建。

# entity-framework-5 - Code First 代码生成尝试创建模型？

> ID：13639962
> 
> 赞同：3
> 
> 时间：2012-11-30T06:11:10.097
> 
> 标签：entity-framework-5, ef-model-first

迁移到 Entity Framework 5，首先是模型（由于数据库很复杂并且需要单独维护）。使用新的 DbContext 代码生成器导入数据库。

```
 protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        throw new UnintentionalCodeFirstException();
    } 
```

当我手动生成连接时生成并触发 - 我必须这样做（我们的连接设置在单独的配置文件中）。

消息内容如下：

如果在 Code First 模式下使用，使用用于 Database First 和 Model First 开发的 T4 模板生成的代码可能无法正常工作。要继续使用 Database First 或 Model First，请确保在执行应用程序的配置文件中指定了实体框架连接字符串。要使用从 Database First 或 Model First 生成的这些类，使用 Code First 添加使用属性或 DbModelBuilder API 的任何其他配置，然后删除引发此异常的代码。

什么？

我怎么能压制这个？我不希望实体框架对数据库模式做任何事情，但显然我希望能够使用数据库。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T21:20:32.993

您想阅读以下内容： http: [//blog.oneunicorn.com/2012/02/26/dont-use-code-first-by-mistake/](http://blog.oneunicorn.com/2012/02/26/dont-use-code-first-by-mistake/)它解释了那里发生的事情以及为什么会出现此异常。

# activereports - 将活动报告部分动态定位到新页面

> ID：13639966
> 
> 赞同：1
> 
> 时间：2012-11-30T06:11:38.833
> 
> 标签：activereports

我在处理活动报告时遇到了一些麻烦。我的报告有 20-30 页，带有标题和解释。在每个标题下都有一个图像，然后是解释。所以这就像一页一页地连续。所以每一页都包含多个标题和解释。这与我报告的详细信息部分一样。

但问题是，在某些页面中，标题显示在页面底部，并且图像和说明被移至下一页，因为标题后该页面上没有空间来容纳图像和说明。所以我的问题是，我是否可以将标题几乎位于页面边缘的部分移动到新页面。这样标题、图像和解释就会出现在新页面中，从而解决了这种尴尬的感觉。

请求您的关注，因为这是我项目中的紧急要求。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T23:54:05.323

如果您只关心标题与其他内容分离，您可以将部分的 KeepTogether 属性设置为 True，这将导致 ActiveReports 尝试将所有内容放在同一页面上。

但是，在这种情况下，您希望在该部分的内容从页面下方的任意点开始时添加分页符。

为此，您可以跟踪与页面相关的部分顶部。如果它大于某个值，则启用分页控件，否则保持分页控件禁用。ActiveReports 6 SP2 添加了[CurrentLocation](http://www.datadynamics.com/Help/ActiveReports6/webframe.html?topic4456.html)属性，可用于获取页面上部分的位置。

没有内置的东西可以处理这个问题。您需要跟踪 BeforePrint 事件中的部分高度，增加各种高度计数器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-03T08:57:38.607

您可以在报告中添加额外级别的分组，以便每个标题都有一个组吗？然后您可以使用新页面之前/之后属性来确保每个标题都有自己的页面？可能的缺点是每个标题都会获得一个新页面，这可能不是您想要的

# vb.net - 如何阻止它显示前几个字符？

> ID：13639970
> 
> 赞同：0
> 
> 时间：2012-11-30T06:11:58.180
> 
> 标签：vb.net

如何使这一行不显示它找到的前 7 个字符？

```
For Each u9 As HtmlElement In WebBrowser3.Document.GetElementsByTagName("div")
    If Not Object.ReferenceEquals(u9.GetAttribute("className"), Nothing) AndAlso u9.GetAttribute("className").Equals("duration_data") Then
        TextBox12.Text = u9.InnerText
        Exit For
    End If
Next 
```

我想它会进入`TextBox12.Text = u9.InnerText`，但我不确定什么样的代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:24:03.807

您可以使用 Substring 方法来实现此目的：

```
For Each u9 As HtmlElement In WebBrowser3.Document.GetElementsByTagName("div")
    If Not Object.ReferenceEquals(u9.GetAttribute("className"), Nothing) AndAlso    u9.GetAttribute("className").Equals("duration_data") Then
        TextBox12.Text = u9.InnerText.Substring(7)
        Exit For
    End If
Next 
```

# php - 动态图像的纵横比

> ID：13639973
> 
> 赞同：0
> 
> 时间：2012-11-30T06:12:18.070
> 
> 标签：php, image, codeigniter, aspect-ratio

我有一个从外部位置提取图像的功能，并以 的比例到达，`952 x 390`但它们显示在我的网站`960 by 380`上，无论如何使用 PHP 我可以更改比例，使它们看起来不那么拉伸？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:23:30.467

使用[codigniters Image Library](http://ellislab.com/codeigniter/user-guide/libraries/image_lib.html) 并解析 maintain_ratio 作为属性之一

```
 $this->load->library('image_lib');

 $params = array();
 $params['source_image'] = /path/to/image
 $params['new_image'] = /path/to/mynewimage
 $params['width'] = 960;
 $params['height'] = 380; //leave height or with only for aspect ratio to work
 $params['maintain_ratio'] = true;
 $this->image_lib->initialize($params);
 $this->image_lib->resize(); 
```

# android - 如何以编程方式调用android中的帐户设置

> ID：13639976
> 
> 赞同：1
> 
> 时间：2012-11-30T06:12:58.227
> 
> 标签：android, android-activity

这是我的代码。

```
Intent i=new Intent();
try {
    i.setClassName(this, (Settings.ACTION_ADD_ACCOUNT));
    startActivity(i);
}
catch(Exception e) {
    e.printStackTrace();
} 
```

我收到空指针异常。请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:15:42.877

尝试这个

```
Intent intent=new  Intent(Settings.ACTION_SYNC_SETTINGS);
startActivity(intent); 
```

添加 gmail

您可以使用[AccountManager](http://developer.android.com/reference/android/accounts/AccountManager.html)。

```
AccountManager acm = AccountManager.get(getApplicationContext());
             acm.addAccount("com.google", null, null, null, thisclassname.this, 
             null, null); 
```

# php - 提高以下小代码的性能

> ID：13639978
> 
> 赞同：1
> 
> 时间：2012-11-30T06:13:03.810
> 
> 标签：php, mysql, phpexcel

我正在上传一个包含 1000 条记录的 excel 文件。在我的数据库（mysql）中，一些记录已经存在。现在上传excel文件后，我将这些数据串在一个数组中。为此，我正在使用 PHPExcel。现在，我想再次用那些不在我的数据库中的记录形成一个新数组。为此，我使用如下逻辑：首先将数组（在上传 excel 文件后获取）转换为字符串。然后从字符串中，我用空格替换数据库中的记录。然后我再次将该字符串转换为数组。代码就像：

```
$sheetData = $objPHPExcel->getActiveSheet()->toArray(null,true,true,true);
//array_shift($sheetData);

$string = "";
foreach( $sheetData as $val){
    foreach($val as $v){

        $string .= $v.",";

    }
}
$string = str_replace($res['email'],'',$string); // $res['email'] is from database
$ultimate_array = array();
$formatted_array = explode(',',$string);
    foreach($formatted_array as $fa){
        if(strstr($fa,'@')){
            array_push($ultimate_array,$fa);
        }

    } 
```

我得到了结果，但性能很慢。你能给我一些解决方案，以便我可以提高性能。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:01:05.613

你不需要去字符串和回来。使用[array_search](http://www.php.net/manual/en/function.array-search.php)并[取消设置](http://php.net/manual/en/function.unset.php)

```
$sheetData = $objPHPExcel->getActiveSheet()->toArray(null,true,true,true);

// you may need this depending on the structure of your array
// array_shift($sheetData);

if (in_array($res['email'], $sheetData)) {
    unset($sheetData[array_search($res['email'], $sheetData)]);
} 
```

# git - 在 Gitlab 中创建一个新分支

> ID：13639980
> 
> 赞同：5
> 
> 时间：2012-11-30T06:13:14.247
> 
> 标签：git, gitlab

我想在 gitlab 中创建一个新的工作分支。我想成为那个分支的管理员。请有人帮我学习如何在 Gitlab 中创建自己的分支并将我的项目保留在该工作分支上......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-09-05T08:56:40.997

从命令行：

```
git checkout -b <branch_name> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:26:06.797

[GitLab](http://gitlabhq.com/)与[Gitolite](https://github.com/sitaramc/gitolite)的集成主要是在项目级别，将用户注册到项目中（仅当所述用户注册了公共 ssh 密钥，否则他们甚至不会出现在`gitolite.conf`文件中）

因此，对于分支访问，如**[个人分支](http://sitaramc.github.com/gitolite/special.html#pers)**，您需要有权访问 gitolite-admin 项目，克隆该项目并`gitolite.conf`自己修改。

但即使你这样做了，你也不会在 GitLab 中看到那个特殊的 Gitoite 的图形表示。
即使在其最新版本中（我正在运行 3.2.0pre ff9a2e2，从 11 月 28 日开始提交）。

* * *

Gitolite上的个人分支：

> “个人”分支非常适合开发人员需要共享工作但不能直接相互拉取的环境（通常是由于网络或身份验证相关的原因，这在公司设置中都很常见）。
> 
> 个人分支存在于它们自己的命名空间中。语法是

```
RW+ personal/USER/  =   @userlist 
```

> 其中 " `personal`" 可以是您喜欢的任何内容（但不能为空），并且 " `/USER/`" 部分是必需的（包括两个斜线）。
> 
> 用户“ `alice`”（如果她在用户列表中）然后可以将任何分支推送到个人/爱丽丝/。这意味着她可以推动`personal/alice/foo`and `personal/alice/bar`，但不能`personal/alice`。

* * *

复杂之处在于 GitLab 不会注册 ' `alice`' （以您的公钥命名`alice.pub`。当 GitLab 收到您的公钥时，它将创建一个名为（例如）...
的公钥文件（存储在 中） 。`gitolite-admin/keydir``alice_mail_com_123456789.pub`

那是：

*   爱丽丝电子邮件
*   时间戳（根据“匿名用户”的编辑：正如我最初认为的那样，它不是~~生成的随机id~~)

因此，您需要在添加到您的自定义规则中`gitolite.conf`重用该特定的“GitLab”名称。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-26T08:24:54.287

我认为您的意思是如何在 gitlab 上分叉一个项目。您可以通过单击 UI 右上角的“分叉”链接来执行此操作

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2014-11-21T07:20:42.667

在终端中发出以下命令：

```
git branch yourbranchname 
```

要检查我们的 git 项目类型中有多少可用的分支：

```
git branch 
```

# c# - 从网格中删除行不起作用

> ID：13639983
> 
> 赞同：1
> 
> 时间：2012-11-30T06:13:25.077
> 
> 标签：c#, asp.net, gridview

我正在使用 Viewstate Concept 向网格添加新行。但我无法删除最后一行。默认情况下，我将一个空行绑定到网格。

// 添加新行

```
if (ViewState["CurrentTable"] != null)
        {
            DataTable dtCurrentTable = (DataTable)ViewState["CurrentTable"];
            DataRow drCurrentRow = null;
            int i;

            if (dtCurrentTable.Rows.Count > 0)
            {
                for (i = 1; i <= dtCurrentTable.Rows.Count; i++)
                {
                    TextBox txtguide = (TextBox)grdreports.Rows[rowIndex].FindControl("txtAccNo");
 dtCurrentTable.Rows[i - 1]["txtAccNo"] = txtguide.Text;
  }
                drCurrentRow = dtCurrentTable.NewRow();
                dtCurrentTable.Rows.Add(drCurrentRow);
                ViewState["CurrentTable"] = dtCurrentTable;
                ViewState["rowcount"] = dtCurrentTable.Rows.Count;
                grdreports.DataSource = dtCurrentTable;
                grdreports.DataBind();

            } 
```

// 删除最后一行

```
if (Grid.Rows.Count > 1)
    {
        if (ViewState["CurrentTable"] != null)
        {
            DataTable dtCurrentTable = (DataTable)ViewState["CurrentTable"];
            dtCurrentTable.Rows.RemoveAt(dtCurrentTable.Rows.Count);
            ViewState["CurrentTable"] = dtCurrentTable;
            Grid.DataSource = dtCurrentTable;
            Grid.DataBind();

        }
        else
        {
            Response.Write("ViewState is null");
        }
    } 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:16:57.577

删除时进行计数并从中减去 1。它会起作用的。

```
if (Grid.Rows.Count > 1)
        {
            if (ViewState["CurrentTable"] != null)
            {
                DataTable dtCurrentTable = (DataTable)ViewState["CurrentTable"];
                dtCurrentTable.Rows.RemoveAt(dtCurrentTable.Rows.Count -1);
                ViewState["CurrentTable"] = dtCurrentTable;
                Grid.DataSource = dtCurrentTable;
                Grid.DataBind();

            }
            else
            {
                Response.Write("ViewState is null");
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:17:40.903

DataTable.Rows 是一个基于 0 的索引。如果要删除最后一行，则应使用 count - 1

```
dtCurrentTable.Rows.RemoveAt(dtCurrentTable.Rows.Count - 1); 
```

# php - 更改文本框，要调用 ajax 函数...不工作

> ID：13639984
> 
> 赞同：-2
> 
> 时间：2012-11-30T06:13:26.680
> 
> 标签：php, javascript, ajax

我正在使用 php 和 postgres 数据库。我希望在文本框中输入某个值时填充一个表值（在进行某些计算之后）..我尝试使用 onchange 事件，然后调用 ajax 函数但它不起作用..我正在使用两个 ajx 函数..那行得通吗？

阿贾克斯功能：

```
function getAmount(order_quant,item) 
{    
   var strURL = "calc_amt.php?order=" + order_quant + "&item=" + item;
   var req = getXMLHTTP(); 

   if (req) 
   { 
      req.onreadystatechange = function() 
      { 
         if (req.readyState == 4) 
         { 
            // only if "OK" 
            if (req.status == 200) 
            { 
               document.getElementById('amt').innerHTML = req.responseText;  
            } 
            else 
            { 
               alert("There was a problem while using XMLHTTP:\n" + req.statusText); 
            } 
         }   
      }  

      req.open("GET", strURL, true); 
      req.send(null); 
   }     
} 
```

HTML：

```
<tr>
    <td>
        <?php echo $articles['item_name']; ?>
    </td>
    <td>
        <?php echo $tot."(".$articles['description'].")";?>
    </td>
    <td>
        <?php echo $articles['qty_in_stock'];?>
    </td>
    <td>
        <?php echo $articles['min_reorder_qty'];?>
    </td>
    <td>
        <input type="text" name="ordered_quant" id="order_quant" onChange="getAmount(this.id,$value)" required/>
    </td>
    <td>
        <div id="amt"></div>
    </td>
    <td>
        <?php echo $order_date; ?>
    </td>
</tr> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:50:02.727

您的问题出在第二个参数上。你在那里混合 PHP 和 Javascript。确保你（php）标记你的代码

```
onChange="getAmount(this.id,<?php echo $value; ?>)" 
```

我假设 $value 是一个 php 变量...

# c# - 将值写入远程系统的注册表

> ID：13639985
> 
> 赞同：0
> 
> 时间：2012-11-30T06:13:27.273
> 
> 标签：c#, .net, visual-studio-2010, registry

> **可能重复：**
> [远程注册表](https://stackoverflow.com/questions/6253001/remote-registry)

我正在执行一项将值输入注册表的任务。但它仅适用于本地机器（mymachine），但如果那是远程系统，那时间也会写入我的系统。我不知道如何写入也可以访问的远程系统。值字符串 CurrentServer 将给出服务器名称，它可以是本地系统和远程系统。

这是我之前使用的代码，我需要在这里做什么修改？，我看到我们可以使用 RegistryKey.OpenRemoteBaseKey 打开注册表值

```
 string CurrentServer = Member.GetServerName();
          RegistryKey rk = Registry.CurrentUser.OpenSubKey((LeafeRegistry.TempRoot ), true);
          rk.SetValue("ShowSystemName", tvvserver); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:54:19.620

这个线程似乎相关.. [远程注册表](https://stackoverflow.com/questions/6253001/remote-registry)

我发现的另一种可能性：Microsoft.Win32.Registry、Microsoft.Win32.RegistryKey 和相关的 Microsoft.Win32 注册表枚举用于读取和写入系统注册表

# python - 在 Python 中使用 NLTK

> ID：13639986
> 
> 赞同：0
> 
> 时间：2012-11-30T06:13:41.657
> 
> 标签：python, nltk

我一直在尝试[Python NLTK Book](http://nltk.org/book/ch07.html)中的一些示例。例如，第 7 章用这个例子讨论了 Chinking：

```
grammar = r"""
    NP:
    {<.*>+}          # Chunk everything
    }<VBD|IN>+{      # Chink sequences of VBD and IN
  """
sentence = [("the", "DT"), ("little", "JJ"), ("yellow", "JJ"),
       ("dog", "NN"), ("barked", "VBD"), ("at", "IN"),  ("the", "DT"), ("cat", "NN")]
cp = nltk.RegexpParser(grammar)
result = cp.parse(sentence) 
```

据我说，这应该从结果中剔除“吠叫”。但事实并非如此。我是 python 和 nltk 的新手，但是我在这里缺少什么？这里有什么明显需要更新的地方吗？谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T07:29:13.943

> chunking 会创建块，而 chinking 会分解这些块。

这正是 Jacob Perkins 的“Python Text Processing with NLTK 2.0 Cookbook”所说的（我建议您阅读这本书，因为您是 NLTK 新手）。

这意味着 {} 创建了一些块，而 }{ 将这些块分解成更小的块（即分离它们），但不会删除任何东西。

根据您的示例，查看显示的内容

`result.draw()`

或者运行

`from nltk.tree import Tree`

`Tree('S', [Tree('NP', [('the', 'DT'), ('little', 'JJ'), ('yellow', 'JJ'), ('dog', 'NN')]), ('barked', 'VBD'), ('at', 'IN'), Tree('NP', [('the', 'DT'), ('cat', 'NN')])]).draw()`

（上面的代码示例显示相同的内容。不同之处在于第一个需要您运行初始示例，而第二个不需要任何内容​​）

# javascript - 使用 javascript/jquery 将 application/octet-stream;base64 转换为 json 字符串或简单文本

> ID：13639992
> 
> 赞同：0
> 
> 时间：2012-11-30T06:14:53.777
> 
> 标签：javascript, jquery, ajax, mime-types

我正在尝试使用 ajax 请求获取 json 结构并将 json 放入文本框中，但响应返回的类型为 application/octet-stream;base64，因此它不能作为简单文本接受。

```
function loaddata(){
var viewurl = "http://portalvhdskvdvlnrgl9scn.blob.core.windows.net/mbqrbxgghr/view_031ca05f-4e2e-49d6-ac6a-e05308340658.json";
$.ajax({
    url: viewurl,
    dataType: "json",
    success: function (data) {
        alert(data);
        $('#view').val(data);   
    }
});
} 
```

我收到响应代码 200。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:59:13.740

尝试在 Chrome 中运行该代码时，我遇到了同源策略。

XMLHttpRequest 无法加载。Access-Control-Allow-Origin 不允许 Origin null。

但是，该 URL 确实返回了有效的 JSON 响应。

# wpf - 如何将 Image.Triggers 的以下 xaml 提取到 WPF 中的样式

> ID：13639997
> 
> 赞同：2
> 
> 时间：2012-11-30T06:15:27.257
> 
> 标签：wpf, xaml

我有一个图像并为它定义了一个“ButtonImageStyle”。
当鼠标悬停在按钮上时，这会使按钮淡入。

```
<Style x:Key="ButtonImageStyle" TargetType="Image">
    <Setter Property="Opacity" Value="0.5"/>
    <Style.Triggers>                    
        <Trigger Property="IsMouseOver" Value="True">
            <Setter Property="Opacity" Value="1"/>
        </Trigger>
    </Style.Triggers>
</Style> 
```

我还希望在鼠标按下时按钮缩小一点，所以我在 Image.Triggers 集合中使用 EventTriggers 解决了这个问题。这行得通，但我不知道如何将其提取到上面的样式中，这样我就不必为每个图像重复它。

当我尝试在 Style.Triggers 中使用 EventTriggers 时，它只是告诉我 TargetName 不能在那里使用，我不知道替代方案是什么。

```
<Image DockPanel.Dock="Bottom"
       Source="appbar.page.search.png"
       Width="48"
       Height="48"
       Margin="2,0"
       Style="{StaticResource ButtonImageStyle}">
  <Image.RenderTransform>
    <ScaleTransform x:Name="ImageScale"
                    ScaleX="1"
                    ScaleY="1"
                    CenterX="24"
                    CenterY="24" />
  </Image.RenderTransform>
  <Image.Triggers>
    <EventTrigger RoutedEvent="MouseDown">
      <BeginStoryboard>
        <Storyboard>
          <DoubleAnimation Storyboard.TargetName="ImageScale"
                           Storyboard.TargetProperty="(ScaleTransform.ScaleX)"
                           To="0.8"
                           Duration="0:0:0.15"
                           AutoReverse="False" />
          <DoubleAnimation Storyboard.TargetName="ImageScale"
                           Storyboard.TargetProperty="(ScaleTransform.ScaleY)"
                           To="0.8"
                           Duration="0:0:0.15"
                           AutoReverse="False" />
        </Storyboard>
      </BeginStoryboard>
    </EventTrigger>
    <EventTrigger RoutedEvent="MouseUp">
      <BeginStoryboard>
        <Storyboard>
          <DoubleAnimation Storyboard.TargetName="ImageScale"
                           Storyboard.TargetProperty="(ScaleTransform.ScaleX)"
                           To="1.0"
                           Duration="0:0:0.15"
                           AutoReverse="False" />
          <DoubleAnimation Storyboard.TargetName="ImageScale"
                           Storyboard.TargetProperty="(ScaleTransform.ScaleY)"
                           To="1.0"
                           Duration="0:0:0.15"
                           AutoReverse="False" />
        </Storyboard>
      </BeginStoryboard>
    </EventTrigger>
  </Image.Triggers>
</Image> 
```

**更新：**我想我可能会以错误的方式解决这个问题
，我应该使用 ControlTemplate 作为 Button 代替：

```
<Style x:Key="ButtonImageStyle" TargetType="Image">
    <Setter Property="Opacity" Value="0.5"/>
    <Setter Property="RenderTransformOrigin" Value="0.5, 0.5"/>
    <Style.Triggers>                    
        <Trigger Property="IsMouseOver" Value="True">
            <Setter Property="Opacity" Value="1"/>
        </Trigger>
    </Style.Triggers>
</Style>

<ControlTemplate x:Key="ImageButtonTemplate" TargetType="Button">
        <Image Source="appbar.page.search.png" 
                Width="{TemplateBinding Width}" 
                Height="{TemplateBinding Height}" 
                Stretch="Fill"
                Style="{StaticResource ButtonImageStyle}">
            <Image.Resources>
                <Storyboard x:Key="ShrinkStoryboard">
                    <DoubleAnimation Storyboard.TargetName="ImageScale" 
                                        Storyboard.TargetProperty="(ScaleTransform.ScaleX)"
                                        To="0.8"
                                        Duration="0:0:0.15"
                                        AutoReverse="False"/>
                    <DoubleAnimation Storyboard.TargetName="ImageScale" 
                                        Storyboard.TargetProperty="(ScaleTransform.ScaleY)"
                                        To="0.8"
                                        Duration="0:0:0.15"
                                        AutoReverse="False"/>
                </Storyboard>
                <Storyboard x:Key="GrowStoryboard">
                    <DoubleAnimation Storyboard.TargetName="ImageScale" 
                                        Storyboard.TargetProperty="(ScaleTransform.ScaleX)"
                                        To="1.0"
                                        Duration="0:0:0.15"
                                        AutoReverse="False"/>
                    <DoubleAnimation Storyboard.TargetName="ImageScale" 
                                        Storyboard.TargetProperty="(ScaleTransform.ScaleY)"
                                        To="1.0"
                                        Duration="0:0:0.15"
                                        AutoReverse="False"/>
                </Storyboard>
            </Image.Resources>
            <Image.RenderTransform>
                <ScaleTransform x:Name="ImageScale" ScaleX="1" ScaleY="1" CenterX="1" CenterY="1"/>                         
            </Image.RenderTransform>
            <Image.Triggers>
                <EventTrigger RoutedEvent="MouseLeftButtonDown">
                    <BeginStoryboard Storyboard="{StaticResource ShrinkStoryboard}"/>
                </EventTrigger>
                <EventTrigger RoutedEvent="MouseLeftButtonUp">
                    <BeginStoryboard Storyboard="{StaticResource GrowStoryboard}"/>
                </EventTrigger>
            </Image.Triggers>
        </Image>
</ControlTemplate> 
```

这个版本的问题是图像在按下时会缩小，
但在松开鼠标按钮时不会恢复到原来的大小。
我试过使用“MouseUp”和“MouseLeftButtonUp”

**更新 2**：以防万一有人想使用它，
基于 dbaseman 的解决方案，我删除了事件触发器并将其替换为

```
<VisualStateManager.VisualStateGroups>
    <VisualStateGroup x:Name="CommonStates">                            
        <VisualState x:Name="Pressed" Storyboard="{StaticResource ShrinkStoryboard}"/>
        <VisualState x:Name="MouseOver" Storyboard="{StaticResource GrowStoryboard}"/>
    </VisualStateGroup>
</VisualStateManager.VisualStateGroups> 
```

奇迹般有效

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:20:04.543

视觉状态系统最适合于此。`Pressed`Button 控件带有一个可以方便地定位的内置状态。

```
<ControlTemplate TargetType="Button">
  <Image>
    <VisualStateManager.VisualStateGroups>
      <VisualStateGroup x:Name="CommonStates">
        <VisualState x:Name="Pressed">
          <Storyboard Duration="0:0:0.15">
            <DoubleAnimation Storyboard.TargetName="scale"
                             Storyboard.TargetProperty="ScaleX"
                             To="0.5"
                             Duration="0:0:0.15" />
            <DoubleAnimation Storyboard.TargetName="scale"
                             Storyboard.TargetProperty="ScaleY"
                             To="0.5"
                             Duration="0:0:0.15" />
          </Storyboard>
        </VisualState>
        <VisualState x:Name="MouseOver">
          <Storyboard Duration="0:0:0.15">
            <DoubleAnimation Storyboard.TargetName="scale"
                             Storyboard.TargetProperty="ScaleX"
                             To="1"
                             Duration="0:0:0.15" />
            <DoubleAnimation Storyboard.TargetName="scale"
                             Storyboard.TargetProperty="ScaleY"
                             To="1"
                             Duration="0:0:0.15" />
          </Storyboard>
        </VisualState>
      </VisualStateGroup>
    </VisualStateManager.VisualStateGroups>
    <Image.RenderTransform>
      <ScaleTransform ScaleX="1"
                      ScaleY="1"
                      x:Name="scale" />
    </Image.RenderTransform>
  </Image>
</ControlTemplate> 
```