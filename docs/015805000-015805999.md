# StackOverflow 问答 15805000-15805999

# javascript - jquery改变事件回调

> ID：15805000
> 
> 赞同：9
> 
> 时间：2013-04-04T07:26:53.520
> 
> 标签：javascript, jquery, jquery-callback

`change()`事件完成后如何调用一次函数？

例如，像这样：（我知道 jQuery 没有默认的回调方法）

```
$('#element').change( function(){
                     // do something on change
                     // $('#milestonesSelect').multiselect({ minWidth: 120 , height : '200px' ,selectedList: 4  }).multiselectfilter();
                      // some animation calls ...
                      // ...
                     }, function(){
                     // do something after complete
                      alert('another codes has completed when i called');
                     }
                   ); 
```

是否可以在更改方法的所有代码完成后调用单个回调，除了为其上的每个函数调用完整的回调？

更改事件完成后我需要做一些事情

我需要为更改处理程序中的方法设置顺序吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-04T08:06:48.550

您可能可以利用[事件冒泡](http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-bubbling)并在`document`.

```
$(document).on('change', '#element', function(){
    console.log('after all callbacks')
}); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/rtK7s/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-28T23:15:47.847

我自己花了一些时间探索这个问题，并决定也提交我对这个问题的答案。这没有使用任何 jQuery 的延迟方法，这可能是一种更好的方法。我还没有对它们进行足够的探索，无法对此事发表意见。

```
$("#element").change(function() {
  handler().after(callBack($("#element").val()));
}

function handler() {
  alert("Event handler");
}

function callBack(foo) {
  alert(foo);
} 
```

演示：[JSFiddle](http://jsfiddle.net/chewbakartik/9EM24/4/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:30:40.927

如果我正确理解您的问题，这将在触发更改事件后仅执行一次代码：

```
var changed = false;

$('#element').on('change', function() {
    if ( !changed ) {
        // do something on change
        changed = true;
    }
  }
}); 
```

# postgresql - Heroku上PostgreSQL的希伯来语词典？

> ID：15805001
> 
> 赞同：7
> 
> 时间：2013-04-04T07:26:54.487
> 
> 标签：postgresql, heroku, hebrew

阅读[Heroku help](https://devcenter.heroku.com/articles/heroku-postgres-extensions-postgis-full-text-search#full-text-search-dictionaries) on enable full text search in PostgreSQL 我发现它默认不支持希伯来语。有谁知道如何在 Heroku 上的 PostgreSQL 中添加对希伯来语词典的支持？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T00:30:09.333

我在 Heroku Postgres 上工作，并希望能够提供有关此问题的意见。

我正在研究这一点，但到目前为止，对于许多/任何开源项目如何支持希伯来语，包括专门的全文搜索项目，如 Lucene 或 Xapian，情况一直很模糊。有完整的工具链来处理这个问题，但据我所知，它们与 PostgreSQL 的集成还不存在，例如[hebstem](https://code.google.com/p/hebstem/)、[hspell 和 libhspell](http://hspell.ivrix.org.il/)、[HebMorph](https://github.com/synhershko/HebMorph)。

如果有人知道 Postgres 中当前最先进的技术，我可以根据自己的判断尝试让它在 Heroku 上运行，具体取决于我必须仔细审查的实现的确切细节。

照原样，我查找字典的尝试是`ispell`有问题的，`ispell`考虑到据说非常不同的词干规则，希伯来语风格字典的功效也是如此。

相关工作：

*   [Lucene 希伯来语分析器](https://stackoverflow.com/questions/1063856/lucene-hebrew-analyzer)，链接到 HebMorph

*   [Xapan Hspell Integration](http://lists.tartarus.org/pipermail/xapian-devel/2010-April/001214.html)，但尚不清楚这是否已经完全充实（当时 Xapian 致力于该领域的可扩展性）

想法？

# html - 没有 JS 的可点击 CSS 菜单

> ID：15805005
> 
> 赞同：2
> 
> 时间：2013-04-04T07:27:16.643
> 
> 标签：html, css

我想用 CSS 创建一个 HTML5 菜单，它可以通过单击而不是悬停来工作。我在网上看到了使用 JS 完成的示例。我想知道是否可以在没有 JS 的情况下做到这一点。一种方法可能是添加

```
 <input type='checkbox' /> 
```

在每个父母之前，根据它是否检查来显示子项目你怎么看？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:37:25.700

## `:checked`

是的，您可以使用复选框来做到这一点，但目前它并没有得到很好的支持。它使用下一个兄弟`+`和通用兄弟`~`选择器以及`:checked`.

[jsFiddle](http://jsfiddle.net/Tyriar/W9xKc/)

**HTML**

```
<input id="menu-button" type='checkbox' />
<label for="menu-button"></label>
<ul id="menu">
    <li>Menu item 1</li>
    <li>Menu item 2</li>
    <li>Menu item 3</li>
</ul> 
```

**CSS**

```
/* hide the checkbox */
 #menu-button {
    position:absolute;
    left:-9999px;
    top:-9999px;
}
#menu-button + label:after {
    display:block;
    content:"v";
}
#menu-button:checked + label:after {
    content:"^";
}
#menu {
    display:none;
}
#menu-button:checked ~ #menu {
    display:block;
} 
```

## `:target`

另一种方法是使用`<a>`标签和`:target`，这也不是很好支持。

[jsFiddle](http://jsfiddle.net/Tyriar/tsR73/)

**HTML**

```
<a href="#menu">Show menu</a>
<div id="menu">
    <ul>
        <li>Menu item 1</li>
        <li>Menu item 2</li>
        <li>Menu item 3</li>
    </ul>
    <a href="#">Hide menu</a>
</div> 
```

**CSS**

```
#menu {
    display:none;
}
#menu:target {
    display:block;
} 
```

# java - Java（Apache POI）如何在整个页面上拉伸 XWPFTable 行

> ID：15805010
> 
> 赞同：1
> 
> 时间：2013-04-04T07:27:27.287
> 
> 标签：java, apache-poi

我有一个使用 Apache POI for docx 制作的简单 XWPFTable，但是如果单元格的文本很短，则单元格/行的大小会调整为适合文本。如何设置它以使表格/行保持从整个页面的左到右拉伸，无论文本的长度如何？谢谢。

如果有帮助，这是代码的表格部分：

```
XWPFTable header = document.createTable(1, 3);
        header.getRow(0).getCell(0).setText("LCode");
        header.getRow(0).getCell(1).setText("QTY");
        header.getRow(0).getCell(2).setText("Description/Justification");

        XWPFTable table = document.createTable(LCodes.size(), 3);
        int x = 0;
        for (Map.Entry entry : new TreeMap<Integer, List<String>>(LCodes).entrySet()) {     
            Object LCode = entry.getKey();
            table.getRow(x).getCell(0).setText("L" + LCode);
            table.getRow(x).getCell(1).setText(LCodes.get(LCode).get(2));

            XWPFParagraph para = table.getRow(x).getCell(2).getParagraphs().get(0);
            for (int i = 0; i < 2; i++) {
                if (i == 1 && LCodes.get(LCode).get(i).trim().equals("")) {
                    continue;
                }
                XWPFRun leading = para.createRun();
                leading.setItalic(true);
                if (i == 0) {
                    leading.setText("Description: ");
                    } else {
                    leading.setText("Justification: ");
                }
                XWPFRun trailing = para.createRun();
                trailing.setText(LCodes.get(LCode).get(i));
                if (i == 0 && !(LCodes.get(LCode).get(i).trim().equals(""))) {
                    trailing.addBreak();
                }
            }
            x++;
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-21T06:52:59.343

要拉伸 xwpf 表的宽度，您需要执行以下操作。1\. 在示例 xwpf 文档中创建表。2\. 下载和zip一样的文件，解压document.xml文件。3\. 寻找

另一个解决方案：如果你不想离开所有这些并且你的表格边框被隐藏了。您可以在表格的第一列中添加下面的 XWPFparagraph ，这样就可以了。

```
//add this para in first column to get table width, 84pts total
private XWPFParagraph getFirstColumnText(){
    XWPFParagraph para=new XWPFDocument().createParagraph();
    XWPFRun run=para.createRun();
    run.setColor("ffffff");
    run.setText("...................................................................................");
    return para;
} 
```

# jquery - 使用 jquery 更改鼠标悬停时显示的图像的位置

> ID：15805012
> 
> 赞同：0
> 
> 时间：2013-04-04T07:27:35.700
> 
> 标签：jquery, mousemove, jquery-hover

当用户将鼠标悬停在图像的拇指版本上并且较大的图像随鼠标移动时，下面的代码会显示较大的图像。下面的代码有效，但它将图像定位在鼠标的右侧。我希望图像显示在鼠标上方的顶部中心。

我更改了 xOffset 和 yOffset 值，这将改变上下位置，并将图像向右移动，但不向左移动。

问题是如何修改代码以使悬停时出现的图像位于较小图像上方的顶部中心？

我正在通过 Google 使用最新的 jquery (1.9.1)：http: [//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js](http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js)

jQuery：

```
this.imagePreview = function(){
xOffset = 0;
yOffset = 20;

$("a.preview").hover(function(e){
    this.t = this.title;
    var url = $(this).attr('alt')
    this.title = "";
    var c = (this.t != "") ? "<span class='preview-title'>" + this.t : "</span>";
    $("body").append("<p id='preview'><img src='"+ url +"' alt='Image preview' />"+ c +"</p>");
    $("#preview")
        .css("top",(e.pageY - xOffset) + "px")
        .css("left",(e.pageX + yOffset) + "px")
        .fadeIn(1000);
    },
    function(){
        this.title = this.t;
        $("#preview").remove();
    });
    $("a.preview").mousemove(function(e){
        $("#preview")
            .css("top",(e.pageY - xOffset) + "px")
            .css("left",(e.pageX + yOffset) + "px");
    });
};

$(document).ready(function(){
    imagePreview();
}); 
```

html/php：

```
 echo '<div style="display:inline;float:left;margin: 10px 4px;">
        <div style="background-color: #DDD;height:100px;border: 1px solid #111;">';
            if ($spacer_flag == 0)
            {
                echo '
                <a href="/view.php?im='.$image_dbid.'&w='.$row['id'].'" title="'.$row['word'].'">
                <img class="preview"
                src="'.$t_show_this_image.'"
                alt="'.$x_show_this_image.'"
                >
                </a>';
            }
            else
            {
                echo '
                <a href="/reserve.php?w='.$row['id'].'" title="">
                <img
                src="'.$t_show_this_image.'"
                ></a>';
            }

            echo '
        </div>
    </div>'; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:45:14.320

通过它的声音，您希望图像是静态的，而不是随着鼠标指针移动。如果是这种情况，如何添加一个包含您希望显示的图像的隐藏 div 并将其样式设置为 CSS 中较小图像上方的顶部中心。

然后，在 mousehover 事件上，做一个简单的

```
$("#previewDiv").show() 
```

接着

```
$("#previewDiv").hide() 
```

再次隐藏它 onMouseOut？

# javascript - jQuery缩短了这个查询？

> ID：15805019
> 
> 赞同：1
> 
> 时间：2013-04-04T07:27:53.173
> 
> 标签：javascript, jquery

是否有可能将此查询缩短为一个？

```
$('p:contains(Tel:)').html(function() {
    return $(this).html().replace('Tel:', '<strong>Tel:</strong>');
});
$('p:contains(Fax:)').html(function() {
    return $(this).html().replace('Fax:', '<strong>Fax:</strong>');
}); 
```

我的代码查找 Tel: 和 Fax: 并用`<strong>`标签包装它们

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T07:29:47.017

您可以将它们合并为：

```
$('p:contains(Tel:), p:contains(Fax:)').html(function(_, html) {
    return html.replace(/(Tel\:|Fax\:)/g, '<strong>$1</strong>');
}); 
```

但实际上这有点多余：您要求 jQuery 在您自己进行搜索之前进行第一次搜索。

我个人更喜欢这个：

```
$('p').each(function() {
    var html = $(this).html();
    var changed = html.replace(/(Tel\:|Fax\:)/g, '<strong>$1</strong>');
    if (changed!=html) $(this).html(changed);
}); 
```

[演示](http://jsbin.com/ozoyap/1/edit)（点击*“用JS运行”*）

# sql - 如何在sql server 2005中比较时间

> ID：15805020
> 
> 赞同：0
> 
> 时间：2013-04-04T07:27:55.220
> 
> 标签：sql, sql-server

我在表中有两列，分别是字符串格式`starttime`和格式 ，我想`endtime`在 where 子句中为 sql 查询添加条件以检查 starttime 是否大于 endtime`(HH:MM tt)``Starttime = 12:15PM``endtime = 12:52PM`

如下所示。

```
Select * from table where StartTime > EndTime 
```

（我无法在这里比较这种情况）

谁能帮我添加写比较时间的地方。

注意：这两个值都以字符串格式存储。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:29:44.790

将字符串值转换为时间戳或日期时间格式，然后使用您的 where 条件。

--编辑

对于 SQL Server，

```
Select * from table where CONVERT(datetime, StartTime , 120) > CONVERT(datetime, EndTime , 120) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:31:21.380

在进行比较之前，您需要将`string`值转换为`Time`：

```
Select * from table where CAST(StartTime As Time) > CAST(EndTime As Time) 
```

然而，最好的解决方案是将`StartTime`和`EndTime`列的数据类型更改为数据类型，`Time`而不是`string`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T09:14:05.187

尝试这个。

```
SELECT * FROM table WHERE CONVERT (TIME, StartTime) > CONVERT (TIME, EndTime) 
```

对于 SQL 2005：

```
SELECT * FROM table WHERE CONVERT(Varchar(8), CONVERT(DATETIME, StartTime), 8) > CONVERT(Varchar(8), CONVERT(DATETIME, EndTime), 8) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:31:25.180

尝试这个

```
Select * from table where CAST(starttime AS TIME) > CAST(endtime AS TIME) 
```

或者

尝试这个

```
 Select * from table where CAST( '2013/01/01 ' + starttime AS DATETIME) > CAST( '2013/01/01 ' + Endtime AS DATETIME) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T07:32:52.890

你需要`CAST`它`TIME`

```
Select * from tbl where CAST(StartTime as TIME) > CAST(EndTime as TIME) 
```

## [现场演示](http://www.sqlfiddle.com/#!3/4cb04/3)

# wordpress - 如何在 Wordpress 中创建博客页面

> ID：15805022
> 
> 赞同：0
> 
> 时间：2013-04-04T07:28:00.267
> 
> 标签：wordpress, blogs

如果 is_home() 加载，我有一个不同的起始页。我如何创建博客页面来列出我的所有帖子，它是一个页面还是一个新帖子？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:01:42.140

你必须做两件事

1.  创建自定义模板。
2.  创建一个新页面。

第 1 步[创建一个新模板](http://codex.wordpress.org/Pages#Creating_Your_Own_Page_Templates)并编写此代码

```
<?php
$args = array( 'post_type' => 'post','post_status' => 'published' );
$query = new WP_Query( $args );
while( $query->have_posts() ):
    $query->next_post();
    echo '<li>' . get_the_title( $query->post->ID ) . '</li>';
endwhile;

wp_reset_postdata();

?> 
```

第 2 步。在第 2 步中创建一个新页面，并在第 1 步中将自定义模板分配为管理面板中的模板。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T23:36:00.997

做你想做的事的能力是内置的。只需创建一个空白页面，并为其指定“所有帖子”显示所需的标题。然后进入设置>阅读并为“首页显示”设置适当的选项，然后选择该空白页面作为“帖子页面”。

默认情况下，该页面现在将显示您的所有帖子。`is_home()`每当显示该页面时将为真，但`is_front_page()`将是假的，因为它不会是您的首页。如果您`home.php`的主题中有一个，它将用作您的帖子页面的模板，因此如果您不喜欢默认外观，只需在其中放置一个修改版本`index.php`。

# google-plus - 如何在不使用 google 按钮的情况下从 google share api 获得响应？

> ID：15805025
> 
> 赞同：1
> 
> 时间：2013-04-04T07:28:07.653
> 
> 标签：google-plus

```
('#main-block').on('click', '.social .gplus-icon', function(event){           
        var link = $(this).parents('.post').children('.description').children('a').attr('href');
        var url = 'https://plus.google.com/share?url='+link;
        window.open(url, 'Share', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');
        return true;
    }); 
```

我正在开发网络应用程序，我的问题是：

我想要来自 google plus share api 的响应以用于通知目的

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-07-01T09:00:06.350

我找到了解决此问题的方法。请找到以下指向 jsfiddle 的链接，了解我提出的解决方案。

解决办法是从google-plus share截取onmessage窗口。

[https://jsfiddle.net/LeoJoy/g3hyx8p7/1//](https://jsfiddle.net/g3hyx8p7/)

```
<div style="width:40px !important" data-action="share" 
class="g-plus" id="share-googleplus"></div>

 gapi.plus.render('share-googleplus', {
      action: "share",
      href: 'http://stackoverflow.com/questions/6585722/use-custom-image-for-google1-button'         
    })

window.onmessage = function (mes)
{
    var s = mes.data.replace("!_", "");
    s = $.parseJSON(s);
    if (s.s.indexOf("_g_restyleMe") != -1 && Object.keys(s.a[0]).length == 1 && s.a[0].hasOwnProperty("height")) {
       alert("shared to goole")
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T04:25:58.600

目前，在 Google+ 上发起分享的唯一方法是使用我们的分享按钮小部件。没有其他选择。但是，该按钮有一些配置选项，以便它适合您的网站，您可以在[https://developers.google.com/+/web/share/](https://developers.google.com/+/web/share/)找到该按钮。

# java - Java 执行流程 - 被覆盖的方法比构造函数先执行

> ID：15805028
> 
> 赞同：10
> 
> 时间：2013-04-04T07:28:28.820
> 
> 标签：java, debugging

我在同一个 java 文件中有以下代码。

```
import javax.swing.SwingUtilities;
import java.io.File;

public class MainClass2{
   public static void main(String[] args){
       SwingUtilities.invokeLater(new Runnable(){
             public void run() {
                 javax.swing.JFileChooser jfc = new MyFileChooser();
                     File file = jfc.getSelectedFile();
             }

      });
   }
}

class MyFileChooser extends javax.swing.JFileChooser{
    public MyFileChooser(){
        System.out.println("constructor call");
    }
    @Override
    public java.io.File getSelectedFile(){
        System.out.println("call to getSelectedFile");
        return null;
    }
} 
```

当我运行它时，输出给了我

`call to getSelectedFile`

`constructor call`

`call to getSelectedFile`

输出不应该是

`constructor call`

`call to getSelectedFile`

我正在使用java 5。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-04T07:48:51.047

`MyFileChooser`的构造函数等价于：

```
public MyFileChooser() {
    super(); // ***
    System.out.println("constructor call");
} 
```

第一次调用`getSelectedFile()`是由`MyFileChooser`的基类构造函数进行的，它在上面标记的位置隐式调用`***`，在`System.out.println("constructor call")`.

这是堆栈跟踪：

```
MyFileChooser.getSelectedFile() line: 16    
AquaFileChooserUI.installComponents(JFileChooser) line: 1436    
AquaFileChooserUI.installUI(JComponent) line: 122   
MyFileChooser(JComponent).setUI(ComponentUI) line: 670  
MyFileChooser(JFileChooser).updateUI() line: 1798   
MyFileChooser(JFileChooser).setup(FileSystemView) line: 360 
MyFileChooser(JFileChooser).<init>(File, FileSystemView) line: 333  
MyFileChooser(JFileChooser).<init>() line: 286  
MyFileChooser.<init>() line: 11 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:58:07.610

构造函数：

```
public MyFileChooser(){
    System.out.println("constructor call");
} 
```

似乎与基类的构造函数无关。然而，有一个对 javax.swing.JFileChooser() 的隐式超级调用，它会调用`getSelectedFile();`. 所以你的构造函数实际上是这样的：

```
public MyFileChooser(){
    super();
    System.out.println("constructor call");
} 
```

因为 jfc 是 MyFileChooser 的对象，所以这个方法：

```
@Override
public java.io.File getSelectedFile(){
    System.out.println("call to getSelectedFile");
    return null;
} 
```

被调用。打印出“调用 getSelectedFile”，然后是“调用 getSelectedFile”。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T08:01:59.830

如果您查看堆栈跟踪，您会看到`JFileChooser`构造函数调用`setup(FileSystemView view)`which calls `updateUI()`，它调用`setUI()`JComponent 超类，它调用`installUI`特定于平台的 UI 类，然后这个类调用`installComponents`，它`getSelectedFile`再次调用。

来自 Effective Java 2nd Edition 的引述：

> 一个类必须遵守更多的限制以允许继承。构造函数不得直接或间接调用可覆盖的方法。如果您违反此规则，将导致程序失败。超类构造函数在子类构造函数之前运行，因此子类中的覆盖方法将在子类构造函数运行之前被调用。如果覆盖方法依赖于子类构造函数执行的任何初始化，则该方法将不会按预期运行。

但当然，Swing 工具包并不总是遵循这个建议 ;-)

完整的堆栈跟踪：

```
at MyFileChooser.getSelectedFile(MainClass2.java:27)
    at com.apple.laf.AquaFileChooserUI.installComponents(AquaFileChooserUI.java:1436)
    at com.apple.laf.AquaFileChooserUI.installUI(AquaFileChooserUI.java:122)
    at javax.swing.JComponent.setUI(JComponent.java:670)
    at javax.swing.JFileChooser.updateUI(JFileChooser.java:1798)
    at javax.swing.JFileChooser.setup(JFileChooser.java:360)
    at javax.swing.JFileChooser.<init>(JFileChooser.java:333) 
```

# iphone - 将 libgdx 部署到 iPhone

> ID：15805036
> 
> 赞同：0
> 
> 时间：2013-04-04T07:28:42.183
> 
> 标签：iphone, libgdx

如何将 libgdx 驱动的应用程序部署到 iPhone 或 iPad？从网站上说，在 iOS 上部署需要 MonoTouch？我真的需要 MonoTouch 将我的应用程序部署到 iPhone 上吗？

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T10:18:08.787

看看维基。那里有解释。

> iOS 后端目前使用 MonoTouch/IKVM 在 iOS 上运行 Java 代码。IKVM 用于 1) 将 Java 字节码编译为 .Net 字节码，以及 2) 在 .Net 运行时库之上提供包括大部分 Java 运行时库的运行时环境。MonoTouch 用于将 .Net 字节码编译为本机代码 (ARM)。这是 Apple 的要求，以便应用程序商店接受应用程序。JIT 编译器目前在 iOS 上不可行。应用程序的代码必须提前编译。

[Wiki](http://code.google.com/p/libgdx/wiki/IOSWIP)
所以是的，您需要它，否则如果我做对了，您将无法将其编译为 .NET。

# c++ - C ++“复制”导致异常，而蛮力工作正常

> ID：15805037
> 
> 赞同：0
> 
> 时间：2013-04-04T07:28:45.137
> 
> 标签：c++, copy

我想将 int 向量的一些值放入 C++ VS2010 中的不同 int 向量中。

起初我尝试了蛮力的方式，它工作得很好：

```
for (int i=iStartPosInDst0based;i<=(iCountSrcItemsToCopy1based);i++)
{
    uIntegers[i]=nInts[i+iFirstItemInSrcToCopy0based];
} 
```

然后我想变得更复杂一点，并尝试使用“复制”。

```
copy(nInts.begin()+iFirstItemInSrcToCopy0based, uIntegers.begin()+iCountSrcItemsToCopy1based+iFirstItemInSrcToCopy0based, uIntegers.begin() +iStartPosInDst0based); 
```

但是“复制”崩溃了。

我真的很确定我的“复制”版本与我的“蛮力”版本相同，但显然不是。但我看不出我哪里出错了。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:31:00.210

这是因为你打电话

```
copy(nInts.begin() + ..., uIntegers.begin() + ..., uIntegers.begin() + ...); 
```

第二个迭代器应该是`nInts`这样的

```
copy(nInts.begin() + ..., nInts.begin() + ..., uIntegers.begin() + ...); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T07:36:28.643

你以`copy`错误的顺序给出论据。原型是

```
std::copy(InIt first, InIt last, OutIt result) 
```

试试这个：

```
std::copy(
  nInts.begin() + iFirstItemInSrcToCopy0based
  , nInts.begin() + iFirstItemInSrcToCopy0based + iCountSrcItemsToCopy1based
  , uIntegers.begin() + iStartPosInDst0based
); 
```

如果您可以访问 C++11，您应该更喜欢`std::copy_n`，因为您有许多要复制的元素：

```
std::copy_n(
  nInts.begin() + iFirstItemInSrcToCopy0based
  , iCountSrcItemsToCopy1based
  , uIntegers.begin() + iStartPosInDst0based
); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:31:02.087

我认为您忘记将`iStartPosInDst0based`第一个迭代器参数添加到`copy`：

```
copy(nInts.begin()+iStartPosInDst0based+iFirstItemInSrcToCopy0based, uIntegers.begin()+iCountSrcItemsToCopy1based+iFirstItemInSrcToCopy0based, uIntegers.begin() +iStartPosInDst0based); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:33:55.740

如上所述`cplusplus.com`

```
template <class InputIterator, class OutputIterator>
OutputIterator copy (InputIterator first, InputIterator last, OutputIterator result); 
```

和

```
Output iterator to the initial position in the destination sequence.
This shall not point to any element in the range [first,last). 
```

这似乎是这种情况，因为您的最后一个参数类似于您的第二个 ( `uIntegers`)。

所以它应该像

```
copy(nInts.begin()+ ..., nInts.begin()+ ..., uIntegers.begin() + ); 
```

请参阅[此处](http://www.cplusplus.com/reference/algorithm/copy/)以供参考。

# javascript - Javascript 画布动画停止使用控制键

> ID：15805042
> 
> 赞同：0
> 
> 时间：2013-04-04T07:29:14.360
> 
> 标签：javascript, html, animation, canvas

首先，我制作了一个动画

```
http://jsfiddle.net/hS2uF/
```

现在，我已经尝试在控制键中实现这个动画几个小时了，但我仍然不知道出了什么问题：/？（虽然它允许我控制对象..）

```
http://jsfiddle.net/7cua6/
```

任何帮助将不胜感激！:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:18:52.763

您需要更改以下几行

```
imgBackground.addEventListener('load', drawBg, false); // init to drawBg 
```

和

```
function init(){
//drawBg(); remove this as you already calling on load of image
loop();
document.addEventListener('keydown', checkKeyDown, false);
document.addEventListener('keyup', checkKeyUp, false);  
} 
```

现在动画可以工作了，但是您使用的是运行 60fps 的 requestAnimationFrame，因此您无法正确看到动画。所以如果你想使用 requestAnimationFrame 那么你需要有更多的精灵。

如果您无法提供更多精灵，则不要使用 requestAnimationFrame 而是使用 setTimeout（虽然不推荐）并使用您在第一个示例中使用的 10fps。

# 更新 ：

这是使您的动画正常工作的 [小提琴](http://jsfiddle.net/bittu4u4ever/7cua6/3/)

# 更多更新：

为了在移动蝌蚪时获得更好的 fps 改变这个

```
Player.prototype.checkDirection = function(){
if(this.isUpKey){
    this.drawY -= this.speed*this.width/10; // using width of the tadpole and 10fps
}
if(this.isRightKey){
    this.drawX += this.speed*this.width/10;
}
if(this.isDownKey){
    this.drawY += this.speed*this.width/10;
}
if(this.isLeftKey){
    this.drawX -= this.speed*this.width/10;
}
} 
```

[小提琴](http://jsfiddle.net/bittu4u4ever/7cua6/5/)为此

# java - 定义实现泛型接口的泛型类

> ID：15805043
> 
> 赞同：2
> 
> 时间：2013-04-04T07:29:16.587
> 
> 标签：java, generics

我有一个要求，我想在哪里定义一个`generic class`实现一个`generic interface`.

这是我的自定义地图界面：

```
public interface ICache<K, T> {
     boolean containsKey(K k);
     T getValue (K key);
     void remove(K key);
     void put(K k, T t);
} 
```

这是自定义类的实现：

```
 public class CustomCache<K, T> implements ICache<K, T> {

    private org.infinispan.Cache<K, T> cache;

    public CustomCache(org.infinispan.Cache<K, T> cache) {
        this.cache = cache;
    }

    @Override
    public boolean containsKey(K k) {
        return cache.containsKey(k);
    }

    @Override
    public T getValue(K key) {
        return cache.get(key);
    }

    @Override
    public void remove(K key) {
        cache.remove(key);
    }

   @Override
   public void put(K k, T t) {
       cache.put(k, t);
   }
} 
```

但是当我尝试构建一个缓存时，我会收到类似“缓存是原始类型。对泛型缓存的引用应该参数化”之类的警告......

创建自定义地图的示例方法。

```
public ICache<?, ?> lookupCache(String cacheName) {
    ICache<?, ?> cache = null;
    Cache<?, ?> jCache = new DefaultCacheManager().getCache();
    cache = new CustomCache(jCache);
    return cache;
} 
```

避免这种情况的一种方法是简单地使用@SuppressWarnings，但我可以使用泛型来修复它。

使用 <> 运算符虽然可以解决此问题，**但我也需要使其与 1.6 兼容。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:35:18.183

我会把它实现为

```
public class Cache<K, T> implements ICache<K, T> {
    Map<K, T> map = new HashMap<K, T>();

    @Override
    public boolean containsKey(K k) {
        return map.containsKey(k);
    }

    @Override
    public T getValue(K key) {
        return map.get(key);
    }

    @Override
    public void remove(K key) {
        map.remove(key);
    }

    @Override
    public void put(K k, T t) {
        map.put(k, t);
    }
} 
```

它作为适配器模式

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:37:26.677

警告几乎总结了它：您的类`Cache`是泛型类型，这意味着它需要类型参数，但是您对被`Cache`调用对象的引用`jCache`没有这样的类型参数。您不仅应该在声明中提供它们，还应该在初始化中提供它们，如下所示：

```
cache = new CustomCache<Object, Object>(jCache); 
```

它基本上说你有一个类的对象，`CustomCache`但你不知道`K`也不知道`T`类型（还）。在这一点上你只能说你只会把`Object`s 放进去。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T08:32:13.180

无需尝试，我认为您可以使用通用辅助方法解决此类情况：

```
private <K, T> ICache<K, T> createCache)(org.infinispan.Cache<K, T> cache){
  return new CustomCache<K, T>(cache);
} 
```

# asp.net - 如何固定高度各自的屏幕分辨率？

> ID：15805053
> 
> 赞同：3
> 
> 时间：2013-04-04T07:29:52.610
> 
> 标签：asp.net, html, css, height

我已经发布了我的网页图片，还发布了我在上面应用的 html 代码和 CSS。

我希望我的#main 应该在页面上以固定高度显示为相应的笔记本电脑分辨率。那么我应该给它多少尺寸呢？我遇到的另一个问题是，当我尝试给它高度时，它不适用。我的#main 也包含一个页脚。我需要在我的 CSS 中应用它进行哪些更改？当我在其中加载任何内容时，我的#main 会扩展高度。但我希望它的高度应该是固定的。

![在此处输入图像描述](https://i.stack.imgur.com/yHRXy.png)

***HTML***

```
<html>
<head>
<title> Index </title>
        <link type="text/css" rel="stylesheet" href="../Content/Site.css">
        <script type="text/javascript" src="../../Scripts/jquery-1.9.1.min.js">
        <script type="text/javascript" src="../../Scripts/jquery.js">
        <script type="text/javascript" src="../../Scripts/MicrosoftAjax.js">
        <script type="text/javascript" src="../../Scripts/MicrosoftMvcAjax.js">
        <script type="text/javascript" src="../../Scripts/MicrosoftMvcValidation.js">
        <script type="text/javascript" src="../../Scripts/modernizr-1.7.min.js">
        <link type="text/css" rel="stylesheet" href="../Content/menu.css">
        <script type="text/javascript" src="../../Scripts/menu.js">
</head>

<body>
<div class="page">
     <header>
        <table id="header">
        <div id="menu">
        <ul class="menu">
        <li class="current">
        <li>
        <a href="/CRMDashboard/Dashboard">
        </li>
        <li>
        <a class="parent" href="/CRM/Index">
        <div>
        </li>
        <li>
        <a class="parent" href="#">
        <div>
        </li>
        <li>
        <a class="parent" href="#">
        <div>
        </li>
        <li>
        <a href="/FilterCRMRequest/Index">
        </li>
        <li>
        <a href="#">
        </li>
        <li class="back" style="left: 30px; width: 100px; display: block; overflow: hidden;">
        <div class="left"></div>
        </li>
        </ul>
        </div>
    </header>
<section id="main">
    <h2>Index</h2>
        <footer>
                <hr>
                <p> Copyright (c) 2012 </p>
                <hr>
        </footer>
</section>

</div>
</body>
</html> 
```

**CSS**

```
body {
    background: none repeat scroll 0 0 rgba(0, 117, 149, 0.9);
    color: #000000;
    font-family: "Trebuchet MS",Verdana,Helvetica,Sans-Serif;
    font-size: 0.85em;
    height: 100%;
    margin: 0;
    padding: 0;
}

.page {
    margin-left: auto;
    margin-right: auto;
    width: 98%;
}

header, #header {
    border: 0 none;
    color: #000000;
    margin-bottom: 0;
    padding: 0;
    position: relative;
}
header, footer, nav, section {
    display: block;
}

header, #header {
    color: #000000;
}

#main {
     padding: 30px 30px 15px;
background-color: #fff;
border-radius: 4px 4px 4px 4px;
top:50px;
bottom:10px;
/*position:fixed;*/
right:10px;
left:10px;
-webkit-border-radius: 4px;
-moz-border-radius: 4px;

}
footer, #footer {
    background-color: #FFFFFF;
    border-radius: 0 0 4px 4px;
    color: #999999;
    font-size: 0.9em;
    line-height: normal;
    margin: 0;
    padding: 10px 0;
    text-align: center;
} 
```

***菜单的 CSS***

```
div#menu {
    background: url("images/main-bg.png") repeat-x scroll 0 0 transparent;
    height: 41px;
}

div#menu ul.menu {
    padding-left: 30px;
}
div#menu ul {
    border-radius: 0 0 4px 4px;
    float: left;
    list-style: none outside none;
    margin: 0;
    padding: 0;
}

div#menu li {
    background: url("images/main-delimiter.png") no-repeat scroll 98% 4px transparent;
}
div#menu li {
    border-radius: 0 0 4px 4px;
    display: block;
    float: left;
    margin: 0;
    padding: 0 5px 0 0;
    position: relative;
    z-index: 9;
} 
```

**我想要这样的输出：**

![在此处输入图像描述](https://i.stack.imgur.com/yN3eZ.png)

**我还希望我的#main 在内容加载更多时显示滚动条......而不是浏览器的滚动条显示。**

***这些是我的菜单：***

![在此处输入图像描述](https://i.stack.imgur.com/r5BbO.png)

**我可以通过在#main 中使用来解决问题，`position:fixed`但是当我使用它时.. 我的#main 会在菜单上被覆盖。**

![在此处输入图像描述](https://i.stack.imgur.com/yBApo.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:49:27.717

来自 w3c 规范：

> section 元素表示文档或应用程序的通用部分。在这种情况下，部分是内容的主题分组，通常带有标题。
> 
> 章节的示例包括章节、选项卡式对话框中的各种选项卡式页面或论文的编号章节。Web 站点的主页可以分为介绍、新闻项目和联系信息的部分。
> 
> ...
> 
> 注意：section 元素不是通用的容器元素。当需要一个元素来设置样式或方便编写脚本时，鼓励作者改用 div 元素。一般规则是，只有当元素的内容明确地列在文档大纲中时，section 元素才是合适的。

按照这个逻辑，如果你需要一个元素来应用样式，你就需要一个 div。`<section>`标签是语义标签而不是功能标签。在你的 section 标签内，你应该有一个 div 元素来保存内容，它应该是 CSS 样式的目标。

**编辑：**另外，由于`<section>`是 HTML5 元素，如果您使用的是旧版浏览器，则需要将其设置为`display: block`显式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:51:31.907

我想你不应该应用静态高度/或给它固定高度，尽管你可以使用 javascript/jquery 从你发布的图片中做到这一点，我想下面的 css 应该是你的解决方案。

将 CSS 添加到您的#main

```
 top:50px;
    bottom:10px;
    position:fixed;
    right:10px;
    left:10px; 
```

编辑：`overflow:auto`在`#main` **演示**中添加：http : [//jsfiddle.net/hEGms/2/](http://jsfiddle.net/hEGms/2/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T07:52:30.067

在较新的浏览器上，您可以使用该`calc()`功能动态设置部分的高度，例如

```
html, body, .page { 
    height: 100%;
    margin: 0; padding: 0;
}

header {
  height: 100px;
}

section {
   height: -webkit-calc(100% - 110px);
   height: -moz-calc(100% - 110px);
   height: calc(100% - 110px);
   border: 1px red solid;
   overflow: auto;
} 
```

dabblet 示例：http: [//dabblet.com/gist/5308785](http://dabblet.com/gist/5308785)

支持 calc() 的浏览器：http: [//caniuse.com/calc](http://caniuse.com/calc)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T10:02:19.470

谷歌“流体高度布局”。你会得到很多例子。

这个[例子](http://result.dabblet.com/gist/3284213/7aa86561e18cb5ff9d1ba5ddc255e07591301165)实现了你所要求的。

这里还有[一个](http://www.mightymeta.co.uk/superstretch-a-vertically-fluid-layout-using-css/)

# jquery - 本地过滤的数据没有出现在 Jqgrid 的警报框中

> ID：15805059
> 
> 赞同：1
> 
> 时间：2013-04-04T07:30:11.363
> 
> 标签：jquery, asp.net, jqgrid

感谢 Oleg 从那里我添加了代码以获取 Jqgrid 中的特定列数据，以过滤本地记录，但它没有显示在警报框中过滤的数据。在警报框中，它显示数据总数和数据值的空字符串......这是我的代码......

```
 var oldFrom = $.jgrid.from, lastSelected;

            $.jgrid.from = function (source, initalQuery) {
                var result = oldFrom.call(this, source, initalQuery),
                old_select = result.select;
                result.select = function (f) {
                    lastSelected = old_select.call(this, f);
                    return lastSelected;
                };
                return result;
            }; 
```

在这里，我正在加载 JqGrid ...

```
loadComplete: function () {
                            this.p.lastSelected = lastSelected;
                        } 
```

下面是我的按钮点击功能...

```
 $("#go").click(function () {
                        var filteredData = $grid.jqGrid('getGridParam', 'lastSelected'), i, n, ids = [],
                idName = $grid.jqGrid('getGridParam', 'localReader').price;
                        if (filteredData) {
                            for (i = 0, n = filteredData.length; i < n; i++) {
                                ids.push(filteredData[i][idName]);
                            }
                            alert("tolal number of filtered data: " + n + "\n" +
                    "ids of filtered data:\n" + ids.join(', '));
                        }
                    }); 
```

在这里，我想取出我在网格中添加的价格列的值..

```
 { name: 'price', index: 'price', width: 100, sortable: true, align: 'center',formatter: 'currency' } 
```

.Plz GuysHelp me .. 提前谢谢...

# bitmap - 如何在 Android 中将 LayerDrawable 转换为 Drawable？

> ID：15805060
> 
> 赞同：5
> 
> 时间：2013-04-04T07:30:16.160
> 
> 标签：bitmap, drawable

在我的应用程序中，我使用**LayerDrawable**来显示覆盖层图像。我这样做是成功使用 layerDrawable。

在我将 layerDrawable 设置为 imageView.setImageDrawable(layerDrawable);

现在我想使用这个可绘制的图像作为位图并在下一个图像处理中使用。但是当我尝试让 Bitmap 使用它时

```
((BitmapDrawable)imageLayout.getDrawable()).getBitmap(); 
```

我收到以下错误。

```
04-04 12:56:02.102: E/AndroidRuntime(15127): java.lang.ClassCastException: android.graphics.drawable.LayerDrawable cannot be cast to android.graphics.drawable.BitmapDrawable 
```

所以我改变了我的图像处理方法并尝试将**LayerDrawable**转换为**Drawable**并将这个 drawable 设置为 imageLayout 背景。然后它完美地工作。 **我的问题是如何将 LayerDrawable 转换为 drwable？**

请任何人帮助。给我一些想法。谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T13:45:47.560

只是一个测试，我没有试过这个

```
public Drawable geSingleDrawable(LayerDrawable layerDrawable){

          int resourceBitmapHeight = 136, resourceBitmapWidth = 153;

          float widthInInches = 0.9f;

          int widthInPixels = (int)(widthInInches * getResources().getDisplayMetrics().densityDpi);
          int heightInPixels = (int)(widthInPixels * resourceBitmapHeight / resourceBitmapWidth);

          int insetLeft = 10, insetTop = 10, insetRight = 10, insetBottom = 10;

          layerDrawable.setLayerInset(1, insetLeft, insetTop, insetRight, insetBottom);     

          Bitmap bitmap = Bitmap.createBitmap(widthInPixels, heightInPixels, Bitmap.Config.ARGB_8888);

          Canvas canvas = new Canvas(bitmap);
          layerDrawable.setBounds(0, 0, widthInPixels, heightInPixels);
          layerDrawable.draw(canvas);

          BitmapDrawable bitmapDrawable = new BitmapDrawable(getResources(), bitmap);
          bitmapDrawable.setBounds(0, 0, widthInPixels, heightInPixels);

          return bitmapDrawable;
} 
```

# php - MYSQL / PHP搜索未找到数据库中的所有记录

> ID：15805075
> 
> 赞同：2
> 
> 时间：2013-04-04T07:31:11.237
> 
> 标签：php, mysql, indexing, sql-like

我真的一直用这个在墙上敲打我的头，我需要一些帮助。我有一个不到 900 条记录的 MYSQL 数据库。我必须跨多个列进行全文搜索，但它似乎不起作用。当我搜索“LName”字段时，它会显示一些记录，例如，如果我搜索“Smith”，当数据库包含 8 行时，它会返回 7 行。当我搜索单个姓氏“Albritton”时，它不会当我知道它存在时，根本找不到它。这适用于数据库中的许多记录。你搜索，它似乎不存在，即使我知道它存在。

我正在执行 SELECT / FROM / WHERE / OR 来搜索 Lname、Fname、City、State 等，但它只会搜索 LNAME，而且它仍然只会返回部分结果。

经过数小时的在线搜索，我决定在表上创建一个索引并进行搜索索引 WHERE MATCH 搜索，这很有效，但我仍然得到相同的有限结果。我正在使用 PHPMYADMIN 并运行了分析和修复，但它说它很好并且没有任何改变。

根据我所读到的，对于这么小的表，我最好根本不使用索引，我对此很好，但似乎都不能正常工作。

此外，我创建的所有索引的基数都是“1”，这似乎不正确。

我将在此处粘贴我的 search.PHP。请原谅乱七八糟的东西，我整晚都在尝试。任何帮助表示赞赏。

```
/* $result = mysql_query ("SELECT * FROM attorney WHERE lname LIKE '%$keyword%'
OR
fname LIKE '%$keyword%'
OR
phone LIKE '%$keyword%'
OR
bizname LIKE '%$keyword%'
OR
address LIKE '%$keyword%'
OR
city LIKE '%$keyword%'
OR
zip LIKE '%$keyword%'

ORDER BY if(lname = '' or lname is null,1,0), lname ASC, fname $limit"); */ 
```

```
$result = mysql_query ("SELECT * FROM attorney USE INDEX (index1) WHERE MATCH (lname, fname, city, state, zip) AGAINST ('%$keyword%' IN BOOLEAN MODE)

");

$row = mysql_fetch_array($result);
if (!$result) 
    {
    die("Error: Data not found..");
    } 
```

ETC...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:37:12.950

您不需要`%`在全文搜索中使用。

尝试这个：

```
SELECT  *
FROM    attorney
WHERE   MATCH (lname, fname, city, state, zip) AGAINST ('+Smith' IN BOOLEAN MODE) 
```

另请注意，长度小于 4 个字符的单词不会被索引，也不会使用默认`MySQL`设置进行搜索。

如果您需要搜索短词，请添加

```
ft_min_word_len = 1 
```

然后重建`my.cnf`全文索引。

# android - 如何使用httpclient从android调用https安全休息服务

> ID：15805079
> 
> 赞同：5
> 
> 时间：2013-04-04T07:31:25.717
> 
> 标签：android, rest, https

我已经成功地在 Android 中使用 http 调用了 rest 服务。

但现在我想在 android 中调用 HTTPS RESTful 服务，我正在使用 Apache 的 HTTPmime API 来调用 REST 服务。

请任何人都可以帮助我在android中调用安全休息服务

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:48:47.903

这是您可以用来忽略 SSL 证书错误的示例代码 创建一个名为 SimpleSSLSocketFactory 的新 java 类

```
 public class SimpleSSLSocketFactory extends org.apache.http.conn.ssl.SSLSocketFactory {
    private SSLSocketFactory sslFactory = HttpsURLConnection.getDefaultSSLSocketFactory();

    public SimpleSSLSocketFactory(KeyStore truststore) throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException,
            UnrecoverableKeyException {
        super(null);

        try {
            SSLContext context = SSLContext.getInstance("TLS");

            // Create a trust manager that does not validate certificate chains and simply
            // accept all type of certificates
            TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {
                public java.security.cert.X509Certificate[] getAcceptedIssuers() {
                    return new java.security.cert.X509Certificate[] {};
                }

                public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {
                }

                public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {
                }
            } };

            // Initialize the socket factory
            context.init(null, trustAllCerts, new SecureRandom());
            sslFactory = context.getSocketFactory();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    @Override
    public Socket createSocket(Socket socket, String host, int port, boolean autoClose) throws IOException, UnknownHostException {
        return sslFactory.createSocket(socket, host, port, autoClose);
    }

    @Override
    public Socket createSocket() throws IOException {
        return sslFactory.createSocket();
    }
} 
```

并使用以下 httpclient 而不是默认客户端

```
// Setup a custom SSL Factory object which simply ignore the certificates
    // validation and accept all type of self signed certificates
    SSLSocketFactory sslFactory = new SimpleSSLSocketFactory(null);
    sslFactory.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);

    // Enable HTTP parameters
    HttpParams paramsSecure = new BasicHttpParams();
    HttpProtocolParams.setVersion(paramsSecure, HttpVersion.HTTP_1_1);
    HttpProtocolParams.setContentCharset(paramsSecure, HTTP.UTF_8);

    // Register the HTTP and HTTPS Protocols. For HTTPS, register our custom SSL Factory object.
    SchemeRegistry registry = new SchemeRegistry();
    registry.register(new Scheme("http", PlainSocketFactory.getSocketFactory(), 80));
    registry.register(new Scheme("https", sslFactory, 443));

    // Create a new connection manager using the newly created registry and then create a new HTTP client
    // using this connection manager
    ClientConnectionManager ccm = new ThreadSafeClientConnManager(paramsSecure, registry);
    HttpClient httpclient = new DefaultHttpClient(ccm, paramsSecure); 
```

干杯！！

# ajax - 为什么嵌套的动态手风琴面板会在 @form 重新渲染时丢失它们的 activeIndex 信息？

> ID：15805083
> 
> 赞同：1
> 
> 时间：2013-04-04T07:31:33.150
> 
> 标签：ajax, jsf, primefaces, accordion

我有以下结构

```
<h:form>
<!-- some elements -->
<p:accordionPanel id="outer" multiple="true" var="node" dynamic="false" value="#{model.nodes}">
    <p:tab id="outerId">
        <p:accordionPanel id="inner" multiple="true" dynamic="false" var="child" value="#{node.children}">
            <p:tab id="innerId">
              <!-- iterated components -->
            </p:tab>
        </p:accordionPanel>
    </p:tab>
</p:accordionPanel>
</h:form> 
```

然后我尝试在 ajax 回发和从内部选项卡内和从整个层次结构的外部重新渲染：

```
<f:ajax event="click" render="@form" execute="@form" /> 
```

或者

```
<p:ajax process="@form" partialSubmit="false" update="@form" /> 
```

问题是活动索引只为外部手风琴保留，而不是子手风琴（尽管查看 POST 数据，子手风琴活动索引也被发送）。我做错了什么还是我不应该期望它开箱即用？

**什么会起作用**

另一方面，我知道我可以通过在模型和每个节点上提供例如一个字段来手动管理活动索引，这将保留这些数据。（没有测试，但在挖掘了很多 pf 帖子/so 页面后，这就是我所期望的）

```
<p:accordionPanel activeIndex="#{model.activeIndex}"...
       <p:accordionPanel activeIndex="#{node.activeIndex}"... 
```

谁能确认第二种方法是唯一的方法？或者我在第一种情况下做错了什么？

Primefaces **3.4.2**

Glassfish 堆栈**3.1.2.2**

**更新 05.04.2013**

后一种方法也不起作用。因为在 ajax POST node.activeIndex 上接收到值`""`（并且只有根活动索引设置正确）

**数据场景（POST数据详情）**

1.  加载页面。
2.  打开前两个外部选项卡。
3.  从第二个外部选项卡打开前两个内部选项卡。
4.  单击页面中的元素
5.  发布数据

```
    javax.faces.partial.ajax=true
    javax.faces.source=j_idt106:j_idt271:1:j_idt121:j_idt110:0:j_idt113:featureRepeater:11:featureCheckboxP
    javax.faces.partial.execute=gridDetailPage
    javax.faces.partial.render=gridDetailPage
    javax.faces.behavior.event=valueChange
    javax.faces.partial.event=更改
    gridDetailPage=gridDetailPage
    j_idt106:j_idt271:1:j_idt121:j_idt110_active=0,1 // 内开标签
    j_idt106:j_idt271_active=0,1 // 外开标签
    javax.faces.ViewState=4232962649695633063:-8633977119414123467

```

1.  呈现的页面具有第一个两个外部选项卡，并且**仅**打开第二个外部选项卡的第一个内部选项卡（错误）
2.  以下 POST 仅发布当前（错误）配置

```
javax.faces.partial.ajax=true
javax.faces.source=j_idt106:j_idt271:1:j_idt121:j_idt110:0:j_idt113:featureRepeater:0:featureCheckboxP
javax.faces.partial.execute=gridDetailPage
javax.faces.partial.render=gridDetailPage
javax.faces.behavior.event=valueChange
javax.faces.partial.event=更改
gridDetailPage=gridDetailPage
j_idt106:j_idt271:1:j_idt121:j_idt110_active=0 // 内开标签
j_idt106:j_idt271_active=0,1 // 外开标签
javax.faces.ViewState=4232962649695633063:-8633977119414123467

```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T10:42:36.547

**[andyba](http://forum.primefaces.org/memberlist.php?mode=viewprofile&u=8607)**提出的解决方案：

*“为了确保传播 activeIndex 值，您需要对手风琴面板进行处理，您只需在**顶级手风琴面板**`<p:ajax/>`内添加一个空的 p:ajax 标记 ()即可完成此操作。”*

 **不幸的是，这不起作用（尝试了每种组合外部，内部，都+带&不带activeIndex）。

**但这确实**

*   不需要设置activeIndex，没关系，因为在服务器端我对索引不感兴趣）：

*   在外部：

    ```
    <p:ajax event="tabChange"/> 
    ```

    （这基本上是您的解决方案的受限形式

*   在内部手风琴中，我添加了：

    ```
    <p:ajax event="tabChange" process="@this" update="@form"/> 
    ```

    这意味着在我的情况下，更改内部选项卡状态时只需要重新渲染整个表单

不幸的是，由于复杂的页面结构，这增加了难看的闪烁。我希望我可以在不使用 tabchange 的 ajax 的情况下解决它。

*也可以在[primefaces 论坛上找到](http://forum.primefaces.org/viewtopic.php?f=3&t=29521&p=93954#p93954)*

# 更新 20130510

最后，我最终酝酿出自己的解决方案。那是：

有了我们以相同顺序显示相同数量的手风琴的约束，我们可以将它们的状态保存在一个字符串中，其中包含 1 表示每个打开的手风琴，0 表示永远关闭的手风琴。所以解决方法如下：

```
var CONTAINER_SELECTOR = 'selector of container containing all accordions';

// called whenever we click on an accordion (see assignment in init)
var saveAccordionsState = function () {
  var state = '';
  $(CONTAINER_SELECTOR + ' .ui-accordion-header').each(function (i, el) {
      // for every accordion put a 0 or 1 in the state string
      state += ($(el).hasClass('ui-state-active') ? '1' : '0');
  });
  // put the state string in an input that will be submitted to the server
  $('#accordionState').val(state); 
};

// this method is called right after accordions are rendered
var init = function () {
    // retrieve the saved state
    var state = $('#accordionState').val();

    // get reference to all accordions
    var $accordions = $('.ui-accordion-header');

    // turn jquery effects off for quick restoration (otherwise we'll have glitches
    $.fx.off = true;

    if (state === '' || $accordions.length !== state.length) { // if no state defined 
        // open all accordions by simulating a click on them
        $('.ui-accordion-header').not('.ui-state-active').trigger('click');
    } else { // otherwise
        for (var i = state.length - 1; i >= 0; --i) {
            var $accordion = $($accordions[i]);
            var c = state[i];
            // for every accordion that is in the opposite state
            if ((c === '1' && !$accordion.hasClass('ui-state-active')) ||
                (c === '0' && $accordion.hasClass('ui-state-active'))) {
                $accordion.trigger('click'); // simulate a click on its header to toggle it
            }
        }
    }
    // turn effects back on
    $.fx.off = false;
    // save the state
    saveAccordionsState();
    // assign the save state method to every accordion header click
    $('.ui-accordion-header', $featureTable).click(saveAccordionsState);
}; 
```

xhtml 看起来像这样：

```
<h:form>
    <p:accordionPanel ... >
        <p:tab ... >
            <h:panelGroup ... >
                <p:accordionPanel ... >
                    <p:tab ... >
                        <h:panelGroup ... />
                    </p:tab>
                </p:accordionPanel>
            </h:panelGroup>
        </p:tab>
    </p:accordionPanel>
    <h:inputHidden id="accordionState" value="#{bean.accordionState}"/>
    <script type="text/javascript">
        init();
    </script>
</h:form> 
```**

# javascript - (JS) 使用函数添加任意大小数组的值

> ID：15805085
> 
> 赞同：-1
> 
> 时间：2013-04-04T07:31:40.157
> 
> 标签：javascript, arrays

如果之前有人问过这个问题，我真的很抱歉，但在过去的 4 个小时里我一直在自己搜索/尝试，但一无所获。

我试图弄清楚如何在 Javascript 中创建一个函数，它将返回数组中包含的所有数字的总和（即 [12、50、3] 将返回 65。我需要能够计算任何大小的数组的总和。

我知道我在这方面完全是个菜鸟，但这是我到目前为止所拥有的：

```
var findSum = function() {    
}
var n = [10, 12];
findSum(a); 
```

无法解释我对任何帮助的感激之情。

PS如果你正在浏览这个，你好，教授；）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:35:24.177

这是直接从文档中减少的标准示例：[https ://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/Reduce](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/Reduce)

```
[0,1,2,3,4].reduce(function(previousValue, currentValue, index, array){
    return previousValue + currentValue;
}); 
```

因此

```
findSum(a) { return a.reduce(function(a, b) { return a+b; }); } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:42:54.617

试试这个

```
var array = [1,3,4,5,2,10];
var sumOfArray = 0;
array.forEach(function(value,index){
     sumOfArray += value;
 });
console.log(sumOfArray); //25 
```

[小提琴演示](http://jsfiddle.net/XhBDr/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:45:23.843

最简单形式的本机 Javascript 实现，没有兼容性问题：

```
function findSum(arr){
   var sum=0;
   for(var i = arr.length;i--;){
      sum += arr[i];
   }
   return sum;
}

// or
function findSum(arr){
   var sum=0,i=arr.length;
   while(i--){sum += arr[i];}
   return sum;
}

findSum(a); 
```

# ios - 如何从异步属性的 getter 中返回？

> ID：15805086
> 
> 赞同：8
> 
> 时间：2013-04-04T07:31:40.553
> 
> 标签：ios, objective-c, grand-central-dispatch, getter-setter

我已经覆盖了一个请求在线服务以获得结果的吸气剂。**如何强制 getter 仅从同步块返回结果？**

```
@interface MyClass ()

@property (nonatomic, strong) NSMutableDictionary* myDictionary;
@end 

@implementation MyClass

-(NSMutableDictionary*) myDictionary {

    dispatch_async(queue, ^{
         /* perform online request */
         dispatch_sync(dispatch_get_main_queue(), ^{
             // I need to obtain lock until this line gets executed and only then return
         });
    });
}
@end 
```

通过至少 3 个小时的相当不错的谷歌搜索，我遇到了**dispatch_group_async**、**dispatch_semaphore**和**__block**。我不知道我是否用错了，但没有达到目的。

**更新 1：**

`myDictionary`是一个异步属性。我想看看这是否可以通过 getter 本身来实现。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-19T19:04:30.817

@Kishor 当请求真正异步时，UI 不会阻塞。您的“异步”请求阻止 UI 的原因是，实际上它们不是异步的。这是伪代码中的原因：

```
- (double) notTruelyAsyncValue 
{
    __block double someExpensiveDoubleToCompute = 0.0;

    // One of the many ways that we can coordinate concurrent threads.
    dispatch_semaphore_t sema_done = dispatch_semaphore_create(0);

    dispatch_async(not_the_main_queue, ^(void) {
       // Simulate long processing time.
       sleep(5); 
       someExpensiveDoubleToCompute = 3.1415926535;
       dispatch_semaphore_signal(sema_done);
    });

    // We can't return until the async block has returned.
    // So we wait until it's done. If we wait on the main queue
    // then our UI will be "frozen". 
    dispatch_semaphore_wait(sema_done, DISPATCH_TIME_FOREVER);

    // Now we have our result we free the resources and return
    dispatch_release(sema_done);

    return someExpensiveDoubleToCompute;
} 
```

如果您从异步线程调用此方法，它不会阻塞 UI，但如果您从主队列/线程调用它，那么它将阻塞 UI，因为您正在等待主线程上的信号量。不管你如何实现你的等待，它总是会阻塞 UI，因为主线程是一个串行队列。这意味着在您的异步块完成之前，主队列上的任何其他块或事件都不会运行。

如果您不想阻止您的 UI，则不要调用任何可能从主线程阻塞的内容。一个很好的模式是使用@Collin 建议的完成块。模式如下：

```
- (void) computeAnyncValueWithCompletionBlock:((void)^(double value))completionBlock 
{
     dispatch_async(not_the_main_queue, ^(void) {
          // do some expensive computation.
          double value = 3.1415926535;
          completionBlock(value);
     });
} 
```

这可以从任何地方调用并且永远不会阻塞。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-04T07:43:14.553

如果我不清楚，请纠正我 - 听起来你想要做的是在后台下载，同时还以非异步方式从方法返回？如果您考虑一下，您有点试图同时做两件相互矛盾的事情：该方法要么必须阻塞直到它返回*，要么*异步返回。

我认为你想要的是一个**完成块**。您可以创建第二个方法，而不是覆盖`myDictionary`，而是创建执行以下操作的第二个方法：

```
- (void)downloadWithCompletion:(void(^)(NSDictionary *dictionary))completion
{
    dispatch_async(queue, ^{
         /* perform online request */
         // Create an NSDictionary from what was downloaded.
         NSDictionary *dictionary = <parsed request data>
         dispatch_sync(dispatch_get_main_queue(), ^{
             // Call the completion block using the info that was downloaded
             // where self.myDictionary could be set.
             completion(dictionary);
         });
    });
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-05T04:00:27.860

事实证明，一点也不难。我试图用我的发现来更新这个，我会继续更新这个。

## 异步属性的 getter 应该如何表现？

1.  `Perform asynchronous request`如果属性不可用并且`set the property`. （用于延迟加载）
2.  可用时归还该财产。

**挑战：**

*   用户界面冻结
*   无效退货

* * *

虽然，它可能会令人困惑，因为**为什么不在这里使用同步方法？**, 答案是**它会冻结 UI。**

没有人知道异步请求何时会完成，但这并不意味着对可用性状态的全部需求应该是未知的。从硬件、内核到更高级别的 API，所有系统中都有相应的机制。您可以将**Protocols 和 Delegates**作为传达此信息的一种方式。

* * *

## 为什么不将协议和委托用于异步属性？

1.  我将不得不强制在所有引用类中实现委托 ->**不是 getter**。
2.  我不希望其他类知道它是一个异步属性，如果他们想要数据，他们会在数据可用时得到它，而他们不知道如何检索它的性质。（obv 没有冻结 UI）。

* * *

## 我们如何在不使用协议和委托或将其转换为同步调用的情况下实现这一点？

答案是**使用条件变量**。请注意，此条件变量与我们用于分支的条件变量不同。它必须是线程安全的，并在编译器和内核级别得到支持。

1.  [NS条件](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/NSCondition_class/Reference/Reference.html)

从官方文档，

```
The NSCondition class implements a condition variable whose semantics follow 
those used for POSIX-style conditions. A condition object acts as both a lock 
and a checkpoint in a given thread. The lock protects your code while it tests 
the condition and performs the task triggered by the condition. The checkpoint 
behavior requires that the condition be true before the thread proceeds with its 
task. While the condition is not true, the thread blocks. It remains blocked until 
another thread signals the condition object. 
```

我所要做的就是让这个 getter 方法在不使用委托的情况下知道异步请求的完成。

```
-(NSMutableDictionary*) myDictionary {
    if(!_myDictionary) {
        _myDicitonary = [self someOtherMethod];
    }
    return _myDictionary;
} 
```

虽然锁和异步请求可以在 getter 本身中实现，但我拒绝这样做以方便操作锁。此外，这是一个很好的逻辑分离:)

```
- (NSMutableDictionary *)someOtherMethod
{
    NSCondition *lockForCompletion = [[NSCondition alloc] init];
    __block BOOL available = NO;
    __block NSMutableDictionary* tempDict = [[NSMutableDictionary alloc] init];

    [lockForCompletion lock]; // acquire the lock

        dispatch_async(queue, ^{
             /* perform online request */
             dispatch_sync(dispatch_get_main_queue(), ^{
                 [tempDict setObject:myResponse forKey:@"mykey" count:1];
                 available = YES;
                 [lockForCompletion signal];
             });
        });
    while(!available) {
        [lockForCompletion wait];
    }

    [lockForCompletion unlock];
    return tempDict;
} 
```

我还想指出，最初布尔谓词`available`似乎根本没有必要，因为`wait`它将禁止控制超出它。但实际上布尔谓词在保持锁定方面起着非常重要的作用，如文档中所述。

```
A boolean predicate is an important part of the semantics of using conditions 
because of the way signaling works. Signaling a condition does not guarantee 
that the condition itself is true. There are timing issues involved in signaling 
that may cause false signals to appear. Using a predicate ensures that these 
spurious signals do not cause you to perform work before it is safe to do so. 
The predicate itself is simply a flag or other variable in your code that you test 
in order to acquire a Boolean result. 
```

# jquery - 如何在 jeasyui 数据网格中更改或指定字体大小？

> ID：15805088
> 
> 赞同：-1
> 
> 时间：2013-04-04T07:31:57.957
> 
> 标签：jquery, datagrid

jeasy-ui 的 DataGrid 有自己的一组用于表头和表体数据的字体大小。

我有 3 个 DataGrid，但我需要为 2 个 DataGrid 设置默认字体大小，但对于 1 个 DataGrid，我必须明确指定字体大小。

我怎样才能做到这一点？

```
<table class="easyui-datagrid" data-options="singleSelect:true,fitColumns:true" style="height:180px;" id="alertDescDG"> 
    <thead> 
        <tr> 
            <th data-options="field:'label', width:200"></th> 
            <th data-options="field:'value', width:200"></th> 
        </tr> 
    </thead> 
</table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-04-21T02:01:21.917

[根据easyui论坛的这篇文章](http://www.jeasyui.com/forum/index.php?topic=4048.0)，您可以将数据包装在`<span>`标签中。:)

```
<table class="easyui-datagrid" title="Basic DataGrid" style="width:700px;height:250px">
    <thead>
        <tr>
            <th data-options="field:'itemid',width:80">Item ID</th>
            <th data-options="field:'productid',width:100"><span style="font-weight:bold">Product</span></th>
        </tr>
    </thead>
</table> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:48:26.547

只需将其添加到样式属性：

```
style="font-size:24px;" 
```

或在 ems 中：

```
style="font-size:1.5em;" 
```

# wordpress - nginx wordpress 漂亮的永久链接

> ID：15805090
> 
> 赞同：1
> 
> 时间：2013-04-04T07:32:12.217
> 
> 标签：wordpress, nginx, permalinks

在几乎所有关于 nginx 和 wp 的主题之后，我都被困住了：/

这是我的测试 wp 站点的配置（我的 DNS 正在更新，所以我还没有）：

```
# W3TC config rules based on http://elivz.com/blog/single/wordpress_with_w3tc_on_nginx/
server {
    listen   80; ## listen for ipv4; this line is default and implied
    #listen   [::]:80 default ipv6only=on; ## listen for ipv6
    # Tell nginx to handle requests for the www.orpheecole.com domain
    server_name         localhost;
    index               index.php index.html index.htm;
    root                /var/www/test_wp;
    access_log          /var/log/nginx/testWp_access.log;
    error_log           /var/log/nginx/testWp_error.log;
    # Use gzip compression
    # gzip_static       on;  # Uncomment if you compiled Nginx using --with-http_gzip_static_module
    gzip                on;
    gzip_disable        "msie6";
    gzip_vary           on;
    gzip_proxied        any;
    gzip_comp_level     5;
    gzip_buffers        16 8k;
    gzip_http_version   1.0;
    gzip_types          text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript image/png image/gif image/jpeg;
    # Rewrite minified CSS and JS files
    rewrite ^/wp-content/w3tc/min/([a-f0-9]+)\/(.+)\.(include(\-(footer|body))?(-nb)?)\.[0-9]+\.(css|js)$ /wp-content/w3tc/min/index.php?tt=$1&gg=$2&g=$3&t=$7 last;
    # Set a variable to work around the lack of nested conditionals
    set $cache_uri $request_uri;
    # POST requests and urls with a query string should always go to PHP
    if ($request_method = POST) {
        set $cache_uri 'no cache';
    }
    if ($query_string != "") {
        set $cache_uri 'no cache';
    }
    # Don't cache uris containing the following segments
    if ($request_uri ~* "(\/wp-admin\/|\/xmlrpc.php|\/wp-(app|cron|login|register|mail)\.php|wp-.*\.php|index\.php|wp\-comments\-popup\.php|wp\-links\-opml\.php|wp\-locations\.php)") {
        set $cache_uri "no cache";
    }
    # Don't use the cache for logged in users or recent commenters
    if ($http_cookie ~* "comment_author|wordpress_[a-f0-9]+|wp\-postpass|wordpress_logged_in") {
        set $cache_uri 'no cache';
    }
    # similar to Apache Status - handy for quickly checking the health of nginx
    location /nginx_status {
                stub_status on;
                access_log off;
                allow all;
    }
    # Use cached or actual file if they exists, otherwise pass request to WordPress
    location / {
        try_files /wp-content/w3tc/pgcache/$cache_uri/_index.html $uri $uri/ /index.php?$args;
    }
    # Cache static files for as long as possible - removed xml as an extension to avoid problems with Yoast WordPress SEO plugin which uses WP rewrite API.
    location ~* \.(ogg|ogv|svg|svgz|eot|otf|woff|mp4|ttf|css|rss|atom|js|jpg|jpeg|gif|png|ico|zip|tgz|gz|rar|bz2|doc|xls|exe|ppt|tar|mid|midi|wav|bmp|rtf)$ {
        try_files       $uri =404;
        expires         max;
        access_log      off;
    }
    # Deny access to hidden files
    location ~* /\.ht {
        deny            all;
        access_log      off;
        log_not_found   off;
    }
    # Pass PHP scripts on to PHP-FPM
    include global/php-fpm.conf;
    location ~* \.php$ {
        fastcgi_index   index.php;
        fastcgi_pass    php5-fpm-sock;
        include         fastcgi_params;
        fastcgi_param   SCRIPT_FILENAME    $document_root$fastcgi_script_name;
        fastcgi_param   SCRIPT_NAME        $fastcgi_script_name;
        include /etc/nginx/fastcgi_params;
    }
} 
```

这是我的每个网站中包含的“全局”文件

```
# PHP scripts -> PHP-FPM server listening on 127.0.0.1:9000
location ~ \.php$ {
   # The following line prevents malicious php code to be executed through some uploaded file (without php extension, like image)
   # This fix shoudn't work though, if nginx and php are not on the same server, other options exist (like unauthorizing php execution within upload folder)
   # More on this serious security concern in the "Pass Non-PHP Requests to PHP" section, there http://wiki.nginx.org/Pitfalls
   try_files $uri =404;

   # PHP
   # NOTE: You should have "cgi.fix_pathinfo = 0;" in php.ini
   #fastcgi_pass   127.0.0.1:9000;
   fastcgi_pass php5-fpm-sock;
   fastcgi_index  index.php;
   fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
   include fastcgi_params;
   fastcgi_param  QUERY_STRING     $query_string;
   fastcgi_param  REQUEST_METHOD   $request_method;
   fastcgi_param  CONTENT_TYPE     $content_type;
   fastcgi_param  CONTENT_LENGTH   $content_length;
   fastcgi_intercept_errors        on;
   fastcgi_ignore_client_abort     off;
   fastcgi_connect_timeout 60;
   fastcgi_send_timeout 180;
   fastcgi_read_timeout 180;
   fastcgi_buffers 4 256k;
   fastcgi_buffer_size 128k;
   #fastcgi_buffers 256 16k;
   #fastcgi_buffer_size 16k;
   fastcgi_busy_buffers_size 256k;
   fastcgi_temp_file_write_size 256k;
} 
```

在 wp 中，我安装了 nginx-helper 插件，但没有任何变化，只要我切换到漂亮的永久链接，每个帖子和类别都会返回 404 错误

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T13:50:22.330

好的问题解决了，这救了我^^

**在server {**指令下添加以下内容

```
if ($host ~* ^myhost\.com$) {
    rewrite ^(.*) http://www.myhost.com$1 permanent;
    break;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-06T10:48:39.610

在你的域 nginx 配置文件的内部**服务器 {**

```
if (!-e $request_filename) {
  rewrite ^.*$ /index.php last;
} 
```

# symfony - Symfony 上传：无法移动文件

> ID：15805091
> 
> 赞同：2
> 
> 时间：2013-04-04T07:32:15.583
> 
> 标签：symfony, file-upload, doctrine

我已经实现了用于文件上传的 symfony 表单。表单类型如下

```
public function buildForm(FormBuilderInterface $builder, array $options)
{
    $builder
    ->add('file', 'file', array(
        'required' => false,
        'label' => 'Upload Photo',
        'label_attr' => array('class' => 'control-label')

    ));  
}

public function setDefaultOptions(OptionsResolverInterface $resolver)
{
    $resolver->setDefaults(array(
        'data_class' => '<path to entity>'
        ));
} 
```

实体如下

```
//start upload config
/**
 * @Assert\File(maxSize="5M")
 */
private $file;

/**
 * @var string $photo
 *
 * @ORM\Column(type="string", nullable=true)
 */
private $photo;

/**
 * @ORM\PrePersist()
 * @ORM\PreUpdate()
 */
public function preUpload()
{
    //handle upload file 
    if (null !== $this->file) {
        $filename    = $this->getUsername();
        // var_dump($filename);
        $this->photo = $filename.'.'.$this->file->guessExtension();
    }        
}

/**
 * @ORM\PostPersist()
 * @ORM\PostUpdate()
 */
public function upload()
{
    //handle upload file gambar
    if (null === $this->file) {
        return;
    } else {
        $this->file->move($this->getUploadRootDir(), $this->photo);
        unset($this->file);
    }
}

/**
 * @ORM\PostRemove()
 */
public function removeUpload()
{
    //handle upload file gambar
    if ($file = $this->getAbsolutePath()) {
        unlink($file);
    }
}

/**
 * Image upload
 */
public function getAbsolutePath()
{
    return null === $this->photo ? null : $this->getUploadRootDir().'/'.$this->photo;
}

/**
 * Image upload
 */
public function getWebPath()
{
    return null === $this->photo ? null : $this->getUploadDir().'/'.$this->photo;
}

/**
 * Image upload
 */
protected function getUploadRootDir()
{
    return __DIR__.'/../../../../web/'.$this->getUploadDir();
}

/**
 * Image upload
 */
protected function getUploadDir()
{
    return 'foto';
} 
```

里面的动作如下

```
$entityItem->upload();
$this->em()->persist($entityItem);
$this->em()->flush(); 
```

我尝试提交表单数据，然后出现如下错误

```
Could not move the file "/tmp/phpS3TVed" to 
"<path to my entity folder>/../../../../web/foto" 
(move_uploaded_file(): Unable to move '/tmp/phpS3TVed' to 
'path to my entity folder>/../../../../web/foto') 
```

这个错误的可能原因是什么，我该如何摆脱它？谢谢。

**更新**

有时我尝试删除上传（）的调用。然而，该方法变得从未被调用过。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-04T09:02:55.057

解决了。

它不需要删除对upload() 的调用。即使我也应该添加调用 preUpload() 以使其正常工作。

# c# - 报表查看器中的水平表格

> ID：15805092
> 
> 赞同：2
> 
> 时间：2013-04-04T07:32:20.080
> 
> 标签：c#, sql-server-2008, reporting-services, reportviewer

我需要报表查看器中的表格来显示从水平表格中的数据源中提取的项目列表。

数据源只包含一个 SQL 列中包含的字符串列表。

![水平报表表格示例](https://i.stack.imgur.com/WhAzx.png)

到目前为止，我尝试过的表格仅将其显示在列中。

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-08T22:35:12.733

这是我对要求的理解。从表中的项目列表中选择并在水平表中报告它们。表中的值可能未知，也可能未知。

在我的示例中，我从选择中构建单个字符串，从项目列表中生成水平连续字符串到变量中。

然后我使用新变量构建一个动态 SQL 语句，并从我想要的表中选择一个。在动态 SQL 中，我做了一个简单的替换，因此 PIVOT 的格式正确。这解决了事先不知道表中存在哪些数据的问题。Pivot 要求您使用字段值标记列，如果表中的值未知或不断变化，则可能会遇到挑战。

```
 DECLARE @FieldValueString VARCHAR(MAX)
        SELECT @FieldValueString = Coalesce(@FieldValueString + ',', '') + cast(ssctab as         varchar) from RA_sysScreen 

    PRINT @FieldValueString
    DECLARE @sql VARCHAR(MAX)
    SET @sql = 'SELECT * FROM
                (SELECT ssctab FROM [RA_sysScreen])qry
                PIVOT (MAX(ssctab) FOR ssctab in (['+REPLACE(@FieldValueString,',','],[')+']))         as pvt'
    print @sql
    EXEC(@sql) 
```

希望这可以帮助。我期待在这个问题上看到其他答案

# html - 使用 div 使表格伸展

> ID：15805096
> 
> 赞同：0
> 
> 时间：2013-04-04T07:32:37.743
> 
> 标签：html, css, css-tables

检查此示例： http: [//jsfiddle.net/RvSK5/](http://jsfiddle.net/RvSK5/) 尝试调整窗口大小...

如何制作表格`stretch`并`shrink`始终保持父元素的 100% 宽度和高度。

如果我们将 div 缩小到非常小的尺寸，则`<p>`可以防止表格缩小。我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:37:00.880

在您的示例中，段落中的文本阻止表格单元格缩小到父 div 的宽度。假设父 div 可以更宽，只需添加`width: 100%`到表中。

```
#table{
    border: 1px solid green;
    width: 100%;
} 
```

示例：http: [//jsfiddle.net/RvSK5/3/](http://jsfiddle.net/RvSK5/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:36:47.260

只需执行以下操作：

```
#test{
    width:10%;
    height:50%;
    background-color:red;
}

#table{
    border: 1px solid green;
    width:100%; /* Make the width 100% of the parent */
} 
```

如果您想获得更多见解，我建议您阅读[http://www.impressivewebs.com/width-100-percent-css/](http://www.impressivewebs.com/width-100-percent-css/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:39:44.353

看到您必须为表格提供 100% 的宽度和高度，以使其伸展到其父 div 高度和宽度[查看此链接](http://ddle.net/RvSK5/4/)

# java - 从 JAVA 使用 LibreOffice/OpenOffice 转换文件格式

> ID：15805104
> 
> 赞同：2
> 
> 时间：2013-04-04T07:33:06.230
> 
> 标签：java, openoffice.org, libreoffice, uno

我正在使用 LibreOffice4.0 UNO 来转换文件。我管理在 doc 和 docx 之间、从 xlsx 到 xls 以及从 docx 到 doc 之间的转换，但是我无法找到 XLSX 和 PPTX 的 FilterName 值。

```
propertyValues[0] = new PropertyValue();
propertyValues[0].Name = "FilterName";
propertyValues[0].Value = "...";

for doc I used:  "swriter: MS Word 97";
for docx I used: "Office Open XML Text";
for xls I used:  "swriter: MS Excel 97";
for ppt I used:  "swriter: MS PowerPoint 97"; 
```

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T08:21:44.127

对于 XLSX，您可以使用`Calc MS Excel 2007 XML`或`MS Excel 2007 XML`。

我也为 OpenOffice 找到了这个，但我不确定它是否适用于您的情况：

```
DOCX - MS Word 2007 XML 
XLSX - Calc MS Excel 2007 XML 
PPTX - Impress MS PowerPoint 2007 XML 
```

有一个**大**清单[`here`](http://www.oooforum.org/forum/viewtopic.phtml?t=71294)

# asp.net - Json.Net IsoDateTimeConverter 不工作

> ID：15805108
> 
> 赞同：4
> 
> 时间：2013-04-04T07:33:13.083
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-4, json.net

我有一个用 asp.net mvc 4 制作的网络应用程序

在 Global.asax 中，我添加了`IsoDateTimeConverter`

```
protected void Application_Start()
{
    AreaRegistration.RegisterAllAreas();

    GlobalConfiguration.Configuration.Formatters.JsonFormatter.SerializerSettings.Converters.Add(
        new IsoDateTimeConverter { DateTimeFormat = "dd-MM-yyyy hh:mm" });
} 
```

我有一个 ActionResult

```
public ActionResult GetDate()
{
    DateTime dateTime = DateTime.Now;
    return Json(dateTime, JsonRequestBehavior.AllowGet);
} 
```

但是，此 actionResult 返回以下内容：

```
"\/Date(1365060823129)\/" 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-04T09:03:10.313

好吧，我相信您对最近很多人一直在使用的所有*“不精确”*命名感到有些困惑。（和一般的`JsonFormatter`格式化程序）由*ASP.NET Web API*使用。

您没有使用*ASP.NET Web API*，您使用的是*ASP.NET MVC 4*（这些是完全独立的技术）。

在*ASP.NET MVC 4*中，序列化逻辑仍然在 with 内部完成`JsonResult`，`JavaScriptSerializer`此处不应用格式化程序。

如果您想将*Json.NET*（及其`IsoDateTimeConverter`）与*ASP.NET MVC 4一起使用，您仍然需要按照*[此处](http://james.newtonking.com/archive/2008/10/16/asp-net-mvc-and-json-net.aspx)`ActionResult`所述创建自己的。

# java - 使用 SOAP 和 REST

> ID：15805112
> 
> 赞同：5
> 
> 时间：2013-04-04T07:33:36.687
> 
> 标签：java, web-services, rest, soap

我已经成功使用了 SOAP 服务。

假设有一个 Web 服务公开了一个返回学生列表的方法。

```
public Student[] listAllStudents(){
  //some code that return Student array
} 
```

使用 SOAP 需要以下步骤：

1.  获取 WSDL 位置的 URL。
    例如。`http://127.0.0.1/web/service/location/soap.php?wsdl`
2.  使用一些可用的技术，如 [***axistools-maven-plugin***](http://mojo.codehaus.org/axistools-maven-plugin/) 来生成所有存根类。将生成一个名为*Student的类*
3.  使用适当的存根类/接口来调用服务。

    `Student[] students = theStub.list_All_Students();`

使用 REST 服务将是这样的。

1.  获取获取学生列表的正确 url。
    例如。`http://127.0.0.1/web/service/student/list?sort=true`
2.  使用一些 URL 连接技术，如 java.net.HttpURLConnection 来获取通常为 JSON 格式的结果。
3.  解析结果。

作为一名 Java 程序员，我在使用**SOAP**方面没有任何问题，因为有专门为它设计的框架。此外，我只需要知道**一个 URL来访问 Web 服务。**

使用**REST**有点混乱。我需要知道所有**特定的 URL**以及需要传递的查询字符串。从这个角度来看，使用 REST 是相当麻烦的。

**我的问题：**

1.  从程序员的角度来看，使用 REST 有用吗？
2.  有没有什么好的框架可以让 REST 变得更容易？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-04T15:14:19.480

## 1\. 从程序员的角度来看，使用 REST 有用吗？

REST 绝对有用。与您在 SOAP 中使用的方式相比，这是一种利用 Web 服务的不同方式。这是一个快速比较： ![在此处输入图像描述](https://i.stack.imgur.com/V1sXt.png)

最后，他们每个人都在面向服务的世界中服务于自己的目的。SOAP 成熟但臃肿。REST 相对较年轻，但更自然地适合 HTTP。它具有巨大的潜力，尤其是在服务合同标准落实到位的情况下。当 WADL 成熟时，它将促进 REST 的普及和采用。

## 2\. 有没有什么好的框架可以让使用 REST 变得更容易？

很多。以下是一些已知的[REST 框架](https://code.google.com/p/implementing-rest/wiki/RESTFrameworks)，其中流行的是 JAX-RS、Jersey、RESTEasy 和 Restlet。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-04T07:39:46.227

这是一个相当开放式的问题，但 REST 的互操作性要强得多，更不用说每个查询中的元数据量之大，使其重量不轻。考虑一下您是否必须在 javascript 中查询 SOAP 端点，或者即使是 php 也可能会让人头疼。SOAP 使用契约优先的机制，当您想使用 c# 之类的东西来使用它时，它非常适合。

关于第二个问题，是的，您可以使用 Jackson（仅适用于 JSON）、Spring 中的 RestController 或 JAX-RS 解析 RESTful 响应。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-04T15:04:50.430

从程序员的角度来看，是的，我认为 REST 很有帮助。REST 据说可以“完全”使用 Web，因为它通过使用比以前更多的 HTTP 方法——“GET”、“POST”、“DELETE”、“PUT”来释放 Web 的潜力。否则我们主要使用“GET”和“POST”。我喜欢这样想，我们无论如何都必须使用 HTTP 来与现实世界中的 web 服务对话，他们为什么不利用 HTTP 提供的功能。到目前为止（在使用 REST 之前），从程序员的角度来看，HTTP 只是一个“虚拟”（不要认真对待虚拟）协议，只是发送我的数据包和接收我的数据包。有一天，HTTP 来到程序员社区并说：“嘿！我确实有 'DELETE' 和 'PUT'。你想通过使用它们来简化你的 web 服务吗？”

维基百科

```
 REST uses these operations and other existing features of the HTTP protocol. 
 For example, layered proxy and gateway components perform additional functions 
 on the network, such as HTTP caching and security enforcement. 
```

SOAP 优于 REST 的优点之一是它适用于非无状态协议，例如 TCP、消息队列。REST 在 HTTP 等无状态协议上运行。因为 HTTP 更普遍 REST 似乎主要与 HTTP 一起使用。

关于您关于 REST 框架的问题 - 我使用过[JAX-RS](http://docs.oracle.com/javaee/6/tutorial/doc/giepu.html)并且听说[Jersey](http://jersey.java.net/nonav/documentation/latest/jax-rs.html)都是同样不错的选择。

希望这可以帮助！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T07:54:53.597

REST 更适合 Web 应用程序/最终用户应用程序。它更轻巧。它也是为网络设计的。做真正的 REST 并不是那么简单（你可以搜索一下）。

SOAP 更适合后台应用程序/专业。SOAP 更重量级/复杂/安全/合约优先/完整/允许管理交易。

从 Java 开发人员的角度来看，两者都完成后，REST 更容易实现/集成，这要归功于 Jersey 和 Resteasy 等支持 JSR-311 的堆栈。是的，杰克逊是一个很棒的工具。

今天在推特上看到:)：

> 如果您讨厌某人，请在linkedin 上支持他们的 SOAP API 和瀑布方法
> 
> 晚上 8:22 · 2013 年 4 月 3 日 · iPhone 版 Twitter

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-04T07:55:45.930

这个问题实际上是[这个问题](https://stackoverflow.com/questions/76595/soap-or-rest-for-web-services?rq=1)的副本，相信我，相信评分最高的答案。

SOAP*并不*简单，互操作性也不是它声称的那样（`attributeFormDefault`、`RPC/encoded`vs`Document/literal`等...）。如果对于 REST，您需要知道 URL，对于 SOAP，您需要知道要调用什么操作。

如果可以选择，请远离 SOAP。拯救我们的灵魂，让 SOAP 死吧。

**编辑**

借助[JAX-RS](http://jax-rs-spec.java.net/)和出色的堆栈，例如[Jersey](http://jersey.java.net/)、[Restlet](http://restlet.org/)、.. 用于 REST 部分，[Jackson](http://jackson.codehaus.org/)、[XStream](http://xstream.codehaus.org/json-tutorial.html)等用于 JSON 部分，只需几个注释即可完成 REST 服务。

# android - 没有文本时，光标在 EditText 中不可见

> ID：15805113
> 
> 赞同：25
> 
> 时间：2013-04-04T07:33:36.847
> 
> 标签：android, android-edittext

我有一个 EditText 声明如下。

```
<EditText 
    android:layout_margin="2dip"
    android:singleLine="true"
    android:lines="1"
    android:maxLines="1"
    android:cursorVisible="true"
    android:textCursorDrawable="@drawable/Black"
    android:textColor="@color/black"
    android:paddingLeft="5dp"
    android:paddingRight="5dp"
    android:background="@android:drawable/editbox_background"
/> 
```

但是在获得焦点时它不显示光标。当我开始输入时，它显示来自第一个索引的光标。我希望即使在空的编辑文本中也能显示光标。

我已经尝试过`setSelection(0)`了，但什么也没发生。请帮帮我我该怎么办？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2014-03-25T03:45:19.130

如上所述，这是实际的线路

```
android:textCursorDrawable="@null" 
```

仅供参考 - @null 没有显示为自动完成选项

# c# - 在 datagridview 中以粗体设置某些行时性能降低

> ID：15805116
> 
> 赞同：4
> 
> 时间：2013-04-04T07:33:49.090
> 
> 标签：c#, winforms, datagridview

我正在尝试在 datagridview 中以粗体显示一些行。这在 datagridview 的绑定完成时应用。

```
Font bold = new System.Drawing.Font(this.GridView.Font, FontStyle.Bold);

foreach (DataGridViewRow row in this.GridView.Rows)
{
    FlattenedResult item = row.DataBoundItem as FlattenedResult;
    if(item != null)
    {
        if(item.ParentID.Equals(item.ID))
        {
            row.DefaultCellStyle.Font = bold;
         }
     }
 } 
```

问题是此操作需要超过 9 分钟（仅适用于 1000 行......）。有没有更好的办法 ？

谢谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-29T14:37:53.167

我曾经和你做同样的事情，10 行需要 0.050 秒才能完成。

根据[Windows Forms DataGridView Control 中的 Cell Styles ，](http://msdn.microsoft.com/fr-fr/library/1yef90x0%28v=vs.110%29.aspx)每次调用 getter 时，行/单元格`Style`属性都会实例化一个新`DataGridViewCellStyle`的（为了能够设置`Font`属性的操作）。

对我来说，只创造一次新的`DataGridViewCellStyle`就可以提高十倍的性能。使用以下代码，完成需要 0.005 秒。

```
private void dataGridView_DataBindingComplete(object sender, DataGridViewBindingCompleteEventArgs e)
{
    DataGridViewCellStyle style = new DataGridViewCellStyle(this.DataGridView.RowsDefaultCellStyle);
    style.Font = new System.Drawing.Font(this.DataGridView.Font, FontStyle.Bold);

    foreach (DataGridViewRow row in this.DataGridView.Rows)
    {
        FlattenedResult item = row.DataBoundItem as FlattenedResult;

        if (item != null)
        {
            if (item.ParentID.Equals(item.ID))
                row.DefaultCellStyle = style;
        }
    }
} 
```

您还可以使用属性过滤`DataBindingComplete`类型。`e.ListChangedType`

这可能不是更好的解决方案，但我希望它有助于找到它。

您还可以查看共享行，但它似乎只适用于无用户交互的 DataGridView。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-08-26T11:41:12.080

问题可能是由您的网格属性引起的。就我而言，我已将属性设置为

```
AutoSizeColumnsMode=AllCells 
```

可能在单元格格式化后，列和标题单元格中的所有其他单元格必须重新绘制以使其尺寸适合新的单元格尺寸。在我将属性值更改为默认值`"None"`后，立即绘制网格。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T08:17:13.960

1）使用虚拟模式`dataGridView1.VirtualMode = true`，建议远日点。您可以在此处查看示例[DataGridView 使用虚拟模式实时显示数据表](https://stackoverflow.com/questions/2717243/datagridview-live-display-of-datatable-using-virtual-mode)

2) 使用属性 ShouldBeInBold 准备数据源行（找到有意义的名称）。并在`CellValueNeeded`事件订阅者中使用它。

# firebug - 在不必要的异常上禁用 firebug Break

> ID：15805117
> 
> 赞同：3
> 
> 时间：2013-04-04T07:33:55.723
> 
> 标签：firebug

我正在使用萤火虫 1.9.2。它在控制台选项卡上出现错误功能中断，每当我运行应用程序时，此功能都会中断我的应用程序加载，这有时更令人恼火，如何禁用它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:40:23.100

在“清除”按钮的左侧有一个切换“所有错误中断”的图标。点击它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-20T00:34:13.923

在 Firefox Quantum (57.0) 上，点击调试器中愚蠢的暂停按钮......它在 3 种状态之间切换......（呃，很明显！）

[https://developer.mozilla.org/en-US/docs/Tools/Debugger/How_to/Breaking_on_exceptions](https://developer.mozilla.org/en-US/docs/Tools/Debugger/How_to/Breaking_on_exceptions)

# asp.net - 在 ASP.NET 中保存网页（包括图像）

> ID：15805119
> 
> 赞同：0
> 
> 时间：2013-04-04T07:33:59.800
> 
> 标签：asp.net, vb.net

我想保存网页（包括图片）。

实际上我使用以下代码保存了网页。

```
Dim LocalFilePath As String = String.Format("D:\Jaison\Download\{0}.html",
                               Me.TextBox1.Text)
Dim objWebClient As New System.Net.WebClient
objWebClient.DownloadFile(
                 String.Format("http://localhost:52241/ppp.aspx?hr_psno={0}", 
                        Me.TextBox1.Text), LocalFilePath) 
```

它保存网页。

但图像未显示在保存的网页中。

所以请帮助我进一步编码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:46:32.873

您需要做的不仅仅是获取 html 文件并下载它，请考虑以下几点：

1.  您需要下载 HTML 文件
2.  您需要扫描 HTML 文件以获取图像/css/脚本参考并下载这些参考
3.  然后，您需要更改原始 HTML 文件中的引用以引用新位置，而不是网站上潜在的绝对引用

虽然以下应用程序不是 VB.NET，但它可能会让您更好地理解需求：[WinHttrack](http://www.httrack.com/)，代码可在网站上找到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-06T05:19:07.210

问题只是使用正确的路径保存和显示图像。例如：我们可以使用*(../Images/{0}.html)*之类的 url并将其保存在**Project中，而不是使用本地文件夹中的 url*(D:\Jaison\Download{0}.html)*文件夹**不在**本地文件夹**中。以完美的方式保存和显示图像。

谢谢你们...

# java - 您将如何在 EJB3 中实现来自数据库和 Web 服务的数据连接？

> ID：15805120
> 
> 赞同：1
> 
> 时间：2013-04-04T07:34:01.890
> 
> 标签：java, multithreading, asynchronous, ejb-3.0, countdownlatch

我需要从外部服务中获取一些数据。我还不知道该服务是否将是一个简单的 servlet，或者可能是 Web 服务或其他东西。让我们假设现在外部服务只是一个简单的 servlet，它在 HTTP 请求后返回 JSON。我还从我的数据库中获得了一些相同类型的数据。

我需要编写一个代码来调用该服务并搜索数据库并从两个数据源返回连接的结果。

外部服务可能不可用，所以我必须写一些东西以避免永远等待不工作的外部服务。

我使用封装在 JPA 中的 EJB3 和 Hibernate 进行数据库访问。

我的简单解决方案的伪代码如下所示：

```
Thread t = new Thread()
{ 
public void run() {
*send HTTP GET*
*process results*
*populate some field with data received*
} 
}
t.run();

*get data from db*    
*place countDownLatch here with count = 2 and await timeout*
*join the results* 
```

您将如何实施这项任务？我的解决方案好吗？

# c# - C# Winforms - 创建具有多个 Y 轴（3 个或更多）的图表

> ID：15805121
> 
> 赞同：9
> 
> 时间：2013-04-04T07:34:03.523
> 
> 标签：c#, winforms, charts

我有一个客户需要使用超过 2 个 Y 轴的图表。

我已经在使用具有内置 Y2 轴及其工作的组件一 (C1Chart) 图表

伟大的。

有谁知道可以在图表上显示 3 个或更多 Y 轴的图表控件？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2014-06-11T11:47:28.287

[**Microsoft 图表控件的示例环境**](http://code.msdn.microsoft.com/Samples-Environments-for-b01e9c61)包含多个 Y 轴的示例。
部分代码：

```
 private void checkBoxUseMultipleYAxis_CheckedChanged(object sender, System.EventArgs e)
    {
        if(checkBoxUseMultipleYAxis.Checked)
        {
            // Set custom chart area position
            Chart1.ChartAreas["Default"].Position = new ElementPosition(25,10,68,85);
            Chart1.ChartAreas["Default"].InnerPlotPosition = new ElementPosition(10,0,90,90);

            // Create extra Y axis for second and third series
            CreateYAxis(Chart1, Chart1.ChartAreas["Default"], Chart1.Series["Series2"], 13, 8);
            CreateYAxis(Chart1, Chart1.ChartAreas["Default"], Chart1.Series["Series3"], 22, 8);
        }
        else
        {
            // Set default chart areas
            Chart1.Series["Series2"].ChartArea = "Default";
            Chart1.Series["Series3"].ChartArea = "Default";

            // Remove newly created series and chart areas
            while(Chart1.Series.Count > 3)
            {
                Chart1.Series.RemoveAt(3);
            }
            while(Chart1.ChartAreas.Count > 1)
            {
                Chart1.ChartAreas.RemoveAt(1);
            }

            // Set default chart are position to Auto
            Chart1.ChartAreas["Default"].Position.Auto = true;
            Chart1.ChartAreas["Default"].InnerPlotPosition.Auto = true;

        }
    }

public void CreateYAxis(Chart chart, ChartArea area, Series series, float axisOffset, float labelsSize)
    {
        // Create new chart area for original series
        ChartArea areaSeries = chart.ChartAreas.Add("ChartArea_" + series.Name);
        areaSeries.BackColor = Color.Transparent;
        areaSeries.BorderColor = Color.Transparent;
        areaSeries.Position.FromRectangleF(area.Position.ToRectangleF());
        areaSeries.InnerPlotPosition.FromRectangleF(area.InnerPlotPosition.ToRectangleF());
        areaSeries.AxisX.MajorGrid.Enabled = false;
        areaSeries.AxisX.MajorTickMark.Enabled = false;
        areaSeries.AxisX.LabelStyle.Enabled = false;
        areaSeries.AxisY.MajorGrid.Enabled = false;
        areaSeries.AxisY.MajorTickMark.Enabled = false;
        areaSeries.AxisY.LabelStyle.Enabled = false;
        areaSeries.AxisY.IsStartedFromZero = area.AxisY.IsStartedFromZero;

        series.ChartArea = areaSeries.Name;

        // Create new chart area for axis
        ChartArea areaAxis = chart.ChartAreas.Add("AxisY_" + series.ChartArea);
        areaAxis.BackColor = Color.Transparent;
        areaAxis.BorderColor = Color.Transparent;
        areaAxis.Position.FromRectangleF(chart.ChartAreas[series.ChartArea].Position.ToRectangleF());
        areaAxis.InnerPlotPosition.FromRectangleF(chart.ChartAreas[series.ChartArea].InnerPlotPosition.ToRectangleF());

        // Create a copy of specified series
        Series seriesCopy = chart.Series.Add(series.Name + "_Copy");
        seriesCopy.ChartType = series.ChartType;
        foreach(DataPoint point in series.Points)
        {
            seriesCopy.Points.AddXY(point.XValue, point.YValues[0]);
        }

        // Hide copied series
        seriesCopy.IsVisibleInLegend = false;
        seriesCopy.Color = Color.Transparent;
        seriesCopy.BorderColor = Color.Transparent;
        seriesCopy.ChartArea = areaAxis.Name;

        // Disable drid lines & tickmarks
        areaAxis.AxisX.LineWidth = 0;
        areaAxis.AxisX.MajorGrid.Enabled = false;
        areaAxis.AxisX.MajorTickMark.Enabled = false;
        areaAxis.AxisX.LabelStyle.Enabled = false;
        areaAxis.AxisY.MajorGrid.Enabled = false;
        areaAxis.AxisY.IsStartedFromZero = area.AxisY.IsStartedFromZero;
        areaAxis.AxisY.LabelStyle.Font = area.AxisY.LabelStyle.Font;

        // Adjust area position
        areaAxis.Position.X -= axisOffset;
        areaAxis.InnerPlotPosition.X += labelsSize;

    } 
```

**结果：**
![多 Y 轴关闭](https://i.stack.imgur.com/TKmUx.png) ![多 Y 轴关闭](https://i.stack.imgur.com/mDFnj.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-25T23:18:09.880

我认为您可以尝试多个 ChartArea，它允许您在同一个图表对象中安排多个绘图。

[您可以将每个系列分配给它自己的`ChartArea`.](http://www.dotnetcharting.com/documentation/Current/multiple%20chart%20areas.pdf)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T14:00:29.963

就图表而言，[MS Chart 控件](http://archive.msdn.microsoft.com/mschart)几乎拥有您所需要的一切。下载示例，运行它并转到图表特征 > 轴 > 多个 Y 轴。我想你会找到你想要的！

# java - JAVA中数据类型的转换

> ID：15805124
> 
> 赞同：1
> 
> 时间：2013-04-04T07:34:18.727
> 
> 标签：java, sql, sql-server-2005, insert

我正在运行我的程序，但出现此错误：

```
'[Microsoft][ODBC SQL Server Driver][SQL Server]Disallowed implicit conversion from data type char to data type money, table 'OJT.dbo.Patients', column 'pTotalDue'. Use the CONVERT function to run this query' 
```

我该如何解决？谁能帮我？

这是我的代码：

```
private void btnInsertActionPerformed(java.awt.event.ActionEvent evt) {
        PreparedStatement pstmt = null;
        try {
        Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
        String url = "jdbc:odbc:OJT_dsn";
        String user = "******";
        String pass = "******";
        String sql = "INSERT INTO dbo.Patients" 
                + "(pIDNo,pLName,pFName,pMI,pSex,pStatus,pTelNo,pDocID,pAddr,pStreet,pBarangay,pCity,pProvince,pLnameKIN,pFNameKIN,pMIKIN,pRelationKIN,pTotalDue)"
                + "VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)";
        Connection connection = DriverManager.getConnection(url, user, pass);
        pstmt = connection.prepareStatement(sql);
        pstmt.setString(1, txtPatientID.getText());
        pstmt.setString(2, txtpLName.getText());
        pstmt.setString(3, txtpFName.getText());
        pstmt.setString(4, txtpMI.getText());
        pstmt.setString(5, txtSex.getText());
        pstmt.setString(6, txtStatus.getText());
        pstmt.setString(7, txtpTel.getText());
        pstmt.setString(8, txtpDoctor.getText());
        pstmt.setString(9, txtStreetNo.getText());
        pstmt.setString(10, txtStreetName.getText());
        pstmt.setString(11, txtBarangay.getText());
        pstmt.setString(12, txtCity.getText());
        pstmt.setString(13, txtProvince.getText());
        pstmt.setString(14, txtLnameKIN.getText());
        pstmt.setString(15, txtFNameKIN.getText());
        pstmt.setString(16, txtMIKIN.getText());
        pstmt.setString(17, txtRelation.getText());
        pstmt.setString(18, txtTotal.getText());
        pstmt.executeUpdate();
        JOptionPane.showMessageDialog(rootPane, "Patient Added!");
        }catch (Exception ex) {
            JOptionPane.showMessageDialog(this, ex.getMessage());
        }
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T07:39:44.873

你应该使用`pstmt.setDouble(...);`

```
pstmt.setDouble(18, Double.parseDouble(txtTotal.getText())); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:39:31.423

它在错误中说，

> 不允许从数据类型 char 到数据类型 money 的隐式转换

pTotalDue 不是字符。您需要设置数字类型值。

使用 BigDecimal。使用任何原语迟早都会导致精度问题。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-04T07:45:38.433

您正在为此代码使用 JDBC-ODBC 桥驱动程序，要配置桥驱动程序，请确保您已正确配置系统 DSN

对于 Windows 它是

控制面板-->管理工具-->数据源(ODBC)-->驱动程序的系统DSN设置。

或对您的代码使用瘦驱动程序，

对于瘦驱动程序，请参阅以下链接

[http://www.razorsql.com/articles/oracle_jdbc_connect.html](http://www.razorsql.com/articles/oracle_jdbc_connect.html)

# iphone - 需要一些关于异步任务的解释

> ID：15805126
> 
> 赞同：0
> 
> 时间：2013-04-04T07:34:28.173
> 
> 标签：iphone, ios, asynchronous

这是我对 iOS 编程了解最少的事情之一。当我使用导航控制器推送视图时，在创建新视图时，我需要读取包含大量数据的文本文件，处理大约需要 2-3 秒。

所以我想异步处理这个文件，以便同时显示一个 ActivityIndi​​cator。

我已经在其他项目中使用过连接函数（`connection`... `connectionDidFinishLoading`），但在这里我想要做的是不同的，因为数据已经在我的项目文件中，所以不需要连接。

感谢您的帮助和建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:42:41.890

异步调用（我相信您已经知道）是在单独的线程上调用的东西，而主线程继续前进。Objective-C 以这种方式运行是因为如果调用是同步进行的，那么 UI（以及与此相关的所有其他内容）将简单地挂起，直到加载数据。

好的，所以要在 Objective-C 中执行此操作，您需要有某种方法来查询您的数据。如果它预加载在 Core Data 或 SQLite 中，它或多或少与被调用的方法相同。

有很多方法可以处理这个问题。我更喜欢积木，因为它们很简单。

```
[MBProgressHUD showHUDAddedTo:self.view animated:YES];
[User loginWithBlock:^(id responseObject, NSError *error) {
    if (!error) {
        NSLog(@"response object (the data): %@", responseObject);
        [MBProgressHUD hideAllHUDsForView:self.view animated:YES];
    }
}]; 
```

仅供参考，MBProgressHUD 是活动指示器。

所以，让我们分解一下。活动指示器被分配，并显示在视图中，并一直保留到块被调用，直到加载数据的任务完成后才会被调用。数据加载完成后，该块将发送 responseObject（您的数据），并隐藏活动指示器。

就那么简单！

**编辑：**

这实际上更像是一个附加组件，但无论如何。

要在下面回答您的评论，拨打电话或处理“数据处理”，该`loginWithBlock:`功能是作为它自己的功能构建的。

```
+ (void)loginWithBlock:(ObjectResultBlock)block
{
    [[APIClient sharedClient] postPath:@"login" parameters:nil success:^(AFHTTPRequestOperation *operation, id responseObject)
     {
         if (block) block(responseObject, nil);
     } failure:^(AFHTTPRequestOperation *operation, NSError *error) {
         if (block) block(nil, error);
     }];
} 
```

在创建此函数的头文件中声明块：

```
typedef void(^ObjectResultBlock)(id responseObject, NSError *error); 
```

这个特殊的例子是使用 AFNetworking。但正如我之前所说，这一切看起来都相对相同。

那么，让我们分解一下...

`loginWithBlock:`被调用，因此您执行 APIClient 调用，该调用要么成功，要么失败。在一个完美的世界中，它会成功，然后您将 responseObject 传递给该块。

# vim - 如何在 CLI vim 中映射已使用的快捷方式？

> ID：15805129
> 
> 赞同：0
> 
> 时间：2013-04-04T07:34:41.340
> 
> 标签：vim, terminal, command-line-interface, macvim, iterm

我是 vim 用户。

我喜欢使用**CLI vim**而不是 GUI MacVim。

我通常在 iTerm2 终端中使用 vim，它已经有很多使用命令键的快捷方式。

我想映射我的自定义快捷方式，但由于那些已经映射的键，这是不可能的。

* * *

例如，

我想将 NERDTreeCommenterToggle 命令映射到“Command-/”。

所以我在我的 .vimrc 中写了如下。

```
map <D-/> <Plug>NERDCommenterToggle 
```

但它不起作用，因为“D-/”键已经映射到 iTerm2 中的“查找光标”。

有谁知道如何解决这些问题？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:54:48.737

不。

在 CLI Vim 中映射命令键是不可能的，因为唯一支持它的 Vim 是其 GUI 形式的 MacVim。iTerm 是否用完所有的`Cmd`+… 快捷键是无关紧要的。

您必须找到其他密钥，最好是一些可以在任何地方使用的密钥（CLI、GUI、Mac、Win、Linux）。

`:h mapleader`是一个好的开始。

# php - Json 到 Html 使用 bootbox？

> ID：15805130
> 
> 赞同：1
> 
> 时间：2013-04-04T07:34:53.230
> 
> 标签：php, mysql, ajax, twitter-bootstrap

我得到以下 JSON 值：

```
[{
        "employee_id" : 10,
        "name" : "george"
    }, {
        "employee_id" : 20,
        "name" : "luke"
    }, {
        "employee_id" : 30,
        "name" : "rita"
    }
] 
```

我希望值在 bootbox 中以表格格式显示，我尝试了以下代码，但无法生成它。

```
bootbox.confirm(
    '<div style="font-size:15px;" class="accordion-body collapse in lst"><i class="icon-circle-arrow-right"</i>&nbsp&nbsp<b>Select the Server Size</b><br/><br/>\n\
     <div  class="content"><table style="border-collapse: inherit;" class = "table table-striped" cellspacing="0"><thead><tr><th>Select</th><th class="collapse">Name</th></tr></thead><tbody>'
     for each (var item in obj) {
     '<tr><td><input type="radio" id="server_size" name="server_size" value='+item.id+'><td>'+item.name+'</td></tbody></table></div></div>'
      }
     ,'ok' , 'save'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:43:56.263

请尝试在外部构建内容，然后将其传递给函数。不要忘记连接字符串：

```
var x = '<div style="font-size:15px;" class="accordion-body collapse in lst">'
      + '<i class="icon-circle-arrow-right"></i>&nbsp&nbsp'
      + '<b>Select the Server Size</b><br/><br/>\n'
      + '<div  class="content"><table style="border-collapse: inherit;" '
      + 'class = "table table-striped" cellspacing="0"><thead><tr>'
      + '<th>Select</th><th class="collapse">Name</th></tr></thead><tbody>';

for each (var item in obj) {
      x += '<tr><td><input type="radio" id="server_size" name="server_size"'
        +  ' value='+item.id+'><td>'+item.name+'</td></tbody></table></div></div>';
}

bootbox.confirm(x,'ok','save'); 
```

# java - 无法在 android 中使用 Content-Disposition 上传照片

> ID：15805131
> 
> 赞同：2
> 
> 时间：2013-04-04T07:34:58.937
> 
> 标签：java, android, image-uploading, multipartform-data

我正在尝试使用 Multipart/form-data 将图像上传到服务器，我必须在同一个调用中发送一些文本和图像。当我只发送原始数据时，它工作正常，但是当我添加“图像上传部分”时它不起作用。下面是我的代码。

```
 public String upLoadPostMethod(List<NameValuePair> params, boolean isUploadingPhoto) {
            NameValuePair nvp = params.get(1);
            String args = nvp.getValue();
            System.out.println(args);
            String lineEnd = "\r\n";
            String twoHyphens = "--";
            String boundary = "********";
            HttpsURLConnection conn;
            String response = "";
            int bytesRead, bytesAvailable, bufferSize; 
            byte[] buffer; 
            int maxBufferSize = 1*1024*1024; 
            String mimeType = "image/jpeg";

            try {
                URL url = new URL(webServiceUrl);
                conn = (HttpsURLConnection) url.openConnection();

                conn.setDoInput(true);
                conn.setDoOutput(true);
                //conn.setChunkedStreamingMode(0);
                // Use a post method.
                conn.setRequestMethod("POST");
                conn.setRequestProperty("Connection", "Keep-Alive");
                conn.setRequestProperty("Cookie",
                        appStatus.getSharedStringValue(appStatus.AUTH_KEY));
                System.out.println(appStatus
                        .getSharedStringValue(appStatus.AUTH_KEY));
                conn.setRequestProperty("Content-Type",
                        "multipart/form-data; boundary=" + boundary);

                DataOutputStream dos;
                dos = new DataOutputStream(conn.getOutputStream());

                // Send parameter #1
                dos.writeBytes(twoHyphens + boundary + lineEnd);
                dos.writeBytes("Content-Disposition: form-data; name=\"cmd\""
                        + lineEnd + lineEnd);
                dos.writeBytes("tsql" + lineEnd);
                // Send parameter #2
                dos.writeBytes(twoHyphens + boundary + lineEnd);
                dos.writeBytes("Content-Disposition: form-data; name=\"args\""
                        + lineEnd + lineEnd);
                dos.writeBytes(args + lineEnd);
                System.out.println("args======" + args);
                if(isUploadingPhoto){

                    dos.writeBytes(twoHyphens + boundary + lineEnd); 
                    dos.writeBytes("Content-Disposition: form-data; name=\"file\";"
+"filename=\" 20130125_155208.jpg\"" +"Content-Type: "+mimeType +lineEnd+lineEnd);

                        FileInputStream fileInputStream = new FileInputStream(Environment.getExternalStorageDirectory().getPath()
+"/20130125_155208.jpg");

                    bytesAvailable = fileInputStream.available();

                    bufferSize = Math.min(bytesAvailable, maxBufferSize); 
                    buffer = new byte[bufferSize]; 

                    // read file and write it into form... 

                    bytesRead = fileInputStream.read(buffer, 0, bufferSize); 

                    while (bytesRead > 0) 
                    { 
                        dos.write(buffer, 0, bufferSize); 
                        bytesAvailable = fileInputStream.available(); 
                        bufferSize = Math.min(bytesAvailable, maxBufferSize); 
                        bytesRead = fileInputStream.read(buffer, 0, bufferSize); 
                    } 

                    dos.writeBytes(lineEnd); 
                    dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd); 

                    fileInputStream.close(); 
                }else {
                    dos.writeBytes(lineEnd); 
                    dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd); 
                }

                dos.flush();
                dos.close();

                Scanner inStream = new Scanner(conn.getInputStream());
                while (inStream.hasNextLine())
                    response += (inStream.nextLine());

                System.out.println(response);
            } catch (IOException e) {
                e.printStackTrace();
            }
            return response;
        } 
```

我在这里做错了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:52:45.803

我想您需要在表单页面中放入`encType="multipart/form-data"`标签`<form>`：请参见下面的示例代码，希望对您有所帮助：

当我使用 Struts 1.3.8 并且我在 jsp 中有一个用户注册页面时，用户必须上传图像以及一些文本信息，如姓名、地址等......

```
<html:form action="/register?s=r" method="Post" enctype="multipart/form-data" onsubmit="return validateFob(this)">

  <table width="65%" border="0" height="65%" bgcolor="beige">

.....
............
   </table> 
```

# ember.js - linkTo 生成指向 / 的 href ，而不是 /ID

> ID：15805133
> 
> 赞同：3
> 
> 时间：2013-04-04T07:35:03.483
> 
> 标签：ember.js, ember-data

不幸的是，Ember 指南 ( [http://emberjs.com/guides/templates/links/](http://emberjs.com/guides/templates/links/) ) 中的链接示例对我来说不起作用。

为了显示临时工列表，并为每个临时工提供指向详细信息页面的链接，我使用以下代码：

HTML：

```
<script type="text/x-handlebars" data-template-name="tempworkers">
  <div>
    {{#each controller }}  
      <tr>
        <td>{{#linkTo 'tempworker' this}} {{firstname}} {{/linkTo}}</td>
        <td>{{initials}}</td>
        <td>{{completeSurname}}</td>
      </tr>
    {{/each}}
  </div>
</script>

<script type="text/x-handlebars" data-template-name="tempworker">
  <div id="tempworker">
    <p>{{view Ember.TextField valueBinding='firstname'}}</p>
    <p>{{view Ember.TextField valueBinding='initials'}}</p>
    <p>{{view Ember.TextField valueBinding='surnamePrefix'}}</p>
    <p>{{view Ember.TextField valueBinding='surname'}}</p>
  </div>
</script> 
```

Javascript：

```
window.App = Ember.Application.create({
    LOG_TRANSITIONS: true,
    ENV.EXPERIMENTAL_CONTROL_HELPER = true;
});

App.Store = DS.Store.extend({
    revision    : 11,
    adapter     : DS.RESTAdapter.extend({
        url     : 'http://dev.start.flexplanners.com/api'
    })
});

App.Router.map(function() {
    this.route('tempworkers'); // /tempworkers
    this.route('tempworker', { path: '/tempworkers/:id' }); // /tempworkers/:id
});

App.TempworkersRoute = Ember.Route.extend({
    model : function() {
        return App.Tempworker.find(); // return All tempworkers to the TempworkersController
    }
});

/* TODO: Question -> According to http://emberjs.com/guides/routing/defining-your-routes/, this should be working by convention, and NOT explicitely defined here?
 * But when I leave it out, it's broken :(
 * */
App.TempworkerRoute = Ember.Route.extend({
    model : function(params) {
        return App.Tempworker.find(params.id); // return tempworker by id to the TempworkerController
    }
}); 
```

用例：

```
When I visit the URL /tempworkers, the app fires a request 
to my server API, and return the list in my tempworkers view.

When I visit the URL /tempworkers/[UUID], the app fires a 
request to my server API, and return the requested tempworker 
in my tempworker view.

When I click a generated link in the list of tempworkers, the app routes me 
to /tempworkers/<App.Tempworker:ember343:47cfa9f2159d45758ceacc4c15ae1671>, 
and shows the details in my tempworker view 
```

我的问题如下：

1）这 3 个用例是否显示出预期的行为？

2) 如果是，这是否显示了 2 种状态之间的区别，1 是新的 URL 访问（包括服务器 API 调用），1 是转换到另一个视图，并引用列表中的单个对象进行解析？

3) 如果是，什么时候可以重新加载列表并更新列表中的项目？

4）如果没有，我将如何让linkTo生成像'/tempworkers/[UUID]'这样的href，并让应用程序进行服务器API调用以获取tempworker的详细信息？

在此先感谢您的时间！

雷纳。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T11:43:55.360

你做得对，你刚刚打错了，你的路线需要是`/tempworker/:tempworker_id`.

```
App.Router.map(function() {
  this.route('tempworkers'); // /tempworkers
  this.route('tempworker', { path: '/tempworkers/:tempworker_id' }); // /tempworkers/:id
}); 
```

Ember 在查找要反序列化的模型时使用提供的动态密钥。

# sql - Django sql 排序方式

> ID：15805134
> 
> 赞同：1
> 
> 时间：2013-04-04T07:35:04.593
> 
> 标签：sql, database, django, django-queryset

我真的在这方面苦苦挣扎。我需要能够按对他们的评论收到的正面投票数对我的用户进行排序。

我有一个表 userprofile、一个表评论和一个表 likeComment。表评论对其用户创建者有一个外键，而表 likeComment 有一个对喜欢的评论的外键。为了获得用户收到的正面投票数，我这样做：

```
LikeComment.objects.filter(Q(type = 1), Q(comment__user=user)).count() 
```

现在我希望能够让所有用户按投票最多的用户排序。我怎么做 ？我尝试使用 extra 和 JOIN 但这并没有去任何地方。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:20:08.080

听起来您想对注释执行过滤器：

```
class User(models.Model):
     pass

class Comment(models.Model):
    user = models.ForeignKey(User, related_name="comments")

class Like(models.Model):
    comment = models.ForeignKey(Comment, related_name="likes")
    type = models.IntegerField()

users = User \
    .objects \
    .all()
    .extra(select = {
        "positive_likes" : """
        SELECT COUNT(*) FROM app_like
        JOIN app_comment on app_like.comment_id = app_comment.id
        WHERE app_comment.user_id = app_user.id AND app_like.type = 1 """})
    .order_by("positive_likes") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:50:11.270

模型.py

```
class UserProfile(models.Model):
    .........

    def like_count(self):
        LikeComment.objects.filter(comment__user=self.user, type=1).count() 
```

视图.py

```
def getRanking( anObject ):
    return anObject.like_count()

def myview(request):
    users = list(UserProfile.objects.filter())
    users.sort(key=getRanking, reverse=True)       
    return render(request,'page.html',{'users': users}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T10:07:22.773

[Timmy 建议使用子查询](https://stackoverflow.com/a/15805964/68063)可能是解决此类问题的最简单方法，但子查询的性能几乎没有联接好，因此如果您有很多用户，您可能会发现您需要更好的性能。

因此，重新使用 Timmy 的模型：

```
class User(models.Model):
     pass

class Comment(models.Model):
    user = models.ForeignKey(User, related_name="comments")

class Like(models.Model):
    comment = models.ForeignKey(Comment, related_name="likes")
    type = models.IntegerField() 
```

您想要的查询在 SQL 中如下所示：

```
SELECT app_user.id, COUNT(app_like.id) AS total_likes
FROM app_user
LEFT OUTER JOIN app_comment
             ON app_user.id = app_comment.user_id
LEFT OUTER JOIN app_like
             ON app_comment.id = app_like.comment_id AND app_like.type = 1
GROUP BY app_user.id
ORDER BY total_likes DESCENDING 
```

（如果您的实际`User`模型有更多字段`id`，那么您需要将它们全部包含在`SELECT`and`GROUP BY`子句中。）

Django 的对象关系映射系统没有提供表达这个查询的方法。（据我所知——如果不是这样，我很高兴被告知！——它只支持跨一个连接的聚合，而不是像这里那样跨两个连接的聚合。）但是当 ORM 不能完全胜任这项工作时，你始终可以运行[原始 SQL 查询](https://docs.djangoproject.com/en/dev/topics/db/sql/)，如下所示：

```
sql = '''
    SELECT app_user.id, COUNT(app_like.id) AS total_likes
    # etc (as above)
'''
for user in User.objects.raw(sql):
    print user.id, user.total_likes 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T15:12:51.537

我相信这可以通过 Django 的查询集来实现：

```
User.objects.filter(comments__likes__type=1)\
    .annotate(lks=Count('comments__likes'))\
    .order_by('-lks') 
```

这里唯一的问题是这个查询会错过点赞数为 0 的用户。来自 @gareth-rees、@timmy-omahony 和 @Catherine 的代码也将包括排名为 0 的用户。

# sublimetext2 - 如何配置 Sublime 文本以支持空格和制表符进行缩进

> ID：15805135
> 
> 赞同：0
> 
> 时间：2013-04-04T07:35:05.060
> 
> 标签：sublimetext2

我正在使用 Sublime Text 进行 JavaScript 开发，我使用制表符进行缩进。

但是，对于 Python 开发，我需要使用空格（根据 PEP-8）。那么我应该更改哪些配置指令以支持两者。

（我对 Sublime Text 很陌生）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:03:43.997

您可以创建特定于语法的配置。`Preferences -> Settings - More ->Syntax Specific - User`. 添加以下配置`"translate_tabs_to_spaces": false`，根据需要设置布尔值。

# wcf - WCF TCP 端点无法添加服务引用

> ID：15805137
> 
> 赞同：3
> 
> 时间：2013-04-04T07:35:12.913
> 
> 标签：wcf

在我的业余时间，我已经和这个人斗争了好几个星期，决心不求助于这个美妙的社区。但是我的精神已经崩溃了。所以 ...

我创建了一个 WCF 服务，并试图在控制台应用程序中托管它，以使用 TCP 端点。

我有一个项目，其中包含合同和 svc 文件。我有另一个项目，其中包含一个控制台应用程序，它引用了第一个提到的项目。我的控制台应用程序的主要方法如下所示：

```
using (ServiceHost host = new ServiceHost(typeof(LicenceBucketWireService.LicenceBucketService)))
{
    host.Open();

    foreach (var endpt in host.Description.Endpoints)
    {
        Console.WriteLine("Enpoint address:\t{0}",endpt.Address);
        Console.WriteLine("Enpoint binding:\t{0}",endpt.Binding);
        Console.WriteLine("Enpoint contract:\t{0}\n", endpt.Contract.ContractType.Name);
    }
    Console.ReadLine();
} 
```

到目前为止，一切都是花花公子：

![在此处输入图像描述](https://i.stack.imgur.com/KdNlp.png)

当我尝试将该服务的服务引用添加到将使用该服务的第三个完全独立的应用程序时，它会出错。当我尝试添加引用时，使用 net.tcp://localhost:49189/LicenceBucketWireService/LicenceBucketService/mex 作为发现详细信息的地址，出现错误：

> 无法识别 URI 前缀。元数据包含无法解析的引用：“net.tcp://localhost:49189/LicenceBucketWireService/LicenceBucketService/mex”。元数据包含无法解析的引用：“net.tcp://localhost:49189/LicenceBucketWireService/LicenceBucketService/mex”。如果在当前解决方案中定义了服务，请尝试构建解决方案并再次添加服务引用。

当我执行此任务时，控制台应用程序正在运行。应用程序配置具有以下元素：

```
 <system.serviceModel>
    <services>
      <service name="LicenceBucketWireService.LicenceBucketService">
        <clear />
        <endpoint address="mex" binding="mexTcpBinding" contract="LicenceBucketWireService.ILicenceBucketService"
          listenUriMode="Explicit">
          <identity>
            <dns value="localhost" />
          </identity>
        </endpoint>
        <endpoint address="net.pipe://localhost/licenceBucketService"
          binding="netNamedPipeBinding" bindingConfiguration="" contract="LicenceBucketWireService.ILicenceBucketService" />
        <host>
          <baseAddresses>
            <add baseAddress="http://localhost:49187/LicenceBucketWireService/LicenceBucketService" />
            <add baseAddress="net.tcp://localhost:49189/LicenceBucketWireService/LicenceBucketService" />
          </baseAddresses>
        </host>
      </service>
    </services>    
    <behaviors>
      <serviceBehaviors>
        <behavior>
          <!-- To avoid disclosing metadata information, set the values below to false before deployment -->
          <serviceMetadata httpGetEnabled="false" />
          <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
          <serviceDebug includeExceptionDetailInFaults="false" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
  </system.serviceModel> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T19:19:25.350

配置文件中的以下代码行：

```
<endpoint address="mex" binding="mexTcpBinding" contract="LicenceBucketWireService.ILicenceBucketService"
          listenUriMode="Explicit"> 
```

合同应为“IMetadataExchange”，而不是 LicenceBucketWireService.ILicenceBucketService。

那应该解决这个问题。

# java - 在java中解析XML文档

> ID：15805139
> 
> 赞同：0
> 
> 时间：2013-04-04T07:35:18.753
> 
> 标签：java, xml, xpath

我想`@name`从给定的表中找到标签`col_alt`。任何人都可以帮我解决这个问题。有可能`javax.XML.Xpath`吗？如果没有，你能建议另一种方法来找到它。

这是 XML 数据的示例：

```
<?xml version="1.0" encoding="UTF-8"?>
<mapping>
    <table name="CLIENT">
        <table_column>
            <column name="CLIENT_NAME">
                <col_alt>CLIENT_NAME</col_alt>
                <col_alt>CLIENT NAME</col_alt>
                <col_alt>NAME</col_alt>
                <col_alt>NAMES</col_alt>
                <col_alt>CUST NAME</col_alt>
                <col_alt>CUSTOMER NAME</col_alt>
            </column>
            <column name="CLIENT_ADDRESS">
                <col_alt>ADDRESS</col_alt>
                <col_alt>LIVES IN</col_alt>
                <col_alt>LOCATION</col_alt>
                <col_alt>STAY</col_alt>
            </column>
            <column name="CLIENT_CONTACT_NO">
                <col_alt>CONTACT NO</col_alt>
                <col_alt>CONTACT</col_alt>
            </column>
        </table_column>
    </table>
    <table name="SALES_MASTER">
        <table_column>
            <column name="SALE_DATE">
                <col_alt>SALE DATE</col_alt>
                <col_alt>BILL DATE</col_alt>
                <col_alt>SALES DATE</col_alt>
            </column>
            <column name="TOTAL_BILL">
                <col_alt>TOTAL BILL</col_alt>
                <col_alt>GRAND TOTAL</col_alt>
            </column>
        </table_column>
    </table>
</mapping> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:59:39.180

如果我没记错的话，这样的 Xpath 表达式应该适合你。我没有完整的代码来试一试。

```
XPathExpression expr = xpath.compile("//table/table_column/column[col_alt='SALE DATE']/@name");
Object result = expr.evaluate(doc, XPathConstants.NODESET);

NodeList nodes = (NodeList) result;
for (int i = 0; i < nodes.getLength(); i++) {
    System.out.println(nodes.item(i).getNodeValue());
} 
```

doc - 是 xml 的文档引用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:02:10.770

你有 XML 的模式吗？如果是这样，您可以检查 JAXB

# ruby-on-rails - 通过虚拟属性选择 Rails 模型

> ID：15805140
> 
> 赞同：4
> 
> 时间：2013-04-04T07:35:19.483
> 
> 标签：ruby-on-rails, ruby, model, attributes, virtual-attribute

我有两个导轨模型`Section`& `SectionRevision`。一个部分主要是一个容器，其中包含与其自身相关的所有修订。因此，大多数属性`Section`基本上都存储在`SectionRevision`模型中，因此可以随时恢复到修订历史。

有时我需要从截面模型访问最新版本的属性，所以我创建了一些虚拟属性来解决这个问题。

* * *

每个模型都具有这些迁移中定义的属性：

部分：

```
class CreateSections < ActiveRecord::Migration
  def change
    create_table :sections do |t|
      t.integer "page_id", :null => false

      t.timestamps
      t.datetime "deleted_at"
    end
    add_index("sections", "page_id")
    add_index("sections", "current_revision_id")
  end
end 
```

部分修订：

```
class CreateSectionRevisions < ActiveRecord::Migration
  def change
    create_table :section_revisions do |t|
      t.integer "section_id", :null => false
      t.integer "parent_section_id"

      t.integer "position"
      t.string "title", :default => "", :null => false
      t.text "body", :null => false
      t.timestamps
    end
        add_index("section_revisions", "section_id")
        add_index("section_revisions", "parent_section_id")
  end
end 
```

* * *

和模型：

部分修订：

```
class SectionRevision < ActiveRecord::Base
  belongs_to :section, :class_name => 'Section', :foreign_key => 'section_id'
  belongs_to :parent_section, :class_name => 'Section', :foreign_key => 'parent_section_id'

  def parsed_json
    return JSON.parse(self.body)
  end
end 
```

部分：

```
class Section < ActiveRecord::Base
  belongs_to :page
  has_many :revisions, :class_name => 'SectionRevision', :foreign_key => 'section_id'
  has_many :references

  def current_revision
    self.revisions.order('created_at DESC').first
  end

  def position
    self.current_revision.position
  end

  def parent_section
    self.current_revision.parent_section
  end

  def children
    Sections.where(:parent_section => self.id)
  end
end 
```

* * *

如您所见`Section`，有几个虚拟属性，如, `parent_section`, `current_revision`& `position`。

现在的问题是我想创建一个虚拟属性，`children`它选择虚拟属性`parent_section.id`等于的所有部分`self.id`。这可能吗？我知道上面的代码不起作用，因为它对不存在的列进行查询 - 而且我不确定如何从模型“Sections”中访问 Model 实例似乎不起作用。

可以根据虚拟属性进行选择吗？

* * *

我已经根据 ProGNOMmers 的回答更新了模型并得到以下信息：

```
class Section < ActiveRecord::Base
  has_many :revisions, :class_name => 'SectionRevision', 
                       :foreign_key => 'section_id'
 #Need to somehow modify :child_revisions to only be selected if it is the section_id's current_revision?
  has_many :child_revisions, :class_name => 'SectionRevision', 
                             :foreign_key => 'parent_section_id'
  has_many :children, :through => :child_revisions, 
                      :source => :section
end 
```

情况1：这工作得很好。

```
1.9.3p392 :040 > section
 => #<Section id: 3, page_id: 10, created_at: "2013-04-02 01:31:42", updated_at: "2013-04-02 01:31:42", deleted_at: nil> 
1.9.3p392 :041 > sub_section
 => #<Section id: 4, page_id: 10, created_at: "2013-04-04 10:19:33", updated_at: "2013-04-04 10:19:33", deleted_at: nil> 
1.9.3p392 :042 > revision1
 => #<SectionRevision id: 5, section_id: 4, title: "test", body: "[{\"type\":\"testbody\"}]", created_at: "2013-04-04 10:21:46", updated_at: "2013-04-04 21:55:10", position: 3, parent_section_id: nil> 
1.9.3p392 :043 > revision2
 => #<SectionRevision id: 6, section_id: 4, title: "test", body: "[{\"type\":\"testbody\"}]", created_at: "2013-04-04 12:29:19", updated_at: "2013-04-04 21:55:15", position: 3, parent_section_id: 3> 
1.9.3p392 :044 > sub_section.current_revision
  SectionRevision Load (0.6ms)  SELECT `section_revisions`.* FROM `section_revisions` WHERE `section_revisions`.`section_id` = 4 ORDER BY created_at DESC LIMIT 1
 => #<SectionRevision id: 6, section_id: 4, title: "test", body: "[{\"type\":\"testbody\"}]", created_at: "2013-04-04 12:29:19", updated_at: "2013-04-04 21:55:15", position: 3, parent_section_id: 3> 
1.9.3p392 :045 > section.children
 => [#<Section id: 4, page_id: 10, created_at: "2013-04-04 10:19:33", updated_at: "2013-04-04 10:19:33", deleted_at: nil>] 
```

情况2：

```
1.9.3p392 :021 > section
 => #<Section id: 3, page_id: 10, created_at: "2013-04-02 01:31:42", updated_at: "2013-04-02 01:31:42", deleted_at: nil> 
1.9.3p392 :022 > sub_section
 => #<Section id: 4, page_id: 10, created_at: "2013-04-04 10:19:33", updated_at: "2013-04-04 10:19:33", deleted_at: nil> 
1.9.3p392 :023 > revision1
 => #<SectionRevision id: 5, section_id: 4, title: "test", body: "[{\"type\":\"testbody\"}]", created_at: "2013-04-04 10:21:46", updated_at: "2013-04-04 10:24:22", position: 3, parent_section_id: 3> 
1.9.3p392 :024 > revision2
 => #<SectionRevision id: 6, section_id: 4, title: "test", body: "[{\"type\":\"testbody\"}]", created_at: "2013-04-04 12:29:19", updated_at: "2013-04-04 12:29:19", position: 3, parent_section_id: nil> 
1.9.3p392 :025 > sub_section.current_revision
  SectionRevision Load (0.7ms)  SELECT `section_revisions`.* FROM `section_revisions` WHERE `section_revisions`.`section_id` = 4 ORDER BY created_at DESC LIMIT 1
 => #<SectionRevision id: 6, section_id: 4, title: "test", body: "[{\"type\":\"testbody\"}]", created_at: "2013-04-04 12:29:19", updated_at: "2013-04-04 12:29:19", position: 3, parent_section_id: nil> 
1.9.3p392 :026 > section.children
  Section Load (0.6ms)  SELECT `sections`.* FROM `sections` INNER JOIN `section_revisions` ON `sections`.`id` = `section_revisions`.`section_id` WHERE `section_revisions`.`parent_section_id` = 3
 => [#<Section id: 4, page_id: 10, created_at: "2013-04-04 10:19:33", updated_at: "2013-04-04 10:19:33", deleted_at: nil>] 
```

在情况 2 中，我想`section.children`返回`=> []`as`sub_section.current_revision.parent_section_id = nil`而不是`section.id`。

换句话说`section.children`，应该返回所有`Sections`位置，`.current_revision.parent_section_id = section.id`但我不能像`.current_revision`虚拟属性一样查询它。

有没有可能变成`Section.current_revision`某种关联？或者也许唯一的方法是`current_revision`在`sections table`?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T08:00:16.760

我认为自定义关系非常适合这种情况：

```
class Section < ActiveRecord::Base
  has_many :revisions, :class_name => 'SectionRevision', 
                       :foreign_key => 'section_id'
  has_many :child_revisions, :class_name => 'SectionRevision', 
                             :foreign_key => 'parent_section_id'
  has_many :children, :through => :child_revisions, 
                      :source => :section
end

Section.find(42).children 
#=> SELECT ... WHERE ... AND section_revisions.parent_section = 42 
```

代码我没试过，可能有错误，但思路应该是对的。

*我删除了关于的部分`:conditions`，因为在最后一次编辑后没有用*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T08:21:22.313

看起来你应该像 ProGNOMmers 所说的那样改进你的模型；您可以使用以下一些宝石：

*   祖先（[http://railscasts.com/episodes/262-trees-with-ancestry](http://railscasts.com/episodes/262-trees-with-ancestry)）
*   awesome_nested_set ( [https://github.com/collectiveidea/awesome_nested_set](https://github.com/collectiveidea/awesome_nested_set) )

但是从字面上回答您的问题，您可以尝试将“children”方法添加到您的 SectionRevision 模型并将 Section#children 委托给 current_revision。

```
class SectionRevision
  def children
    SectionRevision.where(:parent_section => self.id) # parent_section IS a column of SectionRevision
  end
end

class Section
  def children
    current_revision.children
  end
end 
```

顺便说一句，您可以使用 #delegate 进行委派：

```
class Section
  delegate :children, :position, :parent_section, to: :current_revision
  def current_revision
    Section.where(:parent_section => self.id)
  end
end 
```

[http://apidock.com/rails/Module/delegate](http://apidock.com/rails/Module/delegate)

# android - 后台服务安卓

> ID：15805143
> 
> 赞同：1
> 
> 时间：2013-04-04T07:35:27.857
> 
> 标签：android

在我调用的 oncreate() 方法中

新的 loadingTask().execute()

它执行下面的后台服务：

类 loadingTask 扩展 AsyncTask {

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:49:02.120

异常表示您的 doInBackground 方法中有 NullPointerException

```
04-04 10:39:25.535: E/AndroidRuntime(2532): Caused by: java.lang.NullPointerException: null format argument
04-04 10:39:25.535: E/AndroidRuntime(2532):     at java.lang.String.format(String.java:2173)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at java.lang.String.format(String.java:2151)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at .Convertor$loadingTask.doInBackground(Convertor.java:201) 
```

因为它与根据异常的 String.format() 调用有关，我认为在这一行

```
 String requestEnvelope=String.format(envelope, "28-03-2013","true"); 
```

你的`envelope`变量是NULL。

# java - 将图像转换为字节数组，反之亦然

> ID：15805146
> 
> 赞同：2
> 
> 时间：2013-04-04T07:35:48.470
> 
> 标签：java, android

我正在尝试通过android将图像作为字节数组发送，并将其转换回服务器端的png文件，我正在`IllegalArgumentException`服务器端。

这是我的 android 代码，它将图像转换为字节数组并将其作为请求发送到服务器：

```
 GestureOverlayView gestureView = (GestureOverlayView) findViewById(R.id.signaturePad);

            Bitmap bm = Bitmap.createBitmap(gestureView.getGesture().toBitmap(100, 100, 8, Color.WHITE));

            FileOutputStream fos = openFileOutput("signature.png", Context.MODE_PRIVATE);
            bm.compress(Bitmap.CompressFormat.PNG, 100, fos);

            byte[] image_byte = fos.toString().getBytes();//Base64.encode(fos.toString().getBytes(), 0);

            String strImage = image_byte.toString(); 
```

这是我的服务器端程序：

```
String imageString = request.getParameter("SignatureImage");
    byte[] imageByte = imageString.getBytes();
    try {
        InputStream in = new ByteArrayInputStream(imageByte);
        BufferedImage bImageFromConvert = ImageIO.read(in);

        //Getting exception at this line
        ImageIO.write(bImageFromConvert, "png", new File(
                "E:/signature/signature.png"));
        /*BufferedImage bufferedImage = ImageIO.read(new ByteArrayInputStream(imageByte));
        ImageIO.write(bufferedImage, "jpg", new File("E:/signature/signature.jpg"));*/
    } catch (IOException e) {
        e.printStackTrace();
    } 
```

服务器上的例外是：

```
12:39:40,990 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/APDTest].[ImageRetrieve]] Servlet.service() for servlet ImageRetrieve threw exception: java.lang.IllegalArgumentException: im == null!
    at javax.imageio.ImageIO.write(ImageIO.java:1457) [:1.6.0_32]
    at javax.imageio.ImageIO.write(ImageIO.java:1521) [:1.6.0_32]
    at com.apd.test.ImageRetrieve.doPost(ImageRetrieve.java:52) [:]
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:754) [:1.0.0.Final]
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [:1.0.0.Final]
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:324) [:6.1.0.Final]
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:242) [:6.1.0.Final]
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [:6.1.0.Final]
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [:6.1.0.Final]
    at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:181) [:6.1.0.Final]
    at org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.event(CatalinaContext.java:285) [:1.1.0.Final]
    at org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.invoke(CatalinaContext.java:261) [:1.1.0.Final]
    at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:88) [:6.1.0.Final]
    at org.jboss.web.tomcat.security.SecurityContextEstablishmentValve.invoke(SecurityContextEstablishmentValve.java:100) [:6.1.0.Final]
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:159) [:6.1.0.Final]
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [:6.1.0.Final]
    at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:158) [:6.1.0.Final]
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [:6.1.0.Final]
    at org.jboss.web.tomcat.service.request.ActiveRequestResponseCacheValve.invoke(ActiveRequestResponseCacheValve.java:53) [:6.1.0.Final]
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:362) [:6.1.0.Final]
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [:6.1.0.Final]
    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:654) [:6.1.0.Final]
    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:951) [:6.1.0.Final] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:14:01.203

您将图像写入客户端的文件输出流，它将内容存储到物理文件中。然后，您尝试将 的`toString`表示转换`FileOutputStream`为图像内容。这不起作用，`toString`该类的方法不会为您提供写入流的内容，它只会打印一条几乎没有帮助的消息，如下所示：

> java.io.FileOutputStream@761eec35

我相信您打算做的是使用`ByteArrayOutputStream`- 这个类***确实***允许您检索通过其`toString`方法编写的实际内容。

在 Android 端（片段）：

```
Bitmap bm = Bitmap.createBitmap(gestureView.getGesture().toBitmap(100,
        100, 8, Color.WHITE));

ByteArrayOutputStream baos = new ByteArrayOutputStream(2056);
bm.compress(Bitmap.CompressFormat.PNG, 100, baos);

byte[] imageBytes = baos.toByteArray();
String encodedString = Base64.encodeToString(imageBytes, Base64.DEFAULT); 
```

在服务器端（片段）：

```
String imageString = request.getParameter("SignatureImage");
byte[] decodedBytes = Base64.decode(imageString, Base64.DEFAULT);

try {
    InputStream in = new ByteArrayInputStream(decodedBytes);
    BufferedImage bImageFromConvert = ImageIO.read(in);

    ImageIO.write(bImageFromConvert, "png", new File(
            "E:/signature/signature.png"));
} catch (IOException e) {
    e.printStackTrace();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:52:27.307

试试这个代码。

**将图像转换为字节：**供[参考](https://stackoverflow.com/questions/10513976/how-to-convert-image-into-byte-array-and-byte-array-to-base64-string-in-android)

```
 yourSelectedImage = BitmapFactory.decodeFile(galleryFilePath);     
              ByteArrayOutputStream baos = new ByteArrayOutputStream();  
              yourSelectedImage.compress(Bitmap.CompressFormat.PNG, 100, baos); 
              byte[] b = baos.toByteArray(); 
```

**将字节转换为图像：**供[参考](https://stackoverflow.com/questions/2714700/byte-to-image-android)

```
 final String encodedImage = response.toString();
           byte[] decodedString = Base64.decode(encodedImage, Base64.DEFAULT);
         decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length); 
```

希望这会给你一些解决方案。

# android - 网页视图如何加载 Html 内容？

> ID：15805147
> 
> 赞同：16
> 
> 时间：2013-04-04T07:35:53.147
> 
> 标签：android, android-webview

我通过变量在响应中获取此 html 内容：`String mresult=`

```
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Lorem Ipsum</title>
</head>
<body style="width:300px; color: #00000; ">

<p><strong> About us</strong> </p>
<p><strong> Lorem Ipsum</strong> is simply dummy text .</p>

<p><strong> Lorem Ipsum</strong> is simply dummy text </p>

<p><strong> Lorem Ipsum</strong> is simply dummy text </p>

</body></html> 
```

它无法加载`webview`，我必须尝试像这样加载它：

```
web.loadDataWithBaseURL(null, mresult, "text/html", "UTF-8", null); 
```

仍然`webview`显示空白白页。

在`xml`文件中：

```
<WebView
        android:id="@+id/wV"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"          
        android:layout_margin="10dp"
        android:background="@android:color/transparent"
        android:cacheColorHint="#00000000" /> 
```

在活动中：

```
String mresult="Here my given data";
WebView web = (WebView)findViewById(R.id.wV);
web.setWebViewClient(new WebViewClient() {
    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        view.loadUrl(url);
        return true;
    }
});
web.loadData(mresult, "text/html; charset=UTF-8", null); 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-04-04T08:57:05.970

以这种方式使用这个 Html_value：

```
String html_value = "<html xmlns=\"http://www.w3.org/1999/xhtml\"><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\"><title>Lorem Ipsum</title></head><body style=\"width:300px; color: #00000; \"><p><strong> About us</strong> </p><p><strong> Lorem Ipsum</strong> is simply dummy text .</p><p><strong> Lorem Ipsum</strong> is simply dummy text </p><p><strong> Lorem Ipsum</strong> is simply dummy text </p></body></html>"; 
```

这用于 webview 然后只有它才会起作用，因为您的 html 标记没有正确关闭：

```
WebView browser = (WebView) findViewById(R.id.sample);
        browser.getSettings().setJavaScriptEnabled(true);
        browser.loadData(html_value, "text/html", "UTF-8"); 
```

输出：

![在此处输入图像描述](https://i.stack.imgur.com/Udfgm.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-07-04T08:45:18.953

```
 wb.loadDataWithBaseURL("", result, "text/html", "UTF-8", ""); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-04T07:56:58.060

试试这个 WebView 的代码：

```
WebView wv = (WebView) findViewById(R.id.webView);
wv.setWebViewClient(new WebViewClient() {
    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        view.loadUrl(url);
        return true;
    }
});
wv.loadData(mresult, "text/html; charset=UTF-8", null); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-04T09:59:05.983

不知道你仍然没有加载，`webview`但给定的结果`TextView`以`Html`如下格式显示

```
TextView  txtweb = (TextView) findViewById(R.id.txtweb);
txtweb.setText(Html.fromHtml(mresult)); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-07-23T04:24:52.787

用这个：

```
 webView.loadDataWithBaseURL("file:///android_asset/", htmlParsing, "text/html", "utf-8", null);
  webView.getSettings().setAllowFileAccess(true); 
```

在 htmlparsing 中：只需传递 urs html 代码。

有用....

# sql - 根据第一个组合框上的索引过滤第二个组合框

> ID：15805148
> 
> 赞同：0
> 
> 时间：2013-04-04T07:35:56.407
> 
> 标签：sql, vb.net, winforms, combobox

```
 Public Sub FiltercmbSubCategory()
    Dim sqlconn As New SqlClient.SqlConnection
    sqlconn.ConnectionString = "server = SKPI-APPS1;" & _
    "Database = EOEMS;integrated security=true"

    Dim sqlcommand As SqlCommand

    sqlconn.Open()
    Dim da As New SqlDataAdapter("SELECT * FROM tblOfficeEquipmentSubCategory WHERE SUBCAT_ID = '" & cmbCategory.Text & "'", sqlconn)
    Dim dt As New DataTable
    da.Fill(dt)
    cmbCategory.DataSource = dt
    cmbCategory.DisplayMember = "SUBCAT_Name"
    cmbCategory.ValueMember = "SUBCAT_ID"
    sqlconn.Close()
End Sub 
```

当我将此代码放在表单加载事件上时，当我将此代码放在第一个组合框的 index_changed 上时，第一个组合框上的数据也会消失

但是当我评论这段代码时，它会在组合框 1 中再次显示记录

我需要根据 CATEGORY_COMBOBOX 过滤 SUB_CATEGORY_COMBO_BOX

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:47:43.710

在里面绑定你的第一个组合框：

```
if (!Page.IsPostBack)
{
  //  Bind combobox1 code here;
} 
```

现在，在 selectedindexchange 上调用绑定子类别组合的代码。

另外，再次查看您的代码：

```
Dim da As New SqlDataAdapter("SELECT * FROM tblOfficeEquipmentSubCategory WHERE SUBCAT_ID = '" & cmbCategory.Text & "'", sqlconn)
Dim dt As New DataTable
da.Fill(dt)
cmbCategory.DataSource = dt
cmbCategory.DisplayMember = "SUBCAT_Name"
cmbCategory.ValueMember = "SUBCAT_ID" 
```

在此代码中，您将`cmbCategory.Text`作为参数传递以绑定相同的 dropdown `cmbCategory`。我认为您在这里错过了第二个下拉菜单。可能是我不正确，但似乎是这样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:42:26.600

subcat_id 是字符串还是整数？如果它的整数删除 where 子句中的单引号。

同样对我来说，您似乎正在用数据填充您从中选择的相同组合框，而不是子框？

```
 cmbCategory[SUB?].DataSource = dt 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:47:22.697

```
 Private Sub ComboBox1_SelectedIndexChanged(sender As Object, e As EventArgs) Handles ComboBox1.SelectedIndexChanged
        ComboBox2.Items.Add(ComboBox1.SelectedIndex)
    End Sub 
```

我想是这样的，你想要的是，你在 1combobox 上选择的，它会显示到 combobox2 吗？是这样的吗？

**更新**

```
 Private Sub ComboBox1_SelectedIndexChanged(sender As Object, e As EventArgs) Handles 

sqlconn.Open()
    Dim da1 As New SqlDataAdapter("SELECT Column_name FROM tblOfficeEquipmentSubCategory 
WHERE column_name_ = '" % & combobox1.selecteditem & % "'", sqlconn)
   From here >>> Dim dt1 As New DataTable
    da1.Fill(dt)
    cmbsubCategory.DataSource = dt1
    cmbsubCategory.DisplayMember = "SUBCAT_Name"
    cmbsubCategory.ValueMember = "SUBCAT_ID"
    sqlconn.Close()
                    End Sub <<< till here, you need to change yourself 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:55:34.207

您基于 CATEGORY_COMBOBOX 为 SUB_CATEGORY_COMBO_BOX 使用了相同的对象 cmbCategory

**您应该对 SUB_CATEGORY_COMBO_BOX 使用 cmbSubCategory，对 CATEGORY_COMBOBOX 使用 cmbCategory**

```
 Public Sub FiltercmbSubCategory()
            Dim sqlconn As New SqlClient.SqlConnection
            sqlconn.ConnectionString = "server = SKPI-APPS1;" & _
            "Database = EOEMS;integrated security=true"

            Dim sqlcommand As SqlCommand

            sqlconn.Open()
            Dim da As New SqlDataAdapter("SELECT * FROM tblOfficeEquipmentSubCategory WHERE SUBCAT_ID = '" & cmbCategory.Text & "'", sqlconn)
            Dim dt As New DataTable
            da.Fill(dt)
            cmbSubCategory.DataSource = dt
            cmbSubCategory.DisplayMember = "SUBCAT_Name"
            cmbSubCategory.ValueMember = "SUBCAT_ID"
            cmbSubCategory.databind();
            sqlconn.Close()
        End Sub 
```

希望这可以帮助

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T08:48:31.490

```
 Dim sqlconn As New SqlClient.SqlConnection
    sqlconn.ConnectionString = "server = SKPI-APPS1;" & _
    "Database = EOEMS;integrated security=true"

    Dim dt As New DataTable

    sqlconn.Open()
    Dim da As New SqlDataAdapter("SELECT SUBCAT_ID FROM tblOfficeEquipmentSubCategory WHERE CAT_ID = '" & cmbCategory.Text & "'", sqlconn)
    da.Fill(dt)
    cmbSubCategory.DataSource = dt
    cmbSubCategory.DisplayMember = "SUBCAT_Name"
    cmbSubCategory.ValueMember = "SUBCAT_ID"
    sqlconn.Close() 
```

得到正确答案谢谢大家

# javascript - 在母版页中打印

> ID：15805149
> 
> 赞同：2
> 
> 时间：2013-04-04T07:35:56.973
> 
> 标签：javascript, asp.net, html, master-pages, vb.net-2010

我在许多网站上发现每个页面都有一个打印按钮

我认为您可以将其放在母版页中

我已经尝试过`onclick="window.print"` ，但它向我显示窗口不是某物的一部分的错误

你能帮我做这件事吗

“我想在我网站的每一页都有一个打印按钮”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:40:58.870

确保包含括号：

```
<button onclick="window.print()">print</button> 
```

示例：http: [//jsfiddle.net/aD8yf/](http://jsfiddle.net/aD8yf/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:43:34.917

如果您在所有页面中都有母版页，那么您可以在母版页上放置一个按钮。
并编写javascript函数如下

```
<button onclick="window.print()">Print</button> 
```

这是一个链接
[http://www.dotnettwitter.com/2011/02/how-to-print-content-page-information.html](http://www.dotnettwitter.com/2011/02/how-to-print-content-page-information.html)
[http://www.codeproject.com/Questions/387558/Javascript-Window-Print -不在主页面中工作](http://www.codeproject.com/Questions/387558/Javascript-Window-Print-not-working-in-Master-Page)

## 编辑 1

```
<asp:ImageButton ID="MessageButton" runat="server" 
                 OnClientClick="window.print();return false;"  ImageUrl="Header.gif"/> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T08:06:43.523

把它放在你的母版页中

```
<button value="print" onclick="window.print()"></button> 
```

# iphone - 如何制作像 SpeedTask App 一样的 UI？

> ID：15805150
> 
> 赞同：0
> 
> 时间：2013-04-04T07:36:05.707
> 
> 标签：iphone, ios, user-interface

我很抱歉，因为我现在不能在这里发布图片。这里是speedTask App的UI

[http://i.stack.imgur.com/Bhr2y.png](http://i.stack.imgur.com/Bhr2y.png)

如何制作这样的底栏？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:50:34.253

那么为此，您需要添加一个`UIScrollView`或一个`UITableView`具有几个效果的。我可以为您提供一些初创公司，例如

[表格栏](https://github.com/alekseyn/EasyTableView)

[滚动条](https://github.com/jasarien/JSScrollableTabBar)

希望这些链接有所帮助！

# c++ - 由于版本不同，在 c++ 中向 ida pro 编写插件时出现问题

> ID：15805154
> 
> 赞同：0
> 
> 时间：2013-04-04T07:36:25.643
> 
> 标签：c++, visual-c++, plugins, c++builder, ida

我正在尝试为 ida 编写一个插件，但我很困惑。我使用最新的 ida pro 版本（6.1）。事实证明，我使用了一些在这个版本上没有使用的东西。

如何使用带有 HT_graph 的命令解决我的代码中的问题？这个命令在新版本中改变了什么？而且，如果有人有编写插件的经验，我会喜欢一些提示。

谢谢 ：）

# excel - 如何删除以 / 分隔的单元格中的重复值？

> ID：15805157
> 
> 赞同：2
> 
> 时间：2013-04-04T07:36:31.183
> 
> 标签：excel, excel-formula, spreadsheet, vba

我在excel中有多个单元格，如下所示：

```
 b1= E4I8/E4I8/E4I8/E4I8
    b2=D3B2/B30C1/D3B2/D3B2/D3B2/B30C1

    multiple /xxxx/ 
```

如何在同一个单元格中删除这些重复的文本字符串？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T08:02:16.287

此函数使用字典的键从传入的字符串构建唯一的部件列表（添加对 的引用`Microsoft Scripting Runtime`）：

```
Public Function UniqueParts(separator As String, toParse As String) As String
    Dim d As New Scripting.Dictionary, part As Variant, i As Integer
    For Each part In Split(toParse, separator)
        d(part) = 1
    Next
    UniqueParts = Join(d.Keys, "/")
End Function 
```

您可以在 Excel 公式中使用此函数：

```
=UniqueParts("/","E4I8/E4I8/E4I8/E4I8") 
```

或使用单元格引用：

```
=UniqueParts("/",B2) 
```

您还可以在迭代一系列单元格的宏中使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:03:21.463

如果允许使用 VBA 来解决您的问题，我建议使用以下功能：（无需参考！）

```
Function UniqueFromCell(rngCell, splitString)

Dim myCol As New Collection
Dim itmCol
Dim i As Long

Dim arrTMP As Variant
arrTMP = Split(rngCell, splitString)

For i = 1 To UBound(arrTMP)
    On Error Resume Next
    myCol.Add arrTMP(i), CStr(arrTMP(i))
    On Error GoTo 0
Next i

Dim result
For Each itmCol In myCol
    result = result & itmCol & splitString
Next

UniqueFromCell = Left(result, Len(result) - Len(splitString))

End Function 
```

要在 Excel 中调用它，您需要输入两个参数：单元格和分隔标记：

```
=UniqueFromCell(B4,"/") 
```

# ios - 不在 UIScrollView 中显示图像

> ID：15805158
> 
> 赞同：1
> 
> 时间：2013-04-04T07:36:36.413
> 
> 标签：ios, objective-c, uiscrollview

我创建了 2 个类（`RecipeViewController`& `DetailViewController`） ，`RecipeView`它`TableViewController`向我展示了 4 个单元格（书名），它`DetailView`可以向我展示任何一本书的许多图像。`UIViewController``UIScroll`

我的问题是当我单击任何单元格并转到下一页时`UIScroller`不向我显示图像。

这是我的代码：

**食谱视图控制器.m**

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    int x = (indexPath.row)+1;
    NSLog(@"x : %d",x);
    DetailViewController *obj = [[DetailViewController alloc]init];
    obj.yourValue = [NSString stringWithFormat:@"%d",(indexPath.row)+1];
    [self presentModalViewController:obj animated:YES];
    NSLog(@"yourValue1 : %@",obj.yourValue);
} 
```

**细节视图控制器.m**

```
#import "DetailViewController.h"
#import "RecipeViewController.h"

@implementation DetailViewController
@synthesize scroller,yourValue;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];

   //m1 variable tell me in tableview which choice book 
    int m1 = [self.yourValue integerValue];

    NSLog(@"m1 : %d",m1);

    //this code give me number of images (pages of book)
    NSString *numberbook = [[NSString alloc]initWithContentsOfURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://192.168.1.102/mamal/book.php?info=0&b=%d",m1]]];

    NSInteger numbook = [numberbook integerValue];

    NSLog(@"%d",numbook);

    for (int i = 1; i <= numbook; i++)
    {
        //this code for recive images from specific book
        NSData *dat = [[NSData alloc]initWithContentsOfURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://192.168.1.102/mamal/book.php?p=%d&b=%d",i,m1]]];
        NSLog(@"%@",dat);

        UIImageView *imagen = [[UIImageView alloc] initWithImage:[UIImage imageWithData:dat]];

        imagen.frame = CGRectMake((i-1)*320, 0, 320, 460);

        [scroller addSubview:imagen];
    }
    scroller.delegate = self;
    scroller.contentSize = CGSizeMake(320*numbook, 460);
    scroller.pagingEnabled = YES;

}

@end 
```

对不起我的英语不好！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:58:48.920

如果你真的想使用 [NSData dataWithContentsOfURL:]; 将此添加到您的循环、chnage url 和 imageView 框架中。

```
for (int i = 1; i <= numbook; i++)
{
    UIImageView *yourImage=[[UIImageView alloc]init];
    yourImage.frame = CGRectMake((i-1)*320, 0, 320, 460);
    [scroller addSubview:imagen];

    dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0ul);

    dispatch_async(queue, ^{

        NSURL* url = [NSURL URLWithString:[NSString stringWithFormat:@"http://192.168.1.102/mamal/book.php?p=%d&b=%d",i,m1]];

        NSData *imgData = [NSData dataWithContentsOfURL:url];

        dispatch_sync(dispatch_get_main_queue(), ^{

            UIImage *downloadedImage = [UIImage imageWithData:imgData];

            yourImage.image = downloadedImage;  
            if(yourImage.image==nil)
            {
                [yourImage setImage:@"placeholder.png"];

            }
        });
    });

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:46:37.223

嘿，你在主线程中做所有事情，可能会有延迟或其他一些问题，通常不建议这样做，你能利用 NickLockWoods 实现来异步加载图像吗

[https://github.com/nicklockwood/AsyncImageView](https://github.com/nicklockwood/AsyncImageView)

是一个非常好的UIImageView类，只需要导入AsyncImageView即可使用

```
[imageView setImageURL:@"ur url"]; 
```

它异步加载所有图像，并且有很多自定义项。

在你的情况下：

```
for (int i = 1; i <= numbook; i++)
{
UIImageView *imagen = [[UIImageView alloc] initWithFrame: CGRectMake((i-1)*320, 0, 320, 460)];
[imagen setImageURL: [NSString stringWithFormat:@"192.168.1.102/mamal/book.php?p=%d&b=%d",i,m1]]]; 
[scroller addSubview:imagen]; 
} 
```

您正在主线程中执行所有操作，这就是它不加载图像的原因。在您正在执行的相同代码中，尝试提供 imageView 的背景颜色并进行检查。

# email - Drupal 电子邮件字段

> ID：15805159
> 
> 赞同：0
> 
> 时间：2013-04-04T07:36:44.003
> 
> 标签：email, drupal-7, drupal-fields

如何锁定默认电子邮件字段（使其为只读），以便用户在注册后无法更改其电子邮件地址。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T10:24:40.560

您可以通过在 template.php 中使用[hook_form_alter()](http://api.drupal.org/api/drupal/modules!system!system.api.php/function/hook_form_alter/7)来实现，这里有一个精心设计的解决方案：http: [//drupal.org/node/1241204#comment-7057244](http://drupal.org/node/1241204#comment-7057244)

*以下代码由 Isabug 在上一个链接中创建：

```
/**
 * Implements hook_form_alter().
 */
function mytheme_form_user_profile_form_alter(&$form, &$form_state, $form_id) {
  global $user;
  $roles = $user->roles;
  if(in_array('administrator', $roles)) {
    return;
  }
  $form['account']['mail']['#disabled'] = TRUE;
} 
```

干杯，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:41:52.143

您可以使用 jquery 禁用电子邮件字段，

设置禁用属性。

```
$("yourIdorClassforemailfield").attr('disabled','disabled'); 
```

再次启用

```
$("yourIdorClassforemailfield").removeAttr('disabled'); 
```

# ios - 如何在 MPMovieplayerViewController 上添加标题并在点击时隐藏它

> ID：15805165
> 
> 赞同：2
> 
> 时间：2013-04-04T07:37:04.583
> 
> 标签：ios, cocoa-touch, mpmovieplayercontroller, mpmovieplayer, mpmoviewcontroller

我需要在 MPMoviePlayerViewController 的顶部工具栏上添加一个标题，如果正在播放视频，用户点击应该隐藏标题，就像它隐藏任何其他控件一样。

目前我正在添加一个 UILabel 作为moviePlayer 视图的子视图。虽然这种方法在顶部栏上添加了一个标题（我正在相应地设置框架），但当用户点击屏幕时它不会隐藏标题。

是否有任何直接的 api/hack 可以通过它访问 MPMoviePlayerViewController 的顶部工具栏？我在想，如果我可以将标题添加为顶部工具栏的子视图，隐藏过程将由 MPMoviePlayerViewController 处理。有什么想法吗？

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T00:22:44.947

请注意，我的回答是指`MPMoviePlayerController`，而不是`MPMoviePlayerViewController`。我建议您直接使用它或通过它在`MPMoviePlayerViewController`.

首先，永远不要将任何东西直接添加到`MPMoviePlayerController`的视图中。这很容易产生各种奇怪的副作用，并且在文档中明确建议不要这样做。而是使用它来托管您的自定义内容或's`backgroundView`的父级（使其成为兄弟）。`MPMoviePlayerController``view`

但是话又说回来，如果用户点击或只是等待，那将无法解决您描述的问题，即让该视图/标签/任何显示/重新出现与控件一起出现。

有办法做到这一点，但我担心那些处于灰色地带 - 或者换句话说，有可能被苹果拒绝。事实上，它不仅仅是一个灰色地带，而且明显违反了 Apple 的开发指南。

只是，我过去曾在主要应用程序上使用过这个技巧，但从未被检测到/拒绝。

首先，您需要找到 MPMoviePlayerController 实例的界面视图。

```
/**
 * This quirky hack tries to locate the interface view within the supposingly opaque MPMoviePlayerController
 * view hierachy.
 * @note This has a fat chance of breaking and/or getting rejected by Apple
 *
 * @return interface view reference or nil if none was found
 */
- (UIView *)interfaceView
{
    for (UIView *views in [self.player.view subviews])
    {
        for (UIView *subViews in [views subviews])
        {
            for (UIView *controlView in [subViews subviews])
            {
                if ([controlView isKindOfClass:NSClassFromString(@"MPInlineVideoOverlay")])
                {
                    return controlView;
                }
            }
        }
    }
    return nil;
}

UIView *interfaceView = [self interfaceView]; 
```

现在您已经获得了实例，只需将您的视图/标签/任何内容添加到该视图中即可。

```
[interfaceView addSubview:myAwesomeCustomView]; 
```

# android - 使用 jfeinstein10 的滑动菜单

> ID：15805166
> 
> 赞同：2
> 
> 时间：2013-04-04T07:37:08.833
> 
> 标签：android, fragment, slidingmenu

我正在使用[jfeinstein10](https://github.com/jfeinstein10/SlidingMenu)库和示例项目。我想在左侧滑动菜单中显示一些菜单选项，并在右侧滑动菜单中显示一些其他选项菜单。但我不能那样做。这是代码：包com.slidingmenu.example；

```
public class LeftAndRightActivity extends BaseActivity {

    public LeftAndRightActivity() {
        super(R.string.left_and_right);
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        getSlidingMenu().setMode(SlidingMenu.LEFT_RIGHT);
        getSlidingMenu().setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN);

        setContentView(R.layout.content_frame);
        getSupportFragmentManager()
        .beginTransaction()
        .replace(R.id.content_frame, new SampleFragment())
        .commit();

        getSlidingMenu().setSecondaryMenu(R.layout.menu_frame_two);
        getSlidingMenu().setSecondaryShadowDrawable(R.drawable.shadowright);
        getSupportFragmentManager()
        .beginTransaction()
        .replace(R.id.menu_frame_two, new SampleFragment())
        .commit();
    }

} 
```

这是我在 onCreate 中设置的内容：

```
getSlidingMenu().setMode(SlidingMenu.LEFT_RIGHT);
        getSlidingMenu().setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN);

        setContentView(R.layout.content_frame);

        getSupportFragmentManager()
        .beginTransaction()
        .replace(R.id.content_frame, new SampleListFragment())
        .commit();

        getSlidingMenu().setMenu(R.layout.menu_frame_two);
        getSlidingMenu().setShadowDrawable(R.drawable.shadowright);
        getSupportFragmentManager()
        .beginTransaction()
        .replace(R.id.menu_frame_two, new SampleListFragment2())
        .commit();

        getSlidingMenu().setSecondaryMenu(R.layout.menu_frame_two);
        getSlidingMenu().setSecondaryShadowDrawable(R.drawable.shadowright);
        getSupportFragmentManager()
        .beginTransaction()
        .replace(R.id.menu_frame_two, new SampleListFragment2())
        .commit(); 
```

每当我使用它时，我的程序都会崩溃。这是我的 logcat：

```
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.slidingmenu.example/com.slidingmenu.example.LeftAndRightActivity}: java.lang.IllegalArgumentException: No view found for id 0x7f05003c for fragment Fragment{41260b30 #0 id=0x7f05003c} 
```

# metatrader4 - 在 Metatrader Manager 中添加/修改用户帐户的脚本或代码

> ID：15805170
> 
> 赞同：0
> 
> 时间：2013-04-04T07:37:19.820
> 
> 标签：metatrader4, forex

我想问与 Alberto Martin 之前在这里问的相同问题 [Script/Code to add/modify user accounts in Metatrader Manager](https://stackoverflow.com/questions/9540720/script-code-to-add-modify-user-accounts-in-metatrader-manager)

***我需要使用“Metatrader Manager”；我需要管理数千个用户帐户，因此我需要编写一些代码来完成它，因为我不可能手动完成所有工作。我可以使用 Java、mql4、一些脚本......但我一直在搜索网络和更多网络，但找不到任何方法。***

正如我所见，他找到了一个答案，如果有人或阿尔贝托本人可以帮助找到答案，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T15:08:29.110

正如 Alberto 所说，大多数解决方案都需要花费 $$$。如果您愿意只支付 google 诸如“mt4 for java”或“mt4 for c#”之类的费用，则需要将 manager dll 包装在某种互操作层中，以便您可以在脚本和/或 java 中访问它/C＃

# matlab - 以相同的顺序读取文件夹中的所有文本文件，它们出现在 Matlab 中

> ID：15805174
> 
> 赞同：0
> 
> 时间：2013-04-04T07:37:32.793
> 
> 标签：matlab

我目前有 20 个文本文件命名从 file1 到 file20。我正在使用将它们读入matlab

```
filePattern = fullfile(myFolder, '*.txt');
dataFiles = dir(filePattern);
for k = 1:length(dataFiles)
 baseFileName = dataFiles(k).name;
 fullFileName = fullfile(myFolder, baseFileName);
 fid = fopen(fullFileName, 'r');
 line = fgetl( fid );

 while ischar( line )
    tks = regexp( line, '\[([^,]+),([^\]]+)\]([^\[]+)\[([^\]]+)\]([^\[]+)', 'tokens' );   
    for ii = 1:numel(tks)
        j=j+1;
        mat( j ,: ) = str2double( tks{ii} );
    end
    line = fgetl( fid );
 end
fclose( fid );
end 
```

它运行良好，但我需要保留文本文件在文件夹中出现的相同顺序。从 file1 next file2 next file3 到 file20 的数据进入 Matlab。

但它正在重新排列为 file1 file10 file11 file12 ... file2 file20 并读取。dataFiles 是一种结构，文件按字母顺序加载。如何防止这种情况？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T08:06:47.660

我建议使用[sort_nat](http://www.mathworks.com/matlabcentral/fileexchange/10959-sortnat-natural-order-sort)（可在 Matlab Central 上找到）来完成此任务。

在一个空文件夹中运行它：

```
% create sample files
for i = 1:20
     filename = sprintf('file%d.txt',i);
     fclose(fopen(filename, 'w'));
end

% obtain folder contents
files = dir('*.txt');

%{files.name} % -> list of files might be in alphabetical order (depends on OS)

% sort_nat sorts strings containing digits in a way such that the numerical value 
% of the digits is taken into account
[~,order] = sort_nat({files.name});
files = files(order);

% check output is in numerical order
{files.name} 
```

# c# - 提取部分 JSON 响应

> ID：15805175
> 
> 赞同：3
> 
> 时间：2013-04-04T07:37:38.573
> 
> 标签：c#, json

我是编程新手。我目前正在开发一个地图功能，该功能需要我获取当前位置和最终位置之间的方向，但我不知道如何从 JSON RESPONSE 中提取文本。

此 JSON 响应是从 api 生成的。

这只是 JSON 响应的一部分。

```
{
      "attributes" : {
        "length" : 0.094387438, 
        "time" : 0.2831, 
        "text" : "Go west on _________", 
        "ETA" : 1365037200000, 
        "maneuverType" : "esriDMTStraight"
      }, 
      "compressedGeometry" : "+1+t1b+170r-2f-a-e-2"
    } 
```

我希望在我显示的代码中提取“文本”以将其显示在列表框中。

任何帮助都感激不尽。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:44:14.507

您需要将 JSON 反序列化为 C# 类，您可以使用[Newtonsoft JSON.NET](http://json.codeplex.com/)转换器。要创建一个可以保存您的 JSON 对象的类，您可以复制示例 json 并将其粘贴到[http://json2csharp.com/](http://json2csharp.com/)中，这将为您提供`RootObject`该类，您可以从那里访问`text`，这将在名为的属性下可用`text`.

对于上面的示例 JSON，您将获得如下类：

```
public class Attributes
{
    public double length { get; set; }
    public double time { get; set; }
    public string text { get; set; }
    public long ETA { get; set; }
    public string maneuverType { get; set; }
}

public class RootObject
{
    public Attributes attributes { get; set; }
    public string compressedGeometry { get; set; }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:43:57.310

参考这个链接。希望它可以帮助你解决你的问题

[参考链接01](https://stackoverflow.com/questions/9136250/json-what-is-the-java-map-equivalent-in-c-sharp)

[参考链接02](http://msdn.microsoft.com/en-us/library/hh674188.aspx)

# java - 当我尝试将我的 WEB-INF 文件夹的 .war 文件部署到 tomcat6 中时，cmd 现在显示错误 java.io.Filenotfound Exception。我该怎么办

> ID：15805177
> 
> 赞同：0
> 
> 时间：2013-04-04T07:37:39.757
> 
> 标签：java, servlets, tomcat6, java-io

当我试图制作我的 WEB-INF 文件夹的 .war 文件以部署在 tomcat6 中时，

```
 Microsoft Windows (Version 6.2.9200)'
(c) 2012 Microsoft Corporation. All rights reserved.'

C:\Program Files (x86)\Apache Software Foundation\Tomcat6.0\webapps>jar cvf            mywebapp.war */ ..
java.io.FileNotFoundException: mywebapp.war (Access is denied)
    at java.io.FileOutputStream.open(Native Method)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:194)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:84)
    at sun.tools.jar.Main.run(Main.java:167)
    at sun.tools.jar.Main.main(Main.java:1147) 
```

然后cmd显示错误

“ java.io.Filenotfound Exception:mywebapp.war(access is denide)” 我能做什么..制作.war文件..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:41:34.470

尝试以管理员权限启动tomcat`"run as administrator"`

或者

将属性更改为“Apache Software Foundation”及其子文件夹`folder_name>properties>security`

或者

安装`tomcat`到驱动器以外的任何其他位置`c:\`（操作系统安装驱动器）

# iphone - MFSideMenu 侧边菜单问题

> ID：15805178
> 
> 赞同：2
> 
> 时间：2013-04-04T07:37:41.077
> 
> 标签：iphone

我已将 in 集成`MFSideMenu`到 ios 应用程序中。

初见。我需要保持打开侧边栏，所以我实现了

```
 [self.navigationController.sideMenu
 setMenuState:MFSideMenuStateLeftMenuOpen]; 
```

进入`viewDidLoad`那个班级。但是有一个问题，

它已应用于下一个视图。侧边菜单将自动打开。

但我已经调用`[self.sideMenu setMenuState:MFSideMenuStateClosed];`关闭侧面菜单

我怎样才能停止这个功能。？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T18:09:12.020

我很确定在`viewDidAppear`调用导航控制器的方法之前，MFSideMenu 实际上不会将菜单添加到导航控制器。

试着把它放在你的视图控制器的`viewDidAppear`方法中

```
 dispatch_async(dispatch_get_main_queue(), ^{
        [self.navigationController.sideMenu setMenuState:MFSideMenuStateLeftMenuOpen];
    }]; 
```

此外，您可以使用 sideMenu 的`toggleLeftSideMenu`方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-17T09:11:14.070

它肯定会起作用

```
-(void)viewDidAppear{
[self.menuContainerViewController toggleLeftSideMenuCompletion:^{}];
} 
```

# ant - ant sshexec 终止而不给出任何消息

> ID：15805179
> 
> 赞同：1
> 
> 时间：2013-04-04T07:37:43.073
> 
> 标签：ant

我正在尝试解压缩远程服务器中可用的 zip 文件。完成后有一个日志条目，这根本不会出现。输出文件也没有太多细节。

1.) 如何禁用 sshexec 控制台打印？2.) 为什么这不打印最终的记录器语句？3.) 这不是提取完整的 zip 文件吗？

```
<target name="unzip">
    <echo level="info">==== Extracting zip file ====</echo>
        <sshexec host="${host}" username="${user}" password="${password}" output="${log.file}" command="unzip -o  ${path}/${zipdata}.zip -d ${path2}/${zipdata}/" trust="true" />
    <echo level="info">==== Extracting zip file completed====</echo>
</target> 
```

# apache-flex - 从 Flash Builder 减小 swf 的大小

> ID：15805180
> 
> 赞同：1
> 
> 时间：2013-04-04T07:37:48.700
> 
> 标签：apache-flex, flex4, flash-builder

我创建了一个简单的 Flash Builder 4.6 项目，其中包含一个简单的按钮，并且我已经使用发布选项导出了该项目，并带有 mx 命名空间。

问题是文件大小约为 266 kb，编译选项：合并到应用程序中。我只使用一个简单的按钮。我的问题是有一种方法可以删除对我的代码中未使用的 mx 库的任何引用，以减少 swf 大小。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:24:04.883

“合并到代码中”选项实际上已经确定了需要编译到应用程序中的内容并删除您不使用的代码。作为测试，尝试添加另一个不同的组件并创建另一个发布版本。您会注意到文件大小更大。

减小 swf 大小的最佳方法是使用运行时共享库​​ (RSL)。这是 SDK 的默认链接选项。

[http://livedocs.adobe.com/flex/3/html/help.html?content=projects_7.html](http://livedocs.adobe.com/flex/3/html/help.html?content=projects_7.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T09:43:57.103

试试这个：项目 -> 属性 -> Flex 构建路径

确保选择了组合“框架链接”，其值为：“合并到代码中”。

下面你应该有一个名为“构建路径库”的树。展开第一个节点。然后尝试通过选择相关节点并单击右侧的删除按钮来删除库

# java - 如何在 GWT RPC 中使用 util.List

> ID：15805187
> 
> 赞同：0
> 
> 时间：2013-04-04T07:38:14.933
> 
> 标签：java, hibernate, jpa, gwt-rpc

我有这种情况：

## 类用户

```
@Entity
@Configurable(preConstruction=true)
public class User extends AbstractBussinessObject implements Serializable {
    @OneToMany(mappedBy = "user", fetch = FetchType.LAZY)
    private List<Warrior> warriors;
... 
```

## 类 UserDto

```
public class UserDto extends AbstractDto implements Serializable{
    private List<WarriorDto> warriors;
    private String name;
    private String password;

    public UserDto() {}

    public UserDto(Long id, List<WarriorDto> warriors, String name, String password) {
        this.warriors = warriors;
        ... 
```

## 类战士

```
@Entity
public class Warrior extends AbstractBussinessObject implements Serializable{
    @JoinColumn(name = "user_id")
    @ManyToOne
    private User user;
    ... 
```

## 类战士Dto

```
public class WarriorDto extends AbstractDto implements Serializable{
    private User user;
    ... 
```

## WarriorServiceImpl 中的方法

```
@Transactional(readOnly = true)
public List<WarriorDto> getAllWarriors() {
    List<Warrior> wars = null;
    List<WarriorDto> warsDto = new ArrayList<WarriorDto>();
    try {
        wars = genericDao.getAll(Warrior.class);
        if (wars != null) {
            for (Warrior war : wars) {
                warsDto.add(createWarriorDto(war));
            }   
        }
    } catch (Exception e) {}
    return warsDto;
} 
```

## DAO 中的方法

```
@SuppressWarnings("unchecked")
@Override
public <ENTITY> List<ENTITY> getAll(Class<ENTITY> clazz) {
    return getEntityManager().createQuery(
    "SELECT e FROM " + clazz.getSimpleName() + " e")
    .getResultList();
} 
```

## 应用程序上下文.xml

```
<!-- Connection pool -->
    <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource"
        destroy-method="close">
        <property name="driverClassName" value="${jdbc.driverClassName}" />
        <property name="url" value="${jdbc.url}" />
        <property name="username" value="${jdbc.username}" />
        <property name="password" value="${jdbc.password}" />
        <property name="initialSize" value="2" />
        <property name="minIdle" value="2" />
    </bean>

    <bean id="entityManagerFactory"
        class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
        <property name="dataSource" ref="dataSource" />
        <property name="jpaVendorAdapter">
            <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
                <property name="databasePlatform" value="${jpa.platform}" />
                <property name="generateDdl" value="true" />
                <property name="showSql" value="true" />
            </bean>
        </property>
        <property name="packagesToScan" value="cz.sutak.game" />
    </bean>

    <bean id="txManager" class="org.springframework.orm.jpa.JpaTransactionManager">
        <property name="entityManagerFactory" ref="entityManagerFactory" />
    </bean>

    <!-- Podpora deklarativni demarkace transakci - anotace @Transactional -->
    <tx:annotation-driven transaction-manager="txManager" mode="aspectj" />

    <bean id="transactionTemplate"
        class="org.springframework.transaction.support.TransactionTemplate">
        <property name="transactionManager">
            <ref bean="txManager" />
        </property>
    </bean> 
```

## 完整代码

[https://github.com/sutakjakub/game](https://github.com/sutakjakub/game)

如果我想调用`WarriorService.Util.getInstance().getAllWarriors( new AsyncCallback<List<WarriorDto>>()`小部件，它将失败并显示以下消息：com.google.gwt.user.client.rpc.StatusCodeException: 500 The call failed on the server; 有关详细信息，请参阅服务器日志。在 Jetty 中只有这条消息：[ERROR] 500 - POST /game/warrior (127.0.0.1) 57 bytes

没有更多的错误信息。序列化（util.List）有问题吗？你有什么想法吗？非常感谢。

编辑：这是终端中的错误消息（对不起，我没看到）：

错误 LazyInitializationException - 无法延迟初始化角色集合：cz.sutak.game.client.bo.User.warriors，没有会话或会话已关闭

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:50:47.770

问题是在客户端 Hibernate 无法获取您标记的属性`fetch = FetchType.LAZY`。在通过网络传递对象图之前，您需要在服务器端急切地获取它们 og null Hibernate 代理。

有关使 Hibernate 代理无效的提示，请参阅[我在另一个线程中的回答。](https://stackoverflow.com/a/14135708/687514)

干杯，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T09:06:03.720

这里正如你所说，与它无关`GWT`，因为它的服务器端代码。即使在客户端 GWT 支持`Util.List`。

来到原来的问题。它与线 `wars = genericDao.getAll(Warrior.class);`

访问此行时没有`hibernate session`打开。

# javascript - 是否有任何可用于 Windows XP 的工具来修复 IE9 问题？

> ID：15805188
> 
> 赞同：0
> 
> 时间：2013-04-04T07:38:21.353
> 
> 标签：javascript, html, css, conditional-statements

我在 IE9 中有一个样式问题。菜单栏未正确对齐。我只使用 Windows XP。但 IE9 仅适用于 >Vista。如何在 Windows XP 操作系统中测试和修复 IE9 问题？

在这里，我附上了我面临的问题的屏幕截图。

**IE 9 中的错误：**

![在此处输入图像描述](https://i.stack.imgur.com/RG285.png)

**Chrome中的正确布局：**

![在此处输入图像描述](https://i.stack.imgur.com/i2TmG.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:17:15.587

检查以下链接：

*   [**Virtual PC VHD**](http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=11575)（[*自述文件*](http://blog.reybango.com/2013/02/04/making-internet-explorer-testing-easier-with-new-ie-vms/)）

*   [**spoon.net**](http://spoon.net/apps/ie-9.0)（*让您体验 IE 9 浏览器的在线工具*）。

*   [**IE 测试仪**](http://www.my-debugbar.com/wiki/IETester/HomePage)。

*   [**MSDN 提供的IE9 开发工具**](http://www.microsoft.com/en-in/download/details.aspx?id=18359)。（*支持Windows XP*）。

**提示**：*更多链接，在谷歌搜索`online virtual browsers`*

我建议您安装最新版本的操作系统以支持所有浏览器，而不是这样做。

* * *

老实说，[我不推荐](https://stackoverflow.com/q/10445781/1577396) `<meta http-equiv="X-UA-Compatible" content="IE=8" />`。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-04T08:02:50.297

请发布一些代码片段，以便我们为您指明正确的方向。

既然你说你的代码在 IE8 中工作

您现在可以将其用作热修复程序。

```
<meta http-equiv=”X-UA-Compatible” content=”IE=8”/> 
```

这将使 ie9 回退到 ie8 模式。如果您仍然没有修复并且您需要在 windows xp 中使用 ie 9，请使用一些虚拟机。

# php - 产品 ETA 在 PHP 中的天、月和年

> ID：15805189
> 
> 赞同：-5
> 
> 时间：2013-04-04T07:38:26.567
> 
> 标签：php, product

我正在为我们的产品页面制作产品预计到达时间 (ETA)，但我很难让这个想法发挥作用。

我的 PHP 脚本如下：

```
$now = new DateTime(date("y:m:j",time()));
$eta = new DateTime($row['ArrivalDate']);
$diff = $now->diff($eta); 
```

那么这就是我要归档的内容 If $diff < 30 days then out “within “30 days”</p>

```
If $diff = or > 60days then output “2 months”

If $diff = or > 90 days then output “3 months”

If $diff > 365 days then output “over a year”

If $diff = 25 December  then output “Date to be confirmed” 
```

在 ETA 列中，我想将 ETA 显示为“2 个月”</p>

请帮忙，我不是 PHP 大师

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:17:43.477

这应该让你朝着正确的方向前进。您将需要自己制定 ifelseif 或[开关](http://www.php.net/manual/en/control-structures.switch.php)的逻辑，您应该能够处理它。

```
$ArrivalDate = '2013-05-21';

$now = new DateTime("now");
$eta = new DateTime($ArrivalDate);
$diff = $now->diff($eta);
//
$diffDays = $diff->format('%d');
$diffMonths = $diff->format('%m');
$diffYears = $diff->format('%y');

if ( $diffYears !='0' )
{
    echo 'over a year';
}
if ( $diffDays < '31' )
{
    echo 'within the next 30 days (' . $diffDays . '  days)';
}
if ( $diffMonths >= '1' )
{
    echo 'within ' . $diffMonths . ' months';
} 
```

# ruby-on-rails - 需要旧密码才能制作新密码

> ID：15805190
> 
> 赞同：6
> 
> 时间：2013-04-04T07:38:29.590
> 
> 标签：ruby-on-rails, passwords, form-for

现在，每次我更改用户/编辑表单中的任何内容时，都需要用户设置新密码。我希望它只需要输入当前密码（我怎样才能要求当前密码？）只有在输入新密码的情况下。我怎样才能做到这一点，非常感谢。

```
<%= form_for(@user, :html => {:multipart => true}) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <%= f.text_field :name, placeholder: :name %>
  <%= f.text_field :email, placeholder: :email %>
  <%= f.password_field :password, placeholder: "Enter new password" %>
  <%= f.password_field :password_confirmation, placeholder: "Confirm new password" %>
  <%= f.submit "Save changes", class: "btn btn-large btn-primary" %>
<% end %> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-05T08:16:44.937

使用来自 rails_has_elegance 和网络的一些信息，我想出了以下解决方案。

用户/编辑视图：

```
<%= form_for(@user, :html => {:multipart => true}) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <%= f.text_field :name, placeholder: :name %>
  <%= f.text_field :email, placeholder: :email %>
  <%= password_field_tag :current_password, params[:current_password], placeholder: "Current password" %>
  <%= f.password_field :password, placeholder: "New password (optional)" %>
  <%= f.password_field :password_confirmation, placeholder: "Confirm new password" %>
<% end %> 
```

用户型号：

```
validates :password, :on => :create
validates :password_confirmation, presence: true, :on => :update, :unless => lambda{ |user| user.password.blank? } 
```

用户控制器：

```
def update
  @user = User.find(params[:id])
  user = User.find_by_email(current_user.email).try(:authenticate, params[:current_password])
  if user && @user.update_attributes(params[:user])
    flash[:success] = "Profile updated"
    sign_in @user
    redirect_to @user
  else
    flash.now[:error] = "Incorrect Current Password" unless user
    sign_in @user
    render 'edit'
  end
end 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T07:53:23.340

您可以在表单中添加 old_password 字段

```
<%= f.password_field :old_password, placeholder: "Enter current password" %> 
```

将其添加到`attr_accessible :old_password`和`attr_accessor :old_password`

然后你可以验证它

```
validate :correct_old_pass, :on => :update

def correct_old_pass
  errors[:old_password] << 'Incorrect pass' if your_check_method
end 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T07:42:55.553

您可以创建一个单独的表单来更改密码。您可以像要求新密码一样要求当前密码：

```
<%= form_for(@user, :html => {:multipart => true}) do |f| %>
  <%= f.password_field :password, placeholder: "Enter current password" %>
  <%= f.password_field :password, placeholder: "Enter new password" %>
  <%= f.password_field :password_confirmation, placeholder: "Confirm new password" %>
  <%= f.submit "Save changes", class: "btn btn-large btn-primary" %>
<% end %> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T08:05:41.860

我建议在您的 users_controller 中为此进行额外的 edit_password 和 update_password 操作：

```
@user = User.find(params[:id])
user = User.find_by_email(current_user.email).try(:authenticate, params[:current_password])
if user && @user.update_attributes(params[:user])
  flash[:success] = "Password updated!"
  (sign_in @user)
  redirect_to ... 
```

在您的表单中，只需使用以下字段：

```
 <%= label_tag :current_password, "Current password:" %>
  <%= password_field_tag :current_password, params[:current_password] %>

  <%= form.label :password, "New password:" %>
  <%= form.password_field :password %>

  <%= form.label :password_confirmation, "Confirm new password" %>
  <%= form.password_field :password_confirmation %> 
```

# google-app-engine - Aspect Maven 插件“覆盖”已经增强的 Datanucleus 类

> ID：15805193
> 
> 赞同：0
> 
> 时间：2013-04-04T07:38:41.250
> 
> 标签：google-app-engine, maven, maven-3, aspectj, datanucleus

我正在使用 aspectj-maven-plugin 以及由 appengine-maven-plugin 完成的 datanucleus 增强。如果我在 appengine-maven-plugin 之前定义了 aspectj-maven-plugin，一切似乎都可以，但是当我在 aspectj-maven-plugin 之前定义 appengine-maven-plugin 时，aspectj-maven-plugin 似乎覆盖了类增强由 appengine-maven-plugin 完成。

当然，我可以在 appengine-maven-plugin 之前定义 aspectj-maven-plugin，但我想知道是否有更好的复杂方法来解决这个问题？

这是我的配置：

```
<plugin>
    <groupId>org.codehaus.mojo</groupId>
    <artifactId>aspectj-maven-plugin</artifactId>
    <version>1.4</version>
    <configuration>
        <aspectLibraries>
            <aspectLibrary>
                <groupId>org.springframework</groupId>
                <artifactId>spring-aspects</artifactId>
            </aspectLibrary>
        </aspectLibraries>
        <outxml>true</outxml>
        <source>${java.version}</source>
        <target>${java.version}</target>
    </configuration>
    <dependencies>
        <dependency>
            <groupId>org.aspectj</groupId>
            <artifactId>aspectjrt</artifactId>
            <version>${org.aspectj.version}</version>
        </dependency>
        <dependency>
            <groupId>org.aspectj</groupId>
            <artifactId>aspectjtools</artifactId>
            <version>${org.aspectj.version}</version>
        </dependency>
    </dependencies>
    <executions>
        <execution>
            <goals>
                <goal>compile</goal>
                <goal>test-compile</goal>
            </goals>
        </execution>
    </executions>
</plugin>

<plugin>
    <groupId>com.google.appengine</groupId>
    <artifactId>appengine-maven-plugin</artifactId>
    <version>${com.google.appengine.version}</version>
    <executions>
        <execution>
            <phase>compile</phase>
            <goals>
                <goal>enhance</goal>
            </goals>
        </execution>
    </executions>
</plugin> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T19:04:36.943

您将需要使用*过度编织*才能使其正常工作。通常，AspectJ 假定它是唯一在类文件上运行的字节码转换器。所以，在它编织之前，它总是会回到原来的（不是转换的类文件）。当你有像数据核这样的东西在起作用时，这个假设就不再成立了。Overweaving 是一种在已经编织的类上编织的选项。

更多细节在这里：[http ://andrewclement.blogspot.ca/2010/05/aspectj-overweaving.html](http://andrewclement.blogspot.ca/2010/05/aspectj-overweaving.html)

要启用，请使用该`-Xset:overWeaving=true`选项启用它。但是，查看博客文章下方的评论，我可以看到 maven 不喜欢这些`-Xset:`选项。因此，建议使用 .lst 文件并添加 -X 选项。

如果这不起作用，我建议向 aspectj-users 邮件列表发送电子邮件。

# ruby-on-rails - Rails 3 带有不需要/多余字符的活动记录验证错误消息

> ID：15805194
> 
> 赞同：0
> 
> 时间：2013-04-04T07:38:42.357
> 
> 标签：ruby-on-rails, ruby-on-rails-3, validation

我正在使用 Rails 3.2.9 开发 ROR 应用程序，并且在我的应用程序中收到注册页面的错误消息，如下所示

****<li>登录太短（最少 3 个字符）</li><li>电子邮件太短（最少 7 个字符）</li><li>电子邮件无效</li><li>密码可以 x27;不能为空</li><li>密码太短（最少4个字符）</li><li>密码无效</li><li>密码确认不能为空</li><li>密码无效</li><li>密码确认不能为空</li><li>密码无效</li>李>****

**这些是 Active Record Validation 的默认消息。（参考： http: [//guides.rubyonrails.org/active_record_validations_callbacks.html](http://guides.rubyonrails.org/active_record_validations_callbacks.html)）**

 **这个应用程序之前是在 Rails 2 中编写的，后来迁移到 rails 3。我已根据 rails 3 将 validates_presence_of 命令更改为 validates : password 、 :presence=>true 等。在视图 (signup.html.erb) 中，error_messages_for 正在呈现这些消息。它已从 rails 3 中弃用。谁能告诉我在视图中需要使用什么而不是 error_messages_for 并且所有代码都需要相应地更改以获取正确的错误消息。

这是代码（不完整）

应用程序/模型中的 user.rb

```
class User < ActiveRecord::Base
  has_many :excel_files         # One user may have many excel files
  has_one  :user_access_validity# One user may have one license period 

  # Virtual attribute for the unencrypted password
  attr_accessor :password

  attr_accessible :login
  attr_accessible :email
  attr_accessible :password
  attr_accessible :password_confirmation
  attr_accessible :company

  #changes of 'validates' in accordance with rails 3:

  validates :login,  :presence => true, 
                        :length => { :within => 3..40}, 
                        :uniqueness => { :case_sensitive => false },
                        :format => { :with =>  /^([a-z_0-9\.]+)$/i },
                        :on => :create, 
                        :if => :is_login_entered?
  validates :email, :presence => true, 
                        :length => { :within => 7..100}, 
                        :uniqueness => { :case_sensitive => false },
                        :format => {:with => /^([a-z]+((\.?)|(_?))[a-z0-9]+@(mindtree.com|rvce.edu.in))$/i},
                        :on => :create,
                        :if => :is_email_entered? 
  validates :company, :presence => true,
                        :format => { :with =>/(mindtree|RVCE)/i},
                        :format => { :with => /^([a-z]+)$/i },
                        :on => :create, 
                        :if => :is_company_entered? 
  #validates_presence_of     :login, :email, :company
 on => :create, :if => :is_login_entered?

   validates :password, :presence => true,
                       :length => { :within => 4..40 },
                       :confirmation => true,
                       :format => { :with => /^([a-z0-9@!#\$]+)$/i },
                       :on => :create,
                       :if => :password_required?

  validates :password_confirmation, :presence => { :if => :password_required? }
  #validates_presence_of     :password_confirmation,      :if => :password_required? 

  before_save :encrypt_password 
```

. . .

在 signup.html.erb 中

```
 <font color=red>(Fields marked * are mandatory)</font><h3>Sign me up!</h3>

    <br>

   <span class='error'><%= error_messages_for (@user) %></span>
    <%= form_for :user do |f| -%>

    <p><label for="login"><span class='redcolor'>*</span>Login</label><br/>
    <%= f.text_field :login %></p>

    <p><label for="email"><span class='redcolor'>*</span>Email</label><br/>
    <%= f.text_field :email %></p>

    <p><label for="password"><span class='redcolor'>*</span>Password</label><br/>
    <%= f.password_field :password %></p>

    <p><label for="password_confirmation"><span class='redcolor'>*</span>Confirm Password</label><br/>
    <%= f.password_field :password_confirmation %></p>

    <p><label for="company"><span class='redcolor'>*</span>Company</label><br/>
    <%= f.text_field :company %></p>

    <p><%= submit_tag 'Sign up' %></p>
    <% end -%> 
```

## 解决方案

[从http://www.rubydoc.info/github/edavis10/redmine/ApplicationHelper:error_messages_for](http://www.rubydoc.info/github/edavis10/redmine/ApplicationHelper%3aerror_messages_for)获得以下代码 ，应将其添加到 application_helper.rb 和 html.erb 文件中的相应更改为 <%= error_messages_for (@user) % >

代码：

```
def error_messages_for(*objects)
  html = ""
  objects = objects.map {|o| o.is_a?(String) ? instance_variable_get("@#{o}") : o}.compact
  errors = objects.map {|o| o.errors.full_messages}.flatten
  if errors.any?
    html << "<div id='errorExplanation'><ul>\n"
    errors.each do |error|
      html << "<li>#{h error}</li>\n"
    end
    html << "</ul></div>\n"
  end
  html.html_safe
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:44:35.470

[http://guides.rubyonrails.org/active_record_validations_callbacks.html](http://guides.rubyonrails.org/active_record_validations_callbacks.html)

如果您阅读本指南，您会看到在您的表单中您可以使用`form.error_messages`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-17T06:15:07.610

问题的解决方案添加在问题下方**

# text - VBS脚本批量处理多个文件（替换文本字符串）

> ID：15805196
> 
> 赞同：1
> 
> 时间：2013-04-04T07:38:56.517
> 
> 标签：text, vbscript, batch-file

我在一个文件夹中有更多 10000 个文件（扩展名 *.WIR - 虽然里面是纯文本）。我想在每一行中查找并替换特定行。我的问题是这一行在每个文件中都略有不同+我不知道如何强制脚本进行批处理。

示例文件 1 有：“绝缘电阻 20.0 M ohm”

示例文件 2 有：“绝缘电阻 100.0 M ohm”

示例文件 3 有：“绝缘电阻 0.2 M ohm”...

我需要将它们全部更改为“INSULATION RESIS 500.0 M ohm”。

VBS 脚本是否有机会使用通配符同时批处理所有内容。我怎样才能做到这一点？

非常感谢您的任何回复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:57:23.573

三个（子）问题的三种策略：

```
cscript 01.vbs
xxA 1.0 BxxA 1.1 BxxA 123.456 Bxx
xxA 500.0 BxxA 500.0 BxxA 500.0 Bxx
Option Explicit

Dim oFS : Set oFS = CreateObject("Scripting.FileSystemObject")

' use RegExp to replace all occurrences of "A #.# B" in a string
Dim reRpl : Set reRpl = New RegExp
Dim sTest : sTest     = "xxA 1.0 BxxA 1.1 BxxA 123.456 Bxx"
reRpl.Global = True
reRpl.Pattern = "(A )\d+\.\d+( B)"
WScript.Echo sTest
WScript.Echo reRpl.Replace(sTest, "$1500.0$2")

' use FileSystemObject/Stream to read/write from/to file
Dim sAll : sAll = oFS.OpenTextFile(WScript.ScriptFullName).ReadAll()
WScript.Echo sAll
oFS.CreateTextFile(WScript.ScriptFullName, True).Write sAll

' use FileSystemObject/Folder/File to loop directory
Dim oFile
For Each oFile In oFS.GetFolder(".").Files
    WScript.Echo oFile.Name
Next

username24.txt
01.vbs
00.vbs 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T09:47:26.093

我可能会做这样的事情：

```
Set fso = CreateObject("Scripting.FileSystemObject")

Set re = New RegExp
re.Pattern = "(INSULATION RESIS) \d+\.\d+ (M ohm)"

For Each f In fso.GetFolder("...").Files
  If LCase(fso.GetExtensionName(f)) = "wir" Then
    filename = f.Path
    tempname = filename & ".tmp"

    Set f_in = fso.OpenTextFile(filename)
    Set f_out = fso.OpenTextFile(tempname, 2)
    Do Until f_in.AtEndOfStream
      f_out.WriteLine re.Replace(f_in.ReadLine, "$1 500.0 $2")
    Loop
    f_in.Close
    f_out.Close

    f.Delete
    fso.MoveFile tempname, filename
  End If
Next 
```

此解决方案通过逐行处理每个文件来避免由于输入文件大而导致的潜在内存耗尽。这种解决方案的缺点是输出处理需要额外的步骤（将输出写入临时文件，用临时文件替换输入文件）。

# java - twitter4j：以异步模式运行

> ID：15805197
> 
> 赞同：0
> 
> 时间：2013-04-04T07:38:57.527
> 
> 标签：java, twitter4j

我有一个文件中的 twitter 用户 ID 列表。我需要收集该文件中所有用户的推文。目前我能够获取所有用户的推文。但我需要永远运行的是代码。目前我正在做这样的事情

```
while(true)  //run forever
{
       open(user ids file);
       while(there is more ids in file)
       {
             long id = readIDFromFile(file);
             List<Status> statuses = getTweetsForUser(id);
             appendListToTweetFile(statuses);                 
       }
       close(user ids file);
} 
```

我想永远运行它的原因是，如果有任何用户发布的任何新推文，我都可以记录它。我的问题是有没有更好的方法来永久运行这段代码，我知道将代码保持在无限循环中不是一个好主意！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:46:39.657

您想使用一个[计时器](http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html)对象，该对象调用包含此函数的方法（没有 while 循环）。这样，您就可以不断更新推文，而不会像您在这里所做的那样耗尽电池和 CPU 周期。

# android - ListView（大数据集光标）与 SectionIndexer 工作不正常

> ID：15805201
> 
> 赞同：1
> 
> 时间：2013-04-04T07:39:12.007
> 
> 标签：android, android-listview, android-cursor

几乎我有 33000 行，光标中有 5 列。使用自定义光标适配器加载此光标时，显示消息为：

```
**E/CursorWindow(32613): need to grow: mSize = 1048576, size = 11, freeSpace() = 10, numRows = 15583
     E/CursorWindow(32613): not growing since there are already 15583 row(s), max size 1048576
     E/Cursor(32613): Failed allocating 11 bytes for text/blob at 15582,0
     D/Cursor(32613): finish_program_and_get_row_count row 19920** 
```

根据游标文档，不要使用大型数据集。

即便如此，我也使用了大型数据集。

我击中的地方是，如果我直接转到第一个索引到最后一些索引，它可以工作，但是，listview 的向上滚动被击中。在将第一个索引到最后一些索引时，它显示消息为

**skip_rows 行 numberOfRows(number)**

所以，请任何人指导我正确的方法。

提前致谢

# php - Ajax, jQuery - 选中或取消选中复选框时更新数据库

> ID：15805202
> 
> 赞同：-1
> 
> 时间：2013-04-04T07:39:17.533
> 
> 标签：php, jquery, mysql, ajax, checkbox

我有一个系统可以让管理员为特定折扣类型设置折扣启用或禁用，折扣值已在数据库中设置：

```
<li>Discount For Items</li>
<li><input type="checkbox" class="discount" value="1"></li>

<li>Discount For General Ordesr</li>
<li><input type="checkbox" class="discount" value="2"></li>

<li>Discount For Preferred Customer</li>
<li><input type="checkbox" class="discount" value="2"></li> 
```

我想 `enable`使用 jQuery/Ajax 更新行（布尔值），如果它是`checked`然后执行 selected `discount type`，如果是`unchecked`disable `discount type`。
我真的需要你的帮助，希望我的解释是可以理解的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:54:51.100

you can try something like this:

```
$(document).ready(function(){
  $('input.discount').change(function(){

    $this = $(this);

    $.post(
      "my-php-file.php",
      {
        value: $this.val(),
        checked: $this.is(':checked')
      },
      function(data){
        // do something with returned data
      },
      'json'
    );
  });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:01:30.463

使用 jQuery，你可以做这样的事情，但是你需要你的服务器端逻辑（服务）来进行实际的数据库操作（我们将**discount-type**作为一种**类型**与 AJAX POST 请求一起传递）。

```
 <li>Discount For Items</li>
    <li><input type="checkbox" class="discount" data-discount-type="all" /></li>

    <li>Discount For General Ordesr</li>
    <li><input type="checkbox" class="discount" data-discount-type="general" /></li>

    <li>Discount For Preferred Customer</li>
    <li><input type="checkbox" class="discount" data-discount-type="customer" /></li>

    // JavaScript
    $(function(){
       var url = 'my-php-file.php';

       $('input:checkbox').on('click', function(){
           var $this = $(this);
       if($this.prop('checked'))
          $.post(url,{type : $this.data('discount-type') }).done(function(response){
             // success custom logic
          });
      });
    }); 
```

# c# - 在 C# 中使用 Linq 中的内部查询制作列表

> ID：15805210
> 
> 赞同：0
> 
> 时间：2013-04-04T07:39:38.863
> 
> 标签：c#, linq, subquery

我正在尝试使用 Linq 创建一个子列表，但不明白其中的错误。我不认为我做错了，但我认为其他人的眼睛会帮助我解决这个问题。

```
var dataList = File.ReadAllLines(inputFile);
 dataList = from line in dataList
              let temp = from data in line.Split(';').ToList()
                         where line.Split(';').ToList().IndexOf(data) != 0 ||line.Split(';').ToList().IndexOf(data) != 1
                          select data
                          select string.Join(",",temp); 
```

我收到错误说 IEnumerable 列表不能隐式转换为 string[]..:(

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T07:45:06.800

`dataList`是一个数组，而 LINQ 返回`IEnumerable<string>`. 添加`ToArray`到查询的末尾：

```
dataList = (from line in dataList
            let temp = from data in line.Split(';').ToList()
                        where line.Split(';').ToList().IndexOf(data) != 0 || line.Split(';').ToList().IndexOf(data) != 1
                        select data
            select string.Join(",", temp)).ToArray(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:46:02.110

当我尝试编译您发布的代码时，出现以下异常：

> 无法将类型“System.Collections.Generic.IEnumerable”隐式转换为“string[]”。存在显式转换（您是否缺少演员表？）

原因是您试图重用 dataList，但 File.ReadAllLines 和 string.Join 方法的返回类型不匹配。这修复了它：

```
dataList = (from line in dataList
                   let temp = from data in line.Split(';').ToList()
                              where line.Split(';').ToList().IndexOf(data) != 0 || line.Split(';').ToList().IndexOf(data) != 1
                              select data
                   select string.Join(",", temp)).ToArray(); 
```

干杯，

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:49:09.057

您使用的是哪个版本的 .NET Framework？`String.Join`that take an的重载`IEnumerable<string>`仅在 v4.0 中引入。如果您使用的是早期版本，它会尝试将`IEnumerable<string>`其用作`string[]`.

另外（这不能解决您的问题）我认为`||`第 4 行中的应该是`&&`.

# facebook - 在哪里可以找到 Graph API 端点列表？

> ID：15805218
> 
> 赞同：0
> 
> 时间：2013-04-04T07:40:11.333
> 
> 标签：facebook, facebook-graph-api

也许这是一个蹩脚的问题，但我找不到明显的问题。

我在哪里可以找到 Graph API 端点列表和关于它们的文档？我指的是端点等`https://graph.facebook.com/me/checkins`。

**[我在这里](http://developers.facebook.com/docs/reference/api/)**看不到。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:45:00.267

尝试“用户”/“连接”部分：http: [//developers.facebook.com/docs/reference/api/user/](http://developers.facebook.com/docs/reference/api/user/)

例如，对于签入，它将是 [http://developers.facebook.com/docs/reference/api/user/#checkins](http://developers.facebook.com/docs/reference/api/user/#checkins)

# php - 如何通过肥皂检索 magento 街道价值的门牌号？

> ID：15805221
> 
> 赞同：0
> 
> 时间：2013-04-04T07:40:19.383
> 
> 标签：php, string, magento

我有magento，我正在通过soap v2 api发布请求以获取订单地址。

有了这个，我得到了以下包含街道名称+门牌号的对象（天知道为什么这些字段不是分开的......）

```
$shipping_address->street = "4th avenue 108"; 
```

现在我想要的是拥有 108 号门牌。

我如何得到这个门牌号码而不得到 4？（如果有人有比我在下面发布的更可靠的功能/代码，请随时发布。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:40:19.383

您基本上需要做的是检查第一个数字是否出现，前面有一个空格。这样可以最大限度地降低获取错误号码的风险：

```
// Code by Michael Dibbets
// shared under creative commons Attribution 3.0 Unported (CC BY 3.0 http://creativecommons.org/licenses/by/3.0/ )
$value = "4th street26";
$spl = str_split($value);
$pos = 0;
$location = 0;
// simple loop to find the first character with space + integer
foreach($spl as $char)
    {
    if(is_numeric($char) && $spl[$pos-1]==' ') 
        {
        $location = $pos;
        break;
        }
    $pos++;
    }
// If we didn't encounter the space + integer combination
if(!$location)
    {
    // is the last character an integer? Assume that the last numbers are house numbers
    if(is_numeric($spl[count($spl)-1]))
        {
        for($c=count($spl)-1;$c>0;$c--)
            {
            if(is_numeric($spl[$c]))
                {
                continue;
                }
            else
                {
                $location = $c+1;
                break;
                }
            }
        }
    }
if($location)
    {
    $street = substr($value,0,$location);
    $number = substr($value,$location);
    }
else
    {
    $street = $value;
    $number = null;
    }
// echoing the results. The number should appear after the dash.
echo $street .  ' - ' . $number; 
```

# javascript - javascript字符串模式匹配给出了空结果

> ID：15805226
> 
> 赞同：0
> 
> 时间：2013-04-04T07:40:30.150
> 
> 标签：javascript, regex, string-matching

```
var listing = "<a name=\"id43ba766a68\" class=\"id\"></a>";
var hexid = listing.match(/name=\"id([a-f0-9]+)\"/); 
```

我越来越习惯了`null`。这里有什么问题？

我使用正则表达式测试器[http://www.regextester.com/](http://www.regextester.com/)对其进行了测试，它只是按预期返回。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:45:13.750

```
var listing = "<a name=\"id43ba766a68\" class=\"id\"></a>";
var hexid = listing.match(/name=\"id([a-f0-9]+)\"/); 
```

对我来说工作正常：http: [//jsfiddle.net/nM8Vv/](http://jsfiddle.net/nM8Vv/)

# c# - 将项目插入 DataGrid

> ID：15805227
> 
> 赞同：0
> 
> 时间：2013-04-04T07:40:35.287
> 
> 标签：c#, wpf, wpfdatagrid

我有以下表格：

![在此处输入图像描述](https://i.stack.imgur.com/E5PDp.png)

我首先使用实体​​框架数据库，因此生成了以下实体类：

```
public partial class Sal1 {
    public string SaleID { get; set; }
    public string ItemID { get; set; }
    public int Quantity { get; set; }
    public decimal Total { get; set; }

    public virtual Item Item { get; set; }
    public virtual Sale Sale { get; set; }
} 
```

然后将 Sal1 行放入数据网格中，如下所示：

```
private List<Sal1> saleItems = new List<Sal1>();
...
var query = from sa in db.Sal1
            where sa.SaleID.Equals(tempSale)
            select sa;
foreach(Sal1 si in query) {
    saleItems.Add(si);                    
}
...
dgDetails.ItemsSource = saleItems; 
```

但结果是这样的： ![在此处输入图像描述](https://i.stack.imgur.com/lCW4u.png)

我的问题是，我应该如何调整上面的查询，以便获得与以下 SQL 等效的内容：

```
select T0.SaleID, T0.ItemID, T1.Name, T0.Quantity, T0.Total 
from Sal1 T0 inner join Item T1 on T0.ItemID = T1.ItemID; 
```

提前致谢。

* * *

编辑：我似乎找到了解决方案，但我必须这样做：

```
var query = from sa in db.Sal1
        where sa.SaleID.Equals(tempSale)
        select new  { sa.SaleID, sa.ItemID, sa.Item.Name, 
            sa.Item.Manufacturer, sa.Quantity, sa.Total }; 
```

而且我不得不将 saleItems 的类型更改为对象。

```
private List<object> saleItems = new List<object>(); 
```

这是最好的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:46:13.577

就像 SQL 一样，LINQ 也支持 JOIN。[您可以在此处](http://msdn.microsoft.com/en-us/library/vstudio/bb397908.aspx)阅读有关其语法的更多信息。您应该相应地更改查询以获得结果。我不是在灌输确切的答案，而是引导您进行更详细的解释，因为它包含有价值的信息，将来也会对您有所帮助。

# ios - 从应用商店下载之前我的应用的 ios 条款和条件

> ID：15805229
> 
> 赞同：1
> 
> 时间：2013-04-04T07:40:39.263
> 
> 标签：ios, download, app-store, conditional-statements

我看到应用商店中的一些应用程序要求用户在下载应用程序之前接受一些自定义条款和条件。

怎么能做到这一点？这是否意味着 Apple 的条款和条件不再有效？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:46:03.160

如果您使用他们的 iTunes Connect 门户创建新应用程序（您必须这样做），您可以指定自定义 EULA（最终用户许可协议）。

由于 Apple 的条款不再有效，我不这么认为，但为了进一步阅读 - 这些是您的自定义 EULA 必须满足的最低要求：

[http://www.apple.com/legal/internet-services/itunes/appstore/dev/minterms/](http://www.apple.com/legal/internet-services/itunes/appstore/dev/minterms/)

# image-processing - 需要提高嵌入式系统的Linux性能

> ID：15805231
> 
> 赞同：0
> 
> 时间：2013-04-04T07:40:57.030
> 
> 标签：image-processing, process, linux-kernel, real-time, ethernet

我有一个基于 ARM OMAP 的嵌入式系统，带有 1 GHZ 处理器，运行 Linux 2.6.33，交叉编译为 CONFIG_PREEMPT。其中一个进程（进程 1）很关键，需要每 4 或 8 毫秒运行一次，这是可配置的。还有另一个进程的（进程 2）线程将图像传输到 FTP 或任何其他配置的应用程序。为了触发时间关键过程 1，我使用高分辨率计时器作为系统中具有最高实时优先级的单独线程（FIFO，例如 60）。进程 2 的 RT 优先级 (RR 20) 低于进程 1 (RR 50)。

如果没有启用或配置图像传输，我看不到上述关键进程（进程 1）的任何超时。但是，如果我启用任何图像传输，则进程 1 将超时或图像传输由于某些错误而失败，并且其中一个进程死亡，然后其他进程运行正常。

我看到如果图像分辨率更高，那么进程 1 的超时时间会更快。使用更高分辨率的图像（比如 SXGA），NET_RX 以太网中断会长时间保持 CPU，当它放弃 CPU 时，进程 1 超时。看起来 NET_RX 中断的优先级高于用于进程 1 的定时器中断，并且它没有给 CPU。

我想确保进程运行和进程 1 都不会错过最后期限。如何调试它正在等待的系统，以便我可以删除那些等待或至少避免那些如果可能的话。

我怎样才能做到这一点？请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T11:45:16.493

Linux 不是实时操作系统。除了“尽力而为”调度之外，它不提供任何保证。

如果您有一项必须始终以特定速率运行的任务，*则*需要在可以提供此类保证的适当 RTOS 下运行该*任务*。

否则，您必须将约束放宽为“主要每 4 毫秒运行一次”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-01T03:45:36.133

您可能需要查看“ [http://www.techonline.com/electrical-engineers/education-training/tech-papers/4402454/Challenges-in-Using-Linux-for-CPU-intensive-real-time-networking-产品](http://www.techonline.com/electrical-engineers/education-training/tech-papers/4402454/Challenges-in-Using-Linux-for-CPU-intensive-real-time-networking-products)”。它描述了 PREEMPT_RT 中的网络性能

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-14T04:38:10.147

我通过修改将图像数据发送到 SCHED_NORMAL 的线程的优先级并重新安排源代码以避免不必要的循环，找到了解决此性能问题的方法。现在我看到图像传输不会影响整个系统的性能。

# xml - 需要在 XSLT 中选择具有特定属性的祖父母的兄弟姐妹的值

> ID：15805234
> 
> 赞同：0
> 
> 时间：2013-04-04T07:41:08.277
> 
> 标签：xml, xslt-1.0

使用以下 XML，我需要选择家庭地址（如果存在），如果不存在则选择工作地址。所以我试图找到从 wd:Address_Line_Data/wd:Usage/wd:Type_Data/wd:Type_Reference/@wd 的起点选择 wd:Address_Line_Data[@wd:Descriptor="Address_Line_1"] 值的语法：描述符="首页"

这是 XML：

```
 <wd:Contact_Data>
                    <wd:Address_Data>
                       <wd:Address_Line_Data  wd:Descriptor="Address Line 1">
                       <wd:Usage_Data>
                          <wd:Type_Data>
                             <wd:Type_Reference wd:Descriptor="Work">
                             </wd:Type_Reference>
                          </wd:Type_Data>
                       </wd:Usage_Data>
                    </wd:Address_Data>
                    <wd:Address_Data>
                       <wd:Usage_Data>
                          <wd:Type_Data>
                             <wd:Type_Reference wd:Descriptor="Home">
                             </wd:Type_Reference>
                          </wd:Type_Data>
                       </wd:Usage_Data>
                    </wd:Address_Data>
                 </wd:Contact_Data> 
```

我对 XSTL 很陌生，我尝试了以下三个表达式，所有这些表达式都没有任何作用。我正在使用 xml 1.0。有什么建议么？提前致谢！

```
 <xsl:value-of select="wd:Worker_Data/wd:Personal_Data/wd:Contact_Data/wd:Address_Data/wd:Usage_Data/wd:Type_Data/wd:Type_Reference[@wd:Descriptor='Home']/ancestor::wd:Address_Data/wd:Address_Line_Data[@wd:Descriptor='Address_Line_1']"/>     

<xsl:value-of select="wd:Worker_Data/wd:Personal_Data/wd:Contact_Data/wd:Address_Data/wd:Usage_Data/wd:Type_Data/wd:Type_Reference[@wd:Descriptor='Home'][ancestor::wd:Address_Data[wd:Address_Line_Data[@wd:Descriptor='Address_Line_1']]]"/>        

<xsl:value-of select="wd:Worker_Data/wd:Personal_Data/wd:Contact_Data/wd:Address_Data/wd:Usage_Data/wd:Type_Data/wd:Type_Reference[@wd:Descriptor='Home']/ancestor::wd:Usage_Data/preceding-sibling::wd:Address_Line_Data[@wd:Descriptor='Address_Line_1']"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T03:27:32.140

**`expr1`在 XPath 1.0 中，如果给定条件`$cond`是`true()`，则可以选择使用，`expr2`否则使用这个单一的 XPath 表达式**：

```
(expr1)[$cond] | (expr2)[not($cond)] 
```

这可以应用于您的案例。唯一的困难是您没有提供格式良好的 XML 文档，也没有指定确切的条件和必须在何时`$cond`或何时选择的确切（组）节点`not($cond)`

# javascript - 使用提交按钮时页面刷新

> ID：15805237
> 
> 赞同：0
> 
> 时间：2013-04-04T07:41:28.157
> 
> 标签：javascript, html, validation

我使用带有验证的 html 页面。但是当我点击输入提交按钮页面被刷新。但是如何限制刷新页面。我的示例代码是：

```
<div >

                @Html.LabelFor(m => m.1)
                @Html.TextBoxFor(m => Model.1, new { @id = "student", @class = "test" })

               <input type="submit" value="click valid" onclick="button();" />

             <div> <span style="color:Red"> @Html.ValidationMessageFor(m => m.1) </span>
             </div>

         </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:42:40.203

尝试在函数`return false;`末尾添加。`button()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:43:56.147

将此更改为

```
<input type="submit" value="click valid" onclick="button();" /> 
```

这个

```
<input type="button" value="click valid" onclick="button();" /> 
```

因为使用 input type=submit 提交表单，我们不能阻止页面刷新。但是使用 input type=button 并在您的`onclick`函数中使用 javascript 函数提交表单`form.submit`。所以如果所有验证都通过，页面将被刷新并提交

# javascript - 正则表达式 - 匹配 @function[args1|args2]

> ID：15805238
> 
> 赞同：0
> 
> 时间：2013-04-04T07:41:30.867
> 
> 标签：javascript, regex

我在匹配正则表达式中的某个模式时遇到问题

*   案例 1：@Function[]
*   案例 2：@Function[args1|args2]
*   案例 3：@Function

我想要这个结果

*   案例1：1-功能2-
*   案例 2：1-功能 2-args1|args2
*   案例3：1-功能2-

我将两个第一个模式与`\@(.?*)\[(.?*)\]`第三个匹配，但不匹配。

感谢您的时间。欧宾

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:44:02.717

```
\@([^[\]]+)(?:\[(.*?)\])? 
```

（顺便说一句，我猜你在这里写你的正则表达式时犯了一个错误，就像你写的那样`.?*`：）

**编辑：**忘记了第二个捕获组。

**Edit2：**至于前一个不起作用的原因，第一组的惰性运算符确保获得最小的匹配。所以第二部分在第一个匹配“”（什么都没有）时进行了测试，并且也成功了，因为它有一个？操作员。

# javascript - 需要有关 javascript for 循环的帮助

> ID：15805239
> 
> 赞同：0
> 
> 时间：2013-04-04T07:41:33.593
> 
> 标签：javascript

下面的代码不起作用。你能帮我找出我的错误吗：

```
<!DOCTYPE html>

<html>
<body>
<script>
for(var i = 0; i < 10; i++) 
{
    soops();
}

function soops() {
    for(i = 0; i < 10; i++) {
                alert(i);
                      }
}

</script>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:45:51.487

错误是您`i`在两个循环中使用了相同的变量，但在您的`soops`函数中您没有使用`var`关键字，即它认为这`i`是从外部获取的。使用它（假设您希望 10 个循环被触发 10 次）：

```
for(var i = 0; i < 10; i++) 
{
    soops();
}

function soops() {
    for(var i = 0; i < 10; i++) {
        alert(i);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:45:45.183

这已经足够了

```
for(var i = 0; i < 10; i++) 
{
    soops();
}

function soops() {
   alert(i);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:46:15.473

将 soops 函数更改为：

```
function soops() {
    for(var i = 0; i < 10; i++) {
        alert(i);
    }
} 
```

缺少`var`意味着变量是全局变量，这将与函数外部声明`i`的变量发生冲突。`i`

工作示例 - [http://jsfiddle.net/infernalbadger/vYK2j/](http://jsfiddle.net/infernalbadger/vYK2j/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:48:39.073

一、改变

```
<script>` 
```

到

```
<script> 
```

然后更改soops函数：

```
function soops() {
    for(var i = 0; i < 10; i++) {
        alert(i);
    }
} 
```

# javascript - JqTreeGrid 列重新排序

> ID：15805240
> 
> 赞同：0
> 
> 时间：2013-04-04T07:41:34.417
> 
> 标签：javascript, jqgrid

如何在 java 脚本中设置列重新排序。我在 trirand.net 上看到了一个演示，它显示了从服务器端重新排序的列，请参见[此处的演示](http://www.trirand.net/demoaspnetmvc.aspx)

但是我如何在 java 脚本中设置此功能。如果您从左侧检查选项卡中的功能并单击重新排序或重新调整列大小，您可以看到该功能...

非常感谢。,

扎海比

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:22:03.447

**更新：
您可以使用 jqGrid 的**属性**`sortable`来做同样的事情。将该属性
设置为网格属性的选项。`sortable``true`**

 **```
sortable: true 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:07:59.270

要用`pure JavaScript`的话，真的很脏，有点硬！但是使用`jQuery`它很容易:-)

请看一下`table sorter`。您可以通过以下代码做到这一点：

```
$(document).ready(function() { 
    $("table") 
    .tablesorter({widthFixed: true, widgets: ['zebra']}) 
    .tablesorterPager({container: $("#pager")}); 
}); 
```

有关示例，请访问此[网站](http://tablesorter.com/docs/example-pager.html)**

# ssh - net.schmizz.sshj.userauth.UserAuthException：用尽可用的身份验证方法

> ID：15805242
> 
> 赞同：6
> 
> 时间：2013-04-04T07:41:37.267
> 
> 标签：ssh, portforwarding, sshj

第一次询问stackoverflow，也使用sshj。除了 sshj 提供的示例之外，我还没有真正找到任何好的资源来帮助使用这个 API。

我一直在尝试使用 sshj 进行远程端口转发并且遇到了这个错误。

```
Exception in thread "main" net.schmizz.sshj.userauth.UserAuthException: Exhausted available authentication methods 
```

我用虚拟机测试了身份验证，但没有使用公钥。我将使用它连接到我知道登录名的 EC2 实例。

```
public void startRemotePortForwardingConnection(LocalPortForwarder.Parameters parameters) throws IOException{
    sshClient.connect(parameters.getLocalHost());
    this.connectionStatus = CONNECTED;
    System.out.print("Connected to localhost" + NEWLINE);

    try {
        sshClient.authPassword(this.username, this.password);
        System.out.print("Authorized with as user " + username + " with password " + password + NEWLINE);

        // the local port we should be listening on
        RemotePortForwarder.Forward localPortToListenOn = new RemotePortForwarder.Forward(parameters.getLocalPort());
        System.out.print("localPortToListenOn initialized" + NEWLINE);

        // where we should forward the packets
        InetSocketAddress socketAddress = new InetSocketAddress(parameters.getRemoteHost(), parameters.getRemotePort());
        SocketForwardingConnectListener remotePortToForwardTo = new SocketForwardingConnectListener(socketAddress);
        System.out.print("remotePortToForwardTo initialized" + NEWLINE);

        //bind the forwarder to the correct ports
        sshClient.getRemotePortForwarder().bind(localPortToListenOn, remotePortToForwardTo);
        System.out.print("ports bound together" + NEWLINE);

        sshClient.getTransport().setHeartbeatInterval(30);
        sshClient.getTransport().join();
    }
    finally {
        sshClient.disconnect();
    }
} 
```

可能不是最好的（甚至是正确的）方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T19:57:12.827

我为类似的先前问题写了一个示例，您可以直接在将连接到 EC2 实例的 groovyconsole 中运行：[https ://stackoverflow.com/a/15800383/311525](https://stackoverflow.com/a/15800383/311525)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-12-22T11:38:32.030

尝试使用**`client.addHostKeyVerifier(new PromiscuousVerifier());`**. 我发送了两个配置，第一个是公钥，第二个是用户名/密码。

```
private static SSHClient setupSshj(String remoteHost, String username, String password) throws Exception {
    SSHClient client = new SSHClient();
    client.addHostKeyVerifier(new PromiscuousVerifier());
    client.connect(remoteHost);
    client.authPassword(username, password);
    return client;
}

private static SSHClient setupSshWithPublicKey(String remoteHost, int port, String username, String publicKey) throws Exception {
    SSHClient client = new SSHClient();
    client.addHostKeyVerifier(new PromiscuousVerifier());
    client.connect(remoteHost, port);
    client.authPublickey(username, publicKey);
    return client;
} 
```

# c# - 使用 DATE 参数执行 Oracle 存储过程的 EF 会丢失小时/分钟

> ID：15805252
> 
> 赞同：0
> 
> 时间：2013-04-04T07:42:14.357
> 
> 标签：c#, oracle, entity-framework

我有一个使用 DATE 作为输入的简单存储过程：

```
CREATE OR REPLACE PROCEDURE delete_time(myTime DATE) IS
BEGIN
DELETE FROM mytable WHERE time = myTime;
END;
/ 
```

这已使用函数导入添加到我的 EDMX 中，映射的类型是 SSDL 端的 Date 和 CSDL 端的 DateTime。

问题是当我使用 DateTime 从 .NET 运行该过程时，小时和分钟会在途中丢失：

```
DateTime dt = new DateTime(2013, 4, 3, 12, 15, 00);
var timeParam = new ObjectParameter("myTime", dt) : 
return ((IObjectContextAdapter)this).ObjectContext.ExecuteFunction("DeleteTime", timeParam); 
```

这会运行存储过程，但会删除 TIME = 03-APR-2013 00:00:00 而不是 03-APR-2013 12:15:00 的行

Oracle 客户端中是否存在一些错误（我使用的是 11.2.0.3.20）？或者我在上面做错了什么？

我也尝试使用 TIMESTAMP 作为我的过程的输入类型，但是在调用函数时出现此错误： ORA-01830: date format picture ends before conversion整个输入字符串

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-06-08T20:49:03.700

我在尝试使用实体框架执行 Oracle 过程时遇到了这个问题。所以我确实喜欢这样传递一个 Date 参数：

```
var objects = _dbContext.Database.SqlQuery<MyObject>("BEGIN My_procedure(to_date('01/01/2016', 'dd/mm/yyyy  hh24:mi:ss')); END;").ToList(); 
```

# javascript - 寻找多个单词js Jquery

> ID：15805253
> 
> 赞同：0
> 
> 时间：2013-04-04T07:42:15.147
> 
> 标签：javascript, jquery, words

我正在尝试编写一个简单的 if 语句来查看一个单词是否与其他单词匹配。当我只使用一个单词而不是像下面这样的多个单词时，我可以让它工作。当我使用`if (||)`. 我想使用“包含”，但看不到如何将其与 var 一起使用

另外： ("Woven || Main") 是一个变量，所以我需要这部分保持在一起。

var option="编织 || 主要";

这不起作用：

```
var titleIs = "Knit";

if (titleIs.match("Woven || Main")) {

    alert("Main")

} 
```

这有效：

```
var titleIs = "Knit";

if (titleIs.match("Woven")) {

    alert("Main")

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:45:29.590

```
var titleIs = "Knit";
      if(titleIs.match("Woven") || titleIs.match("Main")){
      alert("Main")
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:45:42.997

而不是使用 || 在字符串之间使用 || 在比赛电话之间。

```
var titleIs = "Knit";
if(titleIs.match("Woven") || titleIs.match("Main")){
   alert("Main")
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:47:16.757

```
var words = ['Woven', 'Main'];
var regex = new RegExp('^(' + words.join('|') + ')$');

if (regex.test(titleIs)) {...} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:59:46.143

您可以使用单词数组并`Array.prototype.indexOf`检查数组是否包含您的标题。

```
var words = ["Woven", "Main"];
var titleIs = "Knit";

function contains(arr, str) {
    return !!~arr.indexOf(str)
}
console.log(contains(words, titleIs)); //false 
```

*笔记：*

> Array.prototype.reduce 是 ECMAScript 5 的补充；因此，它可能不会出现在该标准的其他实现中。

*要支持旧版浏览器，您可以使用MDN 提供的[shim](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/Reduce)*

[这是一个关于JSBin](http://jsbin.com/ifimab/1/edit)的例子

> ID：15805256
> 
> 赞同：
> 
> 时间：
> 
> 标签：

None

# r - R data.frame，如何更改仅针对特定列的条件匹配的值？

> ID：15805258
> 
> 赞同：1
> 
> 时间：2013-04-04T07:42:29.347
> 
> 标签：r, dataframe

我想更改与条件匹配的 data.frame 中的值，但我想指定条件仅适用于某些列。我知道：

*   df = Dataframe: df[df < 0] = 0。这适用于所有列中的所有元素，因此，这不能解决我的问题
*   作为 df = Dataframe 和 Col：一个数据框的列：df$Col[df$Col < 0] = 0。这适用于 1 列中的所有元素，因此，这也不能解决我的问题。

中间的哪个解决方案允许我过滤我定义的那些指定列的所有元素？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:10:37.110

假设特定列可用作索引：

```
cols <- 1:750
df[,cols][df[,cols] < 0] = 0 
```

如果您需要排除某些列，请使用负索引，例如：

```
cols <- c(-3,-4) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-02T18:09:19.663

要排除某些列，您甚至可以使用负索引

列 <- -c(3,4)

# installation - JDK 规范错误

> ID：15805260
> 
> 赞同：0
> 
> 时间：2013-04-04T07:42:38.490
> 
> 标签：installation, weblogic

我正在尝试在 RedHat Linux 5 上安装 WebLogic Server，并通过 RPM 安装了 JDK 1.6 32bit。当我尝试安装 weblogic 时，它会引发以下错误：

“此安装所需的 jdk 是 1.6.0 版。您当前运行的 jdk 是 1.4.2 版”。

即使我检查 java -version 它仍然显示为 JDK 1.4 版本，不确定是什么问题。谁可以帮我这个事。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T16:16:57.353

如果你这样做：

```
which java 
```

它指向什么路径？我的猜测是/usr/bin/java。您需要设置路径以包含新的 java 安装，例如：

```
export JAVA_HOME=/usr/java/<your version of java>
export PATH=${JAVA_HOME}/bin:${PATH} 
```

# ios - UICollectionView 自定义流布局

> ID：15805267
> 
> 赞同：0
> 
> 时间：2013-04-04T07:42:53.913
> 
> 标签：ios, ios6, uicollectionview, uicollectionviewlayout

我在我的项目中使用 UICollectionView 自定义流布局。当我们将 UICollectionViewFlowLayout 设置为我们的自定义集合视图布局时，iOS 默认认为滚动方向是垂直的，当我们将单元格大小增加到超过一定限制时，它会自行在左侧的单元格中放置一个插图（这可以' t 重置为零）。现在，通过代码我将滚动方向设置为水平。当我运行应用程序时，左插图位于顶部。如果有人复制我的问题并找到合适的解决方案，我将不胜感激。

# linux - 在 netbeans 中下载玻璃鱼时出错

> ID：15805270
> 
> 赞同：0
> 
> 时间：2013-04-04T07:42:58.213
> 
> 标签：linux, rest, netbeans

我已经下载了 netbeans IDE 7.0.1 并尝试创建一个安静的服务，但无法下载玻璃鱼服务器，出现错误“url 格式错误：null”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-26T08:01:31.423

查看链接，您只需下载您的发行版。

[https://glassfish.java.net/downloads/3.1.2.2-final.html](https://glassfish.java.net/downloads/3.1.2.2-final.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T17:58:50.627

[https://netbeans.org/bugzilla/show_bug.cgi?id=228259](https://netbeans.org/bugzilla/show_bug.cgi?id=228259)

认为这与最近的服务器迁移有关，我们正在调查。同时，只需下载完整版或 java ee 发行版，它包括 GF。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-22T12:56:44.290

您应该安装 Netbeans **Java EE**而不是 Java SE。因为**Java EE 包含 Glass fish**。添加服务器时，只需输入 Glassfish 安装位置，NetBeans 就会显示“检测到 GlassFish Server 3.1.2 安装。单击下一步以注册远程或自定义本地域。” （这是我的情况）。希望这有帮助。

# dynamics-crm-2011 - 如何在插件上创建或获取 OrganizationServiceProxy 实例

> ID：15805284
> 
> 赞同：0
> 
> 时间：2013-04-04T07:43:45.507
> 
> 标签：dynamics-crm-2011, dynamics-crm, microsoft-dynamics

有没有办法在插件上创建一个 OrganizationServiceProxy 实例？
我想执行 EnableProxyTypes 方法，传递一个不同于插件程序集的程序集作为 EnableProxyTypes 方法的参数。
因为我想拥有一个具有早期绑定类并由一些插件和程序共享的程序集文件。

```
 public void Execute(IServiceProvider serviceProvider)
    {
        var context = (IPluginExecutionContext) serviceProvider.GetService(typeof    (IPluginExecutionContext));
        var factory = (IOrganizationServiceFactory) serviceProvider.GetService(typeof (IOrganizationServiceFactory));
        var service = factory.CreateOrganizationService(context.UserId);

        var proxy = (OrganizationServiceProxy)service; //this doesn't work. an error occurs.
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T22:39:34.467

我建议阅读这篇文章：

[演练：使用开发人员扩展构建连接到 Microsoft Dynamics CRM 的插件](http://msdn.microsoft.com/en-gb/library/gg695782.aspx)

特别是以下片段。

```
IOrganizationServiceFactory serviceFactory = (IOrganizationServiceFactory)serviceProvider.GetService(typeof(IOrganizationServiceFactory));
IOrganizationService service = serviceFactory.CreateOrganizationService(context.UserId);

...

using (var crm = new XrmServiceContext(service)) 
```

# javascript - 单击iFrame内的按钮时如何关闭jQuery对话框？

> ID：15805285
> 
> 赞同：2
> 
> 时间：2013-04-04T07:43:46.630
> 
> 标签：javascript, jquery, iframe, dialog

我有一个 jQuery 对话框，打开时将 iFrame 添加到对话框中。如何在单击按钮（iFrame 的 HTML 中存在的按钮）时***关闭此对话框。***

我尝试使用 iFrame 获取内容，`contents()`但我得到的是`[object object]`

很多人已经提到我们不能访问跨域的内容，这里根本不涉及其他域。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-20T07:04:31.257

```
window.parent.$("#dialogDiv").dialog('close'); 
```

这样就解决问题了。。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:50:47.527

这里有两种方法。

从 iframe 本身内部：

```
$('button#closeDialog').click(function(e){
    e.preventDefault();
    $('#dialog', top.document).dialog('close');
} 
```

从您的基本页面内部：

```
$('iframe').contents().find('button#closeDialog').click(function(e){
    e.preventDefault();
    $('#dialog).dialog('close');
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:49:15.613

试试这个

```
$("#yourIframeId").contents().find("#buttonId").click(function(){
    $("#dialogId" ).dialog( "close" );
}); 
```

或 on 代表

```
$(document).on('click',"#buttonId",function(){
    $("#dialogId" ).dialog( "close" );
}); 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2014-05-11T17:19:39.423

这是一个简单且经过测试的解决方案：

```
window.parent.jQuery('#popId').hide(); 
```

# html - 表格列固定宽度

> ID：15805286
> 
> 赞同：3
> 
> 时间：2013-04-04T07:43:49.993
> 
> 标签：html, css, jsfiddle

我在为表格列设置固定宽度时遇到问题。看看 jsfiddle 示例：

[http://jsfiddle.net/Stylock/jJ6DK/](http://jsfiddle.net/Stylock/jJ6DK/)

中间列应该是`300px`宽的，左列应该是`80px`宽的，但由于某种原因，所有三列的宽度都相同。任何人都知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:49:54.753

删除表格的这种 css 样式，它应该可以工作：

```
table-layout: fixed; 
```

演示：http: [//jsfiddle.net/jJ6DK/6/](http://jsfiddle.net/jJ6DK/6/)

当您`table-layout: fixed`为您设置表格时，它将采用以下算法：

*   水平布局只取决于表格的宽度和列的宽度，而不是单元格的内容
*   允许浏览器比自动表格布局更快地布置表格
*   一旦收到第一行，浏览器就可以开始显示表格

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T07:48:02.280

`table-layout: fixed`从中删除`table`：

```
table {
    border: 1px solid #D7E4B9;
    background: #B4CDCD; 
} 
```

固定代码：http: [//jsfiddle.net/jJ6DK/2/](http://jsfiddle.net/jJ6DK/2/)

# javascript - 添加默认谷歌地图工具提示

> ID：15805287
> 
> 赞同：0
> 
> 时间：2013-04-04T07:43:50.160
> 
> 标签：javascript, google-maps, tooltip

是否可以添加默认的 Google 地图工具提示，如下所示：

[http://img716.imageshack.us/img716/5502/tooltipr.jpg](http://img716.imageshack.us/img716/5502/tooltipr.jpg)

在我自己的页面上映射？

我不想（也不需要）制作自定义工具提示。

我正在使用 Google Maps Javascript API 3。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:46:33.630

是的，有可能，

Google Maps 具有 InfoWindow 功能，允许在地图上显示类似的工具提示。

在这里查看更多信息[窗口](https://developers.google.com/maps/documentation/javascript/overlays#InfoWindows)

# yii - 在 Yii 中中和 HTTP 标头

> ID：15805293
> 
> 赞同：0
> 
> 时间：2013-04-04T07:44:00.570
> 
> 标签：yii

我是 Yii 的新手，我想知道如何中和每个请求的 HTTP 标头以不允许意外字符避免注入恶意代码。

提前致谢！

# ruby - 找不到 OpenSSL::SSL::VERIFY_NONE 或 OpenSSL::SSL::VERIFY_PEER

> ID：15805295
> 
> 赞同：0
> 
> 时间：2013-04-04T07:44:03.460
> 
> 标签：ruby, ssl, rvm, jruby, net-http

我在系统上安装了 jruby 1.9，并且 OpenSSL::SSL::VERIFY_NONE 可以正常工作。

我正在尝试在使用 rvm - ruby​​1.9.3 ， ruby​​ 1.8.7 的 Mac 上使用相同的代码，并且似乎它不再工作了

我得到错误：

```
undefined method `use_ssl=' for #<Net::HTTP 
```

有什么建议么 ？

# c# - 如何在另一个类中获取当前控制器实例？

> ID：15805296
> 
> 赞同：3
> 
> 时间：2013-04-04T07:44:04.920
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, controller

在我的项目中，我在这样的类中管理异常

```
 public class PortalBusinessExceptionManager
    :IBusinessExceptionManager
{
    public void HandleBusinessException(BusinessExceptionDto exceptionDto)
    {
        //TODO
    }
} 
```

我的项目中有一个`BaseController`所有控制器都继承自它

```
public class BaseController : Controller
{
    public void SetNotification(string message, ExceptionType type)
    {
       //TO DO
    }
} 
```

所以我想在`HandleBusinessException`方法中如何从当前控制器获取实例并`SetNotification`为其调用

```
 public void HandleBusinessException(BusinessExceptionDto exceptionDto)
{
    var controller=....???
     controller.SetNotification(); 
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T08:16:38.137

从这个[问题](https://stackoverflow.com/questions/7865598/asp-net-mvc-3-get-the-current-controller-instance-not-just-name)的答案中，您可以创建自己的`ControllerFactory`并将控制器实例放入会话中以供以后检索。

```
public class MyControllerFactory : DefaultControllerFactory
{
    public override IController CreateController(RequestContext requestContext, string controllerName)
    {
        var controller = base.CreateController(requestContext, controllerName);
        HttpContext.Current.Session["controllerInstance"] = controller;
        return controller;
    }
} 
```

然后在您的 Apllication_Start 中注册它：

```
ControllerBuilder.Current.SetControllerFactory(new MyControllerFactory()); 
```

您可以在异常处理方法中调用该实例。

```
public void HandleBusinessException(BusinessExceptionDto exceptionDto)
{
     var controller= HttpContext.Current.Session["controllerInstance"] as BaseController;
     if(controller != null) 
     {
         controller.SetNotification(); 
     }
} 
```

请注意，这是一个非常老套的解决方案（例如，会话可能会过期并且您的方法不会被调用），您最好`OnException`在您的方法中覆盖并在那里`BaseController`调用`SetNotification`

```
public class BaseController : Controller
{
    public void SetNotification(string message, ExceptionType type)
    {
       //TO DO
    }

    protected override void OnException(ExceptionContext filterContext)
    {
        SetNotification(filterContext.Exception.Message, yourExceptionType);
        base.OnException(filterContext);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-01-25T00:52:01.947

最好放入 de HttpContext.Items insted Session

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-12T09:34:16.947

不确定它是否能解决您的问题，但它可能会有所帮助：

```
// get current controller instance
var controller = DependencyResolver.Current.GetService<MyController>();
// pass current request context
controller.ControllerContext = new ControllerContext(Request.RequestContext, controller); 
// call method
controller.MethodName(); 
```

# encoding - 树莓派：MJPEG 编码

> ID：15805298
> 
> 赞同：1
> 
> 时间：2013-04-04T07:44:11.197
> 
> 标签：encoding, raspberry-pi, transcoding, raspbian, openmax

我想在 Pi 上将视频从 H264 转码为 MJPEG。

从原理上讲，有一个过程在管道中注入 H264 原始流，并从另一个管道中取出（实时）用 MJPEG 编码的相同流。目前，接收H264并输出MJPEG的黑匣子是一个简单的转码程序，由FFMPEG制作。这种方法在现代工作站中运行良好，但它对 Raspberry Pi 的 CPU 负担过重。

我知道 Pi 支持使用 OpenMax 进行硬件 H264 解码，并且不支持开箱即用的 MJPEG 编码。

有没有办法（随意复杂）进行 MJPEG 硬件编码？

是否有关于如何使用 openMax 进行这种转码的示例？

（我知道[这个项目](https://github.com/dickontoo/omxtx)的存在，但它不满足问题1）

# iphone - 在运行时动态添加 uitextfields

> ID：15805300
> 
> 赞同：-3
> 
> 时间：2013-04-04T07:44:20.793
> 
> 标签：iphone, ios, ipad, ios5, ios6

我想在我的应用场景中动态生成文本字段是我有一个文本字段和一个按钮，如果在文本字段中输入数字 2 并按下按钮，那么必须在视图控制器上生成 2 个文本字段

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:52:07.347

您可以使用此代码实现此目的；

```
int num=yournum;
for (int i = 1; i <= num; i++) {

    UITextField *textField = [[UITextField alloc] initWithFrame:CGRectMake(...)];
    textField.tag = i;
    ...
    [self.view addSubview:textField];
} 
```

之后要访问正确的文本字段，您需要调用 `[self.view viewWithTag:tag]`.

# java - 使用 FileUtils.copyFile 复制文件

> ID：15805303
> 
> 赞同：5
> 
> 时间：2013-04-04T07:44:26.647
> 
> 标签：java, file, exception, copy

我正在尝试使用文件实用程序复制文件方法复制文件。我遇到了一些有时会抛出异常的问题

`java.io.IOException: Failed to copy full contents from 'path.xml' to localfile.xml`

我已经用谷歌搜索并在代码中看到当目标文件长度与目标文件长度不同时会引发此异常，该异常仅发生几次 - 这可能是由于我尝试复制的文件是一致的更新，所以我可能会在更新中抓住它（只是一个值变化的 xml 文件）

如果我将呼叫包装在 a 中`if(target.canRead())`，但这似乎没什么区别。

任何人都可以帮忙吗？

**更新：* *我无法锁定文件，因为它是通过第三方供应商写入的，这会导致各种问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:51:03.167

我不确定该架构是如何在您的项目中实现的，但您应该在文件上有一个锁定机制。

当有人正在写入文件时，它应该锁定它。而且你不应该在它被写入时复制它，即它被锁定。

```
FileInputStream in = new FileInputStream(file);
try {
    java.nio.channels.FileLock lock = in.getChannel().lock();
    try {
        Reader reader = new InputStreamReader(in, charset);
        ...
    } finally {
        lock.release();
    }
} finally {
    in.close();
} 
```

请参阅[此处](https://stackoverflow.com/questions/128038/how-can-i-lock-a-file-using-java-if-possible)有关如何在 java 中锁定文件的问题。

**更新**

然后，您别无选择，只能自己实现复制方法或使用没有类似检查的库。

可以看[FileUtils的代码](http://javasourcecode.org/html/open-source/commons-io/commons-io-2.0/org/apache/commons/io/FileUtils.java.html)

如果在复制过程中文件更改，它将给出错误。

```
 if (srcFile.length() != destFile.length()) {
            throw new IOException("Failed to copy full contents from '" +
                    srcFile + "' to '" + destFile + "'");
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-11T12:45:01.390

我使用 Java 7 中的文件解决了同样的问题（大文件）：

```
File srcFile = ...
File destFile = ...
File directory = ...
if (!Files.exists(directory.toPath())) {
    // use forceMkdir to create parent directory
    FileUtils.forceMkdir(directory);
}
Files.copy(srcFile.toPath(), new FileOutputStream(destFile)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:50:28.987

正如您所说，文件可能会在您的复制过程中更新，因此您应该需要对要复制的文件进行文件锁定。

我建议阅读[这个问题](https://stackoverflow.com/questions/4025721/java-file-locking)以获取有关如何使用`FileLock`.

# postgresql - PostgreSQL 9.2 ??? 符号

> ID：15805304
> 
> 赞同：0
> 
> 时间：2013-04-04T07:44:30.227
> 
> 标签：postgresql, postgresql-9.2, psql

我已经在 Ubuntu 12.04 上安装了 pg 9.2

```
$ psql
psql: ?????:  ???? "varan" ?? ?????????? 
```

如何配置它以输出正确的符号？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T10:37:10.810

您很可能正在使用一些非英语语言环境。

检查您的环境变量`LANG`和`LC_*`环境变量设置为什么（`locale`命令可以向您显示）。

如果您只想在终端中使用英语，您可以使用为当前会话设置英语语言环境

```
export LANG=en_US.UTF-8 
```

如果你想让它永久化，覆盖语言环境的一种简单方法是在你的`~/.bashrc`.

如果您想使用非英语语言环境而不是 touch `.bashrc`，您可能需要修复您的终端或`ssh`客户端。对于`putty`，典型的良好设置是使用`UTF-8`编码。

# exception-handling - Spring Integration：在入站网关上监听异常

> ID：15805307
> 
> 赞同：0
> 
> 时间：2013-04-04T07:44:35.547
> 
> 标签：exception-handling, integration, spring-integration, channel

我是 Spring 集成的新手，所以我可能会滥用术语。我有一个 ws:inbound-gateway 监听肥皂网络服务请求。

```
<int-ws:inbound-gateway id="myInGW"
                        request-channel="headersMapPopulationChannel"
                        reply-channel="ws-response-channel"
                        marshaller="marshaller"
                        unmarshaller="marshaller"/> 
```

它将传入请求发送到 headersMapPopulationChannel，并将消息发送到适配器（用于从 JAXB 类转换为域），然后拆分器将其拆分为验证、日志记录和持久性。坚持不懈后，我正在根据请求运行与业务相关的事情。我想对所有这些都有异常控制点，这样我就可以管理在异常情况下该怎么做。我故意在业务类中放了一个 throw 异常语句。抛出异常，但我的频道似乎没有得到它。配置：

```
<int-ws:inbound-gateway id="myInGW"
                        request-channel="headersMapPopulationChannel"
                        reply-channel="ws-response-channel"
                        error-channel="ws-error-channel"
                        marshaller="marshaller"
                        unmarshaller="marshaller"/>

<int:channel id="ws-error-channel"/>

<int:service-activator input-channel="ws-error-channel"
                       expression="@exceptionHandlerService.handleThrowable(payload)"/>
<bean id="exceptionHandlerService" class="pack.integration.service.ExceptionHandlerService"/> 
```

另外我不知道在我最外面的频道中控制异常是否正确。我应该在转发消息的任何地方收听异常吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T12:46:04.490

这是处理异常的正确方法。

异常将被包装在 a 中并作为 a 的有效负载`MessagingException`发送到。有两个属性（原始异常）和（导致异常的消息）。`error-channel``ErrorMessage``MessagingException``cause``failedMessage`

如果要向客户端返回 SOAP 错误，错误通道流必须抛出异常。

如果您没有`ErrorMessage`在频道上看到 ，则肯定有其他东西正在捕获异常。

我建议您打开调试日志并通过系统跟踪消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T16:36:03.270

我还使用分段网关将所有异常重定向到另一个消息流，并从那里决定如何处理它们。

# jquery - 居中两个单独的列

> ID：15805309
> 
> 赞同：0
> 
> 时间：2013-04-04T07:44:38.153
> 
> 标签：jquery, css, jquery-masonry, multiple-columns

我有两列，一列是 jquery 砌体网格（动态），一列是单独的推文列。

我希望两列在浏览器调整大小时保持居中。随着浏览器的增长/缩小，我可以让砌体网格保持居中，但是，我的推文列保持在左侧，固定。我宁愿推文栏在砖石网格旁边移动。

我怎样才能让两者都保持居中？

```
<div id='homepagecontainer' style="float:right; width:100%; margin-left:-280px;">

<div id="tweetaside" style="float:left; margin-left:10px;margin-top:-10px;width:260px;">
  <div style="width:250px;">
     Long list of Tweets!!
  </div>
</div>

<div id="masonrygrid" style="margin-left:280px;">
  <div id="homepagescroll" style="margin: 0 auto;">
      <center>
         Masonry Grid Data
      </center>  
    </div>
  </div>
</div>

</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T19:17:55.547

我有类似的设置；这是基础知识。它可能会使用一些清理，因为我基于模板（目前我似乎找不到，抱歉！）请注意，我在侧边栏没有一直向下延伸时遇到了一些困难；我能够解决这个问题，因为它在我的页面上处于固定位置，但如果您希望侧边栏滚动，这可能是一个问题。这个例子的侧边栏在右边，砌体在左边，但它可以去任何一种方式。如果您确实在右侧有侧边栏，您可能希望通过在“itemSelector：'.post'”之后添加“isRTL：true”来更改您的砌体以向右折叠。

HTML：

```
<center>
<div class="main">
    <div id="fixed-left"></div>
    <div id="fixed-sidebar"> Your tweets </div>
    <div id="fixed-right"></div>
    <div id="fluid">
        <div id="posts"> Masonry grid </div>
    </div>
</div>
</center> 
```

CSS：

```
.main {
    position: relative;
    display: block;
    width: 96%;
    text-align: left;
    margin: 0 auto;
}

#fixed-left {   /*-- this div is probably unnecessary, I just keep it in case I want to add a column --*/
    float: left;
    display: inline;
    width: 0;
}

#fixed-sidebar {
    float: right;   /*-- float: left if you want your sidebar to the left --*/
    display: inline;
    height: 100%;
    width: 250px;
}

#fixed-right {  /*-- this div is probably unnecessary, I just keep it in case I want to add a column --*/
    float: right;
    display: inline;
    width: 0;
}

#fluid {
    float: none;
    height: 100%;
    width: auto;
    margin-right: 250px;    /*-- same value as fixed-sidebar width; use margin-left if you want your sidebar to the left --*/
} 
```

希望这对你有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:15:01.520

**更新**

改编在另一篇文章中找到的答案：

[http://jsfiddle.net/jZEvL/](http://jsfiddle.net/jZEvL/)

**HTML**

```
<div id="hideoverflow">
    <div id="wrapper">
        <div id="inner">
           <div id="left">
               <p>Blah blah blah</p>
           </div>
           <div id="right">
               <p>Blah blah blah blah blah blah blah</p>
           </div>
        </div>
    </div>
</div> 
```

**CSS**

```
#outer 
{ 
    overflow: hidden; 
}

#wrapper
{
    position:relative; 
    left:50%; 
    float:left;
}

#inner
{
    position:relative; 
    left:-50%; 
    float:left;
}

#left,
#right
{
    display:inline-table;
    height:200px;
}

#left
{
    margin-right:10px;     
    background-color:red;
}

#right
{
    margin:0;     
    background-color:blue;
} 
```

我希望这次它符合您的要求。:)

# javascript - 循环中的单击函数未发送所有变量

> ID：15805317
> 
> 赞同：0
> 
> 时间：2013-04-04T07:45:03.677
> 
> 标签：javascript, kendo-ui

在过去的 2 天里，我花了很多时间试图找到解决这个问题的方法，但我的经验不足阻碍了我。

我正在开发一个图像地图资源。用户打开一个包含动态 url 的模式窗口。正如您从我的代码中看到的那样，我已经测试了一个警报，它会抛出不同的 id（正确的结果），但同样不适用于 url 窗口。我只得到一个 url 变量，而不是警报弹出窗口中的 2 个。

我敢肯定这是一个结构性的事情，但任何指针都会受到赞赏。

```
function tree(tree_id, mappos) {
    this.tree_id = tree_id;
    this.mappos = mappos;
}

var mytreelist = [];
mytreelist[0] = new tree(18, "708,290,736,319"),
mytreelist[1] = new tree(272, "134,143,163,172");

for (i = 0; i < mytreelist.length; i++) {

    document.write("<div id = \"" + mytreelist[i].tree_id + "\" > <area class = \"maplink\"     
    shape= \"rect\" coords=\"" + mytreelist[i].mappos + "\" data-role=\"button\" href=\"#\" 
    id=\"" + mytreelist[i].tree_id + "\"/></div>");

    treeid = this.mytreelist[i].tree_id;

    $("#" + treeid).click(function() {
        var win = $("#window").data("kendoWindow");
        thing = this.id;
        alert("tree number " + thing);
        win.center();
        win.open();
    });
 }
    $(document).ready(function() {
        $("#window").kendoWindow({
            height: "400px",
            draggable: false,
            resizable: false,
            title: "Centered Window",
            modal: true,
            visible: false,
            width: "600px",
            content: "check.php?tree_id=" + treeid,
            title: "Async Window Content"
        });
    }); 
```

好的。试图在这里简化想法并使用封闭功能。我仍然有同样的问题。我可以访问数组元素 id 但不能访问它的值。

```
var mytreelist = ['elm', 'oak', 'pine'];

function create() {
    for (var i = 0; i < mytreelist.length; i++) {
    mytreelist[i] = function(tree) {
    var newtree = this.mytreelist.value; //this is not correct?
    return function() {

    alert("tree = " + newtree);

      };
  }(i);
 }
}

function run() {
  for (var i = 0; i < 5; i++) {
  mytreelist[i]();
  }
}

create();
run(); 
```

# jquery - Timeago jQuery 插件的阿拉伯语支持

> ID：15805321
> 
> 赞同：3
> 
> 时间：2013-04-04T07:45:18.463
> 
> 标签：jquery, jquery-plugins, arabic, multilingual, timeago

我们将构建多语言 Web 应用程序，并考虑使用**[Yarp 的 Timeago jQuery 插件。](http://timeago.yarp.com/)**

但我们希望在我们的应用程序中支持阿拉伯语。正如您可能知道的那样，阿拉伯语有不同的方式来处理**单数、复数和*“双”***

例如

*   1 分钟 => دقيقة**单数**
*   2 分钟 => دقيقتين**双**
*   3-10 分钟 => 3 دقائق**复数**
*   超过 10 分钟 => 11 دقيقة**单数**

**那么有没有办法在不影响英语的情况下支持阿拉伯语呢？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T18:46:21.067

我最终得到了库的更新版本，这里是新的 js 代码：

```
strings: {
    prefixAgo: null,
    prefixFromNow: null,
    suffixAgo: "ago",
    suffixFromNow: "from now",
    seconds: "less than a minute",
    minute: "about a minute",
    twominute: "%d minutes",
    lessthanorequaltwominutes: "%d minutes",
    lessthanorequaltenminutes: "%d minutes",
    minutes: "%d minutes",
    hour: "about an hour",
    twohour: "about %d hours",
    lessthanorequaltwohours: "about %d hours",
    lessthanorequaltenhours: "about %d hours",
    hours: "about %d hours",
    day: "a day",
    twoday: "%d days",
    lessthanorequaltwodays: "%d days",
    lessthanorequaltendays: "%d days",
    days: "%d days",
    month: "about a month",
    twomonth: "%d months",
    lessthanorequaltwomonths: "%d months",
    lessthanorequaltenmonths: "%d months",
    months: "%d months",
    year: "about a year",
    twoyear: "%d years",
    lessthanorequaltwoyears: "%d years",
    lessthanorequaltenyears: "%d years",
    years: "%d years",
    wordSeparator: " ",
    numbers: []
} 
```

还有一个地方需要更新到：

```
var words = seconds < 45 && substitute($l.seconds, Math.round(seconds)) ||
    seconds < 90 && substitute($l.minute, 1) ||
    seconds > 90 && seconds < 120 && substitute($l.lessthanorequaltwominutes, 1) ||
    minutes >= 2 && minutes < 3 && substitute($l.twominute, 2) ||
    minutes < 11 && substitute($l.lessthanorequaltenminutes, Math.round(minutes)) ||
    minutes < 45 && substitute($l.minutes, Math.round(minutes)) ||
    minutes < 90 && substitute($l.hour, 1) ||
    minutes < 121 && minutes > 90 && substitute($l.lessthanorequaltwohours, 2) ||
    hours >= 2 && hours < 3 && substitute($l.twohour, 2) ||
    hours < 11 && substitute($l.lessthanorequaltenhours, Math.round(hours)) ||
    hours < 24 && substitute($l.hours, Math.round(hours)) ||
    hours < 42 && substitute($l.day, 1) ||
    hours < 48 && hours > 42 && substitute($l.lessthanorequaltwodays, 2) ||
    days >= 2 && days < 3 && substitute($l.twoday, 2) ||
    days < 11 && substitute($l.lessthanorequaltendays, Math.round(days)) ||
    days < 30 && substitute($l.days, Math.round(days)) ||
    days < 45 && substitute($l.month, 1) ||
    days > 59 && days < 63 && substitute($l.twomonth, 2) ||
    days < 75 && days > 45 && substitute($l.lessthanorequaltwomonths, 2) ||
    days < 310 && substitute($l.lessthanorequaltenmonths, Math.round(days / 30)) ||
    days < 365 && substitute($l.months, Math.round(days / 30)) ||
    days > 365 && days < 485 && substitute($l.year, 1) ||
    days > 485 && years < 2 && substitute($l.lessthanorequaltwoyears, 2) ||
    years >= 2 && years < 3 && substitute($l.twoyear, 2) ||
    years < 11 && substitute($l.lessthanorequaltenyears, Math.round(years)) ||
    years < 1.5 && substitute($l.year, 1) ||
    substitute($l.years, Math.round(years)); 
```

# iphone - didReceiveMemoryWarning 时如何使用情节提要卸载视图并重新创建它

> ID：15805329
> 
> 赞同：0
> 
> 时间：2013-04-04T07:45:39.063
> 
> 标签：iphone, ios, objective-c, storyboard

我使用本教程[http://www.wannabegeek.com/?p=168](http://www.wannabegeek.com/?p=168)在不同的视图控制器（在我的故事板上）之间滑动。现在我想在`didReceiveMemoryWarning`收到 a 时从视图控制器中卸载视图。我试过这个：

```
- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
    self.view = nil;
} 
```

当我收到内存警告时，视图显示为黑色。如何从情节提要中恢复视图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:06:04.047

请注意，您不必释放视图*以*响应内存警告。iOS 6 自动释放幕后视图使用的大部分资源。

如果您选择释放视图，那么只有当它 当前在屏幕上*不可见时才应该这样做：*

```
- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Add code to clean up any of your own resources that are no longer necessary.

    // If view is currently loaded, but not visible:
    if ([self isViewLoaded] && [self.view window] == nil)
    {
        // Add code to preserve data stored in the views that might be
        // needed later.

        // Add code to clean up other strong references to the view in
        // the view hierarchy.

        // Unload the view:
        self.view = nil;
    }
} 
```

（来自[iOS 视图控制器编程指南的](https://developer.apple.com/library/prerelease/ios/#featuredarticles/ViewControllerPGforiPhoneOS/ViewLoadingandUnloading/ViewLoadingandUnloading.html#//apple_ref/doc/uid/TP40007457-CH10-SW15)代码，稍作修改以避免在当前卸载视图时加载视图。）

使用此代码，如果视图再次可见，则应自动重新加载视图。

# objective-c - iOS 导出的 CSV 中的货币符号在 Excel 中未正确显示

> ID：15805335
> 
> 赞同：2
> 
> 时间：2013-04-04T07:45:56.957
> 
> 标签：objective-c, excel, csv, encoding, symbols

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-17T14:07:38.933

我不得不用它`NSUTF16BigEndianStringEncoding`来让 excel 理解任何东西。

# security - MediaWiki 的替代品，它对每篇文章/文章都有权限

> ID：15805338
> 
> 赞同：2
> 
> 时间：2013-04-04T07:46:06.443
> 
> 标签：security, mediawiki

有没有内置的每页访问管理来替代 MediaWiki（最好是开源的）？我知道 wiki 有很多扩展可以做到这一点，但我的客户对使用这些并不完全满意。这是来自 MediaWiki 页面的警告消息，出现在 SimpleSecurity 扩展的官方主页上，当我向他提出 SimpleSecurity 解决方案时，它吓到了我的客户：

> 如果您需要按页面或部分页面访问限制，建议您安装适当的内容管理包。MediaWiki 并不是为了提供每页访问限制而编写的，几乎所有承诺添加它们的黑客或补丁都可能在某个地方存在缺陷，这可能导致机密数据的泄露。对于任何被泄露、导致资金或工作损失的内容，我们概不负责。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:18:20.083

[DokuWiki](https://www.dokuwiki.org/dokuwiki)具有每页读取和编辑权限。否则，DokuWiki 的功能比 MediaWiki 少。特别是，DokuWiki 在更改页面名称或将页面从一个地方移动到另一个地方时会出现问题。看到这两者的比较完整的[比较](http://www.wikimatrix.org/compare/DokuWiki+MediaWiki+MoinMoin)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T04:06:30.073

我发现的另一个有趣的替代方案是[Foswiki](http://foswiki.org/ "福斯维基")，它是 Twiki 的社区分支。如果有人遇到这个问题，这些都是有趣的资源

*   我在 Quora 中的另一个问题：[https ://www.quora.com/Knowledge-Management/What-is-the-best-alternative-for-Media-wiki-with-built-in-per-page-permission](https://www.quora.com/Knowledge-Management/What-is-the-best-alternative-for-Media-wiki-with-built-in-per-page-permission)
*   Twiki 事件： http: [//fosiki.com/blog/2008/10/29/twiki-stops-being-open-source/](http://fosiki.com/blog/2008/10/29/twiki-stops-being-open-source/)
*   比较：[http ://answers.oreilly.com/topic/886-practical-differences-between-foswiki-and-twiki/](http://answers.oreilly.com/topic/886-practical-differences-between-foswiki-and-twiki/)

# java - 对 jsp 页面的 JavaScript settimeout 方法调用正在为用户维护会话

> ID：15805345
> 
> 赞同：0
> 
> 时间：2013-04-04T07:46:25.727
> 
> 标签：java, jsp

当我调用 JSP 页面以在 5 秒的间隔内从服务器获取值时，由于从 js 到 jsp 页面的 setTimeout 调用，登录用户的现有会话不会过期。

有什么方法可以在不干扰为用户创建的会话的情况下调用 js 到 jsp。即，如果我登录并保持网页空闲 15 分钟，则无论 setTimeout 如何，它都应该过期！

* * *

**jsp命中的示例代码。**

```
 function refreshBranchStatus(message) {
        var client = new XMLHttpRequest();
        client.open("GET", "status.jsp", false);
        client.setRequestHeader("Content-Type", "text/plain;charset=UTF-8");
        client.send(message);
        return client.responseText;
        window.setTimeout("refreshBranchStatus(null)", 5000);
    } 
```

* * *

**状态.jsp 文件**

```
<%@ page session="false" %>
<%@ page import="com.sample.Obj"%>
<%
    response.setHeader("Pragma", "no-cache");
    response.setHeader("Cache-Control", "no-cache");
    response.setHeader("Cache-Control", "no-store");
    response.setDateHeader("Expires", -1);
    response.setContentType("text/plain");  
    response.setCharacterEncoding("UTF-8");
    response.getWriter().write(Obj.getInstance().status);  
 %> 
```

谢谢

# css - ARIA 角色在 IE8 中不起作用？

> ID：15805357
> 
> 赞同：0
> 
> 时间：2013-04-04T07:47:10.007
> 
> 标签：css, html, internet-explorer-8, wai-aria

在考虑使用 HTML5 为公共部门重新创建页面后，我得出结论，HTML5 和 ARIA 的组合将是为残障人士增加更多可访问性的最佳选择。

所以我目前正在试验这种组合。 [这个页面](http://www.clarissapeterson.com/2012/11/html5-accessibility/)有一些很好的入门教程。

组合新的 HTML5`header`元素

```
<header>
...
</header> 
```

与咏叹调

```
<div role="banner">
...
</div> 
```

你可以用这个

```
<header role="banner">
...
</header> 
```

他们说。有了这个，CSS选择器应该看起来像这样

```
header[role="banner"]{
} 
```

但无论我尝试 IE8 和 Google Chrome，它都不会做任何事情。但是 IE8 应该可以正常工作。Firefox 和 Opera 运行正常。

那么我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:52:33.090

# c# - 如何处理列' '不属于表

> ID：15805358
> 
> 赞同：6
> 
> 时间：2013-04-04T07:47:11.117
> 
> 标签：c#, .net

我有一个场景，其中某个`column`名称`DataTable`可能不存在。因为我正在创建一个动态的`DataTable`.

```
DataTable tbl = new DataTable();
tbl.Columns.Add("Roll");
tbl.Columns.Add("Name");
DataRow dr = tbl.NewRow();
dr["Name"] = "Arshad";
dr["Roll"] = 1;
tbl.Rows.Add(dr);
Console.WriteLine(dr["Address"]);// exception, or
Console.WriteLine(Convert.ToString(dr["Address"])); 
```

我想检查这是否`DataTable`包含一个`column`被调用的地址。有没有可能像我们`Dictionary`一样：

```
if (objDictionary.ContainsKey("Address"))
 {
 } 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-04T07:48:46.137

您可以使用[DataColumnCollection.Contains Method](http://msdn.microsoft.com/en-us/library/system.data.datacolumncollection.contains.aspx)方法作为

```
if(dt.Columns.Contains("Address"))
    //column exists 
```

[DataColumnCollection.Contains 方法](http://msdn.microsoft.com/en-us/library/system.data.datacolumncollection.contains.aspx)

> 检查集合是否包含具有指定名称的列。

# matlab - Octave或Matlab中的invfreqz策略

> ID：15805365
> 
> 赞同：0
> 
> 时间：2013-04-04T07:47:31.633
> 
> 标签：matlab, octave

我有一个简单的低通滤波器的幅度和相位数据的集合。我可以使用 Octave 中的 invfreqz 成功地将滤波器拟合到复杂的频率响应中。但是，如果我希望以更高的采样率（比如 4 倍）使用相同的数据安装相同的滤波器怎么办？但是，没有高达新的 4 倍奈奎斯特频率的幅度和频率数据可用。无法在较高频率上收集磁力和相位数据，因此必须通过其他方法或近似值来添加。

将填充物幅度和相位数据“侵入”到新的奈奎斯特频率的最简单方法是什么，以便 invfreqz 有最好的机会以新的采样率实现对收集的数据的良好拟合？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T09:16:25.143

这是我不久前编写的一个函数，可用于改变低/带通滤波器的采样率（我从来没有费心将其扩展到高通）。一般来说，您应该选择滤波器响应几乎为零的点作为“截止”频率（我不敢说“截止”，因为它不是正常意义上的截止）；高于此频率，响应设置为零。

```
function [b, a, fNew, HNew, fOld, HOld, HCut] = ...
    shiftFilterRate(b, a, fs1, fs2, order, fCut)
% SHIFTFILTERRATE   Shift sampling rate of filter
%
%   [bNew, aNew] = shiftFilterRate(b, a, fs1, fs2, order, fCut) designs a
%   FIR filter of the given order to operate at sampling frequency fs2, in
%   Hz, whose frequency magnitude characteristics match those of the filter
%   whose coefficients are b, a, that operates at sampling rate fs1, in Hz.
%   The function will only try to match the filter's magnitude in the
%   region [0 fCut], in Hz.
%
%   [bNew, aNew, fNew, HNew, fOld, HOld, HCut] = shiftFilterRate(...)
%   returns additional parameters:
%       fNew:   The frequencies at which the designed filter's transfer
%               function was evaluated (with resolution of 1 Hz)
%       HNew:   The transfer function of the designed filter
%       fOld:   The frequencies at which the existing filter's transfer
%               function was evaluated (with a resolution of 1 Hz)
%       HOld:   The transfer function of the existing filter.
%       HCut:   The desired frequency response of the filter used as input
%               to the function fir2.
%
%   FIXME: Make this work for high pass filters.
%

if nargin < 5, fCut = inf; end
if nargin < 4, order = 50; end

%% Zero padding in frequency domain
res = 1; % Hz resolution
N1 = fs1 / res; % points at resolution before padding

% Original freq response
[H, f] = freqz(b, a, N1);
nanInd = find(isnan(H));
% Stabilise. NOTE: Will break if nanInd contains last elem or there are
% multiple NaNs in a row
H(nanInd) = H(nanInd + 1); 
f = f / pi;

% Normalise cutoff freq
fCutNorm = fCut / (fs1 / 2);

% Cut frequencies above fCut, we don't really need them and it makes the
% FIR filter nasty
HCut = H;
HCut(f > fCutNorm) = 0;

% Create new freq response
NNew = ceil(fs2 / fs1 * length(HCut));
fNew = linspace(0, 1, NNew)';
HNew = [HCut; zeros(NNew - N1, 1)];

% Design filter
b = fir2(order, fNew, abs(HNew));
a = 1;

HOld = H;
fOld = f;

if nargout > 3
    HNew = freqz(b, a, length(fNew));
end 
```

请注意，在您的情况下，您可能希望将其设置为 -20 dB re 1，因为这似乎是您的滤波器提供的最大衰减。在那一点上：它看起来不是一个很好的过滤器......你有什么理由**必须**匹配这个响应？您可能最好只设计一个具有相同截止频率的 Butterworth（您肯定会在阻带中获得更多衰减和更多线性相位）。

# android - Sqlite 数据库备份和加密

> ID：15805367
> 
> 赞同：0
> 
> 时间：2013-04-04T07:47:35.337
> 
> 标签：android

如何将andorid中的Sqlite DB定期备份到SD卡以及如何加密我在SD卡上的数据库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-09T08:36:35.863

如果你想做一个完整的文件备份，你可以试试 Conceal [https://github.com/facebook/conceal/](https://github.com/facebook/conceal/)。它有一个易于使用的 API 来加密数据。

# javascript - 视口移动 addClass

> ID：15805368
> 
> 赞同：0
> 
> 时间：2013-04-04T07:47:36.057
> 
> 标签：javascript, jquery, html

当用户到达网站的某个部分时，我试图淡入一个元素。

在这种情况下，它将是#blog 部分。

我正在使用此代码来移动视口：

```
 function Global_viewport() {
        _viewport = this;
        _viewport.selector = $('#viewport');
        _viewport.inner = $('#viewport_inner');
        _viewport.section = '';
        $(window).bind({
            'resize' : function(){
                _viewport.inner.addClass('not_animate')
                _viewport.move(_viewport.section)
                if(this.resizeTO) clearTimeout(this.resizeTO);
                this.resizeTO = setTimeout(function() {
                    $(this).trigger('resizeEnd');
                }, 500);
            },
            'resizeEnd' : function(){
                _viewport.inner.removeClass('not_animate');
            }
        })
    }
    Global_viewport.prototype.move = function(s, noanimate){
        if(noanimate){
            _viewport.inner.addClass('not_animate')
        }
        var selector = $('#'+s);
        _viewport.section = s;
        if(selector.length){
            _viewport.inner.css({
                'top' : - selector.position().top
            })
            setTimeout(_viewport.refresh, 500)
            setTimeout(function(){
                _viewport.inner.removeClass('not_animate')
            }, 100)
        }else{
            _menu.pw_protected_target = s;
            main_menu.container.addClass('password');
            setTimeout(vp.refresh, 1000);
        }
    }
    Global_viewport.prototype.refresh = function(){
        var selector = $('#'+_viewport.section);
        var vp_height = Math.max(selector.height() , $(window).height())
        _viewport.selector.height(vp_height);
    } 
```

当用户到达#blog 部分时，我如何才能淡入被调用的元素，例如：.read_more_blog？任何想法怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:01:47.620

要指出正确的方向，请使用以下命令：

```
$(window).bind("scroll", function() {
    if ($(this).scrollTop() > 0 && $(this).scrollTop() < 800) {
        $("#divFade").fadeIn(800);      
    } 
```

所以在 0 到 800px 之间#divFade 会淡入。

如果每次使用都不同：

```
function isScrolledIntoView(elem) {
    var docViewTop = $(window).scrollTop(),
        docViewBottom = docViewTop + $(window).height(),
        elemTop = $(elem).offset().top,
        elemBottom = elemTop + $(elem).height();
    return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));
} 
```

找到它：[检查滚动后元素是否可见](https://stackoverflow.com/questions/487073/check-if-element-is-visible-after-scrolling)

# sql - 加法语句以及存储过程

> ID：15805370
> 
> 赞同：1
> 
> 时间：2013-04-04T07:47:38.530
> 
> 标签：sql, oracle, stored-procedures, plsql

我写了一个程序块，如：

```
DECLARE
  recCount pls_integer:=0;
  idCounter pls_integer:=0;
BEGIN
  SELECT COUNT(value) into recCount FROM classname_ WHERE value='CONNECT_BLOG_INTERPRETER';
  SELECT MAX(classnameid)+1 into idCounter FROM classname_;
  IF recCount = 0 THEN
    INSERT INTO classname_ (classnameid, value) values (idCounter, 'CONNECT_BLOG_INTERPRETER');
    DBMS_OUTPUT.PUT_LINE('Inserting Record CONNECT_BLOG_INTERPRETER');
  ELSE
        DBMS_OUTPUT.PUT_LINE('Record CONNECT_BLOG_INTERPRETER already exists.');
  END IF;
END; 
```

该语句执行没有任何问题，但是如果我希望使用它执行附加语句，例如：

```
select * from emp; 
```

这给了我这样的错误：

```
Error report:
ORA-06550: line 14, column 1:
PLS-00103: Encountered the symbol "SELECT" 
06550\. 00000 -  "line %s, column %s:\n%s"
*Cause:    Usually a PL/SQL compilation error.
*Action: 
```

但现在，我需要这个一起工作。让我们考虑 DB-Patching 的情况，其中多个语句一个接一个地执行。

请指导我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:10:00.450

好的，我找到了解决方案。

它只是将 2 个语句与`/`. 这解决了这个问题。

所以现在，最终的查询可以愉快地协同工作了：

```
DECLARE
  recCount pls_integer:=0;
  idCounter pls_integer:=0;
BEGIN
  SELECT COUNT(value) into recCount FROM classname_ WHERE value='CONNECT_BLOG_INTERPRETER';
  SELECT MAX(classnameid)+1 into idCounter FROM classname_;
  IF recCount = 0 THEN
    INSERT INTO classname_ (classnameid, value) values (idCounter, 'CONNECT_BLOG_INTERPRETER');
    DBMS_OUTPUT.PUT_LINE('Inserting Record CONNECT_BLOG_INTERPRETER');
  ELSE
        DBMS_OUTPUT.PUT_LINE('Record CONNECT_BLOG_INTERPRETER already exists.');
  END IF;
END;

/

select * from emp; 
```

# android - Android 实例化活动

> ID：15805371
> 
> 赞同：0
> 
> 时间：2013-04-04T07:47:39.140
> 
> 标签：android, android-manifest

我是 Android 编程新手，我尝试在我的 AndroidManifest.xml 中添加第二个活动，但现在我的应用程序不再启动。错误是：

```
04-04 07:42:13.154: D/AndroidRuntime(809): Shutting down VM
04-04 07:42:13.154: W/dalvikvm(809): threadid=1: thread exiting with uncaught exception (group=0x40a71930)
04-04 07:42:13.294: E/AndroidRuntime(809): FATAL EXCEPTION: main
04-04 07:42:13.294: E/AndroidRuntime(809): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.evo_soft/com.example.evo_soft.MainActivity}: java.lang.NullPointerException
04-04 07:42:13.294: E/AndroidRuntime(809):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2106)
04-04 07:42:13.294: E/AndroidRuntime(809):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
04-04 07:42:13.294: E/AndroidRuntime(809):  at android.app.ActivityThread.access$600(ActivityThread.java:141)
04-04 07:42:13.294: E/AndroidRuntime(809):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
04-04 07:42:13.294: E/AndroidRuntime(809):  at android.os.Handler.dispatchMessage(Handler.java:99)
04-04 07:42:13.294: E/AndroidRuntime(809):  at android.os.Looper.loop(Looper.java:137)
04-04 07:42:13.294: E/AndroidRuntime(809):  at android.app.ActivityThread.main(ActivityThread.java:5041)
04-04 07:42:13.294: E/AndroidRuntime(809):  at java.lang.reflect.Method.invokeNative(Native Method)
04-04 07:42:13.294: E/AndroidRuntime(809):  at java.lang.reflect.Method.invoke(Method.java:511)
04-04 07:42:13.294: E/AndroidRuntime(809):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
04-04 07:42:13.294: E/AndroidRuntime(809):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
04-04 07:42:13.294: E/AndroidRuntime(809):  at dalvik.system.NativeStart.main(Native Method)
04-04 07:42:13.294: E/AndroidRuntime(809): Caused by: java.lang.NullPointerException
04-04 07:42:13.294: E/AndroidRuntime(809):  at android.content.ContextWrapper.getPackageName(ContextWrapper.java:135)
04-04 07:42:13.294: E/AndroidRuntime(809):  at android.content.ComponentName.<init>(ComponentName.java:75)
04-04 07:42:13.294: E/AndroidRuntime(809):  at android.content.Intent.<init>(Intent.java:3491)
04-04 07:42:13.294: E/AndroidRuntime(809):  at com.example.evo_soft.MainActivity.<init>(MainActivity.java:220)
04-04 07:42:13.294: E/AndroidRuntime(809):  at java.lang.Class.newInstanceImpl(Native Method)
04-04 07:42:13.294: E/AndroidRuntime(809):  at java.lang.Class.newInstance(Class.java:1319)
04-04 07:42:13.294: E/AndroidRuntime(809):  at android.app.Instrumentation.newActivity(Instrumentation.java:1054)
04-04 07:42:13.294: E/AndroidRuntime(809):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2097)
04-04 07:42:13.294: E/AndroidRuntime(809):  ... 11 more 
```

我的 AndroidManifest.xml

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.evo_soft"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="12"
    android:targetSdkVersion="16" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >

    <activity
        android:name="com.example.evo_soft.MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity 
        android:name="group.pals.android.lib.ui.filechooser.FileChooserActivity"
        android:configChanges="orientation|screenSize|keyboard|keyboardHidden"
        android:screenOrientation="user" >
    </activity>

    <service android:name="group.pals.android.lib.ui.filechooser.services.LocalFileProvider"></service>
</application> 
```

感谢帮助

马库斯

# angularjs - 如何使 Angularjs 应用程序可抓取

> ID：15805374
> 
> 赞同：12
> 
> 时间：2013-04-04T07:47:45.510
> 
> 标签：angularjs

我正在使用 Angular.js 构建单页应用程序，我的问题是如何使应用程序可抓取，因为路由是在客户端使用 ng-view 处理的，而服务器只返回简单的头文件。

网站链接：http: [//india-elections.in/](http://india-elections.in/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T07:55:30.493

我知道的唯一可行的解​​决方案是核心 AngularJS 团队用于其文档网站的解决方案。

*   首先，他们将 HTML5 历史记录用于 URL，并使用 hashbang 进行后备。带有 hashbang 的 URL 使 Google`_escaped_fragment_`在查询字符串中抓取它们。
*   然后他们在后端使用 AngularJS 字符串插值和指令来呈现模板，因为当用户加载页面并且 AngularJS 解析它时它们将在 DOM 中。
*   他们将其传递给谷歌，因此他们在搜索索引中的内容与用户浏览器中的内容相同（所以这不是伪装）。

AngularJS Google 小组的核心开发人员提到了这一点。[1] [2] [3]

同样从那里的其他线程中，我认为他们正在使用 PhantomJS 和 NodeJS 来解析页面。

[1] [https://groups.google.com/d/msg/angular/yClOeqR5DGc/4YXGx9z8EpAJ](https://groups.google.com/d/msg/angular/yClOeqR5DGc/4YXGx9z8EpAJ)

[2] [https://groups.google.com/d/msg/angular/EGwg49uAmMI/j-kj9nytT-IJ](https://groups.google.com/d/msg/angular/EGwg49uAmMI/j-kj9nytT-IJ)

[3] [https://groups.google.com/d/msg/angular/EGwg49uAmMI/j-kj9nytT-IJ](https://groups.google.com/d/msg/angular/EGwg49uAmMI/j-kj9nytT-IJ)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-04T18:12:46.720

我使用以上所有点和以下链接在我的网站中实现了抓取 [https://developers.google.com/webmasters/ajax-crawling/](https://developers.google.com/webmasters/ajax-crawling/)

[http://www.yearofmoo.com/2012/11/angularjs-and-seo.html](http://www.yearofmoo.com/2012/11/angularjs-and-seo.html)

[http://india-elections.in](http://india-elections.in)

使用 PhantomJs 创建静态模板

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-06-25T14:43:08.810

我遇到了[这项](http://www.BromBone.com)可能值得一试的服务。它运行一个 PhantomJS 服务器并为您完成所有的工作。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-03-12T01:28:00.013

制作单页应用程序可抓取但具有交互性并不是一项简单的任务。您必须从 UX 角度考虑允许后退按钮和跳转访问的访问点。例如，当按下后退按钮时，需要在服务器上重新创建对象状态的标记，而无需用户交互生成与访问该接入点的使用在客户端上创建的相同的标记。Phantom.js 可用于此任务，或者客户端/服务器不可知的 js 可用于在两端运行，或者像在良好的 php 时代一样，可以重写复制接入点状态的整个逻辑服务器。@Ajay Beniwal 详细介绍了一些有关如何创建 html 快照的链接。

假设您有一个网络服务器，可以在给定特定对象状态的情况下抛出引导标记。可以通过状态标识符提供状态，这需要是使您的代码可抓取的 url。Angular js 和 Backbone.js 等库提供了 Backbone.Router 等机制，后者又使用链接片段或 HTML5 pushState() 方法将状态标识符存储在客户端上。然而，HTML5 的美妙之处在于，刷新直接调用服务器的正确对象状态，而无需加载解析提供的哈希并重定向到正确的对象状态 url 的初始页面，但对于旧的没有其他选项浏览器，围绕 HTML5 范式构建您的应用程序将使它们成为爬虫的蛋糕，以及大多数 HTML5 pushState 的实现，例如 Backbone。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-10-22T14:55:55.343

自 2015 年 10 月以来，您无需执行任何操作即可使您的应用程序可抓取（我假设您指的是 Google 抓取）。

检查这篇文章：

[https://webmasters.googleblog.com/2015/10/deprecating-our-ajax-crawling-scheme.html](https://webmasters.googleblog.com/2015/10/deprecating-our-ajax-crawling-scheme.html)

# iis - 获取 C# 中的非继承连接字符串列表

> ID：15805376
> 
> 赞同：0
> 
> 时间：2013-04-04T07:47:47.063
> 
> 标签：iis, web-config, connection-string

我有一个带有两个应用程序的 IIS (>7)`/foo`和`/foo/bar`. 两者都有几个连接字符串，我需要获取所有连接字符串的列表，这些连接`/foo/bar`字符串不是从`/foo`. 我`System.Web.Configuration`用于一些任务，在这里找到一种使用这些类的方法也会很酷。有任何想法吗？

我无法直接读取 web.config，因为`connectionStrings`-section 受到保护。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:52:50.180

好的，我找到了解决方案。

```
var config = WebConfigurationManager.OpenWebConfiguration(i_applicationVirtualPath);
if (config != null) {
    ConnectionStringsSection connectionStringSection = config.ConnectionStrings;
    ConnectionStringSettingsCollection connectionStringsCollection =
                connectionStringSection.ConnectionStrings;

    foreach (var settingObject in connectionStringsCollection) {
        ConnectionStringSettings setting = settingObject as ConnectionStringSettings;
        if (setting.ElementInformation.IsPresent) {
            // This connectionstring is in the corresponding web.config
        }
    }
} 
```

此代码仅检测我正在寻找的连接字符串，并且能够通过加密透明地读取。这也应该适用于其他配置部分......

# visual-studio - QT5 的 Visual Studio 加载项仍然给出错误

> ID：15805378
> 
> 赞同：1
> 
> 时间：2013-04-04T07:47:59.067
> 
> 标签：visual-studio, qt5

我已经为 Visual Studio 2008 安装了新的加载项，以便调试 QT5 类。

由于新定义，大多数实例在调试过程中都能正确显示。我在可视化 QVectors（可能还有其他结构）时仍然存在错误。

特别是 Common7\Packages\Debugger\autoexp.dat 中引入的 QVector 的定义似乎无效：

```
 $c.p->array[$i] 
```

p（因此数组）不再存在于 QVector 中。

这应该被替换为：

```
(float*)($c.d + $c.d->offset)[$i] 
```

如果是`QVector<float>`. 我不是 autoexp.dat 中使用的视觉工作室 sintax 的专家。对于一般情况，如何解决这个问题？演员表应该推广到模板。

或者有一个更简单的解决方案可以避免处理 autoexp？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-07-25T11:04:44.277

经过一番摆弄，我发现以下内容适用于 Qt 5.1.0 和 Visual Studio 2010：

```
;  expr: $c.p->array[$i], 
   expr: (($T1*)((char*)(&$c.d->ref)+(int)$c.d->offset))[$i], 
```

在 QVector<*> 块中替换了 3 次。$Tn 指的是在 AutoExpand 规则的第一行中以 * 形式给出的第 n 个类型参数。

希望这可以帮助，

莱因哈德

# mysql - 如何选择时差小于X分钟的记录？

> ID：15805379
> 
> 赞同：-1
> 
> 时间：2013-04-04T07:48:01.677
> 
> 标签：mysql

我需要在表中查找时差小于 X 分钟的所有记录？
看起来我需要：
- 按时间（unix 时间）对表进行排序，
- 在表中查找当前记录和上一个记录，
- 检查当前时间和上一个时间的差异，
- 如果时间小于 X 分钟，则记录

但是这个Mysql请求会怎么写呢？

我的表：

`id`bigint(10) NOT NULL AUTO_INCREMENT,
`uid`int(11) DEFAULT '0',
`cid`int(11) NOT NULL DEFAULT '0',
`uniqueid`int(11) NOT NULL,
`publisher`varchar(255) CHARACTER SET utf8 NOT NULL,
`booktitle`varchar(255) CHARACTER SET utf8 NOT NULL,
`level`varchar(50) CHARACTER SET utf8 NOT NULL,
`readinglevel`int(11) NOT NULL,
`status`int(11) NOT NULL DEFAULT '0',
`words`int(11) NOT NULL DEFAULT '0',
`persent`float(7,2)默认“0.00”，
`time`bigint(10) 默认“0”，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T08:23:22.347

-首先你所有的时间列应该是时间戳类型（4B）而不是bigint（8B）

-让我们假设时间列是一个时间戳并且 X=1 那么你可以尝试这样的事情：

```
SELECT
    first.id,
    second.id
FROM
    my_table as first
INNER JOIN my_table as second
    ON second.time >= first.time
    ON second.time <= DATE_ADD(first.time, INTERVAL 1 MINUTE)
WHERE 1 
```

但我警告你它的效率极低，特别是如果你没有时间列上的索引。

# nsis - 在 NSIS 中处理 WM_CLOSE

> ID：15805382
> 
> 赞同：0
> 
> 时间：2013-04-04T07:48:10.663
> 
> 标签：nsis

如何处理自定义页面的 WM_CLOSE 消息？

当用户关闭对话框时，我想在系统托盘中添加应用程序（使用 NotifyIcon 插件）。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T11:39:07.663

为什么是 WM_CLOSE？

NSIS 提供了几种处理安装程序退出的方法。

您可以使用`.onUserAbort, .onInstFailed, .onInstSuccess or .onGUIEnd`回调来处理各种情况。

**.onGUIEnd**每次都会触发（在窗口关闭后）

**.onInstSuccess**在安装成功时触发，就在安装窗口关闭之前

**.onInstFailed**当用户在安装失败后点击“取消”按钮时

**.onUserAbort**当用户点击“取消”按钮时，安装尚未失败。

如您所见，所有案例都已处理，请参阅 NSIS 手册了解详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T16:46:05.540

正如 Slappy 所说，如果您只需要“我在做某事时还活着”，[那么 .onGUIEnd](http://nsis.sourceforge.net/Docs/Chapter4.html#4.7.2.1.5)就是您的朋友：

```
# This callback is called right after the installer window closes.
Function .onGUIEnd

    # Create notify icon (will be always at tray), with default installer icon.
    NotifyIcon::Icon /NOUNLOAD "yitb" 103 "Just a tip" "Balloon!" "Cool!"

    # Launch your process here

    # Remove tray icon.
    NotifyIcon::Icon "r"
FunctionEnd 
```

如果您正在寻找“最小化到托盘”选项来隐藏 UI，并能够通过单击图标将其恢复，然后检查[HideWindow](http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.14.7)和[ShowWindow](http://nsis.sourceforge.net/Docs/Chapter4.html#4.9.14.17)。

# node.js - 在 MongoDB 中使用 $inc 更新数组

> ID：15805384
> 
> 赞同：2
> 
> 时间：2013-04-04T07:48:20.977
> 
> 标签：node.js, mongodb

我想创建一个查询，它将增加数组内对象中的计数器，但如果该对象不存在 - 它将被创建（upsering）

**例子：**

```
{
'_id' : 'someId',
someArray : [..,{'name':'a', 'count':234},..],
...
} 
```

**对象{'name' : 'b'}**的 upsert会是什么样子？

如果有关系，我将 Node.js 用于服务器端。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:06:58.773

谢谢@freakish。

我确实改变了我的结构——但仍然保留了一个系列。我使用了一个对象而不是数组：

```
someObject : {'a':234, 'b':1}... 
```

我这样做是因为我知道使用 $inc 属性更新数组元素存在问题： [How to increase MongoDB document object fields inside an array](https://stackoverflow.com/questions/11184079/how-to-increment-object-fields-inside-an-array-using-mongodb)

这个解决方案对我有用，因为我不希望这个对象中有超过 100 个元素

# c# - 更改集合中的结构

> ID：15805386
> 
> 赞同：4
> 
> 时间：2013-04-04T07:48:28.717
> 
> 标签：c#, .net

我读过里希特的书中关于拳击的内容，但有一件事我不明白。
我已成功更改`struct`对象。但是当我尝试更改`struct`收藏时，我遇到了问题。

```
//my struct
internal struct Point:IChangeBoxedPoint
{
    public Int32 x, y;
    public void Change(Int32 x, Int32 y)
    {
        this.x = x;
        this.y = y;
    }

    public override string ToString()
    {
        return String.Format("{0}, {1}", this.x, this.y);
    }
}

public static void Main()
{
    List<Point> a = new List<Point>();
    Point p = new Point();
    p.Change(1, 1);
    Console.WriteLine(p); //write 1, 1
    object o = p;
    Console.WriteLine(o); //write 1, 1
    ((Point)o).Change(2, 2);
    Console.WriteLine(o); //write 1, 1
    ((IChangeBoxedPoint)o).Change(3, 3);
    Console.WriteLine(o); //write 3, 3
    for (int i = 0; i < 10; i++)
    {
        p.x = p.y = i;
        a.Add(p);
    }

    Console.WriteLine(a[0]); //write 0, 0
    ((IChangeBoxedPoint)a[0]).Change(300,300);
    Console.WriteLine(a[0]); //still writes 0,0
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:51:28.617

发生这种情况是因为`struct`s 是值类型，如原语（`int`,`short`等）。当您将其装箱时`struct`，`object`它会制作一个单独工作的自身副本。这是一个简单的例子来说明这一点。

```
Point a = new Point();
Console.WriteLine(a); // 0, 0
a.Change(1, 1);
Console.WriteLine(a); // 1, 1
object b = a;
Console.WriteLine(b); // 1, 1
a.Change(2, 2);
Console.WriteLine(a); // 2, 2
Console.WriteLine(b); // 1, 1 
```

## `class`对比`struct`

如果您想使用引用类型，您将不会遇到此问题，您的程序只会将引用传递给您的单个对象。如果需要引用类型，请使用`class`not 。`struct`

```
internal class Point : IChangeBoxedPoint 
```

### 何时使用结构

根据引用[MSDN的](http://msdn.microsoft.com/en-us/library/ms229017.aspx)[其他问题](https://stackoverflow.com/a/85656/1156119)。

> 除非类型具有以下所有特征，否则不要定义结构：
> 
> *   它在逻辑上表示单个值，类似于原始类型（整数、双精度等）。
> *   它的实例大小小于 16 字节。
> *   它是不可变的。
> *   它不必经常装箱。

如果你不知道不可变意味着对象不能改变。因此，您实际上违反了良好的做法，将`struct`s装箱`interface`以试图改变它们。

## 拳击`IChangeBoxedPoint`

您可以通过使用 a 来解决您的问题，`List<IChangeBoxedPoint>`但这只会将其更改为使用对您的值类型的引用，我的问题是，当您可以将您的更改`struct`为 a时，您为什么还要打扰`class`。

```
List<IChangeBoxedPoint> a = new List<IChangeBoxedPoint>(); 
```

## 进一步阅读

*   [MSDN - 结构教程 C#](http://msdn.microsoft.com/en-us/library/aa288471%28v=vs.71%29.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-04T08:03:52.303

您应该将您的收藏声明为`List<IChangeBoxedPoint>`而不是`List<Point>`.

如果您将列表声明为，`List<Point>`那么您的值将在界面之间装箱/拆箱，正如其他人已经说过的那样。但是，如果您有一个接口列表，那么只有在您将它们添加到列表时才会将值装箱，从而允许您根据需要更改它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:56:51.293

似乎是对的：

```
Console.WriteLine(a[0]); //write 0, 0 - 
```

仅仅因为您收到的第一件商品`i=0`

对于这段代码，

```
 ((IChangeBoxedPoint)a[0]).Change(300,300); 
```

实际上并没有改变第一项。它创建了盒装对象 Point 的新实例，并更改了它的值。

尝试将其更改为

```
 Point newPoint = new Point();
 newPoint.Change(300,300);
 a[0] = newPoint;
 Console.WriteLine(a[0]); 
```

# jsf - 呈现的属性无法与 Primefaces 3.5 文件上传正常工作

> ID：15805389
> 
> 赞同：3
> 
> 时间：2013-04-04T07:48:41.623
> 
> 标签：jsf, primefaces

`fileUpload`我的目标是在 PrimeFaces v3.5 成功后隐藏上传组件。以下是视图片段-

```
<h:form>
<!-- Here are some more components of PrimeFaces, So i am not updating the entire form-->
    <p:fileUpload id="fileUpload"
        rendered="#{!fileUploadController.hidden}"
        label="Choose Script to upload here"
        style="font-size: 100% !important;" showButtons="false"
        fileUploadListener="#{fileUploadController.upload}"
        mode="advanced" auto="true" sizeLimit="100000"
        allowTypes="/(\.|\/)(py|txt)$/" update="fileUpload" />
<!-- Here are some more components of PrimeFaces, So i am not updating the entire     
</h:form> 
```

我`Managed Bean`的在下面——

```
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.Serializable;
import javax.faces.application.FacesMessage;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.ViewScoped;
import javax.faces.context.FacesContext;
import org.apache.commons.io.FilenameUtils;
import org.primefaces.event.FileUploadEvent;
@ManagedBean
@ViewScoped
public class FileUploadController implements Serializable {
    /**
     * 
     */
    private static final long serialVersionUID = 1L;
    // private String destination = null;
    private String destination = "D:/temp";
    private boolean hidden = false;
    public FileUploadController() {
//      System.out.println("destination=" + destination);
    }
    // private String destination = "D:/download";
    public void upload(FileUploadEvent event) {
        String fileName = FilenameUtils.getName(event.getFile().getFileName());
        FacesMessage msg = new FacesMessage(FacesMessage.SEVERITY_INFO,
                "Success! ", fileName + " is uploaded.");
        FacesContext.getCurrentInstance().addMessage(null, msg);
        try {
            System.out.println("I am trying to copy it...");
            copyFile(fileName, event.getFile().getInputstream());
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    public void copyFile(String fileName, InputStream in) {
        try {
            System.out.println("filename= " + fileName + ", dest="
                    + destination);
            // write the inputStream to a FileOutputStream
            OutputStream out = new FileOutputStream(new File(destination
                    + File.separator + fileName));
            int read = 0;
            byte[] bytes = new byte[1024];
            while ((read = in.read(bytes)) != -1) {
                out.write(bytes, 0, read);
            }
            in.close();
            out.flush();
            out.close();
            System.out.println("New file created!");
            setHidden(true);
        } catch (IOException e) {
            System.out.println("ERROR " + e.getMessage());
        }
    }
    /**
     * @return the hidden
     */
    public boolean isHidden() {
        return hidden;
    }
    /**
     * @param hidden
     *            the hidden to set
     */
    public void setHidden(boolean hidden) {
        this.hidden = hidden;
    }
} 
```

文件上传成功完成但`fileUpload`没有隐藏。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-04T12:29:10.777

您不能对本身有条件渲染的组件进行 ajax 更新。JSF ajax 引擎 JavaScript 不会在 HTML DOM 树中添加/删除更新目标，而是替换 HTML DOM 树中的更新目标。如果 JSF 组件没有被渲染，那么 JSF ajax 引擎将没有任何东西可以替换。相反，您必须对始终呈现的父级进行 ajax 更新。您可以在其中使用 a `<h:panelGroup>`。

```
<h:panelGroup id="fileUploadGroup">
    <p:fileUpload id="fileUpload"
        rendered="#{!fileUploadController.hidden}"
        ...
        update="fileUploadGroup" />
</h:panelGroup> 
```

# html - 您的浏览器完全忽略了 APPLET 标签

> ID：15805390
> 
> 赞同：0
> 
> 时间：2013-04-04T07:48:44.590
> 
> 标签：html, internet-explorer, firefox, applet

我正在尝试查看`applet`使用 IE 和 Mozilla 制作的网页的源代码，但我无法查看源代码 - 它仅显示：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
  <title>*****************</title>
  <meta name="GENERATOR" content="Quanta Plus">
</head>
<body>
<applet width="100%" ******Applet.class 
    archive="*.jar"> 
Your browser is completely ignoring the &lt;APPLET&gt; tag!
</APPLET>
</body>
</html> 
```

如何找到小程序类的源代码？

# c++ - 根据标准，处理格式错误的程序需要什么 C++ 编译器？

> ID：15805394
> 
> 赞同：26
> 
> 时间：2013-04-04T07:48:52.043
> 
> 标签：c++, compiler-construction, language-lawyer

C++03 标准将*格式良好的程序*(1.3.14 [defns.well.formed]) 定义为

> 根据语法规则、可诊断语义规则和单一定义规则 (3.2) 构建的 C++ 程序

它进一步将格式错误*的程序*（1.3.4 [defns.ill.formed]）定义为

> 输入到不是格式正确的程序的 C++ 实现 (1.3.14)

并且标准中充满了诸如“如果 X 则程序格式错误”之类的语句，例如 (2.13.1/3)：

> 如果程序的一个翻译单元包含不能由任何允许的类型表示的整数文字，则该程序是格式错误的。

然而，我还没有发现 C++ 实现对格式错误的程序有什么要求。

假设我有一个格式错误的程序。怎么办？

当遇到格式错误的程序时，C++ 实现是否需要做一些特定的事情，或者 C++ 实现行为只是未定义？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-04T07:56:19.917

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-04T07:55:08.023

Quoting [intro.compliance]§2:

> *   If a program contains no violations of the rules in this International Standard, a conforming implementation shall, within its resource limits, accept and correctly execute that program.
>     
>     
> *   If a program contains a violation of any diagnosable rule or an occurrence of a construct described in this Standard as “conditionally-supported” when the implementation does not support that construct, a conforming implementation shall issue at least one diagnostic message.
>     
>     
> *   If a program contains a violation of a rule for which no diagnostic is required, this International Standard places no requirement on implementations with respect to that program.

I haven't found any other relevant passages in the standard. If we combine this with [defns.undefined]:

> **undefined behavior**
> 
> behavior for which this International Standard imposes no requirements
> 
> [ *Note:* Undefined behavior may be expected when this International Standard omits any explicit definition of behavior or when a program uses an erroneous construct or erroneous data. Permissible undefined behavior ranges from ignoring the situation completely with unpredictable results, to behaving during translation or program execution in a documented manner characteristic of the environment (with or without the issuance of a diagnostic message), to terminating a translation or execution (with the issuance of a diagnostic message). Many erroneous program constructs do not engender undefined behavior; they are required to be diagnosed. *-end note* ]

I'd say we arrive at "issue a diagnostic message and further the behaviour is undefined," because the standard doesn't say anything more about it.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-02-05T23:40:31.367

（首先，对不起我的英语）

§1.4.2 中的标准说：

> 如果程序包含违反任何可诊断规则[...]，则符合要求的实现应发出至少一个诊断消息。

格式错误的程序的定义是“格式不正确的程序”（§1.3.9），格式正确的程序是（§1.3.26）：

> 根据语法规则、可诊断语义规则和单一定义规则构建的 C++ 程序

因此，格式错误的程序确实隐含地违反了“某些”规则。如果规则 R 具有以下结构：

> 如果一个程序具有属性 P，那么它就是一个格式错误的程序。

当程序具有这样的属性 P 时，它确实隐含地违反了规则（根据格式错误程序的定义），尽管尚不清楚哪个规则是被违反的，因为 R 本身没有（来自严格的逻辑观点）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T07:53:20.790

The only relevant quote I could find says that an implementation is required to diagnose an ill-formed program, but it can finish compiling it:

### 1.4 Implementation compliance [intro.compliance]

> 8) A conforming implementation may have extensions (including additional library functions), provided they do not alter the behavior of any well-formed program. Implementations are required to diagnose programs that use such extensions that are ill-formed according to this International Standard. Having done so, however, they can compile and execute such programs.

# android - Android - 在操作栏中具有自动完成功能的搜索视图

> ID：15805397
> 
> 赞同：7
> 
> 时间：2013-04-04T07:48:54.953
> 
> 标签：android, actionbarsherlock, autocompletetextview, searchview

我想构建一个应用程序，其中包含夏洛克操作栏和搜索视图。但是，我希望这个 searchview 具有自动完成功能，就像 autocompleteTextView 一样。是否有任何直接的实现可以单独使用 searchview 来做到这一点？还是我应该在操作栏中使用 autocompleteTextView 来做到这一点？我在那里找到了几个帖子，但没有一个对我有帮助。这些帖子只谈论创建 autocompleteTextView ，但我希望搜索视图具有此功能。知道怎么做吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-05T05:17:05.707

为此，我创建了一个布局并将其`AutoCompleteTextView`添加到`ActionBar`它的调用中`Custom layout in ActionBar.`

之后，我创建了带有`android.R.layout.simple_dropdown_item_1line`. 将其设置在`AutoCompleteTextView`.

检查下面的代码：

![在此处输入图像描述](https://i.stack.imgur.com/WNqMe.png)

```
package com.example.testapp;

import android.annotation.TargetApi;
import android.app.ActionBar;
import android.app.Activity;
import android.content.Context;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.AutoCompleteTextView;

@TargetApi(11)
public class MainActivity extends Activity {

    private static final String[] COUNTRIES = new String[] { "Belgium",
            "France", "France_", "Italy", "Germany", "Spain" };

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        ActionBar actionBar = getActionBar();
        actionBar.setDisplayHomeAsUpEnabled(true);
        actionBar.setDisplayShowCustomEnabled(true);
        // actionBar.setDisplayShowTitleEnabled(false);
        // actionBar.setIcon(R.drawable.ic_action_search);

        LayoutInflater inflator = (LayoutInflater) this
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        View v = inflator.inflate(R.layout.actionbar, null);

        actionBar.setCustomView(v);

        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
                android.R.layout.simple_dropdown_item_1line, COUNTRIES);
        AutoCompleteTextView textView = (AutoCompleteTextView) v
                .findViewById(R.id.editText1);
        textView.setAdapter(adapter);

    }

} 
```

你的布局：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:gravity="center" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Action Bar:"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:textColor="#FFFFFF" />

    <AutoCompleteTextView
        android:id="@+id/editText1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:ems="10"
        android:imeOptions="actionSearch"
        android:inputType="textAutoComplete|textAutoCorrect"
        android:textColor="#FFFFFF" >

        <requestFocus />
    </AutoCompleteTextView>

</LinearLayout> 
```

有关更多详细信息，请查看这篇文章：[一](http://developer.android.com/reference/android/widget/AutoCompleteTextView.html)、[二](http://developer.android.com/guide/topics/ui/controls/text.html)和[三](https://stackoverflow.com/questions/12883732/how-to-display-custom-view-in-actionbar)

**好运！**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-11-14T13:31:54.687

我有一个简单的方法可以在不使用自动完成文本视图的情况下做到这一点，只需放置一个包含项目 ArrayList(itemArrayList) 的简单列表适配器，以使用搜索视图进行建议。将适配器设置为您的 SearchAutoComplete 和自动完成功能将在下面工作我的代码。有了这个，你不必使用额外的布局。

```
 @Override
public boolean onCreateOptionsMenu(Menu menu) {
// Inflate the menu; this adds items to the action bar if it is present.
getMenuInflater().inflate(R.menu.main, menu);

MenuItem searchItem = menu.findItem(R.id.search);
SearchView mSearchView = (SearchView) MenuItemCompat.getActionView(searchItem);

SearchAutoComplete searchAutoComplete = (SearchAutoComplete)     mSearchView.findViewById(android.support.v7.appcompat.R.id.search_src_text);
searchAutoComplete.setTextColor(Color.WHITE);

ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
android.R.layout.simple_dropdown_item_1line, itemArrayList);
searchAutoComplete.setAdapter(adapter);

SearchManager searchManager =
(SearchManager) getSystemService(this.SEARCH_SERVICE);
mSearchView.setSearchableInfo(
searchManager.getSearchableInfo(getComponentName()));
return true;
} 
```

单击建议的项目，该项目应出现在搜索视图中，因此在 onCreateOptionmenu(...) 方法内将适配器设置为 searchAutoComplete 之后添加以下代码。

```
@Override
public void onItemClick(AdapterView<?> parent, View view, int position,
long id) {
// TODO Auto-generated method stub

String searchString=(String)parent.getItemAtPosition(position);
searchAutoComplete.setText(""+searchString);
Toast.makeText(MainActivity.this, "you clicked "+searchString, Toast.LENGTH_LONG).show();

}
}); 
```

您还可以在此[链接中查看完整代码](http://androidoze.com/2015/11/12/android-autocompletesearch-view-with-action-bar/)

# teradata - 替换 Teradata 中的特殊字符

> ID：15805402
> 
> 赞同：2
> 
> 时间：2013-04-04T07:49:00.527
> 
> 标签：teradata

我在 Teradata 数据库中有特殊字符，我想删除它。

```
Example - special character: "aa€bb"  (special charcter is "€" sign)
Desired output: "aabb" 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T14:59:09.530

如果您有 Teradata 14（抱歉，我没有），您应该能够使用新`REGEXP_REPLACE`功能，如下所示：

```
SELECT  'aa€bb' as source_col
       , REGEXP_REPLACE(source_col, '€') as new_col1
       , REGEXP_REPLACE(source_col, '€', NULL, 1, 0, 'c') as new_col2 
```

第一个例子应该可以解决问题；第二个仅显示其他函数参数值及其默认值。第三个参数是替换字符串，所以当为空时，它应该删除那个字符。

# c# - 值不能为空。参数名称：uri

> ID：15805405
> 
> 赞同：6
> 
> 时间：2013-04-04T07:49:04.887
> 
> 标签：c#, wcf, visual-studio, wcf-binding, livecycle

尝试调用 Adob​​e Livecyle Soap 服务时出现以下错误：

值不能为空。参数名称：uri

奇怪的是我没有任何名为“uri”的参数。我无法调试此错误，因为该服务甚至无法启动。错误消息是我所拥有的。

这是我传递参数的代码：

```
BasicHttpBinding binding = 
    new BasicHttpBinding(BasicHttpSecurityMode.Transport);
binding.Security.Transport.ClientCredentialType = HttpClientCredentialType.Basic;

LetterService.LETTER_APPLICATIONS_Client client = 
    new LetterService.LETTER_APPLICATIONS_Client(
          binding, 
          new EndpointAddress(
                System.Configuration.ConfigurationManager.AppSettings["URL"])); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-04T08:23:46.303

参数`EndpointAddress()`被命名`URI`（您可以将光标放在 之后`(`，然后按`Ctrl + Shift + Space`查看参数列表）。

您可以通过替换来验证这是不是问题：

```
new EndpointAddress(
            System.Configuration.ConfigurationManager.AppSettings["URL"])); 
```

..使用如下内容：

```
new EndpointAddress("http://your.service.uri/"); 
```

如果可行，您就知道您的错误与配置相关。

# c# - 用户代码未处理 NullReferenceException

> ID：15805407
> 
> 赞同：1
> 
> 时间：2013-04-04T07:49:06.583
> 
> 标签：c#, asp.net, nullreferenceexception

我有图像滑块，在 IE 中我有一个错误。

这是我的代码：

```
*//Složka s obrázky partnerů
string slozka = HttpContext.Current.Server.MapPath("~/Partneri");

protected void Page_Load(object sender, EventArgs e)
{
    int cislo_obrazku = 0;
    if (!Page.IsPostBack)
    {
        ArrayList slide = new ArrayList();
        System.IO.DirectoryInfo inputDir = new System.IO.DirectoryInfo(slozka);
        foreach (FileInfo eachfile in inputDir.GetFiles())
        {
            slide.Add(eachfile.ToString());
            cislo_obrazku += 1;
        }
        Session["cislo_obrazku"] = cislo_obrazku;
        Session["obrazky"] = slide;
        Casovac(this, new EventArgs());
    }
}

protected void Casovac(object sender, EventArgs e)
{
    ArrayList slide = new ArrayList();
    slide = (ArrayList)Session["obrazky"];
    if ((Session["aktualni"] != null) && (Convert.ToInt32(Session["aktualni"]) != Convert.ToInt32(Session["cislo_obrazku"]) - 1))
    {
        //Posun na další
        Image1.ImageUrl = "~\\Partneri\\" + slide[Convert.ToInt32(Session["aktualni"]) + 1].ToString();
        Session["aktualni"] = Convert.ToInt32(Session["aktualni"]) + 1;
    }
    else if (Session["aktualni"] == Session["cislo_obrazku"])
    {
        //Pokud není další, začni znovu
        Image1.ImageUrl = "~\\Partneri\\" + slide[0].ToString();
        Session["aktualni"] = 0;
    }
    else
    {
        if (Convert.ToInt32(Session["cislo_obrazku"]) != 0)
        {
            //Initally load the first image in the image control
            Image1.ImageUrl = "~\\Partneri\\" + slide[0].ToString();
            Session["aktualni"] = 0;
        }
    }
} 
```

错误：`NullReferenceException was unhandled by user code`

错误指向这个：

```
Image1.ImageUrl = "~\\Partneri\\" + slide[0].ToString(); 
```

和

```
Image1.ImageUrl = "~\\Partneri\\" + slide[0].ToString(); 
```

你有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T11:28:22.647

`NRE`可能是最容易理解的例外。当您没有进行足够的防御性编码时，这也是最常见的问题之一。

很简单，这意味着您正在尝试访问 null 对象的属性/方法。

在你的情况下

```
 slide[0].ToString(); 
```

任何一个

*   `slide`一片空白
*   `slide[0]`一片空白。

设置断点，调试您的应用程序。确定哪个是空的，或者考虑这一点（例如，使用默认值），或者如果该对象为空的情况确实是一个例外情况，则抛出一个更有意义的异常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T11:26:53.260

会话对象`obrazky`尚未初始化。

在之后添加一个空检查：

```
slide = (ArrayList)Session["obrazky"]; 
```

# javascript - 淘汰赛中的可见性绑定不起作用

> ID：15805414
> 
> 赞同：0
> 
> 时间：2013-04-04T07:49:34.743
> 
> 标签：javascript, knockout.js

我有一个跨度，我将跨度与敲除绑定，以便在页面加载时它可以工作。我试图通过锚标记单击绑定来更改值。

```
<a href='#'data-bind='click:ViewModel.setVisibility,disable:ViewModel.completeReview '>Show More</a>
<span data-bind="html: ViewModel.getText(Text),visible:ViewModel.completeReview "></span> 
```

然后在我看来模型变化是

```
self.completeReview = ko.observable(false);
self.setVisibility = function () {
    return self.completeReview = true;
}; 
```

但它没有反映在可见性中。我在 firebug 中进行了调试。该方法被调用。有人知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T11:24:06.370

你不能像普通变量一样设置 observable 。并且不需要在视图上返回任何东西，因为 observables 会自动通知你 UI 的变化。试试这个 ：

*html*

```
<a href='#'data-bind='click: ViewModel.setVisibility,disable:ViewModel.completeReview '>Show More</a>
<span data-bind="visible:ViewModel.completeReview ">
  Click to on Show More to hide or show me.
</span> 
```

*JS*

```
function ViewModel()
{
  var self = this;

  self.completeReview = ko.observable(false);

  self.setVisibility = function () {
     self.completeReview(!self.completeReview());
  };
}

var ViewModel = new ViewModel();
ko.applyBindings(ViewModel); 
```

[**工作小提琴**](http://jsbin.com/onicuf/1/edit)

# lua - 使用 for 循环在 Corona 中设置对象的 x 位置

> ID：15805415
> 
> 赞同：0
> 
> 时间：2013-04-04T07:49:42.577
> 
> 标签：lua, coronasdk

在我的游戏类中，我从另一个类（objA 和 objB）中调用两个对象，如下所示：

```
for i=1, countA do
pos.x = pos.x + 15
objA = objClass:new("objClass", group, pos)
wArray[i]=i
end

for j=1, countB do
pos.x = pos.x + xPoint
objB = objClass:new("objCLass", group, pos)
end 
```

我需要 for 循环，因为我想在我的游戏类中添加这些对象的随机数。我的问题是，我想在我的游戏中同时定位 a 和 b。例如：objA - objA - objB - objB - objA 或 objB - objA - objB - objB。但是，鉴于我当前的代码，我最终得到的模式将是所有 objA 在添加所有 objB 对象之前先。

我知道简单的答案是只使用一个 for 循环，但我看到的问题是我的游戏中至少需要 1 个 objA 和 1 个 objB。我不能拥有所有 objB 或所有 objA。让他们随机定位的最佳方法是什么？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T09:44:26.483

如果您想在 As 和 Bs 之间随机选择，您可以尝试类似

```
local ab = {}

for i = 1,countA+countB do
    ab[i] = i<=countA and "A" or "B"
end

for i = 1,countA+countB do
    local idx = math.random(#ab)
    local choice = table.remove(ab,idx)

    if choice=="A" then
        pos.x = pos.x + 15
        objA = objClass:new("objClass", group, pos)
    else
        pos.x = pos.x + xPoint
        objB = objClass:new("objClass", group, pos)
    end
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T09:45:21.163

```
-- Prepare your counters (just an example)
local countA = math.random(3)  -- 1,2,3
local countB = math.random(5)  -- 1,2,3,4,5

-- Generate permutation
repeat
   if math.random(1-countB, countA) > 0 then 
      countA = countA - 1
      -- Do something with objA
   else
      countB = countB - 1
      -- Do something with objB
   end
until countA + countB == 0 
```

# c# - 测试结束标签

> ID：15805432
> 
> 赞同：0
> 
> 时间：2013-04-04T07:50:56.300
> 
> 标签：c#, .net, xml

如何测试结束标签是否可用：

例如

```
<A>
  <n>  

  <r>
  </r>

<b>
</b> 
```

在上述情况下，我缺少了`</A>`结束`</n>`标签。
我该如何检查？

**代码：**

```
 try
            {
                XmlDocument xdoc = new XmlDocument();
                xdoc.LoadXml(FileName);

            }
            catch (XmlException xe)
            {
                XmlDocument xdoc = new XmlDocument();
                xdoc.LoadXml(FileName);
                xdoc.AppendChild(xdoc.CreateElement("/n"));
                xdoc.AppendChild(xdoc.CreateElement("/A"));
            } 
```

但这给了我一个例外：根目录下的数据无效。xml 缺少 /n 和 /A 的结束标记。请指教。

**编辑2：**

```
try
            {
                XmlDocument xdoc = new XmlDocument();
                xdoc.LoadXml(FileName);
                                }
            catch (XmlException xe)
            {
               using (StreamWriter w = File.AppendText(FileName))
           {
               w.WriteLine("</n>");
               w.WriteLine("</A>");
           }
            } 
```

现在使用 Edit 2，它会使用缺少的标签更正文件名。但是，如果 xml 已经可用，它仍然会进入另一个标签 /n /A 并给我一个例外：意外的结束标签。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:56:54.170

将其加载到 XmlDocument 中，在其周围放置一个 try-catch，如果有任何异常，则意味着您的 XML 字符串有问题（缺少结束标记、无效字符等）-

```
try{
    XmlDocument xdoc = new XmlDocument();
    xdoc.LoadXml(xmlString);
}
catch (XmlException xe)
{
    System.Windows.Forms.MessageBox.Show(xe.Message);
} 
```

# contextmenu - div为空时如何停止jquery上下文菜单？

> ID：15805433
> 
> 赞同：0
> 
> 时间：2013-04-04T07:50:57.587
> 
> 标签：contextmenu, jquery-context

我正在尝试 Jquery 上下文菜单。它工作正常。我的代码如下

```
$(function () {
                            $.contextMenu({
                                selector: '.droppable',
                                callback: function (key, options) {
                                    if (key == "delete") {
                                        if ($(this).html() != "") {
                                            $(this).html("");
                                            deleteKey($(this).attr("id"));
                                        }
                                    }
                                },
                                items: {
                                    "delete": { name: "Delete", icon: "delete" }
                                }
                            });

                        }); 
```

现在我想要的是在 ($(this).html()=="") 时不打开菜单。

当容器的 html 为空白时，我可以阻止菜单在右键单击时打开吗？

提前致谢。

维丁

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:53:25.050

好的，

我得到了解决方案。

每次当 conte 的 html 发生变化时，我都需要运行代码

```
 if ($(this).html() == "") {
                                $("#" + $(this).attr("id")).contextMenu(false);
                            } 
```

谢谢。

# c# - RazorEngine 解析抛出无法编译

> ID：15805434
> 
> 赞同：5
> 
> 时间：2013-04-04T07:50:57.963
> 
> 标签：c#, .net, razorengine

我正在尝试用这一行编译一个剃须刀文件

```
RazorEngine.Razor.Parse("Hello world"); 
```

但它只是抛出

```
base {System.Exception} = {"Unable to compile template. Source file 'C:\\Windows\\TEMP\\vlu4zahf.0.cs' could not be found\n\nOther compilation errors may have occurred. Check the Errors property for more information."} 
```

错误属性如下所示：

```
[0] = {error CS2001: Source file 'C:\Windows\TEMP\vlu4zahf.0.cs' could not be found}
[1] = {warning CS2008: No source files specified} 
```

所以没有好的信息。

我正在运行 .NET 4.0 和 Razor Engine 3.2.0.0

# 更新 1

我在 RazorEngine 中找到了这一行的错误

```
Tuple.Create(
                compileResult.CompiledAssembly.GetType("CompiledRazorTemplates.Dynamic." + context.ClassName),
                compileResult.CompiledAssembly); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-16T06:40:41.713

这很可能是编译剃刀文件的用户帐户的权限问题。确保它对 C:\Windows\Temp 具有完全控制权限

有关背景信息，请参见此处：http: [//social.msdn.microsoft.com/Forums/en-US/asmxandxml/thread/85f9b330-a938-4afe-a615-db83085e52d2/](http://social.msdn.microsoft.com/Forums/en-US/asmxandxml/thread/85f9b330-a938-4afe-a615-db83085e52d2/)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-02-27T03:37:17.703

Adrian 的回答引导我对为什么首先需要/使用 c:\windows\temp 进行一些研究。事实证明，这个目录的使用与我为应用程序创建的 IIS 应用程序池直接相关。我使用的池将“加载用户配置文件”设置为 False。事实证明，此属性默认设置为 False 只是为了保留设计为在 IIS 6 上运行的应用程序的向后兼容性（在存在负载配置文件选项之前） - 并且兼容性问题与此类应用程序利用 %temp% 的情况无关目录。尽管这是默认设置，但根据 Microsoft 的说法，将其设置为 False 并不是首选做法。

相反，此设置应设置为 True，这样做将为您的应用程序提供运行应用程序池的用户配置文件下的 %temp% 目录。这样做可以减少更改系统卷权限的需要。

此设置可在 IIS 管理器的 AppPool 的高级设置中访问。

这也可以通过运行以下命令在 powershell（以管理员身份运行）中完成：

```
Import-Module WebAdministration
$appPoolName = "ReplaceWithYourAppPoolName"
$appPool = Get-Item IIS:\AppPools\$appPoolName
$appPool.processModel.loadUserProfile = $true
$appPool | Set-Item 
```

# windows-phone-7 - 即使设备倾斜到横向，也可以纵向设计我的 Windows 应用商店应用程序

> ID：15805440
> 
> 赞同：0
> 
> 时间：2013-04-04T07:51:05.920
> 
> 标签：windows-phone-7, microsoft-metro, windows-phone-8, windows-store-apps

我是一名 Windows Phone 开发人员，刚开始使用 Windows 应用商店应用程序。我希望我的应用程序仅在纵向模式下工作，即使设备倾斜到横向（我不希望应用程序更改为横向模式）。如何设置我的 Windows 应用商店应用程序来完成此操作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T08:33:26.993

在应用清单中，您可以设置支持的旋转：

![在此处输入图像描述](https://i.stack.imgur.com/9vllv.png)

也就是说，您可能会因此遇到认证问题，因为[快照模式是必需的](http://msdn.microsoft.com/en-us/library/windows/apps/hh694083.aspx#ACR_3_6)。捕捉模式适用于横向，所以这似乎是你不需要做的事情，但正如[这个线程所暗示](http://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/6164729b-cfa8-48fe-baeb-41a88df07cf8)的，你可能有问题。一种可能的解决方法是提供一个名义上的横向视图，它只是说应用程序仅在纵向模式下运行，但是当您将应用程序提交到商店时，我会大量记录您在“测试人员须知”中仅支持纵向的理由。

# json - 在流星集合中插入 json 数据

> ID：15805446
> 
> 赞同：2
> 
> 时间：2013-04-04T07:51:36.490
> 
> 标签：json, insert, meteor

这是我的代码。[https://github.com/StudioMockingbird/SH_meteor](https://github.com/StudioMockingbird/SH_meteor)

它只是我试图在集合中插入一些我自己的数据的排行榜示例。

我的数据位于 lib/book.js 中，并被定义为一个对象（var myBook）。

我用于插入的代码在 leaderboard.js 中为 -

```
Pages = new Meteor.Collection("pages");
if (Meteor.isServer) {
    Meteor.startup(function () {
        if(Pages.find().count() === 0){
            var pages = JSON.parse(myBook.stories);
            for (page in pages) {
                Pages.insert(pages[page]);
            }
        }
    });
} 
```

当我尝试运行我的代码时，它给了我

```
Running on: http://localhost:3000/
Exited with code: 1
Exited with code: 1
Exited with code: 1
Your application is crashing. Waiting for file change. 
```

我究竟做错了什么？我对流星完全陌生。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:54:50.323

您需要解决以下几点：

**删除图书的范围**

你已经使用了`var myBook`，通过使用变量被限定范围，或者至少它是在我的rc8 中，如果你用 console.log 得到这本书，现在不要担心这个，但是如果你以后遇到它，如果给出你的问题只是改变它`var``myBook``0.6.0``0.6.0`

**使用 JSON.parse**

您不需要将 JSON 数据解析为一个对象，因为它已经声明为一个对象，因此请更改：

```
 var pages = JSON.parse(myBook.stories); 
```

到

```
var pages = myBook.stories; 
```

通过这些更改，我设法使其正常运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-20T19:25:33.880

或者使用“forEach”的另一种方式。我更喜欢它，因为它是“异步”的

```
pages.forEach(function (item, index, array) {
    console.log('inserting book ', item);
    Pages.insert(
        item
    );
}); 
```

# sql-server - CharIndex 选择具有全词搜索的行

> ID：15805447
> 
> 赞同：1
> 
> 时间：2013-04-04T07:51:40.177
> 
> 标签：sql-server, sql-server-2008, tsql

我编写了以下 SQL 查询。我只想返回“纽约”和“新泽西”。但是我的数据集随之返回“新”。

询问：

```
DECLARE @charToSerch nvarchar(100)

SET @charToSerch='New York,New Jersy'

Create table #Temp
(
        Name nvarchar(100)
)

INSERT into #temp(Name) values('New')
INSERT into #temp(Name) values('New York')
INSERT into #temp(Name) values('New Jersy')
INSERT into #temp(Name) values('Dellas')
INSERT into #temp(Name) values('Laligam')

Select * FROM #temp where charindex(Name,'New York,New Jersy')>0

DROP table #temp 
```

数据集如下所示。

```
Name
---------
New
New York
New Jersy 
```

请帮我解决这个问题。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:09:37.400

创建函数将字符串拆分为行。

```
CREATE FUNCTION [dbo].[uf_SplitIntoTable](@String varchar(max), @Delimiter char(1))     
RETURNS @temptable TABLE (items varchar(500))     
AS     
BEGIN     
    DECLARE @idx int     
    DECLARE @slice varchar(max)     

    SELECT @idx = 1     
        IF len(@String)<1 or @String is null  RETURN     

    WHILE @idx!= 0     
    BEGIN
        SET @idx = CHARINDEX(@Delimiter,@String)     
        IF @idx!=0     
            SET @slice = left(@String,@idx - 1)     
        ELSE     
            SET @slice = @String     

        IF(LEN(@slice)>0)
            INSERT INTO @temptable(Items) VALUES(LTRIM(RTRIM(@slice)))     

        SET @String = right(@String,len(@String) - @idx)     
        IF LEN(@String) = 0 BREAK     
    END 

    /* удаляем повторяющиеся ключи */
    ;WITH CTE(N) AS
    (
        SELECT ROW_NUMBER() OVER(PARTITION BY items ORDER BY items)
        FROM @temptable
    )
        DELETE CTE WHERE N>1;

RETURN     
END 
```

并以这种方式使用它

```
Select *
FROM #temp t
     join dbo.uf_SplitIntoTable(@charToSerch,',') s on t.Name=s.items 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:04:23.187

我认为正确的sql是：

```
Select * FROM #temp where charindex('New York',Name)>0 or Charindex('New Jersy',Name)>0 
```

关于[Patindex](http://msdn.microsoft.com/en-us/library/ms188395.aspx)和[charindex 的信息](http://msdn.microsoft.com/en-us/library/ms186323.aspx)

# ruby-on-rails - Heroku 托管网站无法注销

> ID：15805448
> 
> 赞同：1
> 
> 时间：2013-04-04T07:51:41.460
> 
> 标签：ruby-on-rails, heroku

为了学习 RoR，我一直在学习 Hartl 教程和一些 railscast。在实施 railscast“记住密码”复选框后，我无法再在 Heroku 托管站点上注销我的示例用户。一切都在本地运行良好，但在 Heroku 上，如果我尝试签名，flash 会告诉我我已成功注销，但实际上什么也没发生。即使在数据库迁移之后问题仍然存在。我认为我的问题与[此](https://stackoverflow.com/questions/7338870/how-to-fix-the-authlogic-heroku-cant-logout-issue-in-production)类似，但我看到没有人回答这个问题。有没有人有任何想法？我正在使用`bcrypt-ruby`gem（版本 3.0.1）。

我`sign_in`在会话助手中的操作如下所示：

```
def sign_in(user)
  if params[:remember_me]
    cookies.permanent[:remember_token] = user.remember_token
  else
    cookies[:remember_token] = user.remember_token
  end
  self.current_user = user
end 
```

我的`sign_out`动作是这样的：

```
def sign_out
  self.current_user = nil
  cookies.delete(:remember_token)
end 
```

@abhir - 我认为这些是日志中的相关位：

```
2013-04-04T14:13:34+00:00 app[web.1]: Started DELETE "/signout" for 108.228.60.12 at 2013-04-04 14:13:34 +0000
2013-04-04T14:13:34+00:00 app[web.1]:   Parameters: {"authenticity_token"=>"<TOKENWASHERE>"}
2013-04-04T14:13:34+00:00 app[web.1]: Redirected to https://quiet-spire-8115.herokuapp.com/
2013-04-04T14:13:34+00:00 app[web.1]: Processing by SessionsController#destroy as HTML
2013-04-04T14:13:34+00:00 app[web.1]: Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
2013-04-04T14:13:34+00:00 heroku[router]: at=info method=POST path=/signout host=quiet-spire-8115.herokuapp.com fwd="108.228.60.12" connect=11ms service=15ms status=302 bytes=105
2013-04-04T14:13:34+00:00 app[web.1]: Started GET "/" for 108.228.60.12 at 2013-04-04 14:13:34 +0000
2013-04-04T14:13:34+00:00 app[web.1]: Processing by StaticPagesController#home as HTML 
```

如您所见，该站点在[这里](https://quiet-spire-8115.herokuapp.com/)。谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T01:33:54.760

我有同样的问题，这里是修复。此修复程序的唯一问题是您无法保持以 user/1 身份登录。但是，它适用于其他所有人。本质上，heroku 将没有 cookie 与 user/1 相关联。至少我是这样理解的，它是向我解释的。

尝试在我们的会话助手中将您当前的用户方法更改为：

```
def current_user
    if cookies[:remember_token].present?
    @current_user ||= User.find_by_remember_token(cookies[:remember_token])
end 
```

结尾

# php - 致命错误：在第 24 行调用非对象上的成员函数 bind_param()

> ID：15805449
> 
> 赞同：0
> 
> 时间：2013-04-04T07:51:43.447
> 
> 标签：php, pdo, mysqli

再会，

我正在运行一个博客页面，即`PHP`. 我正在使用`PDO`连接字符串，并且一切正常。

我现在，最近上传到我的服务器，现在我不得不更改为使用`mysqli`.

我是使用这种格式的新手，因为我一直使用`PDO`.

我的代码如下，有人可以帮忙吗？

```
<?php
if (isset($_POST['cmdPost']))
 {
        try
        {
        $name = $_POST['txtname'];
        $subj = $_POST['txtsubject'];
        $msg = $_POST['txtmessage'];

            if(empty($name) || empty($subj) || empty($msg))
                throw new Exception("Error - Please fill in input fields!");

        $stmt = $dbh->prepare("INSERT INTO blogs VALUES (name, subject, message)");
        $stmt->bind_param($name, $subj, $msg); 
```

这是我得到错误的地方：

```
"Fatal error: Call to a member function bind_param() on a non-object in /home/m4230930/public_html/blog.php on line 24" 
```

我已经坚持了 3 天，我不确定如何继续。

有人可以帮忙吗？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:55:27.190

更改以下行：

```
 $stmt = $dbh->prepare("INSERT INTO blogs VALUES (name, subject, message)");
    $stmt->bind_param($name, $subj, $msg); 
```

和 ：

```
$stmt = $dbh->prepare("INSERT INTO blogs (name, subject, message) VALUES (?,?,?)");
    $stmt->bind_param('sss',$name, $subj, $msg); 
```

# ios - 使用 UIDatePicker 对象了解 NSDateFormatter 行为

> ID：15805451
> 
> 赞同：0
> 
> 时间：2013-04-04T07:51:46.163
> 
> 标签：ios, objective-c, nsdateformatter

我在尝试使用以下代码设置 UIDatePicker 日期属性时遇到问题：

```
NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
[dateFormat setDateFormat:@"dd/MM/YYYY"];

NSString *GDate = @"11/07/1988";

NSDate *anyDate = [dateFormat dateFromString:GDate]; 
[picker setDate:anyDate]; 
```

问题是日期标记只显示了年份部分，没有显示日期或月份。我已经解决了它改变这一行：

```
[dateFormat setDateFormat:@"dd/MM/YYYY"];

// I also tried with this
// [dateFormat setDateFormat:@"dd'/'MM'/'YYYY"]; 
```

通过这个：

```
[dateFormat setDateStyle:NSDateFormatterShortStyle]; 
```

现在，我正在努力理解这里的问题是什么，但我无法得出任何一致的结论。有人可以帮我理解吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T08:05:36.710

从 更改`dd/MM/YYYY`为`dd/MM/yyyy`将起到作用。

根据[http://waracle.net/iphone-nsdateformatter-date-formatting-table/](http://waracle.net/iphone-nsdateformatter-date-formatting-table/)上的表格，YYYY 和 yyyy 的唯一区别是前者用于基于“一年中的一周”的日历。

# algorithm - 二叉树中最难的操作是什么？

> ID：15805453
> 
> 赞同：0
> 
> 时间：2013-04-04T07:51:48.657
> 
> 标签：algorithm, binary-tree

我调查了这个 BST，并在[算法第一部分](https://www.coursera.org/course/algs4partI)讲座中找到了答案。
正如讲座中提到的，删除是执行和效率方面最困难的操作。

![在此处输入图像描述](https://i.stack.imgur.com/bsvw3.png)

但这仅适用于简单的二叉树。
红黑 BST 和另一个呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:08:54.680

对于 BST（[二叉搜索树](http://en.wikipedia.org/wiki/Binary_search_tree)），搜索和插入都适用于`O(log n)`,

因为它们的工作方式相同..

删除拍摄`O(T(Search) + T(Delete-Node)) = O(T(Search) + T(Find-Ancestor) + C)`

`= O(log n + d)`其中d是树高..

# android - Android - 如何匹配线性布局的大小

> ID：15805455
> 
> 赞同：0
> 
> 时间：2013-04-04T07:52:02.380
> 
> 标签：android, layout, android-linearlayout, pinchzoom

您好，我有一个可以调整大小的布局，但我想同步 3 个不同的线性布局

第一个线性布局作为标题，第二个线性布局作为左滚动条，第三个线性布局作为内容容器，所以布局将是这样的

```
 ____________________________
  |_____|____|HEADER___|____|__|
  |     |____|____|____|____|__|
  |_____|____|____|____|____|__|
  |     |    |    Content   |  |
  |_____|____|____|____|____|__|
  | left|____|____|____|____|__|
  |_____|    |    |    |    |  |
  |     |    |____|____|____|__|
  |_____|____|____|    |____|__|
  |     |____|____|    |____|__|
  |_____|____|____|____|____|__| 
```

标题和左滚动条是可滚动的并与内容同步，因此当我滚动内容时，标题和滚动条也会滚动。但那是另一回事，我已经成功地创造了它。现在我想使用捏添加缩放功能，所以我创建了一个捏视图来检测捏和计算比例，这也完成了。但是现在我想使用我使用 layoutparams 从捏计算的比例来调整布局的大小，但是当我尝试缩放布局时，布局不再匹配。

如您所见，标题的大小和左子大小是静态的，但内容的子视图的大小是动态的，所以我要匹配的是内容单元格的宽度与标题单元格的宽度和左栏的高度和内容的高度

这是我的 xml 文件

```
<niko.twodimensionalscroll.PinchView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/pvZoomContainer"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" >

    <LinearLayout
        android:id="@+id/llContainerMain"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >

        <LinearLayout
            android:id="@+id/llHeaderContainer"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >
        </LinearLayout>

        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:orientation="horizontal" >

            <LinearLayout
                android:id="@+id/llLeftBarContainer"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content" >
            </LinearLayout>

            <RelativeLayout
                android:id="@+id/rlContainerScrollView"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:drawingCacheQuality="low" >

                <niko.twodimensionalscroll.TwoDScrollView
                    android:id="@+id/tdScrollView"
                    android:layout_width="fill_parent"
                    android:layout_height="fill_parent"
                    android:drawingCacheQuality="low" >

                    <LinearLayout
                        android:id="@+id/llContainerSchedule"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:drawingCacheQuality="low"
                        android:orientation="horizontal" >
                    </LinearLayout>
                </niko.twodimensionalscroll.TwoDScrollView>
            </RelativeLayout>
        </LinearLayout>
    </LinearLayout>

</niko.twodimensionalscroll.PinchView> 
```

我希望我的问题足够清楚，但如果您需要其他信息，请在评论中提问，我会解释更多

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:21:33.190

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="50dp"
    android:orientation="vertical" 
    android:background="#444444">

    <TextView
        android:id="@+id/textView1"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:text="Header" />

</LinearLayout>

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="0dp"
    android:background="#666666"
    android:layout_weight="1" >

    <LinearLayout
        android:layout_width="50dp"
        android:layout_height="match_parent"
        android:orientation="vertical" 
        android:background="#440000">
         <TextView
        android:id="@+id/textView1"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:text="LeftBar" />
    </LinearLayout>

    <RelativeLayout
        android:layout_width="0dp"
        android:layout_height="match_parent" 
        android:layout_weight="1"
        android:background="#000099">

          <TextView
              android:id="@+id/textView1"
              android:layout_width="wrap_content"
              android:layout_height="wrap_content"
              android:layout_alignParentTop="true"
              android:layout_centerHorizontal="true"
              android:layout_marginTop="158dp"
              android:text="Content" />

    </RelativeLayout>

</LinearLayout> 
```

尝试这样的事情

# android - Android 开发人员的 FlashAir API 文档

> ID：15805456
> 
> 赞同：0
> 
> 时间：2013-04-04T07:52:05.630
> 
> 标签：android, flashair

我有东芝 FlashAir SD 卡。我想为它制作一个安卓应用程序，但我没有编程信息。你知道API文档在哪里吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-05T14:49:14.620

这是 API 指南： [https ://flashair-developers.com/en/documents/api/](https://flashair-developers.com/en/documents/api/)

另外，这里有一些用于 FlashAir 开发的 Android 教程： [https ://flashair-developers.com/en/documents/tutorials/android/](https://flashair-developers.com/en/documents/tutorials/android/)

# java - 重命名 Derby 架构

> ID：15805458
> 
> 赞同：1
> 
> 时间：2013-04-04T07:52:14.873
> 
> 标签：java, sql, derby

我已经创建了几个 Derby 数据库并带有数据。

我需要更改每个模式的名称，因此我正在寻找一种有效的方法来重命名模式或导出所有数据并将其导入新创建的数据库中。

感谢您的建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T14:04:20.380

```
create table mynewschema.mynewtable( column-definitions... );

insert into table mynewschema.mynewtable select * from myoldschema.myoldtable;

drop table myoldschema.myoldtable; 
```

# c# - 使用 args 从另一个程序启动程序后丢失绑定

> ID：15805459
> 
> 赞同：0
> 
> 时间：2013-04-04T07:52:16.210
> 
> 标签：c#, wpf, mvvm, binding

这是第一个程序中代码的一部分，我在这里启动第二个程序。

```
 private void ExecuteStartCacherCommand(object parameter)
        {
            try
            {
                StringBuilder sb = new StringBuilder();
                sb.Append("\"" + ProductCode.BoxName + "\""); sb.Append(" ");
                sb.Append(LengthText); sb.Append(" ");
                sb.Append(WidthText); sb.Append(" ");
                sb.Append(HeightText); sb.Append(" ");
                sb.Append(L1); sb.Append(" ");
                sb.Append(L2); sb.Append(" ");
                sb.Append(StampTotalPrice);

                string arg = sb.ToString();

                Process p = new Process();
                p.StartInfo.FileName = "CacherPrices.exe";
                p.StartInfo.Arguments = arg;
                p.Start();
            }
            catch (Exception ex)
            {
                System.Console.WriteLine(ex.Message);
            }
        } 
```

这是第二个程序中代码的一部分。

```
 protected override void OnStartup(StartupEventArgs e)
        {
            base.OnStartup(e);

            try
            {
                string[] args = new string[10];

                ArgsIncome ai;

                if (e.Args.Length > 0)
                {
                    for (int i = 0; i < e.Args.Length; i++)
                    {
                        args[i] = e.Args[i];
                    }

                    ai = ArgsIncome.getSampleOfDataBase();
                    ai.Name = args[0];
                    ai.Length = args[1];
                    ai.Width = args[2];
                    ai.Height = args[3];
                    ai.L1 = args[4];
                    ai.L2 = args[5];
                    ai.Stamp = args[6];

                }
                else
                    ai = ArgsIncome.getSampleOfDataBase(); 
            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.Message);
            }

            // загружаем главное окно.
            View.MainWindow window = new View.MainWindow();
            this.MainWindow = window;
            window.Show();

        } 
```

**问题：** 当我从第一个程序启动第二个程序时**，我拥有的所有绑定都消失了**。当我使用 args 在调试中启动第二个程序时，一切正常

附加信息

```
public class ArgsIncome
    {
        public string Name { get; set; }
        public string Length { get; set; }
        public string Width { get; set; }
        public string Height { get; set; }
        public string L1 { get; set; }
        public string L2 { get; set; }
        public string Stamp { get; set; }

        private ArgsIncome()
        {
            Name = "Тип";
            Length = "0";
            Width = "0";
            Height = "0";
            L1 = "0";
            L2 = "0";
            Stamp = "0";
        }

        private static readonly object padlock = new object();
        private static ArgsIncome dataBase = null;

        public static ArgsIncome getSampleOfDataBase()
        {
            if (dataBase == null)
            {
                lock (padlock)
                {
                    if (dataBase == null)
                    {
                        dataBase = new ArgsIncome();
                    }
                }
            }
            return dataBase;
        }
    } 
```

绑定示例

```
<TextBox Margin="5" Width="75" Text="{Binding Path=StampPrice,UpdateSourceTrigger=PropertyChanged}"/>

string _stampPrice;
    public string StampPrice
    {
        get
        {
            if (_stampPrice == null)
                _stampPrice = _ai.Stamp;
            return _stampPrice;
        }
        set
        {
            _stampPrice = value;
        }
    }

class MainWindowViewModel : ViewModelBase{}

public abstract class ViewModelBase : INotifyPropertyChanged, IDisposable{} 
```

# java - 如何使用记录器打印异常？

> ID：15805460
> 
> 赞同：26
> 
> 时间：2013-04-04T07:52:16.397
> 
> 标签：java, exception, logging

我有一种情况，我想使用记录器打印在 catch 块中捕获的所有异常。

```
 try {
        File file = new File("C:\\className").mkdir();
        fh = new FileHandler("C:\\className\\className.log");
        logger.addHandler(fh);
        logger.setUseParentHandlers(false);
        SimpleFormatter formatter = new SimpleFormatter();
        fh.setFormatter(formatter);
    } catch (Exception e) {
        logger.info(e);
    } 
```

我得到错误记录器不能应用于`java.io.Exception...`

我担心的是，如果我在 try 块中做了这么多事情，而我只保留一个 catch 块作为 catch(Exception e)，那么有没有办法使用记录器打印在 catch 块中捕获的任何类型的异常？注意：我们使用的是 java.util.logging.Logger API

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-04-04T08:16:27.173

您可能应该澄清您使用的是哪个记录器。

`org.apache.commons.logging.Log`接口有方法`void error(Object message, Throwable t)`（和方法`void info(Object message, Throwable t)`），它将堆栈跟踪与您的自定义消息一起记录。Log4J 实现也有这个方法。

所以，可能你需要写：

```
logger.error("BOOM!", e); 
```

如果您需要使用 INFO 级别记录它（不过，这可能是一个奇怪的用例），那么：

```
logger.info("Just a stack trace, nothing to worry about", e); 
```

希望能帮助到你。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-09-25T11:46:19.797

使用：`LOGGER.log(Level.INFO, "Got an exception.", e);`
或 `LOGGER.info("Got an exception. " + e.getMessage())`；

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-04T07:59:07.460

尝试记录堆栈跟踪，如下所示：

```
logger.error("Exception :: " , e); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:55:25.083

您可以使用此方法将异常堆栈记录到 String

```
 public String stackTraceToString(Throwable e) {
    StringBuilder sb = new StringBuilder();
    for (StackTraceElement element : e.getStackTrace()) {
        sb.append(element.toString());
        sb.append("\n");
    }
    return sb.toString();
} 
```

# php - 使用 Sql 查询在 php 中打印输出

> ID：15805461
> 
> 赞同：1
> 
> 时间：2013-04-04T07:52:21.853
> 
> 标签：php, mysql

我正在研究 PHP，我想从用户表中获取特定列 'uid' 的计数。输出窗口不显示任何内容。以下是代码。任何人都可以帮助我纠正此代码。

```
 <?php
    $link = mysql_connect('localhost', 'username', 'password');
    if (!$link) {
        die('Could not connect: ' . mysql_error());
    }
    mysql_select_db("rth_db");
    $data = mysql_query("SELECT COUNT(uid) AS Total FROM users", $link);
    $number = mysql_fetch_array($data);
    echo $number;
    echo 'Connected successfully';
    mysql_close($link);
    ?> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T07:54:07.250

您应该以不同的方式处理您的数据

```
echo $number["Total"]; 
```

此外，不推荐使用 mysql，请查看 PDO。这对于安全性等也更好。您可以查看 PHP.NET 页面以获取更多信息

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:55:17.893

改变这个

```
echo $number; 
```

到

```
print_r($number); 
```

或者

```
echo $number['Total']; 
```

因为`$number`不是。`array`_`string`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T07:56:58.603

尝试使用这个：

```
<?php
    $link = mysql_connect('localhost', 'username', 'password');
    if (!$link) {
        die('Could not connect: ' . mysql_error());
    }
    mysql_select_db("rth_db");
    $data = mysql_query("SELECT COUNT(uid) AS Total FROM users", $link);
    $number = mysql_fetch_array($data);
    echo $number['total'];
    echo 'Connected successfully';
    mysql_close($link);
    ?> 
```

如果您注意到，我刚刚编辑了一行...希望这可行:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T08:28:30.133

你也可以使用

```
var_dump($number); 
```

# android - Android - what is the real use of - category

> ID：15805472
> 
> 赞同：0
> 
> 时间：2013-04-04T07:53:14.340
> 
> 标签：android

I am quite new to Android

I studied how to use category (in the intent-filter). And I know category is used for grouping the activities. But didn't understand what is the real use of - category.

Can any help me in this regard - **siting the practical use of category**.

Thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:20:38.600

该类别提供有关要执行的操作的附加信息。例如，[CATEGORY_LAUNCHER](http://developer.android.com/reference/android/content/Intent.html#CATEGORY_LAUNCHER)意味着它应该作为顶级应用程序出现在启动器中，而[CATEGORY_ALTERNATIVE](http://developer.android.com/reference/android/content/Intent.html#CATEGORY_ALTERNATIVE)意味着它应该包含在用户可以对一条数据执行的替代操作列表中。

[这是带有简短说明的完整类别列表](http://developer.android.com/reference/android/content/Intent.html#CATEGORY_DEFAULT)

# java - 使用 JPA 并发访问同一文件

> ID：15805475
> 
> 赞同：1
> 
> 时间：2013-04-04T07:53:22.370
> 
> 标签：java, hibernate, jpa, desktop-application

我有一个可以由不同用户运行的桌面 java 应用程序。它利用 JPA 访问存储为文件的数据库。为此，我不想运行单独的数据库服务器。

数据库的目的是存储在程序中完成的动作，它是一个简单的“存储记录”操作。但是所有用户都必须能够读取这些存储的记录。

我如何确保不同的应用程序可以保存它们的操作，同时不覆盖其他应用程序的操作？所以我需要一种方法：

1.  打开数据库（文件）
2.  锁定它
3.  编写添加的动作
4.  关闭数据库（文件）

JPA 中有没有办法执行/执行此操作？我现在正在使用休眠，但这不是一个严格的要求。

请不要回答“你可以用技术 XXX 做到这一点”。请注意，我担心并发问题以及如何强制打开文件并再次关闭。技术 XXX 如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:05:21.827

JPA 是一个 ORM（对象关系映射）规范；ORM 中的 R 与 RDBMS 中的 R 含义相同。JPA 绝对不适合平面文件持久性系统

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:06:16.387

您可以尝试使用 SQLite 数据库文件。在这种情况下，您可以实现对同一文件（例如数据库）的并发访问，同时您可以使用[SQLite JDBC 驱动程序](https://bitbucket.org/xerial/sqlite-jdbc)以及您的 JPA 提供程序（例如 Hibernate）。

唯一的缺点可能是，严格地说，它不是纯 Java 方法，因为提议的 JDBC 驱动程序在其中捆绑了本机库，但我不认为这是一个问题。

# ruby - English word capture

> ID：15805480
> 
> 赞同：1
> 
> 时间：2013-04-04T07:53:44.983
> 
> 标签：ruby, gem, word

I have a big text file which contains many English words. However it contains German and French words as well. I need to capture all English words in it.

I reckon, firstly I read all file from the disk and convert it into an array, second I match the all words against unix English word dictionary like [here](https://stackoverflow.com/a/3480849/665123), yet it is not a good solution because of the size of each file. If I do in that way, complexity will be high, and I don't want that.

Do you have any idea how I can do it with Ruby in a simple way?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:56:01.667

您可以做的第一件事是将英语词典放入一个[集合](http://www.ruby-doc.org/stdlib-2.0/libdoc/set/rdoc/Set.html)（而不是数组）。这样，查找是 O(1)，整体复杂度是 O(N) 而不是 O(NxM)。

# qml - How to override BlackBerry10 function?

> ID：15805481
> 
> 赞同：3
> 
> 时间：2013-04-04T07:53:46.083
> 
> 标签：qml, blackberry-10, blackberry-cascades

I am making an application that is using tab bar with the "More" button. I would like to Override the swipe function and instead of OnClick on the "More" button, the help panel to pop up on swipe (from left to right).

![enter image description here](https://i.stack.imgur.com/LyNGB.png)

The picture is showing the tabs and the fourth tab button is the "More" button.

Here is my main.qml file.

```
TabbedPane {
    showTabsOnActionBar: false
    Tab {
        title: "Home"
        Page {
            id: page1
            actions: [
                ActionItem {
                    id: new
                    title: "New"
                },
                ActionItem {
                    id: delete
                    title: "Delete"
                },
            ]

        }

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-18T13:59:48.720

从 TabbedPane 的文档中（您在其中看到了这些图形），您可以“通过设置属性 sidebarState 来改变侧边栏的外观”。因此，可以使用 GestureHandler 来检测滑动并将 sidebarState 设置为 VisibleFull。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T05:48:21.263

这些是操作，而不是选项卡。“更多”按钮是操作溢出菜单。您可以收听此菜单的状态。[onActionMenuVisualStateChanged](http://developer.blackberry.com/cascades/reference/bb__cascades__page.html#function-actionmenuvisualstatechanged-newactionmenuvisualstate)

# java - 无法在 catch 块中处理 RunTimeException

> ID：15805482
> 
> 赞同：1
> 
> 时间：2013-04-04T07:53:49.467
> 
> 标签：java, exception, exception-handling, core

如果我在 catch 块中写 RunTimeException 那么为什么不处理它。

```
class main{
    public static void main(String cs[]){
        try{
            int a = 10/0;
        }
        catch(RunTimeException e){
            System.out.println("exception caught");
        }
    }
} 
```

我的问题是为什么如果我编写 RunTimeException 会出现错误，而不是如果我编写 RunTimeException 的子类，即 ArithmaticException 和超类 Exception。

**错误是**

```
Exception in thread "main" java.lang.Error: Unresolved compilation problem: 
RunTimeException cannot be resolved to a type 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-04T07:55:42.883

这是 RuntimeException 而不是 RunTimeException。Java 是一种区分大小写的语言。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T07:56:54.050

java是区分大小写的语言。写`RuntimeException` 异常。Java 使用**骆驼大小写**作为方法名，使用**帕斯卡大小写**作为类名。如果您遵循此规则，您将获得更少的异常。如果您使用`IDE`诸如`netbean/eclipse`. 这些 IDE 可在 Internet 上免费下载

# javascript - 加快从大量文本框中获取值并存储到数组中

> ID：15805486
> 
> 赞同：0
> 
> 时间：2013-04-04T07:54:05.127
> 
> 标签：javascript, jquery, performance

我正在编写一个网页，其中包含大量文本框，这些文本框填充在服务器端。在页面加载时，我需要从文本框中获取所有值并将它们存储在一个数组中。目前我正在这样做：

文本框列表：

```
<input name="hdnID" type="hidden">256<input>
<input name="hdnCode" type="hidden">XXXXX<input>
<input name="hdnName" type="hidden">Name 1<input>
<input name="hdnID" type="hidden">257<input>
<input name="hdnCode" type="hidden">XXXXY<input>
<input name="hdnName" type="hidden">Name 2<input>
... 
```

JavaScript/Jquery：

```
 var count = $('[name=hdnCode]').length;
  var arrItems = new Array();

  for (i=0; i < count; i++)
  {
      var joItem = {
              "itemID"       : $('[name=hdnID]')[i].value,
              "itemCode"     : $('[name=hdnCode]')[i].value,
              "itemName"     : $('[name=hdnName]')[i].value
          };

    arrItems[i] = joItem;
  } 
```

目前我的页面上有 1045 个项目，导致 3135 个文本框！在 IE8 上，我收到一个弹出窗口，上面写着“停止运行此脚本？页面上的脚本导致 Internet Explorer 运行缓慢..”。任何人都可以想出一种方法来加快速度或提高效率，以便 IE 8 可以处理它吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:58:50.900

属性选择器通常效率不高，因此请尝试一些其他方式来选择您想要的输入（例如，特定父项下的所有输入）。

此外，您没有缓存选择的结果，因此它必须一遍又一遍地进行。

IE

```
 var hdnIDs =  $('[name=hdnID]');
 var hdnCodes = $('[name=hdnCode]');
 var hdnNames = $('[name=hdnName]');
 var count = hdnCodes.length; 
 for (i=0; i < count; i++)
  {
      var joItem = {
              "itemID"       : hdnIDs[i].value,
              "itemCode"     : hdnCodes[i].value,
              "itemName"     : hdnNames[i].value
      };

      arrItems[i] = joItem;
  } 
```

应该更有效率。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:58:50.927

尝试缓存值数组并优化你的 for 循环：

```
var count = $('[name=hdnCode]').length,
    allID = $('[name=hdnID]'),
    allCode = $('[name=hdnCode]'),
    allName = $('[name=hdnName]'),
    arrItems = new Array();

for ( var i = count; i--; ) {

    var joItem = {
        "itemID"       : allID[i].value,
        "itemCode"     : allCode[i].value,
        "itemName"     : allName[i].value
    };

    arrItems[i] = joItem;
} 
```

来自[http://www.phpied.com/extreme-javascript-optimization/](http://www.phpied.com/extreme-javascript-optimization/)：

> 这个循环的执行速度将提高 50%，因为在每次迭代中它只是从 i 中减去一个值，并且由于该值不是“假的”，换句话说它不是 0，因此循环继续。当值达到 0 时，循环停止。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:59:02.587

使用数据属性

```
<input name="hdnID" type="hidden" data-inpname="itemID">256<input>
<input name="hdnCode" type="hidden" data-inpname="itemCode">XXXXX<input> 
```

试试这个

```
var arrItems ={};
$('input').each(function(i,v){
    var $this=$(this), 
        name=$this.data('inpname');
        value=$this.val(); 

    arrItems.name=value;
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T08:20:20.660

马克的回答是有效的。但是，如果你的数组非常大，那也会失败。但我有一个解决方案。考虑有单独的页面并尝试使用更多的网络技术，如 localstorage、ajax 等，

试试这个代码

```
var hdnIDs =  $('[name=hdnID]');
var hdnCodes = $('[name=hdnCode]');
var hdnNames = $('[name=hdnName]');
var hdnIDsDup = hdnIDs.concat();
var hdnCodesDup = hdnCodes.concat();
var hdnNamesDup = hdnNames.concat();

function process(hdnIDs,hdnCodes,hdnNames){
        var joItem = {
              "itemID"       : hdnIDs.value,
              "itemCode"     : hdnCodes.value,
              "itemName"     : hdnNames.value
      };
      arrItems[i] = joItem;
   }

 setTimeout(function(){

    var start = +new Date();

    do {
         process.call(context, hdnIDsDup.shift(),hdnCodesDup.shift(),hdnNamesDup.shift());
    } while (hdnCodesDup.length > 0 && (+new Date() - start < 50));

    if (hdnCodesDup.length > 0){
        setTimeout(arguments.callee, 25);
    } else {
        callback(array);
    }
}, 25); 
```

timeout 函数中的 do while 循环将执行几毫秒，如果我们正在处理的数组中存在任何元素，则第二次超时确保再次循环。

您可以在以下链接中找到有关此方法的更多详细信息。 [http://www.nczonline.net/blog/2009/01/05/what-determines-that-a-script-is-long-running/](http://www.nczonline.net/blog/2009/01/05/what-determines-that-a-script-is-long-running/) [http://www.nczonline.net/blog/2009/08/ 11/timed-array-processing-in-javascript/](http://www.nczonline.net/blog/2009/08/11/timed-array-processing-in-javascript/)

# php - 解释这段代码在 PHP 中是如何工作的？

> ID：15805489
> 
> 赞同：3
> 
> 时间：2013-04-04T07:54:10.457
> 
> 标签：php

请参阅下面的代码，这在 PHP 中完美运行。谁能解释一下这段代码是如何工作的。因为在下面的代码中我已经声明`$caregory_id` `without semicolon`并且没有任何值减速。然后这段代码也可以完美运行，没有任何错误，并`var_dump($category_id)`返回一个`null`值。

php如何在没有分号的情况下执行此代码？

```
<?php
    $category_id= //No semicolon
    var_dump($category_id); //returns NULL
?> 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-04T07:56:29.830

它之所以有效，是因为 PHP 像这样对待您的代码：

```
$category_id = var_dump($category_id); 
```

的返回值`var_dump()`被赋值给`$category_id`。PHP 中的未定义变量被隐式设置为`null`，这就是您在`var_dump()`. 但是，您也会收到关于`$category_id`未定义的通知；如果你没有看到它，你应该在你的脚本中使用这个代码：

```
error_reporting(-1);
ini_set('display_errors', 'On'); 
```

在开发过程中也建议使用这些设置，因为它们可以捕获在生产机器上不会被注意到的问题。

# php - Zend 框架 foreach 循环停止了第一次迭代

> ID：15805490
> 
> 赞同：1
> 
> 时间：2013-04-04T07:54:10.280
> 
> 标签：php, zend-framework, foreach, tree

我实际上正在研究ZF。我有一个类别表，我想创建一个树以便显示如下数据：

```
Category
--Sub cat 1
--Sub cat 2
----Su sub cat 1
Another Category
--Sub cat 1
//...etc... 
```

我正在使用该`fetchAll`方法获取所有数据。一切正常。但是我现在正试图将我的树创建为一个双 foreach 循环，如下所示：

```
$tree = array();
foreach($data as $parent){
    $tree[$parent->name] = array();
    foreach($data as $child){
        if($child->parent_id == $parent->id){
            $tree[$parent->name][] = $child->name;
        }
    }
} 
```

问题是循环在`main`循环第一次迭代后停止，所以我只是得到第一个父级，它是子类别，但它不会继续到第二个父级。

我的数据库表为以下字段：

```
id, name, parent_id 
```

任何的想法？

**编辑** 感谢您 Thibault，它确实使用了良好的旧`for`循环：

```
for($i=0;$i<count($data);$i++){
    $tree[$data[$i]->name] = array();
    for($j=0;$j<count($data);$j++){
        if($data[$j]->parent_id == $data[$i]->id){
            $tree[$data[$i]->name][] = $data[$j]->name;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:07:52.160

您可能在两个`$data`变量的游标之间存在冲突。

`$data`您应该使用第二个`foreach`循环的副本。

或者使用`for`带有`$i`和`$j`索引的循环，并通过和调用它们`$data[$i]`来`$data[$j]`访问数组，这样循环就不会被弄乱。

**编辑** 很高兴我可以提供帮助，但经过一些研究，我创建了这段代码：

```
<?

class o {
 public $id;
 public $name;
 public $parent_id;
 function __construct($_id,$_name,$_parent) {
  $this->id = $_id;
  $this->name = $_name;
  $this->parent_id = $_parent;
 }
}
$data = array(
 new o(1,'toto',0),
 new o(2,'truc',1),
 new o(3,'machin',1),
 new o(4,'bidule',2),
 new o(5,'titi',3),
 new o(6,'tutu',3),
);

$tree = array();
foreach($data as $parent){
    $tree[$parent->name] = array();
    foreach($data as $child){
        if($child->parent_id == $parent->id){
            $tree[$parent->name][] = $child->name;
        }
    }
}

print_r($tree); 
```

而且你的代码工作得很好：（其他地方一定有问题......）

```
Array
(
    [toto] => Array
        (
            [0] => truc
            [1] => machin
        )

    [truc] => Array
        (
            [0] => bidule
        )

    [machin] => Array
        (
            [0] => titi
            [1] => tutu
        )

    [bidule] => Array
        (
        )

    [titi] => Array
        (
        )

    [tutu] => Array
        (
        )

) 
```

# javascript - 为什么使用 Javascript 对象而不是原型

> ID：15805491
> 
> 赞同：2
> 
> 时间：2013-04-04T07:54:19.673
> 
> 标签：javascript, backbone.js, prototype

哟，

我的问题是关于 javascript 对象。

我已经阅读了backbone.js 代码，我看到模型和对象正在使用javascript 对象来定义一个对象。

像那样

```
Backbone.Model.extend({
    initialize: function() { ... },
    author: function() { ... },
    coordinates: function() { ... },
    allowedToEdit: function(account) {
        return true;
    }
}); 
```

为什么不使用原型？因为它为每个类重新定义了方法？因为创建的每个对象都比backboneJS 占用更多空间？

如果有人可以向我解释何时以及为什么使用原型很有趣？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:00:02.397

您在 Backbone 中用于创建对象的 extend 方法使用**原型**，您只是看不到它。
至于另一个问题，我想你问第一个问题的方式是正确的:)。此外，从[我看到的一些基准测试来看](https://stackoverflow.com/questions/3493252/)，如果实例化许多对象，使用原型会更快。也就是说，如果您使用单例，您可能需要使用静态属性（extend(protoProp, staticProp)）。

**相关Backbone的代码（扩展函数定义）：**

```
var Surrogate = function(){ this.constructor = child; };
Surrogate.prototype = parent.prototype;
child.prototype = new Surrogate;

// Add prototype properties (instance properties) to the subclass,
// if supplied.
if (protoProps) _.extend(child.prototype, protoProps); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:01:06.180

你好像误会了。这是源代码：

```
var extend = function(protoProps, staticProps) {
    var parent = this;
    var child;

    // The constructor function for the new subclass is either defined by you
    // (the "constructor" property in your `extend` definition), or defaulted
    // by us to simply call the parent's constructor.
    if (protoProps && _.has(protoProps, 'constructor')) {
      child = protoProps.constructor;
    } else {
      child = function(){ return parent.apply(this, arguments); };
    }

    // Add static properties to the constructor function, if supplied.
    _.extend(child, parent, staticProps);

    // Set the prototype chain to inherit from `parent`, without calling
    // `parent`'s constructor function.
    var Surrogate = function(){ this.constructor = child; };
    Surrogate.prototype = parent.prototype;
    child.prototype = new Surrogate;

    // Add prototype properties (instance properties) to the subclass,
    // if supplied.
    if (protoProps) _.extend(child.prototype, protoProps);

    // Set a convenience property in case the parent's prototype is needed
    // later.
    child.__super__ = parent.prototype;

    return child;
}; 
```

这可能会令人困惑，但这里的本质是 Backbone 的`.extend`方法创建新函数，将传递的对象分配给它的原型并返回它。

至于第二个问题：如果您正在处理共享相同功能的多个对象，请始终使用原型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T17:51:20.403

在这里，您正在扩展一个模型，可以使用 JS 对象。但是，如果你想实现一个 OOP 类、接口或库，请选择 JS 原型。

# python - 在 python 中使用字符串时剥离 ' 或 "

> ID：15805493
> 
> 赞同：0
> 
> 时间：2013-04-04T07:54:22.363
> 
> 标签：python, mysql, mysql-python

我在字符串中有列名，现在在以下代码中更新 mysql 中的表：

```
cursor.execute("""update websites SET %s = %s where weblink = %s""",(key,value,x)) 
```

给出错误：

```
_mysql_exceptions.ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''blog' = 1 where weblink = 'http://blogspot.com/'' at line 1") 
```

**键，值 = '博客'，2**

**在 cursor.execute 键是字符串和 sql 表列没有字符串，如何解决这个问题**

```
Traceback (most recent call last):
  File "pgrank.py", line 28, in <module>
    cursor.execute("""update websites SET %s = %s where weblink = %s""",(key,value,x))
  File "/usr/lib/python2.7/dist-packages/MySQLdb/cursors.py", line 174, in execute
    self.errorhandler(self, exc, value)
  File "/usr/lib/python2.7/dist-packages/MySQLdb/connections.py", line 36, in defaulterrorhandler
    raise errorclass, errorvalue
_mysql_exceptions.ProgrammingError: (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '\'blog\'' = 1 where weblink = 'http://blogspot.com/' at line 1') 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:18:59.583

“固有”替换适用于数据，但不适用于表名。

在`SET %s = %s`中，第一个`%s`被替换为`'blog'`while it should be`blog`甚至``blog``。

你应该做

```
cursor.execute("""update websites SET `%s` = %%s where weblink = %%s""" % key, (value,x)) 
```

因为这是两种不同的技术。

更好的可读性将由

```
cursor.execute("update websites SET `" + key + 
    "` = %s where weblink = %s", (value,x)) 
```

如果您检查是否`key`包含该```字符，则会增加安全性。

# jquery - 为什么我的级联下拉列表不起作用？（ASP.NET [MVC 3]）

> ID：15805504
> 
> 赞同：1
> 
> 时间：2013-04-04T07:55:01.640
> 
> 标签：jquery, ajax, asp.net-mvc, json, asp.net-mvc-3

我的级联下拉列表 (DDL) 有问题，当您选择第一个 DDL 时它可以正常工作，当您选择第二个 DDL 时，第三个 DLL 不会触发并且值为 null。

**这是我的 JS**

```
$('#Building_SelectedBuildingID').change(function () {
        var SelectedBuildingID = $(this).val();
        $.getJSON('@Url.Action("ActionFloor")', { buildingId: SelectedBuildingID }, function (oFloors) {
            var SelectFloorID = $('#Floor_SelectedItem');
            SelectFloorID.empty();
            $.each(oFloors, function (index, Floor) {
                SelectFloorID.append(
                    $('<option/>')
                        .attr('value', Floor.Code)
                        .text(Floor.Description)
                );
            });
        });
    });

    $('#Floor_SelectedFloorID').change(function () {
        var SelectedBuildingID = $('#Building_SelectedBuildingID').val();
        var selectedFloorId = $(this).val();
        $.getJSON('@Url.Action("ActionLocation")', { buildingId: SelectedBuildingID,floorId: selectedFloorId }, function (oLocations) {
            var SelectLocationID = $('#Location_SelectedItem');
            SelectLocationID.empty();

            $.each(oLocations, function (index, Location) {
                SelectLocationID.append(
                    $('<option/>')
                        .attr('value', Location.Code)
                        .text(Location.Description)
                );
            });
        });
    });
}); 
```

**看法**

```
@model FA_CS.Models.Operation.NewRegistration  
<table style="width:100%;">
    <tr>
        <td colspan="2">
            <strong>Location</strong></td>
    </tr>
    <tr>
        <td class="style1">
            @Html.LabelFor(m => m.Building)</td>
        <td>
            @Html.DropDownListFor(x => x.Building.SelectedBuildingID, new SelectList(Model.Building.BuildingItems, "code", "description"))
            </td>
    </tr>
    <tr>
        <td class="style1">
            @Html.LabelFor(m => m.Floor) </td>
        <td> 
            @Html.DropDownListFor(x => x.Floor.SelectedItem, Enumerable.Empty<SelectListItem>())
                </td> 
    </tr>
    <tr>
        <td class="style1">
            @Html.LabelFor(m => m.Location)</td>
        <td>
            @Html.DropDownListFor(x => x.Location.SelectedItem, Enumerable.Empty<SelectListItem>())
            </td>
    </tr>
</table> 
```

**模型**

```
Imports System
Imports System.Collections.Generic
Imports System.ComponentModel
Imports System.ComponentModel.DataAnnotations
Imports System.Globalization
Public Class ItemClass
    Private _code As String
    Private _description As String
    Private _ClassItems As System.Collections.Generic.List(Of ItemClass)
    Private _Type As MDL.Type
    Private _Types As System.Collections.Generic.List(Of MDL.Type)
    Private _SelectedClassItem As String
    Private _SelectedTypeItem As String
    Private _SelectedSubTypeItem As String

    Public Property SelectedClassID As String
        Get
            Return _SelectedClassItem
        End Get
        Set(value As String)
            _SelectedClassItem = value
        End Set
    End Property

    Public Property SelectedTypeID As String
        Get
            Return _SelectedTypeItem
        End Get
        Set(value As String)
            _SelectedTypeItem = value
        End Set
    End Property

    Public Property SelectedSubTypeID As String
        Get
            Return _SelectedSubTypeItem
        End Get
        Set(value As String)
            _SelectedSubTypeItem = value
        End Set
    End Property

    <DataType(DataType.Text)> _
    <Display(Name:="Type")> _
    Public Property code() As String
        Get
            Return _code
        End Get
        Set(ByVal Value As String)
            _code = Value
        End Set
    End Property
    <DataType(DataType.Text)> _
    <Display(Name:="Type")> _
    Public Property description() As String
        Get
            Return _description
        End Get
        Set(ByVal Value As String)
            _description = Value
        End Set
    End Property

    Public Property ClassItems() As System.Collections.Generic.List(Of ItemClass)
        Get
            Return _ClassItems
        End Get
        Set(ByVal value As System.Collections.Generic.List(Of MDL.ItemClass))
            _ClassItems = value
        End Set
    End Property
    ''' <summary>
    ''' Property for collection of Type
    ''' </summary>
    ''' <pdGenerated>Default opposite class collection property</pdGenerated>
    Public Property Type() As MDL.Type
        Get
            Return _Type
        End Get
        Set(ByVal value As MDL.Type)
            _Type = value
        End Set
    End Property
    Public Property Types() As System.Collections.Generic.List(Of Type)
        Get
            Return _Types
        End Get
        Set(ByVal value As System.Collections.Generic.List(Of Type))
            _Types = value
        End Set
    End Property
    Public Overrides Function ToString() As String
        Return Me._description
    End Function

End Class 
```

**控制器**

```
 public JsonResult GetCascadeBuildings()
    {
        return Json(FA_CS.Helpers.BuildingList.Status, JsonRequestBehavior.AllowGet);
    }

    public JsonResult GetCascadeFloors(string buildingCode)
    {
        var gathererS = new List<MDL.Floor>();
        gathererS = GetFloors(buildingCode);
        return Json(gathererS, JsonRequestBehavior.AllowGet);
    }

    public List<MDL.Floor> GetFloors(string BuildingCode)
    {
        FAWebService.Service1 faws = new FAWebService.Service1();
        Array arr = faws.GatherFloor(BuildingCode);
        MDL.Floor oFloor = new MDL.Floor();
        List<MDL.Floor> oFloors = new List<MDL.Floor>();
        foreach (FAWebService.Floor itm in arr)
        {
            oFloors.Add(new MDL.Floor { SelectedItem = itm.Code, Description = itm.Description });
        }
        return oFloors;

    }

    public JsonResult GetCascadeLocations(string buildingCode, string floorCode)
    {
        var gatherer = new MDL.Location();
        var gathererS = new List<MDL.Location>();
        gathererS = GetLocations(buildingCode, floorCode);
        return Json(gathererS, JsonRequestBehavior.AllowGet);
    }

    public List<MDL.Location> GetLocations(string BuildingCode, string floorCode)
    {
        FAWebService.Service1 faws = new FAWebService.Service1();
        Array arr = faws.GatherLocation(BuildingCode, floorCode);
        MDL.Location oLocation = new MDL.Location();
        List<MDL.Location> oLocations = new List<MDL.Location>();
        foreach (FAWebService.Location itm in arr)
        {
            oLocations.Add(new MDL.Location { Code = itm.Code, Description = itm.Description });
        }
        return oLocations;

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:03:04.357

这是因为您针对的是错误的元素：

```
$('#Floor_SelectedFloorID').change(function () { 
```

当你应该这样做时：

```
$('#Floor_SelectedItem').change(function () { 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T08:13:12.237

$.getJSON('@Url.Action("ActionFloor")'....我认为 Url.Action 也不会像这样工作...

# jquery - 我该如何正确写这个？

> ID：15805507
> 
> 赞同：-4
> 
> 时间：2013-04-04T07:55:12.163
> 
> 标签：jquery

再会。

**代码：**

```
$('.op').click(function() {
    var id=this.id;
    $('.'+id).toggle();

}); 
```

我得到错误：`{"error": "Please use POST request"}`

*请告诉我怎么写？*

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T07:57:19.587

使用以下命令防止您的默认点击`e.preventDefault()`：

```
$('.op').click(function(e) {
    e.preventDefault();
    var id=this.id;
    $('.'+id).toggle();

}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-04T08:01:57.877

这取决于是什么`.op`：

```
$('.op').click(function(e) {
    e.preventDefault();
    $(this).toggle();
}); 
```

如果你坚持使用`id`（我不知道为什么），你必须使用`$('#'+id).toggle();`

**编辑**：正如[@Barmar](https://stackoverflow.com/users/1491895/barmar)解释的那样，你可以使用这个：

```
$('.op').click(function(e) {
    e.preventDefault();
    var id=this.id;
    $('.'+id).toggle();
}); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-04T08:00:15.130

你在问一个非常奇怪的问题。POST 请求与点击事件无关。

但是 id 通常以 # 为目标，就像这样

```
$('.op').click(function() {
    var id=$(this).attr("id");
    $('#'+id).toggle();
}); 
```

我还冒昧地更改了 id 属性的访问权限。

# java - "error:cannot accesses com.hello.LibC","找不到 com.hello.LibC 的类文件"

> ID：15805511
> 
> 赞同：0
> 
> 时间：2013-04-04T07:55:21.523
> 
> 标签：java, android

我是 Android 新手。我使用此[链接](http://stevethai.wordpress.com/2010/08/04/android-helloworld-with-native-code-tutorial/)运行 NDK 项目。

我按照给定链接中的所有这些步骤进行操作。但是在命令提示符下编译期间，它显示如下错误：

```
 $ javah com.hello.LibC
 error: cannot access com.hello.LibC
 class file for com.hello.LibC not found
 javadoc: error - Class com.hello.LibC not found.
 Error: No classes were specified on the command line.  Try -help. 
```

请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-03T04:09:57.003

在项目的目录中运行时，您需要使用`-classpath PATH`选项指定类路径：`javah``bin`

```
$ javah -classpath classes/ com.hello.LibC 
```

您也可以使用选项指定输出目录`-d PATH`

```
$ javah -d ../jni -classpath classes/ com.hello.LibC 
```

# c# - 如何使用数组选择一系列数字，然后选择所需的输出？

> ID：15805521
> 
> 赞同：1
> 
> 时间：2013-04-04T07:55:43.540
> 
> 标签：c#, arrays, numeric-ranges

例如，如果我想创建一个程序，根据某人拥有的物品数量为他们提供折扣。如果他们要购买 0-5 件商品，他们不会获得折扣。如果他们购买 5-10 件商品，他们将获得 5% 的折扣，如果他们购买 10-20 件商品，他们将获得 10% 的折扣，依此类推。如何使用数组而不是许多“If”语句来排序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:08:33.960

如何从存储边界和折扣的结构开始：

```
public struct DiscountSpec
{
   public int MinItems{get;set;}
   public int MaxItems{get;set;}
   public double Discount{get;set;}
} 
```

把它放在一个数组中

```
DiscountSpec[] discounts = new DiscountSpec[]
{
   new DiscountSpec(){MinItems=0,MaxItems=5,Discount=0},
   new DiscountSpec(){MinItems=5,MaxItems=10,Discount=0.05},
   new DiscountSpec(){MinItems=10,MaxItems=20,Discount=0.10},
} 
```

然后是魔法

```
int numItemsPurchased=7;
var discount = discounts.Where(
      d => d.MinItems<numItemsPurchased && d.MaxItems>=numItemsPurchased)
                        .Select(d => d.Discount)
                        .FirstOrDefault(); 
```

现在，`discount`将包含`0`（无折扣）或`0.05`（5% 折扣）或`0.1`（10% 折扣）。如果需要，可以使用其他折扣范围进行扩展。

现场示例：[http ://rextester.com/YDOWS85239](http://rextester.com/YDOWS85239)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:09:17.693

您可以维护一个数组来表示您给定的范围。我说的是存储...。说数组名称是数组然后数组[0] = 5，即第一个间隔的最大值。然后 array[1]=10 第二个间隔的最大值并以相同的方式进行。因为你刚刚维护的这个数组只包含少量的值，所以线性搜索没有性能问题。现在，如果 numberOfOrderedItems 小于 value_of_array 您可以打破循环并决定您想要给予的折扣。

如果您要维护大量折扣间隔，请使用二进制搜索而不是线性搜索。

# asp.net - asp.net 中基于日期的验证

> ID：15805527
> 
> 赞同：1
> 
> 时间：2013-04-04T07:55:52.857
> 
> 标签：asp.net

我的要求是这样的。

我需要维护一个假期清单。为此，我需要在保存/编辑条目时进行一些验证。

我的数据库包含一个带有 HolidayDate 列的表。我在页面中有一个文本框（jquery 日期选择器）。如果我选择的日期已经保存到表中，我应该显示一条警报消息。

谁能尽快帮助我，好吗？提前致谢。艾什瓦利亚。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:25:15.993

试试这个：

```
<asp:TextBox ID="DateControl" runat="server"></asp:TextBox>
<asp:RangeValidator ID ="DateValidator" runat ="server" ControlToValidate="DateControl" ErrorMessage="Invalid Date" Type="Date" MinimumValue="01/01/1900" MaximumValue="01/01/2100" Display="Dynamic"></asp:RangeValidator> 
```

还有更多关于 RangeValidator 的信息：http: [//msdn.microsoft.com/en-us/library/f70d09xt (v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/f70d09xt(v=vs.71).aspx)

示例： [http ://www.w3schools.com/aspnet/showasp.asp?filename=demo_rangevalidator](http://www.w3schools.com/aspnet/showasp.asp?filename=demo_rangevalidator)

服务器端验证的最简单方法：

后面的代码：

```
protected void Button1_Click(object sender, EventArgs e)
{
     DateTime result;
     if (DateTime.TryParse(DatePicker.Text, out result))
     {
           //handle results
     }
     else
     {
           // e.g. highlight DatePicker or handle error
     }
 } 
```

形式：

```
<asp:TextBox ID="DatePicker" runat="server"></asp:TextBox>
<asp:Button ID="Button1" runat="server" Text="Button" onclick="Button1_Click" /> 
```

Jquery 验证示例：

```
<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>jQuery UI Datepicker - Default functionality</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
  <link rel="stylesheet" href="/resources/demos/style.css" />
  <script>
  $(function() {
    $( "#datepicker" ).datepicker({minDate: new Date(2013, 0, 01),maxDate: new Date(2013, 04, 01), dateFormat: "yyyy/mm/dd"});
  }); <!-- select only date from 1 jan 2013 to 1 may 2013 --!>
  </script>
</head>
<body>

<p>Date: <input type="text" id="datepicker" /></p>

</body>
</html> 
```

# sql - 如何使用现有行更新行？

> ID：15805530
> 
> 赞同：0
> 
> 时间：2013-04-04T07:56:12.200
> 
> 标签：sql, sql-server-2008

我有一个产品表。我有一些空行。我想用现有的行填充这些行。例如，如果我有

```
Product
-----------------------------------
ID   Name  Desc  ---------------
1     A     A1   ---------------
2     B     B1   ---------------
3     C     C1   --------------- 
```

我想将 ID=1 的所有项目复制到 ID = 3 行。

试过这个但得到错误，模棱两可

```
UPDATE [Products]
SET DP.[Name] = SP.Name 
    ,DP.[Desc] = SP.DESC                          
FROM    [Products] DP
       INNER JOIN [Products] SP ON SP.ID = 3
WHERE DP.ID = 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:16:05.050

您需要在 UPDATE 中使用别名 - DP 或 SP 而不是 Products 本身，因为它在两者之间是模棱两可的。

```
UPDATE DP
SET DP.[Name] = SP.Name 
    ,DP.[Desc] = SP.[DESC]                          
FROM    [Products] DP
INNER JOIN [Products] SP ON SP.ID = 3
WHERE DP.ID = 1 
```

# vb6 - 子报表vb6.0中的记录选择公式

> ID：15805535
> 
> 赞同：1
> 
> 时间：2013-04-04T07:56:44.747
> 
> 标签：vb6, crystal-reports, subreport

我有一个水晶报告rpt1。我使用 rpt1 作为 rpt2 的子报表。我的 rpt1 中有以下选择公式

```
rpt1.RecordSelectionFormula = " {BANK.PRID}= " & PRID & " " 
```

这里银行是一个tbale名称

当它（rpt1）用作独立报告但用作rpt2的子报告时，它工作正常。该公式不起作用。如何在子报告中应用选择公式？我无法从谷歌那里找到足够的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:54:18.800

您应该使用`OpenSubReport`在主报告中访问您的子报告。试试这个。

```
rpt2.OpenSubreport("rpt1").RecordSelectionFormula="{BANK.PRID}=" & PRID & "" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-09-22T13:39:28.327

创建您的代码可以设置的主要报告参数 ?PRID。更改报表的设计以将 PRID 作为子报表链接传递。允许创建子报表链接以根据链接过滤子报表。

# java - JFreeChart：如何将多个图表放入复合图表

> ID：15805536
> 
> 赞同：6
> 
> 时间：2013-04-04T07:56:48.310
> 
> 标签：java, jfreechart

在 JFreeChart 中有一个复合图表的概念。

我需要在网格中布置几个图表。

网格中的每个图表都需要有自己单独的标题。

我希望能够将此复合图表保存到 png 文件中

我会得到一个解释如何执行此操作的代码片段。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T09:54:20.483

[如此处](https://stackoverflow.com/a/11895877/230513)所示，`ChartPanel`可以放置在任何所需的 Swing 布局中。[引用](https://stackoverflow.com/a/7602126/230513)的示例使用`GridLayout`. `ChartUtilities`具有将图表呈现为`.png`. 我看到了几种获取合成图像的方法：

*   用于`Robot#createScreenCapture()`对布局进行映像，如此[处](https://stackoverflow.com/a/4530852/230513)和[此处](https://stackoverflow.com/a/3742841/230513)所示；结果可以使用.`BufferedImage``ImageIO.write()`

*   用于`JFreeChart#createBufferedImage()`渲染每个图表并将单个图像[强](http://en.wikipedia.org/wiki/Imposition)加到 a`BufferedImage`中以创建单个图像，如此处所建议[的](https://stackoverflow.com/a/2658663/230513)。

*   实现接口以在图形上下文中呈现图像，如此[处](https://stackoverflow.com/search?q=user%3A230513+implements+Printable)`Printable`所示。

![图片](https://i.stack.imgur.com/YTBqP.png)

# mysql - LIKE mysql chr /-1

> ID：15805543
> 
> 赞同：-1
> 
> 时间：2013-04-04T07:57:08.860
> 
> 标签：mysql, ascii, where-clause, sql-like

我的研究，

承认 WHERE (SUBSTRING_INDEX ( `destination`, '-', 1)) LIKE 'A%'

我或多或少地感谢获取列表，让我解释一下；

条件“WHERE for like 'a%'”向我显示以 A 开头的目的地，但我也想检索 Z 和 B，因为 Z

另一个例子，“WHERE (SUBSTRING_INDEX ( `destination`, '-', 1)) LIKE 'F%'”，结果第一个字母 F 在补充：E 和 G

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:04:35.710

```
SELECT  *
FROM    mytable
WHERE   destination >= CHAR(ORD('F') - 1)
        AND destination < CHAR(ORD('F') + 2) 
```

请参阅[SQLFiddle](http://sqlfiddle.com/#!2/56aef/2)

# c++ - 从原生 c++ 到 .NET c++

> ID：15805545
> 
> 赞同：0
> 
> 时间：2013-04-04T07:57:15.697
> 
> 标签：c++, wrapper, managed-c++

我有一个原生 c++ 项目，它是一个水晶报表查看器。该项目很复杂，包含对文件处理的支持（一个导入的项目）。我必须在 c++.NET 中重写此代码，更具体地说，在托管 c++ 中，因为我使用的是 vs2003 service pack 1。

我已经用托管 C++ 编写了水晶查看器，现在我必须将我的新查看器与使用文件项目结合起来。重写使用文件项目它不是可行的解决方案。

什么是正确的方法？

谢谢。再见。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T10:08:01.300

您可以在托管 C++ 项目中使用非托管 C++ 项目。只需添加对非托管 .lib 或 DLL 的引用并为标头添加#include 指令。

# android - Facebook android 美味教程 ListView 在 Google TV 上不可点击

> ID：15805549
> 
> 赞同：0
> 
> 时间：2013-04-04T07:57:23.403
> 
> 标签：android, facebook, android-listview, onclicklistener, google-tv

我最近刚刚构建了一个 android 平板电脑应用程序（现在希望将其移植到 Google TV），它与 Facebook Android Scrumptious App 教程非常相似。特别是该教程的“显示朋友”部分中的问题：http: [//developers.facebook.com/docs/tutorials/androidsdk/3.0/scrumptious/show-friends/](http://developers.facebook.com/docs/tutorials/androidsdk/3.0/scrumptious/show-friends/)

在平板电脑上，当我触摸 ListView 的 Select a Friend 部分时，它会响应 onClick。但是在使用 Dpad 遥控器的 Google TV 上，这不起作用。特别是，（在做了一些日志之后）onClick 永远不会被调用。我已经编写了教程中未调用 onClick 的部分代码。

总结一下：这个 onClick 在 android 平板电脑和移动设备上会被调用。但在 Google TV 上并使用遥控器上的 Enter 按钮单击时不会被调用。

任何有关在 Google TV 平台上调用此 onClick 的帮助都会非常有帮助。

```
 private class PeopleListElement extends BaseListElement {

public PeopleListElement(int requestCode) {
    super(getActivity().getResources().getDrawable(R.drawable.action_people),
          getActivity().getResources().getString(R.string.action_people),
          getActivity().getResources().getString(R.string.action_people_default),
          requestCode);
}

@Override
protected View.OnClickListener getOnClickListener() {
    return new View.OnClickListener() {
        @Override
        public void onClick(View view) {
            // Supposed to do something here BUT ON GOOGLE TV DOES NOT GET CALLED
        }
    };
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T20:55:19.653

当您使用触摸板指针单击项目时会发生什么？我怀疑它可能与布局层次结构有关，并且更高层的东西正在抓取 dpad 事件。相反，可能是 dpad 焦点不在您认为的元素上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T02:57:57.483

各种 Google TV 设备之间存在一些错误，它们没有为 OK/Enter 或 D-pad 中心发送正确的键代码。您可能想要添加一个关键侦听器以查看哪些代码正在发送到您的视图。

# php - 创建 XLS 文件（希腊字符）

> ID：15805550
> 
> 赞同：0
> 
> 时间：2013-04-04T07:57:29.933
> 
> 标签：php

我想创建一个 XLS 文件，其中包含数据库中的一些信息，我想从数据库中检索的数据都是希腊字符。我有这个代码，当我执行代码时，我只有一些符号。任何人都知道我有什么更改以正确获取希腊字符？编辑：问题在于我从 Mysql 数据库中检索的数据和标题这是代码

```
$sql = "SELECT tmima,sex,surname,address,postcode,phone1,phone2 FROM student"; //the query
$result = $db->prepare($sql);
$result->execute();

$column = $result->columnCount();   
$header = "";

$head = array("Τμήμα","Φ","Επίθετο","Όνομα","Μητρώο"); //headings of the XLS

for($i = 0; $i < $column;$i++ ){
    $header .= $head[$i]."\t";
}

$data = "";

while($row = $result->fetch(PDO::FETCH_ASSOC)/*mysql_fetch_row($rec)*/){
    $line = '';
    foreach($row as $value){

        if((!isset($value)) || ($value == " ")){
            $value = "\t";
        }else{
            $value = str_replace( '"' , '""' , $value );
            $value = '"' . $value . '"' . "\t";
        }//end of if-else

        $line .= $value;
    }//end of foreach

    $data .= trim( $line ) . "\n";

}//end of while($row = mysql_fetch_row($rec))

$data = str_replace("\r" , "" , $data);

if ($data == ""){
    $data = "\n No Record Found!\n";                       
}

header('Content-Description: File Transfer');
header('Content-Type: application/ms-excel; charset=utf8');
header("Content-Disposition: attachment; filename=Student_data.xls");
//header("Content-Transfer-Encoding: binary ");
header("Expires: 0");
header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
header("Pragma: public");

print "$header\n$data"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:59:32.113

> 不，我从 Mysql qquery 获得的数据是希腊字符

确保您的数据库连接是 UTF-8 编码的。请参阅[UTF-8](https://stackoverflow.com/questions/279170/utf-8-all-the-way-through)以了解如何做到这一点。

# python - python调试简单的日期时间对象

> ID：15805551
> 
> 赞同：2
> 
> 时间：2013-04-04T07:57:32.743
> 
> 标签：python, datetime

我不明白为什么这会失败，有人可以解释一下：

```
import datetime

def test(timestamp):
    xt = datetime(2013, 4,4)
    dt = datetime.strptime(timestamp, '%d/%m/%Y %H:%M:%S')
    print (xt,dt)

test('04/04/2013 08:37:20') 
```

错误是：

```
回溯（最近一次通话最后）：
  文件“”，第 12 行，在
  文件“”，第 5 行，在测试中
TypeError：“模块”对象不可调用

```

`from datetime import datetime`相反，它似乎可以正常工作。我不明白有什么区别。

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T07:59:29.710

因为在`datetime`模块中，有一个`datetime()`函数，但你没有调用它（你试图调用模块，这就是你得到 a 的原因`TypeError: 'module' object is not callable`）。

```
import datetime
def test(timestamp):
    xt = datetime(2013, 4,4) # Problem is this line.
    dt = datetime.strptime(timestamp, '%d/%m/%Y %H:%M:%S')
    print (xt,dt)

test('04/04/2013 08:37:20') 
```

要修复该行，请将其更改为：

```
xt = datetime.datetime(2013,4,4) 
```

起作用的原因`from datetime import datetime`是因为你导入了特定的函数，所以你不需要做`datetime.datetime()`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:59:11.687

`datetime`既是模块又是该模块中的类。在您的示例中，您需要`datetime.datetime`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T07:59:40.563

这

```
xt = datetime(2013, 4,4) 
```

应该

```
xt = datetime.datetime(2013, 4,4) 
```

这里，`datetime`是模块的名称。类的全称是`datetime.datetime`.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T08:02:43.320

这里`datetime`可以引用模块或模块内的类，所以你必须消除歧义

```
import datetime

def test(timestamp):
    xt = datetime.datetime(2013, 4,4)
    dt = datetime.datetime.strptime(timestamp, '%d/%m/%Y %H:%M:%S')
    print (xt,dt)

test('04/04/2013 08:37:20') 
```

给出以下输出：

`(datetime.datetime(2013, 4, 4, 0, 0), datetime.datetime(2013, 4, 4, 8, 37, 20))`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-04T08:03:51.250

`datetime`是日期时间*模块*，`datetime.datetime`是日期时间*类型*：

```
import datetime

def test(timestamp):
    xt = datetime.datetime(2013, 4,4)
    dt = datetime.datetime.strptime(timestamp, '%d/%m/%Y %H:%M:%S')
    print (xt,dt) 
```

# oracle - 上传带标题的文件

> ID：15805554
> 
> 赞同：-1
> 
> 时间：2013-04-04T07:57:55.670
> 
> 标签：oracle, coldfusion

如何上传多个带有自己标题的文件？我上传多个文件没有问题，但我不知道如何放置标题（因为我将在下一页（报告）中显示上传的图像）。

你能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T10:56:04.580

you can use the parameter cffile.clientFile for displaying that

# java - 验证全名的 Java 正则表达式只允许空格和字母

> ID：15805555
> 
> 赞同：38
> 
> 时间：2013-04-04T07:57:57.283
> 
> 标签：java, regex, validation

我希望正则表达式仅验证字母和空格。基本上这是为了验证全名。例如：**史蒂夫柯林斯先生或史蒂夫柯林斯** 我试过这个正则表达式。“[a-zA-Z]+\.?” 但是没有用。有人可以帮助我吗ps我使用Java。

```
public static boolean validateLetters(String txt) {

    String regx = "[a-zA-Z]+\\.?";
    Pattern pattern = Pattern.compile(regx,Pattern.CASE_INSENSITIVE);
    Matcher matcher = pattern.matcher(txt);
    return matcher.find();

} 
```

* * *

## 回答 #1

> 赞同：100
> 
> 时间：2013-04-04T08:26:08.190

关于什么：

*   彼得·穆勒
*   弗朗索瓦·奥朗德
*   帕特里克·奥布莱恩
*   西尔瓦娜·科赫-梅林

验证名称是一个难题，因为有效名称不仅由字母 AZ 组成。

至少您应该对字母使用 Unicode 属性并添加更多特殊字符。第一种方法可以是例如：

```
String regx = "^[\\p{L} .'-]+$"; 
```

`\\p{L}`是一个[Unicode 字符属性](http://www.regular-expressions.info/unicode.html#prop)，可以匹配来自任何语言的任何类型的字母

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-04-04T08:01:46.953

试试这个正则表达式（允许字母、点、空格）：

```
"^[A-Za-z\s]{1,}[\.]{0,1}[A-Za-z\s]{0,}$" //regular
"^\pL+[\pL\pZ\pP]{0,}$" //unicode 
```

这也将确保 DOT 永远不会出现在名称的开头。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2014-03-18T15:32:26.850

对于那些使用 java/android 并在这件事上苦苦挣扎的人，请尝试：

```
"^\\p{L}+[\\p{L}\\p{Z}\\p{P}]{0,}" 
```

这适用于像这样的名字

*   何塞·布拉桑

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2014-12-08T13:00:20.120

您甚至可以尝试使用此表达式`^[a-zA-Z\\s]*$`来检查仅包含字母和空格（仅此而已）的字符串。

对我来说，它奏效了。希望它也适用于你。

或者通过这段代码一次：

```
 CharSequence inputStr = expression;
    Pattern pattern = Pattern.compile(new String ("^[a-zA-Z\\s]*$"));
    Matcher matcher = pattern.matcher(inputStr);
    if(matcher.matches())
    {
         //if pattern matches
    }
    else
    {
         //if pattern does not matches
    } 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2015-11-06T09:57:59.780

请试试这个正则表达式（只允许字母和空格）

> “[a-zA-Z][a-zA-Z]*”

如果你想要它用于IOS，那么，

```
NSString *yourstring = @"hello";

NSString *Regex = @"[a-zA-Z][a-zA-Z ]*";
NSPredicate *TestResult = [NSPredicate predicateWithFormat:@"SELF MATCHES %@",Regex];

if ([TestResult evaluateWithObject:yourstring] == true)
{
    // validation passed
}
else
{
    // invalid name
} 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-09-23T11:36:06.297

**仅匹配字母和空格的正则表达式模式：**

```
String regexUserName = "^[A-Za-z\\s]+$"; 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-12-12T06:03:44.963

**只接受带空格的字符：-**

```
 if (!(Pattern.matches("^[\\p{L} .'-]+$", name.getText()))) {
    JOptionPane.showMessageDialog(null, "Please enter a valid character", "Error", JOptionPane.ERROR_MESSAGE);
    name.setFocusable(true);
    } 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2018-02-12T11:48:16.587

我个人的选择是： `^\p{L}+[\p{L}\p{Pd}\p{Zs}']*\p{L}+$|^\p{L}+$`，在哪里：

`^\p{L}+`- 它应该以 1 个或多个字母开头。

`[\p{Pd}\p{Zs}'\p{L}]*`- 它可以包含字母、空格字符（包括不可见字符）、破折号或连字符以及 ' 任意顺序 0 次或多次。

`\p{L}+$`- 它应该以 1 个或多个字母结尾。

`|^\p{L}+$`- 或者它应该只包含 1 个或多个字母（这样做是为了支持单个字母名称）。

对点（句号）的支持已被删除，例如在英式英语中，它可以在 Mr 或 Mrs 中被删除。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2015-12-22T07:58:49.457

要仅验证字母和空格，请尝试此操作

```
String name1_exp = "^[a-zA-Z]+[\-'\s]?[a-zA-Z ]+$"; 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2018-03-26T09:22:58.180

验证以下值： ***“”、“FIR”、“FIR”、“FIR LAST”***

```
/^[A-z]*$|^[A-z]+\s[A-z]*$/ 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2018-09-15T12:15:18.353

看一下这个。

```
String name validation only accept alphabets and spaces
public static boolean validateLetters(String txt) {

    String regx = "^[a-zA-Z\\s]+$";
    Pattern pattern = Pattern.compile(regx,Pattern.CASE_INSENSITIVE);
    Matcher matcher = pattern.matcher(txt);
    return matcher.find();

} 
```

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2019-07-15T10:04:13.037

支持像印地语这样可以在语言字符之间包含 /p{Mark} 的语言。我的解决方案是`^[\p{L}\p{M}]+([\p{L}\p{Pd}\p{Zs}'.]*[\p{L}\p{M}])+$|^[\p{L}\p{M}]+$`

你可以在这里找到所有的测试用例 [https://regex101.com/r/3XPOea/1/tests](https://regex101.com/r/3XPOea/1/tests)

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2018-02-09T04:34:24.433

@amal。此代码将符合您的要求。只允许字母和中间的空格，没有数字。文本以任何字母开头，中间只能有空格。“^”表示行首，“$”表示行尾。

```
public static boolean validateLetters(String txt) {

    String regx = "^[a-zA-Z ]+$";
    Pattern pattern = Pattern.compile(regx,Pattern.CASE_INSENSITIVE);
    Matcher matcher = pattern.matcher(txt);
    return matcher.find();

} 
```

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2020-12-15T06:05:45.320

试试这个：

```
public static boolean userNameValidation(String name){

return name.matches("(?i)(^[a-z])((?![? .,'-]$)[ .]?[a-z]){3,24}$");
} 
```

* * *

## 回答 #15

> 赞同：-2
> 
> 时间：2018-05-18T06:52:28.383

**这适用于我验证引导程序**

```
$(document).ready(function() {
$("#fname").keypress(function(e) {
var regex = new RegExp("^[a-zA-Z ]+$");
var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
if (regex.test(str)) {
 return true;
} 
```

# javascript - 通过 jQuery 设置 input:radio 然后通过单击进行检查

> ID：15805559
> 
> 赞同：2
> 
> 时间：2013-04-04T07:58:13.460
> 
> 标签：javascript, jquery, input, checkbox, radio-button

**HTML：**

```
<label><input type="radio" name="type">Stackoverflow</label>
<label><input type="radio" name="type">Google</label> 
```

**jQuery :**

```
$("input:radio").eq(0).attr('checked',true); // Set 1st input checked by jQuery

$("input:radio:not(:checked)").on("click", function(){
      console.log("yes!");
}); 
```

**演示：http:** [//jsbin.com/onayec/1/edit](http://jsbin.com/onayec/1/edit)

看起来 HTML attr`checked="checked"`在单击另一个时不会删除`input:radio`

我只想检查是否不点击`input:radio`谁`checked`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:59:31.383

我认为当单选按钮单击尚未选中时， 使用[更改事件而不是单击会触发事件。](http://api.jquery.com/change/)

```
$("input:radio").on("change", function(){
      console.log("yes!");
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:05:29.130

你也可以试试这个：

```
$('input:radio').click(function () {
    if ($(this).is(':checked')) {
        // do something
        alert('Ckecked');
    }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T08:06:50.093

事件绑定到元素而不是它们的属性，即，当您选择一个元素时，处理程序绑定到该元素，当属性更改时处理程序不会更新，如果您想将点击处理程序绑定到输入元素`checked`您应该使用事件委托。

但是，这不是单选/复选框输入元素的好例子，您所追求的是一个简单的`change`事件处理程序。重点是展示事件如何绑定到元素。

# python - Django 设置：psycopg2.OperationalError: FATAL: Peer authentication failed for user "indivo"

> ID：15805561
> 
> 赞同：40
> 
> 时间：2013-04-04T07:58:20.707
> 
> 标签：python, django, postgresql, psycopg2, django-settings

我在使用 POSTGRESQL 的 Django 项目设置中遇到问题。

这是我的 setting.py 数据库设置

```
DATABASES = {
    'default':{
        'ENGINE':'django.db.backends.postgresql_psycopg2', # '.postgresql_psycopg2', '.mysql', or '.oracle'
        'NAME':'indivo', # Required to be non-empty string
        'USER':'indivo', # Required to be non-empty string
        'PASSWORD':'ritvik',
        'HOST':'', # Set to empty string for localhost.
        'PORT':'', # Set to empty string for default.
        },
} 
```

现在在 postgres 后端我所做的是 .

```
rohit@rohit-desktop:~$ sudo su - postgres
postgres@rohit-desktop:~$ createuser --superuser indivo   # create a super user indivo
postgres@rohit-desktop:~$ psql  # open psql terminal 
psql (9.1.8)
Type "help" for help.

postgres=# \password indivo  # set the password ritvik
Enter new password: 
Enter it again: 
postgres=# \q   #logout 
postgres@rohit-desktop:~$ createdb -U indivo -O indivo indivo  #create db indivo 
```

不幸的是，当我尝试同步数据库时，我收到了错误。

```
psycopg2.OperationalError: FATAL:  Peer authentication failed for user "indivo" 
```

请帮我看看我在这里做错了什么。

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2013-10-27T11:26:09.463

我有类似的问题，并通过添加到 settings.py 中的数据库设置来解决[这个问题](https://stackoverflow.com/a/8232004/2343488)，因此您的数据库设置应如下所示：`localhost``HOST`

```
DATABASES = {
    'default':{
        'ENGINE':'django.db.backends.postgresql_psycopg2', # '.postgresql_psycopg2', '.mysql', or '.oracle'
        'NAME':'indivo', # Required to be non-empty string
        'USER':'indivo', # Required to be non-empty string
        'PASSWORD':'ritvik',
        'HOST':'localhost', # <- Changed from empty string to localhost
        'PORT':'', # Set to empty string for default.
        },
} 
```

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2013-04-08T21:42:52.277

默认情况下，在许多 Linux 发行版中，客户端身份验证设置为“对等”，用于 Unix 套接字连接到数据库。这是在`pg_hba.conf`postgresql 的配置文件中设置的。psycopg2 python 库文档指出：

> - *host*：数据库主机地址（如果未提供，则默认为 UNIX 套接字）

因此，如果您将主机选项留空，您的脚本将尝试连接并使用 Unix 用户名：密码进行身份验证。要修复，您可以：

1.  将“主机”选项明确设置为 127.0.0.1 到您粘贴到问题中的配置代码中。
2.  修改`pg_hba.conf`文件以使用 md5 进行套接字连接，因此它使用存储在 postrgres DB 用户存储中的用户名和密码（不推荐，因为这可能会破坏系统用户的身份验证）

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-04-04T08:00:03.933

您需要设置`pg_hba.conf`对感兴趣的用户、数据库和源 IP 使用`md5`身份验证。请参阅文档的[客户端身份验证](http://www.postgresql.org/docs/current/static/client-authentication.html)章节。

`pg_hba.conf`在 Stack Overflow 上搜索更多信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-11-09T19:27:00.613

在使用 Django 项目设置 postgresql 数据库时，我也遇到了类似的问题。

我的系统正在运行带有 postgresql 版本 10 的 RHEL CentOS 7。我进行了很多搜索，但在看到 /var/lib/pqsql/10/data/log/postgresql*.log 的日志之前无法找到实际发生的情况

2017-11-10 00:31:40.499 IST [14129] 详细信息：连接匹配 pg_hba.conf 第 85 行：“主机所有所有 ::1/128 标识”

所以我只是更改了文件 /var/lib/pgsql/10/data/pg_hba.conf 中的特定行： from host all all ::1/128 ident

至

托管所有::1/128 md5

这样我就可以使用 manage.py migrate 创建数据库和表

感谢所有帮助我找到此解决方案的人。特别是 @juliocesar 和 postgresql 客户端身份验证的官方文档

# mysql - MySQL 中的动态查询

> ID：15805562
> 
> 赞同：0
> 
> 时间：2013-04-04T07:58:28.593
> 
> 标签：mysql, dynamic, pivot, unpivot

我有一张下表。

```
/------------------------------------\
| LocID | Year | Birth | Death | Abc |
|------------------------------------|
|  1    | 2011 | 100   | 60    | 10  |
|------------------------------------|
|  1    | 2012 | 98    | 70    | 20  |
|.....                               |
\------------------------------------/ 
```

我需要输出为（条件 LocID = 1）

```
/---------------------\
| Event | 2011 | 2012 |
|---------------------|
| Birth |  100 |  98  |
|---------------------|
| Death |  60  |  70  |
|---------------------|
| Abc   |  10  |  20  |
\---------------------/ 
```

该表可能包含基于各种要求的更多字段...因此行数将取决于字段数（忽略 LOCID 和 YEAR）。列是恒定的。仅2年（Year will give for ex 2012 is given,然后需要显示2011和2012）。

本质上需要将列名作为行值，将列值作为列标题...

任何帮助....

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-07T15:40:23.917

为了获得您想要的结果，您需要将*当前*数据从列中转为行，然后将`year`数据从行中转为列。

MySQL 没有 PIVOT 或 UNPIVOT 函数，因此您需要使用`UNION ALL`查询来取消透视，并使用带有`CASE`表达式的聚合函数来进行透视。

如果您有已知数量的值，则可以对类似于以下的值进行硬编码：

```
select locid,
  event,
  max(case when year = 2011 then value end) `2011`,
  max(case when year = 2012 then value end) `2012`
from
(
  select LocId, Year, 'Birth' event, Birth value
  from yt
  union all
  select LocId, Year, 'Death' event, Death value
  from yt
  union all
  select LocId, Year, 'Abc' event, Abc value
  from yt
) d
group by locid, event; 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!2/a1902/14)。

但是，如果您将拥有未知数量的值，那么您将需要使用准备好的语句来生成动态 SQL。代码将类似于以下内容：

```
SET @sql = NULL;
SET @sqlUnpiv = NULL;
SET @sqlPiv = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'select locid, year, ''',
      c.column_name,
      ''' as event, ',
      c.column_name,
      ' as value 
      from yt '
    ) SEPARATOR ' UNION ALL '
  ) INTO @sqlUnpiv
FROM information_schema.columns c
where c.table_name = 'yt'
  and c.column_name not in ('LocId', 'Year')
order by c.ordinal_position;

SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'max(CASE WHEN year = ',
      year,
      ' THEN value else null END) AS `',
      year, '`'
    )
  ) INTO @sqlPiv
FROM yt;

SET @sql 
  = CONCAT('SELECT locid,
              event, ', @sqlPiv, ' 
            from 
            ( ',  @sqlUnpiv, ' ) d
            group by locid, event');

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!2/a1902/15)。两个查询的结果是：

```
| LOCID | EVENT | 2011 | 2012 |
-------------------------------
|     1 |   Abc |   10 |   20 |
|     1 | Birth |  100 |   98 |
|     1 | Death |   60 |   70 | 
```

# c# - 事件自动分离

> ID：15805563
> 
> 赞同：0
> 
> 时间：2013-04-04T07:58:39.097
> 
> 标签：c#, winforms, events, designer

当我在我的 Windows 窗体中的控件上附加一个事件时，我遇到了一个问题，即在一段时间后，它会自动与它分离。让我解释一下，例如，如果我有这行代码：

```
this.btnMainMove.MouseMove += btnMainMove_MouseMove; 
```

然后我将`btnMainMove_MouseMove`在表单代码中编写该方法，它运行了几次，但在设计器文件中，上面编写的行会自动删除，我只保留表单代码文件中的方法。

这件事不会发生在`Click`事件上，而只会发生在我创建的方法上，比如`MouseMove`, `MoseOver`, `KeyDown`.

我想知道为什么会发生这种情况以及如何防止这种情况发生。

谢谢你们！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:25:14.160

我不知道有什么问题，但我可以建议你使用 lambda 表达式而不是设计器

```
this.btnMainMove.MouseMove += (sender,event) =>
{
    //your event logic here
}; 
```

但是不要在 Visual Studio 的 GUI 中单击事件来执行此操作，因此您不使用设计器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:57:48.053

您是否正在手动编辑 *.designer.cs 文件？最好避免它，但您可以在构造函数中订阅此事件，就在 InitializeComponent() 方法之后。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T09:20:58.317

设计器仅在 *.Designer.cs 文件中进行更改...

如果您在构造函数或表单的加载事件中添加处理程序，则设计器不会删除您的代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T10:53:47.417

设计器文件通常带有如下消息标记：

```
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.18034
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------ 
```

信息很清楚。更改可能而且将会丢失。

例如，这些类型的文件通常有一个可以手动执行的工具（使用上下文菜单选项），但通常在保存随附`*.cs`文件、编译等之后自动执行。

将您的事件附加到构造函数中、加载时或使用可视化设计器（它将根据布局文件和其他类似的东西跟踪需求，但出于您的考虑）。

# iphone - odatagen：无法生成代理类。请验证元数据 (iOS)

> ID：15805564
> 
> 赞同：2
> 
> 时间：2013-04-04T07:58:39.737
> 
> 标签：iphone, ios, objective-c, wcf, odata

我正在研究**[开放数据协议 (OData)](http://www.odata.org)**，它是一种用于创建和使用数据 API 的标准化协议。

**OData**建立在核心协议`HTTP`（如`REST`.

我已经在**iOS6** 上成功安装、配置和构建了**OData**

 **目前，我正在创建一个**代理类**以使用以下命令连接到**OData 服务：**

```
cd /Users/Shamsu/Applications/ODataObjC/ODataSDKV1-1.3/Framework/bin/ODatagenBinary/MacOSX10.7.sdk/Debug

./odatagen /uri=http://35.35.6.4/MyApp.MyApp3D.DataService/MyApp3DDataService.svc/ /out=/Users/Ramshad/Applications/ODataObjC/ODataSDKV1-1.3/Framework/bin/ODatagenBinary/MacOSX10.7.sdk/Debug  /u=sa /p=123 
```

但是，我收到了错误：`"odatagen: Failed to generate proxy classes. Please verify the metadata"`

我可以看到“metadata.xml”文件更新为

```
<?xml version="1.0" encoding="utf-8"?>
<edmx:Edmx Version="1.0" xmlns:edmx="http://schemas.microsoft.com/ado/2007/06/edmx">
  <edmx:DataServices m:DataServiceVersion="1.0" m:MaxDataServiceVersion="3.0" xmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata">
    <Schema Namespace="MyAppDBModel" xmlns="http://schemas.microsoft.com/ado/2009/11/edm">
      <EntityType Name="User">
        <Key>
          <PropertyRef Name="UserID" />
        </Key>
        <Property Name="UserID" Type="Edm.Guid" Nullable="false" />
        <Property Name="UserName" Type="Edm.String" MaxLength="10" FixedLength="true" Unicode="true" />
        <Property Name="UserDescription" Type="Edm.String" MaxLength="50" FixedLength="false" Unicode="true" />
        <Property Name="Active" Type="Edm.Int64" />
      </EntityType>
    </Schema>
    <Schema Namespace="MyApp.MyApp3D.DataService" xmlns="http://schemas.microsoft.com/ado/2009/11/edm">
      <EntityContainer Name="MyAppDBEntities" m:IsDefaultEntityContainer="true" p6:LazyLoadingEnabled="true" xmlns:p6="http://schemas.microsoft.com/ado/2009/02/edm/annotation">
        <EntitySet Name="User" EntityType="MyAppDBModel.User" />
      </EntityContainer>
    </Schema>
  </edmx:DataServices>
</edmx:Edmx> " 
```

**注意**：`metadata.xml`文件位于输出参数位置`(/Users/Ramshad/Applications/ODataObjC/ODataSDKV11.3/Framework/bin/ODatagenBinary/MacOSX10.7.sdk/Debug /metadata.xml)`

我无法确定问题所在。我的**Windows WCF 服务/ODataService 配置/数据库配置**有什么问题吗？分配为 *（读、写）的权限。

对此问题的任何帮助表示赞赏。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T17:51:03.547

我仔细查看了我在原始评论中链接到的 XSLT 文档，似乎尚未更新 odatagen 工具以与 CSDL v3 一起使用。CSDL 的版本（即用于序列化元数据文档的格式）由 Schema 元素的 xml 命名空间指示。在您的元数据中，该命名空间是`http://schemas.microsoft.com/ado/2009/11/edm`，表示 CSDL v3。您可以在[此处](https://github.com/OData/OData4ObjC/blob/master/Framework/src/odatagen/objc_filename.xsl)的 XSLT 文档中看到，odatagen 工具无法识别此名称空间。

由于 odatagen 工具是开源的（请参阅[github 上](https://github.com/OData/OData4ObjC)的源代码），您可以尝试调整代码和 XSLT 文件以使其适合您的情况。您可以尝试将 v3 名称空间添加到已识别的模式名称空间中，如果您的元数据不使用任何 v3 功能，我想它会正常工作。在我的脑海中，我不确定 v2 和 v3 之间的确切区别，所以我不能立即说明您在上面发布的元数据在 CSDL v2 中是否有效。

或者，您可以尝试生成 $metadata 文档，以便它改用 CSDL v2。

对不起，我没有更好的答案给你。不幸的是，odatagen 工具有点落后。但是非常欢迎您为该项目做出贡献:)**

# jquery - 谷歌拼写检查 http://www.google.com/tbproxy/spell? 抛出 404 错误

> ID：15805568
> 
> 赞同：0
> 
> 时间：2013-04-04T07:58:57.927
> 
> 标签：jquery, .net, jquery-plugins, spell-checking

我在我的 .net 应用程序中使用 jquery.spellchecker.js 来检查用户在 textarea 中键入的拼写。这个插件连接到[http://www.google.com/tbproxy/spell](http://www.google.com/tbproxy/spell)？进行拼写检查。该代码直到昨天都按预期工作，但今天突然停止工作。我从该站点收到 404 错误，并且我的代码显示以下弹出窗口

![在此处输入图像描述](https://i.stack.imgur.com/dgadv.jpg)

知道网址是否已更改？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T13:25:59.243

服务现已开始工作。请检查.. ：）

# wix - 将引导程序与 MSI ui 一起使用

> ID：15805571
> 
> 赞同：18
> 
> 时间：2013-04-04T07:59:06.760
> 
> 标签：wix

我有准备安装的 MSI 文件。它包含一个定制的 UI，它还从用户那里收集数据。作为安装的一部分，如果缺少，我想安装以下内容

*   .Net 框架 4.0
*   Microsoft Visual C++ 2010 可再发行包 (x64)

据我所知，引导程序也应该包含 UI。如何使用引导程序仅启动先决条件阶段，然后继续安装 MSI UI？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-04-04T12:46:12.963

如果您使用 Visual Studio 安装和部署项目引导程序（`GenerateBootstrapper`相关内容），那么它会在安装先决条件后显示您的 MSI UI。这是一个非常简单的引导程序。

我相信您正在考虑的自定义引导程序 UI 是 WiX v3.6+ 中的新刻录功能。Burn 功能更强大，可以为多个链接的包（.exe 或 .msi 或 .msp 或 .msu）创建单一、无缝的用户体验。使用 Burn，您可以创建一个非常自定义的 UI，它不会显示您的链接包中的任何 UI。或者，您可以让 Burn 显示 MSI UI。基本上，Burn 是高度可配置的，但确实需要一些额外的工作（因为 WiX 工具集还没有提供*所有*开箱即用的东西）。

要在基于 Burn 的环境中运行时显示 MSI UI，`Bundle`您需要添加要显示`DisplayInternalUI='yes'`的`MsiPackage`元素。例如：

```
<Chain>
   ...
   <MsiPackage ... DisplayInternalUI='yes' />
</Chain> 
```

如果您使用的是 wixstdba（这很常见），它将显示它的 UI，直到需要安装 .msi 包。然后 .msi 包 UI 将在顶部弹出并返回到 wixstdba UI 以完成`Bundle`安装。如果您想更改基于 Bundle 的 UI 的显示方式，您可以提供自己的引导程序应用程序。

# java - 使用setter getter android的索引元素

> ID：15805573
> 
> 赞同：0
> 
> 时间：2013-04-04T07:59:08.447
> 
> 标签：java

这是我提取肥皂内容的 jsoup 解析器

```
doc = Jsoup.parse(getxml,"", Parser.xmlParser());

    Elements taux = doc.select("taux");

    Elements devise = doc.select("devise");
    Elements datecours = doc.select("dateCours");
    Elements libelle = doc.select("libelle");
    Elements quotite = doc.select("quotite");
    Elements fixing = doc.select("fixing"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:35:49.397

也许这会对你有所帮助。从 Web 服务获取元素后，假设所有字符串都包含一个带有分隔值的大字符串，请执行以下操作：

```
String[] deviseSeparated = devise.split(" "); 
String[] datecourSeparated = datecour.split(" "); 
String[] libelSeparated = libel.split(" "); 
String[] quotSeparated = quot.split(" "); 
String[] fixSeparated = fix.split(" "); 
```

之后，假设所有数组的大小相同，只需执行此 for 循环即可启动对象：

```
for (int i = 0; i < deviseSeparated.length; i++) {
    PostList.add(new convertor_pst(deviseSeparated[i],datecourSeparated[i],libelSeparated[i],quotSeparated[i],fixSeparated[i]));
} 
```

这是你想要的？

# android - android.support.v4.app.Fragment：未定义的方法 getChildFragmentManager()

> ID：15805574
> 
> 赞同：2
> 
> 时间：2013-04-04T07:59:11.573
> 
> 标签：android, android-fragments, android-support-library, android-nested-fragment

我正在使用`ActionBarSherlock`并且`ViewPageIndicator`我尝试实现嵌套片段，但该方法`getChildFragmentManager()`在我的`android.support.v4.app.Fragments`.

没有其他错误，ABS 和 VPI 按预期工作。

我没有使用支持库 v13，我使用的是最新版本，并且我已经清理了我的项目。一个正常人`android.app.Fragment`不会抱怨`getChildFragmentManager()`。

我还尝试重新排列支持库依赖项（ABS、VPI 和引用它的主项目中的 android-support-v4.jar，或作为外部 jar 的 android-support-v4.jar），但`getChildFragmentManager()`仍未定义。

如果我删除了 VPI，则`getChildFragmentManager()`可以，但 VPI 当然会停止工作。所以，依赖项一定有问题，但我没有想法可以尝试。

任何帮助将非常感激！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-04T18:15:12.200

由于 ABS 和我的项目中的不同版本（但不使用 VPI），我对支持库有一些类似的问题

尝试使用 Android SDK 管理器下载最新的 android-support-v4.jar，然后将 jar 复制`<sdkdir>/extras/android/support/v4/android-support-v4.jar`到您的项目以及 ABS 和 VPI（afaik 在他们的下载中都有 android-support-v4.jar 的旧副本)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-11T00:44:16.190

我遇到过同样的问题。我项目中的文件日期是 9/13，而我的 /extras/android/support/v4/ 目录中的文件日期是 7/13。替换文件解决了我的问题。

# c# - 文本框项目未链接到数据集

> ID：15805576
> 
> 赞同：3
> 
> 时间：2013-04-04T07:59:13.157
> 
> 标签：c#, aggregate-functions, reporting-services, rdlc

在 tablix 中，如果有 2 个从数据库（数据集字段）填充的字段（数量和价格），效果很好。在这两列旁边，我添加了另一列 Total，我用它来获取数量 * 价格的总和

```
 =Fields!Quantity.Value*Fields!Price.Value 
```

这也很好。然后，我在该列的底部（在一个矩形内）添加了一个 3 个文本框，我想用它来进行小计（总计）、增值税和税后总计。问题是，我无法将数据集添加到文本框，因此在执行表达式时我无法使用字段部分，这让我不得不在表达式中使用数据集部分来执行此操作。这就是它在数据集部分的外观：（并给我以下错误：

```
 =Sum(Sum(Fields!Quantity.Value, "DataSetItemsRequested")*Sum(Fields!Price.Value, "DataSetItemsRequested")) 
```

textrun 'Textbox53.Paragraphs[0].TextRuns[0]' 的值表达式在另一个聚合函数（或 RunningValue）的参数中包含聚合函数（或 RunningValue 或 RowNumber 函数）。聚合函数不能嵌套在其他聚合函数中。

有没有一种方法可以使用该 Total 列的简单总和，或者如何将数据集添加到文本框中，或者这是我如何做到这一点的正确方法？

```
 =Sum(ReportItems!txtTotal.Value) doesn't work either.... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:23:50.473

而不是使用`TextBox`，将您的值包含在`Tablix`：在组内/外插入另一行并将您的表达式放在那里。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:30:06.887

您可以在 Tablix 中添加一个页脚行，然后添加以下表达式：

```
=Sum(Fields!Quantity.Value * Fields!Price.Value) 
```

如果您希望在 Tablix 之外使用此值，则可以使用类似的表达式：

```
=Sum(Fields!Quantity.Value * Fields!Price.Value, "DataSet1") 
```

行动中的表达：

![在此处输入图像描述](https://i.stack.imgur.com/2FLz1.png)

结果：

![在此处输入图像描述](https://i.stack.imgur.com/IwUCK.png)

# java - 两个具有相同内容的字符串会存储在同一个内存位置吗？

> ID：15805578
> 
> 赞同：23
> 
> 时间：2013-04-04T07:59:15.613
> 
> 标签：java, string, memory-management

这是我在一次采访中得到的一个问题。

我有两个字符串定义为

```
String s1="Java";
String s2="Java"; 
```

我的问题是这两个引用是否指向同一个内存位置。一般来说，当我们创建相同的字符串（没有 new 关键字）时，内容是否只存储在内存中一次，并且所有具有相同内容的 String 对象都只是引用相同的位置，而没有冗余存储字符串“Java”？s1 和 s2 的哈希码相同。但是哈希码是否直接依赖于对象的内存位置？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-04-04T11:14:12.260

组合相同字符串的过程称为“[实习](http://en.wikipedia.org/wiki/String_interning)”，许多语言编译器已经做了很多年，但并非总是如此。这个问题的答案，尤其是由@GennadyVanin--Novosibirsk 扩展的，取决于语言和编译器实现。[对于 Java，根据Java 语言规范](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28)的要求，所有常量字符串都是实习的。但这只是常量字符串表达式，并且只有当它们同时编译时。如果您有两个在时间和空间上充分分离的 Java 字符串（*例如*，编译成单独的 JAR 文件），它们将不是同一个对象。类似地，动态创建的 Java 字符串（*例如*，各种`toString()`methods) 不会被实习，除非该方法通过`String.intern()`. 是的，所有使用的实习字符串都将共享相同的内存位置——这就是为什么字符串首先被实习的重要原因。

至于其他语言，这是一个更大的问题，但是有了这些答案中的所有信息，我相信您可以在网络上进行研究。可以说，对于应该如何做到这一点，并没有普遍的共识。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-04-05T07:56:38.773

```
String s1="Java";
String s2="Java";
My question is whether these two references point to the same memory location 
```

[引用Java 语言规范 §3.10.5 的](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5)愚蠢引用：

> 字符串文字是对 String 类（第[4.3.1](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3.1)节、[第 4.3.3 节](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3.3)）实例的引用。
> 
> 此外，字符串字面量总是引用 String 类的同一个实例。这是因为字符串字面量 - 或者更一般地说，作为常量表达式值的字符串（[第 15.28 节](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28)） - 是“内部的”，以便使用 String.intern 方法共享唯一实例。

并阅读那里的代码示例注释：

> 这个例子说明了六点：
> 
> *   同一包 (§7) 中同一类 (§8) 中的文字字符串表示对同一 String 对象 (§4.3.1) 的引用。
>     
>     
> *   同一包中不同类中的文字字符串表示对同一 String 对象的引用。
>     
>     
> *   不同包中不同类中的文字字符串同样表示对同一 String 对象的引用。
>     
>     
> *   由常量表达式（第 15.28 节）计算的字符串在编译时计算，然后将其视为文字。
>     
>     
> *   在运行时通过连接计算的字符串是新创建的，因此是不同的。
>     
>     
> *   显式实习计算字符串的结果是与任何具有相同内容的预先存在的文字字符串相同的字符串。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-04-04T08:00:56.937

当编译器优化您的字符串文字时，它会看到 s1 和 s2 具有相同的值，因此您**只需要一个 string object**。它是安全的，因为 String 在 Java 中是不可变的。

```
String s1="Java";
String s2="Java";
System.out.println(s1== s2); 
```

这给出了结果`true`，因为`s1`和`s2`指向同一个对象。

**字符串池** 是所有已经定义的字符串都存储在某个“池”中的机制，在创建新的字符串对象之前，编译器会检查是否已经定义了这样的字符串。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-04-04T08:02:20.603

例子。

第一个例子

```
String s1 = "FirstString";
String s2 = "FirstString";

 if(s1 == s2) {
   //This condition matched true because java don't make separate object for these two string. Both strings point to same reference.
 } 
```

第二个例子

```
String s1= "FirstString";
String s2 = new String("FirstString");

if(s1.equals(s2)) {
  //This condition true because same content.
}

if(s1 == s2) {
  //This condition will be false because in this java allocate separate reference for both of them
} 
```

结论：Java 检查字符串是否存在。如果我们使用 new 创建第二个字符串的对象并且具有不同的内容，那么它会创建对象并分配不同的引用，如果我们不使用 new 创建对象并且具有相同的内容，那么它分配与第一个字符串相同的引用包含.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T08:02:04.680

```
String s1="Java";
String s2="Java"; 
```

> 它们是否指向相同的内存位置？

我最初说“不”，但在上述情况下，请参阅下面提到的 StringPool 答案，实际上是..

> “当我们创建相同的字符串（没有 new 关键字）时，内容是否只存储在内存中一次，并且所有具有相同内容的 String 对象只引用相同的位置”

[...有点看问题“Java字符串和StringPool”](https://stackoverflow.com/questions/1903094/java-strings-and-stringpool)的详细答案

> “s1 和 s2 的哈希码相同。但是哈希码是否直接取决于对象的内存位置？”

没有哈希码取决于字符串的内容

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-04T08:05:19.923

添加到其他人：new 关键字总是**强制**创建一个新对象。如果您声明如下：

```
String s1 = "some";
String s2 = "some"; 
```

然后使用字符串池机制，引用 s1 和 s2 将引用相同的 String 对象，其值为“some”。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-04T08:05:37.197

当你有

```
String str1 = new String("BlaBla");  //In the heap!
String str2 = new String("BlaBla");  //In the heap! 
```

那么您将通过运算符（和构造函数）显式创建一个`String`对象。`new`在这种情况下，您将让每个对象指向**不同**的存储位置。

但如果你有：

```
String str1 = "BlaBla";        
String str2 = "BlaBla"; 
```

那么你就有了隐式构造。如果两个字符串字面量具有相同的值，则它们共享**相同的存储空间**，这是因为 Java 保留了相同字符串的存储空间！（具有相同值的字符串）

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-04T08:46:31.530

```
String s1="Java";
String s2="Java"; 
```

都指向同一个对象。更多详情[请点击这里](https://stackoverflow.com/a/513839/1115584)

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2017-03-06T07:31:40.023

是的，Andrew Hare 在此链接[https://stackoverflow.com/a/2486195/4835894](https://stackoverflow.com/a/2486195/4835894)中回答了堆栈溢出问题。

> 基本上，字符串实习池允许运行时通过在池中保存不可变字符串来节省内存，以便应用程序的区域可以重用公共字符串的实例，而不是创建多个实例。

# magento - 无法使用变量

> ID：15805579
> 
> 赞同：0
> 
> 时间：2013-04-04T07:59:19.667
> 
> 标签：magento

在模板 register.phtml 中，我为一些条款和条件协议添加了一个输入类型单选。这个是必需的。

我没有成功使用 javascript Magento 的前端验证。我添加了各种类，但没有任何效果。

有人知道该怎么做吗？谢谢

这里的html

```
<div class="field radiobox">
    <div class="input-box">
        <input type="radio" name="accept" title="<?php echo $this->__('I Agree to our Terms & Conditions') ?>" id="accept"  class="radio required-entry validate-one-required-by-name validation-passed validation-failed" >
        <label for="accept" class=required" ><?php echo $this->__('I Agree to our Terms & Conditions') ?></label>
    </div>
</div>
<script type="text/javascript">
    //<![CDATA[
        new Varien.FileElement('accept');
    //]]>
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T11:45:48.050

@Mufaddal

```
<div class="account-form-wrapper registerpass">
            <form action="<?php echo $this->getPostActionUrl() ?>" method="post" id="form-validate" enctype="multipart/form-data" class="ctools-use-modal-processed" novalidate="novalidate">
                <div class="fieldset">
                    <input type="hidden" name="success_url" value="<?php echo $this->getSuccessUrl() ?>" />
                    <input type="hidden" name="error_url" value="<?php echo $this->getErrorUrl() ?>" />
                </div>
<?php  echo  $this->getLayout()->createBlock('customer/widget_name')->setObject($this->getFormData())->setForceUseCustomerAttributes(true)->toHtml() ?>

                <div class="field">
                    <label for="email_address" class="required"><em>*</em>Email Address</label>
                    <div class="input-box">
                        <input type="text" name="email" id="email_address" value="<?php echo $this->escapeHtml($this->getFormData()->getEmail()) ?>" title="<?php echo $this->__('Email Address') ?>" class="input-text validate-email required-entry" placeholder="<?php echo $this->__("Email Address") ?>" />
                    </div>
                </div>

                <div class="fields">
                    <div class="field">
                        <label for="password" class="required"><em>*</em><?php echo $this->__('Password') ?></label>
                        <div class="input-box">
                            <input type="password" name="password" id="password" title="<?php echo $this->__('Password') ?>" class="input-text required-entry validate-password" placeholder="Password" />
                        </div>
                    </div>
                    <div class="field">
                        <label for="confirmation" class="required"><em>*</em><?php echo $this->__('Confirm Password') ?></label>
                        <div class="input-box">
                            <input type="password" name="confirmation" title="<?php echo $this->__('Confirm Password') ?>" id="confirmation" class="input-text required-entry validate-cpassword" placeholder="Confirm Password" />
                        </div>
                    </div>
                </div>

                <div class="field radiobox">
                    <div class="input-box">
                        <input type="radio" name="accept" title="<?php echo $this->__('I Agree to our Terms & Conditions') ?>" id="accept"  class="radio required-entry" >
                        <label for="accept" class=required" ><?php echo $this->__('I Agree to our Terms & Conditions') ?></label>
                    </div>
                </div> 
```

__('提交') ?>" id="form-submit"> __('maak mijn profiel aan') ?>

```
 </form> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:08:53.440

首先删除除必填项之外的所有类

```
<input type="radio" name="accept" title="<?php echo $this->__('I Agree to our Terms & Conditions') ?>" id="accept"  class="radio required-entry" > 
```

并将它放在你的表单标签中，你不需要为此创建任何javascript，只需确保它在表单标签下，在 register.phtml 文件中，magento 已经定义了验证javascript，所以不要再次放置你的javascript。

# python - 防止 GAE / 内存缓存丢失更新 / 竞争条件的策略/模式

> ID：15805581
> 
> 赞同：6
> 
> 时间：2013-04-04T07:59:22.943
> 
> 标签：python, google-app-engine, concurrency, google-cloud-datastore

例子：

1.  进程 A - 从 memcache 中获取最新版本的实体
2.  进程 B - 从 memcache 获取实体的最新版本
3.  进程 A - 对 (1) 中检索到的实体进行一些更新，然后`puts`在 db/memcache 中进行更新
4.  进程 B - 对 (2) 中检索到的实体进行一些更新，然后`puts`在 db/memcache 中进行更新

更新 3\. 丢失。

可以使用什么策略/模式来防止这种情况？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:12:23.687

您可能想要使用`cas`和`gets`命令：

[https://code.google.com/p/memcached/wiki/NewCommands#cas](https://code.google.com/p/memcached/wiki/NewCommands#cas)

**EDIT** GAE memcache 实际上与 memcached 兼容。以下是 GAE 的参考资料：

[https://developers.google.com/appengine/docs/python/memcache/clientclass#Client_cas](https://developers.google.com/appengine/docs/python/memcache/clientclass#Client_cas)

最后注：

[https://developers.google.com/appengine/docs/python/memcache/clientclass#Memcached_compatibility](https://developers.google.com/appengine/docs/python/memcache/clientclass#Memcached_compatibility)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:32:17.407

您应该在事务中进行更新以使其具有原子性。

[https://developers.google.com/appengine/docs/python/ndb/transactions](https://developers.google.com/appengine/docs/python/ndb/transactions)

# iphone - 以编程方式创建单元格时如何设置 UItableViewCell 子视图的高度

> ID：15805582
> 
> 赞同：0
> 
> 时间：2013-04-04T07:59:25.757
> 
> 标签：iphone, ios

我有用笔尖创建的自定义单元格。在表格视图中，我正在使用`-(float)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath`设置单元格高度的方法一切正常。但问题是我还想更改作为子视图添加到单元格笔尖中的 UIlabel 的大小。我怎么做？在 customcell 类中覆盖哪个方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:14:24.437

您正在寻找的方法是：

```
-(void)layoutSubviews
{
   [super layoutSubview];
   //Do your magic 
} 
```

layoutSubviews 在单元格创建后以及设备方向发生变化时调用，以允许您调整子视图的大小和/或移动子视图（以及进行任何其他小的调整）以补偿方向之间的差异，但在这种情况下，您也可以使用它重绘您的子视图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:07:16.780

由于您在自定义单元格类中有 UILabel，因此在该类中创建一个函数，该函数将您想要设置为参数的框架作为参数。在该功能中设置标签框架。在返回单元格之前，您需要从 cellForRowAtIndexPath 方法调用此函数。

如果您要重用自定义单元格，则应仅在 (cell == nil) 时调用方法。此外，如果您可以在问题中添加一些有用的代码，并且可以获得更准确的答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T08:12:45.067

您需要以与使用 xib 处理普通视图或视图控制器类相同的方式处理自定义单元格。即，您需要为自定义单元格中的控件创建 IBOutlets，并且在创建单元格期间，您可以很容易地访问控件。

```
myCell.myCustomUILabel.text = @"blah" 
```

在 xib 中使用自定义单元格并连接 IBOutlets 时存在一些问题。[这个](https://stackoverflow.com/a/9615616/741626)SO answer (of mine) 解释了如何创建和链接自定义单元格的 IBOutlets。

# c++ - 临界区队列

> ID：15805588
> 
> 赞同：2
> 
> 时间：2013-04-04T07:59:35.190
> 
> 标签：c++, winapi, critical-section

Windows关键部分中没有队列的概念吗？

我在专用线程中有以下渲染循环：

```
while (!viewer->finish)
{
  EnterCriticalSection(&viewer->lock);
  viewer->renderer->begin();
  viewer->root->render(viewer->renderer);
  viewer->renderer->end();
  LeaveCriticalSection(&viewer->lock);
} 
```

主线程进行消息处理，当我处理鼠标事件时，我尝试进入相同的临界区，但由于某种原因，它运行渲染线程一千多次迭代（大约 10 秒），在主线程最终进入之前临界区。是什么导致了这个 - 即使没有“队列”进入该部分，它不应该更像 50/50，而不是像我的情况那样的 99.9/0.1？两个线程的优先级均为 0。

添加此类队列的好方法是什么？像 bDoNotRenderAnything 这样的简单标志就足够了吗？

编辑：在我的情况下，解决方案只是添加一个事件对象（一个布尔变量也可能工作），每次消息处理程序需要访问关键部分时设置，并在使用后重置。如果设置了变量/事件，则渲染器不会进入该部分。这样消息处理程序就不必等待超过一次的渲染迭代。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T08:03:10.487

在旧版本的 Windows 中，保证以先到先得的方式获取关键部分。从 Windows Server 2003 SP1 开始不再是这种情况。

从[MSDN](http://msdn.microsoft.com/en-gb/library/windows/desktop/ms682530%28v=vs.85%29.aspx)：

> *从带有 Service Pack 1 (SP1) 的 Windows Server 2003 开始​​，在临界区等待的线程不会以先到先服务的方式获取临界区。*对于大多数代码，此更改显着提高了性能。但是，某些应用程序依赖于先进先出 (FIFO) 顺序，并且可能在当前版本的 Windows 上表现不佳或根本不执行（例如，一直使用临界区作为速率限制器的应用程序）。为确保您的代码继续正常工作，您可能需要添加额外的同步级别。例如，假设您有一个生产者线程和一个消费者线程，它们使用临界区对象来同步他们的工作。创建两个事件对象，每个线程使用一个来表示它已准备好让另一个线程继续进行。消费者线程将等待生产者在进入临界区之前发出其事件信号，生产者线程将等待消费者线程在进入临界区之前发出其事件信号。在每个线程离开临界区后，它会发出信号以释放另一个线程。
> 
> **Windows Server 2003 和 Windows XP：** 在临界区等待的线程被添加到等待队列；它们被唤醒并通常按照它们添加到队列中的顺序获取关键部分。但是，如果线程以足够快的速度添加到此队列中，则性能可能会因为唤醒每个等待线程所需的时间而降低。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-04T08:07:59.850

在临界区等待的线程不会以先到先服务的方式获取临界区 ( [MSDN](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682530%28v=vs.85%29.aspx) )

大多数情况下，您的工作线程拥有锁，因为它在释放锁后立即重新锁定。所以没有太多时间让其他线程在空闲时唤醒并抓住锁。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T08:07:02.983

根据[MSDN](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682608%28v=vs.85%29.aspx)

```
There is no guarantee about the order in which waiting threads 
will acquire ownership of the critical section. 
```

所以不确定线程​​将以什么顺序执行。如果你相当短

```
viewer->renderer->begin();
viewer->root->render(viewer->renderer);
viewer->renderer->end(); 
```

序列设法重新开始`CriticalSection`，这可能会发生。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T08:25:26.467

您可以通过在渲染循环中使用[SwitchToThread](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686352%28v=vs.85%29.aspx)调用来尝试快速修复（在一定数量的迭代之后），尽管我怀疑它是否足够好解决方案。

# wcf - 在 WCF 服务中保留属性的原因是什么？

> ID：15805602
> 
> 赞同：1
> 
> 时间：2013-04-04T08:00:08.900
> 
> 标签：wcf

在 WCF 服务中保留属性有什么好处？

我的意思是为什么要给他们`[Datamember]`，`[Datacontract]`什么是优点和缺点？

如果我使用简单的类库项目在不同的项目中创建属性及其类，并将其“dll”引用插入到 WCF 服务类库，其中包含该属性上的 [ServiceContract] 和 [operatinconntract] 的所有操作，会发生什么情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:39:18.833

WCF 参数需要可序列化。默认情况下，诸如 int 和 string 之类的值类型将正常工作。

DataContractAttribute 用于将复杂类型标记为可序列化。有关详细信息，请参阅[使用数据协定](http://msdn.microsoft.com/en-GB/library/ms733127.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T14:47:02.280

在 WCF 之前，序列化是使用`XmlSerializer`类完成的，并通过标记一个类型，因为`[Serializable]`这意味着默认情况下所有成员都被序列化。

但是，`DataContractSerializer`WCF 中使用的首选序列化程序是哪个，除非另有说明，否则类的成员将不会被序列化。

在不同的程序集中拥有合同类型 - 是的，这是可能的，实际上最好将合同类型与服务实现程序集分开。

# ios - 简单的 stringByReplacingOccurrencesOfString 帮助问题

> ID：15805605
> 
> 赞同：0
> 
> 时间：2013-04-04T08:00:18.507
> 
> 标签：ios, objective-c, replace, nsstring

我想将字符串中的一些“非法”字符替换为另一个“合法”字符，我有以下代码：

```
- (NSString *) quitarTildes:(NSString *)aStr
{
    NSString *aux = aStr;
    NSString *invalid = @"áéíóúÁÉÍÓÚñÑ";
    NSString *valid = @"aeiouAEIOUnN";
    for (int i = 0; i < [invalid length]; i++)
        [aux stringByReplacingOccurrencesOfString: [NSString stringWithFormat:@"%c",[invalid characterAtIndex:i]] 
                                       withString: [NSString stringWithFormat:@"%c",[valid characterAtIndex:i]]];
    NSLog(@"%@",aux);
    return aux;
} 
```

所有的非法字符仍然存在......

```
NSString *test = @"Hólá, Ésto es una prueba.";
test = [self quitarTildes: test]; 
```

NSLog，响应：

```
2013-04-04 08:58:52.896 GeoRuta_v1[1960:907] Hólá, Ésto es una prueba. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:03:59.427

从文档中：

> stringByReplacingOccurrencesOfString:withString: 返回一个新字符串，其中接收器中目标字符串的所有出现都被另一个给定字符串替换。
> 
> -(NSString *)stringByReplacingOccurrencesOfString:(NSString *)target withString:(NSString *)replacement

所以：

```
aux = [aux stringByReplacingOccurrencesOfString: [NSString stringWithFormat:@"%c",[invalid characterAtIndex:i]] 
                                       withString: [NSString stringWithFormat:@"%c",[valid characterAtIndex:i]]]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T08:14:54.893

一个可能更简单的解决方案来实现您的目标：

```
NSString *test = @"Hólá, Ésto es una prueba. - áéíóúÁÉÍÓÚñÑ";
test = [test stringByFoldingWithOptions:NSDiacriticInsensitiveSearch locale:NULL];
NSLog(@"%@", test); 
```

*输出：*

```
Hola, Esto es una prueba. - aeiouAEIOUnN 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T08:04:08.360

一。您使用了错误的格式说明符`characterAtIndex:`。该方法返回`unichar`而**不是** `char`（出于明显的原因）。您必须使用`%C`（大写 C）。

二。您正在返回原始字符串，而不是替换其字符。

```
NSMutableString *tmp = [aStr mutableCopy];
// ...
[tmp replaceOccurrencesOfString:[NSString stringWithFormat:@"%C", [invalid characterAtIndex:i]] 
                     withString:[NSString stringWithFormat:@"%C", [valid characterAtIndex:i]]]; 
```

# xml - R，使用 XML 和 xpathSApply 时的右 xpath 表达式

> ID：15805607
> 
> 赞同：5
> 
> 时间：2013-04-04T08:00:21.403
> 
> 标签：xml, r, xml-parsing

假设我使用以下表达式解析了一个网站

```
library(XML)
url.df_1 = htmlTreeParse("http://www.appannie.com/app/android/com.king.candycrushsaga/", useInternalNodes = T) 
```

如果我运行以下代码，

```
xpathSApply(url.df_1, "//div[@class='app_content_section']/h3", function(x) c(xmlValue(x), xmlAttrs(x)[["href"]])) 
```

我会在下面 -

```
[1] "Description"                      "What's new"                      
[3] "Permissions"                      "More Apps by King.com All Apps  »"
[5] "Customers Also Viewed"            "Customers Also Installed" 
```

现在，我感兴趣的只是“还安装了客户”部分。但是当我运行下面的代码时，

```
xpathSApply(url.df_1, "//div[@class='app_content_section']/ul/li/a", function(x) c(xmlValue(x), xmlAttrs(x)[["href"]])) 
```

它会吐出“King.com 所有应用程序的更多应用程序”、“还查看的客户”和“还安装的客户”中包含的所有应用程序。

所以我尝试了，

```
xpathSApply(url.df_1, "//div[h3='Customers Also Installed']”, function(x) c(xmlValue(x), xmlAttrs(x)[["href"]])) 
```

但这没有用。所以我尝试了

```
xpathSApply(url.df_1, "//div[contains(.,'Customers Also Installed')]",xmlValue) 
```

但这也不起作用。（输出应如下所示-）

```
 [,1]                                                
[1,] "Christmas Candy Free\n    Daniel Development\n    "
[2,] "/app/android/xmas.candy.free/"                     
 [,2]                                           
[1,] "Jewel Candy Maker\n    Nutty Apps\n    "      
[2,] "/app/android/com.candy.maker.jewel.nuttyapps/"
 [,3]                                      
[1,] "Pogz 2\n    Terry Paton\n    "           
[2,] "/app/android/com.terrypaton.unity.pogz2/" 
```

任何指导将不胜感激！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T08:46:42.620

这是一个选项（你真的很接近）：

```
xpathSApply(url.df_1,"//div[contains(.,'Customers Also Installed')]/*/li/a",xmlGetAttr,'href')

[1] "/app/android/xmas.candy.free/"                
[2] "/app/android/com.candy.maker.jewel.nuttyapps/"
[3] "/app/android/com.terrypaton.unity.pogz2/" 
```

# php - 一个库应该调用另一个库还是 Codeigniter 和 MVC 中的控制器任务？

> ID：15805609
> 
> 赞同：0
> 
> 时间：2013-04-04T08:00:24.420
> 
> 标签：php, codeigniter, model-view-controller, fpdf, loose-coupling

我必须使用 Codeigniter 在我的应用程序中做出一些设计决定。

我在控制器中有一个方法，它调用一个库来创建 PDF。另外我有一些类将数字作为参数并返回字符串（口头数字）。

我想知道在所有此类之间传递数据的最佳做法是什么。这是控制器调用所有库（在步骤 2 和步骤 3 之间）并将所有准备好的数据提供给将创建 PDF 的模型的任务吗？或者这是模型本身的任务，通过加载和调用将数字转换为字符串的类来转换提供的原始数据。

就松散耦合以及代码的模块化和清晰度而言，最好的解决方案是什么。

这是一个控制器：

```
class Payu extends CI_Controller
{
     public function raport($task_id)
     {
           /* (step 1) Load necessarty models */
           $this->load->model('MTasks');
           $this->load->model('mpdfinvoice');

           /* (step 2) task details from DB */
           $task_details = $this->MTasks->getTaskDetails($task_id);

           /* (step 3) create PDF that will be send */
           $this->mpdfinvoice->pdf($task_details);

           /* (step 4) compose an email with attached pdf */
           $this->email->from($this->config->item('noreply_email'));
           $this->email->to($task_details['email']);
           $this->email->attach('invoiceJustCreated.pdf');
           $this->email->subject('opłaciłes to zlecenie');
           $message = 'some message goes here';
           $this->email->message($message);
           $this->email->send();

     }
}

 This is a model that creates PDF file (called by controller)

 class mpdfinvoice extends CI_Model
 {
     public function pdf($task_details)
     {
          /* (step 1) load necesary library and helper */
          $this->load->library(array('fpdf' ));
          $this->load->helper('file');

          /* (step 2) set PDF page configuration*/              
          $this->fpdf->AddPage();
          $this->fpdf->AddFont('arialpl','','arialpl.php');
          $this->fpdf->SetFont('arialpl','',16);

          /* (step 3) show data on PDF page */              
          $this->fpdf->cell('','',$task_details['payment_amount'] ,1);

          /*  I want to have "payment amount" verbally here 
              So Should I load and call the convert class here or
              should I have this data already prepared by the controller
              and only output it ? */

     }
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:09:00.773

我建议创建 PDF 或任何其他文件以及所有值之间的转换发生在模型上，然后控制器决定从模型中获取哪些数据，以便将其传递给适当的视图，它会知道如何显示它。

控制器不应用于直接显示（输出）数据或访问数据库和创建文件。

此外，任何情况下都不应使用模型来输出数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:28:11.617

尝试将 codeigniter 中的控制器视为您的数据粘合剂。控制器从客户端检索数据，对其进行标准化并触发适当的操作（重定向、触发库、视图、模型和帮助程序，同时使用提供的数据。）

在您的情况下，只需使用控制器从您的模型或用户输入中检索数据。然后将其传递给创建 pdf 的库。如果 pdf 创建成功，则返回 true 让控制器知道它是成功的。创建 flashdata 成功消息并重定向到输出视图的页面：

1.  用户要求：pdf/下载
2.  控制器pdf触发下载方法
3.  下载触发模型并将数据推送到视图
4.  带有数据的视图将返回到一个变量中
5.  $view 变量将被推送到 Pdf 库
6.  触发pdf创建
7.  pdf 触发 pdf 下载（可选）
8.  控制器触发器重定向到 pdf/overview

# .net - 其他配置文件中的端点

> ID：15805611
> 
> 赞同：1
> 
> 时间：2013-04-04T08:00:36.717
> 
> 标签：.net, asp.net-mvc, web-config, endpoint

我有一个 Web 应用程序，我想在其他配置文件（而不是 Web.config）中设置我的端点。这个怎么做？
我尝试`configSource`在某些标签中设置属性，但它不起作用。
Web.config 的结构：

```
<configuration>
  //Some configurations
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        //Some bindings
      </basicHttpBinding>
    </bindings>
    <client>
      //Endpoints
    </client>
  </system.serviceModel>
</configuration> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:41:07.753

您应该尝试将您的`configSource`属性放在客户端元素上。

Visual Studio 会将其标记为错误（“不允许使用 configSource 属性。”），但无论如何它应该可以工作。

# image - 从 display.loadRemoteImage 保存数组图像

> ID：15805612
> 
> 赞同：0
> 
> 时间：2013-04-04T08:00:41.037
> 
> 标签：image, load, coronasdk

display.loadRemoteImage(" [http://developer.anscamobile.com/demo/hello.png](http://developer.anscamobile.com/demo/hello.png) ", "GET", networkListener, "helloCopy.png", system.TemporaryDirectory, 50, 50 )

您好，我想从我的服务器获取图像数组：

data[i].image = display.loadRemoteImage(URLlimpia, "GET", networkListener, "LOGO" .. i .. ".png" , system.TemporaryDirectory )

但是图像总是出现在模拟器屏幕上，我想保存在任何地方，以便稍后在列表中显示。

我该怎么做？？

***当图像出现时，如何清除屏幕上的图像？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-31T17:29:26.667

尝试这个：

```
local function networkListener( event )
        if ( event.isError ) then
                print ( "Network error - download failed" )
        else
                event.target.isVisible = false
        end

        print ( "RESPONSE: " .. event.response )
end

display.loadRemoteImage( "http://www.coronalabs.com/demo/hello.png", "GET", networkListener, "helloCopy.png", system.TemporaryDirectory, 50, 50 ) 
```

更多信息：
[http ://docs.coronalabs.com/api/library/display/loadRemoteImage.html](http://docs.coronalabs.com/api/library/display/loadRemoteImage.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-03T08:41:37.670

如果您不想立即显示图像，则应使用**network.download()**而不是 display.loadRemoteImage()

在您的示例中：

```
local params = {}
params.progress = true
for i=1,n do
    network.download(
        URLlimpia,
        "GET",
        networkListener,
        params,
        LOGO" .. i .. ".png",
        system.TemporaryDirectory
        )
end 
```

[http://docs.coronalabs.com/api/library/network/download.html](http://docs.coronalabs.com/api/library/network/download.html)

# extjs4.1 - 验证 Ext.grid.panel 是否为空

> ID：15805613
> 
> 赞同：0
> 
> 时间：2013-04-04T08:00:45.850
> 
> 标签：extjs4.1

我正在尝试创建一个网格面板，当网格为空时，它应该以红色突出显示网格（当其他组件上的验证失败时会发生这种情况）。有一个简单的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T13:04:55.810

在最基本的层面上，你可以添加这个 css：

```
.grid-highlight {
    border: 1px solid red !important;
} 
```

并在加载（或数据更改）事件时检查存储是否为空，然后执行以下任一操作：

```
iGrid.addCls( '.grid-highlight' );
iGrid.removeCls( '.grid-highlight' ); 
```

# python - Python，对坐标进行操作的有效方法

> ID：15805619
> 
> 赞同：2
> 
> 时间：2013-04-04T08:01:13.447
> 
> 标签：python, list, coordinates, tuples

我有一个包含纬度和经度信息的数据文件，我将其存储为表单的元组列表

```
[(lat1, lon1), (lat1, lon1), (lat2, lon2), (lat3, lon3), (lat3, lon3)  ...] 
```

如上所示，如果数据文件中的位置未更改，则连续位置（纬度、经度）可能相同。因此，这里的顺序非常重要。我感兴趣的是一种相当有效的方法来检查坐标何时发生变化`lat1, lon1 -> lat2, lon2`等，然后获取这两个坐标之间的距离。

我已经有一个函数来获取表单的距离，`getDistance(lat1, lon1, lat2, lon2)`它返回这些位置之间的计算距离。我想将这些距离存储在一个列表中，以后可以从中进行一些绘图。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T08:04:11.030

您可以将过滤掉重复项的函数与迭代对的函数结合起来：

首先让我们负责消除列表中重复的后续条目。由于我们希望保持顺序，并允许不相邻的重复项，我们不能使用简单的集合。因此，如果我们有一个坐标列表，例如`[(0, 0), (4, 4), (4, 4), (1, 1), (0, 0)]`正确的输出将是`[(0, 0), (4, 4), (1, 1), (0, 0)]`. 实现此目的的一个简单函数是：

```
def filter_duplicates(items):
  """A generator that ignores subsequent entires that are duplicates

  >>> items = [0, 1, 1, 2, 3, 3, 3, 4, 1]
  >>> list(filter_duplicates(items))
  [0, 1, 2, 3, 4, 1]

  """
  prev = None
  for item in items:
    if item != prev:
        yield item 
        prev = item 
```

该`yield`语句就像一个`return`实际上并没有返回的语句。每次调用它时，它都会将值传递回调用函数。请参阅[Python 中的“yield”关键字有什么作用？](https://stackoverflow.com/questions/231767/the-python-yield-keyword-explained)以获得更好的解释。

这只是遍历每个项目并将其与前一个项目进行比较。如果项目不同，它将返回给调用函数并将其存储为当前的前一个项目。编写此函数的另一种方法是：

def filter_duplicates_2(items): result = [] prev = None for item in items: if item != prev: result.append(item) prev = item 返回结果

虽然完成同样的事情，但这种方式最终会需要更多的内存并且效率会降低，因为它必须创建一个新列表来存储所有内容。

既然我们有办法确保每个项目都与其邻居不同，我们需要计算后续对之间的距离。一个简单的方法是：

```
def pairs(iterable):
    """A generate over pairs of items in iterable

    >>> list(pairs([0, 8, 2, 1, 3]))
    [(0, 8), (8, 2), (2, 1), (1, 3)]

    """
    iterator = iter(iterable)
    prev = next(iterator)
    for j in iterator:
        yield prev, j
        prev = j 
```

该功能与功能类似`filter_duplicates`。它只是跟踪它观察到的前一个项目，并且对于它处理的每个项目，它都会产生该项目和前一个项目。它使用的唯一技巧是它使用函数调用分配`prev`给列表中的第一项。`next()`

如果我们结合这两个函数，我们最终得到：

```
for (x1, y1), (x2, y2) in pairs(filter_duplicates(coords)):
   distance = getDistance(x1, y1, x2, y2) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:16:23.877

这是一种仅使用以下函数的方法`itertools`：

```
from itertools import *

l = [...]
ks = (k for k,g in groupby(l))
t1, t2 = tee(ks)
t2.next() # advance so we get adjacent pairs
for k1, k2 in izip(t1, t2):
    # call getDistance on k1, k2 
```

这将相邻的相等元素分组，然后使用一对`tee`'d 迭代器从组列表中拉出相邻对。

仅使用`groupby`：

```
l = [...]
gs = itertools.groupby(l)
last, _ = gs.next()
for k, g in gs:
    # call getDistance on (last, k)
    last = k 
```

# c# - 用户选择第一个网格后如何自动生成下一个网格

> ID：15805620
> 
> 赞同：0
> 
> 时间：2013-04-04T08:01:15.087
> 
> 标签：c#, wpf, xaml

我想问一下如何自动生成包含标签和组合框的网格。我想要的是，一旦用户在组合框 1 中选择了一个选项，该方法将自动生成另一个网格（包含组合框 2）等等。

下面是我目前拥有的代码，现在我很想创建一个事件驱动的方法来在当前组合框中调用 IsSelected 后显示下一个网格。

```
 <Grid x:Name="comp1" Margin="0,84,230,345">
            <Label Content="Test Component 1:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            <ComboBox x:Name="testCompCB1" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Margin="134,4,0,0"/>
        </Grid>
        <Grid x:Name="comp2" Margin="0,127,230,302" Visibility="Hidden">
            <Label Content="Test Component 2:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            <ComboBox x:Name="testCompCB2" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Margin="134,4,0,0"/>
        </Grid>
        <Grid x:Name="comp3" Margin="0,166,230,262" Visibility="Hidden">
            <Label Content="Test Component 3:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            <ComboBox x:Name="testCompCB3" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Margin="134,5,0,0"/>
        </Grid>
        <Grid x:Name="comp4" Margin="0,205,230,222" Visibility="Hidden">
            <Label Content="Test Component 4:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            <ComboBox x:Name="testCompCB4" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Margin="134,6,0,0"/>
        </Grid>
        <Grid x:Name="comp5" Margin="0,245,230,182" Visibility="Hidden">
            <Label Content="Test Component 5:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            <ComboBox x:Name="testCompCB5" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Margin="134,6,0,0"/>
        </Grid>
        <Grid x:Name="comp6" Margin="0,281,230,145" Visibility="Hidden">
            <Label Content="Test Component 6:" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,3,0,0"/>
            <ComboBox x:Name="testCompCB6" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Margin="134,10,0,-3"/>
        </Grid>
        <Grid x:Name="comp7" Margin="0,328,230,100" Visibility="Hidden">
            <Label Content="Test Component 7:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            <ComboBox x:Name="testCompCB7" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Margin="134,5,0,0"/>
        </Grid>
        <Grid x:Name="comp8" Margin="0,370,230,59" Visibility="Hidden">
            <Label Content="Test Component 8:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            <ComboBox x:Name="testCompCB8" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Margin="134,3,0,0"/>
        </Grid>
        <Grid x:Name="comp9" Margin="0,406,230,15" Visibility="Hidden">
            <Label Content="Test Component 9:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            <ComboBox x:Name="testCompCB9" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Margin="134,12,0,0"/>
        </Grid> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T03:49:52.670

嗨，对于那些对此感兴趣的人，我使用以下幼稚的程序编码方式解决了它。

对于 xaml：

```
<StackPanel x:Name="testCompList" HorizontalAlignment="Left" Height="274" Margin="10,92,0,0" VerticalAlignment="Top" Width="361">
            <Canvas x:Name="comp1" Margin="0,0,8,0" Height="26">
                <Label Content="Test Component 1:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                <ComboBox x:Name="testComp1" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Canvas.Left="134" Canvas.Top="5" DropDownClosed="addNewRow"/>
            </Canvas>
            <Canvas x:Name="comp2" Margin="0,0,8,0" Height="26" Visibility="Hidden">
                <Label Content="Test Component 2:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                <ComboBox x:Name="testComp2" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Canvas.Left="134" Canvas.Top="5" DropDownClosed="addNewRow"/>
            </Canvas>
            <Canvas x:Name="comp3" Margin="0,0,8,0" Height="26" Visibility="Hidden">
                <Label Content="Test Component 3:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                <ComboBox x:Name="testComp3" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Canvas.Left="134" Canvas.Top="5" DropDownClosed="addNewRow"/>
            </Canvas>
            <Canvas x:Name="comp4" Margin="0,0,8,0" Height="26" Visibility="Hidden">
                <Label Content="Test Component 4:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                <ComboBox x:Name="testComp4" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Canvas.Left="134" Canvas.Top="5" DropDownClosed="addNewRow"/>
            </Canvas>
            <Canvas x:Name="comp5" Margin="0,0,8,0" Height="26" Visibility="Hidden">
                <Label Content="Test Component 5:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                <ComboBox x:Name="testComp5" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Canvas.Left="134" Canvas.Top="5" DropDownClosed="addNewRow"/>
            </Canvas>
            <Canvas x:Name="comp6" Margin="0,0,8,0" Height="26" Visibility="Hidden">
                <Label Content="Test Component 6:" HorizontalAlignment="Left" VerticalAlignment="Top" Canvas.Top="3"/>
                <ComboBox x:Name="testComp6" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Canvas.Left="134" Canvas.Top="5" DropDownClosed="addNewRow"/>
            </Canvas>
            <Canvas x:Name="comp7" Margin="0,0,8,0" Height="26" Visibility="Hidden">
                <Label Content="Test Component 7:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                <ComboBox x:Name="testComp7" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Canvas.Left="134" Canvas.Top="5" DropDownClosed="addNewRow"/>
            </Canvas>
            <Canvas x:Name="comp8" Margin="0,0,8,0" Height="26" Visibility="Hidden">
                <Label Content="Test Component 8:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                <ComboBox x:Name="testComp8" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Canvas.Left="134" Canvas.Top="5" DropDownClosed="addNewRow"/>
            </Canvas>
            <Canvas x:Name="comp9" Margin="0,0,8,0" Height="26" Visibility="Hidden">
                <Label Content="Test Component 9:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                <ComboBox x:Name="testComp9" HorizontalAlignment="Left" VerticalAlignment="Top" Width="207" IsEditable="True" Tag="Test Component" Canvas.Left="134" Canvas.Top="5"/>
            </Canvas>
        </StackPanel> 
```

对于后面的代码：

```
int i = 1;        
private void addNewRow(object sender, EventArgs e) //all will invoke this generic     method to display the visibility of the next
    {
        ComboBox selectedTest = (ComboBox)sender;
        Canvas thisRow = (Canvas)selectedTest.Parent;
        int index =Int32.Parse(thisRow.Name.Substring(thisRow.Name.Length-1, 1));
        if (thisRow is Canvas && index==i) //needs to ensure that only the previous canvas can invoke the next canvas once selection is done
        {
            i++;
            Canvas newRow = (Canvas)this.FindName("comp" + i);
            newRow.Visibility = Visibility.Visible;
            //add the test Component to a data structure like a list or something

        }

    } 
```

# java - 可以将子类称为其超类的类型吗？

> ID：15805621
> 
> 赞同：1
> 
> 时间：2013-04-04T08:01:15.263
> 
> 标签：java, subclass, superclass

我在学校做游戏。我有武器，它是物品的一个子类。我的班级中有一个`currentWeapon`名为`BattleGround`. 而且我有一种方法可以搜索和遍历我的“背包”中的所有项目。我希望也可以将其用于武器，因为它们也是物品。

我希望`Weapon`类的对象也可以称为项目。但我只是不知道。我需要一种新方法来遍历`Weapon`s 吗？`Weapon`s 和s都`Item`存放在同一个背包中。

如果我将该字段存储`currentWeapon`为`Weapon`，则无法使用该方法，并且可能无法将`Weapon`s 存储在s 和s 中`Hashmap`。如果我将它存储为我不能使用类的方法。谢谢你。`String``Item``Item``Weapon`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:07:27.297

如果`Weapon`是 的子类`Item`，那么您可以将 a 存储`Weapon`在对象集合中`Item`而不会出现任何问题。也许你需要学习的是`instanceof`操作符：

```
List<Item> items = new ArrayList<>();

// add some items to the list

for (Item item : items) {
  if (item instanceof Weapon) {
    Weapon weapon = (Weapon) item; // cast the item to a weapon
    weapon.someWeaponMethod();
  }
} 
```

如果你使用`instanceof`，你可以确定你是否真的`Item`是一个`Weapon`。

# c# - EF 中使用 LINQ 的计算列

> ID：15805626
> 
> 赞同：0
> 
> 时间：2013-04-04T08:01:44.000
> 
> 标签：c#, linq, entity-framework

使用以下代码；

```
 using (var context = new FINSAT613Entities())
        {
            gridControl1.ForceInitialize();

            DateTime endtime= new DateTime(2013, 03, 29, 15, 49, 54);
            Text = "endtime:"+endtime.ToShortDateString();

            var query =
                from A in context.A
                join B in context.B on A.ID equals B.ID
                join C in context.C on A.ID2 equals C.ID2
                where A.endtime> endtime && A.Chk.StartsWith("320")
                select new
                       {
                         A.ID,B.FOO,C.BAR etc...
                       };

            BindingSource.DataSource = query;
            gridControl1.DataSource = BindingSource;
        } 
```

如何向其中添加计算列？（例如，将 a.bar 与 b.foo 相乘）

尝试使用部分课程，但没有运气。

```
 public partial class A
{
    public decimal Calculated
    {
        get { return 15; }
    }
} 
```

我得到的确切错误是：

{“LINQ to Entities 不支持指定的类型成员 'Computed'。仅支持初始化程序、实体成员和实体导航属性。”}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:06:51.763

您可以创建类，其中包含您需要的所有字段：id、foo、bar 等并将其添加到计算字段，然后只需修改您的查询：

```
var query =
                from A in context.A
                join B in context.B on A.ID equals B.ID
                join C in context.C on A.ID2 equals C.ID2
                where A.endtime> endtime && A.Chk.StartsWith("320")
                select new YourNewClass
                {
                    Foo = A.foo,
                    Bar = B.bar,
                    ... ,
                    Calculated = A.foo * B.bar   
                }; 
```

已编辑：如果您有很多字段，则可以使用[automapper](http://bengtbe.com/blog/2009/04/14/using-automapper-to-map-view-models-in-asp-net-mvc/)

这是一个例子。比如说，您从数据库中获得了 User 类，并且获得了 UserModel 类，您在其中添加了一个字段 FullName，该字段由字段 Name 和 Surname 组成。因此，您想从对象 User 创建一个对象 UserModel 但不明确复制所有字段。你可以这样做：

```
class Program
    {
        static void Main(string[] args)
        {
            User u = new User { Name = "My", Surname = "Name" };
            Mapper.CreateMap<User, UserModel>().ForMember(dest => dest.FullName, o => o.MapFrom(src => string.Format("{0} {1}", src.Name, src.Surname)));

            UserModel um = Mapper.Map<User, UserModel>(u);
            Console.WriteLine(um.FullName);
        }
    }

    public class User
    {
        public string Name { get; set; }
        public string Surname { get; set; }
    }

    public class UserModel
    {
        public string Name { get; set; }
        public string Surname { get; set; }
        public string FullName { get; set; }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-10T11:19:48.497

你解决了吗？

我自己一直在寻找一种更简洁的方式，当我想要添加到现有模型中的只是一两条附加信息时，我不喜欢使用 ViewModels。

我倾向于在我的模型中创建一个非映射字段，将我需要的所有信息从 LINQ 获取到一个临时模型中，然后在另一个循环中执行任何所需的重新映射，然后再将其发送回客户端。

例如，例如；

```
public partial class A
{
[NotMapped]
public decimal Calculated {get;set;}
} 
```

然后在我的 Linq 查询中

```
var query =
            from A in context.A
            join B in context.B on A.ID equals B.ID
            join C in context.C on A.ID2 equals C.ID2
            where A.endtime> endtime && A.Chk.StartsWith("320")
            select new
                   {
                     A = A,
                     B = B,
                     C = C
                   };
foreach(item i in query)
    {
        A.Calculated = A.Foo * B.Bar;
    }

return query 
```

好的，这意味着另一个循环，但至少它只是一个数据库调用。

另一种选择是在 T-SQL 中完成所有操作并直接（或通过存储过程）发出 T-SQL

这个链接解释了如何 - 作为一个额外的好处，这种方法对于更复杂的查询要快得多，但对我来说总是感觉有点像黑客。

[http://weblogs.asp.net/scottgu/archive/2007/08/16/linq-to-sql-part-6-retrieving-data-using-stored-procedures.aspx](http://weblogs.asp.net/scottgu/archive/2007/08/16/linq-to-sql-part-6-retrieving-data-using-stored-procedures.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-25T14:07:34.523

我通过首先将我的数据放入列表来实现这一点。这可能很糟糕（特别是如果您有大量结果），但它确实有效并且易于理解。

有一个循环涉及整个列表。我不确定其他解决方案是否需要这个，但我目前也很难理解它们，所以我需要一些适用于我正在尝试做的事情的东西，即填充 DropDownList。

同样，我真的不认为这个解决方案是理想的：

假设我有一个`YourEntities`带有表格的实体`Registration`

```
using (var context = new YourEntities()) 
{
    var query = from x in context.Registrations
                select x; //Just an example, selecting everything.
    List<Registration> MyList = query.ToList();
    foreach (Registration reg in MyList) //Can also be "var reg in MyList"
    {
        MyDropDownList.Items.Add(new ListItem(reg.LastName + ", " + reg.FirstName, reg.ID));
        //Or do whatever you want to each List Item
    }
} 
```

# iphone - Cocos2d 调试器控制台显示了很多东西

> ID：15805638
> 
> 赞同：0
> 
> 时间：2013-04-04T08:02:11.850
> 
> 标签：iphone, ios, debugging, cocos2d-iphone, console

为什么会发生这种情况我不知道，但我仍然帮不上忙....
在运行我的游戏应用程序时，我发现有很多关于 Cocos2d 的信息：用粗体字这样

```
 2013-04-04 13:21:02.338 RunemanApp[280:207] cocos2d: cocos2d v0.99.5
2013-04-04 13:21:02.340 RunemanApp[280:207] cocos2d: Using Director Type:CCDirectorDisplayLink
2013-04-04 13:21:02.341 RunemanApp[280:207] Device Flag :> 0
2013-04-04 13:21:03.105 RunemanApp[280:207] cocos2d: OS version: 4.2 (0x04020000)
2013-04-04 13:21:03.106 RunemanApp[280:207] cocos2d: GL_VENDOR:   Apple Computer, Inc.
2013-04-04 13:21:03.107 RunemanApp[280:207] cocos2d: GL_RENDERER: Apple Software Renderer
2013-04-04 13:21:03.107 RunemanApp[280:207] cocos2d: GL_VERSION:  OpenGL ES-CM 1.1 APPLE
2013-04-04 13:21:03.108 RunemanApp[280:207] cocos2d: GL_MAX_TEXTURE_SIZE: 2048
2013-04-04 13:21:03.109 RunemanApp[280:207] cocos2d: GL_MAX_MODELVIEW_STACK_DEPTH: 16
2013-04-04 13:21:03.109 RunemanApp[280:207] cocos2d: GL_MAX_SAMPLES: 4
2013-04-04 13:21:03.111 RunemanApp[280:207] cocos2d: GL supports PVRTC: YES
2013-04-04 13:21:03.111 RunemanApp[280:207] cocos2d: GL supports BGRA8888 textures: YES
2013-04-04 13:21:03.112 RunemanApp[280:207] cocos2d: GL supports NPOT textures: YES
2013-04-04 13:21:03.112 RunemanApp[280:207] cocos2d: GL supports discard_framebuffer: YES
2013-04-04 13:21:03.113 RunemanApp[280:207] cocos2d: compiled with NPOT support: NO
2013-04-04 13:21:03.113 RunemanApp[280:207] cocos2d: compiled with VBO support in TextureAtlas : YES
2013-04-04 13:21:03.114 RunemanApp[280:207] cocos2d: compiled with Affine Matrix transformation in CCNode : YES
2013-04-04 13:21:03.114 RunemanApp[280:207] cocos2d: compiled with Profiling Support: NO
2013-04-04 13:21:03.630 RunemanApp[280:207] Retina Display Not supported
2013-04-04 13:21:03.635 RunemanApp[280:207] cocos2d: surface size: 480x320
2013-04-04 13:21:04.364 RunemanApp[280:207] cocos2d: Frame interval: 1
[Switching to process 280] 
```

它在应用程序午餐时显示我玩游戏后它的结果很多行

我认为它可能会影响我的游戏速度......

我正在尝试减少我的调试器控制台窗口中的结果......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:37:30.667

您发布的日志是您在启动时看到的。如果您每帧都记录一些内容，我会担心。即使这样，也只需停止记录。Cocos2d 本身不会在每一帧都记录任何内容。

如果您想评估性能，请在发布版本中运行游戏，因为调试版本总是会慢一些。默认情况下，发布版本不会写出日志。

顺便说一句，您使用的是 3 年前的一个**非常旧版本的 cocos2d。**它甚至不支持 iPad Retina。如果您计划发布应用程序，则必须升级。

# postgresql - 集群数据库中的文本文档

> ID：15805643
> 
> 赞同：1
> 
> 时间：2013-04-04T08:02:24.717
> 
> 标签：postgresql, data-mining, text-mining, document-classification

我确实在 PostgreSQL 数据库中加载了 20.000 个文本文件，一行中的一个文件，全部存储在以`docs`列`doc_id`和`doc_content`.

我知道大约有 8 种类型的文档。以下是我的问题：

*   我怎样才能找到这些组？
*   我可以使用一些相似性、差异性度量吗？
*   PostgreSQL中是否有一些最长公共子字符串的实现？
*   PostgreSQL 中是否有一些文本挖掘的扩展？（我只找到了[Tsearch](http://www.sai.msu.su/~megera/wiki/Tsearch2)，但这似乎是在 2007 年最后一次更新）

我可能可以使用 some `like '%%'`or `SIMILAR TO`，但可能有更好的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:13:45.997

您应该使用[全文搜索](http://www.postgresql.org/docs/9.2/static/textsearch.html)，它是 PostgreSQL 9.x 核心（又名 Tsearch2）的一部分。

对于某种最长公共子串的度量（或相似性，如果你愿意的话），你也许可以使用`levenshtein()`函数 -[`fuzzystrmatch`](http://www.postgresql.org/docs/9.2/static/fuzzystrmatch.html)扩展的一部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T17:27:53.573

1.  您可以使用聚类技术，例如 K-Means 或层次聚类。

2.  是的，您可以使用文档之间的余弦相似度，查看二进制术语计数、术语计数、术语频率或 TF-IDF 频率。

3.  我不知道那个。

4.  不确定，但您可以使用 R 或 RapidMiner 对您的数据库进行数据挖掘。

# ruby-on-rails - 为什么在使用 `acts_as_taggable_on` 时会出现这个简单的错误？

> ID：15805646
> 
> 赞同：2
> 
> 时间：2013-04-04T08:02:34.497
> 
> 标签：ruby-on-rails, ruby-on-rails-3, passenger, acts-as-taggable-on

我想设置`ActsAsTaggableOn.strict_case_match = true`
根据[http://5minutenpause.com/blog/2012/11/20/careful-where-you-get-your-gems-from/](http://5minutenpause.com/blog/2012/11/20/careful-where-you-get-your-gems-from/)，看来我必须从 github 下载 gem。所以我这样做并尝试运行App。

但是，它返回此错误:(

**错误信息：（**我已经尝试过`bundle install`，但仍然是相同的错误信息！）

```
git://github.com/mbleigh/acts-as-taggable-on.git (at master) is not checked out. Please run `bundle install` (Bundler::GitError)
Exception class:
    PhusionPassenger::UnknownError 
```

* * *

这是我的代码！

*   配置/初始化程序/tag_list.rb

    `ActsAsTaggableOn.delimiter = ','`
    `ActsAsTaggableOn.remove_unused_tags = true`
    `ActsAsTaggableOn.strict_case_match = true`

*   宝石文件

    `gem 'acts-as-taggable-on', git: 'git://github.com/mbleigh/acts-as-taggable-on.git'`

* * *

我尝试更改源以直接从 ruby​​org 下载 gem，而不是从 Github。就是这样。

```
gem 'acts-as-taggable-on', '2.3.3' 
```

现在它返回此错误:(

**错误信息：**

```
undefined method `strict_case_match=' for ActsAsTaggableOn:Module 
```

我该如何解决这个问题？

更新：

**宝石文件**

```
source 'https://rubygems.org'

gem 'rails', '3.2.11'

# Bundle edge Rails instead:
# gem 'rails', :git => 'git://github.com/rails/rails.git'

gem 'mysql2'
gem 'execjs'
gem 'therubyracer'
gem 'devise', '2.0.1'
gem 'recaptcha', :require => 'recaptcha/rails'
gem 'paperclip', "~> 3.0"
gem "cocaine" 
gem 'mailboxer', '0.7.0'
gem 'sunspot_rails'
gem 'sunspot_solr'
group :development do
    gem 'better_errors'
    gem 'binding_of_caller'
    #gem 'rack-mini-profiler'
end
gem 'progress_bar'
gem 'kaminari', '0.14.0'
gem "sunspot_with_kaminari", '~> 0.1'
gem 'i18n_generators'
gem 'ancestry'
gem 'acts-as-taggable-on', '2.3.3'

gem 'acts_as_commentable_with_threading'

gem 'twitter-bootstrap-rails'
gem "less-rails"

gem 'crummy', '~> 1.6.0'

gem 'rails3_acts_as_paranoid'

gem 'galetahub-simple_captcha', :require => 'simple_captcha'

gem "acts_as_follower"

gem "jpmobile"

gem "rqrcode-rails3"

gem 'acts_as_votable', '~> 0.4.0'

gem 'rails3-jquery-autocomplete'

gem "cancan"

gem 'rinku', '1.5.1'

gem 'dalli'

gem "auto_html", '1.6.0'

gem "rails_autolink"

# Gems used only for assets and not required
# in production environments by default.
group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'

  # See https://github.com/sstephenson/execjs#readme for more supported runtimes
  # gem 'therubyracer', :platforms => :ruby

  gem 'uglifier', '>= 1.0.3'
  gem 'jquery-ui-rails'

end

gem 'jquery-rails'

# To use ActiveModel has_secure_password
# gem 'bcrypt-ruby', '~> 3.0.0'

# To use Jbuilder templates for JSON
# gem 'jbuilder'

# Use unicorn as the app server
# gem 'unicorn'

# Deploy with Capistrano
# gem 'capistrano'

# To use debugger
# gem 'debugger' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:14:00.930

问题在于，acts-as-taggable-on 的 2.3.3 版本是 9 个月前发布的，并且不包含**strict_case_match**功能。

您的 Gemfile 也看起来像这样：

```
gem 'acts-as-taggable-on', git: 'git://github.com/mbleigh/acts-as-taggable-on.git' 
```

以与您相同的方式运行：

```
bundle update acts-as-taggable-on 
```

如果这不起作用，只需删除您的 Gemfile.lock 并运行 bundle install 和 bundle update

请注意，它是 gem 的开发版本，尚未准备好投入生产，但您可以冒险成为 gem 的 alpha 用户并报告您发现的任何问题 :)

# java - 如何使用 localhost 指定 mySQL 的路径？

> ID：15805656
> 
> 赞同：0
> 
> 时间：2013-04-04T08:02:59.297
> 
> 标签：java, mysql, path, xampp, localhost

我在指定路径时遇到问题（我在以下文件夹中有两个文件：comments.frm 和 db.opt：C:\xampp\mysql\data\feedback）...我正在使用 XAMPP 和 mySQL。我不知道为什么我有一个错误？请看一下我的代码的这一部分：

```
public void readDataBase() throws Exception {
   try {
        // This will load the MySQL driver, each DB has its own driver
      Class.forName("com.mysql.jdbc.Driver");
      // Setup the connection with the DB
    connect = DriverManager
         .getConnection("jdbc:mysql://localhost//feedback"
              + "user=root&password=1234"); 
```

PS：我的 localhost 密码是 12345678

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:07:07.263

你应该试试

```
DriverManager.getConnection("jdbc:mysql://localhost/feedback", "root", "1234"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T08:07:41.740

尝试

```
 connect = DriverManager
     .getConnection("jdbc:mysql://localhost/feedback?user=root&password=1234") 
```

（您忘记了“反馈”后的问号）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-04T08:08:27.000

为了更清楚起见，您可以在获得连接时使用其他重载方法。

```
Class.forName("com.mysql.jdbc.Driver");
conn = DriverManager.getConnection("jdbc:mysql://<db_ip>/<db_name>", 
    "<username>", "<pwd>"); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T08:11:03.987

我认为你需要使用这个：

```
DriverManager.getConnection("jdbc:mysql://localhost:3306/feedback", "root", "1234"); 
```

我检查了我的旧项目，发现我在这里没有使用双斜杠`/feedback`。

您也可以像这样指定编码：

```
 DriverManager.getConnection("jdbc:mysql://localhost:3306/feedback?characterEncoding=UTF-8&characterEncoding=Cp1251", "root", "1234"); 
```

还有一个建议。不要使用硬代码。从属性文件中获取 url、密码和用户名。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-04T08:14:22.257

**试试这个希望对你有帮助！！！**

```
Class.forName("com.mysql.jdbc.Driver");
connect = DriverManager.getConnection("jdbc:mysql://localhost/feedback?"+"user=root&password=1234"); 
```

* * *

另请参阅 URL 错误，例如：

```
jdbc:mysql://localhost//feedback?

// after localhost... check and try my code... 
```

.

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-04T08:15:44.793

很多答案，但每个人都忘记了数据库的端口。

如果您使用 mysql，请尝试 3306 作为 db 端口。
[http://www.petefreitag.com/articles/jdbc_urls/](http://www.petefreitag.com/articles/jdbc_urls/) - jdbc url 列表（示例）

```
try 
{ 
    conn = DriverManager.getConnection("jdbc:mysql://" + dbHost + ":" + dbPort + "/" + dbName, user, passwd); 
} 
catch(SQLException sqle) 
{ 
    System.out.println("Connection fails: " + sqle.getMessage()); 
} 
```

# vba - Windows Server 2003 32 位上的 MS Access 2010 的 Kernel32 问题

> ID：15805661
> 
> 赞同：1
> 
> 时间：2013-04-04T08:03:18.683
> 
> 标签：vba, ms-access, ms-access-2010, ms-access-2003, kernel32

您好我最近在我的 Windows Server 2003 32 位上安装了 MS Access 2010。从那以后，我的一个 VBA 脚本运行不正常。MS Access 意外退出，导致 Kernel32 模块出现此错误。 ![在此处输入图像描述](https://i.stack.imgur.com/AGJfa.jpg)

我在我的 VBA 代码中使用了这一行。

```
Private Declare Function CreateProcessA Lib "kernel32" (ByVal _
         lpApplicationName As Long, ByVal lpCommandLine As String, ByVal _
         lpProcessAttributes As Long, ByVal lpThreadAttributes As Long, _
         ByVal bInheritHandles As Long, ByVal dwCreationFlags As Long, _
         ByVal lpEnvironment As Long, ByVal lpCurrentDirectory As Long, _
         lpStartupInfo As STARTUPINFO, lpProcessInformation As _
         PROCESS_INFORMATION) As Long 
```

以前我用的是 MS Access 2003 版本，我从来没有遇到过任何问题。MS Access 2010-Windows Server 2003-Kernel32 是否存在兼容性问题。请帮忙。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-20T10:01:28.353

虽然我无法就`kernel32`您遇到的问题提供任何具体指导，但我建议您开始从代码中消除 32 位 Windows API 调用。此类调用将阻止您的代码在 64 位版本的 Access 下编译，除非您调整声明以使其“指针安全”（参考：[此处](http://msdn.microsoft.com/en-us/library/office/ee691831%28v=office.14%29.aspx)），并且在使用 Win32 API 调用的许多更常见的情况下还有更多现在可用的通用方法，例如`FileDialog`用于操作“文件打开”和“文件保存”对话框的对象。

在这种情况下，我将调查对象的`.Exec`和`.Run`方法`WScript.Shell`。[这里](http://www.codeproject.com/Tips/507798/Differences-between-Run-and-Exec-VBScript)有这些方法的描述（以及它们之间的区别）。

# sql - 更新 Linq 中临时表的查询

> ID：15805662
> 
> 赞同：1
> 
> 时间：2013-04-04T08:03:18.623
> 
> 标签：sql, sql-server, linq, stored-procedures, linqpad

嘿伙计们，我是 Linq 的新手，我正在尝试转换存储过程。但是我很难在 LINQ 中编写更新查询我在 SP 中的查询就像

```
 UPDATE @tempTable1
 SET someColumn = 1
 FROM @tempTable1 p, @tempTable2 t2, NonTempTable nt
 WHERE t1.id = t2.id
   AND t1.id = nt.id
   AND nt.status = 'abcd'; 
```

我在 LINQ 中编写了上述查询的以下转换

```
 var Obj = (from t1 in temp1
            join t2 in tmp2 on t1.id equals t2.id
            join nt in NonTempTable on t2.id equals nt.id
            where nt.status == "abcd"
            select t1).First();
 Obj.somecolumn = 1;                     
 Obj.SubmitChanges(); 
```

但我得到以下错误

```
Property or indexer 'AnonymousType#1.ProcedureID' cannot be assigned to -- it is read only 
```

我只有我的应用程序的数据库，我正在尝试使用 LINQPad 将存储过程转换为 LINQ

谁能告诉我如何将上述查询写入Linq？我还需要做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:25:13.540

您必须从您的 tempTable1、tempTable2 和 NonTempTable 创建一个实体。然后，您应该能够通过 Linq 处理这些表中的数据。请参阅[http://msdn.microsoft.com/en-us/data/ff830362.aspx](http://msdn.microsoft.com/en-us/data/ff830362.aspx)如何创建模型。

创建后，您可以更新您的记录或正确的记录并将更改保存到数据库

```
 var result = (from row in model.JoinedTable
         where row.status == "abcd"
         select row).First();
 result.someColumn = "1";
 model.SaveChanges(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T13:49:10.647

Linq 用于*查询*，而不是*更新*。为了*更新*数据，您需要选择一个框架（或了解主要项目团队正在使用什么），该框架旨在执行此操作 - 实体框架、LinqToSQL 或普通的旧 ADO.NET（`SQlCommand`+`SqlConnection`等）。

Linq 中没有内置机制来更新内存中的数据，更不用说将更改传播到数据源了。即使使用实体框架 - 您*也可以*使用 Linq 来*获取*要更新的对象，但实际更新根本不使用 Linq，只是使用`SaveChanges()`示例中的属性设置器和方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T16:00:23.760

终于为我的上述问题找到了解决方法

```
var Obj = (from t1 in temp1
        join t2 in tmp2 on t1.id equals t2.id
        join nt in NonTempTable on t2.id equals nt.id
        where nt.status == "abcd"
        select t1).First();

var anatherObj = (from o in Obj
                  select new { o.nonUpdatedColumn1, o.nonUpdatedColumn2, o.nonUpdatedColumn3, o.someColumn = 1}); 
```

并在“anatherObj”中获得了更新的临时表

# eclipse - 如何在 Windows 中将 GNU make 变量设置为有效名称

> ID：15805664
> 
> 赞同：2
> 
> 时间：2013-04-04T08:03:25.323
> 
> 标签：eclipse, makefile, cygwin, cocos2d-x

我正在`cocos2dx`使用`eclipse`. 我尝试通过编译`cygwin terminal`，但出现以下错误。

> 错误：您的 GNUMAKE 变量被定义为无效名称：E:\cygwin\bin 请修复它以指向有效的 make 可执行文件（例如 /usr/bin/make）

我想知道如何将`gnu make`变量设置为有效名称。我的环境变量设置为`e:\cygwin\bin\make`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-30T14:37:01.887

`GNUMAKE`应设置为 cygwin 识别的路径。要找出答案，您可以`which`在 cygwin 终端中使用：

```
$ which make
/cygdrive/e/cygwin/bin/make 
```

您还可以使用`cygpath`创建正确的路径：

```
$ cygpath 'e:\cygwin\bin\make'
/cygdrive/e/cygwin/bin/make 
```

# iphone - 在应用启动时弹出非根视图控制器（iOS）

> ID：15805665
> 
> 赞同：0
> 
> 时间：2013-04-04T08:03:29.300
> 
> 标签：iphone, ios, objective-c, xcode, storyboard

我有一个`UITableViewController`作为根视图控制器的工作应用程序。

我需要在应用启动时弹出一个简单的登录屏幕，

而且我不能将它设置为根视图控制器，因为它违反了项目属性。

另外，我正在使用情节提要。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:10:47.723

简单地说，在根视图控制器（在您的情况下为 UITableViewController）viewDidAppear 的方法中，将登录屏幕显示为 modalViewController。您需要首先为您的 ViewController 设置标识符。

```
 UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"Storyboard"
                                                 bundle:nil];
LoginViewController *lgn = [storyboard instantiateViewControllerWithIdentifier:@"LoginView"];
[self presentViewController:lgn animated:YES completion:NULL]; 
```

使用您自己的故事板和 viewController 名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:09:34.760

在应用程序委托中

```
loginViewController = [[BANLoginViewController alloc] initWithNibName:@"BANLoginViewController" bundle:nil];

UINavigationController *navController = [[UINavigationController alloc] initWithRootViewController:loginViewController];

[window addSubView:[navController view]];
[window makeKeyAndVisible]; 
```

您可以在其中`BANLoginViewController`检查用户是否已登录，然后初始化主情节提要。

# ant - ant 诊断到单独的文件？

> ID：15805670
> 
> 赞同：1
> 
> 时间：2013-04-04T08:03:46.437
> 
> 标签：ant

我们可以将 ant 诊断结果打印到单独的文件中吗？我在用，

```
<target name="diagnostics" description="diagnostics" >
    <diagnostics/>
</target> 
```

它正在控制台中打印。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T13:54:41.283

我能想到的唯一方法是从另一个目标的任务内部调用目标，并将输出转储到文本文件中。

```
<project name="help" default="help">
   <target name="diagnostics">
       <diagnostics/>
   </target>

    <target name="help">
        <ant output="diag.txt" target="diagnostics"/>
    </target>
</project> 
```

# email - AMQP 的 Sendmail 消费者

> ID：15805674
> 
> 赞同：0
> 
> 时间：2013-04-04T08:03:51.493
> 
> 标签：email, rabbitmq, sendmail, amqp

我正在寻找一个重量轻且功能强大的 AMQP 消费者，用于使用 sendmail 发送电子邮件。存在这样的东西还是我必须自己写一些东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T12:02:23.370

您可能必须自己编写。我见过的最接近的东西是一个[在[RabbitMQ](https://github.com/rabbitmq/rabbitmq-smtp)中接收 SMTP 的插件，这绝对不是你想要的。

对此的一般解决方案可能会变得相当复杂，管理消息的幂等性。在此问题的先前解决方案中，我在消息中传递了一个唯一 ID，并使用持久存储来处理重复数据删除。成功发送电子邮件后，将写入 ID。根据您希望确保移交/防止重复的确定程度，您可以添加更多锁。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-27T21:46:55.837

[MailerQ](http://www.mailerq.com/)可能与您正在寻找的类似。但是，它使用自己的 SMTP 服务器，而不是 sendmail。

我也在寻找一些可以接收 RabbitMQ 消息并将它们作为电子邮件发送的消费者应用程序。但是，我需要它来使用外部 SMTP 服务器，所以 MailerQ 不适合我。

# web-scraping - 网站链接的邻接列表

> ID：15805681
> 
> 赞同：0
> 
> 时间：2013-04-04T08:04:01.143
> 
> 标签：web-scraping, sitemap

我必须解决一个问题。我有 2、3 个网站，它们之间有很多联系。我必须在 2 个网址之间找到更短的方式。然而，在开始时，我需要 s.th 来映射这个站点并制作我可以使用的邻接列表。每一行都应该包含一个页面和从那里开始的所有连接。我需要可以进行此类扫描的软件，或者我应该编写此类软件。例如，使用 php curl 不会那么困难。:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-11T17:19:39.613

也许您需要将您的连接想象成图形节点并使用它进行计算？在检测新闻文章中命名实体的大型新闻网站 ( [http://topbitcoinnews.com](http://topbitcoinnews.com) ) 我们使用相同的方法并将我们的数据存储在 neo4j.org

# eclipse - 有没有办法在 CDT Eclipse 中获取 PC 寄存器值

> ID：15805682
> 
> 赞同：0
> 
> 时间：2013-04-04T08:04:01.347
> 
> 标签：eclipse, eclipse-plugin, eclipse-cdt

目前 CDT 已集成到我的 Eclipse 中。我也可以看到 PC 寄存器的值。我目前的要求是我需要提供一个按钮来获取 PC 寄存器值。因此，如果用户单击按钮 PC 寄存器值应显示在控制台中。

我正在查看 n 个线程，但找不到合适的线程。

如果有人遇到这种情况，请让我知道前进的方向。

谢谢迪帕克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T18:44:19.453

CDT调试器是GDB的前端，所以基本上只要GDB能显示，eclipse也能。但是，我认为它不是您的帖子。这对您来说可能是一个非常有趣的插件开发任务。如果你不适合这份工作，你可以在 eclipse 开发论坛中请求这个功能

# c# - 单击全选复选框时，如何防止检查gridview的禁用复选框？

> ID：15805688
> 
> 赞同：1
> 
> 时间：2013-04-04T08:04:14.830
> 
> 标签：c#, javascript, asp.net, gridview, checkbox

我在我的 aspx 页面中使用了 gridview 。我在每一行都有一个复选框，包括标题。

通过单击标题复选框，它将检查所有复选框，包括gridview中的禁用复选框。我需要避免禁用复选框被选中

这是我的网格视图代码：

```
<asp:GridView ID="CrowdRatingGrid" runat="server" AutoGenerateColumns="false" AllowPaging="true" PageSize="4" OnPageIndexChanging="CrowdRatingGrid_PageIndexChanging" ViewStateMode="Enabled">

<PagerSettings Mode="Numeric" PageButtonCount="4" />
<Columns>
<asp:TemplateField HeaderStyle-BackColor="#DBE2E2" HeaderStyle-Width="60px" HeaderStyle-HorizontalAlign="Center"
                HeaderStyle-Height="62px">
                <HeaderTemplate>
                    <asp:CheckBox ID="SelectAll" runat="server" onclick="SelectAll(this)" />

                </HeaderTemplate>
                <ItemTemplate>
                    <asp:CheckBox runat="server" ID="CheckRow" CssClass="SelectRow" />
                </ItemTemplate>
            </asp:TemplateField>
         </Columns>
        </asp:GridView> 
```

这是我选择所有复选框的 js 代码：

```
function SelectAll(objRef) {

            var GridView = objRef.parentNode.parentNode.parentNode;
            var inputList = GridView.getElementsByTagName("input");
            for (var i = 0; i < inputList.length; i++) {
                var row = inputList[i].parentNode.parentNode;

                if (inputList[i].type == "checkbox" && objRef != inputList[i]) {
                    if (objRef.checked) {
                        inputList[i].checked = true;
                    }
                    else {
                        inputList[i].checked = false;
                    }
                }
            }
        } 
```

请帮助实现这一目标？我应该在 js 中进行哪些更改来实现我的要求？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T08:06:07.380

将条件更改为

```
 if (objRef.checked && !inputList[i].disabled) {
           inputList[i].checked = true;
 }
 else {
       inputList[i].checked = false;
 } 
```

# php - 来自 PHP XML 的 Flash AS3 数据未显示在数据网格中

> ID：15805696
> 
> 赞同：0
> 
> 时间：2013-04-04T08:04:48.817
> 
> 标签：php, mysql, xml, actionscript-3, flash

我的 PHP 代码从数据库中正确读取，我可以运行 PHP 代码并查看 XML。在闪存中，我没有错误，数据网格正确显示，但数据根本不存在。

PHP 代码

```
mysql_connect('localhost', 'root', '');
mysql_select_db('menu');

$sql = "SELECT item_name, item_price FROM menu1";
$res = mysql_query($sql);

header('Content-Type: application/xml');

print "<root>";
while ($row = mysql_fetch_assoc($res)) {
print "<items><itemname>".$row['item_name']."</itemname><itemprice>".$row['item_price']."  </itemprice></items>";
}
print "</root>"; 
```

AS3 代码

```
import fl.controls.DataGrid;
import fl.data.DataProvider;

var data_grid:DataGrid = new DataGrid();

data_grid.addColumn("itemname");
data_grid.addColumn("itemprice");
data_grid.width = 600;
data_grid.rowCount = 2;
data_grid.move(10, 70);
addChild(data_grid);

var dp:DataProvider;
var request:URLRequest = new URLRequest("localhost/menu3.php");

var url_loader:URLLoader = new URLLoader();
url_loader.addEventListener(Event.COMPLETE, completeHandler);
url_loader.load(request);

function completeHandler(event:Event):void {
    var ldr:URLLoader = event.currentTarget as URLLoader;

    var xmlDP:XML = new XML(ldr.data);

    dp = new DataProvider(xmlDP);
    data_grid.dataProvider = dp;
} 
```

# c# - 在实体框架中使用 context.SaveChanges()

> ID：15805697
> 
> 赞同：2
> 
> 时间：2013-04-04T08:05:01.193
> 
> 标签：c#, entity-framework

嗨，我正在使用 Visual Studio 2012 在实体框架中使用代码优先方法有人可以告诉我是否应该`context.SaveChanges();`在 configuration.cs 文件中的 Seed 方法末尾添加以成功更新我的表？我可以在控制台中使用 update-database -verbose 进行结构更改，但这不会更新我的数据。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-04T08:06:23.873

编辑：您实际上不需要调用`SaveChanges`. 因此，这必须意味着在调用该方法之后，会自动`Seed`调用 to 。`SaveChanges`但是，请注意，您*可以根据*`SaveChanges()`需要在方法内调用`Seed`，这在处理外键关系时可能很有用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T13:23:57.523

提供的初始化程序`Seed`通常在内部看起来像这样......

```
// ...do something - prepare Db, Create etc.
Seed(context); // you override that
context.SaveChanges(); 
```

...只是为了进一步澄清。

# git - 为什么当HEAD版本在该行没有内容时git显示合并冲突

> ID：15805702
> 
> 赞同：2
> 
> 时间：2013-04-04T08:05:17.863
> 
> 标签：git, git-merge, merge-conflict-resolution, tree-conflict

我试图`git merge master`从另一个分支做一个，然后我遇到了这个冲突：

```
<<<<<<< HEAD
=======
    t.text     "label_en"
    t.text     "help_text_en"
    t.text     "options_en"
>>>>>>> master 
```

我知道如何解决冲突，但我很好奇为什么 git 首先将其识别为冲突，因为 HEAD 版本在特定行上没有内容。

```
<<<<<<< HEAD
======= 
```

git 只是添加来自 master 的 3 行并合并它不是一个简单的案例吗？

* * *

**更新：**

@Marcin 是正确的。根据答案，我做了一个测试，假设我有一个如下所示的 git 树：

```
 A ---- B  (master)
      \
        C  (another branch) 
```

`temp.txt`中的内容`commit A`：

```
 t.text    "LALALA" 
```

`temp.txt`中的内容`commit B`：

```
 t.text    "label_en"
    t.text    "help_text_en"
    t.text    "options_en" 
```

`temp.txt`in的内容`commit C`为空。

* * *

在这一点上，如果我这样做：

```
git checkout another_branch
git merge master 
```

然后我会得到以下信息：

```
<<<<<<< HEAD
=======
    t.text     "label_en"
    t.text     "help_text_en"
    t.text     "options_en"
>>>>>>> master 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-04T08:11:18.380

您在该行`master`和另一个分支上进行了更改，后者从该行中删除了某些内容，并且 git 无法自动解决该冲突。

# php - cakePHP：将数据保存在一列中

> ID：15805704
> 
> 赞同：1
> 
> 时间：2013-04-04T08:05:21.473
> 
> 标签：php, cakephp, saving-data

我正在尝试使用 cakephp 计算帖子的浏览量，但使用此代码无法节省

```
 $this->autoRender=false;
         $unformattedData = $this->GeneralNews->findById($id);
         $data = $unformattedData['GeneralNews'];
         $total = $data['views'];
         $total = $total+1;
         $this->GeneralNews->views =$total;
         print_r($this->GeneralNews->views);
         $this->GeneralNews->save($this->request->data); 
```

print_r 向我展示了已经在表中添加的视图 +1 .. 但它从未保存在数据库中 .. 有什么问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T08:15:18.827

试试这个代码：

```
 $unformattedData = $this->GeneralNews->findById($id);
     $unformattedData['GeneralNews']['views'] = $unformattedData['GeneralNews']['views'] + 1;
     $this->GeneralNews->save($unformattedData); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:38:52.003

也许更容易：

```
$this->GeneralNews->id = $id;
$views = $this->GeneralNews->field('views');
$this->GeneralNews->saveField('views', $views  + 1); 
```

希望这可以帮助。

# python - 迭代具有值作为列表的字典

> ID：15805713
> 
> 赞同：2
> 
> 时间：2013-04-04T08:05:48.370
> 
> 标签：python, dictionary

我有一本字典'mydict'。

```
{   'a': ['xyz1', 'xyz2'],
    'b': ['xyz3', 'xyz4'],
    'c': ['xyz5'],
    'd': ['xyz6']} 
```

我正在尝试使用以下代码打印出该字典的所有键和值：

```
for username, details in mydict.iteritems():
    pprint.pprint(username + " " + details) 
```

但是，我收到以下错误：

```
AttributeError: 'list' object has no attribute 'iteritems' 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:08:24.850

此代码适用于您的示例

```
>>> import pprint
>>> mydict = {   'a': ['xyz1', 'xyz2'],
    'b': ['xyz3', 'xyz4'],
    'c': ['xyz5'],
    'd': ['xyz6']}

>>> for username, details in mydict.iteritems():
        pprint.pprint((username, details))

('a', ['xyz1', 'xyz2'])
('c', ['xyz5'])
('b', ['xyz3', 'xyz4'])
('d', ['xyz6']) 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T08:30:49.360

当我尝试原始时，我得到相同的 AttributeError，这是因为每个 KEY 中的 VALUE，VALUE 对是一个列表。

使用 mydict.items() 您可以创建每个 (KEY, VALUE) 对的副本，然后您可以打印：

```
for key, value in mydict.items():
    print((key, value)) 
```

当然，如果您的字典很大，使用 items() 创建副本会占用大量内存。哪一个是能够使用 iteritems() 遍历字典的最大优势（更低的内存成本、更高效的和*******为 python****优化的 *）。****

 *同样，您可以执行以下操作：

```
for key in d:
    print((k, mydic[key])) 
```

但是（在python中），这又慢了！因为每次查找时都必须重新散列字典`mydict[key]`。因此，似乎 mydict.items() 是这里的最佳选择，因为它使您可以通过元组解包直接访问值。

Raymond Hettinger（来自 Python 的迭代器和生成器专家）在 US PyCon 上做了一场精彩的演讲，你可以在这里观看：http: [//pyvideo.org/video/1780/transforming-code-into-beautiful-idiomatic-pytho](http://pyvideo.org/video/1780/transforming-code-into-beautiful-idiomatic-pytho)*

# javascript - 表格行悬停，背景更改和单击，但行中的某些子单元格具有不同的属性

> ID：15805722
> 
> 赞同：0
> 
> 时间：2013-04-04T08:06:32.637
> 
> 标签：javascript, jquery, css, html-table

```
<table> 
<tr> 
<th>#</th> 
<th>Name</th> 
<th>Surname</th>
</tr> 

<tr onmouseover="ChangeColor(this, true);" 
onmouseout="ChangeColor(this, false);" 
onclick="DoNav('go.html');"> 

<td>1</td>
<td>John/td>
<td>Dump</td>
</tr> 
</table> 
```

Javascript：

```
 function ChangeColor(tableRow, highLight)
        {if (highLight)
        {tableRow.style.backgroundColor = '#F5FFDB';}
        else
        {tableRow.style.backgroundColor = '';}}
 function DoNav(theUrl)
        {document.location.href = theUrl;} 
```

我使用以下结构来绘制表格。当我将鼠标悬停在一行上时，它会更改背景，并且在我单击该行的任何地方它都会跳转到 url。我想要做的是有一些 id 标识符（可能进入`<td>`），它基本上告诉一行中的某些列表现不同。也就是说，这就是我正在寻找的：

```
<table> 
<tr> 
<th>#</th> 
<th>Name</th> 
<th>Surname</th>
</tr>   
<tr> 
<td id="hover_go_style_1">1</td>
<td id="hover_go_style_1">John</td>
<td id="hover_go_style_2">Dump</td>
</tr> 
</table> 
```

有任何想法吗？

编辑：
我忘了提... id="hover_go_style_1" 会带我到一个网址，而 id="hover_go_style_2" 会带我到另一个网址。这就是“区别”。就像现在使用 onClick 一样，整行将我带到一个 url，但本质上我试图隔离单元格。不知道如何更好地解释这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T08:13:55.970

您应该使用 CSS 作为悬停颜色，那里更简单。您的点击事件也可以更好地连接并完全在您的 JavaScript 中处理。我在`data-url`您的行中添加了一个（HTML5 兼容的）属性来定义 URL。

[jsFiddle](http://jsfiddle.net/Tyriar/pQwd6/2/)

**HTML**

```
<table> 
<tr> 
<th>#</th> 
<th>Name</th> 
<th>Surname</th>
</tr>   
<tr data-url="go.html"> 
<td>1</td>
<td>John</td>
<td>Dump</td>
</tr> 
</table> 
```

**JS**

```
$('tr[data-url]').click(function () {
    window.location.href = $(this).attr('data-url');
}); 
```

**CSS**

```
tr:hover td {
    background-color:#F5FFDB;
}

/* Style the third column differently */
tr:hover td:nth-child(3) {
    background-color:#F00;
} 
```

# php - 通过 mysql 显示元素时不会触发 Jquery 事件

> ID：15805724
> 
> 赞同：2
> 
> 时间：2013-04-04T08:06:36.640
> 
> 标签：php, jquery

我有一些从 mysql 输入的内容，单击时应该触发警报（）...但是，这不起作用...

这是我从 php/get_answers.php 输入的代码的代码

```
<?php session_start(); ?>
<?php require_once("../includes/include_all.php"); ?>
<?php $answers = $question->get_answers_for_question($_GET['id']); ?>
<?php while($row = $answers->fetch_array()){ ?>
  <!-- ALL ANSWERS HERE -->
  <div class = 'answer-row'>
    <div class = 'answer-side'>
        <div class = 'arrow-contain-answer' type = 'answer' id = 'arrow-up' answer-id = '<?php echo $row["id"]; ?>'></div>
        <div class = 'answer-votes-contain'>
            <?php echo $row['popularity']; ?>
        </div>
        <div class = 'arrow-contain-answer' id = 'arrow-down'answer-id = '<?php echo $row["id"]; ?>'></div>
      </div>

    <div class = 'answer-content'>
      <?php 
        echo $row['content'];
      ?>
    </div>

    <div class = 'actions'>
        <a href = '#' class= 'add-comment' id = '<?php echo $row["id"]; ?>'> add comment </a>
    </div>

  </div>

<?php } ?> 
```

这是它显示的页面上的jquery：

```
$(".arrow-contain-answer").click(function(){
    alert();
}); 
```

我想要发生的是当有人单击具有“箭头包含答案”类的元素时，将发生事件..

我认为在通过 mysql/php 将元素“馈入”到页面之前，我遇到了问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T08:08:17.507

```
$(document).on("click", ".arrow-contain-answer", function(){
    alert();
}); 
```

尝试这种方式来动态添加元素！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:14:20.723

如果在添加动态馈送元素时将其委托给文档中存在的最接近的静态元素（父级），则效果会更好（性能方面）。

```
$('.answer-row').on("click", ".arrow-contain-answer", function(){
  alert('clicked');
}); 
```

阅读有关[委派](http://jq4you.blogspot.com/2013/02/jquery-direct-and-delegate-on-event.html)事件的更多信息

# android - 在android中使用带有固定标题的表格格式显示SQlite数据

> ID：15805726
> 
> 赞同：0
> 
> 时间：2013-04-04T08:06:43.670
> 
> 标签：android

我是 android 新手。我为我的 android 应用程序创建了一个 sqlite 数据库。我想使用带有固定标题的表格格式而不是 ListView 来显示我的数据。下面的代码非常好。我需要使用光标适配器吗？对此有哪些可能的控制？有任何想法吗？请给我链接（示例）谢谢。

如何在第一列中使用固定标题和简单的表格格式？像这样。

```
logdate | logtime | batlevel | batcharging | signalstrength | wifi | useraction |
---------------------------------------------------------------------------------
  data  |  data   |   data   |     data    |      data      | data |     data   |
  data  |  data   |   data   |     data    |      data      | data |     data   |
  data  |  data   |   data   |     data    |      data      | data |     data   |
  data  |  data   |   data   |     data    |      data      | data |     data   |
...
... 
```

--这是我的 SQLiteOpenHelper 类

```
package com.example.activitylifecycle;
import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.util.Log;
public class MySQLiteHelper extends SQLiteOpenHelper {

//Attributes name
public static final String _ID = "_id";
public static final String LOGDATE = "Logdate";
public static final String LOGTIME = "Logtime";
public static final String BATLEVEL = "Batlevel";
public static final String BATCHARGING = "Batcharging";
public static final String SIGSTRENGTH = "Sigstrength";
public static final String WIFI = "Wifi";
public static final String USERACTION = "Useraction";

//database creation//
public  static final String TAG = "DBAdapter";
private static final String DATABASE_NAME = "dbase";
public  static final String DATABASE_TABLE = "applog";
private static final int DATABASE_VERSION = 1;

//table create..
private static final String DATABASE_CREATE = "create table applog (_id integer primary key autoincrement,"
+ "Logdate text null,"
+ "Logtime text null,"
+ "Batlevel text null,"
+ "Batcharging text null,"
+ "Sigstrength text null,"
+ "Wifi text null,"
+ "Useraction text null);";

public MySQLiteHelper(Context context) { super(context, DATABASE_NAME, null,     
 DATABASE_VERSION);
 }
@Override
public void onCreate(SQLiteDatabase database) {
database.execSQL(DATABASE_CREATE);
}
@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
Log.w(MySQLiteHelper.class.getName(),
"Upgrading database from version " + oldVersion + " to "
+ newVersion + ", which will destroy all old data");
db.execSQL("DROP TABLE IF EXISTS " + DATABASE_TABLE);
onCreate(db);
}
} 
```

--这是我的数据源类

```
package com.example.activitylifecycle;
import java.util.ArrayList;
import java.util.List;
import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;

public class AppLogDataSource {

//Database Fields
private SQLiteDatabase database;
private MySQLiteHelper dbHelper;
private String[] allColumns = {MySQLiteHelper._ID, MySQLiteHelper.LOGDATE,   
MySQLiteHelper.LOGTIME, MySQLiteHelper.BATLEVEL, MySQLiteHelper.BATCHARGING,   
MySQLiteHelper.SIGSTRENGTH, MySQLiteHelper.WIFI, MySQLiteHelper.USERACTION};

public AppLogDataSource(Context context) {
dbHelper = new MySQLiteHelper(context);
}

public void open() throws SQLException {
database = dbHelper.getWritableDatabase();
}

public void close() {
dbHelper.close();
}

//Insert
public void createApplog(String Logdate, String Logtime, String Batlevel, String    
Batcharging, String Sigstrength, String Wifi, String Useraction){
ContentValues values = new ContentValues();
values.put(MySQLiteHelper.LOGDATE, Logdate);
values.put(MySQLiteHelper.LOGTIME, Logtime);
values.put(MySQLiteHelper.BATLEVEL, Batlevel);
values.put(MySQLiteHelper.BATCHARGING, Batcharging);
values.put(MySQLiteHelper.SIGSTRENGTH, Sigstrength);
values.put(MySQLiteHelper.WIFI, Wifi);
values.put(MySQLiteHelper.USERACTION, Useraction);
long insertId = database.insert(MySQLiteHelper.DATABASE_TABLE, null,values);
Cursor cursor = database.query(MySQLiteHelper.DATABASE_TABLE,allColumns,   
MySQLiteHelper._ID+ " = " + insertId, null, null, null, null);
cursor.moveToFirst();
cursor.close();
}

public Cursor getLogs() { 
Cursor mCursor = database.query(MySQLiteHelper.DATABASE_TABLE,allColumns, null, null,
null, null, null);
mCursor.moveToFirst();
while(!mCursor.isAfterLast()){
mCursor.moveToNext();
}
return mCursor;
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:14:35.070

试试这个例子，它给了你表格的外观，但使用列表视图 [http://www.heikkitoivonen.net/blog/2009/02/15/multicolumn-listview-in-android/](http://www.heikkitoivonen.net/blog/2009/02/15/multicolumn-listview-in-android/)

祝你好运

# c++ - MSVC 列出静态 .lib 文件中的符号

> ID：15805738
> 
> 赞同：23
> 
> 时间：2013-04-04T08:07:33.800
> 
> 标签：c++, static-libraries

是否有我可以使用（或附带）Visual Studio 的命令行工具，它将以简单且易于解析的格式打印 C++ 静态库文件中的符号名称？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-04-04T08:09:24.777

`dumpbin.exe`您可以使用 MSVC 附带的工具。

例如显示有关库的所有信息：

```
dumpbin.exe /ALL yourlib.lib 
```

请参阅[MSDN](https://docs.microsoft.com/en-us/cpp/build/reference/dumpbin-reference)以供参考。

# android - 为什么我的 Holo Light 应用程序模糊不清并被炸毁？

> ID：15805739
> 
> 赞同：1
> 
> 时间：2013-04-04T08:07:37.293
> 
> 标签：android, android-layout, android-theme

我只是在学习编写 Android 应用程序并且正在使用 Netbeans。我的 main.xml 看起来像这样：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="horizontal"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    >
    <EditText android:layout_weight="1" 
        android:id="@+id/edit_message"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
    />
    <Button 
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        />
</LinearLayout> 
```

问题是它看起来很模糊，而且 UI 元素真的很大。我在 7 英寸平板电脑上运行它，它看起来像这样：http: [//i.imgur.com/eflfJRQ.png](http://i.imgur.com/eflfJRQ.png)

我可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:59:47.447

我认为您将*手机*尺寸布局用于 7 英寸屏幕，这会导致位图缩放和布局模糊。您是否使用过*尺寸限定符*来支持不同的屏幕尺寸？

```
res/layout/main_activity.xml           # For handsets (smaller than 600dp available width)
res/layout-sw600dp/main_activity.xml   # For 7” tablets (600dp wide and bigger)
res/layout-sw720dp/main_activity.xml   # For 10” tablets (720dp wide and bigger) 
```

看看这个：[`Supporting Multiple Screens`](http://developer.android.com/guide/practices/screens_support.html#ConfigurationExamples)

# frameworks - 使用波旁整洁网格的断点

> ID：15805750
> 
> 赞同：8
> 
> 时间：2013-04-04T08:08:19.193
> 
> 标签：frameworks, sass, media-queries, mixins, bourbon

我正在尝试使用整洁的波旁威士忌，并且我已经解决了大多数事情，但是在创建断点时我遇到了一些障碍。

我更喜欢为移动设备、平板电脑、台式机和大型桌面制作单独的 sass 文件，而且我通常不使用冒泡来创建我的媒体查询，因为我不喜欢它不只是创建一个媒体查询，而是通过 css 发出音调文件。但到目前为止，我似乎只能找到关于冒泡方法的文档。

[关于如何在整洁中使用断点的文章](http://robots.thoughtbot.com/post/34653032294/version-1-0-of-bourbon-neat-a-sass-based-responsive)

这是我所做的：

```
$largedesktop-size:em(1050);

    // Bourbon Neat Breakpoints
    $largedesktop: new-breakpoint(min-width $largedesktop-size 16);

 @include media($largedesktop) { 
    body{
        background:black;
    }
  } 
```

我也试过这个，它确实更新了 bg 颜色但不更新视觉网格：

```
// Media Queries Breakpoints
$tablet-size:em(700);

@include media(min-width $tablet-size 8) {
    body{
        background:orange;
    }
  } 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-04T16:45:41.890

我实际上想出了这个，我的主要问题只是我如何组织我的 .scss 文件，但这里是如何。

文件结构如下：

```
@import 'bourbon/bourbon';
@import 'variables';
@import 'neat/neat';

@import 'base';

// Media Queries
@import 'mobile';
@import 'tablet';
@import 'desktop';
@import 'largedesktop'; 
```

变量必须先于导入变量。

在 _variables.scss 添加您的查询，如下所示：

```
$mobile-size:em(320);
$tablet-size:720px;
$desktop-size:em(960);
$largedesktop-size:em(1050);

// Bourbon Neat Breakpoints
$mobile: new-breakpoint(min-width $mobile-size 4);
$tablet: new-breakpoint(min-width $tablet-size 8);
$desktop: new-breakpoint(min-width $desktop-size 12);
$largedesktop: new-breakpoint(min-width $largedesktop-size 16); 
```

然后（这就是我喜欢的组织方式）为移动设备、平板电脑、台式机和 largedesktop 创建一个 scss 文件，并在 _base.scss 之后导入——我已经在上面说明了文件的结构。

在每个内部添加您的媒体查询以及所需的布局更改。

像这样：_mobile.scss

```
@include media($mobile) {
    body {
        background: purple;
    }
} 
```

那应该对你有用。

正如我所说的那样，我就是这样做的，我相信还有很多其他人，但如果他们遇到问题，我想让人们知道一种方法:)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2014-09-18T20:26:34.083

我在断点和更新网格时遇到了类似的问题。略有不同的轨道，虽然...

这对我有帮助。这*不在*[主要文档](http://neat.bourbon.io/docs/)中。

在 Neat [GitHub 页面上](https://github.com/thoughtbot/neat#using-neat)，thoughtbot 团队解释说：

1.  您需要创建一个 _grid-settings.scss 文件
2.  在导入 Neat 之前立即导入它

    ```
    @import "bourbon/bourbon"; // or "bourbon" when in Rails
    @import "grid-settings";
    @import "neat/neat"; // or "neat" when in Rails 
    ```

3.  在 _grid-settings.scss 文件中，导入整洁的助手

    ```
    @import "neat/neat-helpers"; // or "neat-helpers" when in Rails

    // Define your breakpoints
    $tablet: new-breakpoint(max-width 768px 8);
    $mobile: new-breakpoint(max-width 480px 4);
    etc 
    ```

在添加此设置之前，我可以*看到*网格，但网格不会响应我更新列或更改组件位置的断点请求。一旦我有了这些设置，网格就会按我的预期工作。

如果这很重要，我正在使用 CodeKit 2。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-09-28T18:07:33.593

对于它可能关心的人来说，我的问题不是我的导入顺序错误，而是我如何使用我的变量。我以为函数需要一个字符串...

这是错误的：

```
$desktop: 1200px
$tablet: new-breakpoint(min-width 600px max-width #{$desktop}) 
```

这是对的：

```
$desktop: 1200px
$tablet: new-breakpoint(min-width 600px max-width $desktop) 
```

# ios - 如何在 iOS App 中将数据写入 Excel 文件？

> ID：15805751
> 
> 赞同：3
> 
> 时间：2013-04-04T08:08:22.490
> 
> 标签：ios, excel

我发现一个名为[DHlibxls](https://github.com/dhoerl/DHlibxls)的示例项目可以从 Excel 中读取文件。

但是...问题是，我想将数据写入 Excel 文件。

我的想法是在应用程序中存储一个 excel 文件模板，并通过用户在应用程序中执行的操作将数据写入 excel 文件，从而创建一个用于发送电子邮件的新 excel 文件。

PS：不要催我转成CSV或者其他格式，客户比较硬，坚持要excel格式。

# c# - 建议可能的并行性的工具

> ID：15805764
> 
> 赞同：1
> 
> 时间：2013-04-04T08:09:08.717
> 
> 标签：c#, c#-4.0, parallel-processing, task-parallel-library

是否有任何可用的工具可以在代码中找到/建议可能的位置，这些位置可以被重构以使用并行性来提高性能。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:27:33.643

能够建议代码中可以通过并行性或并发性进行优化的位置，这对于任何静态分析器来说都是一项非常艰巨的工作。我不知道有什么工具可以开箱即用地做到这一点。

正如其中一位评论者所说，最好的方法是阅读并深入了解并行性或并发性可以在哪些方面为您提供帮助，并将其与 Visual Studio 分析器等工具结合使用。

您可能感兴趣的一种工具是[JetBrains 的 Resharper](http://www.jetbrains.com/resharper/)。我不相信它可以满足您的要求，但它是一个很棒的工具，谁知道，您需要的东西可能会在未来的版本中添加？

我希望这有帮助。

# mysql - Yii - 使用 MySQL AS 子句字段

> ID：15805766
> 
> 赞同：0
> 
> 时间：2013-04-04T08:09:13.870
> 
> 标签：mysql, yii, custom-fields, customcolumn, cactivedataprovider

假设我想为 CGridView 提供 CActiveDataProvider。我需要将 a`SUM(invitesCount) AS invites`放入 Provider 结果中。如何找回它？我想我不能只使用`$dataProvider->invites`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T09:02:02.030

您需要在您的关系邀请中指定以下内容

```
'invites '=>array(self::BELONGS_TO, 'CampaignFund', 'campaign_id', 'select' => 'SUM(invitesCount)'), 
```

并在您的标准中使用此关系。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T10:28:01.887

其他几个选项：

1.  使用[CStatRelation](http://www.yiiframework.com/doc/guide/1.1/en/database.arr#statistical-query)

    ```
    invitesCount=>array(self::STAT,'Invites','foreign_key_field'); 
    ```

2.  添加公共属性可以工作。但是，仅当您更改默认查找查询以包含此新条件时，才会设置该字段。这可以通过覆盖[`defaultScope()`](http://www.yiiframework.com/doc/api/1.0/CActiveRecord#defaultScope-detail)或创建一个新的[`scope`](http://www.yiiframework.com/doc/api/1.0/CActiveRecord#scopes-detail)并在需要时使用它`invitesCount`来完成。

3.  另一种选择是从所需的查询创建一个数据库视图，并从该数据库视图创建一个新模型。

# entity-framework - 实体框架对不同程序集的继承

> ID：15805769
> 
> 赞同：4
> 
> 时间：2013-04-04T08:09:17.740
> 
> 标签：entity-framework, inheritance, frameworks, entity, assemblies

我对 Entity Framework 很陌生，但是我使用它的次数越多，我就越喜欢它。但现在我的热情处于危险之中，因为我正在努力解决一个已经让我把头撞到墙上的问题。

问题如下：

我正在使用 Entity Framework 5.0 和代码优先方法以及由 Table Per Hierarchy 表示的业务模型的继承。起初，我拥有所有应该被映射的实体类型，与我的 DbContext （对 TPH 和 TPT 都适用）在同一个程序集中。但是由于它们还包含依赖于其他程序集的逻辑，因此这不是一个好的方法，因为它会导致循环依赖，因为这些程序集还需要了解数据访问层，而数据访问层又必须了解实体类型它应该映射）。

我通过引入一个 CommonObjects 项目解决了这个问题，我现在保留我所有的抽象类，并将这些基类的具体后代（包含逻辑等）剥离到负责它们的特定项目中。（参见：[循环依赖解决方案](https://stackoverflow.com/questions/2596461/circular-dependency-solution)）

它编译了，一切似乎都符合我的想象。但现在事实证明，Entity Framework 似乎很难处理与基类不同的派生类。

在运行时，当第一次尝试访问 DbContext 时，编译器抛出一个 InvalidOperationException 说：

> 抽象类型 'Foo.Bar.AbstractClass' 没有映射的后代，因此无法映射。从模型中删除 'Foo.Bar.AbstractClass' 或将派生自 'Foo.Bar.AbstractClass' 的一种或多种类型添加到模型中。

因此 EF 显然无法找到后代，因为它只知道基类（位于 CommonObjects 项目中），但后代位于不同的程序集中。

```
DbSet<AbstractClass> AbstractClasses { get; set; } 
```

根据这个问题： [Entity Framework Code First and Multiple Assemblies](https://stackoverflow.com/questions/5378678/entity-framework-code-first-and-multiple-assemblies) 我尝试将以下代码添加到派生 DbContext 的构造函数中：

```
((IObjectContextAdapter)this).ObjectContext.MetadataWorkspace.LoadFromAssembly(
            Assembly.Load("Foo1")); 
```

但这对我不起作用。在调试和观察 MetadataWorkspace 时，“LoadFromAssembly”方法显然对 MetadataWorkspace 及其项目没有任何影响（没有从程序集 Foo1 加载任何类型）。

我在这里想念什么？

提前感谢您的回答。

本

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-18T03:35:29.660

编辑：这几乎不起作用而且不值得，如果您使用 CodeFirst，这根本不起作用。

我首先遇到了与代码相同的问题。我试过你的反思方法。这似乎有点不靠谱，但您可以通过内部类来欺骗 EF。

```
 internal class ClassToMakeEFHappy : AbstractClass {} 
```

我刚刚在与我的 AbstractClass 定义相同的文件中创建了它，它成功了。

# git - 在 Aptana 中设置 Git 用户

> ID：15805770
> 
> 赞同：3
> 
> 时间：2013-04-04T08:09:18.743
> 
> 标签：git, aptana

我正在使用 Aptana Studio 3 Standalone 作为 IDE（不要怪我，别无选择）。作为 GIT 客户端，我使用 eGit 有一段时间了，但我不太喜欢那里的菜单和选项。

所以，我想给内置的 git 客户端一个机会。我更喜欢它，但我的问题是，在我删除 eGit 后，我​​的用户名在我所做的所有提交中都显示为**未知。**

我没有改变我的选项中的任何东西，我仍然有条目

```
Window -> preferences -> Git -> Configuration -> User Settings

email: myname@myaddress.net
name: thisShouldBeUsedForCommitsRight 
```

但似乎 git 客户端完全忽略了这些值？

**问题**：如何以及在哪里为 Aptana 的集成 git 客户端设置 git 用户名和电子邮件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:27:49.240

这似乎是一个长期存在的错误，于[2010 年和 2011 年在此线程](http://aptanastudio.tenderapp.com/discussions/questions/436-how-to-set-git-username-and-useremail)中首次报告，随后出现在[APSTUD-4247](https://jira.appcelerator.org/browse/APSTUD-4247)等票证中。

由于 Aptana 将使用 git 客户端，因此请确保将这些信息设置保存在例如 msygit 中。

```
cd /path/to/my/repo
git config user.name yourName
git config user.email yourEmail 
```

# java - 使用 HTTPURLConnection 提交表单

> ID：15805771
> 
> 赞同：5
> 
> 时间：2013-04-04T08:09:19.747
> 
> 标签：java, httpurlconnection

您好我正在尝试使用 HTTPURLConnection 作为练习提交以下表单。

```
<form name="popnames" method="post" action="/cgi-bin/popularnames.cgi" onsubmit="return       submitIt();">
<p>
<label for="year">Birth Year:</label><br>
<input type="text" name="year" size="5" maxlength="4" id="year" value="2011">
</p>
<p>
<label for="rank">Popularity:</label><br>
<select name="top" size="1" id="rank">

<option value="20">Top 20</option>
  <option value="50">Top 50</option>
  <option value="100">Top 100</option>
  <option value="500">Top 500</option>
  <option value="1000">Top 1000</option>
</select>
</p>
<fieldset>
<legend>Name rankings may include:</legend>
<input type="radio" name="number" value="p" id="percent">
<label for="percent">Percent of total births</label><br>
<input type="radio" name="number" value="n" id="number">
<label for="number">Number of births</label>
</fieldset>
<hr>
<input class="uef-btn uef-btn-primary" type="submit" value="  Go  ">
</form> 
```

我正在使用 HTTPURLConnection 进行提交这是我的代码和我的测试类

```
public class FormSubmitServiceTest {

@Test
public void testSubmit() throws Exception {
    String url = "http://www.socialsecurity.gov/OACT/babynames/#ht=1";
    Map<String, String> data = new HashMap<String, String>();
    data.put("year", "2010");
    data.put("top", "50");
    data.put("number", "n");

    FormSubmitService service = new FormSubmitService();
    service.doSubmit(url, data);
}
} 
```

还有我的服务班

```
public class FormSubmitService {

    public void doSubmit(String url, Map<String, String> data) throws IOException {
        URL siteUrl = new URL(url);
        HttpURLConnection conn = (HttpURLConnection) siteUrl.openConnection();
        conn.setRequestMethod("POST");
        conn.setRequestProperty("Content-Type", 
               "application/x-www-form-urlencoded");
        conn.setUseCaches (true);
        conn.setDoOutput(true);
        conn.setDoInput(true);

        DataOutputStream out = new DataOutputStream(conn.getOutputStream());

        Set keys = data.keySet();
        Iterator keyIter = keys.iterator();
        String content = "";
        for(int i=0; keyIter.hasNext(); i++) {
            Object key = keyIter.next();
            if(i!=0) {
                content += "&";
            }
            content += key + "=" + URLEncoder.encode(data.get(key), "UTF-8");
        }
        System.out.println(content);
        out.writeBytes(content);
        out.flush();
        out.close();
        BufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()));
        String line = "";
        while((line=in.readLine())!=null) {
            System.out.println(line);
        }
        in.close();
    }
} 
```

任何人都可以告诉为什么这在提交表格时不起作用。是不是因为我没有单击值为 GO 的提交按钮。如果是这种情况，那么我如何实际单击它，因为我希望发送一个名称值对，但提交按钮没有名称，只有一个值。

当我从此代码发布表单时，我希望响应包含与手动提交表单时相同的数据，即此页面[http://www.socialsecurity.gov/cgi-bin/popularnames.cgi](http://www.socialsecurity.gov/cgi-bin/popularnames.cgi)上的数据。

但是，在运行测试类时，我得到的响应中的数据与原始页面[http://www.socialsecurity.gov/OACT/babynames/#ht=1](http://www.socialsecurity.gov/OACT/babynames/#ht=1)相同。

所有帮助表示赞赏

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T10:02:14.770

我认为您会注意到，如果您将测试用例中的 URL 更改为[http://www.socialsecurity.gov/cgi-bin/popularnames.cgi](http://www.socialsecurity.gov/cgi-bin/popularnames.cgi)，它就会全部工作。

# maven - 声纳的 Jacoco 插件不支持 Spock 测试

> ID：15805772
> 
> 赞同：2
> 
> 时间：2013-04-04T08:09:21.327
> 
> 标签：maven, sonarqube, spock, jacoco

我对 Sonar 的 Jacoco 插件有一个非常奇怪的问题。我有一个多 Maven 项目，我在 Spock 中编写了一个“Event”类和一个“EventTest”类。Sonar 的 Jacoco 插件没有为我所做的测试提供任何代码覆盖率。如果我在同一个包中放置一个虚拟的 Junit 测试，即没有测试任何东西，Jacoco 插件会向我显示 100% 的覆盖率，这是我对 Spock 测试的预期覆盖率。有没有人遇到过同样的问题？

干杯卢卡

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-25T13:38:39.533

根据我的经验，您可以通过将其添加到 pom.xml 的插件部分来解决此问题：

```
<plugin>
    <groupId>org.jacoco</groupId>
    <artifactId>jacoco-maven-plugin</artifactId>
    <version>0.6.3.201306030806</version>
    <executions>
        <execution>
            <id>prepare-agent</id>
            <goals>
                <goal>prepare-agent</goal>
            </goals>
        </execution>
    </executions>
</plugin> 
```

# asp.net-mvc - 使用 MSDeploy 将 buildresult 复制到 targetserver

> ID：15805777
> 
> 赞同：0
> 
> 时间：2013-04-04T08:09:37.367
> 
> 标签：asp.net-mvc, visual-studio-2010, msdeploy, webdeploy

有一个带有批处理文件的 web 项目，它生成目标服务器上所需的所有文件并将它们放在文件夹 "/Deployable" 中。

批处理文件相当复杂，因为该项目包含一个插件系统，并且所有插件都需要复制到某个位置。

当我使用 webdeploy 部署到目标服务器时，它会发生您所期望的：复制了一些所需的程序集，但没有复制批处理文件中指定的文件。

我现在的计划是先执行批处理文件，然后使用 webdeploy 将文件夹“/Deployable”复制到目标服务器。这可以通过 webdeploy 完成吗？

这是我在 Visual Studio 部署菜单中看到的：![在此处输入图像描述](https://i.stack.imgur.com/zrEwN.png)

这是生成的发布配置文件

```
<?xml version="1.0" encoding="utf-8"?> <publishData>
<publishProfile publishUrl="http://myserver/msdeployagentservice"
deleteExistingFiles="False" 
ftpAnonymousLogin="False" 
ftpPassiveMode="True"
msdeploySite="mysite/" 
msdeploySiteID="" 
msdeployRemoteSitePhysicalPath="" 
msdeployAllowUntrustedCertificate="False" 
msdeploySkipExtraFilesOnServer="False" 
msdeployMarkAsApp="False" 
profileName="publish_to_myserver" 
publishMethod="MSDeploy" 
replaceMatchingFiles="True" 
userName="myuser" 
savePWD="True" userPWD="xxx" SelectedForPublish="True" /> 
</publishData>> 
```

* * *

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:22:56.043

我认为可以通过修改文件将第三方文件添加到 webdeploy 包中`.csproj`，但是，我从来没有使用过它。

* * *

**或者，您可以通过使用 MSDeploy 的**[命令行客户端](http://technet.microsoft.com/en-us/library/dd569106%28v=ws.10%29.aspx)及其[`sync`](http://technet.microsoft.com/en-us/library/dd569005%28v=ws.10%29.aspx)动词，通过将您的`/Deployable`文件夹指定为`-source`参数并将目标服务器的 msdeploy 服务指定为，轻松实现相同的结果`-dest`，例如：

```
$(WebDeployToolPath)\msdeploy -verb:sync -source:dirPath='Deployable\' -dest:dirPath='$(DeployDirectoryLocalPath)',computerName=$(DeployTargetURL),userName='$(DeployUserName)',password='$(Password)',authType='Basic' -verbose -allowUntrusted 
```

替补：

*   `$(WebDeployToolPath)`- 带有 msdeploy 可执行文件的文件夹的完整路径（例如`c:\Program Files (x86)\IIS\Microsoft Web Deploy V3\msdeploy.exe`）
*   `Deployable\`- 您要复制到目标服务器的文件夹的完整路径。
*   `$(DeployDirectoryLocalPath)`-目标服务器上目标文件夹的完整**本地路径。**
*   `$(DeployTargetURL)`- 网络部署服务 URL（例如`https://192.168.142.55:8172/MsDeploy.axd`或`http://myserver/msdeployagentservice`）
*   `$(DeployUserName)`- 用于部署的用户名（应该是 Win 2003 的管理员）
*   `$(Password)`- 用户的密码。

就是这样 - 此命令将`Deployable\`文件夹与`$(DeployDirectoryLocalPath)`文件夹同步（即使内容完全匹配）。

您可以将其包装到`.csproj`文件中的 msbuild 目标中：

```
 <PropertyGroup>
     <DeployTargetURL Condition="'$(DeployTargetURL)'==''">https://192.168.142.55:8172/MsDeploy.axd</DeployTargetURL>
     <DeployUserName Condition="'$(DeployUserName)'==''">tergetServer\Administrator</DeployUserName>
     <Password Condition="'$(Password)'==''">AdminPassword</Password>
     <WebDeployToolPath Condition="'$(WebDeployToolPath)'==''">c:\Program Files (x86)\IIS\Microsoft Web Deploy V3\msdeploy.exe</WebDeployToolPath> 
```

```
<Target Name="Deploy">
 <Exec Command="&quot;$(WebDeployToolPath)&quot;\msdeploy -verb:sync -source:dirPath='Deployable\' -dest:dirPath='$(DeployDirectoryLocalPath)',computerName=$(DeployTargetURL),userName='$(DeployUserName)',password='$(Password)',authType='Basic' -verbose -allowUntrusted " />
</Target> 
```

然后通过以下方式从命令行运行它：

```
%windir%\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe MyProject.proj /t:Deploy* 
```

# opengl - OpenGL 是否支持立方体贴图纹理的环绕模式？

> ID：15805778
> 
> 赞同：1
> 
> 时间：2013-04-04T08:09:40.953
> 
> 标签：opengl

是否支持立方体贴图纹理的环绕模式？我已将包装模式设置为`GL_REPEAT`并使用了 tex-cords `[-2,2]`，但我看不到重复的纹理。它只应用一次。立方体贴图纹理似乎是不可能的，为什么？

这是我的tex坐标：

```
#define eps1 1.0

 GLfloat tex_coords[] = {
   /* +X side */
   1.0, -eps1, -eps1,
   1.0, -eps1,  eps1,
   1.0,  eps1,  eps1,
   1.0,  eps1, -eps1,

   /* -X side */
   -1.0,  eps1, -eps1,
   -1.0,  eps1,  eps1,
   -1.0, -eps1,  eps1,
   -1.0, -eps1, -eps1,

   /* +Y side */
   -eps1, 1.0, -eps1,
   -eps1, 1.0,  eps1,
    eps1, 1.0,  eps1,
    eps1, 1.0, -eps1,

   /* -Y side */
   -eps1, -1.0, -eps1,
   -eps1, -1.0,  eps1,
    eps1, -1.0,  eps1,
    eps1, -1.0, -eps1,

   /* +Z side */
    eps1, -eps1, 1.0,
   -eps1, -eps1, 1.0,
   -eps1,  eps1, 1.0,
    eps1,  eps1, 1.0,

   /* -Z side */
    eps1,  eps1, -1.0,
   -eps1,  eps1, -1.0,
   -eps1, -eps1, -1.0,
    eps1, -eps1, -1.0,
}; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T09:00:30.003

无耻地从[`ARB_seamless_cube_map`](http://www.opengl.org/registry/specs/ARB/seamless_cube_map.txt).

> 从立方体贴图纹理中采样时，使用三维纹理坐标来选择立方体贴图面之一并生成二维纹理坐标 (st)，在该二维纹理坐标 (st) 处，从立方体贴图纹理的确定面采样纹素。纹理的每个面都被视为一个独立的二维纹理，并且生成的 (st) 坐标与任何其他二维纹理提取一样受到相同的钳位和环绕规则。

扩展程序本身也可能对您有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T08:46:12.230

s 和 t 坐标基于两个非主方向，但除以主方向的绝对值。由于主方向是绝对值最大的方向，因此结果将始终在 [0, 1] 范围内。在进行查找之前，您可以将其视为 3D 纹理坐标的内置标准化。简而言之，不可能包裹立方体贴图的面。

# sql - 无法在现场 LAMP Codeigniter 上使用模型

> ID：15805788
> 
> 赞同：0
> 
> 时间：2013-04-04T08:10:24.603
> 
> 标签：sql, configuration, lamp, ownership

我有一个网站，我最近搬到了 Linux VM 上的实时 LAMP 版本。使用 codeigniter，我让模型尝试对 SQL 数据库进行简单的注册。除了我告诉我的代码给出的错误之外，我在错误日志中没有收到错误。但我确实在浏览器的控制台中收到 500 Internal Server 错误。模型中的代码是：

公共函数寄存器（$email，$password，$first_name，$last_name，$gender，$birthday）{

```
$salt = $this->generateSalt();

$password = $this->hash($password, $salt);

$data = array('email' => $email, 'password' => $password, 'salt' => $salt, 'first_name' => $first_name,
    "last_name" => $last_name, 'gender' => $gender, "birthday" => $birthday);

error_log("befoer load");
$this->load->database();
error_log("after load");
if($this->db->insert('users', $data)){
    $this->loginById($this->db->insert_id());
    return true;
}else{
    return false;
} 
```

}

它没有到达错误日志中的加载后行，但确实到达了加载前。

我认为这可能是 database.config 的问题，所以以防万一这里没有用户名或密码（我已经检查了 1000 次）：

```
$db['default'] = array(
    'dsn'   => '',
    'hostname' => 'http://130.184.99.114/',
    'username' => '',
    'password' => '',
    'database' => 'meetings',
    'dbdriver' => 'mysqli',
    'dbprefix' => '',
    'pconnect' => TRUE,
    'db_debug' => TRUE,
    'cache_on' => FALSE,
    'cachedir' => '',
    'char_set' => 'utf8',
    'dbcollat' => 'utf8_general_ci',
    'swap_pre' => '',
    'autoinit' => TRUE,
    'encrypt' => FALSE,
    'compress' => FALSE,
    'stricton' => FALSE,
    'failover' => array()
); 
```

现在，我认为这是我的配置文件或某些所有者的问题。我以前从未发布过实时网站，所以我不知道要寻找什么。对此的任何建议将不胜感激！

# java - 实例变量的值在两个类中是不同的。为什么？（+更多问题）

> ID：15805789
> 
> 赞同：0
> 
> 时间：2013-04-04T08:10:28.953
> 
> 标签：java, user-interface, event-handling, null, actionlistener

我有一个`TurnIndicator`类，它的方法只返回*"BLACK"、"BLACK"*`getTurn();`的字符串，然后在*"WHITE"*和*"BLACK"*之间交替。

 ***在我的`Board`类中，它结合了包中的所有类并使其一起工作，我创建了一个`TurnIndicator`类的实例`_turn`，并声明了一个`_t`具有初始值的实例变量然后，我为-`_t = _turn.getTurn();` 定义了一个访问器方法。`_t``getT()`

现在，当我`_t`在类中打印值时`Board`，它会打印*"BLACK"、"BLACK"*等等。但是，当我在另一个类中访问`_t`值时，会打印.`getT()``SelectPieceListener`*`null`*

为什么会这样？

我在下面附上了我的类定义。不相关的部分被删除。

我最终要做的是根据`c == _st.checkMoveImpossible()`条件，让玩家在两个选项之间做出选择——

**1.**通过单击选择按钮（在这种情况下，`_cmi`变为***1***，并且`selectClicked()`方法为块执行所需的操作`if(_cmi == 1)`。更具体地说，它改变了`_t`值的顺序，以便玩家跳过一回合），或者

**2.**通过点击滚动按钮（在这种情况下，`_cmi`变成**2**，并在方法中做类似的事情`scrollClicked()`让当前玩家移动其他玩家的棋子。）。

我`_cmi == 1`通过将所有内容都放在`selectClicked()`方法中来使案例操作起作用，但是我必须提供`_cmi==2`案例（当玩家单击滚动按钮时），所以我必须将它与方法分离。

现在，我一直在努力让它在课堂上工作，这样如果我成功`SelectPieceListener`了，我以后可以把它移到课堂上。`Board`

然而，我几个小时的每一次尝试都失败了。我一次编写了一两个类，这是我第一次做有很多类的项目。我对这种事情真的没有经验。

如果你能给我一些建议，那将对我有很大帮助。

我知道这确实是一项繁琐的工作，但我自己可能无法做到这一点。请花点时间阅读代码并帮助我。

```
public class Board {
private Structure _st;
private TurnIndicator _turn;
private String _t;
private int _cmi;

public Board() {
    _turn = new TurnIndicator();
    _t = _turn.getTurn();
    _cmi = 0;   
}

public ScrollListener getScroll(){
    return _scroll;
}

public String getT() {
    return _t;
}
public int setcmi(int cmi) {
    return _cmi = cmi;
}

public void selectClicked(char dir) {
    int index = _scroll.getX();
    HNode<ArrayList<String>> current = _st.getPosition(index);
    System.out.println("checkMoveImpossible() = " + _st.checkMoveImpossible());
    System.out.println("_t in Board = " + _t);

    if(!current.getDatum().isEmpty()) {

        if(_t == current.getDatum().get(current.getDatum().size()-1) && _cmi == 0) {
            if(0 <= index && index < 17 && index != _st.indexOfSpBack()) {
                current.forward(_t, current.getDatum().size());
            }
            else if(17 <= index && index < 25) {
                char direction = dir;
                _st.start(current, direction);
            }
            else if(index == _st.indexOfSpBack()) {
                current.backward(_t, current.getDatum().size()-1);
            }

            _t = _turn.getTurn();
            System.out.println("turn is "+ _t);
            display();
        }

        else if(_t != current.getDatum().get(current.getDatum().size()-1) && _cmi == 0) {
            String s = _t == "WHITE" ? "BLACK" : "WHITE";
            System.out.println("It's "+_t+"'s turn now and only "
            +s+" can move this piece.");
        }

    }

    if(_cmi == 1) {
        _t = _turn.getTurn();
        _cmi = 0;
        System.out.println("_cmi if block is reached");
        display();
    }
    update();

} 
```

下面是 SelectPieceListener 类定义

```
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class SelectPieceListener implements ActionListener {
    private Board _board;
    private Structure _st;
    private String _t;

    public SelectPieceListener(Board board) {
        _board = board;
        _st = _board.getStructure();
        _t = _board.getT();
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        char c = _t == "WHITE" ? 'b' : 'w';
        _board.selectClicked('l');          
        System.out.println(_t);
        if(c == _st.checkMoveImpossible()) {
            String theOther = _t == "WHITE" ? "BLACK" : "WHITE";
            System.out.println("No possible move for "+_t+": click select to skip turn, " +
                    "or click scroll to move " + theOther + " pieces.");
            _board.setcmi(1);
            _board.update();
            _board.selectClicked('l');          
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:26:59.073

出色地，

我看你有一些我不推荐的东西。SelectPieceListener 中的 _t 和 _st 字段不是必需的，因为您可以从 _board 字段中获取它们，如果不需要，为什么要保留重复的引用？

另一方面，我看到你用 == 做了很多字符串比较，你应该总是使用“STRING_LITERAL”.equals(variable)。

之后，我建议您使用 Eclipse 之类的 IDE，以便您可以调试部分代码。如果您的变量为空，它可能会在某些时候丢失，调试器将是找到问题的最佳方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:27:26.373

您在 Board 构造函数中有问题，应更改顺序：

```
public Board() {
    _turn = new TurnIndicator();   // <---- this goes first
    _t = _turn.getTurn();
    _cmi = 0;   
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T08:27:45.297

```
public class Board {
    private Structure _st;
    private TurnIndicator _turn; //instance variable, null before initialization
    private String _t;
    private int _cmi;

    public Board() {
    _t = _turn.getTurn(); //_turn is null, so... how do you are not getting a NPE?
    _cmi = 0;   
} 
```***

# c# - 如何在c#中更改excel表格一列的格式？

> ID：15805790
> 
> 赞同：6
> 
> 时间：2013-04-04T08:10:32.227
> 
> 标签：c#, asp.net, asp.net-mvc, excel

我正在动态创建一个 excel 表并将值插入到其中。但是某些单元格中的值以错误的格式插入。以下是我在所选单元格中的 Excel 工作表![在此处输入图像描述](https://i.stack.imgur.com/gk5hT.png) 值应该是**0002-9343**但它被插入为**Feb-43**。这是由于 Excel 工作表中该列（D 列）的格式错误。在输入数据之前，我需要将整个 D 列（标题 D“data2”下的所有单元格）更改为“文本格式”。以下是创建excel表和插入数据的代码

```
excel = new Application();
            excel.Visible = false;
            wb = (_Workbook)(excel.Workbooks.Add(System.Reflection.Missing.Value));
            sheet = wb.Sheets.Add();
            sheet.Name = "TestSheet1";
            sheet.Cells[1, "A"].Value2 = "Id";
            sheet.Cells[1, "B"].Value2 = "Name";
            sheet.Cells[1, "C"].Value2 = "Data1";
            sheet.Cells[1, "D"].Value2 = "Data2";
            sheet.Cells[1, "E"].Value2 = "Data3";

            for (int i = 0; i < 10; i++)
            {
                    id = i;
                    result = object;
                    data = JsonConvert.DeserializeObject(result);

        name  = (data != null) ? data.name : string.Empty;
                    data1 = (data != null) ? data.data1 : string.Empty;
                    data2 = (data != null) ? data.data2 : string.Empty;
                    data3 = (data != null) ? data.data3 : string.Empty;

                    sheet.Cells[i + 2, "A"].Value2 = name;  
                    sheet.Cells[i + 2, "B"].Value2 = data1; 
                    sheet.Cells[i + 2, "C"].Value2 = data2; 
                    sheet.Cells[i + 2, "D"].Value2 = data3;
            }
            string ExcelPath = Some_path;
            wb.SaveAsExcelPath,XlFileFormat.xlWorkbookNormal, null, null, false, false, XlSaveAsAccessMode.xlShared, false, false, null, null, null);
            wb.Close(true);
            excel.Quit(); 
```

现在，在循环之前，我需要将 Column-D 下的单元格格式更改为文本格式。如何从 c# 中的代码执行相同的操作？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T08:39:45.220

> 现在，在循环之前，我需要将 Column-D 下的单元格格式更改为文本格式。如何从 c# 中的代码执行相同的操作？

要更改整个列的格式，请使用此

```
// 4 is for Col D
sheet.Cells[1, 4].EntireColumn.NumberFormat = "@"; 
```

请记住在尝试写入之前格式化 Col D。使用`.EntireColumn`将确保您不必单独更改 Excel 单元格的格式:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T08:19:57.333

这不是您问题的答案，但我建议您使用 Open XML Api 而不是通过 Interop 使用 excel。在那里，您可以为添加到电子表格的任何单元格定义数据类型。

```
Cell c = new Cell();
c.DataType = CellValues.InlineString; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-04T08:30:17.923

您是否尝试过使用 NumberFormat？

```
sheet.Cells[i + 2, "D"].NumberFormat = "@";    
sheet.Cells[i + 2, "A"].Value2 = name;  
sheet.Cells[i + 2, "B"].Value2 = data1; 
sheet.Cells[i + 2, "C"].Value2 = data2; 
sheet.Cells[i + 2, "D"].Value2 = data3; 
```

建议将来查看更简单的库。互操作方法是完全有效的，但有时更难按您的意愿工作。

# python - 从某个点创建一个迭代器

> ID：15805795
> 
> 赞同：1
> 
> 时间：2013-04-04T08:10:58.483
> 
> 标签：python

例如我有一个清单

```
L = [1,33,55,777,'abc'....] 
```

我想从第二个元素的某个点迭代它，这就是我以前做的

```
for x in L[1:]:
    print(x) 
```

因此有效，但对原始列表的一部分进行了浅拷贝，或者我可以使用下标

```
for x in range(1,len(L)):
    print(l[x]) 
```

python中有没有办法以较低的成本创建迭代器？可能看起来像这样：

```
for x in iter(L,1): #iter from index 1 to the end
    print(L[x]) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-04T08:11:48.710

```
from itertools import islice
for x in islice(L, 1, None): # start=1, stop=None
    print(x) 
```

# linux - xvfb-run with melt 挂起

> ID：15805797
> 
> 赞同：1
> 
> 时间：2013-04-04T08:11:14.083
> 
> 标签：linux, ubuntu-12.04, xvfb, mlt

我们正在使用融化实用程序来展平视频。其中有一个名为 kdenlivetitle 的插件。这个插件在视频上强加了标题文本，但它需要 X 服务器。为此，我们正在使用 xvfb-run 但它有时会挂在两者之间。下面是“ps”的输出

```
root@ip-10-112-249-15:/home/ubuntu# ps -ef| grep melt
root      5632 32532  0 03:44 ?        00:00:00 sudo /usr/local/scripts/melt_title.sh 
```

/usr/local/tomcat/temp/231/composition.mlt EXP_temp.mp4 根 5633 5632 0 03:44 ？00:00:00 sh /usr/local/scripts/melt_title.sh /usr/local/tomcat/temp/231/composition.mlt EXP_temp.mp4

//melt_title.sh 有运行 belove 的命令

```
root      5634  5633  0 03:44 ?        00:00:00 /bin/sh /usr/bin/xvfb-run -a -e  /var/log/xvfb.log --server-args=-screen 0 1920x1080x24 melt    /usr/local/tomcat/temp/231/composition.mlt -consumer avformat:EXP_temp.mp4 acodec=aac ab=384k ar=48000 vcodec=libx264 g=10
root      5650  5634  0 03:44 ?        00:01:17 melt /usr/local/tomcat/temp/231/composition.mlt -consumer avformat:EXP_temp.mp4 acodec=aac ab=384k ar=48000 vcodec=libx264 g=10 
```

可能是因为这个命令同时运行吗？如果是，我可以一次将其限制为一个。

如果您需要任何其他日志或输出，请告诉我如何获取它。

先谢谢了。

# arrays - Cuda + OpenGL：如何显示数组的元素

> ID：15805801
> 
> 赞同：0
> 
> 时间：2013-04-04T08:11:26.007
> 
> 标签：arrays, opengl, cuda

假设一个数据数组

```
int data[256][256][256]; 
```

包含值 0 和 1。此数据将被复制到设备内存（展平）并由 cuda 内核处理，将某些值从 0 更改为 1，反之亦然。我怎样才能以这种方式显示数据

```
if data[x]][y][z]==1
{
//a point of size 1 will be displayed in (x,y,z) coords
} 
```

无需将该数组复制回主机内存。我想直接从设备（gpu）内存中完成。一个简单的例子会很有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T10:03:32.453

想到的第一种方法是首先使用简单的*流压缩*技术，从流中消除所有 0 值。由于您已经拥有概念上布尔格式的数据，因此这相当于这些值的*扫描/前缀总和*，以便之后每个数组元素存储其前面元素的数量。然后，您使用这些计算的偏移量将数组元素重新定位到新缓冲区（有效地连续存储所有 1 项），但不是仅复制（现在不相关的）偏移量，而是存储 3D 位置（可以从旧数组索引轻松计算） ）。

然后，您拥有的是缓冲区中 3D 点的简单列表，您可以使用 OpenGL 轻松绘制，无需任何复制到主机。如果您将最终的 1 点数（扫描的副产品）写入额外的缓冲区，您甚至可以使用*间接渲染*，甚至不需要从主机查询点数，因此只需绘制整个事情没有*任何*回读。

这些只是关于这可能如何工作的一些一般性想法，如果您不知道我在说什么，请随时在 Google 上搜索各个关键字。如果您不知道如何使用 OpenGL 绘制任何东西，则需要先熟悉 OpenGL 或 Direct3D，然后才能从 GPU 绘制任何东西（CUDA 不会为您做这件事）。

* * *

**编辑：**嗯，有一种方法可以在 CUDA 中绘制整个东西。如果它真的只是一堆点并且你不需要任何复杂的光栅化，你也可以像 OpenGL 那样简单地将这些点从 3D 转换为 2D（OpenGL 也不是魔法，只是一堆 CUDA 内核和一些小的之间的专用硬件位）。因此，每个数据项都有一个线程，如果该项是`1`，您只需使用通常的模型视图和均匀 4D 坐标上的投影转换来转换点的 3D 坐标（由线程 ID 给出）（但不要忘记执行透视分割和视口会自行转换，因为现在没有固定功能的硬件可以为您做到这一点）。并使用这个最终的 2D 坐标来设置输出图像中的单个像素。

当然，这不会让您从 OpenGL 的其他复杂事物中获利（至少不是那么容易或直接），例如光栅化以及您可以考虑的其他效果。但它避免了流压缩步骤，您至少可以在已经存在的 OpenGL 渲染图像（包含可视化场景的其余部分，如坐标系或文本或其他）之上渲染这些点，甚至可以使用您自己的深度测试实施。

* * *

**编辑：**避免流压缩的另一种方法是直接使用 OpenGL 绘制`0`s 和`1`s 的整个缓冲区，使用几何着色器进行坐标计算和`0`-removal。所以你要做的是绘制所有点，使用整个整数数组来提供单个`int`属性并将其放入以下着色器。首先是一个简单的直通顶点着色器：

```
layout(location=0) in int flag;    //single integer attribute
out int vFlag;                     //just passed through

void main()
{
    vFlag = flag;        //GS does the real work
} 
```

几何着色器决定该点是否有效（值为`1`），如果是则为它发出一个实际的点（如果不是什么都不做，即没有渲染点），从图元 ID 计算其 3D 坐标，这实际上是数组索引，因为我们只是在绘制点：

```
layout(points) in;
layout(points,max_vertices=1) out;

uniform mat4 modelViewProj;

in int vFlag[];

void main()
{
    if(vFlag[0] == 1)
    {
        vec3 position = simpleIndexMagic(gl_PrimitiveID);
        gl_Position = modelViewProj * vec4(position, 1.0);
        EmitVertex();
    }
} 
```

片段着色器就是一个普通的着色器。当然，这些着色器可以按照您认为合适的方式进行定制。但是一般的方法很清楚，直接绘制整数值，将数组索引转换为仅用于`1`几何着色器中的值的点。但是需要评估这在多大程度上比以前的流压缩有改进。

# php - PHP Native DOMDocument 和 Simple DOM Parser - 有大小限制吗？

> ID：15805805
> 
> 赞同：3
> 
> 时间：2013-04-04T08:11:55.977
> 
> 标签：php, domdocument

我需要解析 HTML 文档（由 Microsoft Word 生成）的内容。遍历 DOM 以获取我需要的信息/内容，然后将所需的内容输出为 CSV。我知道几乎没有脑外科手术。

现在因为 PHP 不是我的菜，而且我的日程很紧，我打算使用 http://simplehtmldom.sourceforge.net/ 中的PHP [Simple](http://simplehtmldom.sourceforge.net/) **HTML DOM Parser**

我注意到我的脚本不起作用。经过反复试验，我意识到这是由于 Word 生成的 HTML 文件的文件大小（它们是 3MB 并且有多达 30,000 行 HTML！）。**我假设使用PHP Simple HTML DOM Parser**和本机 PHP DOMDocument API可以解析的内容存在文件大小限制？如果是这种情况，有人知道这个限制是什么吗？我现在已经用谷歌搜索了 40 分钟，但没有成功。

也许我应该只使用 Node.js？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-04T09:09:55.330

PHP “Native” [`DOMDocument`^(*Docs*)](http://php.net/DOMDocument)及其小姐妹[`SimpleXMLElement`^(*Docs*)](http://php.net/SimpleXMLElement)没有硬编码大小限制，但它们受到您允许 PHP 使用的内存的限制（请参阅[PHP memory limit ^(*Docs*)](http://www.php.net/memory-limit)）。

此外，您不能假设加载 100 MB XML 或 HTML 文件会消耗相同大小的内存。它通常比文件大小少得多（例如五分之一或十分之一甚至，取决于XML，所以你不能在这里只说因子X，如果你想获得精确的，你需要衡量你自己的信息）。

您在问题中提供的文件大小 - 3 MB - 我会说相当小。对于 Internet 中的 HTML 文件来说可能并不小，但对于基于[libxml](http://www.xmlsoft.org/)的 PHP 扩展来说可能并不小。[`memory_get_usage()`^(*您可以在使用Docs*)](http://php.net/memory_get_usage)加载该文件时了解 PHP 中的内存使用情况。

如果您有非常大的 XML 文件——通常是 X(HT)ML——比如说 1.5 *GB——*用 DOMDocument 进行解析将需要很长时间。然后使用[`XMLReader`^(*文档*)](http://php.net/XMLReader)将允许您解析文档而不将其加载到内存中（完全）。但这不是灵丹妙药，因为您仍然拥有解析时间，但您可以更好地控制要解析的内容以及要跳过的部分，因此您有更多空间来控制 PHP 用户空间中的优化。

* * *

PHP 库[*PHP Simple HTML DOM Parser* ^(*Docs*)](http://simplehtmldom.sourceforge.net/)也没有施加特定的大小限制。然而，它不是 PHP 的二进制扩展，而是在 PHP 用户空间中。因此，您需要更好地了解该库的确切作用（参见[`simple_html_dom.php`HEAD 修订版](http://sourceforge.net/p/simplehtmldom/code/HEAD/tree/trunk/simple_html_dom.php)）。如果您查看代码，您会发现它是一个纯粹用 PHP 编写的解析器。这是因为它最初是为 PHP 4 编写的，而`DOMDocument`with`DOMDocument::loadHTML`尚不存在。

可以想象，PHP 扩展比用 PHP 代码编写的 PHP 库可以更好地管理内存。特别是当涉及到 HTML 文档对象模型的树结构时（这句话本身并不正确，但是开发这种优化的内存需要大量工作和良好的设计，这并不总是易于创建或维护）。

但是：由于多年以来*，不再需要使用该库*。许多 PHP 用户不知道这一点，他们使用曾经流行的库发现过时的代码示例。库*PHP Simple HTML DOM Parser*甚至仍然不时在 Stackoverflow 上得到建议。

所以我能给出的最好建议是：除非你不需要编写兼容 PHP 4 的代码，否则不要使用那个库，也不要关心它的限制。而是将您的代码移植到[`DOMDocument::loadHTML()`^(*Docs*)](http://php.net/DOMDocument.loadHTML)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-01T10:29:37.990

PHP Simple HTML DOM Parser 有 600KB 的限制。

```
define('MAX_FILE_SIZE', 600000); 
```

当然，您可以编辑您的库副本并更改此常量。

# ios - 如何在运行时找到 CIFIlter 类别？

> ID：15805806
> 
> 赞同：0
> 
> 时间：2013-04-04T08:11:56.147
> 
> 标签：ios, core-graphics

我正在使用它`[CIFilter filterNamesInCategories:nil]`来获取可用过滤器的列表，但是如何获取类别列表？我当然可以枚举过滤器列表，并阅读每个过滤器中的类别来构建一个集合，但是有更好的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:54:56.470

这是我的做法：

```
NSMutableSet  * categories = [NSMutableSet set];
for (NSString* filterName in [CIFilter filterNamesInCategories:nil])
{
    for (id value in  [[[CIFilter filterWithName:filterName] attributes] 
    valueForKey:@"CIAttributeFilterCategories"]) {
        [categories addObject:value];
    }
}
NSLog(@"%@", categories); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-10-22T20:19:47.883

Swift 4.2 版本在这里。

```
 import CoreImage

  var results = NSMutableSet()
  let categories = CIFilter.filterNames(inCategory: nil)

  for category in categories {
      let attributes = CIFilter(name: category)?.attributes
      let filterCategories = attributes!["CIAttributeFilterCategories"]
      results.addObjects(from: filterCategories as! [Any])
  }

  print(results) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T08:15:34.293

这是[来自文档：](http://developer.apple.com/library/ios/Documentation/GraphicsImaging/Reference/QuartzCoreFramework/Classes/CIFilter_Class/Reference/Reference.html#//apple_ref/doc/constant_group/Filter_Category_Keys)

> 过滤类别键
> 
> 过滤器类别。

```
extern NSString *kCICategoryDistortionEffect;
extern NSString *kCICategoryGeometryAdjustment;
extern NSString *kCICategoryCompositeOperation;
extern NSString *kCICategoryHalftoneEffect;
extern NSString *kCICategoryColorAdjustment;
extern NSString *kCICategoryColorEffect;
extern NSString *kCICategoryTransition;
extern NSString *kCICategoryTileEffect;
extern NSString *kCICategoryGenerator;
extern NSString *kCICategoryReduction;
extern NSString *kCICategoryGradient;
extern NSString *kCICategoryStylize;
extern NSString *kCICategorySharpen;
extern NSString *kCICategoryBlur;
extern NSString *kCICategoryVideo;
extern NSString *kCICategoryStillImage;
extern NSString *kCICategoryInterlaced;
extern NSString *kCICategoryNonSquarePixels;
extern NSString *kCICategoryHighDynamicRange ;
extern NSString *kCICategoryBuiltIn; 
```

至于在运行时获取它们，除了枚举它们之外，我没有看到任何其他选项。 [这是答案](https://stackoverflow.com/a/9040548/312312)

# ruby-on-rails - Stylesheet_link_tag :all 与 :media =>all

> ID：15805810
> 
> 赞同：12
> 
> 时间：2013-04-04T08:12:18.237
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, scaffolding, stylesheet-link-tag

我从脚手架创建了一个新的 Rails 应用程序，但教程声称将出现以下内容：

```
<%= stylesheet_link_tag    "application", :media => "all" %> 
```

当我得到：

```
<%= stylesheet_link_tag    :all %> 
```

它们之间有什么区别？我应该使用哪个？为什么？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-04-04T08:17:24.443

使用

```
<%= stylesheet_link_tag    "application", :media => "all" %> 
```

将包含名为**application.css**的样式表，您可以拥有**application.css.sass**或**application.css.scss**之类的文件或任何其他扩展名，rails 将使用正确的样式表引擎编译 css 文件并提供 application.css 文件。

属性**“media=all”**实际上是一个css属性，这意味着所有的媒体都会包含css，比如浏览网站时，打印屏幕时等。您可以在此处找到有关媒体属性的更多[信息关联。](http://www.w3.org/TR/CSS2/media.html)

通过使用

```
<%= stylesheet_link_tag    :all %> 
```

您将包含您在**app/assets/stylesheets**目录中的所有样式表。

[您可以在此链接](http://apidock.com/rails/ActionView/Helpers/AssetTagHelper/stylesheet_link_tag)上找到更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:18:17.817

请查看[api 文档](http://apidock.com/rails/ActionView/Helpers/AssetTagHelper/stylesheet_link_tag)。在这里你有一些引用：

```
stylesheet_link_tag :all # =>
  <link href="/stylesheets/style1.css"  media="screen" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/styleB.css"  media="screen" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/styleX2.css" media="screen" rel="stylesheet" type="text/css" />

stylesheet_link_tag "style", :media => "all" # =>
  <link href="/stylesheets/style.css" media="all" rel="stylesheet" type="text/css" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T08:16:08.143

第二个不是关于媒体类型的，它的意思是在非资产管道项目中包含样式表目录中的所有 .css。

```
stylesheet_link_tag :all # =>
<link href="/stylesheets/style1.css"  media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/styleB.css"  media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/styleX2.css" media="screen" rel="stylesheet" type="text/css" /> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T08:18:44.840

stylesheet_link_tag 还接受生成的媒体属性的参数

```
 < %= stylesheet_link_tag :media => "all" %> 
```

将产生：

```
<link href="/stylesheets/killer.css" media="all" rel="stylesheet" type="text/css" /> 
```

相反，如果您想在样式表目录中包含所有样式表，只需调用：

```
< %= stylesheet_link_tag :all %> 
```

来自 Rails 维基：

> 请注意，stylesheet_link_tag 默认会在应用程序的 /public/stylesheets 目录中搜索样式表。此外，当没有其他参数传递给 stylesheet_link_tag 时，type 属性设置为 text/css，media 设置为 screen，relationship 设置为 stylesheet。此外，在传递文件名参数时，您不必在文件名中包含 .css 扩展名。欢迎您包含它，但只要您的 CSS 样式表以 .css 扩展名命名，就没有必要这样做。请注意，如果您包含文件扩展名，Rails 将不再为此调用查找扩展名为 .css 的文件。例如，如果您想包含一个名为 my_style.new.css 的样式表，以下内容是不够的：

# c# - 使用 Moq 模拟返回 void 的更新方法

> ID：15805812
> 
> 赞同：73
> 
> 时间：2013-04-04T08:12:22.320
> 
> 标签：c#, .net, mocking, moq

在我的测试中，我将数据定义为`List<IUser>`带有一些记录的数据。

我想设置一个最小起订量的方法`Update`，这个方法接收用户`id`和`string`更新。

然后我得到`IUser`并更新属性`LastName`

我试过这个：

```
namespace Tests.UnitTests
{
    [TestClass]
    public class UsersTest
    {
        public IUsers MockUsersRepo;
        readonly Mock<IUsers> _mockUserRepo = new Mock<IUsers>();
        private List<IUser> _users = new List<IUser>();

        [TestInitialize()]
        public void MyTestInitialize()
        {
            _users = new List<IUser>
                {
                    new User { Id = 1, Firsname = "A", Lastname = "AA", IsValid = true },
                    new User { Id = 1, Firsname = "B", Lastname = "BB", IsValid = true }
                };

            Mock<IAction> mockUserRepository = new Mock<IAction>();
            _mockUserRepo.Setup(mr => mr.Update(It.IsAny<int>(), It.IsAny<string>()))
                .Returns(???);

            MockUsersRepo = _mockUserRepo.Object;
        }

        [TestMethod]
        public void Update()
        {
            //Use the mock here
        }

    }
} 
```

但我收到此错误：*无法解析 Returns symbole*

你有身份证吗？

```
class User : IUser
{
    public int Id { get; set; }
    public string Firsname { get; set; }
    public string Lastname { get; set; }
    public bool IsValid { get; set; }
}

interface IUser
{
    int Id { get; set; }
    string Firsname { get; set; }
    string Lastname { get; set; }
    bool IsValid { get; set; }
}

interface IAction
{
    List<IUser> GetList(bool isActive);
    void Update(int id, string lastname)
}

class Action : IAction
{
    public IUser GetById(int id)
    {
        //....
    }
    public void Update(int id, string lastname)
    {
        var userToUpdate = GetById(id);
        userToUpdate.LastName = lastname;
        //....
    }
} 
```

* * *

## 回答 #1

> 赞同：116
> 
> 时间：2013-04-04T08:29:20.213

如果你只是想验证这个方法是否被调用，你应该使用 Verifiable() 方法。

```
_mockUserRepository.Setup(mr => mr.Update(It.IsAny<int>(), It.IsAny<string>()))
                   .Verifiable(); 
```

如果您还想对这些参数执行某些操作，请先使用 Callback()。

```
_mockUserRepository.Setup(mr => mr.Update(It.IsAny<int>(), It.IsAny<string>()))
                   .Callback((int id, string lastName) => {
                       //do something
                       }).Verifiable(); 
```

**更新**

如果您返回一个 bool 值作为结果，这就是您应该如何模拟它。

```
_mockUserRepository.Setup(mr => mr.Update(It.IsAny<int>(), It.IsAny<string>()))
                   .Returns(true); 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-04-04T08:52:28.790

```
Mock<IUsers> _mockUserRepository = new Mock<IUsers>();
        _mockUserRepository.Setup(mr => mr.Update(It.IsAny<int>(), It.IsAny<string>()))
                            .Callback((int id, string name) =>
                                {
                                    //Your callback method here
                                });
 //check to see how many times the method was called
 _mockUserRepository.Verify(mr => mr.Update(It.IsAny<int>(), It.IsAny<string>()), Times.Once()); 
```

# javascript - 使用 window.onunload 调用时，AJAX 调用在 IE8 及更低版本中中止

> ID：15805816
> 
> 赞同：0
> 
> 时间：2013-04-04T08:12:34.977
> 
> 标签：javascript, jquery, ajax

我有一个 jQuery AJAX 调用，它每 5 分钟进行一次，当用户离开页面时（使用不同的参数）。

```
/* Remove locks when leaving page - AJAX 'aborted' by IE8 and below */
    window.onunload = function () {
        manageLocks(2)
    }

    /* Refresh locks every 5 minutes - AJAX works fine in all browsers */
    window.setInterval(function () {manageLocks(1);}, 30000);

    function manageLocks(mode) {
        $.ajax({
            type: "POST",
            url: "/System/ManageLocks",
            data: '{ "action" : ' + mode + '}',
            contentType: "application/json",
            dataType: "json",
            cache: false
        });
    } 
```

我认为这不是 AJAX 调用的问题，而是如何调用该函数。在使用 using 调用时，它在所有浏览器中都可以正常工作，`window.setInterval`但在使用 using 调用时，在 IE8 及以下的网络面板中显示为“已中止” `window.onunload`。

是否有人知道旧的 IE 版本在以这种方式调用时会阻止某些功能，或者对 的支持不稳定`onunload`？有没有另一种方法可以让它在旧的 IE 版本中工作？

只要我可以`managelocks`每 5 分钟调用一次函数，并且当用户离开页面时（我知道事实上，关闭浏览器时不会调用该函数 - 我可以忍受）我'我不太挑剔它是如何发生的。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:23:03.977

尝试将 ajax 调用的异步参数设置为 false，以便它执行调用然后卸载页面。此刻它正试图在页面被卸载的同时执行 ajax 调用，并且似乎页面在调用完成之前被卸载，因此它取消了 ajax 调用，因此通过将 async 设置为 false 将允许 ajax 调用完成在页面被卸载之前

# c# - 在 asp.net 中打印 Excel 文件

> ID：15805818
> 
> 赞同：0
> 
> 时间：2013-04-04T08:12:43.133
> 
> 标签：c#, asp.net, excel, printing

我创建了一个 CrystalReport 并将其导出到服务器机器中的 Excel。现在只有在后台我需要打印文件。是否可以在不打开文件的情况下直接将内容打印到客户端打印机

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:15:06.300

那将是困难的。除非客户端打印机位于同一网络中并且您知道哪个客户端连接到哪个打印机。例如，这可以在 Intranet 中完成。

# jsf - JSF 中 PrimeFaces 的 oncomplete 属性

> ID：15805825
> 
> 赞同：4
> 
> 时间：2013-04-04T08:13:12.200
> 
> 标签：jsf, jsf-2

我没有`oncomplete`在标准 JSF 中的 PrimeFaces 中的某些标签中找到可用的属性`<h:commandButton>`。

使用时如何获得类似 oncomplete 的功能`<h:commandButton>`？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-04T08:26:33.880

由于 primefaces`oncomplete`相当于普通的 JSF`success`事件（有关更多详细信息，请查看[此答案评论](https://stackoverflow.com/a/17314549/617373)，您应该`success`按以下方式使用该事件：

在线解决方案

```
<h:commandButton id="someId" action="#{myBean.myAction}">
    <f:ajax onevent="function(data) { if (data.status === 'success') { alert('complete'); }"
        render="whatevet"></f:ajax>
</h:commandButton> 
```

另一个更清洁的解决方案是使用 js 函数

```
<h:commandButton id="someId" action="#{myBean.myAction}">
    <f:ajax onevent="myJsFunction"
        render="whatevet"></f:ajax>
</h:commandButton> 
```

在你的 js 文件中添加

```
function myJsFunction(data) {
    if (data.status === 'success') {
         alert('complete');
    }
} 
```

* * *

如果您正在寻找一种方法来检测非 ajax 提交的完成，您可以从此处采用以下想法[Detecting the File Download Dialog In the Browser](http://gruffcode.com/2010/10/28/detecting-the-file-download-dialog-in-the-browser)

* * *

最简单的解决方案是使用

```
$(document).ready(function () {
// check if some condition is meet and do something...
}); 
```

# jquery - 位置：相对环绕和元素高度？

> ID：15805828
> 
> 赞同：0
> 
> 时间：2013-04-04T08:13:25.967
> 
> 标签：jquery, html, css

我有一个简单的 TextArea 和一个按钮

![在此处输入图像描述](https://i.stack.imgur.com/rAUZo.jpg)

单击按钮时，我需要`wrap`（确切地）带有红色 div ( `border:solid 1px red`)的文本区域

*ps 这个包装器 div 一定是`position:relative`因为我需要添加未来的绝对定位元素*

所以我写了这段代码：

```
$(".btn").on('click',function (){

 $(".myTextArea").wrap($('<span/>', {
                    "class": 'msgAbsWrap',
                    "style": "position:relative;display:inline" /*it's inline by default ,I know*/

                }));
}); 
```

但问题是它没有按应有的方式包装它：

![在此处输入图像描述](https://i.stack.imgur.com/zaOcc.jpg)

*   为什么会这样？
*   如何使红色 div 包装（完全） textarea ？

~~[**JSBIN**](http://jsbin.com/izopaz/2/edit)~~

ps 我使用的是 chrome v 26。

# 编辑

（**我的错**）我忘了从 textArea 中删除宽度（经过 1000 次测试）。它应该是`width:100%`。你现在可以试试吗？

[**JSBIN 新**](http://jsbin.com/izopaz/10/edit)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:16:18.797

将 span 的显示样式更改为`display: inline-block;`

```
$(".myTextArea").wrap($('<span/>', {
    "class": 'msgAbsWrap',
    "style": "position:relative; display:inline-block; width: 100%;"
})); 
```

演示：[JSBIN](http://jsbin.com/izopaz/15/edit)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:21:43.780

您可以执行以下更改以使其生效：

## CSS：

```
.msgAbsWrap {
   border:solid 1px red;
   display:inline-block;
   width:100%;
   position:relative;
} 
```

## jQuery：

```
$(".btn").on('click', function () {
  $(".myTextArea").wrap($('<span/>', {
        "class": 'msgAbsWrap'
  }));
}); 
```

### [签出更新的小提琴](http://jsfiddle.net/3r5eY/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T08:18:48.070

将其更改为：

```
$(".btn").on('click',function (){
    $(".myTextArea").attr('class', 'msgAbsWrap');
}); 
```

jsbin：http: [//jsbin.com/izopaz/12/](http://jsbin.com/izopaz/12/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T08:21:12.860

像这样做：

```
$(".btn").on('click',function (){

 $(".myTextArea").wrap($('<div></div>', {
    "class": 'msgAbsWrap',
    "style": "position:relative;"
 }));

}); 
```

检查这个例子：[jsbin](http://jsbin.com/izopaz/13/edit)

# php - 在 php mustache 中使用带有键的复杂数组

> ID：15805829
> 
> 赞同：0
> 
> 时间：2013-04-04T08:13:31.030
> 
> 标签：php, arrayiterator, mustache.php

我有以下数组结构`arr`

```
Array
(
    [1] => Array
        (
            [width] => 600 
            [pages] => Array
                (
                    [0] => Array
                        (
                            [bgColor] => 'red' 
                        )

                ) 
        )

    [3] => Array
        (
            [width] => 400 
            [pages] => Array
                (
                    [0] => Array
                        (
                            [bgColor] => 'blue' 
                        )

                ) 
        )

) 
```

目前我正在传递数据，

```
$tpl->render(array( 
   'arr'   => new ArrayIterator($arr)                       
)); 
```

在小胡子模板中，我正在使用它，

```
{{#arr}}  
  {{width}}
{{/arr}} 
```

它给了我`width`正确的。但现在我想要`keys`那个数组（`1`第一个和`3`第二个）以及`pages`键中元素的总数。

我该怎么做这个小胡子？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:03:55.347

好的，我知道 mustache 无法跟踪`index`数组，它需要`hash`.

所以，我正在使用以下技术，它有效但有点难看。

```
function prepareForMustache ($arr) {
    foreach($arr as $k => &$v) {
        $v['key']  = $k;
        $v['pagesCount'] = count($v['pages']);
    } 
}

$arr = prepareForMustache($arr);

$tpl->render(array( 
   'arr'   => new ArrayIterator($arr)                       
)); 
```

并在胡子模板中消耗为，

```
{{#arr}}  
  {{width}}
  {{key}}
  {{pagesCount}}
{{/arr}} 
```

# android - 从android中的arraylist获取值

> ID：15805831
> 
> 赞同：0
> 
> 时间：2013-04-04T08:13:32.167
> 
> 标签：android

我正在研究android项目。我有一个基于所选数据动态存储数据的数组。我还有另一个默认包含数据的数组。我的要求是我将举例说明

array1 数据 - [1,3,5] array2 数据 - [100,200,300,400,500,600,700,800]

我需要根据第一个数组数据获取第二个数组的数据。即第一个array1[0]包含1，所以我需要获取array2[1]的值类似array1[1]包含3，所以我需要获取array2[3]的值类似array1[2]包含5，所以我需要获取array2[5] 值。

如何完成这个任务？请帮助解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:20:56.570

嘿，你必须尝试这种方式。

```
int [] arr1={0,1,2};
int [] arr2={10,20,30};

      if(arr1.length==arr2.length){
            for(int i=0;i<arr1.length;i++){
                int val=arr2[arr1[i]];
            }
     } 
```

可能这是有帮助的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:21:57.020

不确定您要查找的内容，但如果您想将数据放在某个输出列表中，请尝试以下操作：

```
final List<Integer> output = new ArrayList<Integer>();
for (final int x : arrayOfInts1) {
       output.add(arrayOfInts2[x]);
} 
```

`arrayOfInts1`包含要获取的索引`from arrayofInts2`。此代码将`arrayOfInts2`根据位置从中提取 的内容`arrayOfInts1`。

# javascript - 没有使用 XMLHttpRequest 获取确切路径

> ID：15805838
> 
> 赞同：0
> 
> 时间：2013-04-04T08:13:53.967
> 
> 标签：javascript, jquery

```
xhttp = new XMLHttpRequest();

doc_name="../Scripts/ResourceFiles/String_Client." + cookieCulture + ".json"
xhttp.open("GET", doc_name, false); 
```

现在得到的路径是

```
http://www.example.com:4568/Inventory/Scripts/ResourceFiles/String_Client." + cookieCulture + ".json" 
```

但实际上我需要将路径作为`http://www.example.com:4568/Scripts/ResourceFiles/String_Client." + cookieCulture + ".json"`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:18:39.563

不知道我是否完全正确地尝试在那里做的事情，但只需在 URL 的开头使用“/”就应该始终做到指向根目录的技巧：

```
doc_name="/Scripts/ResourceFiles/String_Client." + cookieCulture + ".json" 
```

# android - android中微调器的问题

> ID：15805840
> 
> 赞同：1
> 
> 时间：2013-04-04T08:13:57.547
> 
> 标签：android, android-spinner

我们正在制作语音引导包，在单位转换器中实施语音引导时遇到了问题。

我们希望用户告诉系统他想要进行什么类型的转换。为此，我们为用户提供了一组可以从以下代码段中获得的选项：

```
 SpinnerUnit.performClick() 
```

此代码段显示了各种选项，例如：

1.  温度
2.  重量
3.  压力
4.  ETC...

但是，一旦用户使用他的声音输入命令，相应的选项就会被选中，但从 获得的微调器视图`Spinner.performClick()`仍然对用户可见。

我们可以做些什么来把这个观点带到背景中去？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:23:10.740

`Spinner`不提供`dismiss`可以帮助您消除弹出窗口的方法。但是，作为替代方案，我建议您使用`Dialog`并在内部显示您的选项。一旦选择了选项，您可以简单地调用它的`dismiss`方法来完成窗口。

# c - 可以传递在运行时输入的参数吗？

> ID：15805843
> 
> 赞同：1
> 
> 时间：2013-04-04T08:14:03.797
> 
> 标签：c, variadic-functions

在 C 中，我们可以使用可变参数函数，例如：

```
void abc(int x, .. )
{
} 
```

我们可以使用可变数量的参数来调用它们，例如：

`abc(1,2,3) or abc(1,2,3,4,5)`

但是，在上述两个函数调用中，我们都`abc`使用我们已知的参数调用了可变参数函数；第一种情况是“1, 2, 3”，第二种情况是“1, 2, 3, 4, 5”。

我的问题是：

有没有办法在运行时调用用户输入的可变数量参数的可变参数函数？

例如，在 中`main()`，我要求用户输入一定数量的输入，然后使用参数 p1、p2、p3 等将这些输入传递给可变参数函数......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:02:01.177

实际上和理论上不建议发明这样的东西，尽管解决方法很有可能......使用一些好的数据结构，比如`linked list`存储任意数量的元素并在调用函数中传递头指针。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:18:23.193

例如，您可以使用数组：

```
void abc(int size, int *arr) { } 
```

在主要

```
int size;
int A[MAX];

size = 3;
A[0] = 1; A[1] = 2; A[2]=3;
abc(size,A); 
```

**例子**

```
int size=0;
int A[MAX]; 
while(size<MAX && scanf(" %d",&A[size])!=EOF) {
   size++;
}

 if(size>0) abc(size, A); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T08:17:11.753

不，这是不可能的。
编译器需要在编译期间生成适当的代码并为标识符保留空间。您将尝试更改静态二进制文件，这是不可能的。这实际上就是`va_args`存在的原因，能够传递未知数量的参数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T08:18:25.723

看起来您应该将指针传递给数组。

```
void yourfunction(int *array, size_t len) {
    //Do what you want in your function
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T08:31:15.877

你不能轻易做到这一点。变量参数函数是根据一定的调用约定编译的。因此，任何动态模仿调用约定的尝试都是不可移植的。

如果您确实需要这样做，一种解决方案是使用 libffi。对调用可变参数函数有一些支持。

否则，我同意其他使用具有大小作为参数的数组的解决方案。

# jquery - 警报“中断” jquery 动画

> ID：15805845
> 
> 赞同：1
> 
> 时间：2013-04-04T08:14:15.017
> 
> 标签：jquery, animation, alert, freeze

如果我正在运行一些 jQuery 动画并调用警报，动画将冻结并在我关闭警报时继续。

发生某些警报时，是否可以在后台继续播放动画？

我正在寻找并且仅针对此解决方案，例如，我不想在动画之后调用警报，而是在 - 并且没有中断的情况下调用警报。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T08:16:15.890

`alert()`停止 JavaScript 处理的单线程，所以不，您不能在警告框打开时运行动画。

您将需要使用其他某种类似警报的机制，例如在没有`alert()`. 搜索[jquery alert](https://www.google.com/search?q=jquery+alert)将发现许多警报替换。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T08:25:51.727

[window.alert()](https://developer.mozilla.org/en-US/docs/DOM/window.alert)方法停止在浏览器中执行 JavaScript。

正如 JoDev 提到的，您可以使用 jQuery.dialog() 作为替代方案。

它看起来更好，它可以拖动和调整大小，而且它不会停止你的脚本。

它看起来像这样：

```
 $('#someDiv').dialog(); 
```

前几天我碰巧对此做了一个小提琴：

*   [http://jsfiddle.net/ZAeLJ/2/](http://jsfiddle.net/ZAeLJ/2/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T08:17:38.853

您可以使用[jQuery 对话框](http://jqueryui.com/dialog/)之类的框来执行此操作...

你不能用`alert()`box来做，但是所有的DOM对话框都会让你继续处理。

# grails - 将文本框的值作为表单 ID 传递

> ID：15805846
> 
> 赞同：0
> 
> 时间：2013-04-04T08:14:20.733
> 
> 标签：grails, grails-controller, grails-2.4, grails-2.5

尝试将用户在文本框中输入的值作为表单的 ID 传递。下面的代码片段。这总是在我的控制器中传递 params.id = "index" 。如果我对表单 id="someText" 进行硬编码，它会将 params.id = "someText" 传递给控制器​​。由于某些限制，我必须使用按钮元素而不是 g:actionsubmit。

```
<g:form controller="search" action="index" id=${searchText} method="post">
    <div>
        <g:textField name="searchText"></g:textField>       
         <button type="submit" class="btn">
            <i class="icon-search"></i>
         </button>
    </div>
</g:form> 
```

有什么解决办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T12:24:55.060

```
<g:form controller="search" action="index" method="post">
    <div>
        <g:textField name="id"></g:textField>       
        <button type="submit" class="btn">
            <i class="icon-search"></i>
        </button>
    </div>
</g:form> 
```

# jquery - 简单的ajax点击锚不起作用

> ID：15805853
> 
> 赞同：0
> 
> 时间：2013-04-04T08:14:41.210
> 
> 标签：jquery, ajax

这是我的脚本

```
 <script>
$(document).ready(function(){
$("a.exe").click(function()
    {

   e.preventDefault();

     $.ajax({
            type: "GET",
            url: this.href,
            cache:false,
            success: function(data){
                      $("#result2").append(data);
            }
     });
     return false;
}); 
});
</script> 
```

我的回声声明

```
 echo "<tr><td style='border:1px; width: 200px;height:30px;'>
  <a   href='http://exe.net/free/action1.php?id1=".$id1."' 
                                         class='exe' >".$name1."</a></td></tr>"; 
```

没有ajax请求......没有价值传递......它直接进入url......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:17:54.553

您忘记在事件函数参数`event`内部传递。`click`

**例子**

```
$('a.exe').click(function(event){ event.preventDefault(); }) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:16:14.483

传递`e`给您的`click`函数：

```
$("a.exe").click(function(e) {

    e.preventDefault(); 
```

# c# - 检测日语字符输入和“罗马字”（ASCII）

> ID：15805859
> 
> 赞同：4
> 
> 时间：2013-04-04T08:15:05.007
> 
> 标签：c#, unicode, char, ascii, non-ascii-characters

我希望能够检测到用户何时：

1.  输入日文字符（汉字或假名）
2.  输入罗马字符（专有）

目前我正在使用这样的 ASCII 范围（C# 语法）：

```
string searchKeyWord = Console.ReadLine();
var romajis = from c in searchKeyWord where c >= ' ' && c <= '~' select c;

if (romajis.Any())
{
    // Romajis
}
else
{
    // Japanese input
} 
```

有没有更好、更快（更强...）的方法来做到这一点？

编辑：这个问题可以推广到任何其他具有非 ascii 字符集的语言。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T09:10:30.253

维基百科很好，右上角有平假名、片假名和汉字的 unicode 范围。我们可以利用它来优化您的算法并获得其他字符集。

```
private static IEnumerable<char> GetCharsInRange(string text, int min, int max)
{
    return text.Where(e => e >= min && e <= max);
} 
```

用法：

```
var romaji = GetCharsInRange(searchKeyword, 0x0020, 0x007E);
var hiragana = GetCharsInRange(searchKeyword, 0x3040, 0x309F);
var katakana = GetCharsInRange(searchKeyword, 0x30A0, 0x30FF);
var kanji = GetCharsInRange(searchKeyword, 0x4E00, 0x9FBF); 
```

请注意，这应该和您的一样快，只是更好/更好 imo :)

## 确定通用语言集

是的，您可以检测到这样的字符集，但不是真正的语言。由于法语、德语等与英语共享很多字符，而日语与中文共享很多汉字（显然）。如果没有巨大的查找图表，您无法清楚地说单个字符来自单一语言的大量字符。

还有一个事实是日本人使用英语（和标点符号）相当多，你的方法会认为任何包含罗马字或表情符号的东西都是罗马字。

# c# - 对 WCF Http 服务的重复请求

> ID：15805863
> 
> 赞同：1
> 
> 时间：2013-04-04T08:15:14.153
> 
> 标签：c#, .net, wcf, http

我们有一个桌面应用程序，它通过多个 WCF 端点与服务器通信。我们偶尔会在某些端点收到重复请求。我们花了很多时间研究为什么客户端代码可能会发送重复的请求，我们认为这已经很好地锁定了。但是，我们继续收到重复的请求。

除了客户端显式发送两个请求之外，我们收到重复的 http 请求是否还有其他原因？我已经让一些 http 客户端在收到 500 结果代码后自动重试，但我认为 .NET http 客户端不会出现这种情况。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T14:32:52.523

除了与 msmq 的绑定外，wcf 堆栈中没有内置重试逻辑。因此，我必须得出结论，您的客户正在发送重复请求。

# ios - 适用于 iOS 的 Linphone

> ID：15805867
> 
> 赞同：4
> 
> 时间：2013-04-04T08:15:28.880
> 
> 标签：ios, compilation, linphone

我需要为 iOS 构建 linphone（以及之后的 android 和 windows，但这是后来的问题）。由于没有人能够回答[我之前的问题](https://stackoverflow.com/questions/15763472/linphone-compiling-problems-on-osx)或[类似的](https://stackoverflow.com/questions/15739270/integrate-linphone-into-ios)问题，有人至少可以为我指出一个关于这个主题的好资源吗？我觉得我已经尝试了所有方法，但项目仍然无法编译（很多文件丢失，包含路径错误，找不到库等等......）。据我所知，Linphone 没有论坛，我在互联网上找到的任何主题都没有答案。SO 总共有 14 个关于 linphone 的问题，不包括这一个，其中 3 个得到了回答。

我想要的是为 iOS 编译 linphone，我需要的是一个很好的指导如何设置一切。这是我尝试过的：
-README.macos 中的每一步（结果是错误的项目，我需要 iphone 的）
-linphone-iphone/README 中的每一步（我现在有一个 xcode 项目）
-打开 xcode项目并尝试编译（大量丢失的文件）
- 尝试修复源中的包含路径并手动添加丢失的库（进入引用不存在文件的文件）

我也试过[这个指南](http://lists.gnu.org/archive/html/linphone-developers/2011-08/msg00024.html)和[这个](http://shallwelearn.com/blog/?p=6)。两者都与自述文件中描述的内容几乎相同，只是有一些细微差别，所以我还是尝试了它们。

我缺少各种 .a 文件（我有一个大多数项目文件夹，但编译它们不会导致安装 lib）。我也错过了一些 .h 文件，甚至一些应该与我拥有的文件在同一个文件夹中的文件。我错过了一个 .png 文件（linphone-banner.png），我已经下载并放入了正确的文件夹。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-23T09:00:44.060

我现在已经按照[本指南](http://shallwelearn.com/blog/build-linphone-for-iphone-and-ipad/)进行操作，拥有所有人读/写的所有权限，并且它有效。显然我有权限问题，以这种方式得到了解决。此外，您应该获得最新的 git 版本，因为之前的版本中有一个错误导致应用程序在视频通话中崩溃。因此，要使其正常工作，请按照指南进行操作，并确保您对整个“linphone-iphone”文件夹具有足够的权限。我希望这可以帮助你，就像它对我一样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-16T15:18:04.217

我在[这里写了一个答案](https://stackoverflow.com/questions/18081140/integrate-linphone-app-to-my-ios-app/31458185#31458185)。有点长，但我真诚地希望它足够清晰，并能帮助您（以及未来的其他人）构建和集成 Linphone！

最好的，

# spring-batch - 如何通过ItemWriter向多个表中插入数据

> ID：15805868
> 
> 赞同：3
> 
> 时间：2013-04-04T08:15:29.380
> 
> 标签：spring-batch

如何通过 ItemWriter 向多个表中插入数据。ItemWriter 通过从多个表中选择数据的 ItemReader 获取输入。它应该一步完成。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-04T12:55:14.453

您可以使用Spring Batch 的[CompositeWriter](http://static.springsource.org/spring-batch/apidocs/org/springframework/batch/item/support/CompositeItemWriter.html)

```
<chunk reader="myReader" writer="compositeWriter" /> 
```

复合 writer，你的 step 看到的和其他 writer 没有什么不同，你可以看看上面的 chunk 定义。

```
<bean id="compositeWriter" class="org.springframework.batch.item.support.CompositeItemWriter">
    <property name="delegates">
    <list>
        <ref bean="table1Writer" />
        <ref bean="table2Writer" />
    </list>
    </property>
</bean> 
```

CompositeWriter 的主要特点是它获得了一个“代表”列表，这些代表通常是 Spring Batch Writer。

在这种情况下，table1Writer 和 table2Writer 将是您的 jdbc 编写器的实现。

# android - 强制主题为 @android:drawables 支持低级 API

> ID：15805875
> 
> 赞同：1
> 
> 时间：2013-04-04T08:15:42.330
> 
> 标签：android, android-drawable

有没有办法使用系统资源强制按钮，例如`@android:drawable/ic_menu_send`我选择的背景？

默认是这样的：

![ic_menu_send 灯](https://i.stack.imgur.com/ZBWSc.png)

我想要的是这样的：
![在此处输入图像描述](https://i.stack.imgur.com/aLyps.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-01T12:11:10.023

我建议使用 Google 在[http://developer.android.com/design/style/iconography.html#action-bar上提供的“操作栏图标包”中的所需图标](http://developer.android.com/design/style/iconography.html#action-bar)

在那里你会找到图标`6_social_send_now.png`和主题。`holo_light``holo_dark`

[Mark L. Murphy 在“The Busy Coder's Guide to Android”](http://commonsware.com/Android/)中给出了不直接从 SDK 引用系统图标的一个原因：“但是，存在风险：欢迎设备制造商将这些可绘制对象替换为他们自己的图稿。” 这些可能不适合您应用中的其他（自制）图标。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T19:45:29.243

您是否尝试过以“？”开头的 [样式属性：](http://developer.android.com/guide/topics/resources/accessing-resources.html)`?android:drawable/ic_menu_send`

**更新：**

看起来这并不容易。首先，您必须检查`drawables`SDK 资源中有哪些条目，例如查看`android-sdk/platforms/android-15/data/res`您的 Android SDK 安装文件夹。在那里你可以`grep`为你的`drawable`.

在以下示例中，我们发现`ic_menu_send`in `themes.xml`（仅 in `public.xml`）没有条目，因此 in 的相应属性也没有条目`attrs.xml`。

一个可以工作的drawable是`ic_menu_share`我们可以在其中找到条目的地方`themes.xml`，`attrs.xml`因此我们可以通过以下方式使用样式属性`android:src="?android:actionModeShareDrawable"`

```
jh@jh-aspire:/opt/android-sdk/platforms/android-15/data/res$ grep -r ic_menu_send *
values/public.xml:  <public type="drawable" name="ic_menu_send" id="0x01080050" />

jh@jh-aspire:/opt/android-sdk/platforms/android-15/data/res$ grep -r ic_menu_share *
values/public.xml:  <public type="drawable" name="ic_menu_share" id="0x01080052" />
values/themes.xml:        <item name="actionModeShareDrawable">@android:drawable/ic_menu_share_holo_dark</item>
values/themes.xml:        <item name="actionModeShareDrawable">@android:drawable/ic_menu_share_holo_light</item>
values/themes.xml:        <item name="actionModeShareDrawable">@android:drawable/ic_menu_share_holo_dark</item>
values/themes.xml:        <item name="actionModeShareDrawable">@android:drawable/ic_menu_share_holo_light</item>
values/themes.xml:        <item name="actionModeShareDrawable">@android:drawable/ic_menu_share_holo_dark</item>

jh@jh-aspire:/opt/android-sdk/platforms/android-15/data/res$ grep -r actionModeShareDrawable *
menu/webview_copy.xml:        android:icon="?android:attr/actionModeShareDrawable"
values/attrs.xml:        <attr name="actionModeShareDrawable" format="reference" />
values/themes.xml:        <item name="actionModeShareDrawable">@android:drawable/ic_menu_share_holo_dark</item>
values/themes.xml:        <item name="actionModeShareDrawable">@android:drawable/ic_menu_share_holo_light</item>
values/themes.xml:        <item name="actionModeShareDrawable">@android:drawable/ic_menu_share_holo_dark</item>
values/themes.xml:        <item name="actionModeShareDrawable">@android:drawable/ic_menu_share_holo_light</item>
values/themes.xml:        <item name="actionModeShareDrawable">@android:drawable/ic_menu_share_holo_dark</item> 
```

# mysql - base64 编码 HTML 编辑器文本以存储在数据库中

> ID：15805876
> 
> 赞同：1
> 
> 时间：2013-04-04T08:15:42.263
> 
> 标签：mysql, database, oracle, mariadb

我正在处理一个已经开始的网络项目，并注意到通过 HTML 编辑器生成的内容在存储在数据库中之前是用 base64 编码的。我想以前的开发人员这样做是为了以防用户写了一些数据库引擎可能不知道的字符，我的意思是对于没有安装字符集的语言，但我想知道这是否是一种好的做法或行为。

这里的问题不是如何在 CLOB 适合的地方存储一堆数据，而是如何处理未知字符。

谁能指出我存储通过 HTML 编辑器生成的 HTML 文本的正确方向？我真的需要为此烦恼还是只是假设我的数据库将支持任何语言字符集？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T17:26:06.930

您需要做的是确保 html 页面和数据库字符集相同，或者数据库是 html 页面的超集。

一个优秀的 Web 程序员会确保 Web 服务器和 html 内容具有相同的字符集。

Web 服务器字符集在 Web 服务器配置文件中设置，例如在 apache 中是：

```
AddDefaultCharset windows-1252 
```

html 页面字符集在元标记中定义为：

```
<meta http-equiv="content-type" content="text/html; charset=windows-1252"/> 
```

然后确保数据库支持相同的字符集或者是超集。如果这一切都很好，那么您将不需要将字符串转换为 base64。

即使字符集不正常，也很有可能不需要转换为 base64。

浏览器和 Web 服务器根据字符集转换字符。例如，部首符号是 utf8 中的 1 个字符，而在 windows-1252 中它变成 6 个字符：“√”

我能给出的最佳建议是检查数据库、Web 服务器和 html 页面中的字符集。并使用 html 扩展字符进行测试。

# ms-access - 如何在 access 2007 中自动居中表单中的对象？

> ID：15805877
> 
> 赞同：2
> 
> 时间：2013-04-04T08:15:43.477
> 
> 标签：ms-access, vba, ms-access-2007

我不知道在设计表单时我将对象设置在中心并将属性设置为自动居中，但是在表单视图中最大化表单对象时会转到表单的左上角，有人可以帮帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T10:27:49.447

Access 表单有一个`On Resize`事件，您可以在其中调整表单上各种控件的水平位置，方法是根据表单本身`.Left`的属性操作它们的属性。`.Width`

例如，假设我有一个带有命令按钮的表单，名为`Button0`. 为了在调整窗口大小时使其（或多或少）水平居中，我可以在窗体的`On Resize`事件中使用以下代码：

```
Private Sub Form_Resize()
'' adjust the horizontal position of the Command0 button
Me.Command0.Left = (Me.InsideWidth - Me.Command0.Width) / 2
End Sub 
```

**笔记：**

对于 Access 2007 及更高版本，您还可以使用[控件布局](https://support.office.com/en-us/article/Make-controls-stretch-shrink-or-move-as-you-resize-a-form-51fd88e0-43d3-4070-a298-18ba273f4cf8?CorrelationId=bd4cb75f-1b20-4b68-83f9-f986572bf3d0&ui=en-US&rs=en-US&ad=US)。有关如何使用它们进行居中的详细信息，请参阅此处的相关问题：

[如何在 MS Access 表单上动态保持控件居中（相对位置）？](https://stackoverflow.com/q/28240627/2144390)

# java - 如何获取 JavaFX 应用程序中的主要阶段？

> ID：15805881
> 
> 赞同：12
> 
> 时间：2013-04-04T08:16:07.587
> 
> 标签：java, javafx

是否可以在正在运行的 JavaFX 应用程序中获取对主要阶段的引用？

这个问题的上下文是我想编写一个库来操作另一种语言（Prolog）的JavaFX接口。为了做到这一点，我的图书馆需要访问主舞台。目标是 JavaFX 应用程序的程序员不必在 start 方法中显式存储对 Stage 对象的引用，因此它对用户界面设计人员应该是透明的（ 如果需要更多细节，这是[一个相关问题](https://stackoverflow.com/questions/15799940/interacting-with-the-controls-of-a-javafx-application-from-a-foreign-language-p)） .

这个问题的一部分是获取对原始 JavaFX 应用程序的主要 Stage 对象的引用，所以我想知道某处的静态方法之类的东西是否可以让我访问它。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2015-07-27T10:55:08.490

不确定正确的决定，但它适用于我的情况。

使用 getter 和 setter 在主类中创建静态字段：

```
public class MyApp extends Application {

    private static Stage pStage;

    @Override
    public void start(Stage primaryStage) {
        setPrimaryStage(primaryStage);

        pStage = primaryStage;
        ...
    }

    public static Stage getPrimaryStage() {
        return pStage;
    }

    private void setPrimaryStage(Stage pStage) {
        MyApp.pStage = pStage;
    }
} 
```

接下来，在必要的地方调用 getter。例如：

```
stageSecond.initOwner(MyApp.getPrimaryStage()); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-06-10T19:02:21.087

我只是在研究这个问题。似乎没有任何内置方法可以获取初级阶段。您可以从主窗口中的节点使用 node.getScene().getWindow()，但不能在其他窗口中使用。显式存储 primaryStage 引用显然是执行此操作的唯一可靠方法。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-06-10T18:56:06.823

由于您在 Application#start(Stage primaryStage) 方法中收到主要阶段，因此您可以保留它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-04-24T15:32:06.813

只是为了补充 VladmirZ 答案。按照第一部分。然后。用于隐藏或关闭操作按钮上的 primaryStage。

我这样做。例子

```
void ActionButton(ActionEvent event) throws Exception {

    Stage StageTest = TabelaApp.getTabelaStage(); // call the getter. In my case TabelaApp.getTabelaStage
    StageTest.hide(); //Or Close

    // This Call the Stage you want
    Parent root = FXMLLoader.load(getClass().getResource("/tabela2/FrmTabela2.fxml"));
    Scene scene = new Scene(root);
    Stage stage = new Stage();
    stage.setScene(scene);
    stage.show();

} 
```

# python - 将 LaTex 公式转换为可以在 SymPy 中使用的类型

> ID：15805882
> 
> 赞同：21
> 
> 时间：2013-04-04T08:16:07.657
> 
> 标签：python, latex, sympy

我想解析 LaTeX 公式并直接将它们用作 SymPy 表达式。换句话说，我需要的是类似于 sympify 的东西：

```
from sympy import sympify
f = sympify('x^2 + sin(y) + 1/2')
print f 
```

但这可以将 LaTeX 表达式（字符串）作为输入，例如：

```
f = latex_sympify('\frac{x}{1+x}') 
```

鉴于 sympify 能够将带有正则数学表达式的字符串转换为 SymPy 对象，如果有任何东西可以将 LaTeX 转换为正则数学表达式，我想这可以解决问题——但我更愿意做所有事情在 Python 中。

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2016-01-18T16:14:18.093

看看这个 Latex -> Sympy 转换器，它适用于大部分 Latex 子集：

[https://github.com/august198/latex2sympy](https://github.com/augustt198/latex2sympy)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-05-19T04:30:03.763

我会看看将乳胶转换为 mathml 的工具，例如（通过谷歌搜索）： http: [//www.mathtowebonline.com/](http://www.mathtowebonline.com/)

然后您可以处理由此产生的 XML。但是，您应该小心地将结果解释为数学表达式。此类工具可以保证文本表示是相等的，但是操作数与其运算符的括号（分组）可能不是您所期望的。一般来说，你会看到更少的嵌套。我们按照惯例将它们解释为嵌套的彼此相邻的运算符将简单地转换为 XML 格式的兄弟元素。如果您尝试将其解释为公式，则仍有一些工作要做（以正确的方式恢复嵌套结构）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-05-25T09:58:27.823

你可以使用[latex2sympy2](https://github.com/OrangeX4/latex2sympy)

```
from latex2sympy2 import latex2sympy
f = r"\frac{x}{1+x}"
latex2sympy(f) 
```

# ruby-on-rails - 在共享服务器上安装特定版本的 gem

> ID：15805884
> 
> 赞同：0
> 
> 时间：2013-04-04T08:16:08.730
> 
> 标签：ruby-on-rails, ruby, web-services, hosting, web-hosting

我想在 cpanel 上安装 ruby​​ on rails application(fedena)，它是特定于版本的。我有一个共享服务器，他们有一些其他的 gem 版本。如何整理？

我尝试更改 gem 路径，以便从 home(root) 访问所有 gem。但不知道该怎么做。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T10:48:38.263

查看 RVM，特别是 gemsets，它完全符合您的描述。

[http://net.tutsplus.com/tutorials/why-you-should-use-rvm/](http://net.tutsplus.com/tutorials/why-you-should-use-rvm/)

[https://rvm.io/gemsets/basics/](https://rvm.io/gemsets/basics/)

# android - android.app.activitythread 处的 NullPointerException

> ID：15805885
> 
> 赞同：0
> 
> 时间：2013-04-04T08:16:09.283
> 
> 标签：android, android-imageview, android-logcat

我正在尝试使用通用图像加载器在网格视图中获取图像。但是一旦我制作了这段代码，日志就开始给出一些错误说

```
04-03 21:45:12.653: E/AndroidRuntime(1271): FATAL EXCEPTION: main
04-03 21:45:12.653: E/AndroidRuntime(1271): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.nostra13.example.universalimageloader/com.nostra13.example.universalimageloader.ImageGridActivity}: java.lang.NullPointerException
04-03 21:45:12.653: E/AndroidRuntime(1271):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at android.os.Handler.dispatchMessage(Handler.java:99)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at android.os.Looper.loop(Looper.java:123)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at android.app.ActivityThread.main(ActivityThread.java:3683)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at java.lang.reflect.Method.invokeNative(Native Method)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at java.lang.reflect.Method.invoke(Method.java:507)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at dalvik.system.NativeStart.main(Native Method)
04-03 21:45:12.653: E/AndroidRuntime(1271): Caused by: java.lang.NullPointerException
04-03 21:45:12.653: E/AndroidRuntime(1271):     at com.nostra13.example.universalimageloader.ImageGridActivity$ImageAdapter.getCount(ImageGridActivity.java:78)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at android.widget.GridView.setAdapter(GridView.java:131)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at com.nostra13.example.universalimageloader.ImageGridActivity.onCreate(ImageGridActivity.java:59)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
04-03 21:45:12.653: E/AndroidRuntime(1271):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611) 
```

这里的代码是这样的 Constants.java

```
import java.util.ArrayList;
import java.util.HashMap;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.util.Log;

//import com.example.parseimage.JSONParser;

public final class Constants {

    public static String url = "http://ensign119.com/assets/image11.php";

    public static String[] IMAGES;

    protected static final String TAG_PRODUCTS = "image_path";
    protected static final String TAG_CID = "file_id";
    public static final String TAG_NAME = "file_name";

    ArrayList<HashMap<String, String>> mylist = new ArrayList<HashMap<String, String>>();
    JSONParser jParser = new JSONParser();
    JSONArray products = null;

    private Constants() {
        JSONObject json = jParser.getJSONFromUrl(url);

        Log.d("path_parsing", "before parsing");
        try {
            // Getting Array of Contacts
            products = json.getJSONArray(TAG_PRODUCTS);

            // looping through All Contacts
            for(int i = products.length()-1; i >=0; i--){
                JSONObject c = products.getJSONObject(i);

                // Storing each json item in variable
                String cid = c.getString(TAG_CID).toString();
                String name = c.getString(TAG_NAME);
                // creating new HashMap
                HashMap<String, String> map = new HashMap<String, String>();

                // adding each child node to HashMap key => value
                map.put(TAG_CID, cid);
                map.put(TAG_NAME, name);

                // adding HashList to ArrayList
                mylist.add(map);
                Log.d("mylist_value", mylist.toString());
            }
        } catch (JSONException e) {
            e.printStackTrace();
        }
        Log.d("path_parsing", "after parsing");   

        IMAGES = new String[mylist.size()];
        for(int i=0; i<mylist.size(); i++){
           IMAGES[i] = mylist.get(i).get("file_name");
        }
        for(String path: IMAGES){
            Log.d("path", path.toString());
        }
    }

    public static class Config {
        public static final boolean DEVELOPER_MODE = false;
    }

    public static class Extra {
        public static final String IMAGES = "com.nostra13.example.universalimageloader.IMAGES";
        public static final String IMAGE_POSITION = "com.nostra13.example.universalimageloader.IMAGE_POSITION";
    }

} 
```

imageGridActivity.java

```
import android.content.Intent;
import android.graphics.Bitmap;
import android.os.Bundle;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.BaseAdapter;
import android.widget.GridView;
import android.widget.ImageView;

import com.nostra13.example.universalimageloader.Constants.Extra;
import com.nostra13.universalimageloader.core.DisplayImageOptions;

public class ImageGridActivity extends AbsListViewBaseActivity {

    String[] imageUrls;

    DisplayImageOptions options;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.ac_image_grid);

        Bundle bundle = getIntent().getExtras();
        imageUrls = bundle.getStringArray(Extra.IMAGES);

        options = new DisplayImageOptions.Builder()
            .showStubImage(R.drawable.ic_stub)
            .showImageForEmptyUri(R.drawable.ic_empty)
            .showImageOnFail(R.drawable.ic_error)
            .cacheInMemory()
            .cacheOnDisc()
            .bitmapConfig(Bitmap.Config.RGB_565)
            .build();

        listView = (GridView) findViewById(R.id.gridview);
        ((GridView) listView).setAdapter(new ImageAdapter());
        listView.setOnItemClickListener(new OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                startImagePagerActivity(position);
            }
        });
    }

    private void startImagePagerActivity(int position) {
        Intent intent = new Intent(this, ImagePagerActivity.class);
        intent.putExtra(Extra.IMAGES, imageUrls);
        intent.putExtra(Extra.IMAGE_POSITION, position);
        startActivity(intent);
    }

    public class ImageAdapter extends BaseAdapter {
        @Override
        public int getCount() {
            return imageUrls.length;
        }

        @Override
        public Object getItem(int position) {
            return null;
        }

        @Override
        public long getItemId(int position) {
            return position;
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {
            final ImageView imageView;
            if (convertView == null) {
                imageView = (ImageView) getLayoutInflater().inflate(R.layout.item_grid_image, parent, false);
            } else {
                imageView = (ImageView) convertView;
            }

            imageLoader.displayImage(imageUrls[position], imageView, options);

            return imageView;
        }
    }
} 
```

请帮助我。我是安卓新手。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:39:46.457

我猜你的问题来自这一行：

```
imageLoader.displayImage(imageUrls[position], imageView, options); 
```

验证`imageView`, `imageUrls at position`(position) 和`options`object 不是`NULL`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:39:49.640

堆栈跟踪中的这一行：

```
04-03 21:45:12.653: E/AndroidRuntime(1271): Caused by: java.lang.NullPointerException
04-03 21:45:12.653: E/AndroidRuntime(1271):     at com.nostra13.example.universalimageloader.ImageGridActivity$ImageAdapter.getCount(ImageGridActivity.java:78) 
```

建议您的`getCount`方法返回 null，这将表明它`imageUrls`是 null，因为 then`imageUrls.length`也将是 null，从而为您提供`NullPointerException`.

另一个问题是你在这里做了什么：

```
@Override
public Object getItem(int position) {
    return null;
} 
```

那时，当 Android 尝试检索您的视图时，您将其设置为 null，这在某些时候也会导致 a `NullPointerException`。如果您不确定自己在做什么，请不要覆盖方法。如果您*被迫*重写方法，请确保您确切知道操作系统需要什么。仅仅因为您不在`getItem()`自己的代码中使用，并不意味着 Android 不使用它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T09:34:24.373

假设您的`imageUrls[]`数组不为空或不为空，我认为您的问题出在`getItem( int position )`. 尝试如下更改。

```
 public class ImageAdapter extends BaseAdapter {
        @Override
        public int getCount() {
            return imageUrls.length;
        }

        @Override
        public Object getItem(int position) {
            return imageUrls.get(i); // change here like this
        }

        @Override
        public long getItemId(int position) {
            return position;
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {
            final ImageView imageView;
            if (convertView == null) {
                imageView = (ImageView) getLayoutInflater().inflate(R.layout.item_grid_image, parent, false);
            } else {
                imageView = (ImageView) convertView;
            }

            imageLoader.displayImage(imageUrls[position], imageView, options);

            return imageView;
        }
    }
} 
```

# android - Android webview上传文件和摄像头

> ID：15805886
> 
> 赞同：1
> 
> 时间：2013-04-04T08:16:09.147
> 
> 标签：android, file, upload, webview, camera

我只是喜欢webview无法点击上传文件按钮，但现在问题是在webview中点击上传文件按钮后，看不到相机，只能选择floder文件，如果在浏览器中打开网站，我可以看到（使用）相机并选择文件夹文件。

我的手机版本是 android 4.1 。

我的代码如下，请帮助，Tq。

```
package com.mypackage123;

import android.annotation.SuppressLint;
import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.webkit.ValueCallback;
import android.webkit.WebChromeClient;
import android.webkit.WebView;
import android.webkit.WebViewClient;

@SuppressLint("NewApi")
public class MainActivity extends Activity {
    Context mContext;
    WebView mWebView;
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        mWebView = (WebView) findViewById(R.id.webview);
        mWebView.loadUrl("http://www.mywebsite12345.com");
        mWebView.setWebChromeClient(new CustomWebChromeClient());
        mWebView.getSettings().setJavaScriptEnabled(true);
        mWebView.setWebViewClient(new MyWebViewClient());

    }

    private ValueCallback<Uri> mUploadMessage;
    private final static int FILECHOOSER_RESULTCODE = 1;

    @Override
    protected void onActivityResult(int requestCode, int resultCode,Intent intent) {
        if (requestCode == FILECHOOSER_RESULTCODE) {
            if (null == mUploadMessage)
                return;
            Uri result = intent == null || resultCode != RESULT_OK ? null
                    : intent.getData();
            mUploadMessage.onReceiveValue(result);
            mUploadMessage = null;

        }
    }

    protected class CustomWebChromeClient extends WebChromeClient {

        // For Android > 4.1
        public void openFileChooser(ValueCallback<Uri> uploadMsg, String acceptType, String capture) {
            openFileChooser(uploadMsg);
        }

        // Andorid 3.0 + 
        public void openFileChooser(ValueCallback<Uri> uploadMsg, String acceptType) {
            openFileChooser(uploadMsg);
        }

        //Android 3.0
        public void openFileChooser(ValueCallback<Uri> uploadMsg) {
            mUploadMessage = uploadMsg;
            Intent i = new Intent(Intent.ACTION_GET_CONTENT);
            i.addCategory(Intent.CATEGORY_OPENABLE);
            i.setType("*/*");
            startActivityForResult(
                    Intent.createChooser(i, "Image Browser"),
                    FILECHOOSER_RESULTCODE);
        }

    }

    private class MyWebViewClient extends WebViewClient {

        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url) {

        view.loadUrl(url);
        return true;
        }
        }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-14T04:34:04.080

声明这个变量：

```
public int TAKE_PICTURE = 1;
public Uri picUri; 
```

在函数 openfilechooser() 中，用这个替换 openfilechooser(uploadMsg)

```
 mUploadMessage = uploadMsg;
    Intent cameraIntent = new Intent("android.media.action.IMAGE_CAPTURE");
    Calendar cal = Calendar.getInstance();
    cal.getTime();
    SimpleDateFormat sdf = new SimpleDateFormat("HHmmss");
    File photo = new File(Environment.getExternalStorageDirectory(), sdf.format(cal.getTime()) +".jpg");
    cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photo));
    picUri = Uri.fromFile(photo);
    startActivityForResult(cameraIntent, TAKE_PICTURE); 
```

不要忘记导入这个，

```
import java.util.Calendar;
import java.lang.Object;
import java.text.SimpleDateFormat;
import java.io.File;
import android.os.Environment;
import android.provider.MediaStore; 
```

我只想知道，如何使用 json/javascript 和 php 将此图像发送到服务器？时间

# android - Android - 亚马逊应用内购买

> ID：15805889
> 
> 赞同：3
> 
> 时间：2013-04-04T08:16:15.283
> 
> 标签：android, in-app-purchase, amazon

需要指导。

我已经在我的 android 应用程序中实现了亚马逊应用程序内，但我不知道当用户的订阅到期时会发生什么。

现在，我在我的服务器上保留了到期详细信息，希望在到期后，订阅将可供用户使用。

我的应用程序将如何得知订阅到期？

我必须做些什么吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T14:32:11.570

确保订阅有效的最佳方法是在应用启动时调用 getPurchaseUpdatesRequest()。这样，您可以检查响应并查看用户是否仍订阅内容。您只需查找父 SKU 的最新收据，如果收据上的结束日期为空，则用户仍然订阅。

参考：[https ://forums.developer.amazon.com/forums/thread.jspa?threadID=188&tstart=30](https://forums.developer.amazon.com/forums/thread.jspa?threadID=188&tstart=30)

我们真的需要维护我们自己的用户信息吗=> 不，您不需要维护任何用户信息。

参考：[https ://forums.developer.amazon.com/forums/thread.jspa?threadID=254&tstart=0](https://forums.developer.amazon.com/forums/thread.jspa?threadID=254&tstart=0)

当前版本的 SDK 测试器允许取消订阅，但不允许过期订阅。

参考：[https ://forums.developer.amazon.com/forums/thread.jspa?threadID=221&tstart=30](https://forums.developer.amazon.com/forums/thread.jspa?threadID=221&tstart=30)

您无法测试实时场景，您必须坚持使用 SDKTester。

# android - 我可以使用谷歌地图开发自己的 GPS 移动应用程序吗？

> ID：15805893
> 
> 赞同：1
> 
> 时间：2013-04-04T08:16:22.247
> 
> 标签：android, google-maps, google-maps-api-3, mobile-application

我正在开发一个安卓应用程序，该应用程序的主要功能是用于驾驶和骑自行车的 GPS 导航。我正在使用谷歌地图 api v3。这样做是否合法。

提前致谢，普拉文。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:24:31.057

来自[Google Maps 服务条款](https://developers.google.com/maps/terms)，第 10.4 (c)(iii) 章：

> 没有导航。您不会将服务或内容用于或与 (a) 实时导航或路线引导相关；(b) 自动或自主车辆控制。

# iphone - CAShapeLayer 上的渐变颜色效果

> ID：15805897
> 
> 赞同：3
> 
> 时间：2013-04-04T08:16:36.103
> 
> 标签：iphone, ios, objective-c, ipad, quartz-graphics

我正在尝试在 CAShapeLayer 上应用渐变颜色。为此我编写代码，

```
-(void)addCircle{
{
    // Drawing code
    UIBezierPath *aPath = [UIBezierPath bezierPathWithArcCenter:CGPointMake(150, 150)
                                                         radius:125
                                                     startAngle:0
                                                       endAngle:DEGREES_TO_RADIANS(180)
                                                      clockwise:NO];

    CAShapeLayer *shapeLayer = [[CAShapeLayer alloc] init];
    [shapeLayer setFrame: self.frame];
    [shapeLayer setPath: [aPath CGPath]];
    shapeLayer.lineWidth = 30.0f;
    [shapeLayer setStrokeColor:[[UIColor redColor] CGColor]];
    shapeLayer.fillColor = [[UIColor clearColor] CGColor];
    [shapeLayer setMasksToBounds:YES];

    CAGradientLayer *gradientLayer = [CAGradientLayer layer];
    gradientLayer.startPoint = CGPointMake(0.5,1.0);
    gradientLayer.endPoint = CGPointMake(0.5,0.0);
    gradientLayer.frame = CGRectMake(0, 0, self.bounds.size.width, self.bounds.size.height);
    NSMutableArray *colors = [NSMutableArray array];
    for (int i = 0; i < 10; i++) {
        [colors addObject:(id)[[UIColor colorWithHue:(0.1 * i) saturation:1 brightness:.8 alpha:1] CGColor]];
    }
    gradientLayer.colors = colors;
    [gradientLayer setMask:shapeLayer];

    [self.layer addSublayer:shapeLayer];
} 
```

但是我没有像这样的渐变颜色输出， ![在此处输入图像描述](https://i.stack.imgur.com/W6A8B.png)

我想要这样的最终输出， ![在此处输入图像描述](https://i.stack.imgur.com/WUztB.png)

但我的主要目标是在 CAShapeLayer 上应用渐变效果。我给定的代码内容哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:53:27.513

主要问题是您要添加`shapeLayer`到视图的图层，但实际上您只是想将其用作蒙版，因此您应该添加`gradientLayer`。

下一个问题将是`CAGradientLayer`不支持像第二个屏幕截图中那样的径向渐变。您需要进行自定义绘图以实现该效果（或仅使用图像）。

# heap-memory - jvmti：如何使用 class_tag

> ID：15805899
> 
> 赞同：1
> 
> 时间：2013-04-04T08:16:40.847
> 
> 标签：heap-memory, jvmti

我正在查看 JVMTI API（[http://docs.oracle.com/javase/6/docs/platform/jvmti/jvmti.html](http://docs.oracle.com/javase/6/docs/platform/jvmti/jvmti.html)），以便在给定状态下获取当前堆。

为了做到这一点，我想使用 FollowReferences ( [http://docs.oracle.com/javase/6/docs/platform/jvmti/jvmti.html#FollowReferences](http://docs.oracle.com/javase/6/docs/platform/jvmti/jvmti.html#FollowReferences) ) 方法，该方法将指向 jvmtiHeapCallbacks 的指针作为参数结构，它定义了几个回调，尤其是堆引用回调。

此回调必须采用以下形式：

```
 typedef jint (JNICALL *jvmtiHeapReferenceCallback)
                 (jvmtiHeapReferenceKind reference_kind, 
                  const jvmtiHeapReferenceInfo* reference_info, 
                  jlong class_tag, 
                  jlong referrer_class_tag, 
                  jlong size, 
                  jlong* tag_ptr, 
                  jlong* referrer_tag_ptr, 
                  jint length, 
                  void* user_data); 
```

我不明白如何使用 class_tag？在 API 中，我找不到将 class_tag 转换为 jclass 的函数。我查看了几个示例，但无法使用 class_tag。

在 API 中，有一个 SetTag 和 GetTag 函数，但它们似乎是针对 jobject 而不是针对 jclass。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-29T02:13:45.827

class_tag 是实际类对象的标记（类可以用 SetTag 标记，就像任何其他对象一样）。因此，您可以在 class_tag 上使用 jvmti#GetObjectsWithTag 获取实际类。如果该类尚未被标记，则 class_tag 将为零。但是，您仍然可以通过在 referrer_tag_ptr 上使用 GetObjectsWithTag，然后使用 jni GetObjectClass 方法来获取类对象。

请注意（至少在我见过的大多数实现中）GetObjectsWithTag 非常慢。如果速度是一个问题，您可以通过批量处理并一次请求一堆对象来获得更好的性能（GetObjectsWithTag 需要一个指向充满标签的缓冲区的指针）。

# jsf-2 - 如何将动态项目添加到上下文菜单？

> ID：15805901
> 
> 赞同：0
> 
> 时间：2013-04-04T08:16:59.830
> 
> 标签：jsf-2, richfaces, contextmenu, html

我正在将我的应用程序迁移到 jsf2 和richfaces 4.3.1，但组件rich:contextMenu 有问题。

上下文菜单应该有一些最终项目（如片段中的“全部”）和其他来自“bean”中定义的列表属性的项目。

使用 jsf1.2 和 richfaces 3.3.x 时，“c:forEach”元素运行良好，但在新配置中却不行。有任何想法吗？

代码片段如下：

```
<rich:contextMenu id="menu" showEvent="click" target="panel" mode="ajax" >

    <rich:menuItem label="All" action="#{bean.search}" render="list">
        <a4j:param assignTo="#{bean.currentLabelId}" value="0" />
    </rich:menuItem>

    <c:forEach var="item" value="#{bean.labelSelectItemList}">

        <rich:menuItem label="#{item.label}" action="#{bean.search}" render="list">
            <a4j:param name="param1" assignTo="#{bean.currentLabelId}" value="#{item.value}" />
        </rich:menuItem>

    </c:forEach>

</rich:contextMenu> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T14:47:48.550

只是从评论中总结解决方案：

`http://java.sun.com/jstl/core`将出现的命名空间 url替换为`http://java.sun.com/jsp/jstl/core`( [http://java.net/jira/browse/FACELETS-245](http://java.net/jira/browse/FACELETS-245) )

还有**davidml**评论：

> 另一个错误：c:forEach 需要一个“items”属性而不是“value”

# jquery - 点击没有提示

> ID：15805911
> 
> 赞同：0
> 
> 时间：2013-04-04T08:17:20.137
> 
> 标签：jquery

我想我有一个简单的问题。

如果我单击一个 div，我希望出现一条消息。

我在我体内的 div 代码是。

```
<div id="addtag" style="cursor: pointer;">
   <b>
   add tag
   </b>
</div> 
```

如果我点击这个 div，我想要一个简单的警告框，所以我脑子里有：

```
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>

<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>

<script>
    $('#addtag').click(function() 
    {
        alert("hello world");
    });
</script> 
```

但我没有收到任何消息我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T08:18:49.090

当然不是

```
$(function(){
    $('#addtag').click(function() 
    {
        alert("hello world");
    });
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T08:19:05.530

将它包装在一个[DOM-ready 回调](http://api.jquery.com/ready/)中，我敢打赌你的代码很好：

```
$(function () {
    $('#addtag').click(function() 
    {
        alert("hello world");
    });
}); 
```

问题是您尝试在元素实际位于 DOM 中之前将事件侦听器附加到元素。

如果您不想使用 DOM 就绪回调，另一种选择是将您的 script-tag 移动到 HTML 正文的最底部，就在关闭`</body>`. 这样您就知道当代码执行时，该元素将在 DOM 中可用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T08:19:14.493

```
$(document).ready(function(){
$('#addtag').click(function() 
{
    alert("hello world");
});
}}; 
```

与 DOM 一起使用

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T08:19:30.657

使用以下代码：

```
<script>
 $(document).ready(function(){
    $('#addtag').click(function() 
    {
        alert("hello world");
    });
 });
</script> 
```

这里需要初始化click函数。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T08:36:21.420

```
 $(document).ready(function(){
    $('#addtag').bind('click',function(){
    //alert('hi');
    });
  }); 
```

# php - 如何从图库中的数据库中获取图像

> ID：15805913
> 
> 赞同：-3
> 
> 时间：2013-04-04T08:17:33.257
> 
> 标签：php, jquery, phpmyadmin

我有这种格式的画廊，我想从数据库中获取画廊相册图像以下是代码，请帮助我，我正在 php 中尝试这个：

```
<script type="text/javascript">

                                var countries=new ddtabcontent("countrytabs")
                                countries.setpersist(true)
                            countries.setselectedClassTarget("link") //"link" or "linkparent"
                            countries.init()

                        </script>

                        <!--For tab End-->
                        <!--<textarea_autoexpand>-->

                        <script type="text/javascript">
                                $('#textarea1').autoresize();
                                $('#textarea2').autoresize({
                                    animate: false,
                                    buffer: 2,
                                    onresize: function() {
                                        $('#message').stop(true, true).hide()
                                            .text('Resized to '+$(this).height())
                                            .fadeIn('slow', function() {
                                                $(this).fadeOut();
                                            });
                                    }
                                });
                        </script>

                        <!--</textarea _End>-->
                    </div>
                </div>
                <div class="comment">

                    <!--Stack 1  -->
                    <div class="image_stack" style="margin-left: 235px">
                        <img id="photo1" class="stackphotos" src="images/2.jpg">
                        <img id="photo2" class="stackphotos" src="images/3.jpg">
                        <img id="photo3" class="stackphotos" src="images/1.jpg">
                    </div>

                    </div>
                </div>
            </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:30:15.890

先连接数据库。

```
<?php mysql_connect('{YOUR-HOST-NAME}','{USER-NAME}','{PASSWORD}'); 
  mysql_select_db('YOUR-DATABASE-NAME'?> 
```

连接后从数据库中基本查询图像

```
<?php 
  $query = mysql_query("SELECT {YOUR-IMAGE-FIELD-NAME} FROM {YOUR-TABLE-NAME}");
  $i = 1;
  while ($row = mysql_fetch_array($query)) {
?>
 <img id="photo<?php echo $i ?>" class="stackphotos" src="<?php echo $row['YOUR-IMAGE-FIELD-NAME']; ?>">

<?php $i++; } ?> 
```

# javascript - 原型 - 将函数添加到类

> ID：15805915
> 
> 赞同：2
> 
> 时间：2013-04-04T08:17:39.017
> 
> 标签：javascript

我目前正在学习原型。将函数“sayName”放在类中还是稍后通过原型添加更好？还是一样，取决于情况？

```
function Animal(name,numLegs){
    this.name = name;
    this.numLegs = numLegs;
    this.sayName = function(){
         console.log("Hi my name is " + this.name);

    };
}

var penguin = new Animal("Captain Cook", 2);
penguin.sayName(); 
```

或者

```
function Animal(name,numLegs){
    this.name = name;
    this.numLegs = numLegs;
}

Animal.prototype.sayName = function(){
    console.log("Hi my name is " + this.name);
};

var penguin = new Animal("Captain Cook", 2);
penguin.sayName(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:19:28.933

不一样，因为第一个版本将使用更多内存，因为实例`Animal`有自己的`this.sayName`. 在后者中，所有`Animal`实例都可以访问*相同的* `sayName`：

```
function Animal(name,numLegs){
    this.name = name;
    this.numLegs = numLegs;
    this.sayName = function(){
         console.log("Hi my name is " + this.name);
    };
}

var dog = new Animal(4, "Jack");
var alligator = new Animal(4, "Snap");

dog.sayName = function(){ console.log("woof"); }

dog.sayName();
alligator.sayName(); 
```

会导致

```
woof
Hi my name is Snap 
```

因为`dog`并且`alligator`不共享相同的函数`sayName`，而在后一个示例中对原型的更改将更改对`sayName`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:20:01.143

共享资源最好使用原型

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T08:23:54.360

这个问题已经得到回答——这取决于具体情况。阅读此答案：[https ://stackoverflow.com/a/15497685/783743](https://stackoverflow.com/a/15497685/783743)

如果您的方法需要访问构造函数的私有变量，那么您别无选择，只能在构造函数中定义它。否则，您应该始终在`prototype`对象上声明它们。

您还应该阅读以下文章：

1.  [http://javascript.crockford.com/private.html](http://javascript.crockford.com/private.html)
2.  [https://stackoverflow.com/a/8096017/783743](https://stackoverflow.com/a/8096017/783743)

# session - Hazelcast、Jetty 和 Nginx 的会话持久性问题

> ID：15805917
> 
> 赞同：1
> 
> 时间：2013-04-04T08:17:50.647
> 
> 标签：session, nginx, persistence, jetty, hazelcast

我使用 Hazelcast 作为 Jetty 实例的 webapp 会话存储。Jetty 实例前面还有 Nginx 作为负载均衡器。

**问题：** 会话共享非常完美，因为我的两个码头服务器在不同的端口（8080 和 8081）上并排工作。但是，当我重新启动一个 Jetty 实例 (8081) 时，我失去了共享会话。我使用默认的 hazelcast.xml 和过滤器，罐子也被正确地放入了 webapp。

以下是使用会话对象的 groovy-grails webapp 代码示例：

```
package jtest

class HomeController {

def index() {
if(!session.test){
session.test = 1
} else {
session.test++
}
render "port = " + request.getServerPort() + "; session = " + session.test 
}
} 
```

**nginx.conf**文件包含以下几行：

```
upstream backend  {
    #ip_hash;
server 127.0.0.1:8081; # Reverse proxy to  BES1
server 127.0.0.1:8082; # Reverse proxy to  BES2
}

server {
    listen       8080;
    server_name  localhost;
location / {
    proxy_pass              http://backend;
    proxy_set_header        X-Real-IP $remote_addr;
    proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header        Host $http_host;
} 
```

**问：** 其实我想问问这种情况是正常的还是设置有什么特别要说的？

以下是**代码示例**：

[http://snipt.org/ziBa8](http://snipt.org/ziBa8) - **Hazelcast.xml**（几乎完好无损） [http://snipt.org/ziBb2](http://snipt.org/ziBb2) - Hazelcast 过滤来自 webapp **/WEB-INF/web.xml的代码**

# java - 如何在同一台电脑上运行两个黑莓模拟器

> ID：15805918
> 
> 赞同：0
> 
> 时间：2013-04-04T08:17:50.817
> 
> 标签：java

当我在同一台机器上运行两个黑莓 7.1.0 模拟器时，在其中一个模拟器中它会抱怨，`could not open port 19780 and it is use by another program.....`尽管事实上我在**.bat**文件、MDS中的**rimpublic.property**文件和模拟器中的**fledge-settings.conf中更改了数据端口值。**但是所有这些变化都没有反映在我的模拟器中。如果有人已经遇到过这个问题，请帮助我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:44:00.250

我建议另一种方法：使用虚拟机（例如 VmWare）。

这样您就可以运行任意数量的 simu。

此外，很可能两部 BB 手机通过网络相互通信，因此将 BB simu 实例放在不同的虚拟机上可能会引发互联网或网络的潜在问题

# java - jaxb2 maven 插件，在单独的标签中定义多个模式文件

> ID：15805924
> 
> 赞同：3
> 
> 时间：2013-04-04T08:18:15.167
> 
> 标签：java, xsd, maven-plugin, jaxb2, maven-jaxb2-plugin

我正在使用 maven jaxb2 插件从 xsd 文件生成 Java 类。最近我遇到了一个问题，我的模式文件列表变得很长，我把它们都写在`shemaFiles`标签中作为逗号分隔的值，而且行本身很长，我担心将来它会影响代码的可读性并成为一个错误原因。那么有没有任何解决方案可以在单独的标签中写入文件，例如：

```
<schemaFilesList>
  <schemaFile>SharedResources/xsd/Common.xsd</schemaFile>
  <schemaFile>SharedResources/xsd/Another.xsd</schemaFile>
          .... 
 </schemaFilesList> 
```

这是我现在拥有的代码：

```
<plugin>
  <groupId>org.codehaus.mojo</groupId>
  <artifactId>jaxb2-maven-plugin</artifactId>
  <executions>
    <execution>
      <goals>
        <goal>xjc</goal>
      </goals>
      <configuration>
        <extension>true</extension>
        <schemaDirectory>target/xsd</schemaDirectory>
        <!-- I have really long list of files here, in different directories-->
        <schemaFiles>
           SharedResources/xsd/Common.xsd,SharedResources/xsd/Messaging/EmailService.xsd, .....
        </schemaFiles>
      </configuration>
    </execution>
  </executions>
</plugin> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T19:02:04.773

我们也有很多模式。我们只是省略了 <schemaFiles> 元素，让它读取 <schemaDirectory> 中的所有模式。

# android - android中的按钮突出显示

> ID：15805926
> 
> 赞同：8
> 
> 时间：2013-04-04T08:18:19.150
> 
> 标签：android, button, colors

我的应用程序的布局文件中的按钮有以下代码

```
<Button
    android:id="@+id/button2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_alignParentRight="true"
    android:text="Start updating" /> 
```

默认情况下，按下按钮时，其突出显示颜色为蓝色。我如何将其更改为我想要的颜色？（我希望它是深红色的）

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-04T08:21:14.837

一个按钮有一[组状态](http://developer.android.com/guide/topics/resources/drawable-resource.html#StateList)，[可以这样配置](http://developer.android.com/guide/topics/ui/controls/button.html)：

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:drawable="@color/your_color"
      android:state_pressed="true" />
    <item android:drawable="@color/your_color"
      android:state_focused="true" />
</selector> 
```

您可以在 res/drawables 文件夹中将其创建为文件，然后在按钮中使用它作为背景。假设您将该文件命名为“my_button.xml”，您可以像这样使用它：

```
<Button
    android:background="@drawable/my_button" 
```

或者像这样：

```
my_button.setBackgroundDrawable(getResources().getDrawable(R.drawable.my_button)); 
```

您的颜色可以在 res/values 文件夹中的 colors.xml 中定义。如果您没有此文件，您可以创建它（android 会识别它）。这是**一个很好的做法**，但您也可以在上面的代码中将 your_color 替换为 #DC143C。

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <color name="your_color">#DC143C</color>
</resources> 
```

请注意，此颜色已设置为[crimson](http://en.wikipedia.org/wiki/Crimson)。

您还可以为背景添加图像，将“@color/your_color”替换为“@drawable/your_image”。

有关更多信息，您可以点击stackoverflow 中的[此链接](https://stackoverflow.com/questions/3882064/how-to-change-color-of-button-in-android-when-clicked)。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-04T08:21:15.053

在您的可绘制文件夹中创建以下 xml 文件。并将您的按钮背景设置为此可绘制对象。

```
<?xml version="1.0" encoding="utf-8"?>
    <selector xmlns:android="http://schemas.android.com/apk/res/android">

        <!-- Image display in background in select state -->
        <item android:drawable="@drawable/button_pressed" android:state_pressed="true"/>

        <!-- Image display in background in select state -->
        <item android:drawable="@drawable/button_pressed" android:state_focused="true"/>

        <!-- Default state -->
        <item android:drawable="@drawable/button"/>

    </selector> 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-04T08:21:37.623

您需要的是选择器，它是一个简单的可绘制文件，您可以在其中根据状态更改按钮的颜色，例如：

```
<?xml version="1.0" encoding="utf-8"?>
<selector
  xmlns:android="http://schemas.android.com/apk/res/android">
  <item 
    android:state_focused="true"
    android:drawable="@color/white"/>
   <item 
    android:state_pressed="true"
    android:drawable="@color/white"/>
   <item android:drawable="@color/red" />
</selector> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T09:00:41.313

为了让您找到正确的资源，这里是 StateList Drawable 的文档。
[检查这个链接](http://developer.android.com/guide/topics/resources/drawable-resource.html#StateList)

您只需在 res/drawable 子目录中创建和定义它，并将其设置为按钮背景。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-04-18T13:57:29.997

您可以像这样定义所有控件的颜色

```
<style name="AppTheme.Base" parent="Theme.AppCompat.Light.DarkActionBar">
        <!-- Some attributes like windowNoTitle, windowActionBar, ... -->
        <item name="colorControlHighlight">@color/colorAccent</item> <!-- chose the color here -->
</style> 
```

# asp.net-mvc - 在 Knockout.js 和 MVC 3 中出现错误

> ID：15805941
> 
> 赞同：0
> 
> 时间：2013-04-04T08:19:01.397
> 
> 标签：asp.net-mvc, knockout.js

这是我的示例，但不起作用并在 chrome 中出现此错误 Uncaught Error: Unable to parse binding attribute。消息：ReferenceError：ProductName 未定义；属性值：文本：ProductName

操作代码：

```
 public ActionResult GetProducts()
    {
        var product = _db.Products;
        return Json(product, JsonRequestBehavior.AllowGet);
    } 
```

网页：

```
 <table id="timesheets" class="table table-striped table-hover table-condensed">   
        <thead>
            <tr>
                <th>ProductName</th>
                <th>CategoryID</th>
                <th>UnitPrice</th>
                <th>Discontinued</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: viewModel.Products">
            <tr>
                <td data-bind="text: ProductName"></td>
                <td data-bind="text: CategoryID"></td>
                <td data-bind="text: UnitPrice"></td>
                <td data-bind="text: year"></td>
            </tr>
        </tbody>
    </table> 
```

Javascript代码：

```
<script type="text/javascript">

    $(function () {
        viewModel.loadProducts();
        ko.applyBindings(viewModel);
    });

    function Product(data) {
        this.ProductID = ko.observable(data.ProductID);
        this.ProductName = ko.observable(data.ProductName);
        this.CategoryID = ko.observable(data.CategoryID);
        this.UnitPrice = ko.observable(data.UnitPrice);
        this.Discontinued = ko.observable(data.Discontinued);
    }

    var viewModel = {

        Products: ko.observableArray([]),

        loadProducts: function () {

            var self = this;
            $.getJSON(
                '/Home/GetProducts',
                function (products) {
                    self.Products.removeAll();

                    $.each(products, function (index, item) {
                        self.Products.push(new Product(item));
                    });
                }
            );
        }
    };

</script> 
```

请帮忙，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:45:16.613

请检查`_db.Products`. 他们没有发现`ProductName`可能是它丢失了。如果您使用的是 EF，请再次刷新您的 EntityFramework 模型。或者，您也可以`ProductName`使用以下警报检查是否为空或 null：

```
function Product(data) {
        alert(data.ProductName);
        this.ProductID = ko.observable(data.ProductID);
        this.ProductName = ko.observable(data.ProductName);
        this.CategoryID = ko.observable(data.CategoryID);
        this.UnitPrice = ko.observable(data.UnitPrice);
        this.Discontinued = ko.observable(data.Discontinued);
    } 
```

# android - 查看我的应用程序中的文件

> ID：15805948
> 
> 赞同：1
> 
> 时间：2013-04-04T08:19:21.860
> 
> 标签：android, android-intent, blackberry-10

有什么方法可以使用 Android SDK 在 BlackBerry 10 上打开/查看/显示文件，因为根据[Android 应用程序](http://developer.blackberry.com/android/apisupport/unsupportedapi_blackberry10_intents.html) 的 BlackBerry 文档，不支持 Intent.ACTION_VIEW 命令？

# javascript - jquery滑块和toastr冲突

> ID：15805951
> 
> 赞同：0
> 
> 时间：2013-04-04T08:19:31.597
> 
> 标签：javascript, jquery, jquery-plugins

我在我的 ASP.Net 站点中使用了 3 种不同类型的滑块（即[***MenuCool***](http://www.menucool.com/slider/javascript-image-slider-demo1)、[***jQuery Accordian***](http://www.madeincima.it/download/samples/jquery/easyAccordion/)和[***Slider***](http://365psd.com/day/225/)）。我最近所做的是我包含了一个 jquery [**toastr**](http://codeseven.github.com/toastr/)来显示一些消息。这也有`jQuery.min`参考。

页面加载后一切正常。但是当显示 toastr 消息时，所有 3 个滑块都不起作用。我认为问题在于`jquery.min`文件中的冲突。

我试图一一评论参考文献。但问题仍然存在。它们是适用于所有人的单一参考或版本。 **注意：我还按照**[***此处***](http://nuget.org/packages/toastr)所述从 Nuget 安装了 toastr 。目前我有这些参考资料

*   [http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js](http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js)
*   [http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js](http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js)

以及脚本文件夹中的那些文件

![在此处输入图像描述](https://i.stack.imgur.com/opXKY.png)

**他们是与所有这些滑块一起使用的单个 jQuery 文件或参考吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:04:26.697

Finally after 3 days searching on `jquery` and `javascript` i found the issue.

The problem was with the `update panel`. When the `button` event is fired in `update panel` all my `sliders` are not working so i put my button in `update panel` and slider outside the panel. This fixes all.

# c++ - 为什么书上说“编译器为内存中的变量分配空间”？

> ID：15805953
> 
> 赞同：11
> 
> 时间：2013-04-04T08:19:35.827
> 
> 标签：c++, compiler-construction, runtime, sizeof

为什么书上说“编译器为内存中的变量分配空间”。不是可执行文件吗？我的意思是，例如，如果我编写以下程序，

```
#include <iostream>
using namespace std;

int main()
{
   int foo = 0;
   cout<<foo;
   return 0;
} 
```

并编译它，得到一个可执行文件（让它成为program.exe），现在，如果我运行program.exe，这个可执行文件将自己命令为变量foo分配一些空间。不会吗？请解释为什么书籍一直说，“编译器会做这个......做那个”，而实际上，编译的可执行文件会这样做。

在这个问题中添加另一个相关问题，为什么`sizeof`称为编译时运算符？它实际上不是运行时运算符吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-04T08:30:24.797

当我们聘请建筑师设计房屋时，他或她会定义房间的大小等，并告知工人（劳工）。工人们相应地进行工作。但我们仍然会说“*建筑师这样建造房子*”而**不是**“*工人这样建造房子*”。

工人只是在执行建筑师定义的步骤。编译器实际上在运行时完成了检查和定义要分配多少内存等所有工作，然后只遵循这些指令。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-04-04T08:22:29.547

从技术上讲，创建空间本身的行为是在运行时完成的，但是编译器会确定在您的情况下为您的变量在堆栈*上保留多少空间。*`foo`

编译器知道`int`类型的大小，因此可以生成正确的汇编指令，该指令将在堆栈上保留足够的空间以便在`foo`那里生存。

如果您查看下面为您展示的程序生成的汇编程序（使用 MSVC2012），我已经对其中的一些进行了注释以向您展示发生了什么：

```
#include "stdafx.h"
#include <iostream>
using namespace std;

int main()
{
//Setup stack frame for main by storing the stack pointer from the calling function and 
//reserving space for local variables and storing commonly used registers on the stack
002E4390  push        ebp  
002E4391  mov         ebp,esp  
// reserve space for local variables, which is 204 bytes here, no idea why so much.
// this is where the compiler calculated the size of your foo and added that to whatever else needs to be stored on the stack. Subtract from stack pointer (esp) because stack grows downward.  
002E4393  sub         esp,0CCh  
002E4399  push        ebx  
002E439A  push        esi  
002E439B  push        edi  
002E439C  lea         edi,[ebp-0CCh]  // load effective address of [ebp-0CCh], which I suspect would be your foo variable into edi register
002E43A2  mov         ecx,33h  
002E43A7  mov         eax,0CCCCCCCCh  
002E43AC  rep stos    dword ptr es:[edi]  //fill block of memory at es:[edi] with stuff  
   int foo;
   return 0;
002E43AE  xor         eax,eax  //set eax to zero for return value
}
// restore everything back to how it was before main was called
    002E43B0  pop         edi  
    002E43B1  pop         esi  
    002E43B2  pop         ebx  
    002E43B3  mov         esp,ebp  
    002E43B5  pop         ebp  
    002E43B6  ret 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-04-04T08:21:58.510

这只是术语的松散使用。当然，编译器不会为程序分配内存。更准确的描述是它告诉运行时程序运行时要分配多少内存。

在程序实际运行之前，它不在内存中（除非它是动态加载的，但即使是在运行时发生的，所以超出了编译器的范围），所以没有内存可言。

这些书谈论的是分配大小在编译时已知的变量，而不是大小未知的动态分配`cin >> x; int * y = new[x];`。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-04-04T08:21:49.323

它说编译器为内存中的变量分配空间，因为否则您需要自己分配（并释放！）内存`new/malloc`等。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-04-18T11:04:51.683

当然编译器不会“为变量分配空间”。编译器生成一个代码，为内存中的变量分配空间。

即如果你有

```
int foo;
foo = 1; 
```

在源代码中，编译器可能会生成类似的代码

```
int* fooPtr = allocate sizeof(int)
*fooPtr = 1; 
```

在 x86 架构中，通常那个`allocate`东西是一条汇编指令：

```
sub esp, 4    ; allocate 4 == sizeof(int) bytes on stack
              ; now the value of "esp" is equal to the address of "foo",
              ; i.e. it's "fooPtr"
mov [esp], 1  ; *fooPtr = 1 
```

如果你有多个局部变量，编译器会将它们打包成一个结构并一起分配它们：

```
int foo;
int bar;
bar = 1; 
```

将被编译为

```
struct Variables { int foo; int bar; };
Variables* v = allocate sizeof(Variables);
v->bar = 1; 
```

或者

```
sub esp, 4+4       ; allocate sizeof(Variables) on stack
mov [esp + 4], 1   ; where 4 is offsetof(Variables, bar) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-05-13T08:35:33.053

编译器生成机器指令并计算出局部变量将占用的内存地址。每个局部变量都被赋予一个相对于栈顶的地址，例如`foo`，假设位于内存地址`stack_pointer`。如果您有一个变量`foo2`，它将被放置在`stack_pointer + 4`4 是`int`.

当`foo`访问局部变量时，编译器将替换`stack_pointer`. 硬件有一个特殊的`stack_pointer`寄存器，它总是指向当前堆栈的顶部。

编译器知道每个变量的大小，因为它负责查看`struct`或`class`声明并计算出它在内存中的布局方式。所以`sizeof`在编译时已知并被视为常量表达式。原始类型 like`int`已知具有一定的大小，例如`sizeof(int)`4。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2014-03-27T10:06:33.790

建议你阅读编译器构造。专注于存储阶段，您的查询将得到解决。

在程序被编译后，它转换为目标代码，这是一种汇编语言代码。高级语言程序的每一行都被翻译成许多汇编语言步骤。翻译后的程序被放入执行的汇编程序中。编译器构造中存在存储分配阶段，该阶段转换为机器操作表（汇编级别的 MOT 指令）。这是为变量/寄存器分配空间的地方。C++ 中也有一个寄存器修饰符关键字。

# html - 动态高度父div和不听话的孩子

> ID：15805954
> 
> 赞同：1
> 
> 时间：2013-04-04T08:19:47.157
> 
> 标签：html, css, overflow, parent-child

如何防止子 div 的高度溢出其父级？

我的 div 在我的网站中重复使用，内容可变。我知道为父母设置一个高度值可以解决这个问题，但我不希望这样做，因为有时它非常小。

我在这里查看了许多与此问题相关的问题，但找不到适合我的问题的解决方案。

```
.Parent{
    background: #eee;
    position: relative;
    max-height: 80%;
    max-width: 80%;
    text-align: center;
    vertical-align: middle;
    margin: auto;
    padding: 5px;
    display: inline-block;
}
.Child{
    overflow: auto;
} 
```

**期望的结果**

父 div 具有等于其内容的高度。

如果父 div 超过 80% 的最大高度，则子 div 将滚动。

**演示**

[http://jsfiddle.net/QtyNU/](http://jsfiddle.net/QtyNU/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:33:07.017

您可以设置`overflow:auto`在`.PopInfo`. 当它不适合时，这将使滚动条出现在右侧。

[jsFiddle](http://jsfiddle.net/Tyriar/jJe9R/)

```
.PopInfo {
    overflow: auto;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T09:31:25.157

从我在你的小提琴中看到的，问题是`max-height: 80%`规则。父 div 正确扩展至此。如果你想在那之后滚动，你只需要添加

```
overflow: scroll; 
```

到父 CSS。看到[这个小提琴](http://jsfiddle.net/TfmaS/)。

# android - 从用户定义邮件视图 Android 发送邮件

> ID：15805955
> 
> 赞同：0
> 
> 时间：2013-04-04T08:19:47.767
> 
> 标签：android, email-client

我有一个应用程序可以将邮件发送到我定义的邮件地址“myemail@own.com”。为此，我创建了自己的自定义电子邮件视图，其中包含复选框消息正文和其他选项。现在我希望按下发送按钮时，我的应用程序不应该转到 gmail 视图或其他电子邮件客户端视图，它直接提交数据

字符串recepientEmail = "myemail@own.comm";

// 设置为目标电子邮件或留空

```
 Intent intent = new Intent(Intent.ACTION_SENDTO);

    intent.setData(Uri.parse("mailto:" + recepientEmail));

    startActivity(intent); 
```

但是在提交时它会打开 gmail 或选择器电子邮件客户端视图，但我不想显示 gmail 视图

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T13:28:39.080

我仅在此链接中添加任何电子邮件服务器所需的修改说明： [单击此处](https://stackoverflow.com/questions/2020088/sending-email-in-android-using-javamail-api-without-using-the-default-built-in-a#)

第一个变化：

```
private String mailhost = "smtp.gmail.com 
```

改成

```
private String mailhost = "your smtp email server address"; 
```

第二个变化：

```
props.put("mail.smtp.port", "465");   
props.put("mail.smtp.socketFactory.port", "465"); 
```

改成

```
props.put("mail.smtp.port", your smtp port);   
props.put("mail.smtp.socketFactory.port", your smtp port); 
```

第三个变化：

默认属性是

```
props.setProperty("mail.transport.protocol", "smtp");   
props.setProperty("mail.host", mailhost); 
```

如果需要您的电子邮件服务器，请添加更多属性。

我希望这能帮到您。

# jquery - jQuerymobile，如何在 ajax 页面加载后触发回调

> ID：15805956
> 
> 赞同：2
> 
> 时间：2013-04-04T08:19:48.630
> 
> 标签：jquery, jquery-mobile

我不知道如何在特定页面加载后触发回调。

例如，我有两个页面：

```
<!-- my page -->
<div data-role="page" id="foo">

    <a href="#bar">bar</a></p>  

</div><!-- /page -->

<!-- other page  -->
<div data-role="page" id="bar">

    <div id="slideshow"></div>

</div><!-- /page --> 
```

很容易吧？现在我想触发该幻灯片作为回调，但仅在“栏”页面准备好时。绑定到文档上的 pagecreate 事件会在每个 pagecreate 上触发，

```
 $(document).bind('pagecreate') // I don't need this for every page, just my slideshows 
```

和

```
$( '#bar' ).on( 'pagecreate',function(event){ 
    whatEver();     // why you don't just work? :/
}); 
```

根本不起作用（或者我只是没有弄清楚它应该做什么）。

我做错了什么？谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:20:54.233

这样做：

```
$(document).on('pagecreate', '#bar',function(event){ 
    whatEver();     // why you don't just work? :/
}); 
```

但是，如果您在此页面上做任何可视化操作（如幻灯片），我建议您使用：

```
$(document).on('pageshow', '#bar',function(event){ 
    whatEver();     // why you don't just work? :/
}); 
```

**jQM 在除pageshow**之外的每个页面事件中显示视觉变化（如幻灯片插件、轮播等）时存在问题。**Pageshow**是加载的最后一个事件，在这种情况下页面已完全加载并且页面具有适当的高度。

# java - 得到数字格式异常？

> ID：15805957
> 
> 赞同：0
> 
> 时间：2013-04-04T08:19:54.470
> 
> 标签：java, android, datetime, null

我面临一个问题。我正在接收所有联系人及其最近的通话日期，但是当我尝试将通话日期转换为日期格式时，当 long =null 的值时它会抛出 NumberFormatException。

我想知道如何将所有调用日期转换为日期格式，但如果出现 null，它不会将其转换为日期格式..下面是我的代码帮助 plz..

```
 mCursor.moveToFirst();

              while(!mCursor.isAfterLast()) {
                 String calldate="";

                    JSONObject contact = new JSONObject();
                    JSONObject parentCont = new JSONObject();
                    SharedPreferences settings = getSharedPreferences(Sesssion.PREF_NAME,0);
                    settings.getBoolean("phnosaved", true);  
                String usernumber=      settings.getString(Sesssion.knumber,"hey" );
                     String name = mCursor.getString(mCursor.getColumnIndex(Phone.DISPLAY_NAME));
                     String number = mCursor.getString(mCursor.getColumnIndex(Phone.NUMBER));
                     String selection = android.provider.CallLog.Calls.NUMBER+"="+"\""+number+"\"";
                     Log.d("selection query", "selection"+selection);
                     String Order = android.provider.CallLog.Calls.DATE + " DESC";
                              Cursor managedCursor = managedQuery(CallLog.Calls.CONTENT_URI,null, selection,null, null); 

                              if (managedCursor.moveToFirst ()) {
                                  do {

                            calldate= managedCursor.getString (managedCursor.getColumnIndex (android.provider.CallLog.Calls.DATE));
                                  break;

                                  } while (managedCursor.moveToNext());

                              }

                  //String   callDate = managedCursor.getString(managedCursor.getColumnIndex(android.provider.CallLog.Calls.DATE));

                    Date callDayTime = new Date(Long.valueOf(calldate));

                    //String dateColumn = cursorcalllog.getString(cursorcalllog.getColumnIndex(CallLog.Calls.DATE));

                     Log.d("CONTACT", "Name: " + name + "| Number: " + number+"Recently Called"+callDayTime);

logcat:-

04-03 13:13:52.231: E/AndroidRuntime(16548): Caused by: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.socialize_us/com.example.socialize_us.PhoneBookActivity}: java.lang.NumberFormatException: Invalid long: ""
04-03 13:13:52.231: E/AndroidRuntime(16548):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2084)
04-03 13:13:52.231: E/AndroidRuntime(16548):    at android.app.ActivityThread.startActivityNow(ActivityThread.java:1924)
04-03 13:13:52.231: E/AndroidRuntime(16548):    at android.app.LocalActivityManager.moveToState(LocalActivityManager.java:135)
04-03 13:13:52.231: E/AndroidRuntime(16548):    at android.app.LocalActivityManager.startActivity(LocalActivityManager.java:347) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:22:57.030

你可以试试

```
if (calldate != null && !calldate.isEmpty()) 
    Date callDayTime = new Date(Long.valueOf(calldate)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:41:23.987

问题是

Long.valueOf("")

会抛出异常

所以在调用之前

```
 Date callDayTime = new Date(Long.valueOf(calldate)); 
```

确保 calldate 也不等于 ""

像

```
 if(!calldate.trim.equals("")) {    Date callDayTime = new Date(Long.valueOf(calldate));} 
```

# asp.net - 组织多个共享 UI 的 Web 项目的开发

> ID：15805958
> 
> 赞同：0
> 
> 时间：2013-04-04T08:19:54.807
> 
> 标签：asp.net, project-management, web-deployment

我们有不同的基于网络的产品。所有产品共享相同的底层认证和授权机制。所有都在同一数据库服务器上，并最终发布到同一服务器。

每个项目都有自己的命名空间、文件夹结构和页面。仍然由于身份验证和授权是共享的，我们在所有项目中使用登录和其他页面。

此外，为了使项目/产品的外观和感觉统一，我们使用相同的母版页。

目前我们有一个单独的项目，其中包含用于共享事物的代码、标记和脚本等。我们将标记和其他内容复制到所有项目中以构建和运行它们。这真是一个地狱。我们必须始终包含/排除文件、更改命名空间等，以确保所有依赖项目中共享的东西都是相同的版本。

以我们不寻求庇护的方式处理这一切的最佳方法是什么？

我们正在使用 ASP.Net 4.0、Visual Studio 2010、Telerik 2013 Q1 版本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T17:44:00.460

您有多种选择来改善您的情况。最适合您的选择可能不仅仅取决于您提供的信息，但以下可能值得调查。

1.  **解耦授权系统。**如果多个应用程序使用单一的通用授权代码库，那么您可能需要考虑将功能解耦到一个独立的（可能基于 Web 服务的）应用程序中。通过这样的架构进行授权很棘手，并且从安全的角度来看很容易出错，但是是可以实现的。授权代码库将只需要维护在一个位置，这将不可避免地减少部署和构建事故。

2.  **扩展配置管理。**您的应用程序是否具有任何配置管理功能？如果没有，它应该。它可以很好地解决您在包含和排除以及命名空间切割方面的问题，尤其是与第 3 点结合使用时。

3.  **改进的版本控制管理。**听起来好像您可能没有充分利用您的版本控制系统。尽管您在问题中提到了版本，但如果您为不同的应用程序维护一个公共主干的不同分​​支，那么命名空间以及包含和排除的分割可能会减少甚至没有必要，因为定制可以共存。

# java - 泰卢固语字体（泰卢固语连词）在 Android 2.2 中无法正常工作

> ID：15805963
> 
> 赞同：1
> 
> 时间：2013-04-04T08:20:06.163
> 
> 标签：java, android, localization, rendering

我正在尝试在我的应用程序中显示泰卢固语字体。代码

```
Typeface Telugu;
Telugu = Typeface.createFromAsset(getAssets(),"fonts/withG.ttf");
TextView tt = (TextView)findViewById(R.id.label);
tt.setTypeface(Telugu);
tt.setText("Some telugu text"); 
```

这在 Android 4.2 中运行良好。但是在 Android 2.2 中运行应用程序时，连词不能正确呈现。

小伙伴们知道该怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T10:42:32.893

旧版本的 android 支持的语言很少。像 2.2 版只有 26 种语言支持，它们在 2.3 中翻了一番，并随着更多即将发布的版本进一步增加。

[http://www.talkandroid.com/22956-android-2-3-gingerbread-doubles-language-support-from-2-2-froyo/](http://www.talkandroid.com/22956-android-2-3-gingerbread-doubles-language-support-from-2-2-froyo/)

这是因为 2.2 中缺乏支持，所以渲染不正确。

# .htaccess - 动态 URL 重定向 htaccess

> ID：15805968
> 
> 赞同：1
> 
> 时间：2013-04-04T08:20:28.600
> 
> 标签：.htaccess, redirect

首先，我检查了有关该主题的较早问题，但仍然无法正常工作。

我基本上想要：

[http://example.com/example/?test=3](http://example.com/example/?test=3)重定向到[http://www.yahoo.com](http://www.yahoo.com)

我有：

```
# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /example/
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /example/index.php [L]

RewriteCond %{QUERY_STRING} ^test=3$  [NC]
RewriteRule ^/example/index\.php$ http://www.yahoo.com [L,R=301]
</IfModule> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T13:56:24.290

将这些行放在 RewriteBase 行的下方：

```
RewriteCond %{QUERY_STRING} ^test=3$  [NC]
RewriteRule ^example/(index\.php|)$ http://www.yahoo.com? [L,R=301,NC] 
```

并在 Wordpress 规则下方注释掉您的 2 行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:41:06.060

啊，是的，我忘记了我已经声明了重写基础。所以，它应该是：

`RewriteRule ^/index\.php$`代替`RewriteRule ^/example/index\.php$`

解决了。

# java - 数据输入流

> ID：15805971
> 
> 赞同：0
> 
> 时间：2013-04-04T08:20:40.873
> 
> 标签：java, sockets, datainputstream, dataoutputstream

我在服务器端有这个代码：

服务器端：

```
 ServerSocket listenTransferSocket = new ServerSocket(6000);
          Socket connectionTransferSocket = listenTransferSocket.accept();

     DataOutputStream outTransferToClient =
         new DataOutputStream(connectionTransferSocket.getOutputStream());
        {
    .......................   (Some code)
    .......................
           }
    outTransferToClient.write(fileInBytes,0,numOfBytes);
           System.out.println("File send");
       **// outTransferToClient.close();**

        BufferedReader inFromClientR =
                 new BufferedReader(new InputStreamReader(connectionTransferSocket.getInputStream())); 
```

客户端：

```
Socket fileTransferSocket = new Socket("localhost",6000);
     DataInputStream in = new DataInputStream(new BufferedInputStream(
                                                 fileTransferSocket.getInputStream()));

OutputStream out = new FileOutputStream(new File("./TransferedFiles/"+fileName));

byte[] by = new byte[numOfBytes];

while ((read = in.read(by, 0, numOfBytes)) != -1) {

       out.write(by,0,read); 
   }

  DataOutputStream outToServerR = 
       new DataOutputStream(fileTransferSocket.getOutputStream()); 
     System.out.println("checkC");
        outToServerR.writeBytes("Transfer completed \n"); 
```

如果我关闭它，当我尝试打开 BufferedReader 时出现以下异常：outTransferToClient.close();

```
Exception in thread "main" java.net.SocketException: Socket is closed
        at java.net.Socket.getInputStream(Socket.java:788)
        at Server.main(Server.java:92) 
```

如果我没有客户端的while循环永远不会停止..有什么帮助吗？？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:23:47.943

`close()`DataOutputStream 扩展了具有方法的 FilterOutputStream

来自[文档](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/FilterOutputStream.html#close%28%29)

```
Closes this output stream and releases any system resources associated with the stream.
The close method of FilterOutputStream calls its flush method, and then calls the close method of its underlying output stream. 
```

另外，在 finally 块中使用 close() 之类的方法总是一个很好的做法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:25:54.407

是的，关闭 a也会`DataOutputStream`关闭底层证券`OutputStream`。状态的 Javadoc [`DataOutputStream#close()`](http://docs.oracle.com/javase/7/docs/api/java/io/FilterOutputStream.html#close%28%29)：

> FilterOutputStream 的 close 方法调用其 flush 方法，然后调用其底层输出流的 close 方法。

另外，[Javadoc for`Socket`](http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html)声明当您关闭`Socket`s`inputStream`或`outputStream`时，它也会关闭关联的套接字。

`DataOutputStream`因此，在关闭包装其任何一个流的内容后，您将无法重用该套接字。

# opencv - OpenCV 中的 FeatureDetector 与 FeatureFinder

> ID：15805972
> 
> 赞同：7
> 
> 时间：2013-04-04T08:20:41.077
> 
> 标签：opencv, feature-detection, surf

我试图了解[`FeatureDetector`](http://docs.opencv.org/modules/features2d/doc/common_interfaces_of_feature_detectors.html)班级和[`FeatureFinder`](http://docs.opencv.org/modules/stitching/doc/matching.html#detail-featuresfinder)班级之间的区别。我已经看到用 OpenCV 编写的全景图示例同时使用了这两个类，并且似乎可以将 SURF 算法与任何一个类一起使用。据我了解，由于 SURF 算法可能存在问题，`SURF FeatureDetector`因此移至`/nonfree`该算法，但`FeatureFinder`也可以使用该`SURF`算法。

这两个类有什么区别？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T12:47:24.243

FeatureFinder 可以使用 SURF 算法，因为它是使用 FeatureDetector 实现的。无论您使用哪种，您实际上都获得了相同的 SURF 实现，只是界面不同。

FeatureFinder 具有与拼接管道兼容的接口，而 FeatureDetector 具有与 2d 特征框架相匹配的接口。

# clojure - fn 调用不会在编译时执行

> ID：15805973
> 
> 赞同：1
> 
> 时间：2013-04-04T08:20:50.777
> 
> 标签：clojure

我在一个 ns 中定义了以下内容 -

有一个服务原子，还有另一个要添加到该原子的函数 -

```
(ns ex.first)

(def services (atom []))

(defn add-service
  [fns]
  (swap! services conj fns)) 
```

在另一个ns的代码中，我这样做-

```
(ns ex.second ..)

(add-service [fn1 fn2 fn3]) 
```

1）我假设当我运行编译代码的repl时，它应该将向量添加到原子。但是，当我评估`@services`它时，它会返回`[]`。

2）如果我`(add-service [fn1 fn2 fn3])`在repl中评估，上述方法有效。

3）我也尝试使用将`add-service`fn 转换为宏。但是我仍然发现它`@services`是空的。

因此，如果有人可以帮助解决这些问题，我们将不胜感激-

1）为什么 add-service 调用在代码编译时不向原子添加向量 -

*   `add-service`被定义为一个`fn`。
*   `add-service`被定义为一个`macro`。

2）我如何使它工作:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T08:57:05.440

这取决于您是否已`:aot`在`:all`project.clj 中设置。

如果`:aot`是`:all`，则函数调用将在 repl 启动后立即执行，否则您将需要加载`ex.second`命名空间（例如： using `use`）。加载将导致ns被编译并在jvm中加载相应的类并执行函数调用。

此外，函数调用不会发生在**编译时**，它发生在 jvm 加载编译的类（代表命名空间）时。

**更新（基于评论）：**

如果你把它变成一个宏，那么你也需要考虑 aot 的东西。

如果 aot 被设置为编译命名空间，那么 lein 会创建一个 jvm，在其中加载你的代码，调用 clojure 编译器，它会读取代码，执行宏并编译代码，此时这个 jvm（用于编译你的代码）将有`services`原子填充的宏执行，但这个jvm仅用于编译。然后 lein 将为运行命令创建另一个 jvm 并在该 jvm 中加载已编译的类，但是这个 jvm 不会`services`填充，因为类没有任何代码来填充它。

如果未设置 aot，则宏将起作用，因为读取、宏扩展、编译过程将在 lein *run* jvm 中发生，但仅当您导致加载 ns 时才会发生。

就“不加载 ns”而言，您可以做的是将project.clj`ex.second`中的`:aot`

# javascript - 密码破译错误

> ID：15805975
> 
> 赞同：1
> 
> 时间：2013-04-04T08:20:57.313
> 
> 标签：javascript, node.js, cryptography, node-modules, node-crypto

为什么以下代码会在加密中引发 DecipherFinal 错误 -

```
 var crypto = require('crypto');
  c=new Date;
  x= (c.getTime()+"."+c.getMilliseconds()).toString()+".uIn";
  key = 'sevsolut'
        , plaintext = x
        , cipher = crypto.createCipher('aes-256-cbc', key)
        , decipher = crypto.createDecipher('aes-256-cbc', key);
  cipher.update(plaintext, 'utf8', 'base64');
  var encryptedPassword = cipher.final('base64')

  decipher.update(encryptedPassword, 'base64', 'utf8');
  var decryptedPassword = decipher.final('utf8');

  console.log('encrypted :', encryptedPassword);
  console.log('decrypted :', decryptedPassword); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T09:03:11.873

您需要从更新中获取输出：

```
var crypto = require('crypto');
c=new Date();
x= (c.getTime()+"."+c.getMilliseconds()).toString()+".uIn";
key = "sevsolut"
      , plaintext = x
      , cipher = crypto.createCipher('aes-256-cbc', key)
      , decipher = crypto.createDecipher('aes-256-cbc', key);
var encryptedPassword = cipher.update(plaintext, 'utf8', 'base64');
encryptedPassword += cipher.final('base64')

var decryptedPassword = decipher.update(encryptedPassword, 'base64', 'utf8');
decryptedPassword += decipher.final('utf8');

console.log('encrypted :', encryptedPassword);
console.log('decrypted :', decryptedPassword); 
```

# java - 如何在 Java 中使用 JSOUP 获取 DOM 树中任何网页的动态内容

> ID：15805976
> 
> 赞同：2
> 
> 时间：2013-04-04T08:20:58.460
> 
> 标签：java, html, algorithm, dom, jsoup

在我的项目中，它解析 HTML 页面，然后使用 DOM 树进行不同的操作，就像比较两个 URL 的模板一样。

为此，我正在使用**JSOUP**。

但它不能在 DOM 树中加载动态内容。

你能告诉我如何在 Java 中使用 JSOUP 加载动态内容，或者你能告诉我任何其他方法吗？

**编辑编号 1**

如[给定的链接](https://stackoverflow.com/questions/12625043/getting-jsoup-to-support-dynamically-generated-html-by-javascript)所示，它在 Java 中使用**PhantomJS**和**Zombie.js工作。**你能告诉我我该怎么做吗？

**编辑第 2 号**

我首先尝试使用 Selenium 获取动态页面，代码如下，

```
public static void main(String[] args) throws IOException {

 // Selenium
 WebDriver driver = new FirefoxDriver();
 driver.get("ANY URL HERE");  
 String html_content = driver.getPageSource();
 driver.get("ANOTHER URL HERE");
 String html_content1 = driver.getPageSource();
 driver.close();

 // Jsoup makes DOM here by parsing HTML content
 Document doc1 = Jsoup.parse(html_content);
 Document doc2 = Jsoup.parse(html_content1);

 // OPERATIONS USING DOM TREE
} 
```

但这在优化后也需要很多时间。现在按照您的指示，我搬到了 HtmlUnit。但是我无法编写代码，将 Dynamic Page 源代码转换为 String ，然后我使用此 String 使用 Jsoup 进行进一步配对，帮助我使用 HtmlUnit 编写该代码。

*使用 HtmlUnit 的代码*：-

```
package XXX.YYY.ZZZ.Template_Matching;

import com.gargoylesoftware.htmlunit.WebClient;
import com.gargoylesoftware.htmlunit.html.HtmlPage;
import org.junit.Assert;
import org.junit.Test;

/**
 *
 * @author jhamb
 */
public class HtmlUnit {

    @Test
    public void homePage() throws Exception {
        final WebClient webClient = new WebClient();
        final HtmlPage page = webClient.getPage("http://www.jabong.com/Yepme-3-4Th-Sleeve-Printed-Blue-Top-Mksp-191481.html");

        Document ht = page.getOwnerDocument();
        System.out.println(ht);

        webClient.closeAllWindows();
    }

    public static void main(String[] args) throws Exception {
        HtmlUnit htmlUnit = new  HtmlUnit();
        htmlUnit.homePage();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:40:15.267

恐怕，JSoup 在这种情况下不起作用。

尝试使用 HtmlUnit。

# ios - 我是否在我的核心数据模型中滥用了 NSString/NSMutableString？

> ID：15805977
> 
> 赞同：1
> 
> 时间：2013-04-04T08:21:09.413
> 
> 标签：ios, objective-c, core-data, nsstring

我正在遍历针对核心数据存储的获取请求的结果。对于结果列表中的每个对象，我正在读取几个字符串类型的属性并将它们连接成一个字符串（作为 CSV 格式文件输出）。

我的数据集中一条特定记录的一个特定字符串给我带来了麻烦：无关字符（汉字、阿拉伯文等）附加到字符串的末尾，它没有正确附加到我的结果字符串，我的 CSV 文件格式是软管。

这是我用于循环获取结果并附加字符串的代码：

> ```
> NSMutableString *reportString = [[NSMutableString stringWithFormat:@"...\n"];
> for (int s = 0; s < [frc.sections count]; s++) {
>     for (int r = 0; r < [[frc.sections objectAtIndex:s] numberOfObjects]; r++) {
>         NSIndexPath *i = [NSIndexPath indexPathForRow:r inSection:s];
>         Thread *thread = [frc objectAtIndexPath:i];
>         NSMutableString *activity = [NSMutableString stringWithString:[thread activity]];
>         .
>         .
>         .
>         [reportString appendString:activity];
>         [reportString appendFormat:@",%@\n", client];
>     }
> } 
> ```

我在这里使用*stringWithString*，但我也使用了其他几个字符串方法，结果相似，损坏。有一次，出现了阿拉伯字母。还有一次，它是**"...random...FSO_CARRIER_ATT@2X.png"**。我也尝试过使用单独的获取结果数组（而不是获取结果控制器）。

![](https://i.stack.imgur.com/PBVY4.png)

一件奇怪的事情是，当我从 lldb执行**PO时，字符串会正确显示。**这可以解释为什么这种“腐败”没有出现在我的表格视图中，就在我试图将字符串混合在一起时。

## 我的问题

我是否从核心数据模型中错误地复制了字符串值并导致这种情况发生？有没有我错过的技术？

## 更新：

监视变量与值的 NSLog 的屏幕截图：

![截图 2](https://i.stack.imgur.com/Jeuul.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T09:36:38.627

正如我在评论中提到的，事实证明这是一个字符串编码/解码问题。

我提出了一个更有针对性的问题（[如何在我的 NSString 中正确编码 Unicode 字符？](https://stackoverflow.com/questions/16078747/how-do-i-properly-encode-unicode-characters-in-my-nsstring/16079100?noredirect=1#16079100)）并很快得到了答案。

基本上，我使用了正确的字符串操作方法，这里的每个人都同意。最后，我用来将 CSV 文件附加到电子邮件的编码参数不正确。同时，Xcode 中变量窗格和 lldb 窗格之间的差异似乎是一个合法的错误。我将为此提交一份错误报告。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T13:53:55.827

我会将整个迭代代码放入一个串行后台线程中。输入顺序的损坏肯定与线程相互竞争有关。您仍然可以使用单独的线程，但您必须确保它们是串行执行的，即一个线程等待先前调度的线程完成。

在 Grand Central Dispatch 中，这将是一个类似的线程

```
dispatch_queue_t serialThread = 
   dispatch_queue_create("serialThread", DISPATCH_QUEUE_SERIAL); 
```

您还可以将托管对象上下文与

```
[context performBlockAndWait:...]; 
```

# twitter-bootstrap - 字体真棒图标在 chrome 中显示为正方形？

> ID：15805978
> 
> 赞同：11
> 
> 时间：2013-04-04T08:21:10.483
> 
> 标签：twitter-bootstrap, font-awesome

我正在尝试在按钮中使用字体很棒的图标。该图标在 Firefox 中工作正常，但是当我在 chrome 中使用它时，它显示为一个正方形。我环顾四周，唯一发现的是字体的路径可能不正确，但是我已经在[这里](http://www.bootstrapcdn.com/?v=01042013155511#tab_fontawesome)尝试了 cdn 版本，它仍然可以在 Firefox 中运行，但不能在 chrome 中运行。

此外，我在我的计算机上的静态 html 文件中尝试了相同的样式表，它工作正常。

以下是使用的 html 示例：

```
<a id="btnLogin" href="url.com" class="btn btn-primary btn-large disabled">
    <i class="icon-refresh icon-white"></i> 
    Sign in using Facebook
</a> 
```

此外，Web 应用程序是使用 Rails 构建的，并且使用引导程序作为模板。

关于可能导致这种情况的任何想法？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-10-25T00:18:00.743

我遇到过同样的问题。但我很容易就修好了。

在 Font Awesome 中，字体文件必须放在“**字体**”目录中，而不是以前版本中的“**字体**”目录。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-09-17T08:54:49.183

如果你把所有东西都放在了正确的位置（你甚至检查了 css 以确保路径是正确的，并且你想知道是否需要一个 js 文件），请尝试查看你的 HTML：

```
 <i class="fa-users"></i> 
```

这将显示问题中提到的带有数字/字母的正方形（而不是图标）。

```
 <i class="fa fa-users"></i> 
```

这将显示您的图标！请记住，在 4.2.0 版本中，您必须添加**fa**类！

希望能帮助到你！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-08-13T21:25:36.503

上面的答案是正确的，但我想进一步澄清一步，因为我认为字体真棒页面上的入门并不清楚。我添加了 min.css 样式表并在我的页面的头部链接到它。您还需要获取五个字体文件并将它们放在项目的“字体”文件夹中。应该有五个文件，它们将以：

.eot .svg .ttf .woff .otf

我在这里从 github 检索了文件：[https ://github.com/FortAwesome/Font-Awesome](https://github.com/FortAwesome/Font-Awesome)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-03-06T08:19:03.887

我有同样的问题，最后我发现了问题所在。这是因为我已经`font-family`将标签覆盖`<i>`到了别的东西上。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-10-08T15:56:38.207

对我来说，这个问题是由于我的一个 CSS 文件中的杂散数字 4 造成的。

我把头发拉出来并使用了所有的修补程序都无济于事，但是在打开一个完全不相关的 CSS 文件并在文档末尾找到数字 4 并将其删除后它工作得很好。

所以检查每个 CSS 文件是否有杂散字符。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-08-30T10:09:01.290

很晚的答案，但这可能会帮助那里的另一个兄弟！

我发现这种行为是通过没有 display: block; 来解决的。在 i/.fa 元素上。

.fa 是标准的 inline-block 但我将其更改为 block 以更好地兼容旧浏览器，但它必须是 inline-block 或其他类似的东西。

希望它可以帮助那里的人！

# optimization - 寻找一种有效的结构来检查哪些圆圈包围了一个点

> ID：15805979
> 
> 赞同：3
> 
> 时间：2013-04-04T08:21:10.543
> 
> 标签：optimization, f#, computational-geometry, delaunay

我有一大组重叠的圆圈，每个圆圈都位于具有特定半径的随机位置。

```
type Circle =
    struct 
      val x: float
      val y: float
      val radius: float
    end 
```

给定一个带有类型的新点

```
type Point =
    struct
      val x: float
      val y: float
    end 
```

我想知道我的集合中的哪些圆圈包围了新点。线性搜索是微不足道的。我正在寻找一种结构，它可以容纳圆圈并返回比 O(N) 更好的封闭圆圈。

理想情况下，该结构应该能够快速插入新圆圈和移除圆圈。

我想在 F# 中实现它，但任何语言的想法都可以。

为了您的信息，我正在寻找实施

[http://takisword.wordpress.com/2009/08/13/bowyerwatson-algorithm/](http://takisword.wordpress.com/2009/08/13/bowyerwatson-algorithm/)

但如果我使用简单的方法扫描所有圆圈以查找每个新点，那将是 O(N^2)。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T09:03:50.897

四叉树是一种高效平面搜索的结构。您可以使用它来保持平面的细分。

例如，您可以创建具有以下属性的四叉树： 1\. 四叉树的每个单元格都包含圆圈的索引，并与其重叠。2\. 每个单元格包含不超过 K 个圆圈（例如 10 个）// 可能会损坏 3\. 树的高度以 M 为界（通常为 O(log n)）

您可以通过迭代重叠的单元格来构造四叉树，如果单元格内的圆数超过 K，则将该单元格细分为四个（如果不超过最大高度）。如果单元格在圆圈内，也应该考虑一些事情，因为它的细分是没有意义的。

查找圆时，您应该定位四叉树，然后遍历重叠的圆并找到包含点的圆。

在稀疏圆分布的情况下搜索将非常有效。

*我有一个学士论文，我在其中调整了四叉树，用于最近的段位置，预期时间为 O(log n)，我认为可以在这里使用类似的方法*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T09:01:21.990

如果我们假设圆分布在某个面积为矩形的矩形上，`1`而一个圆的平均面积是`a`一个四叉树，那么带有`m`层的四叉树将为您留下一个大小为 的面积`1/2^m`。这离开

`O(Na/2^m)`

作为剩余区域中剩余的预期圆圈数。

但是，我们已经进行了`O(log(m))`比较以达到这一点。这使得比较的总数为

`O(log(m)) + O(N/2^m)`

`log(m)`如果与 成比例，则第二项将是常数`N`。

这表明四叉树可以将事物缩减到`O(log n)`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T13:14:32.393

实际上，您搜索其外接圆包含新点 p 的三角形。因此，您的 Delaunay 三角剖分已经是您需要的数据结构：首先搜索包含 p 的三角形 t（谷歌搜索“delaunay walk”）。t 的外接圆当然包括 p。然后从 t 开始，增大外接圆包括 p 的三角形的（连通）面积。

以快速可靠的方式实施它需要大量工作。除非您想创建一个新库，否则您可能需要使用现有库。我的 C++ 方法是 Fade2D [1]，但还有许多其他方法，这取决于您的具体需求。

[1] [http://www.geom.at/fade2d/html/](http://www.geom.at/fade2d/html/)

# asp.net-mvc - 从扩展 Apicontroller 的 MVC 控制器返回 Json

> ID：15805995
> 
> 赞同：6
> 
> 时间：2013-04-04T08:21:46.317
> 
> 标签：asp.net-mvc, json

我正在尝试从 WebAPI 应用程序中的 MVC 控制器返回 Json 字符串，但无法使用`return Json(...`，因为正在使用的类扩展`ApiController`而不是`Controller`（我相信）。

是否有另一种方法可以做我想做的事情（例如返回不同的类型）？还是解决方法？

这是我的控制器代码：

```
public class SocialController : ApiController 
{
    public ActionResult Get(SocialRequest request) // or JsonResult?
    {
        JavaScriptSerializer js = new JavaScriptSerializer();
        string jsontest = js.Serialize(request); // just serializing back and forth for testing

        return Json(jsontest, JsonRequestBehavior.AllowGet);
    }
} 
```

我收到的错误是**“System.Web.Helpers.Json 是一种类型，但用作变量。”**

我找到了以下相关的 SO 问题，但它并没有为我解决，如果有人能详细说明，我将非常感激（并提出代表点）： [Why Json() Function is unknown](https://stackoverflow.com/questions/7088736/why-json-function-is-unknown)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-04T08:37:32.557

在 Asp.net Web Api 中，您不再有 ActionResults。您只需返回所需的对象。框架将对象转换为正确的响应（json、xml 或其他类型）

```
[HttpGet]
public IEnumerable<string> GetUsers(SocialRequest request)
{
    return _applicationsService.GetUserss(request);
} 
```