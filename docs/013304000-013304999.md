# StackOverflow 问答 13304000-13304999

# c++ - remove_pointer + typename 是错误的

> ID：13304001
> 
> 赞同：0
> 
> 时间：2012-11-09T07:38:14.263
> 
> 标签：c++, gcc, c++11

我不确定为什么我在这条线上遇到错误。

我正在编译

```
$CPP -g -std=c++0x -Wall 
```

其中 $CPP 是 g++-4.7。我包括 type_traits （C++ 11，不是 boost）。这在 4.7.2 中还不支持吗？

```
typedef typename remove_pointer<typename T>::type &U; 
```

错误

```
file.h:222:44: error: template argument 1 is invalid
file.h:222:19: error: expected nested-name-specifier
file.h:222:47: error: typedef name may not be a nested-name-specifier
file.h:222:47: error: expected ‘;’ at end of member declaration
file.h:222:53: error: ISO C++ forbids declaration of ‘U’ with no type [-fpermissive] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T09:45:57.993

`typename`in`typename T`不正确；`typename`仅用于从属名称。写：

```
typedef typename remove_pointer<T>::type &U; 
```

# jsf-2 - 如何将 xhtml 页面重定向到同一个 Request Scoped Bean？

> ID：13304003
> 
> 赞同：1
> 
> 时间：2012-11-09T07:38:18.467
> 
> 标签：jsf-2, primefaces

由于 bean 在请求范围内，重定向创建一个新实例。如果我尝试将 bean 放在 View Scope 中，那么我会得到错误属性名称被引用到比目标视图更窄的对象。

我正在显示一棵树，当用户单击树节点（例如第二个节点）时，与该节点对应的值将显示在下一页上。

```
@ManagedBean
@RequestScoped
public class ThreeSixtyDegreeBean implements Serializable {
    /**
     * 
     */
    private static final long serialVersionUID = 1L;
    @ManagedProperty(value="#{param.name1}")
    private String name;
    private String type;
    private String typeName;

    private List<AttributeDetails> attributeList;
    private List<Entity> entityList;
    private boolean rendered;
    private TreeNode root;
    private TreeNode selectedNode;

public void onNodeSelect() {

*selecting Data of the Node selected* 

                String a=fetchData();

                try {
            FacesContext.getCurrentInstance().getExternalContext()
                    .redirect(a);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

} 
```

`a`xhtml页面的名称在哪里。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T00:37:04.817

您可以将您的内容存储在新的 JSF 2 Flash Scope 中，以在请求之间存储属性。你`onNodeSelect()`现在看起来像这样：

```
 public void onNodeSelect() {

      *selecting Data of the Node selected* 
     FacesContext context = FacesContext.getCurrentInstance();
     Flash flash = context.getCurrentInstance().getExternalContext().getFlash(); //prepare jsf flash scope, to store user data pojo for the next view
     flash.putNow("myData", fetchData());
     try {
        FacesContext.getCurrentInstance().getExternalContext()
                .redirect(a);
       } catch (IOException e) {
           e.printStackTrace();
    }
}
} 
```

`#{flash}`然后，在目标页面上，您可以使用EL 表达式检索存储在闪存范围中的数据。它本质上是一个`Map`，所以您只需使用您存储的值的键（我上面使用的示例中的“myData”）。要访问它，请使用

```
 #{flash.myData.someMemberVariable} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T11:14:05.797

视图范围也不起作用。只要您回发到相同的视图，它就会一直存在。重定向基本上会创建一个全新的 GET 请求，并且还会重新创建视图范围。

在这种特殊情况下，最好在重定向请求中执行数据初始化，而不是在回发请求中。您可以通过创建一个普通的 GET 链接来做到这一点，您可以在其中将必要的信息作为请求参数传递。像这样的东西：

```
<h:link value="#{node.name}" outcome="#{node.viewId}">
    <f:param name="someId" value="#{node.someId}" />
    <f:param name="name1" value="#{param.name1}" />
</h:link> 
```

然后在与重定向页面关联的请求范围 bean 中，您可以使用`@ManagedProperty`甚至`<f:viewParam>`将请求参数设置为模型值。

### 也可以看看：

*   [JSF 2.0 中的通信 - 处理 GET 请求参数](http://balusc.blogspot.com/2011/09/communication-in-jsf-20.html#ProcessingGETRequestParameters)

# php - 修改表中的一行并将更改保存到数据库中

> ID：13304004
> 
> 赞同：0
> 
> 时间：2012-11-09T07:38:26.017
> 
> 标签：php, symfony, doctrine

我想通过href链接修改一列，我可以更改但此更改不会保存在可以帮助我的数据库中？在我的控制器中：

```
public function updateAlertesAction()
{  
   $date=$this->getRequest()->query->get('date');
   $CI=$this->getRequest()->query->get('CI');
   $cell=$this->getRequest()->query->get('cell');

   $kpi_name=$this->getRequest()->query->get('cmts');

   $KPI = $this->getDoctrine()
               ->getEntityManager()
               ->getRepository('AdminBlogBundle:StatAlert')
                ->findBy(array('cell' => '$idKPI', 'ci' => '$CI', 'dat' => '$date'));

         $KPI->setCmts($kpi_name);
         $em = $this->getDoctrine()->getEntityManager();
         $em->persist($KPI);
         $em->flush();

     return new Response ($kpi_name.' Updaate Ok : '.$KPI->getCmts());
} 
```

他显示此错误消息

> **致命错误：在第****44**行对**D:\EasyPHP-5.3.3.1\www\alerteurs1\vendor\doctrine-dbal\lib\Doctrine\DBAL\Types\DateType.php**中的非对象调用成员函数 format()

 **如果我替换搜索 ->find(array('cell' => 'TUN1196S1')); 我有警告：array_combine() [function.array-combine]：两个参数在 D:\EasyPHP-5.3.3.1\www\alerteurs1\vendor\doctrine\lib\Doctrine\ORM\EntityRepository 中应该有相同数量的元素。第 126 行

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:27:36.437

也许你的 $date 应该是一个`\Datetime`对象？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:30:21.037

我认为您应该在数组声明中删除变量周围的单引号：

```
->findBy(array('cell' => '$idKPI', 'ci' => '$CI', 'dat' => '$date')); 
```

应该看起来像：

```
->findBy(array('cell' => $idKPI, 'ci' => $CI, 'dat' => $date)); 
```**

# java - 更新 Sql Server 2008 中的准备好的语句

> ID：13304005
> 
> 赞同：0
> 
> 时间：2012-11-09T07:38:26.403
> 
> 标签：java, sql-server-2008, jakarta-ee, prepared-statement, updates

我正在尝试从我的 Java 类更新表。

```
con.prepareStatement("update New_Test_Master_School set School_Name=? where School_Code=? ");
ps.setString(1, bean.getSname());
ps.setString(2, bean.getScode());
System.out.println("before executeUpdate");
int i=ps.executeUpdate(); 
```

但是`executeUpdate()`没有执行。我使用 if 条件来检查它。它没有执行。我得到了 bean 的值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T07:40:35.680

`executeUpdate`返回一个整数值，它是成功更新的行数。所以，让你的 LHS 成为整数类型：-

```
int result = ps.executeUpdate(); 
```

# c#-4.0 - MvcSiteMap 可定制

> ID：13304008
> 
> 赞同：1
> 
> 时间：2012-11-09T07:38:40.120
> 
> 标签：c#-4.0, asp.net-mvc-4, mvcsitemapprovider

我一直在环顾四周，但我没有找到我的问题的答案。

我想要这样的菜单：

1.  家
2.  管理（不可点击）
    *   人员
    *   假期

当我单击人员项目时，我想显示以下内容：

1.  家
2.  管理
    *   人员
        *   创建新的

当我单击主页项时，我会返回显示第一个菜单的索引页面。单击 Holiday-item 将显示如下菜单：

1.  家
2.  管理
    *   节假日
        *   创建新的

我的视图在一个项目中，而我的控制器在另一个项目中。我似乎无法让它工作。

这是我的站点地图：

```
<?xml version="1.0" encoding="utf-8" ?><mvcSiteMap xmlns="http://mvcsitemap.codeplex.com/schemas/MvcSiteMap-File-3.0" enableLocalization="true">
<mvcSiteMapNode title="Home" controller="Home" action="Index">
    <mvcSiteMapNode title="Administration" clickable="false">
        <mvcSiteMapNode title="Employee" controller="Personnel" action="Index">
            <mvcSiteMapNode title="New Employee" controller="Personnel" action="Create"/>
        </mvcSiteMapNode>
        <mvcSiteMapNode title="Holiday" controller="Holidays" action="Index">
            <mvcSiteMapNode title="New Holiday" controller="Holidays" action="HolidayNew"/>
        </mvcSiteMapNode>
    </mvcSiteMapNode>
</mvcSiteMapNode> 
```

我的 web.config：

```
<siteMap defaultProvider="MvcSiteMapProvider" enabled="true">
      <providers>
        <clear />
        <add name="MvcSiteMapProvider" 
             type="MvcSiteMapProvider.DefaultSiteMapProvider, MvcSiteMapProvider" 
             siteMapFile="~/Mvc.Sitemap" 
             securityTrimmingEnabled="true" cacheDuration="5" enableLocalization="true" 
             scanAssembliesForSiteMapNodes="true" includeAssembliesForScan="" 
             excludeAssembliesForScan="" 
             nodeKeyGenerator="MvcSiteMapProvider.DefaultNodeKeyGenerator, MvcSiteMapProvider" 
             controllerTypeResolver="MvcSiteMapProvider.DefaultControllerTypeResolver, MvcSiteMapProvider" 
             actionMethodParameterResolver="MvcSiteMapProvider.DefaultActionMethodParameterResolver, MvcSiteMapProvider" 
             aclModule="MvcSiteMapProvider.DefaultAclModule, MvcSiteMapProvider" 
             siteMapNodeUrlResolver="MvcSiteMapProvider.DefaultSiteMapNodeUrlResolver, MvcSiteMapProvider" 
             siteMapNodeVisibilityProvider="MvcSiteMapProvider.DefaultSiteMapNodeVisibilityProvider, MvcSiteMapProvider" 
             siteMapProviderEventHandler="MvcSiteMapProvider.DefaultSiteMapProviderEventHandler, MvcSiteMapProvider" />
      </providers> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T10:03:08.323

您将需要修改 MVCSiteMap DisplayTemplates - 这使您可以细粒度地控制菜单的显示方式。本教程可能会有所帮助：[http ://edspencer.me.uk/2011/09/20/mvc-sitemap-provider-tutorial-2-breadcrumbs/](http://edspencer.me.uk/2011/09/20/mvc-sitemap-provider-tutorial-2-breadcrumbs/)

**更新**

这是一个帮助您入门的示例。

**mvc.sitemap**

```
<mvcSiteMapNode title="RootNode" controller="Home" action="Index">
  <mvcSiteMapNode title="Home" controller="Home" action="Index"/>
  <mvcSiteMapNode title="Administration" clickable="false">
    <mvcSiteMapNode title="Personnel" controller="Home" action="Personnel">
      <mvcSiteMapNode title="New Personnel" controller="Home" action="PersonnelNew"/>
    </mvcSiteMapNode>
    <mvcSiteMapNode title="Holiday" controller="Home" action="Holiday">
      <mvcSiteMapNode title="New Holiday" controller="Home" action="HolidayNew"/>
    </mvcSiteMapNode>
  </mvcSiteMapNode>
  <mvcSiteMapNode title="About" controller="Home" action="About"/>
</mvcSiteMapNode> 
```

**SiteMapHelperModel.cshtml**

```
<ul class="siteMap">
    @foreach (var node in Model.Nodes) {
        if (node.IsRootNode)
        {
            foreach (var menu in node.Children)
            {
                <li>@Html.DisplayFor(m => menu) 
                    @if (menu.IsInCurrentPath || menu.IsCurrentNode)
                    {
                        if (menu.Children.Any())
                        {
                            @Html.DisplayFor(m => menu.Children)
                        }
                    }
                    else
                    {
                        foreach (var child in menu.Children)
                        {
                            @Html.DisplayFor(m => child)
                        }
                    }
                </li>
            }
        }
    }
</ul> 
```

**SiteMapNodeModelList.cshtml**

```
<ul>
    @foreach (var node in Model) {
        if (node.IsCurrentNode)
        {
            <li>@Html.DisplayFor(m => node) 
                @foreach (var child in node.Children)
                {
                    @Html.DisplayFor(m => child);
                }
            </li>
        }
        else if (node.IsInCurrentPath)
        {
            <li>@Html.DisplayFor(m => node) 
                if (node.Children.Any())
                {
                    @Html.DisplayFor(m => node.Children)
                }
            </li>
        }
    }
</ul> 
```

**SiteMapNodeModel.cshtml**

```
@if (Model.IsClickable) { 
    <a href="@Model.Url">@Model.Title</a>
} else { 
    <text>@Model.Title</text>
} 
```

现在，当我回家时，菜单呈现为：

```
<ul class="siteMap">
    <li>
        <a href="/">Home</a>
    </li>
    <li>
        Administration
        <a href="/Home/Personnel">Personnel</a>
        <a href="/Home/Holiday">Holiday</a>
    </li>
    <li>
        <a href="/Home/About">About</a>
    </li>
</ul> 
```

当我单击人员菜单项时，我得到：

```
<ul class="siteMap">
    <li>
        <a href="/">Home</a>
    </li>
    <li>
        Administration
        <ul>
            <li>
                <a href="/Home/Personnel">Personnel</a>
                <a href="/Home/PersonnelNew">New Personnel</a>
            </li>
        </ul>
    </li>
    <li>
        <a href="/Home/About">About</a>
    </li>
</ul> 
```

当我点击假日菜单项时，我得到：

```
<ul class="siteMap">
    <li>
        <a href="/">Home</a>
    </li>
    <li>
        Administration
        <ul>
            <li>
                <a href="/Home/Holiday">Holiday</a>
                <a href="/Home/HolidayNew">New Holiday</a>
            </li>
        </ul>
    </li>
    <li>
        <a href="/Home/About">About</a>
    </li>
</ul> 
```

这不会是您想要的确切功能，但希望它足以让您入门。

**更新**

**网页配置**

```
<siteMap defaultProvider="MvcSiteMapProvider" enabled="true">
  <providers>
    <clear />
    <add name="MvcSiteMapProvider"
         type="MvcSiteMapProvider.DefaultSiteMapProvider, MvcSiteMapProvider"
         siteMapFile="~/Mvc.Sitemap"
         securityTrimmingEnabled="true"
         cacheDuration="5"
         enableLocalization="true"
         scanAssembliesForSiteMapNodes="true"
         includeAssembliesForScan=""
         excludeAssembliesForScan=""
         attributesToIgnore="clickable,visibility"
         nodeKeyGenerator="MvcSiteMapProvider.DefaultNodeKeyGenerator, MvcSiteMapProvider"
         controllerTypeResolver="MvcSiteMapProvider.DefaultControllerTypeResolver, MvcSiteMapProvider"
         actionMethodParameterResolver="MvcSiteMapProvider.DefaultActionMethodParameterResolver, MvcSiteMapProvider"
         aclModule="MvcSiteMapProvider.DefaultAclModule, MvcSiteMapProvider"
         siteMapNodeUrlResolver="MvcSiteMapProvider.DefaultSiteMapNodeUrlResolver, MvcSiteMapProvider"
         siteMapNodeVisibilityProvider="MvcSiteMapProvider.DefaultSiteMapNodeVisibilityProvider, MvcSiteMapProvider"
         siteMapProviderEventHandler="MvcSiteMapProvider.DefaultSiteMapProviderEventHandler, MvcSiteMapProvider" />
  </providers>
</siteMap> 
```

# javascript - 如何动态更改表头？

> ID：13304009
> 
> 赞同：0
> 
> 时间：2012-11-09T07:38:40.683
> 
> 标签：javascript, jquery, html, css

我想根据**突出显示的行数据**动态更改表的标题。就像我们假设用户在第一列中选​​择 USA 一样，那么其他列标题应该更改为 USA 内的州。所有国家及其对应的州都在一个**键数组**中，并且基于所选国家*，标题和列数必须*像

```
<tr>
     <th>Alabama</th>
     <th>Alaska</th>
</tr> 
```

这是选择第一行第一列中的 USA 时标题的外观。

```
<tr id="1"><td>USA</td></tr> 
```

当第 2 行 = UK 标题应该是“MOYLE”、“Greater LONDON”等等...

我怎样才能做到这一点 ？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:52:34.100

我假设您希望用户单击表格数据单元格以突出显示？
因为那样会很容易。你给每个 td 一个你在 jQuery 中重新查询的属性，类似于：

```
$('td').click(function(){
    $country = $(this).attr('country');
    $(this).addClass("highlight");
    $('tr.states').empty;
    for each item in $myarrayStates['$country']{
     $('tr.states').append("<td>"&$myarrayStates&"</td>")
    }}); 
```

虽然 html 看起来像

```
<tr class="countries">
    <td country="USA">USA</td>
    <td country="UK">Great Britain</td>
    <td country="DE">Germany</td>
</tr>
<tr class="states">
    <td state="Alabama">Alabama</td>
</tr> 
```

那么剩下的唯一事情就是确保有足够的空间来放置表格，但我把它留给你对不起，如果我错过了重点，但我不太确定你想要它看起来像什么:(

# c# - WCF Web JSON 请求双斜杠

> ID：13304015
> 
> 赞同：2
> 
> 时间：2012-11-09T07:39:01.537
> 
> 标签：c#, json, wcf, slash

我有 WCF 服务，其方法发送路径如下：“C:\asdf\log.log”。

客户端获取“C:\\asdf\\log.log”

问题出在哪里，如何解决？

发送代码

```
MemoryStream stream1 = new MemoryStream();
DataContractJsonSerializer ser =
    new DataContractJsonSerializer(typeof(ConfSettings));
ser.WriteObject(stream1, this);
stream1.Position = 0;
StreamReader sr = new StreamReader(stream1);
string tmp = sr.ReadToEnd();
return (tmp); 
```

重新筛选代码

```
Stream dataStream = response.GetResponseStream();
StreamReader reader = new StreamReader(dataStream);
string responseFromServer = reader.ReadToEnd();
string result = responseFromServer;
string tmp = result
byte[] bytes = new byte[tmp.Length * sizeof(char)];
System.Buffer.BlockCopy(tmp.ToCharArray(), 0, bytes, 0, bytes.Length);
MemoryStream memStream = new MemoryStream(bytes, 2, bytes.Length-4);
DataContractJsonSerializer ser =
    new DataContractJsonSerializer(typeof(ConfSettings));
conf = (ConfSettings)ser.ReadObject(memStream); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T15:53:20.247

接收到的实际值是否带有双斜杠，或者它只是出现在带有双斜杠的调试器中？调试器将显示某些字符的转义序列，包括 \\ 表示 \，但字符串的实际内容将是正确的。

如果问题存在于调试器之外，我需要查看更多代码以排除错误输入是问题的根源。特别是在您的发送代码中，这个和 ConfSettings 的结构是什么？被损坏的属性是否设置正确，或者您是否使用常规字符串文字而不是逐字字符串文字：

```
string rightVal = "C:\\asdf\\log.log";
string wrongVal = @"C:\\asdf\\log.log";
//string rightVal = @"C:\asdf\log.log"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-19T08:39:26.127

问题出在`DataContractJsonSerializer`. 我用它替换它，`JavaScriptSerializer`现在效果很好！感谢您的回答！

# java - 为什么我不能在 Java 中的 char 值之后读取 int 值？

> ID：13304017
> 
> 赞同：1
> 
> 时间：2012-11-09T07:39:10.707
> 
> 标签：java

我创建了一个简单的 Java 应用程序`readLine()`，使用`BufferedReader`. 代码如下：

```
import java.io.*;
class demo_data
{
    public static void main(String hh[])throws Exception
    {
        char c=' ';
        int i=0;
        String name="";
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        System.out.print("Enter char:");
        c=(char)br.read();
        System.out.print("Enter String:");
        name=br.readLine();
        System.out.print("Enter value:");
        i=Integer.parseInt(br.readLine());
        System.out.print("\tChar:"+c+"\tName:"+name+"\tValue:"+i);
    }
} 
```

我的问题是，读取字符值后，字符串语句被跳过，我无法读取变量名的值。如果我读取一个`char`值然后尝试读取`int`值，它会抛出一个`NumberFormatException`. 为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T07:44:01.257

[`BufferedReader#read()`](http://docs.oracle.com/javase/7/docs/api/), 从您的输入中读取单个字符。它不会读取`linefeed`输入末尾的 。

因此，您的换行符将作为`br.readLine`您在`br.read`. 现在，如果您`string`为输入 a `2nd br.readLine`，它实际上是第 3 个。因此那个例外。

因此，您的`name`变量将包含 a `linefeed - \n`，并且您传递的字符串将`name`转到您的`int i`.

**解决方法： -**

尝试在消耗剩余的 linfeed`br.readLine`之后添加一个空：-`br.read()`

```
c=(char)br.read();
br.readLine();  // Add an empty `br.readLine here.
System.out.print("Enter String:");
name=br.readLine(); 
```

或者，您也可以在下面使用[@Peter 的回答](https://stackoverflow.com/a/13304140/1679863)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T07:41:56.233

调用`readLine()`立即返回，因为`newLine`在您输入第一个 之后，它仍然在缓冲区中`char`。

添加一个额外的`br.readLine()`来解决这个问题：

```
 System.out.print("Enter char:");
    c=(char)br.read();
    br.readLine();
    System.out.print("Enter String:");
    name=br.readLine(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T07:48:32.937

阅读 char 后，您必须阅读额外的行，`c=(char)br.read();`因为它读取单个字符。

```
 System.out.print("Enter char:");
    c=(char)br.read();
    br.readLine();
    System.out.print("Enter String:");
    name=br.readLine();
    System.out.print("Enter value:");
    i=Integer.parseInt(br.readLine());
    System.out.print("\tChar:"+c+"\tName:"+name+"\tValue:"+i); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T07:49:33.177

在每种情况下，您实际上是一次阅读一行，而不仅仅是一个字符和一个数字。

```
 System.out.print("Enter char:");
    char c = br.readLine().charAt(0);
    System.out.print("Enter String:");
    String name = br.readLine();
    System.out.print("Enter value:");
    int i = Integer.parseInt(br.readLine()); 
```

# sass - sass scss windows 的颜色代码编辑器

> ID：13304018
> 
> 赞同：2
> 
> 时间：2012-11-09T07:39:12.543
> 
> 标签：sass

我正在寻找简单的颜色代码软件来编辑 windows 的 scss 文件。如果问题重复，我很抱歉，但我厌倦了搜索并发现大部分损坏的文件。请建议

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T15:29:33.683

我假设您要求支持 SCSS 语法突出显示的 Windows 文本编辑器，而不是颜色选择实用程序。

如果是这样，我会推荐 使用用户定义的 SCSS 高亮显示的[notepad++ [编辑 - 旧链接断开，换成新链接]，您可以](http://notepad-plus-plus.org/)[在此处](http://blog.marvinlabs.com/2012/08/03/scss-syntax-highlighting-for-notepad/)下载或[在此处下载其他链接](http://s3.amazonaws.com/files.posterous.com/temp-2011-01-10/zBrpwzDJrrbCIdzhJGinqxyxpneBnnGamgBpayzqvryCwaowhwBnjEJdtgkn/userDefineLang_SCSS.xml?AWSAccessKeyId=AKIAJFZAE65UYRT34AOQ&Expires=1353075617&Signature=0hXhZ8abe9eFtfRpjdVMEAFovA8%3D)

或者，如果你愿意支付 60 美元，[Sublime Text 2](http://www.sublimetext.com/2)是最好的 windows/mac/linux 文本编辑器（恕我直言）。有一个[SCSS 插件](http://tech.wiedo.nl/sass-3-notepad-user-defined-syntax-highlighti)应该有你需要的一切。

如果这不是您想要的，请澄清您的问题，以便我们更好地帮助您。

# hadoop - Hbase mapreduce 交互

> ID：13304019
> 
> 赞同：0
> 
> 时间：2012-11-09T07:39:24.030
> 
> 标签：hadoop, mapreduce, hbase

我有一个程序 hbase 和 mapreduce。

我将数据存储在 HDFS 中，这个文件的大小是：100G。现在我把这些数据放到 Hbase 中。

我使用 mapreduce 扫描这个文件丢失了 5 分钟。但是扫描hbase表丢失了30分钟。

使用 hbase 和 mapreduce 时如何提高速度？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:17:04.263

我假设您使用的是单节点 HDFS。如果您将 100Gb 文件放在 HDFS 的多节点集群中，那么 Map Reduce 和 Hive 都会快得多。

您可以尝试在 Map Reduce 上增加映射器和化简器的数量以获得一些性能提升，看看这篇[文章](https://stackoverflow.com/questions/10448204/how-to-increase-the-mappers-and-reducers-in-hadoop-according-to-number-of-instan)。

Hive 本质上是一个建立在 HDFS 之上的数据仓库工具，并且每个查询都在下面是一个 Map Reduce 任务本身。所以上面的帖子也会回答这个问题。

# html - 将href从html移动到css

> ID：13304022
> 
> 赞同：0
> 
> 时间：2012-11-09T07:39:41.270
> 
> 标签：html, css, hyperlink, href

再会

我有这个简单的 html，我想将 href 从 html 移动到 css

```
<body>
<a href="http://www.xxx.com">xxx</a>
</body 
```

我想要的是从html中删除href并以任何方式在css中使用它：

```
<body>
<p>xxx</p>
</body> 
```

CSS将是

```
p {
"http://www.xxx.com"
} 
```

我应该在 p{ } 中使用什么（它是 url 还是链接或 ...）？是否可以 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T07:51:07.563

试试jquery

**HTML**

```
<p>Google</p>​ 
```

**jQuery**

```
$('p').replaceWith('<a href="http://www.google.com">xxx</a>');​ 
```

**[演示](http://jsfiddle.net/5wpwW/1/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T07:49:43.510

你的CSS没有意义。URL 只能用于背景图像，例如：

```
.myClass {background-image: url(http://www.xxx.com/myImage.jpg); } 
```

那你想做什么？

如果要声明动态全局 css 规则，则需要使用 javascript 执行此操作。

像这样：[按名称而不是索引获取 document.styleSheets？](https://stackoverflow.com/questions/1679577/get-document-stylesheets-by-name-instead-of-index)

问候！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:01:15.430

不确定这可以通过静态 CSS 完成。可以用jQuery完成，试试这个：

```
$(function(){
    $('a').each(function(){
        $this=$(this);
        $p = $('<p></p>').insertAfter($this);
        $p.html($this.text());
        $this.remove();
    });
}); 
```

现场演示：http: [//jsfiddle.net/keaukraine/Cmxx9/](http://jsfiddle.net/keaukraine/Cmxx9/)

如果你真的迫切需要用 CSS 来实现它，你可以尝试弄清楚如何使用 CSS`content`属性。在此处阅读有关此内容的更多信息：http: [//css-tricks.com/css-content/](http://css-tricks.com/css-content/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T08:16:15.293

这不可能。CSS 用于可选的展示建议，而不是用于更改页面的功能。链接是功能。

要为您的实际问题找到解决方案，您需要描述问题本身，而不是假设的解决方案（如使用 CSS 设置链接）可能无法工作。

# php - 如果使用第三方捕获的网页截图失败，则显示默认图像

> ID：13304027
> 
> 赞同：0
> 
> 时间：2012-11-09T07:39:58.517
> 
> 标签：php, screenshot

我想要做的是捕获用户提交的 URL 的屏幕截图并使用[http://open.thumbshots.org/image.aspx?url=http://google.com](http://open.thumbshots.org/image.aspx?url=http://google.com)。问题是，如果由于某种原因没有捕获屏幕截图（因为用户可以输入无效的 url），我得到的是 open.thumbshots.org 的默认图像，上面写着“thumbshots.com Imagecoming soon”。如果出现故障，如何显示我的默认图像而不是该图像？

```
$url = $_POST['user_url']; 
```

和 html

```
 <img src="http://open.thumbshots.org/image.aspx?url=<?php echo $url;?>" width = "180" height = "150" /> 
```

这里我需要在显示图像之前决定，如果返回的图像是缩略图的默认图像，则显示我的默认图像

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T07:55:10.813

我对这个特定的服务并不完全熟悉，你也没有给我们任何你用来继续的代码，但*我猜*你有几个选择：

1.  **检查“过期”和/或“缓存控制”标头**，默认图像似乎设置为默认图像在 60 秒后过期，有效图像设置为 604800 秒（或更大的值）。
2.  **在本地保留一份默认图片，和收到**的图片对比，如果你本地保存的图片和返回的一样，就知道你有默认图片
3.  **做（1）和（2）**
4.  **使用其他服务，或自己做。** 例如，[CutyCapt](http://cutycapt.sourceforge.net/)（另见[此处](http://manpages.ubuntu.com/manpages/natty/man1/cutycapt.1.html)）

就个人而言，我真的很喜欢 CutyCapt，因为我可以保证它在我自己的服务器上的性能并且非常易于使用。但我不知道你的设置是什么样的，或者你已经尝试过什么，所以对你来说可能是不可能的。

如果您打算使用 thumbshots.org，我建议您检查标题，因为这似乎始终正确（尽管我承认我花了很少的时间检查）。

# c++ - c ++从文本文件中读取数字，忽略注释

> ID：13304028
> 
> 赞同：1
> 
> 时间：2012-11-09T07:40:03.233
> 
> 标签：c++, parsing, inputstream

所以我在这个网站上看到了很多关于从 C++ 中读取文本文件的解决方案和教程，但还没有找到解决我问题的方法。我是 C++ 的新手，所以我认为我无法拼凑一些文档来理解这一切。

我要做的是读取文本文件编号，同时忽略文件中由“#”表示的注释。所以一个示例文件看起来像：

```
#here is my comment
20 30 40 50
#this is my last comment
60 70 80 90 
```

当没有任何评论时，我的代码可以很好地读取数字，但我不理解如何很好地解析流以忽略评论。它现在是一种黑客解决方案。

```
/////////////////////// Read the file ///////////////////////
std::string line;
if (input_file.is_open())
{
    //While we can still read the file
    while (std::getline(input_file, line))
    {
        std::istringstream iss(line);
        float num; // The number in the line

        //while the iss is a number 
        while ((iss >> num))
        {
            //look at the number
        }
    }
}

else
{
    std::cout << "Unable to open file";
}
/////////////////////// done reading file ///////////////// 
```

有没有办法可以将评论处理与此解决方案结合起来，或者我是否需要不同的方法？任何建议都会很棒，谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T07:46:52.163

如果您的文件`#`始终包含在第一列中，那么只需测试，如果该行以`#`这样的开头：

```
while (std::getline(input_file, line))
{
    if (line[0] != "#" )
    {
        std::istringstream iss(line);
        float num; // The number in the line

        //while the iss is a number 
        while ((iss >> num))
        {
            //look at the number
        }
    }
} 
```

修剪前导和尾随空格的行是明智的，例如此处所示：[Remove spaces from std::string in C++](https://stackoverflow.com/questions/83439/remove-spaces-from-stdstring-in-c)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T08:39:47.607

如果这只是一种用途，对于像您这样的面向行的输入，最简单的解决方案就是从您刚刚阅读的行中删除注释：

```
line.erase( std::find( line.begin(), line.end(), '#' ), line.end() ); 
```

更通用的解决方案是使用过滤流缓冲区，例如：

```
class FilterCommentsStreambuf : public std::streambuf
{
    std::istream& myOwner;
    std::streambuf* mySource;
    char myCommentChar;
    char myBuffer;

protected:
    int underflow()
    {
        int const eof = std::traits_type::eof();
        int results = mySource->sbumpc();
        if ( results == myCommentChar ) {
            while ( results != eof && results != '\n') {
                results = mySource->sbumpc(0;
            }
        }
        if ( results != eof ) {
            myBuffer = results;
            setg( &myBuffer, &myBuffer, &myBuffer + 1 );
        }
        return results;
    }

public:
    FilterCommentsStreambuf( std::istream& source,
                             char comment = '#' )
        : myOwner( source )
        , mySource( source.rdbuf() )
        , myCommentChar( comment )
    {
        myOwner.rdbuf( this );
    }
    ~FilterCommentsStreambuf()
    {
        myOwner.rdbuf( mySource );
    }
}; 
```

在这种情况下，您甚至可以放弃`getline`：

```
FilterCommentsStreambuf filter( input_file );
double num;
while ( input_file >> num || !input_file.eof() ) {
    if ( ! input_file ) {
        //  Formatting error, output error message, clear the
        //  error, and resynchronize the input---probably by
        //  ignore'ing until end of line.
    } else {
        //  Do something with the number...
    }
} 
```

（在这种情况下，我发现跟踪 . 中的行号也很有用`FilterCommentsStreambuf`。这样你就有了错误消息。）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T08:26:07.673

“读取一行并将其解析为字符串”的替代方法可以将流本身用作传入缓冲区：

```
while(input_file)
{
    int n = 0;

    char c; 
    input_file >> c; // will skip spaces ad read the first non-blank

    if(c == '#')
    {
        while(c!='\n' && input_file) input_file.get(c);
        continue; //may be not soooo beautiful, but does not introduce useless dynamic memory
    }

    //c is part of something else but comment, so give it back to parse it as number
    input_file.unget(); //< this is what all the fuss is about!
    if(input_file >> n)
    { 
        // look at the nunber
        continue;
    }

    // something else, but not an integer is there ....
    // if you cannot recover the lopop will exit 
} 
```

# java - 这个异常在 oracle jaxd-ws 肥皂网络服务中意味着什么

> ID：13304030
> 
> 赞同：0
> 
> 时间：2012-11-09T07:40:17.600
> 
> 标签：java, web-services, jax-ws

> javax.xml.ws.soap.SOAPFaultException：无法解析 com.sun.xml.ws.fault.SOAP11Fault.getProtocolException(SOAP11Fault.java:197) 处的传入请求，位于 com.sun.xml.ws.fault.SOAPFaultBuilder。 createException(SOAPFaultBuilder.java:130) 在 com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:125) 在 com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler. java:95) at com.sun.xml.ws.client.sei.SEIStub.invoke(SEIStub.java:136) at $Proxy603.getdocumenttypes(Unknown Source) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun .reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 在 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 在 java.lang.reflect.Method.invoke(Method.java:597) 在 weblogic.wsee.jaxws.spi.ClientInstanceInvocationHandler.invoke(ClientInstanceInvocationHandler.java:84) 在 $Proxy599.getdocumenttypes(Unknown Source) 在 cmic.img.MSPlugin.getDocumentTypes(MSPlugin.java:164) 在 sun.reflect。 NativeMethodAccessorImpl.invoke0(Native Method) 在 sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 在 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 在 java.lang.reflect.Method.invoke(Method. java:597) 在 com.sun.jersey.server.impl.model.method.dispatch.Abs​​tractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:168) 在 com.sun.jersey.server.impl.model.method.dispatch。 com.sun 上的 ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:70)。jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:279) 在 com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:136) 在 com.sun。 jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:86) 在 com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:136) 在 com.sun。 jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:74) 在 com.sun.jersey.server.impl.application.WebApplicationImplrules.RightHandPathRule.accept(RightHandPathRule.java:136) 在 com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:74) 在 com.sun.jersey.server.impl.application。 WebApplicationImplrules.RightHandPathRule.accept(RightHandPathRule.java:136) 在 com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:74) 在 com.sun.jersey.server.impl.application。 WebApplicationImpl

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-28T12:16:52.390

我已经找到了问题..实际上我们的客户正在使用带有负载平衡器的服务器集群。在调查了每一端之后，我发现 |SOAP 信封没有 Web 服务所显示的正确结构。当负载平衡器将请求重定向到服务器时会发生这种情况。当我在服务器上重新安装 SOAP Web 服务 EAR FILE 时，它已得到解决。

# jquery - 单击事件仅适用于一个元素？

> ID：13304031
> 
> 赞同：1
> 
> 时间：2012-11-09T07:40:18.557
> 
> 标签：jquery, events

我在 api.jquery.com 和我的脚本上浪费了 1 个小时来确定问题，但仍然无法。

这是我的**script.js**

```
// DOM ready

$(function(){

    // gets categories from server
    $.post("category.php", function(data) {
        $("#category ul").html(data);
    });

    // tests click event
    $("a").click(function(evt) {
        alert("Handler for .click() called.");
        evt.preventDefault();
    });

}); 
```

在 index.php 中有 4 个锚标记，前三个是从服务器加载的，如您在脚本中看到的，最后一个是预加载的（静态）（不是从服务器加载的）。问题是我在 jQuery 选择器中选择了所有锚元素，正如您在脚本中看到的那样，但我的事件仅适用于预加载的最后一个锚标记。怎么了 ？为什么该事件不适用于前三个锚标签？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T07:43:14.977

尝试使用`on`

```
 $('body').on('click', 'a', function(evt) {
     alert("Handler for .click() called.");
     evt.preventDefault();
   }); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T07:43:24.863

尝试：

```
$(document).on('click', 'a', function (){
    //do something
}); 
```

这会将您的处理程序绑定到当前存在的所有锚标记以及将来动态添加的任何标记。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T07:43:26.260

```
$(function(){

// gets categories from server
$.post("category.php", function(data) {
   $("#category ul").html(data);

// tests click event
   $("a").click(function(evt) {
      alert("Handler for .click() called.");
      evt.preventDefault();
  });
 });
}); 
```

您必须等到 ajax 发布请求准备好！

问候！

# c# - 在 Metro 应用程序中用 C# 绘制曲线

> ID：13304034
> 
> 赞同：1
> 
> 时间：2012-11-09T07:40:43.113
> 
> 标签：c#, microsoft-metro, line, curve, windows-store-apps

在我的带有 c# 和 XAML 的 Metro 应用程序中，我有一些要绘制的基本要点。我可以从`start(x,y)`点画到目的地`point(x1, y1)`。但是画的线是直的，但我的要求是画曲线。就像弯曲了某个角度，但我没能做到这一点。

有人可以帮我画一条曲线吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T21:35:54.367

不完全是您在评论中提到的两点和一个角度，但`ArcSegment`非常接近。

它在两个给定点之间绘制圆/椭圆的一部分，其中曲线受您可以提供的半径、旋转和方向值的影响。

这不是完整的 XAML（您也可以在代码中执行此操作），而是本质：

```
<PathFigure StartPoint="200,200">
    <PathFigure.Segments>
        <PathSegmentCollection>
            <ArcSegment SweepDirection="Clockwise" Size="100,50" Point="400,200" />
        </PathSegmentCollection>
    </PathFigure.Segments>
</PathFigure> 
```

*视觉上更*容易理解，因此向下滚动到[ArcSegment 文档](http://msdn.microsoft.com/en-us/library/system.windows.media.arcsegment%28v=vs.110%29.aspx)中的图表以获取示例。

如果你对 ArcSegment 的细节感到好奇，Charles Petzold 有一篇有趣的帖子：

*   [ArcSegment 的数学](http://www.charlespetzold.com/blog/2008/01/Mathematics-of-ArcSegment.html)

# iis-7 - 如何按本地时间配置 IIS7 高级日志记录翻转？

> ID：13304038
> 
> 赞同：5
> 
> 时间：2012-11-09T07:41:20.930
> 
> 标签：iis-7, localtime

如何按本地时间配置 IIS7 高级日志记录翻转？

在选项中，我设置了每日时间表（参见图片[http://gyazo.com/05843b6e29d51f21ee7ed2d6aa4d5157](http://gyazo.com/05843b6e29d51f21ee7ed2d6aa4d5157)）。但是 IIS 使用 UTC 时间而不是本地时间创建新的日志文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T05:39:05.887

高级日志记录不支持该功能，以下页面记录文件名始终为 UTC 格式：

[http://technet.microsoft.com/en-us/library/ee791730%28v=ws.10%29.aspx](http://technet.microsoft.com/en-us/library/ee791730%28v=ws.10%29.aspx)

我不知道它是否对您有用，但可以同时启用普通和高级日志记录。对于常规 IIS 日志记录，您可以使用“使用本地时间进行文件命名和翻转”选项。

否则我能想到的唯一选择是每小时记录一次并编写一个预定的脚本来读取文件并将文件名和数据转换为本地时间。

# .htaccess - 如何处理重写规则中的连字符 (-) 符号？

> ID：13304040
> 
> 赞同：2
> 
> 时间：2012-11-09T07:41:30.820
> 
> 标签：.htaccess, mod-rewrite, rewrite

我想出了以下将 php 文件作为目录处理的重写规则：

```
www.domain.com/name.php -> www.domain.com/name/
www.domain.com/name -> www.domain.com/name/
www.domain.com/name/ -> www.domain.com/name.php 
```

上面的东西有效，但是当标题中有连字符 (-) 时，它不会在末尾添加预告片斜杠，最终会变成 404 页面。不起作用的示例：

```
www.domain.com/stack-overflow -> 404 page
www.domain.com/stack-overflow/ -> 404 page 
```

当前重写代码：

```
# 404 page
ErrorDocument 404 /404.php

# Add automatic a trailer slash on the end
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_URI} !#
RewriteCond %{REQUEST_URI} !(.*)/$
RewriteRule ^(.*)$ $1/ [L,R=301]

# Decline direct access to .php files, redirect .php to name/
RewriteCond %{ENV:REDIRECT_STATUS} !200
RewriteRule ^(\w+)\.php$ $1/ [R=301]
# name/ to the right .php file
RewriteRule ^(\w+)/?$ /$1.php 
```

有人想处理带有连字符 (-) 的标题吗？

提前致谢。亲切的问候，M

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T09:05:13.637

只需替换这个：

```
\w 
```

... 有了这个：

```
[\w-] 
```

Apache 的 mod_rewrite 基本上遵循 Perl 正则表达式语法。

# php - 画布 URL 不是有效的 URL。安全画布 URL 不是有效的 URL

> ID：13304042
> 
> 赞同：0
> 
> 时间：2012-11-09T07:41:35.203
> 
> 标签：php, facebook

我已经在 facebook 上配置了我的应用程序并提供了 Canvas URL：http://fb.kpratik.webatu.com/ Secure Canvas URL：https://fb.kpratik.webatu.com/

这工作得很好。但是从昨天开始，当我尝试通过我的应用程序登录时，我收到以下错误：API 错误代码：191 API 错误描述：指定的 URL 不属于应用程序错误消息：无效的 redirect_uri：应用程序配置不允许给定 URL .

当我回到 facebook 并检查我的应用程序的设置时，我看到一条错误消息：警告 Canvas URL 不是有效的 URL。安全画布 URL 不是有效的 URL。

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:12:34.360

> 当我回到 facebook 并检查我的应用程序的设置时，我看到一条错误消息：警告 Canvas URL 不是有效的 URL。安全画布 URL 不是有效的 URL。

尝试在 Facebook 上发布[http://fb.kpratik.webatu.com/](http://fb.kpratik.webatu.com/)时，我收到无法发布该 URL 的消息，因为 webatu.com 域因垃圾邮件而被阻止。

在没有单个域的情况下使用共享虚拟主机会遇到常见问题之一：一旦该服务的一个用户表现不佳，整个域就会被阻止，而其他所有使用它的人也必须遭受同样的命运。

我的建议是——拥有自己的域名，这样你就可以独立于其他人在 Facebook 上所做的事情。如果您自己的域被阻止，那是您的错，而且只是您的错。但是你不会因为别人的错误而被阻止。

# functional-programming - 在 OCaml 中实现 Okasaki 的自举堆，为什么不编译？

> ID：13304044
> 
> 赞同：5
> 
> 时间：2012-11-09T07:41:48.177
> 
> 标签：functional-programming, ocaml, functor

（可以在[https://gist.github.com/4044467](https://gist.github.com/4044467)找到一个最小的非编译示例，请参阅下面的更多背景。）

我正在尝试实现冈崎*纯功能数据结构*第 10 章中介绍的*引导堆*。以下是我的非编译代码的简化版本。

 *我们要实现一个具有以下签名的堆：

```
module type ORDERED =
sig
  type t
  val compare : t -> t -> int
end

module type HEAP =
sig
  module Elem : ORDERED

  type heap

  val empty : heap
  val insert : Elem.t -> heap -> heap
  val find_min : heap -> Elem.t
  val delete_min : heap -> heap
end 
```

当一个数据结构的实现依赖于同一种数据结构的另一个实现时，我们说它是**自举的。**所以我们有一个这样的堆（实际的实现并不重要）：

```
module SomeHeap (Element : ORDERED) : (HEAP with module Elem = Element) =
struct
  module Elem = Element

  type heap

  let empty = failwith "skipped"
  let insert = failwith "skipped"
  let find_min = failwith "skipped"
  let delete_min = failwith "skipped"
end 
```

然后，我们将要实现的引导堆，它可以依赖于任何堆实现，应该具有以下签名：

```
module BootstrappedHeap
  (MakeH : functor (Element : ORDERED) -> HEAP with module Elem = Element)
  (Element : ORDERED) : (HEAP with module Elem = Element) 
```

所以我们可以这样使用它：

```
module StringHeap = BootstrappedHeap(SomeHeap)(String) 
```

根据 Okasaki 的说法，BootstrappedHeap 的实现是这样的：

```
module BootstrappedHeap
  (MakeH : functor (Element : ORDERED) -> HEAP with module Elem = Element)
  (Element : ORDERED) : (HEAP with module Elem = Element) =
struct
  module Elem = Element

  module rec BootstrappedElem :
  sig
    type t =
      | E
      | H of Elem.t * PrimH.heap
    val compare : t -> t -> int
  end =
  struct
    type t =
      | E
      | H of Elem.t * PrimH.heap
    let compare t1 t2 = match t1, t2 with
      | H (x, _), H (y, _) -> Elem.compare x y
      | _ -> failwith "unreachable"
  end
  and PrimH : (HEAP with module Elem = BootstrappedElem) =
    MakeH(BootstrappedElem)

  type heap

  let empty = failwith "not implemented"
  let insert = failwith "not implemented"
  let find_min = failwith "not implemented"
  let delete_min = failwith "not implemented"
end 
```

但这不是编译！错误信息是：

```
File "ordered.ml", line 52, characters 15-55:
Error: In this `with' constraint, the new definition of Elem
       does not match its original definition in the constrained signature:
       Modules do not match:
         sig type t = BootstrappedElem.t end
       is not included in
         ORDERED
       The field `compare' is required but not provided 
```

第52行是行

```
and PrimH : (HEAP with module Elem = BootstrappedElem) = 
```

我认为`BootstrappedElem`确实实现`ORDERED`了，因为它同时具有`t`and `compare`，但是我看不出为什么编译器无法找到该`compare`函数。

将 BootstrappedElem 的签名更改为

```
module rec BootstrappedElem : ORDERED 
```

将使其编译，但这将隐藏类型构造函数`E`并使其无法实现后面的部分`T`。`BootstrappedElem`

整个非编译代码可以在[https://raw.github.com/gist/4044281/0ce0336c40b277e59cece43dbadb9b94ce6efdaf/ordered.ml下载](https://raw.github.com/gist/4044281/0ce0336c40b277e59cece43dbadb9b94ce6efdaf/ordered.ml)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T09:03:11.973

我相信这可能是类型检查器中的一个错误。我已将您的代码简化为以下示例：

```
module type ORDERED =
sig
  type t
  val compare : t -> t -> int
end

module type CARRY = sig
  module M : ORDERED
end

(* works *)
module HigherOrderFunctor
  (Make : functor (X : ORDERED) -> (CARRY with module M = X))
= struct
  module rec Base
    : (ORDERED with type t = string)
    = String
  and Other
    : (CARRY with module M = Base)
    = Make(Base)
end

(* does not work *)
module HigherOrderFunctor
  (Make : functor (X : ORDERED) -> (CARRY with module M = X))
= struct
  module rec Base
    : sig
      (* 'compare' seems dropped from this signature *)
      type t = string
      val compare : t -> t -> int
    end
    = String
  and Other
    : (CARRY with module M = (Base : sig type t = string val compare : t -> t -> int end))
    = Make(Base)
end 
```

我不明白为什么第一个代码有效而第二个（似乎等效）无效。我建议您稍等片刻，看看专家是否提供了解释（安德烈亚斯？），然后考虑发送[错误报告](http://caml.inria.fr/mantis/view_all_bug_page.php)。

在这种情况下，一种解决方案是首先绑定似乎处理不当的签名：

```
(* works again *)
module HigherOrderFunctor
  (Make : functor (X : ORDERED) -> (CARRY with module M = X))
= struct
  (* bind the problematic signature first *)
  module type S = sig
    type t = string
    val compare : t -> t -> int
  end

  module rec Base : S = String
  and Other : (CARRY with module M = Base) = Make(Base)
end 
```

但是，这在您的设置中是不可能的，因为 的签名与`BootstrappedElem`相互递归`BootstrappedHeap`。

一种解决方法是避免明显微妙的`with module ...`构造，并将其替换为简单的类型相等`with type Elem.t = ...`：

```
module BootstrappedHeap
  (MakeH : functor (Element : ORDERED) -> HEAP with module Elem = Element)
  (Element : ORDERED) : (HEAP with module Elem = Element) =
struct
  module Elem = Element

  module rec BootstrappedElem :
  sig
    type t =
      | E
      | H of Elem.t * PrimH.heap
    val compare : t -> t -> int
  end =
  struct
    type t =
      | E
      | H of Elem.t * PrimH.heap
    let compare t1 t2 = match t1, t2 with
      | H (x, _), H (y, _) -> Elem.compare x y
      | _ -> failwith "unreachable"
  end
  and PrimH : (HEAP with type Elem.t = BootstrappedElem.t) =
    MakeH(BootstrappedElem)

  type heap

  let empty = failwith "not implemented"
  let insert = failwith "not implemented"
  let find_min = failwith "not implemented"
  let delete_min = failwith "not implemented"
end 
```

您还可以通过在recursive*内部*定义来避免相互递归并`BootstrappedElem`在`BootstrappedHeap`一个递归结中定义两者。`BootstrappedElem` *`BootstrappedHeap`*

 *```
module BootstrappedHeap
  (MakeH : functor (Element : ORDERED) -> HEAP with module Elem = Element)
  (Element : ORDERED) : (HEAP with module Elem = Element) =
struct
  module rec BootstrappedHeap : sig
    module Elem : sig
      type t = E | H of Element.t * BootstrappedHeap.heap
      val compare : t -> t -> int
    end        
    include (HEAP with module Elem := Elem)
  end = struct
    module Elem = struct
      type t = E | H of Element.t * BootstrappedHeap.heap
      let compare t1 t2 = match t1, t2 with
        | H (x, _), H (y, _) -> Element.compare x y
        | _ -> failwith "unreachable"
    end
    include (MakeH(Elem) : HEAP with module Elem := Elem)
  end

  module Elem = Element

  type heap

  let empty = failwith "not implemented"
  let insert = failwith "not implemented"
  let find_min = failwith "not implemented"
  let delete_min = failwith "not implemented"
end 
```

这种风格自然对应于您决定嵌入`Elem`签名`HEAP`并`with module ...`用于细化。另一种解决方案是定义`HEAP`为返回签名的函子，用作`HEAP(Elem).S`，我想可以选择不同的递归样式。并不是说这样会更好：我认为“抽象模块”样式更方便。**

# css - 如何选择可能有多种父母的孩子？

> ID：13304051
> 
> 赞同：0
> 
> 时间：2012-11-09T07:42:37.727
> 
> 标签：css, css-selectors

我要选择`myclass`，其父母可能是`parent1 or parent2`

我可以这样写：

```
div .parent1 .myclass{

}

div .parent2 .myclass{

} 
```

如何将两个选择合二为一？

如：

```
div `.parent1 {or} .parent2` .myclass{

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T07:44:33.353

如果你能这样写就更好了：

```
div .myclass{} 
```

或者

```
.myclass{} 
```

或者

```
div .parent1 .myclass, div .parent2 .myclass{} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T07:47:52.847

```
.parent1 .myclass, .parent2 .myclass{} 
```

# c# - 谁负责检查 NullReferenceExceptions？

> ID：13304053
> 
> 赞同：2
> 
> 时间：2012-11-09T07:42:40.333
> 
> 标签：c#, vb.net, coding-style

例如，如果您将汽车传递给使用应该检查空引用的汽车的子系统？

我是否应该费心将这段代码包装在下面的 if 语句中？这似乎很多余，显然我可以举一个更好的例子，因为我无法捕获异常并以任何方式处理它。

还是我应该让异常冒泡给调用者？

例如：

```
Public Sub CarService(ByVal car As ICar)
    If car IsNot Nothing Then
        'do logic here 
    Else : Throw New ArgumentNullException
    End If
End Sub 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T07:48:08.507

扔一个`NullReferenceException`自己实际上是没有意义的。因为这是

1.  CLR 将引发的相同异常（至少在您访问手动检查的相同引用时`null`）和
2.  无论如何都气馁。[请参阅此处](http://msdn.microsoft.com/en-us/library/system.nullreferenceexception.aspx)的备注 。有关相关讨论，请参阅[是否有必要从扩展方法中抛出 NullReferenceException？](https://stackoverflow.com/q/4792275/21567).

但是，至少对于公共 API 表面，您应该检查空引用并抛出`ArgumentNullException`.

```
Public Sub CarService(ByVal car As ICar)
    If car Is Nothing Then
        Throw New ArgumentNullException("car")
    End If
    ' do logic here
End Sub 
```

或查看[Code Contracts](http://msdn.microsoft.com/en-us/library/dd412894.aspx)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T07:48:08.570

我认为这是一个好主意，因为您可以防止代码不可预测。由于异常取决于以下代码并且可以随其更改。使用您的代码，您就知道在哪里以及可以抛出什么异常。

您唯一应该考虑的是您应该使用什么异常，甚至创建一个自己的异常。由于 NullReference 似乎有点错位。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T07:49:07.007

我想这取决于场景。在某些情况下，`null`将有效值传递给方法。`null`如果不是，那么您需要权衡在代码到达对象之前会发生多少逻辑。如果在那之前没有发生任何重大事件，那么您可以简单地让它冒泡。如果您在使用该对象之前确实进行了重要操作，那么在您输入该方法时就值得检查一下。此外，如果您有多个对象，那么调用者将不知道是哪一个导致了问题，因此您可能会自己抛出异常，并添加适当的错误消息。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-09T07:49:39.357

由你决定。

如果`NULL`s 是您逻辑的一部分，则在您的*方法中**处理它`CarService`*。例如，在您的代码中，一辆`NULL`汽车可能意味着它是一辆未知的汽车，在这种情况下，您必须为其编写逻辑。

如果您不应该通过`NULL`. *这样边缘情况将在调用方处理。*例如，如果您的代码执行以下操作：

```
Public Sub CarService(ByVal car As ICar)
    car.ToString();
End Sub 
```

在这种情况下，显式抛出错误是有意义的，这将在整个框架中保持一致。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-09T08:02:45.440

In my opininion throwing the NullReferenceException yourself is nonsense (CLR will do it for you). But on the other hand throwing the ArgumentNullException is a good practice for me. If error occurs, you know exactly where the problem is and which parameter cannot be null. To save time writting such ever-repating code I use macros in ReSharper (no problem to get under 2 seconds).

# java - 如何在不中断用户的情况下加载页面？

> ID：13304055
> 
> 赞同：0
> 
> 时间：2012-11-09T07:42:44.973
> 
> 标签：java, html, load, wicket

我是 Dnyani wagh，正在研究 Java wicket 框架。我正在研究库存管理系统。在
这个系统中，我生成了账单表格，但它需要一些时间来加载。现在我的问题是在表单加载时，如果用户单击屏幕上的任何位置，加载过程就会受到影响。我想加载账单表格，但用户在加载账单时无法访问我的系统。
请给我一些建议或指导我如何实现这一目标。
提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T10:00:16.557

我真的不认为阻止用户输入是一个好主意。例如，我不记得有任何网络服务可以做到这一点。但是，如果你真的想要，你可以显示 Wicket 的[ModalWindow](http://ci.apache.org/projects/wicket/apidocs/6.0.x/org/apache/wicket/extensions/ajax/markup/html/modal/ModalWindow.html)并禁用关闭按钮。这也是[一个](http://www.wicket-library.com/wicket-examples/ajax/modal-window)带有源代码的示例：

此代码将阻止模态窗口的关闭按钮

```
modal1.setCloseButtonCallback(new ModalWindow.CloseButtonCallback() {
    public boolean onCloseButtonClicked(AjaxRequestTarget target) {
        return false;
    }
}); 
```

# ruby-on-rails - 文本框的字段未使用嵌套属性出现

> ID：13304056
> 
> 赞同：1
> 
> 时间：2012-11-09T07:42:50.970
> 
> 标签：ruby-on-rails, fields-for

我正在尝试将消息保存到我的活动类，但文本字段未显示。我尝试了一些不同的变化，但似乎无法让它发挥作用。我在 fields_for 中放置了一个调试器，代码甚至没有深入到那个逻辑。这是代码：

```
 def new
    @campaign = Campaign.new
    @message = Message.new(:campaign_id => @campaign.id)
  end

  def edit
    @campaign = Campaign.find(params[:id])
    @message = @campaign.message
  end

  %legend
    Enter the campaign information
  .field
    .control-group
      %label.control-label
        Campaign Name
      .controls
        = f.text_field :name

        = f.collection_select(:group_id, current_user.groups.all, :id, :name, :include_blank => true)
        = f.fields_for :message do |m|
          = m.text_area :body, :rows => 3
      .form-actions= f.submit "#{params[:action] == 'new' ? 'Create New Campaign' : 'Save Campaign'}", :class => 'btn btn-success' 
```

为什么 text_area 不会显示在页面上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T07:57:24.893

为您的解决方案执行此操作，然后尝试

```
def new
  @campaign = Campaign.new
  @message = @campaign.build_message
end 
```

在你的模型文件中，写

```
accepts_nested_attributes_for :message 
```

欲了解更多信息 - [http://railscasts.com/episodes/196-nested-model-form-part-1](http://railscasts.com/episodes/196-nested-model-form-part-1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T07:44:26.970

尝试`@campaign.build_message`新动作或`@campaign.messages.new`

# javascript - 类型错误：d 为空

> ID：13304057
> 
> 赞同：0
> 
> 时间：2012-11-09T07:42:53.873
> 
> 标签：javascript, jquery, html, css

我在我的主 js 文件中运行了几个函数，在其中一个中添加了两行后，出现了这个错误。奇怪的是，错误引用了其他函数之一中的变量，该变量与被调用的函数完全无关。

这是我更改的功能：

```
window.onresize = function(){
    var timeOut = null;
    if(timeOut != null) clearTimeout(timeOut);
        setTimeout(expandWrapper, 500);
}

var expandWrapper = function(){ 
    //var eContent = document.getElementById("content");
    var eContent = document.getElementById("main-content");
    var eMainContent = document.getElementById("column-1");
    var elayoutArea = document.getElementById("layout-column_column-1");
    var eFooter = document.getElementById("footer");
    //var dScrollb = $(".dataTables_scrollBody");
    var leftWrapper = document.getElementById("left-links-wrapper");
    var contentEnd = eMainContent.clientHeight + eMainContent.offsetTop;

    if(document.documentElement.clientHeight >= (eContent.offsetTop  + elayoutArea.clientHeight + eFooter.clientHeight)){       
        eMainContent.style.height = document.documentElement.clientHeight - eContent.offsetTop - eFooter.clientHeight -1 + "px";
        added line--> leftWrapper.style.height = document.documentElement.clientHeight - eContent.offsetTop - eFooter.clientHeight -1 + "px";
        //console.log("primary condition");
    } else {
        eMainContent.style.height = ($(window).height()); //elayoutArea.clientHeight + "px";
        added line-->leftWrapper.style.height = eMainContent.offsetHeight + "px";
        //console.log("fallback");
    }   
} 
```

我已经指出了两个添加的行，位于 if 语句中并以“ `leftWrapper.style.height`”开头。顺便说一句，虽然 eMainContent 元素出现在所有页面上，但 leftWrapper 元素只出现在某些页面上，并且错误只出现在那些不存在 leftWrapper 的页面上。

我认为这就是问题所在：javascript 翻转，因为它无法执行我在特定页面上不存在的元素上请求的操作。

假设这是问题所在，我该如何重写它以缓解此错误，但在它存在的页面上修改 leftWrapper？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T08:01:15.363

正如您所指出的，问题在于，`getElementById`如果您传入 DOM 中不存在的标识符，则调用将返回 null。

对于此类情况，您正在使用可能为 null 或未定义的对象，您可以简单地执行以下操作：

```
if (possiblyNullOrUndefinedVariable) {
  possiblyNullOrUndefinedVariable.doSomething();
} 
```

这也可以缩短为：

```
possiblyNullOrUndefinedVariable && possiblyNullOrUndefinedVariable.doSomething(); 
```

利用`&&`操作员的短路。

值得注意的一个警告是，这不会像您对所有变量的期望一样。`0`并且`''`也是错误的值。如果您知道您将处理字符串或数字，则可以改为执行以下操作：

```
if (possiblyNullOrUndefinedVariable != null && possiblyNullOrUndefinedVariable != undefined) {
  possiblyNullOrUndefinedVariable.doSomething();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T07:56:29.997

为什么要混合 jQuery 和 dom？这很令人困惑。

你能试一下吗

```
var timeOut = null;
window.onresize = function(){
  clearTimeout(timeOut); // can always be done
  timeOut=setTimeout(expandWrapper, 500);
}

var expandWrapper = function(){ 
    var eContent = $("#main-content");
    var eMainContent = $("#column-1");
    var elayoutArea = $("#layout-column_column-1");
    var eFooter = $("#footer");
    var leftWrapper = $("#left-links-wrapper");
    var docHeight = $(document).height();
    var contentEnd = eMainContent.height() + eMainContent.offset().top;
    if(docHeight >= (eContent.offset().top  + elayoutArea.height() + eFooter.height())){       
            eMainContent.height(docHeight - eContent.offset().top - eFooter.height() -1);
        leftWrapper.height() = docHeight - eContent.offsetTop - eFooter.clientHeight -1 + "px";
            //console.log("primary condition");
        } else {
            eMainContent.height(($(window).height()); 
            leftWrapper.height(eMainContent.height);
            //console.log("fallback");
        }   
    } 
```

# sql - 数据库中大部分同步的两个或多个表

> ID：13304063
> 
> 赞同：2
> 
> 时间：2012-11-09T07:43:14.600
> 
> 标签：sql, database, postgresql, database-replication

我正在使用 PostgreSQL，我需要在我的数据库中拥有两个或多个主要同步的表，`Add/Delete/Update`以便将子表中的一行写入主表。

我不确定在这种情况下是否可以使用触发器，因为在我的情况下，子表可能会被截断并加载新的数据集

知道如何实现吗？

例子：

```
Employee_Sub1:
 id    name    version
+------+-------+--------+
 101    John     1
 102    David    1
 105    Azi      1

Employee_Sub2:
 id    name    version
+------+-------+--------+
 101    John     1
 102    DavidX   2       <- Sub2 having updated value for id 102
 105    Azi      1
 107    Marry    1

Employee_Sub3:
 id    name    version
+------+-------+--------+
 101    John    1
 105    Azi     1
 110    devil   1       <- Sub3 having new row of data 
```

Employee_Final 表应如下所示：

```
Employee_Final:
 id    name    version
+------+-------+--------+
 101    John    1
 102    DavidX  2
 105    Azi     1
 107    Marry   1
 110    devil   1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T07:49:10.077

我认为您正在寻找[触发器](http://www.postgresql.org/docs/current/static/triggers.html)；有关如何在 PL/PgSQL 中实现它们，请参阅[PL/PgSQL 触发器过程。](http://www.postgresql.org/docs/current/static/plpgsql-trigger.html)在每个、和上使用`AFTER INSERT OR UPDATE OR DELETE`触发器，将它们的更改传播到。`Employee_Sub1``Employee_Sub2``Employee_Sub3``Employee_Final`

关于这个问题还有一点[表继承](http://www.postgresql.org/docs/current/static/ddl-inherit.html)的感觉，但我不确定继承是否合适。

通常，当您更改 ID 时，您会使用`ON UPDATE CASCADE`外键引用，但这在这里不起作用，因为您需要将其反转，当您更改 FK 时，PK 会更新。这是触发器的另一项工作。如果 ID 已更改，您必须比较`NEW`和`OLD`记录 ID 并更新主表。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T08:47:20.267

您可以使用表继承。首先，您创建没有数据的主表，并使用继承选项从主表创建子表。当您从主表中选择时，结果集包括子表的数据集。访问[http://www.postgresql.org/docs/9.2/static/ddl-inherit.html](http://www.postgresql.org/docs/9.2/static/ddl-inherit.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:00:38.560

通常，您在源表上创建一个触发器，它会确定是更新还是插入到目标表中。

# php - php数组查找和格式化数组

> ID：13304064
> 
> 赞同：-1
> 
> 时间：2012-11-09T07:43:23.380
> 
> 标签：php

我在 foreach 循环中有这个数组

```
foreach ($data as $key => $value) {
    $filter_cat_name = $this->filter_cat_name($value['filter_cat_id']);
    $filter_sub_cat_name = $this->filter_sub_cat_name($value['sub_cat_id']);
    $var = array($filter_cat_name,$filter_sub_cat_name);
    print_r($var);
}

//foreach output
Array ( [0] => Brand Name [1] => Sony )  
Array ( [0] => Brand Name [1] => nokia )  
Array ( [0] => Display Size [1] => 360 x 640 )  
Array ( [0] => Brand Name [1] => Samsung )  
Array ( [0] => Display Size [1] => 480 x 640 ) 
```

我怎样才能像这样格式化或更改

> 品牌名称
> 索尼
> 诺基亚
> 三星
> 
> 显示尺寸
> 360 x 640
> 480 x 640

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T07:58:00.673

这应该有帮助。

```
<?php
foreach ($data as $key => $value) {

                $filter_cat_name = $this->filter_cat_name($value['filter_cat_id']);
                $filter_sub_cat_name = $this->filter_sub_cat_name($value['sub_cat_id']);

                $var = array($filter_cat_name,$filter_sub_cat_name);
if($var[0]=='Brand Name')
$brand[] = $var[1]; // For Brand Name

if($var[0]== 'Display Size')
$size[] = $var[1]; // For Display Name       
                print_r($var);

    }
print_r($brand);
print_r($size);
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T07:47:41.600

这会有帮助吗？

```
foreach ($data as $key => $value) {
    $filter_cat_name = $this->filter_cat_name($value['filter_cat_id']);
    $filter_sub_cat_name = $this->filter_sub_cat_name($value['sub_cat_id']);

    if (!isset($var[$filter_cat_name])) {
         $var[$filter_cat_name] = array();
    }
    $var[$filter_cat_name][] = $filter_sub_cat_name;
}

$brands = $var['Brand Name'];
$displays = $var['Displays']; 
```

这将格式化您的`$var`喜欢

```
Array(
    ['Brand Name'] => array('Nokia','Samsung'),
    ['Displays']   => array('320x120','140x70')
) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:49:14.903

这应该可以帮助您：

```
$i=0;
$groups = array();
foreach($array as $item){
   $groups[$item[0]][$i] = $item[1];
   $i++;
} 
```

输出：

```
array 
'BrandName' =>  
  array
  0 => string 'Sony' (length=4) 
  1 => string 'nokia' (length=5) 
  3 => string 'Samsung' (length=7) 
'Display Size' =>
  array 
  2 => string '360 x 640' (length=9) 
  4 => string '480 x 640' (length=9) 
```

# ssrs-2008 - 如何在 SSRS 2008 中旋转折线图？

> ID：13304069
> 
> 赞同：0
> 
> 时间：2012-11-09T07:43:38.067
> 
> 标签：ssrs-2008, reporting, reporting-services

我需要旋转 SSRS 的折线图控件，如下所示。无论我做什么，我都找不到任何旋转它的方法。所以我决定把它问到stackoverflow。

任何帮助或想法将不胜感激。

> **普通的：**

```
Y axes

|

|

----X axes 
```

> **它应该是 ：**

```
 X axes

          |

          |

Y axes ---- 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T13:57:03.423

我已经用一些技巧解决了我的问题。

如果您在带有折线图的 SSRS 中遇到此类问题：

将图表类型从折线图更改为条形图。

1.  进入系列属性的属性窗口。
2.  设置填充属性“无颜色”（不幸的是，您必须为每个 ChartData 执行此操作...）。
3.  设置图例属性（颜色和形状...）（不幸的是，您必须为每个 ChartData 执行此操作...）。
4.  为每个系列设置 PointWidth 属性 0。

查找 PointWidth 属性 首先，单击每个系列并显示 Visual Studio 的属性窗口。它位于自定义属性下。

# java - hibernate.cfg.xml 没有找到 hibernate.properties 文件

> ID：13304078
> 
> 赞同：1
> 
> 时间：2012-11-09T07:44:43.197
> 
> 标签：java, hibernate, hibernate.cfg.xml

我们曾经在 Java 源文件夹的同一个文件夹中拥有 hibernate.cfg.xml 和 hibernate.properties 文件。现在我将 hibernate.properties 文件移动到另一个位置。如何让 hibernate.cfg.xml 文件再次找到 hibernate.properties 文件？我收到一个错误，似乎表明它不再被发现。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T08:21:02.737

以编程方式，您可以像这样加载 XML 和属性：

```
public class MyHibernate {

  private static final SessionFactory sessionFactory = buildSessionFactory();

  private static SessionFactory buildSessionFactory() {
    try {
        URL r1 = MyHibernate.class.getResource("/hibernate.cfg.xml");
        Configuration c = new Configuration().configure(r1);

        try {
            InputStream is = MyHibernate.class.getResourceAsStream("/hibernate.properties");
            Properties props = new Properties();
            props.load(is);
            c.addProperties(props);
        } catch (Exception e) {
            LOG.error("Error reading properties", e);
        }

        return c.buildSessionFactory();
    } catch (Throwable ex) {
        LOG.error("Error creating SessionFactory", ex);
        throw new ExceptionInInitializerError(ex);
    }
  }

  public static SessionFactory getSessionFactory() {
    return sessionFactory;
  }
} 
```

希望它有用。

# php - Template::populateStoreData() 在安装扩展 HTML 电子邮件模板后在 opencart 中出现错误：4.2

> ID：13304079
> 
> 赞同：0
> 
> 时间：2012-11-09T07:45:00.740
> 
> 标签：php, opencart

致命错误：在第 712 行调用 /home/larssona/staging/landj20121029/vqmod/vqcache/vq2-admin_model_sale_order.php 中的未定义方法 Template::populateStoreData()

进入管理员销售点击销售/订单历史

将状态更改为已发货点击通知用户

然后单击添加历史记录然后发生此错误

# excel - excel vba子脚本越界错误

> ID：13304081
> 
> 赞同：0
> 
> 时间：2012-11-09T07:45:01.613
> 
> 标签：excel, vba

我试图获得以下代码的输出，但它给出了错误

以下是代码：

* * *

```
Dim strRisk() As String
Dim riskLen As Integer

strRisk = SplitMultiDelims(ActiveCell.Offset(0, 9).Value, "@")
MsgBox UBound(strRisk) 
```

错误：

* * *

```
Run time error '9':
Subscript out of range 
```

引用单元格中的值不为空，还有什么原因？还有另一种方法可以做到这一点。

请帮帮我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T09:17:48.920

如果您定义`Dim strRisk() As String`为动态数组，那么您需要`Redim strRisk (n)`并进一步参考带有相应索引的 strRisk：`strRisk(i)=....`

如果您想将 strRisk 存储为数组，请使用`Dim strRisk As Variant`, then 即可`strRisk=...`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T09:20:07.783

在开始的行上添加一个断点，`strRisk`然后运行代码。

如果您现在`Excel.ActiveCell(0, 9).select`在即时窗口中运行该行，它肯定是您希望此代码针对的单元格吗？

# javascript - 使用使用 $routeParams 的资源对 AngularJS 控制器进行单元测试

> ID：13304083
> 
> 赞同：7
> 
> 时间：2012-11-09T07:45:08.000
> 
> 标签：javascript, unit-testing, angularjs, jasmine

注意：我在 CoffeeScript 中编写所有内容

我有一个控制器如下：

```
angular.module('myApp').controller 'MyController', ($scope, $routeParams, Batch) ->
    $scope.$on '$routeChangeSuccess', () ->
        Batch.get {batchUuid: $routeParams.batchUuid}, (response) ->
            $scope.batch_id = response.id 
```

控制器拉入 Batch 资源，其定义如下：

```
angular.module('myApp').factory 'Batch', ($resource) ->
    $resource '/batches/:batchUuid', {} 
```

我有一条路线如下：

```
$routeProvider.when('/batches/:batchUuid',
    { templateUrl: 'batches-processing.html', controller: 'MyController' }) 
```

**所以：**

*   你访问路线**/batches/22**
*   它使用 MyController
*   它触发**$routeChangeSuccess**
*   它调用从路由中获取批处理资源的批处理资源
*   它返回一个 json 响应并将一个 id 分配给 $scope.batch_id

现在我想对此进行测试，所以我有一个单元测试如下：

```
describe 'Controllers', ->
    beforeEach module 'myApp'
        describe 'MyController', ->
            scope = {}
            ctrl= {}

            beforeEach inject ($rootScope, $controller, Batch, $httpBackend) ->
                scope = $rootScope.$new()
                ctrl = $controller('MyController', ($scope: scope))
                #I imagine I need to use either my injected Batch resource or the httpBackend to fake/expect the ajax call here

            it "Gets data from the resource and assigns it to scope", () ->
                #How on earth do I test this 
```

我见过有人使用 $httpBackend.expect('/endpoint.json').respond({id:1}) 等，但我不能这样做。我的资源 URL 依赖于路由中的 batchUuid。我如何模拟/伪造/实现一个模拟路由更改、触发 $routeChangeSuccess、将 routeParameter 传递给资源、获取资源并测试结果的测试？

我正在把头发拉出来，而有角的文档似乎没有覆盖它。

谢谢！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-10T01:33:29.010

您可以制作一个假的 routeParams 并将其注入您的控制器。

我使用 jasmine 的 createSpy 来制作假货，但这可能有点矫枉过正。[这里](https://github.com/roytruelove/angular-grunt-coffeescript/blob/master/src/test/detailsView/detailsViewSpec.coffee)有一个例子展示了如何创建和注入假的 routeParams。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-18T23:47:56.760

这个 js fiddle 显示了被注入的 routeParams：

[http://jsfiddle.net/rimian/wgctykea/](http://jsfiddle.net/rimian/wgctykea/)

```
it('should take articleId as id if specified', inject(function ($controller) {
  routeParams.articleId = 5;

  ctrl = $controller('MyAppCtrl', {
    $scope: scope,
    $routeParams: routeParams
  });

  expect(scope.id).toEqual(5);
})); 
```

# android - 如何在android中从软键盘单击“GO”按钮时使光标不可见？

> ID：13304086
> 
> 赞同：0
> 
> 时间：2012-11-09T07:45:36.553
> 
> 标签：android, cordova, android-softkeyboard

我正在使用phonegap准备应用程序。在应用程序中，我显示了数据列表和一个搜索栏。用户可以按特定名称搜索。这里我使用了jquery ajax。它工作正常。我的问题是点击搜索栏软键盘时会自动打开。输入文本后，只需单击软键盘中的“GO”按钮，我调用搜索方法。它也工作正常。但光标在搜索栏上仍然可见。我想让光标在单击“GO”按钮时不可见来自软键盘。我的代码是，

```
 function submitOnEnter(inputElement, event) 
 {  
  console.log("KEY OCDE:: "+event.keyCode);
  if (event.keyCode == 13) 
  {   
   caSearch();
  }  
 } 
```

请指导我克服这个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T07:51:46.013

使用这些属性，这将使您无法选择您的编辑文本，因此将取消选择是否适合您。

`yourEditText.setFocusable( false );`

`yourEditText.setFocusableInTouchMode( false );`

紧接着，把这两个价格的代码颠倒过来

`yourEditText.setFocusable( true );`

`yourEditText.setFocusableInTouchMode( true );`

那应该为您从搜索栏中删除光标

# ruby - 定义？怪异

> ID：13304087
> 
> 赞同：1
> 
> 时间：2012-11-09T07:45:39.170
> 
> 标签：ruby

今天早上我在 Ruby 中遇到了一件奇怪的事情，关于三元运算符。这是怎么回事：

```
x = nil ? x : true 
```

众所周知，`x`设置为**true**，也就不足为奇了。现在，随后运行：

```
defined?(y) 
=> nil 
```

这个答案意味着`y`尚未定义。然而：

```
defined?(y) ? y : true 
```

返回**真**。再也不意外了。惊喜来了：

```
y = defined?(y) ? y : true 
```

会发生什么？`y`设置为`nil`！

但是等等，还有更多。现在既然`y`已分配，让我们使用`z`：

```
defined?(z) 
#=> nil 
```

暗示`z`尚未定义。

```
z = defined?(z) ? false : true 
```

惊喜：`z`设置为**false**。我不知道这是怎么发生的。在一个`if`块中执行相同的操作会产生相同的结果。

```
z1 = if defined?(z1) then z1 else true end 
```

再次`z1`设置为`nil`。

```
z2 = if defined?(z2) then false else true end 
```

这也给了我一个惊喜，就像`z2`设置为`false`. 现在我假设上述表达式的行为类似于：

```
z3 = if nil then false else true end 
```

where`z3`被分配到，考虑到在上述所有情况下返回`true`的事实。这让我相信call 有一些特别的工作，但我在 Ruby 文档中找不到关于它的信息。`defined?``nil``defined?`

顺便提一句。我在 ruby​​ 1.8.7 和 1.9.2 上测试了上述内容

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T07:50:48.543

好的。我认为这解释了它：

```
ccc = (ccc == nil)
=> true 
```

显然，每当你给一个变量赋值时，ruby 首先将它初始化为 nil。

# jsf - 组合框上的 JSF onclick 事件

> ID：13304090
> 
> 赞同：0
> 
> 时间：2012-11-09T07:46:15.143
> 
> 标签：jsf, oracle-adf

我不知道如何在组合框上实现 onclick 事件，我的老板想让我做的是，一旦用户单击组合框中的值，它就会自动搜索并显示所选/单击项的所有值。第一个问题是否可以在不使用任何 javascript/jquery 的情况下在 JSF 页面上设置 onclick 事件？现在我正在使用 ADF 来设计界面。第二个问题如何在我的组合框上实现这个 onclick 事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T12:27:38.930

有几种方法可以实现这一点：

1.  使用 valueChangeListener 并在它触发时执行您的查询。
2.  设置 autoSubmit="true" 并在绑定值更改时执行您的查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T09:18:57.973

仅在下拉列表中选择一个值不会提交您的表单。这不是关于 JSF 而是关于 HTML .. 所以没有*任何*JS 我认为这是不可能的。

我对 ADF 的特殊知识一无所知，但在普通 JSF 中，您只需在下拉列表中添加一个 ajax 事件（例如在 primefaces 中）

```
<h:form id="id1">
            <p:selectOneMenu id="id2" value="#{myBean.value}" 
                             immediate="true" editable="true" >
                <f:ajax execute="@this" listener="#{myBean.doSomeAction}" />
                <f:converter converterId="myConverter" />
                <f:selectItems value="#{myBean.availableOptions}" />
            </p:selectOneMenu>
</h:form> 
```

# templates - Drupal 6 内容类型不同的模板（或不同的主题）子站点

> ID：13304091
> 
> 赞同：0
> 
> 时间：2012-11-09T07:46:16.337
> 
> 标签：templates, drupal, drupal-6, themes, contenttype

mysite 有以下目录： mysite/sites/all/themes/a mysite/sites/all/themes/b mysite/sites/all/themes/c 有 3 种内容类型：a、b、c。而且每种类型我都想用他目录下的tpl文件。也就是说，如果我创建内容类型为 a 的内容。而这个内容会用到mysite/sites/all/themes/a/page.tpl.php这个目录下的tpl文件（node.tpl.php,template.tpl.php）那么怎么做呢？顺便说一句，我也使用“子站点”，所以当我创建内容时，我可以从子站点列表中选择：“无”“a”“b”“c”。那么如何将模板/主题与内容类型或子站点选项相关联？

[因为问题是：如果我创建“b”类型的内容并且不选择子站点（选择“none”），那么该内容将使用“a”模板。然后如果我选择子站点“b”，它将不起作用。][如果我创建内容“b”并选择子站点“b”，那么这个内容将是“b”模板。][如果我创建内容“b”并选择子站点“b”，并设置“URL路径设置”，则该内容将是“a”模板。我认为“a”是默认模板。]所以我对此一无所知。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T14:40:23.630

该模块可用于 Drupal 6.x，并且似乎完全符合您的要求。 [http://drupal.org/project/content_theme](http://drupal.org/project/content_theme)

在尝试使用 Drupal 搜索实现它的模块时，这通常是一个好主意。

我在以下搜索中找到了这个搜索： [https ://www.google.se/search?q=drupal+multiple+themes&oq=drupal+multiple+themes&sugexp=chrome,mod=0&sourceid=chrome&ie=UTF-8](https://www.google.se/search?q=drupal+multiple+themes&oq=drupal+multiple+themes&sugexp=chrome,mod=0&sourceid=chrome&ie=UTF-8)

在对第一次点击的评论中：http: [//drupal.org/node/107755#comment-6035558](http://drupal.org/node/107755#comment-6035558)

更新：我希望这会有所帮助。我不清楚您所说的“子网站”是什么意思。

# objective-c - 为 iphone 制作应用程序而不将其放入应用商店

> ID：13304100
> 
> 赞同：-1
> 
> 时间：2012-11-09T07:47:01.163
> 
> 标签：objective-c, ios, xcode

我有 ios 的开发者帐户。我想把我的应用程序发送给一些人来查看和测试它。有没有办法导出我的应用并将其发送而不将其添加到应用商店？（它还没有完成，我需要向远方的人展示结果..）

谢谢您的回答。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T08:06:23.733

如果您有任何客户在发送到 App-Store 之前测试您的应用程序，您最好使用您的开发者帐户使用**.ipa文件进行分发。**

您可以通过任何方式将 .ipa 发送给客户，因为客户可以通过**iTunes**轻松安装 .ipa 文件。

您可以使用多个平台在客户设备中部署/安装您的应用程序。例如**TestFlight、Appaloosa 商店**等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T07:48:27.940

您需要为您的应用创建所谓的*临时*分发。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T07:48:24.303

使用 TestFlight，这是最好的方法。 [https://testflightapp.com/](https://testflightapp.com/)

# c++ - 使用 C++ 中类构造函数的参数初始化公共属性

> ID：13304101
> 
> 赞同：0
> 
> 时间：2012-11-09T07:47:01.277
> 
> 标签：c++, constructor, initialization, boost-multi-array

我在 .cpp 文件中实现了一个类，如下所示：

```
#include <ctime>
#include <iostream>

// les 3 lib boost/random nécessaire a généré les radiuses
#include "boost/random/mersenne_twister.hpp"
#include "boost/random/normal_distribution.hpp"
#include "boost/random/variate_generator.hpp"
// la lib boost fournissant des arrays multidimensionnels
#include "boost/multi_array.hpp"

#include "porenetwork.h"

using namespace std;

typedef boost::random::mt19937 ENG;
typedef boost::normal_distribution<double> DIST;   // Normal Distribution
typedef boost::variate_generator<ENG,DIST> GEN;    // Variate generator

typedef boost::multi_array<bool, 3> StateNetworkType;
typedef boost::multi_array<double, 3> RadiusNetworkType;
typedef StateNetworkType::index index;
typedef boost::multi_array_types::index_range range;

PoreNetwork::PoreNetwork(int esize)
{
cout << "esize = " << esize << endl;
Size = esize;
StateNetworkType States(boost::extents[Size][Size][Size]);
RadiusNetworkType Radiuses(boost::extents[Size][Size][Size]);

// initialise the Radiuses
ENG eng;
eng.seed(static_cast<unsigned int>(std::time(0)));
DIST dist(0,1);
GEN gen(eng, dist);

for(index i = 0; i != Size; ++i) 
    for(index j = 0; j != Size; ++j)
        for(index k = 0; k != Size; ++k)
            Radiuses[i][j][k] = gen();

}

int PoreNetwork::getSize() {return Size;} 
```

并在头 .h 文件中定义如下：

```
#ifndef PORENETWORK_H
#define PORENETWORK_H

#include "boost/multi_array.hpp"

typedef boost::multi_array<bool, 3> StateNetworkType;
typedef boost::multi_array<double, 3> RadiusNetworkType;

class PoreNetwork
{
public:
    PoreNetwork(int esize);
    int getSize();
    StateNetworkType States;
    RadiusNetworkType Radiuses;

private:
    int Size;
    /* add your private declarations */
};

#endif /* PORENETWORK_H */ 
```

我的问题是当我从 main.cpp 调用它时，属性 PoreNetwork::Radiuses 和 PoreNetwork::States 似乎没有被初始化。

据我了解，我的 .cpp 中的半径和状态不是我的头文件中定义的，因为我重新定义了它们。

我的问题是：我如何在我的类中定义和初始化这两个属性，知道它们是 Boost::multi_array 并且它们的构造函数将我的类构造函数也接受的参数作为输入。

即：我的 PoreNetwork 类的构造函数采用 1 个参数 esize，它是一个 int，这也是其属性 Radiuses 和 States 的构造函数的参数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T08:00:42.913

初始化成员的最好方法是使用初始化列表。但是您仍然需要注意成员声明顺序和初始化顺序。

```
class PoreNetwork
{
private: 
    int Size;  // note, put Size in front of States/Radiuses members
public:
    PoreNetwork(int esize);
    int getSize();
    StateNetworkType States;
    RadiusNetworkType Radiuses;
};

PoreNetwork::PoreNetwork(int esize)
: Size(esize),        // important to initialise Size first
  States(boost::extents[Size][Size][Size]),
  Radiuses(boost::extents[Size][Size][Size]) 
{
  cout << "esize = " << esize << endl;
} 
```

如果您不先初始化 Size，则初始化 State 和 Radiuses 和 Size 尚未初始化是未定义的行为。

```
 PoreNetwork::PoreNetwork(int esize)
    : States(boost::extents[Size][Size][Size]),      // Undefined behavior as Size is not initialised yet
      Radiuses(boost::extents[Size][Size][Size]),
      Size(esize) 
```

如果您没有将 Size 放在成员列表中的 States/Radiuses 前面，则会收到编译器警告。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T07:51:12.760

使用初始化列表：

```
PoreNetwork::PoreNetwork(int esize) :
  States(boost::extents[esize][esize][esize]),
  Radiuses(boost::extents[esize][esize][esize]),
  Size(esize) 
{
...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T07:51:20.767

成员变量构造函数的调用如下：

```
PoreNetwork::PoreNetwork(int esize) :
  States(boost::extents[esize][esize][esize]),
  Radiuses(boost::extents[esize][esize][esize])
{
  ...
} 
```

这意味着在将构造函数参数应用于成员变量之前，很难在正文中使用它们。如果您不能调用 resize() （或类似的东西），通常使用类似 boost::extents 的函数是唯一的选择。

# python - 返回相应讲座的平均分

> ID：13304105
> 
> 赞同：-2
> 
> 时间：2012-11-09T07:47:34.973
> 
> 标签：python, list, whitespace

每行代表一个学生，由一个学号、一个姓名、一个部门代码和一个期中成绩组成，所有这些都用空格分隔。第一个参数已经完成，文件已打开，
第二个参数是部分代码，这是链接[http://www.cdf.toronto.edu/~csc108h/fall/exercises/e3/grade_file.txt](http://www.cdf.toronto.edu/~csc108h/fall/exercises/e3/grade_file.txt)

我的代码：

```
def average_by_section(the_file, section_code):  
    '''(io.TextIOWrapper, str) -> float  
    Return the average midtermmark for all students in that section  
    '''  
        score = 0  
        n = 0  
        for element in the_file:  
            line = element.split()  
            if section_code == line[-2]:  
                mark = mark + float(line[-1])  
                n += 1  

        lecture_avg = mark / n  
        return lecture_avg 
```

我的索引超出范围。这个对吗？还是我只是打开了错误的文件？
有人可以测试此代码并下载该文件吗？我很确定它应该工作，但不适合我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T07:58:40.820

`print line`好吧，您可以使用或`print(line)`探索“行”中的项目数（即 的效果）来解决索引超出范围错误 `split()`。我建议仔细看看你的`split()`陈述......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T07:58:55.717

看起来您省略了定义其中一些变量（ , 等）的部分代码`section_code`，`mark`但针对其中一些内容进行调整似乎可以正常工作。假设您得到的错误是`IndexError: list index out of range`，当您尝试按索引访问列表中不存在该索引的元素时，就会发生这种情况。例如：

```
>>> l = ['one']
>>> l[0]
'one'
>>> l[1]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list index out of range
>>> l[-1]
'one'
>>> l[-2]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list index out of range 
```

`line`因此，在您的代码中，如果少于两个项目，您将收到该错误。我会检查并查看您实际得到的结果，`line`以确保它是您所期望的。

# performance-testing - 创建应用程序以在 vsts 中运行编码的 Web 性能测试

> ID：13304107
> 
> 赞同：1
> 
> 时间：2012-11-09T07:47:47.567
> 
> 标签：performance-testing

我创建了一个编码的网络性能测试。现在，我正在从 Visual Studio 运行测试。我需要将它作为应用程序或 exe 文件运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T10:16:44.797

Web 性能测试（编码或未编码）仅适用于 MS 测试执行引擎。我找到的唯一解决方案是通过 mstest.exe 调用测试。

[你可以在这里](http://msdn.microsoft.com/en-us/library/ms243149.aspx)找到更多信息

# javascript - 如何防止更改主要内容滚动条的状态？

> ID：13304108
> 
> 赞同：0
> 
> 时间：2012-11-09T07:47:48.710
> 
> 标签：javascript, jquery, fancybox, fancybox-2

默认情况下，fancybox 插件隐藏一个滚动条并显示另一个不可滚动的滚动条。

特别是当您在没有任何选项的情况下激活插件时，它会隐藏主要内容的滚动条并显示另一个“不可滚动”滚动条。

例如，您像这样配置插件：

```
$( document ).ready(    function() { $( '.fancybox' ).fancybox(); } ); 
```

如何拒绝隐藏主滚动条以及如何不显示不可滚动的滚动条？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:02:46.953

```
$(".fancybox").fancybox({
    helpers : {
        overlay : {
            locked : false
        }
    }
}); 
```

# ruby-on-rails - 私有方法“获取”调用“..”（NoMethodError）

> ID：13304112
> 
> 赞同：0
> 
> 时间：2012-11-09T07:47:59.883
> 
> 标签：ruby-on-rails, ruby

抱歉这个愚蠢的问题我是红宝石新手。下面的代码有什么问题导致此错误：

```
private method `gets' called for "file.txt":String (NoMethodError) 
```

这是代码：

```
def read_file(path)
 File.open(path, 'r') do |file|
    while line = path.gets
     puts line
    end 
 end 
end

def initialize
  read_file("file.txt")
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T08:29:57.433

你这样说：

```
path.gets 
```

并且`path`是一个`String`。有一个[`gets`方法`Kernel`](https://ruby-doc.org/core/Kernel.html#method-i-gets)：

> **获取（sep=$/）→字符串**
> **获取（限制）→字符串或零**
> **获取（sep，限制）→字符串或零**
> 
> 从(or ) 中的文件列表中返回（并分配给`$_`）下一行，如果命令行上没有文件，则从标准输入中返回。`ARGV``$*`

[`String`](https://ruby-doc.org/core/String.html)包括`Kernel`via[`Object`](https://ruby-doc.org/core/Object.html)所以`gets`上面提到的方法也是`String`. 但是，`Kernel#gets`是私人的，所以`String#gets`是私人的，你的错误是：

```
private method `gets' called for "file.txt":String (NoMethodError) 
```

你想像其他地方所说`gets`的`file`那样打电话。

`Kernel#gets`，就像许多（所有？）`Kernel`方法一样，它是存在的，因此您可以将其视为`gets`快速'n'dirty one-liners 等的普通函数。的单行性`Kernel#gets`也是它做事的原因`$_`。

* * *

这个答案主要是背景信息，以便您知道发生了什么。我建议接受[Hck 的回答](https://stackoverflow.com/a/13304147/479863)，因为他们是对的，而且他们是第一个加入的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T07:49:53.043

替换`while line = path.gets`为`while line = file.gets`

# sql - 如何对两个子查询进行划分

> ID：13304113
> 
> 赞同：0
> 
> 时间：2012-11-09T07:48:06.083
> 
> 标签：sql, sql-server

我在以下子查询内部选择中有两个。我想划分（subquery1/subquery2）两个子查询。你怎么做呢？

`Select **subquery1/subquery2**,subquery1,subquery2 From.....`

谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T07:56:35.050

好吧，如果你有 SQL Server 2005 或更高版本，你可以这样做

```
select
    SQ.s1 / SQ.s2, SQ.s1, SQ.s2
from table as t
    outer apply (select subquery1 as s1, subquery2 as s2) as SQ 
```

如果你有 SQL 2000 那么你可以使用子查询:)

```
select
    SQ.s1 / SQ.s2, SQ.s1, SQ.s2
from
(
    select subquery1 as s1, subquery2 as s2
    from table as t
) as SQ 
```

# objective-c - 点击时返回标签的标签

> ID：13304120
> 
> 赞同：0
> 
> 时间：2012-11-09T07:48:25.240
> 
> 标签：objective-c, ios, ios6, xcode4.5, uitapgesturerecognizer

我的视图中有 5 个标签，分别标记为 1、2、3、4 和 5。我在它们上启用了*用户交互*，并添加了点击手势。

现在我想要的是获取被触摸标签的标签。

我正在做这样的事情：

```
tapGesture=[[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(tapGestureSelector)];

tapGesture.numberOfTapsRequired = 1.0;     

- (void)tapGestureSelector :(id)sender
{
    // I need the tag to perform different tasks.
    // So that I would like to get the touched label's tag here.    
} 
```

如果我的问题不清楚，请问我。

感谢期待帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:29:33.207

要访问您的标签，`UILabel`您需要在您的`tapGestureSelector`方法中使用以下代码。

```
- (void)tapGestureSelector :(id)sender
    {
        UITapGestureRecognizer *gesture = (UITapGestureRecognizer *)sender;
        int labelTag = gesture.view.tag;
        NSlog(@"Clicked label %d", labelTag);

        switch(labelTag)
        {
           case 1:
                 NSlog(@"Clicked on label 1");
                 break;
           case 2:
                 NSlog(@"Clicked on label 2");
                 break;

           //so on
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T10:15:00.413

首先，我将`oneLabel`和`twoLabel`作为子视图添加到`self.view`. 然后我认为没有必要获取标签。

```
CGPoint tapPoint = [tapGesture locationInView:self.view];

if (CGRectContainsPoint(self.oneLabel.frame, tapPoint)) {
    NSLog(@"tapped one label");
} else if (CGRectContainsPoint(self.twoLabel.frame, tapPoint)) {
    NSLog(@"tapped two label");
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T12:30:52.210

我以这种方式找到了解决方案，它对我来说非常有效。我希望它也能帮助你。它非常简单和简短。

**我们可以通过将此函数添加到我们的 .m 文件中来获取标签的标签。**

```
-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
    UITouch *touch=[touches anyObject];
    UILabel *label=(UILabel *)touch.view;

    NSLog(@"Label that is tapped has tag %d",label.tag);
} 
```

再次感谢您提供的所有非常好的建议和答案。我希望将来我能从 SO 那里得到所有问题的好答案。再次感谢大家。

# node.js - 我应该如何在猫鼬中存储价格？

> ID：13304129
> 
> 赞同：22
> 
> 时间：2012-11-09T07:48:55.200
> 
> 标签：node.js, mongoose, currency

我正在为 node.js 使用猫鼬模式以及 express-validator（它具有 node-validator santiziations 和验证器）。

存储商品价格的好方法是什么？

我目前有

```
var ItemSchema = new Schema({
    name            : { type: String, required: true, trim: true }
    , price             : Number
}); 
```

价格是可选的，所以我有：

```
 if ( req.body.price ) {
    req.sanitize('price').toFloat();
    req.assert('price', 'Enter a price (number only)').isFloat();
  } 
```

express-validator 给了我 isNumeric（允许 0 填充）、isDecimal 和 isInt...我宁愿只转换为十进制并删除所有字符，所以我总是将 42.00 插入到 db 中。

我想让他们输入 42.00 美元、42 美元、42 美元、42.00 美元，然后只存储 42.00 美元。我怎样才能做到这一点？并且仍然验证我看到类似于数字的东西，例如，如果他们输入“abc”，我想使用 req.assert 将错误返回到表单。

另外，我想货币最终会成为一个问题......

更新，我发现这篇文章说将价格存储为以美分为单位的整数，所以 4200 [https://dba.stackexchange.com/questions/15729/storing-prices-in-sqlite-what-data-type-to-use](https://dba.stackexchange.com/questions/15729/storing-prices-in-sqlite-what-data-type-to-use)

当我调用 item.price 并清理输入并将其转换为 4200 时，我只需要一种将 4200 转换为 42.00 美元的方法。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-11-09T09:23:07.707

这就是我最终做的...

我将价格作为美分存储在数据库中，因此 49.99 的价格为 4999，如下所述：[https ://dba.stackexchange.com/questions/15729/storing-prices-in-sqlite-what-data-type-to-use](https://dba.stackexchange.com/questions/15729/storing-prices-in-sqlite-what-data-type-to-use)

getPrice 会将其转换回可读格式，因此我可以在我的视图中使用 item.price 而无需修改它。

setPrice 将其转换为美分。

模型：

```
var ItemSchema = new Schema({
    name            : { type: String, required: true, trim: true }
    , price             : {type: Number, get: getPrice, set: setPrice }
});

function getPrice(num){
    return (num/100).toFixed(2);
}

function setPrice(num){
    return num*100;
} 
```

我选择在价格字段中只允许数字和小数，没有 $。所以他们可以输入 49、49.99、49.00，但不能输入 49.0 或 49 美元

使用正则表达式验证：

```
if ( req.body.price ) {
    req.assert('price', 'Enter a price (numbers only)').regex(/^\d+(\.\d{2})?$/);
} 
```

我希望有一种方法可以允许 $ 因为我认为这是一个可用性问题，只需让用户输入它，但将其剥离。我不知道该怎么做，但仍然可以验证我们有一个价格，而不是一堆字母。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2016-04-16T18:22:29.073

> **提示：**这里描述的方法基本上只是[chovy 的 answer 的](https://stackoverflow.com/a/13305216/831465)另一种实现。

# Mongoose 3 和 4 的解决方法：

如果您无法直接在模式中定义 getter 和 setter，您也可以使用该[`schema.path()`](http://mongoosejs.com/docs/api.html#schematype_SchemaType-set)函数来完成这项工作：

```
var ItemSchema = new Schema({
  name: String,
  price: Number
});

// Getter
ItemSchema.path('price').get(function(num) {
  return (num / 100).toFixed(2);
});

// Setter
ItemSchema.path('price').set(function(num) {
  return num * 100;
}); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-05-01T22:55:42.197

将模式类型“货币”添加到 mongoose 以处理金钱。自动去除常用字符（“，”，“$”和字母字符）

[https://github.com/paulcsmith/mongoose-currency](https://github.com/paulcsmith/mongoose-currency)

它能做什么：

将字符串保存为整数（通过去除非数字并乘以 100）以防止在执行计算时出现舍入错误（有关详细信息，请参阅陷阱）从字符串的开头去除符号（有时用户包括货币符号）去除逗号（有时用户添加逗号或将粘贴值复制到表单中，例如“1,000.50”仅保存小数点后两位（“$500.559”转换为 50055 并且不四舍五入）从字符串中去除 [a-zA-Z] 传入字符串或数字。数字将按原样存储。假设如果您将值设置为整数，则您已经完成了转换（例如 50000 = $500.00）如果传入浮点数，它将对其进行舍入。（500.55 -> 501). 只需传入整数以确保安全。

希望它可以帮助一些。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2021-12-03T22:48:56.640

有点晚了，但是...

[chovy](https://stackoverflow.com/a/13305216/10871073)的答案几乎对我有用——我只需要 `{ toJSON: { getters: true }}`在模式声明中添加一个选项参数。

例子：

```
import mongoose from 'mongoose'
const productosSchema = new mongoose.Schema(
    {
        name: String,
        price: {
            type: Number,
            get: v => (v/100).toFixed(2),
            set: v => v*100
        }
    },
    { 
        toJSON: { getters: true } //this right here
    }
);
export default mongoose.model('productos', productosSchema) 
```

这适用于猫鼬 6.0.14。

参考资料：[https ://mongoosejs.com/docs/api.html#document_Document-toJSON](https://mongoosejs.com/docs/api.html#document_Document-toJSON)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-13T02:28:53.443

我一直在研究这个主题，因为我不仅想存储价格，还想存储版本，它们都可能有尾随的 0，当存储为数字时会被截断。据我所知，Mongoose/MongoDB 无法保存带有尾随零的数字。

除非您将数字保存为字符串。

除了存储数以万计或以千计的数字并进行分割或解析之外，您还可以将其存储为字符串。这意味着，当您需要显示“1.0”或“1.00”时，您可以随时打印出来，只需使用变量而不进行任何转换。由于 JavaScript 没有类型，您仍然可以将其与数字进行比较（确保它在左侧）。例如，var < 10 将返回正确的评估，即使 var 是字符串也是如此。但是，如果您要比较两个变量，则需要确保它们都是数字。当您需要一个数字时，您可以将字符串乘以 1 (var * 1 < var2 * 1)，这将确保 JavaScript 将 var 视为一个数字，尽管它会丢失尾随的零。

一方面，将其存储为字符串意味着每次要将变量用作数字时都需要进行转换。另一方面，每次您想将美分数字用作美元金额时，您可能都会进行数字转换（var / 100）。此选项取决于您需要将值作为数字的频率。此外，如果您忘记变量是字符串，则可能会导致更大的错误，而不是忘记变量以美分为单位。

（但是，它非常适合仅用于显示和比较的版本号。）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-07-13T05:54:11.477

*数字*模块将完成： http : [//numeraljs.com/](http://numeraljs.com/) [https://www.npmjs.com/package/numeral](https://www.npmjs.com/package/numeral)

# javascript - AngularJS如何处理异步调用

> ID：13304131
> 
> 赞同：2
> 
> 时间：2012-11-09T07:48:59.413
> 
> 标签：javascript, angularjs

```
var todoApp = angular.module('TodoApp', ['ngResource']);
todoApp.value('restTodo', 'api/1/todo/:id');

var todoCtrl = todoApp.controller('TodoCtrl', function($scope, $resource, restTodo) {
    $scope.src = $resource(restTodo);
    //add & refresh
    $scope.src.save({ content: 'hello world', done: false });
    $scope.todos = $scope.src.get();
    //OR
    //delete & refresh
    $scope.src.delete({ id: '1' });
    $scope.todos = $scope.src.get();
}); 
```

当我添加/删除项目并再次从服务器读取待办事项列表以刷新它时。我发现我会不时遇到这个错误：

```
System.InvalidOperationException: There is already an open DataReader associated with this Command which must be closed first. 
```

有人说我可以放入`MultipleActiveResultSets=true;`连接字符串，但我怀疑它只会隐藏我的问题，因为 GET 显然试图在 DELETE 完成其工作之前进行脏读。

在基于事件的样式语言中，我自然会在 DELETEComplete() 事件之后调用 GET。但是，我是 AngularJS 的新手，我不确定它是如何在这里完成的？请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T07:53:05.903

我不是专家，但我会将读取的代码放在保存的成功回调中。像这样的东西：

```
var todoApp = angular.module('TodoApp', ['ngResource']);
todoApp.value('restTodo', 'api/1/todo/:id');

var todoCtrl = todoApp.controller('TodoCtrl', function($scope, $resource, restTodo) {
    $scope.src = $resource(restTodo);
    //add & refresh
    $scope.src.save({ content: 'hello world', done: false }, 
      function(data) {
       $scope.todos = $scope.src.get();
    });
}); 
```

# c# - c# - 以编程方式从 XP、Vista 和 7 获取 Windows 更新列表

> ID：13304132
> 
> 赞同：2
> 
> 时间：2012-11-09T07:49:01.073
> 
> 标签：c#, .net

如何获取已安装和以编程方式保留的 Windows 更新列表？

我想在 XP、Vista 和 Windows 7 上运行此代码。

我想要列表 .. 已安装的更新和尚未安装的更新

如何在 C# 中做到这一点？

# python - QTreeWidget 双击展开动画

> ID：13304136
> 
> 赞同：4
> 
> 时间：2012-11-09T07:49:13.047
> 
> 标签：python, qt4, python-2.7, pyside, qtreewidget

我创建了一个`QTreeWidget`并将动画设置为 true ( `setAnimated(true)`)。当我单击项目左侧的标记（三角形）时，它会平滑扩展，但是当我双击项目时，它会扩展得太快（几乎就像没有设置“动画”标志一样）。我也想要双击时流畅的动画。我怎么解决这个问题？

`QTreeView``QTreeViewPrivate::expandOrCollapseItemAtPos`在标记单击和双击时调用`QTreeViewPrivate::expand`，因此我无法访问这些方法。

我正在使用 PySide 来创建 Qt 应用程序（但我已经尝试过 C++ 并且问题是一样的）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T19:32:16.007

您需要覆盖点击行为。检查事件是否是双击，然后您可以将事件重定向到适当的调用。您应该检查状态是否已被单击，以防止可能发生的第二个动画。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-18T04:20:08.190

诀窍是，在默认实现中，双击也会产生单击。在展开动画之前，默认实现调用`QAbstractItemView::setState(AnimatingState)`来设置动画的内部状态。

在`QAbstractItemView::mouseReleaseEvent()`,`QAbstractItemView::setState(NoState)`在动画完成之前调用。在此之后，动画立即终止。

使用以下代码解决：

```
void YourSubTreeView::mouseReleaseEvent(QMouseEvent* event)
{
    QAbstractItemView::State preState = state();
    QTreeView::mouseReleaseEvent(event);
    if (preState == QAbstractItemView::AnimatingState)
        setState(preState);
} 
```

# signalr - 组订阅是否会在重新连接时自动处理？

> ID：13304137
> 
> 赞同：7
> 
> 时间：2012-11-09T07:49:20.247
> 
> 标签：signalr

我有一个使用 SignalR Hub 进行消息传递的聊天室。有时我会收到用户“冻结”的报告。现在这可以解释为没有消息通过，我怀疑它们已从组中删除。

我的问题是，连接是否会自动重新订阅回其组，或者您是否必须在 Reconnect 方法中自己做一些事情：

```
public Task Reconnect(IEnumerable<string> groups)
{
        return Clients.rejoined(Context.ConnectionId, DateTime.Now.ToString());
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-10T17:26:35.617

是的，在 1.0.0.0-alpha1 中，您可以使用新的[`AutoRejoiningGroupsModule`](https://github.com/SignalR/SignalR/blob/master/src/Microsoft.AspNet.SignalR.Core/Hubs/Pipeline/AutoRejoiningGroupsModule.cs)管道模块使用`EnableAutoRejoiningGroups`您构建的中心管道的扩展方法来启用组的自动重新加入。此功能在以前版本的框架中不可用。

所以你最终会在你的启动代码中的某个地方得到这个：

```
GlobalHost.HubPipeline.EnableAutoRejoiningGroups(); 
```

**更新：**

请注意，SignalR 1.0 的最终版本使自动重新加入组成为默认行为，因此`EnableAutoRejoiningGroups`被删除。您可以查看[此答案](https://stackoverflow.com/questions/14967575/enableautorejoininggroups-disappeared-in-signalr-1-0)以获取更多详细信息。

# python - 使用 Django 重定向和 HttpResponseRedirect 有什么区别？

> ID：13304149
> 
> 赞同：72
> 
> 时间：2012-11-09T07:50:13.800
> 
> 标签：python, django, redirect

一般用哪个好？

*   [https://docs.djangoproject.com/en/dev/topics/http/shortcuts/#redirect](https://docs.djangoproject.com/en/dev/topics/http/shortcuts/#redirect)

*   [https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpResponseRedirect](https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpResponseRedirect)

写作有什么好处：

```
return redirect(my_url) 
```

超过：

```
return HttpResponseRedirect(my_url) 
```

还是直接别名？有什么区别吗？哪个更 pythonic/django-nic？

* * *

## 回答 #1

> 赞同：106
> 
> 时间：2012-11-09T09:28:40.503

两者有区别：

在`HttpResponseRedirect`第一个参数的情况下只能是一个`url`。

`redirect`*最终*将返回 a`HttpResponseRedirect`可以接受 a `model`, `view`, 或`url`作为“to”参数。因此，它可以“重定向”到的内容更加灵活。

我也喜欢如何`redirect`更短。所以我会使用`redirect`over `HttpResponseRedirect`。

不过两者都很好用。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-11-09T08:09:13.927

从文档 -

> `redirect(to[, permanent=False], *args, **kwargs)`为传递的参数返回 `HttpResponseRedirect`适当的 URL。

从定义上看是一样的。这就是捷径的用途。两者都是一回事。

快捷方式通常写在实际 API 的上一层。所以`redirect`封装`HttpResponseRedirect`并`HttpResponsePermanentRedirect`使用 arg `permanent=False`。

`HttpResponseRedirect`使用over没有主要的缺点`redirect`。希望这可以清除它。

# javascript - JSON 返回 'Null' 错误... @object.to_json 错误的地方？

> ID：13304153
> 
> 赞同：0
> 
> 时间：2012-11-09T07:50:32.413
> 
> 标签：javascript, ruby-on-rails, json, ruby-on-rails-3.2

## -更新-

在这里找到答案：[json, rails, parse error in javascript](https://stackoverflow.com/questions/4485856/json-rails-parse-error-in-javascript)

另外，请参阅下面 iltempo 的回答（感谢 iltempo）

**JSON / 谷歌地图**

**PlacesController，索引 respond_to 块**

```
 format.json { render json: @places } 
```

**地方.js.erb (/assets)**

```
 var markersArray = <%= @places.to_json %>;
    addMarkerArray(markersArray);

    function addMarkerArray(markersArray) {
        for(var i = 0; i < markersArray.length; i++) {
            var lt = markersArray[i].latitude;
            var lg = markersArray[i].longitude;
            ...
            ...
        }
    ) 
```

**萤火虫错误**

```
 TypeError: markersArray is null 
    " for(var i = 0; i < markersArray.length; i++) { " 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:06:21.660

您无法访问`@places`.js 文件中的 Javascript 文件中的 ERB 模板变量`assets/`。而是`addMarkerArray()`使用您执行的 AJAX 调用的返回值调用该函数以获取位置数据。

# ios - 在 Quartz 2D iOS 中剪辑路径图

> ID：13304154
> 
> 赞同：0
> 
> 时间：2012-11-09T07:50:36.630
> 
> 标签：ios, quartz-2d, cgcontext, clipping, linegraph

我正在尝试绘制折线图。我能够绘制折线图但无法限制绘图区域。

我想从开始到结束位置绘制折线图。但它超出了绘图区域。你能帮我剪一下这个区域吗？

在下图中，折线图应该在绿色虚线停止的地方停止。

这是我使用的代码..

```
 CGContextBeginPath(ctx);
    CGContextMoveToPoint(ctx, kOffsetX + kStepX, kGraphHeight - maxGraphHeight * dataLineCompare1[0]);
    for (int i = 1; i < sizeof(dataLineCompare1); i++)
    {
        CGContextAddLineToPoint(ctx, kOffsetX + ((i+1) * kStepX), kGraphHeight - maxGraphHeight * dataLineCompare1[i]);
    }
    CGContextDrawPath(ctx, kCGPathStroke); 
```

![在此处输入图像描述](../Images/af88f56e3bd6ea38fd8c16e3242f63bc.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:20:20.303

`CGContextClipToRect(ctx, yourDrawingArea)`在画线之前使用。

# php - 以数字方式重新索引数组

> ID：13304155
> 
> 赞同：-2
> 
> 时间：2012-11-09T07:50:46.063
> 
> 标签：php

如何删除`NULL`具有索引的数组中的值并将索引重新分配给其他值？

```
Array
(
    [1] => 115,2010-02-17,19:30
    [3] => 400,2006-03-01,22:00
    [4] => 474,2006-04-10,02:30
    [5] => 7547,2006-08-02,23:16
) 
```

但我需要的是：

```
Array
(
    [1] => 115,2010-02-17,19:30
    [2] => 400,2006-03-01,22:00
    [3] => 474,2006-04-10,02:30
    [4] => 7547,2006-08-02,23:16
) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T07:54:19.150

```
$new = array_values($array_with_holes); 
```

`NULL`PS：实际上你的数组中没有值，它只是一个带有稀疏键的数组

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T07:55:34.023

试试这样

```
<?php
$array=array(0=>"a",3=>"b");
$b=array_values($array);
print_r($b);
//displays Array ( [0] => a [1] => b ) 
?> 
```

更多信息[array_values](http://php.net/manual/en/function.array-values.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T07:56:14.547

```
$array1=Array();
//here assign array value to $linksArray
foreach ($array1as $key => $link)
{
    if ($array1[$key] == '')
    {
        unset($array1[$key]);
    }
} 
```

# python - 生成包含一个字符串后跟多个 None 值的列表

> ID：13304162
> 
> 赞同：1
> 
> 时间：2012-11-09T07:51:17.683
> 
> 标签：python, list, nonetype

我正在尝试生成此列表：

```
["var",None,None,None,None,None] 
```

这样做的**捷径**是什么？我想

```
list_2=["var",None for cnt in range(5)] 
```

会工作，但它只会产生一个错误。我的第二次尝试，

```
list_1=["var"].extend([None for cnt in range(5)]) 
```

也不完全是一个成功的故事。有人可以帮忙吗？

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-09T07:56:09.967

这可以简单地完成为

```
mylist = ["var"] + [None] * 5 
```

原因，

```
["var"].extend([None for cnt in range(5)]) 
```

将不起作用，因为 extends 就地更改列表，但不返回原始列表。你本来可以做的

```
mylist = ["var"]
mylist.extend([None for cnt in range(5)]) 
```

你的第二次尝试

```
list_2=["var",None for cnt in range(5)] 
```

也不正确

1.  因为它是一个没有括号的生成器表达式。
2.  即使它会起作用，它也会将您获得的内容添加为列表中的第二项

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T07:55:57.840

你可以这样做：

```
>>> list_1 = ["var"] + [None]*5
>>> list_1
['var', None, None, None, None, None] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T09:45:17.753

蟒蛇 3.2

```
a=["var"]
_=[a.append(None)for v in range(5)] 
```

另一种扩展方式：

```
a=["var"]
b=[None]*5
a.extend(b) 
```

# asp.net - ASP.NET：在实体数据源中启用删除工具

> ID：13304165
> 
> 赞同：1
> 
> 时间：2012-11-09T07:51:41.943
> 
> 标签：asp.net, entity-framework, gridview, entity-framework-4.1

我创建了一个`Grid View`用作`Entity Data Source`它的`Data Source`.

我用`Command Text`在我的`Entity Data Source`，因为我必须加入两个表格才能在网格视图中显示数据。

但如果启用`Command Text`则无法设置。`Enable Delete, Enable Insert, or Enable Update`所以我禁用了它们。

但我需要使用删除工具。云我是怎么做到的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:43:19.750

也许您忘记在数据库中设置主键

# mysql - 多重连接和计数

> ID：13304172
> 
> 赞同：2
> 
> 时间：2012-11-09T07:52:01.697
> 
> 标签：mysql, join, count, group-by

我试图从 2 个或更多表中获取多个出现字段的计数，我从这个问题中解决了这个问题，

[使用两个条件获取计数的嵌套查询](https://stackoverflow.com/questions/13264581/nested-queries-to-get-count-with-two-conditions)

该解决方案有效，但在以下数据结构中尝试时，

它执行但从不显示任何结果。但是对于上一个问题，我发布了这种解决方案效果很好..任何人都可以帮助解决这个问题..它甚至没有说有语法错误。

**编辑：sql查询**

```
SELECT t1.timeStamp, t1.localIp, t2.localPort, t3.localGeo, t4.isp, t5.foreignIp, t6.foreignPort, t7.foreignGeo, t8.infection,t1.timeStampCount, t1.localIpCount, t2.localPortCount, t3.localGeoCount, t4.ispCount, t5.foreignIpCount, t6.foreignPortCount, t7.foreignGeoCount, t8.infectionCount
FROM
(SELECT timeStamp,localIp,localPort,localGeo,isp,foreignIp,foreignPort,foreignGeo,infection,COUNT(timeStamp) AS 'timeStampCount',COUNT(localIp) AS 'localIpCount' 
FROM (
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', port AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', "" AS 'infection'  
    FROM tbl_shadowserver_bot_geo 
    UNION ALL 
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', "" AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', Formatreport AS 'infection'  
    FROM tbl_www_cymru_com 
) c  
GROUP BY timeStamp,localIp)t1  
JOIN 
(SELECT timeStamp,localIp,localPort,localGeo,isp,foreignIp,foreignPort,foreignGeo,infection,COUNT(localPort) AS 'localPortCount' 
FROM (
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', port AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', "" AS 'infection'  
    FROM tbl_shadowserver_bot_geo 
    UNION ALL 
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', "" AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', Formatreport AS 'infection'  
    FROM tbl_www_cymru_com 
) c  
GROUP BY timeStamp,localIp,localPort)t2  
ON t1.timeStamp=t2.timeStamp 
JOIN 
(SELECT timeStamp,localIp,localPort,localGeo,isp,foreignIp,foreignPort,foreignGeo,infection,COUNT(localGeo) AS 'localGeoCount' 
FROM (
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', port AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', "" AS 'infection'  
    FROM tbl_shadowserver_bot_geo 
    UNION ALL 
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', "" AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', Formatreport AS 'infection'  
    FROM tbl_www_cymru_com 
) c  
GROUP BY timeStamp,localIp,localPort,localGeo)t3  
ON t1.timeStamp=t3.timeStamp 
JOIN 
(SELECT timeStamp,localIp,localPort,localGeo,isp,foreignIp,foreignPort,foreignGeo,infection,COUNT(isp) AS 'ispCount' 
FROM (
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', port AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', "" AS 'infection'  
    FROM tbl_shadowserver_bot_geo 
    UNION ALL 
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', "" AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', Formatreport AS 'infection'  
    FROM tbl_www_cymru_com 
) c  
GROUP BY timeStamp,localIp,localPort,localGeo,isp)t4  
ON t1.timeStamp=t4.timeStamp 
JOIN 
(SELECT timeStamp,localIp,localPort,localGeo,isp,foreignIp,foreignPort,foreignGeo,infection,COUNT(foreignIp) AS 'foreignIpCount' 
FROM (
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', port AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', "" AS 'infection'  
    FROM tbl_shadowserver_bot_geo 
    UNION ALL 
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', "" AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', Formatreport AS 'infection'  
    FROM tbl_www_cymru_com 
) c  
GROUP BY timeStamp,localIp,localPort,localGeo,isp,foreignIp)t5  
ON t1.timeStamp=t5.timeStamp 
JOIN 
(SELECT timeStamp,localIp,localPort,localGeo,isp,foreignIp,foreignPort,foreignGeo,infection,COUNT(foreignPort) AS 'foreignPortCount' 
FROM (
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', port AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', "" AS 'infection'  
    FROM tbl_shadowserver_bot_geo 
    UNION ALL 
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', "" AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', Formatreport AS 'infection'  
    FROM tbl_www_cymru_com 
) c  
GROUP BY timeStamp,localIp,localPort,localGeo,isp,foreignIp,foreignPort)t6  
ON t1.timeStamp=t6.timeStamp 
JOIN 
(SELECT timeStamp,localIp,localPort,localGeo,isp,foreignIp,foreignPort,foreignGeo,infection,COUNT(foreignGeo) AS 'foreignGeoCount' 
FROM (
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', port AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', "" AS 'infection'  
    FROM tbl_shadowserver_bot_geo 
    UNION ALL 
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', "" AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', Formatreport AS 'infection'  
    FROM tbl_www_cymru_com 
) c  
GROUP BY timeStamp,localIp,localPort,localGeo,isp,foreignIp,foreignPort,foreignGeo)t7  
ON t1.timeStamp=t7.timeStamp JOIN 
(SELECT timeStamp,localIp,localPort,localGeo,isp,foreignIp,foreignPort,foreignGeo,infection,COUNT(infection) AS 'infectionCount' 
FROM (
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', port AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', "" AS 'infection'  
    FROM tbl_shadowserver_bot_geo 
    UNION ALL 
    SELECT date_format(timestamp, '%Y-%m-%d %h') AS 'timeStamp', ip AS 'localIp', "" AS 'localPort', "" AS 'localGeo', "" AS 'isp', "" AS 'foreignIp', "" AS 'foreignPort', "" AS 'foreignGeo', Formatreport AS 'infection'  
    FROM tbl_www_cymru_com 
    ) c  
    GROUP BY timeStamp,localIp,localPort,localGeo,isp,foreignIp,foreignPort,foreignGeo,infection)t8 
ON t1.timeStamp=t8.timeStamp ORDER BY timeStamp,localIp,localPort,localGeo,isp,foreignIp,foreignPort,foreignGeo,infection 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-12T06:29:35.773

我将首先尝试用我自己的话重述您的问题，以明确此答案的作用。对于两个表联合中的每条记录，您希望结果集中有一行。该行应包含附加信息：对于给定的一组选定列，您希望计算输入中与所有选定列中的当前行匹配的行。在每个步骤中，您都添加到一组选定的行。所以首先你计算所有具有相同时间戳的行。接下来计算具有相同时间戳*和*相同 IP 地址的所有行。等等。

当您反复从同一个表联合中进行选择时，为它引入一个短名称可能是明智的。您可以通过[创建一个`VIEW`](http://dev.mysql.com/doc/refman/5.6/en/create-view.html). 接下来，您希望使用该视图作为您加入的第一个因素。这为每一行输入提供了一行输出。对于添加的统计信息，您加入一个计算行数的子查询，按该计数的所有选定列分组。您希望使用所有这些选定的列将该子查询连接到查询的其余部分。例如：

```
CREATE VIEW view_both_tables AS
SELECT date_format(timestamp, '%Y-%m-%d %h') AS `timeStamp`, ip AS localIp, …
FROM tbl_shadowserver_bot_geo 
UNION ALL 
SELECT date_format(timestamp, '%Y-%m-%d %h') AS `timeStamp`, ip AS localIp, …
FROM tbl_www_cymru_com;

SELECT t0.*,
 t1.countSameTime,
 t2.countSameTimeAndLocalIp,
 t3.countSameTimeLocalIpAndInfection
FROM view_both_tables t0
LEFT JOIN (
  SELECT `timeStamp`,
   COUNT(*) AS `countSameTime`
  FROM view_both_tables
  GROUP BY `timeStamp`
 ) t1 USING (`timeStamp`)
LEFT JOIN (
  SELECT `timeStamp`, localIp,
   COUNT(*) AS `countSameTimeAndLocalIp`
  FROM view_both_tables
  GROUP BY `timeStamp`, localIp
 ) t2 USING (`timeStamp`, localIp)
LEFT JOIN (
  SELECT `timeStamp`, localIp, infection,
   COUNT(*) AS `countSameTimeLocalIpAndInfection`
  FROM view_both_tables
  GROUP BY `timeStamp`, localIp, infection
 ) t3 USING (`timeStamp`, localIp, infection)
; 
```

此查询取自[我的 SQL fiddle](http://sqlfiddle.com/#!2/061e5/6)。它最多只涵盖三个选定的列，因为其他列在您的示例中不包含任何数据，并且这个想法应该很清楚。

一般来说，`COUNT(*)`而不是计算一个特定的列更有效。唯一的例外是当您要计算的列可能包含`NULL`应该从计数中省略的值时，或者当您使用`COUNT(DISTINCT …)`. 但是，由于我对您的问题的解释是指计数记录，而不是行，因此这些例外均不适用。

作为对样式的进一步说明，使用单引号引用列名是相当令人困惑的 SQL 样式。通常，[字符串使用单引号分隔](http://dev.mysql.com/doc/refman/5.6/en/string-literals.html)，[列使用反引号](http://dev.mysql.com/doc/refman/5.6/en/identifiers.html)。您编写的内容是默认 MySQL 配置的有效语法，但仍然令人困惑。

如果性能是一个问题，您可以尝试使用`GROUP BY … WITH ROLLUP`. 将结果存储到临时表中，您可以从重复将该表连接到自身中得出您要求的结果。不确定是否会有任何性能提升，但可能值得一试。

# java - 关于如何构建这些数据的建议？

> ID：13304181
> 
> 赞同：0
> 
> 时间：2012-11-09T07:53:01.013
> 
> 标签：java, oop

我收到此数据，它是通过网络传输的，因此需要在本地缓存它。

数据格式为：

```
Action (String)
    Direction (String)
        Frame (int)
            X,Y (Point or int,int) 
```

用法基本上是：

```
Point myPoint = data.get(action).get(direction).get(frame);
myPoint.x; // do something with x and y 
```

我尝试了这种巨大的 hashmap 类型的结构：

```
HashMaP<String, HashMap<String, HashMap<int, Point>>> 
```

它有效，但丑陋且容易出错。

我还尝试将其拆分为类，这很有效；但需要大量的管家代码。

任何人都知道这个数据结构叫什么，也许我可以谷歌它。

有什么建议么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T08:30:23.190

“巨大的哈希图类型结构”中隐含的是实体之间的关系：

*   action 是一个字符串，它索引“多”方向
*   方向是索引“许多”帧的字符串
*   frame 是一个索引“许多”点的数字
*   点是一个结构

一种简单的方法可能是定义一个包含“动作”、“方向”和“框架”的“关键”对象，并在地图结构中使用它，例如

```
class PointKey {
    String action, direction;
    int frame;
    PointKey(String action, String direction, int frame { .. init etc etc }

... 
```

根据使用特性，您将希望覆盖`hashCode`以提供一些基于三部分键的“合理”唯一值，或者`Comparable`如果您期望有大量这些值并且您希望阅读它们更多，则实施而不是写它们。

然后你定义你的`Map`：

```
Map<PointKey,Point> data = new HashMap<PointKey,Point>(); 
```

或者

```
Map<PointKey,Point> data = new TreeMap<PointKey,Point>(); 
```

取决于您选择的方法。

另一个问题是，如果您要创建大量这些密钥，则是创建新密钥以随机访问它们的开销，在这种情况下，您可能希望使用享元，例如

```
...
// PointKey instance that is retained and used again and again, purely for 'access' purposes
dataKey.setIdentifiers(myAction, myDirection, myFrame);
Point myPoint = data.get(dataKey) 
```

# google-bigquery - 在哪里提交 BigQuery 的新功能请求？

> ID：13304185
> 
> 赞同：3
> 
> 时间：2012-11-09T07:53:14.100
> 
> 标签：google-bigquery 的, google-bigquery

这不是一个技术问题。但我确实想知道在哪里可以提交[![](../Images/f2f8cfd686e9359161260b5bb42c0c5e.png)google-bigquery 的](/questions/tagged/google-bigquery "显示标记为“google-bigquery”的问题")功能请求？

我在使用命令行工具导入 json 数据时遇到了一些问题`bq load`，但错误消息根本没有为我提供有价值的信息来定位错误。

例如，

```
Too many errors encountered. Limit is: 0.
Failure details:
- Expected '"' found '4'
- Expected '"' found '3'
- Expected '"' found '4'
- Expected '"' found '3' 
```

如果错误消息包含行号，这将非常有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T18:31:55.723

**更新：根据我们的开发人员的要求，我们已经启动了一个官方的[Google BigQuery API 公共问题跟踪器](http://code.google.com/p/google-bigquery/)来收集功能请求（以及错误报告）。**

对于 bq 命令行工具本身，发现问题和功能请求的最佳方式是在此处将它们添加到[bq 项目问题跟踪器](http://code.google.com/p/google-bigquery-tools/issues/list)。

# iphone - 我想在登录页面上加载一个网页。我创建了一个带有静态 ID 和密码的登录页面。

> ID：13304187
> 
> 赞同：0
> 
> 时间：2012-11-09T07:53:17.533
> 
> 标签：iphone

我想创建一个*登录页面*，该页面将获取用户的登录详细信息并将他重定向到主页。我不知道我该怎么做。请帮助我。

```
 if([username isEqualToString:@"aa"] && [password isEqualToString:@"aa"])
    {
        Supportingwv *swv = [[Supportingwv alloc]initWithNibName:@"supportingwv"bundle:nil];
        NSString *urlstring = @"www.google.com";
        [ swv setUrlString : urlstring];
        [self.view addSubview:swv.view];
    }
    else
    {        
        UIAlertView * alert = [[UIAlertView alloc]initWithTitle:@"invalid authentication" message:@"username & password doesnot match" delegate:nil cancelButtonTitle:@"ok" otherButtonTitles:nil, nil];
        [alert show];
        [alert show];
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T11:07:26.457

你现在应该检查这个 webview 的代表

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request
navigationType:(UIWebViewNavigationType)navigationType {

NSString *urlString = request.URL.absoluteString;
//Check the username or password in urlString with the help of RegularExpression

//or check user has succssfully login or not
   } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T09:14:45.247

尝试这个

```
 NSString *urlAddress = @"http://www.google.com";
    NSURL *url = [NSURL URLWithString:urlAddress];
    NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];
    [swv loadRequest:requestObj];
    [self.view addSubview:swv.view]; 
    [swv release]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:00:45.790

我猜 Supportingwv 是一个 UIWebView，所以你必须加载请求[loadRequest 方法](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIWebView_Class/Reference/Reference.html)：

```
[swv loadRequest:[NSURLRequest requestWithURL:[NSURL urlWithString:urlString]]]; 
```

但如果没有更多解释，我们将无法帮助您。

编辑 ：

如果要加载页面，只需使用以下内容：

```
if([username isEqualToString:@"aa"] && [password isEqualToString:@"aa"])
{
    UIWebView *webView = [[UIWebView alloc] initWithFrame:self.view.frame];
    [webView loadRequest:[NSURLRequest requestWithURL:[URL urlWithString:@"www.google.com"]]];
    [self.view addSubview:webView];
}
else
{        
    UIAlertView * alert = [[UIAlertView alloc]initWithTitle:@"invalid authentication" message:@"username & password doesnot match" delegate:nil cancelButtonTitle:@"ok" otherButtonTitles:nil, nil];
    [alert show];
} 
```

此代码使用您想要的 URL（这里是 www.google.com）创建一个 webview，并将 webview 添加并显示到当前控制器。

# actionscript-3 - as3如何播放两个swf文件

> ID：13304193
> 
> 赞同：0
> 
> 时间：2012-11-09T07:54:04.863
> 
> 标签：actionscript-3, actionscript, actionscript-2

嗨，我想在我的动作脚本项目中播放两个 swf 文件。在这两个文件中，一个 swf 文件在系统前面的检测面上工作。其他 swf 播放 flv 文件。当检测到人脸时，如果没有，玩家必须弯下腰be 播放flv 文件。

我知道如何加载 swf 文件，但我无法处理有关启动和停止播放器的功能。

代码片段显示了如何加载外部 swf 文件。我将在注释中解释每一行代码

```
 public function videos(view:Sprite)
    {
        this.box = view;//IT GETS Sprite object from other class because of               need to display the player also.
        request = new URLRequest("Untitled-1.swf");
        currentSWF=new MovieClip();

        loader= new Loader();
        loader.load(request);

        box.addChild(loader);
        currentSWF = MovieClip(loader.content);
        loader.addEventListener(Event.COMPLETE,loadComplete);
        //addChild(loader);
        currentSWF.gotoAndPlay(1);//when i put this line of code in  comments it plays the external swf also. 

    } 
```

我希望你能理解我的疑问。任何人都可以解释如何处理我的事情。我是这个动作脚本的新手。请帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:09:28.060

加载的文件会自动播放，除非您明确告诉他们不要这样做。您必须收听该`Event.INIT`事件，并在那里停止电影：

```
loader.AddEventListener(Event.INIT, initLoader);

function initLoader (event:Event)
{
    MovieClip(event.currentTarget.content).stop();
} 
```

这将在电影连接到舞台之前和开始播放之前停止电影 - 因此除非您重新开始，否则它不会这样做。

请注意，您不应该在or事件`loader.content`之前以任何方式访问，因为很可能那时内容没有加载。因此，您应该将所有操作操作放入事件中：`INIT``COMPLETE``COMPLETE`

```
box.addChild(loader);
loader.addEventListener(Event.COMPLETE, loadComplete);

function loadComplete (event:Event)
{
    // Now it’s safe to access the `content` member:
    currentSWF = MovieClip(loader.content);

    // Of course this one would play the movie again, so you probably want
    // to call that later on a button click or something.
    currentSWF.gotoAndPlay(1);
} 
```

# java - 最大同时看门狗实例

> ID：13304197
> 
> 赞同：1
> 
> 时间：2012-11-09T07:54:21.743
> 
> 标签：java, multithreading

我想使用像 Apache 的看门狗这样的超时观察器。 [http://svn.apache.org/repos/asf/ant/core/trunk/src/main/org/apache/tools/ant/util/Watchdog.java](http://svn.apache.org/repos/asf/ant/core/trunk/src/main/org/apache/tools/ant/util/Watchdog.java)

Watchdog 为每个超时请求创建一个线程。并且所有这些线程都处于等待状态，直到超时值。我想创建一个套接字服务器，每个连接都对不同的状态使用超时观察器。1000 个连接意味着 1000 个并行超时观察者实例。这是一个大问题吗？或者处于等待状态的线程数可以忽略吗？

# cuda - Windows 8 应用程序中的 GPU 计算 - 适用于 x86 和 ARM

> ID：13304198
> 
> 赞同：3
> 
> 时间：2012-11-09T07:54:21.790
> 
> 标签：cuda, windows-runtime, gpu, windows-store-apps

我有一个计算密集型应用程序，它可能能够利用 GPU 的并行能力。我一直在寻找适用于 .NET 的 Cudafy，但配置中的选项不包括 win8 应用程序，但它有 .net、linux、win phone 等。

有没有人有在 Win8 应用程序中使用 Cudafy 或任何其他 GPU 计算器框架的经验。如果我不针对 ARM 而只是选择 x86，我认为我可以使用 Cudafy 来解决这个问题，但我也想包括 ARM 设备......

因此，我正在寻找针对 x86 和 ARM 的 win8 应用程序的 GPU 计算！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T19:46:27.117

Microsoft 提供了一个使用 GPU 进行并行编程的 API。它是[C++ AMP](http://blogs.msdn.com/b/vcblog/archive/2012/08/31/10345173.aspx)。为此，您需要 Visual Studio 2012（早期版本不会这样做）。VS12 Express 是免费的，并且具有 C++ AMP API。[这里](http://blogs.msdn.com/b/nativeconcurrency/archive/2012/08/30/learn-c-amp.aspx)给出了项目的基本教程和设置。

# java - 如何在画布Android上将文本中心向左对齐

> ID：13304199
> 
> 赞同：3
> 
> 时间：2012-11-09T07:54:23.060
> 
> 标签：java, android, xml, android-manifest

我正在开发摄影应用程序，为此我正在使用以下代码：

```
Canvas canvas = new Canvas(bmOverlay);
TextPaint paint = new TextPaint();
paint.setColor(Color.RED);
paint.setTextAlign(Align.CENTER);
paint.setTextSize(50);
paint.setFlags(Paint.ANTI_ALIAS_FLAG);
// if the background image is defined in main.xml, omit this line
canvas.drawBitmap(mBitmap, 0, 0, null);
int left = measureTextWidth(paint, InstaTextActivity.CurrentWord);
int top = measureTextHeight(paint, InstaTextActivity.CurrentWord);

left = mBitmap.getWidth() / 2 - InstaTextActivity.textCount / 2;
top = mBitmap.getHeight() / 2 - InstaTextActivity.textCount / 2;
StaticLayout layout = new StaticLayout(InstaTextActivity.CurrentWord, paint, total,
 android.text.Layout.Alignment.ALIGN_NORMAL, (float) 1.0, (float) 0.0, true);
//canvas.save();
canvas.translate(left, top);
layout.draw(canvas);
//canvas.restore(); 
```

在这段代码中，我正在使用`paint.setTextAlign(Align.CENTER)`. 它与中心对齐，但文本不会将中心与左对齐，而是将中心与右对齐。另外，在画布上对齐文本的正确方法是什么？

![在此处输入图像描述](../Images/1e3b54a0a927def4cc3d06ea5bc468fd.png)

但我想要

![在此处输入图像描述](../Images/757672cc28b7d8463687831d39a6fc91.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-02-21T20:17:58.493

我在用着

```
StaticLayout mTextLayout = new StaticLayout(text, mTextPaint,
                canvas.getWidth(), Alignment.ALIGN_NORMAL, 1.0f, 0.0f,
                false);
canvas.translate((canvas.getWidth() / 2) - (mTextLayout.getWidth() / 2), (canvas.getHeight() / 2) - ((mTextLayout.getHeight() / 2))); 
```

在画布上居中我的多行文本

# javascript - 是使用window.location.href("javascript://code"); 和评估一样糟糕？

> ID：13304203
> 
> 赞同：1
> 
> 时间：2012-11-09T07:54:34.140
> 
> 标签：javascript, eval

例如：

```
 eval("alert('Hello there!');");

    // is just as bad as?

    window.location.href = "javascript:alert('Hello there!');void(0);"; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T07:55:35.810

是的，那是一样的：`"javascript:"`评估后的字符串以执行。

至少第一个糟糕的解决方案更直接和明显......

有关为什么 eval 是邪恶的更一般的见解，我会将您重定向到[另一个 SO question](https://stackoverflow.com/questions/86513/why-is-using-the-javascript-eval-function-a-bad-idea)。

但是你为什么要用这种东西呢？很难找到一个可以简化代码的合法案例。

# blackberry - 如何在黑莓中压缩文件？

> ID：13304204
> 
> 赞同：1
> 
> 时间：2012-11-09T07:54:34.887
> 
> 标签：blackberry, java-me

在我的应用程序中，我使用 html 模板和图像作为浏览器字段并保存在 sdcard 中。现在我想压缩那个 html、图像文件并发送到 PHP 服务器。如何压缩该文件并发送到服务器？给我一些可能有帮助的样本。

我试过这种方式......我的代码是

编辑：

```
private void zipthefile() {
    String out_path = "file:///SDCard/" + "newtemplate.zip";
    String in_path = "file:///SDCard/" + "newtemplate.html";
    InputStream inputStream = null;
    GZIPOutputStream os = null;
    try {
        FileConnection fileConnection = (FileConnection) Connector
                .open(in_path);//read the file from path
        if (fileConnection.exists()) {
            inputStream = fileConnection.openInputStream();
        }

        byte[] buffer = new byte[1024];

        FileConnection path = (FileConnection) Connector
                .open(out_path,
                        Connector.READ_WRITE);//create the out put file path

        if (!path.exists()) {
            path.create();
        }
        os = new GZIPOutputStream(path.openOutputStream());// for create the gzip file

        int c;

        while ((c = inputStream.read()) != -1) {
            os.write(c);
        }
    } catch (Exception e) {
        Dialog.alert("" + e.toString());
    } finally {
        if (inputStream != null) {
            try {
                inputStream.close();
            } catch (IOException e) {
                e.printStackTrace();
                Dialog.alert("" + e.toString());
            }
        }
        if (os != null) {
            try {
                os.close();
            } catch (IOException e) {
                e.printStackTrace();
                Dialog.alert("" + e.toString());
            }
        }
    }

} 
```

此代码适用于单个文件，但我想压缩文件夹中的所有文件（多个文件）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T10:48:48.103

如果您不熟悉它们，我可以告诉您，在 Java 中，流类遵循[装饰器模式](http://en.wikipedia.org/wiki/Decorator_pattern)。这些旨在通过管道传输到其他流以执行其他任务。例如， a`FileOutputStream`允许您将字节写入文件，如果您用 a 装饰它，`BufferedOutputStream`那么您还可以获得缓冲（大块数据在最终写入磁盘之前存储在 RAM 中）。或者，如果你用 a 装饰它，`GZIPOutputStream`那么你也会得到压缩。

例子：

```
//To read compressed file:
InputStream is = new GZIPInputStream(new FileInputStream("full_compressed_file_path_here"));

//To write to a compressed file:
OutputStream os = new GZIPOutputStream(new FileOutputStream("full_compressed_file_path_here")); 
```

这是一个涵盖基本 I/O的[好教程。](http://docs.oracle.com/javase/tutorial/essential/io/index.html)尽管是为 JavaSE 编写的，但您会发现它很有用，因为大多数事情在 BlackBerry 中都是一样的。

在 API 中，您可以使用以下类：
[`GZIPInputStream`](http://www.blackberry.com/developers/docs/5.0.0api/net/rim/device/api/compress/GZIPInputStream.html)
[`GZIPOutputStream`](http://www.blackberry.com/developers/docs/5.0.0api/net/rim/device/api/compress/GZIPOutputStream.html)
[`ZLibInputStream`](http://www.blackberry.com/developers/docs/5.0.0api/net/rim/device/api/compress/ZLibInputStream.html)
[`ZLibOutputStream`](http://www.blackberry.com/developers/docs/5.0.0api/net/rim/device/api/compress/ZLibOutputStream.html)

如果您需要在流和字节数组之间进行转换，请使用[`IOUtilities`](http://www.blackberry.com/developers/docs/5.0.0api/net/rim/device/api/io/IOUtilities.html)class 或[`ByteArrayOutputStream`](http://www.blackberry.com/developers/docs/5.0.0api/java/io/ByteArrayOutputStream.html)and [`ByteArrayInputStream`](http://www.blackberry.com/developers/docs/5.0.0api/java/io/ByteArrayInputStream.html)。

# c# - 列表框中的 C# XML。如何获取选择了哪个项目？

> ID：13304213
> 
> 赞同：0
> 
> 时间：2012-11-09T07:55:47.317
> 
> 标签：c#, xml, winforms, listbox

我有一个 xml 书籍。当新书被添加到这个 xml 中时，它们会得到一个数字。每本书都有不同的编号。用户可以通过在列表框上单击来选择一本书。然后用户可以单击一个按钮来更改所选书籍的信息。显示一个新表格，但我无法传递必须更改哪本书的信息。（此信息将是数字。）

```
private int GetNumber()
{

    foreach (var book in xmlofbooks.Descendants("Book"))
    {
        if (book.Attribute("Number")==listbox1.SelectedItem
    }

    return ;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T08:25:49.357

为什么不创建一个简单的 Book 类，将您的 XML 反序列化为`List<Book>`并将其绑定到`ListBox`. 然后，您可以设置`DisplayMember`为标题（或您想要显示的任何内容）和`ValueMember`数字。您可以检索该号码`MyListBox.SelectedValue`并将其传递给任何需要它的人。将数据源设置为：`MyListBox.DataSource = MyListOfBooks;`

您也许可以将该信息直接绑定到 XML，但我不知道如何。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T09:07:35.483

对于这种使用 XML 数据的特殊类型，您可以学习 XML 序列化/反序列化。这将允许您将 XML 数据反序列化为 IEnumerable 类对象。

一旦您拥有处于这种状态的 XML，那么将其用作表单控件的数据源就变得更容易管理。

这是一个例子： -

[http://www.developerfusion.com/code/2517/serialize-and-deserialize-objects-to-an-xml-file/](http://www.developerfusion.com/code/2517/serialize-and-deserialize-objects-to-an-xml-file/)

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:01:12.480

尝试将属性的值与项目的内容进行比较：

```
if (book.Attribute("Number").Value.Equals(listbox1.SelectedItem.Content))
{
    // ...
} 
```

# css - 灰度悬停效果在 FF 中慢，在 Chrome、IE 等中快

> ID：13304218
> 
> 赞同：0
> 
> 时间：2012-11-09T07:55:59.843
> 
> 标签：css, hover

不知道发生了什么。下面页面的悬停效果在 Firefox 中响应非常慢。滚动时，页面也不流畅。此特定页面在其他当前浏览器中运行顺畅。该网站非常快，所以我不知道该怎么想。

[http://thebc.co/our-work](http://thebc.co/our-work)

# python - Python在执行守护进程时反复导致崩溃

> ID：13304223
> 
> 赞同：1
> 
> 时间：2012-11-09T07:56:09.437
> 
> 标签：python, workflow, plist, osx-mountain-lion

我不是程序员或类似的人，但我最近安装了一些 python 脚本，我正在努力将它们作为启动工作流的一部分来执行。我运行一个执行这三个单独命令的自动化工作流程：

```
python /Applications/Sick-Beard/Sickbeard.py --daemon
python /Applications/CouchPotatoServer/CouchPotato.py --daemon
python /Applications/Headphones/Headphones.py --daemon 
```

我可以毫无问题地在终端窗口中运行这些命令。但是，当将命令作为单个工作流甚至三个单独的工作流快速连续执行时，它总是会产生跟随错误。

我无计可施。非常感谢您的帮助。当我创建 .plit LaunchAgents 时，也会出现同样的错误。

在此先感谢您的帮助，非常感谢。我不得不把它放在 pastebin 上，因为我不断收到格式错误。

[http://pastebin.com/qb65Mc53](http://pastebin.com/qb65Mc53)

# java - 如何在 JavaFX 中为 MenuButton 设置加速器？

> ID：13304226
> 
> 赞同：2
> 
> 时间：2012-11-09T07:56:19.123
> 
> 标签：java, user-interface, javafx-2

如何将加速器附加到 MenuButton 内的 MenuItem（使用 JavaFX 2.2）？我尝试了以下方式：

```
public class Minimal extends Application
{
@Override
public void start(Stage primaryStage) throws Exception
{
    primaryStage.setScene(SceneBuilder.create()
        .root(StackPaneBuilder.create()
            .children(MenuButtonBuilder.create()
                  .text("MenuButton")
                  .items(
                    MenuItemBuilder.create()
                      .text("MenuItem A")
                      .accelerator(new KeyCodeCombination(KeyCode.B, KeyCombination.ALT_DOWN))
                      .onAction(new EventHandler<ActionEvent>() {
                          @Override public void handle(ActionEvent e) {
                            System.out.println(e.getEventType() +
                                               " occurred on Menu Item A");
                          }
                        })
                      .build()
                   )
                  .build())
            .build())
        .build());
    primaryStage.show();
}

public static final void main(String[] args)
{
    Minimal.launch(args);
} 
```

}

它编译得很好，但是当我按下 KeyCombination 时，它会在运行时给我一个异常。用鼠标选择 MenuItem 可以按预期工作。这是例外（堆栈跟踪中有更多方法调用，但没有一个来自我的应用程序）：

```
java.lang.NullPointerException
    at com.sun.javafx.scene.control.skin.MenuButtonSkinBase$5.run(MenuButtonSkinBase.java:306)
    at com.sun.javafx.scene.KeyboardShortcutsHandler.processAccelerators(KeyboardShortcutsHandler.java:296)
    at com.sun.javafx.scene.KeyboardShortcutsHandler.dispatchBubblingEvent(KeyboardShortcutsHandler.java:119) 
```

由于堆栈跟踪显示“MenuButtonSkinBase”，它尝试禁用我使用的所有自定义样式，但没有运气。

编辑：这是我用来编译代码的 jdk 版本输出：

```
java version "1.7.0_07"
Java(TM) SE Runtime Environment (build 1.7.0_07-b11)
Java HotSpot(TM) Client VM (build 23.3-b01, mixed mode, sharing) 
```

提前致谢！

# c# - .NET 4.5 的 connectionType 版本和公钥的 log4net 配置

> ID：13304234
> 
> 赞同：3
> 
> 时间：2012-11-09T07:56:44.740
> 
> 标签：c#, sql-server, configuration, visual-studio-2012, log4net

我正在使用最新版本的`log4net`. 关于 connectionType 版本和公钥值的几个问题。

您在 log4net 网站上获得的示例如下所示：

```
<connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" /> 
```

我在 SO 上看到了以下内容：

```
<connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/> 
```

我正在使用 Visual Studio 2012 和 SQL Server 2008 R2。我怎么知道我需要使用哪个版本以及公钥是什么（对于 2 个不同的版本，两者似乎相同）？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-09T08:01:41.247

添加`System.Data`到您的项目引用中（它应该已经存在）。选择它并查看属性窗口。你需要`Version`财产（应该是`4.0.0.0`）。将该版本设置为配置中的连接类型值。公钥应该保持不变：

```
<connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/> 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-09T08:03:39.083

Framework 4.5 仍`4.0.0.0`用于 System.Data.SqlClient。如果添加对任何项目的引用并查看属性，则可以看到详细信息，包括路径，即；

```
C:\Program Files (x86)\Reference Assemblies\Microsoft\Framework\.NETFramework\v4.5\System.Data.dll 
```

所有版本的公钥都相同。

# mysql - 导师有2个教学科目

> ID：13304235
> 
> 赞同：1
> 
> 时间：2012-11-09T07:56:45.807
> 
> 标签：mysql, sql, database

桌子

```
Instructor
    ------------------------------------------------------
    | id | firstname | lastname | subject_id | section_id |
    ------------------------------------------------------
       1    John        Smith        1             1

Subject
    -------------
    | id | name |
    -------------
      1  English
      2   Math

Section
    -------------
    | id | name |
    -------------
     1  Section A 
```

我的查询：

```
SELECT ins.firstname, ins.lastname,sec.name as "Section Name", sub.name as "Subject"
    FROM instructor as ins
    JOIN section as sec
    JOIN subject as sub
    WHERE ins.section_id = sec.id AND ins.subject_id = sub.id AND ins.id =1 
```

结果：

```
firstname   lastname    Section Name    Subject 
John    Smith            Section A  English 
```

我的问题是，如果那个讲师约翰史密斯也教数学科目我将如何查询呢？我需要添加新的subject_id吗？这些有什么解决办法吗？

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T08:02:24.553

您可以添加另一个表用于存储每个讲师的科目，例如

```
CREATE TABLE Instructor
(
    ID INT,
    InstructorName VARCHAR(30),
    ..... -- other fields here
);

CREATE TABLE Subject
(
    ID INT,
    SubjectNameName VARCHAR(30),
    ..... -- other fields here
);

CREATE TABLE INSTRUCTOR_SUBJECT
(
    RecID INT,
    InstructorID INT,
    SubjectID INT,
    CONSTRAINT tc_pk PRIMARY KEY (RecID),
    CONSTRAINT tc_fk1 FOREIGN KEY (InstructorID) REFERENCES Instructor(ID),
    CONSTRAINT tc_fk2 FOREIGN KEY (SubjectID) REFERENCES Subject(ID)
); 
```

*   [**SQLFiddle 演示**](http://sqlfiddle.com/#!2/a578d/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:02:33.613

您现在拥有的是一对多的关系，其中一个讲师只能有一个科目，但任何科目都可以有多个讲师。您想要一个多对多关系，这意味着添加一个只有`instructor_id`和 的新表`subject_id`。

# jquery - 加载 innerHTML 后触发事件

> ID：13304236
> 
> 赞同：1
> 
> 时间：2012-11-09T07:57:03.060
> 
> 标签：jquery, ajax

我试图在使用 click 函数通过 ajax 加载 innerHTML 页面后触发一个事件，但我似乎无法让它工作。我究竟做错了什么？

这是我的代码：

```
var url;
var textUrl;
$('.linkQuestion').on('click', 'a', function() {
    url = $(this).attr('href');
    textUrl = 'https://s3.amazonaws.com/RichText-javascript/richTextEditor.js?AWSAccessKeyId=ASIAJRENG2ALKWZTWOLA&Expires=1352449392&Signature=Z5GHSw5NaBsDC1c2MwWQC32rVKo%3D&x-amz-security-token=AQoDYXdzECEakAIaCSO9XKqmKgVa/ik%2BPvC1ZfmZEtAuf1MyMhvuXFkES0Io1tP3Lpcm85usfK%2B0/Df4yQYbvNhyT8wq9r7SajzJd%2Bx/luK5AvD08gJuNsXwWuH4S/8edxqJp42q4cmstHl3/ylAD%2BGgIP8IAQI5h6ZccsY4fbPpZryBt8VNtu/22qB53dTWjCwpNlPme6PyW7VDtRQlFBNNqcLfb2pYY6/fqI7jiMj8JgD341N%2BvwH4oSQbhApzRn0fRgzbJU6g8TxRCHCcdJs6le1VmF9vaZmLsng7xjtsBkC5h4djaWsufut1lpYRjgTQIUAn5ZS/d93/TmtRC5l9yNByyT0rqU/ukSAiQksUWgoyRq0r/Cp/QyDMg/GEBQ%3D%3D';
  $('.answers').load(url, function() {
    $.getScript(textUrl, function(data, textStatus, jqxhr) {
        console.log(data); //data returned from getScript
        console.log(textStatus); //return "success"
        console.log(jqxhr.status); //200
    });
  });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T08:09:32.347

不确定我是否理解您需要做什么。getScript 有一个成功回调

```
$('.linkQuestion').on('click', 'a', function() {

var url = $(this).attr('href');
var textUrl = 'https://s3.amazonaws.com/RichText-javascript/richTextEditor.js';

$('.answers').load(url, function() {
    $.getScript(textUrl, function(data, textStatus, jqxhr) {
        console.log(data); //data returned from getScript
        console.log(textStatus); //return "success"
        console.log(jqxhr.status); //200
    });
}); 
```

});

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T08:16:16.010

jquery getscript 方法也有一个回调函数，就像点击函数一样。

以下示例来自 jquery 手册：

```
$.getScript("ajax/test.js", function(data, textStatus, jqxhr) {
   console.log(data); //data returned
   console.log(textStatus); //success
   console.log(jqxhr.status); //200
   console.log('Load was performed.');
   //fire your event here!
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:08:53.377

ajax.load “数据”还有第三个参数。

加载（网址，[数据]，[回调]）

您可能想尝试将其作为 NULL 或空对象 {} 传递。

但是，如果 amazonaws.com 不是您正在运行的域，那么您可能遇到了 ajax 问题。@see：同源政策

# android - 列表视图中项目的按下和长按状态下可绘制的不同状态？

> ID：13304241
> 
> 赞同：0
> 
> 时间：2012-11-09T07:57:32.337
> 
> 标签：android, listview

我有一个由具有`available`和`inavailable`状态的数据填充的列表视图。如果单击绑定了可用状态数据的项目，则项目视图的背景将变为按下状态可绘制。以及如果item绑定了不可用的状态数据被点击，背景不会改变。</p>

但是，如果我长按该项目，**无论它的绑定数据是可用还是不可**用，它的背景都应该变为长按状态可绘制。

那么我该如何实现这一点，我曾尝试使用选择器，但它没有状态意味着 long press 。

# objective-c - 我可以编写混合代码吗（Emo 框架和 Cocos2d）

> ID：13304242
> 
> 赞同：0
> 
> 时间：2012-11-09T07:57:41.803
> 
> 标签：objective-c, cocos2d-iphone, game-engine, box2d-iphone

我可以在同一个项目中使用[Emo Framework](http://www.emo-framework.com/) 和[Cocos2d吗？](http://www.cocos2d-iphone.org/)我可以写混合代码吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T12:33:20.587

非常非常不可能。两者都是 OpenGL 游戏引擎。两者都创建自己的 OpenGL 上下文。

这将是游戏开发的第一次。用两个游戏引擎而不是一个游戏引擎制作的游戏。

# objective-c - 如何以编程方式打开 Safari-> 首选项窗格

> ID：13304243
> 
> 赞同：3
> 
> 时间：2012-11-09T07:57:52.350
> 
> 标签：objective-c, qt

我正在开发 Safari 插件。我在其中添加了一些 Qt 代码。现在，当用户单击 Qt 对话框上的 QPushButton 时，我想打开“safari->preferences”窗格。如果在 Objective-C 中也可以，请告诉我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T11:52:04.187

终于我明白了。这是我的解决方案：

```
tell application "Safari" to activate

delay 4

tell application "System Events" to tell process "Safari"

    keystroke "," using command down

    tell window 1
        click button "Extensions" of tool bar 1
        activate "Extensions"
        keystroke return
    end tell
end tell 
```

使用这个 AppleScript，我们可以以编程方式打开 Safari->Preferences。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:42:51.647

我不知道直接的api。

编写一个苹果脚本并使用 ui 脚本告诉 safari 1) 打开 2) 选择 menuitem 首选项（甚至可以发送击键 cmd+，）

一些脚本，如：

```
tell application "System Events"
tell process "Safari"
tell menu bar 1
tell menu bar item "Safari"
tell menu "Safari"
click menu item "Preferences..."
end tell
end tell
end tell
end tell 
```

# sql - 强制 SQLDev 读取比看起来更多的行。SQL 开发，Win7 Ult 64

> ID：13304248
> 
> 赞同：1
> 
> 时间：2012-11-09T07:58:15.850
> 
> 标签：sql, oracle-sqldeveloper

TIA 和帮助/建议。这是课程作业，所以进一步阅读的指针会很棒！

基本上，我已经建立并规范了一个关于运输公司的数据库以及诸如司机详细信息、旅行和包裹详细信息等各种信息。

试图找到那些在 6 个月内外出超过 100 天的司机。幸运的是，样本数据只涉及 6 个月，所以......

我有这个，有点。给出的最大结果是 27，我可以在数据上看到它应该更多，所以我想知道我是否无意中限制了 SQLDev 的读取大小？说也许将其限制为仅从前 100 行返回或其他什么？

```
 SELECT  driver_first_name, driver_second_name,sum(duration)
from trips 
group by  driver_first_name, driver_second_name, duration
order by sum(duration) desc 
```

感谢您对 sufleR 的帮助！

```
trip_id   start_date  end_date    duration    driver_first_name  driver_second_name
1234      1/1/12     1/5/12       4             Ahmed                  Leer 
```

这是一个示例行，因此持续时间是他们旅行的时间。所以我需要根据司机姓名计算所有持续时间，然后按降序对结果进行排序。

希望这是有道理的！

# sql-server - 防火墙端口 1433 未打开

> ID：13304249
> 
> 赞同：10
> 
> 时间：2012-11-09T07:58:31.140
> 
> 标签：sql-server, sql-server-2008, database-connection, firewall

我正在使用带有 MSSQL 2008-R2 的 MS Server 2008 作为数据库服务器。

每次进行某些工作时，我都必须通过远程连接登录服务器。我尝试配置 SQL Server 远程连接，请按照以下步骤操作....

1.为tcp端口1433创建了入站和出站规则。

2.在sqlserver配置管理器中，全部设置为IP地址和端口无属性。

3.设置远程连接的SqlServer实例。

但它仍然无法正常工作。

此外，当我在本地计算机上检查 tcp 端口 1433 时，它显示为关闭。

提前致谢.......

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2016-04-20T20:09:04.123

1.  可能端口 1433 已禁用，因此请使用 MS WIndows 防火墙启用它。

或者只是使用

```
netsh firewall set portopening protocol = TCP port = 1433 name = SQLPort mode = ENABLE scope = SUBNET profile = CURRENT 
```

2.  可能 MS SQL Server Browser 服务没有运行。所以去服务并启动它。

或者只是在运行菜单下执行

> %windir%\system32\services.msc

3.  可能在 SQL Server 2008/2014 配置管理器下禁用了 TCP/IP 通道。所以去那里并启用所有 TCP/IP 选项。

[![在此处输入图像描述](../Images/cd106951dd18147faac8ea2034e52749.png)](https://i.stack.imgur.com/PIFNJ.png)

4.  以防万一在同一个地方（SQL Server 2008/2014 配置管理器）确保您有 1433 端口。

[![在此处输入图像描述](../Images/9fe3f83caebf4f9b59659dcec66a54d8.png)](https://i.stack.imgur.com/BO6Lz.png)

5.  确保将 SQL 服务器配置为允许远程连接。使用 MS SQL Management Studio 并右键单击服务器本身的顶部节点。

[![在此处输入图像描述](../Images/ffa24d6878591a75ae9653b314369946.png)](https://i.stack.imgur.com/qGrMv.png)

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-11-09T10:41:20.813

在 SQL Server 配置管理器->SQL Server 网络配置->协议中，检查是否启用了命名管道和 tcp/ip。

如果这不起作用，则可能是您的防火墙阻止了它，请尝试以下链接：http: [//msdn.microsoft.com/en-us/library/cc646023.aspx](http://msdn.microsoft.com/en-us/library/cc646023.aspx)

这也可能有用：http: [//support.microsoft.com/kb/287932](http://support.microsoft.com/kb/287932)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2016-02-05T02:42:06.097

如果已在 SQL Server 配置管理器中启用命名管道和 TCP/IP 访问，则需要为**UDP**端口**1434**添加规则或为**sqlbrowser.exe**添加规则，以便 SSMS 客户端可以与 SQL Server Browser 服务通信.

我实际上经常看到人们遇到这个问题，所以我在这里写了一个解释：[http ://blog.dereenigne.com/microsoft-sql-server-dynamic-ports-windows-firewall-and-you/](http://blog.dereenigne.com/microsoft-sql-server-dynamic-ports-windows-firewall-and-you/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-05-08T19:04:35.940

如果您`SQL Server Express`像我现在一样尝试连接到一个实例......默认情况下它不使用端口`1433`。必须签`IpAll => TCP Dynamic Ports`入`Sql Server Configuration Manager`。我的是 52848。

`52848`在 DbSchema 应用程序（我正在尝试使用的那个）中输入正确的端口后，它连接成功。

检查以下屏幕截图： [![在此处输入图像描述](../Images/eba5a9d5bfd8399cc12e079e16886a49.png)](https://i.stack.imgur.com/1Q5JY.png)

这是要走的路：

> 默认 SQL Server Express 安装不启用 TCP 网络协议，因此这里有一些步骤可以与 SQL Server Express 通信。对于 MS SQL Server Express 2017、2016、2014、2012、2008 和 2005，这些步骤应该类似。

1.  启动 SQL Server 配置管理器。它应该在开始 -> 程序 -> Microsoft SQL Server 2005 -> 配置工具开始菜单选项中。

2.  选择 SQL Server 2005 网络配置选项卡。应该有一个 SQLExpress 选项的协议，其中一个协议应该是 TCP IP。

3.  如果未启用 TCP IP 协议，请启用它。

4.  SQL Express 的默认端口可能不是 1433。要找到它正在侦听的端口，请右键单击 TCP IP 协议并一直向下滚动到 IP All 标题。应该有一个名为 TCP 动态端口的部分。这应该列出 SQL Express 正在侦听的端口。然后，您可以在通过 RazorSQL 添加连接配置文件时将此值放入端口字段。

确保在尝试连接之前重新启动 SQL Express。

文字转载自： [https ://razorsql.com/docs/support_sqlserver_express.html](https://razorsql.com/docs/support_sqlserver_express.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-11-13T15:19:32.823

我的服务器中有多个 NIC。当我转到 SQL Server 网络配置 -> TCP/IP 并右键单击属性时，有一个 NIC 列表，底部是我的 SQLEXPRESS 的开放端口。不是 1433 ......我不知道是否有默认值，但我的在 49,000 秒内。

# android - eclipse中的android模拟器可以关闭吗？如何？需要它来测试我的警报管理器在启动时自动启动

> ID：13304253
> 
> 赞同：2
> 
> 时间：2012-11-09T07:58:40.547
> 
> 标签：android, eclipse, alarmmanager, intentservice

我没有真正的Android手机，我想测试Alarm，但我不知道它的代码是否有错误，或者模拟器在启动方面不像实际手机那样做。

自动启动代码来自这里： [Alarm Manager Example](https://stackoverflow.com/questions/4459058/alarm-manager-example)

代码没有给我错误，简单的警报管理器和服务还可以，但是警报的自动启动不起作用，我希望它只在 emu 上，希望它可以在实际手机中工作。下面的代码来自上述线程，它也是我使用的那个..我会放它，因为也许代码是问题

显现

```
<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"></uses-permission>
...
<receiver android:name=".AutoStart">
    <intent-filter>
        <action android:name="android.intent.action.BOOT_COMPLETED"></action>
    </intent-filter>
</receiver>
... 
```

这是开机触发

```
package YourPackage;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;

public class AutoStart extends BroadcastReceiver
{   
    Alarm alarm = new Alarm();
    @Override
    public void onReceive(Context context, Intent intent)
    {   
        if (intent.getAction().equals("android.intent.action.BOOT_COMPLETED"))
        {
            alarm.SetAlarm(context);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:36:59.773

**通过命令行**转到“android-sdk”文件夹中的“platform-tools”文件夹。键入以下命令：

`adb devices`

-- 这里会列出你之前启动的当前模拟器。如果模拟器被显示，那将，然后输入下面的命令。

`adb reboot`

-- 这将重新启动模拟器，而无需触摸模拟器上的任何按钮。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T11:56:34.993

adb -e shell am 广播 -a android.intent.action.BOOT_COMPLETED

输入这个，通过命令行进入 android sdk/platform-tools

这将发送一个人为的 BOOT_COMPLETED 动作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:02:05.940

您可以长按`powerOff`模拟器中提供的按钮，然后它将向您显示不同的选项，例如`Silent Mode`, `Airplane Mode`, `Power Off`. 在其他情况下，您可以重新启动模拟器。这样您就可以检查您的`BOOT_COMPLETED`广播。

# tomcat - Tomcat 7 中的零停机配置部署

> ID：13304254
> 
> 赞同：0
> 
> 时间：2012-11-09T07:58:49.320
> 
> 标签：tomcat, deployment, tomcat7

[查看Tomcat 7 中的并行部署](http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Parallel_deployment)可以完成的事情，我想知道如何为这些不同版本的应用程序提供新的或更改的配置。

简而言之 - 并行部署提供的是新版本的 war 文件可以推送到 webapps 目录（文件名如“App##01.war”、“App##02.war”），每个用户都有一个新版本session 将获得更新的版本，所有其他人都保留旧版本。

那么如何为各种版本提供不同或附加的配置（属性）呢？

干杯。

# .net - 从闪存调用 .NET DLL 函数

> ID：13304264
> 
> 赞同：0
> 
> 时间：2012-11-09T07:59:49.623
> 
> 标签：.net, actionscript-3, flash, dll, flash-builder

如何从 actionscript 调用 .NET DLL 函数。我正在创建一个在网站上运行的 Flash 应用程序。我不打算使用 Web 服务调用，因为服务调用有可能被拦截。

swf 文件将加载到 ASP.NET Web 应用程序的 aspx 页面中。该 dll 可以作为对同一 Web 应用程序的引用加载。

调用 DLL 文件的想法是使用[Rhino Licensing 系统验证对 swf 文件的访问权限](http://www.jagregory.com/writings/rhino-licensing/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T23:29:26.713

如果 SWF 嵌入到 HTML 页面中，则不能调用 DLL。您必须将这些调用包装到 HTTP 或 Socket 请求中。如果您使用 AIR（我认为您不使用），您将使用 NativeProcess 或 Native Extension。

# ruby-on-rails - 在本地预编译资产破坏了我的应用程序

> ID：13304265
> 
> 赞同：1
> 
> 时间：2012-11-09T08:00:00.050
> 
> 标签：ruby-on-rails, asset-pipeline, precompile

我是遵循 Michael Hartl 教程的新手程序员。

我即将完成第 9 章，它添加了查看站点上所有用户并删除具有管理功能的单个用户的功能。

所有规格都通过了，一切都按预期在本地工作。然而，当我在 Heroku 测试站点时，用户的索引看起来与本地索引不同。

我尝试在推送到 Heroku 之前预编译资产，这解决了问题。但是，现在删除用户的功能不起作用。我没有删除用户，而是转发给了该用户。本地版本也是如此。此外，我注意到单击退出链接返回了一个错误：

```
No route matches [GET] "/signout" 
```

我所有的规格都还在通过，这只会让我更加神秘！我怀疑这是如何编译资产的问题，但作为一个 Rails 新手，感觉就像大海捞针一样，所以欢迎任何帮助。

路线.rb

```
Hooter::Application.routes.draw do

  resources :users
  resources :sessions, only: [:new, :create, :destroy]

  root to: 'static_pages#home'
  match '/help', to: 'static_pages#help'
  match '/about', to: 'static_pages#about'
  match '/contact', to: 'static_pages#contact'
  match '/signup', to: 'users#new'
  match '/signin', to: 'sessions#new'
  match '/signout', to: 'sessions#destroy', via: :delete 
```

用户控制器.rb

```
class UsersController < ApplicationController
  before_filter :signed_in_user, only: [:index, :edit, :update, :destroy]
  before_filter :correct_user, only: [:edit, :update]
  before_filter :admin_user, only: :destroy

  def new
    @user = User.new
  end

  def create
      @user = User.new(params[:user])
      if @user.save
        sign_in @user
        flash[:success] = "Welcome to the hooter App!"
        redirect_to @user
      else
        render 'new'
      end
  end

  def index
    @users = User.paginate(page: params[:page])
  end

  def show
    @user = User.find(params[:id])
  end

  def edit
  end

  def update
    @user = User.find(params[:id])

    if @user.update_attributes(params[:user])
      flash[:success] = "Profile updated"
      sign_in(@user)
      redirect_to @user
    else
      render 'edit'
    end
  end

  def destroy
    User.find(params[:id]).destroy
    flash[:success] = "User destroyed"
    redirect_to users_url
  end

  private

      def signed_in_user
        unless signed_in?
          store_location
          redirect_to signin_url, notice: "Please sign in."
        end
      end

      def correct_user
        @user = User.find(params[:id])
        redirect_to(root_path) unless current_user?(@user)
      end

      def admin_user
        redirect_to(root_path) unless current_user.admin?
      end
end 
```

_header.html.erb

```
<header class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <%= link_to "hooter", root_path, id: "logo" %>
      <nav>
        <ul class="nav pull-right">
          <li><%= link_to "Home",    root_path %></li>
          <li><%= link_to "Help",    help_path %></li>
            <% if signed_in? %>
                <li><%= link_to "Users", users_path %></li>
                <li id="fat-menu" class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        Account <b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu">
                        <li><%= link_to "Profile", current_user %></li>
                        <li>
                            <%= link_to "Settings", edit_user_path(current_user) %>
                        </li>
                        <li class="divider"></li>
                        <li>
                        <%= link_to "Sign out", signout_path, method: "delete" %>
                        </li>
                    </ul>
                </li>
            <% else %>
                <li><%= link_to "Sign in", signin_path %></li>
            <% end %>
        </ul>
      </nav>
    </div>
  </div>
</header> 
```

应用程序.js

```
//= require jquery_ujs
//= require jquery
//= require bootstrap
//= require_tree . 
```

应用程序.html.erb

```
<!DOCTYPE html>
<html>
  <head>
    <title><%= full_title(yield(:title)) %></title>
    <%= stylesheet_link_tag    "application", media: "all" %>
    <%= javascript_include_tag "application" %>
    <%= csrf_meta_tags %>
    <%= render 'layouts/shim' %>    
  </head>
  <body>
    <%= render 'layouts/header' %>
    <div class="container">
          <% flash.each do |key, value| %>
            <div class="alert alert-<%= key %>"><%= value %></div>
          <% end %>
          <%= yield %>
          <%= render 'layouts/footer' %>
          <%= debug(params) if Rails.env.development? %>
        </div>
  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:08:13.580

这个问题`No route matches [GET] "/signout"`是相关的，因为您实际上不接受`GET`请求 on `/signout`，从您的路线定义来看，它应该是`DELETE`动词。

这可能是由于缺少 javascript 库而发生的，您能检查一下是否缺少一些吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:09:47.590

使用此`application.js`文件并尝试

**应用程序.js**

```
//= require jquery
//= require jquery_ujs
//= require_tree . 
```

在您正在阅读的书中，请参阅 `Listing 8.25.`

**来源**：[http ://ruby.railstutorial.org/book/ruby-on-rails-tutorial?version=3.2#sec-signin_upon_signup](http://ruby.railstutorial.org/book/ruby-on-rails-tutorial?version=3.2#sec-signin_upon_signup)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T21:25:58.620

在评论者和局外人的帮助下，我设法解决了这个问题。

首先，我删除了`public/assets`文件夹，这使得 Heroku 能够进行编译。

然后我移到`//= require bootstrap`了我的`jquery`导入下面：

```
//= require jquery
//= require jquery_ujs
//= require bootstrap
//= require_tree . 
```

# maven - maven 存储库中的哈希值

> ID：13304266
> 
> 赞同：1
> 
> 时间：2012-11-09T08:00:07.703
> 
> 标签：maven, hash, repository, nexus, archiva

Maven 存储库中的工件具有 MD5 和 SHA1 哈希值。在构建期间由本地 Maven 安装或在工件上传后由存储库服务器生成的哈希值在哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T13:47:12.463

.md5 和 .sha1 哈希是在部署之前由 Maven 的 Artifact 处理代码生成的（尽管 2.1.0 和 2.2.0 中的错误导致哈希被较早计算，这就是为什么这些特定版本部署不正确的哈希并被认为是坏的想法使用）

如果您想验证工件的真实性，那么中央所有最近（至少最近 2 年）发布的 gpg 签名也必须具有。

考虑`.md5`和`.sha1`散列作为验证工件是否完整，将 gpg 视为验证工件是真实的

# c# - 如何在 Windows 应用商店应用程序中维护 StorageFile over Shutdown 事件？

> ID：13304268
> 
> 赞同：0
> 
> 时间：2012-11-09T08:00:37.053
> 
> 标签：c#, state, lifecycle, windows-store-apps, storagefile

# 问题

如果用户使用 FileOpenPicker 为我的应用程序提供一个文件，是否有可能，如果可能，我如何在应用程序生命周期的关闭过程中保留对该文件的引用？

## 问题

我不能使用功能提供的编程访问，因为文件可以（并且很可能）从文件夹功能提供访问权限之外的位置打开。

## 这个例子

我正在构建一个[文本文件编辑器](http://apptivate.ms/apps/61/notepad-classic)，我可以在挂起时保存内容并在启动时恢复它，这不是问题。问题是用户打开文件并且可以在任何时候点击保存以在没有提示的情况下保存，因为我在私有字段中保留了对 StorageFile 的引用。如果应用程序关闭，似乎没有办法在不提示用户的情况下再次获取该 StorageFile。

# Windows 应用商店应用详细信息

## 生命周期

在 Windows 应用商店应用程序中，当用户离开应用程序时，应用程序将暂停，如果机器内存压力，它将被关闭。[模式](http://blogs.microsoft.co.il/blogs/ranw/archive/2011/09/16/handling-application-states-on-windows-8.aspx)是在挂起时保存（因为无法处理关机），然后通过加载保存的数据在下次启动时恢复。

## 从文件中读取数据

在 Windows 商店应用程序中，有两种访问文件的方法 - 让用户使用[FileOpenPicker](http://msdn.microsoft.com/en-us/library/windows/apps/windows.storage.pickers.fileopenpicker.aspx)向您提供文件，或者您可以选择加入对某些文件夹进行编程访问的[功能。](http://msdn.microsoft.com/en-us/library/windows/apps/hh464936.aspx#documents_library)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T10:10:36.410

您可以使用此解决方案： http: [//www.jonathanantoine.com/2012/08/06/keep-access-to-filesfolders-the-user-granted-you/](http://www.jonathanantoine.com/2012/08/06/keep-access-to-filesfolders-the-user-granted-you/)

将其存储在 FutureAccessList 中：

```
var picker = new FolderPicker();
picker.FileTypeFilter.Add("*");
var folder = await picker.PickSingleFolderAsync();

StorageApplicationPermissions.FutureAccessList.AddOrReplace(Token, folder); 
```

把它拿回来：

```
var folder = await StorageApplicationPermissions
    .FutureAccessList.GetFolderAsync(Token); 
```

# c# - async/await 在 MVVM 中没用吗？

> ID：13304270
> 
> 赞同：8
> 
> 时间：2012-11-09T08:00:39.253
> 
> 标签：c#, .net

在 ViewModels 通过 INotifyPropertyChanged 事件更新 Views 的 MVVM 中，async/await 的酷特性似乎没有太多空间；在调用者的捕获的同步上下文上执行延续。

那么，如果是这种情况，那么谁会在基于现代 UI 的应用程序中真正使用 async/await 的功能呢？在这种情况下，“谁”也可以表示什么模式，例如 MVC 变体。

我可以认为以下是使用 TAP 的好方法

```
ViewModel.Age
{
  set {
    await Model.SetAge(value);
    NotifyPropertyChanged("Age");
  }
} 
```

但是，在捕获的 syncContext 上运行它并没有太大帮助。实际上，我们可以将所有这些都放在模型中。

```
Model.Age
{
  set {
    await SetAge(value);
    NotifyPropertyChanged("Age");
  }
} 
```

现在，我们真的希望 syncContext 不是被捕获的。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-11-09T15:05:44.620

实际上，数据绑定*需要*`INotifyPropertyChanged.PropertyChanged`在 UI 同步上下文中引发。

 *`async`/`await`确实强制您区分*属性*（表示当前状态并且始终是同步的）和*命令*（表示动作并且可能是同步的或异步的）。属性 getter 和 setter*不能*，`async`因此您的示例代码带有“异步集”是不可能的方法。

`async`启用异步命令。您可以使用命令绑定来异步处理路由命令，或将`async`委托传递给 a `DelegateCommand`，或使用您自己的`ICommand`实现。无论您采用哪种方式，最终都会得到一个`async void`命令事件处理程序。

一个现实的例子是让 VM 属性在内存中设置 M 属性，并`SaveCommand`使用一个`async`处理程序。让`async`处理程序与额外的 VM 属性（`SaveInProgress`或者可能`Busy`与其他`async`处理程序共享的公共属性）交互是很常见的，这样 UI 可以在命令进行时做出适当的响应（通常至少会导致`CanExecute`返回`false`）。

所以你的`async`处理程序最终看起来像：

```
private async void SaveCommandExecute()
{
  try
  {
    // Set VM property; updates View appropriately.
    Busy = true;

    // Do the actual saving asynchronously.
    await Model.SaveAsync();
  }
  catch (Exception ex)
  {
    // Update the VM with error information.
    Error = ex.Message;
  }
  finally
  {
    // Let the VM know we're done.
    Busy = false;
  }
}

private void SaveCommandCanExecute()
{
  return !Busy;
} 
```

请注意，VM 属性 (`Error`和`Busy`) 在捕获的 UI 同步上下文中更新。

* * *

这说明了`async`MVVM 的中心概念：命令可能是`async`，但属性（例如`Busy`）始终代表当前状态。

如果您要添加`async`到现有的 MVVM 应用程序，您会发现自己具有几个指示业务的附加属性，并且可能还有进度更新（例如，完成百分比）。根据您的应用程序，您可以同时允许多个异步操作。您需要考虑将这些信息添加到您的视图中的好方法；我发现这是`async`MVVM 应用程序中最具挑战性的部分。*

# c - 多维数组分配

> ID：13304278
> 
> 赞同：-2
> 
> 时间：2012-11-09T08:01:15.133
> 
> 标签：c, arrays, allocation

我几乎是 C 的初学者，我想分配一个二维数组，更改它，重新分配它并打印它。代码的两个答案都很有用。现在代码是：

```
 main()
    {
     int i, j, L , **lp ;
      scanf("%i" , &L );
      lp = calloc(L , sizeof(*lp) );
      for(i=0 ; i<L ; i++)
      lp[i] = calloc( L , sizeof( *(lp[i])) );

      for(i=0 ; i<L ; i++)
      {
          for(j=0 ; j<L ; j++ )
          {
           lp[i][j]=0;
           printf("%i\t" , lp[i][j] );
          }
       printf("\n");
      }
       free( lp );
       return(0);
     } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:02:43.453

很多**事情**都是错的。

### 1\. **for 循环**

```
{   for(j=0 , j<0 , j++ )

for (initialization_expression;loop_condition;increment_expression){..} 
```

如果缺少其中任何一个，请将它们留空，但您确实**需要**分号。

即使这样`j=0;j<0`作为条件也没有任何意义。

### 2\. 拼写错误

您在第二个 for 循环中将 lp 拼错为 pl。

### 3.主要

您没有为**main**指定返回类型。这没有被报告，但它是旧式的，不应该再使用了。

### 4.动态分配

这不是动态分配二维数组的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T08:31:45.810

这里有很多错误，但至于分配，你应该这样做：

```
int main()
{
    int i = 0;
    int j = 0;
    int L = 0;
    int **lp = NULL;

    scanf("%i", &L);
    if (!(lp = calloc(L, sizeof(*lp)))) //allocate 1st dimension
        return (0);
    for (i = 0; i < L; i++)
    {
        lp[i] = calloc(L, sizeof(*(lp[i]))); //all 2nd dimensions
    }
    return (0);
} 
```

并且不要强制返回 malloc ......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:24:49.000

首先纠正for循环中的错误。语法错误。检查变量拼写。

现在是分配部分。您只为代码中的一维数组分配了内存。分配二维数组应遵循以下过程。

首先我们需要分配一个指针数组。数组的大小是行数。然后我们为二维数组的每一行分配内存。我们将每一行的地址（本质上是一个一维数组，因此是一个指针）分配给我们已经分配的指针。

因此，我们最初需要一个指向指针数组的指针。对于指向该数组中指针的每个指针，我们分配一个数组，该数组对应于 2D 数组中的一行。

你可以做如下。

```
int **a;
int size,x;

//--- Obtain size of array in size;

a = calloc(size,sizeof(int *));  //Allocating a row of pointers and assigning to **a 

//for each *a in *a[] (i.e **a), we assign an array of ints.
for(x = 0; x < size; x ++) 
{
  a[x] = calloc(size,sizeof(int)); 
} 
```

现在你可以像这样访问这个数组：

```
for(i=0;i<size;i++)
  for(j=0;j<size;j++)
  {
    //do something with a[i][j]
  } 
```

# java - 在数据库中插入和更新、删除

> ID：13304284
> 
> 赞同：0
> 
> 时间：2012-11-09T08:01:47.300
> 
> 标签：java, database, primary-key

我有一个票务请求，我不知道如何处理。让我以清晰的方式解释整个场景。

在我的数据库中，我的主键`firstCode`是六位长 ex:`PQRS11`和`shortCode`（不是主键）是三位数长度：`PQR`。

这`firstCode`我可以为各种组织创建，例如`PQRS11`, `PQRS12`, `PQRS13`...`shortCode`我在 using `substring(0,3)`which give me中生成的`PQR`。

问题是在数据库中`PQR`应该只存在一个。如果我选择`PQRS11`并选择一个单选按钮来生成`shortCode`它应该检查数据库，如果`PQR`存在，那么它应该删除它并为`PQRS11`.

这个怎么做？我很困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:48:08.677

您应该创建另一个包含 firstcodes 和外键标识符的表到另一个包含短代码和链接到 firstcodes 表的外键的表。检查下面的参考示例

```
 table1                                table2
      id | shortcode | firstcodeFK             id | firstcode | firstcodeFK 
       1 |  PQR      |   11                     1 |   PQRS11  |     11
       2 |  PQRS     |   12                     2 |   PQRS12  |     11
       3 |  PQER     |   13                     3 |   PQER    |     13 
```

因此，现在每次您需要访问 PQR 码的所有成员时，只需从 table1 搜索外键并将其连接到与 table2 上的键匹配的位置即可获取结果，然后您可以更新单选按钮并进一步执行指示

# protocols - 如何设计一个简单的解析可靠的基于文本的协议

> ID：13304298
> 
> 赞同：2
> 
> 时间：2012-11-09T08:02:57.103
> 
> 标签：protocols, communication, data-transfer

我需要在至少一个不是 PC 的两个设备之间设计一个基于文本的协议。所以我不能依赖库、正则表达式和其他花哨的工具。这些语言提供的功能通常比`BASIC`（if、循环、toString、fromString、固定大小的字符串）所能提供的多一点。

消息通过 TCP/IP 传输。文本编码为 ASCII。

该协议应允许随时发送消息（一个合作伙伴可以连续发送 5 条消息）。

到目前为止我发现的问题：

1.  我需要一种将字符流拆分为可能多条消息的方法。
2.  由于消息中的某些字段可能具有不同的长度，因此我还需要一种将消息拆分为字段的方法。
3.  我需要支持几种消息类型，我想通过发送消息类型字段作为每条消息中的第一个字段来解决这些问题。

到目前为止我的计划：

*   引入像 '\0' 这样的消息分隔符来应对 1。
*   引入像 '\t' 这样的字段分隔符来处理 2。
*   将协议类型作为文本或整数作为第一个字段发送。

样本：

```
42\t123.456\tsome string\t4\042\t12.456\tsome other string\t5\0 
```

应解释为：

```
[42 , 123.456 , "some string" , 4], [42 , 12.456 , "some other string" , 5] 
```

我看到的问题：

*   如何处理“转义”分隔符，即包含 '\t' 或 '\0' 的字符串？禁止分隔符（也许从字符 128+ 中选择一些）？

你觉得这个协议怎么样？有没有好的选择？请记住，编程设施非常有限！

# google-maps - 访问 Google Maps 路线优化 API

> ID：13304302
> 
> 赞同：0
> 
> 时间：2012-11-09T08:03:35.300
> 
> 标签：google-maps, windows-services

我正在编写一个 Windows 服务来获得优化的路线。
从 Javascript 我可以使用`google.maps.DirectionsRenderer`它提供优化的路线，但从网络服务的角度来看，我没有找到等效的方法。

是否可以从服务器端访问 API？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:26:48.950

根据[谷歌帮助](https://developers.google.com/maps/documentation/directions/#Waypoints)：

> 默认情况下，该`Directions`服务按给定顺序计算通过提供的航点的路线。或者，您可以**`optimize:true`**作为第**一个参数**传递航点参数，以允许`Directions`服务通过以更有效的顺序重新排列航点来优化提供的路线。（此优化是[旅行商问题](http://en.wikipedia.org/wiki/Travelling_salesman_problem)的一个应用。）
> 
> 如果您指示 Directions 服务优化其路径点的顺序，它们的顺序将在 routes 对象内的 waypoint_order 字段中返回。waypoint_order 字段返回从零开始的值。
> 
> 以下示例使用路线优化计算从南澳大利亚阿德莱德到南澳大利亚每个主要葡萄酒产区的公路旅行路线。

`http://maps.googleapis.com/maps/api/directions/json?origin=Adelaide,SA&destination=Adelaide,SA&waypoints=`**`optimize:true`**`|Barossa+Valley,SA|Clare,SA|Connawarra,SA|McLaren+Vale,SA&sensor=false`

> 检查计算的路线将表明路线是使用以下航路点顺序计算的：

```
"waypoint_order": [ 1, 0, 2, 3 ] 
```

# java - 调整 JFrame 大小后多次执行 actionPerformed()

> ID：13304307
> 
> 赞同：2
> 
> 时间：2012-11-09T08:04:00.303
> 
> 标签：java, swing, jframe, actionlistener

似乎在我的应用程序中，单击 a 时执行方法的`JButton`次数与我调整`JFrame`. 在下面的示例中，当我启动应用程序并且根本不调整大小时，该方法`addPanel(Dimension dim)`执行了 2 次。调整一次大小后，一次甚至更多。这怎么解释？`ResizeController`对这个有影响吗？（注释行与另外两个“屏幕”有关，在这种情况下无关紧要）。

启动.java

```
public class Start {

    public static void main(String[] arg){

        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                new GroundFrame(Toolkit.getDefaultToolkit().getScreenSize());
            }
        });

    }
} 
```

GroundFrame.java

```
public class GroundFrame extends JFrame{

    public static final long    serialVersionUID = 55;
    private Container           contentPane;
    public static Flyer         screenFlyer;
    public static Points        screenPoints;
    public static Sponsoren     screenSponsoren;
    public static JFrame        parent;

    public GroundFrame(Dimension screenDimension){
        createAndShowGUI(screenDimension);
        setVisible(true);
    }

    private void createAndShowGUI(Dimension screenDimension){
        setExtendedState(JFrame.MAXIMIZED_BOTH); 

        parent = this;

        contentPane = getContentPane();
        contentPane.setLayout(null);

        //screenFlyer = new Flyer(screenDimension);
        //screenSponsoren = new Sponsoren(screenDimension);
        //screenSponsoren.setVisible(false);
        screenPoints = new Points(screenDimension);
        //screenPoints.setVisible(false);

        ResizeController controller = new ResizeController();
        controller.start();

        //contentPane.add(screenFlyer);
        //contentPane.add(screenSponsoren);
        contentPane.add(screenPoints);
    }

    public static void exit(){
        System.exit(0);
    }
} 
```

点数.java

```
public class Points extends JPanel{

    public static final long            serialVersionUID = 55;

    private JButton                     buttonNext, buttonExit, buttonAdd;
    private JLabel                      copyright;

    private Vector<PlayerPointsPanel>   panels = new Vector<PlayerPointsPanel>();
    final Color                         BACKGROUND_COLOR = new Color(60,60,60);                         
    private int                         pressed = 0;

    public Points(Dimension screenDimension){
        setLayout(null);
        setBackground(BACKGROUND_COLOR);
        setPreferredSize(screenDimension);
        initialize(screenDimension);
        setupElements(screenDimension);
    }

    private void initialize(Dimension dim){
        copyright = new JLabel("\u00a9 by Valentino Rugolo (2012)", SwingConstants.CENTER);
        buttonAdd = new JButton("+");
        buttonNext = new JButton("");
        buttonExit = new JButton("X");
        /*for(int i=0; i<8; i++){
            PlayerPointsPanel panel = new PlayerPointsPanel(dim, i);
            add(panel);
            panels.add(panel);
        }*/
    }

    private void setupElements(Dimension dim){
        setBounds(0,0,dim.width, dim.height);
        setLayout(null);
        dimensionCP = dim;

        copyright.setBounds((int)(dim.width*0.82), (int)(dim.height*0.9), (int)(dim.width*0.15), (int)(dim.height*0.05));
        copyright.setFont(new Font("Times New Roman", Font.PLAIN, (int)(dim.height*0.017)));
        copyright.setForeground(Color.white);

        buttonNext.setBounds((int)(dim.width*0.01), (int)(dim.height*0.9), (int)(dim.width*0.04), (int)(dim.height*0.04));
        buttonNext.setBackground(Color.DARK_GRAY);
        buttonNext.setForeground(Color.white);
        buttonNext.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent arg0) {
                GroundFrame.screenPoints.setVisible(false);
                GroundFrame.screenFlyer.setVisible(true);
            }
        });

        buttonExit.setBackground(Color.DARK_GRAY);
        buttonExit.setForeground(Color.white);
        buttonExit.setBounds((int)(dim.width*0.95), (int)(dim.height*0.01), (int)(dim.width*0.04), (int)(dim.height*0.04));
        buttonExit.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent arg0) {
                GroundFrame.exit();
            }
        });

        buttonAdd.setBackground(Color.DARK_GRAY);
        buttonAdd.setForeground(Color.white);
        buttonAdd.setBounds((int)(dim.width*0.01), (int)(dim.height*0.01), (int)(dim.width*0.04), (int)(dim.height*0.04));
        buttonAdd.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent arg1) {
                System.out.println("pressed " + pressed);
                pressed++;  
            }
        });

        add(buttonExit);
        add(buttonNext);
        add(copyright);
        add(buttonAdd);
    }

    public void resizeContent(Dimension dim){
        /*for(int i=0; i<panels.size(); i++){
            panels.elementAt(i).resizeContent(dim, i);
        }*/
        setupElements(dim);
    }
} 
```

ResizeController.java

```
public class ResizeController extends Thread{

    public int sizebeforeX = GroundFrame.parent.getWidth();
    public int sizebeforeY = GroundFrame.parent.getHeight();

    public ResizeController(){

    }

    public void run(){
        while(true){

            int actualX = GroundFrame.parent.getWidth();
            int actualY = GroundFrame.parent.getHeight();

            if(sizebeforeX != actualX || sizebeforeY != actualY){
                //GroundFrame.screenFlyer.resizeContent(GroundFrame.parent.getSize());
                GroundFrame.screenPoints.resizeContent(GroundFrame.parent.getSize());
                //GroundFrame.screenSponsoren.resizeContent(GroundFrame.parent.getSize());
                sizebeforeX = actualX;
                sizebeforeY = actualY;
            }

            try {
                Thread.sleep(250);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T08:09:00.680

每当您调整框架内容的大小时，您都会调用 setupElements() ，它会一遍又一遍地向按钮添加侦听器。只需将添加监听器的代码移到框架的initialize()方法中即可。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-09T08:13:56.907

1.  （这是为什么..）使用`ComponentListener`

2.  最安全的方法是实施`ComponentListener`，

3.  覆盖其方法[componentResized(ComponentEvent e)](https://stackoverflow.com/a/13065148/714968)，[或](https://stackoverflow.com/a/8792423/714968)

4.  在这个方法里面`javax.swing.Timer`从小交易开始`350-500ms`，

5.  如果调整大小仍然继续调用`Timer#restart()`，

6.  添加`Swing Action`从输出`Swing Timer`

7.  remove `Thread.sleep(int)`, 在调整大小时导致闪烁或冻结

8.  上述所有代码都可以用适当`Layout Manager`的`GridBagLayout`或自定义的（以及今天的）替换`MigLayout`

# c# - 我应该使用临时表还是持久表在 MSSQL 中暂存和合并数据？

> ID：13304309
> 
> 赞同：2
> 
> 时间：2012-11-09T08:04:14.293
> 
> 标签：c#, sql-server

我有一张表，需要以每小时数百万的数量填充很多行。

现在我有一个使用实体框架用 C# 开发的应用程序，它不支持批量复制。我之前开发了一个使用批量复制的解决方案，这是一个巨大的性能改进。

我一直在将数据复制到临时表，然后将临时表与生产表合并，以解决`UNIQUE`约束冲突。

现在我今天的问题是，我是否应该在存储过程中使用临时表作为变量并在那里进行所有的合并和冲突解决？在当前的解决方案中，我们进行大容量复制，然后调用一个存储过程来合并和清空表。

使用临时表会有什么样的性能影响？

使用临时表是否被认为是一种不好的做法？如果是这样，为什么？

MSSQL 2012 中是否有替代方案可以很好地解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:35:17.080

> 我应该在存储过程中使用临时表作为变量并在那里进行所有的合并和冲突解决吗？

我认为最好使用临时表来避免存储过程的并发执行问题，因为过程的不同实例可以尝试读取和修改相同的行。

> 使用临时表会有什么样的性能影响？

临时表（以及表变量）存储在其中，`tempdb`因此您可以在那里遇到瓶颈。

> 使用临时表是否被认为是一种不好的做法？

不，但是使用它们不需要你做额外的写入和读取操作，因为首先你通过一些查询读取数据，将它写入临时表，然后再读取一次数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:37:33.837

临时表较慢，这就是为什么如果可以避免的话我不会使用它们的原因。您可能使用 tempTables 的唯一原因是多个用户正在使用该过程。在这种情况下，它可能会更好。

# c# - 如何使用 linq to sql 从数据库中读取数据并将其存储在数组中？

> ID：13304310
> 
> 赞同：0
> 
> 时间：2012-11-09T08:04:15.407
> 
> 标签：c#, .net, linq-to-sql

我创建了一个数据（id）为 8、5、1、9、2、3、4、5 的数据库。然后我想检索数据并将其存储在一个数组中。有人可以帮助我吗？我正在使用 C# 和 linq to SQL。

我的代码：

```
using(DatabaseDataContext db = new DatabaseDataContext())
{
   var query = from p in db.table1
               select p.id;

   int[] myArray = new int[query];
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T08:05:08.370

只需调用扩展方法`ToArray()`：

```
var array = (from p in db.table1
             select p.id).ToArray(); 
```

# xcode - UIPopoverController 未运行

> ID：13304312
> 
> 赞同：1
> 
> 时间：2012-11-09T08:04:19.237
> 
> 标签：xcode, ipad, uiimagepickercontroller, uipopovercontroller

我在 iPad 模拟器上工作，我想在 iPad 照片库中查看图像，但它有问题：

'NSInvalidArgumentException'，原因：'在 iPad 上，UIImagePickerController 必须通过 UIPopoverController 呈现'

这是我的代码。帮我！

```
- (IBAction)ShowGallery:(id)sender {
        if([UIImagePickerController isSourceTypeAvailable:
            UIImagePickerControllerSourceTypePhotoLibrary]) {
            picker = [[UIImagePickerController alloc]init];
            picker.delegate = self;
            picker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;
            [self presentModalViewController:picker animated:YES];
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-15T10:54:04.003

您必须在 iPad 中使用 PopoverController 而不是 PresentModalViewController。您可以使用以下代码

```
 UIPopoverController *popOver =[[UIPopoverController alloc] initWithContentViewController:picker];
    [popOver setPopoverContentSize:CGSizeMake(315.0 , 245.0) animated:YES];

    [popOver presentPopoverFromRect:takePictureButton.frame inView:self.view permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES];    
[picker release]; 
```

# c# - 如何在 C# wpf 应用程序中使用 F# 类型

> ID：13304314
> 
> 赞同：4
> 
> 时间：2012-11-09T08:04:32.463
> 
> 标签：c#, wpf, f#

在 F# 中，我的代码结构如下：

```
module MyNS.MyModule

type SomeType =
    member x.value = "some value" 
```

与其组装代号为`MyNs`. 我从 C# WPF 应用程序中引用它并在 XAML 中执行相同的操作：

```
<UserControl x:Class="WpfTest"
             xmlns:data="clr-namespace:MyNS;assembly=MyNs"> 
```

然后我尝试`SomeType`用于`DataTemplate`：

```
<DataTemplate DataType="{x:Type data:MyModule.SomeType}"> 
```

但是有关于缺少类型的错误。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-09T08:07:32.630

我认为它应该如下所示，`MyModule+SomeType`而不是 `MyModule.SomeType`嵌套类。

```
<UserControl x:Class="WpfTest"
             xmlns:data="clr-namespace:MyNS;assembly=MyNs">

<DataTemplate DataType="{x:Type data:MyModule+SomeType}"> 
```

[在 SO 上](https://stackoverflow.com/a/12807195/1136211)找到它。

# scp - 为 SCP 添加一个公钥到服务器

> ID：13304317
> 
> 赞同：2
> 
> 时间：2012-11-09T08:05:06.823
> 
> 标签：scp, ssh-keys

我的场景是这样的，我正在尝试从 server1 到 server2 的 SCP，并且我需要在 server1 上创建一个 public_key 以允许 server2 访问它。我该怎么做呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T08:15:00.447

使用 ssh-copy-id

ssh 到 server1

```
ssh server1 
```

在 server1 上生成 ssh 密钥

```
ssh-keygen -t rsa 
```

将此公钥复制到用户“用户名”的 server2 上的自动密钥文件中

```
ssh-copy-id -i ~/.ssh/id_rsa.pub username@server2 
```

从 server1 注销

```
logout 
```

现在，您可以从 server1 以用户名（或执行 scp 操作）通过 ssh 登录到 server2 而无需密码。

对于另一个方向，重复这些步骤，但切换服务器。

# iphone - 在控制器之间传递 UISegmentedControl 值……

> ID：13304321
> 
> 赞同：0
> 
> 时间：2012-11-09T08:05:41.830
> 
> 标签：iphone, ios, methods, delegates, uisegmentedcontrol

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:52:02.027

您的实用程序视图控制器需要一个指向委托的指针，所以

```
@property(weak) id< FlipsideViewControllerDelegate> delegate; 
```

* * *

然后在您的实用程序视图控制器中有一个 IBAction 当视图更改并调用委托时

```
- (IBAction)segmentedControlClicked:(id)sender {
    [self.delegate flipsideViewControllerSelectionChangedToIndex:[sender selectedSegment]];
} 
```

# python - 我如何登录网站并在 python 中做事

> ID：13304325
> 
> 赞同：0
> 
> 时间：2012-11-09T08:05:48.937
> 
> 标签：python, authentication, scrapy

我已经阅读了这个问题，但我使用了不同的东西， [如何使用 python 登录网站？](https://stackoverflow.com/questions/4414683/how-can-i-log-into-a-website-using-python)

我正在使用 Scrapy 进行网络抓取，但我不想使用 Mechanize。

我想要做的是用 python 登录我的网站，然后我必须使用数据库中的数据提交表单。

前提是所有数据都是有效的。我怎么能用scrapy做到这一点。或者我还需要使用任何其他库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T14:09:16.313

在开始爬网之前登录网站的scrapy 文档中有[一个示例。](http://doc.scrapy.org/en/latest/topics/request-response.html#using-formrequest-from-response-to-simulate-a-user-login)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:09:00.540

您可以将带有用户数据的请求发送到身份验证控制器。例如，您的网站从网站上的表单获取 POST 请求。所以你可以直接向它发送 POST 请求。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:17:15.243

在此处查看类似的问题：[如何使用 Python 登录网页并检索 cookie 以供以后使用？](https://stackoverflow.com/questions/189555/how-to-use-python-to-login-to-a-webpage-and-retrieve-cookies-for-later-usage)

查看 URLlib：[http ://docs.python.org/2/library/urllib.html](http://docs.python.org/2/library/urllib.html)

这应该可以回答您的问题，但请记住，您必须满足一些身份验证位才能登录某些网站。我建议研究与此相关的 OpenID 和 python 库。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T08:18:50.503

您可以使用[请求](http://docs.python-requests.org/en/latest/user/quickstart/)之类的 python 库，也可以简单地使用 urllib2,cookielib[这里](https://stackoverflow.com/questions/11445731/scrapy-do-form-login-and-then-work-with-that-session)是一个参考

在这种情况下，您可以编写一个处理登录的方法，在提交表单之前，您可以使用 django ORM 加载数据，然后提交表单。

# html - 在 HTML 中设置自定义锚点

> ID：13304326
> 
> 赞同：4
> 
> 时间：2012-11-09T08:05:52.807
> 
> 标签：html, css

[我在此处](https://stackoverflow.com/questions/9380034/setting-custom-anchorpoint)和[此处](https://stackoverflow.com/questions/9335942/anchor-point-positionings)的帖子中看到了该主题，但它们并没有真正帮助我。但情况非常相似：滚动页面和页面顶部的粘性菜单栏（固定 div），锚点分散在长滚动文本中。

像这样的HTML：

```
<a name="hd1" class="anchor"><h1>Heading Foo</h1></a>
<p>this is some text, and a lot of it
...
<a href="#hd1">jump to Heading Foo</a>
...
<a name="hdx" class="anchor"><h1>Heading Bla</h1></a>
<p>and then there is more text
...
<a href="#hdx">jump to Heading Bla</a>    
... 
```

有一些 CSS 目前是空的，因为我仍然只是偶然发现了这个问题

```
.anchor {
  color: green;
} ​ 
```

看看[这个](http://jsfiddle.net/QCv27/)小提琴，看看它现在是如何工作的。

现在，每当我单击链接时，它都会将我带到锚点。（耶！）唉，这也意味着现在位于页面顶部的锚点被粘性菜单覆盖。（不！）如果它会显示在粘性菜单*下方，那就太好了。*

我已经尝试了其他帖子中给出的解决方案，但无济于事。例如，在锚点周围添加填充实际上会在文本中添加可见的填充并创建空白空间；这不是我想要的。文本应该在视觉上看起来未修改。

提前感谢您的提示和提示:-)

编辑：我应该让它更清楚一点。我不需要*页面*顶部的空间。我确实需要*每个*锚点都位于菜单栏*下方。*试试我原来的小提琴，然后单击锚点：您将看到它们是如何定位的，以便它们被菜单栏覆盖。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:19:55.327

如何为第一个 h1 设置填充？

```
​h1:first-child {
    padding-top:50px;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T18:18:34.367

感谢您的输入，我根据[此](https://stackoverflow.com/questions/4996330/changing-default-starting-position-of-anchor)讨论找到了一个可行的解决方案。那里的提示是“空锚”；在我原来的小提琴上，锚点包围了标题，这使我无法定位锚点。

更改为空锚

```
<a name="hdx" class="anchor">&nbsp;</a><h1>Heading Bla</h1> 
```

允许我在不影响任何（可见）文本流的情况下移动页面上的锚点。所以锚的 CSS 现在变成了

```
.anchor {
  position: relative;
  top: -35px;  /* depending on the size of the sticky menu */
} 
```

这样，标题的锚点位于标题*上方*，并且跳转到该锚点会导致标题显示在菜单栏*下方。*

我已经更新[了小提琴](http://jsfiddle.net/QCv27/20/)以正常工作。（两件事：锚使用 A1，.. 文本来显示它们的位置，但你可以清空它们。另外，我必须明确关闭`<p>`标签以确保“位置：相对”工作正常。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:40:04.167

添加额外的一类并设置该边距顶部值

html

```
<div id="menu">Menu</div>
 <div class="nontop">
  //-- some thing here
</div> 
```

CSS

```
.nontop {
margin-top: 50px;
} 
```

这里是 Deml：[小提琴](http://jsfiddle.net/QCv27/17/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T08:32:44.577

创建一个容器 div 来保存其余数据并设置 padding-top:50px;

CSS: #contents{ padding-top:50px;/* 菜单高度 */ }

HTML：

```
<div id="menu">Menu</div>
<div id="contents">
<!-- data goes here -->
</div> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-09T08:34:35.057

使用 Javascript 并将`window.scrollTo`页面滚动到您想去的地方怎么样？您可以找到`offsetTop`元素的，然后滚动到当前`scrollX`和 offsetTop + 标题有多高？

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-09T09:05:34.380

[现场演示](http://jsfiddle.net/bindashsandeep/mLCE3/1/) 想做这样的事情。

创建一个 div 并`margin-top:50px;`保持所有都在容器 div 中，除了菜单 div。

# javascript - 向滑块添加淡入淡出/过渡

> ID：13304327
> 
> 赞同：0
> 
> 时间：2012-11-09T08:06:00.380
> 
> 标签：javascript, slideshow

我正在仅使用 javascript 进行幻灯片放映。[这就是我目前所拥有的](http://www.codelifter.com/main/javascript/slideshow3.html)，我的问题是，如何使图像过渡平滑或像淡入淡出效果？这也是用于带标题的自动幻灯片的最短的 javascript 代码吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T11:37:39.520

你可以使用这个[jquery 幻灯片插件](http://www.cincopa.com/media-platform/jquery-slideshow)，它有不同的过渡风格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:58:14.087

Jquery 效果应该可以解决您的问题

[效果 API](http://api.jquery.com/category/effects/)

[效果维基](http://docs.jquery.com/UI/Effects)

# javascript - 在会话中维护 Facebook 用户 ID

> ID：13304328
> 
> 赞同：7
> 
> 时间：2012-11-09T08:06:08.593
> 
> 标签：javascript, facebook, cookies, session-cookies

我正在尝试将 facebook 登录添加到我的网站。我已经使用 facebook JavaScript SDK 进行了身份验证，并创建了一个带有用户 ID 的 cookie。问题是，当用户注销（我正在销毁所有 cookie）并导航到站点上的另一个页面时，我仍然可以看到带有数据的 cookie。

以下是我用来创建和销毁 cookie 的函数：

```
Utils.createSessionCookie = function(id, name, access_token) {    
    if (Utils.getCookie(Consts.USER_ID) == null) {
        Utils.setCookie(Consts.USER_ID, id, 1);
        Utils.setCookie(Consts.NAME, name, 1);
        Utils.setCookie(Consts.ACCESS_TOKEN, access_token, 1);
    }
};

Utils.destroySessionCookie = function() {
    Utils.setCookie(Consts.USER_ID, '', -1);
    Utils.setCookie(Consts.NAME, '', -1);
    Utils.setCookie(Consts.ACCESS_TOKEN, '', -1);
};

Utils.setCookie = function(name, value, days) {
    var expireDate = new Date();
    expireDate.setDate(expireDate.getDate() + days);
    var cookieValue = escape(value) + ((days == null) ? "" : ";expires=" + expireDate.toUTCString() + "; path=/");
    document.cookie = name + "=" + cookieValue;
}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T06:42:40.667

*注意：只是帮助回答OP的问题。*

根据上面的评论，用户创建的代码中存在重复创建 cookie 的错误。这不是 Facebook SDK 的错误。

解决错误后，Facebook cookie 工作正常。

# ios - phonegap) 检索 iphone 联系人电子邮件时发生错误

> ID：13304332
> 
> 赞同：0
> 
> 时间：2012-11-09T08:06:39.637
> 
> 标签：ios, cordova

我正在使用contact.find 功能从联系人列表中获取电子邮件。
获取所有联系人列表名称很好，但我无法获取联系人列表电子邮件。
当我从联系人列表中解析电子邮件数据时，似乎发生了 javascript 错误。
下面是我的代码。

```
var contactFxn = {

getContact : function(){
    var options = new ContactFindOptions();
    var fields = ["name", "email"];
    options.filter= "";
    options.multiple=true;
    navigator.contacts.find(fields, this.onSuccess, this.onError, options);
    //console.log(options);
},
onSuccess : function(contacts){

    for(var i = 0; i < contacts.length; i++){
            console.log(i);
            console.log("Display email = " + contacts[i].emails[0].value);
        }  
    }
},
onError : function(e){
    console.log(e);
}

}

contactFxn.getContact(); 
```

这是我的日志控制台。

2012-11-09 16:48:22.564 测试[9529:907] [LOG] 0
2012-11-09 16:48:22.566 测试[9529:907] [LOG] 显示名称 = ssxxc
2012-11-09 16： 48:22.568 测试[9529:907] [日志] 1

当联系人没有任何电子邮件值时，我猜测 webview 会引发 javascript 错误。
太糟糕了，我无法检查 xcode 中发生了哪种类型的 javascript 错误。

我已经尝试过 'if(contacts[i].emails[0] == null)' 但没有运气。webview 无论如何都会抛出错误，
任何人都可以建议其他方法来解决这个问题吗？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-14T06:51:07.527

```
onSuccess : function(contacts){

for(var i = 0; i < contacts.length; i++){
        console.log(i);
        if(contacts[i].emails){
            console.log("Display email = " + contacts[i].emails[0].value);
        }
    }  
} 
```

只是愚蠢的错误。

我试图在联系人数组的某些元素时获取联系人[i].emails[0].value

没有电子邮件价值。上面的代码现在工作正常

# drupal - Drupal 更改 URL 路径设置将导致“找不到页面”问题

> ID：13304333
> 
> 赞同：1
> 
> 时间：2012-11-09T08:06:40.800
> 
> 标签：drupal, path, drupal-7

我创建了一个内容“testpage”并将“url 路径设置”设置为“mysite/testpage”，我会看到该页面运行良好。然后，当我将“url 路径设置”更改为“mysite/test”时，我看不到此页面，并且会出现“找不到页面”错误。如果我将“url 路径设置”更改为无，仍然是“找不到页面”错误。

这个问题困扰了我很久。等待您的解决方案。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T11:35:10.853

尝试使用[重定向模块](http://drupal.org/project/redirect)来解决这个问题。

使用重定向，您可以将`moved permanently`HTTP 代码从“mysite/testpage”发出到“mysite/test”

希望这会有所帮助……穆罕默德。

# ruby - 抓取复制模型并保存到新对象

> ID：13304336
> 
> 赞同：0
> 
> 时间：2012-11-09T08:07:24.380
> 
> 标签：ruby, ruby-on-rails-3, activerecord

我正在尝试将一些对象从另一个模型移动到另一个模型中。

`quotes.labouritems`得到我想要的数据。

这不起作用：

```
newitems = quotes.labouritems.dup
new invoice = invoice.labouritems.build(newitems) 
```

为什么我这样做是因为我需要来自的数据`labouritems`但不想保持相同的 id，否则任何时候他们被更新`quote.labourites`都会更新`invoice.labouritems`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:42:12.250

尝试：

```
newitems = quotes.labouritems.clone 
```

基于此测试，它应该可以工作：

```
class Foo
end

foo = Foo.new
#=> #<Foo:0x00000002694cc0>
bar = foo.clone
#=> #<Foo:0x000000027e1f10> 
```

# android - 从 Android 代码中提取字符串到 Intellij 中的 strings.xml 文件的捷径是什么？

> ID：13304339
> 
> 赞同：49
> 
> 时间：2012-11-09T08:07:38.313
> 
> 标签：android, intellij-idea, keyboard-shortcuts

在 Eclipse 中，我曾经使用组合（先按`Shift`++ ，然后按`Alt`）来提取字符串，但我在 Intellij 上找不到它。如何在 Intellij 上执行此操作？`A``S``strings.xml`

* * *

## 回答 #1

> 赞同：132
> 
> 时间：2012-11-09T08:30:20.810

您可以使用`Alt`+`Enter`组合。

[更多信息](http://www.jetbrains.com/idea/webhelp/extracting-hard-coded-string-literals.html)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-05-30T11:07:30.813

转到 Android 工作室“帮助”-> 查找操作-> 键入“提取字符串资源”

你会发现一个开/关按钮。打开选项。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-10-24T21:33:45.097

如果你得到一个带有`ALT`+的菜单，`Enter`但你没有看到该选项`extract string resource`，那可能是因为你不在字符串中，而是**在**引号**后面。**

光标必须在引号内。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-25T23:03:44.913

做同样的事情。

Paramasivam Vijay Anand 说得对。

Android Studio 2.2.3 你可以去帮助打开提取字符串资源。但是，在“设计”选项卡中单击文本时，Alt+enter 不会提取资源，当我单击 Activity_main 然后在那里选择文本时，它对我有用。报价似乎并不重要。

# android - 同时拥有 values 和 xml 目录是什么意思？

> ID：13304340
> 
> 赞同：1
> 
> 时间：2012-11-09T08:07:49.993
> 
> 标签：android, android-xml

我试图了解为什么决定在Android 应用程序文件夹中同时包含子文件夹`values`和子文件夹。`xml``res`

`drawables`虽然我可以看到和（对于那些持有不同性质的对象）之间的语义差异，但我看`anim`不到xml 数据之间的差异似乎是值。`values``xml``values`

（而且，'xml'似乎描述的是数据表示的形式而不是数据的性质（大部分res数据都是xml的形式））

有人可以提供见解吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:36:53.257

`values`通常应该保存包含不相互关联的单独值的文件，`strings`例如`dimens`或`colors`. `xml`应该保存可以被视为一个整体的文件，like`app_widget_provider`或`search_provider`files。这是我能想到的唯一区别。

# wordpress - 在 wordpress 中注册 zend 框架

> ID：13304355
> 
> 赞同：2
> 
> 时间：2012-11-09T08:09:46.873
> 
> 标签：wordpress, zend-framework

我正在尝试在 wordpress 中使用 zend 框架，并尝试了使用插件的各种方法，最新的是：

[http://crazycoders.net/2012/04/using-zend-framework-in-a-wordpress-environment/](http://crazycoders.net/2012/04/using-zend-framework-in-a-wordpress-environment/)

```
 add_action('plugins_loaded', 'Zend_Framework_Register');

    function Zend_Framework_Register(){

//Setup Zend framework autoloading
define('ZEND_FRAMEWORK_PATH', dirname(__FILE__));
set_include_path(ZEND_FRAMEWORK_PATH . PATH_SEPARATOR . get_include_path());
require_once         'Zend'.DIRECTORY_SEPARATOR.'Loader'
    .DIRECTORY_SEPARATOR.'Autoloader.php';
Zend_Loader_Autoloader::getInstance();

//Send a signal to say that zend framework got registered
do_action('Zend_Framework_Registered');

    } 
```

我有一个插件结构——![在此处输入图像描述](../Images/f0118194d687ee65e34f186f08ccea60.png)
我已经包含了最小的 zend 库。

无论我使用哪种方法，我都会在激活时收到以下错误

致命错误：第 22 行的 C:\vhosts\plum-vet-recruit\wordpress\wp-content\plugins\zend-framework-plugin\zend-framework-plugin.php 中找不到类“Zend_Loader_Autoloader”

令我困惑的另一件事是插件脚本引用 Autoloader.php 但加载程序文件夹不包含 Autoloader 文件..？

我也试过这个插件[http://wordpress.org/extend/plugins/wp-zend-library/](http://wordpress.org/extend/plugins/wp-zend-library/)

有任何想法吗..

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:09:45.140

您需要在自动加载器类中使用它才能使用它，因此在该`Zend_Loader_Autoloader::getInstance();`行之前，添加：

```
require_once 'Zend/Loader/Autoloader.php'; 
```

然后自动加载器需要您使用的其余 ZF 文件。如果您检查您链接的文章，您会发现它也在这样做。

另请记住，您遵循的说明适用于 ZF1。如果没有 Zend/Loader/Autoloader.php 文件，那么您可能已经下载了 ZF2。

# ruby - 从调用方法的实例类返回一个 Ruby 类名

> ID：13304364
> 
> 赞同：0
> 
> 时间：2012-11-09T08:10:24.547
> 
> 标签：ruby, instance-variables

我需要从调用方法 f 的类中返回一个类名。没有继承怎么办？还有……有可能吗？！

我正在使用 Ruby 1.9.2。

```
class B
  def f
    #need return class A
  end
end

class A
  attr_reader :a
  def initialize()
    @a = B.new
  end
end

A.new.a.f #=> A 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T08:20:50.160

你可以这样做：

```
class B
  def f
    @blabla.class.name
  end
  def initialize(obj)
    @blabla=obj
  end
end
class A
  attr_reader :a
  def initialize()
    @a = B.new(self)
  end
end

A.new.a.f
    => "A" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:49:06.577

您是要从字面上返回 class `A`，还是要动态确定调用者的类？如果是后者，那么在没有对 Ruby 内部结构进行非常奇怪的黑客攻击的情况下，没有一种安全的方法可以做到这一点，因此更改设计以解决此约束通常是一个更好的主意（通常通过注入构造函数或添加访问器，正如其他答案所建议的那样）。但是如果你想明确地返回 class `A`，这是一个简单的答案......

类是 Ruby 中的对象，存储在常量中。在调用方法之前，不会评估方法主体中的常量，因此在这种情况下，您可以简单地`A`从您的方法中返回：

```
class B
  def f
    A
  end
end

class A
  attr_reader :a
  def initialize()
    @a = B.new
  end
end

A.new.a.f #=> A 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T13:38:52.820

davidrac 解决方案的替代版本，除了它使用绑定。对不起，我对绑定的了解不多，在这里我可能使用不正确，请有人编辑它，谢谢。抱歉，在我的情况下，您仍然必须至少通过绑定。

```
class B
  def initialize(caller_class)
    @caller_class = caller_class
  end

  def f
    @caller_class
  end
end

class A
  attr_reader :a

  def initialize()
    @a = B.new(self.class)
  end
end

puts A.new.a.f  #=> A 
```

除此之外，我认为您还可以使用：

```
set_trace_func lambda { |event, file, line, id, binding, classname| #do sth with classname } 
```

或尝试肮脏的黑客

```
caller(0).last.match(/:(\d+):/)[1] # get the line number of caller, then get the class 
```

但是，如果您在两行中分别调用 A.new.af，这将不起作用

# c# - RichTextBox 旋转文本以进行打印

> ID：13304366
> 
> 赞同：9
> 
> 时间：2012-11-09T08:10:32.513
> 
> 标签：c#, winforms, printing, rotation

再会！

我需要从 RichTextBox 打印短卡。卡片尺寸为 10x14 厘米。

由于客户的打印机功能，我们只能通过这种方式将卡片放入打印机：

![示例图像](../Images/98b3be915cad11c16dc75133f432d5d4.png)

我尝试通过两种方式设置 PageSettings：

1.  PageSettings.Width = 10; PageSettings.Height = 14。
2.  PageSettings.Width = 14; PageSettings.Height = 10。

可打印区域如下所示：

![在此处输入图像描述](../Images/deeb91af89c0cd0e1ca1ca06ca53b025.png)

这是如何发布打印的代码：

```
btnRotate.CheckedChanged += (s, e) => InitPaperSize();

private void InitPaperSize()
    {
        string name = btnRotate.Checked ? "ShortCard (rotate)" : "ShortCard";
        int width = Centimeters(btnRotate.Checked ? 14 : 10);
        int height = Centimeters(btnRotate.Checked ? 10 : 14);

        System.Drawing.Printing.PaperSize ps = new System.Drawing.Printing.PaperSize(name, width, height);
        printDocument.DefaultPageSettings.PaperSize = ps;
    }

private int Centimeters(int centimeters)
    {
        return (int)((centimeters * 100) / 2.54);
    }

public int PrintRotate(bool rotate, PrintPageEventArgs e, int charFrom, int charTo)
    {
        //Calculate the area to render and print
        RECT rectToPrint;
        rectToPrint.Top = (int)(e.MarginBounds.Top * anInch);
        rectToPrint.Bottom = (int)(e.MarginBounds.Bottom * anInch);
        rectToPrint.Left = (int)(e.MarginBounds.Left * anInch);
        rectToPrint.Right = (int)(e.MarginBounds.Right * anInch);

        //Calculate the size of the page
        RECT rectPage;
        rectPage.Top = (int)(e.PageBounds.Top * anInch);
        rectPage.Bottom = (int)(e.PageBounds.Bottom * anInch);
        rectPage.Left = (int)(e.PageBounds.Left * anInch);
        rectPage.Right = (int)(e.PageBounds.Right * anInch);

        IntPtr hdc = e.Graphics.GetHdc();

        FORMATRANGE fmtRange;
        fmtRange.chrg.cpMax = charTo;               //Indicate character from to character to 
        fmtRange.chrg.cpMin = charFrom;
        fmtRange.hdc = hdc;                    //Use the same DC for measuring and rendering
        fmtRange.hdcTarget = hdc;              //Point at printer hDC
        fmtRange.rc = rectToPrint;             //Indicate the area on page to print
        fmtRange.rcPage = rectPage;            //Indicate size of page

        SetGraphicsMode(fmtRange.hdc, GM_ADVANCED);

        XFORM par = new XFORM();

        par = new XFORM();
        par.eM11 = 1;
        par.eM12 = 0;
        par.eM21 = 0;
        par.eM22 = 1;
        par.eDx = -e.PageSettings.Margins.Left / 100 * e.PageSettings.PrinterResolution.X;//делим на 100 так как границы указываются в сотых долях дюйма
        par.eDy = -e.PageSettings.Margins.Top / 100 * e.PageSettings.PrinterResolution.Y;

        ModifyWorldTransform(fmtRange.hdc, ref par, MWT_LEFTMULTIPLY);

        IntPtr res = IntPtr.Zero;

        IntPtr wparam = IntPtr.Zero;
        wparam = new IntPtr(1);

        //Get the pointer to the FORMATRANGE structure in memory
        IntPtr lparam = IntPtr.Zero;
        lparam = Marshal.AllocCoTaskMem(Marshal.SizeOf(fmtRange));
        Marshal.StructureToPtr(fmtRange, lparam, false);

        //Send the rendered data for printing 
        res = SendMessage(Handle, EM_FORMATRANGE, wparam, lparam);

        //Free the block of memory allocated
        Marshal.FreeCoTaskMem(lparam);

        //Release the device context handle obtained by a previous call
        e.Graphics.ReleaseHdc(hdc);

        //Return last + 1 character printer
        return res.ToInt32();
    } 
```

唯一的问题是我们只能水平地将卡片放入打印机中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T12:17:07.613

正如有人之前所说，您应该简单地设置 PageSettings.Landscape 属性。[您还可以使用PrintPageEventArgs.Graphics](http://msdn.microsoft.com/de-de/library/system.drawing.printing.printpageeventargs_properties.aspx)的图形上下文直接绘制。然后您可以绘制任何旋转的元素或旋转的文本。[这给出了一个很好的例子](https://stackoverflow.com/questions/4460258/c-rotated-text-align)。然后，您不需要使用指针 (IntPtr) 或设备上下文 (GetHDC)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T11:09:53.047

我在使用专业打印机时也遇到过类似的问题。驱动程序可能会忽略您设置的某些设置。

我的解决方案是从文本中制作图像并仅使用默认打印机设置，而不是尝试使您的文档适合某些奇怪的打印机驱动程序。

[这是将文本转换为图像的方法](https://stackoverflow.com/questions/2070365/how-to-generate-an-image-from-text-on-fly-at-runtime)

# hadoop - hadoop如何存储块？

> ID：13304368
> 
> 赞同：0
> 
> 时间：2012-11-09T08:10:43.657
> 
> 标签：hadoop, block, hdfs

我对以下情况感到困惑：一个文件（大小<块大小，副本= 2）存储在hdfs中，使用“hadoop fsck + fileName”来计算块的数量，因为副本= 2，然后是“总块”应该是 2。但是，“hadoop fsck”的结果是 1，“hadoop fsck”的输出是这样的：

总块（已验证）：1（平均块大小 514399 B）

怎么了？hadoop如何存储文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:33:34.183

你的假设是错误的。Hadoop 计算没有复制的块数。您可以在浏览 hadoop 文件系统时检查此项。如果您选择一个文件，您可以看到如下输出：

```
Total number of blocks: 1
471365007463424017:     IP1:Port        IP2:Port        IP3:Port 
```

这是一个位于 3 台不同机器上的块（复制因子为 3）。

# objective-c - 当只有 1 个字段接受屏幕上的输入时，强制 UITextField resignFirstResponder

> ID：13304370
> 
> 赞同：0
> 
> 时间：2012-11-09T08:10:52.813
> 
> 标签：objective-c, ios, xcode

我在表格中将 UITextField 设置为 DataEntry 单元格，并且在视图底部有 2 个选项卡。

我在我的文本字段“参考信息”中设置了占位符文本，用户完全可以不输入任何内容。但

如果他们单击该字段然后不输入任何内容，则除非他们离开屏幕，否则他们实际上无法关闭键盘。

有没有办法隐藏键盘或使“完成”始终可用，即使他们没有在字段中输入文本？

我相信我已经处理了清除按钮，并且退格了任何输入的文本，我只是无法让 Nothing done 解雇。

我不喜欢使用计时器来清除/关闭，如果我能找到答案，我会删除它。

```
-(BOOL)textFieldShouldClear:(UITextField *)textField
{
    NSLog(@"should clear");

 [NSTimer scheduledTimerWithTimeInterval:0.01 
          target:self selector:@selector(dismiss) 
          userInfo:nil repeats:NO] ;
    return YES;
}

-(void)dismiss
{
    [_referenceText resignFirstResponder];
}   

-(BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:
      (NSRange)range replacementString:(NSString *)string
{
    if(textField.text.length == 1 && string.length==0)
    {
        textField.text = @"";
        [textField resignFirstResponder];
    }
//    NSLog(@"Orig - %@ New - %@", textField.text , string);
    return YES;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:13:31.260

作为参考，您需要关闭“自动启用返回键”

看似简单，却暗藏玄机。

# ios - 在 iOS6 中的 ipad 中的应用程序中将图像附加到电子邮件中

> ID：13304371
> 
> 赞同：3
> 
> 时间：2012-11-09T08:10:58.757
> 
> 标签：ios, ipad, email, ios5, ios6

我正在尝试将图像附加到电子邮件并将电子邮件发送到我的电子邮件地址。问题是，当我发送一封附有 4 或 5 张图片的电子邮件时，该应用程序会一直处理并最终被挂起并崩溃并且不发送电子邮件。它适用于一张图片。我认为这是因为图像组合在一起的大小。顺便说一句，我使用的是 iOS 6 .. 我如何限制发送的文件或图像的大小？还是可能涉及其他问题？相同的应用程序正在 ios5 中运行....

与图像一起发送的电子邮件部分是：

```
for (int nCtr = 0; nCtr < [Pix count]; nCtr++) {
            UIImageView *imageV = [Pix objectAtIndex:nCtr];
            if (imageV.image) {
                NSData *imageData = UIImagePNGRepresentation(imageV.image);
                NSString *strFileName = [NSString stringWithFormat:@"MyPicture-%d.jpeg",nCtr];

                NSString *strFormat = [NSString stringWithFormat:@"image/jpeg;\r\n\tx-unix-mode=0644;\r\n\tname=\"%@\"",strFileName];
                NSString *strFormat2 = [NSString stringWithFormat:@"attachment;\r\n\tfilename=\"%@\"",strFileName];
                NSDictionary *vcfPart = [NSDictionary dictionaryWithObjectsAndKeys:strFormat,kSKPSMTPPartContentTypeKey,
                                         strFormat2,kSKPSMTPPartContentDispositionKey,[imageData encodeBase64ForData],kSKPSMTPPartMessageKey,@"base64",kSKPSMTPPartContentTransferEncodingKey,nil];

                [images addObject:vcfPart];
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-30T11:35:07.360

只需将其从 PNG 格式更改为 JPEG 格式。

```
for (int nCtr = 0; nCtr < [arrPix count]; nCtr++) {
            UIImageView *imageV = [arrPix objectAtIndex:nCtr];
            if (imageV.image) {
                NSData *imageData = UIImageJPEGRepresentation(imageV.image, 0.9);
                NSString *strFileName = [NSString stringWithFormat:@"MyPicture-%d.jpeg",nCtr];

                NSString *strFormat = [NSString stringWithFormat:@"image/jpeg;\r\n\tx-unix-mode=0644;\r\n\tname=\"%@\"",strFileName];
                NSString *strFormat2 = [NSString stringWithFormat:@"attachment;\r\n\tfilename=\"%@\"",strFileName];
                NSDictionary *vcfPart = [NSDictionary dictionaryWithObjectsAndKeys:strFormat,kSKPSMTPPartContentTypeKey,
                                         strFormat2,kSKPSMTPPartContentDispositionKey,[imageData encodeBase64ForData],kSKPSMTPPartMessageKey,@"base64",kSKPSMTPPartContentTransferEncodingKey,nil];

                [parts addObject:vcfPart];
            }
        } 
```

看来ios6限制了图片的大小……所以还是压缩图片比较好……

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-13T10:04:31.557

你的代码有问题我不知道，但你可以使用这个[项目](http://mobile.tutsplus.com/tutorials/iphone/mfmailcomposeviewcontroller/?search_index=3)

工作将与多附件文件并处理所有情况。

```
- (void)mailComposeController:(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error
{
    switch (result)
    {
        case MFMailComposeResultCancelled:
            NSLog(@"Mail cancelled: you cancelled the operation and no email message was queued.");
            break;
        case MFMailComposeResultSaved:
            NSLog(@"Mail saved: you saved the email message in the drafts folder.");
            break;
        case MFMailComposeResultSent:
            NSLog(@"Mail send: the email message is queued in the outbox. It is ready to send.");
            break;
        case MFMailComposeResultFailed:
            NSLog(@"Mail failed: the email message was not saved or queued, possibly due to an error.");
            break;
        default:
            NSLog(@"Mail not sent.");
            break;
    }
        // Remove the mail view
    [self dismissModalViewControllerAnimated:YES];
} 
```

# sql - 如何旋转此表

> ID：13304372
> 
> 赞同：1
> 
> 时间：2012-11-09T08:11:05.883
> 
> 标签：sql, sql-server, sql-server-2008, tsql, pivot

假设我有以下数据集

```
+--------------+-----------------------------+------------+-----+-----------+-----------+
| account_name |     PositionDescription     |  FullDate  | Day |  DayName  | ShiftType |
+--------------+-----------------------------+------------+-----+-----------+-----------+
| employee1    | Customer Support Specialist | 2012-11-01 |   1 | Thursday  | G         |
| employee1    | Customer Support Specialist | 2012-11-03 |   3 | Saturday  | G         |
| employee1    | Customer Support Specialist | 2012-11-05 |   5 | Monday    | G         |
| employee1    | Customer Support Specialist | 2012-11-06 |   6 | Tuesday   | G         |
| employee1    | Customer Support Specialist | 2012-11-08 |   8 | Thursday  | G         |
| employee1    | Customer Support Specialist | 2012-11-10 |  10 | Saturday  | G         |
| employee1    | Customer Support Specialist | 2012-11-12 |  12 | Monday    | G         |
| employee1    | Customer Support Specialist | 2012-11-13 |  13 | Tuesday   | G         |
| employee1    | Customer Support Specialist | 2012-11-15 |  15 | Thursday  | G         |
| employee1    | Customer Support Specialist | 2012-11-17 |  17 | Saturday  | G         |
| employee1    | Customer Support Specialist | 2012-11-19 |  19 | Monday    | G         |
| employee1    | Customer Support Specialist | 2012-11-20 |  20 | Tuesday   | G         |
| employee1    | Customer Support Specialist | 2012-11-22 |  22 | Thursday  | G         |
| employee1    | Customer Support Specialist | 2012-11-24 |  24 | Saturday  | G         |
| employee1    | Customer Support Specialist | 2012-11-26 |  26 | Monday    | G         |
| employee1    | Customer Support Specialist | 2012-11-27 |  27 | Tuesday   | G         |
| employee1    | Customer Support Specialist | 2012-11-29 |  29 | Thursday  | G         |
| employee2    | Game Support Specialist     | 2012-11-02 |   2 | Friday    | M         |
| employee2    | Game Support Specialist     | 2012-11-03 |   3 | Saturday  | M         |
| employee2    | Game Support Specialist     | 2012-11-04 |   4 | Sunday    | M         |
| employee2    | Game Support Specialist     | 2012-11-07 |   7 | Wednesday | M         |
| employee2    | Game Support Specialist     | 2012-11-09 |   9 | Friday    | M         |
| employee2    | Game Support Specialist     | 2012-11-10 |  10 | Saturday  | M         |
| employee2    | Game Support Specialist     | 2012-11-11 |  11 | Sunday    | M         |
| employee2    | Game Support Specialist     | 2012-11-14 |  14 | Wednesday | M         |
| employee2    | Game Support Specialist     | 2012-11-16 |  16 | Friday    | M         |
| employee2    | Game Support Specialist     | 2012-11-17 |  17 | Saturday  | M         |
| employee2    | Game Support Specialist     | 2012-11-18 |  18 | Sunday    | M         |
| employee2    | Game Support Specialist     | 2012-11-21 |  21 | Wednesday | M         |
| employee2    | Game Support Specialist     | 2012-11-23 |  23 | Friday    | M         |
| employee2    | Game Support Specialist     | 2012-11-24 |  24 | Saturday  | M         |
| employee2    | Game Support Specialist     | 2012-11-25 |  25 | Sunday    | M         |
| employee2    | Game Support Specialist     | 2012-11-28 |  28 | Wednesday | M         |
| employee2    | Game Support Specialist     | 2012-11-30 |  30 | Friday    | M         |
+--------------+-----------------------------+------------+-----+-----------+-----------+ 
```

是否可以将其格式化为这张表？

> ```
> +--------------+-----------------------------+----------------+
> | account_name |     PositionDescription     | 1 | 2 | 3 | 4  | and so on...
> +--------------+-----------------------------+------------+---+
> | employee1    | Customer Support Specialist | G | G | G | G  |
> | employee2    | Game Support Specialist     | G | G | G | G  | 
> +-----------------------------+------------+-----+------------+ 
> ```

我试图使用 PIVOT 来解决这个问题，但我无法理解。我不知道这是否可能:(

假设这是原始查询

```
SELECT   account_name               
                ,PositionDescription ,FullDate, Day, DayName ,ShiftType         
        FROM ManpowerSchedule ms 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T10:30:23.837

我正在添加一个答案，因为另一个在语法中缺少一些东西以使其正常工作。您可以使用该`PIVOT`功能来获得所需的结果。有两种方法可以使用`PIVOT`静态版本或动态版本。

在静态版本中，您将对所有需要转换的值进行硬编码：

```
select  * 
from  
( 
  select account_name, PositionDescription, ShiftType, day
  from ManpowerSchedule 
) src
pivot   
( 
  max(ShiftType) 
  FOR day IN ([1], [2], [3], [4], [5], [6], [7], [8], [9], [10], .....) 
)  piv; 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!3/7ed0f/16)

如果您需要转换的列数未知，则可以使用动态 SQL：

```
DECLARE @cols AS NVARCHAR(MAX),
    @query  AS NVARCHAR(MAX),
    @colsNull AS NVARCHAR(MAX)

select @cols = STUFF((SELECT ',' + QUOTENAME(day) 
                    from ManpowerSchedule
                    group by day
                    order by day
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

select @colsNull = STUFF((SELECT ', IsNull(' + QUOTENAME(day) +', '''') as '+QUOTENAME(day)
                    from ManpowerSchedule
                    group by day
                    order by day
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

set @query = 'SELECT account_name, PositionDescription, ' + @colsNull + ' 
              from 
              (
                select account_name, PositionDescription, ShiftType, day
                from ManpowerSchedule 
              ) x
              pivot 
              (
                max(ShiftType)
                for day in (' + @cols + ')
              ) p '

execute(@query) 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!3/7ed0f/15)

如果您无权访问该`PIVOT`函数，则可以使用聚合函数和`CASE`语句来复制：

```
select account_name, 
  PositionDescription,
  max(case when day = 1 then shifttype else '' end) [1],
  max(case when day = 2 then shifttype else '' end) [2],
  max(case when day = 3 then shifttype else '' end) [3],
  max(case when day = 4 then shifttype else '' end) [4],
  max(case when day = 5 then shifttype else '' end) [5],
  max(case when day = 6 then shifttype else '' end) [6],
  max(case when day = 7 then shifttype else '' end) [7],
  max(case when day = 8 then shifttype else '' end) [8],
  max(case when day = 9 then shifttype else '' end) [9],
  max(case when day = 10 then shifttype else '' end) [10]
from ManpowerSchedule
group by account_name, PositionDescription 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!3/7ed0f/18)

所有三个版本都会给你相同的结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T08:20:08.583

```
SELECT  * 
FROM    ( select account_name ,PositionDescription  from ManpowerSchedule )
 PIVOT   ( max([ShiftType ]) FOR day IN ([1], [2],......) )  f; 
```

# css - 我怎样才能将我的标题放在页面顶部，并让它按源顺序排在内容之后？

> ID：13304373
> 
> 赞同：2
> 
> 时间：2012-11-09T08:11:34.930
> 
> 标签：css

我们正在创建一个`<div>`基于 Web 的设计。我们为页眉创建了一个 div，为内容创建了一个 div，为页脚创建了一个 div。我们希望在源代码中，内容 div 应该放在第一位，但是在查看时，标题应该在页面顶部。

我们如何在 CSS 中实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T08:13:25.353

设置标题 div`position`是`absolute`

```
<!DOCTYPE html>
<html>
<head>
<style type="text/css">
.nin
{
width:940px;
margin:auto;
}
.heade
{
background: none repeat scroll 0 0 #E0E0E0;
border-radius: 5px 5px 5px 5px;
height: 50px;
position: absolute;
top: 0;
width: 940px;
}
.heade h1   {  line-height: 0; }
.fod
{
height:50px;
border-radius:5px;
background:#E0E0E0;
}
.mid
{
margin-top:75px;
height:500px;
    background:#FFFFFF;
border-style:solid;
border-radius:5px;
border-width:2px;
}
.left
{
border-radius: 5px 5px 5px 5px;
border-style: solid;
border-width: 2px;
float: left;
height: 343px;
margin-left: 5px;
margin-top: 5px;
width: 450px;
}
.right {
border-radius: 5px 5px 5px 5px;
border-style: solid;
border-width: 2px;
float: right;
height: 125px;
margin-right: 5px;
margin-top: 220px;
width: 461px;
}
.bottom
{
border-radius: 5px 5px 5px 5px;
border-style: dashed;
border-width: 2px;
height: 135px;
margin-left: 2px;
margin-top: 356px;
width: 925px;
}
</style>
</head >
<body>
<div class="nin">

<div class="mid">
<div class="left"> 
    <ul>
<li><a href="#home">Home</a></li>
<li><a href="#news">News</a></li>
<li><a href="#contact">Contact</a></li>
<li><a href="#about">About</a></li>
</ul>

</div>
<div class="right"> 

<p>It is a coontent box one</p>
</div>
<div class="bottom">
<p>It is a content box two</p>
  <a href="http://www.iprofile.net/">Iprofile</a>
</div>
</div>
<div class="heade">
<h1>
<p style="text-align:center">This is header</p>
</h1>
</div>
<div class="fod">
<div>
<h1>
<p style="text-align:center">This is footer</p>
</h1>
</div>
</div>
</div>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T08:22:04.997

1.  将元素设置`padding-top`为`<body>`与标题的高度相同。这会将您的内容`<div>`向下移动，并为标题留出足够的空间。

    如果您的标题没有以像素为单位的固定高度，您可以使用`em`s 作为顶部填充，因为如果用户更改其字体大小，这将适应。但是您仍然必须清楚标题中的内容以及它的高度。

2.  将标题设置`<div>`为`position: absolute; top: 0;`以将其从正常布局流程中删除，并将其放置在页面顶部。您可能也想设置一个值`left`，但这取决于您的特定布局。

# android - 使用给定组启动“添加联系人”活动（来自联系人应用程序）

> ID：13304376
> 
> 赞同：2
> 
> 时间：2012-11-09T08:12:05.637
> 
> 标签：android, android-contacts

我一直在尝试从我的应用程序中启动默认联系人“添加联系人”活动以插入新联系人。我可以使用代码启动相同的

```
private void insert(){
        // Gets values from the UI
        String name = "GroupTest";
        String phone = "900000";
        String email = "test@gmail.com";

        String company = "test";
        String jobtitle = "testDeveloper";

        // Creates a new intent for sending to the device's contacts application
        Intent insertIntent = new Intent(ContactsContract.Intents.Insert.ACTION);

        // Sets the MIME type to the one expected by the insertion activity
        insertIntent.setType(ContactsContract.RawContacts.CONTENT_TYPE);

        // Sets the new contact name
        insertIntent.putExtra(ContactsContract.Intents.Insert.NAME, name);

        // Sets the new company and job title
        insertIntent.putExtra(ContactsContract.Intents.Insert.COMPANY, company);
        insertIntent.putExtra(ContactsContract.Intents.Insert.JOB_TITLE, jobtitle);

        /*
         * Demonstrates adding data rows as an array list associated with the DATA key
         */

        // Defines an array list to contain the ContentValues objects for each row
        ArrayList<ContentValues> contactData = new ArrayList<ContentValues>();

        /*
         * Defines the raw contact row
         */

        // Sets up the row as a ContentValues object
        ContentValues rawContactRow = new ContentValues();

        // Adds the account type and name to the row
        //rawContactRow.put(ContactsContract.RawContacts.ACCOUNT_TYPE, mSelectedAccount.getType());
        //rawContactRow.put(ContactsContract.RawContacts.ACCOUNT_NAME, mSelectedAccount.getName());

        // Adds the row to the array
        contactData.add(rawContactRow);

        /*
         * Sets up the phone number data row
         */

        // Sets up the row as a ContentValues object
        ContentValues phoneRow = new ContentValues();

        // Specifies the MIME type for this data row (all data rows must be marked by their type)
        phoneRow.put(
                ContactsContract.Data.MIMETYPE,
                ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE
        );

        // Adds the phone number and its type to the row
        phoneRow.put(ContactsContract.CommonDataKinds.Phone.NUMBER, phone);

        // Adds the row to the array
        contactData.add(phoneRow);

        /*
         * Sets up the email data row
         */

        // Sets up the row as a ContentValues object
        ContentValues emailRow = new ContentValues();

        // Specifies the MIME type for this data row (all data rows must be marked by their type)
        emailRow.put(
                ContactsContract.Data.MIMETYPE,
                ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE
        );

        // Adds the email address and its type to the row
        emailRow.put(ContactsContract.CommonDataKinds.Email.DATA, email);

        // Adds the row to the array
        contactData.add(emailRow);

        **ContentValues groupRow = new ContentValues();
        groupRow.put(ContactsContract.CommonDataKinds.GroupMembership.MIMETYPE,
                ContactsContract.CommonDataKinds.GroupMembership.CONTENT_ITEM_TYPE);
        groupRow.put(ContactsContract.Groups.TITLE, "Test");
        groupRow.put(ContactsContract.Groups._ID, 14);

        contactData.add(groupRow);**

        /*
         * Adds the array to the intent's extras. It must be a parcelable object in order to
         * travel between processes. The device's contacts app expects its key to be
         * Intents.Insert.DATA
         */
        insertIntent.putParcelableArrayListExtra(ContactsContract.Intents.Insert.PHONE, contactData);

        // Send out the intent to start the device's contacts app in its add contact activity.
        startActivity(insertIntent);
    } 
```

为什么“添加联系人”活动未显示此处设置的组的任何指针。

# android - android缓存巨大的布局膨胀

> ID：13304377
> 
> 赞同：1
> 
> 时间：2012-11-09T08:12:09.440
> 
> 标签：android, caching, layout

我对 Android 还是很陌生，所以我可能没有必要的布局专业知识来确保我不会创建不必要的视图节点。目前，我的主要 XML 布局很大（大约 770 行），因此加载时间过长（大约 2 秒，感觉没有响应）。

我了解了可以解析 XML 并返回视图的 inflate 命令，因此我认为我可以使用 AssyncTask 在初始屏幕期间缓存这些视图，并在主要活动的 onCreate() 中使用它。

这可以解决问题吗？还有什么我应该研究的吗？我目前知道内存泄漏的可能性，所以我会留意这一点。

编辑：我尝试了预充气，但我似乎根本没有实现性能提升。

```
LayoutInflater inflater = LayoutInflater.from(this);
View layout = inflater.inflate(R.layout.question, null, false); 
```

然后在另一个活动中，过了一会儿：

```
setContentView(layout); 
```

但仍然需要同样的 2 秒才能打开。我错过了什么吗？预充气我这样做的方式真的不应该有任何改善吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:59:14.757

是的，您可以使用类“预膨胀”您的视图`LayoutInflater`。[但是，我建议您使用Hierarchy Viewer](http://developer.android.com/tools/debugging/debugging-ui.html)工具评估您的布局性能，以查明问题所在。Romain Guy 有几个关于如何使用这个工具的视频。您还可以使用 Lint 提供的提示（它已经取代了旧的 layoutopt 工具）来优化您的布局。有关此的详细信息在[这里](http://developer.android.com/training/improving-layouts/optimizing-layout.html)。

# crystal-reports - 如何在 Crystal Reports 中将当前日期转换为数值

> ID：13304378
> 
> 赞同：1
> 
> 时间：2012-11-09T08:12:10.317
> 
> 标签：crystal-reports

示例：我喜欢将当前日期转换为像 YYYYMMDD 这样的数值。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T12:01:24.373

尝试使用以下公式
`tonumber(totext(currentdate,'yyyyMMdd'))`
此公式会将您的当前日期转换为 YYYYMMDD 格式，并且该字段将是一个数字字段。
希望这可以帮助 ！！

# maven - Maven部署失败

> ID：13304379
> 
> 赞同：2
> 
> 时间：2012-11-09T08:12:15.150
> 
> 标签：maven, nexus, pom.xml

我正在运行 Maven 3.0.4。我能够成功运行清理、打包、安装。但是当我运行时`mvn deploy`，我得到一个错误：

我正在测试这个有 4 个项目的小型 java 模块：1 个父 P1 和 3 个子 C1、C2、C3。现在这个父 P1 继承自当前未上传到存储库中的主项目 M1。所以问题。当我尝试构建 P1 时，它会引发错误

```
 Non-resolvable parent POM: Failure to find .....:pom:1.0.0 in http://myserver.net.intra:9000
/nexus/content/repositories/public/ was cached in the local repository, resolution will not be 
reattempted until the update interval of releases has elapsed or updates are forced and 
'parent.relativePath' points at wrong local POM @ line 6, column 10 
```

* * *

**更新 ：**

`mvn deploy:deploy-file`正在工作并成功上传 JAR。但是`mvn deploy`给出了这个：

```
 Failed to execute goal on project jurisdiction-business: Could not resolve dependencies for 
project com.a.b.c.d.-business:war:0.0.1-SNAPSHOT: Failure to find om.a.b.c.d.:jar:0.0.1-20121110.071100-3 
in http://myserver.net.intra:9000/nexus/content/repositories/public-snapshots as cached in the 
local repository, resolution will not be reattempted until the update interval of snapshots has 
elapsed or updates are forced 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T13:37:35.937

通常在这种情况下，您可以让项目以特定模式彼此并排签出，并`/project/parent/relativePath`在父项目不在存储库中时使用（pom 中的 XPath）指定父项目的路径。

或者，您可以使用聚合器 pom 并使用聚合器 pom 构建，因为这将允许从反应器中解析父级。

最简单的是只`mvn install`在 M1 上运行，以便可以从本地缓存中解析。

# time - 如何在 DB2/z 中将微秒转换为 H:MM:SS.mmmmmm

> ID：13304382
> 
> 赞同：1
> 
> 时间：2012-11-09T08:12:24.337
> 
> 标签：time, db2, mainframe

在大型机上使用 DB2，我有一个值指示作业花费的微秒数，例如`26,366,861,945`.

有没有`H:MM:SS.mmmmmm`使用标准 DB2 函数将其转换为格式的简单方法？换句话说，上面的值将变为`7:19:26.861945`。

如有必要，我们可以删除微秒并接受`HH:MM:SS`.

如果超过 24 小时，我不会对显示天数大惊小怪，`27:02:14`就可以了。

我虽然关于选择零时间`plus xx microseconds`但无法让它工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T19:39:29.590

好吧，这绝对是残酷的，但这应该可行：

```
WITH

ORIG (TS) AS (
    SELECT BIGINT(REPLACE('26,366,861,945', ',', ''))
    FROM SYSIBM.SYSDUMMY1
),

CONV (TS) AS (
    SELECT TIMESTAMP_ISO('0001-01-01') + (SELECT TS FROM ORIG) MICROSECOND
    FROM SYSIBM.SYSDUMMY1
),

FMT (TS) AS (
    SELECT VARCHAR_FORMAT(TS, 'DD-HH24:MI:SS.FF')
    FROM CONV
),

DAYLOC (D) AS (
    SELECT LOCATE('-', TS)-1
    FROM FMT
),

HOURLOC (H) AS (
    SELECT LOCATE(':', TS, (SELECT D FROM DAYLOC))-1
    FROM FMT
),

DY (D) AS (
    SELECT CAST(SUBSTR(TS, 1, LOCATE('-', TS)-1) AS INTEGER)-1
    FROM FMT
),

HOURS (H) AS (
    SELECT CAST(SUBSTR(TS, (SELECT D FROM DAYLOC)+2, 2) AS INTEGER)
    FROM FMT
)

SELECT 
    RTRIM(CHAR(((SELECT D FROM DY) * 24) + (SELECT H FROM HOURS))) ||
    SUBSTR(TS, (SELECT H FROM HOURLOC) +1)
FROM FMT 
```

我把它分成几部分，所以应该很容易理解。将字符串转换为整数，将其添加到特定日期（日期真的无关紧要，只要它是本月的第一天），然后使用一些字符串搜索/格式化将其转换为小时而不是天。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T18:42:55.130

尝试这样的事情（我无法测试）：

```
TIMESTAMP_ISO('0000-00-00-00:00:00.000000') + MICROSECOND(DB2_TABLE.DB2_COLUMN) 
```

时间计算[DB2 基础：有趣的日期和时间](http://www.ibm.com/developerworks/data/library/techarticle/0211yip/0211yip3.html) 时间戳函数[TIMESTAMP_ISO](http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.admin.doc/doc/r0000826.htm)

# android - Android：通过相机拍摄照片后无法调用 onActivityResult() 方法

> ID：13304385
> 
> 赞同：1
> 
> 时间：2012-11-09T08:12:40.903
> 
> 标签：android, android-camera, android-camera-intent

在我的应用程序中，当我通过以下方式调用相机意图时：

```
Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
startActivityForResult(cameraIntent, CAMERA_REQUEST); 
```

它不调用`onActivityResult()`方法。

我的应用程序中的问题是，它有时会调用此方法，但在拍摄照片后一段时间，它会再次进入照片拍摄屏幕。

在拍摄照片之前，我会保存大量数据，`onSaveInstanceState()`之后我会通过`onRestoreInstanceState()`.

这里我不知道为什么有些时间`onActivityResult()`方法调用，但有些时候进入照片捕获模式后这个方法没有调用。

onActivityResult() 代码：

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
super.onActivityResult(requestCode, resultCode, data);
    String fileName = null;
    try {
        if (requestCode == CAMERA_REQUEST) {
            roughBitmap = (Bitmap) data.getExtras().get("data");
            final ContentResolver cr = getContentResolver();
            final String[] p1 = new String[] {
                MediaStore.Images.ImageColumns._ID,
                    MediaStore.Images.ImageColumns.DATE_TAKEN };
            Cursor c1 = cr.query(
                MediaStore.Images.Media.EXTERNAL_CONTENT_URI, p1, null,
                        null, p1[1] + " DESC");
                if (c1.moveToFirst()) {
                    String uristringpic = "content://media/external/images/media/"
                            + c1.getInt(0);
                    newuri = Uri.parse(uristringpic);
                    // Log.i("TAG", "newuri "+newuri);
                    snapName = getRealPathFromURI(newuri);
                    Uri u = Uri.parse(snapName);

                    File f = new File("" + u);
                    fileName = f.getName();
                }
                c1.close();

                  setImageParameter();

            }
        } catch (NullPointerException e) {

        }
        System.out.println("*** End of onActivityResult() ***");
    }

public void setImageParameter() {
    // decode full image
    roughBitmap = BitmapFactory.decodeFile(snapName);
    // calc exact destination size
    Matrix matrix = new Matrix();
    RectF inRect = new RectF(0, 0, roughBitmap.getWidth(),
            roughBitmap.getHeight());
    // RectF outRect = new RectF(0, 0, dstWidth, dstHeight);
    RectF outRect = new RectF(0, 0, 640, 480);
    matrix.setRectToRect(inRect, outRect, Matrix.ScaleToFit.CENTER);
    float[] values = new float[9];
    matrix.getValues(values);
    // resize bitmap
    resizedBitmap = Bitmap.createScaledBitmap(roughBitmap,
            (int) (roughBitmap.getWidth() * values[0]),
            (int) (roughBitmap.getHeight() * values[4]), true);

    paint = new Paint();
    paint.setColor(Color.GREEN);
    paint.setTextSize(16);
    paint.setTextAlign(Paint.Align.LEFT);

    Canvas canvas = new Canvas(resizedBitmap);

    canvas.drawText(String.valueOf(lat), resizedBitmap.getWidth() - 290, resizedBitmap.getHeight() - 50, paint);
    canvas.drawText(String.valueOf(lng), resizedBitmap.getWidth() - 140, resizedBitmap.getHeight() - 50, paint);
    if (!editTextRoadName.getText().toString().equalsIgnoreCase("")) {
        canvas.drawText(editTextRoadName.getText().toString(), resizedBitmap.getWidth() - 290, resizedBitmap.getHeight() - 30, paint);
    }
    canvas.drawText(new DateClass().getSysDateTimeForPhoto(), resizedBitmap.getWidth() - 290, resizedBitmap.getHeight() - 10, paint);

    if (nFinalOrientation == 1) {
        matrix.postRotate(90);
    } else {
        matrix.postRotate(0);
    }

    rotatedBitmap = Bitmap.createScaledBitmap(resizedBitmap,
            (int) (resizedBitmap.getWidth() * values[0]),
            (int) (resizedBitmap.getHeight() * values[4]), true);

    if (booleanPhotoFlag) {
        booleanPhotoFlag = false;
        photoBitmap = rotatedBitmap.copy(Bitmap.Config.ARGB_8888, true);
        imageViewPhoto.setImageBitmap(photoBitmap);

    } else {
        landmarkBitmap = rotatedBitmap.copy(rotatedBitmap.getConfig(), rotatedBitmap.isMutable() ? true : false);
        imageViewLocationPhoto.setImageBitmap(landmarkBitmap);
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T08:29:13.237

我创建了一个[相机库项目](https://github.com/girishnair12345/Girish-Camera-Library-Project)，您可以使用它来拍照。我建议你使用这个库来拍照

***编辑2：***

`protected void onActivityResult(int requestCode, int resultCode, Intent data)`看看尝试在和之间放置一个日志`super.onActivityResult(requestCode, resultCode, data);`，看看是否正在调用该方法，如果它被调用，则检查返回的值。**并且**onActivityResult 不是由您的活动调用，而是由调用活动在这种情况下调用`intent`，`MediaStore.ACTION_IMAGE_CAPTURE`因此您的 onActivityResult 必须由`setResult()`调用活动的调用。[但我希望你不要试图通过像这里这样](https://stackoverflow.com/questions/5019711/android-onactivityresult-not-called-triggered)的意图传递位图

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-21T03:22:45.693

检查AndroidManifest.xml中是否设置了权限

```
<uses-feature android:name="android.hardware.camera" android:required="false"/>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

WRITE_EXTERNAL_STORAGE 用于获得更大的大图，您必须首先将图像文件存储在磁盘中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-24T19:58:22.327

我`android:launchMode="singleInstance"`在 manifest.xml 中的活动中使用。删除它，它又开始工作了。希望能帮助到你。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T08:47:49.867

您可以通过创建这样的意图来实现这一点

```
Intent cameraIntent = new Intent(
                        android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
                startActivityForResult(cameraIntent, 0); 
```

和`onActivityResult`这样的

```
public void onActivityResult(int intRequestCode, int intResultCode,
            Intent objresult) {
        if (intResultCode == RESULT_OK) {
        if (intRequestCode == 0) {
            try {
                Bitmap photo = (Bitmap) objresult.getExtras().get("data");
                ByteArrayOutputStream stream = new ByteArrayOutputStream();
                photo.compress(Bitmap.CompressFormat.PNG, 100, stream);
                byte[] byteArray = stream.toByteArray();
                strAttachmentCoded = new String(byteArray);
                } catch (Exception e) {
                Toast.makeText(context, "Picture not stored. Please try again",
                        Toast.LENGTH_LONG).show();
            }
        }
    } 
```

:)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-03T10:52:02.203

```
I faced same problem , once check have you put any tag related to History ?
Do not put android:noHistory="true" tag in manifest 
if you use android:noHistory="true" in your activity inside manifest , it will
remove from stack after on stop . 
```

注意：如果您使用的是选项卡活动，那么您也不应该使用 android:noHistory="true" 或者简单地将 android:noHistory="false" 放在清单内的活动中。

# c# - 声音 FFT 频率

> ID：13304390
> 
> 赞同：1
> 
> 时间：2012-11-09T08:13:22.633
> 
> 标签：c#, .net, fft, naudio

我有一个问题。我在 C# 上使用 NAudio。我的采样率 = 40960。我的麦克风，每 100 毫秒（4096 字节）给我一个缓冲区。我把这个发给fft。如果我只看 4096 个元素，关于声音频率超过 2048 Hz 的说法是否正确？或者我需要使用这个缓冲区大小而不是这个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T08:52:13.693

您的采样率 Fs = 40960 Hz，因此您的 FFT 将代表从 0 到 Fs / 2（奈奎斯特）= 0 Hz 到 20480 Hz 的真实正频率。

FFT的*分辨率*为 Fs / N = 40960 / 4096 = 10 Hz。因此，每个 bin 的宽度为 10 Hz，前 2048 个复数输出 bin 以 10 Hz 的增量表示从 0 到 20480 Hz 的频率（您可以忽略其他 2048 个输出 bin，因为它们不包含纯实输入信号的附加信息）。

有关更完整的解释，请参阅[此答案](https://stackoverflow.com/questions/4364823/how-to-get-frequency-from-fft-result/4371627#4371627)。

# sql-server - 为 SQL Server Express 2012 ODBC DSN 配置用户时出现问题

> ID：13304394
> 
> 赞同：0
> 
> 时间：2012-11-09T08:13:32.587
> 
> 标签：sql-server, odbc, sql-server-2012-express

大家，早安！！！

我在为要在 Scada 程序中使用的 SQL Server Express 2012 配置 ODBC DSN 时遇到问题。为此，我创建了一个数据库，并使用[以下线程](https://stackoverflow.com/questions/1601186/sql-server-script-to-create-a-new-user)的第一个回复中使用的查询创建了一个新用户和密码。我在配置 ODBC DSN 时出现问题，最后当我进行连接测试时出现下一个错误：

```
Attempting connection
[Microsoft][SQL Server Native Client 11.0][SQL Server]Login failed for user 'Admin'.

TESTS FAILED! 
```

我尝试了不同的东西，但它们不起作用。如果有人和我现在有同样的问题并且知道答案，如果他/她的回答可以帮助我，我将不胜感激。

编辑：我忘了说我正在 Windows 7 中尝试这个。

提前谢谢了！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:57:06.073

我解决了，很简单：重新安装 SQL Server Express ... 为什么？？？由于我选择了 Windows 认证而不是混合或 SQL 认证，身份验证代码失败。现在一切都解决了。对不起我的简单而愚蠢的问题。

# oracle - 使用 JDBC 连接到外部 Oracle 数据库

> ID：13304397
> 
> 赞同：1
> 
> 时间：2012-11-09T08:13:44.567
> 
> 标签：oracle, spring, jdbc, cloud-foundry

我已经设置了一个访问远程 Oracle 数据库的 Spring 项目，但前提是我在本地 Tomcat 上运行这个 Spring 项目。如果我将它作为 JavaWeb 或 Spring 项目部署到 CF，我总是会收到相同的错误消息：

> 根本原因
> 
> org.springframework.transaction.CannotCreateTransactionException：无法为事务打开 JPA EntityManager；嵌套异常是 javax.persistence.PersistenceException: **org.hibernate.exception.GenericJDBCException: 无法打开连接** org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:3 ....

这是我的配置：

```
<bean id="dataSource" class="oracle.jdbc.pool.OracleDataSource">
    <property name="driverType">
        <value>oracle.jdbc.driver.OracleDriver</value>
    </property>
    <property name="URL">
        <value>${jdbc.url}</value>
    </property>
    <property name="user">
        <value>${jdbc.username}</value>
    </property>
    <property name="password">
        <value>${jdbc.password}</value>
    </property>
</bean>

<bean id="entityManagerFactory"
      class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean" p:dataSource-ref="dataSource">
    <property name="persistenceXmlLocation" value="classpath:META-INF/persistence.xml"/>
    <property name="jpaVendorAdapter">
        <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter" p:showSql="true"
              p:generateDdl="true">
        </bean>
    </property>
    <property name="jpaProperties">
        <value>
            hibernate.ejb.naming_strategy=org.hibernate.cfg.ImprovedNamingStrategy
            hibernate.dialect=${hibernate.dialect}
            hibernate.hbm2ddl.auto=${hibernate.hbm2ddl.auto}
        </value>
    </property>
</bean> 
```

我尝试使用 oracle.jdbc.OracleDriver 而不是 oracle.jdbc.driver.OracleDriver。我尝试使用`<bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource"...`, 具有相应的属性名称。我也试过：

```
<bean id="dataSource" class="org.springframework.jdbc.datasource.SingleConnectionDataSource">
    <property name="driverClassName">
        <value>${database.driverClassName}</value>
    </property>
    <property name="url">
        <value>${jdbc.url}</value>
    </property>
    <property name="username">
        <value>${jdbc.username}</value>
    </property>
    <property name="password">
        <value>${jdbc.password}</value>
    </property>
    <property name="suppressClose" value="true"/>
    <property name="autoCommit" value="true"/>
</bean> 
```

和

```
<bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
    <property name="driverClassName">
        <value>${database.driverClassName}</value>
    </property>
    <property name="url">
        <value>${jdbc.url}</value>
    </property>
    <property name="username">
        <value>${jdbc.username}</value>
    </property>
    <property name="password">
        <value>${jdbc.password}</value>
    </property>
</bean> 
```

没有任何效果，我总是遇到同样的错误。

我尝试在此配置中使用 HSQL

和这些 jdbc.properties：

```
# HSQL
database.driverClassName = org.hsqldb.jdbcDriver
#jdbc.url = jdbc:hsqldb:file:target/zktodo2test.dat
jdbc.url = jdbc:hsqldb:file:zktodo2test.dat
jdbc.username = sa
jdbc.password =

hibernate.dialect = org.hibernate.dialect.HSQLDialect
hibernate.hbm2ddl.auto = update 
```

...并且**它有效**，但是在使用这些 jdbc.properties 时：

```
# Oracle Credentials
database.driverClassName = oracle.jdbc.OracleDriver
jdbc.url = jdbc:oracle:thin:@dev.example.com:1521:dev
jdbc.username = epvin
jdbc.password = my_password

hibernate.dialect = org.hibernate.dialect.OracleDialect
hibernate.hbm2ddl.auto = update 
```

我收到上面提到的错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-12T07:06:08.413

这是一个奇怪的特定于 Oracle 的身份验证问题。对在同一台服务器上运行的 MySQL 服务进行身份验证可以正常工作。

# java - 类路径 Java 中文件的别名

> ID：13304402
> 
> 赞同：3
> 
> 时间：2012-11-09T08:14:36.517
> 
> 标签：java

反正有没有用别名传递java类路径中的文件？

例如：

`java -cp ./file_type1.txt#file.txt com.example.JavaProgram`

这样，程序会将 file_type1.txt 称为类路径中的 file.txt。因此，我可以以编程方式传递具有相同引用的多个类似文件，并且无需更改 java 程序中的任何内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T13:57:50.347

JAVA 中没有这样的方法（我认为其他任何语言都没有……）。

顺便说一句，在 JAVA 中，一旦将文件添加到类路径中，您就可以仅使用其名称（无路径）检索其内容`ClassLoader.getSystemClassLoader().getResourcesAsStream("file_type1.txt")`。不管它在哪里。

然后你有2个选择：

*   解析`System.getProperty("java.class.path")`应用程序的类路径（ + File.pathSeparator 以拆分条目）以检测命令行上指定的文件名（可能是路径中唯一的 txt 文件）
*   将文件的名称（仅名称）作为应用程序的参数传递： java -cp ./file_type1.txt com.example.JavaProgram file_type1.txt

然后，您需要对其进行解析并识别`.txt`您附加的文件名的名称

由于无法创建别名，因此您必须以某种方式在应用程序中引入一些动态行为。

嗨。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:19:45.283

我建议您`ln -s`改为在 Java 之外的 UNIX 平台上创建符号链接 ( )。

# python - 2.x 中对 python 类样式的建议是什么，最终更新到 3.x

> ID：13304405
> 
> 赞同：1
> 
> 时间：2012-11-09T08:14:51.477
> 
> 标签：python, class, python-3.x, python-2.7

在 python 2.x 中有一些动作来定义新样式的类

```
class Foo(object): 
```

而是老式的

```
class Foo: 
```

对于 python 3.x，我读到这种歧义消失了。但我不确定这意味着什么。

两个问题：

*   python 3.x中类定义的正确样式是什么
*   python 2.x 代码的类定义的建议是什么，最终将升级到 python 3.x 代码

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-09T08:16:19.710

在 Python 3 中，所有类都是“新式”的。这两种语法在 Python 3.x 中做同样的事情。

* * *

> python 3.x中类定义的正确样式是什么

```
class Foo: 
```

* * *

> python 2.x 代码的类定义建议是什么

在 Python 2.x 中，建议在编写新代码时始终使用新型类。无论您是否计划升级到 Python 3.x，这都适用。

```
class Foo(object): 
```

# c++ - 带有嵌套类的 c++ 抽象类。派生类和嵌套类

> ID：13304415
> 
> 赞同：10
> 
> 时间：2012-11-09T08:15:46.377
> 
> 标签：c++, inheritance, nested, abstract

我的任务是编写自己的容器`Linked_list`和`Array_list`. 我为他们提供了一个界面：

```
typedef int value_type;
class Container 
{
public:
        class Iterator 
        {   
        public:
            Iterator();
            Iterator(value_type* other);
            Iterator(const Iterator& other);
            Iterator& operator=(const Iterator& other);
                    ...
        };

    Container();
    Container(const Container& other);
    ~Container();   

    virtual value_type& front() const=0;
    virtual value_type& back() const=0;
    virtual Iterator begin() const=0; // 
    ...
}; 
```

我做了派生类 Linked_list 和 Array_list：

```
class Linked_list:public Container 
{
public:
    long int cur_size;
    List elem;
    static Link end_;
    class Iterator: public Container::Iterator
    {
        friend Linked_list;
        Link *p;    
    };

    Iterator begin() const; //overriding virtual function return type differs ...

...
} 
```

我认为这一切都错了。嵌套类`Linked_list::Iterator`应该是派生类吗？如果我无法更改界面，是否可以这样做？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-09T09:11:42.577

考虑到您*不能使用模板的设计限制，*应该改变一件事：添加界面`IteratorImpl`。因此，您可以`class Iterator`从基础`class Container` **non virtual**制作。它需要是非虚拟的，因为类似 STL 的迭代器应该具有*值语义*。请参阅[pimpl idiom](http://en.wikibooks.org/wiki/C++_Programming/Idioms#Pointer_To_Implementation_.28pImpl.29)了解更多详细信息它是如何工作的！

像这样：

```
typedef int value_type;
class Container 
{
    protected:
        class IteratorImpl
        {   
        public:
            virtual void next() = 0;
            virtual IteratorImpl* clone() const = 0;
            virtual value_type get() const = 0;
            virtual bool isEqual(const IteratorImpl& other) const = 0;
        };

    public:
        class Iterator 
        {   
        public:
            Iterator(IteratorImpl* impl) : impl(impl) {}
            ~Iterator() { delete impl; }
            Iterator(const Iterator& other) : impl(other.impl->clone()) {}
            Iterator& operator=(const Iterator& other) {
              IteratorImpl* oldImpl = impl;
              impl = other.impl->clone();
              delete oldImpl;
            }
            bool operator == (const Iterator& other) const 
            {
               return impl->isEqual(*other->impl);
            }
            Iterator& operator ++ ()
            {
                impl->next();
                return *this;
            }
            value_type& operator*() const 
            {
               return impl->get();
            }
            value_type* operator->() const
            {
               return &impl->get();
            }
        };
        Container();
        Container(const Container& other);
        ~Container();   

    virtual value_type& front() const=0;
    virtual value_type& back() const=0;
    virtual Iterator begin() const=0; // 
    ...
    }; 
```

然后在你的派生中实现IteratorImpl：

```
class Linked_list:public Container 
{
protected:
    class IteratorImpl: public Container::IteratorImpl
    {
       ....
    };

public:
    Iterator begin() const { return new IteratorImpl(firstNode); }
    Iterator end() const { return new IteratorImpl(nodeAfterLastNode); }

...
}; 
```

这些 firstNode 和 nodeAfterLastNode 只是我的猜测 - 使用你需要的任何东西来实现 IteratorImpl 接口......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T09:26:38.153

您应该定义一个 const_value_type 来表示 const value_type，并将其用于前后虚方法的返回值。或者，您可以在这些方法上删除 const 限定符，因为在 const 方法上使用非 const 引用返回类型没有意义。

如果没有更多关于课程的细节，其余的就很难说了。您还可以查看 STL 的早期实现：这是了解这些主题的好方法。

# apache - Curl 和 Browser 提供不同版本的文件

> ID：13304416
> 
> 赞同：1
> 
> 时间：2012-11-09T08:15:55.593
> 
> 标签：apache, file, version, rhel

我在服务器上有一个 wsdl（本质上是一个 xml）文件。现在，当我从浏览器访问此文件时，我得到了最新版本，但是当我使用 curl 或 wget 获取此文件时，我得到了一个较旧的版本。

发生的另一件有趣的事情是，即使在删除文件时，curl 仍然能够获取文件，但浏览器正确获取 404。

我不确定为什么在这两种情况下获取文件的协议都是 http 并且我在 apache 访问日志中看到请求正确出现时会发生这种情况。但是，在这两种情况下提供的文件是不同的。

我在 RHEL 机器上使用 apache 网络服务器。

任何指示为什么会发生这种情况。

# extjs - 使用 Ext.Ajax.request 从 HTML 字段到 EXT JS 的表单值

> ID：13304420
> 
> 赞同：1
> 
> 时间：2012-11-09T08:16:10.883
> 
> 标签：extjs

我目前正在尝试构建的项目有一个 EXT JS 表单面板，它使用 Ext.Ajax.request 提交表单。要求是创建一个 HTML 页面并将页面中的值传递给 EXTJS 表单以提交它。知道如何完成这项工作吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T00:37:25.467

我对您在做什么以及为什么感到有些困惑，但是如果您需要在表单提交时将额外的参数传递给服务器，您可以在 hte submit 方法中将它们作为带有参数键的对象传递。像这样：

```
myform.submit({ params: { a: 1, b:2}}); 
```

另一种选择是创建隐藏字段并以编程方式设置它们的值。

# ios - 使用导航控制器和登录屏幕创建 iOS 应用程序

> ID：13304424
> 
> 赞同：3
> 
> 时间：2012-11-09T08:16:24.097
> 
> 标签：ios, xamarin.ios

我正在开发一个应用程序，它使用导航控制器在各个页面之间移动。我需要能够强制用户在与 Web 服务通信时登录。我似乎无法让登录自行出现、加载、所有身份验证和卸载。

我正在阅读关于 SO 的文章，它是使用子视图并将其插入主视图。

这将包含登录字段、用户名、密码等，并且在成功验证后将变为不可见。然后它将在注销时再次可见。这个对吗？这是使用导航控制器为多页应用程序创建登录屏幕的最佳方式吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T08:51:37.613

有很多方法可以进行登录屏幕。对我来说，我在委托中声明了一个登录控制器。当我想显示登录屏幕时，我以模式调用。

```
[self.window.rootViewController presentModalViewController:loginScreen animated:YES]; 
```

因为我在委托中有它，所以我可以调用以显示登录屏幕，无论我在代码中的哪个位置，都可以通过挂钩回委托来显示登录屏幕。

任何控制器中的任何位置：

```
AppDelegate *myAppDelegate= (AppDelegate *)[[UIApplication sharedApplication]delegate];
[myAppDelegate logout]; 
```

然后在委托

```
-(void)logout{
[self.window.rootViewController presentModalViewController:loginScreen animated:YES];
//Do any logging out stuff here...
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T08:46:23.717

我目前正在开发与您相同的东西，这就是我的做法。我有一个`ViewController`，我们称之为 HomeViewController，它在我的应用启动时调用。

在该`ViewDidLoad`方法中，我检查是否有连接的用户（我的一些变量`AppDelegate`）。如果是，我会显示我的 HomeViewController，否则我会显示第二个视图控制器 (LoginViewController)，它处理 WS 服务调用以及密码/登录的插入。

这种方式几乎和你的一样。我只是拆分了两个视图，以避免在“主”视图中使用太多代码。我没有找到其他方法来做到这一点。

顺便说一句，如果你想在多个页面之间移动，iOS 开发中有一个很棒的功能：故事板。

# iphone - 使用uisearchbar在uitableview中搜索时键盘卡住...？

> ID：13304425
> 
> 赞同：0
> 
> 时间：2012-11-09T08:16:31.237
> 
> 标签：iphone, uitableview, uisearchbar

我有一个 uitableview 和 uisearchbar。我正在用大量记录绑定表，并为用户提供可以从中搜索的功能。但是很多时候，当数据量很大时，键盘会卡住直到重新加载表。无论如何，我可以异步搜索。这是 iOS 4 应用程序。

![在此处输入图像描述](../Images/9a573c2d26edbd5b54e38fdf233e19e4.png)

我的 uisearchbar textDidChange 方法如下

```
- (void)searchBar:(UISearchBar *)searchBar textDidChange:(NSString *)searchText{
if(searchText.length == 0)
{
    isFiltered = FALSE;
}
else
{
    @autoreleasepool {
        isFiltered = true;
        membersMFilterArray = [[NSMutableArray alloc] init];
        int lineCount = [[[membersMArray objectAtIndex:0] valueForKey:@"LineCount"] intValue];
        NSString *membersMArrayValue;
        for (int i=0; i<[membersMArray count]; i++)
        {
            membersMArrayValue = [membersMArray objectAtIndex:i];
            NSString *line;
            for (int j=0; j<lineCount; j++)
            {
                line = [NSString stringWithFormat:@"Line%d",j+1];
                NSRange lineRange = [[membersMArrayValue valueForKey:line] rangeOfString:searchText options:NSCaseInsensitiveSearch];
                if(lineRange.location != NSNotFound)
                {
                    [membersMFilterArray addObject:[membersMArray objectAtIndex:i]];
                    break;
                }
            }
        }
    }
}

[tblMember reloadData];} 
```

我的数组如下所示，我从中搜索过，实际上这是一个用户数据，它出现在一个表行中，如果有 10000 行，则与此相乘。所以上面的for循环是我认为是因为这种方式。

```
(
    {
    Line1 = "Ashish";
    Line10 = "Ahmedabad";
    Line11 = "Gujarat";
    Line12 = "";
    Line13 = "India";
    Line14 = "";
    Line15 = "";
    Line16 = "abc@yahoo.com";
    Line17 = "";
    Line18 = "";
    Line19 = "xyz";
    Line2 = "Ahmedabad, Gujarat";
    Line20 = "Jun 04, 2012";
    Line3 = "";
    Line4 = "";
    Line5 = "";
    Line6 = "abc";
    Line7 = "xyz";
    Line8 = "";
    Line9 = "";
    LineCount = 20;
    "Member_id" = GM00018004;
    RowNo = 01;
} 
```

)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:24:52.497

简短的回答是肯定的。[您可以使用Grand Central Dispatch](http://developer.apple.com/library/ios/#documentation/Performance/Reference/GCD_libdispatch_Ref/Reference/reference.html)异步执行搜索。然后，您可以通知表视图的数据源进行更新。

但是，让您的搜索更高效并实现可接受的实时更新会更好。如何实现这一点，取决于您的数据是如何存储和索引的。例如，如果您使用 Core Data，您将不得不调整您的 NSFetchedResultsController 并且可能构建一个新实体，其中包含在要搜索的较长字符串中出现的单个单词字符串。

查看您的搜索代码，您有两个嵌套循环 - 几乎可以肯定会导致性能下降。也许您应该考虑一些 Apple 的自动迭代机制（仍有迭代，但在幕后），例如使用关键路径或谓词。例如，类似：

```
resultArray = [membersArray filteredArrayUsingPredicate:
   [NSPredicate predicateWithFormat:@"self CONTAINS[cd] %@", searchText]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:58:12.903

从您的代码中，我认为这**两个 for 循环是不必要的**。使用更好的概念对数组项进行排序。

我的一些建议可以加快速度。

```
Remove the auto-release-pool     
Use one for-loop instead of two 
```

您可以使用 NSlog 查看**执行的开始和结束时间。**发现耗时过程并修复它。

**例子：**

```
NSLog(@"loop1 started now")
for (int i=0; i<[membersMArray count]; i++)
        {
            membersMArrayValue = [membersMArray objectAtIndex:i];
            NSString *line;
            for (int j=0; j<lineCount; j++)
            {

                NSLog(@"loop2 started now")
                line = [NSString stringWithFormat:@"Line%d",j+1];
                NSRange lineRange = [[membersMArrayValue valueForKey:line] rangeOfString:searchText options:NSCaseInsensitiveSearch];
                if(lineRange.location != NSNotFound)
                {
                    [membersMFilterArray addObject:[membersMArray objectAtIndex:i]];
                    break;
                }
            }  

         NSLog(@"loop2 ended now")
        }

NSLog(@"loop1 ended now") 
```

# objective-c - Xcode - Add hyperlink to email

> ID：13304431
> 
> 赞同：1
> 
> 时间：2012-11-09T08:17:04.550
> 
> 标签：objective-c, ios, xcode, email, hyperlink

In some apps you can email straight from the app. I have seen Flipboard, you can email an article to a friend and inside the email is hyperlinked text like this:

Sent via [Flipboard](http://www.apple.com)

So it directs you to the page with a click of the text. How can I do this? I do not want to add the link as part of the message body as it is very messy and ugly... I would prefer this clickable text way.

Thanks!

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-09T08:34:15.570

The `MFMailComposeViewController` has a method called `setMessageBody:isHTML:`. Here the important thing is `isHTML`. Doing a link in HTML is quite simple : `<a href=myURL>LinkName</a>`.

# .net - 起订量、参考、设置和队列

> ID：13304435
> 
> 赞同：2
> 
> 时间：2012-11-09T08:17:21.723
> 
> 标签：.net, testing, moq

我有一个我正在测试的方法，它需要一个“ref”参数。我希望这个参数在每次调用该方法时返回一个不同的值（我希望在这个测试中是 10 次）。我想不出如何嘲笑这个。这是我到目前为止所拥有的 - 无法编译：

```
var refParentMenuId = It.Is<int>(i => new Queue<int>( new int [] { 1,2,3,4,5,6,7,8,9,10 }).Dequeue);

this.MockMenuRepository.Setup(m => m.Create(It.IsAny<string>, It.IsAny<int>(), It.IsAny<int>(), It.IsAny<int>(), ref refParentMenuId)); 
```

我想坚持使用 ref 而不是返回结构，因为我认为这种方式更直观。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T19:15:59.833

[开箱](https://stackoverflow.com/a/1068463/131345)即用不支持为 ref 参数指定行为，但是可以添加您自己的扩展方法来支持此行为。[这里](http://code.google.com/p/moq/issues/detail?id=176)发布了一个解决方案。

对于您的示例，测试看起来有点像这样：

```
[TestClass]
public class RefUnitTests
{
    private Queue<int> queue = new Queue<int>(new[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 });

    [TestMethod]
    public void TestRefArgs()
    {
        int inputInt = 0;

        var repository = new Mock<IRepository>();

        repository
            .Setup(r => r.Create(It.IsAny<string>(), It.IsAny<int>(), It.IsAny<int>(), It.IsAny<int>(), ref inputInt))
            .Returns(0)
            .IgnoreRefMatching()
            .RefCallback<string, int, int, int, int, IRepository>(new MoqExtension.RefAction<string, int, int, int, int>(ReportInfoRefCallBackAction));

        int actualInt = -1;

        for (int i = 1; i <= 10; i++)
        {
            repository.Object.Create(string.Empty, 1, 2, 3, ref actualInt);

            // Assert that we are really dequeuing items
            Assert.AreEqual(i, actualInt);
        }
    }

    public void ReportInfoRefCallBackAction(string a, int b, int c, int d, ref int refInt)
    {
        // You can also assert on the incoming ref value here if you wish, I wrote
        // it to the console so that you can see it is changing.
        Console.WriteLine(refInt);
        refInt = queue.Dequeue();
    }
} 
```

您没有定义要测试的存储库，所以我使用了一个看起来相似的界面：

```
public interface IRepository
{
    int Create(string arg1, int arg2, int arg3, int arg4, ref int arg);
} 
```

这是扩展 Moq 所需的代码，改编自上面的链接：

```
public static class MoqExtension
{
    public delegate void RefAction<TParam1, TParam2, TParam3, TParam4, TRef>(TParam1 param1, TParam2 param2, TParam3 param3, TParam4 param4, ref TRef refVal1);

    public static IReturnsResult<TMock> RefCallback<TParam1, TParam2, TParam3, TParam4, TRef, TMock>(
       this ICallback mock,
       RefAction<TParam1, TParam2, TParam3, TParam4, TRef> action) where TMock : class
    {
        mock.GetType().Assembly
               .GetType("Moq.MethodCall")
               .InvokeMember("SetCallbackWithArguments",
               BindingFlags.InvokeMethod | BindingFlags.NonPublic | BindingFlags.Instance,
               null,
               mock,
               new object[] { action });

        return mock as IReturnsResult<TMock>;
    }

    public static ICallback IgnoreRefMatching(this ICallback mock)
    {
        try
        {
            FieldInfo matcherField = typeof(Mock).Assembly.GetType("Moq.MethodCall").GetField("argumentMatchers", BindingFlags.NonPublic | BindingFlags.GetField | BindingFlags.SetField | BindingFlags.Instance);

            IList argumentMatchers = (IList)matcherField.GetValue(mock);
            Type refMatcherType = typeof(Mock).Assembly.GetType("Moq.Matchers.RefMatcher");
            FieldInfo equalField = refMatcherType.GetField("equals", BindingFlags.NonPublic | BindingFlags.GetField | BindingFlags.SetField | BindingFlags.Instance);

            foreach (object matcher in argumentMatchers)
            {
                if (matcher.GetType() == refMatcherType)
                    equalField.SetValue(matcher, new Func<object, bool>(delegate(object o) { return true; }));
            }

            return mock;
        }
        catch (NullReferenceException)
        {
            return mock;
        }
    }
} 
```

# android - Android模拟器可以捕获PC键盘的按键事件吗

> ID：13304436
> 
> 赞同：2
> 
> 时间：2012-11-09T08:17:23.313
> 
> 标签：android, android-emulator, keyboard

Android模拟器能否捕捉到电脑（运行模拟器）键盘的按键事件，如：方向键、退格键、回车键？如果可以的话，你能告诉我实现的关键代码吗？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:21:00.693

PC键盘键和设备键的映射在这里详细说明：http: [//developer.android.com/tools/help/emulator.html#KeyMapping](http://developer.android.com/tools/help/emulator.html#KeyMapping)

您可以使用此处列出的键码回复它们：http: [//developer.android.com/reference/android/view/KeyEvent.html](http://developer.android.com/reference/android/view/KeyEvent.html)

例如：

```
public class TestActivity extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
}

@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    Log.i("test", "onKeyDown(" + keyCode + ", " + event +")");
    return super.onKeyDown(keyCode, event);
} 
```

}

# php - 设置目标以在框架上显示 URL

> ID：13304439
> 
> 赞同：0
> 
> 时间：2012-11-09T08:17:36.430
> 
> 标签：php, html

我有一个框架集顶部，左侧，主要。当我单击左侧的链接时，页面应显示在主框架中，但我的代码不起作用。它打开了一个新页面

php正在加载一个可以工作的XML，解析成一个可以工作的表格单元格并转换为URL也可以，只是要显示的目标没有。

有人可以帮我纠正吗？

---frame.html----

```
<frame name="main" src="main.html" id="main" marginwidth="10" marginheight="10" scrolling="auto" frameborder="1" noresize> 
```

----menu.php----

```
echo '<p align=center styles="vertical-align:middle">'."<a href=\"$arr0\" target=\"main\"><font color=#FFFFFF><strong>$menu</strong></font></a>"; 
```

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T17:27:09.860

谢谢。我得到了答案。我需要更改 $arr0 = "full URL string"; 它在我设置 target="main" 时起作用。

# css - 为什么继承的css属性丢失了？

> ID：13304443
> 
> 赞同：0
> 
> 时间：2012-11-09T08:17:55.437
> 
> 标签：css

演示网址：[http](http://linjuming.pydra.org/zc_up/index.php?main_page=index&cPath=1_2)
: //linjuming.pydra.org/zc_up/index.php?main_page=index&cPath=1_2 我在我的网站中使用 oocss css 框架。一个奇怪的问题出现了。

```
.complex .tl, .complex .tr {
  height: 32000px;
  margin-bottom: -32000px;
  width: 10px;
} 
```

这些代码来自 stylesheet_010_oocss.css。
但是两个地方继承的不一样。为什么会这样？

![在此处输入图像描述](../Images/5f45f55aa034f06977f34fc135068d34.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:41:36.877

规则中的**Hight**和**Width**属性`.complex .tl, .complex .tr`会丢失，`<div class="sort_line s_box_sort_line complex"> ... </div>`因为它的属性是 CSS 中最低位置的重新规则。看一下这个：

```
/*in LINE 85 */
.complex .tl, .complex .tr {
    height: 32000px;
    margin-bottom: -32000px;
    width: 10px;
}

/*in LINE 1696 */    
.r_box_2 .tl, .r_box_2 .tr, .r_box_2 .bl, .r_box_2 .br {
    height: 6px;
    width: 6px;
}

/*in LINE 2116 */
.s_box_sort_line .tl {
    background-position: -320px -320px;
    height: 32000px;
    width: 10px;
} 
```

我们知道 css 代码是从上到下呈现的。这就是为什么要使用的代码是最新的代码（最低位置）。

# java - 如何强制 jTable 不可编辑？

> ID：13304446
> 
> 赞同：1
> 
> 时间：2012-11-09T08:18:35.187
> 
> 标签：java, swing, jtable

我所知道的，理论上你可以通过创建 AbstractTableModel 来强制 jTable 不可编辑，并通过始终返回 false 来覆盖以下方法（尽管这不是必需的，因为 AbstractTableModel 的默认方法已经是返回假）。

```
@Override
public boolean isCellEditable(int row, int column) {
   return false;
} 
```

似乎我仍然无法弄清楚如何使这项工作适合我的代码。我究竟做错了什么？这是我的代码：

```
import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.table.AbstractTableModel;

public class Datagrid extends AbstractTableModel {
    private static final long serialVersionUID = -1080095595481949205L;
    private String[] title;
    private String[][] data;
    private JTable table;
    private JFrame frm;

    public Datagrid(String[] title, String[][] data) {
        this.title = title;
        this.data = data;

        create_table();
    }

    public JTable getTable() {
        return table;
    }

    private void create_table() {
        table = new JTable(data, title);

        frm = new JFrame();
        frm.getContentPane().add(new JScrollPane(table));
        frm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frm.pack();
        frm.setVisible(true);
    }

    @Override
    public boolean isCellEditable(int rowIndex, int columnIndex) {
        return false;
    }

    @Override
    public int getColumnCount() {
        return table.getColumnCount();
    }

    @Override
    public int getRowCount() {
        return table.getRowCount();
    }

    @Override
    public Object getValueAt(int row, int column) {
        return table.getValueAt(row, column);
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T08:36:19.963

首先，不要从模型中创建 UI 元素......

其次，不要从 Event Dispatching Thread 之外创建 UI 元素

第三（正如 cubanacan 所指出的），您还没有将模型应用到桌子上......

```
public static void main(String args[]) {
    EventQueue.invokeLater(new Runnable() {
        public void run() {
            TableModel model = new Datagrid(); // <-- Create a new instance of the model
            table = new JTable(model);         // <-- Apply it to the table..

            frm = new JFrame();
            frm.getContentPane().add(new JScrollPane(table));
            frm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
            frm.pack();
            frm.setVisible(true);
        }
    });
} 
```

古巴人火了……

第四，以下内容将使您的程序崩溃。这些方法由表调用，以便它了解如何配置自身。

```
public int getColumnCount() {
    return table.getColumnCount();
}

@Override
public int getRowCount() {
    return table.getRowCount();
}

@Override
public Object getValueAt(int row, int column) {
    return table.getValueAt(row, column);
} 
```

您应该引用您尝试建模的内部数据结构。

您可能会发现通读[如何使用表格会有所帮助](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T08:37:56.487

*   不是答案`isCellEditable`，从`AbstractTableModel`

.

```
public JTable getTable() {
    return table;
}

private void create_table() {
    table = new JTable(data, title);

    frm = new JFrame();
    frm.getContentPane().add(new JScrollPane(table));
    frm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    frm.pack();
    frm.setVisible(true);
} 
```

*   单独的视图和模型逻辑

*   以这种形式（缺少`add`，`remove`行，`setValueAt(...)`）是不可能存储从`JTables`视图到`AbstractTableModel`

*   想念那里`ColumnClass`

*   s 视图的所有数据`JTable`都存储在`XxxTableModel`

*   [`AbstractTableModel`](https://stackoverflow.com/a/6901508/714968)对于 API 中实现的方法（`Object[]`/ `Double[]`/ `String[]`... 和`Vector<Object>`/ `Vector<String>`... ）[非常正确](https://stackoverflow.com/a/6901508/714968)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-09T09:01:07.530

你在这里有几个问题：

1.  您尚未将表模型设置为 JTable。
2.  如果你设置你的表模型，你会得到`StackOverflowError`，因为当你调用`table.getRowCount()`它时，它会调用`getModel().getRowCount()`.
3.  如果您设置表模型，您将不会获得构造函数中指定的列标题。[有关详细信息，请查看方法AbstractTableModel#getColumnName(int)](http://docs.oracle.com/javase/6/docs/api/javax/swing/table/AbstractTableModel.html#getColumnName%28int%29)的javadoc 。

这是基于您的代码的可运行且有效的解决方案：

```
import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.table.AbstractTableModel;

public class Datagrid extends AbstractTableModel {
    private static final long serialVersionUID = -1080095595481949205L;
    private String[] title;
    private String[][] data;
    private JTable table;
    private JFrame frm;

    public Datagrid(String[] title, String[][] data) {
        this.title = title;
        this.data = data;

        create_table();
    }

    public static void main(String[] args) {
        String[] columnTitles = {"Title 1", "Title 2"};
        String[][] tableData = {{"Value 1", "Value 2"}, {"Another Value 1", "Another Value 2"}};
        new Datagrid(columnTitles, tableData);
    }

    public JTable getTable() {
        return table;
    }

    private void create_table() {
        table = new JTable(data, title);
        table.setModel(this);
        frm = new JFrame();
        frm.getContentPane().add(new JScrollPane(table));
        frm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frm.pack();
        frm.setVisible(true);
    }

    @Override
    public boolean isCellEditable(int rowIndex, int columnIndex) {
        return false;
    }

    @Override
    public int getColumnCount() {
        return title.length;
    }

    @Override
    public int getRowCount() {
        return data.length;
    }

    @Override
    public Object getValueAt(int row, int column) {
        return data[row][column];
    }

    @Override
    public String getColumnName(int column) {
        return title[column];
    }

} 
```

# javascript - 如何实现这种 CSS/JS 效果？

> ID：13304450
> 
> 赞同：-3
> 
> 时间：2012-11-09T08:18:58.820
> 
> 标签：javascript, jquery, html, css

如何实现本网站的置顶图像，然后固定置顶导航栏效果？具体来说，顶部导航栏滚动顶部滑动图像插件的方式，然后变得固定。 [http://www.creuna.se/](http://www.creuna.se/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T08:24:13.837

不确定我是否正确，但也许这可以帮助你：

[http://api.jquery.com/show/](http://api.jquery.com/show/)

使用非常高的值，您可以实现图片进来很慢：

```
$(document).ready(function () {
    $("#nav").show(6000);
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T08:53:32.710

这是示例和链接如何实现您可能需要一个 JQuery 插件来创建这样的标题滑块

[http://cssglobe.com/lab/easyslider1.7/01.html](http://cssglobe.com/lab/easyslider1.7/01.html)

在滚动条之后将导航栏粘贴在标题中：这是简单的代码片段和演示 HTML：

```
<div id="container">
    <div id="navwrap">NAV WRAP</div>
</div> 
```

Javascript：

```
function fixDiv() {
    var $div = $("#navwrap");
    if ($(window).scrollTop() > $div.data("top")) { 
        $('#navwrap').css({'position': 'fixed', 'top': '0', 'width': '100%'}); 
    }
    else {
        $('#navwrap').css({'position': 'static', 'top': 'auto', 'width': '100%'});
    }
}

$("#navwrap").data("top", $("#navwrap").offset().top); 
// set original position on load
$(window).scroll(fixDiv); 
```

以上在 JsFiddle [http://jsfiddle.net/5ADzD/1/的演示](http://jsfiddle.net/5ADzD/1/)

参考帖子：[滚动过去后将 Div 置于顶部](https://stackoverflow.com/questions/10789936/sticking-div-to-top-after-scrolling-past-it) 希望这会有所帮助。

# c# - 如何在字符串中搜索一个单词，然后获取该单词后面的数字？

> ID：13304451
> 
> 赞同：1
> 
> 时间：2012-11-09T08:19:00.573
> 
> 标签：c#, .net, string, search

像：

```
"Name: Daniel --- Phone Number: 3128623432 --- Age: 12 --- Occupation: Student" 
```

如何获得“年龄”之后的内容？我只想要数字。（他的年龄）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T08:21:46.753

使用正则表达式：

```
^.+Age\: ([0-9]+).+$ 
```

第一个分组将返回年龄，请参见[此处](http://www.rubular.com/r/ADPRtesYY1)或[此处](http://www.rubular.com/r/aunCzEVdNC)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:30:20.540

您可以尝试具有以下概念的完整代码：

```
string strAge;
string myString = "Name: Daniel --- Phone Number: 3128623432 --- Age: 12 --- Occupation: Student";
int posString = myString.IndexOf("Age: ");

if (posString >0)
{
  strAge = myString.Substring(posString);
} 
```

稳健的做法是得到一些正则表达式:)虽然......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:36:46.847

假设你有这种格式的年龄`Age: value`

```
string st = "Name: Daniel --- Phone Number: 3128623432 --- Age: 12 --- Occupation: Student";
//Following Expression finds a match for a number value followed by `Age:`
System.Text.RegularExpressions.Match mt = System.Text.RegularExpressions.Regex.Match(st, @"Age\: \d+");
int age=0; string ans = "";
if(mt.ToString().Length>0)
{
     ans = mt.ToString().Split(' ')[1]);
     age = Convert.ToInt32(ans);
     MessageBox.Show("Age = " + age);
}
else
     MessageBox.Show("No Value found for age"); 
```

MessageBox 向您展示您的字符串值（如果找到）..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T08:37:26.093

实际上你有数据，可以很容易地表示为类型的字典`Dictionary<string, string>`：

```
var s = "Name: Daniel --- Phone Number: 3128623432 --- Age: 12 --- Occupation: Student";
var dictionary = s.Split(new string[] { "---" }, StringSplitOptions.None)
                  .Select(x => x.Split(':'))
                  .ToDictionary(x => x[0].Trim(), x => x[1].Trim()); 
```

现在您可以从输入字符串中获取任何值：

```
string occupation = dictionary["Occupation"];
int age = Int32.Parse(dictionary["Age"]); 
```

# php - 在动态链接中传递信息

> ID：13304454
> 
> 赞同：0
> 
> 时间：2012-11-09T08:19:40.230
> 
> 标签：php

我试图在 php 链接中传递一个变量，但是，我似乎无法让它工作，下面是我的代码，我尝试过几种方式编写它，但无论我尝试什么似乎都无关紧要.

```
 echo "<href='ownpage.php?page='.&pageNum + 1.'>Click </a>"; 
```

任何建议，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T08:21:20.753

尝试

```
echo "<a href='ownpage.php?page=".($pageNum + 1)."'>Click </a>"; 
```

# objective-c - 由于未捕获的异常“NSUnknownKeyException”而终止应用程序，原因：“[ setValue:forUndefinedKey:]:

> ID：13304459
> 
> 赞同：2
> 
> 时间：2012-11-09T08:20:02.313
> 
> 标签：objective-c, ios, xcode, ios5, ios4

我是 iPhone 应用程序开发的新手。

运行项目时出现此错误

```
Terminating app due to uncaught exception 'NSUnknownKeyException',
reason: '[<AboutViewController 0x91cc1d0> setValue:forUndefinedKey:]: 
```

当我尝试导航到另一个名为`AboutViewController`.

我这样`rightBarButton`定义

```
UIBarButtonItem *anotherButton = [[UIBarButtonItem alloc] initWithTitle:@"About" style:UIBarButtonItemStylePlain target:self :@selector(showAbout)];
self.navigationItem.rightBarButtonItem = anotherButton; 
```

方法`showAbout`是

```
- (void)showAbout{

    AboutViewController *abvController = [[AboutViewController alloc] initWithNibName:@"AboutViewController" bundle:nil];

    [self.navigationController pushViewController:abvController animated:YES];    
    [abvController release];
} 
```

此外，当我尝试使用`presentModelViewController`而不是`navigationController`，编译器显示它已被弃用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:52:28.623

我发现了问题，这是因为我在 AboutViewController 中使用了一个按钮，我没有声明该按钮的属性。

但是谁能告诉我如何使用 ModelViewController 转到 ios6 中的新视图，因为当我使用方法 presentModelViewController 时，它会显示警告说它已被弃用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:34:14.730

我认为问题在于您的 AboutViewController，而不是在当前视图控制器中。

我猜你的 AboutViewController nib 类是 UIViewController 类而不是 AboutViewController 类，尝试将其更改为正确的类。单击您的 nib 文件，然后单击文件的所有者，然后在右侧部分中单击第三个选项卡。您应该在顶部看到类，将其更改为 AboutViewCtroller。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T11:54:40.350

通常这些类型的错误是由于在 xib 中连接的插座的问题而发生的。 **主要场景：**

1.  在 xib 中查看插座未连接
2.  已从接口文件中删除已连接插座的属性

    presentModelViewController 在 iOS 6 中已弃用。相反，您可以使用它`presentViewController:animated:completion:`来呈现 modalViews。

> **presentViewController：动画：完成：**
> 
> 呈现一个视图控制器。
> 
> `- (void)presentViewController:(UIViewController *)viewControllerToPresent animated:(BOOL)flag completion:(void (^)(void))completion`
> 
> 参数
> 
> **viewControllerToPresent**
> 
> ```
> The view controller being presented. 
> ```
> 
> **旗帜**
> 
> ```
> Pass YES to animate the presentation; otherwise, pass NO. 
> ```
> 
> **完成**
> 
> ```
> A completion handler or NULL. 
> ```
> 
> **讨论**
> 
> 在 iPhone 和 iPod touch 上，呈现的视图始终是全屏的。在 iPad 上，演示文稿取决于 modalPresentationStyle 属性中的值。
> 
> 此方法将presentedViewController 属性设置为指定的视图控制器，调整该视图控制器的视图大小，然后将该视图添加到视图层次结构中。视图根据呈现的视图控制器的 modalTransitionStyle 属性中指定的过渡样式在屏幕上进行动画处理。
> 
> 在呈现的视图控制器上调用 viewDidAppear: 方法之后调用完成处理程序。
> 
> **可用性**
> 
> ```
> Available in iOS 5.0 and later. 
> ```
> 
> 在 UIViewController.h 中声明

有关更多详细信息，请查看[UIViewController 类](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html)

# jquery - 页面加载时的 jQuery

> ID：13304468
> 
> 赞同：-1
> 
> 时间：2012-11-09T08:21:05.133
> 
> 标签：jquery, hide, show, pageload

我有一个脚本：

```
<script>
$(function(){
  $("#projectReqTable","body").on({'click':function(event){
    event.preventDefault();
    $(this).closest("tr.main").nextUntil("tr.main").toggle("slow");
   }},
   "a.main",null);
});
</script> 
```

这样做是在表格中显示/隐藏行。现在它们显示出来了，我需要单击按钮来隐藏它们。如何在页面加载时自动隐藏？

隐藏的 CSS 属性可以解决问题，但我无法在显示单元格之后进行过滤。我需要在页面加载时隐藏它们，并使用脚本来显示它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:25:34.630

您只需`.click()`在最后添加即可。模拟点击。

```
<script>
$(function(){
  $("#projectReqTable","body").on({'click':function(event){
    event.preventDefault();
    $(this).closest("tr.main").nextUntil("tr.main").toggle("slow");
   }},
   "a.main",null).click();
});
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:31:15.963

在 jquery 中使用[trigger()函数](http://api.jquery.com/trigger/)

您可以在页面加载时触发按钮单击事件

```
$("#projectReqTable","body").trigger('click'); 
```

希望这可以帮助

**更清楚**

```
<script type="text/javascript">
$(document).ready(function(){
   $("#projectReqTable","body").on({'click':function(event){
    event.preventDefault();
    $(this).closest("tr.main").nextUntil("tr.main").toggle("slow");
   }},
   "a.main",null);

   $("#projectReqTable","body").trigger('click');

});
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-12T14:42:33.027

我的解决方案是简单地更改过滤器列并将他带到 tr.main 列。

但是，**Philemon philip Kunjumon**提供的解决方案也非常有用。

如果他的解决方案，这是完整的代码：

```
$(function(){
  $("#main-data-table","body").on({'click':function(event){
    event.preventDefault();
    $(this).closest("tr.main").nextUntil("tr.main").toggle("fast");
   }},
   "a.main",null);
$("#main-data-table").find('.data').css('display','none');
});​ 
```

这是一个工作示例：http: [//jsfiddle.net/wG8qf/107/](http://jsfiddle.net/wG8qf/107/)

# git - 如何区分两个分支与逃犯？

> ID：13304469
> 
> 赞同：10
> 
> 时间：2012-11-09T08:21:09.910
> 
> 标签：git, vim, vim-fugitive

在逃亡中，我可以在新窗口中获取 git 状态，`:Gstatus`并在该窗口中`D`获取文件以获取新拆分中的差异。

也可以使用获取文件的所有版本，`:Glog`我可以使用`:Glog --`.

我想做的是为两个分支的差异获取一个**Gstatus**窗口。例如我的**主题**和**开发**分支，这样我就可以区分所有已更改的文件。

是否可以获得一个*交互式*窗口，其中包含在两次提交之间更改的所有文件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T18:26:07.497

由于 git 不支持两次修订之间的 mercurial/bazaar 状态，因此逃犯都无法做到。Git 有`git diff --name-status`，但简单的 grep 表明这个功能从未在逃犯中使用，除了在做`:Gw`和朋友时检查某些文件是否干净（即未修改）。

* * *

如果你不怕一些实验性代码，那么你可以试试我的[aurum](https://bitbucket.org/ZyX_I/aurum)，它可以为你带来状态窗口

```
AuStatus rev topic wdrev development 
```

并查看特定文件的 vimdiff `C`（默认关闭状态窗口，`let g:aurum_statwincmd='k'`用于避免）。

注意：使用 +python aurum 编译的 hg-git 和 vim 将使用更稳定的代码，因为 mercurial 是我使用的主要 VCS。

* * *

另一个想法是使用 vcscommand、mercurial/bazaar 和 hg-git/bzr-git。然后状态将被查看

```
VCSStatus -r topic -r development 
```

(mercurial, don’t remember how to do it in bazaar). I am unfamiliar with vcscommand though, so can’t say whether it offers as many interactive features in status buffer as fugitive or aurum do (seems it does not: `nmap <buffer>` in git status buffer shows nothing). The above code should work according to the documentation, but I have not tested.

# javascript - JavaScript：让代码每分钟运行一次

> ID：13304471
> 
> 赞同：90
> 
> 时间：2012-11-09T08:21:17.103
> 
> 标签：javascript, jquery, html

有没有办法让一些 JS 代码每 60 秒执行一次？我认为`while`循环可能是可能的，但是有没有更简洁的解决方案？一如既往地欢迎 JQuery。

* * *

## 回答 #1

> 赞同：161
> 
> 时间：2012-11-09T08:22:24.943

使用[setInterval](https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval)：

```
setInterval(function() {
    // your code goes here...
}, 60 * 1000); // 60 * 1000 milsec 
```

[该函数返回一个 id，您可以使用clearInterval](https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearInterval)清除间隔：

```
var timerID = setInterval(function() {
    // your code goes here...
}, 60 * 1000); 

clearInterval(timerID); // The setInterval it cleared and doesn't run anymore. 
```

* * *

一个“姐妹”函数是[setTimeout](https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout) / [clearTimeout](https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearTimeout)查找它们。

* * *

如果您想在页面 init 上运行一个函数，然后在 60 秒后、120 秒后...：

```
function fn60sec() {
    // runs every 60 sec and runs on init.
}
fn60sec();
setInterval(fn60sec, 60*1000); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-11-09T08:31:31.053

你可以用`setInterval`这个。

```
<script type="text/javascript">
function myFunction () {
    console.log('Executed!');
}

var interval = setInterval(function () { myFunction(); }, 60000);
</script> 
```

通过设置禁用定时器`clearInterval(interval)`。

看到这个小提琴：http: [//jsfiddle.net/p6NJt/2/](http://jsfiddle.net/p6NJt/2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-02-07T13:30:42.557

**在每分钟开始时调用一个函数**

```
let date = new Date();
let sec = date.getSeconds();
setTimeout(()=>{
  setInterval(()=>{
    // do something
  }, 60 * 1000);
}, (60 - sec) * 1000); 
```

# html - HTML：在文本框中显示段落

> ID：13304474
> 
> 赞同：0
> 
> 时间：2012-11-09T08:21:41.313
> 
> 标签：html

如何在文本框中粘贴文本，例如

```
"abcdefghijklm...
      abcdefghijklm...". 
```

当我粘贴时，只显示第一行。第二行被跳过显示。

CSS：

```
 .Horse
{
    FONT-SIZE: 8px;    
    display: block;
    margin-bottom: 5px;
    COLOR: navy;
    FONT-FAMILY: TimesNewRoman;
} 
```

建议一些答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:30:46.577

`<input type="text">`文本类型输入 ( )中不能有多行。

您必须使用`<textarea>`. 这里的所有都是它的。

如果您无法访问标记，但可以访问 JavaScript，则可以动态替换它，尽管这远不理想。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-11-09T08:35:15.900

你可以设置TextBox的multiLine属性为true，让它变成TextArea。

# inputstream - Jboss战争部署异常

> ID：13304480
> 
> 赞同：0
> 
> 时间：2012-11-09T08:22:22.370
> 
> 标签：inputstream, jboss7.x, ioexception

我正在使用 Jboss7.1 final。在部署战争时，我遇到如下异常

> 08:07:13,065 WARN [org.jboss.as.server] (HttpManagementService-threads - 1) JBAS015891：为上传的部署内容捕获异常关闭输入流：java.io.IOException：流在 java.io.BufferedInputStream.getBufIfOpen 关闭(BufferedInputStream.java:145) ..

我无法找到错误在哪里..

# php - PHP OOP 编码约定

> ID：13304482
> 
> 赞同：0
> 
> 时间：2012-11-09T08:22:26.947
> 
> 标签：php, oop, convention

我是 OOP PHP 的新手，我想尽快获得尽可能多的编码约定。我制作了这个小小的留言簿脚本，我想知道是否有任何事情没有完成。

索引.php：

```
<?php
$username = "root";
$password = "";
$database = "oop";
$host = "localhost";

mysql_connect($host, $username, $password);
mysql_select_db($database);
?>
<html>
<head>
</head>
<body>
    <?php
    include("views/gaestebog.php");
    ?>
</body>
</html> 
```

Guestbook.php，类：

```
<?php
class Gaestebog {

    public function __contruct() {

    }

    public function getPosts() {
        $query = mysql_query("SELECT * FROM gaestebog");
        while ($row = mysql_fetch_array($query)) {
            echo '
            <tr>
                <td>'.$row['navn'].'</td>
            </tr>
            <tr>
                <td>'.$row['besked'].'</td>
            </tr>
            ';
        }
    }

    public function addPost($navn, $besked) {
        mysql_query("INSERT INTO gaestebog VALUES('', '$navn', '$besked')");
    }
}
?> 
```

和guestbook.php，视图：

```
<?php
include("classes/Gaestebog.php");
$gaestebog = new Gaestebog();
if (isset($_POST['opret'])) {
    $navn = $_POST['navn'];
    $besked = $_POST['besked'];
    $gaestebog->addPost($navn, $besked);
}
?>
<table>
    <?php
    $gaestebog->getPosts();
    ?>
</table>

<hr />

<form action="" method="post">
    <table>
        <tr>
            <td>Navn:</td>
            <td><input type="text" name="navn" value="Patrick" /></td>
        </tr>
        <tr>
            <td>Besked:</td>
            <td><input type="text" name="besked" value="Hej med dig !!" /></td>
        </tr>
        <tr>
            <td><input type="submit" name="opret" value="Opret" /></td>
        </tr>
    </table>
</form> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T08:31:31.800

几点：

*   不要使用已弃用的 mysql 库，请尝试 PDO 或 MySQLi
*   `__contruct()`有错别字，应该是`__construct()`。
*   不要从 get 方法返回原始 HTML `getPosts()`，而是返回一个帖子数组，如果这是你想要的输出，让视图创建 HTML
*   防止 SQL 注入，您的`INSERT`查询易受攻击

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-09T08:28:28.870

这通常被称为带有过时库的过程编程：

```
mysql_connect($host, $username, $password);
mysql_select_db($database); 
```

这只是你剧本的开始。也许最好不要太关注花哨的编程术语，而只是完成工作。

示例*`guestbook.php`*：

```
<?php
require('bootstrap.php');

$page = new Htmlpage('My Guestbook');
$page->start($_SERVER['REQUEST_URI']);

$gaestebog = new Gaestebog();

echo '<table border="1">';

foreach ($gaestebog->getPosts() as $post)
{
    $row = new Htmlencoded($post);

    echo <<<OUT
            <tr>
                <td>$row['navn']</td>
            </tr>
            <tr>
                <td>$row['besked']</td>
            </tr>
OUT;
}
echo '</table>';

$page->closeRequest();
?> 
```

否则，如果您想学习面向对象的编程，请使用对象接口并练习、练习、练习。

从简单的东西开始，比如*表单域*。不是一个完整的脚本。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-11-09T08:28:35.923

是的，首先要注意的是您的**SQL 注入**漏洞。

> [**请不要`mysql_*`在新代码中使用函数**](https://stackoverflow.com/q/12859942/)。它们不再被维护，并且已经开始[弃用过程。](http://news.php.net/php.internals/53799)看到[**红框**](https://www.php.net/manual/en/function.mysql-connect.php)了吗？改为了解[*准备好的语句*](https://en.wikipedia.org/wiki/Prepared_statement)，并使用[PDO](http://php.net/pdo)或[MySQLi](http://php.net/mysqli) -[本文](https://php.net/manual/en/mysqlinfo.api.choosing.php)将帮助您决定使用哪个。如果您选择 PDO，[这里有一个很好的教程](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)。

此外，将逻辑与表示分离（即 PHP 与 HTML）被认为是一种很好的做法。

# java - 如何从文件夹 Java IMAP Client 中移动消息/邮件

> ID：13304483
> 
> 赞同：2
> 
> 时间：2012-11-09T08:22:43.640
> 
> 标签：java, gmail, imap

我需要通过 Java 将消息从 IMAP 文件夹移动到另一个 IMAP 文件夹（同一帐户）。

我从事 Gmail 和 oauth 登录工作。

我使用 java imap 邮件客户端：我使用 sourceFolder.getMessages() 获取消息，然后调用方法`destFolder.appendMessages(sourceFolder.getMessages())`或`addMessages`：当要移动的消息数量太大时产生的问题。我不得不移动 8000 封邮件，并且登录会话在程序开始添加但尚未完成的几分钟后到期。

它每秒处理大约 1 条消息。我使用 oauth 登录

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T14:26:25.207

执行此操作的正常方法是使用服务器复制和删除。在 IMAP 语法中，复制命令是`tag COPY sequence mailboxname`. Like: `a000 COPY 1:* INBOX.Saved`, 会将所有消息复制到我的 Saved 子文件夹中。

您正在执行的方法需要下载每条消息，然后重新上传。

# android - 从另一个片段访问在一个片段中创建的加载器

> ID：13304484
> 
> 赞同：2
> 
> 时间：2012-11-09T08:22:54.307
> 
> 标签：android, android-fragments, android-loadermanager, commonsware-cwac, android-loader

我有一个具有相当标准片段布局的应用程序。左侧的可扩展列表视图片段和右侧的面板用于不同的事情，具体取决于用户选择对左侧列表执行的操作（显示数据、添加新数据等）。

我将 LoaderManager（第一次使用加载器）与 CommonWare 的`loaderex`库一起使用，因为我不需要或不希望为我的数据库创建内容提供程序，这样我就可以使用标准的 CursorLoader。此设置非常适合显示我的列表。

我遇到的问题是当我使用第二个片段将数据添加到数据库时。我无法弄清楚如何在第一个片段中触发重新加载列表。对于我的一生，我无法弄清楚如何从第二个片段的第一个片段中获取加载器，以便它知道需要再次提取数据，我似乎也无法弄清楚如何手动触发重新加载.

由于这是我第一次尝试使用 Loaders，如果我做的不正确，我很乐意（温和地）重新引导到更好的道路上。

**片段 1**

```
public class StudentListFragment extends ListFragment implements
        LoaderManager.LoaderCallbacks<Cursor> {

    private TAOpenHelper mDbHelper = null;
    private MyExpandableListAdapter mAdapter = null;
    private ExpandableListView lv = null;
    private Button addStudentButton;
    public static long mRowId = 0;
    public SQLiteCursorLoader studentLoader=null;

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        View v = inflater.inflate(R.layout.leftlistfragment_entry, container,
                false);
        return v;
    }

    @Override
    public void onActivityCreated(Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);

        addStudentButton = (Button) getActivity().findViewById(R.id.AddButton);
        addStudentButton.setText(getResources().getString(
                R.string.button_add_student));
        addStudentButton.setOnClickListener(addStudentButtonHandler);

        lv = (ExpandableListView) getListView();

        mDbHelper = TAOpenHelper.getInstance(getActivity());

        fillData();
        getLoaderManager().getLoader(-1);
        if (studentLoader != null && !studentLoader.isReset()) {
            getLoaderManager().restartLoader(-1, null, this);
        } else {
            getLoaderManager().initLoader(-1, null, this);
        }
    }

    private void fillData() {
        mAdapter = new MyExpandableListAdapter(getActivity(), this,
                R.layout.listlayout_exp_double_group,
                R.layout.listlayout_exp_double_child,
                new String[] { TeacherAidDB.STUDENT_FIRST,
                        TeacherAidDB.STUDENT_LAST }, new int[] {
                        R.id.ListItem1, R.id.ListItem2 }, new String[] {
                        TeacherAidDB.CLASS_NAME, TeacherAidDB.CLASS_LEVEL },
                new int[] { R.id.ListItem1, R.id.ListItem2 });
        lv.setAdapter(mAdapter);
    }

    public class MyExpandableListAdapter extends SimpleCursorTreeAdapter {
        protected final SparseIntArray mGroupMap;
        private StudentListFragment mFragment;

        public MyExpandableListAdapter(Context context,
                StudentListFragment clf, int groupLayout, int childLayout,
                String[] groupFrom, int[] groupTo, String[] childrenFrom,
                int[] childrenTo) {
            super(context, null, groupLayout, groupFrom, groupTo, childLayout,
                    childrenFrom, childrenTo);
            mFragment = clf;
            mGroupMap = new SparseIntArray();
        }

        @Override
        protected Cursor getChildrenCursor(Cursor groupCursor) {
            int groupPos = groupCursor.getPosition();
            int groupId = groupCursor.getInt(groupCursor
                    .getColumnIndex(TeacherAidDB.CLASS_ROWID));
            mGroupMap.put(groupId, groupPos);
            Loader<Cursor> loader = getActivity().getLoaderManager().getLoader(
                    groupId);
            if (loader != null && !loader.isReset()) {
                getActivity().getLoaderManager().restartLoader(groupId, null,
                        mFragment);
            } else {
                getActivity().getLoaderManager().initLoader(groupId, null,
                        mFragment);
            }
            return null;
        }

        public SparseIntArray getGroupMap() {
            return mGroupMap;
        }
    }

    public Loader<Cursor> onCreateLoader(int id, Bundle args) {
        if (id != -1) { // Child Cursor
            studentLoader = new SQLiteCursorLoader(getActivity(), mDbHelper,
                    TeacherAidDB.STUDENT_LIST_CLASS_QUERY + id, null);
        } else { // Group Cursor
            studentLoader = new SQLiteCursorLoader(getActivity(), mDbHelper,
                    TeacherAidDB.STUDENT_LIST_QUERY, null);
        }
        return studentLoader;
    }

    public void onLoadFinished(Loader<Cursor> loader, Cursor data) {
        int id = loader.getId();
        if (id != -1) { // Child cursor
            if (!data.isClosed()) {
                SparseIntArray groupMap = mAdapter.getGroupMap();
                int groupPos = groupMap.get(id);
                mAdapter.setChildrenCursor(groupPos, data);
            }
        } else { // Groups cursor
            mAdapter.setGroupCursor(data);
        }
    }

    @Override
    public void onLoaderReset(Loader<Cursor> arg0) {
        mAdapter.changeCursor(null);
    }

    View.OnClickListener addStudentButtonHandler = new View.OnClickListener() {
        public void onClick(View v) {
            AddPerson personadd = AddPerson.newInstance(AddPerson.STUDENT, AddPerson.CREATE, mRowId);
            getFragmentManager().beginTransaction()
                    .replace(R.id.rightpane, personadd).commit();
        }
    };
} 
```

**片段 2**

```
public class AddPerson extends Fragment {

    public static int STUDENT = 0;
    public static int TEACHER = 1;
    public static int CREATE = 0;
    public static int EDIT = 1;
    private int mRowId;
    private TAOpenHelper mDbHelper;
    private Cursor personedit;
    private Button commit;
    private Button cancel;

    int who;
    int what;
    long rowId;

    static AddPerson newInstance(int type, int action, long rowid) {
        AddPerson f = new AddPerson();
        Bundle args = new Bundle();
        args.putInt("type", type);
        args.putInt("action", action);
        args.putLong("rowid", rowid);
        f.setArguments(args);
        return f;
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        who = getArguments().getInt("type");
        what = getArguments().getInt("action");
        rowId = getArguments().getInt("rowid");
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        View v = inflater.inflate(R.layout.dialog_person_add, container, false);

        mDbHelper = TAOpenHelper.getInstance(getActivity());

        if (what == EDIT) {
            if (who == STUDENT) {
                // Student Edit stuff here
            } else {
                // Teacher Edit stuff here 
            }
        } else { 
            if (who == STUDENT) { 
                // Student Create stuff here
            } else {
                // Teacher Create stuff here 
            }
        }

        // Code to gather data from user goes here

        commit = (Button) v.findViewById(R.id.commitbutton);
        commit.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {

                first = firstTxt.getText().toString();
                last = lastTxt.getText().toString();
                street = streetTxt.getText().toString();
                city = cityTxt.getText().toString();
                zip = zipTxt.getText().toString();
                phone = phoneTxt.getText().toString();
                email = emailTxt.getText().toString();
                if (what == CREATE) {
                    processAdd(who);
                } else {
                    processUpdate(who);
                }
            }
        });

        cancel = (Button) v.findViewById(R.id.cancelbutton);
        cancel.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {
                Fragment check = getFragmentManager().findFragmentById(
                        R.id.rightpane);
                getFragmentManager().beginTransaction().remove(check).commit();
            }
        });
        return v;
    }

    private void processAdd(int who) {
        ContentValues initialValues = new ContentValues();
        if (who == STUDENT) {
            initialValues.put(TeacherAidDB.STUDENT_FIRST, first);
            initialValues.put(TeacherAidDB.STUDENT_LAST, last);
            initialValues.put(TeacherAidDB.STUDENT_STREET, street);
            initialValues.put(TeacherAidDB.STUDENT_CITY, city);
            initialValues.put(TeacherAidDB.STUDENT_STATE, state);
            initialValues.put(TeacherAidDB.STUDENT_ZIP, zip);
            initialValues.put(TeacherAidDB.STUDENT_PHONE, phone);
            initialValues.put(TeacherAidDB.STUDENT_EMAIL, email);
            initialValues.put(TeacherAidDB.STUDENT_BDAY, birthday);

            // How to get studentLoader from fragment 1?
            //studentLoader.insert(TeacherAidDB.STUDENT_TABLE, null, initialValues);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T10:49:24.753

使用常规的`CursorLoader`，这将通过`ContentObserver`框架自动发生，最终归结为一堆静态数据成员。

使用`SQLiteCursorLoader`,`ContentObserver`不可用，最接近的模拟是通过 路由您的 CRUD 操作，`Loader`因此它知道重新加载`Cursor`. 这*实际上*只是为在单个活动中使用而设计的。

因此，正如 Luksprog 建议的那样，您最好的选择是将 CRUD 工作委托给包含活动。

如果这些片段可能由不同的活动托管（例如，对于小/正常与大/超大屏幕尺寸），请定义一个通用接口来处理这项工作，并将片段委托给该接口。

# unity3d - 统一从一个摄像头切换到另一个摄像头，视图从右侧进入

> ID：13304490
> 
> 赞同：1
> 
> 时间：2012-11-09T08:23:22.560
> 
> 标签：unity3d

我在同一位置有两个摄像头。我想从一个摄像头切换到另一个摄像头（具有过渡效果），以​​便第二个视图取代从左侧进入并填充屏幕的第一个摄像头视图.. 相机淡入和unity wiki 中提供了淡出效果..任何人都可以建议我一种实现这种效果的技术..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-06T18:01:13.283

虽然我不太确定用于切换相机的应用程序，但如果您要动态实例化它，您将能够使用 lerp 和其他函数调用来操纵行为，而无需使用多个相机。

[http://docs.unity3d.com/Documentation/ScriptReference/Vector3.Lerp.html](http://docs.unity3d.com/Documentation/ScriptReference/Vector3.Lerp.html)

作为旁注，我相信您可以对一些类似于此的相机效果进行逆向工程以实现背景（对您想要做什么有点困惑）

[http://docs.unity3d.com/Documentation/Components/script-CameraMotionBlur.html](http://docs.unity3d.com/Documentation/Components/script-CameraMotionBlur.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T23:26:48.967

您可以尝试为[Camera.rect](http://docs.unity3d.com/Documentation/ScriptReference/Camera-rect.html)设置动画。否则，您将不得不在 RenderTexture 中渲染两者，并在一个小着色器中组合渲染图像，并将 translate 参数从 0 更改为 1。

# selenium-webdriver - 无法在 selenium webdriver 中的浏览器之间切换

> ID：13304493
> 
> 赞同：1
> 
> 时间：2012-11-09T08:23:58.547
> 
> 标签：selenium-webdriver

我正在尝试在浏览器之间切换，即单击按钮时它会启动一个新浏览器它正在查找句柄..问题是它无法在使用 id、xpath、名称等搜索的新浏览器中找到对象。给我任何建议。它也可以匹配 url。

请给我同样的解决方案。下面是代码。

**//上一屏** Set windows = driver1.getWindowHandles();

```
driver1.findElement(By.id("findButton")).click(); 
```

**//切换新画面的句柄**

```
driver1.switchTo().window("Customer Search");
driver1.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS); 
int i = 1;
while(i<= 10){ 
    for (String handle : driver1.getWindowHandles()) {
       String myTitle = driver1.switchTo().window(handle).getTitle();
       System.out.println("myTitle value : " +myTitle); 
```

**//客户搜索为新窗口标题**

```
 if(myTitle.equalsIgnoreCase("Customer Search")){
           driver1.manage().window().maximize(); 
```

**//如果我传递了与此处也匹配的屏幕的正确 url，我给出了 dummy("sshsj")**

```
 if(driver1.getCurrentUrl().equalsIgnoreCase("sshsj"));
                   {
            System.out.println("Url is matching"); 
```

**//但无法识别新窗口上的对象。**

```
 driver1.findElement(By.xpath("html/body/left/form/table/tbody/tr[2]/td[1]/input")).sendKeys("kamal");
                   } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T10:42:17.730

可以用JS打开一个新窗口，速度更快。

```
IJavaScriptExecutor jscript = driver as IJavaScriptExecutor;
jscript.ExecuteScript("window.open()"); 
```

然后切换窗口，使用窗口句柄：

```
List<string> handles = driver.WindowHandles.ToList<string>();
driver.SwitchTo().Window(handles.Last());
driver.get(url);
driver.findElement(By.xpath("html/body/left/form/table/tbody/tr[2]/td[1]/input")).sendKeys("kamal"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-27T16:13:53.000

元素可能存在于 iframe 中。在这种情况下，您需要先切换到该 iframe，然后才能访问 iframe 中的任何元素。

# android - Android webview 应用启动太慢。

> ID：13304494
> 
> 赞同：4
> 
> 时间：2012-11-09T08:24:05.130
> 
> 标签：android, webview, android-webview

我创建了一个安卓应用程序。它使用 a`WebView`上传本地 html。但它开始非常缓慢。它会在大约 10 秒内上传页面。为什么这么慢？什么方法可以让应用程序启动更快？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:37:07.497

尝试使用这个 - 这将在您的 web 视图中启用缓存，从而可以帮助您更快地加载页面。

```
 WebSettings webSettings = webview.getSettings();
 webSettings.setPluginsEnabled(true);
 webSettings.setJavaScriptEnabled(true);
 webSettings.setDatabaseEnabled(true);
 webSettings.setDomStorageEnabled(true);
 webSettings.setAppCacheEnabled(true);
 webSettings.setCacheMode(WebSettings.LOAD_NO_CACHE); 
```

此代码段用于更快地加载任何页面，如果您特别想加载本地页面，请仅尝试使用[此链接上解释的示例。](https://stackoverflow.com/questions/9989766/webview-loading-local-html-page-slow-in-android)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:40:53.130

尝试将[WebViewClient](http://developer.android.com/reference/android/webkit/WebViewClient.html)与 Web 视图一起使用，并使用覆盖的方法“shouldOverrideUrlLoading”并相应地返回。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-30T10:11:27.647

除了上述之外，您的应用程序中是否还有本地的所有外部静态资源？

这是用户用于在本地加载 HTML 内容的常见问题，但其资源（如 JS、CSS、字体等）在某些 http URL 上被引用。除了上述 Darpan 的解决方案之外，您还可以在本地存储资源以使其更快。

[以下是执行此操作的详细说明](http://www.codewithasp.net/2016/06/speedup-android-webview-app-localise-static-resources.html)。

# java - 如何在不需要响应的情况下向服务器提交请求

> ID：13304498
> 
> 赞同：1
> 
> 时间：2012-11-09T08:24:25.117
> 
> 标签：java, javascript, excel, spring-mvc

目的：生成excel报告。单击 UI 中的提交按钮后，我调用了控制器（JAVA）。之后，我使用过程填充数据并在服务层进行操作。这需要很长时间，因此我在 UI 上收到网关超时错误（服务器上有一定的负载）。所以，现在我打算从 UI 调用控制器并告诉用户 Excel 报告将通过电子邮件发送给您，这样用户就不会在该屏幕上等待报告。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:43:50.910

一旦用户从 UI 提交请求，只需从您的控制器中输入数据库并向用户发送消息说“我们已收到您的请求，excel 将通过电子邮件发送给您”。

现在在后台有正在运行的作业，您可以使用 Thread 在服务器端编写此作业，或者更好地使用 Spring Batch。这项工作将做以下

1）这将是一个持续运行的线程，它将检查这个表中是否有来自 UI 的任何新条目，通过一些标志或者你可以找到它。

2）这个工作将生成excel文件和电子邮件给客户

3) 一旦文件通过电子邮件发送，在数据库中更新 flag = false，以便下次该作业将仅使用 flag = false 记录进行下一次处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:44:11.130

创建一个 java 程序来填充您的 excel 工作表和其余的东西。然后在你的servlet中使用

```
Process p=Runtime.getRuntime().exec(/*run your java program */); 
```

这将创建一个并行进程，您的 servlet 将结束

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T10:46:37.763

您可以使用带有`@Async`注释的 spring 执行异步任务。有关更多详细信息，您可以在 spring 中查看第[25.5.2](http://static.springsource.org/spring/docs/3.0.x/reference/scheduling.html)节。

# c++ - C++ 中的实时 3D 可视化

> ID：13304500
> 
> 赞同：6
> 
> 时间：2012-11-09T08:24:28.143
> 
> 标签：c++, 3d, plot, visualization

你知道任何可以实时更新绘图的 C++ 3D 可视化库吗？

我不是在寻找壮观的东西，只是寻找 MATLAB plot3 函数的替代品。我的主要问题是我需要以高 FPS（至少 8）进行绘图。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T08:31:17.310

看看[gnuplot++](http://www.suiri.tsukuba.ac.jp/~asanuma/gnuplot++/)。

“gnuplot++是Jun Asanuma通过c++开发的Gnuplot API。它利用了标准C++的许多特性，例如类模板、STL和迭代器。”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T08:27:28.873

你可以看看VTK：[http ://www.vtk.org/](http://www.vtk.org/)

# ruby-on-rails - 创建自定义邮件时如何使用 Rails 邮件设置？

> ID：13304502
> 
> 赞同：0
> 
> 时间：2012-11-09T08:24:41.293
> 
> 标签：ruby-on-rails, ruby, email, actionmailer

我正在`Mail`Rails 应用程序中创建一个对象，并希望它选择邮件设置：

```
original = UserMailer.new_registration
original.deliver# Does the job

custom = Mail.new(original.to_s)
custom.deliver # Fails: OpenSSL::SSL::SSLError: hostname does not match the server certificate 
```

显然自定义`Mail`对象没有选择 Rails 设置。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-11T22:17:49.710

查看[代码](https://github.com/rails/rails/blob/master/actionmailer/lib/action_mailer/delivery_methods.rb)，我们可以通过以下方式从邮件中获取配置：

```
custom = ::Mail.new(raw_email)
key = Rails.application.config.action_mailer.delivery_method
delivery_method = ActionMailer::Base.delivery_methods.fetch(key)
delivery_settings = ActionMailer::Base.send("#{key}_settings")
custom.delivery_method(delivery_method, delivery_settings)
custom.deliver 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T09:02:24.670

要使用 rails 发送自定义邮件，请阅读此内容。

[http://mdushyanth.wordpress.com/2011/08/06/custom-mail-delivery-method-in-rails-3/](http://mdushyanth.wordpress.com/2011/08/06/custom-mail-delivery-method-in-rails-3/)

# .net - .NET 4.0 中的 Exception.ToString 损坏？

> ID：13304503
> 
> 赞同：5
> 
> 时间：2012-11-09T08:24:46.493
> 
> 标签：.net, exception

我正在使用一个使用 Exception.ToString() 报告异常的测试框架。

昨天我遇到了关于嵌套异常的不完整报告，在使用 Reflector 进行一些工作后得出的结论是 .NET 4.0 已经破坏了内部异常字符串表示的组成方式。

这是一个例子；

```
public class MyException : Exception
{
  DateTime when;

  public MyException(DateTime when)
  {
    this.when = when;
  }

  public override string ToString()
  {
    var builder = new StringBuilder();
    builder.AppendFormat("Happened at: {0}\r\n", this.when);
    builder.Append(base.ToString());
    return builder.ToString();
  }
}

class Program
{
  private static void throws()
  {
    throw new Exception("bobby!", new MyException(DateTime.Now));
  }

  private static void catches()
  {
    try
    {
      throws();
    }
    catch (Exception e)
    {
      Console.WriteLine(e);
    }
  }

  static void Main(string[] args)
  {
    catches();
  }
} 
```

此处的控制台输出将*不*包含我的自定义“发生在”前缀。

请注意，如果我们直接抛出 MyException，而不是嵌套在另一个异常中，则将使用自定义字符串 rep。

原来原因是Exception.ToString()不再调用内部异常的ToString()，而是调用了私有方法ToString(bool)，即

```
// Exception
public override string ToString()
{
  return this.ToString(true);
}

private string ToString(bool needFileLineInfo)
{
  // yada yada

  if (this._innerException != null)
  {
    result += "some stuff " + this._innerException.ToString(needFileLineInfo) + " some more stuff";
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  }

  // yada yada

  return result;
} 
```

因此，由于 Exception.ToString() 不再调用内部异常的 ToString()，因此该实现已经缩短了为内部异常定制字符串表示的任何机会。

在 .NET 2.0 中，可覆盖的 ToString() 被按预期调用，因此这是一个沿途某处的重大更改。

文档没有改变，并且仍然声称；

> ToString 的默认实现获取抛出当前异常的类的名称、消息、对内部异常调用 ToString 的结果 [...]

[http://msdn.microsoft.com/en-us/library/system.exception.tostring.aspx](http://msdn.microsoft.com/en-us/library/system.exception.tostring.aspx)

这对除了我以外的任何人来说都是一个错误吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-09T09:04:04.277

是的，这似乎是一个错误。看看[MS Connect 问题](http://connect.microsoft.com/VisualStudio/feedback/details/586619/exception-tostring-no-longer-calls-overridable-tostring-for-innerexception)。

# javascript - offset() 是未定义的“错误”

> ID：13304509
> 
> 赞同：3
> 
> 时间：2012-11-09T08:25:11.960
> 
> 标签：javascript, jquery, jquery-ui

加载页面时，我想获得面板的顶部。但它显示错误。在 Firefox 和 IE 中，它的说法是“ **offset() is undefined** ”，而在 Chrome 中，错误是“ **Uncaught TypeError: Cannot read property 'top' of undefined** ”。请帮忙。

```
$(window).resize(function () {
    tabPanelAdjust();
});

function tabPanelAdjust() {
    var theTabPanel = $(".TabPanel");
    var tabPanelTop = parseInt(theTabPanel.offset().top);
    var winHeight = $(document).height();
    tabPanelHeight = winHeight - tabPanelTop;
    theTabPanel.css({ "min-height": tabPanelHeight - 20 });
}

<div class="TabPanel">
</div> 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-09T08:32:42.020

代码没有问题。在文档就绪方法中包含您的代码。可能是在加载 div 之前触发了您的代码。

```
$(function(){
$(window).resize(function () {
  tabPanelAdjust();
});

function tabPanelAdjust() {
 var theTabPanel = $(".TabPanel");
 var tabPanelTop = parseInt(theTabPanel.offset().top);
 var winHeight = $(document).height();
 tabPanelHeight = winHeight - tabPanelTop;
 theTabPanel.css({ "min-height": tabPanelHeight - 20 });
}
}); 
```

这是一个工作小提琴：

[http://jsfiddle.net/SX5U4/](http://jsfiddle.net/SX5U4/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T08:40:26.140

试试这个：http: [//jsbin.com/ecumag/1/edit](http://jsbin.com/ecumag/1/edit)

```
function tabPanelAdjust() {
   var theTabPanel = $(".TabPanel");
   alert(theTabPanel.offset().top);
   var tabPanelTop = theTabPanel.offset().top;
   var winHeight = $(document).height();
   tabPanelHeight = winHeight - tabPanelTop;
   theTabPanel.css({ "min-height": tabPanelHeight - 20,"background":"yellow" });
}

$(function(){

    tabPanelAdjust();

}); 
```

**请确保您正在加载 jquery**

# javascript - for循环中的JavaScript动态变量

> ID：13304514
> 
> 赞同：0
> 
> 时间：2012-11-09T08:25:44.743
> 
> 标签：javascript, variables, dynamic

我需要在 javascript 中创建一些规则，如下所示。我想在 for 循环中创建这些规则，但是我无法动态创建可变部分。

```
var _docmap = document.mappingsTanimlari;
    if(_docmap.addServerOrClusterValue0.value != ""){
        arr.push(_docmap.addServerOrCluster0.value + _docmap.addServerOrClusterValue0.value)
    }
    if(_docmap.addServerOrClusterValue1.value != ""){
        arr.push(_docmap.addServerOrCluster1.value + _docmap.addServerOrClusterValue1.value)
    }
    if(_docmap.addServerOrClusterValue2.value != ""){
        arr.push(_docmap.addServerOrCluster2.value + _docmap.addServerOrClusterValue2.value)
    }
    if(_docmap.addServerOrClusterValue3.value != ""){
        arr.push(_docmap.addServerOrCluster3.value + _docmap.addServerOrClusterValue3.value)
    }
    if(_docmap.addServerOrClusterValue4.value != ""){
        arr.push(_docmap.addServerOrCluster4.value + _docmap.addServerOrClusterValue4.value)
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:29:36.077

首先，我不得不说代码看起来很*糟糕*，但这里是如何做到的。您需要使用括号表示法而不是点表示法，以便您可以传递一个字符串并连接索引：

```
for ( var i = 0; i <= 4; i++ ) {

  if ( document.mappingsTanimlari[ 'addServerOrClusterValue'+ i ].value ) {
    ...
  }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:30:21.350

为什么不这样做呢？

```
var arr = new Array();
var data = document.mappingsTanimlari;

for(var i=data.length;i--;) {
 if(data[i].value != "") {
  arr.push(data[i].value + data[i].value);
 }
} 
```

# c# - 在datagridview c#中选择复选框

> ID：13304517
> 
> 赞同：0
> 
> 时间：2012-11-09T08:26:00.250
> 
> 标签：c#, winforms, datagridview

我在datagridview 中有一个dowpdownlist、一个按钮和一个复选框。

我只是在datagridview 上手动创建了一个复选框列。（这里是代码）

```
DataGridViewCheckBoxColumn CheckboxColumn = new DataGridViewCheckBoxColumn();
            CheckBox chk = new CheckBox();
            CheckboxColumn.Width = 20;
            DataGrid1.Columns.Add(CheckboxColumn); 
```

这是程序。
第 1 步：用户将选择复选框上的项目。
第 2 步：用户将在下拉列表中选择项目。
第 3 步：用户将单击按钮，它将更改
复选框上的项目名称，然后再在下拉列表中选择项目。

这是我点击按钮后的问题，没有任何反应。

这是我的代码。

```
private void button1_Click(object sender, EventArgs e)
        {
    int x = 0;
                foreach (DataGridViewRow item in this.DataGrid1.SelectedRows)
                {
                    DataGridViewCheckBoxCell chk = (DataGridViewCheckBoxCell)item.Cells[1];
                    if (chk.Selected)
                    {
                    // codes here
                    }
                    else
                    {
                    //code here
                    }
                }
                x = x + 1;
         } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:43:52.290

*** 已编辑 ****

我已经对此进行了测试，它绝对有效。将其复制并粘贴到一个新项目中并使用它。它应该可以帮助你到达你需要去的地方。

```
 private void Form1_Load(object sender, EventArgs e)
    {

        DataGridViewCheckBoxColumn checkBox = new DataGridViewCheckBoxColumn(true);
        checkBox.HeaderText = "T/F";
        dataGridView1.Columns.Add(checkBox);

    }

    private void button1_Click(object sender, EventArgs e)
    {
        foreach (DataGridViewRow row in dataGridView1.SelectedRows)
        {

            DataGridViewCheckBoxCell chk = (DataGridViewCheckBoxCell)row.Cells[0];

            if (Convert.ToBoolean(chk.Value) == true)
            {
                MessageBox.Show("Value Is True");
            }

        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-12T09:41:41.947

我建议打电话的第一件事是：

```
DataGrid1.EndEdit(); 
```

因为，我经历过，如果在从网格列检索复选框值之前缺少此行，有时输入不会按预期显示。

所以是这样的：

```
private void button1_Click(object sender, EventArgs e)
{
    int x = 0;
    foreach (DataGridViewRow item in this.DataGrid1.SelectedRows)
    {
        DataGridViewCheckBoxCell chk = (DataGridViewCheckBoxCell)item.Cells[1];

        if (chk.Value)
        {
              // codes here for checked condition
        }
        else
        {
              //code here  for UN-checked condition
        }
      }
     x = x + 1;
 } 
```

# c# - 将 lambda 表达式中的可为空参数替换为值

> ID：13304518
> 
> 赞同：4
> 
> 时间：2012-11-09T08:26:02.853
> 
> 标签：c#, lambda

可以用 代替`Expression<Func<Nullable<TValue>>>`吗`Expression<Func<TValue>>`？

价值在哪里`Nullable<TValue>.GetValueOrDefault()`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T08:32:37.960

> 可以用 代替`Expression<Func<Nullable<TValue>>>`吗`Expression<Func<TValue>>`？

当然 - 这只是包装 lambda 的最外层结果：

```
static void Main() {

    Expression<Func<int?>> x = () => 1, y = () => null;
    Expression<Func<int>> a = DeNullify(x), b = DeNullify(y);

    Console.WriteLine(x.Compile()()); // 1
    Console.WriteLine(y.Compile()()); // {blank; null}

    Console.WriteLine(a.Compile()()); // 1
    Console.WriteLine(b.Compile()()); // 0 
}
public static Expression<Func<TValue>> DeNullify<TValue>(
    Expression<Func<TValue?>> expression) where TValue : struct
{
    return Expression.Lambda<Func<TValue>>(
        Expression.Call(expression.Body, "GetValueOrDefault", null),
        expression.Parameters);
} 
```

# actionscript-3 - 我们可以抓到flex的HTTPservice的数据包吗

> ID：13304524
> 
> 赞同：0
> 
> 时间：2012-11-09T08:26:50.887
> 
> 标签：actionscript-3, httpservice, flash-builder4.5, remoteobject, charles-proxy

在这里，我使用[Charles Web 调试器代理](http://www.charlesproxy.com/)来捕获所有通过 HTTP 协议发送/接收的数据包，在这里，我声明，[Charles](http://www.charlesproxy.com/)是 HTTP 监视器。打开查尔斯后，我得到了从我的浏览器发送的所有数据包。所以我做了一个新的应用程序，它调用[GOOGLE](http://www.google.com/)的 URL。如果我通过 HTTPService 调用[GOOGLE](http://www.google.com/)的 url，那么我无法捕获我的应用程序的任何数据包，如果我通过 URLRequest 调用[GOOGLE](http://www.google.com/)的 url，那么我得到了 charles 中的所有数据包。

问题：

1.  如果我想捕获 HTTPService 数据包，那么我使用了哪个工具/应用程序？
2.  是否可以捕获 HTTPService/WebService/RemoteObject 的数据包？

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T10:35:16.077

使用[Fiddler](https://www.fiddler2.com/fiddler2/)，免费且功能强大，您将能够查看所有 https/https 流量、添加过滤器等。

# mysql - 使用 DriverManagerDataSource bean 设置 noAccessToProcedureBodies

> ID：13304526
> 
> 赞同：1
> 
> 时间：2012-11-09T08:27:02.443
> 
> 标签：mysql, spring, jakarta-ee, jdbc, jdbctemplate

大家好，Java 极客们，

我在 MySQL 数据库中有很多存储过程，我可以从 .NET 成功调用它们。但是，当从 Java Spring 调用它们时，`SimpleJdbcCall.execute()`我得到一个异常，告诉我用户没有这样做的权限。但显然情况并非如此，因为同一个用户可以从 CLI 和 .NET 访问它。

因此我想设置这个参数：

```
noAccessToProcedureBodies=true 
```

但是，当在下面的连接器 bean 中添加我的 url 中的参数时，它认为尾随字符是数据库名称的一部分。

```
<bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource">

    <property name="driverClassName">
        <value>com.mysql.jdbc.Driver</value> 
    </property>

    <property name="username">
        <value>user</value>
    </property>

    <property name="url">
        <value>jdbc:mysql://192.168.0.1:3306/database/?noAccessToProcedureBodies=true</value>
    </property>

    <property name="password">
        <value>powerpass</value>
    </property>

</bean> 
```

我一直在考虑覆盖该[`getConnectionProperties`](http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/jdbc/datasource/AbstractDriverBasedDataSource.html#getConnectionProperties%28%29)方法，但我认为这不是正确的方法吗？

谢谢大家

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T06:19:14.470

我自己找到了答案，它正在工作。

而不是有一个结束斜线`"database/?noAccess..."`一个应该离开它：

```
<property name="url">
        <value>jdbc:mysql://192.168.0.1:3306/database?noAccessToProcedureBodies=true</value>
</property> 
```

希望对某人有所帮助！

# php - Covertapi.com pdf 到 php 中的 jpeg

> ID：13304531
> 
> 赞同：1
> 
> 时间：2012-11-09T08:27:28.150
> 
> 标签：php, convertapi

我正在尝试使用 convertapi.com 转换 Rest Api 和 php 将 PDF 文件转换为 JPEG，但它一直给出异常，说返回的内容不是 jpeg。[您可以在http://www.luova.fi/word2pdf/pdf2jpg.php](http://www.luova.fi/word2pdf/pdf2jpg.php)查看我的代码 我已经在论坛上查看过，但找不到任何问题的答案，任何人都有任何想法。谢谢！（imagemagick 和 gs 是不可能的）

大卫

```
<?php
 error_reporting(NULL);
 ini_set('display_errors', '0');
function ParseHeader($header='')
{
$resArr = array();
$headerArr = explode("\n",$header);
foreach ($headerArr as $key => $value) {
    $tmpArr=explode(": ",$value);
    if (count($tmpArr)<1) continue;
    $resArr = array_merge($resArr, array($tmpArr[0] => count($tmpArr) < 2 ? "" : $tmpArr[1]));
}
return $resArr;
}

function CallToApi($fileToConvert, $pathToSaveOutputFile, $apiKey, &$message)
{
    try
    {

        $rand=time();
        $fileName = $rand."MyFile.jpg";
        $apiKey = "XXXXXXX";
        $postdata =  array('OutputFileName' => 'MyFile.jpg', 'ApiKey' => $apiKey, 'file'=>"@".$fileToConvert);
        $ch = curl_init("http://do.convertapi.com/Pdf2Image");
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        curl_setopt($ch, CURLOPT_HEADER, 1);
        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, $postdata);
        $result = curl_exec($ch); 
        $headers = curl_getinfo($ch);

        $header=ParseHeader(substr($result,0,$headers["header_size"]));
        $body=substr($result, $headers["header_size"]);

        curl_close($ch);
        if ( 0 < $headers['http_code'] && $headers['http_code'] < 400 ) 
        {
            // Check for Result = true

            if (in_array('Result',array_keys($header)) ?  !$header['Result']=="True" : true)
            {
                $message = "Something went wrong with request, did not reach ConvertApi service.<br />";
                return false;
            }
            // Check content type 
            if ($headers['content_type']<>"image/jpeg")
            {
                $message = "Exception Message : returned content is not jpeg file.<br />";
                return false;
            }
            $fp = fopen($pathToSaveOutputFile.$fileName, "wbx");

            fwrite($fp, $body);

            $message = "The conversion was successful! The pdf file $fileToConvert converted to JPEG and saved at $pathToSaveOutputFile$fileName";
            return true;
        }
        else 
        {
         $message = "Exception Message : ".$result .".<br />Status Code :".$headers['http_code'].".<br />";
         return false; 
        }
    }
    catch (Exception $e) 
    {   
        $message = "Exception Message :".$e.Message."</br>";
        return false; 
    }
}
    ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>
        Conversion PDF to JPEG
    </title>
</head>
<body>
<div style="width: 600px; margin: auto;">
    <h3>Conversion example of PDF to JPEG using Rest API <a href="http://www.convertapi.com" target="_blanks">http://www.convertapi.com</a></h3>
    <form method="post" action="" id="word2pdf_form" enctype="multipart/form-data">
        Please choose PDF document(pdf file) from your computer
        <br />
        <input type="file" name="FileUpload" id="FileUpload" style="width:600px;">
        <br />
        <input name="txtApiKey" type="hidden" id="txtApiKey" value="" style="width:600px;">
        <br />
        <br />
        <div style="text-align: center">
            <input type="submit" name="btnConvert" value="Convert" id="btnConvert">
        </div>

        </form>
        <br>
 <?php

if (isset($_FILES["FileUpload"]['name'])&&$_FILES['FileUpload']['size']>0&&$_FILES['FileUpload']['error']==0)
{
$physicalPath = dirname(__FILE__)."/files/";

if (!file_exists($physicalPath)) {
        mkdir($physicalPath,0777);
    }
$uploadedFile = $physicalPath.$_FILES["FileUpload"]['name'];

$apiKey = $_REQUEST["txtApiKey"];

if (!move_uploaded_file($_FILES["FileUpload"]["tmp_name"], $uploadedFile)) die("CANNOT MOVE {$_FILES['FileUpload']['name']}" . PHP_EOL);
$message = "";
chmod($uploadedFile,0755);
$result = CallToApi($uploadedFile, $physicalPath, $apiKey, &$message);
echo "<span id='lblStatus'".($result ? "" : "style='color:red'")." >" .$message."</span>";
  }
  else
  {
echo in_array("btnConvert", $_REQUEST) ? "<span id='lblStatus' style='color:Red;'>  Please select PDF document!</span>":"<span id='lblStatus'>Please select a PDF document and click Convert button.</span>";
}
     ?>
    </div>

    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-11T19:03:30.180

试试这个代码

```
<?php
error_reporting(NULL);
ini_set('display_errors', '1');

function ParseHeader($header = '') {
    $resArr = array();
    $headerArr = explode("\n", $header);
    foreach ($headerArr as $key => $value) {
        $tmpArr = explode(": ", $value);
        if (count($tmpArr) < 1)
            continue;
        $resArr = array_merge($resArr, array($tmpArr[0] => count($tmpArr) < 2 ? "" : $tmpArr[1]));
    }
    return $resArr;
}

function CallToApi($fileToConvert, $pathToSaveOutputFile, $apiKey, &$message) {
    try {
        $rand = time();
        $ext = ".jpg";
        $fileName = $rand . "MyFile";
        $apiKey = "";
        $postdata = array('OutputFileName' => 'MyFile.jpg', 'ApiKey' => $apiKey, 'file' => "@" . $fileToConvert);
        $ch = curl_init("http://do.convertapi.com/Pdf2Image");
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        curl_setopt($ch, CURLOPT_HEADER, 1);
        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, $postdata);
        $result = curl_exec($ch);
        $headers = curl_getinfo($ch);

        $header = ParseHeader(substr($result, 0, $headers["header_size"]));
        $body = substr($result, $headers["header_size"]);

        curl_close($ch);
        if (0 < $headers['http_code'] && $headers['http_code'] < 400) {
            // Check for Result = true

            if (in_array('Result', array_keys($header)) ? !$header['Result'] == "True" : true) {
                $message = "Something went wrong with request, did not reach ConvertApi service.<br />";
                return false;
            }
            // Check content type 
            switch ($headers['content_type']) {
                case "image/jpeg":
                    $ext = ".jpg";
                    break;
                case "application/x-zip-compressed":
                    $ext = ".zip";
                    break;
                default :
                    $message = "Exception Message : returned content is not correct.<br />";
                    return false;
            }

            $fp = fopen($pathToSaveOutputFile . $fileName . $ext, "wbx");

            fwrite($fp, $body);

            $message = "The conversion was successful! The pdf file $fileToConvert converted to JPEG and saved at $pathToSaveOutputFile$fileName$ext";
            return true;
        } else {
            $message = "Exception Message : " . $result . ".<br />Status Code :" . $headers['http_code'] . ".<br />";
            echo $message;
            return false;
        }
    } catch (Exception $e) {
        $message = "Exception Message :" . $e . Message . "</br>";
        return false;
    }
}
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>
            Conversion PDF to JPEG
        </title>
    </head>
    <body>
        <div style="width: 600px; margin: auto;">
            <h3>Conversion example of PDF to JPEG using Rest API <a href="http://www.convertapi.com" target="_blanks">http://www.convertapi.com</a></h3>
            <form method="post" action="" id="word2pdf_form" enctype="multipart/form-data">
                Please choose PDF document(pdf file) from your computer
                <br />
                <input type="file" name="FileUpload" id="FileUpload" style="width:600px;">
                    <br />
                    <input name="txtApiKey" type="hidden" id="txtApiKey" value="" style="width:600px;"/>
                    <br />
                    <div style="text-align: center">
                        <input type="submit" name="btnConvert" value="Convert" id="btnConvert" />
                     </div>
             </form>
              <br />
                <?php
                if (isset($_FILES["FileUpload"]['name']) && $_FILES['FileUpload']['size'] > 0 && $_FILES['FileUpload']['error'] == 0) {
                    $physicalPath = dirname(__FILE__) . "/files/";

                    if (!file_exists($physicalPath)) {
                        mkdir($physicalPath, 0777);
                    }
                    $uploadedFile = $physicalPath . $_FILES["FileUpload"]['name'];

                    $apiKey = $_REQUEST["txtApiKey"];

                    if (!move_uploaded_file($_FILES["FileUpload"]["tmp_name"], $uploadedFile))
                        die("CANNOT MOVE {$_FILES['FileUpload']['name']}" . PHP_EOL);
                    $message = "";
                    chmod($uploadedFile, 0755);
                    $result = CallToApi($uploadedFile, $physicalPath, $apiKey, &$message);
                    echo "<span id='lblStatus'" . ($result ? "" : "style='color:red'") . " >" . $message . "</span>";
                }
                else {
                    echo in_array("btnConvert", $_REQUEST) ? "<span id='lblStatus' style='color:Red;'>  Please select PDF document!</span>" : "<span id='lblStatus'>Please select a PDF document and click Convert button.</span>";
                }
                ?>
        </div>
    </body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T20:54:37.737

好的，发现它实际上是被发回的 ZIP 文件，这就是我收到错误的原因。

# java - 基础对象工厂和基于字符串继承对象而不在java中使用强制转换

> ID：13304535
> 
> 赞同：-1
> 
> 时间：2012-11-09T08:27:52.617
> 
> 标签：java, reflection

假设我们有：

```
abstract class Item {   public Item(){}}
abstract class ExtraItem extends Item {  public ExtraItem(){}}
class A extends Item{ public A(){}}
class B extends Item{ public B(){}}
class C extends Item{ public C(){}}
class EA extends ExtraItem{ public A(){}}
class EB extends ExtraItem{ public B(){}}
class EC extends ExtraItem{ public C(){}} 
```

我想写这样的工厂类但没有强制转换：

```
 class Factory {

       Item createItem(String className){
                Class clazz = Class.forName(className);
                return (Item) clazz.newInstance(); //I don't want here cast to Item    
    }
    ExtraItem createExtraItem(String className){
               Class<? extends ExtraItem> clazz = (Class<? extends ExtraItem>)   Class.forName(className); // I don't want here cast to Extraitem
                return clazz.newInstance();
        }
    } 
```

我试着像上面那样写（当然有演员表）：

```
@SuppressWarnings("unchecked")
public static <T extends Item> T createItem(String protocolType) {
    try {
        String className = protocolType;
        Class<?> clazz = Class.forName(className);                        
        return (T) clazz.newInstance();
    } catch (Exception e) {
        Log.e("ItemFactory", "Lack key \"" + protocolType + "\" in map: " + e.getLocalizedMessage());
    }
    return null;
} 
```

但是如何在这里使用 Class.cast() 方法？这是更好的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:18:12.340

如果只是您不喜欢编译器警告，那么您可以使用`Class.asSubclass`它为您进行检查：

```
Class<? extends Item> clazz = Class.forName(className).asSubclass(Item.class); 
```

和相同的原理`ExtraItem`。如果`ClassCastException`命名的类实际上不是`Item`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:37:11.000

当您在字符串中传递 className 时，您无法避免强制转换。由于您没有类型，我将创建 a`Class<?>`并且`newInstance()`结果将带有`Object`.

如果你不想强制转换，你应该传递你想要创建实例的类的 Class 实例。

演员旁边是正常的操作，所以避免它没有太大的意义。请记住，大多数代码在您对其进行编程时都可以正常工作。如果您确定传递的字符串可以创建继承的类，则可以强制转换`Item`而不会产生任何意外后果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:59:32.150

如果您根本不想强制转换，请将您的方法签名更改为：

```
class Factory {
    <T extends Item> T createItem(Class<T> itemClass) {
        try {
            return itemClass.newInstance();
        } catch (RuntimeException e) {
            throw e;
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }

    <T extends ExtraItem> T createExtraItem(Class<T> itemClass) {
        return createItem(item);
    }
} 
```

# c# - 只修剪空白，没有转义字符

> ID：13304536
> 
> 赞同：2
> 
> 时间：2012-11-09T08:28:08.823
> 
> 标签：c#

这是我的字符串：

```
"\tsome text\t\t\t\t" 
```

当我这样做时：

```
"\tsome text\t\t\t\t".Trim() 
```

\t 也被删除。如何避免这种情况？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-09T08:31:58.180

```
"\tsome text\t\t\t\t".Trim(' ') 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-09T08:32:33.673

如果你写：

```
string x = "\tsome text\t\t\t\t"; 
```

该字符串实际上在任何地方都不包含“反斜杠 t”。它包含制表符，它们是空格。`Trim()`修剪空白，因此它删除了选项卡。

重要的是您要了解这*只是*`"\t"`选项卡的源代码表示。到代码执行时，字符串不知道其数据来自何处——它只知道有选项卡。

 *现在，如果您只想修剪*一些*空白字符，请使用[允许您指定要修剪的字符的重载](http://msdn.microsoft.com/en-us/library/d4tt83f9.aspx)。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-11-09T08:57:02.840

`Trim()`将从您的字符串中修剪所有空白字符（' '、\t、\v、\r、\n、\f）。如果您只想修剪字符串中的空格，您可以这样做：

> `Trim(' ')`

或者如果你想修剪空格、回车和换行，你可以这样做：

> `Trim(new char[] { ' ', '\r', '\n' })`*

# javascript - Javascript - 基于另一个数组对数组进行排序

> ID：13304543
> 
> 赞同：262
> 
> 时间：2012-11-09T08:29:02.527
> 
> 标签：javascript

是否可以对如下所示的数组进行排序和重新排列：

```
itemsArray = [ 
    ['Anne', 'a'],
    ['Bob', 'b'],
    ['Henry', 'b'],
    ['Andrew', 'd'],
    ['Jason', 'c'],
    ['Thomas', 'b']
] 
```

匹配这个数组的排列：

```
sortingArr = [ 'b', 'c', 'b', 'b', 'a', 'd' ] 
```

不幸的是，我没有任何 ID 可以跟踪。我需要优先考虑 items-array 以匹配 sortArr 尽可能接近。

更新：

这是我正在寻找的输出：

```
itemsArray = [    
    ['Bob', 'b'],
    ['Jason', 'c'],
    ['Henry', 'b'],
    ['Thomas', 'b']
    ['Anne', 'a'],
    ['Andrew', 'd'],
] 
```

知道如何做到这一点吗？

* * *

## 回答 #1

> 赞同：430
> 
> 时间：2017-05-19T06:59:37.223

单行答案。

```
itemsArray.sort(function(a, b){  
  return sortingArr.indexOf(a) - sortingArr.indexOf(b);
}); 
```

甚至更短：

```
itemsArray.sort((a, b) => sortingArr.indexOf(a) - sortingArr.indexOf(b)); 
```

* * *

## 回答 #2

> 赞同：94
> 
> 时间：2012-11-09T08:57:09.050

就像是：

```
items = [ 
    ['Anne', 'a'],
    ['Bob', 'b'],
    ['Henry', 'b'],
    ['Andrew', 'd'],
    ['Jason', 'c'],
    ['Thomas', 'b']
]

sorting = [ 'b', 'c', 'b', 'b', 'c', 'd' ];
result = []

sorting.forEach(function(key) {
    var found = false;
    items = items.filter(function(item) {
        if(!found && item[1] == key) {
            result.push(item);
            found = true;
            return false;
        } else 
            return true;
    })
})

result.forEach(function(item) {
    document.writeln(item[0]) /// Bob Jason Henry Thomas Andrew
}) 
```

这是一个较短的代码，但它破坏了`sorting`数组：

```
result = items.map(function(item) {
    var n = sorting.indexOf(item[1]);
    sorting[n] = '';
    return [n, item]
}).sort().map(function(j) { return j[1] }) 
```

* * *

## 回答 #3

> 赞同：47
> 
> 时间：2012-11-09T08:46:59.167

如果您使用原生数组排序功能，您可以传入自定义比较器以在对数组进行排序时使用。如果第一个值小于第二个值，比较器应该返回一个负数，如果它们相等则返回零，如果第一个值更大，则比较器应该返回一个正数。

因此，如果我理解您正确给出的示例，您可以执行以下操作：

```
function sortFunc(a, b) {
  var sortingArr = [ 'b', 'c', 'b', 'b', 'c', 'd' ];
  return sortingArr.indexOf(a[1]) - sortingArr.indexOf(b[1]);
}

itemsArray.sort(sortFunc); 
```

* * *

## 回答 #4

> 赞同：31
> 
> 时间：2014-12-05T05:21:33.067

## 案例 1：原始问题（无库）

许多其他有效的答案。:)

## 案例 2：原始问题（Lodash.js 或 Underscore.js）

```
var groups = _.groupBy(itemArray, 1);
var result = _.map(sortArray, function (i) { return groups[i].shift(); }); 
```

## 案例 3：像 Array2 一样对 Array1 进行排序

我猜大多数人来这里是为了寻找与 PHP 的 array_multisort 等效的（我做过），所以我想我也会发布这个答案。有几个选项：

1\. array_multisort() 有一个现有的[JS 实现](http://phpjs.org/functions/array_multisort/)。感谢@Adnan 在评论中指出。不过，它相当大。

2\. 自己写。（[JSFiddle 演示](https://jsfiddle.net/donmccurdy/gL9c3cny/)）

```
function refSort (targetData, refData) {
  // Create an array of indices [0, 1, 2, ...N].
  var indices = Object.keys(refData);

  // Sort array of indices according to the reference data.
  indices.sort(function(indexA, indexB) {
    if (refData[indexA] < refData[indexB]) {
      return -1;
    } else if (refData[indexA] > refData[indexB]) {
      return 1;
    }
    return 0;
  });

  // Map array of indices to corresponding values of the target array.
  return indices.map(function(index) {
    return targetData[index];
  });
} 
```

3\. [Lodash.js](https://lodash.com)或[Underscore.js](http://underscorejs.org/)（两者都是流行的，专注于性能的小型库）提供帮助函数，允许您执行以下操作：

```
 var result = _.chain(sortArray)
      .pairs()
      .sortBy(1)
      .map(function (i) { return itemArray[i[0]]; })
      .value(); 
```

...这将（1）将 sortArray 分组为`[index, value]`对，（2）按值对它们进行排序（您也可以在此处提供回调），（3）将每个对替换为 itemArray 索引处的项目对起源于。

* * *

## 回答 #5

> 赞同：23
> 
> 时间：2016-12-07T22:19:48.193

这可能为时已晚，但您也可以使用 ES6 风格的以下代码的一些修改版本。此代码适用于以下数组：

```
var arrayToBeSorted = [1,2,3,4,5];
var arrayWithReferenceOrder = [3,5,8,9]; 
```

实际操作：

```
arrayToBeSorted = arrayWithReferenceOrder.filter(v => arrayToBeSorted.includes(v)); 
```

ES5 中的实际操作：

```
arrayToBeSorted = arrayWithReferenceOrder.filter(function(v) {
    return arrayToBeSorted.includes(v);
}); 
```

应该导致`arrayToBeSorted = [3,5]`

不破坏参考数组。

* * *

## 回答 #6

> 赞同：17
> 
> 时间：2019-02-27T19:49:24.920

为什么不喜欢

```
//array1: array of elements to be sorted
//array2: array with the indexes

array1 = array2.map((object, i) => array1[object]); 
```

地图功能可能不适用于所有版本的`Javascript`

* * *

## 回答 #7

> 赞同：15
> 
> 时间：2020-09-24T14:32:24.460

```
function sortFunc(a, b) {
  var sortingArr = ["A", "B", "C"];
  return sortingArr.indexOf(a.type) - sortingArr.indexOf(b.type);
}

const itemsArray = [
  {
    type: "A",
  },
  {
    type: "C",
  },
  {
    type: "B",
  },
];
console.log(itemsArray);
itemsArray.sort(sortFunc);
console.log(itemsArray);
```

* * *

## 回答 #8

> 赞同：8
> 
> 时间：2012-11-09T09:08:46.877

我会使用中间对象 ( `itemsMap`)，从而避免二次复杂性：

```
function createItemsMap(itemsArray) { // {"a": ["Anne"], "b": ["Bob", "Henry"], …}
  var itemsMap = {};
  for (var i = 0, item; (item = itemsArray[i]); ++i) {
    (itemsMap[item[1]] || (itemsMap[item[1]] = [])).push(item[0]);
  }
  return itemsMap;
}

function sortByKeys(itemsArray, sortingArr) {
  var itemsMap = createItemsMap(itemsArray), result = [];
  for (var i = 0; i < sortingArr.length; ++i) {
    var key = sortingArr[i];
    result.push([itemsMap[key].shift(), key]);
  }
  return result;
} 
```

见[http://jsfiddle.net/eUskE/](http://jsfiddle.net/eUskE/)

* * *

## 回答 #9

> 赞同：6
> 
> 时间：2012-11-09T09:08:09.603

```
var sortedArray = [];
for(var i=0; i < sortingArr.length; i++) {
    var found = false;
    for(var j=0; j < itemsArray.length && !found; j++) {
        if(itemsArray[j][1] == sortingArr[i]) {
            sortedArray.push(itemsArray[j]);
            itemsArray.splice(j,1);
            found = true;
        }
    }
} 
```

[http://jsfiddle.net/s7b2P/](http://jsfiddle.net/s7b2P/)

结果顺序：Bob、Jason、Henry、Thomas、Anne、Andrew

* * *

## 回答 #10

> 赞同：6
> 
> 时间：2020-02-29T17:04:41.783

ES6

```
const arrayMap = itemsArray.reduce(
  (accumulator, currentValue) => ({
    ...accumulator,
    [currentValue[1]]: currentValue,
  }),
  {}
);
const result = sortingArr.map(key => arrayMap[key]); 
```

更多不同输入数组的[示例](https://coding4.gaiama.org/en/es6-sort-an-array-based-on-another-array)

* * *

## 回答 #11

> 赞同：6
> 
> 时间：2020-07-07T21:12:16.230

如果您到这里需要对一组对象执行此操作，这里是对@Durgpal Singh 的精彩回答的改编：

```
const itemsArray = [
  { name: 'Anne', id: 'a' },
  { name: 'Bob', id: 'b' },
  { name: 'Henry', id: 'b' },
  { name: 'Andrew', id: 'd' },
  { name: 'Jason', id: 'c' },
  { name: 'Thomas', id: 'b' }
]

const sortingArr = [ 'b', 'c', 'b', 'b', 'a', 'd' ]

Object.keys(itemsArray).sort((a, b) => {
  return sortingArr.indexOf(itemsArray[a].id) - sortingArr.indexOf(itemsArray[b].id);
}) 
```

* * *

## 回答 #12

> 赞同：4
> 
> 时间：2018-06-12T11:22:55.007

```
let a = ['A', 'B', 'C' ]

let b = [3, 2, 1]

let c = [1.0, 5.0, 2.0]

// these array can be sorted by sorting order of b

const zip = rows => rows[0].map((_, c) => rows.map(row => row[c]))

const sortBy = (a, b, c) => {
  const zippedArray = zip([a, b, c])
  const sortedZipped = zippedArray.sort((x, y) => x[1] - y[1])

  return zip(sortedZipped)
}

sortBy(a, b, c) 
```

* * *

## 回答 #13

> 赞同：3
> 
> 时间：2018-09-25T06:13:57.457

这就是我一直在寻找的东西，并且我根据另一个数组对数组数组进行排序：

> 它是 On^3 并且可能不是最佳实践（ES6）

```
function sortArray(arr, arr1){
      return arr.map(item => {
        let a = [];
        for(let i=0; i< arr1.length; i++){
          for (const el of item) {
            if(el == arr1[i]){
              a.push(el);
            }   
            }
          }
          return a;
      });
    }

    const arr1 = ['fname', 'city', 'name'];
  const arr = [['fname', 'city', 'name'],
  ['fname', 'city', 'name', 'name', 'city','fname']];
  console.log(sortArray(arr,arr1));
```

它可能会帮助某人

* * *

## 回答 #14

> 赞同：3
> 
> 时间：2018-10-31T13:21:56.167

为了获得一个新的有序数组，您可以使用 a[`Map`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map)并收集数组中具有所需键的所有项目，并通过获取所需组的筛选元素来映射所需的有序键。

```
var itemsArray = [['Anne', 'a'], ['Bob', 'b'], ['Henry', 'b'], ['Andrew', 'd'], ['Jason', 'c'], ['Thomas', 'b']],
    sortingArr = [ 'b', 'c', 'b', 'b', 'a', 'd' ],
    map = itemsArray.reduce((m, a) => m.set(a[1], (m.get(a[1]) || []).concat([a])), new Map),
    result = sortingArr.map(k => (map.get(k) || []).shift());

console.log(result);
```

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2017-02-13T22:56:07.357

我必须为从 API 收到的 JSON 有效负载执行此操作，但它不是我想要的顺序。

数组作为参考数组，您希望第二个数组按以下方式排序：

```
var columns = [
    {last_name: "last_name"},
    {first_name: "first_name"},
    {book_description: "book_description"},
    {book_id: "book_id"},
    {book_number: "book_number"},
    {due_date: "due_date"},
    {loaned_out: "loaned_out"}
]; 
```

我将这些作为对象进行，因为它们最终将具有其他属性。

创建的数组：

```
 var referenceArray= [];
 for (var key in columns) {
     for (var j in columns[key]){
         referenceArray.push(j);
     }
  } 
```

将此与数据库中的结果集一起使用。我不知道它的效率如何，但我使用的列数很少，它工作得很好。

```
result.forEach((element, index, array) => {                            
    var tr = document.createElement('tr');
    for (var i = 0; i < referenceArray.length - 1; i++) {
        var td = document.createElement('td');
        td.innerHTML = element[referenceArray[i]];
        tr.appendChild(td);

    }
    tableBody.appendChild(tr);
}); 
```

* * *

## 回答 #16

> 赞同：2
> 
> 时间：2019-03-11T16:07:50.803

```
let sortedOrder = [ 'b', 'c', 'b', 'b' ]
let itemsArray = [ 
    ['Anne', 'a'],
    ['Bob', 'b'],
    ['Henry', 'b'],
    ['Andrew', 'd'],
    ['Jason', 'c'],
    ['Thomas', 'b']
]
a.itemsArray(function (a, b) {
    let A = a[1]
    let B = b[1]

    if(A != undefined)
        A = A.toLowerCase()

    if(B != undefined)
        B = B.toLowerCase()

    let indA = sortedOrder.indexOf(A)
    let indB = sortedOrder.indexOf(B)

    if (indA == -1 )
        indA = sortedOrder.length-1
    if( indB == -1)
        indB = sortedOrder.length-1

    if (indA < indB ) {
        return -1;
    } else if (indA > indB) {
        return 1;
    }
    return 0;
}) 
```

如果参考数组中不存在排序键，此解决方案将在末尾附加对象

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2021-02-03T17:20:32.890

```
 const result = sortingArr.map((i) => {
    const pos = itemsArray.findIndex(j => j[1] === i);
    const item = itemsArray[pos];
    itemsArray.splice(pos, 1);
    return item;
  }); 
```

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2012-11-09T09:05:32.187

这应该有效：

```
var i,search, itemsArraySorted = [];
while(sortingArr.length) {
    search = sortingArr.shift();
    for(i = 0; i<itemsArray.length; i++) {
        if(itemsArray[i][1] == search) {
            itemsArraySorted.push(itemsArray[i]);
            break;
        }
    } 
}

itemsArray = itemsArraySorted; 
```

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2019-02-01T07:50:09.030

你可以试试这个方法。

```
const sortListByRanking = (rankingList, listToSort) => {
  let result = []

  for (let id of rankingList) {
    for (let item of listToSort) {
      if (item && item[1] === id) {
        result.push(item)
      }
    }
  }

  return result
} 
```

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2020-10-09T13:52:28.967

使用数字排序Arr：

```
itemsArray.sort(function(a, b){  
  return sortingArr[itemsArray.indexOf(a)] - sortingArr[itemsArray.indexOf(b)];
}); 
```

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2021-08-13T01:47:53.140

这似乎对我有用：

```
var outputArray=['10','6','8','10','4','6','2','10','4','0','2','10','0'];
var template=['0','2','4','6','8','10'];
var temp=[];

for(i=0;i<template.length;i++) {
  for(x=0;x<outputArray.length;x++){
    if(template[i] == outputArray[x]) temp.push(outputArray[x])
  };
}

outputArray = temp;
alert(outputArray) 
```

* * *

## 回答 #22

> 赞同：-1
> 
> 时间：2012-11-09T08:36:23.867

使用 jQuery 中的 $.inArray() 方法。然后你可以做这样的事情

```
var sortingArr = [ 'b', 'c', 'b', 'b', 'c', 'd' ];
var newSortedArray = new Array();

for(var i=sortingArr.length; i--;) {
 var foundIn = $.inArray(sortingArr[i], itemsArray);
 newSortedArray.push(itemsArray[foundIn]);
} 
```

* * *

## 回答 #23

> 赞同：-1
> 
> 时间：2016-09-28T18:24:15.867

使用两个数组的交集。

前任：

```
var sortArray = ['a', 'b', 'c',  'd', 'e'];

var arrayToBeSort = ['z', 's', 'b',  'e', 'a'];

_.intersection(sortArray, arrayToBeSort) 
```

=> ['a', 'b', 'e']

如果 'z 和 's' 超出第一个数组的范围，则将其附加到结果的末尾

* * *

## 回答 #24

> 赞同：-1
> 
> 时间：2020-11-24T06:11:48.887

```
this.arrToBeSorted =  this.arrToBeSorted.sort(function(a, b){  
  return uppthis.sorrtingByArray.findIndex(x => x.Id == a.ByPramaeterSorted) - uppthis.sorrtingByArray.findIndex(x => x.Id == b.ByPramaeterSorted);
}); 
```

* * *

## 回答 #25

> 赞同：-5
> 
> 时间：2012-11-09T08:37:28.673

你可以这样做：

```
function getSorted(itemsArray , sortingArr ) {
  var result = [];
  for(var i=0; i<arr.length; i++) {
    result[i] = arr[sortArr[i]];
  }
  return result;
} 
```

[你可以在这里测试一下](http://www.jsfiddle.net/nick_craver/B96S7/1/)。

*注意：*这假设您传入的数组大小相等，如果不是这种情况，您需要添加一些额外的检查。

参考[链接](https://stackoverflow.com/questions/4046967/javascript-sort-an-array-based-on-another-array-of-integers/4046990#4046990)

[参考](https://stackoverflow.com/questions/5427141/quickest-way-to-sort-a-js-array-based-on-another-arrays-values/5427223#5427223)

# c# - 在运行时使用 textrun 对象创建文本块

> ID：13304546
> 
> 赞同：0
> 
> 时间：2012-11-09T08:29:34.923
> 
> 标签：c#, wpf

我试图在运行时使用 runobject 创建一个 TextBlock。我需要文本块来显示以下文本：

请***点击这里***进入下一页。

点击这里应该是一个“链接”，用户可以点击它，他将移动到下一个tabitem ..

我有：

```
var tbGoToNextTab = new TextBlock
 {
  Content = "Please Click Here to go to next Page.",
  Foreground = new SolidColorBrush(Colors.Black)
 };

 tbGoToNextTab .Click +=new RoutedEventHandler(tbGoToNextTab_Click); 
```

我如何才能使 Click Here Clickable、具有下划线和蓝色文本颜色并在单击它时执行操作？

提前致谢

# 编辑：

我只想要 2 个单词“单击此处”可点击……其余的应该显示为普通文本。我想我应该用内联来做这件事。有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T09:04:06.427

像这样的东西？（未经测试）

```
var hyperlink    = new HyperLink(new Run("Click Here"));
hyperlink.Click += new RoutedEventHandler(tbGoToNextTab_Click);

var span = new Span();
span.Inlines.Add(new Run("Please "));
span.Inlines.Add(hyperlink);
span.Inlines.Add(new Run(" to go to next Page"));

var tbGoToNextTab = new TextBlock
{
  Content = span,
  Foreground = new SolidColorBrush(Colors.Black)
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T09:03:51.300

好的找到答案...

正如我想的那样，我必须使用 Inline 属性..

我在这篇文章中找到了答案：

[将超链接添加到来自 Stanislav Kniazev 的 textblock wpf](https://stackoverflow.com/a/2093016/298487)

谢谢大家...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:44:59.517

要管理左键单击操作，请在`PreviewMouseLeftButtonDown`

```
tbGoToNextTab.PreviewMouseLeftButtonDown += OntbGoToNextTabPreviewMouseLeftButtonDown;

void OntbGoToNextTabPreviewMouseLeftButtonDown(object sender, System.Windows.Input.MouseButtonEventArgs e)
    {
        // write code here...
    } 
```

要管理下划线和颜色更改，请在 xaml 中编写一个`Style`，在此样式中放置一个`Trigger`将更改您`TextBlock`对`IsMouseOver`属性更改的内容。

```
<Window.Resources>
    <Style x:Key="HyperLinkStyle" TargetType="{x:Type TextBlock}">
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="TextDecorations" Value="Underline" />
            </Trigger>
        </Style.Triggers>
    </Style>
</Window.Resources>

tbGoToNextTab.Style = FindResource("HyperLinkStyle") as Style; 
```

您必须专门为可点击文本声明一个 TextBlock，为静态文本声明其他 TextBlock。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T08:43:19.680

有这样的东西..文本块作为按钮中的内容..使其可点击。

```
 Canvas pnel = new Canvas();
        var btntab = new Button();
        var tbGoToNextTab1 = new TextBlock();
        var tbGoToNextTab2 = new TextBlock();
        var tbGoToNextTab3 = new TextBlock();
        tbGoToNextTab1.Text = "Please ";
        tbGoToNextTab2.Text = "Click Here";
        tbGoToNextTab3.Text = " to go to next Page.";
        tbGoToNextTab1.Margin = new Thickness(0, 0, 0, 0);
        btntab.Margin = new Thickness(40, 0, 0, 0);
        tbGoToNextTab3.Margin = new Thickness(95, 0, 0, 0);
        tbGoToNextTab1.Foreground = new SolidColorBrush(Colors.Black);
        tbGoToNextTab2.Foreground = new SolidColorBrush(Colors.Black);
        tbGoToNextTab3.Foreground = new SolidColorBrush(Colors.Black);
        btntab.Click += new RoutedEventHandler(btntab_Click);
        btntab.Content = tbGoToNextTab2;
        pnel.Children.Add(tbGoToNextTab1);
        pnel.Children.Add(btntab);
        pnel.Children.Add(tbGoToNextTab3);
        Text112.Children.Add(pnel); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-09T09:05:19.463

如果您`Click`为 处理事件`TextBlock`，它将处理控件边界内的*任意位置的单击。*

如果您只需要部分文本可点击，则应`Hyperlink`在`TextBlock`. 顺便说一句，它还有一个额外的好处是*突出显示可点击区域*，这样您就不会与不可点击的“点击此处”文字混淆。

这是相关的 WPF 片段：

```
<TextBlock>
    <Run>Please</Run>
    <Hyperlink>
        <Run Text="Click Here"/>
    </Hyperlink>
    <Run>to go to next Page.</Run>
</TextBlock> 
```

# asp.net-mvc-3 - 在控制器 MVC3 中获取空值

> ID：13304552
> 
> 赞同：2
> 
> 时间：2012-11-09T08:30:15.593
> 
> 标签：asp.net-mvc-3

我是 MVC3 的新手，并且有一个带有一个操作的控制器。我在控制器类中定义了一些全局属性，并在操作方法中为这些属性分配了值。前任：

```
 public class RosterController : Controller
   {
   int var1;
   int var2;
   int var3;
   public ActionResult Index(int param1)
   {
      if(param1 ==1)
      {
         return view(newRosterViewModel(var1+1,var2+2,var3+3));
      }
      else
      {
         var1=1;
         var2=2;
         var3=3;
         return view(newRosterViewModel(var1,var2,var3));
      }
      }
   } 
```

在此代码中，第一次将值分配给`var1`, `var2`, `var3`。第二次我需要这些值，但值为空。

我尝试使用 TempData，但也没有保持价值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T08:43:02.240

> 但值为空。

我想你会发现它们的值为 0（零），这是整数字段的默认值。

每个映射到的请求都`RosterController`将导致创建一个*新的实例*，`RosterController`这避免了并发请求混淆其控制器状态的任何问题。

要将信息从一个请求持久化到另一个请求，有很多选项（数据库、会话、cookie、应用程序……），但控制器实例的状态不是其中之一。跨请求的正确持久性方法取决于需求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T08:47:09.993

您可以将变量设为静态。使您的变量静态意味着 - 它们的生命周期延伸到程序的整个运行。

像这样声明静态

```
private static int var1;
private static int var2;
private static int var3; 
```

**但首先请告诉我们您的确切用例**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T08:42:40.853

为什么不让它们成为静态的？

```
private static int var1; 
```

或使用缓存或会话

```
HttpRuntime.Cache.Add("var1", value);

var var1= HttpRuntime.Cache.Get("var1"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T12:23:52.293

当您渲染视图时，您应该再次将此变量传递给控制器​​，因为在每次请求时都会重新创建控制器：

```
public class RosterController : Controller
{
int var1 = 0;
int var2 = 0;
int var3 = 0;
public ActionResult Index(int param1, int var1, int var2, int var3)
{
  if(param1 ==1)
  {
     return view(newRosterViewModel(var1+1,var2+2,var3+3));
  }
  else
  {
     var1=1;
     var2=2;
     var3=3;
     return view(newRosterViewModel(var1,var2,var3));
  }
  }
} 
```

# c# - 如何为按钮制作克隆？

> ID：13304560
> 
> 赞同：1
> 
> 时间：2012-11-09T08:30:43.003
> 
> 标签：c#, user-interface, button, unity3d

我需要*在下面的代码中创建允许克隆按钮的新按钮*，请分享一些想法、代码、链接、脚本。我会很高兴得到任何帮助。先感谢您！

```
using UnityEngine;
using System.Collections;

public class hibye: MonoBehaviour 
{

    public string slectedItem = "fd";
    private bool editing = false;

    private void OnGUI()
    {   
        if ( GUILayout.Button(slectedItem))
        {
            editing = true;
        }

        if (editing)
        {
            string[] sig = {"Banana","Apple","Orange"};

            for (int x = 0; x < sig.Length ; x++)
            {
                if (GUILayout.Button(sig[x]))
                {
                    slectedItem = sig[x];
                    editing = false;    

                }
            }
        }

                }
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T19:27:57.333

如果你的意思是你想在你点击的那一刻为 Apple bannana 等制作一个新按钮？

尝试这个：

```
for (int x = 0; x < sig.Length ; x++)
{
  GUI.Button(new rect(0,0,0,0),sig[x]));
} 
```

对于可点击的可执行按钮使用

```
for (int x = 0; x < sig.Length ; x++)
{
  if(GUI.Button(new rect(0,0,0,0),sig[x]))
  {
  }
} 
```

希望这有点用，因为它有点晚了^^

# firefox - 开发一个适当的Firefox扩展（不是首先通过编码到xpi）？

> ID：13304571
> 
> 赞同：3
> 
> 时间：2012-11-09T08:31:47.480
> 
> 标签：firefox, firefox-addon, edit-in-place

为 Mozilla Firefox 开发扩展我想知道我现在所做的是否有“更简单的方法”。目前我做：

1.  创建一个文件夹——在其中开发——例如`myextension`

2.  在此文件夹中：创建和编辑文件（如 install.rdf、chrome.manifest、xul 文件。基本上是 Firefox 扩展的所有其他结构（**这里没问题**））

3.  将内容压缩`myextension`到 ZIP 文件（即名为 myextension.zip）

4.  将 myextension.zip 重命名为 myextension.xpi

5.  安装 xpi-file-firefox-extension 然后在 firefox

6.  重启火狐

7.  测试扩展

每次编辑扩展的代码库后，我需要经历 3\. zip-compress，4\. 重命名，5\. 将 XPI 文件安装到 firefox，6 重新启动浏览器的过程。

当然我可以自动化其中的一些，但我仍然想知道是否有另一种方法可以直接在运行的 firefox 配置文件文件夹中开发 firefox 扩展。

我知道的扩展存储在 Firefox 配置文件文件夹中： `firefox/profile/extensions/nameofextension.xpi`

我记不太清了，但我认为有一种方法可以将扩展名也解压缩为一个文件夹存储在那里？这样我仍然需要在编辑后重新启动，但不需要进行所有繁琐的压缩-重命名-安装。

有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-10T08:16:38.527

可以设置一个目录来“就地编辑”一个 firefox 扩展。这样可以减少 Firefox 扩展的编辑和测试之间的工作量。

我在博客[https://blog.mozilla.org/addons/2009/01/28/how-to-develop-a-firefox-extension/上找到了很好的解释](https://blog.mozilla.org/addons/2009/01/28/how-to-develop-a-firefox-extension/)

在这里，我想给出实现“就地编辑”所需的主要步骤

第 1 步：您必须找到Firefox 的**配置文件目录**。例如在 Linux 中，这通常是这样的： `~/.mozilla/firefox/#%#%.default/`

第 2 步：转到此**配置文件目录**

第 3 步：如果您已经安装了任何扩展程序（例如 adblock+ 或 noscript），那么在此**配置文件目录**中，您将找到一个名为**extensions**的文件夹。如果您还没有安装任何额外的扩展，可能很容易安装任何扩展，只需为您设置 **extensions" 文件夹。

第 4 步：在此**扩展**文件夹中，您可以创建一个新目录（让我们将其命名为“myextensions_1”），其中应包含插件的内容。这些东西是普通的东西，比如`install.rdf`,`chrome.manifest`文件和`content`, `skin`,`locale`子目录。实际上，您通常会压缩所有内容以成为 XPI 文件。

`<em:id>`步骤 5\. 创建一个与您在 ìnstall.rdf 文件中使用的标签内容相同的文件。因此，如果您使用过，则`<em:id>myextensionname@author.org</em:id>`需要创建一个名为`myextensionname@author.org`. 在此文件中，您将写入我们之前创建的“就地编辑扩展文件夹”的位置。在我们的示例中，我们将拥有

*   文件`myextensionname@author.org`
*   仅包含文本`~/.mozilla/firefox/#%#%.default/extensions/myextensions_1`

当然，文本取决于您用于插件的文件夹的位置。

如果您正确地做所有事情 - 并且可能使用上面链接的说明进行了仔细检查 - 您可以重新启动或“新启动”firefox。浏览器会询问您是否要允许使用插件**myextensionname@author.org**，您可以同意。

Now you can edit in the folder `~/.mozilla/firefox/#%#%.default/extensions/myextensions_1` and need not to worry about zipping-up -> renaming -> installing. You simple restart Firefox and the edits to your extensions code will become available.

This will allow you swifter and faster developing "in-place".

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T08:44:08.797

注意：这是一个无耻的自插件 - 我说的是我自己创建的扩展。

就地开发扩展是可能的，但有很多问题（主要是各种缓存），这确实不是一个好的选择。不过，您可以大大简化您的开发周期。为此，您需要在 Firefox 中安装[Extension Auto-Installer](https://addons.mozilla.org/addon/autoinstaller/)插件。然后，您可以将批处理文件（假设您正在 Windows 上开发）放入您的扩展目录中，如下所示：

```
zip -r test.xpi * -xi *.bat *.xpi
wget --post-file=test.xpi http://localhost:8888/
del test.xpi 
```

所需的命令行工具都预装在基于 Unix 的系统上，对于 Windows，您可以轻松下载它们：[zip](http://www.info-zip.org/)、[wget](http://gnuwin32.sourceforge.net/packages/wget.htm)。

然后你只需要运行那个批处理文件来更新你在 Firefox 中的扩展。如果您的扩展程序不是无重启，那么 Firefox 将自动重启。所以这取代了你的步骤 3 到 6。

# postgresql - pg_column_size 如何小于 octet_length？

> ID：13304572
> 
> 赞同：14
> 
> 时间：2012-11-09T08:31:54.033
> 
> 标签：postgresql

我正在寻找通过引用列类型和长度大小来获得预期的表格大小。我正在尝试使用`pg_column_size`它。

在测试该功能时，我意识到此功能似乎有问题。

from 的结果值`pg_column_size(...)`有时甚至小于`octet_length(...)`同一字符串的返回值。

列中只有数字字符。

```
postgres=# \d+ t5
                           Table "public.t5"
 Column |       Type        | Modifiers | Storage  | Stats target | Description 
--------+-------------------+-----------+----------+--------------+-------------
 c1     | character varying |           | extended |              | 
Has OIDs: no

postgres=# select pg_column_size(c1), octet_length(c1) as octet from t5;
 pg_column_size | octet 
----------------+-------
              2 |     1
            704 |   700
            101 |  7000
            903 | 77000
(4 rows) 
```

这是错误还是什么？是否有人有一些公式可以根据列类型和长度值计算预期的表大小？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-09T08:37:36.310

我想说`pg_column_size`的是报告`TOAST`ed 值的压缩大小，而`octet_length`报告未压缩的大小。我还没有通过检查函数源或定义来验证这一点，但这是有道理的，尤其是当数字字符串压缩得很好时。您正在使用`EXTENDED`存储，因此这些值符合`TOAST`压缩条件。[请`TOAST`](http://www.postgresql.org/docs/current/static/storage-toast.html)参阅[文档](http://www.postgresql.org/docs/current/static/storage-toast.html)。

至于计算预期的数据库大小，这是一个全新的问题。正如您从以下演示中看到的那样，这取决于字符串的可压缩性等因素。

这是一个演示如何`octet_length`大于`pg_column_size`，演示 TOAST 的作用。首先，让我们在查询输出中获取 no`TOAST`起作用的结果：

```
regress=> SELECT octet_length(repeat('1234567890',(2^n)::integer)), pg_column_size(repeat('1234567890',(2^n)::integer)) FROM generate_series(0,12) n;
 octet_length | pg_column_size 
--------------+----------------
           10 |             14
           20 |             24
           40 |             44
           80 |             84
          160 |            164
          320 |            324
          640 |            644
         1280 |           1284
         2560 |           2564
         5120 |           5124
        10240 |          10244
        20480 |          20484
        40960 |          40964
(13 rows) 
```

现在让我们将相同的查询输出存储到表中并获取存储行的大小：

```
regress=> CREATE TABLE blah AS SELECT repeat('1234567890',(2^n)::integer) AS data FROM generate_series(0,12) n;
SELECT 13

regress=> SELECT octet_length(data), pg_column_size(data) FROM blah;
 octet_length | pg_column_size 
--------------+----------------
           10 |             11
           20 |             21
           40 |             41
           80 |             81
          160 |            164
          320 |            324
          640 |            644
         1280 |           1284
         2560 |             51
         5120 |             79
        10240 |            138
        20480 |            254
        40960 |            488
(13 rows) 
```

# algorithm - 如何检测一条线是否与另一个图形重合？

> ID：13304575
> 
> 赞同：1
> 
> 时间：2012-11-09T08:32:02.720
> 
> 标签：algorithm, visual-c++, geometry

我正在尝试编写一个程序来找到两点之间的最短路径。

我想出的是将起点连接到每个形状的所有顶点。这些点中的每一个都将连接到所有其他点 - 从而形成一种树。在圆形的情况下 - 线将达到与圆或弧相切的点（因为这是围绕对象的最短路径）。但是，那些穿过其他对象的线被丢弃。其余路径进行 *A** 搜索。

但是现在我如何让程序识别通过其他图形的线？我正在使用 Visual C++，所以我可以通过将某些坐标传递给相应的函数 ( `eg LineTo(21,23)`) 在客户区绘制形状。它如何知道一条线何时进入另一个图形？ ![在此处输入图像描述](../Images/c1813ac20437e022332edf10e7582aae.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:28:02.500

您可以区分两种情况：

要么这条线通过另一条线进入一个图形。在这种情况下，最简单的方法是用它们的方程（它们看起来像 ）来表示你的线（包括障碍物的边界`a*x + b*y +c = 0`）。然后决定两条线是否相交是一件很简单的事情：

*   两条线 ax+by+c=0 和 dx+ey+f=0 相交当且仅当它们不平行，即当且仅当 a*eb*d != 0

*   然后你必须检查这两条线的交点是否在你实际考虑的线段内。交点有坐标：

    *   y = ( cd - af ) / (ae - db)
    *   x = ( bf - ec ) / (ae - db)
*   剩下的唯一任务是检查这些 x 和 y 是否属于段（如果它们在定义段的区间内），然后对定义障碍的所有段重复此操作。

如果你有圆圈，它会变得更棘手（这就是为什么你通常只将多边形视为障碍物），但基本上它是相同的想法： - 你有一条线 ax+by+c=0 和一个圆圈 (xa)^2 + (yb)^2 = r^2（圆心 (a,b) 和半径 r）。然后您必须确定它们是否相交、相交点以及它是否属于您考虑的线段。我会把计算留给你。

如果您对在有障碍物的两点之间寻找路径的不同方法感兴趣，您可以使用其他算法，尽管这些算法不会为您提供最短路径，但仅提供路径：

*   [http://en.wikipedia.org/wiki/Sweep_line_algorithm](http://en.wikipedia.org/wiki/Sweep_line_algorithm)
*   [http://en.wikipedia.org/wiki/Voronoi_diagram](http://en.wikipedia.org/wiki/Voronoi_diagram)

与您正在构建的可见性图相比，这些算法的兴趣在于，这两个在您的任何维度上都有效：如果您想将算法升级到维度，您的算法将具有更高的复杂性（需要更多时间才能找到一条路径）然后这两个并不会产生最短路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T13:09:52.840

考虑到您迄今为止所做的简单算法：

1.  对于每个形状，将所有顶点存储在一个数组（或列表）中，以便它们出现在形状上（顺时针或逆时针没有区别）。这使您可以轻松地迭代任何给定对象的边缘，因为在这种情况下边缘是**(P [1] , P [2] )** , **(P [2] , P [3] )** , ... **(P [N] , P [1] )**其中**N**是数字的顶点。
2.  对于您要检查的每条线是否与任何对象碰撞，请遍历您表示的所有边，以及您要检查的线是否与任何边缘相交 - 线与给定对象碰撞。

检查线与边缘的交叉是一个几何问题。如果我们正在检查的线的边界点是**P [1] =(x [1] ,y [1] )**和**P [2] =(x [2] ,y [2] )**，并且边缘的边界点是**P [3] =(x [3] ,y [3] )**和**P [4] =(x [4] ,y [4] )**那么你应该求解线性系统：

> **(x [2] - x [1] ) y + (y [1] - y [2] ) x = x [1] y [2] - x [2] y [1]** ,
> **(x [4] - x [3] ) y + (y [3] - y [4] ) x = x [3] y [4] - x [4] y [3]**。

在获得**(x, y)**的值后，您应该检查它是否位于两条线（我们正在检查的线和边缘）的边界点之间的部分上。如果这是真的，那么您的线条会相互交叉。

**注意：**您可以通过在检查碰撞时不迭代每个对象的边缘来缩短运行时间，而只迭代那些位于直线路径中的对象。例如，这可以通过计算包含每个对象的最小矩形来完成，并检查您的线是否穿过该矩形，如果没有，则取消该对象的进一步检查。

# php - 编码以使用数组 Intersect 检查数据

> ID：13304578
> 
> 赞同：0
> 
> 时间：2012-11-09T08:32:32.113
> 
> 标签：php, arrays

我想检查将数据输入数据库。检查如下

```
$implode1 = "cat, dog, chicken";

$implode2 = "cow, goat, cat"; 
```

如果变量中的猫`$implode1`也包含在变量`$implode2`中，则应显示警告消息。如何为上述问题编码？

请帮帮我 ：（

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T08:46:52.897

您可以[`explode`](http://uk3.php.net/manual/en/function.explode.php)将字符串转换为数组，然后用于[`array_intersect`](http://php.net/manual/en/function.array-intersect.php)返回两者中都存在的值，例如：

```
$string1 = 'cat, dog, chicken';
$string2 = 'cow, goat, cat';

$compare = explode(', ', $string1);
$against = explode(', ', $string2);

$matches = array_intersect($compare, $against); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T08:49:23.107

```
$implode1 = "cat, dog, chicken";
$implode2 = "cow, goat, cat";

$imp1 = explode(', ',$implode1);
$imp2 = explode(', ',$implode2);

foreach($imp1 as $val){
    if(in_array($val,$imp2)) {
        echo "$val is present in $implode2";
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:41:55.620

循环第一个数组并检查第二个数组中是否存在任何元素 - 如下所示：

```
foreach($implode1 as $val){
if(in_array($val,$implode2)) {

    echo "$val is exists in the implode2 array";

       }
} 
```

哦，对不起，这些只是字符串。首先炸开它们：

```
arr_implode1 = explode(", ",$implode1)
arr_implode1 = explode(", ",$implode2) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T08:51:52.493

您可以在将值插入数据库之前检查它们是否已经存在：

```
if not exists (select * from TestTable where column NOT IN {$implode})
begin
    ...Do something here!!
end 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-09T08:52:57.687

自己创建一个函数，该函数能够以数组的形式从每个字符串中提取值，然后获取交集。如果不为 FALSE，则存在交叉点，因此发出警告：

```
$values = function($string) {
    return explode(', ', $string);
};

if (array_intersect($values($implode1), $values($implode2))) {
    trigger_error('Values intersect', E_USER_WARNING);
} 
```

[看到它在行动](http://eval.in/2583)。

# mysql - 如何将多个 MySQL 节点上的数据库合并为统一的虚拟数据库？

> ID：13304592
> 
> 赞同：0
> 
> 时间：2012-11-09T08:33:40.533
> 
> 标签：mysql

为了 I/O 吞吐量，我们有多个表分布在多个 MySQL 节点上。但是，我不希望我的客户在多个节点上找到这些表，我希望让他们觉得只有一个 MySQL 节点，尽管它可能是虚拟的。

例如，我们在节点 A 上有表 t1, t2；t3, t4 在节点 B 上；t5, t6 在节点 C 上，我希望客户端可以连接到可以访问所有表 t1-t6 的虚拟节点 V。实际上，我的客户只需要读取权限。

有没有成熟的解决方案来满足这个要求？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-13T14:46:27.193

经过一番研究，我发现这个问题可以通过 MySQL_Proxy 来解决。

我可以使用 LUA 脚本让 MySQL_Proxy 将 SQL 命令重定向到正确的目的地并将结果转发回去。

# vb.net - 为什么 MongoDB.Bson.BsonExtensionMethods.ToBson 返回字节数组而不是字符串？

> ID：13304596
> 
> 赞同：0
> 
> 时间：2012-11-09T08:34:05.790
> 
> 标签：vb.net, mongodb

我们如何将字节数组转换为字符串？

我做了：

```
 Dim queryPlaces = Query.WithinRectangle("LongitudeLatitude", (Longitude - eachStepLongitude), (Latitude - minimumBlock), (Longitude + eachStepLongitude), (Latitude + minimumBlock))
                    LogEvents(queryPlaces.ToBson.ToString) 
```

这是用于 vb.net 语言的 mongdob 驱动程序。

我惊讶地发现 queryPlaces.ToBson 返回字节而不是字符串。ToBson.ToString 也简单地返回这个无用的字符串：

```
System.Byte[] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T16:39:36.573

为了获得可读的字符串，它更容易使用`ToJSON`。 `ToBSON`返回[BSON aka 二进制 JSON](http://bsonspec.org/)。

# ios6 - Apple 因为使用 MTStatusBarOverlay 而拒绝了我的应用程序？

> ID：13304598
> 
> 赞同：2
> 
> 时间：2012-11-09T08:34:10.967
> 
> 标签：ios6, app-store, appstore-approval, iphone-privateapi

由于使用与状态栏覆盖相关的“私有 api”，Apple 刚刚拒绝了我的应用程序。但是，我只对 MTStatusBarOverlay 库进行状态栏覆盖。

![在此处输入图像描述](../Images/151b5d3cc8a0f52eebd1040b7986117b.png)

Apple 是否禁止 MTStatusBarOverlay？ [MTStatusBarOverlay](https://github.com/myell0w/MTStatusBarOverlay)应包含在应用商店的某些应用中，如其 Github 页面所述。

下面是我唯一调用 MTStatusBarOverlay 库的地方：

```
+(void) displayMSGOnStatusBar:(NSString *)msg
{
    MTStatusBarOverlay *overlay = [MTStatusBarOverlay sharedInstance];
    overlay.animation = MTStatusBarOverlayAnimationFallDown;  
    overlay.detailViewMode = MTDetailViewModeHistory;       
    [overlay postImmediateMessage:msg duration:1.5 animated:YES];
} 
```

有谁知道问题出在哪里？您的建议/帮助将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-13T16:32:53.713

只是几个想法：

a) 审批流程并不能保证 100% 的违规行为。因此，他们可能会拒绝您的应用，但他们可能已经批准了做了非常相似的事情的应用。

b) MTStatusBarOverlay 大约在一年前被积极开发。这段时间苹果的审批指南可能发生了变化。

c) 基于拒绝的描述，他们完全拒绝了 MTStatusBarOverlay 的行为（他们不喜欢 UIStatusBar 之上的覆盖）。

# mongodb - Mongodb副本集索引删除

> ID：13304607
> 
> 赞同：0
> 
> 时间：2012-11-09T08:34:58.280
> 
> 标签：mongodb, indexing

我有一个使用 N 个索引的 mongo 副本集。现在我想删除其中的一些（索引）。我怎样才能做到这一点？当我试图在 master 上删除索引时，它可以工作，但是在索引再次出现之后，从 slave（显然）。

谢谢你的帮助。

# android - 假 iOS UI 工具

> ID：13304612
> 
> 赞同：2
> 
> 时间：2012-11-09T08:35:17.520
> 
> 标签：android, ios, user-interface, user-experience

我正在尝试为 iOS 和 Android 设备组合一个假 UI，而无需实际创建所有繁琐的 UI 工作。有没有办法以某种方式从图像中模拟 UI？到目前为止，我们有 Photoshop 设计和模型。

有什么工具吗？我检查了 Titanium 和 ForgedUI。虽然它是一个相当简单的概念，但我仍然认为创建所有这些是矫枉过正的。例如，我必须为按钮切割我的 PSD。此外，数据馈送必须来自 URL 等。

我只想要类似于 Balsamiq Mockups 的东西将屏幕一个接一个地链接起来，以实际演示一堆屏幕。我们想在开发准备产品的同时测试导航、字体和产品概念。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T09:03:48.913

最简单的方法是使用 HTML。如果您已经有 Photoshop 模型，您可以简单地将这些模型导出为（视网膜质量）PNG 图像，并添加一些用于导航的图像映射。如果您将此站点添加到您的主屏幕，您将在没有 Safari 导航栏的情况下获得像素完美的预览。

然而，iOS 应用严重依赖动画。如果你想要一个原生 UI，你应该考虑使用实际`UIControl`元素创建一个“真实”的 UI 原型。虽然这是更多的工作，但它允许更好的 UI 评估。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T09:40:02.037

对于线框图，有几个选项：

1.  对于高保真模型，我会在 Interface Builder 和 storyboard 中完成，就像 JustSid 推荐的那样。只是不要做连接 UI 元素的繁琐工作。

2.  您可以查看[Adob​​e Proto 之](http://www.adobe.com/products/proto.html)类的工具。我从未尝试过，但似乎它可能是一种选择。

3.  对于我的超快速、低保真模型（例如“信封背面”模型的数字等价物），我个人使用我的 iPad、[手写笔](http://www.wacom.com/en/south-america-home/products/bamboo/bamboostylus)和像[Sketchbook Pro](https://itunes.apple.com/ca/app/sketchbook-pro-for-ipad/id364253478?mt=8)这样的绘图包（使用你想要的任何绘图包，但是我喜欢有层次的）。我也在我的 iPad 上放了[空白设备图像](https://developer.apple.com/appstore/resources/marketing/index.html#guidelines)。

    所以，我在我的 iPad 上打开我的绘图包，使用 iPhone 设备的图片作为起点开始一个新的绘图，放到一个新图层上（这样我就可以在一个图层上绘图，然后立即隐藏或丢弃该图层回到空白设备图像的图像），然后在这个新层上绘制我希望我的 UI 看起来的样子。这非常适合头脑风暴会议。从这个概念性的低保真模型到实际的 Xcode 故事板没有自动的桥梁，但我可以在几秒钟内绘制一个用户界面模型。我这样做不仅是为了与设计师进行头脑风暴，也是为了充实我自己的概念想法，我自己也是。

# jquery - jQuery。查找包含无效字段的第一个 div 的函数

> ID：13304615
> 
> 赞同：3
> 
> 时间：2012-11-09T08:35:57.890
> 
> 标签：jquery, jquery-validate, findfirst

我有一个分为三个选项卡的表单，并使用 jQuery 验证插件对其进行验证。用户可以在带有链接的选项卡之间切换。在提交按钮被按下并且验证失败后，错误类被添加到相应的选项卡/容器有错误的链接中。这是用下一个功能制作的：

```
function treatFormLinks () {
    $('.formTab').each(function(){
        $("#" + this.id + "Link").toggleClass('hasErrors', !$('input, select, textarea', this).valid());
    });     
};
$("#Submit").click(function () {
    $('.FormNavi a').removeClass('hasErrors');
    treatFormLinks();
}); 
```

这是 html 示例，只是为了解释它的工作原理：

```
<a href="#" id="OneLink">Link 1</a>
<a href="#" id="OneLink">Link 2</a>
<a href="#" id="OneLink">Link 3</a>

<form>
    <div class="formTab" id="One">... form fields ...</div>
    <div class="formTab" id="Two">... form fields ...</div>
    <div class="formTab" id="Three">... form fields ...</div>
</form> 
```

我需要的是找到**第一个**div，其中包含无效字段并显示这个。假设div 的字段是有效的`#One`并且`#Three`div`#Three`是可见的。我想要的是`#Two`在按下提交按钮后显示。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:46:50.353

设置链接后立即显示 div。

```
function treatFormLinks () {
    var alreadydisplayed = false;
    $('.formTab').each(function(){
        $("#" + this.id + "Link").toggleClass('hasErrors', !$('input, select, textarea', this).valid());
        alreadydisplayed?void(0):$(this).css("display","");//if an invalid tab has already been displayed, do nothing
        alreadydisplayed = true;
    });     
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T09:23:53.513

我用下一个扩展了这个功能：

```
$("#" + this.id).toggleClass('tabHasErrors', !$('input, select, textarea', this).valid());
$(".formTab").hide();
$(".formTab.tabHasErrors:first").show(); 
```

不太优雅但有效。

# html - 半透明HTML 中的元素 我正在寻找一种在 HTML 中制作半透明表单元素的方法。我知道 CSS3 有可爱的 background-color:rgba(r,g,b,a) 选项，同样使用半透明 .png 作为背景图像通常可以工作，但是我无法让它为元素。我主要针对现代浏览器（IE9 和 FF/Chrome/Safari 的更新版本），对于向后兼容的解决方案（降级为纯色很好），我并不太在意。即使是在其中一些中有效的解决方案也是可以接受的，特别是如果预计其他浏览器的未来版本将支持它（我在看你的

> ID：13304627
> 
> 赞同：2
> 
> 时间：2012-11-09T08:36:54.207
> 
> 标签：html, css, transparency

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T08:51:57.363

不要去`background-color:rgba`，而是使用`opacity:x`。IE9、Chrome、FF、Opera 和 Safari 使用它来实现透明度。例如：

```
<select style="opacity:0.5;"> 
```

不透明度取值介于 0（完全透明）和 1 之间。

尽管您主要针对现代浏览器，但对于 IE8 和更早版本，您必须使用`filter:alpha(opacity=50)`（关于上面的示例；此处的 opacity 接受 0 到 100 之间的值）。

所以总而言之

```
<select style="opacity:0.5;filter:alpha(opacity=50);"> 
```

为您提供现代浏览器以及 IE8 及更早版本支持的半透明选择控件。

使用这种技术，选择子选项也将获得指定的不透明度，因此选项标签的文本也将淡出。
Mikkel Fausing 发现`background-color:rgba(r,g,b,a)`与 with 结合使用`-webkit-appearance: none;`不会淡化文本，但是 - 如果应用于选择 - 它会删除指示此控件是下拉框的小箭头。例如：

```
<select style="background-color:rgba(0, 0, 0, 0.2); -webkit-appearance:none;"> 
```

# java - 选择音量通道以更改音量键按下

> ID：13304640
> 
> 赞同：2
> 
> 时间：2012-11-09T08:37:52.083
> 
> 标签：java, android

在 Android 中，通常有 3 个用户感兴趣的音频音量通道：音乐/媒体、铃声和闹钟。通常，当按下硬件音量按钮时，会设置铃声音量并相应地显示带有搜索栏的对话框。

但是，如果我打开了音乐应用程序并按下音量按钮，媒体音量通道就会被设置（并且在搜索栏对话框上会显示一个扬声器图标而不是电话）。我现在的问题是，如何为使用媒体通道音量控制而不是铃声通道的应用程序进行设置？是否有此开关或我必须手动执行此操作（捕捉音量按钮行程）？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-09T08:45:37.413

经过一番谷歌搜索，我自己发现了它。

您可以在活动的 onCreate 方法中调用[setVolumeControlStream](http://developer.android.com/reference/android/app/Activity.html#setVolumeControlStream%28int%29)。下面的例子。

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    ...

    // change the music vol instead of ringtone vol
    // when hardware volume buttons are pressed
    setVolumeControlStream(AudioManager.STREAM_MUSIC);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:48:43.440

对于流音乐

```
AudioManager audio = (AudioManager) getSystemService(Context.AUDIO_SERVICE);
int currentVolume = audio.getStreamVolume(AudioManager.STREAM_MUSIC); 
```

对于铃声

```
AudioManager audio = (AudioManager) getSystemService(Context.AUDIO_SERVICE);
int currentVolume = audio.getStreamVolume(AudioManager.STREAM_RING); 
```

更多信息[在这里](https://stackoverflow.com/questions/2539264/volume-control-in-android-application)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:51:28.427

您使用 AudioManager 并设置以下选项之一：

```
STREAM_ALARM    //The audio stream for alarms
STREAM_DTMF         //The audio stream for DTMF Tones
STREAM_MUSIC    //The audio stream for music playback
STREAM_NOTIFICATION //The audio stream for notifications
STREAM_RING         //The audio stream for the phone ring
STREAM_SYSTEM   //The audio stream for system sounds
STREAM_VOICE_CALL 
```

像这样：

```
myManager.getStreamVolume(AudioManager.STREAM_MUSIC); 
```

# asp.net - 如何在其 webpart 代码隐藏中访问 sharepoint aspx 中的 div

> ID：13304644
> 
> 赞同：0
> 
> 时间：2012-11-09T08:38:07.870
> 
> 标签：asp.net, sharepoint-2010, web-parts

我有一个带有 webpart 的 aspx 共享点页面。如何将 display=none 设置为 webpart 代码隐藏（ascx.cs）内的页面（aspx）中的 div。

代码：

```
<asp:Content ContentPlaceHolderId="PlaceHolderMain" runat="server">
<script type="text/javascript">
function ShowGearPage() {
    var gearPage = document.getElementById("GearPage");
    gearPage .style.display = "block";

    var loginPage = document.getElementById("MasterTable");
    loginPage.style.display = "none";
    return true;
}
    </script>

    <div align="center" id="GearPage" style="display:none;">
<div id="s4-simple-card" class="s4-simple-gearpage">
    <div id="s4-simple-card-content">
        <h1>
            <img id="gearsImage" alt="This animation indicates the operation is in progress."
                src="gears_anv4.gif" style="width: 24px; height: 24px; font-size: 0px;"
                align="middle" />
            Processing...
        </h1>
        <div>

        </div>

    </div>
</div> 
```

ShowGearPage();

我想隐藏 GearPage div 并在 DisplayReportWebPart webpart 代码隐藏中显示主 div。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:39:44.037

添加`runat="server"`到 div 并使用`divId.Attributes("Style","display:none");`

# mysql - Mysql 查询，或条件不起作用

> ID：13304647
> 
> 赞同：3
> 
> 时间：2012-11-09T08:38:35.373
> 
> 标签：mysql

```
SELECT UT_10, LT_10, ACT_10, LT_10 - ACT_10, UT_10 - ACT_10  
FROM distributor  
WHERE (  
          LT_10 - ACT_10 <>1  
       OR LT_10 - ACT_10 <>2  
      )  
      AND ACT_10 <>10  
      AND 
     (  
          UT_10 - ACT_10 =1  
       OR UT_10 - ACT_10 =2  
     )  
      AND ACT_10 <>10 
```

我在mysql中写了这个查询。我不想要 1 或 2 结果，但结果中显示 1 请帮助我。或条件不适用于 mysql 查询。

你可以在这里看到结果：[**点击这里查看大图**](http://metricglobal.com/mysql_query_problem.jpg)

![在此处输入图像描述](../Images/d2eeecd465abf6f896503f6602e21175.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T08:41:24.847

代替

```
LT_10 - ACT_10 <>1
OR LT_10 - ACT_10 <>2 
```

和

```
LT_10 - ACT_10 NOT IN (1,2) 
```

如果您只想要结果不等于您应该使用的结果，则原始查询将返回`LT_10 - ACT_10`等于结果的结果。这可以使用如我上面的示例所示来缩短。`1``OR``AND``NOT IN`

您的原始条件没有任何用途，因为`LT_10 - ACT_10`只能取一个值 - 它永远不会等于`1`and `2`（这是原始`OR`条件的两个部分都需要评估为`false`）

# javascript - 在 flexigrid 中没有新查询的订单

> ID：13304650
> 
> 赞同：1
> 
> 时间：2012-11-09T08:39:02.383
> 
> 标签：javascript, jquery, flexigrid

我对 flexigrid 有疑问。当页面首先加载时，它会运行一个查询。然后，当我**(1) 更改排序顺序**或**(2) 转到下一页**时，它会运行一个新查询（使用不同的参数），这很慢。

我想让它更快。我知道，当我们加载页面时，查询的结果会进入一个 php 数组。是否可以保留这个数组（也许把它放在一个 json 数组中），当我们想做**(1)**或**(2)**时，我们只需要修改这个数组，并刷新网格？我该如何实施？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:52:31.273

您可以使用 ajax 请求在 json 对象中加载第一次数据，然后在此请求的成功回调函数中使用此 json 对象将数据加载到 flexigrid。但是第一个ajax请求将需要`all the data from database`（db请求）。因此，您的所有用户，即使只需要前十行，每次访问您的 flexigrid 网页时，都会从您的服务器下载所有数据，这不是一个好方法。但这取决于您的数据表中是否有 20 行，或者说 100000 ...

# php - 使用数据库超时推进 PHP 交互

> ID：13304654
> 
> 赞同：2
> 
> 时间：2012-11-09T08:39:42.773
> 
> 标签：php, mysql, propel, phpsh

如何使 MySQL 数据库在使用 PHP Interactive Shell 期间始终可用？

我有一个问题，我一开始就连接到数据库，很快就超时了。系统管理员将 MySQL 数据库的超时设置为 10 秒（空闲），我无法更改该值。然而，这个值不足以及时与带有外壳的 Propel 对象交互。我在不改变 MySQL 服务器配置的情况下寻找方法。

例如

```
// Assume that User is the Propel class
$con = User::create();
$first = $con->findPk(2); // Still alive
sleep(11);
$second = $con->findPk(1); // Dead -- Return NULL 
```

MySQL 变量的详细信息（请注意，我不允许更改这些变量）

```
+----------------------------+-------+
| Variable_name              | Value |
+----------------------------+-------+
| connect_timeout            | 10    |
| delayed_insert_timeout     | 300   |
| innodb_lock_wait_timeout   | 360   |
| innodb_rollback_on_timeout | OFF   |
| interactive_timeout        | 28800 |
| net_read_timeout           | 30    |
| net_write_timeout          | 60    |
| slave_net_timeout          | 3600  |
| table_lock_wait_timeout    | 50    |
| wait_timeout               | 28800 |
+----------------------------+-------+ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:05:11.077

如果你真的不能在数据库端解决这个问题，那么有解决方法。遗憾的是，我不知道如何用 Propel2 制作它（我用 Doctrine2 做了类似的事情），但也许有人会建议它。

这个想法是创建 Propel 将使用的连接类而不是默认的连接类。在这个类中，您必须确保连接在每个查询中仍然存在，如果不是 - 创建新连接（所有这些都应该静默进行）。

这看起来像这样：

```
class Connection
{
    // ...
    public function query($stmt)
    {
        $result = $this->pdo->query($stmt);
        if (!$result) {
            $this->reconnect();
            $result = $this->pdo->query($stmt);
        }
        return $result;
    }
    // ...
} 
```

PS再次 - 如果你可以在数据库端解决它，你不应该这样做

# javascript - JQqplot图表在ajaxpost之后不呈现

> ID：13304657
> 
> 赞同：0
> 
> 时间：2012-11-09T08:40:01.360
> 
> 标签：javascript, jquery, jqplot

我在两种不同的情况下绘制图表。第一种情况是在加载期间，第二种情况是在 ajax 发布成功之后。在 onload 函数期间，在两种情况下都调用了相同的代码
，图表使用 jqplot 正确加载。但在发布错误后显示在客户端

```
Uncaught TypeError: Cannot read property 'BarRenderer' of undefined 
```

脚本参考按顺序加载

```
<script src="../../Scripts/jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="../../Scripts/jquery.jqplot.min.js" type="text/javascript"></script>
<script src="../../Scripts/jqplot.barRenderer.min.js" type="text/javascript"></script>
<script src="../../Scripts/jqplot.dateAxisRenderer.min.js" type="text/javascript">    
<script src="../../Scripts/jqplot.categoryAxisRenderer.min.js" type="text/javascript">  </script>
<script src="../../Scripts/jqplot.pointLabels.min.js" type="text/javascript"></script>
<script src="../../Scripts/jqplot.canvasTextRenderer.min.js" type="text/javascript"></script>
<script src="../../Scripts/jqplot.canvasAxisTickRenderer.min.js" type="text/javascript"></script>
<link href="../../Content/jquery.jqplot.min.css" rel="stylesheet" type="text/css" />
<script src="../../Scripts/jqplot.ohlcRenderer.min.js" type="text/javascript"></script>
<script src="../../Scripts/jqplot.highlighter.min.js" type="text/javascript"></script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:27:55.330

听起来您的 ajax 帖子正在返回脚本标签以及您需要的内容。

这些脚本标签可能包含 jquery，它会覆盖您的 jquery 并导致您的许多插件失败。

确保帖子返回的内容不包含您的脚本标签

# javascript - 3d 散点图 javascript 或 SVG

> ID：13304661
> 
> 赞同：3
> 
> 时间：2012-11-09T08:40:51.327
> 
> 标签：javascript, 3d, svg

我是这个论坛的新手。目前我正在为 java 脚本或 SVG 搜索 3d Scatterplot 引擎/库。像这样：

![在此处输入图像描述](../Images/9f11abad9c5d78f1fbc7268edb5465b2.png)

重要的是您可以旋转它来观察点云。一个不错的功能是为每个点定义一种颜色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T11:06:21.230

SVG 是一种可用于渲染绘图的图形格式。要计算你的情节，你需要 Javascript。您可以通过使用 Javascript 生成 SVG 来创建绘图，不要混淆... 还有`<canvas>`提供绘图上下文的标签，如果您有很多要显示的点，它可以提供更好的性能。

也许[three.js](http://mrdoob.github.com/three.js/)或[d3.js](http://d3js.org/)可以帮助您实现这一点。那里也有很多 Javascript 图表库，也许有一个正是你想要的。

祝你好运……</p>

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-25T17:28:13.070

![在此处输入图像描述](../Images/85b2398b01ed9bb3d57b8db14be41e3d.png)

现在，2013 年 4 月，我们有一个

从这里：[http ://dexvis.com/vis/blog/2013/apr/dc3/examples/ScatterPlot3D1.html](http://dexvis.com/vis/blog/2013/apr/dc3/examples/ScatterPlot3D1.html)

它是使用 d3js 和 Three.js 实现的，并且非常流畅，尽管它只是一个原型。

一探究竟！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-05-17T10:06:02.820

您可以访问 Javascript 库[LightingchartJS](https://www.arction.com/lightningchart-js/)。它是使用 WebGL 构建的，因此 GPU 比典型的基于 HTML5/Canvas 的图表库更有助于渲染。[它为具有 4800 多个数据点的3D 散点图](https://www.arction.com/lightningchart-js-interactive-examples/edit/lcjs-example-0900-3dScatter.html)提供交互式示例，具有出色的旋转相机角度性能。

[![在此处输入图像描述](../Images/a22d9cad7c16e2b27335f841b20b5c39.png)](https://i.stack.imgur.com/KBQM8.png)

有关更多信息，您也可以查看我们的[交互式示例](https://www.arction.com/lightningchart-js-interactive-examples/)。

全面披露：我是 LightningChart 的开发人员，我认为您可能会发现这非常有用。

# android - Android 布局限定符使用

> ID：13304663
> 
> 赞同：2
> 
> 时间：2012-11-09T08:40:53.213
> 
> 标签：android, layout

在工作和学习的同时使用 Android，我注意到它的布局切换功能有一些奇怪/意外/不那么记录的行为，对此我还没有找到答案。

首先，正如文档所建议的那样，宽度和高度的限定符，例如`layout-w320dp`并且`layout-h320p`应该使用“标准”值 - 240、320、480、600 等等。虽然[文档](http://developer.android.com/guide/practices/screens_support.html)还提到考虑了有效可用空间，但没有进一步提及这如何影响高度。例如，通过`getResources().getConfiguration().screenHeightDp`在 320dp 大模拟器屏幕上调用，返回的可用高度为 295。因此，使用`layout-h320p`是不准确的，因为它不会在 320dp 屏幕上正确“激活”。

我正在写的关于适应小屏幕的东西有（应该有）处理两种情况的能力：一种是宽度不够，另一种是高度不够。我发现我无法强制模拟器为我的情况选择正确的布局：我有一个文件夹`layout-w320p`用于`layout-h240p`. 在具有 320p 可用高度和 480p 可用宽度的模拟器上运行时，`layout-w320p`负载。怎么能均匀处理这两种情况呢？不能同时指定宽度和高度限定符。

第三，如果一个人想要支持一个应用程序直到 2.2，除了通过“经典”限定符（小、中、大、x-large）之外，还有什么方法可以支持不同的屏幕？

编辑：我使用了 small/medium/large/xlarge 限定符模式，因为我想要支持的最低版本是 2.2。我也使用了`port`and`land`限定符，Android 在布局中的决策通过这种方式更加清晰，但上述问题仍然存在。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-19T14:39:58.230

您可能没有考虑过可以组合两个或更多限定词？例如，您可以编写 layout-w320p-h240p 制作 320x240 的布局

# jquery - Jstree 和重命名

> ID：13304666
> 
> 赞同：3
> 
> 时间：2012-11-09T08:41:32.493
> 
> 标签：jquery, jstree

在我的 jstree 脚本中重命名节点不起作用，J 不知道为什么，这是我的脚本：

```
$(function () {
 $("#stworz_powiazanie").click(function () {
 $("#pages-wrapper").jstree("create");
    });
$("#usun_powiazanie").click(function () { 
    if(!confirm("Czy na pewno chcesz usunąć tę stronę?"))return;
    $("#pages-wrapper").jstree("remove"); 
}); 
$("#zmien_nazwe").click(function () {
   $("#pages-wrapper").jstree("rename");
});
$("#cut").click(function () { 
    $("#pages-wrapper").jstree("cut"); 
});
$("#paste").click(function () { 
    $("#pages-wrapper").jstree("paste"); 
});
$("#pages-wrapper").jstree({
 "core" : { "initially_open" : [ "root" ],
            "load_open" :true,
            "animation" :0,
 },
"html_data" : {
            "ajax" : {
            "url" : "./pobierz.php",
            "data" : function (n) {
                return { id : n.attr ? n.attr("id") : 0 };
            }
        }           },
    "plugins" : ["themes","html_data","ui","contextmenu","crrm","types"],
(............)

$("#pages-wrapper").bind("rename.jstree", function (e, data) {
        $.ajax({
                type: "POST",
                url: './server.php',
                 data: {
                "operation" : "rename_node", 
                "id" : data.rslt.obj.attr("id").replace("node_",""),
                "title" : data.rslt.new_name
                }, 
                success : function (r) {
                    if(!r.status) {
                        data.inst.refresh();
                        alert('Zmieniono Nazwe');
                    }
                }
        });
    })
}); 
}); 
```

来自萤火虫 J 的报告：

TypeError: obj is undefined return obj.nodeValue;

我的脚本有什么问题？谁能检查一下并告诉我出了什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-08-11T20:08:09.460

替换以下行

```
"id" : data.rslt.obj.attr("id").replace("node_",""), 
```

经过

```
"id" :  $(data.rslt.obj).attr("id").replace("node_",""), 
```

# cakephp - cakephp 是否支持无插件文件上传？

> ID：13304668
> 
> 赞同：-1
> 
> 时间：2012-11-09T08:41:40.353
> 
> 标签：cakephp, file-upload

如题，cakephp 是否支持不使用插件上传文件？

**我的意思是 cakephp 开发人员制作的任何代码都不包含纯 php 代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:15:19.267

并非如此，对于完整的实现，您将需要一个插件或创建自己的逻辑。Cake 确实提供了基于基本 PHP 函数的便捷方法。文件和[文件夹](http://book.cakephp.org/2.0/en/core-utility-libraries/file-folder.html)实用程序就是一个示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T22:03:09.247

[您可以使用组件而不是像这样](https://github.com/tute/Thumbnail-component-for-CakePHP/)的插件，它应该可以完成这项工作，但我不确定这是否是您正在寻找的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-12T03:48:33.687

好的，Cakephp 是支持文件上传的，我只需要设置表单的名称就可以使用它。

# c - 套接字读取和时间戳

> ID：13304672
> 
> 赞同：6
> 
> 时间：2012-11-09T08:42:02.320
> 
> 标签：c, sockets, timestamp, system-calls

从 Linux 中的（非流）套接字读取时，我可以通过`ioctl(sock, SIOCGSTAMP, &tv)`. 然而，这带来了两个问题：

*   这是另一个系统调用（我每秒收到大约 24000 条消息，所以每个系统调用都是可通知的）
*   如果使用这种方法，我一次只能`read()`发送一条消息，然后是`ioctl()`获取时间戳。（如果我在 -call 中读取多条消息`read()`，则以下`ioctl`仅产生最后一条消息的时间戳。）

我的问题是如何在尽可能少的系统调用中实现接收消息及其时间戳。如果有一个具有诸如“读取与待处理消息及其时间戳一样多的消息”之类的语义的系统调用，那将是完美的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T13:21:32.967

使用[`recvmmsg(2)`](http://man7.org/linux/man-pages/man2/recvmmsg.2.html)系统调用（如果您的内核可用）并设置[`SO_TIMESTAMP`](http://www.kernel.org/doc/man-pages/online/pages/man7/socket.7.html)选项。

# silverlight - 如何在 silverlight telerik radgridview 按钮列上获取单击按钮的行值？

> ID：13304674
> 
> 赞同：0
> 
> 时间：2012-11-09T08:42:04.707
> 
> 标签：silverlight, telerik

我在 silverlight telerik radgridview 中有一个超链接按钮列，作为单元格模板。我正在使用 MVVM。当我单击超链接按钮时，我如何获取其行的值（至少在后面的代码中）..？

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-29T08:15:00.523

您需要使用 ParentOfType 扩展方法来获取包含按钮的行。

获得该行后，您可以将项目类型转换为您的视图模型并访问它的属性。

确保您有扩展方法的 using 语句：

```
using Telerik.Windows.Controls;  

 private void Button_Click(object sender, RoutedEventArgs e)
{
    var parent = (sender as Button).ParentOfType<GridViewRow>();
    var rowVM = parent.Item as YourVmClass;
} 
```

如果你使用 MVVM，你也可以使用 EventToCommandBehavior。这允许您将所有事件作为命令执行。然后，您可以在视图模型中处理该命令。

# c# - 检查一个可为空的布尔值是否为空

> ID：13304676
> 
> 赞同：14
> 
> 时间：2012-11-09T08:42:09.260
> 
> 标签：c#

> **可能重复：**
> [首选哪个：Nullable<>.HasValue 或 Nullable<> == null？](https://stackoverflow.com/questions/676078/which-is-preferred-nullable-hasvalue-or-nullable-null)

我知道这样的问题已经被问过很多次了。但是我从来没有找到如何检查可空布尔值是否为空的答案。这是我对此的答案：

```
bool? nullableBool;
if (nullableBool == true){

}else if (nullableBool == false){

}else{

} 
```

但我想知道是否有更好、更直接的方法来减少无用的代码？谢谢。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-11-09T08:43:34.237

```
if (!nullableBool.HasValue)
{
    // null
} 
```

您也可以直接将其与`null`.

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-09T08:47:17.903

这不是 nullable `bool`，它是未分配的`bool`，您的代码将无法编译。您需要使用`bool?`或`Nullable<bool>`。

```
bool? nullableBool = null; // or = true or = false
if (nullableBool.HasValue)
{
    if (nullableBool.Value)
        // true
    else
       // false
}
else
    // null 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-09T08:50:57.410

首先，您使用的 bool 不可为空。要创建可为空的布尔值，您可以执行以下操作：

```
Nullable<bool> nullableBool; 
```

或速记版本：

```
bool? nullableBool; 
```

然后可以使用以下方法检查其中任何一个以查看它是否具有值：

```
if(nullableBool.HasValue)
{
   //nullableBool has been assigned a value
} 
```

不推荐您当前的方法。如果您需要可空状态，请使用可空布尔值。如果您想使用标准布尔值，请务必为其分配一个值。我很惊讶您在 Visual Studio 中没有使用该代码出现编译错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T08:46:25.813

试试这个请：

```
if (!nullableBool.HasValue)
{
    // your code
} 
```

# ssl - Heroku ssl 证书：无法读取密钥，因为它受密码保护

> ID：13304681
> 
> 赞同：5
> 
> 时间：2012-11-09T08:42:35.120
> 
> 标签：ssl, heroku, openssl, ssl-certificate, dnsimple

我无法生成 Heroku 将为 secure.mydomain.com 接受的 ssl 证书。我正在使用 DNSimple、Cedar Stack，并按照此处的说明进行操作：[https ://devcenter.heroku.com/articles/ssl-certificate](https://devcenter.heroku.com/articles/ssl-certificate)

1.  从 DNSimple 复制 server.key 和 server.orig.crt
2.  获取根 CA 证书`$ curl https://knowledge.rapidssl.com/library/VERISIGN/ALL_OTHER/RapidSSL%20Intermediate/RapidSSL_CA_bundle.pem > rapidssl_bundle.pem`
3.  连接成一个文件`cat server.orig.crt rapidssl_bundle.pem > server.crt`

所以现在我有了 server.key 和 server.orig.crt 文件，我尝试用`$ heroku certs:add server.crt server.key`. 这给出了错误

```
Key could not be read since it's protected by a passphrase. 
```

上面的文档没有提到任何关于从 server.key 文件中删除密码的内容。所以我四处寻找并在这里找到了文档：[https](https://devcenter.heroku.com/articles/ssl#customdomain-ssl) ://devcenter.heroku.com/articles/ssl#customdomain-ssl 。我在上面的 #1 和 #2 之间运行这些命令：

1b。`$ mv server.key server.orig.key`

1c。`$ openssl rsa -in server.orig.key -out server.key`

然而，这给出了错误

```
unable to load Private Key
47930:error:0906D06C:PEM routines:PEM_read_bio:no start line:/SourceCache/OpenSSL098/OpenSSL098-47/src/crypto/pem/pem_lib.c:648:Expecting: ANY PRIVATE KEY 
```

我怀疑这意味着没有找到私钥。

有人知道这里有什么问题吗？这是 Heroku 问题还是 openssl 问题（或 DNSimple 问题）？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-05-16T03:27:50.383

我刚刚在使用 DNSimple 和 RapidSSL 在 Heroku 应用程序上安装 SSL 证书时遇到了几乎相同的问题，并且想在此处发布我的解决方案，以防遇到类似问题的人遇到此响应。

我已经按照 SO 和 Heroku 开发中心各处的指示通过 DNSimple 和 RapidSSL 安装证书，但每次我尝试使用以下命令添加证书时：

`$ heroku certs:add server.crt bundle.pem server.key`

无论我做什么，我都会收到此错误：

```
$ Adding SSL Endpoint to mysite... failed
 !    Key could not be read since it's protected by a passphrase.
 !    Read instructions on how to remove the passphrase on:
 !    http://www.madboa.com/geek/openssl/#key-removepass` 
```

我知道密钥没有密码（因为我多次经历了那个过程），但它仍然不想添加它们。我做了两件事最终让它发挥了作用，尽管我不确定哪一件是关键。

首先，我确保从 RapidSSL 电子邮件链接到中间证书的 Apache、Plesk 和 CPA 框下下载正确的 PEM 文件。

第二件事是通过以下步骤验证我的 Heroku 工具带安装：[https ://devcenter.heroku.com/articles/heroku-command#installing-the-heroku-cli](https://devcenter.heroku.com/articles/heroku-command#installing-the-heroku-cli)

原来我仍在使用 gem 并且不得不卸载，直到我到达 heroku-toolbelt，之后我尝试再次添加证书，瞧。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-11T04:53:49.077

为这个问题苦苦挣扎了好几天！直到我遇到这个线程并遵循升级建议。我要做的第一件事是

gem 卸载 heroku --all

由于我在 stackoverflow 上阅读了另一篇文章，我对保留可执行文件的问题回答了“是”。然后我去了[https://toolbelt.herokuapp.com/](https://toolbelt.herokuapp.com/)并安装了工具带（即使 heroku --version 说它已安装）。将其升级到 heroku-toolbelt 2.39.0。重试了以下命令，它起作用了：

heroku 证书：添加 cert.cer bundle.pem server.key

也许今晚我终于可以睡一觉了：）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T08:59:42.260

这真的很愚蠢，但据我所知，在 Mac OS 中使用 TextEdit 保存初始 server.key 和 server.orig.crt 文件存在问题。

我改用 TextMate，一切正常。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-17T00:33:34.177

旧的工具带安装是我在 Windows 上的问题。

即使`heroku update`将版本号从 2.30.1 更改为 2.39.0，a`heroku version`显示由于某种原因它没有正确更新。

我从[https://toolbelt.herokuapp.com/](https://toolbelt.herokuapp.com/)重新安装了工具带并再次尝试，一切正常。

`heroku version`现在对我说这个，并且 certs:add 正常工作：

```
heroku-gem/2.39.0 (i386-mingw32) ruby/1.9.2 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-12-23T12:08:43.113

我现在遇到了同样的错误，即使是最近的`heroku/7.47.6`（来自 npm）。原因原来是我从 Let's Encrypt 得到了一个椭圆曲线证书，私钥文件包含：

```
-----BEGIN EC PRIVATE KEY----- 
```

[根据https://devcenter.heroku.com/articles/acquiring-an-ssl-certificate](https://devcenter.heroku.com/articles/acquiring-an-ssl-certificate)，这不受支持：

> Heroku 仅支持证书的 RSA 密钥。不支持椭圆曲线键。

一旦我获得了 RSA 证书，它就起作用了。

（具体来说，[脱水](https://github.com/dehydrated-io/dehydrated/)现在默认为`--algo secp384r1`，我必须提供`--algo rsa`。但这个想法应该与其他工具/CA 相同，您需要 RSA 证书。）

# spring - 通过没有persistence.xml的maven生成JPA 2.0元模型？

> ID：13304683
> 
> 赞同：6
> 
> 时间：2012-11-09T08:42:47.913
> 
> 标签：spring, jpa, persistence.xml, metamodel

有没有办法通过 maven 生成 JPA 2.0 元模型而没有 persistence.xml 文件。我正在使用eclipselink。

在我的 Java EE 项目中，我正在做类似以下的事情，因为在这种情况下我有一个 persistence.xml。

```
<plugin>
    <groupId>org.bsc.maven</groupId>
    <artifactId>maven-processor-plugin</artifactId>
    <version>2.0.5</version>
    <executions>
        <execution>
            <id>process</id>
            <goals>
                <goal>process</goal>
            </goals>
            <phase>generate-sources</phase>
            <configuration>
                <!-- there must no line break between the two compiler arguments! -->
                <compilerArguments>-Aeclipselink.persistencexml=${basedir}/src/main/resources/META-INF/persistence.xml</compilerArguments>
                <processors>
                    <processor>org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor</processor>
                </processors>
            </configuration>
        </execution>
    </executions>
    <dependencies>
        <dependency>
            <groupId>org.eclipse.persistence</groupId>
            <artifactId>javax.persistence</artifactId>
            <version>2.0.3</version>
        </dependency>
        <dependency>
            <groupId>org.eclipse.persistence</groupId>
            <artifactId>org.eclipse.persistence.jpa.modelgen</artifactId>
            <version>2.3.2</version>
        </dependency>
    </dependencies>
</plugin> 
```

现在我有一个 spring 项目，它通过 spring 上下文配置 jpa。是创建元模型以创建 persistence.xml 的唯一方法，还是我可以以某种方式保留 spring 上下文中的配置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-28T15:22:25.523

我相信无论如何`EclipseLink`都需要。`persistence.xml`

请看一下[jpa-metamodel-with-maven](https://jinahya.wordpress.com/2014/03/29/jpa-metamodel-with-maven/)。

您可以使用`Hibernate`、`Apache OpenJPA`或`DataNucleus`仅在元模型生成阶段。

## 休眠

```
<build>
  <plugins>
    <plugin>
      <groupId>org.bsc.maven</groupId>
      <artifactId>maven-processor-plugin</artifactId>
      <executions>
        <execution>
          <id>process</id>
          <goals>
            <goal>process</goal>
          </goals>
          <phase>generate-sources</phase>
          <configuration>
            <processors>
               <processor>org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor</processor>
            </processors>
          </configuration>
        </execution>
      </executions>
      <dependencies>
        <dependency>
          <groupId>org.hibernate</groupId>
          <artifactId>hibernate-jpamodelgen</artifactId>
          <version>${hibernate.version}</version>
        </dependency>
      </dependencies>
    </plugin>
  </plugins>
</build> 
```

## Apache OpenJPA

```
<build>
  <plugins>
    <plugin>
      <groupId>org.bsc.maven</groupId>
      <artifactId>maven-processor-plugin</artifactId>
      <executions>
        <execution>
          <id>process</id>
          <goals>
            <goal>process</goal>
          </goals>
          <phase>generate-sources</phase>
          <configuration>
            <processors>
              <processor>org.apache.openjpa.persistence.meta.AnnotationProcessor6</processor>
            </processors>
            <optionMap>
              <openjpa.metamodel>true</openjpa.metamodel>
            </optionMap>
          </configuration>
        </execution>
      </executions>
      <dependencies>
        <dependency>
          <groupId>org.apache.openjpa</groupId>
          <artifactId>openjpa</artifactId>
          <version>${openjpa.version}</version>
        </dependency>
      </dependencies>
    </plugin>
  </plugins>
</build> 
```

## 数据核

```
<build>
  <plugins>
    <plugin>
      <groupId>org.bsc.maven</groupId>
      <artifactId>maven-processor-plugin</artifactId>
      <executions>
        <execution>
          <id>process</id>
          <goals>
            <goal>process</goal>
          </goals>
          <phase>generate-sources</phase>
          <configuration>
            <processors>
              <processor>org.datanucleus.jpa.query.JPACriteriaProcessor</processor>
            </processors>
          </configuration>
        </execution>
      </executions>
      <dependencies>
        <dependency>
          <groupId>org.datanucleus</groupId>
          <artifactId>datanucleus-jpa-query</artifactId>
          <version>${datanucleus.version}</version>
        </dependency>
        <dependency>
          <groupId>org.datanucleus</groupId>
          <artifactId>datanucleus-core</artifactId>
          <version>${datanucleus.version}</version>
        </dependency>
      </dependencies>
    </plugin>
  </plugins>
</build> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T22:51:50.297

使用以下示例，您不需要 persistence.xml 并且可以像这样“保留在 spring 上下文中的配置”：

```
<bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
    <property name="dataSource" ref="dataSource" />
    <property name="packagesToScan" value="com.sample.company" />
    <property name="jpaPropertyMap">
        <map>
            <entry key="eclipselink.weaving" value="false"/>
            <entry key="eclipselink.jpa.uppercase-column-names" value="true"/>
            <entry key="eclipselink.ddl-generation" value="create-tables"/>
        </map>
    </property>
    <property name="jpaVendorAdapter">
        <bean class="org.springframework.orm.jpa.vendor.EclipseLinkJpaVendorAdapter" >
            <property name="databasePlatform" value="org.eclipse.persistence.platform.database.HSQLPlatform" />
            <property name="generateDdl" value="true" />
            <property name="showSql" value="true" />
        </bean>
    </property>
</bean> 
```

**packagesToScan**：在哪里寻找 @Entity 和其他 JPA 注释

**jpaPropertyMap**：您之前放置在 persistence.xml 中的设置

# html - 在歌剧中奇怪的边界半径渲染（在chrome，firefox中很好）

> ID：13304688
> 
> 赞同：2
> 
> 时间：2012-11-09T08:42:56.340
> 
> 标签：html, opera, css

[http://jsfiddle.net/eE4Y2/2/](http://jsfiddle.net/eE4Y2/2/)

我正在尝试使用 css 为 div 创建一个圆形的折叠角错觉。

我不明白为什么这个相当简单的 html/css 在 opera (v.12.10) 中呈现奇怪，但在 chrome 和 firefox 中看起来很好。当我对 div 应用边界半径时，边界内会出现一个奇怪的缺口，仅在歌剧上。请参阅上面的 jsfiddle 以查看示例。

我很想听听修复或至少解释一下在这种情况下 Opera 发生了什么。

```
<body>
    <div class="example"></div>
</body>

body 
{
   background-color: gray;
   padding: 50px;        
}

div.example
{
    border-bottom-left-radius: 10px;
    border-color: transparent transparent white white;
    border-style: solid;
    border-width: 30px;
    display: block;
    width: 0;
    height: 0;   
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T09:14:15.070

这似乎是一个歌剧错误。[因此，您可以通过在故障http://jsfiddle.net/aN4XP/](http://jsfiddle.net/aN4XP/)前面放置另一个 div 来手动修复它

```
<div class="example">
    <div class="operaFix"></div>
</div> 
```

这里是附加的CSS：

```
div.operaFix
{
    border-bottom-left-radius: 10px; 
    border-color: white;
    border-style: solid;
    border-width:10px;
    display:block;
    margin-left:-30px;
    margin-top:10px;
    width: 0;
    height: 0;   
} 
```

其他浏览器不应受此影响。

# vb.net - 有没有办法在 vb.net 中的字符串中获取表达式

> ID：13304691
> 
> 赞同：1
> 
> 时间：2012-11-09T08:43:18.057
> 
> 标签：vb.net, reflection, system.reflection

```
LogEvents(System.Text.Encoding.UTF8.GetString(queryPlaces.ToBson)) 
```

我希望不仅能够输出 System.Text.Encoding.UTF8.GetString(queryPlaces.ToBson) 的内容，而且还能够输出`System.Text.Encoding.UTF8.GetString(queryPlaces.ToBson)`自身的实际字符串，可能带有行号和文件名。

我知道我可以使用objective-c轻松做到这一点。我怎么能用.net做到这一点？

我听说这就是反射的用途。但是怎么做？

vb.net中没有宏对吗？

# javascript - WKT比较？

> ID：13304706
> 
> 赞同：1
> 
> 时间：2012-11-09T08:44:42.953
> 
> 标签：javascript, openlayers

如何在javascript中比较2个众所周知的文本点？例如，如果这些点是`a = POINT(78.067606 12.994332) , b=POINT(78.067606 12.994332) ,` 然后如果我们比较`(a==b)`它给出 false，而不是 true 。为什么？有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T11:24:57.903

您可以比较点的 WKT（这只是两个字符串的比较）：

```
var p1 = new OpenLayers.Geometry.Point(10.123, 10.456);
var p2 = new OpenLayers.Geometry.Point(10.123, 10.456);

var wkt1 = p1.toString();
var wkt2 = p2.toString();

if (wkt1 == wkt2)
    alert('Works as expected!'); 
```

有时点可能彼此非常接近，但它们的坐标可能略有不同。另一种选择是控制几何之间的距离：

```
var p1 = new OpenLayers.Geometry.Point(10.123, 10.456);
var p2 = new OpenLayers.Geometry.Point(10.124, 10.457);

var allowedDist = 0.002;
var dist = p1.distanceTo(p2);

if (dist < allowedDist)
    alert('Points are close enough'); 
```

# cloud-foundry - CloudFoundry 应用子域

> ID：13304712
> 
> 赞同：-1
> 
> 时间：2012-11-09T08:45:31.180
> 
> 标签：cloud-foundry

我很佩服cloudfoundry.com，尤其是在将应用程序部署到cloudfoundry.com系统时，它能够为自己的应用程序创建子域，让它在互联网上运行，所以如果我们连接到互联网，我们就可以直接访问它。

我已经在公共服务器 paas.azure4j.u​​s 上成功安装了 vcap。

但是，当我部署了一个应用程序并且输出显示它已成功部署并创建了一个类似 'myapp.azure4j.u​​s' 的子域时。

我知道我们可以在 cloud_controller.yml 和 deployment.json 上找到子域配置。

# CMIIW

但是当我直接从网络浏览器访问它时，为什么它不起作用？

所以我必须在我的 /etc/hosts 上设置它或在提供商的 DNS 管理器上添加子域才能访问它。

我的问题是，cloudfoundry.com 在新部署时如何使它们的客户端应用程序的子域直接连接到互联网？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T18:06:08.507

您确定为此正确设置了 azure4j.u​​s 的 DNS 吗？似乎设置了通配符域记录，如果我打开 myapp.azure4j.u​​s，它似乎没有转到 VCAP 实例。

# c++ - OpenCV SVM 在火车上抛出异常，“错误参数（只有一个类）”

> ID：13304714
> 
> 赞同：5
> 
> 时间：2012-11-09T08:45:36.923
> 
> 标签：c++, opencv, computer-vision, sift, surf

我坚持这个。

我正在尝试通过 OpenCV 功能 2d 框架进行一些对象分类，但在训练我的 SVM 时遇到了麻烦。

我能够提取词汇表并使用 BowKMeansTrainer 对它们进行聚类，但是在我从训练数据中提取特征以添加到训练器并运行 SVM.train 方法后，我得到以下异常。

```
OpenCV Error: Bad argument (There is only a single class) in     cvPreprocessCategoricalResponses, file /home/tbu/prog/OpenCV-2.4.2/modules/ml/src    /inner_functions.cpp, line 729
terminate called after throwing an instance of 'cv::Exception'
 what():  /home/tbuchy/prog/OpenCV-2.4.2/modules/ml/src/inner_functions.cpp:729: error:     (-5) There is only a single class in function cvPreprocessCategoricalResponses 
```

我已经尝试修改字典大小，使用不同的培训师，确保我的矩阵类型是正确的（尽我所能，对 opencv 来说还是新手）。

有没有人看到这个错误或对如何修复它有任何见解？

我的代码如下所示：

```
trainingPaths = getFilePaths();
extractTrainingVocab(trainingPaths);
cout<<"Clustering..."<<endl;
Mat dictionary = bowTrainer.cluster();
bowDE.setVocabulary(dictionary);

Mat trainingData(0, dictionarySize, CV_32FC1);
Mat labels(0, 1, CV_32FC1);
extractBOWDescriptor(trainingPaths, trainingData, labels);

//making the classifier
CvSVM classifier;
CvSVMParams params;
params.svm_type    = CvSVM::C_SVC;
params.kernel_type = CvSVM::LINEAR;
params.term_crit   = cvTermCriteria(CV_TERMCRIT_ITER, 100, 1e-6);

classifier.train(trainingData, labels, Mat(), Mat(), params); 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-10T05:08:26.993

根据错误，您似乎`labels`只包含一类数据。也就是说，您的所有功能`trainingData`都具有相同的标签。

例如，假设您尝试使用 SVM 来确定图像是否包含猫。如果 中的每个条目`labels`都相同，那么...

*   你所有的训练图像都被标记为“是的，这是一只猫”
*   或者，您所有的训练图像都被标记为“不，这不是猫”。

SVM 尝试分离两类（或有时更多）数据，因此如果您只提供一类数据，SVM 库会报错。

**要查看是否是这个问题**，我建议添加一个打印语句来检查是否`labels`只包含一个类别。这是一些执行此操作的代码：

```
//check: are the printouts all the same?
for(int i=0; i<labels.rows; i++)
    for(int j=0; j<labels.cols; j++)
        printf("labels(%d, %d) = %f \n", i, j, labels.at<float>(i,j)); 
```

* * *

一旦您`extractBOWDescriptor()`将数据加载到`labels`中，我假设它`labels`的大小为`(trainingData.rows, trainingData.cols)`。如果没有，这可能是个问题。

# c# - 取消控制台打印

> ID：13304716
> 
> 赞同：0
> 
> 时间：2012-11-09T08:46:02.040
> 
> 标签：c#, log4net, log4net-configuration

我有以下配置文件：

```
<configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,Log4net"/>
</configSections>
<log4net>
    <appender name="LogFileAppender" type="log4net.Appender.RollingFileAppender" >
        <param name="File" value="D:\log.txt" />
        <appendToFile value="true" />
        <rollingStyle value="Size" />
        <maxSizeRollBackups value="20" />
        <maximumFileSize value="4MB" />
        <staticLogFileName value="true" />
        <lockingModel type="log4net.Appender.FileAppender+MinimalLock" />
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="%date [%thread] %-5level %logger - %message%newline" />
        </layout>
    </appender>
    <root>
        <level value="INFO" />
        <appender-ref ref="LogFileAppender" />
    </root>
</log4net> 
```

我记录的每一行也被写入控制台，我该如何取消它？

我希望它仅附加到 log.txt 文件中，而控制台中没有任何内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T08:52:24.647

您已经以编程方式添加了控制台附加程序，或者 log4net 未使用此配置文件。Log4net 不添加任何默认附加程序（如`TraceListener`.net 中的默认）。而此配置仅指定`RollingFileAppender`. 因此，验证使用了哪个配置文件，以及代码中是否添加了一些附加程序。

# c# - 从 .NET 3.5 书学习 C#

> ID：13304718
> 
> 赞同：-1
> 
> 时间：2012-11-09T08:46:21.987
> 
> 标签：c#, asp.net, .net

我有 .net 平台和 c# 语言的基本知识，但我想在这方面进行改进。

我有一份[Pro C# 2008 和 .NET 3.5 Platform](https://rads.stackoverflow.com/amzn/click/com/1590598849)的印刷版。

它有很好的评论，显然是一本很好的读物。

现在是否值得在 2012 年底阅读，因为已经有 .NET 4.5……加上这本书有 1300 页。

我真的不想花很多时间阅读这篇文章，只是为了发现其中很大一部分是无关紧要的，或者我将来必须“忘记”一些东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:56:21.673

我建议你使用带有 .NET 3.5 的 C# 作为你的书，如果你有 .NET 4.5，你的计算机上已经安装了 .NET 3.5。如果您创建一个新项目，那么您可以选择 .NET 3.5 如果您已经用其他语言进行了编程，那么您将很快进入。您应该稍微了解一下代表以了解发送消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:49:46.853

.Net 4.5 是对 3.5 版本的改进，因此阅读 3.5 版本不会造成任何伤害，但我认为，当您阅读这些书籍时，反过来有助于更轻松地理解 .Net 4.5！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T08:50:51.903

你不必“忘记”任何东西。.NET 4.5 将功能添加到 .NET 4.0（将功能添加到 .NET 3.5）。.NET 3.5 是一个很好的起点

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T08:50:57.257

我在 .net 4.0 中完成了我的大部分 .net 工作，但是当我不得不修改旧的 .net 3.5 代码时，我做了噩梦。

虽然您总是最好学习最新的框架，但您应该询问您将最常从事的工作，如果它是遗留 3.5 的东西，那可能是最好的。

此外，.net 4 中的很多东西都是 .net 3.5 的补充，所以这当然不是一个提高技能的坏方法

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-09T08:52:02.650

如果您想对 .NET 3.5 进行编程 - 没关系。

但是，如果您想使用 Visual Studio 2012 或 2010 和 .NET 4.0 或 4.5 对 C# 5.0 或 4.0 进行编程

你有一些钱可以投资——比新书是你的选择=）

# c# - 如何同时使用会话将 GridView 的选定值传递到另一个页面

> ID：13304723
> 
> 赞同：2
> 
> 时间：2012-11-09T08:46:45.480
> 
> 标签：c#, visual-studio-2010, session

首先，我是一个新的 C# 开发人员，我需要一些帮助，我的 aspx 文件中有一个带有 SqlDataSource 的网格视图，其中包含 3 列 ID/Name/Job 和几条记录（行）。当用户选择一行时，我想重定向到另一个页面并将该行的选定 ID 的值作为参数传递。用户每次只能选择一行。我花了几个小时在上面，但是发生了一些奇怪的事情。

我有一个方法

```
protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
    {
       string selectedID;

        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            GridViewRow gvr = e.Row;
            selectedID = (GridView1.DataKeys[e.Row.RowIndex].Value.ToString());
            gvr.Attributes.Add("OnClick","javascript:location.href='Views/EditMenus/EditCompany.aspx?id=" + selectedID + "'");

            gvr.Attributes.Add("onmouseover", "this.style.backgroundColor='#FFE6E6'");
            gvr.Attributes.Add("onmouseout", "this.style.backgroundColor=''");
            gvr.Attributes.Add("style", "cursor:pointer;");

            Session["IDs"] = selectedID;
     } } 
```

在我的重定向页面中，我在页面加载方法中有以下代码：

```
 protected void Page_Load(object sender, EventArgs e)
    {
          if (Session["IDs"] != null)
        {            
            Label2.Text = "Selected ID is: "+ Session["IDs"].ToString();
         }
    } 
```

现在，当我选择一行时，重定向到其他页面正常工作，并且浏览器 url 根据上面的 javascript 代码具有所选 ID 的正确值，但是 Label2.Text 打印错误的 ID。它打印每页最后一行的值 ID，而不是所选 ID 的值。为什么会这样？

这对我来说有点奇怪，因为我对这两种情况都使用了相同的变量“selectedID”，正如你在上面看到的那样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T08:54:18.060

您需要在您的事件发生时减轻您的`ID`in`Session`变量的价值`SelectedIndexChanged``GridView`

```
void CustomersGridView_SelectedIndexChanging(Object sender, GridViewSelectEventArgs e)
  {

    // Get the currently selected row.
    //Because the SelectedIndexChanging event occurs  before the select operation
    //in the GridView control, the SelectedRow property cannot be used.
    //Instead, use the Rows collection
    //and the NewSelectedIndex property of the 
    //e argument passed to this event handler.

    GridViewRow row = CustomersGridView.Rows[e.NewSelectedIndex];

    //Cells[0] is for first column so assign according to your column for ID
    Session["IDs"]=row.Cells[0].Text;

  } 
```

# java - 无法在我的 android 模拟器中访问我的 wsdl 文件

> ID：13304727
> 
> 赞同：1
> 
> 时间：2012-11-09T08:46:57.700
> 
> 标签：java, android, web-services, tomcat, axis2

我开发了一个安卓应用程序

这是我的代码：

```
public class RetailerActivity extends Activity {
private static final String SOAP_ACTION = "http://ws.testprops.com/customerData";
private static final String METHOD_NAME = "customerData";
private static final String NAMESPACE = "http://ws.testprops.com";
private static final String URL = "http://87.76.29.180:8080/TestPrompts/services/Fetch?wsdl";

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME); 
    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
    envelope.setOutputSoapObject(request);
    HttpTransportSE ht = new HttpTransportSE(URL);
    try {
        ht.call(SOAP_ACTION, envelope);
        SoapPrimitive response = (SoapPrimitive)envelope.getResponse();
        SoapPrimitive s = response;
        String str = s.toString();
        String resultArr[] = str.split("&");//Result string will split & store in an array 

        TextView tv = new TextView(this);
        for(int i = 0; i<resultArr.length;i++){ 
        tv.append(resultArr[i]+"\n\n");
       }
        setContentView(tv);

    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

}

这是我的本地 tomcat apache 服务器 wsdl 文件：

```
http://localhost:8089/TestPrompts/services/Fetch?wsdl 
```

意味着它已成功用于我的模拟器和 android 设备。

只有我导出并创建了war文件并上传到我的tomcat服务器中的同一个TestPrompts项目。

这是我的 tomcat 服务器 wsdl 文件：

```
http://87.76.29.180:8080/TestPrompts/services/Fetch?wsdl 
```

但这里只面临问题：

我必须把这些 URL 表示在模拟器和 android 设备上都没有得到任何结果。只是得到黑屏。

控制台窗口显示以下错误：

```
11-19 15:12:55.232: D/SntpClient(73): request time failed: java.net.SocketException: Address family not supported by protocol 
```

请帮助我。我该如何解决我的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T03:30:00.707

我认为您遇到了某种网络问题。请尝试通过手机或模拟器中的浏览器访问该 wsdl。因此，您可以检查天气是否存在连接。. 请参考这篇文章。我已经在我的应用程序中完成了。[http://www.insightforfuture.blogspot.com/search/label/Android](http://www.insightforfuture.blogspot.com/search/label/Android)

# c# - 利用浏览器缓存 asp.net

> ID：13304729
> 
> 赞同：0
> 
> 时间：2012-11-09T08:47:03.163
> 
> 标签：c#, asp.net, .net-4.0, iis-7.5, browser-cache

我试图检查我的网站的速度使用

[https://developers.google.com/speed/](https://developers.google.com/speed/)

它说利用浏览器缓存。我尝试通过将以下代码放在`web.config`文件中来做到这一点

```
<staticContent>
<clientCache cacheControlMode="UseExpires" httpExpires="Tue, 19 Jan 2038 03:14:07 GMT" />
</staticContent> 
```

我又重新检查了一遍。但它再次显示相同！

上面的代码实际上是唯一的问题吗？我正在使用`IIS 7.5`和`.NET Framework 4.0`用于我的网站。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T10:27:14.773

我认为这没有什么区别，但我让它使用 UTC 时间格式：

```
<staticContent>
  <clientCache httpExpires="Sun, 26 Oct 2014 00:00:00 UTC" cacheControlMode="UseExpires" />
</staticContent> 
```

# android - 是否存在类似进度条的进度轮的实现？

> ID：13304730
> 
> 赞同：0
> 
> 时间：2012-11-09T08:47:06.327
> 
> 标签：android, progress-bar, progressdialog, android-progressbar

我需要在我的应用程序中添加具有进度条功能的进度轮。这意味着轮子必须仅填充已加载内容的百分比。

我在谷歌上搜索，但没有得到所需的答案。需要一些例子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T10:34:26.250

我不认为这是可能的。

取自`ProgressBar`文档：

> 如果要使用进度条来显示实际进度，则必须使用水平条。

所以你不能在进度轮中显示进度。

# cordova - jquery 移动替代品（瓶颈是什么？）

> ID：13304733
> 
> 赞同：5
> 
> 时间：2012-11-09T08:47:15.563
> 
> 标签：cordova, jquery-mobile, zepto

我刚刚在 JQM 中发布我的第一个应用程序。基本上，带有列表视图的地理动态页面。在设计方面没有什么花哨的。所以我真的很喜欢 JQM 的基本外观和感觉。

我还没有用phonegap运行它。我在我的桌面上将它作为一个 web 应用程序在 Firefox 上进行测试，它非常好并且运行顺利。我已经在我的 iphone 3GS 上将它作为 safari 上的 web 应用程序进行了测试，它完全没用：屏幕闪烁，让我想起 33.6K 调制解调器上的 Mosaic 的过渡。

我在 stackoverflow 上看到有很多改进 JQM 的调整，例如不使用转换。但有什么意义呢？

瓶颈是什么？是 JQuery 本身及其对 IE 的处理吗？抱歉，我等不及 JQuery 2.0 版了。

我看到有些人建议使用 zepto.js 作为替代方案。但是 zepto.js 不支持 JQM css。是否有一个简单的解决方案来使用 zepto 而不必重做 JQM 提供的基本设计？

我仍然不想原生，因为我想让我的应用程序在 IOS 和 Android 上运行，而不必学习 Obj-C 并回到 Java。

关于这个有很多讨论，但我看到的最近一次是在六月。

有一些新的选择吗？如果 Jquery 是瓶颈，是否有可能获得一个没有任何不针对 IOS/Android 的内容？

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T15:15:18.770

JQM 的想法不仅是针对 iOS/Android，而且是针对所有平台，所以如果你只使用 iOS，你必须做出你不需要的妥协——之前的 JQM 1.1 转换（更好）被放弃了，因为我相信安卓，因为他们失败得太厉害了。

如果您正在寻找瓶颈，我认为在客户端上渲染元素需要时间。假设您有一个列表项：

```
<li><a href="some">link</a></li> 
```

哪个 JQM 将更改为

```
<li data-corners="false" data-shadow="false" data-iconshadow="true" data-wrapperels="div" data-icon="arrow-r" data-iconpos="right" data-theme="c" class="ui-btn ui-btn-icon-right ui-li-has-arrow ui-li ui-btn-up-c">
    <div class="ui-btn-inner ui-li">
        <div class="ui-btn-text">
            <a href="index.html" class="ui-link-inherit">Acura</a>
        </div>
        <span class="ui-icon ui-icon-arrow-r ui-icon-shadow">&nbsp;</span>
    </div>
</li> 
```

由于这是在客户端为每个列表项完成的，因此渲染内容需要时间，而在桌面上完美运行的元素突然需要 2-3 秒才能在糟糕的 Android 上渲染。

第一个解决方法是发送`enhanced HTML`并尽量不必调用`trigger("create")`。这样做可能会丢失元素绑定，或者您必须更改 JQM 以提供仅事件绑定模式，我在需要时这样做。

另一个想法是将小部件库存储为可配置的增强标记。因此，您将拥有一个 listview 库，其中包含以增强形式存储为模板的列表项的所有变体。循环遍历列表时，您只需从库中选择列表项，添加动态数据即可完成。

两者都需要大量的摆弄，但是从一些小部件（按钮、控件组）中设置很容易，并且已经节省了大量的渲染时间。

希望这是一个很好的指导，让你继续前进。

# ruby - String#delete 忽略特殊字符

> ID：13304737
> 
> 赞同：2
> 
> 时间：2012-11-09T08:47:31.093
> 
> 标签：ruby

`String#delete`解释`a-z`为字符范围。但是，我希望它删除`fa-zo`.

```
"fojwfa-zowj".delete("fa-zo") #=> "-" 
```

期望的结果：

```
"fojwwj" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T09:04:13.233

你也可以使用这个小技巧：

```
string = "fojwfa-zowj"

string[/fa-zo/] = ''

string
# => "fojwwj" 
```

但是请注意，这会在适当的位置修改字符串，例如`#gsub!`，它应该更快并且应该使用更少的内存，但如果考虑得不好，可能会引入副作用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T08:53:02.600

```
"fojwfa-zowj".gsub("fa-zo","")  # => "fojwwj" 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-09T09:07:08.757

```
"fojwfa-zowj".tap{ |s| s.slice! "fa-zo" } # just for the Heaven of it 
```

# razor - 如何根据剃须刀中的条件自动重定向到另一个页面？

> ID：13304739
> 
> 赞同：1
> 
> 时间：2012-11-09T08:47:39.480
> 
> 标签：razor

我正在使用 MVC3，我想检查条件和 id 条件是否为真，然后自动重定向到 Razor 中的另一个页面。请帮助我了解如何自动重定向到另一个页面？

```
@{
    Layout = null;
    if (@Session["username"]==null)
    {
        //redirection code to page signInEmployee
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-01T06:32:11.790

@{ Response.Redirect("~/HOME/NoResults");}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T09:39:08.207

这是控制器逻辑，`RedirectToAction`在行动中使用，但您也可以`section`在以下情况下`header`使用：

```
<meta HTTP-EQUIV="REFRESH" content="0; url=http://www.yourdomain.com/index.html"> 
```

或 (javascript)

```
document.location = 'url'; 
```

# amazon-ec2 - Hostgator 专用服务器到 Amazon ec2

> ID：13304740
> 
> 赞同：5
> 
> 时间：2012-11-09T08:47:41.727
> 
> 标签：amazon-ec2, dedicated-server, dedicated-hosting

我目前使用他们的专用服务器托管在 hostgator，每月支付 219 美元。我的一位朋友建议转移到 Amazon ec2。

我的问题是，亚马逊可以做和 hostgator 一样的事情，比如提供无限域吗？此外，我每月有大约 650 GB 的带宽，我在不同的网站上主要使用 Drupal 和 WordPress。如果我打算转移，hostgator 的专用服务器相当于什么？

顺便说一句，他告诉我，每月 165 美元左右的媒体是最好的选择。这是从 hostgator 转移到 Amazone ec2 的好主意吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T06:58:38.103

简短的回答是……这一切都取决于。

您需要查看亚马逊的[定价计算器](http://calculator.s3.amazonaws.com/calc5.html)，以了解您希望使用当前服务器中的数据花多少钱。

我建议你先创建一个微型实例（免费一年），尝试一下，至少熟悉 Amazon AWS 的 S3、EC2、EBS、RDS 和 CloudFront，然后使用计算器查看如果从长远来看它会为你省钱。能够调整您的服务器速度对于优化定价非常有用......

注意：当您第一次使用 AWS 时，可能会有点不知所措。有很多三字母形容词服务，但如果你给它一些时间，你会开始真正欣赏它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-18T12:04:17.923

EC2 对于使用 cPanel 的人来说很难。除非您有专门的技术人员来管理站点，否则您不想选择 Ec2。

它值得花钱购买 cPanel，（类似主机鳄鱼）而不是阅读 100 篇帮助论坛帖子来解决您的服务器问题。

如果您是一位出色的技术人员并且有足够的时间，那么 Ec2 就很棒。

# plone - 在 plone 2.0.5 上安装 Plone Hotfix 20121106 将不起作用

> ID：13304742
> 
> 赞同：1
> 
> 时间：2012-11-09T08:48:01.053
> 
> 标签：plone, hotfix

我们正在运行旧版本的 plone（版本 2.0.5）。（我们将在明年迁移到 plone 4）

我试图安装 Plone 修补程序 20121106，但是（如安装说明中所述），该修补程序不适用于 2.0.5 版本的 plone。

问题：

*   [安全漏洞](http://plone.org/products/plone/security/advisories/20121106-announcement)是否也与 plone 版本 2.0.5 相关？
*   还有其他方法可以在旧版本的克隆上安装热修复吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T13:16:09.977

Some of the security vulnerabilities do apply to 2.0.5, yes.

However, there are other unpatched vulnerabilities in 2.0.5 not addressed by this hotfix, and you want to move away from this old a version as soon as possible. The Plone security team does not provide official support for Plone versions *this* old; currently 3.x and 4.x releases are supported.

You can unzip the hotfix into your Products folder, and it should just work. I believe people have tested it on 2.0.x installations already; the test coverage certainly *was* run on 2.1\. You'll have to run your own tests though to make sure nothing (important) breaks for you when the fix is installed.

# wpf - 如何在组合框中显示来自相关实体的值？

> ID：13304744
> 
> 赞同：0
> 
> 时间：2012-11-09T08:48:01.767
> 
> 标签：wpf, entity-framework, mvvm

我有一个包含以下实体的模型：USERS (LINK (primary key), DEP_LINK (link to DEPARTMENTS), ....) DEPARTMENTS (LINK, TITLE, ....) 我想实现一个登录窗口，我需要在 ComboBox 中显示所有用户。我的组合框看起来像这样：

```
<ComboBox Height="23" Margin="66,87,65,0" Name="cmbUsername" VerticalAlignment="Top" 
SelectedItem="{Binding SelectedUser}" ItemsSource="{Binding Usernames}" 
DisplayMemberPath="LINK"/> 
```

我的 ViewModel 看起来像这样：

```
private RSDBEntities dataContext;

public USERS SelectedUser { get; set; }

public List<USERS> Usernames { get; set; }

public AuthorizationViewModel()
{
    dataContext = new RSDBEntities();
    Users = new ObservableCollection<USERS>(dataContext.USERS);
    LoginCommand = new RelayCommand(Login);
    Usernames = dataContext.USERS.ToList();
} 
```

所以我的问题是如何在 ComboBox 中显示 DEPARTMENTS 标题？我尝试将 DisplayMemberPath 属性设置为“DEPARTMENTS”或“TITLE”，但无法获得预期的结果。

# android - 如何将文件从 sd 卡发送到 http post？

> ID：13304750
> 
> 赞同：2
> 
> 时间：2012-11-09T08:48:25.640
> 
> 标签：android

我想通过 http post 方法将文件从我们的应用程序发送到服务器。

我的代码看起来像休闲

```
 HttpURLConnection conn = null;
     DataOutputStream dos = null;
     DataInputStream inStream = null;
     String existingFileName = Environment.getExternalStorageDirectory().getAbsolutePath() 
             + "/TamTrack/TamTrackDetails.xml";
     String lineEnd = "\r\n";
     String twoHyphens = "--";
     String boundary =  "*****";
     int bytesRead, bytesAvailable, bufferSize;
     byte[] buffer;
     int maxBufferSize = 1*1024*1024;
     String responseFromServer = "";
     String urlString = "http://192.158.1.7/Geo/myfilename";
     try
     {
      //------------------ CLIENT REQUEST
     FileInputStream fileInputStream = new FileInputStream(new File(existingFileName) );
      // open a URL connection to the Servlet
      URL url = new URL(urlString);
      // Open a HTTP connection to the URL
      conn = (HttpURLConnection) url.openConnection();
      // Allow Inputs
      conn.setDoInput(true);
      // Allow Outputs
      conn.setDoOutput(true);
      // Don't use a cached copy.
      conn.setUseCaches(false);
      // Use a post method.
      conn.setRequestMethod("POST");
      conn.setRequestProperty("Connection", "Keep-Alive");
      conn.setRequestProperty("Content-Type", "multipart/form-data;boundary="+boundary);
      dos = new DataOutputStream( conn.getOutputStream() );
      dos.writeBytes(twoHyphens + boundary + lineEnd);
      dos.writeBytes("Content-Disposition: form-data; name=\"uploadedfile\";filename=\"" + existingFileName + "\"" + lineEnd);
      dos.writeBytes(lineEnd);
      // create a buffer of maximum size
      bytesAvailable = fileInputStream.available();
      bufferSize = Math.min(bytesAvailable, maxBufferSize);
      buffer = new byte[bufferSize];
      // read file and write it into form...
      bytesRead = fileInputStream.read(buffer, 0, bufferSize);
      //while (bytesRead > 0)
      Log.v("info",".size."+bytesRead);
      for(int n1=0;n1<bytesRead;n1++)
      {

       dos.write(buffer, 0, bufferSize);
       bytesAvailable = fileInputStream.available();
       bufferSize = Math.min(bytesAvailable, maxBufferSize);
       bytesRead = fileInputStream.read(buffer, 0, bufferSize);

      }

      dos.writeBytes(lineEnd);
      dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);
      // close streams
      Log.v("info","File is written");
      fileInputStream.close();
      dos.flush();
      dos.close();
     }
     catch (MalformedURLException ex)
     {
          Log.v("info", "error: " + ex.getMessage(), ex);
     }
     catch (IOException ioe)
     {
          Log.v("info", "error: " + ioe.getMessage(), ioe);
     }
     //------------------ read the SERVER RESPONSE
     try {
           inStream = new DataInputStream ( conn.getInputStream() );
           String str;

           while (( str = inStream.readLine()) != null)
           {
                Log.v("info","Server Response "+str);
           }
           inStream.close();

     }
     catch (IOException ioex)
     {
          Log.v("info", "error: " + ioex.getMessage(), ioex);
     }
    return null; 
```

它工作正常。但是在服务器中创建了空文件。

如果有人知道解决方案，请帮助我。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:15:36.850

我更喜欢使用 Apache Http commons，它是 android 的一部分。我认为这是一种更简单、更清洁的方法。你需要做这样的事情：

```
AndroidHttpClient client = AndroidHttpClient.newInstance("useragent string");
URI uri = "something";
File file = new File("/tmp/data");
HttpPost post = new HttpPost(uri);
post.setEntity(new FileEntity(file, "text/html"));
HttpResponse httpResponse = client.execute(post);
int statusCode = httpResponse.getStatusLine().getStatusCode(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:58:09.553

试试[这个](https://stackoverflow.com/questions/12701862/multipart-form-data-enctype-json-for-adroid/12702094#12702094)代码。它使用一个“SimpleMultipartEntity”类，您可以使用它轻松发送文件。

# html - 呈现具有透明背景的图像

> ID：13304755
> 
> 赞同：0
> 
> 时间：2012-11-09T08:49:01.007
> 
> 标签：html, transparency

我正在做一个小的 HTML/Css 学习项目。无论如何，我有一张我编辑为没有背景的图像。我真正做的是“按颜色选择”背景然后剪切它。我认为这意味着有一个透明的背景。

假设我是对的，为什么我把它放在我的html页面上时会看到它的白色背景？如果我错了，我该如何实现透明度？

谢谢！

ps我已经附上了[图片](http://i.stack.imgur.com/adFMv.jpg)

# c# - 如何使用 c# 以编程方式获取 Dropbox 共享文件夹的成员？

> ID：13304756
> 
> 赞同：0
> 
> 时间：2012-11-09T08:49:13.190
> 
> 标签：c#, dropbox, dropbox-api, dropnet

我想从 Dropbox 帐户获取或查找共享文件夹的所有成员。目前我正在使用 DropNet，但我没有找到这样的选项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T02:40:09.307

Dropbox API 当前无法以编程方式获取共享文件夹成员列表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-14T15:27:52.150

使用适用于 .Net 的[Spring Social Dropbox 框架](https://github.com/SpringSource/spring-net-social-dropbox) 。他们已经在其中提供了一些示例。在其中一个示例中，他们提供了用于列出特定类型的所有文件的代码。

附加代码：

```
//After creating dropbox service use the following code 
//Following code searches the root folder, file of type "all" including subfolders
//To search a particular folder write the path in the first parameter of SearchAsync Method
//To list only "txt" files write ".txt" for the second parameter

```
dropbox.SearchAsync("", ".").ContinueWith(task =>
{                    
Console.WriteLine(task.Result.Count);
    foreach (Entry file in task.Result)
    {
          Console.WriteLine(file.Path); //prints path
    }
}); 
``` 
```

# ios - 如何停止 AFHTTPRequestOperation？

> ID：13304760
> 
> 赞同：2
> 
> 时间：2012-11-09T08:49:20.710
> 
> 标签：ios, afnetworking, nsoperation, nsoperationqueue

取消可能会停止 AFHTTPRequestOperation 的实例，但有时会失败。

任何人都有立即或延迟几秒钟停止 AFHTTPRequestOperation 实例的解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:18:56.910

AFAIK，没有什么比跟随你可以用 AFHTTPRequestOperation 做的了！

```
 AFHTTPRequestOperation *operation = [AFHTTPRequestOperation operationWithRequest:request success:success failure:failure];
 [self.operationQueue addOperation:operation];
 [operation performSelector:@selector(cancel) withObject:nil afterDelay:.5]; 
```

# razor - 在 ASP.NET MVC Razor 语法中使用此关键字

> ID：13304761
> 
> 赞同：2
> 
> 时间：2012-11-09T08:49:21.357
> 
> 标签：razor, coding-style, this, stylecop

`this`我在 Razor 语法中使用关键字时遇到问题。

如果我写这样的东西：

```
@foreach (var item in this.Model.Items)
{
   @this.Html.ActionLink(item.Title, "MyAction")
} 
```

我会收到一个错误：`Unexpected "this" keyword after "@" character. Once inside code, you do not need to prefix constructs like "this" with "@".`

我有两个解决方案；

1) 使用`@:@`或`<text>`

```
@foreach (var item in this.Model.Items)
{
   @:@this.Html.ActionLink(item.Title, "MyAction")
} 
```

-或者-

```
@foreach (var item in this.Model.Items)
{
   <text>
   @this.Html.ActionLink(item.Title, "MyAction")
   </text>
} 
```

2) 去掉`this`前缀

```
@foreach (var item in this.Model.Items)
{
   @Html.ActionLink(item.Title, "MyAction")
} 
```

正如您可能猜到的那样，我们正在遵循 StyleCop 规则，并且我们也喜欢使用 Razor 语法。

有没有其他方法可以防止使用`<text>`或`@:@`在我们使用`this`关键字时使用？

# c# - get set 对简单变量有什么好处

> ID：13304763
> 
> 赞同：2
> 
> 时间：2012-11-09T08:49:22.020
> 
> 标签：c#, get, set

> **可能重复：**
> [公共字段与自动属性](https://stackoverflow.com/questions/1180860/public-fields-versus-automatic-properties)

我想这会在某个地方得到回答，但我在通常的地方找不到它。我想知道，这样做有什么好处

```
private int _foo;
public int foo {get {return _foo;} set{_foo = value;}} 
```

或者

```
public int foo {get; set;} 
```

刚刚结束

```
public int foo; 
```

如果需要更复杂的操作，我可以看到好处，但是像这样的简单案例有什么好处？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T09:14:59.067

实际上，所有的指导方针都是关于创建可重用的库。在那里，当您创建一个`property`（使用 get/set）时，您还可以在不更改代码的外部定义（因此不需要重新编译其他库）。但是，如果您总是重新编译整个解决方案并且没有其他人使用该库，那么这没有任何价值。

使用属性的另一个好处是您可以限制谁可以获取或设置该值。例如，每个人都可以获取该值，但只有派生类可以设置它（`protected`）。

这就是说，仍然建议始终使用属性`public`（而不是`private`字段）。

我只在需要最佳性能时才公开字段（例如连续访问值百万次）。

**所以总结一下**

属性（获取/设置）对字段的好处：

*   能够稍后添加代码，而无需重新编译引用它的程序集。
*   能够提供私有/受保护/内部集和公共获取（或任何其他组合）。
*   公共字段不[符合 CLS](http://msdn.microsoft.com/en-us/library/bhc3fa7f.aspx)。

属性的缺点：

*   访问速度较慢（读取和写入）。
*   不能作为`ref`参数传递给方法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-09T08:53:06.913

这个问题在这里被问了很多次。*这些*案例没有明确的利益证据（财产内部没有逻辑）。会说更多，使用字段，您可以获得一些最小（纳米）的速度优势，但与 99.99% 的情况无关。

MS 定义的**指南****建议**使用`properties`, 来提高代码的可扩展性和可维护性。因此，遵循该指南可以让不熟悉代码的人更轻松地阅读它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-09T08:55:20.863

请参阅[此 Jon Skeet 教程](http://csharpindepth.com/articles/chapter8/propertiesmatter.aspx)或[何时使用属性而不是函数](https://stackoverflow.com/questions/1374273/c-sharp-when-to-use-properties-instead-of-functions)来讨论此问题。还有十亿个与此主题相关的问题和资源，Google/SE 搜索将公开这些问题和资源。

我希望这有帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-09T09:09:46.043

据我说，使用“get-set”是提供一个属性。基本上，您在为变量提供 get-set 属性的同时实现了封装的概念。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-09T09:25:10.793

想象一下，您在一个类中有公共变量来存储数据。但是，如果您需要进行数据验证，则无法使用类中的公共变量来执行此操作。因为你无法控制它们。局外人、其他程序员、任何访问您的项目的人都可以在一个类中编辑这些公共变量。

**主要是，为了控制对您类中数据的访问，我们使用属性。**它们仍然是变量，但在您班级的权限范围内。这些变量可以来自任何数据类型（例如 String、Int、Bool、Objects 等）

可以使用三个主要选项来实现属性，具体取决于您希望使用属性实现的目标/方式。

```
Get - access to the property and retrieve its value
Let - access to the property and update its value
Set - access to the property and used with objects 
```

了解 Get/Set 方法的真正用途至关重要。我同意 Tigaran 的评论。

**如果有人要对我投反对票，我想知道原因！**

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-09T08:54:27.387

我想你已经回答了你自己的问题。

对于像这样的简单情况，没有真正的优势。使用速记属性创建自动获取/设置方法：

```
public int Foo { get; set; } 
```

对于需要转换的更复杂的示例，您可以使用显式的 get 和 set 方法灵活地更改内容。

# makefile - 执行包含许多文件的大型 Coq 项目

> ID：13304766
> 
> 赞同：2
> 
> 时间：2012-11-09T08:49:26.137
> 
> 标签：makefile, coq

我有一个 Coq 项目，其中包含许多文件（例如 x1.v、x2.v、... xn.v），包括存储在文件夹“C:\Users\WK\Desktop\Personal\coq-project”中的 Makefile 和在我的 Windows 7 机器上的“C:\Coq”中安装了 Coq 8.3。

Coq 程序（文件）相互依赖。如何在 Coq 中执行单个程序（比如 x1.v）？我想在 Coq 中打开一个文件并逐行编译以理解它，但它会给出错误，因为每个文件中有许多导入的文件，而没有一个 (.vo) 格式的文件。我认为命令 coqc、coqtop、make 或这些命令的任何组合都有一些用途，但我不知道命令、参数和顺序的确切格式。请让我给出完整路径的完整命令记住上述路径。

谢谢，

维拉亚特

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T08:55:24.017

只需运行 make

如果您的 Makefile 正确，它应该创建所有 .vo 文件。

# hibernate - 从 EntityManager 获取 jdbc 连接时的事务行为

> ID：13304768
> 
> 赞同：0
> 
> 时间：2012-11-09T08:49:30.453
> 
> 标签：hibernate, jakarta-ee, stored-procedures, jpa, transactions

在将一些 C++ 代码移植到 Java 的过程中，我需要调用带有输入/输出参数的存储过程。由于我无法更改此过程（例如，使用 hibernate 和 em.createNativeQuery），我想我必须从 EntityManager 中解开休眠会话以获取底层 jdbc 连接。

我现在的问题是这个连接会参与由 EJB-Container (JBoss AS 7.1) 启动的容器管理事务，还是在这种情况下我必须手动管理事务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:02:15.640

与 Hibernate session/EntityManager 相关联的连接与当前事务上下文相关联。由于容器已经启动了 JTA 事务（假设这里是这种情况），您不需要手动管理事务。

但是，您可能必须管理一个不同的问题 - 事务级缓存以及与其他缓存的缓存同步。如果存储过程的调用以使缓存陈旧的方式更新数据库，那么您需要清除它们的内容。有时您可能只需要清除某些条目，而有时它可能是整个缓存本身；所有这一切都取决于哪些类型的条目会变得陈旧。

# python - 递增python字典的潜在空键的值

> ID：13304776
> 
> 赞同：0
> 
> 时间：2012-11-09T08:50:20.927
> 
> 标签：python, dictionary

是否有更正确的方法来执行以下操作：

```
if a in dic.keys():
    dic[a] += 1
else:
    dic[a] = 1 
```

即，当字典中的键可能不存在时，增加对应于键的值。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-09T08:51:16.057

使用[`dict.get`](http://docs.python.org/2/library/stdtypes.html?highlight=dict.get#dict.get)：

```
dic[a] = dic.get(a, 0) + 1 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-09T08:51:27.517

您可以使用[defaultdict](http://docs.python.org/2/library/collections.html#collections.defaultdict)为字典中不存在的键提供默认值。

```
>>> d = defaultdict(int)
>>> d[1] += 1
>>> d[1]
    1
>>> d[5]
    0 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-09T08:57:01.883

你可以使用 collections.Counter()

```
dic = collections.Counter()
dic['a'] += 1
dic['b'] # will be zero 
```

请参阅[http://docs.python.org/2/library/collections.html#collections.Counter](http://docs.python.org/2/library/collections.html#collections.Counter)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-09T08:56:59.567

你可以使用`dict.setdefault()`：

```
In [12]: dic=dict(zip(('a','b'),[0]*2))

In [13]: dic
Out[13]: {'a': 0, 'b': 0}

In [14]: dic['c']=dic.setdefault('c',0)+1

In [15]: dic
Out[15]: {'a': 0, 'b': 0, 'c': 1}

In [16]: dic['a']=dic.setdefault('a',0)+1

In [17]: dic
Out[17]: {'a': 1, 'b': 0, 'c': 1} 
```

使用循环：

```
In [18]: dic=dict(zip(('a','b'),[0]*2))

In [19]: for x in ('a','b','c','a'):
   ....:     dic[x]=dic.setdefault(x,0)+1
   ....:     

In [20]: dic
Out[20]: {'a': 2, 'b': 1, 'c': 1} 
```

# java - Java Mail API 无法读取收件箱

> ID：13304777
> 
> 赞同：2
> 
> 时间：2012-11-09T08:50:24.920
> 
> 标签：java, email, outlook

我曾尝试实现一个使用 pop3 协议读取 Outlook 收件箱的简单程序，但即使有 2 封未读邮件，服务器也会返回零邮件。为什么会出现这个问题？它与 Microsoft Exchange 服务器设置有关吗？

```
public void retrieveEmail() {
        // JavaMail API - Exchange server to allow IMAP access

        // mail server connection parameters
        String user = "";
        String password = "";

        // connect to my pop3 inbox
        Properties properties = new Properties();

        properties.put("mail.store.protocol", "pop3");
        properties.put("mail.pop3.host", host);
        properties.put("mail.pop3.port", "110");
        properties.put("mail.pop3.user", user);
        properties.put("mail.pop3.timeout", "158000");
        properties.put("mail.pop3.connectiontimeout", "158000");

        Session session = Session.getInstance(properties);
        session.setDebug(true);

        Store store = null;
        Folder inbox = null;

        try {
            store = session.getStore("pop3");
            store.connect(host, user, password);
            inbox = store.getFolder("Inbox");
            inbox.open(Folder.READ_ONLY);

            // get the list of inbox messages
            int totalMsg = inbox.getMessageCount();
            int unread = inbox.getUnreadMessageCount();
            Message[] messages = inbox.getMessages();
            Message[] msg = inbox.search(new FlagTerm(new Flags(Flag.SEEN), false));

            System.out.print("size " + messages .length);
            if (messages.length == 0) System.out.println("No messages found.");

            for (int i = 0; i < messages.length; i++) {

                // stop after listing ten messages
                if (i > 10) {
                    System.exit(0);
                    inbox.close(true);
                    store.close();
                }

                System.out.println("Message " + (i + 1));
                System.out.println("From : " + messages[i].getFrom()[0]);
                System.out.println("Subject : " + messages[i].getSubject());
                Object content = messages[i].getContent();

                if (content instanceof String)  
                    System.out.print((String)content);  
                /* text/plain = String
                 * multipart" = Multipart
                 * MimeMessage
                 * input stream = Unknown Data Handler 
                 */

            }

            inbox.close(true);
            store.close();

        } catch (NoSuchProviderException e) {
            System.out.println(e.getMessage());
        } catch (MessagingException e) {
            System.out.println(e.getMessage());

        } catch (IOException e) {
            System.out.println(e.getMessage());
        } 
    } 
```

编辑1：

我调试它并意识到文件夹中的变量总数为零

请帮忙。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T04:27:41.297

询问您的电子邮件管理员上述电子邮件帐户的“别名”的交换价值是多少。例如，如果他们将值设置为“香蕉！” 那么您必须将上面的代码更改为读取 store.getFolder("Bananas!") 而不是 store.getFolder("Inbox");

# java - 如果我在调试模式下启动 tomcat，为什么 tomcat 可以重新加载我修改过的类？

> ID：13304782
> 
> 赞同：2
> 
> 时间：2012-11-09T08:50:44.933
> 
> 标签：java, tomcat, jvm

类似的问题是 [动态类重新加载仅在调试模式下工作，为什么/如何真正工作？](https://stackoverflow.com/questions/10581127/dynamic-class-reloading-works-only-in-debug-mode-why-how-it-really-works) ，但我仍然感到困惑，我还有其他问题。

当我开发 Web 应用程序并使用 tomcat 时，如果我使用调试模式启动它。修改后的代码无需重启即可立即生效。

如何实施？

为什么修改代码的效果是由tomcat启动方式决定的？

为什么更改方法名称后更改的代码无法生效？（我知道如果我更改方法体的代码，它可以工作）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T10:34:45.440

Q> 为什么修改代码的效果是由tomcat启动方式决定的？
A> [Hotswap](http://docs.oracle.com/javase/1.4.2/docs/guide/jpda/enhancements.html#hotswap)功能是 JPDA（Java ^(TM)平台调试器体系结构）的一项功能。它是在 Java v1.4.2 中添加的。阅读链接以获取更多信息。

Q> 如何实现？
A> 这是 HotSpot JVM 的一个特性

Q> 为什么修改方法名后代码不能生效？
A> 我猜 - 因为支持更改的方法签名需要更多的工作来实现。这就像在运行时重新链接每个类/方法。汽车类比：这就像在驾驶时更换所有四个轮胎;-)。如果您需要此功能，请考虑使用其他 3rd 方工具，例如 JRebel。

# wpf - 是否可以将重复的 DataTrigger Binding 设置为样式？

> ID：13304795
> 
> 赞同：0
> 
> 时间：2012-11-09T08:51:50.217
> 
> 标签：wpf, silverlight, xaml, styles

是否可以将如下的 DataTrigger 绑定设置为重复绑定但绑定路径不同的样式？

```
<Button Grid.Row="2" Grid.Column="1"   VerticalAlignment="Center" Background="{Binding Dyes[4].DyeBrush}">
        <Button.Style>
            <Style TargetType="Button" BasedOn="{StaticResource Dye}">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding Path=Dyes[4].IsReferenceDye}" Value="True">
                        <Setter Property="Content" Value="R" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
        </Button.Style>
    </Button>

    <Button Grid.Row="3" Grid.Column="1"  VerticalAlignment="Center" Background="{Binding  Dyes[5].DyeBrush}">
        <Button.Style>
            <Style TargetType="Button" BasedOn="{StaticResource Dye}">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding Path=Dyes[5].IsReferenceDye}" Value="True">
                        <Setter Property="Content" Value="R" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
        </Button.Style>
    </Button> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:55:20.830

让你的风格喜欢

```
<Style x:Key="ButtonStyle" TargetType="Button" BasedOn="{StaticResource Dye}">
        <Style.Triggers>
            <DataTrigger Binding="{Binding Path=IsReferenceDye}" Value="True">
                <Setter Property="Content" Value="R" />
            </DataTrigger>
        </Style.Triggers>
    </Style> 
```

并将其用作

```
<Button Grid.Row="3" Grid.Column="1" 
            DataContext="{Binding Dyes[5]}" 
            Style="{StaticResource ButtonStyle}"
            VerticalAlignment="Center" Background="{Binding  Dyes[5].DyeBrush}"/> 
```

希望这可以帮助。

# java - Hibernate：将 mysql Query Datedif 转换为 HQL Query

> ID：13304802
> 
> 赞同：0
> 
> 时间：2012-11-09T08:52:02.623
> 
> 标签：java, mysql, hibernate

这是我在 mysql 中的查询

```
SELECT DATEDIFF('2008-11-30','2008-11-29') AS DiffDate 
```

如何转换为 Hibernate 查询语言

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T09:11:02.830

您可以通过扩展mysql方言并使用注册它来实现此目的的一种方法[`registerFunction(String, SQLFunction)`](http://docs.jboss.org/hibernate/orm/3.6/javadocs/org/hibernate/dialect/Dialect.html#registerFunction%28java.lang.String,%20org.hibernate.dialect.function.SQLFunction%29)

```
public class CustomMySQL5InnoDBDialect extends MySQL5InnoDBDialect {

  public CustomMySQL5InnoDBDialect () {
    super();
    registerFunction( "datediff", new SQLFunctionTemplate( StandardBasicTypes.INTEGER, "datediff(?1, ?2)" ) );
 }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T09:06:36.963

我不认为你可以将这个特定的 mysql 函数放入 JPA/HQL 中（如果你愿意，你仍然可以使用一些本机查询）。更好的方法是使用第三方库`[Joda-time][1]`来计算两个日期之间的天数。我真的不明白为什么我们应该为此使用数据库。

# algorithm - 多重集或袋子是否比保持键计数的简单哈希提供更好的时间复杂度？

> ID：13304813
> 
> 赞同：0
> 
> 时间：2012-11-09T08:52:38.343
> 
> 标签：algorithm, data-structures, multiset, bag

Java 有 multiset，SmallTalk 有 Bag 类，据说它们的功能相同：保留一组值，但允许多个值（每个值都有一个计数）。

但似乎多重集可以通过一个对键进行计数的哈希表来实现（或者可能还有其他可能的实现）。

多重集或包的某些实现是否提供比上述哈希更好的时间复杂度？所需的操作可以是

1.  插入项目
2.  删除项目
3.  获取集合中的最小值
4.  获取集合中的最大值

特别是，我希望对于上述 4 个操作中的每一个，它都可以做得比`O(n)`，可能全部`O(log n)`或更好。`O(log n)`（上面的 3 和 4仅在当添加或删除值时以某种排序方式维护多重集时才预期。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:00:46.237

这取决于 Multiset 是由 hastable 还是 sorted set 实现的。

对于哈希表，插入/更新操作为 O(1)（最小值和最大值为 O(n)），但缺点是哈希表无法保持元素有序。此外，这要求对于要存储的每个元素，都可以计算出一致的哈希值。

对于有序集合，所有操作都是 O(log n)，但好处是元素保持有序（因此，它在报告元素范围方面很有效）。这要求要存储的每个元素都是可比较的（即元素上存在排序）。

# ios - 无论使用什么字符串，sizewithfont 总是返回相同的值

> ID：13304823
> 
> 赞同：3
> 
> 时间：2012-11-09T08:53:29.107
> 
> 标签：ios, uitableview, sizewithfont

我想根据它的文本计算一个 tableviewcell 的高度。我正在使用

```
CGSize userInputSize = [userLabel sizeWithFont:[UIFont fontWithName:@"Arial" size:18.0f] forWidth:[tableView frame].size.width-10 lineBreakMode:NSLineBreakByWordWrapping] 
```

但不知何故，返回值始终是 22（字体大小）。奇怪的是，当我使用

```
CGSize userInputSize = [userLabel sizeWithFont:[UIFont fontWithName:@"Arial" size:18.0f] constrainedToSize:[tableView frame].size lineBreakMode:NSLineBreakByWordWrapping]; 
```

一切正常。但我更喜欢第一个版本，所以我可以轻松调整宽度。为什么它不起作用？

编辑：抱歉命名约定不好，但 userLabel 是 NSString 而不是标签

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T09:00:28.140

`sizeWithFont`是一种`NSString`方法（UIKit 添加）。采用：

```
CGSize userInputSize = [userLabel.text sizeWithFont:[UIFont fontWithName:@"Arial" size:18.0f] constrainedToSize:[tableView frame].size lineBreakMode:NSLineBreakByWordWrapping]; 
```

或者

```
CGSize userInputSize = [userLabel.text sizeWithFont:userLabel.font constrainedToSize:[tableView frame].size lineBreakMode:NSLineBreakByWordWrapping]; 
```

请参阅[NSString UIKit 添加参考](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/NSString_UIKit_Additions/Reference/Reference.html)。

**编辑：**

我刚试过这段代码：

```
NSLog (@"test: %@", NSStringFromCGSize([@"test" sizeWithFont:[UIFont fontWithName:@"Arial" size:18.0f]]));
NSLog (@"longer test: %@", NSStringFromCGSize([@"longer test" sizeWithFont:[UIFont fontWithName:@"Arial" size:18.0f]])); 
```

结果是：

```
test: {30, 22}
longer test: {85, 22} 
```

`CGSize`是一个`struct`：

```
struct CGSize {
   CGFloat width;
   CGFloat height;
};
typedef struct CGSize CGSize; 
```

所以你可能正在看`size.height`而不是`size.width`

**编辑2：**

来自文档[sizeWithFont:forWidth:lineBreakMode:](https://developer.apple.com/library/ios/documentation/UIKit/Reference/NSString_UIKit_Additions/Reference/Reference.html#//apple_ref/doc/uid/TP40006893-CH3-SW7)

> 如果字符串的大小超过给定的宽度，此方法会使用指定的换行模式截断文本（仅用于布局目的），直到它符合最大宽度；然后它返回生成的截断字符串的大小。

因此，您最好定义最大尺寸（真实`width`和大`height`）并使用：

```
- (CGSize)sizeWithFont:(UIFont *)font constrainedToSize:(CGSize)size lineBreakMode:(UILineBreakMode)lineBreakMode 
```

请看[这个答案](https://stackoverflow.com/a/447065/653513)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T08:58:30.087

我认为这种方式更容易。设置 userLabel 的“text”属性后，调用该方法。

```
[userLabel sizeToFit]; 
```

此时，userLabel.frame 已更改，使其适合所选字体的文本。您可以使用 userLabel.frame.size.height 来调整您的表格视图单元格。

# xml - ImageMagick 中 GhostScript 的文件路径

> ID：13304832
> 
> 赞同：6
> 
> 时间：2012-11-09T08:54:47.400
> 
> 标签：xml, windows, macos, imagemagick, ghostscript

我正在尝试使用 ImageMagick 在 PC 和 OSX 上将 PDF 转换为 PNG——但我实际上无法在我的软件将要使用的任何计算机上安装 GhostScript。

有没有办法将 GhostScript 与 ImageMagick 捆绑在一起，只需将 ImageMagick 的路径重定向到该包，这样我就可以使用它而无需在用户的计算机上正式“安装”它？

[我找到了这个页面](http://www.imagemagick.org/discourse-server/viewtopic.php?f=1&t=14213)，但我不明白如何更改 ImageMagick 中的 delegates.xml 文件以使其正常工作。我收集到我必须更改此行的某些部分：

```
 <delegate decode="pdf" encode="eps" mode="bi" command=""@PSDelegate@" -q -dQUIET -dPARANOIDSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -dEPSCrop -sDEVICE=epswrite "-sOutputFile=%o" -- "%i"" /> 
```

但我不知道该怎么做——把路径放在哪里，或者路径应该基于什么——ImageMagick的位置，还是别的什么？任何帮助将不胜感激。

**更新 v1.2：我尝试将上面的委托更改为以下，在命令行中使用可执行文件：**

```
 <delegate decode="pdf" encode="eps" mode="bi" command="&quot;F:\ImageMagickTest\ImageMagick\gs\bin\gswin32c.exe&quot; -q -dQUIET -dPARANOIDSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -dEPSCrop -sDEVICE=epswrite &quot;-sOutputFile=%o&quot; -- &quot;%i&quot;"/> 
```

但是当我运行程序时，我在 cmd 提示符中收到以下错误：

```
Microsoft Windows XP [Version 5.1.2600] 
```

(C) 版权所有 1985-2001 Microsoft Corp.

```
F:\Documents and Settings\Administrator>F:\ImageMagickTest\ImageMagick\convert.e
xe F:\ImageMagickTest\PDFs\Appointment.pdf F:\ImageMagickTest\ConvertedPDFs\Appo
intment.png
convert.exe: `%s' (%d) "F:/ImageMagickTest/ImageMagick/gs9.06/bin/gswin32c.exe"
-q -dQUIET -dPARANOIDSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -d
EPSCrop -dAlignToPixels=0 -dGridFitTT=2 "-sDEVICE=pngalpha" -dTextAlphaBits=4 -d
GraphicsAlphaBits=4 "-r72x72"  "-sOutputFile=F:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/
magick-5996ZNQmVN7RFumY--0000001" "-fF:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/magick-5
996r7pmg8XgvrNB" "-fF:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/magick-5996yhTQgwoLswnn"
@ error/utility.c/SystemCommand/1890.
convert.exe: Postscript delegate failed `F:\ImageMagickTest\PDFs\Appointment.pdf
': No such file or directory @ error/pdf.c/ReadPDFImage/679.
convert.exe: no images defined `F:\ImageMagickTest\ConvertedPDFs\Appointment.png
' @ error/convert.c/ConvertImageCommand/3044. 
```

对我来说，这似乎表明它没有找到文件“Appointment.pdf”。但它就在那里。我不是在摸索什么？

为了好玩，这里是 gs 的完整路径，取自 Windows 资源管理器：

```
F:\ImageMagickTest\ImageMagick\gs\bin\gswin32c.exe 
```

为了更有趣，这里是从 Unity 3D 应用程序中调用它的 c# 脚本（我没有收到任何错误）：

```
 string currDir = System.Environment.CurrentDirectory;
    string convertPath = currDir + @"\ImageMagick\convert.exe";
    string convertedDir = currDir + @"\ConvertedPDFs\";
    string pdfFolder = currDir + @"\PDFs\";
    string fileName = "Appointment";
    string argumentForImageMagick;

    argumentForImageMagick = pdfFolder + fileName + ".pdf" + " " + convertedDir + fileName + ".png";
    ProcessStartInfo info = new ProcessStartInfo {Arguments = argumentForImageMagick , FileName = convertPath};
    System.Diagnostics.Process.Start(info).WaitForInputIdle(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T10:33:57.263

尝试用（或您要将 Ghostscript 可执行文件安装到的任何路径）替换该`""@PSDelegate" -q`行的一部分。`"/usr/local/bin/gs -q`

根据您的环境，您可能需要向该命令行/行添加额外的参数，这些参数告诉`gs`（在 Windows 上：`gswin32c.exe`或`gswin64c.exe`）在哪里可以找到它的库：
`-I/usr/local/share/ghostscript/9.06/lib/`

* * *

**更新：** 尝试直接在 cmd.exe 窗口中运行此 Ghostscript 命令，以查看它是否有效（或产生哪些错误）：

```
"F:/ImageMagickTest/ImageMagick/gs9.06/bin/gswin32c.exe" \
   -o F:/ImageMagickTest/PDFs/test.png                   \
   -dEPSCrop                                             \
   -dAlignToPixels=0                                     \
   -dGridFitTT=2                                         \
   -sDEVICE=pngalpha                                     \
   -dTextAlphaBits=4                                     \
   -dGraphicsAlphaBits=4                                 \
   -r72                                                  \
    F:/ImageMagickTest/PDFs/Appointment.pdf 
```

不要担心我使用正斜杠（'/'）作为目录分隔符——Windows 上的 Ghostscript 可以很好地处理这些。

我希望您的 Ghostscript 安装是最新版本（否则它将无法理解`-o`输出文件的语法）。

如果此命令不起作用，您应该会在窗口中看到某种错误消息（因为我跳过了`-q -dQUIET`参数）。

可能 Ghostscript 找不到它的库，因为您可能只复制了 .exe 文件，而没有正确安装完整的软件包。

也许您需要添加`-I"F:/ImageMagickTest/ImageMagick/gs9.06/lib"`或类似于命令行的内容（我不知道您的 Ghostscript`/lib`目录是否真的位于 - 这只是一个猜测！）：

```
"F:/ImageMagickTest/ImageMagick/gs9.06/bin/gswin32c.exe" \
   -o F:/ImageMagickTest/PDFs/test.png                   \
   -I"F:/ImageMagickTest/ImageMagick/gs9.06/lib"         \
   -dEPSCrop                                             \
   -dAlignToPixels=0                                     \
   -dGridFitTT=2                                         \
   -sDEVICE=pngalpha                                     \
   -dTextAlphaBits=4                                     \
   -dGraphicsAlphaBits=4                                 \
   -r72                                                  \
    F:/ImageMagickTest/PDFs/Appointment.pdf 
```

只有在 cmd.exe 窗口中直接运行 Ghostscript 成功后，您才应该继续修改 delegates.xml 中的行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-09T09:35:42.580

尝试在没有管理权限的计算机上使用 ImageMagick 和 GhostScript（使用两者的便携版本）时，我遇到了同样的问题。尝试在 delegates.xml 中手动设置 GhostScript 的路径时出现错误，尝试将隐藏的 PDF 文件批量转换为 TIFF。

我找到的**解决方案**`"@PSDelegate"`是用完整路径替换所有实例，例如：`&quot;C:\<path_to_exec>\gswin32c.exe&quot;`在 delegates.xml 文件中，而不仅仅是 PDF 特定行。在这之后它工作得很好。

这可能是因为 GhostScript 也用于其他格式，并且`"@PSDelegate"`在转换 PDF 文件时可能依赖于 delegates.xml 文件中的其他实例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-29T12:14:30.443

`Postscript delegate failed`在运行 ImageMagick 进行 PDF 阅读时，我也收到了这条消息。问题是由 ImageMagick 读取以下注册表项之一（在 SOFTAWRE 下）以获取 Windows 上 gs 可执行文件的路径引起的。

*   GPL 鬼脚本
*   GNU 鬼脚本
*   AFPL Ghostscript
*   阿拉丁鬼脚本

问题是这指向了一个非常旧版本的 Ghost 脚本，安装在用户的机器上，并且无法将 PDF 转换为图像。

解决方案是从机器上卸载有问题的古老包，或者更新 delegates.xml 文件以明确指向随附的 gs 可执行文件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-11-10T15:19:11.533

我有同样的问题，没有一个答案有帮助。事实证明，安装了 32 位版本的 ImageMagick 和 64 位版本的 GhostScript，但播放效果不佳。因此，我们删除了 64 位 GhostScript 并安装了 32 位版本，并且在取消了 delegates.xml 中的路径后它工作正常

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-12-22T00:51:43.737

就我而言，这是 Windows 10 上的问题。

我尝试了不同的选项，但 ImageMagick 总是尝试使用 gs.exe。所以我做了一些我认为不起作用的事情，基本上将我的**gswin64c.exe**文件重命名为**gc.exe**。

在那之后它就起作用了。我唯一需要的是将路径添加到 exe 所在的环境变量中，在我的例子中是：`C:\Program Files\gs\gs9.53.3\bin`.

# php - 没有获得网站的 Alexa 排名

> ID：13304833
> 
> 赞同：0
> 
> 时间：2012-11-09T08:54:50.103
> 
> 标签：php

我正在尝试获得任何链接的 Alexa 排名。我找到了一个简单的类，它是

```
Class Alexa {

    function getAlexaRank($url)
    {
        $request_url = "http://data.alexa.com/data?cli=10&dat=snbamz&url=".$url;
        $xml = simplexml_load_file($request_url) or die("feed not loading");
        return $xml->SD->POPULARITY['TEXT'];
    }

} 
```

当我去这个链接

[http://data.alexa.com/data?cli=10&dat=snbamz&url=google.com](http://data.alexa.com/data?cli=10&dat=snbamz&url=google.com)

我明白了

```
<SD>
<POPULARITY URL="google.com/" TEXT="2" SOURCE="panel"/>
<REACH RANK="1"/>
<RANK DELTA="+1"/>
<COUNTRY CODE="US" NAME="United States" RANK="1"/>
</SD> 
```

但是为什么这个类不起作用？它不返回任何东西

谢谢你 ：）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T09:07:11.157

```
<?php
/**
 * Get Popularity Text of a Domain via Alexa XML Data
 *
 * @return string|FALSE text or FALSE on error
 */
function alexa_get_rank($domain)
{
    $alexa = "http://data.alexa.com/data?cli=10&dat=snbamz&url=%s";
    $request_url =  sprintf($alexa, urlencode($domain));

    $xml = simplexml_load_file($request_url);
    if (!$xml) {
        return FALSE;
    }

    $nodeAttributes = $xml->SD[1]->POPULARITY->attributes();
    $text = (string) $nodeAttributes['TEXT'];

    return $text;
}

var_dump(alexa_get_rank('google.com'));
// string(1) "2" 
```

# mfc - CDocument 和 CPropertySheet 的关系

> ID：13304834
> 
> 赞同：0
> 
> 时间：2012-11-09T08:54:52.847
> 
> 标签：mfc, relationship, mdi

我有一个在 MDI MFC 应用程序中使用我的类的方法之一`CPropertySheet`初始化的实例`DoModal()``CDocument`

我的问题是我想从工作表刷新与文档关联的视图而不结束`DoModal()`.

我如何将手柄`CDocument`从我的手中拿回，`CPropertySheet`以便我可以轻松地操纵`CView`？

我从这篇 MSDN 文章中尝试了不同的东西，但我无法检索到我想要的东西[http://msdn.microsoft.com/en-us/library/bs315d2c.aspx](http://msdn.microsoft.com/en-us/library/bs315d2c.aspx)

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:17:09.410

您可以使用 SendMessage 或 PostMessage 到目标窗口。单击应用按钮时执行此操作。

参考：[http ://cppandmfc.blogspot.com/2012/08/mfc-creating-and-using-property-page.html](http://cppandmfc.blogspot.com/2012/08/mfc-creating-and-using-property-page.html)

你会从那篇文章中得到一个好主意

# visual-studio-2010 - 从 Visual Studio 连接到 tfs Azure

> ID：13304835
> 
> 赞同：6
> 
> 时间：2012-11-09T08:54:54.873
> 
> 标签：visual-studio-2010, azure, visual-studio-2012, azure-devops

[我在云端的 tfs 2012](https://tfs.visualstudio.com/)上创建了我的第一个`Team Project`帐户。

现在，我怎样才能通过`Visual Studio 2012`我的电脑连接到它？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-09T08:58:11.403

您可以在下面的链接中找到您问题的答案

[将 Visual Studio 连接到您的团队项目](https://tfs.visualstudio.com/en-us/learn/code/connect-vs/#connectvs)

此外，还有另一种解决方案可以做到这一点。

1.  打开视觉工作室 2012
2.  从菜单栏中，选择**查看**->**团队资源管理器**
3.  在 Team Explorer 视图中，选择团队项目名称旁边的**上下文菜单图标**，然后选择**Projects and My Teams** -> **Connect to Team Projects**。
4.  在“连接到团队项目”对话框中，选择“服务器”按钮。
5.  在“添加/删除 Team Foundation Server”对话框中，选择“添加”按钮。
6.  在“添加 Team Foundation Server”对话框中，键入服务器的名称或 URL。在您的情况下（https://yourname.visualstudio.com）。

在此过程中，系统可能会要求您输入 Windows Live 帐户（outlook.com、hotmail.com 等）的凭据

# javascript - 如何使用 blueimp 文件上传插件只上传一次文件？

> ID：13304838
> 
> 赞同：11
> 
> 时间：2012-11-09T08:55:15.187
> 
> 标签：javascript, jquery, file-upload, blueimp

我正在使用[bluimp jQuery-File-Upload-plugin](http://blueimp.github.com/jQuery-File-Upload/)。选择一些文件并上传它们是没有问题的，但是当我想在不刷新页面的情况下上传另一个文件时，第一个文件又被上传了。我的问题是如何在上传文件后“取消设置”文件。这是我的源代码

Javascript：

```
$('#MappeFile').fileupload({
        dataType : 'json',
        autoUpload : false,
        maxNumberOfFiles : undefined,
        maxFileSize : 6000000,
        minFileSize : undefined,
        acceptFileTypes : /.+$/i,
        url : "/ajax/UploadFile.php",
        add : function(e, data) {
            $("#testUploadButton").on("click", function() {
                    $('#progress .bar').show();
                    if ($.browser.msie && parseInt($.browser.version, 10) < 10) {
                        $('#progress .bar').css({
                            "background" : "url(images/progressbar.gif) no-repeat",
                            "width" : "100%"
                        })
                    } else {
                        $('#progress .bar').css({
                            'background-color' : "#2694E8",
                            'width' : '0%'
                        });
                    }
                data.submit();
            })
        },
        change : function(e, data) {
            $.each(data.files, function(index, file) {
                console.info('Selected file: ' + file.name);
                filesCount++;
            });
        },
        drop: function(e, data) {
            $.each(data.files, function(index, file) {
                console.info('Selected file: ' + file.name);
                filesCount++;
            });
        },
        done : function(e, data) {
            $.each(data.result, function(index, file) {
                vOutput = "<tr>";
                vOutput += "<td>" + file + "</td>";
                vOutput += "<tr>";
                $("#MappeFileListe").append(vOutput);
                filesUploaded++;
                if (filesCount == filesUploaded) {
                    filesUploaded = 0;
                    filesCount=0;
                    $('#progress .bar').hide();
                }
            });
        },
        progressall : function(e, data) {
            var progress = parseInt(data.loaded / data.total * 100, 10);
            $('#progress .bar').css('width', progress + '%');
        }
    }); 
```

HTML：

```
<div id="KundeMappe">
    <form id="MappeFile">
        <input type="file" id="MappeFileSelect" name="files[]" data-url="ajax/UploadFile.php" multiple/>
        <div id="progress">
            <div class="bar" style="width: 0%;"></div>
        </div>
        <input type="button" class="neuButton" value="upload" id="testUploadButton"/>
    </form>
    <table id="MappeFileListe"></table>
</div> 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-09T13:31:01.130

我自己找到了答案——上传后解绑按钮的点击事件就够了：

```
add : function(e, data) {
            $("#testUploadButton").on("click", function() {
                    $('#progress .bar').show();
                    if ($.browser.msie && parseInt($.browser.version, 10) < 10) {
                        $('#progress .bar').css({
                            "background" : "url(images/progressbar.gif) no-repeat",
                            "width" : "100%"
                        })
                    } else {
                        $('#progress .bar').css({
                            'background-color' : "#2694E8",
                            'width' : '0%'
                        });
                    }
                data.submit();
                $("#testUploadButton").off("click")
            })
        }, 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-03-25T11:42:59.063

我有一个类似的问题，以前上传的文件包含在下一次上传中。您可以尝试以下解决方案：

**在添加功能上，只需添加文件输入元素的“更改”事件，如下所示：**

```
$('#YourFileUploadElementId').change(function(e) {
     data.files.splice(0); // Clear All Existing Files
}); 
```

**下面的完整示例：**

```
$('#YourFileUploadElementId').fileupload({
    // Some options
    add: function (e, data) {
        $('#YourFileUploadElementId').change(function(e) {
          data.files.splice(0); // Clear All Existing Files
        });
    },
    // Other Events
 }); 
```

**注意：**只需将**YourFileUploadElementId**更改为您的文件上传元素 ID。

**这是 jsfiddle.net 上的完整示例**

[http://jsfiddle.net/dustapplication/cjodz2ma/5/](http://jsfiddle.net/dustapplication/cjodz2ma/5/)

# magento - 重命名顶部链接

> ID：13304840
> 
> 赞同：1
> 
> 时间：2012-11-09T08:55:22.447
> 
> 标签：magento

我是新来的`magento`

我正在尝试重**命名**`top links`

但是找不到*对应的文件*

请帮我找到文件

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T09:01:51.883

```
path:design/frontend/base/default/template/page/html/top.links.phtml 
```

我不知道你需要这个的目的是什么，但是

```
<?php
/**
 * @deprecated after 1.4.0.1
 */
?> 
```

它已被弃用。
相反，我认为 magento 用于`path:design/frontend/base/default/template/page/template/links.phtml`显示 toplinks 。
希望这对您有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-09T14:41:49.947

转到系统 > 配置并打开开发人员选项卡。将“内联翻译”设置为是。

完成后，您将在可以编辑的文本上看到一个小书图标。请注意，这似乎在 Chrome 中不起作用，但在 Firefox 中运行良好

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T08:03:40.197

您可以从 xml 文件编辑顶部链接名称。如果您想将**我的帐户**编辑为**帐户**，只需在您的`themes/layout/customer.xml`.
查找`reference name="top.links"`并编辑标签。

# javascript - 如何检测 div 是否在引导 twitter 中使用滚动？

> ID：13304842
> 
> 赞同：2
> 
> 时间：2012-11-09T08:55:37.370
> 
> 标签：javascript, jquery, html, css, twitter-bootstrap

> **可能重复：**
> [如何检查滚动条是否可见？](https://stackoverflow.com/questions/4814398/how-can-i-check-if-a-scrollbar-is-visible)

我有一个 div，`overflow : auto`所以我不知道它什么时候滚动。但这取决于布局。现在我需要知道它何时滚动，以便我可以在其中应用一些业务逻辑。如何捕捉这个事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:00:09.040

你可以这样检查。当内容发生变化时，您需要附加一个处理程序。并检查内容`width`,`height`和`scrollWidth`,`scrollHeight`是否相等。

你可以用**jQuery**做，这样：

```
if ($("div").scrollHeight == $("div").height)
   // Has Scrollbars 
```

# android - Android Sockets - 我的代码在 2.3.6 中工作，但在 4.x 中没有

> ID：13304847
> 
> 赞同：-2
> 
> 时间：2012-11-09T08:56:10.030
> 
> 标签：android, sockets, tcp, connection, wifi

我是 Android 和 Java 编程的新手，我被困住了。

我能够创建一个 TCP/IP 通信客户端（通过 LAN），它在基于 Windows 的 Web 服务器上发送文本消息。该代码在我目前在 2.3.6 上运行的三星 Galaxy S Advance 手机上运行良好。但是，在运行 Android 4.0 和 Android 4.1 的其他两台设备上尝试 apk 文件时，应用程序正在运行，但 PC 上没有收到任何消息（测试是在同一网络上进行的）。

我用于发送数据包的功能如下：

```
public void sednit(String IP,String MSG) {
try {
        // Socket  s = new Socket ("192.168.128.102",39999);
      Socket  s = new Socket (ipaddress,39999);
       //outgoing stream redirect to socket
       OutputStream  out = s.getOutputStream();
       PrintWriter  output = new PrintWriter (out);
       output.println(MSG);
       output.flush();
       BufferedReader  input = new BufferedReader (new InputStreamReader(s.getInputStream)));
       //read line(s)
       String  st = input.readLine();
       //Close connection
       s.close();
      } catch (Exception e) {
        // Toast.makeText(getApplicationContext(), e.toString(),Toast.LENGTH_LONG).show();
          Toast.makeText(getApplicationContext(), "Unable to communicate with player", Toast.LENGTH_LONG).show();
      } 
```

**我究竟做错了什么？**

Android 4 及更高版本是否有任何限制，或者我弄乱了我的清单文件？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:49:10.580

您很可能会遇到[`NetworkOnMainThread`](http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html)异常。自 Android Honeycomb 以来，您需要在单独的线程中执行网络操作以提高 UI 响应能力。最简单的方法是[`AsyncTask`](http://developer.android.com/reference/android/os/AsyncTask.html)在网络短的情况下使用 an 来管理您的网络操作，或者`java.io.Thread`在需要维护连接时进行扩展。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T09:17:20.157

正如 Tomislav 在评论中所说，使用 Asynctask 进行网络通信。
也是`catch (Exception e) {`一个非常糟糕的主意.. 捕获您所指望的异常，以便其他人可能被抛出并且您可以看到它们。当您执行此操作时，我们不知道您的程序出了什么问题...

所以请要么做 e.printStackTrace(); 或删除 try/catch 以便我们获取您的 logcat 并为您提供帮助。

# c - 如何比较枚举值

> ID：13304849
> 
> 赞同：14
> 
> 时间：2012-11-09T08:56:16.013
> 
> 标签：c, enums

我有一个关于`enum`C的问题。

我`enum`通过以下方式定义了一个：

```
typedef enum
{
    Hello1 = 1,
    Hello2 = 2,
    Hello3 = 3
}Hello

Hello hello;

int value = 3; 
```

那么如何将值与中的值进行比较`Hello`？

例如：

```
if(value == Hello3)
{
} 
```

还是我应该这样做：

```
if(value == Hello.Hello3)
{
} 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-11-09T08:56:58.133

这种方式是正确的：

```
 if (value == Hello3)
 {
 } 
```

`enum`常量的类型是`int`.

您的第二个构造无效。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-09T09:01:47.733

`enum`不是结构，成员名称只是对应的名称`constants`。定义的这些名称`enum`不是`enum`like in的数据成员`struct`（如您所想）。

所以记住`enum`用于定义命名整数常量的列表，我们也可以使用它`#define`。

所以在你的情况下：

```
if(value == Hello3)
{
} 
```

这是比较的正确方法，因为它在编译时替换`Hello3`为值`3`（只不过是）。`int`

例如，您也可以这样做：

```
Hello hello=2;
if(hello == Hello2)
{
} 
```

# java - 在 Hybris 电子商务上创建产品数据模型

> ID：13304854
> 
> 赞同：2
> 
> 时间：2012-11-09T08:56:28.790
> 
> 标签：java, e-commerce, data-modeling, datamodel, hybris

我正在评估不同的电子商务平台。作为这项工作的一部分，我正在评估我们目前的产品结构如何适应平台。对于像 IBM 这样的供应商来说，这很容易，因为他们在网络上公开了所有材料。我对 Hybris 电子商务越来越感兴趣。然而，他们没有任何可用的材料。他们有一个我可以访问的私人维基，但即使他们的数据模型上也没有材料。

Hybris 的代表一直坚持认为他们的产品非常灵活，可以创建任何数据模型。好吧，我相信他们，但仍然存在不应该跨越的界限，例如 GUI 和报告显示某些数据片段，而 OOB 订单管理肯定依赖于某些数据。为了充分利用 OOB 特性，我创建的数据模型必须遵循 Hybris 的数据模型。然而，Hybris 不允许我查看他们的数据模型，所以我处于一种先有鸡还是先有蛋的境地。

> **现在我的问题是：你有在 Hybris 上建模产品结构的经验吗？你是如何做到的？所有帮助表示赞赏！1！**

干杯!

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-10-30T08:46:44.820

Hybris的数据模型或者说TYPE SYSTEM非常灵活。在过去的 4 年里，我一直在研究 Hybris，从来没有遇到过只要涉及建模就会失败的情况。类型系统是 Hybris ORM，其中所有 Java 对象都以 XML 格式定义，同时映射到数据库表和列。支持所有的 java 数据类型，也支持类型集合。类型系统独立于 DB 的选择，并且即使在 DB 更改时，也对 items.xml 几乎没有任何更改（或非常少的额外配置）。CLOB 例外，它需要数据库供应商特定的或等效的数据库列数据类型配置，同样在相同的 items.xml 中。

就 Hybris 关系而言，建模关联也很简单

1.  1:1 -> 建模为 Object2 作为 Object1 的属性
2.  1:n 或 n:1 -> 由具有源和目标属性的关系项建模
3.  n:m -> 由具有源和目标属性并在单独的数据库表下的关系项建模

现在回到产品，产品有两个层次结构，可能存在于多层次结构中。2 个基本层次结构是产品和产品变体。

让我们为服装产品建模，可能有 4 种产品：

1.  产品本身是 SKU：BaseProduct
2.  产品有颜色变体：BaseProduct -> ColorVariant
3.  产品有尺寸变体：BaseProduct -> SizeVariant
4.  产品具有颜色和尺寸变体：BaseProduct -> ColorVariant -> SizeVariant

所有产品属性都将保存在 BaseProduct 中，而 Variants 将仅保存不同的属性，例如颜色、尺寸和成本。

根据产品推断变体的类型，产品-变体层次结构路径将增长，简单且重复最少或无重复。

对于BaseProduct建模，唯一必须的属性是产品代码，其余的都是可选的，所以很方便。这有助于通过工作流运行丰富过程，并有助于非常灵活的基础实施，并增加特定要求的范围。

通过服务层服务和加速器对 GUI 的开箱即用支持是值得称道的，即使添加了自定义属性的负载，这也足够了，因为它是从 ITEM 驱动到 MODEL 然后是 DATA 转换。实现完全控制要从模型填充到数据的数据和数据段。

报告由基于 Jasper 报告的报告主控室驱动。使用 JOINS 和 UNIONS 定义灵活的搜索查询，甚至可以选择为报告属性值填充执行小型 Java 代码。

在我看来，Hybris 很好地涵盖了建模、转换、GUI 和报告。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-10-07T12:03:27.507

Hybris 开箱即用，为您选择启用的每个扩展提供一个基本数据模型。该数据模型包含您对电子商务平台、产品、类别、分类等的所有期望。

通常，人们不会期望从该数据模型中删除任何内容，而只会使用特定于您的应用程序的新类型和属性对其进行扩展。您不希望使用的任何现成项目或属性都可以不填充它们。

我的建议是从 wiki 下载并安装最新版本的 Hybris 并启动它（我建议使用本地 MySQL DB，因为默认的 HSQLDB 可能有点慢）。设置很简单——您应该能够在 Hybris wiki 上找到指南（查看开发者线索）。

完成此操作后，请查看各种驾驶舱以了解演示店面的设置方式。HMC ( `http://localhost:9001/hmc/hybris`) 应该让您对数据模型有一个很好的印象，因为它的组织与下面的数据模型紧密相关。

我建议您尽可能使用标准的 Hybris 类型，因为它允许您使用提供各种业务用户界面的标准驾驶舱。

# java - 在 ubunthu 的类路径中设置 log4j

> ID：13304858
> 
> 赞同：0
> 
> 时间：2012-11-09T08:56:46.150
> 
> 标签：java, log4j

如何在 Maven 项目 org.apache.log4j.PropertyConfigurator.configure("log4j.properties") 中将 log4j 添加到我的类路径中；给我错误

```
log4j:ERROR Could not read configuration file [log4j.properties].
java.io.FileNotFoundException: log4j.properties (No such file or directory) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:00:39.273

您通常将这些属性文件添加到`src/main/resources`Maven 项目的文件夹中，并将其包含在以下构建属性中`pom.xml`：

```
<build>
    <resources>
        <resource>
            <directory>src/main/resources</directory>
        </resource>
    </resources>
</build> 
```

# java - 在 Eclipse 中启动 Websphere 8

> ID：13304865
> 
> 赞同：3
> 
> 时间：2012-11-09T08:57:02.200
> 
> 标签：java, websphere, websphere-7, websphere-8

我正在使用 Win7 64 位，当我尝试在我的 Eclipse 中启动 websphere 8 时，它说

```
Get the following error when  start the server :
Exception in thread "main" java.lang.NoClassDefFoundError: Files
Caused by: java.lang.ClassNotFoundException: Files
    at java.net.URLClassLoader.findClass(URLClassLoader.java:434)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:646)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:358)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:612)
Could not find the main class: Files.  Program will exit. 
```

但是当我进入第一步控制台并运行安装验证时，服务器启动并在 Eclipse 中启动。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-04-08T14:55:41.053

这对我来说的根本原因是**最近添加的环境变量`JAVA_HOME`**和相应的条目`%JAVA_HOME%\bin`已添加到我的 Windows`PATH`中。从提示符/窗口中的任何内容来看，这一切似乎都运行良好`cmd.exe`，但对于在 IDE 中启动的 WAS 脚本编写却无法正常运行。对我来说，有问题的`Program Files`参考在这些变量中。删除这些定义并重新启动 IDE（很重要！）似乎解决了我的问题。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-15T01:58:37.807

您不能在基本 Eclipse 中运行 WAS。您必须使用 Rational Application Developer。

# php - 如何在 Apache 中停用通知？

> ID：13304871
> 
> 赞同：4
> 
> 时间：2012-11-09T08:57:16.750
> 
> 标签：php, performance, apache, error-handling, error-reporting

我是一个项目的新手，在克隆代码后，我可以在每个 http 请求上看到几个通知。我总是在我的 apache 的开发环境中启用通知，当然它们在生产服务器上被禁用，并且没有记录到 apache 的错误日志中

`error_reporting(E_ALL ^ E_NOTICE)`，显然像默认的 php 配置。

所以我如何在 Apache 中实现以下功能：

*   100% 忽略那些通知和性能不受影响

*   像开发环境一样处理每个通知而不记录它们..

我继续在 Apache 文档中搜索。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T22:03:22.180

错误通知是 PHP 内部的 - Apache 看到的只是数据来来去去。仅当您发送的数据较少时，性能才会得到改善。

你最好看看你用 apache 加载了哪些模块以及 apache 是如何设置的——prefork 或 worker 以及你是如何进行这些设置的。[http://httpd.apache.org/docs/2.2/mod/prefork.html](http://httpd.apache.org/docs/2.2/mod/prefork.html)或[http://httpd.apache.org/docs/2.2/mod/worker.html](http://httpd.apache.org/docs/2.2/mod/worker.html)

# perl - 需要获取字符串前面的行

> ID：13304872
> 
> 赞同：0
> 
> 时间：2012-11-09T08:57:20.033
> 
> 标签：perl, batch-file

我有一个文件 source.txt，如下所示：

```
Executing resource: L:\Core\SQL\smpks_fcj_csdovdmt_addon.sql  
Failed to execute: 
Executing resource: L:\LC\SQL\lcpks_lcdtronl_utils.sql  
Executing resource: L:\LS\SQL\cspks_adhoc_charge_sch.sql  
Failed to execute:   
SHO ERR  
Executing resource: L:\LS\SQL\gwpks_ls_adhocsch_operations.sql  
Executing resource: L:\LS\SQL\lnpks_synd_services.sql  
Failed to execute:  
Executing resource: L:\LS\SQL\lspks_facility_contracts.sql  
Executing resource: L:\LS\SQL\lspks_fcj_lsdpxlog.sql  
Executing resource: L:\LS\SQL\lspks_lsdprmnt_kernel.sql  
Failed to execute:  
sho err; 
```

从这个文件中，我需要获取“执行失败：”字符串前面的行，并将其放入新文件 result.txt。还有一个条件，如果“执行失败：”后跟“sho err：”或“SHO ERR”，我不需要该文件在结果中。上述文件的输出应该是：

```
Executing resource: L:\Core\SQL\smpks_fcj_csdovdmt_addon.sql  
Executing resource: L:\LS\SQL\lnpks_synd_services.sql 
```

请帮忙。Perl 脚本或批处理文件或 Ant 脚本都可以。

如果我得到一个选项，如果“Sho err”在那里，删除前一行，没关系。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T09:08:44.797

这对我有用：

```
grep -B 1 "Failed" sources.txt  | grep "Executing resource:" > results.txt 
```

编辑：考虑到他的“SHO ERR”要求，使用 Perl 可能更好：

```
my @lines = <>;
push @lines, "";
push @lines, "";
my $linesNum = @lines;
for ( $i = 0; $i < $linesNum - 2; $i++) {
   if ($lines[$i+1] =~ /Failed to execute:/) {
     if (!($lines[$i+2] =~ /SHO ERR/i)) {
        print $lines[$i] if $lines[$i] =~ /^Executing/
     }
   }
 } 
```

你可以像这样使用它：

```
cat sources.txt | perl script.pl > results.pl 
```

或者

```
perl script.pl sources.txt > results.pl 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T12:48:45.103

扩展我在[需要使用批处理文件复制特定字符串之前的行](https://stackoverflow.com/a/13220361/1012053)中找到的本机批处理解决方案：

首先使用 FINDSTR 删除`Failed to execute:`后面的任何内容，`SHO ERR`并将结果通过管道传输到另一个 FINDSTR，该 FINDSTR 保存后面的剩余行`Failed to execute:`

```
@echo off
setlocal
::Define LF variable containing a linefeed (0x0A)
set LF=^

::Above 2 blank lines are critical - do not remove

::Define CR variable containing a carriage return (0x0D)
for /f %%a in ('copy /Z "%~dpf0" nul') do set "CR=%%a"

setlocal enableDelayedExpansion
::regex "!CR!*!LF!" will match both Unix and Windows style End-Of-Line
findstr /vbric:"Failed to execute:.*!CR!*!LF!SHO ERR" "test.txt" ^
 | findstr /ric:"!CR!*!LF!Failed to execute:" >failed.txt

type failed.txt 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T09:52:53.953

只是另一个 Perl 解决方案：

```
#!/usr/bin/perl

use 5.012; use warnings;

my $last = "";
my $commit_ready = 0;

while (<>) {
  if (/^Failed to execute:/) {
    $commit_ready = 1;
  } else {
    print $last if $commit_ready and not /^sho err/i;
    $commit_ready = 0;
    $last = /^Executing resource: (.*)/ ? $1 : "";
  }
}
print $last if $commit_ready; 
```

用法与@sergio 脚本相同。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-09T10:12:05.713

使用 tac 和 sed：

```
$ tac file | sed -n  -e '/sho err\|SHO ERR/{N;d;}' -e '/Failed to execute/{n;p;}' | tac
Executing resource: L:\Core\SQL\smpks_fcj_csdovdmt_addon.sql
Executing resource: L:\LS\SQL\lnpks_synd_services.sql 
```

# linux - 在 ubuntu 中安装 qemu？显示一些错误

> ID：13304873
> 
> 赞同：0
> 
> 时间：2012-11-09T08:57:22.543
> 
> 标签：linux, ubuntu, kernel, qemu

我在我的 ubuntu 12.04 中安装了 qemu，两种方式 [通过源代码和来自 ubuntu 的软件中心] 都显示相同的错误。它不会弹出 qemu 窗口。当我得到一个虚拟文件系统、内核、initrd 时，它只显示一些“VNC SERVER 监听 127.0.0.1”屏幕并且不再挂起响应。请给我安装步骤和必要的库来运行 x86 的简单 qemu。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:05:41.797

尝试包括`SDL`对 QEMU 的支持并添加`-sdl`运行它的选项。VNC 默认情况下可能意味着您没有 SDL 开发库。`libsdl-dev`使用 apt安装。

# extjs - 在 sencha 中显示类别/子类别

> ID：13304877
> 
> 赞同：2
> 
> 时间：2012-11-09T08:57:29.127
> 
> 标签：extjs

我最近开发了一个关于显示类别/子类别的煎茶应用程序。它显示主要类别，但在单击任何类别时不显示子类别。

我的店是——

```
Ext.define('listdemo.store.Sections', {
extend : 'Ext.data.Store',

config : {
    autoLoad: true,
    model: 'listdemo.model.Sections',

    proxy:{
        type   : 'ajax',
        url:'http://localhost/catt.php',

        reader:{
                    type:'json',
                    rootProperty:'categories'       
                }

    }
}
}); 
```

型号代码是-----

```
Ext.define('listdemo.model.Sections', {
extend: 'Ext.data.Model',

config: {
    fields: ['categories_id', 'categories_name','subcategories'],

}
}); 
```

而观点是——

```
Ext.define('listdemo.view.Main',{
       extend: 'Ext.NestedList',
       xtype:'main',
       requires: [
            'Ext.TitleBar',
            'Ext.dataview.List',
            'Ext.data.Store',
            'Ext.dataview.NestedList'
        ],

       config:{
           title: 'Categories',
           //store:'Sections',
           items:[
           {
               xtype:'list',
               itemTpl:'{categories_name}',
               title:'Categories',
               store:'Sections',

            }
        ]
    }
}); 
```

我的php文件返回----

> {"categories":[{"categories_id":"1","categories_name":"Hardware","subcategories":[{"categories_id":"4","categories_name":"显卡"},{"categories_id ":"5","categories_name":"Printers"},{"categories_id":"6","categories_name":"Monitors"},{"categories_id":"7","categories_name":"Speakers"} ,{"categories_id":"8","categories_name":"键盘"},{"categories_id":"9","categories_name":"鼠标"},{"categories_id":"16","categories_name": "内存"},{"categories_id":"17","categories_name":"CDROM 驱动器"}]},{"categories_id":"2","categories_name":"Software","subcategories":[{"categories_id":"18","categories_name":"模拟"},{"categories_id ":"19","categories_name":"Action"},{"categories_id":"20","categories_name":"策略"}]},{"categories_id":"3","categories_name":"DVD电影","子类别":[{"categories_id":"10","categories_name":"Action"},{"categories_id":"11","categories_name":"科幻小说"},{"categories_id": "12","categories_name":"喜剧"},{"categories_id":"13","categories_name":"卡通"},{"categories_id":"14","categories_name":"Thriller"},{"categories_id":"15","categories_name":"戏剧"}]}] }

我将如何在主要类别下显示子类别。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-24T20:43:46.030

1.  为您的商店提供商店 ID

2.传递参数categories_name，选择父目录为categories_name的子类别成功：function(response){

searchresponse2 = Ext.JSON.decode(response.responseText);// 从服务器获取响应

//searchresponse2 是在数组 index[0] 中存储第一个结果的数组

搜索响应2=搜索响应2[0]；

var categoriesid=searchresponse2.categories;//获取第一个值"categories_id":"1","categories_name":"Hardware"

```
 var categoriesname=searchresponse2.categories_name;

                del_categoriesid=[];//declaring array
                del_categoriesname=[];

           for(var i= 0;i<searchresponse2.length;i++)
                {
                    del_categoriesid[i]=searchresponse2[i].categories;
                    del_categoriesname[i]=searchresponse2[i].categories_name;
                }// looping through all values

                for(var j= 0;j < searchresponse2.length;j++)
                { 
```

Ext.getStore('storeid').add({categories:del_categoriesid[j], categories_name:del_categoriesname[j]}); }//将结果的值添加到存储中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-05T05:57:33.980

您需要更新模型定义以包含字段类型，并注册自定义数据类型以用于子类别。

首先在模型加载之前包含这个：

```
Ext.data.Types.ARRAY = {
    type: 'Array'
}; 
```

接下来更新您的模型，使其如下所示：

```
Ext.define('listdemo.model.Sections', {
    extend: 'Ext.data.Model',
    config: {
        fields: [{
            name: 'categories_id',
            type: 'int'
        },{ 
            name: 'categories_name',
            type: 'string'
        },{
            name: 'subcategories'
            type: Ext.data.Types.ARRAY
        }]
    }
}); 
```

现在，一旦您的商店加载，请通过 Web 控制台手动检查记录，以确保保存子类别数组。您将需要在列表中为 itemtap 添加一个侦听器，然后获取子类别，然后：
- 使用子类别数组手动重新加载原始商店。这应该会刷新列表，但是您将失去原始商店并且不会有任何卡片动画。
- 设置第二个列表/商店，该列表/商店将手动重新加载子类别，这将允许更改卡动画并保持原始商店以进行后退导航。

# xsd - Castor JAXB swaRef 限制

> ID：13304879
> 
> 赞同：1
> 
> 时间：2012-11-09T08:57:55.630
> 
> 标签：xsd, jaxb, castor

我们正在使用 Castor 编组/解组 xsd:s。我们使用附件并使用“swaRef”元素引用。根据这个页面 Castor 不支持这个，[http](http://docs.codehaus.org/display/CASTOR/Castor+JAXB) ://docs.codehaus.org/display/CASTOR/Castor+JAXB ：

> 某些功能可能需要在支持 Castor 框架中实际实现 - 例如通过 MTOM/XOP 和 swaRef 处理附件。

我们怎样才能克服这个限制？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T10:52:17.910

**注意：** 我是[**EclipseLink JAXB (MOXy)**](http://www.eclipse.org/eclipselink/moxy.php)负责人，也是[**JAXB (JSR-222)**](http://jcp.org/en/jsr/detail?id=222)专家组的成员。

我的建议是使用标准的[**JAXB (JSR-222)**](http://jcp.org/en/jsr/detail?id=222)实现来支持您需要的一切（从 XML 模式、swaref 等生成的模型），而不是实现一些使用 Castor 的变通方法。从 Java SE 6 开始，JDK/JRE 中包含了一个实现，其他实现（例如 MOXy）也可用。

**笔记**

根据[**您提供的链接，**](http://docs.codehaus.org/display/CASTOR/Castor+JAXB) Castor 似乎没有运行[**JAXB (JSR-222)**](http://jcp.org/en/jsr/detail?id=222)合规性测试，并且在该页面的“功能测试”部分中，Castor 似乎没有完全测试其对[**JAXB 的支持（ JSR-222)**](http://jcp.org/en/jsr/detail?id=222)注释。

> **功能测试**
> 
> 我认为应该花一点时间在功能测试上，这可能会变得很乏味。例如，查看 @XmlAttribute 注释，有很多变体需要测试，需要对每个测试用例的 POJO 进行稍微不同的注释。这将需要我们编写大量 POJO 并将它们相应地连接到测试类中。让我们看看我们是否可以就如何解决这个问题达成一致（布局、包结构……）。

# actionscript - 暂时禁用事件监听器直到动画完成

> ID：13304885
> 
> 赞同：3
> 
> 时间：2012-11-09T08:58:13.977
> 
> 标签：actionscript

我正在开发一个基本的 Flash 格斗游戏。我不是开发人员，所以我是 actionscript 的新手，除了我对课程中的编码有一些背景知识。问题是 - 大约有 6 个战斗动作，我想禁用所有 6 个 key_down 事件，直到动画完成。并且所有 6 个动画都有不同的时间范围。some1 可以帮我解决这个问题吗？

```
stage.addEventListener(KeyboardEvent.KEY_DOWN, enterKeyHandler);
function enterKeyHandler(event:KeyboardEvent):void {
       if (event.keyCode == Keyboard.B) {
        gotoAndPlay(252);}

       if (event.keyCode == Keyboard.V) {
        gotoAndPlay(259);} 
```

我只放下了其中的 2 个，但总共有 6 个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T10:24:35.553

我会使用公共静态标志，例如：keyboardDisabled:Boolean = false;

当您播放动画时，您可以将其设置为 true，并且在侦听键盘事件的函数内部只需检查键盘是否被禁用并立即返回。

一些代码看起来像

```
public static var keyboardDisabled:Boolean = false;

stage.addEventListener(KeyboardEvent.KEY_DOWN, enterKeyHandler);
function enterKeyHandler(event:KeyboardEvent):void {

       if ( keyboardDisabled )
         return;

       if (event.keyCode == Keyboard.B) {
        gotoAndPlay(252);}

       if (event.keyCode == Keyboard.V) {
        gotoAndPlay(259);
} 
```

然后在动画开始的帧中

```
keyboardDisabled = true; 
```

在动画结束时

```
keyboardDisabled = false; 
```

# css - 将现有网站转换为流体网格布局

> ID：13304888
> 
> 赞同：1
> 
> 时间：2012-11-09T08:58:28.613
> 
> 标签：css, responsive-design, fluid-layout

我有一个网站。我可以将我的网站转换为流体网格布局吗？是否有任何工具可以自动执行此操作，或者我是否必须创建一个流体网格（在 Dreamweaver 中）并插入`<div>`标签并将我的样式插入其中，最终将类似于我的网站。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:06:04.980

据我所知，没有哪个工具可以为现有的开箱即用创建流体网格布局。这可能是因为这样的工具很难决定应该使用哪种网格结构。永远记住，在使用网格时，列的大小是固定的，因此可能与您使用像素精确的 css 样式创建的 css 不同。

不过，我推荐的是查看那里的许多框架。它们非常易于使用，您唯一需要做的就是将类名添加到您的 div 标签中。

**流体网格框架列表**

*   [流体 960](http://www.designinfluences.com/fluid960gs/)
*   [CSSGrid](http://cssgrid.net/)
*   [引导程序](http://twitter.github.com/bootstrap/index.html)
*   [流体基线](http://fluidbaselinegrid.com/)

还有大约一百万。如果您只是在寻找一个可以轻松实现而没有任何麻烦的网格系统，请使用 Fluid960。

**编辑** 假设您具有以下结构

```
<div style="width:100%">
 <div style="width:20%>First div</div>
 <div style="width:30%>Second div</div>
 <div style="width:50%>Third div</div>
</div> 
```

在 16 格 960 框架的情况下，您需要将 100% 作为所有 16 列。因此 20%（所以你的第一个 div）需要是一个 3 格列，你的 30% 是一个 5 格列，你的 50% 是一个 8 格列。现在你有 3 + 5 + 8 = 16 列。在 HTML 中，您最终只需要编写

```
<div id="grid">
 <div class="grid_3"></div>
 <div class="grid_5"></div>
 <div class="grid_8"></div>
</div> 
```

你完成了！

# php - 什么时候需要在 PHP 中启用 mbstring？

> ID：13304890
> 
> 赞同：4
> 
> 时间：2012-11-09T08:58:39.210
> 
> 标签：php, unicode, wamp, mbstring

> mbstring 扩展提供对简体中文、繁体中文、韩文和俄文以及日文的增强支持。

我尝试在我的 PHP 页面上显示一个日文字符（我从 www.google.co.jp 复制的），它显示得很好。显示 UTF-32 字符时是否需要使用 mbstring？

**编辑：**

```
<?php
    echo "भ";                  
    $s = strlen("भ");
    echo $s;
?> 
```

如何使第二行代码工作？

PS：我已将 PHP 默认字符集更改为 UTF-8。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T11:02:34.683

*   您需要`mb_`字符串函数*来代替*常规字符串函数，例如，`mb_substr`而不是`substr`. 如果您不使用常规字符串函数，那么这些`mb_`函数也没有用处。
*   如果您只是传递文本而 PHP 没有对该文本*做*任何事情，则不需要这些`mb_`函数。
*   为了使`mb_`函数正常工作，您必须告诉他们您的文本采用什么编码。它们支持许多不同的编码，而不告诉他们您正在使用哪种编码，它们的结果将是不正确的。您可以将该编码传递给每个`mb_`函数调用，例如，或者您可以使用 为所有函数`mb_strlen($str, 'UTF-8')`设置一次。`mb_``mb_internal_encoding('UTF-8')`

请参阅[每个程序员绝对、肯定需要了解的有关使用文本的编码和字符集](http://kunststube.net/encoding/)的知识，以进行全面介绍。

# java - BoneCP & Derby - 如何正确关机

> ID：13304891
> 
> 赞同：3
> 
> 时间：2012-11-09T08:59:11.147
> 
> 标签：java, jdbc, derby, bonecp

我有：

```
BoneCP CONNECTION_POOL = ...;
CONNECTION_POOL.getConfig().setJdbcUrl("jdbc:derby:database...;shutdown=true");
Connection connection = CONNECTION_POOL.getConnection();
connection.close();
CONNECTION_POOL.shutdown(); 
```

但是，这会导致以下异常：

```
3274 [com.google.common.base.internal.Finalizer] ERROR com.jolbox.bonecp.ConnectionPartition - Error while closing off internal db connection
java.sql.SQLException: Cannot close a connection while a transaction is still active.
    at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)
    at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)
    at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)
    at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)
    at org.apache.derby.impl.jdbc.EmbedConnection.newSQLException(Unknown Source)
    at org.apache.derby.impl.jdbc.EmbedConnection.checkForTransactionInProgress(Unknown Source)
    at org.apache.derby.impl.jdbc.EmbedConnection.close(Unknown Source)
    at com.jolbox.bonecp.ConnectionPartition$1.finalizeReferent(ConnectionPartition.java:187)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at com.google.common.base.internal.Finalizer.cleanUp(Finalizer.java:154)
    at com.google.common.base.internal.Finalizer.run(Finalizer.java:127) 
```

我怎样才能避免这个异常。我已经尝试了所有我能想到的方法...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T17:25:50.297

除非您运行的是 v0.8.1-beta2 或更高版本，否则请在配置中将“disableConnectionTracking”设置为 true。

请注意，在成功关闭后，您还应该期待 Derby 的 SQLException：http: [//db.apache.org/derby/docs/dev/devguide/tdevdvlp40464.html](http://db.apache.org/derby/docs/dev/devguide/tdevdvlp40464.html)

# .net - 将图像文件资源添加到另一个项目

> ID：13304892
> 
> 赞同：2
> 
> 时间：2012-11-09T08:59:20.230
> 
> 标签：.net, vb.net, visual-studio-2012, embedded-resource, design-time

我想在 .NET 项目中添加/更新图像资源，以便在编译应用程序时，图像将在运行时可用。

由于在多个位置有大量图像，我想使用单独的 vb.net 项目来执行此操作。

我能看到的唯一方法是将图像文件复制到文件`[Project]\Resources`夹，然后编辑`[Project]\My Project\Resources.resx`以使用此图像文件，但这似乎有点 hacky，我不确定 Visual Studio 对格式的要求有多大resx 文件。

还有其他方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T09:08:27.657

给你 :) 看看你的标签，不需要很多字

简短的甜蜜和中肯的油漆解释

![在此处输入图像描述](../Images/09f9f06ed3dcbc6c4a8b68646e3980a2.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T09:21:28.653

您可以使用[ResourceWriter](http://msdn.microsoft.com/en-us/library/xbx3z216.aspx)类直接从代码以编程方式创建二进制资源 (.resources) 文件。

```
 using (ResourceWriter rw = new ResourceWriter(@".\CarResources.resources"))
    {
       Image im = Image.FromFile("C:\\sample.jpg");
        rw .AddResource("sample.jpg", im) 
      } 
```

您还可以使用资源文件[生成器](http://msdn.microsoft.com/en-us/library/ccec7sz1.aspx)(Resgen.exe) 从文本文件或 .resx 文件创建 .resources 文件。

# html - html：默认文本显示在文本框中

> ID：13304905
> 
> 赞同：0
> 
> 时间：2012-11-09T09:00:29.070
> 
> 标签：html

我在经典asp的for循环中动态构建一个带有少量标签和文本框的表单，

代码：

```
<td>
<input type="text"" name="<%=xtinct.item(i).getAttribute("col1")%>"/>
</td> 
```

我需要将应该隐藏的默认文本放在 onfocus 上。我不能使用“PlaceHolder”属性。我该怎么做？请提出一些答案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T09:04:44.107

使用占位符

```
<input type="text"" name="<%=xtinct.item(i).getAttribute("col1")%>" placeholder="default text" /> 
```

你需要为 IE 使用一些 jQuery。阅读这篇文章 -

[http://dipaksblogonline.blogspot.in/2012/02/html5-placeholder-in-ie7-and-ie8-fixed.html](http://dipaksblogonline.blogspot.in/2012/02/html5-placeholder-in-ie7-and-ie8-fixed.html)

**编辑：**

这将适用于所有浏览器 -

```
<input type="text" value="Your email" onblur="if(this.value == '') { this.value='Your email'}" onfocus="if (this.value == 'Your email') {this.value=''}"> 
```

[**演示**](http://jsfiddle.net/NHzGu/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T09:05:42.700

您可以使用 HTML5 占位符属性：

[http://davidwalsh.name/html5-placeholder](http://davidwalsh.name/html5-placeholder)

或者你可以使用 JavaScript。jQuery 很容易连接起来。有很多教程。谷歌“使用 jQuery 的默认输入字段文本”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T09:09:11.963

像这样：

```
<form name="f">
    <textarea name="<%=xtinct.item(i).getAttribute("col1")%>" onFocus="this.value=''">
        Enter your text here...
    </textarea>
</form> 
```

# asp.net - 用户登录后退出 - 单击另一个链接时

> ID：13304906
> 
> 赞同：0
> 
> 时间：2012-11-09T09:00:31.053
> 
> 标签：asp.net, login-control, loginview

我创建了一个 Web 应用程序，我希望用户在其中注册登录、注销等。

现在，我创建了一个自定义的 CreateUserWizard，它指导用户完成注册过程。

我的 web 应用程序包含几个 aspx 页面，如 Login、Register、、Services 和 Default。

当用户访问该站点时，他会看到 Default.aspx 页面，在那里他会看到一个带有三个链接的水平导航栏：主页（再次转到 Default.aspx）、服务（转到 Services.aspx 页面，其中用户看到他的服务）和将用户带到登录页面的登录链接（ASP 登录控件）。

用户第一次访问该页面时看到的 Default.aspx 页面的内容又是一个注册表单。

现在，我可以成功注册一个新用户，他的凭据存储在会员数据库中，我也可以登录一个注册用户。

用户成功登录后，将被定向到 Services.aspx 页面。

**问题是当他登录后进入Services.aspx页面，点击水平导航栏中的链接时，用户会自动退出。**

***在身份验证*标签中的 Web.config 文件中，在*表单*部分中，我已将其设置为不使用 cookie，而是使用*cookies="UseUri"*。**

**我这样做是因为如果我使用 cookie，当用户登录时，LoggedinView 控件不会显示 LoggedinTemplate，即登录用户的名称，并继续显示 AnonymousTemplate 的消息。**

我不明白为什么会发生这种情况，但我猜它必须与不使用 cookie 的事实有关。任何人都知道可能是什么问题？

**下面我提供了注册向导所在的 Default.aspx 页面的代码以及 Web.config 文件。**

**请指点我正确的方向或我在这里做错了什么。

**默认.aspx**：

```
<%@ Page Title="" Language="vb" AutoEventWireup="false"

   MasterPageFile="~/GDesk.Master"
        CodeBehind="Default.aspx.vb" Inherits="GDesk._Default" %>

        <asp:Content ID="Content1" ContentPlaceHolderID="head" runat="server">
            <link rel="stylesheet" type="text/css" href="/Styles/styles.css" />
        </asp:Content>
        <asp:Content ID="Content2" ContentPlaceHolderID="MainContent" runat="server">
        <h2>
            Welcome </h2>
        <div id="SignUpForm">
            <h2 class="defaultH2">
                Sing Up</h2>
            <p class="info">
                Here you can register. If you already have an account, please log in
    <asp:HyperLink ID="defaultLogin" runat="server"       NavigateUrl="/Account/Login.aspx"
                    Text="here." />
                <span class="important">Passwords are required to be in minimum of
                    <%=Membership.MinRequiredPasswordLength()%>
                    characters.</span>
            </p>
            <span class="failureNotification">
                <asp:Literal ID="errorMessage" runat="server"></asp:Literal>
            </span>
            <p>
    <asp:ValidationSummary ID="ErrorSummary" runat="server" 
               ShowSummary="true"   CssClass="failureNotification"
               ValidationGroup="RegisterMessages" />
    <asp:ValidationSummary ID="CheckErrors" runat="server" 
               ShowSummary="true" CssClass="failureNotification"
               ValidationGroup="CheckExistence" />
    <asp:CreateUserWizard ID="RegisterUser" 
             runat="server" ContinueDestinationPageUrl="Services.aspx"  
             AutoGeneratePassword="false" 
               EnableViewState="true" MailDefinition-BodyFileName="~/MailFile.txt"
                    MailDefinition-From="psf89@yahoo.com" LoginCreatedUser="true">
       <WizardSteps>

          <asp:CreateUserWizardStep ID="CreateUser" runat="server"   
           EnableViewState="true">
               <ContentTemplate>
                  <fieldset class="register">
                    <legend>Account Information</legend>
                      <p>
                        <asp:Label ID="UserNameLabel" runat="server" 
                        Text="Username:" AssociatedControlID="UserName" />
                        <asp:TextBox ID="UserName" runat="server" 
                        CausesValidation="true" CssClass="userEntry"
                        ViewStateMode="Enabled" />
                        <asp:RequiredFieldValidator ID="UserNameRequired" 
                         runat="server" ControlToValidate="UserName"
                        ErrorMessage="Username required" 
                        CssClass="failureNotification" ToolTip="UserName is required"
                        Display="Dynamic" SetFocusOnError="true"        
                        ValidationGroup="RegisterMessages">*
                        </asp:RequiredFieldValidator>
                     </p>
                     <p>
                       <asp:Label ID="EmailLabel" runat="server"    Text="Email:" 
                        AssociatedControlID="Email" />
                       <asp:TextBox ID="Email" runat="server" CausesValidation="true" 
                       CssClass="userEntry" ViewStateMode="Enabled" />
                       <asp:RequiredFieldValidator ID="EmailRequired" runat="server" 
                       ControlToValidate="Email" ErrorMessage="Email Required"  
                       CssClass="failureNotification" ToolTip="Email is required"
                       Display="Dynamic" SetFocusOnError="true"  
                       ValidationGroup="RegisterMessages">*  
                       </asp:RequiredFieldValidator>
                       <asp:RegularExpressionValidator ID="EmailTypeRequired" 
                       runat="server" ControlToValidate="Email"
                       SetFocusOnError="true" ValidationExpression="\w+([-+.']\w+)*@\w+
                       ([-.]\w+)*\.\w+([-.]\w+)*"
                       ValidationGroup="RegisterMessages" Display="Dynamic" 
                        CssClass="failureNotification" ErrorMessage="Give a valid 
                        email" ToolTip="Give a valid email form">*
                        </asp:RegularExpressionValidator>
                    </p>
                                    <p>
                        <asp:Label ID="PasswordLabel" runat="server" 
                        Text="Password:" AssociatedControlID="Password" />
                        <asp:TextBox ID="Password" runat="server"       
                        CausesValidation="true" CssClass="userEntry"  
                         TextMode="Password" />
                       <asp:RequiredFieldValidator ID="PasswordRequired" 
                        ControlToValidate="Password" ErrorMessage="Password Required"
                        runat="server" CssClass="failureNotification" ToolTip="Password 
                        is required" Display="Dynamic" SetFocusOnError="true"    
                       ValidationGroup="RegisterMessages">* 
                       </asp:RequiredFieldValidator>
                    </p>
                    <p>
                                        <asp:Label ID="confirmPasswordLabel" 
runat="server" Text="Confirm Password:" AssociatedControlID="ConfirmPassword" />
                                        <asp:TextBox ID="ConfirmPassword" 
runat="server" CausesValidation="true" CssClass="userEntry"
                                                TextMode="Password" />
                                            <asp:RequiredFieldValidator 
ID="ConfirmPasswordRequired" runat="server" ControlToValidate="ConfirmPassword"
                                                ErrorMessage="Confirm Password  
required" 
CssClass="failureNotification" ToolTip="Confirm password is required"
                                            Display="Dynamic" SetFocusOnError="true" 
ValidationGroup="RegisterMessages">*</asp:RequiredFieldValidator>
                                            <asp:CompareValidator ID="ComparePasswords" 
runat="server" ControlToCompare="Password"
                                                ControlToValidate="ConfirmPassword" 
CssClass="failureNotification" ErrorMessage="Password and Confirmation Password must 
match"
                                                Display="Dynamic" Text="*" 
ValidationGroup="RegisterMessages">*</asp:CompareValidator>
                                    </p>
                                    <p>
                                        <asp:Label ID="SecurityQuestionLabel" 
runat="server" Text="Security Question:" AssociatedControlID="Question" />
<asp:DropDownList ID="Question" runat="server" CssClass="userEntry" 
 CausesValidation="true">
                                                <asp:ListItem Text="--Select one--" 
Value="" />
                                                <asp:ListItem>What is your mother's 
birthday ?</asp:ListItem>
                                                <asp:ListItem>What was your first dog's 
name ?</asp:ListItem>
                                                <asp:ListItem>What was your favorite 
teacher's name ?</asp:ListItem>
                                                <asp:ListItem>What is your favorite 
 actor's 
name ?</asp:ListItem>
                                        </asp:DropDownList>
                                        <br />
                                        <i>In case you forget your password you will be 
asked to answer one of the security
                                                questions you choose here and prompted 
to 
enter the answer you specify below.</i>
                                            <asp:RequiredFieldValidator 
ID="SecurityQuestionRequired" runat="server" ControlToValidate="Question"
                                                ErrorMessage="Please select a security 
question" Display="Dynamic" CssClass="failureNotification"
                                                ToolTip="You must select a security 
question in case you forget your password"
                                                SetFocusOnError="true" 
ValidationGroup="RegisterMessages">*</asp:RequiredFieldValidator>
</p>
<p>
                                        <asp:Label ID="SecurityAnswer" runat="server" 
AssociatedControlID="Answer" Text="Security Answer:" />
                                            <asp:TextBox ID="Answer" runat="server" 
CausesValidation="true" CssClass="userEntry" />
                                            <asp:RequiredFieldValidator 
ID="SecurityAnswerRequired" runat="server" ControlToValidate="Answer"
ErrorMessage="Please provite an answer to  the above question" Display="Dynamic"
ToolTip="This is the answer to the question 
you selected above" CssClass="failureNotification"
SetFocusOnError="true" 
ValidationGroup="RegisterMessages">*</asp:RequiredFieldValidator>
      </p>
   </fieldset>
</ContentTemplate>
<CustomNavigationTemplate>
                                <p class="ButtonSubmit">
                                    <asp:Button ID="Previous" runat="server" 
Text="Previous" CommandName="MovePrevious" />
                                        <asp:Button ID="CreateUserButton" 
 runat="server" 
Text="Create User" ValidationGroup="RegisterMessages"
                                            CommandName="MoveNext" />
                                    </p>
                                </CustomNavigationTemplate>
                            </asp:CreateUserWizardStep>
                            <asp:CompleteWizardStep ID="CompleteRegistration" 
runat="server">
                                <ContentTemplate>
                                    <span class="UserCreatedNotification">
                                        <asp:Literal ID="SuccessMessage" runat="server" 
Text="User Registered Succesfully !" />
                                </span>
                            </ContentTemplate>
                            <CustomNavigationTemplate>
                                <p class="ButtonCompletedReg">
                                    <asp:Button ID="Continue" runat="server" 
 Text="Continue" CommandName="Continue" />
                                </p>
                            </CustomNavigationTemplate>
                        </asp:CompleteWizardStep>
                    </WizardSteps>
                </asp:CreateUserWizard>
        </div>
        <div id="VideoPresentation">
            <h2 class="defaultH2">
                Presentation Videoh3</h2>
            <h3>
                Under Constraction...</h3>
        </div>
    </asp:Content> 
```

**这是 Web.config 文件：**

```
<?xml version="1.0"?>

<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->

<configuration>

  <connectionStrings>
    <clear/>
    <add name="MyLocalSqlServer" connectionString="Data 
    Source=THESAINT\SQLEXPRESS;Initial Catalog=UserAuthentication;Integrated  
    Security=SSPI;"/>
  </connectionStrings>

    <system.web>
        <compilation debug="true" strict="false" explicit="true" targetFramework="4.0" 
        />

        <authentication mode="Forms">
          <forms loginUrl="/Account/Login.aspx" name=".ASPXFORMSAUTH" protection="All" 
            timeout="30" path="/FormsAuth" requireSSL="false" slidingExpiration="true" 
       defaultUrl="Default.aspx" cookieless="UseCookies" 
       enableCrossAppRedirects="false" />
        </authentication>

        <membership defaultProvider="SqlProvider" userIsOnlineTimeWindow="15">
          <providers>
            <clear/>
            <add name="SqlProvider" type="System.Web.Security.SqlMembershipProvider" 
connectionStringName="MyLocalSqlServer" applicationName="GDesk" 
enablePasswordRetrieval="false"
                    enablePasswordReset="true" requiresQuestionAndAnswer="true" 
requiresUniqueEmail="true" passwordFormat="Hashed" maxInvalidPasswordAttempts="5"
                    minRequiredPasswordLength="6" 
 minRequiredNonalphanumericCharacters="0" 
passwordAttemptWindow="10" />
          </providers>
        </membership>

        <authorization>
          <allow users="*"/>
          <deny users="?"/>
        </authorization>   
    </system.web>

  <location path="Services.aspx" >
    <system.web>
      <authorization>
        <deny users="?"/>
      </authorization>     
    </system.web>
  </location>

</configuration> 
```

**先感谢您 ！！！**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-16T01:16:38.020

1.  不要使用无饼干！！！这是非常不安全的。

2.  如果您确实使用 cookieless，请使用相对 URL 在站点内导航。您的用户可能会被注销，因为指向 Services.aspx 的链接使用了当然不包含会话 ID 的绝对 URL。

3.  如果您在使用 cookie 时遇到问题，可能是因为您的登录表单不在网站的根目录中。在这种情况下，cookie 将设置一个路径，使 cookie 对不在同一文件夹中的站点部分不可见。要解决此问题，请移动登录表单或将表单身份验证 cookie 的路径显式设置为“/”

# wordpress - Wordpress 多站点 - 域映射 || 第二个域被重定向到第一个域

> ID：13304918
> 
> 赞同：0
> 
> 时间：2012-11-09T09:01:36.493
> 
> 标签：wordpress, dns, mapping

好的，经过许多小时的尝试和阅读教程，我慢慢开始理解。但还没有完全。

我已经成功地将我现有的（德语）wordpress 安装（**site1.de**）变成了一个多站点。我想创建第二个博客（英文），它将通过**site2.de**运行。

所以，在**site1.de**下的德语博客。

我添加了一个新的 wordpress 站点（“test”），它对应于**site1.de/test**。有用。

在“网络管理员”中，“域映射”指向“ **site1.de** ”（我没有 IP）。

在“测试”管理区域，我点击“域映射”、“添加新域”并输入**site2.de**作为主域。

现在，我必须在虚拟主机管理方面做一些事情。我可以更改域属性，以便将**site2.de**重定向到**site1.de**。

但是当我这样做时，我的**site2.de**确实被重定向到**site1.de**，而不是**site1.de/test**。并且**site1.de/test**被重定向到**site1.de**。

我究竟做错了什么？非常感谢任何提示！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T07:31:52.893

好的，解决了。第二个域必须“重定向”到第一个域的 PATH，而不是 URL。就是这样...

# c - ANSI C 代码无法访问 Windows API 的哪些部分？

> ID：13304919
> 
> 赞同：1
> 
> 时间：2012-11-09T09:01:40.667
> 
> 标签：c, winapi, ansi

在 2000 年之前，我一直在使用 ANSI C 进行 Windows 编程。后来我改用 C++ 和 MFC，然后改用 Delphi，现在我更喜欢 C#，但我很好奇是否仍然可以使用纯 C 来访问现代版 Windows 的每个 API。

例如，[甚至 COM/OLE 对象也可以从 C 处理](http://www.codeproject.com/Articles/13601/COM-in-plain-C)。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T09:15:22.687

[此处](http://msdn.microsoft.com/en-us/library/windows/desktop/ff818516%28v=vs.85%29.aspx)描述了 Windows API 列表。

大多数 API 都是基于 C 的（结构和函数）。但是，很少有基于 C++ 的（类）：

*   [COM+](http://msdn.microsoft.com/en-us/library/windows/desktop/ms687816%28v=vs.85%29.aspx)
*   [GDI+](http://msdn.microsoft.com/en-us/library/windows/desktop/ms533799%28v=vs.85%29.aspx)
*   [直接秀](http://msdn.microsoft.com/en-us/library/windows/desktop/dd375467%28v=vs.85%29.aspx)
*   [XAudio2](http://msdn.microsoft.com/en-us/library/windows/desktop/ee415899%28v=vs.85%29.aspx)
*   [卷影复制](http://msdn.microsoft.com/en-us/library/windows/desktop/aa384648%28v=vs.85%29.aspx)
*   [网络诊断框架 (NDF) 可扩展助手](http://msdn.microsoft.com/en-us/library/windows/desktop/aa369845%28v=vs.85%29.aspx)
*   [DirectXMath](https://docs.microsoft.com/en-us/windows/win32/dxmath/directxmath-portal)

# workflow-foundation-4 - 安装 .Net 4.5 后工作流重新托管设计器 4.0 错误

> ID：13304925
> 
> 赞同：1
> 
> 时间：2012-11-09T09:01:55.347
> 
> 标签：workflow-foundation-4, .net-4.5

安装 .Net 4.5 后，我重新托管的工作流设计器在运行时突然给我错误：

*   该项目仍以 4.0 为目标（应该保持这种状态）
*   它编译没有错误
*   当我尝试加载现有 XAML 时，会发生异常。

    _workflowDesigner.Text = xaml;

    _workflowDesigner.Load();

**Load 方法的异常：** 无法将 System.Windows.Input.CommandBinding 类型的对象转换为 System.Activities.Presentation.View.DesignerView

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T10:00:00.467

看起来可能是版本控制问题？或资源本地化错误。既然您提到了 Visual Studio 2012，听起来它可能来自 .Net 4.5 和 .Net Client Profile 4.0 DEU 的组合。

请注意，安装 VS 2012 将始终安装 .Net 4.5。

似乎有一个 .Net 4.5 DEU 语言包。我猜这可能与.Net 4.5有更好的兼容性。您可以尝试卸载Framework 4，然后安装这个吗？[http://www.microsoft.com/de-de/download/details.aspx?id=30667](http://www.microsoft.com/de-de/download/details.aspx?id=30667)

参考：[http ://social.msdn.microsoft.com/Forums/da-DK/wfprerelease/thread/19bdb5c5-ee04-48b8-bd8b-5a45d0fc2de6](http://social.msdn.microsoft.com/Forums/da-DK/wfprerelease/thread/19bdb5c5-ee04-48b8-bd8b-5a45d0fc2de6)

# android - PreferenceActivity 自定义 ListView 选择项背景颜色

> ID：13304926
> 
> 赞同：0
> 
> 时间：2012-11-09T09:01:58.430
> 
> 标签：android, android-listview, preferenceactivity

当我选择我的列表视图项目时，我想更改它的默认橙色背景颜色`PreferenceActivity`，但我不知道该怎么做。

我可以通过创建自定义适配器并为列表视图项膨胀布局来使其正常`Activity`，我可以在其中添加根布局，但我怎么能做到这一点？`listview``android:background="@drawable/listview_item_selector"``PreferenceActivity`

感谢您的任何提示。

# stored-procedures - 使用 WHERE 使用存储过程更新表？

> ID：13304930
> 
> 赞同：1
> 
> 时间：2012-11-09T09:02:22.233
> 
> 标签：stored-procedures, sql-update, where-clause

我需要修改一个存储过程来更新实时数据库上的价格表。我使用的是 MS SQL Server 2005，存储过程用作 SAP BI 中的查询。

我有这部分：

```
SET @cmd ='Update PriceList 5'
SET @sql ='UPDATE a SET a.price= round( (b.price*0.9),0), a.currency=b.currency  FROM      ['+@trgDB+'].[dbo].[ITM1] a '
SET @sql =@sql+' INNER JOIN ['+@trgDB+'].[dbo].[ITM1] b ON ( a.ItemCode=b.itemcode AND   b.PriceList=1) '
SET @sql =@sql+' WHERE a.PriceList=5 '
IF @filter IS NOT NULL BEGIN
    SET @sql =@sql+' AND a.[ItemCode] LIKE '+char(39)+@filter+'%'+char(39)+' '
    SET @cmd = @cmd+' ('+@filter+'%'+') '
END 
```

这将根据过滤器更新每个项目的价格。我需要保持一些项目不变，那么如何在上面的代码中添加 NOT LIKE 'VSK%' AND NOT LIKE 'VFH%'？如果过滤器被忽略并不重要，但是我需要更新每个价格，除了 NOT LIKE 'VSK%' AND NOT LIKE 'VFH%' 。

[表 http://qupload.com/images/clipbosjs.jpg](http://qupload.com/images/clipbosjs.jpg)

# javascript - 我可以从 Javascript 获取 iOS6 IDFA 吗？

> ID：13304933
> 
> 赞同：10
> 
> 时间：2012-11-09T09:02:31.147
> 
> 标签：javascript, ios, safari

iOS6 为 iOS6 设备引入了 IDFA“广告标识符”。

可以从 iOS6 设备上的 Safari 中运行的 Javascript 检索此 ID 吗？或者它是一个仅限应用程序的功能？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-03T20:29:00.033

据我所知，这是一个仅限应用程序的功能。它似乎没有在 Safari 中公开。

# c# - 银光 mpeg-4

> ID：13304934
> 
> 赞同：3
> 
> 时间：2012-11-09T09:02:33.627
> 
> 标签：c#, .net, silverlight, mpeg-4

我目前正在做一个项目，我需要在其中创建一个网络视频播放器。在当前状态下，我的应用程序播放客户端提供的运动 JPEG 和 H264/AVC 录音。问题是，他还想要 MPEG-4 第 2 部分（视觉），我称之为 mp4v。根据[此](http://msdn.microsoft.com/en-us/library/cc189080%28v=vs.95%29.aspx)页面，支持 mp4v，但我无法获得任何与 Silverlight 一起使用的示例。即使 Silverlight 不支持这种编码，我是否可以让我的应用程序在不转换它们的情况下显示这些记录？有什么办法可以让它工作吗？任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T04:11:03.423

你确定他们是 Mpeg Part 2 吗？你试过叫他们 MP4 吗？

如果 Silverlight 不支持编码，您将不得不重新编码它们......对不起......

# android - getResources().getString 返回奇怪的值

> ID：13304936
> 
> 赞同：0
> 
> 时间：2012-11-09T09:02:40.943
> 
> 标签：android, string, hyperlink

在我的应用程序中，我将某个链接放入`strings.xml`文件中，然后在应用程序的其余部分中使用它。这是我放入`strings.xml`文件的方式：

```
<string name="link">http://mylink/</string> 
```

以及我如何在我的活动中获得它：

```
String link = getResources().getString(R.string.link); 
```

问题是这个字符串有时返回的不是字符串文件中的值。我经常收到#ff666666，这很奇怪。为什么有时它工作正常，有时却不行？

有人对此有任何想法吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:03:56.513

在运行项目之前，您需要一次`Clean`又一次。`Build`

发生这种情况是因为有时在`R.java`未更新的文件中添加了新值，因此您需要清理以强制`R.java`文件刷新和更新自身。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T09:52:50.390

它工作正常。刚才我检查了以下几行。确保清理您的项目并构建它。

```
<string name="link">http://www.google.com</string>

String name = getResources().getString(R.string.link);
Log.e("Name is:",name); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T10:00:49.663

尝试调试特定方法并检查 R.string.link 的值。它和你在 R.java 文件中看到的一样吗？有时在资源文件中移动内容时会遇到此问题。Eclipse中的“项目->清理...->清理所有项目”通常可以解决它。

# actionscript-3 - 在 as3 中具有多个影片剪辑的 addchild

> ID：13304937
> 
> 赞同：2
> 
> 时间：2012-11-09T09:02:52.833
> 
> 标签：actionscript-3, flash, addchild

```
var txt_mc:movieClip=new movieClip();
    createTxt(3)
    function createTxt(_no):void
    {
        var _sy = 0;
        for (var i=0; i<_no; i++)
        {
            var txt:TextField = new TextField();
            txt_fmt.size = _size;
            txt.defaultTextFormat = txt_fmt;
            //txt.autoSize = TextFieldAutoSize.CENTER;
            txt.autoSize = TextFieldAutoSize.LEFT;
            txt.selectable = false;
            txt.embedFonts = true;
            txt.x = 0;
            txt.y = _sy;
            _sy = _sy + 25;
            //txt.border = true
            txt.text = "Enter your text here";
            txt_mc.addChild(txt);
        }
        mc1.addChild(txt_mc);
            mc2.addChild(txt_mc);
    } 
```

如何使用多个影片剪辑添加子级。我正在创建一个影片剪辑，并想在两个位于舞台上的影片剪辑中添加子级。请帮帮我。

我想将 txt_mc 添加到 mc1 和 mc2 中，并且从该代码中 txt_mc 仅添加到 mc2 中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T09:14:28.430

您不能在两个不同的容器中添加一个影片剪辑的相同实例。但是您可以创建两个类似的 txt_mc 实例并将它们添加到 mc1 和 mc2 中。

更新：因此，您可以修改 createTxt 函数，这样每次调用它时它都会返回新的 txt_mc 实例。并将其添加到您想要的每个容器中：

```
function createTxt(_no):MovieClip
{
    var txt_mc:movieClip=new MovieClip();
    var _sy = 0;
    for (var i=0; i<_no; i++)
    {
        var txt:TextField = new TextField();
        txt_fmt.size = _size;
        txt.defaultTextFormat = txt_fmt;
        //txt.autoSize = TextFieldAutoSize.CENTER;
        txt.autoSize = TextFieldAutoSize.LEFT;
        txt.selectable = false;
        txt.embedFonts = true;
        txt.x = 0;
        txt.y = _sy;
        _sy = _sy + 25;
        //txt.border = true
        txt.text = "Enter your text here";
        txt_mc.addChild(txt);
    }
    return txt_mc;
}

mc1.addChild(createTxt(3));
mc2.addChild(createTxt(3)); 
```

# javascript - 当没有客户端请求时，我的 javascript 会执行吗？

> ID：13304939
> 
> 赞同：0
> 
> 时间：2012-11-09T09:03:21.693
> 
> 标签：javascript, asp.net-mvc-3, analytics

在我的购物车应用程序中，我使用谷歌分析电子商务来分析购买。

用户使用 ogone 支付订单。当用户从 ogone 回来时，我会处理订单并返回一个包含 javascript 的视图，以将数据发布到谷歌服务器。这一切都很好。

但是，当用户在付款后没有返回网站（例如关闭浏览器）时，ogone 服务器将带有付款数据的请求发送到我的购物车上的功能。在那里我处理订单并使用 javascript 返回一个视图以将数据发布到谷歌服务器。但是由于javascript是在客户端执行的，这个javascript会被执行吗？我没有从这个请求中得到任何结果（正常的确实有效）

当客户不返回网站时，有什么线索或建议可以更好地处理电子商务？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:28:47.230

为避免该问题，您应该在服务器端代码中执行日志操作 - 最后，整个 API 基于 HTTP 请求，仅此而已，您可以使用`HttpWebRequest`或`HttpClient`分类。

我假设对于您的购买分析，您正在跟踪交易，在这种情况下，有一个可供您使用的库：

*   [加点网](http://www.diaryofaninja.com/projects/details/ga-dot-net)

您可以直接使用它或分析它的源代码（可在[GitHub](https://github.com/dougrathbone/Ga.net/blob/master/GaDotNet.Common/Data/GoogleTransaction.cs)获得）以提供您自己的实现。

# php - 谷歌地图 - 是否有提供经纬度的 API 方法或服务，确定该位置是否在多边形内

> ID：13304940
> 
> 赞同：0
> 
> 时间：2012-11-09T09:03:35.910
> 
> 标签：php, google-maps-api-3

是否有提供纬度和经度的 API 方法或服务，确定该位置是否在多边形内？

我知道在 javascript 中有使用[google.maps.geometry.poly.containsLocation](https://developers.google.com/maps/documentation/javascript/reference)的方法，但是有没有办法在 PHP 中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T11:40:27.610

[这个站点](http://www.assemblysys.com/dataServices/php_pointinpolygon.php)有一些 php 代码，可以确定一个点是否位于多边形内。请注意，它以字符串开头；如果您已经有浮点数，请跳过翻译功能。

# hadoop - hadoop的namenode的内存消耗？

> ID：13304941
> 
> 赞同：11
> 
> 时间：2012-11-09T09:03:37.497
> 
> 标签：hadoop, memory-consumption

谁能详细分析一下namenode的内存消耗？或者有什么参考资料吗？在网络上找不到资料。谢谢！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-09T09:29:11.543

我想内存消耗将取决于您的 HDFS 设置，因此取决于 HDFS 的整体大小并且与块大小相关。来自[Hadoop NameNode wiki](http://wiki.apache.org/hadoop/NameNode)：

> 使用具有大量 RAM 的优质服务器。您拥有的 RAM 越多，文件系统就越大，或者块大小越小。

来自[https://twiki.opensciencegrid.org/bin/view/Documentation/HadoopUnderstanding](https://twiki.opensciencegrid.org/bin/view/Documentation/HadoopUnderstanding)：

> Namenode：Hadoop 的核心元数据服务器。这是系统中最关键的部分，而且只能是其中之一。它存储文件系统映像和文件系统日志。namenode 保存所有文件系统布局信息（文件、块、目录、权限等）和块位置。文件系统布局保存在磁盘上，块位置仅保存在内存中。当客户端打开文件时，namenode 会告诉客户端文件中所有块的位置；然后客户端不再需要与名称节点通信以进行数据传输。

同一网站推荐以下内容：

> Namenode：我们建议至少 8GB 的​​ RAM（最低为 2GB RAM），最好是 16GB 或更多。粗略的经验法则是每 100TB 原始磁盘空间 1GB；实际要求是每百万个对象（文件、目录和块）大约 1GB。CPU 要求是任何现代多核服务器 CPU。通常，namenode 只会使用 2-5% 的 CPU。由于这是单点故障，因此最重要的要求是可靠的硬件，而不是高性能硬件。我们建议使用冗余电源和至少 2 个硬盘驱动器的节点。

有关内存使用情况的更详细分析，请查看此链接： [https ://issues.apache.org/jira/browse/HADOOP-1687](https://issues.apache.org/jira/browse/HADOOP-1687)

您可能还会发现这个问题很有趣：[Hadoop namenode memory usage](https://stackoverflow.com/questions/13192835/hadoop-namenode-memory-usage)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-09T20:10:04.933

NameNode (NN) 有几个技术限制，面对其中任何一个都会限制您的可扩展性。

1.  记忆。NN 每个块消耗大约 150 个字节。从这里您可以计算出您的数据需要多少 RAM。有很好的讨论：[Namenode 文件数量限制](https://stackoverflow.com/questions/10764493/namenode-file-quantity-limit)。
2.  IO。NN 为文件系统的每次更改（如创建、删除块等）执行 1 次 IO。所以你的本地 IO 应该足够了。很难估计你需要多少。考虑到我们受内存限制的块数量这一事实，除非您的集群非常大，否则您不会要求此限制。如果是 - 考虑 SSD。
3.  中央处理器。Namenode 有相当大的负载跟踪所有数据节点上所有块的健康状况。每个数据节点每隔一段时间报告其所有块的状态。同样，除非集群不是太大，否则应该不是问题。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2016-09-15T13:11:55.687

示例计算

200 节点集群
24TB/节点
128MB 块大小
复制因子 = 3

**需要多少空间？**

# 块 = 200*24*2^20/(128*3)
~1200 万块
~12,000 MB 内存。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-12-18T18:21:03.653

我想我们应该区分每个namenode对象如何消耗namenode内存和调整namenode堆大小的一般建议。

对于第一种情况（消耗），AFAIK，每个 namenode 对象平均拥有 150 字节的内存。Namenode 对象是文件、块（不包括复制的副本）和目录。因此，对于占用 3 个块的文件，这是 4（1 个文件和 3 个块）x150 字节 = 600 字节。

对于namenode推荐堆大小的第二种情况，一般建议每100万块预留1GB。如果你计算这个（每块 150 字节）你会得到 150MB 的内存消耗。您可以看到这远小于每 100 万块 1GB，但您还应该考虑文件大小、目录的数量。

我想这是一个安全的建议。检查以下两个链接以获取更一般的讨论和示例：

[调整 NameNode 堆内存大小 - Cloudera](https://www.cloudera.com/documentation/enterprise/5-8-x/topics/admin_nn_memory_config.html "cloudera 文档")

[配置 NameNode 堆大小 - Hortonworks](https://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.3.2/bk_installing_manually_book/content/ref-80953924-1cbf-4655-9953-1e744290a6c3.1.html "hortonworks 文档")

[Namenode内存结构内部](https://issues.apache.org/jira/browse/HADOOP-1687)

# javascript - 如何指示 JasmineJS 中的内部方法引发了异常？

> ID：13304945
> 
> 赞同：0
> 
> 时间：2012-11-09T09:03:50.160
> 
> 标签：javascript, bdd, jasmine

在 Junit 测试中，我可以期望在测试中抛出一个异常，如下所示：

```
@Test(expect=SomeExceptino.class)
public void shouldThrowException(){
//test goes here.

} 
```

我怎样才能用 JS 和 Jasmine 做到这一点？

我有类似的东西：

```
function ActionDispatcher() {

    var actionHandlers = {};

    this.dispatch = function (action) {
        var actionHandler = actionHandlers[action.constructor];

        if (actionHandler == undefined) {
            throw new Error('not handler for action:' + action.constructor);
        } else {
            actionHandler.handle(action);
        }
    };
    } 
```

如何编写期望调度抛出异常的测试？

我正在监视动作处理程序而不是经过测试的 ActionDipatcher。我认为监视您正在测试的对象是荒谬的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-26T20:36:22.663

Jasmine 有一个`toThrow`匹配器，允许您测试异常。你可以像这样使用它：

```
it("throws", function() {
  var dispatcher = new ActionDispatcher();
  expect(function() {
    dispatcher.dispatch({constructor: 'constructor'});
  }).toThrow(new Error('not handler for action: constructor'));
}); 
```

# matlab - 将 gmdistribution.fit 与数据一起绘制

> ID：13304964
> 
> 赞同：0
> 
> 时间：2012-11-09T09:05:24.060
> 
> 标签：matlab, curve-fitting, gaussian

我有一个数据（x，y）的直方图，它是两个高斯的混合（简单的情况，即一维）。为了适应它，我使用

obj = gmdistribution.fit（数据，2）

这给了我

对象 =

1维2分量的高斯混合分布 分量1：混合比例：0.499387 均值：-0.4789

组分2：混合比例：0.500613 平均值：-0.4786

现在，我怎样才能将它与原始直方图一起绘制？我知道这两个链接，但它们对我帮助不大：

[http://www.mathworks.com/matlabcentral/newsreader/view_thread/317868](http://www.mathworks.com/matlabcentral/newsreader/view_thread/317868)

[http://www.mathworks.de/de/help/stats/gmdistribution.fit.html](http://www.mathworks.de/de/help/stats/gmdistribution.fit.html)

非常感谢任何明确的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-04T14:11:01.217

我想这可能有点晚了，但它已在 matlabs[网站](http://www.mathworks.fr/fr/help/stats/gmdistribution.fit.html)上更新。以防万一

```
MU1 = [1 2];
SIGMA1 = [2 0; 0 .5];
MU2 = [-3 -5];
SIGMA2 = [1 0; 0 1];
X = [mvnrnd(MU1,SIGMA1,1000);mvnrnd(MU2,SIGMA2,1000)];

scatter(X(:,1),X(:,2),10,'.')
hold on

options = statset('Display','final');
obj = gmdistribution.fit(X,2,'Options',options);
10 iterations, log-likelihood = -7046.78

h = ezcontour(@(x,y)pdf(obj,[x y]),[-8 6],[-8 6]); 
```

您可以使用 scatter3 对 3d 执行相同的操作。

![在此处输入图像描述](../Images/816b4885192e9718c3c463921e2958e9.png)

![在此处输入图像描述](../Images/6534bd84e1a73a34682365a9704beddd.png)

# jpa - EclipseLink JPA 2.0。“未知枚举常量 javax.persistence.LockModeType.NONE”

> ID：13304972
> 
> 赞同：0
> 
> 时间：2012-11-09T09:05:55.613
> 
> 标签：jpa, glassfish, eclipselink

我有一个带有远程 EJB 的 Glassfish v3。我使用这个 EJB 来使用 EclipseLink 操作数据库。关于[这个](https://stackoverflow.com/questions/13267692/error-on-client-side-while-calling-a-business-method-on-server-side-returning-ma)问题，我现在正尝试按照@James 的建议将 EclipseLink jar 导入我的客户端应用程序。

这是我到目前为止添加的罐子，这些罐子是在我的应用程序的服务器端添加的罐子。

*   eclipselink-2.3.2.jar
*   javax.persistence-2.0.3.jar
*   org.eclipse.persistence.antlr.jar
*   org.eclipse.persistence.asm.jar
*   org.eclipse.persistence.core.jar
*   org.eclipse.persistence.jpa.jar
*   org.eclipse.persistence.jpa.jpql_1.0.1.jar
*   org.eclipse.persistence.jpa.modelgen.jar
*   org.eclipse.persistence.moxy.jar
*   org.eclipse.persistence.oracle.jar

但是当我尝试编译我的 netbeans 模块时，我得到了这个错误：

```
error: in class file javax/persistence/NamedQuery.class(javax/persistence:NamedQuery.class): unknown enum constant javax.persistence.LockModeType.NONE
Note: Attempting to workaround javac bug #6512707
warning: No processor claimed any of these annotations: [javax.ejb.Remote]
error: in class file javax/persistence/NamedQuery.class(javax/persistence:NamedQuery.class): unknown enum constant javax.persistence.LockModeType.NONE
1 error 
```

为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-12T15:18:32.723

该错误似乎您的类路径中首先有 JPA 1.0 jar，但需要 JPA 2.0 类。

# javascript - IE 7 和 8 在使用 indexOf 和数组时遇到问题

> ID：13304978
> 
> 赞同：0
> 
> 时间：2012-11-09T09:06:25.643
> 
> 标签：javascript, arrays

我正面临`indexOf()`带有数组值的 JavaScript 问题。下面给定的代码不起作用 IE 7、8

例如

```
var wildcards2 = ['test1', 'test2'];
var test = wildcards2.indexOf('test2');
alert(test); 
```

但在 Mozilla 工作正常

在这个结果之后，可能页面中有ajax请求。但仅仅因为它不起作用，页面被提交而不是发送 ajax 请求。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T09:09:15.857

`indexOf`for `Array`objects 是在 JavaScript 1.6 中添加的，但 IE 7 和 8 的 JS 实现更接近 JavaScript 1.5，它们不支持`indexOf`.

[MDN 文档`indexOf`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/indexOf)包括一个您可以复制/粘贴的兼容性例程。

或者，一些库实现了帮助函数来提供类似的功能，您可以使用它们：

*   [`indexOf`来自 YUI 3 阵列模块](http://yuilibrary.com/yui/docs/api/classes/Array.html#yui_3_7_3_2_1352452705442_1130)
*   jQuery[`inArray`](http://api.jquery.com/jQuery.inArray/)

# mongodb - MongoDB中的作业调度

> ID：13304979
> 
> 赞同：5
> 
> 时间：2012-11-09T09:06:27.910
> 
> 标签：mongodb

我正在工作的项目需要在 MongoDB 和 SQL Server 之间同步数据，那么最好的方法是什么？这种同步应该由 MongoDB 端处理；MongoDB 支持作业调度吗？

我是 MongoDB 的新手，我想知道一些关于它的事情。我知道它不是 RDBMS，但如果有可能，那怎么办？

就像我们可以在 Oracle 中编写程序一样，我们可以在 MongoDB 中编写程序。我的意思是直接在 MongoDB 中，如果没有，那么可以使用哪种客户端语言？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T10:05:52.267

正如@Vasanth 所说，MongoDB 没有本地作业管理。

至于哪种客户端语言：这完全取决于您。

您总是可以得到一个预建的复制器，例如：[http](http://code.google.com/p/tungsten-replicator/) ://code.google.com/p/tungsten-replicator/可能会为您完成这项工作。

作为进一步的参考，这个问题可能对你有帮助：[https ://softwareengineering.stackexchange.com/questions/125980/can-sql-server-and-mongo-be-used-together](https://softwareengineering.stackexchange.com/questions/125980/can-sql-server-and-mongo-be-used-together)

# c++ - 有效地删除 C++ STL 向量中的双重条目？

> ID：13304980
> 
> 赞同：0
> 
> 时间：2012-11-09T09:06:28.070
> 
> 标签：c++, algorithm, boost, stl

> **可能重复：**
> [C++ 删除向量中的重复条目](https://stackoverflow.com/questions/9366291/c-delete-duplicate-entries-in-a-vector)

我需要删除 C++ STL 向量中的双重条目。重要的一点是结果向量中元素的顺序必须与输入向量中的顺序相同。有没有一种算法（例如在stl，boost）可以做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T09:36:28.347

这里有两种可能的情况：向量已经排序或者没有。

如果是，`std::erase`并且`std::unique`可以轻松解决此问题，如其他答案所示。

如果不是，那么您可以实现目标

```
v.erase(std::remove_if(v.begin(), v.end(), predicate), v.end()); 
```

但是有一个问题，具体说明`predicate`并非易事：它是一个接受一个参数（要考虑的值）的函数，它需要回答“向量前面是否有任何相等的值？”的问题。由于没有告诉您提供的参数在向量中的确切位置，这意味着您必须保持相当多的手动状态才能回答这个问题。

这里一个方便的选择是使用 an`std::set`来完成一些繁重的工作：

```
std::set<decltype(v)::value_type> set(v.begin(), v.end());
v.erase(
    std::remove_if(
        v.begin(), 
        v.end(), 
        [&set] (decltype(v)::value_type item) { return !set.erase(item); }), 
    v.end()); 
```

这样做是`std::set`用向量中的值预先填充一个，然后通过查看它是否已从集合中删除来检查之前是否已经看到过一个项目。这样，结果将仅保留输入中比较相等的每组项目中的第一项。

[**看到它在行动**](http://ideone.com/zJNF0T)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-09T09:44:19.153

如果你的向量没有排序，因此你不能只使用`std::unique`（同样不能排序会破坏你的订单），你可以使用类似这个函数的东西（使用 C++11 lambdas）：

```
template<typename FwdIt> FwdIt unordered_unique(FwdIt first, FwdIt last)
{
    typedef typename std::iterator_traits<FwdIt>::value_type value_type;
    std::set<value_type> unique;
    return std::remove_if(first, last, [&unique](const value_type &arg) { 
                                           return !unique.insert(arg).second; });
} 
```

可以使用通常的 erase-romve-idiom 调用它：

```
v.erase(unordered_unique(v.begin(), v.end()), v.end()); 
```

当然，在平均情况下，您也可以使用 C++11`std::unordered_set`而不是 a `std::set`（当然，对于可散列类型）来避免 O(n log n)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-09T09:10:07.153

怎么样`std::unique`？

```
auto firstDup = std::unique(myvector.begin(), myvector.end()); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-09T09:08:17.713

接下来使用：
`vec.erase( unique( vec.begin(), vec.end() ), vec.end() );`

# php - 如何在joomla中设置查询超时？

> ID：13304981
> 
> 赞同：0
> 
> 时间：2012-11-09T09:06:29.403
> 
> 标签：php, joomla

我使用 joomla 连接到 postgresql：

```
$db = JFactory::getDBO();
$db->setQuery($query);
$db->query();        
$object = $db->loadAssocList(); 
```

默认超时 = 30 秒。我想设置超时= 120。如何设置查询超时？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T09:33:33.073

```
set_time_limit 
```

设置允许脚本运行的秒数。如果达到此值，脚本将返回致命错误。默认限制为 30 秒，如果存在，则为`max_execution_time`php.ini 中定义的值。

调用时，`set_time_limit()`从零重新启动超时计数器。换句话说，如果超时是默认的 30 秒，并且在脚本执行 25 秒后进行了调用`set_time_limit(20)`，则脚本将在超时之前总共运行 45 秒。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T09:10:16.097

你需要使用标准的php函数

> 设置时间限制（120）；

# windows-server-2008 - win server 2008 r2：计划任务错误

> ID：13304982
> 
> 赞同：3
> 
> 时间：2012-11-09T09:06:35.607
> 
> 标签：windows-server-2008

我有一个程序必须在每天固定的时间作为计划任务运行。程序必须将一个或多个 xls 文件从一个文件夹复制到另一个文件夹，然后对其进行处理。该程序在手动执行时成功运行，但如果按计划启动，则会退出并出现以下错误：

> System.IO.DirectoryNotFoundException：System.IO。**Error.WinIOError(Int32 errorCode, String maybeFullPath) （然后是 >italian 中的一条消息，听起来像是“无法找到**_file.xls 路径的一部分”）在 >System.IO.File.InternalCopy(String sourceFileName, >System.IO.FileInfo.CopyTo（字符串 destFileName，布尔覆盖）中的字符串 destFileName，布尔覆盖）

我创建的任务使用对每个文件夹具有管理员访问权限并具有完全控制权的用户。问题出在哪里？提前感谢 bitdiego

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-09T09:11:16.780

当您使用任务计划程序运行程序时，它会在 System32 文件夹中**找到文件，因为父（计划程序）是系统程序。**因此，尝试提供绝对文件路径。

您也可以指定[起始值](http://social.technet.microsoft.com/Forums/en-US/winservergen/thread/0e0913ac-753d-42eb-86b7-4bcf6e0df2e2/)，[http://www.jargonsoft.com/support/knowledgebase.php?article=77](http://www.jargonsoft.com/support/knowledgebase.php?article=77)

# css - 滚动时背景未显示在 100% 宽度的 div 上

> ID：13304985
> 
> 赞同：0
> 
> 时间：2012-11-09T09:06:54.213
> 
> 标签：css

我有一个页眉，`100%`应该有一个`background-color`. `div`然后我将我的内容 div 居中并沿宽度向右侧额外放置广告。

当缩小窗口以使所有内容+广告不显示时，我有一个水平滚动，效果很好，除了标题丢失`background-color`了视口之外的部分。我怎样才能让它`background-color`一直运行？

一个简单的解决方案是将顶部设置`background-color`在 body 上，但我们希望在未来的页脚上使用相同的设计。由于浏览器支持问题，我们不能使用多个背景。

示例页面： http: [//niklasholmberg.se/test.html](http://niklasholmberg.se/test.html)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-12T07:45:27.737

正如其他人指出的那样，这里的问题在于您的“右”列已脱离正常流程，因此实际上不是“页面”的一部分。浏览器（IMO）正确地没有将背景一直绘制到“头部”的右侧......但是（再次IMO）错误的是，甚至允许您在页面边界之外滚动查看正确的列。

如果您将 boby 上的溢出设置为隐藏，您就可以解决背景问题......但是当然，您不会让广告商高兴 :)

## 建议

也许足以得到你需要的东西：

```
 #fakebg {
        position:absolute;
        top:0;
        width:1102px;
        background:#000;
        margin:0;
        z-index:-1;
    } 
```

[http://jsfiddle.net/Mfsx6/1/](http://jsfiddle.net/Mfsx6/1/)

总结：我在头部添加了一个虚拟 div，其偏移位置与右列相同。这为我们提供了一个可以添加背景的表面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T10:17:35.163

设置 的`min-width`值`#head`。对于我的分辨率，它与`min-width:1102px`.

试试这个。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-09T09:40:21.107

我认为您遇到的问题不是后台没有一直运行。这是因为您使用 right:-200px; 正在调整内容 DIV 的大小；这实际上使内容 DIV 比应有的大 200px，将其推到 BODY 之外。

如果你设置 #right 使用 right:0px; 问题不再存在。不过，我不确定这是否能正确地满足您的需求。

五。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-13T18:58:07.170

进一步了解@Martin Westin 的答案，使其动态地适用于任何大小的窗口：我在需要背景一直延伸的标题中添加了一个 id = "full-width-bg" 的 div。Custom.Toolbox.getFullWidth() 获取 DOM 的实际大小，无论它是否在视口中，因此它包括溢出和页面的整个宽度。然后我们将#full-width-bg的宽度设置为全宽。

```
window.Custom = window.Custom || {};

Custom.Toolbox = {
    init: function(){
        Custom.Toolbox.fixBG('#full-width-bg');
        jQuery( window ).resize(function() {
            Custom.Toolbox.fixBG('#full-width-bg');
        });
    },
    getFullWidth : function(){
        return Math.max(document.documentElement["clientWidth"], document.body["scrollWidth"], document.documentElement["scrollWidth"], document.body["offsetWidth"], document.documentElement["offsetWidth"]);
    },
    fixBG : function(selector){
        jQuery(selector).css('width', Custom.Toolbox.getFullWidth() + 'px');
    }
}

jQuery(function(){
    Custom.Toolbox.init();
}); 
```

# python - GAE - 如何在测试平台中使用 blobstore 存根？

> ID：13304988
> 
> 赞同：1
> 
> 时间：2012-11-09T09:07:03.310
> 
> 标签：python, google-app-engine

我的代码是这样的：

```
self.testbed.init_blobstore_stub()
upload_url = blobstore.create_upload_url('/image')
upload_url = re.sub('^http://testbed\.example\.com', '', upload_url)

response = self.testapp.post(upload_url, params={
    'shopid': id,
    'description': 'JLo',
    }, upload_files=[('file', imgPath)])
self.assertEqual(response.status_int, 200) 
```

怎么会显示404错误？由于某些原因，上传路径似乎根本不存在。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T14:07:23.677

你不能这样做。我认为问题在于 webtest（我认为这是 self.testapp 的来源）不能很好地与 testbed blobstore 功能一起使用。[你可以在这个问题](https://stackoverflow.com/questions/9303019/gae-testing-download-of-blobs-with-testbed-and-webtest)上找到一些信息。

我的解决方案是覆盖`unittest.TestCase`并添加以下方法：

```
def create_blob(self, contents, mime_type):
    "Since uploading blobs doesn't work in testing, create them this way."
    fn = files.blobstore.create(mime_type = mime_type,
                                _blobinfo_uploaded_filename = "foo.blt")
    with files.open(fn, 'a') as f:
        f.write(contents)
    files.finalize(fn)
    return files.blobstore.get_blob_key(fn)

def get_blob(self, key):
    return self.blobstore_stub.storage.OpenBlob(key).read() 
```

您还需要[这里](https://stackoverflow.com/questions/8130063/test-function-with-google-app-engine-files-api)的解决方案。

对于我通常会执行 get 或 post 到 blobstore 处理程序的测试，我改为调用上述两种方法之一。这有点hacky，但它有效。

我正在考虑的另一个解决方案是使用 Selenium 的 HtmlUnit 驱动程序。这将需要开发服务器正在运行，但应该允许对 blobstore 和 javascript 进行全面测试（作为附带好处）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-07-16T08:35:41.757

我认为 Kekito 是对的，您不能直接 POST 到 upload_url。

但是，如果您想测试 BlobstoreUploadHandler，您可以通过以下方式伪造它通常会从 Blobstore 收到的 POST 请求。假设您的处理程序位于 /handler ：

```
 import email
    ...

    def test_upload(self):
        blob_key = 'abcd'
        # The blobstore upload handler receives a multipart form request
        # containing uploaded files. But instead of containing the actual
        # content, the files contain an 'email' message that has some meta
        # information about the file. They also contain a blob-key that is
        # the key to get the blob from the blobstore

        # see blobstore._get_upload_content
        m = email.message.Message()
        m.add_header('Content-Type', 'image/png')
        m.add_header('Content-Length', '100')
        m.add_header('X-AppEngine-Upload-Creation', '2014-03-02 23:04:05.123456')
        # This needs to be valie base64 encoded
        m.add_header('content-md5', 'd74682ee47c3fffd5dcd749f840fcdd4')
        payload = m.as_string()
        # The blob-key in the Content-type is important
        params = [('file', webtest.forms.Upload('test.png', payload,
                                                'image/png; blob-key='+blob_key))]

        self.testapp.post('/handler', params, content_type='blob-key') 
```

我通过深入研究 blobstore 代码发现了这一点。重要的是，blobstore 发送到 UploadHandler 的 POST 请求不包含文件内容。相反，它包含一个“电子邮件消息”（嗯，像电子邮件一样编码的信息），其中包含有关文件的元数据（内容类型、内容长度、上传时间和 md5）。它还包含一个 blob-key，可用于从 blobstore 中检索文件。

# c# - 使用会话变量在 ASP.NET 中对记录进行分页

> ID：13304989
> 
> 赞同：0
> 
> 时间：2012-11-09T09:07:05.193
> 
> 标签：c#, asp.net-mvc, pagination

我在 ASP.NET MVC 4 中创建了一个分页，我从数据库获取记录的方式是通过 web 服务，在从 web 服务接收到记录后，我将它保存在我的会话变量中。但是在我继续调用 Web 服务之前，它将首先在我的会话中执行一个查询，如果查询返回一个值，我将不会继续调用 Web 服务，但如果查询返回**null**，它将继续调用 Web 服务。这是我的代码。

```
[HttpPost]
public ActionResult Getitems(int take,int skip)
{
  var check = ((List<Records>)Session["tempRecord"])
               .Orderby(item => item.ID)
               .Skip(skip)
               .Take(take).ToList();

  if (check.count == 0)
  {
        //code for calling a webservice
        string Result = ServiceCaller.Invoke("Record/getRecord?skip=" + skip + "&take=" + take,"POST","Application/Json");
        List<Records> ListResult = JsonHelper.Deserialize<List<Records>>(Result);            

        //code for appending result in the session
        ((List<Records>)Session["tempRecord"]).addRange(ListResult);
        return Json(ListResult);
  }
  else
  {
        return Json(Check);
  }
} 
```

现在，问题来了。页面加载时，当前值为 session 为初始值，但当用户首先点击更高的页码时，会继续执行上面的代码，但由于**check**变量返回 0 计数（因为它仍然有初始值） value)，它将调用 Web 服务并添加会话。然后，当用户点击低于他/她点击的第一页的页面时，它已经返回相同的值，因为正在查询的会话已经有一个值。

例如，您的表中共有 5 条记录（item1、item2、item3、item4、item5）。

每页是 1 条记录，会话的初始值为 (item1) 所以这就是它的样子

*   项目1

| **1** | 2 | 3 | 4 | 5 |

当用户单击页面“4”时，它看起来像这样，会话的当前值将像这样（item1，item4）

*   第 4 项

| 1 | 2 | 3 | **4** | 5 |

但是当用户点击低于页面“4”的页面时，输出仍然是相同的“ **item4** ”，但是当用户点击高于页面“4”时它工作正常。

有什么建议吗？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T10:02:04.723

所以如果我做对了，你就有了类似gridview的东西。带分页？如果是这样，您为什么不只发送页码？为什么是 2 个变量？

你不能发送页码然后做这样的事情：

```
public ActionResult GetItems(int page){

var numberitems = 10;
var skip = page * numberitems;
var take = skip+numberitems;

    //code for calling a webservice
    string Result = ServiceCaller.Invoke("Record/getRecord?skip=" + skip + "&take=" + take,"POST","Application/Json");
    List<Records> ListResult = JsonHelper.Deserialize<List<Records>>(Result);            

    //code for appending result in the session
    ((List<Records>)Session["tempRecord"]).addRange(ListResult);
    return Json(ListResult);
} 
```

从您的视图中获取并跳过似乎有点奇怪......

编辑：

```
public ActionResult GetItems(int page){
   var numberitems = 10;
   var skip = page * numberitems;
   var take = skip+numberitems;
if(Session["PageID"] == null || Session["cacheRecord"] == null){
   //code for calling a webservice
   string Result = ServiceCaller.Invoke("Record/getRecord?skip=" + skip + "&take=" + take,"POST","Application/Json");
   List<Records> ListResult = JsonHelper.Deserialize<List<Records>>(Result);            

   //code for appending result in the session
   ((List<Records>)Session["cacheRecord"]).addRange(ListResult);
   Session["PageID"] = page;
   return Json(ListResult);
 }else{
if(Session["PageID"] == page){
      var result = ((List<Records>)Session["tempRecord"])
           .Orderby(item => item.ID)
           .Skip(skip)
           .Take(take).ToList();
      return Json(result);
    }else{
   Session["PageID"] = page;
       string Result = ServiceCaller.Invoke("Record/getRecord?skip=" + skip + "&take=" + take,"POST","Application/Json");
       List<Records> ListResult = JsonHelper.Deserialize<List<Records>>(Result);            

       //code for appending result in the session
       ((List<Records>)Session["tempRecord"]).addRange(ListResult);
  return Json(ListResult);

} 
```

}

# javascript - 无法在 Jquery 中发送数组 - 给出 NetworkError 400 错误请求

> ID：13304995
> 
> 赞同：0
> 
> 时间：2012-11-09T09:07:27.720
> 
> 标签：javascript, jquery

我有一个 jquery 函数，我有 2 种类型的字符串和数组，如果我只传递字符串类型，它会命中控制器并且工作正常，但是如果我将数组连同它一起传递，我会收到网络错误 400 错误请求。我该怎么做。代码如下

```
function saveFocusGrp() {

    var focusName = window.prompt('Please enter the focus group name:');
    var enteredFocusList = [];
    enteredFocusList = focuslist;   // here focuslist is declared globally and is assigned the value in other function which I'm getting it in this function it will be in the form abc,def,xyz 

    alert("focus Name====>" + focusName);
    alert("focus List====> " + enteredFocusList); // I get the values here in alert too

    $.ajax({
        url : '/DataWeb/saveFocusData',
        type : 'get',
        dataType : 'json',
        data :  { focusGroupName : focusName, focusList : enteredFocusList },
        success : function(map) {
            console.log(map);
            var $out = $('#focusGroupName');
            $out.html(map.successMsg);

        }

    });

} 
```

我在 firebug 中遇到的错误是：NetworkError: 400 Bad Request

家庭控制器代码：

```
 @RequestMapping(value = "/saveFocusData", method = RequestMethod.GET)
    public void saveFocusData(HttpServletRequest req, HttpServletResponse res,
            @RequestParam("focusGroupName") String focusGroupName,
            @RequestParam("focusList") List focusList) throws IOException {

        System.out.println("Inside home controller============");
        Gson json = new Gson();
        res.setContentType("application/json");
        HashMap<String, String> map = new HashMap<String, String>();
        String successMsg="";
        map.put("successMsg", successMsg);
        res.getWriter().print(json.toJson(map));    
} 
```