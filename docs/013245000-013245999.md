# StackOverflow 问答 13245000-13245999

# ruby - 无法理解 Ruby 中的“除非”关键字

> ID：13245001
> 
> 赞同：7
> 
> 时间：2012-11-06T05:36:05.767
> 
> 标签：ruby

我不是以英语为母语的人。我知道这听起来很愚蠢。我用 Python 和 C 编写。但我不太明白它是如何`unless`工作的。

从逻辑的角度考虑它是否健康？例如，考虑`if`关键字：`if condition`. 如果`condition`为真，则代码运行。什么是合乎逻辑的解释`unless`？

有没有其他方法可以考虑？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-11-06T05:51:37.477

`unless x`相当于`if !x`

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-11-06T05:39:58.887

Ruby 除非修饰符：

语法：代码，除非有条件

**如果条件为假，则执行代码。**

例子：

```
$var =  1
print "1 -- Value is set\n" if $var
print "2 -- Value is set\n" unless $var

$var = false
print "3 -- Value is set\n" unless $var 
```

这将产生以下结果：

1 -- 值已设置

3 -- 值已设置

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-11-06T05:45:28.727

最简单的方法是：`unless`是 的对立面`if`。它在相同的地方（我认为）工作`if`：

```
foo = nil
puts "This will not show" if foo
puts "But this will" unless foo

if foo then
  puts "This will not show"
end
unless foo
  puts "But this will"
end 
```

如果您编写`unless foo`而不是，它在代码中看起来更好`if !foo`- 但这只是我的意见。在较长的形式中，您甚至可以使用`else`，但*请不要*使用。

这里有一[组规则可以让代码更易读](http://railstips.org/blog/archives/2008/12/01/unless-the-abused-ruby-conditional/)。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2016-06-26T07:55:17.240

饿了=真

除非饿

提出“我正在编写 Ruby 程序！”

别的

“吃饭时间到了！”

结尾

这是容易理解的方法

# loops - 理解 For Each 循环

> ID：13245005
> 
> 赞同：3
> 
> 时间：2012-11-06T05:36:43.927
> 
> 标签：loops, vbscript, wmi

我是脚本和编程的新手。

在以下和类似的脚本中，我注意到存在一个在“For Each”循环中引用的“objOperatingSystem”。我知道“colSettings”是一个包含 WMI 集合的变量，但“objOperatingSystem”从何而来？

请帮忙。谢谢！！！

```
strComputer = "."
Set objWMIService = GetObject("winmgmts:" _
    & "{impersonationLevel=impersonate}!\\" _
    & strComputer & "\root\cimv2")
Set colSettings = objWMIService.ExecQuery _
    ("Select * from Win32_OperatingSystem")
For Each objOperatingSystem in colSettings 
    Wscript.Echo "Available Physical Memory: " & _
        objOperatingSystem.FreePhysicalMemory
Next 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T05:41:18.373

`objOperatingSystem`是一个变量。`For Each`宣布它。基本上，对于一个`colSettings`名为的变量中的每个项目，`objOperatingSystem`都会将其设置为当前项目，并执行 for 循环的主体。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:13:27.157

这是vb脚本。它正在通过 WMI 查看操作系统对象以查看可用内存。它是 winmgmts（Windows 管理）对象的一部分。使用名为 WMI creator 的简洁工具，在您的计算机上浏览所有酷炫的 wmi。它只是一个为保存它在 WMI 中寻找的对象而创建的变量，然后“每次”遍历它。

# php - How to get JSON response from SOAP Call in PHP

> ID：13245008
> 
> 赞同：1
> 
> 时间：2012-11-06T05:36:27.327
> 
> 标签：php, soap-client

As SOAP client returns XML response by default, I need to get JSON response in return instead of XML.

```
$client = new SoapClient(null, array('location' => "http://localhost/soap.php",
                                     'uri'      => "http://test-uri/")); 
```

In that case what attribute needs to be set in [SOAPClient](http://php.net/manual/en/class.soapclient.php) or [SOAPHeader](http://www.php.net/manual/en/class.soapheader.php) so that it returns JSON response?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T06:12:36.013

From what I have been able to find out from some research, the SoapClient does not have any built in way to return the data directly as JSON (anyone else know if I'm wrong, it would save a heck of a lot of processing after the fact!) so you will probably need to take the XML returned data and parse it out manually.

I recalled that SimpleXMLElement offers some useful features, and sure enough, someone had some code snippets on [php.net](http://php.net/) to do exactly that: [http://php.net/manual/en/class.simplexmlelement.php](http://php.net/manual/en/class.simplexmlelement.php)

```
<?php
function XML2JSON($xml) {
    function normalizeSimpleXML($obj, &$result) {
        $data = $obj;
        if (is_object($data)) {
            $data = get_object_vars($data);
        }
        if (is_array($data)) {
            foreach ($data as $key => $value) {
                $res = null;
                normalizeSimpleXML($value, $res);
                if (($key == '@attributes') && ($key)) {
                    $result = $res;
                } else {
                    $result[$key] = $res;
                }
            }
        } else {
            $result = $data;
        }
    }
    normalizeSimpleXML(simplexml_load_string($xml), $result);
    return json_encode($result);
}
?> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T06:10:31.453

SOAP supports only XML message format.

If the SOAP server you are trying to connect is a third party one to which you do not have direct access, you will have to convert the XML response to JSON after receiving, like this example [here](http://www.ibm.com/developerworks/xml/library/x-xml2jsonphp/)

If you want your web service server to support different data types like json, you need to look into [RESTful web services.](http://en.wikipedia.org/wiki/Representational_state_transfer#RESTful_web_services)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-05-29T20:14:26.230

If your result is in PHP Array format, for example :

> object(stdClass)#2 (6) { ["category_id"]=> int(1) ["parent_id"]=> int(0) ["name"]=> string(12) "Root Catalog" ["position"]=> int(0)..........

Then you can parse it to JSON using,

```
//result is the variable with php array value
$JSON = json_encode($result);

print_r($JSON); 
```

For detailed understanding, watch - [https://www.youtube.com/watch?v=isuXO5Cv6Lg](https://www.youtube.com/watch?v=isuXO5Cv6Lg)

# matlab - 两条相交线之间的像素

> ID：13245012
> 
> 赞同：4
> 
> 时间：2012-11-06T05:36:47.440
> 
> 标签：matlab, math, image-processing, computational-geometry

我需要找到两条线的交点之间的像素值。下图显示了我想要的点，即棕色区域。

这4个坐标可以改变，不一定是角点。

![在此处输入图像描述](../Images/f2848a971b71f97a5555ea5eda0c825a.png)

获取像素值的最快方法是什么？有什么功能可以给我必要的面具。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-06T12:31:35.610

您应该计算每个点，无论它是在线上方还是下方。如果这条线是以方程形式给出的`Ax+By+C`，那么它就像根据你的观点计算这个表达式的符号一样简单`(x,y)`。如果你的行以任何其他形式给出，你应该首先计算上面的形式。（见[这里](http://www.analyzemath.com/line/line.htm)和[这里](http://bobobobo.wordpress.com/2008/01/07/solving-linear-equations-ax-by-c-0/)）

设`L1`为第一条线以下所有`L2`点的集合，以及第二条线以下所有点的集合。那么，你的设置是`X = Xor(L1,L2)`

**[** ![在此处输入图像描述](../Images/be78258ecc1a7cf87c4e67a7a41beab0.png) **] 异或 [** ![在此处输入图像描述](../Images/592dc6ccacc70aa06d50ec0e36dd47c0.png)**]**

**等于：**

![在此处输入图像描述](../Images/a36cba1fbd4184b09335c8c72ca3bdd8.png)

这是一个 Matlab 代码，它根据我描述的解决方案为您解决角点问题。您可以调整代码中的线方程。

```
function CreateMask()
    rows = 100;
    cols = 200;
    [X,Y] = ndgrid(1:cols,1:rows);

    belowFirstLine  = X*(1/cols)  + Y*(-1/rows) + 0 < 0;
    belowSecondLine = X*(-1/cols) + Y*(-1/rows) + 1 < 0;

    figure;imshow( transpose(xor(belowSecondLine,belowFirstLine)));
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T05:58:54.467

这是几何解决方案，而不是解析解决方案。

首先，您需要构建一个蒙版图像，最初用全零填充。[然后你应该使用Bresenham's algorithm](http://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm)绘制两条线。Matlab 中没有默认实现，但您可以在[Matlab Central](http://www.mathworks.com/matlabcentral/fileexchange/12939-bresenhams-line)中选择一个。我假设，你有与图像边界线的交点坐标。

之后，您的图像被分成四个区域，您需要使用[bwfill](http://www.mathworks.com/help/images/ref/imfill.html)填充其中两个区域。现在你有了面具。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T05:49:29.757

您可以从生成两个具有 x 和 y 坐标的矩阵开始：

```
 1 2 3 4 5       1 1 1 1 1 
 1 2 3 4 5   vs. 2 2 2 2 2   sized as the region
 1 2 3 4 5       3 3 3 3 3 
```

然后需要 4 行方程将 x*a + y*b < c 转换为 4 个掩码：对角线必须是 XORED 和顶部/底部掩码 ANDED
或没有逻辑表达式： mask=mod(diag1+diag2,2)*top_mask*机器人掩码；

假设 a 和 b 被归一化，可以通过添加线宽的一半来控制线宽。

# c - 如何使用 ulimit 或 Mac OS X 上的每个进程为 C 或 Ruby 程序更改堆栈大小？

> ID：13245019
> 
> 赞同：26
> 
> 时间：2012-11-06T05:37:47.280
> 
> 标签：c, ruby, stack, ulimit

似乎为 C 程序或 Ruby 程序（使用 C 堆栈）设置堆栈大小的推荐方法是`ulimit`在 Bash shell 中使用。但

```
$ ulimit -s
8192

$ ulimit -s 16384
-bash: ulimit: stack size: cannot modify limit: Operation not permitted 
```

也`sudo`无济于事。有没有办法将其设置为 16MB、32MB 或 64MB？我认为应该有一种方法来设置每个程序调用而不是设置系统范围的参数？

现在`8192`可能意味着 8MB 非常小，如果与一个进程可以使用的数量相比，有时甚至高达 2GB 的 RAM。

（**更新说明：** `ulimit -a`可以显示其当前值）。

（**更新2：**实际上似乎`ulimit -s <value>`是每个shell，如果你第一次设置它，它通常可以工作。问题是当你第二次设置它时，它可能会返回错误）

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-11-06T23:59:54.127

显然，mac os x 的堆栈大小有一个硬性限制，取自[http://lists.apple.com/archives/scitech/2004/Oct/msg00124.html](http://lists.apple.com/archives/scitech/2004/Oct/msg00124.html) ，这已经很老了，我不确定它是否仍然如此，但要设置它只需调用 ulimit -s hard，它的 65532。或大约 65 兆。

我在雪豹上做了一些测试，10.6.8，它似乎是真的。

```
$ ulimit -a
...
stack size              (kbytes, -s) 8192
...
$ ulimit -s 65533
-bash: ulimit: stack size: cannot modify limit: Operation not permitted
$ ulimit -s 65532
$ 
```

我还发现了这个[http://linuxtoosx.blogspot.com/2010/10/stack-overflow-increasing-stack-limit.html](http://linuxtoosx.blogspot.com/2010/10/stack-overflow-increasing-stack-limit.html)虽然我没有测试过，所以不能说太多。

当应用程序消耗通常从堆中获取的大量内存时，堆栈通常是为本地自动变量保留的，这些变量存在的时间相对较短，相当于函数调用的生命周期，堆是大多数持久数据所在的地方.

这是一个快速教程：

```
#include <stdlib.h>

#define NUMBER_OF_BYTES 10000000 // about 10 megs
void test()
{
   char stack_data[NUMBER_OF_BYTES];          // allocating on the stack.
   char *heap_data = malloc(NUMBER_OF_BYTES); // pointer (heap_data) lives on the stack, the actual data lives on the heap.
}

int main()
{   
    test(); 
    // at this point stack_data[NUMBER_OF_BYTES] and *heap_data have being removed, but malloc(NUMBER_OF_BYTES) persists.
    // depending on the calling convention either main or test are responssible for resetting the stack.
    // on most compilers including gcc, the caller (main) is responssible.

    return 0;
}

$ ulimit -a
...
stack size              (kbytes, -s) 8192
...
$ gcc m.c
$ ./a.out
Segmentation fault
$ ulimit -s hard
$ ./a.out
$ 
```

ulimit 只是暂时的，您每次都必须更新它，或者更新相应的 bash 脚本以自动设置它。

**一旦设置了 ulimit，它就只能降低而不能提高。**

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-03-16T10:42:09.030

在我看来，接受的答案并不完全正确，并导致理解错误，更具体地说，最后一个陈述是不正确的。

> **一旦设置了 ulimit，它就只能降低而不能提高。**

确实存在软（用`ulimit -s`or显示`ulimit -Ss`）和硬（用 显示`ulimit -Hs`）限制。但是通过设置限制`ulimit -s`会影响软值**和**硬值。

一旦设置了**硬**限制，它只能降低而不能提高，但只要该值低于硬限制，就可以降低或提高软限制。

这将起作用：

```
# base values
$ ulimit -s
100
$ ulimit -Hs
100
$ ulimit -Ss
100
# lower soft limit only
$ ulimit -Ss 50
$ ulimit -s
50
$ ulimit -Hs
100
$ ulimit -Ss
50
# raise soft limit only
$ ulimit -Ss 100
$ ulimit -s
100
$ ulimit -Hs
100
$ ulimit -Ss
100
# lower soft and hard limit
$ ulimit -s 50
$ ulimit -s
50
$ ulimit -Hs
50
$ ulimit -Ss
50
# then impossible to raise soft limit due to hard limit
$ ulimit -s 100
-bash: ulimit: stack size: cannot modify limit: Operation not permitted
$ ulimit -Ss 100
-bash: ulimit: stack size: cannot modify limit: Invalid argument 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T05:58:31.530

系统默认堆栈大小因内核的不同版本而异。我的 10.7 是 16384，因此 ulimit -s 16384 被我的 Mac 接受。您可以尝试`sysctl kern.stack_size`，它会显示只读堆栈大小。我的是 16384。
您可以查看这篇技术文章[http://developer.apple.com/library/mac/#qa/qa1419/_index.html](http://developer.apple.com/library/mac/#qa/qa1419/_index.html)，了解如何更改 C 程序的默认堆栈大小。对于 Ruby，因为它是一种脚本语言，所以在链接 Ruby 解释器的过程中必须扩大它的堆栈大小。除了有非常深的函数调用或递归，或者在堆栈中分配非常大的数组和对象外，您的程序不应该有巨大的堆栈空间。相反，使用堆或动态分配可以根据需要使用多达 2GB 的 RAM。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-29T01:57:39.193

我发现使用`/bin/zsh`而不是`/bin/sh`使这个错误消失。

对我来说，错误发生在名为`ulimit -s unlimited`. 当脚本被解释时`/bin/sh`（即，`#!/bin/sh`作为脚本文件的第一行），它报错了。相反，将其更改为 use 时`zsh`，一切似乎都运行良好。 `zsh`足够聪明，可以解释`unlimited`为“给我操作系统允许我拥有的最大限制”，并且一切都按照您的意愿进行。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-08-23T07:32:21.950

内置控件的所有限制`ulimit`实际上都在 OS 内核中实现，因此您应该查看整个系统的 C 接口文档。这是 Apple 文档`setrlimit()`：[https ://developer.apple.com/library/archive/documentation/System/Conceptual/ManPages_iPhoneOS/man2/setrlimit.2.html](https://developer.apple.com/library/archive/documentation/System/Conceptual/ManPages_iPhoneOS/man2/setrlimit.2.html)

（请注意，该文档的路径似乎是 iPhoneOS，但内容仍然是“Mac OS X”。如果您在本地安装了合适的文档，`man setrlimit`则在终端中运行应该会发出最新的文档。）

`fork()`新创建的进程从父进程或先前执行的进程继承限制`exec()`。

# css - SASS Mixin 用一个参数代替另一个参数

> ID：13245023
> 
> 赞同：1
> 
> 时间：2012-11-06T05:38:18.197
> 
> 标签：css, sass

所以，我刚开始学习 SASS，我想我会写一个快速的 mixin 来将所有供应商前缀添加到语句中。所以我写了这个：

```
@mixin prefix( $style, $value ) {
  $style: $value;
  -o-#{$style}: $value;
  -moz-#{$style}: $value;
  -webkit-#{$style}: $value;
  -ms-#{$style}: $value;
}

header {
  @include prefix( transform, rotate(90deg) );
} 
```

但是，由于某种原因我无法理解，这会产生输出：

```
header {
  -o-rotate(90deg): rotate(90deg);
  -moz-rotate(90deg): rotate(90deg);
  -webkit-rotate(90deg): rotate(90deg);
  -ms-rotate(90deg): rotate(90deg); } 
```

显然它是用第二个参数代替第一个参数。[它在这里](http://sass-lang.com/try.html "这里")产生与我的服务器上相同的输出。我希望有人能解释为什么会这样。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-06T06:13:40.090

请注意，不仅 的值`$style`被替换为 的值`$value`，而且您也没有得到不带前缀的规则 - 您应该`transform: rotate(90deg);`在之前拥有第一个输出规则`o-transform`。这应该是问题出在第一行的线索。

它是：第一行应该是

`#{$style}: $value;`

就像在所有后续规则中一样，`$style`要打印要打印的文字内容，您必须使用井号装饰器。没有它，SASS 将该行解释为变量赋值。

# android - 如何在android中的ViewPager上实现立方体过渡效果动画？

> ID：13245031
> 
> 赞同：5
> 
> 时间：2012-11-06T05:38:22.570
> 
> 标签：android, animation, android-activity

我想在 Android View Pager 中实现立方体过渡效果动画。

任何人都可以对android中的立方体动画有所了解。

![在此处输入图像描述](../Images/bbfd6bce347b69827438c940f275507f.png)

例如，附上图像。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2015-01-05T06:02:13.857

[在这里](https://github.com/ToxicBakery/ViewPagerTransforms)查看

**快照：**

![在此处输入图像描述](../Images/9e3967f5f26b68ffcd2f9a74593d75af.png)

在那里你可以看到库和相关的源代码。

**MainActivity.java：**

```
package com.ToxicBakery.viewpager.transforms.example;

import java.util.ArrayList;

import android.app.ActionBar;
import android.app.ActionBar.OnNavigationListener;
import android.app.Activity;
import android.app.Fragment;
import android.app.FragmentManager;
import android.os.Bundle;
import android.support.v13.app.FragmentStatePagerAdapter;
import android.support.v4.view.ViewPager;
import android.support.v4.view.ViewPager.PageTransformer;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.TextView;

import com.ToxicBakery.viewpager.transforms.AccordionTransformer;
import com.ToxicBakery.viewpager.transforms.BackgroundToForegroundTransformer;
import com.ToxicBakery.viewpager.transforms.CubeInTransformer;
import com.ToxicBakery.viewpager.transforms.CubeOutTransformer;
import com.ToxicBakery.viewpager.transforms.DefaultTransformer;
import com.ToxicBakery.viewpager.transforms.DepthPageTransformer;
import com.ToxicBakery.viewpager.transforms.FlipHorizontalTransformer;
import com.ToxicBakery.viewpager.transforms.FlipVerticalTransformer;
import com.ToxicBakery.viewpager.transforms.ForegroundToBackgroundTransformer;
import com.ToxicBakery.viewpager.transforms.RotateDownTransformer;
import com.ToxicBakery.viewpager.transforms.RotateUpTransformer;
import com.ToxicBakery.viewpager.transforms.StackTransformer;
import com.ToxicBakery.viewpager.transforms.TabletTransformer;
import com.ToxicBakery.viewpager.transforms.ZoomInTransformer;
import com.ToxicBakery.viewpager.transforms.ZoomOutSlideTransformer;
import com.ToxicBakery.viewpager.transforms.ZoomOutTranformer;
import com.ToxicBakery.viewpager.transforms.example.R;

public class MainActivity extends Activity implements OnNavigationListener {

    private static final String KEY_SELECTED_PAGE = "KEY_SELECTED_PAGE";
    private static final String KEY_SELECTED_CLASS = "KEY_SELECTED_CLASS";
    private static final ArrayList<TransformerItem> TRANSFORM_CLASSES;

    static {
        TRANSFORM_CLASSES = new ArrayList<TransformerItem>();
        TRANSFORM_CLASSES.add(new TransformerItem(DefaultTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(AccordionTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(BackgroundToForegroundTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(CubeInTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(CubeOutTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(DepthPageTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(FlipHorizontalTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(FlipVerticalTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(ForegroundToBackgroundTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(RotateDownTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(RotateUpTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(StackTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(TabletTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(ZoomInTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(ZoomOutSlideTransformer.class));
        TRANSFORM_CLASSES.add(new TransformerItem(ZoomOutTranformer.class));
    }

    private int mSelectedItem;
    private ViewPager mPager;
    private PageAdapter mAdapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        int selectedPage = 0;
        if (savedInstanceState != null) {
            mSelectedItem = savedInstanceState.getInt(KEY_SELECTED_CLASS);
            selectedPage = savedInstanceState.getInt(KEY_SELECTED_PAGE);
        }

        final ArrayAdapter<TransformerItem> actionBarAdapter = new ArrayAdapter<TransformerItem>(
                getApplicationContext(), android.R.layout.simple_list_item_1, android.R.id.text1, TRANSFORM_CLASSES);

        final ActionBar actionBar = getActionBar();
        actionBar.setListNavigationCallbacks(actionBarAdapter, this);
        actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);

        //noinspection ResourceType
        actionBar.setDisplayOptions(actionBar.getDisplayOptions() ^ ActionBar.DISPLAY_SHOW_TITLE);

        setContentView(R.layout.activity_main);

        mAdapter = new PageAdapter(getFragmentManager());

        mPager = (ViewPager) findViewById(R.id.container);
        mPager.setAdapter(mAdapter);
        mPager.setCurrentItem(selectedPage);

        actionBar.setSelectedNavigationItem(mSelectedItem);
    }

    @Override
    public boolean onNavigationItemSelected(int position, long itemId) {
        mSelectedItem = position;
        try {
            mPager.setPageTransformer(true, TRANSFORM_CLASSES.get(position).clazz.newInstance());
        } catch (Exception e) {
            throw new RuntimeException(e);
        }

        return true;
    }

    protected void onSaveInstanceState(Bundle outState) {
        outState.putInt(KEY_SELECTED_CLASS, mSelectedItem);
        outState.putInt(KEY_SELECTED_PAGE, mPager.getCurrentItem());
    }

    public static class PlaceholderFragment extends Fragment {

        private static final String EXTRA_POSITION = "EXTRA_POSITION";
        private static final int[] COLORS = new int[] { 0xFF33B5E5, 0xFFAA66CC, 0xFF99CC00, 0xFFFFBB33, 0xFFFF4444 };

        @Override
        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
            final int position = getArguments().getInt(EXTRA_POSITION);
            final TextView textViewPosition = (TextView) inflater.inflate(R.layout.fragment_main, container, false);
            textViewPosition.setText(Integer.toString(position));
            textViewPosition.setBackgroundColor(COLORS[position - 1]);

            return textViewPosition;
        }

    }

    private static final class PageAdapter extends FragmentStatePagerAdapter {

        public PageAdapter(FragmentManager fragmentManager) {
            super(fragmentManager);
        }

        @Override
        public Fragment getItem(int position) {
            final Bundle bundle = new Bundle();
            bundle.putInt(PlaceholderFragment.EXTRA_POSITION, position + 1);

            final PlaceholderFragment fragment = new PlaceholderFragment();
            fragment.setArguments(bundle);

            return fragment;
        }

        @Override
        public int getCount() {
            return 5;
        }

    }

    private static final class TransformerItem {

        final String title;
        final Class<? extends PageTransformer> clazz;

        public TransformerItem(Class<? extends PageTransformer> clazz) {
            this.clazz = clazz;
            title = clazz.getSimpleName();
        }

        @Override
        public String toString() {
            return title;
        }

    }

} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-11-16T05:24:07.273

我专门为立方体变换效果编写了一个 ViewPager.PageTransformer。

随意调整`deltaY`以微调您的垂直转换。队友的欢呼声。

[https://gist.github.com/delacrixmorgan/6b05ab74d1acb01b471fcc3151d70703](https://gist.github.com/delacrixmorgan/6b05ab74d1acb01b471fcc3151d70703)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-09-26T17:45:08.693

这是[Morgan Koh 的答案](https://stackoverflow.com/a/53331906/2200951)，但使用 Java 并使用 ViewPager2。

`position`是接缝（显示的两个面板之间）和屏幕边缘之间的距离。（当您将接缝拖过时，这会触发多次。）

```
public class CubeTransformer implements ViewPager2.PageTransformer {
    @Override
    public void transformPage(@NonNull View page, float position) {
        float deltaY = 0.5f;
        float pivotX = position < 0f ? page.getWidth() : 0f;
        float pivotY = page.getHeight() * deltaY;
        float rotationY = 45f * position;

        page.setPivotX(pivotX);
        page.setPivotY(pivotY);
        page.setRotationY(rotationY);
    }
} 
```

然后在您的活动中：

```
ViewPager2 vp = findViewById(R.id.swipe_frame);
vp.setAdapter(new SwipeAdapter());
vp.setPageTransformer(new CubeTransformer()); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T05:44:09.900

使用相机来执行这样的动画。尝试阅读 ApiDemos 中的 com.example.android.apis.animation.Transition3d。

# parallel-processing - 有限自动机和循环的逻辑是什么

> ID：13245035
> 
> 赞同：0
> 
> 时间：2012-11-06T05:38:42.443
> 
> 标签：parallel-processing, logic, language-theory

我必须绘制一个接受以下字符串的有限自动机

```
Λ, a, aabc, acba and accb 
```

在我看来 `a(a+b+c)*`，这可能是它的正则表达式，因为字符串从它开始`a`并且还包含一个空字符串。

现在我没有找到如下图绘制 FA 的逻辑 ![在此处输入图像描述](../Images/5fabd67708b12faf80ecfe0a2aef3574.png)

**问题 1：**如果字符串在 FA 中以 then 开头，我们在阅读 为什么我们不在这里阅读时`a`从`x`to移动。`y``b``a`

**问题 2：**`y`为什么我们在状态和状态上使用 a,b 循环`z`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T08:14:10.417

语言*L* = {λ, a, aabc, acba, accb} 是*有限*的。因此，*L*不等价于正则表达式 a(a + b + c) 的 Kleene 闭包表示的语言，它是*无限**的*。有一种简单的算法可以生成接受有限语言的非确定性有限自动机，它由接受语言中每个字符串的绘制路径组成。

目前尚不清楚这两种语言与原始帖子中的图表之间的关系是什么，因为图表中的自动机不接受任何一种语言。假设节点标有名称，圆圈节点表示接受，图中自动机接受的语言为(a + b)*。在这种情况下，循环用于接受 (a + b) 的 Kleene 闭包。也就是说，如果您能阐明图表的含义，那将会很有用。

# compiler-construction - Fortran if 语句错误

> ID：13245036
> 
> 赞同：1
> 
> 时间：2012-11-06T05:38:43.757
> 
> 标签：compiler-construction, if-statement, fortran, entropy

我有一个程序应该告诉用户他们输入的温度是否绝对为零。如果确实是这样，那么他们应该看到“对你来说没有熵”，如果它更大，那么它应该告诉他们它们在 a0 之上有多远，但是我不断收到消息说我的 if 语句有错误，并且不知道在哪里首先，有人可以帮我吗？

```
PROGRAM Project2

CHARACTER(1):: tempType
REAL:: k, f, c
REAL:: temp
REAL:: answer

PRINT *, "What is the temperature type?"
READ *, tempType
PRINT *, "whats the temp?"
READ *, temp

k = 0.0
c = -273.15
f = -459.67

answer = getMinTemperature(tempType)
PRINT *, answer

CONTAINS

FUNCTION getMinTemperature(tempType)
REAL:: getMinTemperature
CHARACTER(1), INTENT(IN):: tempType
REAL:: temp
DO i = 1, num
IF(ACHAR(tempType(i)) <= temp .AND. k > temp) THEN
 k= 0.0
 getMinTemperature = k
 EXIT
ELSE IF (c <= temp .AND. c > temp) THEN
 c= -273.15
 getMinTemperature = c
 EXIT
ELSE IF ( f <= temp .AND. f > temp) THEN
 f=-459.67
 getMinTemperature = f
 EXIT
END IF
END DO

END FUNCTION

END PROGRAM Project2 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-06T07:52:36.623

这是一些无端的建议，仅与您报告的错误无关。

1.  `implicit none`养成在程序、例程和模块开头插入的习惯。它应该在任何`use`声明之后，在任何其他声明之前。它将帮助您避免意外声明变量，或在您不希望重新声明它们的范围内重新声明变量。
2.  养成通过参数列表将所有数据传入或传出例程的习惯。在您的代码中，变量`k,f,c`（这是什么，炸鸡代码的一部分？）在包含的范围内，`getMinTemperature`因此可以在那里使用而无需显式传递它们。但是您当前的方法使得在大型程序中更难弄清楚发生了什么，并且会使在其他程序中重用代码变得更加困难。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-06T05:57:36.773

假设这是一个家庭作业，我只会给你一些指示而不是答案。首先，重新考虑程序的逻辑。你真的需要那个循环`i`吗？然后，查找[. `achar`](http://gcc.gnu.org/onlinedocs/gcc-4.0.4/gfortran/ACHAR.html)你真的需要吗？另请注意，如果您用 注释掉该行，您的代码将编译`achar`，因此后者会干扰`intent(in)`函数参数的属性。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-06T06:38:29.153

[振亚](https://stackoverflow.com/users/143765/zhenya)是绝对正确的。只是为了给您更多提示，您可能希望在函数中使用以下代码示例。您当然必须添加所需的逻辑。您的作业非常适合使用 for`SELECT CASE`

```
SELECT CASE ( tempType )
 CASE ( 'k', 'K' )
     ! do something - kelvin input
 CASE ( 'c', 'C' )
     ! do something - celsius input
 CASE ( 'f', 'F' )
     ! do something - fahrenheit input
 CASE DEFAULT
     ! handle input error
END SELECT 
```

# jquery-mobile - 标签和输入同一行

> ID：13245038
> 
> 赞同：1
> 
> 时间：2012-11-06T05:38:44.027
> 
> 标签：jquery-mobile

.0我在使用移动设备将标签与输入字段对齐时遇到问题（普通浏览器对此没有任何问题）。

我有的：

```
<div data-role="fieldcontain">
    <label for="name">Label:</label> 
    <input data-mini="true" type="text" name="name" id="name" value="" />
</div> 
```

在我的脑海中，我有一个媒体查询，例如

```
<meta name="viewport" content="width=device-width, initial-scale=1,minimum-scale=1.0,maximum-scale=1.0"> 
```

例如，我有什么：

标签

* * *

我想在 450px 下拥有什么，即：

标签***_* __ *_* ____**

如果宽度超过 450px，标签（根据 css 中的媒体查询）移动到输入字段的左侧。这在我的本地浏览器中就像一个魅力。但是，如果我使用任何移动设备访问它而不考虑分辨率（尝试 s3、iphone 和其他设备），标签总是显示在文本字段的顶部（在非横向模式下）。

我想了解为什么这种行为会发生在移动设备上。这有没有。与视口有关吗？我不熟悉在移动设备上进行开发及其特定的媒体查询。

我完全知道有像网格和表格这样的解决方法。但我希望我的网络应用程序有这种行为。在较小的设备上显示为 2 行是有意义的。如果有办法，我想在不覆盖 jquery 移动类并编写自己的解决方案的情况下做到这一点。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T08:24:13.703

css file:

`jquery.mobile-1.2.0.min.css`

edit:

3227.line: `@media all and (min-width:300px) {`

# jquery - qtip 未在按钮悬停时显示

> ID：13245040
> 
> 赞同：0
> 
> 时间：2012-11-06T05:39:50.257
> 
> 标签：jquery, qtip, qtip2

这是我第一次使用 qtip。我正在尝试在按钮上显示工具提示。下面是代码 -

```
$(".signUpButton").qtip({
    content: {
        text: 'My tooltip content'
    }
}); 
```

我尝试添加 show: `{event: 'mouseenter'}`，但没有帮助。有人可以让我知道我在这里做错了什么吗？

谢谢， 阿努普

# sql - 相关查询

> ID：13245044
> 
> 赞同：1
> 
> 时间：2012-11-06T05:39:54.790
> 
> 标签：sql, sql-server, sql-server-2008

我有一张表，其中有一些记录如下

```
Model            Make            Color
==================================================
Maruti 800       2008            Black
Maruti 800       2009            White
Maruti Esteem    2000            Yelow
Maruti Esteem    2010            Red 
```

现在我想要列表中具有最大品牌的型号、品牌和颜色。
我试过写这样的查询

```
SELECT 
     Model,
     MAX(Model),
     Color
from 
     tableName
GROUP BY 
     Model,
     Color 
```

但结果并没有出现我想要的
它应该是这样的

```
Model            Make            Color
===================================================
Maruti 800       2009            White    
Maruti Esteem    2010            Red 
```

但结果是整张桌子。

我只需要那些具有最大 Make Model Wise 的记录。
我也尝试过内部查询（共同相关查询），但它也要求分组依据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T05:41:52.037

下面的查询支持所有 RDBMS，包括`MySQL`, `Oracle`, `SQL Server`,...

```
SELECT  a.*
FROM    tableName a
        INNER JOIN
        (
            SELECT  Model, MAX(Make) maxMake
            FROM tableName
            GROUP BY Model
        ) b ON a.Model = b.model AND
                a.make = b.MaxMake 
```

*   [**SQLFiddle 演示**](http://sqlfiddle.com/#!3/78919/1)

如果您的 RDBMS 支持 windows 功能，

```
SELECT  Model, Make, Color
FROM    
        (
            SELECT  Model, Make, Color,
                    ROW_NUMBER() OVER (Partition By Model ORDER BY Make DESC) rn
            FROM tableName
        ) b 
WHERE rn = 1 
```

*   [**SQLFiddle 演示**](http://sqlfiddle.com/#!3/78919/2)

或者

```
WITH lists
AS
(
    SELECT  Model, Make, Color,
            ROW_NUMBER() OVER (Partition By Model ORDER BY Make DESC) rn
    FROM tableName
) 
SELECT  Model, Make, Color
FROM    lists
WHERE rn = 1 
```

*   [**SQLFiddle 演示**](http://sqlfiddle.com/#!3/78919/3)

# java - 带有唯一标签的哑 xml 文件 (Java)

> ID：13245045
> 
> 赞同：1
> 
> 时间：2012-11-06T05:40:14.600
> 
> 标签：java, dom, xml-parsing

我有一个带有这种标签的 .xml 文件：“tag_X”和“sub_tagY”。像这样：

```
<tag_1>
  <sub_tag1>
    <key>something here</key>
  </sub_tag1>
<tag_1>
<tag_2>
  <sub_tag1>
    <key>something here</key>
  </sub_tag1>
  <sub_tag2>
    <key>something here</key>
  </sub_tag2>
<tag_2>
<tag_3>
  <sub_tag1>
    <key>something here</key>
  </sub_tag1>
<tag_3> 
```

我开始使用 DOM，但这不能正常工作......谁能帮我用 Java 阅读它？谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T05:44:10.880

你可以使用`xstream`图书馆。[有关XStream 文档](http://xstream.codehaus.org/)的更多详细信息

谢谢

# c - 为什么此示例在字符串比较中使用空填充？“编程珍珠”：一串串珍珠

> ID：13245050
> 
> 赞同：1
> 
> 时间：2012-11-06T05:40:08.010
> 
> 标签：c, string, suffix-array, programming-pearls

在“Programming Pearls”：Strings of Pearls，[第 15.3 节](http://www.cs.bell-labs.com/cm/cs/pearls/sec153.html)（生成文本）中，作者介绍了如何从输入文档中生成随机文本。在[源代码](http://www.cs.bell-labs.com/cm/cs/pearls/markov.c)中，有一些我不明白的东西。

```
for (i = 0; i < k; i++)
        word[nword][i] = 0; 
```

作者解释说：“在读取输入后，我们附加了 k 个空字符（因此比较函数不会跑到最后）。” 这个解释真的让我很困惑，因为在评论这两行之后它仍然很好用。为什么这是必要的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T05:54:34.090

这样做可以减少在进行逐个字符比较时必须处理的奇怪情况的数量。

```
 alphabet
 alpha___ 
```

如果您一次遍历这一个字母，并且末尾的空填充`alpha`不存在，您将尝试检查下一个元素......并直接从数组的末尾运行。空填充基本上确保当一个单词中有一个字符时，另一个单词中有一个对应的字符。而且由于空字符的值为 0，因此较短的单词总是会被视为“小于”较长的单词！

至于为什么它似乎在没有这些线路的情况下工作，我能想到两个相关的原因：

1.  这是用 C 编写的。C 不保护它的数组边界；您可以读取超出为其分配的空间的任何垃圾数据，而且您什么也听不到。
2.  您的输入文档是这样制作的，您永远不会比较两个字符串，其中一个是另一个的前缀（例如`alpha`is to `alphabet`）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-06T07:42:27.457

正如另一个答案中已经解释的那样，目的是空终止字符串。

但是我阅读了发布的链接，并且该循环没有意义。如果看一下使用的比较函数，在这种情况下，没有理由必须用零填充整个字符串。`word[nword][0] = 0;`没有 for 循环的平原也可以正常工作。或者最好：

```
word[nword][0] = '\0'; 
```

用零填充整个字符串会增加相当多的开销执行时间。

# charts - 调整 JavaFX 图表的高度、宽度

> ID：13245051
> 
> 赞同：2
> 
> 时间：2012-11-06T05:40:13.083
> 
> 标签：charts, height, width, javafx

我是 Java 新手，有 PHP、HTML、CSS 经验。当我尝试更改我的图表在窗口中占用的宽度和高度时，NetBeans 给了我错误：

错误：setWidth(double) 在 Region chart.setWidth(450) 中具有受保护的访问权限；

我搜索了 javafx 文档，发现宽度/高度绑定到区域，但我不确定我的代码中是什么，我尝试了一些东西但没有找到它......

我确定这很简单..

在此先感谢，布拉德。

```
package test;

import javafx.application.Application;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.stage.Stage;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.scene.chart.ScatterChart;
import javafx.scene.chart.XYChart;
import javafx.scene.chart.NumberAxis;
import javafx.scene.shape.Rectangle;

public class Test extends Application {

    private void init(Stage primaryStage) {
        Group root = new Group();
        primaryStage.setScene(new Scene(root,1000,1000));

        root.getStylesheets().add("test/Chart.css");

        Rectangle rect = new Rectangle(35,70); 
        rect.setLayoutX(30); 
        rect.setLayoutY(30);
        rect.getStyleClass().add("my-rect");

        NumberAxis xAxis = new NumberAxis("X Axis", -24d, 24.0d, 2.0d);
        NumberAxis yAxis = new NumberAxis("Y Axis", -24.0d, 24.0d, 1.0d);

        ObservableList<XYChart.Series> data = FXCollections.observableArrayList(
            new ScatterChart.Series("Series 1", FXCollections.<ScatterChart.Data>observableArrayList(
                new XYChart.Data(0.2, 3.5),
                new XYChart.Data(0.7, 4.6),
                new XYChart.Data(1.8, 1.7),
                new XYChart.Data(2.1, 2.8),
                new XYChart.Data(4.0, 2.2),
                new XYChart.Data(4.1, 2.6),
                new XYChart.Data(4.5, 2.0),
                new XYChart.Data(6.0, 3.0),
                new XYChart.Data(7.0, 2.0),
                new XYChart.Data(7.8, 4.0)
            )),
            new ScatterChart.Series("Series 2", FXCollections.<ScatterChart.Data>observableArrayList(
                new XYChart.Data(6.2,3.0),
                new XYChart.Data(6.0,4.0),
                new XYChart.Data(5.8,5.0)
            ))    
        );
        ScatterChart chart = new ScatterChart(xAxis, yAxis, data);
        chart.setWidth(450);
        chart.setHeight(450);

        chart.setLayoutX(250);
        chart.setLayoutY(250);

        root.getChildren().addAll(chart,rect);
    }

    @Override public void start(Stage primaryStage) throws Exception {
        init(primaryStage);
        primaryStage.show();
    }
    public static void main(String[] args) { launch(args); }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T11:19:42.427

`ScatterChart.getHeight()`（反过来是）的javadoc`Region.getHeight()`说

> 获取属性高度的值。
> 属性描述：
> 这个可调整大小的节点的高度。该属性由区域的父级在布局期间*设置，应用程序可能不设置*。如果应用程序需要显式控制区域的大小，则应通过设置**minHeight**、 **prefHeight**和**maxHeight**属性来覆盖其首选大小范围。

也就是说，您可以调整和限制任何图表的大小：

```
ScatterChart.setPrefHeight(double)
ScatterChart.setMinHeight(double)
ScatterChart.setMaxHeight(double)

ScatterChart.setPrefWidth(double)
ScatterChart.setMinWidth(double)
ScatterChart.setMaxWidth(double)

ScatterChart.setPrefSize(double, double)
ScatterChart.setMinSize(double, double)
ScatterChart.setMaxSize(double, double) 
```

# c# - 有没有办法在“添加或删除程序”中更改 ClickOnce 应用程序的图标？

> ID：13245056
> 
> 赞同：8
> 
> 时间：2012-11-06T05:40:35.223
> 
> 标签：c#, winforms, icons, clickonce

我有一个使用[ClickOnce](http://en.wikipedia.org/wiki/ClickOnce)技术部署的 Windows 应用程序。有没有办法更改图像中显示的该应用程序的图标？

![正在运行的安装程序的屏幕截图，带有图标标记。](../Images/d5c4022e2ce11853589c86d570a3b256.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T09:03:05.303

以下代码是我用来解决问题的代码。*[我在 'Add or Remove Programs' 中为 ClickOnce 应用程序](https://stackoverflow.com/questions/10927109/icon-for-click-once-app-in-add-or-remove-programs)*使用了 Stack Overflow 问题自定义图标。

```
 private static void SetAddRemoveProgramsIcon()
    {
        //only run if deployed
        if (System.Deployment.Application.ApplicationDeployment.IsNetworkDeployed
             && ApplicationDeployment.CurrentDeployment.IsFirstRun)
        {
            try
            {
                Assembly code = Assembly.GetExecutingAssembly();
                AssemblyDescriptionAttribute asdescription =
                    (AssemblyDescriptionAttribute)Attribute.GetCustomAttribute(code, typeof(AssemblyDescriptionAttribute));
               // string assemblyDescription = asdescription.Description;

                //the icon is included in this program
                string iconSourcePath = Path.Combine(System.Windows.Forms.Application.StartupPath, "hl772-2.ico");

                if (!File.Exists(iconSourcePath))
                    return;

                RegistryKey myUninstallKey = Registry.CurrentUser.OpenSubKey(@"Software\Microsoft\Windows\CurrentVersion\Uninstall");
                string[] mySubKeyNames = myUninstallKey.GetSubKeyNames();
                for (int i = 0; i < mySubKeyNames.Length; i++)
                {
                    RegistryKey myKey = myUninstallKey.OpenSubKey(mySubKeyNames[i], true);
                    object myValue = myKey.GetValue("DisplayName");
                    if (myValue != null && myValue.ToString() == "admin")
                    {
                        myKey.SetValue("DisplayIcon", iconSourcePath);
                        break;
                    }
                }
            }
            catch (Exception ex)
            {
                System.Windows.Forms.MessageBox.Show(ex.Message.ToString());
            }
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-09-12T01:34:45.690

**设置**：Visual Studio Enterprise 2015、WPF、C#

1.  转到解决方案资源管理器
2.  右键单击您的 ProjectName，然后单击“属性”。
3.  点击应用，如下图。记住你的图标名称。

[![在此处输入图像描述](../Images/e63cf61abf769c1f317d52621a0fb109.png)](https://i.stack.imgur.com/pquvU.png)

4.  点击左侧栏中的“发布”。
5.  单击右侧的“选项...”按钮。
6.  “发布选项”窗口应弹出如下所示。记住“产品名称：”字段中的内容。在下面的示例中，它是“MyProductName”

[![在此处输入图像描述](../Images/98d08152f1e4617715d9640fdbc9d22f.png)](https://i.stack.imgur.com/sXj9z.png)

6.  将以下代码复制并粘贴到您的主类中。

```
 private void SetAddRemoveProgramsIcon()
    {
        if (ApplicationDeployment.IsNetworkDeployed && ApplicationDeployment.CurrentDeployment.IsFirstRun)
        {
            try
            {
                var iconSourcePath = Path.Combine(System.Windows.Forms.Application.StartupPath, "MyIcon.ico");

                if (!File.Exists(iconSourcePath)) return;

                var myUninstallKey = Registry.CurrentUser.OpenSubKey(@"Software\Microsoft\Windows\CurrentVersion\Uninstall");
                if (myUninstallKey == null) return;

                var mySubKeyNames = myUninstallKey.GetSubKeyNames();
                foreach (var subkeyName in mySubKeyNames)
                {
                    var myKey = myUninstallKey.OpenSubKey(subkeyName, true);
                    var myValue = myKey.GetValue("DisplayName");
                    if (myValue != null && myValue.ToString() == "MyProductName") // same as in 'Product name:' field
                    {
                            myKey.SetValue("DisplayIcon", iconSourcePath);
                        break;
                    }
                }
            }
            catch (Exception uhoh)
            {
                //log exception
            }
        }
    } 
```

7.  在构造函数中调用 SetAddRemoveProgramsIcon。

```
 public MainViewModel()
    {
        SetAddRemoveProgramsIcon();
    } 
```

# winapi - 如何检测多图边缘上的点击？

> ID：13245057
> 
> 赞同：1
> 
> 时间：2012-11-06T05:40:35.960
> 
> 标签：winapi, graph, gdi+, edge-detection

我编写了一个基于 win32 api 的 GUI 应用程序，它使用了诸如 DrawCurve() 和 DrawLine() 之类的 GDI+ 功能。

这个应用程序绘制代表多重图的直线和曲线。

边缘的数据结构只是一个由五个 int 组成的结构。（x1、y1、x2、y2 和 id）

如果两个顶点之间只有一条边，则使用 DrawLine() 绘制一条直线段。如果有多个边，则使用 DrawCurve() 绘制曲线——在这里，我*将*直线边沿两个顶点的中点展开，使它们成为曲线。使用法线方程计算距离它一些单位像素的点。如果添加更多边缘，则选择距中点两个单位像素的像素，然后选择下一次 3 个单位像素，依此类推。

现在我有两个关于检测边缘点击的问题。

1.  在寻找直线边缘时，为了尽量减少搜索时间，我应该怎么做？
    检查单击的像素是否在线段上非常简单，但是如果边数很大，比较所有边的效率会很低。似乎可以在 O(log n) 中做到这一点，其中 n 是边数。
    编辑：此时边缘（边缘类）存储在将边缘 id（int）映射到边缘对象的 std::map 中，我正在考虑声明另一个将像素映射到边缘 id 的容器。
    我正在考虑使用二叉搜索树，但关键是什么？还是应该只使用二维像素阵列？

2.  我可以得到 DrawCurve() 使用的点数组吗？如果这是不可能的，那么我应该重新计算基数样条，获取点数组，并检查用户单击的点是否与该数组中的任何点匹配。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T07:21:15.760

如果您有复杂形状的线条，您可以执行以下操作：

*   创建一个与图形大小相同的内部位图并用黑色填充。
*   当你渲染你的图形时，也渲染到这个位图你想要点击的边缘，但是，用不同的颜色渲染它们。将这些颜色值与相应的 ID 一起存储在一个表中。这里重要的是颜色不同（独特）。
*   单击图形时，将 X 和 Y 坐标传输到内部位图并读取像素。如果不是黑色，请在表中查找颜色值并获取关联的 ID。

这种方式根本不需要担心形状，也不需要使用自己的曲线算法等等。成本是额外的内存，这是一个考虑因素，但除非它是一个巨大的图表（在这种情况下你可以缓冲绘图），否则在大多数情况下这不是问题。您可以在第二遍中渲染内部位图，以使主图形显示得更快（像往常一样）。

希望这可以帮助！

（提示：您可以使用更宽的 Pen 渲染“内部”线条，使其更加敏感）。

# visual-c++ - 在 MFC MDI 应用程序中共享一个子框架时创建不同视图的最佳实践是什么？

> ID：13245062
> 
> 赞同：1
> 
> 时间：2012-11-06T05:40:54.133
> 
> 标签：visual-c++, mfc, views, mdi, documents

我不一定要寻求代码帮助，而是寻求高级别的答案，这样我就可以自己研究解决方案。基本上，我有一个包含多个文档及其视图的 MDI 应用程序，我希望所有视图在我拥有的一个子框架中作为选项卡打开。问题是我的子框架在 OnCreateClient 方法中静态配置了一个带有两个视图的拆分器窗口，一个表单和一个列表视图。我想将此保留为启动应用程序时显示的默认选项卡。

我有第三个视图（editview），它有自己的文档模板，我希望能够作为单独的选项卡打开。我将有其他以这种方式运行的视图。解决这个问题的最佳方法是什么？

我需要为每个视图创建单独的子框架吗？如果我创建单独的子框架，我会失去“标签”功能吗？

或者我是否必须修改子框架的 OnCreateClient 方法来测试哪个文档模板是当前模板并为该文档模板创建视图？我想知道你们中的一些经验丰富的程序员曾经或将如何做到这一点。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-14T23:09:09.220

如果这有助于其他人，从我收集的内容来看，创建一个从 CChildFrame 派生的新子框架类或者只是将其用作新视图的框架是完全可以接受的。文档、框架和视图将在 initInstance 方法中添加到文档模板中。例如，假设您有一对三重奏（2 个文档、2 个视图、2 个帧）：

```
pDocTemplate = new CMultiDocTemplate(IDR_testappTYPE,
    RUNTIME_CLASS(CMydoc1),
    RUNTIME_CLASS(CMyframe1), 
    RUNTIME_CLASS(CMyview1));
if (!pDocTemplate)
    return FALSE;
AddDocTemplate(pDocTemplate);

pDocTemplate2 = new CMultiDocTemplate(IDR_testappTYPE,
    RUNTIME_CLASS(CMydoc2),
    RUNTIME_CLASS(CMyframe2), 
    RUNTIME_CLASS(CMyview2));
if (!pDocTemplate2)
    return FALSE;
AddDocTemplate(pDocTemplate2); 
```

如果您添加另一个具有不同子框架的三重奏，因为这个新框架不使用上述拆分器，您可以这样做。

```
pDocTemplate3 = new CMultiDocTemplate(IDR_mditest3TYPE,
    RUNTIME_CLASS(CMydoc), //same doc
    RUNTIME_CLASS(CMyframeWithoutSplitters), //new frame
    RUNTIME_CLASS(CMyview3)); //new view
if (!pDocTemplate3)
    return FALSE;
AddDocTemplate(pDocTemplate3); 
```

# c++ - 替换 C++ 中内置类型的交换实现

> ID：13245067
> 
> 赞同：0
> 
> 时间：2012-11-06T05:41:04.867
> 
> 标签：c++

我想改变`std::swap`for`char`类型的行为。根据我所了解到的，唯一的方法是添加模板特化 for `std::swap`，不是吗？

由于`char`是内置类型，我们没有机会使用 ADL。

请就此类情况提出您的建议。

编辑：这是我需要解决的原始问题。随机打乱字符串，但非字母字符应保持其位置不变。

我想做的第一件事是利用`std::random_shuffle`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:13:23.180

第一：不要那样做。您可能无意中破坏了以前工作的代码的不同部分。

您可以尝试创建自己的类，使其仅包含一个`char`元素，然后向其中添加您喜欢的任何花哨的功能。这样，您将拥有自己的`swap`行为而不会破坏其他人的代码。

* * *

但是，如果您仍然想这样做，请尝试以下（运行）示例：

```
#include <algorithm>
#include <iostream>

namespace std {
template <>
void swap<char>(char& a, char& b) {
  std::cerr << "Swapped " << a << " with " << b << "\n";
  char t=a;
  a=b;
  b=t;
}
}

int main() {
  char arr[] = {'a', 'z', 'b', 'y'};
  std::reverse(arr, arr+4);
  return 0;
} 
```

请注意，某些 stl 算法可能专门针对基本类型而根本不使用`std::swap`。

* * *

**广告。编辑问题：**

公平洗牌算法相当简单：

```
for (i = 0 .. n-2) {
  j = random (i .. n-1);  //and NOT random (0 .. n-1)
  swap(array[i], array[j]);
} 
```

但是，如果您`swap`在任何一个参数不是字母数字时进行修改以阻止操作（我想这就是您想要将交换更改为的内容？），那么剩余的排列将不公平。随着非字母数字字符数量的增加，给定字符不会移动的机会 - 增加。在最坏的情况下，想象一个只有两个字母数字字符的长字符串——它们被交换的机会将接近 0。

如果您只想对非字母字符进行公平排列，您可以这样做：

a）非常简单的方法 - 提取字母数字字符以分隔数组，随机播放，然后将它们放回原处。

简单，不会影响性能，但需要更多内存。

b) 如果非字母数字字符的数量相对较少，您可以重复掷骰子：

```
for (i = 0 .. n-2) {
  if (!alphanumeric(array[i]) continue;
  do {
    j = random (i .. n-1);
  while (!alphanumeric(array[j]));
  swap(array[i], array[j]);
} 
```

这种改组仍然是公平的，但是当您有很多非字母数字字符时会花费很多时间。

# jquery - 日期值更改时的jquery onchange

> ID：13245070
> 
> 赞同：1
> 
> 时间：2012-11-06T05:41:42.137
> 
> 标签：jquery, date

我正在使用日期选择器 js。
我想在结束日期更改时设置验证，验证设置在..

* * *

```
HTML :

> <table width="52%" height="216" border="0"align="center">   <tr
> class="font_style">
>     <td height="30" valign="top">Academic Start Date</td>
>     <td width="51%" valign="top"><input name="txt_ACStart" type="text" id="txt_ACStart" readonly="readonly" /></td>   </tr>   <tr
> class="font_style">
>     <td height="30" valign="top">Academic End Date</td>
>     <td valign="top"><p>
>       <input name="txt_ACEnd" type="text" id="txt_ACEnd" readonly="readonly" />
>     </p>
>     <div id="validate_AC" style="display:none">End date must be higher than Start date</div></td>   </tr>   <tr class="font_style">
>     <td height="30" valign="top">Attendance Start Date</td>
>     <td valign="top"><span class="style_table_elm">
>       <input name="txt_ATStart" type="text" id="txt_ATStart" readonly="readonly" />
>     </span></td>   </tr>   <tr class="font_style">
>     <td height="30" valign="top">Attendance End Date</td>
>     <td valign="top"><p class="style_table_elm">
>       <input name="txt_ATEnd" type="text" id="txt_ATEnd" readonly="readonly" />
>     </p>
>     <div id="validate_AS" style="display:none">End date must be higher than Start date</div></td>   </tr>   <tr class="font_style">
>     <td height="30"><span class="style_table_elm">
>       <input type="checkbox" name="chk_weekendvar" id="chk_weekendvar" />
>       <strong>Attendance on Mon - Sat</strong>
>     </span></td>
>     <td>&nbsp;</td>   </tr>   <tr class="font_style">
>     <td height="30" colspan="2"><blockquote>
>       <blockquote>
>         <blockquote>
>           <blockquote>
>             <p>
>               <input type="submit" name="btn_save" id="btn_save" value="Save" action="toggle()" />
>             </p>
>           </blockquote>
>         </blockquote>
>       </blockquote>
>     </blockquote></td>   </tr> </table> 
```

JavaScript：

```
<script type="text/javascript">
    var valid1 = document.getElementById("validate_AC");
    var valid2 = document.getElementById("validate_AT");
    var ACdate1 ="";
    var ACdate2 ="";
    var ATdate3 ="";
    var ATdate4 = "";

    $(document).ready(function(){
        $("txt_ACEnd").bind("change",toggle1);
        $("txt_ATEnd").bind("change",toggle2);
    });

    function toggle1(){
        ACdate1 = document.getElementById("txt_ACStart").value();
        ACdate2 = document.getElementById("txt_ACEnd").value();

        if(ACdate1 > ACdate2)
        {
            valid1.style.display = "block";
        }
        else
        {
            valid1.style.display = "none";
        }

    }

    function toggle2()  {
        ATdate3 = document.getElementById("txt_ATStart").value();
        ATdate4 = document.getElementById("txt_ATEnd").value();

        if(ATdate3 > ATdate4)
          {
              valid2.style.display = "block";
          }
          else
          {
              valid2.style.display = "none";
          }

    } 
```

如何使当 txt_ACEnd 改变时，它会运行 toggle1 函数
，当 txt_ATend 改变时，它会运行 toggle2 函数？

我的 toggle1 和 toggle2 功能正确还是无法运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T05:53:30.863

检查这个：

```
$(document).ready(function(){
    $("txt_ACEnd").bind("change",toggle1);
    $("txt_ATEnd").bind("change",toggle2);
    //^------------You have to use jQuery way to select the selectors-------
}); 
```

它应该是这样的：

```
$(document).ready(function(){
    $("#txt_ACEnd").bind("change",toggle1);
    $("#txt_ATEnd").bind("change",toggle2);
});

use '#' for id capture
use '.' for class capture 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-06T05:52:22.893

你可以试试这个样本。它解释了如果元素值发生变化，我们如何调用函数。
那就是实现一个输入更改侦听器。

[http://jsbin.com/afudor/1/edit](http://jsbin.com/afudor/1/edit)

# ruby-on-rails - 如何不在模型中使用 current_user

> ID：13245072
> 
> 赞同：0
> 
> 时间：2012-11-06T05:41:22.737
> 
> 标签：ruby-on-rails, ruby-on-rails-3, activerecord

我有一个创建帖子的表格。此表单在帖子上也有标签，并且归用户所有。该表单使用虚拟属性：tag_ids。

我想做这样的事情，在那里你 find_or_create_by_name_and_user_id 然后只传递 current_user.id。

```
def tag_ids=(tags_string)
    self.taggings.destroy_all
    tag_names = tags_string.split(",").collect{|s| s.strip.downcase}.uniq
    tag_names.each do |tag_name|
      tag = Tag.find_or_create_by_name_and_user_id(tag_name, current_user.id)
      tagging = self.taggings.new
      tagging.tag_id = tag.id
    end
end 
```

从我读到的内容来看，这不是它应该如何工作的。应该在 PostsContoller 创建方法中调用当前用户。

```
def create
  @post = Post.new(params[:post])
  @post.user = current_user
  respond_to do |format|
     if params[:commit]
     @post.save 
```

... 结尾

*这就是我卡住的地方。* **如果参数正在传递所有属性，我如何将 current_user id 注入具有 :name 和 :user_id 属性的标签模型中？**

我还读到，由于我的关联，这应该可以工作。

用户 - has_many 帖子；has_many 标签

发布 - 属于用户；has_many 标签；has_many 标签通过标签

Tag - 有很多标签；has_many 通过标签发布帖子；属于用户

标记 - belongs_to 帖子；属于_to 标签

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T05:56:33.687

您无法在模型中获取 current_user ，您必须显式传递，可能有一些技巧可以做到这一点，但简单的方法是，用户已经存储在帖子中，所以`self.user.id`很有用如果上述方法在帖子模型中，则发布用户正在标记用户。

`Tag.find_or_create_by_name_and_user_id(tag_name, self.user.id)`

# html - 直接查看 WebM 或 OGG 文件在 Firefox 中有效，但在 Chrome 中无效

> ID：13245078
> 
> 赞同：0
> 
> 时间：2012-11-06T05:41:51.803
> 
> 标签：html, video, ogg, webm

我在让本地视频适用于 HTML5 Video 元素时遇到问题。

如果我尝试直接查看本地 OGG 或 WebM 文件，在 Firefox 16.0.2 中它可以工作，但在 chrome 22 中它不起作用！

但是，如果我在另一个网络服务器上查看 OGG 文件，它可以正常工作。

例如这个文件

[http://www.quackit.com/video/pass-countdown.ogg](http://www.quackit.com/video/pass-countdown.ogg)

对我来说可以正常工作，但是如果我将它保存到我自己的服务器上

[http://test.jammaloo.com/pass.ogg](http://test.jammaloo.com/pass.ogg)

然后它可以在 Firefox 中运行，但 Chrome 不会播放它。

我相信 mimetype 设置正确，谁能帮我找出问题所在？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:59:58.720

*   首先尝试添加对更多视频类型的支持

链接 - [http://www.htmlgoodies.com/html5/client/how-to-embed-video-using-html5.html](http://www.htmlgoodies.com/html5/client/how-to-embed-video-using-html5.html)

> 视频 id="sampleMovie" width="640" height="360" 预加载控件

```
<source src="HTML5Sample_H264.mov" type='video/mp4;' />
<source src="HTML5Sample_Ogg.ogv" type='video/ogg;' />
<source src="HTML5Sample_WebM.webm" type='video/webm;' /> 
```

> 视频

*   第二次检查您的 .htaccess 文件的内容类型 - 为 webm、ogg、mp4 添加 mime 类型

链接 - [http://docs.sublimevideo.net/troubleshooting](http://docs.sublimevideo.net/troubleshooting)

链接 - [http://www.htaccess-guide.com/adding-mime-types/](http://www.htaccess-guide.com/adding-mime-types/)

这些解决了我在 HTML5 视频标签中播放视频的问题。希望对你也有帮助。

当我在 CHROME 中检查时，您的内容没有加载正确的“类型”

如果适用（并且没有任何效果），您可以使用 - [http://www.longtailvideo.com/players](http://www.longtailvideo.com/players)

# winapi - GetRandomRgn() Api 在 Windows 8 中无法按预期工作

> ID：13245079
> 
> 赞同：1
> 
> 时间：2012-11-06T05:41:52.340
> 
> 标签：winapi, windows-8

我正在使用 GetRandomRgn() API 来获取窗口的可见区域。

此 API 在 Windows Xp 和 Windows 7 中运行良好，但相同的 API 提供的不同

导致 Windows 8。

Windows 8 中是否有任何其他功能可以给我相同的结果？

请回复。

此致，

沙拉德

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T16:13:41.623

在 Windows 7 上启用桌面合成，您将看到 Windows 7 和 Windows 8 的行为相同。GetRandomRgn 的行为受桌面组合的影响。启用合成后，所有窗口在逻辑上都被视为完全可见（因为它们渲染到屏幕外缓冲区）。Flip3D 等功能的可用性表明，区域的逻辑可见部分与其物理可见区域不同。

# html - perl 脚本解析 HTML

> ID：13245082
> 
> 赞同：1
> 
> 时间：2012-11-06T05:42:04.787
> 
> 标签：html, perl, parsing, html-parsing, perl-module

我正在尝试通过我的 perl 脚本解析 HTML 文件。我正在使用一个名为 HTML::TreeBuilder 的模块。

这是我到目前为止所拥有的：

```
use HTML::TreeBuilder;

my $tree = HTML::TreeBuilder->new; 

$tree->parse_file("sample.html");

foreach my $anchor ($tree->find("p")) {

  print $anchor->as_text, "\n";

} 
```

它工作正常。我得到了`< p>`标签内的所有东西。

示例.html 文件：

```
< td>Release Version:< /td>< td> 5134< /td>< /tr>

< tr class="d0">< td>Executed By:< /td>< td>spoddar< /td>< /tr>

< tr class="d1">< td> Duration:< /td>< td>0 Hrs 0 Mins 0 Secs < /td>< /tr>

< tr class="d0">< td>#TCs Executed:< /td>< td>1< /td>< /tr> 
```

`5134`当我通过发布版本时，我想被打印。以同样的方式`spoddar`，当我通过 Execute By 时，我想被打印出来。这些不是 HTML 标签。但是有没有办法获得这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T06:24:37.057

最直接的做法是过滤您想要的标签并浏览文本。以下方法假定您在示例中使用的格式，带有 2 列表。

```
sub get_value {
    my $key = shift;

    foreach my $tr ($tree->find('tr')) {
        my @td = $tree->find('td');
        return $td[1]->as_text if $td[0]->as_text eq $key;
    }
    return;
}

print get_value('Release Version:'); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T06:31:00.717

[HTML::Parser](http://search.cpan.org/dist/HTML-Parser/Parser.pm)和[HTML::TokeParser](http://search.cpan.org/~gaas/HTML-Parser-3.69/lib/HTML/TokeParser.pm)也可能对您有用。

*未经测试*

```
use HTML::TokeParser;

my $p = HTML::TokeParser->new('sample.html');

while (my $token = $p->get_token) {
    my $tokenType = shift @{$token}; # 'S' is start tag 'E' end tag etc. (see doc)
    if ($tokenType =~ /S/) {
        my ($tag, $attr, $attrseq, $rawtxt) = @{$token};
        my $class = $attr->{class}; #get tag class
        if ($class =~ /d0/ && $tag =~ /tr/) {
            print "$p->get_trimmed_text('/tr')\n";
        }
    }
} 
```

# c# - DragDrop 在运行时移动图片框

> ID：13245083
> 
> 赞同：0
> 
> 时间：2012-11-06T05:42:13.160
> 
> 标签：c#, winforms

我有一个名为 的 PictureBox `pic`，放置在另一个名为的 PictureBox 内`picTrack`。

我的目标是能够让用户在运行时`pic`通过拖动来改变它的位置。

这是我到目前为止所拥有的：

```
 int x_offset = 0; // any better to do this without having a global variable?
    int y_offset = 0;
    void pic_MouseDown(object sender, MouseEventArgs e)
    {
        PictureBox me = (PictureBox)sender;
        x_offset = me.Left - e.X;
        y_offset = me.Top - e.Y;
    }

    void pic_MouseMove(object sender, MouseEventArgs e)
    {
        if (e.Button == System.Windows.Forms.MouseButtons.Left)
        {
            PictureBox me = (PictureBox)sender;
            me.Left = e.X + x_offset; 
            me.Top = e.Y + y_offset;
            picTrack.Invalidate();
        }
    } 
```

此代码仅适用于非常基本的级别。我有两个问题：

1.)`picTrack`如果用户不松开鼠标按钮，则不会更新。在四处移动`pic`时可以看到鬼影（就像有尾巴一样）。`pic``pic`

2.)`pic`正在“咯咯地笑”（即在其位置周围左右、上下快速摇晃）。

我应该如何解决这两个问题并创建更流畅的拖放？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:51:23.703

这实际上有效，我之前写过很多拖拽的东西..它可能并不完美，但这应该给你一些可以使用的东西。

```
 Point dragPoint = Point.Empty;
    bool dragging = false;

    private void pic_MouseDown(object sender, MouseEventArgs e)
    {
        dragging = true;
        dragPoint = new Point(e.X, e.Y);
    }

    private void pic_MouseMove(object sender, MouseEventArgs e)
    {
        if (dragging)
            pic.Location = new Point(pic.Location.X + e.X - dragPoint.X, pic.Location.Y + e.Y - dragPoint.Y);
    }

    private void pic_MouseUp(object sender, MouseEventArgs e)
    {
        dragging = false;
    } 
```

看，如果您正在拖动您自己渲染的本地图片，这是不对的。但是由于您在移动**控件**后移动它，因此新的移动坐标是相对于控件的。因此，您不需要将 dragPoint 更新到移动的最后一个位置。如果您只是移动正在渲染 OnPaint 的形状/图像，则必须在每次移动时更新拖动点。

如果需要，您可以进行一项改进，即仅在用户将光标移动一定距离 D 时才开始拖动。例如，如下所示：

```
 Point dragPoint = Point.Empty;
    bool dragging = false;
    bool mouseDown = false;

    private void pic_MouseDown(object sender, MouseEventArgs e)
    {
        mouseDown = true;
        dragPoint = new Point(e.X, e.Y);
    }

    private void pic_MouseMove(object sender, MouseEventArgs e)
    {
        int deltaX = e.X - dragPoint.X;
        int deltaY = e.Y - dragPoint.Y;

        if (!dragging && mouseDown && deltaX * deltaX + deltaY * deltaY > 100)
            dragging = true;

        if (dragging)
            pic.Location = new Point(pic.Location.X + deltaX, pic.Location.Y + deltaY);
    }

    private void pic_MouseUp(object sender, MouseEventArgs e)
    {
        dragging = false;
        mouseDown = false;
    } 
```

它检查用户是否将鼠标移动了 10 像素（100 平方）。

如果您不想要全局，您可以尝试实现自己的行为系统并创建一段可重用的代码，您可以将其附加到您想要移动的东西上。像这样的东西：

```
public class Behavior<T> where T : class 
{
    public T AssociatedObject
    {
        get;
        private set;
    }

    public Behavior(T associatedObject)
    {
        this.AssociatedObject = associatedObject;
    }

    public virtual void Attach() { }
    public virtual void Detach() { }
}

public class DragBehavior : Behavior<Control>
{
    Point dragPoint = Point.Empty;
    bool dragging = false;
    bool mouseDown = false;

    public DragBehavior(Control c) : base(c)
    {

    }

    public override void Attach()
    {
        AssociatedObject.MouseDown += new MouseEventHandler(control_MouseDown);
        AssociatedObject.MouseMove += new MouseEventHandler(control_MouseMove);
        AssociatedObject.MouseUp += new MouseEventHandler(control_MouseUp);
    }

    private void control_MouseUp(object sender, MouseEventArgs e)
    {
        dragging = false;
        mouseDown = false;
    }

    private void control_MouseMove(object sender, MouseEventArgs e)
    {
        int deltaX = e.X - dragPoint.X;
        int deltaY = e.Y - dragPoint.Y;

        if (mouseDown && deltaX * deltaX + deltaY * deltaY > 100)
            dragging = true;

        if (dragging)
            AssociatedObject.Location = new Point(AssociatedObject.Location.X + deltaX, AssociatedObject.Location.Y + deltaY);
    }

    private void control_MouseDown(object sender, MouseEventArgs e)
    {
        mouseDown = true;
        dragPoint = new Point(e.X, e.Y);
    }

    public override void Detach()
    {
        AssociatedObject.MouseDown -= new MouseEventHandler(control_MouseDown);
        AssociatedObject.MouseMove -= new MouseEventHandler(control_MouseMove);
        AssociatedObject.MouseUp -= new MouseEventHandler(control_MouseUp);
    }
}

public partial class Form1 : Form
{
    DragBehavior dragger;

    public Form1()
    {
        InitializeComponent();
        DoubleBuffered = true;

        dragger = new DragBehavior(pic);
        dragger.Attach();
    }       
} 
```

也许这比“创建一个全局变量”更好（或者更像是在你的表单中创建一个成员变量。=）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T05:56:55.483

试试这个

```
int x_offset = 0; // any better to do this without having a global variable?
int y_offset = 0;
private void pic_MouseDown(object sender, MouseEventArgs e)
{
   PictureBox me = (PictureBox)sender;
   x_offset = e.X;
   y_offset = e.Y;
}

private void pic_MouseMove(object sender, MouseEventArgs e)
{
  if (e.Button == System.Windows.Forms.MouseButtons.Left)
  {
     PictureBox me = (PictureBox)sender;
     me.Left = e.X + me.Left - x_offset;
     me.Top = e.Y + me.Top - y_offset;
   }
} 
```

# javascript - jQuery 不工作，“Zentabs”冲突？

> ID：13245090
> 
> 赞同：1
> 
> 时间：2012-11-06T05:42:55.450
> 
> 标签：javascript, jquery

我正在使用一个名为“Zentabs”的 jQuery 插件（？）/库，由于某种原因，它阻止了我编写的任何其他 jQuery 代码工作......这不是我第一次遇到 jQuery 库破坏其他问题段代码，但通常我可以重新排列代码出现的位置，这通常会解决任何问题，但这次没有任何工作-_-

这就是我在标题中的内容；

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
     <script type="text/javascript">

$(document).ready(function() {

alert("WTF!!!!!");

});

</script>
<script src="<?php baseURL();?>/zentabs.js" type="text/javascript"></script> 
<script src="<?php baseURL();?>/date_time.js" type="text/javascript"></script>
<script src="jquery.lazyload.js?v=4" type="text/javascript"   charset="utf-8"></script> 
```

当我删除

```
<script src="<?php baseURL();?>/zentabs.js" type="text/javascript"></script> 
```

然后

```
$(document).ready(function() {

alert("WTF!!!!!");

});

</script> 
```

工作得很好，但是当我包含 zentabs.js 时，没有任何效果 =/

这是 zentabs.js 文件 > [http://zenverse.net/wp-content/uploads/2009/09/zentabs.js](http://zenverse.net/wp-content/uploads/2009/09/zentabs.js)

谁能告诉我我做错了什么？

PS我现在非常沮丧，我正准备跳楼-_-

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T05:50:55.890

你不需要那里的冲突。试试这个，然后从那时起只需使用 jQuery 而不是 $()

```
$.noConflict();    

jQuery(document).ready(function() {
  alert("WTF!!!!!");
}); 
```

如果需要，您还可以将 jQuery 设置为变量，这样以后在所有调用中键入的时间都会短一些。

```
 var jq = jQuery;
 jq(document).ready(function() {
  alert("WTF!!!!!");

  jq('input').val( '...' );
}); 
```

[在http://api.jquery.com/jQuery.noConflict/](http://api.jquery.com/jQuery.noConflict/)上阅读有关 noConflict 的更多信息

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T05:48:09.400

如果这解决了，试试这个：

```
$(document).ready(function() {

    $.noConflict();

    alert("WTF!!!!!");

}); 
```

你可以在这里找到文档：http: [//api.jquery.com/jQuery.noConflict/](http://api.jquery.com/jQuery.noConflict/)

# python - 如何在python中将基于函数的程序转换为类概念

> ID：13245094
> 
> 赞同：0
> 
> 时间：2012-11-06T05:43:02.187
> 
> 标签：python

我有一个程序，但它不包含类概念（Python 程序遵循一些对类概念的价值）真的是 python 世界中的一个新程序。所以从原始的方式中学习帮助我在这个世界上闪耀。任何人都可以帮助我，而不是把这个问题打成负号:(

```
 import xml.etree.ElementTree as ET
 import sys

doc       = ET.parse("books.xml")
root      = doc.getroot() 
root_new  = ET.Element("books") 
for child in root:
    name                = child.attrib['name']
    cost                = child.attrib['cost']
    # create "book" here
    book    = ET.SubElement(root_new, "book") 
    book.set("name",name)               
    book.set("cost",cost) 
    if 'color' in child.attrib:
        color               = child.attrib['color']
        book.set("color",color) 
    if 'weight' in child.attrib:
        weight              = child.attrib['weight']
        book.set("weight",weight)
    for g in child.findall("cover"):
        # create "group" here
       cover     = ET.SubElement(cover,"cover")  
        if g.text != "goldcover":
            cover.text = g.text 
tree = ET.ElementTree(root_new)
tree.write(sys.stdout) 
```

为了理解：我的 xml 是，

```
<books>
<book name="goodbook" cost="10" color="green"></book>
<book name="badbook" cost="1000" weight="100"><cover>papperback</cover><cover>hardcover</cover></book>
<book name="avgbook" cost="99" weight="120"></book>
</books> 
```

作为python的新手，我希望有人能帮助我，热烈欢迎所有有价值的意见。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T05:56:08.193

好的，这不是一个很难的练习，但我会这样做。您有一系列书籍，因此我的课程将被调用`BookCollection`，它将采用 XML 文件的路径。

现在，您需要的是以下`parse`XML 方法、`get`书籍方法和`set`书籍方法。所以，一个骨架类看起来像：

```
class BookCollection( object ):
    def __init__( self, xml_path ):
        """call the parse with the xml_path here"""
        self.bookList = []#This is a list of tuples

    def _parse( self, xml_path ):
        """This method is private and only parses the 
           xml and stores the books as tuples in a list"""

    def get( self, title ):
        """This method allows the user of this class to get 
           a book from the list of tuples"""

    def _set( self, title, cost, weight, cover=None ):
        """This method sets and adds a book tuple to the 
           list of book tuples""" 
```

您不需要在 python 中将一本书表示为一个类，因为这会使代码的整个位变得复杂，因此是元组。而且，为什么我将 XML 文件抽象为书籍集合。

我不会填写骨架之外的细节，因此您可以从那里学习其余部分。

编辑：看起来你还想输出 XML 我会`to_xml`在上面的类中添加一个方法来写出你的 XML。如果您需要删除书籍，我还会添加相关的方法，但这取决于您自己实施。

# c# - 我应该启用迁移哪个项目

> ID：13245099
> 
> 赞同：10
> 
> 时间：2012-11-06T05:43:17.827
> 
> 标签：c#, entity-framework-4, entity-framework-migrations

我有一个 wpf 项目，结构如下：

```
project1(solution)
|->Model(project)
|->DataAccess(project)
|->project1(project) 
```

Project1 是我编译并将 exe 交付给用户的项目。

现在我想启用自动迁移：`Enable-Migrations –EnableAutomaticMigrations`

project1 是默认项目。当我运行该命令时，显然它将无法找到位于`DataAccess`项目中的数据库上下文。我可以在`DataAccess`项目中启用它。

但它是正确的吗？如何在 project1 项目中启用它？

* * *

编辑：

我想我可以在项目中启用迁移`DataAccess`，并将其 MyConfiguration 引用回`DataAccess`项目？

```
Database.SetInitializer(new MigrateDatabaseToLatestVersion<MyContext, MyConfiguration>()); 
```

但我得到这个错误：

```
Error   2   'DataAccess.Migrations.Configuration' is inaccessible due to its protection level 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-06T06:05:06.727

您是否尝试过使用 -StartupProjectName 参数？

`Enable-Migrations -EnableAutomaticMigrations -ProjectName DataAccess -StartupProjectName project1`

最后一个参数指定在该项目中模拟运行，包括来自 app.config/web.config 的任何设置。

编辑：至于启用迁移，您看到的错误可能是因为 MigrationsConfiguration 默认创建为内部。您可以：

*   公开
*   在 DataAccess 项目中的某处设置 DB 初始化程序
*   在 project1 的 app.config/web.config 中设置它。即使类型是内部的，它也会在运行时解析并且仍然有效：

    ```
    <entityFramework>
      <contexts>
        <context type="DataAccess.FooContext, DataAccess">
          <databaseInitializer type="System.Data.Entity.MigrateDatabaseToLatestVersion`2[[DataAccess.FooContext, DataAccess], [DataAccess.Migrations.Configuration, DataAccess]], EntityFramework, PublicKeyToken=b77a5c561934e089">
          </databaseInitializer>
        </context>
      </contexts>
    </entityFramework> 
    ```

# iphone - 如何从目标c中的第二类访问第一类方法

> ID：13245100
> 
> 赞同：-3
> 
> 时间：2012-11-06T05:43:22.410
> 
> 标签：iphone, objective-c, inheritance, polymorphism

我写了两个包含相同方法（打印）的类。我想使用第二类对象访问第一类打印方法。我怎样才能做到这一点？

代码：

```
@interface classA : NSObject
-(void) print;
@end

@implementation classA

-(void) print
{
    NSLog(@"hello");
}

@end

@interface classB : classA

-(void) print;
@end

@implementation classB

-(void) print{
    NSLog(@"hey");
}
@end 
```

现在我创建了第二类对象

```
classB *B = [classB alloc]init]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T05:49:20.023

使用委托访问其他类 [@protocol](http://agilewarrior.wordpress.com/2012/03/19/simple-objective-c-protocol-example/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T05:52:51.483

你也可以这样做

```
@implementation view1
(void)someMethod
{
   ......code of method...
}

@implementation view2
(void)fistMethod
{
    view1 *abc = [[view1 alloc]init];
    [abc someMethod];
    [abc release];
} 
```

还要检查[另一个类的这个Objective-C调用函数吗？](https://stackoverflow.com/questions/3572448/objective-c-call-function-on-another-class)

# jquery - 用于小部件的 JS 库 - Snackjs、Zepto？

> ID：13245104
> 
> 赞同：1
> 
> 时间：2012-11-06T05:44:08.467
> 
> 标签：jquery, jquery-mobile, prototypejs, zepto, snackjs

我有一个用户添加到他们网站的小部件。我无法控制他们使用的 css 和 js。底线是它应该与那里的大多数库很好地配合。

我一直在使用snackjs 来处理jsonp、小dom 操作，当我们开始扩大规模时，它真的变得很混乱。例如：它不能很好地与使用 mootools 的网站配合使用。

我希望转向 Zepto（因为 jQuery 太大）或类似的库。zepto 的优点是现在大多数网站都在使用 jquery，我只能在未加载 jQuery 的情况下添加 zepto 运行时。由于语法相同，我假设我可以安全地使用 Zepto。

但是，我不确定如何避免双重触发 - 我不想在 jQuery 也在加载的同时加载 zepto。用户将 js 添加到他们的站点（有时在头部，有时在正文结束之前） - 我们检查是否加载了 jQuery（但它不是因为用户可以将其保留在底部）......我可以等到文档加载（正文加载），放一个计时器来查看是否加载了 jQuery。但是，我想看看是否有办法检测 jQuery 是否正在加载以及如何避免与各种版本的 jQuery 冲突。 .

这个想法甚至值得吗？有更好的更小的 js 替代品吗？

# java - how to get string values out of strings.xml and in to an arraylist [android]

> ID：13245111
> 
> 赞同：1
> 
> 时间：2012-11-06T05:44:20.260
> 
> 标签：java, android, xml, reflection

Pretty much I've been trying to figure this out for the past hour.
I want to generically get strings from `strings.xml` and in to my code so I can dynamically change the amount of strings without having to change anything in my code that loads them in to the array list.

So far all I have is

```
for(Field x :R.string.class.getFields())
        if(x.getName().startsWith("ans"))
            choices.add(/*what do I add here to get the string value from the field in to the arraylist */); 
```

I can not figure out for the life of me how to get the string value out of the field object. All I am getting is either Id's [or at least what I think is an Id] or the name I've assigned it inside the `strings.xml` file.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T05:47:38.900

```
 Resources res = getResources();
    for(Field x :R.string.class.getFields())
        if(x.getName().startsWith("ans")){
                int id = x.get(null);
                choices.add(res.getString(id));
            } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T05:57:12.680

Create an XML file example.xml in res/xml folder

```
<?xml version="1.0" encoding="utf-8"?>
<data>
    <record name="foo" />
</data> 
```

then parse it as shown below

```
XmlResourceParser xrp = context.getResources().getXml(R.xml.example);
try {
  int eventType = xrp.next();
  while (eventType != XmlPullParser.END_DOCUMENT) {
    if (eventType == XmlPullParser.START_TAG && xrp.getName().equalsIgnoreCase("record")) {

      String name = xrp.getAttributeValue(null, "name");

      //choices.add(name);
    }

    eventType = xrp.next();
  }
} catch (XmlPullParserException e) {
  e.printStackTrace();
} catch (IOException e) {
  e.printStackTrace();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T05:57:43.513

You can try this :

```
 choices.add(getResources().getString(R.string.string1)); 
```

string1 is a string constant in strings.xml

# sql - 设置外键检查关闭

> ID：13245112
> 
> 赞同：0
> 
> 时间：2012-11-06T05:44:34.360
> 
> 标签：sql, oracle

我试着用这个..

```
SQL> SET FOREIGN_KEY_CHECKS = 0;
SP2-0735: unknown SET option beginning "FOREIGN_KE..." 
```

但它说未知的设置选项

我正在使用 oracle sql 11g express e

我也试过

```
begin
for i in (select constraint_name, table_name from user_constraints where constraint_type ='R'
and status = 'ENABLED') LOOP
execute immediate 'alter table '||i.table_name||' disable constraint '||i.constraint_name||'';
end loop;
end; 
```

但是控制台卡在第 7 行，没有执行或什么的..

这是发生了什么..

连接的。

```
SQL> begin
  2  for i in (select constraint_name, table_name from user_constraints where co
nstraint_type ='R'
  3  and status = 'ENABLED') LOOP
  4  execute immediate 'alter table '||i.table_name||' disable constraint '||i.c
onstraint_name||'';
  5  end loop;
  6  end;
  7 
```

它显示 7 然后不再工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T19:55:02.440

如果您尝试删除表，请使用：

```
DROP TABLE [TABLE_NAME] CASCADE CONSTRAINTS; 
```

# mysql - 保存在 MySQL 表中时，非英文字符变得混乱

> ID：13245115
> 
> 赞同：0
> 
> 时间：2012-11-06T05:45:23.390
> 
> 标签：mysql, ruby

我正在尝试在 mysql 表中保存“非英语”字符。但是当我检查表格数据时，它会显示一些垃圾字符。

保存前的文字：

`КУЛИНАРНЫЕ ФЕСТИВАЛИ В ЕВРОПЕ Нужно Путешествовать ВКУСНО!...`

保存在mysql后的文本：

`ÐšÐ£Ð›Ð˜ÐÐÐ ÐÐ«Ð• Ð¤Ð•Ð¡Ð¢Ð˜Ð’ÐÐ›Ð˜ Ð’ Ð•Ð’Ð ÐžÐŸÐ• ÐÑƒÐ¶Ð½Ð¾ ÐŸÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ Ð’ÐšÐ£Ð¡ÐÐž!... http://t.co/JdXw8Od3`

表格列设置：

*   varchar(1024)
*   utf-8 通用-ci

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T05:47:57.760

尝试`SET NAMES utf8`在插入语句之前运行。希望有帮助。

# php - Project Euler #19 代码似乎是正确的。我错过了什么？

> ID：13245118
> 
> 赞同：8
> 
> 时间：2012-11-06T05:45:15.920
> 
> 标签：php

**问题 19：**

> 您将获得以下信息，但您可能更愿意自己做一些研究。
> 
> 1900 年 1 月 1 日是星期一。
> 
> 三十天有九月、四月、六月和十一月。
> 
> 其余的都有三十一个，仅保存二月，它有二十八，风雨无阻。在闰年，二十九。
> 
> 闰年出现在任何能被 4 整除的年份，但不会出现在世纪，除非它能被 400 整除。
> 
> **在 20 世纪（1901 年 1 月 1 日至 2000 年 12 月 31 日）有多少个星期日是每月的第一天？**

我认为使用 PHP 会轻而易举，因为它有很多内置的时间和日期函数。我的代码真的很简单，所以我很难看出我在做什么是错的。

**我的代码：**

```
<?php
    echo "<pre>";
    $sunday_count = 0;
    for( $year = 1901; $year <= 2000; $year++ ) {
        for( $month = 1; $month <= 12; $month++ ) {
            // Produces a date in format: 1/1/2000
            $date = $month . "/1/" . $year;
            $time = strtotime( $date );
            $is_sunday = ( date( 'l', $time ) == "Sunday" );
            echo "$date "
               . ( $is_sunday ? 'was a Sunday. ' : '' )
               . "<br>";
            if( $is_sunday ) $sunday_count++;
        }
    }
    echo "Answer: $sunday_count";
    echo "</pre>";
?> 
```

我的代码提出的解决方案是 169，这是不正确的。任何的想法？

**编辑 1**

解应该是 171。

使用 Wolfram Alpha 和我的 Windows 时钟，我双重检查了我的代码报告的几个星期天。他们都检查好了。

所以看起来我的代码报告了有效和合法的星期天，但不知何故它错过了其中两个。

**编辑 2**

我对代码中日期的格式进行了以下细微更改：

```
$date = sprintf('%d-%02d-01', $year, $month); // formats yyyy-mm-dd 
```

然后我使用@MadaraUchiha 的代码生成一个包含 171 个正确日期的数组。

在将他的日期与我的日期进行比较后，这是两个错过的日期：

> 1901-09-01 1901-12-01

**编辑 3**

[键盘还显示](http://codepad.org/hHHKqJQ6)这些日期不是星期日（但它们确实应该是）。

而且我确信这些日期被正确解释为 YYYY-MM-DD，因为我的代码为解决方案提供的日期之一是 2000-10-01，如果 10 是月份而不是日期，那么它只会是星期日.

**编辑 4**

显然，如果在 32 位系统上，Unix 时间戳将无法在该范围之外工作：

```
Fri, 13 Dec 1901 20:45:54 GMT 
```

到

```
Tue, 19 Jan 2038 03:14:07 GMT 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-07T05:34:52.687

它可能无法在某些使用时间戳的系统上运行的原因是 32 位系统上的 Unix 时间戳的范围是 from`Fri, 13 Dec 1901 20:45:54 GMT`到`Tue, 19 Jan 2038 03:14:07 GMT`，因此您几乎错过了第一年的所有月份。

64 位系统具有更大的整数，这使得范围更大（在 PHP 中）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T22:39:47.430

使用 DateTime 对象，我用这个（更短，更易读）的代码得到 171：

```
header("Content-type: text/plain"); //Browser display

$time = new DateTime("1901-01-01");
$end = new DateTime("2000-12-31");

$counter = 0;

while (!$time->diff($end)->invert) { //$time isn't greater than $end
    $time->modify("+1 month");
    if ($time->format("l") == "Sunday") {
        $counter++;
        echo $time->format("Y-m-d") . " was a Sunday!\n";
    }
}

echo "\nTotal number of Sundays: $counter"; 
```

使用 DateTime 对象时，您将日期视为**Dates**而不是**numbers**或**strings**。与任何其他方法相比，这为您提供了巨大的灵活性优势。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-07T09:43:38.620

这段代码的问题是行

`$date = $month . "/1/" . $year;`

这应该是

`$date = "1/".$month."/" . $year;`

你混合了月份和日期的位置。

# c# - C# - 为 wpf 应用程序制作自定义安装程序

> ID：13245119
> 
> 赞同：0
> 
> 时间：2012-11-06T05:45:20.323
> 
> 标签：c#, .net, wpf, installation

我想为我的 wpf 应用程序制作一个自定义应用程序安装程序。我想显示用户需要接受才能继续的许可协议，然后他需要输入密钥。然后安装栏将开始。

怎么做？有没有可以帮助我的链接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T07:21:55.753

看看[WIX](http://wix.sourceforge.net/)或[Wix#](http://www.codeproject.com/Articles/31407/Wix-WixSharp-managed-interface-for-WiX)

WIX 的替代品可能是[Nullsoft Installer](http://nsis.sourceforge.net/)或[Installshield](http://www.installshield.com/)

# c - 我可以从寄存器中获得整数的 2s 补码表示吗？

> ID：13245122
> 
> 赞同：1
> 
> 时间：2012-11-06T05:45:42.160
> 
> 标签：c

我认为如果某个整数在 scanf 的寄存器中，那么该数字将以 2s 补码表示。我可以通过 printf 得到那个号码吗？我搜索了很多网站，但找不到 C 初学者的代码......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T05:57:11.160

浮点数不存储在 2 的补码中，而是存储在[IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point)中。要打印一些二进制数据的二进制表示，首先请参阅[https://stackoverflow.com/a/112956/1689451](https://stackoverflow.com/a/112956/1689451)。您可以将浮点数放入联合中以提取单个字节：

```
#include <stdio.h>      /* printf */
#include <string.h>     /* strcat */

// taken from https://stackoverflow.com/a/112956/1689451
const char *byte_to_binary(int x)
{
    static char b[9];
    b[0] = '\0';

    int z;
    for (z = 128; z > 0; z >>= 1)
    {
        strcat(b, ((x & z) == z) ? "1" : "0");
    }

    return b;
}

union {
  float f;
  unsigned char b[4];
} x;

x.f = 0.34;
for (int i = 0; i < 4; i++) {
  printf("%s", byte_to_binary(x.b[i]));
} 
```

我没有尝试这个例子；可能无法编译，但应该给出正确方向的提示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T05:57:38.897

如果这是您的问题，c 中没有标准可以打印“二进制补码”数字或二进制数字。该任务必须单独解决。例如。

`for (i=0;i<32;i++) putc( '0'+((number >> (31-i)) & 1));` // 或复制到本地字符串

否则`scanf("%f", &my_float);`打印`printf("%f", my_float);`

# android - 无法在摩托罗拉 XT925 设备中撰写消息

> ID：13245126
> 
> 赞同：3
> 
> 时间：2012-11-06T05:46:07.313
> 
> 标签：android, motorola

我无法在摩托罗拉 XT925 设备中编写消息。

我的代码如下：

```
 Intent smsIntent = new Intent(Intent.ACTION_VIEW);
        smsIntent.putExtra("sms_body", "My message");
        smsIntent.setType("vnd.android-dir/mms-sms");
        startActivity(smsIntent); 
```

上面的代码在所有设备上运行并显示输出“我的消息”。但在摩托罗拉 XT925 上，它显示空白文本。任何帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T20:57:38.870

摩托罗拉 Droid RAZR，Android 4.0.4 也有同样的问题。也许摩托罗拉设备有自定义短信客户端。从他们的开发团队中询问某人似乎是合理的。

**更新：** 最后我在这里找到了自己的解决方案：[https](https://stackoverflow.com/a/5522616/1170154) ://stackoverflow.com/a/5522616/1170154 。

# perl - 在 Perl 中使用 XML::LibXML 检查属性的特定值并使用 XPath 提取兄弟值

> ID：13245128
> 
> 赞同：0
> 
> 时间：2012-11-06T05:46:08.920
> 
> 标签：perl, xpath, libxml2

如果`solve`是`user`，我需要`name`( `LINES`) 的值。

如果`solve`is`imm`和 name is `ARCH`，我需要`value`( `6M`)的值

我尝试了以下方法：

```
use strict;
use warnings;
use XML::LibXML;
my $parser = XML::LibXML->new();
my $doc = $parser->parse_file(...);
my $j = 0;
my @imm;
$imm[$j++] = $_->data
    foreach 
        $doc->findnodes(
            "//meters/meter"
            ."/name[../value[\@solve/string() = 'immediate']]"
            ."/text()"); 
```

错误是

```
Possible unintended interpolation of @solve in string
Global symbol "@solve" requires explicit package name 
```

示例 XML：

```
<rules> 
      <meters>        
             <meter>
                   <name>LINES</spirit:name>
                   <display>LINES</display>
                   <description>Specifies the number of lines</description>
                   <value
                         solve="user"
                         id="LINES"
                         order="11"
                         format="long"
                         dataType="integer" 
                         min="2" 
                         max="34">34</value>
            </meter>
            <meter>
                  <name>ARCH</name>
                  <display>Define ARCH</display>
                  <description>Define ARCH</description>
                  <value 
                        format="string" 
                        solve="imm" 
                        id="ARCH" 
                        >6M</value>
             </meter>
       </meters>    
</rules>

<rules> 
      <meters>        
             <meter>
                   <name>LINES</spirit:name>
                   <display>LINES</display>
                   <description>Specifies the number of lines</description>
                   <value
                         solve="user"
                         id="LINES"
                         order="11"
                         format="long"
                         dataType="integer" 
                         min="2" 
                         max="34">34</value>
            </meter>
            <meter>
                  <name>ARCH</name>
                  <display>Define ARCH</display>
                  <description>Define ARCH</description>
                  <value 
                        format="string" 
                        solve="imm" 
                        id="ARCH" 
                        >6M</value>
             </meter>
       </meters>    
</rules> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:06:13.160

一个快速而肮脏的黑客来解决您的问题 - 使用`XML::Simple`：

```
use strict;
use warnings;

use XML::Simple ;
use Data::Dumper;

my $xml = XMLin(qq|
<xml>
<rules> 
      <meters>        
             <meter>
                   <name>LINES</name>
                   <display>LINES</display>
                   <description>Specifies the number of lines</description>
                   <value
                         solve="user"
                         id="LINES"
                         order="11"
                         format="long"
                         dataType="integer" 
                         min="2" 
                         max="34">34</value>
            </meter>
            <meter>
                  <name>ARCH</name>
                  <display>Define ARCH</display>
                  <description>Define ARCH</description>
                  <value 
                        format="string" 
                        solve="imm" 
                        id="ARCH" 
                        >6M</value>
             </meter>
       </meters>    
</rules>

<rules> 
      <meters>        
             <meter>
                   <name>LINES</name>
                   <display>LINES</display>
                   <description>Specifies the number of lines</description>
                   <value
                         solve="user"
                         id="LINES"
                         order="11"
                         format="long"
                         dataType="integer" 
                         min="2" 
                         max="34">34</value>
            </meter>
            <meter>
                  <name>ARCH</name>
                  <display>Define ARCH</display>
                  <description>Define ARCH</description>
                  <value 
                        format="string" 
                        solve="imm" 
                        id="ARCH" 
                        >6M</value>
             </meter>
       </meters>    
</rules>
</xml>|,
ForceArray => 1);

foreach my $rule( @{ $xml->{rules} } ){
  foreach my $meter ( @{ $rule->{meters} } ){
    foreach my $m ( @{ $meter->{meter} } ){    
      if ( $m->{value}->{LINES} and $m->{value}->{LINES}->{solve} eq 'user' ) {
        print "user solver: ".$m->{name}->[0]."\n";
      } elsif ( $m->{value}->{ARCH}->{solve} and $m->{name}->[0] and $m->{value}->{ARCH}->{solve} eq 'imm' and $m->{name}->[0] eq 'ARCH' ) {
        print "imm solver: ".Dumper( $m->{value}->{ARCH}->{content})."\n";
      } else {
        print "no solver???".Dumper($m);
      }
    }    
  }
} 
```

我希望你可以以此为起点。

**观察**

*   鉴于`foreach`es 仅包含一条指令（the `if`），它们可以重写为`maps`，尽管我不鼓励这样做
*   `if`也可以使用和`ternary operator`结果`print`字符串重写
*   考虑到以上所有因素，整个 XML 处理可以重写为由 3 个`map`和 2 个三元操作组成的一行 - 我认为它几乎不可读

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T08:34:17.220

这对我有用：

```
#!/usr/bin/perl
use strict;
use warnings;

use XML::LibXML;

my $parser = XML::LibXML->new();
my $doc = $parser->parse_file('XXX.xml');
my $j = 0;
my @imm;
$imm[$j++] = $_->data
    for $doc->findnodes(
            "//meters/meter"
            ."/name[../value[\@solve = 'imm']]"
            ."/text()");
print for @imm; 
```

我对您的代码进行了以下更改：

1.  我`/string()`从 XPath 表达式中删除了该部分。正如我得到的错误所示，这是对函数的无效使用。
2.  的值`solve`在`imm`您的样本数据中，而不是`immediate`.

顺便说一句，将 XPath 表达式的中间更改为

```
'/name[../value[@solve = "immediate"]]' 
```

避免使用反斜杠。

# cordova - navigator.connection.type 始终为 0

> ID：13245130
> 
> 赞同：3
> 
> 时间：2012-11-06T05:46:20.647
> 
> 标签：cordova

```
function checkConnection() {
    var networkState = navigator.connection.type;

    var states = {};
    states[Connection.UNKNOWN] = 'Unknown connection';
    states[Connection.ETHERNET] = 'Ethernet connection';
    states[Connection.WIFI] = 'WiFi connection';
    states[Connection.CELL_2G] = 'Cell 2G connection';
    states[Connection.CELL_3G] = 'Cell 3G connection';
    states[Connection.CELL_4G] = 'Cell 4G connection';
    states[Connection.NONE] = 'No network connection';
    alert(Connection.WIFI);
    alert(navigator.connection.type);
    alert('Connection type: ' + states[networkState]);

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-28T14:15:05.520

活动结束后你打电话给 checkConnection 了`deviceReady`吗？

```
document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
    checkConnection();
} 
```

在 checkConnection 中只使用`navigator.network.connection.type`而不是`navigator.connection.type`因为[https://issues.apache.org/jira/browse/CB-1807](https://issues.apache.org/jira/browse/CB-1807)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-08T11:41:17.050

这似乎是科尔多瓦 2.2.0 中的一个错误

[https://issues.apache.org/jira/browse/CB-1807](https://issues.apache.org/jira/browse/CB-1807)

# html - 如何集中使用绝对定位的 div 制作的完整网站？

> ID：13245136
> 
> 赞同：2
> 
> 时间：2012-11-06T05:47:29.243
> 
> 标签：html, position, centering, absolute

我通过在位置上绘制`div`s在 Dreamweaver 上创建了一个站点，`absolute`但它看起来只集中在一个`1280px`宽显示器上，似乎无法让父级`#wrap` `div`托管所有绝对位置`div`。

这是我制作的代码，

```
<style type="text/css">
#wrap_main {
 position: absolute;
top: 0px;
z-index: 2;
width:1400px;
margin-left:-200px;
left:50%;
text-aling:left;
}

body {
background-color: #000000;
}
#Layer1 {
position:relative;
left:34px;
top:32px;
width:156px;
height:102px;
z-index:1;
}
#Layer2 {
position:relative;
left:37px;
top:136px;
width:104px;
height:32px;
z-index:2;
}
#Layer3 {
position:relative;
left:140px;
top:136px;
width:104px;
height:33px;
z-index:3;
} 
```

这是显示我的父 div 和我希望包装的子 div id 的 HTML 内容。

```
<div id="wrap_main">
<div id="Layer25"></div>
<div id="Layer37">`<img src="../Beer_n_tts_website/Images/blue_wood.jpg" alt="Blue Wood"     width="200" height="634" longdesc="Blue wood background for beer n tts" /></div>
<div id="Layer38"><a href="../Beer_n_tts_website/index.html"><img  src="../Beer_n_tts_website/Images/beerntts_logo.png" alt="beer n tts logo" width="118"  height="82" border="0" longdesc="beer and tts logo no background" /></a></div>' 
```

在这里寻找 centering `div`s 之后，我似乎找不到一个适用于`div`我所做的所有 s 的答案，只是为了上`#wrap`一堂课。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T08:32:52.090

[在这里](http://learncss.tutsplus.com/lesson/relative-and-absolute-positioning/)找到了解决方案。代码如下

```
#wrap_main {
  position: relative;
  margin: auto;
  width: 1200px;
}
```

```
<div id="wrap_main">

  other divs

</div>
```

我将宽度调整为最常见的屏幕分辨率 1280 像素，并给它一个相对位置，这样子 div 就可以继续拥有一个绝对位置，而且它似乎工作得很好当你像我一样懒惰和而是画一堆 div 让它们在网站上看起来不错，然后将它们放在各种分辨率屏幕的中心。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:22:56.760

**详细信息：**如果您只是希望它居中，则以下将起作用

css

```
#wrap_main { text-align: center } 
```

html

```
<div id="wrap_main" >
    Other Div's
</div> 
```

# android - Android 根应用程序不工作：无法从终端或 Java 中删除文件

> ID：13245140
> 
> 赞同：3
> 
> 时间：2012-11-06T05:47:38.807
> 
> 标签：android, root, file-permissions, readonly, roottools

我正在开发一个简单的根应用程序来[清除浏览器 localstore](https://android.stackexchange.com/questions/19813)，也许以后会添加其他内置应用程序无法实现的功能。我正在使用[roottools](http://roottools.googlecode.com/svn-history/r207/trunk/Developmental/doc/com/stericson/RootTools/RootTools.html#getShell%28boolean%29)， root 似乎正在工作，但它不会正确删除目录：

```
public class MainActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        RootTools.debugMode = true;

        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        findViewById(R.id.buttonClearBrowser).setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View arg0) {
                if (RootTools.isAccessGiven()) {
                    RootTools.remount("/data/data/com.android.browser/app_databases/", "RW");
                    Command command = new Command(0,"rm -rf /data/data/com.android.browser/app_databases/") {
                        @Override
                        public void output(int arg0, String arg1) {
                            System.out.println(arg1);
                        }
                    };
                    try {
                        RootTools.getShell(true).add(command).waitForFinish();
                    } catch (InterruptedException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    } catch (IOException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    } catch (TimeoutException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
                }
            }
        });
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }
} 
```

这应该清除 Android 中的 HTML5 本地存储（您无法从浏览器应用程序中清除）。但是它只给出错误消息：

```
11-05 21:40:06.650: D/RootTools v2.4(22778): Remounting /data as rw
11-05 21:40:06.650: I/RootTools v2.4(22778): [nodev, relatime, nosuid, rw] AND rw
11-05 21:40:06.650: D/RootTools v2.4(22778): [nodev, relatime, nosuid, rw]
11-05 21:40:06.650: D/RootTools v2.4(22778): Using Existing Root Shell!
11-05 21:40:06.650: D/RootTools v2.4(22778): Sending command(s): rm -rf /data/data/com.android.browser/app_databases/
11-05 21:40:06.660: I/System.out(22778): rm failed for -rf, Read-only file system
11-05 21:40:06.660: D/RootTools v2.4(22778): Command 0finished. 
```

顺便说一句，我在 adb shell 上遇到了同样的错误：

```
$ su
su
# rm -rf /data/data/com.android.browser/app_databases/http_m.bing.com_0
rm -rf /data/data/com.android.browser/app_databases/http_m.bing.com_0
rm failed for -rf, Read-only file system 
```

/data 不应该是只读的，因为那是应用程序设置所在的位置。电话有问题吗？如果重要的话，这是 Android 2.2.2。具有讽刺意味的是，我可以在 root 模式下使用 Ghost Commander 浏览和删除文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-06T13:20:17.503

我相信android中`-f`的命令不接受该选项。`rm`

要确认它，请从命令行尝试相同的命令，但不使用`-f`：

```
rm -r /data/data/com.android.browser/app_databases/http_m.bing.com_0 
```

问候。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-03T02:04:29.307

如上所述，您不需要重新挂载`/data`，它已经挂载`rw`。通常，在挂载/重新挂载时，您需要将挂载点的路径作为参数提供：`/system`、、、等。传递给命令时`/data/`，`/mnt/sdcard`提供完整路径`/data/data/com.foobar.app/files/foobaz.txt`会产生错误。`mount`

当然，还有为什么`/data`似乎是的问题`ro`。在运行这段代码之前你做了什么特别的事情吗？

# java - 小程序无法启动

> ID：13245141
> 
> 赞同：-1
> 
> 时间：2012-11-06T05:47:42.703
> 
> 标签：java, html, applet

我使用 Applet 添加到 html 中。但是画面没有表现。没有错误信息。什么地方出了错？我使用appletviewer 进行测试。喜欢什么没有。

HTML代码

```
<body>
<applet code=SS.class 
        archive="av.jar, httpclient-4.2.2.jar, httpcore-4.2.2.jar, commons-logging-1.1.1.jar, fluent-hc-4.2.2 httpclient-cache-4.2.2, httpmime-4.2.2"
   width=719 height=679>
</applet>
</body>
</html> 
```

我的代码很混乱所以我只是打开他的框架我类似的框架不应该正常运行

JAVA代码

```
import org.apache.http.HttpResponse;
import org.apache.http.NameValuePair;
import org.apache.http.ParseException;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicNameValuePair;
import org.apache.http.protocol.HTTP;
import org.apache.http.util.EntityUtils;

import java.applet.Applet;
import java.awt.*; 
import java.awt.event.*; 
import java.io.IOException;
import java.io.UnsupportedEncodingException;
import java.util.ArrayList;
import java.util.List;
public class SS extends Applet
{ 
    /**
     * 
     */
    public static final long serialVersionUID = 1L;

    public static void main(String args[]) 
    { 
    win1 bb = new win1(); 
    } 
} 

class win1 extends JFrame implements ActionListener
{ 

    JButton bt2 = new JButton("1"); 
    JButton bt3 = new JButton("2"); 
    JButton bt4 = new JButton("3");
    JButton bt5 = new JButton("4");
    JButton bt6 = new JButton("5");
    JButton bt = new JButton("6"); 
    JButton bt7 = new JButton("7");
    JButton bt8 = new JButton("8");
    JButton bt9 = new JButton("9");
    JButton bt10 = new JButton("10");
    JButton sd = new JButton("11");
    JRadioButton jb1=new JRadioButton("12",true);

    private JLabel Jlb_ID = new JLabel("13");
    private JLabel Jlb_PW = new JLabel("14");
    private JLabel txAC = new JLabel("15");
    private JLabel txPW = new JLabel("16");
    private JLabel Jlb_IP = new JLabel("IP");
    private  JTextField jpw = new  JTextField(10);
    private  JTextField UN = new  JTextField(4);
    private  JTextField TM = new  JTextField(2);
    private  JTextField F4 = new  JTextField(1);
    private  JTextField kg = new  JTextField(6);
    private  JTextField jid = new  JTextField(10);
    private  JTextField name = new  JTextField(10);
    private  JTextField pass= new  JTextField(10);
    private  JTextField ip= new  JTextField(10);

    public win1() 
    { 
        super("win"); 
        setSize(100,800); 
        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE); 
        setVisible(true); 

            Container pn = getContentPane();
            FlowLayout fy = new FlowLayout();
            pn.setLayout(fy); 
            bt2.addActionListener(this);  
            bt3.addActionListener(this);
            bt.addActionListener(this);
            bt4.addActionListener(this); 
            bt5.addActionListener(this);
            bt6.addActionListener(this);
            bt7.addActionListener(this);
            bt8.addActionListener(this);
            bt9.addActionListener(this);
            bt10.addActionListener(this);
            sd.addActionListener(this);
            jb1.addActionListener(this);
            pn.add(Jlb_IP); 
            pn.add(ip); 
            pn.add(txAC);
            pn.add(pass);
            pn.add(txPW);
            pn.add(name);
            pn.add(bt2);
            pn.add(Jlb_ID);
            pn.add(jid);
            pn.add(Jlb_PW);
            pn.add(jpw); 
            pn.add(bt); 
            pn.add(UN); 
            pn.add(bt7);
            pn.add(bt8);
            pn.add(TM);
            pn.add(bt9);
            pn.add(bt3);
            pn.add(bt4);
            pn.add(bt5);
            pn.add(bt6);
            pn.add(F4);
            pn.add(bt10);
            pn.add(kg);
            pn.add(sd);
            pn.add(jb1);

            Jlb_PW.setLocation(250,50);
            Jlb_PW.setSize(100,20);
            Jlb_PW.setFont(new Font("Serif",Font.BOLD,16)); 
            txPW.setLocation(250,50);
            txPW.setSize(100,20);
            txPW.setFont(new Font("Serif",Font.BOLD,16)); 
            bt2.setLocation(250,50);
            bt2.setSize(100,20);
            txPW.setFont(new Font("Serif",Font.BOLD,16)); 
            txAC.setLocation(250,50);
            txAC.setSize(100,20);
            txAC.setFont(new Font("Serif",Font.BOLD,16)); 
            Jlb_ID.setLocation(100,200);
            Jlb_ID.setSize(100,20);
            Jlb_ID.setFont(new Font("Serif",Font.BOLD,16));
            jpw.setLocation(70,50);
            jpw.setSize(100,20);
            jpw.setToolTipText("KKKKK"); 
            jid.setLocation(10,50);
            jid.setSize(100,20);
            jid.setToolTipText("KKKKKK");
            name.setLocation(10,150);
            name.setSize(100,20);
            pass.setLocation(10,200);
            pass.setSize(100,20);
            ip.setLocation(10,250);
            ip.setSize(100,20);

            setContentPane(pn);

    }

    @Override
    public void actionPerformed(ActionEvent arg0) {
        // TODO Auto-generated method stub

    } 

   } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T05:54:57.717

`public class SS extends Applet`我认为你必须创建`init()`方法而不是创建 main 。

```
public class SS extends Applet
 { 
   /**
    * 
    */
   public void init() {
     win1 bb = new win1(); 
     getContentPane().add(bb )
   }
} 
```

但首先你必须通过小程序的基础知识[如何制作小程序](http://docs.oracle.com/javase/tutorial/uiswing/components/applet.html)

# android - 错误 java.lang.IndexOutOfBoundsException：索引 1 无效，大小为 0

> ID：13245142
> 
> 赞同：1
> 
> 时间：2012-11-06T05:47:46.143
> 
> 标签：android

我有代码来制作这样的列表视图

```
 class LoadAllProduct extends AsyncTask<String, String, String> {

        /**
         * Before starting background thread Show Progress Dialog
         * */
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(allproduct.this);
            pDialog.setMessage("Loading product. Please wait...");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(false);
            pDialog.show();
        } 

        /**
         * getting All products from url
         * */
        protected String doInBackground(String... args) {
            Cursor cursor;

            int i=0;
            while(cursor.moveToNext()){
                id_produk[i] = cursor.getInt(0);
                String title = cursor.getString(1);
                //String price = cursor.getString(2);
                //String desc = cursor.getString(3);
                //String how_to = cursor.getString(4);
                String time = cursor.getString(5);
                path_image[i] = cursor.getString(7);

                Cursor cur = db.getProductLink(id_produk[i]);
                int y = 0;
                String link = "";
                while(cur.moveToNext()){
                    if(y == 0) link = cur.getString(0);
                    else link = link + "\n" + cur.getString(0);
                    y++;
                }
                product_item[i] = new MenuItem(title, link, time, path_image[i]);
                i++;
                cur.close(); 
            }   

            cursor.close();
            db.close();

            return null;

        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String file_url) {
            // updating UI from Background Thread
            runOnUiThread(new Runnable() {
                public void run() {
                    mainlist.setAdapter(new ListMenuAdapter(product_item));
                }
            }); 
            pDialog.dismiss();
        }
} 
```

现在，我想显示我的产品的详细信息，只需使用此代码单击列表视图的选择项

```
 mainlist.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> parent, View view,
                    int position, long id) {
                // getting values from selected ListItem

                String pid = productList.get(position).get(TAG_PID);

                // Starting new intent
                Intent in = new Intent(getApplicationContext(),editproductActivity.class);

                // sending pid to next activity
                in.putExtra(TAG_PID, pid);  
                in.putExtra("phone", mPhoneNumber);
                in.putExtra("daftar", daftar);           
                startActivityForResult(in, 100);    
            }
        });
         } 
```

这个日志猫显示了这个，我认为错误原因 String pid = productList.get(position).get(TAG_PID);

```
11-06 12:46:25.305: ERROR/AndroidRuntime(1616): FATAL EXCEPTION: main
11-06 12:46:25.305: ERROR/AndroidRuntime(1616): java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:257)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at java.util.ArrayList.get(ArrayList.java:311)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at shoop3.android.edu.allproduct$4.onItemClick(allproduct.java:175)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at android.widget.AdapterView.performItemClick(AdapterView.java:284)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at android.widget.ListView.performItemClick(ListView.java:3382)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at android.widget.AbsListView$PerformClick.run(AbsListView.java:1696)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at android.os.Handler.handleCallback(Handler.java:587)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at android.os.Handler.dispatchMessage(Handler.java:92)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at android.os.Looper.loop(Looper.java:123)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at android.app.ActivityThread.main(ActivityThread.java:4627)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at java.lang.reflect.Method.invokeNative(Native Method)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at java.lang.reflect.Method.invoke(Method.java:521)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
11-06 12:46:25.305: ERROR/AndroidRuntime(1616):     at dalvik.system.NativeStart.main(Native Method) 
```

你能帮我吗 ？？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T05:51:29.480

我认为`productList`是空的在其中添加数据，然后检查。

```
if(productList.size==0){

   System.out.println("list size is zero...");
   return;

 }
 String pid = productList.get(position).get(TAG_PID); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T05:53:45.653

检查您的 ProductList 是否为空。打印出它的大小。它可能是空的，因此表明您的索引超出范围

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-12T06:28:41.650

检查一次您的产品列表是否为空。如果是这样，那么它将抛出 indexoutofbound 错误。

# jquery - jQuery移动事件点击图像

> ID：13245144
> 
> 赞同：1
> 
> 时间：2012-11-06T05:48:14.607
> 
> 标签：jquery, html, jquery-mobile

我为图像添加了“taphold”jquerymobile 事件。当我在 ipad 中点击该图像时，我会弹出以下由浏览器抛出的弹出窗口。如何避免这种情况？

![在此处输入图像描述](../Images/70c6444ec68ad42d32f8e267e192bf6c.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T14:44:44.937

这可能是一个很长的镜头，但试试 CSS 规则

```
-webkit-user-select: none; 
```

它可能会阻止弹出窗口出现。

希望能帮助到你 ：）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T09:57:21.957

这有助于

```
 img
  {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -ms-user-select: none;
    -moz-user-select: none;
    user-select: none;
   } 
```

# codeigniter - Codeigniter-phpBB 集成

> ID：13245146
> 
> 赞同：0
> 
> 时间：2012-11-06T05:48:00.960
> 
> 标签：codeigniter, phpbb, phpbb3

我曾尝试将 phpBB 论坛集成到 Codeigniter 项目中。我已将 codeigniter( [phpbb library](https://github.com/EllisLab/CodeIgniter/wiki/phpBB3-library) ) 提供的库放在 projectName/application/libraries 中，并将论坛放在项目的根目录下。控制器如下所示：

```
<?php
class Library_test extends CI_Controller
{
    function __construct()
    {
        parent::__construct();

        $this->load->database();
        $this->load->library('session');
        $this->load->library('phpbb_library');
    }

    function index()
    {
        if ($this->phpbb_library->isLoggedIn() === TRUE)
        {
            $userId = $this->phpbb_library->getUserInfo('user_id');
            $username = $this->phpbb_library->getUserInfo('username');

            echo "Welcome $username (" . ($this->phpbb_library->isAdministrator() === TRUE ? "administrator" : "user") . "), your ID is $userId and you are member of the following groups";

            foreach ($this->phpbb_library->getUserGroupMembership() as $group)
            {
                echo "$group <br />";
            }
        }
        else
        {
            echo "You are not logged-in.";
        }
    }
}
?> 
```

我已经为整个项目（chmod -R 777 project/）设置了适当的权限，并且错误显示为“未找到”的文件在那里并且可以访问。请帮帮我。

以下是我尝试访问控制器时的错误。

遇到 PHP 错误

严重性：警告

消息：包括（localhost/communityCI/community/common.php）：无法打开流：没有这样的文件或目录

文件名：库/phpbb.php

行号：32

遇到 PHP 错误

严重性：警告

消息：include()：无法打开“localhost/communityCI/community/common.php”以包含（include_path='.:/usr/share/php:/usr/share/pear'）

文件名：库/phpbb.php

行号：32

遇到 PHP 错误

严重性：警告

消息：包括（localhost/communityCI/community/config.php）：无法打开流：没有这样的文件或目录

文件名：库/phpbb.php

行号：33

遇到 PHP 错误

严重性：警告

消息：include(): 未能打开 'localhost/communityCI/community/config.php' 以包含 (include_path='.:/usr/share/php:/usr/share/pear')

文件名：库/phpbb.php

行号：33

遇到 PHP 错误

严重性：警告

消息：包括（localhost/communityCI/community/includes/functions_user.php）：无法打开流：没有这样的文件或目录

文件名：库/phpbb.php

行号：34

遇到 PHP 错误

严重性：警告

消息：include()：无法打开“localhost/communityCI/community/includes/functions_user.php”以包含（include_path='.:/usr/share/php:/usr/share/pear'）

文件名：库/phpbb.php

行号：34

遇到 PHP 错误

严重性：警告

消息：包括（localhost/communityCI/community/includes/functions_display.php）：无法打开流：没有这样的文件或目录

文件名：库/phpbb.php

行号：35

遇到 PHP 错误

严重性：警告

消息：include(): 未能打开 'localhost/communityCI/community/includes/functions_display.php' 以包含 (include_path='.:/usr/share/php:/usr/share/pear')

文件名：库/phpbb.php

行号：35

遇到 PHP 错误

严重性：警告

消息：include（localhost/communityCI/community/includes/functions_privmsgs.php）：无法打开流：没有这样的文件或目录

文件名：库/phpbb.php

行号：36

遇到 PHP 错误

严重性：警告

消息：include()：无法打开“localhost/communityCI/community/includes/functions_privmsgs.php”以包含（include_path='.:/usr/share/php:/usr/share/pear'）

文件名：库/phpbb.php

行号：36

遇到 PHP 错误

严重性：警告

消息：包括（localhost/communityCI/community/includes/functions_posting.php）：无法打开流：没有这样的文件或目录

文件名：库/phpbb.php

行号：37

遇到 PHP 错误

严重性：警告

消息：include()：无法打开“localhost/communityCI/community/includes/functions_posting.php”以包含（include_path='.:/usr/share/php:/usr/share/pear'）

文件名：库/phpbb.php

行号：37

致命错误：在第 39 行的 /var/www/communityCI/application/libraries/phpbb.php 中的非对象上调用成员函数 session_begin()

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T13:23:02.353

> 包括（localhost/communityCI/community/common.php）
> 
> /var/www/communityCI/application/libraries/phpbb.php

你不应该`include`来自一个 URL；它很可能不起作用（就像你在这里看到的那样）并且不是好的做法。

`include`使用文件的相对或绝对路径执行您的 's：

```
include('/var/www/communityCI/community/common.php'); 
```

你也不应该`chmod 0777`整个项目......

# php - Magento：使用下拉菜单的多选（打开下拉菜单）插入

> ID：13245147
> 
> 赞同：1
> 
> 时间：2012-11-06T05:48:05.687
> 
> 标签：php, magento, foreach, multi-select

嗨，我正在构建一个自定义模块，您可以在其中选择从哪个存储中提取数据的部分，我可以通过下拉列表（标准）显示它，但是如何将其更改为多选框，以便您可以选择超过 1 个商店来获取数据，与订单状态相同，它目前是下拉列表，但我希望能够选择超过 1 个状态。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T11:08:53.487

我猜您的意思是您希望能够使用 XML 配置将其添加到 Magneto 管理系统中。

您需要在字段定义中添加类似的内容

```
<select_store translate="label">
    <label>Pick stores here bla</label>
    <frontend_type>multiselect</frontend_type>
    <sort_order>1</sort_order>
    <source_model>adminhtml/system_config_source_store</source_model>
    <show_in_default>1</show_in_default>
    <show_in_website>1</show_in_website>
    <show_in_store>1</show_in_store>
</select_store> 
```

这应该添加一个多选输入，并为您收集所有商店。有关 Magento 配置的帮助，请参见此处：[http ://alanstorm.com/custom_magento_system_configuration](http://alanstorm.com/custom_magento_system_configuration)

# jquery - 用jquery替换多个html实例

> ID：13245150
> 
> 赞同：1
> 
> 时间：2012-11-06T05:48:55.480
> 
> 标签：jquery, html

HTML：

```
<div class="slide">
  <div class="left">
    <img src="img-lg.png" class="image1" />
  </div>
  <div class="thumbs">
    <img src="img-sm.png" />
  </div>
</div>

<div class="slide">         
  <div class="left">
    <img src="anotherimg-lg.png" class="image1" />
  </div>
  <div class="thumbs">
    <img src="anotherimg-sm.png" />
  </div>    
</div> 
```

查询：

```
var originalContent = $('.left').html();
$("div.thumbs img").hover(function(){
  var largesrc = $(this).attr("src").replace("sm","lg");
  $(".left").html('<img src="' + largesrc 
    + '" width="560" height="377" class="largeimage" />');
}, function() {
  $(".left").html(originalContent);
}); 
```

我在悬停时用较小的图像替换大图像，然后恢复为原始图像。这很好用，但我不知道如何让它与多个实例一起工作。

在第二张幻灯片中，左图被原始的第一张左图代替，而不是第二张。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T05:58:45.123

怎么样

```
$("div.thumbs img").hover(function(){
        $(this).closest('.slide').find('.left img').attr({
            src: this.src.replace("sm","lg"),
            width: 560,
            height: 377,
            'class': 'largeimage'
        });
}, 
function() {
        var img = $(this).closest('.slide').find('.left img');
        img.attr({src: img[0].src.replace("lg","sm")})
        .removeAttr('width height class');
}); 
```

在这里，您交换了`src`图像元素的属性，而不修改 dom 结构。

[**演示**](http://jsfiddle.net/H43Xa/4/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:09:55.290

```
$("div.thumbs img").hover(function(){
  var $this = $(this);

  // find the containing .slide, then find .left within that
  var left = $this.closest('.slide').find('.left');

  // store the original content as "data" on `left`, so
  // we can get it easily in the future
  left.data('originalContent', left.html());

  var largesrc = $this.attr("src").replace("sm","lg");
  left.html('<img src="' + largesrc 
    + '" width="560" height="377" class="largeimage" />');
}, function() {
  var $this = $(this);
  var left = $this.closest('.slide').find('.left');

  // fetch the "data" we stored earlier, and restore it
  left.html(left.data('originalContent'));
}); 
```

[这里](http://jsfiddle.net/coltrane/4VLEr/)有一个活生生的例子。

# c# - Directsound：如何使用 SecondaryBuffer(Stream,BufferDescription,Device) 构造函数创建辅助缓冲区？

> ID：13245164
> 
> 赞同：1
> 
> 时间：2012-11-06T05:51:12.297
> 
> 标签：c#, directx, directsound

我正在尝试创建一个静态辅助缓冲区，它从数组而不是文件接收声音数据。所以我想使用`SecondaryBuffer(Stream,BufferDescription,Device)`构造函数，但我不知道该怎么做。谁能给我看一个c#的例子？

# android - 如何在android的电子邮件中附加单个文件？

> ID：13245171
> 
> 赞同：2
> 
> 时间：2012-11-06T05:52:03.870
> 
> 标签：android, email, android-intent

> **可能重复：**
> [如何在 android 中发送带有附件的电子邮件？](https://stackoverflow.com/questions/13244782/how-to-send-email-with-attached-file-in-android)

当我发送电子邮件时，收件箱中显示文件附件 0 字节。我的代码如下。如何解决这个问题呢？提前谢谢你。

```
 String path = "/data/data/"
               + context.getApplicationContext().getPackageName()
               + "/files/";
             String filename= "save.ime";
             Intent mSendIntent = new Intent(
                android.content.Intent.ACTION_SEND);
        mSendIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        mSendIntent.setType("plain/text");
        mSendIntent.putExtra(android.content.Intent.EXTRA_EMAIL,
                new String[] { "" });
        mSendIntent.putExtra(android.content.Intent.EXTRA_CC, "");
        mSendIntent.putExtra(android.content.Intent.EXTRA_BCC, "");
        mSendIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,
                "InfoMe Profile Request");
        mSendIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(new 
               File(path+filename)));
        mSendIntent.putExtra(android.content.Intent.EXTRA_TEXT,
                Function.bodypart);
        context.startActivity(Intent.createChooser(
                mSendIntent, "Send mail...")); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:17:21.757

试试这个代码：

```
filesend = new File("/data/data/"
           + context.getApplicationContext().getPackageName()
           + "/files/");
File filelocation = filesend ;
Intent mSendIntent = new Intent(Intent.ACTION_SEND);
mSendIntent.setType("image/jpeg");
mSendIntent.putExtra(Intent.EXTRA_EMAIL, "user@gmail.com" );
mSendIntent.putExtra(Intent.EXTRA_STREAM, Uri.parse("file://"+filelocation.getAbsolutePath()));
startActivity(Intent.createChooser(mSendIntent, "Send email")); 
```

# assembly - ASM 子程序在屏幕上的特定位置打印彩色文本

> ID：13245179
> 
> 赞同：1
> 
> 时间：2012-11-06T05:52:52.593
> 
> 标签：assembly, nasm, bootloader, bios

我正在尝试编写一些 ASM 代码，这些代码将使用 BIOS 中断将一些文本写入显示器。此代码将从引导扇区运行。

我有

```
msgText DB "Hello"                  ;Text
msgCol  DB 0x07,0x08,0x09,0x0A,0x0B ;Colours
msgXY   DW 0x0E26                   ;Col/Row
msgLen  DB 0x05                     ;Length 
```

消息只是“你好”，每个字母都有不同的颜色。消息在屏幕上的位置大致在中间，长度为5。

我想编写一个函数，将*任何*消息/颜色/xy/长度写入屏幕，但现在，让我们专注于这个。

```
print:
  MOV AH,0x02        ;Tell BIOS we want to set the cursor position
  MOV DX,[msgXY]     ;Tell BIOS where the cursor should go
  INT 0x10           ;Call BIOS video interrupt

  XOR ECX,ECX        ;Clear ECX
  MOV CX,[msgLen]    ;Set CX = msgLen

  MOV AH,0x0E        ;We want to print characters on the screen

  _loop:
    MOV EDX,msgText  ;Move address of text to EDX
    DEC ECX          ;Temporarily decrement ECX
    ADD EDX,ECX      ;Add ECX to the address of msgText
    INC ECX          ;Increment ECX back to what it was
    MOV AL,BYTE[EDX] ;Put the contents of the memory at EDX into AL

    MOV EDX,msgCol   ;Move address of text colour to EDX
    DEC ECX          ;Temporarily decrement ECX
    ADD EDX,ECX      ;Add ECX to the address of msgCol
    INC ECX          ;Increment ECX back to what it was
    MOV BL,BYTE[EDX] ;Put the contents of the memory at EDX into BL

    INT 0x10         ;Call BIOS video interrupt
    LOOP _loop
  RET 
```

现在，我应该可以用`CALL print`.

（是的，我知道这会向后打印“Hello”，我并不担心。我可以将它作为“olleH”存储在内存中，我不在乎 - 我有更大的问题）

首先，我设置的行`CX`会`[msgLen]`导致问题。我不得不对其进行硬编码以使其`CX`等于`0x05`，我不知道为什么。

其次，大概出于同样的原因，当我尝试设置颜色代码时，我遇到了与文本长度相同的问题。如果我摆脱这些行并只进行硬编码`MOV BL,0x0C`，那么它就可以正常工作。

然而，奇怪的是，这`MOV DX,[msgXY]`部分似乎工作正常。

我不能给出任何确切的问题，因为我一直试图通过改变很多东西来解决这个问题，而我在这里和那里改变的小东西似乎会产生非常不可预测的结果。再者，调用各种 BIOS 中断似乎会*改变*一些寄存器，这很烦人。此外，当我将东西压入堆栈并稍后将其弹出时，情况有所不同，所以我一直在避免`PUSH`并且`POP`完全避免。

顺便说一句，我现阶段仍处于实模式 x86 中。

当然，我正在做的事情不可能这么难。也许我只是需要一杯咖啡。或者一些帮助？:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T09:31:24.080

好吧，“首先”，您已经定义`msgLen`为`db`. 当你`mov cx, [msgLen]`，你加载两个字节。这是否会导致问题取决于 . 之后的内容（如果有的话）`msgLen`。要么定义`msgLen`为`dw`，要么做`mov cl, [msgLen]`（因为你已经清除了高位）。

我没有看到“Secondly”的类似问题 - 你正在将一个字节移动到一个 8 位寄存器中。您在本节中使用 32 位寄存器似乎很奇怪。“应该”工作，但它会使您的代码膨胀一点。`[dx]`当然，这不是有效的 16 位寻址模式 - 您必须使用`bx`（用于其他目的）`si`、 或`di`. 由于您使用的是 32 位寄存器，`lea edx, [edx + ecx - 1]`因此应该在不临时递减和递增的情况下做您想做的事情`ecx`。（但我认为这不会帮助您解决问题）

预计某些 BIOS 中断会改变寄存器。是否奇怪取决于哪些中断正在执行此操作。大多数情况下他们没有。无法达到`pop`您编辑的相同值`push`很奇怪。要么你发现了一个 CPU 错误，要么你做错了什么。猜猜哪个更有可能。:) 它们是有用的指令，所以不能使用它们是一种耻辱。你没有显示你的引导扇区的“第一幕”，你在哪里初始化`ds`并`es`设置了一个合理的堆栈——也许那里有问题？

你看过int 10h/13h吗？我认为它会做你想要的（“彩虹”文本）。这是一个奇怪的中断，因为它期望文本地址在`es:bp`，但很有用。另一种方法是将字符和颜色直接插入 B800h:xxxx 的“屏幕内存”——一个字节用于字符，一个字节用于颜色。

引导扇区并不是特别容易编写。如果你有真正的 dos 可用（甚至是 Dosbox），它可能有助于“试用”你的例程作为 .com 文件的一部分（其中 DEBUG 可用）。bootsector 与 dos 是不同的环境，因此它不会解决您的所有问题，但可能有助于缩小范围。

咖啡可能会有所帮助，但主要是……勇气！

最好的，弗兰克

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-28T11:41:20.847

您可以使用此代码：

```
mov si,msg_text
call print_colored
print_colored:
.loop:
lodsb
cmp al,0
je .done
inc bl
mov ah,0x0E
Int 0x10
jmp .loop
.done:
ret 
```

它使您的字符串着色，但不是供您选择。

# ruby-on-rails - 在 Rails 中通过 1 个表单编辑嵌套集合

> ID：13245182
> 
> 赞同：1
> 
> 时间：2012-11-06T05:53:14.713
> 
> 标签：ruby-on-rails, forms, ruby-on-rails-3.2

我正在尝试创建一个表单，我可以在其中在单个视图中单独编辑集合中的所有项目。我使用 Railscast #198 ( [http://railscasts.com/episodes/198-edit-multiple-individually](http://railscasts.com/episodes/198-edit-multiple-individually) ) 作为一般指南，但没有包含复选框，因为我只想一次编辑集合中的每个项目（而不是选择哪些要编辑）。就我目前所拥有的，表单可以正确显示，但在提交时出现此类错误：

```
ArgumentError in ProceduresController#update_procedures
wrong number of arguments (0 for 2). 

Parameters:

{"utf8"=>"✓",
 "_method"=>"put",
 "authenticity_token"=>"i9kB+uGlguerjxl0VHy1dRyMY5HrZQdILVuM79Df4Z4=",
 "procedures"=>{"1"=>{"description"=>"Example1"},
 "2"=>{"description"=>"Example2"}},
 "commit"=>"Submit",
 "comp_id"=>"1"} 
```

请告诉我我在这里缺少什么：

在我的控制器中：

```
def edit_procedures
    @comp = Comp.find(params[:comp_id])
    @procedures = @comp.procedures.all    
end

def update_procedures  
    @comp = Comp.find(params[:comp_id])
    @procedures = @comp.procedures.update.(params[:procedures].keys,     
       params[:procedures].values).reject { |p| p.errors.empty? }
end 
```

在我的路线中：

```
resources :comps do
    resources :procedures do
        collection do 
          get 'edit_procedures' 
          put 'update_procedures'
        end
    end
end 
```

在我看来：

```
<%= form_tag update_procedures_comp_procedures_path(@comp), :method => :put do %>
    <% for procedure in @procedures %>
        <%= fields_for "procedures[]", procedure do |f| %>
            <% if params[:field].blank? || params[:field] == "description" %>
            <%= f.label :description %>
                <%= f.text_field :description %>
        <% end %>
        <% end %>
    <% end %>   
    <p><%= submit_tag "Submit" %></p>
<% end %> 
```

我还尝试将“edit_procedures”方法从 GET 更改为 POST，但随后出现此错误：未知操作，无法为 ProceduresController 找到“显示”操作。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T23:23:07.977

更新：

实际上，我刚刚想出的这个解决方案要好得多。我只是将表单更改为此（除了下面列出的对控制器的更改）：

```
<%= form_for @comp, :url => 'update_procedures', :method => :put do |f| %>
    <%= f.fields_for :procedures do |g| %>
        <%= g.text_field :description %>
    <% end %>

    <%= f.submit "Update procedures" %>
<% end %> 
```

原始答案：

没有人回答这个问题，我自己挣扎了一天才弄清楚，所以我将分享我是如何解决它的：

在我看来，我改变了 3 件事 1\. 添加了一个隐藏字段，将过程 id 添加到散列中，2\. 将“comp”对象添加到散列的开头，以及 3\. 将“procedures”更改为“procedures_attributes”（这样生成的哈希看起来与 form_for fields_for 具有嵌套属性的嵌套表单生成的哈希完全相同）

所以表格最终看起来像：

```
<%= form_tag update_procedures_comp_procedures_path(@comp), :method => :put do %>
    <% for procedure in @procedures %>
        <%= fields_for 'comp[procedures_attributes]', procedure do |f| %>
            <% if params[:field].blank? || params[:field] == "description" %>
        <%= f.label :description %><br />
            <%= f.text_field :description %>
            <%= f.hidden_field :id, :value => procedure.id %>
            <% end %>
    <% end %>
     <% end %>  
<p><%= submit_tag "Submit" %></p>
<% end %> 
```

然后在我的程序控制器中，它不是更新程序对象，而是使用嵌套属性更新 comp 对象以更新底层程序属性：

```
def update_procedures  
    @comp = Comp.find(params[:comp_id])
    if @comp.update_attributes(params[:comp]) 
        redirect_to(new_comp_procedure_path(@comp))
    else
        render 'edit_procedures'    
end 
```

这似乎可行，但如果有更直接的方法来实现这一点，请让我（以及其他阅读本文的人）知道。谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-02-07T14:32:59.530

我知道我迟到了六年，但看起来这是您`#update_procedures`方法中的一个简单错字：

```
# this...
@procedures = @comp.procedures.update.(params[:procedures].keys,     
       params[:procedures].values).reject { |p| p.errors.empty? }

# should be this...
@procedures = @comp.procedures.update(params[:procedures].keys,     
       params[:procedures].values).reject { |p| p.errors.empty? } 
```

（在调用后删除了点`#update`）

我敢肯定你已经为此失眠*多年了，*所以不要再哭了，你的英雄来了。

# php - 如何从包含编号列表的字符串中提取数组？

> ID：13245183
> 
> 赞同：2
> 
> 时间：2012-11-06T05:53:14.560
> 
> 标签：php, regex, string

使用 PHP，我希望从包含编号列表的字符串中提取一个数组。

示例字符串：

```
The main points are: 1\. This is point one. 2\. This is point two. 3\. This is point three. 
```

将产生以下数组：

```
[0] => 1\. This is point one.
[1] => 2\. This is point two.
[2] => 3\. This is point three. 
```

字符串的格式可以变化 - 例如：

```
1\. This is point one, 2\. This is point two, 3\. This is point three.
1) This is point one  2) This is point two 3) This is point three
1 This is point one. 2 This is point two. 3 This is point three. 
```

我已经开始使用具有以下模式的**preg_match_all ：**

```
!((\d+)(\s+)?(\.?)(\)?)(-?)(\s+?)(\w+))! 
```

但我不确定如何匹配其余字符串/直到下一场比赛。

[RegExr](http://regexr.com?32n9c)提供的示例

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T06:00:28.830

如果您的输入遵循您的示例输入，因为每个“点”本身不包含数字，您可以使用以下正则表达式：

```
\d+[^\d]* 
```

在 PHP 中，您可以`preg_match_all()`用来捕获所有内容：

```
$text = 'The main points are: 1\. This is point one. 2\. This is point two. 3\. This is point three.';

$matches = array();
preg_match_all('/(\d+[^\d]*)/', $text, $matches);

print_r($matches[1]); 
```

这将导致：

```
Array
(
    [0] => 1\. This is point one.
    [1] => 2\. This is point two.
    [2] => 3\. This is point three.
) 
```

不过，如果实际点本身有任何数字/数字 - 这将不起作用。

如果您希望实际数字出现在每个点中，则需要定义每个点的实际“锚点”或“结束”，例如句点。如果您可以声明 a`.`仅出现在该点的末尾（忽略前导数字后面的潜在数字），您可以使用以下正则表达式：

```
\d+[.)\s][^.]*\. 
```

`preg_match_all()`它可以很容易地从上面放入：

```
preg_match_all('/(\d+[.)\s][^.]*\.)/', $text, $matches); 
```

正则表达式解释：

```
\d+        # leading number
[.)\s]     # followed by a `.`, `)`, or whitespace
[^.]*      # any non-`.` character(s)
\.         # ending `.` 
```

第二个正则表达式的警告是 a`.`可能只出现在每个点的末尾（并且在前导数字之后）。但是，我认为这条规则可能比“没有数字”规则更容易遵循——但这完全取决于您的实际输入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:03:23.460

使用[preg_split](http://php.net/manual/en/function.preg-split.php)，它会更容易，只需根据您的编号格式拆分字符串，并返回非空结果。修改它以满足您的需要：

[http://codepad.org/tK6fGCRB](http://codepad.org/tK6fGCRB)

```
<?php

$theReg = '/\d\.|\d\)|\d /';
$theStrs = array(
                '1\. This is point one, 2\. This is point two, 3\. This is point3' ,
                '1) This is point one  2) This is point two 3) This is point 3' ,
                '1 This is point one. 3 This is point three. 4 This is point 4'
                );

foreach($theStrs as $str)
   print_r(preg_split($theReg, $str , -1 , PREG_SPLIT_NO_EMPTY));;
?> 
```

# math - Clojure 乘法给出了奇怪的结果

> ID：13245185
> 
> 赞同：1
> 
> 时间：2012-11-06T05:54:01.910
> 
> 标签：math, clojure, floating-point, calculator, multiplication

出于某种原因，我从乘法函数中得到了奇怪的结果。这是程序：

```
(ns scalc.core)

(defn add [numbers]
  (reduce + numbers))

(defn sub [numbers]
  (reduce - numbers))

(defn mul [numbers]
  (reduce * numbers))

(defn div [numbers]
  (reduce / numbers))

(defn numchoose []
  (let [nums (re-seq #"\d+" (read-line))]
    (map #(Float/parseFloat %) nums)))

(defn delegate []
  (println "What operation would you like to do?: ")
  (let [operation (read-line)]

    (when (= operation "add")
      (println "You chose to add.")
      (println "What numbers? ")
      (println (add (numchoose))))

    (when (= operation "mul")
      (println "You chose to multiply.")
      (println "What numbers? ")
      (println (mul (numchoose))))

    (when (= operation "div")
      (println "You chose to divide.")
      (println "What numbers? ")
      (println (div (numchoose))))

    (when (= operation "sub")
      (println "You chose to subtract.")
      (println "What numbers? ")
      (println (sub (numchoose))))))

(defn -main
  [& args]

  (delegate)) 
```

这些是我的结果：

```
 ~/clj/scalc 1/7 % lein trampoline run src/scalc/core.clj
What operation would you like to do?: 
mul
You chose to multiply.
What numbers? 
10 1.5 3
150.0
 ~/clj/scalc 1/7 % lein trampoline run src/scalc/core.clj
What operation would you like to do?: 
mul
You chose to multiply.
What numbers? 
654321 1.5
3271605.0
 ~/clj/scalc 1/7 % lein trampoline run src/scalc/core.clj
What operation would you like to do?: 
add
You chose to add.
What numbers? 
1 2 3 4 5 6
21.0
 ~/clj/scalc 1/7 % lein trampoline run src/scalc/core.clj
What operation would you like to do?: 
sub
You chose to subtract.
What numbers? 
100 90 4
6.0
 ~/clj/scalc 1/7 % lein trampoline run src/scalc/core.clj
What operation would you like to do?: 
div
You chose to divide.
What numbers? 
64 8 2
4.0 
```

唯一不正确的是乘法，并且仅在使用小数时。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T07:26:08.010

您使用的正则表达式`"\d+"`仅匹配数字序列，而不允许出现小数点。所以在第一个乘法示例中，`1.5`被处理为两个单独的数字`1`和`5`，整个乘积计算为`10 * 1 * 5 * 3`，即`150`。同样，对于第二个，你得到`654321 * 1 * 5 = 3271605`.

拆分`read-line`on whitespace 的结果而不是 using会更好`re-seq`吗？

# java - JSP/Java 中的 ASP.NET Page.ispostback 等效项

> ID：13245188
> 
> 赞同：0
> 
> 时间：2012-11-06T05:54:02.193
> 
> 标签：java, asp.net, jsp

JSP/Java 中是否有任何 ASP.NET Page.IsPostback 等价物？我需要做的是检查这个请求是第一次还是回发的结果。JSP 页面上的组合框很少，我只需要第一次加载它，（我正在从数据库加载组合框的数据）而不是每次重新加载页面。我们根据各种输入/选择等重新加载同一页面。所以我一直在寻找那种方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T05:58:30.233

```
if ( "POST".equalsIgnoreCase(request.getMethod()) &&
   ((request.getRemoteURL() != null && 
      request.getRemoteURL().toString().equalsIgnoreCase("http://yoursite.com")) {

    //postback call 
} 
```

您可能还会看到这个[问题](https://stackoverflow.com/questions/4688190/how-to-generate-events-in-jsp-pages)

# ios - Facebook iOS SDK 3.1：“不支持的获取请求。”

> ID：13245196
> 
> 赞同：2
> 
> 时间：2012-11-06T05:54:40.553
> 
> 标签：ios, facebook, facebook-graph-api, facebook-ios-sdk

我在 iPhone 4S 上运行带有 iOS6 的 Xcode 4.5.1 上的 Facebook SDK 3.1。我有一个访问令牌，可以看到我的朋友，我没有尝试构建任何其他图形请求，但是，每次我初始化 Facebook 对象时，我都会看到这个打印到我的控制台：

```
Error: HTTP status code: 400 
```

所以我决定 NSLog 生成的“错误”并得到以下信息：

```
Error Domain=com.facebook.sdk Code=5 "The operation couldn’t be completed. (com.facebook.sdk error 5.)" UserInfo=0xb89020 {com.facebook.sdk:ParsedJSONResponseKey={
    body =     {
        error =         {
            code = 100;
            message = "Unsupported get request.";
            type = GraphMethodException;
        };
    };
    code = 400;
}, com.facebook.sdk:HTTPStatusCode=400} 
```

我对此进行了很多研究，发现应用程序会自动尝试运行“publishInstall”请求，该请求会登录到您的 Facebook 开发者控制台。

我也不确定如何解释此错误，Facebook 是否可能对此类请求设置了限制？

我一直看到很多其他人都在为这种类型的问题苦苦挣扎，但尚未找到解决方案，因为这似乎是最近对 facebook api 的更改。

尽管如此，我将不胜感激任何可以引导我走向正确方向的建议。

# prolog - 关系运算符在 prolog 中用于变量

> ID：13245200
> 
> 赞同：2
> 
> 时间：2012-11-06T05:55:02.953
> 
> 标签：prolog, clpfd

我正在编写以下代码并给出完美的结果。

```
edge(s,a,300).
edge(s,d,20).
edge(a,d,400).
edge(a,b,1500).
edge(b,c,9).
edge(b,e,200).
edge(c,d,2000).
edge(c,g,12).
edge(d,e,3).
edge(e,f,400).
edge(f,g,800).

connected(X,Y,D) :- edge(X,Y,D) ; edge(Y,X,D).

path(A,B,D,Path) :- 
    travel(A,B,D,[A],Q),
    reverse(Q,Path).

travel(A,B,D,P,[B|P]) :-
    connected(A,B,D).

travel(A,B,D,Visited,Path) :-
    connected(A,X,D1),
    X \== B,
    \+member(X,Visited),
    D2 is D - D1,
    travel(X,B,D2,[X|Visited],Path). 
```

如果我像这样查询

```
| ?- path(s,e,23,P).
P = [s,d,e] ? ;
no
| ?- 
```

我确实得到了正确的回应。但是不，我希望得到 D<50 的结果，比如说。怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T11:18:06.060

算术表达式是 Prolog 中的一种特殊情况，不希望与未绑定的参数一起使用，因此您不能简单地要求`path(s,e,D,P), D < 50`，因为`is`- 子句需要实例化其所有右侧参数。

您可以使用 Prolog 的[有限域 (FD) 约束扩展](http://www.gprolog.org/manual/html_node/gprolog061.html#toc271)（例如在 GNU Prolog 中）：只需将您的更改`is`为 FD-equivalent `#=`，然后询问：

```
/Users/stolz/test.pl compiled, 27 lines read - 3180 bytes written, 8 ms
| ?- fd_domain(D,0,50), path(s,e,D,P).

D = 23
P = [s,d,e] ? ;

no 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T17:53:52.157

您应该让 Prolog 计算距离 D 以及路径：

```
travel(A,B,D,Visited,Path) :-
    connected(A,X,D1),
    X \== B,
    \+member(X,Visited),
    travel(X,B,D2,[X|Visited],Path),
    D is D2 + D1. 
```

然后就可以查询了

```
?- path(Start, Stop, D, P), D < 50. 
```

并将获得（回溯）所有 D < 50 的路径。

```
?- path(s,e,X,P),X<50.
X = 23,
P = [s, d, e] ;
false. 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T14:59:16.780

虽然我认为有限域约束在这里最好使用，但您可以通过对代码进行少量修改来实现您想要的。

在第一个子句中，您可以使用一个新变量，而不是将输入参数与 的第三个参数`travel/5`统一，然后检查您当前的距离 ( ) 是否大于或等于这个新变量。`D``connected/3``D`

```
travel(A,B,D,P,[B|P]) :-
    connected(A,B,TD),
    D >= TD. 
```

# java - 我正在尝试通过 SOLR 和 lucene 对文档中的文件进行索引。

> ID：13245202
> 
> 赞同：0
> 
> 时间：2012-11-06T05:55:33.030
> 
> 标签：java, solr, lucene

正如我在标题中所说：我使用的是 Java，但是当我在 Eclipse 上运行代码时，出现以下错误。

> 线程“main”中的异常 java.lang.NoClassDefFoundError: org/apache/lucene/analysis/util/ResourceLoader at Indexer.getIndexWriter(Indexer.java:38) at Indexer.rebuildIndexes(Indexer.java:73) at SolrIndexer.main( SolrIndexer.java:23) 原因：java.lang.ClassNotFoundException: org.apache.lucene.analysis.util.ResourceLoader at java.net.URLClassLoader$1.run(URLClassLoader.java:202) at java.security.AccessController.doPrivileged （本机方法）在 java.net.URLClassLoader.findClass(URLClassLoader.java:190) 在 java.lang.ClassLoader.loadClass(ClassLoader.java:306) 在 sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301 ) 在 java.lang.ClassLoader.loadClass(ClassLoader.java:247) ... 还有 3 个

悲伤的部分：**org.apache.lucene.analysis.util.ResourceLoader**类在`Lucene 4.0/3.6/4.0-ALPHA`. 虽然，有一些网页人们在谈论**资源**加载器类。

有谁可以帮我离开这里吗？任何帮助，将不胜感激..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:47:01.183

由于[LUCENE-2510](https://issues.apache.org/jira/browse/LUCENE-2510)，[通用分析器](http://upstream-tracker.org/java/compat_reports/lucene/3.6.1_to_4.0.0-BETA/bin_compat_report.html)已被移动 确保您在类路径中拥有它。`lucene-analyzers-common-X.X.X.jar`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T05:59:16.137

看起来像这个类：`org.apache.lucene.analysis.util.ResourceLoader`找不到。您确定所有必需的 3rd 方库都在您的类路径上吗？

根据[此](http://lucene.apache.org/core/4_0_0-ALPHA/analyzers-common/org/apache/lucene/analysis/util/ResourceLoader.html)API URL，似乎该接口可用 4.0.0-Alpha。也许你可以尝试恢复到这个版本，看看它是否有效？

# jquery - 根据 Key Press Jquery 计算总数

> ID：13245203
> 
> 赞同：0
> 
> 时间：2012-11-06T05:55:41.390
> 
> 标签：jquery, asp.net

我有 3 个文本框

总数量

我想要一个按键事件，当我在 Rate 中输入任何金额时，应该计算总数。我有一个文本更改事件选项，但是当我离开文本框时会触发该事件。我想要文本框的按键事件。我有以下代码。

```
$('#<%=txtRate.ClientID %>').keypress(function (event) {

            alert($('#<%=txtRate.ClientID %>').val());

 }); 
```

我面临的问题是当我收到警报时，它没有显示当前按下的值。意味着如果我在文本框 1 中有值，并且如果我按 2，那么它只会提醒我 1，因为当我单击时触发事件。因此不记录现值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T05:56:44.403

要立即检测到当前点击，必须使用`.keyup()`事件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:00:12.597

如果您使用最新的 jquery lib，那么使用`.on`其他方式`.live`会更好。

```
$('input').on('keyup', function(e) {
 delayKeyUp(function(){set_payment()}, 350); // delay of 350 ms.
 return false;
});

var delayKeyUp = (function(){
        var timer = 0;
        return function(callback, ms){
            clearTimeout (timer);
            timer = setTimeout(callback, ms);
        };
    })(); 
```

# c# - 如何使用 iTextSharp 创建 pdfformfields？

> ID：13245208
> 
> 赞同：2
> 
> 时间：2012-11-06T05:55:55.743
> 
> 标签：c#, asp.net, itextsharp

我正在使用 iTextSharp 和 CSharp 来创建 pdf。我需要添加无法编辑的表单域，如复选框、单选按钮和下拉菜单。

我用这个。。

```
FileStream pdffile = new FileStream(path + "/Pdf/tes.pdf",FileMode.Create);
PdfWriter writer = PdfWriter.GetInstance(doc, pdffile);
doc.Open(); 
Rectangle rect = new Rectangle(100, 100, 100, 100);
RadioCheckField checkbox = new RadioCheckField(writer, rect, "bhjabsdf", "on");
checkbox.CheckType = RadioCheckField.TYPE_CHECK;
PdfFormField field = checkbox.CheckField;
writer.AddAnnotation(field);
doc.Close(); 
```

但它不起作用。我也读过关于`PdfStamper`. 但是我正在创建一个新的pdf，而不是更改现有的。所以我不知道我是否可以使用`PdfStamper`？

谢谢..

编辑：

```
private void CreateRadioButton(PdfWriter writer, PdfContentByte cb,Font font)
    {
        Rectangle rect;
        PdfFormField field;
        PdfFormField radiogroup = PdfFormField.CreateRadioButton(writer, true);
        radiogroup.FieldName = "language";
        RadioCheckField radio;
        int x = 20;
        for (int i = 0; i < Petrol.Length; i++)
        {
            rect = new Rectangle(440 + i * x, 692, 450 + i * x, 682);
            radio = new RadioCheckField(writer, rect, null, LANGUAGES[i]);
            radio.BorderColor = GrayColor.GRAYBLACK;
            radio.BackgroundColor = BaseColor.WHITE;
            radio.CheckType = RadioCheckField.TYPE_CIRCLE; 

            if (Petrol[i] == "F")
                radio.Checked = true;
            field = radio.RadioField;
            //Here i am setting readonly..

            field.SetFieldFlags(PdfFormField.FF_READ_ONLY);
            radiogroup.AddKid(field);                
            ColumnText.ShowTextAligned(cb, Element.ALIGN_LEFT,
              new Phrase(Petrol[i], font), 451 + i * x, 684, 0);
            if (i >= 1) x = 25;
        }
        writer.AddAnnotation(radiogroup);
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T08:10:33.773

您正在“艰难地”创建一个领域。有一个名为的类`RadioCheckField`可以让您更轻松地创建字段。

请查看[第 8 章](http://itextpdf.com/book/chapter.php?id=8)中的书籍示例。[您可以在此处](http://kuujinbo.info/iTextInAction2Ed/index.aspx)找到示例的 C# 版本，例如名为[Buttons](http://kuujinbo.info/iTextInAction2Ed/index.aspx?ch=Chapter08&ex=Buttons)的示例。

```
checkbox = new RadioCheckField(writer, rect, LANGUAGES[i], "on");
checkbox.CheckType = RadioCheckField.TYPE_CHECK;
PdfFormField field = checkbox.CheckField; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T06:06:28.217

您可以使用 LiveCycle 创建自定义表单模板，然后使用 iTextSharp 像这样对表单字段进行数据绑定

```
string randomFileName = Helpers.GetRandomFileName();
string formTemplate = Server.MapPath("~/FormTemplate.pdf");
 string formOutput = Server.MapPath(string.Format("~/downloads/Forms/Form-{0}.pdf",    randomFileName));

PdfReader reader = new PdfReader(formTemplate);
PdfStamper stamper = new PdfStamper(reader, new System.IO.FileStream(formOutput,   System.IO.FileMode.Create));
AcroFields fields = stamper.AcroFields;

// set form fields
fields.SetField("Date", DateTime.Now.ToShortDateString());
fields.SetField("FirstName", user.FirstName);
fields.SetField("LastName", user.LastName);
fields.SetField("Address1", user.Address1);
fields.SetField("Address2", user.Address2);
fields.SetField("City", user.City);
fields.SetField("State", user.State);
fields.SetField("Zip", user.Zip);
fields.SetField("Email", user.Email);
fields.SetField("Phone", user.Phone);

// set document info
System.Collections.Hashtable info = new System.Collections.Hashtable();
info["Title"] = "User Information Form";
info["Author"] = "My Client";
info["Creator"] = "My Company";
stamper.MoreInfo = info;

 // flatten form fields and close document
stamper.FormFlattening = true;
stamper.Close(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T08:06:28.693

您不需要使用 PdfStamper 在 PDF 中创建 AcroForm 表单字段，PdfWriter 也允许您这样做。

不幸的是，您既没有说您的代码以哪种方式不起作用，也没有说您有什么确切的要求；还有一些示例代码可能会让您走上正轨：

查看 iText in Action 第 2 版的第 8 章；特别是示例[按钮](http://kuujinbo.info/iTextInAction2Ed/index.aspx?ch=Chapter08&ex=Buttons)将为您提供有关如何创建单选按钮和复选框的大量提示。示例[ChoiceFields](http://kuujinbo.info/iTextInAction2Ed/index.aspx?ch=Chapter08&ex=ChoiceFields)将向您展示如何创建列表和组合框。

# backbone.js - 主干查找当前页面

> ID：13245213
> 
> 赞同：1
> 
> 时间：2012-11-06T05:56:36.587
> 
> 标签：backbone.js

在引导环境中是否有内置调用来查找当前页面。我试图根据我所在的页面隐藏一些链接。我们有一个路由器，如下所示；

```
var AppRouter = Backbone.Router.extend({
    routes : {
        // Define some URL routes
        'login' : 'showLogin',
        'main' : 'showMain',
        'faq' : 'showFaq
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-06T06:19:01.620

如果您正在寻找路由器中触发的最后一条路由，则可以使用

```
Backbone.history.fragment 
```

提供的历史是在初始化路由器后开始的。

# blackberry - 电话号码检测问题

> ID：13245219
> 
> 赞同：4
> 
> 时间：2012-11-06T05:57:03.120
> 
> 标签：blackberry, detection, phone-number

在我的 BB 应用程序中，我想检测电话号码以及拨打这些电话号码。为了做到这一点，我使用[了 ActiveRichTextField](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/ui/component/ActiveRichTextField.html)而不是[LabelField](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/ui/component/LabelField.html)。该字段可以很好地检测电话号码，但我遇到的问题是它**无法检测到某些号码**，尤其是澳大利亚国家的号码。`India`它可以检测到非常好的电话号码，但不能检测到`Australia`其他号码。我为此所做的发布如下：

```
ActiveRichTextField descField;
if (isFocaseble) {
    descField = new ActiveRichTextField(replacedString.trim(),
                                        ActiveRichTextField.FIELD_LEFT |
                                        ActiveRichTextField.USE_ALL_WIDTH |
                                        ActiveRichTextField.FOCUSABLE) 
```

我在这里检查了它是否集中，因为只有数字必须集中，因为还有其他数据也不需要集中，并且`replacedString`是从 web 服务获取的数据。下面是我的屏幕快照可以清楚地了解我的问题。

(1)**以下是澳大利亚的数字**：

![在此处输入图像描述](../Images/64f54290c0a27633052cfac8b2180a71.png)

(2)**澳大利亚的数字**

![在此处输入图像描述](../Images/fe37aa54116c97d044764beed4e561d0.png)

(3)**印度的数字**

![在此处输入图像描述](../Images/2f43d41974d09fac3d06dc93910e87fb.png)

有人对此有任何想法吗？为什么我无法检测到整数以及我缺少什么？

任何形式的帮助都将是可观的。

# sql - SQL Inner/Sub group wise 查询特定场景

> ID：13245223
> 
> 赞同：2
> 
> 时间：2012-11-06T05:57:14.760
> 
> 标签：sql, group-by, subquery

我有一张如下表

> 架构：ID | 类别 | 关键字 | 竞标价格

编写一个 sql 以根据每个类别的出价获取前 5 个关键字。

细节：

oracle 10.x 上考虑的表定义：

```
create table test (
    ID number,
    Category varchar (20),
    Keyword varchar (20),
    BidPrice number
); 
```

数据：

```
insert into test values (1, 'Category-A', 'Keyword-A1', 110);
insert into test values (2, 'Category-A', 'Keyword-A2', 121);
insert into test values (3, 'Category-A', 'Keyword-A3', 130);
insert into test values (4, 'Category-A', 'Keyword-A4', 125);
insert into test values (5, 'Category-A', 'Keyword-A5', 115);
insert into test values (6, 'Category-A', 'Keyword-A6', 133);
insert into test values (7, 'Category-B', 'Keyword-B1', 105);
insert into test values (8, 'Category-B', 'Keyword-B2', 111);
insert into test values (9, 'Category-B', 'Keyword-B3', 108);
insert into test values (10, 'Category-B', 'Keyword-B4', 128);
insert into test values (11, 'Category-B', 'Keyword-B5', 144);
insert into test values (12, 'Category-B', 'Keyword-B6', 101);
insert into test values (13, 'Category-C', 'Keyword-C1', 150);
insert into test values (14, 'Category-C', 'Keyword-C2', 137);
insert into test values (15, 'Category-C', 'Keyword-C3', 126);
insert into test values (16, 'Category-C', 'Keyword-C4', 121);
insert into test values (17, 'Category-C', 'Keyword-C5', 112);
insert into test values (18, 'Category-C', 'Keyword-C6', 118); 
```

**预期输出：**

```
KEYWORD         CATEGORY      BIDPRICE
--------------  ------------  ----------
Keyword-A6      Category-A    133
Keyword-A3      Category-A    130
Keyword-A4      Category-A    125
Keyword-A2      Category-A    121
Keyword-A5      Category-A    115
Keyword-B5      Category-B    144
Keyword-B4      Category-B    128
Keyword-B2      Category-B    111
Keyword-B3      Category-B    108
Keyword-B1      Category-B    105
Keyword-C1      Category-C    150
Keyword-C2      Category-C    137
Keyword-C3      Category-C    126
Keyword-C4      Category-C    121
Keyword-C6      Category-C    118 
```

*注意：答案只能在 SQL 中，不使用任何 Oracle 或数据库特定功能。*

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T06:03:04.967

尝试这个：

```
select KEYWORD, CATEGORY ,BIDPRICE 
from 
(
  select KEYWORD, CATEGORY ,BIDPRICE , 
         ROW_NUMBER() over (partition by Category order by BidPrice desc)  as rn
  from test
) a
where a.rn <= 5; 
```

# [Sql 小提琴演示](http://sqlfiddle.com/#!4/03cc4/17)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T06:00:52.103

利用**[`ROW_NUMBER()`](http://docs.oracle.com/cd/B19306_01/server.102/b14200/functions137.htm)**

```
SELECT KEYWORD ,CATEGORY, BIDPRICE
FROM
(
  SELECT KEYWORD ,CATEGORY, BIDPRICE,
          ROW_NUMBER() OVER (PARTITION BY CATEGORY ORDER BY BIDPRICE DESC) rn
  FROM test
) a
WHERE rn <= 5
ORDER BY CATEGORY, BIDPRICE DESC 
```

*   [**SQLFiddle 演示**](http://sqlfiddle.com/#!4/03cc4/2)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T08:50:55.213

我做了这个查询，但如果它最大，它会离开第 6 行。有人可以帮忙吗？

```
select a.keyword, a.category, a.bidprice
from
  test a,
  (
    select b.id, b.category
    from test b
    where (select distinct(c.category) from test c where b.category=c.category) = b.category
  ) xx
where a.id in (select ss.id from test ss where a.category=ss.category and rownum<=5)
group by a.category, a.bidprice, a.keyword
order by a.category, a.bidprice desc; 
```

伙计们，

我解决了，请考虑这个：

```
select a.keyword, a.category, a.bidprice
from
  test a,
  (
    select b.id, b.category
    from test b
    where (select distinct(c.category) from test c where b.category=c.category) = b.category
    order by b.bidprice desc
  ) xx
where a.id in (
  select id
  from (select dd.id, dd.category from test dd order by dd.bidprice desc) ss
  where a.category=ss.category
    and rownum<=5
)
group by a.category, a.bidprice, a.keyword
order by a.category, a.bidprice desc; 
```

# oracle - PLS-00103：在预期以下情况之一时遇到符号“=”：

> ID：13245225
> 
> 赞同：1
> 
> 时间：2012-11-06T05:57:30.577
> 
> 标签：oracle, stored-procedures, plsql, oracle10g, oracle11g

当我尝试创建以下过程时，我遇到了这个错误：“PLS-00103：在期待以下之一时遇到符号“=”：“我找不到我出错的地方，请帮我解决这个问题。

```
 create or replace PROCEDURE  ProcName
(inTid IN VARCHAR2,outtxnstatus OUT CHAR,outrowcount OUT NUMBER,outretvalue OUT NUMBER) AS
   CURSOR c1 IS 
    select TXN_STATUS from OP_TTERMINALMASTER where TERMINAL_ID = inTid and TXN_STATUS = 'N' FOR UPDATE OF TXN_STATUS;
    outrowcount:= sql%rowcount;
    BEGIN
    if outrowcount = 1 then
      Open c1;
      fetch c1 into outtxnstatus;   
      update OP_TTERMINALMASTER set TXN_STATUS = 'Y' where current of c1;
      outretvalue := 5;
      CLOSE c1;
    END IF;
    EXCEPTION
    WHEN NO_DATA_FOUND THEN
      outretvalue := -5;
    END; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T06:07:38.813

我认为它在这里（之前`BEGIN`）：

```
outrowcount:= sql%rowcount; 
```

您在正确的位置声明了一个光标，但是，在`begin`您尝试分配的部分`sql%rowcount`之前，甚至在打开光标之前......

尝试

```
 create or replace PROCEDURE  ProcName
(inTid IN VARCHAR2,outtxnstatus OUT CHAR,outrowcount OUT NUMBER,outretvalue OUT NUMBER) AS

   BEGIN

     update OP_TTERMINALMASTER set TXN_STATUS = 'Y'
      where TERMINAL_ID = inTid and TXN_STATUS = 'N';

     outrowcount:= sql%rowcount;

      outretvalue := 5;
   EXCEPTION
    WHEN NO_DATA_FOUND THEN
      outretvalue := -5;
   END; 
```

# jqgrid - JQGrid 中未加载 Json 响应

> ID：13245229
> 
> 赞同：0
> 
> 时间：2012-11-06T05:57:41.450
> 
> 标签：jqgrid, struts2

我尝试了针对这个问题给出的解决方案。但是，它仍然无法正常工作。我觉得 JSON 响应的格式不正确。

在struts2中实现了JQGrid。在操作中创建一个用户列表，并使用 struts.xml 中的结果类型作为 json 以 json 类型返回。

这是我得到的Json，

```
{"JSON":"success","userList":[{"fName":"abi","lName":"babu"},{"fName":"abi1","lName":"babu1"},{"fName":"abi2","lName":"babu2"},{"fName":"abi3","lName":"babu3"},{"fName":"abi4","lName":"babu4"},{"fName":"abi5","lName":"babu5"},{"fName":"abi6","lName":"babu6"}]} 
```

JSP 页面是，

```
 <script type="text/javascript">
    $(function () {
        'use strict';
        $("#datagrid").jqGrid({
            url: "json-table",
            datatype: "json",
            colNames:['fName','lName'],
            colModel:[
                {name:'fName',index:'fName', key:true, width:100,editable:true,editoptions:{size:10}},
                {name:'lName',index:'lName', width:100,editable:true},
            ],
            rowNum:10,
            rowList:[3,6],
            loadonce: true,
            pager: '#navGrid',
            sortname: 'fName',
            sortorder: "asc", 
            height: "auto", //210,
            width:600,
            onSelectRow: function(id) {
                var getID = $(this).jqGrid('getCell', id, 'fName');
            },
            viewrecords: true,
            caption:"JQ GRID"
        });
    });
</script> 
```

任何帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:16:58.513

您只需要包含`jsonReader`与输入数据格式相对应的参数：

```
jsonReader: {root: "userList", repeatitems: false} 
```

请参阅[演示](http://www.ok-soft-gmbh.com/jqGrid/Abinaya.htm)。

# php - Yii DATE 字段格式表单

> ID：13245244
> 
> 赞同：0
> 
> 时间：2012-11-06T05:58:44.420
> 
> 标签：php, yii

我的 MySQL 有`birthdate DATE`用户字段。但在表格中，它显示为一个简单的文本字段。

```
<?=echo $form->textField($model,'birthday')?> 
```

有什么方法可以让 Yii 识别日期和格式 3 选择字段日/月/是吗？我使用了 cakephp，它是自动完成的，对开发有很大帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:21:27.497

不，Yii 没有自动执行此操作的方式。最简单的方法是在控制表单的模型中再添加 3 个字段，例如：

```
date_year
date_month
date_day 
```

您可以设置规则来处理模型中的范围/限制/类型。然后，您可以在表格上使用这 3 个模型作为测试输入。提交表单后（很可能是您的控制器/操作），您可以连接 3 个新模型属性以形成原始模型属性的字符串/时间戳：

```
$model->birthdate = $model->date_year."/".$model->date_month."/".$model->date_day 
```

另一种选择是使用[jQuery UI datepicker](http://jqueryui.com/datepicker/)（默认内置在 Yii 中）

# asp.net - 我们如何使用 itextsharp 随时间创建 pdf 文件名

> ID：13245248
> 
> 赞同：0
> 
> 时间：2012-11-06T05:59:24.757
> 
> 标签：asp.net, c#-4.0

我们如何使用 itextsharp 在 asp.net 中随时间创建 pdf 文件，因为我通过很短的时间它会创建一个异常我使用此代码作为文件名

```
 filename = "Invoice" + _InvoiceNumber + DateTime.Now.ToShortTimeString() + ".pdf"; 
```

我需要在此代码中更改的内容我希望我的 pdf 文件名为

发票06-7.00AM

等待你的回复

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:02:37.497

指定日期时间格式“dd-H.mmtt”

在哪里

```
dd - Date
H  - Hours
mm - Minutes
tt - AM or PM 
```

尝试类似：

```
filename = "Invoice" + _InvoiceNumber 
                     + DateTime.Now.ToString("dd-H.mmtt");
                     + ".pdf"; 
```

# jsp - 在文件下载中生成警报

> ID：13245250
> 
> 赞同：0
> 
> 时间：2012-11-06T05:59:39.330
> 
> 标签：jsp, struts, struts-1

我在 JSP 中使用以下代码从服务器下载文件。

JSP 代码：

```
<bean:write name="ab" property="status" /> <!-- returns the status (Available/notAvailable) -->

<a href="<%=url%>/ABC/download.jsp?Path=<%=filePath%>&fileName=${CustomerRegistrationForm.vendorId}_certificate.pdf" style="text-decoration:none">Click Here</a> 
```

单击链接后从服务器下载文件（如果文件不存在，则它也会下载，当然格式已损坏）。如果文件存在，它工作正常。

如果状态可用，我想使文件可供下载，如果文件不可用，则显示警告消息。我尝试使用`<logic:match>`标签，但我无法弄清楚。我正在使用struts框架。我也尝试编写一个javascript函数，但这也不起作用。谁可以帮我这个事。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T11:31:02.527

如果您获得了可用`status`的`boolean`ie`true`和`false`其他方式。

您可以做的事情如下：

```
<c:choose>
    <c:when test="${status}">
        <a href="<%=url%>/ABC/download.jsp?Path=<%=filePath%>&fileName=${CustomerRegistrationForm.vendorId}_certificate.pdf" style="text-decoration:none">Click Here</a>
    </c:when>
    <c:otherwise>
        <a href="javascript: alert('File is not available');" style="text-decoration:none">Click Here</a>
    </c:otherwise>
</c:choose> 
```

如果`status`是 a`String`那么只需更改此逻辑：`<c:when test="${status eq 'Available'}">`.

# javascript - 谷歌地图 api 在谷歌浏览器扩展中不起作用

> ID：13245251
> 
> 赞同：3
> 
> 时间：2012-11-06T05:59:48.377
> 
> 标签：javascript, jquery, google-maps, google-maps-api-3, google-chrome-extension

我正在使用 JavaScript、HTML、CSS 制作谷歌浏览器扩展。为此，我需要读取用户提供的地址的经度和纬度。在测试我的扩展时，我一直在错误以下

![错误](../Images/74c04a693054bc0dd2d3d835f262504f.png)

这是我的js代码

```
result: {
            data: function (from, to, hrs, mins) {
                fromaddress     = from;
                toaddress   = to;
                hours       = hrs;
                minutes     = mins;

                View.result.readLatLng();
            },

            readLatLng: function () {
                //var addressone = document.getElementById("addressone").value;
                geocoder    = new google.maps.Geocoder();
                geocoder.geocode( { 'address': fromaddress}, function(results, status) {
                  if (status == google.maps.GeocoderStatus.OK) {
                    var latitude = results[0].geometry.location.latitude;
                    var longitude = results[0].geometry.location.longitude;
                    console.log('lat: ' + latitude + ', lng: ' + longitude);
                  } else {
                    alert("Geocode was not successful for the following reason: " + status);
                  }
                });
            }
        } 
```

这是我的 manifest.json 文件

```
{
  "name": "Name",
  "version": "1.0",
  "manifest_version": 2,
  "background": { 
    "scripts": [
      "js/result.js",
      "js/script.js"
    ] 
  },
  "description": "Desc",
  "browser_action": {
    "default_icon": "images/icon.png",
    "default_title": "Title",
    "default_popup": "html/popup.html"
  },
  "permissions": [ 
    "http://*/",
    "https://maps.google.com/*",
    "https://maps.googleapis.com/*",
    "http://localhost/*",
    "geolocation"
  ],
  "content_security_policy": "script-src 'self' https://maps.googleapis.com https://maps.gstatic.com; object-src 'self'"
} 
```

请帮助我如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:17:59.260

Google Maps API 加载器使用 document.write() 显然 Chrome 扩展中不允许这样做。见[***这里***](http://code.google.com/p/gmaps-api-issues/issues/detail?id=4201)：

> 我在我的 Google Chrome 扩展程序中使用了你的地图。现在我尝试切换到 Chrome Extension manifest.v2，发现需要使用 Content Security Policy。但是您的代码包含“eval”函数使用和 document.write 来加载脚本，因此您的地图无法初始化。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T02:50:58.417

这是Marcelo 答案*的附录*，因为我还不能发表评论，我的编辑被拒绝了。

`"content_security_policy"`您可以通过添加属性来更改清单文件中的键来规避该问题，`'unsafe-eval'`例如

```
"content_security_policy": "script-src 'self' 'unsafe-eval' https://; object-src 'self'" 
```

[Chrome 扩展内容安全政策探讨](http://developer.chrome.com/extensions/contentSecurityPolicy.html#relaxing-eval)

正如对 Marcelo 的回答的评论中所提到的，Google Maps API 源代码中的 Streetview 代码使用了 document.write()，这是一个类似 eval 的构造。Eval 本质上是不安全的，因此希望 Google 能够通过他们的 Maps API 源代码解决这个问题。

我不确定如果有的话，这可能会如何影响向 Chrome 商店提交扩展程序。但是，我已经在本地解包扩展中成功使用了 Google Maps API。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T06:25:17.197

在构建 Web 应用程序时，我也遇到了 Google Geocoding API 的问题。我可以立即看到您的代码的一个潜在问题涉及如何获得 lat 和 lng。

试试这个：

```
var latitude = results[0].geometry.location.lat();
var longitude = results[0].geometry.location.lng(); 
```

# c# - 在 Excel 2007 中获取范围

> ID：13245252
> 
> 赞同：0
> 
> 时间：2012-11-06T05:59:49.040
> 
> 标签：c#, .net, excel, oledb

> **可能重复：**
> [通过 OLEDB 为 Excel 数据着色](https://stackoverflow.com/questions/13231608/excel-data-coloring-via-oledb)

请找到以下编码

```
OleDbCommand cmd = new OleDbCommand("Select * from [" + txtsheet.Text + "] WHERE [ASSET    NUM] = " + asset + "", con);
 OleDbDataReader rdr = cmd.ExecuteReader();
 OleDbDataAdapter da = new OleDbDataAdapter(cmd);
 int x = cmd.ExecuteNonQuery(); 
```

在此之后我需要在 excel 中获取所选单元格的范围

请帮我编码

提前致谢

问候

马亨德兰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:04:37.050

您可以使用它来获取范围：-

```
Microsoft.Office.Interop.Excel.Application ExApp = Globals.ThisAddIn.Application as Microsoft.Office.Interop.Excel.Application;
Microsoft.Office.Interop.Excel.Range SelectedRange = ExApp.Selection as Microsoft.Office.Interop.Excel.Range; 
```

# javascript - 执行自动完成后如何从列表中删除所选项目？

> ID：13245253
> 
> 赞同：0
> 
> 时间：2012-11-06T05:59:50.067
> 
> 标签：javascript, jquery-ui, autocomplete

我已经使用 实现了一个自动完成事件`Jquery`，它工作正常，现在我需要在我选择的列表中实现**删除**或**删除**功能。请看下面的代码。

```
 $(function() {
      function log( message ) {
        $( "<div>" ).text( message ).prependTo( "#log" );
        $( "#log" ).scrollTop( 0 );
    }

    $( "#poolName" ).autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "/DataWeb/getPoolName",
                type : 'post',
                dataType: 'json',
                data: { name_startsWith: request.term },
                success: function( data ) {
                    console.log(data);
                     response( $.map( data, function( item ) {
                        return {
                             label: item.poolName,
                             value: item.poolName
                        }
                    })); 
                }
            });
        },
        minLength: 2,
        select: function( event, ui ) {
            log( ui.item ?
                "Selected: " + ui.item.label :
                "Nothing selected, input was " + this.value);
        },
        open: function() {
            $( this ).removeClass( "ui-corner-all" ).addClass( "ui-corner-top" );
        },
        close: function() {
            $( this ).removeClass( "ui-corner-top" ).addClass( "ui-corner-all" );
        }
    });
}); 
```

* * *

例如：在文本框中，如果我输入“a”，我会得到以“a”开头的名称列表，然后选择 5 个以“a”开头的名称。它将存储在“日志”ID 中。泳池名称：

```
 <div style="margin-top: 2em; font-family: serif; font-size: medium;"> Result: 
                 <div> <fieldset id="log" style="height: 200px; width: 300px; overflow: auto;"> </fieldset> </div> 
            </div> 
        </div>
    </form> 
```

现在，如果我想删除选定的名称之一，我需要如何实施？谁能帮忙？？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:42:58.497

将您的功能更改`log`为：

**注意：**这会在每条消息前面添加一个“删除”按钮，单击该按钮将删除该消息。

```
function log( message ) {
    var _m = '<div style="float:left;">' + message + '</div>';
    _m += '<div style="float:right;"><input type="submit" value="Remove"></div>';
    _m += '<div style="clear:both;"></div>';

    $( "<div>" ).html( _m ).prependTo( "#log" ).click(function(o){
        $(this).remove();
    });
    $( "#log" ).scrollTop( 0 );
} 
```

希望这可以帮助。

# java - Tomcat Ajax - 从哪里开始阅读？

> ID：13245257
> 
> 赞同：0
> 
> 时间：2012-11-06T06:00:09.157
> 
> 标签：java, jquery, ajax, tomcat6, polling

我正在尝试用 Java 开发一个简单的基于 Web 的聊天程序。我正在使用 spring、tomcat、hibernate、javascript、ajax 和 jquery。我对所有这些技术都是新手。[我在这里](https://stackoverflow.com/questions/13226994/java-tomcat6-how-to-automatically-refresh-page-when-a-data-is-added)问了一个问题就这样。我得到了很多答案/建议。一个建议是使用 WebServerSocket 但问题是我认为 tomcat6 不支持它。由于某些原因，我必须坚持使用 tomcat6。我得到了学习 ajax 轮询的建议。我现在正在阅读它，据我所知，它有一些时间间隔来获取另一个查询。如果服务器注意到客户端上传/发布数据到服务器，有没有办法让我的程序获取查询？另一个问题是，Skype 是否使用轮询？如果轮询在获取数据时有间隔，是否会导致我的服务器出现流量？请耐心向我解释，因为我相信有很多我误解了民意调查的概念。请赐教。我读了很多关于轮询、彗星、jms 的文章，我的大脑已经很困惑了。我花了将近 8 个小时，我几乎无法掌握这些概念。请帮助并建议我从哪里开始。我是个新手。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:03:33.773

我认为最接近的解决方案是使用一种名为[COMET](http://www.javaworld.com/javaworld/jw-03-2008/jw-03-asynchhttp.html)的技术。简而言之，您调用挂起您的呼叫的服务器，直到事件发生，因此当呼叫返回时，您再次开始一个新的呼叫，依此类推。在每个请求中，您都可以收到事件详细信息。您必须在服务器上仔细实现它，也许您需要研究如何使用 tomcat 进行 COMET，因为这种技术可能会损害可伸缩性。

# cuda - HANDLE_ERROR 在 Cuda 中未找到错误

> ID：13245258
> 
> 赞同：11
> 
> 时间：2012-11-06T06:00:10.590
> 
> 标签：cuda

```
__global__ void add( int a, int b, int *c ) { 
    *c = a + b;
}
int main( void ) {
int c;
int *dev_c;
HANDLE_ERROR( cudaMalloc( (void**)&dev_c, sizeof(int) ) );
add<<<1,1>>>( 2, 7, dev_c );
HANDLE_ERROR( cudaMemcpy( &c, dev_c, sizeof(int), cudaMemcpyDeviceToHost ) ); 
printf( "2 + 7 = %d\n", c );
cudaFree( dev_c );
} 
```

这是代码。正在生成 HANDLE_ERROR not found 错误。我不知道如何解决它。试图抓取一些头文件，但无法弄清楚......

任何帮助请！

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2012-11-06T06:05:38.300

如果我不得不猜测，我会说您使用的是 CUDA By Example 一书，它定义了`HANDLE_ERROR`如下宏：

```
static void HandleError( cudaError_t err,
                         const char *file,
                         int line ) {
    if (err != cudaSuccess) {
        printf( "%s in %s at line %d\n", cudaGetErrorString( err ),
                file, line );
        exit( EXIT_FAILURE );
    }
}
#define HANDLE_ERROR( err ) (HandleError( err, __FILE__, __LINE__ )) 
```

确保此代码出现在您的源代码中的某处，或您的标题中的某处`#include`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-11-07T10:35:16.280

[你可以在这里](https://developer.nvidia.com/cuda-example)下载本书的源代码。

源代码还包含头文件（在 common 文件夹中），其中定义了缺少的宏，并且本书在源代码中引用了这些文件（例如）

```
#include "../common/book.h" 
```

如果链接不可用，请在 Nvidia Developer 网站或 CUDA 网站上搜索书名，您将找到指向该书页面的直接链接，其中可以找到源代码。

# ruby - Ruby 的求和方式？

> ID：13245270
> 
> 赞同：0
> 
> 时间：2012-11-06T06:01:02.357
> 
> 标签：ruby

对我来说，我想不出更好的方法，但我相信有一个。是否有一种红宝石方式（意思是：优雅的方式）来执行以下方法实现？

```
def total(items)
  sum = 0
  items.each do |item|
    sum += item.value
  end
  sum
end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T06:03:20.280

```
items.inject(0) { |memo,item| memo + item.value } 
```

似乎不需要将 0 作为初始值，但如果数组为空，它将返回此初始值。

第二种方法：

```
items.map(&:value).inject(0,:+) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T06:23:27.507

[`map`](http://ruby-doc.org/core-1.9.3/Enumerable.html#method-i-map)获取值，然后[`reduce`](http://ruby-doc.org/core-1.9.3/Enumerable.html#method-i-reduce)使用加法：

```
def total(items)
  items.map(&:value).reduce(:+)
end 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-06T06:03:11.610

例如，您可以这样做

```
items.reduce{|sum, el| sum + el.value} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-06T06:06:23.683

```
def total(items)
  items.inject(0) do |total, item|
    total + item.value
  end
end 
```

# c# - 是否可以将带有 @attributes 的 JSON 序列化为 C# 类

> ID：13245271
> 
> 赞同：1
> 
> 时间：2012-11-06T06:01:08.613
> 
> 标签：c#, json

给定一个简单的 JSON 片段

```
{
    "@attributes" : { 
         "version" : "1.0"
     },
     "item:" : {
         "@attributes" : {
             "name" : "foo",
             "id" : "bar"
          }
     }
} 
```

是否可以将其序列化为 C# 类？使用 json2charp.com 会生成时髦的无效类定义。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T07:04:34.827

看看这个，你可能会发现它很有用——我知道我有[json2csharp](http://json2csharp.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:54:02.590

你可以这样做，只要你有一个看起来与这个 json 对象完全一样的类定义。

```
`class ABC{  
      Attribute attirbute;
      Item item;
}` 
```

但是您必须改变编写 json 的方式或创建其他类。我的意思是这里的“@attribute”指向另一个键值对，而不是单个值。因此，您应该有一个将 version 作为成员的类，在这种情况下，我正在编写它，`Attribute`并且您必须将该类作为`class ABC`.

# android - 我如何使用 json 从 android 发出请求和响应？

> ID：13245272
> 
> 赞同：0
> 
> 时间：2012-11-06T06:01:24.010
> 
> 标签：android, json, api, google-maps, matrix

我是 android json 的新手，我想放置 req 并从 android 中的 google matrix api 服务器获取响应，我想发送 req：

[http://maps.googleapis.com/maps/api/distancematrix/json?origins=Hyderabad,Andhra%20Pradesh,India&destinations=Eluru,Andhra%20pradesh,India&mode=driving&language=fr-FR&sensor=false](http://maps.googleapis.com/maps/api/distancematrix/json?origins=Hyderabad,Andhra%20Pradesh,India&destinations=Eluru,Andhra%20pradesh,India&mode=driving&language=fr-FR&sensor=false)

并且该url返回输出是我想从该结果中提取km值的休闲方式。：

```
{
   "destination_addresses" : [ "Eluru, Andhra Pradesh, Inde" ],
   "origin_addresses" : [ "Hyderabad, Andhra Pradesh, Inde" ],
   "rows" : [
      {
         "elements" : [
            {
               "distance" : {
                  "text" : "330 km",
                  "value" : 330316
               },
               "duration" : {
                  "text" : "5 heures 1 minute",
                  "value" : 18052
               },
               "status" : "OK"
            }
         ]
      }
   ],
   "status" : "OK"
} 
```

如何获取距离值并在应用程序控制台中打印？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T12:38:41.467

在以下显示的方式中，您可以从 JSON 输出中检索 km。

```
JSONObject jobj = new JSONObject(your result);
JSONObject json;
json = jobject;

JSONArray jrowsArray = json.getJSONArray("rows");
for(int i=0;i<jrowsArray.length;i++){

JSONArray jElementsArray = jrowsArray.getJSONArray("elements");
for(int j=0;j<jElementsArray.length;j++){
JSONObject jDistance = jElementsArray.getJSONObject("distance");
String distancekm = jDistance.getString("text");
}

} 
```

# ms-access - 掌握 MS Access 的最佳方法？

> ID：13245273
> 
> 赞同：0
> 
> 时间：2012-11-06T06:01:46.063
> 
> 标签：ms-access, vba

我是 MS Access 世界的新手。我已经工作了几天了。我所做的主要是在网络上寻找解决方案，做一些相关的研究并开始工作。我想知道是否有人可以分享：掌握 MS Access 的最佳方法是什么？有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:32:07.457

虽然这不是基于网络的世界中的日常方法，但我的建议是不要在网络上尝试学习一个软件，因为你会得到一个散弹枪的效果。你会在这里得到一点，那里得到一点，一些好的技术，一些非常差的技术（在你的技能水平上无法知道区别），但更重要的是......你不会获得所需的 CONTEXT帮助您了解产品的各个部分以及它们如何连接成一个整体。

因此，我会得到一本不错的入门级教科书，它通常会引导您理解基本概念，并在每个概念的基础上进行构建，以便您在学习过程中成长为产品。我不再对 Access 做太多，所以我不能推荐一本特定的书，但我发现 O'Reilly ( [http://search.oreilly.com/?q=Access&x=0&y=0](http://search.oreilly.com/?q=Access&x=0&y=0) ) 的范围为纸质和数字格式的好书。

如果您确实想通过网络学习，我建议您进行结构化培训计划，例如 Lynda.com 或 Total Training 提供的培训计划。我在不同的时间都订阅了这两个，虽然我目前是 Lynda 的成员，但 TT 的课程通常也很好。可能还有其他一些，但我不能就这些提供任何第一手建议。

祝你学业顺利。

# jquery - 使用 jQuery 为 div 设置动画并设置限制

> ID：13245277
> 
> 赞同：4
> 
> 时间：2012-11-06T06:02:13.243
> 
> 标签：jquery, jquery-animate

我正在尝试使用外部按钮做一个可滚动的容器，而不使用插件。我有一个名为#feed 的容器，具有固定的宽度和高度，并且溢出隐藏。在里面我有 #feed-inner，它是 560 像素高。有上下箭头可以上下移动#feed-inner，但我需要限制动画，所以#feed-inner 不能移动到0或最大高度（560px）。

```
$('#arrow-next').click(function() {
  $('#feed-inner').animate({
    top: '-=70'
  }, 500, function() {
  });
});
$('#arrow-prev').click(function() {
  $('#feed-inner').animate({
    top: '+=70'
  }, 500, function() {
  });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:26:45.557

您可以使用[$.position 获取](http://api.jquery.com/position/)`#feed-inner`相对于的当前位置的值。有了它，您可以检查位置是否为 0 或最大高度为 560px。代码看起来像这样：`#feed`

```
$('#arrow-next').click(function() {
  $('#feed-inner').animate({
    top: parseInt($('#feed-inner').position().top) == 0 ? '0' : '-=70'
  }, 500, function() {
  });
});
$('#arrow-prev').click(function() {
  $('#feed-inner').animate({
    top: parseInt($('#feed-inner').position().top) == 560 ? '560' : '+=70'
  }, 500, function() {
  });
}); 
```

请注意，`#arrow-next`这将`#feed-inner`向上（使内容看起来像是向下滚动），这似乎与标签“下一个”相反，反之亦然`#arrow-prev`。

还有一点需要注意的是，当`#feed-inner`到达的位置时`560px`，将有一个空白画布，因为元素已完全移动到底部，您将看到一个空`#feed`容器。为避免这种情况，您需要计算`#feed`容器的高度并确保`#feed-inner`不会移动通过 560 -`$(#feed).outerHeight();`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:22:14.920

看起来您只需要在单击函数中添加一些条件语句，不是吗？

```
if($('#feed-inner').position().top >= 70){ 
```

将检查顶部距离是否大于或等于 70。

我不知道您的最大高度值是否是动态的。

```
if($('#feed-inner').position().top <= $('#feed-inner').css('maxHeight').split('px')[0]){ 
```

将检查顶部距离是否小于最大高度。

不幸的是，maxHeight 不能作为原始整数访问，因此我们必须在 上拆分字符串`px`并获取数组的第一组以获取原始整数。

# objective-c - 你在哪里打电话给可达性？

> ID：13245285
> 
> 赞同：5
> 
> 时间：2012-11-06T06:02:32.390
> 
> 标签：objective-c, ios, reachability

我正在尝试在我的应用程序中实现可达性。我有它`applicationDidFinishLaunching`。如果我的连接真的很糟糕并且我启动了应用程序，Reachability 会花费很长时间，并且经常会导致应用程序崩溃并显示`The application failed to launch in time`错误消息。

因此，我尝试将 Reachability 的调用放在后台线程中。但是当我这样做时，我不再收到可达性通知。

我应该在哪里调用可达性？

**编辑**：

`application failed to load in time`我根据下面的建议添加了 TonyMillions 的可达性代码，但是在非常糟糕的网络条件下我仍然会遇到同样的错误。要重现我所看到的内容，请转到 Settings.app -> Developer -> Network Link Conditioner，将其打开并将其设置为 100% 丢失。

您的应用是否仍会在这种情况下加载？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T15:14:16.407

在 Github 上使用 Tony Millions 可达性项目。

[https://github.com/tonymillion/Reachability](https://github.com/tonymillion/Reachability)

然后在我的应用程序委托中，我只是输入了 applicationdidfinishlaunching

```
self.reachability = [Reachability reachabilityForInternetConnection];

[self.reachability startNotifier]; 
```

然后当状态改变时，这将被调用

```
#pragma mark - Reachability

- (void)reachabilityChanged:(NSNotification *)note {

    NetworkStatus ns = [(Reachability *)[note object] currentReachabilityStatus];

    if (ns == NotReachable) {

        if (![self.networkAlert isVisible]) {

            if ([self networkAlert] == nil) {

                UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"\n\nNo Internet Connection" message:@"You require an internet connection to communicate with the server." delegate:nil cancelButtonTitle:nil otherButtonTitles:nil];
                [self setNetworkAlert:alert];
            }

            [self.networkAlert show];  
        }
    } else {

        if ([self networkAlert] != nil) {

            [self.networkAlert dismissWithClickedButtonIndex:0 animated:YES]; 
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:37:20.580

> 因此，我将 Reachability 的调用放在后台线程中。但是当我这样做时，我不再收到可达性通知。

当您在后台线程中调用 Reachability 时，您应该在后台运行循环中安排 Reachability，并确保后台线程运行循环正在运行。

在后台线程中执行：

1.  创建可达性对象，

    可达性 * 可达性 = [可达性reachabilityWithHostName:@"www.google.com"];

2.  [可达性 startNotifier];

3.  [[NSRunLoop currentRunLoop] 运行];

这可能有效，但建议在主线程中调度通知程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T05:49:55.270

TonyMillion 在[GitHub 上](https://github.com/tonymillion/Reachability/issues/23)帮我解决了这个问题。

如果您使用他的 Reachability 替代品，您所要做的就是`startNotifier`像这样包装调用：

```
dispatch_async(dispatch_get_global_queue(0,0), ^{
    [self.internetReach startNotifier];
}); 
```

该应用程序不会在糟糕的网络条件下启动失败，并且您仍然会在主线程上收到通知。

# java - For 循环打印三遍，或者可能是别的东西

> ID：13245286
> 
> 赞同：0
> 
> 时间：2012-11-06T06:02:34.093
> 
> 标签：java, android, for-loop, android-imageview, android-gridview

我正在尝试在 [Gridview 教程问题下方的此链接中更改此答案](https://stackoverflow.com/questions/3276260/gridview-tutorial-problems)

将特定文件夹中的图像显示到 gridview 布局。我确定我把它弄坏了……查看代码和日志猫……

```
 package nsixty.crew.app;

import java.io.File;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.Environment;
import android.util.Log;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.GridView;
import android.widget.ImageView;
import android.widget.Toast;

public class ImageAdapter45 extends BaseAdapter {

    private Context mContext;

    public ImageAdapter45(Context c) {
        mContext = c;
    }

    public int getCount() {
        return mThumbIds();
    }

    public Object getItem(int position) {
        return null;
    }

    public long getItemId(int position) {
        return 0;
    }

    // create a new ImageView for each item referenced by the Adapter
    public View getView(int position, View convertView, ViewGroup parent) {
        ImageView imageView;
        if (convertView == null) { // if it's not recycled, initialize some
                                    // attributes
            imageView = new ImageView(mContext);
            imageView.setLayoutParams(new GridView.LayoutParams(85, 85));
            imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
            imageView.setPadding(8, 8, 8, 8);
        } else {
            imageView = (ImageView) convertView;
        }

//      File path = new File(Environment.getExternalStorageDirectory(),"/Crews/Images/");
//      String paths = null;
//       
//      if(path.exists())
//      {
//          
//      
//      
//      
//      String[] fileNames  = path.list();

        //Log.d("I be mumu", data);

        ///after you use your images
//      System.gc();
        //Bitmap mBitmap = null;
        //for(int i = 0; i < fileNames.length; i++)
        //{
//          Boolean finish = true;
//          
                //paths = (path.getPath() + "/" + fileNames[i]);
//              BitmapFactory.Options opts=new BitmapFactory.Options();
//              opts.inDither=false;                     //Disable Dithering mode
//              opts.inPurgeable=true;        
//              opts.inPurgeable=true;                   //Tell to gc that whether it needs free memory, the Bitmap can be cleared
//              opts.inInputShareable=true;              //Which kind of reference will be used to recover the Bitmap data after being clear, when it will be used in the future
//              opts.inTempStorage=new byte[32 * 1024];

                    //System.gc();

        File path = new File(Environment.getExternalStorageDirectory(),
                "/Crews/Images/");
        String paths = null;
        // String[] fileNames = null ;

        StringBuilder sb = new StringBuilder();

        if (path.exists()) {
            //ArrayList<String> urls = new ArrayList<String>();
            String[] fileNames = path.list();
            //List<String> urls =(Arrays.asList(fileNames));

//          for (int i = 0; i < fileNames.length; i++) {
////                sb.append((path.getPath() + "/" + fileNames[i]) + "\n");
//              paths = ((path.getPath() + "/" + fileNames[i]));
//              urls.add(paths);
//              
//              //Log.v("YELLLO12",urls.toArray().toString());
//               
//              
//              
//          }
//          urls.add(paths);

//          String paths3 = "";
//
//          for (String s : urls)
//          {
//               paths3 += s + "\n";
//               
//              // imageView.setImageBitmap(BitmapFactory.decodeFile((path.getPath() + "/" + paths3)));
//          }
            imageView.setImageBitmap(BitmapFactory.decodeFile((path.getPath() + "/" +fileNames[position])));
            System.gc();
            Log.v("YELLLO1237P",fileNames[position]);

            //imageView.setImageBitmap(BitmapFactory.decodeFile("/mnt/sdcard/Crews/Images/IMG_06_11_2012_01_16_05.jpg"));
            //Log.v("YELLLO300",path.getPath() + "/" +paths3);

            //Bitmap mBitmap = BitmapFactory.decodeFile(paths3);
            //imageView.setImageBitmap(mBitmap);
            //Log.v("YELLLO123",paths);
            //Log.v("YELLLO124ggh",fileNames.toString());

        }
        //path.close();

                // }

            //fos.close();

        return imageView;
    }
    //static String data = ImageAdapter45.data3();

    //static String[] mThumbIds = {data};
//  public static String Pathss(){
//      File path = new File(Environment.getExternalStorageDirectory(),"/Crews/Images/");
//      String paths = null;
//      String[] fileNames = null ;
//      
//      StringBuilder sb = new StringBuilder();
//      if(path.exists())
//      {
//          fileNames = path.list();
//          
//          for(int i = 0; i < fileNames.length; i++)
//          {
//              sb.append((path.getPath()+"/"+ fileNames[i]));
//              paths = sb.toString();
//          }
//          
//      }
//      return paths.trim();
//  }

    public Integer mThumbIds() {
        File path = new File(Environment.getExternalStorageDirectory(),"/Crews/Images/");
        //String paths = null;
        String[] fileNames = null ;
        if(path.exists())
        {
            fileNames = path.list();

        }

        return fileNames.length;

        //Log.d("I be mumu", data);

//      StringBuilder sb = new StringBuilder();
//      for(int i = 0; i < fileNames.length; i++)
//      {
//          //Boolean finish = true;
//          //if (finish == true){
//              String  paths = (path.getPath() + "/" + fileNames[i]);
//              sb.append
//              //Log.d("o men see fuckup", paths);
//              
//              // }
//          //fos.close();
//          
//      
//      }
//      

    }

    // references to our images

} 
```

图像有时会打印相同的图像..有时不显示，log.d 会打印三遍路径。有时我的 Bitmap 内存过大或 Vm 内存已满（这不是我的直接问题） log cat 下面

```
11-06 05:58:43.282: I/dalvikvm(1474): Could not find method android.widget.LinearLayout.setAlpha, referenced from method com.actionbarsherlock.internal.nineoldandroids.widget.NineLinearLayout.setAlpha
11-06 05:58:43.282: W/dalvikvm(1474): VFY: unable to resolve virtual method 3671: Landroid/widget/LinearLayout;.setAlpha (F)V
11-06 05:58:43.282: D/dalvikvm(1474): VFY: replacing opcode 0x6f at 0x000a
11-06 05:58:43.282: D/dalvikvm(1474): VFY: dead code 0x000d-000d in Lcom/actionbarsherlock/internal/nineoldandroids/widget/NineLinearLayout;.setAlpha (F)V
11-06 05:58:43.282: I/dalvikvm(1474): Could not find method android.widget.LinearLayout.setTranslationX, referenced from method com.actionbarsherlock.internal.nineoldandroids.widget.NineLinearLayout.setTranslationX
11-06 05:58:43.282: W/dalvikvm(1474): VFY: unable to resolve virtual method 3677: Landroid/widget/LinearLayout;.setTranslationX (F)V
11-06 05:58:43.282: D/dalvikvm(1474): VFY: replacing opcode 0x6f at 0x000a
11-06 05:58:43.282: D/dalvikvm(1474): VFY: dead code 0x000d-000d in Lcom/actionbarsherlock/internal/nineoldandroids/widget/NineLinearLayout;.setTranslationX (F)V
11-06 05:58:43.392: W/KeyCharacterMap(1474): No keyboard for id -1
11-06 05:58:43.402: W/KeyCharacterMap(1474): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
11-06 05:58:43.462: I/dalvikvm(1474): Could not find method com.actionbarsherlock.internal.view.menu.ActionMenuItemView.onHoverEvent, referenced from method com.actionbarsherlock.internal.view.menu.ActionMenuItemView.dispatchHoverEvent
11-06 05:58:43.462: W/dalvikvm(1474): VFY: unable to resolve virtual method 5030: Lcom/actionbarsherlock/internal/view/menu/ActionMenuItemView;.onHoverEvent (Landroid/view/MotionEvent;)Z
11-06 05:58:43.462: D/dalvikvm(1474): VFY: replacing opcode 0x6e at 0x0006
11-06 05:58:43.462: D/dalvikvm(1474): VFY: dead code 0x0009-0009 in Lcom/actionbarsherlock/internal/view/menu/ActionMenuItemView;.dispatchHoverEvent (Landroid/view/MotionEvent;)Z
11-06 05:58:43.502: I/dalvikvm(1474): Could not find method android.widget.LinearLayout.onPopulateAccessibilityEvent, referenced from method com.actionbarsherlock.internal.view.menu.ActionMenuItemView.onPopulateAccessibilityEvent
11-06 05:58:43.502: W/dalvikvm(1474): VFY: unable to resolve virtual method 3667: Landroid/widget/LinearLayout;.onPopulateAccessibilityEvent (Landroid/view/accessibility/AccessibilityEvent;)V
11-06 05:58:43.502: D/dalvikvm(1474): VFY: replacing opcode 0x6f at 0x0006
11-06 05:58:44.163: D/dalvikvm(402): GC_EXPLICIT freed 2K, 54% free 2538K/5511K, external 410K/517K, paused 13074ms
11-06 05:58:44.231: I/ActivityManager(61): Displayed nsixty.crew.app/.ViewPagerFragment: +8s985ms
11-06 05:58:53.015: D/SntpClient(61): request time failed: java.net.SocketException: Address family not supported by protocol
11-06 05:58:53.692: D/dalvikvm(140): GC_EXPLICIT freed 101K, 47% free 3193K/6023K, external 1597K/1823K, paused 2707ms
11-06 05:59:26.372: I/ActivityManager(61): Starting: Intent { act=nsixty.crew.app.GridView34 cmp=nsixty.crew.app/.GridView34 } from pid 1474
11-06 05:59:27.082: V/YELLLO300(1474): /mnt/sdcard/Crews/Images/IMG_06_11_2012_01_16_05.jpg
11-06 05:59:27.082: V/YELLLO300(1474): IMG10_10_2012_01_55_03.jpg
11-06 05:59:27.221: V/YELLLO300(1474): /mnt/sdcard/Crews/Images/IMG_06_11_2012_01_16_05.jpg
11-06 05:59:27.221: V/YELLLO300(1474): IMG10_10_2012_01_55_03.jpg
11-06 05:59:27.241: V/YELLLO300(1474): /mnt/sdcard/Crews/Images/IMG_06_11_2012_01_16_05.jpg
11-06 05:59:27.241: V/YELLLO300(1474): IMG10_10_2012_01_55_03.jpg
11-06 05:59:27.291: V/YELLLO300(1474): /mnt/sdcard/Crews/Images/IMG_06_11_2012_01_16_05.jpg
11-06 05:59:27.291: V/YELLLO300(1474): IMG10_10_2012_01_55_03.jpg
11-06 05:59:27.962: I/ActivityManager(61): Displayed nsixty.crew.app/.GridView34: +1s395ms 
```

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:30:26.577

可能是因为你正在使用

```
File path = new File(Environment.getExternalStorageDirectory(),
                "/Crews/Images/"); 
```

在 getview... Getview 将运行您在 listview 中有多少项目，并且每当您滚动它时，您的 getview 将再次加载。它像循环一样工作。试着在它之外做你的图像工作。试试看。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:39:43.373

（评论转换为答案）

我猜主要问题（除了`OutOfMemory`错误）是不正确的`getView`，它与位置无关。替换`paths3`为已`fileNames[position]`修复的。

请注意，您还可以`fileNames`在 ImageAdapter45 构造函数中检索一次，然后在`mThumbIds()`和`getView()`

# android - RangeSeekBar 中没有此类方法异常

> ID：13245287
> 
> 赞同：0
> 
> 时间：2012-11-06T06:02:38.860
> 
> 标签：android, seekbar, nosuchmethoderror

我已经提到[RangeSeekBar](http://code.google.com/p/range-seek-bar/)用两个拇指来实现 Seekbar。

我在日志中收到以下错误：

```
Caused by: java.lang.NoSuchMethodException: RangeSeekBar(Context,AttributeSet) 
```

如果我尝试在其中添加以下方法，则会`RangeSeekBar.java`收到错误消息：*空白的最终字段 numberType 可能尚未初始化*

```
public RangeSeekBar(Context context, AttributeSet attrs) {
 super(context, attrs);
 } 
```

我从几个小时开始就头疼，但还没有找到任何富有成效的解决方案。

任何帮助表示赞赏。
也欢迎使用两个拇指实现 SeekBar 的任何其他方式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:07:34.927

android 中的任何自定义视图都应该有一个像你写的那样的构造函数。所以，留着吧。问题是，你的类中有一个 final 字段，应该在构造函数中初始化。因此，从该变量中删除 final 修饰符，或将其设置为构造函数中的某个值。

**关于 RangeSeekBar：**
这个类使用泛型类型来检测你想要使用的数字类型（float、double 或只是 int 值）。因此，不要将其作为视图放在 xml 布局文件中，并将其添加到如下代码中：

```
someViewGroup.addView(new RangeSeekBar<Integer>(0, 10, context)); 
```

这`someViewGroup`是您要放入其中的视图`RangeSeekBar`。（它的父母）。

# ruby-on-rails - 为现有应用程序编写测试用例（Rspec）

> ID：13245289
> 
> 赞同：6
> 
> 时间：2012-11-06T06:02:48.863
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rspec, tdd

作为 Rspec 菜鸟，我不知道这个问题有意义。但是我真的很困惑，无法解决这个问题。

> 我们有一个新要求，要求我们为现有项目编写 Rspec 测试用例。他们已经有使用 rails3 的应用程序，但他们希望现在就编写 rspec 案例

我的问题是

> 为现有应用程序编写 Rspec 案例有意义吗？
> 
> 我们可以为已经工作的项目编写规范吗
> 
> 我们是否应该遵循任何准则来为已编写的应用程序编写规范

谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-06T06:45:45.407

正如 dpassage 正确指出的那样，您的问题与 rspec 无关。这是关于对遗留代码进行单元测试。

> 为现有应用程序编写 Rspec 案例有意义吗？我们可以为已经工作的项目编写规范吗

是的。最好在编写应用程序之前先编写测试。写测试永远不会太晚，晚开始也没有坏处。测试遗留代码：向遗留代码[添加单元测试](https://stackoverflow.com/questions/1541568/adding-unit-tests-to-legacy-code)

> 我们是否应该遵循任何准则来为已编写的应用程序编写规范

**我的两分钱：**

*   逐步添加测试

*   首先测试应用程序中最重要的部分。即首先开始编写单元测试并关注重要的模型（而不是所有模型）。一旦你测试了你的模型，就会转移到功能测试（控制器）和集成测试。**记住：**要吃一头大象，我们需要一次吃一块。

*   如果您现有的模型难以编写测试，则意味着您需要重构代码。重构以使您的模型易于测试。

*   始终从现在开始为新模型/实现编写单元测试。

有用的参考资料：

*   TDD 示例 - Kent beck [book](http://books.google.de/books/about/Test_Driven_Development.html?hl=de&id=gFgnde_vwMAC)
*   有效测试： http: [//www.confreaks.com/videos/917-railsconf2012-testing-best-practices-or-the-five-habits-of-highly-effective-tests](http://www.confreaks.com/videos/917-railsconf2012-testing-best-practices-or-the-five-habits-of-highly-effective-tests)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-06T06:19:54.173

将测试用例添加到现有代码中绝对有意义；随着未来的增强和错误修复，它将有助于保持应用程序正常工作。

这并没有什么`rspec`特别之处。它只是一个测试框架，使您能够以多种不同的方式测试您的代码。

有大量关于为遗留代码编写测试的文献。结合诸如 The Rspec Book 之类的良好文档，您应该能够开始使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-12T04:31:15.300

我写了这个宝石[https://rubygems.org/gems/autogen_rspec](https://rubygems.org/gems/autogen_rspec)。

所以这个宝石的功能是完整的，但我觉得它需要一些抛光。

这个怎么运作？因此，在我们安装了这个 gem 并运行了一个服务器之后，gem 开始记录所有的请求、响应和断言 rspec 样式。因此，如果您将其安装在 QA 环境中，并且 QA 团队将测试回归，则所有 URL 都将记录到包含响应的文件中。

您可以选择需要选择存储在测试文件中的测试。

# c# - 如何从 Windows 窗体获取输出到类？

> ID：13245296
> 
> 赞同：0
> 
> 时间：2012-11-06T06:03:20.223
> 
> 标签：c#, windows, c#-4.0, c#-3.0

我想从 Windows 窗体获取输出到作为类库的调用应用程序。

```
Form1 f=new Form1();
f.Show();
if(f.PropertyName!=null)
{
} 
```

f.PropertyName 始终为空。在 f.show() 之后，它直接运行 if () 条件。有没有办法从form1获取输出？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T06:05:58.017

`Show()`是非阻塞的。使用`ShowDialog()`，或将委托添加到`FormClosing()`您的表单事件并将您的`if()`逻辑移动到其中。

**编辑：**

这是结束事件的 lambda“委托”示例：

```
f.FormClosing += (sender, e) => { /* your code here */ }; 
```

**编辑2：**您是否处理`FormClosed()`或`FormClosing()`取决于您的特定需求。如果您想在“坏”值上取消表单关闭，`FormClosing()`让您取消表单关闭。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T06:06:30.893

您可能想使用 ShowDialog() 而不是 Show()。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T06:20:59.130

```
Form1 f=new Form1();
if(f.ShowDialog() == DialogResult.OK)
{
  if(f.PropertyName!=null)
  {
  }
} 
```

# jquery - 使用 AJAX、Jquery 和 Codeigniter 帮助的动态下拉菜单：Firebug 不显示错误

> ID：13245299
> 
> 赞同：1
> 
> 时间：2012-11-06T06:03:28.053
> 
> 标签：jquery, ajax, codeigniter

我无法让 ajax 与我的“动态组合框”一起工作。首先是代码：视图：

```
<?php echo form_open('control_form/add_all'); ?>
    <label for="make">State<span class="red">*</span></label>
    <select id="make" name="make" >
        <option value=""></option>
        <?php
        foreach($makeOptions->result() as $make){
            echo '<option value="' . $make->make_id . '">' . $make->make . '</option>';
        }
        ?>
    </select>
    <label for="model">City<span class="red">*</span></label>
    <!--this will be filled based on the tree selection above-->
    <select id="model" name="model"> 
        <option value=""></option>
    </select>
    <label for="f_membername">Member Name<span class="red">*</span></label>
    <!--<input type="text" name="f_membername"/>-->
    <?php echo form_close(); ?> 
```

视图控制器：

```
 function dropDown(){
         if ($this->ion_auth->requireAdmin())         
        $data = array('title' => 'DropDown', 'main_content' =>     'admin/dropDown');        
        $data['makeOptions'] = $this->vehicle_model->getMake(Null, Null);
        $data['modelOptions'] = $this->vehicle_model->getModel(Null, Null, NULL, Null);            
        $this->load->view('admin/includes/template', $data);          
} 
```

Ajax 控制器：

```
 function get_model($make){    
    header('Content-Type: application/x-json; charset=utf-8');
    echo(json_encode($this->vehicle_model->getModelByMake ($make)));
} 
```

jQuery：

```
$('#model').hide();
 $('#make').change(function(){
var make_id = $('#make').val();
if (make_id != ""){
    var post_url = "http://pulsedrivers.com/admin/get_model/" + make_id;
    $.ajax({
        type: "POST",
         url: post_url,
         success: function(models) //we're calling the response json array 'cities'
          {
            $('#model').empty();
            $('#model').show();
               $.each(models,function(model_id,model) 
               {
                var opt = $('<option />'); // here we're creating a new select option for each group
                  opt.val(model_id);
                  opt.text(model);
                  $('#model').append(opt); 
            });
           } //end success
     }); //end AJAX
} else {
    $('#model').empty();
    $('#model').hide();
}//end if
}); //end change 
```

模型（由 get_model 控制器使用）：

```
function getModelByMake ($make, $tree = null){
    $this->db->select('model_id, model, make_id');

    if($tree != NULL){
        $this->db->where('make_id', $make);
    }
        $this->db->where('make_id', $make);
    $query = $this->db->get('model');
    $models = array();

    if($query->result()){
        foreach ($query->result() as $model) {
            $models[$model->model_id] = $model->model;
        }
        return $models;
    } else {
        return FALSE;
    }
} 
```

该视图包含两个下拉列表，一个显示品牌，另一个显示相应的模型。选择品牌后，模型不显示。Firebug 在此过程中不显示任何错误。

事情已经检查：jquery 工作，脚本加载。

控制器 get_models 返回一个像 1:Corvette, 2:Camaro 这样的数组，因此它看起来也可以正常工作。

任何帮助将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T08:55:33.357

您的问题的简单答案是您在模型中复制一个方法意味着您在模型中定义了两次方法，或者您的模型代码中存在语法错误。尝试在没有 ajax 的情况下调用模型方法只是为了进行测试，您将看到错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T05:49:19.343

原来我的脚本不正确。以供将来参考 myseleft 到 jquery 和 ajax 之类的新手。如果您希望脚本在页面打开时开始，请使用以下函数包装您的代码：

```
 $(document).ready(function(){
 }); 
```

此外，与 Codeigniter 相关，将 CSFR Token 设置为 false。（仅用于开发目的，一旦上线，出于安全原因，您需要将其设置为 true）。我现在需要查看如何在 CSFR 令牌设置为 true 的情况下使用我的脚本。

# iphone - NSString 的 Base64 编码

> ID：13245300
> 
> 赞同：4
> 
> 时间：2012-11-06T06:03:29.487
> 
> 标签：iphone, ios, base64, nsmutableurlrequest

我正在尝试将用户名和密码发布到服务器。我想将此用户名和密码转换为 Base64 编码。所以这个编码字符串将被添加到授权字段。

是否已经有任何 API 可用于在 iOS 中进行 Base64 编码，或者我们自己编写？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T06:40:39.060

这可以通过实现base64转换的类方法来完成，下面的代码用于转换..

```
+ (NSString*)base64forData:(NSData*)theData 
{
    const uint8_t* input = (const uint8_t*)[theData bytes];
    NSInteger length = [theData length];

    static char table[] = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";

    NSMutableData* data = [NSMutableData dataWithLength:((length + 2) / 3) * 4];
    uint8_t* output = (uint8_t*)data.mutableBytes;

    NSInteger i;
    for (i=0; i < length; i += 3) {
        NSInteger value = 0;
        NSInteger j;
        for (j = i; j < (i + 3); j++) {
            value <<= 8;

            if (j < length) {
                value |= (0xFF & input[j]);
            }
        }

        NSInteger theIndex = (i / 3) * 4;
        output[theIndex + 0] =                    table[(value >> 18) & 0x3F];
        output[theIndex + 1] =                    table[(value >> 12) & 0x3F];
        output[theIndex + 2] = (i + 1) < length ? table[(value >> 6)  & 0x3F] : '=';
        output[theIndex + 3] = (i + 2) < length ? table[(value >> 0)  & 0x3F] : '=';
    }

    return [[[NSString alloc] initWithData:data encoding:NSASCIIStringEncoding] autorelease];
} 
```

并在您的 URL 请求中添加以下代码以发送用户名和密码以进行授权...

[请求 addValue:[NSString stringWithFormat:@"Basic %@",[className base64forData:[[NSString stringWithFormat:@"%@:%@",UsernameString,passwordString] dataUsingEncoding: NSUTF8StringEncoding]]] forHTTPHeaderField:@"Authorization"] ;

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T06:08:25.180

[如何在 iphone-sdk 上进行 base64 编码？](https://stackoverflow.com/questions/392464/any-base64-library-on-iphone-sdk/800976#800976)

看看这个。

然后使用这些方法利用上述方法（在链接中给出） [将 NSString 转换为 Base64 数据以](https://stackoverflow.com/questions/4838263/converting-nsstring-to-base64-data-for-xml-serialization) 进行从上述链接获取的 XML 序列化。

```
+ (NSString *)toBase64String:(NSString *)string {
NSData *data = [string dataUsingEncoding: NSUnicodeStringEncoding];

NSString *ret = [NSStringUtil base64StringFromData:data length:[data length]];

return ret;
}

+ (NSString *)fromBase64String:(NSString *)string {
NSData  *base64Data = [NSStringUtil base64DataFromString:string];

NSString* decryptedStr = [[NSString alloc] initWithData:base64Data encoding:NSUnicodeStringEncoding];

return [decryptedStr autorelease];
} 
```

# git - 是否可以将未跟踪和忽略的文件与特定分支相关联？

> ID：13245302
> 
> 赞同：1
> 
> 时间：2012-11-06T06:03:32.277
> 
> 标签：git, windows-7

我有一个带有 2 个分支的 git 存储库。我的 .gitignore 将“*.dll”指定为模式之一。

1.  在 中时`branch1`，我复制粘贴`test.dll`到根文件夹中。
2.  然后我使用 . 切换到分支 #2 `git checkout branch2`。

我`branch2`的显示新添加的`test.dll`. 我不希望它出现在`branch2`. 是否可以将这个未跟踪和忽略的文件与 关联`branch1`，以便它只会在我出现时显示`git checkout branch1`？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:09:42.787

这似乎并不容易完成，并且“[使用 git，如何忽略一个分支中的文件但将其提交到另一个分支？](https://stackoverflow.com/a/4044387/6309) ”中提出的解决方案不起作用。

可以[暂时忽略](http://gitready.com/intermediate/2009/02/18/temporarily-ignoring-files.html)

```
git update-index --assume-unchanged README.textile 
```

但这是一个本地设置（它不会`push`像`.gitignore`文件一样传播）

# python - Python-创建一个函数以从未知数量的参数中获取唯一列表

> ID：13245305
> 
> 赞同：1
> 
> 时间：2012-11-06T06:03:43.540
> 
> 标签：python, function, unique

python的新手-有人可以告诉我我做错了什么吗？

我需要编写一个函数，它接受未知数量的参数并返回一个唯一列表。例如：

```
a= ['mary', 'james', 'john', 'john']
b= ['elsie', 'james', 'elsie', 'james']

unique_list(a,b)

['mary', 'james','john', 'elsie'] 
```

这是我做一些研究后的一些代码，但输出不是我需要的：

```
def unique_list:(*something)
    result1= list(something)
    result = ' '.join(sum(result1, []))
    new= []
    for name in result:
            if name not in new:
                           new.append(name)
    return new 
```

```

>>> 唯一列表（a，b）
['m'，'a'，'r'，'y'，''，'j'，'e'，'s'，'o'，'h'，'n'，'l'，'i ']

```

这是我厌倦的另一个：

```
def unique_list(*something):
    result= list(something) 
    new=[]
    for name in result:
        if name not in new:
            new.append(name)
    return new 
```

```
>>> 唯一列表（a，b）
[['mary', 'james', 'john', 'john'], ['elsie', 'james', 'elsie', 'james']]

```

另一个，但我收到一条错误消息：

```
def single_list(*something):
    new=[]
    for name in something:
        if name not in new:
            new.append(name)
    new2= list(set(new))
    return new2 
```

```
>>> single_list(a,b)
回溯（最近一次通话最后）：
  文件“”，第 1 行，在
    单列表（a，b）
  文件“”，第 6 行，在 single_list 中
    new2= 列表（设置（新））
类型错误：不可散列类型：“列表”

```

有任何想法吗？预先感谢您的所有帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T06:07:02.117

您可以使用[`set`](http://docs.python.org/2/library/stdtypes.html#set)：

```
def unique_list(a, b):
    return list(set(a + b)) 
```

对于未知数量的参数，您可以将所有列表与 a 一起添加[`reduce`](http://docs.python.org/2/library/functions.html#reduce)：

```
import operator
def unique_list(*args):
    return list(set(reduce(operator.add, args))) 
```

这输出：

```
>>> a= ['mary', 'james', 'john', 'john']
>>> b= ['elsie', 'james', 'elsie', 'james']
>>> unique_list(a, b)
['james', 'john', 'mary', 'elsie'] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T06:17:15.577

您想要未知数量的参数：

```
In [73]: import itertools

In [74]: def func(*args):
    ...:     return set(itertools.chain(*args))

In [75]: func([1,2,3,4],[3,4,5],[1,2])
Out[75]: set([1, 2, 3, 4, 5]) 
```

或没有 itertools：

```
In [77]: def func2(*args):
    ...:     setlist=[set(i) for i in args]
    ...:     return set.union(*setlist)

In [78]: func2([1,2,3,4],[3,4,5],[1,2])
Out[78]: set([1, 2, 3, 4, 5]) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-06T06:33:00.313

在你第二次尝试时，你几乎做对了。

实际上，在那部分代码中，您将每个列表视为一个元素。您可能想考虑列表中的每个元素。所以你的代码可能是：

```
def unique_list(*something):
    result= list(something) 
    new=[]
    for names in result:
        for name in names:
            if name not in new:
                new.append(name)
    return new 
```

结果是：

```
['mary', 'james', 'john', 'elsie'] 
```

第三次尝试也是如此。请注意，在这种情况下，从您的列表创建一个集合，然后从该集合创建一个列表可能不会以与原始列表相同的顺序返回元素。

根据您的需要，您还可以使用 itertools.chain()。该功能将是：

```
import itertools

def unique_list(*something):
    return list(set(itertools.chain(*something))) 
```

结果将是（请记住，集合不保持原始顺序）：

```
['james', 'john', 'mary', 'elsie'] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-06T06:07:38.187

您可以连接所有的`lists`，然后`set`从这个结果创建一个`list`。这将适用于函数看起来像的任意数量的传入列表`def unique_lists( *lists )`

```
ret_list = []
for l in lists:
    ret_list = ret_list + l

return set( ret_list ) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-06T08:45:54.490

```
a= ['mary', 'james', 'john', 'john']
b= ['elsie', 'james', 'elsie', 'james']
def unique_list(a, b):
    a.extend(b)
    return list(set(a)) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-06T06:07:52.663

您正在寻找的功能（我认为）是制作一组两个列表的组合，然后再次将其变成一个列表。像这样：

```
list(set(list(a+b))) 
```

给出：`['james', 'john', 'mary', 'elsie']`

# ruby-on-rails - RoR 重复字段

> ID：13245311
> 
> 赞同：0
> 
> 时间：2012-11-06T06:04:39.397
> 
> 标签：ruby-on-rails, ruby-on-rails-3, devise

当必填字段不正确时，页面会重新加载，您会收到不正确的输入字段，并且表单 company_form 中的所有字段都重复。

用户模型（user.rb）：

```
class User < ActiveRecord::Base
  ....
  has_many :companies, :autosave => true
  accepts_nested_attributes_for :companies
  has_and_belongs_to_many :roles
  def role?(role_name)
    return !!self.roles.find_by_name(role_name)
  end
  def with_company
    self.companies.build
    self
  end
end 
```

公司型号：

```
class Company < ActiveRecord::Base
  ...
  belongs_to :user
  ...
end 
```

意见/设计/注册/new.html.haml：

```
= form_for(resource.with_company, :as => resource_name, :url => registration_path(resource_name), :html => { :class => 'form-horizontal'}) do |f|
...
  = f.fields_for :companies do |company_form|
  ...
... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:32:24.090

问题是您的`with_company`方法用于`build`创建新`Company`对象。`build`将自动创建新对象并将其保存到数据库中。因此，每次呈现该表单时，您都会向该表单添加`Company`另一个`User`. 只需点击页面上的重新加载几次，您就会明白我的意思。

我认为解决方法是使用`create`而不是`build`那种方法；这会创建一个新对象，但不会将其保存到数据库中。

不过，更有可能的是，您应该在呈现视图的控制器中执行此操作，而不是在视图本身中。Devise 并不总是让这件事变得简单，但您应该能够创建一个新的控制器，该控制器继承自 Devise 控制器并添加您需要的内容。我在[这里](https://github.com/myfairelection/myfairelection/blob/master/app/controllers/users/registrations_controller.rb)的当前项目中做了类似的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T07:28:56.813

工作！更改 def with_company on

```
 def with_company
    if self.companies.empty?
      self.companies.build
    end
    self
  end 
```

# c - calloc 失败并返回 NULL

> ID：13245312
> 
> 赞同：6
> 
> 时间：2012-11-06T06:04:39.300
> 
> 标签：c, memory-management, dynamic, aix, calloc

在我们的应用程序模块之一中， calloc() 失败并返回 NULL。它尝试分配的内存量是 9292 字节的结构。操作系统是 AIX 7.1 并运行 VIOS 2.2.1.3。

这台机器有 2+GB 内存，似乎没有内存不足的问题。相同的应用程序模块在其他一个盒子上运行良好，它与有问题的盒子具有相同的配置。以下是两个盒子的内存片段，它们是相同的！

工作箱：

```
RLIMIT_AS (无限) (无限)
RLIMIT_CORE 1073741312（无限）
RLIMIT_CPU (无限) (无限)
RLIMIT_DATA 134217728（无限）
RLIMIT_FSIZE (无限) (无限)
RLIMIT_NOFILE 2000（无限）
RLIMIT_RSS 33554432（无限）
RLIMIT_STACK 33554432 2147483646

```

有问题的盒子：

```
RLIMIT_AS (无限) (无限)
RLIMIT_CORE 1073741312（无限）
RLIMIT_CPU (无限) (无限)
RLIMIT_DATA 134217728（无限）
RLIMIT_FSIZE (无限) (无限)
RLIMIT_NOFILE 2000（无限）
RLIMIT_RSS 33554432（无限）
RLIMIT_STACK 33554432 2147483646

```

我一无所知，因为无法真正弄清楚为什么 calloc() 甚至在这个盒子上的 9292 字节都失败了。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T13:38:59.963

尝试 calloc(1, sizeof(ifp_handle_t)); 而不是 calloc(sizeof(ifp_handle_t), 1); 我可能错了，但似乎你颠倒了参数。

# asp.net - 使用适配器的 DataTableMapping.FillSchema 方法应用于存储过程

> ID：13245321
> 
> 赞同：0
> 
> 时间：2012-11-06T06:05:55.163
> 
> 标签：asp.net, sql-server-2008, sql-server-2005, c#-4.0, webforms

这是我正在阅读有关@MSDN 的一种方法，我的问题是，例如，我是否想在存储过程上使用它，因为该存储过程的查询已经指定要从表中选择的列，如下所示：

```
SELECT Columnsome, columnother, , , , ...FROM thisSQLdbTable 
```

尽管我想实现该特定方法的方法，但从我对 可将数据从 SQL Server 提取到 Asp.net DataTable**的“最佳方法”进行的一些研究中，它似乎非常先进。**

```
public static DataTable GetCustomerData(string dataSetName,
string connectionString)
{
DataTable table = new DataTable(dataSetName);

using (SqlConnection connection = new SqlConnection(connectionString))
{
    SqlDataAdapter adapter = new SqlDataAdapter(
        "SELECT CustomerID, CompanyName, ContactName FROM dbo.Customers", connection);

    DataTableMapping mapping = adapter.TableMappings.Add("Table", "Customers");
    mapping.ColumnMappings.Add("CompanyName", "Name");
    mapping.ColumnMappings.Add("ContactName", "Contact");

    connection.Open();

    adapter.FillSchema(table, SchemaType.Mapped);
    adapter.Fill(table);
    return table;
} 
```

}

或者如果我通过`SP`指定所选列进行查询，这不是使用的方法

如果不需要选择/指定列，我实际上可以删除该存储过程

存储过程正在执行特定计算并使用计算结果更新表然后我将其切换为“模式”以从更新的表中选择结果。

我所做的是回收（；给它一个参数（位类型）存储过程，然后询问提供的`bool`/`bit`参数的值，如果它的状态为真，它会更新（执行它的原始任务）

如果它是假的，它会做一个选择操作，所以我会像使用 2 个单独的命令一样使用它

**但现在**我已经寻找一种更好的方法来将数据从 db 提取到数据表中

我放弃了两种方式的 SP，如果不打算将它们与我当前的 SP 一起使用，我将通过上面的示例进行选择，因为我当前的 SP 在提供`GetCustomersData()`上述服务时会进行预选。

所以问题是我是否需要让函数进行选择，或者我可以使用我的 sp 准备好的选择来提供它，以便使用 GetCustomersData() 来实现它，它只会执行其余任务并且只映射列被预选

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:54:36.153

存储过程在这个用例中完全有效。但是，如果您想要更多正确映射的表，您有几个选项，其中一些超出了使用`DataTables`.

您可以使用强类型`DataSets`，也可以使用`ORM`( `object relational mapper`)。

参考：类型化数据集：http: [//msdn.microsoft.com/en-us/library/esbykkzb (v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/esbykkzb(v=vs.71).aspx)

参考：什么是 ORM：[http ://en.wikipedia.org/wiki/Object-relational_mapping](http://en.wikipedia.org/wiki/Object-relational_mapping)

**ORM的例子**

参考：实体框架：http: [//msdn.microsoft.com/en-us/data/ef.aspx](http://msdn.microsoft.com/en-us/data/ef.aspx)

参考：NHibernate： http: [//nhforge.org/](http://nhforge.org/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T07:05:24.657

对您的实际要求仍然有些困惑，但这里有：

我看到您在 C# 代码中使用直接查询，“最好的方法”是用它制作一个 SP，然后说：

```
SqlCommand command = conn.CreateCommand();
            SqlDataAdapter sqlAdapter = new SqlDataAdapter(command);
            command.CommandType = System.Data.CommandType.StoredProcedure;
            command.CommandText = "sp_GetCustomerData"; 
```

然后在您添加参数后，如果需要，请执行以下操作：

```
 conn.Open();
            sqlAdapter.Fill(dtResult);                
            conn.Close(); 
```

其中 dtResult 是数据表。因此，在这种情况下，您不需要进行任何映射，并且由于您使用的是数据库中的 SP，它的运行速度将比直接查询更快，并且您可以随时更改查询逻辑，而无需重新部署代码。

# sql-server - [使用 ODBC 的通用连接][Microsoft][ODBC SQL Server 驱动程序]COUNT 字段不正确或语法错误（SQL 状态：07001；SQL 代码：0）

> ID：13245322
> 
> 赞同：6
> 
> 时间：2012-11-06T06:05:55.977
> 
> 标签：sql-server, oracle

> *第 1 行的错误：
> ORA-28500：从 ORACLE 到非 Oracle 系统的连接返回此消息：
> [使用 ODBC 的通用连接][Microsoft][ODBC SQL Server 驱动程序]
> COUNT 字段不正确或语法错误
> （SQL 状态：07001；SQL代码：0) ORA-06512：第 9 行*

任何人都知道这个错误..请帮助我们。

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-06T06:27:12.420

由于您没有提供生成此错误的任何类型的代码，我只能在这里猜测。在询问 Google 并找到[这个](https://kb.askmonty.org/en/error-sqlstates/ "这个")之后，这似乎`COUNT field incorrect or syntax error`意味着您在调用中使用了错误数量的参数。

如果您发布了从中生成错误的代码，则可以帮助您了解可能出现的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-09-15T15:49:30.867

我刚刚失去了至少一个小时以上的调试代码以查看问题所在。我在 VBA 中使用带有参数的 ADODB 连接。显然，如果没有`Set`关键字，调试输出将看起来参数有一个值，但它实际上并不存在于上游。当然我知道`Set`这是需要的，但是当你试图发现问题时很容易忽略。

问题：

```
 params(1) = cmd.CreateParameter("Email_ID", adInteger, adParamInput, , EmailID) 
```

更正的代码：

```
 Set params(1) = cmd.CreateParameter("Email_ID", adInteger, adParamInput, , EmailID) 
```

# email - 响应式电子邮件模板上的 CSS 选择器

> ID：13245330
> 
> 赞同：0
> 
> 时间：2012-11-06T06:06:20.137
> 
> 标签：email, responsive-design

我目前正在研究响应式电子邮件模板。我在网上看到了一些使用属性选择器的模板，如下所示：***h1[class="title"]***。为什么不只是***h1.title***，做这样的电子邮件模板有什么特别的技巧吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-10T20:47:19.240

这个技巧是为了阻止一些电子邮件客户端识别这个标签。最常见的用途是隐藏仅在此电子邮件的移动版本中使用的标签。

例如，Yahoo.com 电子邮件客户端无法识别媒体类型或使用括号格式的 css。因此，通过使用这种格式，您可以欺骗 Yahoo 邮件使其不解析专门用于移动版本的 css。

# ruby-on-rails - 仅收集特定值并选择为默认值

> ID：13245331
> 
> 赞同：0
> 
> 时间：2012-11-06T06:06:44.837
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我有这样的东西作为 select_tag ：

`<p><%= setting_select :ui_theme, My::Themes.themes.collect {|t| [t.name, t.id]}, :blank => :label_default, :label => :label_theme %></p>`

现在 Rite 它正在收集所有值并显示，但我只想收集一个特定值并将其设为默认值。此值具有名称 =“测试”。

因此它应该看起来像这样，它应该是默认的：

`<option selected="selected" value="Test">Test</option>`

注意：这里的 setting_select 是一个助手，定义如下：

```
def setting_select(setting, choices, options={})
    if blank_text = options.delete(:blank)
      choices = [[blank_text.is_a?(Symbol) ? l(blank_text) : blank_text, '']] + choices
    end
    setting_label(setting, options).html_safe +
      select_tag("settings[#{setting}]",
                 options_for_select(choices, Setting.send(setting).to_s),
                 options).html_safe
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:22:50.447

`options_for_select`允许您通过传递其值来预先选择一个选项。例子：

```
<%= options_for_select([['Lisbon', 1], ['Madrid', 2], ...], 2) %> 
```

输出：

```
<option value="1">Lisbon</option>
<option value="2" selected="selected">Madrid</option> 
```

有关[select 标记和 options_for_select](http://guides.rubyonrails.org/form_helpers.html#the-select-and-option-tags)的更多信息。

# sql-server-2008 - 实体框架类型案例泛型在谓词中

> ID：13245335
> 
> 赞同：1
> 
> 时间：2012-11-06T06:07:02.950
> 
> 标签：sql-server-2008, asp.net-mvc-4, entity-framework-5

我正在努力在我的 MVC 4 项目中更新到更易于管理的存储库模式，该模式首先使用实体​​框架代码。我已经集成了一个通用的基础存储库类，它将执行基本的 CRUD 操作，因此我不必在我创建的每个存储库中实现这些。我遇到了一个问题，如果实体是 TrackableEntity 类型，我的 All 方法需要通过已删除标志过滤查询。由于实体在基本存储库中是通用的，因此我尝试将其转换为 TrackableEntity 的类型，这只会导致以下错误消息。

> 不支持具有“NameSpace.Models.ClientFormField”类型输入和“NameSpace.Models.TrackableEntity”类型检查的“TypeAs”表达式。LINQ to Entities 查询仅支持实体类型和复杂类型。

这个错误是完整的，因为我理解为什么我的代码不起作用，但我正在尝试找到一种方法来过滤掉已删除的项目，而不必在我的所有存储库中覆盖此方法。我的 All 方法的代码如下。

```
public virtual IEnumerable<T> All()
{
    if (typeof(T).IsSubclassOf(typeof(TrackableEntity)))
        return dbSet.Where(e => !(e as TrackableEntity).IsDeleted).ToList();

    return dbSet.ToList();
} 
```

我知道我可以执行以下操作

```
public virtual IEnumerable<T> All(Expression<Func<T, bool>> predicate = null)
{
    if (predicate != null)
        return dbSet.Where(predicate).IsDeleted).ToList();

    return dbSet.ToList();
} 
```

然后将其添加到我所有的存储库中

```
public override IEnumerable<CaseType> All(Expression<Func<CaseType,bool>> predicate = null)
{
    if (predicate == null)
        predicate = e => !e.IsDeleted;
    return base.All(predicate);
} 
```

我遇到的问题是我正在复制代码，这基本上是复制并粘贴到我的所有存储库中，这违背了更改为这个新存储库模式的目的。我切换到结束存储库中的重复代码。

这是我的一个实体的示例。

```
public class CaseType : TrackableEntity, IValidatableObject
{
    public int Id { get; set; }
    public string Name { get; set; }

    public bool InUse { get; set; }

    public bool IsValid { get { return !this.Validate(null).Any(); } }

    public IEnumerable<ValidationResult> Validate(ValidationContext validationContext)
    {
        if (String.IsNullOrEmpty(Name))
            yield return new ValidationResult("Case Type name cannot be blank", new[] { "Name" });

        //Finish Validation Rules
    }
} 
```

和 TrackableEntity

```
public abstract class TrackableEntity
{
    public bool Active { get; set; }
    public bool IsDeleted { get; set; }
    public virtual User CreatedBy { get; set; }
    public virtual User ModifiedBy { get; set; }
    public DateTime DateCreated { get; set; }
    public DateTime DateModified { get; set; }
} 
```

对此的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-10T01:09:16.297

我终于得到了一个令我满意的解决方案。我最终制作了 2 个通用存储库。一个是基础存储库，它处理所有实体继承自我的 BaseEntity 的数据库的所有调用。然后我创建了我的第二个通用 repo，它继承了 BaesEntity 并覆盖了一些方法来处理我的 TrackableEntities 的需求。最后，这通过处理存储库中软删除项目的过滤来满足我的需求，并且还为我提供了 TrackableEntity 的更大灵活性。

BaseRepository -

```
public class BaseRepository<T> : IBaseRepository<T> where T : BaseEntity
{
    private readonly IAppDb _db;
    private readonly IDbSet<T> _dbSet;

    public BaseRepository(IAppDb db)
    {
        _db = db;
        _dbSet = Lwdb.Set<T>();
    }

    protected IAppDb Lwdb
    {
        get { return _db; }
    }

    #region IBaseRepository<T> Members

    public virtual T GetById(int id)
    {
        return _dbSet.Find(id);
    }

    public virtual T Add(T entity)
    {
        _dbSet.Add(entity);
        _db.Commit();
        return entity;
    }

    public virtual bool Any(Expression<Func<T, bool>> expression)
    {
        return _dbSet.Any(expression);
    }

    public virtual void Delete(T entity)
    {
        _dbSet.Remove(entity);
        _db.Commit();
    }

    public virtual IEnumerable<T> All()
    {
        return _dbSet.ToList();
    }

    public virtual T Update(T entity, bool attachOnly = false)
    {
        _dbSet.Attach(entity);
        _db.SetModified(entity);
        if (!attachOnly) _db.Commit();
        return entity;
    }

    #endregion

    protected User GetCurrentUser()
    {
        return
            _db.Set<User>().Find(HttpContext.Current != null ? ((User) HttpContext.Current.Session["User"]).Id : 1);
    } 
```

BaseTrackableEntityRepository -

```
public class BaseTrackableEntityRepository<T> : BaseRepository<T>, IBaseTrackableEntityRepository<T>
    where T : TrackableEntity
{
    private readonly IAppDb _db;
    private readonly IDbSet<T> _teDB;

    public BaseTrackableEntityRepository(IAppDb db)
        : base(db)
    {
        _db = db;
        _teDB = _db.Set<T>();
    }

    #region IBaseTrackableEntityRepository<T> Members

    public virtual T SetDeleteFlag(int id)
    {
        var entity = _teDB.Find(id);
        if (entity == null) return null; //throw exception
        entity.IsDeleted = true;
        entity.DateModified = DateTime.Now;
        entity.ModifiedBy = GetCurrentUser();
        return Update(entity);
    }

    public override IEnumerable<T> All()
    {
        return _teDB.Where(e => !e.IsDeleted).ToList();
    }

    public override T Add(T entity)
    {
        var curUser = GetCurrentUser();
        entity.CreatedBy = curUser;
        entity.ModifiedBy = curUser;
        entity.DateCreated = DateTime.Now;
        entity.DateModified = DateTime.Now;
        entity.Active = true;
        entity.IsDeleted = false;
        _teDB.Add(entity);
        _db.Commit();
        return entity;
    }

    public override T Update(T entity, bool attachOnly = false)
    {
        InsertTeData(ref entity);
        entity.ModifiedBy = GetCurrentUser();
        entity.DateModified = DateTime.Now;
        _teDB.Attach(entity);
        _db.SetModified(entity);
        if (!attachOnly) _db.Commit();
        return entity;
    }

    public virtual T SetStatus(int id, bool status)
    {
        var entity = _teDB.Find(id);
        if (entity == null) return null;
        entity.Active = status;
        return Update(entity);
    }

    #endregion

    private void InsertTeData(ref T entity)
    {
        if (entity == null || entity == null) return;
        var dbEntity = GetById(entity.Id);
        if (dbEntity == null) return;
        _db.Detach(dbEntity);
        entity.CreatedBy = dbEntity.CreatedBy;
        entity.DateCreated = dbEntity.DateCreated;
        entity.ModifiedBy = dbEntity.ModifiedBy;
        entity.DateModified = dbEntity.DateModified;
    } 
```

# gwt - 外部 jar GWT 中的特定包

> ID：13245336
> 
> 赞同：0
> 
> 时间：2012-11-06T06:06:49.390
> 
> 标签：gwt

我有一个包含许多包的 jar 文件，其中我只需要客户端 GWT 代码中的几个，但我需要在我的服务器端使用整个 jar。

到目前为止，这个 jar 还没有 xml 文件。

这是jar结构，

```
source.package1
source.package2
... 
```

所以在这里如果我把一个xml文件放在源文件夹中

```
<?xml version="1.0" encoding="utf-8"?>
<module>
<inherits name='com.google.gwt.user.User'/>
<source path='package1'></source>
<source path='package2'></source>
</module> 
```

只有那些需要的包并在我的项目xml中继承它，它会工作吗？

不包括所有包的原因是，它不兼容 GWT。但我包括的是。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:10:48.900

一般来说，这会起作用，但你必须有 .java 文件而不是 .class 文件才能让 GWT 工作。因此，还需要包括您的（或仅两个包）的来源。

由于您似乎可以控制其他 jar 文件的构建，因此您可能希望构建一个特定的 gwt jar 文件，其中包含您的 gwt.xml 和这两个包的 .java 文件。

# android - 更改时间选择器的文本颜色 [android]

> ID：13245344
> 
> 赞同：5
> 
> 时间：2012-11-06T06:07:26.690
> 
> 标签：android, android-layout, android-widget, timepicker, textcolor

如何在android中更改时间选择器的文本颜色.....我的应用程序中有黑色阴影背景，默认情况下时间选择器中的时间也是黑色的，所以时间不可见...... ![在此处输入图像描述](../Images/1de7d993793e948b8f29f772373f5bcc.png)

时间选择器的默认视图是

![在此处输入图像描述](../Images/20881457be06ac4fcf91f135d61ad1bf.png)

我的 XML 条目是：

```
 <TimePicker
                    android:id="@+id/timePicker"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content" /> 
```

android Java代码是：

```
timePicker  = (TimePicker)findViewById(R.id.timePicker);
hour = calendar.get(Calendar.HOUR_OF_DAY);
        minute = calendar.get(Calendar.MINUTE);

    timePicker.setCurrentHour(hour);

    timePicker.setCurrentMinute(minute); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-30T07:47:13.600

您可以为日期选择器创建自己的 XML 布局，如此处的示例[所示](http://custom-android-dn.blogspot.fr/2013/03/how-to-create-custom-date-time-picker.html "自定义 Android 博客")。

如果它正在扩展 FragmentActivity，不确定这将如何与您的活动一起发挥作用，但应该让您朝着正确的方向开始。

# mysql - 如何将字符串转换为小数？

> ID：13245346
> 
> 赞同：19
> 
> 时间：2012-11-06T06:07:31.517
> 
> 标签：mysql, ruby-on-rails, ruby

我有两个字符串“0.31”和“0.0076”，它们需要存储在 MySQL 的十进制（10,2）列中。我如何在 ruby​​ 中而不是直接在 mysql 中进行这种转换

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-11-06T06:08:57.560

尝试使用`CAST`

```
SELECT CAST(colName AS DECIMAL(10,2))
FROM tableName 
```

*   [**SQLFiddle 演示**](http://sqlfiddle.com/#!2/fe51d/1)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-11-06T06:13:13.907

使用 MySql 转换函数 CAST 或 CONVERT 。[在这里阅读](http://dev.mysql.com/doc/refman/5.0/en/cast-functions.html)

```
 Select CAST(columnName as DECIMAL(10,2))

                or

 Select CONVERT(columnName,DECIMAL(10,2)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T06:18:36.720

或者你可以做这样的工作

```
select format(columnname, 0) as formated from tablename  where condition 
```

# objective-c - 如何在 NSOutlineView 的委托方法中获取 NSButtonCell 的标题

> ID：13245348
> 
> 赞同：1
> 
> 时间：2012-11-06T06:07:38.373
> 
> 标签：objective-c, cocoa, nsoutlineview, nsbuttoncell, nscontrol

我正在使用`NSButtonCell`子类在同一个单元格中显示复选框、图像和标签。现在我想通过双击或输入键在大纲视图中编辑标签。
`NSButtonCell`子类：

```
- (void)dealloc {
    [image release];
    image = nil;
    [super dealloc];
}

-(id)copyWithZone:(NSZone *)zone {
    ImageAndTextAndCheckBox *cell = (ImageAndTextAndCheckBox *)[super copyWithZone:zone];
    cell->image = [image retain];
    return cell;
}

- (void)setImage:(NSImage *)anImage {
    if (anImage != image) {
        [image release];
        image = [anImage retain];
        [image setSize:NSMakeSize(kIconImageSize, kIconImageSize)];
    }
}

- (NSImage *)image {
    return image;
}

#define KNImageAndTextButtonCellPadding 5 // Distance between the end of the image and the start of the text.

- (void)drawWithFrame:(NSRect)cellFrame inView:(NSView *)controlView {
    // Draw the original button first, then the image.
    //shift check box to right
    NSRect newCellFrame = cellFrame;
    newCellFrame.origin.x =  newCellFrame.origin.x + 5;
    cellFrame = newCellFrame;

    [super drawWithFrame:cellFrame inView:controlView];

    if (image != nil) {

        NSRect imageFrame;

        NSSize imageSize = [image size];
        NSDivideRect(cellFrame, &imageFrame, &cellFrame, KNImageAndTextButtonCellPadding + imageSize.width, NSMinXEdge);

        imageFrame.origin.x += imageFrame.size.width;
        imageFrame.size = imageSize;

        if ([controlView isFlipped]) {
            imageFrame.origin.y += ceil((cellFrame.size.height + imageFrame.size.height) / 2);
        } else {
            imageFrame.origin.y += ceil((cellFrame.size.height - imageFrame.size.height) / 2);
        }

        BOOL oldFlipped = [image isFlipped];
        [image setFlipped:![controlView isFlipped]];
        [image compositeToPoint:imageFrame.origin operation:NSCompositeSourceOver];
        [image setFlipped:oldFlipped];

    }   
}

-(BOOL)trackMouse:(NSEvent *)theEvent inRect:(NSRect)cellFrame ofView:(NSView *)controlView untilMouseUp:(BOOL)untilMouseUp {

    // Make sure that the mouse only gets tracked if it is clicked on the check box, otherwise 
    // the row will be checked/unchecked whenever the user clicks on any part of the cell (which is bad).
    if ([theEvent clickCount] > 1)
    {
        NSLog(@"do double-click action" );
    }
    else
    {
         NSLog(@"do single-click action" );
    }
    NSPoint event_location = [theEvent locationInWindow];
    NSPoint localPoint = [controlView convertPoint:event_location fromView:nil];
    //shift check box mouse event to right
    NSRect newCellFrame = cellFrame;
    newCellFrame.origin.x =  newCellFrame.origin.x + 5;
    cellFrame = newCellFrame;
    if (localPoint.x <= cellFrame.origin.x + 16) {
        return [super trackMouse:theEvent inRect:cellFrame ofView:controlView untilMouseUp:untilMouseUp];
    } else {
        return NO;
    }
}

-(NSRect)drawTitle:(NSAttributedString *)title withFrame:(NSRect)frame inView:(NSView *)controlView {

    // Adjust the rect so we don't interfere with the image's location

    if (image != nil) {
        //NSLog(@"orig %f %f %f %f", frame.size.width,frame.size.height,frame.origin.x,frame.origin.y);
        NSRect newFrame = NSOffsetRect(frame, [[self image] size].width + KNImageAndTextButtonCellPadding, 0);
        newFrame.size.width -= ([[self image] size].width + KNImageAndTextButtonCellPadding);
        //NSLog(@"drawTitle %f %f %f %f", newFrame.size.width,newFrame.size.height,newFrame.origin.x,newFrame.origin.y);
        return [super drawTitle:title withFrame:newFrame inView:controlView];

    } else {
        return [super drawTitle:title withFrame:frame inView:controlView];
    }

}
- (void)editWithFrame:(NSRect)aRect inView:(NSView *)controlView editor:(NSText *)textObj delegate:(id)anObject event:(NSEvent *)theEvent {
    NSLog(@"%@", anObject);

//  id node = [anObject itemAtRow: [anObject selectedRow]];
//  int length = [[node relativePath] length];
    NSRect newFrame = NSOffsetRect(aRect,  KNImageAndTextButtonCellPadding+kIconImageSize+ 16, 0);
    newFrame.size.width -= (KNImageAndTextButtonCellPadding+kIconImageSize+ 16);
    [super editWithFrame:newFrame inView:controlView editor:textObj delegate:anObject event:theEvent];
} 
```

我总是得到 1 （布尔值）

```
- (void)outlineView:(NSOutlineView *)ov     
     setObjectValue:(id)obj 
     forTableColumn:(NSTableColumn *)tableColumn 
             byItem:(id)item 
```

`NSOutlineView`委托方法。（因为 NSButtonCell）但我想编辑标签。

1.  如何编辑标签？
2.  如何处理双击？
3.  在按下回车键之前：
    ![在此处输入图像描述](../Images/365b8500b851ec85e8f92c87ee1cb948.png)

之后
![在此处输入图像描述](../Images/a723e969bfb431ef31fcaf5684f329ec.png) 如何更改颜色文本？它显示白色。

它应该像 ![在此处输入图像描述](../Images/9f4a2f3681fc721daaba8d56685036c1.png)（带复选框）

谁能帮帮我？

# php - 从 IFRAME 刷新父页面或整个页面？

> ID：13245351
> 
> 赞同：1
> 
> 时间：2012-11-06T06:07:52.397
> 
> 标签：php, redirect, iframe

我有一个允许用户停用其帐户的功能。我想要它，以便当他们单击在 iframe 中打开的停用我的帐户链接以刷新整个浏览器或刷新父页面以便站点识别他们不再登录时？

这是放置在 iframe 中的链接：

```
 <a href="close_account.php?account=<?php echo $_SESSION['user_id']; ?>">De-activate My Account & Profile</a> 
```

这是我的功能代码：

```
 <?php
require_once("includes/session.php"); 
require_once("includes/functions.php");
require('includes/_config/connection.php');
hide_account($users); ?> 
```

所以所有这一切都发生在 iframe 中，一旦用户单击按钮，他们就会被重定向到登录页面，但这发生在 iframe 中，我不希望他们能够关闭 iframe 并且仍然让他们的帐户从父页面，因此浏览器或页面需要以某种方式刷新，这将导致 iframe 关闭并且它们会自动重定向到登录页面？

任何建议都会很棒。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T06:16:26.747

您可以设置 to 的属性`target`，以便在父页面中打开链接。`<a>``_top`

[W3School 中的 HTML 目标属性](http://www.w3schools.com/tags/att_a_target.asp "HTML <a> target 属性")

# python - Python 禁用和启用 Root 权限

> ID：13245355
> 
> 赞同：2
> 
> 时间：2012-11-06T06:08:35.080
> 
> 标签：python, root

我有一段我想以非 root 身份运行的代码。如果程序以非 root 身份运行，则无需发生任何事情。但是如果程序以 root 身份运行，则需要删除 root 权限，执行代码段，然后再次启用 root 权限。你如何为启用/禁用编写代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:29:27.040

尝试[os.getuid()](http://docs.python.org/2/library/os.html#os.getuid)和[os.setuid()](http://docs.python.org/2/library/os.html#os.setuid)。您可以使用它们在脚本中切换用户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:50:14.040

尝试以下操作：

```
import os
print "user who executed the code: %d" % os.getuid()
print "current effective user: %d" % os.geteuid()
if os.getuid() == 0:
    os.seteuid(65534) # user id of the user "nobody"
    print "current effective user: %d" % os.geteuid()
    # do what you need to do with non-root privileges here, e.g. write to a file
    print >> open("/tmp/foobar.txt", "w"), "hello world"
    os.seteuid(0)
print "current effective user: %d" % os.geteuid() 
```

将其作为根输出运行：

```
执行代码的用户：0
当前有效用户：0
当前有效用户：65534
当前有效用户：0

```

# c# - 将项目添加到现有列表

> ID：13245357
> 
> 赞同：-2
> 
> 时间：2012-11-06T06:08:40.480
> 
> 标签：c#, .net

我有一个如下列表：

```
List<Teacher> _teacher= new List<Teacher>(); 
```

老师有以下领域：

```
public class Teacher
{
    public string name{ get; set; }
    public string age{ get; set; }
    public string basic{ get; set; }
    public string hra{ get; set; }

   } 
```

另一个列表如下：

```
List<Salary> _salary= new List<Salary>(); 
```

工资有以下字段：

```
public class Salary
{
    public string basic{ get; set; }
    public string hra{ get; set; }
} 
```

在特定情况下，List Teacher 仅填充姓名和年龄。我需要从工资列表中填充教师列表中的基本和 hra。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:15:06.967

```
 salary.AddRange(teachers.Select(s=>new Salary{Basic=s.Basic, hra=s.hra})); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T06:34:01.063

相信你有一个list of`Teacher`和一个list，`Salary`你需要把工资的详细信息推送到`Teacher`班级的相关字段中。

我认为您可以通过遍历 Teacher 类来实现这一点，然后访问该特定索引处的 Salary 列表，然后分配这些值。（我希望两个列表的计数相同，否则您将需要某种方式来确定如何映射这些值）

这些线上的东西

```
for (int indx = 0; indx < lstdevelop.Count; indx++)
{
     lstTeacher[indx].Basic = lstSalary[indx].Basic;
     //
} 
```

此外，最好使用正确的数据类型，而不是将它们全部作为`string`，与金钱相关的东西坚持`decimal`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T07:15:42.037

可能你可以像这样根据教师水平设置他们的薪水

```
    列表 _teacher = 新列表（）；
    列表_salary = new List();

    //填充工资以供以后使用
    _salary.Add(new Salary { basic = "300", hra = "400", level = "1" });
    _salary.Add(new Salary { basic = "500", hra = "700", level = "2" });

    _teacher.Add(新老师{
        name = "老师 1",
        年龄=“34”，
        级别=“1”，
        basic = _salary.Single(p=>p.level == "1").basic, //根据老师的水平设置basic和hra
        hra = _salary.Single(p=>p.level == "1").hra,
    });

    _teacher.Add(新老师
    {
        name = "老师 2",
        年龄=“47”，
        级别=“2”，
        basic = _salary.Single(p => p.level == "2").basic, //根据老师的水平设置basic和hra
        hra = _salary.Single(p => p.level == "2").hra,
    });

    foreach（_teacher 中的教师 t）
        Console.WriteLine(t.name + ", "+t.age + ", " +t.basic + ", " + t.hra);

```

# svn - linux svn：无法连接到主机''：连接被拒绝

> ID：13245360
> 
> 赞同：0
> 
> 时间：2012-11-06T06:08:51.093
> 
> 标签：svn, connection, svnserve

服务器昨晚重新启动，从那时起我无法执行 svn up 或 svn commit。svn：无法连接到主机“zillerserv”：连接被拒绝

我在另一个文件夹中进行了新的结帐，它起作用了。

有什么帮助吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T10:50:17.943

在终端中输入：

```
svnserve -d -r /home/user/SVNREPO 
```

其中 SVNREPO 是您的存储库文件夹。

# sql - 列子句中带有子查询的 MS SQL Server 数据透视表

> ID：13245364
> 
> 赞同：13
> 
> 时间：2012-11-06T06:09:06.083
> 
> 标签：sql, sql-server, tsql, subquery, pivot

我确信这是一种简单的技术，尽管到目前为止我找不到答案！

我有

```
TIMESTAMP           | POINTNAME | VALUE
2012-10-10 16:00:00   AHU01       20
2012-10-10 16:00:00   AHU02       25
2012-10-10 16:00:15   AHU01       26
2012-10-10 16:00:15   AHU02       35 
```

等等...（大约 800 个点名）

对于许多点名，我不想在枢轴“FOR”（如下文给出的语法）定义的“IN”子句中列出每个点名，但可能想使用子查询。

所以我想要的是所有 POINTNAME 值作为具有 TIMESTAMP AND VALUE 列的列，所以我将获得一个 TIMESTAMP 值和每个 POINTNAME 的许多列，每个 POINTNAME PER TIMESTAMP 只有一个值，所以我不需要聚合有什么，所以还是选择 max 吧？

就像是：

```
SELECT [TIMESTAMP] FROM ( SELECT * FROM POINT_TABLE)
PIVOT( Max[Value] FOR [POINTNAME] IN (SELECT DISTINCT [POINTNAME] FROM POINT_TABLE) 
```

会产生——

```
 TIMESTAMP              AHU01          AHU02
 2012-10-10 16:00:00        20             25
 2012-10-10 16:15:00        26             35 
```

我意识到这可能不是那么简单，但希望你能得到我想要实现的目标？

枢轴语法：

```
SELECT <non-pivoted column>,
    [first pivoted column] AS <column name>,
    [second pivoted column] AS <column name>,
    ...
    [last pivoted column] AS <column name>
FROM
    (<SELECT query that produces the data>) 
    AS <alias for the source query>
PIVOT
(
    <aggregation function>(<column being aggregated>)
FOR 
[<column that contains the values that will become column headers>] 
    IN ( [first pivoted column], [second pivoted column],
    ... [last pivoted column])
) AS <alias for the pivot table>
<optional ORDER BY clause>; 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-06T06:18:30.913

对于动态列数，您必须使用动态 SQL

```
declare
    @cols nvarchar(max),
    @stmt nvarchar(max)

select @cols = isnull(@cols + ', ', '') + '[' + T.POINTNAME + ']' from (select distinct POINTNAME from TABLE1) as T

select @stmt = '
    select *
    from TABLE1 as T
        pivot 
        (
            max(T.VALUE)
            for T.POINTNAME in (' + @cols + ')
        ) as P'

exec sp_executesql  @stmt = @stmt 
```

[**SQL 提琴示例**](http://sqlfiddle.com/#!3/d0640/1)

# magento-1.7 - ssl错误无效或自签名证书magento图像上传

> ID：13245365
> 
> 赞同：4
> 
> 时间：2012-11-06T06:09:07.937
> 
> 标签：magento-1.7, magento

ssl错误无效或自签名证书magento图像上传

任何有此错误的解决方案。请纠正我的问题

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-22T11:05:50.800

就我而言，这是因为 .htaccess 受密码保护的网站。暂时删除密码保护解决了这个问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-14T15:27:51.120

在基本 URL 字段中，您应该输入不安全（常规）网站 URL 和 SSL 连接的网站 URL。您可以保持其他值不变，因为它们将在您输入基本 URL 后由脚本自动设置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-13T13:45:49.720

就我而言，这只发生在暂存的 magento 服务器上。他们有一个 HTACCESS 文件，该文件被列入 IP 白名单，并且两者的 HTTP 站点都列在 magento Web 配置的“安全”和“不安全”部分。使用 Firefox，每次尝试上传产品图片都会失败。每次都能可靠运行的唯一解决方案是安装和使用 Chrome。出于某种原因，这似乎解决了我们所有服务器的问题。这个错误从未出现在我们安装了真正 SSL 的生产服务器上。

# linux - 我在哪里可以在 QT sdk 中找到用于创建 Qt 安装程序的 binarycreator

> ID：13245368
> 
> 赞同：7
> 
> 时间：2012-11-06T06:09:20.900
> 
> 标签：linux, macos, qt, qt-installer

我正在`Qt Installer`为一些 QT 应用程序创建，当我浏览[Qt 安装程序框架手册](http://doc-snapshot.qt-project.org/qtifw-1.2/index.html)时，[我](http://doc-snapshot.qt-project.org/qtifw-1.2/ifw-tools.html#binarycreator)发现朗姆酒`binarycreator`请看图片![下图](../Images/3e6a09cc22762836750aae9baee5a3ad.png)，但我无法在其中找到该二进制文件`Qt SDK`，请任何人帮忙。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-09-27T23:58:30.400

您可以按照[此处的说明自行构建 Qt 安装程序框架，也可以从](http://doc.qt.io/qtinstallerframework/ifw-getting-started.html)[官方发布页面](https://download.qt.io/official_releases/qt-installer-framework/)下载预构建的二进制文件，如[本](https://wiki.qt.io/Qt-Installer-Framework)wiki 页面中所述。

安装或构建后，`binarycreator`可以在“bin”目录中找到，例如`E:\QtIFW2.0.1\bin`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T08:44:48.330

**我**的猜测是 <location-of- **ifw** **>****表示**安装框架工作的位置，因此二进制文件必须是安装程序框架而不是 Qt SDK 的一部分

# java - 长度无法解析或不是字段

> ID：13245375
> 
> 赞同：1
> 
> 时间：2012-11-06T06:10:12.590
> 
> 标签：java, android, eclipse, for-loop

我是 Java 和 Android 的新手。

我的程序**长度无法解决或者不是**我只是不明白如何解决这个问题的字段。这是代码

```
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.net.MalformedURLException;
import java.net.URL;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;

import android.os.AsyncTask;
import android.os.Environment;

public class DownloadImages extends AsyncTask {

protected Object doInBackground(Object... params) {
    System.out.println("External Storage State = " + Environment.getExternalStorageState());
    File directory=new File(Environment.getExternalStorageDirectory(), "/Images");
    if (directory.exists()==false)
    {
        directory.mkdir();
    }
    for(int i = 0; i <URLS.length; i++) {
        try {
            File firstFile=new File(directory+"/" +i+ ".jpeg");
            if(firstFile.exists()==false)
            {
                HttpClient httpClient =new DefaultHttpClient();
                HttpGet httpGet =new HttpGet(URLS[i]);
                HttpResponse resp = httpClient.execute(httpGet);
                System.out.println("Status Code = " +resp.getStatusLine().getStatusCode());
                if(resp.getStatusLine().getStatusCode()==200)
                {
                    HttpEntity entity = resp.getEntity();
                    InputStream is = entity.getContent();
                    Boolean status = firstFile.createNewFile();

                    FileOutputStream foutS = new FileOutputStream(firstFile);
                    byte[] buffer = new byte[1024];
                    long total = 0;
                    int count;
                    while((count = is.read(buffer)) != -1){
                        total += count;
                        foutS.write(buffer, 0, count);
                    }
                    foutS.close();
                    is.close();
                    publishProgress(i);

                    }
                }

            }catch(MalformedURLException e){
                e.printStackTrace();
            }catch(ClientProtocolException e){
                e.printStackTrace();
            }catch(IOException e){
                e.printStackTrace();
            }
    }
    return null;
        }

@SuppressWarnings("unchecked")
protected void onProgressUpdate(Object... values){
    super.onProgressUpdate(values);

    }
} 
```

**在 For 语句行中出现错误**

```
 for(int i = 0; i <URLS.length; i++) { 
```

**MainActivity.java**

```
import android.os.Bundle;
 import android.app.Activity;
 import android.view.Menu;

 public class MainActivity extends Activity{

private static final String[] URLS = {
    "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_2851.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_2944.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_2989.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3005.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3012.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3034.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3047.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3092.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3110.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3113.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3128.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3160.jpg",
};
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    new DownloadImages().execute();
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:28:15.153

将 URL 设为公开

```
public static final String[] URLS = { 
```

并将其用作

```
for(int i = 0; i <MainActivity.URLS.length; i++) { 
```

尝试一下..，。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:24:01.830

内部类是在另一个类中声明的类。试着`DownloadImages`放进去`MainActivity`。

# git - 为什么 git-svn 出现信号 13 失败？

> ID：13245376
> 
> 赞同：9
> 
> 时间：2012-11-06T06:10:13.600
> 
> 标签：git, svn, version-control, git-svn

令人困惑的是，我多次使用 git svn 克隆 svn repo 失败，为什么？

```
$ git svn clone -s https://192.168.2.145/svn/myprojects/Search/

Following parent with do_switch
Successfully followed parent
r362 = 6be745be496f98f96ac66fccead8211734cf6455 (refs/remotes/tags/8-22)
Found possible branch point: https://192.168.2.145/svn/myprojects/demo/trunk => https://192.168.2.145/svn/myprojects/Search/trunk, 368
Initializing parent: refs/remotes/trunk@368
**error: git-svn died of signal 13**

$ echo $?
141 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-06T07:53:50.710

在[这个线程](http://comments.gmane.org/gmane.comp.version-control.git/171365)之后，它似乎是一个相当奇特（且未解决）的错误。

> 我设法走得更远

```
while ! git svn fetch ; do sleep 1 ; done 
```

> 但最终我超出了我的磁盘配额。
> 
> 我也遇到过这种情况`git-svn clones`。去年发生过一次。
> 我尝试了这个技巧，我发现谷歌搜索：

```
rm -f .git/index
git read-tree --reset HEAD
git status 
```

> ......但它没有帮助。
> 我最终重新做了`git svn clone`. 从那时起，它一直运行良好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-12T02:50:18.600

shadowhome 抑制标准输出的答案略有不同，因此错误更加明显，并且此语法适用于 zsh。

```
while true ; do git svn fetch > /dev/null && break ; done 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-03-10T19:09:03.427

我的 git svn clone 命令因此错误而失败，但 git svn fetch （如其他人所建议）失败并出现：

```
fatal: Not a git repository (or any of the parent directories): .git 
```

我重新跑了

```
git svn clone <svn-repo> --no-metadata -s <repo dir> 
```

克隆继续正常进行。直到我遇到[这个](https://stackoverflow.com/questions/11398415/git-svn-clone-fails-unexpectedly)错误并且现在在没有 --no-metadata 标志的情况下重新启动

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-09-27T09:33:23.503

遇到了一个非常大的 svn repo，在最初的 git svn clone 失败并出现同样的错误后最终这样做了。

while [ `echo $?`-ne "0" ] ; 执行 git svn fetch ; 完毕

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-08-16T02:01:56.210

使用 Ruby 1.9.1 升级到 Ruby 2 时，我遇到了同样的问题，为我解决了这个问题。

# c++ - 尝试解密 2 密钥三重 DES 的无效块填充

> ID：13245385
> 
> 赞同：1
> 
> 时间：2012-11-06T06:11:18.933
> 
> 标签：c++, encryption, des, crypto++

我正在尝试在 C++ 中使用 crypto++ 实现 2 键三重 DES。

我的实现基于位于[此处](http://www.cryptopp.com/wiki/TripleDES)的 crypto++ wiki 中的代码。

wiki 上的代码正确构建；当我运行示例程序时，我可以看到它正在正确加密和解​​密。

对于我的实现，我正在尝试执行以下操作：

1.  用户可以运行“desimp.exe encrypt test.txt”。该程序将对 test.txt 进行加密，然后输出一个名为 test.txt.des 的加密文件。这似乎工作正常。

2.  用户可以运行“desimp.exe decrypt test.txt.des”，程序将解密 test.txt.des 并将解密后的文本输出到文件“decrypted.txt”我无法让它工作。我得到的错误是“ **StreamTransformationFilter: invalid PKCS #7 block padding found** ”

我相信我可能还需要在加密时将 iv 中的数据保存到文件中。它是否正确？我已经尝试过这样做，并且我认为我能够将 iv 正确保存到文件中 - 但我认为为了读取 iv 以用于解密，它需要作为数组读取8 个字节。当我尝试保存 iv 时 test.txt.iv 的文件大小为 21 个字节。如果这是正确的方法，我不确定如何进行。如果这是错误的方法，我想知道我需要做些什么不同的事情。这是代码：

```
#ifndef CRYPTOPP_DLL_ONLY
#define CRYPTOPP_DEFAULT_NO_DLL
#endif

#include "dll.h"
#include "rc6.h"
#include <stdio.h>  
#include <string.h>
#include <fstream>
#include <stdlib.h>
#include <string>
#include <streambuf>

USING_NAMESPACE(CryptoPP)
USING_NAMESPACE(std)

#ifdef CRYPTOPP_IMPORTS
static PNew s_pNew = NULL;
static PDelete s_pDelete = NULL;
#endif
#ifdef CRYPTOPP_DLL_ONLY

int __cdecl main(int argc, char *argv[])
{

    AutoSeededRandomPool prng;
    SecByteBlock key(DES_EDE2::DEFAULT_KEYLENGTH);
    prng.GenerateBlock(key, key.size());
    byte iv[DES_EDE2::BLOCKSIZE];
    prng.GenerateBlock(iv, sizeof(iv));
    string plain = "CBC Mode Test";
    string cipher, encoded, recovered;

    char *fileName = argv[1];
    char *runMode = argv[2];
    char *ivFile = argv[3];

    cout << "ARGUMENT 1: " << fileName << endl;
    cout << "ARGUMENT 2: " << runMode << endl;

    string fileNameString(fileName);
    string encryptedFileNameString = fileNameString + ".des";//add .des to the filename of the encrypted file once it's generated
    string ivString = fileNameString + ".iv";//iv file
    string runModeString(runMode);

    if (runModeString == "encrypt")
    {
        ifstream t(fileName);
        string str((std::istreambuf_iterator<char>(t)),
        istreambuf_iterator<char>());
        try
        {
            cout << "plain text: " << str << endl;

            CBC_Mode< DES_EDE2 >::Encryption e;
            e.SetKeyWithIV(key, key.size(), iv);

            // The StreamTransformationFilter adds padding
            //  as required. ECB and CBC Mode must be padded
            //  to the block size of the cipher.
            StringSource ss1(str, true, 
                new StreamTransformationFilter(e,
                    new StringSink(cipher)
                ) // StreamTransformationFilter      
            ); // StringSource
        }
        catch(const CryptoPP::Exception& e)
        {
            cerr << e.what() << endl;
            exit(1);
        }
        // Pretty print
        StringSource ss2(cipher, true,
            new HexEncoder(
                new StringSink(encoded)
            ) // HexEncoder
        ); // StringSource

        cout << "cipher text: " << encoded << endl;//"encoded" is just the pretty print version of the ciphertext.
        ofstream fout(encryptedFileNameString); 
        fout << cipher; 
        fout.close();//outputs/saves the encrypted file
        cout << "Encrypted file was saved to local path as " << encryptedFileNameString << endl;

        ofstream fout2(ivString); 
        fout2 << iv; 
        fout2.close();
        cout << "iv was saved to local path as " << ivString << endl;
    }

    if (runModeString == "decrypt")// USER WANTS TO DECRYPT A FILE
        {           
            ifstream t2(fileName);
            string str2((istreambuf_iterator<char>(t2)),istreambuf_iterator<char>());
            cipher = str2;

        try
        {
            CBC_Mode< DES_EDE2 >::Decryption d;
            d.SetKeyWithIV(key, key.size(), iv);
            // The StreamTransformationFilter removes
            //  padding as required.
            StringSource ss3(cipher, true, 
                new StreamTransformationFilter(d,
                    new StringSink(recovered)
                ) // StreamTransformationFilter
            ); // StringSource

            cout << "recovered text: " << recovered << endl;
        }
        catch(const CryptoPP::Exception& e)
            {
                cerr << e.what() << endl;
                exit(1);
            }
        }
        return 0;
    }//end main

    extern "C" __declspec(dllexport) void __cdecl SetNewAndDeleteFromCryptoPP(PNew pNew, PDelete pDelete, PSetNewHandler pSetNewHandler)
    {
        s_pNew = pNew;
        s_pDelete = pDelete;
    }

    void * __cdecl operator new (size_t size)
    {
        return s_pNew(size);
    }

    void __cdecl operator delete (void * p)
    {
        s_pDelete(p);
    }

    #endif 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:04:53.527

我认为您需要`std::ios_base::binary`在模式下打开加密文件（用于读取和写入）；否则，I/O 库将破坏看起来像行尾的序列。

# windows-8 - 在 Metro 风格应用程序中使用 SQLite

> ID：13245387
> 
> 赞同：0
> 
> 时间：2012-11-06T06:11:31.687
> 
> 标签：windows-8, microsoft-metro

WinRT 的 SQLite 是否支持外键约束？你能指导我吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T15:19:06.167

让我先说我没有尝试过，但是，这两个参考资料（在[sqlite.org](http://sqlite.org)上）表明是的。如果它不起作用，请提供一些关于您看到的错误/行为的附加信息。

> **SQLite 版本 3.7.13 增加了对 Microsoft Windows 8 的 WinRT 和 Metro 风格应用程序的支持**。3.7.13 版本比以往版本更早发布，以便将这一新功能交到开发人员手中。要在 Metro 风格应用程序中使用 SQLite，请使用 -DSQLITE_OS_WINRT 标志进行编译。由于 WinRT 增加了应用程序的安全性和安全性要求，所有数据库文件名都应该是完整路径名。请注意，SQLite 无法访问安装目录和应用程序数据目录之外的数据库。此限制是 WinRT 的另一个安全功能。**除了这些限制之外，SQLite 在 WinRT 上的工作方式应该与在其他所有系统上的工作方式完全相同**。( [2012-6-11](http://www.sqlite.org/news.html))

和

> [本文档描述了对 SQLite 版本](http://www.sqlite.org/foreignkeys.html)**3.6.19**中引入的 SQL 外键约束的支持。

3.7.13 > 3.6.19

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-04T15:08:45.727

SQLite 支持关系约束是一回事 - 您将在应用程序中使用的支持它的包装器是另一回事。

我认为今天有两个驱动程序：

*   [SQLite-net](https://code.google.com/p/sqlite-net/)：具有对象到 DB 映射的 ORM 样式，支持 LINQ，但不支持外键
*   [sqlite-winrt](http://sqlwinrt.codeplex.com/)：支持关系约束，但您将手动完成所有操作。基本上，它支持连接到 SQLite DB、执行查询和获取结果。

顺便说一句，我现在正在寻找更好的司机，如果有人知道我会很高兴知道的！

高温高压

# android - Android连接到服务器IP和端口

> ID：13245389
> 
> 赞同：1
> 
> 时间：2012-11-06T06:11:53.240
> 
> 标签：android, connection, ip

将android连接到服务器和ip和相应端口的最佳方法是什么？这种连接不需要一直存在，但我假设我将发送和接收文件（在字节数组或流中）。

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-06T06:29:10.827

由于 Android 开发工具是 Java 原生的，因此您可以使用简单的 Java Socket API 来实现这一目标（请参阅[ServerSocket](http://docs.oracle.com/javase/1.4.2/docs/api/java/net/ServerSocket.html)和[Socket](http://docs.oracle.com/javase/1.4.2/docs/api/java/net/Socket.html)）。

## 服务器代码

您必须首先`ServerSocket`通过定义要侦听的端口在主机上打开 a ：

```
ServerSocket ss = new ServerSocket([some_port]); 
```

然后，您必须通过调用`ss.accept()`. 此方法将阻塞，直到客户端连接：

```
Socket my_socket = ss.accept(); 
```

现在，您的服务器上有一个套接字，您可以随意操作（可能通过使用`ObjectInputStream`and `ObjectOutputStream`）：

```
ObjectOutputStream out = new ObjectOutputStream(my_socket.getOutputStream());
ObjectInputStream in= new ObjectInputStream(my_socket.getInputStream()); 
```

## 客户代码

您必须与刚刚创建的服务器建立连接。您将通过初始化一个套接字并传入您的服务器的 IP 地址（对于大多数测试目的通常是 localhost）和您的服务器当前正在侦听的端口号来完成此操作：

```
Socket socket = new Socket("localhost", [some_port]); 
```

同样，建立一些通信流：

```
ObjectOutputStream out = new ObjectOutputStream(socket.getOutputStream());
ObjectInputStream in = new ObjectInputStream(socket.getInputStream()); 
```

你有它！您现在可以轻松地从 Android 设备与服务器通信。它比你想象的要简单得多。

但是请注意，此架构实现了 TCP，它比 UDP 慢得多，并且不适用于任何类型的快节奏数据密集型游戏，但根据上面的描述应该可以实现您的目标。

# mysql - 从 where 子句中删除参数以显示记录

> ID：13245390
> 
> 赞同：1
> 
> 时间：2012-11-06T06:11:58.813
> 
> 标签：mysql, stored-procedures, prepared-statement

我有一个房地产网站，人们可以根据位置、物业类型和建造者搜索物业。

我有一个如下表。

```
创建表项目（ProjectId INT NOT NULL PRIMARY KEY AUTO_INCREMENT，
                     位置 VARCHAR(255)，
                     属性类型 VARCHAR(255),
                     生成器 VARCHAR(255),
                     项目名称 VARCHAR(255),
                     状态 TINYINT)

插入项目（位置、属性类型、生成器、项目名称）
             VALUES('位置 A', '公寓', '建筑商 A', '项目 A', 1),
                   ('位置 A', '别墅', '建筑商 B', '项目 B', 1),
                   （“位置 B”、“公寓”、“建筑商 A”、“项目 C”、1）、
                   ('位置 C', '别墅', '建造者 C', '项目 D', 1),
                   （“位置 B”、“地块”、“建筑商 B”、“项目 E”、1）、
                   （“位置 A”、“排屋”、“建筑商 C”、“项目 F”、1）、
                   （“位置 A”、“地块”、“建筑商 A”、“项目 G”、1）、
                   （“位置 C”、“地块”、“建造者 C”、“项目 H”、1）、
                   ('位置 C', '公寓', '建筑商 B', '项目 I', 1),
                   （“位置 C”、“别墅”、“建筑商 B”、“项目 J”、1）、
                   （“位置 A”、“别墅”、“建筑商 A”、“项目 K”、1）、
                   ('位置 C', '公寓', '建筑商 B', '项目 L', 1);

```

我使用的搜索过程是这样的，它根据他们选择的参数返回搜索结果，即属性类型、位置、构建器名称

现在可能有一些搜索参数的项目如下

位置 C 的建筑商 A 的公寓

我想以这样的方式更改程序，通过考虑上述其他可能性，where 子句中的过滤器中的参数应该始终更改以带来结果

位置 C 的建筑商 A 的公寓

位置 C 处没有建筑商 A 的公寓，因此它应该显示其他建筑商在位置 C 的公寓

```
      地点 C Flats Builder B 项目 I

```

过滤器应考虑 PropertyType、Location 和 Builder Name

位置 B 的别墅

位置B没有别墅所以

```
地点 A 别墅建筑商 B 项目 B
地点 C 别墅建筑商 B 项目 J
地点 A 别墅建筑商 A 项目 K

```

搜索应该发生在

```
       属性类型 -> 位置 -> 生成器

```

如果该位置没有特定构建器的项目，则

```
       属性类型 -> 位置

```

如果没有特定位置的项目，那么

```
       财产类型

```

过滤器中的参数应以这样的方式消除，从而为搜索参数带来类似的结果。

```
       PropertyType -> Location -> Builder No Records
       PropertyType -> 位置无记录
       找到 PropertyType 记录

```

我创建的程序如下

```
    如果存在则删除程序 getProjectResult;
    创建过程 getProjectResult（IN PropertyType VARCHAR（255），IN 位置 VARCHAR（255），IN BuilderName VARCHAR（255））
    开始
      SET @strSQL = '选择 *
                       来自项目
                      WHERE 状态 = 1 ';

      如果 PropertyType != '' 那么
        SET @strSQL = CONCAT(@strSQL, ' AND PropertyType ="', PropertyType, '" ');
      万一;

      如果位置 != '' 那么    
        SET @strSQL = CONCAT(@strSQL, ' AND Location ="', Location, '" ');
      万一;

      IF BuilderName != '' THEN
        SET @strSQL = CONCAT(@strSQL, ' AND Builder ="', BuilderName, '" ');
      万一;

      从@strSQL 准备stmt；
      执行语句；  
      DEALLOCATE PREPARE stmt;
    结尾;

```

所以我的程序将带来如下输出

```
     CALL getProjectResult('Flats', 'Location C', 'Builder A');

```

无输出

所以它应该显示

```
       地点 C Flats Builder B 项目 L  

```

如何更改程序，以便从过滤器中删除参数，从而带来结果。应按照以下顺序生成器、位置和属性类型删除参数。

属性类型应给予最高优先级，其次是位置和建筑商名称

谢谢您的回复

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:35:56.847

我喜欢用累积分数做这样的查询，例如：

```
 select project_id,
   case when location = ? then 1 else 0 end +
   case when flats = ? then 1 else 0 end + 
   case when builder = ? then 1 else 0 end as score
from project
order by score desc 
```

请注意，您还可以使用此机制对它们进行不同的加权（位置可能比构建器更重要，等等）。

还有一些你没有要求的信息：

*   你应该更好地规范你的模式，例如不要重复数据。
*   您也可以在 solr 等文本工具中进行字段搜索。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:42:21.607

Alian Colins 是对的，但如果您不是在寻找性能方面：那么对您的问题的简单回答是：

```
Alter PROCEDURE getProjectResult  
(@PropertyType as VARCHAR(255), @Location as VARCHAR(255), @BuilderName as VARCHAR(255))
as
BEGIN
  declare @strSQL as varchar(max)
  declare @wherequery as varchar(max)
  SET @strSQL = 'SELECT * 
                   FROM project
                  WHERE status = 1 ';
    set @wherequery = ''
  IF @PropertyType <> '' 
  begin
    SET @wherequery += ' AND (PropertyType ='''+ @PropertyType+ ''' '
  END

  IF @Location <> '' 
  begin
    SET @wherequery += ' AND Location ='''+ @Location+ ''' )'
  END

  IF @BuilderName <> ''
  begin
    SET @wherequery += ' or( Builder ='''+@BuilderName+'''    ' + @wherequery+ ')'
  END

set @strSQL = @strSQL + @wherequery
print @strSQL
  exec(@strSQL)

END 
```

# android - html5 如何作为跨平台工作？

> ID：13245402
> 
> 赞同：0
> 
> 时间：2012-11-06T06:13:16.720
> 
> 标签：android, html, cordova, nfc

我目前正在为我的 Android 应用程序寻找跨平台技术，我得出了 HTML5 的结论，我尝试了一些示例代码和一些使用 PhoneGap 的本机应用程序。我对本机应用程序（使用 PhoneGap）有点困惑，它使用 .java 文件为 Android 编写插件，现在如果我想为 Windows 开发相同的应用程序，我是否需要为 windows phone 创建新插件？（我正在研究 android 中的 NFC 项目。android 中的 NFC 插件可在

[http://phonegap.com/2011/09/26/building-an-nfc-enabled-android-application-with-phonegap/](http://phonegap.com/2011/09/26/building-an-nfc-enabled-android-application-with-phonegap/) ）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:20:16.187

是的。您将需要为您使用的不同平台创建插件。您可以在任何地方使用基本 API 集，但如果某些东西不存在，那么您必须使用平台的本地语言为其创建一个插件。您可以将这些插件作为开源贡献回社区，以便其他人也可以使用它。

请参阅此处的插件开发指南：

[http://docs.phonegap.com/en/2.1.0/guide_plugin-development_index.md.html](http://docs.phonegap.com/en/2.1.0/guide_plugin-development_index.md.html)

# ios - Flash Builder 中 iOS 的 Alternativa3d 更改分辨率

> ID：13245403
> 
> 赞同：0
> 
> 时间：2012-11-06T06:13:20.573
> 
> 标签：ios, actionscript-3, flash, air, 3d

我有个问题。我做了第一个例子（Alternativa for dummy part I），它运行良好，但在使用 Air for iOS 时只占屏幕的 1/4。如何更改分辨率？这是一个截图： [http ://tinypic.com/r/34yo86q/6](http://tinypic.com/r/34yo86q/6)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:42:00.663

您是否使用此代码来设置相机？

```
camera.view= new View (stage.stageWidth, stage.stageHeight); 
```

问题在于这些值在应用程序的整个生命周期中并不是恒定的。当应用程序启动时，舞台可能会调整大小，因此您不会获得正确的值。

首先，您可以设置这些属性（我在 99% 的 AS3 项目中都这样做）。

```
stage.scaleMode = StageScaleMode.NO_SCALE;
stage.align = StageAlign.TOP_LEFT; 
```

然后为舞台调整大小添加一个事件侦听器，并在处理程序中将 stageWidth 和 stageHeight 值写入一些变量，然后您可以使用它来初始化 Alternativa 的相机。或者在设置相机之前等待事件触发。

```
stage.addEventListener(Event.RESIZE, checkSize); 
```

处理程序

```
public function checkSize(e:Event):void {
    realWidth = stage.stageWidth;
    realHeight= stage.stageHeight;
} 
```

这是 Adob​​e 关于该事件的文档，以及如何使用它的示例。

[http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Stage.html#event:resize](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Stage.html#event:resize)

# windows-8 - 在 Windows 8 中通过代码访问开始屏幕磁贴空间

> ID：13245405
> 
> 赞同：0
> 
> 时间：2012-11-06T06:13:51.417
> 
> 标签：windows-8

我有一个要求，我想检查 Windows 8 的开始屏幕上是否有空的磁贴空间。有没有办法访问这个空间？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:18:28.953

不，这是不可能的。起始空间旨在由用户控制，其布局（行、可见列）可以随时更改。

# iphone - 无法使用 SBJsonParser 解析 json 字符串

> ID：13245406
> 
> 赞同：0
> 
> 时间：2012-11-06T06:13:37.920
> 
> 标签：iphone, objective-c, xcode, ipad

我的 Json 字符串是**“{'message':'Test Driver'}”**

如果我尝试 Nslog 这段代码`NSLog(@"%@",[parser objectWithString:[request responseString] error:nil]);`

parser 是 SBJsonParser 类的对象

**输出：（**空）

是否有任何其他可以解析此字符串的 json 库？

请帮助解析这个 Json 字符串

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T06:18:14.793

JSON 响应字符串不是有效字符串，这就是您收到错误的原因。

使用以下链接检查作为响应从 Web 服务发送的 JSON 字符串是否有效

[JSONLint](http://jsonlint.com/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T06:25:14.730

原始`JSON`字符串应该是这样的格式

> {“消息”：“测试驱动程序”}

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T06:19:12.160

至于其他 JSON 库，如果您的目标是 iOS 5 或更高版本，Apple 提供[NSJSONSerialization](http://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSJSONSerialization_Class/Reference/Reference.html)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T06:49:00.447

您可以使用以下代码生成适当的 json 字符串并对其进行解析。它可以帮助你

```
NSDictionary *resDict = [parser objectWithString:[[request responseString] stringByReplacingOccurrencesOfString:@"'" withString:@"\""] error:nil]; 
```

# maven - 如何从maven传递java代码一个参数进行测试

> ID：13245411
> 
> 赞同：30
> 
> 时间：2012-11-06T06:14:25.197
> 
> 标签：maven, command-line, testng, pom.xml, surefire

我需要传递以下值……</p>

**exeEvironment** （测试环境）， **testGroup**（testNG中的组）

从命令行 -> POM -> TestNG -> 测试用例。

根据这两个帖子....

[从 maven 传递一个 java 参数](https://stackoverflow.com/questions/9622121/pass-a-java-parameter-from-maven)

[如何从 Surefire Maven 插件将参数传递给 guicified TestNG 测试？](https://stackoverflow.com/questions/6280576/how-to-pass-parameters-to-guicified-testng-test-from-surefire-maven-plugin)

我做了以下配置..

在**surefire plugin**中，我尝试了以下两个选项，但似乎都不起作用。

=====

(1)

```
 <execution>
<id>default-test</id>
    <goals>
        <goal>test</goal>
    </goals>
    <configuration>
        <properties>
            <exeEnvironment>${exeEnvironment}</exeEnvironment>
            <testGroup>${testGroup}</testGroup>
        </properties>
        <suiteXmlFiles>
            <suiteXmlFile>testng.xml</suiteXmlFile>
        </suiteXmlFiles>
    </configuration>
</execution> 
```

* * *

(2)

```
<execution>
<id>default-test</id>
<goals>
    <goal>test</goal>
</goals>
<configuration>
    <systemPropertyVariables> <exeEnvironment>${exeEnvironment}</exeEnvironment> 
        <testGroup>${testGroup}</testGroup> </systemPropertyVariables> 
    <suiteXmlFiles>
        <suiteXmlFile>testng.xml</suiteXmlFile>
    </suiteXmlFiles>
</configuration>
</execution> 
```

* * *

在**testNG.xml**中，我可以使用像...这样的变量`testGroup`吗？</p>

```
<test name="Web Build Acceptance">
    <groups>
        <run>
            <include name="${testGroup} />
        </run>
    </groups>
    <classes>
        <class name="com.abc.pqr" />
    </classes>
</test> 
```

这似乎也不起作用，我是否需要定义一个参数。

* * *

在**测试用例**中，我尝试通过以下两种方式获取变量……。(1)

```
testEnv = testContext.getSuite().getParameter("exeEnvironment");
testGroup = testContext.getSuite().getParameter("testGroup"); 
```

(2)

```
testEnv = System.getProperty("exeEnvironment");
testGroup = System.getProperty("testGroup"); 
```

* * *

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-11-29T18:03:31.420

这正是我正在寻找我的自动化测试并且我让它工作的东西。

命令行参数

```
mvn clean test -Denv.USER=UAT -Dgroups=Sniff 
```

我的 Pom Xml

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>TestNg</groupId>
    <artifactId>TestNg</artifactId>
    <version>1.0</version>

    <dependencies>
        <dependency>
            <groupId>org.testng</groupId>
            <artifactId>testng</artifactId>
            <version>6.8</version>
            <scope>test</scope>
        </dependency>
    </dependencies>
    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>2.12.4</version>
                <configuration>
                    <systemPropertyVariables>
                        <environment>${env.USER}</environment>
                    </systemPropertyVariables>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project> 
```

TestNG测试

```
import org.testng.annotations.Parameters;
import org.testng.annotations.Test;

public class TestAuthentication {

    @Test (groups = { "Sniff", "Regression" })
    public void validAuthenticationTest(){
        System.out.println(" Sniff + Regression" + System.getProperty("environment"));
    }

    @Test (groups = { "Regression" },parameters = {"environment"})
    public void failedAuthenticationTest(String environment){
        System.out.println("Regression-"+environment);
    }

    @Parameters("environment")
    @Test (groups = { "Sniff"})
    public void newUserAuthenticationTest(String environment){
        System.out.println("Sniff-"+environment);
    }
} 
```

* * *

以上效果很好。另外，如果需要使用`testng.xml`，可以指定`suiteXmlFile` like ...

```
 <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-surefire-plugin</artifactId>
            <version>2.12.4</version>
            <configuration>
                <systemPropertyVariables>
                    <environment>${env.USER}</environment>
                </systemPropertyVariables>
                <suiteXmlFiles> 
                    <suiteXmlFile>testng.xml</suiteXmlFile>
                </suiteXmlFiles>
            </configuration>
        </plugin> 
```

另外，我更喜欢使用`@Parameters`而不是`parameters`in `@Test()`，因为后者已被弃用。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-06T06:31:38.363

您无需在 testng xml 或 pom 中为组定义任何内容，支持是内置的。您可以简单地在 cmd 行 [http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#groups上指定组](http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#groups)

希望能帮助到你..

编辑2：

好的..所以这是另一种选择...实现[IMethodInterceptor](http://testng.org/doc/documentation-main.html#methodinterceptors)

定义您的自定义属性。在命令行调用中使用 -Dcustomproperty=groupthatneedstoberun。

在拦截调用中，扫描所有方法..大意的东西..

```
System.getProperty("customproperty");
for(IMethodInstance ins : methods) {
    if(ins.getMethod().getGroups()) contains group)
        Add to returnedVal;
    }
return returnedVal; 
```

将此添加到 xml 中的侦听器列表中。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-05-28T09:25:18.287

完美的。

将变量从 POM.xml 传递到的最简单方法`ABC.java`

POM.xml

```
<properties>
   <hostName>myhostname.com</hostName>
</properties> 
```

我们可以像这样从系统属性中`ABC.java`调用它

```
System.getProperty("hostName") 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-04-24T09:30:55.453

传递浏览器等参数可以如下完成：

```
<properties>    
    <BrowserName></BrowserName>
    <TestRunID></TestRunID>
</properties>

        <!-- Below plug-in is used to execute tests -->
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-surefire-plugin</artifactId>
            <version>2.18.1</version>
            <configuration>
                <suiteXmlFiles>
                    <suiteXmlFile>src/test/resources/${testXml}</suiteXmlFile>
                </suiteXmlFiles>
                <systemPropertyVariables>
                  <browserName>${BrowserName}</browserName>
                    <testRunID>${TestRunID}</testRunID> 
                </systemPropertyVariables>
            </configuration>
            <executions>
                <execution>
                    <id>surefire-it</id>
                    <phase>integration-test</phase>
                    <goals>
                        <goal>test</goal>
                    </goals>
                    <configuration>
                        <skip>false</skip>
                        <testFailureIgnore>true</testFailureIgnore>
                    </configuration>
                </execution>
            </executions>
        </plugin> 
```

并在java代码中处理这个使用这个：

```
 public static final String Browser_Jenkin=System.getProperty("BrowserName");
    public static final String TestRunID=System.getProperty("TestRunID");

  public static String browser_Setter()
    {
        String value=null;
        try {
            if(!Browser_Jenkin.isEmpty())
            {
                value = Browser_Jenkin;
            }
        } catch (Exception e) {
            value =propObj.getProperty("BROWSER");
        }
        return value;   
    }

    public static String testRunID_Setter()
    {
        String value=null;
        try {
            if(!TestRunID.isEmpty())
            {
                value = TestRunID;
            }
        } catch (Exception e) {
            value =propObj.getProperty("TEST_RUN_ID");
        }
        return value;   
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-01-28T17:52:20.930

您无需使用环境变量或编辑 pom.xml 即可使用它们。

Build 部分下 Invoke Maven 3 的目标和选项采用该参数。试试这个（假设你参数化了构建）：

```
Invoke Maven 3
  Goals and options = test -Denv=$PARAM_ENV -Dgroup=$PARAM_GROUP 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-11-26T17:44:42.987

建立在[公认的答案之上](https://stackoverflow.com/a/13631898/6309999)

如果`<systemPropertyVariables>`在 Maven 配置文件中声明了 maven surefire 和 ，则它们不可用并且将返回`null`，除非还调用了配置文件。

命令行参数

```
mvn clean test -PmyTestProfile -Denv.USER=UAT -Dgroups=Sniff 
```

pom.xml

```
<profiles>
    <profile>
        <id>myTestProfile</id>
        <activation>
            <activeByDefault>false</activeByDefault>
        </activation>

        <build>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-surefire-plugin</artifactId>
                    <version>${surefire.version}</version>
                    <configuration>
                        <systemPropertyVariables>
                            <environment>${env.USER}</environment>
                        </systemPropertyVariables>
                    </configuration>
                </plugin>
            </plugins>
        </build>
    </profile>
</profiles> 
```

# c - c中的fwrite进入无限循环

> ID：13245413
> 
> 赞同：0
> 
> 时间：2012-11-06T06:14:13.053
> 
> 标签：c, fwrite, fread

我正在尝试使用 fread 和 fwrite 更新 .DAT 文件中的记录，但不知何故循环无限运行。我的代码是：

```
FILE *fq;
Employee eme;
long int recsize_eme;
recsize_eme=sizeof(eme);

fq=fopen("EME.DAT","rb+");
if(fq==NULL)
{
    fq=fopen( "EME.DAT","wb+");
    if(fq==NULL)
    {
        printf("Can't Open File");
        exit(EXIT_FAILURE);
    }
}

rewind(fq);
while(fread(&eme,recsize_eme,1,fq)==1)
{
    if (compare_date(eme.pre_pay_date)==0 && compare_date(eme.pol_end_date)!=0)
    {
        int date[3];
        int n;
        n = sscanf(eme.pre_pay_date, "%d/%d/%d", &date[0], &date[1], &date[2]);
        if(date[1]!=12)
        {
            date[1]++;
        }
        else
        {
            date[1]=1;
            date[2]++;
        }

        snprintf(eme.pre_pay_date, sizeof(eme.pre_pay_date), "%d/%d/%d", date[0], date[1], date[2]);
        printf( eme.pre_pay_date );
        if (eme.pre_status!=0)
        {
            eme.pre_payment = eme.premium;
        }
        else
        {
            eme.pre_payment = eme.premium + eme.pre_payment;
        }
        printf( "%f %f\n",eme.premium,eme.pre_payment );
        fseek(fq,-recsize_eme,SEEK_CUR);
        fwrite(&eme,recsize_eme,sizeof(eme)/recsize_eme,fq);
    }
}
fclose(fp); 
```

该函数是否正确更新值但在写入时会继续无限打印值。 **eme**是我声明的 struct Employee 的一个属性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:29:43.947

您不是说您在哪个平台上，但我可以使用 MingW gcc 4.6.2 在 MS-Windows 上重现您的问题。问题是[Windows](https://stackoverflow.com/questions/7316920/using-fread-and-fwrite-in-one-stream-at-the-same-time-caused-a-problem)在`fwrite()`. 添加

```
fflush(fq); 
```

打电话后`fwrite()`解决这个问题。

另请参阅我的[SSCCE](http://sscce.org/)，网址为[https://github.com/afester/StackOverflow/tree/master/updateRecord](https://github.com/afester/StackOverflow/tree/master/updateRecord)

# iphone - 使用 xCode 4.2 在 Interface Builder 中删除自动布局（约束）

> ID：13245417
> 
> 赞同：0
> 
> 时间：2012-11-06T06:14:59.250
> 
> 标签：iphone, ios, ipad, xcode4.2, xcode4.5

我在 xcode 4.5 中创建了一个项目但现在我有 xcode 4.2，在 Xcode 4.2 中我无法打开项目的 nib 文件。当我单击 nib 文件时，它显示以下错误消息。

![在此处输入图像描述](../Images/25f6b1b6703d31a9b238f25ed8be78e7.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T06:28:49.547

进入 xib-->showfileInspectore ->

![在此处输入图像描述](../Images/4a70d78c670ca6d87ed851c72644ccb2.png)

取消选中使用自动布局，如下图所示

![在此处输入图像描述](../Images/73f0cb163536ed1bc460f51c93f3a62b.png)

# ios - 如何使用“app access_token”删除应用分数？

> ID：13245422
> 
> 赞同：2
> 
> 时间：2012-11-06T06:15:15.983
> 
> 标签：ios, facebook, facebook-graph-api, facebook-access-token

我不擅长英语。对此感到抱歉~

这是我删除应用程序分数的代码。我正在使用这个 facebook 游戏教程[ios-friend-smash](https://github.com/fbsamples/ios-friend-smash)

```
[FBRequestConnection startWithGraphPath:[NSString stringWithFormat:@"APP_ID/scores"] parameters:params HTTPMethod:@"DELETE" completionHandler:^(FBRequestConnection *connection, id result, NSError *error) 
```

当我尝试构建和运行时，出现以下错误。

```
error code 400 :This method must be called with an app access_token. 
```

但它成功获得分数发送分数。

如何使用 清除分数`APP_ACCESS_TOKEN`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T20:28:52.477

您可以通过以下方式删除用户的分数：

```
[FBRequestConnection startWithGraphPath:[NSString stringWithFormat:@"me/scores"]
                             parameters:params 
                             HTTPMethod:@"DELETE" 
                      completionHandler:^(FBRequestConnection *connection, 
                                          id result, NSError *error) 
```

您无需提供应用访问令牌。它会改为使用当前登录用户的访问令牌。

另请参阅：[https ://developers.facebook.com/docs/scores/](https://developers.facebook.com/docs/scores/)

如果您想删除应用程序的所有分数，那么是的，您需要调用 APP_ID/scrores 端点。由于您需要应用程序访问权限才能执行此操作，因此请勿从 iOS 应用程序调用它。应用程序访问令牌只能在服务器环境中使用，因此它是安全的。

# vb.net - 将数据插入 SQL Server Compact

> ID：13245423
> 
> 赞同：0
> 
> 时间：2012-11-06T06:15:38.027
> 
> 标签：vb.net

我正在开发一个将数据输入到 SQL Server CE 本地数据库（`*.sdf`文件）的 VB.NET 程序。

我的代码是这样的：

```
 Imports System.Data.SqlClient
    Public Class Form1
    Dim myConnection As SqlConnection
    Dim myCommand As SqlCommand
    Dim ra As Integer

    Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
        myConnection = New SqlConnection("Data Source= Database1.sdf")
        myConnection.Open()
        myCommand = New SqlCommand("Insert into website('"TextBox1.Text"')", myConnection)
        ra = myCommand.ExecuteNonQuery()
        MessageBox.Show("Updated")
        myConnection.Close()
    End Sub

    Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
        TextBox1.Text = My.Settings.SaveWebsite
    End Sub
End Class 
```

在编译过程中出现三个错误：

> 错误 1：未为“公共子新建（cmdText 作为字符串，连接作为 System.Data.SqlClient.SqlConnection，事务作为 System.Data.SqlClient.SqlTransaction）”的参数“连接”指定参数。
> 
> 错误 2
> 逗号、')' 或预期的有效表达式继续。
> 
> 错误 3
> 类型“System.Data.SqlClient.SqlConnection”的值无法转换为“System.Data.SqlClient.SqlTransaction”。

这是我第一次使用 VB.NET，我希望有人可能知道我在这里做错了什么。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:41:02.123

好吧，对于初学者来说：当针对 SQL Server **Compact** Edition（`*.sdf`文件）时，您需要使用`SqlCeConnection`and `SqlCeCommand`（不是`SqlConnection`或`SqlCommand`- 那些用于成熟的 SQL Server，非紧凑）

其次：您的`INSERT`陈述不正确 - 正确的 SQL 语法是：

```
INSERT INTO Table (col1, col2, ..., colN) 
VALUES(val1, val2, ..., valN) 
```

# sql - 加入 Db2 查询

> ID：13245424
> 
> 赞同：1
> 
> 时间：2012-11-06T06:15:40.133
> 
> 标签：sql, db2

我已经使用内连接连接了两个表。这里表的主键`TPREG`是`co_id`和`pol_id`

```
 SELECT (SELECT etbl_desc_txt
       FROM uding604.tedit e
       WHERE etbl_typ_id = 'PITCD'
       AND   co_id = 'CP'
       AND   etbl_valu_id = p.pol_ind_typ_cd) pol_ind_typ_cd,
       (SELECT etbl_desc_txt
        FROM uding604.tedit e
        WHERE etbl_typ_id = 'PAYT'
        AND   co_id = 'CP'
        AND   etbl_valu_id = p.POL_BILL_TYP_CD) POL_BILL_TYP_CD,
       POL_PAC_DRW_DY,
       (SELECT etbl_desc_txt
        FROM uding604.tedit e
        WHERE etbl_typ_id = 'PAYM'
        AND   co_id = 'CP'
        AND   etbl_valu_id = p.POL_BILL_MODE_CD) POL_BILL_MODE_CD,
       t.SOURCE_CD
FROM uding604.tpol p,
     uding604.TPREG t
WHERE p.co_id = t.co_id
AND   p.pol_id = t.pol_id
AND   p.co_id = 'CP'
AND   p.pol_id = '000000011'
AND   t.co_id = 'CP'
AND   t.pol_id = '000000011' 
```

如何使这个查询更简单？

请指导。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T07:05:07.313

您可以将子查询转换为连接：。

```
SELECT e1.etbl_desc_txt as pol_ind_typ_cd,
       e2.etbl_desc_txt as POL_BILL_TYP_CD,
       POL_PAC_DRW_DY,
       e3etbl_desc_txt as POL_BILL_MODE_CD,
       t.SOURCE_CD
FROM uding604.tpol p,
     uding604.TPREG t,
     uding604.tedit e1,
     uding604.tedit e2,
     uding604.tedit e3
WHERE p.co_id = t.co_id
AND   p.pol_id = t.pol_id
AND   p.co_id = 'CP'
AND   p.pol_id = '000000011'
AND   t.co_id = 'CP'
AND   t.pol_id = '000000011'
AND   e1.etbl_typ_id = 'PITCD'
AND   e1.co_id = 'CP'
AND   e1.etbl_valu_id = p.pol_ind_typ_cd
AND   e2.etbl_typ_id = 'PAYT'
AND   e2.co_id = 'CP'
AND   e2.etbl_valu_id = p.POL_BILL_TYP_CD
AND   e3.etbl_typ_id = 'PAYM'
AND   e3.co_id = 'CP'
AND   e3.etbl_valu_id = p.POL_BILL_MODE_CD 
```

查询在子句上更清晰，`select`但在子句中模糊`Where`。

我们可以做的是继续 ANSI JOIN 语法：

```
SELECT e1.etbl_desc_txt as pol_ind_typ_cd,
       e2.etbl_desc_txt as POL_BILL_TYP_CD,
       POL_PAC_DRW_DY,
       e3etbl_desc_txt as POL_BILL_MODE_CD,
       t.SOURCE_CD
FROM uding604.tpol p 
JOIN uding604.TPREG t on (p.co_id = t.co_id AND p.pol_id = t.pol_id)
JOIN uding604.tedit e1 on (e1.etbl_valu_id = p.pol_ind_typ_cd and e1.co_id = p.co_id)
JOIN uding604.tedit e2 on (e2.etbl_valu_id = p.POL_BILL_TYP_CD and e2.co_id = p.co_id)
JOIN uding604.tedit e3 on (e3.etbl_valu_id = p.POL_BILL_MODE_CD and e3.co_id = p.co_id)
WHERE p.co_id = 'CP'
AND   p.pol_id = '000000011'
AND   t.co_id = 'CP'
AND   t.pol_id = '000000011'
AND   e1.etbl_typ_id = 'PITCD'
AND   e2.etbl_typ_id = 'PAYT'
AND   e3.etbl_typ_id = 'PAYM' 
```

现在更清楚你想要什么。

注1。您可以尝试删除

```
AND   t.co_id = 'CP'
AND   t.pol_id = '000000011' 
```

因为不是必然的逻辑。

笔记2。您必须测试这些查询是否返回与您的查询相同的结果。

注3。您应该始终使用 ANSI JOIN 语法，它会在您意想不到的时候帮助您。

# php - 上传图像表格和另一个填写表格

> ID：13245426
> 
> 赞同：4
> 
> 时间：2012-11-06T06:15:54.517
> 
> 标签：php, jquery, ajax, forms, file-upload

我所拥有的是一个包含姓名、地址等详细信息的表格......以及另一个单独的上传个人资料图片表格。我想在提交“父”（单独）表单时获取该（可选）上传的图片。
**现在他们的工作方式是这样的：**
上传的图片被发送`.ajaxSubmit()`到 process_uploaded_image.php。然后对其进行处理、调整大小，并在“转储/临时”文件夹中制作新图片。我可以将它返回，以可以回`success: function(data)`显的数据形式`$image_path_and_name`或作为`<img src="$image_path_and_name"/>`. 我是这样做的 - 有一个临时图像 - 因为
（1）我想让用户查看他刚刚上传的内容（记住我已经将它返回到 jquery 的路径或 img 元素，我可以将它放在我想要的任何地方）， 和
(2) 上传的图片不是最终的，直到“父”表单完成注册。毕竟它仍然是一个临时图像。

所以，*问题是*：**我想访问该上传的图像，并在提交时将其与“父”表单一起“带上”** ......我该如何准确地做到这一点？从技术上讲，它不是父表单，因为我知道表单中的表单是不允许的。但它在逻辑上被捆绑并在该父形式下。我会感谢任何帮助，但如果可能的话，如果你能考虑我目前的情况，我会更加感激，这样我就不必从头开始了。再次感谢。

**我的想法：（**请让我知道这是多么可行……和/或关于我如何做 #1 的指南）
`$image_path_and_name`1.“重建”或从ajax-jquery返回的字符串 （数据）复制该文件，或`<img src="$image_path_and_name"/>`将其放在最终上传文件夹中。**<---这就是我难过的地方！**我不能只使用`move_uploaded_file()`，可以吗？
2\. 因为，从这一点开始一切都是最终的......我可以将其文件路径以及其他表单信息保存到我的数据库中。
3\. 清空转储/临时文件夹。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:24:58.757

我的解决方案是使用 iframe 进行上传，并在 iframe 的返回页面中使用这样的 JavaScript

```
echo("<script type=\"text/javascript\">parent.insert('". $WHAT_YOU_WANT . "');</script>"); 
```

并且该函数`insert`在父页面中定义，并且可以将字符串插入到您想要的位置。`obj_ta`是目标文本字段或其他内容。

```
//A simple input
function insert(str) {
    obj_ta.value = str;
}

//A textfield which accept some other user inputs
function insert(str) {
var startPos = obj_ta.selectionStart,
    val = obj_ta.value;
obj_ta.value = val.substring(0, startPos) + str + val.substring(startPos, obj_ta.value.length);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T07:02:01.647

如果您有文件位置并且在用户验证并确认图像后，您可以使用[复制](http://php.net/manual/en/function.copy.php)功能从临时文件夹复制到主文件夹。所以它会像

```
1) copy($file, $newfile) 
```

2) 更新关于新路径的数据库。

3）从旧路径中取消链接文件。

```
unlink($file); 
```

有关[取消链接文件的更多信息](http://php.net/manual/en/function.unlink.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T06:56:15.870

制作两个文件夹，一个作为临时文件夹，另一个作为最终文件夹.......上传图片后，将文件名放入主窗体中的隐藏字段......然后在发送数据库中的数据时移动图像到最终文件夹和名称（来自隐藏字段）到数据库中..

# android - 在摩托罗拉 XT925 设备上单击 2-3 次后无法单击 android Listview

> ID：13245431
> 
> 赞同：1
> 
> 时间：2012-11-06T06:16:15.910
> 
> 标签：android, listview, motorola

在摩托罗拉 XT925 设备上单击 2-3 次后，我无法单击列表视图。

步骤如下：

单击列表视图活动1，它将重定向到活动2。从活动2，单击后退按钮，它将重定向到活动1。重复上述步骤 2-3 次，之后列表视图不可点击。

此方案适用于除摩托罗拉 XT925 设备之外的所有设备。任何帮助将不胜感激。

谢谢

# jquery - jqplot 手动自定义缩放或设置缩放级别

> ID：13245433
> 
> 赞同：0
> 
> 时间：2012-11-06T06:16:22.940
> 
> 标签：jquery, jqplot

我正在为车辆时间表开发折线图。在图表中显示时间的 X 轴和显示停止点的 Y 轴。我通过使用**plugins/jqplot.cursor.js在图表中提供了缩放功能**

这里根据页面加载本身的要求，图表应放大 50%。或者我可以使用特定的缩放级别手动调用缩放功能吗？

非常感谢我的查询的任何解决方案。

谢谢

普拉迪普

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T14:23:35.163

使用 XY 最小-最大范围的最大问题是您无法缩小，因为从技术上讲，您处于 100% 的缩放状态。不幸的是，我没有找到使用 jqplot 手动设置特定缩放级别的任何方法。

# java - 如何使用 jasper 报告使 jrxml 通用？

> ID：13245446
> 
> 赞同：0
> 
> 时间：2012-11-06T06:17:48.617
> 
> 标签：java, pdf, csv, jasper-reports, xls

我已经在我的应用程序中实现了 Jasper Reports。但我必须让它通用吗？请给我一些建议？例如，

```
<property name="net.sf.jasperreports.export.csv.exclude.origin.keep.first.band.columnHeader" value="columnHeader" />
    <property name="net.sf.jasperreports.export.csv.exclude.origin.band.columnFooter" value="columnFooter" />
    <property name="net.sf.jasperreports.export.csv.exclude.origin.band.pageFooter" value="pageFooter" />
    <property name="net.sf.jasperreports.export.csv.exclude.origin.band.lastPageFooter" value="lastPageFooter" />
    <property name="net.sf.jasperreports.export.csv.exclude.origin.band.summary" value="summary" />
    <property name="net.sf.jasperreports.export.pdf.force.linebreak.policy" value="true" />
    <property name="net.sf.jasperreports.export.xls.exclude.origin.band.2" value="pageFooter" />
    <property name="net.sf.jasperreports.export.xls.exclude.origin.keep.first.band.columnHeader" value="columnHeader" />
    <property name="net.sf.jasperreports.export.xls.auto.filter" value="Start" />
    <property name="net.sf.jasperreports.export.xls.freeze.column.edge" value="Left" />
    <property name="net.sf.jasperreports.print.keep.full.text" value="true"/>
    <property name="net.sf.jasperreports.export.xls.remove.empty.space.between.columns" value="true"/>
    <property name="net.sf.jasperreports.export.xls.property.ignore.page.margins" value="true"/>
    <property name="net.sf.jasperreports.export.xls.remove.empty.space.between.rows" value="true"/>
    <property name="net.sf.jasperreports.export.xls.font.size.fix.enabled" value="true"/>
    <property name="net.sf.jasperreports.export.xls.collapse.row.span" value="true"/>
    <property name="net.sf.jasperreports.export.xls.white.page.background" value="false"/> 
```

这种代码和平对于所有 jrxml 文件都是通用的。我想让它通用如何？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T06:24:00.250

我相信您可以将这些通用属性从 jrxml 文件中移出并放入一个名为的属性文件`jasperreports.properties`中（它必须在类路径中）。

它使用标准的 Java 属性文件格式而不是 XML 格式，例如

```
net.sf.jasperreports.export.csv.exclude.origin.keep.first.band.columnHeader=columnHeader
net.sf.jasperreports.export.csv.exclude.origin.band.columnFooter=columnFooter
# and so on... 
```

# joomla - 升级到 Xampp 1.8.1 后，无法查看我的网站

> ID：13245449
> 
> 赞同：2
> 
> 时间：2012-11-06T06:18:22.560
> 
> 标签：joomla, xampp, upgrade

我使用的是 xampp 1.7.0，但只是决定升级到 xampp 1.8.1。我卸载了 1.7 但没有卸载 htdocs 和 mysql 服务器。
我现在安装了 1.8 并通过 xampp 安全页面为 xampp 目录和 mysql 创建密码。不幸的是，我无法再次查看我的网站，它们都给出错误，这是一个示例错误：

```
Strict Standards: Non-static method JLoader::import() should not be called statically in C:\xampp\htdocs\3nity\libraries\joomla\import.php on line 29
Strict Standards: Non-static method JLoader::register() should not be called statically in C:\xampp\htdocs\3nity\libraries\loader.php on line 71
Strict Standards: Non-static method JLoader::import() should not be called statically in C:\xampp\htdocs\3nity\libraries\joomla\import.php on line 32
Strict Standards: Non-static method JLoader::register() should not be called statically in C:\xampp\htdocs\3nity\libraries\loader.php on line 71
Strict Standards: Non-static method JLoader::register() should not be called statically in C:\xampp\htdocs\3nity\libraries\loader.php on line 138
Strict Standards: Non-static method JRequest::clean() should not be called statically in C:\xampp\htdocs\3nity\libraries\joomla\import.php on line 33
Strict Standards: Non-static method JRequest::_cleanArray() should not be called statically in C:\xampp\htdocs\3nity\libraries\joomla\environment\request.php on line 463 
```

请问我能做什么，因为我没有所有网站的备份，现在手头的当前客户项目已经努力工作了 5 年。

我使用的是 64 位的 win 7 操作系统，使用了 xampp-win32-1.8.1-VC9-installer。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:44:29.650

这可能是由于最新 XAMPP 中的 PHP 版本不同（较新）。PHP 5.4（准确地说是 PHP 5.4.7）对错误代码的警告更加严格。

真正的问题在于实际的 PHP 代码（您的代码或包使用中使用的代码，如 Joomla）。

如果它来自您的代码，您应该修复它。通过以静态方式访问静态方法属性或属性来做到这一点（例如`class Foo { public static $bar = 123; }`，`Foo::$bar`访问它，并`class Bar { public static function foo() { } }`调用`Bar::foo()`它。注意我们如何使用`::`而不是`->`。这意味着没有活动的实例化状态（换句话说，`$bar = new Bar(); $bar->foo();`不正确为它将它作为实例方法调用，而不是通过`Bar::foo()`) 静态调用。

同样，如果问题是相反的，开发人员可能必须声明一个方法，就`static`好像它是无状态的并被静态调用。

对于 Joomla 案，似乎已经有各种报道：

*   [http://forum.joomla.org/viewtopic.php?t=271244](http://forum.joomla.org/viewtopic.php?t=271244)
*   [http://www.apachefriends.org/f/viewtopic.php?p=182516](http://www.apachefriends.org/f/viewtopic.php?p=182516)
*   [http://www.apachefriends.org/f/viewtopic.php?p=166802](http://www.apachefriends.org/f/viewtopic.php?p=166802)

（通过将错误粘贴到 Google 中找到！）

详细了解状态和静态之间的区别：

*   [http://php.net/manual/en/language.oop5.static.php](http://php.net/manual/en/language.oop5.static.php)
*   [http://phpduck.com/php-static-methods-and-properties/](http://phpduck.com/php-static-methods-and-properties/)

如果您只有警告（没有错误），请查看“php error_reporting”以了解如何禁用这些无害警告（通过降低错误报告级别）。这样您就可以减少噪音并专注于重要的事情。

在开发过程中，您可能不应该隐藏任何警告，以便您可以发现它们并改进您的代码。但在生产中，最好隐藏警告并仅记录错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T21:08:33.037

在浏览了提供的所有信息和链接后，我能够克服严格的标准问题。我之前所做的更改没有反映出来，因为我更改了错误行的值。这就是我所做的：我必须编辑我的 php.ini 文件的第 535 和 552 行并将显示错误设置为 OFF，并且还使用了这个设置：error_reporting = E_ALL & ~E_NOTICE。Joomla 1.5 和 2.5 网站都不会再出现错误。谢谢大家。

# sql - 执行从“OUTPUT DELETED.[ColumnName]”语句返回的 varchar 的值

> ID：13245451
> 
> 赞同：0
> 
> 时间：2012-11-06T06:18:07.700
> 
> 标签：sql, sql-server-2008, stored-procedures

我正在尝试将表用作[堆队列](http://rusanu.com/2010/03/26/using-tables-as-queues/)。但是，我在弄清楚如何获取出队函数中生成的文本并对其执行执行时遇到了一些麻烦。

这是存储队列和出队方法的表。

```
CREATE TABLE [dbo].[Merge_Queued_Work](Sql_Text varchar(2000) NOT NULL)
GO

create procedure usp_dequeueWork
as
  set nocount on;
  delete top(1) from [Merge_Queued_Work] with (rowlock, readpast)
      output deleted.[Sql_Text];      
go 
```

如何从语句中获取`deleted.[Sql_Text]`varchar `execute`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:30:11.017

在表变量中捕获输出并从表变量中填充一个 varchar 变量。

```
create procedure usp_dequeueWork
as
  set nocount on;

  declare @T table(Sql_Text varchar(2000))
  declare @S varchar(2000)

  delete top(1) from [Merge_Queued_Work] with (rowlock, readpast)
      output deleted.[Sql_Text] into @T;      

  select @S = Sql_Text from @T

  exec (@S) 
```

# javascript - 使用 Javascript 为 Android（Nexus 7 平板电脑）获取正确的设备显示宽度

> ID：13245454
> 
> 赞同：1
> 
> 时间：2012-11-06T06:18:19.897
> 
> 标签：javascript, android, tablet

screen.width 和 .height 应包含平板电脑的屏幕分辨率（以设备像素为单位），并且应在设备方向更改时更改（参考，请参阅 [http://www.quirksmode.org/mobile/tableViewport.html](http://www.quirksmode.org/mobile/tableViewport.html)）。但是，对于 Nexus 7 Android 平板电脑，无论方向如何，这些值始终为 screen.width = 1280 和 screen.height = 736。736 的高度允许 64 像素的状态栏（实际屏幕高度 = 800 像素）。

在纵向模式下翻转这些值很容易（window.orientation=== 0 || window.orientation=== 180），它给出宽度 736 和高度 1280，但由于状态栏保持在顶部，正确的值应该为 800 x 1216。

是否有通用/最佳实践方法来获取 Android 设备（如 Nexus 7）上的设备像素的屏幕宽度？我知道 window.outerWidth，但注意到它有时是不正确的。方向更改时无法交换宽度和高度是所有Android设备的共同点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T21:50:11.127

我也在为 Nexus 7 屏幕缩小而苦苦挣扎，但是您最好获取文档或窗口的实际浏览器尺寸，这些尺寸会根据方向自行调整。

这个网站在解释它方面做得更好[http://responsejs.com/labs/dimensions/](http://responsejs.com/labs/dimensions/)

# iphone - 无法使用 Sudzc 制作 iPhone 项目

> ID：13245455
> 
> 赞同：0
> 
> 时间：2012-11-06T06:18:40.087
> 
> 标签：iphone, ios, ios5, wsdl, sudzc

我无法使用`Sudzc`. 即使我使用正确的用户名和密码。它显示了这个错误。

```
"Problems Generating Your Code.
The following issues were encountered while generating your code.
No WSDL files have been specified : Could not create WSDL" 
```

我陷入了这个问题。

# android - 如何从先前的意图中获取 Arraylist Extra 的 Hashmap？

> ID：13245459
> 
> 赞同：0
> 
> 时间：2012-11-06T06:18:35.107
> 
> 标签：android, android-intent

我将arraylist的hashmap额外放在旧意图中（SaleActivity）

```
Intent newActivity = new Intent(SaleActivity.this,UpdateActivity.class);
newActivity.putExtra("saleArrList", saleArrList);
startActivity(newActivity); 
```

然后，我从 newactivity (UpdateActivity)

```
Intent intent= getIntent();
final ArrayList<HashMap<String, String>> saleArrList = intent.get...Extra("saleArrList"); 
```

... 中的什么代码，我应该使用。非常感谢大家的回答。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:29:33.860

当您添加额外内容时，它会将您的数组列表视为`Serializable`. 你应该使用：

```
Serializable serialized = intent.getSerializableExtra("saleArrList"); 
```

不幸的是，将其转换为`ArrayList<HashMap<String,String>>`将生成有关未经检查的转换的编译器警告。这是由于类型擦除在 Java 中的工作方式。没有干净简单的方法可以消除此警告。不干净的方法是通过放置来抑制警告

```
@SuppressWarnings("unchecked") 
```

在您的方法的顶部。这会抑制所有未经检查的转换警告，因此它不是特别安全。但是，您可以编写：

```
final ArrayList<HashMap<String, String>> saleArrList =
    (ArrayList<HashMap<String,String>>)intent.getSerializableExtra("saleArrList"); 
```

# android - 排序arraylist错误？

> ID：13245467
> 
> 赞同：0
> 
> 时间：2012-11-06T06:18:57.027
> 
> 标签：android, sorting, collections, arraylist, mismatch

我在音乐播放器应用程序上对歌曲列表进行排序时遇到问题。这是代码：

```
 public ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.playlist);

    ArrayList<HashMap<String, String>> songsListData = new ArrayList<HashMap<String, String>>();

    SongsManager plm = new SongsManager();
    // get all songs from sdcard
    this.songsList = plm.getPlayList();

    // looping through playlist
    for (int i = 0; i < songsList.size(); i++) {
        // creating new HashMap
        HashMap<String, String> song = songsList.get(i);

        // adding HashList to ArrayList
        songsListData.add(song);
        Collections.sort(songsListData); << The problem is in this line
    }

.
.
.
.
.

} 
```

它给出了这个错误：“绑定不匹配：集合类型的泛型方法 sort(List) 不适用于参数 (ArrayList>)。推断的类型 HashMap 不是有界参数的有效替代 >”

谁能帮我解决这个问题？提前致谢

编辑：所以基于 Paresh，我将其更改为：

```
Collections.sort(songsListData, new myOwnComparator());

public class myOwnComparator implements Comparator<HashMap<String, String>> {

        public myOwnComparator() {
            // TODO Auto-generated constructor stub
        }

        public int compare(HashMap<String, String> o1, HashMap<String, String> o2) {
             return o1.get("KeyName").compareTo(o2.get("KeyName"));
        }
} 
```

但它仍然不起作用。这是日志猫：

11-12 12:49:09.450: D/dalvikvm(6584): GC_EXTERNAL_ALLOC 释放 151K, 52% 空闲 2662K/5447K, 外部 903K/1034K, 暂停 23ms 11-12 12:49:09.505: D/AndroidRuntime(6584):关闭 VM 11-12 12:49:09.510: W/dalvikvm(6584): threadid=1: 线程退出未捕获异常 (group=0x4001e578) 11-12 12:49:09.515: E/AndroidRuntime(6584): FATAL例外：主 11-12 12:49:09.515：E/AndroidRuntime(6584)：java.lang.RuntimeException：无法启动活动 ComponentInfo{com.example.musicshare/com.example.musicshare.PlayListActivity}：java.lang。 NullPointerException 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1651) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 android .app.ActivityThread.handleLaunchActivity(ActivityThread.java:1667) 11-12 12:49:09.515: E/AndroidRuntime(6584):在 android.app.ActivityThread.access$1500(ActivityThread.java:117) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 android.app.ActivityThread$H.handleMessage(ActivityThread.java:935) 11 -12 12:49:09.515: E/AndroidRuntime(6584): 在 android.os.Handler.dispatchMessage(Handler.java:99) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 android.os .Looper.loop(Looper.java:123) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 android.app.ActivityThread.main(ActivityThread.java:3691) 11-12 12:49:09.515 : E/AndroidRuntime(6584): at java.lang.reflect.Method.invokeNative(Native Method) 11-12 12:49:09.515: E/AndroidRuntime(6584): at java.lang.reflect.Method.invoke(Method .java:507) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:847) 11-12 12:49:09.515 ：E/AndroidRuntime(6584): 在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java:605) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 dalvik.system.NativeStart.main （本机方法）11-12 12:49:09.515：E/AndroidRuntime(6584)：引起：java.lang.NullPointerException 11-12 12:49:09.515：E/AndroidRuntime(6584)：在 com.example.musicshare .PlayListActivity$myOwnComparator.compare(PlayListActivity.java:103) 11-12 12:49:09.515: E/AndroidRuntime(6584): at com.example.musicshare.PlayListActivity$myOwnComparator.compare(PlayListActivity.java:1) 11- 12 12:49:09.515: E/AndroidRuntime(6584): 在 java.util.TimSort.countRunAndMakeAscending(TimSort.java:320) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 java.util。 TimSort.sort(TimSort.java:199) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 java.util.TimSort.sort(TimSort.java:169) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 java.util.Arrays.sort(Arrays.java:2090) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在java.util.Collections.sort(Collections.java:1965) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 com.example.musicshare.PlayListActivity.onCreate(PlayListActivity.java:61) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 11-12 12:49:09.515: E/AndroidRuntime(6584): 在 android.app.ActivityThread .performLaunchActivity(ActivityThread.java:1615) 11-12 12:49:09.515: E/AndroidRuntime(6584): ... 11 更多 11-12 12:50:21.790: D/dalvikvm(6717): GC_EXTERNAL_ALLOC 释放 152K, 52% 免费 2663K/5447K，外部 1015K/1034K，暂停 52ms 11-12 12:50:21.840: D/AndroidRuntime(6717): 关闭 VM 11-12 12:50:21.850: W/dalvikvm(6717):threadid=1：线程以未捕获的异常退出（组=0x4001e578）11-12 12：50：21.855：E/AndroidRuntime（6717）：致命异常：主要 11-12 12：50：21.855：E/AndroidRuntime（6717）： java.lang.RuntimeException：无法启动活动 ComponentInfo{com.example.musicshare/com.example.musicshare.PlayListActivity}：java.lang.NullPointerException 11-12 12:50:21.855：E/AndroidRuntime(6717)：在 android .app.ActivityThread.performLaunchActivity(ActivityThread.java:1651) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1667) 11-12 12:50 :21.855: E/AndroidRuntime(6717): 在 android.app.ActivityThread.access$1500(ActivityThread.java:117) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 android.app.ActivityThread$H .handleMessage(ActivityThread.java:935) 11-12 12:50:21.855:E/AndroidRuntime(6717): 在 android.os.Handler.dispatchMessage(Handler.java:99) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 android.os.Looper.loop(Looper.java :123) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 android.app.ActivityThread.main(ActivityThread.java:3691) 11-12 12:50:21.855: E/AndroidRuntime(6717):在 java.lang.reflect.Method.invokeNative(Native Method) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 java.lang.reflect.Method.invoke(Method.java:507) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:847) 11-12 12:50:21.855: E/AndroidRuntime(6717):在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java:605) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 dalvik.system.NativeStart.main(Native Method) 11-12 12:50:21.855:E/AndroidRuntime(6717): 引起: java.lang.NullPointerException 11-12 12:50:21.855: E/AndroidRuntime(6717): at com.example.musicshare.PlayListActivity$myOwnComparator.compare(PlayListActivity.java:103) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 com.example.musicshare.PlayListActivity$myOwnComparator.compare(PlayListActivity.java:1) 11-12 12:50:21.855: E/AndroidRuntime(6717) : 在 java.util.TimSort.countRunAndMakeAscending(TimSort.java:320) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 java.util.TimSort.sort(TimSort.java:199) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 java.util.TimSort.sort(TimSort.java:169) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 java.util.Arrays .sort(Arrays.java:2090) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 java.util.Collections.sort(Collections.java:1965) 11-12 12:50:21.855:E/AndroidRuntime(6717): 在 com.example.musicshare.PlayListActivity.onCreate(PlayListActivity.java:61) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 android.app.Instrumentation.callActivityOnCreate(Instrumentation .java:1047) 11-12 12:50:21.855: E/AndroidRuntime(6717): 在 android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1615) 11-12 12:50:21.855: E/AndroidRuntime(6717) ): ... 11 更多

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T06:59:09.500

正如您所拥有的`ArrayList<HashMap<String, String>>`，您需要创建自定义比较器，例如：

```
public class myOwnComparator implements Comparator<HashMap<String, String>> {

    public myOwnComparator() {
        // TODO Auto-generated constructor stub
    }

    public int compare(HashMap<String, String> o1, HashMap<String, String> o2) {
         return o1.get("KeyName").compareTo(o2.get("KeyName"));
    }
} 
```

然后将此比较器应用于您的数据：

```
Collections.sort(songsListData, new myOwnComparator()); 
```

# python - Python：zip 在这个列表理解中做了什么

> ID：13245470
> 
> 赞同：0
> 
> 时间：2012-11-06T06:19:05.113
> 
> 标签：python, list-comprehension

我试图理解这一点：

```
a = "hello"
b = "world"
[chr(ord(x) ^ ord(y)) for (x, y) in zip(a[:len(b)], b)] 
```

我理解这`XOR`部分，但我不明白 zip 在做什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T06:21:59.087

`zip`将`a`和的每个字母组合`b`在一起。

```
a = "hello"
b = "world"
print zip(a, b)
>>>
    [('h', 'w'), ('e', 'o'), ('l', 'r'), ('l', 'l'), ('o', 'd')] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T06:21:38.510

它并没有为[zip](http://docs.python.org/2/library/functions.html#zip)做任何不寻常的事情。

由于假定了这种行为，因此列表切片`a`是多余的。`zip`

如文档中所述：

> > > 此函数返回一个元组列表，其中第 i 个元组包含来自每个参数序列或可迭代对象的第 i 个元素。

# php - 在 CodeIgniter 中实现 Twitter 登录

> ID：13245473
> 
> 赞同：2
> 
> 时间：2012-11-06T06:19:39.557
> 
> 标签：php, codeigniter, twitter

我想在我的项目中实现 Twitter 登录。我的项目是用 CodeIgniter 编码的。有人可以给我一个逐步的过程来实现这个吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T06:44:49.387

只需参考以下链接-integration [-twitter-api-with-codeigniter](http://amiworks.co.in/talk/integrating-twitter-api-with-codeigniter/)和

[Auth---第三方认证](https://github.com/ericbae/Tank-Auth---3rd-Party-Authentication-Project)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-23T09:21:11.747

```
//use  Codeigniter-TwitterOAuth
//https://github.com/MunGell/Codeigniter-TwitterOAuth
//download url: https://github.com/MunGell/Codeigniter-TwitterOAuth/archive/master.zip
//Usage

  //  There are two ways to load library to Codeigniter. Automatically within ./config/autoload.php or directly in your controller by adding this line:

    $this->load->library('twitteroauth');

    //Create an instance:

    $connection = $this->twitteroauth->create($consumer, $consumer_secret, $access_token, $access_token_secret);

    //Verify your authentication details:

    $content = $connection->get('account/verify_credentials');

    //Send a message:

    $data = array(
        'status' => $message,
        'in_reply_to_status_id' => $in_reply_to
    );
    $result = $connection->post('statuses/update', $data); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T06:26:59.147

嗨，试试 philsturgeon [oauth的这个 oauth 库](https://github.com/philsturgeon/codeigniter-oauth)

# mysql - 错误 (1093)：您无法在 FROM 子句中更新目标表以进行更新

> ID：13245476
> 
> 赞同：2
> 
> 时间：2012-11-06T06:19:28.573
> 
> 标签：mysql

**这是我得到正确答案的选择语句：**

```
select s_billing_cycle.Billing_cycle from s_billing_cycle 
join o_daily_lcsgeneration_copy on o_daily_lcsgeneration_copy.Location=s_billing_cycle.Location where o_daily_lcsgeneration_copy.Date between s_billing_cycle.From_Date and s_billing_cycle.To_Date 
```

**在将相同的查询更新到另一个表时，我无法使用更新查询获取：您无法更新目标表“o_daily_lcsgeneration_copy”以在 FROM 子句中进行更新，我使用的查询是：**

```
update o_daily_lcsgeneration_copy  set o_daily_lcsgeneration_copy.Billing_cycle = (select s_billing_cycle.Billing_cycle from s_billing_cycle join o_daily_lcsgeneration_copy on o_daily_lcsgeneration_copy.Location=s_billing_cycle.Location where o_daily_lcsgeneration_copy.Date between s_billing_cycle.From_Date and s_billing_cycle.To_Date) 
```

帮我 ！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:24:32.187

将其包装在子查询中（*从而创建临时表*）

```
UPDATE  o_daily_lcsgeneration_copy
SET     o_daily_lcsgeneration_copy.Billing_cycle = 
(
    SELECT Billing_cycle
    FROM
    (
        SELECT  s_billing_cycle.Billing_cycle
        FROM    s_billing_cycle
                INNER JOIN o_daily_lcsgeneration_copy
                    ON o_daily_lcsgeneration_copy.Location = s_billing_cycle.Location
        WHERE   o_daily_lcsgeneration_copy.DATE BETWEEN s_billing_cycle.From_Date
                AND s_billing_cycle.To_Date
    ) s
) 
```

或`JOIN`桌子

```
UPDATE  o_daily_lcsgeneration_copy a
        INNER JOIN s_billing_cycle b
            ON a.Location = b.Location
SET     a.Billing_cycle = b.Billing_cycle
WHERE   a.DATE BETWEEN b.From_Date AND b.To_Date 
```

# javascript - Python中的Javascript弹出cfmail

> ID：13245480
> 
> 赞同：0
> 
> 时间：2012-11-06T06:19:51.520
> 
> 标签：javascript, python, coldfusion

我使用 BeautifulSoup 从页面中提取电子邮件链接。我对如何将电子邮件发送到产生弹出式电子邮件表单的链接感兴趣。

更简单地说：是否*可以*向仅包含此数据的地址发送电子邮件？

```
href = javascript:popUp('cfmail.cfm?LName=LastName&FName=FirstName') 
```

或者，如果我点击代码中的链接，是否可以填写它生成的电子邮件表单？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T08:56:21.350

不，不可能单独提取包含该信息的电子邮件，除非您有权访问服务器并正确地设置变量`LastName`和`FirstName`. 该行`cfmail.cfm?LName=LastName&FName=FirstName`正在从站点的服务器获取用户的电子邮件，大概是在用户登录之后。

# java - 如何在 Java 中使用类类型 ArrayList

> ID：13245482
> 
> 赞同：-1
> 
> 时间：2012-11-06T06:19:58.463
> 
> 标签：java, class, arraylist

我正在研究 Java，我正在研究类的类类型的概念

例如，在 Print.java

```
public class Print{
    public ArrayList<data> list;
    public Print(){
        list = new ArrayList<data>();
    } 

    public void printIndexList() {
        for (data index : list) {
            System.out.format("\", index.name)
        }

        for (String definition : b.def) {
            System.out.format("%-6s", definition);
        }
    } 
```

并在 data.java

```
public class  data{
     public String name
     public ArrayList<String> def;

     public data(){
         def = new ArrayList<String>();
     }
} 
```

而且，在 中`main.java`，我有字符串类型`ArrayList`“defmain”并`String`输入“mainname”

我想在列表中添加 defmain 和 mainname 因为我需要在 b.java 中使用打印功能

我试图做的事情

在中`main.java`，我创建了：-

```
Print ia = new ptiny();

Array<Print> mainlist = new Array<Print>(); 
```

和..试图在列表中分配值`a.java`

```
ia.list = mainlist; 
```

但是，它并没有真正起作用。有人知道在类型为“a”的 Arraylist 中添加字符串值和 arraylist 的方法吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:46:16.937

请注意，类名应以大写字母开头。以下应该有效：

```
A ia = new A();
B ib = new B();
ib.def.add("Test");
ia.list.add(ib);
ia.printIndexList(); 
```

请注意，我没有分配任何列表。我正在向列表中添加元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:35:22.563

据我所知，你试图实现你想做的事情是行不通的。

您不能将 a 的列表分配给 b 的列表。

您可以做的是遍历您拥有的 a 列表：

```
for (a index : list) {
  index.printIndexList();
} 
```

也许这不是您想要的，但很难从您的问题中看出。

另一种方法是您可以将所有 a 的内容添加到单个 a 中，因此：

```
for (a index : list) {
  ai.list.addAll(index.list);
} 
```

通常在 Java 中，类名以大写字母开头，所以 a 应该是 A，b 应该是 B

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-06T06:44:55.533

我只是想通了！！谢谢你的帮助

我需要做的就是浪费

我需要创建

```
Print var = new Print();
var.name = "Herry";
var.defintions = somearraylistin;
ArrayList<Print> ls = new ArrayList<Print>();
ls.add(var);
data.list =is;
data.printIndexList(); 
```

谢谢

我的天啊

需要将近3个小时才能弄清楚！

:)

# javascript - Node.js 将获取数据转换为数组

> ID：13245487
> 
> 赞同：1
> 
> 时间：2012-11-06T06:21:02.313
> 
> 标签：javascript, arrays, node.js, get

我从 URL 接收数据。URL 是

```
data=%5B1%2C2%2C3%2C4%2C0%5D 
```

解码为`[1,2,3,4,0]`.

我已经使用下面的代码片段解析了这些数据

```
var queryObj = querystring.parse( theUrl.query ); 
```

但我认为它不是数组。如何将其转换为数组。我使用了`toArray()`方法但徒劳无功。提前谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:24:18.710

看起来您的数据实际上是 JSON。像这样解析它：

```
JSON.parse(querystring.parse(theUrl.query)); 
```

# iphone - NSString like '\uf003" 用obj c中的其他字符串替换'\'

> ID：13245488
> 
> 赞同：1
> 
> 时间：2012-11-06T06:20:47.593
> 
> 标签：iphone, objective-c

我需要通过 iphone 应用程序向其他用户发送笑脸，所以我需要用 obj c 中的一些唯一字符串替换 \ 字符串。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:41:00.860

在这里，如果您的字符串是 @"\ud83d\ude04" 那么它会给出错误 "Invalid Character" 所以把这个 ' 特殊字符然后使用它..

```
 NSString *str = @"\'ud83d\'ude04";//// here if your string is @"\ud83d\ude04" then it is give error "Invalid Character" so put this ' special character and then use it
     NSString *smileWithString = [str stringByReplacingOccurrencesOfString:@"\'" withString:@":)"]; 
                                 [smileWithString retain];
    NSLog(@"\n\n SmileString %@ Str %@",smileWithString); 
```

**更新：**

以下是如何转换`NSString`为`NSData`- 它非常简单：

```
NSString *myString = @"Some String";
NSData *myData = [myString dataUsingEncoding:NSUTF8StringEncoding]; 
```

那么反向转换呢，即如何转换`NSData`为`NSString`？这是一种快速的方法：

```
NSString *myString = [NSString stringWithFormat:@"%.*s",[myData length], [myData bytes]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T07:08:02.397

使用`encoding`和`NSString`何时需要`use`或`show`串`decode`起来。

请参阅[base64 编码](http://www.cocoawithlove.com/2009/06/base64-encoding-options-on-mac-and.html)链接。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-06T06:23:40.737

你的寻找`stringByReplacingOccurrencesOfString`应该可以解决问题。

```
NSString *newString = [oldString stringByReplacingOccurrencesOfString:@"\" withString:@"uniqueString"]; 
```

# android - 来自“adb shell dumpsys meminfo my-app-name”的配置文件的详细解释？

> ID：13245489
> 
> 赞同：15
> 
> 时间：2012-11-06T06:20:51.410
> 
> 标签：android, android-emulator, android-ndk, embedded-linux

谁能给我详细解释一下获得的个人资料`adb shell dumpsys meminfo my-app-name`？

[结果与如何在 Android 中发现我的应用程序的内存使用情况中](https://stackoverflow.com/questions/2298208/how-to-discover-memory-usage-of-my-application-in-android)提到的一样。：

```
** MEMINFO in pid 890 [process-name] **
                    native   dalvik    other    total
            size:    10940     7047      N/A    17987
       allocated:     8943     5516      N/A    14459
            free:      336     1531      N/A     1867
           (Pss):     4585     9282    11916    25783
  (shared dirty):     2184     3596      916     6696
    (priv dirty):     4504     5956     7456    17916

 Objects
           Views:      149        ViewRoots:        4
     AppContexts:       13       Activities:        0
          Assets:        4    AssetManagers:        4
   Local Binders:      141    Proxy Binders:      158
Death Recipients:       49
 OpenSSL Sockets:        0

 SQL
            heap:      205          dbFiles:        0
       numPagers:        0   inactivePageKB:        0
    activePageKB:        0 
```

每列（native、dalvik、other、total）是什么意思？尤其是“其他”列是什么（我不知道除了原生和 dalvik 之外是什么）？如果有人可以举一个具体的例子来详细说明这一点，那就太好了。例如，我有一个应用程序 A。A 有自己的对象 obj_private 和自己的本机库 lib_private。此外，A 引用了 Android 框架 obj_shared 的一些对象和 Android 框架 lib_shared 的一些原生库。并且 obj_shared 引用了 Android lib_shared_indirect 的一些原生库。对于这种情况，我可以说那些吗？

1.  “总大小”等于“obj_private + lib_private + obj_shared + lib_shared + lib_shared_indirect”使用的所有内存。
2.  “私人脏”等于被“obj_private + lib_private”弄脏的内存

我们想澄清这一点的原因是：与以前的版本相比，我们最新版本的应用程序的运行时内存有一些不寻常的增加。当我使用 dumpsys meminfo 时，我发现“native”和“other”列显着增加。但是新版本的变化只和java有关，“其他”栏目没有说明。我用谷歌搜索了这个并没有找到任何文件。我还尝试阅读 adb 的源代码。但是我发现像我这样的新手很容易迷失在源代码中。所以我在这里发布这个问题，以防有人可以提供帮助。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-11-12T02:24:09.307

我们现在有更多关于 Android 中 RAM 使用的文档，其中详细介绍了不同 RAM 数字的含义：[管理您的应用程序的内存](http://developer.android.com/training/articles/memory.html)。特别是，请查看此处讨论 meminfo 转储关键部分的页面中间：[调查您的 RAM 使用情况](http://developer.android.com/tools/debugging/debugging-memory.html)。

在我们识别出许多不同类型的分配之前，您的 meminfo 输出看起来像是来自相当旧的 Android 版本。要将您所看到的内容映射到当前文档，只需将“其他”视为现代转储显示的除本机和 dalvik 部分之外的所有内容。在您的转储中，我相信您的 dalvik 部分实际上是现代的“Dalvik Heap”和“Dalvik Other”放在一起。

就本机和其他部分而言，仅在 Java 代码更改之后越来越多，是的，这肯定会发生。Android Java API 的许多部分位于本机分配之上，也可能导致其他分配。这方面的经典示例是 Gingerbread 和更早版本上的位图，其中位图的数据是本机分配，而不是像今天这样在 Java 堆中的数组分配。

您增加的其他分配可能是由于您将在最新版本的数据中看到的许多事情 - 内存支持游标，来自ashmem的共享内存区域，为您分配事物的设备，例如图形纹理等。有很多事情很难说会发生什么，这就是为什么这些天报告更加详细的原因。（即使在那里，我们仍然有很多东西被淹没在未知中。）

为了调试它，您可能想查看 Java 堆中是否有泄漏的对象。由于对象的实际分配不在 Java 堆中，这当然会很棘手。我建议在你的应用程序早期进行堆转储，做任何导致其 RAM 占用增加的事情，之后进行堆转储，并查看哪些对象计数增加了。参考文档显示了如何将堆转储与 MAT 进行比较。

此外，当您将 Java 堆视为一般分析时（除了进行差异分析时），请始终确保按照那里的说明去除堆的 zygote 部分。正如文档所述，每个进程都有大量来自 zygote 的分配，但这些分配在所有进程之间共享，因此通常与堆分析无关。我经常看到有人担心，因为他们在他们的应用程序中看到很多非常大的位图，系统似乎已经分配给他们，并认为这是在他们的应用程序中使用 RAM 的主要事情，如果不是，那只是zygote 的共享分配。

# java - 检查字符串在合格字符串中包含字符“g”的次数

> ID：13245490
> 
> 赞同：20
> 
> 时间：2012-11-06T06:20:51.410
> 
> 标签：java

我们如何检查包含任何字符的任何字符串如何时间.... 示例： **工程**是一个字符串，在完整字符串 中包含多少次**'g'**

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2015-01-29T08:29:05.587

我知道这是一个老问题，但有一个选项没有得到回答，而且很简单：

```
int count = string.length() - string.replaceAll("g","").length() 
```

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2012-11-06T06:29:48.117

尝试这个

```
int count = StringUtils.countMatches("engineering", "e"); 
```

有关[StringUtils](https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html)的更多信息可以从以下问题中了解：[How do I use StringUtils in Java?](https://stackoverflow.com/questions/8660151/how-do-i-use-stringutils-in-java)

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-11-06T06:28:09.647

我会使用`Pattern`and `Matcher`：

```
String string = "engineering";
Pattern pattern = Pattern.compile("([gG])"); //case insensitive, use [g] for only lower
Matcher matcher = pattern.matcher(string);
int count = 0;
while (matcher.find()) count++; 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-11-06T06:30:45.160

虽然 Regex 可以正常工作，但这里并不是真正需要的。你可以简单地使用 a`for-loop`来维护`count`一个字符。

您需要将字符串转换为 char 数组：-

```
 String str = "engineering";
    char toCheck = 'g';
    int count = 0;

    for (char ch: str.toCharArray()) { 
        if (ch == toCheck) {
            count++;
        }
    }
    System.out.println(count); 
```

或者，您也可以**不转换**为`charArray`：-

```
for (int i = 0; i < str.length(); i++) {
    if (str.charAt(i) == toCheck) {
        count++;
    }
} 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-11-06T06:36:14.070

```
String s = "engineering";
char c = 'g';
s.replaceAll("[^"+ c +"]", "").length(); 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-11-06T06:27:48.380

使用正则表达式`[g]`查找字符并计算结果如下：

```
 Pattern pattern = Pattern.compile("[g]");
    Matcher matcher = pattern.matcher("engineering");
    int countCharacter = 0;
    while(matcher.find()) {
        countCharacter++;
    }
    System.out.println(countCharacter); 
```

如果您想要不区分大小写的计数，请使用`[gG]`模式中的正则表达式。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2017-02-22T13:26:54.123

使用 org.apache.commons.lang3 包来使用 StringUtils 类。下载 jar 文件并将其放入 Web 应用程序的 lib 文件夹中。

```
int count = StringUtils.countMatches("engineering", "e"); 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2016-08-28T17:49:11.933

这是一个非常古老的问题，但这可能会帮助某人（“_”）

你可以简单地使用这个代码

```
public static void main(String[] args){
    String mainString = "This is and that is he is and she is";
    //To find The "is" from the mainString
    String whatToFind = "is";
    int result = countMatches(mainString, whatToFind);
    System.out.println(result);
}

public static int countMatches(String mainString, String whatToFind){
    String tempString = mainString.replaceAll(whatToFind, "");
    //this even work for on letter
    int times = (mainString.length()-tempString.length())/whatToFind.length();

    //times should be 4
    return times;
} 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2019-06-01T13:55:52.457

你可以试试 Java-8 的方式。简单，简单且更具可读性。

```
long countOfA = str.chars().filter(ch -> ch == 'g').count(); 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-11-17T09:48:59.657

您可以遍历它并计算您想要的字母。

```
public class Program {
    public static int countAChars(String s) {
        int count = 0;
        for(char c : s.toCharArray()) {
            if('a' == c) {
               count++;
            }
        }
        return count;
    }
} 
```

或者您可以使用 StringUtils 来获得计数。

```
int count = StringUtils.countMatches("engineering", "e"); 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2012-11-06T06:29:05.887

您可以尝试以下操作：

```
String str = "engineering";
int letterCount = 0;
int index = -1;
while((index = str.indexOf('g', index+1)) > 0)
    letterCount++;
System.out.println("Letter Count = " + letterCount); 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2019-10-23T23:25:04.067

这是一个古老的问题，它是用 Java 编写的，但我会用 Python 回答它。这可能会有所帮助：

```
string = 'E75;Z;00001;'

a = string.split(';')

print(len(a)-1) 
```

# regex - 分层文本的正则表达式

> ID：13245498
> 
> 赞同：1
> 
> 时间：2012-11-06T06:21:14.770
> 
> 标签：regex, search, hierarchical

我有一个像

```
HEADER foo bar
garbage
SUBHEADER foo foo bar
other garbage
SUBHEADER foo foo bar bar
HEADER foo baz
SUBHEADER foo bar foo foo
SUBHEADER foo foo foo foo
SOMETHING bar bar bar
HEADER baz baz
SUBHEADER baz bar baz foo 
```

其中大写单词按字面意思出现并希望`SOMETHING`与相应的`HEADER`and一起查找`SUBHEADER`，即

```
HEADER foo baz
SUBHEADER foo foo foo foo
SOMETHING bar bar bar 
```

这在程序中相当微不足道，但是正则表达式可以吗？我可以想象一个使用否定断言的解决方案，但这变得非常难以理解。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:31:17.157

如果您正在寻找最近的 HEADER 和 SUBHEADER 在某事之前，那么我认为您只希望在您的正则表达式中进行非贪婪匹配 - 假设您有一个正则表达式处理器可以一次匹配多行，这通常排除`grep`，`sed`, 和类似的。

例如，像这样：

```
(^HEADER.*?$).*?(^SUBHEADER.*?$).*?(^SOMETHING.*?$) 
```

我还假设 ' `.`' 确实匹配换行符（如在`PCRE_DOTALL`mode 中），并且 ' `^`'/' `$`' 将匹配字符串中间的开始/行尾（如在`PCRE_MULTILINE`mode 中）。这些是许多正则表达式实现中的可配置选项。

* * *

编辑：我已经修改了您在评论中列出的命令并使其正常工作。

```
perl -0777 -ne '/.*(^HEADER.*?\n).*(^SUBHEADER.*?\n).*?(^SOMETHING.*?\n)/ms
  and print "$1$2$3*\n"' 
```

（为了偏执，我添加了“m”标志并重新添加了行首锚点；如果你愿意，你可以把它们拿回来。）

关键的想法是在开头放置一个贪婪的全匹配模式，让正则表达式匹配器尽可能晚地匹配 HEADER。我本来希望像这样的非锚定匹配在开始时会表现得好像它有一个隐含的贪婪匹配，但显然在存在非贪婪运算符的情况下它不会那样工作。

# c# - 如何使用缓存防止多个用户从 asp.net 中的同一用户 id 登录？

> ID：13245505
> 
> 赞同：0
> 
> 时间：2012-11-06T06:21:58.133
> 
> 标签：c#, asp.net, session-state

在我的 asp.net Web 应用程序中，我想通过使用 Cache.So，在我的 Global.asax.as 页面中，防止多个用户从不同机器或同一台电脑上的相同用户名登录，

我把这条线...

```
protected void Application_PreRequestHandlerExecute(Object sender, EventArgs e)
   {
     if (Session["user"] != null) // e.g. this is after an initial logon
     {
        string sKey = (string)Session["user"];
        string sUser = (string)HttpContext.Current.Cache[sKey];
     }
   } 
```

并在我的页面登录提交按钮单击，

```
string userName=uName.Text;
string passWord=pwd.Text;

string sKey = uName.Text;
string sUser = Convert.ToString(Cache[sKey]);
if (sUser == null || sUser == String.Empty)
           {
               TimeSpan SessTimeOut = new TimeSpan(0, 0, HttpContext.Current.Session.Timeout, 0, 0);
               HttpContext.Current.Cache.Insert(sKey, sKey, null, DateTime.MaxValue, SessTimeOut, System.Web.Caching.CacheItemPriority.NotRemovable, null);
               Session["user"] = TextBox1.Text.Trim();

               if (userName.Equals(db_userName) && passWord.Equals(db_password))
               {
                   Response.Write("Welcome " + userName);
               }
               else
               {
                   Response.Write("Invalid Login");
               }
           }
           else
           {
               Response.Write("<Marquee><h1><font color=red>ILLEGAL LOGIN ATTEMPT!!!</font></h1></marquee>");
               return;
           } 
```

但是当运行我的应用程序时，它正在引发 Session state is not available in this context error message on Application_PreRequestHandlerExecute 事件...

我不知道这里有什么问题......所以，请指导我摆脱这个问题......

或者告诉我另一种好方法而不是这个......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:40:38.953

会话状态在初始请求期间不可用，并且在后续请求中可能为空。检查会话状态对象上的空值，而不仅仅是键/值。

```
if(HttpContext.Current.Session!=null){
//Proceed with xyz
} 
```

旁注，您在此处使用 Response.Write ......虽然不是无效的，但是非典型的。我建议重定向到区域。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:43:54.910

采用`HTTPContext.Current.Session`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T06:52:24.350

使用此事件处理程序

```
 void Application_AcquireRequestState(object sender, EventArgs e)
   {
       if(HttpContext.Current.Session!=null)
          {
              // Place your Code here 
          }
   } 
```

# java - 无法使用 Map、ObjectMapper 解析 Json

> ID：13245506
> 
> 赞同：2
> 
> 时间：2012-11-06T06:22:03.443
> 
> 标签：java, json, parsing, collections, object-object-mapping

现在有一天我有 Json 解析的经验。没有太多的收集练习。我有一个 Json 字符串

```
{   
    "time":1352113682,
    "api_version":"1",
    "firstname":"abc",
    "lastname":"xyz",
    "company":"Cool Apps",
    "email":"abc@apps.com.au"
} 
```

我上课了

```
public class AuthenticateUser implements Serializable{

    // Response when Successfully Login
    public String time;
    public String api_version;
    public String firstname;
    public String lastname;
    public String company;
    public String email;

} 
```

并尝试像这样解析它

```
Map<String, AuthenticateUser> map=null;
ObjectMapper mapper=new ObjectMapper();
try{
    map=mapper.readValue(result,new TypeReference<Map<String, AuthenticateUser>>(){});
    Set<String> keys=map.keySet();
    for (String key : keys) {
    System.out.println(map.get(key).time);
    System.out.println(map.get(key).api_version);
        System.out.println(map.get(key).firstname);
    System.out.println(map.get(key).lastname);
    System.out.println(map.get(key).company);
    System.out.println(map.get(key).email);
    }
}catch (Exception e) {
    e.printStackTrace();
} 
```

但是遇到这个错误

com.fasterxml.jackson.databind.JsonMappingException：无法从 JSON 整数实例化类型 [简单类型，类 AuthenticateUser] 的值；com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromInt(StdValueInstantiator.java:316) 在 com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromNumber(BeanDeserializer. java:427) 在 com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:119) 在 com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringMap(MapDeserializer.java:429) 在 com .fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:310) 在 com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:26) 在 com.fasterxml。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-16T22:06:43.860

您在开头给出的示例是针对单个 AuthenticateUser 对象的。这就是作为输入传递给该程序的所有内容吗？这绝对不会正确解析。

单个 AuthenticateUser 不是类型的 Map (String, AuthenticateUser)

我想你可能很困惑，你为什么要制作地图？如果您打算只解析一个对象，您只需要：

```
AuthenticateUser user =mapper.readValue(result, AuthenticateUser.class);

System.out.println(user.time); 
```

看起来怎么样？您是否在 JSON 中传递地图？

# python - Cython 无法将 Python 对象转换为“句柄 *”

> ID：13245514
> 
> 赞同：1
> 
> 时间：2012-11-06T06:22:22.130
> 
> 标签：python, cython

我正在尝试将 cpp lib 包装到`cython`. 以下是一些细节：

`Handle.h`：

```
class Handle {
    public:
    // accessors
    // mutators  
};

class Store {
    public:
        Handle* lookup(char* handleName);
        int update(Handle*);
}; 
```

`handle.pyx`：

```
cdef extern from "Handle.h" namespace "xxx":
    cdef cppclass Handle:
        ....

cdef extern from "Handle.h" namespace "xxx":
    cdef cppclass Store:
        Handle* lookup(char*)
        int update(Handle*)

cdef class PyHandle:
    cdef Handle* handle
        ....

cdef class PyStore:
    cdef Store* store
    def __cinit__(self):
        store = ....
    def lookup(self, name):
        handle = self.store.lookup(name)
        pHandle = PyHandle()
        pHandle.handle = handle
        return pHandle
    def update(self, h):
        self.store.update(h.handle) 
```

最后一条语句是给我一个错误的说法`Cannot convert Python object to 'Handle *'`。我知道我错过了一些简单的东西。如何将`Handle*`嵌入在 Python 对象中的那个传递给调用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T22:24:55.997

将参数显式声明为 Handle：

```
def update(self, Handle h):
        self.store.update(h.handle) 
```

# android - 在Android中导入后项目名称更改

> ID：13245517
> 
> 赞同：1
> 
> 时间：2012-11-06T06:22:39.350
> 
> 标签：android

导入Android项目时，发现项目名和原来的不一样的问题。就像项目名称是ExtendScreenWrap。导入项目后，名称更改为包名+活动。所以在java构建路径中匹配好的构建项目应该在导入后再次匹配。我该如何解决这个问题？提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:30:32.530

使用此过程：

1.  File->Import->General->Existing Projects into Workspace，下一步
2.  选择根目录：/path/to/project
3.  项目->全选
4.  取消选中“将项目复制到工作区”和“将项目添加到工作集”
5.  结束

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T06:35:02.607

您可能在导入时遗漏了某些内容。只需[检查此链接](http://help.eclipse.org/helios/index.jsp?topic=/org.eclipse.platform.doc.user/tasks/tasks-importproject.htm)即可了解如何导入现有项目。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T06:29:58.443

在日食

单击文件-> 导入-> 常规-> 现有项目到工作区。然后选择你的根目录并按完成

# clojure - 将递归函数转换为使用尾递归

> ID：13245518
> 
> 赞同：4
> 
> 时间：2012-11-06T06:22:43.343
> 
> 标签：clojure, tail-recursion

假设我有这样的功能：

```
user=> (def m {10 5, 5 2, 2 1})
#'user/m
user=> (defn hierarchy [x] (when x (cons x (hierarchy (get m x)))))
#'user/hierarchy
user=> (hierarchy 10)
(10 5 2 1)
user=> 
```

显然这在这里很好，因为堆栈深度会很小。但是对于这种一般类型的问题，我正在构建一个我想要返回的列表，递归调用总是在 cons 调用中结束。我如何将其转换为尾递归，以便我可以使用递归而不占用堆栈空间？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T06:53:13.267

阅读蓄电池。

在 Clojure 中，这个特定问题可以通过使用`lazy-seq`. `lazy-seq`推迟计算，因此堆栈溢出（通常）不是问题。

```
(defn hierarchy
  [x]
  (when x
    (lazy-seq
      (cons x (hierarchy (get m x)))))) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T08:25:51.330

您可以在不使用递归的情况下优雅地解决这个问题：

```
(defn hierarchy [x]
  (take-while identity (iterate m x))) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-06T07:14:45.580

第一种变体

```
(defn hierarchy* [res x]
  (if-not x
    res
    (recur (conj res x) (get m x))))

(defn hierarchy [x]
  (hierarchy* [] x)) 
```

第二

```
(defn hierarchy [x]
  (loop [res []
         next-x x]
    (if-not next-x
      res
      (recur (conj res next-x) (get m next-x))))) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-06T06:59:25.710

添加`lazy-seq`：

```
(defn hierarchy [x] (when x (cons x (lazy-seq (hierarchy (get m x)))))) 
```

# java - 如何分隔两位或多位数字并分别添加

> ID：13245528
> 
> 赞同：0
> 
> 时间：2012-11-06T06:23:47.490
> 
> 标签：java, android, integer

我想做一个活动，如果我有一个特定的整数。456 我希望它把这个整数分隔成 4、5、6 并像 4+5+6 一样单独相加，然后将其相加，直到最后一个结果等于或小于 9 或单个数字。

例如：

4+5+6=15，现在 15 也是一个 2 位数字，现在它再次将 15 分隔为 1、5 并添加 1+5 即 6

所以我必须得到一个数字的最终结果。

如何在 Java 或 Android 中实现这一点？

**这是我尝试过的以下代码：**

```
if(sum > 9)
{
    int numbers = 0;
    int number = sum;
    int[] digits = getDigitsOf(number);

    for (int i = 0; i < digits.length; i++) {
        numbers = (digits[i]);
    }

    tv.setText(numbers);
} 
```

**功能是：**

```
public int[] getDigitsOf(int num)
{        
    int digitCount = Integer.toString(num).length();

    if (num < 0) 
        digitCount--;           

    int[] result = new int[digitCount];

    while (digitCount-- >0) {
        result[digitCount] = num % 10;
        num /= 10;
    }        
    return result;
} 
```

我没有得到想要的结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:31:23.027

您应该已经学习了 [递归编程](http://www.ibm.com/developerworks/linux/library/l-recurs/index.html)以及使用百分比“%”运算符来查找数字中的每个数字

```
 456%10 = 6;// which is the remainder 
```

请同时使用这两种方法并找到您的答案。

这是一个简单的程序。尝试两种想法，答案将为您点击

**编辑：** 我更喜欢这样的逻辑

```
public static void main(String[] args) {
    int number = 456;
    System.out.println(splitnumberAndSum(number));

}

private static int splitnumberAndSum(int number) {
    int sum = 0;
    int rem;
    while (number>0) {
        rem=number%10;
        sum+=rem;
       number /= 10;
    }
    if(sum>9){
        sum = splitnumberAndSum(sum);
    }
    return sum;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T06:43:57.907

```
String str_no="1235";
String answer="";

 while (check_sum() > 9)
 {
            calc_sum();
 }

    Log.w("final value...",answer); 

public void calc_sum()
{

        int temp=0;
        String temp_str="";

    for (int i=0;i<str_no.length();i++)
        {
                try
                {
                    temp_str=""+str_no.charAt(i);
                    temp=temp+Integer.parseInt(temp_str);
                }
                catch (Exception e) 
                {
                    // TODO: handle exception
                }
        }

        str_no=""+temp;

}

public int check_sum()
{
        int temp=0;
        String temp_str="";
        for (int i=0;i<str_no.length();i++)
        {
            try
            {
                temp_str=""+str_no.charAt(i);
                temp=temp+Integer.parseInt(temp_str);
            }
            catch (Exception e) 
            {
                // TODO: handle exception
            }
        }
        answer=""+temp;
        return temp;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T06:52:48.667

好吧，您可以尝试以下方法：-

```
int var = 0, sum = 0;
System.out.println("Enter an integer:");
BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
try {
    var = Integer.parseInt(br.readLine());
} catch (IOException e) {
    e.printStackTrace();
}
System.out.println("Value of var is: " + var);
do
{
    sum=0;
    while(var>0)
    {
        sum += var%10;
        var = var/10;
    }
    var = sum;
} while(var>10); 
System.out.println("Sum of digits is: " + var); 
```

我希望这有帮助...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T19:13:44.577

```
public static void main(String[] args) 
    {
        int num = 656869787;
        String numStr = num+"";
        while(Integer.parseInt(numStr)>9){
            numStr = addDigits(numStr);
        }
        System.out.print(numStr);
    }

    private static String addDigits(String numStr) {
        int sum = 0;
        char[] arr = numStr.toCharArray();
        for(char c : arr){
            sum = sum + Integer.parseInt(c+"");
        }
        return sum+"";
    } 
```

# .net - 正则表达式删除分隔符之间的字符串

> ID：13245529
> 
> 赞同：1
> 
> 时间：2012-11-06T06:23:48.197
> 
> 标签：.net, regex, string, parsing

我正在尝试摆脱分隔文本。

例如：“this#101# is#102# a#103# test#104#”

结果：“这是一个测试”

尝试了以下没有工作的

```
string Pattern = @"(?<=#).*(?=#;)";
string text = "this#101# is#102# a#103# test#104#";
text = Regex.Replace(text, Pattern, string.Empty); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:27:44.933

尝试：

```
string Pattern = @"#.*?#"; 
```

由于您也需要摆脱它`#`，因此您需要将它们指定为正则表达式的匹配部分。您当前的正则表达式与`#`.

此外，您还需要`.*`通过添加尾随`?`.

# vb.net - 从 vb.net 中的字符串中提取字符

> ID：13245530
> 
> 赞同：0
> 
> 时间：2012-11-06T06:23:54.453
> 
> 标签：vb.net, string, character, extract

我正忙着写过去的试卷，为下周的 vb.net 考试做准备。我正在努力解决的问题如下。

取一长串字母字符和特殊字符，将字母字符提取到string1，将特殊字符提取到string2

所以字符串 hello://thisismystring!? 必须显示如下

```
string1 = hellothisismystring
string2 = ://!? 
```

我的问题是**如何从字符串中提取字符并将它们存储在变量中？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T07:07:03.280

一种对 Unicode 友好、干净且简单的方式。

```
Imports System.Text

Module Module1

    Sub Main()
        Dim sValue As String = "hello://thisismystring!?"
        Dim a As New StringBuilder
        Dim b As New StringBuilder
        For Each c As Char In sValue
            If Char.IsLetter(c) Then
                a.Append(c)
            Else
                b.Append(c)
            End If
        Next
        Dim s1 As String = a.ToString()
        Dim s2 As String = b.ToString()
    End Sub

End Module 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:32:04.387

您可以遍历该字符串中的字符，并使用 ASCII 代码来确定当前字符是否为字母，如果是 -> string1，如果不是 -> string2。祝你好运。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T06:51:44.633

这是一种方法

```
 Dim allText As String = "Hello139874098@#4this204985"
    Dim onlyLetters As String = ""
    Dim nonLetters As String = ""
    For i = 0 To allText.Length - 1
        Dim c As String = allText.Substring(i, 1)
        If c.ToUpper >= "A" And c.ToUpper <= "Z" Then
            onlyLetters &= c
        Else
            nonLetters &= c
        End If
    Next
    MsgBox("Letters are " & onlyLetters)
    MsgBox("Non-Letters are " & nonLetters) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T06:58:12.273

我会用这个：

```
 Dim SearchString = "hello://thisismystring!?"
    Dim ToFind = "://!?"

    Dim ResultSpecial As String = ""
    Dim ResultNormal As String = ""

    Dim ChrList As New List(Of Char)

    For Each c In ToFind
        ChrList.Add(c)
    Next

    For i = 0 To SearchString.Length - 1
        Dim c = SearchString(i)
        If ChrList.Contains(c) = True Then
            ResultSpecial = ResultSpecial & c
        Else
            ResultNormal = ResultNormal & c
        End If
    Next

    Debug.Print("Resultnormal: " & ResultNormal)
    Debug.Print("ResultSpecial: " & ResultSpecial) 
```

您必须将所有需要的字符写入“ToFind” 正则表达式会更好，但它们有时很麻烦......

### 重做版本

```
Module Module1

    Sub Main()
        Dim SearchString = "hello://thisismystring!?"
        Dim ToFind = "://!?"

        Dim ResultSpecial As String = ""
        Dim ResultNormal As String = ""

        For Each c In SearchString
            If ToFind.Contains(c) Then
                ResultSpecial = ResultSpecial + c
            Else
                ResultNormal = ResultNormal + c
            End If
        Next

        Debug.WriteLine(ResultNormal, "Resultnormal")
        Debug.WriteLine(ResultSpecial, "ResultSpecial")
    End Sub

End Module 
```

# javascript - 选择类似于在 Google 上看到的框？

> ID：13245536
> 
> 赞同：1
> 
> 时间：2012-11-06T06:24:13.890
> 
> 标签：javascript, jquery, html, css, select

我想创建一个`<select>`类似于下面在 Google 上看到的框：

![谷歌选择框](../Images/ac551977192cd3a7057a9fdf51b2cd8a.png)

我在正确设计它时遇到了很多麻烦。有人知道插件或解决方案吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T06:35:59.500

我不知道插件，但我可以为您自己制作的插件提供解决方案：

首先，创建你的 HTML，像这样

```
<div class="customDropdown">Month<span><img src="littlearrows.jpg" /></span></div>
<div id="customList">
    <ul>
        <li>January</li>
        <li>February</li>
        <li>March</li>
        <li>...etc.</li>
    </ul>
</div> 
```

然后你使用 CSS 设置你的 div 样式，按照你想要的方式设置 customDropdown，还隐藏了 customList，还可能确保它只显示 4 行，右侧有一个滚动条（无论是自定义还是 brwozer，你的选择） .

之后，创建 jQuery 或 Javascript 代码，在其中添加列表的行为。您可能需要为每个月的条目提供一个 ID，因此当用户选择月份时，您将提取该值。

**重要提示：这只是一个想法，我做过类似的事情，但我没有给你一个完整的解决方案，你可以随意改变/修改甚至放弃这个想法，但这就是我的处理方式。**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T07:08:41.797

尝试[选择插件](http://harvesthq.github.com/chosen/)。尽管它看起来与您展示的不完全一样，但它确实有许多值得研究的功能

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T07:11:07.113

他们的风格没有任何谷歌公开发布。复制它并不容易，因为不仅需要css，还需要javascript。有许多替代方法可以创建精美的 ui 元素，例如 Foundation。

# security - Google App Engine：安全的应用间通信

> ID：13245540
> 
> 赞同：6
> 
> 时间：2012-11-06T06:24:23.640
> 
> 标签：security, google-app-engine, http

我在 Google App Engine 上有两个应用程序，它们都在同一个帐户下运行，一个调用另一个通过 HTTPS 提供的服务。确保只允许第一个应用程序调用第二个应用程序的推荐方法是什么？

或者，有没有办法指定给定端点只能由在同一 GAE 帐户下运行的应用程序调用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T13:16:32.813

让您的应用程序检查“X-Appengine-Inbound-Appid”标头并确保应用程序 ID 正确。仅当请求是由另一个 Google App Engine 应用发出且用户无法修改时，此标头才存在。

如果您使用的是 Python，则可以执行以下操作：

```
import webapp2

AUTHORIZED_APPS = ('my-first-app', 'my-other-app')

class MyHandler(webapp2.RequestHandler):
    def dispatch(self):
        app_id = self.request.headers.get('X-Appengine-Inbound-Appid', None)

        if app_id in AUTHORIZED_APPS:   
            super(MyHandler, self).dispatch()
        else:
            self.abort(403) 
```

对于标头中没有 X-Appengine-Inbound-Appid 的任何请求，这将引发 403。

此外，当使用 urlfetch 从一个应用程序向另一个应用程序发出请求时，请确保设置**follow_redirects=False**或不添加标头。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-03-30T17:28:52.400

正如其他人指出的那样，依靠填写 X-Appengine-Inbound-Appid 标头是最简单的解决方案。我最近遇到了类似的问题，但我无法使用 X-Appengine-Inbound-Appid，因为 URLFetch 不可用（GAE Node.js）。以下是如何使用通过 OAuth 进行身份验证的服务帐户来解决问题。

在发件人方面，您需要设置一个服务帐户： [https ://developers.google.com/identity/protocols/OAuth2ServiceAccount#creatinganaccount](https://developers.google.com/identity/protocols/OAuth2ServiceAccount#creatinganaccount)

然后在该应用程序中，您将需要获取服务帐户凭据： [https ://developers.google.com/identity/protocols/application-default-credentials](https://developers.google.com/identity/protocols/application-default-credentials)

然后，您可以使用凭据创建一个 authClient，您可以使用它来发送请求。您需要将 OAuth 范围添加到您的 authClient。最合乎逻辑的使用是`https://www.googleapis.com/auth/userinfo.email`. 这将使接收者能够获取发件人服务帐户的电子邮件地址。[https://developers.google.com/identity/protocols/googlescopes](https://developers.google.com/identity/protocols/googlescopes)

以下是使其在（发件人）Node.js 中工作的代码：

```
process.env.GOOGLE_APPLICATION_CREDENTIALS = <PATH TO CREDENTIALS FILE>

google.auth.getApplicationDefault((err, authClient) => {
  if (err) {
    console.log("Failed to get default credentials: ", String(err));
    return;
  }

  if (authClient.createScopedRequired && authClient.createScopedRequired()) {
    authClient = authClient.createScoped([
      'https://www.googleapis.com/auth/userinfo.email'
    ]);
  }

  auth_client.request({
    url: <RECEIVER URL>,
    method: "GET"
  }, (error, result, response) => {
    // Process response
  });
}); 
```

然后在接收方，您需要验证电子邮件地址是否与发件人服务帐户的电子邮件地址匹配。当应用程序引擎在本地调用时，OAuth 请求未正确验证，因此如果您想在本地进行测试，则必须自己进行 url 获取来验证请求。

接收器 Python：

```
scope = "https://www.googleapis.com/auth/userinfo.email"
allowed_users = set([
    "<SENDER SERVICE ACCOUNT EMAIL>"
])
IS_DEV = os.environ["SERVER_SOFTWARE"][:3] == "Dev"

class MyHandler(webapp2.RequestHandler):
    def get(self, clientId):
        user = self.get_current_user()
        if user in allowed_users:
            # Do whatever you wanted

    def get_current_user(self):
        if IS_DEV:
            token = self.request.headers.get("Authorization")[len("Bearer "):]
            response = urlfetch.fetch(
                "https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=%s" % token
            )
            return json.loads(response.content)["email"]
        else:
            return oauth.get_current_user(scope) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-06T08:48:24.887

您可能希望查看 App Engine 的[应用程序身份](https://developers.google.com/appengine/docs/java/appidentity/overview)服务。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-06T08:45:31.700

最简单的方法（在这种情况下也足够好）是在 HTTP 标头中包含一个秘密并在服务端检查它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-06T16:02:13.903

不知道这是否可行，但您可以尝试在 app.yaml 中将“登录：管理员”添加到您的 url 处理程序。

它适用于 cron/任务队列作业

[https://developers.google.com/appengine/docs/python/config/cron#Securing_URLs_for_Cron](https://developers.google.com/appengine/docs/python/config/cron#Securing_URLs_for_Cron)

# javascript - 使用javascript获取两个单词之间的文本

> ID：13245549
> 
> 赞同：0
> 
> 时间：2012-11-06T06:24:57.013
> 
> 标签：javascript, android, string, titanium

我有一个字符串，它看起来像一个 XML 文件，但实际上它只是一个保存在变量中的普通字符串。

**字符串**是这样的：

```
<m:properties>
             <d:user_id m:type="Edm.Int64">37</d:user_id>
             <d:organization_id m:type="Edm.Int64">1</d:organization_id>
             <d:name>Test</d:name>
             <d:password>81dc9bdb52d04dc20036dbd8313ed055</d:password>
             <d:email_id>test1@cs.com</d:email_id>
             <d:user_type_id m:type="Edm.Int32">3</d:user_type_id>
             <d:is_valid m:type="Edm.Boolean">true</d:is_valid>
             <d:registration_date m:type="Edm.DateTime">2012-10-25T11:20:08</d:registration_date>
           </m:properties> 
```

我需要在以下内容中提取文本：

1.  `<d:password> </d:password>`
2.  `<d:email_id></d:email_id>`

`<d:password> </d:password>`和的内容`<d:email_id></d:email_id>`是动态的。

如何使用 javascript 字符串处理函数来提取所需的文本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:36:21.233

假设您发布的所有字符串都存储在名为 myCode 的变量中，那么您需要从 myCode 中提取密码和电子邮件

```
var passwd = myCode.substring(myCode.indexOf("<d:password>")+12,myCode.length-myCode.indexOf("</d:password>"));
var email = myCode.substring(myCode.indexOf("<d:email_id>")+11,myCode.length-myCode.indexOf("</d:email_id>")); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T07:38:15.097

***如果***这个字符串是规则的（即它的结构永远不会改变），那么你可以使用一个正则表达式，但是它非常接近不规则的 HTML/XML 并且正则表达式和不规则的不在一起。他们并没有太多在一起，以至于如果我什至建议使用正则表达式，我将在随后的投票风暴中失去所有代表。所以...

***如果***这个字符串是常规的，那么这是一个快速干净的可能解决方案：

```
String name = text.split(">")[6].split("<")[0];
String password = text.split(">")[8].split("<")[0]; 
```

在这里，幻数 6 和 8 是输入字符串中标签的索引。通过进一步的工作，您可能会完全丢失幻数，但如果结构是固定的，常量可能对它们有用。

或者，丢失幻数，也许更干净（尽管使用幻数作为'name>'和'password>'的长度）。

```
String name = text.substring(text.indexof("name>")+5).split("<")[0];
String password = text.substring(text.indexof("password>")+9).split("<")[0]; 
```

这两者都适用于任何长度的用户名和密码。

PS。当然，编程的第一条规则是，没有来自代码外部的永远不会改变的结构这样的东西；）

聚苯乙烯。当我说“任意长度”时，这当然受 Java 和 Dalvik VM 的限制；）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-06-30T05:07:38.150

一个非常简单的答案，无需过多关注计数：

```
var password = text.split("<d:password>")[1].split("</d:password>")[0];
var email = text.split("<d:email_id>")[1].split("</d:email_id>")[0]; 
```

在这里，您唯一必须确保的是您没有多个相同的标签。如果存在多个，则第一个索引会说明您想要哪个出现。另一个保持为0。

# nginx - nginx、uWSGI、6K qps 和 nginx 工作人员的数量乘以两个 cpu 计数？

> ID：13245551
> 
> 赞同：1
> 
> 时间：2012-11-06T06:24:58.663
> 
> 标签：nginx, uwsgi

我指的是这篇文章。

[调整 nginx worker_process 以获得每分钟 100k 次点击](https://stackoverflow.com/questions/7325211/tuning-nginx-worker-process-to-obtain-100k-hits-per-min)

我有 3 台 8 核服务器，总共 24 个内核。目前做6K qps。在我的 nginx 配置中，每个核心有一名工作人员。对于 uWSGI，我使用 gevent 循环，每个核心有一个进程。我将 nginx 的 nice 设置为 -2，将 uWSGI 的 nice 设置为 -1。

那么..将工人数量设置为 CPU 数量的两倍的更好解释是什么？我一直支持每个核心一个进程的思想流派。如果有帮助，我很乐意增加。也许核心数加一半？即12？我很想从我的机器里榨出更多的汁液。延迟非常关键。我有 100 毫秒的最后期限来回复帖子。到目前为止工作得很好。认为时间是 5 毫秒，但仍然......我怎样才能更好地调整......

```
user www-data;
worker_processes 8;  
worker_priority -2;
worker_rlimit_nofile 200000;
events {
     worker_connections  30000;
     multi_accept on;
     use epoll;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T12:28:04.357

官方文档建议每个核心一个工人（通常情况下）： http: [//nginx.org/r/worker_processes](http://nginx.org/r/worker_processes)

# javascript - ToolTwist 设计器中的 Javascript 代码段不起作用

> ID：13245553
> 
> 赞同：0
> 
> 时间：2012-11-06T06:25:08.413
> 
> 标签：javascript, jquery, tooltwist

我正在尝试使用 ToolTwist 设计器中的**Page Javascript**选项卡，但这似乎不起作用。只是一个快速测试它是否真的有效，我删除了警告行上的注释，但在页面加载时没有显示警告。

![页面 Javascript](../Images/0310f3064b8474c038ad901a634d8392.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T01:38:32.857

在 Tooltwist 中使用 jQuery 时，需要将 Page 的 Mode 属性设置为“Page”。

![以前的](../Images/053e7a0a7104616cb9188c5faf3b9968.png)

目前，默认模式设置为 Legacy，旨在向后兼容使用原型和 scriptaculous javascript 库的 Tooltwist 版本。

# cordova - 如何在phonegap中播放多个mp3

> ID：13245554
> 
> 赞同：2
> 
> 时间：2012-11-06T06:25:12.607
> 
> 标签：cordova, mp3, media, playback

我的应用程序有问题。

我正在使用 PhoneGap 和 jquery mobile 构建 hijaiyah 应用程序，我有一些问题。实际上这是可行的，但是播放另一种声音会很延迟。这是html

```
<div data-role=page id=win8 >
  <div data-role=header data-theme=b>
  <a href="index1.html" data-role=button data-icon=arrow-l>Home</a>
    <h1>Dal</h1>
  </div>
  <div data-role=content>

     <p style="width:100%;text-align:center;"> <input type="image" onclick="playAudio('big_dal.mp3')" data-role="none" src=image/8.png /></p> 
     <div class=ui-grid-b>
      <div class=ui-block-a><input type="image" data-role="none" src=image/8da.png />
      <div data-role="button" data-mini="true" onclick="playAudio('8_da.mp3')">Play</div></div>
      <div class=ui-block-b><input type="image" data-role="none" src=image/8di.png />
      <div data-role="button" data-mini="true" onclick="playAudio('8_di.mp3')">Play</div></div>
      <div class=ui-block-c><input type="image" data-role="none" src=image/8du.png />
      <div data-role="button" data-mini="true" onclick="playAudio('8_du.mp3')">Play</div></div>
    </div> 
  </div>
</div> 
```

这是javascript

```
function playAudio(src) {
            if (device.platform == 'Android') {
                src = '/android_asset/www/' + src;
            }

            var media = new Media(src, success, error_error);

            media.play();
        }

        function success() {
            // ignore
        }

        function error_error(e) {
            alert('mmmm, salah!');
            alert(e.message);
        } 
```

这个问题的解决方案是什么？我的意思是如何解决这个延迟。这太让我困惑了。不管怎么说，还是要谢谢你。Hasan Fathy，抱歉英语不好。

# android - 对于使用人像相机应用程序 android 拍摄的图像，EXIF 方向标记值始终为 0

> ID：13245556
> 
> 赞同：39
> 
> 时间：2012-11-06T06:25:26.260
> 
> 标签：android, android-camera, android-orientation

我有一个纵向模式的相机应用程序，它从前端和后端相机拍摄照片。我将图像保存在我的 sd 卡中并尝试找到相应的 exif 值，它总是给出 0。但我得到了预期的 exif 方向存储在设备中的其他图像的值（如下载的图片）。

我怎样才能解决这个问题 ？谁能帮我吗 ？

这是用于保存图片和查找方向的代码

```
PictureCallback myPictureCallback_JPG = new PictureCallback() {

    @Override
    public void onPictureTaken(byte[] arg0, Camera arg1) {
        // TODO Auto-generated method stub

                try {
                    File APP_FILE_PATH = new File(Environment.getExternalStorageDirectory()
                            .getPath() + "/Myapp/");
                    if (!APP_FILE_PATH.exists()) {
                        APP_FILE_PATH.mkdirs();
                    }
                    File file = new File(APP_FILE_PATH, "image.jpg");

                    FileOutputStream fos = new FileOutputStream(file);
                    fos.write(arg0);
                    fos.close();
imageFileUri=Uri.fromfile(file);                           getApplicationContext().getContentResolver().notifyChange(
                          imageFileUri, null);
                sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED,
                            Uri.parse("file://"
                                    + Environment.getExternalStorageDirectory())));
                    ExifInterface exif = new ExifInterface(file.getAbsolutePath());
                    int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL);

                } catch (Exception e) {

                }

    }
}; 
```

以下是表面创建和更改功能的代码

```
@Override
public void surfaceChanged(SurfaceHolder holder, int format, int width,
int height) {
List<Size> sizes = parameters.getSupportedPreviewSizes();
Size optimalSize = getOptimalPreviewSize(sizes, width, height);
parameters.setPreviewSize(optimalSize.width, optimalSize.height);

camera.setParameters(parameters);
camera.startPreview();
 startPreview();

}
 @Override
 public void surfaceCreated(SurfaceHolder holder) {

 try {

     if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.GINGERBREAD) {
          Camera.CameraInfo info=new Camera.CameraInfo();

          for (int i=0; i < Camera.getNumberOfCameras(); i++) {
            Camera.getCameraInfo(i, info);

            if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {
              camera=Camera.open(i);
              defaultCameraId = i;
            }
          }
        }

        if (camera == null) {
          camera=Camera.open();
        }

        try {
            camera.setPreviewDisplay(surfaceHolder);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        Camera.Parameters parameters = camera.getParameters();
        android.hardware.Camera.CameraInfo info =
                new android.hardware.Camera.CameraInfo();
        android.hardware.Camera.getCameraInfo(defaultCameraId, info);
        int rotation = this.getWindowManager().getDefaultDisplay()
                .getRotation();
        if (Integer.parseInt(Build.VERSION.SDK) >= 8)
        {

             int degrees = 0;
             switch (rotation) {
                 case Surface.ROTATION_0: 
                     degrees = 0; break;
                 case Surface.ROTATION_90: 
                     degrees = 90; break;
                 case Surface.ROTATION_180: 
                     degrees = 180; break;
                 case Surface.ROTATION_270: 
                     degrees = 270; break;
             }
             int result;
             if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {
                 result = (info.orientation + degrees) % 360;
                 result = (360 - result) % 360;  
             } else {  // back-facing
                 result = (info.orientation - degrees + 360) % 360;
             }
             camera.setDisplayOrientation(result);

        }
        else
        {
            parameters.set("orientation", "portrait");
        }

        camera.setParameters(parameters);

} catch (IllegalArgumentException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} catch (SecurityException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} 

}
 private Size getOptimalPreviewSize(List<Size> sizes, int w, int h) {
            final double ASPECT_TOLERANCE = 0.1;
            double targetRatio = (double) w / h;
            if (sizes == null) return null;

            Size optimalSize = null;
            double minDiff = Double.MAX_VALUE;

            int targetHeight = h;

            for (Size size : sizes) {
                double ratio = (double) size.width / size.height;
                if (Math.abs(ratio - targetRatio) > ASPECT_TOLERANCE) continue;
                if (Math.abs(size.height - targetHeight) < minDiff) {
                    optimalSize = size;
                    minDiff = Math.abs(size.height - targetHeight);
                }
            }

            if (optimalSize == null) {
                minDiff = Double.MAX_VALUE;
                for (Size size : sizes) {
                    if (Math.abs(size.height - targetHeight) < minDiff) {
                        optimalSize = size;
                        minDiff = Math.abs(size.height - targetHeight);
                    }
                }
            }
            return optimalSize;
        } 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-11-12T08:00:57.147

我在三星设备上也遇到了同样的问题，后来我实现[了 ExifInterface](http://developer.android.com/reference/android/media/ExifInterface.html)并成功解决。

在任何模式下拍摄的图像都将始终仅以纵向模式存储，而在获取时也会以纵向模式返回。下面是我用来实现目标的代码，我在后置摄像头内实现，不确定来自摄像头。

相机意图@

```
Intent intent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
            intent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);
            startActivityForResult(intent, 1212); 
```

onActivityResult@

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);

        if (requestCode == 1212) {
        sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse("file://"+ Environment.getExternalStorageDirectory())));
        Bitmap bitmap;
        //bitmap=GlobalMethods.decodeSampledBitmapFromResource(_path, 80, 80);
        bitmap=GlobalMethods.decodeFile(_path);
        if (bitmap == null) {
            imgMed.setImageBitmap(BitmapFactory.decodeResource(getResources(), R.drawable.add_photo));
        } 
        else {
            imgMed.setImageBitmap(bitmap);
            imgMed.setScaleType(ScaleType.FIT_XY);

        }
    }
        } 
```

解码文件@

```
 public static Bitmap decodeFile(String path) {

          int orientation;

             try {

                 if(path==null){

                     return null;
                 }
                 // decode image size
                 BitmapFactory.Options o = new BitmapFactory.Options();
                 o.inJustDecodeBounds = true;

                 // Find the correct scale value. It should be the power of 2.
                 final int REQUIRED_SIZE = 70;
                 int width_tmp = o.outWidth, height_tmp = o.outHeight;
                 int scale = 4;
                 while (true) {
                     if (width_tmp / 2 < REQUIRED_SIZE || height_tmp / 2 < REQUIRED_SIZE)
                         break;
                     width_tmp /= 2;
                     height_tmp /= 2;
                     scale++;
                 }
                 // decode with inSampleSize
                 BitmapFactory.Options o2 = new BitmapFactory.Options();
                 o2.inSampleSize=scale;
                 Bitmap bm = BitmapFactory.decodeFile(path,o2);

                 Bitmap bitmap = bm;

                 ExifInterface exif = new ExifInterface(path);
                 orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, 1);
                 Log.e("orientation",""+orientation);
                 Matrix m=new Matrix();

                 if((orientation==3)){

                 m.postRotate(180);
                 m.postScale((float)bm.getWidth(), (float)bm.getHeight());

//               if(m.preRotate(90)){
                 Log.e("in orientation",""+orientation);

                 bitmap = Bitmap.createBitmap(bm, 0, 0,bm.getWidth(),bm.getHeight(), m, true);
                 return  bitmap;
                 }
                 else if(orientation==6){

                  m.postRotate(90);

                  Log.e("in orientation",""+orientation);

                  bitmap = Bitmap.createBitmap(bm, 0, 0,bm.getWidth(),bm.getHeight(), m, true);
                     return  bitmap;
                 }

                 else if(orientation==8){

                  m.postRotate(270);

                  Log.e("in orientation",""+orientation);

                  bitmap = Bitmap.createBitmap(bm, 0, 0,bm.getWidth(),bm.getHeight(), m, true);
                     return  bitmap;
                 }
                 return bitmap;
             }
             catch (Exception e) {
             }
             return null;
         } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-10T16:52:31.273

问题是您必须手动将 exif 信息放入您的`onPictureTaken`函数中。

保存图片（jpg）后，您必须创建一个 Exif 接口并自己放置参数：

```
....
exif = new ExifInterface(file.getAbsolutePath());
exif.setAttribute(ExifInterface.TAG_ORIENTATION, orientation_detected_by_you_application);
exif.saveAttributes(); 
```

您手机中的其他照片是使用应用程序制作的，该应用程序将 exif 信息放入它拍摄的照片中。

检测方向：

```
public void enableOrientationListener(){

    if (mOrientationEventListener == null) {            
        mOrientationEventListener = new OrientationEventListener(getContext(), SensorManager.SENSOR_DELAY_NORMAL) {

            @Override
            public void onOrientationChanged(int orientation) {

                // determine our orientation based on sensor response
                int lastOrientation = mOrientation;

                Display display = null;
                if(parentActivity == null){
                    display = ((WindowManager)getContext().getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
                }else{
                    display = parentActivity.getWindowManager().getDefaultDisplay();
                }

                if (display.getOrientation() == Surface.ROTATION_0) {   // landscape oriented devices
                    if (orientation >= 315 || orientation < 45) {
                        if (mOrientation != ORIENTATION_LANDSCAPE_NORMAL) {                         
                            mOrientation = ORIENTATION_LANDSCAPE_NORMAL;
                        }
                    } else if (orientation < 315 && orientation >= 225) {
                        if (mOrientation != ORIENTATION_PORTRAIT_INVERTED) {
                            mOrientation = ORIENTATION_PORTRAIT_INVERTED;
                        }                       
                    } else if (orientation < 225 && orientation >= 135) {
                        if (mOrientation != ORIENTATION_LANDSCAPE_INVERTED) {
                            mOrientation = ORIENTATION_LANDSCAPE_INVERTED;
                        }                       
                    } else if (orientation <135 && orientation > 45) { 
                        if (mOrientation != ORIENTATION_PORTRAIT_NORMAL) {
                            mOrientation = ORIENTATION_PORTRAIT_NORMAL;
                        }                       
                    }                       
                } else {  // portrait oriented devices
                    if (orientation >= 315 || orientation < 45) {
                        if (mOrientation != ORIENTATION_PORTRAIT_NORMAL) {                          
                            mOrientation = ORIENTATION_PORTRAIT_NORMAL;
                        }
                    } else if (orientation < 315 && orientation >= 225) {
                        if (mOrientation != ORIENTATION_LANDSCAPE_NORMAL) {
                            mOrientation = ORIENTATION_LANDSCAPE_NORMAL;
                        }                       
                    } else if (orientation < 225 && orientation >= 135) {
                        if (mOrientation != ORIENTATION_PORTRAIT_INVERTED) {
                            mOrientation = ORIENTATION_PORTRAIT_INVERTED;
                        }                       
                    } else if (orientation <135 && orientation > 45) { 
                        if (mOrientation != ORIENTATION_LANDSCAPE_INVERTED) {
                            mOrientation = ORIENTATION_LANDSCAPE_INVERTED;
                        }                       
                    }
                }
            }
        };
    }
    if (mOrientationEventListener.canDetectOrientation()) {
        mOrientationEventListener.enable();
    }
}

private static final int ORIENTATION_PORTRAIT_NORMAL    =  1;
private static final int ORIENTATION_PORTRAIT_INVERTED  =  2;
private static final int ORIENTATION_LANDSCAPE_NORMAL   =  3;
private static final int ORIENTATION_LANDSCAPE_INVERTED =  4;

public void disableOrientationListener(){
    if(mOrientationEventListener != null){
        mOrientationEventListener.disable();
    }
} 
```

你应该`mOrientation`为你的图像设置方向属性。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-11-17T19:00:48.013

这个问题很久以前就解决了，但是我在使相机正常工作时遇到了一些困难，所以这是我的最终解决方案，没有使用 exif。我希望这对其他人有帮助：

```
public void startPreview() {
        try {
            Log.i(TAG, "starting preview: " + started);

            // ....
            Camera.CameraInfo camInfo = new Camera.CameraInfo();
            Camera.getCameraInfo(cameraIndex, camInfo);
            int cameraRotationOffset = camInfo.orientation;
            // ...

            Camera.Parameters parameters = camera.getParameters();
            List<Camera.Size> previewSizes = parameters.getSupportedPreviewSizes();
            Camera.Size previewSize = null;
            float closestRatio = Float.MAX_VALUE;

            int targetPreviewWidth = isLandscape() ? getWidth() : getHeight();
            int targetPreviewHeight = isLandscape() ? getHeight() : getWidth();
            float targetRatio = targetPreviewWidth / (float) targetPreviewHeight;

            Log.v(TAG, "target size: " + targetPreviewWidth + " / " + targetPreviewHeight + " ratio:" + targetRatio);
            for (Camera.Size candidateSize : previewSizes) {
                float whRatio = candidateSize.width / (float) candidateSize.height;
                if (previewSize == null || Math.abs(targetRatio - whRatio) < Math.abs(targetRatio - closestRatio)) {
                    closestRatio = whRatio;
                    previewSize = candidateSize;
                }
            }

            int rotation = getWindowManager().getDefaultDisplay().getRotation();
            int degrees = 0;
            switch (rotation) {
            case Surface.ROTATION_0:
                degrees = 0;
                break; // Natural orientation
            case Surface.ROTATION_90:
                degrees = 90;
                break; // Landscape left
            case Surface.ROTATION_180:
                degrees = 180;
                break;// Upside down
            case Surface.ROTATION_270:
                degrees = 270;
                break;// Landscape right
            }
            int displayRotation;
            if (isFrontFacingCam) {
                displayRotation = (cameraRotationOffset + degrees) % 360;
                displayRotation = (360 - displayRotation) % 360; // compensate
                                                                    // the
                                                                    // mirror
            } else { // back-facing
                displayRotation = (cameraRotationOffset - degrees + 360) % 360;
            }

            Log.v(TAG, "rotation cam / phone = displayRotation: " + cameraRotationOffset + " / " + degrees + " = "
                    + displayRotation);

            this.camera.setDisplayOrientation(displayRotation);

            int rotate;
            if (isFrontFacingCam) {
                rotate = (360 + cameraRotationOffset + degrees) % 360;
            } else {
                rotate = (360 + cameraRotationOffset - degrees) % 360;
            }

            Log.v(TAG, "screenshot rotation: " + cameraRotationOffset + " / " + degrees + " = " + rotate);

            Log.v(TAG, "preview size: " + previewSize.width + " / " + previewSize.height);
            parameters.setPreviewSize(previewSize.width, previewSize.height);
            parameters.setRotation(rotate);
            camera.setParameters(parameters);
            camera.setPreviewDisplay(mHolder);
            camera.startPreview();

            Log.d(TAG, "preview started");

            started = true;
        } catch (IOException e) {
            Log.d(TAG, "Error setting camera preview: " + e.getMessage());
        }
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-09T07:25:44.897

您忽略了一个例外：

```
 try {
        // Code
        int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL);
    } catch (Exception e) {

    } 
```

尝试 ：

```
 try {
        // Code
        int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL);
    } catch (Exception e) {
        e.printStackTrace();
    } 
```

并发布logcat。抛弃异常绝不是明智之举。

# java - [Java 1.7.09]带有指南的GridLayout

> ID：13245557
> 
> 赞同：1
> 
> 时间：2012-11-06T06:25:27.307
> 
> 标签：java, awt, layout-manager, grid-layout, gridlines

在我的 JPanel 上，我设置了 GridLayout(10,7)。现在这个布局不包含任何元素（组件）。如何在单元格处设置网格/引导线？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:28:52.500

> ..此布局不包含任何元素（组件）。如何在单元格处设置网格/引导线？

在具有（可见）边框的单元格中放置一些标签。

> ..一个我的“绘图JPanel”被创建，它是用gridlayout设置的。然后用户选择要显示的元素。一旦用户点击所需的元素，他们的信息就会从 mysql 数据库中获取并显示在“Drawing JPanel”中。在用户选择元素之前，我已经需要网格/指南和“对齐网格”功能。

要么将`JPanel`带有边框的 a 放入面板中。或者如果网格线只是暂时的，直到用户将东西放在单元格面板中：

*   不要在面板本身上设置边框。
*   用一个`CardLayout`
*   添加带边框的标签。
*   添加“真实组件”后，将它们添加到布局中并翻转卡片。

# magento - Magento：如何在收集时使用序列化数据进行过滤？

> ID：13245559
> 
> 赞同：1
> 
> 时间：2012-11-06T06:25:33.313
> 
> 标签：magento

我在类别的前端使用多选。当表单提交时，我以序列化格式保存类别，它将类别数组转换为字符串。

像“ **serialize($_Params['categories'])** ”。

当我在对数据进行非序列化后尝试创建 Collection 时，**它**不会显示有目的的结果。

收集我正在尝试创建的内容 -

```
/* Store Collection */
$_Params = $this->getRequest()->getParams();

if($_Params['category']):
    $_Collection = $this->getStoreCollection()
        ->addFieldToFilter('approval_status', array('eq' => 'approved'))
        ->addFieldToFilter(unserialize('categories'), array(
        'in' => $_Params['category'],
        ))
        ->getData(); 
```

我怎样才能使它有目的。

请帮忙！

- 谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:09:34.160

你似乎是 unserialize('categories') 这不是一个变量。您还提到 $_Params['category'] 是一个序列化值，所以这就是我认为您试图完成的

```
/* Store Collection */
$_Params = $this->getRequest()->getParams();

if($_Params['category']){
    $_Collection = $this->getStoreCollection()
        ->addFieldToFilter('approval_status', array('eq' => 'approved'))
        ->addFieldToFilter('categories', array(
        'in' => unserialize($_Params['category']),
    ))
    ->getData();
} 
```

# android - 如何在android中制作用户名和密码文件

> ID：13245560
> 
> 赞同：0
> 
> 时间：2012-11-06T06:25:55.463
> 
> 标签：android

我拿二`EditText`加一`Button`。我想设置一个特定的用户名和密码，当我点击`Button`如果用户名和密码正确然后打开一个新的意图，否则显示一个祝酒词。

我使用此代码显示不同的吐司，但它不起作用。它总是显示“不正确”。

```
b.setOnClickListener(new OnClickListener() {

    public void onClick(View v) {
        // TODO Auto-generated method stub
        if((e.getText().toString()=="nishant")&&(e1.getText().toString()=="pawan")){
            Toast.makeText(getApplicationContext(), "correct",Toast.LENGTH_LONG).show();
        } else
            Toast.makeText(getApplicationContext(), "incorrect",Toast.LENGTH_LONG).show();
    }
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:34:45.887

像这样再试一次，把“==”换成“equals”：

```
b.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            if((e.getText().toString().equals("nishant"))&&(e1.getText().toString().equals("pawan"))){
                Toast.makeText(getApplicationContext(), "correct",Toast.LENGTH_LONG).show();
            }
            else
                Toast.makeText(getApplicationContext(), "incorrect",Toast.LENGTH_LONG).show();

        }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:32:54.510

尝试，

```
.equals() 
```

像这样：

```
e.getText().toString().equals("nishant") 
```

`==`用于比较字符串，其中`.equals()`比较两个值。

请参阅以下代码：

```
b.setOnClickListener(new OnClickListener()
{
    public void onClick(View v)
    {
        // TODO Auto-generated method stub
        if((e.getText().toString().equals("nishant"))&&(e1.getText().toString().equals("pawan")))
        {
            Intent mInSecond=new Intent(MainActivity.this,SecondActivity.class);
            startActivity(mInSecond);
        }
        else
        {
            Toast.makeText(getApplicationContext(), "incorrect",Toast.LENGTH_LONG).show();
        }
     }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T06:30:46.983

不要`==`用来比较两个字符串，使用`.equals("")`它并写下面的代码而不是你的代码，它会解决你的问题。

```
b.setOnClickListener(new OnClickListener() {

    public void onClick(View v) {
        // TODO Auto-generated method stub
        if(e.getText().toString().equals("nishant") && e1.getText().toString().equals("pawan"){
            Intent mInSecond=new Intent(MainActivity.this,SecondActivity.class);
            startActivity(mInSecond);
        } else{
            Toast.makeText(getApplicationContext(), "Incorrect", Toast.LENGTH_LONG).show();
        }
    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T06:37:05.663

利用`.equals()`

```
e.getText().toString().equals("nishant") 
```

`.equals()`比较值相等

同样，当您比较字符串时。请注意大写或小写，因为有时我们会一次又一次地重复我们的错误，而我们对此一无所知......

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-06T06:28:16.977

用于`.equals()`比较字符串

```
e.getText().toString().equals("nishant") 
```

`==`只比较参考。

# iphone - 网络查询 - 目标 C

> ID：13245562
> 
> 赞同：0
> 
> 时间：2012-11-06T06:26:27.697
> 
> 标签：iphone, objective-c, ios

我为我的另一个应用程序使用了类似的代码，它一直运行良好，但是当我为我当前的应用程序尝试它（不同的 IP/cgi 脚本）时，它不起作用。

```
NSString *iQuery = [NSString stringWithFormat:@"206.196.111.206/rego/test.cgi?country=AU"];  
NSString *query = [NSString stringWithContentsOfURL:[NSURL URLWithString:iQuery] encoding:NSUTF8StringEncoding error:&errorStr];    
NSData *resultJson = [query dataUsingEncoding:NSUTF8StringEncoding];   
if(query){
   NSString *res = [[NSString alloc] initWithData:resultJson encoding:NSUTF8StringEncoding];
} else {        
   printf("Error is: %s", errorStr);
} 
```

如果我将查询：206.196.111.206/rego/test.cgi?country=AU 粘贴到 IE 或 firefox 中，它会执行应有的操作（返回 4 位代码）

我也尝试过使用转义字符串：

```
 NSString *iQuery = [NSString stringWithFormat:@"206.196.111.206/rego/test.cgi?country=AU"]; 
    NSString *escapedURL = [iQuery stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];     
    NSString *query = [NSString stringWithContentsOfURL:[NSURL URLWithString:escapedURL] encoding:NSUTF8StringEncoding error:&errorStr];
    NSData *resultJson = [query dataUsingEncoding:NSUTF8StringEncoding];   
    if(query) {
        NSString *res = [[NSString alloc] initWithData:resultJson encoding:NSUTF8StringEncoding];    
    } else {
        printf("Error is: %s", errorStr);    
    } 
```

如果（查询）返回假。

有任何想法吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T07:37:14.417

请在您的请求字符串之前添加协议前缀`"http://"`，这解决了问题，因为我得到了四位数字，否则错误的内容是：

`"Error the operation could not be completed."`

# ffmpeg - 如何使用 ffmpeg 流式传输到磁盘碎片 MP4？

> ID：13245567
> 
> 赞同：2
> 
> 时间：2012-11-06T06:26:49.707
> 
> 标签：ffmpeg, video-streaming, mp4, pseudo-streaming

我正在构建一个应用程序，该应用程序需要在由 FFMPEG 编码的同时播放磁盘上的视频（换句话说，伪流到磁盘 - 播放跟踪就在编码后面，就像在实时流中一样）。所以 MOOV 原子本质上需要在它被处理时生成（或以块的形式交错到流中），我尝试使用 empty_moov 没有运气（特别是因为 quicktime 不支持它）。

我不确定 MP4 格式是否可行，正在寻找想法或解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-04-20T15:32:00.323

分段 MP4 是这样做的方法，但它使用 empty_moov。当一切都已经知道时，常规 MP4 文件的末尾有它们的标题（而不是像 fMP4 那样的开头）。它不适用于流式传输。

您可以尝试编写小的 MP4 文件（甚至是一个 GOP）并使用 fast_start（或类似的东西）将标题移动到文件的开头。我不知道连续播放多个文件的开销是多少，并且可能会导致播放不太流畅。

如果您已经对视频进行了转码并在读取数据后丢弃数据（或者空间不是问题），您可以输出 MJPEG。

# string - [XSLT]：删除 XSLT 中的字符串

> ID：13245568
> 
> 赞同：2
> 
> 时间：2012-11-06T06:26:50.390
> 
> 标签：string, xslt, removeclass

我在 xsl 中有字符串“[test]”。我需要删除 xsl 中的这个括号。我怎样才能在 XSL 中实现这一点。请帮忙。

我知道这可以做到，但我怎样才能用下面的代码删除'['，

```
 <xsl:call-template name="string-replace-all">
     <xsl:with-param name="text" select="$string" />
     <xsl:with-param name="replace" select="$replace" />
     <xsl:with-param name="by" select="$by" />
   </xsl:call-template> 
```

请帮忙删除'['和']'

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-06T06:33:57.237

使用[translate()](http://www.w3.org/TR/xpath/#function-translate)函数。

例子...

```
<xsl:call-template name="string-replace-all">
 <xsl:with-param name="text" select="$string" />
 <xsl:value-of select="translate( $text, '[]', '')" />
</xsl:call-template> 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-06T06:36:06.083

xsl 2.0

```
replace('[text]','^[(.*)]$','$1') 
```

xsl 1.0

```
translate('[text]','[]','') 
```

或者

```
substring-before(substring-after('[text]','['),']') 
```

这些中的任何一个都可以通过不同的故障模式来满足您的需求。请注意，无论输入是什么，第二个示例都会返回一些内容，但会删除输入中的所有括号。第三个示例仅在具有初始左括号和终止右括号的情况下才返回字符串，否则将返回空序列。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-12-27T14:34:38.353

如果要将一个符号替换为另一个，可以使用 translate 函数（XSLT 1.0、2.0），但如果要替换字符串，可以使用 MSXML 和其他 XSLT 处理器的通用模板：

```
<xsl:template name="replace-string">
    <xsl:param name="text"/>
    <xsl:param name="replace"/>
    <xsl:param name="with"/>
    <xsl:choose>
      <xsl:when test="contains($text,$replace)">
        <xsl:value-of select="substring-before($text,$replace)"/>
        <xsl:value-of select="$with"/>
        <xsl:call-template name="replace-string">
          <xsl:with-param name="text" select="substring-after($text,$replace)"/>
          <xsl:with-param name="replace" select="$replace"/>
          <xsl:with-param name="with" select="$with"/>
        </xsl:call-template>
      </xsl:when>
      <xsl:otherwise>
        <xsl:value-of select="$text"/>
      </xsl:otherwise>
    </xsl:choose>
</xsl:template> 
```

# java - Jar 文件 ADD DIRECTORY ENTRIES Eclipse 选项，同时导出 jar

> ID：13245570
> 
> 赞同：7
> 
> 时间：2012-11-06T06:27:00.290
> 
> 标签：java, eclipse, spring, jakarta-ee, jar

我不知道我是否在问正确的问题，但想清除我的疑问。

实际上我遇到了从 jar 文件中引用类文件的场景。我的意思是说我有一个后端 java 项目说 ABC，其中包含 application-context.xml 文件。

现在我创建了 ABC 项目的 jar 文件并在一个基于 Web 的应用程序中使用。

在这里，我遇到了 bean 没有自动装配的问题，并且知道问题是，当我使用 Eclipse 导出 ABC 项目的 jar 文件时，我没有选择“添加目录条目”复选框，后来我做了所有工作。

只是为了通过在 jar 文件中选中此框来查看所做的更改，以便一切正常，

因此，我创建了 2 个 jar 文件，其中一个选中了“添加目录条目”，一个未选中，然后我使用 Beyond compare 比较了两个 jar，发现根本没有区别。

有人可以解释一下“添加目录条目”到底是做什么的吗？

我所知道的是它应该添加完整的结构而不是像 com/company/project/MyJavaFile.class 这样的单一路径

> com/公司/
> 
> com/公司/项目/
> 
> com/company/project/MyJavaFile.class

如果我错了，请纠正我。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-11T16:27:41.893

如果需要使用 class.getResource() 方法获取 jar 文件中特定目录的 URI，则应在创建 jar 文件时启用“添加目录条目”。例如，您可能想要这样做的原因是为您的“资源”文件夹保存一个 URI。

如果您只使用 class.getResource() 来获取特定文件 [而不是目录] 的 URI，那么如果您关闭“添加目录条目”就可以了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T06:32:55.247

表单 Doc [JAR 文件导出器](http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-export-jar.htm)

> **添加目录条目：**将每个目录的条目添加到 JAR 文件中，即使该目录仅包含子目录。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-11-19T15:10:35.250

如果您使用 7-zip 或类似文件查看 jar 文件，您可以看到选择“添加目录条目”时文件夹有一个“D”属性。当该选项不存在时，这些属性不存在。您的比较可能是比较 jar 文件中文件的内容，而不是查看 jar 文件属性。

# javascript - 为什么在 javascript apply 中给出与直接调用不同的结果？

> ID：13245571
> 
> 赞同：4
> 
> 时间：2012-11-06T06:27:21.800
> 
> 标签：javascript, function

我有以下代码

```
var d = new Date();
Object.prototype.toString(d); //outputs  "[object Object]"
Object.prototype.toString.apply(d); //outputs "[object Date]" 
```

为什么会有这种差异以及发生了什么？

编辑：

```
d.toString() // outputs "Tue Nov 06 2012 ..." 
```

那么“[object Date]”中的日期是从哪里来的。是浏览器的本机代码起作用吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T06:31:07.313

```
Object.prototype.toString(d); 
```

转换`Object.prototype`为字符串并忽略其参数。在

```
Object.prototype.ToString.apply(d); 
```

`d`被传递`this`给`ToString`方法（就像引用`d.toString()`被调用一样），这是方法所尊重的。`toString``Object.prototype.toString`

见[`Function#apply`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/apply)和[`Object#toString`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/toString)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-06T06:37:21.247

该参数在第一次调用中被忽略。您`toString`在对象上调用该方法`Object.prototype`，基本上与以下内容相同：

```
{}.toString(); //outputs  "[object Object]" 
```

在第二次调用中，您正在调用`toString`方法，`Object`但将`Date`对象用作其上下文。该方法将对象的类型作为字符串返回，与将对象的值作为字符串返回的对象的`toString`方法进行比较。`Date``Date`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T06:57:21.603

另一种解释是[`Object.prototype.toString`](http://ecma-international.org/ecma-262/5.1/#sec-15.2.4.2)对其`this`对象进行操作。一个函数`this`是由你如何调用它来设置的，所以当你这样做时：

```
Object.prototype.toString(); 
```

`toString`函数是`this`对象`Object.prototype`。当您将其称为：

```
Object.prototype.toString.apply(d); 
```

它`this`是`d`（一个 Date 对象）引用的对象。

# jquery - 如何使用for循环将颜色替代品附加到div作为使用jquery的Zebra？

> ID：13245574
> 
> 赞同：0
> 
> 时间：2012-11-06T06:27:07.757
> 
> 标签：jquery

大家好，我正在研究 jquery 我需要添加颜色，`divs alternatively`因为`zebra`我在这里工作过我得到了附加颜色`virtically`但我`horizontally`也需要在这里制作它我需要应用`forloop`条件来应用颜色如果我单击`vZebra button`它应该垂直应用颜色如果我点击 HZebra`button`颜色应该水平应用 if 条件在这里我工作的 jsfiddle 你可以检查任何机构可以帮助我做这项工作提前谢谢

[小提琴](http://jsfiddle.net/VP6UF/18/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:32:23.323

为什么不将每一行包装在一个 div 中，那么您可以在行上使用 :odd 选择器，并且可以在每行中使用 :odd 选择器...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T07:48:34.453

这是[小提琴](http://jsfiddle.net/VP6UF/49/)。希望这可以帮助。水平`divs`被包裹在另一个容器内。

# google-app-engine - Google App Engine 上的 HTTP Post 仅在一半时间内有效

> ID：13245577
> 
> 赞同：1
> 
> 时间：2012-11-06T06:27:14.633
> 
> 标签：google-app-engine, gwt, urlfetch

我已经使用 URLFetch 类在 Google App 引擎中将 HTTP Post 发送到我的 php 文件（在某些不同的网站上）。

这就是我所拥有的

```
try{
byte[] data = ("EMAIL=bo0@gmail.com&TITLE=evolution&COMMENT=comments&PRICE=5000").getBytes("UTF-8");
URL url = new URL("http://www.box.com/nost.php");
HTTPRequest request = new HTTPRequest(url, HTTPMethod.POST);
request.setPayload(data);
HTTPResponse response = URLFetchServiceFactory.getURLFetchService().fetch(request);
} 
```

现在，当我在本地部署时，这似乎工作得很好。但是，当我在谷歌应用引擎上发布时，这只适用于一半的时间。（即，即使有完全相同的数据，我不止一次按帖子，它可能是错误或成功）

由于我没有更改任何数据，这似乎是完全随机的。谁能给我建议为什么会这样？

编辑：这是一个工作代码似乎我的 php 在某些时候阻止了 gae 正在发出的 http 请求。我通过在 catch 块中使用递归来修复，以继续尝试直到成功。

```
try {
    URL url = new URL("http://www.mywebsite.com/myfile.php");
    HttpURLConnection connection = (HttpURLConnection) url.openConnection();
    connection.setDoOutput(true);
    connection.setRequestMethod("POST");

    OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());
writer.write("EMAIL="+URLEncoder.encode("sam@gmail.com", "UTF-8")+
"&TITLE="+URLEncoder.encode("myTitle", "UTF-8")+
"&PRICE="+URLEncoder.encode(String.valueOf(10000), "UTF-8"));
writer.close();

if (connection.getResponseCode() == HttpURLConnection.HTTP_OK) {
// OK
return true;
} else {
// Server returned HTTP error code.
//keep retrying until you succeed!! fighting!!
return newPost(postComponent);
}
} catch (MalformedURLException e) {
e.printStackTrace();
return false;
} catch (IOException e) {
e.printStackTrace();
return false;
}
catch (Exception e){
e.printStackTrace();
//ah dam probably server is down so you went stack overflow I give up
return false;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T06:35:08.583

我强烈建议您使用 java.net，而不是使用 URLFetch 服务。

根据我的经验，这是要走的路。我已经设置了测试用例，然后循环遍历一个集合并向远程服务器发出大量 POST 请求，然后将计数和输出写入浏览器，这样我就可以看到有多少成功，有多少失败。

结果很有趣。我在日志中看到了异常，我心想，“哦，太好了，试图找出网络糟糕的原因又浪费了更多时间！”。好吧，我查看了 11000 个测试用例的结果，都成功了。

在深入研究异常之后，很明显代码实际上会尝试第二次发出请求，例如，如果它从服务器获得 500 响应！这就是为什么我所有的案例都成功了，尽管有大约 500 个错误！

这正是我正在寻找的，因为它避免了我为服务器问题或轻微网络问题编写自己的错误处理程序的需要，库为我处理了这些问题。

[java.net - HTTPURLConnection](https://developers.google.com/appengine/docs/java/urlfetch/usingjavanet)已被证明在向服务器发送数据时非常可靠：

> 以下示例向带有一些表单数据的 URL 发出 HTTP POST 请求：

```
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URL;
import java.net.URLEncoder;
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.IOException;
import java.io.OutputStreamWriter;

// ...
        String message = URLEncoder.encode("my message", "UTF-8");

        try {

            // this is your url that you're posting to
            URL url = new URL("http://www.box.com/nost.php");

            // create and open the connection using POST 
            HttpURLConnection connection = (HttpURLConnection) url.openConnection();
            connection.setDoOutput(true);
            connection.setRequestMethod("POST");

            OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());

            // this is your data that you're sending to the server! 
            writer.write("EMAIL=bo0@gmail.com&TITLE=evolution&COMMENT=comments&PRICE=5000");

            writer.close();

            // this is where you can check for success/fail. 
             // Even if this doesn't properly try again, you could make another 
              // request in the ELSE for extra error handling! :)        
            if (connection.getResponseCode() == HttpURLConnection.HTTP_OK) {
                // OK
            } else {
                // Server returned HTTP error code.
            }
        } catch (MalformedURLException e) {
            // ...
        } catch (IOException e) {
            // ...
        } 
```

请记住，您不是在向 php 文件发出请求，而是在向服务器发出请求。文件类型没有区别，因为它在底层都是 HTTP。希望这可以帮助！

我编辑了来自 Google 的示例，以便它使用您的远程端点和查询字符串数据。

# iphone - iPhone 5 设备和模拟器的区别

> ID：13245578
> 
> 赞同：1
> 
> 时间：2012-11-06T06:27:22.263
> 
> 标签：iphone, xcode, ios-simulator, iphone-5

我正在开发一个应该在 iOS 4 及更高版本上运行的应用程序，我刚刚在模拟器上测试了（ios6 iPhone5）的应用程序，因为我在中东的约旦；iPhone5 没有到我们国家，模拟器和实际设备一样工作吗？？

顺便说一句，当我为 iPhone 5 测试我的应用程序时，我使用的是 iphone 模拟器 6.0、retina 4.0。

谢谢。

**编辑：**

我可以将我的应用程序上传到 itunesConnect 而不在实际设备上运行它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:31:50.857

我也像你一样使用 iPhone 模拟器测试我的 iPhone5 应用程序。我周围其他一些有经验的开发人员告诉我，没关系。

# android - Android SensorManager 部分数据丢失的原因是什么？

> ID：13245585
> 
> 赞同：0
> 
> 时间：2012-11-06T06:27:57.867
> 
> 标签：android, events, delay, sensors

我正在使用传感器 - 加速度计、指南针和陀螺仪进行测试应用。我在 DELAY_GAME 注册了所有这些传感器的传感器事件。但是，一旦屏幕熄灭，传感器数据更新就会停止。中断时间长达 85 秒。在注册传感器事件之前，我已经采取了部分唤醒锁定，并在停止传感器更新后释放锁定。

有趣的是，我在 Galaxy S3.(4.0.4) 上注意到了这种行为。然而，在其他设备上——Note、Galaxy Nexus 和 S2，没有这样的行为。

请问有什么指点吗？

-罗宾

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T10:42:29.650

您是否在服务中实施传感器侦听器？如果不是，您希望将它们从任何 Activity 生命周期中排除。

# xcode - Xcode 在导入时自动将 UTF16-LE 文件检测为 UTF8

> ID：13245590
> 
> 赞同：1
> 
> 时间：2012-11-06T06:28:24.590
> 
> 标签：xcode, utf-8

背景：我的 iOS 项目的源代码控制发生在 Linux 中的一个专有包上，当新的 drop 到达时，我选择项目文件并将它们 ftp 到我的 Mac 并使用 Xcode。

问题：带有 UTF16-LE 编码的错误消息的资源文件被 Xcode 识别为 UTF8 文件。在 Xcode 中打开文件时，文件的“文本设置”显示“检测到 - Unicode (UTF-8)”。项目构建失败并显示错误消息“损坏的文件”。该文件也被同一工作区中的其他项目引用，并且在那里构建失败并出现错误“读取失败：数据已损坏，无法读取。”

解决方法：当我手动将编码更改为 UTF16-LE（重新解释）时，我的基础项目工作正常。对于工作区中的其他项目，我需要将文件转换为 UTF16-LE 以使其正常工作。

问题：我可以避免这种变通方法并让 Xcode 自动识别编码吗？

ps：文件的编码在 xcodeproj 文件中为“fileEncoding = 2483028224”，并在其他地方作为二进制文件处理。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-12T13:14:31.627

自动编码检测是基于启发式的[极其脆弱的过程，它永远无法正常工作。](http://en.wikipedia.org/wiki/Bush_hid_the_facts)它主要是为了给不懂计算机的人提供一些便利，他们甚至不知道编码这样的东西甚至存在，因此无法明确声明它。

对于其他人来说，我们可以很方便地知道和明确声明编码，因此总是正确的。您正在使用的程序应该具有在配置和设置中显式声明编码的能力，因此您不必依赖自动编码检测的巫术。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-27T06:09:10.897

文件的前 2 个字符用于标识文件编码。在这种情况下，它没有反映它是什么。更正后，Xcode 似乎可以正确识别。

# memory - 在目标文件级别预先确定函数的大小

> ID：13245591
> 
> 赞同：1
> 
> 时间：2012-11-06T06:28:28.100
> 
> 标签：memory, memory-management, size, stack, stack-size

如何预先确定大小，函数在执行过程中会消耗在 RAM 中。这必须在**目标文件级别**找到？ie - 更清楚地说，如果我有一个目标文件，我应该可以说这个文件消耗了这么多 BSS、DS、CS 以及堆栈和堆。在这里，我可以使用 size 和 nm 命令对 BSS、DS 和 CS 进行分类，但无法确定将消耗多少堆栈或堆。

任何 1 都可以帮我解决这个..

在此先感谢
kihdrak

# python - 导入 sympy 不起作用

> ID：13245596
> 
> 赞同：3
> 
> 时间：2012-11-06T06:28:44.997
> 
> 标签：python, sympy

我可以在终端中很好地导入 sympy 但是一旦我将它保存为 .py 文件并运行它，它就会给我以下错误：

```
Traceback (most recent call last):
File "/Users/Dao/Desktop/sympy.py", line 3, in <module>
    from sympy import Symbol
File "/Users/Dao/Desktop/sympy.py", line 3, in <module>
    from sympy import Symbol
ImportError: cannot import name Symbol
[Finished in 0.0s with exit code 1] 
```

我有点困惑为什么会这样……知道吗？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T14:40:30.987

这条路径：

```
/Users/Dao/Desktop/sympy.py 
```

使它看起来像您有自己的文件，名为`sympy.py`. 如果这是真的，那么它就是在遮蔽 library `sympy`。换句话说，当您键入 时`from sympy import Symbol`，Python 认为*您的*程序是您要从中导入`Symbol`的程序，这是行不通的。

(1) 重命名您的程序，以及 (2) 删除任何您闲逛的文件`Desktop/sympy.pyc`。`Desktop/sympy.pyo`然后，如果`sympy`正确安装（并且从你说它可以导入的事实来看，它可能是），它应该可以工作：

```
>>> from sympy import Symbol
>>> Symbol
<class 'sympy.core.symbol.Symbol'> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T06:35:40.577

您可能有两个不同版本的 python。尝试输入：

```
which python 
```

在您的命令行中，并在您的脚本中使用 shebang (#!) 将其设置为您的脚本版本。通过执行 chmod +x 将其作为 exacutacle 运行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T14:06:08.083

sympy 没有`Symbol`直接上课。它在核心模块下。

你可以通过`from sympy.core.symbol import Symbol`

请注意， sympy 模块包含在您的 python 路径中。

# ruby-on-rails - Komodo 项目模板宏

> ID：13245601
> 
> 赞同：0
> 
> 时间：2012-11-06T06:28:53.560
> 
> 标签：ruby-on-rails, komodo

**`oncreate`**科莫多项目中宏的用途是什么？如何在 Ruby on rails 中使用它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:38:41.733

Komodo 项目模板可以有一个名为 oncreate 的特殊宏，它在从模板创建新项目时运行。此 Ruby on Rails 模板中的 oncreate 宏运行命令 'rails . --skip' 在当前工作目录中创建项目。

来自：[http ://docs.activestate.com/komodo/5.0/tutorial/railstut.html](http://docs.activestate.com/komodo/5.0/tutorial/railstut.html)

# reporting-services - SSRS 2005 中的可见性

> ID：13245602
> 
> 赞同：0
> 
> 时间：2012-11-06T06:29:01.177
> 
> 标签：reporting-services, reportingservices-2005

我需要在报告中显示以下内容

**A** BCD
A 数据

```
A     **B**    C    D 
```

B数据

这里，'A,B,C,D' 是文本框或表格标题内的标题。当我点击A时，需要显示A的数据

当我点击 B 时，A 的数据应该被隐藏，只有 B 的数据应该显示在之前显示 A 的数据的相同位置。对于 C 和 D 也是如此。

这怎么可能？需要尽快帮助。！！提前致谢。

谢谢，伊斯瓦娅

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T23:17:03.820

首先，您需要一个参数来接受您的 A、B、C、D 值并将它们传递给您的数据集（WHERE 子句或过滤器）。然后你需要在你的文本框标题中添加一个动作。行动将是“去报告”。指定当前报告。添加上面创建的参数并根据需要对值进行硬编码 - 对显示：A 的文本框标题的含义，参数应传递值：A 等。

# html - 更改 div 中的背景

> ID：13245608
> 
> 赞同：2
> 
> 时间：2012-11-06T06:29:19.440
> 
> 标签：html

我从他们更改了背景图像的网站上获得了这段代码。我想使用旧的背景图像，但不知道如何使用。来自网站的原始代码：

```
 <div style="position: absolute; top: -696px; left: -964px; width: 2944px; height: 1840px; transform: scale(1); transform-origin: 0px 0px; background-image: url("http://prodcdngame.lordofultima.com/cdn/377714/resource/webfrontend/townlayer/texture_bg_tile_big_city.jpg");">

Original code XPath = /html/body/div[3]/div/div/div/div/div/div/div/div/div/div

so far I have this, but it only changes the background of the page during loading bar:

document.body.element.style.background = 'url("http://prodcdngame.lordofultima.com/cdn/377712/resource/webfrontend/townlayer/texture_bg_tile_big_city.jpg")'; 
```

我的问题是——如何修改我的 GM 脚本，以便将其应用于特定的 div？或者我如何只更改现有代码中的一个字符（377714 到 377712）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-08-18T05:31:10.313

只要您要使用的图像与**texture_bg_tile_big_city.jpg**位于同一文件夹中，您就可以更改该文件名。

如果您想修改脚本以仅在一个 div 上设置背景图像，则必须向该 div 添加一个 ID（如果您还没有 ID）。

```
document.getElementById(NameOfID).style.backgroundImage = 'url("http://prodcdngame.lordofultima.com/cdn/377712/resource/webfrontend/townlayer/texture_bg_tile_big_city.jpg")'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-18T05:33:01.220

使用 jQuery 更改背景图像 CSS 有两种不同的方法

1`$('selector').css('backgroundImage','url(images/example.jpg)');`

2 `$('selector').css({'background-image':'url(images/example.jpg)'});`

仔细观察以注意差异。第二种，您可以使用常规 CSS 并将多个 CSS 属性串在一起。

尝试这个：

```
document.getElementById('a').style.backgroundImage="url(images/img.jpg)"; // specify the image path here 
```

希望能帮助到你！

# java - java中的继承和委托有什么区别

> ID：13245610
> 
> 赞同：13
> 
> 时间：2012-11-06T06:29:24.963
> 
> 标签：java

> **可能重复：**
> [更喜欢组合而不是继承？](https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance)

java中的继承和委托有什么区别？

如何在我的项目中使用以下示例？请你指导我的代表团。我知道继承，但对委托知之甚少。所以，请给一个合理的理由。我为什么要使用这个？

```
 package com.m;

 class RealPrinter { // the "delegate"
     void print() { 
      System.out.println("something"); 
    }
 }

 class Printer { // the "delegator"
     RealPrinter p = new RealPrinter(); // create the delegate 
     void print() { 
     p.print(); // delegation
     } 
 }

 public class Tester {

// to the outside world it looks like Printer actually prints.
     public static void main(String[] args) {
        Printer printer = new Printer();
        printer.print();
     }

   } 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-11-06T06:41:12.263

当你委托时，你只是在调用一些知道必须做什么的类。您并不真正关心它是*如何做到的，您所**关心*的只是您所调用的类知道需要做什么。

如果我是你，虽然我会创建一个接口并命名它`IPrinter`（或类似的东西），它有一个名为`print`. 然后我会`RealPrinter`实现这个接口。最后，我会将这一行： 更改`RealPrinter p = new RealPrinter();`为 this: `IPrinter p = new RealPrinter()`。

既然`RealPrinter`implements `IPrinter`，那么我肯定知道它有一个`print`方法。然后，我可以使用此方法通过将应用程序委托给适当的类来更改应用程序的打印行为。

这通常允许更大的灵活性，因为您不会将行为嵌入到特定类中，而是将其留给另一个类。

在这种情况下，要更改应用程序在打印方面的行为，您只需创建另一个实现的类，`IPrinter`然后将这一行更改`IPrinter p = new RealPrinter();`为`IPrinter p = new MyOtherPrinter();`.

```
public interface IPrinter {
    void print();
}

public class RealPrinter implements IPrinter {

    @Override
    public void print() {
        System.out.println("This is RealPrinter");
    }
}

public class RealPrinter2 implements IPrinter {

    @Override
    public void print() {
        System.out.println("This is RealPrinter2");
    }
}

public class Main {

    public static void main(String...arg){
        IPrinter printer  = new RealPrinter();
        printer.print();

        printer = new RealPrinter2();
        printer.print();
    }
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-06T08:11:38.917

继承使用 java 编译器的类型系统来隐式包含来自其他地方的代码，通过委托显式实现标注。

继承仅限于单个父类（和祖先），但有时您的代码的去向并不明显；委托不太优雅，但是您可以从多个其他类中引入功能，并且流程清晰可见。

就调用外部函数而言，委托通常是首选，因为这个原因，继承应该保留在你想要实现一个行为特别像基类的类的情况下，所以它本质上可以被视为一个实例其他代码的基类（即它是多态的）。

# java - 读取包含字符串和双精度的文件以绘制矩形

> ID：13245613
> 
> 赞同：1
> 
> 时间：2012-11-06T06:29:53.753
> 
> 标签：java, swing, java.util.scanner, java-2d

我有一个包含以下内容的输入 file-file.txt

> ```
> M1 100 100 400.89 400.72   
>   400 400 450.89 450.72 
> ```
> 
> M2 100 100 440.56 440.82
> M3 100 200 300.52 330.75
> 200 200 320.53 340.34
> 300 300 400.43 350.25

我编写了一个程序来绘制一个矩形。但是我无法同时为 M1、M2 和 M3 绘制它。每行中的四个双精度值代表一个矩形的 2 个坐标。如果我的文件是

> M1 = [ 100 100 400.89 400.72;
> 400 400 450.89 450.72 ]
> M2 = [100 100 440.56 440.82 ]
> M3 = [100 200 300.52 330.75；
> 200 200 320.53 340.34；
> 300 300 400.43 350.25]

我写的代码是：

```
import java.util.*;
import java.io.*;
import java.awt.*;
import java.awt.geom.*;
import java.awt.image.*;
import java.awt.event.*;
import javax.swing.*;
import java.lang.*;
import java.math.*;
import java.text.DecimalFormat.*;

class Rectangles extends JComponent
{
 public void paint(Graphics g)

 { 
 Graphics2D g2 = (Graphics2D) g;
   try
  {

   File x=new File("file.txt");
   Scanner sc=new Scanner(x);
 while(sc.hasNext())
 { 
  String s=sc.next();
 if(s.equals("M1"))
  {
 while(sc.hasNext())
  {
  double x1=sc.nextDouble();
  double y1=sc.nextDouble();
  double x3=sc.nextDouble();
  double y3=sc.nextDouble();
  double x2=x3;
  double y2=y1;
  double x4=x1;
  double y4=y3;
  double a=x1;
  double b=y1;
  double c1=Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));
  double d1=Math.sqrt((x4-x1)*(x4-x1)+(y4-y1)*(y4-y1));
  double c=c1;
  double d=d1;
  g2.setPaint(Color.blue);
  g2.draw(new Rectangle2D.Double(a,b,c,d));
  g2.fill(new Rectangle2D.Double(a,b,c,d)); 

  }

  }
  }}      

   catch(Exception e)
    {
   System.out.println("reported Exception");
     }

   }
   }

   public class eighth
   {

  public static void main(String[] args)throws IOException
  {

   JFrame window = new JFrame();
   window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
   window.setBounds(60, 60, 900, 900);
    window.getContentPane().add(new Rectangles());
    window.setVisible(true);

   }
  } 
```

如何同时画出M1、M2、M3型的三个矩形？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T07:28:35.563

*   `File`在外面阅读`paint()`，事先准备好，

*   因为`paint()`每秒可以触发几次，然后 FIleIO 可以冻结整个 GUI

    a) 来自`Mouse`和`KeyBoard`事件

    b)在需要`JComponent`时在内部触发事件`repaint()`

*   使用`paintComponent()`代替`paint()`_`JComponent`

*   将所有`Char`s 放入`List`or `ArrayList`,

*   内部`paintComponent()`使用循环内部数组`Graphics2D.drawString()`

* * *

*   为什么要打扰`painting in JComponent`，放在或`String``JLabel``JTextArea`

*   改变`BackGround`

*   for `JLabel`have to `setOpaque(true)`, 因为`JLabel`是透明的

# javascript - 使用 Google Oauth 时 Firefox 和 Chrome 中的 Javascript 未启用错误

> ID：13245615
> 
> 赞同：0
> 
> 时间：2012-11-06T06:29:51.563
> 
> 标签：javascript, redirect, login, oauth

我正在为 liferay 用户尝试 google oAuth 身份验证。用于 Google OAuth 的 URL 是

```
https://accounts.google.com/o/oauth2/auth?client_id=myClientId&redirect_uri=http://localhost:8090/c/login/oauth2callback&response_type=code&scope=https://www.googleapis.com/auth/userinfo.profile+https://www.googleapis.com/auth/userinfo.email 
```

它会将我重定向到谷歌登录页面（如果用户未登录），然后是授权页面。

在我说允许之后，浏览器将我重定向到

```
https://accounts.google.com/o/noscript 
```

说

```
You've reached this page because we have detected that Javascript is disabled in your browser. The page you attempted to load cannot display properly if scripts are disabled.

Please enable scripts and retry the operation or go back in your browser 
```

它只发生在 Firefox（我使用 16.0.2，即使在早期版本中也发生）和 chrome(22) 中。它在 IE 中运行良好。

这里会有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-03T11:11:33.380

一种可能是一些扩展阻塞js，在隐身窗口中重试，如果oAuth OK：对于最新安装的扩展，您可以选择“允许隐身”，然后尝试隐身查看agian，如果oAuth失败，则删除扩展。我刚刚找到一个奇怪的扩展，删除它，然后确定！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:11:05.430

您是否尝试[在 Chrome 中启用脚本](http://lifehacker.com/5180010/enable-user-scripts-in-google-chrome)？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-15T00:26:51.227

原因是您没有足够好的配置设置。转到 Mozilla 中的 about:config，然后转到 VERY 最后一个，然后将其设置为 0。

# android - DexGuard 如何加密类？

> ID：13245623
> 
> 赞同：27
> 
> 时间：2012-11-06T06:30:27.527
> 
> 标签：android, encryption, proguard, dexguard

我想看看 DexGuard 是如何工作的，但它似乎没有免费试用版。

DexGuard 可以加密 Android 应用程序吗？或者它只是混淆了代码？DexGuard 加密如何工作？如果您可以在反编译前后提供使用 DexGuard 运行的示例应用程序的代码，那就太好了。

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2012-11-07T23:21:48.080

[ProGuard](http://proguard.sourceforge.net/)提供名称混淆：它可以用简短的、无意义的名称替换类、方法和字段的原始名称。[DexGuard](http://www.saikoa.com/dexguard)还提供字符串加密和类加密。在这种情况下，术语加密可能会令人困惑，因为这些基本上是更激进的混淆类型。指定的字符串和类以某种故意复杂的加密形式存储，并在运行时使用应用程序必须可用的密钥和算法进行解密。在某些方面类似，Google Play 市场可以为 Android 4.1 加密整个应用程序。然后，运行时环境以受控方式在应用程序执行之前对其进行解密。

（我是 ProGuard 和 DexGuard 的开发者——如果您有兴趣，请随时与我们联系）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-07-22T08:42:38.007

旧版本的 DexGuard 使用“DES”算法加密指定的类。后来它改变了“AES”算法。对指定类进行加密后，将加密后的数据以数据数组的形式，以解密的方式存储到另一个类中。Dex中作为静态块的解密方法是使用控制流混淆和API隐藏进行混淆的clinit格式方法。所以对解密方法进行去混淆处理就有点麻烦了。在其他类中，将指定的类更改引用到反射操作码。每次APK运行时，加密的类都会先用静态方法解密。解密后的类将使用反射 API 加载到 dvm 内存中。因此其他类可以正确引用指定的类。就是这样。在我看来，DexGuard 是一个非常强大的混淆工具。如果每个功能混淆都适用于 APK，

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-04T18:48:59.140

尽管他们使用了加密这个词，但似乎它确实是一种混淆。我这么说只是因为尽管它们可能会加密某些字符串/值……事实上，加密密钥也必须存储在应用程序中，这意味着它们为代码提供“锁”，同时打包“密钥” “ 用它。

# selenium-webdriver - 使用 selenium 2 时 jsessionid 会自动添加到 URL

> ID：13245626
> 
> 赞同：1
> 
> 时间：2012-11-06T06:31:02.150
> 
> 标签：selenium-webdriver

我目前对 Selenium 2 有一个问题。问题是 jsessionid 被添加到 URL，如下所示： [http://our.server/checkout;jsessionid=755FAB46186A26192351168ABD0C3BE5?pf=115408](http://our.server/checkout;jsessionid=755FAB46186A26192351168ABD0C3BE5?pf=115408)

而手动步骤将具有以下 URL： [http://our.server/checkout?pf=115408](http://our.server/checkout?pf=115408)

这是硒引起的问题吗？如果是这样，你们能告诉我如何解决它吗？

顺便说一句，我使用的是 Windows 7（32 位）和 Selenium 版本 2.25.0。谢谢

# c - 写入硬件控制器寄存器和 DMA 如何在 ARM 拱形机器上工作？

> ID：13245628
> 
> 赞同：0
> 
> 时间：2012-11-06T06:30:42.843
> 
> 标签：c, linux, kernel, arm, dma

调用此函数时：

```
static inline void writel(unsigned int v, volatile void __iomem *addr)
{
    *(volatile unsigned int __force *)addr = cpu_to_le32(v);
} 
```

1.  地址是绝对地址还是通过 MMU？
2.  DMA - 写入地址是否由 MMU 转换？
3.  [为什么这里](http://www.arm.linux.org.uk/developer/memory.txt)没有提到系统中的寄存器地址？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T08:02:08.167

以下是我的回答，希望对你有所帮助：

1.  是的，地址由 MMU 翻译。传递给的地址`writel`应该是通过`ioremap`调用获得的虚拟地址（VA）。`ioremap`将采用物理地址 (PA)。
2.  不，MMU 不翻译地址。传递给 DMA 的地址应该是物理地址。典型的 DMA 是存在于 MMU 之外的专用外设。
3.  例如，您必须搜索“bcm2835 arm peripherals”，而不是“ARM Linux 上的内核内存布局”。作为提示，如果您想在 linux 内核中查找寄存器位置，请`ioremap`在 linux-kernel-tree/arch/arm 中进行搜索。

# ruby - 如何以我想要的方式对这个数组进行排序？

> ID：13245632
> 
> 赞同：0
> 
> 时间：2012-11-06T06:30:57.380
> 
> 标签：ruby

假设我有一个这样的数组：

```
[["bham", "php"],
 ["auburn", "php"],
 ["bham", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["mobile", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["tucson", "php"],
 ["tucson", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"],
 ["phoenix", "php"]] 
```

我想做几件事：

1.  计算具有`php`作为第二个元素的数组的数量 - 所以 `["bham", "php"] 将计为 1。
2.  计算每个第一个元素在整个列表中出现的次数。即`bham`在整个数组中出现了多少次，`auburn`出现了多少次，等等。所以基本上，我想循环通过这个二维数组，对于每个孩子的第一个元素，我想检查我是否已经记录这个字符串 - 如果我有然后我增加记录的值，如果我没有然后我为这个新字符串创建一个新条目。

这个特定的数组相对简单，可以在视觉上相对容易地完成，但假设我将有一个包含成百上千个元素的数组。

假设每个子数组的两个元素都将始终是一个单词也是安全的 - 所以它应该相对容易跟踪。

我该如何处理？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-06T06:41:40.747

计数很简单：

```
a.count{|x| x[1] == 'php'}
#=> 24 
```

对于分组怎么样group_by：

```
a.group_by{|x| x[0]}.map{|k,v| [k,v.size]}
#=> [["bham", 2], ["auburn", 1], ["phoenix", 18], ["mobile", 1], ["tucson", 2]] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T06:35:55.723

> 计算以 php 作为第二个元素的数组的数量

[`map`](http://ruby-doc.org/core-1.9.3/Enumerable.html#method-i-map)只获取最后一个元素，然后[`select`](http://ruby-doc.org/core-1.9.3/Enumerable.html#method-i-select)只获取我们关心的元素，并获取大小：

```
array.map(&:last).select { |s| s == 'php' }.size
#=> 24 
```

* * *

> 计算每个第一个元素在整个列表中出现的次数

[`map`](http://ruby-doc.org/core-1.9.3/Enumerable.html#method-i-map)只获取第一个元素，然后对其进行迭代，构建一个哈希来存储计数：

```
array.map(&:first).each_with_object(Hash.new(0)) { |s, h| h[s] += 1 }
#=> {"bham"=>2, "auburn"=>1, "phoenix"=>18, "mobile"=>1, "tucson"=>2} 
```

# php - PHP：strtotime 不显示正确的值

> ID：13245640
> 
> 赞同：-3
> 
> 时间：2012-11-06T06:31:32.920
> 
> 标签：php, mysql

从mysql我得到`2012-11 05-05 12:39:1`但如果我使用`date('n-Y', strtotime(2012-1105-05 12:39:1));`它显示`1-1970`

知道有什么问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:34:09.503

在这种情况下，这可能不是有效的格式：

```
2012-1105-05
      ^ ?? - what notation is this 
```

**[在此处](http://www.php.net/manual/en/datetime.formats.compound.php)**查看所有有效格式。

# java - Java通过引用转码到Python

> ID：13245641
> 
> 赞同：1
> 
> 时间：2012-11-06T06:31:53.470
> 
> 标签：java, python, reference, pass-by-reference

我有两个问题：

1.  如果我有以下代码：

    ```
    private boolean handleCollision(Rectangle_Double test)
    {
        Rectangle_Double s = test;
        s.setLocation(s.X+xVelocity, s.Y);
    } 
    ```

我在修改传入的 Rectangle_Double 吗？如果是这样，复制传入的 Rectangle_Double 并修改它的最佳方法是什么？

其次，如果我要像这样在 python 中编写代码：

```
def handleCollision(collidedLands, testRectangle)
    s = testRectangle
    s.setLocation(s.X+xVelocity, s.Y) 
```

我在修改传入的 testRectangle 吗？如果是这样，复制传入的 testRectangle 并修改它的最佳方法是什么？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:42:59.060

我不会说 Java，但要回答 Python 问题：

1.  是的，您正在修改 testRectangle。

2.  如果您不想修改它，请创建一个新矩形并将其返回。

像这样，假设你有一个矩形的构造函数：

```
def handleCollision(collidedLands, testRectangle):
    newRectangle = Rectangle(testRectangle.X + xVelocity, testRectangle.Y)
    return newRectangle 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T10:10:39.810

Python 和 Java 都只能按值传递。Python 中的每个值都是一个引用，就像在 Java 中每个非原始值都是一个引用一样。在这两种语言中，对象都不是值。它们的传递和引用语义几乎相同，无论您选择如何称呼它们。

因此，您的 Java 代码：

```
private void handleCollision(Rectangle_Double test)
{
    Rectangle_Double s = test;
    s.setLocation(s.X+xVelocity, s.Y);
} 
```

与等效的 Python 代码相同：

```
def handleCollision(self, test):
    s = test
    s.setLocation(s.X+xVelocity, s.Y) 
```

正如我之前所说，对象在任何一种语言中都不是值。在这两种情况下传递的值都是引用（指向对象的指针）。Python 和 Java 中的所有对象都必须通过引用进行操作。像所有类型一样，引用是按值传递的。

# ios - dyld：惰性符号绑定失败：找不到符号：_objc_loadWeak

> ID：13245642
> 
> 赞同：3
> 
> 时间：2012-11-06T06:31:36.817
> 
> 标签：ios, ipad, automatic-ref-counting, afnetworking, ios4

我目前正在开发一个`ARC`启用的 iPad 应用程序。该应用程序在 iOS 版本 5.0 、 5.1 和 6.0 上运行良好，但在 iOS 4.3 上因错误而崩溃。

> dyld：惰性符号绑定失败：找不到符号：_objc_loadWeak

我认为这可能与`AFNetworking`崩溃发生在网络请求之后有关，所以我将我的版本降级到 0.10.1.2 但我似乎仍然收到错误。

任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:58:09.487

iOS 4 不完全支持 ARC；它支持“ARCLite”。在这种情况下，清零弱引用在 iOS 4.3 中不可用。

所以直接的解决方案是：

*   避免`__weak`及其亲属
*   或者放弃iOS4.3
*   或将实现的相关部分移至 MRC

* * *

参考：[Objective-C 功能可用性指数](http://developer.apple.com/library/ios/#releasenotes/ObjectiveC/ObjCAvailabilityIndex/_index.html)

# c# - 我们可以在 Windows 环境下使用 MonoTouch 开发 iOS 应用吗

> ID：13245646
> 
> 赞同：5
> 
> 时间：2012-11-06T06:32:02.717
> 
> 标签：c#, ios, .net, xamarin, xamarin.ios

我打算在 MonoTouch 上做一个 iPhone 应用程序。我使用的是 Windows 7 和 VS 2010。我的问题是我没有找到任何安装程序或任何安装 MonoTouch for Windows 的东西。

我的问题是我们可以在 Windows 环境中使用 MonoTouch 开发 iOS 应用程序吗？

还是 Monotouch 只支持在 MAC 环境下使用 C# 代码开发 IOS 配置？

我不想在 Windows 上运行 VM 并在其上运行 MAC 并进行编码。谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T14:22:57.477

## Xamarin 2.0 (updated answer)

Xamarin released [their solution to this with Xamarin 2.0](http://docs.xamarin.com/guides/ios/getting_started/introduction_to_xamarin_ios_for_visual_studio) (including iOS dev for Visual Studio 2010/2012). Like my previous answer below, the Xamarin.iOS Visul Studio setup still requires a Mac as a remote build host, so could still be a deal-breaker for some.

*Disclaimer: Visual Studio support is only part of their ["Business" license tier](http://xamar.in/r/SierraTradingPost/store.xamarin.com), and that runs $999 per year, currently. That said, they now have a free tier that allows device deployment and an "Indie" tier that is cheaper for Mac-based-only development.*

I was able to get their system to work fine in beta between a Mac host and a Windows VM. If you have a Mac already but prefer to code in VS, this is a really nice option.

## Original answer

While you would still need a Mac to run/debug the projects, which sounds like it would be a deal-breaker for you, this Visual Studio extension is created to allow you to write and compile MonoTouch projects in Visual Studio 2010.

[MonoTouch for Visual Studio 2010](https://github.com/follesoe/VSMonoTouch)

It is mostly for those looking to maintain the VS IDE experience while developing for MonoTouch, avoiding the learning curve of new keyboard shortcuts and single-pane development. When you get to something compiling just fine, you would need to get those source files over to MonoDevelop on a Mac for any simulator or device debugging and any packaging for deployment.

*Disclaimer: Even after following all the steps on their project page, I was never able to get VS 2010 on 64-bit Windows 7 to recognize the project type properly. I had planned to work in VS 2010 while letting Dropbox sync the files between my Windows machine and a Mac where I would do the final testing.*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T06:37:15.073

不，您不能在 Windows 平台上使用 MonoTouch 开发 iOS 应用程序。你需要有MAC。iOS 开发的 MonoTouch 仅适用于 MAC。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-05-11T18:28:54.613

*   您可以使用***Mac build Host***，但您也需要联网的 mac 进行开发和调试。

*   现在使用***[Xamarin Live Player](https://arstechnica.com/information-technology/2017/05/xamarin-live-player-almost-takes-the-mac-out-of-ios-development/)*** ，您可以在 Windows 中完全***调试、开发和部署应用程序，******而无需任何 Apple 系统的帮助，***但是要签署应用程序并将其发布到应用商店，您将需要 Apple 系统

# bash - 似乎可以从 bash 脚本中导出环境变量

> ID：13245649
> 
> 赞同：5
> 
> 时间：2012-11-06T06:32:37.327
> 
> 标签：bash, environment-variables, variable-assignment

我正在通过腻子在远程服务器上工作，并试图通过类似这样的方式设置某些环境变量

```
#!/bin/bash
VAR="SOME VALUE"
export $VAR 
```

当我退出脚本并在 $VAR 上运行 echo 时，我得到一个空行。你能建议一个解决这个问题的方法吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-06T06:49:03.160

首先，您需要导出 VAR，而不是 $VAR。

另外，我认为，您正在尝试从您的 shell 执行脚本

```
./initVars.sh # or whatever is your script name... 
```

您应该将其作为

```
source ./initVars.sh # OR
. ./initVars.sh # Note the leading '.' which serves as short-hand for source. 
```

你可以把它放在你的 .bashrc 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:36:30.297

它应该是

```
export VAR 
```

请注意缺少美元符号。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T06:51:39.393

两个问题。首先，它只是`export VAR`. 其次，`$VAR`仅对您的脚本和子进程可用，对父 shell 不可用。如果你想为那个 shell 设置，你可以像`. ./yourscript.sh`从 shell一样获取它。`$VAR`

# sql - 任何机构都可以解释描述中提到的逻辑吗？

> ID：13245652
> 
> 赞同：-1
> 
> 时间：2012-11-06T06:32:23.933
> 
> 标签：sql, sql-server, logic

当您拥有月份编号时，获取月份名称的最佳方法是

选择 DateName( 月 , DateAdd( 月 , @MonthNumber , 0 ) - 1 )

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:38:23.827

内部查询

```
select  DateAdd( month , 12 , 0 )-1 
```

将输出为

```
1900-12-31 00:00:00.000 
```

Sql server 认为开始日期为 1900-01-01 00:00:00.000，该日期加上 12 个月将得到 1901-01-01 00:00:00.000

当您减去一天并取月份名称时，从此值中得到 december，这是您想要的输出

# ldap - 如何在ldap中存储日期？

> ID：13245654
> 
> 赞同：3
> 
> 时间：2012-11-06T06:32:37.710
> 
> 标签：ldap

我们如何在 ldap 中存储日期？是否为存储日期定义了任何属性？或者有什么方法可以根据需要创建某些属性...我正在使用 java 和 spring 以编程方式存储字段。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-13T10:47:18.630

您的目标是存储日期+时间还是唯一日期？

如果你有日期和时间，你应该使用标准的[通用时间](http://tools.ietf.org//html/rfc4517#section-3.3.13)语法。但是，它仅适用于存储精度至少为一小时的日期和时间。如果你只知道日期，

如果您有一个没有时间的日期，则需要使用自定义格式来存储它。您可以查看有关[如何在 LDAP 中存储生日](https://groups.google.com/d/topic/mozilla.dev.tech.ldap/Ast6WzQbgsQ/discussion)的相关讨论。如您所见，没有单一的解决方案，各种软件正在使用各种方法来存储日期。

在使用的各种解决方案中，我认为有两个特别令人感兴趣。一种是使用`YYYYMMDD`格式——它基本上是将广义时间剥离到当天。另一种是使用[ISO8601](http://www.iso.org/iso/home/standards/iso8601.htm)`YYYY-MM-DD`指定的更具可读性。

使用它们要么需要在模式中定义新语法，要么使用更广泛的类型（前者为[数字字符串，后者为](http://tools.ietf.org//html/rfc4517#section-3.3.23)[IA5 字符串](http://tools.ietf.org//html/rfc4517#section-3.3.15)）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T09:16:49.377

[使用通用时间](http://tools.ietf.org//html/rfc4517#section-3.3.13)语法在模式中定义一个属性，并使用该属性存储日期、时间等。

# ajax - 如何从lfieray portlet中的ajax调用调用portlet.java类中的特定方法而不是serveResource方法？

> ID：13245661
> 
> 赞同：0
> 
> 时间：2012-11-06T06:32:59.100
> 
> 标签：ajax, jquery, liferay, portlet, liferay-6

> **可能重复：**
> [如何调用 portlet.java 类的特定方法而不是覆盖 serveResource 方法？](https://stackoverflow.com/questions/13246870/how-to-call-specific-method-of-portlet-java-class-rather-then-overide-serveresou)

我现在对在 liferay 中调用 ajax 方法感到困惑，我正在这样做

这是我的示例 view.jsp，其中我只是调用我的 portlet.java 类的一种方法

```
<%@ include file="/init.jsp"%>
<portlet:actionURL name="AddTest" var="add1" />
<portlet:resourceURL id="AddTest" var="AddTest"></portlet:resourceURL>
<html>
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>

 <script type="text/javascript">
function addToDo(addToDo){
    var todo =document.getElementById('toDo').value;
    $.ajax({
        url :addToDo,            
          data: {"todo":todo,"CMD":"addToDo"},
          type: "GET",
          dataType: "text",
        success: function(data) {              
              $("#toDoList").html(data);
        }
    });
}
 </script>
</head>

<body>

<portlet:resourceURL var="addToDo" id="addToDo"></portlet:resourceURL>
<form>
<input type="text" name="toDo" id="toDo">
<button name="Add" type="button" onclick="addToDo('<%=addToDo%>')">Add</button>
<div id="toDoList">

</div>
</form>

</body>
</html> 
```

现在我在我的 portlet.java 类中覆盖了 serveResource 方法

```
@Override
     public void serveResource(ResourceRequest request, ResourceResponse response){
            if(request.getParameter("CMD").equals("addToDo")){

                System.out.println("came here for add");
                mediatype userToDo = new mediatypeImpl();
                //userToDo.setMediaId(12345);
                try {
                    userToDo.setPrimaryKey((CounterLocalServiceUtil.increment()));
                    userToDo.setMedianame(request.getParameter("todo"));
                    mediatypeLocalServiceUtil.addmediatype(userToDo);

                }
                catch (SystemException e) {
                    e.printStackTrace();
                }

            }
        } 
```

现在我所知道的是任何 Ajax 调用都会重定向到这个方法。但是我怎样才能从 Ajax 调用中调用我的 porltet.java 类的特定方法？还有吗？我只是这个 Ajax 的新手，需要你们的帮助..如果有人可以指导我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T08:24:39.913

> 我如何从 Ajax 调用中调用我的 porltet.java 类的特定方法

您在这里指的是哪种具体方法？

当您执行任何 resourceURL 时，它只会调用 serverResource 方法。与执行任何 actionURL 时相同，它只会调用 processAction 方法。

# sql - SQL Server 用逗号格式化小数位

> ID：13245663
> 
> 赞同：15
> 
> 时间：2012-11-06T06:33:46.497
> 
> 标签：sql, sql-server

如何将十进制值转换为逗号？

[这](https://stackoverflow.com/questions/4269529/sql-server-2005-currency-format-with-commas-and-period)对我有帮助。但我的问题是小数位仅设置为 2..我希望小数点为 2、3 或 4..示例

```
1,234.123   or    1,234.12345 
```

我试过

```
convert(varchar, convert(decimal(18, 4), 1234.1234567), 1) 
```

输出：1234.1234

没有逗号。但如果我用钱，小数点只有 2

> 转换（varchar，转换（钱，1234.1234567），1）
> 
> 输出：1,234.12

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-11-06T08:21:49.077

谢天谢地（？），在**SQL Server 2012+**中，您现在可以使用[FORMAT()](http://msdn.microsoft.com/en-us/library/hh213505.aspx)来实现这一点：

```
FORMAT(@s,'#,0.0000') 
```

* * *

在以前的版本中，冒着看起来很丑的风险

**[查询]**：

```
declare @s decimal(18,10);
set @s = 1234.1234567;
select replace(convert(varchar,cast(floor(@s) as money),1),'.00',
    '.'+right(cast(@s * 10000 +10000.5 as int),4)) 
```

在第一部分中，我们使用 MONEY->VARCHAR 来生成逗号，但使用 FLOOR() 来确保小数转到`.00`. 这很容易识别并替换为小数点后的 4 位数字，使用移位 ( `*10000`) 和 CAST 作为 INT（截断）的混合来推导数字。

**[结果]**：

```
|   COLUMN_0 |
--------------
| 1,234.1235 | 
```

但是，除非您必须使用 SQL Server Management Studio 或 SQLCMD 交付业务报告，否则这**绝不**是正确的解决方案，即使可以做到。任何前端或报告环境都具有处理显示格式的适当功能。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-11-06T07:28:06.203

不认为这是一个好主意......

```
select dbo.F_AddThousandSeparators(convert(varchar, convert(decimal(18, 4), 1234.1234567), 1)) 
```

功能

```
-- Author:      bummi
-- Create date: 20121106
CREATE FUNCTION F_AddThousandSeparators(@NumStr varchar(50)) 
RETURNS Varchar(50)
AS
BEGIN
declare @OutStr varchar(50)
declare @i int
declare @run int

Select @i=CHARINDEX('.',@NumStr)
if @i=0 
    begin
    set @i=LEN(@NumStr)
    Set @Outstr=''
    end
else
    begin   
     Set @Outstr=SUBSTRING(@NUmStr,@i,50)
     Set @i=@i -1
    end 

Set @run=0

While @i>0
    begin
      if @Run=3
        begin
          Set @Outstr=','+@Outstr
          Set @run=0
        end
      Set @Outstr=SUBSTRING(@NumStr,@i,1) +@Outstr  
      Set @i=@i-1
      Set @run=@run + 1     
    end

    RETURN @OutStr

END
GO 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2015-01-05T21:11:53.350

来自相关的 SO 问题： [在 SQL Server 2008 R2 中格式化一个带逗号但不带小数的数字？](https://stackoverflow.com/questions/13207075/format-a-number-with-commas-but-without-decimals-in-sql-server-2008-r2)

```
SELECT CONVERT(varchar, CAST(1112 AS money), 1) 
```

这在 SQL Server 2008 R2 中进行了测试。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-30T01:04:52.610

如果您使用的是 SQL Azure Reporting Services，则不支持“格式”功能。这实际上是在 SSRS 图表中格式化工具提示的唯一方法。因此，解决方法是返回一个列，该列具有用于工具提示的格式化数字的字符串表示形式。所以，我同意 SQL 不是格式化的地方。除非在这种情况下，该工具没有适当的功能来处理显示格式。

在我的情况下，我需要显示一个用逗号格式化且没有小数（输入小数 2）的数字，并在我的数据集查询中得到一个计算列的宝石：

,Fmt_DDS=reverse(stuff(reverse(CONVERT(varchar(25),cast(SUM(kv.DeepDiveSavingsEst) as money),1)), 1, 3, ''))

它有效，但对于以后维护报告的人来说非常丑陋且不明显。耶云！

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-11-06T07:10:15.260

SQL（或者更准确地说，RDBMS）并不是格式化输出的正确选择。数据库应提供原始数据，然后应在目标应用程序中对其进行格式化（或更一般地说：处理）。

但是，根据您使用的特定系统，您可以编写一个 UDF（用户定义函数）来实现您想要的。但请记住，您实际上是在返回一个 varchar，您将无法进一步处理（例如总结）。

# jquery - 如何通过 jQuery 更改 SVG 元素的颜色（拖动选定的颜色）

> ID：13245666
> 
> 赞同：2
> 
> 时间：2012-11-06T06:34:07.910
> 
> 标签：jquery, asp.net, svg

我制作了一个颜色选择器，我希望用户通过将所选颜色拖动到 SVG 元素来更改我的 SVG 元素的颜色。- 可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T14:42:09.037

```
$('#colorSelector').ColorPicker({
color: '#0000ff',
onShow: function (colpkr) {
    $(colpkr).fadeIn(500);
    return false;
},
onHide: function (colpkr) {
    $(colpkr).fadeOut(500);
    return false;
},
onChange: function (hsb, hex, rgb) {
// here you can change your SVG style 
    $('#colorSelector div').css('backgroundColor', '#' + hex);
}}); 
```

and link [COLOR PICKER - JQUERY PLUGIN](http://www.eyecon.ro/colorpicker/#about)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-19T18:46:43.100

这是一个使用 jquery 更改 SVG 颜色的 HTML5 输入颜色选择器的示例：

HTML SVG：

```
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     viewBox="0 0 150 150" style="enable-background:new 0 0 150 149.7;" xml:space="preserve" height="200px" width="200px">
<path class="shirt-darker" d="M72.2,81.1C32.3,81.1,0,111.8,0,149.7h144.4C144.4,111.8,112.1,81.1,72.2,81.1z"/>
<path class="shirt-darker" d="M77.8,81.1c-39.9,0-72.2,30.7-72.2,68.6H150C150,111.8,117.7,81.1,77.8,81.1z"/>
<path class="shirt-lighter" d="M147.4,149.7c0-0.1,0-0.1,0-0.2c0-37.9-32.3-68.6-72.2-68.6S3,111.7,3,149.6c0,0.1,0,0.1,0,0.2H147.4z"/>
<polygon class="tie-darker" points="83.9,90 76.4,102.3 68.9,90 "/>
<polygon class="tie-darker" points="83.9,139.4 76.4,149.1 68.9,139.4 "/>
<polygon class="tie-darker" points="68.9,139.4 76.4,97.4 83.9,139.4 "/>
<polygon class="tie-lighter" points="82.8,90 75.3,102.3 67.8,90 "/>
<polygon class="tie-lighter" points="82.8,139.4 75.3,147.7 67.8,139.4 "/>
<polygon class="tie-lighter" points="67.8,139.4 75.3,97.4 82.8,139.4 "/>
<ellipse class="face-darker" cx="75.2" cy="49.1" rx="37.8" ry="42"/>
<ellipse class="face-lighter" cx="74.3" cy="48.1" rx="37" ry="41"/>
<path class="hair-darker" d="M77.1,1C56.9,1,40.6,7.9,40.6,16.3c0,0,0,0,0,0c-0.1,0-0.2,0-0.3,0c-5.5,0-10,8.4-10,18.8
    c0,10.4,4.5,18.8,10,18.8c5.5,0,10-8.4,10-18.8c0-3.3-0.4-6.3-1.2-9c6.7,3.4,16.8,5.5,28,5.5c20.1,0,36.5-6.8,36.5-15.3
    C113.5,7.9,97.2,1,77.1,1z"/>
<path class="hair-lighter" d="M76-0.3C55.9-0.3,39.6,6.6,39.6,15c0,0,0,0,0,0c-0.1,0-0.2,0-0.3,0c-5.5,0-10,8.4-10,18.8
    c0,10.4,4.5,18.8,10,18.8c5.5,0,10-8.4,10-18.8c0-3.3-0.4-6.3-1.2-9c6.7,3.4,16.8,5.5,28,5.5c20.1,0,36.5-6.8,36.5-15.3
    C112.5,6.6,96.2-0.3,76-0.3z"/>
</svg> 
```

HTML 输入：

```
<input id="hair_color" type="color" value="#BE1E2D"> 
```

CSS：

```
.shirt-darker{fill:#2385BD;}
.shirt-lighter{fill:#3B96D2;}
.tie-darker{fill:#89539A;}
.tie-lighter{fill:#9D68AC;}
.face-darker{fill:#E8CBB4;}
.face-lighter{fill:#FEE3CC;}
.hair-darker{fill:#9E2131;}
.hair-lighter{fill:#BE1E2D;} 
```

查询：

```
$('input#hair_color').change(function(){
    var colored = $(this).val();
    $('.hair-lighter').css({ fill: colored });
}); 
```

您可以在此处查看演示：http: [//jsfiddle.net/nozola/j93asgt2/1/](http://jsfiddle.net/nozola/j93asgt2/1/)

# c# - 如何计算 5X5 矩阵中 sobel 边缘检测中的 dx 和 dy？

> ID：13245669
> 
> 赞同：0
> 
> 时间：2012-11-06T06:34:03.530
> 
> 标签：c#, algorithm, graphics, core-graphics, graph-algorithm

我对如何在 sobel 边缘检测方法中计算 dx 和 dy 感到有点困惑......我用谷歌搜索了一下，我发现......

```
 public class SobelEdgeDetector : ImageFilter<SobelEdgeDetectorParms>
{
   private Color grayscale(Color cr)
    {
        return Color.FromArgb(cr.A, (int)(cr.R * .3 + cr.G * .59 + cr.B * 0.11),
            (int)(cr.R * .3 + cr.G * .59 + cr.B * 0.11),
            (int)(cr.R * .3 + cr.G * .59 + cr.B * 0.11));
    }
    public override Bitmap FilterProcessImage(SobelEdgeDetectorParms parms, Bitmap image)
    {
        Bitmap ret = new Bitmap(image.Width, image.Height);
        for (int i = 1; i < image.Width - 1; i++)
        {
            for (int j = 1; j < image.Height - 1; j++)
            {
                Color cr = image.GetPixel(i + 1, j);
                Color cl = image.GetPixel(i - 1, j);
                Color cu = image.GetPixel(i, j - 1);
                Color cd = image.GetPixel(i, j + 1);
                Color cld = image.GetPixel(i - 1, j + 1);
                Color clu = image.GetPixel(i - 1, j - 1);
                Color crd = image.GetPixel(i + 1, j + 1);
                Color cru = image.GetPixel(i + 1, j - 1);
                int dx = 0, dy = 0;
                switch (parms.Channel)
                {
                    case Channels.R:
                        dx = cld.R + 2 * cd.R + crd.R - (clu.R + 2 * cu.R + cru.R);
                        dy = crd.R + 2 * cr.R + cru.R - (cld.R + 2 * cl.R + clu.R);
                        break;
                    case Channels.G:
                        dx = cld.G + 2 * cd.G + crd.G - (clu.G + 2 * cu.G + cru.G);
                        dy = crd.G + 2 * cr.G + cru.G - (cld.G + 2 * cl.G + clu.G);
                        break;
                    case Channels.B:
                        dx = cld.B + 2 * cd.B + crd.B - (clu.B + 2 * cu.B + cru.B);
                        dy = crd.B + 2 * cr.B + cru.B - (cld.B + 2 * cl.B + clu.B);
                        break;
                    case Channels.RGB:
                        dx = grayscale(cld).B + 2 * grayscale(cd).B + grayscale(crd).B - (grayscale(clu).B + 2 * grayscale(cu).B + grayscale(cru).B);
                        dy = grayscale(crd).B + 2 * grayscale(cr).B + grayscale(cru).B - (grayscale(cld).B + 2 * grayscale(cl).B + grayscale(clu).B);
                        break;
                }
                double power = Math.Abs(dx) + Math.Abs(dy);
                if (power > parms.Threshold)
                    ret.SetPixel(i, j, parms.EdgeColor);
                else
                {
                    if (parms.CopyOriginal)
                    {
                        Color c = image.GetPixel(i, j);
                        if (parms.ConvertToGrayscale)
                        {
                            ret.SetPixel(i, j,
                                Color.FromArgb(255,
                                (int)(c.R * 0.3 + c.G * 0.59 + c.B * 0.11),
                                (int)(c.R * 0.3 + c.G * 0.59 + c.B * 0.11),
                                (int)(c.R * 0.3 + c.G * 0.59 + c.B * 0.11)));
                        }
                        else
                            ret.SetPixel(i, j, c);
                    }
                    else
                        ret.SetPixel(i, j, Color.White);
                }
            }
        }
        return ret;
    }
    public override System.Windows.Forms.Control GetParameterWindow()
    {
        return new SobelEdgeDetectorParmForm();
    }
} 
```

这是用于 3X3 矩阵 ......我想实现 5X5 矩阵............其实我想要切线斜率到选定的点。. . . 切线 = Atan2(dx,dy)。使用 3X3 矩阵我得到了正确的切线，但它不是更准确的切线。我对计算 5X5 矩阵的 dx 和 dy 感兴趣。我不想检测边缘，我想检测 Atan2(dx,dy) 的切线......请帮帮我......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T12:16:20.113

用于垂直方向的英特尔性能基元 (IPP) 中的 Sobel 5x5 矩阵内核（水平方向旋转）：

```
1   4   6   4   1
2   8  12   8   2
0   0   0   0   0
-2  -8 -12  -8  -2
-1  -4  -6  -4  -1 
```

并注意 Atan2 函数参数顺序： Atan2( **y, x** )

# javascript - 如何使用 javascript 禁用单选按钮？（不使用任何 JS 框架）

> ID：13245672
> 
> 赞同：12
> 
> 时间：2012-11-06T06:34:08.740
> 
> 标签：javascript, html

例如，我有 html 元素，例如

```
<input type="radio" name="disableme" id=1> Animal
<input type="radio" name="disableme" id=2> Mammal
<input type="radio" name="disableme" id=3> Human 
```

我试过喜欢，`document.formName.disableme.disabled = true;`但它没有奏效..

我可以使用 ID 来完成。但我需要一口气。

请帮忙。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-11-06T06:40:25.660

> 我试过了，document.formName.disableme.disabled = true; 但它没有工作..

因为如果你有多个同名的表单控件，你会得到一个[HTML 表单控件集合](http://dev.w3.org/html5/spec/single-page.html#htmlformcontrolscollection)。所以遍历集合：

```
var radios = document.formName.disableme;

for (var i=0, iLen=radios.length; i<iLen; i++) {
  radios[i].disabled = true;
} 
```

无需添加 ID。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-06T06:38:44.430

```
document.getElementById("1").disabled=true;
document.getElementById("2").disabled=true;
document.getElementById("3").disabled=true; 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-11-06T06:42:37.110

试试这个代码

```
var radio=document.getElementsByName("disableme");
   var len=radio.length;
   for(var i=0;i<len;i++)
   {
       radio[i].disabled=true;
   }

<input type="radio" name="disableme" id=1> Animal
<input type="radio" name="disableme"  id=2> Mammal
<input type="radio" name="disableme"  disabled="disabled" id=3> Human 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-11-06T06:39:41.677

首先，您的 id 应该用双引号给出。像这样：

```
 <input type="radio" name="disableme" id="1"> Animal
 <input type="radio" name="disableme" id="2"> Mammal
 <input type="radio" name="disableme" id="3"> Human 
```

并使用 javascript 禁用按钮，使用这个：

```
document.getElementById("1").disabled=true; 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-11-06T06:42:14.693

你不能一口气做完。

你有三个独立的元素，所以你必须一次禁用它们。无法使用纯 Javascript 一次禁用所有三个元素。

`document.formName.disableme`返回一个数组，因此您无法访问其中的元素属性，但您可以遍历元素并访问每个元素的属性：

```
var radios = document.formName.disableme;
for (var i = 0; i < radios.length; i++) {
  radios[i].disabled = true;
} 
```

演示：http: [//jsfiddle.net/Guffa/2uUKw/](http://jsfiddle.net/Guffa/2uUKw/)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-11-06T06:42:57.813

如果您只想使用 name 属性来禁用它，那么您可以使用

`document.getElementsByName("disableme")[0].disabled = true;`

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-11-06T06:53:24.910

```
function disable()
{
    var rads = document.formname.disableme;

    for(var i=0; i<rads.length;i++ )
    {
        document.formname.disableme[i].disabled = true;
    } 
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-09-06T09:15:31.533

`id`这是单选按钮最简单的方法（即使你有相同的）

**单选按钮定义：**

```
<input type="radio" name="paymentType" id="paymentType" value="CASH" /> CASH
<input type="radio" name="paymentType" id="paymentType" value="CHEQUE" /> CHEQUE
<input type="radio" name="paymentType" id="paymentType" value="DD" /> DD 
```

**禁用所有 3 个值：**

```
 document.formName.paymentType[0].disabled = false;
    document.formName.paymentType[1].disabled = false;
    document.formName.paymentType[2].disabled = false;
    ... 
```

# android - 如何关闭来电铃声？

> ID：13245673
> 
> 赞同：1
> 
> 时间：2012-11-06T06:34:34.207
> 
> 标签：android

如何关闭来电铃声？这可以通过编程方式完成吗？现在我正在使用下面的代码，但它不工作：

```
AudioManager am = (AudioManager)getSystemService(Context.AUDIO_SERVICE);
                am.setRingerMode(AudioManager.RINGER_MODE_SILENT); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-06T06:37:39.657

这里是你的解决方案

```
AudioManager am;
am= (AudioManager) getBaseContext().getSystemService(Context.AUDIO_SERVICE);

//For Normal mode
am.setRingerMode(AudioManager.RINGER_MODE_NORMAL);

//For Silent mode
am.setRingerMode(AudioManager.RINGER_MODE_SILENT);

//For Vibrate mode
am.setRingerMode(AudioManager.RINGER_MODE_VIBRATE); 
```

# iphone - 如何将图像放入文件夹并从文档目录中获取它们

> ID：13245677
> 
> 赞同：1
> 
> 时间：2012-11-06T06:34:38.960
> 
> 标签：iphone, objective-c, nsfilemanager, nsbundle, nsdocumentdirectory

在我的应用程序中，不同文件夹中有多个图像（总共 5 个）。如何将这些文件夹放入文档目录？

那么如何从特定图像文件夹中获取计数和图像名称？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:52:31.437

检查[Working_with_Directories](http://www.techotopia.com/index.php/Working_with_Directories_on_iOS_4_%28iPhone%29)链接。

**编辑**：`Copy` `item`参考[这个](https://stackoverflow.com/a/9830585/1106035)链接

有关详细信息，请参阅[NSFileManager](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSFileManager_Class/Reference/Reference.html)：

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:53:01.453

```
UIImage *dimage = [UIImage imagedNamed:@"yourImage.png"]; //get the image name here
 NSString *docDir = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];

 NSString *imageName = @"myImageName.png";
 NSArray *patharr=[ImagePath componentsSeparatedByString:@"."];
 NSString* Ext=[NSString stringWithFormat: @"%@",[patharr objectAtIndex:1]];
 NSString *FilePath = [NSString stringWithFormat: [NSString stringWithFormat:@"%@/%@",docDir,ImagePath]];

 NSData *data = [NSData dataWithData:UIImagePNGRepresentation(dimage)];
 [data writeToFile:FilePath atomically:YES]; 
```

> 进一步获取文档目录文件名的内容...

```
 NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsPath = [paths objectAtIndex:0]; 
    NSArray *dirContents = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:documentsPath error:nil];
    NSMutableArray *array=[[NSMutableArray alloc]init];
    for (NSString *dir in dirContents) {
        if ([dir hasSuffix:@".png"]) {
            NSRange range = [dir rangeOfString:@"."];
            NSString *name = [dir substringToIndex:range.location];
            if (![name isEqualToString:@""]) {

                [array addObject:name];
            }
        }
    } 
NSLog(@"document folder content list %@ ",array); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T06:53:10.043

这是您从目录中获取图像的方式

```
array = [[NSBundle mainBundle] pathsForResourcesOfType:@"png" inDirectory:@"folderName"]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-02-25T02:25:43.040

 **文档目录和存储图像的**快速路径****

 **```
func getDocumentsDirectory() -> URL {
    let paths = FileManager.default.urls(for: .documentDirectory, in: .userDomainMask)
    let documentsDirectory = paths[0]
    return documentsDirectory
}

if let image = UIImage(named: "example.png") {
    if let data = UIImagePNGRepresentation() {
        let filename = getDocumentsDirectory().appendingPathComponent("copy.png")
        try? data.write(to: filename)
    }
} 
```**

# android - android:theme="@android:style/Theme.NoTitleBar.Fullscreen" 不工作安卓

> ID：13245680
> 
> 赞同：6
> 
> 时间：2012-11-06T06:35:04.483
> 
> 标签：android, themes, android-manifest

我在清单文件中声明我的活动，如下所示。

```
<activity 
        android:name=".SiteView" 
         android:theme="@android:style/Theme.NoTitleBar.Fullscreen"
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        android:screenOrientation="landscape" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.HOME" />
            <category android:name="android.intent.category.DEFAULT" />

        </intent-filter>
    </activity> 
```

我用全屏主题声明活动。但它不起作用。

我也使用第二种方式进行全屏，如下所示。

```
 requestWindowFeature(Window.FEATURE_NO_TITLE);

getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN); 
```

但没有成功。请帮我找到这个。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-06T06:55:24.207

我通过在应用程序级别声明全屏主题来解决它。

```
<application android:theme="@android:style/Theme.NoTitleBar.Fullscreen" > 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T06:51:51.937

尝试将主题更改为：`android:theme="@android:style/Theme.NoTitleBar"`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T07:19:12.543

这对我有用：-

```
<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@android:style/Theme.Black.NoTitleBar" > 
```

# wordpress - 哪个版本最适合wordpress

> ID：13245682
> 
> 赞同：0
> 
> 时间：2012-11-06T06:35:09.983
> 
> 标签：wordpress

我是 wordpress 新手，需要知道哪个编辑器最适合 wordpress。目前我正在使用 TinyMCE。我想要带有快速标签的编辑器，如 .net 或 JCE 中的编辑器、咖啡杯等。请帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:39:24.690

无论你觉得舒服。我有 2 个编辑器，Eclipse，如果我想使用轻量级编辑器，我使用 notepad++

# hibernate - Hibernate Query缓存理解

> ID：13245684
> 
> 赞同：2
> 
> 时间：2012-11-06T06:35:16.067
> 
> 标签：hibernate, caching

我已经阅读了很多材料，但我无法消除对休眠二级缓存的疑问。

1) 可以说，我有一个返回 1000 条记录的查询。（例如，来自年龄>30 的员工）。我已将查询设为可缓存。与此同时，记录的数量增加了，现在同一个查询的结果应该是 2000。现在下次我执行同一个查询时，hibernate 如何从缓存中获取记录。它只获取新记录吗？

2）场景2。假设我执行查询（例如，来自年龄> 30的员工）。我有 1000 条记录。现在记录在内部更新。我再次执行相同的查询。在这种情况下，休眠如何获取？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T07:13:55.197

> 查询缓存不缓存结果集中实际实体的状态；它只缓存标识符值和值类型的结果。

**场景 1：** Hibernate 将时间戳与查询一起存储以跟踪新记录，如果 hibernate 找到新记录，则将再次触发查询以驱逐旧数据。

**场景 2：**这将始终返回您更新的记录，因为实际状态对象从未与查询一起缓存

更多详情请参考[链接](http://www.javalobby.org/java/forums/t48846.html)

# winapi - 使用浏览器帮助对象对 PDF 进行事件控制

> ID：13245703
> 
> 赞同：0
> 
> 时间：2012-11-06T06:37:56.757
> 
> 标签：winapi, visual-c++, atl, dhtml, bho

我是浏览器助手对象的新手，我得到了以下链接[http://www.codeproject.com/Articles/37044/Writing-a-BHO-in-Plain-C](http://www.codeproject.com/Articles/37044/Writing-a-BHO-in-Plain-C) ，它可以帮助我理解 BHO，但使用它我如何才能实现--在 Internet Explorer 中，当我打开 PDF 文件时，它必须抛出一个事件，我需要捕捉它并找到它试图打开的扩展名，如果它是 PDF，则引发弹出消息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T18:42:31.227

在您的 IObjectWithSite::SetSite() 实现中，找到一个接收器对象并将[其挂接到传递给 SetSite 函数的浏览器对象的 DWebBrowserEvents2 连接](http://social.msdn.microsoft.com/Forums/en-US/ieextensiondevelopment/thread/08c0b48f-a2a3-4f71-beb2-3db9645b4561)点。现在在事件接收器的 IDispatch::Invoke 实现中检查 URL 参数是否是一个以 PDF 结尾的字符串。

如果您根本不想显示 PDF，您可能需要考虑[自己处理 PDF MIME 类型。](http://msdn.microsoft.com/en-us/library/ms775148%28VS.85%29.aspx)

# android - 过滤器不适用于空间 android

> ID：13245707
> 
> 赞同：2
> 
> 时间：2012-11-06T06:37:58.343
> 
> 标签：android, android-layout

嗨，我有一个编辑框，如果用户键入过滤应该在列表视图中自动完成...

从下面的代码一切正常，但如果我在字符中放置空格，则列表视图不会显示任何条目..

下面是我的代码

```
 adapter = new SimpleAdapter(PredefinedLocation.this, fillMaps, R.layout.list_item_deal, new String[] { "name" }, new int[] { R.id.name });
    // Adding data into listview
    lv.setAdapter(adapter);
    edtSearch.addTextChangedListener(new TextWatcher() {

        @Override
        public void onTextChanged(CharSequence s, int start, int before, int count) {
            // TODO Auto-generated method stub
            lv.setTextFilterEnabled(true);
            lv.setFilterText(s.toString().trim());
        }

        @Override
        public void beforeTextChanged(CharSequence s, int start, int count, int after) {
            // TODO Auto-generated method stub

        }

        @Override
        public void afterTextChanged(Editable s) {
            // TODO Auto-generated method stub
            if(s.length()==0){
                lv.clearTextFilter();
            }
        }
    }); 
```

就像我写“The”一样，结果将是“The Local”、“The Adams”

但是如果我写“The Local”，结果将是空白的......因为“The”和“Local”中有空格:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T08:45:10.317

出现此问题是因为您使用的是**SimpleAdpater**，尝试使用**ArrayAdapter**它将解决您的问题。我不知道这是为什么！

看看这个

[http://www.talkandroid.com/android-forums/android-development-answers-tutorials-code-snippets/2534-diferent-filter-behavior-simpleadapter-arrayadapter.html](http://www.talkandroid.com/android-forums/android-development-answers-tutorials-code-snippets/2534-diferent-filter-behavior-simpleadapter-arrayadapter.html)

尝试以这种方式放置您的代码，我已经测试过它可以完美运行

```
 adapter = new ArrayAdapter<String>(PredefinedLocation.this, R.layout.list_item_deal, R.id.name, fillMaps);

    lv.setAdapter(adapter);
    edtSearch.addTextChangedListener(new TextWatcher() {

        @Override
        public void onTextChanged(CharSequence s, int start, int before, int count) {
            // TODO Auto-generated method stub
            lv.setTextFilterEnabled(true);
            lv.setFilterText(s.toString().trim());
        }

        @Override
        public void beforeTextChanged(CharSequence s, int start, int count, int after) {
            // TODO Auto-generated method stub

        }

        @Override
        public void afterTextChanged(Editable s) {
            PredefinedLocation.this.adapter.getFilter().filter(s.toString().trim());
            /*if(s.length()==0){
                lv.clearTextFilter();
            }*/
        }
    }); 
```

# jquery - jqplot 单个系列中的自定义标记

> ID：13245711
> 
> 赞同：1
> 
> 时间：2012-11-06T06:38:29.810
> 
> 标签：jquery, jqplot

我正在为车辆时间表开发折线图。在图表 X 轴显示时间和 Y 轴显示停止。

此折线图显示了从源 (Stop-1) 到目的地 (Stop-2) 的车辆。在两次行程之间有一个缓冲时间，例如（5 分钟或 10 分钟）。所以对于这些缓冲时间，我有每个数据点（比如-['10:10AM'，'Stop-B']）。我正在使用标记来显示系列中的数据点。但是一个系列的所有标记都是相同的尺寸和设计。根据我的要求，缓冲区数据点不应显示标记，或者这些缓冲区标记的设计应与行程标记不同。

非常感谢对我的查询的任何解决方案或帮助。

感谢普拉迪普

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:15:02.263

不是最终的即插即用解决方案，但可以尝试使用 axisTickRenderer formatString 选项。

我很确定你可以使用类似的东西：

```
xaxis:{
    //Your other options here
    tickOptions:{
        formatString: function(){
                                  if(condition == 1) 
                                       return '<span style="color:red;">%0.1fV</span>'
                                  else 
                                       return '<span style="color:blue;">%0.1fV</span>'
                      }
    }
} 
```

[http://www.jqplot.com/docs/files/jqplot-axisTickRenderer-js.html#](http://www.jqplot.com/docs/files/jqplot-axisTickRenderer-js.html#) $.jqplot.AxisTickRenderer.formatString

# c# - 如何在 MVC SimpleMembership 中锁定/解锁用户

> ID：13245712
> 
> 赞同：6
> 
> 时间：2012-11-06T06:38:32.383
> 
> 标签：c#, asp.net, asp.net-mvc, asp.net-mvc-4

在 SimpleMembership 中，数据库中没有任何列可供用户被锁定/解锁。我基本上需要我的管理员启用或禁用我的应用程序中的任何用户。有没有其他选择？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-08-06T11:39:49.937

我发现使用[角色](http://msdn.microsoft.com/en-us/library/system.web.security.roles.aspx)最容易做到这一点。具有 ActiveUser 角色并使用[Authorize](http://msdn.microsoft.com/en-us/library/system.web.mvc.authorizeattribute%28v=vs.108%29.aspx)属性标记您的控制器或操作。

```
[Authorize(Roles = "ActiveUser")] 
```

然后一些简单的管理员从角色中添加或删除用户，以解锁和锁定他们对受该角色属性保护的所有内容的访问。

```
Roles.AddUserToRole(user.Username, "ActiveUser");

Roles.RemoveUserFromRole(user.Username, "ActiveUser"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-16T12:53:35.833

可能不是“批准”的做事方式，但这就是我的做法。

**pages_Membership**表中有一个名为**IsConfirmed**的字段。通常，这适用于您需要两阶段注册过程：注册然后通过电子邮件中的链接激活。但从本质上讲，该字段与之前**aspnet_Membership**表中的**IsApproved**具有相同的影响：如果设置为 true，则用户可以登录；如果设置为 true，则用户可以登录；如果是假的，他们不能。所以我只是使用普通的旧 SQL 设置为 true 或 false：

 **```
// If using EntityFramework
// 1\. Setup my params
var params = new List<SqlParameter>() { 
      new SqlParameter("@UserID", 1),
      new SqlParameter("@Activate", true) // or false
};

SqlParameter[] paramArray = params.ToArray();

// 2\. Update the database
myDbContext.Database.ExecuteSqlCommand("UPDATE webpages_Membership SET IsConfirmed = @Activate WHERE UserId = @UserID", paramArray); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T07:01:54.010

我还没有尝试过 simplemembership，但这对于我正在从事的一些小项目来说听起来很棒。以下是一些选项：

**选项 1**：向表中添加自定义字段，如下所示 - [http://www.dwdmbi.com/2012/10/adding-custom-fields-to-vs2012-mvc4.html](http://www.dwdmbi.com/2012/10/adding-custom-fields-to-vs2012-mvc4.html)

**选项 2**使用返回给用户的外键创建一个新表。对此值进行额外检查。

无论哪种方式，您都需要额外的检查。您可以自定义“授权”属性以包括您的检查（此处的说明 -[覆盖 ASP.NET MVC 中的授权属性](https://stackoverflow.com/questions/746998/override-authorize-attribute-in-asp-net-mvc)）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-01-19T05:47:54.593

试试这个方法。它使用 IsApproved 而不是 IsLockedOut。如果您的实现尚未使用 IsAproved，这将是一个很好的解决方案。

```
MembershipUser user = Membership.GetUser(username);
user.IsApproved = false;
Membership.UpdateUser(user); 
```

这并不完全锁定用户。从技术上讲，此呼叫正在从用户那里获得批准状态，并使他们无法登录。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-11-06T06:44:56.120

我不知道您正在使用的技术，但是您必须按照指定的方式在表中提供具有锁定解锁功能的列，或者在数据库中添加一个表（例如 tlbDisable），您可以在其中删除原始表中的条目并将其插入新表表（tlbDisable）。

当您再次想要启用该用户时，只需从 tlbDisable 中删除该条目并将其插入原始用户表中。**

# ajax - 如何在局部视图中获取表单发布的结果以保持在其封闭的 div 内？

> ID：13245723
> 
> 赞同：1
> 
> 时间：2012-11-06T06:39:37.063
> 
> 标签：ajax, asp.net-mvc-4

我有一个部分视图，其中包含一个表单，我使用 @ajax.ActionLinK 将其放置在我的页面上

```
 @Ajax.ActionLink("Update File", "CreateFileVersion", new AjaxOptions() { UpdateTargetId = "CreateFileVersion", InsertionMode = InsertionMode.Replace }) 
```

这是我的部分观点

```
 @model CasWeb.Models.DataContext.FileVersion
    @{
        Layout = null;
    }
    <h4>Create File Version</h4>
    @using (Html.BeginForm())
    {
    @Html.ValidationSummary()

    <fieldset>
        <legend>File Version</legend>
        <div class="editor-label">
            @Html.LabelFor(model => model.VersionNumber)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.VersionNumber)
            @Html.ValidationMessageFor(model => model.VersionNumber)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.ActivationTime)
        </div>
        <div class="editor-field">
            @Html.EditorFor(m => m.ActivationTime)
            @Html.ValidationMessageFor(model => model.ActivationTime)
        </div>
        <p>
            <input type="submit" value="Create" />
        </p>
    </fieldset>
} 
```

这一切都很好，用户点击链接，表单出现“CreateFileVersion”div。

问题来自验证。当用户提交表单时，它会转到我的控制器，该控制器检查数据并在部分视图无效时返回部分视图。此部分视图不再位于“CreateFileVersion”div 中，它现在接管了整个页面。

验证后如何将控制器返回的部分视图保留在“CreateFileVersion”div 中。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T06:45:09.870

您应该`Ajax.BeginForm`在您的部分内部使用 an 而不是`Html.BeginForm`. 这将允许您使用 AJAX 调用提交表单并指定相同的更新目标 ID：

```
@using (Ajax.BeginForm(new AjaxOptions { UpdateTargetId = "CreateFileVersion" }))
{
    ...
} 
```

# iphone - 应用程序自行卸载 iOS iphone

> ID：13245724
> 
> 赞同：2
> 
> 时间：2012-11-06T06:39:47.393
> 
> 标签：iphone, ios, uninstallation

我的应用程序昨晚是自动卸载的，我花了一整天的时间来了解它是如何发生的，但什么也没找到。

这是控制台日志：

```
Nov 5 20:54:48  CommCenter[62] <Notice>: MessageCenterModel is telling PDP context -1 to go active.
Nov 5 20:54:48  lockdownd[29] <Notice>: 2ff83000 __copy_itunes_value_block_invoke_0: com.apple.mobile.iTunes.store/DSPersonID -> 1110853068
Nov 5 20:54:48  lockdownd[29] <Notice>: 2ff83000 __copy_itunes_value_block_invoke_0: com.apple.mobile.iTunes.store/DSPersonID -> 1110853068
Nov  5 20:54:48  lockdownd[29] <Notice>: 2ff83000 __copy_itunes_value_block_invoke_0: com.apple.mobile.iTunes.store/DSPersonID -> 1110853068
Nov  5 20:54:48  lockdownd[29] <Notice>: 2ff83000 __copy_itunes_value_block_invoke_0: com.apple.mobile.iTunes.store/DSPersonID -> 1110853068
Nov  5 20:54:48  lockdownd[29] <Notice>: 2ff83000 __copy_itunes_value_block_invoke_0: com.apple.mobile.iTunes.store/DSPersonID -> 1110853068
Nov  5 20:54:49  lockdownd[29] <Notice>: 2ff83000 __copy_itunes_value_block_invoke_0: com.apple.mobile.iTunes.store/downloaded-apps -> <CFArray 0x1f533830 [0x3d1f9100]>{type = immutable, count = 9, values = (
        0 : <CFString 0x1f54d7e0 [0x3d1f9100]>{contents = "com.magikid.numbersflipbook"}
        1 : <CFString 0x1f54d700 [0x3d1f9100]>{contents = "com.angellecho.magikidstage"}
        2 : <CFString 0x1f54c1c0 [0x3d1f9100]>{contents = "net.delusionstudio.cocomongslabfree"}
        3 : <CFString 0x1f54cdf0 [0x3d1f9100]>{contents = "com.magikid.MagKidTail"}
        4 : <CFString 0x1f54b5d0 [0x3d1f9100]>{contents = "com.angellecho.magikid.train"}
        5 : <CFString 0x1f5335b0 [0x3d1f9100]>{contents = "com.subsplashstudio34.Church-of-the-Foothills"}
        6 : <CFString 0x1f54d910 [0x3d1f9100]>{contents = "com.bingoapp.yzjj.MagicSong"}
        7 : <CFString 0x1f54d0c0 [0x3d1f9100]>{contents = "com.trisw.Pinocchio"}
        8 : <CFString 0x1f54c3b0 [0x3d1f9100]>{contents = "com.scholarandsaint.paddywhacks"}
    )}
Nov  5 20:54:52  lockdownd[29] <Notice>: 2ff83000 __copy_itunes_value_block_invoke_0: com.apple.mobile.iTunes.store/PurchaseTypes -> (null)
Nov  5 20:54:52  lockdownd[29] <Notice>: 2fe93000 set_itunes_value: set com.apple.mobiffle.iTunes.store/LibraryCUID to b4e09adbe3c01c22e1e68d4b6bb09ae5 succeeded
Nov  5 20:55:01  installd[31] <Error>: 0x2ff98000 handle_uninstall: Uninstall requested by atc
Nov  5 20:55:02  installd[31] <Error>: 0x2ff98000 MobileInstallationUninstall_Server: Uninstalling com.**.**
Nov  5 20:55:02  SpringBoard[69] <Warning>: Killing com.**.** for termination assertion
Nov  5 20:55:02  lsd[698] <Warning>: LaunchServices: Could not store lsd-identifiers file
Nov  5 20:55:02  lsd[698] <Warning>: LaunchServices: Could not store lsd-identifiers file
Nov  5 20:55:02  installd[31] <Error>: 0x20e000 __block_global_6: LS failed to unregister application file://localhost/private/var/mobile/Applications/8D93D99D-7D7F-41CE-9093-3C24E1EA3F1C/**.app/ (com.**.**)
Nov  5 20:55:02  SpringBoard[69] <Warning>: Reloading and rendering all application icons.
Nov  5 20:55:02  com.apple.launchd[1] <Notice>: (UIKitApplication:com.**.**[0xf31a]) Exited: Killed: 9
Nov  5 20:55:02  backboardd[52] <Warning>: Application 'UIKitApplication:com.**.**[0xf31a]' exited abnormally with signal 9: Killed: 9
Nov  5 20:55:03  SpringBoard[69] <Warning>: An application that SpringBoard is not tracking with bundle identifier com.**.** just exited.
Nov  5 20:55:03  SpringBoard[69] <Warning>: No transaction in -[SBWorkspace workspace:applicationWillBecomeReceiver:fromApplication:]
Nov  5 20:55:03  SpringBoard[69] <Warning>: No transaction in -[SBWorkspace workspace:applicationDidBecomeReceiver:fromApplication:]
Nov  5 20:55:03  installd[31] <Error>: 0x2ff98000 __MobileInstallationClearUninstalled_Server_block_invoke_0: Removing id com.angellecho.iphone.drluke from uninstalled list 
```

你可以看到`Uninstall requested by atc`。我想知道`atc`是什么。

作为控制台日志，您可以看到系统在运行时杀死了我的应用程序。当我回到桌面时，图标消失了！

我的 iPhone 不是越狱。我的应用程序在调试器配置中编译（根据 XCode）。

# c# - 具有复杂连接的 Sql 查询

> ID：13245727
> 
> 赞同：1
> 
> 时间：2012-11-06T06:40:19.777
> 
> 标签：c#, sql, join, oledb

我正在开发 c# 应用程序。我正在使用 OLEDB 连接。

我有以下两个表>>

支付

```
AdmissionNumber  | StudName |

       1            John
       2            Smith 
```

付款详情

```
 AdmissionNumber  | RemainingFee |    Date         | Payment

        1                5000         10/10/2012         3000
        1                3000         10/11/2012         2000
        2                4000         15/11/2012         3000
        1                1000         10/12/2012         2000 
```

在这个我想得到如下表格结果>>

```
 AdmissionNumber | Name | Date           |RemainingPayment|Payment|
       1           John    10/12/2012          1000         2000 
```

在这种情况下，录取编号和日期已经通过文本框和日期时间选择器在表格中提供。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:44:45.033

> 在这种情况下，录取编号和日期已经通过文本框和日期时间选择器在表格中提供。

因此，您要搜索特定的录取编号和日期。如果是这样，那么试试这个：

```
SELECT 
  p.AdmissionNumber,  
  p.Name,   
  pd.Date,
  pd.RemaingFee AS RemainingPayment,
  pd.Payment
FROM Payment p
INNER JOIN PaymentDetails pd ON p.AdmissionNumber = pd.AdmissionNumber
WHERE p.AdmissionNumber = @AdmissionNumberParamFromTxtBox
  AND pd.Date           = @DateParamFromTheotherTextBox; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T06:44:39.203

这将为您提供确切的结果。主记录与明细的最后一条记录之间的匹配。您应该在详细信息中有一个主键列。

```
Select  *
    From    Payment
    Left    Outer   Join
        PaymentDetail
    On  PaymentDetail.Id        =   (
        Select  Top 1
            A.Id
            From    PaymentDetail   As  A
            Where   A.AdmissionNumber   =   Payment.AdmissionNumber
            Order   By  A.Date  Desc
    ) 
```

干杯

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T06:49:26.113

```
SELECT 
  p.AdmissionNumber,  
  p.Name,
  MAX(pd.Date) AS Date,
  pd.RemaingFee AS RemainingPayment,
  pd.Payment
FROM Payment p
INNER JOIN PaymentDetails pd ON p.AdmissionNumber = pd.AdmissionNumber
GROUP BY p.AdmissionNumber,pd.Payment,p.Name,pd.RemaingFee 
```

# javascript - Jquery浮点数反转y asix

> ID：13245729
> 
> 赞同：2
> 
> 时间：2012-11-06T06:40:52.233
> 
> 标签：javascript, jquery, flot

我无法使用反向 y asix 创建浮动条。

从这一点来看，这有帮助：

```
transform: function (v) {return -v; },
inverseTransform: function (v) { return -v; } 
```

Вut 图形只是翻转，例如：http: [//jsbin.com/eloven/2/edit](http://jsbin.com/eloven/2/edit)

请帮忙！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T06:55:34.997

如果这就是反向 y 轴 (11, 10, 9 ... 1) 的意思，

```
xaxis: {
    transform: function(v) {
        return -v;
    },
    inverseTransform: function(v) {
        return -v;
    }
},
yaxis: {
    show: true,
    tickSize: 200

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T11:56:06.517

**解决方案：** 0 - (currentValue - maxValue)

```
#graph-bars .bar-wrap {
    height: 45px;
    display: block;
    margin: 0 0 10px;
    border-bottom: 1px solid #9D9D9C;
    position: relative;
}

#graph-bars .bar {
    background: #808080;
    color: #808080;
    width: 50px;
    min-height: 5px;
    max-height: 100%;
    position: absolute;
    bottom: 0;
    left: 20%;
}

Array.max = function( array ) {
    return Math.max.apply( Math, array );
};

for(...) {// i -counter
    var max = Array.max(years[lastYear]);
    var height = 0 - (years[lastYear][i] - max); // 0 - (currentValue - maxValue)

    $('#graph-bars').append("<span class='bar-wrap'><span class='bar' style='height:"+ height +"%'></span>");
} 
```

# internet-explorer - 如何获取附加到调试器的任何 exe 的模块

> ID：13245730
> 
> 赞同：0
> 
> 时间：2012-11-06T06:40:37.017
> 
> 标签：internet-explorer, debugging, windbg, mshtml

我实际上是在调试 IE 并想征用所有模块。我的偏好是 MSHTML.dll 中包含的所有函数，但我无法做到这一点。

我做的事情如下：-

我已将调试器附加到 IE，然后键入以下命令

**X *！**

我得到了 pdb 文件的列表，但没有 mshtml.dll

我将非常感谢您提供的任何帮助或指导。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T07:21:31.600

模块是 dll/exe 文件，要列出它们，您应该使用 lm 命令。例如，检查 mshtml.dll 是否加载了有效符号问题：

```
lmmv mshtml 
```

如果没有找到符号文件，则需要获取它们。例如，要从 ms 公共服务器中获取符号，请运行：

```
.symfix
.reload 
```

最后列出所有符号，包括 mshtml 使用：

```
x mshtml!* 
```

# javascript - 在 AS3 中使用参数加载外部 SWF

> ID：13245739
> 
> 赞同：4
> 
> 时间：2012-11-06T06:41:04.227
> 
> 标签：javascript, actionscript-3

我有一个由 EasyPano tourweaver 软件创建的 swf 文件。输出是一个带有一些 .bin 文件的 swf 文件，用于配置 swf 和其他文件，例如 .jpg、.js 等。该软件创建一个 html 文件来添加 swf，但我必须使用 flash 和 AS3 加载 swf。该软件创建的 HTML 和 JavaScript 是：

```
 <html> 
 <head> 
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
 <title>Mahan</title> 
 </head> 
 <body leftMargin="0" topMargin="0" rightMargin="0" bottomMargin="0"> 
 <script type="text/javascript" src="swfobject.js"></script> 
 <div id="flashcontent"> 
 To view virtual tour properly, Flash Player 9.0.28 or later version is needed. 
 Please download the latest version of <a href="http://www.adobe.com/go/getflashplayer" target="_blank">Flash Player</a> and install it on your computer.
 </div> 

 <script type="text/javascript"> 
 // <![CDATA[ 
 var so = new SWFObject("twviewer.swf", "sotester", "100%", "100%", "9.0.0", "#000000"); 
 so.addParam("allowNetworking", "all"); 
 so.addParam("allowScriptAccess", "always"); 
 so.addParam("allowFullScreen", "true"); 
 so.addParam("scale", "noscale"); 
 //<!-%% Share Mode %%->
 so.addVariable("lwImg", "resources/talarmahan_1_firstpage.jpg"); 
 so.addVariable("lwBgColor", "255,255,255,255"); 
 so.addVariable("lwBarBgColor", "255,232,232,232"); 
 so.addVariable("lwBarColor", "255,153,102,153"); 
 so.addVariable("lwBarBounds", "-156,172,304,8"); 
 so.addVariable("lwlocation", "4"); 
 so.addVariable("lwShowLoadingPercent", "false"); 
 so.addVariable("lwTextColor", "255,0,0,204"); 
 so.addVariable("iniFile", "config_TalarMahan.bin"); 
 so.addVariable("progressType", "0"); 
 so.addVariable("swfFile", ""); 
 so.addVariable("href", location.href); 
 so.write("flashcontent"); 
 // ]]> 
 </script> 
 </body> 
 </html> 
```

请帮我！

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T07:11:00.823

答案是将 URLVariables 传递给 URLRequest 提要到 Loader 的 load 方法中：）

例子：

```
 var loader:Loader = new Loader();
        var flashvars:URLVariables = new URLVariables()
            flashvars["lwImg"] = "resources/talarmahan_1_firstpage.jpg";
            flashvars["lwBgColor"] = "255,255,255,255";
            flashvars["lwBarBgColor"] = "255,232,232,232";
            flashvars["lwBarColor"] = "255,153,102,153";
            flashvars["lwBarBounds"] = "-156,172,304,8";
            flashvars["lwlocation"] = "4";
            flashvars["lwShowLoadingPercent"] = "false";
            flashvars["lwTextColor"] = "255,0,0,204";
            flashvars["iniFile"] = "config_TalarMahan.bin";
            flashvars["progressType"] = "0";
            flashvars["swfFile"] = "";
            flashvars["href"] = this.loaderInfo.url;
        var request:URLRequest = new URLRequest("twviewer.swf");
            request.data = flashvars;
        loader.load(request);

        addChild(loader); 
```

还可以使用以下辅助方法获取主要 SWF 参数（来自它的 html 包装器）并将其传递给加载的 SWF：

```
 public function getFlashVars(li:LoaderInfo):URLVariables
    {
        var vars:URLVariables = new URLVariables();
        try
        {
            var params:Object = li.parameters;
            var key:String;
            for(key in params)
            {
                vars[key] = String(params[key]);
            }
        }
        catch(e:Error)
        {
        }
        return vars;
    } 
```

然后

```
 var loader:Loader = new Loader();
        var request:URLRequest = new URLRequest("twviewer.swf");
            request.data = getFlashVars(this.loaderInfo);
        loader.load(request);

        addChild(loader); 
```

对于[SecurityError: Error#2000](https://stackoverflow.com/questions/9004594/securityerror-error-2000-no-active-security-context-while-importing-external)和[这里](https://stackoverflow.com/questions/5065768/swf-securityerror-error-2000-no-active-security-context)- 这个错误背后有很多原因

# c# - 运行时程序的唯一 ID

> ID：13245741
> 
> 赞同：0
> 
> 时间：2012-11-06T06:41:05.303
> 
> 标签：c#

我想为我正在运行的软件的所有实例设置一个唯一的 ID。在我的代码中获取此类 ID 的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T07:02:13.630

您可以使用全局唯一标识符

```
var id = Guid.NewId(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T07:04:37.777

如果没有更多信息，我可以给出的最简单的解决方案是`Guid uniqueId = Guid.NewGuid()`.

要做出明智的决定，您需要知道：

*   它需要有多独特？在任何一个时间点都是独一无二的？永远独一无二？
*   你对“最好”的标准是什么？最快生成？普遍独一无二？最容易让用户记住它何时显示给他们？

# java - java重用现有对象

> ID：13245742
> 
> 赞同：1
> 
> 时间：2012-11-06T06:41:28.737
> 
> 标签：java, object, reusability

我可以使用单例模式解决这个问题。但问题是我无法控制其他将调用 new MyClass() 的应用程序。
我可以在 MyClass 的隐式构造函数中做些什么吗？
像这样的东西。

```
class ClassName {
    public ClassName() {
        if( object exist for ClassName)
            return that
        else
            create New ClassName object
    }
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:53:00.380

您可以使用枚举：

```
public enum ClassName {
    INSTANCE;

} 
```

现在，您有一个实例，您不必担心其他人实例化您的类。

* * *

> 我可以在 MyClass 的隐式构造函数中做些什么吗？

不，这不能在构造函数中完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:47:07.657

如果要控制构造，请放入显式构造函数并将其声明为私有。您可以从类中的静态工厂方法调用它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T06:50:20.693

这可能是你想要的：

```
public class MySingletonClass {
    private static MySingletonClass instance = null;
    private MySingletonClass() { }
    public static MySingletonClass getInstance() {
       if (instance == null) {
           instance = new MySingletonClass();
       }
       return instance;
    }
    // add your methods here.
} 
```

这样没人能打电话`new MySingletonClass();`。要获取对象的唯一实例，您必须编写：

```
MySingletonClass msc = MySingletonClass.getInstance(); 
```

或以某种方式将其用于`void`方法：

```
MySingletonClass.getInstance().yourMethod(); 
```

或者对于具有返回类型的方法是这样的：

```
VariableType foo = MySingletonClass.getInstance().yourMethod(); // Must return VariableType 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T06:50:39.680

在您的类中创建一个静态变量并保持在`object instance`那里。通过以下`getter`方法公开您的类对象：

```
 class ClassName {

     private static ClassName myClass= null;

     public ClassName getClassName() {
       if(myClass == null){
         ClassName.myClass = new ClassName();
       }
       return ClassName.myClass;
     }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-06T06:52:53.540

你需要这样的东西：

```
class ClassName {

private static ClassName INSTANCE;

private ClassName() {
    //create ClassName object
}

public static ClassName getInstance(){
if (INSTANCE == null){
    INSTANCE = new ClassName();
} 

return INSTANCE;
} 
```

}

这只是单例模式的基本实现。

如果构造对象的类必须使用 构造它`new`，那么你有点搞砸了。在 Java 中，仅使用公共构造函数确实没有办法实现单例模式。

**编辑**：你也许可以做这样的事情：

```
class ClassNameWrapper extends ClassName {

private final ClassName className;

public ClassNameWrapper(){
    className = ClassName.getInstance();
}

//overload methods from ClassName

} 
```

这样，每次调用`new ClassNameWrapper()`都将使用同一个 ClassName 实例。

# asp.net-mvc - 实体 sql 日期时间文字

> ID：13245746
> 
> 赞同：0
> 
> 时间：2012-11-06T06:41:18.873
> 
> 标签：asp.net-mvc, entity-framework, jqgrid-asp.net

我被困在 ObjectQuery 类中，它总是给我错误，因为 System.Data.Entity：参数类型“Edm.DateTime”和“Edm.String”与此操作不兼容。，靠近 WHERE 谓词

请建议我解决方案，我遵循上述方法，但没有奏效。

我的代码如下：

C#代码：

```
var _dbModel = new VISAIntBPAEntities();
        var serializer = new JavaScriptSerializer();
        Filters f = (!_search || string.IsNullOrEmpty(filters)) ? null : serializer.Deserialize<Filters>(filters);
        //if (f != null)
        //{
        //    if (f.rules[0].field == "CreatedDate")
        //    {
        //        Convert.ToDateTime(f.rules[0].data).ToString();
        //    }
        //}
        ObjectQuery<Jobs> filteredQuery = (f == null ? _dbModel.Jobs : f.FilterObjectSet(_dbModel.Jobs));
        //if (f != null)
        //{
        //    if (f.rules[0].field == "CreatedDate")
        //    {
        //        filteredQuery.Parameters.Add(new ObjectParameter("CreatedDate", Convert.ToDateTime(f.rules[0].data)));
        //    }
        //}
        if (f != null)
        {
            DateTime dateTimeValue = Convert.ToDateTime(f.rules[0].data);
            filteredQuery = filteredQuery.Where(string.Format("(it.CreatedDate = DATETIME'{0:yyyy-mm-dd hh:mm}')", dateTimeValue));
        }
        filteredQuery.MergeOption = MergeOption.NoTracking; // we don't want to update the data
        var totalRecords = filteredQuery.Count(); 
```

客户端代码：

这段代码是使用 jqgrid 构建的，它有一个名为 CreatedDate 的列，它填充下拉列表，我有一个 sql 查询，它从数据库中获取不同的日期部分。我正在根据下拉列表中的字符串日期选择进行过滤。

```
{
        name: 'CreatedDate', index: 'CreatedDate', width: 140, stype: 'select', async: false, sorttype: 'date',
        edittype: 'select', editoptions: { value: getCreatedJobDate() }, editable: true, formatoptions: { newformat: 'm/d/Y' },
        //editrules: { required: true },
        searchoptions: {
        value: getCreatedJobDate,
        sopt: ['eq', 'ne', 'lt', 'le', 'gt', 'ge', 'de']
        }
        } 
```

请帮助我，因为我坚持这种方法，我只需要这样做。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T18:07:24.277

注释代码表明您已经尝试过`ObjectParameter`. 你可以做

```
filteredQuery = filteredQuery.Where("it.CreatedDate = @createDate");
var par = new ObjectParameter("createDate", dateTimeValue);
filteredQuery.Parameters.Add(par); 
```

SQL 代码将显示类似

```
DECLARE @createDate DateTime = '2002-11-06 00:00:00.000' 
```

其次是查询本身。

# jsp - 属性和范围

> ID：13245749
> 
> 赞同：0
> 
> 时间：2012-11-06T06:41:51.030
> 
> 标签：jsp, attributes, scope

我最近开始学习JSP。

在学习了不同的 JSP 元素和`pageContext`隐式对象之后，我有一个困惑。该`pageContext`对象具有`removeAttribute()`删除属性的方法。是否可以使用 JSP 指令或仅使用 JSP 操作来设置已删除的属性？

另外，JSP 指令属性的默认范围是什么？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T12:43:40.887

忘记 JSP 操作。就像 scriptlet 一样，它们不应该再被使用了。了解 JSP 标记的工作原理，并了解 JSTL（JSP 标准标记库）。页面范围属性通常使用 JSTL 标签设置：

```
<c:set value="${someBean.someValue}" var="attribute1" /> 
```

或者

```
<fmt:message key="some.message.key" var="attribute2" /> 
```

例如。

# database - 当用户选择的数量是随机的时如何管理用户数据库

> ID：13245750
> 
> 赞同：1
> 
> 时间：2012-11-06T06:41:54.990
> 
> 标签：database, database-design

我正在 VB 上创建一个小型播放列表程序，其中包含 adduser、deleteuser 以及用户可以修改其播放列表。

我愚蠢的问题是，我如何管理用户播放列表？考虑我正在使用数据库，我应该在哪里添加用户？

1.  作为数据库中的新表？
2.  作为某种表中的新条目，其中包含用户 ID、名称及其未定义的选择数量？

如果我选择选项 2，哪种数据类型可以处理未定义大小的整数集？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T07:00:03.130

您将创建 3 个表：

```
Users table
-----------
userID
email
password
name

Playlist table
--------------
playlistID
userID
trackID

Tracks table
------------
trackID
trackName 
```

然后，您将在表之间创建关系：

Users.userID 1-* Playlist.userID（一对多）

Tracks.trackID 1-* Playlist.trackID（1 到多个）

然后您将用户选择存储在播放列表表中。

要查看用户跟踪，您可以执行以下操作：

```
SELECT Playlist.trackID, Tracks.trackName
FROM Playlist
JOIN Tracks ON Playlist.trackID=Tracks.trackID
WHERE Playlist.userID = 12
ORDER BY Tracks.trackName 
```

这是关系数据库系统和数据规范化的基础。

有关更多信息，请参阅：

[http://www.dreamincode.net/forums/topic/179103-relational-database-design-normalization/](http://www.dreamincode.net/forums/topic/179103-relational-database-design-normalization/)

# java - 在java中实现定时器

> ID：13245753
> 
> 赞同：2
> 
> 时间：2012-11-06T06:41:50.543
> 
> 标签：java

我的情况是，我有两个并发线程，一个不能启动计时器，另一个可以停止计时器。计时器的工作方式是，一旦启动，它将计数到 5 秒并在之后执行一个函数，它将继续执行此操作，直到计时器被另一个线程停止。这如何在 Java 中实现。这就是我所拥有的，我觉得这是错误的做法：

请注意，sleep 是其他两个线程打开和关闭的全局 volatile 变量。

```
 void creatTime(final EventHandler handler)
            {
                Thread timer = new Thread()
                {
                    public void run()
                    {
                        try
                        {
                            while(true)
                            {
                                while(sleep) Thread.sleep(1000);

                                //invoke function

                            }
                        }
                        catch(IOException e)
                        {
                            System.out.println(e);
                        }
                    }
                };
                timer.start();
            }
            } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T06:56:19.693

您可以创建一个`TimerTask`并安排它每 5 秒运行一次

```
TimerTask timerTask = new TimerTask() {

            @Override
            public void run() {
                // TODO Auto-generated method stub
                //Invoke your function here
            }
        }; 
```

//创建一个Timer并安排它

```
Timer timer = new Timer();

timer.scheduleAtFixedRate(timerTask, 0, 5*1000); 
```

//要终止定时器，你可以调用它的`cancel`方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T13:43:50.263

我同意 TimerTask 的建议。一般来说，您可以将更多与线程相关的工作传递给 java.util.concurrent 等更高级别的功能就越好。例如，原始代码不处理从睡眠中提前唤醒的问题。

另外，如果重新设计后 sleep 变量仍然存在，则需要将其标记为 volatile 或通过同步的 get 和 set 方法访问。有一组有限的活动确保在一个线程中完成的写入必须对另一个线程中完成的读取可见。

# navigation - winrt 导航到页面实例

> ID：13245754
> 
> 赞同：0
> 
> 时间：2012-11-06T06:42:21.013
> 
> 标签：navigation, windows-runtime, frame

如何导航到 winrt 中已创建的页面实例，而不是按类型 ( `frame.Navigate(typeof(SomePage))`) 导航？

目前我只是设置`Window.Current`到需要的页面，但它没有动画，当然最好提供一些 Back、CanGoBack 逻辑等。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T07:12:06.480

显然它不支持内置，但您可以尝试设置 frame.Content = existingInstance 或摆弄 page.NavigationCacheMode 以达到您正在寻找的效果。如果这不起作用 - 您可以实现自己的导航框架实现，可能基于 ContentControl。您还可以从 WinRT XAML 工具包中的[AlternativeFrame](http://winrtxamltoolkit.codeplex.com/SourceControl/changeset/view/79db4cb8e6f7#WinRTXamlToolkit/Controls/AlternativeFrame/AlternativeFrame.cs)控件中窃取我的代码，我在其中尝试通过添加页面预加载和并发页面转换动画来实现常规 Frame 控件的所有功能。我认为添加对采用页面实例的 Navigate 方法重载的支持并不难，如果您可以将官方 Frame 和 Page 控件抛在后面并深入研究一些开源代码。

# c# - 将 onclick 事件添加到 asp.net 中的命令字段

> ID：13245755
> 
> 赞同：2
> 
> 时间：2012-11-06T06:42:21.480
> 
> 标签：c#, asp.net

我在 DetailsView 中有这个更新链接。

```
<asp:CommandField ShowEditButton="true" ShowCancelButton="false" ValidationGroup="VAL_1" /> 
```

当我单击此链接时，它会更新页面上的内容。但我想更新页面上的内容并在点击后重定向到另一个页面（例如：abc.aspx）。

我怎么能这样做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-06T06:47:34.460

使用`ItemCommand`事件：

在后面的代码中：

```
protected void detailsview1_ItemCommand(Object sender, DetailsViewCommandEventArgs e)
{
    if (e.CommandName == "Update")
    {
        Response.Redirect("abc.aspx", false);
    }
} 
```

在 aspx 中：

```
<asp:DetailsView runat="server" 
     ID="detailsview1" 
     OnItemCommand="detailsview1_ItemCommand" ... 
```

# python - Django Auth ldap 仅适用于 AUTH_LDAP_BIND_DN 用户

> ID：13245756
> 
> 赞同：0
> 
> 时间：2012-11-06T06:42:02.010
> 
> 标签：python, django, active-directory, django-authentication, django-auth-ldap

我正在尝试使用 django-auth-ldap 包针对我们的 LDAP 构建用户身份验证。

设置.py

```
 AUTHENTICATION_BACKENDS = (
    'django_auth_ldap.backend.LDAPBackend',
    'django.contrib.auth.backends.ModelBackend',
 )

 import ldap
 from django_auth_ldap.config import LDAPSearch, GroupOfNamesType

 # Baseline configuration.
 AUTH_LDAP_SERVER_URI = "ldap://ldap.example.com"

 AUTH_LDAP_BIND_DN = "cn=ldap_user,ou=PEOPLE, dc=example,dc=com"
 AUTH_LDAP_BIND_PASSWORD = "test123"
 AUTH_LDAP_USER_SEARCH = LDAPSearch("ou=PEOPLE,dc=example,dc=com",
         ldap.SCOPE_SUBTREE, "(cn=%(user)s)")

 # Populate the Django user from the LDAP directory.
 AUTH_LDAP_USER_ATTR_MAP = {
     "first_name": "givenName",
     "last_name": "sn",
     "email": "mail"
     } 
```

上述配置仅适用于 AUTH_LDAP_BIND_DN 用户（即 ldap_user），但如果我使用其他名称登录，身份验证将失败。

并检查我所有的用户都在 PEOPLE 组中。

为什么此配置仅适用于一个用户？

# c# - 使用 elasticsearch 和 NEST 在集合中搜索匹配项

> ID：13245762
> 
> 赞同：3
> 
> 时间：2012-11-06T06:42:34.510
> 
> 标签：c#, elasticsearch, nest

我对弹性搜索和 NEST 真的很陌生，很抱歉这个基本问题。
我正在尝试找出如何搜索在集合属性中具有匹配项的所有文档。

我的弹性文档对象看起来像这样：

```
[ElasticType(Name="my_document")]
public class MyDocument
{
    public long Id { get; set; }
    public long[] TagIds { get; set; }
} 
```

我想知道我如何搜索他们的`TagIds`财产中有一定数量的文件。

我想做这样的事情：

```
elasticClient.Search<MyDocument>(x =>
        x.Query(s => s.Terms(z => z.TagIds.Contains(searchVal)))); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T07:35:19.727

找到了，答案真的很简单，只是看文档的时候还没有完全看懂。

我正在寻找的查询是：

```
elasticClient.Search<MyDocument>(x => x.Query(s => s.Term(z => z.TagIds, tagIdStringToSearch))); 
```

注意：我正在使用`Term()`而不是`Terms()`。第二个参数是我在集合中寻找的 tagId 的字符串。（这也可能是一个 int，在我的情况下它很长，所以我按字符串搜索）

留下这个问题，这样它可能会在某个时候帮助别人...... :)

# c++ - 即使有警卫，也会出现关于重新定义的错误

> ID：13245764
> 
> 赞同：0
> 
> 时间：2012-11-06T06:42:50.437
> 
> 标签：c++

我有一个我正在尝试使用的基本文件。

```
#ifndef POINT_GUARD
#define POINT_GUARD

//------------------------------------------------------------------------------

struct Point {
    int x, y;
    Point(int xx, int yy) : x(xx), y(yy) { }
    Point() :x(0), y(0) { }
};

//------------------------------------------------------------------------------

inline bool operator==(Point a, Point b) { return a.x==b.x && a.y==b.y; } 

//------------------------------------------------------------------------------

inline bool operator!=(Point a, Point b) { return !(a==b); }

//------------------------------------------------------------------------------

#endif // POINT_GUARD 
```

请注意，它被包裹在防护罩中。现在这被导入到两个不同的文件中。不过，我遇到了一个错误。

它一碰到它就会抱怨`struct Point`它是“点的重新定义”。有什么想法可以在这里发生吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:50:41.890

我无法用给定的输入重现错误。我将您的代码放入`test.h`其中，并为`test.cpp`：

```
#include "test.h"
#include "test.h" 
```

运行`g++ -Wall -c test.cpp`不会产生错误或警告，并且通过预处理器运行它表明`struct Point`它只声明了一次，因此防护正在工作。

我猜在您引用的代码之外的其他地方有一个同名的声明？

# asp.net-mvc - 将富文本格式代码转换为 html 标记的开源控件

> ID：13245765
> 
> 赞同：1
> 
> 时间：2012-11-06T06:42:52.960
> 
> 标签：asp.net-mvc, rtf

我正在研究 asp.net mvc。我正在尝试显示富文本格式的内容，例如，

```
 {\rtf1\ansi\ansicpg1252\uc1\htmautsp\deff2{\fonttbl{\f0\
fcharset0 Times New Roman;}{\f2\fcharset0 Tahoma;}}{\colortbl\red0\green0\blue0;\red255\green255\blue255;}\loch\hi
ch\dbch\pard\plain\ltrpar\itap0{\lang1033\fs24\f2\cf0 \cf
0\ql{\f2 {\ltrch AMANDA WITH RC CALLED AND WANTED TO 
VERIFY THAT WE WERE AFFILIATED WITH SHAUN @ JAGGYS. LET HER KNOW WE 
WERE, SHAUN CALLED RC AS WELL TO VERIFY STATUS OF BD}\li0\ri0\sa0\sb0\fi0\ql\par}
    }
    } 
```

在视图中。实际上，这些数据可能来自数据库表，我需要在编辑器类型控件中显示它。那么是否有任何能够显示富文本格式的开源控件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-08T13:55:27.457

好吧，我刚刚写完一个 RTF 到 HTML 转换器，它维护所有嵌入式媒体，并从中创建一个 MIME 多部分消息。这与您想要做的很接近。本质上，如果您对编写自己的转换器不感兴趣，可以查看此 CodeProject 并使用他的：http: [//www.codeproject.com/Articles/27431/Writing-Your-Own-RTF-Converter](http://www.codeproject.com/Articles/27431/Writing-Your-Own-RTF-Converter) 还有描述至于如何达到他的解决方案。

在我的项目中，我们刚刚开始拆分 RTF 文档并解析其内容。开源和 3rd-Party 库对我来说不是一个选择。

# php - 如何在 json 的帮助下使用 PHP、MySql 在 android 中验证用户登录凭据

> ID：13245771
> 
> 赞同：4
> 
> 时间：2012-11-06T06:43:11.313
> 
> 标签：php, android, mysql, json

我是android开发的新手。我想使用 php mysql 和 json 进行登录验证。

我只负责 PHP、MySql 和 json 部分。

如果用户在 android app 中输入用户名和密码，则需要使用 PHP 和 Mysql 检查用户表，并且只需要使用 json 发送 1 或 0 之类的状态码。

如果用户名和密码匹配，则 status = 1 需要发送到 android app 编码，否则为 0。

状态检查过程需要在 Android Coding 部分完成。

如果 status = 1 并且我需要重定向到 android app 中的另一个窗口。

我看过很多 tuts，但没有任何帮助。

所以，请帮助我如何将**状态**从**PHP 发送到 android 应用程序**以及如何**获取该状态并在 android 中验证**。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T09:29:15.520

我已经为我的项目完成了这段代码。它工作正常。试试看。

登录2.php

```
<?php
$un=$_POST['username'];
$pw=$_POST['password'];
//connect to the db

$host="localhost"; // Host name 
$user="root"; // Mysql username 
$pswd=""; // Mysql password 
$db="database_name"; // Database name 
$tbl_name="user_info"; // Table name

$conn = mysql_connect($host, $user, $pswd);
mysql_select_db($db, $conn);
//run the query to search for the username and password the match
//$query = "SELECT * FROM $tbl_name WHERE first_name = '$un' AND password = '$pw'";
$query = "SELECT emp_id FROM $tbl_name WHERE first_name = '$un' AND password = '$pw'";
$result = mysql_query($query) or die("Unable to verify user because : " . mysql_error());
//this is where the actual verification happens
if(mysql_num_rows($result) > 0)
echo mysql_result($result,0);  // for correct login response
else
echo 0; // for incorrect login response
?> 
```

Android login.java 的 Java 代码

取两个edittext和按钮，然后在按钮上单击放置此代码。如果您不想将用户名、emp_id 保存到整个应用程序，请删除 saveperference 方法。

```
 @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub

                    ArrayList<NameValuePair> postParameters = new ArrayList<NameValuePair>();
                    postParameters.add(new BasicNameValuePair("username", username
                            .getText().toString()));
                    postParameters.add(new BasicNameValuePair("password", password
                            .getText().toString()));
                    // String valid = "1";
                    String response = null;
                    try {
                        // "http://10.0.2.2//Mobile/login2.php"
                        response = CustomHttpClient
                                .executeHttpPost(
                                        "http://10.0.2.2//Mobile/login2.php",
                                        postParameters);
// now in result you will have the response from php file either 0 or 1\.                        
result = response.toString();
                        // res = res.trim();
                        result = result.replaceAll("\\s+", "");
                        // error.setText(res);

                        if (!result.equals("0")) {
                            SavePreferences("name", "pass", "emp_id", username
                                    .getText().toString(), password.getText()
                                    .toString());
                            Intent in = new Intent(Login.this, MainScreen.class);

                            // LoadPreferences();
                            error.setText("");

                            startActivity(in);
                        }

                        else
                            error.setText("Incorrect Username or Password");

                    } catch (Exception e) {
                        // un.setText(e.toString());
                    }

                } 
```

CustomHttpClient.java

```
public class CustomHttpClient {
    /** The time it takes for our client to timeout */
    public static final int HTTP_TIMEOUT = 30 * 1000; // milliseconds

    /** Single instance of our HttpClient */
    private static HttpClient mHttpClient;

    /**
     * Get our single instance of our HttpClient object.
     *
     * @return an HttpClient object with connection parameters set
     */
    private static HttpClient getHttpClient() {
        if (mHttpClient == null) {
            mHttpClient = new DefaultHttpClient();
            final HttpParams params = mHttpClient.getParams();
            HttpConnectionParams.setConnectionTimeout(params, HTTP_TIMEOUT);
            HttpConnectionParams.setSoTimeout(params, HTTP_TIMEOUT);
            ConnManagerParams.setTimeout(params, HTTP_TIMEOUT);
        }
        return mHttpClient;
    }

    /**
     * Performs an HTTP Post request to the specified url with the
     * specified parameters.
     *
     * @param url The web address to post the request to
     * @param postParameters The parameters to send via the request
     * @return The result of the request
     * @throws Exception
     */
    public static String executeHttpPost(String url, ArrayList<NameValuePair> postParameters) throws Exception {
        BufferedReader in = null;
        try {
            HttpClient client = getHttpClient();
            HttpPost request = new HttpPost(url);
            UrlEncodedFormEntity formEntity = new UrlEncodedFormEntity(postParameters);
            request.setEntity(formEntity);
            HttpResponse response = client.execute(request);
            in = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));

            StringBuffer sb = new StringBuffer("");
            String line = "";
            String NL = System.getProperty("line.separator");
            while ((line = in.readLine()) != null) {
                sb.append(line + NL);
            }
            in.close();

            String result = sb.toString();
            return result;
        } finally {
            if (in != null) {
                try {
                    in.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
    }

    /**
     * Performs an HTTP GET request to the specified url.
     *
     * @param url The web address to post the request to
     * @return The result of the request
     * @throws Exception
     */
    public static String executeHttpGet(String url) throws Exception {
        BufferedReader in = null;
        try {
            HttpClient client = getHttpClient();
            HttpGet request = new HttpGet();
            request.setURI(new URI(url));
            HttpResponse response = client.execute(request);
            in = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));

            StringBuffer sb = new StringBuffer("");
            String line = "";
            String NL = System.getProperty("line.separator");
            while ((line = in.readLine()) != null) {
                sb.append(line + NL);
            }
            in.close();

            String result = sb.toString();
            return result;
        } finally {
            if (in != null) {
                try {
                    in.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:52:01.637

您的 android 客户端必须对您的 PHP 脚本执行 Http 发布，该脚本返回状态代码。您的脚本将该请求视为任何其他发布请求。客户端从服务器接收结果，并进行所需的计算。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T07:00:18.320

只需遵循此代码，我认为它的工作正常...

```
$email = isset($_REQUEST['email'])?urldecode($_REQUEST['email']):"";
$passwd= isset($_REQUEST['passwd'])?urldecode($_REQUEST['passwd']):"";
if($email==""||$passwd=="" )
{
$return_data['status'] = 0;

}
else
{
  $user_info="select id from table name WHERE email=$emailAND passwd=$passwd";
    if($user_info)
      {
       $return_data['status'] = 1;
      }
     else
    {
     $return_data['status'] = 0;
    }
}
echo json_encode($return_data); 
```

# python - 在 Python 中显示所有打开的套接字

> ID：13245772
> 
> 赞同：0
> 
> 时间：2012-11-06T06:43:31.777
> 
> 标签：python, sockets

在 Python 2.7 中，有没有一种方法可以获取所有打开的套接字的信息，类似于 netstat/ss 在 linux 中的功能？

我有兴趣编写一个小程序（类似于 EtherApe）来跟踪我的计算机何时打开与服务器的连接。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T06:46:21.867

至少在 Linux 上，`netstat`它通过检查[procfs](http://linux.die.net/man/5/proc)文件中的数据来工作，例如`/proc/net/tcp`. 不幸的是，没有独立于操作系统的方法来获取这些数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:51:26.263

套接字由操作系统处理和控制。任何编程语言所做的只是将数据放入操作系统中的缓冲区。因此，为了检查打开的套接字，您只需通过操作系统读取它们。

# c# - 如何使用来自 .Net Windows 服务的新基本身份验证对 Visual Studio Team Services 进行身份验证？

> ID：13245776
> 
> 赞同：8
> 
> 时间：2012-11-06T06:44:06.923
> 
> 标签：c#, .net, tfs, azure-devops, basic-authentication

我正在尝试从我写在 .NET 上的 Windows 服务访问[https://visualstudio.com](https://visualstudio.com)（以前称为[https://tfs.visualstudio.com、http](https://tfs.visualstudio.com) : [//www.tfspreview.com ）。](http://www.tfspreview.com)

我想使用新的基本身份验证，但找不到方法。

我发现了很多指向博客文章[Team Foundation Service 更新 - 8 月 27 日](http://tfspreview.com/en-us/home/news/2012/aug-27/)的链接，但它正在使用 Team Explorer Everywhere Java 客户端进行 TFS。

是否有新版本的 TFS .NET 对象模型支持基本身份验证？

顺便说一句，我已经连续使用服务帐户登录。[这个答案](https://stackoverflow.com/questions/11560568/how-to-authenticate-to-https-tfspreview-com-microsoft-hosted-tfs-using-java)非常有用。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-01T10:35:09.750

首先，您的机器上至少需要安装[Visual Studio 2012 Update 1](http://www.microsoft.com/en-us/download/details.aspx?id=35774)。`Microsoft.TeamFoundation.Client.dll`它包括一个带有类的更新程序集`BasicAuthCredential`。

这是执行此操作的代码，来自[Buck 的博客文章 How to connect to Team Foundation Service](http://blogs.msdn.com/b/buckh/archive/2013/01/07/how-to-connect-to-tf-service-without-a-prompt-for-liveid-credentials.aspx)。

```
using System;
using System.Net;
using Microsoft.TeamFoundation.Client;

namespace ConsoleApplication1
{
    class Program
    {
        static void Main(string[] args)
        {
            NetworkCredential netCred = new NetworkCredential(
                "yourbasicauthusername@live.com",
                "yourbasicauthpassword");
            BasicAuthCredential basicCred = new BasicAuthCredential(netCred);
            TfsClientCredentials tfsCred = new TfsClientCredentials(basicCred);
            tfsCred.AllowInteractive = false;

            TfsTeamProjectCollection tpc = new TfsTeamProjectCollection(
                new Uri("https://YourAccountName.visualstudio.com/DefaultCollection"),
                tfsCred);

            tpc.Authenticate();

            Console.WriteLine(tpc.InstanceId);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-15T00:12:59.313

身份验证有一些更新。对于 .NET 应用程序，我们现在建议使用[VSTS 客户端库](https://www.visualstudio.com/en-us/docs/integrate/get-started/client-libraries/dotnet)。另一种选择是使用 Azure Active Directory 库 (ADAL)。有关更多信息和示例，请查看[VSTS 的身份验证文档](https://www.visualstudio.com/en-us/docs/integrate/get-started/authentication/authentication_guidance)。

# css - 在图像中创建一个带有文本的 div。（响应式设计）

> ID：13245777
> 
> 赞同：0
> 
> 时间：2012-11-06T06:43:48.330
> 
> 标签：css, responsive-design

我想创建一个包含图像和文本的 div。类似于[http://wearyoubelong.com/](http://wearyoubelong.com/)的东西我该怎么做呢？我正在使用 Zerb 基础框架。到目前为止，我已经尝试在文本上使用 position : absolute ，但这似乎在很多地方都中断了。你能告诉我如何去做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:05:34.900

假设您有一个这样的示例 HTML

**HTML**

```
<div id="container">
<div id="content">
    <h1>Here goes some content</h1>
    <p>Description about the product.
    Some more desription about the product.</p>
</div>
</div>​ 
```

**CSS**

```
#container
{
    background-image:url('http://image.made-in-china.com/2f0j00cZjaqNvWlEks/Men-T-Shirt.jpg');
    background-repeat:no-repeat;
    height:400px;
    width:400px;
}

#content
{
    position:absolute;
    height:auto;
    width:auto;
    top:150px;
    left:100px;
}
#content h1
{
   color:Yellow;
   font-weight:bold;
   font-size:22px;
}

#content p
{
    color:Red;
} 
```

只是给了 main `div` `#container`a `background-image`，定位`div` `#content`到`absolute`然后使用`top`和`left`属性根据您的需要浮动它。

**[现场演示](http://jsfiddle.net/duhhz/1/)**

希望这可以帮助。

**编辑将#container div 的高度和宽度设置为自动**

**[更新演示](http://jsfiddle.net/duhhz/2/)** ​</p>

# jsf - OmniFaces JAR 不允许我的应用程序在 Tomcat 7.0.32 中启动或运行

> ID：13245783
> 
> 赞同：1
> 
> 时间：2012-11-06T06:44:31.553
> 
> 标签：jsf, tomcat7, omnifaces

我正在尝试从 Glassfish 3.1.2.2 迁移到 Tomcat 7.0.32，因为每个人都说 Atmosphere (PrimeFaces Push) 可以与 Tomcat 完美配合，而不能与 Glassfish 配合使用。

我已经将 Mojarra 2.1.4 JAR 添加到 Tomcat /lib 以传递下面讨论的错误：

[java.lang.ClassNotFoundException : com.sun.faces.config.ConfigureListener](https://stackoverflow.com/questions/10848341/classnotfoundexception-com-sun-faces-config-configurelistener-for-jsf-project-u)

现在，似乎我需要从我的类路径中删除 OmniFaces (1.3 SNAPSHOT) JAR，因为它会导致错误。最好从下往上阅读，因为 FullAjaxExceptionHandler 首先显示为错误，所以我在我的应用程序中对此进行了评论，然后 OmniPartialView 出现了，但老实说，我不想删除 OmniFaces。

OmniFaces 导致以下讨论的错误：

[找不到工厂：javax.faces.application.ApplicationFactory](https://stackoverflow.com/questions/7957070/could-not-find-factory-javax-faces-application-applicationfactory)

以下是服务器日志。请自下而上阅读。

```
 Nov 06, 2012 1:09:28 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeRemoved('com.sun.faces.ApplicationAssociate', 'com.sun.faces.application.ApplicationAssociate@12f3aa66')
    Nov 06, 2012 1:09:28 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeRemoved('com.sun.faces.InitFacesContext', 'com.sun.faces.config.InitFacesContext@142d1015')
    Nov 06, 2012 1:09:28 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeRemoved('com.sun.faces.config.WebConfiguration', 'com.sun.faces.config.WebConfiguration@4bdd1969')
    Nov 06, 2012 1:09:28 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('com.sun.faces.InitFacesContext', 'com.sun.faces.config.InitFacesContext@1a7add0c')
    Nov 06, 2012 1:09:28 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeRemoved('com.sun.faces.InitFacesContext', 'com.sun.faces.config.InitFacesContext@1a7add0c')
    Nov 06, 2012 1:09:28 AM org.apache.catalina.core.ApplicationContext log
    INFO: SessionListener: contextDestroyed()
    Nov 06, 2012 1:09:28 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: contextDestroyed()
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: contextInitialized()
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: SessionListener: contextInitialized()
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('com.sun.faces.InitFacesContext', 'com.sun.faces.config.InitFacesContext@53a9dd25')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('com.sun.faces.patternCache', '{}')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('com.sun.faces.config.WebConfiguration', 'com.sun.faces.config.WebConfiguration@34f5d30c')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeRemoved('com.sun.faces.facesInitializerMappingsAdded', 'true')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('com.sun.faces.htmlTLVEnabled', 'false')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('com.sun.faces.webresources', '[]')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('com.sun.faces.config.ConfigManager_ANNOTATION_SCAN_TASK', 'java.util.concurrent.FutureTask@69ed807f')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('javax.faces.FactoryFinder.FactoryManagerCacheKey', '1352182177715')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('com.sun.faces.ApplicationAssociate', 'com.sun.faces.application.ApplicationAssociate@6fcbb778')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('com.sun.faces.application.InjectionApplicationFactory', 'com.sun.faces.application.ApplicationImpl@535d7af8')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('javax.faces.BEANS_VALIDATION_AVAILABLE', 'false')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeRemoved('com.sun.faces.config.ConfigManager_ANNOTATION_SCAN_TASK', 'java.util.concurrent.FutureTask@69ed807f')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('org.apache.jasper.runtime.JspApplicationContextImpl', 'org.apache.jasper.runtime.JspApplicationContextImpl@882b46f')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('com.sun.faces.errorPagePresent', 'false')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeReplaced('com.sun.faces.InitFacesContext', 'com.sun.faces.config.InitFacesContext@53a9dd25')
    Nov 06, 2012 1:09:37 AM org.apache.catalina.core.ApplicationContext log
    INFO: ContextListener: attributeAdded('org.apache.jasper.compiler.TldLocationsCache', 'org.apache.jasper.compiler.TldLocationsCache@1dd3e5cf')
    Nov 06, 2012 1:10:11 AM org.apache.catalina.core.StandardContext listenerStart
    SEVERE: Exception sending context initialized event to listener instance of class com.sun.faces.config.ConfigureListener
    java.lang.RuntimeException: com.sun.faces.config.ConfigurationException: Factory 'javax.faces.context.ExceptionHandlerFactory' was not configured properly.
    at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:292)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)
    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:655)
    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:536)
    at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1453)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:301)
    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:791)
    at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1445)
    at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:860)
    at org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)
    at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1813)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722)
    Caused by: com.sun.faces.config.ConfigurationException: Factory 'javax.faces.context.ExceptionHandlerFactory' was not configured properly.
    at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:305)
    at com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:219)
    at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:360)
    at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:225)
    ... 40 more
    Caused by: javax.faces.FacesException: org.omnifaces.exceptionhandler.FullAjaxExceptionHandlerFactory
    at javax.faces.FactoryFinder.getImplGivenPreviousImpl(FactoryFinder.java:616)
    at javax.faces.FactoryFinder.getImplementationInstance(FactoryFinder.java:482)
    at javax.faces.FactoryFinder.access$400(FactoryFinder.java:138)
    at javax.faces.FactoryFinder$FactoryManager.getFactory(FactoryFinder.java:959)
    at javax.faces.FactoryFinder.getFactory(FactoryFinder.java:316)
    at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:303)
    ... 43 more
    Caused by: java.lang.InstantiationException: org.omnifaces.exceptionhandler.FullAjaxExceptionHandlerFactory
    at java.lang.Class.newInstance0(Class.java:357)
    at java.lang.Class.newInstance(Class.java:325)
    at javax.faces.FactoryFinder.getImplGivenPreviousImpl(FactoryFinder.java:614)
    ... 48 more

    Nov 06, 2012 1:20:12 AM org.apache.catalina.core.StandardContext listenerStart
    SEVERE: Exception sending context initialized event to listener instance of class com.sun.faces.config.ConfigureListener
    java.lang.RuntimeException: com.sun.faces.config.ConfigurationException: Factory 'javax.faces.context.PartialViewContextFactory' was not configured properly.
    at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:292)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)
    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:655)
    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:536)
    at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1453)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:301)
    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:791)
    at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1445)
    at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:860)
    at org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)
    at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1813)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722)
    Caused by: com.sun.faces.config.ConfigurationException: Factory 'javax.faces.context.PartialViewContextFactory' was not configured properly.
    at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:305)
    at com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:219)
    at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:360)
    at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:225)
    ... 40 more
    Caused by: javax.faces.FacesException: org.omnifaces.context.OmniPartialViewContextFactory
    at javax.faces.FactoryFinder.getImplGivenPreviousImpl(FactoryFinder.java:616)
    at javax.faces.FactoryFinder.getImplementationInstance(FactoryFinder.java:482)
    at javax.faces.FactoryFinder.access$400(FactoryFinder.java:138)
    at javax.faces.FactoryFinder$FactoryManager.getFactory(FactoryFinder.java:959)
    at javax.faces.FactoryFinder.getFactory(FactoryFinder.java:316)
    at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:303)
    ... 43 more
    Caused by: java.lang.InstantiationException: org.omnifaces.context.OmniPartialViewContextFactory
    at java.lang.Class.newInstance0(Class.java:357)
    at java.lang.Class.newInstance(Class.java:325)
    at javax.faces.FactoryFinder.getImplGivenPreviousImpl(FactoryFinder.java:614)
    ... 48 more 
```

请指教。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:54:26.760

我可能已经解决了这个问题。我从 tomcat /lib 文件夹中删除了 Mojarra 2.1.4 JAR 并添加到我的项目（Web 应用程序）类路径（NetBeans 中的库列表），重新启动 Tomcat7.0.32，重建项目/应用程序，将应用程序部署到 Tomcat，并且此错误不再出现在服务器日志中。

现在我正在处理其他问题（JPA、我的数据库连接等……这些都是在 Glassfish 中配置和工作的）。

# c - 借助 ncurses 库的菜单

> ID：13245786
> 
> 赞同：1
> 
> 时间：2012-11-06T06:44:32.117
> 
> 标签：c

Hello everybody, I had edited a example code given according to myself.It has 2 menu with same options and i want to change the options of both the menu and when any of the option is selected,it must be printed on the message bar,但我不能这样做。我面临2个问题。i) 无法更改 2 个菜单的选项。ii) 所选项目未打印在消息栏上。

需要帮助。下面是我从链接 www.linuxfocus.org/English/March2002/article233.shtml t 编辑的代码

这是我的代码。

```
#include <curses.h>
#include <stdlib.h>

#define ENTER 10
#define ESCAPE 27
void init_curses()
{
        initscr();
        start_color();
        init_pair(1,COLOR_WHITE,COLOR_BLUE);
        init_pair(2,COLOR_BLUE,COLOR_WHITE);
        init_pair(3,COLOR_RED,COLOR_WHITE);
        curs_set(0);
        noecho();
        keypad(stdscr,TRUE);
}
void draw_menubar(WINDOW *menubar)
{
        wbkgd(menubar,COLOR_PAIR(2));
        waddstr(menubar,"PARALLEL");
        wattron(menubar,COLOR_PAIR(3));
        waddstr(menubar,"CON.");
        wattroff(menubar,COLOR_PAIR(3));
        wmove(menubar,0,20);
        waddstr(menubar,"SERIAL");
        wattron(menubar,COLOR_PAIR(3));
        waddstr(menubar,"CON.");
        wattroff(menubar,COLOR_PAIR(3));
}
WINDOW **draw_menu(int start_col)
{

        WINDOW **items;
        items=(WINDOW **)malloc(9*sizeof(WINDOW *));

        items[0]=newwin(10,19,1,start_col);
        wbkgd(items[0],COLOR_PAIR(2));
        box(items[0],ACS_VLINE,ACS_HLINE);
        items[1]=subwin(items[0],1,17,2,start_col+1);
wprintw(items[1],"Shailendra singh",1);
        items[2]=subwin(items[0],1,17,3,start_col+1);
wprintw(items[2],"THIVNENT TECH",2);
        items[3]=subwin(items[0],1,17,4,start_col+1);
wprintw(items[3],"THINCLIENT",3);
        items[4]=subwin(items[0],1,17,5,start_col+1);
wprintw(items[4],"SOLARCOMPUTING",4);
        items[5]=subwin(items[0],1,17,6,start_col+1);
wprintw(items[5],"TECHNOCRATS",5);
        items[6]=subwin(items[0],1,17,7,start_col+1);
wprintw(items[6],"SENSORS",6);
        items[7]=subwin(items[0],1,17,8,start_col+1);
wprintw(items[7],"NCURSESLIB",7);
        items[8]=subwin(items[0],1,17,9,start_col+1);
wprintw(items[8],"GCC COMPILER",8);

        wbkgd(items[1],COLOR_PAIR(1));
        wrefresh(items[0]);
        return items;
}
void delete_menu(WINDOW **items,int count)
{
        int i;
        for (i=0;i<count;i++)
                delwin(items[i]);
        free(items);
}
int scroll_menu(WINDOW **items,int count,int menu_start_col)
{
        int key;
        int selected=0;
        while (1) {
                key=getch();
                if (key==KEY_DOWN || key==KEY_UP) {
                        wbkgd(items[selected+1],COLOR_PAIR(2));
                        wnoutrefresh(items[selected+1]);
                        if (key==KEY_DOWN) {
                                selected=(selected+1) % count;
                        } else {
                                selected=(selected+count-1) % count;
                        }
                        wbkgd(items[selected+1],COLOR_PAIR(1));
                        wnoutrefresh(items[selected+1]);
                        doupdate();
                } else if (key==KEY_LEFT || key==KEY_RIGHT) {
                        delete_menu(items,count+1);
                        touchwin(stdscr);
                        refresh();
                        items=draw_menu(20-menu_start_col);
                        return scroll_menu(items,8,20-menu_start_col);
                } else if (key==ESCAPE) {
                        return -1;
                } else if (key==ENTER) {
                        return selected;
                }
        }
}
int main()
{
    int key;
    WINDOW *menubar,*messagebar;

    init_curses();

    bkgd(COLOR_PAIR(1));
    menubar=subwin(stdscr,1,80,0,0);
    messagebar=subwin(stdscr,1,79,23,1);
    draw_menubar(menubar);
    move(2,1);
    printw("Press F1 or F2 to open the menus. ");
    printw("ESC quits.");
    refresh();

    do {
        int selected_item;
        WINDOW **menu_items;
        key=getch();
        werase(messagebar);
        wrefresh(messagebar);
        if (key==KEY_F(1)) {
            menu_items=draw_menu(0);
            selected_item=scroll_menu(menu_items,8,0);
            delete_menu(menu_items,9);
            if (selected_item<0)
                wprintw(messagebar,"You haven't selected any item.");
            else if(selected_item=1)
                wprintw(messagebar,"You have selected menu SHAILENDRA SINGH.",1);
            else if(selected_item=2)
                wprintw(messagebar,"You have selected menu THINVENT TECH.",2);
            else if(selected_item=3)
                wprintw(messagebar,"You have selected menu THINCLIENT.",3);
            else if(selected_item=4)
                wprintw(messagebar,"You have selected menu SOLAR COMPUTING",4);
            else if(selected_item=5)
                wprintw(messagebar,"You have selected menu TECHNOCRATS.",5);
            else if(selected_item=6)
                wprintw(messagebar,"You have selected menu SENSORS.",6);
            else if(selected_item=7)
                wprintw(messagebar,"You have selected menu NCURSESLIB.",7);
            else if(selected_item=8)
                wprintw(messagebar,"You have selected menu GCCCOMPILER.",8);

            touchwin(stdscr);
            refresh();
        } 
        }
    while (key!=ESCAPE);

    delwin(menubar);
    delwin(messagebar);
    endwin();
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T07:07:32.547

问题是`else if(selected_item=1)`它应该是`else if(selected_item == 1)`。这是一个难以调试的常见错误。代码的另一个问题是它显示的是上一个菜单而不是所选的菜单。希望你能修复它：）

# c# - C#.NET 中嵌套 DataList 的嵌套 DataList 和项命令

> ID：13245794
> 
> 赞同：1
> 
> 时间：2012-11-06T06:44:53.150
> 
> 标签：c#

我已将 DataList 作为 'DataList1' 嵌套在另一个 datalist 'dl1' 中，当我试图在链接按钮单击上触发一个事件时，它在 'dl1' 中没有触发，它正在为第二次点击工作。使用断点检查代码，datalist 'DataList1' 在第一次单击时绑定，但不显示它。

任何人都可以请帮助您的建议，...我无法通过多次搜索得到它..

提前致谢..！

# html - 工具提示出现在 chrome 页面底部，但不在 IE 中

> ID：13245796
> 
> 赞同：0
> 
> 时间：2012-11-06T06:45:19.840
> 
> 标签：html, css, tooltip

嗨，我有一个出现在页面底部的工具提示。它应该只出现在鼠标指针之后。它目前在 IE 中工作，但不在 Chrome 中！

这是我的html代码

```
 <div style="width:958px; margin:auto">
      <div id="diy_content">

         <div> 
            <a class="tip_trigger" href="shttp://www.purplecoffer.com" 
              onMouseOut="MM_swapImgRestore()" 
              onMouseOver="MM_swapImage('purplecoffer','','http://beta.brownbag.ph/diy/mini-banners/purplecoffer.jpg',1)">
            <img src="http://beta.brownbag.ph/diy/mini-  banners/purplecoffer_2.jpg" name="purplecoffer" width= "150px" height = "100px"border="0">
            <span class="tip" style="width: 400px;"><img src="http://beta.brownbag.ph/diy/mini-banners/purplecoffer.jpg" style="float: left; margin-right: 20px;" alt="" />
            Purple Coffer <br/>
            Apparel and Clothing <br/>
            VISIT: www.purplecoffer.com         
            </span>
            </a>
         </div>
     </div>
   </div> 
```

这是我的 CSS

```
/*--Tooltip Styles--*/
.tip {
    position:absolute;    
    z-index:1000;
    color: #fff;
    background:#1d1d1d;
    padding:10px;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
}

.tip_trigger .tip { display:none; } 
```

这是我的功能

```
 $(document).ready(function() {
    //Tooltips
        $('.tip_trigger').each(function() {        
        var tip = $(this).find('.tip');

        $(this).hover(
            function() { tip.appendTo('body');},
            function() { tip.appendTo(this); }
        ).mousemove(function(e) {
            var mousex = e.pageX + 20; //Get X coodrinates
            var mousey = e.pageY + 20; //Get Y coordinates
            var tipWidth = tip.width(); //Find width of tooltip
            var tipHeight = tip.height(); //Find height of tooltip

            //Distance of element from the right edge of viewport
            var tipVisX = $(window).width() - (mousex + tipWidth);
            //Distance of element from the bottom of viewport
            var tipVisY = $(window).height() - (mousey + tipHeight);

            if ( tipVisX < 20 ) { //If tooltip exceeds the X coordinate of viewport
                mousex = e.pageX - tipWidth - 20;
            } if ( tipVisY < 20 ) { //If tooltip exceeds the Y coordinate of viewport
                mousey = e.pageY - tipHeight - 20;
            } 
            tip.css({  top: mousey, left: mousex  });

        });         
        });
}); 
```

# php - 如何用 asXML 函数包装我的 rss 提要

> ID：13245800
> 
> 赞同：0
> 
> 时间：2012-11-06T06:45:27.780
> 
> 标签：php, xml

我有一个名为 rss.php 的页面，其中包含动态的 PHP SQL 和 XML，并且我可以完美地添加，生成我的播客的 rss 提要所需的 XML。唯一的问题是，它是一个 PHP 文件。我需要将此页面吐出的内容放入名为 rss.xml 的文件中，以便 iTunes 接受它。我在另一个线程中遇到了这段代码：

```
echo $xml->asXML('filename.xml'); 
```

这在[http://php.tonnikala.org](http://php.tonnikala.org)上：

```
<?php
$string = <<<XML
<a>
 <b>
  <c>text</c>
  <c>stuff</c>
 </b>
 <d>
  <c>code</c>
 </d>
</a>
XML;
$xml = new SimpleXMLElement($string);
echo $xml->asXML(); // <?xml ... <a><b><c>text</c><c>stuff</c> ...
?> 
```

问题是当我在这段代码中包装我的 XML 时，浏览器给了我一个错误并且它没有加载。这可能是因为我的 XML 不仅仅是 XML，它是 PHP 和 SQL。现在我想起来了，也许是因为我的 PHP 还没有被服务器处理......

无论如何，我想做的是让这个 rss.php 页面吐出 XML 并将其保存到一个名为 rss.xml 的文件中。另外，我可以控制这种情况发生的频率吗？还是会在每次页面加载时发生？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T22:54:16.817

我的问题的答案是我根本不需要页面是 XML 文档。只要一开始的声明说它是 XML，就可以了。这就是我所做的。请记住将其放在 PHP 页面的最顶部。

```
<?php echo('<?xml version="1.0" encoding="UTF-8"?>') ?> 
```

# html - 隐藏字段由 Google 提取

> ID：13245802
> 
> 赞同：0
> 
> 时间：2012-11-06T06:45:52.913
> 
> 标签：html, web, hidden

```
<div id="hiddenDiv" style="display:none;">
Lorem Ipsum. Soumya
</div> 
```

我有一个像上面这样的 HTML 代码。隐藏此 Div 时，谷歌是否可以接收我的文本。如果没有，那么任何人都可以建议我如何隐藏任何文本，然后谷歌从网站上获取该行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T07:05:42.797

在您的内容中隐藏文本或链接以操纵 Google 的搜索排名可能被视为具有欺骗性，并且违反了 Google 的网站管理员指南。文本（例如过多的关键字）可以通过多种方式隐藏，包括： 在白色背景上使用白色文本 在图像后面定位文本 使用 CSS 将文本置于屏幕外 将字体大小设置为 0 通过仅链接一个小的链接来隐藏链接字符——例如，段落中间的连字符

取自[http://support.google.com/webmasters/bin/answer.py?hl=en&answer=66353](http://support.google.com/webmasters/bin/answer.py?hl=en&answer=66353)

如果您的文本长度超过 255，元标记就没有用了

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T06:49:55.163

搜索机器人可以从您的网页中获取任何作为文本可用的内容。如果您不希望某些内容被 google 索引，请将其呈现在图像中，但考虑到 google 的声誉，他们可能也会想办法将内容索引出来。最好的选择是阻止机器人通过您的 robots.txt 索引整个特定页面

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T06:57:35.107

您可以使用元标记。

<head>
<meta name="description" content="This is Soumya's site">
<meta name="keywords" content="Lorem Ipsum. Soumya, some search word, etc">
<meta name="owner" content= “苏米亚”>
</head>

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T06:58:45.523

我相信您可以简单地使用某种元标记，例如

```
<meta name="description" content="Awesome Description Here">
<meta name="keywords" content="Some keywords a common user shall never see, but common searchbot will"> 
```

我的意思是，Google 搜索机器人不会将其用作内容，而是用作内容元数据。这是 SEO 骗子和搜索驱动开发团队之间永无休止的战争。最后一个尽最大努力了解内容是否有用或/以及是否会向用户显示。因此，我猜 jQuery 解决方案只是 BING 的解决方案。或任何其他无用的搜索驱动器。

PS：没有冒犯，MS。

# forms - Struts 2 缺少重置方法？

> ID：13245803
> 
> 赞同：2
> 
> 时间：2012-11-06T06:45:44.197
> 
> 标签：forms, struts2, validation, reset, struts1

我正在将一个项目从 struts 1.3 迁移到 struts 2.0。现在我已经阅读了网络上提供的各种资源，但在 struts 2.0 中找不到 struts 1.3`reset()`形式的替代方法。

我的动作类扩展`ActionSupport`并实现了`Modeldriven`. 我已经在动作类中实现了 validate 方法，并且效果很好。但是，当表单没有错误并且提交正确完成时，页面会重新加载初始值。

我希望我会收到一张空白表格。我寻找了一种`reset()`表单方法，但找不到。目前，我明确地将所有表单值设置为空白。我不认为这是一个好的编程习惯。请建议如何在 struts 2.0 中实现表单 reset()。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T08:57:28.343

编辑：好的，您正在使用 Tiles（我从未使用过），那么我将尝试另一种解决方案：

如果您有一个空的 JSP 磁贴，并且在用户编译了它的字段并提交了表单之后，您希望始终清除这些字段......那么在操作中仅声明 SETTERS 而不是 GETTERS 怎么样？

您只能从 JSP 设置到 Action，但不能从 JSP 中读取它们......那么您的字段在页面中将始终为空，并且始终由 Action 中的 setter 重写。

* * *

如果我明白了，你在 JSP 上，你调用 Action（或另一个动作）的方法 saveStuff()，然后你回到页面......

在这种情况下，您可以使用 RedirectAction 返回类型，它将从请求中删除所有参数，并将您的请求重定向到 Action 的 execute() 方法。

所以，而不是

```
<action name="myAction" class="com.blabla.myAction">
        <result name="success">/myPage.jsp</result>
</action> 
```

做就是了

```
<action name="myAction" class="com.blabla.myAction">
      <result name="success">/myPage.jsp</result>
      <result name="stuffSaved" type="redirectAction">
          <param name="actionName">myAction</param>
      </result>
</action> 
```

这样您就可以重新进入初始状态（假设您没有在会话中放置任何由 JSP 读取的内容）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:49:34.630

因为您`Action`和`Form`在 Struts2 中属于同一个类，所以您必须实现自己的`reset()`方法来清除您想要的任何数据。

# spring - 在同一台机器上运行两个独立的 HornetQ 服务器

> ID：13245806
> 
> 赞同：3
> 
> 时间：2012-11-06T06:45:45.490
> 
> 标签：spring, jms, hornetq

如何在同一台机器上运行两个独立的 hornetq 服务器？应该更改哪个配置？（即哪些端口）？以及如何连接他们的 JNDI 服务器？

我的 jndiTemplate bean（在 applicationContext.xml 中）（我应该为每个服务器使用两个 jndiTemplate 吗？）：

```
<bean id="jndiTemplate" class="org.springframework.jndi.JndiTemplate">
    <property name="environment">
        <props>
            <prop key="java.naming.factory.initial">org.jnp.interfaces.NamingContextFactory</prop>
            <prop key="java.naming.factory.url.pkgs">org.jboss.naming:org.jnp.interfaces</prop>
            <prop key="java.naming.provider.url">jnp://localhost:1099</prop>
        </props>
    </property>
</bean> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T21:05:37.840

在你的 hornetq 主目录中有两个你应该修改的文件。我将在单独使用 hornetq 时使用默认路径：

*   配置/独立/非集群/hornetq-beans.xml

在此处更改 jndi 端口 (1099/1098)

*   config/stand-alone/non-clustered/hornetq-configuration.xml

在此处更改 netty 端口 (5445)

# ruby - Elasticsearch：如何匹配不存在的标签

> ID：13245807
> 
> 赞同：0
> 
> 时间：2012-11-06T06:45:45.490
> 
> 标签：ruby, elasticsearch, tire

假设我有一组以 az 作为键的文档。我正在触发这个术语查询：

```
curl -X GET localhost:9200/memphis/pincode/_search?pretty=json -d '{"query":{"term":{"a":"abcd", "b":"wxyz"}}}' 
```

这将返回所有“a”值为 abcd 且“b”值为 wxyz 的文档。但是，如果我想要所有这样的文档作为回报（'a' 的值是 abcd，'b' 的值是 wxyz）或（'a' 的值是 abcd 并且标签 'b' 没有' t 存在）或（标签 a 不存在且 'b' 的值为 wxyz）。

这可能吗。

我正在使用 ruby​​ 并正在使用“Tire”gem 连接到 elasticsearch。如果我也得到轮胎的相应语法，那么会更有帮助。

提前致谢

-阿兹塔布

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T05:50:16.147

我在其他论坛上得到了答案。为了完整起见，放在这里：

[http://www.elasticsearch.org/guide/reference/query-dsl/missing-filter.html](http://www.elasticsearch.org/guide/reference/query-dsl/missing-filter.html)

```
{
"query" : {
    "constant_score" : {
        "filter" : {
            "must" : [
                {
                    "should": [
                        {
                            "term": {"a" : "abcd"}
                        },
                        {
                            "missing": {"field": "a"}
                        }
                    ]
                },
                {
                    "should": [
                        {
                            "term": {"b" : "wxyz"}
                        },
                        {
                            "missing": {"field": "b"}
                        }
                    ]
                },

            ]
        }
    }
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T07:11:04.153

您可以使用 should 子句将 2 个查询包装在 Bool 查询中。

这意味着命中这两个查询的文档将具有更高的分数。

请参阅 [http://www.elasticsearch.org/guide/reference/query-dsl/bool-query.html](http://www.elasticsearch.org/guide/reference/query-dsl/bool-query.html)

# mysql - 如何保证主-主数据库复制的行一致性？

> ID：13245816
> 
> 赞同：1
> 
> 时间：2012-11-06T06:46:48.390
> 
> 标签：mysql, database-design, replication, database-replication

我有一个调用第 3 方系统以执行某些操作的过程。我的用户可以在我的 Web 应用程序中安排这些调用，它会在我的数据库中插入一行。一个预定的过程将每小时检查我的数据库是否有任何未完成的请求，并尝试调用第 3 方服务。用户还可以选择手动拨打他们在 Web 应用程序中安排的电话。

我想避免计划进程和用户尝试同时拨打电话的情况。为了增加这种安全性，我引入了不同的行状态：“等待”新行，“尝试”表示正在尝试的行，然后“完成”表示已完成的行，“错误”表示失败的行。

尝试第 3 方呼叫的第一步是使用如下 SQL 语句将状态从“等待”更新为“尝试中”：

```
UPDATE remote_calls SET status = "trying" WHERE status = "waiting" AND id = ?; 
```

如果受影响的行数 = 0，则退出。如果受影响的行数 = 1，请尝试拨打电话。因此，如果用户和计划进程尝试同时进行相同的调用，则只有一个会成功，而另一个会退出。

这在我的测试盒上运行良好，但我发现它将部署在主-主复制环境中。我有问题吗？我担心如果用户的尝试和计划的进程尝试更新不同的主人，这两个更新都会成功。这是合理的担忧吗？如果是这样，有什么办法可以保证其中只有一个会成功？

# java - 为什么我的最后一个元素不打印？

> ID：13245817
> 
> 赞同：0
> 
> 时间：2012-11-06T06:46:52.023
> 
> 标签：java, printwriter

我正在完成我在 java 中的 BST 和 Trie 的最后一步，我遇到了这个问题。我无法将最后一个元素打印到文件中。这不是 toString 方法，因为我尝试过切换它们。我记得前段时间我的一位教授提到了一些关于关闭文件的事情。类似于在 close 方法的括号内放置一个 int 值的东西，我将在下面进行开发（不确定我是否正确，只是我隐约记得的东西）这是我的代码片段有麻烦。

```
 try{
           output = new PrintWriter(inputFile);

           output.println("BST:");
           output.println(tree.toString());
           output.println("Trie:");
           output.println(trie.myToString());

           output.close();

        }
           catch(IOException e){}
        System.out.println("Goodbye"); 
```

所以如果我没记错的话，老师说要做类似 output.close(0) 之类的事情，但它让我犯了错误。谁能帮我这个？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:04:11.610

```
catch(IOException e){} 
```

你在这里吞下了原因。不要那样做。

至少打印原因

```
catch(IOException e) {
  e.printStackTrace(System.err);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:49:56.267

尝试

```
output.flush() 
```

在关闭输出之前

或尝试

```
 output = new PrintWriter(inputFile,true); 
```

# java - eclipse中的数据网格视图

> ID：13245821
> 
> 赞同：3
> 
> 时间：2012-11-06T06:47:22.677
> 
> 标签：java, eclipse, datagridview

我正在寻找 Eclipse 的数据网格视图，比如有 c# 有什么建议吗？org.eclipse.swt 中有什么东西吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T06:50:56.643

本[教程描述了](http://docs.oracle.com/javase/tutorial/ui/features/components.html)[Swing](http://docs.oracle.com/javase/tutorial/ui/overview/intro.html)中可用的组件列表。

对于[GridView](http://www.roseindia.net/answers/viewqa/Java-Beginners/10185-grid-view-in-java.html)，您可以选择[JTable](http://swingx.java.net/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:50:24.703

*[C#](http://en.wikipedia.org/wiki/C_Sharp_%28programming_language%29)*是一种编程语言，而另一方面*[eclipse是一种](http://www.eclipse.org/)**[IDE](http://en.wikipedia.org/wiki/Integrated_development_environment)*。您正在*[java](http://www.java.com/)*
中寻找*[Swing](http://docs.oracle.com/javase/tutorial/ui/overview/intro.html)*或*[Awt](http://docs.oracle.com/javase/6/docs/api/java/awt/package-summary.html)*。

# c# - “无法将 System.Byte[] 的对象转换为 ActiveDs.IADsSecurityDescriptor”

> ID：13245822
> 
> 赞同：1
> 
> 时间：2012-11-06T06:47:45.427
> 
> 标签：c#, asp.net, openldap

我的问题是我正在使用`LDAPconnection`类并通过 SSL 连接。我设法获得 nTSecurityDescriptor 值，但现在出现错误

> “无法将 System.Byte[] 的对象转换为 ActiveDs.IADsSecurityDescriptor”

我正在使用这样的代码

```
SearchResponse response = (SearchResponse)connection.SendRequest(request);
IADsSecurityDescriptor sd = (IADsSecurityDescriptor)response.Entries[0].Attributes["nTSecurityDescriptor"][0]; 
```

是否有任何错误或其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:08:16.927

我终于找到了我的问题的答案。此类将 byte[] 转换为有效的安全描述符 comobject。

```
ActiveDs.ADsSecurityUtility secUtility = new ActiveDs.ADsSecurityUtility();
ActiveDs.IADsSecurityDescriptor sd = (IADsSecurityDescriptor)secUtility.ConvertSecurityDescriptor((byte[])attribute[0], (int)ADS_SD_FORMAT_ENUM.ADS_SD_FORMAT_RAW, (int)ADS_SD_FORMAT_ENUM.ADS_SD_FORMAT_IID); 
```

# magento - 订单状态待付款后付款（贝宝）在magento

> ID：13245826
> 
> 赞同：-4
> 
> 时间：2012-11-06T06:48:13.447
> 
> 标签：magento

我正在使用 Magento 版本。1.7.0.2.通过Paypal付款后订单状态为待付款。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T08:28:36.783

检查您的 Magento 安装不会阻止 Paypal 请求。通过我，我找到了以下 IP 地址，它们是执行此响应的主机的 IP：

```
173.0.82.126 Paypal
66.135.197.163 Paypal-developer
66.135.197.160 Paypal-sandbox
66.135.197.162 Paypal-sandbox
66.135.197.141 api-paypal-sandbox
66.135.197.164 api-sandbox-paypal
216.113.169.205 Paypal-sandbox
216.113.188.202 Paypal-notify
216.113.188.203 Paypal-notify
216.113.188.204 Paypal-notify
66.211.170.66 Paypal-notify 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-08T06:56:49.150

首先在调试模式下运行 paypal 并检查您的错误日志。

如果后端（Magento）的所有设置都正确完成，您应该检查您在贝宝帐户中的 ipn 值。Magento 中默认为 www.sitename.com/paypal/ipn

将其更改为您在贝宝或 magento 中所需的值，但它应该匹配。

然后尝试付款，它应该可以工作。

# android - 支持多种屏幕分辨率的应用程序

> ID：13245828
> 
> 赞同：1
> 
> 时间：2012-11-06T06:48:49.653
> 
> 标签：android, android-layout, screen

![在此处输入图像描述](../Images/12d5620e534b76839f955ff6cf292dd2.png)

我的项目中有 3 个布局文件夹：

**1.布局**

**2.布局-大**

**3\. layout-small**

**到目前为止，我在layout-small**中没有任何东西，但是**layout**有小尺寸的布局，而**layout-large**有大尺寸的布局。

问题是：

**当我在240x320**上测试我的应用程序时，它使用布局中的**布局**

即使现在我在**480x800**上测试我的应用程序时，它也使用布局中的**布局**

是不是因为我认为我的**布局很大，480x800**不属于大屏幕，因此使用默认**布局**文件夹？

如果是这种情况，我如何为**普通屏幕**制作布局，没有什么像**layout-normal**或**layout-medium**。

**此外，如果我为HVGA (320x480)**设计我的布局，它应该适用于**WVGA800 (480x800)**，因为它们都属于相同的屏幕尺寸，只有密度变化。我到处都在使用**dp 。**我对吗？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:56:20.287

当涉及到*xlarge 时，*大小取决于*大小*（英寸）而不是设备的*dpi*，请参阅下面的规范

![在此处输入图像描述](../Images/7562ddc5fd4fedcaa300ccc8f977d803.png)

此外， *DPI*基本上适用于 Drawables，而*SIZE*则适用于 Layout。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T06:57:51.417

只需使用以下详细信息，它可能会起作用，但我不确定..

```
res/layout/my_layout.xml             // layout for normal screen size ("default")
res/layout-small/my_layout.xml       // layout for small screen size
res/layout-large/my_layout.xml       // layout for large screen size
res/layout-xlarge/my_layout.xml      // layout for extra large screen size
res/layout-xlarge-land/my_layout.xml // layout for extra large in landscape orientation

res/drawable-mdpi/my_icon.png        // bitmap for medium density
res/drawable-hdpi/my_icon.png        // bitmap for high density
res/drawable-xhdpi/my_icon.png       // bitmap for extra high density 
```

你试一试....

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T06:58:33.107

您应该查看此开发人员页面，它对我有很大帮助。[http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

即使它们具有不同的分辨率或屏幕尺寸，也不意味着它们具有不同的像素密度。例如，大屏幕的像素密度可能比小屏幕低。

另一个例子是 10.1 英寸但仍然是 mdpi-large 的三星 Galaxy 选项卡和小于 5 英寸但使用 hdpi 的 Nexus One。

祝你好运

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T07:01:26.997

我想我知道你怎么了........让我们试试这个。假设您要使应用程序与 480x800 分辨率兼容。所以首先为它创建两个文件夹，即

1.layout-sw480dp 这是横向的。

2.layout-sw480dp-port 用于纵向模式。

现在，将480X800分辨率的所有布局放入其中。您会看到它可以在特定分辨率下轻松运行。

注意：- 这里要注意的是，对于任何设备分辨率，让 AX B。布局文件夹的名称是这样的。

1.layout-swAdp。

2.layout-swAdp-端口。

这里“A”是设备的屏幕分辨率高度值。

我希望它对你有用。

# actionscript-3 - 函数参数中的事件或无。如何？

> ID：13245837
> 
> 赞同：0
> 
> 时间：2012-11-06T06:49:28.920
> 
> 标签：actionscript-3, flash, reflection

我尝试编写事件侦听器，可以通过事件或手动调用。如果它被事件调用，我们必须删除事件监听器。在其他情况下 - 只是做点什么。我正在使用 (... args) 构造来确定参数的数量。但是当 Event 调用函数时，似乎 args 的类型已更改为 Object，因此我无法获取 args.target 和 args.type 字段。但是当我使用 (args:Event) 一切都很好。

```
private function smartErrListener(... args) {
    // when function called by event
    // args.length == 1 
    // args instanceof Event == false
    // args is Event == false
    // typeof(args) == 'object'

    if (args.length == 1 && args instanceof Event) {
        args.target.removeEventListener(Event.COMPLETE, OkListener);
        args.target.removeEventListener(IOErrorEvent.IO_ERROR, smartErrListener);
    }

    trace("We've got an errors!");
} 
```

有任何想法吗？

ps：当然可以做类似的事情

```
private function smartErrListener(e:Event) {
    e.target.removeEventListener(Event.COMPLETE, OkListener);
    e.target.removeEventListener(IOErrorEvent.IO_ERROR, smartErrListener);

    this.errCallback();
}

private function errCallback() {
    trace("We've got an errors!");
} 
```

但它还有一个功能......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T07:25:37.280

我做这样的事情：

```
protected functiom onStageResize(e:Event = null):void
{} 
```

然后我可以将它与事件侦听器一起使用：

```
onStageResize(); 
```

例如在触发事件之前强制执行，

如果您希望事件侦听器调用相同的方法并手动使用不同的参数而不是确保参数是一个事件，您可以使用自定义事件来包装自定义参数，那么您可以测试：

```
if( e is MyCustomEvent )
{
    //called manually
} 
```

但是第二种方法方法没有错:)

此致

# google-apps-script - 输入框或添加面板

> ID：13245839
> 
> 赞同：2
> 
> 时间：2012-11-06T06:49:53.163
> 
> 标签：google-apps-script

在运行了几个脚本后，我意识到我的一些脚本不是很实用。我有一个脚本用 inputBoxes 四个不同的变量询问四次。我在想是否有可能像一个带有框的大面板，可以输入所有这些数据，然后一旦完成，只需单击提交，这样所有信息都存储在它们的变量中。是否有可能或任何人都有线索如何做到这一点？

```
 function dashboards(){
 var name = Browser.inputBox("Enter your name:");
 var nstats1 = Browser.inputBox("Enter your last name:");
 var namedash = Browser.inputBox("Enter your DOB");
 var log = Browser.inputBox("Enter your deparmtent"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:17:57.100

有很多可能的方法可以做到这一点，最简单的当然是[UI 服务](https://developers.google.com/apps-script/uiapp)和[GUI 构建器](https://developers.google.com/apps-script/gui_builder)。

我建议你看看这个文档......你会在这里和周围找到很多例子。

[这是一个使用 GUI Builder 的粗略示例](https://docs.google.com/spreadsheet/ccc?key=0AnqSFd3iikE3dHkyMkhYY01iV19nUm0zaGJwUEg2X0E#gid=0)，您会看到它非常易于使用和/或根据您的需要进行自定义...

# c# - 为什么文件流和字符串的 MD5 哈希值不同 C#

> ID：13245842
> 
> 赞同：3
> 
> 时间：2012-11-06T06:50:02.823
> 
> 标签：c#, md5, md5sum, md5-file

我使用 System.Security.Cryptography.MD5 从字符串和包含相同字符串的文件生成 MD5 哈希。但是哈希值不同。

这是从字符串生成的代码

```
byte[] data = Encoding.ASCII.GetBytes("The quick brown fox jumps over the lazy dog");
byte[] hash = MD5.Create().ComputeHash(data);
return BitConverter.ToString(hash).Replace("-", "").ToLower(); 
```

这是我从文件生成哈希时的代码

```
internal static string CalculateFileHashTotal(string fileLocation) 
    {
        using(var md5 = MD5.Create())
        {
            using (var stream = File.OpenRead(fileLocation))
            {
                byte[] b = md5.ComputeHash(stream);
                stream.Close();
                return BitConverter.ToString(b).Replace("-", "").ToLower();
            }
        }
    } 
```

字符串中的哈希是正确的，所以我假设文件中的哈希读取了一些额外的内容或不读取整个文件。我在谷歌上找不到答案。

有任何想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-06T06:53:51.847

哈希不同是因为数据不同。

该文件是 UTF-8，而不是 ASCII，因此您应该使用 UTF-8 编码将字符串转换为字节以获得相同的结果：

```
byte[] data = Encoding.UTF8.GetBytes("The quick brown fox jumps over the lazy dog"); 
```

此外，该文件的开头可能包含[BOM（字节顺序标记）](http://en.wikipedia.org/wiki/Byte_order_mark)。这包含在数据中，因为文件不是作为文本读取的。

在数据开头添加 UTF-8 BOM 将给出相同的哈希值：

```
byte[] bom = { 239, 187, 191 };
byte[] data = Encoding.UTF8.GetBytes("The quick brown fox jumps over the lazy dog");

byte[] bomdata = new byte[bom.Length + data.Length];
bom.CopyTo(bomdata, 0);
data.CopyTo(bomdata, bom.Length);
byte[] hash = MD5.Create().ComputeHash(bomdata); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-06T06:52:34.583

您是否从文件中修剪了字符串中的空格和换行符？

# facebook - Facebook 授权对话框获取“NetworkError：500 内部服务器错误”

> ID：13245843
> 
> 赞同：0
> 
> 时间：2012-11-06T06:49:51.537
> 
> 标签：facebook, facebook-javascript-sdk, authorize

我在我的网站 www.webdoanhnghiep.biz 上开发了登录按钮 最近，发生了这个错误。

第1步：

```
window.onload = function(){
FB.init({appId:262362650517650, cookie:true, status:true, xfbml:true });
}; 
```

步骤 2\. 查看控制台：

NetworkError：500 内部服务器错误 - [http://www.facebook.com/dialog/oauth?api_key=262362650517650&app_id=262362650517650&channel_url=http%3A%2F%2Fstatic.ak.facebook.com%2Fconnect%2Fxd_arbiter.php%3Fversion%3D5 ％23CB％3Df27ebe2c9c5e1ee％26origin％3Dhttp％253A％252F％252Fwww.webdoanhnghiep.biz％252Ff15b114a85641a％26domain％3Dwww.webdoanhnghiep.biz％26relation％3Dparent.parent＆CLIENT_ID = 262362650517650＆显示=无＆域= www.webdoanhnghiep.biz＆语言环境= EN_US＆原点= 1＆REDIRECT_URI = HTTP %3A%2F%2Fstatic.ak.facebook.com%2Fconnect%2Fxd_arbiter.php%3Fversion%3D5%23cb%3Df25fe006513304%26origin%3Dhttp%253A%252F%252Fwww.webdoanhnghiep.biz%252Ff15b114a85641a%26domain%3Dwww.webbiz.hnghiepdo %26relation%3Dparent%26frame%3Df214b3110825766&response_type=token%2Csigned_request%2Ccode&sdk=joey](http://www.facebook.com/dialog/oauth?api_key=262362650517650&app_id=262362650517650&channel_url=http%3A%2F%2Fstatic.ak.facebook.com%2Fconnect%2Fxd_arbiter.php%3Fversion%3D5%23cb%3Df27ebe2c9c5e1ee%26origin%3Dhttp%253A%252F%252Fwww.webdoanhnghiep.biz%252Ff15b114a85641a%26domain%3Dwww.webdoanhnghiep.biz%26relation%3Dparent.parent&client_id=262362650517650&display=none&domain=www.webdoanhnghiep.biz&locale=en_US&origin=1&redirect_uri=http%3A%2F%2Fstatic.ak.facebook.com%2Fconnect%2Fxd_arbiter.php%3Fversion%3D5%23cb%3Df25fe006513304%26origin%3Dhttp%253A%252F%252Fwww.webdoanhnghiep.biz%252Ff15b114a85641a%26domain%3Dwww.webdoanhnghiep.biz%26relation%3Dparent%26frame%3Df214b3110825766&response_type=token%2Csigned_request%2Ccode&sdk=joey)

按照上面的链接，我收到消息：“请稍后再试”。

任何人都有这个错误的经验？请帮忙;

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:30:20.123

您使用的是旧版本的 JS SDK，它现在正在引用旧的无效资源。

请始终使用来自 connect.facebook.net 的实时版本，因为这是确保您获得错误修复好处的唯一方法，并且不会被此类更改所困扰。

此外，您既要从自己的服务器加载 all.js 的副本，**又要**从 connect.facebook.net 加载副本，这抵消了您在本地提供资源时*可能*看到的任何改进。

# java - 如何禁用特定测试用例的特定模拟？

> ID：13245850
> 
> 赞同：1
> 
> 时间：2012-11-06T06:50:33.207
> 
> 标签：java, junit, eclipse-juno, jmockit

实际上，我已经为一个类中的特定方法编写了 5 个测试用例。该方法中有一个语句从另一个类调用一个方法，我不想测试那个类，所以我为那个类使用了一个模拟。现在我希望在运行第 5 个测试用例时它不应该访问那个模拟类，而是应该访问原始类。怎么做？

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T11:32:44.263

在该特定测试的设置中，要么调用被测对象的适当构造函数，要么使用非模拟实例构造一个新的被测对象。另一种选择是使用 Mockito。在 Mockito 中，您可以`spy`使用对象。这将允许您在默认情况下存根方法（模拟它），但在一个测试中让间谍转发到实际实例。

[莫基托](http://docs.mockito.googlecode.com/hg/latest/org/mockito/Spy.html)

[间谍注解](http://docs.mockito.googlecode.com/hg/latest/org/mockito/Spy.html)

# java - XML 1.0/ RSS 2.0 文档的标题？

> ID：13245852
> 
> 赞同：3
> 
> 时间：2012-11-06T06:50:29.780
> 
> 标签：java, xml, sockets

以下是 XML/RSS 提要文件：

```
<?xml version="1.0" encoding="ISO-8859-1" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"
                xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
                xmlns:georss="http://www.georss.org/georss">
  <channel>
  ...
    <item>
    ...
    </item>

    <item>
    ...
    </item>
  </channel>
</rss> 
```

如果我想使用套接字获取文件，例如：

```
Socket socket = new Socket(/* THE SITE*/ , 80);
OutputStream os = socket.getOutputStream();
OutputStreamWritter osw = new OutputStreamWritter(os);
BufferedWriter bw = new BufferWriter(osw);
bw.write("HEADER OF THE SITE"); 
```

我应该使用什么标题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T08:01:47.327

您应该了解 HTTP 或使用更高级别的 API，例如`java.net.HttpURLConnection`.

# sql-server - 如何在 webfarm 中使用 SignalR，使用 Sql server 作为背板

> ID：13245856
> 
> 赞同：2
> 
> 时间：2012-11-06T06:50:49.120
> 
> 标签：sql-server, signalr

基于这个主题[signalr-sqlserver-listening](https://stackoverflow.com/questions/12810002/signalr-sqlserver-listening)，SignalR 可以在 webfarm 中使用，使用 Sql server 作为背板将消息传递给所有 webnodes。

我想知道是否有任何文档/示例。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-06T13:17:37.383

有一个未发布的 SignalR 实现，它使用 SQL Server 作为消息总线（背板），正在开发中。[您可以从https://github.com/SignalR/SignalR/tree/master/src/Microsoft.AspNet.SignalR.SqlServer](https://github.com/SignalR/SignalR/tree/master/src/Microsoft.AspNet.SignalR.SqlServer)查看和编译源代码

获得编译版本并在项目中引用 SignalR.SqlServer 程序集后，您可以通过调用以下命令启用 SQL Server 背板，通常来自`Application_Start`global.asax.cs 文件中的方法。

```
 var connection = ConfigurationManager.ConnectionStrings["SignalRMessageBus"].ConnectionString;
 GlobalHost.DependencyResolver.UseSqlServer(connection); 
```

这假定您已在 web.config 文件中定义 SignalRMessageBus 连接字符串。如果您使用连接字符串定位的数据库实例中尚不存在所需的表，则 SignalR.SqlServer 程序集将创建所需的表，因此请确保您正在访问的帐户具有创建表的权限。

同样，这还没有正式发布，但根据这个问题 - [Sql server scale out Message Bus](https://github.com/SignalR/SignalR/issues/232)这将是即将发布的 1.0 Alpha 1 版本的一部分。

# iphone - 无法在 xcode 中创建存档。科尔多瓦/CDVViewController.h 丢失

> ID：13245861
> 
> 赞同：2
> 
> 时间：2012-11-06T06:51:21.100
> 
> 标签：iphone, cordova, xcode4.3

我在 Xcode 中使用 cordova，Xcode 版本是 4.3.3。编程在 iphone 中运行良好，当我尝试通过存档创建 .ipa 文件时，我无法做到，因为它对我大喊“找不到 Cordova/CDVViewcontroller.h”文件。

我检查构建设置。

```
Build Settings --> Search paths ---> Header Search Paths ---> Debug
                                                         |
                                                         |
                                                          ---> Release 
```

在 [Debug, Release] 中，我双击并选中了以下复选框。

```
"$(TARGET_BUILD_DIR)/usr/local/lib/include"
"$(OBJROOT)/UninstalledProducts/include"
"$(BUILD_PRODUCTS_DIR)" 
```

我错过了任何其他选择吗？...请提供建议。

# c# - 提交页面到访问的上一页面

> ID：13245869
> 
> 赞同：0
> 
> 时间：2012-11-06T06:52:30.007
> 
> 标签：c#, asp.net-mvc, validation, session, hyperlink

我的 MVC 应用程序页脚有联系我们链接。

在调用页面上包含提交反馈的表单..

当有效表单提交时，我想重定向到调用联系我们链接的页面。

将如何维护该私有链接。我无法使用历史记录，因为它包含验证，如果表单失败则显示错误，并且在提交有效表单后，privious 历史记录是相同的，即联系我们表单。

我应该使用 session 来存储 privious 表单 url 还是有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:14:00.157

看看 ASP.NET MVC Internet Application 模板中的 Forms Authentication 集成，它正好处理了这种情况。

您可能想要做的是让您的“联系我们”链接指向：-

`/ContactUs?returnUrl={the current URL}`

您可以像这样构建：-

```
@Html.ActionLink(
  "Contact us", "Contact", "Home", new { returnUrl = Request.Url.PathAndQuery }) 
```

然后，您可以在操作方法参数服务器端捕获它。即使您在此期间服务器端验证失败，该参数也会在表单 POST 中保留。

```
[HttpPost]
public ActionResult ContactUs(ContactUsModel model, string returnUrl)
{
  if (ModelStat.IsValid)
  {
    // Do whatever you need to do with the ContactUsModel

    if (Url.IsLocalUrl(returnUrl)
    {
      return Redirect(returnUrl);
    }
    else
    {
      return RedirectToAction("Index", "Home");
    }
  }

  return View(model);
} 
```

# jenkins - 一般来说，在 Jenkins 或 CI 中提供特定于服务器的配置文件的正确方法是什么？

> ID：13245871
> 
> 赞同：2
> 
> 时间：2012-11-06T06:52:15.223
> 
> 标签：jenkins, continuous-integration

在 CI 中，我们通常取出一个新副本，并检测存储库中的更改并开始构建。但是在某些情况下，不同服务器上的本地存储库在其配置文件中的某些常量的值不同，这些常量特定于每个服务器（邮寄地址可能不同，或者在特定服务器上启用/禁用日志记录）。

我的问题是在 CI 哲学中处理这些更改的最佳方法是什么，是否在每个服务器上取出新副本后，是否应该手动（一次）进行与服务器相关的更改，然后我们应该遵循检测更改的正常程序通过 SVN 到存储库

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T18:28:43.117

以下是我在工作场所的做法：

我将配置文件保存在 SVN 中，每个环境，每个服务器类型。它是这样的 - DEVPROJ1
--- API
----- api_config_file
--- WEB
----- web_config_file
- QAPROJ1
--- API
----- api_config_file
--- WEB
----- web_config_file
- PRODPROJ1
--- API
----- api_config_file
--- WEB
----- web_config_file

这样，PROD 上的所有 API 服务器都将使用 SVN at 的配置文件`PRODPROJ1/API/api_config_file`，而 DEV 上的所有 API 服务器将使用 SVN at 的配置文件`DEVPROJ1/API/api_config_file`。

我的部署脚本比部署到每台服务器都要考虑环境特定的配置。这只需告诉部署脚本即可实现：
部署到`API:PRODPROJ1=10.0.0.1,API:PRODPROJ1=10.0.0.2`. 然后该脚本从 SVN 中的 PRODPROJ1 获取 API 配置。

如您所见，我对所有 API 使用通用配置文件。有时每个 API 都需要特定的更改，例如本地 IP 地址。这些在安装时由部署脚本替换。您可以使用类似的方法，但不是按环境（DEVPROJ1、QAPROJ1）分隔它们，而是可以按 IP 地址或机器名称分隔它们。

无论哪种方式，我更喜欢将我的所有配置都放在 SVN 中，这样可以轻松跟踪和验证更改，而不是在随机服务器上寻找单个修改。

当然，维护这些配置文件成为一个手动过程。

# android - 我想在系统语言以外的应用程序中使用自定义语言翻译，该怎么做？

> ID：13245872
> 
> 赞同：0
> 
> 时间：2012-11-06T06:52:36.807
> 
> 标签：android, translation

在我的 android 应用程序中，我想实现一个函数 - 它具有可以使用系统语言更改翻译的字符串，以及不应使用系统语言更改翻译而应根据用户需要更改的字符串。

例子：

```
 can you say "中文", please try to say "你好" 
```

在上面的句子中，引号外的字符串应该随系统语言而变化，但引号内的字符串应该根据用户的需要或选择而变化。

我如何在android中实现这个功能？

* * *

但我不想在我的应用程序中添加数据库。如何使用数组实现这一点，如何将翻译字符串保存在数组中，以及获取和合并字符串？

如果系统语言是英文，如何从保存的数组中获取中文字符串？

而且我还发现了另一个实现这个目标的方法，就像下面的代码：

```
Resources res = getResources();
Configuration config = res.getConfiguration();
DisplayMetrics dm = res.getDisplayMetrics();

/** 
 *update the desired locale, if I want to get chinese string, 
 *change configuration to Chinese locale.
**/
res.getConfiguration().locale = Locale.getDefault(); 
res.updateCXonfiguration(config, dm);
String text = res.getString(R.string.merges_tring)

//when I get the string I want, 
//then restore the configraion locale to previous/current locale.
 ...code...

//below code, to merge the get string
 ...code... 
```

你怎么这么想？它会对系统语言产生任何缺陷吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T07:34:50.490

使用类似于每种语言的单独资源文件中的字符串。系统将根据系统语言选择字符串。

在文件*res/values/strings.xml*

```
<string name="example">can you say "$1%s", please try to say "$2%s"</string> 
```

在文件*res/values-de/string.xml*

```
<string name="example">Können Sie "$1%s" sagen, bitte versuchen Sie "$2%s" zu sagen.</string> 
```

现在对于其他部分：

在您的代码中，按用户选择的语言获取部件。没有定义的方法，一个简单的方法可能是将它们放在数组或数据库中。我在这里使用了一种假设的方法`getMyString`，它将使用用户选择的语言和一个键来指示您想要哪个字符串。

```
String s1 = getMyString(userSelectedLanguage, stringKey1);  // e.g. 中文
String s2 = getMyString(userSelectedLanguage, stringKey2);  // e.g. 你好 
```

现在使用 Activity 类提供的 getString() 方法来合并字符串。

```
String msg = getString(R.string.example, s1, s2); 
```

这将导致以下任一情况，具体取决于系统语言：

`can you say "中文", please try to say "你好"`或
`Können Sie "中文" sagen, bitte versuchen Sie "你好" zu sagen.`。

# android - dom解析时如何区分父子标签？

> ID：13245874
> 
> 赞同：1
> 
> 时间：2012-11-06T06:52:39.453
> 
> 标签：android, dom, xml-parsing

我在 android 中使用 dom xml 解析器。在我的源 xml 中包含相同的父子名称。

解析xml数据时如何区分父标签和子标签？

这是我的示例 xml。

```
<alerts>
    <alert>
       <code>QWEOS</code>
       <alert>this is alert1</alert>
       <description>this is description</description>
     </alert>
     <alert>
       <code>SDFHP</code>
       <alert>this is alert2</alert>
       <description>this is description</description>
     </alert>      
</alerts> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T07:16:09.177

您可以创建文档文档。

```
 NodeList nodes = doc.getElementsByTagName("parentnode");

    Element e = (Element) nodes.item(i);
    flag =XMLfunctions.getValue(e,"childnode"); 
```

# magento - 如何从magento中的cms页面传递带有块形式内容的参数

> ID：13245880
> 
> 赞同：11
> 
> 时间：2012-11-06T06:52:46.130
> 
> 标签：magento, static-block

我想在magento中传递一个带有JSON类型的块代码的变量，

```
{{block type="multibanners/multibanners" category_id="9" name="multibanners" alias="multibanners" template="multibanners/multibanners.phtml"}} 
```

从 cms pages content area ，但我没有收到任何东西。
如果我将块与操作方法一起使用，那么我很容易获得我的价值。任何人都知道如何使用我的自定义块传递变量？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-11-06T07:32:11.140

我不是 100% 确定你在问什么，但是如果你试图`multibanners.phtml`从上面的代码中传递一个变量，那么你可以创建另一个类似的属性`category_id="9"`，`multibanners.phtml`你可以使用`$this->getData("category_id");`

例如

```
{{block ... my_var="value here" ... template="multibanners/multibanners.phtml"}} 
```

在`multibanners.phtml`：

```
$this->getData('my_var'); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-10-24T17:17:33.577

我认为这里的问题源于您调用的块类型。当您定义一个类型时，您是在告诉 Magento 加载该模型并将适当的数据传递给它 - 然后只公开在该特定模型上定义的函数。

更好的解决方案可能是引用核心块类型“core/template”，它公开了 ->getData() 方法，然后加载“multibanners/multibanners”模型来处理和输出数据。

```
{{block type="core/template" category_id="9" name="multibanners" alias="multibanners" template="multibanners/multibanners.phtml"}} 
```

我不确定加载“multibanners”的正确语法是什么，但在 multibanners.phtml 中会是这样的：

```
<?php

$catId = $this->getData('category_id');
$multibanner = Mage::getModel('multibanners/multibanners')->load($catId);

/**
** Generate some output here.
*/

?> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-07-19T08:01:15.020

我发现这非常有用，我想我会解释我做了什么，以防它帮助其他人。

我有一些静态块，用于构建一些具有基本不变信息（关于我们类型页面）的静态页面，其中包括一些照片。这些照片非常大（对于网页），我想使用 Magento 的调整大小工具。我能做到这一点的唯一方法就是使用这里的想法。我现在有一个块，当我想要一个带有多个参数的调整大小的图像时，我可以在任何 cms 静态页面/块上包含一个块。这就像一个子程序（我可以这么说吗？！；o）。无论如何，这就是我所做的。

块：

```
{{block type="core/template" name="display_resized_img" gimg="IMG_0559.JPG" gsize="300" gpath="/wysiwyg/ShopFront/" gclass="about-us" galt="The shop" template="utilities/display_resized_img.phtml"}} 
```

和 phtml 代码文件：

```
<?php
/*
 *  Displays and resizes an image as requested from the block.
 *  The image is only resized if it hasn't been already.
 */

$img = $this->getData('gimg');
$size = $this->getData('gsize');
$path = $this->getData('gpath');
$class = $this->getData('gclass');
$alt = $this->getData('galt');
$resizePath = Mage::getBaseDir ('media') . $path . "resized/" . $size . $img;
if (!file_exists($resizePath)):
    $imagePath = Mage::getBaseDir('media') . $path . $img;
    $imageObj = new Varien_Image($imagePath);
    $imageObj->constrainOnly(TRUE);
    $imageObj->keepAspectRatio(TRUE);
    $imageObj->keepFrame(FALSE);
    $imageObj->resize($size, null);
    $imageObj->save($resizePath);
endif;
$resizeUrl = Mage::getBaseUrl ('media') . $path . "resized/" . $size . $img;
?>
<img class="<?php echo $class; ?>" src="<?php echo $resizeUrl ?>" alt="<?php echo $alt; ?>"> 
```

注意我将调整大小的图像保存在调整大小的文件夹中，并将新大小添加到图像文件名中，以便我可以轻松查看正在发生的事情并管理文件。

谢谢阅读！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T05:20:43.370

在 cms 页面上添加块时，从块代码中删除样式。

```
{{block type="multibanners/multibanners" name="multibanners" alias="multibanners" template="multibanners/multibanners.phtml" category_id="8"}} 
```

要在您的 phtml 或 Block 中获取 category_id，请使用`$this->getCategoryId()`.

# php - PHP 生成的 XML 偶尔缺少关闭“<”

> ID：13245883
> 
> 赞同：0
> 
> 时间：2012-11-06T06:52:51.337
> 
> 标签：php, mysql, xml

我有一个简单的 php 脚本，它从 MySql 中提取数据并构建一个提要，在这种情况下是针对亚马逊的。

它正确地生成数据，但每隔 300-400 行左右，它会生成一个孤立的 XML 错误，其中缺少结束“<”。例如，这是我的一段输出，它没有在 Fulfillment Latency 的结束标记上输出“<”。有时它会在 sku、数量或更新下发生。它始终是结束标记上的“<”。

```
<Message>
<MessageID>36</MessageID>
<OperationType>Update</OperationType>
<Inventory>
<SKU>NRS10111</SKU>
<Quantity>2</Quantity>
<FulfillmentLatency>1/FulfillmentLatency>
</Inventory>
</Message> 
```

这是用于生成 XML 的部分代码（在 mysql_fetch_array 循环内）：

```
$myXML.=
'<Message>
<MessageID>'.$counter.'</MessageID>
<OperationType>Update</OperationType>
<Inventory>
<SKU>'.$sku.'</SKU>
<Quantity>'.$quantity.'</Quantity>
<FulfillmentLatency>1</FulfillmentLatency>
</Inventory>
</Message>';

$counter++ 
```

# java - 如何回滚多个类中的事务？

> ID：13245886
> 
> 赞同：0
> 
> 时间：2012-11-06T06:53:05.583
> 
> 标签：java, spring, hibernate

我有两个类，ServiceA 和 ServiceB，它们都有调用数据库的方法

在 ServiceA 我有以下代码

```
public void updateData() {
//some database updates
serviceB.addDetails();
//some more database updates
} 
```

这是我在两个类的 applicationContext 中的配置

```
<bean id="serviceATarget" class="com.company.service.ServiceA">
    <property name="serviceB" ref="serviceB" />
    <property name="serviceADAO" ref="serviceADAO" />
</bean>
<bean id="serviceA" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
    <property name="transactionManager" ref="transactionManager" />
    <property name="target" ref="serviceATarget" />
    <property name="transactionAttributes">
    <props>
        <prop key="update*">PROPAGATION_REQUIRED,-Exception</prop>
    </props>
</property>
</bean>

<bean id="serviceBTarget" class="com.company.service.serviceB">
    <property name="serviceBDAO" ref="serviceBDAO" />
</bean>

<bean id="serviceB" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
    <property name="transactionManager" ref="transactionManager" />
    <property name="target" ref="serviceBTarget" />
    <property name="transactionAttributes">
    <props>
    <prop key="add*">PROPAGATION_REQUIRED,-Exception</prop>
    </props>
    </property>
</bean> 
```

问题是在 ServiceA 中，如果在“//一些更多的数据库更新”部分之后发生异常，则所做的更新`serviceB.addDetails()`不会被回滚。

帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-06T08:17:38.453

您可能想要使用注释（它更容易）

“Spring 2.0 及以上版本中的声明式事务配置与之前的 Spring 版本有很大不同。主要区别在于不再需要配置 TransactionProxyFactoryBean bean。”

您喜欢服务 A 调用服务 B 并使用 @Transactional Propagation.REQUIRED 注释它们。任何异常都会回滚您的事务。（如果你不抓住并处理它）

# iphone - 如何为通用 iPhone/iPad 应用程序指定图标？

> ID：13245888
> 
> 赞同：2
> 
> 时间：2012-11-06T06:52:51.883
> 
> 标签：iphone, objective-c, ios, xcode

如何为具有所有 4 个版本（icon.png、icon@2x.png ... 等）的通用 iPhone/iPad 应用程序指定图标？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T07:00:40.340

![在此处输入图像描述](../Images/81b542c878d1e17f94b34ef86ae67fd1.png)

我在应用商店有实时通用应用。**有关图像名称，请参阅附件图像**。

**Icon-Small**用于设置应用程序， **Icon**显示在 iPhone 主屏幕中， **Icon-72**显示在 iPad 主屏幕中。

**有关图像尺寸，请参阅第二张图像**。

![在此处输入图像描述](../Images/2613b985671ba4f2081a6c34e1b7d79f.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T07:04:54.787

首先，您必须声明 App Launcher 图标图像

```
Device      size                   retina display size
iphone     57*57  (icon.png)         114*114 (icon@2x)
iPad        72*72                    144*144

Launch Image size
Device      size        retina display size
iphone     320*480           640*960
iphone 5    640*1136 
iPad        768*1024         1536*2048 
```

并指定您的图标转到目标然后摘要然后您浏览图标（手动）所有设备名称无关紧要但名称不一样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T07:03:02.833

请参考默认图标名称..

> ```
> Iphone(non retina) :icon.png 
> ```
> 
> 苹果手机（视网膜）：icon@2x.png
> 
> Ipad（非视网膜）：Icon-72.png
> 
> iPad（视网膜）：Icon-72@2x.png

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T07:03:46.263

将 Array 类型的 CFBundleIconFiles 键添加到 Info.plist。该数组应包含 2 个字符串项：两个图标的文件名。然后，操作系统将根据每个平台的像素尺寸自动选择正确的图标。

按照此链接 [获取通用应用程序图标](https://developer.apple.com/library/ios/#qa/qa2010/qa1686.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-30T03:40:52.103

[![图像资产 appicon](../Images/d1cd6945857ca5517aa59da571ae79e0.png)](https://i.stack.imgur.com/j98w7.png)

我认为您可以在 images.xcassets 中创建应用程序图标集，这将节省大量时间

# python - python中的Redis连接池我做错了什么？

> ID：13245889
> 
> 赞同：3
> 
> 时间：2012-11-06T06:52:53.157
> 
> 标签：python, redis

这就是我正在做的事情。当我这样做时，redis-py 会爆炸。

```
Python 2.7.3 (default, Aug  1 2012, 05:16:07)
[GCC 4.6.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import redis
>>> p = redis.ConnectionPool()
>>> r = redis.Redis(connection_pool=p)
>>> p.release(r)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/usr/local/lib/python2.7/dist-packages/redis/connection.py", line 355, in release
    if connection.pid == self.pid:
AttributeError: 'Redis' object has no attribute 'pid'
>>> 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-12-02T00:32:36.377

好的，因为没有人回答这个问题，我花了一些时间浏览了 redis-py 源代码（使用源卢克！），这就是我发现的。我会在这里分享它，以防其他人将来遇到同样的问题。

返回的 Redis() 对象

```
r = redis.Redis(connection_pool=p) 
```

不代表redis连接。它只是一个代理了 redis API 的 Python 对象。当我们调用特定的 API 时，比如说

```
r.keys()
```

内部代理使用传递的连接池在创建命令和有效负载之前请求连接，并针对从池中获得的连接触发。然后它将连接返回到池中。所有这些操作对 API 用户都是透明的。

底线是您可以在代码中创建任意数量的 redis.Redis() 对象并丢弃它们。Python GC 将处理对象清理，而 connection_pool 在 Redis() 对象之外进行管理。

# regex - scala：正则表达式查找某个短语之前的 x 个单词和之后的 x 个单词

> ID：13245890
> 
> 赞同：1
> 
> 时间：2012-11-06T06:53:12.730
> 
> 标签：regex, scala

我正在尝试在自由文本中识别街角。

我有一个街道列表，我正在寻找一个给出以下文本的正则表达式

```
the corner of Saint John and Mac Dowell. 
```

或者

```
the store on Saint John and Mac Dowell. 
```

会返回类似的东西

```
(Saint John) (Mac Dowell) 
```

我在想类似的东西

```
.*((?:\w+\b+){5})and\b+((?:\w+\b+){5}).* 
```

得到“and”之前的五个单词和之后的5个单词。（我没有超过五个字的街道名称）

但我什至找不到匹配一定数量单词的方法

如果我尝试

```
scala> val corner = """.*((?:\w+\b+){2}).*""".r
scala> val corner(c) = "word1 word2 word3" 
```

根本不匹配...

（我没有使用 \s ，因为我想考虑 ,;:. 等作为单词分隔符）

--

感谢 m.buettner 的回答，我可以更接近我想要实现的目标

我现在有：

```
val corner = """.*((?:\W+\w+){1,5})\W+and\W+((?:\w+\W+){1,5}).*""".r

val corner(a,b) = "the store located at Saint John street and Mac Dowell Avenue, is a great place"
a: String = " street"
b: String = "Mac Dowell Avenue, is a " 
```

我唯一的问题是，我希望 a 位于“圣约翰街”，而不仅仅是“街道”。默认情况下不应该是渴望的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T09:00:27.293

问题是`\b`不消耗任何字符，它只是检查当前位置是否在单词和非单词字符之间或字符串边界之间。但是您不必使用`\s`，您可以使用`\W`（代表**任何**非单词字符）：

```
.*?((?:\w+\W+){1,5})and((?:\W+\w+){1,5}).* 
```

但是你为什么不简单地使用：

```
the corner of\W+(.*)\W+and\W+(.*)\W* 
```

# regex - MongoDB 2.2 中的“\[”错误

> ID：13245894
> 
> 赞同：2
> 
> 时间：2012-11-06T06:53:40.430
> 
> 标签：regex, mongodb

我在一个集合上运行以下查询，该集合有很多包含`[`和的条目`]`。

```
 db.test.find({word:/[\[]/});           // could not be run in console
 db.test.find({word:/\[/ });            // could not be run in console
 db.test.find({word:/\]/});             //returns result
 db.test.find({word:/[\]]/});           //returns result
 db.test.find({word:{$regex:"\["}});    //no result
 db.test.find({word:{$regex:"\[[]"}});  //returns result 
```

为什么使用`\[`如此奇怪？它是一个错误。

我正在使用 mongodb 2.2.0，也许

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T07:02:11.900

在我的 MongoDb 版本 2.0.3 中正确工作：

```
> db.newColl.find({ word:/[\[]/})
{ "_id" : ObjectId("5098b7c2c1388461b656736c"), "word" : "abd[def" }
{ "_id" : ObjectId("5098b7c8c1388461b656736d"), "word" : "[def" }
> db.newColl.find({ word:/\[/})
{ "_id" : ObjectId("5098b7c2c1388461b656736c"), "word" : "abd[def" }
{ "_id" : ObjectId("5098b7c8c1388461b656736d"), "word" : "[def" } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T08:21:10.860

您没有转义正确的字符，我相信您必须转义特殊字符，以便：

```
db.test.find({word : /[/ }); 
```

应该：

```
db.test.find({word : /\[/ }); 
```

这些工作是因为逃避：

```
db.test.find({word:/\]/});
db.test.find({word:/[\]]/}); 
```

在第一个中，您逃脱了特殊字符，在第二个中，您有一组`[]`escaped `]`。

至于：

```
db.moin.find({moin:{$regex:"\[[]"}}); 
```

当不使用时，`//`我相信它会尝试只匹配一个字符，但是你最后也在使用`[]`，我相信这表示正则表达式匹配`.*`所以它可以工作。

# objective-c - ios 4 中的标签栏自定义

> ID：13245898
> 
> 赞同：0
> 
> 时间：2012-11-06T06:53:47.093
> 
> 标签：objective-c, ios, ios4

我正在开发一个 iOS 应用程序，我需要将标签栏自定义为如下所示：

![在此处输入图像描述](../Images/f9dd7d337b1b09cf0042f361ce6bed73.png) [标签栏图像](http://postimage.org/image/jxm57t89j/)

网络搜索给了我这个解决方案：

```
[self.tabBarItem setFinishedSelectedImage:<#(UIImage *)#> withFinishedUnselectedImage:<#(UIImage *)#>] 
```

但它适用于iOS5。是否有适用于 iOS4 和 iOS5 的解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T07:02:53.720

我们使用下面的代码。您可以自定义标签栏

```
self.tabBarController = [[UITabBarController alloc]init];
firstClassobj.tabBarItem = [[UITabBarItem alloc]
                     initWithTitle:NSLocalizedString(@"yourtext", @"yourtext)
                     image:[UIImage imageNamed:@"your Image"]
                     tag:0];
secondClassobj.tabBarItem = [[UITabBarItem alloc]
                     initWithTitle:NSLocalizedString(@"yourtext", @"yourtext)
                     image:[UIImage imageNamed:@"your Image"]
                     tag:0];
self.tabBarController .viewControllers = [NSArray arrayWithObjects:firstClassobj,secondClassobj,nil]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-02T13:10:47.490

//这是我成功实现的代码......

//在.h中设置委托UITabBarControllerDelegate,UITabBarDelegate

```
 UINavigationController *navigationController;
    UITabBarController *tabBarController;
    @property(strong,nonatomic) UINavigationController *navigationController;
    @property(strong,nonatomic) UITabBarController *tabBarController; 
```

//在.m

```
 tabBarController = [[UITabBarController alloc] init];
  [tabBarController setDelegate: self]; 
```

//用于标签栏背景 tabBarController.tabBar.tintColor=[UIColor colorWithPatternImage:[UIImage imageNamed:@"tabbg.png"]];

NSMutableArray *localViewControllersArray = [[NSMutableArray alloc] initWithCapacity:4];

```
Demo1 *home = [[Login alloc] initWithNibName:@"Login" bundle:nil];
    localNavController = [[UINavigationController alloc] initWithRootViewController:home];
localNavController.tabBarItem.title=@"demo1";
[localViewControllersArray addObject:localNavController];
    Demo2 *puck=[[Demo2 alloc]initWithNibName:@"Demo2" bundle:nil];
    localNavController = [[UINavigationController alloc] initWithRootViewController:puck];
localNavController.tabBarItem.title=@"demo2";
[localViewControllersArray addObject:localNavController];
    Demo3 *photo=[[Demo3 alloc]initWithNibName:@"Demo3" bundle:nil];
    localNavController = [[UINavigationController alloc] initWithRootViewController:photo];
localNavController.tabBarItem.title=@"demo3";
    [localViewControllersArray addObject:localNavController];
    Demo4 *more=[[Demo4 alloc]initWithNibName:@"Demo4" bundle:nil];
    localNavController = [[UINavigationController alloc] initWithRootViewController:more];
localNavController.tabBarItem.title=@"demo4";
[localViewControllersArray addObject:localNavController];

  [[UITabBarItem appearance] setTitleTextAttributes:
 [NSDictionary dictionaryWithObjectsAndKeys:
  [UIColor grayColor], UITextAttributeTextColor, 
  [UIColor grayColor], UITextAttributeTextShadowColor, 
  [NSValue valueWithUIOffset:UIOffsetMake(0, 1)], UITextAttributeTextShadowOffset, 
  [UIFont fontWithName:@"Helvetica" size:0.0], UITextAttributeFont, 
  nil] 
                                         forState:UIControlStateNormal]; 
```

//标签栏选中和未选中的图标

```
UITabBarItem *tabBarItem1 = [[self.tabBarController.tabBar items] objectAtIndex:0];
[tabBarItem1 setFinishedSelectedImage:[UIImage imageNamed:@"puckCentralA.png"] withFinishedUnselectedImage:[UIImage imageNamed:@"puckCentral.png"]];
UITabBarItem *tabBarItem2 = [[self.tabBarController.tabBar items] objectAtIndex:1];
[tabBarItem2 setFinishedSelectedImage:[UIImage imageNamed:@"puckDisplayA.png"] withFinishedUnselectedImage:[UIImage imageNamed:@"puckDisplay.png"]];
UITabBarItem *tabBarItem3 = [[self.tabBarController.tabBar items] objectAtIndex:2];
[tabBarItem3 setFinishedSelectedImage:[UIImage imageNamed:@"photoBoothA.png"] withFinishedUnselectedImage:[UIImage imageNamed:@"photoBooth.png"]];
UITabBarItem *tabBarItem4 = [[self.tabBarController.tabBar items] objectAtIndex:3];
[tabBarItem4 setFinishedSelectedImage:[UIImage imageNamed:@"moreA.png"] withFinishedUnselectedImage:[UIImage imageNamed:@"more.png"]]; 
```

[self.window addSubview:tabBarController.view];

# javascript - 使用 javascript 验证复选框选择

> ID：13245899
> 
> 赞同：1
> 
> 时间：2012-11-06T06:53:47.887
> 
> 标签：javascript, validation, checkbox

我需要帮助编写我需要做的自定义函数。

**这个概念很简单**：*我向客户提供约 20 种产品的列表，然后我要求他们使用复选框从整个列表中选择 5 种产品。*

虽然他们确实选择了产品，但它需要更新隐藏的输入，以便我能够将其插入到我的数据库中。

我们可以从这样的东西开始：http: [//jsfiddle.net/9mxh5/](http://jsfiddle.net/9mxh5/)但它只需要工作，所以我只能选择一些复选框。

这是我们也可以使用的一些代码

```
<input type="checkbox" name="products" value="product1" onChange="javascript:updateProducts();"/>
<input type="checkbox" name="products" value="product2" onChange="javascript:updateProducts();"/>
<input type="checkbox" name="products" value="product3" onChange="javascript:updateProducts();"/>
<input type="checkbox" name="products" value="product4" onChange="javascript:updateProducts();"/>

<!-- Hidden -->
<input type="hidden" name="myFiveProducts" value="THELIST" /> 
```

我在那里使用了 jsfiddle 并像我想做的那样对其进行了调整：http: [//jsfiddle.net/ENxnK/15/](http://jsfiddle.net/ENxnK/15/)

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T07:19:10.920

我已经给出了 3 的条件。您可以将其更改为 5，我认为您可以自己分配隐藏变量。如果我不能然后让我知道。我会更新它

```
<script type="text/javascript">
var i=0;
    function updateProducts(myid)
{

    if(document.getElementById(myid).checked==true)
    {i=i+1;

    if(i==3)
    {
    document.getElementById("products1").disabled="disabled";
    document.getElementById("products2").disabled="disabled";
    document.getElementById("products3").disabled="disabled";
    document.getElementById("products4").disabled="disabled";
    }
    }
    else
    i=i-1;
}
</script>
    <div id="mydiv">
<input type="checkbox" id="products1" value="product1" onChange="javascript:updateProducts(this.id);"/>
<input type="checkbox" id="products2" value="product2" onChange="javascript:updateProducts(this.id);"/>
<input type="checkbox" id="products3" value="product3" onChange="javascript:updateProducts(this.id);"/>
<input type="checkbox" id="products4" value="product4" onChange="javascript:updateProducts(this.id);"/>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T13:50:50.307

@polin

我找到了一种方法来做我想做的事，但这不是很优化..

我正在使用 Class 来确定是否检查了哪个。然后我只是确保它没有类禁用它。

只需要更好的代码：D

**javascript**

```
var i = 0;
function updateProducts(myid)
{

    if(document.getElementById(myid).checked == true)
    {
        // Add a class to the element
        document.getElementById(myid).className = "classCheck";

        i = i + 1;

        // If I got my maximum
        if(i == 3)
        {
            if(!$('#products1').hasClass('classCheck'))
            {
                document.getElementById("products1").disabled="disabled";
            }
            if(!$('#products2').hasClass('classCheck'))
            {
                document.getElementById("products12").disabled="disabled";
            }
            if(!$('#products3').hasClass('classCheck'))
            {
                document.getElementById("products3").disabled="disabled";
            }
            if(!$('#products4').hasClass('classCheck'))
            {
                document.getElementById("products4").disabled="disabled";
            }
        }   
    }
    else
    {
        document.getElementById(myid).className = "";
        i = i - 1;

        // If I'm not at the maximum
        if(i < 3)
        {
            // I can switch them all enable
            $('#products1').removeAttr('disabled');
            $('#products2').removeAttr('disabled');
            $('#products3').removeAttr('disabled');
            $('#products4').removeAttr('disabled');
        }
    }
} 
```

**的HTML**

```
<div id="mydiv">
<input type="checkbox" id="products1" value="product1" onChange="javascript:updateProducts(this.id);"/>
<input type="checkbox" id="products2" value="product2" onChange="javascript:updateProducts(this.id);"/>
<input type="checkbox" id="products3" value="product3" onChange="javascript:updateProducts(this.id);"/>
<input type="checkbox" id="products4" value="product4" onChange="javascript:updateProducts(this.id);"/>
</div> 
```

# jquery - 单击按钮后，当 div 可见时，主体内容移到顶部

> ID：13245902
> 
> 赞同：0
> 
> 时间：2012-11-06T06:53:45.513
> 
> 标签：jquery

单击magento中的按钮后，我想显示div。

代码是

```
<div id="clickme" style="background-color: #333333; color: #FFFFFF; padding: 10px; width: 200px; cursor:pointer;">Click here to toggle me in and out</div>
 <div id="me"   style="display: none !important;"> <?php echo $this->getLayout()->createBlock('cms/block')->setBlockId('footerbanner')->toHTML();?></div>
<script type="text/javascript">
jQuery.noConflict();
jQuery(document).ready(function($) { $('#clickme').click(function() { $('#me').animate({
           height: 'toggle'
           }, 1000
      );
 });
}); 
```

它的工作。但是通过这个代码页脚被移动，但我希望正文内容被移动到顶部而不是页脚。请帮我...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:23:38.570

用你的页脚 div 试试这个，

```
<div id="footer" style='position:fixed;bottom: 0px;height: 40px;float: left;'>footer footer footer footer </div> 
```

因此，页脚将始终显示在页面底部...

[现场演示](http://jsfiddle.net/jmvND/1/)

**编辑：** 根据您的要求，试试这个，

**HTML**

```
<div id="Content_div" style="height: 400px;">  
</div>

<div id="ja-botsl">
   <div class="main col4-set clearfix">
      <div style="height: 200px;" class="main-inner clearfix">
      </div>
      <span class='imgExpandSpan' id="ja-expand-trig">&nbsp;</span>
   </div>
</div>

<div id="footer_div" style="height: 100px;">
</div>​ 
```

**CSS**

```
<style type="text/css">
    .imgExpandSpan
    {
        background: url("https://bangalore/Ogo/Content/Images/arrow-green.png") no-repeat scroll center center #111111;
        cursor: pointer;
        height: 30px;
        left: 50%;
        position: absolute;
        top: -29px;
        width: 60px;
    }
    .imgExpandSpan.expand
    {
        background-image: url("https://bangalore/Ogo/Content/Images/arrow-red.png");
    }

    #ja-botsl
    {
        background: none repeat scroll 0 0 #111111;
        border-top: 1px solid #CCCCCC;
        color: #666666;
        position: relative;
        z-index: 2;
    }
</style> 
```

**jQuery**

你应该使用下面给出的插件

[原型.js](http://www.benarasisarees.com/js/prototype/prototype.js)

[ja.script.js](http://www.benarasisarees.com/skin/frontend/default/jm_scerif/js/ja.script.js)

这是[现场演示](http://jsfiddle.net/smanimani/5kFsh/)

注意：`ja.script.js`拥有我们所有的点击事件 ID 的脚本并展开内部 div id。所以我们可以改变id的.,,

# php - 在 cakephp 2.1 中找不到类“CakeLog”错误

> ID：13245903
> 
> 赞同：4
> 
> 时间：2012-11-06T06:53:46.153
> 
> 标签：php, cakephp-2.1

我在 windows server 2008 中安装了 cakephp 2.1，它给了我以下错误

> 致命错误：在第 172 行的“C:\wamp\www\foldername\app\Config\bootstrap.php”中找不到类“CakeLog”
> 
> 致命错误：在第 200 行的“C:\wamp\www\foldername\lib\Cake\Error\ErrorHandler.php”中找不到类“CakeLog”

而当我在 windows 7 32 位服务器上运行它时，它运行顺利。

谁能告诉我如何让它在 windows server 2008 上运行。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-07-26T14:52:22.090

我已经多次遇到这个问题，我的解决方案一直是

1.  如果此安装是从以前的应用程序复制的，请删除 tmp 目录中的文件 && 文件夹并重新创建它们以及所有子文件夹，例如缓存 +（模型、持久性、视图）和日志

2.  确保 /tmp 目录是“可写” chmod -R 777

ps给出的错误信息描述性不够

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-12T09:17:13.723

我已经为此寻找解决方案，让我知道它是否对您有用，因为这解决了我的问题

在蛋糕版本 CakePHP v 2.0 中，我只是在 C:\wamp\www\foldername\app\Config\bootstrap.php 文件中注释了以下代码

```
 //Configures default file logging options

App::uses('CakeLog', 'Log');CakeLog::config('debug', array('engine' => 'FileLog','types' => array('notice', 'info', 'debug'),'file' => 'debug',));
CakeLog::config('error', array('engine' => 'FileLog','types' => array('warning', 'error', 'critical', 'alert', 'emergency'),'file' => 'error',)); 
```

# java - 迭代深度复制链接列表

> ID：13245908
> 
> 赞同：3
> 
> 时间：2012-11-06T06:54:07.387
> 
> 标签：java, linked-list, deep-copy, iteration

这是一个家庭作业。将以下递归深度复制方法更改为迭代等效方法。我走近了，需要你的帮助才能做到这一点。递归实现：

```
public static StringNode copy(StringNode str) {
        if (str == null)
            return null;

        StringNode copyFirst = new StringNode(str.ch, null);
        copyFirst.next = copy(str.next);
        return copyFirst;
    } 
```

这是我想出的，迭代等价物。该`static length()`方法已经实现返回给定链接列表中有多少节点。

```
public static StringNode copy(StringNode str) {
    if (str == null)
        return null;

    StringNode firstNode = new StringNode(str.ch ,null);
    StringNode prevNode = firstNode;
    StringNode nextNode;

    for (int i = 1; i < length(str); i++) {
        nextNode = new StringNode(str.next.ch, null);
        prevNode.next = nextNode;
        prevNode = nextNode;
    }

    return firstNode;
} 
```

`str1`问题：为了测试我的实现，我创建了一个带有字符值的链表`'n', 'b', 'a'`，然后调用

```
StringNode copy = StringNode.copy(str1); 
```

然后我删除 str1 的最后一个节点，将其保留为`'n','b',` 但是，当我尝试打印出存储在副本中的内容时，我得到 `'n', 'b', 'b'`的不是`'n', 'b', 'a'`.

有什么建议么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T06:58:22.763

您还需要在循环中向前移动，否则您会在每次迭代`str`中不断添加。第一次调用方法时，第一个元素不同。然后在整个循环中都是相同的。`same str``list``str.next`

因此，您需要在 for 循环中添加此代码：-

```
str = str.next; 
```

此外，您的循环有一些问题。您不应该迭代直到`length(str)`. 但直到`str == null`.

所以，最后你的循环应该是这样的： -

```
while (str.next != null) {  // Iterate till str.next != null, as we are creating 
                            // the next node in the loop for current node str

    nextNode = new StringNode(str.next.ch, null);
    prevNode.next = nextNode;
    prevNode = nextNode;

    str = str.next;  // Move to next node.
} 
```

在这种情况下必须使用 while 循环，因为您不知道循环应该迭代多少次。

# html-parsing - Scrapy - 如何每天抓取新页面

> ID：13245910
> 
> 赞同：3
> 
> 时间：2012-11-06T06:54:38.640
> 
> 标签：html-parsing, web-scraping, scrapy

我正在评估scrapy是否适合我。我想要的只是每天从几个体育新闻网站上抓取最新的头条新闻，然后提取标题、日期和文章正文。我不关心文章正文中的链接，我只想要正文。

据我了解，抓取是一项一次性的工作，它会根据其找到的链接抓取整个网站。我不想锤网站，我也不想爬整个网站；只是体育部分，只有头条新闻。

所以总而言之，我想要scrapy

1.  每天一次从指定域中查找与昨天不同的新闻文章
2.  提取新文章日期、时间和正文
3.  将结果保存到数据库

是否有可能做到这一点，如果可以，我将如何做到这一点。我已经阅读了教程，但似乎他们描述的过程会将整个站点作为一次性工作进行搜索。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-08T09:47:12.247

看看[deltafetch](https://github.com/scrapinghub/scrapylib/blob/master/scrapylib/deltafetch.py)中间件，它是由 scrapinghub 发布的一个[scrapy](http://scrapinghub.com/)插件[库的](https://github.com/scrapinghub/scrapylib)一部分。它将生成项目的页面的 url 存储在磁盘上，并且不会再次访问它们。它仍然允许scrapy 访问其他页面（通常需要它来查找项目页面）。这是一个非常简单的示例，可以根据您的特定需求进行定制。

您需要在启用此中间件的情况下每天运行爬网（例如，使用 cron）。

# mysql - 比较mysql表以查看每个条目是否有记录

> ID：13245911
> 
> 赞同：0
> 
> 时间：2012-11-06T06:54:27.183
> 
> 标签：mysql, left-join

我有两个mysql表。jobsreqtraining 和课程已完成。

jobsreqtraining 有两个栏目，工作和培训。

Coursescompleted 有两列，course 和 person。

截图如下：

职位要求培训

![职位要求培训](../Images/cdfaca80a9e261c8f68cbfa0cd29e604.png)

完成的课程

![完成的课程](../Images/a6f374cbeadda34a01f5a3dee78a67e1.png)

我需要做的是，如果 Bryan Habana 从事起重机操作员的工作，他是否完成了“MHE 驾照”课程？

所以我的查询将有两个变量，Job 和 Person。所以如果我选择 Bryan Habana 和 Crane Operator 我想要的输出将是

* * *

**培训**                         **完成课程？**

起重机操作员编号

* * *

我相信我必须使用左外连接来实现这一点，但即使该人尚未完成培训，也要努力获得工作所需的课程？

```
select 
  n.course, 
  c.person
from (select 
  training as course 
  from jobsreqtraining where Job='crane operator'
) as n 
left outer join coursescompleted c 
  on n.course=c.course 
where c.person='bryan habana' 
```

一如既往的帮助，谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T07:47:52.007

```
SELECT 
  n.person,
  j.job AS job,
  j.training AS Training,
  CASE WHEN c.person IS NULL THEN 'No' ELSE 'Yes' END AS `Completed Course?`
FROM jobsreqtraining j 
  CROSS JOIN (select distinct person from coursescompleted) n
  LEFT JOIN coursescompleted c
    ON j.training = c.course AND n.person = c.person
WHERE 
  n.person = 'Bryan Habana'
  AND j.job = 'Crane Operator' 
```

[sqlfiddle.com 上的现场演示](http://sqlfiddle.com/#!2/34858/19)

请注意，您可以更改`WHERE`子句以针对不同的人和/或不同的工作选择不同的信息集。甚至适用于*多人*和/或工作。

[这是一个完全省略 where 子句的示例](http://sqlfiddle.com/#!2/34858/20)。它显示了所有人的所有工作，每个人都有一个是/否指示。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T07:02:20.057

是 `coursescompleted.course`和`jobsreqtraining.training`连接在一起的吗？如果是，你可以使用这个：

```
SELECT jobsreqtraining.job as Training,
  IF(EXISTS(SELECT * FROM coursescompleted
            WHERE coursescompleted.person='bryan habana'
              AND jobsreqtraining.training = coursescompleted.course), "Yes", "No)
FROM jobsreqtraining
WHERE jobsreqtraining.job = 'crane operator' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T07:01:34.203

```
select 'creane operator' `job`,
CASE WHEN (select count(*) from coursescompleted where person='bryan habana'
and course=(select training from jobsreqtraining where job='crane operator')) > 0 
then   'Yes'  else 'No' END `Completed Course` 
```

# delphi - 在delphi中动态创建一系列TDBChart：数据不变

> ID：13245915
> 
> 赞同：1
> 
> 时间：2012-11-06T06:55:12.050
> 
> 标签：delphi, charts

我使用以下代码来创建动态系列的 TDBChart。我使用了 MS-Access 和 TADOQuery 组件。按钮单击事件上的代码。

```
var
qryData: TADOQuery;
intCnt: integer;
strlstField: TStringList;

begin
strlstField := TStringList.Create();
qryData := TADOQuery.Create(nil);
qryData.ConnectionString := 'Provider=Microsoft.Jet.OLEDB.4.0; Data Source=' + ExtractFilePath(Application.ExeName) + 'data.mdb';
qryData.SQL.Add('SELECT dept_name,2005 as [2005],2006 as [2006],2007 as [2007],'+
               '2008 as [2008],2009 as [2009],2010 as [2010], 2011 as [2211] FROM SALES');
qryData.Active := True;

DBChart1.Title.Text.Clear;
DBChart1.Title.Text.Add('Department Wise Sales Report');
DBChart1.Title.Font.Size := 14;
DBChart1.LeftAxis.Title.Font.Size := 12;   
DBChart1.LeftAxis.Title.Caption := 'Sales in Rs.';
DBChart1.BottomAxis.Title.Font.Size := 12;
DBChart1.BottomAxis.Title.Caption := 'Department Name';

//Charting Series
   //To Remove Old Series
for intCnt := DBChart1.SeriesCount -1 downto 0 do
   DBChart1.Series[intCnt].Free;
   //To Add New Series
for intCnt := 1 to qryData.FieldCount - 1 do begin
   strlstField.Add(qryData.FieldList[intCnt].FieldName);
   DBChart1.AddSeries(TBarSeries.Create(nil));
end;
   //To set source for Series
for intCnt:= 0 to DBChart1.SeriesCount -1 do begin
   with  DBChart1 do begin
      Series[intCnt].Clear;
      Series[intCnt].Title := strlstField[intCnt];
      Series[intCnt].ParentChart := DBChart1;
      Series[intCnt].DataSource := qryData;
      Series[intCnt].XLabelsSource := 'dept_name';
      Series[intCnt].YValues.ValueSource := strlstField[intCnt];
   end;
end; 
```

问题：当我更改数据库中的数据并重新运行时，应用程序图表保持不变。在图表系列中没有进行反射。上面的代码有什么错误吗？ ![在此处输入图像描述](../Images/d7464e6ede098b9a2d5ac480f7e47360.png)

另一个问题是，在图片中，系列的值是 2000，但我在数据库中添加了所有高于 20,000 的值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:00:58.750

SELECT 语句传递的是整数，而不是字段名，这就是为什么它们都在 2,000 左右的原因——因为那是作为整数的年份值。

您的字段实际上是否被称为`2005`等？如果是这样，您需要将字段名称括起来，以便将它们视为字段名称而不是整数：

```
qryData.SQL.Add('SELECT dept_name, [2005] as [2005], [2006] as [2006], [2007] as [2007], ' +
    '[2008] as [2008], [2009] as [2009], [2010] as [2010], [2011] as [2011] FROM SALES'); 
```

另请注意，您`2011`错误地使用了别名`2211`（在我的上面已修复）。

# ios - 向 coreData 中的实体添加浮点属性，并在每次添加新对象时递增它

> ID：13245916
> 
> 赞同：1
> 
> 时间：2012-11-06T06:55:20.280
> 
> 标签：ios, ios5, core-data

我是 coreData 的新手，我正在开发一个示例应用程序，在该示例应用程序中，我向一个名为“Test”的实体添加了一个名为 displayOrder 的浮点类型属性。我想在添加每个测试对象时增加这个显示顺序。为此，我编写了以下代码，但它不起作用，我想知道我哪里出错了

```
- (void)insertNewObject:(NSString *)fileName
{    
    Test *testName = [NSEntityDescription insertNewObjectForEntityForName:@"Test" inManagedObjectContext:self.managedObjectContext];

    [testName setName:fileName];

    NSManagedObject *lastObject = [self.controller.fetchedObjects lastObject];
    float lastObjectDisplayOrder = [[lastObject valueForKey:@"displayOrder"] floatValue];
    NSLog(@"%f",lastObjectDisplayOrder);
    [testName setValue:[NSNumber numberWithDouble:lastObjectDisplayOrder + 1.0] forKey:@"displayOrder"];

    // Save the context.
    NSError *error = nil;
    if (![self.managedObjectContext save:&error]) {
        // Replace this implementation with code to handle the error appropriately.
        // abort() causes the application to generate a crash log and terminate. You should not use this function in a shipping application, although it may be useful during development. 
        NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
        abort();
    }
} 
```

实际上，问题是它第一次递增，即从 0 到 1，但在此之后我总是得到 1。

问候兰吉特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T07:19:48.267

您的问题可能与您加载 lastObject 的部分有关，您可能不会更新 fetchedresultscontroller，我建议创建一个 iVar 并在 init 或 viewDidLoad 上分配值，然后使用该 iVar 更新并获得正确的值，如果您不为此使用小数，并且只需要顺序，那么整数应该会更好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T08:26:50.843

您可以使用核心数据聚合函数来获取最大 displayOrder 值。

就像是：

```
- (NSNumber *)nextDisplayOrder {
    NSManagedObjectContext *context = self.managedObjectContext;

    NSEntityDescription *entityDescription = [NSEntityDescription entityForName:@"Test" inManagedObjectContext:context];
    NSFetchRequest *request = [[NSFetchRequest alloc] init];
    [request setEntity:entityDescription];
    [request setResultType:NSDictionaryResultType];

    NSExpression *keyExpression = [NSExpression expressionForKeyPath:@"displayOrder"];
    NSExpression *maxExpression = [NSExpression expressionForFunction:@"max:" arguments:[NSArray arrayWithObject:keyExpression]];

    NSExpressionDescription *description = [[NSExpressionDescription alloc] init];
    [description setName:@"maxDisplayOrder"];
    [description setExpression:maxExpression];
    [description setExpressionResultType:NSFloatAttributeType];

    [request setPropertiesToFetch:[NSArray arrayWithObject:description]];

    NSError *error = nil;
    NSArray *results = [context executeFetchRequest:request error:&error];
    if (results.count == 1) {
        NSNumber *maxDisplayOrder = [[results objectAtIndex:0] valueForKey:@"displayOrder"];
        return [NSNumber numberWithFloat:[maxDisplayOrder floatValue] + 1.f];
    } else {
        NSLog(@"Could not get next displayOrder. Error: %@", error);
    }

    return nil;
} 
```

一些附加说明：

*   对于像 displayOrder 这样的离散值使用整数而不是浮点数
*   这个样板代码可以用[MagicalRecord](https://github.com/magicalpanda/MagicalRecord)写成两行，所以你可能想检查一下
*   [有关聚合函数的更多信息](http://brianflove.com/2012/09/26/core-data-aggregate-functions/)

# c# - DataContract 运行时错误 - 无法序列化类型“myType”。我做错了什么？

> ID：13245917
> 
> 赞同：2
> 
> 时间：2012-11-06T06:55:22.307
> 
> 标签：c#, wcf, serialization, exception-handling, datacontract

尝试传递包含带有接口和接口/类列表的原始类型的“复杂”类类型。

我猜有问题的成员是：

```
public List<IMyInterface> IntrfList 
```

运行时错误：

> 接收对 http:/localhost/xxxxxx/xxxxxService.svc 的 HTTP 响应时出错。这可能是由于服务端点绑定未使用 HTTP 协议。这也可能是由于服务器中止了 HTTP 请求上下文（可能是由于服务关闭）。有关更多详细信息，请参阅服务器日志。

来自 MS 服务跟踪查看器 (SvcTraceViewer) 的描述性错误：

> 无法序列化类型“myType”。考虑使用 DataContractAttribute 属性对其进行标记，并使用 DataMemberAttribute 属性标记您想要序列化的所有成员。如果该类型是一个集合，请考虑使用 CollectionDataContractAttribute 对其进行标记。有关其他支持的类型，请参阅 Microsoft .NET Framework 文档。

我按照解释的建议做了，但没有帮助。

“共享”类：

```
[System.Runtime.Serialization.DataContract]
    public class ServerState
    {
        private Queue<IJob> _mWaitingQueue;
        public Queue<IJob> mWaitingQueue
        {
            get
            {
                lock (_LockObjWaiting)
                {
                    return _mWaitingQueue;
                }
            }
            private set
            {
                _mWaitingQueue = value;
            }
        }
        private object _LockObjWaiting = new object();

        private List<IJob> _mInPrograssList = new List<IJob>();

        [DataMember]
        public List<IJob> mInPrograssList
        {
            get
            {
                    return _mInPrograssList;
            }
            private set
            {
                _mInPrograssList = value;
            }
        }
} 
```

IJob 是一个接口。IJob 的结构是这样的：

```
IJob (Interface)
  - JobBase (Abstract class)
    - JobA (Driven from JobBase)
    - JobB (Driven from JobBase) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T07:48:06.523

好的，明白了！

我在我的博客中发布了解决方案：http: [//livshitz.wordpress.com/2012/11/06/wcf-serialization-datacontract-runtime-error-type-mytype-cannot-be-serialized/](http://livshitz.wordpress.com/2012/11/06/wcf-serialization-datacontract-runtime-error-type-mytype-cannot-be-serialized/)

在与“共享”课程的所有可能部分进行斗争和削减之后，我到了有问题的地方。

问题是我使用接口作为成员（或..列表），它与驱动类相关联。

就是这样！序列化程序在确定如何序列化该成员时遇到问题，因此这是解决方案：

在即将通过 WCF 序列化和共享的类中使用接口作为成员（或接口列表）时，*共享*类必须通过添加来指定接口的*可能*类型：

```
[System.Runtime.Serialization.KnownType(typeof(JobA))]
[System.Runtime.Serialization.KnownType(typeof(JobB))] 
```

并且每种类型都必须标有：

```
[System.Runtime.Serialization.DataContract] 
```

注意：由于 JobBase 是抽象的，没有理由用 KnownType 标记它...

而已。

# javascript - 如何在js中解析json？

> ID：13245918
> 
> 赞同：1
> 
> 时间：2012-11-06T06:55:08.697
> 
> 标签：javascript, json

我需要像`{"key1":"val1","key2":"val2","key3":"val3"}`循环一样解析一个json对象。

试：

```
var inobj = '[{"key1":"val1","key2":"val2","key3":"val3"}]';
var obj = eval(inobj);
    for (var i = 0; i < 3; i++) {
        var key = i;
        var val = obj[key];
        alert (key+' = '+val);
    } 
```

但我不知道很热`obj.length`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T06:56:53.563

```
var obj = JSON.parse('{"key1":"val1","key2":"val2","key3":"val3"}');

Object.keys(obj).forEach(function (key) {
    alert(key + " = " + obj[key]);
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T06:57:14.523

您可以计算属性：

```
Object.keys(obj).length 
```

请参阅堆栈问题：[如何有效地计算 JavaScript 中对象的键/属性的数量？](https://stackoverflow.com/questions/126100/how-to-efficiently-count-the-number-of-keys-properties-of-an-object-in-javascrip)

# events - jQuery更改事件不会从键盘触发？

> ID：13245922
> 
> 赞同：5
> 
> 时间：2012-11-06T06:55:51.240
> 
> 标签：events, dom, jquery-selectors, jquery

我有这个`dropdown`，我想在它的值改变时提醒/记录一些东西。当我`dropdown`用鼠标单击并选择任何其他值时，会触发更改事件。但是，当焦点在 中时`dropdown`，我按下`up`和`down`箭头，它会更改下拉列表中的值，但不会触发事件，并且现在会显示警报。这是代码

```
<select id="drpDay" name="drpDay" style="background-color: white;">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7" selected="selected">7</option>    
    </select>
</br>
<select id="drpMonth" name="drpMonth" style="background-color: white;">
        <option value="Jan">Jan</option>
        <option value="Feb">Feb</option>
        <option value="Mar">Mar</option>
        <option value="Apr">Apr</option>
        <option value="May">May</option>
        <option value="Jun">Jun</option>
        <option value="Jul">Jul</option>
        <option value="Aug">Aug</option>
        <option value="Sep">Sep</option>
        <option value="Oct">Oct</option>
        <option value="Nov" selected="selected">Nov</option>
        <option value="Dec">Dec</option>    
    </select>
</br>
<label id="lbl" text="" width="auto">adsf</label> 
```

js是

```
$('#drpDay, #drpMonth').change(function(event) {
    alert(event.which);
    $('#lbl').text('change ' + event.which + ' and ' + $(event.target).attr('id'));
}); 
```

这是小提琴[http://jsfiddle.net/2NBPx/4/](http://jsfiddle.net/2NBPx/4/)

What I want is when the value in select box changes, event by pressing `up`and/or `down`arrow, I want that event to be fired. 为什么不触发，如何在键盘更改时触发？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-06T07:04:19.193

将其绑定到 keyup 并更改如下：http: [//jsfiddle.net/2NBPx/6/](http://jsfiddle.net/2NBPx/6/)

```
$('#drpDate, #drpMonth').on('change keyup',function(event) {
    if($(this).data('last') !== $(this).val()){
        $(this).data('last', $(this).val());            
        $('#lbl').text('For change ' + event.which + ' and you ' + $(event.target).attr('id'));
    }
}); 
```

UPDATE: 仅在发生实际更改时触发。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T07:21:41.263

以下将确保无论何时通过键盘或鼠标**选择更改，都会触发更改事件。**

```
var prevValue = null;

$('#drpDay').change(function() {
    console.log('changed');
    prevValue = this.value;
});

$('#drpDay').keyup(function() {
    if(prevValue != this.value) {
        $(this).trigger('change');
    }
}); 
```

检查这个**演示**：http: [//jsfiddle.net/ZCxe8/](http://jsfiddle.net/ZCxe8/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-06T07:21:01.960

你使用的是什么浏览器 ？

在我的 Chrome 和 IE9 中，您提供的小提琴可以在键盘上正常使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-06T07:04:42.847

您可以结合`change`and`keyup`事件。如果您的事件处理程序只应在值实际更改时才执行他的工作，那么您将不得不在其中添加更多逻辑（记住旧值，比较，行动，...）

```
$('#drpDay, #drpMonth').on("change keyup", function(event) {
    //...
}); 
```

# ios - Xcode 错误命令 /Applications/Xcode.app/Contents/Developer/usr/bin/momc 失败，退出代码为 1

> ID：13245927
> 
> 赞同：2
> 
> 时间：2012-11-06T06:56:03.843
> 
> 标签：ios, xcode

DataModelCompile /Users/maxxx/Library/Developer/Xcode/DerivedData/Pectopatop-axonkvxdjwugklfuanzpglrsyquj/Build/Products/Debug-iphoneos/Pectopatop.app/XMPPRoster.mom Pectopatop/../../Libraries/XMPPFramework/Extensions/Roster/CoreDataStorage /XMPPRoster.xcdatamodel cd /Users/maxxx/ios/Pectopatop setenv PATH "/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/ usr/bin:/usr/bin:/bin:/usr/sbin:/sbin" /Applications/Xcode.app/Contents/Developer/usr/bin/momc -XD_MOMC_SDKROOT=/Applications/Xcode.app/Contents/Developer/平台/iPhoneOS.platform/Developer/SDKs/iPhoneOS6.0.sdk -MOMC_PLATFORMS iphonesimulator -MOMC_PLATFORMS iphoneos /Users/maxxx/ios/Pectopatop/Pectopatop/../../Libraries/XMPPFramework/Extensions/Roster/CoreDataStorage/XMPPRoster。xcdatamodel /Users/maxxx/Library/Developer/Xcode/DerivedData/Pectopatop-axonkvxdjwugklfuanzpglrsyquj/Build/Products/Debug-iphoneos/Pectopatop.app/XMPPRoster.mom

命令 /Applications/Xcode.app/Contents/Developer/usr/bin/momc 失败，退出代码为 1

问题是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-07T13:05:21.287

对于未来的问题，我有这个，这是因为我为两个对象设置了相同的出口。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T07:03:06.350

我怀疑您仍在引用不再存在的派生数据。

从 *.xcdatamodelid 目录中删除所有未在 XCode 中显示的 *.xcdatamodel 目录。这些目录出现在 XCode 中 *.xcdatamodel 重命名之后。

只需在终端中或通过 Finder 中的显示包内容菜单即可完成删除。

但是，为了获得更清晰的图像，您可以：

转到 Build->Build Results 或点击 shift-command-B。错误消息的最右侧有一个图标，看起来像一堆水平线。单击它或选择“所有消息”。

如果您仍然不明白，您可以：

```
cd /var/log
cat system.log 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-24T20:45:05.910

好的，所以基本上我为解决这个问题所做的工作是，我制作了我以前的、无法正常工作的数据模型的屏幕截图，将其从项目中删除到垃圾箱..并从头开始使用相同的属性再次创建它，并且我以前的名字。当我再次构建应用程序时，不再出现错误。

希望这会有所帮助，我在 5 分钟内完成了 2 个实体。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T09:46:37.880

另一个原因可能是：将二进制文件与库链接可能包含磁盘上不存在的文件。

问候， 阿南德·乔贝

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-01-08T19:53:04.550

我遇到了导致此问题的损坏框架的问题（对我来说是 PaddleMas 1.18）

尝试删除您正在使用的每个框架，看看这个问题是否会永久消失。我可以通过使用 clean build folder 命令暂时消除此错误（按 alt 并转到产品菜单并选择`clean build folder`）

永久修复是删除有问题的框架，但我看到其他图像损坏的框架也导致了这种情况。

希望这可以帮助！

# yii - 为什么我们在 action admin 中使用 $model = new ModelName('search')？

> ID：13245928
> 
> 赞同：2
> 
> 时间：2012-11-06T06:56:30.587
> 
> 标签：yii

即使我们正常创建对象，它也可以在操作 admin 中工作，那么为什么我们在创建对象时使用搜索参数？

我不明白以下代码的用法，这些代码`id`在创建`modelobject`类似内容时与搜索一起发送

```
$model=new ModelName('search&id='.$_GET['id']); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T07:25:45.217

该参数意味着模型场景，它告诉模型在任何需要场景的地方使用哪个场景，比如验证。这里的文档说：

> __construct() 方法 public void __construct(string $scenario='insert') $scenario 字符串场景名称。有关此参数的更多详细信息，请参阅 CModel::scenario。

以及有关文档的`CModel::scenario`文档：

> **场景属性**public string getScenario() public void setScenario(string $value)
> 
> 返回使用此模型的场景。
> 
> 场景会影响验证的执行方式以及可以大量分配哪些属性。
> 
> 如果未设置 'on' 选项或包含当前场景值，则在调用 validate() 时将执行验证规则。
> 
> 如果属性与当前场景的验证规则相关联，则可以大量分配属性。请注意，一个异常是不安全的验证器，它将关联的属性标记为不安全并且不允许被大量分配。

简单地说，这意味着创建新模型并告诉它我们正在搜索场景中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T07:25:40.520

因此，您想将值传递给模型中的 Search 方法吗？调用方法时：

```
$model = new ModelName::model()->search($_GET['id']); 
```

并在`search()`模型中的方法中，修改如下：

```
public function search($id){
    ...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-04T10:39:55.837

如果您`zii.widgets.grid.CGridView`在视图中使用，则可以将参数传递为

`'dataProvider'=>$model->search($id)`并在模型中的搜索场景中接受此参数。

# scala - 从配对列表中删除

> ID：13245933
> 
> 赞同：-3
> 
> 时间：2012-11-06T06:56:24.000
> 
> 标签：scala

`y`我有一个从 list中删除一个列表的功能`x`。前提条件是出现列表`y`是`x`- 任何出现在 中的字符都`y`必须出现在 中的子集`x`，并且其出现在 中的频率`y`必须 <= 在 中出现的频率`x`。

结果值是一个事件 - 意味着它已排序并且没有零条目。

这是我的原始代码。这是针对 Scala progfun 作业的，现在我只是好奇正确答案是什么。

```
type Occurrences = List[(Char, Int)]

def subtract(x: Occurrences, y: Occurrences): Occurrences = x filterNot (y contains) 
```

它必须通过以下单元测试。

测试 1

```
 test("subtract: lard - r") {
    val lard = List(('a', 1), ('d', 1), ('l', 1), ('r', 1))
    val r = List(('r', 1))
    val lad = List(('a', 1), ('d', 1), ('l', 1))
    assert(subtract(lard, r) === lad)
  } 
```

测试 2

```
// subtract: jimmy - my
List((i,1), (j,1), (m,1), (y,0)) did not equal List((i,1), (j,1), (m,1)) 
```

测试 3

```
//subtract: ok - ok
List((k,0), (o,0)) did not equal List() 
```

测试 4

```
//subtract: abba - abba
List((a,0), (b,0)) did not equal List() 
```

测试 5

```
//subtract: assessment - assess 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T23:23:57.623

如果我正确理解了分配，则有必要减去计数。我的尝试是这样的：

```
def subtract(x: Occurrences, y: Occurrences): Occurrences = {
  val my = y.toMap
  x.map(occ => (occ._1, occ._2 - (my.get(occ._1) getOrElse 0) ))
   .filter(_._2 > 0)
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T07:18:59.703

如果您的意思是要删除其左侧与 y 的任何元素的左侧相等的元素，则以下代码会执行此操作。

```
def subtract(x: Occurrences, y: Occurrences): Occurrences = 
  x filterNot (y.map(_._1) contains _._1) 
```

# c# - JSON对象序列化和反序列化

> ID：13245940
> 
> 赞同：1
> 
> 时间：2012-11-06T06:56:49.787
> 
> 标签：c#, xml, json, serialization

> 1：我有一个 XML 对象，我将其序列化并存储在隐藏字段中。
> 
> 2：然后我反序列化字符串并将其放入 xml 对象中并检索值并将它们存储在数据库中。

以上工作正常。

但是现在我面临这样一种情况，即通过 jQuery ajax 我得到了 JSON 格式的相同对象。

> 问题：
> 
> 1：如果我再次对 JSON 对象进行序列化和反序列化，则必须根据 JSON 对象再次编写要保存到数据库中的代码。
> 
> 2：旧的 IE 浏览器不支持 JSON.stringify。

请建议我应该如何处理这种情况。

> > 我应该在 jQuery ajax 调用之后将 JSON 转换为 XML 吗？
> > 
> > 我应该编写代码来分别保存 XML 和 JSON 格式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:39:24.720

检查[json2.js](https://github.com/douglascrockford/JSON-js)作为替代方式。此集合中的大多数文件适用于预期在过时的 Web 浏览器中运行的应用程序。对于大多数用途，json2.js 是最佳选择。

您应该在其他线程中查看此帖子

[JavaScript 中 JSON.stringify() 的替代方案](https://stackoverflow.com/questions/1480393/alternatives-of-json-stringify-in-javascript)

# java - Java - SimpleDateFormat 将 12:19:00 解析为 00:19:00

> ID：13245944
> 
> 赞同：5
> 
> 时间：2012-11-06T06:57:06.763
> 
> 标签：java, datetime, simpledateformat

我正在尝试解析迄今为止的字符串，但输出看起来不正确：以下是我的代码。

```
public static void main(String[] args){      
  Date startDate = new Date();      
  DateFormat formatter = new SimpleDateFormat("dd.MM.yyyy hh:mm:ss");

  try {
    startDate = (Date) formatter.parse("07.10.2012 12:19:24");
  } catch (ParseException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
  }

  System.out.println("Formatted Date " + startDate.toString());
} 
```

程序输出：
格式化日期 Sun Oct 07 **00** :19:24 IST 2012

预期输出：
格式化日期 Sun Oct 07 **12** :19:24 IST 2012

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-06T06:59:56.790

您可能想使用 24h 格式而不是 12h 格式...

> 小时 (0-23) 数字 0
> 
> 小时（上午/下午） (1-12) 第 12 号

是的，格式化字符区分大小写。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-06T06:59:47.263

hh 是当你在做 am / pm 时，你需要 HH

# android - android : 绘制可点击的地图

> ID：13245946
> 
> 赞同：1
> 
> 时间：2012-11-06T06:57:33.757
> 
> 标签：android, android-layout, onclicklistener, ondraw

我想创建一个显示国家地图的活动。我想让每个区域都可以点击。

![在此处输入图像描述](../Images/bd27bda47715a8f7d7e9b0360338e7d9.png)

我首先尝试使用 SVG 数据/javascript（[请参见此处](http://lab.proov.fr/carte_france_svg/demo.html)）绘制地图并将其放入 WebView。但是，矢量库不适用于大多数 android 设备。

最好的解决方案似乎是将区域的图像（位图格式）堆积起来并使其可点击，但我不知道该怎么做。

很抱歉我的解释很粗鲁

谢谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:20:32.943

使您的地图成为 SurfaceView 的子类以绘制地图并覆盖 onTouchEvent() 过滤以获取单击的 (x,y) 坐标。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T07:27:45.170

您可以将**透明网格***重叠*到地图上。网格由“触敏”图块组成。瓷砖尺寸必须足够小以填满地图的每个区域。每个区域将包含一定数量的瓷砖。您需要将每组瓦片关联到包含区域。然后，每次点击图块时，您都可以关联正确的区域。

 ****编辑**：平铺定义示例

```
public class MapView extends ViewGroup {

    // Tile definition
    //
    static enum Tile {

      T_00 (30, Region.region_a), T_01 (31, Region.region_a)
    , ...
    , T_328 (288, Region.region_h);

        private final int id;
        private final Rg region;

        Tile ( int id, Rg region ) {
            this.id = id;
            this.region = region;
        }

        public int getId() { return id; }
        public Rg  getRg() { return region; }

    }

// Implementation of MapView Class
... 
```

**ps.：**我的回答中描述的实现只是可能的实现之一。您可以根据需要创建自己的实现。**

# c# - 如何在 C# 中保存和重用 Cookie？

> ID：13245952
> 
> 赞同：1
> 
> 时间：2012-11-06T06:57:51.210
> 
> 标签：c#, http, cookies, cookiecontainer

我正在尝试在使用 Web 服务的 c# 应用程序中使用 cookie。登录方法有效，但是当我尝试使用更改密码方法时，它会给出 401 状态码。

**HTTP.cs**

```
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Net;
using System.Text;
using System.Threading.Tasks;
using System.Web;
using System.Web.Security;

namespace RemoteSynchronizer
{
    class HTTP
    {
        HttpWebRequest request = null;
        public static CookieContainer contain;

        public HTTP()
        {
            contain = new CookieContainer();
        }

        public int postData(string url, StringBuilder data)
        {

            int status;
            Uri address = new Uri(url);

            request = WebRequest.Create(address) as HttpWebRequest;
            request.CookieContainer = contain;

            request.Method = "POST";
            request.ContentType = "application/x-www-form-urlencoded";
            request.KeepAlive = true;

            byte[] byteData = UTF8Encoding.UTF8.GetBytes(data.ToString());

            request.ContentLength = byteData.Length;

            using (Stream postStream = request.GetRequestStream())
            {
                postStream.Write(byteData, 0, byteData.Length);
            }

            using (HttpWebResponse response = request.GetResponse() as HttpWebResponse)
            {
                status = (int)response.StatusCode;
            }

            return status;
        }

/// <summary>
/// /////////////////////////
/// </summary>
/// <param name="url"></param>
/// <param name="data"></param>
/// <returns></returns>
/// 

        public int change(string url, StringBuilder data)
        {
            int status;
            Uri address = new Uri(url);

            request = WebRequest.Create(address) as HttpWebRequest;

            request.Method = "POST";
            request.ContentType = "application/x-www-form-urlencoded";
            request.Credentials = CredentialCache.DefaultCredentials;
            request.CookieContainer = contain;

            byte[] byteData = UTF8Encoding.UTF8.GetBytes(data.ToString());

            request.ContentLength = byteData.Length;

            using (Stream postStream = request.GetRequestStream())
            {
                postStream.Write(byteData, 0, byteData.Length);
            }

            using (HttpWebResponse response = request.GetResponse() as HttpWebResponse)
            {
                status = (int)response.StatusCode;
            }

            return status;
        }
    }
} 
```

如何保存 cookie 以便在其他课程中重复使用？

# javascript - java脚本中的单选按钮检查

> ID：13245954
> 
> 赞同：0
> 
> 时间：2012-11-06T06:58:00.533
> 
> 标签：javascript, jquery

这是我的单选按钮，当我单击提交按钮时，我想通过警报从列表中获取值，但值没有出现

`<asp:RadioButtonList ID="Titlerbl" runat="server" CssClass="tit" RepeatDirection="Horizontal" ValidationGroup="grt"> <asp:ListItem>MR</asp:ListItem><asp:ListItem>MS</asp:ListItem> <asp:ListItem>DR</asp:ListItem> </asp:RadioButtonList>`

这是java脚本

```
var radio = document.getElementById("Titlerbl").value;
 for (var j = 0; j < radio.length; j++)
 {
        if (radio[j].checked)
            alert(radio[j].value);
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T07:04:31.753

```
var radio = document.getElementById("Titlerbl").value; 
```

应该改为

```
var radio = document.getElementById("Titlerbl"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T07:17:07.043

首先在您的标记中，您为容器列表分配 id，而不是为单选按钮元素分配 id。

所以渲染的 HTML 看起来像

```
<table id="Titlerbl">
    <tr>
        <td>
            <input id="Titlerbl_0" type="radio" name="radiolist1" value="Item 1" checked="checked">
            <label for="Titlerbl_0">Item 1</label>
        </td>
    </tr>
    <tr>
        <td>
            <input id="Titlerbl_1" type="radio" name="radiolist1" value="Item 2">
            <label for="Titlerbl_1">Item 2</label>
        </td>
    </tr>
</table> 
```

所以你可以使用 jquery 使用：

```
<script>
    $(document).ready(function(){
       var value = $('#Titlerbl input[type=radio]:checked').val();
       alert(value);
    })
</script> 
```

# ms-access - MS Access：根据表的字段值隐藏对象

> ID：13245962
> 
> 赞同：0
> 
> 时间：2012-11-06T06:58:39.877
> 
> 标签：ms-access, vba

我有一个直接基于表格的 Microsoft Access 报告。在那份报告中，我有一个对象，一条线，我已经使它不可见。

如果表的一个字段中的值为 100，如何使该行可见？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T09:23:43.503

该`Detail`部分有一个`Format`事件，您可以在其中将行设置为可见：

```
Private Sub Detail_Format(Cancel As Integer, FormatCount As Integer)
    Line1.Visible = Field1 > 100
End Sub 
```

请记住，对于更复杂的计算，`Format`事件可能会被触发多次（取决于 Access 必须重新计算页面布局的次数，这将受到 CanShrink 和 CanGrow 等因素的影响）。`FormatCount`有当前通话的号码。

还有一个`Print`事件在 Access 实际准备好打印/预览之前触发。两者之间的一个区别是，`Print`只有在实际要打印该部分时才会触发 - 如果您只打印报告的最后一页，`Format`则将为所有前面的部分触发事件，但不会触发`Print`事件。

我假设如果您通过说`Print`取消事件也不会触发该事件。`Format``Cancel = True`

参考：

*   [OnFormat 属性](http://msdn.microsoft.com/en-us/library/office/ff844931.aspx)
*   [OnPrint 属性](http://msdn.microsoft.com/en-us/library/office/ff836969.aspx)

（我在 Access 2010 参考中找不到 Format 和 Print 事件的文档，因为文档是按对象排序的，而这些事件属于隐藏`_SectionInReport`对象。）

*   [格式化事件 (Access XP)](http://msdn.microsoft.com/en-us/library/office/aa165406%28v=office.10%29.aspx)
*   [打印事件 (Access XP)](http://msdn.microsoft.com/en-us/library/office/aa141179%28v=office.10%29.aspx)

*   [OnFormat 和 OnPrint 之间到底有什么区别？](http://www.utteraccess.com/forum/difference-OnFormat-t1449302.html)

# java - 如何以编程方式打印 Jasper 报告

> ID：13245964
> 
> 赞同：4
> 
> 时间：2012-11-06T06:58:44.213
> 
> 标签：java, printing, jasper-reports

我必须编写一个代码来生成包含图像的 Jasper 报告。我想将碧玉报告发送到打印机。我尝试了一个代码：

```
 String Report = "C:\\Template\\"+file_name+".jrxml";//my Jasper report file
    JasperPrint print = JasperFillManager.fillReport(Report,null,con);
    PrinterJob job = PrinterJob.getPrinterJob();
    /* Create an array of PrintServices */
    PrintService[] services = PrintServiceLookup.lookupPrintServices(null, null);
    int selectedService = 0;
    /* Scan found services to see if anyone suits our needs *
    for(int i = 0; i < services.length;i++)
    {
        if(services[i].getName().toUpperCase().contains("Your printer's name"))
        {
            /*If the service is named as what we are querying we select it */
                 selectedService = i;
        }
    }
    job.setPrintService(services[selectedService]);
    PrintRequestAttributeSet printRequestAttributeSet = new HashPrintRequestAttributeSet();
    MediaSizeName mediaSizeName = MediaSize.findMedia(4,4,MediaPrintableArea.INCH);
    printRequestAttributeSet.add(mediaSizeName);
    printRequestAttributeSet.add(new Copies(1));
    JRPrintServiceExporter exporter;
    exporter = new JRPrintServiceExporter();
    exporter.setParameter(JRExporterParameter.JASPER_PRINT, print);
    /* We set the selected service and pass it as a paramenter */
    exporter.setParameter(JRPrintServiceExporterParameter.PRINT_SERVICE, services[selectedService]);
    exporter.setParameter(JRPrintServiceExporterParameter.PRINT_SERVICE_ATTRIBUTE_SET, services[selectedService].getAttributes());
    exporter.setParameter(JRPrintServiceExporterParameter.PRINT_REQUEST_ATTRIBUTE_SET, printRequestAttributeSet);
    exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PAGE_DIALOG, Boolean.FALSE);
    exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PRINT_DIALOG, Boolean.TRUE);
    exporter.exportReport(); 
```

但它给了我错误：

```
 net.sf.jasperreports.engine.JRException: Error loading object from file : C:\Template\Alcon_Ele_Temp1.jrxml 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-02T16:09:49.477

您必须加载碧玉打印而不是碧玉 xml。有一个页面可以帮助你[http://jasperreports.sourceforge.net/sample.reference/printservice/index.html](http://jasperreports.sourceforge.net/sample.reference/printservice/index.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-10-26T13:08:11.073

首先，您在打印按钮路径 url 中创建一个控制器并创建一个方法。

@RequestMapping(value = "/Print_url_link", method = RequestMethod.GET) public ModelAndView methodName(Model m, @RequestParam(name = "para1") String para1) {

```
 Map<String, Object>     inputData       =   new HashMap<String, Object>();
    Map<String, Object>     returnData      =   new HashMap<String, Object>();
    Map<String, Object>     jasperParameterMap  =   new HashMap<String, Object>();

    putData.put("productionID", productionID);

    returnData = serviceName.methodName(inputData); 
```

//创建服务和服务Impl并创建您希望列表使用它的列表。在列表下方，我在列表中添加 0 索引，因为在 jasper 报告中始终列出从索引 1 开始。

```
 List<Record> list = (List<Record>) returnData.get("RecordList");
    list.add(0, new Record()); 
```

JRDataSource JRdataSource = new JRBeanCollectionDataSource(list);

// JRDataSource 接口代表 JasperReports 数据源的抽象表示。所有数据源类型都必须实现此接口。包装 JavaBean 对象集合的数据源实现。

通过 EJB、Hibernate 或 JDO 等对象持久层访问应用程序数据是很常见的。此类应用程序可能需要使用它们已经作为数组或内存中 JavaBean 对象集合可用的数据来生成报告。

```
 jasperParameterMap.put("ListObjectName", JRdataSource); 

    ModelAndView modelAndView = new ModelAndView("jrxmlviewName", jasperParameterMap);  

    return modelAndView; 
```

}

现在 Jasper 视图 XML 映射

```
<bean id="jrxmlviewName"
    class="org.springframework.web.servlet.view.jasperreports.JasperReportsPdfView"
    p:url="classpath:com/report/jrxmlviewName.jrxml" /> 
```

而现在在jrxml中使用参数查看jasper报告中的数据。对不起英语

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-30T20:29:44.673

您需要传递编译文件而不是 jrxml 文件。你可以用这种方式编译你的 jrxml 文件：

```
JasperReport report = JasperCompileManager.compileReport("C:\\Template\\"+file_name+".jrxml"); 
```

然后填写报告：

```
JasperPrint print = JasperFillManager.fillReport(report,null,con); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-06-01T13:15:03.077

Jasper Report 渲染库仅渲染生成的 .jasper 文件，仅编译 .jrxml 文件。

过程是：

1.  使用 JasperSoft IDE 设计 Jasper 报告。设计报告后，将创建一个扩展名为 .jrxml 的文件；也叫 jasper 报告模板
2.  创建 .jrxml 文件（报告模板）后，下一步是将其编译为 .jasper 文件。有两种编译方式，

    *   使用 JasperSoft 报表工作室编译
    *   有问题地使用 Java 代码（使用 Jasper 库）

    JasperCompileManager.compileReport("abc.xml");

一旦它被编译并创建了 .jasper，它就会被加载到 JasperFillManager 中进行打印。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2015-02-03T17:25:06.550

if 语句有问题。您在 if 语句中输入 /* 符号。

还要检查文件是否存在 C:/Templates/filename.jrxml

# javascript - 未定义为参数，赋值目标

> ID：13245965
> 
> 赞同：3
> 
> 时间：2012-11-06T06:58:27.743
> 
> 标签：javascript, undefined

基本上是两个问题，都与`undefined`.

Q1 为什么这会失败并出现参考错误：

```
function hello(a){
      return true;  
      }  
//var abc = undefined;
hello(abc); 
```

但这不是：

```
function hello(a){
      return true;  
      }  
var abc = undefined;
hello(abc); 
```

Q2 为什么这是一个有效的分配：

```
undefined = 10; 
```

但这些不是：

```
null = 10;
"hello" = 10;
10 = 10; 
```

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-06T07:05:09.563

在第一种情况下，您没有`'abc'`在全局对象上定义键，因此您在尝试访问它时遇到了引用错误。就像`'Name error'`在 ruby​​ 和 python 中说标识符是`undefined`.

这两个是等价的，它们都定义了`'abc'`全局对象上的键，在你的情况下是`window`.

```
var abc = undefined;
var abc; 
```

将 undefined 定义为标识符有效。它定义了 window.undefined 键而不是未定义的类型。这意味着：

```
undefined = 10;
var a;
alert(a); // Yeilds undefined
alert(window.undefined); // Yeilds 10 
```

为了执行未定义检查，请检查标识符的类型：

```
if (typeof identifier === 'undefined') // Performs undefined check 
```

因为：

```
if (identifier === undefined) // Gives us unexpected results 
// if undefined has been assigned to 
```

此外， undefined 不是原语。而`0`,`'string'`是原语。`null`是评论中指出的特殊单例对象。这些不是标识符，而是实际值，因此您不能按规范分配给它们。

**关于 NaN 的更新：**

NaN 略有不同，因为它是一个原始（数字）。尝试对 NaN 产量做同样的事情：

```
>> typeof NaN
"number"
>> NaN = 'a'
"a"
>> 0 === NaN
false
>> 'a' === NaN
false
>> typeof NaN
"number"
>> NaN
NaN 
```

# url - 如何阻止除 1 个类别之外的所有动态 URL

> ID：13245966
> 
> 赞同：1
> 
> 时间：2012-11-06T06:58:47.147
> 
> 标签：url, dynamic, block, robots.txt

我有一个网站：现在我们有很多动态页面[http://www.canvaschamp.com/](http://www.canvaschamp.com/)

我想阻止除 Flower Canvas 打印类别 (http://www.canvaschamp.com/photo-gallery/flowers) 之外的所有动态 URL

让我知道您对如何在**ROBOTS.TXT**中阻止除花卉类别以外的所有产品页面或任何其他方式的建议......

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T09:14:05.523

您需要禁止所有内容并排除 /photo-gallery/flowers，据我所知没有`Allow:`，也没有通配符（如`*`）。

```
User-agent: *
Disallow: /dir1/
Disallow: /dir2/
Disallow: /photo-gallery/dir1
Disallow: /photo-gallery/dir2 
```

# android - 从位于 AVD Emulator 中的 android 应用程序连接本地（主机）网络

> ID：13245970
> 
> 赞同：3
> 
> 时间：2012-11-06T06:59:29.603
> 
> 标签：android, emulation

我想用 Eclipse、Android 4.1.2 和 ADT 20 开发一个 android 应用程序。

该应用程序应该连接到本地网络 (10.10.xx) 上的 Oracle 数据库。

我不会使用 Oracle 移动服务器（可能在将来）。

我首先尝试使用 ojdbc14 连接 Oracle，就像我在以前的 Java 应用程序中所做的那样。

它没有用。

然后出于试用目的，我想对本地 PC 进行 ping 访问。它也没有用。在 eclipse 的运行配置中，我`-dns-server 10.10.X.X`在清单 xml 中添加并添加了必要的 uses-permission 标签。没有成功的连接。

我也尝试过端口重定向，但我不确定我是否正确。

如何从 AVD 模拟器上运行的 android 应用程序访问本地网络（我的 PC）？

# java - Bitset size() 和 length() 是什么意思，它们之间有什么区别？

> ID：13245981
> 
> 赞同：5
> 
> 时间：2012-11-06T07:00:18.710
> 
> 标签：java, bitset

我不太明白`size()`和`length()`in的不同含义`BitSet`。检查下面的代码：

```
public class Sandbox {

   public static void main(String argv[]) 
   {
       BitSet bitSet1 = new BitSet(16);
       bitSet1.set(0);
       bitSet1.set(8);
       bitSet1.set(15);
       displayBitSet(bitSet1);

   }

   static void displayBitSet(BitSet bitSet)
   {
       for(int i=0;i<bitSet.size();i++)
       {
           boolean bit = bitSet.get(i);
           System.out.print(bit?1:0);
       }
       System.out.println(" "+bitSet.size()+" "+bitSet.length());
   }

} 
```

输出是：

```
1000000010000001000000000000000000000000000000000000000000000000 64 16 
```

我以为我会得到类似的东西

```
1000000010000001 16 16 
```

这些尾随零来自哪里？谁可以给我解释一下这个？谢谢~~

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T07:08:14.040

答案很简单，`BitSet`构造函数只是说它生成了足够大到给定大小的东西，实际上它需要一些最匹配的内部大小。

在您的情况下，这是 64 位，请参阅[JavaDoc](https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-06T07:09:31.117

如果您看到 的文档[`BitSet#size`](http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html#size%28%29)，它会说：

> 返回此 BitSet 实际使用的空间位数，以表示位值。集合中的最大元素是大小 - 第一个元素。

对于[`BitSet#length`](http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html#length%28%29)：

> 返回此 BitSet 的“逻辑大小”：BitSet 中最高设置位的索引加一。如果 BitSet 不包含设置位，则返回零。

因此，`BitSet.length`如果您想获得`bits`bitset 中的实际数量，您应该使用 。因为，返回您的实例`BitSet.size`占用的内存。`BitSet`

另外，根据[文档](http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html#BitSet%28%29)：

> 请注意，大小与位集的实现有关，因此它可能会随着实现而改变

因此，当您在索引处设置大于指定长度的位时，您的大小为 64 位，它可以自动更改。

# python - 更新输出时的python子进程回调

> ID：13245984
> 
> 赞同：3
> 
> 时间：2012-11-06T07:00:44.583
> 
> 标签：python, asynchronous, websocket, subprocess, tornado

我正在使用龙卷风。我希望以下内容易于理解，它产生一个 tcproute 进程并将输出发送到 websocket 的另一端。

```
class TracerouteHandler(tornado.websocket.WebSocketHandler):
  def open(self,ip):
    p = subprocess.Popen(['traceroute',ip],stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    while p.poll() is None: #running
      line=p.stdout.readline()
      if line!=None and len(line)>0:
        self.write_message(json.dumps({'stdout':line})) 
    self.write_message(json.dumps({'stdout':'Done! For red marked ip addresses, the location couldn\'t be determined with <a href="http://hostip.info">hostip.info</a>. If you know the correct location, please update it there.'})) 
```

问题是由于`while p.poll() is None`循环，龙卷风块。此外，如果 p.stdout 中没有可读取的内容，则`p.stdout.readline`块。所以我想要某种回调机制，当我在`p.stdout`. 我怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:12:26.503

使用[`Queue`](http://docs.python.org/2/library/queue.html)Python 附带的非阻塞消息传递机制。

[这个答案](https://stackoverflow.com/questions/375427/non-blocking-read-on-a-subprocess-pipe-in-python/4896288#4896288)有一个非常好的实现，其中一个单独的线程从进程中读取输出行，并将它们写入队列。主线程可以以非阻塞方式从队列中读取。

感谢[Andrew](https://stackoverflow.com/users/513688/andrew)提供评论中的链接。

# css - 不透明度不适用于叠加

> ID：13245986
> 
> 赞同：0
> 
> 时间：2012-11-06T07:00:39.363
> 
> 标签：css

我正在尝试创建一个弹出叠加层，但我无法让蓝色叠加层变得不透明。红色显示通过。

```
<a href="www.google.com">hi</a>
<div class="dim">
    <div class="test">
        <div> test </div>
        <div> 2nd </div>        
    </div>
</div>​

.dim {
    height:100%;
    width:100%;
    position:fixed;
    left:0;
    top:0;
    background-color:red;
    opacity: 0.5;
}

.test {
    opacity: 1.0;
    border: solid;
    display: inline-block;
    background-color:blue;
    position: fixed;
    top: 50%;
    left: 50%;
    margin-top: -10px;
    margin-left: -10px;
} 
```

​jsfiddle [链接](http://jsfiddle.net/NVa65/9/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T07:06:20.130

把你的 html 写成 -

```
<a href="www.google.com">hi</a>
<div class="dim">   
</div>
<div class="test">
    <div> test </div>
    <div> 2nd </div>        
</div> 
```

[**更新小提琴**](http://jsfiddle.net/NVa65/11/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-06T07:06:49.143

简单的解决方法是进行复制和粘贴，将 .dim 放在 .test 之外。

[http://jsfiddle.net/NVa65/10/](http://jsfiddle.net/NVa65/10/)

从

```
<a href="www.google.com">hi</a>
<div class="dim">
    <div class="test">
        <div> test </div>
        <div> 2nd </div>        
    </div>
</div>​ 
```

到

```
<a href="www.google.com">hi</a>
<div class="dim">

</div>
<div class="test">
    <div> test </div>
    <div> 2nd </div>        
</div>
​ 
```

# json - 从 jsonArray 访问值时遇到问题

> ID：13245990
> 
> 赞同：0
> 
> 时间：2012-11-06T07:01:23.167
> 
> 标签：json

我正在使用 gson 解析 json 我有一个 com.google.gson.jsonArray

```
 JsonObject object = jelement2.getAsJsonObject().getAsJsonObject("fields");   
    JsonArray jArray = (JsonArray) object.get("entity_facets");

    Output of jArray is :
    [{"count":4,"entity":"Com","Company":[{"sector":"Communications","ticker":"VZ","entity":"Verizon","type":"BCap","instance":[{"count":1,"entity":"Verizon (VZ, Fortune 500)"}]},{"sector":"Technology","ticker":"AAPL","entity":"Apple","type":"BCap","instance":[{"count":1,"entity":"Apple (AAPL, Fortune 500)"}]},{"sector":"Communications","ticker":"T","entity":"AT&T","type":"BCap","instance":[{"count":1,"entity":"(T, Fortune 500)"},{"count":1,"entity":"AT&T"}]}]}] 
```

现在我想从 jArray 中提取 Company 下的数组

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T10:57:11.080

像这样添加

```
JsonObject jobject = jArray.get(0);
JsonArray CompanyArray = (JsonArray)jobject.getAsJsonArray(Company); 
```

您将从 jArray 获得公司数组。

# excel - 在excel表中将行号作为变量传递

> ID：13245996
> 
> 赞同：52
> 
> 时间：2012-11-06T07:01:39.357
> 
> 标签：excel, excel-formula

假设我有：

1.  价值 5 英寸`B1`
2.  我想将数字（5）`B1`作为行变量传递，它将与列一起读`A`入另一个单元格（例如`C1`）作为“=A（B1）”即“=A5”

我该怎么做？

* * *

## 回答 #1

> 赞同：74
> 
> 时间：2012-11-06T07:03:37.393

假设您的行号在 中`B1`，您可以使用`INDIRECT`：

```
=INDIRECT("A" & B1) 
```

这将单元格引用作为字符串（在本例中`A`为 - 5 的连接和值`B1`），并返回该单元格处的值。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-06T07:05:26.960

这应该可以解决问题！:)

```
B1 =ROW(A5) 
```

[http://www.techonthenet.com/excel/formulas/row.php](http://www.techonthenet.com/excel/formulas/row.php)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-11-06T14:17:51.383

另一种方法是使用 OFFSET：

假设列值存储在 B1 中，可以使用以下

```
C1 = OFFSET(A1, 0, B1 - 1) 
```

这通过以下方式起作用：

a) taking a base cell (A1)
b) adding 0 to the row (keeping it as A)
c) adding (A5 - 1) to the column

You can also use another value instead of 0 if you want to change the row value too.