# StackOverflow 问答 15240000-15240999

# android - 访问短信的用户数据头

> ID：15240001
> 
> 赞同：0
> 
> 时间：2013-03-06T05:56:14.557
> 
> 标签：android, header, sms

是否可以从短信中提取用户数据标头？如果是的话，关于如何进行的任何想法？另外，是否可以在发送短信之前更改数据标头？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:26:58.020

接收短信的源代码如下：

```
@Override
    public void onReceive(Context context, Intent intent) {
        Bundle extras = intent.getExtras();
        Log.i(LOG_TAG, "onReceive");
        if (extras == null)
            return;

        Object[] pdus = (Object[]) extras.get("pdus");

        for (int i = 0; i < pdus.length; i++) {
            SmsMessage message = SmsMessage.createFromPdu((byte[]) pdus[i]);
            String fromAddress = message.getOriginatingAddress();
            String messageBody = message.getMessageBody().toString();

            Log.i(LOG_TAG, "From: " + fromAddress + " message: " + messageBody);

            addNotification(context, fromAddress, messageBody);
        }
    } 
```

[所以，它是 byte[] 类型，所以如果你对用户数据标题](http://smstools3.kekekasvi.com/index.php?p=udh)中描述的 UDH 有很好的了解，我认为这是可能的。

# c++ - 使精灵在box2d中以一个角度反弹

> ID：15240002
> 
> 赞同：0
> 
> 时间：2013-03-06T05:56:18.620
> 
> 标签：c++, cocos2d-iphone, box2d

在我正在尝试制作的游戏中，由于 box2d，我有一个弹跳的球精灵。这是我当前代码的外观：

```
-(id)init
{
    ball = [CCSprite spriteWithFile:@"ball.png"];
    ball.position = ccp(150, winSize.height * 0.78);
    [self addChild:ball];
    ball.tag = 2;

b2BodyDef ballBodyDef;
ballBodyDef.type = b2_dynamicBody;
ballBodyDef.position.Set(150/PTM_RATIO, 450/PTM_RATIO);
ballBodyDef.userData = ball;
_body = _world->CreateBody(&ballBodyDef);

b2CircleShape circle;
circle.m_radius = 26.0/PTM_RATIO;

b2FixtureDef ballShapeDef;
ballShapeDef.shape = &circle;
ballShapeDef.density = 0.5f;
ballShapeDef.friction = 1.0f;
ballShapeDef.restitution = 1.0f;
_ballFixture = _body->CreateFixture(&ballShapeDef);

b2Vec2 force = b2Vec2(160, 375);
_body->ApplyLinearImpulse(force, ballBodyDef.position);}

- (void)update:(ccTime) dt {
if(_isPaused == FALSE)
{
    _world->Step(dt, 10, 10);
    for(b2Body *b = _world->GetBodyList(); b; b=b->GetNext()) {
        if (b->GetUserData() != NULL) {
            CCSprite *sprite = (CCSprite *)b->GetUserData();
            if(sprite.tag == 2)
            {
                sprite.position = ccp(b->GetPosition().x * PTM_RATIO,
                              b->GetPosition().y * PTM_RATIO);
                sprite.rotation = -1 * CC_RADIANS_TO_DEGREES(b->GetAngle());
            }
        }
    }} 
```

弹跳本身效果很好，我的问题是在某些情况下，球会在直线上弹跳，可以说是垂直或水平连续弹跳，我试图避免。所以我的问题是，我怎样才能让我的球精灵以一个角度而不是直线弹跳，这样它就不会被卡在同一个方向无限弹跳？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T08:34:48.330

您可以“随机”或以相等的间隔对身体或世界施加微小的力或重力变化。

# matplotlib - 用于 timedelta 的 matplotlib 智能轴标签

> ID：15240003
> 
> 赞同：16
> 
> 时间：2013-03-06T05:56:21.087
> 
> 标签：matplotlib

我在 matplotlib 中绘制了一个简单的 X 和 Y 值数据集。我的数据中的自变量是持续时间/时间增量（例如 60 秒、2 小时、24 小时、10 天），在我的输入数据中始终表示为整数秒数。我的问题是，matplotlib 有没有办法以人类可读的形式智能地设置持续时间轴标签？

例如，在规模较小的一端，最好将 30 秒简单地显示为“30 秒”。在规模较大的一端，显示“10 天”而不是 864000 秒会更好。介于两者之间的某个地方，最好以“分钟”和“小时”为单位读取标签。matplotlib 是否有任何自动方式来推断在跨越几个数量级的持续时间内近似人类可读的东西？

理想情况下，我使用的任何方法都应该推广到跨越不同持续时间尺度的数据集，而不是针对一个输入数据集单独定制的图。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-07-24T12:38:37.297

你能举个例子吗？这是你想要的吗：

```
import datetime                                                                                                                                                                                                                                                                

import numpy as np                                                                                                                                                                                                                                                             
import pylab as plt                                                                                                                                                                                                                                                            
import matplotlib                                                                                                                                                                                                                                                              

fig = plt.figure()                                                                                                                                                                                                                                                             
ax = fig.add_subplot(111)                                                                                                                                                                                                                                                      

x = np.linspace(0, 300)  # 5 minutes                                                                                                                                                                                                                                                      
y = np.random.random(len(x))                                                                                                                                                                                                                                                   

ax.plot(x, y)                                                                                                                                                                                                                                                                  

def timeTicks(x, pos):                                                                                                                                                                                                                                                         
    d = datetime.timedelta(seconds=x)                                                                                                                                                                                                                                          
    return str(d)                                                                                                                                                                                                                                                              
formatter = matplotlib.ticker.FuncFormatter(timeTicks)                                                                                                                                                                                                                         
ax.xaxis.set_major_formatter(formatter)                                                                                                                                                                                                                                        

plt.show() 
```

![示例输出](../Images/456e5343890dd38b49330f3c3cec2731.png)

它使用pythons timedelta。864000 秒以上将导致“10 天，10:00:00”。您当然可以将更高级的格式填充到上面的`timeTicks()`函数中。

# dojo - DOJO如何去除菜单边框

> ID：15240004
> 
> 赞同：0
> 
> 时间：2013-03-06T05:56:25.273
> 
> 标签：dojo

```
ready(function(){
                var onItemSelect = function(evt){
                    var item = registry.getEnclosingWidget(evt.target);

                var menu = new Menu({
                }, "profileCompletenessMenu");

                menu.addChild( new MenuItem({
                    id: "11",
                    label: "Photo",
                    style:"height:20px"
                }) );               
                menu.addChild( new MenuItem({
                    id: "12",
                    label: "Profile",
                    style:"height:20pxs;"
                }) ); 
```

上面的代码创建菜单。我正在尝试删除菜单边框，请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:51:26.597

在我的示例中，我使用的是 claro 主题，因此我使用以下内容覆盖了 css：

```
.claro .dijitMenu {
    border: none;    
} 
```

您可以在此处查看示例[http://jsfiddle.net/cswing/2PLDX/](http://jsfiddle.net/cswing/2PLDX/)

# javascript - 如何从我们在 DIV 标记中有多个 SVG 的页面中选择 SVG 代码

> ID：15240009
> 
> 赞同：1
> 
> 时间：2013-03-06T05:56:41.137
> 
> 标签：javascript, jquery, html, svg, html5-canvas

我有一个 php 页面，其中每个 DIV 标签下有 8 个 DIV 标签我正在渲染一些基于 SVG（融合或高图表）的动态图形。我想选择一个特定的 SVG 代码。目前我正在使用

```
svg = $('svg').parent().html(); 
```

但是这段代码只给了我父 SVG 代码。如果我想要第 4 或第 5 个 SVG 代码，我无法选择。

如果有人能告诉我如何传递 DIV ID 或其他东西来在运行时选择特定的 SVG 代码，我真的很感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-12T22:34:33.560

用于`map`遍历数组：

```
$('svg').map(views);

function views(index, node)
  {
  if (index === 0)
    {
    return $(node).get(0);
    }
  } 
```

# vim - 配置效率的最佳 VIM 插件有哪些？

> ID：15240017
> 
> 赞同：1
> 
> 时间：2013-03-06T05:57:27.437
> 
> 标签：vim, vim-plugin

VIM 有很多选项可以配置，其中许多与内存管理和加速有关，或者与文件打开和 utf8 支持有关。我可以安装哪些插件来为我在一个地方管理所有这些？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T08:02:07.627

Tim Pope 的[sensible.vim](http://www.vim.org/scripts/script.php?script_id=4391)提供了一组基本的配置选项作为起点，主要是因为许多 Vim 默认值对于当今的大多数用户来说并不是最佳的。除此之外，您必须（或者不必，如果您对默认设置没问题）自己调整 Vim 选项，因为每个工作流程都是独一无二的，而且 Vim 是一个特别可配置的编辑器，并且其方法没有偏见。

*像spf-13*和*Janus*这样的Vim“发行版”通过快速安装和开箱即用的设置来吸引你，但你付出的代价是增加了复杂性（你需要了解 Vim 的运行时加载方案和发行版的任意约定）和不灵活（分发可能使某些事情变得更容易，但其他事情变得非常困难）。Vim 的可定制性令人难以置信，使用别人的定制是没有意义的。

所以，从一个基本的配置开始，当你觉得有些东西对你来说不是最佳的时候，去旅行，研究一下优秀和全面的可用选项，`:help`在互联网上搜索其他人的 .vimrc 文件，然后调整你的配置。冲洗并定期重复。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T07:14:50.730

没有这样的事情。

*你*应该通过在你的`~/.vimrc`.

该`:options`命令允许您在一个位置设置 Vim 的所有选项，但您的更改不会在会话之间保留。

使您的设置保持不变的唯一明智的方法是将它们添加到您的`~/.vimrc`.

# android - 导出Android资源，其他项目可以引用

> ID：15240018
> 
> 赞同：2
> 
> 时间：2013-03-06T05:57:34.257
> 
> 标签：android, android-resources

在任何属性的 Android XML 文件中，我都可以使用语法 @package:type/name 引用其他资源。我可以访问我自己的包（在这种情况下我可以省略包名）或名为“android”的包。其他包呢？我可以以某种方式导出我的资源，以便其他应用程序可以引用它们吗？我不知道我为什么要这样做，我只是好奇。

# java - 使用 Selenium 和 JAVA 访问在新浏览器窗口中打开的 pdf

> ID：15240019
> 
> 赞同：1
> 
> 时间：2013-03-06T05:57:35.397
> 
> 标签：java, automation, selenium-webdriver

语言 - JAVA IDE - Eclipse 工具 - Selenium Web 驱动程序

我有一个测试场景，单击链接会打开一个新窗口，其中显示 pdf 内容。PDF 显示一个带有保存和取消按钮的表单。对于新窗口上显示的元素，我们没有使用 firebug 获得任何元素标识符。如何编写脚本来告诉驱动程序识别 pdf 中的字段并在其中输入内容，然后单击“保存”按钮。![在此处输入图像描述](../Images/c3c934fe4d22b0d652b7be0dfb8f2b00.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T14:54:44.667

不确定您是否可以使用 webdriver 识别 pdf 中的字段，因为在大多数情况下，pdf 将嵌入浏览器中，并且 pdf 中的字段不是 Html 组件。您可能要检查的一件事是使用 AutoIt 脚本并从您的主机程序（在您的情况下为 java 程序）调用此脚本。我没有尝试过使用AutoIt for pdf，但将其用于其他目的，发现它不难学习和使用。

您可以从 java 程序中调用 AutoIt 可执行文件，如下所示： `Runtime.getRuntime().exec("checkPDF.exe");`

由于它是一个可执行文件，如果您计划在其他平台上运行您的 webdriver 脚本，您可能会遇到可移植性问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T14:57:34.110

不打算与 Selenium 一起工作。PDF 通常使用本机桌面应用程序/浏览器插件显示，这是 Selenium 通常无法处理的。顺便说一句：你打算在 PDF 公式中测试什么？对我来说似乎毫无意义（乍一看）。

您可以做的是：使用 AWT 截取桌面屏幕截图。您应该能够使用本机桌面方法来模拟鼠标点击和按键操作。但这不是很好 [tm] 因为您可能需要记录单击坐标并在每次 PDF 更改时重新记录它们。

可能相关：[与 Selenium 中的 PDF 弹出窗口交互](https://stackoverflow.com/questions/6668141/interacting-with-a-pdf-popup-in-selenium)

# php - 调用php变量不起作用

> ID：15240020
> 
> 赞同：0
> 
> 时间：2013-03-06T05:57:40.947
> 
> 标签：php, mysql

该程序中的所有内容都可以正常工作，除非我尝试将变量插入到我的数据库中。该过程没有将变量 ($q, $w, $e) 传输到数据库，而是失败了。请注意，如果我将变量更改为整数或字符串，则该过程会成功。请你帮助我好吗？谢谢

```
<html>
    <body>
    <?php
    $q = $_POST['q'];
    $w = $_POST['w'];
    $e = $_POST['e'];
    // bring variables from browser works
    $con=mysql_connect("mysql5.000webhost.com","*****","*****","*****");
    if (!$con)
      {
      die('Could not connect: ' . mysql_error());
      }
    // connection to server works

    $query = mysql_query('INSERT INTO `a5637490_test`.`test` (`1`, `2`, `3`, `4`) VALUES ($q, 14, $w, $e)');
    mysql_close($con);

    echo 'success';

    ?>
    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:00:28.077

试试这个：

```
$query = mysql_query("INSERT INTO a5637490_test.test (1, 2, 3, 4) VALUES ('$q', 14, '$w', '$e')"); 
```

**请注意：** `mysql_`不推荐使用扩展，并且这种方式的代码容易受到[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)的影响，请改用[PDO](http://php.net/manual/en/book.pdo.php)或准备好的语句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:59:30.463

您的字符串变量未正确转义。你需要像这样引用它们

```
$query = mysql_query("INSERT INTO a5637490_test.test (1, 2, 3, 4) VALUES ('$q', 14, '$w', '$e')"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:00:28.760

```
$query = mysql_query("INSERT INTO a5637490_test.test (1, 2, 3, 4) VALUES ($q, 14, $w, $e)"); 
```

你必须使用双引号。单引号不允许直接在字符串中注入变量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:00:56.483

试试这个 ：

```
$query = mysql_query("INSERT INTO a5637490_test.test (1, 2, 3, 4) VALUES ('".$q."', 14, '".$w."', '".$e."')"); mysql_close($con); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T06:01:10.073

您需要使用***双引号***

```
$query = mysql_query("INSERT INTO a5637490_test.test (1, 2, 3, 4) VALUES ($q, 14, $w, $e)"); 
```

# ios - iOS Key-Value 编程：多访问器实现提高性能？

> ID：15240022
> 
> 赞同：1
> 
> 时间：2013-03-06T05:57:47.363
> 
> 标签：ios, performance, key-value, key-value-coding

阅读 Apple 关于键值编程的文档时，我经常遇到以下陈述：

> 如果基准测试表明需要改进性能，您还可以实施`<some kind of accessor>`
> 
> 在可变对多关系的情况下，性能可以提高，通常是显着的。

（[来源](http://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/KeyValueCoding/Articles/AccessorConventions.html)）

有人可以解释集合访问器如何帮助提高性能吗？

# php - mysql_error() 不工作，当使用 mysqli_query()

> ID：15240026
> 
> 赞同：4
> 
> 时间：2013-03-06T05:58:04.940
> 
> 标签：php, mysqli

使用 mysql_error() 函数没有显示错误。msqli_query() 工作正常，但是当我在它旁边添加 mysql_error 时，即使查询无效并且连接错误，我也不会在网页中收到任何信息。

```
example. mysqli_query($link, $query) or die(mysql_error()); <--- Nothing comes up 
```

链接脚本：

```
<?php

#SET DATABASE CREDENTIALS
$mysql_host     = 'localhost';
$mysql_username = 'root';
$mysql_password = 'root';
$mysql_db   = 'attendance';
$mysql_error    = 'Error: connection';

//TEST CONNECTION
$link = mysqli_connect( $mysql_host, $mysql_username, $mysql_password, $mysql_db) or die($mysql_error);

if(mysqli_connect_errno())
{

printf("Connection Failed: %s\n", mysqli_connect_error());
exit();

}
?> 
```

查询脚本：

```
<?php

require('conn.php'); <--- **No Problem**

$query = "SELsECT * FROM `$TBL` WHERE `textFromDate` >= '".mysql_real_escape_string($date1)."' AND `textToDate` <= '".mysql_real_escape_string($date2)."' AND `Scheme`='Paid'";

$resultwholeday = mysqli_query($link, $wholeday) or die(mysql_error()); <--- **might have problem**

?> 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-06T06:00:01.433

Use `mysqli_error()`: [http://php.net/manual/en/mysqli.error.php](http://php.net/manual/en/mysqli.error.php)

As far as I know (I may be wrong), every mysql_* function has a relative mysqli_* function. They do not work as substitutes.

**EDIT (addressing comment):**

According to PHP.net's `mysqli_error()` docs, it requires one argument to be passed:

`string mysqli_error ( mysqli $link )`

This mysqli $link that you are passing will be the variable that contains your database connection information. So you create a mysqli connection and save it to $link. Then run some queries. `mysqli_error($link)` will find the *last* error that has occurred on $link (or the mysqli connection).

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T06:00:23.800

You want to use `mysqli_error`, not `mysql_error`, when you call MySQLi APIs. Same with `mysqli_real_escape_string`.

# javascript - 如何添加 e.preventDefault()

> ID：15240035
> 
> 赞同：0
> 
> 时间：2013-03-06T05:58:44.400
> 
> 标签：javascript, jquery

我希望在执行播放功能时停止页面跳转到#soundEvent所在的页面顶部。根据这个答案，[https://stackoverflow.com/a/1998717/511438](https://stackoverflow.com/a/1998717/511438)，它是由`.html()`and引起的`.append()`；可以通过使用 e.preventDefault() 或返回 false（false 不起作用）来防止页面“跳转”。如何使用 preventDefault？

我的文档中有以下内容。准备好

```
$("[data-play-sound]").each(
    function ()
    {
        var soundFile = $(this).attr('data-play-sound');
        if (soundFile != "") Play(soundFile);
        $(this).removeAttr('data-play-sound');
    }
);

function Play(mp3Path)
{
    $("#sound_").remove();
    console.groupCollapsed(' ');
    $('#soundEvent').append('<embed id="sound_" autostart="true" hidden="true" src="' + mp3Path + '" type="audio/mpeg" />');
    console.groupEnd();
} 
```

我已经尝试过了，但导致错误：对象'0'没有方法 preventDefault

```
 $("[data-play-sound]").each(
        function (e)
        {
            ...
            if (soundFile != "") Play(e, soundFile);
            ...
        }
    );

function Play(e, mp3Path)
{
    e.preventDefault();
    ...
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T06:02:06.217

[jQuery .each()](http://api.jquery.com/jQuery.each/)接受参数索引和值，而不是事件，所以`0`意味着索引

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:09:27.850

`e.preventDefault`仅适用于事件处理程序（`return false`是取消事件的另一种方式），例如`$('#myLink').click(function(e) { e.preventDefault(); });`

您实际上没有在此处设置任何事件处理程序...如果您可以通过类选择链接，那么您可以执行以下操作：

`$('.someClass').click(function(e) { e.preventDefault(); });`

或者您可以只添加`onclick="return false;"`（即什么都不做）到链接标签。查看您的 HTML 以确定您是否真的需要首先放入会很有帮助`href="#soundEvent"`。

# winapi - 什么是 nCmdShow？

> ID：15240036
> 
> 赞同：14
> 
> 时间：2013-03-06T05:58:45.347
> 
> 标签：winapi

我一直很好奇 nCmdShow 在使用 Windows API 的 C 程序的 WinMain 中的含义。

我查找了正式的解释：“控制窗口的显示方式。此参数可以是以下值之一。”。

我不明白这是什么意思，因为一个 Windows 程序可以包含多个窗口，或者根本没有窗口。另外，随着程序的开始，开始时没有显示窗口，这让我更加质疑这个论点。

同样根据我的阅读，它始终保持为 10，甚至不在“ [http://msdn.microsoft.com/en-us/library/windows/desktop/ms633559%28v=vs.85中的选项列表中%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633559%28v=vs.85%29.aspx) "...

它已经过时了吗？有人可以解释它的目的，或提供任何解释其用途的参考资料吗？我尝试谷歌搜索，但什么也没看到。

谢谢！

**重访**：

当您右键单击快捷方式并转到属性时，可以选择启动窗口 Minimized、Maximized 或 Normal(ly)。

如果程序以这三种方式中的任何一种启动，Windows 会为您的程序提供一个 nCmdShow，以防它想以一种特殊的方式进行操作。例如，如果请求将其最小化，它可能会将自己隐藏在通知栏中。

* * *

为了详尽：

[![在此处输入图像描述](../Images/23ba98ec3332b1b5eeaf17bcc948a270.png)](https://i.stack.imgur.com/KHnO6.png)

[https://msdn.microsoft.com/en-us/library/windows/desktop/ms633548(v=vs.85).aspx](https://msdn.microsoft.com/en-us/library/windows/desktop/ms633548(v=vs.85).aspx)描述了所有可能通过的不同方式。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-06T06:09:19.260

它基本上是对应用程序应该如何显示其主窗口的提示。虽然是legacy，但不如`hPrevInstance`参数legacy。但是，我离题了...

参数的值将是API 参考`nCmdShow`中指定的常量之一。[`ShowWindow`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633548%28v=vs.85%29.aspx)它可以由另一个进程或系统通过启动您的应用程序来设置[`CreateProcess`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682425%28v=vs.85%29.aspx)。[`STARTUPINFO`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686331%28v=vs.85%29.aspx)可以选择传递给的结构`CreateProcess`包含将通过参数`wShowWindow`传递给的成员变量。`WinMain``nCmdShow`

传递参数的另一种方式`nCmdShow`是通过调用[`ShellExecute`](http://msdn.microsoft.com/en-us/library/windows/desktop/bb762153%28v=vs.85%29.aspx).

在我的脑海中，我想不出任何场景（在最新版本的 Windows 中）操作系统会`SW_SHOW`在启动应用程序时显式传递值。

`nCmdShow`应用程序忽略传递给`WinMain`^(^([?]))的标志并不少见。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-06T08:28:36.900

[`ShowWindow`请注意文档](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633548.aspx)中的此部分：

> `nCmdShow``ShowWindow`：如果启动应用程序的程序提供了`STARTUPINFO`结构，则该参数在应用程序第一次调用时被忽略。

即使您的程序在启动时没有窗口，但在您最终第一次调用`ShowWindow`. （但是，它不是直接从`WinMain`的局部`nCmdShow`变量中读取的，因此您不能在其中更改它的值`WinMain`并期望得到不同的结果。从这个意义上说，它并不是特别有用，除非您的程序需要做一些特殊的事情，如果它开始最小化或最大化。）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-07-20T17:54:43.500

**nCmdShow 中的“n”表示“短整数”。**

（这是我来到这个堆栈溢出页面时想知道的）

来源： [https ://msdn.microsoft.com/en-us/library/windows/desktop/aa378932(v=vs.85).aspx](https://msdn.microsoft.com/en-us/library/windows/desktop/aa378932(v=vs.85).aspx)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-12-04T05:56:10.137

nCmdShow 是整数类型，此参数指定应用程序窗口应如何显示（对操作系统）如果您未指定任何值，则默认情况下 Windows 操作系统说此参数的 SW_NORMAL 值。您可以指定此参数的值，但传递给 WinMain() 的值仅适用于 Windows 操作系统

# text - 查找两个文本文件之间的相似之处

> ID：15240040
> 
> 赞同：0
> 
> 时间：2013-03-06T05:59:06.033
> 
> 标签：text, compare

我需要找到以下解决方案，

```
File A:    
a
b
c

File B: 
a
b
c
d 
```

我需要一个脚本来说明 Contents of`File A`存在于`File B`. （脚本或工具）感谢所有回复和帮助。

# database - 使用函数将图像转换为字节数组并存储在 postgresql 中

> ID：15240042
> 
> 赞同：0
> 
> 时间：2013-03-06T05:59:23.797
> 
> 标签：database, vb.net, postgresql, stored-procedures, postgresql-9.1

就我而言，我想使用存储过程将图像存储到 Postgresql 数据库。我的数据库在服务器上。

我正在将图像转换为前端的字节数组。现在 O 需要知道如何将转换后的字节数组传递给存储过程。

我现在正在使用以下代码：

```
 Dim xImgPath() As Byte = ConverttoByte(mPath)

  Dim xQry As String = "select public.fn_employee(row(" & id &,"," & xImgPath &"))::public.employee 
```

但是上面的代码不起作用，它只是在前端显示编译时错误。谁能告诉我如何将字节数组传递到 postgresql 中的存储过程中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-05T07:17:12.123

首先，我怀疑您的查询应该是：

```
"select public.fn_employee(row(" & id &,"," & xImgPath &")::public.employee)" 
```

其次，您确实应该对查询进行参数化。我不确定在 .net 中执行此操作的正确方法，否则您会在这里或其他地方冒 sql 注入的风险，并且您会使 sql 注入审计更难进行。

当然，您的问题可能在某个非常不同的地方，但这是我能做的最好的事情，而不会看到任何错误。

# visual-studio-2005 - 无法在 .net 2.0 中上传 pdf 文档并出现异常错误

> ID：15240048
> 
> 赞同：0
> 
> 时间：2013-03-06T05:59:32.387
> 
> 标签：visual-studio-2005

我开发了一个应用程序，我在其中上传 PDF 文件并将其绑定到 Gridview。我可以上传较小的文件，例如最大 3.5MB，之后我无法上传 PDF 文件，因为我收到错误消息，例如“'/STAT' 应用程序中的服务器错误。运行时错误”或“页面无法显示（在本地测试时）系统）”

使用的技术：与 2005 .net 2.0 相比，它是 Web 应用程序。

我在下面粘贴了我写的代码：

```
Protected Sub btnUploadSTPI_Click(ByVal sender As Object, ByVal e As System.EventArgs)   Handles btnUploadSTPI.Click
    Try
        If txtStpiRegNo.Text <> "" Then
            If txtfilepathSTPI.Value <> "" Then
                Dim objDS As DataSet
                Dim UploadFile, UploadPath, strFile, sUploadPath, sUploadfilename As String
                Dim arr As Array
                UploadFile = txtfilepathSTPI.Value
                UploadPath = UploadFile.LastIndexOf("\") + 1
                strFile = UploadFile.Substring(UploadPath)
                sUploadPath = System.Configuration.ConfigurationSettings.AppSettings("UploadTempFile").ToString()
                arr = strFile.Split(".")
                strFile = CType(arr(0).ToString() + "_" + txtStpiRegNo.Text + "_" + System.DateTime.Now.Second.ToString() + "." + arr(1).ToString, String)
                sUploadfilename = sUploadPath + strFile
                txtfilepathSTPI.PostedFile.SaveAs(sUploadfilename)
                objDS = Session("TempDS")
                If objDS.Tables.Count > 1 Then
                    Dim objRow As DataRow
                    objRow = objDS.Tables(1).NewRow()
                    objRow.Item("UploadFileName") = arr(0).ToString()
                    objRow.Item("UploadFilePath") = strFile
                    objRow.Item("CompanyID") = ddlCompany.SelectedValue
                    objRow.Item("CompanyDocuments") = "STPI REG NO - " + txtStpiRegNo.Text
                    objDS.Tables(1).Rows.InsertAt(objRow, objDS.Tables(1).Rows.Count + 1)
                    dgCompanyFiles.DataSource = objDS.Tables(1)
                    dgCompanyFiles.DataBind()
                    Session("TempDS") = objDS
                End If
            Else
                lblError.Text = "Please select a file to upload."
            End If
        Else
            lblError.Text = "Please enter STPI REG No."
        End If
    Catch ex As Exception

    End Try
End Sub 
```

即使我尝试跟踪应用程序，它也不会在浏览文件并单击上传按钮以获取大于 3.5MB 的更大文件后进入特定按钮事件。

错误信息 ：

```
Server Error in '/STAT' Application. 
```

运行时错误描述：服务器上发生应用程序错误。此应用程序的当前自定义错误设置可防止远程查看应用程序错误的详细信息（出于安全原因）。但是，它可以被本地服务器机器上运行的浏览器查看。

详细信息：要在远程计算机上查看此特定错误消息的详细信息，请在位于当前 Web 应用程序根目录的“web.config”配置文件中创建一个标签。然后，此标记应将其“模式”属性设置为“关闭”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:24:23.837

首先，您需要编辑 web.config 以启用查看错误。执行此操作的方法显示在报告的错误本身中。

其次，您需要允许更大的上传文件大小：

```
<configuration>
  <system.web>
    <httpRuntime maxRequestLength="xxx" />
  </system.web>
</configuration> 
```

# java - 使用 Java 和 JDBC 将无符号 64 位数字插入 BigInt MySQL 列

> ID：15240049
> 
> 赞同：1
> 
> 时间：2013-03-06T05:59:35.767
> 
> 标签：java, mysql, jdbc, unsigned

我搜索了这个问题的答案，只找到了模糊的答案。这是问题所在：我在 MySQL 中有一个示例表：mytable time Timestamp data BigInt(20) unsigned

选择数据字段以便它可以接受 2^64 最大值：18446744073709551616（20 位，因此 BigInt(20)）。

我有一个包含无符号 64 位整数的 csv 文件。

现在我正在使用 Java 和 JDBC 插入这些数据并遇到问题，因为 Java 没有无符号长。所以我尝试只传递字符串 - 但它失败了。

```
st = conn.prepareStatement("INSERT INTO pawan_table (mytime, data) VALUES(?, ?)");
st.setTimestamp(1, new Timestamp(86400000+i*1000));
st.setString(2, "18446744073709551616");
st.execute(); 
```

我还尝试了 Java 中的 BigInteger 类 - 但 JDBC 没有采用该类型的方法。我只能将 BigInteger 转换为已签名的“long”，这不是我想要的。例如：

```
BigInteger bi = new BigInteger(string_from_csv_file);
st.setLong(2, bi.longValue()); 
```

有趣的是，MySQL Workbench 可以插入这些数据——但它是用 c# 编写的！我需要用Java编写我的代码！

Java 程序员如何在 MySQL BigInt(20) 列中插入无符号 64 位数字？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T01:23:06.337

所以这里是解决方案：

如果您不使用 prepare 语句而只是使用字符串 SQL 语句插入，则无需担心，因为 JDBC 只是将您的语句移动到 MySQL 服务器，并且 MySQL 服务器可以正确地将字符串解析为无符号 64 数字 (BigInt-20)。

如果您使用准备语句，那么您就有麻烦了。如果你这样做：

```
BigInteger bi = new BigInteger("18446744073709551615"); // max unsigned 64-bit number
statement.setObject(2, bi, Types.BIGINT);
statement.execute(); 
```

你会得到一个 MySqlDataTruncation 异常，因为 JDBC 想要将它截断为有符号长。

如果你这样做：

```
BigInteger bi = new BigInteger(new Long(Long.MAX_VALUE).toString());
statement.setObject(2, bi, Types.BIGINT);
statement.execute(); 
```

这将起作用，因为该值在 Java 的有符号长整数范围内。

所以总是有效的解决方法是：

```
BigInteger bi = new BigInteger("18446744073709551615"); // max unsigned 64-bit number
statement.setString(2, bi.toString());
statement.execute(); 
```

您最终将数据作为字符串传递并让 MySQL 服务器正确解析它。

应该有人修复 JDBC 驱动程序，因为无符号 64 位数字在许多统计应用程序中不断出现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:43:01.557

您也许可以使用`PreparedStatement.setObject`. 有一个变体接受指定值类型的参数：您可以传入 a`BigInteger`并`java.sql.Types.BIGINT`查看它是否有效。

如果失败，那么您可以创建一个辅助类来实现`SQLData`并将其传递给`setObject`.

免责声明：我没有尝试过任何这些；它基于对 javadocs 的快速浏览。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-26T20:59:05.573

如果数据类型是 BIGINT UNSIGNED，这适用于 MySQL 后端。

以这种方式存储号码：

```
PreparedStatement statement = conn.prepareStatement("INSERT INTO Speeds (downSpeed) VALUES (?)");
statement.setObject(1, spd.downSpeed, Types.BIGINT); 
```

使用原始 getObject() 调用进行检索：

```
BigInteger downSpeed = (BigInteger) rs.getObject("downSpeed"); 
```

我尝试使用`rs.getObject("downSpeed",BigInteger.class)`，但这给了我一个不受支持的转换错误。

请注意，BIGINT UNSIGNED 类型中可以存储的最大数字是 1.8 *10^9。见这里：[MySQL 数据类型](http://dev.mysql.com/doc/connector-j/en/connector-j-reference-type-conversions.html)

# qt - 在 Windows 32 位系统上使用 msbuild 构建解决方案文件

> ID：15240054
> 
> 赞同：2
> 
> 时间：2013-03-06T05:59:46.983
> 
> 标签：qt, msbuild

我被要求使用 msbuild 构建一个基于 qt 的解决方案文件。我尝试使用以下命令，但最终出现错误。我可以使用如下所示的相同命令构建一个 wix 项目。

```
C:\Windows\Microsoft.NET\Framework\v4.0.30319>MSBuild "C:\path\to\my solution file\my.sln" /t:Build /p:Configuration=Release /p:Platform=Win32 
```

有了这些，我收到一个错误消息，

```
C:\Program Files\MSBuild\Microsoft.CppCommon.targets(155,5):
error MSB6006: "cmd.exe" exited with code 3\. [c:\my\path to\project file\my.vcxproj] 
```

Moc'ing时系统未读取my.vcxproj中各种文件的路径。我收到以下错误

```
InitializeBuildStatus:
    Touching "Win32\Release\my.unsuccessfulbuild".
CustomBuild:
    Moc'ing "dialog.h"...
    The system cannot find the file path specified
    Moc'ing "Centralwidget.h"...
    The system cannot find the file path specified 
```

等等....

我也尝试过使用 qmake 构建，但没有成功。期待有关使用哪种方法构建基于 qt 的解决方案文件的好建议。提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T04:21:31.177

使用 MSBuild 构建 Qt 解决方案文件，

```
def buildsolution(self,solutionpath):
    if not os.path.isfile(self.msbuild):
        raise Exception('MSBuild.exe not found. path=' + self.msbuild)
    arg1 = '/t:Rebuild'
    arg2 = '/p:Configuration=Release'
    arg3 = '/p:Platform=Win32'
    proc = subprocess.Popen(([self.msbuild,solutionpath,arg1,arg2,arg3]), shell=True, 
                    stdout=subprocess.PIPE) 
    while True:
        line = proc.stdout.readline()                        
        wx.Yield()
        if not line: break
    proc.wait() 
```

其中**self.msbuild=r'C:\Windows\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe'**和 **solutionpath=r'path to\qt solution file\my.sln'**

# android - How is the number of views limited?

> ID：15240055
> 
> 赞同：9
> 
> 时间：2013-03-06T05:59:50.040
> 
> 标签：android, performance, android-layout, android-view

I want to figure out the main effectivity issues of the Android layouts and views. I'm doing a research now but maybe somebody has answers already.

I have a `RelativeLayout` that is populated with views dynamically. Basically, the application loads a forum thread in XML and then renders the discussion tree so each message is displayed in its own group of views. I've decided not to use `WebView` because I want to implement some client-side functions that should be easier to do on custom views than on HTML page.

However this approach has a major flaw: it's heavy.

The first problem (which I've solved) was [nesting of views](https://stackoverflow.com/questions/12445931/how-to-optimize-the-recursively-embedded-layout). This is not an issue now, my layout is almost flat so the maximum depth is 10-12 (counting from the very top PhoneWindow$DecorView, the actual depth depends on data).

Now I've reached the next limit that is somehow connected to (or caused by) resource consumption of the views. After loading the data, the application hangs for a while to build the layout (creates the views and populates them with the data), and the hang time seems to grow linear with the data size; and if the data is large enough, the view will never appear (eventually the system suggests closing the application because it isn't responding).

Now the questions:

1.  Does memory consumption depend significantly on the view class? In other words, is there any major difference between a `Button` and a `TextView`, or an `ImageView`? I can attach a click handler to any view so they don't differ much in usage.

2.  Do background images affect the performance? If the same image is set in `N` views, will it make the layout `N` times *heavier*? (I understand that this question may look silly but anyway.)

3.  Are nine-patch images significantly heavier than regular ones? What is better: to create `N` views where each has some background images, or to make one view that is `N` times wider and has a repeating background?

4.  Given some layouts, what should be optimized first: overall number of views, nesting levels, or something else?

5.  The most interesting. Is that possible to measure or at least estimate the resources consumed by the activity and its views? If I make some change, how could I see that I'm going the right way?

**UPDATE**

Thanks to User117, some questions that I asked above are now answered. I've used the Hierarchy Viewer and optimized my layout: compared to what I had before, the overall number of views is now reduced almost twice, and the nesting is also reduced.

However the application still hangs on a large forum thread.

**UPDATE 2**

I've connected the debugger to my device and found that the application gets out of memory.

But what is very unexpected for me is that the error occurs *after I populate the layout*. The sequence is as follows:

1.  All my views are added. I can see a slight slow down as they are being added.
2.  Almost nothing happens for a couple of seconds. During that time, a few info messages are spawned in the log, they are identical: `[global] Loaded time zone names for en_US in XXXXms`, the only difference is number of milliseconds.
3.  The out of memory error message is spawned: `[dalvikvm-heap] Out of memory on a N-byte allocation` (the actual size varies). The long error reporting starts.

What does this mean? Looks like the rendering have its own demands that may be considerable.

**UPDATE 3**

At last I've found the core issue. Here is a screenshot from my application, see an explanation below the image.

![A tree-like hierarchy of messages.](../Images/e829c8b67129903930252a8c02675a4f.png)

Each message consists of a round button that shows or hides the replies and a red content frame to the right of the button. This is very simple and requires only 6 views including the layouts.

The problem is the indentation with these connection lines that show which message is related to which.

In my current implementation, the indentation is built of small `ImageView`'s, each containing a square image that shows either empty space, or a vertical line, or a T-like connector, or a L-like corner. All these views are aligned to each other within the large `RelativeLayout` that holds the whole discussion tree.

This works fine for small and medium trees (up to few hundreds of messages), but when I try to load a large tree (2K+ messages), I get the result explained in UPDATE 2 above.

Obviously, I have two problems here. I spawn large number of views that all consume memory, and these views are `ImageView`'s that require more memory for rendering because they render a bitmap and therefore create graphics caches (according to explanation given by User117 in the comments).

I tried disabling loading the images into the indentation views but got no effect. It seems like adding that huge number of views is quite enough to eat all available memory.

My other idea was to create an indentation image for each message that would contain all pipes and corners, so each message would have the only indentation view instead of 10 or 20\. But this is even more consuming: I've got out of memory in the middle of populating the layout. (I cached the images in a map so two bitmaps with identical sequence of images weren't created, that didn't help.)

So I'm coming to conclusion that I'm in a dead end. Is it ever possible to draw all these lines at once?

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T06:40:30.290

1.  不同`View`的是不同*种类的 Object*。有些只有`draw()`轻量级的东西，有些可以容纳大型位图对象和处理程序对象等。所以，是的，不同`View`的会消耗不同数量的 RAM。

2.  如果视图之间共享相同的 Bitmap 对象，RAM 中只有一个对象，每个视图将有一个指向该对象的引用变量。但是，当视图绘制时并非如此：在屏幕上的 n 个位置绘制相同的位图 n 次将消耗 n 倍 CPU 并*`bitmap_cache`*为每个视图生成 n 个不同的位图。

3.  9 块图像的每一侧实际上比原始图像大 2 个像素。它们与文件没有太大区别。绘制它们时，两者都可以缩放并且占用几乎相等的空间。唯一的区别是 9-Patch 的缩放比例不同。

    1.  当子视图是透明的时，设置较大的父视图的背景会更好，并且背景会显示出来。

    2.  您可以保存小图像并设置平铺背景，以便它可以填充大区域。

4.  首先要优化嵌套，因为在给定时间可能无法看到所有视图，假设在滚动布局中只有少数视图可见。然后，您可以减少使用的视图总数。从中获取提示`ListView`：鉴于用户一次只会看到总数据的子集，它会**重新循环视图**。并节省大量资源。

5.  SDK为此提供了**Hierarchy Viewer工具。**它显示了正在运行的布局的完整树结构，还为布局的缓慢部分放置了危险信号。

一个好的布局是：

1.  易于测量（避免复杂的加权宽度、高度和对齐方式）。例如，不是`layout_gravity="left"`为每个孩子做，父母可以有`gravity="left"`.

2.  深度较小，每个重叠视图都会在绘制屏幕时添加另一个要合成的图层。每个嵌套的视图结构都要求链式布局调用。

3.  是聪明的并且重新循环视图而不是创建所有视图。

4.  重用它的部分：标签，如`<merge>`和`<include>`。

**更新：**[这个问题](https://stackoverflow.com/q/3271772/1531054)的 答案，在 android 中展示了许多树视图的方法。

# android - Android 模拟器中的网络连接错误

> ID：15240058
> 
> 赞同：-4
> 
> 时间：2013-03-06T06:00:00.320
> 
> 标签：android, android-emulator, installation, whatsapp, bluestacks

我知道有几个关于这个问题的帖子，但是我相信我的问题有点不同：

我已经在我的桌面上安装了 Android 模拟器。

当我尝试通过模拟器浏览互联网时，它运行良好。

但问题是我在模拟器中安装的应用程序无法访问互联网

我成功安装了whatsapp，注册屏幕正确加载，然后我输入了我的手机号码并按下了确定按钮。我不断收到以下错误

> 无法连接。请检查您是否已连接到互联网，然后重试。如果您的连接问题仍然存在，请重新启动您的手机。

很烦人，我已经用谷歌搜索了几个星期的错误，但仍然没有找到解决问题的方法

我尝试了bluestacks ..我还重新安装了它以及模拟器几次...它没有帮助...

1000 感谢帮助我解决此问题的人..：D

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T06:02:51.620

1.  重新安装模拟器
2.  删除并再次创建模拟器
3.  检查机器是否在线
4.  检查 Android 清单以查看应用程序是否可以访问互联网

这些是一些常见的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:12:04.360

从[这个答案](https://stackoverflow.com/a/2169311/1204134)：

```
<manifest xlmns:android...>
 ...
 <uses-permission android:name="android.permission.INTERNET"></uses-permission>
</manifest> 
```

在你的里面`AndroidManifest.xml`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-09-10T14:34:15.650

添加 8.8.8.8

在 Mac 上：系统偏好设置 > 网络 > DNS（或 Windows 等效项）

如此处所述：[Android 模拟器无法访问互联网](https://stackoverflow.com/questions/42736038/android-emulator-not-able-to-access-the-internet)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-15T11:03:32.767

我已经在家里的笔记本电脑上安装了youwave并下载了whatsapp，然后在whatsapp中注册了。它运行良好，没有任何问题。然后我在办公室尝试了同样的方法，但没有奏效。但是可以通过浏览器上网。我相信原因是在办公室我在代理后面并且不确定whatsapp是否使用办公室代理不允许的某些协议。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-05T18:09:10.467

好的...我有同样的问题。但我知道，到目前为止，bluestacks 连接问题的最佳解决方案是什么。您必须安装 proxycap 软件。为 bluestacks 制定新的代理规则。

在 c/program*86/bluestacks/HD-network.exe

这是您必须为其制定规则的文件。

whatsapp 和其他应用程序也可以使用。但您仍然无法使用 bluestacks 下载数据。

但是是的，如果您有蓝牙，那么就没有问题。连接你的手机有互联网连接。

您的规则代理将允许您下载数据。好消息是 95% 的数据是通过您的有线网络 (LAN) 下载的。手机的蓝牙连接只是帮助你保持服务器端的连接......现在去谷歌商店或你想下载的任何东西。你已准备好出发。

只需激活手机上的一个小数据包....thanxx..希望对您有所帮助

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-12-09T01:22:47.800

一种解决方案可以是禁用 gps，只需转到高级配置。然后定位并关闭它。至少对我有用。

# python - 读取 CSV 文件并使用 python 提取所需数量的数据

> ID：15240060
> 
> 赞同：0
> 
> 时间：2013-03-06T06:00:02.290
> 
> 标签：python, csv

我已经从 csv 文件中提取了数据，使用以下代码从特定的行和列开始：

```
def csvread(csvpath, filtered_dict):
    rdr = csv.reader(open(csvpath, 'rb'))
    columns = [{key:row[pos[0][1]] for key,pos in filtered_dict.items()} for row in rdr]
    # finally trim to desired row startpoints:
    data = {key:[col[key] for col in columns[pos[0][0]:]] for key,pos in  filtered_dict.items()}
    return zip(*data.values()) 
```

filters_dict 看起来像这样：

```
{'Date': [(21, 5)], 'Rate': [(21, 4)], 'Item': [(21, 2)]} 
```

但它会将数据提取到 csv 文件的末尾，这会导致处理所需数据时出现问题。像这样：

```
[('Dates', 'Rates', 'Items'),
 ('2013/03/07', '$114', 'Tissot'),
 ('2013/03/07', '$140', 'Adidas'),
 ('2013/03/07', '$344', 'Nike'),
 ('', '', ''),
 ('', '', ''),
 ('','The rate for EVERY item is FIXED', 'No RETURN or EXCHANGE!')] 
```

现在我想要的是如果函数发现所有 3 个字段都为空，则暂停该过程。并且必须是这样的结果：

```
[('Dates', 'Rates', 'Items'),
 ('2013/03/07', '$114', 'Tissot'),
 ('2013/03/07', '$140', 'Adidas'),
 ('2013/03/07', '$344', 'Nike')] 
```

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:17:34.807

您可以检查字符串列表的所有元素是否都具有零长度，方法是在它们全部连接在一起时测试它们是否具有零长度。这似乎给了你你想要的东西：

```
di = [('Dates', 'Rates', 'Items'),
      ('2013/03/07', '$114', 'Tissot'),
      ('2013/03/07', '$140', 'Adidas'),
      ('2013/03/07', '$344', 'Nike'),
      ('', '', ''),
      ('', '', ''),
      ('','The rate for EVERY item is FIXED', 'No RETURN or EXCHANGE!')]

d2 = []
for x in di:
    if len(''.join(x)) == 0:
        break
    else:
        d2.append(x)

print (d2) 
```

...输出：

```
[('Dates', 'Rates', 'Items'), ('2013/03/07', '$114', 'Tissot'), ('2013/03/07', '
$140', 'Adidas'), ('2013/03/07', '$344', 'Nike')] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T07:06:55.203

先前建议的答案的一个问题是，`if len(''.join(x)) == 0:`最常见情况下的测试在连接字符串时做了很多工作，并且只对所有字符串为空的终止情况做少量工作。

对于最常见的情况，最好安排一些事情来做少量的工作，元组的第一个字符串不为空，或者第二个不为空，或者第三个不为空。这可以使用内置函数进行 [`any()`](http://docs.python.org/2/library/functions.html#any)测试，一旦发现一个不为空的字符串，它就会短路（退出测试），因此它的工作量要少得多，并且可以启动更简洁的代码。

```
di = [('Dates', 'Rates', 'Items'),
      ('2013/03/07', '$114', 'Tissot'),
      ('2013/03/07', '$140', 'Adidas'),
      ('2013/03/07', '$344', 'Nike'),
      ('', '', ''),
      ('', '', ''),
      ('','The rate for EVERY item is FIXED', 'No RETURN or EXCHANGE!')]

d2 = []
for x in di:
    if any(x):
        d2.append(x)
    else:
        break

print (d2) 
```

输出：

```
[('Dates', 'Rates', 'Items'),
 ('2013/03/07', '$114', 'Tissot'),
 ('2013/03/07', '$140', 'Adidas'),
 ('2013/03/07', '$344', 'Nike')] 
```

# php - Yii 扩展用户似乎没有保留额外的实例变量

> ID：15240073
> 
> 赞同：1
> 
> 时间：2013-03-06T06:00:45.093
> 
> 标签：php, yii

我已阅读有关如何制作 CWebUser 子类的教程并按照说明进行操作。路径都有效，并且代码进入了正确的方法，但是从我的 getter 返回的值始终为零。

```
class PersonUser extends CWebUser {

  // Store model to not repeat query.
  private $_person;

  // Load user model.
  public function loadPerson($id=null, $duration=0)
  {
    $this->login($id,$duration);
    $this->_person=Person::model()->findByPk(Yii::app()->user->id);
  }

  public function getPerson()
  {
    return $this->_person;
    //return Person::model()->findByPk($this->id);
  }
} 
```

`$this->_person->first_name`如果我在设置后在 loadPerson 方法中回显，`_person`我会得到我期望的值。但是，在以后的任何时候，如果我要求`Yii::app()->user->person`，该`getPerson()`方法将被调用，但`$this->_person`现在为空。我知道它正在进入那里，如果我取消注释下面的行并让它每次都查找该人，它就会起作用。

这是 Yii 的问题吗？我真的很希望能够缓存 person 对象，这样我就可以在整个会话期间引用它，而不必对数据库进行更多调用。我错过了什么？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T06:55:17.023

Yii 没有问题......根据文档，CWebUser 类识别预定义变量“id”和“name”，它们在整个会话中保持不变。任何其他变量都应与 getState() 和 setState() 方法一起使用。" 此外，CWebUser 应与实现实际身份验证算法的 IUserIdentity 类一起使用。"

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T15:47:29.163

该方法`loadUser()`永远不会被调用。而且`login()`里面的调用也没有意义。一个更简单的实现`getPerson()`将是。

```
private $_person = false;
public function getPerson()
{
    if($this->_person===false)
        $this->_person = Person::model()->findByPk($this->id);
    return $this->_person;
} 
```

# list - How to select trials using a list?

> ID：15240077
> 
> 赞同：0
> 
> 时间：2013-03-06T06:00:57.640
> 
> 标签：list, matlab, trial

I have 6 `.abf` files which each have the dimension `150000 by 2 by x` where x varies from `1 to 10`. The `x` represents trials of a recording. So I have to process these 6 files in MATLAB which I do by a loop that goes over each of the files and does the subsequent processing for each of them. But for each of the trials, even if 10 of them are recorded, not all 10 have the desired data and I need to exclude few and include few trials from each of the file. For example, from the first file, I need trials 1 to 4 for processing while in the second file I need trials 1 to 6 for processing. How can I do this? Is there a way where I can make a list in the beginning to specify the trials for each of the file?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:49:00.707

这是一个非常简单的方法来做到这一点。如果您只有 6 个文件，您可以定义试验以包含在函数的顶部。

```
% Specify list of trials to include
dataFiles(1).name = 'file1.abf';
dataFiles(1).includedTrials=[1:4];

dataFiles(2).name = 'file2.abf';
dataFiles(2).includedTrials=[1:6];

% iterate over data files
for n = 1:nFiles
    % Load data
    data = load(datafiles(2).name);

    % Select data of trials based on your list
    data = data(:,:,dataFiles(n).includedTrials);

    % Do processing
end 
```

# c# - 在 Linq-to-SQL 中，IMultipleResults 是否多次命中数据库？

> ID：15240083
> 
> 赞同：3
> 
> 时间：2013-03-06T06:01:20.553
> 
> 标签：c#, database, linq, linq-to-sql

我有一个存储过程如下：

```
CREATE PROCEDURE GetMultipleResults
   @SomeID int
AS
BEGIN
   SELECT * FROM SomeTable1 where SomeColumn1 = @SomeID
   SELECT * FROM SomeTable2 where SomeColumn2 = @SomeID
   SELECT * FROM SomeTable3 where SomeColumn3 = @SomeID
   SELECT * FROM SomeTable4 where SomeColumn4 = @SomeID
END 
```

然后我使用以下代码来执行和检索数据：

```
[Function(Name = "dbo.SPROCName")]
[ResultType(typeof(ResultSet1))]
[ResultType(typeof(ResultSet2))]
[ResultType(typeof(ResultSet3))]
[ResultType(typeof(ResultSet4))]
public IMultipleResults SomeMethod([Parameter(DbType = "INT")] int? SomeID
{
    IExecuteResult result = this.ExecuteMethodCall(this, ((MethodInfo)(MethodInfo.GetCurrentMethod())), SomeID);
    return ((IMultipleResults)(result.ReturnValue));
} 
```

现在最后，为了获得每个结果，我执行如下操作：

```
public void SomeOtherMethod(int SomeID)
{
    DataContext1 context = new DataContext1 (dbConnString);
    IMultipleResults results = context.SomeMethod(SomeID);

    ResultSet1 resultSet1= results.GetResult().FirstOrDefault();
    IEnumerable resultSet2 = results.GetResult().ToList();
    IEnumerable resultSet3 = results.GetResult().ToList();
    ResultSet4 resultSet4= results.GetResult().FirstOrDefault();
} 
```

我的问题是，Linq-to-SQL 是否执行整个存储过程一次，然后`GetResult()`用于从内存中获取它，或者它是否执行 n 个查询（往返 db 调用），其中 n 是存储中的 select 语句数proc（本例中为 4）？

我问的原因是因为即使对于大数据，以下行几乎也需要相同的时间来执行：

```
IMultipleResults results = context.SomeMethod(SomeID); 
```

但是在 resultSet3 是大量数据的情况下运行以下部分需要一些明显的时间：

```
IEnumerable resultSet3 = results.GetResult().ToList(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T08:35:01.737

到数据库肯定只有一次往返。LinqToSQL 无法看到存储过程中的内容，它必须依赖于您应用的 ResultType 属性是否正确。

在内部，LinqToSQL 将执行存储过程，然后打开数据读取器以检索结果。

对于这种`FirstOrDefault`情况，它将检索第一项（如果有的话），然后使用[IDataReader.NextResult](http://msdn.microsoft.com/en-us/library/system.data.idatareader.nextresult.aspx)跳到下一个结果集。因此，即使 resultSet1 可能很大，也只有第一行需要通过网络获取。

对于这种`ToList`情况，阅读器将检索整个结果集。因此，如果有大量数据，则必然需要更长的时间。

# jenkins - 使用 Java 程序中的参数执行构建

> ID：15240084
> 
> 赞同：0
> 
> 时间：2013-03-06T06:01:22.797
> 
> 标签：jenkins, cloudbees

我正在尝试使用 Resty 框架从我的 Java 程序执行 Jenkins 构建（使用 Resty 不是必需的，似乎是最简单的方法）。它适用于没有参数的作业，包括身份验证，但是我正在尝试使用参数执行构建，但我收到了从 Jenkins 服务器返回的（非描述性）错误 500。

```
URI jenkinsURI = new URI("https://"+jenkinsServer+"/job/bowling%20Q%20build/build?token="+jenkinsToken);
String b = URLEncoder.encode("json={\"parameter\": [{\"name\": \"git_tag\", \"value\": \"v1\"}],\"\":\"\"", "UTF-8");
System.out.println("My Results: "+r.text(jenkinsURI, Resty.content(b))); 
```

知道怎么做吗？我已按照[这些说明](https://wiki.jenkins-ci.org/display/JENKINS/Remote+access+API)发送 JSON，它在 curl 中运行良好，但在 Java Resty 中却没有。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:36:21.703

问题是我没有/不能使用 URLEncoder。一旦我将 Resty.content 更改为

```
System.out.println("My Results: "+r.text(jenkinsURI, Resty.form(Resty.data("json", "{\"parameter\": [{\"name\": \"git_tag\", \"value\": \"1.0.4\"}],\"\":\"\"}")))); 
```

它开始工作正常。

# java - 我在运行我的项目时遇到 java.lang.StackOverflowError？

> ID：15240085
> 
> 赞同：4
> 
> 时间：2013-03-06T06:01:24.690
> 
> 标签：java, hibernate, maven, spring-mvc, solrj

我正在尝试使用 maven 使用 Spring 和 postgres 实现 solr 搜索，但是在运行应用程序时，我得到 404 例外

```
Exception processing loader WebappLoader[/solrjExample] background process
java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.StackOverflowError 
```

我真的不明白有什么问题这是我的spring-servlet：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xmlns:beans=" http://www.springframework.org/schema/beans  "
    xmlns:mvc="http://www.springframework.org/schema/mvc" 
    xmlns:solr="http://www.springframework.org/schema/data/solr"
    xmlns:p="http://www.springframework.org/schema/p"
    xsi:schemaLocation="http://www.springframework.org/schema/mvc
   http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
   http://www.springframework.org/schema/beans     
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
   http://www.springframework.org/schema/context 
   http://www.springframework.org/schema/context/spring-context-3.0.xsd
   http://www.springframework.org/schema/data/solr 
   http://www.springframework.org/schema/data/solr/spring-solr.xsd">

    <context:component-scan base-package="org.tcs.com.controller" />
    <context:property-placeholder location="classpath:org/tcs/com/lak/resources/application.properties" />
    <mvc:annotation-driven />
    <bean id="jacksonMessageConverter"
        class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter" />
    <bean
        class="org.springframework.web.servlet.view.ContentNegotiatingViewResolver">
        <property name="mediaTypes">
            <map>
                <entry key="html" value="text/html" />
                <entry key="json" value="application/json" />
            </map>
        </property>
        <property name="viewResolvers">
            <list>
                <bean
                    class="org.springframework.web.servlet.view.InternalResourceViewResolver">
                    <!-- <property name="viewClass" value="org.springframework.web.servlet.view.JstlView" 
                        /> -->
                    <property name="prefix" value="/WEB-INF/jsp/" />
                    <property name="suffix" value=".jsp" />
                </bean>
            </list>
        </property>
        <property name="defaultViews">
            <list>
                <bean
                    class="org.springframework.web.servlet.view.json.MappingJacksonJsonView">
                    <property name="prefixJson" value="true" />
                </bean>
            </list>
        </property>
    </bean>
    <!-- ##################################### SOLR ##################################### -->
    <!-- Configures HTTP Solr server -->
    <solr:solr-server id="solrServer" url="${solr.server.url}" />

    <!-- Configures Solr template -->
    <bean id="solrTemplate" class="org.springframework.data.solr.core.SolrTemplate">
        <constructor-arg index="0" ref="solrServer" />
    </bean>
<!-- ##################################### postgres ##################################### -->
<bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource"
        destroy-method="close" p:driverClassName="org.postgresql.Driver"
        p:url="jdbc:postgresql://localhost:5432/Prime" p:username="postgres"
        p:password="Password" /> 
        <!-- ##################################### Hibernate ##################################### -->
    <bean id="sessionfactory"
        class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
        <property name="dataSource" ref="dataSource" />
        <property name="configLocation">
            <value>classpath:Hibernate.cfg.xml</value>
        </property>
        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">org.hibernate.dialect.PostgreSQLDialect</prop>
                <prop key="hibernate.show_sql">true</prop>
                <prop key="hibernate.cache.use_second_level_cache">false</prop>
            </props>
        </property>
    </bean> 
    <bean id="transactionManager"
        class="org.springframework.orm.hibernate4.HibernateTransactionManager">
        <property name="sessionFactory" ref="sessionfactory" />
    </bean>  
</beans> 
```

还有我的 web.xml

```
<?xml version="1.0" encoding="UTF-8"?>

  <web-app id="WebApp_ID" version="2.4"
   xmlns="http://java.sun.com/xml/ns/j2ee" 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee 
   http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">
  <display-name>solrjExample</display-name>
   <servlet>
      <servlet-name>solrjExample</servlet-name>
      <servlet-class>
         org.springframework.web.servlet.DispatcherServlet
      </servlet-class>
        <init-param>
       <param-name>contextConfigLocation</param-name>
         <param-value>WEB-INF/slorjExample-servlet.xml</param-value>
       </init-param>
      <load-on-startup>1</load-on-startup>
   </servlet>

   <servlet-mapping>
      <servlet-name>solrjExample</servlet-name>
      <url-pattern>/</url-pattern>
   </servlet-mapping>

</web-app> 
```

我认为配置有问题，或者我是 solr 的新手。谢谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T17:11:27.813

通常这种错误是由于递归无限循环造成的。您是否在服务器启动时执行了一些自己的代码？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T13:10:59.660

这个错误背后的基础是使用了**Solrj**和**Spring-data-solr**这基本上是因为这些 API 中使用的记录器递归地相互调用，直到抛出堆栈溢出错误导致 tomcat 崩溃。所以我从我的 pom.xml 中删除了 spring-data-solr 依赖项。

```
The purpose of slf4j-jcl module is to delegate or redirect calls made to an SLF4J logger to jakarta commons logging (JCL). 

The purpose of the jcl-over-slf4j module is to redirect calls made to a JCL logger to SLF4J.

 If both slf4j-jcl.jar and jcl-over-slf4j.jar are present on the class path, then a StackOverflowError will inevitably occur immediately after the first invocation of an SLF4J or a JCL logger. 
```

该问题在链接[http://www.slf4j.org/legacy.html中进行了描述](http://www.slf4j.org/legacy.html)

试图找出是否有相同的解决方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T16:58:33.353

当你说你运行你的应用程序时，你是什么意思？您是在运行某种搜索还是在加载欢迎页面时？*运行应用程序*时是否默认访问特定页面？您是否尝试在启动应用程序时运行的代码段中放置一些调试点？还是您的意思是在部署应用程序后启动服务器时出现此错误？

# qt - 如何在 doublespinbox 中显示固定宽度值

> ID：15240086
> 
> 赞同：0
> 
> 时间：2013-03-06T06:01:29.713
> 
> 标签：qt

我的窗口中有 4 个双旋转框。我想在这个 doublespinbox 中显示固定宽度的值。例如，我的 doublespinbox 范围是 0 到 100.00，我想始终以 000.00 的格式显示值。因此，尽管值为 8，但它应该在我的 doublespinbox 中显示为 008.00。同样，我想在编辑值期间突出显示我的 doublespinbox 中的每个数字。我该怎么做？. 所有旋转框的宽度/范围都不同。有人可以帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:45:16.240

正如我在对@asclepix 帖子的评论中所说，您需要重新实现`textFromValue`. 这个片段对我来说很好。

```
class MyDoubleSpinBox : public QDoubleSpinBox
{
public:
    explicit MyDoubleSpinBox(QWidget *parent = 0) : QDoubleSpinBox(parent) {
        setMaximum(999.99);
    }

    QString textFromValue(double val) const {
        const int width = 6;        // length of whole number in symbols '000.00'
        const int precision = 2;    // after separator

        // rightJustified to add leading zeroes
        return QLocale().toString(val, 'f', precision).rightJustified(width, '0');
    }
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:26:35.247

我想你必须使用 setDecimals 来强制尾随零和 setPrefix 用于前导零。问题是您必须根据 doublespinbox 的值更改前缀。简单的方法是将插槽连接到 valueChanged 信号并在那里完成工作。不太简单的方法是对 doublespinBox 进行子类化，但我不知道要重新实现什么。

# jquery - jquery datepicker：根据第一个日期选择设置默认日期

> ID：15240089
> 
> 赞同：0
> 
> 时间：2013-03-06T06:01:50.230
> 
> 标签：jquery, jquery-ui

我有两个日期输入，第二个日期需要在第一个日期之后。因此，我希望第二个输入的日期选择器打开并选择第一个日期。这是“defaultDate”选项，但它必须是动态的。

编辑：

到目前为止，我只是按照通常的方式启动：

```
$(function() {$( "#from_date" ).datepicker();  }); 
$(function() {$( "#to_date" ).datepicker();  }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:11:03.553

试试这个 ：

```
$( "#from_date" ).datepicker({
  onClose: function( selectedDate ) {
    $( "#to_date" ).datepicker( "option", "minDate", selectedDate );
  }
});
$( "#to_date" ).datepicker({
  onClose: function( selectedDate ) {
    $( "#from_date" ).datepicker( "option", "maxDate", selectedDate );
  }
}); 
```

# c# - 单击事件上的按钮，在更新面板内，通过未触发的自定义服务器控件呈现

> ID：15240094
> 
> 赞同：0
> 
> 时间：2013-03-06T06:02:14.000
> 
> 标签：c#, custom-controls, asp.net-customcontrol

我正在开发一个呈现 (a) `textbox`(es) 的自定义控件，`textchange event`我想将值异步发送到控件，在那里它将搜索并使数据在公开的属性中可用，以便稍后获取`page load`。但我的问题是，如何异步调用在我的控件内编码的方法来执行搜索功能。现在，`textbox textchange`和`buttons click events`没有触发，按钮单击加载页面并且在文本框中写入什么都不做。这是代码。

```
 public int Count { get; set; }
    public List<object> Selection { get; set; }
    public object SelectedObject { get; set; }
    public Label label;
    public TextBox textBox;
    protected override void RenderContents(HtmlTextWriter output)
    {
        textBox = new TextBox();
        textBox.TextChanged += new EventHandler(Method);
        UpdatePanel up = new UpdatePanel();
        up.ID = "UpdatePanel1";
        up.ChildrenAsTriggers = true;
        up.UpdateMode = UpdatePanelUpdateMode.Conditional;
        up.ContentTemplateContainer.Controls.Add(a);
        this.label = new Label();
        this.label.Text = "Initialized Text.";
        up.ContentTemplateContainer.Controls.Add(this.label);
        Button button = new Button();
        button.Text = "Say Hello";
        button.Click += new EventHandler(HandleButtonClick);
        up.ContentTemplateContainer.Controls.Add(button);
        this.Controls.Add(up);
        foreach (Control c in this.Controls)
        {
            c.RenderControl(output);
        }
    }

    private List<object> Get(string searchValue)
    {
        throw new NotImplementedException();
    }
    public void Method(object sender, EventArgs e) {
        (sender as TextBox).Text += " ";
        //Selection = Get((sender as TextBox).Text);
    }
    private void HandleButtonClick(object sender, EventArgs e)
    {
        this.label.Text = "Hello " + this.textBox.Text;
        //Selection = Get(this.textBox.Text);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T20:06:38.620

发现您必须从 IPostBackDataHandler 继承您的控制权，而且存在异步问题。我使用了一种解决方法，我已将控件放在 updatepanel 中（将 updatepanel 放在 aspx 上），通过绑定的控件 onclick 注册了一个按钮，在 jquery/javascript 上我正在触发按钮的单击事件以异步发送调用。一切正常，但在触发该事件后，javascript 代码不再运行，尝试通过再次在 prerender 中注册客户端脚本来调用该函数，但没有成功。

# php - Jquery ajax无法发布数据

> ID：15240096
> 
> 赞同：0
> 
> 时间：2013-03-06T06:02:24.987
> 
> 标签：php, codeigniter, jquery

在我的 Codeigniter 视图中，我有以下代码通过 jquery ajax 函数将当前密码和新密码发送到控制器，但似乎数据没有传递给控制器​​。看看你能不能帮我解决这个问题。

```
 var url = '<?php echo base_url();?>index.php/it_inventory/change_my_pass';
    $.ajax({
        type: "POST",
        url: url,
        //datatype: "json",
        data:'cu_pass=' + cu_pass + '&new_pass=' + new_pass,
        success: function(r){
            if(r==1){
                alert("Password Changed Successfully!");
            }else{
                alert("Error changing password!");
            }
        }
    }); 
```

控制器：

```
public function change_my_pass($cu_pass="", $new_pass=""){
    //$cu_pass = $this->input->post('cu_pass');
    //$new_pass = $this->input->post('new_pass');
    echo $this->it_inventory_model->change_my_pass($cu_pass, $new_pass);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:04:05.427

您可以使用 serialize() 方法获取表单数据并将其传递给 ajax 数据参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:09:05.477

在 $.ajax({ url 仅传递页面的 url 并使用 url 删除要传递的变量添加数据数据：{new_pass: new_pass_valu, cu_pass: cu_pass_value},

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:13:55.050

尝试将此通行证作为 json 数据

```
var url = '<?php echo base_url();?>index.php/it_inventory/change_my_pass/';
    $.ajax({
        type: "POST",
        url: url,
        datatype: "json",
        data:{cu_pass: cu_pass,new_pass: new_pass},
        success: function(r){
            if(r==1){
                alert("Password Changed Successfully!");
            }else{
                alert("Error changing password!");
            }
        }
    }); 
```

控制器

```
public function change_my_pass($cu_pass="", $new_pass=""){
    $cu_pass = $this->input->post('cu_pass');
    $new_pass = $this->input->post('new_pass');
    echo $this->it_inventory_model->change_my_pass($cu_pass, $new_pass);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:25:09.373

请检查 CSRF 的配置，如果它是打开的，带上 'csrf_token_name' 参数。

**配置/config.php**：

```
/*
|--------------------------------------------------------------------------
| Cross Site Request Forgery
|--------------------------------------------------------------------------
| Enables a CSRF cookie token to be set. When set to TRUE, token will be
| checked on a submitted form. If you are accepting user data, it is strongly
| recommended CSRF protection be enabled.
|
| 'csrf_token_name' = The token name
| 'csrf_cookie_name' = The cookie name
| 'csrf_expire' = The number in seconds the token should expire.
*/
$config['csrf_protection'] = TRUE;
$config['csrf_token_name'] = 'csrf_test_name';
$config['csrf_cookie_name'] = 'csrf_cookie_name';
$config['csrf_expire'] = 7200; 
```

**正确的ajax发布请求：**

```
var url = '<?php echo base_url();?>index.php/it_inventory/change_my_pass/';
    $.ajax({
        type: "POST",
        url: url,
        //datatype: "json",
        data:'cu_pass=' + cu_pass + '&new_pass=' + new_pass + '&<?php echo config_item('csrf_token_name');?>=<?php echo $this->input->cookie(config_item('csrf_cookie_name'))?>',
        success: function(r){
            if(r==1){
                alert("Password Changed Successfully!");
            }else{
                alert("Error changing password!");
            }
        }
    }); 
```

**控制器：**

```
public function change_my_pass(){
    $cu_pass = $this->input->post('cu_pass');
    $new_pass = $this->input->post('new_pass');
    echo $this->it_inventory_model->change_my_pass($cu_pass, $new_pass);
} 
```

# hadoop - 如何在hadoop中更改map reduce函数的log4j级别

> ID：15240101
> 
> 赞同：1
> 
> 时间：2013-03-06T06:02:38.120
> 
> 标签：hadoop, log4j

作为标题，如何通过将参数传递给命令行来更改 hadoop 中 map reduce 函数的 log4j 级别。我不想以编程方式更改级别。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:33:50.720

您应该实施 ToolRunner。在 Hadoop Definitive 指南中有一章描述它，[来源](http://my.safaribooksonline.com/book/software-engineering-and-development/9781449328917/setting-up-the-development-environment/id4613268)

# java - 使用java从属性文件中删除键和值

> ID：15240103
> 
> 赞同：4
> 
> 时间：2013-03-06T06:02:40.863
> 
> 标签：java, properties, properties-file

*   我的属性文件中有一些插入的值。这会像，

> 键=值

*   我必须更新属性文件。更新时，正在检查密钥是否可用。如果键在那里，我需要删除键和值并重新写入。
*   任何人都可以给我代码以在再次更新/写入之前删除现有的键和值。

这是我要插入和更新的java代码：

```
 if (action.equals("insert")) {
  if (con != null) {
    if (key == null) {
      //session.setAttribute(username, con); 
      out.println("****Connected Successfully****");
      String rootPath=request.getSession().getServletContext().getRealPath("/");
      System.out.println(rootPath);
      String propPath=rootPath+"/WEB-INF/";
      PrintWriter out1 = new PrintWriter(new BufferedWriter(new FileWriter(propPath+"importedDB.properties", true)));
      out1.println(cname+"=jdbc:oracle:thin:@"+host+":"+port+"/"+service+","+username+","+password);
      out1.close();
    } else {         
      out.println("*Connection name "+cname+" already exists. Please try with another name");
    }
  }
}
if (action.equals("update")) {
  if (con != null) {
    if (key == null) {
      out.println(cname+" is not available.");
    } else {
      String rootPath=request.getSession().getServletContext().getRealPath("/");
      System.out.println(rootPath);
      String propPath=rootPath+"/WEB-INF/";
      PrintWriter out1 = new PrintWriter(new BufferedWriter(new FileWriter(propPath+"importedDB.properties", true)));
      out1.println(cname+"=jdbc:oracle:thin:@"+host+":"+port+"/"+service+","+username+","+password);
      out1.close();
      out.println("updated successfully");
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T06:09:12.833

加载它：

```
Properties properties = new Properties();
properties.load(your_reader); 
```

然后使用 remove() 方法删除一个属性：

```
properties.remove(your_key); 
```

最后将此更改写入文件属性文件：

```
properties.store(your_writer, null); 
```

**更新**

我在您发表评论后发布此更新：

> 我试过..得到的是，它不会干扰旧内容..只是用删除的值再次重写文件..最初文件有key1 = value1和key2 = value2 ..使用上面的代码，我试图删除key2 ，现在文件有，key1=value1 key2=value2 然后是今天的时间和日期，key1=value1

试试这个例子，我试过了，它工作得很好，如果它不起作用，我认为你的代码中有一些错误：

```
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.OutputStream;
import java.util.Properties;

public class Props {

    public Props() {
        try {
            File myFile = new File("props.properties");
            Properties properties = new Properties();
            properties.load(new FileInputStream(myFile));
            properties.remove("deletethis");
            OutputStream out = new FileOutputStream(myFile);
            properties.store(out, null);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public static void main(String[]args){
        new Props();
    }
} 
```

props.properties**之前**：

```
#Wed Mar 06 11:15:24 CET 2013
file=File
edit=Edit
deletethis=I'm gonna be deleted! 
```

props.properties**之后**：

```
#Wed Mar 06 11:15:24 CET 2013
file=File
edit=Edit 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-01-24T17:35:06.540

你看过[Apache Commons 配置](http://commons.apache.org/proper/commons-configuration/userguide/howto_filebased.html)吗？

我会尝试类似的东西：

```
import org.apache.commons.configuration.PropertiesConfiguration;

PropertiesConfiguration config = new PropertiesConfiguration("myfile.properties");    
config.clearProperty("my.property");
config.save(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:06:47.297

最简单和最明显的解决方案是读取您的输入文件，逐行检查并检查您需要替换的属性。然后做任何你需要的改变并重写整个文件。

您可能还想使用一个临时文件来编写您的新配置，然后用它替换现有的。如果您的应用程序有可能在过程中崩溃，这将为您提供帮助。您仍然可以使用旧配置。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:12:00.027

尝试

```
 Properties props = new Properties();
    FileInputStream in = new FileInputStream(file);
    props.load(in);
    in.close();
    if (props.remove("key") != null) {
        FileOutputStream out = new FileOutputStream(file);
        props.store(out, "");
        out.close();
    } 
```

# javascript - 其中括号和字符串的正则表达式

> ID：15240104
> 
> 赞同：1
> 
> 时间：2013-03-06T06:02:43.047
> 
> 标签：javascript, regex

我正在寻找一个 JavaScript 正则表达式，它允许我删除括号中的任何文本并包含括号本身。

例子：

```
"hello world ( some Text and Number here)" 
```

我想修剪`( some Text and Number here)`并得到结果：

```
"hello world" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:05:33.697

你试过这个：

```
\(.*?\) 
```

实际的js可能像dis：

```
var a = "hello world ( someText and Number here)";
a = a.replace(/\(.*?\)/, ""); 
```

# c++ - 如何将结构类型作为参数传递给函数？

> ID：15240107
> 
> 赞同：1
> 
> 时间：2013-03-06T06:03:05.183
> 
> 标签：c++, templates

我正在尝试向函数添加参数，并且我需要新参数是结构类型。

这是我要更改的功能，来自[dyld_decache.cpp](https://github.com/kennytm/Miscellaneous/blob/master/dyld_decache.cpp)

```
void prepare_patch_objc_methods(uint32_t method_vmaddr, uint32_t override_vmaddr); 
```

我是这样改的：

```
template <typename T>
void prepare_patch_objc_methods(typename T::type, uint32_t list_vmaddr, uint32_t override_vmaddr); 
```

在 的实现中`prepare_patch_objc_methods`，我更改了所有出现的`method_t`to`T`并且它编译得很好。

`method_t`结构定义如下：

```
struct method_t {
    uint32_t name;
    uint32_t types;
    uint32_t imp;
}; 
```

现在，调用此函数时如何传递结构类型？

我试着这样做

```
this->prepare_patch_objc_methods(method_t, class_data->baseMethods, class_obj->data + offsetof(class_ro_t, baseMethods)); 
```

但我收到以下错误：`'method_t' does not refer to a value`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T06:59:57.907

似乎您不需要将结构类型的对象传递给函数（您只需要传递类型本身），因此正确的函数声明将是

```
template <typename T>
void prepare_patch_objc_methods(uint32_t list_vmaddr, uint32_t override_vmaddr); 
```

现在要将结构类型传递给一个函数，你可以像这样调用它

```
this->prepare_patch_objc_methods<method_t>(class_data->baseMethods, class_obj->data + offsetof(class_ro_t, baseMethods)); 
```

如果您确实需要传递参数类型的对象，请执行以下操作

```
template <typename T>
    void prepare_patch_objc_methods(const T &object, uint32_t list_vmaddr, uint32_t override_vmaddr); 
```

然后你这样称呼它

```
method_t obj;
this->prepare_patch_objc_methods<method_t>(obj, class_data->baseMethods, class_obj->data + offsetof(class_ro_t, baseMethods)); 
```

或者只是像这样

```
this->prepare_patch_objc_methods(obj, class_data->baseMethods, class_obj->data + offsetof(class_ro_t, baseMethods)); 
```

在这里您不一定需要显式指定类型，因为编译器可以从您传递的对象中推断出它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T06:07:44.820

您需要传递该类型的实际对象，而不是类型本身，作为参数：

```
method_t m;

prepare_patch_objc_methods(m, class_data->baseMethods, /* ... */); 
```

编辑：如果不清楚：您不能将类型（例如`method_t`）作为普通参数传递——您只能将其作为模板参数传递。在函数模板的情况下，模板参数通常由编译器根据您为该参数传递的类型自动推导出来，因此：

```
template <class T>
void f(T x) {} 
```

编译器将计算出，如果您将（例如）`1`作为参数传递，那么`T`将`int`用于此实例化。如果你通过`1.0`了，它会发现那`T`是`double`为了那个实例。

如果您真的想要（例如希望将值转换为 T 的类型，而不是选择 T 作为传递的任何类型），您可以为函数模板指定模板参数，就像您可以/为类模板所做的那样。例如，`f<double>(1)`将实例化`f`一个 double，即使您传递的值是一个 int。因此， int 在传递给函数之前将被提升为 double。

# c# - 不同浏览器的时间格式不同

> ID：15240110
> 
> 赞同：5
> 
> 时间：2013-03-06T06:03:15.130
> 
> 标签：c#, string-formatting, datetime-format

我的 GridView 中有一个模板标签：

```
<asp:Label ID="Label1" runat="server"
 Text='<%# String.Format("{0:t}", Eval("Time_From")) %>'>
</asp:Label> 
```

但是当我的 Gridview 绑定时，它在 Mozilla 中显示 1:00 PM，但在 IE 中显示 13:00。

为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:12:46.753

看起来格式化选择了不同的文化，但我不相信默认的 ASP.Net 站点会根据传入请求中的文化修改“当前文化”......也许你的其他一些代码会根据某些东西改变当前文化？

尝试显示[Thread.CurrentThread.CultureInfo](http://msdn.microsoft.com/en-us/library/system.threading.thread.currentculture.aspx)以查看服务器端文化是否不同。

# bash - cPanel 停止响应 curl 请求

> ID：15240128
> 
> 赞同：0
> 
> 时间：2013-03-06T06:04:12.877
> 
> 标签：bash, curl, cpanel

我在 VPS 上并使用 bash 脚本将网站部署到我帐户内的子目录中。直到今天，我一直在使用这个脚本没有任何问题，cPanel 随机决定忽略 curl。

在这个脚本中，我自动创建一个数据库并向其中添加一个用户，这是通过使用适当的信息卷曲 cPanel 来完成的。

这就是我正在做的事情，以前工作完美无缺。

```
curl -k -v -G -d db=$db_name https://$cpanel_user:$cpanel_password@$cpanel_host:2083/frontend/x3/sql/addb.html 
```

我将此行隔离到一个单独的脚本中进行调试。这是踢球者，服务器根本没有响应。Curl 只是说`Trying X.X.X.X...`，然后最终连接超时。卷曲适用于其他一切，所以我知道不是这样。只是为了笑，我尝试了 wget ，它也无法建立连接。

我在 cPanel 中禁用了 [had] 安全令牌。

我的问题是什么会导致连接失败？我很难过，因为这昨天奏效了。

我不介意调查和调试，但没有错误或任何我根本不知道在哪里看的东西。我和我的主人谈过，他们说没有推出任何防火墙/安全更新。

关于问题的建议或在哪里寻找？

**编辑：**因此，如果我在 OSX 中本地运行该 curl 命令，它会启动并创建数据库没有问题。所以由于某种原因，URL 没有响应我自己的服务器（本身）oO

**编辑2**：似乎我的服务器无法在我需要的那个端口上卷曲（不知道为什么它会停止）。例如，如果我 curl 我的服务器 IP 或我的服务器上的域（来自服务器）它可以工作。如果我尝试卷曲我的 ip:2083 它将无法解决。

如何允许 curl 使用端口 2083？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-31T09:48:01.343

我的防火墙 CSF 只允许将端口 2083 上的 TCP 连接传入服务器。但是另一个阻止了端口 2083 上的传出 tcp 连接。

所以在两台服务器上打开两个端口 IN-OUT 解决了这个问题。

# jquery - jQuery将每个绑定到动态填充的元素

> ID：15240133
> 
> 赞同：0
> 
> 时间：2013-03-06T06:04:48.440
> 
> 标签：jquery, dynamic, bind, each

以下场景：

在 ajax 返回时，我想更改文档中的一些链接。其中一些是硬编码的，另一些是动态生成的。

```
function( data ) {
   $('a.imageselect').each(function() {
      var imgValue = $(this).attr('href');
      $(this).attr('href', imgValue.replace('publish_img', 'edit_img/'+data.dbid));
   });
} 
```

它与硬编码元素的工作方式类似，但不适用于那些：

```
$("#chooseimg").after('<a href="'+imgUrl+'" class="imageselect">foo</a>"); 
```

我知道也许“开”可以帮助我——但我不知道在这种情况下如何使用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T17:12:39.607

你的代码是正确的。也许您使用的是旧版本的 jQuery。我在这个脚本中测试了你的代码，一切正常：

```
<html>
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>
<body>
<script type="text/javascript">
$(document).ready(function() {
    $('#button').on('click', function() {
        var imgUrl = 'publish_img';
        $("#chooseimg").after('<a href="'+imgUrl+'" class="imageselect">foo</a>');
    });

    $('#button2').on('click', function() {
        change('1');
    });
});

function change( data ) {
   $('a.imageselect').each(function() {
      var imgValue = $(this).attr('href');
      $(this).attr('href', imgValue.replace('publish_img', 'edit_img/'+data));
   });
}
</script>

<input type="button" id="button" name="add" value="Add link!" /><br />
<input type="button" id="button2" name="change" value="Change" />

<div id="chooseimg">

</div>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:14:38.553

```
$(document).on("click", ".button-delete", function() {
    console.log("inside");
}); 
```

.on 的用法如上所述，但我认为在这种情况下，您需要为

```
function my_func() {
    $('a.imageselect').each(function() {
     var imgValue = $(this).attr('href');
     $(this).attr('href', imgValue.replace('publish_img', 'edit_img/'+data.dbid));
    });
} 
```

并在添加动态数据后调用它。

```
$("#chooseimg"]).after('<a href="'+imgUrl+'" class="imageselect">foo</a>');
my_func(); 
```

像这样。

# java - 为什么在尝试加密字符串时会出现 BadPaddingException？

> ID：15240134
> 
> 赞同：0
> 
> 时间：2013-03-06T06:04:50.617
> 
> 标签：java, android, encryption, aes, badpaddingexception

[我通过这个链接](https://stackoverflow.com/questions/6788018/android-encryption-decryption-with-aes)在我的 Android 项目中创建了一个`Encryption`类来加密/解密二进制数据。

```
package com.my.package;

import java.security.SecureRandom;

import javax.crypto.Cipher;
import javax.crypto.KeyGenerator;
import javax.crypto.SecretKey;
import javax.crypto.spec.SecretKeySpec;

// TODO Incomplete class
public class Encryption {

    private static final byte[] salt = { (byte) 0xA4, (byte) 0x0B, (byte) 0xC8,
            (byte) 0x34, (byte) 0xD6, (byte) 0x95, (byte) 0xF3, (byte) 0x13 };

    private static int BLOCKS = 128;

    private static byte[] encrypt(byte[] raw, byte[] clear) throws Exception {
        SecretKeySpec skeySpec = new SecretKeySpec(raw, "AES");
        Cipher cipher = Cipher.getInstance("AES");
        cipher.init(Cipher.ENCRYPT_MODE, skeySpec);
        byte[] encrypted = cipher.doFinal(clear);
        return encrypted;
    }

    private static byte[] decrypt(byte[] raw, byte[] encrypted)
            throws Exception {
        SecretKeySpec skeySpec = new SecretKeySpec(raw, "AES");
        Cipher cipher = Cipher.getInstance("AES");
        cipher.init(Cipher.DECRYPT_MODE, skeySpec);
        byte[] decrypted = cipher.doFinal(encrypted);
        return decrypted;
    }

    private static byte[] getKey() throws Exception {
        byte[] keyStart = "this is a key".getBytes();
        KeyGenerator kgen = KeyGenerator.getInstance("AES");
        SecureRandom sr = SecureRandom.getInstance("SHA1PRNG");
        sr.setSeed(keyStart);
        kgen.init(128, sr); // 192 and 256 bits may not be available
        SecretKey skey = kgen.generateKey();
        byte[] key = skey.getEncoded();
        return key;
    }

    public static void test() {
        String test = "My Name Is Dragon Warrior";

        byte[] e = null;
        try {
            e = encrypt(getKey(), test.getBytes());
        } catch (Exception e1) {
            // TODO Auto-generated catch block
            e1.printStackTrace();
        }
        byte[] d = null;
        try {
            d = decrypt(getKey(), e);
        } catch (Exception e1) {
            // TODO Auto-generated catch block
            e1.printStackTrace();
        }
        System.out.println(new String(d));
    }
} 
```

然后我在主要活动中运行代码：

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    // ...
    Encryption.test();
    // ...
} 
```

然后我`BadPaddingException`在执行以下代码时得到一个`test()`：

```
try {
    d = decrypt(getKey(), e);
} catch (Exception e1) {
    // TODO Auto-generated catch block
    e1.printStackTrace();
} 
```

有趣的是，我创建了一个不同于 Android 项目的 Java 项目。并且代码运行良好，没有任何异常。

我的代码有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:00:31.160

“SHA1PRNG”*不是*密钥派生函数，不同提供者的实现可能不同。请使用正确的 KDF，例如 PBKDF2 作为密码。“这是一个键”*不是*键，它是一个字符串。

# mysql - MYSQL 同一表的多行根据条件产生多列

> ID：15240136
> 
> 赞同：0
> 
> 时间：2013-03-06T06:04:54.590
> 
> 标签：mysql

## [Fiddle 的架构](http://sqlfiddle.com/#!2/08fab)

结果是：我想获取 msr_name 为“PRE”或“POST”或两者的记录

```
id  |  msr_name1(only pre)   |  msr_data1(only pre)  |  msr_name2(only post)   |  msr_data2(only post)

16703      PRE                            pre_data                              POST                              post_data

16711      PRE                            pre_data                              NULL                              NULL

16715      NULL                            NULL                                 POST                              post_data 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:13:51.710

```
SELECT a.id AS id, 
       b.msr_name AS msr_name1, b.msr_data AS msr_data1,
       c.msr_name AS msr_name2, c.msr_data AS msr_data2
FROM (SELECT DISTINCT id FROM Students WHERE msr_name IN ('PRE', 'POST')) AS a
LEFT JOIN Students AS b ON (a.id=b.id AND b.msr_name = 'PRE')
LEFT JOIN Students AS c ON (a.id=c.id AND c.msr_name = 'POST'); 
```

我的输出是：

```
+-------+-----------+-----------+-----------+-----------+
| id    | msr_name1 | msr_data1 | msr_name2 | msr_data2 |
+-------+-----------+-----------+-----------+-----------+
| 16703 | PRE       | pre_data  | POST      | post_data |
| 16711 | PRE       | pre_data  | NULL      | NULL      |
| 16715 | NULL      | NULL      | POST      | post_data |
+-------+-----------+-----------+-----------+-----------+ 
```

## [SQL 小提琴演示](http://sqlfiddle.com/#!2/08fab/1)

# sql - 加快这个查询？目前在 100K 行上需要 4 秒

> ID：15240140
> 
> 赞同：0
> 
> 时间：2013-03-06T06:05:09.373
> 
> 标签：sql, sql-server, tsql, sql-server-2012

这是我的主要查询：

```
exec sp_executesql N'set arithabort off;set transaction isolation level read uncommitted;Select COUNT(*) From ( Select ROW_NUMBER() OVER 
                                (Order By  Case When d.OldInstrumentID IS NULL THEN d.LastStatusChangedDateTime Else d.RecordingDateTime End desc ) peta_rn,    
                                d.DocumentID
                                From Documents d
                                Inner Join Users u on d.UserID = u.UserID Inner Join IGroupes ig on ig.IGroupID = d.IGroupID
                                Inner Join ITypes it on it.ITypeID = d.ITypeID Where 1=1  ANd dbo.DoesNameExist(d.DocumentID, @0, @1, @2, @3) = 1  And (CreatedByAccountID = @4 
                                Or DocumentStatusID = @5
                                 Or DocumentStatusID = @6 ) )
                                  v',N'@0 int,@1 varchar(4000),@2 varchar(4000),@3 nvarchar(4000),@4 int,@5 int,@6 int',@0=-999,@1='K',@2='Miller',
                                  @3=NULL,@4=44,@5=5,@6=9 
```

这是我的标量函数，这是**罪魁祸首**：

```
ALTER FUNCTION [dbo].[DoesNameExist]
(
    @DocumentID         int,
    @PartyTypeID        int = 0,
    @FirstName          varchar(30),
    @LastName           varchar(30),
    @Business           varchar(100)
)
RETURNS bit
AS
BEGIN
    Declare @Found bit = 0

    Set @FirstName = IsNull(@FirstName,'')
    Set @LastName = IsNull(@LastName,'')
    Set @Business = IsNull(@Business,'')

    Select Top 1 @Found = 1
        From DocumentNames
            Where DocumentID = @DocumentID
                    And
                Lower(IsNull(FirstName,'')) Like 
                            Case When @FirstName = '' Then  Lower(IsNull(FirstName,'')) + '%'
                                Else Lower(@FirstName) + '%' End
                    And
                Lower(IsNull(LastName,'')) Like 
                            Case When @LastName = '' Then   Lower(IsNull(LastName,'')) + '%'
                                Else Lower(@LastName) + '%' End
                    And
                Lower(IsNull(Business,'')) Like 
                            Case When @Business = '' Then  Lower(IsNull(Business,'')) + '%'
                                Else Lower(@Business) + '%' End

                    And

                PartyTypeID = Case When @PartyTypeID IS NULL OR @PartyTypeID <= 0 Then PartyTypeID Else @PartyTypeID End

    Return @Found
END 
```

基本上一个文档有多个 DocumentNames，当用户在 LastName 或 FirstName 中键入内容时，我想计算所有具有这些匹配名称的文档的计数。请注意，我正在查询 Documents 表，然后加入 DocumentNames。这是必要的。

**注意：**索引是在所有搜索列上创建的，包括 FirstName、LastName 等。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T06:46:22.713

首先，检查`Execution plan`.

多少次`IsNULL()`被使用？
检查所有的估计和实际时间`IsNULL()`。如果更多，请使用子查询，您可以在其中计算`IsNULL()`并提供给您的查询。

我没有你的`Exceution plan`。你也可以**试试这个**：

```
ALTER FUNCTION [dbo].[DoesNameExist]
(
    @DocumentID         int,
    @PartyTypeID        int = 0,
    @FirstName          varchar(30),
    @LastName           varchar(30),
    @Business           varchar(100)
)
RETURNS bit
AS
BEGIN
    Declare @Found bit = 0

    Select Top 1 @Found = 1
        From DocumentNames
            Where DocumentID = @DocumentID
                    And
                Lower(IsNull(FirstName,'')) Like COALESCE(@FirstName,firstname,'')+'%'
                    And
                Lower(IsNull(LastName,'')) Like COALESCE(@LastName,LastName,'')+'%'
                    And
                Lower(IsNull(Business,'')) Like COALESCE(@Business,Business,'')+'%'

                    And

                PartyTypeID = Case When @PartyTypeID IS NULL OR @PartyTypeID <= 0 Then PartyTypeID Else @PartyTypeID End

    Return @Found
END 
```

此外，如果您可以丢弃 this `UDF`，直接在您的语句 with`EXISTS`子句中使用 this 应该可以解决问题。

```
Select COUNT(*) From ( Select ROW_NUMBER() OVER 
                                (Order By  Case When d.OldInstrumentID IS NULL THEN d.LastStatusChangedDateTime Else d.RecordingDateTime End desc ) peta_rn,    
                                d.DocumentID
                                From Documents d
                                Inner Join Users u on d.UserID = u.UserID Inner Join IGroupes ig on ig.IGroupID = d.IGroupID
                                Inner Join ITypes it on it.ITypeID = d.ITypeID Where 1=1  

                                ANd EXISTS (
                                Select 1
                                From DocumentNames
                                    Where DocumentID = d.DocumentID
                                            And
                                        Lower(IsNull(FirstName,'')) Like COALESCE(@1,lower(firstname),'')+'%'
                                            And
                                        Lower(IsNull(LastName,'')) Like COALESCE(@2,lower(LastName),'')+'%'
                                            And
                                        Lower(IsNull(Business,'')) Like COALESCE(@3,lower(Business),'')+'%'

                                            And

                                        PartyTypeID = Case When @0 IS NULL OR @0 <= 0 Then PartyTypeID Else @0 End

                                )

                                Or DocumentStatusID = @5
                                 Or DocumentStatusID = @6 ) )
                                  v',N'@0 int,@1 varchar(4000),@2 varchar(4000),@3 nvarchar(4000),@4 int,@5 int,@6 int',@0=-999,@1='K',@2='Miller',
                                  @3=NULL,@4=44,@5=5,@6=9 
```

# jboss - 在 Windows 中运行 jboss 应用程序服务器

> ID：15240143
> 
> 赞同：0
> 
> 时间：2013-03-06T06:05:20.393
> 
> 标签：jboss, jboss7.x

我尝试根据阅读我运行 j boss 7.1 我去 j boss home 并运行standalone.bat **\bin\standalone.bat** 然后命令提示符给出一个按摩“**调用 \bin\standalone.conf.bat** ”这就是所有请帮助我解决这个问题。我在 oracle 虚拟框中使用 Windows 7

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T18:04:49.190

通过使用`\bin\standalone.bat`你告诉 Windows，假设你的驱动器名称是`C`，在`C:\bin\standalone.bat`. 如果您在 JBoss 安装目录中，通常称为 ，请在命令的开头`JBOSS_HOME`添加一个。`.`

例子：

```
.\bin\standalone.bat 
```

如果你确实有一个`JBOSS_HOME`目录集，你可以这样做：

```
%JBOSS_HOME%\bin\standalone.bat 
```

# c - 如何在c中交错两个字符串

> ID：15240145
> 
> 赞同：0
> 
> 时间：2013-03-06T06:05:30.280
> 
> 标签：c, string

我正在尝试编写一个程序，该程序接受 C 中的两个字符串输入，然后在两个字符串交错时产生结果。

我想要的一个例子：

```
input: abdc
input: efgh

result: aebfdgch 
```

这是到目前为止我为该部分编写的一小部分代码。

```
#include <stdio.h> 
#include <string.h>

#define maxLen 100

int main() {

   char string1[maxLen];
   char string2[maxLen];

   printf("please enter a string of up to 100 characters: ");
   fgets(shuffleString,maxLen,stdin);

   printf("please enter another string of up to 100 characters: ");
   fgets(shuffleString2,maxLen,stdin);

   return 0;
} 
```

我已经尝试了很多事情来使洗牌工作，但我似乎没有。这是一个家庭作业，所以我不想让别人为我写代码，但是一些例子和解释会很好。另外，如果还不是很明显，这是针对 C 级入门课程的，所以我希望尽可能地接近我的水平。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:08:18.907

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

char *strlace(char *str1, char *str2)
{
    int i;
    int len = strlen(str1) + strlen(str2) + 1;
    char *str = (char*)malloc(len * sizeof(char));

    for (i = 0; i < strlen(str1); ++i) {
        str[i*2] = str1[i];
    }

    for (i = 0; i < strlen(str2); ++i) {
        str[1+i*2] = str2[i];
    }

    str[len - 1] = 0;

    return str;
}

int main()
{
    char *str1 = "abdc";
    char *str2 = "efgh";
    char *str3 = strlace(str1, str2);

    puts(str3);

    free(str3);

    return 0;
} 
```

似乎工作。享受。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:20:00.957

```
#include <stdio.h> 
#include <stdlib.h>
#include <string.h>

#define maxLen 100

char *
strinter(char *s1, char *s2)
{
    char *dst;
    int len = strlen(s1) + strlen(s2);

    dst = malloc(len + 1);
    if(dst == NULL)
        return NULL;
    for(;*s1 || *s2;){
      if(*s1)*dst++ = *s1++;
      if(*s2)*dst++ = *s2++;
    }
    *dst = '\0';
    return dst - len;
}

void
chomp(char *s)
{
    char *p = strchr(s, '\n');
    if(p != NULL)
        *p = '\0';
}

int
main(void)
{
    char string1[maxLen];
    char string2[maxLen];
    char *string3;

    printf("please enter a string of up to 100 characters: ");
    fgets(string1, maxLen, stdin);

    printf("please enter another string of up to 100 characters: ");
    fgets(string2, maxLen, stdin);

    /* remove newlines */
    chomp(string1);
    chomp(string2);

    string3 = strinter(string1, string2);
    if(string3 == NULL)
        return 1;
    printf("%s\n", string3);
    free(string3);
    return 0;
} 
```

即使两个输入字符串的长度不同，这也会起作用。

# android - Android 的部分列表视图中缺少数据？

> ID：15240153
> 
> 赞同：1
> 
> 时间：2013-03-06T06:06:05.603
> 
> 标签：android, android-listview

我正在使用 Android 中的部分列表视图来根据日期显示呼叫详细信息。指在特定日期下的电话号码的详细信息。但是当我在同一日期接到 2 个电话时，最后一个日期仅可见，并且列表不显示该日期的其余电话。

不同日期的通话显示正确，但同一日期的通话显示不正确，只显示最后一次通话。

我正在使用以下代码：

```
public String response = "{ \"Message\":\"Success\", "
        + "\"Data\":[ { \"ACCOUNT\":\"000014532497\", "
        + "\"DATE\":\"8/6/2006\", \"TIME\":\"15:37:14\", "
        + "\"CH_ITEM\":\"341T\", \"ITEM\":\"TIMEUSED\", "
        + "\"DESCRIPTION\":\"FROM3103475779\", \"DETAIL\":"
        + "\"UnitedKingdom011441980849463\", \"QUANTITY\":84, "
        + "\"RATE\":0.025, \"AMOUNT\":2.1, \"ACTUAL\":83.2, "
        + "\"NODE_NAME\":\"TNT02\", \"USER_NAME\":\"Shailesh Sharma\""
        + ", \"MODULE_NAME\":\"DEBIT\", \"ANI\":\"3103475779\", "
        + "\"DNIS\":\"3103210104\", \"ACCOUNT_GROUP\":\"WEBCC\", "
        + "\"SALES_REP\":\"sascha_d\", \"SALES_REP2\":\"\", \"SALES_REP3"
        + "\":\"\", \"IN_PORT\":\"I10\", \"EXTRA1\":\"RATE\", \"EXTRA2\":"
        + "\"44\", \"EXTRA3\":\"UnitedKingdom\", \"OUT_PORT\":\"I70\", "
        + "\"CRN\":\"WEBCC\", \"CallId\":null, \"ID\":4517734, \"PhoneNumber"
        + "\":\"011441980849463\" }, {\"ACCOUNT\":\"000014532497\",\"DATE\":"
        + "\"8/6/2006\",\"TIME\":\"09:22:57\",\"CH_ITEM\":\"541T\",\"ITEM\":"
        + "\"TIMEUSED\",\"DESCRIPTION\":\"FROM3103475779\",\"DETAIL\":"
        + "\"UnitedKingdom011447914422787\",\"QUANTITY\":1,\"RATE\":0.29,"
        + "\"AMOUNT\":0.29,\"ACTUAL\":0.5,\"NODE_NAME\":\"TNT02\",\"USER_NAME"
        + "\":\"Tusshar\",\"MODULE_NAME\":\"DEBIT\",\"ANI\":\"3103475779\",\"DNIS"
        + "\":\"6173950047\",\"ACCOUNT_GROUP\":\"WEBCC\",\"SALES_REP\":\"sascha_d"
        + "\",\"SALES_REP2\":\"\",\"SALES_REP3\":\"\",\"IN_PORT\":\"I30\",\"EXTRA1"
        + "\":\"RATE\",\"EXTRA2\":\"44\",\"EXTRA3\":\"UnitedKingdom-Special\","
        + "\"OUT_PORT\":\"I90\",\"CRN\":\"WEBCC\",\"CallId\":null,\"ID\":4535675,"
        + "\"PhoneNumber\":\"011447914422787\"}, ], \"NumberOfContacts\":2, "
        + "\"TotalCharges\":4.830000000000001 }";

try {
    JSONObject jsonObj = new JSONObject(response);
    String message = jsonObj.getString("Message");

    if (message != null && message.equalsIgnoreCase("Success")) {

        JSONArray dataArray = jsonObj.getJSONArray("Data");
        System.out.println(dataArray.length());

        for (int i = 0; i < dataArray.length(); i++) {
            JSONObject history = dataArray.getJSONObject(i);
            _date = history.getString("DATE");

            String updatedDate = createDateFormat(_date);
            // notes =new ArrayList<String>();
            itemList = new ArrayList<Object>();

            // ADDING DATE IN THE ARRAYLIST<String>
            days.add(updatedDate);
            _username = history.getString("USER_NAME");
            _number = history.getString("PhoneNumber");
            _time = history.getString("TIME");
            _amount = history.getString("AMOUNT");
            _duration = history.getString("QUANTITY");

            /*
             * notes.add(_username); notes.add(_number);
             * notes.add(_time);
             */
            AddObjectToList(_username, _number, _time, _amount,
                    _duration);

            // listadapter = new <String>(this, R.layout.list_item,
            // notes);
            listadapter = new ListViewCustomAdapter(this, itemList);
            adapter.addSection(days.get(i), listadapter);
        }
    }
} catch (Exception e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
}

public class SeparatedListAdapter extends BaseAdapter {

    /*
     * public final Map<String, Adapter> sections = new
     * LinkedHashMap<String, Adapter>();
     */
    public final Map<String, Adapter> sections = new LinkedHashMap<String, Adapter>();
    public final ArrayAdapter<String> headers;
    public final static int TYPE_SECTION_HEADER = 0;

    public SeparatedListAdapter(Context context) {
        headers = new ArrayAdapter<String>(context, R.layout.list_header);
    }

    public void addSection(String section, Adapter adapter) {
        this.headers.add(section);
        this.sections.put(section, adapter);
    }

    public Object getItem(int position) {
        for (Object section : this.sections.keySet()) {
            Adapter adapter = sections.get(section);
            int size = adapter.getCount() + 1;

            // check if position inside this section
            if (position == 0)
                return section;
            if (position < size)
                return adapter.getItem(position - 1);

            // otherwise jump into next section
            position -= size;
        }
        return null;
    }

    public int getCount() {
        // total together all sections, plus one for each section header
        int total = 0;
        for (Adapter adapter : this.sections.values())
            total += adapter.getCount() + 1;
        return total;
    }

    @Override
    public int getViewTypeCount() {
        // assume that headers count as one, then total all sections
        int total = 1;
        for (Adapter adapter : this.sections.values())
            total += adapter.getViewTypeCount();
        return total;
    }

    @Override
    public int getItemViewType(int position) {
        int type = 1;
        for (Object section : this.sections.keySet()) {
            Adapter adapter = sections.get(section);
            int size = adapter.getCount() + 1;

            // check if position inside this section
            if (position == 0)
                return TYPE_SECTION_HEADER;
            if (position < size)
                return type + adapter.getItemViewType(position - 1);

            // otherwise jump into next section
            position -= size;
            type += adapter.getViewTypeCount();
        }
        return -1;
    }

    public boolean areAllItemsSelectable() {
        return false;
    }

    @Override
    public boolean isEnabled(int position) {
        return (getItemViewType(position) != TYPE_SECTION_HEADER);
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        int sectionnum = 0;
        for (Object section : this.sections.keySet()) {
            Adapter adapter = sections.get(section);
            int size = adapter.getCount() + 1;

            // check if position inside this section
            if (position == 0)
                return headers.getView(sectionnum, convertView, parent);
            if (position < size)
                return adapter.getView(position - 1, convertView, parent);

            // otherwise jump into next section
            position -= size;
            sectionnum++;
        }
        return null;
    }

    @Override
    public long getItemId(int position) {
        return position;
    }
} 
```

这是我的实际要求：

![](../Images/b4d9aee0cd36d6dc7b8de39c6d0318e8.png)

这就是现在正在发生的事情。 ![在此处输入图像描述](../Images/061c1618ddf6e22bee84bd555ca03eb7.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T08:37:24.370

SectionListExampleActivity 是我从 JSON Web 服务获得响应的主类。在 getJSONResposne 方法中，我调用了**EntryAdaptor**。

每个标题的 SECTION HEADER 和 ITEM ENTRY 有两个单独的 geter setter 类。

```
public class SectionListExampleActivity extends Activity implements OnClickListener, OnItemSelectedListener, IServerResponse {
    /** Called when the activity is first created. */

    private ArrayList<Item> items = new ArrayList<Item>();
    boolean firstTime = true;

    private Spinner _spinner=null;
    private ArrayAdapter _amountAdaptor = null;
    private ArrayList<String> _monthList =new ArrayList<String>();
    private ListView _list=null;

    private Button _monthButton=null;
    private ImageButton _backImageButton=null;
    private ImageButton _headerImageButton=null;
    private String _token;
    private String _account;
    private Point p=null;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.account_history);

        String response = this.getIntent().getExtras().getString("history_resp");
        _token = Constant.AUTH_TOKEN;
        _account = Constant.ACCOUNT_NUM;

        _list = (ListView)findViewById(R.id.listview);
        getJSON_Response(response,Constant.PID_ACCOUNT_HISTORY);

        EntryAdapter adapter = new EntryAdapter(this, items);

        _list.setAdapter(adapter);

        _monthList.add("Months");
        _monthList.add("January");
        _monthList.add("February");
        _monthList.add("March");
        _monthList.add("April");
        _monthList.add("May");
        _monthList.add("June");
        _monthList.add("July");
        _monthList.add("August");
        _monthList.add("September");
        _monthList.add("October");
        _monthList.add("November");
        _monthList.add("December");

        _spinner = (Spinner)findViewById(R.id.month_spinner);
        _amountAdaptor = new ArrayAdapter(this,
                android.R.layout.simple_spinner_dropdown_item,
                _monthList);
        _spinner.setAdapter(_amountAdaptor);
        _spinner.setOnItemSelectedListener(this);

        _monthButton = (Button)findViewById(R.id.monthSpinner_button);
        _monthButton.setOnClickListener(this);

        _backImageButton = (ImageButton)findViewById(R.id.back_ImageButton);
        _backImageButton.setOnClickListener(this);
        _headerImageButton =(ImageButton)findViewById(R.id.header_ImageButton);
        _headerImageButton.setOnClickListener(this);
    }

    private void getJSON_Response(String response,int pid) {

        switch (pid) {
        case Constant.PID_ACCOUNT_HISTORY:
            try {
                JSONObject jsonObj = new JSONObject(response);
                String message = jsonObj.getString("Message");

                if(message!=null && message.equalsIgnoreCase("Success")){

                    JSONArray dataArray = jsonObj.getJSONArray("Data");
                    System.out.println(dataArray.length());
                    String lastAddedDate = null;
                    for (int i = 0; i <dataArray.length(); i++) {
                        JSONObject history = dataArray.getJSONObject(i);
                        String date  = history.getString("DATE");

                        if(firstTime || !(date.equalsIgnoreCase(lastAddedDate))){
                            firstTime=false;
                            lastAddedDate = date;
                            items.add(new SectionItem(date));
                        }
                        String username= history.getString("USER_NAME");
                        String number = history.getString("PhoneNumber");
                        String time = history.getString("TIME");
                        String amount=history.getString("AMOUNT");
                        String duration =history.getString("QUANTITY");

                        items.add(new EntryItem(username,duration,amount,number,time));
                    }
                }

            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            break;

        default:
            break;
        }
    }

    @Override
    public void onClick(View v) {
        if(v==_monthButton){
            _spinner.performClick();
        }else if(v==_backImageButton){
            SectionListExampleActivity.this.finish();
        }else if(v== _headerImageButton){
            if (p != null)
                showPopup(SectionListExampleActivity.this, p);
        }
    }

    @Override
    public void onItemSelected(AdapterView<?> parent, View v, int position,
            long arg3) {
        if(position!=0){
            switch (parent.getId()) {
            case R.id.month_spinner:
                String selectedItem =  _spinner.getSelectedItem().toString();
                _monthButton.setBackgroundResource(R.drawable.month_blank);
                _monthButton.setText(selectedItem);

                final Calendar c = Calendar.getInstance();
                int year = c.get(Calendar.YEAR);
                int month = c.get(Calendar.MONTH);
                int day = c.get(Calendar.DAY_OF_MONTH);
                String _historyURL = Constant.prodORdevUrl + "GetAccountHistory?token="+_token+"&account="+_account+"&month="+month+"&year="+year;
                getHistory(_historyURL,true);
                break;
            default:
                break;
            }
        }
    }

    @Override
    public void onNothingSelected(AdapterView<?> arg0) {
        // TODO Auto-generated method stub

    }           
}

public class EntryAdapter extends ArrayAdapter<Item> implements IServerResponse {

private Context context;
private ArrayList<Item> items;
private LayoutInflater vi;
private String _token;
private String _account;

public EntryAdapter(Context context,ArrayList<Item> items) {
    super(context,0, items);
    this.context = context;
    this.items = items;
    vi = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    _token = Constant.AUTH_TOKEN;
    _account = Constant.ACCOUNT_NUM;
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    View v = convertView;

    final Item i = items.get(position);
    if (i != null) {
        if(i.isSection()){
            SectionItem si = (SectionItem)i;
            v = vi.inflate(R.layout.list_item_section, null);

            v.setOnClickListener(null);
            v.setOnLongClickListener(null);
            v.setLongClickable(false);

            final TextView sectionView = (TextView) v.findViewById(R.id.list_item_section_text);
            String date  =createDateFormat(si.getTitle());
            sectionView.setText(date);
        }else{
            EntryItem ei = (EntryItem)i;
            v = vi.inflate(R.layout.list_item_entry, null);
            final RelativeLayout relay = (RelativeLayout)v.findViewById(R.id.account_history_item_relay);
            final TextView username = (TextView)v.findViewById(R.id.user_name_textview);
            final TextView amount = (TextView)v.findViewById(R.id.amount_textview);
            final TextView duration = (TextView)v.findViewById(R.id.duration_textview);
            final TextView phone = (TextView)v.findViewById(R.id.phone_no_textview);
            final TextView time = (TextView)v.findViewById(R.id.time_textview);

            relay.setOnClickListener(new OnClickListener() {
                @Override
                public void onClick(View v) {
                    makeCall(phone.getText().toString());
                }
            });

            if (username != null) 
                username.setText(ei.username);
            if(amount != null)
                amount.setText(ei.duration + "min");
            if(duration != null)
                duration.setText("$"+ ei.amount);
            if(phone != null)
                phone.setText(ei.number);
            if(time != null)
                time.setText(ei.time);
        }
    }
    return v;
}

void makeCall(String destination) {
    if(_token!=null && _account!=null){

        if(destination!=null && !destination.equals("")){
            String phoneNumber = Constant.getPhoneNumber(this.context.getApplicationContext());
            if(phoneNumber!=null && phoneNumber.length()>0){
                String callURL =WebService.WEB_SERVICE_URL+"PlaceLongDistanceCall?token="+_token +
                        "&phonenumber="+phoneNumber+"&destinationNumber="+destination+"&authtoken="+_token;

                getCall(callURL,true);
            }else{
                Constant.showToast(this.context, Constant.INSERT_SIM);
            }
        }else{
            Constant.showToast(this.context, "In valid destination number.");
        }
    }
}

} 
```

# asp.net - ASP 文件，但需要为每个组织显示不同的 url

> ID：15240158
> 
> 赞同：1
> 
> 时间：2013-03-06T06:06:21.403
> 
> 标签：asp.net, url-rewriting

***编辑*** 好的，所以在文件代码中，即单击“搜索”按钮后它转到的文件中，有以下代码：

```
<%
    Dim DbConnectionStr
    Dim objConn
    Dim OrgRS, SQL
    Dim StateRS, SQL1

    TempOrganization = Request.Form("Organization")
    TempState = Request.Form("State")
    TempOrgType = Request.Form("OrgType")
    TempLenderType = Trim(Request.Form("LenderType"))
    TempAttributes = Request.Form("Attributes")
    TempAreaServed = Request.Form("AreaServed")
    'response.Write TempAreaServed
    DbConnectionStr = Database Password Information....(Not listed, unimportant for you to help me with)
    Set objConn = Server.CreateObject("ADODB.Connection")
    objConn.Open DbConnectionStr     

    SQL = "Select * FROM CDFILocator"

    WhereFlag = False
    DisplayFlag = False
    DisplayCriteria = ""

    If TempOrganization <> "ALL" then
        SQL = SQL & " WHERE OrganizationName = '" & TempOrganization & "'"
        DisplayCriteria = "Organization Name is <b>" & TempOrganization & "</b>"
        WhereFlag = True
    Else
        DisplayCriteria = "Any Organization"
        DisplayFlag = True 
    End If  

    If TempState <> "ALL" then
        If WhereFlag = False then
            SQL = SQL & " WHERE State = '" & TempState & "'"
            DisplayCriteria = "State is <b>" & TempState & "</b>"
            WhereFlag = True
        Else
            SQL = SQL & " and State = '" & TempState & "'"
            DisplayCriteria =  DisplayCriteria & " and State is <b>" & TempState & "</b>"
            WhereFlag = True
        End If  
    Else
        If WhereFlag = False and DisplayFlag = False then
            DisplayCriteria = "Any State" 
            DisplayFlag = True
        Else
            DisplayCriteria =  DisplayCriteria & " and Any State"
        End If      
    End If  

    If TempAreaServed <> "ALL" then
        arrAreaServed = Split(TempAreaServed, ", ", -1, 1)
        If WhereFlag = False then
            SQL = SQL & " WHERE ("'" & TempAreaServed & "')"
            DisplayCriteria = "Area(s) Served: "  
            For I = LBound(arrAreaServed) To UBound(arrAreaServed)
                SQL = SQL & "AreaServed like '%" & arrAreaServed(I) & "%' or "
                DisplayCriteria = DisplayCriteria & arrAreaServed(I) & ","
            Next
            DisplayCriteria = Mid(DisplayCriteria,1,Len(DisplayCriteria)-1)
            ' Add National for all
            SQL = SQL & "AreaServed like '%national%' or "
            SQL = Mid(SQL,1,Len(SQL)-3)
            SQL = SQL & ")"
            WhereFlag = True
        Else
            SQL = SQL & " AND ("'" & TempAreaServed & "')"
            DisplayCriteria = DisplayCriteria & " and Area(s) Served: "  
            For I = LBound(arrAreaServed) To UBound(arrAreaServed)
                SQL = SQL & "AreaServed like '%" & arrAreaServed(I) & "%' or "
                DisplayCriteria = DisplayCriteria & arrAreaServed(I) & ","
            Next
            DisplayCriteria = Mid(DisplayCriteria,1,Len(DisplayCriteria)-1)
            ' Add National for all
            SQL = SQL & "AreaServed like '%national%' or "
            SQL = Mid(SQL,1,Len(SQL)-3)
            SQL = SQL & ")"
            WhereFlag = True
        End If
    Else
        If WhereFlag = False and DisplayFlag = False then
            DisplayCriteria = "Any Area Served in the Nation" 
            DisplayFlag = True
        Else
            DisplayCriteria =  DisplayCriteria & " and Any Area Served in the Nation"
        End If      
    End If  
    If TempOrgType <> "ALL" then
        If WhereFlag = False then
            SQL = SQL & " WHERE OrganizationType like '%" & TempOrgType & "%'"
            DisplayCriteria = "Organization Type is <b>" & TempOrgType & "</b>"
            WhereFlag = True
        Else
            SQL = SQL & " and OrganizationType like '%" & TempOrgType & "%'"
            DisplayCriteria =  DisplayCriteria & " and Organization Type is <b>" & TempOrgType & "</b>"
            WhereFlag = True
        End If  
    Else
        If WhereFlag = False and DisplayFlag = False then
            DisplayCriteria = "Any Organization Type"
            DisplayFlag = True 
        Else
            DisplayCriteria =  DisplayCriteria & " and Any Organization Type"
        End If      
    End If  

    If TempLenderType <> "ALL" then
        If WhereFlag = False then
            SQL = SQL & " WHERE LendingType like '%" & TempLenderType & "%'"
            DisplayCriteria = "Lending Type is <b>" & TempLenderType & "</b>"
            WhereFlag = True
        Else
            SQL = SQL & " and LendingType like '%" & TempLenderType & "%'"
            DisplayCriteria =  DisplayCriteria & " and Lending Type is <b>" & TempLenderType & "</b>"
            WhereFlag = True
        End If  
    Else
        If WhereFlag = False and DisplayFlag = False then
            DisplayCriteria = "Any Lender Type"
            DisplayFlag = True 
        Else
            DisplayCriteria =  DisplayCriteria & " and Any Lender Type"
        End If      
    End If  

    If TempAttributes <> "ALL" then
        If WhereFlag = False then
            SQL = SQL & " WHERE Attributes like '%" & TempAttributes & "%'"
            DisplayCriteria = "Attributes are <b>" & TempAttributes & "</b>"
            WhereFlag = True
        Else
            SQL = SQL & " and Attributes like '%" & TempAttributes & "%'"
            DisplayCriteria =  DisplayCriteria & " and Attributes are <b>" & TempAttributes & "</b>"
            WhereFlag = True
        End If  
    Else
        If WhereFlag = False and DisplayFlag = False then
            DisplayCriteria = "Any Attributes"
            DisplayFlag = True 
        Else
            DisplayCriteria =  DisplayCriteria & " and Any Attributes"
        End If      
    End If  

    SQL = SQL & " ORDER BY OrganizationName"

    'Response.Write SQL

    Set OrgRS = Server.CreateObject("ADODB.RecordSet")
    OrgRS.Open SQL,objConn,adOpenKeySet,3

    TempRecordCount = OrgRS.RecordCount

%>
<% 
Dim strAryUrl
Dim strValue
Dim textSelection

strValue = Request.ServerVariables("URL")
strAryUrl = Split(strValue, "/")  

%>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--[if lt IE 7 ]> <html xmlns="http://www.w3.org/1999/xhtml" lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html xmlns="http://www.w3.org/1999/xhtml" lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html xmlns="http://www.w3.org/1999/xhtml" lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html xmlns="http://www.w3.org/1999/xhtml" lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html xmlns="http://www.w3.org/1999/xhtml" lang="en" class="no-js"> <!--<![endif]-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="keywords" content="Opportunity Finance Network, Mark Pinsky, community, development, community development, community development bank, community development fund, community development financial institution, community investment, affordable housing, urban renewal, loan fund, credit union, bank, banking, finance, financial, financing, funding, investing, loan, loans, microenterprise, venture capital, venture capital fund, CDFI, CDFIs, housing, business, small business, local business, community facilities, consumer financial services, socially responsible investing, socially responsible investment, community investing, revitalization, social justice, economic justice, economically-disadvantaged">

<link rel="stylesheet" href="/css/OFNStyles.css" type="text/css" />
<link rel="stylesheet" href="/css/navigation.css" type="text/css" />

<title>Opportunity Finance Network - Industry</title>

<script type="text/javascript" language="javascript" src="/inc/mainNavigation.js"></script>

<!--[if IE]>
<style type="text/css">
body{behavior:url(/css_hover.htc);}
#menu a, #menu h2{font:bold 0.7em/1.4em arial,helvetica,sans-serif;}
#menu ul li{float:left;height:1%;width:100%;}
#menu ul li a{height:1%;}
</style>
<![endif]-->

</head>

<body>

  <table width="680" border="0" align="center" cellpadding="0" cellspacing="0" bgcolor="#ffffff">
    <tr>
     <td valign="top" bgcolor="#072A60" height="24"></td>
    </tr>
    <tr>
      <td>

        <center>
            <a href="/default.aspx"><img src="/images/ofnHeader.png" title="Home" width="680" height="71"  border="0" alt="Opportunity Finance Network" /></a>
        </center>

        <!-- #INCLUDE virtual="/inc/mainNav.inc" -->

      </td>
    </tr>
    <tr>
      <td valign="top"><table width="680" border="0" cellspacing="0" cellpadding="0" id="mainTable">
        <tr>
          <td valign="top" id="leftNav" nowrap="nowrap">
            <!-- #include file="subNav.inc" -->
            <!-- #include virtual="/subNavPromos/subNavPromos.inc" -->                       
          </td>
          <td valign="top" id="mainCont" class="bodytxt">
          <a style="float: right;text-decoration: underline;" href="/industry/industry_locator.asp">Search Again</a> 

<style type="text/css">
.MPimgs { float: right; }
.MPlogo { text-align: right; float: right; }
.attribute { clear: right; float: right; margin-top: 5px; }
.MPdetails { line-height: 1.5; }
.ie6 .MPdetails,
.ie6 .MPimgs  { float: right; }
.ie6 .MPdetails { width: 234px; }
.ie6 .MPimgs { width: 200px; }
.ie6 .attribute { clear: right; }
.ie6 hr { clear: right; }
</style>

<h1>Find a CDFI Results</h1>

<p><strong>Search Criteria</strong>: <%=DisplayCriteria%>.</p> 

<%  If Not OrgRS.EOF then

        While not OrgRS.EOF %>

    <h4><%=ORgRS("OrganizationName")%></h4>

        <div class="MPimgs">
        <% If Len(Trim(ORgRS("ImageFile"))) > 0 then %>
            <img  class="MPlogo" src="../images/members/<%=ORgRS("ImageFile")%>" border="0">
        <% End If %>

            <!-- Insert WNA Images here -->

        <% If Instr(ORgRS("Attributes"), "CARS Rated") then %>
            <br /><a href="http://www.carsratingsystem.net"><img class="attribute" src="../images/cars_rated.gif" alt="CARS&trade; Rated" border="0" /></a>
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "10awardee") then %>
            <br /><img class="attribute" src="../images/10awardee.png" alt="10 WNA Awardee" border="0" />
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "10finalist") then %>
            <br /><img class="attribute" src="../images/10finalist.png" alt="10 WNA Finalist" border="0" />
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "10semi") then %>
            <br /><img class="attribute" src="../images/10semi-finalist.png" alt="10 WNA SemiFinalist" border="0" />
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "09awardee") then %>
            <br /><img class="attribute" src="../images/09awardee.png" alt="09 WNA Awardee" border="0" />
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "09finalist") then %>
            <br /><img class="attribute" src="../images/09finalist.png" alt="09 WNA Finalist" border="0" />
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "09semi") then %>
            <br /><img class="attribute" src="../images/09semi-finalist.png" alt="09 WNA SemiFinalist" border="0" />
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "08awardee") then %>
            <br /><img class="attribute" src="../images/08awardee.png" alt="08 WNA Awardee" border="0" />
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "08finalist") then %>
            <br /><img class="attribute" src="../images/08finalist.png" alt="08 WNA Finalist" border="0" />
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "08semi") then %>
            <br /><img class="attribute" src="../images/08semi-finalist.png" alt="08 WNA Semifinalist" border="0" />
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "07awardee") then %>
            <br /><img class="attribute" src="../images/07awardee.png" alt="07 WNA Awardee" border="0" />
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "07finalist") then %>
            <br /><img class="attribute" src="../images/07finalist.png" alt="07 WNA Finalist" border="0" />
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "07semi") then %>
            <br /><img class="attribute" src="../images/07semi-finalist.png" alt="07 WNA Semifinalist" border="0" />
        <% End If %>

        <% If Len(Trim(ORgRS("MemberProfile"))) > 0 then %>
            <br /><b><a class="attribute" href="../store/Downloads/<%=ORgRS("MemberProfile")%>" target="_blank"><img class="attribute" src="../images/mpDownload.png" alt="Download Member Profile" border="0" /></a></b>
        <% End If %>

        <% If Instr(ORgRS("Attributes"), "CJ4USA") then %>
            <br /><img class="attribute" src="../images/cj4usaAwardee.png" alt="Create Jobs for USA Awardee" border="0" />
        <% End If %>

     </div> <!-- End MPimgs -->     

          <p class="MPdetails"><%=ORgRS("Address1")%><br />
          <% If ORgRS("Address2") <> "" then %>
            <%=ORgRS("Address2")%><br />
          <% Else %>
          <% End If %>
          <%=ORgRS("City")%>,&nbsp;<%=ORgRS("State")%>&nbsp;&nbsp;<%=ORgRS("ZipCode")%> <br />
          <b>Phone:</b> <%=ORgRS("Phone")%><br />
          <b>Fax:</b> <%=ORgRS("Fax")%><br />
          <b>E-Mail:</b> <a href="Mailto:<%=ORgRS("EMail")%>"><%=ORgRS("EMail")%></a><br />
          <b>URL:</b> <a href="<%=ORgRS("URL")%>" target="_blank"><% If Len(Trim(ORgRS("URL"))) > 50 then %><%=Mid(ORgRS("URL"),1,50)%>...<% Else %><%=ORgRS("URL")%><% End If %></a><br />
          <b>Contact Person:</b> <%=ORgRS("ContactPerson")%>, <%=ORgRS("Title")%><br />
          <b>Area Served:</b> <%=ORgRS("AreaServed")%><br />
          <b>Organization Type:</b> <%=ORgRS("OrganizationType")%><br />
          <b>Lending Type:</b> <%=ORgRS("LendingType")%></p>

          <p><%=ORgRS("Description")%></p>

            <hr color="Black" width="50%" Align="center">
<%      OrgRS.MoveNext
        Wend
%>
            <p class="bodytxt" style="float: right;"><a href="/industry/industry_locator.asp">Search Again</a></p>
<%      
    Else    
%>                  
          <p class="bodytxt">No results found from your search criteria.</p> 
          <p class="bodytxt"><a href="/industry/industry_locator.asp">Search Again</a></p> 

<%  End If %>

          </td>
        </tr>
      </table>  
      </td>
    </tr>
    <tr>
      <td id="footCell">

      <!-- #INCLUDE virtual="/inc/footer.inc" -->

<!-- Start Google Analytics Code  -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-965748-1";
urchinTracker();
</script>
<!-- End Google Analytics Code  --></body>
</html>

<%  OrgRS.Close
    Set OrgRS = nothing
    objConn.Close
    Set objConn = nothing
%> 
```

让我知道您是否需要更多代码。我需要做的只是以某种方式从基于 URL 的数据库中获取信息......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:39:12.170

由于 URL 映射或静态页面需要更多工作，我建议您的 URL 上的查询字符串如下：

`http://opportunityfinance.net/industry/?{organizations name}`

读取查询字符串并显示适当的结果。由于当前提到的页面地址没有改变，它会向自己发布数据。因此，如果我们可以使用代码，很容易告诉您哪些代码行负责获取数据（在此处发布您的代码以获得更多帮助）

**更新：**

如果 URL 语法为：`http://opportunityfinance.net/industry/?organization={organizations name}`

然后将该行替换为`TempOrganization = Request.Form("Organization")`以下内容：

> TempOrganization = 请求（“组织”）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:12:32.980

如果不是这个网址

```
http://opportunityfinance.net/industry/{organizations name} 
```

你可以改为

```
http://opportunityfinance.net/industry#{organizations name} 
```

那么您将能够处理客户端的所有事情

读取哈希标记值`window.location.hash`，然后更改组织下拉列表的值并以编程方式单击按钮以加载信息

# asp.net-mvc-4 - 1&1 Windows 主机/表单认证数据库

> ID：15240160
> 
> 赞同：0
> 
> 时间：2013-03-06T06:06:27.317
> 
> 标签：asp.net-mvc-4

在 Studio 2012 中，我使用 dotnet 4.0 创建了一个带有表单身份验证的 MVC4 项目。我更改了 web.config 中数据库的连接字符串以使用 sql 数据库而不是本地 mdf 文件。

上传后我遇到了一个错误，你可以[在这里](http://s459652102.online.de/Account/Register)看到：

> “无法加载文件或程序集 'MySql.Web, Version=6.6.4.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d' 或其依赖项之一。系统找不到指定的文件。”

我确信微软不会将 MySql-Assemblys 绑定到一个新的 MVC4 项目中。我认为这是 1&1 的错误配置。

还是真的是我的错？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T08:54:45.967

我能够在下面执行以下操作。我正在运行针对 .Net Framework 4.0 的 VS2012.2、MVC4。我将它部署到我的托管服务提供商 (DiscountASP.Net) 的 .Net 4 服务器上。

*   不要添加`MySQL.Data, MySQL.Data.Entities`，而是`MySQL.Web`通过`NuGet.`从 MySQL 站点下载 .Net 连接器。在发布这篇文章时，它是 MySQL.Data、MySql.Data.Entity 和 MySql.Web 的 6.6.5 版。如果您已经拥有它们，请`NuGet`务必从包管理器中卸载它们。

*   手动将 .net 4 的 MySQL asm 引用添加到 MySQL 安装其 .net 连接器的项目中（我的在 .net 中`C:\Program Files (x86)\MySQL\MySQL Connector Net 6.6.5\Assemblies\v4.0`）。请务必检查`Copy Local`所有三个 asms。

*   在 web.config 中添加或修改以下内容：

在该`<configuration><connectionStrings>`部分：

```
<add name="MyProviderDbConn" connectionString="server=mysql01.someurl.com;User Id=dbuser1;Pwd=ToManySecrets;Persist Security Info=True;database=MyDbSchemaName;Use Compression=True;port=3306" providerName="MySqlMembershipProvider" /> 
```

在该`<configuration><system.web>`部分：

```
<membership defaultProvider="MySqlMembershipProvider">
<providers>
<clear />
<add name="MySqlMembershipProvider" type="MySql.Web.Security.MySQLMembershipProvider, MySql.Web, Version=6.6.5.0, PublicKeyToken=c5687fc88969c44d" autogenerateschema="true" connectionStringName="MyProviderDbConn" enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false" passwordFormat="Hashed" maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10" passwordStrengthRegularExpression="" applicationName="/" />
</providers>
</membership> 
```

*   [在 NSilverBullet](http://www.nsilverbullet.net/2012/11/06/using-mysql5-as-membership-backend-for-aspnet45-mvc4-application/)向Joshua 致敬，这是我从中获取 web.config 详细信息的地方。

# unity3d - Unity3D中的碰撞检测

> ID：15240161
> 
> 赞同：0
> 
> 时间：2013-03-06T06:06:36.897
> 
> 标签：unity3d, character, collision, unityscript

我正在开发 3D 格斗游戏。我有两个角色和他们的动画。我已经应用了我自定义的角色控制器和角色控制器脚本。我有两个按钮，一个用于移动 farword，一个用于移动 backword..还有四个按钮来播放不同的动画，就像打一拳，打腿等。到目前为止，它的工作非常好。现在我已经使用胶囊对象和他们的胶囊对撞机作为不同骨骼的孩子。就像我已经将一个胶囊对象与他们的对撞机放置在左手骨骼的孩子。所以骨骼移动该对象将移动..我还在第二个玩家身体上放置了一个胶囊，我将它放在头部下方和腿上方意思是它放在胸前。我还使用了没有重力的刚体，并且在所有胶囊对象中单击了 onTrigger 函数。现在我希望当我的第一个玩家手触摸放置胶囊的第二个玩家主体时，它将调用一个函数。但在脚本中它不会调用..我不知道是什么问题..任何身体都可以指导我. 这是我的脚本

```
public function Start() : void {
f_inAirStartTime = Time.time;
}
//Checking if the character hit the ground (collide Below)
public function IsGrounded () : boolean {
return (c_collisionFlags & CollisionFlags.CollidedBelow);
}
//Getting if the character is jumping or not
public function IsJumping() : boolean {
return b_isJumping;
}
//Checking if the character is in the air more than the minimum time
//This function is to make sure that we are falling not walking down slope
public function IsAir() : boolean {
return (f_inAirTime > f_minAirTime);
}
//Geting if the character is moving backward
public function IsMoveBackward() : boolean {
return b_isBackward;
}
public function Update() : void {
//Get Main Camera Transform
var cameraTransform = Camera.main.transform;
//Get forward direction of the character
v3_forward = cameraTransform.TransformDirection(Vector3.forward);
v3_forward.y = 0; //Make sure that vertical direction equals zero
// Right vector relative to the character
// Always orthogonal to the forward direction vector
v3_right = new Vector3(v3_forward.z, 0, -v3_forward.x);

//Get Horizontal move - rotation
var f_hor : float ;//= Input.GetAxis("Horizontal");
if(backword==true)
{
f_hor=1;
backword=false;
}
if(farword==true)
{
f_hor=-1;
farword=false;
}

//Get Vertical move - move forward or backward
var f_ver : float = Input.GetAxis("Vertical");
//If we are moving backward
if (f_ver < 0) {
b_isBackward = true;
} else {
b_isBackward = false;
}
//Get target direction
var v3_targetDirection : Vector3 = (f_hor * v3_right) + (f_ver * v3_forward);
//If the target direction is not zero - that means there is no button pressing
if (v3_targetDirection != Vector3.zero) {
//Rotate toward the target direction
v3_moveDirection = Vector3.Slerp(v3_moveDirection, v3_targetDirection, f_rotateSpeed * Time.deltaTime);
v3_moveDirection = v3_moveDirection.normalized; //Get only direction by normalizing our target vector
} else {
v3_moveDirection = Vector3.zero;
}
//Checking if character is on the ground
if (!b_isJumping) {
//Holding Shift to run
//if (Input.GetKey (KeyCode.LeftShift) || Input.GetKey (KeyCode.RightShift)) {
if(Left_punch_anim){

b_isRun = true;

f_moveSpeed = runSpeed;
//Right_punch_anim=false;
} else {
b_isRun = false;
f_moveSpeed = speed;
}
//Press Space to Jump
if (Input.GetButton ("Jump")) {
f_verticalSpeed = jumpSpeed;
b_isJumping = true;
}
}
//Debug.Log(controller.velocity.sqrMagnitude+"magniture");

// Apply gravity
if (IsGrounded()) {
f_verticalSpeed = 0.0; //if our character is grounded
b_isJumping = false; //Checking if our character is in the air or not
f_inAirTime = 0.0;
f_inAirStartTime = Time.time;
} else {
f_verticalSpeed -= gravity * Time.deltaTime; //if our character in the air
//Count Time
f_inAirTime = Time.time - f_inAirStartTime;
}
// Calculate actual motion
var v3_movement : Vector3 = (v3_moveDirection * f_moveSpeed) + Vector3 (0, f_verticalSpeed, 0); // Apply the vertical speed if character fall down
v3_movement *= Time.deltaTime;
// Move the controller
c_collisionFlags = controller.Move(v3_movement);
//Play animation
if (b_isJumping) {
if (controller.velocity.y > 0 ) {
animation[jumpPoseAnimation.name].speed = jumpAnimationSpeed;
animation.CrossFade(jumpPoseAnimation.name, 0.1);
} else {
animation[fallPoseAnimation.name].speed = fallAnimationSpeed;
animation.CrossFade(fallPoseAnimation.name, 0.1);
}
} else {
if (IsAir()) { // Fall down
animation[fallPoseAnimation.name].speed = fallAnimationSpeed;
animation.CrossFade(fallPoseAnimation.name, 0.1);
} else {
if(controller.velocity.sqrMagnitude < 0.1) {
   if(Left_punch_anim)
   {

   animation[leftanimAnimation.name].speed = runAnimationSpeed;
animation.CrossFade(leftanimAnimation.name, 0.5);
Left_punch_anim=false;
idlemode=true;

   }
   else
   if(Right_punch_anim)
   {

   animation[rightanimAnimation.name].speed = runAnimationSpeed;
animation.CrossFade(rightanimAnimation.name, 0.5);
Right_punch_anim=false;
idlemode=true;

   }
   else
  { 
//Debug.Log(controller.velocity.sqrMagnitude+"hjgkjgkjg");
animation[idleAnimation.name].speed = idleAnimationSpeed;
animation.CrossFade(idleAnimation.name, 0.1);
}
} else { //Checking if the character walks or runs
if (b_isRun) {
//Debug.Log("In the run animation");
animation[leftanimAnimation.name].speed = runAnimationSpeed;
animation.CrossFade(leftanimAnimation.name, 0.1);
} else {
animation[walkAnimation.name].speed = walkAnimationSpeed;
animation.CrossFade(walkAnimation.name, 0.1);
}
}
}
}
if(idlemode)
{

}
//Update rotation of the character
if (v3_moveDirection != Vector3.zero) {
transform.rotation = Quaternion.LookRotation(v3_moveDirection);
}
}
public function OnControllerColliderHit(hit:ControllerColliderHit)
{
    //     Debug.Log("Collision have been enter");
    }   

/*public function OnTriggerEnter(other:Collider)
{

Debug.Log(other.gameObject.name);
}*/
public function OnCollisionEnter(other:Collision)
{
Debug.Log("collision is enter");
}
function OnTriggerEnter(col:Collider)
{
Debug.Log(col.gameObject.name); 

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:59:47.383

好吧。我假设您既没有收到 OnCollisionEnter 也没有收到 OnTriggerEnter 调用。

确保具有这些方法的脚本位于具有 collider-component 的实际 GameObject 上。

OnCollisionEnter-参考：

> “请注意，仅当其中一个对撞机还附加了非运动学刚体时，才会发送碰撞事件。”

总结一下： OnCollisionEnter 仅在您实际使用物理系统由于力、碰撞等原因移动对象时才被调用。

如果您只想注册一个命中而不通过物理系统引起移动，您可以使用 OnTriggerEnter。在这种情况下，刚体必须在移动物体上，并且至少有一个涉及的碰撞器必须设置为 isTrigger。

还要确保在 projectSettings->Physics 中将图层设置为碰撞。

希望这对您有所帮助。

# android - 在android中开发拆分视图

> ID：15240168
> 
> 赞同：-2
> 
> 时间：2013-03-06T06:06:59.280
> 
> 标签：android, uinavigationbar

我想在我的应用程序中实现一个拆分视图，就像在 facebook 中一样。当我单击按钮时的功能会出现另一个活动，并且应该与 facebook 中的完全一样 我该如何开发这个功能任何人都可以帮助我

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:16:43.257

查看Jeremy Feinstein的[SlidingMenu](https://github.com/jfeinstein10/SlidingMenu)

# iphone - NSDate 对象从具有不同值的 NSString 接收

> ID：15240170
> 
> 赞同：-1
> 
> 时间：2013-03-06T06:07:02.683
> 
> 标签：iphone, ios, nsdate

我喜欢获取本地设备时间并分配给字符串对象。

```
NSDate* currentDate = [NSDate date];
NSDateFormatter *dateformatter=[[NSDateFormatter alloc]init];
[dateformatter setDateFormat:@"d MMMM , yyyy"];
self.dateSting=[[NSMutableString alloc]init];
self.dateSting = [NSMutableString stringWithFormat:@"%@" ,[dateformatter stringFromDate:currentDate]]; 
```

收到的输出 = 2013 年 3 月 6 日

转换`NSString`为`NSDate`下面的对象返回代码

```
NSDateFormatter *uu=[[NSDateFormatter alloc]init];
[uu setDateFormat:@"d MMMM , yyyy"];

NSDate *yy=[uu dateFromString:self.dateSting]; 
```

输出recived=2013-03-05 18:30:00 +0000 天之内的差异。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T06:11:01.620

好吧，解决方案相当简单。`NSDate`始终显示[GMT](http://wwp.greenwichmeantime.com/)。从您的个人资料中，我可以看到您当前的位置是[INDIA](https://www.google.co.in/search?q=time+zone+of+INdia&aq=f&oq=time+zone+of+INdia&aqs=chrome.0.57j0l3j62l2.3530&sourceid=chrome&ie=UTF-8#hl=en&sugexp=les%3B&gs_rn=5&gs_ri=psy-ab&tok=oof-FrBxBj2E96JNiLQe4g&pq=time%20zone%20of%20india&cp=14&gs_id=3&xhr=t&q=time+zone+of+india&es_nrs=true&pf=p&sclient=psy-ab&oq=time+zone+of+Idia&gs_l=&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&bvm=bv.43287494,d.bmk&fp=22e7cbac4256cbc1&biw=1022&bih=632)，当地时区是 GMT +5.30hrs。

你得到的当前输出是`2013-03-05 18:30:00 +0000`如果你添加 5.30hrs 你会得到`2013-03-06 00:00:00 +0000`。请注意，在最后`NSDate`您可以看到类似的内容`+0000`，这显示了时区。

这是您问题的原因/解决方案，如果您想知道如何解决，[答案就在这里](https://stackoverflow.com/a/7213629/1756131)。

希望现在一切都清楚了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:21:58.833

尝试这样的事情。

```
NSDate* currentDate = [NSDate date];
NSLog(@"%@",currentDate);
NSDateFormatter *dateformatter=[[NSDateFormatter alloc]init];
[dateformatter setDateFormat:@"d MMMM hh:mm:ss, yyyy"];

NSLog(@"%@",[dateformatter stringFromDate:currentDate]);

NSDate *yy=[dateformatter dateFromString:[dateformatter stringFromDate:currentDate]];
NSLog(@"%@",yy);

NSDateFormatter *uu=[[NSDateFormatter alloc]init];
[uu setDateFormat:@"d MMMM , yyyy"];

NSLog(@"%@",[uu stringFromDate:yy]); 
```

由于 GMT 偏移，会出现日期和时间的差异。NSLogging NSDate 给你时间处理偏移量。偏移量显示要从日期中添加或减去的值。在印度，它是 +5.30。始终确保保留偏移详细信息，因为如果不存在，它们可能会更改实际日期。希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:12:17.563

dateWithString：创建并返回一个 NSDate 对象，其日期和时间值由国际字符串表示格式 (YYYY-MM-DD HH:MM:SS ±HHMM) 中的给定字符串指定。

*   (id)dateWithString:(NSString *)aString 参数 aString 以国际字符串表示格式指定日期和时间值的字符串 — YYYY-MM-DD HH:MM:SS ±HHMM，其中 ±HHMM 是时区偏移量GMT 后的小时和分钟（例如，“2001-03-24 10:45:32 +0600”）。您必须指定格式字符串的所有字段，包括时区偏移量，它必须具有加号或减号前缀。

# android - 如何以编程方式在android应用程序中显示数字键盘

> ID：15240175
> 
> 赞同：3
> 
> 时间：2013-03-06T06:07:15.937
> 
> 标签：android, numeric, blackberry-10, keypad

我正在尝试将android应用程序（2.3.3）移植到BB 10，目前输入=数字，没有显示数字键盘，即使它过滤得当，我尝试了一系列方法以使其以编程方式工作或在XML中进行一些修改.

在修改 xml 文件时，我能够得到密码 = true，它在其他键盘之上过滤数字键盘，但仍然无法找出其他一些非密码键盘。

同样，我尝试以编程方式修改密码以及设置，但这些都不起作用，下面是我以编程方式尝试的事情列表，但它们都没有达到我的目的。

```
 myNumber= (EditText) findViewById(R.id.ActivateNewUser_myNumber);
  myNumber.setInputType(InputType.TYPE_CLASS_NUMBER);
  myNumber.setRawInputType(Configuration.KEYBOARD_12KEY);
  myNumber.setKeyListener(new DigitsKeyListener());
  myNumber.setOnClickListener(this);
  myNumber.setTransformationMethod(PasswordTransformationMethod.getInstance());
  myNumber.setTransformationMethod(null);
  myNumber.setInputType(InputType.TYPE_CLASS_TEXT );
  myNumber.setInputType(InputType.TYPE_TEXT_VARIATION_VISIBLE_PASSWORD);
  myNumber.setInputType(InputType.TYPE_TEXT_VARIATION_PASSWORD);
  myNumber.setInputType(InputType.TYPE_CLASS_TEXT | inputType.TYPE_TEXT_VARIATION_VISIBLE_PASSWORD);
  myNumber.requestFocus();
  InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);
  imm.showSoftInput(myNumber, InputMethodManager.SHOW_IMPLICIT); 
```

如果我遗漏了什么，请告诉我。

# jquery - Jquery UI 1.9 Menu - 你如何保持活动菜单项突出显示？

> ID：15240184
> 
> 赞同：1
> 
> 时间：2013-03-06T06:07:43.510
> 
> 标签：jquery, jquery-ui, menu, jquery-ui-menu, jqui

我正在使用 Jquery UI “菜单” API 在应用程序中创建导航菜单。

菜单绘制和链接很好，当悬停在它上面时，会应用自然的 jquery ui css，为悬停的元素提供 ui-state-focus 类。当您将鼠标从元素上移开时，它会删除此类，这会将元素置于默认的未突出显示状态。

我已经尝试添加标准的 jquery ui css 类“ui-state-active”，它将特定的 CSS 应用于给定此类的菜单中的元素。但是，当悬停任何其他元素时，此 ui-state-active 类将从活动元素中删除，即使尚未进行新选择（通过单击），也有效地使悬停杀死活动选择。

我希望能够保持悬停类的添加，但保持 ACTIVE 类不变，以便在每个页面上，活动菜单元素将始终具有活动类。

关于在 jquery UI 菜单 api 中标记活动元素的正确方法有什么想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T06:28:01.337

我建议为所选项目创建一个单独的类（您可以复制现有的 ui-state-active 并将其重命名为 selected 之类的名称），然后：。

```
 $("#menu").find("a").click(function(){
    $("#menu").find("a").removeClass("selected");//remove if something was selected
    $(this).addClass("selected");//add a selected class
    }); 
```

希望有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-17T09:24:14.177

```
jQuery.widget("ui.menu", jQuery.ui.menu, {
    blur: function( event, fromFocus ) {
        if (event && event.type === "mouseout"))
            return this;
        else 
            return this._super(event, fromFocus);
    } 
}); 
```

仅适用于 jQuery >= 1.9

# iphone - 将解析 XML 值的 NSMutableArray 添加到 AppDelegate 好还是坏？

> ID：15240187
> 
> 赞同：0
> 
> 时间：2013-03-06T06:07:47.893
> 
> 标签：iphone, objective-c

添加`NSMutableArray`which is Parsed XML value 是`AppDelegate`好还是坏？

我试图为一个相当大的 XML 找到最佳解决方案，该 XML 被解析然后添加到`NSMutableArray`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:28:19.930

将数据保存在`AppDelegate`. AppDelegate 应该用于初始化和接收应用程序级事件，作为操作系统和应用程序之间的中介。

您可以创建一个单例`DataManager`，它将在会话中获取所有数据。制作`Composite Model objects`您的结构并将它们作为集合保存在 DataManager 中。如果您可以提供有关您尝试保留的数据类型的更多信息，我们可以提供建议。

更多阅读[单例对象](http://www.johnwordsworth.com/2010/04/iphone-code-snippet-the-singleton-pattern/)

# iphone - iOS通过api检索语音邮件号码

> ID：15240189
> 
> 赞同：-1
> 
> 时间：2013-03-06T06:08:03.893
> 
> 标签：iphone, voicemail

是否可以检索保存在 iPhone 中的语音邮件号码。如果可能的话，请让我知道找回它的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:55:05.043

无法检索电话的电话号码。

# java - 对象 ArrayList 未显示到 ListView

> ID：15240190
> 
> 赞同：-4
> 
> 时间：2013-03-06T06:08:13.100
> 
> 标签：java, android, arrays, listview

所以我试图将两种不同类型的`ArrayLists`( `GregorianCalendar`& `String`) 组合成第三种`ArrayList`。然后将其显示`ArrayList`到`ListView`. 我不知道为什么它没有显示，因为我没有收到任何错误，而且它似乎应该可以工作。

该模型的代码如下。

```
import java.io.Serializable;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Calendar;
import java.util.GregorianCalendar;

import android.util.Log;

public class Model implements Serializable {

public static final int END_MORNING = 11;  // 11:00AM, inclusive
public static final int END_AFTERNOON = 16;  // 4:00PM, inclusive

private GregorianCalendar startDate;

private ArrayList<GregorianCalendar> datesSmoked = new ArrayList<GregorianCalendar>();
private ArrayList<String> locationsSmoked = new ArrayList<String>();
private ArrayList<String> locations = new ArrayList<String>();
private ArrayList<String> allIncidents = new ArrayList<String>();

public String [] defaultLocations = {"Home", "Work", "Commuting", "School", "Bar",  "Restaurant", "Social Gathering", "Other"};
public String [] newLocation = {"",""}; 

public Model(GregorianCalendar date){
    startDate = date;

    for (String s : this.defaultLocations) {            
        locations.add(s);
    }           
}

public Model(){
    this(new GregorianCalendar()); // now
}

public void setLocationSmoked() {
    for (String s : this.newLocation) {
        locationsSmoked.add(s);
    }
}

public void setAllIncidentsArray() {        
    allIncidents.add(datesSmoked.toString());
    allIncidents.add(locationsSmoked.toString());
}

public ArrayList<String> getAllIncidentsArray() {
    return allIncidents;
}

public ArrayList<String> getlocationsArray() {
    return locations;
}

public ArrayList<String> getLocationsSmokedArray() {
    return locationsSmoked;
}

public ArrayList<GregorianCalendar> getDatesSmokedArray() {
    return datesSmoked;
}

public void incrementCount(String location) {   
    this.datesSmoked.add(new GregorianCalendar());  // now
    this.locationsSmoked.add(location);     
}

public int getTodayCount() {
    GregorianCalendar now = new GregorianCalendar();
    int todayDayOfYear = now.get(Calendar.DAY_OF_YEAR);

    int count = 0;
    for (GregorianCalendar day : this.datesSmoked)
        if (day.get(Calendar.DAY_OF_YEAR) == todayDayOfYear)
            count++;

    return count;
}

public int getTotalCount() {
    return this.datesSmoked.size();
}

public double getAverage() {
    if (getDays() > 0)
        return (double) getTotalCount() / getDays();
    else
        return 0.0;
}

public int getDays() {
    return (new GregorianCalendar()).get(Calendar.DAY_OF_YEAR) - startDate.get(Calendar.DAY_OF_YEAR) + 1;
}

public int getMorning() {
    int count = 0;
    for (GregorianCalendar date : this.datesSmoked)
        if (date.get(Calendar.HOUR_OF_DAY) <= END_MORNING)
            count++;

    return count;
}

public int getAfternoon() {
    int count = 0;
    for (GregorianCalendar date : this.datesSmoked)
        if (date.get(Calendar.HOUR_OF_DAY) > END_MORNING && date.get(Calendar.HOUR_OF_DAY) <= END_AFTERNOON)
            count++;

    return count;
}

public int getEvening() {
    int count = 0;
    for (GregorianCalendar date : this.datesSmoked)
        if (date.get(Calendar.HOUR_OF_DAY) > END_AFTERNOON)
            count++;

    return count;
}
} 
```

此代码适用于尝试在列表视图中显示数组的 Activity

```
import java.io.ObjectInputStream;
import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.util.Log;
import android.view.Menu;
import android.view.MenuItem;
import android.widget.ArrayAdapter;
import android.widget.ListView;

public class AllIncidentsActivity extends Activity {

public static final String SMOKIN_DATA_FILE = "smokin.dat";

public static Model model = null;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.activity_all_incidents);

    restoreModel();

    ListView listView = (ListView) findViewById(R.id.all_incidents_listview_Id);
    ArrayAdapter<String> listAdapter = new ArrayAdapter<String>(this,
            android.R.layout.simple_list_item_1, model.getAllIncidentsArray());     
    listView.setAdapter(listAdapter);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_all_incidents, menu);
    return true;
}

public void restoreModel() {
    // Restore from disk, or start with an empty model
    try {

        ObjectInputStream ois = new ObjectInputStream(
                openFileInput(SMOKIN_DATA_FILE));

        model = (Model) ois.readObject();
        ois.close();

    } catch (Exception e) {
        Log.v("*** DEBUG ***", "Error writing to file: " + e);
        model = new Model();
    }
}   

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    // Handle item selection
    switch (item.getItemId()) {

        case R.id.menu_home_Id:
            Intent homeIntent = new Intent(this, AllIncidentsActivity.class);
            startActivity(homeIntent); ;                
            return true;

        case R.id.menu_locations_Id:
            Intent locationsIntent = new Intent(this, LocationActivity.class);
            startActivity(locationsIntent); ;                
            return true;

        case R.id.menu_edit_locations_Id:
            Intent editLocationsIntent = new Intent(this, EditLocationsActivity.class);
            startActivity(editLocationsIntent); ;                
            return true;
        default:
            return super.onOptionsItemSelected(item);
    }
}

} 
```

预先感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T15:00:08.877

我想到了。我正在发布我的解决方案，以便其他新`Android`开发人员可以从我的错误中吸取教训。

首先制作一个`for-loop`以格式化原始日期`ArrayList`

```
/**
This method loops through datesSmoked ArrayList<GregorianCalendar> and formats each
element with a simpledateformatter named sdf. Then adds the formatted elements to a new  
ArrayList<String> times. Finally it returns the value of the times ArrayList
*/
public ArrayList<String> getDates() {
    for (int i = 0; i < datesSmoked.size(); i++) {
        String s = (sdf.format(i)); // formats each line here
        times.add(s);               // adds the elements to the new ArrayList here
    }
    return times;                   // returns the values from the new ArrayList
} 
```

二是把这两条平行`String` `ArrayLists`加起来合二为一`ArrayList`。需要注意的是，这些需要在我的`ListView`. 其他方法可能更有效，但由于这些方法实际上是并行`ArrayLists`的并且总是相同的大小，因此下面的代码可以完美运行。

```
/**
This method adds the two ArrayLists together into a new ArrayList, then returns the  
values concatenated into one line. 
*/
public ArrayList<String> getAllIncidentsArray() {

    for (int i = 0; i < datesSmoked.size(); i++) {
        allIncidents.add(getDates().get(i) + ", " + locationsSmoked.get(i));
    }

return allIncidents;
} 
```

第三次`ArrayList`用你的在指定活动中显示新的 allIncidents`ArrayAdapter`

```
public class LocationActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.activity_location);
        // find your listview
        ListView listView = (ListView) findViewById(R.id.location_listview_Id);
        // declare your ArrayAdapter and attach your ArrayList or in this case Method
        ArrayAdapter<String> listAdapter = new ArrayAdapter<String>(this,
            android.R.layout.simple_list_item_1, model.getPlacesSmoked());      
        // attach the ArrayAdapter to your ListView
        listView.setAdapter(listAdapter);
        // Notify your ArrayAdapter of any changes when these ArrayLists grow
        listAdapter.notifyDataSetChanged();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:15:41.707

不要拿对象。将其转换为 String arraylist 即可。为什么需要使用 Object ArrayList ？在列表中，您将看到字符串不是对象。

# iphone - 如何在iphone中将数据传递给Tbxml

> ID：15240191
> 
> 赞同：2
> 
> 时间：2013-03-06T06:08:15.120
> 
> 标签：iphone, ios, objective-c, tbxml

我正在尝试使用 TBXML，我想通过发送用户名和密码来解析 xml，但不知道该怎么做，我已经阅读了很多教程。

```
 -(IBAction)login{
                    NSString *str2=emailtxt.text;
                    NSString *str3=passtxt.text;

                    TBXML * tbxml = [TBXML tbxmlWithURL:[NSURL URLWithString:@"http://www.vinipost.com/my_service.asmx/signIn"]];

                    TBXMLElement *rootXMLElement = tbxml.rootXMLElement;

                    if (rootXMLElement)
                    {
                        TBXMLElement * user = [TBXML childElementNamed:@"Table1" parentElement:rootXMLElement];

                        while (user != nil)
                        {

                            TBXMLElement *CountryId = [TBXML childElementNamed:@"usrid" parentElement:user];
                            if (CountryId != nil)
                            {
                                NSLog(@"CountryId :: %@", [TBXML textForElement:CountryId]);
                            }

                            TBXMLElement *CountryName = [TBXML childElementNamed:@"ContctNmbr" parentElement:user];
                            if (CountryName != nil)
                            {
                                NSLog(@"CountryName :: %@", [TBXML textForElement:CountryName]);
                            }

                            user = [TBXML nextSiblingNamed:@"Table1" searchFromElement:user];
                        }
                    }
                } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:55:08.167

将您的网址更改为

```
[NSURL URLWithString:@"http://www.vinipost.com/my_service.asmx/signIn?email=yourEmail&pass=yourPass"]; 
```

您可以通过以下链接[Operation On String在运行时设置您的电子邮件和密码](http://rajneesh071.blogspot.in/2013/03/operation-on-string.html)

# iphone - 切换 icloud 帐户时创建持久存储时应用程序崩溃

> ID：15240198
> 
> 赞同：2
> 
> 时间：2013-03-06T06:08:38.407
> 
> 标签：iphone, ios, objective-c, icloud

我正在应用程序的核心数据中实现 iCloud。但问题是，当我在添加持久存储时切换 iCloud 帐户应用程序崩溃。以下是我得到的错误日志

```
Error: Error Domain=NSCocoaErrorDomain Code=256 "The operation couldn’t be completed. (Cocoa error 256.)" UserInfo=0x1cd3c600 {NSFilePath=/private/var/mobile/Library/Mobile Documents/E7E99FZSXM~com~tpt~mobileinventorynavigator/data/.baseline/com.tpt.mobilecommoditytrader.store200hij/R374GT_SOtlsru2c6ZdIu7SJvDIGqlBCc9juS0aP_0k=/baseline.zip, NSUnderlyingError=0x1cd3d000 "The operation couldn’t be completed. Bad file descriptor"}
" UserInfo=0x1cd3d850 {NSLocalizedDescription=<PFUbiquityBaseline: 0x1cd3e4d0>(0)
    permanentLocation: <PFUbiquityLocation: 0x1cd3e320>: /private/var/mobile/Library/Mobile Documents/E7E99FZSXM~com~tpt~mobileinventorynavigator/data/.baseline/com.tpt.mobilecommoditytrader.store200hij/R374GT_SOtlsru2c6ZdIu7SJvDIGqlBCc9juS0aP_0k=/baseline.zip
    safeLocation: <PFUbiquityLocation: 0x1cd3da20>: /private/var/mobile/Library/Mobile Documents/E7E99FZSXM~com~tpt~mobileinventorynavigator/data/.baseline/com.tpt.mobilecommoditytrader.store200hij/R374GT_SOtlsru2c6ZdIu7SJvDIGqlBCc9juS0aP_0k=/mobile.CE450AC2-AB0D-5B69-BA2F-280ACE4DC4F5
    currentLocation: <PFUbiquityLocation: 0x1cd3e320>: /private/var/mobile/Library/Mobile Documents/E7E99FZSXM~com~tpt~mobileinventorynavigator/data/.baseline/com.tpt.mobilecommoditytrader.store200hij/R374GT_SOtlsru2c6ZdIu7SJvDIGqlBCc9juS0aP_0k=/baseline.zip

    storeName: com.tpt.mobilecommoditytrader.store200hij
    modelVersionHash: R374GT_SOtlsru2c6ZdIu7SJvDIGqlBCc9juS0aP_0k=
    baselineArchiveLocation: <PFUbiquityLocation: 0x1cd3e320>: /private/var/mobile/Library/Mobile Documents/E7E99FZSXM~com~tpt~mobileinventorynavigator/data/.baseline/com.tpt.mobilecommoditytrader.store200hij/R374GT_SOtlsru2c6ZdIu7SJvDIGqlBCc9juS0aP_0k=/baseline.zip 
```

我还在拦截 iCloud 帐户更改并删除存储文件并创建新文件。但我没有成功。请建议您是否知道我在做什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:28:25.760

最初检查天气您是否已登录 icloud 帐户，以下代码

```
 NSURL *ubiq = [[NSFileManager defaultManager]
                       URLForUbiquityContainerIdentifier:nil];

if(ubip== nil)  
     NSLOG(no icloud acount);  
else  
     NSLOG(icloud acount); 
```

# lucene - PayloadTermQuery 中的模糊查询

> ID：15240203
> 
> 赞同：0
> 
> 时间：2013-03-06T06:09:09.883
> 
> 标签：lucene

我是 PayloadTermQuery 用法的新手，发现它适用于给定 @ Search Hub 的示例中的简单匹配。

与 Lucene-4.1 一样，我在 PayloadTermQuery 中找不到任何支持模糊查询的 API。

您能帮我理解为什么对 Term 规范有限制，而不是 Query 作为 PayloadTermQuery 构造函数的参数吗？

谢谢，马努

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T22:09:51.380

FuzzyQuery 扩展自 org.apache.lucene.search。**MultiTermQuery**，而 PayloadTermQuery 接受单个 Term。

只能将 'Term' 作为参数传递的限制是因为您正在构建的查询类型，即 Payload **TermQuery**。

如果它允许 Query 实例，则构造函数最终将接收包含多个术语的查询。

# javascript - Windows 8：包括其他没有 HTML 的 javascript 源

> ID：15240211
> 
> 赞同：0
> 
> 时间：2013-03-06T06:09:26.080
> 
> 标签：javascript, windows-8

我正在 Windows 8 JS 应用程序中编写[后台任务](http://msdn.microsoft.com/en-us/library/windows/apps/hh977045.aspx)，我希望后台任务能够使用在其他文件中定义的 Javascript（[WinJS.log()](http://msdn.microsoft.com/en-us/library/windows/apps/jj150612.aspx)函数等......）不幸的是，我想不通了解如何在单个 . [文件，并且由于此 javascript 文件是通过BackgroundTaskBuilder](http://msdn.microsoft.com/en-us/library/windows/apps/windows.applicationmodel.background.backgroundtaskbuilder.aspx)`js`调用的，因此没有相应的文件可以在其中放置标签以包含更多源。`.html``<script src=...></script>``.js`

有没有人知道如何在后台任务中包含代码？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T15:44:42.580

我相信后台任务基本上都是WebWorkers。

因此，您可以使用“importScripts”功能，它允许您添加脚本并使其内容可供您使用。

请注意，WebWorker 环境与完整的浏览器不同。详细信息：http: [//www.html5rocks.com/en/tutorials/workers/basics/](http://www.html5rocks.com/en/tutorials/workers/basics/)

# javascript - []，我将其作为 json 响应

> ID：15240212
> 
> 赞同：0
> 
> 时间：2013-03-06T06:09:26.283
> 
> 标签：javascript, json

我正在尝试在 succes 函数中接受 json，即此处的数据，我将数据作为 [] 获取，但在警报框中没有收到**任何数据**。有什么我想念的吗，谁能帮忙。提前致谢

```
 success: function (data) {
        $('#loader').hide();
        if (data != null) {
            alert('congratulations');
        }else{ 
            alert('no data');
        }
     } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:21:32.473

尝试替换`if (data != null)`为`if ((data || []).length)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:13:21.740

如果您希望您的数据为数组，那么要测试它是否为空，请检查它的长度：

```
if (data && data.length > 0) {
    // ...
} 
```

因为空数组`[]`不是`null`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:15:02.130

写条件时，这些值被认为是假的：'', 0, [], undefined, null

```
success: function (data) {
    $('#loader').hide();
    if (data == true)
        alert('congratulations');
    else
        alert('no data');
 } 
```

# php - 用 xfdf 数据填充 pdf

> ID：15240214
> 
> 赞同：0
> 
> 时间：2013-03-06T06:09:28.187
> 
> 标签：php, pdf, xfdf

我有一些 xfdf 数据，如此处所示，我需要在 PHP 中填写可编辑的 pdf。谁能给我一个解决方案？

```
<?xml version="1.0" encoding="UTF-8"?>
<xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">
<fields>
<field name="first_name">
<value>tismon</value>
</field>
<field name="last_name">
<value>varghese</value>
</field>
</fields>
<ids original="dbd3aadc6b6b85761ca83030e0558363" modified="1362548354" />
<f href="unlocked.pdf" />
</xfdf> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-06-21T17:02:01.230

1.  下载 [pdftk](https://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/)
2.  如果您需要知道如何通过 PHP 创建 fdf 文件

`$fdf='<?xml version="1.0" encoding="UTF-8"?> <xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve"> <fields> <field name="first_name"> <value>tismon</value> </field> <field name="last_name"> <value>varghese</value> </field> </fields> <ids original="dbd3aadc6b6b85761ca83030e0558363" modified="1362548354" /> <f href="unlocked.pdf" /> </xfdf>'; file_put_contents("file_name.fdf", $fdf);`

3.Fill FDF to PDF

```
passthru("pdftk fillablePDF.pdf fill_form file_name.fdf output output.pdf flatten"); 
```

或者你这样做

```
exec("$root/resources\PDFtk\bin\pdftk fillablePDF.pdf fill_form   file_name.fdf output output.pdf flatten 2>&1"); 
```

注意：要使文件输出可填充，您只需在两种情况下都忽略“flatten”： `exec("$root/resources\PDFtk\bin\pdftk fillablePDF.pdf fill_form file_name.fdf output output.pdf 2>&1");`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-31T21:15:40.757

我也一直试图为此找到一个好的答案，这是迄今为止我找到的最好的答案。似乎运作良好。

[使用 PHP 将 FDF 数据合并为 PDF 文件](https://stackoverflow.com/questions/1389964/merge-fdf-data-into-a-pdf-file-using-php)

# python - 导入错误：没有名为 dns.query 的模块

> ID：15240215
> 
> 赞同：6
> 
> 时间：2013-03-06T06:09:39.873
> 
> 标签：python, scapy

我正在尝试在 Windows 中执行 python 代码...该代码包含以下几行：

```
from scapy import *
import random
import socket
import dns.query 
```

但是当我从命令行编译它时，它会给出以下错误：

```
C:\Python25 > attack.py
Traceback <most recent call last>:
File "C:\Python25\attack.py", line 4 , in <module>
import dns.query
ImportError: No module named dns.query 
```

可能是什么错误？我该如何解决这个问题？是因为路径还是因为 dns.query 模块没有编译

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-06T12:09:03.163

这意味着您没有安装 dnspython。

安装 dnspython 有两种方法：

1.好方法：

要安装任何模块，最简单的方法是首先安装安装工具。设置工具类似于 ubuntu 的“apt-get”。你在哪里说“easy_install”，它会得到它并安装它。要安装 setuptools，请从[https://pypi.python.org/pypi/setuptools](https://pypi.python.org/pypi/setuptools)下载源代码 现在提取它们。在提取的目录中将有一个文件 setup.py。运行 python setup.py 安装

这将在您的系统中安装设置工具。

您将能够看到一个可执行文件 c:\python2x\Scripts\easy_install.exe（2x 是 python 的版本，例如 26、27 等）

现在安装 dnspython 运行

c:\python2x\Scripts\easy_install.exe dnspython

这应该可以解决您的问题，现在您的脚本应该可以正常运行。

您还可以将 c:\python2x\Scripts 放在 windows PATH 中，这样您就不必每次安装模块时都放置整个路径。

2.坏方法：

尽管如果 dnspython 依赖的某些模块不可用，此方法可能不起作用。

[从http://www.dnspython.org/kits/1.10.0/](http://www.dnspython.org/kits/1.10.0/)下载 dnspython 的源代码并解压。现在转到提取的文件夹并运行 python setup.py install

# php - 将 Javascript 转换为 PHP

> ID：15240216
> 
> 赞同：-2
> 
> 时间：2013-03-06T06:09:47.917
> 
> 标签：php, javascript, web-deployment

如何在不使用 JavaScript 的情况下将该程序转换为仅包含计算的 php？我正在使用回声“”；我应该使用 If 计算($choice)

```
<html>
     <head><title>hw4-5</title>
      <style type='text/css'>
     table{color:black;background-color:lightgray;border:6px solid black;border-width:4px;}
     th{color:white;background-color:black;outline-style:solid;outline-width:2px;border:2px solid black;}
     input.button{color:black;background-color:red;border:4px solid black;}
     input#idname1,input#idname2,input#idname3{background-color:DEDEE6;border:4px solid black;}
    </style>
    <script type='text/javascript'>
    function compute(choice)
    {
     var tbox1=document.getElementById('idname1');
     var tbox2=document.getElementById('idname2');
     var tbox3=document.getElementById('idname3');
     if(choice==1){tbox2.value=parseInt(tbox1.value)*(tbox1.value);}
     else if(choice==2){tbox3.value=parseInt(tbox1.value)*4;}
     else if(choice==3){tbox2.value=parseInt(tbox1.value)*(tbox1.value);
     tbox3.value=parseInt(tbox1.value)*4;}
     else{tbox1.value=tbox2.value=tbox3.value='';}
      }
      </script>
    </head>
    <form>
   <table>
   <th colspan='2' >SQUARE PROBLEM</th>
   <tr><td><label>Side:     </label></td><td><input type='text' id='idname1' /></td></tr>
   <tr><td><label>Area:     </label></td><td><input type='text' id='idname2' /></td></tr>
   <tr><td><label>Perimeter:</label></td><td><input type='text' id='idname3' /></td></tr>
   <tr><td colspan='2' >
   <input class='button' type='button' value='Area'         onClick='compute(1)' />
    <input class='button' type='button' value='Perimeter' onClick='compute(2)' />
    <input class='button' type='button' value='Both'        onClick='compute(3)' />
    <input class='button' type='button' value='Clear'       onClick='compute(4)' /></td></tr>
    </table>
    </form>
    </html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:13:31.460

**PHP**无法执行该程序正在执行的**客户端操作**，因此您无法将其转换为 PHP 以替代 JavaScript；因此，任何尝试都将是无用的。

**编辑**

但是，您可以将值发布到 PHP 页面并进行服务器端处理并在下一页上显示结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-10T04:00:12.407

代码略有改动。只是试图复制“with js”的确切行为！

```
<html>
     <head><title>hw4-5</title>
      <style type='text/css'>
     table{color:black;background-color:lightgray;border:6px solid black;border-width:4px;}
     th{color:white;background-color:black;outline-style:solid;outline-width:2px;border:2px solid black;}
     input.button{color:black;background-color:red;border:4px solid black;}
     input#idname1,input#idname2,input#idname3{background-color:DEDEE6;border:4px solid black;}
    </style>
<?php 
$idname1 = "";
$answerA=0;
$answerP=0;

if (isset($_POST['butt1'])) {
    $idname1 = $_POST['idname1'];
    if($_POST['butt1']=="Area"){$answerA=$_POST['idname1'] * $_POST['idname1'];}
    else if($_POST['butt1']=="Perimeter"){$answerP=$_POST['idname1']*4;}
    else if($_POST['butt1']=="Both"){$answerA=$_POST['idname1'] * $_POST['idname1'];$answerP=$_POST['idname1']*4;}
    else{$answerA = $answerP = $idname1="";}
    }
?>

    </head>
    <form method="post">
   <table>
   <th colspan='2' >SQUARE PROBLEM</th>
   <tr><td><label>Side:     </label></td><td><input type='text' id='idname1' name="idname1" value="<?php echo($idname1); ?>"/></td></tr>
   <tr><td><label>Area:     </label></td><td><input type='text' id='idname2' name="idname2" value="<?php echo($answerA); ?>"/></td></tr>
   <tr><td><label>Perimeter:</label></td><td><input type='text' id='idname3' name="idname3" value="<?php echo($answerP); ?>"/></td></tr>
   <tr><td colspan='2' >
   <input class='button' type='submit' value='Area'  name="butt1"  />
    <input class='button' type='submit' value='Perimeter' name="butt1" />
    <input class='button' type='submit' value='Both' name="butt1"/>
    <input class='button' type='submit' value='Clear' name="butt1"/></td></tr>
    </table>

    </form>
    </html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:26:26.263

你想把它完全转换成 PHP 吗？那么你可以做到

```
 <?php 
       if(isset($_POST) && $_POST['submitbtn']!=''){
        $tbox1 = $_POST['idname1'];
        $tbox2 = $_POST['idname2'];
        $tbox3 = $_POST['idname3'];
        if($_POST['submitbtn'] =='Area'){$tbox2 = $tbox1*$tbox1;}
        if($_POST['submitbtn'] =='Perimeter'){$tbox3 = $tbox1*4;}
        if($_POST['submitbtn'] =='Both'){$tbox2 = $tbox1*$tbox1;$tbox3 = $tbox1*4;}
       } 
     ?>

    <form action="" method="post">
   <table>
   <tr><th colspan='2' >SQUARE PROBLEM</th></tr>
   <tr><td><label>Side:     </label></td><td><input type='text' id='idname1' name="idname1" value="<?php echo $tbox1?>" /></td></tr>
   <tr><td><label>Area:     </label></td><td><input type='text' id='idname2' name="idname2" value="<?php echo $tbox2?>" /></td></tr>
   <tr><td><label>Perimeter:</label></td><td><input type='text' id='idname3' name="idname3" value="<?php echo $tbox3?>" /></td></tr>
   <tr><td colspan='2'>
   <input class='button'  value='Area'   name="submitbtn"      type="submit" />
    <input class='button' value='Perimeter'  name="submitbtn"  type="submit" />
    <input class='button' value='Both'       name="submitbtn" type="submit" />
    <input class='button' value='Clear' name="clearbtn"  type="reset" /></td></tr>
    </table>
    </form> 
```

# jquery - jQuery 中方法链的缺点和优点是什么？

> ID：15240221
> 
> 赞同：5
> 
> 时间：2013-03-06T06:10:25.927
> 
> 标签：jquery, method-chaining

jQuery 中方法链接的缺点和优点是什么？

它比重新声明选择器更快吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:20:31.547

方法链的优点：

1.  选择器仅针对多个操作评估一次。更好的性能，更小的代码。
2.  选择器结果可用于多种方法，而无需将其分配给局部变量。更紧凑的代码。
3.  多个方法可以更紧凑地放在一条线上。
4.  当您想要对连续的不同结果（例如`$(this).next().find("span.title").closest(".section").hide();`. 如果没有链接，您将需要四个不同的局部变量，而这不需要。

链式的缺点：

1.  选择器结果没有保存在局部变量中，用于更复杂的用途，这些用途不能仅通过链接来完成。
2.  在一行中塞入太多连续的链接方法可能会损害代码的可读性，如果它扩展为很长的代码行。（仍然可以使用链接，但只是在链接中插入偶尔的换行符以避免这种情况）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T06:20:47.433

最有可能的优点是，

它使您的代码简短且易于管理。它提供了更好的性能（更快）。链条从左到右开始。所以 left most 将首先被调用，依此类推。

当使用链接时，JQuery 必须找到元素一次，它将一一执行所有附加的函数。

链接的一个缺点可能是不必要地使用它太多，然后它会导致性能下降。

例如：- 代码 1：

```
​$(document).ready(function(){
    $('#myContent').addClass('hello');
    $('#myContent').css('color', 'blue');
    $('#myContent').fadeOut('fast');
});​ 
```

代码 2：

```
$(document).ready(function(){
    $('#myContent').addClass('hello')
          .css('color', 'blue')
          .fadeOut('fast');     
});​ 
```

这两个代码都做同样的事情。Code 2 使用链接，它的代码更快更短。在代码 1 中，JQuery 必须搜索整个 DOM 以找到元素，然后在其上执行函数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T06:23:36.333

是的，它可以更快，但与将 jQuery 对象存储在一个变量中相比，它的速度同样快。

例如这个：

```
var elements = $('.myClass').find('p');
elements.next() 
```

应该和这个一样快：

`$('.myClass').find('p').next()`

大多数情况下，它归结为可读性……有时方法链接使代码更具可读性，但如果你忘乎所以，它会使它*的*可读性降低。

# gnumeric - 在 Gnumeric 的第三列中添加两列

> ID：15240224
> 
> 赞同：0
> 
> 时间：2013-03-06T06:10:40.607
> 
> 标签：gnumeric

有没有办法逐个单元格地从第三列添加两列？将两列视为两个数组，将第三列视为这两个数组的总和。

我怎样才能做到这一点`gnumeric`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T15:03:20.137

对的，这是可能的。假设您要从 A 列和 B 列添加数据并将结果放入 C 列。选择 C ​​列（尽管可能不是整列）并键入：=A:A+B:B 然后使用 Ctrl+Shift+Enter 验证

如果您只需要 10 行，则公式为 =A1:A10+B1:B10

# android - 从手机压缩文件并将其上传到服务器？

> ID：15240226
> 
> 赞同：0
> 
> 时间：2013-03-06T06:10:46.470
> 
> 标签：android, ios, compression, backup, restore

我已经开发了一个用于 IOS 和 ANDROID 上的备份和恢复的应用程序！对于备份，我只是循环所有文件并直接上传到服务器并进行恢复，同样将数据检索回手机。

但

1.现在我必须压缩文件并将其上传到服务器， 2.
还解压缩并将其恢复回移动设备
3.最重要的是这必须通过跨平台方法完成..（即我必须从 iPhone 备份并将其恢复到Android手机。）

有没有什么出路，欢迎相关答案或建议。

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:23:08.747

在 android 上，您可以使用 java.util.zip（尝试[使用 android 进行 Zipping](http://www.jondev.net/articles/Zipping_Files_with_Android_%28Programmatically%29)）来压缩文件并上传到服务器，而在 IOS 上，您可以使用 ZipFile 类（以[这个问题](https://stackoverflow.com/questions/286496/how-can-i-create-a-zip-file-by-using-objective-c)为例）来做同样的事情。Zip 是一种标准，因此它可以双向工作。

# indexeddb - 我似乎从 IndexedDB 索引中获得了脏读。这可能吗？

> ID：15240232
> 
> 赞同：0
> 
> 时间：2013-03-06T06:11:07.003
> 
> 标签：indexeddb

我有一些 js 使用 readwrite 事务对 IndexedDB（在 Chrome 中）执行 put，然后立即使用索引和 readonly 事务从同一个 indexedDB objectstore 查询。有时，我得到的结果不包括我的看跌期权和其他时候的变化。在 IndexedDB 中是否可以预料到这种脏东西？有没有办法避免它？

也许是因为我使用了 2 个不同的 txns 并且应该只使用一个（原因是这些调用实际上是 api 的一部分，它将 put 和 query 分成不同的 api 调用，每个调用都有自己的 txns）？尽管如此，似乎第一个 txn 应该在我的第二个开始之前完成并提交。

我的伪代码如下所示：

```
var txn = idb.transaction([DOC_STORE], "readwrite");
var putRequest = txn.objectStore(DOC_STORE).put(myDoc);
putRequest.onsuccess = function (e) {
    var txn2 = idb.transaction([DOC_STORE], "readonly");
    var store = txn2.objectStore(DOC_STORE);
    var anotherRequest=store.index.openCursor();
    .... walk the cursor here. Sometimes I don't see my changes from my put
}; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:04:06.197

您必须等待写入事务完成。它晚于请求成功事件。

```
var txn = idb.transaction([DOC_STORE], "readwrite");
var putRequest = txn.objectStore(DOC_STORE).put(myDoc);
txn.oncomplete = function (e) {
    var txn2 = idb.transaction([DOC_STORE], "readonly");
    var store = txn2.objectStore(DOC_STORE);
    var anotherRequest=store.index.openCursor();
    .... walk the cursor here. You will see see your all changes from your put
}; 
```

或者，您可以在同一事务中使用请求成功。

```
var txn = idb.transaction([DOC_STORE], "readwrite");
var putRequest = txn.objectStore(DOC_STORE).put(myDoc);
putRequest.onsuccess = function (e) {
    var store = txn.objectStore(DOC_STORE);
    var anotherRequest=store.index.openCursor();
    .... walk the cursor here. You will see see your all changes from your put
}; 
```

# mysql - 更改单列 MySQL 中的多个值

> ID：15240237
> 
> 赞同：0
> 
> 时间：2013-03-06T06:11:36.840
> 
> 标签：mysql

```
+-------+------------+-----------+-----------+
| ID    | name       | dept_name | salary    |
+-------+------------+-----------+-----------+
| 10101 | Srinivasan |         0 |  71500.00 |
| 12121 | Wu         |         0 |  90000.00 |
| 15151 | Mozart     |         0 |  40000.00 |
| 22222 | Einstein   |         0 |  95000.00 |
| 32343 | El Said    |         0 |  60000.00 |
| 33456 | Gold       |         0 |  87000.00 |
| 45565 | Katz       |         0 |  82500.00 |
| 58583 | Califieri  |         0 |  62000.00 |
| 76543 | Singh      |         0 |  80000.00 |
| 76766 | Crick      |         0 |  72000.00 |
| 83821 | Brandt     |         0 | 101200.00 |
| 98345 | Kim        |         0 |  80000.00 |
+-------+------------+-----------+-----------+ 
```

我想将 dept_name 列中的值更改为值（全部不同），而不保存和重新创建表。有没有办法做到这一点？

期望的输出：

```
+-------+------------+-----------+-----------+
| ID    | name       | dept_name | salary    |
+-------+------------+-----------+-----------+
| 10101 | Srinivasan |         1 |  71500.00 |
| 12121 | Wu         |         2 |  90000.00 |
| 15151 | Mozart     |         3 |  40000.00 |
| 22222 | Einstein   |         2 |  95000.00 |
| 32343 | El Said    |         2 |  60000.00 |
| 33456 | Gold       |         3 |  87000.00 |
| 45565 | Katz       |         1 |  82500.00 |
| 58583 | Califieri  |         3 |  62000.00 |
| 76543 | Singh      |         1 |  80000.00 |
| 76766 | Crick      |         1 |  72000.00 |
| 83821 | Brandt     |         2 | 101200.00 |
| 98345 | Kim        |         2 |  80000.00 |
+-------+------------+-----------+-----------+ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:40:52.203

我建议加入带有 UNION 的子查询。在这里查看我的答案以获取示例：[Reordering of column data in mysql](https://stackoverflow.com/questions/8532144/reordering-of-column-data-in-mysql/8534628#8534628)

# c++ - 在win32 api c中调整带有窗口的文本框

> ID：15240238
> 
> 赞同：3
> 
> 时间：2013-03-06T06:11:42.537
> 
> 标签：c++, api, winapi

我对 win32 API 编码很陌生。目前我面临一个问题：

1.  我创建了一个 mdi 子窗口并在其中插入了一个文本框。当我单击 mdi 子窗口的最大化按钮时，问题就出现了，窗口扩展但文本框尺寸保持不变，如编码中所述。我的问题是如何随着窗口重新调整文本框的大小。

我正在使用 turboc++ 4.5 编辑器。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T14:09:06.843

谢谢，问题解决了：

```
LRESULT  CALLBACK _export ChildProc( HWND hChild, UINT iMessage, WPARAM wParam,LPARAM      lParam ) 
```

{

```
HWND    Edit1;
HINSTANCE hInstance1;
PAINTSTRUCT ps;
int nWidth,nHeight;
 switch (iMessage)
 {

         case WM_CREATE :

         case WM_SIZE:  ''''''mentioned  by Jerry Coffin
                                            hInstance1 = GetWindowWord(hChild,GWW_HINSTANCE);
                                        Edit1 = CreateWindow("EDIT","",WS_CHILD|WS_VISIBLE|ES_AUTOHSCROLL|ES_AUTOVSCROLL|ES_MULTILINE|ES_READONLY| WS_VSCROLL|WS_HSCROLL| WS_BORDER,0,0,1000,500,hChild,100,hInstance1,NULL);
                                        nWidth = LOWORD(lParam);  /* width  */
                                        nHeight = HIWORD(lParam); /* height */

                                        MoveWindow (Edit1,0,0,nWidth,nHeight,1);
                                            ShowWindow(Edit1,SW_SHOWNORMAL);
                                        break;
         default :
                return DefWindowProc( hChild, iMessage, wParam, lParam );
 }
 return 0; 
```

}

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T06:32:03.393

您需要`WM_SIZE`在 MDI 子窗口中处理消息。当您收到它时，您需要使用`MoveWindow`文本框来调整它的大小以填充 MDI 子窗口。

顺便说一句：Turbo C++ 4.5？真的吗？那是……很老了，委婉地说。更现代的工具是免费提供的。

# c# - 未使用 MVC3 C# 设置下拉列表值

> ID：15240239
> 
> 赞同：1
> 
> 时间：2013-03-06T06:11:56.300
> 
> 标签：c#, asp.net-mvc-3

使用 Asp.net C#、MVC3 Razor View，我试图在编辑记录时设置下拉列表值并具有以下模型：

```
public class EditEmployeeModel
    {
        ....
        public int? DepartmentId { get; set; }

        [Required(ErrorMessage = "Department is must")]
        [Display(Name = "Department")]
        public string Department { get; set; }

        public List<SelectListItem> Departments { get; set; }

        .....
} 
```

控制器：

```
 public ActionResult Edit(string id)
    {
        EditEmployeeModel model = respo.GetEmployeeByID(id);
        model.Departments = GetDepartments();
        return View(model);
    } 
```

并查看：

```
<div class="editor-field">
@Html.DropDownListFor(m => m.DepartmentId, Model.Departments, new { id ="ddlstDepartments"})
@Html.ValidationMessageFor(m => m.Department)
</div> 
```

但是当视图被加载进行编辑时，下拉列表总是显示默认/第一个选择的项目。有人可以在这里帮忙吗。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:15:58.580

在将列表中的一个元素传递给视图之前，您是否尝试过设置 selected = true ？

所以有几个问题可能会帮助你喜欢这个：

*   [DropDownList设置asp.net MVC中的选中项](https://stackoverflow.com/questions/2410543/dropdownlist-setting-selected-item-in-asp-net-mvc)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T06:17:17.243

确保`DepartmentId`在模型

```
 EditEmployeeModel model = respo.GetEmployeeByID(id);
   //model.DepartmentId 
```

不为空，如果您想`--Select Department--`按照@Karthik 的建议显示标签，请尝试

```
Html.DropDownListFor(m => m.DepartmentId, Model.Departments,"--Select Department") 
```

# ios - UITableView 和 UISegmentedControl

> ID：15240242
> 
> 赞同：1
> 
> 时间：2013-03-06T06:12:02.833
> 
> 标签：ios, objective-c, iphone, uitableview, uisegmentedcontrol

我是 iPhone 开发的新手。我有一个 UITableView 三个部分，每个部分有三行。我有一个带有三个索引的 UISegmentedControl。tableview 最初是隐藏的。当我选择 segmentIndex 的任何索引时，它会显示三个部分的 tableview。但我的问题是，当我选择分段控件的索引时，它会显示只有一个部分的 tableView，而另外两个部分隐藏在 tableView 中。如何做到这一点请回答
这是我的代码

```
#import "DetailViewController.h"

@interface DetailViewController ()

@end

@implementation DetailViewController

@synthesize tblView;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
    // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.

    //Customize tableview
    tblView = [[UITableView alloc] init];
    firstName = [NSArray arrayWithObjects:@"Parth",@"Bhadresh",@"Marshal", nil];
    middleName = [NSArray      arrayWithObjects:@"Dipakbhai",@"Dineshbhai",@"Mansukhbhai",nil];
    lastName = [NSArray arrayWithObjects:@"Patel",@"Laiya",@"Kaneria", nil];
    tblView.delegate = self;
    tblView.dataSource = self;
}

-(void)viewWillAppear:(BOOL)animated
{
    sgmtControl.frame = CGRectMake(17, 180, 285, 44);    
    tblView.frame = CGRectMake(0, 0, 320, 364);
    tblView.hidden = YES;
    [self.view addSubview:tblView];
}
- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}
-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 3;
}

-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    switch (section)
    {
        case 0:
            return 3;
            break;
        case 1:
            return 3;
            break;
        case 2:
            return 3;
            break;
    }
    return 0;
}

-(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection: (NSInteger)section
{
    switch (section)
    {
        case 0:
            return @"FirstName";
            break;
        case 1:
            return @"MiddleName";
            break;
        case 2:
            return @"LastName";
            break;
    }
    return nil;
}

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *myIdentifier = @"MyIdentifier";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:myIdentifier];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:myIdentifier];
    }

    switch (indexPath.section)
    {
        case 0:
            cell.textLabel.text =[firstName objectAtIndex:indexPath.row];
            break;
        case 1:
            cell.textLabel.text = [middleName objectAtIndex:indexPath.row];
            break;
        case 2:
            cell.textLabel.text = [lastName objectAtIndex:indexPath.row];
            break;
    }
    return cell;
}
-(IBAction)changeSegement:(id)sender
{
    if(sgmtControl.selectedSegmentIndex == 0)
    {
        tblView.hidden = NO;
    }
    else if (sgmtControl.selectedSegmentIndex == 1)
    {
        tblView.hidden = NO;
    }
    else if (sgmtControl.selectedSegmentIndex == 2)
    {
        tblView.hidden = NO;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T06:29:21.257

这样做，

```
-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1;
}

-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{

    switch (sgmtControl.selectedSegmentIndex)
    {
        case 0:
            return [firstName count];
            break;
        case 1:
            return [middleName count];
            break;
        case 2:
            return [lastName count];
            break;
    }
    return 0;
}

-(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection: (NSInteger)section
{
    switch (sgmtControl.selectedSegmentIndex)
    {
        case 0:
            return @"FirstName";
            break;
        case 1:
            return @"MiddleName";
            break;
        case 2:
            return @"LastName";
            break;
    }
}

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *myIdentifier = @"MyIdentifier";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:myIdentifier];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:myIdentifier];
    }

    switch (sgmtControl.selectedSegmentIndex)
    {
        case 0:
            cell.textLabel.text =[firstName objectAtIndex:indexPath.row];
            break;
        case 1:
            cell.textLabel.text = [middleName objectAtIndex:indexPath.row];
            break;
        case 2:
            cell.textLabel.text = [lastName objectAtIndex:indexPath.row];
            break;
    }
    return cell;
}
-(IBAction)changeSegement:(id)sender
{
    if(sgmtControl.selectedSegmentIndex == 0)
    {
        tblView.hidden = NO;
    }
    else if (sgmtControl.selectedSegmentIndex == 1)
    {
        tblView.hidden = NO;
    }
    else if (sgmtControl.selectedSegmentIndex == 2)
    {
        tblView.hidden = NO;
    }
    [tblView reloadData];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:43:00.727

对 Mountain Lion 的代码稍作修改，使其更通用并删除开关

```
@synthesize currentArray;
.
.
.
.

- (void)viewDidLoad
{
      .
      .
      .
      //ALLOCATE currentArray
}
-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1;
}

-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return currentArray.count;
}

-(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection: (NSInteger)section
{
    switch (sgmtControl.selectedSegmentIndex)
    {
        case 0:
            return @"FirstName";
            break;
        case 1:
            return @"MiddleName";
            break;
        case 2:
            return @"LastName";
            break;
    }
}

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *myIdentifier = @"MyIdentifier";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:myIdentifier];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:myIdentifier];
    }

   cell.textLabel.text =[currentArray objectAtIndex:indexPath.row];
   return cell;
}
-(IBAction)changeSegement:(id)sender
{
    if(sgmtControl.selectedSegmentIndex == 0)
    {
        currentArray = firstName;
    }
    else if (sgmtControl.selectedSegmentIndex == 1)
    {
        currentArray = middleName;
    }
    else if (sgmtControl.selectedSegmentIndex == 2)
    {
        currentArray = lastName;
    }
    tblView.hidden = NO;
    [tblView reloadData];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:23:37.713

我相信我了解您要做什么，您希望根据选择的按钮段显示不同的表格视图单元格。

您需要让 cellForRowAtIndexPath 检查选择了哪个段并返回正确的单元格集。

当用户更改分段按钮时，请使用 changeSegment：将选定的分段存储在实例变量中。然后让它调用 [self reloadData];

```
#import "DetailViewController.h"

@interface DetailViewController ()
{
    NSArray *names;
    NSInteger segIndex;
}
@property (nonatomic, strong) NSArray *names;
@property (nonatomic) segIndex;
@end

@implementation DetailViewController

@synthesize tblView;
@synthesize names;
@synthesize segIndex;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.

    //Customize tableview
    tblView = [[UITableView alloc] init];
    self.names = [NSArray arrayWithObjects: [NSArray arrayWithObjects:@"Parth",@"Bhadresh",@"Marshal", nil],
                                            [NSArray arrayWithObjects:@"Dipakbhai",@"Dineshbhai",@"Mansukhbhai",nil],
                                            [NSArray arrayWithObjects:@"Patel",@"Laiya",@"Kaneria", nil],
                  nil];
    tblView.delegate = self;
    tblView.dataSource = self;
}

-(void)viewWillAppear:(BOOL)animated
{
    sgmtControl.frame = CGRectMake(17, 180, 285, 44);
    tblView.frame = CGRectMake(0, 0, 320, 364);
    tblView.hidden = YES;
    [self.view addSubview:tblView];
}
- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}
-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return [self.names count];
}

-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [[self.names objectAtIndex:section] count];
}

-(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection: (NSInteger)section
{
    switch (section)
    {
        case 0:
            return @"FirstName";
        case 1:
            return @"MiddleName";
        case 2:
            return @"LastName";
    }
    return nil;
}

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *myIdentifier = @"MyIdentifier";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:myIdentifier];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:myIdentifier];
    }

    cell.textLabel.text =[[self.names objectAtIndex:self.segIndex] objectAtIndex:indexPath.row];

    return cell;
}
-(IBAction)changeSegement:(id)sender
{
    self.segIndex = sgmtControl.selectedSegmentIndex;
    [self reloadData];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:34:49.610

尝试这个

```
-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
return 1;
}

-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
switch (sgmtControl.selectedSegmentIndex)
{
    case 0:
        return 3;
        break;
    case 1:
        return 3;
        break;
    case 2:
        return 3;
        break;
}
return 0;
}

-(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection: (NSInteger)section
{
switch (sgmtControl.selectedSegmentIndex)
{
    case 0:
        return @"FirstName";
        break;
    case 1:
        return @"MiddleName";
        break;
    case 2:
        return @"LastName";
        break;
   }
 }

  -(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *myIdentifier = @"MyIdentifier";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:myIdentifier];
if (cell == nil)
{
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:myIdentifier];
}

switch (sgmtControl.selectedSegmentIndex)
{
    case 0:
        cell.textLabel.text =[firstName objectAtIndex:indexPath.row];
        break;
    case 1:
        cell.textLabel.text = [middleName objectAtIndex:indexPath.row];
        break;
    case 2:
        cell.textLabel.text = [lastName objectAtIndex:indexPath.row];
        break;
}
return cell;
  } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-04-14T12:21:09.477

```
 //You may get hint from my code
   //UISegmentedControl with TableView using Objective C

  //complete working code

@interface TabTwoScheduleViewController () <UITableViewDelegate ,       UITableViewDataSource>
{
CGRect rect;
NSArray *list;
NSArray *list1;
NSArray *list2;
NSArray *list3;
NSArray *list4;
UITableView *segmentTableView;
}
@end

@implementation TabTwoScheduleViewController

- (void)viewDidLoad {
[super viewDidLoad];

 rect = [[UIScreen mainScreen]bounds];

UIScrollView *scroll = [[UIScrollView alloc] initWithFrame:CGRectMake(10, 10, rect.size.width-20, rect.size.height/10-23)];
scroll.contentSize = CGSizeMake(rect.size.width, rect.size.height * 2);
scroll.showsHorizontalScrollIndicator = YES;
scroll.backgroundColor = [UIColor yellowColor];

NSArray *itemArray = [NSArray arrayWithObjects: @"ONLINE", @"CLASSROOM", @"WEBCASTING", nil];
list = [NSArray     arrayWithObjects:@"list.1",@"list.2",@"list.3",@"list.4",@"list.5", nil];
list1 = [NSArray arrayWithObjects:@"list1.1",@"list1.2",@"list1.3",@"list1.4",@"list1.5", nil];
list2 = [NSArray arrayWithObjects:@"list2.1",@"list2.2",@"list2.3",@"list2.4",@"list2.5", nil];
list3 = [NSArray arrayWithObjects:@"list3.1",@"list3.2",@"list3.3",@"list3.4",@"list3.5", nil];
list4 = [NSArray arrayWithObjects:@"list4.1",@"list4.2",@"list4.3",@"list4.4",@"list4.5", nil];

// segmentedControl is declared as property
self.segmentedControl = [[UISegmentedControl alloc]     initWithItems:itemArray];
self.segmentedControl.frame = CGRectMake(0, 0, rect.size.width-20, 50);
self.segmentedControl.segmentedControlStyle =UISegmentedControlStylePlain;
[self.segmentedControl addTarget:self  action:@selector(MySegmentControlAction:) forControlEvents:     UIControlEventValueChanged];
self.segmentedControl.selectedSegmentIndex = 0;
[scroll addSubview:self.segmentedControl];
[self.view addSubview:scroll];

//ADDING TABLEVIEW OVER VIEW(I added this view to get leading and trailing space for tableViewCell)

 UIView *vw = [[UIView alloc]initWithFrame:CGRectMake(0, 70, rect.size.width, rect.size.height)];
   vw.backgroundColor = [UIColor redColor];
[self.view addSubview:vw];

    //TABLE VIEW
segmentTableView = [[UITableView alloc]initWithFrame:CGRectMake(10, 0, rect.size.width-20, rect.size.height-230)   style:UITableViewStylePlain];
segmentTableView.backgroundColor = [UIColor yellowColor];

segmentTableView.delegate = self;
segmentTableView.dataSource = self;

[vw addSubview:segmentTableView];
    }

// number of sections for tableView
- (NSInteger)numberOfSectionsInTableView:(UITableView *)theTableView
{
NSInteger a=0;
switch (self.segmentedControl.selectedSegmentIndex)
{
    case 0:
        a=list.count;
    break;

case 1:
    a=list1.count;
    break;

 case 2:
    a=list1.count;
    break;

   default:
    a=list1.count;
    break;
}
    return a;
 }
 // number of row in the section
 - (NSInteger)tableView:(UITableView *)theTableView   numberOfRowsInSection:(NSInteger)section
{
return 1;
}
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *simpleTableIdentifier =    @"ScheduleCustomTableViewCell";

//ScheduleCustomTableViewCell is name of custom TabelViewCell
ScheduleCustomTableViewCell *cell =(ScheduleCustomTableViewCell *)   [tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier];
if (cell == nil)
{
NSArray *nib = [[NSBundle mainBundle]   loadNibNamed:@"ScheduleCustomTableViewCell" owner:self options:nil];
cell = [nib objectAtIndex:0];
}

// conditions to get different values on label
if (self.segmentedControl.selectedSegmentIndex==0)
{
cell.labelAddress1.text = [list objectAtIndex:indexPath.section];
cell.labelAddress2.text = [list1 objectAtIndex:indexPath.section];
}
else if (self.segmentedControl.selectedSegmentIndex==1)
{
cell.labelAddress1.text = [list1 objectAtIndex:indexPath.section];
cell.labelAddress2.text = [list2 objectAtIndex:indexPath.section];
}
else
{
cell.labelAddress1.text = [list2 objectAtIndex:indexPath.section];
cell.labelAddress2.text = [list3 objectAtIndex:indexPath.section];
}
cell.backgroundColor = [UIColor yellowColor];

return cell ;
 }
-(CGFloat)tableView:(UITableView* )tableView heightForRowAtIndexPath:(NSIndexPath* )indexPath
{
return 130;
}
// Header is given to get spacing between TableViewCells
-(CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section
 {
return 10;
}

- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section
 {
 UIView *headerView = [[UIView alloc] init];
headerView.backgroundColor = [UIColor redColor];
 return headerView;
 }

  - (void)didReceiveMemoryWarning {
 [super didReceiveMemoryWarning];
 // Dispose of any resources that can be recreated. 
```

}

```
- (void)MySegmentControlAction:(UISegmentedControl *)segment
{
[segmentTableView reloadData];
}

 @end 
```

# angularjs - 使用哪一个，AngularUI Bootstrap 还是 AngularStrap？

> ID：15240244
> 
> 赞同：47
> 
> 时间：2013-03-06T06:12:08.243
> 
> 标签：angularjs, angular-ui

我是 AngularJS 的新手，它很棒。我的项目中需要 Twitter 的引导插件。我偶然发现了这两个 GitHub 项目

1.  AngularStrap [http://mgcrea.github.com/angular-strap/](http://mgcrea.github.com/angular-strap/)
2.  以及 AngularUI 的引导程序[http://angular-ui.github.com/bootstrap/](http://angular-ui.github.com/bootstrap/)

现在，我很困惑该选择哪一个。这些生产准备好了吗？或者我应该使用 Bootstrap 附带的 jQuery 扩展。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-06T08:36:58.003

这两个项目都旨在将 Twitter 的引导小部件包含为 AngularJS 指令，因此您可以以干净的方式使用它们。由于它们都没有涵盖 Bootstrap 元素的完整列表，因此您可以使用任何您需要的元素，具体取决于您希望包含在项目中的 Bootstrap 元素。我目前包括两者，到目前为止完全没有问题。

# c - 使用 system() 执行 BASH 脚本输出：来源：未找到

> ID：15240246
> 
> 赞同：-2
> 
> 时间：2013-03-06T06:12:17.950
> 
> 标签：c, bash

all：
有一个shell脚本a.sh：

```
#/bin/bash -x -n

source /etc/profile 
```

和一个 test.c 程序使用 system() 函数来调用这个脚本：

```
#include <stdio.h>
int main(void)
{
    system("/data/nan/a.sh");
    return 0;
} 
```

我在控制台中直接调用 a.sh 时发现：

```
./a.sh 
```

没关系。

但是执行c程序：

```
./test 
```

它打印“来源：未找到”。

我知道原因可能是 system() 函数使用 /bin/sh 执行 a.sh 脚本。但是我添加了“#/bin/bash”添加了a.sh的开头。为什么会发生这种情况？首先十分感谢！

最好的问候
南肖

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T06:13:13.397

您`!`在 shebang 中缺少 a：

```
#!/bin/bash -x -n
 ^ 
```

# wireshark - tshark 输出所有字段？

> ID：15240247
> 
> 赞同：9
> 
> 时间：2013-03-06T06:12:24.423
> 
> 标签：wireshark, pcap, tshark

是否可以使用该选项或类似选项`tshark`输出每个字段（在数据包内） ？`-T fields`

例如，对于数据包/重构中的每个字段，我想要这样的东西：

```
eth.src:f2:3c:91:96:fd:09,ip.src:1.2.3.4,tcp.dst_port:80,http.request.uri:/index.html 
```

（当值包含逗号时，可以用 a 替换逗号`\xff`以使解析更好。）

我意识到有这个`-e`选项，但似乎我必须在命令行中输入每个可能的字段。最重要的是，每个数据包中只会使用一小部分字段，这会导致大量数据需要解析。

我目前计划使用该`tshark -V`选项并对其进行解析，但理想情况下，我想要更多机器样式的术语，例如`http.request.uri`而不是“人类可读”，例如：

```
Hypertext Transfer Protocol
    GET /main.php HTTP/1.1\r\n
        [Expert Info (Chat/Sequence): GET /main.php HTTP/1.1\r\n]
            [Message: GET /main.php HTTP/1.1\r\n]
            [Severity level: Chat]
            [Group: Sequence]
        Request Method: GET
        Request URI: /main.php 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-06T06:38:16.793

刚刚偶然发现：

```
tshark -T pdml 
```

这正是我需要的：

```
<packet>
  <proto name="geninfo" pos="0" showname="General information" size="173">
    <field name="num" pos="0" show="323" showname="Number" value="143" size="173"/>
    <field name="len" pos="0" show="173" showname="Frame Length" value="ad" size="173"/>
    <field name="caplen" pos="0" show="173" showname="Captured Length" value="ad" size="173"/>
    <field name="timestamp" pos="0" show="Aug  7, 2011 16:16:13.579504000 EST" showname="Captured Time" value="1312697773.579504000" size="173"/>
  </proto>
  <proto name="frame" showname="Frame 323: 173 bytes on wire (1384 bits), 173 bytes captured (1384 bits)" size="173" pos="0">
    <field name="frame.time" showname="Arrival Time: Aug  7, 2011 16:16:13.579504000 EST" size="0" pos="0" show="Aug  7, 2011 16:16:13.579504000"/>
    ... etc. 
```

它包括 Wireshark 过滤器名称，以及数据包中包含的所有字段。

**更新**：这很慢，并且破解`tshark.c`所以`-V`打印出`abbrev`而不是`name`in`header_field_info *hfinfo;`也可以解决问题。当我有机会时，我可能应该将其作为一个选项。

# c - c - 很长数字的数据类型

> ID：15240257
> 
> 赞同：-2
> 
> 时间：2013-03-06T06:12:55.730
> 
> 标签：c, types

我正在研究 SPOJ 的以下问题，

[http://www.spoj.com/problems/ARITH/](http://www.spoj.com/problems/ARITH/)

据说这个数字最多应该包含500位数字，对于最多500位数字的数字，什么是合适的数据类型？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:19:06.317

没有内置数据类型来保存 500 位的整数。因此，您必须想出一种将它们存储在字节数组中的方法。

[从http://gmplib.org/](http://gmplib.org/)的作用中获得灵感。简而言之，您必须首先将数字存储在某处：

```
struct Digit {
    size_t len;
    char   sign;
    char*  digits;
}; 
```

然后你必须实现你需要使用的所有功能`Digit`：

```
void digit_init(struct Digit* d);
void digit_set(struct Digit* d, const char* digits);
void digit_add(struct Digit* a, struct Digit* b, struct Digit* result);
void digit_mult(struct Digit* a, struct Digit* b, struct Digit* result); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:25:37.997

使用 GMP 库进行多精度算术，您将被排序。

[http://gmplib.org/](http://gmplib.org/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:44:40.510

据我所知，没有这样的内置函数/类型可以如此精确地执行算术运算。既不是 C 也不是 C++。也不是 STL。C ++也没有提升。因为您要将其提交到 SPOJ，所以无法链接自定义库。据我所知，如果你坚持使用C，并且你在SPOJ上做问题，你只能自己编写例程或复制粘贴。

或者，尝试具有内置 Big-Integer 支持的 Java/Python。

长话短说，没有优雅的方式来实现这一点，因为您将在 SPOJ 上提交它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:26:07.130

没有内置的方法可以将这么多数字存储为 c 中的数字。该问题旨在让您通过其他方式进行算术运算（始终将数字保留为字符串并一次处理少量实际数字）。由于 BigInteger，这个问题在 Java（例如）中更容易实现。但是如果你想用 c 来做，我会看看 BigNum 实现是如何工作的。这可能有助于作为参考：

[http://www.algorithmist.com/index.php/BigNum](http://www.algorithmist.com/index.php/BigNum)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T06:37:28.930

> 对于每个乘法，将第一个数字乘以第二个数字的每个数字。将部分结果放在另一个下方，从第二个数字的最后一位数字的乘积开始。每个部分结果都应与相应的数字对齐。”

由于这个限制，没有实际的替代品 `char bignum[MAX_DIGITS+1]`;

**编辑** ——这是我最初的回应；如果不需要打印中间结果，它仍然很有用。

由于重点是以10 为基数*写下*数字，并且输入以 10 为基数，我建议使用以 10 为基数的导数数组——字符是研究长乘法的一个很好的候选者，但将基数扩展到 100、1e4、 1e6 或 1e9 会有意义。

以 100 为底适合 uint8_t 或 char，以 10000 为底适合 uint16_t（即使在大多数嵌入式处理器上也可以使用 16x16 ==> 32 乘法）；双精度数最多可以保存 2^53 -1 的精确值，这会将每个被乘数实际上限制为 1e6。

使用例如 base 1e8 允许在 (uint32_t) 中存储 8 位数字，并且它允许在 (uint64_t) 中逻辑地存储乘法结果。它还允许轻松打印数字，而无需将基数为 2 的 bignum 转换为十进制表示所需的长除法。

```
 struct big_int {
     uint32_t digits[MAX_DIGITS/8];
     unsigned int length;  //
     int sign;             // or possibly use int length and negative lengths
 }; 
```

# android - 任何人都可以提供通过Android中的蓝牙从CSV文件发送值的示例代码吗？

> ID：15240267
> 
> 赞同：-4
> 
> 时间：2013-03-06T06:13:39.273
> 
> 标签：android, csv, bluetooth

请给我示例代码或参考链接，以便使用 android 通过蓝牙通信将值从 CSV 文件发送到另一台 android 设备？提前致谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:46:26.647

Android 开发者页面有教程并解释了如何使用蓝牙功能：[android 开发者提供的蓝牙演示示例代码](http://developer.android.com/guide/topics/connectivity/bluetooth.html)

我希望这有帮助。

# php - 为什么需要一分钟才能从服务器获得响应？

> ID：15240270
> 
> 赞同：2
> 
> 时间：2013-03-06T06:13:46.407
> 
> 标签：php, sockets

我是 PHP 套接字编程的新手，我找到了一个可以试验的例子，但是当我与我的服务器交谈时，在服务器套接字关闭之前需要一分钟才能得到响应。

我有以下代码：SERVER.php

```
<?php 

$host = "127.0.0.1"; 
$port = 1234; 

// don't timeout! 
set_time_limit(0); 

// create socket 
$socket = socket_create(AF_INET, SOCK_STREAM, 0) or die("Could not create socket\n"); 

// bind socket to port 
$result = socket_bind($socket, $host, $port) or die("Could not bind to socket\n"); 

// start listening for connections 
$result = socket_listen($socket, 3) or die("Could not set up socket listener\n"); 

// accept incoming connections 
// spawn another socket to handle communication 
$spawn = socket_accept($socket) or die("Could not accept incoming connection\n"); 

// read client input 
$input = socket_read($spawn, 1024) or die("Could not read input\n"); 

// clean up input string 
$input = trim($input); 

// reverse client input and send back 
$output = strrev($input) . "\n"; 
socket_write($spawn, $output, strlen ($output)) or die("Could not write output\n"); 

// close sockets 
socket_close($spawn); 
socket_close($socket);
?> 
```

如何让它立即响应？谢谢

当我在终端中运行客户端代码时，我会立即得到响应。但是，当我添加一个文本框以从浏览器运行它时，只需 1 分钟即可在我的浏览器上显示响应。

如果你需要看看我的 CLIENT.php 这里是......

```
<html>
<head>
</head>

<body>

<form action="<? echo $PHP_SELF; ?>" method="post">
Enter some text:<br>
<input type="Text" name="message" size="15"><input type="submit" name="submit" value="Send">
</form>

<?php

if (isset($_POST['submit']))
{
// form submitted

// where is the socket server?
$host="127.0.0.1";
$port = 1234;

// open a client connection
$fp = fsockopen ($host, $port, $errno, $errstr);

if (!$fp)
{
$result = "Error: could not open socket connection";
}
else
{
// get the welcome message
fgets ($fp, 1024);
// write the user string to the socket
fputs ($fp, $_POST['message']);
// get the result
$result .= fgets ($fp, 1024);
// close the connection
fputs ($fp, "exit");
fclose ($fp);

// trim the result and remove the starting ?
$result = trim($result);

// now print it to the browser
}
?>
Server said: <b><? echo $result; ?></b>
<?
}
?>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:02:18.950

如果我没记错的话，您的服务器首先会先读取，*然后*再写回响应。不过，您的客户做*同样的事情*，期待一条我看不到您的服务器发送的“欢迎消息”。所以他们都坐在那里等待对方的数据。也许注释掉您收到（看似不存在的）欢迎信息的行应该可以缓解这种僵局。

```
// get the welcome message
// fgets ($fp, 1024); 
```

那，或者确保在客户端连接后立即从服务器发送欢迎消息。

您说它可以立即在终端中运行。我只能猜测以某种方式发送了一个换行符（作为 ENTER 键的结果），它完成`fgets`了客户端中的调用。

此外，您似乎也应该能够`socket_*`在客户端中使用您在服务器中使用的功能。阅读[此](https://stackoverflow.com/questions/4166182/php-socket-java-message-exchange)内容以获取更多信息。

# jsf-2 - 目标不可达，标识符“OrderBean”解析为空

> ID：15240273
> 
> 赞同：0
> 
> 时间：2013-03-06T06:13:56.747
> 
> 标签：jsf-2, primefaces

嗨，我`dataTable`使用 Primefaces 创建了一个，并创建了指向`dataTable`. 现在它应该在下一页移动并在我单击名称链接后在下一页显示其选定的行内容，但我收到以下错误：

```
javax.el.PropertyNotFoundException: /view.xhtml at line 50 and column 81 target="#{OrderBean.selectedOrder}": Target Unreachable, identifier 'OrderBean' resolved to null
  at org.apache.myfaces.view.facelets.el.TagValueExpression.setValue(TagValueExpression.java:121)   at org.apache.myfaces.view.facelets.tag.jsf.core.SetPropertyActionListenerHandler$SetPropertyListener.processAction(SetPropertyActionListenerHandler.java:110) at javax.faces.event.ActionEvent.processListener(ActionEvent.java:51)
        at javax.faces.component.UIComponentBase.broadcast(UIComponentBase.java:344)
        at javax.faces.component.UICommand.broadcast(UICommand.java:103)
        at javax.faces.component.UIData.broadcast(UIData.java:761)
        at javax.faces.component.UIViewRoot._broadcastAll(UIViewRoot.java:973)
        at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:275)
        at javax.faces.component.UIViewRoot._process(UIViewRoot.java:1285)
        at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:711)
        at org.apache.myfaces.lifecycle.InvokeApplicationExecutor.execute(InvokeApplicationExecutor.java:34)
        at org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:171) 
   when i click on the link. Can anyone plz help me resolve this error out.check whether i made any mistake in the setpropertyaction Listener ??? 
  if so plz post the  correct code. I am waiting the answers please help me to clear the error using jas 2.0 and primefaces. 
```

**视图.xhtml**

```
<p:dataTable id="dataTable" var="v" value="#{order.orderList}"  paginator="true" rows="3" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
               rowKey="#{order.year}" rowsPerPageTemplate="6,9">

    <f:facet name="header">  
       Data Table
    </f:facet>  

    <p:column>  
        <f:facet name="header">  
          <h:outputText value="Name" />

        </f:facet>
           <p:commandLink value="#{v.name}"  action="/nextpage.xhtml?faces-redirect=true" rowSelectListener="#{orderBean.onRowSelectNavigate}" > 
 <f:setPropertyActionListener value="#{v}" target="#{orderBean.selectedOrder}"/> 

</p:commandLink>

    </p:column>  

    <p:column>  
        <f:facet name="header">  
         <h:outputText value="Year" />
        </f:facet>  
        <h:outputText value="#{v.year}" />  
    </p:column>  
     ----------</p:datatable> 
```

**OrderBean.java**

```
import java.io.Serializable;
import java.util.ArrayList;
import java.util.Arrays;

import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;
import javax.faces.bean.ViewScoped;
import javax.faces.context.FacesContext;

import org.primefaces.event.SelectEvent;

@ManagedBean(name="order")
@SessionScoped
@ViewScoped

public class OrderBean implements Serializable{

    private static final long serialVersionUID = 1L;
    String name;
    int year;
    String company;
    String number;
    private Order selectedOrder;

    public Order getSelectedOrder() {
        return selectedOrder;
    }
    public void setSelectedOrder(Order selectedOrder) {
        this.selectedOrder = selectedOrder;
    }
    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getYear() {
        return year;
    }

    public void setYear(int year) {
        this.year = year;
    }

    public String getCompany() {
        return company;
    }

    public void setCompany(String company) {
        this.company = company;
    }

    public String getNumber() {
        return number;
    }

    public void setNumber(String number) {
        this.number = number;
    }

    private static final ArrayList<Order> orderList = 
        new ArrayList<Order>(Arrays.asList(

        new Order("vidhya",2020,"IT","1"),
        new Order("madhu",1021,"BT", "2"),
        new Order("manu",3846,"Mech","3"),
        new Order("shruthi",5647,"Benz","4")

    ));

    public ArrayList<Order> getOrderList() {

        return orderList;

    }

    public String addAction() {

        Order order = new Order(this.name, this.year, 
            this.company, this.number);

        orderList.add(order);

        return null;
    }

    public static class Order{

        String name;
        int year;
        String company;
        String number;

        public Order(String name, int year, 
                String company, String number) {
            this.name = name;
            this.year = year;
            this.company = company;
            this.number = number;
        }

        public String getName() {
            return name;
        }
        public void setName(String name) {
            this.name = name;
        }
        public int getYear() {
            return year;
        }
        public void setYear(int year) {
            this.year = year;
        }
        public String getCompany() {
            return company;
        }
        public void setCompany(String company) {
            this.company = company;
        }
        public String getNumber() {
            return number;
        }
        public void setNumber(String number) {
            this.number = number;
        }

        public String moveToNextPage(){
            return "nextpage";
        }
        public String onRowSelectNavigate(SelectEvent event) {   
               FacesContext.getCurrentInstance().getExternalContext().getFlash().put("selectedOrder", event.getObject());   
               return "nextpage?faces-redirect=true";   
           } 
```

**下一页.xhtml**

```
<h:panelGrid id="display" columns="2" cellpadding="4" >  
        <f:facet name="header">  
        details 
        </f:facet> 
        <h:outputText value="Name:" />  
        <h:outputText value="#{orderBean.selectedOrder.name}" />  

        <h:outputText value="Year:" />  
        <h:outputText value="#{orderBean.selectedOrder.year}" />  

        <h:outputText value="Company:" />  
        <h:outputText value="#{orderBean.selectedOrder.company}" />  

        <h:outputText value="Number:" />  
        <h:outputText value="#{orderBean.selectedOrder.number}" />    
    </h:panelGrid> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:05:24.097

`order`好吧，您使用为您的 bean 命名`@ManagedBean(name="order")`，因此您可以使用`#{order}`. 更改`orderBean`为`order`。我还看到你在这个 EL 中也犯了错误`#{orderBean.onRowSelectNavigate}`。

苏：

```
#{order.selectedOrder} 
```

和

```
#{order.onRowSelectNavigate} 
```

应该做的工作。

# arrays - 此 AWK 命令如何保留数组元素顺序？

> ID：15240275
> 
> 赞同：1
> 
> 时间：2013-03-06T06:14:08.993
> 
> 标签：arrays, awk

这是一个名为“colors.txt”的文件中的 RGB 值列表

```
255 222 0  
101 153 255  
255 153 0  
13  112 84  
13  112 84  
255 222 0  
13  112 84  
9   112 84 
```

我可以使用 awk 数组从文件中获取 5 个唯一的 RGB 组合

```
awk '{arr[($1","$2","$3)]} END {for (i in arr) print i}' colors.txt 
```

这给出了：

```
9,112,84  
255,222,0  
13,112,84  
255,153,0  
101,153,255 
```

请注意，这些不是按照它们在输入文件中的顺序。但是，这个命令

```
awk 'arr[($1","$2","$3)]++==0 {print ($1","$2","$3)}' colors.txt

255,222,0  
101,153,255  
255,153,0  
13,112,84  
9,112,84 
```

保留顺序。这究竟是如何工作的？我在[这里找到了第二个命令版本](http://compgroups.net/comp.lang.awk/printing-unique-values-in-4th-field/434766)。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T09:37:33.517

只是为了好玩，可以把它组合成一个尴尬的：

```
awk '!A[$1=$1,$2,$3]++' OFS=, file 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T09:21:16.993

*perreal*已经解释了为什么要保留这个顺序，我想谈谈这个成语的一些细节：

*   如果脚本中只出现一个数组，我倾向于使用名称`hash`或`h`为它来提醒自己它的类型。
*   逗号分隔的数组下标已经在`gawk`and中按预期工作`nawk`，即`h[$1,$2,$3]`变为`h[$1 SUBSEP $2 SUBSEP $3]`. `SUBSEP`默认值为`\034`或`0x1c`。
*   我发现`!h[...]++`比 更具可读性`h[...]++==0`，也许这只是我。
*   我更喜欢使用`OFS`过度显式打印，即`$1=$1; print`over `print ($1","$2","$3)`.

所有这些加在一起：

```
awk '!h[$1,$2,$3]++ { $1=$1; print }' OFS=',' colors.txt 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-06T06:21:30.177

这一行：

```
awk '{arr[($1","$2","$3)]} END {for (i in arr) print i}' colors.txt 
```

在您读取所有输入后打印散列，并且由于散列键不保留顺序，因此输出非常随意。

这个命令：

```
awk 'arr[($1","$2","$3)]++==0 {print ($1","$2","$3)}' colors.txt 
```

检查之前是否使用散列打印了相同的组合，但是，如果`arr[($1","$2","$3)]`为零，它会立即打印输入。因此，没有订单保存。它更像是立即打印。

# uitableview - 为什么 setContentOffset 在 scrollViewDidEndDragging 方法中不起作用？

> ID：15240278
> 
> 赞同：1
> 
> 时间：2013-03-06T06:14:34.067
> 
> 标签：uitableview, uiscrollview

我想做一些类似 Clear app 的事情：当你拖动到顶部时，会出现一个新的单元格，并且它会保留在表格视图的顶部（我认为使用 setContentOffset）。问题是，当我尝试在方法 scrollViewDidEndDragging （或任何其他类似方法）中设置表视图内容偏移量时，它不起作用。基本上内容偏移设置被忽略。我的代码是这样的：

```
- (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate {
    [_myTableView setContentOffset:CGPointMake(0, -100) animated:YES];
} 
```

你能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:23:37.653

尝试

```
- (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate   { 
    [_myTableView setContentOffset:CGPointMake(0, -100) animated:NO];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-17T13:12:47.297

**对于 Swift 3.0**

```
DispatchQueue.main.async { in  
   _myTableView.setContentOffset(CGPoint(x: 0, y: -100), animated: true)  
} 
```

# java - 如何在 CMD Admin 上的 UAC 上单击是？

> ID：15240280
> 
> 赞同：1
> 
> 时间：2013-03-06T06:14:43.287
> 
> 标签：java, cmd, admin, uac

如何使用 Java 代码在 cmd-admin 模式下单击*Yes按钮？*

我只是使用下面的代码使用快捷按钮（启用管理员）自动打开 cmd 管理员：

```
Runtime rt = Runtime.getRuntime();
rt.exec("cmd /c start C:/Files/cmd-admin.bat2.lnk"); 
```

启动 cmd（启用管理员）后，它会显示一个弹出*用户访问控制*，其中包含是或否。

如何在 Java 中对此进行编码以选择“*是”*按钮？顺便说一句，我在 Windows 7 64 位 PC 上使用它进行自动化。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T15:06:29.040

这个问题的答案是：你不能绕过 UAC 提示。阅读以下博客文章，原因有很多：

[常见问题解答：为什么我无法绕过 UAC 提示？](https://techcommunity.microsoft.com/t5/windows-blog-archive/faq-why-can-8217-t-i-bypass-the-uac-prompt/ba-p/701510)

引用该常见问题解答：

> Windows Vista 用户帐户控制的设计者明确决定不合并 Unix 和 Mac OS X 等类 Unix 操作系统中的 setuid/suid 或 sudo 等功能。我认为他们做出了正确的决定。
> 
> ...
> 
> 如果可以将应用程序标记为以静默提升的权限运行，那么所有那些存在 LUA 错误的应用程序会变成什么？答：它们都会被标记为静默提升。未来的 Windows 软件将如何编写？答：默默提升。没有人会真正修复他们的应用程序，最终用户应用程序将继续要求并以不必要的完全管理权限运行。

# c#-4.0 - 如何从 IList 中获取项目

> ID：15240283
> 
> 赞同：0
> 
> 时间：2013-03-06T06:14:50.413
> 
> 标签：c#-4.0

我有一个 IList，想从中获取项目

我的代码

```
 IList rows = dgFindBatch.SelectedItems;

 string strBatchID = rows[0].ToString(); 
```

怎么获得 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:35:30.500

我希望我理解正确，但你可以尝试做这样的事情：

```
// OfType<T> -> gives you an IEnumerable<T>
var customer = rows.OfType<Customer>().FirstOrDefault(); 
```

**编辑**

在你的情况下，我相信你想要一个 DataGridRow，这就是这样做的方法：

```
var selectedRow = dgFindBatch.SelectedItems.OfType<DataGridRow>().FirstOrDefault(); 
```

如果我能再澄清一点，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:55:27.630

```
IList rows = new List<int> {1, 2, 3, 4, 5};

foreach (var row in rows)
{
    var value = row;
} 
```

Is this similar to what you are after?

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-10-14T23:45:32.790

使用 System.Linq；

那么您可以在指尖获得以下一个和许多其他可用的。

rows.ElementAt(int index);

# ios - 释放 AVAudioRecorder 会话后恢复录制

> ID：15240288
> 
> 赞同：1
> 
> 时间：2013-03-06T06:15:33.517
> 
> 标签：ios

我正在使用 AVAudioRecorder 类来录制声音。可以在一个 AVAudioRecorder 会话中开始、暂停、恢复、停止录制声音。如果应用程序关闭并重新启动，则无法恢复对已存在的音频文件的录制。

[录制和播放 .wav 文件 IOS 的问题](https://stackoverflow.com/questions/15059733/issues-with-recording-and-playing-wav-files-ios)

请参阅我的问题（以前在这里问过）以查看我的代码来初始化录音机。

有可能这样做吗？请帮忙！谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:24:37.597

我认为您必须在每次关闭应用程序时将录音文件单独保存到文档目录中，并且在应用程序启动后混合所有可用的录音文件。

这里是混合音频文件的代码，在您的情况下，您只需要混合两个文件，因此需要相应地使用代码。

```
-(void)mixAudios
{
//mix all audio files
AVMutableComposition* mixComposition = [AVMutableComposition composition];
AVMutableCompositionTrack *compositionCommentaryTrack = [mixComposition addMutableTrackWithMediaType:AVMediaTypeAudio  preferredTrackID:kCMPersistentTrackID_Invalid];

for (number of your recordings)
{

    AVURLAsset* audioAsset = [[AVURLAsset alloc]initWithURL:[NSURL URLWithString:@"** Recording file Path **"] options:nil];

    if(![compositionCommentaryTrack insertTimeRange:CMTimeRangeMake(kCMTimeZero, audioAsset.duration) ofTrack:[[audioAsset tracksWithMediaType:AVMediaTypeAudio] objectAtIndex:0] atTime:CMTimeMake(Start time in seconds for each Recoring,1) error:nil])
    {
         NSLog(@" error: %@"error);
    }

}

//save mixed composition as file
AVAssetExportSession* _assetExport = [[AVAssetExportSession alloc] initWithAsset:mixComposition
                                                                      presetName:AVAssetExportPresetPassthrough];

NSString* videoName = @".mov";
NSString* videoPath = [[NSString alloc] initWithFormat:@"%@/%@", [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0], videoName];
NSString *exportPath = [NSTemporaryDirectory() stringByAppendingPathComponent:videoName];
if([[NSFileManager defaultManager] fileExistsAtPath:exportPath])
{
    [[NSFileManager defaultManager] removeItemAtPath:exportPath error:nil];
}
NSURL *exportUrl = [NSURL fileURLWithPath:exportPath];
_assetExport.outputFileType = @"com.apple.quicktime-movie";
_assetExport.outputURL = exportUrl;
_assetExport.shouldOptimizeForNetworkUse = YES;
[_assetExport exportAsynchronouslyWithCompletionHandler:
 ^(void )
 {
     [_assetExport release];
     NSString *path = [NSString stringWithString:[exportUrl path]];
     if (UIVideoAtPathIsCompatibleWithSavedPhotosAlbum (path)) {
         UISaveVideoAtPathToSavedPhotosAlbum (path, nil, nil, nil);
     }

 }

 ];
} 
```

# mysql - SQL: 查询 where column = x, when column2 != y; y = column 当column2 = x ..如果这是有道理的

> ID：15240289
> 
> 赞同：0
> 
> 时间：2013-03-06T06:15:40.473
> 
> 标签：mysql, sql

所以我有这张桌子：

```
PK | FK1 | FK2
1  | 1   | 2
2  | 1   | 3
3  | 1   | 6
4  | 2   | 1
5  | 2   | 6
6  | 5   | 3 
```

PK 是主键（dur）。FK1 和 FK2 是其他表中同一列的外键（不相关）。

# 查询类型 1

我想获取 FK1 = x 的所有行。但与此同时，我不想包含 FK2 = y; 的行。y 是 FK1，其中 FK2 = x。另一种说法是：FK1 = x，但 FK2 不能等于 FK2 = x 表中 FK1 的任何值。例如，x = 1：

```
PK | FK1 | FK2 | Returned in Result Set (Yes = √, No = x)
1  | 1   | 2   | x
2  | 1   | 3   | √
3  | 1   | 6   | √
4  | 2   | 1   | x
5  | 2   | 6   | x
6  | 5   | 3   | x 
```

请注意，PK >= 4 的行不包含在结果集中，因为 FK1 != 1。但是，PK = 1 的行不包含在结果集中，而 FK1 = 1。为什么？因为 FK2 = 2，当 FK2 = x 或 1 在 PK = 4 的那一行时，这就是 FK1 的值。如果遇到问题，请多读几遍。

# 查询类型 2

这几乎就像第一种类型的查询。我想获取 FK2 = x 和 FK1 != y 的所有行，其中 y = FK2，其中 FK1 = x。相同，只是列颠倒了。我的重点是 FK2，而不是 FK1。

# 查询类型 3

我想获得 FK1 = x 的所有行，仅当 FK2 = y 时；y = FK1，其中 FK2 = x。希望你一直在遵循 x 和 y 的约定，所以我不需要解释太多。这是一个例子，x = 1：

```
PK | FK1 | FK2 | Returned in Result Set (Yes = √, No = x)
1  | 1   | 2   | √
2  | 1   | 3   | x
3  | 1   | 6   | x
4  | 2   | 1   | x
5  | 2   | 6   | x
6  | 5   | 3   | x 
```

只返回第一行，PK = 1。为什么？因为 FK1 = x 或 1，而 FK2 = y 或 2，即 FK1，其中 FK2 = 1（第 4 行）。

伙计，我希望这是有道理的。告诉我我从哪里开始没有意义，我会编辑。

谢谢阅读。感谢所有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:30:06.017

如果我理解正确的话，这三个都是相当简单的连接；

第一个左连接查找所有 FK1=1 的行，并过滤掉所有具有 FK1 和 FK2 反转的匹配对的行；

```
SELECT t1.* 
FROM table1 t1
LEFT JOIN table1 t2
  ON t1.FK1=t2.FK2 
 AND t1.FK2=t2.FK1
WHERE t2.PK IS NULL
AND t1.FK1 = 1; 
```

第二个是同一个查询的反面，而是找到 FK2=1。

```
SELECT t1.* 
FROM table1 t1
LEFT JOIN table1 t2
  ON t1.FK1=t2.FK2 
 AND t1.FK2=t2.FK1
WHERE t2.PK IS NULL
AND t1.FK2 = 1; 
```

第三个只是直接加入，没有特别之处。

```
SELECT t1.*
FROM table1 t1
JOIN table1 t2
  ON t1.FK2=t2.FK1
 AND t1.FK1=t2.FK2
WHERE t1.FK1 = 1; 
```

[一个用于测试的 SQLfiddle](http://sqlfiddle.com/#!2/61573/4)。

# ios - 当前模式上的 UIImagePickerController 崩溃？

> ID：15240297
> 
> 赞同：0
> 
> 时间：2013-03-06T06:16:10.220
> 
> 标签：ios, objective-c, cocoa-touch, uiimagepickercontroller

大家好，我在尝试模态显示相机时遇到了崩溃。这是我的代码：

> if (!imagePicker) { imagePicker = [[UIImagePickerController alloc]init]; }

```
[imagePicker setSourceType:UIImagePickerControllerSourceTypeCamera];

[imagePicker setDelegate:self];

[self presentModalViewController:imagePicker animated:YES];

[imagePicker release]; 
```

我已经在这里进行了所有搜索，但通常**只有在您拍照后才会发生崩溃**

> imagePickerController:(UIImagePickerController *)picker didFinishPickingImage:(UIImage *)img editingInfo:(NSDictionary *)info

我没有得到任何详细信息，只是应用程序关闭，我看到线程已暂停。

知道这里有什么问题。有关信息，我正在 ipod touch 3G 和 iPhone 3GS 中进行测试

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:26:54.663

`UIImagePickerController`可能是一种痛苦。尝试

```
imagePicker = [[[UIImagePickerController alloc]init] autorelease]; 
```

并删除`[imagePicker release]`;

坦率地说，我不会通过简单地测试来信任该条件分配`if(!imagePicker)`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-08T22:30:36.323

释放它后清除 imagePicker 变量，否则当你去拍摄第二张照片并崩溃时它仍然是非空的，因为它实际上已被释放。

```
[imagePicker release];
imagePicker = nil; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T07:01:55.343

`-(void)presentModalViewController:(UIViewController *)modalViewController animated:(BOOL)animated`

和

`- (void)dismissModalViewControllerAnimated:(BOOL)animated`

在 iOS 6.0 中已弃用，因此这些方法分别使用

`- (void)presentViewController:(UIViewController *)viewControllerToPresent animated:(BOOL)flag completion:(void (^)(void))completion`

和

`- (void)dismissViewControllerAnimated:(BOOL)flag completion:(void (^)(void))completion`

# unix - Hive 变量替换不适用于 hive -e 命令

> ID：15240300
> 
> 赞同：1
> 
> 时间：2013-03-06T06:16:14.513
> 
> 标签：unix, hadoop, hive

我正在尝试使用 Hive 变量。

如果我登录 Hive 并使用：

```
hive > set a=test_table;
hive > describe ${hiveconf:a}; 
```

但是如果从 Shell 尝试相同的命令，它会给出： Parse Error 1:1 cannot identify input near ...

```
$> hive -e "set a=test_table; describe ${hiveconf:a};"
Parse Error 1:1 cannot recognize input near <EOF> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-04-10T01:35:05.037

```
Parameter Expansion
   The `$' character introduces parameter expansion, command substitution, or arithmetic expansion.  The parameter name  or
   symbol  to  be  expanded  may be enclosed in braces, which are optional but serve to protect the variable to be expanded
   from characters immediately following it which could be interpreted as part of the name.

   When braces are used, the matching ending brace is the first `}' not escaped by a backslash or within a  quoted  string,
   and not within an embedded arithmetic expansion, command substitution, or parameter expansion.

   ${parameter}
          The  value  of  parameter  is substituted.  The braces are required when parameter is a positional parameter with
          more than one digit, or when parameter is followed by a character which is not to be interpreted as part  of  its
          name. 
```

* * *

**所以**：`hive -e 'set a=test_table; desc ${hiveconf:a};'`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-03T05:25:02.973

尝试这个：

hive --hiveconf a="test_table" -e "描述数据库。${hiveconf:a}"

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T06:53:18.497

你必须像下面这样编码。

```
 >a=test_table
   >hive -e "describe $a" 
```

[检查语言手册](https://cwiki.apache.org/Hive/languagemanual-variablesubstitution.html)

# sql-server-2008 - SQL 必须声明标量变量

> ID：15240301
> 
> 赞同：-1
> 
> 时间：2013-03-06T06:16:20.040
> 
> 标签：sql-server-2008, tsql

下面是程序。即使我已将@startdate 转换为varchar，我仍不断收到SQL 必须声明标量变量“@sql”。我错过了什么？

```
CREATE PROCEDURE [dbo].[project_revenue_forecast_monthly]
@startDate datetime,
@sql varchar(max)
AS

SET @sql = 'SELECT CLIENTNAME, PROJECTNAME, PROJECTSD, 
    isnull([' + REPLACE(SUBSTRING(CONVERT(varchar, @startDate, 13), 4, 8), ' ', '') + '],0) as
      [' + REPLACE(SUBSTRING(CONVERT(varchar, @startDate, 13), 4, 8), ' ', '') + '], 
    isnull([' + REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 1, @startDate), 13), 4, 8), ' ', '') + '],0) as  
      [' + REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 1, @startDate), 13), 4, 8), ' ', '') + '],
    isnull([' + REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 2, @startDate), 13), 4, 8), ' ', '') + '],0) as  
      [' + REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 2, @startDate), 13), 4, 8), ' ', '') + '],
    isnull([' + REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 3, @startDate), 13), 4, 8), ' ', '') + '],0) as  
      [' + REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 3, @startDate), 13), 4, 8), ' ', '') + '],
    isnull([' + REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 4, @startDate), 13), 4, 8), ' ', '') + '],0) as  
      [' + REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 4, @startDate), 13), 4, 8), ' ', '') + '],
    isnull([' + REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 5, @startDate),  13), 4, 8), ' ', '') + '],0) as  
      [' + REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 5, @startDate), 13), 4, 8), ' ', '') + '],
    FORECASTTIMEDAYS, BILLINGRATEDAILY
    FROM
      (
      SELECT
        CLIENTNAME, PROJECTNAME, PROJECTS, SCHENTRYDATE, FORECASTTOTAL
      FROM viewprojscheduling_group
      ) AS SourceTable
    PIVOT
      (
      SUM(FORECASTTOTAL)
      FOR SCHENTRYDATE IN (' +
              QUOTENAME(REPLACE(SUBSTRING(CONVERT(varchar, @startDate, 13), 4, 8), ' ', '')) + ', ' +
              QUOTENAME(REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 1, @startDate), 13), 4, 8), ' ', '')) + ', ' +
              QUOTENAME(REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 2, @startDate), 13), 4, 8), ' ', '')) + ', ' +
              QUOTENAME(REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 3, @startDate), 13), 4, 8), ' ', '')) + ', ' +
              QUOTENAME(REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 4, @startDate), 13), 4, 8), ' ', '')) + ', ' +
              QUOTENAME(REPLACE(SUBSTRING(CONVERT(varchar, DATEADD(MONTH, 5, @startDate), 13), 4, 8), ' ', '')) + ')
      ) AS PivotTable'

execute(@sql) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:24:48.917

这样做，请注意，如果你不想`@Startdate`离开，你也应该改变它的位置。

```
CREATE PROCEDURE [dbo].[project_revenue_forecast_monthly]
@startDate datetime,

AS

Declare @sql varchar(max)
..... 
```

# android - 列表数组错误

> ID：15240303
> 
> 赞同：-2
> 
> 时间：2013-03-06T06:16:26.790
> 
> 标签：android

我的项目似乎没有错误，但是当我访问我的活动时，它会强制关闭，这会出现在我的 logcat 中。我的代码有什么问题？

```
03-06 14:03:36.994: E/AndroidRuntime(20120): FATAL EXCEPTION: main
03-06 14:03:36.994: E/AndroidRuntime(20120): java.lang.RuntimeException: Unable to start activity ComponentInfo{me.mojica.caloriewatch/me.mojica.caloriewatch.Search}: java.lang.NullPointerException
03-06 14:03:36.994: E/AndroidRuntime(20120):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at android.app.ActivityThread.access$2300(ActivityThread.java:125)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at android.os.Handler.dispatchMessage(Handler.java:99)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at android.os.Looper.loop(Looper.java:123)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at android.app.ActivityThread.main(ActivityThread.java:4627)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at java.lang.reflect.Method.invokeNative(Native Method) 
03-06 14:03:36.994: E/AndroidRuntime(20120):    at java.lang.reflect.Method.invoke(Method.java:521)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at dalvik.system.NativeStart.main(Native Method)
03-06 14:03:36.994: E/AndroidRuntime(20120): Caused by: java.lang.NullPointerException
03-06 14:03:36.994: E/AndroidRuntime(20120):    at java.util.Arrays$ArrayList.<init>(Arrays.java:49)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at java.util.Arrays.asList(Arrays.java:171)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at android.widget.ArrayAdapter.<init>(ArrayAdapter.java:125)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at me.mojica.caloriewatch.Search.onCreate(Search.java:117)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
03-06 14:03:36.994: E/AndroidRuntime(20120):    at  android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
03-06 14:03:36.994: E/AndroidRuntime(20120):    ... 11 more 
```

这是我的活动，当我尝试打开它时，会立即出现强制关闭窗口

```
private String[] listview_array;
private ArrayList<String> array_sort= new ArrayList<String>();

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
  super.onCreate(savedInstanceState);
  setContentView(R.layout.search);
  setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);

  listContent1  = (ListView)findViewById(R.id.lFoodlist1);
  search= (EditText) findViewById(R.id.eFsearch);
  food= (EditText) findViewById(R.id.editText1);
  calories= (EditText) findViewById(R.id.editText2);  
  FSearch=(Button) findViewById(R.id.bFsearch);
  result=(TextView)findViewById(R.id.textView3);

  mySQLiteAdapter = new SQLiteAdapter(this);
  mySQLiteAdapter.openToRead();

  Cursor cursor = mySQLiteAdapter.queueAll();
  startManagingCursor(cursor);

  String[] from = new String[]{SQLiteAdapter.KEY_FOODNAME,SQLiteAdapter.KEY_CALORIES};
  int[] to = new int[]{R.id.tv1, R.id.tv2};

  SimpleCursorAdapter cursorAdapter =
   new SimpleCursorAdapter(this, R.layout.row, cursor, from, to);

  //listContent1.setAdapter(cursorAdapter);
  listContent1.setOnItemClickListener(listContentOnItemClickListener); 
  mySQLiteAdapter.close();

  listContent1.setAdapter(new ArrayAdapter<String>(this,
          android.R.layout.simple_list_item_1, listview_array));

  search.addTextChangedListener(new TextWatcher() {

       public void afterTextChanged(Editable s) {

       }

       public void beforeTextChanged(CharSequence s, int start, int count,
         int after) {

       }

       public void onTextChanged(CharSequence s, int start, int before,
         int count) {

        textlength = search.getText().length();
        array_sort.clear();

        for (int i = 0; i < listview_array.length; i++)
          {
             if (textlength <= listview_array[i].length())
             {
             if(search.getText().toString().equalsIgnoreCase(
             (String)
             listview_array[i].subSequence(0,
             textlength)))
             {
              array_sort.add(listview_array[i]);
                 }
              }
       }
             listContent1.setAdapter(new ArrayAdapter<String>
             (Search.this,
             android.R.layout.simple_list_item_1, array_sort));
             }

             });

     }

 } 
```

适配器

```
public String[] qall(){
    Cursor cursor = null;
    String[] columns = new String[]{KEY_ID, KEY_FOODNAME, KEY_CALORIES};
    String[] listview_array = null;
    try{
         cursor = sqLiteDatabase.query(MYDATABASE_TABLE, columns,
                null, null, null, null, null);

        if(cursor!=null && cursor.getCount()>0 && cursor.moveToFirst()){
            listview_array=new String[cursor.getCount()];

            int foodName = cursor.getColumnIndex(KEY_FOODNAME );
            int keyColories = cursor.getColumnIndex(KEY_CALORIES );
            int l=0;
            boolean moveToNext = cursor.moveToFirst();
            do{
            listview_array[l]=cursor.getString(foodName) + "                              " +
                    cursor.getString(keyColories);
               l++;
            }while(cursor.moveToNext());
        }
    }catch(Exception e){
        Log.e(APP_NAME, "An error occurred while searching for "+search+": "+e.toString(), e);
    }finally{
        if(cursor!=null && !cursor.isClosed()){
            cursor.close();
        }
    }
    return listview_array;

} 
```

我的整个代码。请帮忙

最新错误

```
03-06 15:07:08.316: E/AndroidRuntime(23106): FATAL EXCEPTION: main
03-06 15:07:08.316: E/AndroidRuntime(23106): java.lang.RuntimeException: Unable to start activity ComponentInfo{me.mojica.caloriewatch/me.mojica.caloriewatch.Search}: java.lang.NullPointerException
03-06 15:07:08.316: E/AndroidRuntime(23106):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at android.app.ActivityThread.access$2300(ActivityThread.java:125)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at android.os.Handler.dispatchMessage(Handler.java:99)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at android.os.Looper.loop(Looper.java:123)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at android.app.ActivityThread.main(ActivityThread.java:4627)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at java.lang.reflect.Method.invokeNative(Native Method)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at java.lang.reflect.Method.invoke(Method.java:521)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at dalvik.system.NativeStart.main(Native Method)
03-06 15:07:08.316: E/AndroidRuntime(23106): Caused by: java.lang.NullPointerException
03-06 15:07:08.316: E/AndroidRuntime(23106):    at java.util.Arrays$ArrayList.<init>(Arrays.java:49)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at java.util.Arrays.asList(Arrays.java:171)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at android.widget.ArrayAdapter.<init>(ArrayAdapter.java:125)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at me.mojica.caloriewatch.Search.onCreate(Search.java:117)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
03-06 15:07:08.316: E/AndroidRuntime(23106):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
03-06 15:07:08.316: E/AndroidRuntime(23106):    ... 11 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:38:48.540

你还没有初始化你的字符串数组。因此，请在您的 onCreate() 中将其初始化如下。

> ```
>  private String[] listview_array;
>      /** Called when the activity is first created. */
>      @Override
>     public void onCreate(Bundle savedInstanceState) {
>                super.onCreate(savedInstanceState);
>                setContentView(R.layout.search);
>             listview_array=new String[10]; 
> ```

**编辑：** 在您的字符串数组中添加数据，如下所示，然后将您的字符串数组添加到适配器中：

> ```
>  listview_array= mySQLiteAdapter.qall();
>    listContent1.setAdapter(new ArrayAdapter<String>(this,
>       android.R.layout.simple_list_item_1, listview_array)); 
> ```

# javascript - JavaScript 确认 onSubmit

> ID：15240304
> 
> 赞同：0
> 
> 时间：2013-03-06T06:16:34.513
> 
> 标签：javascript, forms, perl, confirm, onsubmit

我正在编写一个动态打印出 HTML 页面的 Perl 脚本。

该页面允许用户通过单击表单上的单选按钮来选择四个任务之一。

如果用户单击任务“清除注册表单”的单选按钮，我应该向用户提供警告。如果用户单击确定，则表单提交。如果用户单击取消，则不会发生任何事情。

我是 JavaScript 新手，所以我基于老师的两个示例的代码：一个是在按钮上运行 onClick 的确认方法，另一个是在表单上运行 onSubmit 的警报方法。

但显然我不明白我在做什么，因为它不起作用。对话框甚至没有弹出。

我将如何做我需要做的事？

我的代码的相关部分（没有 Perl 打印语句）目前如下所示：

```
<script type="text/javascript">
function confirmation( ) {
    if (maint.mainttask.value == "clearsheet") {
        var answer = confirm('Are you sure you want to clear all entries?');
        if (answer==true){
            return(true);
        } else {
            return(false);
        }
    }
    return(true);
}
</script>
<form method='post' action='path removed' name=maint ONSUBMIT="return confirmation( )">
<table>
<tr><td><input type=radio name='mainttask' checked value='clearsheet'></td><td>Clear the signup sheet</td></tr> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:42:49.590

我总是更喜欢使用标准按钮并从验证函数中调用 submit() 方法，而不是依赖于提交按钮和 onsubmit 事件。其他人可能不同意，但在我看来，你对事情有更多的控制权。尝试以下...

```
<html>
<head></head>
<body>
<script type="text/javascript">
function confirmation() {
    if (maint.mainttask.value == "clearsheet") {
        var answer = confirm('Are you sure you want to clear all entries?');
        if (answer==true){
            document.forms["maint"].submit();
            }
        }
    }
</script>
<form method='post' action='path removed' name='maint'>
<table>
<tr><td><input type='radio' name='mainttask' checked value='clearsheet'></td><td>Clear the signup sheet<br />
<input type="button" onClick="confirmation()" value="Click me..."/></td></tr>
</table>
</form>
</body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:22:55.197

```
<script type="text/javascript">
function confirmation( )
{
    if (maint.mainttask.value == "clearsheet")
    {
        var answer = confirm('Are you sure you want to clear all entries?');
        if (answer){
            return true;
        }
        else{
            return false;
        }
    }
    return true;
}
</script>
<form method='post' action='#' name='maint' ONSUBMIT="return confirmation( )">
<table>
<tr><td><input type=radio name='mainttask' checked value='clearsheet'></td><td>Clear the signup sheet</td></tr>

<input type="submit" name="submit" value="submit"/>

</form> 
```

**试试这个编辑过的代码，希望它现在对你有用并显示确认框。**

# javascript - JS调试过程？

> ID：15240315
> 
> 赞同：3
> 
> 时间：2013-03-06T06:17:13.190
> 
> 标签：javascript, jquery, css, debugging, firebug

场景：我有一个在第三方网站上使用的插件，我必须调试一些冲突的 JS 和 CSS。除了出现问题的公共页面外，我无权访问他们网站上的任何内容。JS 都被缩小了，而且还有很多。

当我尝试调试时，如何让 Firebug（或其他东西）美化它显示给我的 JS？

有没有办法告诉调试器单步执行在单击某个元素后执行的每一行 JS，或者以其他方式以逐步方式公开正在执行的部分？

当前是否有关于如何在网络上某处或 SO 上执行此类操作的详细说明？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T06:22:43.027

Chrome 开发者工具可以展开缩小后的代码，使其更具可读性。您还可以为 DOM 中的更改设置断点并查看监听的事件。

您还应该查看源映射（请参阅[http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/)），您可能会发现它们对于从缩小到非缩小源代码的映射可能很有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:24:06.960

您可以使用 Chrome 开发者工具。或这个网站

1.  [JS 美化器](http://jsbeautifier.org/)

# sql - 从 select 语句中插入一条记录并将标识带回相同的 select 查询

> ID：15240317
> 
> 赞同：0
> 
> 时间：2013-03-06T06:17:19.817
> 
> 标签：sql, sql-server, sql-server-2008

我对 SQL 查询有疑问

我有一个有两列的表，`employee_name`, `phone_number`。该表有 100 行。

我想存储`employee_name`在一个表和`phone_number`另一个表中并建立关系。我将解释架构

**员工表**

```
emp_id (identity)
emp_name (text)
ph_id (FK from the phone table) 
```

**电话**桌

```
ph_id (identity)
phone_number 
```

所以我尝试了

```
insert into emp_table (emp_name, ph_id)
select employee_name, (insert into phone_table output inserted.ph_id values (whole.phone)) as phone_id 
```

这个查询是错误的。但这就是我想要做的。

我想将电话号码插入电话号码表中，并在同一选择语句中具有标识并插入到员工表中。

你的意见？

决赛桌应该是

整张桌子（这是我现在拥有的）

```
emp_name   phone_number
----------------------
name1      123
name2      456
name4      789 
```

并在执行查询后

**员工表**

```
name    ph_id
-------------
name1   1
name2   2
name3   3 
```

**电话表**

```
phone_id   phone_number
-------------------------
1          123
2          456
3          789 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:01:21.357

不确定您是否拥有应有的目标表结构，但这将解决问题中的问题。

*首先为每个不同的*电话号码插入一行`phone_table`，然后插入其中并在和`employee_table`之间进行连接`whole_table``phone_table``phone_number`

```
insert into phone_table(phone_number)  
select distinct phone_number
from whole_table

insert into employee_table(name, ph_id)
select w.emp_name, p.phone_id 
from whole_table as w
  inner join phone_table as p
    on w.phone_number = p.phone_number 
```

[SQL小提琴](http://sqlfiddle.com/#!6/d79a9/4)

**更新：**

您可以`merge ... output`按照[此处](https://stackoverflow.com/questions/5365629/using-merge-output-to-get-mapping-between-source-id-and-target-id)所述使用来处理电话号码和姓名的重复项。

在表变量中使用生成的 id 捕获源数据，并在插入语句中使用表变量。

```
declare @T table
(
  phone_id int,
  emp_name varchar(10),
  phone_number varchar(10)
);

merge phone_table as p
using whole_table as w 
on 0 = 1
when not matched then
insert (phone_number) values (w.phone_number)
output inserted.phone_id,
       w.emp_name,
       w.phone_number
into @T(phone_id, emp_name, phone_number);

insert into employee_table(name, ph_id)
select t.emp_name, t.phone_id 
from @T as t; 
```

[SQL小提琴](http://sqlfiddle.com/#!6/438af/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:26:02.583

使用@@Identity。像这样：

```
insert into phoneTable(phone_number) values('999888777');

declare @phoneid int

set @phoneid = @@IDENTITY

insert into EmployeeTable(emp_name, ph_id) values('John Supakin', @phoneid) 
```

或者，简单地说。但在长查询中要小心。

```
insert into phoneTable(phone_number) values('999888777');

insert into EmployeeTable(emp_name, ph_id) values('John Supakin', @@IDENTITY) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:30:33.843

您将不得不分成 2 个不同的 SQL。一个插入到 EmployeeTable 中，另一个插入到 phonetable 中。

# python - 在 MySQL 表中生成唯一字符列表

> ID：15240321
> 
> 赞同：0
> 
> 时间：2013-03-06T06:17:30.583
> 
> 标签：python, mysql, string, unicode, standards

我有一个数据库，其中包含以 28 种语言出版的赞美诗集的赞美诗标题。在输入标题时，我研究了每种语言中哪些 unicode 字符最正确（例如，汤加语声门塞音应该是 U+02BB，尽管它看起来像撇号；另外，在罗马尼亚语中，U+021A (ț)比 U+0163 (ţ) 等更正确）。

现在我正在做一个类似的项目，我想回去“分解”我的研究，方法是收集一种语言的所有标题并输出标题中使用的所有唯一字符的列表。

有没有办法用 MySQL 和/或 Python 做到这一点？我正在考虑在每个字符之间拆分一个字符串，对所有字符进行排序，然后将它们组合在一起。我的网站是用 Python 编写的，但它都是非常基本的编码（我还不太高级）。

* * *

**编辑：这就是我的代码最终的结果，这要归功于这些响应，而且效果很好！**

```
hymnstitleslist = lookup('''
  SELECT HyName FROM Hymns
  WHERE HymnbookID = "'''+hbid+'''"
''')
import string
from collections import Counter
some_text = ""
for x in range(0, len(hymnstitleslist)):
  some_text = some_text+hymnstitleslist[x]['HyName']
letters = []
for i in some_text:
  letters.append(i)
letter_count = Counter(letters)
for letter,count in letter_count.iteritems():
  print "{}: {}".format(letter,count) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:28:55.287

> 我正在考虑在每个字符之间拆分一个字符串，对所有字符进行排序，然后将它们组合在一起。

这部分很容易完成：

```
import string

from collections import Counter

some_text = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque fringilla augue ac metus laoreet quis imperdiet velit congue. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Quisque tincidunt lorem ut justo fermentum adipiscing. Nullam ullamcorper eros in arcu tincidunt non scelerisque ligula molestie. Vestibulum imperdiet facilisis nisi, et sodales leo sodales at. In hac habitasse platea dictumst."

letters = []
for i in some_text:
   # Each "i" is a letter or space
   if i in string.letters:
      # only collect letters, not punctuation marks or spaces
      letters.append(i)

# count how many of each
letter_count = Counter(letters)

# For each letter, print the count:

for letter,count in letter_count.iteritems():
    print "{}: {}".format(letter,count) 
```

这会给你：

```
C: 1
I: 1
L: 1
N: 1
Q: 1
P: 1
V: 2
a: 24
c: 19
b: 5
e: 44
d: 10
g: 6
f: 4
i: 44
h: 2
j: 1
m: 17
l: 27
o: 17
n: 18
q: 4
p: 10
s: 32
r: 19
u: 34
t: 31
v: 1 
```

* * *

> 我从 MySQL 表中提取数据，所以我的数据在字典中。如何合并所有选定条目的数据？

那么第一步是将所有数据收集到某种集合中，比如说一个列表：

```
letters = []

cur.execute(some_query) # See the Python database API for what is going on here
results = cur.fetchone()

while results:
   the_text = results[0] # if its the first column
   for i in the_text.split():
       # By default, split() will separate on whitespace,
       # so each i is a word.
       for letter in i:
           if letter in string.letters:
               letters.append(letter)

    results = cur.fetchone() # get the next result 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:25:12.317

您可以按字母拆分所有标题并将其添加到集合中。在集合中，您将获得所有独特的角色。简单的例子是：

```
all_you_titles_string = 'title1 title2 ti tl e3'
result_set = set()
[result_set.add(letter) for letter in all_you_titles_string.replace(' ', '')]
print result_set 
```

# php - 将电子邮件地址限制为仅一个顶级域 (TLD)？

> ID：15240324
> 
> 赞同：0
> 
> 时间：2013-03-06T06:17:34.777
> 
> 标签：php

如何在以下代码中将电子邮件地址限制为仅 .edu？

```
function ValidateEmail($email) {
    global $debug;
    if($debug)
        return TRUE;
    else
        return preg_match("/^[^\s]+@[^\s]+.[^\s]+$/", $email);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T06:27:49.310

PHP 5.2 或更高版本检查此代码

```
function validateEmailAddress($email) {
  return filter_var($email, FILTER_VALIDATE_EMAIL) && preg_match('/@.+\.edu/', $email);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:47:51.040

看一下这个

```
function ValidateEmail($email) { 

    if(filter_var($email, FILTER_VALIDATE_EMAIL)  && ( substr($email ,-4) == ".edu")){
        return true;
    }else{
        return false;
    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:27:58.990

好吧，您验证任何电子邮件的正则表达式非常原始且不完整，但假设这对您来说已经足够好了，您只需在末尾显式添加“.edu”而不是 [^\s]+，如下所示：

```
return preg_match("/^[^\s]+@[^\s]+\\.edu$/", $email); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:29:24.437

我对正则表达式非常陌生。但是你可以在这段时间之后看到有这个块：`[^\s]+`. 胡萝卜 (^) 表示非，\s 表示空格（制表符、换行符、空格），而 + 表示匹配这些字符的数量不受限制，直到您到达正则表达式的下一部分（恰好是结尾）。这意味着`.`在电子邮件域中之后，您的脚本将匹配无限的非空白字符。这意味着两者都`example@test.com`可以`example@test.comcomcomcomcomcom`工作，但`example@test.c om`不会。将其替换`[^\s]+`为`edu`应该可以。

```
function ValidateEmail($email) {
    global $debug;
    if($debug)
        return TRUE;
    else
        return preg_match("/^[^\s]+@[^\s]+.edu$/", $email);
} 
```

如果这不起作用（因为我的正则表达式很差），我会合并 PHP 的 substr()。

```
function ValidateEmail($email) {
    global $debug;
    if($debug)
        return TRUE;
    else {
        if(substr($email,-4) != '.edu'))
             return false;
        else   // ends in .edu, check for valid email
             return preg_match("/^[^\s]+@[^\s]+.[^\s]+$/", $email);
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T06:29:46.607

```
 preg_match("/^[^\s]+@[^\s]+.[^\s]+$/", $email); 
```

在这种模式中，.edu 应该放在模式的末尾：

```
 preg_match("/^[^\s]+@[^\s]+(.[^\s]+)*(\.edu)$/", $email); 
```

# c# - TreeView、HierarchicalDataTemplate 和递归数据

> ID：15240326
> 
> 赞同：17
> 
> 时间：2013-03-06T06:17:36.423
> 
> 标签：c#, wpf, treeview, hierarchicaldatatemplate

对于我的树视图，我有两个不同的类提供 ItemsSource。

```
public class TreeViewModel : ViewModelBase
{
    public ObservableCollection<NodeViewModel> Items { get; set; }
}

public class NodeViewModel : ViewModelBase
{
    public string Id { get; set; }
    public string Name { get; set; }
    public ObservableCollection<NodeViewModel> Children { get; set; }
} 
```

现在我希望我的 TreeView 显示 TreeViewModel 中的项目并显示 NodeViewModel 提供的分层数据。

这是我的 XAML

```
<Window x:Class="TreeViewMasterDetails.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:TreeViewMasterDetails" 
        Title="MainWindow" Height="350" Width="525">
    <Grid>
        <TreeView Height="Auto" 
                  HorizontalAlignment="Stretch" 
                  Margin="10" 
                  VerticalAlignment="Stretch" 
                  Width="Auto">
            <TreeView.Resources>
                <HierarchicalDataTemplate DataType="x:Type local:TreeViewModel" ItemsSource="{Binding Items}">
                    <TextBlock Text="{Binding Path=Name}"></TextBlock>
                </HierarchicalDataTemplate>
                <HierarchicalDataTemplate DataType="x:Type local:NodeViewModel" ItemsSource="{Binding Children}">
                    <TextBlock Text="{Binding Name}"></TextBlock>
                </HierarchicalDataTemplate>
            </TreeView.Resources>
        </TreeView>
    </Grid>
</Window> 
```

已尝试提供`Items`作为`ItemsSource`. `TreeView`如果显示任何内容，它不会分层显示数据。

我也尝试使用 the`ItemTemplate`而不是`TreeView.Resources`。

它有什么问题？

也许是第一个问题`TextBlock Text Binding`？我想在那里显示的`Name`属性。`NodeViewModel``Items`

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-03-06T06:47:37.323

您应该只需要声明`HierarchicalDataTemplate`for`NodeViewModel`因为这是在 中显示的唯一内容`TreeView`，并将实际绑定`ItemSource`到`TreeView`

```
<TreeView ItemsSource="{Binding Items}">
    <TreeView.Resources>
        <HierarchicalDataTemplate DataType="{x:Type local:NodeViewModel}" ItemsSource="{Binding Children}">
            <TextBlock Text="{Binding Name}"></TextBlock>
        </HierarchicalDataTemplate>
    </TreeView.Resources>
</TreeView> 
```

完整示例

xml:

```
<Window x:Class="WpfApplication13.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:WpfApplication13"
        Title="MainWindow" x:Name="UI" Width="343" Height="744.625" >

    <TreeView DataContext="{Binding ElementName=UI, Path=TreeModel}" ItemsSource="{Binding Items}">
        <TreeView.Resources>
            <HierarchicalDataTemplate DataType="{x:Type local:NodeViewModel}" ItemsSource="{Binding Children}">
                <TextBlock Text="{Binding Name}"></TextBlock>
            </HierarchicalDataTemplate>
        </TreeView.Resources>
    </TreeView>

</Window> 
```

代码：

```
public partial class MainWindow : Window
{

    public MainWindow()
    {
        InitializeComponent();
    }

    public TreeViewModel TreeModel
    {
        get
        {
            return new TreeViewModel
            {
                Items = new ObservableCollection<NodeViewModel>{
                           new NodeViewModel { Name = "Root", Children =  new ObservableCollection<NodeViewModel> {
                              new NodeViewModel { Name = "Level1" ,  Children = new ObservableCollection<NodeViewModel>{ 
                                  new NodeViewModel{ Name = "Level2"}}} } }}
            };
        }
    }
}

public class TreeViewModel
{
    public ObservableCollection<NodeViewModel> Items { get; set; }
}

public class NodeViewModel
{
    public string Id { get; set; }
    public string Name { get; set; }
    public ObservableCollection<NodeViewModel> Children { get; set; }
} 
```

结果：

![在此处输入图像描述](../Images/2d35134a5cd8a20628eb29a3952973c4.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T07:13:55.130

正如@sa_ddam213 所说，您只需要`HierarchicalDataTemplate`for `NodeViewModel`，但您的代码的唯一问题是数据模板定义中缺少大括号（`{`和`}`）`DataType="x:Type local:TreeViewModel"`（应该是`DataType="{x:Type local:TreeViewModel}"`）。添加括号和`ItemsSource`绑定解决了这个问题：

附加`HierarchicalDataTemplate`的 for`TreeViewModel`没有使用，但它不会造成伤害。

# jsf-2 - prime face Pick list not updating

> ID：15240329
> 
> 赞同：0
> 
> 时间：2013-03-06T06:17:41.023
> 
> 标签：jsf-2, primefaces

```
 <h:panelGrid columns="3" >
               <p:inputText styleClass="textbox" id="search" style="margin-top:30px;width: 340px !important;" value="#{testBean.name}"/>
               <p:watermark for="search" value="searchText" />
               <p:commandButton value="search" process="@form" styleClass="btn-primary" style="margin-top:18px;" action="#{testBean.search}" update="aaa"/>
  </h:panelGrid>

    <p:pickList id="aaa" value="#{testBean.searchList}" var="contact" 
                itemLabel="#{contact.firstName}" itemValue="#{contact}" rendered="true"  >
           <!--     <p:ajax event="transfer" listener="#{contactManagedBean.onTransfer}" />-->  
    </p:pickList> 
```

and action method is

```
public DualListModel<ContactBean> search(){

            String searchString= getSearch();

                contacts= manageConatctDelegate.search(searchString);

                List<ContactBean> contactTarget= new ArrayList<ContactBean>();
                contactsSource.add(contacts.get(0));
                contactList = new DualListModel<ContactBean>(contactsSource,contactTarget);                         

        return contactList;
    } 
```

I am working on the pick list example. I have an input box where I can search name. I have a method to search a string which will retrieve contact object. After calling search method I am updating list. I have checked the list and list is getting contact. But still pick list is blank on page.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:12:52.793

What you wanted to do by returning `DualListModel<ContactBean>`? It can't be done in that way. Your method should be `void` and you should set `searchList` property of bean to your `contactList`. In fact you should have:

```
private DualListModel<ContactBean> searchList;

public void setSearchList(DualListModel<ContactBean> searchList) {
  this.searchList = searchList;
}

public DualListModel<ContactBean> getSearchList() {
  return searchList;
} 
```

and in your `search` method you should set this property:

```
searchList = new DualListModel<ContactBean>(contactsSource,contactTarget); 
```

# asp.net-mvc - 如何使用Webgrid上方的下拉框实现每页行并更新webgrid每个选定的值

> ID：15240331
> 
> 赞同：0
> 
> 时间：2013-03-06T06:18:15.240
> 
> 标签：asp.net-mvc, asp.net-mvc-3, c#-4.0, webgrid

我在 Webgrid 上方创建了一个下拉框，如果用户从下拉框中选择任何值，我的 webgrid 会更改每页的行，所以......但它不能正常工作并且我的 webgrid 没有更新，所以请给我提示以实现它..这是我的代码..这里查看....代码

```
<div id="contentwrapper" class="contentwrapper">

                  <form id="opation" action="">
                  <div class="tableoptions">                                            
                   <button class="submit radius2" id="Act" onclick="submitForm(this.id);">Active</button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button class="submit radius2" id="Dec" onclick="submitForm(this.id);">DeActive</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button class="submit radius2" id="Del" onclick="submitForm(this.id);">Delete</button>&nbsp;&nbsp; @using (Ajax.BeginForm(new AjaxOptions{ InsertionMode = InsertionMode.Replace, UpdateTargetId = "myGrid" })) { <label>Search User: </label><input type="text" name="UserName" id="UserName" value=""/> <button class="submit radius2" id="Search" value="Search">Search</button>}                       
                  </div> 
                 </form>
                 Record Per Page:&nbsp;<form id="test" action=""><select name="DD" class="tbl_top_link" name="Pagelimit" id="Pagelimit" onchange="Count(this.value);"><option value="">- Select -</option><option id="1" value="1">1</option><option id="5" value="5">5</option><option id="10" value="10">10</option><option id="20" value="20">20</option><option id="30" value="30">30</option></select></form> 
```

```
 @{      

                               var temp = converttoInt16(ViewData["Pagesize"]);
                              var grid = new WebGrid(source: Model,
                                                       defaultSort: "Name", rowsPerPage: temp,
                                                          selectionFieldName: "SelectedRow", canPage: true);

                                                 //grid.Pager(mode: WebGridPagerModes.All,
                                                 //     firstText: "First", lastText: "Last",
                                                 //     previousText: "Previous",
                                                 //     nextText: "Next",  
                                                 //     numericLinksCount: 15);

                          <div id="mygrid">
                                             @grid.GetHtml(tableStyle: "gridTable",
                                                     headerStyle: "gridHead",
                                                     footerStyle: "gridFooter",
                                                     rowStyle: "gridRow",
                                                     alternatingRowStyle: "gridAltRow",
                                                columns: grid.Columns(
                                                         grid.Column(header: "", format: @<text><input type="checkbox" name="chkactive[]" id="chkactive[]" value="@item.User_id"/></text>),
                                                grid.Column("User_Id"),
                                                grid.Column("Name"),
                                                grid.Column("Username"),
                                                grid.Column("Fb_Id"),
                                                grid.Column("User_image", format: @<text><img src="@Url.Content(@item.Image_path)" height="30px" width="50px" alt="noimage"/></text>),
                                                grid.Column("Email"),
                                                grid.Column("Gender"),
                              grid.Column(header: "Status", format: @<text>@if (@item.Is_active == true)
                                                                           { <a href="@Url.Action("UserStatus", "Admin", new { id = @item.User_id })"><img src="../../images/Active.png"/></a> }
                                                                           else
                                                                           { <a href="@Url.Action("UserStatus", "Admin", new { id = @item.User_id })"><img src="../../images/Deactive.png"/></a> }</text>),
                               grid.Column(header: "Edit",
                                          format: @<text><a href="@Url.Action("EditeUser", "Admin", new { id = @item.User_id })"><img src="../../images/icons/editor.png" /></a></text>),
                               grid.Column(header: "Delete",
                                         format: @<text><a href="@Url.Action("DeleteUser", "Admin", new { id = @item.User_id })"><img src="../../images/icons/trash.png"/></a></text>)))

                                    </div>   
                              } 

                            </tbody>
                        </table> 
                      </form>                                                                     
                    </div> 
```

在这个视图中，我有一个 DRop 下拉框和 Onchange 事件调用我的 java sript 来确定选择了哪个值，然后发布到我的操作结果方法以执行我的逻辑并返回到视图，但我的视图没有更改或 webgrid没有更新..所以请帮助我..或者告诉我如何使用 webgrid 上的下拉菜单来执行此功能

这是我的 JAVASCRIPT

```
<script type="text/javascript" language="javascript">

function Count(value) 
{
    alert(value);

     $.post('@Url.Action("Pagesize","Admin")',
                    {
                        rowsPerPage: value                          
                    });             
} 
```

这是我的操作结果方法：----

```
 [HttpPost]
    public ActionResult Pagesize(int rowsPerPage)
    {

        //if (rowsPerPage == 0)
        //{
        //   ViewBag.Pagesize = 3;                
        //}
        //else
        //{
        //    ViewBag.Pagesize = Convert.ToInt32(rowsPerPage);               
        //}

         ViewData["pagesize"] = rowsPerPage;

         //return View(db.User_Masters.ToList());  

        // return RedirectToAction("Userlist");    

         var u_master = db.User_Masters.ToList();

         return PartialView("OneRow",u_master);

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T05:37:38.470

试试下面的方法，它工作正常，请在指定的地方更正你的表名。祝你好运！

鉴于：

```
 @using (Html.BeginForm())
             {
              <p>Some name to search: @Html.DropDownList("searchString", (IEnumerable<SelectListItem>)ViewBag.CurrentFilter, "-Select-", new {style = "width:200px;", onchange = "this.form.submit();" })
              </p>
             } 
```

在控制器中：

```
public ViewResult Viewname(string currentFilter, string searchString)
        {
            ViewBag.searchString = new SelectList(db.tablename, "Some name to search", "Some name to search");
            if (Request.HttpMethod == "GET")
            {
                searchString = currentFilter;
            }
            var Search = from objCampaign in db.tablename
                               join objClient in db.othertablenameon objCampaign.field equals objClient.field
                               select objCampaign;
            if (!String.IsNullOrEmpty(searchString))
            {
                Search = Search.Where(objsearch => objsearch.tablename.searchname.ToUpper().Contains(searchString.ToUpper()));
            }
            if (Search.Count() == 0)
            {
                TempData["infosearch"] = "No Client Found";
            }
            return View(Search.ToList());
        } 
```

谢谢GorPedoC

# ios - Box2D 和 CGAffineTransformMakeRotation 的奇怪旋转

> ID：15240332
> 
> 赞同：0
> 
> 时间：2013-03-06T06:18:17.197
> 
> 标签：ios, objective-c, core-graphics, box2d, box2d-iphone

我正在使用旋转 UIView `CGAffineTransformMakeRotation`，旋转值来自名为 Box2D 的 2D 物理引擎（您可能听说过）。集成似乎工作正常，除了旋转会旋转 UIView。无法真正解释它，所以这里有一个视频显示出了什么问题：

[http://screencast.com/t/uamth2O7mL](http://screencast.com/t/uamth2O7mL)

obj 是一个结构，它具有另一个称为“框架”的结构和一个称为旋转的浮点数。两者都 100% 正常工作。

```
UIView *view = [self.view .subviews objectAtIndex:i];

view.transform = CGAffineTransformMakeRotation(obj->rotation);
[view setFrame:CGRectMake(obj->frame->x, obj->frame->y, obj->frame->width, obj->frame->height)]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:53:53.613

正如评论中所建议的（再次感谢@borrrden），您还需要设置 UIView 的边界。

根据我的代码，这是我添加的内容：

```
[view setBounds:CGRectMake(obj->frame->x, obj->frame->y, obj->frame->width, obj->frame->height)]; 
```

# iphone - 多个 NSXML 解析器问题

> ID：15240334
> 
> 赞同：0
> 
> 时间：2013-03-06T06:18:25.977
> 
> 标签：iphone, xml, nsxmlparser

我正在尝试解析两个不同的 XML 文件，它们托管在 iPhone 应用程序的服务器上。我已将解析器从 AppDelegate 移动到每个 ViewControllers，但我遇到的问题是我的数据都没有解析到两个 tableViews 中。每个 ViewController 都有一个 tableView；一个解析一个名为“文章”的文件，另一个解析一个文件“标题”。当在 appDelegate 中初始化 nsxmlparser 时，我能够成功解析数据，但是现在我已经将它拆分并创建了两个解析器，每个解析器都在 viewControllers 中，我的数据没有正确解析。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:24:15.830

**检查事项**

*   所有值均已正确初始化
*   输入在那里（检查网络是否将您的 xml 数据作为输入返回给解析器）
*   验证是否发生解析
*   检查解析任何拼写错误的标签的错误和所有
*   检查解析循环内的输出是否正确填充

# java - 如何在使用 hadoop 预配置的 VM 映像中加载我们自己的 java 文件

> ID：15240335
> 
> 赞同：0
> 
> 时间：2013-03-06T06:18:28.213
> 
> 标签：java, hadoop, virtual-machine

我是 Hadoop 环境的新手。为了玩弄示例并了解它，我从[这里安装了一个带有 Hadoop 环境的预配置 VM](http://developer.yahoo.com/hadoop/tutorial/module3.html#vm)

我可以运行 hadoop 中提供的示例。我需要在 VM 中加载我的数据，并且必须使用 hadoop 运行它。但我不知道该怎么做，因为虚拟机没有 GUI，只有命令行选项。

我正在使用 Windows 7。如果有人帮助我解决此问题，我将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:32:27.193

由于您已经安装了 Hadoop 虚拟机，因此您必须拥有该虚拟机的 IP。由于您使用的是 Windows，请安装软件[WinSCP](http://winscp.net/eng/download.php)并使用其 IP 连接到您的 VM。然后将您想要的文件从 Windows 机器复制到 VM 的文件系统。然后，您可以使用以下命令从 VM 的文件系统中复制文件：

```
hadoop fs -put <file_in_vm_file_system> <location_in_hdfs> 
```

希望这可以帮助。

# javascript - 在 SVG-edit 中集成 Raphael 库。兼容性问题？

> ID：15240336
> 
> 赞同：1
> 
> 时间：2013-03-06T06:18:35.010
> 
> 标签：javascript, html, raphael, graphael, svg-edit

是否可以在 SVG-edit 中使用像这样的 Raphael 库：[https](https://github.com/poilu/raphael-boolean) ://github.com/poilu/raphael-boolean ，它使用纯 SVG？：

SVG 编辑网站：[https ://code.google.com/p/svg-edit/](https://code.google.com/p/svg-edit/)

我曾尝试将他们俩结婚，但我猜他们不会返回相同的路径字符串，以便我可以以干净的方式使用 raphael 库。它们是否兼容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-29T17:52:32.583

现在我已经完成了我的研究，我正在回答我自己的问题。显然是的，原生 SVG 和 Raphael SVG 规范的路径字符串格式是相同的

# php - MYSQL Cluster (NDB) vs Galera 用于复制

> ID：15240338
> 
> 赞同：0
> 
> 时间：2013-03-06T06:18:53.660
> 
> 标签：php, mysql

1.  Galera和NDB有什么区别。
2.  谁是 maria DB 或 MYSQL 的最佳复制。
3.  有什么优点和缺点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T13:18:27.590

1：使用 mysql 或 mariadb 进行 Galera 复制只是将整个数据库复制到多个服务器上。每个服务器都是相同的，可以用于读取和写入。Galera 可以与 WAN 复制一起使用，并且对网络延迟不太敏感。NDB 可用于通过分区进行横向扩展，而 galera mysql 或 mariadb 将需要手动分片。

2：MariaDB 和 MySQL 是类似的产品。这取决于您的要求，但如果您特别想使用 Galera，我会建议使用 MariaDB，因为它由 MariaDB 基金会支持，而 Oracle 正在推动 MySQL 集群，与 Galera 无关。

3：不知道你在问什么。

# python - PIL 图像，从一个图像剪切到另一个图像

> ID：15240343
> 
> 赞同：1
> 
> 时间：2013-03-06T06:19:43.823
> 
> 标签：python, python-imaging-library

我正在尝试从一个图像中剪切一个部分并将其粘贴到另一个图像中。我正在使用以下代码：

```
img1 = Image.open("Img1.png")
img2 = Image.open("Img2.png")
cut = img2.crop((31, 0, 47, 15))
cut.save("cut.png")
img1.paste(cut, (150,300))
img1.save("NewImg1.png") 
```

当我看的时候，`cut.png`我看到右边的部分被剪掉了。然而，当它被粘贴到 img1 时，生成的图像只有一个黑框，粘贴部分应该在哪里。

我怀疑这可能是我的图像而不是代码的问题，（两者都是在 Paint.NET 中创建的，使用默认选项保存）但我真的不知道现在该去哪里找出问题所在。

# arm - ARM 除以 10 保存余数和商

> ID：15240351
> 
> 赞同：-1
> 
> 时间：2013-03-06T06:20:10.223
> 
> 标签：arm

这是来自 CS2400 MSU Denver 的作业问题

你好，

我有一个程序从用户那里读取密钥，直到他们输入非 HEX 字符或输入最多 8 个 HEX 字符。输入键时，我通过将总和寄存器乘以 16 并添加新的十六进制值来保持用户输入的十六进制值的总和。

这部分一切都很好，花花公子，不需要帮助。我无法以 HEX 格式获取最终结果并将其转换为 DEC。我知道我需要除以 10，但我不知道如何做到这一点。

请帮我确定如何除以 10 并保存商和余数。谢谢。

```
AREA HW6, CODE
ENTRY

Divsor  EQU 10  
MAIN
MOV R1, #0          ; Clear register to be used as symbols received     counter
MOV     R2, #0              ; Clear register to be used as temp result
LDR R4, =DecStr     ; Load address of DecStr
LDR R5, =TwosComp       ; Load address of TwosComp
LDR R6, =RvsDecStr
BL  READ_CHARS      ; Read characters from the keyboard
BL  TO_DECIMAL      ; Is R2 negative ?
SWI     0x11

READ_CHARS
CMP     R1, #8          ; Check if necessary to read another key
BEQ DONE_READ_CHAR      ; User has entered 8 hex symbols

SWI 4           ; [R0] <--- Key from keyboard (ASCII)

CMP R0, #'0'        ; Verify digit is valid 
BLO DONE_READ_CHARS 

CMP R0, #'9'        ; Verify digit is valid 
BHI     CHECK_HEX       

SUB R0, R0, #'0'        ; Obtain Hex equivalent of ASCII char 0-9   
B   STORE_INPUT     

CHECK_HEX
CMP     R0, #'A'
BLO DONE_READ_CHARS         ; Invalid Hex symbol
CMP R0, #'F'
BHI DONE_READ_CHARS     ; Invalid Hex symbol    

SUB     R0, R0, #'A'
ADD R0, R0, #0xA        ; Adding ten to receive Hex equivalent of ASCII A-F

STORE_INPUT
MOV R3, R2, LSL#4       ; *16
ADD R2, R3, R0      ; Add valid Hex symbol to temp result
ADD     R1, R1, #1      ; Increase symbol's recieved counter
B   READ_CHARS      ; Get next key

DONE_READ_CHARS
MOV     PC, LR          ; Return to BL READ_CHARS ( MAIN )

TO_DECIMAL
TST     R2, #2, 2
BEQ POSITIVE
STRB    #'-', [R4], #1      ; Store - as first byte in DecStr
MVN R2, R2          ; [R2] <-  1's complement of R2
ADD R2, R2, #1      ; [R2] <-  2's complement of R2
POSITVE
STR R2, [R5]        ; Store all entered hex values in memory at TwosComp

LDR     R7, [R5]        ; Initial quotient 
udiv10
LDRB    R7, [R5], #1        ; Load a byte of TwosComp 
CMP R7, #0
BEQ DONE_TO_DECIMAL

DONE_TO_DECIMAL
MOV PC, LR

AREA data1, DATA    
TwosComp 
DCD 0

DecStr  % 12

RvsDecStr
% 11

ALLIGN
END 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-11T05:56:44.253

您可以通过像基本除法一样轻松地进行减法和移位来做到这一点。本站和谷歌上也有很多除法算法

[如何在 ARM 上进行整数（有符号或无符号）除法？](https://stackoverflow.com/q/8348030/995714)

[没有除法运算符的处理器上的汇编 mod 算法](https://stackoverflow.com/q/938038/995714)

但是，如果您只想从十六进制转换为十进制，那么[double dabble](https://en.wikipedia.org/wiki/Double_dabble)可能适合您的需要。它将数字转换为打包的 BCD，无需任何除法

# windows-store-apps - 如何通过资源或在 Windows 商店应用程序中以编程方式设置应用程序栏按钮图像

> ID：15240353
> 
> 赞同：0
> 
> 时间：2013-03-06T06:20:16.427
> 
> 标签：windows-store-apps, appbar

我想以编程方式加载 AppBar，但无法将图像设置为位图。这是允许的吗？还是只能使用 Segoe UI Symbol 字符？

我尝试在资源中这样做：

```
<Style x:Key="StudyAppBarButtonStyle" TargetType="ButtonBase" BasedOn="{StaticResource AppBarButtonStyle}">
    <Setter Property="AutomationProperties.AutomationId" Value="StudyAppBarButton"/>
    <Setter Property="AutomationProperties.Name" Value="Study"/>
    <Setter Property="Content">
        <Setter.Value>
            <Image Source="Assets/AppBar/Study.png" />
        </Setter.Value>
    </Setter>
</Style> 
```

没有位图出现。

我可以以编程方式设置位图：

```
 Uri _BaseUri = new Uri("ms-appx:///");
        foreach (MenuItem menuItem in Model.MainMenu.MenuItems)
        {
            Button button = new Button();
            button.Name = menuItem.Name;
            button.Click += AppBar_Click;
            button.Tag = menuItem.Name;
            Style style = (Style)App.Instance.Resources["AppBarButtonStyle"];
            button.Style = style;
            Image image = new Image();
            Uri uri = new Uri(_BaseUri, "Assets/AppBar/" + menuItem.Name + ".png");
            image.Source = new BitmapImage(uri);
            image.Width = 25;
            image.Height = 25;
            button.Content = image;
            AutomationProperties.SetName(button, menuItem.Title);
            TopLeftPanel.Children.Add(button);
        } 
```

但如果我这样做：

```
button.Content = "\uE10F"; 
```

我没有看到家庭角色。

一般来说，是否有在应用栏中使用自定义图像的示例或指南？Segoe 没有适用于我所有菜单项的图像。

不幸的是，我的应用程序非常复杂，有两级菜单，所以任何有关处理此问题的建议将不胜感激。基本上，我正在尝试将我的网站[http://www.jtlanguage.com](http://www.jtlanguage.com)变成一个应用程序。

谢谢。

-约翰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T13:04:47.133

您必须创建自己的样式，AppBarButtonStyle 不能与图像一起使用。我建议您查看此 MSDN 论坛主题，它可能对您有所帮助。[如何自定义我的 AppBarIcons 图片？](http://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/c6524046-685a-44ae-9365-93c3de464de5). 如果您找到解决方案，请不要忘记接受此答案。

# mysql - mysql ORDER BY 和 CASE 将 INT 转换为 CHAR？

> ID：15240355
> 
> 赞同：0
> 
> 时间：2013-03-06T06:20:22.610
> 
> 标签：mysql, casting, sql-order-by

对于具有可配置排序顺序（_Sort 参数）的存储过程，我使用如下代码：

```
 SELECT * FROM distances   
    ORDER BY 
        CASE _Sort 
            WHEN 1 THEN uid
            WHEN 2 THEN NULL
            WHEN 3 THEN name
            WHEN 4 THEN NULL
            WHEN 5 THEN distance
            WHEN 6 THEN NULL
            ELSE distance
        END ASC,
        CASE _Sort 
            WHEN 2 THEN uid
            WHEN 4 THEN name
            WHEN 6 THEN distance
            ELSE NULL
        END DESC 
```

其中`uid`是**INT**并且`distance`是**DOUBLE**。

但如果 _Sort = 1，则按**CHAR**`uid`排序，例如

 **```
200
207
 25
  4 
```

同样的事情`distance`。转换为无符号和十进制没有帮助。

`ORDER BY uid ASC`做正确的事，即`4, 25, 200, 207`

任何的想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:22:47.070

如[控制流功能](http://dev.mysql.com/doc/en/control-flow-functions.html#operator_case)下所述：

> 表达式的返回类型`CASE`是所有返回值的兼容聚合类型

虽然该手册没有明确记录“兼容的聚合类型”是如何确定的，但可以从[`Item_func_case::fix_length_and_dec()`](http://fossies.org/dox/mysql-5.5.30/item__cmpfunc_8cc_source.html#l03070)到[`agg_result_type()`](http://fossies.org/dox/mysql-5.5.30/item__cmpfunc_8cc_source.html#l00076)遵循源代码[`item_store_type()`](http://fossies.org/dox/mysql-5.5.30/item__cmpfunc_8cc_source.html#l00039)：

```
static Item_result item_store_type(Item_result a, Item *item,
                                   my_bool unsigned_flag)
{
  Item_result b= item->result_type();

  if (a == STRING_RESULT || b == STRING_RESULT)
    return STRING_RESULT;
  else if (a == REAL_RESULT || b == REAL_RESULT)
    return REAL_RESULT;
  else if (a == DECIMAL_RESULT || b == DECIMAL_RESULT ||
           unsigned_flag != item->unsigned_flag)
    return DECIMAL_RESULT;
  else
    return INT_RESULT;
} 
```

因此可以看出，如果单个返回值是一个字符串，那么整个`CASE`表达式的返回值也将是一个字符串。

在您的情况下，假设这`name`是一个字符串；因此，您的`CASE`表达式返回的数据类型是字符串。因此，您的数值作为字符串进行比较，从而按字典顺序排序（因此您观察到的输出）。

克服这个问题的一种方法是将所有数值填充到相等的宽度，以便按字典顺序排序将提供所需的结果：使用`ZEROFILL`整数类型列的属性将自动执行此操作；但是，这仍然非常低效，您可能希望考虑重新设计您的逻辑。

例如，您可以改为构建一个包含所需 SQL 的字符串；然后从该字符串[准备并执行](http://dev.mysql.com/doc/en/sql-syntax-prepared-statements.html)一条语句：

```
SET @sql := CONCAT(
  'SELECT * FROM distances ORDER BY ',
  CASE _Sort
    WHEN 1 THEN 'uid ASC'
    WHEN 2 THEN 'uid DESC'
    WHEN 3 THEN 'name ASC'
    WHEN 4 THEN 'name DESC'
    WHEN 5 THEN 'distance ASC'
    WHEN 6 THEN 'distance DESC'
    ELSE 'distance ASC'
  END
);

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:47:41.577

试试这个解决方案（**已编辑**） -

```
SELECT * FROM distances
ORDER BY
  IF(_Sort = 1, uid, 0),
  IF(_Sort = 2, NULL, 0),
  IF(_Sort = 3, name, 0),
  IF(_Sort = 4, NULL, 0),
  ... 
```**

# python - 如何使用python展平元组中的项目列表？

> ID：15240357
> 
> 赞同：0
> 
> 时间：2013-03-06T06:20:34.090
> 
> 标签：python, list, tuples

我有一个数据元组列表：

```
data = [('Date', 'Type', 'Product'),
        ('2013/03/07', 'Electronic', 'TV, Radio, Microwave'),
        ('2013/03/07', 'leather', 'Gucci Wallet')] 
```

我想复制并使我的数据列表更简单，如下所示：

```
data = [('Date', 'Type', 'Product'),
        ('2013/03/07', 'Electronic', 'TV'),
        ('2013/03/07', 'Electronic', 'Radio'),
        ('2013/03/07', 'Electronic', 'Microwave'),
        ('2013/03/07', 'leather', 'Gucci Wallet')] 
```

请帮我这样做。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T07:38:28.593

利用 itertools 的好问题。

将解决方案阅读为**展平通过使用“，”拆分生成的项目对列表**

```
list(chain(*(product(*imap(str.split, e)) for e in data))) 
```

这是演示

```
>>> from pprint import PrettyPrinter
>>> pp = PrettyPrinter(indent = 4)
>>> data = [('Date', 'Type', 'Product'),
        ('2013/03/07', 'Electronic', 'TV, Radio, Microwave'),
        ('2013/03/07', 'leather', 'Gucci Wallet')]
>>> from itertools import izip, imap, product, chain
>>> data = list(chain(*(product(*imap(str.split, e)) for e in data)))
>>> pp.pprint(data)
[   ('Date', 'Type', 'Product'),
    ('2013/03/07', 'Electronic', 'TV,'),
    ('2013/03/07', 'Electronic', 'Radio,'),
    ('2013/03/07', 'Electronic', 'Microwave'),
    ('2013/03/07', 'leather', 'Gucci'),
    ('2013/03/07', 'leather', 'Wallet')] 
```

**从 OP 更新**

> data = list(chain(*(product(*imap(str.split(','), e)) for e in refine_data))) ，我用这一行来展平我的代码，但它显示了这个错误：“type object * 之后的参数必须是序列，而不是生成器”，简单的拆分会破坏所有单词，即使有空格和任何特殊字符，请帮帮我

选项1：

```
>>> from operator import methodcaller
>>> list(chain(*(product(*imap(methodcaller("split", ","), e)) for e in data))) 
```

选项 2：

```
>>> list(chain(*(product(*(s.split(",") for s in e)) for e in data))) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:31:42.270

由于第三个元素是逗号分隔的字符串，您可以检查它的存在并相应地拆分

```
In [131]: data
Out[131]:
[('Date', 'Type', 'Product'),
 ('2013/03/07', 'Electronic', 'TV, Radio, Microwave'),
 ('2013/03/07', 'leather', 'Gucci Wallet')]

In [132]: data2 = []

In [133]: for item in data:
   .....:     if item[2].find(',') > -1:
   .....:         x =  [(item[0], item[1], x.strip()) for x in item[2].split(',')]
   .....:         for i in x:
   .....:             data2.append(i)
   .....:     else:
   .....:         data2.append(item)
   .....:

In [134]: data2
Out[134]:
[('Date', 'Type', 'Product'),
 ('2013/03/07', 'Electronic', 'TV'),
 ('2013/03/07', 'Electronic', 'Radio'),
 ('2013/03/07', 'Electronic', 'Microwave'),
 ('2013/03/07', 'leather', 'Gucci Wallet')] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:54:38.957

So I think I have more pythonic solve for this problem and my code is:

```
result_lst = []
for tup in data[1:]:
    result_lst+=[tup[0:2] + tuple([product]) for product in tup[2].split(',')]
print result
OUT:
[('2013/03/07', 'Electronic', 'TV'),
('2013/03/07', 'Electronic', ' Radio'),
('2013/03/07', 'Electronic', ' Microwave'),
('2013/03/07', 'leather', 'Gucci Wallet')] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:25:12.460

```
result = data[:1]
for item in data[1:]:
  (date, category, products) = item
  result.extend(map(lambda product: (date, category, product), tuple(products.split(', '))))

print result 
```

这是我能做到的pythonic ...

输出：

```
[('Date', 'Type', 'Product'), 
('2013/03/07', 'Electronic', 'TV'), 
('2013/03/07', 'Electronic', 'Radio'), 
('2013/03/07', 'Electronic', 'Microwave'), 
('2013/03/07', 'leather', 'Gucci Wallet')] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T06:29:04.943

此代码应该可以帮助您简化数据。

```
data = [('Date', 'Type', 'Product'), ('2013/03/07', 'Electronic', 'TV, Radio, Microwave'), ('2013/03/07', 'leather', 'Gucci Wallet')]

for tup in data:
    items=tup[2].split(',');
    if len(items)>1:
        date=tup[0];
        typ=tup[1];
        data.remove(tup);
        for i in items:
            data.append(tuple([date,typ,i])); 
```

**PS**：这可能不会保持原来的顺序。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T06:31:45.957

我认为这样做的方法是

```
def mycopy(lst):
    newlst = []
    for tup in lst:
        newitems = tup[-1].split(',')
        rest = tup[:-1]
        for i in newitems:
            newlst.append(rest+(i,))
    return newlst 
```

这保留了顺序，但在新列表（未到位）上运行。如果需要，我会写一个到位的。

# android - 动态替换 HTML 参数的值

> ID：15240359
> 
> 赞同：1
> 
> 时间：2013-03-06T06:20:41.847
> 
> 标签：android, html, webview, flash

我不确定标题是否清楚地说明了我在这里的困难，但我想保持标题简短。无论如何，我正在开发一个在 android 中的项目，其中在 WebView 中显示 Flash 文件。代码简单但重复。这就是我想剪掉重复部分的原因。如果有一个与该特定文本关联的 swf 文件，我有一个显示文本并提供播放按钮选项的活动。一旦我点击播放按钮 swf 文件播放。现在有许多 swf 文件和许多文本页面。我不想为“n”个文件和 swf 动画编写“n”个活动。因此，在下面的代码中，您将看到一个文件 a.swf。我想用 b.swf、c.swf 等来改变那个特定的值。我怎样才能做到这一点？任何建议表示赞赏。提前致谢。

```
 package com.example.testflashfile;

import android.app.Activity;
import android.content.pm.ActivityInfo;
import android.os.Bundle;
import android.view.Window;
import android.webkit.WebView;
import android.webkit.WebViewClient;
import android.webkit.WebSettings.PluginState;

public class PlayAnimationActivity extends Activity 
{
    WebView presentationWebView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR);
        setContentView(R.layout.animation_one);

        String html =
                "<object><embed src=\"file:///android_asset/a.swf\" width=\"100%\" height=\"100%\" max-width=\"100%\"> </embed> </object>";
        String mimeType = "text/html";
        String encoding = "utf-8";

        WebView wv=(WebView) findViewById(R.id.presentation_webview);
        wv.getSettings().setJavaScriptEnabled(true);
        wv.getSettings().setPluginState(PluginState.ON);
        wv.loadDataWithBaseURL("null", html, mimeType, encoding,  "");
        wv.setWebViewClient(new HelloWebViewClient());

    }

    public class HelloWebViewClient extends WebViewClient {

        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url) {
            view.loadUrl(url);
            return true;
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:27:31.563

这是用户进行选择时将要更改的部分

```
String html = "<object><embed src=\"file:///android_asset/a.swf\" width=\"100%\" height=\"100%\" max-width=\"100%\"> </embed> </object>"; 
```

您必须编写一个新方法来接收用户选择并返回与选择相关的字符串

```
public String getMyHTMLString(String userSelection){
 String htmlString = "<object><embed src=\"file:///android_asset/"+userSelection+".swf\" width=\"100%\" height=\"100%\" max-width=\"100%\"> </embed> </object>";
 return htmlString;
} 
```

# sql - 如何用标准减去两个日期（如果另一个表中不存在数据，则使用今天的日期，如果存在，则使用其中的日期）？

> ID：15240363
> 
> 赞同：1
> 
> 时间：2013-03-06T06:20:52.953
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我有两个表（data2002.dbo.tblCrew**和**eds.dbo.tblpms **）**，其中 tblCrew 用作主表。请注意，tblpms 中的主键都存在于 tblCrew (main) 中。我想看看 tblCrew 中的数据是否存在于 tblpms 中，如果确实存在，我需要从 tblCrew 中获取某个日期与另一个来自 tblpms 的日期之间的差异。但如果它不存在，我需要 tblCrew 的日期和今天的日期之间的差异。

我的查询被困在这里：

```
SELECT t1.CaseNo, t1.LastName + ', ' + t1.FirstName as fname
, case 
    when (t2.med_stat <> 'Fit To Work' and t2.med_stat <> 'Deceased' 
      and t2.med_stat <> 'Reached Maximum Medical Cure' 
      and t2.med_stat <> 'Stop Treatment') 
          then datediff(day,cast(t1.DatePIConsult as datetime), getdate()) 
    else
      datediff(day,cast(t1.DatePIConsult as datetime),cast(t2.med_stateff as datetime))        end as
TreatmentDays 

from data2002.dbo.tblCrew as t1
 join eds.dbo.tblpms as t2 
   on t1.CaseNo COLLATE DATABASE_DEFAULT = t2.CaseNo COLLATE DATABASE_DEFAULT 
```

这给我带来了这个结果（这不是我所期望的）：

```
CaseNo          Name                    Days
AM06-009-CRW    VILLARINO, RICHARD  
BLB13-014-CRW   ARQUISOLA, REDEN    
JPI12-028-CRW   OBENQUE, JOSE   
JPI12-037-CRW   TARRO, ANGELO   
JPI12-039-CRW   DELA CRUZ, FELICIANO    121
NOE12-205-CRW   CLAVIO, RAYMUND 
NOE12-205-CRW   CLAVIO, RAYMUND 
```

我希望更像这个（样本）：

```
CaseNo          Name                    Days
BM07-029-CRW    ASASPOK, RICH           119
CLC14-014-CRW   QDASF, READS            115 
```

我想要（希望@_@）实现的目标如下）：

一个。如果表 1 中存在 20 行，表 2 中存在 10 行。我可以在 20 行中得到结果吗（基于 table1）而不是来自 table2（因为 table1 总是比 table2 有更多的数据）。

湾。我还想在我的查询中添加仅显示不同的 CaseNo 并且如果第 3 列不为空。

C。另一个标准是仅当第 3 列中的值介于 109 和 121 之间时（实际值 = 110-120）。

希望你能帮我解决这个问题..提前非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T17:49:22.180

```
 SELECT t1.CaseNo, t1.LastName + ', ' + t1.FirstName as fname
, case 
    when t2.CaseNo IS NULL 
        THEN datediff(day,cast(t1.DatePIConsult as datetime), getdate()) 
    when t2.med_stat NOT IN ('Fit To Work',
                             'Deceased',
                             'Reached Maximum Medical Cure',
                             'Stop Treatment') 
          then datediff(day,cast(t1.DatePIConsult as datetime), getdate()) 
    else
      datediff(day,cast(t1.DatePIConsult as datetime),cast(t2.med_stateff as datetime))

  end as TreatmentDays 
from data2002.dbo.tblCrew as t1
left join eds.dbo.tblpms as t2 
on t1.CaseNo COLLATE DATABASE_DEFAULT = t2.CaseNo COLLATE DATABASE_DEFAULT 
```

# jquery - jquery在选项中获取结束号

> ID：15240366
> 
> 赞同：1
> 
> 时间：2013-03-06T06:21:14.210
> 
> 标签：jquery

我在我的页面中有这个 html 代码，我可以得到前 3 个和之间的数字`()`

**HTML：**

```
<option value="702(3)00"> 
```

**jQuery：**

```
max_exam=$('#at_exam_'+val+' option').filter(":selected").val().match(/\((\d+)\)/)[1];
exam_code=$('#at_exam_'+val+' option').filter(":selected").val().match(/^\d+/); 
```

如何获得`00`期权价值的结束？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:23:15.177

使用拆分方法：

```
var value = $('#at_exam_'+val+' option').filter(":selected").val(),
    parts = value.split(/\(|\)/); 
```

会给你`parts`一个数组：

```
["702", "3", "00"] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:26:31.727

有很多方法可以做到这一点。我喜欢 dfsq 的回答，但您也可以执行与上述作业相同的想法`exam_code`，只需使用行尾而不是行首匹配：

```
last_group=$('#at_exam_'+val+' option').filter(":selected").val().match(/\d+$/); 
```

# jquery - jQuery.animate 很难移动一个 div，从右到左

> ID：15240367
> 
> 赞同：1
> 
> 时间：2013-03-06T06:21:16.883
> 
> 标签：jquery, html, css, jquery-mobile

我试图在文档加载时将框从右向左移动 50px。我做了相当多的搜索，我很难过。

起初我认为这很容易做到，并且我打算将点击事件编码到其中以获得乐趣，但在这里我被卡住了。

这是HTML

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />

    <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
    Remove this if you use the .htaccess -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
    <link rel="stylesheet" href="css/gameCSS.css" />
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
    <meta name="apple-mobile-web-app-capable" content="yes" /> 

    <link rel="apple-touch-icon" href="media/apple-touch-icon.png"/>
    <link href="media/apple-touch-startup-image-iphone.png" media="(device-width: 320px)" rel="apple-touch-startup-image"/>
    <link href="media/apple-touch-startup-image-iphone-retina.png" media="(device-width: 320px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"/>

    <script src="js/jgame.js"></script>

    <title>HTML</title>
    <meta name="description" content="" />
    <meta name="author" content="CREEE" />

</head>

<body>
    <div id="home" data-role="page">

    <div id="box">

    </div>

    <div id="obs">

    </div>

    </div>

</body> 
```

这是我的 CSS

```
#box {

width: 40px;
height: 40px;

background-color: blue;

margin: 1px;
top:10px;
position:absolute;}

#obs {width: 15px;
height: 15px;
border: solid, 2px;
background-color: red;} 
```

这是我的 jQuery

```
$(document).ready(function() {   
$('#box').animate({left: "+=50px",'slow'}, 1000);
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:24:33.253

试试这个：

```
$('#box').animate({left: "+=50px"}, 1000); 
```

删除`'slow'`. [**在这里查看小提琴**](http://jsfiddle.net/w9YE2/)

*`I am trying to move the box from right to left, by 50px when the Document loads.`*
此评论不正确您的代码将移动`#box`到`left to right by 50px`

# jquery - 基于结果计数的 KendoUI Grid 动态服务器过滤/排序

> ID：15240378
> 
> 赞同：1
> 
> 时间：2013-03-06T06:22:18.157
> 
> 标签：jquery, kendo-ui, kendo-grid

当结果少于 X 时，有没有办法让 Kendo Grid 不使用服务器端过滤/排序？

即，如果从服务器返回的初始行数为 8，是否可以使后续过滤和排序请求在该本地数据集上运行，而不是再次查询服务器？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T08:47:40.053

可以在初始化后切换 serverSorting/serverFiltering，但您需要将所有 server* 设置设置为 true/false。

```
$("#grid").kendoGrid({
  dataBound: function() {
    this.dataSource.options.serverSorting = false;
    this.dataSource.options.serverPaging = false;
    this.dataSource.options.serverFiltering = false;
  }
}); 
```

这是一个现场演示：http: [//jsbin.com/aqaxoq/1/edit](http://jsbin.com/aqaxoq/1/edit)

# android - 接收清晰的数据

> ID：15240385
> 
> 赞同：0
> 
> 时间：2013-03-06T06:23:02.017
> 
> 标签：android, broadcastreceiver

如果用户`Clear Data`在全局应用程序屏幕上执行“”，是否可以接收事件？

我在我的应用程序中创建了一个帐户，并将该帐户的名称保存为首选项：

```
 AccountManager accountManager = AccountManager.get(this.context);

    Account account = new Account("my account name", "com.mchammer.cantouchthis");
    accountManager.addAccountExplicitly(account, "", null); 
```

现在，如果用户清除数据，系统上的帐户（用于同步）也必须删除......

感谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:08:25.643

你不能。您的应用程序在清除数据上获得了 FCed，因此您无法运行任何代码。

但。您可以使用[SharedPreferences](http://developer.android.com/reference/android/content/SharedPreferences.html)来存储布尔首选项，例如`isAccountInitialized`. 在您的逻辑完成创建帐户后，您将其设置为`true`并存储。`AccountManager`然后，每次您使用该帐户进行同步时（或每次启动主要活动，或您的服务启动时做一些事情 - 这您必须根据您的应用程序细节来确定）您`isAccountInitialized`从共享首选项和如果是`false`并且您的帐户存在`AccountManager`- 这就是您的用户已执行清除数据的标志，是时候从`AccountManager`. 如果是`false`并且没有帐户 - 那是第一次启动。

*// OFFTOP 不错的包名 :)*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:30:32.753

这是不可能的只要你按下清除数据。您的申请程序将停止。您可以查看[此](https://stackoverflow.com/questions/10700146/is-there-any-way-to-capture-the-clear-data-action-programmatically-in-applicatio)链接以获取答案。

# c# - NotifyPropertyChanged 通过代码

> ID：15240387
> 
> 赞同：0
> 
> 时间：2013-03-06T06:23:05.483
> 
> 标签：c#, wpf, inotifypropertychanged

我有一个包含其他两个对象的类。

第一个对象中的变量绑定到`WPF`元素，调用它`X`。

另一个对象中的类似变量。

我希望当 PropertyChanged 事件发生时，它将更改第二个对象中的变量。

这是对我不起作用的代码：

包含变量的类：（我已经注册到属性更改事件）

```
private Class1 _var1;
    public Class1 Var1
    {
        get { return _var1; }
        set
        {
            _var1= value;
            if (_var1!= null)
                _var1.PropertyChanged += new PropertyChangedEventHandler(_var1_PropertyChanged);
            else
                _var1.PropertyChanged -= new PropertyChangedEventHandler(_var1_PropertyChanged);
        }
    }

    void _var1_PropertyChanged(object sender, PropertyChangedEventArgs e)
    {
      if(e.PropertyName=="X")
        Var2.X= Var1.X;
    }

    private Class2 _var2;
    public Class2 Var2
    {
        get { return _var2; }
        set { _var2= value; }
    } 
```

第一类：

```
 private int _x;
    public int X
    {
        get { return _x; }
        set
        {
            if (_x!= value)
            {
                _x= value;
                NotifyPropertyChanged("X");
            }
        }
    } 
```

第 2 类：

```
public int X { get; set; } 
```

`PropertyChanged`在班级 1 工作，但他没有参加我在包含两个变量的班级中创建的事件，为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:38:26.987

我不确定我完全理解你的意思，但如果我有一个包含 2 个变量的类，我想一起更改，我会尝试以下操作：
首先，定义一些`SetAndNotify`方法，否则你会因`PropertyChanged`事件而头疼：

```
public void SetAndNotify<T>(ref T field, T value, Expression<Func<T>> exp)
{
    if (!Equals(field, value))
    {
        field = value;
        OnPropertyChanged(exp);
    }
} 
```

将其添加到将处理此事件的一些基类中。

其次，在您的设置器中为`Var1`您注册更改事件而不设置任何内容，这是故意的吗？

第三也是最后一点，在 setter 中更改多个属性没有问题，但请确保您更改的是公共属性：

```
private SomeType privateVar1;
public SomeType PublicVar1
{
    get { return privateVar1; }
    set
    {
        SetAndNotify(ref privateVar1, value, () => PublicVar1);
        MyOtherPublicVar = someNewValue; // this will activate the property's setter.       
    }
} 
```

我希望这有帮助。如果不是，请尝试澄清您的问题。

# android - 每次在 android 应用程序中发布推文时都会出现授权应用程序

> ID：15240390
> 
> 赞同：0
> 
> 时间：2013-03-06T06:23:13.280
> 
> 标签：android, twitter

在我的应用程序中，一些文本发布在 Twitter 上。每次在推特上发布“授权应用程序”时，用户每次在推特上发布文本时都必须授权应用程序。我希望用户必须第一次而不是每次都授权应用程序。我使用了来自 github 的 twitter 示例代码。请帮我解决问题。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:52:10.103

你最好使用[Twitter4j](http://twitter4j.org/en/code-examples.html)库，它列在官方网站上（虽然有非官方状态）

您很可能正在使用 twitter-android-sdk，它只能通过 WebView 进行身份验证，这是非常有限的。

使用 Twitter API 的最新方法是使用 oAuth，而 Twitter4j 可以做到这一点，查看上面的链接，它有示例。

**UPD**

此外，如果发布到 Twitter 不是您的应用程序的主要目的（例如，您希望用户能够分享某些内容，但他们 60% 的时间不会这样做），您最好使用 Intent 广播分享您的内容 - 这样如果用户安装了 Twitter 应用程序，他们根本不需要在您的应用程序中授权，[如果您的目标是 API14+ ，请](http://developer.android.com/training/sharing/shareaction.html)[点击此处](http://developer.android.com/training/sharing/send.html)和此处获取更多详细信息

# java - 通过 ProcessBuilder 执行的“C”二进制文件阻塞了执行流程

> ID：15240391
> 
> 赞同：1
> 
> 时间：2013-03-06T06:23:14.167
> 
> 标签：java, bufferedreader, processbuilder, bufferedwriter

我正在尝试通过Java执行二进制文件（用'C'编写），而二进制文件已成功执行。在按下“Enter”键之前，它不会将执行控制权返回给此代码（被阻止）。由于这个问题，'prcs.waitfor() == 0' 永远不会执行，用户不知道二进制执行是否成功。我试图在 OutputStream 上创建 BufferedWriter 以发送“Enter”击键（//r），但它不起作用。这里需要做什么，以便执行控制回到这段代码并执行'prcs.waitfor() ==0'。我需要继续执行另一个命令，该命令取决于第一个命令的成功执行。我坚持这个:(

```
 // Start ProcessBuilder, 'str' contains a command

    ProcessBuilder pbuilder = new ProcessBuilder(str);
    pbuilder.directory(new File("/root/workspace/Project1"));
    pbuilder.redirectErrorStream(true);
    Process prcs = pbuilder.start();
    AForm.execStatustext.append("\n=> Process is:" + prcs);

    // Read output
    StringBuilder out = new StringBuilder();
    BufferedReader bfrd = new BufferedReader(new InputStreamReader(process.getInputStream()));
    String current_line = null, previous_line = null;
    while ((current_line = bfrd.readLine()) != null) {
        if (!line.equals(previous_line)) {
            previous_line = current_line;
            out.append(current_line).append('\n');
            //System.out.println(line);
        }
    }
    //process.getInputStream().close();
    // Send 'Enter' keystroke through BufferedWriter to get control back
    BufferedWriter bfrout = new BufferedWriter(new OutputStreamWriter(prcs.getOutputStream()));
    bfrout.write("\\r");
    bfrout.newLine();
    bfrout.flush();
    bfrout.write("\\r");
    bfrout.newLine();
    bfrout.flush();
    //process.getOutputStream().close();*/

    if (prcs.waitFor() == 0)
        System.out.println("Commands executed successfully");
    System.exit(0); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:26:37.843

`\\r`不是插入符号返回，它`\`后面是`r`. 插入符号返回只是`\r`

此外，`bfrout.newLine();`应该涵盖平台相关的行分隔符。也许您根本不需要插入符号返回？

# dataset - tic tac toe 数据集的逻辑回归

> ID：15240396
> 
> 赞同：1
> 
> 时间：2013-03-06T06:23:23.850
> 
> 标签：dataset, machine-learning, regression

我想在 Java 中实现逻辑回归并将其应用于[井字游戏数据集](http://archive.ics.uci.edu/ml/datasets/Tic-Tac-Toe+Endgame)。

我将每个实例视为董事会的一个状态。所以每个实例有 9 个特征。例如`{x,o,o,x,o,b,x,x,o}`是代表此板的实例：

```
x o o
x o b
x x o 
```

所以我们有 9 个特征可以取其中一个`{x,o,b}`值。

我听说过在这些情况下使用的分布式表示之类的东西，根据它，我们对每个值都有以下表示：

```
x -> 1 0 0
b -> 0 1 0 
o -> 0 0 1 
```

但我不知道如何对其应用逻辑回归。有什么想法可以为逻辑回归算法表示这个数据集吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:01:04.320

要使用分布式表示，您将创建具有 27 个（二进制）特征的新实例。前 3 个特征表示`x, o, b`在第一个方格上为真，接下来的 3 个在第二个方格上为真，以此类推。对于每组 3 个，一个实例将只有一个`1`，其余的`0`。标签将是`x`玩家是否获胜，如数据集中所示。

然后你只需对 27 个特征的向量运行逻辑回归，每个实例一个向量，它会尝试匹配每个向量的标签。

# windows-phone-8 - 如何找到正在运行的进程详细信息？

> ID：15240398
> 
> 赞同：2
> 
> 时间：2013-03-06T06:23:27.307
> 
> 标签：windows-phone-8

我需要在 windows phone 8 上获取正在运行的进程。以及每个进程的详细信息。

1.  内存使用情况
2.  CPU使用率
3.  运行时间

如果我想通过用户操作杀死任何进程怎么办

以及总使用和空闲内存和 CPU 使用状态

帮助需要的问候

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T07:12:18.977

在 Windows Phone 上，应用程序是沙盒的。您可以获得自己的应用程序使用的内存量，但仅此而已。您无法获得有关其他应用程序的任何类型的信息。当然，这也意味着你不能杀死他们。

如果您想知道为什么市场上没有任何任务管理器应用程序，现在您知道了。

# xml - 如何使用 R 向 API 发送 XML 请求

> ID：15240408
> 
> 赞同：6
> 
> 时间：2013-03-06T06:23:56.727
> 
> 标签：xml, r, curl

我正在尝试从[这个政府网站](http://finder.healthcare.gov/services/version_2_0)的 API 自动下载一些数据。

该网站指示：

```
All requests for this version should be made to the following URL:
http://api.finder.healthcare.gov/v2.0/ 
```

我可以找到有关如何发送 xml 请求的大量信息，但没有一个示例是`R`特定的.. 并且有很多 R 代码显示如何使用`XML`、`httr`和`RCurl`包，但我找不到任何示例在 SO 或如何实际*发送*xml 请求的 r-help 邮件列表上。..还有更多用于解析响应的文档。

在[政府网站上](http://finder.healthcare.gov/services/version_2_0)，如果您点击`PlansForIndividualOrFamily Samples`示例，它会显示需要发送的xml请求（代码如下）。

```
url <- "http://api.finder.healthcare.gov/v2.0/"

xml.request <-
    "<?xml version='1.0' encoding='UTF-8'?>
    <PrivateOptionsAPIRequest>
        <PlansForIndividualOrFamilyRequest>
            <Enrollees>
                <Primary>
                    <DateOfBirth>1990-01-01</DateOfBirth>
                    <Gender>Male</Gender>
                    <TobaccoUser>Smoker</TobaccoUser>
                </Primary>
            </Enrollees>
            <Location>
                <ZipCode>69201</ZipCode>
                <County>
                    <CountyName>CHERRY</CountyName>
                    <StateCode>NE</StateCode>
                </County>
            </Location>
            <InsuranceEffectiveDate>2012-10-01</InsuranceEffectiveDate>
        <IsFilterAnalysisRequiredIndicator>false</IsFilterAnalysisRequiredIndicator>
        <PaginationInformation>
            <PageNumber>1</PageNumber>
            <PageSize>10</PageSize>
        </PaginationInformation>
        <SortOrder>
            <SortField>OOP LIMIT - INDIVIDUAL - IN NETWORK</SortField>
            <SortDirection>ASC</SortDirection>
        </SortOrder>
        <Filter/>
        </PlansForIndividualOrFamilyRequest>
    </PrivateOptionsAPIRequest>" 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-06T07:48:46.940

用`RCurl`你做这个；

```
myheader=c(Connection="close", 
            'Content-Type' = "application/xml",
             'Content-length' =nchar(xml.request))
data =  getURL(url = url,
                    postfields=xml.request,
                    httpheader=myheader,
                    verbose=TRUE) 
```

就是这样。然后您可以使用`xpathApply`XML 包来检索数据。例如获取家庭 ID：

```
library(XML)
xmltext  <- xmlTreeParse(data, asText = TRUE,useInternalNodes=T)
 unlist(xpathApply(xmltext,'//Plan/PlanID',xmlValue))  ## change the right xpath here

 "29678NE0780012" "29678NE0780011" "29678NE0140010"  
  "29678NE0780010" "29678NE0140019" "29678NE0140018" "29678NE0140017"
  "29678NE0140016" "29678NE0780005" "29678NE0780004" 
```

# c++ - 在写作之前寻找？

> ID：15240410
> 
> 赞同：0
> 
> 时间：2013-03-06T06:24:12.820
> 
> 标签：c++, fstream

我想用单个文件流读取和写入二进制文件。以下代码尝试读取文件的第一部分，并使用它来覆盖文件的第二部分。但我发现我必须使用“seekp(pos [,ios_base::begin]);” 在写作之前。此外，“seekp”实际上并没有改变我代码中的位置，但它是必要的！任何人都可以解释一下吗？它应该更好地根据 c++ 标准。非常感谢！

```
#include <iostream>
#include <fstream>
using namespace std;

int main(){
    fstream flib ("tmp.txt", ios::in | ios::out |ios::binary | ios::trunc);
    if(!flib){
        cerr << "file open failed!" << endl;
        return 1;
    }
    int tmp;

    for(int i = 0; i<2 ; i++){//write 2 numbers
        flib.write((char*)&i, sizeof(tmp));
    }
    flib.seekg(0);
    while(flib.read((char*)&tmp, sizeof(tmp))){//read file contents
        cout <<tmp<<endl; 
    }
    flib.clear();
    flib.seekg(0);
    flib.read((char*)&tmp, sizeof(tmp));
    flib.seekp(sizeof(tmp)); //work
    //flib.seekp(sizeof(tmp), ios_base::beg); //work
    //flib.seekp(0, ios_base::cur); //not work
    //flib.seekp(sizeof(tmp), ios_base::end); //not work
    //flib.seekp(-sizeof(tmp), ios_base::end); //not work
    flib.write((char*)&tmp, sizeof(tmp));
    flib.clear();
    flib.seekg(0);
    while(flib.read((char*)&tmp, sizeof(tmp))){//read file contents
        cout <<tmp<<endl; 
    }

    return 0;
 } 
```

评论：我发现如果我使用 flib.seekp(some_number, ios_base::cur); 使用非零 some_number，它可以工作。而且我使用vs2012 express编译器，这是一个错误吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T06:40:06.657

文件流使用 a`basic_filebuf<>`作为流缓冲区。C++03 标准有这样的说法`class basic_filebuf<charT,traits>`：

> 27.8.1.1 类模板 basic_filebuf
> 
> basic_filebuf 类将输入序列和输出序列都与文件相关联。
> 
> 对类 basic_filebuf 对象控制的序列的读写限制与使用标准 C 库`FILE`的读写限制相同。
> 
> 特别是： - 如果文件未打开以进行读取，则无法读取输入序列。- 如果文件未打开以进行写入，则无法写入输出序列。- 为输入序列和输出序列维护一个联合文件位置。

不幸的是，它并没有说明当使用标准 C 库在读取和写入`FILE`对象之间转换时，您必须执行文件定位调用（或`fflush()`从写入操作转换到读取操作时）。请参阅[https://stackoverflow.com/a/14879076/12711](https://stackoverflow.com/a/14879076/12711)。

# php - ajax 调用后无法在 div class="rateit" 只读模式下获取值

> ID：15240412
> 
> 赞同：2
> 
> 时间：2013-03-06T06:24:18.123
> 
> 标签：php, jquery, ajax, codeigniter, rating

我正在使用带有查看更多按钮的Jquery **RateIt插件。**所以在我的项目中，我使用这些插件显示餐厅评级，默认情况下我显示前 5 个评级。然后在 5 条记录之后，我通过 ajax 显示其他内容，所以在通过 ajax 评级的内容中没有显示我使用只读模式。 .如果有人可以帮助提前感谢

 `````
foreach($list_review as $row): ?>
 <div class="user_reviews_data">
       <div class="width-20 float-left">
           <span class="padleft-10"><?php echo $row->User; ?> </span>
              <br/>
             <span class="padleft-10">
    **<div class="rateit" data-rateit-value="<?php echo $row->Rating;?>" data-rateit-ispreset="true" data-rateit-readonly="true"></div>**
    </span>
          <div class="muted padleft-10 float-left"><small><?php echo date('dS M Y' ,strtotime($row->CreatedDate)); ?></small></div>
           </div>
                 <div class="width-80 float-left"><?php echo $row->Feedback;?></div>
                        <span class="report_span"><a href="<?php echo site_url('report_form/index/review/'.$rest_detail->Id.'/'.$row->Id);?>" class="pop-up" data-element_id="<?php echo $row->Id; ?>">Report this Feedback <img src="<?php echo base_url();?>themes/images/FLAG_GREY.png"></a></span>    
                  </div>
        <?php 
            $msg_id=$row->Id;
            endforeach;?>  
                        </div>

        <div id="more<?php echo $msg_id; ?>" class="btn-container center_text morebox">
                        <a href="javascript:;" class="more btn orange_signup" id="<?php echo $msg_id; ?>" data-restid="<?php echo $rest_detail->Id; ?>" title="view more">View More</a>
          </div> 
```` 

`现在的jquery代码`

 ``````
/*view More Button*/
    $('.more').live("click",function() 
    {
        var this_tag = $(this);
        var ID = $(this).attr("id");
        if(ID)
    {
        $.post(siteUrl+"ajax/ajax_more",{lastmsg:ID,restid:$(this_tag).data("restid")},function(html){
        $("ol#updates").append(html);
        $("#more"+ID).remove();// removing old more button
        });
    }
    else
    {
        $(".morebox").html('The End');// no results
    }
    return false;
    }); 
```` 

`我正在通过 ajax 添加内容查看更多按钮单击 ajax 代码与上面的代码相同 我正在使用这个插件[http://www.radioactivethinking.com/rateit/example/example.htm](http://www.radioactivethinking.com/rateit/example/example.htm)`

 `* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:35:33.240

在 $.post 成功处理程序中，您应该在附加 HTML 之后再次通过 JavaScript 调用 rateit，如下所示：

```
 $("ol#updates").append(html);
 $(".rateit").rateit(); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T08:36:22.227

您应该使用`var this_tag = this;`而不是使用`var this_tag = $(this);` 或尝试`var $(this_tag) = $(this);`

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T06:35:45.050

替换`$(this_tag)`为`this_tag`或者`$(this)`在您的 ajax 调用中。````

# php - 我是否应该避免在 id 属性中编码信息

> ID：15240416
> 
> 赞同：4
> 
> 时间：2013-03-06T06:24:42.297
> 
> 标签：php, javascript, jquery, html, ajax

最近我养成了在我的身份证中编码某些信息的习惯。比如查询数据库

```
select article_id, title from articles order by ... 
```

然后使用PHP对元素id中的信息进行编码

```
foreach($article as $id=>$title){
    echo '<span class="title" id="a_'.$id.'">'.$title.'</span><br />';
} 
```

我这样做是为了我可以使用 javascript/jQuery 来获取 ajax 调用的 id，比如获取预览或其他东西

```
$("span.title").click(function(){
    var idArr = $(this).attr('id').split('_');
    data = {};
    data.id = idArr[1];
    $.ajax({
        ...
    });
}); 
```

我从未见过有人提倡这种方法，所以我开始怀疑我是否正在为某种灾难做好准备。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:30:36.573

如果您使用的是 HTML5，则可以使用 data 属性。

例如

```
<span class="title" data-id="' . $id . '">'.$title.'</span> 
```

然后你可以像这样通过 jQuery 访问它：

```
$("span.title").click(function(){
    var id = $(this).data('id');
    $.ajax({
        ...
    });
}); 
```

# jquery - InsertAfter 在 IE7 中不起作用，但在 FF 中起作用

> ID：15240420
> 
> 赞同：0
> 
> 时间：2013-03-06T06:24:54.333
> 
> 标签：jquery, html

我正在使用`jquery 1.7.2.js`.

这是我在 div 之后插入的代码，

```
$("<div style="color: red">some text</div>").insertAfter('#main-Div'); 
```

这在我的 FF 中运行良好，但在 IE7 中却不行。

我可以知道这背后的原因是什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:32:41.107

你可以试试`.after()`

```
$('#main-Div').after("some text"); // puts the text outside after #main-div 
```

不知道你的座右铭是什么，你可以试试`.append()`：

```
$('#main-Div').append("some text"); // appends the text before any other elem 
                                   // in #main-div 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:27:19.330

检查这个[这个](http://docs.jquery.com/Manipulation/insertAfter)链接，元素必须已经插入到文档中。

您可能正在寻找

[附加](http://docs.jquery.com/Manipulation/append)或[附加到](http://docs.jquery.com/Manipulation/appendTo)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:36:06.313

insertAfter 仅在页面完全加载时才有效。

用这个：

```
$("#main-div").appened('#some text'); 
```

或者

```
$("some text").appendTo('#main-Div'); 
```

# ruby - 变量用 nil 初始化

> ID：15240426
> 
> 赞同：6
> 
> 时间：2013-03-06T06:25:22.173
> 
> 标签：ruby

```
p b #undefined local variable or method b for main:Object
a = nil
if a and (b=3)
  do_something_with b
end
p b # nil 
```

为什么 b`nil`在执行 if 块后获取值，而预期结果是 `undefined local variable or method b for main:Object`，Ruby 是否`nil`事先将所有变量初始化到内存中？

与以下代码相同的情况

```
if nil
  bb = 10
end
p bb # nil 
```

有人请说明 ruby​​ 如何初始化变量以及在这种情况下发生了什么，谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T06:42:52.170

“[局部变量]如果出现在赋值表达式的左侧（等号 (U＋003D) 之前），即使该表达式实际上没有执行，也会初始化。后一种类型的变量的值为 nil。 "

编辑：这个答案曾经指向一个相当好的 Ruby 参考，它显然已被恶意软件站点所取代。我删除了链接，但保留了答案的引用。

# compiler-construction - 将使用相同的源、编译器和库版本进行编译，生成完全相同的二进制文件

> ID：15240427
> 
> 赞同：3
> 
> 时间：2013-03-06T06:25:24.660
> 
> 标签：compiler-construction, build, build-process

我想知道如果我编译时是否得到完全相同的二进制结果：

1.  相同的源代码
2.  相同的编译器、版本、命令
3.  同一个图书馆

或者是否还有其他限制可能导致不同的二进制文件，例如：

*   编译源代码的时间
*   系统，内核版本
*   其他构建工具

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:12:06.600

无法保证仅通过修复代码、库和编译器就能获得相同的输出。正如您所确定的，运行编译器的环境可能会产生影响：

*   它不仅仅是一个编译器，而是一个需要保持静态的整个工具链（链接器、汇编器等）。
*   工具链是否使用可能随时间更新的动态库？
*   环境变量呢？
*   您是否以同一用户身份运行？享有同样的特权。

即使您可以找到并控制所有这些功能，编译也可能不是确定性的。[这是GCC 3.3 文档](http://gcc.gnu.org/onlinedocs/gcc-3.3.1/gcc/Optimize-Options.html)中的一个具体示例（请注意，最近版本中的措辞已更改）：

> -fno-guess-分支概率
> 
> 不要使用随机模型猜测分支概率。有时，当分析反馈 (-fprofile-arcs) 或 __builtin_expect 都没有可用时，gcc 会选择使用随机模型来猜测分支概率。这意味着编译器在同一程序上的不同运行可能会产生不同的目标代码。
> 
> 在硬实时系统中，人们不希望编译器的不同运行产生具有不同行为的代码；尽量减少非确定性至关重要。此开关允许用户减少不确定性，但可能会以较差的优化为代价。

# node.js - 如何使用 node.js 在 redis 数据库中保存许多 json 对象

> ID：15240428
> 
> 赞同：3
> 
> 时间：2013-03-06T06:25:27.980
> 
> 标签：node.js, redis, couchdb

在我的应用程序中，我使用 node.js 和 redis 数据库。如何在 redis 中保存许多 json 对象。

```
 db.save({
                description:'sdsd',userId:'324324',url:'http://www.abc.com/abc.html',appId:'123456'
          }, function (err, res) {
              if(err){
                  console.log(err);
                  return;
              }
              else{

                  console.log(res);
              }
          }); 
```

在沙发数据库中，我们可以使用上面的代码一次又一次地将 json 对象保存为文档。如何在 redis 中执行此操作。从他们的文档中我知道下面的代码保存 json 对象

```
 client.hmset("hosts", "mjr", "1", "another", "23", "home", "1234"); 
```

我再次想将另一个 json 对象保存在相同的“主机”中，如下所示

```
 client.hmset("hosts", "mjr", "2", "another", "33", "home", "1235"); 
```

我怎样才能做到这一点。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T07:02:03.147

Redis 存储模型与 CouchDB 不同。在 Redis 中，所有内容都通过其密钥访问，因此这完全取决于您计划如何检索数据。

因此，如果您希望能够通过 检索数据`userId`，请将其用作键。

```
redis.set('324324', {
  description:'sdsd',
  url:'http://www.abc.com/abc.html',
  appId:'123456'
  }); 
```

但是如果你需要使用多条数据来检索一条数据，那么redis可能就不适合了。

在某些情况下，您可能可以使用一些技巧，以便能够同时查询`userId`and `appId`，您可以将`324324:123456`其用作键，并使用查询

```
GET 324324:* 
```

为一位用户获取所有应用程序

或者

```
GET *:123456 
```

获取给定应用程序的所有用户。

# android - 使菜单键从底部状态栏不可见 | 使用-sdk android:minSdkVersion="7"

> ID：15240430
> 
> 赞同：0
> 
> 时间：2013-03-06T06:25:35.027
> 
> 标签：android, statusbar, android-menu

我处于必须`uses-sdk android:minSdkVersion="7"`在清单文件中使用的位置。我创建了自己的自定义操作栏，它实际上是一个`LinearLayout`. 我的立场是不能使用Android提供的动作栏，也不能扩展它。

现在我在我的操作栏中添加了自定义菜单键（使用创建`LinearLayout`）。

我希望菜单键从底部状态栏中不可见。

我试过`false`从返回`onCreateOptionsMenu()`，`onPrepareOptionsMenu()`但它只禁用菜单，但菜单仍显示在底部状态栏中。

请帮忙，

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:33:50.697

是否显示兼容性菜单按钮取决于目标 API。添加

```
android:targetSdkVersion="14" 
```

到你的清单，以防止它出现。你可以`minSdkVersion`离开`7`

另外，请仔细阅读[“告别菜单按钮”](http://android-developers.blogspot.ru/2012/01/say-goodbye-to-menu-button.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:16:24.810

尝试在清单文件中使用此代码：

使用-sdk android:minSdkVersion="7" android:targetSdkVersion="11"

它应该工作！

# cuda - __syncthreads() 是否同步网格中的所有线程？

> ID：15240432
> 
> 赞同：55
> 
> 时间：2013-03-06T06:25:42.730
> 
> 标签：cuda

...或者只是当前扭曲或块中的线程？

此外，当特定块中的线程遇到（在内核中）以下行

```
__shared__  float srdMem[128]; 
```

他们会只声明这个空间一次（每个块）吗？

它们显然都是异步操作的，所以如果块 22 中的线程 23 是第一个到达该行的线程，然后块 22 中的线程 69 是最后一个到达该行的线程，线程 69 会知道它已经被声明了吗？

* * *

## 回答 #1

> 赞同：74
> 
> 时间：2013-03-06T08:27:36.697

该`__syncthreads()`命令是**块级**同步屏障。这意味着当块中的所有线程都到达屏障时使用它是安全的。也可以`__syncthreads()`在条件代码中使用，但前提是所有线程都对此类代码进行相同的评估，否则执行可能会挂起或产生意外的副作用[[4]](http://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#synchronization-functions)。

使用示例`__syncthreads()`：（[来源](https://stackoverflow.com/a/8234681/2064818)）

```
__global__ void globFunction(int *arr, int N) 
{
    __shared__ int local_array[THREADS_PER_BLOCK];  //local block memory cache           
    int idx = blockIdx.x* blockDim.x+ threadIdx.x;

    //...calculate results
    local_array[threadIdx.x] = results;

    //synchronize the local threads writing to the local memory cache
    __syncthreads();

    // read the results of another thread in the current thread
    int val = local_array[(threadIdx.x + 1) % THREADS_PER_BLOCK];

    //write back the value to global memory
    arr[idx] = val;        
} 
```

要同步网格中的所有线程，当前**没有**本地 API 调用。在网格级别同步线程的一种方法是使用**连续的内核调用**，因为此时所有线程都结束并从同一点重新开始。它通常也称为 CPU 同步或隐式同步。因此它们都是同步的。

使用此技术的示例（[来源](http://www.nvidia.com/content/GTC/documents/SC09_Feng.pdf)）：

![CPU同步](../Images/0743f5f438be6feb611753e3d16b0792.png)

关于**第二个**问题。**是**的，它确实声明了每个块指定的共享内存量。考虑到可用共享内存的数量是按***SM***测量的。所以应该非常**小心****共享内存**是如何与**启动配置**一起使用的。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2016-12-31T15:20:45.647

我同意这里的所有答案，但我认为我们在第一个问题上遗漏了一个重要的观点。我没有回答第二个答案，因为它在上述答案中得到了完美的回答。

GPU 上的执行以经纱为单位进行。warp 是一组 32 个线程，并且在一次实例中，特定 warp 的每个线程都执行相同的指令。如果您在一个块中分配 128 个线程，则其 (128/32 = ) 4 个扭曲用于 GPU。

现在问题变成了“如果所有线程都在执行相同的指令，那么为什么需要同步？”。答案是我们需要同步属于***SAME***块的 warp。__syncthreads 不同步经线中的线程，它们已经同步。它同步属于同一块的经线。

这就是为什么对您的问题的回答是：__syncthreads 不会同步网格中的所有线程，而是同步属于一个块的线程，因为每个块都是独立执行的。

如果要同步网格，请将内核（K）分成两个内核（K1 和 K2）并同时调用。它们将被同步（K2 将在 K1 完成后执行）。

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2013-03-06T06:28:50.787

`__syncthreads()`等待直到同一块中的所有线程都到达命令并且warp中的所有线程 - 这意味着属于线程块的所有warp必须到达语句。

如果您在内核中声明共享内存，则该数组将仅对一个线程块可见。所以每个块都会有自己的共享内存块。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2020-04-05T17:35:44.247

现有的答案已经很好地回答了如何`__syncthreads()`工作（它允许**块内**同步），我只是想添加一个更新，现在有更新**的块间**同步方法。自 CUDA 9.0 以来，引入了“合作组”，它允许同步整个块网格（如[Cuda Programming Guide](https://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#grid-synchronization-cg)中所述）。这实现了与启动新内核相同的功能（如上所述），但通常可以以较低的开销实现这一点，并使您的代码更具可读性。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2021-01-08T21:41:42.647

为了提供更多细节，除了答案，引用[seibert](https://forums.developer.nvidia.com/t/syncthreads-thread-syncronization/12971/4)：

更一般地说，__syncthreads() 是一种屏障原语，旨在保护您免受块内的读写后内存竞争条件的影响。

使用规则非常简单：

1.  当线程可能读取另一个线程已写入的内存位置时，在写入之后和读取之前放置一个 __syncthreads()。

2.  __syncthreads() 只是块内的屏障，因此它不能保护您免受全局内存中的读写竞争条件的影响，除非唯一可能的冲突是同一块中的线程之间。__syncthreads() 几乎总是用于保护写入后读取的共享内存。

3.  不要在分支或循环中使用 __syncthreads() 调用，直到您确定每个线程都会到达相同的 __syncthreads() 调用。这有时可能需要您将 if 块分成几个部分，以将 __syncthread() 调用放在所有线程（包括那些 if 谓词失败的线程）将执行它们的顶层。

4.  在寻找循环中的 read-after-write 情况时，在确定将 __syncthread() 调用放在哪里时，它有助于在您的脑海中展开循环。例如，如果有来自不同线程的读取和写入到循环中相同的共享内存位置，您通常需要在循环结束时额外调用 __syncthreads()。

5.  __syncthreads() 没有标记关键部分，所以不要那样使用它。

6.  不要将 __syncthreads() 放在内核调用的末尾。没有必要。

7.  许多内核根本不需要 __syncthreads()，因为两个不同的线程从不访问同一个内存位置。

# javascript - Galleria 出现“初始化失败”错误

> ID：15240434
> 
> 赞同：0
> 
> 时间：2013-03-06T06:25:48.930
> 
> 标签：javascript, galleria

我在我的页面中使用以下代码

```
<link type="text/css" rel="stylesheet" href="galleria/themes/classic/galleria.classic.css">
<script src="galleria/galleria-1.2.9.min.js"></script>
<script src="galleria/plugins/history/galleria.history.min.js"></script>
<script type="galleria/themes/classic/galleria.classic.min.js"></script>

<div id="galleria">
  <img src="./test/1_1.jpg">
  <img src="./test/1_2.jpg">
  <img src="./test/1_3.jpg">
</div>
<script>
  Galleria.run('#galleria');
</script> 
```

我收到这个错误

```
Init failed: Galleria could not find the element "#galleria" 
```

我不明白问题出在哪里。请给我建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:27:42.410

您是否尝试过添加主题 - 我想它需要一个。在顶部声明的那些可能没有起到作用。

把它放在你的 Galleria.run 代码上面。

```
<script>
  Galleria.loadTheme('galleria/themes/classic/galleria.classic.min.js');
  Galleria.run('#galleria');
</script> 
```

# recursion - 计算重复的复杂度

> ID：15240439
> 
> 赞同：2
> 
> 时间：2013-03-06T06:26:00.523
> 
> 标签：recursion, complexity-theory

我无法理解重复的概念。鉴于你有你`T(n) = 2T(n/2) +1`如何计算这种关系的复杂性？我知道在合并排序中，关系是`T(n) = 2T(n/2) + cn`，你可以看到你有一个深度为 log2^n 和 cn 在每个级别工作的树。但是我不确定如何在给定通用功能的情况下继续进行。任何可用的教程可以清楚地解释这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:04:16.393

递归的解决方案是 T(n) ∈ Θ(n)。

让我们扩展公式：

*   T(n) = 2*T(n/2) + 1。（给定）
*   T(n/2) = 2*T(n/4) + 1。（将 n 替换为 n/2）
*   T(n/4) = 2*T(n/8) + 1。（将 n 替换为 n/4）
*   T(n) = 2*(2*T(n/4) + 1) + 1 = 4*T(n/4) + 2 + 1。（替代）
*   T(n) = 2*(2*(2*T(n/8) + 1) + 1) + 1 = 8*T(n/8) + 4 + 2 + 1。（替代）

并做一些观察和分析：

*   我们可以看到出现了一个模式：T(n) = 2 ^k * T(n/2 ^k ) + (2 ^k − 1)。
*   现在，让 k = log [2] n。那么 n = 2 ^k。
*   代入，我们得到：T(n) = n * T(n/n) + (n - 1) = n * T(1) + n - 1。
*   对于至少一个 n，我们需要给 T(n) 一个具体的值。所以我们假设 T(1) = 1。
*   因此，T(n) = n * 1 + n - 1 = 2*n - 1，在 Θ(n) 中。

资源：

*   [https://www.cs.duke.edu/courses/spring05/cps100/notes/slides07-4up.pdf](https://www.cs.duke.edu/courses/spring05/cps100/notes/slides07-4up.pdf)
*   [http://www.cs.duke.edu/~ola/ap/recurrence.html](http://www.cs.duke.edu/~ola/ap/recurrence.html)

但是，对于日常工作，解决这些递归的正常方法是使用[Master theorem](http://en.wikipedia.org/wiki/Master_theorem)。

# web-services - mule 使用了多少网络服务（几次）

> ID：15240440
> 
> 赞同：0
> 
> 时间：2013-03-06T06:26:02.073
> 
> 标签：web-services, logging, wsdl, mule

我有一个供人们使用的带有骡子的 Web 服务（带有 WSDL）。

我想获取有关使用我的网络服务的用户的一些信息。例如：API 调用的 ip 和时间戳。

另外，我想知道在 mule 中使用了多少网络服务？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T13:12:52.400

我不认为有这样的统计信息。但是，您可以向流（假设它是一个流）添加一个记录器处理器，标记诸如“调用了 Web 服务 XXX”之类的内容。由于记录器格式化程序，记录的消息还将包含时间戳。

对于调用该服务的 IP，Mule 将调用地址放在消息 Inbound 属性 remoteAddress 中。因此，您可以将此行添加到流程中：

```
<logger message="Incoming message. Caller Address: #[message.inboundProperties['remoteAddress']]"/> 
```

这将记录每次访问（可以通过分析工具用于统计目的）及其各自的调用地址。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T17:51:54.443

This sounds a good use case for either:

*   A [custom interceptor](http://www.mulesoft.org/documentation/display/current/Using+Interceptors), that takes care of storing usage statistics,
*   A [wire-tap](http://www.mulesoft.org/documentation/display/current/Routing+Message+Processors#RoutingMessageProcessors-WireTap) that sends to a flow in charge of storing usage statistics.

# ruby-on-rails - bundler,gems---根据要求从新版本更改

> ID：15240445
> 
> 赞同：2
> 
> 时间：2013-03-06T06:26:11.957
> 
> 标签：ruby-on-rails, rubygems, ruby-on-rails-3.2

我是 ruby​​ on rails 的新手。我面临的问题是我在 ruby​​ on rails(rails 3.2.11)(ruby 1.9.3) 上做了一个项目，我使用的 gem 有更高的版本。

现在我必须在我的网站的 beta 版本上提交该项目。

在 beta 版本中，gem 已安装，但它们的版本较低，当然我无法更新那里的 gem，因为其他项目依赖于它们，它们将停止工作。

请帮我 -

这是我的宝石文件

```
gem 'rails', '3.2.11'

gem 'will_paginate'
gem 'mysql2'
gem 'devise', '1.1.rc0'

gem 'json'
group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'

  gem 'uglifier', '>= 1.0.3'
end

gem 'jquery-rails' 
```

这是我的环境.rb

```
#### Load the rails application
require File.expand_path('../application', __FILE__)

#### Initialize the rails application
OfficeSpace::Application.initialize! 
```

请告诉我如何在测试版上提交这个项目。（告诉我必须在我的项目中进行哪些更改，因为我无法在测试版上进行任何更改）

这些是 beta 使用的 gems

```
abstract (1.0.0)

actionmailer (3.2.8, 3.0.4, 2.3.6)

actionpack (3.2.8, 3.0.9, 3.0.4, 2.3.6)

actionwebservice (1.2.6)

activemodel (3.2.8, 3.0.9, 3.0.4, 3.0.3)

activerecord (3.2.8, 3.0.4, 2.3.6, 2.3.2)

activerecord-import (0.2.9)

activeresource (3.2.8, 3.0.4, 2.3.6, 2.3.2)

activesupport (3.2.8, 3.0.4, 3.0.3, 2.3.6)

addressable (2.3.2, 2.2.6)

algorithms (0.3.0)

amazon-ec2 (0.9.17, 0.9.15)

ar-extensions (0.9.5, 0.9.2)

arel (3.0.2, 3.0.0, 2.0.10)

atk (1.1.6)

atom (0.3)

attr_required (0.0.5)

autoparse (0.3.2, 0.2.3)

aweber (1.5.0)

aws-s3 (0.6.2)

aws-ses (0.4.4, 0.4.2)

bayes_motel (0.1.0)

bitly (0.6.1)

blekko (0.0.3)

bluecloth (2.1.0)

builder (3.0.0, 2.1.2)

bundler (1.0.10)

cairo (1.12.3)

childprocess (0.3.6)

cobravsmongoose (0.0.2)

columnize (0.3.2)

configatron (2.10.0)

cookiejar (0.3.0)

crack (0.1.8)

createsend (2.5.0)

curb (0.7.18, 0.7.10)

daemon_controller (0.2.5)

daemons (1.1.9)

data_objects (0.10.7)

diff-lcs (1.1.3)

dm-core (1.2.0)

dm-do-adapter (1.2.0)

dm-sqlite-adapter (1.2.0)

do_sqlite3 (0.10.7)

domain_name (0.5.3)

em-http-request (1.0.3)

em-socksify (0.2.1)

em-twitter (0.1.4)

erubis (2.7.0, 2.6.6)

eventmachine (1.0.0.rc.4)

extlib (0.9.15)

facebooker2 (0.0.11, 0.0.10)

faraday (0.7.4)

faraday_middleware (0.8.8, 0.7.0)

fastercsv (1.5.5)

fastthread (1.0.7)

fb_graph (2.6.4, 2.4.1)

feedtools (0.2.29)

ffi (1.2.0)

file-tail (1.0.5)

gcm (0.0.2)

gcm_on_rails (0.1.3)

geocoder (1.1.6, 1.1.3)

geoip (1.1.2)

geokit (1.6.5)

gibbon (0.3.5)

glib2 (1.1.6)

google-api-client (0.4.6, 0.3.0)

google-search (1.0.2)

google_alerts (0.0.1)

google_plus (0.2.0)

googleajax (1.0.1)

googlebase (0.2.1)

googlereader (0.0.4)

grabz_it (0.0.4)

grabzit (1.1.0)

has_vimeo_video (0.0.5)

hashie (1.2.0, 1.1.0)

hashr (0.0.22)

highline (1.6.2)

hike (1.2.1)

hominid (3.0.2)

hpricot (0.8.3)

htmlentities (4.3.1)

httmultiparty (0.3.6)

http_parser.rb (0.5.3)

httpadapter (1.0.1)

httparty (0.8.3)

httpauth (0.2.0)

httpclient (2.2.4)

hubspot (0.0.2)

i18n (0.6.0, 0.5.0, 0.4.0)

imgkit (1.3.7)

instagram (0.8.5)

journey (1.0.4, 1.0.3)

json (1.5.1, 1.4.6)

jwt (0.1.5, 0.1.4)

koala (1.5.0)

launchy (2.1.2, 2.0.5)

libwebsocket (0.1.7.1)

libxml-ruby (1.1.4)

linecache (0.43)

linkedin (0.3.7)

locale (2.0.5)

mail (2.4.4, 2.4.0, 2.2.19)

mechanize (2.5.1)

memcache-client (1.8.5)

mime-types (1.18, 1.16)

mislav-will_paginate (2.3.11)

mogli (0.0.37)

multi_json (1.3.7, 1.0.0)

multi_xml (0.5.3, 0.2.2)

multipart-post (1.1.3)

mysql (2.8.1)

n_gram (0.0.1)

net-http-digest_auth (1.2.1)

net-http-persistent (2.7)

nokogiri (1.5.5, 1.4.4, 1.4.3.1)

nori (1.1.3)

ntlm-http (0.1.1)

oauth (0.4.5, 0.4.4, 0.4.3)

oauth2 (0.8.0, 0.5.2, 0.5.0)

omniauth (1.0.1)

omnicontacts (0.2.1)

pango (1.1.6)

passenger (3.0.2, 2.2.15)

payment (1.0.1)

pkg-config (1.1.4)

polyglot (0.3.3, 0.3.2, 0.3.1)

r_hapi (0.1.2)

rack (1.4.4, 1.4.1, 1.2.5, 1.2.3, 1.1.0)

rack-cache (1.2, 1.1)

rack-mount (0.6.14, 0.6.13)

rack-oauth2 (1.0.0, 0.14.2)

rack-openid (1.3.1)

rack-protection (1.3.2)

rack-ssl (1.3.2)

rack-test (0.6.1, 0.5.7)

rails (3.0.9, 3.0.4, 2.3.6)

railties (3.2.8, 3.0.9, 3.0.4)

rake (0.9.2.2, 0.9.2, 0.8.7)

rbx-require-relative (0.0.5)

rdoc (3.12, 3.9.1)

RedCloth (4.2.8)

rest-client (1.6.7)

rest-open-uri (1.0.0)

retryable (1.3.1)

rspec (2.11.0)

rspec-core (2.11.1)

rspec-expectations (2.11.1)

rspec-mocks (2.11.1)

ruby-debug (0.10.4)

ruby-debug-base (0.10.4)

ruby-hmac (0.4.0)

ruby-openid (2.2.2)

ruby-openid-apps-discovery (1.2.0)

rubygems-update (1.5.0)

rubyzip (0.9.9)

sanitize (2.0.3)

selenium-webdriver (2.27.1)

signet (0.4.1)

simple-rss (1.2.3)

simple_oauth (0.1.9, 0.1.5)

simple_youtube (3.0.0)

sinatra (1.3.3)

spell_checker (0.0.2)

sprockets (2.1.3, 2.1.2)

spruz (0.2.5)

sqlite3 (1.3.6, 1.3.4)

stemmer (1.0.1)

supermodel (0.1.6)

syntax (1.0.0)

thor (0.16.0, 0.14.6)

tilt (1.3.3)

tmail (1.2.7.1)

treetop (1.4.10, 1.4.9)

trollop (2.0)

truncate_html (0.5.5)

tweetstream (2.1.0)

twitter (1.6.2)

twitter_oauth (0.4.3)

tzinfo (0.3.33, 0.3.29, 0.3.24)

unf (0.0.5)

unf_ext (0.0.5)

uuidtools (2.1.3)

vapir-common (1.10.1)

vapir-firefox (1.10.1)

vimeo (1.5.3)

webrobots (0.0.13)

websocket (1.0.4)

whatlanguage (1.0.0)

will_paginate (2.3.11)

xml-simple (1.1.1, 1.0.14, 1.0.12)

yajl-ruby (1.1.0)

yamler (0.1.0)

yard (0.8.3)

youtube_it (2.1.7)

youtube_search (0.1.6) 
```

这些是我的项目正在使用的宝石

捆绑包中包含的宝石：

```
 * actionmailer (3.2.11)

  * actionpack (3.2.11)

  * activemodel (3.2.11)

  * activerecord (3.2.11)

  * activeresource (3.2.11)

  * activesupport (3.2.11)

  * arel (3.0.2)

  * builder (3.0.4)

  * bundler (1.2.3)

  * coffee-rails (3.2.2)

  * coffee-script (2.2.0)

  * coffee-script-source (1.4.0)

  * devise (1.1.rc0)

  * erubis (2.7.0)

  * execjs (1.4.0)

  * hike (1.2.1)

  * i18n (0.6.1)

  * journey (1.0.4)

  * jquery-rails (2.2.1)

  * json (1.7.7)

  * mail (2.4.4)

  * mime-types (1.21)

  * multi_json (1.6.0)

  * mysql2 (0.3.11)

  * polyglot (0.3.3)

  * rack (1.4.5)

  * rack-cache (1.2)

  * rack-ssl (1.3.3)

  * rack-test (0.6.2)

  * rails (3.2.11)

  * railties (3.2.11)

  * rake (10.0.3)

  * rdoc (3.12.1)

  * sass (3.2.5)

  * sass-rails (3.2.6)

  * sprockets (2.2.2)

  * thor (0.17.0)

  * tilt (1.3.3)

  * treetop (1.4.12)

  * tzinfo (0.3.35)

  * uglifier (1.3.0)

  * warden (0.10.7)

  * will_paginate (3.0.4) 
```

所以你看到有不兼容。如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:30:03.693

听起来你需要使用 rvm。它允许您将多个`gemsets`分配给一个项目，使您能够选择每个项目使用的 gems 版本。签出：[https ://rvm.io](https://rvm.io)

# java - Thread.sleep() 阻塞主 UI 线程

> ID：15240446
> 
> 赞同：1
> 
> 时间：2013-03-06T06:26:15.477
> 
> 标签：java, android, multithreading, interrupted-exception

我有这个线程：

```
private class MyThread extends Thread{
    public void run(){
        try {
            sleep(10000);
            Utils.stopTimer();
        } catch (InterruptedException e) {
            Log.d(TAG, "interrupted");
        }
    }
} 
```

然后我开始了线程。但是线程阻塞了主 UI 线程，导致它不响应用户交互。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T06:27:38.757

呼叫[`myThread.start()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#start())而不是`myThread.run()`。

执行后者*不会*导致代码在不同的线程中执行，而只是调用*当前*`run`（例如 UI）线程上的方法- 就像任何其他正常的方法调用一样。

 ** * *

链接文档的摘录：

> `start`使该线程开始执行；Java 虚拟机调用`run`方法 [在启动的线程中] ..

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T06:31:49.457

您需要调用 thread.start() 来启动一个线程，当您调用该 run() 方法时将自动执行。

```
 Calling this thread will also blocks the UI thread, you need to call it Async Task or in runonuithread. 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T06:36:20.860

最好使用`AsyncTask`或`Activity.RunOnUIThread`执行这种类型的代码。*

# java - 给定两个比较器的排序数组？

> ID：15240447
> 
> 赞同：8
> 
> 时间：2013-03-06T06:26:22.447
> 
> 标签：java, comparison

假设我有两个比较器，一个主要的和一个次要的。如何先按主要比较器对数组进行排序，然后按次要比较器？

假设每个对象都有一个名称和一个数字字段。

喜欢

```
Bob 1
Bob 2
Jack 1
Jack 2 
```

是否可以不创建新的比较器？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-06T06:49:20.740

是的，您可以在不创建新比较器的情况下完成排序。

按主要字段、次要字段、第三字段等排序有一个[众所周知的技巧：首先按最不重要的字段（第三字段）排序，然后是下一个重要字段（次要字段），最后是最重要的字段（主要字段）。](http://en.wikipedia.org/wiki/Sorting_algorithm#Stability)但是排序算法需要*稳定*才能工作。

如果要对数组进行排序，请使用[`Arrays.sort()`](http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort%28T%5B%5D,%20java.util.Comparator%29). 如果要对 a 进行排序`List`，请使用[`Collections.sort()`](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29). 这两种方法都保证是稳定的。

假设您的主要比较器对象存储在变量`primaryComp`中，而您的次要对象存储在`secondaryComp`. 然后这里是一些代码来完成你想要的：

```
Arrays.sort(mylist, secondaryComp);  // This must come first!
Arrays.sort(mylist, primaryComp); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-06T06:43:52.683

假设你的班级是

```
class X {
    String name;
    int num;
} 
```

然后排序将是

```
Arrays.sort(x, new Comparator<X>() {
        @Override
        public int compare(X o1, X o2) {
            if (o1.name.equals(o2.name)) {
                return Integer.compare(o1.num, o2.num);
            }
            return o1.name.compareTo(o2.name);
        }}); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T06:41:20.290

先比较第二个比较器，再比较第一个比较器。我相信这应该可以解决问题。您可以创建一个类来执行此操作。

```
class FullName {
    public String firstName;
    public String secondName;
} 
```

假设您创建了一个名为 的新名称，`BobBobbins`分配值，然后简单地先比较第二个名称，然后再比较第一个名称。您可以使用静态函数进行比较：

```
public static bool compareTo ( FullName name1, FullName name2 ) {
    // Algorithm here
} 
```

如果您使用静态比较器，则必须这样做：`FullName.compareTo( BobBobbins, CharlieChaplin );`

# c++ - 对象向量的 C++ 内存管理

> ID：15240449
> 
> 赞同：0
> 
> 时间：2013-03-06T06:26:25.247
> 
> 标签：c++, memory-management, vector

我有一些关于内存管理如何用于 Vectors 的问题/示例。

```
 vector<int> vec1(10);
    vector<int> vec2(10);        
    vec1 = vec2; 
```

在这种情况下，vec1 的旧内存现在无法访问。这里仍然是内存泄漏还是 vec2 的旧内存会意识到没有任何引用它并被清理？

在另一个例子中

```
struct foo
{
   vector<int> foo_vec(50);
   int* arr; 
}

void myFunction()
{
   vector<foo> vec(10);
   vec[0].arr = new int[50];
   vec.erase(vec.begin());
} 
```

由于我`erase()`在第一个包含 arr 的向量元素上使用了分配的内存，是`erase()`释放该内存还是需要在擦除之前手动释放它？此外，当`vec`超出范围时，是否会自动清理所有`foo_vec`向量？`vec`谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:32:50.447

> 擦除（）是否释放该内存或者我需要在擦除之前手动释放它？

规则：**始终`delete`为每个`new`.** `vector`不是没有魔法 - 它不知道你是如何获得那个指针的，所以它不会删除它，你需要这样做。

> 此外，当 vec 超出范围时，是否会自动清理 vec 中的所有 foo_vec 向量？

是的，它们的析构函数被调用并且它们被释放。但是，如果析构函数没有，您将泄漏内存`delete[] arr;`。

* * *

顺便说一句，一个很好的建议：你的代码违反了封装。您应该分别在析构函数和构造函数（和）中分配（ `new`）和释放（`delete[]`）指向的内存。`foo::arr``foo::foo()``foo::~foo()`

最后，强制性问题：为什么`foo::arr`不是 a`vector<int>`本身？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T07:15:40.463

如果是

```
vector<int> vec1(10);
vector<int> vec2(10);        
vec1 = vec2; 
```

vec1 之前的内容被删除，因为`int`它只是一个 POD。如果`vector`由指向对象而不是 int 的指针组成并且这些被分配，`new`则必须在分配之前删除这些指针指向的内容，否则最终会出现内存泄漏，如第二个示例所示：

```
vector<foo> vec(10);
vec[0].arr = new int[50];
vec.erase(vec.begin());    // this will *not* call delete on vec[0].arr 
```

通常，为了让自己更简单，您所做的就是使用智能指针，如唯一指针（或例如 boost::shared_array/scoped_array）。当向量超出范围或删除向量时，将自动调用删除（或删除 []）。

```
struct foo
{
   std::vector<int> foo_vec(50);
   std::unique_ptr<int[]> arr; 
}
...
vec[0].arr.reset(new int[50]);
vec[0].arr[12] = 42;
...
vec.erase(vec.begin());    // this will call delete[] on vec[0].arr 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T06:30:38.120

1.  当然会被清理干净。
2.  不，如果`destructor`of`foo`不这样做（或者如果您在擦除之前不手动执行）。

# javascript - 空数组为假，但在 IF 语句中返回真

> ID：15240452
> 
> 赞同：13
> 
> 时间：2013-03-06T06:26:34.470
> 
> 标签：javascript, arrays

这返回真：

```
[] == false 
```

但在这里，警报被称为：

```
if([]){ alert('empty array is true here'); } 
```

你能解释一下为什么吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-06T06:42:30.837

根据[ECMAScript® Language Specification](http://www.ecma-international.org/ecma-262/5.1/)的[第 11.9.3 节](http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.3)，任何比较都按如下方式进行：`==`

1.  如果 Type(x) 与 Type(y) 相同，则
    1.  如果 Type(x) 未定义，则返回 true。
    2.  如果 Type(x) 为 Null，则返回 true。
    3.  如果 Type(x) 是 Number，那么
        1.  如果 x 是 NaN，则返回 false。
        2.  如果 y 是 NaN，则返回 false。
        3.  如果 x 与 y 的数值相同，则返回 true。
        4.  如果 x 为 +0 且 y 为 -0，则返回 true。
        5.  如果 x 为 -0 且 y 为 +0，则返回 true。
        6.  返回假。
    4.  如果 Type(x) 是 String，则如果 x 和 y 是完全相同的字符序列（相同长度和对应位置的相同字符），则返回 true。否则，返回假。
    5.  如果 Type(x) 是布尔值，如果 x 和 y 都为真或都为假，则返回真。否则，返回假。
    6.  如果 x 和 y 引用同一个对象，则返回 true。否则，返回假。
2.  如果 x 为 null 且 y 未定义，则返回 true。
3.  如果 x 未定义且 y 为空，则返回 true。
4.  如果 Type(x) 是 Number 并且 Type(y) 是 String，则返回比较结果 x == ToNumber(y)。
5.  如果 Type(x) 是 String 并且 Type(y) 是 Number，则返回比较结果 ToNumber(x) == y。
6.  如果 Type(x) 是 Boolean，则返回比较 ToNumber(x) == y 的结果。
7.  **如果 Type(y) 是 Boolean，则返回比较结果 x == ToNumber(y)。**
8.  如果 Type(x) 是 String 或 Number 且 Type(y) 是 Object，则返回比较结果 x == ToPrimitive(y)。
9.  **如果 Type(x) 是 Object 并且 Type(y) 是 String 或 Number，则返回 ToPrimitive(x) == y 的比较结果。**
10.  返回假。

在第一步中，[`ToNumber()`](http://www.ecma-international.org/ecma-262/5.1/#sec-9.3)应用于`false`并产生`Number(0)`。在第二步中，规则#9 适用[`ToPrimitive()`](http://www.ecma-international.org/ecma-262/5.1/#sec-9.1)于空数组并产生`""`，转换为数值，也变成`Number(0)`了。

另外，[第 9.2 节](http://www.ecma-international.org/ecma-262/5.1/#sec-9.2)说明了在表达式中使用对象：

> 根据下表，抽象操作`ToBoolean`将其参数转换为布尔类型的值：

*   未定义 -> 假
*   空 -> 假
*   Boolean -> 结果等于输入参数（无转换）。
*   Number -> 如果参数为 +0、-0 或 NaN，则结果为 false；否则结果为真。
*   String -> 如果参数是空字符串（其长度为零），则结果为假；否则结果为真。
*   **对象->真**

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-03-06T06:34:56.747

这是因为`==`在 JS 中强制转换，如果一种类型可以转换为另一种类型，则返回值是`true`，这里因为`[]`不能更改或与 bool 比较，所以它是 false

，其中`if([])`检查`null`和`undefined`值，因为 [] 既不是 null 也不是 undefined 它是返回真

检查这个 [在JavaScript比较中应该使用哪个等于运算符（== vs ===）？](https://stackoverflow.com/questions/359494/javascript-vs-does-it-matter-which-equal-operator-i-use)

# neo4j - Neo4j 确定邻居

> ID：15240455
> 
> 赞同：3
> 
> 时间：2013-03-06T06:26:49.497
> 
> 标签：neo4j, traversal

我对 Neo4J 概念非常陌生。我想知道，如果有任何方法，在以 graphdb 格式部署特定节点后，如何列出连接到特定节点的所有可能节点。简而言之，我已经**能够导入一个制表符分隔的 .csv** 现在我想知道是否可以列出任何特定节点的所有邻居，其 id 可以作为参数传递。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T07:37:26.453

您可以通过多种方式执行此操作。其中之一是使用如下 Cypher 语句：

```
START n=node({nodeId}) MATCH n-[*1..1]-m RETURN m; 
```

如果您使用的是 Java，则可以按如下方式使用遍历 API：

```
for (final Path position : Traversal.description()
    .evaluator(Evaluators.fromDepth(1))                     
    .evaluator(Evaluators.toDepth(1))
    .evaluator(Evaluators.excludeStartPosition()).traverse(yourStartNode)) {
        System.out.println(position.endNode());
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:50:03.030

我会添加到 tstorms 回答一个集合，所以你会在一行中获得所有节点+邻居集合：

```
START n=node({nodeId}) MATCH n--m RETURN n,collect(m); 
```

或对于所有节点及其邻居：

```
 START n=node(*) MATCH n--m RETURN n,collect(m) order by Id(n); 
```

# arrays - 查找 char 数组中元素的数量

> ID：15240462
> 
> 赞同：1
> 
> 时间：2013-03-06T06:27:04.427
> 
> 标签：arrays, char, size

所以我试图编写一个将二进制转换为十进制的程序，我的一切都是正确的，但我没有得到正确的答案，因为我不知道如何获取输入到数组中的元素数量这是我的代码

```
#include <stdio.h>

int a=0;

 int main ()
 {
  char  bin[20];
  int i=0, len, r=0, w;

  printf("Enter a Binary Number:  ");
  scanf("%s",bin);
  printf("\n");

 len = sizeof(bin); /*i know this is my problem how do i get len to be the size 
of the input of the user for example if the user puts 1010 len should be 4*/

  for(i = 0; i < len; i++)
     {
          r = r * 2 + (bin[i] == '1' ? 1 : 0);
       }

   printf("Decimal is: %d\n\n",r);

return 0;
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:34:34.163

在标题字符串中使用 strlen 函数。

IE

```
#include<string> 
```

使用 strlen 函数代替 sizeof(bin)

```
len = strlen(bin); 
```

# graph - stats_counts 指标的 StatsD 和 Graphite 问题

> ID：15240464
> 
> 赞同：4
> 
> 时间：2013-03-06T06:27:31.003
> 
> 标签：graph, metrics, graphite, statsd

我对whisser 保存的**stats_counts指标有疑问。**

在我的应用程序中，我同时触发了两种指标：计数器增量 + 时间。当我比较特定的指标图时：stats_counts + 计时器的“计数”我在大约 4 小时内得到相同的结果，但在查看更大的时间段时 - 比如 12 小时，我可以看到很大的差异。

我找到了这篇文章：[Tracking metrics using StatsD (via etsy) and Graphite，graphite graph doesn't seem to be graphing all the data](https://stackoverflow.com/questions/7099197/tracking-metrics-using-statsd-via-etsy-and-graphite-graphite-graph-doesnt-se) 但它对我没有帮助。

在我看来这是一个配置问题，但我不明白是什么问题。

这是我的配置文件的外观：

**存储架构.conf：**

```
[stats]
priority = 110
pattern = ^stats\..*
retentions = 10s:6h,1m:7d,10m:1y

[stats_counts]
priority = 110
pattern = ^stats_counts\..*
retentions = 10s:6h,1m:7d,10m:1y 
```

**存储聚合.conf：**

```
[min]
pattern = \.min$
xFilesFactor = 0.1
aggregationMethod = min

[max]
pattern = \.max$
xFilesFactor = 0.1
aggregationMethod = max

[sum]
pattern = \.count$
xFilesFactor = 0
aggregationMethod = sum

[stats_counts]
pattern = ^stats_counts\.
xFilesFactor = 0
aggregationMethod = sum

[default_average]
pattern = .*
xFilesFactor = 0.3
aggregationMethod = average 
```

如您所见，我有用于聚合的“stats_counts”规则，但似乎效果不佳，知道我错过了什么吗？也许我在那里写的正则表达式的语法不好：^stats_counts。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T17:37:27.313

问题是，当我在 carbon-cache 进程上调用“停止”时，为了使用较新的配置来引用它的内存，它并没有真正停止，因此配置是旧的。

因此，上述配置没有任何问题。只需确保您的配置实际上已被 carbon-process 吸收 - 使用 Whisper-info.py 命令：

耳语信息.py your_metric_file_name.wsp

请注意，碳缓存停止似乎存在问题： [https ://answers.launchpad.net/graphite/+question/135957](https://answers.launchpad.net/graphite/+question/135957)

# javascript - 如何在 Javascript 中读取二维 JSON 数组？

> ID：15240465
> 
> 赞同：0
> 
> 时间：2013-03-06T06:27:31.120
> 
> 标签：javascript, jquery, json

以下是 JSON 数组的示例：

`{"names":["mrx-prj","mry-prj"],"id":["4-prj","3-prj"]}`

如何分别读取名称和 id 中的值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:31:04.070

它不是一个二维数组，它是一个 json 对象，有两个值`obj.names`，`obj.id`每个值都是一个数组值。

names 数组可以使用`obj.names`where`names`是 json 对象中数组的键来访问，同样的方式 id 数组可以通过`obj.id`.

```
var obj = {"names":["mrx-prj","mry-prj"],"id":["4-prj","3-prj"]}
var names = obj.names;
var ids = obj.id
for(var i = 0; i< names.length; i++){
    console.log(names[i]);
    //do what ever you want to do with names[i];
}
for(var i = 0; i< ids .length; i++){
    console.log(ids [i]);
    //do what ever you want to do with ids [i];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:33:09.953

说你的对象是数据..你可以做

```
 for(var i = 0; i< data.names.length; i++){  //loop to get names
   alert(data.names[i]);
 }

for(var i = 0; i< data.id.length; i++){ //loop to get ids
   alert(data.id[i]);
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:55:50.233

如果你的 jason 从 PHP 文件返回，你可以试试这个：

```
$.getJSON('your-json-string-file.php', function (data) {

  $.each(data, function(key, val) {
    alert(key +'=>'+ val)
  });

}); 
```

或者你可以试试这个：

```
$.getJSON('your-json-string-file.php', function (data) {

    $.each(data, function(key1, val1) {
        $.each(val1, function(key2, val2) {
            alert(key2 +'=>'+ val2)
        });
    });

}); 
```

希望对你有帮助

# email - SPF 包括：和 a: 之间有什么区别？

> ID：15240470
> 
> 赞同：13
> 
> 时间：2013-03-06T06:27:58.453
> 
> 标签：email, spam-prevention, spf

我已经阅读了文档，但对我来说区别仍然不是很清楚。

我的理解是：1）包括：将允许为指定域列出的 IP，以及该域自己的 SPF 记录中列出的任何其他域

2) a: 只允许为指定域列出的 IP

那是对的吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2016-05-11T20:12:58.970

另一个尝试为其他任何人尝试将其组合在一起的答案，并基于 OP 可能引用的语法文档，[open-spf.org“SPF 记录语法”页面](http://www.open-spf.org/SPF_Record_Syntax/)。

> 注意：以前此文档位于`http://www.open-spf.org/SPF_Record_Syntax/`，但该域似乎在 2009 年永久下线。有关历史记录和丢失域的更多详细信息，请参见[此处](https://www.getmailbird.com/what-spf-resources-are-available-now-that-openspf-org-is-gone/)。

我的回答是，是的，你似乎有这个想法。

*   a：在域的 A 记录中测试 IP 是否匹配。

*   包括：获取域的整个 SPF 记录，根据它评估 IP，如果找到 PASS，则 PASS 成为整个 SPF 测试的结果。如果没有找到 PASS，那么它不是失败，但是您的原始/顶级 SPF 测试会继续（可能到 -all/~all/?all 阶段）。

使用“a”的原因：

*   因为它更容易预测和直接。
*   因为您尚未在相关域上设置 SPF。
*   因为您不控制这些域并且 SPF 不是您想要的（特别是如果它过于宽松地接受不在其 A 记录中的其他服务器）

使用“包括”的原因：

*   因为您已经信任域的 SPF。
*   因为域的 SPF 很复杂，并且出于不要重复自己的原因，您希望拥有单一的事实来源。

很高兴得到纠正！

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-12-13T10:39:19.647

1) 包括：*other-domain.com仅包含来自**other-domain.com*的 SPF 记录。*如果other-domain.com*的SPF 条目允许某些 ip（例如具有 ip4: 或 a: 条目），那么这些 ip 也将被允许。

2) 真的

# php - CodeIgniter 锚链接中的确认框以删除记录

> ID：15240472
> 
> 赞同：7
> 
> 时间：2013-03-06T06:27:59.600
> 
> 标签：php, javascript, codeigniter

我正在使用以下代码从数据库中删除记录。但我面临一个问题：当我在确认框中单击“取消”时，它会删除记录。如果我单击`cancel`它返回 false 但它如何删除记录？

做错了什么？

Javascript代码：

```
function ConfirmDialog() {
  var x=confirm("Are you sure to delete record?")
  if (x) {
    return true;
  } else {
    return false;
  }
} 
```

视图中的 PHP 代码：

```
<?php
  echo anchor('user/deleteuser/'.$row->id, 'Delete', array('class'=>'delete', 'onclick'=>"return ConfirmDialog();"));
?> 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-10-21T11:28:29.623

一切尽在一条线上

```
<?=anchor("user/deleteuser/".$row->id,"Delete",array('onclick' => "return confirm('Do you want delete this record')"))?> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-06T07:06:16.513

尝试这个：

```
<a href="javascript:void(0);" onclick="delete(<?php echo $row->id;?>);">Delete</a> 
```

并在您的脚本中使用它：

```
<script type="text/javascript">
    var url="<?php echo base_url();?>";
    function delete(id){
       var r=confirm("Do you want to delete this?")
        if (r==true)
          window.location = url+"user/deleteuser/"+id;
        else
          return false;
        } 
</script> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-06T06:34:43.870

您是否在控制台中收到任何 Javascript 错误？我怀疑其他一些 Javascript 可能会干扰。这个简单的测试页面可以正常工作：

```
<?php echo anchor('user/deleteuser/'.$row->id, 'Delete', array('class'=>'delete', 'onclick'=>"return confirmDialog();")); ?>

<script>
function confirmDialog() {
    return confirm("Are you sure you want to delete this record?")
}
</script> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-06-12T01:04:09.847

在您的**视图**中：

```
<?= anchor("admin/delete_article/{$article->id}", 'Test', ['name'=>'submit', 'value'=>'Delete', 'class'=>'btn btn-danger', 'onclick'=>'return confirm()']);
?> 
```

**或者**

```
<?=
form_open('admin/delete_article'),
form_hidden('article_id', $article->id),
form_submit(['name'=>'submit', 'value'=>'Delete', 'class'=>'btn btn-danger', 'onclick'=>'return confirm()']),
form_close();
?> 
```

视图中的 JavaScript：

```
<script>
function confirm(){
  job=confirm("Are you sure to delete permanently?");
if(job!=true){
  return false;
  }
}
</script> 
```

[在这里](https://stackoverflow.com/a/16891996/5737774)查看 webGautam 答案

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T06:32:57.603

我在我的代码中使用了这个

```
<a href='<?php site_url('controler/function/$id');?>' onClick='javascript:return confirm(\"Are you sure to Delete?\")'>Delete</a> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-03-12T09:14:01.497

尝试这个

```
<a href="javascript:;" onclick="return isconfirm('<?php echo site_url('user/deleteuser/'.$row->id); ?>');">Delete</a> 
```

然后你的功能将是：

```
function isconfirm(url_val){
    alert(url_val);
    if(confirm('Are you sure you wanna delete this ?') == false)
    {
        return false;
    }
    else
    {
        location.href=url_val;
    } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-08-11T06:28:07.453

最后，如果你想要javascript确认：所以当用户点击时，它会要求确认，然后如果用户点击ok就去删除。您在该行已被删除时要求确认。

**在查看页面中：-**

```
<td><a href="<?php echo base_url().'user/deleteuser/'.$user['user_id'];?>" class="btn btn-danger" onclick="return confirm('Are you sure want to Delete this User?')">DELETE</a></td> 
```

**控制器代码：-**

```
<?php
defined('BASEPATH') OR exit('No direct script access allowed');

class user extends CI_Controller {

public function deleteuser($userid)
    {
      $this->db->delete('user', array('user_id'=>$userid)); 
      $this->session->set_flashdata('success','User deleted Successfully!!!');
            redirect(base_url().'admin/user');
    }
}
?> 
```

**然后在视图上显示成功消息：-**

```
<div class="row col-md-12">
<?php 
   if($this->session->flashdata('success')){
 ?>
   <div class="alert alert-success "  style="display:none;"> 
     <?php  echo $this->session->flashdata('success'); ?>
<?php    
} else if($this->session->flashdata('error')){
?>
 <div class = "alert alert-danger"  style="display:none;">
   <?php echo $this->session->flashdata('error'); ?>
 </div>
<?php } ?>

</div></div> 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-10-14T15:41:37.710

```
 <?= 
      form_open('admin/delete_noti'),
      form_hidden('noti_id',$notification->id),
     form_submit('submit','Delete',array('onclick' => "return confirm('Do you want delete this record')",'class'=>'btn btn-danger float-center')),
      form_close();
    ?> 
```

这是删除代码。首先，我们打开表单 admin 是我们的控制器名称，而 delete_noti 是管理控制器内部的函数。我们将 id 作为隐藏形式发送。这里 $notification 是通过控制器中可用的方法传递的变量。

# java - junit4 使用特定的测试方法创建测试套件

> ID：15240475
> 
> 赞同：4
> 
> 时间：2013-03-06T06:28:08.320
> 
> 标签：java, junit4

在 junit4 中，我想执行来自不同类的特定测试方法，即想要创建一个包含来自不同类的特定测试方法的测试套件。

假设我有 2 个课程：

```
public class Test_Login {
    @Test
    public void test_Login_001(){
        System.out.println("test_Login_001");
    }

    @Test
    public void test_Login_002(){
        System.out.println("test_Login_002");
    }

    @Test
    public void test_Login_003(){
        System.out.println("test_Login_003");
    }
}

public class Logout {   

    @Test
    public void test_Logout_001(){  
        System.out.println("test_Logout_001");  
    }

    @Test
    public void test_Logout_002(){
        System.out.println("test_Logout_002");
    }

    @Test
    public void test_Logout_003(){
        System.out.println("test_Logout_003");
    }
} 
```

从上面的类中，我只想执行测试方法 test_Login_001 、 test_Login_003 、 test_Logout_002 。

如何在 junit4 中实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-09-12T13:48:02.030

由于 JUnit 4.8 引入了类别，因此存在一个干净的解决方案，创建一个 TestSuite：

```
@RunWith(Categories.class)
@IncludeCategory(MustHaveTests.class)
@SuiteClasses( { Test_Login.class, Test_Logout.class }) 
public class MustHaveTestsTestSuite {
    public interface MustHaveTests { /* category marker */ }

} 
```

并在您希望使用 TestSuite 运行的每个测试上方添加 @Category(MustHaveTests.class)，例如：

```
@Category(MustHaveTests.class)
@Test
public void test_Login_001(){
    System.out.println("test_Login_001");
} 
```

运行 TestSuite 时，只会执行 MustHaveTests-“tagged”测试。有关@Category 的更多详细信息：[https ://github.com/junit-team/junit4/wiki/categories](https://github.com/junit-team/junit4/wiki/categories)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T02:27:49.337

您需要创建一个 org.junit.runner.Request 并将其传递给 JunitCore runner，或者实际上是任何 Runner。

```
JUnitCore junitRunner = new JUnitCore();
Request request = Request.method(Logout.class, "test_Logout_002");
Result result = junitRunner.run(request); 
```

我实际上创建了一个注释，可以搜索带有这些注释的方法并动态创建请求并运行它们

```
public class TestsSuite {

public static void main(String[] args) throws Exception {
    Class annotation = MyTestAnnotation.class;
    JUnitCore junitRunner = new JUnitCore();
    Class testClass = Test_Login.class;
    Method[] methods = testClass.getMethods();
    for (Method method : methods) {
        if (method.isAnnotationPresent(annotation)) {
            if (method.isAnnotationPresent(org.junit.Test.class)) {
                Request request = Request.method(testClass, method.getName());
                Result result = junitRunner.run(request);
                System.out.println(result.wasSuccessful());
            }
        }
    }
} 
```

}

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-05-24T14:16:29.450

这可能不是最巧妙的实现，但我通过创建一个新的@SuiteMethods 注释解决了类似的问题，如下所示：

SuiteMethods.java

```
@Retention(RUNTIME)
@Target(TYPE)
public @interface SuiteMethods {
    String[] value() default {""};
} 
```

FilteredSuite.java

```
public class FilteredSuite extends Categories {

    private static String[] TEST_METHODS_TO_RUN = {""};  // default behavior is to run all methods 

    private static Class<?> extractMethodNamesFromAnnotation(Class<?> clazz) {
        SuiteMethods methodsAnnotation = clazz.getAnnotation(SuiteMethods.class);
        if (methodsAnnotation != null) {
            // if our MethodsAnnotation was specified, use it's value as our methods filter
            TEST_METHODS_TO_RUN = methodsAnnotation.value();
        }        
        return clazz;
    }

    public static Filter getCustomFilter() {
        Filter f = new Filter() {

            @Override
            public boolean shouldRun(Description desc) {
                String methodName = desc.getMethodName();
                for (String subString : TEST_METHODS_TO_RUN) {
                    if (methodName == null || methodName.contains(subString)) {
                        return true;
                    }
                }
                return false;
            }

            @Override
            public String describe() {
                return null;
            }
        };
        return f;
    }

    public FilteredSuite(Class<?> arg0, RunnerBuilder arg1) throws InitializationError {
        super(extractMethodNamesFromAnnotation(arg0), arg1);            
    }

    @Override
    public void filter(Filter arg0) throws NoTestsRemainException {
        // At test suite startup, JUnit framework calls this method to install CategoryFilter.
        // Throw away the given filter and install our own method name filter 
        super.filter(getCustomFilter());
    }
} 
```

**使用示例**

```
@RunWith(FilteredSuite.class)
@SuiteClasses({
    GroupRestTest.class,
    ScenarioRestTest.class
})
@SuiteMethods({
    "testReadOnlyFlag",
    "testSheetWriteData",
    "testAddScenarioMeta"
})
public class SubsetTestSuite {
} 
```

# java - Java 运行时错误

> ID：15240476
> 
> 赞同：0
> 
> 时间：2013-03-06T06:28:21.513
> 
> 标签：java, runtime

我正在使用以下代码尝试从 Windows 任务管理器中检索信息：

```
Runtime.getRuntime().exec("tasklist /v /fi"); 
```

当我在 Windows CMD 中输入“tasklist /v /fi”时它可以工作，但在 java 中它给了我找不到文件路径的错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-16T10:20:09.723

使用字符串数组运行具有多个选项的命令。

```
Runtime.getRuntime().exec(new String[]{"tasklist","/v","/fi"}); 
```

# sql-server - sql server 2008 r2 速成版

> ID：15240479
> 
> 赞同：0
> 
> 时间：2013-03-06T06:28:41.833
> 
> 标签：sql-server

如何从 sql server 2008 r2 express edition 复制数据，如果不可能，那么是否有任何第三方工具可以从 sql server 2008 r2 express edition 复制数据，问题是我想从不同位置的多台机器传输数据。这些机器包含 sql server 2008 r2 express edition。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:31:47.953

使用 SQL Server“导入和导出数据”工具。

# javascript - 具体组合算法

> ID：15240480
> 
> 赞同：1
> 
> 时间：2013-03-06T06:28:43.190
> 
> 标签：javascript, algorithm, combinations, combinatorics

如果我有 n 个球和 k 个容器，那么这个 -> ( (n+k-1)! / n!(k-1)! ) 将计算出有多少组合。

我很难更改它以生成 javascript 中所有组合的列表。

在一个带有一系列球和一些容器的函数中。

组合（[1,2,3,4,5,6], 3）

每个容器可以有任意数量的球，容器可以是空的。

这是我尝试过的事情，但我在每个容器中只得到一个球。

```
function generateCombinations(array, r, callback) {
    function equal(a, b) {
        for (var i = 0; i < a.length; i++) {
            if (a[i] != b[i]) return false;
        }
        return true;
    }
    function values(i, a) {
        var ret = [];
        for (var j = 0; j < i.length; j++) ret.push(a[i[j]]);
        return ret;
    }
    var n = array.length;
    var indices = [];
    for (var i = 0; i < r; i++) indices.push(i);
    var final = [];
    for (var i = n - r; i < n; i++) final.push(i);
    while (!equal(indices, final)) {
        callback(values(indices, array));
        var i = r - 1;
        while (indices[i] == n - r + i) i -= 1;
        indices[i] += 1;
        for (var j = i + 1; j < r; j++) indices[j] = indices[i] + j - i;
    }
    callback(values(indices, array));
}
count = 0
generateCombinations([1,2,3,4,5,6,7,8,9,1],3,function(first){
             $("#hello").append(first+"<br />")
             count = count +1
})

$("#hello").append(count) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:05:46.133

你可以这样做：

```
var containers = [];

// n - number of balls, k - number of containers
function dfs(n, k) {
    // Ending point of recursion, all balls are placed
    if(n == 0) {
        var output = [];
        for(var i = 0; i < k; i++) {
            output.push('{' + containers[i].join(', ') + '}');
        }
        output = '[' + output.join(', ') + ']';
        console.log(output);
        return;
    }

    // Try to put ball #n
    for(var i = 0; i < k; i++) {
        containers[i].push(n);

        // Now we have placed ball #n, so we have 1 .. n - 1 balls only
        dfs(n - 1, k);

        // Remove ball when back to use again
        containers[i].pop();
    }
}

var n = 4;
var k = 3;
for(var i = 0; i < k; i++) {
    containers[i] = [];
}
dfs(n, k); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:56:47.143

我最初以为您想要 n 中 k 元素的所有组合，但您的问题不同，它将 n 元素划分为 k 部分。

在遍历元素时，在每个步骤中，您都可以选择将当前元素放入任何容器中，这是`k`可能的。总的来说，您将有 k ^(n 个)可能的解决方案。

因此，迭代所有解决方案会更快，而不是将它们存储在数组中。

您可以将解决方案表示为 base 中的唯一数字`k`，带有`n`数字，并通过增加该数字来迭代解决方案。

在您的示例中，底数为 3，位数为 6。第一个解决方案是将所有球放入容器 0 中，即。

```
 000000 
```

下一个解决方案是将所有球放入容器 0 中，除了最后一个放入容器 1 中。

```
 000001 
```

... 000002 000010 000011 000020

希望你应该明白这一点。

# android - 将 Android ADT 工具从 21.0.1 更新到 21.1.0

> ID：15240484
> 
> 赞同：10
> 
> 时间：2013-03-06T06:28:51.707
> 
> 标签：android, android-2.2-froyo

我已将 SDK 更新到 21.1 以及如何在旧版本中更新 ADT 21.1。当我打开我的 SDK 时，它会显示

此 Android SDK 需要 Android Developer Toolkit 版本 21.1.0 或更高版本。当前版本是 21.0.1.2012-12-6-2-58。请将 ADT 更新到最新版本。

任何解决方案，在此先感谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-16T18:16:19.710

## 通过以下步骤面临同样的问题和成功

1.  [从http://dl.google.com/android/ADT-21.1.0.zip](http://dl.google.com/android/ADT-21.1.0.zip)下载 ADT 插件 zip 文件 ADT-21.1.0.zip
2.  （不要打开包装）：
3.  启动 Eclipse，然后选择帮助 > 安装新软件。
4.  单击右上角的添加。
5.  在添加存储库对话框中，单击存档。
6.  选择下载的 ADT-21.1.0.zip 文件并单击确定。
7.  输入“ADT Plugin”作为名称，然后单击“确定”。
8.  在可用软件对话框中，选中开发人员工具旁边的复选框，然后单击下一步。
9.  在下一个窗口中，您将看到要下载的工具列表。点击下一步。
10.  阅读并接受许可协议，然后单击完成。
11.  如果您收到安全警告，提示无法确定软件的真实性或有效性，请单击“确定”。
12.  安装完成后，重新启动 Eclipse。

* * *

*   资源：http: [//developer.android.com/sdk/installing/installing-adt.html](http://developer.android.com/sdk/installing/installing-adt.html)
*   部分：故障排除安装

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T06:32:51.270

打开`Eclipse -> Help -> Check for updates`

Eclipse 将完成其余的工作。请确保在更新完成后重新启动 Eclipse 以使更改生效。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T11:31:14.087

转到 eclipse > 帮助 > 检查更新。

它应该列出 adt 的最新更新。如果它不起作用，试试这个：

转到 Eclipse > 帮助 > 安装新软件

点击添加

添加此网址：[https ://dl-ssl.google.com/android/eclipse/](https://dl-ssl.google.com/android/eclipse/)

它将列出可用的更新——理想情况下应该是 adt 21.1.0（最新）

安装最新的adt，一切都应该没问题。

来源： 从inankupeli[将 ADT 从 21.0 更新到 21.1](https://stackoverflow.com/questions/14951925/update-adt-from-21-0-to-21-1)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T06:30:27.760

在 Eclipse 中，执行以下操作：

*   在菜单栏上，转到：`Help -> Check for Updates`。
*   出现列表时选择 ADT。
*   出现提示时接受许可证。
*   出现提示时单击重新启动。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T06:41:29.120

其他答案都很好。添加到那个

```
Eclipse -> help -> Install new software 
```

单击`What is already Installed`，然后会出现一个列表，然后选择`Android Development tools`（即 ADT）并单击`update`。它将更新到较新的版本。HTH :)

# php - 无法访问apache上的php文件

> ID：15240485
> 
> 赞同：1
> 
> 时间：2013-03-06T06:28:54.907
> 
> 标签：php, apache

我在 Ubuntu 10.04 x32 上安装了 Apache、Php、Mysql。安装它们后，我无法访问某些 php 文件。APM 开启。以下是一些文件和 .htaccess 来解决问题。如果您在浏览器上看不到“可以访问”文件，则服务器可能已关闭。

权限：phpinfo.php 644、index.php 600、hello.php 600

[可以访问]

```
http://222.118.53.30/phpinfo.php
http://222.118.53.30/phpmyadmin 
```

[无法访问]

```
http://222.118.53.30/index.php
http://222.118.53.30/hello.php 
```

.haccess 正在关注

```
SetEnv APPLICATION_ENV development

Options -Indexes

Options +FollowSymLinks

DirectoryIndex index.php index.html

<IfModule mod_rewrite.c>

RewriteEngine on

RewriteBase /

RewriteCond %{REQUEST_FILENAME} !-f

RewriteCond %{REQUEST_FILENAME} !-d

RewriteRule ^(.*)\?*$ index.php [L,QSA]

#remove www.

#RewriteCond %{HTTPS} off

#RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]

#RewriteRule ^(.*)$ http://%1/$1 [R=301,L]

#RewriteRule ^(.*\.(png|jpg|jpeg|gif))$ index.php?controller=minify&action=index&file_path=$1&ext=$2 [L,NC]

#RewriteRule ^(.*\.(css|js))$ index.php?controller=minify&action=jscss&file_path=$1&ext=$2 [L,NC]

</IfModule>

ErrorDocument 404 index.php

<ifModule mod_expires.c>

ExpiresActive On

ExpiresDefault "access plus 1 seconds"

ExpiresByType text/html "access plus 1 seconds"

ExpiresByType image/gif "access plus 2592000 seconds"

ExpiresByType image/jpeg "access plus 2592000 seconds"

ExpiresByType image/png "access plus 2592000 seconds"

ExpiresByType text/css "access plus 604800 seconds"

ExpiresByType text/javascript "access plus 216000 seconds"

ExpiresByType application/x-javascript "access plus 216000 seconds"

</ifModule>

<FilesMatch "\.(htaccess|htpasswd|ini|log|sh|inc|bak|cache)$">

Order Allow,Deny

Deny from all

</FilesMatch> 
```

[你好.php]

```
<?php 
 echo "Hello World";
?> 
```

[索引.php]

```
<?php 

// Define application path
defined('APPLICATION_PATH')
|| define('APPLICATION_PATH', realpath(dirname(__FILE__) . '/application/'));

// Define base path
defined('BASE_PATH')
|| define('BASE_PATH', realpath(dirname(__FILE__)));

// Define application environment
defined('APPLICATION_ENV')
|| define('APPLICATION_ENV', (getenv('APPLICATION_ENV') ? getenv('APPLICATION_ENV') : 'production'));

set_include_path(implode(PATH_SEPARATOR, array(
realpath(APPLICATION_PATH . '/../JO/v.0.9b/'),
realpath(APPLICATION_PATH . '/library/'),
get_include_path(),
)));

require_once 'JO/Application.php';

// Create application, bootstrap, and run
$application = new JO_Application(
APPLICATION_ENV,
APPLICATION_PATH . '/config/application.ini',
isset($argv) ? $argv : null
); 

// Set Routers links
$configs_files = glob(APPLICATION_PATH . '/config/config_*.ini');
if($configs_files) {
foreach($configs_files AS $file) {
    $config = new JO_Config_Ini($file);
    $application->setOptions($config->toArray());
    JO_Registry::set(basename($file, '.ini'), $config->toArray());
}
}

// Set Routers links
$routers_files = glob(APPLICATION_PATH . '/config/routers/*.ini');
if($routers_files) {
foreach($routers_files AS $file) {
    $config = new JO_Config_Ini($file, null, false, true);
    $application->setOptions($config->toArray());
    JO_Registry::set('routers_'.basename($file, '.ini'), $config->toArray());
}
}

//dispatch application
$application->dispatch();

// error handler function
function myErrorHandler($errno, $errstr, $errfile, $errline)
{
if (!(error_reporting() & $errno)) {
    // This error code is not included in error_reporting
    return;
}

switch ($errno) {
case E_USER_ERROR:
    echo "<b>My ERROR</b> [$errno] $errstr<br />\n";
    echo "  Fatal error on line $errline in file $errfile";
    echo ", PHP " . PHP_VERSION . " (" . PHP_OS . ")<br />\n";
    echo "Aborting...<br />\n";
    exit(1);
    break;

case E_USER_WARNING:
    echo "<b>My WARNING</b> [$errno] $errstr<br />\n";
    break;

case E_USER_NOTICE:
    echo "<b>My NOTICE</b> [$errno] $errstr<br />\n";
    break;

default:
    echo "Unknown error type: [$errno] $errstr<br />\n";
    break;
}

/* Don't execute PHP internal error handler */
return true;
} 
```

你能帮我看看我的配置有什么问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:33:51.950

这些文件正在显示`HTTP 500 Internal server error`。这意味着这些文件有一些代码不适用于您的 PHP 版本。您需要查看这些文件中的代码

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:34:30.350

你确定，你不能*访问*这些文件吗？因为从这点来看，我可以。我刚刚收到一个内部服务器错误 (500)，这可能有很多原因。

最常见的是您的 php 文件中的语法错误。因此，例如，请发布您的 hello.php 的源代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:46:43.743

我测试 Htaccess 是正确的，没有问题。

通过注释这行 htaccess 来测试 php

```
 RewriteCond %{REQUEST_FILENAME} !-f

  RewriteCond %{REQUEST_FILENAME} !-d

  RewriteRule ^(.*)\?*$ index.php [L,QSA] 
```

如果`hello.php`工作正常，则意味着问题出在索引 php 代码上

如果问题没有解决，则意味着索引 php 是正确的，我认为问题来自虚拟主机部分的 httpd.conf

其他一些问题可能会导致此问题，例如权限，（您的 php 文件必须`655`是可以 `read`和`execute`公共、组和所有者`read`的意思）`execute``read``write`

# perl - perl 搜索路径中缺少 site_perl 目录

> ID：15240490
> 
> 赞同：0
> 
> 时间：2013-03-06T06:29:06.690
> 
> 标签：perl, perl-module

我是perl的菜鸟。

我使用安装在`/usr/lib/perl5/site_perl`CentOS 5 上的 perl 模块。在 CentOS 6 上，perl 搜索路径 (@INC) 中缺少该目录。

在 CentOS 5 perl -V 输出上：

```
Summary of my perl5 (revision 5 version 8 subversion 8) configuration:
  .......
  .......
  Built under linux
  Compiled at Sep  3 2009 10:26:51
  @INC:
    /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi
    /usr/lib/perl5/site_perl/5.8.8
    /usr/lib/perl5/site_perl
    /usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi
    /usr/lib/perl5/vendor_perl/5.8.8
    /usr/lib/perl5/vendor_perl
    /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi
    /usr/lib/perl5/5.8.8
    . 
```

在 CentOS 6 perl -V 输出上：

```
Summary of my perl5 (revision 5 version 10 subversion 1) configuration:
  .....
  .....
  Built under linux
  Compiled at Jun 22 2012 13:27:28
  @INC:
    /usr/local/lib64/perl5
    /usr/local/share/perl5
    /usr/lib64/perl5/vendor_perl
    /usr/share/perl5/vendor_perl
    /usr/lib64/perl5
    /usr/share/perl5
    . 
```

我现在应该把拱独立的东西放在哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:10:06.307

特定于您站点的普通 perl 模块应位于以下目录中：

```
perl -V:installsitelib 
```

考虑创建一个 Makefile.PL 或 Build.PL 并使用它来安装你的模块；正在做

```
module-starter --module Your::Module::Name --author 'Your Name' --email your.email@example.com 
```

将使用[module-starter](http://p3rl.org/module-starter)创建一个模板分发，您可以将代码复制到其中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T07:42:09.710

如果您使用的是 CPAN 模块，那么您应该让`cpan`实用程序决定在安装软件包时将文件放在哪里。

如果您自己编写了模块，那么您可以将代码放在当前工作目录中（您将看到这`.`是 中的最后一项`@INC`）或由环境变量指定的单独目录`PERL5LIB`或 Perl 源文件中的`use lib`.

将开发模块放在每个用户列表中的目录中是一个坏主意`@INC`。

如果您需要一个单独的站点库永久目录，那么您应该使用额外的库路径重建 Perl。

# visual-studio-2010 - 如何在 Visual Studio 负载测试中为每个用户从不同的客户端 IP 向服务器发送请求

> ID：15240503
> 
> 赞同：1
> 
> 时间：2013-03-06T06:30:17.203
> 
> 标签：visual-studio-2010, load-testing

我正在通过提供 100 个虚拟用户使用 Visual Studio 负载测试来测试 Web 应用程序。当我这样做时，每个用户都从同一个客户端 IP 发送请求。我的要求是每个用户都应该从不同的 IP 发送请求。有没有办法做到这一点，比如创建虚拟 IP 并将其分配给每个虚拟用户，以便每个虚拟用户都可以从不同 IP 上的不同客户端请求服务器。

任何机构都有这样做的想法。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T20:47:25.393

通常，人们会在操作系统/网络级别配置多个 IP，然后配置测试工具以使用它们。在 Windows 上，您将按照[TechNet 文章](http://technet.microsoft.com/en-us/library/cc722518.aspx)中的步骤在网络适配器上配置多个 IP（请务必先咨询您的网络管理员！）。

然后您需要配置负载测试软件以使用这些 IP。抱歉，我不知道如何在 VS 中做到这一点。在我们的工具中，检查负载生成器 UI 中的一些选项很简单。

# java - 使用扫描仪计算文件中的特定字符

> ID：15240504
> 
> 赞同：-1
> 
> 时间：2013-03-06T06:30:20.677
> 
> 标签：java, character, java.util.scanner

我正在尝试编写一个程序，提示用户输入一个字符，并计算所述字符出现在给定文件中的实例数。并显示字符出现的次数。

我真的很茫然，很抱歉我还没有很多代码，只是不知道从哪里开始。

```
import java.util.Scanner;
import java.io.*;

public class CharCount {

    public static void main(String[] args) throws IOException {
        int count = 0;
        char character;

        File file = new File("Characters.txt");
        Scanner inputFile = new Scanner(file);

        Scanner keyboard = new Scanner(System.in);
        System.out.println("Please enter a single character");
        character = keyboard.nextLine().charAt(0);  
  }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:40:10.023

您需要以下代码从文件中读取并使用您输入的字符进行检查。`count`将包含指定字符的出现。

```
try {
        BufferedReader reader = new BufferedReader(new FileReader(file));
        String line = null;
        while ((line = reader.readLine()) !=null) {
            for(int i=0; i<line.length();i++){
                if(line.charAt(i) == character){
                    count++;
                }
            }
        }
    } catch (FileNotFoundException e) {
        // File not found
    } catch (IOException e) {
        // Couldn't read the file
    } 
```

# javascript - 检测 Firefox 中的原生 PDF 查看器（在 Firefox 19 中引入）是否是主要的 PDF 查看器

> ID：15240506
> 
> 赞同：4
> 
> 时间：2013-03-06T06:30:28.537
> 
> 标签：javascript, firefox

Firefox 在 Firefox 19 中引入了原生 PDF 查看器，效果很好。但是在我的网站上，我想检测 PDF 是否在 Adob​​e Acrobat 插件的本机 PDF 查看器中打开。

在此基础上，我想告诉用户选择不同的查看器（Adobe Acrobat）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-24T13:19:10.760

这个问题在另一篇文章中得到解答：

[如何检测pdf.js是否是firefox中的*默认*阅读器](https://stackoverflow.com/questions/16187902/how-to-detect-if-pdf-js-is-default-reader-in-firefox)

该解决方案被其作者认为是“脆弱的”；这意味着它可能会被未来 Firefox 或 PDF.js 更新中的更改破坏。这是我发现的唯一可行的解​​决方案：

[http://www.pinlady.net/PluginDetect/PDFjs/](http://www.pinlady.net/PluginDetect/PDFjs/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T11:57:42.677

如果我们这样做会怎样：

```
if(document.contentType="text\html" && window.location.href.endsWith(".pdf") > -1)
        return true; // native PDF viewer is opened
else
        return false; 
```

上面的片段是基于这样的假设，即对于 PDF 文件，URL 将始终以 .pdf 结尾。这有多可靠？

# jquery - 将鼠标悬停在该 div 中心的图像上时展开 div

> ID：15240514
> 
> 赞同：0
> 
> 时间：2013-03-06T06:31:02.230
> 
> 标签：jquery, html, css

我想水平放置4个div，每个div的中心有一个小图像；将鼠标悬停在该图像上时，该 div 应放大显示更多内容。这是“加号”图片链接-

[http://www.nike.com/etc/designs/nike/pes/images/plus.png](http://www.nike.com/etc/designs/nike/pes/images/plus.png)

```
<div id="hov_text"
    style="position: relative; width: 1350px; height: 400px; margin- top: 20px;">
    <div id="ord1">
        <h3 style="padding-left: 50px; padding-right: 20px; color: black;">SHOES</h3>
        <h5 style="padding-left: 50px; padding-right: 20px;">MEN'S SHOES</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">Running</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">Basketball</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">NikeiD</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">Soccer</h5>
        <img class="ord1_img"
            style="height: 20px; margin-left: 100px; width: 30px;"
            src="img/plus.png" />
        <hr>
    </div>
    <div id="ord2"
        style="margin-top: 20px; margin-left: 10px; float: left; width: 20%; height: 200px; background-color: #ffffff; border-right: 2px solid #d9d8cd;">
        <h3 style="padding-left: 50px; padding-right: 20px; color: black;">Clothing</h3>
        <h5 style="padding-left: 50px; padding-right: 20px;">MEN'S
            CLOTHING</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">T-Shirts</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">Jackets &
            Vests</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">Hoddies &
            Swetshirts</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">Pants</h5>
        <img class="ord1_img"
            style="height: 20px; margin-left: 100px; width: 30px;"
            src="img/plus.png" />
        <hr>
    </div>
    <div id="ord3"
        style="margin-top: 20px; margin-left: 10px; float: left; width: 20%; height: 200px; background-color: #ffffff; border-right: 2px solid #d9d8cd;">
        <h3 style="padding-left: 50px; padding-right: 20px; color: black;">GEAR</h3>
        <h5 style="padding-left: 50px; padding-right: 20px;">MEN'S GEAR</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">Accessories</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">SPARQ</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">Socks</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">Bags &
            Backpacks</h5>
        <img class="ord1_img"
            style="height: 20px; margin-left: 100px; width: 30px;"
            src="img/plus.png" />
        <hr>
    </div>
    <div id="ord4"
        style="margin-top: 20px; margin-left: 10px; float: left; width: 20%; height: 200px; background-color: #ffffff;">
        <h3 style="padding-left: 50px; padding-right: 20px; color: black;">Others</h3>
        <h5 style="padding-left: 50px; padding-right: 20px;">Clearence</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">ASDF</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">NFL</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">Sportswear</h5>
        <h5 style="padding-left: 50px; padding-right: 20px;">Soccer</h5>
        <img class="ord1_img"
            style="height: 20px; margin-left: 100px; width: 30px;"
            src="img/plus.png" />
        <hr>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:36:06.080

您可以在 jquery 中使用 animate 函数，

检查[此](http://www.w3schools.com/jquery/tryit.asp?filename=tryjquery_eff_ani_borderspacing)链接，这可能会对您有所帮助

# javascript - 编写一个 jQuery 选择器来过滤没有子类的子 div

> ID：15240516
> 
> 赞同：1
> 
> 时间：2013-03-06T06:31:04.327
> 
> 标签：javascript, jquery, html, css

考虑以下**HTML**

```
<div class="container">
    <div class="item medium type">  value1  </div>
    <div class="item">  value2  </div>
    <div class="item large">  value3  </div>
    <div class="item small">   value4  </div>
    <div class="item">  value5  </div>
    <div class="item">  value6  </div>
    <div class="item">  value7  </div>
    <div class="item medium"> value8  </div>
    <div class="item">  value9  </div>
</div> 
```

**有没有一种简单的方法来编写一个 jQuery 选择器来获取`container` `div`不具有任何子类的所有子类？**

例如，我需要编写一个**选择器**( ) 并仅获取具有值, , ,的`$('myselector').each()`item （因为这些s 没有任何子类）。`div``value2``value5``value6``value7``value9``div`

可能是我错过了明显的。但我做了一个快速搜索，几乎没有得到这方面的信息。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T06:36:27.673

您可以使用此选择器：

```
$('.container [class=item]') 
```

它使每个孩子的类属性完全等于`item`（因此没有其他类）。

* * *

但它并不是真正可扩展的，如果您需要添加另一个不排除该元素的类怎么办？

也许您应该考虑向其他元素添加一个类，例如：

```
<div class="container">
    <div class="item sub medium type">  value1  </div>
    <div class="item">  value2  </div>
    <div class="item sub large">  value3  </div>
    <div class="item sub small">   value4  </div>
    <div class="item">  value5  </div>
    <div class="item">  value6  </div>
    <div class="item">  value7  </div>
    <div class="item sub medium"> value8  </div>
    <div class="item">  value9  </div>
</div> 
```

然后`:not`在您的选择器中使用：

```
$('.container .item:not(.sub)') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:37:29.387

尝试[`not`](http://api.jquery.com/not-selector/)

```
 $('.container .item').not('.medium , .large,.small,.type') 
```

或属性选择器

```
$('.container [class=item]').each(function(){
   //do your stuff
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T06:37:52.490

您可以使用`$("div[class$='item']")`

你也可以看看[http://api.jquery.com/category/selectors/](http://api.jquery.com/category/selectors/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T06:47:35.690

如果您像这样使用属性选择器：

```
$('.container [class=item]') 
```

那么它只会匹配一个完全像这样的元素：

```
<div class="item">value1</div> 
```

而不是这个（注意类名“item”周围的空格）：

```
<div class=" item  ">value1</div> 
```

假设类属性中永远不会有空格是不安全的。由于某些 jQuery DOM 操作，可能会插入或留下空白。对此的解决方案是在选择仅具有类“项目”的所有元素之前修剪类属性。

```
$('.container')
    .children() // select all the elements contained within .container
    .each(function(){
        // strip whitespace from class attribute
        $(this).attr('class',$.trim($(this).attr('class')));
    });

// fade out all elements within .container that ONLY have the class
// "item" and nothing else
$('.container [class="item"]').fadeOut(); 
```

# python - 使用 Django 创建 JSON 数组

> ID：15240518
> 
> 赞同：7
> 
> 时间：2013-03-06T06:31:13.957
> 
> 标签：python, django, json, django-views

我正在尝试使用示例输出创建一个 JSON 对象，例如

```
{
    "pickups": [
        {
            "id": " ",
            "name": " ",
            "number": " ",
            "time": " ",
            "status": " "
        },
        {
            "id": " ",
            "name": " ",
            "time": " ",
            "number": " ",
            "status": " "
        }
    ]
} 
```

我收到了一个示例响应，例如

```
 {'status': '1', 'time': datetime.date(2013, 2, 27), 'number': 4L, 'name': u'Dr  John', 'id': 83L}{'status': '1', 'time': datetime.date(2013, 2, 27), 'number': 4L, 'name': u'Ricky', 'id': 84L} 
```

我已经尝试过什么

```
 pickup_records = []
        for tmpPickUp in pickup:
            pickup_date=tmpPickUp.pickup_date
            pickup_time=tmpPickUp.pickup_time

            pickup_id = tmpPickUp.id
            pickup_name=tmpPickUp.customer_name
            pickup_number=tmpPickUp.pieces
            print pickup_date,pickup_time,pickup_id,pickup_name,pickup_number
            record = {"name":pickup_name, "id":pickup_id,"time":pickup_date,"number":pickup_number,"status":"1"}
            print record
            pickup_records.append(record)

        #pickup_records = json.dumps(pickup_records) 
        pickup_records = json.dumps(pickup_records, indent=4) 
        pickup_response={"pickup":pickup_records}
        return HttpResponse(pickup_response, content_type="application/json") 
```

**编辑 1**

```
 for tmpPickUp in pickup:
                pickup_date=tmpPickUp.pickup_date
                pickup_time=tmpPickUp.pickup_time

                pickup_id = tmpPickUp.id
                pickup_name=tmpPickUp.customer_name
                pickup_number=tmpPickUp.pieces
                print pickup_date,pickup_time,pickup_id,pickup_name,pickup_number
                record = {"name":pickup_name, "id":pickup_id,"time":pickup_date,"number":pickup_number,"status":"1"}
                print record
                pickup_records.append(record)

            pickup_response={"records":pickup_records}
            print "before pickup+records",pickup_response 
            #pickup_records = json.dumps( pickup_response, sort_keys=True, indent=4)
            print "after pickup+records"  
            #pickup_response={"pickup":pickup_records}
            print "after pickup+response"
            return HttpResponse(pickup_response, content_type="application/json") 
```

**日志响应**

```
before pickup+records {'records': [{'status': '1', 'time': datetime.date(2013, 2, 27), 'number': 4L, 'name': u'Dr Ayurveda Delhi', 'id': 83L}, {'status': '1', 'time': datetime.date(2013, 2, 27), 'number': 4L, 'name': u'Callmate India', 'id': 84L}]} 
```

`return HttpResponse(pickup_response, content_type="application/json")`我想我在请纠正我上犯了错误

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-06T11:42:21.637

这是最终的工作代码

```
 pickup_dict = {}
        pickup_records=[]

        for tmpPickUp in pickup:
                pickup_date=tmpPickUp.pickup_date
                pickup_time=tmpPickUp.pickup_time

                pickup_id = tmpPickUp.id
                pickup_name=tmpPickUp.customer_name
                pickup_number=tmpPickUp.pieces
                print pickup_date,pickup_time,pickup_id,pickup_name,pickup_number
                record = {"name":pickup_name, "id":pickup_id,"number":pickup_number,"status":"1","time":"time"}
                print record
                pickup_records.append(record)

        pickup_dict["pickup"]=pickup_records

        return JsonResponse(pickup_dict) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T06:47:56.297

我认为你需要确保你声明`pickup_records`为一个列表，然后检查你调用的方式`json.dumps`。

```
pickup_records = []
for tmpPickUp in pickup:
    pickup_date=tmpPickUp.pickup_date
    pickup_time=tmpPickUp.pickup_time
    pickup_id = tmpPickUp.id
    pickup_name=tmpPickUp.customer_name
    pickup_number=tmpPickUp.pieces
    print pickup_date,pickup_time,pickup_id,pickup_name,pickup_number
    record = {"name":pickup_name, "id":pickup_id,"time":pickup_date,"number":pickup_number,"status":"1"}
    pickup_records.append(record)
pickup_records = json.dumps({'pickups': pickup_records}, indent=4) 
pickup_response={"pickup":pickup_records}
return HttpResponse(pickup_response, content_type="application/json") 
```

更新

我在控制台中运行了以下命令-（我认为错误一定与您的 TmpPickUp 项目有关）-

```
>>> import json
>>> records = []
>>> for i in ["","",""]:
...     record = {"name":i, "id":i,"time":i,"number":i,"status":i}
...     records.append(record)
... 
>>> print json.dumps({'pickups': records}, indent=4)
{
    "pickups": [
        {
            "status": "", 
            "time": "", 
            "number": "", 
            "name": "", 
            "id": ""
        }, 
        {
            "status": "", 
            "time": "", 
            "number": "", 
            "name": "", 
            "id": ""
        }, 
        {
            "status": "", 
            "time": "", 
            "number": "", 
            "name": "", 
            "id": ""
        }
    ]
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:53:31.750

```
from django.utils import simplejson

pickup_records = []
for tmpPickUp in pickup:
    pickup_records.append({ "id": tmpPickUp.id })
    pickup_records.append({ "name": tmpPickUp.customer_name })
    pickup_records.append({ "number": tmpPickUp.pieces })
    pickup_records.append({ "time": tmpPickUp.pickup_time })
    pickup_records.append({ "status": "1" })

return HttpResponse(simplejson.dumps(pickup_records, indent=4), 
                    mimetype="application/json") 
```

或者也许这会对你有所帮助：[https ://github.com/praekelt/django-generate](https://github.com/praekelt/django-generate)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T07:25:21.883

首先，您应该为 datetime.date 对象编写自己的序列化程序：

```
import datetime
class CustomEncoder(json.JSONEncoder):
    def default(self, obj):
        if isinstance(obj, datetime.date):
            return obj.strftime('%m-%d-%Y')
        return json.JSONEncoder.default(self, obj) 
```

之后你可以使用它：

```
json.dumps(d, cls=CustomEncoder)
'{"status": "1", "id": 83, "number": 4, "name": "Dr  John", "time": "02-27-2013"}' 
```

所以你的结局代码是：

```
resp = [{'status': '1', 'time': datetime.date(2013, 2, 27), 'number': 4L, 'name': u'Dr  John',   'id': 83L}{'status': '1', 'time': datetime.date(2013, 2, 27), 'number': 4L, 'name': u'Ricky', 'id': 84L}]
finale_struct = {'products':[]}
for res in resp:
    finale_struct['products'].append(json.dumps(res, cls=CustomEncoder)) 
```

# iphone - UITableViewController 内容未出现

> ID：15240519
> 
> 赞同：0
> 
> 时间：2013-03-06T06:31:18.977
> 
> 标签：iphone, ios, objective-c, xcode, cocoa-touch

我的内容在模拟过程中没有出现在表格单元格中，即使我将它们全部更改为表格视图控制器并将它们设为静态单元格并抛出我`Static table views are only valid when embedded in UITableViewController instances`尚未在任何代码中添加的错误，所以我想不出什么可能是错误的帮助非常需要。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:35:03.470

听起来您没有更新情节提要。您是否将情节提要中的视图控制器类更改为`UITableViewController`您的子类？静态表格视图的父级未指向您的`UITableView`类的某个地方。

# hibernate - 实现@OneToMany 延迟获取子项的首选方式

> ID：15240537
> 
> 赞同：0
> 
> 时间：2013-03-06T06:32:14.157
> 
> 标签：hibernate, jpa

我是 JPA 的新手，我使用 Hibernate 和 Spring 创建了一个示例应用程序。从各种帖子和谷歌中，我发现很少有实现 LAZY fetch 的方法。

*   一种讨论最多的方法似乎[是视图模式中的开放会话](https://community.jboss.org/wiki/OpenSessionInView)，尽管许多人提出了这种方法的各种缺点。
*   另一种方法是使用联接查询（例如`select p from Partner p join fetch p.contacts where...`）。

请解释我可能选择的首选实施方式。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T13:58:15.870

好的方法是第二种方法。

Open session in view 模式是一种反模式实践。它提供了在 JSP/Servlet 级别更改实体的机会。这对数据不安全，并且是一种糟糕的编程习惯。

首选方法是在使用实体之前手动加载实体的延迟加载字段，或者在 HQL 语句中使用***fetch***保留字。您将在视图层中使用什么/哪些数据是您自己应该提前知道的事情，因此在使用它们之前准备/加载数据是您的职责，这是常识。

以下是一些提前加载延迟加载字段的方法：

1.  设置fetch模式，查询时急切获取字段值

    Criteria.setFetchMode(String associationPath, FetchMode 模式);

2.  *Hibernate.initialize()*方法来初始化代理字段。

3.  在 HQL 语句中添加***fetch 。***

    从 Employee 中选择 emp 作为 emp 提取加入 emp.dept 作为部门 where dept.name like 'HR'

# javascript - Javascript。从特定位置获取节点

> ID：15240540
> 
> 赞同：1
> 
> 时间：2013-03-06T06:32:22.320
> 
> 标签：javascript, jquery

我希望能够将光标悬停在我的网页上，并在每个时间点确定光标所在的节点/标签（div、img、p 等）。

基本上我想在我页面上的任意位置找到一个随机坐标的节点。也许做一个像

`returnXPathOfNodeFrom(130, 200)`

它将返回节点或节点的 xpath，该节点的内容显示在这些坐标处。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:42:08.363

您可以使用`.elementFromPoint()`返回 DOM 元素的 Javascript 方法。

根据[文件](https://developer.mozilla.org/en-US/docs/DOM/document.elementFromPoint?redirectlocale=en-US&redirectslug=DOM:document.elementFromPoint)，

> 此方法返回正在调用其 elementFromPoint 方法的文档中的元素，该元素是位于给定点下方的最顶层元素。要获取元素，请通过坐标指定点，以 CSS 像素为单位，相对于包含文档的窗口或框架中的左上角点。

有关更多信息，请参阅本文：[使用 jQuery 在特定位置查找元素？](https://stackoverflow.com/questions/3942776/jquery-find-element-at-a-particular-position)还有这个[小提琴](http://jsfiddle.net/YjC6y/22/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:47:44.957

尝试 ：

```
$(document).ready(function(){        
   $(document).mouseover( function(e){      
       console.log('You are now on element id: ' + e.target.id);
   });
}); 
```

# css - Magento 管理图表样式

> ID：15240547
> 
> 赞同：2
> 
> 时间：2013-03-06T06:32:51.013
> 
> 标签：css, magento, charts, styles, admin

无论如何要更改在 magento 管理图表中呈现的图像？我基本上想改变颜色和阴影。谢谢![在此处输入图像描述](../Images/f56e1336007baf0db3aafcd900fbd06c.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T07:36:59.170

您可以在 getChartUrl() 方法中的 app/code/core/Mage/Adminhtml/Block/Graph.php 中找到颜色。

```
$params = array(
        'cht'  => 'lc',
        'chf'  => 'bg,s,f4f4f4|c,lg,90,ffffff,0.1,ededed,0',
        'chm'  => 'B,f4d4b2,0,0,0',
        'chco' => 'db4814'
    ); 
```

f4f4f4 => 背景颜色

f4d4b2 => 线条的颜色

db4814 => 线下部分的颜色

要改变这一点，只需在你自己的模块中重写这个块来改变这个功能

![这是其他颜色的测试](../Images/d22e22daed5ab80afd40cd2792efa2d5.png)

# javascript - 使用 Javascript/jquery 更改 CSS 属性

> ID：15240552
> 
> 赞同：0
> 
> 时间：2013-03-06T06:32:59.647
> 
> 标签：javascript, jquery, css, dynamic

我正在尝试动态调整我的 CSS。这是我的CSS：

```
.red_button {
  background:url(record.png);
  padding: 19px 251px;
  cursor: pointer;
  background-repeat: no-repeat;
}

.red_button:hover {
  background:url(record-hover.png);
  cursor: pointer;
  background-repeat: no-repeat;
} 
```

单击它后会更改为以下内容：

```
function recordStarted() {
  started = true;
  $("#red_button").css("background","url(stop.png)");
  $("#red_button").css("background-repeat","no-repeat");
} 
```

但是，如果我尝试使用类似的东西更改 :hover 属性，`$("#red_button:hover").css("background","url(stop.png)");`它只会更改背景（而不是悬停背景）。那么解决这个问题的最佳方法是什么？我已经尝试了一些不同的东西，比如使用 jQuery，但没有任何东西可以工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:40:23.037

请不要这样做，除非绝对需要，否则请使用 CSS 类。这会将你所有的样式分离到它所属的 CSS 中，同时清理你的 JS。

**CSS**

```
#red_button.clicked {
    /* Applied when the button is clicked and NOT hovered */
}

#red_button.clicked:hover {
    /* Applied when the button is clicked and hovered */
    background: url(stop.png);
    background-repeat: no-repeat;
} 
```

**JS**

```
function recordStarted() {
    started = true;
    $("#red_button").addClass("clicked");
} 
```

我还注意到您指的`.red_button`是 CSS 中的类，但`#red_button`JS 中的 ID，您可能是指它们都是 ID？

**编辑：**更改规则以在单击和悬停时应用。

这是一个简单的样式示例：http: [//jsfiddle.net/BMmsD/](http://jsfiddle.net/BMmsD/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:37:28.513

试试这个 ：

```
$("#red_button").mouseover(function() {
   this.css("background","url(stop.png)");
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:40:46.493

我猜你`"."`在 css 和`"#"`jquery 中使用时会出现一些拼写错误。

否则使用`updated code`

```
$(document).ready(function() {
    $(".red_button").click(function() {
        $(".red_button").css("background","record-hover.png");
    });
}); 
```

我希望我足够清楚？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-20T23:55:13.217

这个问题/答案最终很好地回答了我的问题。

[我需要澄清一下动态设置悬停 BG](https://stackoverflow.com/questions/15237917/i-need-a-little-clarification-on-dynamically-setting-a-hover-bg)

# html - 在哪里设置 X-UA-Compatible: IE=Edge？

> ID：15240560
> 
> 赞同：0
> 
> 时间：2013-03-06T06:33:25.570
> 
> 标签：html, performance, iis, http-headers, x-ua-compatible

我想为`X-UA-Compatible: IE=Edge`托管在 IIS 中的网页进行设置。我在哪里可以设置这个？

我知道它可以使用两种方式设置

1.  使用`IIS http header`
2.  [在 html 元标记中设置 X-UA-Compatible](https://github.com/h5bp/html5-boilerplate/blob/v4.1.0/doc/html.md#x-ua-compatible)。

这是我的问题

1.  我应该考虑哪种方法？
2.  在性能方面哪个好？
3.  如果我同时使用这两种方式设置会影响性能吗？（假设两者都是差异值）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T23:45:09.983

Setting through meta tag however causes your site to break W3C validation. So I personally prefer header. As I've shown here: [http://www.salmanq.com/blog/ie-compatibility-and-w3c-validation/2013/03/](http://www.salmanq.com/blog/ie-compatibility-and-w3c-validation/2013/03/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:53:26.503

我建议在 html 元标记和响应标头中都设置它。响应标头将位于元标记之前，但出于本地目的，元标记将充当回退机制。两者都设置不会影响性能。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-11-12T10:35:50.530

根据 msdn，浏览器（至少 IE8）首先在 HTTP 标头之前查找元标记。

[http://blogs.msdn.com/b/ie/archive/2010/03/02/how-ie8-determines-document-mode.aspx](http://blogs.msdn.com/b/ie/archive/2010/03/02/how-ie8-determines-document-mode.aspx)

所以不需要在两个地方添加。元标记就足够了。

# mysql - 相当于mysql中ORACLE的并行查询

> ID：15240561
> 
> 赞同：4
> 
> 时间：2013-03-06T06:33:43.790
> 
> 标签：mysql

mysql中是否有任何等效的方式来运行与ORACLE相同的并行查询

**甲骨文方式**

```
select /*+ FULL(emp) PARALLEL(emp, 35) */
         emp_name
      from
        emp; 
```

在mysql中

> /*+ FULL(emp) PARALLEL(emp, 35) */

将被视为评论

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T06:47:02.247

MySQL 不是甲骨文（尽管归甲骨文所有）。它[不支持并行查询](http://bugs.mysql.com/bug.php?id=1542)。

但是，您可以使用支持它们的第三方数据库引擎[shard-query来获取它们。](https://code.google.com/p/shard-query/)有关更多信息，请参阅Percona 的 Justin Swanhart 的[这篇博文。](http://www.mysqlperformanceblog.com/2010/11/15/shard-query-adds-parallelism-to-queries/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-08-25T14:08:41.283

MySQL 中没有`PARALLEL`开箱即用的关键字支持，但您可以通过类似的方式实现它：

```
#!/bin/bash
date
for y in {1988..2013}
do
  sql="select yeard, count(*) from ontime where yeard=$y"
  mysql -vvv ontime -e "$sql" &>par_sql1/$y.log &
done
wait
date 
```

查看文章：[通过并行查询执行提高慢速查询性能](https://www.percona.com/blog/2014/01/07/increasing-slow-query-performance-with-parallel-query-execution/)

# android - 我如何使用 ViewPagger 之类的 Android VIewAnimation 进行翻转屏幕

> ID：15240568
> 
> 赞同：3
> 
> 时间：2013-03-06T06:33:54.117
> 
> 标签：android

我正在使用 ViewAnimation ：

在 view Animation 的帮助下，我如何像 viewPagger 一样从左到右和从右到左交换屏幕。据我所知，我们可以用 Touch 来做到这一点，但这不是正确的方法，在 Touch 模式下，当我点击 Screen 时，下一个屏幕将可见，但我需要 Like ViewPagger。

```
<!-- This is View Animation Xml code, In which  we have two Layout(Screen) one for GridView and WebView and Second Layout Screen for ListView and WebView -->

<ViewAnimator
    android:id="@+id/viewSwitcher_ID" <ViewAnimator
    android:id="@+id/viewSwitcher_ID"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
>

<LinearLayout
    android:id="@+id/linear_wWeb"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >
        <GridView
            android:id="@+id/gridview"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:numColumns="auto_fit"
            android:verticalSpacing="2dp"
            android:horizontalSpacing="2dp"
            android:columnWidth="500dp"
            android:layout_marginLeft="5dip"
            android:layout_marginRight="5dip"
            android:layout_marginTop="10dip"
            android:layout_marginBottom="5dip"
            android:background="@drawable/list_selector"
            android:stretchMode="columnWidth"
            android:gravity="center" />
        <WebView 
            android:id="@+id/webGrid_ID"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:background="@drawable/webview_div"
            android:layout_marginLeft="5dip"
            android:layout_marginRight="5dip"
            android:visibility="gone" />

        </LinearLayout>

        <LinearLayout
            android:id="@+id/linear_wList"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:orientation="horizontal"
            android:weightSum="5" >

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="2"
                android:orientation="vertical" >

                <ListView
                    android:id="@+id/mylist"
                    android:layout_width="wrap_content"
                    android:layout_height="530dp"

                    android:background="@drawable/list_selector" >
                </ListView>

                <RelativeLayout
                    android:id="@+id/gallery_relative_layout"
                    android:layout_width="fill_parent"
                    android:layout_height="70dip"

                    android:layout_gravity="bottom"
                    android:background="@drawable/headertest"
                    android:paddingLeft="4dip"
                    android:paddingRight="4dip"
                    android:paddingTop="5dip"
                    android:paddingBottom="5dip"
                    android:layout_marginBottom="20dip"

                    android:orientation="horizontal" >

                        <ImageButton
                            android:id="@+id/leftArrow"
                            android:layout_width="40dip"
                            android:layout_height="50dip"
                            android:layout_alignParentBottom="true"

                            android:layout_marginBottom="5dip"
                            android:background="@drawable/fleft_arrow" />

                        <HorizontalScrollView
                            android:id="@+id/horizontal"
                            android:layout_width="fill_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginLeft="2dip"
                            android:layout_marginRight="2dip"
                            android:layout_alignParentBottom="true"
                            android:layout_toLeftOf="@+id/rightArrow"
                            android:layout_toRightOf="@+id/leftArrow" >

                            <LinearLayout
                                android:id="@+id/linearLayout1"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"

                                android:layout_gravity="bottom"
                                android:gravity="center_horizontal|bottom"
                                android:orientation="horizontal"
                                android:layout_marginBottom="5dip"
                                android:layout_alignParentBottom="true" >

                                <Button
                                    android:id="@+id/button1"
                                    android:layout_width="0dp"
                                    android:layout_height="wrap_content"
                                    android:layout_weight="1"
                                    android:background="@drawable/selector1" />

                                <Button
                                    android:id="@+id/button2"
                                    android:layout_width="0dp"
                                    android:layout_height="wrap_content"
                                    android:layout_weight="1"
                                    android:background="@drawable/selector2" />

                                <Button
                                    android:id="@+id/button3"
                                    android:layout_width="0dp"
                                    android:layout_height="wrap_content"
                                    android:layout_weight="1"
                                    android:background="@drawable/selector3" />

                                <Button
                                    android:id="@+id/button4"
                                    android:layout_width="0dp"
                                    android:layout_height="wrap_content"
                                    android:layout_weight="1"
                                    android:background="@drawable/selector4" />

                                <Button
                                    android:id="@+id/button5"
                                    android:layout_width="0dp"
                                    android:layout_height="wrap_content"
                                    android:layout_weight="1"
                                    android:background="@drawable/selector5" />

                <Button
                    android:id="@+id/button6"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/selector6" />

                <Button
                    android:id="@+id/button7"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/selector7" />

                <Button
                    android:id="@+id/button8"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/selector8" />
            </LinearLayout>
        </HorizontalScrollView>
    <ImageButton
            android:id="@+id/rightArrow"
            android:layout_width="40dip"
            android:layout_height="50dip"
            android:layout_marginBottom="5dip"
            android:layout_alignParentBottom="true"
            android:layout_alignParentRight="true"

            android:background="@drawable/fright_arrow"
            />
                    </RelativeLayout>
                </LinearLayout>

                <View
                    android:layout_width="2dp"
                    android:layout_height="fill_parent"
                    android:background="@android:color/black" />
                <LinearLayout 
                    android:layout_width="0dp"
                    android:layout_height="fill_parent"
                      android:layout_weight="3"
                      android:background="@drawable/webview_div">

                    <WebView
                    android:id="@+id/webviewFirstLinear"
                    android:layout_width="0dp"
                    android:layout_height="fill_parent"
                    android:layout_weight="3" />
                </LinearLayout>

            </LinearLayout>

        </ViewAnimator>
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
           >

    <LinearLayout
                android:id="@+id/linear_wWeb"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:orientation="vertical" >
     <GridView

        android:id="@+id/gridview"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:numColumns="auto_fit"
        android:verticalSpacing="2dp"
        android:horizontalSpacing="2dp"
        android:columnWidth="500dp"
        android:layout_marginLeft="5dip"
        android:layout_marginRight="5dip"
        android:layout_marginTop="10dip"
        android:layout_marginBottom="5dip"
        android:background="@drawable/list_selector"
        android:stretchMode="columnWidth"

        android:gravity="center" />
     <WebView 
         android:id="@+id/webGrid_ID"
         android:layout_width="fill_parent"
         android:layout_height="fill_parent"
          android:background="@drawable/webview_div"
          android:layout_marginLeft="5dip"
          android:layout_marginRight="5dip"
         android:visibility="gone"
        />

            </LinearLayout>

         <LinearLayout
                android:id="@+id/linear_wList"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:orientation="horizontal"
                android:weightSum="5" >

                <LinearLayout
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="2"

                    android:orientation="vertical" >

                    <ListView
                        android:id="@+id/mylist"
                        android:layout_width="wrap_content"
                        android:layout_height="530dp"

                        android:background="@drawable/list_selector" >
                    </ListView>

                    <RelativeLayout
                        android:id="@+id/gallery_relative_layout"
                        android:layout_width="fill_parent"
                        android:layout_height="70dip"

                        android:layout_gravity="bottom"
                        android:background="@drawable/headertest"
                        android:paddingLeft="4dip"
                        android:paddingRight="4dip"
                        android:paddingTop="5dip"
                        android:paddingBottom="5dip"
                        android:layout_marginBottom="20dip"

                        android:orientation="horizontal" >

             <ImageButton
            android:id="@+id/leftArrow"
            android:layout_width="40dip"
            android:layout_height="50dip"
            android:layout_alignParentBottom="true"

            android:layout_marginBottom="5dip"
            android:background="@drawable/fleft_arrow" />

            <HorizontalScrollView
            android:id="@+id/horizontal"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginLeft="2dip"
            android:layout_marginRight="2dip"
            android:layout_alignParentBottom="true"
            android:layout_toLeftOf="@+id/rightArrow"
            android:layout_toRightOf="@+id/leftArrow" >

            <LinearLayout
                android:id="@+id/linearLayout1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"

                 android:layout_gravity="bottom"
                android:gravity="center_horizontal|bottom"
                android:orientation="horizontal"
                android:layout_marginBottom="5dip"
                android:layout_alignParentBottom="true" >

                <Button
                    android:id="@+id/button1"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/selector1" />

                <Button
                    android:id="@+id/button2"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/selector2" />

                <Button
                    android:id="@+id/button3"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/selector3" />

                <Button
                    android:id="@+id/button4"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/selector4" />

                <Button
                    android:id="@+id/button5"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/selector5" />

                <Button
                    android:id="@+id/button6"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/selector6" />

                <Button
                    android:id="@+id/button7"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/selector7" />

                <Button
                    android:id="@+id/button8"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:background="@drawable/selector8" />
            </LinearLayout>
        </HorizontalScrollView>
    <ImageButton
            android:id="@+id/rightArrow"
            android:layout_width="40dip"
            android:layout_height="50dip"
            android:layout_marginBottom="5dip"
            android:layout_alignParentBottom="true"
            android:layout_alignParentRight="true"

            android:background="@drawable/fright_arrow"
            />
                    </RelativeLayout>
                </LinearLayout>

                <View
                    android:layout_width="2dp"
                    android:layout_height="fill_parent"
                    android:background="@android:color/black" />
                <LinearLayout 
                    android:layout_width="0dp"
                    android:layout_height="fill_parent"
                      android:layout_weight="3"
                      android:background="@drawable/webview_div">

                    <WebView
                    android:id="@+id/webviewFirstLinear"
                    android:layout_width="0dp"
                    android:layout_height="fill_parent"
                    android:layout_weight="3" />
                </LinearLayout>

            </LinearLayout>

        </ViewAnimator> 
```

我如何在 ViewAnimation 或 Gesture 的帮助下使用左滚动或右滚动来获得这种方法。| 有任何方法可以在使用平移、缩放、旋转等时将屏幕翻转为左侧动画和右侧动画 ![在此处输入图像描述](../Images/4a02664eefe346400867cfca43a3806d.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:12:12.510

对于 left_in.xml

```
<set xmlns:android="http://schemas.android.com/apk/res/android">
    <!-- Before rotating, immediately set the alpha to 0\. -->
    <objectAnimator
        android:valueFrom="1.0"
        android:valueTo="0.0"
        android:propertyName="alpha"
        android:duration="0" />

    <!-- Rotate. -->
    <objectAnimator
        android:valueFrom="-180"
        android:valueTo="0"
        android:propertyName="rotationY"
        android:interpolator="@android:interpolator/accelerate_decelerate"
        android:duration="@integer/card_flip_time_full" />

    <!-- Half-way through the rotation (see startOffset), set the alpha to 1\. -->
    <objectAnimator
        android:valueFrom="0.0"
        android:valueTo="1.0"
        android:propertyName="alpha"
        android:startOffset="@integer/card_flip_time_half"
        android:duration="1" />
</set> 
```

对于 left_out.xml

```
<set xmlns:android="http://schemas.android.com/apk/res/android">
    <!-- Rotate. -->
    <objectAnimator
        android:valueFrom="0"
        android:valueTo="-180"
        android:propertyName="rotationY"
        android:interpolator="@android:interpolator/accelerate_decelerate"
        android:duration="@integer/card_flip_time_full" />

    <!-- Half-way through the rotation (see startOffset), set the alpha to 0\. -->
    <objectAnimator
        android:valueFrom="1.0"
        android:valueTo="0.0"
        android:propertyName="alpha"
        android:startOffset="@integer/card_flip_time_half"
        android:duration="1" />
</set> 
```

您需要在 /res/animator 文件夹下创建两个动画 xml 文件。使用以下代码将动画应用到 View 或 Activity

```
Intent i = new Intent(first.this, second.class);    
startActivity(i);
overridePendingTransition(R.animator.push_left_in,R.animator.push_left_out); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:35:53.930

以下链接可以帮助您实现您的要求。它与您附加的屏幕截图相同（类似于主屏幕的 Google Play）。

1) [https://github.com/astuetz/ViewPagerExtensions](https://github.com/astuetz/ViewPagerExtensions)

2) [https://github.com/astuetz/android-viewpagertabs](https://github.com/astuetz/android-viewpagertabs)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:39:12.617

如果您愿意在您的项目中使用库 .. 它可能会对您有所帮助[https://github.com/JakeWharton/Android-ViewPagerIndicator](https://github.com/JakeWharton/Android-ViewPagerIndicator)

# c - 无法弄清楚我是如何遇到段错误的

> ID：15240574
> 
> 赞同：0
> 
> 时间：2013-03-06T06:34:25.503
> 
> 标签：c, struct, segmentation-fault

我应该为我的 char** 分配足够的内存。我使用gdb并找到了分段错误的点。我已经在这部分停留了大约一个小时，似乎无法弄清楚我为什么会出现段错误。

程序输出：

尺寸：10、20

开始： 1, 1

结束: 10, 20

分段错误（核心转储）

```
10 = m1.xsize
20 = m1.ysize
1 = m1.xstart
1 = m1.ystart
10 = m1.xend
20 = m1.yend 
```

我的代码片段：

```
typedef struct mazeStruct
{
    char** arr;
    int xsize, ysize;
    int xstart, ystart;
    int xend, yend;
} maze;

/* read in the size, starting and ending positions in the maze */
    fscanf (src, "%d %d", &m1.xsize, &m1.ysize);
    fscanf (src, "%d %d", &m1.xstart, &m1.ystart);
    fscanf (src, "%d %d", &m1.xend, &m1.yend);

    /* print them out to verify the input */
    printf ("size: %d, %d\n", m1.xsize, m1.ysize);
    printf ("start: %d, %d\n", m1.xstart, m1.ystart);
    printf ("end: %d, %d\n\n", m1.xend, m1.yend);

    //allocating memory for 2d char array
    m1.arr = (char**)malloc(m1.xsize+2 * sizeof(char*));

    for(i = 0; i < m1.xsize+2; i++)
        m1.arr[i] = (char*)malloc(m1.ysize+2);

    /* initialize the maze to empty */
    for (i = 0; i < m1.xsize+2; i++) <---- when i = 6 it seg faults
        for (j = 0; j < m1.ysize+2; j++)
            m1.arr[i][j] = '.'; 
```

我没有分配足够的内存还是我做错了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T06:36:31.960

你的表情：

```
m1.xsize + 2 * sizeof(char*) 
```

相当于：

```
(m1.xsize) + (2 * sizeof(char*)) 
```

由于运算符的优先级，这*不是*您想要的。您需要改为使用：

```
(m1.xsize + 2) * sizeof(char*) 
```

例如，假设您已`m1.xsize`设置为 20，并且您的指针大小为 4 个字节。因此，您需要 22 个指针的空间，即 88 个字节。该表达式`m1.xsize + 2 * sizeof(char*)`为您提供了 20 加上两倍的指针大小，总共 28 个字节，远远不足以满足您想要做的事情。

* * *

顺便说一句，您还应该停止转换返回值，`malloc()`因为它可以隐藏某些细微的错误。C 完全能够将`void*`返回的 from隐式转换`malloc()`为任何其他指针类型。

# sql - SQL Server 日期时间自定义日期

> ID：15240578
> 
> 赞同：1
> 
> 时间：2013-03-06T06:34:33.430
> 
> 标签：sql, sql-server, sql-server-2008, sql-server-2005

我正在使用 SQL Server，并且我有一个这样的过程：

```
 create proc Output1
 (
    @Date_From datetime,
    @Date_To datetime 
```

然后我会像这样执行这个过程：

```
exec Output1 '03-01-2013 06:00:00AM', '03-31-2013 06:00:00AM' 
```

那么如何指定`6:00:00AM`执行程序的时间，但我只会输入“03-01-2013”​​、“03-01-2013”​​的日期，但输出仍然是“03-01-2013 06:00”： 00AM'，'03-31-2013 06:00:00AM'？

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T06:43:06.167

在存储过程中使用它来设置时间部分：

```
declare @x datetime = '03-01-2013';
select @x = DateAdd(hh, 6, DateDiff(dd, 0, @x))
print @x 
```

更多：[DATEDIFF](http://msdn.microsoft.com/en-us/library/ms189794.aspx)和[DATEADD](http://msdn.microsoft.com/en-us/library/ms186819.aspx)

# database - SSRS - 对报告数据库的直接更改不反映报告

> ID：15240580
> 
> 赞同：1
> 
> 时间：2013-03-06T06:34:38.830
> 
> 标签：database, ssrs-2008, reporting-services, rdl

我实际上正在使用 SSRS (2008R2) 开发报告。由于某些原因，我需要/决定直接更改 .rdl (XML) 文件，以便在 tablix 中创建一组动态列。

我的修改工作正常，BIDS 在设计视图中显示了我对 .rdl 文件的所有直接更改，但当然不在`live`报告中。

我在表中的报告数据库中找到了包含 source-rdl 副本的`Catalog`字段。`Content`如果我修改存储在此字段中的内容（例如更改列标题），报表查看器中的报表仍会显示旧的列标题，而不是新的。我试图删除浏览器缓存，但这没有用。

因此，报表查看器缓存报表和/或我需要更改数据库中的任何其他字段以让报表服务器或查看器知道有更改，但无法确定是哪一个。

我希望有人能指出我正确的方向或理想的解决方案。

是的，我知道不推荐对报告数据库进行更改:-)

非常感谢！

# android - 如何在android的listview中过滤多行

> ID：15240586
> 
> 赞同：1
> 
> 时间：2013-03-06T06:34:50.720
> 
> 标签：android, android-intent

嗨，我在这里做一个应用程序，我需要在 lisview 中显示 cloumns，并且我必须为该列表视图设置搜索（过滤）操作，我尝试使用以下几乎可以正常工作的代码，在过滤功能中，如果我在编辑文本中遇到问题输入第一个字母意味着它显示在列表视图下面它显示了与字母相关的名称，但它在两列中都显示了输入该字母相关名称的内容，但我想要输入字母意味着时间我只需要过滤基于第一列的名称，如果进入 ？任何我需要根据 2 列过滤名称的字母。请任何有想法的人建议我...

```
 ListMobileActivity.class: 
    public class ListMobileActivity extends Activity {EditText edittext;
 ListView listview;
 String qustion="?";

 String[] text = { "One", "Two", "Three", "Four", "Five", "Six", "Seven",
 "Eight", "Nine", "Ten" };

 String[] text1 = { "udya", "aswini", "radha", "padma", "ram", "harish", "parasd",
         "adi", "harbinder", "pandu" };

 int textlength = 0;
 ArrayList<String> text_sort = new ArrayList<String>();
 ArrayList<String> text_sort1 = new ArrayList<String>();

 public void onCreate(Bundle savedInstanceState)
 {

 super.onCreate(savedInstanceState);
 setContentView(R.layout.main);

 edittext = (EditText) findViewById(R.id.EditText01);
 listview = (ListView) findViewById(R.id.ListView01);
 listview.setAdapter(new MyCustomAdapter(text, text1));
 edittext.addTextChangedListener(new TextWatcher()
 {

 public void afterTextChanged(Editable s)
 {

 }

 public void beforeTextChanged(CharSequence s, int start,
 int count, int after)
 {

 }

 public void onTextChanged(CharSequence s, int start,
 int before, int count)
 {

 textlength = edittext.getText().length();
 text_sort.clear();
 text_sort1.clear();

 for (int i = 0; i < text.length; i++)
 {

 if (textlength <= text[i].length())
 {

 if (edittext.getText().toString().
 equalsIgnoreCase((String) text1[i].subSequence(0, textlength)))
 {
 text_sort.add(text[i]);
 text_sort1.add(text1[i]);

 }

     if ((edittext.getText().toString()).

     equalsIgnoreCase((String) text[i].subSequence(0,textlength)))
     {
     text_sort.add(text[i]);
     text_sort1.add(text1[i]);

     } 

 }
 }

 listview.setAdapter(new MyCustomAdapter
 (text_sort, text_sort1));

 }
 });
 }

 class MyCustomAdapter extends BaseAdapter
 {

 String[] data_text;
 String[] data_text1;

 MyCustomAdapter()
 {

 }

 MyCustomAdapter(String[] text, String[] text1)
 {
 data_text = text;
 data_text1 = text1;

 }
 MyCustomAdapter(ArrayList<String> text, ArrayList<String> text1)
 {
 data_text = new String[text.size()];
 data_text1 = new String[text1.size()];

 for(int i=0;i<text.size();i++)
 {
 data_text[i] = text.get(i);
 data_text1[i] = text1.get(i);

 }

 }

 public int getCount()
 {
 return data_text.length;
 }

 public String getItem(int position)
 {
 return null;
 }

 public long getItemId(int position)
 {
 return position;
 }

 public View getView(int position, View convertView, ViewGroup parent)
 {

 LayoutInflater inflater = getLayoutInflater();
 View row;

 row = inflater.inflate(R.layout.list_item, parent, false);

 TextView textview = (TextView) row.findViewById(R.id.TextView01);
 TextView textview1 = (TextView) row.findViewById(R.id.TextView02);

 textview.setText(data_text[position]);
 textview1.setText(data_text1[position]);

 textview.setOnClickListener(new OnClickListener() {

    @Override
    public void onClick(View arg0) {
        // TODO Auto-generated method stub
        String sss=qustion.concat(edittext.getText().toString());
        Log.i("sss--------------", ""+sss);
    }
});

 return (row);

 }
 }
  } 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-06T06:37:49.663

试试这个例子

[Android中的Listview名称搜索](http://rakhi577.wordpress.com/2012/06/26/buttons-on-list-view-with-easy-searching-in-android/)

在这里，您只需输入编辑文本即可搜索列表项名称

# yii-extensions - Yii Index View 数据渲染有条件

> ID：15240588
> 
> 赞同：0
> 
> 时间：2013-03-06T06:34:56.597
> 
> 标签：yii-extensions, yii

我是 yii 框架的新手，我创建了一个带有一个模块的 yii Web 应用程序。现在我的问题是我在我的模块中的模块中添加了一个示例数据我有一个列名称，部门和活动，我想在网格视图中呈现数据只有活动= 0的数据，谁能帮助我如何更改数据渲染查询以及如何添加条件

```
<div class="block">
<div class="content">
    <h2 class="title">Users's details</h2>
    <div class="inner">
        <?php $this->widget('zii.widgets.CDetailView', array(
            'data' => $model,
            'attributes' => array(
                'user_id',
                'user_name',
                'userpass',
                'userdept',
                'active',
            ),
            'itemTemplate' => "<tr class=\"{class}\"><td style=\"width: 120px\"><b>{label}</b></td><td>{value}</td></tr>\n",
            'htmlOptions' => array(
                'class' => 'table',
            ),
        )); ?>
    </div>
</div> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:32:22.887

尝试添加条件

```
$criteria->compare('active', '1'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:41:28.630

您必须在搜索功能中添加它：

```
$criteria->compare('active', '1'); 
```

# conditional - verilog 模块的条件实例化

> ID：15240591
> 
> 赞同：13
> 
> 时间：2013-03-06T06:35:00.007
> 
> 标签：conditional, instantiation, verilog, hdl

是否可以在 verliog 有条件地实例化模块？

例子 ：

```
if (en==1)  
  then module1 instantiation  
else  
  module2 instantiation 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-03-07T06:41:07.623

来自 IEEE 标准 1364-2001：

> 12.1.3.3 generate-conditional generate-conditional 是一个 if-else-if 生成结构，它允许模块、用户定义的原语、Verilog 门原语、连续赋值、初始块和总是块根据表达式有条件地实例化到另一个模块中这在设计详细说明时是确定的。

LRM 中给出的示例：

```
module multiplier(a,b,product);
parameter a_width = 8, b_width = 8;
localparam product_width = a_width+b_width; // can not be modified
// directly with the defparam statement
// or the module instance statement #
input [a_width-1:0] a;
input [b_width-1:0] b;
output [product_width-1:0] product;

generate
    if((a_width < 8) || (b_width < 8))
        CLA_multiplier #(a_width,b_width) u1(a, b, product);
        // instantiate a CLA multiplier
    else
        WALLACE_multiplier #(a_width,b_width) u1(a, b, product);
        // instantiate a Wallace-tree multiplier
endgenerate
// The generated instance name is u1

endmodule 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T06:47:01.963

您可以使用编译器指令，例如

```
`define FOO
`ifdef FOO
    module1 ...
`else
    module2 ...
`endif 
```

在编译时选择实例化。

如果您在询问是否可以基于线值实例化模块，不，您不能这样做。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-06T08:44:46.250

您不能在运行时执行此操作，因为您正在描述无法动态更改的硬件。您可以启用或禁用某项功能以节省电量，但​​不能使其停止存在。假设您希望提高块的重用或配置能力：

预编译器技术通常与 Tim 提到的 ``defines`（tick 定义）一样使用。

它们将由解析模板文件的 Perl、ruby 等脚本组成。

[我以前使用 ruby​​ 脚本和模板的答案](https://stackoverflow.com/a/12532997/97073)。

# r - S3 类的默认元素

> ID：15240594
> 
> 赞同：3
> 
> 时间：2013-03-06T06:35:05.500
> 
> 标签：r, r-s3

我想知道 R 中的 S3 类，是否可以选择定义默认输出元素并保持其余元素隐藏。例如，假设我们有一个玩具函数，它计算某些事物并将它们作为 S3 类报告回来，如下所示：

```
toy <- function(x){
  resA <- mean(x)
  resB <- length(x)

  output <- list(resA=resA, resB=resB, x=x)
  class(output) <- "toy"
  output
} 
```

当我们现在通过

```
res <- toy(c(1:10))
res 
```

正如预期的那样，我们将整个列表作为输出。但是如果我们也定义了一个 S3 打印方法

```
`print.toy` <- function(x){
  print(x$resA)
} 
```

我们可以为 print 提供一个标准输出，它隐藏了不必要的信息（在这种情况下`resB`和`x`）并且用户只能看到`resA`。但这可能会导致一些混乱，当你想对你的对象应用进一步的计算时`toy`，例如

```
res <- toy(c(1:10))
res 
# Produces an error
res + 1 
# Accesses the correct variable of class toy:
res$resA + 1 
```

我现在的问题是，有没有办法将列表项定义`resA`为 S3 类的标准值，如果未指定变量，则应采用该标准值，以便`res + 1`调用也能正常工作？

感谢您阅读本文。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T14:32:53.187

一种方法是使用向量+属性而不是列表。如果您有一个应该像常规向量一样工作的主要数据，以及一些额外的元数据，这是最合适的。

```
toy <- function(x) {
  resA <- mean(x)
  resB <- length(x)

  structure(resA, x = x, b = resB, class = "toy")
}
print.toy <- function(x, ...) {
  print(as.vector(x))
}
t <- toy(1:10)
t + 1
# [1] 6.5 
```

您还需要覆盖`[`，因为默认方法不保留属性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T07:22:59.317

正如@Ari 提到的，您可能必须执行以下操作：

```
`+.toy` <- function(a, b) { 
     # you should check for class/mode/is.atomic here if necessary
     a$resA <- a$resA + b
     a
}

t <- toy(1:10)
t + 1
# [1] 6.5 
```

# sql - SQL 创建表 [默认]

> ID：15240595
> 
> 赞同：0
> 
> 时间：2013-03-06T06:35:10.293
> 
> 标签：sql, sql-server, sql-server-2000

我可以指定 DEFAULT 来获取列的确切值吗？

我正在创建一个`Serial`带有范围的表格，有些有`From`，`To`有些只是单数。

因此我有两列：`[Serial_Fr]`&`[Serial_To]`

如果我只插入`Serial_Fr`，我想填充`Serial_To = Serial_Fr`.

我怎么做？或者我应该使用触发器并设置默认 = ''，这样做我认为当我拥有数百万个连续剧时会造成压力。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:13:25.190

创建一个视图

```
CREATE VIEW MyView AS
SELECT 
  Serial_Fr,
  Serial_To =  COALESCE(Serial_To,Serial_Fr)
FROM MyTable 
```

或者这可以在`Stored Procedure`

但是将一些条目留在`Serial_To`as 有什么问题`NULL`？

* * *

**编辑**

`ISNULL`is `T-sql`:`COALESCE`是 92 标准的 sql。有一个很好的讨论这些功能之间的细微差别在[这里](https://stackoverflow.com/questions/7408893/isnull-vs-coalesce)

Martin Smith 还提到了一篇文章，其中有一个有趣的例子，说明了不同之处：

```
DECLARE @test VARCHAR(2)
DECLARE @first VARCHAR(4)
DECLARE @second VARCHAR(4)

SELECT @first = ISNULL(@test, 'test')
SELECT @second = COALESCE(@test, 'test')

PRINT @first
PRINT @second 
```

# php - 是否可以将 if Condition 添加到 mysql 插入查询"

> ID：15240596
> 
> 赞同：0
> 
> 时间：2013-03-06T06:35:13.007
> 
> 标签：php, sql, insert

我使用将数据从数组中的循环插入数据库的代码。

```
foreach ($sumdrinks1 as $key => $value)    // insert each part of array into DB
{
mysql_query("INSERT INTO table (liq_sum, liq_name, bartender)
VALUES ('$value','$key','$id'))";
} 
```

因为我不需要 $value = 0 的结果，所以我运行另一个查询从数据库中删除它们

```
mysql_query("DELETE FROM table WHERE liq_sum = 0"); 
```

有没有办法在插入查询中添加 if Condition 而不是插入它们并删除它们？我尝试了一些想法，例如：

```
 ("INSERT INTO table (liq_sum, liq_name, bartender) 
 VALUES ('$value','$key','$id') where '$value' > 0)"; 
```

没用:(

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T06:37:33.317

你可以在php中做到这一点

```
 foreach ($sumdrinks1 as $key => $value)    // insert each part of array into DB
    {
     if($value>0)
     mysql_query("INSERT INTO table (liq_sum, liq_name, bartender) VALUES     ('$value','$key','$id')");
    } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T06:37:34.837

`if`使用语句检查值：

```
foreach ($sumdrinks1 as $key => $value)  
{
   if ($value > 0) {
      ... // do insert
   }
} 
```

**请注意：** `mysql_`不推荐使用扩展，并且这种方式的代码容易受到[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)的影响，请改用[PDO](http://php.net/manual/en/book.pdo.php)或准备好的语句。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:38:40.243

您可以在 php 代码本身中检查此条件。

```
foreach ($sumdrinks1 as $key => $value)    // insert each part of array into DB

{
    if($value > 0) {
         mysql_query("INSERT INTO table (liq_sum, liq_name, bartender) VALUES ('$value','$key','$id'))";

    }

} 
```

# visual-studio-2012 - 在旧项目中使用 Script#

> ID：15240598
> 
> 赞同：1
> 
> 时间：2013-03-06T06:35:30.840
> 
> 标签：visual-studio-2012, script#

我有一个使用 Script# 的旧项目（由其他人编写）。我以前从未使用过这个工具，所以这个问题对某些人来说可能看起来很初级。无论如何，我试图打开解决方案，但由于这一行，一些项目无法加载：

```
<Import Project="$(ProgramFiles)\ScriptSharp\v1.0\ScriptSharp.targets" /> 
```

我已经按照[此处](https://github.com/nikhilk/scriptsharp/wiki/Building,-Installing-and-Testing)所述安装了 Script#，但它仍然没有创建该文件夹。

那么，我怎样才能解决这个问题，以便我可以打开/构建项目？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:39:49.873

将旧`<Import/>`语句更改为

`<Import Project="..\packages\ScriptSharp.0.8\tools\ScriptSharp.targets" />`

并使用 Nuget 添加 scriptsharp。

# jquery - 限制此自定义导航的水平滚动

> ID：15240601
> 
> 赞同：1
> 
> 时间：2013-03-06T06:35:44.833
> 
> 标签：jquery, css

我使用具有左右按钮的 jquery 创建了一个水平滚动条。

```
<div id="container">
<ol>
    <li class="a"></li>
    <li class="b"></li>
    <li class="c"></li>
    <li class="d"></li>
    <li class="e"></li>
</ol>
</div>

<button id="left">left</button>
<button id="right">right</button> 
```

容器具有相对定位的隐藏溢出，使用以下jquery将内容向左或向右移入或移出视图：

```
$('#left').on('click',function(){
    $('ol').css('left','-=100px');
});

$('#right').on('click',function(){
    $('ol').css('left','+=100px');
}); 
```

问题是这些功能是无限的，你可以一直点击，它们会越来越远离屏幕。我想限制这一点，以便一旦没有更多对象可供查看，该函数就会执行其他操作。

我想有很多方法可以做到这一点，但我认为没有一种方法看起来那么优雅。例如，计算容器的大小，以及内部项目的总宽度，并记录每个按钮被按下的次数，并在每次按下按钮时做一些恒定的数学运算。

[如果我没有很好地解释它，我已经做了一个 JS 小提琴。](http://jsfiddle.net/kqhNr/3/)

理想情况下，在该示例中，您永远不会看到粉红色的块。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:11:37.710

您只需要 if 语句：

```
$('#left').on('click',function(){
    if ($('ol').css('left') != '0px') {
         $('ol').css('left','-=100px');
    }
});

$('#right').on('click',function(){
    if ($('ol').css('left') != '300px') {
        console.log($('ol').css('left'));
         $('ol').css('left','+=100px');
    }
}); 
```

[http://jsfiddle.net/kqhNr/4/](http://jsfiddle.net/kqhNr/4/)

# sql-server - 找出表中从未使用过的列

> ID：15240603
> 
> 赞同：2
> 
> 时间：2013-03-06T06:35:56.170
> 
> 标签：sql-server, tsql

我不希望有代码的答案，而是一种策略。我不得不处理一个包含大量无用信息的数据库，这些信息甚至从未被访问过。我什至会猜测信噪比有利于噪声。我正在寻找一些统计/分析工具来帮助找出哪些表中的哪些列从未被访问过。

不幸的是，大多数时候它是不使用的列（而不是表）。所以我需要把它分解到这个级别。如果这很重要，我正在使用 SQL Server 2008。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T13:52:39.060

检查这一点的唯一方法是访问所有正在访问数据库的应用程序代码，并查看该代码在应用程序中的使用方式。如果您没有像 select * from table 这样的查询，那么您的工作会很轻松。

**检查应用程序代码：**没有什么比手动检查更准确的概述了，但这可能需要很长时间。如果您的数据库访问代码存储在一组类中，并且类与数据库表强耦合，那么您可以为每个数据库列“查找所有引用”。

**触发器：**在所有可疑表上设置插入、更新、删除触发器，然后将所有更新的列存储在单独的表中。这将为您提供最常用于更新的列的详细信息 - 因此其他列将成为删除的嫌疑人。

**分析：**为可疑表设置分析，运行一段时间并分析日志。

**3rd 方工具：**使用这些工具查找数据库中任何其他对象未引用的所有对象。可能有助于识别可疑表/列。尝试[SQL 依赖跟踪器](http://www.red-gate.com/products/sql-development/sql-dependency-tracker/) 或[ApexSQL Clean](http://www.apexsql.com/sql_tools_clean.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:05:25.463

您可以使用`audit`：

```
use master
GO

create server audit MyAudit
    to file (filepath = 'C:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\DATA')
GO

alter server audit MyAudit
    with (state = on);
GO

use [<YourDatabase]
GO

create database audit specification MyDatabaseAudit
for server audit MyAudit
add (
    select on [<YouSchema>].[YourTable] by dbo
)
with (state = on)
GO

select [<YourColumn>] from [<YouSchema>].[YourTable]
GO

use master
GO

alter server audit MyAudit
    with (state = off);
GO

select * from sys.fn_get_audit_file ('C:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\DATA\MyAudit*',default,default);
GO 
```

好的，所以这不会让您像列一样细化，但是因为它捕获每个 select 语句，您应该能够从它提供的数据中获取此信息。

显然，上面给出的文件路径仅用于示例目的。

另一种方法是`SQL Profiler`跟踪，但是，这也不允许您到达列的级别，而只是捕获正在运行的选择语句。这样做的缺点是您需要正确过滤它以获得您想要的信息，这可能很麻烦。此外，可能会有更高的开销。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-02-05T16:56:27.930

如果您很幸运并且所有数据都通过 SP 访问并且没有 *，那么您可以尝试使用 information_schema.columns 表。类似“选择不同”的东西

```
select p.[type]
      ,p.[name]
      ,c.[definition]
  from sys.objects p
  join sys.sql_modules c
    on p.object_id = c.object_id
 where p.[type] = ''P''
   and c.[definition] like %'+COLUMN_NAME+'%' FROM INFORMATION_SCHEMA.COLUMNS 
```

`

需要调整此查询以执行生成的 SQL 语句。

# php - Mysql没有使用以下代码更新不知道为什么

> ID：15240605
> 
> 赞同：-3
> 
> 时间：2013-03-06T06:36:01.930
> 
> 标签：php, mysql

> 为什么它不起作用

```
 $sql="UPDATE studentrecord
    SET (fnam, lnam, rollno,stats)  =  ('$_POST[fname]','$_POST[lname]','$_POST[rollno]','$_POST[stats]')
 WHERE rollno = '$_POST[rollno]'"; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T06:38:02.773

查询应该是

```
$sql="UPDATE studentrecord
SET fnam = '$_POST[fname]', lnam = '$_POST[lname]', rollno = '$_POST[rollno]',stats  = '$_POST[stats]'
WHERE rollno = '$_POST[rollno]'"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:38:55.777

错误的查询，将其更改为：-

```
 $sql="UPDATE studentrecord
SET fnam = '$_POST[fname]', lnam = '$_POST[lname]', rollno = '$_POST[rollno]',stats =  '$_POST[stats]'
 WHERE rollno = '$_POST[rollno]'"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:39:53.660

正确的SQL如下：

```
$sql = "
  UPDATE studentrecord
  SET fnam='$_POST[fname]', lnam='$_POST[lname]', states='$_POST[stats]'
  WHERE rollno = '$_POST[rollno]'
"; 
```

我也删除`SET rollno='$_POST[rollno]'`了，因为该变量没有改变，这不是必需的。

请参阅文档以了解 UPDATE 与 INSERT 有何不同：http: [//dev.mysql.com/doc/refman/5.5/en/update.html](http://dev.mysql.com/doc/refman/5.5/en/update.html)

# ruby - Savon 2.1.0 上带有自定义标头的哈希未定义条带

> ID：15240611
> 
> 赞同：1
> 
> 时间：2013-03-06T06:36:12.260
> 
> 标签：ruby, savon

尝试使用 Savon 2.1.0 为身份验证构建自定义标头时出现异常，这是重现该问题的示例代码，我将不胜感激有关此主题的任何帮助。

```
require 'open-uri'
require 'savon'

headers = {
  'IvansWSAuthentication' => {
    'User' => 'my_user',
    'Password' => 'my_pass',
    'ClientId' => 'my_client_id'
  }
}

x12 = 'test'

client = Savon.client(
  wsdl: 'https://limeservices.ivans.com/EligibilityOne.asmx?WSDL',
  headers: headers
)

request_params = {
  form270: x12
}

response = client.call(:send_commercial_eligibility_form_request, message: request_params) 
```

* * *

这是一个例外：

```
1.9.3-p392 :023 >   response = client.call(:send_commercial_eligibility_form_request, message: request_params)
D, [2013-03-05T23:02:30.647097 #11590] DEBUG -- : HTTPI GET request to limeservices.ivans.com (net_http)
I, [2013-03-05T23:02:31.600016 #11590]  INFO -- : SOAP request: https://limeservices.ivans.com/EligibilityOne.asmx
I, [2013-03-05T23:02:31.600157 #11590]  INFO -- : IvansWSAuthentication: {"User"=>"my_user", "Password"=>"my_pass", "ClientId"=>"my_client_id"}, SOAPAction: "http://tempuri.org/SendCommercialEligibilityFormRequest", Content-Type: text/xml;charset=UTF-8, Content-Length: 389
D, [2013-03-05T23:02:31.600206 #11590] DEBUG -- : <?xml version="1.0" encoding="UTF-8"?><env:Envelope xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tns="http://tempuri.org/" xmlns:env="http://schemas.xmlsoap.org/soap/envelope/"><env:Body><tns:SendCommercialEligibilityFormRequest><tns:form270>test</tns:form270></tns:SendCommercialEligibilityFormRequest></env:Body></env:Envelope>
D, [2013-03-05T23:02:31.600474 #11590] DEBUG -- : HTTPI POST request to limeservices.ivans.com (net_http)
NoMethodError: undefined method `strip' for #<Hash:0x007fb044365a50>
    from /Users/rorra/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/net/http.rb:1435:in `block in initialize_http_header'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/rack-1.5.2/lib/rack/utils.rb:451:in `block in each'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/rack-1.5.2/lib/rack/utils.rb:450:in `each'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/rack-1.5.2/lib/rack/utils.rb:450:in `each'
    from /Users/rorra/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/net/http.rb:1433:in `initialize_http_header'
    from /Users/rorra/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/net/http.rb:1862:in `initialize'
    from /Users/rorra/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/net/http.rb:2093:in `initialize'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/httpi-2.0.2/lib/httpi/adapter/net_http.rb:87:in `new'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/httpi-2.0.2/lib/httpi/adapter/net_http.rb:87:in `request_client'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/httpi-2.0.2/lib/httpi/adapter/net_http.rb:55:in `block in do_request'
    from /Users/rorra/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/net/http.rb:745:in `start'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/httpi-2.0.2/lib/httpi/adapter/net_http.rb:54:in `do_request'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/httpi-2.0.2/lib/httpi/adapter/net_http.rb:31:in `request'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/httpi-2.0.2/lib/httpi.rb:137:in `request'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/httpi-2.0.2/lib/httpi.rb:109:in `post'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/savon-2.1.0/lib/savon/operation.rb:59:in `call!'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/savon-2.1.0/lib/savon/operation.rb:48:in `call'
    from /Users/rorra/.rvm/gems/ruby-1.9.3-p392/gems/savon-2.1.0/lib/savon/client.rb:38:in `call'
    from (irb):23
    from /Users/rorra/.rvm/rubies/ruby-1.9.3-p392/bin/irb:16:in `<main>'1.9.3-p392 :024 > 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:21:10.740

好的，问题是通过在 Savon 2.1.0 上设置参数“headers”，我正在做的是设置 HTTP 请求的标头，并且 HTTP 请求参数应该是一个键：String，因为 ruby​​ HTTP 库对包含在 Header 中的每个哈希值调用**strip ，它会引发异常。**

我最初的想法是为身份验证设置自定义soap标头，所以我所要做的就是：

```
client = Savon.client(
  wsdl: 'https://limeservices.ivans.com/EligibilityOne.asmx?WSDL',
  soap_header: headers
) 
```

# android - 谷歌地图 v2 还是 v3？

> ID：15240619
> 
> 赞同：7
> 
> 时间：2013-03-06T06:36:58.157
> 
> 标签：android, api, google-maps

我使用谷歌地图启动了一个应用程序。我知道 api v1 已被弃用。所以我使用了 api v2。它可以从 android 版本 12 或更高版本运行。很好。但一段时间后，我在某些站点中阅读了 api v2 也已弃用并且 v3 存在。但是当我看到 v3 时，它与 html 5 和 java 脚本有关。所以任何人都可以澄清我可以使用v2开发还是我必须使用v3。提前致谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-06T06:44:04.080

嘿，对于 Android，Google maps API V2 用于网站，V3 用于网站，它也可用于 HTML5，因此您可以将 maps API V2 用于您的 android 应用程序。检查此**[链接](https://developers.google.com/maps/documentation/android/)**以获取更多信息。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-06T06:39:29.117

第 3 版适用于网站。安卓的最新版本是V2。

[https://developers.google.com/maps/documentation/android/](https://developers.google.com/maps/documentation/android/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-06T10:07:46.013

![这就是谷歌对 GMapv3 的评价](../Images/95e1f70be76a61250e5bfdbbf31cfe0a.png)

这是来自谷歌开发者页面的屏幕截图......谷歌表示 API v3 在移动设备上加载速度更快......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-03T07:32:12.120

*   谷歌地图 v3 旨在快速直接从地图服务器加载。因此它在地图中提供最新更新，而无需更新您的应用程序。Google 地图 v3 显示和控制基于 html 和 javascript。它有一个特定的 javascript api。
*   在android中，Map v3可以使用webview和javascript接口来实现。
*   [这](http://javazerosign.blogspot.in/2013/11/google-map-v3-for-android-devices.html)是 android 中 google map v3 的博客文章。

# java - 在 java smslib 中访问和更改用户数据头

> ID：15240620
> 
> 赞同：0
> 
> 时间：2013-03-06T06:37:00.793
> 
> 标签：java, header, sms, smslib

我使用 java smslib api 使用 gsm 调制解调器将短信从 pc 发送到移动设备。我想知道是否可以使用它通过短信发送图像和简短的音频剪辑。我听说通过更改消息的用户数据头，可以做到这一点。

我走在正确的轨道上吗？如果是的话，我该如何进行，因为我是java编程新手。

我浏览了许多指定用户数据标题的链接。但我还没有遇到过如何访问这个标题。

任何形式的帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:14:33.837

您需要发送彩信。smslib.org 明确表示它不支持彩信。

彩信与普通短信不同——它通过 HTTP/WAP 连接发送。因此，您不能只操纵 SMS 标头并获取 MMS。

你可以看看 JSR 205，它支持 MMS。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-30T23:02:07.143

newbee，太小的图片和音频，曾经通过短信发送的可以发送；它们被编码为 UDH 的单独 InformationElement，请参阅

[http://en.wikipedia.org/wiki/User_Data_Header](http://en.wikipedia.org/wiki/User_Data_Header)

Smslib 允许对 UDH 进行编码，但我认为您应该检查 smslib 的完整源代码并深入了解其中的 UDH 形成位置。至少连接的短信是通过使用 UDH IEI 的操作与 smslib 一起发送的。

# c++ - 是否有一些工具可以删除 MFC 项目中的冗余资源？

> ID：15240624
> 
> 赞同：1
> 
> 时间：2013-03-06T06:37:20.520
> 
> 标签：c++, visual-studio-2010, mfc

有时，我会添加一些资源（png、string、bmp）来使用。但由于某些原因，这些资源可能会变得多余。项目这么大，很多人参与开发。所以，有很多多余的资源。

现在，我们需要将资源中的语言翻译成其他语言。因此，我们必须删除所有冗余资源以提高效率。

此外，必须删除所有不必要的 png、bmp 和其他资源，以使最终的 setup.exe 更小。

**Visual Studio的资源符号编辑器很难用，我可以一次性删除一个项目。我需要找到另一个工具。**

我想知道是否有一些现有的工具可以帮助我做到这一点。任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:13:49.470

.RC ​​文件只是一个文本文件。下载[Notepad++](http://notepad-plus-plus.org/)并直接在其中编辑资源。它更快，您可以进行全局搜索和替换。

# solr - Solr 4 为查询返回 0 个结果，但为 "*:*" 查询返回结果

> ID：15240625
> 
> 赞同：0
> 
> 时间：2013-03-06T06:37:25.413
> 
> 标签：solr

我刚刚从 solr3 升级到 solr4，在此过程中我删除了旧数据并重新导入了我的文档。

然而，奇怪的是，当我运行 /select?q=* 查询时，我得到的结果按预期返回，但是当我从上面的查询结果中挑选一个词并运行它时，我得到 0 个结果。除 * 以外的任何查询都返回 0 个结果。

我很困惑，正在寻找解决问题的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:17:21.407

看来您可能依赖于 Solr 3.6 已弃用的默认搜索字段。
检查[SOLR-2724 - 弃用 schema.xml 中定义的 defaultSearchField 和 defaultOperator](https://issues.apache.org/jira/browse/SOLR-2724)。

您可以`qf`在请求处理程序中添加要搜索的字段的参数。

将`df`参数添加到您的查询请求处理程序。它命名默认字段。
您还可以将`qf`与 edismax 查询解析器一起使用。

# wordpress - 我的 woocommerce USPS 设置有问题

> ID：15240632
> 
> 赞同：1
> 
> 时间：2013-03-06T06:37:48.603
> 
> 标签：wordpress, woocommerce

我试图在 wordpress woocommerce 插件中修复 usps。我购物时出错“（对不起，您所在的州似乎没有可用的运输方式。如果您需要帮助或希望做出其他安排，请与我们联系。）”

谁能告诉我我的设置有什么问题。

我的网站是 linejunk.com

# c# - 将数据网格视图中的一列导出到记事本（.txt）

> ID：15240637
> 
> 赞同：-1
> 
> 时间：2013-03-06T06:38:07.450
> 
> 标签：c#, asp.net, export

我的“下载按钮”上有这段代码。是的，它下载到记事本，但我想要的是当用户单击“下载按钮”时，将出现一个 SAVE-AS 文件对话框，可以保存和重命名文件。请帮助！

```
 protected void btn_export_Click(object sender, EventArgs e)
    {
       TextWriter sw = new StreamWriter(@"C:\SumTotal\file11.txt");

        int rowcount = GridView1.Rows.Count;
        for (int i = 0; i < rowcount - 1; i++)
        {
            sw.WriteLine(GridView1.Rows[i].Cells[28].Text.ToString() + "\t");
        }
        sw.Close();     //Don't Forget Close the TextWriter Object(sw)
        Response.Write("Data Successfully Exported");
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:27:16.033

您不能让浏览器显示它未设置的文件对话框。您可以做的是添加一个文本框，用户可以在其中输入他们想要的文件名。进行另存为对话的唯一方法是使用 Flash 或 SilverLight。或者，如果您有勇气的话，可以使用 java 小程序。

# git - 合并 redis 的存储库以在 Openshift 上工作

> ID：15240639
> 
> 赞同：0
> 
> 时间：2013-03-06T06:38:25.627
> 
> 标签：git, merge, redis, openshift

我试图通过遵循这个 git repos 自述文件（[https://github.com/EddyRespondek/redis-standalone-openshift-example/blob/master/README.md](https://github.com/EddyRespondek/redis-standalone-openshift-example/blob/master/README.md)）让 redis 在 OpenShift 上工作

问题是我一直在使用最后一个命令出错，如下所示

> git pull -s recursive -X myAppGitRepoSSHString 上游 master 来自 git://github.com/EddyRespondek/redis-standalone-openshift-example
> 
> * 分支主 -> FETCH_HEAD 致命：合并递归的未知选项：-XmyAppRepoSSHString

如果我耐心地尝试

> git pull -s recursive -X 耐心 myAppGitRepoSSHString 上游主
> 
> 致命：在上游找不到远程参考
> 
> 致命：远端意外挂断

我将 myAppGitRepoSSHString 替换为当我将其放入终端时 openshift 提供给我的 SSH 字符串/密钥。我不熟悉 git cli，因为我应该如此，所以任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:41:01.300

传递给`-X`选项的参数应该`theirs`根据该页面。您必须将该存储库添加为远程，例如命名`upstream`：

```
git remote add upstream -m master git://github.com/EddyRespondek/redis-standalone-openshift-example.git 
```

现在您可以运行另一个命令：

```
git pull -s recursive -X theirs upstream master 
```

就像它看起来一样。

# jquery - 如何在 jqGrid 中为特定列添加工具栏搜索？

> ID：15240643
> 
> 赞同：0
> 
> 时间：2013-03-06T06:38:38.370
> 
> 标签：jquery, jqgrid

我在 jqGrid 中有三列，我想在前两个而不是第三个上添加工具栏搜索。这是我的工具栏搜索代码：

```
jQuery("#toolbar").jqGrid('filterToolbar',{stringResult: true,searchOnEnter : false}); 
```

哦，我得到了解决方案：只需将其应用于第三列**搜索：false**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:48:21.820

我得到了解决方案：只需将此应用于第三列**搜索：false**

```
colModel:[          
                    {name:'exGroupName',index:'exGroupName', width:150},
                    {name:'exerName',index:'exerName', width:100},
                    {name:'view',index: 'view', search:false, label: 'view',width:100},
                ], 
```

# c# - 对象引用未设置为标签对象的实例

> ID：15240646
> 
> 赞同：-1
> 
> 时间：2013-03-06T06:38:44.950
> 
> 标签：c#, gridview, nullreferenceexception

我正在尝试设置驻留在事件中的标签文本`gridview`。`RowDataBound`相同的`gridview`代码如下：

```
protected void GridView2_RowDataBound(object sender, GridViewRowEventArgs e)
{
    if (e.Row.RowType == DataControlRowType.DataRow)
    {
        int day = Convert.ToInt32(DropDownList3.SelectedValue);
        int days = System.DateTime.DaysInMonth(2013,day);
        Label lab = (Label)e.Row.FindControl("d");
        lab.Text = days.ToString();
    }
} 
```

网格视图结构：

```
<asp:GridView ID="GridView2" runat="server" OnRowDataBound="GridView2_RowDataBound" />
                <asp:BoundField DataField="name" HeaderText="Name" SortExpression="n" />
                <asp:BoundField DataField="dept" HeaderText="Department" SortExpression="d" />
                <asp:BoundField DataField="code" HeaderText="Employee Code" SortExpression="c" />
                <asp:TemplateField HeaderText="Total days" >
                <itemtemplate>
                    <asp:Label ID="d" runat="server" Text="" />
                </itemtemplate>
                </asp:TemplateField>
                </asp:GridView> 
```

在上面的代码中，'d'是gridview中标签的id。在突出显示的行上，我收到错误，`OBJECT REFERENCE NOT SET TO INSTANCE OF AN OBJECT.`据我所知，没有创建新标签。然后如何分配在此事件中计算的值到gridview的标签？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:11:52.293

```
 <asp:GridView ID="GridView1" runat="server" OnRowDataBound="GridView2_RowDataBound">
        <Columns>
            <asp:BoundField DataField="Name" HeaderText="Name" SortExpression="n" />
            <asp:BoundField DataField="ID" HeaderText="Department" />
            <asp:BoundField DataField="Seats" HeaderText="Employee Code" />
            <asp:TemplateField HeaderText="Total days">
                <ItemTemplate>
                    <asp:Label ID="d" runat="server" Text=""></asp:Label>
                </ItemTemplate>
            </asp:TemplateField>
        </Columns>
    </asp:GridView> 
```

您的列标签在哪里，放入列标签并尝试

# algorithm - 复制带有下一个和随机指针的链表，仅在列表上给出读取权限

> ID：15240648
> 
> 赞同：6
> 
> 时间：2013-03-06T06:38:51.657
> 
> 标签：algorithm, list, data-structures

我需要复制带有下一个和随机指针的链表。下​​一个指针通常指向链表中的下一个元素，随机指针可能指向任何其他节点，甚至指向自身。如果我在任何时候都不允许修改给定的列表，怎么办？列表上只有读取权限。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-09-08T14:06:15.773

优雅的解决方案（线性时间，恒定空间）：

创建节点 1、2、3...n 的副本并将它们插入到 1 和 2、2 和 3 之间，依此类推，暂时忽略该`random`字段。所以列表中总共有 2n 个节点。

现在`random`通过以下方式一次性设置新节点中的字段值：

```
original.next.random = original.random.next 
```

这是可行的，因为 LHS 是`random`新创建节点中的字段，而 RHS 是指向任意节点副本的指针，这正是我们想要的。

现在一次性恢复原始链表，并返回新链表。

```
original.next = original.next.next;
copy.next = copy.next.next; 
```

解决方案取自[这里。](http://www.careercup.com/question?id=14417753)

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-06T06:59:37.600

最简单的解决方案是这样的......

您遍历原始链表并创建另一个链表，其节点与原始链表中的相同，具有适当的`next`指针，指向新链表的相应节点。您暂时保持`random`指针不变。

当您遍历列表时，您还将旧列表的节点地址/指针和新列表的节点地址/指针放在`associative array`（AKA 映射、哈希表等）上，其中旧列表的节点地址/指针`key`是列表的节点地址/指针是`value`.

然后遍历新列表，并将`random`每个节点中的指针替换为与指针相等`value`的关联数组中的指针。`key``random`

哈希表可以用作关联数组，以实现与原始列表中元素数量成正比的时间和内存成本。

该解决方案的时间和空间复杂度均为 O(n)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T20:46:22.923

```
struct node * copy(struct node * head) 
{
   struct node *dummy;
   struct node *dummy1=dummy;
   struct node *head1=head;

   struct node *map[1000000];
   while(head) {
      dummy->next=new struct node;
      map[head]=dummy->next;
      dummy->next->data=head->data;
      dummy=dummy->next;
      head=head->next
   }
   dummy=dummy1;
   head=head1;
   while(head){
      dummy->next->arb=map[head->arb];
      dummy=dummy->next;
      head=head->next;
   }
   return dummy1->next;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-08-30T15:20:51.610

```
#include<stdlib.h>
#include<stdio.h>

typedef struct node_s{
int data;
struct node_s *next;
struct node_s *arbit;
} Node_s;

void free_list(Node_s * head){
if(!head) return;
Node_s * temp = head;
Node_s * next = head;
while(temp){
    next = temp->next;
    free(temp);
    temp = next;
}
}
void push_1(Node_s **head, int value){
if(*head == NULL){
    (*head) = (Node_s *)malloc(sizeof(Node_s));
    (*head)->data = value;
    (*head)->next = NULL;
}
else{
    Node_s * temp = (Node_s *)malloc(sizeof(Node_s));
    if(temp){
        temp->data = value;
        temp->next = (*head);
        *head = temp;
    }
}
}
void add_arbit(Node_s *L1, int a, int b){
 Node_s * first = L1;
 Node_s * second = L1;

 while(first){
     if(first->data == a)
         break;
     first = first->next;
 }
 while(second){
    if(second->data == b)
        break;
    second = second->next;
}
if(first)
    first->arbit = second;
}
Node_s * create_node(int val){

Node_s * temp =  (Node_s *)malloc(sizeof(Node_s));
if(temp){
    temp->data = val;
    temp->next = NULL;
}
return temp;
}

Node_s * clone(Node_s * node){

if(!node) return NULL;
Node_s * current = node;

//First insert clone nodes in original linked list.     
while(current){
    Node_s * current_next = current->next;
    current->next  =  create_node(current->data);
    current->next->next = current_next;
    current = current_next;
}
current = node;

//Now copy arbit pointer of each node to cloned list
Node_s * clone_head  = current->next;
while(current){
    Node_s * clone = current->next;
    if(current->arbit){
        clone->arbit    = current->arbit->next;
    }
    current = clone->next;
}

current = node;

//Segregate two linked list
while(current){
    Node_s * clone  = current->next;
    current->next = clone->next;
    if(clone->next){
        clone->next = clone->next->next;
    }
    current = current->next;
}
//return head pointer to the calling function
return clone_head;
}

int main(){
Node_s * L1 = NULL;
push_1(&L1,1);
push_1(&L1,2);
push_1(&L1,3);
push_1(&L1,4);
push_1(&L1,5);
push_1(&L1,6);

add_arbit(L1,1,6);
add_arbit(L1,2,5);
add_arbit(L1,3,1);
add_arbit(L1,4,2);
add_arbit(L1,5,4);
add_arbit(L1,6,3);

print_list_1(L1);

Node_s *clone_head  = clone(L1);
free_list(L1);
print_list_1(clone_head);

return 0;    
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-03T23:20:48.567

这是递归解决方案（在java中）：

```
public class Solution {  

    public HashMap<RandomListNode, RandomListNode> createdNode;   
    public RandomListNode copyRandomList(RandomListNode head) {  
        createdNode = new HashMap<RandomListNode, RandomListNode>();  
        return cc(head);  
    }  

    private RandomListNode cc(RandomListNode node) {  
        if(node == null)  
        {  
            return null;  
        }  

        RandomListNode newNode = new RandomListNode(node.label);  

        createdNode.put(node, newNode);          
        newNode.next = cc(node.next);  

        //now assign the random pointer  
        RandomListNode newRandom = null;  
        if(node.random != null)  
        {  
            newRandom = createdNode.get(node.random);  
        }  
        newNode.random = newRandom;  

        return newNode;      
    }  
} 
```

这是使用HashMap（也在java中）的解决方案：

```
public class Solution{  

    public RandomListNode copyRandomList(RandomListNode head) {  
        if(head == null) return null;  
        java.util.HashMap<RandomListNode, RandomListNode> map = new java.util.HashMap<RandomListNode, RandomListNode>();  
        RandomListNode copiedHead = new RandomListNode(head.label);  
        map.put(head, copiedHead);  

        for(RandomListNode cur = head.next, cpLst = copiedHead; cur != null; cur = cur.next, cpLst = cpLst.next){  
            cpLst.next = new RandomListNode(cur.label);  
            map.put(cur, cpLst.next);  
        }  
        for(RandomListNode cur = head, cpCur = copiedHead; cur != null; cur = cur.next, cpCur = cpCur.next)  
            cpCur.random = cur.random == null ? null : map.get(cur.random);  
        return copiedHead;  
    }  
} 
```

没有只读要求的另一种方法[在这里是可能的。](http://traceformula.blogspot.com/2015/07/copy-list-with-random-pointers.html)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-11-15T09:32:43.537

1.  从头节点开始，一个一个地创建Node的副本
2.  当您创建副本时，将哈希图中的原始节点和复制节点作为键、值。
3.  当我们逐个复制元素时创建一个新列表，因此我们为每个节点获得了一个下一个指针值。4.然后用新列表再次遍历原始列表以复制随机指针。我们可以得到哈希图中各个节点的随机指针。

详细解释请访问：[http ://www.dscoding.com/2016/10/copy-linked-list-with-random-pointer.html](http://www.dscoding.com/2016/10/copy-linked-list-with-random-pointer.html)

# visual-studio-2010 - 在文本编辑器中选择特定的字体/背景颜色可以提高程序员的工作效率吗？

> ID：15240649
> 
> 赞同：0
> 
> 时间：2013-03-06T06:38:51.877
> 
> 标签：visual-studio-2010, visual-studio, visual-studio-2012, ide

我注意到一些开发人员更喜欢在他们各自的 ide 中使用蓝色或黑色背景。

这似乎是一个主观问题，但是当您每天盯着源代码超过 5 小时时，您肯定会选择一种对您的日常工作产生最积极影响的字体/背景颜色。

所以我的问题是，选择正确的字体/背景颜色可以提高程序员的工作效率吗？

如果可以，可以使用哪些颜色？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:37:34.710

它肯定会影响生产力，但没有通用的“正确”方案。

“正确”的是程序员为自己选择的方案。例如，我曾与喜欢黄色上红色的菲律宾人一起工作。我不可能使用这样的色调 - 但同样，那些程序员也会质疑我如何使用我的“沉闷”配色方案。

另一方面，我了解到我必须以这种方式备份自己的工作。其中一位程序员决定让我设计的屏幕变得生动起来，因为他认为它们无法使用。用户最不满意...

实施多种企业标准也可能是灾难性的。我花了很多时间修改 CLISTS 以使 ISPF 基本上是绿色而不是蓝色（在黑色背景上）- 更容易看。我的大多数同事都想要我的增强功能的副本...

[好吧-这里可能有很多意见，但我敢肯定，当我被迫使用别人的配色方案或布局时，我的工作效率会降低]

# c# - 使用行和列索引搜索excel的数据

> ID：15240650
> 
> 赞同：0
> 
> 时间：2013-03-06T06:38:53.457
> 
> 标签：c#, ado.net, oledb

**excel格式：**

![Excel](../Images/377ba73b5353e09089f4c6544607926b.png)

**代码示例：**

```
 var adapter = new OleDbDataAdapter("SELECT * FROM [" + excelSheetName + "$]", connectionString);
 var ds = new DataSet();
 adapter.Fill(ds, "GridInfo");
 DataTable data = ds.Tables["GridInfo"];            
 string returnValue = string.Format("{0:n0}", data.Rows[row][column]);
 return returnValue; 
```

我如何访问在函数中提供行和列标题值（如 p、a）的 excel 中的任何值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:45:28.840

如果为 DataTable 设置 PrimaryKey 属性，只需使用 Find() 方法。例如：

```
//Set Primary Key for DataTable
data.PrimaryKey = new DataColumn[] { data.Columns[0] };

//And use Find Method
var myValue = data.Rows.Find("p")["a"];
var myValue2 = data.Rows.Find("q")["c"];
var myValue3 = data.Rows.Find("r")["b"]; 
```

问候 Grzegorz Kotfis

# sql - 获取PostgreSQL中小数点后非零的记录

> ID：15240652
> 
> 赞同：11
> 
> 时间：2013-03-06T06:39:03.080
> 
> 标签：sql, postgresql, types, postgresql-8.4

我有一个带有**Numeric**类型的数量字段的表。它包含不同的金额值。例如

```
5.00
7.13
8.86
6.00
1.00 
```

... ETC。

我必须只获取小数点后非零的那些记录。即，仅获取与金额对应的记录

```
7.13
8.86 
```

我该怎么做？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-08T00:03:13.850

### `numeric`是准确的！

与另一个答案所声称的不同，**`numeric`它[不是浮点类型](https://www.postgresql.org/docs/current/datatype-numeric.html#DATATYPE-FLOAT)**，而是SQL 标准定义的[**任意精度类型。**](https://www.postgresql.org/docs/current/datatype-numeric.html#DATATYPE-NUMERIC-DECIMAL)存储*准确*。我引用手册：

> numeric 类型可以存储具有非常多位数的数字并精确地执行计算。特别推荐用于存储货币数量和其他需要精确性的数量。

### 回答

您问题的自然候选者是 function [**`trunc()`**](https://www.postgresql.org/docs/current/functions-math.html)。*它向零*截断- 基本上保留整数部分而丢弃其余部分。在快速测试中最快，但在顶级竞争者中差异不大。

```
SELECT * FROM t WHERE amount <> trunc(amount); 
```

`floor()`截断到下一个较小的整数，这与负数不同：

```
SELECT * FROM t WHERE amount <> floor(amount); 
```

如果你的数字适合[`integer`/`bigint`](https://www.postgresql.org/docs/current/datatype-numeric.html)你也可以投：

```
SELECT * FROM t WHERE amount <> amount::bigint; 
```

与上述不同，这会*四舍五入。*

### 测试

使用 PostgreSQL 9.1.7 测试。有 10k`numeric`个数字和两个小数位的临时表，大约 1% 有`.00`.

```
CREATE TEMP TABLE t(amount) AS
SELECT round((random() * generate_series (1,10000))::numeric, 2); 
```

在我的情况下正确的结果：9890 行。10 次运行的最佳时间`EXPLAIN ANALYZE`。

欧文 1

```
SELECT count(*) FROM t WHERE amount <> trunc(amount) -- 43.129 ms
```

[MVP 2](https://stackoverflow.com/a/15241165/939860) / [QQ](https://stackoverflow.com/a/15240776/939860)

```
SELECT count(*) FROM t WHERE amount != round(amount)          -- 43.406 ms 
```

欧文 3

```
SELECT count(*) FROM t WHERE amount <> amount::int            -- 43.668 ms 
```

[MVP 1](https://stackoverflow.com/a/15241165/939860)

```
SELECT count(*) FROM t WHERE round(amount,2) != round(amount) -- 44.144 ms 
```

欧文 4

```
SELECT count(*) FROM t WHERE amount <> amount::bigint         -- 44.149 ms 
```

欧文 2

```
SELECT count(*) FROM t WHERE amount <> floor(amount)          -- 44.918 ms 
```

[南达库玛五世](https://stackoverflow.com/a/15241572/939860)

```
SELECT count(*) FROM t WHERE amount - floor(amount) > .00     -- 46.640 ms 
```

**在Postgres 12**中大多数情况下仍然如此（除了现在一切都快了 > 10 倍）。使用 100k 行而不是 10k 行进行测试：

*db<>[在这里摆弄](https://dbfiddle.uk/?rdbms=postgres_12&fiddle=71299c768248046fbaab9f89f168d04e)*

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T07:12:30.590

这将起作用：

```
SELECT *
FROM t
WHERE round(amount,2) != round(amount) 
```

不，您**不能直接比较浮点数**- 下面的代码不起作用（[SQLFiddle](http://www.sqlfiddle.com/#!1/d4637/1)作为证明）：

```
SELECT *
FROM t
WHERE amount != round(amount) 
```

如果`amount`= `1./3 * 3`，它看起来像`1`，但它不是 - 比较将失败。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-06T07:38:37.687

这有帮助吗

`SELECT * FROM table WHERE amount - floor(amount) > .00`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-06T06:47:52.463

```
SELECT *
FROM t
WHERE amount != round(amount); 
```

# asp.net-mvc - ASP.NET MVC4 输出缓存以防止在数据库中重复插入

> ID：15240653
> 
> 赞同：0
> 
> 时间：2013-03-06T06:39:03.550
> 
> 标签：asp.net-mvc, outputcache

我目前正在开发 ASP.NET MVC4 Web 应用程序，目前正在研究如何防止用户在 db 中插入重复的条目，当用户提交条目然后再次按下后退按钮并再次提交相同的数据时。我知道这可以通过 db 中的存储过程来实现，但我想使用输出缓存功能来实现这个概念。您能否建议这种方法是否可行和可扩展，以及我需要采取哪些步骤来实现它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:07:06.213

> 我知道这可以通过 db 中的存储过程来实现

为什么这么复杂？只需在您不想重复的列上放置一个唯一约束，然后在插入记录时捕获相应`SqlException`的包含一个数字，该数字表示[`unique constraint has been violated`](https://stackoverflow.com/questions/2517064/sqlexception-constraint-violation)由于重复插入。

# mysql - 无法从远程机器连接到 Centos 上的 Mysql

> ID：15240666
> 
> 赞同：1
> 
> 时间：2013-03-06T06:39:54.300
> 
> 标签：mysql, centos

CentOS 6.3 版（最终版）

名称：MySQL

拱门：x86_64

版本：5.1.67

所有这些都在 Windows 下的 virtualbox 上运行。网络适​​配器桥接到我的 LAN 适配器。防火墙已打开。MySQL 正在监听

[root@virtualcentos ~]# iptables -L

ACCEPT tcp -- 任何地方 tcp dpt:mysql

lsof -i | grep 我的

mysqld 2142 mysql 10u IPv4 14439 0t0 TCP *:mysql (LISTEN)

我可以使用盒子本身的 LAN IP 连接到 MySQL 服务器，但不能从 Windows 主机连接到 MySQL 服务器。但是，我可以很好地连接到同一个 Linux VM 上的 SSH 和 HTTP 服务器。

我已将 my.cnf 中的绑定地址设置为 0.0.0.0 并确保不存在跳过网络

用户已正确创建并授予权限。

为了以防万一，我在 my.cnf 中添加了 skip-name-resolve。

否则，这是在 VirtualBox 中安装的一个干净的香草 CentOS。

我错过了什么吗？为什么我无法从主机连接到 VM 上的 MySQL 服务器，而我可以连接到 HTTP 和 SSH？

# java - 包含指令未包含所需内容

> ID：15240669
> 
> 赞同：1
> 
> 时间：2013-03-06T06:40:19.240
> 
> 标签：java, android, include

嗨，我对 android 编程很陌生，我正在玩`include`标签。

我有一个名为`companylogo`：

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="match_parent"
              android:layout_height="match_parent">
    <!-- Logo Start-->
    <ImageView android:src="@drawable/logo2"
               android:layout_width="wrap_content"
               android:layout_height="wrap_content"
               android:layout_marginLeft="10dip"/>
</LinearLayout> 
```

和其他名为的布局文件`homepage`如下所示：

```
<?xml version="1.0" encoding="utf-8"?>
<ScrollView
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:fillViewport="true">
    <RelativeLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" android:background="#ffffff">
        <include layout="@layout/companylogo"  />
   </RelativeLayout>
</ScrollView> 
```

但这不会将图像添加到`homepage`布局中。

我什至尝试添加`android:layoutwidth/height`标签。不知道我在哪里犯了错误。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:51:53.657

现在再试一次：

```
<include layout="@layout/companylogo"  
               android:layout_width="wrap_content"
               android:layout_height="wrap_content"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:55:21.043

实际上，当我们在代码中实现 xml 时，为了显示布局的效果，我们必须多次清理项目。

并尝试将 layout_width 和 layout_height 属性添加到包含标签中。

尝试清理项目，如果仍然无法正常工作

关闭 Eclipse，然后再次打开它，就可以了。

有关更多信息，请查看此链接：

[android包含标签 - 无效的布局参考](https://stackoverflow.com/questions/2533972/android-include-tag-invalid-layout-reference)

[Android XML 布局的“包含”标签真的有效吗？](https://stackoverflow.com/questions/2631614/does-android-xml-layouts-include-tag-really-work)

# ruby-on-rails - 设计：重定向到用户最初尝试访问的受限页面

> ID：15240671
> 
> 赞同：1
> 
> 时间：2013-03-06T06:40:29.557
> 
> 标签：ruby-on-rails, devise

我见过很多关于将用户重定向到他使用设计的最后一页的问题。[这里](https://github.com/plataformatec/devise/wiki/How-To%3a-Redirect-back-to-current-page-after-sign-in,-sign-out,-sign-up,-update)有一个很好的解释和示例代码

这对我有用，这有时是我想要的，但有时，我希望重定向到用户试图访问的受限页面，而不是他之前所在的页面。例如：

1.  用户点击主页上的“创建新帖子按钮”
2.  这击中了帖子控制器，新操作受 before_filter 保护，需要用户登录
3.  用户被重定向到登录页面
4.  登录后，用户现在被重定向到主页。
5.  但是，在这种情况下，我希望用户使用他尝试访问的新帖子表单而不是主页被重定向到新操作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T17:19:08.477

所以我意识到，为了重定向到用户在登录后尝试访问的受保护页面，store_location 函数需要是 before_filter 而不是 after_filter。

```
before_filter :store_location

def store_location
  # store last url as long as it isn't a /users path
  session[:previous_url] = request.fullpath unless request.fullpath =~ /\/users/
end

def after_sign_in_path_for(resource)
  session[:previous_url] || root_path
end 
```

这是有道理的，因为在这种情况下，会话变量被设置为受保护的页面，因为 store_location 函数在我尝试访问`new_post_path`示例时正确执行。当您将 store_location 作为 github 代码示例中的 after_filter 时，最后一次执行 store_location 函数是当我到达非受保护操作时，即我的示例中的主页。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:00:32.667

在重定向到登录页面之前使用以下代码段设置当前路径：

```
session[:previous_url] = request.fullpath unless request.fullpath =~ /\/users/ 
```

成功登录后检查此会话变量，如果已设置，然后重定向到它。

# c# - Azure 实例更改已删除的文件

> ID：15240674
> 
> 赞同：2
> 
> 时间：2013-03-06T06:40:31.457
> 
> 标签：c#, azure, azure-storage

我是 Windows Azure 的新手，我正在使用 6 个月的订阅计划和 1 个虚拟机，昨天我的虚拟机实例已更改，我的根文件夹中的文件被删除，如何恢复这些文件以及如何在不久的将来防止这种情况发生。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:51:33.517

Azure PAAS 实例并不意味着在*本地*磁盘上持久存储任何内容，因为当实例被自动替换时，它可能/将被定期擦除。

为了获得最佳性能，您可以将文件存储在[blob 存储](http://www.windowsazure.com/en-us/develop/net/how-to-guides/blob-storage/)中，任何服务器都可以使用您的存储帐户访问它们，而不仅仅是单台计算机。

如果您*确实*需要持久文件存储，您可以[将 blob 存储附加为本地磁盘](http://www.windowsazure.com/en-us/manage/windows/how-to-guides/attach-a-disk/)并将数据存储在那里。请注意，磁盘一次只能由一个实例访问。

至于替换实例时存储在本地文件系统上的文件，除非你有备份，否则我不知道有什么办法可以恢复它们。

[此链接很好地阅读了有关 Azure](http://blog.codingoutloud.com/2011/06/12/azure-faq-can-i-write-to-the-file-system-on-windows-azure/)中各种存储选项的信息，其中提供了比此空间所允许的更多的详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:54:21.073

如果您使用的是虚拟机 (IaaS)：

*   添加数据磁盘并在其中存储文件，而不是在 OS 磁盘上
*   您有责任自己进行备份

如果您使用云服务 (PaaS)：

*   不要将数据存储在机器本身上，仅用于缓存、临时数据
*   添加数据盘并挂载，如果是单台服务器
*   如果从多个主机使用数据，则使用 Blob 存储

# javascript - 如何在jquery中验证对象

> ID：15240676
> 
> 赞同：0
> 
> 时间：2013-03-06T06:40:39.317
> 
> 标签：javascript, jquery, html, css

我正在使用 jquery 将任意数据添加到 li 元素：

```
 if($("li").data('family').$(this).text()==$(this).text()){
        $("li").removeData('family',{'persons':''}); // I know this is wrong!
        // any idea how to remove data from this object 
    }else{
        //this part adds data which is not working fine 
        $("li").data('family',{$(this).text():$(this).text(),
            'cat':'family'
        });
    } 
```

上面我试图验证值是否已经退出，如果退出删除它。我面临1个问题：

1.  如何从对象中**添加/删除**相同的键值

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:47:08.123

试试这个：

```
var key='';
$(document).ready(function(){

    $("#cat-family ul li").on("click",function(){
    var $li=$(this);
    key=$(this).text();
    if($(this).data('family')){
        if($(this).data('family').key==$(this).text())
             $(this).removeData('family');        
    }
    else{  
        key=$li.text();
        var k={};
        k[key]=key;
        k['cat']='fam';

        $(this).data('family',k);
    } 
       console.log($(this).data());  
});
}); 
```

阅读文档[http://api.jquery.com/removeData/](http://api.jquery.com/removeData/)

**小提琴** [http://jsfiddle.net/WmLQa/1/](http://jsfiddle.net/WmLQa/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T06:54:51.237

试试这个

```
$("#cat-family ul li").live("click", function() {
            var $ul = $(this).closest('ul');
            var family = $ul.data('family');
            if (!family) {
                family = {
                    'cat' : 'family'
                };
                $ul.data('family', family);
            }

            var text = $(this).text();
            if (family[text]) {
                delete family[text];
            } else {
                family[text] = text;
            }
            console.log(this, $ul.data().family);
        }); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/Sct6f/7/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:45:31.420

您可以通过以下方式检查数据：

```
 if($("li").data("family").persons === $(this).text())
 {
     $.removeData($("li") , "family"); //to remove
 } 
```

# php - 在 php 中使用 fckeditor 录制网络摄像头视频和音频。不要使用 Red、wowza 或 flash 服务器，因为我在 wamp 服务器中工作

> ID：15240677
> 
> 赞同：1
> 
> 时间：2013-03-06T06:40:41.037
> 
> 标签：php, webcam, record, fckeditor

我一直在尝试使用 fckedittor 录制网络摄像头音频和视频，但无法在 php（wamp 服务器）中使用它。我到处都找到了 fckeditor 命令但无法找到完整的 php 代码，因为我不知道如何使用 fckeditor 命令。请帮助

# jdbc - ejb3.1 中的托管 bean 和数据源连接

> ID：15240679
> 
> 赞同：1
> 
> 时间：2013-03-06T06:40:43.473
> 
> 标签：jdbc, ejb-3.0, dao, cdi, ejb-3.1

我有一个 bean (dbbean)，它具有在运行时注入的数据源。这个托管 bean 被许多 dao bean 使用。我在 jboss 环境中使用 ejb3.1。我经常收到错误提示为您关闭连接，请自行关闭。这个 dbbean 不是单例的。我需要用范围管理bean吗？我终于阻止了将关闭所有数据库资源。注意：我有 postconstruct 注释方法，它将创建一个连接和 predestroy 注释方法，它将关闭打开的连接。谢谢

# java - 如何验证 JComponent

> ID：15240682
> 
> 赞同：1
> 
> 时间：2013-03-06T06:40:55.793
> 
> 标签：java, swing, jcomponent, inputverifier

```
public void actionPerformed(ActionEvent ae){
   String userName = userNameTxt.getText();
   char[] pass = password.getPassword();

} 
```

我想验证上述字段（它的用户名和密码） 我只想在用户名和 az 中使用 alohabet(az)，在密码中使用 0-9 怎么做？我是摇摆新手

# matlab - 在 MATLAB 中执行 fft 时出错

> ID：15240686
> 
> 赞同：1
> 
> 时间：2013-03-06T06:41:02.067
> 
> 标签：matlab, fft

我拿了一个文件，它是音符 F2 的干净、重复的波形（我通过在虚拟钢琴上弹奏 F2 并弹奏波形文件并比较来推断）在钢琴上。当我对信号进行 fft 时，通过使用保存的 wav 文件的 wavread，我得到了 176.4 Hz 的峰值频率，这比音符 F2 的正确频率低了一个八度。

当我分析另一个音符时，这次是用物理钢琴录制的，我得到了完全相同的峰值频率。这怎么可能？MATLAB 是否有可能将峰值频率存储在其内存中的多个文件？如果是这样，我该如何解决这个问题？

PS 当我们分析一首完整的歌曲时，即一个包含许多音符的 wav 文件，我们得到了许多峰值，这证实了我们没有对所有内容使用相同的图表。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T16:24:30.107

这不是 Matlab 的 FFT 中的错误。

音高不同于峰值频率。这是一种心理声学现象。人类将作为单个音乐音高听到的声音可能包含许多频率峰值，其中最强的频谱频率峰值可能是以完全不同的音高为中心的泛音，和/或比感知音高更高的八度音阶。在听力学和声音感知的神经心理学等领域，有一些书籍涵盖了这个主题。一本关于音乐物理学的书可能会解释为什么钢琴会创造出如此丰富和复杂的频谱内容。

要找到音高，需要使用[音高检测/估计](https://stackoverflow.com/questions/8699360/audio-analysis-frequency-vs-pitch/8704527#8704527)算法，而不仅仅是 FFT。使用这些关键字在此处搜索。

# android - 在android中拖放后如何将按钮保持在先前的位置

> ID：15240688
> 
> 赞同：1
> 
> 时间：2013-03-06T06:41:16.183
> 
> 标签：android, button, drag-and-drop, android-linearlayout, android-gridlayout

在我的 android 应用程序中，我有一个网格布局，其中有五个线性布局。四个线性布局每个包含一个按钮，另一个线性布局是空的。我想将一个按钮放到空的线性布局中，当线性布局不为空时，放置后它将采用其先前的线性布局位置。使用此代码

```
 ViewGroup owner = (ViewGroup) view.getParent();    
 LinearLayout pastContainer = (LinearLayout) owner; 
```

如果目标线性布局不为空（有孩子），我会得到我想要保留按钮的线性布局。我让目标线性布局的孩子使用此代码检查它是否为空

```
LinearLayout newcontainer = (LinearLayout) v;
int count = newcontainer.getChildCount(); 
```

我可以将一个按钮放到一个空的线性布局中，但是当我尝试将一个按钮放到一个带有子元素的线性布局中时，它会出错。这是我的代码

```
private class MyDragListener implements OnDragListener 
{
    @Override
    public boolean onDrag(View v, DragEvent event) 
    {
        int action = event.getAction();
          switch (event.getAction()) {
          case DragEvent.ACTION_DRAG_STARTED:
            // Do nothing
            break;
          case DragEvent.ACTION_DRAG_ENTERED:
            break;
          case DragEvent.ACTION_DRAG_EXITED:
            break;
          case DragEvent.ACTION_DROP:

            View view = (View) event.getLocalState();
            ViewGroup owner = (ViewGroup) view.getParent(); 
            LinearLayout pastContainer = (LinearLayout) owner;
            LinearLayout newcontainer = (LinearLayout) v;
            int count = newcontainer.getChildCount();                           

            if(count==0)
            {
                owner.removeView(view);     
                newcontainer.addView(view);
                view.setVisibility(View.VISIBLE);
            }
            else
            {
                pastContainer.addView(view);
                view.setVisibility(View.VISIBLE);
            }

            break;
          case DragEvent.ACTION_DRAG_ENDED:
          default:
            break;
          }
          return true;
    }             
} 
```

如果目标线性布局不为空（有孩子），我如何将按钮保持在前一个线性布局？谢谢

# cuda - Kepler 中的并发内核数

> ID：15240691
> 
> 赞同：2
> 
> 时间：2013-03-06T06:41:40.603
> 
> 标签：cuda

在 Fermi 中，我们可以启动 16 个并发内核。我们可以在 Kepler 中启动多少个内核？这个数字是一样的还是他们也增加了这个数字？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T07:02:08.443

[对于计算能力 3.5 的设备](http://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#asynchronous-concurrent-execution)， 并发内核的数量从 16 个增加到 32此页面右上角的搜索框以获取想法。）

# c# - 如何使用 C# 解压缩 docx 文件？

> ID：15240693
> 
> 赞同：4
> 
> 时间：2013-03-06T06:42:02.770
> 
> 标签：c#, ms-word

如何使用 C# 解压缩 docx 文件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T07:52:23.540

新的 Office 文件扩展名（docx、potx、xlsx 等）在上传到 Web 服务器然后下载时会变成 zip 文件。

这些文件格式现在使用 Open XML 文件格式系统，因此它们与来自 Google、Open Office 等的其他办公程序更加兼容。本质上，它们是充满 XML 文件的 zip 文件，当使用适当的应用程序打开这些文件时，它们会变成友好的 Word 文档。

[我从这里](http://www.webdeveloper.com/forum/showthread.php?162526-Is-your-docx-file-turning-into-a-zip-SOLUTION)偷了这个充满耻辱的东西，在那里你可以找到完整的信息。

我希望这个答案能帮助你和所有在不知道答案的情况下取笑你并对你的问题投反对票的无知的人。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T06:47:55.320

如果您指的是`docx`文件，它们基本上只是`zip`使用特定约定创建的文件。

查看[打包](http://msdn.microsoft.com/en-us/library/system.io.packaging.package.aspx)API。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-05T06:03:37.573

这是您正在寻找的完整代码。我已将此类用于 docx zip 和 unzip 操作。

```
 using System.Collections.Generic;
   using System.IO;
   using System.Linq;
   using Microsoft.Deployment.Compression;
   using Microsoft.Deployment.Compression.Zip;

 namespace <YourPackage>.Libs
 {
 public class ZipFile
 {
    private string _zipfilepath;

    public ZipFile(string zipfilepath)
    {
        _zipfilepath = zipfilepath;
    }

    public void Compress(string filePath,bool deleteSourceFolder)
    {
        var filePaths = new List<string>();

        if (Directory.Exists(filePath))
        {
            filePaths.AddRange(Directory.GetFileSystemEntries(filePath).ToList());
        }

        if (filePaths.Count > 0)
        {
            var zip = new ZipInfo(_zipfilepath);
            zip.Pack(filePath, true, CompressionLevel.None, null);
        }

        if(deleteSourceFolder)
            Directory.Delete(filePath,deleteSourceFolder);
    }

    public void Uncompress(string destinationPath)
    {
        var zip = new ZipInfo(_zipfilepath);
        zip.Unpack(destinationPath);
    }       
} 
```

}

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-04-15T13:22:15.183

设置对 System.IO.Compression 和 System.IO.Compression.FileSystem 的引用。然后是这样的：

```
using System.IO.Compression;

string zipPath = @"c:\tmp\Test.docx";
using (ZipArchive archive = ZipFile.OpenRead(zipPath))
{
   archive.ExtractToDirectory(zipPath + ".unzipped");
} 
```

看看这里：[https](https://msdn.microsoft.com/EN-US/library/hh485709(v=VS.110,d=hv.2).aspx) ://msdn.microsoft.com/EN-US/library/hh485709(v=VS.110,d= hv.2).aspx（ZipFileExtensions.ExtractToDirectory 方法）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T06:47:29.167

您可以尝试使用[System.IO.Packaging.ZipPackage](http://msdn.microsoft.com/en-us/library/system.io.packaging.zippackage%28v=VS.90%29.aspx)。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T08:11:15.723

安装 Open XML SDK [http://www.microsoft.com/en-us/download/details.aspx?id=5124](http://www.microsoft.com/en-us/download/details.aspx?id=5124)并使用它来处理 Docx 文件中的 XML。

# internet-explorer-9 - 带有 IE 错误“无法启动新会话”的 WebDriverBackedSelenium

> ID：15240697
> 
> 赞同：1
> 
> 时间：2013-03-06T06:42:13.253
> 
> 标签：internet-explorer-9, selenium-webdriver

我正在尝试使用IE中的**WebDriverBackedSelenium运行测试脚本。**我已经在**Firefox**和**chrome**上测试了相同的脚本，它工作正常。

这是我在**设置方法中所做的**

```
 System.setProperty("webdriver.ie.driver", "C:\\Program Files (x86)\\Internet Explorer\\iexplore.exe");
    WebDriver driver = new InternetExplorerDriver();
    selenium1 = new WebDriverBackedSelenium(driver, "http://www.example.com"); 
```

当我运行此脚本时，IE 浏览器窗口打开，几次后我收到以下错误：

```
org.openqa.selenium.remote.UnreachableBrowserException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.

Build info: version: '2.31.0', revision: '1bd294d', time: '2013-02-27 20:53:56'

System info: os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.6.0_25' 
```

也在浏览器中

```
http://--port=24284/ 
```

显示。

我正在使用**IE 版本 9**。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:02:59.160

我可以看到至少一个错误你在做什么：

Internet Explorer 驱动程序必须从[这里下载](http://code.google.com/p/selenium/downloads/list)

然后你必须指出你解压缩的 exe 而**不是**Internet Explorer 本身

# ruby - 创建新 Rails 项目时遇到问题：“您有可能遇到中间人攻击”

> ID：15240699
> 
> 赞同：4
> 
> 时间：2013-03-06T06:42:26.993
> 
> 标签：ruby

我以前从未见过这种情况，简单的谷歌搜索这条确切的消息一无所获。堆栈溢出是

```
run  bundle install
Fetching source index from https://rubygems.org/
Resolving dependencies...
Could not verify the SSL certificate for https://rubygems.org/.
There is a chance you are experiencing a man-in-the-middle attack, but most likely your   system doesn't have the CA certificates needed for verification. For information about OpenSSL   certificates, see
bit.ly/ssl-certs. To connect without using SSL, edit your Gemfile sources and change 'https'   to 'http'. 
```

我按照此页面上的说明进行操作，但空手而归：

[http://www.beginnerruby.com/rails-troubleshooting/fixing-opensslbundler-issue-for-rails-on-debian/](http://www.beginnerruby.com/rails-troubleshooting/fixing-opensslbundler-issue-for-rails-on-debian/)

有人有什么想法吗？

Mac OSX Lion 使用 RubyMine。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T17:46:58.113

我按照[这些说明](http://railsapps.github.com/openssl-certificate-verify-failed.html)没有明显的结果。阅读评论有人询问终端是否重新开放。所以，我关闭/打开了终端。这解决了我的问题。我正在使用雪豹。

```
$ brew update
$ brew install openssl
$ brew link openssl --force
$ brew install curl-ca-bundle
$ brew tap raggi/ale
$ brew install openssl-osx-ca 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T06:51:01.787

我认为解释异常应该很简单（尽管我可能错了）将 Gemfile 顶部的源“ [https://rubygems.org ”更改为：源“](https://rubygems.org) [http://rubygems.org](http://rubygems.org) ”

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-10-16T19:12:35.447

确保您正在使用`rvm`.

首先，安装 OpenSSL rvm 包：

```
rvm pkg install openssl 
```

然后重新安装指向此包的 ruby​​ 版本（在我的情况下为 2.0.0p247）：

```
rvm reinstall 2.0.0-p247 --with-openssl-dir=$HOME/.rvm/usr 
```

离开当前项目文件夹，再次进入：

```
cd . 
```

现在你可以运行`bundle install`：

```
bundle install 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-18T21:13:58.297

如果其他人有类似的问题：

通过运行：

`sudo rvm osx-ssl-certs status all`

您可能会看到您的证书已过期。它会这样说：

`Certificates for /System/Library/OpenSSL/cert.pem: Old.`.

你需要更新，所以运行这个：

`sudo rvm osx-ssl-certs update all`.

再次触发 status 命令应该会给出类似的结果：

`Certificates for /System/Library/OpenSSL/cert.pem: Up to date.`

快乐的日子，问题解决了。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-08T01:12:59.950

我按照这里的说明进行操作：http: [//gistflow.com/posts/916-fix-mac-os-x-rubygems-ssl-problem](http://gistflow.com/posts/916-fix-mac-os-x-rubygems-ssl-problem)

# android - 如何使用 solo.searchText 搜索一些由特殊字符组成的文本

> ID：15240700
> 
> 赞同：2
> 
> 时间：2013-03-06T06:42:30.540
> 
> 标签：android, robotium

我正在使用robotium 来测试一个android 项目。我有一个测试用例，我需要在其中测试一条由特殊字符组成的消息是否正确发布。所以我创建了一个由特殊字符组成的常量：

```
public static final String PostMessageWithSpecialchars = "Hey hi,* Have a good day*.:()[]-=/&!?"'+;@#"; 
```

我正在使用以下代码对其进行搜索并断言发布的消息与常量 PostMessageWithSpecialchars 中的消息完全相同

```
assertTrue(solo.searchText(PostMessageWithSpecialchars)); 
```

但测试在 assertTrue 行失败。如何搜索 PostMessageWithSpecialchars 文本？我不想使用转义字符，因为这会忽略特殊字符。我想确保 PostMessageWithSpecialchars 消息中的特殊字符正确发布。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:03:21.940

方法 solo.searchText() 接受正则表达式模式。在您的搜索字符串中，您使用的是用于模式的特殊字符。您可以引用它们来查找任何文本：

```
assertTrue(solo.searchText(Pattern.quote(PostMessageWithSpecialchars))); 
```

# java - JAXB2Marshaller 不将 xml 元素解组为字符

> ID：15240702
> 
> 赞同：2
> 
> 时间：2013-03-06T06:42:31.360
> 
> 标签：java, spring, jaxb, unmarshalling

我在使用 JAXB2Marshaller 将 xml 元素解组为字符时遇到问题。

我的 XML 输入包含一个元素`<dateCheckFlag>Y</dateCheckFlag>`：当我尝试在 pojo 中输入`dateCheckFlag`元素值时`Character`，它给了我 null。

假设所有 setter getter 和构造函数都存在。

任何人都可以帮助我如何将 xml 元素解组为 Character ...？

```
@XmlRootElement(name="Emp")
class Emp
{
    @XmlElement(name="name");
        String name;
    @XmlElement(name="dateCheckFlag");
        Character dateCheckFlag;
Emp(){}

Emp(String name, Character dateCheckFlag)
{ 
 this.name= name;
 this.dateCheckFlag = dateCheckFlag;
}

public void setName(String name)
{
 this.name=name;
}
public String getName()
{
 return name;
}

public void setDateCheckFlag(Character flag)
{
 this.dateCheckFlag=flag;
}
public Character getName()
{
 return dateCheckFlag;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:55:13.917

[**JAXB (JSR-222)**](http://jcp.org/en/jsr/detail?id=222)规范没有定义`char`/的XML 表示`Character`。默认情况下，JAXB 引用实现将 a 转换`Character`为`xs:unsignedShort`类型。这意味着它需要这样的文件：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Emp>
    <name>Jane Doe</name>
    <dateCheckFlag>89</dateCheckFlag>
</Emp> 
```

**xml适配器**

您将能够使用 an`XmlAdapter`来获取您正在寻找的 XML。An`XmlAdapter`允许您将一个对象转换为另一个对象以更改 XML 表示。

```
import javax.xml.bind.annotation.adapters.XmlAdapter;

public class CharacterAdapter extends XmlAdapter<String, Character> {

    @Override
    public Character unmarshal(String string) throws Exception {
        return string.charAt(0);
    }

    @Override
    public String marshal(Character character) throws Exception {
        return new String(new char[] {character});
    }

} 
```

**雇员**

注解`@XmlJavaTypeAdapter`用于指定.`XmlAdapter`

```
import javax.xml.bind.annotation.*;
import javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;

@XmlRootElement(name = "Emp")
@XmlAccessorType(XmlAccessType.FIELD)
class Emp {

    String name;

    @XmlJavaTypeAdapter(CharacterAdapter.class)
    Character dateCheckFlag;

} 
```

**演示**

下面是一些将 XML 转换为对象模型的代码。

```
import java.io.File;
import javax.xml.bind.*;

public class Demo {

    public static void main(String[] args) throws Exception {
        JAXBContext jc = JAXBContext.newInstance(Emp.class);

        Unmarshaller unmarshaller = jc.createUnmarshaller();
        File xml = new File("src/forum15240702/input.xml");
        Emp emp = (Emp) unmarshaller.unmarshal(xml);

        Marshaller marshaller = jc.createMarshaller();
        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
        marshaller.marshal(emp, System.out);
    }

} 
```

**输入.xml/输出**

```
<?xml version="1.0" encoding="UTF-8"?>
<Emp>
    <name>Jane Doe</name>
    <dateCheckFlag>Y</dateCheckFlag>
</Emp> 
```

# php - 动态生成的 img 标签的 chrome 问题

> ID：15240703
> 
> 赞同：0
> 
> 时间：2013-03-06T06:42:31.507
> 
> 标签：php, javascript, html, google-chrome

我现在尝试了几个小时在互联网上找到答案，但无法...

我现在正在尝试一些简单的事情......我想通过 PHP 或 JS 添加一个 img，例如：（如果“硬编码”它可以正常工作）

```
echo '<img src="http://photos-f.ak.fbcdn.net/hphotos-ak-snc7/484989_527295087321263_1815832969_s.jpg" height=125 width=130 />'; 
```

但在 chrome 中，它在动态生成时不会显示。我已尝试按照其他帖子中的建议设置内容长度和其他标题，但是我没有运气……有没有人有答案或可以引导我完成解决方案？

更多信息：

我只是在呼应这条线......我在win7上的chrome 24.0.1312.52和win8上的25.0.1364.152上测试了它。html 生成得很好，但是当我通过调试器时，我在网络选项卡上看到状态和类型是“待定”

在资源选项卡上，我看到带有以下信息的图像：

```
484989_527295087321263_1815832969_s.jpg
Dimensions 1 × 1
File size 67B
MIME typeimage/png
URL http://photos-f.ak.fbcdn.net/hphotos-ak-snc7/484989_527295087321263_1815832969_s.jpg 
```

如果有帮助，我可以获取更多信息...

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-26T15:04:47.303

我通过检查 chrome 扩展解决了这个问题，并且一些用户遇到了同样的问题。

显然在我使用的机器上安装了一个“跟踪器拦截器”（[这个](https://chrome.google.com/webstore/detail/disconnect/jeoacafpbcihiomhlakheieifhpjdfeo)），更具体地说是在 chrome 中。它阻止了这些 img 请求，不允许它们完成。通过禁用此应用程序，一切都按预期工作。

希望对其他用户有所帮助。

# c# - Linq 在实体框架上的性能与 SQL 存储过程

> ID：15240711
> 
> 赞同：3
> 
> 时间：2013-03-06T06:43:01.053
> 
> 标签：c#, performance, linq, entity-framework

我们正在使用实体框架来获取一些数据。LINQ 查询使用多个连接，如下面的代码所示。我被要求将其更改为 SQL 存储过程，因为它更快。我如何优化这个 LINQ 代码，为什么它很慢？

```
var brands = (from b in entity.tblBrands
                          join m in entity.tblMaterials on b.BrandID equals m.BrandID
                          join bm in entity.tblBranchMaterials on m.MaterialID equals bm.MaterialID
                          join br in entity.tblBranches on bm.BranchID equals br.BranchID
                          where br.BranchID == branch.branchId
                          select new Brand { brandId=b.BrandID, brandName=b.BrandName, SAPBrandId=b.SAPBrandID}).Distinct();
            return brands.ToList(); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T08:12:15.770

我怀疑主要的性能问题是由于我的主要抱怨。滥用关键字join。

由于使用了 JOIN，你得到了太多的结果。因此，您随后使用了 DISTINCT。更糟糕的是，您对外部结果集执行了此操作，而 SQL 服务器在该结果集上没有索引。

```
var brands = from b in context.Brands
where 
    (from m in context.Materials 
        where b.BrandID == m.BrandID 
        where (from bm in context.BranchMaterials 
                where (from br in context.Branches
                        where bm.BranchID == br.BranchID
                        where br.BranchID == branch.branchId
                        select br).Any()
                where m.MaterialID == bm.MaterialID select bm).Any()
        select m).Any()
    ).Any()
select b; 
```

应该更高效。然而，这仍然是错误的。因为在使用 ORM 时，我们应该考虑 ASSOCIATIONS 而不是 JOIN。假设您的模型有意义，我会执行以下操作。

```
var brands = from b in context.Brands
             where (from m in b.Materials
                    //Assuming that BranchMaterials is just a Many-Many mapping table
                    from br in m.Branches
                    where br.BranchID == branch.branchId).Any()     
                select new Brand { brandId=b.BrandID, brandName=b.BrandName, SAPBrandId=b.SAPBrandID}; 
```

# php - 如何使用数组函数在 PHP 中的连续字符串数组之间输入空格？

> ID：15240713
> 
> 赞同：-3
> 
> 时间：2013-03-06T06:43:06.180
> 
> 标签：php, arrays, string, space, continuous

假设我有一个字符串“stackoverflowdescription”，并且我已经使用 str_split 转换为数组，现在想在每个单词之间放置空格，使用数组和字符串函数说“stackoverflow description”。

例如：stackoverflowdescription --> noitpircsedwolfrevokcats --> noitpircsed wolf revo kcats --> 堆栈溢出描述

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:45:33.370

```
<?php
$output = implode(" ", $yourArrayOfWords);
?> 
```

# activeadmin - 可以在多个菜单项之间“拆分”一个 ActiveAdmin 资源吗？

> ID：15240714
> 
> 赞同：2
> 
> 时间：2013-03-06T06:43:11.317
> 
> 标签：activeadmin

是否可以多次注册资源，可能在不同的命名空间或范围内？

我想要实现的目标：我有一个名为“EventDate”的资源——EventDate 可以有多种类型，比如生日派对或晚宴。

现在我正在做一些非常不干的事情......我的生日派对和晚餐派对都继承自 EventDate，并且我在 ActiveAdmin 中注册了两个单独的资源。但是这两个资源页面基本上具有相同的功能。因此，当我对其中一个进行更改时，我必须对另一个进行相同的更改。

我更喜欢做的是使用单个 EventDate 资源并将其拆分为单独的菜单项 - 一个用于生日派对（即 EventDate 范围，因此类型 = 生日派对）和一个用于 DinnerPartys - 当我对其索引进行更改时，显示等，我只需要做一次。

这在 ActiveAdmin 框架中可行吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-01T07:54:09.853

我认为，您可以尝试使用活动的管理范围，如下所示：

```
ActiveAdmin.register EventDate do

  # Create sections on the index screen
  scope :all, :default => true
  scope :dinner_party
  scope :birthday_party

end 
```

这将在面包屑下制作标签，您将能够切换范围，并且您不需要以这种方式使用子模型。它对你有用吗？

# list - 在列表列表中查找 x

> ID：15240715
> 
> 赞同：2
> 
> 时间：2013-03-06T06:43:15.170
> 
> 标签：list, haskell

我上学的作业有点问题。我必须编写代码，它将在列表列表中找到任何 x（整数或字母）。

我有这样的事情：

```
 find x xxs = [ [ x | x <- xs, x `elem` xs ] | xs <- xxs ] 
```

Hugs98毫无例外地接受了它，但它不起作用。

```
Input: find 2 [[1,1,1,1],[4,4,4,4],[3,3,3]]
Output: [[1,1,1,1],[4,4,4,4],[3,3,3,3]] 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T08:53:54.427

稍微重命名，我想你刚刚写了这个：

```
find x yss = [ [ y | y <- ys, y `elem` ys ] | ys <- yss ] 
```

我不认为那是你的本意。（在您的代码中，您有两个名为`x`的变量，一个隐藏另一个。）

您的问题没有说明您是或不允许使用哪些工具。

清楚`elem`地在列表中找到东西。通过“查找”，我的意思是它返回一个`Bool`指示目标项目是否存在的值。但是如何处理列表列表呢？

列表推导总是返回一个列表，因此如果您希望`find`返回 a `Bool`，则不需要列表推导。

您可以使用`map`应用于`elem`列表列表中的每个列表 - 但现在您有一个`Bool`s 列表。有两种方法可以解决这个问题。一种稍微笨拙的方法是使用`elem`来查看列表是否包含`True`任何地方。但更明智的方法是使用内置`or`函数，该函数采用`Bool`s 列表的逻辑或。（也有相应的`and`功能。）

```
find x yss = or (map (x `elem`) yss) 
```

还有另一种方法可以做到这一点；有一个名为 的内置函数`any`，它将函数应用于内容列表，并`True`在提供的函数返回时返回`True`。所以你可以做

```
find x yss = any (x `elem`) yss 
```

# android - 如何通过编程在 android 中使用 url 播放 .avi 视频

> ID：15240719
> 
> 赞同：0
> 
> 时间：2013-03-06T06:43:41.893
> 
> 标签：android, video, avi

如何在 android 中播放 .avi 视频？来自 url 的视频。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-06T06:49:23.250

嘿，您可以尝试以下代码使用 URL 播放视频

```
 String link="http://s1133.photobucket.com/albums/m590/Anniebabycupcakez/?action=view&amp; current=1376992942447_242.avi";
    VideoView videoView = (VideoView) findViewById(R.id.VideoView);
    MediaController mediaController = new MediaController(this);
    mediaController.setAnchorView(videoView);
    Uri video = Uri.parse(link);
    videoView.setMediaController(mediaController);
    videoView.setVideoURI(video);
    videoView.start(); 
```

使用 VideoView 只需设置 uri：

```
videoView.setVideoURI(Uri.parse(videoUrl)); 
```

# c++ - 复制构造函数

> ID：15240722
> 
> 赞同：3
> 
> 时间：2013-03-06T06:44:02.123
> 
> 标签：c++, copy-constructor

我是新手`C++ programming`，当我阅读`C++`有关复制构造函数的内容时，我有一个疑问。为什么当我们将类的对象作为按值传递传递给外部函数时会调用复制构造函数。请通过我的代码如下。

```
#include "stdafx.h"
#include <iostream>
#include <conio.h>
using namespace std;

class Line
{
    public:
      int getLength( void );
      Line( int len );             // simple constructor
      Line( const Line &obj);      // copy constructor
      ~Line();                     // destructor

    private:
      int *ptr;
};

// Member functions definitions including constructor
Line::Line(int len)
{
    cout << "Normal constructor allocating ptr" << endl;
    ptr = new int;
    *ptr = len;
}

Line::Line(const Line &obj)
{
   cout << "Copy constructor allocating ptr." << endl;
   ptr = new int;
  *ptr = *obj.ptr; // copy the value
}

Line::~Line(void)
{
   cout << "Freeing memory!" << endl;
   delete ptr;
}

int Line::getLength( void )
{
   return *ptr;
}

void display(Line obj)//here function receiving object as pass by value 
{
  cout << "Length of line : " << obj.getLength() <<endl;
}

// Main function for the program
int main( )
{
    Line line(10);
    display(line);//here i am calling outside function
   _getch();
   return 0;
} 
```

在上面，我将类的对象作为参数传递，并将接收它的显示函数作为值传递。我的疑问是，当我将对象传递给不是类成员的函数时，为什么要调用复制构造函数。如果我在函数[ie display(Line &Obj)] 中接收对象作为引用，`display()`则它不会调用复制构造函数。请帮助我有什么区别。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-06T06:47:53.757

当您按值传递某些内容时，复制构造函数用于初始化传递的参数——即，传递的是您提供的任何内容的副本，因此复制构造函数当然用于创建该副本。

如果您不希望复制该值，请改为通过（可能是 const）引用。

# c - 尝试通过指向常量数据的非常量指针修改数据，显示不同的错误

> ID：15240724
> 
> 赞同：-3
> 
> 时间：2013-03-06T06:44:06.687
> 
> 标签：c

我故意尝试通过指向常量数据的非常量指针来修改数据，显示不同的错误。我希望在编译器调用函数 function_try(const *sPtr) 时显示错误，但似乎它正在传递它并显示错误到下一步...请检查并指导我...谢谢大家

```
 void function_try(const *sPtr);

 int main(void)
 {
     int y = 29;

     function_try(&y);

     printf("%d\n",y)

     system("PAUSE");

     return 0;

     }

 void function_try(const *sPtr)
 {
      *sPtr = 100;

     } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:53:39.880

你可以运行这段代码，看看错误，你想看看

```
#include <stdio.h>
#include <stdlib.h>

void function_try(int *);

int main(void)
 {
     const int * y ;
     *y = 29;
     function_try(y);
     printf("%d\n",*y);
     return 0;

  }

 void function_try(int *sPtr)
 {
      *sPtr = 100;

 } 
```

你会得到的错误是

```
main.c:9:6: error: assignment of read-only location ‘*y’ 
```

除了错误消息，您还会收到这些警告。

```
main.c:10:6: warning: passing argument 1 of ‘function_try’ discards ‘const’ qualifier from pointer target type [enabled by default]
main.c:4:6: note: expected ‘int *’ but argument is of type ‘const int *’ 
```

# delphi - Delphi DLL 组织 - 静态和动态加载

> ID：15240729
> 
> 赞同：1
> 
> 时间：2013-03-06T06:44:35.117
> 
> 标签：delphi, dynamic, dll, static, libraries

我想这是一个常见问题，但谷歌搜索并没有提出解决方案。我只是在加载库时遇到了一些麻烦。

我为该库提供的资源是使用静态加载，这很好。我正在使用的其余库是动态加载的。

问题是我的程序现在被另一个应用程序（主机）作为库（它是一个插件）加载。这意味着 HOST 可执行文件的目录不是我的应用程序的程序目录。

静态加载的库（只是一个用于字体渲染的简单库）位于我的程序目录中，当我的软件作为插件加载时，找不到它。当我将我的软件作为“独立”程序（没有主机）加载时，没有问题。

我可以通过将“缺失”库放入主机应用程序的文件夹来解决问题，但这是一个糟糕的解决方案。

我还可以通过提供库名称的直接路径来解决它，但这也是一个糟糕的解决方案。我不知道最终用户将在哪里安装我的软件。

有没有办法解决这个问题而不必重写代码来使用动态加载？

要继续使用静态加载，必须注册库吗？我认为注册这个库太具侵略性了，因为其他程序可能正在使用它的不同版本。

```
const
  ft_lib = 'freetype6.dll';  //here is our problem. I could put a direct path
                             //here, to fix it, but I will not know this path
                             //on an end-user's machine

type
  FT_Library = Pointer;

function  FT_Init_FreeType(out alibrary : FT_Library ) : FT_Error;
  cdecl; external ft_lib name 'FT_Init_FreeType'; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T06:56:28.960

The program loader looks for DLLs on the system path. Just make sure that your freetype6.dll (and the DLLs that it requires) is either in the same directory as the host exe, or is in a directory that is in the file path (PATH environment variable).

For reference: [http://msdn.microsoft.com/en-us/library/7d83bc18(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/7d83bc18(v=vs.71).aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T07:34:52.810

我建议修改 PATH 是一个非常具有侵入性的解决方案。我建议尽量避免这种情况。您可以使用 SetDllDirectory 做到这一点。这会将目录添加到搜索路径，但会在本地对您的进程进行更改。

您的主机应用程序应在加载 DLL 之前立即调用 SetDllDirectory。然后将使用修改后的搜索路径解析 DLL 的任何依赖项。DLL 加载成功后，再次调用 SetDllDirectory 将搜索路径恢复为其默认值。

如果您无法控制主机，那么实现这一点可能会很棘手。你需要在你的 DLL 中调用 SetDllDirectory，然后就太晚了。您可以在主机和插件之间放置另一层。该层可以修改 DLL 搜索路径，然后使用 LoadLibrary 加载使用隐式链接的 DLL。

另一个明显的选择是停止使用隐式链接。使用 LoadLibrary 解决所有依赖项。这实际上并不像听起来那么难。

在现代 Delphi 中，您也可以使用延迟加载。只要修改了DLL搜索路径，在你调用延迟加载导入之前，它们就会解决。

# objective-c - 写入 Plist 的数据未保存

> ID：15240730
> 
> 赞同：0
> 
> 时间：2013-03-06T06:44:46.433
> 
> 标签：objective-c, plist

我对 plist 进行了一些更改，例如在 table.plist 中插入、删除和重新排序行。plist 在 vi​​ewDidDisappear 上更改为默认值。

我尝试了以下代码。

```
-(NSString *)dataFilePath{
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *dataFile = [documentsDirectory stringByAppendingPathComponent:@"ETCategoryList.plist"];
return dataFile;
}

//Code for deleting.
-(void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath
{
if(editingStyle == UITableViewCellEditingStyleDelete){
    [[self categoriesArray]removeObjectAtIndex:[indexPath row]];
    NSArray *indexPathsToRemove = [NSArray arrayWithObject:indexPath];
    [tableView deleteRowsAtIndexPaths:indexPathsToRemove withRowAnimation:UITableViewRowAnimationLeft];
    [tableView reloadData];
    NSArray *revisedArray = [[NSArray alloc]initWithArray:self.categoriesArray];
    [revisedArray writeToFile:[self dataFilePath]  atomically:YES];
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:58:08.607

你的代码是：

```
NSArray *revisedArray = [[NSArray alloc]initWithArray:self.categoriesArray];
[revisedArray writeToFile:[self dataFilePath]  atomically:YES]; 
```

哪个是对的！！！

问题应该来自`self.categoriesArray`，如果数组包含一些对象/自定义对象那么你不能直接写。

您需要将其归档到 NSData

```
NSData *objData = [NSKeyedArchiver archivedDataWithRootObject:object]; 
```

* * *

或者您可以在您的自定义类中对其进行编码。

```
- (void) encodeWithCoder:(NSCoder *)encoder {
    [encoder encodeObject:obj1 forKey:@"key1"];
    [encoder encodeFloat:obj2 forKey:@"key2"];
}

- (id)initWithCoder:(NSCoder *)decoder {
    self = [super initWithCoder:coder];
    obj1 = [coder decodeObjectForKey:@"key1"];
    obj2 = [coder decodeObjectForKey:@"key2"];
    return self;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:07:38.553

你的代码已经足够好了。它与我合作得很好。示例代码：

```
self.clickMeArray = [[NSMutableArray alloc] init];
       for(int i =1; i<10;i++)
    {
    [self.clickMeArray addObject:[NSDictionary dictionaryWithObject:[NSString stringWithFormat:@"n%d",i] forKey:[NSString stringWithFormat:@"iN%d",i]]];
    }
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString *dataFile = [documentsDirectory stringByAppendingPathComponent:@"MyName.plist"];
    [self.clickMeArray writeToFile:dataFile  atomically:YES]; 
```

尝试清理构建和重新启动。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T06:53:10.790

尝试这个

```
 - (void)viewDidLoad
{
[super viewDidLoad];
UIBarButtonItem *lefttBtn = [[UIBarButtonItem alloc] initWithTitle:@"Edit" style:UIBarButtonItemStylePlain
                                                            target:self action:@selector(EditTable:)];
[[self navigationItem] setLeftBarButtonItem:lefttBtn];
[lefttBtn release];
 }
- (void) EditTable:(id)sender
 {
if(self.editing)
{
    [super setEditing:NO animated:NO];
    [table setEditing:NO animated:NO];
    [table reloadData];
    [self.navigationItem.leftBarButtonItem setTitle:@"Edit"];
    [self.navigationItem.leftBarButtonItem setStyle:UIBarButtonItemStylePlain];
}
else
{
    [super setEditing:YES animated:YES];
    [table setEditing:YES animated:YES];
    [table reloadData];
    [self.navigationItem.leftBarButtonItem setTitle:@"Done"];
    [self.navigationItem.leftBarButtonItem setStyle:UIBarButtonItemStyleDone];
}
}

 -(void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath
{
if(editingStyle == UITableViewCellEditingStyleDelete){

 [[self categoriesArray]removeObjectAtIndex:indexPath.row];
 [[self categoriesArray] writeToFile:[self dataFilePath]  atomically:YES];
 [tableView reloadData];
} 
```

}

# java - 商业 Java 应用程序的免费帮助系统？

> ID：15240735
> 
> 赞同：0
> 
> 时间：2013-03-06T06:45:12.510
> 
> 标签：java, help-system

我正在为我的 Java 应用程序寻找帮助系统。因为它可能有一天会商业化，所以我需要一个允许这样做的系统，但目前不需要任何费用。

我知道总是有这样的问题“什么？你想用它赚钱但不想支付许可证费用？？”。目前我是一个没有钱的学生，所以我无法支付任何费用并寻找可用的免费解决方案。

到目前为止，我找到了其中两个：

[JavaHelp - HTML 帮助系统](http://javahelp.java.net/ "Java帮助")

[PDFhelp - JavaHelp 基于 PDF 的替代方案](http://pdfhelp.org/ "PDF帮助")

问题是：JavaHelp 在 GPL 2 下。因为我不想打开我的源代码，所以我不想使用它。PDFhelp似乎需要JPedal，一个商业PDF库，成本很高。

那么有没有可以用于我的项目的免费解决方案？直到现在，我没有找到任何其他的。唯一的方法是建立我自己的帮助系统。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T08:34:48.710

JavaHelp 在 GPL 2 下。但它包含 ClassPathException，这意味着我可以免费使用它而无需打开我的资源，只要我只包含库/jar 文件并且不修改它。

# android - android应用程序没有关闭

> ID：15240737
> 
> 赞同：0
> 
> 时间：2013-03-06T06:45:14.680
> 
> 标签：android, android-intent, android-activity, android-service, exit

我遇到了麻烦，我想从每次开始我的应用程序，但它不是。

1.  当我退出我的应用程序并再次出现时。我发现了我在退出前离开的相同活动。
2.  现在，如果我在我的应用程序处于前台时直接**关闭或关闭**我的 Android 设备，然后我**再次打开设备**。我得到了与我之前离开的相同的活动。但我想从登录页面重新申请。因为在打开设备后我的 setter & getter 为 null，我在我的应用程序中发现所有值为 null。

我的清单文件如下：

```
 <activity
        android:name=".Main"
        android:launchMode="singleTop"
        android:screenOrientation="portrait"
        android:theme="@android:style/Theme.Dialog" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <activity
        android:name=".screens.ScreenSplash"
        android:screenOrientation="portrait" />
    <activity android:name=".screens.LoginActivity" />
    <activity
        android:name=".screens.LoginActivity"
        android:configChanges="orientation|keyboardHidden" />
    <activity
        android:name=".screens.MainMenu"
        android:configChanges="orientation|keyboardHidden" /> 
```

请帮助我这是问题所在以及我该怎么办。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:49:21.883

添加到您的活动清单

```
android:clearTaskOnLaunch="true" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:49:46.510

根据您的清单 .Main 是启动器活动。因此，当您的应用程序从图标点击启动时，这是要显示的第一个活动，而不是如果您的应用程序在堆栈顶部没有任何其他活动。

因此，如果您想查看新的登录活动，请将登录活动设置为启动器活动。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T07:04:58.823

也许您想尝试设置`launchMode`为`standard`？

[http://developer.android.com/guide/topics/manifest/activity-element.html](http://developer.android.com/guide/topics/manifest/activity-element.html)

# c# - 将一系列数字表示为 xml 树

> ID：15240741
> 
> 赞同：0
> 
> 时间：2013-03-06T06:45:37.940
> 
> 标签：c#, xml, algorithm, recursion

我有一些数字说 110,111,114,115,120,121,112,122,130,131 现在我需要在 xml 树中列出它们

```
 - 110
 - 111  
    -114
    -115
      -120
      -121
      -122
 - -112
   -130
   -131 
```

也就是说，如果一个数字 x[i+1] 是 x[i] +1，那么两者都被添加为同一棵树的子级。否则将 x[i+1] 添加到子树到 x[i]

我知道它必须以递归方式完成，但我是如此愚蠢以至于我无法做到正确？急需帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:48:56.130

> 也就是说，如果一个数字 x[i+1] 是 x[i] +1，那么两者都被添加为同一棵树的子级。否则将 x[i+1] 添加到子树到 x[i]

根据此描述，您不会到达树的高层。所以你的树应该如下所示：

```
- 110
 - 111  
    -114
    -115
      -120
      -121
      -122
        -112
          -130
          -131 
```

只需跟踪最后一个父节点，如果 x[i+1] <> x[i] +1，则将父节点重新分配给最后一个节点。然后将新节点添加到保存的父节点

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:44:21.267

它实际上如您所描述的那样工作，但该描述比递归更线性：

> 如果一个数字 x[i+1] 是 x[i] +1 则两者都被添加为同一棵树的子节点。否则将 x[i+1] 添加到子树到 x[i]

所以这只是一个循环，将前一个节点初始化为 xml 文档的根元素。对于提供的数字序列

```
110,111,114,115,120,121,112,122,130,131 
```

然后它会生成以下 XML（[PHP 示例](http://eval.in/private/061589aeb10385)）：

```
<?xml version="1.0"?>
<root>
  <node value="110"/>
  <node value="111">
    <node value="114"/>
    <node value="115">
      <node value="120"/>
      <node value="121">
        <node value="112">
          <node value="122">
            <node value="130"/>
            <node value="131"/>
          </node>
        </node>
      </node>
    </node>
  </node>
</root> 
```

因此，在编写代码之前，我认为您首先需要更正确地指定您实际想要遵循的逻辑。除非它不明显，否则您无法决定是否要使用递归、xpath 表达式等来解决它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:00:51.547

更新（订购）结果 XML：

```
 <root>
     <node value="110" />
     <node value="111">
         <node value="114" />
         <node value="115">
             <node value="120" />
             <node value="121" />
         </node>
     </node>
     <node value="112">
         <node value="122">
            <node value="130" />
            <node value="131" />
         </node>
     </node>
   </root> 
```

我曾经考虑过这段代码中的顺序

```
XmlDocument doc = new XmlDocument();
int[] numArray = new int[] { 110, 111, 114, 115, 120, 121, 112, 122, 130, 131 };
XmlElement head = doc.CreateElement("root");      
doc.AppendChild(head);

XmlElement cur = doc.CreateElement("node");
cur.SetAttribute("value", numArray[0].ToString());
head.AppendChild(cur);
int pos = 0;
BuildXml(numArray, ref pos, ref doc, head, cur); 
```

和递归函数

```
public static void BuildXml(int[] numArray, ref int pos, ref XmlDocument doc, XmlElement parNode, XmlElement curNode)
{
    if (pos < numArray.Length-1)
    {
        if (numArray[pos] + 1 == numArray[pos + 1])
        {
            XmlElement current = doc.CreateElement("node");
            current.SetAttribute("value", numArray[pos + 1].ToString());
            parNode.AppendChild(current);
            pos++;
            BuildXml(numArray, ref pos, ref doc, parNode, current);
        }
        else if (numArray[pos] < numArray[pos + 1])
        {
            XmlElement current = doc.CreateElement("node");
            current.SetAttribute("value", numArray[pos + 1].ToString());
            curNode.AppendChild(current);
            pos++;
            BuildXml(numArray, ref pos, ref doc, curNode, current);
        }
        else
        {
            XmlElement elem = null;
            foreach (XmlElement nodes in doc.FirstChild.ChildNodes) GetNode(nodes, numArray[pos + 1], ref elem);                
            XmlElement current = doc.CreateElement("node");
            current.SetAttribute("value", numArray[pos + 1].ToString());
            ((XmlElement)elem.ParentNode).AppendChild(current);
            pos++;
            BuildXml(numArray, ref pos, ref doc, ((XmlElement)elem.ParentNode), current);
        }         
    }
}

public static void GetNode(XmlElement elem, int val, ref XmlElement found)
{
    if (int.Parse(elem.GetAttribute("value")) < val)
        if (found == null || int.Parse(found.GetAttribute("value")) < val) found = elem;
    foreach (XmlElement childElem in elem.ChildNodes) GetNode(childElem, val, ref found);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T07:53:33.630

你需要一些堆栈；

```
stack<int> nodeHierarchy; 
```

然后算法很简单：检查元素是否高于前一个。如果是这样，那将是它的兄弟姐妹或孩子。

否则，您需要返回堆栈并再次执行此操作。

如果元素是兄弟，则需要再次返回堆栈。

让我们假设 root 为 0 并且所有其他元素都高于 0。

```
nodeHierarchy.push(0); //root
foreach(int element){
    while(nodeHierarchy.top() + 1 >= element)nodeHierarchy.pop();
    //put element as next nodeHierarchy.top() child
    nodeHierarchy.push(element);
} 
```

我相信，这就是你的想法，但你描述错了。如果我错了，其他两个答案应该是正确的。

# c# - 为 WPF 窗口应用程序添加计划任务模块

> ID：15240744
> 
> 赞同：2
> 
> 时间：2013-03-06T06:46:17.920
> 
> 标签：c#, .net, wpf, command-line, scheduled-tasks

我有一个小程序，它使用本地 PC 中可用的打印机驱动程序将 doc 文件从指定文件夹转换为 pdf 和 XPS 格式。

现在我需要向该程序添加一个调度程序，该程序由用户在后台使用诸如 folder_where_doc_files、Destination_Folder、Date_Time 等参数进行调度，是否每天等，等等。

这是一个 WPF C# 窗口应用程序。用户请求使用命令行来安排任务。

我无法分析如何进一步进行。

我检查了一些链接，其中“schtaks”命令可用于创建任务。如何将我想要的参数发送给它。即使我这样做了，我的应用程序也会在后台启动。如何启动转换过程，如表单加载等任何事件等。

我真的很困惑，请澄清这个困惑

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:02:52.287

一种可能的设计是

1-创建一个控制台应用程序，该应用程序从用户那里获取输入并将其存储在本地或服务器上

2-创建一个Windows服务，它将定期检查您的存储（本地/服务器）以备下次运行。

3- 每次运行后将上次运行时间保存在本地/服务器中以计算下一个时间表。

计划任务需要在计划任务本身中存储用户/密码，并且每次用户更改系统密码时都需要更新。

# debugging - 使用 Weinre 进行远程 Javascript 调试（Web Inspector Remote）

> ID：15240745
> 
> 赞同：0
> 
> 时间：2013-03-06T06:46:18.613
> 
> 标签：debugging, mobile, weinre

我们可以使用 weinre 远程同时调试更多的三个手机吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-04T00:24:41.477

Why not? Just select a device you want to debug:

![enter image description here](../Images/7739a9fab2528ca83290b9302a95a6a7.png)

See great set of instructions on how to setup weinre: [https://stackoverflow.com/a/22047495/775359](https://stackoverflow.com/a/22047495/775359)

# jquery - 如何检测 jquery.trigger 何时引发点击事件？

> ID：15240746
> 
> 赞同：1
> 
> 时间：2013-03-06T06:46:20.010
> 
> 标签：jquery

我有一个按钮，当它被点击时会做一些动作。例如

```
$(function() {

    $('button1').click(function(e){
        /** This is just a pseudocode

        if( me.triggering ) {
            doTrigger();
        }else{
            doClick();
        }

        **/
    })

    $('button2').click(function(e){
        $('button1').trigger('click')
    })

}); 
```

如何判断事件是通过调用`trigger`还是来自用户点击来执行？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T06:50:18.853

检查`e.originalEvent`. 它应该在真正点击的情况下设置：

```
$('button1').click(function(e) {
    if (e.originalEvent) {
        doClick();
    }
    else {
        doTrigger();
    }
}); 
```

[http://jsfiddle.net/nCzaC/](http://jsfiddle.net/nCzaC/)

您还可以在触发事件时传递额外的标志参数来区分触发器：

```
$('#button1').trigger('click', [true]);

$('#button1').click(function (e, trigger) {
    if (!trigger) {
        alert('do click');
    } else {
        alert('do trigger');
    }
}) 
```

# c - 为什么 Mingw32 提供的 WinBase.h 不包括 Windows 7 的“SetProcessDEPPolicy”？

> ID：15240754
> 
> 赞同：1
> 
> 时间：2013-03-06T06:46:28.927
> 
> 标签：c, windows, winapi, mingw32

我发现`SetProcessDEPPolicy`(in `WinBase.h`) 的函数定义仅在`_WIN32_WINNT >= 0x601`. 为什么 MingW32`_WIN32_WINNT = 0x400`为 Windows 7 设置了排除定义？我检查了`kernel32.dll`Windows 7)，它包含的`SetProcessDEPPolicy`功能没问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T14:06:53.273

> 我发现只有当 _WIN32_WINNT >= 0x601 时才包含 SetProcessDEPPolicy 的函数定义（在 WinBase.h 中）。

但是，在[MSDN](http://msdn.microsoft.com/en-us/library/windows/desktop/bb736299%28v=vs.85%29.aspx "MSDN")上，它说您需要将其定义为`_WIN32_WINNT >= 0x600`带有 SP1 的 Windows Vista 及更高版本。[适用于 Window 7。在此处](http://msdn.microsoft.com/en-us/library/windows/desktop/aa383745%28v=vs.85%29.aspx "窗口标题")`0x601`阅读有关 Windows 标头的更多信息。

对于每个新版本的 Windows，Windows API 都会更改以添加新功能。Windows 头文件告诉编译器哪个函数在哪个版本的 Windows 上可用。

> 为什么 MingW32 为 Windows 7 设置 _WIN32_WINNT = 0x400 以排除定义？

因为如果不是这样，那么使用 MingW 编译的所有应用程序很可能只能在 Window 7 及更高版本上运行。

当您`_WIN32_WINNT`在项目中定义时，您只是告诉编译器您的目标是哪个版本的 Windows。如果您将其定义为`0x0601`能够调用类似的函数，`SetProcessDEPPolicy`那么您的应用程序将无法在早期版本的 Windows 上运行。

要支持尽可能多的 Windows 版本，您需要降级`_WIN32_WINNT`到您希望应用程序在其上运行的最低版本的 Windows。这将确保您的应用程序使用的是通用的 API，并且可用于您的目标版本及更高版本。但这将排除在更高版本的 Windows 上引入的所有“新”功能。

默认情况下，MingW 设置`_WIN32_WINNT = 0x400`为使您的应用程序可以在所有可能的 Windows 版本上运行。但是，如果您的应用程序需要调用特定版本的 Windows 上可用的函数，那么您需要更改`_WIN32_WINNT`为适当的版本才能执行此操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:41:10.240

这是正常的，也正是它应该是的样子。

在您的应用程序中，您需要设置`_WIN32_WINNT`您的目标 Windows 版本，以便获得适当的 API。

来自 MSDN：

> 要编译调用此函数的应用程序，请定义`_WIN32_WINNT`为 0x0600 或更高版本。

MingW 很可能设置了一个合理的默认值（NT4.0），允许您在需要时增加它。

# monitoring - Icinga - check_yum - 套接字超时？

> ID：15240759
> 
> 赞同：2
> 
> 时间：2013-03-06T06:46:46.437
> 
> 标签：monitoring, nagios, nrpe

我正在使用我的 Icinga-Monitoring-Environment 中的 check_yum - 插件来检查是否有可用的安全关键更新。这工作得很好，但有时我会收到“CHECK_NRPE：xx 秒后的套接字超时”。在执行检查时。目前我的 NRPE-Timeout 是 30 秒。如果我重新安排检查几次或直接从具有更高 nrpe-timeout-value 的 Icinga-Server 执行检查，则一切正常，至少在执行几次检查之后。通过 NRPE 进行的所有其他检查都不会引发任何错误。所以我认为我的 NRPE 配置或我正在使用的插件没有一般错误。check_yum - 插件的这种奇怪行为有什么解释吗？也许受监控的服务器上有一些缓存问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T04:34:35.913

首先，请确保您使用的是 1.0 版本的此检查：[https](https://code.google.com/p/check-yum/downloads/detail?name=check_yum_1.0.0&can=2&q=) ://code.google.com/p/check-yum/downloads/detail?name=check_yum_1.0.0&can=2&q= 我看到的变化在那个版本中可以解决这个问题，这取决于它的根本原因。

其次，如果您的服务器未配置为使用所有“本地”缓存存储库，则此检查可能会在 30 秒截止日期之前超时。因为：1> 来自刷新/更新的数据量非常大，可能需要很长时间才能从远程（包括 RH）服务器下载 2> 大多数“官方”更新服务器往往会离线很多。

我发现的最佳解决方案是让一个 cronjob 以设定的时间间隔（我每周使用一次）执行更新检查，并创建一个包含系统所需安全补丁的日志文件。然后通过一个简单的 shell 脚本使用 Nagios 检查来查看该文件中是否有任何新项目。

# javascript - 基于鼠标滚动的无限滚动

> ID：15240760
> 
> 赞同：0
> 
> 时间：2013-03-06T06:46:57.313
> 
> 标签：javascript, jquery, ajax

想在鼠标到达指定容器底部时实现基于鼠标滚动的无限滚动。[在搜索http://www.infinite-scroll.com/](http://www.infinite-scroll.com/)后，我来到了这个插件，它需要以下基本要求：

```
// infinitescroll() is called on the element that surrounds 
// the items you will be loading more of
  $('#content').infinitescroll({

    navSelector  : "div.navigation",            
                   // selector for the paged navigation (it will be hidden)
    nextSelector : "div.navigation a:first",    
                   // selector for the NEXT link (to page 2)
    itemSelector : "#content div.post"          
                   // selector for all items you'll retrieve
  }); 
```

即下一个和上一个选择器。我们可以基于鼠标滚动无限滚动而不是单击下一个，上一个链接，即当鼠标到达指定容器底部时，通过 ajax 加载内容

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:58:01.267

向滚动事件添加一个函数并检查您是否向下滚动到底部。您必须根据您的布局调整数字并稍微调整代码：

```
var $window = $(window);

$(document).ready(function () {

        $(window).scroll(function () {
            var scrollheight2;
            scrollheight2 = $window.scrollTop();

            if (($("#content").height() - scrollheight2) <= 100) {
                    //AJAX STUFF
            }
        });
    }); 
```

# sql - 创建触发器以将表中的记录插入到另一个表中。表“A”的触发列在表“B”中插入为空

> ID：15240767
> 
> 赞同：0
> 
> 时间：2013-03-06T06:47:13.600
> 
> 标签：sql, sql-server, triggers

我有两张桌子`tbl_PurchaseDetails`和`tbl_ItemDetails`. `tbl_ItemDetails`我需要在from中插入一些记录`tbl_PurchaseDetails`，就在它插入之后`tbl_PurchaseDetails`。`tbl_PurchaseDetails`具有自动生成的自定义字段`PurchaseID`。

**自动生成的代码`PurchaseID`是：-** **此触发器完美运行**

```
CREATE FUNCTION CreatePurchaseID (@id INT) 
RETURNSvarchar(10)
AS
BEGIN
RETURN 'P' + CONVERT(VARCHAR(10), @id)
END

CREATE TRIGGER trigger_PurchaseID ON tbl_PurchaseDetails 
FOR INSERT AS
UPDATE
    tbl_PurchaseDetails 
SET
    tbl_PurchaseDetails.PurchaseID = dbo.CreatePurchaseID(tbl_PurchaseDetails.ID) 
FROM
    tbl_PurchaseDetails 
INNER JOIN 
INSERTED on tbl_PurchaseDetails.ID= INSERTED.ID 
```

**我已经为触发器编写了以下代码以插入`tbl_ItemDetails`：-**

```
CREATE TRIGGER trigger_UpdateItemDetails ON tbl_PurchaseDetails
FOR INSERT AS
DECLARE @PurchaseID VARCHAR(20)
DECLARE @Quantity INT
DECLARE @WarehouseID VARCHAR(20)

SELECT @PurchaseID=(PurchaseID) FROM INSERTED
SELECT @Quantity=(ItemQuantity) FROM INSERTED
SELECT @WarehouseID=(WarehouseID) FROM INSERTED

INSERT INTO 
tbl_ItemDetails
(PurchaseID,Quantity,WarehouseID)
VALUES
(
@PurchaseID,@Quantity,@WarehouseID
) 
```

**现在，当我插入`tbl_PurchaseDetails`记录时`tbl_PurchaseDetails`，已`tbl_ItemDetails`成功添加。这里的问题是，`PurchaseID`在`tbl_ItemDetails`. 它按预期插入`tbl_PurchaseDetails`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:30:29.777

根据我的评论，这就是我所拥有的：

```
CREATE TABLE PurchaseDetails ( --Why have a tbl_ prefix on every table?
     ID int IDENTITY(1,1) not null,
     PurchaseID as 'P' + CONVERT(VARCHAR(10), ID),
     --Other columns
) 
```

那么我就不需要你的第一个触发器和函数了。然后我可以将第二个触发器重写为：

```
CREATE TRIGGER trigger_UpdateItemDetails ON PurchaseDetails
FOR INSERT AS
   INSERT INTO ItemDetails(PurchaseID,Quantity,WarehouseID)
   SELECT PurchaseID,ItemQuantity,WarehouseID
   FROM inserted 
```

它处理`inserted`可能包含多行的问题。

* * *

回复：我在第一个片段中关于`tbl_`前缀的评论 - 我认为这不仅仅是添加冗余信息，它增加了混淆的可能性。唯一可以在查询中的相同位置模糊地出现的两种类型的对象是表和视图。任何其他类型的对象（函数、存储过程、列、参数等）总是可以在使用时通过语法来区分。

而且，您应该尽可能不*希望*或*不需要*区分表和视图。能够完全更改一个表，然后提供一个与原始表具有相同布局和相同名称的视图，然后不必更改任何其他代码，这是 SQL 的一大优点。但是当您必须为视图命名时感觉有点傻，`tbl_ABC`因为您使用`tbl_`的是表的前缀。

# mobile - 如何在不弹出任何邮件客户端的情况下从 flex 移动应用程序 4.6 发送邮件。我打算在 Ios 和 Android 上部署这个应用程序。

> ID：15240770
> 
> 赞同：0
> 
> 时间：2013-03-06T06:47:33.693
> 
> 标签：mobile, flex4.6, flash-builder4.5

我是 flex 4.6 的新手，想发送带有自动生成的所有电子邮件字段的邮件。我想一键完成这一切。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:31:03.507

请参阅Christophe Coenraets 的 Android、Blackberry 和 iOS[员工目录示例项目：](http://www.adobe.com/devnet/flex/articles/employee-directory-android-flex.html)

```
protected function list_changeHandler(event:IndexChangeEvent):void
{
    var action:Object = list.selectedItem;
    switch (action.type)
    {
        case "tel":
            navigateToURL(new URLRequest("tel:"+action.details));
            break;

        case "sms":
            navigateToURL(new URLRequest("sms:"+action.details));
            break;

        case "mailto":
            navigateToURL(new URLRequest("mailto:"+action.details));
            break;
    }                   
} 
```

对于主题和其他字段，请尝试在邮件地址后附加`?subject=`和`&body=`最终结合[转义功能](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/package.html#escape%28%29)。

![在此处输入图像描述](../Images/d677088641d46cebd388d07e90bd92d1.png)

# filepicker.io - 当“适合”参数设置为“裁剪”文件选择器时，水印会失真

> ID：15240774
> 
> 赞同：0
> 
> 时间：2013-03-06T06:47:50.323
> 
> 标签：filepicker.io, filepicker

我正在使用文件选择器服务上传图像。当我转换图像并添加水印时，如果“fit”参数设置为“max”以外的任何值，它会失真。我错过了什么吗？

[这](https://www.filepicker.io/api/file/hFHUCB3iTxyMzseuWOgG/convert?watermark=http://www.filepicker.io/static/img/watermark.png&watersize=20&waterposition=top,left&w=200&h=200&fit=crop)是一个示例，[这](https://developers.filepicker.io/docs/web/#fpurl-images)是关于图像转换的 Filepicker.io 文档

# emgucv - 绝对差异 EmguCv

> ID：15240782
> 
> 赞同：1
> 
> 时间：2013-03-06T06:48:09.637
> 
> 标签：emgucv

我最近从 OpenCv 切换到 Emgu CV .. 在 opencv 中，我使用计算绝对差异，`cvAbsDiff(Frame1,Frame2,foreground);` 并且我可以检查帧差异的值：`if(cvNorm(frame2,frame1) > xyz){ ... }` 在 Emgu cv 中，我计算为：`Difference = Previous_Frame.AbsDiff(Frame);` 如解释[这里](http://www.emgu.com/wiki/index.php/CompareImages_-_Difference)差异的类型是图像..我想知道，我怎样才能得到差异的价值（双）？谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:57:18.597

你能再澄清一下你的问题吗？

但是使用 CvInvoke，您可以：

```
CvInvoke.cvAbsDiff(frame1, frame2, foreground);
double valueInDouble = CvInvoke.cvNorm(frame1, frame2, NORM_TYPE.CV_DIFF, IntPtr.Zero);

if (valueInDouble < xyz){} 
```

Mask 是一个可选参数（在 OpenCV 文档中设置为 NULL），因此您可以将其设置为 IntPtr.Zero

# c# - 我可以让 StructureMap 管理具体类型的生命周期吗？

> ID：15240784
> 
> 赞同：4
> 
> 时间：2013-03-06T06:48:17.920
> 
> 标签：c#, inversion-of-control, ioc-container, structuremap

我有一种叫做 TypeA 的类型。

TypeA 实现了 2 个接口： IOne 和 ITwo

```
public class TypeA : IOne, ITwo
{
    public TypeA(IThree ithree)
    {
         ...
    }
} 
```

我想配置 StructureMap 以便每个线程只有一个 TypeA 实例。我希望 IITHER IOne 或 ITwo 的任何分辨率都返回相同的 TypeA 实例（每个线程一个）。

我尝试了以下配置：

```
ObjectFactory.Configure(x =>
{
    var thread = Lifecycles.GetLifecycle(InstanceScope.ThreadLocal);
    x.For<TypeA>().LifecycleIs(thread).Use<TypeA>();
    x.For<IOne>().LifecycleIs(thread).Use<TypeA>();
    x.For<ITwo>().LifecycleIs(thread).Use<TypeA>();
    x.For<IThree>().LifecycleIs(thread).Use<TypeB>();
}); 
```

然后像这样解决

```
var test = ObjectFactory.GetInstance<IOne>();
var test2 = ObjectFactory.GetInstance<ITwo>(); 
```

但是这两个调用解析到不同的对象。

首先，我尝试使用 StructureMap 实现的目标是什么？如果是这样，那我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T18:38:14.287

```
For<IOne>().LifecycleIs(thread).Use<Impl>();
For<ITwo>().LifecycleIs(thread).Use(x => x.GetInstance<IOne>() as Impl); 
```

* * *

回复评论：

```
For<Impl>().LifecycleIs(thread).Use<Impl>();
For<IOne>().LifecycleIs(thread).Use(x => x.GetInstance<Impl>());
For<ITwo>().LifecycleIs(thread).Use(x => x.GetInstance<Impl>()); 
```

这将做你想要的。我个人的观点是，因为您正在控制 StructureMap 的配置，您可以假设请求对象（ITwo）将返回一个非空值，并且第一个配置很好。这是一个偏好问题。

# unity3d - 统一 3d 中的阴影

> ID：15240785
> 
> 赞同：1
> 
> 时间：2013-03-06T06:48:19.257
> 
> 标签：unity3d, shadow

我正在统一 3d 中工作。我必须为角色控制器制作阴影。我试图做到这一点并改为硬阴影。但是阴影是不可见的。场景中有定向光，强度为 0.5 如何使它们可见？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:52:31.120

您的意思是您尝试为已应用角色控制器的模型制作阴影？- 独立的角色控制器并不意味着可见或阴影

您是否在场景中添加了任何类型的灯光，这是强制性的，以便可以删除阴影

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T12:46:58.263

只有一个定向光会投射阴影，因此请确保没有 2+。还要确保将其设置为重要。

如果您足够近地看到它们，那么它们应该出现，您在质量设置中定义它们不是“远距离”（对于远距离有光照贴图）关闭，因为您按照统一定义的默认人体尺寸（从角色包 - 大约 2-3 个 3d 单位高），意味着 20 人左右的高度

哦，确保您不在移动目标项目上，因为在移动设备上没有从[这里拍摄的阴影](http://forum.unity3d.com/threads/89037-No-shadows)

虽然[影子要求](http://docs.unity3d.com/Documentation/Manual/Shadows.html)说在某些移动设备中可以使用影子，但是当目标是移动设备时，我的统一项目中从来没有任何影子。

# xcode - 为什么 iPad 应用程序构建在 xcode 中失败，并在创建临时目录时出错？

> ID：15240792
> 
> 赞同：1
> 
> 时间：2013-03-06T06:49:09.903
> 
> 标签：xcode, ipad, build-error

我正在使用 Xcode 4.6，并尝试在 iPad 6.1 模拟器中运行一个简单的应用程序，构建失败并显示错误消息

```
mkdir: /Users/chakradar.r/Library/Developer/Xcode/DerivedData/dino-eddkhtnsnrlgwjgqnaceabrxcjsh/Build/Products/Debug-iphonesimulator/dino.app/wwwof: File exists 
```

那是一个临时目录，我什至在删除目录后尝试构建它，它再次失败并显示类似消息。

一旦我的 Xcode 没有响应，所以我在此应用程序运行时强制退出 Xcode，我怀疑这可能是失败的原因。错误消息没有帮助，我该如何解决这种情况？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T07:24:08.657

虽然我不知道您收到此错误的确切原因。以下是您可以在这些情况下尝试的一些通用步骤：

*   在模拟器应用程序中，转到*“iOS 模拟器”*（在顶部菜单中），选择*“重置内容和设置...”*

*   在 Xcode 中转到*“产品”*然后*“清洁”*

*   在 Xcode 中，转到*'Window'*然后*'Organizer'*，单击顶部的*'Projects'*图标，在左侧列表中找到您的项目，然后单击*'Derived Data'*旁边的*'Delete... '*

**   重新启动您的 Mac（是的，有时这确实可以解决一些问题）* 

 *您可以单独或全部尝试这些选项中的任何一个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-05-28T07:28:51.627

我什至也不知道确切的根本原因，但是

杀死 Xcode 和 Simulator 并再次运行该应用程序，它开始为我工作。*

# c# - 在 asp.net 中的 server.transfer 后验证不起作用

> ID：15240798
> 
> 赞同：0
> 
> 时间：2013-03-06T06:49:35.457
> 
> 标签：c#, asp.net, validation, server.transfer

```
 <td align="left" width="15%" class="body_txt" style="padding-right: 2px; padding-left: 25px;">
            <asp:Label ID="lblFirstName" runat="server" Text="First Name:"></asp:Label>
        </td>
        <td width="35%" align="left" style="padding-left: 25px;">
            <asp:TextBox ID="txtFirstName" Width="175px" MaxLength="50" runat="server" CssClass="txt_bx"></asp:TextBox>
            <asp:RegularExpressionValidator ID="RegularExpressionValidatorFirstName" ControlToValidate="txtFirstName"
                SetFocusOnError="true" runat="server" ErrorMessage="*" EnableClientScript="true" ValidationExpression="([a-z]|[A-Z])*"
                ForeColor="Black"></asp:RegularExpressionValidator>
        </td>
        <td width="15%" class="body_txt" align="left" style="padding-right: 2px; padding-left: 25px;">
            <asp:Label ID="lblLastName" runat="server" Text="Last Name:"></asp:Label>
        </td>
        <td width="35%" align="left" style="padding-left: 25px">
            <asp:TextBox ID="txtLastName" Width="175px" MaxLength="50" runat="server" CssClass="txt_bx"></asp:TextBox>
            <asp:RegularExpressionValidator ID="RegularExpressionValidatortxtLastName"  EnableClientScript="true" ControlToValidate="txtLastName"
                SetFocusOnError="true" runat="server" ErrorMessage="*" ValidationExpression="([a-z]|[A-Z])*"
                ForeColor="Black"></asp:RegularExpressionValidator>
        </td> 
```

当我在 Response.Redirect 之后进入此页面时，我的验证工作正常

但是，在 Server.Transfer 到此页面验证停止工作并且表单在按钮单击时进行回发之后

**上一页背后的代码：**

```
 protected void btnEdit_Click(object sender, EventArgs e)
    {
        try
        {
            for (int i = 0; i < lstEmployee.Rows.Count; i++)
            {
                GridViewRow row = lstEmployee.Rows[i];
                bool isChecked = ((RadioButton)row.FindControl("RowSelector")).Checked;

                if (isChecked)
                {
                    iEmployeeId = Convert.ToInt32(row.Cells[0].Text);
                    hdnEmployeeId.Value = Convert.ToString(iEmployeeId);
                    Server.Transfer("EmployeeMaint.aspx", true);
                }
            }
        } 
```

**登陆页面背后的代码：**

```
 protected void btnAdd_Click(object sender, EventArgs e)
    {
        try
        {

            if (iEmployeeId != 0)
            {
                UpdateEmployeeDetails(iEmployeeId);
                Response.Write("<script> alert('User Updated sucessfully. ');window.location.href='Employee.aspx'; </script> ");
            }
            else
            {
                InsertEmployeeDetails();
                Response.Write("<script> alert('User Added sucessfully. ');window.location.href='Employee.aspx'; </script> ");
            }
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T06:59:18.347

原因可能是：

`As Response.Redirect informs Client(Browser) and then Redirect the page, so validation work is working fine(as validation is done on client side)`

`whereas Server.Transfer will directly transfer to requested page without informing client, avoiding extra round trip so validation isn't done`

`Also Since we are not informing client -> web address on the client won't change`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:40:30.377

我只是避免使用 server.transfer ，因为在使用此方法时，某些功能经常无法正常工作。server.transfer 方法的唯一优点是它不需要来自客户端的另一个请求，这只会在非常繁忙的服务器上产生影响。

这是我推荐的。

*   使用 Response.Redirect() 转移到另一个页面
*   使用会话或应用程序或 Cookie 将参数从一个页面传输到另一个页面。

# django - 如何在 Django 中运行一系列 manage.py 命令？

> ID：15240803
> 
> 赞同：2
> 
> 时间：2013-03-06T06:49:58.900
> 
> 标签：django

我有一个 Django 项目。每次部署时，都需要运行一系列manage.py命令（如syncdb、南迁移、fixture update）。

我厌倦了逐行键入命令行，因此我编写了一个 python 脚本来执行这些操作：

```
import subprocess
subprocess.call(['python', 'manage.py', 'syncdb'])
#Skip the detail
subprocess.call(['python', 'manage.py', 'loaddata', 'setup/fixture.xml']) 
```

我想知道是否有更好的方法来做到这一点？

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T06:57:03.353

您可以使用`fabric`，一个允许您编写远程操作脚本的 Python 库。[This question](https://stackoverflow.com/questions/6374921/best-fabric-scripts-for-django)在接受的答案中有一些链接，以获取有关`fabric`django的更多信息。

您也可以[直接调用管理命令](https://docs.djangoproject.com/en/1.5/ref/django-admin/#running-management-commands-from-your-code)：

```
from django.core.management import call_command

call_command('syncdb')
call_command('loaddata', 'setup/fixture.xml') 
```

将其保存为普通的 python 文件并从您的 shell 或作为部署脚本的一部分执行。

# php - Mysql如何将数据从一个字段复制到同一张表中的另一个字段

> ID：15240809
> 
> 赞同：0
> 
> 时间：2013-03-06T06:50:25.497
> 
> 标签：php, mysql, sql, phpmyadmin, sql-update

我有mysql表如下：

```
 id      host             url
--------------------------------------
    1                   test.com/index.php
    2                   domain.com/list
    3                   www.stackoverflow.com/questions/ask 
```

我需要如下输出

```
 id      host                 url
------------------------------------------
    1     test.com             test.com/index.php
    2     domain.com           domain.com/list
    3     stackoverflow.com    www.stackoverflow.com/questions/ask 
```

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T06:53:31.643

使用[**`SUBSTRING_INDEX(str, delim, count)`**](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_substring-index)：

```
UPDATE tablename
SET host = SUBSTRING_INDEX(url, '/', 1); 
```

## [SQL 小提琴演示](http://sqlfiddle.com/#!2/b9e0a/1)

这将使您的表格看起来像：

```
| ID |                  HOST |                                 URL |
--------------------------------------------------------------------
|  1 |              test.com |                  test.com/index.php |
|  2 |            domain.com |                     domain.com/list |
|  3 | www.stackoverflow.com | www.stackoverflow.com/questions/ask | 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T06:53:16.853

假设您的表名为`t`：

```
UPDATE t
SET host=SUBSTRING_INDEX(url, '/', 1); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T06:54:33.093

使用[SUBSTRING_INDEX](http://dev.mysql.com/doc/refman/5.6/en/string-functions.html#function_substring-index)

```
UPDATE tbl1 SET host = SUBSTRING_INDEX(url, '/', 1) 
```

# jsf - 如何根据从托管 bean 接收的值获取资源包值？

> ID：15240812
> 
> 赞同：2
> 
> 时间：2013-03-06T06:50:50.743
> 
> 标签：jsf, xhtml, facelets, resourcebundle

我正在寻找是否可以根据从托管 bean 接收的值获取资源包值的可能性。它在数据表、数据网格以及呈现值的其他组件中可能很有用。

我试过这段代码：

```
<h:outputText value="#{resourceBundle['myBean.myMsg']}" /> 
```

但它没有用。我的 outputText 无法从资源包中获取值。结果是这样的：

```
???myBean.myMsg 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T07:28:28.113

如果你得到这意味着它在你的资源文件中`???myBean.myMsg`找不到*myBean.myMsg字符串......*

我猜您想使用 myBean.myMsg 中的密钥（而不是字符串*myBean.myMsg*）？

在这种情况下，只需删除`''`它周围的

```
<h:outputText value="#{resourceBundle[myBean.myMsg]}" /> 
```

否则它将被用作字符串而不是 EL 表达式

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T07:21:55.803

*如果您想在所有*视图中访问它，您需要在 中**声明您的包，例如：`faces-config.xml`**

 *```
<application>
    <resource-bundle>
        <base-name>path-to-your-resource-bundle</base-name>
        <var>bundle</var>
    </resource-bundle>
</application> 
```

这样它就可以在视图中访问

```
<h:outputText value="#{bundle['myBean.myMessage']}" /> 
```

或**直接将其加载到您的视图**中

```
<f:loadBundle basename="path-to-your-resource-bundle" var="bundle" />
<body>
    <h:outputText value="#{bundle['myBean.myMessage']}" />
</body> 
```

在任何情况下，您的资源包都必须包含字符串，其中包含消息的名称和值对。

```
myBean.myMessage = This is my message 
```

另外值得注意的是，资源包应该放在`src/main/resources`项目的文件夹中。因此，`bundle.properties`在上述文件夹中将`base-name`有`bundle`.

关于用法：

*   使用消息包本身的字符串：`<h:outputText value="#{bundle['myBean.myMessage']}" />`
*   使用托管 bean 的属性，该属性从包中评估为您想要的字符串：`<h:outputText value="#{bundle[myBean.myMessage]}" />`with

    ```
    @ManagedBean
    @...Scoped
    public class MyBean {

        private String myMeggase = "bundle.string";//getter + setter

    } 
    ```

*   将值存储在 中`<ui:param>`，这在模板中可能很有用：

    ```
    <ui:param name="bndl" value="#{myBean.myMessage}"/>
    <h:outputText value="#{bundle[bndl]}" /> 
    ```

    使用相同的托管 bean。*

# git - Git，致命：远程端意外挂断

> ID：15240815
> 
> 赞同：426
> 
> 时间：2013-03-06T06:51:02.837
> 
> 标签：git, github

当我试图跑

```
git push origin master --force 
```

我刚得到

```
Counting objects: 2649, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (1280/1280), done.
error: RPC failed; result=22, HTTP code = 413 | 116 KiB/s   
fatal: The remote end hung up unexpectedly
Writing objects: 100% (2504/2504), 449.61 MiB | 4.19 MiB/s, done.
Total 2504 (delta 1309), reused 2242 (delta 1216)
fatal: The remote end hung up unexpectedly
Everything up-to-date 
```

是否与不安全有关？我尝试按照致命的答案创建一个公钥[：远程端意外挂断](https://stackoverflow.com/questions/14967621/fatal-the-remote-end-hung-up-unexpectedly)并再次运行它，但它仍然无法正常工作。我实际上没有使用密钥吗？如果是这样，我该如何使用它？

* * *

## 回答 #1

> 赞同：685
> 
> 时间：2013-04-06T13:24:43.577

问题是由于 git/https 缓冲区设置造成的。为了解决它（从[Git 推送提交到 github 时失败](https://stackoverflow.com/questions/2702731/git-fails-when-pushing-commit-to-github)）

```
git config http.postBuffer 524288000 
```

并再次运行命令

* * *

## 回答 #2

> 赞同：111
> 
> 时间：2013-09-09T11:05:36.803

原因：已超出 Git 的默认文件发布大小。

解决方案 ：

导航到回购。

导航到存储库后，运行以下命令将缓冲区增加到 500MB：

```
git config http.postBuffer 524288000 
```

* * *

## 回答 #3

> 赞同：110
> 
> 时间：2013-03-06T13:32:20.803

这看起来类似于[How do I get github to default to ssh 而不是 https for new repositories](https://stackoverflow.com/questions/11200237/how-do-i-get-github-to-default-to-ssh-and-not-https-for-new-repositories)。可能值得尝试从 http 协议切换到 ssh：

```
$ git remote add origin git@github.com:username/project.git 
```

* * *

## 回答 #4

> 赞同：49
> 
> 时间：2015-09-01T10:35:42.243

你可能会收到这样的错误

> 错误：无法锁定配置文件 .git/config：没有这样的文件或目录

那是因为你没有本地`.git/config`文件你可以通过这个命令让它工作：

```
git config --global http.postBuffer 524288000 
```

* * *

## 回答 #5

> 赞同：37
> 
> 时间：2016-05-27T17:01:43.697

其他解决方案在我的情况下不起作用，进行垃圾收集为我修复了它：

```
git gc --aggressive 
```

你可以`git gc`先试试。

* * *

## 回答 #6

> 赞同：29
> 
> 时间：2020-03-31T15:36:18.257

**罪魁祸首（以我为例）：**
高延迟网络。

这本身不是一个答案，而是更多可能对其他人有所帮助的观察。我发现这个错误偶尔会在高延迟网络上弹出（例如，我必须使用卫星天线来访问互联网）。网络速度很好，但延迟可能很高。注意：该问题仅存在于某些场景中，但我尚未确定模式是什么。

**临时缓解措施：**
我切换了网络——我搬到了一个速度较慢但延迟更低的蜂窝网络（我的手机用作热点）——问题就消失了。请注意，我只能间歇性地执行此操作，因为我的单元连接也是间歇性的。加上带宽使用增加了成本。我也很幸运，我有这个选项可供我使用。不是每个人都这样做。

我确信某处有一些配置设置使 git（或 ssh 或 curl 或任何超时时间）更能容忍此类网络，但我不知道它是什么。

**对开发商的恳求：**
*这类问题一直是农村人口面临的问题。当您设计系统、工具和应用程序时，请考虑我们。谢谢你。*

* * *

## 回答 #7

> 赞同：20
> 
> 时间：2016-04-14T08:57:07.920

与其他答案之一相反 - 我在使用 ssh 推送时遇到问题 - 我切换到 https 并且它已修复。

```
git remote remove origin
git remote add origin https://github.com/user/repo
git push --set-upstream origin master 
```

* * *

## 回答 #8

> 赞同：12
> 
> 时间：2020-10-28T02:11:00.957

如果使用 GitHub，在 repo 的目录中，运行此命令以设置[`http.postBuffer`](https://git-scm.com/docs/git-config#Documentation/git-config.txt-httppostBuffer)为 GitHub 的最大允许值：

```
git config http.postBuffer 2147483648 
```

如果使用 克隆 repo `git clone`，则可以使用相同的选项克隆它：

```
git clone -c http.postBuffer=2147483648 git@github.com:myuser/myrepo.git /path/to/myrepo 
```

在这两种情况下，上面的数字都相当于**2 GiB**。但是，您可能需要最多此数量的可用内存才能使用此值。

确保每次推送到 GitHub 的提交都不会超过这个大小的更改。事实上，为了安全起见，我会将提交推送大小保持在 1.8 GiB 以下。这可能需要**将大提交分成较小的提交和推送**。

### 为什么是这个值？

使用这个特定值是因为至少在 2018 年，这个值被[记录](https://github.community/t/working-with-large-files-and-repositories/10203) [（存档链接）](https://web.archive.org/web/20201025193224/https://github.community/t/working-with-large-files-and-repositories/10203)作为 GitHub 的推送大小限制：

> 我们不允许推送超过 2GB

### 为什么不设低点？

一些先前的答案说将其设置为 524288000 (500 MiB)，但这个数字似乎是任意的，没有价值。只要您的推送大小不大于设定值，任何较低的值都应该起作用。

### 为什么不设置更高？

相反，如果您将该值设置为高于 2 GiB，并且您尝试的推送大小也更高，则您可以预期 GitHub 记录的错误：

> 远程：致命：包超过最大允许大小

* * *

## 回答 #9

> 赞同：10
> 
> 时间：2020-04-30T05:11:30.137

基于您用来推送到您的存储库的协议

**HTTP**

```
git config --global http.postBuffer 157286400 
```

参考：

*   [https://git-scm.com/docs/git-config#Documentation/git-config.txt-httppostBuffer](https://git-scm.com/docs/git-config#Documentation/git-config.txt-httppostBuffer)

**SSH**

`~/.ssh/config`在您的 linux 机器中的文件中添加以下内容

```
Host your-gitlab-server.com
  ServerAliveInterval 60
  ServerAliveCountMax 5
  IPQoS throughput 
```

参考：

*   [https://docs.gitlab.com/ee/topics/git/troubleshooting_git.html#check-your-ssh-configuration](https://docs.gitlab.com/ee/topics/git/troubleshooting_git.html#check-your-ssh-configuration)
*   [https://unix.stackexchange.com/questions/3026/what-options-serveraliveinterval-and-clientaliveinterval-in-sshd-config-exac](https://unix.stackexchange.com/questions/3026/what-options-serveraliveinterval-and-clientaliveinterval-in-sshd-config-exac)
*   [https://communities.vmware.com/message/2778248](https://communities.vmware.com/message/2778248)

* * *

## 回答 #10

> 赞同：9
> 
> 时间：2014-07-20T15:09:45.293

此错误也可能因**缺少对存储库的写入权限**而引发。

* * *

我的具体案例是这样的：

1.  我用我的服务器用户创建了一个仓库`root`（通过 SSH）。
2.  我安装[了一个 git 服务](https://gogs.io/)并创建了一个`git`linux 用户来管理所有与 git 相关的操作。
3.  到那时，我已经忘记了 repo 最初是与`root`用户一起创建的，而`git`用户根本没有文件权限来向存储库中写入任何内容。

* * *

## 回答 #11

> 赞同：8
> 
> 时间：2020-03-29T21:04:22.233

这篇文章有很好的解释，它解决了我的问题。

```
git config --global http.postBuffer 157286400 
```

[https://confluence.atlassian.com/stashkb/git-push-fails-fatal-the-remote-end-hung-up-unexpectedly-282988530.html](https://confluence.atlassian.com/stashkb/git-push-fails-fatal-the-remote-end-hung-up-unexpectedly-282988530.html)

* * *

## 回答 #12

> 赞同：7
> 
> 时间：2021-07-26T15:56:44.220

以下命令可能会帮助您...

```
git config --global http.postBuffer 1048576000
git config --global http.lowSpeedLimit 0
git config --global http.lowSpeedTime 999999 
```

* * *

## 回答 #13

> 赞同：5
> 
> 时间：2014-07-17T22:48:47.310

在我们的例子中，问题是一个克隆写了一个`.git/config`文件，其中包含一个只读访问方法的 url 条目。将 url 从`://`方法更改为`@`方法解决了问题。

运行`git remote -v`说明了一些问题。

* * *

## 回答 #14

> 赞同：5
> 
> 时间：2020-04-25T03:20:12.283

即使在配置后缓冲区后，问题也没有解决。

当我将 wifi 网络从宽带更改为移动热点时，我的问题得到了解决。这可能不是逻辑上正确的答案，但它解决了问题。

确保您有良好的互联网速度。

* * *

## 回答 #15

> 赞同：4
> 
> 时间：2021-07-07T01:15:44.277

上述解决方案都不适合我，但是我推动的提交非常大。

非常简单，我将它分成两个提交并分别推送每个提交，它立即通过。

* * *

## 回答 #16

> 赞同：3
> 
> 时间：2015-07-30T17:04:49.893

如果您正在使用 git for windows（如果您在 windows 机器上执行此操作，您很可能是这样），并且此处的其他修复都不适用于您，请尝试转到[https://github.com/git-for- windows/git/releases](https://github.com/git-for-windows/git/releases)，并获得 2.4.5 或之后的版本。为我修好了。

* * *

## 回答 #17

> 赞同：3
> 
> 时间：2015-08-30T02:45:20.857

您可能确实在现有的存储库中克隆了存储库，要解决此问题，只需将存储库克隆到另一个目录并将更改复制到这个新目录，然后运行推送。

* * *

## 回答 #18

> 赞同：3
> 
> 时间：2015-11-30T12:38:51.367

另一个补充，因为我以不同的方式遇到了这个错误，谷歌把我带到了这里。

我的问题是大小写不匹配；一个camelCase，一个没有。显然，GIT 在不告诉你原因的情况下阻止你这样做。因此，如果您的分支仅在大小写上与远程分支不同，请尝试将它们更改为相同。

请参阅： [Git：合并后的“主无法解析为分支”](https://stackoverflow.com/questions/11860362/git-master-cannot-be-resolved-to-branch-after-merge)

* * *

## 回答 #19

> 赞同：3
> 
> 时间：2016-12-07T10:23:38.853

这可能在更新您的 OSX 平台后发生。

打开终端并导航到您的 .ssh 文件夹，然后输入`ssh-add -K ~/.ssh/id_rsa`

* * *

## 回答 #20

> 赞同：3
> 
> 时间：2020-04-22T10:39:01.223

就我而言，在使用 Intellij Idea 进行推送时出现此错误。

这是我追踪错误并修复它的方法。

*   在终端中启用调试日志记录，这绝不是一个坏主意:)

```
set GIT_CURL_VERBOSE=1 set GIT_TRACE=1 
```

*   通过终端推送，而不是通过 intellij

```
git push 
-> fatal: The current branch feature/my-new-feature has no upstream branch.
To push the current branch and set the remote as upstream 
```

解决方案是设置上游，之前肯定出错了：

```
git push --set-upstream origin feature/my-new-feature 
```

* * *

## 回答 #21

> 赞同：3
> 
> 时间：2021-04-15T22:13:20.200

最近我遇到了同样的问题。克隆远程存储库时，出现如下错误：

> 致命：远端意外挂断 MiB | 7.00 KiB/s
> 致命：早期 EOF
> 索引包失败

当我用谷歌搜索错误时，我被重定向到这里。我遵循了大多数答案，但没有解决我的问题。

唯一的解决方案是重新安装我的“**网络适配器 (WiFi) 驱动程序软件**”。因此，我要强调的是，上述错误也可能是您 PC 的 WiFi 驱动程序软件中的问题引起的。如果上述答案都不起作用，那么您可以尝试重新安装 WiFi 驱动程序。它将解决问题。

您可以轻松地重新安装 WiFi 驱动程序，如下所示：

1.  打开网络和互联网设置
    [![网络和互联网设置](../Images/07b7ad6a2306fcd3a94a18825609a137.png)](https://i.stack.imgur.com/r4l7Vm.png)

2.  选择“网络重置”
    [![重置网络设置](../Images/977ac5717c61f71cc033f8588729404c.png)](https://i.stack.imgur.com/mry3Um.png)

3.  然后选择“立即重置”
    [![重置网络](../Images/64667735af5bdc2cc70d4302a0952882.png)](https://i.stack.imgur.com/HpuYjm.png)

重启电脑后，尝试 git 操作成功（推/拉/克隆）。

* * *

## 回答 #22

> 赞同：2
> 
> 时间：2019-04-05T12:58:31.840

**PLESK Nginx 和 GIT** 我在 plesk git 上遇到了这个错误，在使用（谁知道是什么）推送一个大型 repo 时，它给了我这个 HTTP 代码 413 的错误，我查看了以下服务器是 Plesk，它运行了 nginx 和 apache2所以我查看了日志并在 nginx 日志中发现了错误

[按照此链接](https://support.plesk.com/hc/en-us/articles/115000894353-Uploading-of-big-file-size-fails-client-intended-to-send-too-large-body)允许 plesk 使用更大的文件上传来重建配置。

我跳过了 git 的 php 部分

之后 git push 工作没有任何错误。

* * *

## 回答 #23

> 赞同：2
> 
> 时间：2020-01-16T19:23:45.407

以上答案都不适合我，但这就是有效的。

1.  `.git/`从您的项目中删除
2.  将远程仓库克隆到某个新位置，例如您的桌面：

    ```
    git clone https://github.com/foo/bar.git 
    ```

3.  `.git/`从新位置移动到旧位置
4.  重新提交并推送您的更改

* * *

## 回答 #24

> 赞同：2
> 
> 时间：2021-03-15T22:48:30.923

我通过重新包装解决了这个问题：

```
git repack --max-pack-size=100M -a -d 
```

转到存储库 > 在 GitHub Desktop 的命令提示符中打开 运行以下命令：

```
set GIT_TRACE=1
set GIT_CURL_VERBOSE=1
git push origin <branch> 
```

* * *

## 回答 #25

> 赞同：1
> 
> 时间：2015-06-22T17:12:30.043

我碰巧在拉动时遇到了同样的错误。
我已经完成了“http.postBuffer”技巧。它解决了它，但是当我想推送时，我又遇到了错误。

是什么解决了我的问题：
1\. 将它克隆到另一个带有其他虚拟机的文件夹中。（Linux）。
2\. 我已经完成了我的更改。
3\. 用我一开始不能推送的原始虚拟机推送。（视窗）

* * *

## 回答 #26

> 赞同：1
> 
> 时间：2015-08-30T19:51:07.600

我也有同样的问题。我从 git 网页注意到 SSH 克隆 URL 具有以下结构：

```
git@github.com:user/project.git 
```

我只需将“：”更改为“/”即可解决我的问题，如下所示：

```
git@github.com/user/project.git 
```

可能这会有所帮助。

* * *

## 回答 #27

> 赞同：1
> 
> 时间：2016-05-12T08:52:37.623

添加答案似乎几乎毫无意义，但是当我终于发现它是 Visual Studio Online 正在遭受零星中断时，我已经为此奋斗了很长时间。当 VS 不断提示输入信用并且 VSO 网站有时给出 500 时，这一点变得很明显。

```
Counting objects: 138816, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (38049/38049), done.
error: unable to rewind rpc post data - try increasing http.postBuffer
error: RPC failed; curl 56 SSL read: error:00000000:lib(0):func(0):reason(0), errno 10054
The remote end hung up unexpectedly/138816), 33.30 MiB | 3.00 KiB/s
Writing objects: 100% (138816/138816), 50.21 MiB | 3.00 KiB/s, done.
Total 138816 (delta 100197), reused 134574 (delta 96515)
fatal: The remote end hung up unexpectedly
Everything up-to-date 
```

之后我将我的 HTTP 发布缓冲区设置回 2 MB，因为我实际上认为它适用于许多较小的帖子。

* * *

## 回答 #28

> 赞同：1
> 
> 时间：2017-07-23T00:07:50.950

似乎它可以是一千件事中的一件。

对我来说，我最初是通过 SourceTree 推动 master 和 development（master 没有变化）。将其更改为开发仅有效。

* * *

## 回答 #29

> 赞同：1
> 
> 时间：2019-01-10T21:20:13.780

我在上传大型 repo 时遇到了类似的错误，“致命：远程端意外挂断”，没有任何进一步的细节。

经过大量研究，这就是我所做的：

*   使用 SSH 而不是 HTTPS，并没有解决问题。
*   将 http.postBuffer 增量增加到一个非常大的值，仍然没有运气。
*   我发现这可能是因为 repo 中的文件很大（因为这是从 perforce 新迁移的 repo），所以我使用 LFS 重新创建了 repo，将 largeFileThreshold 设置为 40m，这大大减少了 repo 大小（从 3.5G 到500M）。我认为这会解决问题，但令我惊讶的是，我仍然面临同样的错误。

最后，我想到可能是我使用的是较旧的 git 客户端，因为我没有看到其他错误消息。我**将 git 客户端升级到最新**（2.20.1），瞧，错误消失了！

* * *

## 回答 #30

> 赞同：1
> 
> 时间：2021-12-02T13:54:13.473

我也遇到了这个错误。一秒钟`git push`就成功了

* * *

## 回答 #31

> 赞同：1
> 
> 时间：2021-12-16T23:17:03.147

对我们来说，问题是我们有大量文件应该由[git lfs](https://git-lfs.github.com)管理。

我们采取了以下措施来解决问题：

```
# Soft reset so you can author a new commit
git reset --soft HEAD~1

# Install git lfs
git lfs install

# Track large files of a specified file type YMMV
git lfs track "*.uasset" "*.umap"

# Re-add everything
git add .

# Author a new commit
git commit -m "git lfs ftw"

# Push
git push 
```

* * *

## 回答 #32

> 赞同：0
> 
> 时间：2015-06-29T11:46:18.997

当我在 .ssh 中的密钥对不正确时出现此错误。将 pubkey 添加到 github（在设置中）为我解决了这个问题。

* * *

## 回答 #33

> 赞同：0
> 
> 时间：2017-08-01T20:29:45.363

执行此操作以查看您正在使用的密钥：

```
ssh -vT git@github.digitalglobe.com 
```

然后确保在您的构建中一开始就运行此命令：

```
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_rsa 
```

* * *

## 回答 #34

> 赞同：0
> 
> 时间：2018-03-22T01:02:12.067

1) cd 到项目目录

2)`git status`

3)`git checkout -f HEAD`

4) 通过再次拉下 master 来确认成功，以确保如果您的 repo 看起来不完整，您是最新的

如果您在从 Bitbucket 克隆存储库时从 Visual Studio 的 Git 中收到有问题的错误，则此方法有效

* * *

## 回答 #35

> 赞同：0
> 
> 时间：2019-05-02T16:23:08.083

如果您推送的任何提交格式不正确，也会发生这种情况。

我（在不知不觉中）提交了一个格式错误的作者电子邮件字段，但我得到的只是这个模糊的`remote end hung up`错误消息。我能够推送其他分支而不是这个分支，所以我开始一次推送*一个*来自“坏”分支的提交，直到我最终登陆：

```
Pushing to git@github.com:directangular/unicorn.git
Counting objects: 100% (9/9), done.
Delta compression using up to 20 threads
Writing objects: 100% (5/5), 549 bytes | 549.00 KiB/s, done.
Total 5 (delta 4), reused 0 (delta 0)
remote: error: object 74c7584ff0b93591c19d3a3c19695889dd2274d2: badEmail: invalid author/committer line - bad email        
remote: fatal: fsck error in packed object        
error: remote unpack failed: index-pack abnormal exit
To github.com:directangular/unicorn.git
 ! [remote rejected]       pizzafeast -> pizzafeast (failed)
error: failed to push some refs to 'git@github.com:directangular/unicorn.git' 
```

所以看起来这个`remote end hung up unexpectedly`错误有点“吞下”实际的错误信息，这可能是我在这里遇到的某种格式错误的提交。

修复格式错误的电子邮件后，我能够很好地推送。

* * *

## 回答 #36

> 赞同：0
> 
> 时间：2019-09-26T23:29:04.923

我认为这样做不是一个好主意，但是如果您在您的机器中有备份..再推一次，然后尝试克隆 repo，然后从旧目录中删除 .git 并从新克隆的文件夹中移动 .git .. git 已解决但由于这个问题，一些文件可能无法在 git 上传。再次从您的备份中推送所有内容，然后将其拉到您的服务器或另一台机器上，使其损坏。现在我只是这样做了...对我有用..并在执行此操作之前备份您的目录。

如果我错了，请纠正我。我也不知道这样做后会出现什么问题？但这一次真的奏效了。

* * *

## 回答 #37

> 赞同：0
> 
> 时间：2019-12-01T08:49:23.663

我的问题（致命：远程端意外挂断）已通过检查存储库权限和所有者解决。

git 存储库文件所有者必须是您想要使用它推送/拉取/克隆的用户。

* * *

## 回答 #38

> 赞同：0
> 
> 时间：2020-02-10T22:34:39.733

我的问题原因是网络设置：我有一个“杀手”wifi 卡，它显然会以 SSH 和 SSL 不喜欢的方式处理网络数据包。

为了解决这个问题，我不得不进入“Killer Control Center”、“Parameters”，并禁用“Advanced Stream Detect”——git 命令立即重新开始工作。

* * *

## 回答 #39

> 赞同：0
> 
> 时间：2020-07-06T15:29:49.157

有同样的问题并尝试所有答案都不起作用，只需尝试另一个帐户，这对我有用。

* * *

## 回答 #40

> 赞同：0
> 
> 时间：2021-03-06T06:26:26.580

**对我来说，当我试图从一个甚至不存在的分支中提取时**，我得到了同样的错误。

 **因此，请**在拉动时检查分支名称。**

* * *

## 回答 #41

> 赞同：0
> 
> 时间：2021-04-10T15:12:53.553

从`bash`vscode 上的 shell 切换到`zsh`为我修复它。

* * *

## 回答 #42

> 赞同：0
> 
> 时间：2021-04-21T17:51:39.130

在我的情况下，这个错误是因为 VPN 连接中断。只需关闭并打开 VPN 即可修复错误。

* * *

## 回答 #43

> 赞同：-1
> 
> 时间：2015-11-02T23:48:51.390

我能够使用 Git Shell 解决这个问题。

github.com 中的每个存储库都为您提供 HTTPS/SSH/Subversion URL，您可以使用它们通过 Shell 下载，请参见此处： http: [//prntscr.com/8ydguv](http://prntscr.com/8ydguv)。
根据 GitHub 最近的变化，SSH 似乎是最好的方法。

在 Shell 中使用的命令：

```
git clone "URL of repo goes here w/ no quotes" 
```

* * *

## 回答 #44

> 赞同：-1
> 
> 时间：2016-03-16T13:54:46.337

当我拼错远程分支名称时出现此错误**

# android - Google 地图未显示在我的 Android 应用程序中

> ID：15240817
> 
> 赞同：0
> 
> 时间：2013-03-06T06:51:11.367
> 
> 标签：android, android-maps

我正在开发一个显示谷歌地图的安卓应用程序。我的日志猫显示以下错误。我是android开发的新手。请帮帮我。谢谢

```
03-06 06:31:25.561: E/dalvikvm(2476): Could not find class 'com.example.mapdemo.BasicMapActivity', referenced from method com.example.mapdemo.MainActivity.<clinit>
03-06 06:31:26.253: E/AndroidRuntime(2476): FATAL EXCEPTION: main
03-06 06:31:26.253: E/AndroidRuntime(2476): java.lang.ExceptionInInitializerError
03-06 06:31:26.253: E/AndroidRuntime(2476):     at java.lang.Class.newInstanceImpl(Native Method)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at java.lang.Class.newInstance(Class.java:1319)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at android.app.Instrumentation.newActivity(Instrumentation.java:1054)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2097)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at android.app.ActivityThread.access$600(ActivityThread.java:141)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at android.os.Handler.dispatchMessage(Handler.java:99)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at android.os.Looper.loop(Looper.java:137)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at android.app.ActivityThread.main(ActivityThread.java:5041)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at java.lang.reflect.Method.invokeNative(Native Method)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at java.lang.reflect.Method.invoke(Method.java:511)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-06 06:31:26.253: E/AndroidRuntime(2476):     at dalvik.system.NativeStart.main(Native Method)
03-06 06:31:26.253: E/AndroidRuntime(2476): Caused by: java.lang.NoClassDefFoundError: com.example.mapdemo.BasicMapActivity
03-06 06:31:26.253: E/AndroidRuntime(2476):     at com.example.mapdemo.MainActivity.<clinit>(MainActivity.java:98)
03-06 06:31:26.253: E/AndroidRuntime(2476):     ... 15 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:55:00.843

You should include this`<uses-library android:name="com.google.android.maps" />` in your application tag in the manifest and also include this permissions

```
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:56:45.847

1.  Check if you have defined your activity "BasicMapActivity".
2.  Check if it has also being included in the manifest.xml

# java - 致命异常：主要和 NullPointerException

> ID：15240823
> 
> 赞同：0
> 
> 时间：2013-03-06T06:51:27.057
> 
> 标签：java, android, eclipse, adt

我一直在寻找几个小时的解决方案。我正在尝试构建一个 BodyMassIndex 计算器。我已经完成了程序（我认为），但是每次我尝试运行该应用程序时，它都会在模拟器上崩溃。最重要的是，布局预览不再显示。我仍在尝试了解日志中所有错误代码的含义。我认为这是我的 layout.xml 的问题，但我不确定。任何建议或想法将不胜感激！

**日志猫**：

```
03-06 06:04:56.533: W/Trace(969): Unexpected value from nativeGetEnabledTags: 0
03-06 06:04:56.533: W/Trace(969): Unexpected value from nativeGetEnabledTags: 0
03-06 06:04:56.533: W/Trace(969): Unexpected value from nativeGetEnabledTags: 0
03-06 06:04:56.853: W/Trace(969): Unexpected value from nativeGetEnabledTags: 0
03-06 06:04:56.853: W/Trace(969): Unexpected value from nativeGetEnabledTags: 0
03-06 06:04:57.623: W/Trace(969): Unexpected value from nativeGetEnabledTags: 0
03-06 06:04:57.623: W/Trace(969): Unexpected value from nativeGetEnabledTags: 0
03-06 06:04:57.633: W/Trace(969): Unexpected value from nativeGetEnabledTags: 0
03-06 06:04:57.673: W/Trace(969): Unexpected value from nativeGetEnabledTags: 0
03-06 06:04:57.673: W/Trace(969): Unexpected value from nativeGetEnabledTags: 0
03-06 06:04:57.683: D/AndroidRuntime(969): Shutting down VM
03-06 06:04:57.683: W/dalvikvm(969): threadid=1: thread exiting with uncaught exception (group=0x40a70930)
03-06 06:04:57.703: E/AndroidRuntime(969): FATAL EXCEPTION: main
03-06 06:04:57.703: E/AndroidRuntime(969): java.lang.NullPointerException
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.widget.LinearLayout.forceUniformHeight(LinearLayout.java:1348)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.widget.LinearLayout.measureHorizontal(LinearLayout.java:1336)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.widget.TableRow.onMeasure(TableRow.java:114)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.View.measure(View.java:15513)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4827)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1404)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.widget.TableLayout.measureChildBeforeLayout(TableLayout.java:464)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.widget.LinearLayout.measureVertical(LinearLayout.java:695)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.widget.TableLayout.measureVertical(TableLayout.java:476)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.widget.TableLayout.onMeasure(TableLayout.java:439)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.View.measure(View.java:15513)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4827)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.View.measure(View.java:15513)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.widget.LinearLayout.measureVertical(LinearLayout.java:847)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.widget.LinearLayout.onMeasure(LinearLayout.java:588)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.View.measure(View.java:15513)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4827)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
03-06 06:04:57.703: E/AndroidRuntime(969):  at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2176)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.View.measure(View.java:15513)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:1874)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1089)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1265)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:989)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4351)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.Choreographer$CallbackRecord.run(Choreographer.java:749)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.Choreographer.doCallbacks(Choreographer.java:562)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.Choreographer.doFrame(Choreographer.java:532)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:735)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.os.Handler.handleCallback(Handler.java:725)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.os.Handler.dispatchMessage(Handler.java:92)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.os.Looper.loop(Looper.java:137)
03-06 06:04:57.703: E/AndroidRuntime(969):  at android.app.ActivityThread.main(ActivityThread.java:5039)
03-06 06:04:57.703: E/AndroidRuntime(969):  at java.lang.reflect.Method.invokeNative(Native Method)
03-06 06:04:57.703: E/AndroidRuntime(969):  at java.lang.reflect.Method.invoke(Method.java:511)
03-06 06:04:57.703: E/AndroidRuntime(969):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-06 06:04:57.703: E/AndroidRuntime(969):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-06 06:04:57.703: E/AndroidRuntime(969):  at dalvik.system.NativeStart.main(Native Method)
03-06 06:04:57.833: D/dalvikvm(969): GC_CONCURRENT freed 155K, 10% free 2670K/2944K, paused 16ms+3ms, total 139ms 
```

**Java代码**：

```
import android.app.Activity;
import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.Menu;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;

public class BMICalc extends Activity {

    // Constants Used when saving/restoring state.
    private static final String FEET_OF_HEIGHT = "FEET_OF_HEIGHT";
    private static final String INCH_OF_HEIGHT = "INCH_OF_HEIGHT";
    private static final String WEIGHT_IN_LBS = "WEIGHT_IN_LBS";

    private int currentFeetPortionOfHeight;         // Feet portion of height.
    private int currentInchesPortionOfHeight;       // Inches portion of height.
    private double currentWeight;                   // Weight of user in pounds.
    private EditText feetPortionOfHeightEditText;   // Displays feet portion of height.
    private EditText inchesPortionOfHeightEditText; // Displays inches portion of height.
    private EditText weightEditText;                // Displays weight of user.
    private Button calculateButton;                 // Button that starts calculation.
    private TextView bmiResultTextView;             // Displays BMI value.
    private TextView bmiResultCommentsTextView;     // Displays comment on user's BMI result.

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_bmicalc);

        if (savedInstanceState == null) {   // If the application just started...
            currentFeetPortionOfHeight = 0;     // Initialize the feet portion to 0.
            currentInchesPortionOfHeight = 0;   // Initialize the inches portion to 0.
            currentWeight = 0.0;                // Initialize the weight to 0.
            // calculateBMI();                  // Calculation for BMI value.

        }
        else {  // Else (the application is being recovered from memory)...
            currentFeetPortionOfHeight = savedInstanceState.getInt(FEET_OF_HEIGHT);     // Initialize the feet portion to saved value.
            currentInchesPortionOfHeight = savedInstanceState.getInt(INCH_OF_HEIGHT);   // Initialize the inches portion to saved value.
            currentWeight = savedInstanceState.getDouble(WEIGHT_IN_LBS);                // Initialize the weight to saved value.
            // calculateBMI();                                                          // Calculation for BMI value.
        }

        // Get references to feet/inches/weight EditTexts.
        feetPortionOfHeightEditText = (EditText) findViewById(R.id.feetPortionOfHeightEditText);
        inchesPortionOfHeightEditText = (EditText) findViewById(R.id.inchesPortionOfHeightEditText);
        weightEditText = (EditText) findViewById(R.id.weightEditText);

        // Get references to TextViews displaying BMI & comment.
        bmiResultTextView = (TextView) findViewById(R.id.bmiResultTextView);
        bmiResultCommentsTextView = (TextView) findViewById(R.id.bmiResultCommentsTextView);

        // Get reference to calculateButton.
        calculateButton = (Button) findViewById(R.id.calculateButton);

        // EditText Watchers handle the EditTexts onTextChanged events.
        feetPortionOfHeightEditText.addTextChangedListener(feetPortionOfHeightEditTextWatcher);
        inchesPortionOfHeightEditText.addTextChangedListener(inchesPortionOfHeightEditTextWatcher);
        weightEditText.addTextChangedListener(weightEditTextWatcher);
        calculateButton.setOnClickListener(calculateButtonWatcher);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {

        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_bmicalc, menu);
        return true;
    }

    protected void onSavedInstanceState (Bundle outState) {

        // Saves the values of feetPortion.., inchesPortion.., & weightEditText.
        super.onSaveInstanceState(outState);
        outState.putDouble(FEET_OF_HEIGHT, currentFeetPortionOfHeight);
        outState.putDouble(INCH_OF_HEIGHT, currentInchesPortionOfHeight);
        outState.putDouble(WEIGHT_IN_LBS, currentWeight);
    }

    private void calculateBMI() {

        // Calculates the bmiResult.
        double bmiResult = currentWeight * 703 / 
                Math.pow((currentFeetPortionOfHeight * 12 + currentInchesPortionOfHeight), 2);

        // Sets the bmiResultComment statement based on bmiResult value.
        String bmiResultComment = setBMIResultComment(bmiResult);

        // Sets bmiResultTextView & bmiResultCommentTextView.
        bmiResultTextView.setText(String.format("%.02f", bmiResult));
        bmiResultCommentsTextView.setText(bmiResultComment);
    }

    private String setBMIResultComment (double bmiResult) {
        String bmiResultComment = "";   // Creates & initializes the bmiResult comment statement.

        // Sets the bmiResultComment to appropriate statement.
        if ( bmiResult == 0.0) {

            bmiResultComment = ""; // If BMI is zero, nothing has been entered & nothing needs to be displayed.

        } else if (bmiResult < 18.5) {

            bmiResultComment = "BMI Values under 18.5 are considered to be UNDERWEIGHT!";

        } else if (bmiResult < 24.9) {

            bmiResultComment = "BMI Values between 18.5 and 24.9 are considered to be NORMAL.";

        } else if (bmiResult < 29.9) {

            bmiResultComment = "BMI Values between 24.9 and 29.9 are considered to be OVERWEIGHT!";

        } else {

            bmiResultComment = "BMI Values over 30 are considered to be OBESE!!!";

        }

        return bmiResultComment; // Returns the bmiResultComment string value.
    }

    private OnClickListener calculateButtonWatcher = new View.OnClickListener() {

        @Override
        public void onClick(View calculateButtonListener) {
            calculateBMI(); // Calculation for BMI value.
        }

    };

    private TextWatcher feetPortionOfHeightEditTextWatcher = new TextWatcher() {

        @Override
        public void onTextChanged (CharSequence s, int start, int before, int count) {

            try {currentFeetPortionOfHeight = (int) Double.parseDouble( s.toString() );} // Convert currentFeetPortion... to double.
            catch (NumberFormatException e) {currentFeetPortionOfHeight = 0;}            // Default if an exception occurs.
        }
        @Override
        public void beforeTextChanged (CharSequence s, int start, int before, int count) { /* Intentionally left empty. */ }
        @Override
        public void afterTextChanged (Editable s) { /* Intentionally left empty. */ }
    };

    private TextWatcher inchesPortionOfHeightEditTextWatcher = new TextWatcher() {

        @Override
        public void onTextChanged (CharSequence s, int start, int before, int count) {

            try {currentInchesPortionOfHeight = (int) Double.parseDouble( s.toString() );} // Convert currentInchesPortion... to double.
            catch (NumberFormatException e) {currentInchesPortionOfHeight = 0;}          // Default if an exception occurs.
        }
        @Override
        public void beforeTextChanged (CharSequence s, int start, int before, int count) { /* Intentionally left empty. */ }
        @Override
        public void afterTextChanged (Editable s) { /* Intentionally left empty. */ }
    };

    private TextWatcher weightEditTextWatcher = new TextWatcher() {

        @Override
        public void onTextChanged (CharSequence s, int start, int before, int count) {

            try {currentWeight = (int) Double.parseDouble( s.toString() );} // Convert currentWeight to double.
            catch (NumberFormatException e) {currentWeight = 0;}            // Default if an exception occurs.
        }
        @Override
        public void beforeTextChanged (CharSequence s, int start, int before, int count) { /* Intentionally left empty. */ }
        @Override
        public void afterTextChanged (Editable s) { /* Intentionally left empty. */ }
    };  

} 
```

**布局 XML**：

```
<TableLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools"
        android:id="@+id/TableLayout"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:gravity="left"
        tools:context=".BMICalc" >

        <TableRow
            android:id="@+id/tableRow0"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/introductionTextView"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_column="0"
                android:layout_span="2"
                android:layout_weight="1"
                android:background="@color/DodgerBlue"
                android:gravity="center"
                android:padding="@dimen/introductionTextViewPadding"
                android:text="@string/introductionTextView"
                android:textAppearance="?android:attr/textAppearanceLarge"
                android:textColor="@color/White" />
        </TableRow>

        <TableRow
            android:id="@+id/tableRow1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/heightPromptTextView"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_column="0"
                android:layout_span="2"
                android:layout_weight="1"
                android:padding="5sp"
                android:background="@color/LightGrey"
                android:text="@string/heightPromptTextView" />
        </TableRow>

        <TableRow
            android:id="@+id/tableRow2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="5sp" >

            <EditText
                android:id="@+id/feetPortionOfHeightEditText"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_weight="1"
                android:ems="10"
                android:inputType="number" />

            <TextView
                android:id="@+id/feetPortionOfHeightViewText"
                android:layout_width="wrap_content"
                android:layout_height="fill_parent"
                android:layout_weight="0"
                android:gravity="center_vertical"
                android:padding="5sp"
                android:paddingRight="5sp"
                android:text="@string/feetPortionOfHeightTextView" />

            <EditText
                android:id="@+id/inchesPortionOfHeightEditText"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_weight="1"
                android:ems="10"
                android:inputType="number" />

            <TextView
                android:id="@+id/inchesPortionOfHeightViewText"
                android:layout_width="wrap_content"
                android:layout_height="fill_parent"
                android:layout_weight="0"
                android:gravity="center_vertical"
                android:padding="5sp"
                android:paddingRight="5sp"
                android:text="@string/inchPortionOfHeightTextView" />
        </TableRow>

        <TableRow
            android:id="@+id/tableRow3"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/weightPromptTextView"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_column="0"
                android:layout_span="2"
                android:layout_weight="1"
                android:padding="5sp"
                android:background="@color/LightGrey"
                android:text="@string/weightPromptTextView" />

        </TableRow>

        <TableRow
            android:id="@+id/tableRow4"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="5sp"
            android:paddingLeft="20sp" >

            <EditText
                android:id="@+id/weightEditText"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_weight="1"
                android:layout_column="1"
                android:inputType="number" >

                <requestFocus />
            </EditText>

            <TextView
                android:id="@+id/weightTextView"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_weight="1"
                android:gravity="center|left"
                android:padding="5sp"
                android:text="@string/weightTextView" />

        </TableRow>

        <TableRow
            android:id="@+id/tableRow5"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="5sp" >

            <Button
                android:id="@+id/calculateButton"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_gravity="center"
                android:layout_weight="1"
                android:textColor="@color/White"
                android:textStyle="bold"
                android:background="@color/Navy"
                android:text="@string/calculateButton" />

        </TableRow>

        <TableRow
            android:id="@+id/tableRow6"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="5sp" >

            <TextView
                android:id="@+id/bmiResultTextView"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_gravity="center"
                android:layout_weight="1"
                android:gravity="center"
                android:text="@string/bmiResultsTextView"
                android:textAppearance="?android:attr/textAppearanceLarge" />

        </TableRow>

        <TableRow
            android:id="@+id/tableRow7"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/bmiResultCommentsTextView"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_gravity="center"
                android:layout_weight="1"
                android:gravity="center"
                android:text="@string/bmiResultCommentsTextView" />

        </TableRow>

    </TableLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:31:48.787

请记住下面有关 TableLayout 的内容。

水平排列其子项的布局。TableRow 应始终用作 TableLayout 的子项。如果 TableRow 的父级不是 TableLayout，则 TableRow 将表现为水平 LinearLayout。

TableRow 的子项不需要在 XML 文件中指定 layout_width 和 layout_height 属性。TableRow 始终强制这些值分别为 MATCH_PARENT 和 WRAP_CONTENT。

我使用了您的布局并删除了一些属性。它现在正在工作。您可以做一件事，尝试将已删除的属性一一添加，并使用图形布局选项卡检查其有效性。

```
<TableLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools"
        android:id="@+id/TableLayout"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:gravity="left"
        tools:context=".MainActivity" >

        <TableRow
            android:id="@+id/tableRow0"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/introductionTextView"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                />
        </TableRow>

        <TableRow
            android:id="@+id/tableRow1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/heightPromptTextView"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                />
        </TableRow>

        <TableRow
            android:id="@+id/tableRow2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            >

            <EditText
                android:id="@+id/feetPortionOfHeightEditText"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                />

            <TextView
                android:id="@+id/feetPortionOfHeightViewText"
                android:layout_width="wrap_content"
                android:layout_height="fill_parent"

                />

            <EditText
                android:id="@+id/inchesPortionOfHeightEditText"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_weight="1"
                android:ems="10"
                android:inputType="number" />

            <TextView
                android:id="@+id/inchesPortionOfHeightViewText"
                android:layout_width="wrap_content"
                android:layout_height="fill_parent"
                android:layout_weight="0"
                android:gravity="center_vertical"
                android:padding="5sp"
                android:paddingRight="5sp"
                />
        </TableRow>

        <TableRow
            android:id="@+id/tableRow3"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/weightPromptTextView"
                android:layout_width="match_parent"
                android:layout_height="match_parent"

                 />

        </TableRow>

        <TableRow
            android:id="@+id/tableRow4"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="5sp"
            android:paddingLeft="20sp" >

            <EditText
                android:id="@+id/weightEditText"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"

                android:inputType="number" >

            </EditText>

            <TextView
                android:id="@+id/weightTextView"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"

                 />

        </TableRow>

        <TableRow
            android:id="@+id/tableRow5"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="5sp" >

            <Button
                android:id="@+id/calculateButton"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"

                />

        </TableRow>

        <TableRow
            android:id="@+id/tableRow6"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="5sp" >

            <TextView
                android:id="@+id/bmiResultTextView"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"

                />

        </TableRow>

        <TableRow
            android:id="@+id/tableRow7"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/bmiResultCommentsTextView"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"

                 />

        </TableRow>

    </TableLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:06:55.977

布局文件中存在一些问题。跨越表格行的错误和子高度。尝试使用此 xml。只需从表第 0 行复制粘贴相同的内容，它应该可以工作。

```
 <TableRow
        android:id="@+id/tableRow0"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >

        <TextView
            android:id="@+id/introductionTextView"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_column="0"

            android:layout_weight="1"
            android:background="#00ff00"
            android:gravity="center"
            android:padding="10dp"
            android:text="introductionTextView"
            android:textAppearance="?android:attr/textAppearanceLarge"
            android:textColor="#ffffff" />
    </TableRow>

    <TableRow
        android:id="@+id/tableRow1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >

        <TextView
            android:id="@+id/heightPromptTextView"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_column="0"

            android:layout_weight="1"
            android:padding="5sp"
            android:background="#aaaaaa"
            android:text="heightPromptTextView" />
    </TableRow>

    <TableRow
        android:id="@+id/tableRow2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="5sp" >

        <EditText
            android:id="@+id/feetPortionOfHeightEditText"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:ems="10"
            android:inputType="number" />

        <TextView
            android:id="@+id/feetPortionOfHeightViewText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="0"
            android:gravity="center_vertical"
            android:padding="5sp"
            android:paddingRight="5sp"
            android:text="feetPortionOfHeightTextView" />

        <EditText
            android:id="@+id/inchesPortionOfHeightEditText"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:ems="10"
            android:inputType="number" />

        <TextView
            android:id="@+id/inchesPortionOfHeightViewText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="0"
            android:gravity="center_vertical"
            android:padding="5sp"
            android:paddingRight="5sp"
            android:text="inchPortionOfHeightTextView" />
    </TableRow>

    <TableRow
        android:id="@+id/tableRow3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >

        <TextView
            android:id="@+id/weightPromptTextView"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_column="0"

            android:layout_weight="1"
            android:padding="5sp"
            android:background="#aaaaaa"
            android:text="weightPromptTextView" />

    </TableRow>

    <TableRow
        android:id="@+id/tableRow4"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="5sp"
        android:paddingLeft="20sp" >

        <EditText
            android:id="@+id/weightEditText"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:layout_column="1"
            android:inputType="number" >

            <requestFocus />
        </EditText>

        <TextView
            android:id="@+id/weightTextView"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="center|left"
            android:padding="5sp"
            android:text="weightTextView" />

    </TableRow>

    <TableRow
        android:id="@+id/tableRow5"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="5sp" >

        <Button
            android:id="@+id/calculateButton"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_weight="1"
            android:textColor="#ffffff"
            android:textStyle="bold"
            android:background="#00ff00"
            android:text="calculateButton" />

    </TableRow>

    <TableRow
        android:id="@+id/tableRow6"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="5sp" >

        <TextView
            android:id="@+id/bmiResultTextView"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_weight="1"
            android:gravity="center"
            android:text="bmiResultsTextView"
            android:textAppearance="?android:attr/textAppearanceLarge" />

    </TableRow>

    <TableRow
        android:id="@+id/tableRow7"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >

        <TextView
            android:id="@+id/bmiResultCommentsTextView"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_weight="1"
            android:gravity="center"
            android:text="bmiResultCommentsTextView" />

    </TableRow>

</TableLayout> 
```

# javascript - JavaScript：为特定的谷歌图片搜索打开一个新标签

> ID：15240834
> 
> 赞同：0
> 
> 时间：2013-03-06T06:52:14.547
> 
> 标签：javascript

我试图让我的用户更容易找到他们在我的网站上创建的“网络桌面”的图标：

[Booky：您的个人书签 Web 桌面](http://www.bookydesktop.com)

我正在寻找可以打开特定“谷歌图片搜索”的 url 行，例如：

如果你输入谷歌图片：facebook 128 png icon

网址会是什么样子？

右键单击书签，您会看到我在做什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:08:25.550

您可以使用[Google 图片搜索 API](https://developers.google.com/image-search/)。

> 重要提示：Google Image Search API 已于 2011 年 5 月 26 日正式弃用。它会根据我们的弃用政策继续工作，但您每天可以提出的请求数量可能会受到限制。我们鼓励您升级到现在支持图像搜索的[自定义搜索 API 。](https://developers.google.com/custom-search/v1/overview)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:10:02.680

[http://www.google.com/search?q=facebook+128+png+icon&hl=en&site=imghp&tbm=isch](http://www.google.com/search?q=facebook+128+png+icon&hl=en&site=imghp&tbm=isch)

您可能希望改为查看[自定义搜索 API](https://developers.google.com/custom-search/v1/overview)。

# java - 是否可以在 java 中检测处理器架构？

> ID：15240835
> 
> 赞同：10
> 
> 时间：2013-03-06T06:52:14.567
> 
> 标签：java, cpu-architecture

是否可以在 java 中检测处理器架构？像 x86 或 sun SPARC 等？如果是这样，我将如何去做？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T06:56:03.593

You can try the [System.getenv()](http://www.java2s.com/Code/Java/Development-Class/UseSystemgetenvtogetenvironmentvariables.htm) to get environment variables, use the `PROCESSOR_ARCHITECTURE` Key to get the CPU-architechture:

```
System.out.println(System.getenv("PROCESSOR_ARCHITECTURE")); 
```

or in case of 64 bit:

```
System.out.println(System.getenv("PROCESSOR_ARCHITEW6432")); 
```

The other way would be to use the "os.arch" [system property](http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html):

```
System.getProperty("os.arch"); 
```

and you may need to get the OS before using `System.getProperty("os.name")` since this is OS dependent as QMuhammad mentioned in his answer.

Notice [that](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#getenv%28java.lang.String%29):

> System properties and environment variables are both conceptually mappings between names and values. Both mechanisms can be used to pass user-defined information to a Java process.

Relevant links:

*   [System.getenv() doc](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#getenv%28java.lang.String%29)
*   [ChrisH's answer](https://stackoverflow.com/a/5940770/395659)
*   [Why %processor_architecture% always returns x86 instead of AMD64](https://stackoverflow.com/questions/1738985/why-processor-architecture-always-returns-x86-instead-of-amd64)
*   [Java's "os.arch" System Property is the Bitness of the JRE, NOT the Operating System](http://mark.koli.ch/2009/10/javas-osarch-system-property-is-the-bitness-of-the-jre-not-the-operating-system.html)
*   [Finding out sytem architecture using Java](https://stackoverflow.com/questions/8076366/finding-out-sytem-architecture-using-java)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-06T06:56:53.353

```
System.getProperty ("os.arch"); 
```

On my PC returns `amd64`.

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-06T07:15:31.273

您可以使用以下属性来获取处理器架构：

```
 System.getProperty("sun.cpu.isalist"); 
```

它返回“amd64”，因为我使用的是英特尔的 64 位处理器，而英特尔 64 位使用的是 amd 架构。

如果您需要操作系统架构值，您可以使用此属性“os.arch”

如果您需要任何其他财产，那么这可能会对您有所帮助。我编写了以下代码段来获取所有系统属性：

```
 public static void main(String[] args) {
    Properties props = System.getProperties();
    Enumeration<Object> keys = props.keys();

    while(keys.hasMoreElements()){
        Object key = keys.nextElement();
        Object value = props.get(key);
        System.out.println("Key: "+key + " Value: "+value);
    }
} 
```

# svn - SVN 工作副本 ' 锁定。清理也不起作用

> ID：15240837
> 
> 赞同：1
> 
> 时间：2013-03-06T06:52:15.933
> 
> 标签：svn, tortoisesvn, svn-update

我试图更新我的 SVN 文件夹，然后我发现了冲突。

在没有解决任何冲突的情况下，我只是关闭了命令提示。

从那时起，当我试图：

```
SVN up 
```

获取错误 SVN 工作副本'已锁定。

清理也失败并出现以下错误：

> 清理失败 ti 处理以下路径：
> 工作副本被锁定

我也尝试过删除有问题的文件夹并尝试 svn up。即使这样也无济于事。

更新根文件夹将花费大量时间，并且不希望这样。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T06:54:47.580

当这发生在我身上时，唯一有帮助的就是清理**根级别**。任何其他级别的清理都不起作用。

# ruby - 类似于 Haskells 循环的 Ruby 方法

> ID：15240840
> 
> 赞同：2
> 
> 时间：2013-03-06T06:52:23.970
> 
> 标签：ruby, haskell, functional-programming

有没有类似于 Haskell 循环的 Ruby 方法？Haskell 的循环接受一个列表并返回无限附加到自身的列表。它通常与 take 一起使用，它从数组顶部抓取一定数量的元素。是否有一个 Ruby 方法接受一个数组并返回附​​加到自身的数组 n 次？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-06T07:02:01.133

是的，它叫[`cycle`](http://ruby-doc.org/core-2.0/Array.html#method-i-cycle). 从文档中：

```
数组.循环

（来自红宝石核心）
-------------------------------------------------- ----------------------------
  ary.cycle(n=nil) {|obj| 块 } -> 无
  ary.cycle(n=nil) -> an_enumerator

-------------------------------------------------- ----------------------------

为每个元素重复调用块 n 次，如果没有则永远调用
或给出 nil。如果给定一个非正数或数组为空，则
没有。如果循环结束且没有被中断，则返回 nil。

如果没有给出块，则返回一个枚举器。

  a = [“a”，“b”，“c”]
  a. 循环 {|x| puts x } # print, a, b, c, a, b, c,.. 永远。
  a.cycle(2) {|x| puts x } # print, a, b, c, a, b, c.

```

* * *

编辑：

> 似乎块内的内容基本上是一个“Lambda”，据我所知，我无法将每个元素都连接到现有数组上。

```
b = [1, 2, 3]
z = []
b.cycle(2) { |i| z << i }
z # => [1, 2, 3, 1, 2, 3] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T07:03:57.273

您可以使用以下方法将数组乘以整数[`Array#*`](https://ruby-doc.org/core/Array.html#method-i-2A)：

> **ary * int → new_ary**
> 
> [...] 否则，返回一个通过`int`连接`self`.

所以你可以做这样的事情：

```
>> [1, 2] * 3
=> [1, 2, 1, 2, 1, 2] 
```

# spring - Spring Bean注入不起作用Dwr

> ID：15240843
> 
> 赞同：1
> 
> 时间：2013-03-06T06:52:34.777
> 
> 标签：spring, hibernate, struts2, dwr

我在两个不同的包中有两个动作

```
<package name="default" extends="struts-default json-default" namespace="/">

      <action name="getstarted"  class="GetStartedActionBean">
            <result name="success">/jsp/getStarted.jsp</result>
            <result name="input">/jsp/getStarted.jsp</result>
      </action>
</package> 

<package name="example" extends="json-default">

      <action name="searchIndustryaction"  class="GetStartedActionBean"  method="searchIndustry">
      </action>

  </package> 
```

我已经注入了一个 bean，它在页面加载时工作正常，但我的搜索是通过 dwr 进行的，当时没有注入 bean

在我的暗示中

```
private SessionFactory sessionfactory;

 public void setSessionfactory(SessionFactory sessionfactory) {
     this.sessionfactory = sessionfactory;
} 
```

`sessionFactory`在调用执行方法时设置，但在我调用时使用 dwr`searchIndustry` `sessionfactory`始终为 null

Dwr 条目

```
<create creator="new" javascript="AdvancedSearch" scope="application">
            <param name="class" value="com.sample.dao.impl.IndustryDAOImpl"/>        
        </create> 
```

我如何在 dwr 中调用注入的 bean？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:09:14.080

如果您使用的是 DWR 意味着您必须输入这样的条目

```
<create creator="spring" javascript="Industry">
<param name="beanName" value="Yourbeanname" />
</create> 
```

但是您是直接调用该类，因此请更改为这种格式。希望它对你有用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-23T08:21:42.017

在您的 dwr.xml 中，您可以为创建者制作以下内容之一：

**new**：它使用 Java 'new' 运算符。

**static**：它使用 'getInstance()' 方法（默认情况下）来获取类的实例。

**none**：这不会创建对象。原因见下文。(v1.1+)

**scripted**：通过 BSF 使用脚本语言，如 BeanShell 或 Groovy。

**spring**：通过 Spring 框架提供对 bean 的访问。

**jsf**：使用来自 JSF 的对象。(v1.1+)

**struts**：使用 struts FormBeans。(v1.1+)

**pageflow**：允许从 Beehive 或 Weblogic 访问 PageFlow。(v1.1+)

# wpf - 访问 Wpf 数据网格 ContainerStyle

> ID：15240844
> 
> 赞同：0
> 
> 时间：2013-03-06T06:52:35.947
> 
> 标签：wpf, datagrid

嗨，我想在后面的代码中访问在 datagrid（下面的 xaml）中找到的扩展器，请告诉我解决方案，提前谢谢

我的 xml 代码如下：

```
<dg:DataGrid Margin="0,14,0,0"  Grid.Row="1" BorderThickness="0" PreviewMouseLeftButtonDown="mouse_Downs"   MouseDoubleClick="CustomDataGrid_MouseDoubleClick"  RowEditEnding="CustomDataGrid_RowEditEnding" Grid.RowSpan="6" AlternationCount="2"  SelectionMode="Single" SelectionUnit="FullRow" x:Name="CustomDataGrid" CanUserResizeColumns="False" AutoGenerateColumns="False" SelectionChanged="CustomDataGrid_SelectionChanged" ColumnHeaderStyle="{StaticResource columnHeaderStyle}" CanUserAddRows="False" CanUserDeleteRows="False" IsReadOnly="False" RowStyle="{StaticResource DataGridRowStyle}" GridLinesVisibility="None"  HeadersVisibility="Column"  CanUserSortColumns="False" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
    <dg:DataGrid.GroupStyle>
        <GroupStyle>
            <GroupStyle.HeaderTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding Path=Name}" FontFamily="Calibri" Foreground="#FF055B72" FontWeight="Bold" FontSize="11"/>
                    </StackPanel>
                </DataTemplate>
            </GroupStyle.HeaderTemplate>
            <GroupStyle.ContainerStyle>
                <Style TargetType="{x:Type GroupItem}">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type GroupItem}">
                                <Expander Style="{StaticResource ExpanderStyle}"  x:Name="RowExpand" IsExpanded="True" Cursor="Hand" >
                                    <!--<Expander.Background>
                                        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                            <GradientStop Color="#FFC7C7C7" Offset="1"/>
                                            <GradientStop Color="#FFEAE9E9"/>
                                            <GradientStop Color="#FFEBE8E8" Offset="0.37"/>
                                        </LinearGradientBrush>
                                    </Expander.Background>-->
                                    <Expander.Header>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock x:Name="txtGroupHeader" Text="{Binding Path=Name}" FontFamily="Calibri" Foreground="#FF47494F"  FontWeight="Bold" FontSize="14"/>
                                            <!--<Button Width="90" Height="25" Content="Sample"/>-->
                                        </StackPanel>
                                    </Expander.Header>
                                    <ItemsPresenter  Margin="7,5,7,9"/>
                                </Expander>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </GroupStyle.ContainerStyle>
        </GroupStyle>
    </dg:DataGrid.GroupStyle> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:54:22.847

您不能直接以样式访问它。您可以做的是获取样式（如在这篇文章中解释：[我可以在代码隐藏中获取样式的键吗？（WPF）](https://stackoverflow.com/questions/538750/can-i-get-the-key-of-a-style-in-code-behind-wpf)），然后通过您的样式访问扩展器对象。

# extjs - Uncaught TypeError: undefined is not a function in extjs4?

> ID：15240846
> 
> 赞同：0
> 
> 时间：2013-03-06T06:52:40.427
> 
> 标签：extjs, extjs4, extjs4.1, extjs-mvc

我在 extjs4 MVC 中工作，当我使用本地存储存储数据时遇到问题，我打算将代理类型从 ajax 动态更改为 localStorage。

将数据设置为 localstorage 后，出现错误 Uncaught TypeError: undefined is not a function。

我的模型：

```
Ext.define('Am.model.sn.UserModel',{
    extend: 'Ext.data.Model',
    //idproperty:'userId',//fields property first position pk. 
        fields: ['userId','firstName','middleName','lastName','languageId','primaryEmail','birthDate','password','securityQuestionId','securityQuestionAnswer','isMale','creationTime','ipAddress','confirmationCode','userStatusId']

}); 
```

我的控制器：

```
Ext.define('Am.controller.sn.UserController1',
{
    init:function()
    {
        console.log('Initialized Users! This happens before the Application launch function is called'); 
        this.control(
        {
            ...
        });
    },

    remeberMe : function()
    {
        console.log("check box selected");
        var email=this.getUserName().getValue();
        var password=this.getPassword().getValue();
        console.log("email="+email);
        var objCheckBox=Ext.getCmp('checkbox');
        if(objCheckBox.getValue()==true)

        {
            window.localStorage.clear();

            // Here I am getting error Uncaught TypeError: undefined is not a function 
            var lsProxy = new Ext.data.proxy.LocalStorage({
                id: 'localp',
                type:'localstorage',                
            });

            var modelObject = Ext.ModelManager.create(
            {
                primaryEmail:email,
                password: password,
                proxy:lsProxy
            }, 'Balaee.model.sn.UserModel');

            modelObject.setProxy(lsProxy);
            modelObject.save();
        } else {
            console.log("check box is not selected");
        } 
    },
}); 
```

请给我建议...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T23:04:10.303

首先，如果我正确理解您的代码 - 您正在将用户及其密码加载到客户端。这是一个巨大的安全风险，因为任何人都可以看到这些数据（只需点击几下鼠标）。

第二，`LocalStorage`没有`type`配置。

第三，如果你真的在这一行得到错误（而不是调用堆栈中的某个子行）：

```
var lsProxy = new Ext.data.proxy.LocalStorage({ 
```

只能`Ext.data.proxy`是不在范围内。

尝试将此配置添加到您的控制器：

```
requires: ['Ext.data.proxy.LocalStorage'], 
```

让我们知道会发生什么。

# java - LRU 和 MRU 缓存驱逐策略的排序键数据结构

> ID：15240851
> 
> 赞同：3
> 
> 时间：2013-03-06T06:53:16.257
> 
> 标签：java, caching, data-structures, lru, mru

我正在研究一个简单的数据结构，它将实现缓存驱逐策略。我想实现的两种可能的场景是[LRU 和 MRU](http://en.wikipedia.org/wiki/Cache_algorithms#Examples)

我正在寻找一种类似地图的数据结构，其中键可能是时间（或者可能只是自动递增的整数），以了解最近使用或最近使用最少的缓存块。值是块的 ID。

是否存在现有的数据结构，可以通过插入键对数据进行排序，并在 O(1) 时间内检索某个键的值？

例如，Java 的 HashMap 具有恒定时间查找，但我需要获取所有键，对它们进行排序并根据我正在实现的算法选择最后一个或第一个。[SortedMap](http://docs.oracle.com/javase/6/docs/api/java/util/SortedMap.html)是我应该去的吗？您是否建议任何其他适用于 LRU 和 MRU 实现的数据结构？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T07:11:10.917

你是对的，`SortedMap`根据插入的键对条目进行排序。最著名的实现`SortedMap`是`TreeMap`，它将条目存储为平衡二叉树。

从他们的[javadoc](http://docs.oracle.com/javase/6/docs/api/java/util/SortedMap.html)：

> 一个 {@link Map} 进一步提供了对其键的*总排序。*该映射根据其键的 {@linkplain Comparable natural ordering} 或通常在排序映射创建时提供的 {@link Comparator} 进行排序。此顺序在遍历已排序地图的集合视图（由 entrySet、keySet 和 values 方法返回）时反映出来。提供了几个额外的操作来利用排序。

尽管条目和键是从 以升序返回的`SortedMap`，但它也有方法`firstKey()`和`lastKey()`，这也可能会有所帮助。

特别是对于 LRU：Java 中最常见的方法是使用`LinkedHashMap`，它有方法`removeEldestEntry(Map.Entry)`。默认情况下它什么都不做，但您可以轻松地扩展类并实现该方法。您可以在[此处](https://stackoverflow.com/a/1953516/655756)找到更多信息。

# jquery - 使用 jquery 的 wordpress 主题中的响应式菜单

> ID：15240855
> 
> 赞同：0
> 
> 时间：2013-03-06T06:53:18.803
> 
> 标签：jquery, css, wordpress, drop-down-menu, responsive-design

我的 wordpress 主题的垂直导航菜单工作正常。我的主题是响应式使用 css3 媒体查询。用于屏幕尺寸 768 x 1024（纵向模式）的一级子菜单导航的媒体查询如下：

```
@media only screen
and (min-device-width : 768px)
and (max-device-width : 1024px)
and (orientation : portrait) {

    .nav {
      display: block;
      width: 280px;
      margin: 0 auto;
     }

    .nav > li > a {
      display: block;
      padding: 16px 18px;
      font-size: 1.3em;
      color: #d4d4d4;
      text-decoration: none;
      background-color: #343434;
     }

    .nav > li > a:hover, .nav > li > a.open {
      color: #e9e9e9;
      border-bottom-color: #384f76;
      background-color: #6985b5;
     }

    .nav li ul {display:none; background: #FF0000; }

    .nav li ul li a {
      display: block;
      background: none;
      padding: 10px 0px;
      padding-left: 30px;
      font-size: 1.1em;
      text-decoration: none;
      color: #e3e7f1;
      }

    .nav li ul li a:hover {
      background: #394963;
    } 
} 
```

要为特定屏幕或窗口调整大小的此菜单添加一些动画，我的 jquery 如下：

```
 <script type="text/javascript">

  $(document).ready(function() {
    var myscreen = document.body.clientWidth;
    responsiveMenu();
})

$(window).bind('resize orientationchange', function() {
    myscreen = document.body.clientWidth;
    responsiveMenu();
});

var responsiveMenu = function() {
     if (myscreen < 768) {
     $(".v_nav > li > a").on("mouseover", function(e){
     if($(this).parent().has("ul")) {
      e.preventDefault();
      }

    if(!$(this).hasClass("open")) {
      // hide any open menus and remove all other classes
      $(".v_nav li ul").slideUp(350);
      $(".v_nav li a").removeClass("open");

      // open our new menu and add the open class
      $(this).next("ul").slideDown(350);
      $(this).addClass("open");
    }

    else if($(this).hasClass("open")) {
      $(this).removeClass("open");
      $(this).next("ul").slideUp(350);
    }
  });

 }
}

 </script> 
```

使用它，我只获得了第一级纵向屏幕导航，并且没有子菜单向下滑动动画。Firebug 抛出错误 `$(".v_nav > li > a").on is not a function`。帮我解决我的问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:58:58.867

尝试这个

```
 $(".v_nav > li > a").mouseover(function() {

     //.... Your Code

}); 
```

# asp.net - 如果多个用户在服务器上登录到系统，则提交数据时出错

> ID：15240856
> 
> 赞同：0
> 
> 时间：2013-03-06T06:53:24.060
> 
> 标签：asp.net

我在 Asp.Net 3.5 中开发了一个应用程序。在此，我使用了 4 层架构。

## 服务器详细信息

应用程序托管在带有 IIS 7 的 Windows Server 2008 64 位操作系统上。服务器具有 32GB 的 RAM 和 200GB 的硬盘驱动器。

两者都发布托管在同一台服务器上的应用程序和数据库。

## 问题

我有一份审核表，我正在尝试提交对员工的审核。

当单用户登录到 Web 服务器上的应用程序时，应用程序工作正常。用户可以提交他们的评论。但是一旦它增加到一个以上，它就会产生问题。假设有多个用户一次单击提交按钮提交评论，那么只有一个员工记录存储在数据库中，其余所有用户数据都没有存储，但所有用户都收到一条消息“提交成功”。

我还检查了事件日志中的错误，并收到如下消息。

> 事件代码：3005 事件消息：发生未处理的异常。事件时间：2013 年 3 月 6 日上午 11:53:37 事件时间 (UTC)：2013 年 3 月 6 日上午 6:23:37 事件 ID：e417857a86074b16bbf05bce818a5b0d 事件序列：11 事件发生：1 事件详细代码：0
> 
> 应用程序信息：应用程序域：/LM/W3SVC/1/ROOT/spmstest-2-130070176529122850 信任级别：完整应用程序虚拟路径：/spmstest 应用程序路径：C:\hrpmsapp\PMSPublished Test\机器名称：INDW00029
> 
> 进程信息：进程ID：9320 进程名：w3wp.exe 账户名：IIS APPPOOL\DefaultAppPool
> 
> 异常信息：异常类型：NullReferenceException 异常消息：对象引用未设置为对象的实例。
> 
> 请求信息： 请求 URL： 请求路径： 用户主机地址： 用户： 已通过身份验证： False 身份验证类型： 线程帐户名： IIS APPPOOL\DefaultAppPool
> 
> 线程信息：线程 ID：10 线程帐户名称：IIS APPPOOL\DefaultAppPool 正在模拟：False 堆栈跟踪：在 ASP.global_asax.Session_End(Object sender, EventArgs e)
> 
> 自定义活动详情：

请在下面找到示例代码。

```
using System;
using System.Collections;
using System.Configuration;
using System.Data;
using System.Web;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using PMS.BO;
using PMS.BAL;
using System.Data.OleDb;

public partial class Reviews_DevelopmentReview : System.Web.UI.Page
{
    ClsUtility cUtil = new ClsUtility();
    ClsDevRevBAL DevRevBAL = new ClsDevRevBAL();
    ClsDevRevBO DevRevBO = new ClsDevRevBO();
    ClsObjectiveBAL ObjBAL = new ClsObjectiveBAL();
    ClsMailSetBO MailSetBO = new ClsMailSetBO();
    ClsMailSetBAL MailSetBAL = new ClsMailSetBAL();

    static DataSet dsDevRevGridHead;
    static DataTable dtDataForMail;
    static int DevRevCode = 0;
    int EmpRating = 0; int MgrRating = 0;
    int result;
    static int StatusCode;
    static bool isFiveRatingApplicable = false;
    static string companyId = string.Empty;

    static string JobRoleId = string.Empty;
    static string EmpCode = string.Empty;
    static int loginEmpCode;
    static string LoginType = string.Empty;

    protected void Page_Load(object sender, EventArgs e)
    {
        if (Session["UserID"] == null)
        {
            Response.Redirect("../Default.aspx?Session=expired");
        }
        LoginAuthentication loginAuth = new LoginAuthentication();
        LoginVariables loginVar = loginAuth.getSession();

        if (!Page.IsPostBack)
        {
            companyId = loginVar.CompanyId;

            if (Request.QueryString.Count > 0)
            {
                if (Request.QueryString["Id"].ToString() != null)
                {
                    dtDataForMail = cUtil.GetEmpDetail(int.Parse(Request.QueryString["Id"].ToString()));
                    EmpCode = Request.QueryString["Id"].ToString();
                    loginEmpCode = int.Parse(loginVar.EmployeeID);
                    LoginType = "Manager";
                }
                isFiveRatingApplicable = cUtil.GetIsFiveRatingApplicable(EmpCode);

                StatusCode = DevRevBAL.GetStatusCode(EmpCode);
                switch (StatusCode)
                {
                    case 2:
                        DisableControls();
                        btnSubmitLater.Visible = false;
                        btnSubmit.Visible = false;
                        break;
                    case 3:
                        DisableControls();
                        btnSubmitLater.Visible = false;
                        btnSubmit.Visible = false;
                        btnFinalize.Visible = true;
                        break;
                    case 4:
                        DisableControls();
                        btnSubmitLater.Visible = false;
                        btnSubmit.Visible = false;
                        btnFinalize.Enabled = false;
                        if (companyId == "0")
                        {
                            btnFinalize.Visible = true;
                            btnFinalize.Enabled = true;
                            txtHrComment.Enabled = true;
                        }
                        break;
                    case 5:
                        DisableControls();
                        btnSubmitLater.Visible = false;
                        btnSubmit.Visible = false;
                        btnFinalize.Enabled = false;
                        break;
                    default:
                        break;
                }
            }
            else
            {
                EmpCode = loginVar.EmployeeID;
                loginEmpCode = int.Parse(loginVar.EmployeeID);
                LoginType = "Employee";
                isFiveRatingApplicable = cUtil.GetIsFiveRatingApplicable(EmpCode);
                StatusCode = DevRevBAL.GetStatusCode(EmpCode);
                switch (StatusCode)
                {
                    case 1:
                        btnSubmit.Visible = false;
                        btnSubmitLater.Visible = false;
                        btnFinalize.Visible = false;
                        txtEmpAreaForSkill.ReadOnly = true;
                        txtEmpAreaForDev.ReadOnly = true;
                        break;
                    case 2:
                        btnSubmit.Visible = false;
                        btnSubmitLater.Visible = false;
                        btnFinalize.Visible = true;
                        txtEmpAreaForSkill.ReadOnly = true;
                        txtEmpAreaForDev.ReadOnly = true;
                        txtEmployeeComment.ReadOnly = false;
                        break;
                    case 3:
                        btnSubmit.Visible = false;
                        btnSubmitLater.Visible = false;
                        btnFinalize.Enabled = false;
                        txtEmpAreaForSkill.ReadOnly = true;
                        txtEmpAreaForDev.ReadOnly = true;
                        txtEmployeeComment.ReadOnly = true;
                        break;
                    case 4:
                        DisableControls();
                        btnSubmitLater.Visible = false;
                        btnSubmit.Visible = false;
                        btnFinalize.Enabled = false;
                        break;
                    case 5:
                        DisableControls();
                        btnSubmitLater.Visible = false;
                        btnSubmit.Visible = false;
                        btnFinalize.Enabled = false;
                        break;
                    default:
                        break;
                }
            }
            DataTable dtData = cUtil.GetEmpDetail(int.Parse(EmpCode));
            txtEmployee.Text = dtData.Rows[0]["EmpName"].ToString();
            txtBranch.Text = dtData.Rows[0]["Branch"].ToString();
            txtDesignation.Text = dtData.Rows[0]["Designation"].ToString();
            txtManager.Text = dtData.Rows[0]["Approver"].ToString();
            JobRoleId = dtData.Rows[0]["JobRoleId"].ToString();

            if (dtData.Rows[0]["Status"].ToString() != "True")
            {
                Menu1.Items.Add(new MenuItem { ImageUrl = "../Images/selectedtab1.png", Value = "0", Text = "" });
                Menu1.Items.Add(new MenuItem { ImageUrl = "../Images/unselectedtab2.png", Value = "1", Text = "" });
                Menu1.Items.Add(new MenuItem { ImageUrl = "../Images/unselectedtab4.png", Value = "3", Text = "" });
            }
            else
            {
                Menu1.Items.Add(new MenuItem { ImageUrl = "../Images/selectedtab1.png", Value = "0", Text = "" });
                Menu1.Items.Add(new MenuItem { ImageUrl = "../Images/unselectedtab2.png", Value = "1", Text = "" });
                Menu1.Items.Add(new MenuItem { ImageUrl = "../Images/unselectedtab3.png", Value = "2", Text = "" });
                Menu1.Items.Add(new MenuItem { ImageUrl = "../Images/unselectedtab4.png", Value = "3", Text = "" });
            }
            Menu1.Items[0].Selected = true;
            FillDevRevGridView();
            FillTrainingListBox();

            if (isFiveRatingApplicable == true)
            {
                // For Competencies Section
                trRatingInstruction.Visible = false;

                // For Development Actions Section
                tblForFiveRating1.Visible = true;

                // For Development Targets Section
                lblDomesticMob.Visible = true;
                rdDomMobStatus.Visible = true;
                tblForFiveRating2.Visible = true;

                // For Comments Section
                lblHrComment.Visible = true;
                txtHrComment.Visible = true;
            }
        }
        EnableDisableControls();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:15:50.767

也许您使用不需要每个用户唯一的静态对象？

静态变量的范围是应用程序范围的，并在所有用户之间共享！

因此，多个用户尝试访问同一个 DataTable 或 DataSet 实例对我来说似乎有点奇怪

# codeigniter - 如何将数据发送到 Codeigniter 控制器

> ID：15240859
> 
> 赞同：0
> 
> 时间：2013-03-06T06:53:27.493
> 
> 标签：codeigniter

我想将值发送到控制器。我该怎么做？

```
$("#Select").click(
    function()
    {
        var Values = [];    
        $("#option :selected").each(
                function()
                {
                Values.push($(this).val()); 
                 });

         alert(Values);

        return false;
    }
); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:03:32.820

为此，您将不得不使用 ajax 请求

```
$("#Select").click(
    function()
    {
        var Values = [];    
        $("#option :selected").each(
        function()
        {
            Values.push($(this).val()); 
        });

        $.ajax({
            type : 'POST',
            url  : '<?php echo site_url("controllername/mymethod")?>',
            data : 'myarray='+Values,
            success : function(){
                // do whatever you want 
            } 
        });
        return false;
    }
); 
```

在控制器中接受这样的值

```
function mymethod(){
    $array  =   $this->input->post('myarray');
    // do whatever you want
} 
```

# php - mvc结构化网站上的谷歌分析

> ID：15240863
> 
> 赞同：0
> 
> 时间：2013-03-06T06:53:32.547
> 
> 标签：php, model-view-controller, google-analytics

我想将 ga 用于我的 php mvc 网站。

假设我将代码放在索引页的控制器中：

这意味着每当用户进入索引时都会触发它，但我无法确定用户是否登录，对吗？

因为通常情况下，如果我进入基于登录的网站，主页通常用作欢迎屏幕，如果您已登录，则作为主页。

我怎样才能避免这种情况？我想我可以在 URL 中使用 GET 参数，这样我就可以看到登录/未登录之间的区别，但是它看起来有点骇人听闻。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:53:15.713

您可以使用[自定义变量 - 网络跟踪](https://developers.google.com/analytics/devguides/collection/gajs/gaTrackingCustomVariables)(ga.js)

您还可以使用[事件跟踪 - 网络跟踪](https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide)(ga.js)

您必须阅读[Google Analytic API](https://developers.google.com/analytics/)的完整文档。他们提供了许多跟踪方法。另请阅读 Google Analytic Reporting API 和数据集成。

# android - 如何在android中制作自定义指南针视图

> ID：15240865
> 
> 赞同：4
> 
> 时间：2013-03-06T06:53:40.753
> 
> 标签：android, android-view, digital-compass

我正在使用一个简单的指南针应用程序。我需要使用传感器活动设置罗盘视图，为此我选择了罗盘视图类。但它只是为指南针视图绘制一个圆圈和一条线。我需要通过用我自己的可绘制图像替换这个圆圈和线条来自定义这个视图，有人请帮我解决这个问题。

**我的视图类**

```
import android.content.Context;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.view.View;

public class MyCompassView extends View {

  private Paint paint;
  private float position = 0;

  public MyCompassView(Context context) {
    super(context);
    init();
  }

  private void init() {
    paint = new Paint();
    paint.setAntiAlias(true);
    paint.setStrokeWidth(2);
    paint.setTextSize(25);
    paint.setStyle(Paint.Style.STROKE);
    paint.setColor(Color.WHITE);
  }

  @Override
  protected void onDraw(Canvas canvas) {
    int xPoint = getMeasuredWidth() / 2;
    int yPoint = getMeasuredHeight() / 2;

    float radius = (float) (Math.max(xPoint, yPoint) * 0.6);
    canvas.drawCircle(xPoint, yPoint, radius, paint);
    canvas.drawRect(0, 0, getMeasuredWidth(), getMeasuredHeight(), paint);

    // 3.143 is a good approximation for the circle
    canvas.drawLine(xPoint,
        yPoint,
        (float) (xPoint + radius
            * Math.sin((double) (-position) / 180 * 3.143)),
        (float) (yPoint - radius
            * Math.cos((double) (-position) / 180 * 3.143)), paint);

    canvas.drawText(String.valueOf(position), xPoint, yPoint, paint);
  }

  public void updateData(float position) {
    this.position = position;
    invalidate();
  }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-08T13:43:22.030

上面的代码已被弃用。[此处](http://www.javacodegeeks.com/2013/09/android-compass-code-example.html)提供更新的代码

**XML 布局 activty_main**

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#fff" >
    <TextView
        android:id="@+id/tvHeading"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="40dp"
        android:layout_marginTop="20dp"
        android:text="Heading: 0.0" />
    <ImageView
        android:id="@+id/imageViewCompass"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/tvHeading"
        android:layout_centerHorizontal="true"
        android:src="@drawable/img_compass" />
</RelativeLayout> 
```

**主要活动**

```
public class MainActivity extends Activity implements SensorEventListener {

    // define the display assembly compass picture
    private ImageView image;

    // record the compass picture angle turned
    private float currentDegree = 0f;

    // device sensor manager
    private SensorManager mSensorManager;

    TextView tvHeading;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // 
        image = (ImageView) findViewById(R.id.main_iv);

        // TextView that will tell the user what degree is he heading
        tvHeading = (TextView) findViewById(R.id.tvHeading);

        // initialize your android device sensor capabilities
        mSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);
    }

    @Override
    protected void onResume() {
        super.onResume();

        // for the system's orientation sensor registered listeners
        mSensorManager.registerListener(this, mSensorManager.getDefaultSensor(Sensor.TYPE_ORIENTATION),
                SensorManager.SENSOR_DELAY_GAME);
    }

    @Override
    protected void onPause() {
        super.onPause();

        // to stop the listener and save battery
        mSensorManager.unregisterListener(this);
    }

    @Override
    public void onSensorChanged(SensorEvent event) {

        // get the angle around the z-axis rotated
        float degree = Math.round(event.values[0]);

        tvHeading.setText("Heading: " + Float.toString(degree) + " degrees");

        // create a rotation animation (reverse turn degree degrees)
        RotateAnimation ra = new RotateAnimation(
                currentDegree, 
                -degree,
                Animation.RELATIVE_TO_SELF, 0.5f, 
                Animation.RELATIVE_TO_SELF,
                0.5f);

        // how long the animation will take place
        ra.setDuration(210);

        // set the animation after the end of the reservation status
        ra.setFillAfter(true);

        // Start the animation
        image.startAnimation(ra);
        currentDegree = -degree;

    }

    @Override
    public void onAccuracyChanged(Sensor sensor, int accuracy) {
        // not in use
    }
} 
```

# android - Appcelerator Titanium(Android) webview的额外空间

> ID：15240866
> 
> 赞同：0
> 
> 时间：2013-03-06T06:53:45.887
> 
> 标签：android, titanium

我对钛比较陌生。我在 webview 中加载我的本地 html/xml。在 iOS 中，所有内容都是自动处理的（显示内容），但是当我在 webview 中的 android 内容中检查此内容时，会有额外的空格，内容也会显示为跳跃和弹跳，这是不可接受的。我正在使用合金结构。当我在本地文件中静态添加元标记（视口）时，空白就消失了。但是我需要动态加载本地文件，所以我不能编辑我的本地文件。因此，编辑这些文件我会像这样覆盖 webview 的加载方法：-

```
$.webview.addEventListener('load', function(e) { $.webview.evalJS("var m=document.createElement(\"meta\");m.name = \"viewport\";m.content = \"width=" + scrwidth + ", user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1\";document.getElementsByTagName(\"head\")[0].appendChild(m);"); }); 
```

但它不影响webview的html。为了确认这一点，我在 evalJS 之后编写了一个文件，因此我可以确定 evalJS 正在影响。

```
var jsString = 'var s=document.createElement("script");' + 's.innerHTML="' + 'sdfsdfsdfsd' + '";' + 'document.getElementsByTagName("head")[0].appendChild(s);'; $.webview.evalJS(jsString);

var resFile = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory, "response.html"); resFile.write($.webview.html); 
```

现在，当我在应用程序数据目录中检查此文件时，我可以看到 iOS 的这种效果（它只显示我本地 html 的内容），但对于 android，我看不到我添加的脚本。当我检查响应文件时，它以 javascrit 开头，我无法理解它的来源（我认为它来自本机 webview 的 html），并且在其脚本结束后，我看到了我的 html，但没有看到我在加载中手动添加的脚本。我读到了这个问题，但都给出了视口元标记解决方案，但就我而言，无论我多么努力，我都无法适应内容。那么你们能告诉我我哪里出错了吗？是否有任何特殊权限可以在 android 中编辑 webview 的 html（因为它没有编辑）。

应用程序类型：- 移动 Titanium SDK：- 3.0.2 平台和版本：- Android 2.2 设备：- htc Nexus/ mototrola zoom 主机操作系统：- Mac OS 10.8.2 Titanium Studio：- 3.0

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T21:09:24.177

您需要移动设备的视口元标记：

`<meta name="viewport" content="width=device-width,user-scalable=yes,initial-scale=1">`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T16:09:57.743

感谢您的回答，但正如我所说，无论我试图找到这个问题的答案，我都找到了与您提到的相同的答案（所以您的答案肯定是正确的）但我在上面提到我不能手动添加这一行，因为我没有可以控制这些文件，所以这对我来说不再有用了。

我还展示了我如何在上面动态添加元标记，但这也不起作用。

所以现在我所做的是处理保存 html 的文件，然后用替换`</head>` 标签，`<meta name="viewport" content="width=device-width,user-scalable=yes,initial-scale=1"></head>`然后将此文件保存到它自己的位置。现在，当文件成功写入时，我使用 webview.url = file.nativepath 访问它。:) 现在一切正常。

可能这对像我一样尝试的人有用。这里的过程会很慢，因为我正在访问文件编辑文件，然后再次访问该文件，但这至少可以工作。如果有人有更准确或更明智的答案，他们可以在这里回答，谢谢。

# .net - CurrentItemChanged 未引发

> ID：15240873
> 
> 赞同：1
> 
> 时间：2013-03-06T06:54:11.157
> 
> 标签：.net, vb.net, winforms, ado.net, bindingsource

这是最简单的场景。我有一个带有几个 TextBoxes 和一个 BindingSource 的 Form，绑定到 DataSet 实例，TextBoxes 绑定到 BindingSource。在这些文本框中输入文本不会`CurrentItemChanged`在我的 BindingSource 上引发事件；即使我将焦点更改为另一个文本框。它仅在我移至另一条记录时触发，这是人们对`CurrentChanged`. 根据[MSDN](http://msdn.microsoft.com/en-us/library/system.windows.forms.bindingsource.currentitemchanged%28v=vs.100%29.aspx)：

*引发 CurrentItemChanged 事件以响应引发 CurrentChanged 事件的所有情况。此外，只要 Current 的某个属性的值发生更改，也会触发 CurrentItemChanged。*

请注意，我不想调用 EndEdit() 因为那会提交我的更改。

**编辑**

这是我的绑定代码。现在我也添加`OnPropertyChanged`了，没有任何运气。

```
Me.bsCatItems.DataMember = "catalog_items"
Me.bsCatItems.DataSource = Me.DsInventory
Me.bsItems.DataSource = Me.bsCatItems
Me.bsItems.DataMember = "FK_CatalogItems_Items"
Me.TextBox1.DataBindings.Add(New System.Windows.Forms.Binding("Text", Me.bsItems, "consignment_count", True, System.Windows.Forms.DataSourceUpdateMode.OnPropertyChanged)) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:03:23.107

您正在寻找`DataSourceUpdateMode.OnPropertyChanged` 当您在窗体上绑定控件时，默认值为`OnValidation`.

`OnPropertyChanged`每次用户在控件中键入值时，您必须将其更改为更新

```
this.MyTextbox.DataBindings.Add(new Binding("Text", this.bindingSource, "fieldName", true, DataSourceUpdateMode.OnPropertyChanged)); 
```

您也可以从设计器中完成（如果您使用 VisualStudio）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T06:59:46.350

我不确定这在 winforms 中是如何工作的，但在 wpf 中，您可以将绑定的 updatesourcetrigger 设置为属性更改。如果设置了此项，则每次您在文本框中输入内容时，都会触发 propertychanged-event。

我很确定winforms中有一个平等的机制。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-30T14:22:21.057

您必须实现该`INotifyPropertyChanged`接口才能`CurrentItemChanged`引发事件 - 绑定源将自动订阅该`PropertyChanged`事件。

要查看如何`INotifyPropertyChanged`实现的示例，请参见例如此[链接](https://stackoverflow.com/questions/1315621/implementing-inotifypropertychanged-does-a-better-way-exist)

# php - 安装 sylius 沙箱时出错

> ID：15240875
> 
> 赞同：0
> 
> 时间：2013-03-06T06:54:19.013
> 
> 标签：php, symfony, sylius

我正在尝试安装最新版本的 sylius 沙箱，但出现此错误

```
ParameterNotFoundException: The service "sylius_sandbox.form.type.product_variants_grid" has a 
dependency on a non-existent parameter "sylius_assortment.model.product.class". 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:00:20.660

首先，你的问题是什么？

然而，这可能是相关的：

[https://github.com/Sylius/SyliusAssortmentBundle/blob/master/CHANGELOG.md#24-012013](https://github.com/Sylius/SyliusAssortmentBundle/blob/master/CHANGELOG.md#24-012013)

> 24-01.2013
> 
> 从服务和模型中删除 sylius_assortment 前缀。
> 
> 请改用 sylius。

# c++ - 计算做出改变的方法的数量

> ID：15240878
> 
> 赞同：1
> 
> 时间：2013-03-06T06:54:30.083
> 
> 标签：c++, c, algorithm, subset-sum, coin-change

我有一套硬币 1,2,4,10,20,40,100,200,400,1000,2000 美分。我想知道有多少种方式可以支付一定金额（<= 6000）。我目前在 c++ 中的解决方案是使用动态编程，如下所示：

```
long long d[6010];
int coin[] = {1, 2, 4, 10, 20, 40, 100, 200, 400, 1000, 2000};
d[0] = 1;
for (int i = 0; i < 11; i++) {  // iterate through all coins
    for (int j = 1; j <= 6000; j++)
        d[j] += d[j - coin[i]];
printf("%lld\n", d[20]); 
```

但是我的输出不正确：-956301262。是因为任何溢出问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:16:39.520

您必须使用大小为 6001x11 的二维数组（在您的情况下）来存储所有可能的值。从 d[0][0] 开始并迭代直到 d[6000][10] 包含最终答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T07:41:49.543

你的循环是向后的。硬币面额循环应该是你的内循环。

您的数组分配也没有任何意义。您目前只是将与您的目标不同的特定硬币面额的变化值相加。

您可能应该将向量向量作为数据结构。每次运行内部循环时，都应该在数据结构中插入一个新向量。这个向量应该是一组硬币，其总和等于感兴趣的价值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T07:10:17.453

我看不出你的算法应该如何工作，我会从高到低递归地遍历每个面额（循环不同的数量）。在使用查找表时，大概类似于您的 d.

类似于以下内容：

```
howmanyways(sorted_denominations_set_starting_with_1, target amount):
if this is already in the lookup table return the result
else if sorted_denominations_set_starting_with_1 is {1}, then return target amount
else loop over 0 to target amount/last_set_element
   return the sum of results for howmanyways(sorted_denominations_set_starting_with_1 without the largest element, target amount-last_set_element*loop_index)
keep whatever you return in the lookup table 
```

并返回 howmanyways({1, 2, 4, 10, 20, 40, 100, 200, 400, 1000, 2000}, 目标金额);

# javascript - Adding the "Select all" option to a drop down list in html

> ID：15240880
> 
> 赞同：-1
> 
> 时间：2013-03-06T06:54:33.523
> 
> 标签：javascript, html

I want to add the "Select All" option to my drop down list so that i can select all the values in dropdown list by a single click on "Select All" option.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:55:57.070

In simple words, this is not possible using only `HTML`. You need `JavaScript` for this.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:18:29.507

我得到了解决方案。在这里...

```
<html>
<head>
<style type="text/css"></style>
<script language="javascript">
      function changeSelection(value){

      var length = document.getElementById("ch").options.length;

      if(value == 0){
      for(var i = 1;i<length;i++)
        document.getElementById("ch").options[i].selected = "selected";

      document.getElementById("ch").options[0].selected = "";
      }

  }
</script>
</head>
<body>

<select multiple onchange="changeSelection(this.value)"
     id="ch">
<option value="0">All</option>
<option value="1">C</option>
<option value="2">C++</option>
<option value="3">Java</option>
<option value="4">SQL</option>
<option value="5">HTML</option>
</select>

</body>
</html> 
```

# go - How can I handle http requests of different methods to / in Go?

> ID：15240884
> 
> 赞同：90
> 
> 时间：2013-03-06T06:54:46.587
> 
> 标签：go

I'm trying to figure out the best way to handle requests to `/` and only `/` in Go and handle different methods in different ways. Here's the best I've come up with:

```
package main

import (
    "fmt"
    "html"
    "log"
    "net/http"
)

func main() {
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        if r.URL.Path != "/" {
            http.NotFound(w, r)
            return
        }

        if r.Method == "GET" {
            fmt.Fprintf(w, "GET, %q", html.EscapeString(r.URL.Path))
        } else if r.Method == "POST" {
            fmt.Fprintf(w, "POST, %q", html.EscapeString(r.URL.Path))
        } else {
            http.Error(w, "Invalid request method.", 405)
        }
    })

    log.Fatal(http.ListenAndServe(":8080", nil))
} 
```

Is this idiomatic Go? Is this the best I can do with the standard http lib? I'd much rather do something like `http.HandleGet("/", handler)` as in express or Sinatra. Is there a good framework for writing simple REST services? [web.go](https://github.com/hoisie/web) looks attractive but appears stagnant.

Thank you for your advice.

* * *

## 回答 #1

> 赞同：115
> 
> 时间：2013-03-06T16:57:55.857

确保您只为根服务：您正在做正确的事情。在某些情况下，您可能希望调用 http.FileServer 对象的 ServeHttp 方法，而不是调用 NotFound；这取决于您是否还有其他想要提供的文件。

以不同的方式处理不同的方法：我的许多 HTTP 处理程序只包含这样的 switch 语句：

```
switch r.Method {
case http.MethodGet:
    // Serve the resource.
case http.MethodPost:
    // Create a new record.
case http.MethodPut:
    // Update an existing record.
case http.MethodDelete:
    // Remove the record.
default:
    http.Error(w, "Method not allowed", http.StatusMethodNotAllowed)
} 
```

当然，您可能会发现像 gorilla 这样的第三方软件包更适合您。

* * *

## 回答 #2

> 赞同：40
> 
> 时间：2013-03-06T07:51:49.650

嗯，我实际上是去睡觉了，因此对查看[http://www.gorillatoolkit.org/pkg/mux](http://www.gorillatoolkit.org/pkg/mux)的快速评论非常好，并且可以满足您的需求，只需查看文档即可。例如

```
func main() {
    r := mux.NewRouter()
    r.HandleFunc("/", HomeHandler)
    r.HandleFunc("/products", ProductsHandler)
    r.HandleFunc("/articles", ArticlesHandler)
    http.Handle("/", r)
} 
```

和

```
r.HandleFunc("/products", ProductsHandler).
    Host("www.domain.com").
    Methods("GET").
    Schemes("http") 
```

以及执行上述操作的许多其他可能性和方式。

但我觉得有必要解决问题的另一部分，“这是我能做的最好的吗”。如果 std 库有点过于简单，可以在这里查看一个很好的资源：[https](https://github.com/golang/go/wiki/Projects#web-libraries) ://github.com/golang/go/wiki/Projects#web-libraries （专门链接到 Web 库）。

# glsl - THREE.js 在着色器中重复包裹纹理

> ID：15240886
> 
> 赞同：5
> 
> 时间：2013-03-06T06:54:50.080
> 
> 标签：glsl, three.js, webgl, shader

我想在 THREE.js 着色器中重复包装纹理。

原始纹理图像为：

![在此处输入图像描述](../Images/c4fc1721923756432102df412da86afa.png)

我希望它重复 4x4 次，如下所示：

![在此处输入图像描述](../Images/ae9adaa44ba4f6706d339412272797bb.png)

但是使用以下代码，结果是：

![在此处输入图像描述](../Images/11bbce00d3853f410e7d0ea933e27c8d.png)

顶点着色器：

```
varying vec2 vUv;

uniform float textRepeat;

void main()
{    
    // passing texture to fragment shader
    vUv = uv * textRepeat;

    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
} 
```

片段着色器：

```
varying vec2 vUv;

uniform sampler2D texture;

void main() {
    // add origianl texture
    gl_FragColor = texture2D(texture, vUv);
} 
```

`uniforms`在一个 JavaScript 文件中，其中`textureRepeat`给出了需要重复的时间：

```
uniforms: {
    texture: {
        type: 't', 
        value: THREE.ImageUtils.loadTexture('image/box.jpg')
    },
    textRepeat: {
        type: 'f',
        value: 8
    }
} 
```

谁能告诉我这里出了什么问题？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-06T07:23:25.763

默认情况下，纹理具有“Clamp To Edge”环绕模式，这意味着超过 1 的 u 或 v 仍将是 1，而不是环绕回 0。

要解决此问题，您需要将纹理的环绕模式设置为“重复”，如下所示：

`uniforms.texture.value.wrapS = uniforms.texture.value.wrapT = THREE.RepeatWrapping`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-26T18:42:44.713

另一个技巧可能是执行 fract(uv) 之类的操作并获取小数部分。（它总是在 0-1 之内）

# android - Can I use robotium's take 'snapshot' method in an android Proj. If so any suggestions to how?

> ID：15240888
> 
> 赞同：1
> 
> 时间：2013-03-06T06:54:53.730
> 
> 标签：android, robotium

I need to take some screen shots, is it possible to use the method 'takeScreenShot' already available in Robotium to take screen shots? I've imported the jar files, but I haven't been too successful. If it is not possible to use robotium can you suggest any other solutions.

```
public class MyService extends Service {
    Solo solo;
    Context con;
    private Instrumentation it;
    @Override
public void onCreate() {
        // TODO Auto-generated method stub
        super.onCreate();

        it = new Instrumentation();
        Log.i("My Service", "Instrumentation Obj was created");

    }
    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
    // TODO Auto-generated method stub

        solo = new Solo(it);
        if(solo == null)
        Log.i("My Service", "Solo Obj was created");
        solo.takeScreenshot();
        return super.onStartCommand(intent, flags, startId);
    } 
```

Log cat O/P: 03-06 17:27:54.939: W/dalvikvm(1405): VFY: unable to resolve new-instance 468 (Lcom/jayway/android/robotium/solo/Solo;) in Lcom/example/unboundserviceex/MyService; 03-06 17:27:54.949: D/dalvikvm(1405): VFY: replacing opcode 0x22 at 0x0000 03-06 17:27:54.949: D/dalvikvm(1405): DexOpt: unable to opt direct call 0x0cf0 at 0x04 in Lcom/example/unboundserviceex/MyService;.onStartCommand 03-06 17:27:54.949: I/My Service(1405): Instrumentation Obj was created 03-06 17:27:54.959: D/AndroidRuntime(1405): Shutting down VM 03-06 17:27:54.959: W/dalvikvm(1405): threadid=1: thread exiting with uncaught exception (group=0x409c01f8) 03-06 17:27:54.979: E/AndroidRuntime(1405): FATAL EXCEPTION: main

> 03-06 17:27:54.979: E/AndroidRuntime(1405): java.lang.NoClassDefFoundError:

com.jayway.android.robotium.solo.Solo 03-06 17:27:54.979: E/AndroidRuntime(1405): at com.example.unboundserviceex.MyService.onStartCommand(MyService.java:33) 03-06 17:27:54.979: E/AndroidRuntime(1405): at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:2359) 03-06 17:27:54.979: E/AndroidRuntime(1405): at android.app.ActivityThread.access$1900(ActivityThread.java:123) 03-06 17:27:54.979: E/AndroidRuntime(1405): at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1210) 03-06 17:27:54.979: E/AndroidRuntime(1405): at android.os.Handler.dispatchMessage(Handler.java:99) 03-06 17:27:54.979: E/AndroidRuntime(1405): at android.os.Looper.loop(Looper.java:137) 03-06 17:27:54.979: E/AndroidRuntime(1405): at android.app.ActivityThread.main(ActivityThread.java:4424) 03-06 17:27:54.979: E/AndroidRuntime(1405): at java.lang.reflect.Method.invokeNative(Native Method) 03-06 17:27:54.979: E/AndroidRuntime(1405): at java.lang.reflect.Method.invoke(Method.java:511) 03-06 17:27:54.979: E/AndroidRuntime(1405): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784) 03-06 17:27:54.979: E/AndroidRuntime(1405): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551) 03-06 17:27:54.979: E/AndroidRuntime(1405): at dalvik.system.NativeStart.main(Native Method)

The main error I believe is: java.lang.NoClassDefFoundError

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T06:51:32.140

如果想在他们的项目中使用 Robotium 框架，还应该了解 Robotium 需要两件事：

1.  活动
2.  包名

下一步，您需要将这些详细信息添加到清单文件中（在检测标签中）

现在挂在上面的细节上。

我们需要将这两个细节动态添加到屏幕截图记录器应用程序的清单中

> 这是不可能的，因为违背了清单文件的目的

本质上我是说这是一个坏主意，我们不能使用 Robotium 的“takeScreenShot”方法来拍摄屏幕截图。我建议使用[ASL Library](http://code.google.com/p/android-screenshot-library/)，但我仍然无法使用它。谢谢你的时间，我很抱歉浪费了别人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:25:57.253

Robotium 能够截屏，但它只包含您的应用程序的视图（例如状态栏将是空白的）。你遇到了什么问题？“我还没有太成功”什么也没说。

编辑：看来，您的项目中没有包含robotium-solo jar。

无论如何，如果您只需要它来截取屏幕截图，则根本不需要它，只需使用此代码即可，但正如我之前写的，您将需要任何视图来获取它（以及在外部存储上写入的权限）

```
protected void takeScreenshot(String name, View v) {
    View view = v.getRootView();
    view.setDrawingCacheEnabled(true);
    view.buildDrawingCache();
    Bitmap bmp = view.getDrawingCache();
    if (bmp != null) {
        String path = String.format("%s/%s/",
            Environment.getExternalStorageDirectory(),
            "scrrenshots");

        File dir = new File(path);
        if (!dir.exists()) {
            dir.mkdirs();
        }

        FileOutputStream fos = null;
        try {
            fos = new FileOutputStream(String.format(
                    "%s%s.png", path, name));
            bmp.compress(Bitmap.CompressFormat.PNG, 90, fos);
        } catch (IOException e) {
        } finally {
            if (view != null) {
                view.destroyDrawingCache();
            }
            if (fos != null) {
                try {
                    fos.close();
                } catch (IOException e) {
                }
            }
        }
    } 
} 
```

# .net - 从一个更大的人员类列表创建 3 个子列表

> ID：15240893
> 
> 赞同：0
> 
> 时间：2013-03-06T06:55:25.007
> 
> 标签：.net, vb.net, collections, .net-4.0

我有一份人员名单

```
dim list As New List(Of Person) 
```

' 让我们说上面的列表有 6 个对象，有 3 种年龄，例如 25、28、35 岁

我想编写一个函数，它可以生成按年龄分组的 3 个单独的人员对象列表并填写它们

```
dim masterList As New List(List(Of Person)) 
```

你能建议一些代码片段来在 Vb.net 中实现这一点吗

人员类的定义

```
class Person

Dim age as Integer

Dim name as String

End Class 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T06:58:22.123

使用 linq to objects 很容易：

```
masterList = list.GroupBy(Function(p) p.age) _
                 .Select(Function(g) g.ToList()) _
                 .ToList() 
```

您必须导入`System.Linq`才能使其工作。

# django - url rewriting based on language selected by user

> ID：15240900
> 
> 赞同：0
> 
> 时间：2013-03-06T06:55:38.333
> 
> 标签：django, url-rewriting

I have a requirement where in I have to write this url `www.example.com/something/something/` to `www.example.com/en/something/something/` only when user chooses English language.

This is for an existing site already done in django with urls for the normal part done. Now if user chooses english language, I must rewrite the urls.

I thought i could manually start changing all the urls in django templates like so

```
{% if request.session.language == 'en' %} 
    <a href="/en/something"..>
{% else %}
    <a href="/something"..>
{% endif %} 
```

But I have been asked not to do it that way as the number of links is too much to do it this way.

Then I thought of trying a custom middleware, where I could access the request object in `process_request` and do a `return HttpResponsePermanentRedirect(redirect_url)`

But it seems `process_request` processes all the requests one by one, including the images and other links. But what I want is the first request, the actual url that was requested.

So I tried the same in a constructor in the middleware hoping it would get called only once and that would be the first request. But the problem I face is that `__init__` accepts only `self` and `**args` and not a `request` object, so I cannot access the session variables there.

I thought about trying this in apache, but I need to do the url redirect only if user selects the English language, not always.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:04:57.223

一旦您从文档中阅读[了 django urls 模式中的国际化](https://docs.djangoproject.com/en/1.5/topics/i18n/translation/#internationalization-in-url-patterns)，您就会意识到它是一个简单的过程。

1.  更新您的`urls.py`：

    ```
    from django.conf.urls.i18n import i18n_patterns

    urlpatterns += i18n_patterns('',
        url(r'^something/$', 'something.view', name='something'),
        # other urls like you would normally have
    ) 
    ```

2.  确保`django.middleware.locale.LocaleMiddleware`在您`MIDDLEWARE_CLASSES`的`settings.py`.

而已。现在，您的模式将根据用户选择的语言进行更新。

# joomla - Joomla: Need to create new page with form filled by user details

> ID：15240901
> 
> 赞同：0
> 
> 时间：2013-03-06T06:55:45.447
> 
> 标签：joomla

I am new to Joomla and it is difficult to understand API for me.

I want to create simple page with form fields, which will have current logged in user details. That will be submitted to 3rd party site for payment processing.

Any one help me, what is way for creating dynamic page?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:29:41.080

你可以这样工作，

如果此表单只需要为登录用户显示，那么

在下创建新布局`components/com_users/view/profile/tmpl/new_layout.php`

您还可以通过检查布局来设置此页面所需的值，`components/com_users/view/profile/view.html.php`并调用从其模型返回必要数据的函数

这里是profile.php下`components/com_users/models/`

在您的自定义表单 new_layout.php 中，您可以添加表单操作，例如 `index.php?option=com_users&view=profile&task=profile.addNewData`；

这会将表单数据发送到 profile.php 控制器，函数名称为 addNewData()

您可以从此控制器调用配置文件模型。

我想你会对你必须做的事情有所了解。

# c++ - 自动移动一个精灵以捕捉另一个精灵

> ID：15240908
> 
> 赞同：0
> 
> 时间：2013-03-06T06:56:23.920
> 
> 标签：c++, cocos2d-iphone, box2d

我正在尝试使用 box2d 制作类似乒乓球的游戏。就像上面所说的游戏，有一个球和两个桨。玩家使用加速度计移动其中一个桨。我有这个工作正常。另一方面，我希望第二个桨像某种墙一样，可以接住球并将球击回球员。

我的问题是球在重力和力的作用下弹跳，所以我不知道如何告诉第二个桨移动到球要去的地方接住它。目前，我的代码如下所示：

```
- (void)update:(ccTime) dt {
if(_isPaused == FALSE)
{
    _world->Step(dt, 10, 10);
    for(b2Body *b = _world->GetBodyList(); b; b=b->GetNext()) {
        if (b->GetUserData() != NULL) {
            CCSprite *sprite = (CCSprite *)b->GetUserData();
            if(sprite.tag == 3)
            {
                [self schedule:@selector(moveObj:)interval:0.0];
                b2Vec2 autoPos = b2Vec2(sprite.position.x/PTM_RATIO, sprite.position.y/PTM_RATIO);
                float32 autoAngle = -1 * CC_DEGREES_TO_RADIANS(sprite.rotation);

                b->SetTransform(autoPos, autoAngle);
            }
        }
    }
    std::vector<MyContact>::iterator pos;
    for(pos = _contactListener->_contacts.begin(); pos != _contactListener->_contacts.end(); ++pos)
    {
        MyContact contact = *pos;

        if((contact.fixtureA == _tPaddleFixture && contact.fixtureB == _ballFixture) || (contact.fixtureA == _ballFixture && contact.fixtureB == _tPaddleFixture))
        {
            _isHit = TRUE;
        }
    }
}}

-(void)moveObj:(ccTime)dt{
if(_isHit == TRUE)
{
    //I need the code here
    NSLog(@"HIT");
}
else
{
    tPaddle.position = ccp(160, tPaddle.position.y);
}} 
```

目前，我只是打印一条消息，说如果桨和球应该碰撞（仅在中心），但我不知道如何告诉 tPaddle 移动到球去的任何地方，以接住它。有人可以给我一个想法，我可以如何实现这一点？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:40:20.140

你不能试着保持桨的`x`坐标和球的`x`坐标相等吗？例如，如果球向左，桨也会向左。还是我完全不明白这个问题？我想你的游戏看起来像这样

```
******************
*  ***           *
*                *
*      *         *
*                *
*           ***  *
****************** 
```

# unit-testing - 复合条件和短路的圈复杂性

> ID：15240922
> 
> 赞同：6
> 
> 时间：2013-03-06T06:57:06.620
> 
> 标签：unit-testing, testing, graph, graph-theory, cyclomatic-complexity

我正在大学的软件质量保证课程中学习圈复杂性，当您在谓词语句或节点中有复合条件时，我很难理解它是如何工作的。我见过多种圈复杂度的定义，我在课堂上使用的主要定义是

```
V(G) = # of predicate nodes (with outdegree = 2) + 1 
```

因此，对于这样的程序图，我们的圈复杂度为 2：

```
V(G) = 2 
```

![圈复杂度为 2 的程序图](../Images/be4a7ed0ddb0c4a4a14b13a692cd6ed8.png)

我还看到了给出的圈复杂度的定义

```
V(G) = # edges - # nodes + 2 
```

这也适用于上面给出的图表。但是，我们有谓词节点的复合条件。我们考虑为自动短路设置的语言和系统，在我看来，左下角的图表必须扩展到图表。**如果是下面这样的情况，圈复杂度是否会变为 3，即使在真正的源代码中，我们可能只有一个 if 语句，还是仍然是 V(G) = 2？**.

这很令人困惑，因为我看到的大多数圈复杂度的定义都在谈论谓词节点，而且据我所知，谓词可能包含多个短路条件。如果不是这种情况，那么短路行为似乎在提高性能的同时，在考虑时实际上会提高循环复杂度。**如果给出源码，是不是所有的条件都要分解成自己的节点，比如左图，才能计算圈复杂度？** ![扩展程序图以显示短路行为](../Images/6af3e83f739034f2f3217d1a73a795e3.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-09T02:36:48.970

在 C（C++、Java、C#）中，“&&”运算符增加了复杂性，因为它被定义为使用短路评估。在这种情况下，圈复杂度为 3。

见[http://hissa.nist.gov/HHRFdata/Artifacts/ITLdoc/235/chapter4.htm](http://hissa.nist.gov/HHRFdata/Artifacts/ITLdoc/235/chapter4.htm)

“布尔运算符增加或不增加复杂性，这取决于它们是否具有可能导致有条件执行副作用的短路评估语义。”

图 4-4 有带注释的源代码和相应的流程图，展示了如何确定复杂性。

另请参见[IF((A>B) AND (C>D)) 和 IF((A>B) OR (C>D)) 的圈复杂度](https://stackoverflow.com/questions/12599942/cyclomatic-complexity-of-ifab-and-cd-and-ifab-or-cd)

# jquery - 在 Ajax 请求 asp.net mvc 中找不到页面错误

> ID：15240925
> 
> 赞同：1
> 
> 时间：2013-03-06T06:57:29.403
> 
> 标签：jquery, ajax, asp.net-mvc, asp.net-mvc-3, razor

“/”应用程序中的服务器错误。无法找到该资源。说明：HTTP 404。您要查找的资源（或其依赖项之一）可能已被删除、名称已更改或暂时不可用。请查看以下 URL 并确保其拼写正确。

请求的 URL：/Contact/PopBid

控制器

```
[HttpPost]
    public ActionResult PopBid(int jobid)
    {

        var getjob = _context.jobService.GetById(jobid);
        return View();
    } 
```

JavaScript

```
 function Singin(jobid) {
            $.fancybox({

                'transitionIn': 'elastic',
                'transitionOut': 'elastic',
                'easingIn': 'easeOutBack',
                'easingOut': 'easeInBack',
                'width': 850,
                'height': 394,
                href: "/Contact/PopBid",
                data: "jobid=" + jobid,
                'type': 'iframe'
            });
        }s

 <img alt="" onclick="javascript:Singin(@job.ID);" src="/Content/WalkFish/Images/bidimg1.png" style="width: 180px; height: 140px;"> 
```

点击事件

弹出打开良好，但弹出错误

“/”应用程序中的服务器错误。无法找到该资源。说明：HTTP 404。您要查找的资源（或其依赖项之一）可能已被删除、名称已更改或暂时不可用。请查看以下 URL 并确保其拼写正确。

请求的 URL：/Contact/PopBid

版本信息：Microsoft .NET Framework 版本：4.0.30319；ASP.NET 版本：4.0.30319.17929

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:00:51.713

看起来你正在 GETing /Contact/PopBid 没有向它发布。由于`[HttpPost]`您方法上面的属性，GET 操作不可用。

将属性更改为`[HttpGet]`

```
[HttpGet]
public ActionResult PopBid(int jobid)
{

    var getjob = _context.jobService.GetById(jobid);
    return View();
} 
```

# database - 调试时如何在 TOAD 中查看 CLOB 变量的完整值

> ID：15240926
> 
> 赞同：2
> 
> 时间：2013-03-06T06:57:31.717
> 
> 标签：database, oracle, toad, clob

在 Packages 中，如何在 toad 的调试模式下查看 clob 变量的完整值。目前，如果我单击在 clob varibale 上添加手表并进行修改，它仅显示“open=F，temp=T，length=354，chunksize=8132，data=

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:03:14.630

试试看`to_char(your_clob_var)`

* * *

**编辑：**
不幸的是，TOAD 似乎只接受要观察或检查的变量。
你不能看像`n+1`or的表达`to_char(clob_var)`。
但是在观看 clob 时，您会看到有关它的完整信息，包括其文本：

```
Scope   Owner       Name            Expression Value    
Local   SCHEMA_NAME PROCEDURE_NAME  clob_var   open=F, temp=T, length=7, chunksize=16324, data=String_inside_this_clob 
```

`open=F, temp=T, length=354, chunksize=8132, data=`表示文本以`LF`char :-) 开头。转到菜单`Debug -> Evaluate/Modify (Ctrl+Alt+E)`以查看全文。

# iphone - 在适用于 iOS 的 AdHoc 分发构建中使用沙盒 APNS

> ID：15240931
> 
> 赞同：30
> 
> 时间：2013-03-06T06:57:50.270
> 
> 标签：iphone, ios, push-notification, apple-push-notifications

我一直在阅读一堆 Apple 的文档，以及许多其他 SO 问题，但还没有找到这个特定问题的答案。

我有一个现有的工作流程来为 QA 成员和 beta 测试人员生成 AdHoc 分发版本。现在我已经添加了对推送通知的支持，我希望这些通知路径也能够被测试。

我的印象是，开发人员构建，使用开发配置文件签名，生成用于沙盒/开发 APNS 环境的令牌，分发构建，使用分发配置文件签名（无论是用于 AdHoc 分发还是 AppStore 分发） ，为生产 APNS 环境生成令牌。我相信这可以通过打开不同的 .mobileprovision 文件并检查**aps-environment**键来确认。

我想知道是否有办法让我的 AdHoc Distribution 构建使用沙盒 APNS 环境，而不是生产 APNS 环境。

如果我真的希望 QA 和 beta 测试人员使用沙盒 APNS，我是否必须以某种方式让他们运行开发构建，而不是分发构建？

还是我对事情运作方式的假设偏离了基础？（参考[了这篇文章](https://stackoverflow.com/questions/1943722/iphone-apns-device-tokens-in-sandbox-vs-production/2261758#2261758)和[这篇文章](https://stackoverflow.com/questions/2625773/why-not-use-development-provisioning-instead-of-ad-hoc)）

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-03-06T16:18:30.663

我确实在 APNS 环境中发现了一些对 AdHoc 的提及：

> 注意：对于每个环境，推送服务都有一个单独的持久连接。操作系统建立与沙盒环境的持久连接以进行开发构建；ad hoc 和分发版本连接到生产环境。

它取自[技术说明 TN2265](https://developer.apple.com/library/ios/#technotes/tn2265/_index.html)。我猜这个注释确认您不能在 AdHoc 分发中使用沙盒环境。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-08-30T09:20:15.320

Apple 使用不同的服务器：

1.  使用开发配置文件签名的应用
2.  所有其他配置文件（AdHoc、InHouse 和 AppStore）。这些是通过 Live Server 进行的。

# networking - Windows Phone 8 后台任务

> ID：15240941
> 
> 赞同：1
> 
> 时间：2013-03-06T06:58:30.637
> 
> 标签：networking, background, windows-phone-8, task

有没有办法在应用程序切换到另一个任务（例如 PhotoChooserTask 或 ShareStatusTask）时保持 Internet 连接处于活动状态？我已经看到了后台代理，但它们不能满足我的需求。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:09:16.670

不。启动任务与启动另一个应用程序几乎相同：您自己的应用程序被关闭并停止运行。因此，不可能保持打开现有的网络连接，也不能进行任何类型的后台处理。

# iphone - iphone保存全尺寸图像到文档目录挂起我的应用程序

> ID：15240945
> 
> 赞同：2
> 
> 时间：2013-03-06T06:58:47.647
> 
> 标签：iphone, memory-management, document

我正在开发一个类似于 iPhone 中的照片应用程序的应用程序。流程是我通过`UIImagePickerController`. 当我使用实际图像并将该图像进一步保存到文档时，我的应用程序挂起。我在配置文件工具上看到分配到 19 到 20 mb。如果有任何解决方案。

1.  `UIImagepicker`从控制器获取图像
2.  将其保存到文档中。

    ```
     -(NSString *)saveImageInDocumentsAtPath:(NSNumber *)number
    {
       NSString *fileName=[NSString stringWithFormat:@"image%@.png",number];
       NSString *imagePath= [[NSString alloc] initWithFormat:@"%@/%@",    [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0],fileName];
       UIImage *image = self.selectedImage.image;
       NSData *imageData = UIImagePNGRepresentation(image);
       [imageData writeToFile:imagePath atomically:YES];
       return imagePath;
    } 
    ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:08:42.863

如果我没记错的话，一个典型的图像大约是 3 兆字节（取决于 iPhone 和它的相机）。所以从 19 到 20 并不是不合理的。为什么你从 19 岁开始是另一个问题。查看您是否加载了太多其他图像、大文件等。

如果您使用 AV Foundation 而不是 ImagePicker，则可以使用其他一些选项来处理图像。

您可以将图像异步写入文件系统。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T07:13:07.570

这看起来像是在代码中检查一些错误的好机会。

为什么不试试这个？

```
-(NSString *)saveImageInDocumentsAtPath:(NSNumber *)number
{
    NSString *fileName=[NSString stringWithFormat:@"image%@.png",number];
    NSArray * docDirectoryArray = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    if(docDirectoryArray)
    {
        NSString *imagePath= [[NSString alloc] initWithFormat:@"%@/%@",    [docDirectoryArray objectAtIndex:0],fileName];
        UIImage *image = self.selectedImage.image;
        if(image)
        {
            NSData *imageData = UIImagePNGRepresentation(image);
            if(imageData)
            {
                BOOL success = [imageData writeToFile:imagePath atomically:YES];
                if(success)
                {
                    // only return the image path in the success == YES case
                    return imagePath;
                } else {
                    NSLog( @"did not save file to %@", imagePath);
                }
            } else {
                NSLog( @"could not get image data out of the image");
            }
        } else {
            NSLog( @"no image selected");
        }
    }
    // you might want to check in the caller to make certain the imagePath is NULL
    return NULL;
} 
```

# javascript - 在 touchend 事件中检索 touchstart 坐标

> ID：15240946
> 
> 赞同：9
> 
> 时间：2013-03-06T06:58:49.370
> 
> 标签：javascript, touch

当 touchend 事件发生时，是否可以知道触摸开始的位置（touchstart 坐标）？乍一看，这看起来就像在 touchstart 期间保存坐标一样简单，但假设事件附加到具有特定类（即 . `.special`）的所有 DOM 元素。现在考虑我用`.special`班级触摸两个对象，然后将手指从一个上移开。我不能只看最后保存的值，因为它可能是我抬起的第一根手指。

在这些情况下，如何检索 touchstart 坐标？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-08T12:13:59.917

您`touchstart`可以存储您可能需要的所有值（如 x、y、目标等）。由于每次触摸都应该是唯一`touchend`的值，您可以检索所有存储的值。`Touch.identifier`

我在这里创建了一个概念证明：http: [//jsbin.com/adifit/3/](http://jsbin.com/adifit/3/)

下面的代码只跟踪`x`和`y`定位，但如果需要，您可以跟踪任何属性。

代码背后的想法是：

1.  `touchstart`创建一个对象并将所有数据存储在里面（包括触摸ID ）
2.  将此对象存储在数组中
3.  检查`touchend`触摸的 id 并尝试在数组中找到相应的对象
4.  如果找到比我们完成。

和代码：

```
var touches = [];
var cons;

$(init);

function init()
{
  cons = $("#console");
  document.getElementById("area").addEventListener("touchstart", onTouchStart);
  document.addEventListener("touchend", onTouchEnd);
  document.addEventListener("touchcancel", onTouchEnd);
}

function onTouchStart(e)
{
  e.preventDefault();
  var touchList = e.changedTouches;
  var touch;
  for(var i = 0; i < touchList.length; i++)
  {
    cons.html(cons.html() + "startX: " + touchList[i].screenX + ", id: " + touchList[i].identifier + "<br/>");
    touch = {x: touchList[i].screenX, y: touchList[i].screenY, id: touchList[i].identifier};
    touches.push(touch);
  }
}

function onTouchEnd(e)
{
  cons.html(cons.html() + "<strong>TouchEnd:</strong><br/>");
  var touchList = e.changedTouches;
  var touch;
  for(var i = 0; i < touchList.length; i++)
  {
    touch = {x: touchList[i].screenX, y: touchList[i].screenY, id: touchList[i].identifier};
    for (var j = touches.length - 1; j >= 0 ; j--)
    {
      if (touches[j].id == touch.id)
      {
        cons.html(cons.html() + "<strong>startX: "+ touches[j].x+ ", id: " + touchList[i].identifier + "</strong><br/>");
        touches.splice(j, 1);
      }
    }
  }
} 
```

上面的代码使用了 jQuery，但它只是为了方便在屏幕上显示结果而使用的，jQuery 没有用于其他任何用途。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-15T11:06:50.107

不同`touch`的事件可以通过`event.target`.

[W3C`touchmove`事件](http://www.w3.org/TR/2011/WD-touch-events-20110505/#the-touchmove-event)规范：

> 此事件的目标必须与在此触摸点放置在表面上时接收到 touchstart 事件的元素相同，即使该触摸点已经移出目标元素的交互区域。

所以你跟踪`event.target`：

```
document.addEventListener("touchstart", onTouchStart);
document.addEventListener("touchend", onTouchEnd);
document.addEventListener("touchcancel", onTouchCancel);

var targets = []; // create array with all touch targets 
                  // still needs some sort of garbage collection though

function onTouchStart(event){
   targets.push(event.target); // add target to array
}

function onTouchEnd(event){
    // loop through array to find your target
    for (var i = 0; i < targets.length; i++) {
        if (targets[i] == event.target) { //test target
            // this is your match! Do something with this element
            targets[i].splice(i,1); // remove entry after event ends;
        }
    }
}

function onTouchCancel(event){
    // loop through array to find your target
    for (var i = 0; i < targets.length; i++) { 
        if (targets[i] == event.target) { //test target
            // Just delete this event
            targets[i].splice(i,1); // remove entry after event ends;
        }
    }
} 
```

**注意：**未经测试。我看到@Strah 有一个很好的解决方案，我的有点简化，只检查 event.target，而不是 touch-id。但它展示了一个类似的概念。

# android - 已发布较新版本的 Android 与新设备不兼容

> ID：15240948
> 
> 赞同：0
> 
> 时间：2013-03-06T06:58:53.170
> 
> 标签：android, performance

我的应用程序在 android 2.3 及更低版本上成功运行，但它在 android 4.0 和 4.2 中给出了响应 null。在谷歌上搜索后，我知道 HoneyComb 和 Ice Cream Sandwich 对 UI 线程的滥用要严格得多。

> ICS 和 HoneyComb 不允许您在 UI 线程上执行的其他一些操作示例如下：

```
Opening a Socket connection (i.e. new Socket()).
HTTP requests (i.e. HTTPClient and HTTPUrlConnection).
Attempting to connect to a remote MySQL database.
Downloading a file (i.e. Downloader.downloadFile()).

If you are attempting to perform any of these operations on the UI thread, you must wrap them in a worker thread. The easiest way to do this is to use of an AsyncTask, which allows you to perform asynchronous work on your user interface. An AsyncTask will perform the blocking operations in a worker thread and will publish the results on the UI thread, without requiring you to handle threads and/or handlers yourself. 
```

这意味着不，我必须更改我的旧代码？我在我的项目中调用了 HTTP 请求超过 50 次。所以我必须在每个类中手动更改它，以便它可以在 HTTP 请求上运行？

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:02:59.390

**是**的，您必须从主线程中移动所有与网络相关的调用。最简单的解决方案是创建一个[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)并在您`HTTPRequest`拨打电话的所有地方调用它。让你`AsyncTask`在后台做这些。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:00:50.330

这是因为您在主线程上编写了网络调用.. 只需使用[Asynctask](http://developer.android.com/reference/android/os/AsyncTask.html)代替。它的工作流程更少，在 Android 中也被称为**Painless Threading**，这意味着用户不需要担心线程管理。

# python - Pika/RabbitMQ 连接问题 - 运行 VMWare CentOS 6.3

> ID：15240949
> 
> 赞同：2
> 
> 时间：2013-03-06T06:58:55.670
> 
> 标签：python, centos, rabbitmq, vmware, pika

我刚刚设置了 CentOS 6.3 的全新 VMWare 安装。互联网正在运行，一切似乎都可以正常运行。

我正在尝试使用 RabbitMQ，但我被困在他们教程的第 1 步：

[http://www.rabbitmq.com/tutorials/tutorial-one-python.html](http://www.rabbitmq.com/tutorials/tutorial-one-python.html)

基本上，我：

1.  设置 Linux 实例
2.  安装了 RabbitMQ 的所有依赖项，例如 erlang/esel
3.  尝试他们的 Hello World 教程

它实际上在这一行失败了：

```
import pika
pika.BlockingConnection() 
```

我收到此错误：

```
> Traceback (most recent call last):   File "<stdin>", line 1, in
> <module>   File
> "/usr/lib/python2.6/site-packages/pika/adapters/blocking_connection.py",
> line 33, in __init__
>     BaseConnection.__init__(self, parameters, None, reconnection_strategy)   File
> "/usr/lib/python2.6/site-packages/pika/adapters/base_connection.py",
> line 50, in __init__
>     reconnection_strategy)   File "/usr/lib/python2.6/site-packages/pika/connection.py", line 170, in
> __init__
>     self._connect()   File "/usr/lib/python2.6/site-packages/pika/connection.py", line 228, in
> _connect
>     self.parameters.port or  spec.PORT)   File "/usr/lib/python2.6/site-packages/pika/adapters/blocking_connection.py",
> line 37, in _adapter_connect
>     BaseConnection._adapter_connect(self, host, port)   File "/usr/lib/python2.6/site-packages/pika/adapters/base_connection.py",
> line 58, in _adapter_connect
>     self.socket.connect((host, port))   File "<string>", line 1, in connect socket.error: 
[Errno 111] Connection refused 
```

我正在尝试我所有的故障排除尝试，我有点期待其他人也有同样的问题并发布了它。哦，好吧，我猜我是第一个！

无论如何，在这一点上，我认为我没有接触过 RabbitMQ 库，所以这可能只是一个 Pika 问题。

以下是我从 Wireshark 看到的，专注于 127.0.0.1：

```
1   0.000000    127.0.0.1   127.0.0.1   TCP 58748 > amqp [SYN] Seq=0 Win=32792 Len=0 MSS=16396 TSV=41371814 TSER=0 WS=6
2   0.000079    127.0.0.1   127.0.0.1   TCP amqp > 58748 [RST, ACK] Seq=1 Ack=1 Win=0 Len=0 
```

我可以从wireshark提供更多信息，请告诉我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T19:47:34.923

该`[RST, ACK]`序列看起来像是被拒绝的连接，但可能会产生误导。我假设安装rabbitmq服务后正确启动并且您可以运行`rabbitmqctl status`并获得合理的结果？如果它没有运行，那么你可能需要`/sbin/service rabbitmq-server start`先运行。

Assuming you've got the broker running, the next thing I would suggest is opening up the RabbitMQ logs - if you're not sure about the location then consult [the relevant documentation](https://www.rabbitmq.com/relocate.html) - to see if the connection is being allowed. If the connection isn't logged (and you've not modified the log levels) then what you're seeing might be some other software (such as a firewall, iptables, etc) preventing connectivity.

# mysql - mysql总和中的问题

> ID：15240950
> 
> 赞同：1
> 
> 时间：2013-03-06T06:58:56.180
> 
> 标签：mysql, sql

我有以下 2 个查询，可以找到每月股票的平均价格

查询1：从上午9.30到下午1.30一个月的平均价格

查询2：从上午1.30到下午2.30一个月的平均价格

我需要划分差异和价格变化百分比

查询1

```
--- 9.30 to 1.30 prices ---

select DATE_FORMAT(transact_time,'%Y %M %d'),sum(price*qty)/sum(qty) 
from trades1
where symbol='GREG.N0000'
and transact_time between '2013-01-01' and '2013-01-31'
and DATE_FORMAT(transact_time,'%T') between  '09:30:00' and '13:30:00'
group by DATE_FORMAT(transact_time,'%Y %M %d') 
```

查询2

```
--- 1.30 TO 2.30 prices ---

SELECT DATE_FORMAT(transact_time,'%Y %M %d'),SUM(price*qty)/SUM(qty) 
FROM trades1
WHERE symbol='GREG.N0000'
AND transact_time BETWEEN '2013-01-01' AND '2013-01-31'
AND DATE_FORMAT(transact_time,'%T') BETWEEN  '13:30:00' AND '14:30:00'
GROUP BY DATE_FORMAT(transact_time,'%Y %M %d') 
```

我需要获取 query1 的结果和 query2 的结果的差异以及价格变化百分比。有人请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:15:31.060

您是否正在寻找这个：

```
SELECT p1 - p2 , p2 /p1 FROM
(select DATE_FORMAT(transact_time,'%Y %M %d') d1,sum(price*qty)/sum(qty) p1
from trades1
where symbol='GREG.N0000'
and transact_time between '2013-01-01' and '2013-01-31'
and DATE_FORMAT(transact_time,'%T') between  '09:30:00' and '13:30:00'
group by DATE_FORMAT(transact_time,'%Y %M %d')) t1 JOIN
(
SELECT DATE_FORMAT(transact_time,'%Y %M %d') d2,SUM(price*qty)/SUM(qty) p2
FROM trades1
WHERE symbol='GREG.N0000'
AND transact_time BETWEEN '2013-01-01' AND '2013-01-31'
AND DATE_FORMAT(transact_time,'%T') BETWEEN  '13:30:00' AND '14:30:00'
GROUP BY DATE_FORMAT(transact_time,'%Y %M %d')) t2 ON t1.d1 = t2.d2 
```

# java - Java DNSLookup MX 记录列表。喜欢 MXToolBox

> ID：15240952
> 
> 赞同：5
> 
> 时间：2013-03-06T06:58:59.123
> 
> 标签：java, dns, mx-record

我正在构建一个程序来列出域的所有 MX 记录。起初它似乎工作正常，但在与在线工具[http://mxtoolbox.com/](http://mxtoolbox.com/)进行比较之后。MXToolbox 可以，但程序无法获取 MX 记录的域。

我不确定原因是什么或需要的任何配置。

非常感谢;

这是我的代码。

```
import javax.naming.directory.Attribute;
import javax.naming.directory.Attributes;
import javax.naming.directory.InitialDirContext;
import javax.naming.Context;
import javax.naming.NamingEnumeration;
import javax.naming.NamingException;
import java.net.InetAddress;
import java.net.UnknownHostException;
import java.util.Hashtable;

public class DNSLookup
{
    private InitialDirContext iDirC;

    public DNSLookup ()
    {
         Hashtable<String, String> env = new Hashtable<String, String>();
         //env.put(Context.INITIAL_CONTEXT_FACTORY,"com.sun.jndi.ldap.LdapCtxFactory");
         //env.put(Context.PROVIDER_URL, "ldap://localhost:389/o=JNDITutorial");
         env.put(Context.INITIAL_CONTEXT_FACTORY,"com.sun.jndi.dns.DnsContextFactory");
         //env.put(Context.PROVIDER_URL, "dns://google.com");
         // get the default initial Directory Context
         try {
            iDirC = new InitialDirContext(env);
        } catch (NamingException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    private void lookup (String host, String record)
    {
        InetAddress inetAddress;
        try {
            inetAddress = InetAddress.getByName(host);
            // show the Internet Address as name/address
            System.out.println(inetAddress.getHostName() + " " + inetAddress.getHostAddress());

            // get the DNS records for inetAddress
            Attributes attributes = iDirC.getAttributes("dns:\\"+inetAddress.getHostName());
            // get an enumeration of the attributes and print them out
            //NamingEnumeration<?> attributeEnumeration = attributes.getAll();
/*          while (attributeEnumeration.hasMore())
            {
                System.out.println("" + attributeEnumeration.next());
            }
            attributeEnumeration.close();*/
            Attribute mxRecord = attributes.get(record);
            for (int i=0; i<mxRecord.size();i++)
                System.out.println(mxRecord.get(i));

        } catch (UnknownHostException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (NamingException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    public static void main(String[] args){
        DNSLookup looker = new DNSLookup();
        looker.lookup("truetech.com", "MX");
    }
} 
```

上述域将输出 NullPointer 表示未找到 MX 记录。而 MXToolBox 将输出一个。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-05-08T18:57:34.700

我知道这是一个迟到的答案（但我希望这对您或其他人有所帮助）。

[这是](http://www.eyeasme.com/Shayne/MAILHOSTS/mailHostsLookup.html)有关如何查找 MX 记录的有效解决方案。该解决方案依赖于 IntialDirContext 并继续使用 Attributes 来定义所需的属性类型。

```
// Print out a sorted list of mail exchange servers for a network domain name
import javax.naming.directory.Attribute;
import javax.naming.directory.Attributes;
import javax.naming.directory.InitialDirContext;
import javax.naming.NamingException;
import java.util.Arrays;
import java.util.Comparator;

public class MailHostsLookup 
{
    public static void main(String args[]) 
    {
        // explain what program does and how to use it 
        if (args.length != 1)
        {
            System.err.println("Print out a sorted list of mail exchange servers ");
            System.err.println("    for a network domain name");
            System.err.println("USAGE: java MailHostsLookup domainName");
            System.exit(-1);
        } 
        try
        {   // print the sorted mail exhchange servers
            for (String mailHost: lookupMailHosts(args[0]))
            {
                System.out.println(mailHost);            
            }
        }
        catch (NamingException e)
        {
            System.err.println("ERROR: No DNS record for '" + args[0] + "'");
            System.exit(-2);
        }
     }

    // returns a String array of mail exchange servers (mail hosts) 
    //     sorted from most preferred to least preferred
    static String[] lookupMailHosts(String domainName) throws NamingException
    {
        // see: RFC 974 - Mail routing and the domain system
        // see: RFC 1034 - Domain names - concepts and facilities
        // see: http://java.sun.com/j2se/1.5.0/docs/guide/jndi/jndi-dns.html
        //    - DNS Service Provider for the Java Naming Directory Interface (JNDI)

        // get the default initial Directory Context
        InitialDirContext iDirC = new InitialDirContext();
        // get the MX records from the default DNS directory service provider
        //    NamingException thrown if no DNS record found for domainName
        Attributes attributes = iDirC.getAttributes("dns:/" + domainName, new String[] {"MX"});
        // attributeMX is an attribute ('list') of the Mail Exchange(MX) Resource Records(RR)
        Attribute attributeMX = attributes.get("MX");

        // if there are no MX RRs then default to domainName (see: RFC 974)
        if (attributeMX == null)
        {
            return (new String[] {domainName});
        }

        // split MX RRs into Preference Values(pvhn[0]) and Host Names(pvhn[1])
        String[][] pvhn = new String[attributeMX.size()][2];
        for (int i = 0; i < attributeMX.size(); i++)
        {
            pvhn[i] = ("" + attributeMX.get(i)).split("\\s+");
        }

        // sort the MX RRs by RR value (lower is preferred)
        Arrays.sort(pvhn, new Comparator<String[]>()
            {
                public int compare(String[] o1, String[] o2)
                {
                    return (Integer.parseInt(o1[0]) - Integer.parseInt(o2[0]));
                }
            });

        // put sorted host names in an array, get rid of any trailing '.' 
        String[] sortedHostNames = new String[pvhn.length];
        for (int i = 0; i < pvhn.length; i++)
        {
            sortedHostNames[i] = pvhn[i][1].endsWith(".") ? 
                pvhn[i][1].substring(0, pvhn[i][1].length() - 1) : pvhn[i][1];
        }
        return sortedHostNames;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-07T18:15:07.590

[https://stackoverflow.com/a/14042816](https://stackoverflow.com/a/14042816)

有点不幸地回答这个同一个网站的链接......也许有人可以更出色地组织空间......

使用[dnsjava](http://www.xbill.org/dnsjava/)。

话又说回来，它可能不是您正在寻找的……它也没有给出与 MxToolbox 完全相同的结果。

# woocommerce - Woocommerce 不显示当地税率

> ID：15240953
> 
> 赞同：0
> 
> 时间：2013-03-06T06:58:59.783
> 
> 标签：woocommerce

在用户输入美国邮政编码后，我的 WooCommere 安装不会添加地方税。后端似乎有所有的邮政编码和税率。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-30T23:50:19.390

我遇到了同样的问题。对你来说可能不一样，但我终于发现国家代码错了。我使用的是美国而不是美国......它需要 2 个字母代码。而且我不能只是更改它，实际上我必须使用相同的信息创建一个新的税务实例，而是使用美国代码。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-05T07:04:36.583

WooCommerce 无法处理包含大量条目的税表。我遇到了加利福尼亚销售税的这个问题，它有超过 2000 个条目。如果是这种情况，您可以尝试从 wwww.woosalestax.com 下载您所在州的表格。它应该可以解决这个问题。

- 从他们的网站回复 Parixit 税表是我现在使用的解决方案之一。如果您的 WooCommerce 税表中有太多的税记录行，则税不会在结帐时计算，祝您好运尝试编辑税表。他们没有将数千行税收记录放在表中，而是将表合并为更少的行，格式化并准备好导入。在我的网站上使用他们的表格后，我没有任何性能问题。我只是想帮助那些正在经历我所经历的人。希望这将节省他们宝贵的时间和挫折感。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-20T02:39:59.053

[您可以从http://www.taxrates.com/state-rates](http://www.taxrates.com/state-rates "http://www.taxrates.com/state-rates")下载原始数据

然后按照他们的示例将其调整为 WooCommerce 格式：

[您的 wordpress 文件夹/站点]/wp-content/plugins/woocommerce/dummy-data/sample_tax_rates.csv

确保将税率乘以 100（woo commerce 预计税率为 %） - 您可以使用 excel 等，只需确保保存为 .csv。

话虽如此，税收并不总是以 Woo 计算（例如，如果城市不同 - “纽约，纽约”没有条目，但“纽约市，纽约”有。我建议您删除城市名称完全依赖邮政编码（尽可能不准确）。

还请记住，您只需要在您也有“Nexus”的地方收取销售税[https://www.sba.gov/content/collecting-sales-tax-over-internet](https://www.sba.gov/content/collecting-sales-tax-over-internet)

# javascript - 在没有 iframe 的情况下加载具有特定地点的地图作为参考？

> ID：15240956
> 
> 赞同：0
> 
> 时间：2013-03-06T06:59:13.213
> 
> 标签：javascript, google-maps-api-3, google-places-api

有没有办法使用 js 加载地图，但将参考位置显示为实际的地点列表？

我想加载显示特定业务的地图（我有地点参考编号），然后在其周围显示地图。

我只会使用 iframe，但它不允许 js 库所做的自定义级别。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:48:58.703

如果您想显示您拥有参考编号的企业，请使用[`PlacesService`](https://developers.google.com/maps/documentation/javascript/reference#PlacesService).

您还需要在 API url 中包含地点库。

例如

```
// I assume the map is already loaded and defined as variable called map
var placesService = new PlacesService();

placesService.getDetails({reference: placeReferenceNumber}, function(place, status) {
    if (status === google.maps.places.PlacesServiceStatus.OK) {
        var marker = new google.maps.Marker({
            map: map, 
            position: place.geometry.location
        });
        // Warning: Viewport may not always be defined
        map.setBounds(place.geometry.viewport);
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:50:40.937

是的。这是使用地图的更标准的方式之一。

您拥有该位置的纬度，既可以使您的地图居中，又可以放置一个标记（可能是例如公司徽标的自定义图像）。

只需按照任何教程进行操作即可。他们都展示了如何做到这一点。

# windows - vim中奇怪的空间行为

> ID：15240957
> 
> 赞同：0
> 
> 时间：2013-03-06T06:59:14.603
> 
> 标签：windows, vim, cmd, space

我在 cmd.exe 中在 Windows XP 中运行 Win32 控制台可执行文件（v73），当我插入空格时，事情变得很奇怪。

它有点吞下一个字符并将空格放在光标或其他东西后面。例如，当我写“hello there”时，它会显示为“helo there”。

这到底是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T15:10:23.800

如果 没有发生这种情况`-N -u NONE`，则意味着它是由您的配置或插件引起的。

您可以检查哪些插件是通过`:scriptnames`. 通常，禁用一半插件的*二进制搜索*，然后只有一半（当问题仍然存在时）或另一半（当问题消失时）可以让您快速找到有问题的脚本。

除此之外，寻找映射

```
:verbose imap <Space> 
```

或相关的自动命令

```
:autocmd CursorMovedI 
```

# codeigniter-2 - 如何使用codeigniter从链接中获取用户配置文件

> ID：15240959
> 
> 赞同：0
> 
> 时间：2013-03-06T06:59:20.890
> 
> 标签：codeigniter-2, linkedin

在linkedin完成验证后如何获取用户资料？我一直在谷歌搜索并找到了一些教程，但它们都没有工作，或者我应该说我无法让它们工作。下面是我的控制器。

```
function __construct(){
    parent::__construct();

    $this->config->load('linkedin');

    $this->data['consumer_key'] = $this->config->item('api_key');
    $this->data['consumer_secret'] = $this->config->item('secret_key');
    $this->data['callback_url'] = site_url() . 'main/linkedin_display';
}

function linkedin_request(){

    $this->load->library('linkedin', $this -> data);

    $token = $this->linkedin->get_request_token();

    $oauth_data = array(
        'oauth_request_token' => $token['oauth_token'],
        'oauth_request_token_secret' => $token['oauth_token_secret']
        );

    $this->session->set_userdata($oauth_data);

    $request_link = $this->linkedin->get_authorize_URL($token);

    header("Location: " . $request_link);

}

function linkedin_display{

    // get user details(first name, email etc) here

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:15:12.927

将以下函数添加到您的linkedin 库中，以获取数据

```
function getData($url, $access_token)
{

    $request = OAuthRequest::from_consumer_and_token($this->consumer, $access_token, "GET", $url);
    $request->sign_request($this->method, $this->consumer, $access_token);
    $auth_header = $request->to_header("https://api.linkedin.com");

    $response = $this->httpRequest($shareUrl, $auth_header, "GET");

    return $response;
} 
```

然后在您的控制器中创建一个函数，如下所示：

```
/**
 * Fetch linkedin profile
 */
function myprofile()
{
    $auth_data = $this->session->userdata('auth');

    $this->load->library('linkedin', $this->data);

    $status_response = $this->linkedin->getData('http://api.linkedin.com/v1/people/~', unserialize($auth_data['linked_in']));

    print_r($status_response);

} 
```

这应该适合你。

# javascript - 在按钮上单击显示列表...在 sencha

> ID：15240960
> 
> 赞同：0
> 
> 时间：2013-03-06T06:59:21.030
> 
> 标签：javascript, sencha-touch, sencha-touch-2

```
Ext.application({
  launch: function () {

    Ext.define("User", {
      extend: "Ext.data.Model",
      config: {
        fields: [{name: "title", type: "string"}]
      }
    });

    var myStore = Ext.create("Ext.data.Store", {
      model: "User",
      proxy: {
        type: "ajax",
        url : "http://www.imdb.com/xml/find?json=1&nr=1&tt=on&q=twilight",
        reader: {
          type: "json",
          rootProperty: "title_popular"
        }
      },
      autoLoad: true
    });

    var view = Ext.Viewport.add({
      xtype: 'navigationview',
      //we only give it one item by default, which will be the only item in the 'stack' when it loads
      items: [{
        xtype:'formpanel',
        title: 'SEARCH IMDB MOVIES ',
        padding: 10,
        items: [{
          xtype: 'fieldset',
          title: 'Search Movies from IMDB',
          items: [{
            xtype: 'textfield',
            name : 'Movie Search',
            label: 'Search Movie'
          }, {
            xtype: 'button',
            text: 'Submit',
            handler: function () {
              view.push({
                //this one also has a title
                title: 'List of Movies',
                padding: 10,
                //once again, this view has one button
                items: [{
                  xyz.show();
                }]
              });
            }
          }]
        }]
      }]
    });

    var xyz = new Ext.create("Ext.List", {
      fullscreen: true,
      store: myStore,
      itemTpl: "{title}"
    });
  }
}); 
```

错误在于 xyz.show(); 如果我删除 xyz.show() ，它将正常工作；但我想在单击按钮后显示列表
这是单击按钮时的导航视图我想显示列表

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:23:46.007

试试这个 ：

```
handler: function () {
  view.push({
    //this one also has a title
    title: 'List of Movies',
    padding: 10,
    //once again, this view has one button
    items: [
      xyz
    ]
  });
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T20:27:01.770

如下更改您的 xyz 列表：

```
var xyz = new Ext.create("Ext.List", {
  //this one also has a title
  title: 'List of Movies',
  padding: 10,
  xtype:'xyz',
  alias:'xyz',
  hidden:true,
  fullscreen: true,
  store: myStore,
  itemTpl: "{title}"
}); 
```

然后在它下面写

```
view.add(xyz); 
```

然后在你的处理程序中

```
handler: function () {
    xyz.show();
} 
```

未经测试，但它应该可以进行调整。

# php - Magento白屏死机

> ID：15240966
> 
> 赞同：5
> 
> 时间：2013-03-06T06:59:49.123
> 
> 标签：php, apache, magento

我正在尝试编译我的 magento 商店的代码。最初编译时产生了一个错误，我追踪到了 Fooman Speedster 高级模块。我从商店的代码中完全删除了该模块并再次重新编译。这次编译成功完成，所有类（大约7500个）都可以在/includes/src/文件夹中看到。

但是编译后，我的站点的前端显示白屏死机，并且在 apache 错误日志中没有生成错误。奇怪的是后端工作得非常好。

我还将 php 脚本的内存限制增加到 1024M，这样 php 内存不足就不是问题了。

关于可能是什么问题或如何跟踪问题/错误的任何建议。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2014-01-26T09:11:12.633

从这里重新发布我的答案。希望它会有所帮助

[管理员登录页面上的Magento白屏？](https://stackoverflow.com/questions/19222103/magento-white-screen-on-admin-log-in-page)

我遇到了同样的问题。实际上它更糟糕，因为它是一个商业产品，对我来说是一个新的主机，服务器配置非常奇怪。所以我不能让错误出现在任何日志文件中。

我发现magento白屏意味着发生了一些PHP致命错误。所以有一种适当的方式来展示它们。只需在 index.php 的开头添加

```
ini_set('error_reporting', E_ERROR);
register_shutdown_function("fatal_handler");
function fatal_handler() {
    $error = error_get_last();
    echo("<pre>");
    print_r($error);
} 
```

你会看到你的magento真正发生了什么。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-02-02T10:39:59.240

这就是我纠正它的方式（希望对你们有帮助）：

1.  在 index.php 文件中使用以下代码

    ```
    ini_set('error_reporting', E_ERROR);
    register_shutdown_function("fatal_handler");
    function fatal_handler() {
        $error = error_get_last();
        echo("<pre>");
        print_r($error);
    } 
    ```

2.  就我而言，它告诉我 error/503.php 不可用。

3.问题在于我使用的推荐扩展（[http://www.magentocommerce.com/magento-connect/magebuzz-free-testimonial.html](http://www.magentocommerce.com/magento-connect/magebuzz-free-testimonial.html)）

4.  我删除了 app/etc/modules/testimoanial.xml 中的 testimonial.xml 文件。
5.  删除“maintenance.flag”文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-05-01T06:28:26.000

我从我的 var->cache 目录中删除了所有文件夹，前端开始工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T07:10:41.927

正如我所[读到](http://www.iweb.co.uk/mg/fix-magento-cartcheckout-blank-page-with-compilation-enabled/)的，这是由您`Persistent Shopping Cart`启用时引起的。

设置`System > Configuration > Persistent Shopping Cart > General Options > Enable Persistence`为禁用，然后重试。

你可以看看[这里](http://www.magentocommerce.com/boards/viewthread/232705/)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T13:38:57.753

这是编译的常见问题，您可以通过编辑 /includes/config.php 并注释掉这些行来暂时禁用编译：

```
define('COMPILER_INCLUDE_PATH', dirname(__FILE__).DIRECTORY_SEPARATOR.'src');
define('COMPILER_COLLECT_PATH', dirname(__FILE__).DIRECTORY_SEPARATOR.'stat'); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-07T07:46:19.800

经过大量的研究和测试，我得出的结论是，在编译时可能会出现几个错误导致白屏死机。由于某种原因，这些将不可见，让您不知道问题出在哪里。在大多数情况下 - 自定义模块或安装的模块是罪魁祸首。调试 magento 编译的唯一可靠方法是在 xdebug 配置中使用 xdebug.scream = 1。这将尖叫出错误文件/原因，然后可以对其进行处理。

可以在这里找到更好的解释： [http ://www.brimllc.com/2012/03/magento-fun-with-debugging-the-magento-compiler/](http://www.brimllc.com/2012/03/magento-fun-with-debugging-the-magento-compiler/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-11-19T12:42:27.050

在任何日志中看不到任何错误的另一个原因可能是 APC 缓存。[有关更多详细信息，请参阅我的](https://stackoverflow.com/a/33804277/826194)Stackoverflow 答案。

你可以

*   通过 .htaccess 禁用它：php_flag apc.cache_by_default off
*   每次调用页面时清除 apc 缓存：在 index.php 顶部添加 apc_clear_cache(); （没有解决方案，但很高兴看看 APC 是否有问题）

# git - 使用 (J)Git 获取 GitHub 存储库描述

> ID：15240969
> 
> 赞同：2
> 
> 时间：2013-03-06T06:59:57.953
> 
> 标签：git, github, jgit

在 GitHub 中，每个存储库都可以有一个简短的描述，显示在`Code | Network | Pull Requests | Issues | Wiki | Graphs | Settings`栏下方。

我可以[在 GitHub 网页上编辑描述](https://stackoverflow.com/questions/7757751/how-do-you-change-a-repository-description-on-github)，但我想*用 JGit 或 Git*阅读和更改它。这可能吗？

（首先我尝试阅读`.git/description`，但来自 GitHub 的每个存储库似乎都包含相同的文本：

```
Unnamed repository; edit this file 'description' to name the repository. 
```

用在什么`.git/description`地方？）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:44:42.110

.git/description 与 GitHub 存储库的描述字段无关。

[您可以按照GitHub API for repositories](http://developer.github.com/v3/repos/#get)使用简单的 curl 获取该字段（即与任何一个都无关`git`）：

```
curl https://api.github.com/repos/:owner/:reponame  2>/dev/null | grep description

# For instance
curl https://api.github.com/repos/VonC/compileEverything  2>/dev/null | grep description 
```

`PATCH`您可以使用http 方法轻松地对其进行编辑：

```
curl -u "$user:$pass" -X PATCH -d '{"name":"$reponame","description":"new_value"}' https://api.github.com/repos/$user/$reponame 
```

（与“[如何通过他们的 API 重命名 GitHub 存储库？](https://stackoverflow.com/a/6603754/6309) ”中的相同）

# javascript - 脚本延迟不起作用

> ID：15240970
> 
> 赞同：1
> 
> 时间：2013-03-06T07:00:04.237
> 
> 标签：javascript, html, datetime, canvas, timer

我在javascript中有一个睡眠函数对象-

```
 function sleep(ms) { 
        var d = new Date(); 
        var target=d.getTime()+ms; 
        var next = d; 
        console.log('Slept');
        while(next.getTime()<=target) {
            next=new Date(); 
        }
        console.log('Woke Up');
        return;
    } 
```

使用这个`sleep(5000)`打印出来（在控制台中）

```
Slept 
```

5秒后

```
Woke Up 
```

此代码也可以正常工作 -`alert('foo'); sleep(5000); alert('bar');` 首先`foo`和 5 秒后`bar`。

但是这个功能

```
//ctx is a 2d context of a canvas
function go() {
    ctx.fillRect(100,100,200,200); 
    sleep(1000); 
    ctx.fillRect(200,200,300,300); 
    sleep(1000);
    ctx.fillRect(300,300,400,400); 
    sleep(1000);
    ctx.fillRect(400,400,500,500);
}

go(); 
```

不管用。我的意思是它正在工作，但不是它应该的方式。首先控制台显示 -

```
Slept
//1 second later
Woke Up  
//1 second later  
Slept
//1 second later
Woke Up
Slept
//1 second later
Woke Up 
```

打印完所有这些消息后，将在画布上绘制图形（矩形）。有没有办法在不使用`setTimeout`or的情况下完成这项工作`setInterval`？

**问题**- 为什么`fillRect`不能使用我的`sleep`功能？有没有办法在不使用`setTimeout`and的情况下延迟 javascript 中的某些代码`setInterval`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:36:51.937

您必须将 sleep() 函数实现为异步函数（即 setTimeout() 或 setInterval()）。您这样做的方式是阻止浏览器的所有操作，例如渲染和绘画；只有在您将控件返回给浏览器后才会绘制您的矩形。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T07:37:53.053

“*有没有办法在不使用`setTimeout`or的情况下完成这项工作`setInterval`？* ” 不，不是真的。您需要将每个步骤之间的分离为异步的，而计时器就是这样。

问题是，只要`sleep(...)`正在运行，它就会***阻塞***UI 线程。在再次*免费*之前，浏览器无法使用您正在绘制的形状更新显示。

即使给执行一个 1 毫秒的中断，它也有足够的时间在步骤之间进行更新：

```
function go() {
    ctx.fillRect(100,100,200,200);
    sleep(1000);
    ctx.fillRect(200,200,300,300);
    sleep(1000);
    setTimeout(function () {
        ctx.fillRect(300,300,400,400);
        sleep(1000);
        ctx.fillRect(400,400,500,500);
    }, 1);
} 
```

# android - 如何更改为playn AndroidPlatform的rootLayer？

> ID：15240973
> 
> 赞同：1
> 
> 时间：2013-03-06T07:00:11.450
> 
> 标签：android, playn

**我的游戏的所有层都以2:1**的比例缩放和定位为 rootLayer 。

例如，在 java 版本下，我这样做了：

```
Config config = new Config();
config.width = 800;
config.height = 400;
JavaPlatform platform = JavaPlatform.register(config); 
```

对于 Android，我想将 rootLayer 更改为可能的最大宽度，并且高度 = 宽度 / 2。

对于 800x480 的分辨率（如**Google Nexus S**），rootLayer 将在 800x400 中，并位于 (0, 40)。

有可能这样做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T13:58:35.373

我终于找到了一种方法。如果 playn 开发人员经过这里，他们可能会告诉我这是否是最好的方法。

我重写了 GameActivity 的**setContentView**方法。在父级中，该方法将 GameViewGL 附加到主布局。因此，我复制了代码并对其进行了修改以添加我的尺寸和位置规范：

```
 @Override
  protected void setContentView(GameViewGL view) {
    BitmapDrawable bmp = new BitmapDrawable(getResources(), "");
    getWindow().setBackgroundDrawable(bmp);
    LinearLayout layout = new LinearLayout(this);
    layout.setBackgroundColor(0xFFFF0000);
    layout.setGravity(Gravity.CENTER);
    layout.addView(view);
    LayoutParams params = new LayoutParams(
        LayoutParams.MATCH_PARENT,
        LayoutParams.MATCH_PARENT
    );
    Point size = new Point();
    getWindowManager().getDefaultDisplay().getSize(size);
    if (size.y > size.x) {
        params.width = size.y;
        params.height = size.y / 2;
        layout.setY((size.x - size.y / 2) / 2);
    } else {
        params.width = size.x;
        params.height = size.x / 2;
        layout.setY((size.y - size.x / 2) / 2);
    }
    getWindow().setContentView(layout, params);
  } 
```

# android - 如何在 android 的 Scrollview 中添加动态行视图？

> ID：15240977
> 
> 赞同：1
> 
> 时间：2013-03-06T07:00:40.750
> 
> 标签：android, dynamic, view, scrollview, programmatically-created

我想在线性布局中动态添加行，但我创建 xml 并运行应用程序崩溃。下面是我的 xml 和源代码。我的 XML 代码::

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

    <LinearLayout
        android:id="@+id/main_lay"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="center_horizontal"
        android:background="#437654" >

        <Button
            android:id="@+id/all_btn"
            android:layout_width="100dip"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="BACk" />

        <TextView
            android:id="@+id/accepted_all"
            android:layout_width="100dip"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="DownLoad Video" />

        <Button
            android:id="@+id/not_shown"
            android:layout_width="100dip"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="All DOwnload" />
    </LinearLayout>

    <ScrollView
        android:id="@+id/ScrollView01"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >

    </ScrollView>

</LinearLayout> 
```

我在下面的 custom_row.xml 代码::

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:descendantFocusability="blocksDescendants"
    android:orientation="horizontal" 
    android:id="@+id/linearchild">

    <ImageView
        android:id="@+id/ColImgPath"
        android:layout_width="50dp"
        android:layout_height="50dp" />

    <TableLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >

        <TableRow
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="10dip" >

            <TextView
                android:id="@+id/ColStatus"
                android:text="Status"
                android:textAppearance="?android:attr/textAppearanceSmall" />

            <ProgressBar
                android:id="@+id/progressBar"
                style="?android:attr/progressBarStyleHorizontal"
                android:layout_width="100dp"
                android:layout_height="wrap_content" />
        </TableRow>

        <TableRow
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="10dip" >

            <Button
                android:id="@+id/btnDownload"
                style="?android:attr/buttonStyleSmall"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Download" />

            <Button
                android:id="@+id/btnView"
                style="?android:attr/buttonStyleSmall"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Delete" />
        </TableRow>
    </TableLayout>

</LinearLayout> 
```

还有我的新编辑源代码::

```
 public class TestDynamicScroll extends Activity {
    ArrayList<Url_Dto> list = new ArrayList<Url_Dto>();
    ScrollView slnLay;
    TableLayout download_table;
    File download;
    public static final int DIALOG_DOWNLOAD_THUMBNAIL_PROGRESS = 0;
    String strDownloaDuRL;
    ArrayList<HashMap<String, Object>> MyArrList = new ArrayList<HashMap<String, Object>>();
    TableRow row, row1, row2;
    ImageView im;
    ProgressBar pr;
    TextView tv;
    Button dl;
    Button cl;
    private Context mContext;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_test_dynamic_scroll);

        list = DBAdapter.getUrl_Detail();
        fillCountryTable();
    }

    void fillCountryTable() {
         mContext =TestDynamicScroll.this;
        LinearLayout childln = null ;

        slnLay = (ScrollView) findViewById(R.id.scrollView1);
        LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        View convertView = inflater.inflate(R.layout.custom_row, null);

        for (int current = 0; current < list.size(); current++) {

            Log.v("log_tag", "Current ::: " + current);
            childln = (LinearLayout) convertView.findViewById(R.id.linearchild);
            im = new ImageView(this);
            im = (ImageView) convertView.findViewById(R.id.ColImgPath);
            im.setImageResource(Url_Dto.images[current]);

            childln.addView(im);

            tv = new TextView(this);
            tv = (TextView) convertView.findViewById(R.id.ColStatus);
            tv.setText("...");

            childln.addView(tv);

            pr = new ProgressBar(this);
            pr = (ProgressBar) convertView.findViewById(R.id.progressBar);

            childln.addView(pr);

            dl = new Button(this);
            dl = (Button) convertView.findViewById(R.id.btnDownload);

            childln.addView(dl);

            cl = new Button(this);
            cl = (Button) convertView.findViewById(R.id.btnView);

            childln.addView(cl);

            dl.setOnClickListener(new View.OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    dl.setEnabled(false);
                    dl.setTextColor(Color.GRAY);

                    //startDownload(dl.getId());
                }
            });

        }
        slnLay.addView(childln);

    }

    public void startDownload(final int position) {

        Runnable runnable = new Runnable() {
            int Status = 0;

            public void run() {

                // String urlDownload = list.get(position).url_video;
                String urlDownload = list.get(position).url_video;
                Log.v("log_tag", "urlDownload   ::: " + urlDownload);

                int count = 0;
                try {

                    URL url = new URL(urlDownload);
                    URLConnection conexion = url.openConnection();
                    conexion.connect();

                    int lenghtOfFile = conexion.getContentLength();
                    Log.d("ANDRO_ASYNC", "Lenght of file: " + lenghtOfFile);

                    InputStream input = new BufferedInputStream(
                            url.openStream());

                    // Get File Name from URL
                    String fileName = urlDownload.substring(
                            urlDownload.lastIndexOf('/') + 1,
                            urlDownload.length());
                    download = new File(
                            Environment.getExternalStorageDirectory()
                                    + "/download/");
                    if (!download.exists()) {
                        download.mkdir();
                    }
                    strDownloaDuRL = download + "/" + fileName;
                    OutputStream output = new FileOutputStream(strDownloaDuRL);

                    byte data[] = new byte[1024];
                    long total = 0;

                    while ((count = input.read(data)) != -1) {
                        total += count;
                        Status = (int) ((total * 100) / lenghtOfFile);
                        output.write(data, 0, count);

                        TestDynamicScroll.this.runOnUiThread(new Runnable() {
                            public void run() {
                                // updateStatus(position, Status);

                            }
                        });

                    }

                    output.flush();
                    output.close();
                    input.close();

                } catch (Exception e) {
                }

            }
        };
        new Thread(runnable).start();
    }

} 
```

下面是我的 DbAdpter 类:::

```
public class DBAdapter {
    public static String url = "http://imprintingdesign.com/hiren_testing/TestHopeNew/testHope/data/url.json";

    public static ArrayList<Url_Dto> getUrl_Detail() {

        ArrayList<Url_Dto> fetchUrl_Detail = new ArrayList<Url_Dto>();
        String result = "";
        InputStream is = null;

        ArrayList<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();

        // http post
        try {
            HttpClient httpclient = new DefaultHttpClient();
            HttpPost httppost = new HttpPost(url);
            httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
            HttpResponse response = httpclient.execute(httppost);
            HttpEntity entity = response.getEntity();
            is = entity.getContent();
        } catch (Exception e) {
            Log.e("log_tag", "Error in http connection " + e.toString());
        }
        // convert response to string
        try {
            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    is, "iso-8859-1"), 8);
            StringBuilder sb = new StringBuilder();
            String line = null;
            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }
            is.close();
            result = sb.toString();
        } catch (Exception e) {
            Log.e("log_tag", "Error converting result " + e.toString());
        }

        // parse json data
        try {
            JSONObject json_obj = new JSONObject(result);
            JSONArray j_Arr_fn = json_obj.getJSONArray("children");

            for (int i = 0; i < j_Arr_fn.length(); i++) {
                JSONObject json_objs = j_Arr_fn.getJSONObject(i);
                Url_Dto proDto = new Url_Dto();
                proDto.url_video= json_objs.getString("videoUrl");
                Log.v("log_tag","Url  :::"+ json_objs.getString("videoUrl"));
                fetchUrl_Detail.add(proDto);
                }

        } catch (JSONException e) {
            Log.e("log_tag", "Error parsing data " + e.toString());
        }
        return fetchUrl_Detail;

    } 
```

我想喜欢下面的布局显示：

![在此处输入图像描述](../Images/754d7aca6bb56304ac5e5f41d4b6b7fb.png)

我的错误得到它:::

```
 03-14 13:31:39.453: E/AndroidRuntime(770): FATAL EXCEPTION: main
03-14 13:31:39.453: E/AndroidRuntime(770): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.testdyanamicscroll/com.example.testdyanamicscroll.TestDynamicScroll}: java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.os.Handler.dispatchMessage(Handler.java:99)
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.os.Looper.loop(Looper.java:130)
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.app.ActivityThread.main(ActivityThread.java:3683)
03-14 13:31:39.453: E/AndroidRuntime(770):  at java.lang.reflect.Method.invokeNative(Native Method)
03-14 13:31:39.453: E/AndroidRuntime(770):  at java.lang.reflect.Method.invoke(Method.java:507)
03-14 13:31:39.453: E/AndroidRuntime(770):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
03-14 13:31:39.453: E/AndroidRuntime(770):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
03-14 13:31:39.453: E/AndroidRuntime(770):  at dalvik.system.NativeStart.main(Native Method)
03-14 13:31:39.453: E/AndroidRuntime(770): Caused by: java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.view.ViewGroup.addViewInner(ViewGroup.java:1976)
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.view.ViewGroup.addView(ViewGroup.java:1871)
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.view.ViewGroup.addView(ViewGroup.java:1828)
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.view.ViewGroup.addView(ViewGroup.java:1808)
03-14 13:31:39.453: E/AndroidRuntime(770):  at com.example.testdyanamicscroll.TestDynamicScroll.fillCountryTable(TestDynamicScroll.java:76)
03-14 13:31:39.453: E/AndroidRuntime(770):  at com.example.testdyanamicscroll.TestDynamicScroll.onCreate(TestDynamicScroll.java:55)
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
03-14 13:31:39.453: E/AndroidRuntime(770):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
03-14 13:31:39.453: E/AndroidRuntime(770):  ... 11 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:03:24.307

[`LinearLayout.LayoutParam`](http://developer.android.com/reference/android/widget/LinearLayout.LayoutParams.html)添加`LayoutParam`到子视图时需要使用对象of `LinearLayout`..

更改以下代码

```
for(int i=0;i<list.size();i++){

             im[i] = new ImageView(TestDynamicScroll.this);

            im[i].setLayoutParams(new LayoutParams(50, 50));

            im[i].setImageResource(list.get(i).images[i]);
            slnLay.addView(im[i]);

        } 
```

和

```
for(int i=0;i<list.size();i++){

         im[i] = new ImageView(TestDynamicScroll.this);

        im[i].setLayoutParams(new LinearLayout.LayoutParams(50, 50));

        im[i].setImageResource(list.get(i).images[i]);
        slnLay.addView(im[i]);

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:06:44.903

抱歉，我发布了较早的答案太快了您需要的是为您想要的行创建一个单独的 xml 文件，然后扩展该视图并动态添加到您的布局中

像这样

```
 private LinearLayout mInputView;
  mInputView = (LinearLayout) getLayoutInflater().inflate(R.layout.row_xml, null);
  ImageView newImage=(ImageView)mInputView.findViewbyId(R.id.imageid); 
```

并将这个膨胀的布局添加到您的线性布局中。

row_xml 文件可能有这样的结构

```
<LinearLayout>
<ImageView/>
<ProgressBar/>
<ImageView/>

</LinearLayout> 
```

# php - 如何确定 gravatar.com 请求是否返回 404

> ID：15240986
> 
> 赞同：1
> 
> 时间：2013-03-06T07:00:59.110
> 
> 标签：php, gravatar

我坚持这一点。此代码为 $source 参数提取 gravatar 图像。我正在尝试确定如何将 url 传递给 gravatar 并确定结果是图像还是 404。

如果它是 404，我不想将 default.png 复制到新图像中，我只想使用 default.png

```
 function cb_gravatar($source) {

    $time = 1209600; //The time of cache(seconds)
    preg_match('/avatar\/([a-z0-9]+)\?s=(\d+)/', $source, $tmp);
    $abs = TEMPLATEPATH.
    '/gravatar-cache/'.$tmp[1].
    '.jpg';
    $url = get_bloginfo('template_directory').
    '/gravatar-cache/'.$tmp[1].
    '.jpg';
    $default = get_bloginfo('template_directory').
    '/gravatar-cache/'.
    'default.png';

    if (!is_file($abs) || (time() - filemtime($abs)) > $time) {
        //copy('http://www.gravatar.com/avatar/'.$tmp[1].'?s=64&d='.$default.'&r=G',$abs);
        //IF REQUEST RETURNS A 404 USE THE LOCAL DEFAULT.PNG
        copy('http://www.gravatar.com/avatar/'.$tmp[1].
        '?s=32&d=404&r=G', $abs);

    }

    if (filesize($abs) < 500) {
        copy($default, $abs);
    }

    return '<img alt="" src="'.$url.
    '" class="avatar avatar-'.$tmp[2].
    '" width="'.$tmp[2].
    '" height="'.$tmp[2].
    '" />';

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T07:04:39.593

Gravatar 为 'd' 参数添加了一个选项，这意味着如果你传入 d=404，如果没有图片，你会得到一个 404 页面（而不是一些 302 重定向到默认图片），而不必使用启发式方法。

尽管您说您知道 d 参数，但您知道它实际上会在适用时返回重定向标头吗？因此，以下产生 302 Found 因为头像不存在：

[http://www.gravatar.com/avatar/3b3be63a4c2a439b013787725dfce802?d=http%3A%2F%2Fwww.google.com%2Fimages%2Flogo.gif](http://www.gravatar.com/avatar/3b3be63a4c2a439b013787725dfce802?d=http%3A%2F%2Fwww.google.com%2Fimages%2Flogo.gif)

```
 HTTP/1.1 302 Found  
...  
Last-Modified: Wed, 11 Jan 1984 08:00:00 GMT  
Location: http://www.google.com/images/logo.gif  
Content-Length: 0  
...  
Expires: Sun, 26 Jul 2009 23:18:33 GMT  
Cache-Control: max-age=300 
```

在我看来，您需要做的就是添加该 d 参数并检查 HTTP 结果代码。

# django-templates - 如何在 Django 模板文件中使用文字列表？

> ID：15240990
> 
> 赞同：14
> 
> 时间：2013-03-06T07:01:16.360
> 
> 标签：django-templates

从 Django 模板文件中，我想检查我的变量 myVar 是“A”还是“B”（或“C”或“D”等）。所以我想做这样的事情：

```
{% if myVar in ["A", "B"] %}
    Hello
{% else %}
    World
{% endif %} 
```

但这在第一行给了我一个语法错误。

那么如何在 Django 模板文件中使用文字列表呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-10-10T14:32:42.980

您不能直接在模板中定义列表。您可以使用视图中的视图将列表传递给模板。py 和 urls 中的 url。py ex：在视图中。py

```
def view_name(request):
    list_name=['A', 'B', 'C'];
    render(request, 'directory/template_name.html'
    {'list_name':list_name}) 
```

在网址中。py

```
urlpatterns = [
               path('index/', views.view_name, name='main-view'),
 ] 
```

在模板中

```
{% if myVar in list_name%}
Hello
{% else %}
World
{% endif %} 
```

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2013-03-06T07:48:02.353

答案可以在这里找到：[检查列表 django 模板中的存在](https://stackoverflow.com/questions/7481750/check-for-presence-in-a-list-django-template)

这个问题本质上是重复的。

# jsf-2 - 什么是进程和更新以及它在 primefaces 中的工作方式

> ID：15240994
> 
> 赞同：16
> 
> 时间：2013-03-06T07:01:34.617
> 
> 标签：jsf-2, primefaces

你能区分过程和更新吗？因为我是 JSF 的新手，所以在哪里使用有点困惑。不必要的使用会导致我的应用程序出现问题。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-06T07:08:21.750

`process`在 primefaces 中等于`execute`在 JSF 中

> process ：确定要处理的组件的 ID（发送/提交到服务器）。

`update`在 primefaces 中等于`render`在 JSF 中

> update ：确定要更新的组件的 ID（使用来自服务器的更新值刷新）。

如果您想了解这两个标签（以及更多），您应该阅读这篇博文：

[学习 JSF2：JSF 中的 Ajax – 使用 f:ajax 标签](http://mkblog.exadel.com/2010/04/learning-jsf-2-ajax-in-jsf-using-fajax-tag/)

在那之后你应该知道primefaces`process`并且`update`还可以使用更强大的选择器，在这里阅读更多

[jQuery 选择器 API 符合 JSF](http://blog.primefaces.org/?p=1867)

和

[PrimeFaces 选择器 - @(选择器)](http://www.primefaces.org/showcase/ui/ajax/selector.xhtml)

# google-app-engine - GAE python：无需通过表单提交发布请求即可获取和发布请求

> ID：15240996
> 
> 赞同：0
> 
> 时间：2013-03-06T07:01:36.127
> 
> 标签：google-app-engine, python-2.7, request, httphandler, task-queue

这是这个[问题的延续](https://stackoverflow.com/questions/15214677/keyerror-during-python-gae-push-task-queue-with-cron)

以下是原始代码的缩写版本。我尝试包含最相关的部分，并省略了 cron 作业使用的脚本部分，该作业使用值更新数据存储区。

然后，在**sendFollowUp()**处理程序中，第二个 cron 作业在数据存储中查询这些值，然后使用推送任务队列将这些值作为参数发送，这些参数最终在 REST API 调用中使用到另一个发送人员（实体）的服务数据存储区中的电子邮件。

我不知道如何在不通过表单提交发布请求的情况下在同一个处理程序中使用发布请求来跟进获取请求。这需要在 sendFollowUp 处理程序中发生。我发现的大多数示例都包括提交表单。但是，我不想那样做。我只是希望它自动与 cron 作业和任务队列一起工作。

```
import webapp2
import datetime
from google.appengine.ext import db
from google.appengine.api import users
from google.appengine.api import taskqueue
import jinja2
import os

jinja_environment = jinja2.Environment(loader=jinja2.FileSystemLoader(os.path.dirname(__file__)))

class emailJobs(db.Model):
    """ Models an a list of email jobs for each user """
    triggerid = db.StringProperty()  #Trig id
    recipientid_po = db.StringProperty() # id
    recipientlang = db.StringProperty()  #Language
    fu_email_sent = db.DateTimeProperty() 
    fuperiod = db.IntegerProperty() # (0 - 13)
    fu1 = db.DateTimeProperty() 
    fu2 = db.DateTimeProperty()

    @classmethod
    def update_fusent(cls, key_name, senddate):
        """ Class method that updates fu messages sent in the GAE Datastore """
        emailsjobs = cls.get_by_key_name(key_name)
        if emailsjobs is None:
            emailsjobs = cls(key_name=key_name)
        emailsjobs.fu_email_sent = senddate
        emailsjobs.put()

def timeStampFM(now):
    d = now.date()
    year = d.year
    month = d.month
    day = d.day
    t = now.time()
    hour = t.hour
    minute = t.minute + 5
    second = t.second
    today_datetime = datetime.datetime(year, month, day, hour, minute, second)
    return today_datetime

class MainPage(webapp2.RequestHandler):
    """ Main admin login page """
    def get(self):
        if users.get_current_user():
            url = users.create_logout_url(self.request.uri)
            url_linktext = 'Logout'
            urla = '/'
            url_admin = ""
            if users.is_current_user_admin():
                url = users.create_logout_url(self.request.uri)
                urla = "_ah/admin/"
                url_admin = 'Go to admin pages'
                url_linktext = 'Logout'

        else:
            url = users.create_login_url(self.request.uri)
            url_linktext = 'Login'

        template_values = {
            'url': url,
            'url_linktext': url_linktext,
            'url_admin': url_admin,
            'urla': urla,
            }

        template = jinja_environment.get_template('index.html')
        self.response.out.write(template.render(template_values))

class sendFollowUp(webapp2.RequestHandler):
    """ Queries Datastore for fu dates that match today's date, then adds them to a task queue """
    def get(self):

        now = datetime.datetime.now()
        now_dt = now.date() #today's date to compare with fu dates

        q = emailJobs.all()
        q.filter('fuperiod >', 0)
        q.filter('fuperiod <', 99)

        for part in q:
            guid = str(part.recipientid_po)
            lang = str(part.recipientlang)
            trigid = str(part.triggerid)

            if part.fuperiod == 1:
                fu1rawdt = part.fu1
                fu1dt = fu1rawdt.date()
                if fu1dt == now_dt:
                    follow_up = '1'

            if part.fuperiod == 2: # the values go up to 12 in the original code
                fu2rawdt = part.fu2
                fu2dt = fu2rawdt.date()
                if fu2dt == now_dt:
                    follow_up = '2'

        if follow_up != None:
            taskqueue.add(queue_name='emailworker', url='/emailworker', params={'guid': guid,
                                                                            'fu': follow_up,
                                                                            'lang': lang,
                                                                            'trigid': trigid,
                                                                            })
        self.redirect('/emailworker')

class pushQueue(webapp2.RequestHandler):
    """ Sends fu emails, updates the Datastore with datetime sent """

    def store_emails(self, trigid, senddate):
        db.run_in_transaction(emailJobs.update_fusent, trigid, senddate)

    def get(self):
        fu_messages = {'1': 'MS_x01', 
                       '2': 'MS_x02',
                       # the values go up to 12 in the original code
                       }
        langs = {'EN': 'English subject',
                 'ES': 'Spanish subject',
                 }

        fu = str(self.request.get('fu'))
        messageid = fu_messages[fu]

        lang = str(self.request.get('lang'))
        subject = langs[lang]

        now = datetime.datetime.now()
        senddate = timeStampFM(now)

        guid = str(self.request.get('guid'))
        trigid = str(self.request.get('trigid'))

        data = {}
        data['Subject'] = subject
        data['MessageID'] = messageid
        data['SendDate'] = senddate
        data['RecipientID'] = guid
        # Here I do something with data = {}

        self.store_emails(trigid, senddate)

    app = webapp2.WSGIApplication([('/', MainPage),
                       ('/cron/sendfu', sendFollowUp),
                       ('/emailworker', pushQueue)],
                       debug=True) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:39:12.330

我不确定我是否真的理解你的问题，但你不能用`requests`模块创建一个 POST 请求吗？

[发布请求](http://docs.python-requests.org/en/latest/user/quickstart/#more-complicated-post-requests)

```
>>> payload = {'key1': 'value1', 'key2': 'value2'}
>>> r = requests.post("http://httpbin.org/post", data=payload) 
```

也为了方便任务使用，你见过延迟库吗？

> deferred 库允许您通过公开一个简单的函数 deferred.defer() 来绕过设置专用任务处理程序以及序列化和反序列化参数的所有工作。要稍后调用函数，只需将函数及其参数传递给 deferred.defer

[关联](https://developers.google.com/appengine/articles/deferred)