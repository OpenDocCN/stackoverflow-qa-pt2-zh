# StackOverflow 问答 12670000-12670999

# java - 导入sun无法解决

> ID：12670003
> 
> 赞同：4
> 
> 时间：2012-10-01T08:44:40.783
> 
> 标签：java, eclipse, sun

我在用 Eclipse 编译 Android 应用程序时遇到了一点问题。

它说 ：

```
The import sun cannot be resolved 
```

实际上我想使用`NotImplementedException`包中的类

```
sun.reflect.generics.reflectiveObjects 
```

你有什么想法吗？

我安装了 Java 1.7 和 Eclipse Indigo IDE for Java EE Developers。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-01T08:47:03.170

中的类`sun.*`并不[意味着要导入](http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html)。它们仅供 JVM 内部使用。

使用[`UnsupportedOperationException`](http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html)而不是`NotImplementedException`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T08:49:01.850

这些`sun.*`包不是 JDK 的一部分，而是 Oracle JVM 中的实现。当您为 Android（dalvik JVM）开发时，这些包不可用。就那么简单。

# magento - Magento 中的自定义表集合问题

> ID：12670005
> 
> 赞同：0
> 
> 时间：2012-10-01T08:44:42.107
> 
> 标签：magento

下面是我的自定义表格集合，我试图在每个页面中显示数据

```
 $domain = Mage::getModel('domain/domain')->getCollection();
         $domain->setPageSize(3)->setCurPage($page_number); 
```

在我的自定义表中只有 5 个数据（行）。我想显示每页的 3 个数据。当我通过`$page_number`as 3 时，它不会显示为空。但它会显示第二页数据。

那么如何找到收藏的最后一页和最后一条记录呢？

请建议我..

谢谢大家

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T21:13:00.017

这是正常的行为。

您可以通过代码获取最后页码：

```
$lastPageNumber = $domain->getLastPageNumber(); 
```

# iphone - 为什么我看到“此应用程序不支持此设备的 CPU 类型”？

> ID：12670006
> 
> 赞同：23
> 
> 时间：2012-10-01T08:44:42.307
> 
> 标签：iphone, ios

尝试在运行 iOS 4.2.1 的 iPod 上构建和安装应用程序时，我看到了错误

> 此应用程序不支持此设备的 CPU 类型

我正在尝试使用 xcode 4.3 和 xcode 4.4 构建应用程序，但仍然看到这一点。什么可能导致这种情况，我该如何解决？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2017-12-28T03:13:07.843

**我今天在iPhone 7**设备的**iOS 11.2.1**上遇到了这样的问题。 原因是之前的项目设置了不再支持的 32 位架构。我解决的问题如下：</p>

****项目 -> 构建设置 -> 架构值应该被设置`Standard architectures - $(ARCHS_STANDARD)`****

 **[![在此处输入图像描述](../Images/ee8b31ad17936d0ee8ed9ccfa8c1e3e4.png)](https://i.stack.imgur.com/vynKq.png)

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-10-01T08:50:51.243

从项目构建设置 -> 架构中，确保您同时拥有`armv6`和`armv7`值。

此外，您可以检查 Info.plist 文件，在`Required device capabilities`. 如果有`armv7`，请将其删除。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2018-01-27T15:46:53.170

如果您在构建 Unity 3D 应用程序时遇到此错误，请将脚本后端更改为 IL2CPP，然后选择“通用”架构。

[![ios播放器设置配置](../Images/c3ffd7d85b2b875439aa795b9bc4016d.png)](https://i.stack.imgur.com/jCxW2.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-09-03T22:08:13.693

这篇文章让我得到了答案。谢谢@adig 和@masam

我有一个 iOS 8.4 企业签名应用程序，当我尝试从我们的内部应用程序商店安装它时，它只能在某些设备类型上运行，并且不一致。在我尝试使用 XCode 设备将它部署到第 5 代 iPod 之前，我没有收到任何有用的错误消息，即使是来自设备控制台。它说“此应用程序不支持此设备类型”导致我来到这里。我在第 6 代 iPod/iPhone 6 上进行调试。

我从一个不同于我通常发布的方案进行归档，并且我只构建当前架构，这意味着它只能在特定类型的设备上工作，具体取决于我归档时插入的内容。

因此，当您归档应用程序以作为企业应用程序签名时，请确保“仅构建活动架构”为“否”。**

# xcode4 - Xcode4中geojson格式的地理围栏和导入点

> ID：12670007
> 
> 赞同：1
> 
> 时间：2012-10-01T08:44:45.130
> 
> 标签：xcode4, geojson, geofencing

我们正在尝试在 Xcode 4 中构建我们的第一个 iphone 应用程序。我们的想法是使用地理围栏技术。到目前为止，我们已经在 google（geojson 格式）中创建了一个数据库，其中包含 20 个位置以及纬度/经度坐标、信息和名称。如果我们可以在地图上看到每个点，我们希望将此文件作为 xcode 中的图层导入。我们应该怎么做？

在弄清楚如何导入点之后，我们还想在每个点周围创建一个半径，当用户输入半径时会触发一个事件。

到目前为止，该应用程序是一张显示用户位置的地图。

我们希望您能在正确的方向上给我们一些指导！

# c++ - 重载的 Sum 函数，将 List/Vector 与 Map 混淆

> ID：12670008
> 
> 赞同：0
> 
> 时间：2012-10-01T08:44:56.893
> 
> 标签：c++, templates, stl, map, overloading

我仍在努力重载一个可以与向量/列表或映射一起使用的 Sum 函数。我的 sum 函数的向量/列表版本工作正常，我认为我的地图版本代码相当不错，但是当我测试它时，编译器似乎认为我正在尝试调用函数的列表/向量版本，并引发一些编译器错误。相关代码如下：

```
template <typename T>
const double Sum(typename T start_iter, typename T end_iter)
{// code...
}

template <typename T>
const double Sum(map<typename T, double> start_iter, map<typename T, double> end_iter)
{// different code...
}

int main()
{

map<string, double> test_map; // construct empty map

test_map["Line1"] = 10; // add some data
test_map["Line2"] = 15; 

Sum(test_map.begin(),test_map.end()) // this tries to call the list/vector version of sum
} 
```

我如何混淆这些功能？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:15:27.020

评论中正在讨论的内容的一个小替代方案：

```
template <typename Vt>
struct getter
{
  Vt operator()(const Vt& v)
  {
    return v;
  }
};

template <typename F, typename G>
struct getter<std::pair<F, G> >
{
  G operator()(const std::pair<F, G>& v)
  {
    return v.second;
  }
};

template <typename Iterator>
int sum(Iterator it, Iterator end)
{
  int r = 0;
  for(; it != end; ++it)
    r += getter<typename Iterator::value_type>()(*it);
  return r;
} 
```

现在该`sum`函数并不关心它正在迭代什么，只需依靠适当`getter`的来获取值......

例如：

```
 std::map<int, int> f;
  f[1] = 3;
  f[2] = 6;
  f[3] = 12;
  f[4] = 24;

  std::vector<int> g;
  g.push_back(4);
  g.push_back(8);
  g.push_back(16);
  g.push_back(32);

  std::cout << sum(f.begin(), f.end()) << std::endl;
  std::cout << sum(g.begin(), g.end()) << std::endl; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-02T08:34:48.257

好吧，如前所述，编译器无法推断出作为参数的迭代器的容器类型`Sum`。

`std::map<X,Y>::iterator::value_type`但是，可以使用一对值这一事实`std::pair<XX, YY>`。当然，这不会限制对`Sum`迭代器的期望特化`std::map`，而是限制任何返回一对元素的容器迭代器（例如`std::vector< std::pair<std::string, double> >`。）

如果这不打扰您，或者如果 sthg like`std::vector< std::pair<std::string, double> >`应该使用相同的专业化，那么以下代码似乎可以在您的情况下给出所需的结果：

```
#include <map>
#include <string>
#include <iostream>
#include <cassert>
#include <boost/utility/enable_if.hpp>
#include <boost/type_traits/remove_reference.hpp>

// a small structure to 
template <class U>
struct is_a_key_pair_it
{
  typedef boost::false_type type;
};

template <class A, class B>
struct is_a_key_pair_it< std::pair<A, B> >
{
  typedef boost::true_type type;
};

// using boost::disable_if to avoid the following code to be instanciated 
// for iterators returning a std::pair
template <typename T>
const double Sum(T start_iter, T end_iter, 
  typename boost::disable_if<
    typename is_a_key_pair_it<
      typename boost::remove_reference<typename T::value_type>::type 
    >::type >::type * dummy = 0)
{
  // code...
  std::cout << "non specialized" << std::endl;
  return 0;
}

// using boost::enable_if to limit the following specializing of Sum
// to iterators returning a std::pair
template <typename T>
const double Sum(T start_iter, T end_iter, 
  typename boost::enable_if<
    typename is_a_key_pair_it<
      typename boost::remove_reference<typename T::value_type>::type 
    >::type >::type * dummy = 0)
{
  // different code...
  std::cout << "specialized" << std::endl;
  return 1;
}

int main()
{
  typedef std::map<std::string, double> map_t;

  // check
  assert(is_a_key_pair_it<map_t::iterator::value_type>::type::value);
  // works also for const_iterators
  assert(is_a_key_pair_it<map_t::const_iterator::value_type>::type::value);

  map_t test_map;
  test_map["Line1"] = 10; // add some data
  test_map["Line2"] = 15; 

  double ret = Sum(test_map.begin(),test_map.end()); 
} 
```

# android - 找不到 com.facebook.katana.provider.AttributionIdProvider 的提供商信息

> ID：12670011
> 
> 赞同：51
> 
> 时间：2012-10-01T08:45:12.280
> 
> 标签：android, facebook, login, logcat

有谁知道这个错误是什么意思？每次我将我的 android 应用程序连接到 Facebook（通过模拟器）时，我都会在 LogCat shell 中得到它。

负责授权功能的代码：

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.authorize);
    mPrefs = getPreferences(MODE_PRIVATE);
    loginPref = PreferenceManager.getDefaultSharedPreferences(getBaseContext());
    String access_token = mPrefs.getString("access_token", null);
    long expires = mPrefs.getLong("access_expires", 0);
    if(access_token != null) {
        Singelton.mFacebook.setAccessToken(access_token);
    }
    if(expires != 0) {
        Singelton.mFacebook.setAccessExpires(expires);
    }

    Singelton.mFacebook.authorize(this, new String[] {"email","user_birthday"}, new DialogListener() {
        @Override
        public void onComplete(Bundle values) {
            SharedPreferences.Editor editor = mPrefs.edit();
            editor.putString("access_token", Singelton.mFacebook.getAccessToken());
            editor.putLong("access_expires", Singelton.mFacebook.getAccessExpires());
            editor.commit();
            SharedPreferences.Editor logEditor = loginPref.edit();
            logEditor.putBoolean("login", true);
            logEditor.commit();
            addUser();
        }

        @Override
        public void onFacebookError(FacebookError error) {
            errorHandler();
        }

        @Override
        public void onError(DialogError e) {
            errorHandler();
        }

        @Override
        public void onCancel() {
            Log.d("MyApp", "Facebook cancel");
        }
    });

}

@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    Singelton.mFacebook.authorizeCallback(requestCode, resultCode, data);
} 
```

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2012-11-21T11:10:02.867

这可能是由于以下原因造成的：

1.  您没有连接到互联网
2.  您没有授予 Internet 访问权限 (Manifest.xml)
3.  您没有为应用程序使用正确的[哈希键](https://stackoverflow.com/a/13488560/1441326)
4.  您没有提供正确的 App Id

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2012-10-01T09:02:23.743

这只是意味着您的手机上没有安装 Facebook 应用程序。不要太担心它。

Android 版 Facebook SDK 的工作方式是，每当您需要向 Facebook 发出请求时，SDK 都会检查您的设备上是否已经安装了 Facebook 应用程序。如果已安装，则通过应用程序发出请求。如果未安装应用程序，它会自行获取数据。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-05-20T03:05:54.593

如果四个解决方案没有解决任何人的问题，这可能会有所帮助。当我开始使用 Fragments 实现 Facebook 登录时，我遇到了同样的错误。我使用的是标准片段而不是支持库 v4 片段，在切换到支持库片段后，我的问题就消失了。这可能是我的情况所独有的，但我想我会分享它以防万一。如果您使用登录按钮方法，也不要忘记设置片段。

```
myFacebookLoginButton.setFragment(this); //Assuming you're in a Fragment class 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-05T16:22:51.810

只需将以下权限添加到 AndroidManifest.xml

```
<uses-permission android:name="android.permission.SET_DEBUG_APP"/> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-12-17T10:00:39.663

不要忘记覆盖 onActivityResult 并检查它是否调用（例如，如果您使用片段）

PS（也许对其他人有用，我在使用 parse facebook login 时遇到了这个问题=）

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-06T17:00:15.437

正如@Vinay-S-Shenoy 所说，当 Facebook 应用程序未安装在手机或模拟器上时，就会发生这种情况。为了避免这个错误，我所做的是在调用 facebook.authorize 方法之前检查 Facebook 应用程序是否已安装，以防 Facebook 应用程序未安装，我会向用户提醒此消息。

```
public boolean isFacebookAvailable() {

    Intent intent = new Intent(Intent.ACTION_SEND);
intent.putExtra(Intent.EXTRA_TEXT, "Test; please ignore");
intent.setType("text/plain");

    final PackageManager pm = this.getApplicationContext().getPackageManager();
    for(ResolveInfo resolveInfo: pm.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY)){
        ActivityInfo activity = resolveInfo.activityInfo;
        // Log.i("actividad ->", activity.name);
        if (activity.name.contains("com.facebook.katana")) {
            return true;
        }
    }
    return false;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-05-02T15:09:17.480

对我来说（但我与 ionic 合作）这是因为在启动之前缺少图像/模板错误：

```
ionic cordova build android 
```

也许它可以帮助别人......

* * *

## 回答 #8

> 赞同：-7
> 
> 时间：2012-10-01T12:00:23.930

```
btnFb_photo_post.setOnClickListener(new View.OnClickListener() {
    @Override
    public void onClick(View v) {
        // postPhotoToWall(facebook.getAccessToken());
        facebook.authorize(MyFBTestActivity.this,
            new String[] { "publish_stream" },
            new DialogListener() {
                @Override
                public void onFacebookError(FacebookError e) {
                    // TODO Auto-generated method stub
                    Toast.makeText(getApplicationContext(),
                    e.getMessage(), Toast.LENGTH_LONG).show();
                }

                @Override
                public void onError(DialogError dialogError) {
                    // TODO Auto-generated method stub
                    Toast.makeText(getApplicationContext(),
                    dialogError.getMessage(),
                    Toast.LENGTH_LONG).show();
                }

                @Override
                public void onComplete(Bundle values) {
                    postToWall(values.getString(Facebook.TOKEN));
                }

                private void postToWall(String accessToken) {
                    // Toast.makeText(getApplicationContext(),
                    // "trying", Toast.LENGTH_LONG).show();
                    byte[] data = null;
                    Bitmap bi = BitmapFactory.decodeResource(
                        getResources(), 
                        R.drawable.ic_launcher
                    );
                    ByteArrayOutputStream baos = new ByteArrayOutputStream();
                    bi.compress(Bitmap.CompressFormat.JPEG, 100, baos);
                    data = baos.toByteArray();
                    Bundle params = new Bundle();
                    // if (facebook.getAccessToken() != null)
                    params.putString(Facebook.TOKEN,
                        facebook.getAccessToken()
                    );

                    params.putString("method", "photos.upload");
                    params.putString("caption", "www.samplelink.com");
                    // params.putString("message",
                    // "www.google.com");

                    params.putByteArray("picture", data);
                    AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(facebook);
                    mAsyncRunner.request(null, params, "POST",
                        new SampleUploadListener(), null);
                    }

                    @Override
                    public void onCancel() {
                        // TODO Auto-generated method stub
                    }
                }
            );
        }
    }); 
```

我正在使用此代码将图像上传到 FB 墙。试一次

# c# - 语言版本和 .net 版本

> ID：12670012
> 
> 赞同：0
> 
> 时间：2012-10-01T08:45:12.157
> 
> 标签：c#, .net

我的问题[与此类似，](https://stackoverflow.com/questions/688441/c-sharp-version-and-net-framework-version)但我想知道是否可以在旧版本的 .NET 中使用不同版本的 C#。在我看来，这一定是可能的，因为例如，Lambda 本身与框架无关，它是 C#（和 VB，但我在这里只谈论 C#）。

问题是，我无法对此进行测试，因为只有 VS 2005 在工作，而且我的家用电脑坏了。

那么，在 VS 2010/2012 中创建 .NET 2.0 项目时，我可以使用 lambda's / Linq 等吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:48:15.240

> 那么，在 VS 2010/2012 中创建 .NET 2.0 项目时，我可以使用 lamda 的 / Linq 等吗？

我有[一页正是这种事情](http://csharpindepth.com/Articles/Chapter1/Versions.aspx)。有些功能是特定于框架（或特定于 CLR）的，有些则不是。

例如，您可以毫无问题地使用 .NET 2.0 的 lambda 表达式、匿名类型和自动实现的属性。

如果您提供替代实现，例如[LINQBridge](http://www.albahari.com/nutshell/linqbridge.aspx) ，则可以使用 LINQ to Objects 。其他 LINQ 提供程序（LINQ to SQL 等）显然可以使用 Mono 中的库，但如果可能的话，我个人宁愿升级到更高版本的框架。

您将无法使用 C# 4 中的动态类型，因为它需要仅存在于 .NET 4 中的类型，而且我认为这些类型不容易以兼容的方式向后移植。（这*可能*是可能的，因为至少*有*一个适用于 .NET 3.5 的 DLR 版本，但它是否与 C# 4 编译器配合得很好是另一回事。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T08:46:33.070

如果您将目标框架设置为 2.0 并使用 Visual Studio 2010，则可以使用 Lambda 表达式。但是您不能开箱即用地使用 LINQ，因为该框架是在 .Net 3.5 中引入的

你应该看到这篇文章：[Jon Skeet 的 Untangling the Versions](http://csharpindepth.com/Articles/Chapter1/Versions.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:47:54.260

语言版本和框架版本实际上是捆绑在一起的，Visual Studio 还会根据项目设置确定哪些功能可用。

对于 .NET 2.0 项目，您将无法使用 LINQ，因为这将绑定到 C# 2.0 而不是 C# 3.0（这是引入 LINQ 的时候，扩展方法也是如此）。

请注意，3.0 和 3.5 框架使用 2.0*运行时*。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T08:49:40.313

有语言和编译器，还有 CLR。您可以在 CLR 2.0 上运行 .NET 2.0、3.0 和 3.5。您不能在 CLR 2.0 上使用 .NET 4 功能。

Thus, you can set your project to .NET 3.5, compile it on a machine with .NET 3.5 and run it on a machine with .NET 2.0.

# c++ - Visual Studio 中支持 Marmalade SDK 的单元测试

> ID：12670014
> 
> 赞同：3
> 
> 时间：2012-10-01T08:45:35.253
> 
> 标签：c++, visual-studio-2010, unit-testing, marmalade

我们正在 Visual Studio 中使用[Marmalade SDK](http://www.madewithmarmalade.com/)，并通过 git 与团队共享文件。我们很乐意使用单元测试。

有很多可能性

*   我们尝试使用 Visual Studio 的内置功能实现单元测试，因此我们只是在同一解决方案中创建了一个新的测试项目。在我们尝试包含 Marmalade SDK 文件之前，一切看起来都很好。编译器有问题。Marmalade SDK 生成自己的项目属性，有“ARM (x86) Debug”等编译器，在测试项目中只是默认设置，如 Debug、Release。所以无法正确编译代码。我可以将这些属性复制到测试项目吗？它会起作用吗？如果我们能找到这个选项的答案会更好。

*   而且，我们可以使用一些单元测试 C++ 框架。将其链接到与 Marmalade SDK 创建相同的主项目中。但是哪个框架是最好的？它们有很多，我不知道什么是最好的。另外，我们需要做特殊的 main.cpp 来运行单元测试，对吧？如果您可以通过一些教程提供最好的测试框架以便在 Visual Studio 中轻松实现，我将不胜感激。

感谢您的任何回答！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T07:59:36.793

我试图在这里解释我们如何在果酱项目中使用版本控制，但是我真的很想知道是否有更好的解决方案。

我们`tortoise svn`在所有客户端机器和`Visual SVN server`服务器上使用。我们通常从 Windows 资源管理器上下文菜单中更新和提交，而不是从 Visual Studio 内部，因为我们过去遇到过一些问题。

在测试时，我们通常会创建一个新的存储库或使用当前的存储库。

# google-drive-api - 检查同步状态

> ID：12670015
> 
> 赞同：2
> 
> 时间：2012-10-01T08:45:35.893
> 
> 标签：google-drive-api

有什么方法可以知道同步的状态是什么，例如：进度、完成、错误等。

我正在查看 api 或我安装在计算机中的 google drive 应用程序中的信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T23:34:32.030

抱歉，如果我猜对了您想要什么，这不可用：一种轮询 Drive Client 以查看其状态的方法。

API 和同步客户端不相关。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-25T08:00:30.803

我唯一能想到的就是如果它锁定它正在同步的文件，枚举您尝试访问的文件并监视它们的锁定状态，假设如果在 10 秒内没有锁定或新文件就完成了。

# c# - asp.net oracle 数据库 3 层无法将字符串转换为日期时间

> ID：12670017
> 
> 赞同：0
> 
> 时间：2012-10-01T08:45:41.343
> 
> 标签：c#, asp.net, oracle

我正在使用 Oracle 数据库的 Asp.net C# 3 层。我为读取和删除创建了一个函数，它正在工作，但对于插入和更新，我收到将字符串转换为日期时间的错误。

这是业务层代码：

```
 public void InsertSurvey(string SURV_NAME, DateTime SURV_STARTDATE, DateTime S_ENDDATE)
    {

        try
        {
            string str = "select max(SURV_ID) as max_SURV_ID from SURVEY";
            int maxVal = (_dbAccess.returnint32(str));
            string SURV_ID = Convert.ToString(maxVal);
            if (string.IsNullOrEmpty(SURV_ID))
            {
                maxVal = 1;
            }
            else
            {
                maxVal++;

            }

            string strInsert = "SET IDENTITY_INSERT SURVEY ON insert into SURVEY(SURV_ID,SURV_NAME,SURV_STARTDATE,S_ENDDATE) values('" + maxVal + "','" + SURV_NAME + "','" + SURV_STARTDATE + "','" + S_ENDDATE + "') SET IDENTITY_INSERT SURVEY OFF";
            _dbAccess.executeQuery(strInsert);
        }
        catch (Exception ex)
        {
            throw ex;
        }

    } 
```

这是插入表单后面页面代码中的提交代码：

```
 public partial class Survey_insert_survey : System.Web.UI.Page
{
    BusSurvey _objSurvey = new BusSurvey();
    protected void btnSubmit_Click(object sender, EventArgs e)
    {
        _objSurvey.InsertSurvey(txtSURV_NAME.Text, txtSURV_STARTDATE.Text, txtS_ENDDATE.Text);
        //If records successfully entered then redirect to feedback page
        Response.Redirect("view-survey.aspx");

    }
} 
```

这是我得到的错误：

![在此处输入图像描述](../Images/21c02a60371384127258d72bababa257.png)

希望我能得到帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:16:35.153

在 InsertSurvey 方法中，您期望 DateTime 作为参数，并且您正在尝试传递字符串（从文本框插入）。

```
_objSurvey.InsertSurvey(txtSURV_NAME.Text, Convert.ToDateTime(txtSURV_STARTDATE.Text), Convert.ToDateTime(txtS_ENDDATE.Text)); 
```

你也可以试试这个。

```
DateTimeFormatInfo dtf = new DateTimeFormatInfo();
String sDate = txtSURV_STARTDATE.text;
dtf.ShortDatePattern = "dd-MM-yyyy";
dtf.DateSeparator = "-";
DateTime oDate = Convert.ToDateTime(sDate, dtf); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T22:12:15.737

首先改变你的班级：

```
public void InsertSurvey(string SURV_NAME, DateTime SURV_STARTDATE, DateTime S_ENDDA 
```

至

```
public void InsertSurvey(string SURV_NAME, string SURV_STARTDATE, string S_ENDDATE) 
```

您可以使用 to_date() 功能：

```
insert into SURVEY(SURV_ID,SURV_NAME,SURV_STARTDATE,S_ENDDATE) 
values
('" + maxVal + 
 "', SURV_NAME + "','" +
 "', to_date('" + SURV_STARTDATE + ",''dd-mm-yyyy'),'" +
 "', to_date('" + S_ENDDATE + ",''dd-mm-yyyy'),'" + "'); 
```

或者您可以使用 asp.net 中的 String.Format()：

```
string startDate = String.Format("{0:dd/MM/yyyy}", txtSURV_STARTDATE.Text);
string endDate = String.Format("{0:dd/MM/yyyy}", txtS_ENDDATE.Text); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T14:02:29.133

我认为 *SURVEY.SURV_STARTDATE* 和 *SURVEY.S_ENDDATE* 字段是 DATE 类型。当您将字符串类型的日期值放在引号中时，oraclient 会尝试将它们作为字符串而不是日期时间插入。

尝试删除那些撇号，例如： *insert into SURVEY(SURV_ID,SURV_NAME,SURV_STARTDATE,S_ENDDATE) values('" + maxVal + "','" + SURV_NAME + "'," + SURV_STARTDATE + "," + S_ENDDATE + " )*

# iphone - 图片网址保存

> ID：12670025
> 
> 赞同：2
> 
> 时间：2012-10-01T08:46:26.943
> 
> 标签：iphone, objective-c, ios, xcode

这是我的项目的工作方式，我在`UIScrollView`下面有一个按钮`addButton`，单击时会将您重定向到`AGImagePickerController`（对于那些不知道 AGImagePickerController 的人，它是一个多图像选择器）。然后单击图像（单个或多个图像）。当您按下`DONE`时，它会将图像保存在`NSCachesDirectory`. 它将显示在`UIScrollView`（可以删除）中选择的图像。当您`addButton`再次按下时，它会向您显示`picked`不久前的图像，并带有`checkMark`。

**问题：**当我删除图像中`UIScrollView`的图像时，被删除的图像`AGimagePickerController`是静止的`checked`。需要的是在 中删除时`UIScrollVIew`也会在 中删除`AGimagePickerController`。

我想要做的是，通过它保存它的图像，`URL`然后将它放在我里面的一个文件夹中，`NSCachesDirectory`这样我就可以轻松地加载它，但我不知道从哪里开始，因为我`UIScrollView`用整数按名称排列我的图像。希望有人可以建议该怎么做。非常感谢您。

**注意：**对于那些阅读过本文的人，请评论您希望我在此处发布的代码的哪一部分，或者您遇到问题的部分。再次感谢你。

* * *

**代码：**

这是我的`DONE`部分：

```
for (int i = 0; i < info.count; i++) {

    //NSLog(@"%@", [info objectAtIndex:i]);
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask ,YES );
    NSString *documentsDir = [paths objectAtIndex:0];
    NSString *savedImagePath = [documentsDir stringByAppendingPathComponent:[NSString stringWithFormat:@"oneSlotImages%u.png", i]];

    ALAssetRepresentation *rep = [[info objectAtIndex: i] defaultRepresentation];
    UIImage *image = [UIImage imageWithCGImage:[rep fullResolutionImage]];

    //----resize the images
    image = [self imageByScalingAndCroppingForSize:image toSize:CGSizeMake(256,256*image.size.height/image.size.width)];

    //----fix image orientation
    image  = [image fixSlotOrientation];

    NSData *imageData = UIImagePNGRepresentation(image);
    [imageData writeToFile:savedImagePath atomically:YES];

} 
```

然后在我`AGIPCAssetsController.m`的（保留图像`checkmark`部分的地方）

```
- (void)loadAssets
{
    count = 0;
  [self.assets removeAllObjects];

    AGIPCAssetsController *blockSelf = self;

    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_LOW, 0), ^{
        // Where I make an array to put the `ALAsset Url`
        selectedPhotos = [[NSMutableArray alloc] initWithArray:blockSelf.imagePickerController.selection];

        @autoreleasepool {
            [blockSelf.assetsGroup enumerateAssetsUsingBlock:^(ALAsset *result, NSUInteger index, BOOL *stop) {
                // ALAssetRepresentation* representation = [result defaultRepresentation];
                // NSUInteger assetindex= [blockSelf.assetsGroup numberOfAssets];

                if (result == nil) 
                {
                    return;
                }

                AGIPCGridItem *gridItem = [[AGIPCGridItem alloc] initWithAsset:result andDelegate:blockSelf];
                if(count < blockSelf.imagePickerController.selection.count)
                {
                    if ( blockSelf.imagePickerController.selection != nil && 
                        [result isEqual:[selectedPhotos objectAtIndex:count]])
                    {
                        gridItem.selected = YES;
                        count++;
                        NSLog(@" %@",result);
                    }
                }
                [blockSelf.assets addObject:gridItem];

            }];
        }

        dispatch_async(dispatch_get_main_queue(), ^{

            [blockSelf reloadData];

        });

    }); 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T07:11:07.767

只是一个想法，而不是一个确切的解决方案。在完成按钮操作上，是否可以将带有名称的图像保存为`rep`. 可能`[rep filename]`或`[rep url]`可以用作图像名称，同时代替`@"oneSlotImages%u.png"`. 并`loadAssets`读取存储在缓存中的所有图像，并将其文件名与图像的文件名进行比较，如果缓存中不存在，则将`selectedPhotos`其从数组中删除。`selectedPhotos`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T13:11:13.933

我认为因为它们都具有相同的变量引用，请检查您的变量引用并在两者之间进行比较，然后让我知道您发现了什么。

# iphone - 在 Phonegap 的 AppStore 中链接到我的应用程序

> ID：12670026
> 
> 赞同：11
> 
> 时间：2012-10-01T08:46:28.673
> 
> 标签：iphone, cordova, app-store

我想从 Phoengap 应用程序中添加指向我在 App Store 中的其他应用程序的链接。

我尝试在 webview 中打开这个 URL：

[http://itunes.com/apps/bjango](http://itunes.com/apps/bjango)

通过这篇文章 [http://bjango.com/articles/ituneslinks/](http://bjango.com/articles/ituneslinks/)

但不为我工作。子浏览器窗口已打开，但没有显示任何内容。

如何正确执行？

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2014-05-30T13:32:23.687

以下是在 PhoneGap 中链接到 App Store 的正确方法：

```
<a href="itms-apps://itunes.apple.com/app/id<app apple id>">To App Store</a> 
```

对于安卓：

```
<a href="market://details?id=<bundle id>">To Google Play Store</a> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-01T09:57:38.223

更改您要打开的 URL，使其采用这种格式

`itms-apps://itunes.com/apps/<yourappdevelopername>`

替换`<yourappdevelopername>`为您在 Apple 注册的开发者名称。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-10-08T07:52:40.937

即使这是一个旧线程......迈克一直在询问是否有办法检测我们是在 iOS 还是 Android 平台上。

在 Phonegap/Cordova 你可以打电话

```
device.platform 
```

例如，它将返回值

> iOS

# wpf - 客户端应用程序在等待 WCF 响应时挂起

> ID：12670035
> 
> 赞同：0
> 
> 时间：2012-10-01T08:47:10.533
> 
> 标签：wpf, multithreading, wcf

我们有一个 WPF 应用程序，它向作为 Windows 服务托管的 WCF 服务发出请求。对服务的调用在不同的线程上。但是，注意到，当 WCF 端有某种时间等待或睡眠时，WPF 应用程序会挂起。服务上的实例上下文模式设置为单一。这是一个问题吗？

我们怎样才能让客户反应更快？为什么即使调用不在 UI 线程上，服务上的睡眠也要让客户端等待？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:00:53.863

我认为您正在尝试对 WCF 服务进行同步调用。

您应该尝试在异步模式下调用服务。

以下链接可能会对您有所帮助。

[对 WCF 的异步调用 - 1](http://msdn.microsoft.com/en-us/library/ms730059.aspx)

[对 WCF 的异步调用 - 2](http://code.msdn.microsoft.com/windowsdesktop/How-to-Implement-a-WCF-2090bec8)

# javascript - javascript参数问题

> ID：12670040
> 
> 赞同：0
> 
> 时间：2012-10-01T08:47:32.880
> 
> 标签：javascript, backbone.js, requirejs

尝试`mColumns`在对象内使用参数时，以下代码存在问题。第一个控制台日志正确输出，但传递给的对象内部的日志`Backbone.View.extend`没有，它输出未定义。

```
define(["collections/mColumns"],function(mColumns){
        console.log(mColumns);
        return Backbone.View.extend({
                el: "#content",
                events:{
                    'click #addText': "addText"
                },
                initialize: function(mColumns){
                    console.log(mColumns);
                }
            }); 
}); 
```

但是，如果我事先创建一个对象，然后将该对象作为参数传递它就可以正常工作。两个控制台日志都正确输出。

```
define(["collections/mColumns"],function(mColumns){
    console.log(mColumns);
    var obj = {
        el: "#content",
        events:{
            'click #addText': "addText"
        },
        initialize: function(){
            console.log(mColumns);
        }
    }
    return Backbone.View.extend(obj);
}); 
```

为什么是这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:05:08.330

工作（第二个）片段和第一个片段之间的区别在于第一个片段隐藏了`mColumns`变量。通过定义同名的形式函数参数，原始变量对于函数内部的代码变得不可见：

```
define(["collections/mColumns"],function(mColumns){  // <-- mColumns (#1)
    ...
    return Backbone.View.extend({
        ...
        initialize: function(mColumns){              // <-- mColumns (#2)
            console.log(mColumns);                   // <-- Refers to #2
        }
    })
}); 
```

# android - Android 根据用户的国家/地区更改 webview URL

> ID：12670045
> 
> 赞同：0
> 
> 时间：2012-10-01T08:47:54.050
> 
> 标签：android, webview, country

我正在制作一个显示 Webview 并根据国家/地区更改 URL 扩展名的应用程序。我应该为这两个国家/地区制作两个单独的应用程序，还是有办法在编程中轻松解决这个问题？

URL 在我的 CommonCode 中定义如下：

```
public static String pBaseUrl = "http://url.be/"; 
```

比利时就是这样，荷兰应该是“ [http://url.nl](http://url.nl) ”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:52:36.343

如果您将 url 放在 strings.xml 中，您可以使用`Localization`android

通过使用国家特定的文件夹：

```
/res/values-nl/strings.xml
/res/values-be/strings.xml 
```

更多信息：http: [//developer.android.com/guide/topics/resources/localization.html](http://developer.android.com/guide/topics/resources/localization.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:01:40.547

利用：

```
String locale = this.getResources().getConfiguration().locale.getCountry(); 
```

获取国家代码并用这个替换当前 URL 的扩展名。

# tycho - 主机的可选依赖项在片段中不可用

> ID：12670049
> 
> 赞同：2
> 
> 时间：2012-10-01T08:48:16.460
> 
> 标签：tycho

我的主机插件声明了对另一个插件的可选依赖项。在构建我的主机插件的片段时，Tycho 找不到可选的必需插件。这意味着我得到编译错误，因为来自可选依赖项的类无法解析。

如果我删除主机插件中的可选标志，Tycho 构建工作正常。我正在使用 Maven 3.0.4 和 Tycho 0.15.0。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T14:26:48.657

我不确定这是否真的是第谷中的一个错误，或者更确切地说是设计使然。

这是可观察行为的**背景**：Tycho 旨在以与 p2 在安装捆绑软件时相同的方式进行依赖解析。当您声明一个捆绑包的可选依赖项时，该捆绑包将不会被 p2 安装（除非某些其他捆绑包或功能对该捆绑包具有非可选依赖项）。所以遵循这条规则，Tycho 在依赖解析和类路径计算期间也不会考虑这个可选依赖。

但是，有一个偏离默认 p2 行为的开关（在`target-platform-configuration`配置选项中`dependency-resolution/optionalDependencies`）：

*   使用 value `require`，当前包的所有可选依赖项在编译时都被视为必需。由于这是您通常想要的，**因此这是默认的**.
*   使用 value `ignore`，在编译时忽略当前包的所有可选依赖项。

请注意，这种特殊处理仅适用于当前包的可选依赖项，而不适用于依赖项链中的其他包。主机包当前被视为任何其他依赖项，我们可能会考虑在构建片段时对其进行特殊处理。

您有以下**解决方法**选项：

*   还要在片段的清单中添加可选依赖项。最简单的方法是使用文本编辑器。严格来说，这是正确的做法：片段确实应该声明自己的依赖关系，而不是依赖其他地方的声明。但是由于 PDE 不要求您这样做，因此第谷是否应该这样做是值得怀疑的。
*   [通过build.properties 中的 jars.extra.classpath 选项在](http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.pde.doc.user/reference/pde_feature_generating_build.htm)片段中添加显式的仅编译时依赖项。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-01T09:10:46.933

我找到了解决方法。我删除了主机插件中的可选插件，并通过清单编辑器将其添加到片段中。之后，我将其读入主机插件并再次将其声明为可选。（如果该插件已经在主机插件中声明，您无法通过 Manifest-Editor 的添加按钮在片段中看到它）但我认为这是第谷中的一个错误。片段中也必须提供可选的依赖项，就像在 Eclipse 中一样。

# iphone - iphone UIbezierpath 不规则图像裁剪

> ID：12670051
> 
> 赞同：9
> 
> 时间：2012-10-01T08:48:19.900
> 
> 标签：iphone, objective-c, uiimage, crop, uibezierpath

我正在为 iPhone 创建一个拼图游戏。

在这里我必须像下图一样裁剪图像

![在此处输入图像描述](../Images/862a1b258c33302e9336490528096beb.png)

谷歌搜索后，我知道 uibezier 路径是裁剪不规则形状图像的最佳路径。

但是我没有得到任何代码或想法来像上面那样裁剪图像。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-01T10:07:05.280

这将需要大量的试验和错误，我很快就这样做了，只是为了让您了解如何使用贝塞尔路径创建形状。下面是创建我快速创建的正方形的示例代码

```
 UIBezierPath *aPath = [UIBezierPath bezierPath];

    // Set the starting point of the shape.
    [aPath moveToPoint:CGPointMake(50.0, 50.0)];
    // Draw the lines.
    [aPath addLineToPoint:CGPointMake(100.0, 50.0)];
    [aPath addLineToPoint:CGPointMake(100.0, 100.0)];
    [aPath addLineToPoint:CGPointMake(50.0, 100.0)];
    [aPath closePath];

    CAShapeLayer *square = [CAShapeLayer layer];
    square.path = aPath.CGPath;
    [self.view.layer addSublayer:square]; 
```

如果我有更多时间，我可以创建图像，但由于没有太多时间，所以很快就完成了。一旦你了解了积分是如何产生的，它就不会太难使用。创建此形状将花费您大量的试验和错误，但使用我提供的代码作为如何使用贝塞尔路径创建形状的基础。您将需要创建更多点才能最终获得您想要的形状。

我还建议查看 Apples developer guide 以创建不规则形状

[http://developer.apple.com/library/ios/#documentation/2ddrawing/conceptual/drawingprintingios/BezierPaths/BezierPaths.html](http://developer.apple.com/library/ios/#documentation/2ddrawing/conceptual/drawingprintingios/BezierPaths/BezierPaths.html)

特别是查看“将曲线添加到您的路径”​​以了解如何创建曲线并将它们添加到您的图像中。您将需要它来创建您尝试创建的拼图块形状

编辑：

试试这个方法

```
- (void) setClippingPath:(UIBezierPath *)clippingPath : (UIImageView *)imgView;
{
    if (![[imgView layer] mask])
        [[imgView layer] setMask:[CAShapeLayer layer]];

    [(CAShapeLayer*) [[imgView layer] mask] setPath:[clippingPath CGPath]];
} 
```

上述方法将采用贝塞尔路径和 ImageView，然后将贝塞尔路径应用于特定的 imageView。它也会进行剪辑。我想要经过大量的试验和错误才能使形状恰到好处，有时创建复杂的形状可能会很困难且令人沮丧。

应用此代码的快速示例

```
UIBezierPath *aPath = [UIBezierPath bezierPath];
    // Set the starting point of the shape.
    [aPath moveToPoint:CGPointMake(0.0, 0.0)];
    // Draw the lines.
    [aPath addLineToPoint:CGPointMake(50.0, 0.0)];
    [aPath addLineToPoint:CGPointMake(50.0, 50.0)];
    [aPath addLineToPoint:CGPointMake(0.0, 50.0)];
    [aPath closePath];

    UIImageView *imgView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"bar.png"]];
    imgView.frame = CGRectMake(0, 0, 100, 100);
    [self setClippingPath:aPath :imgView];
    [self.view addSubview:imgView]; 
```

很快就从图像的左上角制作了一个正方形。例如，如果您有一个正方形图像，您可以遍历图像的宽度和高度，使用上面的代码裁剪成单独的正方形并单独返回它们。创建拼图块要复杂得多，但希望这会有所帮助

# c# - JIT 内联是否可以将我的代码内联到一些 .NET 运行时汇编代码中？

> ID：12670052
> 
> 赞同：5
> 
> 时间：2012-10-01T08:48:21.780
> 
> 标签：c#, .net, reflection, jit

我想了解 JIT 内联是多么普遍。

假设在我的代码中，我从说`System.IO`程序集中调用某个函数，并将回调引用传递给在我的代码中实现的函数，以便从该函数内部`System.IO`调用。在我的函数中有`GetCallingAssembly()`调用。因此，如果我的回调被内联到最初在我的代码中`System.IO`的调用中，并且打算说“当前”方法是从内部调用的，则会说它现在是从我的代码内部调用的。`GetCallingAssembly()``System.IO`

这种内联是可能的，还是 .NET 运行时程序集的处理方式不同，因此不允许将用户代码 JIT 内联到 .NET 运行时代码中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T13:02:07.993

您可以放心地假设回调不会被内联。.NET Framework 程序集总是在安装时由 ngen.exe 预先设置，之后无法更改该代码。此外，即使抖动优化器可以推断出委托的目标方法可能是什么，通过委托的回调也永远不会内联。

# jquery - 更改 li:visited 的背景颜色

> ID：12670057
> 
> 赞同：0
> 
> 时间：2012-10-01T08:48:35.610
> 
> 标签：jquery, html, jquery-ui, css

我有一个标签页，我想在访问标签页时为其应用不同的背景颜色。我怎样才能做到这一点？

这是代码：HTML：

```
<ul class="tabs">
       <li><a href="#tab1">Tab One</a></li>
        <li><a href="#tab2">Tab Two</a></li>
        <li><a href="#tab3">Tab Three</a></li>
</ul>
<div class="pane">
    <div id="tab1">
        <p>This is first tab</p>
    </div>
    <div id="tab2" style="display:none;">
        <p>This is second tab</p>
    </div>
    <div id="tab3" style="display:none;">
        <p>This is third tab</p>
    </div>
</div> 
```

CSS：

```
ul.tabs>li {float: left; padding: 10px; background-color: lightgray;
          margin-right:5px; border-radius:10px 10px 0 0;
      }

ul.tabs li a{text-decoration:none;}

ul.tabs li a:visited{color:red;}

ul.tabs li:visited{background:lime;}

p{padding:40px;} 
```

jQuery：

```
$(document).ready(function() {
    $("ul.tabs a").click(function() {
        $(".pane div").hide();
        $($(this).attr("href")).show();
    });
}) 
```

小提琴：http: [//jsfiddle.net/uFALn/63/](http://jsfiddle.net/uFALn/63/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:58:29.450

试试这个代码：

```
$(document).ready(function() {
    $("ul.tabs a").click(function() {
        $(".pane div").hide();
        $(this).parent().addClass('visited')
        $($(this).attr("href")).show();
    });
})​ 
```

和它的CSS：

```
ul.tabs li.visited{
background:lime;
} 
```

[演示](http://jsfiddle.net/uFALn/67/)

`:visited`仅适用于参考。同时 - 页面重新加载后上面的代码将不起作用（因为它应该用于链接）。您还可以在 document.ready 上测试链接颜色并在`LI`s上设置相应的类

另一种选择：带有链接的表格标签标题，而不是带有`LI`s （主要 css 更改）：

```
ul.tabs>li {
     float: left;

}
ul.tabs>li a {
    padding: 10px;
          display:block;
          background-color: lightgray;
          margin-right:5px;
          border-radius:10px 10px 0 0;
      } 
```

[演示](http://jsfiddle.net/uFALn/75/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T08:57:29.507

伪类在s`visited`上不起作用`li`，因为它们不是链接，也没有办法“访问”一个 li 元素。

因此，您可以做的是将`a`s 设置为`display:block;`并赋予**它们**背景颜色。

即使***在***页面更改/刷新后，这也将起作用。

你的新 CSS：

```
ul.tabs>li {
    float: left;
    margin-right:5px;
}

ul.tabs li a { /* padding, background and border-radius goes here now */
    display:block;
    padding: 10px;
    background-color: lightgray;
    text-decoration:none;
    border-radius:10px 10px 0 0;
}

ul.tabs li a:visited{color:red;}

ul.tabs li a:visited { /* li a:visited instead of li:visited */
    background:lime;
}

p{padding:40​px;} 
```

**[演示](http://jsfiddle.net/gionaf/KHSZ8/)**

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-01T08:58:20.287

HTML 元素`li`没有`:visited`选择器。您需要将所有 CSS 应用到锚点。

更改`ul.tabs>li`为`ul.tabs a`并设置背景

```
ul.tabs li a:visited {
    color:red;
    background: lime;
} 
```

请参阅[此小提琴](http://jsfiddle.net/uFALn/72/)以获取工作代码。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-01T08:59:24.257

HTML

```
<ul class="tabs">
   <li class="active"><a href="#tab1">Tab One</a></li>
    <li><a href="#tab2">Tab Two</a></li>
    <li><a href="#tab3">Tab Three</a></li>
</ul>
<div class="pane">
<div id="tab1">
    <p>This is first tab</p>
</div>
<div id="tab2" style="display:none;">
    <p>This is second tab</p>
</div>
<div id="tab3" style="display:none;">
    <p>This is third tab</p>
</div>
</div> 
```

CSS

```
ul.tabs>li {
  float: left;
  padding: 10px;

  margin-right:5px;
  border-radius:10px 10px 0 0;
}
li{
background: lightgray;
}
ul.tabs li a{
text-decoration:none;
}

ul.tabs li a:visited{
color:red;
}

ul.tabs li:visited{
background:lime;
}

p{
padding:40px;
}

.active{
    background:blue;
}
​ 
```

查询

```
$(document).ready(function() {
    $("ul.tabs a").click(function() {
        $("ul.tabs li").removeClass('active');
        $(this).parent().addClass('active');
        $(".pane div").hide();
        $($(this).attr("href")).show();
    });
})​ 
```

[演示](http://jsfiddle.net/afshinprofe/uFALn/78/)

# javascript - 解除绑定（覆盖）keydown 事件

> ID：12670062
> 
> 赞同：-1
> 
> 时间：2012-10-01T08:48:56.833
> 
> 标签：javascript, wordpress, keydown

前几天我写了一个简单的 WordPress 插件来保存帖子并显示预览。这是javascript。

```
jQuery(document).ready(function($){

if (document.cookie.indexOf("previewCookie") >= 0){  
    //expires added for IE
    document.cookie="previewCookie=true; max-age=0;expires=0;path=/wp-admin/";          

    //quickPreviewOption is set in quick-preview.php  
    var previewURL = document.getElementById('post-preview');
    if(quickPreviewOption === 'current'){                                           
        window.location = previewURL;
    }
    if(quickPreviewOption === 'new'){
        window.open(previewURL,"wp_PostPreview","","true");
    }
}

$(document).keydown(function(e){
    if((e.ctrlKey || e.metaKey) && e.which == 83){

        //Find #save post if it's a draft. If post is published, #save-post doesn't exist.
        if($('#save-post').length){
            $('#save-post').click();    
        }
        else if($('#publish').length){
            $('#publish').click();
        }

        //Sets a cookie to open the preview on page refresh. Saving a post auotmatically refreshes the page.
        document.cookie = "previewCookie = true;max-age = 60;path=/wp-admin/";      
        return false;           
    }

}); 
}); 
```

这在 wordpress 中使用“html”编辑器时有效。但是，使用 WordPress 中的“可视化”编辑器，我无法触发任何 keydown 功能。不是 ctrl-s，ctrl-q 等。我不知道是什么阻止了它，我在源代码中找不到它。我尝试取消绑定所有 keydown 事件，然后只重新绑定我的，它没有取消绑定 WordPress keydown 事件。有人有想法么？

这是快速预览插件的链接，以防万一。[http://wordpress.org/extend/plugins/quick-preview/](http://wordpress.org/extend/plugins/quick-preview/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T22:11:37.960

我发布了一个对我有用的答案的链接，因为没有其他人回答过这个问题。Tiny MCE 有它自己的 keydown 函数，你必须在 WordPress 初始化 tinyMCE 时使用它。这里的答案对我有用。[https://wordpress.stackexchange.com/questions/24113/hook-the-keydown-event-in-the-tinymce-post-editor](https://wordpress.stackexchange.com/questions/24113/hook-the-keydown-event-in-the-tinymce-post-editor)

# jquery - html() 文本上的 JQuery CSS

> ID：12670063
> 
> 赞同：0
> 
> 时间：2012-10-01T08:48:58.777
> 
> 标签：jquery, html, css

```
var data = $("span", this).html(); /*grab all */
$calPopup.stop().fadeTo(300,1);
$calPopup.html(data); 
```

我想做类似的事情：

```
data.css("font-size","10pt"); 
```

但如果我这样做，html 文本甚至不会出现。Chrome 的检查员是这样说的：

```
Uncaught TypeError: Object *** has no method 'css' 
```

如何对文本应用 CSS 修改？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T08:50:54.713

jQuery 函数返回一个字符串，而[`.html()`](http://api.jquery.com/html/)不是一个 jQuery 对象，所以没有`.css()`函数可以使用。但是，如果您想将该 CSS 样式应用于所有这些`<span>`元素，只需`.css()`在选择它们的 jQuery 对象上直接调用您的函数即可：

```
$('span', this).css('font-size', '10pt'); 
```

请注意，我删除了变量声明，因为根据提供的代码，它似乎没有必要。另请注意，该`.html()`函数将仅返回第**一个匹配元素**的 HTML ，而不是所有元素，因此如果您有多个`<span>`元素，那么您只会获得第一个的 HTML。

要解决对问题的编辑：

```
var data = $("span", this).clone().css('font-size', '10pt');
$calPopup.stop().fadeTo(300,1);
$calPopup.empty().append(data); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T08:50:50.313

您将方法应用于`css()`方法返回的字符串，`html()`而不是元素本身。

改为

```
var data = $("span", this).css("font-size","10pt").html(); 
```

或者，更好的是，不要使用 javascript 的样式：只需为您的`span`元素分配一个类并让 css 规则给出正确的样式

```
var data = $("span", this).addClass("yourclass").html(); 
```

CSS

```
.yourclass {
    font-size : 10pt;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-01T08:52:15.337

html() 方法将返回选择器中给定的第一个匹配元素的 HTML 文本。在这里它只返回文本而不是 jQuery 对象

所以最好先找到 jQuery 对象并应用 CSS

```
var data = $("span", this);
data.css("font-size","10pt"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T08:50:45.833

不要在 html 上应用 css ...你必须在 span 上应用它：

```
var data = $("span", this).css("font-size","10pt").html(); /*grab all */ 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-01T08:51:03.397

尝试用 $() 包装数据以将其转换为 jQuery 对象

```
$(data).css('font-size','10pt'); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-01T08:51:22.943

您只需要将格式应用于实际的 span 元素。.html() 以字符串格式获取 HTML，因此 .css 不起作用。

如果您想在整个跨度上执行 .css，只需将变量更改为`var data = $("span", this);`

# php - while 语句将 txt 添加到 php 页面

> ID：12670073
> 
> 赞同：0
> 
> 时间：2012-10-01T08:49:49.093
> 
> 标签：php

我有这个问题，“”引号在特定点被添加到我的页面中，如下所示。

![在此处输入图像描述](../Images/afc6250dba8779a3d80ab670cd7748f2.png)

这是该区域的代码.. 但我只是不确定它在做什么。

```
while($row = mysql_fetch_array($result))
  {
  echo "<tr>";
  echo "<td>" . $row['name'] . "</td>";
  echo "<td>" . $row['width'] . "</td>";
  echo "<td>" . $row['height'] . "</td>";
  echo "<td>" . $row['normal_fill'] . "</td>";
  echo "<td>" . $row['our_fill'] . "</td>";
  echo "<td>" . $row['old_price'] . "</td>";
  echo "<td>" . $row['price'] . "</td>";
  echo '<td><form method="post" action=""><input type="hidden" name="goosedown_id" value="'.$row['goosedown_id'].'" /><input type="submit" name="sumbit" value="Delete" /></form></td>"';
  echo "</tr>";
  }
echo "</table>"; 
```

任何帮助将不胜感激！这让我有点发疯！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-01T08:51:47.893

这一行：

```
echo '<td><form method="post" action=""><input type="hidden" name="goosedown_id" value="'.$row['goosedown_id'].'" /><input type="submit" name="sumbit" value="Delete" /></form></td>"'; 
```

最后有“

因为你从一个单独的 qoute 开始......所以把那个拿走，问题就解决了......

# javascript - 未从 MVC 4 项目中的 .js 文件调用 WebAPI 服务

> ID：12670076
> 
> 赞同：-1
> 
> 时间：2012-10-01T08:49:59.620
> 
> 标签：javascript, jquery, asp.net-mvc

在我的 WebApi MVC 4 项目中，脚本中的调用如下：

```
$(document).ready(function () {
    var x = 4;
    var y = 0;
    iAlertHis('<%=ResolveUrl("~/") %>');
}); 
```

.js 文件看起来像：

```
function iAlertHis(_url) { 
    $.GetJSON("_url"+"api/History/", function(){});
} 
```

路由如下：

```
public static class WebApiConfig
{
    public static void Register(HttpConfiguration config) {
        config.Routes.MapHttpRoute( name: "DefaultApi",
                                    routeTemplate: "api/{controller}/",
                                    defaults: new { id = RouteParameter.Optional }
        );
    }
} 
```

控制器如下：

```
public class HistoryController : ApiController
{
    public string GetialertHist() {

        BALiAlert objBALiAlert = new BALiAlert();

        JavaScriptSerializer oSerializer = new JavaScriptSerializer();
        string Json = oSerializer.Serialize(objBALiAlert.ialertHist());
        return Json;
   } 
```

}

运行项目会在调用时出现错误： `$.GetJSON(_url+"api/History",function(){});`

```
'Microsoft JScript runtime error: Object doesn't support this property or method' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:07:28.307

JavaScript 是一种区分大小写的语言。并且 jquery 没有方法`$.GetJSON`。但是有一个方法[`$.getJSON`](http://api.jquery.com/jQuery.getJSON/)。

此外，通常你不会发现任何以大写字母开头的 js 函数/属性。通常第一个字母是小写的。

# cursor - 记住文件重新加载时的光标位置

> ID：12670078
> 
> 赞同：1
> 
> 时间：2012-10-01T08:50:08.410
> 
> 标签：cursor, webpage, reload

我想在刷新页面时记住我的光标位置。但是每当我刷新页面时，光标可以在页面顶部。我该如何解决它。感谢任何帮助。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:57:13.510

你可以使用ajax。获取光标坐标（尽管我认为您在滚动条位置之后）并将它们发布到您的页面（通过 $_GET）。然后将它们发回并使用 javascript 将页面定位到您想要的任何位置。

[获取滚动条信息](https://www.google.nl/#hl=nl&gs_nf=1&tok=tpBust4g6LCZUHsIJUHRgg&cp=16&gs_id=1s&xhr=t&q=get+scrollbar+position&pf=p&output=search&sclient=psy-ab&oq=get+scrollbar+po&gs_l=&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&fp=1b5ef110c32c7bfa&biw=1920&bih=935)， [设置滚动条](https://www.google.nl/#hl=nl&sclient=psy-ab&q=set+scrollbar+position&oq=set+scrollbar+position&gs_l=hp.3..0j0i7i30j0i30j0i10i30.24083.24332.2.24981.3.3.0.0.0.1.116.250.2j1.3.0...0.0...1c.1.86PQNRQmGbU&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&fp=1b5ef110c32c7bfa&biw=1920&bih=935)

# php - 将 Magento 1.6.1 升级到 1.7.0 保存自定义模块

> ID：12670081
> 
> 赞同：4
> 
> 时间：2012-10-01T08:50:28.767
> 
> 标签：php, magento, module, magento-1.7

当我升级 Magento 时，AheadWorks 模块被禁用。

在管理员上保存时，系统 -> 配置 -> 高级 -> 然后单击保存配置

> 保存此配置时出错：注意：尝试在第 135 行的 MAGENTO_ROOT/app/code/core/Mage/Adminhtml/Model/Config/Data.php 中获取非对象的属性

我一直在寻找很多次以找到解决方案，但我一无所获。

[http://www.magentocommerce.com/bug-tracking/issue/?issue=13819](http://www.magentocommerce.com/bug-tracking/issue/?issue=13819)

如何解决？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-10T09:59:09.177

在第 135 行附近找到以下代码行`app/code/core/Mage/Adminhtml/Model/Config/Data.php`：

```
$backendClass = $fieldConfig->backend_model;
if (!$backendClass) {
    $backendClass = 'core/config_data';
} 
```

并将其替换为：

```
if (isset($fieldConfig->backend_model)) {
    $backendClass = $fieldConfig->backend_model;
}
if (!isset($backendClass)) {
    $backendClass = 'core/config_data';
} 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-05-14T04:25:37.663

MagePsyco 是正确的，问题在于第 135 行的代码`app/code/core/Mage/Adminhtml/Model/Config/Data.php`：

```
$backendClass = $fieldConfig->backend_model;
if (!$backendClass) {
    $backendClass = 'core/config_data';
} 
```

MagePsyco 在他的回答中建议的修复问题是代码是在循环中执行的。一旦遇到带有后端模型的属性，$backlendModel 变量就不会`core/config_data`再次重置。例如，在系统配置屏幕的系统页面上，“已安装货币”属性定义了后端模型，但后续属性没有。这会导致在所有后续属性上运行 _afterSave 方法`Mage_Adminhtml_Model_System_Config_Backend_Locale`（这将失败）。

更好的解决方案是可以在 1.8 alpha 版本中找到此代码的版本：

```
$backendClass = (isset($fieldConfig->backend_model))? $fieldConfig->backend_model : false;
if (!$backendClass) {
    $backendClass = 'core/config_data';
} 
```

这会处理所有 null/false/empty 问题，并确保 $backendModel 变量始终包含有效值。这也表明该问题应该得到解决，并且一旦 1.8 发布就不需要修补。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-03T17:23:20.307

您还可以关闭 Magento 的开发者模式。我不是修改核心（或必须扩展它）的忠实拥护者，因此对于懒惰的人来说，只需`MAGE_IS_DEVELOPER_MODE`根据需要禁用/启用是最简单的解决方案，直到它被修复。

# iphone - 更改 UITextview 中的光标位置

> ID：12670090
> 
> 赞同：1
> 
> 时间：2012-10-01T08:50:59.323
> 
> 标签：iphone, ios, uitextview

我已经添加`UIImageView`了`UITextView`使用该`addSubview`方法。现在我想更改光标位置，以便它开始在该`UIImageview`位置之后输入任何字符串。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T10:09:26.373

我为我的自定义 UITextField 做了同样的事情。

```
 cursor=[[UIImageView alloc]initWithImage:[UIImage imageNamed:@"cursor.png"]];

    CGFloat width =  [myTextFied.text sizeWithFont:myTextFied.font].width;
    cursor.frame=CGRectMake(width+1, 7, 2, 20);
    [myTextFied addSubview:cursor]; 
```

# c# - 修复 Windows 窗体中的拆分容器控件

> ID：12670092
> 
> 赞同：1
> 
> 时间：2012-10-01T08:51:06.723
> 
> 标签：c#, winforms, visual-studio, winapi, uisplitviewcontroller

我正在使用 Visual Studio 对 Windows 窗体应用程序进行编码。工具箱中有一个名为Split Container 的控件。

该控件提供了两个连接的面板，它们在边缘接触的地方是分开的。用户可以通过拖动它们之间的分隔符来调整这两个面板的大小。

![在此处输入图像描述](../Images/b984e66c7844798fc7c6860201f4a99c.png)

我想要的是修复分隔符，以便用户不能再拖动它。我想在运行时这样做，以便分隔符可以再次固定和可变。我没有看到用于固定分隔符的属性。

**如何修复拆分容器的分隔符？**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-01T08:54:57.427

使用物业

```
MySplitContainer.IsSplitterFixed = true; 
```

当您想启用/禁用控件的功能时，请查看“IsSomething = true/false;” 控件的方法 - 你会发现诸如 IsReadyOnly.. 之类的东西。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T08:58:09.647

采用

```
splitContainer1.IsSplitterFixed = true; 
```

我希望这有帮助。

# java - 尝试在java中连接到服务器数据库时出现套接字异常

> ID：12670095
> 
> 赞同：0
> 
> 时间：2012-10-01T08:51:11.820
> 
> 标签：java, sockets, jdbc

我正在尝试使用从我的 Windows 应用程序连接到 MySQL 数据库`jdbc`。但它显示套接字异常。我也将连接字符串更改为 ipaddress 但它不起作用。有人可以在这方面帮助我吗？

![在此处输入图像描述](../Images/f922ed26633ae76a1b044dd1382d56ba.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:52:48.807

这很可能是由您的计算机和数据库服务器之间的网络问题引起的，或者您的配置（端口？）不正确，或者您的数据库未启动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:58:12.930

**-**首先使用`Ping`实用程序对连接进行基本诊断。

**-**如果您能够 ping 或无法 ping，无论哪种情况，请检查是否有`firewall`阻塞连接，如果是，请在服务器端的防火墙上为该端口或您的应用程序添加一个例外。

**-**您所说的上述问题是在连接的最初阶段出现的问题。

**-**另请查看您正在连接到正确的 IP，如果它是网络上的服务器，那么我假设该服务器具有`Static Public IP`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:59:46.043

检查您的数据源连接字符串和防火墙，如果您使用第三方防火墙禁用并尝试

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T09:13:45.397

当线程尝试打开某个端口号的套接字以获取连接但无法连接时，我们可能会收到此错误。

首先，检查用于连接数据库的数据源。

ping主机，

远程登录：

```
 telnet hostname  portnumber 
```

要检查端口是否准备好接受连接，请执行

```
 netstat -an | find “portnumber” or netstat -an | grep “portnumber” 
```

它应该处于 LISTENING 状态。如果它不处于侦听状态，请重新启动服务以重置。

防火墙
确保来自主机的防火墙和到主机都允许连接。确保您没有在防火墙中设置任何规则来阻止与主机的传入连接或与主机的传出连接。

# c++ - 这个神秘的_TppWaiterpThread线程的目的是什么

> ID：12670097
> 
> 赞同：2
> 
> 时间：2012-10-01T08:51:24.010
> 
> 标签：c++, multithreading, winapi, windows-7, windows-7-x64

考虑取自[MSDN](http://msdn.microsoft.com/en-us/library/windows/desktop/aa446619%28v=vs.85%29.aspx)的 LookupPrivilegeValue 代码示例（带有少量代码格式编辑）

```
BOOL SetPrivilege(HANDLE hToken, LPCTSTR lpszPrivilege, BOOL bEnablePrivilege) {
TOKEN_PRIVILEGES tp;
LUID luid;

if ( !LookupPrivilegeValue(NULL, lpszPrivilege, &luid ) )  {
    printf("LookupPrivilegeValue error: %u\n", GetLastError() ); 
    return FALSE; 
}
// SET A BREAKPOINT BELOW, notice a new thread was created
tp.PrivilegeCount = 1;
tp.Privileges[0].Luid = luid;
if (bEnablePrivilege) {
    tp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED;
}
else {
    tp.Privileges[0].Attributes = 0;
}
// Enable the privilege or disable all privileges.
if ( !AdjustTokenPrivileges( hToken, FALSE, &tp, sizeof(TOKEN_PRIVILEGES), 
(PTOKEN_PRIVILEGES) NULL, (PDWORD) NULL) ) { 
      printf("AdjustTokenPrivileges error: %u\n", GetLastError() ); 
      return FALSE; 
} 

if (GetLastError() == ERROR_NOT_ALL_ASSIGNED) {
      printf("The token does not have the specified privilege. \n");
      return FALSE;
} 
return TRUE;
} 
```

在第一次调用 LookupPrivilegeValue 后使用 VS 2010/2008 调试器我注意到创建了一个名为 _TppWaiterpThread@4 的新工作线程。该线程一直存在，直到进程退出并且其堆栈跟踪如下：

```
ntdll.dll!_KiFastSystemCallRet@0()  
ntdll.dll!_ZwWaitForMultipleObjects@20()  + 0xc bytes   
ntdll.dll!_TppWaiterpThread@4()  + 0x12c bytes  
kernel32.dll!@BaseThreadInitThunk@12()  + 0x12 bytes    
ntdll.dll!___RtlUserThreadStart@8()  + 0x27 bytes   
ntdll.dll!__RtlUserThreadStart@8()  + 0x1b bytes 
```

在 Windows 7 x86/x64（远程/本地调试）上测试。我尝试设置两个权限 SE_DEBUG_NAME 和 SE_SYSTEM_NAME。这就是我调用 SetPrivilege 的方式：

```
HANDLE hProcess;
hProcess = OpenProcess(PROCESS_ALL_ACCESS, NULL, GetCurrentProcessId());
SetPrivilege(hProcess, SE_SYSTEMTIME_NAME, TRUE);
//SetPrivilege(hProcess, SE_DEBUG_NAME, TRUE); 
```

在 XP 上，这个新线程不会出现。

所以我的问题是：

*   这个 _TppWaiterpThread 线程的目的是什么？
*   LookupPrivilegeValue 是否在幕后创建此线程以完成其工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:09:06.953

这是工人工厂内部实施的一部分。通常，每个工厂使用一个线程来等待所有可等待事件。当事件发生时，等待者线程将作业分派给其中一个工作线程以处理该事件。

这都是[tpWorkerFactory](http://mba.shengwushibie.com/itbook/BookChapter.asp?id=28287)实现的一部分。

# matplotlib - Matplotlib ion() 函数无法交互

> ID：12670101
> 
> 赞同：28
> 
> 时间：2012-10-01T08:51:37.270
> 
> 标签：matplotlib

我对 Matplotlib 的交互功能有疑问。我运行以下程序并收到一个冻结的空图形窗口。

```
import matplotlib.pyplot as plt
import numpy as np

plt.ion()
x = np.arange(0, 4*np.pi, 0.1)
y = [np.sin(i) for i in x]
plt.plot(x, y, 'g-', linewidth=1.5, markersize=4)
plt.show() 
```

如果我删除了 'plt.ion()' 语句，那么它工作得很好。我使用 IDLE 并且 Matplotlib 版本 1.2.x 包安装在 Python 3.2.2 中。

我希望它是交互式的，但我得到了一个不友好的非交互式窗口。有人可以阐明我所缺少的吗？先感谢您。

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2012-10-02T07:18:10.603

我碰到了这个在[这里](https://stackoverflow.com/questions/11480167/matplotlib-ion-and-subprocesses?rq=1)找到的链接，它回答了我的问题。

似乎在通过 开启交互模式后`plt.ion()`，pyplot 需要暂时暂停，以便通过`plt.pause(0.0001)`. 这就是我所做的并且它有效！

```
>>> import matplotlib.pyplot as plt
>>> import numpy as np
>>> plt.ion()
>>> x = np.arange(0, 4*np.pi, 0.1)
>>> y = [np.sin(i) for i in x]
>>> plt.plot(x, y, 'g-', linewidth=1.5, markersize=4)
>>> plt.pause(0.0001)         
>>> plt.plot(x, [i**2 for i in y], 'g-', linewidth=1.5, markersize=4)
>>> plt.pause(0.0001)
>>> plt.plot(x, [i**2*i+0.25 for i in y], 'r-', linewidth=1.5, markersize=4) 
>>> plt.pause(0.0001) 
```

如果您在 IDLE 控制台中尝试过，请注意，到目前为止，所有内容都已显示，除了图形窗口冻结且无法退出。要解冻它，请键入以下最后一条语句

```
>>> plt.show(block=True) 
```

现在可以关闭窗口了。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-07-09T11:46:34.920

我现在正在遇到一模一样的问题。在 ipython 中有魔法`%matplotlib`，它为我解决了这个问题。至少现在我可以输入`plt.figure()`（假设`import matplotlib.pyplot as plt`已被调用）并获得一个完全交互式的响应图。

但是，我仍然很想知道这个魔法究竟导入了什么才能理解这个问题。

# android - listfragment 中的第二个列表视图不滚动

> ID：12670102
> 
> 赞同：5
> 
> 时间：2012-10-01T08:51:42.747
> 
> 标签：android, scroll, android-listfragment

我创建了一个应用程序，其中有两个片段，两个片段中都有列表视图。fragment1 中的第一个列表视图正在滚动，并且项目也被突出显示。但是在第二个片段中，列表视图没有滚动，甚至项目也没有突出显示。有人可以告诉我有什么问题吗？这里的事情是我刚刚通过将相同的片段类放入 xml 中的两个片段来检查这一点。要么他们都应该工作，要么两者都不应该，因为一个与另一个没有什么不同。但是为什么会出现这个问题呢？

我的片段类：

```
public class Fragment1 extends ListFragment{

    String[] countries = new String[] {
        "India",
        "Pakistan",
        "Sri Lanka",
        "China",
        "Bangladesh",
        "Nepal",
        "Afghanistan",
        "North Korea",
        "South Korea",
        "Japan"
    };

    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)
    {
        return inflater.inflate(R.layout.fragment1,container,false);
    }
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        ArrayAdapter<String> adapter=new ArrayAdapter<String>(getActivity(),android.R.layout.simple_list_item_1,countries);
        setListAdapter(adapter);
    }

    public void onListItemClick(ListView parent, View v,int position, long id)
    {
        Toast.makeText(getActivity(), "You have selected "+countries[position], Toast.LENGTH_SHORT).show();
    }

} 
```

主.xml：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal" >

    <fragment
        android:name="com.example.listfragmentexample.Fragment1"
        android:id="@+id/fragment1"
        android:layout_weight="0.5"
        android:layout_width="0dp"
        android:layout_height="200dp" />

    <fragment 
        android:name="com.example.listfragmentexample.Fragment1"
        android:id="@+id/fragment2"
        android:layout_weight="0.5"
        android:layout_width="0dp"
        android:layout_height="300dp"/>
</LinearLayout> 
```

片段1.xml：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >
    <ListView
        android:id="@id/android:list"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:drawSelectorOnTop="false"/>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T10:38:49.653

因此，根据您的代码，您似乎`Fragment1 class`在`main.xml`. 我假设您的活动类只包含**onCreate()**方法中的**setContentView() 。**由于两个片段都在一个活动上，因此最初可能只有一个视图被突出显示。我刚刚检查了这个，但它工作正常。相反，您可能一直在滚动它。如果您希望第二个列表视图突出显示，恐怕您可能需要单独的 xml 文件（例如片段 1 和片段 2）和片段的单独类，并通过添加以下代码来关注您首先需要的内容。**`Just drag the listview in the second fragment,`**

 **```
listView1 = (ListView)findViewById(R.id.listView1);
listView1.requestFocus(); 
```

祝你好运。**

# ios - 处理较大背景上的玩家移动

> ID：12670103
> 
> 赞同：6
> 
> 时间：2012-10-01T08:51:43.460
> 
> 标签：ios, iphone, objective-c, cocos2d-iphone, parallax

我正在构建一个 2D 游戏，其中玩家不断向上移动，当玩家达到可见的最大高度（例如 480）时，图层向下移动。但问题是当我在高度上添加更大的背景（例如 8192）时，我的 FPS 会下降。我的问题是：

1.  我应该一次又一次地重复使用相同的背景还是应该寻找其他东西？

2.  我了解到 TileMaps 的驾驶室是一个非常大的图层，iPhone 可以轻松渲染。

3.  我应该使用视差滚动吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-06T21:48:08.443

您应该将大背景切割成相等的较小背景。

您很可能不需要平铺地图进行垂直滚动。只需将较小的背景添加到数组中，并仅显示玩家可见的背景。

在示例中，我仅更新`BG1`,`BG2`和`BG3`部分。`BG1`离开屏幕时，我将其删除并添加到`BG4`上面`BG3`。`BG5`,`BG6`等也是如此。

![滚动](../Images/1891884ce7d406af8493caadea477640.png)

您还可以通过对具有较小背景部分的数组进行排序来创建无限循环的背景。

视差滚动的使用取决于您的游戏艺术。视差效果是由两个或多个以不同速度滚动的背景层创建的。观看[一些](http://www.youtube.com/watch?v=C2sgGQeZ_Yo) [视频](http://www.youtube.com/watch?v=4ShTq1Rx888)以更好地理解它。

# php - 如何检测 default_socket_timeout 发生在哪里？

> ID：12670106
> 
> 赞同：2
> 
> 时间：2012-10-01T08:51:52.757
> 
> 标签：php, apache

我有一个第 3 方大代码，它有一个超时缺陷。我不知道代码在哪里

如何检测`default_socket_timeout`代码中发生的位置？

# yii - 在 Yii 框架的首页创建数据块

> ID：12670110
> 
> 赞同：0
> 
> 时间：2012-10-01T08:52:11.827
> 
> 标签：yii

我是 Yii 框架的新手。我想在网站首页的框中显示一些用户控制器输出。但我不知道怎么做。你能给我一个计划吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:16:39.707

**方式一：**

在主页“视图”中，添加此类似代码。

```
<div id="box-id">
    <?php 
        if( Yii::app()->user->isGuest() ) {
            // handle guest
        }
        else {
            $this->renderPartial('/user/homebox', array() );
        }
        ?>
</div> 
```

不建议在视图中添加逻辑......最好使用上述代码在控制器（某处）中创建一个函数并在此处调用它。

**方式2（阿贾克斯）：**

在主页“视图”中，添加类似的 javascript。

```
$.get('user/homebox', function(data) {
    $('#box-id').html(data);
}); 
```

并在 UserController .. 定义一些动作'homebox'

```
function actionHomebox() {
    if( Yii::app()->user->isGuest() ) {
        // handle guest
    }
    else {
        $this->renderPartial('homebox', array() );
    }
} 
```

您必须在您的视图（视图/用户/）文件夹中的某处定义一个视图“homebox”。

# visual-studio-2010 - 错误 LNK2019 和 LNK2001：vs2010 中声子无法解析的外部符号

> ID：12670112
> 
> 赞同：0
> 
> 时间：2012-10-01T08:52:14.567
> 
> 标签：visual-studio-2010, qt, dll, cmake, phonon

我已经阅读了有关 LNK2019 和 LNK2001 的所有建议，但似乎没有解决我的问题。我的问题与声子和 DLL 有关，但我不知道如何链接必要的库，因为我的项目没有`.pro`文件。我正在使用 vsaddin 和 vs2010 以及 cmake。cmake 确实有如下一行：

```
set( QT_LIBS QtCore QtGui QtNetwork QtSvg QtWebKit QtXml QtXmlPatterns phonon ) 
```

我得到的错误如下：

```
12>MainWindow.obj : error LNK2019: unresolved external symbol "__declspec(dllimport) public: __thiscall Phonon::Path::~Path(void)" (__imp_??1Path@Phonon@@QAE@XZ) referenced in function "public: __thiscall MainWindow::MainWindow(class QString const &,class QWidget *,class QFlags<enum Qt::WindowType>)" (??0MainWindow@@QAE@ABVQString@@PAVQWidget@@V?$QFlags@W4WindowType@Qt@@@@@Z)
12>MainWindow.obj : error LNK2019: unresolved external symbol "__declspec(dllimport) class Phonon::Path __cdecl Phonon::createPath(class Phonon::MediaNode *,class Phonon::MediaNode *)" (__imp_?createPath@Phonon@@YA?AVPath@1@PAVMediaNode@1@0@Z) referenced in function "public: __thiscall MainWindow::MainWindow(class QString const &,class QWidget *,class QFlags<enum Qt::WindowType>)" (??0MainWindow@@QAE@ABVQString@@PAVQWidget@@V?$QFlags@W4WindowType@Qt@@@@@Z)
12>MainWindow.obj : error LNK2019: unresolved external symbol "__declspec(dllimport) public: void __thiscall Phonon::MediaObject::setTickInterval(int)" (__imp_?setTickInterval@MediaObject@Phonon@@QAEXH@Z) referenced in function "public: __thiscall MainWindow::MainWindow(class QString const &,class QWidget *,class QFlags<enum Qt::WindowType>)" (??0MainWindow@@QAE@ABVQString@@PAVQWidget@@V?$QFlags@W4WindowType@Qt@@@@@Z)

...

12>MainWindow.obj : error LNK2001: unresolved external symbol "public: virtual struct QMetaObject const * __thiscall Phonon::AudioOutput::metaObject(void)const " (?metaObject@AudioOutput@Phonon@@UBEPBUQMetaObject@@XZ)
12>MainWindow.obj : error LNK2001: unresolved external symbol "public: virtual void * __thiscall Phonon::AudioOutput::qt_metacast(char const *)" (?qt_metacast@AudioOutput@Phonon@@UAEPAXPBD@Z)
12>MainWindow.obj : error LNK2001: unresolved external symbol "public: virtual int __thiscall Phonon::AudioOutput::qt_metacall(enum QMetaObject::Call,int,void * *)" (?qt_metacall@AudioOutput@Phonon@@UAEHW4Call@QMetaObject@@HPAPAX@Z)
12>MainWindow.obj : error LNK2001: unresolved external symbol "public: virtual struct QMetaObject const * __thiscall Phonon::MediaObject::metaObject(void)const " (?metaObject@MediaObject@Phonon@@UBEPBUQMetaObject@@XZ)
12>MainWindow.obj : error LNK2001: unresolved external symbol "public: virtual void * __thiscall Phonon::MediaObject::qt_metacast(char const *)" (?qt_metacast@MediaObject@Phonon@@UAEPAXPBD@Z)
12>MainWindow.obj : error LNK2001: unresolved external symbol "public: virtual int __thiscall Phonon::MediaObject::qt_metacall(enum QMetaObject::Call,int,void * *)" (?qt_metacall@MediaObject@Phonon@@UAEHW4Call@QMetaObject@@HPAPAX@Z)

...

12>F:\Projects\build_0.02_audio\bin\Debug\Rashomon.exe : fatal error LNK1120: 37 unresolved externals 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T13:32:56.123

该`set()`命令设置一个变量。要将您的可执行文件与这些库链接，您需要

```
target_link_libraries(your_executable ${QT_LIBS}) 
```

# java - 使用 ProxyFactoryBean 时出现异常

> ID：12670119
> 
> 赞同：3
> 
> 时间：2012-10-01T08:52:41.833
> 
> 标签：java, spring, spring-aop

我正在尝试实现 ProxyFactoryBean 来创建 AOP 代理，但出现了一些错误。谁能告诉我哪里出错了。

*代码和异常跟踪如下：*

## 表演者.java

```
 public interface Performer {
        public void perform();
    } 
```

## 杂耍者.java

```
 public class Juggler implements Performer {
        private int beanBags;
        public Juggler(){
            beanBags =3;
        }
        public Juggler (int beanBags){
            this.beanBags=beanBags;
        }
        @Override
        public void perform() {
            System.out.println("Juggling "+beanBags+" BeanBags...");            
        }
    } 
```

## 观众.java

```
 @Aspect
    public class Audience{
        @Pointcut("execution(* com.org.Performer.perform(..))")
        public void performance(){}

        @Before("performance()")
        public void takeSeats(){
            System.out.println("The audience is taking their seats.");
        }
        @Before("performance()")
        public void turnOffCellPhones(){
            System.out.println("The audience is turning off their cellphones.");
        }
        @AfterReturning("performance()")
        public void applaud(){
            System.out.println("CLAP CLAP CLAP CLAP CLAP");
        }
        @AfterThrowing("performance()")
        public void demandRefund(){
            System.out.println("Boo! We want our money back!");
        }
        @After("performance()")
        public void goHome(){
            System.out.println("The audience is going home!");
        }
        @Around("performance()")
        public void watchTime(ProceedingJoinPoint joinPoint){
            try{
                long startTime=System.currentTimeMillis();
                joinPoint.proceed();
                long endTime=System.currentTimeMillis();
                System.out.println("Time taken: "+(endTime-startTime));
            }
            catch (Throwable t){t.printStackTrace();}
        }
    } 
```

## 测试类.java

```
 public class TestClass {
        public static void main(String args[]) {
            ApplicationContext applicationContext=new ClassPathXmlApplicationContext("spring-config.xml");

            Performer performer=(Performer)applicationContext.getBean("proxyDuke");
            performer.perform();   
        }
    } 
```

## 弹簧配置.xml

```
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
http://www.springframework.org/schema/aop
http://www.springframework.org/schema/aop/spring-aop-3.0.xsd">

    <bean id="Duke" class="com.org.Juggler" ><constructor-arg value="15" /></bean>
    <bean id="audience" class="com.org.Audience"/>

    <bean id="debugInterceptor" class="org.springframework.aop.interceptor.DebugInterceptor"/>

        <bean id="proxyDuke" class="org.springframework.aop.framework.ProxyFactoryBean">
            <property name="target" ref="Duke"/>
            <property name="interceptorNames">
                <list>
                    <value>audience</value>
                    <value>debugInterceptor</value>
                </list>
            </property>
        </bean>
         <aop:scoped-proxy proxy-target-class="false" />
    </beans> 
```

但是给出以下异常

**例外：**

```
Exception in thread "main" org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Cannot locate BeanDefinitionParser for element [scoped-proxy]
Offending resource: class path resource [spring-config.xml]
    at org.springframework.beans.factory.parsing.FailFastProblemReporter.fatal(FailFastProblemReporter.java:59)
    at org.springframework.beans.factory.parsing.ReaderContext.fatal(ReaderContext.java:68)
    at org.springframework.beans.factory.parsing.ReaderContext.fatal(ReaderContext.java:55)
    at org.springframework.beans.factory.xml.NamespaceHandlerSupport.findParserForElement(NamespaceHandlerSupport.java:84)
    at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:73)
    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1419)
    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1409)
    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:184)
    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:140)
    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:111)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:243)
    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:127)
    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:93)
    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:131)
    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:522)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:436)
    at org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:139)
    at org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:83)
    at com.org.TestClass.main(TestClass.java:15)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T09:47:31.003

在运行测试时，作为初始 stab 检查您的类路径中是否有 spring-aop jar。如果您查看 org.springframework.aop.config.AopNamespaceHandler 中的 init 方法，它是 aop 命名空间的默认处理程序，它会为“作用域代理”注册处理程序。

！

詹姆士

**附录：** 在更详细地查看后，问题是您无法指定：

```
 <aop:scoped-proxy proxy-target-class="false" /> 
```

作为一个独立的元素。它需要在 bean 定义中，即：

```
<bean id="Duke" class="com.org.Juggler">
    <constructor-arg value="15" />
    <aop:scoped-proxy proxy-target-class="false" />
</bean> 
```

如果您不希望任何 bean 成为 cglib 代理，请使用：

```
<aop:config proxy-target-class="false" /> 
```

还有其他问题，例如在为 ProxyFactoryBean 指定拦截器名称时，它们必须是 Advice、Advisor、Interceptor 等类型，而 Audience 不是。如果您可以省略调试拦截器 bean，那么您只需要定义以下内容：

```
<bean id="Duke" class="com.org.Juggler">
    <constructor-arg value="15" />
</bean>
<bean id="audience" class="com.org.Audience" />
<aop:aspectj-autoproxy proxy-target-class="false" /> 
```

最后一行`<aop:aspectj-autoproxy..... />`将检查定义的类和自动代理 Juggler 中的注释。

最后，您需要更改代码，以便您检索“Duke”而不是代理，即。

```
Performer performer = (Performer)applicationContext.getBean("Duke");
performer.perform(); 
```

# vbscript - 检查文件是否存在并（仅当存在时）打开另一个文件（或文件夹）或运行应用程序

> ID：12670123
> 
> 赞同：2
> 
> 时间：2012-10-01T08:52:44.050
> 
> 标签：vbscript

我正在寻找一个 vb 脚本，它检查（在特定路径）文件是否存在并且（仅当它确实存在时）然后打开另一个文件（或文件夹）或运行应用程序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T10:52:37.103

```
Set fileSystemObject = CreateObject("Scripting.FileSystemObject")

If fileSystemObject.FileExists(file) Then

    'Do what you need

End If 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T16:59:04.710

这有效：

```
Set fileSystemObject = CreateObject("Scripting.FileSystemObject")
If fileSystemObject.FileExists("ok.txt") Then
  CreateObject("WScript.Shell").Run "nice.txt"
End If 
```

它检查`ok.txt`文件是否存在（在与 vbs 相同的文件夹中），然后执行该`nice.txt`文件。

谢谢你的帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-02T10:42:46.343

通过这种方式（使用 DOS 路径），脚本可以工作：

```
Set fileSystemObject = CreateObject("Scripting.FileSystemObject")
If fileSystemObject.FileExists("D:\MYSCRE~1\ok.txt") Then
CreateObject("WScript.Shell").Run "D:\MYSCRE~1\nice.txt"
End If 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-05-09T04:40:33.670

```
Function Main()

Dim fso 

Set fso = CreateObject("Scripting.FileSystemObject")

If Not(fso.FileExists(drive_name:\folder\filename.txt")) Then

       Main = 1/0

End If 
```

# jquery - JqueryUI，将元素拖入包含大表的滚动可放置 div 的单元格中

> ID：12670124
> 
> 赞同：10
> 
> 时间：2012-10-01T08:52:45.643
> 
> 标签：jquery, jquery-ui, jquery-ui-draggable

我正面临拖放问题。

我希望始终看到正在拖动的元素，并且希望能够滚动特定的 div 以将元素拖放到表格的任何单元格中。我还希望能够将元素从任何 div 拖动到任何 div。

这个例子几乎可以正常工作。我的最后一个问题是关于单元格`hoverClass`属性：当我从靠近“容器 B”边界的“容器 A”中拖动一个元素时，我实现了一个自动滚动行为来在我的表格中导航以到达任何单元格。但是，在滚动模拟之后，`hoverClass`不适用于右侧单元格。但是，元素总是被放入正确的单元格中。

[https://jsfiddle.net/Bouillou/QvRjL/434/](https://jsfiddle.net/Bouillou/QvRjL/434/)

我的方法正确吗？

**编辑**

我找到了解决方法。这个想法是在帮助器构造回调期间将元素克隆附加到可滚动容器，然后在 1ms 后使用 setTimeout 函数将帮助器附加到主体。辅助位置必须映射到鼠标位置以避免偏移问题。

这是我的最终解决方案：[https ://jsfiddle.net/Bouillou/QvRjL/434/](https://jsfiddle.net/Bouillou/QvRjL/434/)

我确信有可能开发出一种最好的方法来做到这一点。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-25T08:36:44.030

显然我的更新是唯一的解决方案。

它现在可以工作几个月没有问题。

我找到了解决方法。这个想法是在帮助器构造回调期间将元素克隆附加到可滚动容器，然后在 1ms 后使用 setTimeout 函数将帮助器附加到主体。辅助位置必须映射到鼠标位置以避免偏移问题。

这是我的解决方案：http: [//jsfiddle.net/QvRjL/134/](http://jsfiddle.net/QvRjL/134/)

```
$('[id^="drag-"]').each(function() {
    $(this).draggable({
        opacity: 0.7,
        cursorAt: { top: 15, left: 50 },
        appendTo: 'body',
        containment: 'body',        
        scroll: true,
        helper: function(){ 
            //Hack to append the cartridge to the body (visible above others divs), 
            //but still bellonging to the scrollable container  
            $('#container').append('<div id="clone" class="cartridge">' + $(this).html() + '</div>');   
            $("#clone").hide();
            setTimeout(function(){
                $('#clone').appendTo('body'); 
                $("#clone").show();
            },1);
            return $("#clone");
        }    
    });
});​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T21:35:19.843

如果我理解正确，滚动后，highlitedcells 不是正确的..

在我看来，它计算单元格以从您的容器元素中突出显示，然后在表格元素内复制 de 位置。

基本上，它检查鼠标从“container2”的偏移量，然后突出显示偏移量处的单元格，但从表格“t”位置开始。

抓住机会并使用位置而不是偏移量。[并在http://api.jquery.com/offset/](http://api.jquery.com/offset/)上提到，

> .offset() 方法允许我们检索元素相对于文档的当前位置。将此与 .position() 进行对比，后者检索相对于偏移父级的当前位置。

Personnaly 我会简单地将 css 类应用于单元格并使用 css:hover。/编辑：如果您需要这样做的唯一原因是突出显示单元格..也许您也想触发其他一些东西。

# java - 查明浏览器是否支持服务器端的 cookie

> ID：12670128
> 
> 赞同：0
> 
> 时间：2012-10-01T08:52:55.000
> 
> 标签：java, http, cookies

> **可能重复：**
> [是否有可能知道浏览器是否在第一次访问时启用了 cookie](https://stackoverflow.com/questions/2865838/is-it-possible-to-know-if-browser-has-cookies-enabled-on-the-very-first-access)

我正在使用无法在客户端使用 javascript 访问的 HttpOnly cookie。我想知道浏览器是否仅在第一个请求中支持 cookie。是否可以从 http 请求中获取此信息？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:56:35.290

您需要来自浏览器的两个请求，一个用于设置测试 cookie，另一个用于读取它，尽管如果第一个请求返回重定向，则可以自动执行第二个请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:58:54.307

如果您想通过一个请求从服务器端决定实际客户端是否支持 HTTP cookie 保存，那么很遗憾，答案是否定的，您不能。

尽管您可以在第一个请求中发送 HTTP cookie，然后在第二个请求中检查 cookie 是否已保存。但请注意，这并不能保证 cookie 的过期设置是否已被接受。

例如，您想存储一个 HTTP cookie 一年，但客户端只接受会话 cookie。在这种情况下，在第二个请求中您将看到您的 cookie，但如果用户关闭他的浏览器，则在下一个请求中将没有 cookie。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:59:57.570

在第一次初次联系时（例如用户之前从未访问过您的网站或清除了所有 cookie） - 没有。但是，如果您发送带有第一个响应的 cookie，那么您会分析 cookie 是否在下一个请求中返回。如果用户最近访问了您的站点并且启用了 cookie，那么您可以在此会话中通过第一个请求来检测它。

一般来说，下一个请求是任何请求 - 它可以是第一个请求加载的内容所引用的图像或 css 文件。

# linq - 编写 LINQ 查询时不断弹出 MonoDevelop 错误对话框

> ID：12670129
> 
> 赞同：3
> 
> 时间：2012-10-01T08:53:18.963
> 
> 标签：linq, xamarin.ios, monodevelop, xamarin

我有一个非常烦人的问题，在我编写 LINQ 查询时，Mono Develop 不断弹出一条消息，指出发生了错误，详细信息将发送到 Xamarin。

看起来 IDE 在我编写它时正在解析我的 LINQ 查询，有没有办法关闭它？

以下是异常的详细信息。

> System.NullReferenceException：对象引用未设置为 /Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0 中 ICSharpCode.NRefactory.CSharp.Refactoring.TypeSystemAstBuilder.ConvertConstructor (IMethod ctor) [0x00013] 处的对象实例.4-branch/ea010826/source/monodevelop/main/contrib/ICSharpCode.NRefactory.CSharp/Refactoring/TypeSystemAstBuilder.cs:651 在 ICSharpCode.NRefactory.CSharp.Refactoring.TypeSystemAstBuilder.ConvertEntity (IEntity entity) [0x000a4] in /Users /builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main/contrib/ICSharpCode.NRefactory.CSharp/Refactoring/TypeSystemAstBuilder.cs:429 在 MonoDevelop.CSharp.Completion.MemberCompletionData +MyAmbience.ConvertEntity（IEntity 实体，IOutputFormatter 格式化程序，ICSharpCode.NRefactory.CSharp。CSharpFormattingOptionsformattingPolicy）[0x0003a] 在 /Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main/src/addins/CSharpBinding/MonoDevelop.CSharp.Completion/MemberCompletionData。 cs:316 在 MonoDevelop.CSharp.Completion.MemberCompletionData+MyAmbience.ConvertEntity（IEntity 实体）[0x00017] 在 /Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/ main/src/addins/CSharpBinding/MonoDevelop.CSharp.Completion/MemberCompletionData.cs:302 在 MonoDevelop.SourceEditor.LanguageItemTooltipProvider.CreateTooltip （ICSharpCode.NRefactory.Semantics.ResolveResult 结果，Int32 偏移量，MonoDevelop.Ide.TypeSystem.Ambience 氛围）[ 0x002d7] 在 /Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main/src/addins/CSharpBinding/MonoDevelop.CSharp.Tooltips/LanguageItemTooltipProvider.cs:260 在 MonoDevelop.SourceEditor.LanguageItemTooltipProvider.CreateTooltipWindow （Mono.TextEditor.TextEditor 编辑器，Int32 偏移量，ModifierType modifierState , Mono.TextEditor.TooltipItem 项) [0x00164] 在 /Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main/src/addins/CSharpBinding/MonoDevelop.CSharp .Tooltips/LanguageItemTooltipProvider.cs:126 在 Mono.TextEditor.TextEditor.TooltipTimer () [0x00129] 在 /Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main /src/core/Mono.Texteditor/Mono.TextEditor/Gui/TextEditor.cs:2602 在 GLib.Timeout+TimeoutProxy.Handler () [0x00000] in :0Tooltips/LanguageItemTooltipProvider.cs:260 在 MonoDevelop.SourceEditor.LanguageItemTooltipProvider.CreateTooltipWindow （Mono.TextEditor.TextEditor 编辑器，Int32 偏移量，ModifierType modifierState，Mono.TextEditor.TooltipItem 项）[0x00164] 在 /Users/builder/data/lanes/monodevelop -lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main/src/addins/CSharpBinding/MonoDevelop.CSharp.Tooltips/LanguageItemTooltipProvider.cs:126 在 Mono.TextEditor.TextEditor.TooltipTimer () [0x00129] 中/Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main/src/core/Mono.Texteditor/Mono.TextEditor/Gui/TextEditor.cs:2602 在 GLib .Timeout+TimeoutProxy.Handler () [0x00000] in :0Tooltips/LanguageItemTooltipProvider.cs:260 在 MonoDevelop.SourceEditor.LanguageItemTooltipProvider.CreateTooltipWindow （Mono.TextEditor.TextEditor 编辑器，Int32 偏移量，ModifierType modifierState，Mono.TextEditor.TooltipItem 项）[0x00164] 在 /Users/builder/data/lanes/monodevelop -lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main/src/addins/CSharpBinding/MonoDevelop.CSharp.Tooltips/LanguageItemTooltipProvider.cs:126 在 Mono.TextEditor.TextEditor.TooltipTimer () [0x00129] 中/Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main/src/core/Mono.Texteditor/Mono.TextEditor/Gui/TextEditor.cs:2602 在 GLib .Timeout+TimeoutProxy.Handler () [0x00000] in :0TextEditor 编辑器，Int32 偏移量，ModifierType modifierState，Mono.TextEditor.TooltipItem 项）[0x00164] 在 /Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main/src /addins/CSharpBinding/MonoDevelop.CSharp.Tooltips/LanguageItemTooltipProvider.cs:126 在 /Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch 中的 Mono.TextEditor.TextEditor.TooltipTimer () [0x00129] /ea010826/source/monodevelop/main/src/core/Mono.Texteditor/Mono.TextEditor/Gui/TextEditor.cs:2602 在 GLib.Timeout+TimeoutProxy.Handler () [0x00000] in :0TextEditor 编辑器，Int32 偏移量，ModifierType modifierState，Mono.TextEditor.TooltipItem 项）[0x00164] 在 /Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main/src /addins/CSharpBinding/MonoDevelop.CSharp.Tooltips/LanguageItemTooltipProvider.cs:126 在 /Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch 中的 Mono.TextEditor.TextEditor.TooltipTimer () [0x00129] /ea010826/source/monodevelop/main/src/core/Mono.Texteditor/Mono.TextEditor/Gui/TextEditor.cs:2602 在 GLib.Timeout+TimeoutProxy.Handler () [0x00000] in :0Tooltips/LanguageItemTooltipProvider.cs:126 在 Mono.TextEditor.TextEditor.TooltipTimer () [0x00129] 在 /Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main/ src/core/Mono.Texteditor/Mono.TextEditor/Gui/TextEditor.cs:2602 在 GLib.Timeout+TimeoutProxy.Handler () [0x00000] in :0Tooltips/LanguageItemTooltipProvider.cs:126 在 Mono.TextEditor.TextEditor.TooltipTimer () [0x00129] 在 /Users/builder/data/lanes/monodevelop-lion-monodevelop-3.0.4-branch/ea010826/source/monodevelop/main/ src/core/Mono.Texteditor/Mono.TextEditor/Gui/TextEditor.cs:2602 在 GLib.Timeout+TimeoutProxy.Handler () [0x00000] in :0

# iphone - 在xcode中将图像下载到哪里

> ID：12670132
> 
> 赞同：0
> 
> 时间：2012-10-01T08:53:30.110
> 
> 标签：iphone, objective-c, xcode

我正在使用一个使用大量精灵的 xcode 项目（使用 cocos2d 的游戏）。问题是我想将图像从 URL 下载到设备上的本地目录，以便以后可以使用它们来创建精灵。

那么将图像下载到的最佳位置是什么？我可以在我的项目文件夹中创建一个文件夹引用，但这是一个好方法吗？这有标准做法吗？

我读到有可以用于此的iphone？请让我知道是否有资源可以帮助我更好地理解这些......

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:10:35.897

您可以将所有图像从 URl 下载到 DocumentDirectory，您可以稍后将其用作游戏的一部分。我正在使用以下代码下载图片

```
NSArray* path = NSSearchPathForDirectoriesInDomains(NSDocumentationDirectory, NSUserDomainMask, YES);
NSString* docPath = [path objectAtIndex:0];
        docPath = [docPath stringByAppendingPathComponent:@"ImageName.png"];
UIImage* image = [UIImage imageWithData:[NSData dataWithContentsOfURL:[NSURL URLWithString:[[array objectAtIndex:o] valueForKey:@"Image_Question"]]]];
NSData* imgData = UIImagePNGRepresentation(image);
[imgData writeToFile:docPath atomically:YES]; 
```

当您想检索应用程序中的任何使用时，您可以使用以下代码

```
UIImage* imageFormDoc = [UIImage imageWithContentsOfFile:docPath]; 
```

当您想从文档目录中删除图像时，您可以使用以下代码。

[[NSFileManager defaultManager] removeItemAtPath:docPath 错误：&error];

**docPath**是带有图像的文档目录的完整路径，然后您可以使用 NSLog 打印以获取详细信息。*强调文本*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:56:02.520

是的，您可以将所有图像保存到应用程序的 Document 文件夹中，以后，您可以使用应用程序中的所有图像。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:31:23.943

尝试保存在 NSDocumentsDirectory 或库目录中，你可以从 plist 中获取它

# android - andengine android 动画线程

> ID：12670133
> 
> 赞同：0
> 
> 时间：2012-10-01T08:53:43.167
> 
> 标签：android, multithreading, animation, andengine

您好，我有以下使用 Andengine 库的代码。代码有效，基本上它在这种情况下获取从敌人（黑羊）到玩家的路径，然后使用路径修改器移动羊，在路径结束时再次开始该过程 - 所以我如果您愿意，我正在使用线程创建永久运动。我的问题是这是进行这种永久寻路的最有效的清洁方法吗？谢谢

```
public  void startThread(){  stop1=true; t1 = new Thread(mMoveBlackSheep); t1.start(); }
public  void stopThread(){ if(t1 != null){   stop1=false; t1.interrupt(); }}
public  void startThread1(){ stop2=true; t2 = new Thread(mMoveBlackSheep1); t2.start(); }
public  void stopThread1(){ if(t2 != null){  stop2=false; t2.interrupt(); }}

private synchronized Path get_coords( int sheep )  {
    Path retxy=null;
    try {
        final float[] playerFootCordinates = player.convertLocalToSceneCoordinates( 12,31 );
        final TMXTile tmxTile = tmxLayer.getTMXTileAt(playerFootCordinates[Constants.VERTEX_INDEX_X], playerFootCordinates[Constants.VERTEX_INDEX_Y]);
        int pColPlayer = 0;
        int pRowPlayer = 0;
        if(tmxTile != null) {
            pColPlayer = tmxTile.getTileColumn();
            pRowPlayer = tmxTile.getTileRow();
        }
    AnimatedSprite blacksheep = black_sheep.get(sheep);
    int pColBlackSheep = 0;
    int pRowBlackSheep = 0;
    final float[] MonsterFootCordinates = blacksheep.convertLocalToSceneCoordinates( 12,31 );
    final TMXTile tmxTile1 = tmxLayer.getTMXTileAt(MonsterFootCordinates[Constants.VERTEX_INDEX_X], MonsterFootCordinates       [Constants.VERTEX_INDEX_Y]);
    if(tmxTile1 != null) {
        pColBlackSheep = tmxTile1.getTileColumn();
        pRowBlackSheep = tmxTile1.getTileRow();
    }
    int xx1 = (int)(player.getX() / TileWidth );
    int yy1 = (int)(player.getY() / TileHeight );
    int selectedx = pRowBlackSheep;
    int selectedy = pColBlackSheep;

    pathfinding.Path path=null;
    Random r1 = new Random();
    int d1 = r1.nextInt(20);
        path = finder_sheep.findPath(new UnitMover(1),  selectedx, selectedy, pRowPlayer , pColPlayer );
    // still null restart thread.
    if (path==null)
    {
        try {
            int randomAmountOfTime=500;
            if ( !Thread.interrupted() ) {
                Thread.sleep(randomAmountOfTime);
            }
        } catch (InterruptedException e) {
        return null;
        }
        catch (Exception e)  { e.printStackTrace(); }
        }

        if (path != null) {
            int p1=path.getLength();
            float[] x1        = new float[p1]; 
            float[] y1        = new float[p1];
            int[]   direction = new int[p1];
            for (int i=0; i<p1; i++)
            {
                int vecX = path.getX(i) * TileWidth;
                int vecY = path.getY(i) * TileHeight;
                x1[i] = vecX;
                y1[i] = vecY;
                if ( i > 0 ) {
                    int vecXPrev = path.getX(i-1) * TileWidth;
                    int vecYPrev = path.getY(i-1) * TileHeight;
                } else { direction[0]=0; }
            }
            retxy = new Path(y1 , x1 );
            Log.d("END CREATE  XY ARRAY", "END CREATE XY ARRAY");

        } else {  retxy=null; }
    }
    catch (Exception e) { }
    return retxy;
    }

    Runnable mMoveBlackSheep =  new Runnable() {public void run()  { if (t1!=null ) { while(!t1.isInterrupted()) {  run1(); }}}};
    Runnable mMoveBlackSheep1 = new Runnable() {public void run() { if (t2!=null) { while(!t2.isInterrupted())   {  run2(); }}}};

    private void run1() {
        try {
        Path co1 = get_coords(0);
        if (co1 != null) {
            followPath(co1 , 0 ,0 );
        }
        } catch (Exception e) {
            //Log.d("run1", e.getMessage()); 
            }
    }               
    private void run2() {
        try {
        // get the Column / Row for the player.
        Path co1 = get_coords(1);
        if (co1 != null) {
            followPath(co1 , 1 ,1 );
        }
        } catch (Exception e) { 
            //Log.d("run1", e.getMessage()); 
            }
    }

private synchronized void followPath( final Path p1 , final int current_sheep , final int threadnum )
{
    try
    {
        float speedOfPlayer= 4;
        black_sheep.get(current_sheep).registerEntityModifier(new PathModifier(speedOfPlayer, p1, null, new IPathModifierListener() {
        public void onPathStarted(final PathModifier pPathModifier, final IEntity pEntity) {
        }

        //@Override
        public void onPathWaypointStarted(final PathModifier pPathModifier, final IEntity pEntity, final int pWaypointIndex) {
                    final long[] frameDurations = new long[3];
                    Arrays.fill(frameDurations, 500);
                    black_sheep.get(current_sheep).animate(frameDurations, 0, 2, true);
        } 
        //@Override
        public void onPathWaypointFinished(final PathModifier pPathModifier, final IEntity pEntity, final int pWaypointIndex)                   {
        }

        //@Override
        public void onPathFinished(final PathModifier pPathModifier, final IEntity pEntity) {
            if ( current_sheep==0) {
                stopThread();
                startThread(); }
            if ( current_sheep==1) {
                stopThread1();
                startThread1(); }

        }
    }));

    }
    catch (Exception e) {
        //Log.d("ERROR~~~", e.getMessage() ); 
        } 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-04T09:48:11.690

考虑使用 AndEngine 的更新处理程序而不是普通的 Java 线程。您的精灵线程将得到更好的处理。[http://andengine.wikidot.com/updatehandler](http://andengine.wikidot.com/updatehandler)

# jsp - Java servlet HttpSession

> ID：12670136
> 
> 赞同：0
> 
> 时间：2012-10-01T08:53:54.627
> 
> 标签：jsp, session, jakarta-ee, web-applications, servlets

如果我调用 request.getSession() 它会返回 Web 服务器中的整个会话吗？还是只返回与当前用户关联的会话？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:00:24.260

request.getSession() 仅返回与当前用户关联的会话。

**您可以在您的 Web 应用程序中检查这一点，以访问存储在不同浏览器会话中的相同对象，例如保留每个会话的 firefox 或 IE。**

[http://docs.oracle.com/javaee/1.4/api/javax/servlet/http/HttpServletRequest.html#getSession%28%29](http://docs.oracle.com/javaee/1.4/api/javax/servlet/http/HttpServletRequest.html#getSession%28%29) 说

> 返回与此请求关联的当前会话，或者如果请求没有会话，则创建一个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:00:01.523

根据 JAVA API 文档，它返回与此请求关联的当前会话，或者如果请求没有会话，则创建一个。

所以它适用于当前用户。

# listview - 如何在 JavaFX 中隐藏 ListView 的水平滚动条

> ID：12670137
> 
> 赞同：10
> 
> 时间：2012-10-01T08:53:54.547
> 
> 标签：listview, javafx, tableview, scrollbar, hide

如何隐藏**ListView**的水平滚动条？我以不同的方式尝试了它，可能它很容易，但我就是无法让它运行。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-05-04T19:05:07.887

在 CSS 中试试这个：

```
.list-view .scroll-bar:horizontal .increment-arrow,
.list-view .scroll-bar:horizontal .decrement-arrow,
.list-view .scroll-bar:horizontal .increment-button,
.list-view .scroll-bar:horizontal .decrement-button {
    -fx-padding:0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-04-08T22:34:53.437

我认为带有窗格（例如 StackPane）和内部具有省略号功能的标签的 ListCell 会更好：

```
StackPane pane = new StackPane();
pane.setStyle("-fx-border-color:red;");
pane.setMinWidth(0);
pane.setPrefWidth(1);
pane.getChildren().add(label); 
```

你可以看看[这个链接](https://ciruman.wordpress.com/2015/04/08/javafx-listview-without-horizontal-scroll/)。

相同的解决方案可用于其他 ListCells 复合体。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T20:12:23.190

有点hack，但这应该可以。在 CSS 中：

```
.list-view .scroll-bar:horizontal {
    -fx-opacity: 0;
    -fx-padding:-7;
} 
```

请注意，滚动条仍然存在，并且在它“应该”在的位置周围的鼠标手势将导致滚动行为。

# python - 如何在我自己的类方法中使用`with open`？

> ID：12670138
> 
> 赞同：3
> 
> 时间：2012-10-01T08:53:55.350
> 
> 标签：python, methods, file-handling

我想定义一个类方法来直接写入文件而不显式关闭文件。但是，如果我像这样返回对象：

```
class sqlBuilder(object):
    ...   

    def save_sql_stat(self, file_n, mode = 'w'):
        try:
            with open(file_n, mode) as sql_out:
                return sql_out

        except IOError, IOe:
            print str(IOe) 
```

我将无法做到：

```
t = sqlBuilder(table)
out = t.save_sql_stat(sql_file)
out.write(...) 
```

因为我要得到一个`ValueError`. 不打电话有什么好的解决方法`out.close()`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T09:02:48.200

您可以使用`closing`from`contextlib`并将`with`语句移到外部...

```
from contextlib import closing

def save_sql_stat(self, file_n, mode='w'):
    try:
        return closing(open(file_n, mode))
    except IOError as e:
        print e.message

sql = SqlBuilder()
with sql.save_sql_stat('testing.sql') as sql_out:
    pass # whatever 
```

# java - 用空格分割字符串

> ID：12670141
> 
> 赞同：0
> 
> 时间：2012-10-01T08:54:19.783
> 
> 标签：java, string

```
字符串 str = "00 01 02";
String[] 字符串 = str.split(" ");

```

这按预期工作。但是，如果我想将 Tab 添加到列表中，它会停止工作，并返回整个字符串：

```
String[] 字符串 = str.split("\t");

```

所以，像往常一样，我要求从 C# 翻译成 Java ......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:55:17.347

```
String[] strings = str.split("\\s+"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T08:55:31.990

你可以试试：

```
str.split("\\s+") 
```

它将在任何空间上拆分，并将删除所有额外的空间。要简单地包含选项卡，请使用以下命令：

```
str.split("[ \\t]") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:56:20.810

[`String.split()`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29)接受一个正则表达式：

> 围绕给定正则表达式的匹配拆分此字符串。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T09:00:59.777

```
String s = "Hello this is Vivek";

String[] sArr = s.split("\\s+"); 
```

瞧，它完成了..!!!!!!

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-01T09:15:50.043

split 方法的第一个参数是一个正则表达式。这意味着，您必须使用最适合您的正则表达式填充它。如果您在这里阅读：[http](http://www.regular-expressions.info/reference.html) ://www.regular-expressions.info/reference.html ，您会看到有一个最适合您要求的令牌： \s 。它匹配空格、制表符和换行符（我不知道你是否想覆盖换行符，但你可能需要）。

另一个问题是：字符串是否应该被一个空格/制表符分割？当你有“00 11 2”时会发生什么？如果这是您想要的，您需要使用 +，这意味着您想用一个或多个空格/制表符分隔。

因此，我为您提出的解决方案：

```
str.split("\\s+") 
```

# android - 将片段从屏幕上移开

> ID：12670142
> 
> 赞同：0
> 
> 时间：2012-10-01T08:54:20.420
> 
> 标签：android, animation, fragment

我想将我的片段从屏幕上移开，即从中间到左边，然后隐藏在左边。这不是正确的代码吗？这是行不通的。请告诉我哪里出错了。

```
<?xml version="1.0" encoding="utf-8"?>
<set
     xmlns:android="http://schemas.android.com/apk/res/android"
     android:interpolator="@android:anim/accelerate_interpolator">
     <translate
           android:fromXDelta="0%p"
           android:toXDelta="-100%p"
           android:duration="500">
     </translate>
</set> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:32:46.970

你必须使用`objectAnimator`动画

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:24:56.483

它取决于您 Frament 的当前位置，动画片段显示隐藏，请参阅这篇文章：[Android 片段和动画](https://stackoverflow.com/questions/4817900/android-fragments-and-animation)

# git - 将 Visual Studio 2012 的内置合并工具与 Git 结合使用

> ID：12670148
> 
> 赞同：30
> 
> 时间：2012-10-01T08:54:40.493
> 
> 标签：git, merge, diff, visual-studio-2012, git-extensions

所以，我不知道是否有人注意到了，但是与 VS2012 一起打包的新合并工具是最大的病态。我最近转移到 Git 进行源代码控制，并且真的希望能够将 VS2012 设置为我的默认 difftool/mergetool。

关于如何做到这一点的任何建议？如果可能的话，我宁愿在活动的 VS2012 窗口中启动差异/合并，而不是新实例。

* * *

## 回答 #1

> 赞同：77
> 
> 时间：2013-08-08T18:54:01.807

[本文](http://www.codewrecks.com/blog/index.php/2013/03/19/how-to-configure-diff-and-merge-tool-in-visual-studio-git-tools/)介绍了如何执行此操作。我试过了，它有效。在我的使用中，差异是在任何现有的 Visual Studio 实例中打开的，这是您喜欢的。

```
[diff]
    tool = vsdiffmerge
[difftool]
      prompt = false
[difftool "vsdiffmerge"]
      cmd = '"C:/Program Files (x86)/Microsoft Visual Studio 11.0/Common7/IDE/vsdiffmerge.exe"' "$LOCAL" "$REMOTE" //t
      keepbackup = false
      trustexitcode = true
[merge]
      tool = vsdiffmerge
[mergetool]
      prompt = false
[mergetool "vsdiffmerge"]
      cmd = '"C:/Program Files (x86)/Microsoft Visual Studio 11.0/Common7/IDE/vsdiffmerge.exe"' "$REMOTE" "$LOCAL" "$BASE" "$MERGED" //m
      keepbackup = false
      trustexitcode = true 
```

* * *

或用于`%VSINSTALLDIR%`始终引用与您打开的命令行匹配的 Visual Studio 版本（这仅在设置 Visual Studio 环境时有效，可以使用 Visual Studio 命令提示符快捷方式或手动调用`vsvars32.bat`）：

```
[diff]
    tool = vsdiffmerge
[difftool]
      prompt = false
[difftool "vsdiffmerge"]
      cmd = '"%VSINSTALLDIR%Common7/IDE/vsdiffmerge.exe"' "$LOCAL" "$REMOTE" //t
      keepbackup = false
      trustexitcode = true
[merge]
      tool = vsdiffmerge
[mergetool]
      prompt = false
[mergetool "vsdiffmerge"]
      cmd = '"%VSINSTALLDIR%Common7/IDE/vsdiffmerge.exe"' "$LOCAL" "$REMOTE" "$BASE" "$MERGED" //m
      keepbackup = false
      trustexitcode = true 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-10-01T17:30:25.877

如果您将[Git Source Control Provider与 Visual Studio 一起使用，则](http://gitscc.codeplex.com/)[该功能](https://github.com/yysun/Git-Source-Control-Provider/issues/32)似乎已实现并且从 1.0.0 版开始可用。

或者，如果您开始使用[Microsoft 的](http://blogs.msdn.com/b/bharry/archive/2013/01/30/git-init-vs.aspx) [git 工具](http://visualstudiogallery.msdn.microsoft.com/abafc7d6-dcaa-40f4-8a5e-d6724bdb980c)，那也将使用内置的 diff 工具。从一些[截图](http://www.hanselman.com/blog/content/binary/Windows-Live-Writer/ed5b594103c4_B6D0/image_2.png)来看，它看起来像是 2-way 合并，结果在底部。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-03-07T13:26:03.537

标记为已回答的解决方案对我不起作用，但确实如此（我的路径中有 vsdiffmerge.exe 位置 - 不知道它是否与它有任何关系）：

```
[diff]
    tool = vsdiffmerge
    guitool = vsdiffmerge
[difftool]
    prompt = true
[difftool "vsdiffmerge"]
    cmd = $LOCAL $REMOTE /t
    keepbackup = false
    trustexistcode = true
    path = C:/Program Files (x86)/Microsoft Visual Studio 12.0/Common7/IDE/vsDiffMerge.exe
[merge]
    tool = vsdiffmerge
[mergetool]
    prompt = false
[mergetool "vsdiffmerge"]
    cmd = $REMOTE $LOCAL $BASE $MERGED /m
    keepbackup = false
    trustexitcode = true
    path = C:/Program Files (x86)/Microsoft Visual Studio 12.0/Common7/IDE/vsDiffMerge.exe 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-12-16T11:37:24.460

在 Visual Studio 2019 中，您只需转到工具-> 源代码管理-> Git 全局设置-> 工具部分，然后为 Diff 工具、合并工具或两者都选择“使用 Visual Studio”即可轻松完成此操作

# google-app-engine - 未触及 App Engine 后端配额

> ID：12670151
> 
> 赞同：0
> 
> 时间：2012-10-01T08:54:49.697
> 
> 标签：google-app-engine, backend, task-queue, gae-quotas

我有一个从我的前端应用程序代码中调用的动态后端进程。为此，它必须通过 app.yaml 可见。但是当后端以这种方式运行时，我在管理面板上看到我的后端配额没有变化，这让我相信它是在前端配额上运行的。

后端通过 a`taskqueue.add(url='/path/to/backend')`从前端调用。

这不应该调用后端实例至少 15 分钟并因此使用该配额吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T12:10:06.903

您不会通过 URL 将任务定位到后端，而是使用`target`参数：

```
taskqueue.add(url='/my/url', target='my_backend_name') 
```

请参阅[文档](https://developers.google.com/appengine/docs/python/taskqueue/overview-push#Push_Queues_and_Backends)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T10:29:43.390

您是否真的通过命令行启动了后端？

[https://developers.google.com/appengine/docs/python/backends/overview#Commands](https://developers.google.com/appengine/docs/python/backends/overview#Commands)

```
 appcfg backends <dir> start <backend> 
```

> 将后端状态设置为 START，允许其接收 HTTP 请求。驻留后端立即启动。在第一个用户请求到达之前，动态后端不会启动。如果后端已经启动，则无效。

# iphone - 目标 c 保留、分配、复制 getter setter 方法

> ID：12670155
> 
> 赞同：0
> 
> 时间：2012-10-01T08:54:58.877
> 
> 标签：iphone, objective-c

我想查看保留、分配和复制 setter 和 getter 方法的代码，谁能指导我一些有用的堆栈溢出帖子或任何其他教程链接。提前感谢并问候萨阿德·艾哈迈德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:00:29.893

您通常需要声明实例变量的所有权。请参阅 Objective-C 内存管理规则。使用保留属性，您的属性设置者声称拥有新价值的所有权并放弃旧价值的所有权。使用 assign 属性，周围的代码必须这样做，这在职责和关注点分离方面同样混乱。使用 assign 属性的原因是您无法保留该值（例如 BOOL 或 NSRect 等非对象类型），或者保留它会导致不必要的副作用。

顺便说一句，在 NSString 的情况下，正确的属性类型通常是副本。这样，如果有人传入 NSMutableString（这是有效的——它是一种 NSString），它就不会从你下面改变。

浏览这些链接。希望您能通过这些链接更好地理解 -

[Objective-C 101（保留与分配）NSString](https://stackoverflow.com/questions/1380338/objective-c-101-retain-vs-assign-nsstring)

[NSString 属性：复制还是保留？](https://stackoverflow.com/questions/387959/nsstring-property-copy-or-retain)

[https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/MemoryMgmt.html](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/MemoryMgmt.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:02:52.600

本指南很好地解释了这些原则。我自己用过几次作为参考。

[http://blog.ablepear.com/2010/04/objective-c-tuesdays-instance-variables_20.html](http://blog.ablepear.com/2010/04/objective-c-tuesdays-instance-variables_20.html)

# ios - 我的 iPhone 应用程序崩溃并显示 [__NSCFDictionary stringByReplacingOccurrencesOfString:withString:]: unrecognized selector sent to instance

> ID：12670158
> 
> 赞同：0
> 
> 时间：2012-10-01T08:55:11.100
> 
> 标签：ios, string

我的 iPhone 应用程序崩溃并显示错误：

`- [__NSCFDictionary stringByReplacingOccurrencesOfString:withString:]: unrecognized selector sent to instance 0x99f60b0`

这是我的代码 NSString *strData; AppDelegate *delegate = (AppDelegate *)[[UIApplication sharedApplication] delegate]; if (delegate.respondInsightIndex) { strData = [insights objectAtIndex:index]; } else { strData = [洞察lastObject];
}

```
NSString *strReplace = [NSString stringWithFormat:@"%@",[strData stringByReplacingOccurrencesOfString:@"%20" withString:@" "]]; 
```

这是我再次发生崩溃的方法

```
- (void) setComments:(NSArray*)comments {
NSString * htmlString; 
if ( [UIHelper isPad] )
    htmlString = @"<html><style type=\"text/css\">body{padding:15px 40px 0 40px; font-family: Helvetica;"
                "font-size: 14px;"
                "color: #888888;"
                "line-height: 50%"
                "},</style><body>";
else
    htmlString = @"<html><style type=\"text/css\">body{padding:8px 20px 0 20px; font-family: Helvetica;"
                "font-size: 11px;"
                "color: #888888;"
                "},</style><body>";

for ( NSString * single in comments ) {
    if ( single == nil ) 
        single = @"";

    if ([single isKindOfClass:[NSString class]]) {
        single = [single stringByReplacingOccurrencesOfString:@"%20" withString:@" "];  
    }
    NSString * str ;
    if([UIHelper isPad ])
    {
        str = [NSString stringWithFormat:@"%@<br/><hr color=#555555><p align=\"right\" style=\"font-size:12px;\">Username</p>", single];
    }
    else {
        str = [NSString stringWithFormat:@"%@<br/><hr color=#555555><p align=\"right\" style=\"font-size:9px;\">Username</p>", single];
    }

    htmlString = [NSString stringWithFormat:@"%@%@", htmlString, str];
}
htmlString = [NSString stringWithFormat:@"%@%@", htmlString, @"</body></html>"];
if ( [contentView respondsToSelector:@selector(loadHTMLString:baseURL:)] )
    [contentView loadHTMLString:htmlString baseURL:[NSURL URLWithString:@"http://www.secondprizm.com"]]; 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:59:24.163

所以这意味着您正在尝试`- stringByReplacingOccurrencesOfString`在一个实例上使用该方法，该实例`NSDictionary`当然不会起作用。

对象`strData`不是`NSString`你想的那样的对象。它实际上是一个对象`NSDictionary`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:07:29.447

正如彼得上面所说，当你从一个对象中检索一个对象时，`NSArray`它只是一个指向对象的指针，不管你把它转换成什么。您可以通过各种方式对此进行调查。查看数组内容的设置位置并检查您要添加的内容，有可能`NSDictionary`在链的上游被误投了。还可以尝试在读取数组之前设置断点，然后在调试器中键入`po insights`。这将打印对象的内容。崩溃后，您还可以通过执行 a 来调查导致问题的对象`po <memory address>`，在这种情况下`po 0x99f60b0`。

防止这种事情的一个好方法是自省（虽然如果你的数组中有错误的对象，这不会解决问题，但会阻止崩溃。）如下：

```
if ([strData isKindOfClass:[NSString class]]) {
    NSString *strReplace = [NSString stringWithFormat:@"%@",[strData stringByReplacingOccurrencesOfString:@"%20" withString:@" "]];   
} 
```

尽管我注意到了几件事，但我在您发布的代码中看不到任何错误。您无需检查是否`single == nil`. 不可能`nil`在`NSArray`.

此外，您正在对指针进行大量重新分配，并且还尝试在遍历数组时编辑数组的内容。这在 Objective-C 中不是一个好主意。我已经对其进行了测试，它似乎在这种情况下工作，但如果您正在创建一个新字符串，通常最好创建一个新的字符串指针，以确保正确释放旧字符串使用的内存。不要误会我的意思，代码可以工作，但是这种事情很快就会导致内存泄漏，以后很难追踪，只是最佳实践的东西。

关于崩溃，我看不到从该方法生成的错误消息，您发布的原始代码在哪里适合您发布的额外代码？请更新您的问题以提供更多详细信息

# c - 如何从文件中读取命令并在 c 中执行这些命令？

> ID：12670159
> 
> 赞同：2
> 
> 时间：2012-10-01T08:55:14.833
> 
> 标签：c, file

假设我有一个这样的文件：

```
rotate -45
move 30 
```

Where`rotate`和`move`是我写的两个函数。但我正在从文本文件中读取这些内容。

那么，我如何能够将这些用作我的程序的命令呢？

例如，我正在考虑使用`strcmp`. 所以我会将我读到的字符串与我所知道的可能的命令进行比较。然后，如果它们匹配，我想调用请求的函数。

我真的很想看一些示例代码来帮助理解。

感谢您的提示。所以使用 brunobeltran0 的第一种方法，我会这样做：

```
 char*next_command;
        char* get_next_command;g = fopen("b", "r");/*b is the name of the file*/

        while(!feof(g)) 
        {
        get_next_command=fgetc(g);

        next_command = strtok(get_next_command, " ");

         while (next_command != NULL) {

        printf("%s\n", next_command);

         next_command = strtok(NULL, " ");       

      if (!strcmp(next_command, "rotate")) 
        {   

        rotate (/*how would I get the number to be in here*/ )

         }` 
```

这看起来不对。我错过了了解你们吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:21:44.790

我将假设您的意思是您要编写一个程序，给定一个包含它理解的命令的输入文件，从所述输入文件中读取并执行这些命令。根据你有多少命令，以及你对这些函数的格式的了解，周围的代码可能会有很大的不同，但在一般情况下，逻辑将类似于（忽略内存管理） )

```
char *next_command = get_next_command(...); // reading the commands is really specific to the input you expect
if (!strcmp(next_command, "some_command")) 
{
    void *param_arr[PARAM_CNT_FOR_SOME_COMMAND] = get_params_for_some_command(); 
    some_command(param_arr[0], param_arr[1], param_arr[2]); // assume some_command takes 3 arguments
}
else if (!strcmp(next_command, "some_other_command"))
... 
```

例如，如果你想旋转 -45，

```
char *next_command = get_next_command(...); // reading the commands is really specific to the input you expect
if (!strcmp(next_command, "rotate")) 
{
    void *param_arr[1] = get_rotation_angle(); 
    rotate((int *)param_arr[0]); // assume some_command takes 3 arguments
} 
```

应该管用。

如果您有可用的映射，那么从可能的输入命令映射到它们各自的函数并允许函数从文件本身读取以查找其参数可能会更有效。

例如：

```
char *next_command = get_next_command(file_pointer);
(*get_func_pointer(next_command))(file_pointer); // where get_func_pointer is a function that
                                                 // returns the function pointer assoc. with 'next_command'
/* somewhere else in the code */
void func_returned_by_get_func_pointer(FILE *fp)
{
    read_params_from(fp);
    do_everything_as_usual();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:01:56.150

我会这样做：

*   这些函数将被定义为采用可变数量的参数，除非它们都共享相同的函数签名，但名称除外。
*   将函数名映射定义为指向函数定义指针的字符串。
*   每次读取和解析一行时，函数名称将使用上面的映射解析为函数指针，并使用参数调用。

HTH。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:41:07.113

尽量将解析器/调度代码与函数分离。这显示了适用于您的示例案例的调度程序示例：

```
typedef int (*Command)(double);
struct CommandEntry {
    const char *name;
    Command function;
};

int dispatch_commands(struct CommandEntry *commands, int num_commands,
                      const char *name, double param)
{
    /* loop over the arguments, look for a CommandEntry with a matching name,
       convert its parameter and then call it */
    int i;
    for (i = 0; i < num_commands; ++i) {
        if (!strcmp(commands[i].name, arg))
            return commands[i].*function(param);
    }
    return -1;
}

struct CommandEntry commands[] = {
    {"rotate", &my_rotate_func},
    {"move", &my_translate_func}
}; 
```

这假设所有命令都采用 type 的单个参数`double`，当然......如果你所有的命令都是同质的，你可以让它工作。否则，您需要指定每个参数的数量`CommandEntry`（并传递一个数组，因为函数类型仍然需要相同），或者为每个命令函数提供整个传入令牌流，并允许它作为许多令牌随心所欲。

# r - 是否可以在 R install.packages 中定义包的版本？

> ID：12670162
> 
> 赞同：10
> 
> 时间：2012-10-01T08:55:19.820
> 
> 标签：r

我知道您可以下载旧软件包并使用

```
R CMD INSTALL package-version.tar.gz 
```

我想知道您是否可以告诉`install.packages()`您从存储库安装特定版本，从而使您不必先找到 tar.gz。我既没有在 install.packages 的帮助条目中找到这个选项，也没有在谷歌上搜索它。如果这个选项不存在，那有什么理由吗？我只能认为并非所有 repos 都有所有版本，所以你不得不先找到版本并下载它。

SO中已经有一个[等效的问题](https://stackoverflow.com/questions/11175414/install-old-package-using-install-packages)，但问题和答案更多的是关于存储库问题，所以最后他们从未直接回答这个问题。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-01T19:08:50.707

`install.packages()`没有，但包中有一个功能`install_version()`可以`devtools`安装 CRAN 存储库中最新版本以外的版本。

# java - 无法在 REST/JERSEY 中调用 @DELETE Web 服务

> ID：12670169
> 
> 赞同：2
> 
> 时间：2012-10-01T08:55:40.717
> 
> 标签：java, web-services, rest, jersey

我正在使用 Jersey 框架（JAX-RS 实现）来构建 RESTful Web 服务。

我无法使用@DELETE REST 方法，因为当我尝试调用它时它会抛出异常。以下@DELETE 方法用于删除员工：

```
@Path("/employees")
public class EmpResource {

@DELETE
@Consumes(MediaType.APPLICATION_JSON)
public Response deleteEmployee(JAXBElement<String> r) throws ClassNotFoundException, SQLException {

    String name = r.getValue();
    String response = DAOaccess.deleteEmp(name);
    return Response.noContent().build(); 
```

}

我正在使用以下代码块来调用服务：

```
Client client = Client.create();
WebResource webResource = client.resource("http://localhost:8080/RestApp/sample/employees");
String input = "{\"name\":\"John\"}";
ClientResponse response = webResource.type(MediaType.APPLICATION_JSON).delete(ClientResponse.class,input); 
```

当我运行我的客户端时，它会引发以下异常：

```
Exception in thread "main" com.sun.jersey.api.client.ClientHandlerException: java.net.ProtocolException: HTTP method DELETE doesn't support output
at com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:151)
at com.sun.jersey.api.client.Client.handle(Client.java:648)
at com.sun.jersey.api.client.WebResource.handle(WebResource.java:680)
at com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)
at com.sun.jersey.api.client.WebResource$Builder.delete(WebResource.java:599) 
```

如果有人可以指导我如何解决它会很棒吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-11-19T15:37:27.550

这是 HTTPUrlConnection 类的实现中的 java 的错误：

[http://bugs.sun.com/view_bug.do?bug_id=7157360](http://bugs.sun.com/view_bug.do?bug_id=7157360)

它应该在java 8中解决......

同时，实际上，要将 json 发送到 REST 服务，您必须像 @Micer 所说的那样发送路径参数，或者让您自己的 HttpUrlConnection 将 requestmethod 设置为 POST 并用“X-HTTP_method-Override”覆盖它说你想要一个 DELETE 做这样的事情：

```
 public static void remove(String dflowname) throws IOException, ParseException {
    String jsonResponse = "";

    URL url = new URL(deleteuri);
    HttpURLConnection connection = null;
    connection = (HttpURLConnection) url.openConnection();
    connection.setRequestMethod("POST");
    // We have to override the post method so we can send data
    connection.setRequestProperty("X-HTTP-Method-Override", "DELETE");
    connection.setDoOutput(true);

    // Send request
    OutputStreamWriter wr = new OutputStreamWriter(
      connection.getOutputStream());
    wr.write(dflowname);
    wr.flush();

    // Get Response
    BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream()));
    String line;
    while ((line = rd.readLine()) != null) {
      jsonResponse = jsonResponse.concat(line);
    }
    wr.close();
    rd.close();

    JSONParser parser = new JSONParser();
    JSONObject obj = (JSONObject) parser.parse(jsonResponse);
    System.out.println(obj.get("status").toString());
  } 
```

来源：[https ://groups.google.com/a/openflowhub.org/forum/#!msg/floodlight-dev/imm_8drWOwU/Uu4h_u3H6HcJ](https://groups.google.com/a/openflowhub.org/forum/#!msg/floodlight-dev/imm_8drWOwU/Uu4h_u3H6HcJ)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-04T17:32:25.987

对我来说，它有助于从客户端的 delete() 方法中删除输入参数

```
ClientResponse response = webResource.type(MediaType.APPLICATION_JSON).delete(ClientResponse.class); 
```

而是通过@pathParam 发送它：

```
public String delete(@PathParam("input") String input){...} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-07-06T15:22:29.160

使用有效负载删除在 Jersey 客户端 2.xx 中工作正常

下面的客户端代码示例。

```
 public CalculateResult unoverrideSubscription(String partyId, String serviceCode) {

    CalculateResult svc = r.path("/party-subscriptions").path(partyId)
            .path(serviceCode)
            .path("price")
            .request(MediaType.APPLICATION_JSON).delete(CalculateResult.class);

    return svc;// toGenericResponse(sr);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-05-23T18:09:58.267

这似乎是因为 HttpURLConnection 类的 Java 1.7 实现中的一个错误（[https://bugs.openjdk.java.net/browse/JDK-7157360](https://bugs.openjdk.java.net/browse/JDK-7157360)）。我尝试使用 JDK1.8，它就像一个魅力。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-10-07T23:18:50.830

花了一些时间尝试确定使用 WebLogic 12 和 Sun / JRocket 1.6 当前可以工作和不能工作的内容。

错误“ProtocolException：HTTP 方法 DELETE 不支持输出”似乎有点误导。此错误不是由从 RS 返回输出引起的，而是由于尝试传入要在删除请求上处理的对象而引起的。

通过@QueryParams 传入键/标识符时，您可以接收对象...

```
@DELETE
@Path("deleteThis")
public Response deleteThis(@QueryParam("objectId") String objectId)

using

    ClientResponse response = webResource.path("deleteThis").queryParam("objectId", "1").delete(ClientResponse.class); 
```

或通过@PathParams ...

```
@DELETE
@Path("deleteThis/{objectId}")
public ReturnedObject deleteThis(@PathParam("objectId") int objectId)

using

    ReturnedObject myReturnedObject = webResource.path("deleteThis").path("1").delete(ReturnedObject.class); 
```

当您传入要用作参数的对象时会产生此错误

```
@DELETE
@Path("deleteThis")
public Response deleteRuleSettingTest(ArgumentObject myObject)

using

ArgumentObject myArgumentObject = ...
ClientResponse response = webResource.path("deleteThis").delete(ClientResponse.class, myArgumentObject); 
```

此外。查看了 sun.net.www.protocol.http.HttpURLConnection 类的源代码。当方法不是 PUT 或 POST 但仅当协议为“http”时会产生此错误。启用并将我的客户端指向容器上的安全端口，最后一个示例（导致异常的示例）成功运行。让我想知道这是否真的像一些人所建议的那样是一个 java 错误。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-09-22T08:56:42.497

您必须为所有类型的请求创建一个过滤器

```
<filter>
    <filter-name>CorsFilter</filter-name>
    <filter-class>org.apache.catalina.filters.CorsFilter</filter-class>
    <init-param>
        <param-name>cors.allowed.origins</param-name>
        <param-value>*</param-value>
    </init-param>
    <init-param>
        <param-name>cors.allowed.methods</param-name>
        <param-value>GET,POST,HEAD,OPTIONS,PUT,DELETE</param-value>
    </init-param>
</filter>
<filter-mapping>
    <filter-name>CorsFilter</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-01T09:08:52.847

正如错误所说，

> HTTP 方法 DELETE 不支持输出

因此，您必须将方法的签名更改为

```
public Response deleteEmployee(...) 
```

在方法中不返回 a`String`但例如

```
return Response.noContent().build(); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-10-01T13:19:06.377

方法的返回类型`@DELETE`应该是`void`. 你不能退回任何东西。成功后，响应状态可以是[200 或 204](https://stackoverflow.com/questions/2342579/http-status-code-for-update-and-delete)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-07-22T21:08:04.020

我通常像 void 一样使用 DELETE：

```
@DELETE
@Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})
@Path("/")
public void deleteSomeBean(@QueryParam("id") String id) throws Exception 
```

在客户端：

```
webResource.path(SERVICE_PATH).queryParam("id", someBean.getId()).delete();gith 
```

喜欢这里：[TemplateRestService](https://github.com/azee/template-api/blob/master/template-rest/src/main/java/com/mycompany/template/api/SomeBeanRestService.java)

在这里：[TemplateServiceRestTest](https://github.com/azee/template-api/blob/master/template-rest/src/test/java/com/mycompany/template/api/SomeBeanRestTest.java)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-08-27T09:51:22.820

我确实遇到了与 Java 1.7 相同的问题。它适用于 JDK1.8

# mysql - 自研Delphi SMTP Relay Server高可用？

> ID：12670171
> 
> 赞同：0
> 
> 时间：2012-10-01T08:55:45.607
> 
> 标签：mysql, delphi, queue, high-availability

我想知道为每秒需要处理 30-100 封电子邮件的自研 SMTP 中继服务器实现高可用性的最佳方法是什么。

该服务器本质上是通过各种 smtp 客户端进行身份验证，然后中继到特定的邮件服务器并处理错误，例如邮件服务器不可用等。因此，需要一个队列来包含可能包含大附件的电子邮件消息。为了实现高可用性，系统应该支持集群，我可以将 Windows Clustering 用于主/从活动集群。

我认为电子邮件队列可以驻留在：

1.  内存（由于明显的原因，此方法已失效。）
2.  关系管理系统
3.  文件（我相信这是 IIS 虚拟 SMTP 使用的？）
4.  嵌入式数据库，例如 SQLite
5.  SQLite 和文件的混合
6.  一些需要安装和配置的奇特的 3rd 方 Queue 产品？

实现高可用性的常用方法是使用 RDBMS，例如 MySQL，但是除非我拥有强大的 MySQL 服务器，否则将 RDBMS 用于消息队列会显着降低性能。最重要的是，我将不得不实现 MySQL 集群，这并不容易。另外，我在某处读到没有人应该使用 MySQL 作为队列 - [http://www.engineyard.com/blog/2011/5-subtle-ways-youre-using-mysql-as-a-queue-and-why -它会咬你/](http://www.engineyard.com/blog/2011/5-subtle-ways-youre-using-mysql-as-a-queue-and-why-itll-bite-you/)

或者，我可以使用 SQLite+File，这可能是最快的（除了纯内存）和最容易部署的方法（无需安装），但是 SQLite 没有集群，所以如果服务器崩溃，未发送的消息可能仍然是丢失。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T10:28:43.660

2 和 4 是同一个东西 - RDBMS。这是一个糟糕的选择，因为 RDBMS 是针对复杂查询的，并且必须及时维护自身。收集垃圾，重建索引，增长数据库文件......任何时候下一次 INSERT 都会很慢甚至完全被阻塞一段时间。即使在 Firebird 和 Postgress 等基于版本的引擎中也是如此。像 MS SQL 和 SQLite 这样的基于锁的情况更是如此。

如果您希望它可靠，那么您可能会将其实现为几个窄任务工作者，这也将使您受益于使用 OmniThraLibrary 或 AsyncCalls 的多线程。

“接收器”工作人员应该将邮件接收到内存缓冲区中，也许会提取一些元数据表单标题并将其存储到当前接收队列中。由于 Win32 线程很昂贵，最好让一个线程同时处理多个套接字，这是 Erlang/Scala 的“演员”框架。您甚至可以将一些线程移动到单独的 exe 中，例如 qmail 设计的，以使崩溃本地化。将来甚至可以跨计算机集群。

“Dumper”会采用一个孤立的队列并将其转储到一个连续的非 SQL 文件中（由于 HDD 颠簸 data-filesystem-data-filesystem-...，您不想要单独的文件），然后他会切换队列：隔离上述接收队列以进行转储，并将其替换为刚刚清空的队列。“有两个队列并切换它们”是一种常见的“页面翻转”特性，例如在 3D 游戏中使用。TForm.DoubleBuffering 是类似但简化的概念。顺便说一句，您还应该有两个包含这些文件的文件夹，例如上面的内存队列。

“dbkeeper”将类似地获取文件转储之一，将其移动到 RDBMS 中，然后进行切换。

您必须围绕这些切换活动设置这些工作人员之间的通信。每个队列要么接收，要么转储，最小化并发访问（频率和寿命）。

您可能会阅读有关 mailinator 设计的信息 - 它的维护者在跨过一个或另一个瓶颈后几次重构了他的软件，这也可以让您估计这些瓶颈何时开始影响性能。

* * *

但实际上，为什么不使用一些现成且经过测试的服务器呢？

# reporting-services - 在 SSRS 2008 的 Switch 表达式中使用 AND

> ID：12670173
> 
> 赞同：2
> 
> 时间：2012-10-01T08:55:52.307
> 
> 标签：reporting-services, switch-statement, ssrs-2008, ssrs-expression

下面是我在 Color `Expression`in 中`SSRS 2008`用于更改文本颜色的代码。

```
=Switch(Fields!DistanceFromOutlet.Value > 500, "Red",
Fields!DistanceFromOutlet.Value < 250, "White") 
```

如果 DistanceFromOutlet.Value > 250 且 < 500 一定是橙色，我该怎么说？

所以**红字**多为`500`。

**`250`和之间的**橙色**文本`500`。**

 **和**白色**文本小于`250`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T06:48:30.000

Switch 函数是从左到右评估的，因此您可以这样做：

```
=Switch(Fields!DistanceFromOutlet.Value <=250, "White", Fields!DistanceFromOutlet.Value <= 500, "Orange", Fields!DistanceFromOutlet.Value > 500, "Red") 
```

我怀疑你试图这样做是行不通的：

```
Fields!DistanceFromOutlet.Value > 250 and < 500 
```

如果您将其更改为显式，那将起作用：

```
Fields!DistanceFromOutlet.Value > 250 and Fields!DistanceFromOutlet.Value < 500 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T08:58:30.410

嵌套两个`IIf`s：

```
=IIf(Fields!DistanceFromOutlet.Value > 500, "Red", IIf(Fields!DistanceFromOutlet.Value < 250, "White", "Orange")) 
```**

# google-analytics - 在谷歌分析中设置子域包括过滤器

> ID：12670174
> 
> 赞同：0
> 
> 时间：2012-10-01T08:55:53.633
> 
> 标签：google-analytics, subdomain

我正在尝试在谷歌分析中设置一个子域包含过滤器。我对如何为我的子域编写过滤器模式感到有些困惑，该子域将是 www.somesite.com/de

所有的教程都显示它是这样设置的：sub1.website.com。但我的网址结构不同。我在这里错过了任何帮助吗？

这是我要设置的屏幕：

![包含子域过滤器设置屏幕](../Images/a7c966388a2508c25faf99dabf54bdd4.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T21:31:15.593

您需要两个单独的过滤器来完成此操作。

*   **主机名**：请求页面的完整域名。例如：对于[http://www.google-analytics.com/requestURL/index.html?sample=text](http://www.google-analytics.com/requestURL/index.html?sample=text)，主机名是 www.google-analytics.com

![主机名过滤器](../Images/aa331832b14fffa245f9cc495e9a12a7.png)

*   **请求 URI**：包括相对 URL，或主机名后面的部分 URL。例如：对于[http://www.google-analytics.com/requestURL/index.html?sample=text](http://www.google-analytics.com/requestURL/index.html?sample=text)请求 URI 是 /requestURL/index.html?sample=text

![请求 URI 过滤器](../Images/0d436650cbfe7324f0e343c135eb8c70.png)

来源：[自定义过滤器字段](http://support.google.com/analytics/bin/answer.py?hl=en&answer=1034380)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-01T09:27:58.220

这里的混淆是使用的术语。当我们的开发人员为我们不同国家的网站使用子目录时，我被要求设置子域跟踪。

我现在已经在每个子目录上设置了过滤器。这是一个过滤器示例，仅包含到子目录 /at 的流量

![子目录过滤器](../Images/105480771d0035e1a327f38e3e69c94e.png)

# cross-browser - 访问第三方内容 - iFrame、签名的小程序，什么？

> ID：12670177
> 
> 赞同：0
> 
> 时间：2012-10-01T08:56:13.050
> 
> 标签：cross-browser, browser

我想构建一个应用程序（一个演示，没有恶意），它将执行以下操作：

*   用户收到一个 URL：`http://experiment.com/?url=destination.com`
*   用户在浏览器（任何浏览器）中打开 URL
*   **浏览器输入链接，使用用户的浏览器设置、cookie 等**加载应用程序。`destination.com`
***   应用程序保存（无论如何：用户端，服务器端）`destination.com`呈现给用户的内容**

 **在一个完美的示例案例中，我想加载 iFrame 并稍后访问框架的内容。虽然，我知道它违反了[同源政策](http://en.wikipedia.org/wiki/Same_origin_policy)。应用程序可以是服务器端或客户端（如具有完全权限的签名小程序或 JS），尽管它应该是跨浏览器和跨平台的。

我想过一个浏览器扩展，但它不是跨浏览器。另一种选择是让 Java 小程序请求`destination.com`URL，但小程序将无法访问`destination.com`cookie...请注意，我不一定需要访问第 3 方 cookie，我只需要使用加载内容饼干。

这里有什么好主意吗？

**编辑**：

*   假设您拥有用户的完全权限（“合法”权限和授予应用程序的权限）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:11:04.837

简单的回答：这是不可能的：cookies 位于客户端，每个站点只能访问它自己的 cookie。

这意味着：您列表中的前 3 点是可行的。

最后一点只能通过监控客户端机器上的网络流量来完成，这首先不是那么容易，其次：显然是非法的，未经用户许可。

当然，您可以尝试在客户端计算机上运行一个程序，该程序读取浏览器 cookie 目录并监视数据，但这又是非法的。

请问你需要这个做什么？

问候

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:44:57.160

如果只需要destination.com 呈现给用户的内容，可以使用[DOM](http://de.selfhtml.org/javascript/index.htm)

阅读呈现给用户的 html。

```
window.frames[1] 
```

如果只有 1 个 iFrame，此代码应该让您参考页面上的 iFrame。**

# javascript - 如何在asp.net mvc中参考第一个文本框的输入添加另一个文本框

> ID：12670182
> 
> 赞同：0
> 
> 时间：2012-10-01T08:56:22.300
> 
> 标签：javascript, html, asp.net-mvc, asp.net-mvc-3

在 mvc 3 中选择“next”选项后如何重复文本框，然后将输入的所有整数值添加到这些文本框中。

假设我在一个文本框中输入了 5，然后如何自动打开另一个文本框要求下一个输入等等......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:02:16.240

在代码中添加文本框，然后隐藏 exept

在`lostfocus`第一个文本框的事件激活第二个，依此类推

在其中使用 java 脚本（以获得最佳效果）

看到[这个](http://www.mkyong.com/jquery/how-to-add-remove-textbox-dynamically-with-jquery/)它会帮助你

# javascript - Three.js 天空盒纹理问题

> ID：12670183
> 
> 赞同：3
> 
> 时间：2012-10-01T08:56:27.257
> 
> 标签：javascript, webgl, three.js

我正在尝试使用 Three.js 创建一个简单的 Skybox，但遇到了我应用于立方体的纹理的问题，该纹理只能在外部工作，而不是在立方体内部显示。

这是我的天空盒代码：

```
var path = assetPath + skyboxPrefix;
var urls = [ path + 'alpine_front.jpg',
             path + 'alpine_back.jpg',
             path + 'alpine_left.jpg',
             path + 'alpine_right.jpg',
             path + 'alpine_top.jpg' ];

var cubeTexture = THREE.ImageUtils.loadTextureCube( urls );

var shader = THREE.ShaderUtils.lib["cube"];
shader.uniforms["tCube"].texture = cubeTexture;

var skyboxMaterial = new THREE.ShaderMaterial( {
    uniforms        : shader.uniforms,
    fragmentShader  : shader.fragmentShader,
    vertexShader    : shader.vertexShader,
    depthWrite      : false
} );

var skyboxGeom = new THREE.CubeGeometry( 10000, 10000, 10000 );

skybox = new THREE.Mesh( skyboxGeom, skyboxMaterial );
skybox.flipSided = true;

scene.add(skybox); 
```

这是一个现场版本[http://projects.harrynorthover.com/landscape/src/](http://projects.harrynorthover.com/landscape/src/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T11:07:13.513

`object.flipSided`从 r50 开始就消失了。它被替换为`object.material = THREE.BackSide`. 检查[使用相同功能的更新示例](http://mrdoob.github.com/three.js/examples/webgl_materials_cubemap.html)以及此[迁移](https://github.com/mrdoob/three.js/wiki/Migration)页面在这种情况下应该很方便。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:11:20.760

我还在其他示例中看到了“flipSided”开关，但没有让它工作（可能已经过时）。对我有用（带球体）的是设置负比例：

```
skybox.scale.x = -1; 
```

# jquery - Jquery datepicker 显示流氓弹出窗口

> ID：12670189
> 
> 赞同：1
> 
> 时间：2012-10-01T08:57:10.543
> 
> 标签：jquery, datepicker

此问题似乎仅在 Chrome 中发生。

我正在使用 jquery datepicker 函数来设置几个默认日期，但是一旦对话框打开，我会在屏幕的左上角弹出一个“默认”日期选择器日历，没有月份，标题栏不存在对于弹出窗口之一。如果我现在选择以下任一日期选择器，流氓日期选择器就会消失。

如果我删除默认的日期行，那么我不会得到我的流氓日期选择器

```
$('#fromdate').datepicker("setDate", '-6M');
$('#todate').datepicker("setDate", new Date()); 
```

# vba - 如何将在 Word 2007 中键入的文本的突出显示颜色切换为黄色？

> ID：12670190
> 
> 赞同：0
> 
> 时间：2012-10-01T08:57:10.230
> 
> 标签：vba, formatting, ms-word, office-2007

在 MS Word 2007 的 VBA 宏中，我想将文本突出显示颜色切换为黄色，以便在光标位置输入下一个文本。

如果我想更改当前选定文本的颜色，我可以这样做 `Selection.Range.HighlightColorIndex = wdYellow`

但这似乎只有在文本已经存在并被选中时才有效。我还可以将要插入光标位置的文本的突出显示颜色设置为黄色吗？

（例如，如果我点击“粗体”按钮，所有未来的文本都将是粗体，但这似乎不适用于突出显示功能，或者有没有办法做到这一点？）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:12:12.470

> 以后的所有文字都会加粗

不，不会的。通过单击`bold`，您将文本中的当前点标记为粗体，如果您从该点继续键入，文本将变为粗体，因为它是从粗体位置键入的，而不是因为按下了按钮。如果单击`bold`，将插入符号移动到其他位置并键入，它不会是粗体。

正确的方法是插入文本并将格式应用于其范围。

```
Dim r As Range
Set r = Selection.Range

r.Collapse wdCollapseStart
r.InsertAfter "Text to insert"
r.HighlightColorIndex = wdYellow 
```

# java - Java中的MongoDB查询，在嵌套对象中搜索/查找

> ID：12670195
> 
> 赞同：4
> 
> 时间：2012-10-01T08:57:27.597
> 
> 标签：java, mongodb, object, nested

我在 MongoDB 上使用 Java 进行查询时遇到了一些麻烦。

我在数据库中有以下结构：

```
 {
              "_id" : ObjectId("5059c214707747cbc5819f6f"),
              "id" : "7",
              "title" : "test4",
              "keywords" : "keyword 1, keyword 2",

              "partner" : {
                "id" : "1",
                "name" : "partner",
                "keywords" : "partner keyword 1, partner keyword 2"
              },
              "status" : {
                "id" : "0",
                "name" : "Expired"
              },

              "modified" : "2012-09-27"
            } 
```

我想查询数据库中的字段“Status.name”，例如 SELECT * FROM table WHERE status.name = 'Expired'

我将如何在 Java 中为 MongoDB 进行这样的查询？

感谢您的任何帮助或建议！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-01T09:26:32.893

这是一个例子：

```
import com.mongodb.Mongo;
import com.mongodb.DBCollection;
import com.mongodb.BasicDBObject;
import com.mongodb.DBCursor;
import com.mongodb.DB;

public class MongoTest {

    public static void main(String[] args) throws Exception {

        // connect to the local database server
        Mongo m = new Mongo();

        DB db = m.getDB( "test" );

        DBCollection coll = db.getCollection("test");

        // delete all the data from the 'test' collection
        coll.drop();

        // make a document
        BasicDBObject doc = new BasicDBObject();

        doc.put("id", 7);
        doc.put("title", "test4");
        doc.put("modified", "2012-09-27");

        BasicDBObject status = new BasicDBObject();

        status.put("id", "1");
        status.put("name", "Expired");

        doc.put("status", status);

        // insert
        coll.insert(doc);

        BasicDBObject query = new BasicDBObject("status.name", "Expired");

        //  run the query and print the results out
        DBCursor cursor = coll.find(query);

        try {
            while (cursor.hasNext()) {
                System.out.println(cursor.next());
            }
        } finally {
            cursor.close();
        }

        m.close();
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-01T09:16:58.377

MongoDB 使用“匹配对象”作为查询。所以要找到`status.name`等于“过期”的对象，你可以像这样喂一个对象：

`{ "status.name": "Expired" }`

在 Java 中，您需要创建一个`DBOjbect`与上述类似的对象以用作匹配项（返回...与匹配对象匹配的所有内容）并将其作为查询发送到数据库。假设您将从 Java 连接到 MongoDB，请使用[find](http://api.mongodb.org/java/current/com/mongodb/DBCollection.html#find%28com.mongodb.DBObject%29) -方法来执行您所追求的查询。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-04-03T02:15:37.400

使用 MongoDB Java Driver v3.2.2，您可以执行以下操作：

```
FindIterable<Document> iterable = collection.find(Document.parse("{\"status.name\": \"Expired\"}")); 
```

`status.name`这将返回嵌套字段中包含“过期”的所有文档。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-03T09:30:22.847

```
BasicDBObject query = new BasicDBObject();

List<BasicDBObject> ob = new ArrayList<BasicDBObject>();

ob.add(new BasicDBObject("status.name", "Expired"));

List<BasicDBObject> foundDocument =   table.find(query)into(new ArrayList<BasicDBObject>());

for (int i = 0; i < foundDocument.size(); i++) {

System.out.println(foundDocument.get(i));
} 
```

这将打印所有状态为“已过期”的行

# ios - Xcode 4.5 中的 iOS 代码覆盖率中断？

> ID：12670204
> 
> 赞同：9
> 
> 时间：2012-10-01T08:58:17.037
> 
> 标签：ios, code-coverage, xcode4.5

我正在尝试在 Xcode 4.5 中设置代码覆盖率。为此，我打开了 Generate Test Coverage Files 和 Instrument Program Flow 以进行调试设置。根据[http://meandmark.com/blog/2012/08/xcode-4-generating-code-coverage-files-with-llvm/](http://meandmark.com/blog/2012/08/xcode-4-generating-code-coverage-files-with-llvm/)这就是你所需要的。但是，现在链接器抱怨它找不到：

*   _llvm_gcda_emit_arcs
*   _llvm_gcda_emit_function
*   _llvm_gcda_end_file
*   _llvm_gcda_increment_indirect_counter
*   _llvm_gcda_start_file

我试图找到 libprofile_rt.dylib，但它似乎不再存在。生成代码覆盖率文件还需要什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-04T18:58:11.263

在目标构建设置下（一定要全选）

放：

*   苹果 LLVM 编译器
    *   仪器程序流程：是
    *   生成测试覆盖文件：是

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-06T19:49:16.277

我也遇到了这些链接器错误。我使用 Xcode 4.2 和 4.3 看到了错误。我不确定它们是否仍然存在于 4.5 中。

为了解决这个问题，我[将此文件](https://llvm.org/svn/llvm-project/llvm/trunk/runtime/libprofile/GCDAProfiling.c)从 llvm 项目添加到我的单元测试代码项目中。为了让它在我的 Mac 上构建，我删除了 win32 和 sys 包含并将包含替换`#include "llvm/Support/DataTypes.h"`为`#include "stdint.h"`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T13:37:17.500

必须通过单元测试才能生成 gcda 文件。

# mysql - 坚持使用 ruby 和 mysql

> ID：12670207
> 
> 赞同：1
> 
> 时间：2012-10-01T08:58:26.677
> 
> 标签：mysql, ruby-on-rails, ruby

这是一个哈希，其中 mysql 列与哈希的键相关，值与哈希的值相关

```
 {:jobID=>"1", :checkoutArtificateFolder=>"/cmf/new/build/Artifacts/factory-config.xml"} 
```

现在这是我的代码，我在这里将数据插入表中

```
def write_data      
    $db_obj = # a data base object 
    table_name = table_name
    jobID = jobID
    hash_data = hash_data       

    insert = "INSERT INTO #{table_name} ("
    data = ""

    hash_data.each do|key,value|

        insert = "#{insert}" + " #{ key},"
        data = "#{data}" + "'#{ value}',"
    end

    insert = insert.chop
    data = data.chop

    query = insert + ")" + "VALUES"  + "(#{data})"
    exec = $db_obj.prepare(query)
    exec.execute

end 
```

但在数据库中，这个值（“/cmf/new/build/Artifacts/factory-config.xml”）被转换成这个（“/cmf/new/build/Artifacts/factory-config.”）

谁能帮助我并告诉我为什么会发生这种情况以及我该如何纠正？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T10:35:28.783

我猜您正在为字段 checkoutArtificateFolder 使用最多 40 个字符的 varchar 类型。增加大小或将字段类型更改为文本。

为什么不能使用 ActiveRecord 或 Datamapper 进行数据库操作，让您的生活更轻松？

# javascript - 更改日期对象的功能有问题# 没有方法“getElementByAttribute”

> ID：12670211
> 
> 赞同：0
> 
> 时间：2012-10-01T08:58:52.743
> 
> 标签：javascript, date, getelementbyid

我尝试更改 javascript 中的日期。

所以首先，实际上我有一个从数据库中选择记录的 mysql 查询。

这些记录有两个日期，一个日期称为操作，另一个日期用于验证。

实际上，脚本应该更改标准的日期，但前提是验证日期等于 0000-00-00，即认为数据库的注册无效。

所以我实际上添加了所有字段都不需要验证属性。

我尝试了下面我努力做的代码：

```
<script type="text/javascript">
function lz(x){
return x.toString().replace(/^(\d)$/,'0$1')
}

    function addday() {
        var items = new Array();
        var itemCount = document.getElementsByClassName("datepicker hasDatepicker");

            items[0] = document.getElementById("date" + (1)).value;

            items[1] = document.getElementById("date" + (2)).value;

            items[2] = document.getElementById("date" + (3)).value;

            items[3] = document.getElementById("date" + (4)).value;

            items[4] = document.getElementById("date" + (5)).value;

            items[5] = document.getElementById("date" + (6)).value;

            items[6] = document.getElementById("date" + (7)).value;

            items[7] = document.getElementById("date" + (8)).value;

            items[8] = document.getElementById("date" + (9)).value;

            items[9] = document.getElementById("date" + (10)).value;

        for (var i = 0; i < itemCount.length; i++) {
            items[i] = document.getElementByAttribute('required').value;
Uncaught TypeError: Object #<HTMLDocument> has no method 'getElementByAttribute'
            var itemDtParts = items[i].split("-");
             var itemDt  = new Date(parseInt(itemDtParts[2],10), parseInt(itemDtParts[1],10)-1, parseInt(itemDtParts[0],10)+ +nb);
            nb=document.getElementById('nb').value;

                itemCount[i].value = lz(itemDt.getDate())+"-"+lz(itemDt.getMonth()+1)+"-"+itemDt.getFullYear()
        }

       return items;
           }

</script> 
```

但我返回以下错误：

未捕获的类型错误：对象 # 没有方法“getElementByAttribute”

我不懂为什么。

生成 javascript 的代码如下：

```
<script type="text/javascript">
function lz(x){
return x.toString().replace(/^(\d)$/,'0$1')
}

    function addday() {
        var items = new Array();
        var itemCount = document.getElementsByClassName("datepicker hasDatepicker");

  <?php  $sql2 = "SELECT * FROM agenda WHERE n_doss='".mysql_real_escape_string($_GET['n_doss'])."' AND qualite='".mysql_real_escape_string($_GET['qualite'])."' AND liasse='".$_GET['liasse']."' AND `date_validation`='0000-00-00' ORDER BY `date_action` ASC" ;
  $rules2=mysql_query($sql2) ; $i2=0;
  while($data2=mysql_fetch_assoc($rules2)) {?>

            items[<?php echo $i2 ; ?>] = document.getElementById("date" + (<?php echo ++$i2 ; ?>)).value;

<?php }?>

        for (var i = 0; i < itemCount.length; i++) {
            items[i] = document.getElementByAttribute('required').value;
            var itemDtParts = items[i].split("-");
             var itemDt  = new Date(parseInt(itemDtParts[2],10), parseInt(itemDtParts[1],10)-1, parseInt(itemDtParts[0],10)+ +nb);
            nb=document.getElementById('nb').value;

                itemCount[i].value = lz(itemDt.getDate())+"-"+lz(itemDt.getMonth()+1)+"-"+itemDt.getFullYear()
        }

       return items;
           }

</script> 
```

我用这个微表格来执行这个功能

```
<input type="button" value="( - )" width="22" height="22" onClick="subday()" />
                  <input name="jours" type="text" value="" size="5" id="nb" />
                  <input type="button" value="( + )" width="22" height="22" onClick="addday()"  /> 
```

接受我最大的尊重。

亲切的问候。

SP。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:07:30.280

除非您自己制作，否则没有 getElementByAttribute 这样的东西

XUL 有一个 [getElementsByAttribute](https://developer.mozilla.org/en-US/docs/XUL/Method/getElementsByAttribute)但不适用于普通 JS AFAIK

也许你想这样做？

```
function addday() {
  var items = document.getElementsByClassName("datepicker hasDatepicker");
  for (var i = 0; i < items.length; i++) {
    if (items[i].getAttribute('required')) {
      var itemDtParts = items[i].value.split("-");
      var itemDt  = new Date(parseInt(itemDtParts[2],10), parseInt(itemDtParts[1],10)-1, parseInt(itemDtParts[0],10)+ +nb);
      items[i].value = lz(itemDt.getDate())+"-"+lz(itemDt.getMonth()+1)+"-"+itemDt.getFullYear()
    }
  }
} 
```

# matlab - 在 Matlab 中生成具有固定顺序先前元素的逐步排列

> ID：12670213
> 
> 赞同：3
> 
> 时间：2012-10-01T08:58:55.060
> 
> 标签：matlab, permutation

我想一步一步地对数字进行排列，首先决定是否`[1 2]`或`[2 1]`，然后如果`[2 1]`被接受，则决定`3`ie的位置

```
[3 2 1] or [2 3 1] or [2 1 3]. 
```

换句话说，在每一步中，前几位的位置是固定的（`[2 1]`固定的）。如何在每个步骤中生成这样的排列？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:45:48.383

你可以试试这个：

```
n = 10; % intended length of result    
result = 1;
for k = 2:n
    id = randi(k);
    result = [result(1:id-1) k result(id:end)];
end 
```

# java - 如果调用 select()，Vaadin ComboBox 总是显示前一个值

> ID：12670217
> 
> 赞同：4
> 
> 时间：2012-10-01T08:59:23.437
> 
> 标签：java, gwt, combobox, vaadin

我有一个自定义组合框，当用户键入时，值是从 Web 服务加载的。如果没有找到值，我想将组合框重置为空值。但是，如果组合框已使用某些预选值初始化，则此方法不起作用。如果我调用comboBox.select("") 甚至comboBox.setValue(null)，则会显示先前的预选值，即使我调用removeAllItems。对我来说，这听起来像是一个组合框错误，但也许有人知道解决方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T10:27:30.787

`comboBox.setValue(null)`应该可以工作，只需确保将组合框设置为立即 ( )`comboBox.setImmediate(true)`并且不要将空选择 id 指定为某些东西（例如：`comboBox.setNullSelectionItemId("null")`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-10-11T12:27:02.943

也许是浏览器从其内存中填充输入？尝试清理缓存并形成记录值。

# java - 得到以下struts tile错误

> ID：12670222
> 
> 赞同：0
> 
> 时间：2012-10-01T08:59:36.930
> 
> 标签：java, jakarta-ee, tomcat, struts2

在 tomcat 5.5 上部署我的应用程序时出现以下错误，请告知如何解决此问题。

```
SEVERE: Error configuring application listener of class org.apache.struts2.tiles.StrutsTilesListener
java.lang.ClassNotFoundException: org.apache.struts2.tiles.StrutsTilesListener
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1438)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1284)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3743)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4252)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:736)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)
    at org.apache.catalina.core.StandardService.start(StandardService.java:448)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:700)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:552)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)
Oct 1, 2012 2:26:51 PM org.apache.catalina.core.StandardContext listenerStart 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T11:27:49.920

To run tiles successfully in strut2 you need to

see your configuration in **web.xml**

```
<listener>
    <listener-class>org.apache.struts2.tiles.StrutsTilesListener</listener-class>
</listener> 
```

add the proper jars see [here](http://mvnrepository.com/artifact/org.apache.struts/struts2-tiles-plugin/2.2.1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:04:49.250

您只需要将类**org.apache.struts2.tiles.StrutsTilesListener**的相应 jar 文件放在您的类路径中。

你可以从[这里](http://www.jarfinder.com/index.php/java/info/org.apache.struts2.tiles.StrutsTilesListener)得到它。

# axapta - 填充临时表的最快 X++ 代码

> ID：12670232
> 
> 赞同：2
> 
> 时间：2012-10-01T09:00:05.073
> 
> 标签：axapta, temp-tables, x++

我需要在 InventTrans 上循环以累积某些日期的 itemId 数量，并使用该临时表作为数据源以表格形式填充临时表。我使用了一个类，并且 itemId 的过程很长（大约 5-10 秒）。

哪个代码最快？

1.  使用执行该过程的类
2.  临时表上的方法
3.  使用调用者表单上的按钮 clicked() 处理

如何改进我的代码？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-01T10:48:07.700

由于您没有显示您的代码，因此对其进行改进纯粹是推测性的。

我会完全排除第 3 个；将业务逻辑放在单击的方法中不是一种选择。

需要考虑的事项：

*   客户端/服务器：更喜欢将逻辑和数据访问放在服务器端，`server`在表方法或类静态方法上使用关键字（或使用类属性）。避免回调客户端获取参数等。
*   数据访问：考虑索引使用，在选择中使用字段列表等。
*   事务：在主循环外使用 ttsbegin/ttscommit，即使是临时表也可以加快磁盘访问速度。
*   TempDB 表：在 AX 2012 中，考虑使用填充了`insert_recordset`.
*   如果可能，请避免使用临时表：在您的情况下，该`InventSum`表可能已经为您准备好了数据。在 select 中使用关键字，在table`sum`上结合 join 。`InventDim`考虑做一个艰苦的工作。这将使 SQL 服务器进行计算，这通常会导致性能提高两位数。

长查询？在您的用户设置中启用长查询的 SQL 日志记录。

时间花在什么地方？使用代码分析器。

# c# - 静态类的线程安全

> ID：12670233
> 
> 赞同：4
> 
> 时间：2012-10-01T09:00:15.630
> 
> 标签：c#, multithreading, static-methods

我想用 c# 在我的 windows 应用程序中创建自己的事件系统。为此，我编写了以下类：

```
internal class EventManager
{
    private static List<EventRecord> s_listEvents = new List<EventRecord>();

    public static void AddEvent(EventRecord record)
    {
        record.EventDate = DateTime.Now;
        s_listEvents.Add(record);
    }

    public static List<EventRecord> GetRecordsByDate(DateTime date)
    {
        var r = (from l in s_listEvents
                 where l.EventDate >= date
                 select l).ToList<EventRecord>();
        return r;
    }
} 
```

我想确保 EventManager 类是线程安全的。因为我要在我的应用程序中同时创建数百个线程。所有线程很可能会使用这个类来生成事件。并且在从不同线程调用函数`GetRecordsByDate`时，可能会从类外部调用函数。 简单地说，你能告诉我这种设计适合多线程windows应用程序吗？如果这不是线程安全的，那么我怎样才能使我的类或其成员线程安全？我应该使用同步对象来锁定整个类还是应该使用 readwritelocker 来锁定我的静态成员？`AddEvent`

`EventManager``s_listEvents`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:05:15.363

而不是使用`List<T>`，你应该使用`ConcurrentBag<T>`。

> ConcurrentBag 是一个线程安全的包实现，针对同一线程将同时生产和使用包中存储的数据的场景进行了优化。

更多信息：

[http://msdn.microsoft.com/en-us/library/dd381779.aspx](http://msdn.microsoft.com/en-us/library/dd381779.aspx)

此外，请注意创建要访问的线程数，超过 100 个线程*会*降低性能，因为切换上下文需要时间。

*编辑：*对于 .NET 3.5，您可以使用简单的方法使线程安全`lock`

```
internal class EventManager
{
    private static List<EventRecord> s_listEvents = new List<EventRecord>();
    private static object _syncObject = new object();

    public static void AddEvent(EventRecord record)
    {
        record.EventDate = DateTime.Now;
        lock(_syncObject)
        {
           s_listEvents.Add(record); 
        }

    }

    public static List<EventRecord> GetRecordsByDate(DateTime date)
    {
        lock (_syncObject)
        {
             var r = (from l in s_listEvents
                 where l.EventDate >= date
                 select l).ToList<EventRecord>();

             return r;
        }

    }
} 
```

**编辑**：

根据您的情况，如果您*非常频繁地*读取数据，那么对于整个应用程序使用`ReaderWriterLockSlim`with`ReaderWriterLock`会更好，因为它允许多个线程读取数据。

如果没有，请使用`lock`通常具有更好性能的。

见链接：

[http://blogs.msdn.com/b/pedram/archive/2007/10/07/a-performance-comparison-of-readerwriterlockslim-with-readerwriterlock.aspx](http://blogs.msdn.com/b/pedram/archive/2007/10/07/a-performance-comparison-of-readerwriterlockslim-with-readerwriterlock.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T09:04:49.733

由于该类是静态的，因此您应该锁定 s_listEvents 成员。调用者很有可能无法访问共享锁对象，除非您将锁作为 EventManager 本身（或任何其他静态类）上的静态成员提供。如果是这种情况，您不妨`s_listEvents`直接在 EventManager 中实现访问锁定。这样可以避免调用者忘记获取锁的问题。

读/写锁似乎是一个不错的选择。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-01T09:14:22.230

您可以使用[ReaderWriterLock](http://msdn.microsoft.com/ru-ru/library/system.threading.readerwriterlock.aspx)类：

```
internal class EventManager
{
    static ReaderWriterLock rwl = new ReaderWriterLock();

    private static List<EventRecord> s_listEvents = new List<EventRecord>();

    public static void AddEvent(EventRecord record)
    {
        record.EventDate = DateTime.Now;
        rwl.AcquireWriterLock(0);
        try
        {
            s_listEvents.Add(record);
        }
        finally
        {
            rwl.ReleaseWriterLock();
        }
    }

    public static List<EventRecord> GetRecordsByDate(DateTime date)
    {
        rwl.AcquireReaderLock(0);
        try
        {
            var r = (from l in s_listEvents
                     where l.EventDate >= date
                     select l).ToList<EventRecord>();
            return r;
        }
        finally
        {
            rwl.ReleaseReaderLock();
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-01T09:30:08.917

您的问题的最基本答案如下：为了使您的解决方案线程安全，您必须保护您的数据存储不被同时访问。这是通过在访问列表的任何时候锁定您的列表来完成的。这意味着当您对列表进行迭代、添加或删除时，您必须锁定该区域。

即使您正在访问该数量的服务器，您可能也不想生成 100 多个线程，而是您可能想要使用线程池，请参阅[http://msdn.microsoft.com/en-us/library/0ka9477y(v =vs.90).aspx](http://msdn.microsoft.com/en-us/library/0ka9477y(v=vs.90).aspx)了解详情。这将为您提供一个线程池，用于简单的“签入 - 下载数据 - 签出”任务，例如您正在描述的任务。

在编写多线程应用程序时，考虑底层存储的使用模式很重要。如果您的应用程序每秒将执行数百次添加，您可能需要考虑拥有一个底层数据结构的只读副本，这样您就不会在每次尝试按日期获取记录时阻塞整个系统。详细介绍见[英特尔优化指南](http://software.intel.com/en-us/articles/intel-guide-for-developing-multithreaded-applications)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-01T09:14:46.457

以下链接将很有用：

[如何使类线程安全](https://stackoverflow.com/questions/1344025/how-to-make-a-class-thread-safe)

```
private object _lock;

public static void AddEvent(EventRecord record)
{
    lock (_lock)
    {
        record.EventDate = DateTime.Now;
        s_listEvents.Add(record);
    }
} 
```

# c# - Winform TextBox HideSelection 和 GotFocus

> ID：12670236
> 
> 赞同：1
> 
> 时间：2012-10-01T09:00:23.370
> 
> 标签：c#, winforms, textbox

谁能告诉我为什么以下两个代码有不同的行为？第一个代码将调用 Textbox`GotFocus`事件，而第二个代码在执行后不会调用该`GotFocus`事件`lostfocus`。供您参考，`HideSelection`最初设置为 false 以在第一时间突出显示所有文本框。

```
private void textBox_LostFocus(object sender, EventArgs e)
{
    foreach (TextBox item in this.textbox)  //got 3 text box,
    {
        if (item.Focused == true)
        {
             item.HideSelection = false;
             item.SelectAll();
        }
        else
             item.HideSelection = true;
} 
```

和

```
private void textBox_LostFocus(object sender, EventArgs e)
{
    foreach (TextBox item in this.textbox)  //got 3 text box,
    {                     
        if (item.Focused == true)
        {
            item.HideSelection = true;   //difference here
            item.HideSelection = false;
            item.SelectAll();
        }
        else
            item.HideSelection = true;
} 
```

# javascript - 无法在淘汰赛中进行ajax调用

> ID：12670238
> 
> 赞同：0
> 
> 时间：2012-10-01T09:00:27.803
> 
> 标签：javascript, asp.net, jquery, knockout.js, webmethod

我需要帮助在淘汰赛中提出 ajax 请求。这是我调用 webmethod 的 js 代码。

```
 // Client-side routes    
Sammy(function () {
    this.get('#:day', function() {
        self.choosenDateId(this.params.day);
        $.ajax({
            type: "POST",
            url: 'SinglePageApp.aspx/GetData',
            data: "{goalDate:'" + this.params.days + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                debugger;
                self.choosenDateGoal(msg.d);

                alert("success");
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                alert(textStatus);
                alert(errorThrown);
            }
        })
    });
}).run(); 
```

还有我用于绑定数据的 html

```
 <tbody data-bind="foreach: GetData">
            <tr data-bind="click: $root.goToGoal">
                <td data-bind="text: status"></td>
                <td data-bind="text: data"></td>
                <td data-bind="text: notes"></td>
            </tr>
        </tbody> 
```

在我的 webemthod 中，我已将 day 作为参数传递。但无法调用 webmethod。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T14:32:04.933

```
Sammy(function () {
    this.get('#:day', function() {
        self.choosenDateId(this.params.day);
        $.get("SinglePageApp.aspx/GetData", { day: self.chosenDateId() }, self.choosenDateGoal);
    });
}).run(); 
```

我认为问题在于您`this.params.day`在`$.get`通话中使用的事实。在那个函数中，我相信`this`是对 jQuery ajax XHR 上下文的引用，而不是`Sammy`上下文。

# c - C 或 nesC 中结构的语法

> ID：12670240
> 
> 赞同：0
> 
> 时间：2012-10-01T09:00:30.720
> 
> 标签：c, struct, nesc

我有一些`nesC` 代码，并且有一些结构定义，如下例所示：

```
typedef nx_struct serial_header {
  nx_am_addr_t dest;
  nx_am_addr_t src;
  nx_uint8_t length;
  nx_am_group_t group;
  nx_am_id_t type;
} serial_header_t; 
```

我不明白为什么他们在第一行写`serial_header`而在最后一行写`serial_header_t`。我想知道哪个是这个结构的实际名称，`_t`最后一行添加的意思是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:05:18.673

1）你可以假设serial_header_t等价于nx_struct serial_header，因此你可以像serial_header_t nx1一样在程序中声明变量；

注意：您不需要使用 nx_struct serial_header。

2）如果您错过 typedef 和简单的声明，如下所示，

```
nx_struct serial_header {
  nx_am_addr_t dest;
  nx_am_addr_t src;
  nx_uint8_t length;
  nx_am_group_t group;
  nx_am_id_t type;
} 
```

然后，在源代码中你应该使用如下：

```
 nx_struct serial_header nx1; 
```

希望这可以帮助。

# objective-c - 如何从 json web 服务获取数据

> ID：12670245
> 
> 赞同：0
> 
> 时间：2012-10-01T09:00:51.533
> 
> 标签：objective-c, ios, json, nsdictionary

我有一个返回大量 json 数据的 webmethod。我有一个单独的类来获取我的数据。在这堂课中，我做了以下事情。

```
+ (NSDictionary *)executeGenkFetch:(NSString *)query
{
    query = [NSString stringWithFormat:@"%@&format=json&nojsoncallback=1", query];
    query = [query stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
    // NSLog(@"[%@ %@] sent %@", NSStringFromClass([self class]), NSStringFromSelector(_cmd), query);
    NSData *jsonData = [[NSString stringWithContentsOfURL:[NSURL URLWithString:query] encoding:NSUTF8StringEncoding error:nil] dataUsingEncoding:NSUTF8StringEncoding];
    NSError *error = nil;
    NSDictionary *results = jsonData ? [NSJSONSerialization JSONObjectWithData:jsonData options:NSJSONReadingMutableContainers|NSJSONReadingMutableLeaves error:&error] : nil;
    if (error) NSLog(@"[%@ %@] JSON error: %@", NSStringFromClass([self class]), NSStringFromSelector(_cmd), error.localizedDescription);
    // NSLog(@"[%@ %@] received %@", NSStringFromClass([self class]), NSStringFromSelector(_cmd), results);
    return results;
}

+ (NSArray *)GetNieuws
{
    NSString *request = [NSString stringWithFormat:@"http://www.krcTest.be/mobile/json/request/webmethod"];
    return [[self executeGenkFetch:request] valueForKeyPath:@"news.title"];
} 
```

现在我有一个按钮可以对数据进行 NSLog。在这里，您可以看到按钮背后的操作。

```
- (IBAction)testFetch:(id)sender {
    NSArray *nieuws;
    nieuws = [GenkData GetNieuws];
    NSLog(@"%@",nieuws);

} 
```

在我的日志中总是显示这个。

> 2012-10-01 10:52:16.379 RacingGenk[13434:c07]（空）

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:26:09.030

您的端点给出了一个 DNS 错误，这可以解释为什么您没有数据，但是假设您可能已经对其进行了匿名化，那么您有很多方法可以自己调试它。

首先不要像这样将方法调用链接在一起；

```
 NSData *jsonData = [[NSString stringWithContentsOfURL:[NSURL URLWithString:query] encoding:NSUTF8StringEncoding error:nil] dataUsingEncoding:NSUTF8StringEncoding]; 
```

而是更喜欢（并特别注意您错过了一次调用的错误响应）；

```
 NSError *error = nil;
   NSURL *request = [NSURL URLWithString:query];
   NSLog(@"Outgoing Request: %@",[request description]);
   NSString *response =  [NSString stringWithContentsOfURL:request encoding:NSUTF8StringEncoding error:nil];

   if (error) { 
       NSLog(@"ERROR: Unable to get response %@",[error localizedDescription]); 
   }

   NSLog("@Synchronous Response: %@",response);

   NSData *jsonData = [response dataUsingEncoding:NSUTF8StringEncoding];
   NSDictionary *results = [NSJSONSerialization JSONObjectWithData:jsonData options:NSJSONReadingMutableContainers|NSJSONReadingMutableLeaves error:&error];

   if (error) { 
       NSLog(@"ERROR: Unable to parse JSON %@",[error localizedDescription]); 
   } 
```

通过不将您的方法调用链接在一起，您现在可以打印中间结果以查看问题所在，您也可以使用断点更好地单步执行它。

当我在这里时，将这样的方法作为类方法而不是实例方法是很奇怪的，你应该知道，像这样的同步网络使用会破坏你的 UI 性能，除非你在另一个我怀疑你不是的线程上执行它. 您可能希望查看 NSURLConnection 的异步网络方法。

当我在 PC 上键入时，我没有检查上述语法，但它应该为您指明正确的方向。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-01T09:04:05.773

我可以建议使用 AFNetworking，它可以更轻松地处理 JSON/XML 以及整体的 Web 请求。你可以在这里阅读... [https://github.com/AFNetworking/AFNetworking](https://github.com/AFNetworking/AFNetworking)

来自 GitHub 自述文件的 JSON 示例请求...

```
NSURL *url = [NSURL URLWithString:@"http://api.twitter.com/1/statuses/public_timeline.json"];
NSURLRequest *request = [NSURLRequest requestWithURL:url];
AFJSONRequestOperation *operation = [AFJSONRequestOperation JSONRequestOperationWithRequest:request success:^(NSURLRequest *request, NSHTTPURLResponse *response, id JSON) {
    NSLog(@"Public Timeline: %@", JSON);
} failure:nil];
[operation start]; 
```

# c# - 浏览 svc 文件时出现 WCF 服务错误

> ID：12670249
> 
> 赞同：1
> 
> 时间：2012-10-01T09:00:58.833
> 
> 标签：c#, wcf, web-services, iis

我创建了一个 WCF 服务，并在另一个 Windows 应用程序中添加了与服务引用相同的内容。它在那里工作正常。我创建了一个网站并将作为项目引用添加到服务中。然后，当尝试在浏览器中浏览 svc 文件时，它会在我的 ConnectionString 处引发错误。

`public SqlConnection con = new SqlConnection(ConfigurationSettings.AppSettings["TestConnection"].ToString());`

错误信息是`Exception Details: System.NullReferenceException: Object reference not set to an instance of an object.`

可能的错误是什么？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:05:26.377

在您的服务的配置文件部分中没有带有键名`TestConnection`的项。`appSettings`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T12:37:28.567

我发现了问题。由于我使用的是 Windows 和 WCF 服务，因此我也需要在服务的 web.config 中指定它。在 web.config 标签中添加`<appSettings>`标签解决了我的问题。我不确定这是否是一个正确的方法，但它确实让我脸上露出了笑容。:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:24:15.820

请检查您是否已将连接字符串放入`<AppSettings/>`或`<connectionstring>`

# r - R中Tomek链接的快速计算

> ID：12670253
> 
> 赞同：3
> 
> 时间：2012-10-01T09:01:16.990
> 
> 标签：r, machine-learning, data-mining

我想实现处理不平衡数据的tomek 链接。此代码用于二进制分类问题，其中 1 类是多数类，0 类是少数类。X 输入，Y 输出 我已经编写了以下代码，但我正在寻找一种加快计算速度的方法。

我怎样才能改进我的代码？

```
#########################
#remove overlapping observation using tomek links
#given observations i and j belonging to different classes
#(i,j) is a Tomek link if there is NO example z, such that d(i, z) < d(i, j) or d(j , z) < d(i, j)
#find tomek links and remove only the observations of the tomek links belonging to majority class (0 class).
#########################
tomekLink<-function(X,Y,distType="euclidean"){
i.1<-which(Y==1)
i.0<-which(Y==0)
X.1<-X[i.1,]
X.0<-X[i.0,]
i.tomekLink=NULL
j.tomekLink=NULL
#i and j belong to different classes
timeTomek<-system.time({
for(i in i.1){
    for(j in i.0){
        d<-dst(X,i,j,distType)
        obsleft<-setdiff(1:nrow(X),c(i,j))
        for(z in obsleft){
            if ( dst(X,i,z,distType)<d | dst(X,j,z,distType)<d ){
                break() #(i,j) is not a Tomek link, get next pair (i,j)
                } 
            #if z is the last obs and d(i, z) > d(i, j) and d(j , z) > d(i, j),then (i,j) is a Tomek link
            if(z==obsleft[length(obsleft)]){
                if ( dst(X,i,z,distType)>d & dst(X,j,z,distType)>d ){
                    #(i,j) is a Tomek link
                    #cat("\n tomeklink obs",i,"and",j)
                    i.tomekLink=c(i.tomekLink,i)
                    j.tomekLink=c(j.tomekLink,j)
                    #since we want to eliminate only majority class observations
                    #remove j from i.0 to speed up the loop
                    i.0<-setdiff(i.0,j)
                    }
                }
            }
        }
    }
})  
print(paste("Time to find tomek links:",round(timeTomek[3],digit=2))) 
#id2keep<-setdiff(1:nrow(X),c(i.tomekLink,j.tomekLink))
id2keep<-setdiff(1:nrow(X),j.tomekLink)
cat("numb of obs removed usign tomeklink",nrow(X)-length(id2keep),"\n",
    (nrow(X)-length(id2keep))/nrow(X)*100,"% of training ;",
    (length(j.tomekLink))/length(which(Y==0))*100,"% of 0 class")
X<-X[id2keep,]
Y<-Y[id2keep]
cat("\n prop of 1 afer TomekLink:",(length(which(Y==1))/length(Y))*100,"% \n")
return(list(X=X,Y=Y))
}

#distance measure used in tomekLink function
dst<-function(X,i,j,distType="euclidean"){
d<-dist(rbind(X[i,],X[j,]), method= distType)
return(d)
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-22T11:29:14.027

我没有测试你的代码，但乍一看似乎预分配会有所帮助。不要使用 i.tomekLink=c(i.tomekLink,i) 而是尝试分配内存来存储 Tomek 链接先验。

另一个想法是计算所有样本到所有样本的距离矩阵，然后只查看每个样本的最近邻居。如果它来自不同的班级，那么你有一个 tomek 链接。

# ruby-on-rails - 数据库规范化因 first_or_create 或错误分配而失败

> ID：12670254
> 
> 赞同：2
> 
> 时间：2012-10-01T09:01:17.827
> 
> 标签：ruby-on-rails, activerecord

这个问题显然是微不足道的，但我是 Rails 的新手，我不知道我哪里弄错了。我正在从旧电子表格中填充相关模型。下面是一个 rake 导入任务片段。不知何故，当位置（华盛顿）相同并且已存在于 Smith 帖子的数据库中时，为第二条记录所做的新分配`post.locations << location`会删除与 Jones 帖子的位置关联。我的想法是将同一个位置与两个人的帖子相关联。我错过了什么？

**导入.rake**

```
data = [
  { name: 'Jones',
    post: 'President',
    city: 'Washington'
  },
  { name: 'Smith',
    post: 'Vice-President',
    city: 'Washington'
  },
  { name: 'Peters',
    post: 'Janitor',
    city: 'New York'
  }
]

data.each do |row|
  name = row[:name]; post = row[:post]; city = row[:city]
  person = Person.where(name: name).first_or_create
  post = Post.where(post: post).first_or_create
  location = Location.where(city: city).first_or_create
  post.people << person
  post.locations << location
  location.save; person.save; post.save
end 
```

上面的导入导致

```
person1 = Person.find_by_name("Jones");
person1.posts.first.locations.first == nil
person2 = Person.find_by_name("Smith");
person2.posts.first.locations.first.city == "Washington"
person3 = Person.find_by_name("Peters");
person3.posts.first.locations.first.city == "New York" 
```

**位置.rb**

```
class Location < ActiveRecord::Base
  belongs_to :post
  attr_accessible :city
end 
```

**人.rb**

```
class Person < ActiveRecord::Base
  attr_accessible :name
  has_many :occupations
  has_many :posts, through: :occupations
end 
```

**post.rb**

```
class Post < ActiveRecord::Base
  attr_accessible :post
  has_many :occupations
  has_many :people, through: :occupations
  has_many :locations
end 
```

**职业.rb**

```
class Occupation < ActiveRecord::Base
  belongs_to :person
  belongs_to :post
  attr_accessible :person_id, :post_id, :since, :till
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:49:57.323

好的，如果我正确理解您的模型，那么我认为这就是问题所在...

`Location`您在(many) 和`Post`(one)之间存在一对多关联。当您说`post.locations << location`时，Rails 正在做的是找到`location`并更新它`post_id`，因此覆盖您之前拥有的任何内容。您可能想要的是多对多，这样一个帖子可以有多个位置，反之亦然。

有两种设置方法：`has_and_belongs_to_many`或`has_many :through`。后者通常更好，因为它更灵活，但现在我只展示更简单的方法：

```
class Post
  has_and_belongs_to_many :locations
end

class Location
  has_and_belongs_to_many :posts
end

create_table :posts_locations, :id => false do |t|
  t.integer :post_id
  t.integer :location_id
end 
```

当您执行类似`post.locations << location`或的操作时，连接表会自动更新为将 Post 与 Location 相关联的 ID 对`location.posts << post`。

# java - Metro 与 Java 的 JAX-WS？

> ID：12670261
> 
> 赞同：28
> 
> 时间：2012-10-01T09:01:46.043
> 
> 标签：java, tomcat, glassfish, jax-ws, java-metro-framework

Java 的 JAX-WS 和 Metro 有什么区别？它们是相同的吗？它们是两个不同的 JAX-WS 实现吗？

根据我的研究，JAX-WS 已经是 JDK 6 的一部分。但是，JAX-WS 没有附带 JDK 的标准捆绑包，所以我寻找了一个 Java EE jar。但是，Oracle 似乎没有托管已编译的 Java EE jar，而是提供了 Glassfish，它是一个 Java EE 服务器。

我能够在 Glassfish 上运行我的网络服务。Glassfish 使用什么 JAX-WS 实现？由于它托管在 Oracle 上，我假设它正在使用 Java 的 JAX-WS 实现，这应该是 JDK 1.6 的一部分？我的假设是否正确？此外，要运行基于 JAX-WS 的 Web 服务，我需要下载 JAX-WS jar。我找到了[地铁](http://jax-ws.java.net/)。但是在它的页面上，我看到 Metro 的链接是 Glassfish 的子链接。所以我现在很困惑。Glassfish 使用 Metro 吗？还是 Glassfish 使用 Java 的 JAX-WS？

Metro 和 Java 的 JAX-WS 是否相同？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-10-01T09:03:26.343

JAX-WS 是一个 API，而 Metro 是 JAX-WS API 的参考实现；两者都来自 Sun/Oracle，因此是标准的。您可以将它们视为一个接口 (JAX-WS) 和一个实现该接口的类 (Metro)，只是在更高级别。Glassfish 还使用 Metro 作为 JAX-WS 的实现。

需要注意的是，Metro 包含 JAXB 和其他 API 的实现。

此外，SOAP Web 服务在某种程度上已经过时了。新趋势是使用 REST Web 服务；JAX-RS（具有从标准 Jersey 到 Restlet 或 CXF 的各种实现）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-08-02T15:43:34.983

根据[Metro 的主页](https://javaee.github.io/metro/)，“ *Metro 由[JAX-WS](https://github.com/javaee/metro-jax-ws)参考实现项目和 Web 服务互操作性技术项目组成。* ”

Web 服务互操作性技术 (WSIT)（以前称为 Project Tango）包括以下实现：

*   基于 TCP 的 SOAP
*   WS-AtomicTransactions/协调
*   WS-元数据交换
*   WS-Policy ( [https://github.com/javaee/metro-policy](https://github.com/javaee/metro-policy) )
*   WS-ReliableMessaging
*   WS-SecureConversation
*   WS-安全
*   WS-SecurityPolicy
*   WS-Trust

查看此[答案](https://stackoverflow.com/a/9825076/3213514)以获取更多信息。

# testing - 在 Jmeter 中模拟两个用户之间的交互

> ID：12670264
> 
> 赞同：2
> 
> 时间：2012-10-01T09:01:54.083
> 
> 标签：testing, jmeter

我必须注册两个用户并模拟他们之间的交互（例如，对话）。
我可以执行以下操作：注册第一个用户，然后注册第二个用户，使用第一个用户的数据登录，向第二个用户写消息并退出。然后使用第二个用户的数据登录，回复消息并退出。
如果系统需要为用户启用 cookie，是否可以在不退出的情况下实现用户对话？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T20:52:23.770

我不明白你为什么不想退出，因为它在你的场景中。

您可以使用以下代码编写您的场景：

*   [线程组](http://jmeter.apache.org/usermanual/component_reference.html#Thread_Group)

*   [饼干管理器](http://jmeter.apache.org/usermanual/component_reference.html#HTTP_Cookie_Manager)

*   [CSV 数据集配置](http://jmeter.apache.org/usermanual/component_reference.html#CSV_Data_Set_Config)

*   [一次性控制器](http://jmeter.apache.org/usermanual/component_reference.html#Once_Only_Controller)

然后像这样组织你的 CSV：

```
 First Line : U1_LOGIN, U2_LOGIN,U1_MESSAGE,U2_MESSAGE
    Second Line : U3_LOGIN, U4_LOGIN,U3_MESSAGE,U4_MESSAGE
    ... 
```

最后像这样组织你的测试计划：

```
 CSV Data Set
     Thread Group
     \- CookieManager
     \- OnceOnlyController
        \- Register U1_LOGIN
        \- SignOut U1_LOGIN
        \- Register U2_LOGIN
        \- SignOut U2_LOGIN
     \- SignIn U1_LOGIN
     \- Write Message U1_MESSAGE
     \- SignOut U1_LOGIN
     \- SignIn U2_LOGIN
     \- Write Message U2_MESSAGE
     \- SignOut U2_LOGIN 
```

当然是草稿，添加所有必要的断言

如果您不想退出，另一种选择。创建 2 个线程组：

*   一个写的

*   一个读

这将要求您在测试前用要阅读的消息填充数据库。由您决定它是否能正确模拟您的系统。

但是您打算采用的选项在我看来是错误的，因为它对于 jmeter 是不可维护的，并且不确定它是否反映了真实的用例

# android - 在 Native Activity 中查看

> ID：12670266
> 
> 赞同：3
> 
> 时间：2012-10-01T09:01:56.833
> 
> 标签：android, android-ndk

我正在尝试在 Android NDK 中创建本机活动。我已按照以下链接 [http://developer.android.com/reference/android/app/NativeActivity.html](http://developer.android.com/reference/android/app/NativeActivity.html)中给出的步骤 进行操作OpenGL 并表现得像它。但我想通过 OpenGL 在本机活动中添加简单视图而不是全部。有什么方法可以通过 java 代码在 Native 活动中添加视图？请给我任何解决方案。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-07T21:45:40.993

基本上答案是否定的。

否 - 使用原生活动，android 框架处理原生活动的显示。所以原生活动负责初始化和绘制屏幕，​​而不是通过java代码。

是的 - 您可以在 java 中设计活动并将部分流程转换为本机代码。通过这样做，您不再实现本机活动。但仍然使用ndk和jni。如果那是你想要的。

# c# - 归档 zip 文件并将其保存到选择的位置，没有额外的文件路径？

> ID：12670267
> 
> 赞同：2
> 
> 时间：2012-10-01T09:02:01.933
> 
> 标签：c#, zip

我正在尝试保存一个 XAP 文件，女巫基本上就像一个 zip 文件，我可以存档并保存它，但它会添加到许多文件夹中？

我正在使用 Ionic.Zip DLL 来存档我的 XAP 文件。

该文件保存到我的路径，但是当我打开它时，它有文件夹 users，然后在那里有文件夹 Shaun，在那个文件夹中有一个文件夹 Documents，在 FormValue 文件夹中，然后在里面有我的 3 个文件我拉了拉链。

我只需要 Xap 文件来包含我压缩的 3 个文件，而不是里面的所有额外文件夹。

```
using (ZipFile zip = new ZipFile())
{
// add this map to zip
zip.AddFile("C://Users//Shaun//Documents//FormValue//" + property_details_locality_map); 
zip.AddFile("C://Users//Shaun//Documents//FormValue//data.xml");
zip.AddFile("C://Users//Shaun//Documents//FormValue//dvform.dvform"); 
zip.Save("C://Users//Shaun//Documents//FormValue//NewValuation.xap");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:09:33.287

```
List<string> filesToBeAdded = new List<string>();
filesToBeAdded.Add("C://Users//Shaun//Documents//FormValue//" + property_details_locality_map);
filesToBeAdded.Add("C://Users//Shaun//Documents//FormValue//data.xml");
filesToBeAdded.Add("C://Users//Shaun//Documents//FormValue//dvform.dvform");
zip.AddFiles(filesToBeAdded, false, "ShaunXAP"); // you could pass empty string here instead of "ShaunXAP" 
zip.Save("C://Users//Shaun//Documents//FormValue//NewValuation.xap"); 
```

这会将所有文件放入一个公共文件夹（在本例中为“ShaunXAP”）并忽略归档文件的文件夹层次结构。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:10:31.993

使用重载并为第二个参数`zip.AddFile(string fileName, string directoryPathInArchive)`指定空字符串：`""`

```
zip.AddFile("C://Users//Shaun//Documents//FormValue//" + property_details_locality_map, ""); 
zip.AddFile("C://Users//Shaun//Documents//FormValue//data.xml", "");
zip.AddFile("C://Users//Shaun//Documents//FormValue//dvform.dvform", ""); 
```

从文档中：

```
/// <param name="directoryPathInArchive">
///   Specifies a directory path to use to override any path in the fileName.
///   This path may, or may not, correspond to a real directory in the current
///   filesystem.  If the files within the zip are later extracted, this is the
///   path used for the extracted file.  Passing <c>null</c> (<c>Nothing</c> in
///   VB) will use the path on the fileName, if any.  Passing the empty string
///   ("") will insert the item at the root path within the archive.
/// </param> 
```

# android - 在android中管理不同屏幕尺寸的最佳方法

> ID：12670268
> 
> 赞同：1
> 
> 时间：2012-10-01T09:02:05.847
> 
> 标签：android, android-layout

我想知道如何管理我的视图，使其在 android 上的不同屏幕尺寸上看起来像我想要的那样。如果我为 4 英寸屏幕安排项目，则它会在 3.5 英寸屏幕上重叠，并且会分散在平板电脑屏幕尺寸上。所以请分享你的秘密来管理不同的屏幕尺寸和方向。太感谢了。

这是 XML

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<ImageView
    android:id="@+id/imageView1"
    android:layout_width="247dp"
    android:layout_height="183dp"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true"
    android:layout_marginTop="22dp" />

<ImageView
    android:id="@+id/imageView4"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignBottom="@+id/imageView1"
    android:layout_alignParentRight="true"
    android:layout_alignTop="@+id/imageView1"
    android:layout_toRightOf="@+id/imageView1"
    android:background="@android:color/darker_gray" />

<ImageView
    android:id="@+id/imageView2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_alignTop="@+id/imageView1"
    android:layout_toRightOf="@+id/imageView1"
    android:src="@drawable/headphone" />

<TextView
    android:id="@+id/textView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignLeft="@+id/imageView4"
    android:layout_below="@+id/imageView2"
    android:paddingLeft="25dp"
    android:text=" Play Now"
    android:textColor="@android:color/black" />

<TextView
    android:id="@+id/textView2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignBottom="@+id/imageView4"
    android:layout_alignLeft="@+id/imageView4"
    android:layout_alignParentRight="true"
    android:paddingLeft="30dp"
    android:text="Web"
    android:textColor="@android:color/black" />

<ImageView
    android:id="@+id/imageView3"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_above="@+id/textView2"
    android:layout_alignLeft="@+id/imageView4"
    android:layout_alignRight="@+id/textView1"
    android:layout_below="@+id/textView1"
    android:src="@drawable/web" />

<Button
    android:id="@+id/button1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_alignParentLeft="true"
    android:layout_alignParentRight="true"
    android:text="No Internet Avaliable " />

<ListView
    android:id="@+id/listView"
    android:layout_width="fill_parent"
    android:layout_height="198dp"
    android:layout_above="@+id/button1"
    android:layout_alignParentLeft="true"
    android:background="@android:color/transparent" >
</ListView>

<TextView
    android:id="@+id/textView3"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_below="@+id/imageView1"
    android:text="Select Channel " /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:49:46.640

也许您可以尝试**Linear Layout** ，为您在布局中使用的子元素赋予**权重。**除此之外，您必须为**l/m/h dpi**集创建不同的布局。

# php - Jquery / Ajax 对话框，在 sql 表的所有行之间进行选择

> ID：12670275
> 
> 赞同：4
> 
> 时间：2012-10-01T09:02:32.280
> 
> 标签：php, javascript, jquery, ajax

在我的 CMS 中，我有一个存储在所有客户公司中的大表。在`Position`表中我想存储`id`客户的。

我有`addPosition`必须允许插入这样`id`选择客户名称的页面。我想开发它的方式是弹出一个对话框，从中选择整个客户端列表，然后将对话框的结果存储在隐藏字段中（例如）。

是否可以使用 jQuery 或 ajax？如果是，如何？如果不是，这是解决问题的好方法（或者可能是更好的解决方案）？

PS PHP 部分应该不是问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T20:24:39.080

如果您询问如何在 jQuery 中执行 AJAX 请求，这是一种方法：

HTML：

```
<div id="message" style="display:none"></div>

<form action="script.php" method="post" id="myForm">
    <select name="employees">
        <option value="1">Joh Smith</option>
        <option value="2">Janeh Doe</option>    
    </select>
</form> 
```

查询：

```
$('#myForm').on('submit', function() {
    var $this = $(this);
    $.ajax({
        url: $this.attr('action'),
        type: $this.attr('method'),
        data: $this.serialize(),
        dataType: 'json',
        success: function(response) {
            if(response.success) {
                $('#message')
                    .text('Database updated successfully')
                    .addClass('success')
                    .show();
            }
            else {
                $('#message')
                    .text('Error happened, AJAX request completed but PHP had a problem.')
                    .addClass('error')
                    .show();
            }            
        },
        error: function() {
            alert('Error happened, AJAX request could not be completed.');
        }
    });
    return false;
}); 
```

在 PHP 中，如果您的数据库已成功更新：

```
echo json_encode(array(
    'success' => true
)); 
```

否则：

```
echo json_encode(array(
    'success' => false
)); 
```

# mysql - 如果在 table2 中找不到引用，则将从 table1 中删除记录的查询

> ID：12670277
> 
> 赞同：1
> 
> 时间：2012-10-01T09:02:46.530
> 
> 标签：mysql

```
table1
refno status
1     A
2     A
6     A
3     A

table2
refno itemcode qty
1     1        5
1     2        0
3     8        0
3     1        0
2     4        3
6     7        0 
```

如果在 [table2] 中找不到 [refno]，我需要一个查询，该查询将删除 [table2] 中 qty=0 同时删除 [table1] 中的所有行

鉴于上述示例，查询应保留以下输出：

```
table1
refno status
1     A
2     A

table2
refno itemcode qty
1     1        5
2     4        3 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:06:51.460

以下查询将`DELETE`来自两个表的所有记录：

```
DELETE t1.*, t2.*
FROM Table t1
LEFT JOIN
(
   SELECT *
   FROM Table2
   WHERE qty = 0
) t2 ON t1.refno = t2.refno 
WHERE t2.refno IS NULL 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:07:59.407

您可以在事务中编写 2 个删除语句以确保它是原子操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:12:17.283

使用 mysql，因为允许删除多表

```
delete  t1, t2 
from table1 t1
left join table2 t2 on t1.refno = t2.refno
where t2.qty = 0 or t2.refno is null; 
```

但这`1, A`将从 table1 中删除行（因为我们在 T2 中有一个关系 where `refno = 1`and `qty = 0`）

而且我看不到解决方案（也许会），其中`1, 2, 0`table2 中的行将被删除，而`1, A`table1 中的行将不会被删除。

所以，我认为解决方案必须是一个存储过程（或 2 个查询）

```
create procedure CleanTable1Table2()
begin
  delete from table2 t2
  where qty = 0;

  delete from table1 t1
  where not exists (select null from table2 t2
                    where t2.refno= t1.refno);
end 
```

# java - 如何防止 Gamecih 作弊？

> ID：12670282
> 
> 赞同：13
> 
> 时间：2012-10-01T09:02:57.880
> 
> 标签：java, android, anti-cheat

**背景**

玩家在我的安卓游戏中作弊已经有很长一段时间了。对于一个严格的单人游戏来说，这不是什么大问题，但由于我的游戏包含多人战斗和全球高分榜，这导致合法玩家因为作弊者而停止玩游戏。

**他们如何作弊**

作弊者使用名为[Gamecih](http://www.cih.com.tw/gamecih)的 root 用户应用程序。Gamecih 允许用户暂停应用程序，更改变量值，然后恢复应用程序。所以在我的情况下，他们只是暂停游戏，将“健康”更改为 74 万亿，然后在多人游戏中将每个人都踢出去。这是一段[视频](http://www.youtube.com/watch?v=g4kGy-FboTM)，展示了如何使用 Gamecih 在 Fruit Ninja（不是我的游戏）中作弊。

**考虑的方法**

1.  代码混淆。这是行不通的，因为混淆不会改变变量*值*，只会改变变量*名*。这意味着作弊者仍然可以找到与其当前健康值相同的变量，然后更改该变量。
2.  代码混淆 + getter & setter 值改变。这样，健康实际上不会代表真正的健康价值。在 getter 方法中，我会做类似 return health*10; 在二传手我会做 health=input/10; 这当然可能更复杂。

**我想要的是**

可以说，我应该使用考虑的方法 nr 2，但话又说回来，它并不能防止黑客攻击，它只会让它变得更难。理想情况下，我想检测人们何时使用 Gamecih 作弊，显示一个弹出窗口说“该死的你，你这个讨厌的黑客”，然后关闭应用程序。我*不*想要依赖服务器的解决方案，因为我希望我的玩家也能够离线玩游戏。如果可能的话，我还想避免代码混淆。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-01T09:42:28.373

您可以将生命存储在 X 个变量中，实际值将是它们的总和（始终动态计算）。您随机选择要更新的内容。最重要的是，您可以添加一些一致性检查，作弊者很难意识到什么以及如何更改它。

一致性检查可以是一个简单的规则，例如，第 1、第 2 和第 3 个变量按增长顺序排列，第 4 个变量最小。使用此工具需要花费一些时间才能解决这个问题。

Yoy 还可以获得更多创意，并在此之上混合一些加密等（您提到的方式）。然后，除非有人拥有您的代码，否则它变得几乎是不可能的。

编辑：添加 100 个随机变量，这些变量随随机名称（或数组中的位置，以使其更容易）一直变化，然后祝寻找正确的作弊者好运。并使其全部动态化，因此每次他们都必须再次破解它。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-01T09:58:11.923

您可以定期检查您的值是否在不应该发生的情况下发生了变化。

例如，您可以将健康值已更改的事实存储在单独的隐藏标志中。如果您的检查方法确实检测到值的更改，并且未设置标志，那么您可以判断该更改是非法的。

例如 ：

```
void incrementHealth(int amount) {
    health = health + amout;
    hiddenCheck.hasChanged = true;
    } 
```

并在必须定期调用的单独方法中：

```
void checkHealth() {
    if (hiddenCheck.hasChanged) {
        // change is valid
        hiddenCheck.hasChanged = false;
        hiddenCheck.lastKnownValue = health;
        } else {
            if (hiddenCheck.lastKnownValue != health) {
                // An illegal change has occured ! Punish the hacker !
                }
            }
        }
   } 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-10-01T13:02:12.610

```
try{
    ApplicationInfo info = getPackageManager().
            getApplicationInfo("com.cih.gamecih", 0 );
    return true;
} catch( PackageManager.NameNotFoundException e ){
    return false;
} 
```

如果这个函数返回true，千万不要让黑客进入多人模式，并提示他卸载它。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-02-10T03:13:36.977

擅长作弊游戏的人也看过这些论坛，他们知道你所有的小秘密。

没有可靠的方法来防止人们欺骗在本地存储重要变量的游戏。游戏必须将这些变量保存在服务器上。如果这些变量没有保存在服务器上，总会有人破解你的游戏。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-01T09:55:28.177

根据存储的值动态计算您的统计数据。

```
private double getSaltedSqrt(int i){
    return Math.sqrt(i)+1337;
}

private int getTrueValue(double i){
    return (i-1337)*(i-1337);
} 
```

这样，任何大脑正常的人都无法从 RAM 中找到您的值。拥有 100 生命值的人的生命值将是 1347.0

如果有人对该玩家造成 10 点伤害，您只需调用：

```
currentHealth = getSaltedSqrt(getTrueValue(currentHealth)-damage); 
```

但是，最安全的方法是通过服务器实现所有这些更改。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-06-07T13:58:57.547

我对此有一个想法，因为我自己有时会使用 GameCIH。你可以有一个滚动的 10 条目事务日志，它可以对每个新事务进行自我检查。

你要做的（因为 GameCIH 一次只能处理一个变量）是有两个变量相互检查。

*   原始（或 11 年前）值
*   变化值 1 到 10 的数组
*   求和值，取反。（这完全改变了您可以看到的十进制值，并且当最旧的日志条目被滚动到其中时，它的变化将与原始值不同。）

如果求和值的负数与原始值加上 10 个记录的事务不匹配，则返回错误。

您只需要更改您的 stat mod 的处理方式 - 如果其中一个仍然尝试直接修改原始值，您的游戏将返回它被错误地更改。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-12T14:41:58.170

为防止内存作弊，您可以执行以下操作之一：

*   将最重要的值存储在数字数组中而不是变量中
*   也将值存储为字符串，每当您修改它时，检查它是否与字符串匹配。
*   查看 Mochi (Actionscript 3) 中的 MochiDigits 类，并提出一个 Java 端口。 [https://code.google.com/p/cunitescore/source/browse/trunk/as3/unitescore/mochi/MochiDigits.as?r=92](https://code.google.com/p/cunitescore/source/browse/trunk/as3/unitescore/mochi/MochiDigits.as?r=92)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-12-23T00:06:13.223

您应该存储健康状况的哈希值（例如 crc32 或 md5）等。每次更新值时，对当前设置的值进行哈希检查。在这种情况下，作弊者必须编写一个单独的应用程序来处理哈希。可能，但这将很快阻止脚本小子作弊者。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2014-01-14T07:56:19.263

在 Pokemon 游戏中，他们使用了 DMA。您可以通过在游戏暂停很短的时间时让计时器关闭并触发所有值的更新来获得类似的效果。更新将为所有变量添加一些随机数量（包括您从中减去以获得单个值的变量）。您还可以尝试将值存储在一个大数组中并更改起始位置。而不是像这样的绝对指针`GameState[121]`，你会有类似的东西`GameState[121+StartingPosition]`，只需将值增量器与位置随机器组合起来。在这两种情况下，模算术都是您的朋友。小心溢出数组和一个错误。缓冲区溢出是不好的。;)

如果这是一个 Flash 或 Java 应用程序：可悲的是，使用内存管理快速重新映射值在 RAM 中的位置并不像 Gameboy Advance 使用的本机二进制文件那样方便。以随机顺序将所有变量复制到第二组，然后删除和垃圾收集原始值可能会使您的游戏运行缓慢。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-02-24T12:16:16.593

你能在游戏启动时检查root访问权限吗？然后拒绝在有根设备上打开应用程序或拒绝多人模式？仅在应用程序初始化时在打开的加载屏幕上提供一个小检查，可能有应用程序请求超级用户然后如果用户授予它尝试执行没有超级用户不允许的无害功能然后代码检查所述功能是否成功然后撤消更改和弹出一个消息框，指示用户应该离开 root 模式重试。

或者，可以在进入多人模式时应用此检查。

你也可以从服务器运行多人模式，从设备运行单人游戏，让单人游戏自由编辑。

# java - 使用 Java 在 Windows 中将进程优先级设置为后台优先级

> ID：12670284
> 
> 赞同：0
> 
> 时间：2012-10-01T09:03:02.387
> 
> 标签：java, windows

我有一个 Java 进程，我想在 Windows 中以后台优先级运行（[见这里](http://msdn.microsoft.com/en-us/library/ms686219%28v=vs.85%29.aspx)）。有什么简单的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:46:50.013

Java 不强制任何线程实现，因此 Windows 上的 Sun JVM 与 Linux 上的 Sun JVM 的工作方式不同，等等。Windows 线程模型与 Linux 线程模型非常不同。甚至没有强制要求 Java 线程映射到底层 OS 线程。没有（或者当我在一年前查看时没有）任何文档 JVM 如何在 WINDOWS 上实现线程。

但是，在特定于 Windows 的情况下，您*可以*使用 JNI 或 COM 接口来更改进程/线程优先级。不过我不会打扰，我认为它会非常脆弱且难以测试。一个困难是从 Java Thread 对象中获取底层的 Windows 线程 ID。

你的后台任务监控/做什么？你能以不同的方式思考你的问题：它的本质是什么？Java 并发 API 可能有助于提供明确要求的替代解决方案。

# javascript - 如何使 *.css.gz 之类的压缩文件在浏览器中运行良好

> ID：12670290
> 
> 赞同：-2
> 
> 时间：2012-10-01T09:03:25.183
> 
> 标签：javascript, css, maven, compression, gzip

> **可能重复：**
> [使 maven 服务文件，如 css.gz 和 js.gz](https://stackoverflow.com/questions/12668970/make-maven-serve-files-like-css-gz-and-js-gz)

当我使用 style.css 之类的文件并在浏览器中运行时，它运行良好，但是当我将文件压缩为 style.css.gz 并再次运行时，它根本不起作用。所以，我只想问如何配置这样的压缩文件可以在浏览器中正常工作？？？

在这种情况下，我正在使用 Java EE 项目并使用 Apache Maven。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:08:03.430

您需要添加特殊的响应标头，它会告诉您的浏览器您的内容被编码为 gzip，例如在 C# 中：

```
 Response.AppendHeader("Content-Encoding", "gzip"); 
```

在这种情况下，浏览器会自动解压您的文件。

# java - 从 Java Set 中获取项目

> ID：12670292
> 
> 赞同：6
> 
> 时间：2012-10-01T09:03:34.337
> 
> 标签：java, collections

我有一个`Set`昂贵的对象。

这些对象具有 ID，并且`equals`使用这些 ID 来实现相等性。

这些对象的类型有两个构造函数；一个用于昂贵的对象，另一个用于设置 ID。

所以我可以检查一个特定的 ID 是否在`Set`using 中`Set.contains(new Object(ID))`。

但是，确定对象在集合中后，我无法*获取*集合中的对象实例。

如何获得集合包含的确切对象？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T20:19:00.400

考虑使用[Eclipse Collections](https://www.eclipse.org/collections/)[`UnifiedSet`](https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/set/mutable/UnifiedSet.html)中的类。除了实现接口之外，它还实现了. 为 put 和 get添加了类似的 API。内存效率更高，因为它不为值保留内存，只为键保留。[`Pool`](https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/api/set/Pool.html)`Set``Pool``Map``Pool``Map`

```
UnifiedSet<Integer> pool = UnifiedSet.newSet();

Integer integer = 1;
pool.add(integer);

Assert.assertSame(integer, pool.get(new Integer(integer))); 
```

注意：我是 Eclipse Collections 的提交者。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-01T09:06:41.763

如果你想`get`从一个集合中，你应该使用一个地图。

（请注意，大多数 Set 实现都是 Map 的包装器）

```
Map<Key, Value> map = new ....

Value value = map.get(new Key(ID)); 
```

在您的情况下，键和值可以是相同的类型，但这通常是一个坏主意，因为键（如集合的元素）应该是不可变的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-01T09:06:35.583

如果`HashMap`使用 id 作为键不起作用，那么我会使用`HashMap`你的对象作为键和值。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-04-07T02:15:21.040

这是你可以做的一个技巧来得到你想要的东西。基本上，当您使用 contains 在哈希集中进行搜索时，当哈希码匹配时，将调用您要查找的对象的 equals 方法。假设您正在处理自己的对象，或者您可以扩展的对象，那么设置一个“信标信号”是微不足道的；）类的静态字段与刚刚等同的引用。在这里，您可以调用 contains，如果返回 true，则检索对象；)

PS不要评判我

```
import java.util.HashSet;
import java.util.Set;

public class BecauseWhyNot {

    public static void main(String[] args) {

        Set<Poop> sewage = new HashSet<Poop>();

        set.add(new Poop("Morning Delight"));
        set.add(new Poop("Hangover Doodle"));

        System.out.println("Contains Fire Drill?: "
            + set.contains(new Poop("Fire Drill")));
        System.out.println("Contains Morning Delight?: "
            + set.contains(new Poop("Morning Delight")));

        if (Poop.lastlySmelled != null)
            System.out.println("It's you lucky day: " + Poop.lastlySmelled);
        else
            System.out.println("Sorry, try again ;)");
    }

    public static class Poop {
        static Poop lastlySmelled = null;

        String description;

        Poop(String desc) {
            description = desc;
        }

        @Override
        public int hashCode() {
            return 900913 * description.hashCode();
        }

        @Override
        public boolean equals(Object obj) {
            lastlySmelled = (Poop) this;
            if (this == obj)            return true;
            if (obj == null)            return false;
            if (getClass() != obj.getClass())   return false;
            Poop other = (Poop) obj;
            if (description == null) {
                if (other.description != null)
                    return false;
            } else if (!description.equals(other.description))
                return false;
            return true;
        }

        public String toString() {
            return "Poop: " + description + "!";
        }
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-01T09:07:56.677

您*可以*使用 Apache Commons Collections 中的[FilterIterator](http://commons.apache.org/collections/apidocs/org/apache/commons/collections/iterators/FilterIterator.html)：

```
Predicate eq = new EqualPredicate(new Object(ID));
FilterIterator filter = new FilterIterator(set.iterator(), eq);
Object o = (Object) filter.next(); 
```

显然，这将是一种访问它的昂贵方式，但是如果您固定使用 a `Set`，则必须在某个时候对其进行迭代。

# java - 读取txt文件并以Excel格式写入

> ID：12670297
> 
> 赞同：1
> 
> 时间：2012-10-01T09:04:07.617
> 
> 标签：java

我是新手，但不知何故，我的 spv 想让我将复杂的 .txt（计算软件的输出文件）文件转换为 excel 格式，以便其他人更容易理解。

这是 .txt 文件的一小部分：

```
@BLD+@LW-1      @BLD-@   **0.99  1  g**      **46.32    102.52    158.71    101.97  0.09**

   **2** @RGB 255   0   0@@BLD+@**min**@RGB   0   0   0@@BLD-@      **0.00** @RGB 255   0   0@@BLD+@     **0.00**@RGB   0   0   0@@BLD-@      **0.00      0.00  0.00**

@RGB   0   0 255@@BLD+@**max**@RGB   0   0   0@@BLD-@      **6.92** @RGB   0   0 255@@BLD+@    **30.00**@RGB   0   0   0@@BLD-@     **53.09     29.84  0.13** 
```

我需要得到的是用粗体写的值。

任何形式的帮助或至少是如何解决它的想法都会非常有帮助。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:28:27.063

每行都将转换为输出文件中的一行。您的值（单元格）由分隔符分隔（在本例中为白色字符或字符集，可能是制表符）。因此，您应该读取所​​有行并将它们存储到一个数组中（在使用分隔符拆分值之后）。完成此操作后，您可以使用 JExcel 或 Apache POI 导出值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:12:39.087

您首先需要确定解析模式，从您的示例中我可以看到，您想要获取最后一个 @ 符号之后的所有值加上您还想要“min”和“max”，然后如果两个 @ 符号之间有十进制值您还需要这些，在确定解析模式后，您可以创建一个扩展名为 .csv 的文件，并将这些值以逗号分隔的形式存储在其中，如下所示，

逐行读取.txt文件并逐行存储到.csv文件中，

0.99,1g,46.32,102.52,158.71,101.97,0.09。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:13:38.830

通过阅读您的 txt 文件并使用[JExcel](http://jexcelapi.sourceforge.net/)或[Apache POI](http://poi.apache.org/spreadsheet/index.html)创建 excel 。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T09:10:51.497

要读取输入，您必须在代码中解析输入

要输出到 Excel，您可以使用[Apache POI](http://poi.apache.org/)或[JExcelApi](http://jexcelapi.sourceforge.net/)

# ios - iOS 6.0：UISplitViewController Popover 损坏或 Apple 更改了设计？

> ID：12670300
> 
> 赞同：4
> 
> 时间：2012-10-01T09:04:28.283
> 
> 标签：ios, ipad, uisplitviewcontroller, ios6, uipopovercontroller

我在 Xcode 4.5 和部署目标 5.1 中创建了一个带有主详细信息模板的项目。请有人帮我解决以下 UISplitViewController 问题。

1.  在纵向模式下，主视图从左侧淡入。它不像在 iOS 5.0 中以纵向模式使用的那样显示为 Popover 视图。请参阅所附图片。如何将主视图作为弹出窗口？

2.  无论如何我可以在风景模式下隐藏主视图吗？

谢谢。![ios 6.0 中的弹出框](../Images/d407109a045c67ae132343c7972a1324.png)

![弹出直到 ios 5.0](../Images/43479687b11e005baf233e4c32ffe504.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T15:10:54.153

这是自 5.1 以来的默认操作。从 iOS 6 发行说明：

> 在 iOS 5.1 中，UISplitViewController 类在呈现左视图时采用了滑动呈现样式（以前只在 Mail 中看到）。当通过委托方法提供的现有条形按钮项或通过右视图中的滑动手势启动演示时，使用此样式。无需额外采用 API 即可获得此行为，所有现有 API（包括委托提供的 UIPopoverController 实例的 API）将继续像以前一样工作。
> 
> 如果您的应用程序不支持该手势，则将拆分视图控制器的 PresentWithGesture 属性设置为 NO 会禁用该手势。但是，不鼓励禁用手势，因为使用它可以在所有应用程序中保持一致的用户体验。

有一个[肮脏的方法](http://www.i4-apps.com/splitviewcontroller-popovers/)来解决这个问题。

# ruby-on-rails - ruby on rails 教程，登录 - 重复电子邮件控制

> ID：12670304
> 
> 赞同：0
> 
> 时间：2012-10-01T09:04:46.863
> 
> 标签：ruby-on-rails

我正在关注 ruby​​ on rails 教程。我有几个问题：

1\. [Hier](http://ruby.railstutorial.org/chapters/modeling-users.html#code-length_validation_test)表明

```
>> "a" * 51
=> "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" 
```

因此，我们尝试通过键入以下代码来比较我们的用户的名称是否为 51 个“a”而不是 51 个字符：

```
before { @user.name = "a" * 51 } 
```

还表明 ("a" * 51).length 为 51。

那么为什么我们不写在 { @user.name = ("a" * 51).length } 之前更符合逻辑，这样用户名由 51 个字符组成，而不是 51 个字符。

2.而且[这一刻](http://ruby.railstutorial.org/chapters/modeling-users.html#code-validates_uniqueness_of_email_test)似乎也很奇怪。解释也很奇怪。

```
 describe "when email address is already taken" do
        before do
  1\.        user_with_same_email = @user.dup
  2\.        user_with_same_email.save
        end

        it { should_not be_valid }
      end 
```

在 1\. 我们复制我们的原始用户（例如 foo=User.new(name:"Piks", email:"piks@piks.com") 并将 foo 的副本放在变量 user_with_same_email 中。在 2\. 我们保存foo 的副本，它返回“true”，因此我们保存了副本，原始 foo 具有数据库中已经存在的电子邮件地址，因此应该是无效的。

但是我要保存的原始 foo 怎么可能无效呢？保存用户的副本根本不符合逻辑，因此原始用户无效。

我想我误解了“前块”。“前块”，即方法 user_with_same_email.save 应该返回“false”。为什么？因为例如，我们的数据库中充满了电子邮件（也有登录名），然后我尝试使用数据库中已经存在的电子邮件注册自己。因此，系统复制了我并将其保存在 user_with_same_email 中并尝试保存它，但它不能，因为数据库中已经存在另一个用户与我的电子邮件。因此，方法 user_with_same_email.save 将返回 false，因此我被认为是无效用户。

在这个例子中，“前块”应该在 roder 中返回“true”以继续它 { should_not be_valid } 还是我错了？

如果有人帮助我，我将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:16:09.997

你误解了整个事情。它不是模型代码，它是对它的测试。本教程试图强制测试驱动开发。这个想法基本上是指定有关您的系统的强制执行的语句，例如“名称不能超过 50 个字符”。你为它创建了一个测试，你试图打破这个语句，如果你能打破它，那么系统就有问题。

看起来像这样：

```
before { @user.name = "a" * 51 }
it { should_not be_valid } 
```

一项测试是将用户名设置为长度超过 50 个字符的字符串。这保证是那么长。它应该是无效的，因为它是。如果您忘记在模型中添加长度约束，测试系统会通知您。

```
 before do
  1\.        user_with_same_email = @user.dup
  2\.        user_with_same_email.save
        end

        it { should_not be_valid } 
```

这只是另一个测试。它创建一个虚拟用户，复制它，并尝试保存两者。这也应该失败。如果失败，则测试成功，这意味着您的代码是好的。

还有一件事，你问为什么不直接使用`before { @user.name = ("a" * 51).length }`. 这显然是无效的，您只需尝试将用户名设置为 51，一个数字，而不是 51 个字符长的字符串。

# ios - 如何使用 phonegap 在煎茶触摸应用程序中启用相机功能？

> ID：12670307
> 
> 赞同：0
> 
> 时间：2012-10-01T09:04:51.263
> 
> 标签：ios, cordova, sencha-touch-2

我在 Sencha Touch 2 中开发了一个应用程序。我想设计一个页面，使页面有一个默认图像和一个按钮。通过单击该按钮，设备相机应该打开（设备主要是 iPad 和 iPhone），并在捕获图像后让我们看到它存储在设备中名为“捕获”的文件夹中。然后捕获的图​​像应替换该默认图像。

我想强制使用PhoneGap。我已经看过用于相机的 PhoneGap API，但我不知道如何准确地使用它。我正在使用 Mac 和 Xcode 进行开发。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T09:31:20.210

在我的应用程序中，在控制器中使用 sencha touch 2 和 Phonegap 1.4 拍摄照片按钮处理程序

```
onTakePhotoButton: function(){
       // Retrieve image file location from specified source
        navigator.camera.getPicture(uploadPhoto, function (message) {
            alert('Get picture failed');
        }, {
            quality: 50,
            destinationType: navigator.camera.DestinationType.FILE_URI,
            sourceType: navigator.camera.PictureSourceType.CAMERA //or PHOTOLIBRARY
        }
        );
        function uploadPhoto(imageURI) {
            var options = new FileUploadOptions();
            options.fileKey = "file";
            var imagefilename = Number(new Date()) + ".jpg";
            options.fileName = imagefilename;
            options.mimeType = "image/jpeg";
            options.chunkedMode = false;
            var params = new Object();
            params.image = imagefilename;
            options.params = params;
            var ft = new FileTransfer();
            ft.upload(imageURI,your_request_upload_url_on_server, win, fail, options);
        }

        function win(r) {
            console.log("Code = " + r.responseCode);
            console.log("Response = " + r.response);
            console.log("Sent = " + r.bytesSent);
            var json_obj = Ext.decode(r.response);//remote server funciton upload return json type
            if(json_obj!=null && json_obj.response.image_name!=null){
                console.log(json_obj.response.image_name);
                imageDisplay.setSrc(your_image_root_tmp+json_obj.response.image_name+'?dc='+Number(new Date()));
            }else{
                Ext.Msg.alert('Errors', "The server response failure!");
            }            

        }

        function fail(error) {
            alert("An error has occurred: Code = " + error.code);
        }  
} 
```

您可以在此处参考更多详细信息[http://zacvineyard.com/blog/2011/03/upload-a-file-to-a-remote-server-with-phonegap](http://zacvineyard.com/blog/2011/03/upload-a-file-to-a-remote-server-with-phonegap)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T07:11:11.963

捕获照片：函数（）{

```
 navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 50 });

       function onPhotoDataSuccess(imageData) {
       // Uncomment to view the base64 encoded image data
       // console.log(imageData);

       // Get image handle
       //
       var smallImage = document.getElementById('userLogo');

       // Unhide image elements
       //
       smallImage.style.display = 'block';

       // Show the captured photo
       // The inline CSS rules are used to resize the image
       //
       smallImage.src = "data:image/jpeg;base64," + imageData; 
```

请验证...

# ruby-on-rails - 如何将 rails 与 disable_with 和 client_side_validations 一起使用

> ID：12670308
> 
> 赞同：0
> 
> 时间：2012-10-01T09:04:55.753
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2, client-side-validation

我正在使用 Rails 3.2.8 和出色的 client_side_validations gem，并且还想在表单上的提交按钮上使用 rails disable_with 选项。问题是，client_side_validations 在用户单击提交按钮之前不会运行，并且如果出现输入错误（即输入字段意外留空），那么 Rails 已经禁用了提交按钮，因为用户单击了提交，这意味着用户无法提交表单纠正错误后。

有人有好的解决方案吗？

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T04:16:08.297

如果升级到我刚刚发布的 ClientSideValidations 3.2 版本现在支持`:disable_with`

# ios - 应用商店提交：优先更新？

> ID：12670316
> 
> 赞同：0
> 
> 时间：2012-10-01T09:05:32.470
> 
> 标签：ios, app-store, appstore-approval

我的新老板认为你可以每年向应用商店提交一次或两次更新并将其标记为优先级。如果你滥用它，你会失去你的特权吗？

他是否正确。我多年来一直在提交更新，但从未听说过？

干杯

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-01T09:09:20.433

您可以申请加急审核，如果您提交的应用已获得批准但存在需要紧急解决的问题，则应使用加急审核。正如你的老板所说，他们只能做几次，所以要小心做。

> 加急审核是在有限的基础上授予的，因此我们不能保证每个请求都会加急。

[http://developer.apple.com/appstore/contact/appreviewteam/](http://developer.apple.com/appstore/contact/appreviewteam/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-02T11:17:52.090

一天之内就得到了应用程序的审核...勉强（请参阅电子邮件）... 亲爱的 APPLE HIRE 更多审核员！！！

* * *

你好 .....，

感谢您联系应用审核团队。

我们理解出现需要特殊响应的情况，但是，我们在短时间内收到了来自....的多个加急请求。

我们为您的应用设置了额外的例外，并将继续进行加急审核。但是，我们想提醒您，加急审查是在有限的基础上提供的，否则该流程本身将变得无效。请记住，我们将来可能无法满足其他请求。

如果您的应用在此审核期间被拒绝，则无需在重新提交时申请另一次加急审核。一旦您修改并重新提交您的二进制文件（或元数据，在元数据被拒绝的情况下），您的应用程序将自动返回到加速队列。

最好的祝福，

应用审核小组

# codeigniter - 如何在 PHPStorm 中为 CodeIgniter 框架启用自动完成

> ID：12670318
> 
> 赞同：15
> 
> 时间：2012-10-01T09:05:39.140
> 
> 标签：codeigniter, autocomplete, phpstorm

在 CodeIgniter 项目中，我通常使用以下命令来执行 sql。

```
$res = $this->db->select('*')
                 ->from('customer')
                 ->where('customer.id', $id)
                 ->get(); 
```

但是很遗憾我的 PHP Storm(5.0) 不支持多重自动完成（这个我不知道怎么说）

例如在 netbeans 如果我输入

```
$res = $this->db->select('*')-> 
```

它将自动弹出其余功能。但是在 PHPStorm 中它并没有工作。它只工作第一级自动完成。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-11-18T05:04:34.643

下载[https://github.com/topdown/phpStorm-CC-Helpers/releases](https://github.com/topdown/phpStorm-CC-Helpers/downloads)

**标记为纯文本**

*   /system/core/Controller.php
*   /system/core/Model.php
*   /system/database/DB_active_rec.php

然后提取下载的存档，将其复制到您的项目根目录

不过，这就是所有 Mifas 链接的功能

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2015-01-16T06:06:01.990

回答一个非常古老但仍然相关的问题 -

我在这里找到了一个更好的解决方案 - [http://validwebs.com/346/code-completion-for-codeigniter-in-phpstorm/](http://validwebs.com/346/code-completion-for-codeigniter-in-phpstorm/)巧合的是，它来自同一作者/项目所有者 Jeff Behnke。

引用其中的内容，应在 Sabir 的回答中继续阅读 -

> 标记为纯文本
> 
> ```
> /system/core/Controller.php
> /system/core/Model.php
> /system/database/DB_active_rec.php 
> ```
> 
> 将这些文件标记为纯文本会阻止 phpStorm 将它们索引为源。

我认为链接中的解决方案更好，因为它解释了执行步骤背后的基本原理。

它还解释了我们如何在视图中实现代码完成并修复未定义的变量。

为了便于参考和保存，这里再次引用原始来源：

> **视图中的代码完成和修复未定义的变量。**
> 
> 示例控制器代码。
> 
> ```
> public function index()
> {
>   // Example view vars
>   $data['test'] = 'Testing vars in CodeIgniter! &nbsp; &nbsp; This is from $data["test"].';
> 
>   $this->load->view('welcome_message', $data);
> 
> } 
> ```
> 
> 我们以 CI 方式向视图中添加了一个数据数组。数组中的每个索引都是另一个变量。
> 
> 景色……</p>
> 
> 在 phpStorm 中 $test 将突出显示为未定义的 var。为了解决这个问题，我们使用 phpDoc 注释。
> 
> ```
> <p style="font-weight: bold;">
> <?php
> /**
>  * $data array holds the $test value
>  * 
>  * @see Welcome::index()
>  * @var Welcome $test
>  */
> echo $test;
> ?>
> </p> 
> ```
> 
> 以这种方式记录不仅可以修复 phpStorm 错误/警告，还可以为我们提供 $test 的文档弹出窗口。@see 也将链接到它创建的位置，在本例中是 Welcome 类中的 index 方法。
> 
> var 现在已定义并显示它是。
> 
> Ctrl+ 单击此方法链接将带您进入定义 $test 的方法。

以下是我自己在为我的项目添加自定义项时的一些发现：

如果您希望 CI 中的自定义应用程序库也可用于自动完成，那么以下两种情况可能会有所帮助：

**1.对于自定义扩展库如MY_Upload扩展CI_Upload类**

替换`@property CI_Upload $upload`为`@property MY_Upload $upload`CI_phpstorm.php

除了 CI_Upload 之外，这将使 MY_Upload 的所有类变量和函数名称都可用于自动完成。

**2\. 对于在 CI 应用程序中从头开始编写的完全自定义库 -**

例如，要从位于 application/libraries 文件夹中的 Custom_Library.php 启用自动完成，您需要添加到 CI_phpstorm.php 中的 php 文档`@property Custom_Library $custom_library`

# php - 包含在包含的文件中不起作用 PHP

> ID：12670319
> 
> 赞同：3
> 
> 时间：2012-10-01T09:05:51.183
> 
> 标签：php, function, include

> **可能重复：**
> [如何在 PHP 中获取有用的错误消息？](https://stackoverflow.com/questions/845021/how-to-get-useful-error-messages-in-php)

我有以下 html 列表：

```
<ul id="ulGroups">
<?php
include('organizer_picturearchive_groups.php');
?>
</ul> 
```

我正在尝试包含此文件，其中还包含另一个文件：

```
<?php
include('lib/organizer_functions/picture_archive.php');
    echo select_all_picture_category_groups();
?> 
```

基本上，我想做的是调用 picture_archive.php 文件中的一个函数。我在 Organizer_picturearchive_groups.php 文件中执行此操作。我将此文件包含在 html 列表所在的第一个文件中。我没有从那里粘贴整个代码，因为它很多，但它有效。

但是包含的东西没有，因为当我尝试在“organizer_picturearchive_groups.php”文件中创建一个测试回显语句时，它可以工作并且我可以看到我正在打印的文本。

你有什么想法可能导致这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:07:43.253

仔细检查路径。如果`organizer_picturearchive_groups.php`与代码在同一目录中，则尝试将路径配置为相对路径：

```
<?php
include('./organizer_picturearchive_groups.php');
?> 
```

# objective-c - addSubview：重写导航栈？

> ID：12670329
> 
> 赞同：0
> 
> 时间：2012-10-01T09:06:37.617
> 
> 标签：objective-c, ios

我正在开发一个应用程序，它使用 iOS SDK 中的 View Controller 文档中描述的控制器包含模式。

我已经编写了控制器容器，效果很好。我的控制器基本上包含两个子视图，它同时显示它们，根据用户的操作将一个在另一个上滑动。效果很好。

现在，我想在导航视图中使用这个容器控制器。这是为了让 push segues 发挥作用。实际上，从我包含的控制器中，我希望能够使用导航堆栈，推送一个新控制器，并在用户完成时弹出。

但是，我注意到如果导航视图是用我的容器控制器作为根容器来实例化的，事情就会崩溃。

特别是，我注意到了这一点：

在 iOS 文档中，容器控制器调用 addChildController: 然后 addSubview:。这似乎破坏了导航堆栈，因为 push segue 不起作用 - 它的行为类似于模态。我相信这样做是因为 addSubview 重置了导航堆栈。

我通过用 [self.navigationController pushViewController...] 替换 addChildController 和 addSubview 来确认这一点。我确认这是 addSubview 的问题，因为当我省略对 addChildController 的调用时，我可以重现该问题。

当我这样做时，导航堆栈正常工作。但当然，我的容器控制器没有，因为只有“最近推送”的控制器是可见的。

我这样做是因为在我包含的控制器中，我想将一个新控制器推入堆栈，当用户完成后，我想“弹出”堆栈，而不重新加载“先前的控制器”。

使用模态 segue 重新加载以前的控制器；使用推送控制器不会。

我找不到关于 addSubview 行为的任何文档，它对导航堆栈的影响。

提前感谢你们提供的任何启示！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T13:21:26.433

I'm having a bit of trouble completely understanding what you are doing, but I think that what you want to do is exactly what I'm doing.

I have a UINavigationController that has as its rootView a container UIViewController. That controller adds children per the normal methods. One of those children views pushes other views that may get popped.

One of those pushed views COULD message the appDelegate and make itself the rootViewController if it wanted to. In general, as long as you keep a strong reference to a view controller, you can remove it from whoever 'owns' it, and muck around with the navigationControllers viewControllers array to your hearts content.

# c++ - 保存消息正文的 MAPI 属性是什么

> ID：12670332
> 
> 赞同：1
> 
> 时间：2012-10-01T09:06:42.713
> 
> 标签：c++, window, outlook-addin, mapi

AFAIK，消息正文存储在以下任一属性中 - PR_RTF_COMPRESSED 或 PR_BODY 或 PR_BODY_HTML 但在我的系统上，当我通过 Outlook 间谍查看时 - 我在 IMessage 对象中找不到任何这些属性，但消息正文很好。是否有任何其他属性包含消息正文？我找不到任何东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T14:34:16.623

使用 OutlookSpy 查看邮件时是否已保存邮件（尤其是在新邮件检查器中执行此操作时）？Outlook 仅在保存邮件时将更改提交到 MAPI 系统。

# android - 在android录音机中获得声音

> ID：12670335
> 
> 赞同：1
> 
> 时间：2012-10-01T09:06:51.407
> 
> 标签：android, voice-recording

我正在尝试开发一个 android 录音机。我能够录制和播放文件，但问题是我无法获得录音的分贝。我需要它的原因是因为我想显示声音当应用程序正在录制时，它会同时显示声音分贝。知道我该怎么做吗？这是我的代码：

```
 btRecord.setOnClickListener(new OnClickListener() {

        public void onClick(View arg0) {

            try {
                recorder.prepare();
            } catch (IllegalStateException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        try{
            recorder.start();
                            /**** i need a method like recorder.Volume(); ***/
        }catch(Exception ex)
        {} 
```

# ios - IOS：无法创建目录，nsstring条带斜线

> ID：12670337
> 
> 赞同：0
> 
> 时间：2012-10-01T09:07:02.340
> 
> 标签：ios, path, nsstring, nsfilemanager

我正在尝试创建一个目录来下载一些 pdf 文件。我一直在其他课程及其工作中使用相同的技术。但是在 1 个特定的类中，我试图创建 2 个子目录，但 NSString 正在删除路径中的最后一个斜杠。

我使用这种方法：

```
- (NSString*)checkDirectory:(NSString*)path {
NSError *error = nil;
BOOL isDir = YES;
NSString *string = [NSHomeDirectory() stringByAppendingPathComponent:[@"/Documents" stringByAppendingFormat:@"/%@/",path]];
if(![[NSFileManager defaultManager]fileExistsAtPath:string isDirectory:&isDir]){
    if (![[NSFileManager defaultManager]createDirectoryAtPath:string withIntermediateDirectories:NO attributes:nil error:&error]) {
        NSLog(@"Create directory error %@",error);
    }
}
return string;
} 
```

变量路径如下所示：

```
/Reports/year2012/38week/ 
```

但目前我将路径组件附加到 NSHomeDirectory() 字符串剥离斜线并产生应用程序无法创建目录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:24:06.733

尝试将中间目录值更改为 YES

```
withIntermediateDirectories:YES 
```

# vba - Word 2007中如何直接跳转到当前表格单元格的最后一行？

> ID：12670339
> 
> 赞同：3
> 
> 时间：2012-10-01T09:07:16.933
> 
> 标签：vba, navigation, ms-word, office-2007

我在 MS Word 2007 中有一个大表（跨越几页），每一行都包含很多文本。

Word 2007中是否有键盘快捷键可以直接跳转到当前表格单元格的最后一行以在单元格的“底部”添加文本？

如果没有，我怎么能用 VBA 做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T09:36:36.780

使用`Alt`+`PgDown`转到当前表中的最后一行（在同一列中）。

VBA 中的等价物：

```
Selection.EndKey Unit:=wdColumn 
```

**编辑**

（在问题中的新信息后更新）

对不起，我误会了。好的，然后，尝试以下方法在 VBA 中找到单元格的结尾：

```
Selection.EndOf Unit:=wdCell 
```

我不知道是否可以使用键盘快捷键完成，也许其他人知道？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-09T15:16:07.043

组合键是可能的，但我不确定它是否适用于所有情况：

*   `Tab`（跳到下一个单元格）, `Left`, `Left`,
*   或`Tab`, `Shift`+ `Tab`(当前单元格选择), `Right`(选择结束 = 当前单元格结束)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-31T16:29:40.400

VBA 中最好的方法不是只引用最后一行吗？

```
table.Cell(table.rows.count, yourColumnNumberToUpdate).Range.Text = table.Cell(table.rows.count, yourColumnNumberToUpdate).Range.Text + "What ever you want to add to the bottom of the cell" 
```

当然，如果单元格中已经有文本，您可能需要添加回车符，以便添加的文本位于单元格的底部。

# html - 是否可以通过hxt解析 with in it?

 I use hxt to parse some html. It hase unescaped html inside `<textarea></code>. hxt gives invalid results (it stumbles upon a tag with content in t</h1> <blockquote> <p>ID：12670344</p> <p>赞同：3</p> <p>时间：2012-10-01T09:07:35.193</p> <p>标签：html, haskell, hxt</p> </blockquote> <hr/> <h2>回答 #1</h2> <blockquote> <p>赞同：3</p> <p>时间：2012-10-01T11:07:16.373</p> </blockquote> <p>问题是<a href="http://hackage.haskell.org/package/HandsomeSoup" rel="nofollow">HandsomeSoup</a>（我假设是你的来源）对诸如 a不能包含有效 HTML<code>parseHTML</code>的事实很挑剔，并且会尝试“修复”它看到的任何此类错误。<code>textarea</code><code>a</code></p> <p>你可以切换到<a href="http://hackage.haskell.org/package/hxt-tagsoup" rel="nofollow">hxt-tagsoup</a>吗？它仍然会接受凌乱的 HTML（未封闭的元素等），但对遵守 HTML 模式并不那么挑剔——特别是它会让你有一个<code>a</code>in a <code>textarea</code>：</p> <pre><code>import Text.XML.HXT.Core import Text.XML.HXT.TagSoup let content = "<textarea>before<a>link</a>after</textarea>" let doc = readString [ withTagSoup ] content runX . xshow $ doc //> hasName "textarea" </code></pre> <p>这将打印以下内容：</p> <pre><code>["<textarea>before<a>link</a>after</textarea>"] </code></pre> <p>我认为这是你想要的。</p> </body> </html></textarea>`

# ios - HTTPS 请求 - 在 iOS 上获取文档

> ID：12670346
> 
> 赞同：0
> 
> 时间：2012-10-01T09:07:40.533
> 
> 标签：ios, httprequest

我有文档链接（例如：[https](https://example.com/test/test.pdf) ://example.com/test/test.pdf ）。我曾尝试使用`ASIHTTPRequest`，但它不起作用。我知道我可以通过使用来获得它`NSURL`，但是还有其他方法或框架吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:12:34.023

仅使用 NSURL 无法获取文档的内容，NSURL 是 url 的表示，您必须执行请求。

这里的一些元素：[iPhone SDK：你如何将视频文件下载到文档目录然后播放它们？](https://stackoverflow.com/questions/2572529/iphone-sdk-how-do-you-download-video-files-to-the-document-directory-and-then-p)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T13:38:37.383

您可能应该在这里使用 NSURLConnection 。[请参阅有关它的文档。](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSURLConnection_Class/Reference/Reference.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T13:44:16.113

这是如何使用 STHTTPRequest [https://github.com/nst/STHTTPRequest](https://github.com/nst/STHTTPRequest)

```
__block STHTTPRequest *r = [STHTTPRequest requestWithURLString:@"https://example.com/test/test.pdf"];

r.completionBlock = ^(NSDictionary *headers, NSString *body) {
    NSData *pdfData = r.responseData;
};

r.errorBlock = ^(NSError *error) {
    //
};

[r startAsynchronous]; 
```

# javascript - 表单验证错误

> ID：12670348
> 
> 赞同：1
> 
> 时间：2012-10-01T09:07:43.070
> 
> 标签：javascript, html

我对表单没有什么问题，我正在使用 js 进行验证。

这是我的表单代码。

```
<form method="get" onkeydown="checkEnter()" action="emailform.php" id="signupform" name="subscribe">
  <input name="email" id="email" type="text" value="Enter Email for Updates" onfocus="if(this.value=='Enter Email for Updates'){this.value=''};" />
  <input type="hidden" name="submitted" id="submitted" value="true" />
</form> 
```

我用于验证和提交表单的 id signupform 是在按下 Enter 按钮时。

但是当输入注册表格时出现问题，然后我的验证开始正常工作，当我输入正确的电子邮件时，它显示错误，当我删除注册表格 ID 时，我的表单提交工作正常而无需验证。

这是我用于 id 注册表格的 JS 代码。

```
function SubscribeForm() {
  $('#signupform').submit(function () {
    $('.email').removeClass('error')
    $('em.error').remove();

    var error = false;
    var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;

    if ($.trim($('.email').val()) == '') {
      $(this).append('<em class="error">Please enter your email address.</em>');
      $(this).addClass('error');
      error = true;
    } else if (!emailReg.test(jQuery.trim($('.email').val()))) {
      $(this).append('<em class="error">Please enter a valid email address</em>');
      $(this).addClass('error');
      error = true;
    }
    if (!error) {
      $("#submit", this).after('<span id="form_loading"></span>');
      var formValues = $(this).serialize();

      $.post($(this).attr('action'), formValues, function (data) {
        $("#signupform").before(data);
      });

      $(':input[type="text"]').attr('value', '');
    }
    return false
  });
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:28:27.190

改变

**返回假；**

至

**返回！错误；**

**此外，添加 css 类“电子邮件”以输入电子邮件字段，或将 jquery 更改为选择器代码“.email”为“#email”**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:11:47.290

改变

```
return false 
```

至

```
return error; 
```

它引起了问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:50:47.137

感谢您的帮助伙计们。我只是把这个，现在工作正常。

```
$('#signupform').submit(function(){
        $('.email').removeClass('error')
        $('em.error').remove();
        var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        sEmail = document.getElementById('email').value;
        if (filter.test(sEmail)) {

            return true;
        }
        else {
            if(sEmail == '')
            {
                $(this).append('<em class="error">Please enter your email address</em>');
                $(this).addClass('error');
            }
            else
            {
                $(this).append('<em class="error">Please enter a valid email address</em>');
                $(this).addClass('error');
            }
            return false;
        }
    });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T09:42:14.227

如果您不需要支持旧浏览器，也是一种可能的解决方案：**[placeholder](http://www.w3schools.com/html5/att_input_placeholder.asp)**。

```
<input placeholder="Enter email" type="text"... /> 
```

# erlang - 原子地替换关联的pid（即注销和注册）

> ID：12670354
> 
> 赞同：3
> 
> 时间：2012-10-01T09:08:22.980
> 
> 标签：erlang, atomic

假设 a`Pid`注册如下。

```
register(foobar, Pid). 
```

现在我想替换关联的 pid：

```
unregister(foobar),
register(foobar, NewPid). 
```

我怎样才能以原子方式实现这一目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T13:58:30.080

使用`gproc`，[https://github.com/uwiger/gproc](https://github.com/uwiger/gproc)

优点是它的注册表是一个 ETS 表，ETS 表具有原子更新，您可以像您想要的那样原子地覆盖名称。我几乎肯定它可以做这种事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:21:53.317

我不认为这是可能的，至少，使用`register/2`和`unregister/1`BIFs。您需要序列化对注册表的请求，例如使用 a`gen_server`或`ETS table`.

另外，请考虑以下事项。进程的注册名称是*原子*和**原子，在 Erlang VM 中，是有限的，而不是垃圾收集**的。如果您正在动态注册/注销进程，则需要大量进程（例如，每个请求一个进程），您可能需要重新考虑这种方法，因为您可能会在某些时候*用完原子*。

# sql-server - 从剪贴板生成 SQL 表的 SP

> ID：12670358
> 
> 赞同：0
> 
> 时间：2012-10-01T09:08:51.390
> 
> 标签：sql-server, stored-procedures, clipboard

将数据从 Excel 检索到 SQL Server 数据库很常见。

假设我从 Excel 中选择了 4 列数据，并将这些数据复制到剪贴板。

**问：如何生成一个有 4 列（可以是所有字符）的表（临时或正常）？**

![在此处输入图像描述](../Images/9cdbc056c8081444af3a139a0c40de3c.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:12:14.903

这种想法从根本上是有缺陷的。Excel 是一种客户端应用程序，其中用户界面*是*应用程序，而 SQL **Server**是一种服务器类型的应用程序，其中 SQL 管理工作室是作为促进者提供的，而不是应用程序本身固有的。

您可以使用 CLR 存储过程来访问剪贴板是合理的，但我建议您不要这样做。

# xml - 如何在 C# 上将字符串写入 xml 文件？

> ID：12670360
> 
> 赞同：0
> 
> 时间：2012-10-01T09:08:57.350
> 
> 标签：xml, c#-4.0, xmltextwriter

我已经使用 c# 创建了一个 xml 文件。

```
XmlTextWriter writer = new XmlTextWriter("Product.xml", System.Text.Encoding.UTF8);
writer.WriteStartDocument(true);
writer.Formatting = Formatting.Indented;
writer.Indentation = 2; 
```

然后，我创建我的字符串：

```
string stringXML = string.Empty;
stringXML = "<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?><configurations xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"configurations.xsd\"><ProductsList><Product><ID>1</ID><Description>EPR</Description></Product></ProductsList></configurations>"; 
```

然后我想将我的`stringXML`写入**Product.xml**文件。

我试过了 ：

`System.IO.File.WriteAllText("Product.xml", stringXML);`

但它没有用......

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:18:42.977

试试看

```
string s = "<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?><configurations xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"configurations.xsd\"><ProductsList><Product><ID>1</ID><Description>EPR</Description></Product></ProductsList></configurations>";
XmlDocument xdoc = new XmlDocument();
xdoc.LoadXml(s);
xdoc.Save("Product.xml"); 
```

**更新**

```
string name = saveFileDialog1.FileName;
string s = "<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?><configurations xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"configurations.xsd\"><ProductsList><Product><ID>1</ID><Description>EPR</Description></Product></ProductsList></configurations>";
XmlDocument xdoc = new XmlDocument();
xdoc.LoadXml(s);
xdoc.Save(name); 
```

既然`saveFileDialog1`是你`SaveFileDialog`

# html - 在 HTML 表格中定位元素

> ID：12670363
> 
> 赞同：1
> 
> 时间：2012-10-01T09:09:11.093
> 
> 标签：html, css, html-table

我在表格的某些单元格中有一个小星形图标，我想将它定位在右上角。所以这是我的html：

```
<td>Cell_Text<div class="star">☆&lt;/div></td> 
```

如何在右上角使用表格单元格定位所有星星？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:11:23.360

尝试

```
div.star
{
 float:right;
 margin-top:-10px;
} 
```

否则你可以使用absolute，但在你的情况下我不确定

```
div.star
{
position:absolute;
top:somepx;
right:somepx;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:11:48.837

使用相对+绝对定位

```
td { position: relative; }
td .star { position: absolute; top: 0; right: 0; } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:12:08.503

我建议：

```
td {
    /* required in order to position the element relative to the cell */
    position: relative;
}

td .star {
    position: absolute;
    top: 0;
    right: 0;
} 
```

[JS 小提琴演示](http://jsfiddle.net/davidThomas/U8Kme/)。

参考：

*   [CSS 位置，在 Mozilla 开发者网络](https://developer.mozilla.org/en-US/docs/CSS/position)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T09:13:05.973

你可以简单地使用

```
float:right; 
```

在你的 CSS 中。只要确保图标的大小比单元格的大小相对小

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-01T09:21:54.550

我想你想让星星作为文本的上标

检查这个[小提琴](http://jsfiddle.net/venkateshwar/Wg7Vv/)

我使用的是 ascii 代码而不是您使用的星号。您也可以在其中使用 unicode。

使用这种方法的好处是您可以使用以下属性为它们着色

```
color: /* your desired color */ 
```

# javascript - 扩展 jQuery.mobile-1.1.0.js

> ID：12670364
> 
> 赞同：1
> 
> 时间：2012-10-01T09:09:15.700
> 
> 标签：javascript, jquery, jquery-mobile, extend

我想扩展一个核心 jQuerymobile 功能。这是 JQM 库的链接：[http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.js](http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.js)

我想换行 6574

```
headerClose; 
```

进入

```
headerClose = $( "<a>", {
            "text": widget.options.closeText,
            "href": "#",
            "class": "ui-btn-left"
}).attr( "data-" + $.mobile.ns + "iconpos", "notext" ).attr( "data-" + $.mobile.ns + "icon", "delete" ).appendTo( header ).buttonMarkup(); 
```

我不想直接在 JQM 库中更改它，而是想从自定义 js 文件中进行更改。我正在寻找所需代码最少的解决方案。

提前致谢。

# ruby-on-rails - 在sidekiq中调用worker方法时未初始化的常量

> ID：12670366
> 
> 赞同：3
> 
> 时间：2012-10-01T09:09:22.830
> 
> 标签：ruby-on-rails, sidekiq

我在 rails 3 中使用 sidekiq gem，并且我在 app/workers 文件夹中定义了一个 foo_workers.rb，当我尝试调用`FooWorker.perform_async(@article)`一个名为 rails 的控制器时`articles`，我得到了这个错误，

```
uninitialized constant ArticlesController::FooWorker 
```

谁能帮帮我吗。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-01T09:16:55.560

检查你的复数形式。该文件被称为`foo_workers.rb`，这意味着您可能正在定义`FooWorkers`，而不是`FooWorker`. 应该是单数。但这都是猜测，因为您实际上并没有发布任何代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T12:08:40.337

自动加载机制不会复数你的类名。`FooWorker`因此，预计该类将`foo_worker.rb`在某些自动加载路径的文件中定义。

如果文件名不同（如`foo_workers.rb`），Rails 不会尝试从中加载类。

# facebook-javascript-sdk - Facebook访问令牌在php中不起作用

> ID：12670367
> 
> 赞同：0
> 
> 时间：2012-10-01T09:09:24.920
> 
> 标签：facebook-javascript-sdk, access-token

我在我的 html 页面中使用 access_token。

```
function fb_login() {    
FB.login(
    function(response){
    //etc....
    }, 
{scope:'email,user_about_me,user_activities,user_birthday,user_education_history, user_groups,user_hometown,user_likes,user_location,user_subscriptions,user_website, user_events,user_games_activity,user_status,friends_website,publish_actions, user_online_presence,publish_stream,offline_access,status_update,share_item, read_friendlists'}
); 
```

}

Facebook登入...

之后，我想发布带有 php 页面的流。但这对于访问令牌错误是不可能的。

如何解决？为什么它不起作用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T12:33:20.433

请参阅 github 上的示例，以[将 Facebook JS SDK 授权与 PHP SDK 授权集成](https://github.com/facebook/facebook-php-sdk/blob/master/examples/with_js_sdk.php)。还要确保您使用的是每个 SDK 的最新版本。

# java - Java中的序列化和反序列化

> ID：12670371
> 
> 赞同：0
> 
> 时间：2012-10-01T09:09:50.220
> 
> 标签：java, object, serialization, deserialization

我刚刚遵循了序列化[教程](http://www.tutorialspoint.com/java/java_serialization.htm)，我想知道为什么它不起作用。我有一个这样的游戏类：

```
import java.io.Serializable;

public class Game implements Serializable{

    private static final long serialVersionUID = -4795536311274486893L;
    protected int SHOT_SPEED;
    protected int PLAYER_SPEED;
    Player player;
    ArrayList<SpaceObject> objects;
    int level, score;
    Dimension resolution;
    and so on... 
```

我的阅读器方法应该处理对象 IO，如下所示：

```
public boolean saveGame(Game game) {
        try {
            FileOutputStream fileOut = new FileOutputStream(defaultDataName+".ser");
            ObjectOutputStream out = new ObjectOutputStream(fileOut);

            out.writeObject(game);

            out.close();
            fileOut.close();
            return true;
        }
        catch (IOException i) {
            return false;
        }

    }

    public Game loadGame() throws IOException {
        if (readRawData(defaultDataName) == "") throw new IOException("Data was deleted");
        Game game = null;
        try {
            FileInputStream fileIn = new FileInputStream(defaultDataName+".ser");
            ObjectInputStream in = new ObjectInputStream(fileIn);

            game = (Game) in.readObject();

            in.close();
            fileIn.close();
        }
        catch (ClassNotFoundException e) {
            throw new IOException("Class not Found: " + e.getMessage());
        }
        return game;
    } 
```

在我看来，我所做的一切都与教程中的完全一样，所以为什么不成功。（它会引发 ClassNotFoundError。感谢您的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:15:51.270

运行第二种方法时，似乎该类不在您的类路径中。

*   你能发布整个异常消息吗？
*   您是否使用具有相同类路径的序列化和反序列化器？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:18:17.563

包含在 Serializable 标记类中的每个类都应该是可序列化的。我认为这就是你得到的错误。

# jsf - 选择任何 selectItems 值后，将显示相关记录，如地址

> ID：12670372
> 
> 赞同：0
> 
> 时间：2012-10-01T09:09:55.517
> 
> 标签：jsf, oracle-adf

jsf adf....

我在 adf jsf 中的代码。此代码从模型创建一个选择列表....我希望如果用户从选择列表中选择特定的客户 ID，相关地址将显示在下一行。任何想法和解决方案如何添加或绑定数据控件（用于地址属性），以便当从绑定模型（仅限 id 属性）生成的选择列表中选择项目值时，将显示相关的地址。

```
<af:selectOneChoice label="#{bindings.InvView1.label}" id="soc1"
binding="#{backingBeanScope.backing_inv.soc1}"
value="#{bindings.InvView1.inputValue}"
required="#{bindings.InvView1.hints.mandatory}">

<f:selectItems value="#{bindings.InvView1.items}" id="si2"
binding="#{backingBeanScope.backing_inv.si2}" />

</af:selectOneChoice>
</af:selectOneChoice> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T17:53:27.563

您可以使用导航列表。像这样： [https ://blogs.oracle.com/shay/entry/the_navigation_list_select_som](https://blogs.oracle.com/shay/entry/the_navigation_list_select_som)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:56:31.513

您可以使用带有设置器（客户 ID）的 bean，该设置器在客户选择中被激活。

# ios - Instagram 上传进度视图？

> ID：12670379
> 
> 赞同：2
> 
> 时间：2012-10-01T09:10:43.777
> 
> 标签：ios, image-uploading, instagram

我想制作一个类似 Instagram 的进度指示器。

![Instagram 上传截图](../Images/5d52094a6c35fdc5cf48abfc23b4d991.png)

你知道如何制作一个，或者任何 iOS 控件已经完成了吗？

# java - 在java中的不同打印机托盘中打印不同页面的pdf

> ID：12670382
> 
> 赞同：1
> 
> 时间：2012-10-01T09:10:47.010
> 
> 标签：java, printing, tray

我目前正在一个打印作业中将 PDF 的不同页面打印到多个托盘。假设有 10 页。前 3 页将使用纸盘 1 中的纸张打印，接下来的四页使用纸盘 2 打印，其余的则从纸盘 1 打印。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-08T08:59:27.550

我遇到了同样的问题，很遗憾地得出结论，Java API 不支持这很简单。

还有其他打印库可能支持此功能，例如适用于 Linux 系统的 Cups4J。但这对我来说不是一个选择，所以我最终将打印作业分成两个打印作业，并将每个作业打印在不同的介质托盘上。

# python - JSON 编码非常长的迭代器

> ID：12670395
> 
> 赞同：14
> 
> 时间：2012-10-01T09:11:33.603
> 
> 标签：python, json

我正在编写一个 Web 服务，它返回包含很长列表的对象，以 JSON 编码。当然，我们希望使用迭代器而不是 Python 列表，这样我们就可以从数据库中流式传输对象；不幸的是，标准库`json.JSONEncoder`（`_iterencode_list`

文档字符串建议覆盖默认值以将对象转换为列表，但这意味着我们失去了流式传输的好处。以前，我们覆盖了一个私有方法，但是（正如预期的那样）在重构编码器时破坏了。

以流方式将迭代器序列化为 Python 中的 JSON 列表的最佳方法是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2017-08-03T11:23:24.553

我正是需要这个。第一种方法是覆盖该`JSONEncoder.iterencode()`方法。然而，这不起作用，因为一旦迭代器不是顶级的，一些`_iterencode()`函数的内部就会接管。

在对代码进行了一些研究之后，我发现了一个非常 hacky 的解决方案，但它确实有效。仅限 Python 3，但我确信 python 2 也可以实现同样的魔法（只是其他魔法方法名称）：

```
import collections.abc
import json
import itertools
import sys
import resource
import time
starttime = time.time()
lasttime = None

def log_memory():
    if "linux" in sys.platform.lower():
        to_MB = 1024
    else:
        to_MB = 1024 * 1024
    print("Memory: %.1f MB, time since start: %.1f sec%s" % (
        resource.getrusage(resource.RUSAGE_SELF).ru_maxrss / to_MB,
        time.time() - starttime,
        "; since last call: %.1f sec" % (time.time() - lasttime) if lasttime
        else "",
    ))
    globals()["lasttime"] = time.time()

class IterEncoder(json.JSONEncoder):
    """
    JSON Encoder that encodes iterators as well.
    Write directly to file to use minimal memory
    """
    class FakeListIterator(list):
        def __init__(self, iterable):
            self.iterable = iter(iterable)
            try:
                self.firstitem = next(self.iterable)
                self.truthy = True
            except StopIteration:
                self.truthy = False

        def __iter__(self):
            if not self.truthy:
                return iter([])
            return itertools.chain([self.firstitem], self.iterable)

        def __len__(self):
            raise NotImplementedError("Fakelist has no length")

        def __getitem__(self, i):
            raise NotImplementedError("Fakelist has no getitem")

        def __setitem__(self, i):
            raise NotImplementedError("Fakelist has no setitem")

        def __bool__(self):
            return self.truthy

    def default(self, o):
        if isinstance(o, collections.abc.Iterable):
            return type(self).FakeListIterator(o)
        return super().default(o)

print(json.dumps((i for i in range(10)), cls=IterEncoder))
print(json.dumps((i for i in range(0)), cls=IterEncoder))
print(json.dumps({"a": (i for i in range(10))}, cls=IterEncoder))
print(json.dumps({"a": (i for i in range(0))}, cls=IterEncoder))

log_memory()
print("dumping 10M numbers as incrementally")
with open("/dev/null", "wt") as fp:
    json.dump(range(10000000), fp, cls=IterEncoder)
log_memory()
print("dumping 10M numbers built in encoder")
with open("/dev/null", "wt") as fp:
    json.dump(list(range(10000000)), fp)
log_memory() 
```

结果：

```
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[]
{"a": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]}
{"a": []}
Memory: 8.4 MB, time since start: 0.0 sec
dumping 10M numbers as incrementally
Memory: 9.0 MB, time since start: 8.6 sec; since last call: 8.6 sec
dumping 10M numbers built in encoder
Memory: 395.5 MB, time since start: 17.1 sec; since last call: 8.5 sec 
```

很明显，IterEncoder 不需要内存来存储 10M 个整数，同时保持相同的编码速度。

（hacky）技巧是`_iterencode_list`实际上不需要任何列表内容。它只是想知道列表是否为空（`__bool__`），然后获取它的迭代器。`isinstance(x, (list, tuple))`但是，它仅在返回 True时才到达此代码。所以我将迭代器打包到一个列表子类中，然后禁用所有随机访问，将第一个元素放在前面，以便我知道它是否为空，然后反馈迭代器。然后该`default`方法在迭代器的情况下返回这个假列表。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-09-29T07:25:38.623

将其保存到模块文件中并将其导入或直接粘贴到您的代码中。

```
'''
Copied from Python 2.7.8 json.encoder lib, diff follows:
@@ -331,6 +331,8 @@
                     chunks = _iterencode(value, _current_indent_level)
                 for chunk in chunks:
                     yield chunk
+        if first:
+            yield buf
         if newline_indent is not None:
             _current_indent_level -= 1
             yield '\n' + (' ' * (_indent * _current_indent_level))
@@ -427,12 +429,12 @@
             yield str(o)
         elif isinstance(o, float):
             yield _floatstr(o)
-        elif isinstance(o, (list, tuple)):
-            for chunk in _iterencode_list(o, _current_indent_level):
-                yield chunk
         elif isinstance(o, dict):
             for chunk in _iterencode_dict(o, _current_indent_level):
                 yield chunk
+        elif hasattr(o, '__iter__'):
+            for chunk in _iterencode_list(o, _current_indent_level):
+                yield chunk
         else:
             if markers is not None:
                 markerid = id(o)
'''
from json import encoder

def _make_iterencode(markers, _default, _encoder, _indent, _floatstr,
        _key_separator, _item_separator, _sort_keys, _skipkeys, _one_shot,
        ## HACK: hand-optimized bytecode; turn globals into locals
        ValueError=ValueError,
        basestring=basestring,
        dict=dict,
        float=float,
        id=id,
        int=int,
        isinstance=isinstance,
        list=list,
        long=long,
        str=str,
        tuple=tuple,
    ):

    def _iterencode_list(lst, _current_indent_level):
        if not lst:
            yield '[]'
            return
        if markers is not None:
            markerid = id(lst)
            if markerid in markers:
                raise ValueError("Circular reference detected")
            markers[markerid] = lst
        buf = '['
        if _indent is not None:
            _current_indent_level += 1
            newline_indent = '\n' + (' ' * (_indent * _current_indent_level))
            separator = _item_separator + newline_indent
            buf += newline_indent
        else:
            newline_indent = None
            separator = _item_separator
        first = True
        for value in lst:
            if first:
                first = False
            else:
                buf = separator
            if isinstance(value, basestring):
                yield buf + _encoder(value)
            elif value is None:
                yield buf + 'null'
            elif value is True:
                yield buf + 'true'
            elif value is False:
                yield buf + 'false'
            elif isinstance(value, (int, long)):
                yield buf + str(value)
            elif isinstance(value, float):
                yield buf + _floatstr(value)
            else:
                yield buf
                if isinstance(value, (list, tuple)):
                    chunks = _iterencode_list(value, _current_indent_level)
                elif isinstance(value, dict):
                    chunks = _iterencode_dict(value, _current_indent_level)
                else:
                    chunks = _iterencode(value, _current_indent_level)
                for chunk in chunks:
                    yield chunk
        if first:
            yield buf
        if newline_indent is not None:
            _current_indent_level -= 1
            yield '\n' + (' ' * (_indent * _current_indent_level))
        yield ']'
        if markers is not None:
            del markers[markerid]

    def _iterencode_dict(dct, _current_indent_level):
        if not dct:
            yield '{}'
            return
        if markers is not None:
            markerid = id(dct)
            if markerid in markers:
                raise ValueError("Circular reference detected")
            markers[markerid] = dct
        yield '{'
        if _indent is not None:
            _current_indent_level += 1
            newline_indent = '\n' + (' ' * (_indent * _current_indent_level))
            item_separator = _item_separator + newline_indent
            yield newline_indent
        else:
            newline_indent = None
            item_separator = _item_separator
        first = True
        if _sort_keys:
            items = sorted(dct.items(), key=lambda kv: kv[0])
        else:
            items = dct.iteritems()
        for key, value in items:
            if isinstance(key, basestring):
                pass
            # JavaScript is weakly typed for these, so it makes sense to
            # also allow them.  Many encoders seem to do something like this.
            elif isinstance(key, float):
                key = _floatstr(key)
            elif key is True:
                key = 'true'
            elif key is False:
                key = 'false'
            elif key is None:
                key = 'null'
            elif isinstance(key, (int, long)):
                key = str(key)
            elif _skipkeys:
                continue
            else:
                raise TypeError("key " + repr(key) + " is not a string")
            if first:
                first = False
            else:
                yield item_separator
            yield _encoder(key)
            yield _key_separator
            if isinstance(value, basestring):
                yield _encoder(value)
            elif value is None:
                yield 'null'
            elif value is True:
                yield 'true'
            elif value is False:
                yield 'false'
            elif isinstance(value, (int, long)):
                yield str(value)
            elif isinstance(value, float):
                yield _floatstr(value)
            else:
                if isinstance(value, (list, tuple)):
                    chunks = _iterencode_list(value, _current_indent_level)
                elif isinstance(value, dict):
                    chunks = _iterencode_dict(value, _current_indent_level)
                else:
                    chunks = _iterencode(value, _current_indent_level)
                for chunk in chunks:
                    yield chunk
        if newline_indent is not None:
            _current_indent_level -= 1
            yield '\n' + (' ' * (_indent * _current_indent_level))
        yield '}'
        if markers is not None:
            del markers[markerid]

    def _iterencode(o, _current_indent_level):
        if isinstance(o, basestring):
            yield _encoder(o)
        elif o is None:
            yield 'null'
        elif o is True:
            yield 'true'
        elif o is False:
            yield 'false'
        elif isinstance(o, (int, long)):
            yield str(o)
        elif isinstance(o, float):
            yield _floatstr(o)
        elif isinstance(o, dict):
            for chunk in _iterencode_dict(o, _current_indent_level):
                yield chunk
        elif hasattr(o, '__iter__'):
            for chunk in _iterencode_list(o, _current_indent_level):
                yield chunk
        else:
            if markers is not None:
                markerid = id(o)
                if markerid in markers:
                    raise ValueError("Circular reference detected")
                markers[markerid] = o
            o = _default(o)
            for chunk in _iterencode(o, _current_indent_level):
                yield chunk
            if markers is not None:
                del markers[markerid]

    return _iterencode

encoder._make_iterencode = _make_iterencode 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-01T09:50:07.290

不能很好地支持真正的流式传输`json`，因为这也意味着客户端应用程序也必须支持流式传输。有一些 Java 库支持读取流式`json`流，但不是很通用。还有一些 python 绑定`yail`，这是一个支持流的 C 库。

也许您可以使用`Yaml`而不是`json`. `Yaml`是 json 的超集。它对双方的流式传输都有更好的支持，并且任何`json`消息仍然有效`yaml`。

但是在您的情况下，将对象流拆分为单独的`json`消息流可能要简单得多。

另请参阅此处的讨论，哪些客户端库支持流式传输：[是否有 JSON 的流式传输 API？](https://stackoverflow.com/questions/444380/is-there-a-streaming-api-for-json)

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-10-01T09:47:16.353

没那么简单。WSGI（这是大多数人使用的）协议不支持流式传输。支持它的服务器违反了规范。

即使您使用不兼容的服务器，也必须使用[ijson 之](http://pypi.python.org/pypi/ijson/)类的东西。也看看这个和你有同样问题的人[http://www.enricozini.org/2011/tips/python-stream-json/](http://www.enricozini.org/2011/tips/python-stream-json/)

**编辑：**然后这一切都归结为客户端，我想它将用Javascript（？）编写。但我看不出如何从不完整的 JSON 块中构造 javascript（或任何语言）对象。我唯一能想到的就是手动将长 JSON 分解为更小的 JSON 对象（在服务器端），然后将其一一传输到客户端。但这需要 websockets 而不是无状态的 http 请求/响应。如果 Web 服务是指 REST API，那么我想这不是您想要的。

# tfs - 如何在本地网络中连接到 TFS 2012？

> ID：12670396
> 
> 赞同：0
> 
> 时间：2012-10-01T09:11:33.423
> 
> 标签：tfs, visual-studio-2012, windows-server-2012

我的本地网络中有这种情况：

【图片】[http://fekt.datagrid.sk/DATA/stackoverflow/scenario.PNG](http://fekt.datagrid.sk/DATA/stackoverflow/scenario.PNG)

Windows 2012：仅安装和配置 IIS，安装和配置 TFS。

TFS 配置：

【图片】[http://fekt.datagrid.sk/DATA/stackoverflow/config.PNG](http://fekt.datagrid.sk/DATA/stackoverflow/config.PNG)

当我在 win2012 机器上运行 Visual Studio 2012 时，一切正常。我可以签入，签出更改，我可以去网络访问（http://win2012:8080/tfs）

从台式电脑（Win8，VS2012）我无法连接到 TFS。

你有什么想法？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T08:22:39.323

是 DNS 还是 WINS 问题？尝试从您的台式电脑 ping win2012。也许你可以尝试使用 IP 通过[http://xx.xx.xx.xx:8080/tfs访问 TFS](http://xx.xx.xx.xx:8080/tfs)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T15:14:30.177

很可能是windows防火墙。

我建议您将有问题的端口和应用程序添加到 Windows 防火墙例外规则中。

您可以通过关闭它来快速测试，但请记住在测试后再次打开它。

# java - 如何初始化静态ArrayList 在一行中

> ID：12670398
> 
> 赞同：31
> 
> 时间：2012-10-01T09:11:40.670
> 
> 标签：java

我有 MyClass 作为

```
MyClass(String, String, int); 
```

我知道如何以这种方式添加到 ArrayList：

```
MyClass.name = "Name";
MyClass.address = "adress";adress
MyClass.age = age; 
```

然后添加到arrayList，如：

```
list.add(MyClass); 
```

但现在我有很多静态形式的对象 MyClass，我想添加

```
ArrayList<MyClass> list = new ArrayList<MyClass>({"Name","Address", age};.....); 
```

我可以这样做吗？无论如何谢谢

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-10-01T09:14:15.777

您可以使用[双括号初始化](https://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization)：-

```
List<MyClass> list = new ArrayList<MyClass>() {
    {
        add(new MyClass("name", "address", 23));
        add(new MyClass("name2", "address2", 45));
    }
}; 
```

如您所见，`inner braces`就像一个`initializer`块，用于`list`一次性初始化..

还要注意末尾的分号`double-braces`

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2012-10-01T09:14:07.830

你可以做

```
List<MyClass> list = Arrays.asList(
                         new MyClass("Name", "Address", age),
                         // many more
                     ); 
```

注意：这将创建一个您无法更改其大小的列表。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-10-01T09:14:16.823

像这样的东西：

```
List<MyClass> list = new ArrayList<MyClass>(Arrays.asList(new MyClass[] {new MyClass("Name", "Address", age})); 
```

当然，你的类必须有这样的构造函数：

```
public MyClass(String name, String address, int age) {
...
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-01T09:14:26.270

您可以像这样实例化`ArrayList`：

```
new ArrayList<myclass>() {{
  add(new MyClass("Name", "Address", age));
}}; 
```

这将创建一个实际扩展的匿名内部类`ArrayList`，并带有一个调用`add`. 这显然是完全肮脏的，会让你的同事想伤害你，所以你应该`Arrays.asList`改用。:)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-01T10:23:06.513

如果你想要的是最干净和最简单的初始化，你可能有这个：

```
 List<MyClass> list = MyClass.build(
        "Name", "Address", 51,  
        "a2", "c", 4,
        "v", "d", 2
    ); 
```

这使用此实用程序方法：

```
public static List<MyClass> build(Object... array) {
    List<MyClass> list = new ArrayList<Test>();
    for (int i=0; i<array.length-2; i+=3) {
        list.add(new MyClass((String)array[i], (String)array[i+1], (Integer)array[i+2]));
    }
    return list;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-04-22T20:36:56.207

以有效方式做到这一点的“最佳”方法是：

```
List<MyClass> list = new ArrayList<MyClass>();

 list.add(new MyClass("name", "address", 23));
 list.add(new MyClass("name2", "address2", 45)); 
```

虽然它需要大量的打字，但你可以清楚地看到这更[有效](https://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization)

另一种选择是使用谷歌[番石榴](https://github.com/google/guava)（未测试效率）：

```
ArrayList<MyClass> list = new ArrayList<MyClass>(
           new MyClass("name", "address", 23), 
           new MyClass("name2", "address2", 45) ); 
```

所需的导入是`import static com.google.common.collect.Lists.newArrayList;`

此外，您可以使用 @Rohit Jain 最初提出的双括号初始化：-

```
List<MyClass> list = new ArrayList<MyClass>() {
    {
        add(new MyClass("name", "address", 23));
        add(new MyClass("name2", "address2", 45));
    }
}; 
```

如您所见，`inner braces`就像一个`initializer`块，用于`list`一次性初始化..

注意你末尾的分号`double-braces`

另请注意，最后一种方法有一些缺点，如[这里](https://stackoverflow.com/questions/1005073/initialization-of-an-arraylist-in-one-line)所讨论的。

# rft - Rational Functional tester 手动验证点标题未出现在日志中

> ID：12670403
> 
> 赞同：0
> 
> 时间：2012-10-01T09:12:01.487
> 
> 标签：rft

我正在使用手动验证点 - 它运行良好 - 但是当它出现在日志中时，它的名称 - 或标题 - 显示为空，我应该怎么做才能使手动 VP 的标题出现在日志中，提前感谢
Abed。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T12:36:56.620

语法是

```
vpManual("Your VP name here", expectedData, actualData).performTest(); 
```

VP 名称不应包含空格、点或其他“奇怪”字符，请使用字母、数字和下划线 _

如果您使用字符串变量作为名称，**请检查它不为 null 或为空**。另请注意，该名称在脚本中必须是唯一的。如果您提供一个小例子来说明您的问题，我可以尝试提供更多详细信息。

[查看 RFT 文档](http://publib.boulder.ibm.com/infocenter/rfthelp/v7r0m0/topic/com.rational.test.ft.api.help/ApiReference/com/rational/test/ft/script/RationalTestScript.html#vpManual%28java.lang.String,%20java.lang.Object,%20java.lang.Object%29)

# c# - .net 4.0 中是否可以具有动态对象属性

> ID：12670404
> 
> 赞同：4
> 
> 时间：2012-10-01T09:12:03.677
> 
> 标签：c#, asp.net, object, while-loop

我想根据循环迭代向对象添加新属性，这在 .Net 中可行吗？我想这样做的原因是我正在遍历 excel 电子表格中的行，并且对于每个成功读取的行，我想创建一个新的动态对象属性。因此，当循环完成时，我可以简单地将对象传递给一个方法并记录所有记录。

到目前为止，请参见下面的代码：

```
 protected void ReadData(string filePath, bool upload)
    {
        StringBuilder sb = new StringBuilder();

        #region upload
        if (upload == true) // CSV file upload chosen
        {

            using (CsvReader csv = new CsvReader(new StreamReader(filePath), true)) // Cache CSV file to memory
            {
                int fieldCount = csv.FieldCount; // Total number of fields per row
                string[] headers = csv.GetFieldHeaders(); // Correct CSV headers stored in array 

                SortedList<int, string> errorList = new SortedList<int, string>(); // This list will contain error values
                ORCData data = new ORCData();

                bool errorFlag = false;
                int errorCount = 0;

                // Check if headers are correct first before reading data
                if (headers[0] != "first name" || headers[1] != "last name" || headers[2] != "job title" || headers[3] != "email address" || headers[4] != "telephone number" || headers[5] != "company" || headers[6] != "research manager" || headers[7] != "user card number")
                {
                    sb.Append("Headers are incorrect");
                }

                else
                {
                    while (csv.ReadNextRecord())
                        try
                        {
                            //Check csv obj data for valid values
                            for (int i = 0; i < fieldCount; i++)
                            {
                                if (i == 0 || i == 1) // FirstName and LastName
                                {
                                    if (Regex.IsMatch(csv[i].ToString(), "^[a-z]+$", RegexOptions.IgnoreCase) == false) //REGEX letters only min of 5 char max of 20
                                    {
                                        errorList.Add(errorCount, csv[i]);
                                        errorCount += 1;
                                        errorFlag = true;
                                        string text = csv[i].ToString();
                                    }
                                }
                            }

                            if (errorFlag == true)
                            {
                                sb.Append("<b>" + "Number of Error: " + errorCount + "</b>");
                                sb.Append("<ul>");
                                foreach (KeyValuePair<int, string> key in errorList)
                                {
                                    sb.Append("<li>" + key.Value + "</li>");
                                }
                            }
                            else // All validation checks equaled to false. Create User
                            {

                                string message = ORCLdap.CreateUserAccount(rootLDAPPath, svcUsername, svcPassword, csv[0], csv[1], csv[2], csv[3], csv[4], csv[5], csv[7]);
                                // TODO: Add to object here
                                sb.Append(message);
                                //sb.Append("<b>New user data uploaded successfully</b>");
                            }

                        }// end of try

                        catch (Exception ex)
                        {
                            sb.Append(ex.ToString());
                        }

                        finally
                        {
                            lblMessage.Text = sb.ToString();
                            sb.Remove(0, sb.Length);
                            hdnRdoSelection.Value = "1";
                        }
                }
            }

        }
        #endregion 
```

我以前从未尝试过这样做，所以我不确定我将如何处理它，但任何帮助都会很棒。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:14:55.000

> 我想根据循环迭代向对象添加新属性，这在 .Net 中可行吗？

有点。您可能想要使用，在添加属性时[`ExpandoObject`](http://msdn.microsoft.com/en-us/library/system.dynamic.expandoobject.aspx)将其视为。`IDictionary<string, object>`

话虽如此，如果您以后不打算尝试将这些属性*用作属性*，那么您真的需要它们作为属性吗？为什么不直接使用 a`Dictionary<string, object>`开头？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:15:23.157

是的，你可以用[`ExpandoObject`](http://msdn.microsoft.com/en-us/library/system.dynamic.expandoobject.aspx)这个。只需分配您想要的属性，它将假定这些属性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:22:08.633

```
dynamic settings= new ExpandoObject(); 
```

# sql - 使用 SQL 查询的逗号分隔值

> ID：12670409
> 
> 赞同：0
> 
> 时间：2012-10-01T09:12:23.297
> 
> 标签：sql, sql-server-2008

> **可能重复：**
> [Sql select group by 和 string concat](https://stackoverflow.com/questions/10083836/sql-select-group-by-and-string-concat)

我的 SQL 表如下所示：

```
City_Code        Post_Code   Post_Code_Description
100               A1          ABC
100               C8          XYZ
100               Z3          MNO
200               D4          LMN
300               E3          IJK
300               B9          RST 
```

`city_code`它是和之间的映射`Post_Code`。一个`City_Code`可以有很多`Post Codes`。现在我想运行一个查询来得到这样的东西：

```
City_Code           Post_Code         Post_Code_Description
100                 A1,C8,Z3          ABC,XYZ,MNO
200                 D4                LMN
300                 E3,B9             IJK,RST 
```

你能帮我解决这个问题吗？

# spring - 如何在spring的表单输入标签中使用<和>

> ID：12670411
> 
> 赞同：0
> 
> 时间：2012-10-01T09:12:32.717
> 
> 标签：spring, spring-mvc

我正在使用 spring 来开发应用程序。当我写`'placeholder="<Last, First>" '`eclipse 显示错误信息`multiple attribute founds. Missing end tag for "form:input"`

```
<form:input path="name" size="25" class="inputPrompt" placeholder="<Last, First>"/> 
```

是否可以在占位符属性的弹簧输入标签内应用转义字符？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T13:35:40.857

试试以下这些选项

**试试 1**

```
<fmt:message key="placeholderVar" var="\<Last, First\>"/>
<form:input placeholder="${placeholderVar}"  path="name" size="25" class="inputPrompt" type="text" /> 
```

**试试 2**

```
<form:input path="name" size="25" class="inputPrompt" placeholder="&lt;Last, First&gt;"/> 
```

# php - 查询问题

> ID：12670414
> 
> 赞同：0
> 
> 时间：2012-10-01T09:12:48.703
> 
> 标签：php, sql

我有这个查询对我来说不太好用，我一遍又一遍地审查它..这有什么问题？

```
$sql3="
  SELECT * 
  FROM hostess 
  WHERE id_ag='$id_ag' AND (id!='$hostess_id2' && id!='$hostess_id1')"; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:18:21.307

你应该改变：

```
id!='$hostess_id2' && id!='$hostess_id1' 
```

到

```
id!='$hostess_id2' || id!='$hostess_id1' 
```

您不能将同一列值与`&&`运算符进行比较，因为它将是第一个值或第二个值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:22:11.970

使用`NOT IN`构造。

```
$sql3="
  SELECT * 
  FROM hostess 
  WHERE id_ag='$id_ag' AND id NOT IN ($hostess_id2, $hostess_id1)"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:14:48.820

改变

```
(id!='$hostess_id2' && id!='$hostess_id1') 
```

到

```
(id!='$hostess_id2' AND id!='$hostess_id1') 
```

或者

```
(id!='$hostess_id2' OR id!='$hostess_id1') 
```

你已经插入`&&`而不是`AND`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T09:15:06.910

试试这个，

```
$sql3="SELECT * FROM hostess WHERE id_ag='$id_ag' AND id<>'$hostess_id2' AND id<>'$hostess_id1'"; 
```

# java - Log4j 在 JBoss 6 EAP 下不记录任何内容

> ID：12670415
> 
> 赞同：8
> 
> 时间：2012-10-01T09:12:55.427
> 
> 标签：java, log4j, jboss-eap-6

我看到了有关该主题的几个问题，但是由于它们与错误相当相关，因此我认为这不是重复的。

我的问题是我无法从部署在 JBoss 6 EAP 上的 .war 中注销，但是也没有记录任何错误。在 JBoss 的 /log 文件夹下还创建了一个名为 my .war 的文件，但它也是空的。

.war 部署良好且工作正常。由于我使用的是 Spring，我什至看不到它初始化它的上下文。

在具有相同 .war 的 Tomcat 7 下，日志记录工作完美。

我创建了一个 log4j.xml 并将其放在我的 WEB-INF/classes 目录中（我也在 /WEB-INF 中尝试过）：

```
<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">
  <appender name="console" class="org.apache.log4j.ConsoleAppender"> 
    <param name="Target" value="System.out"/> 
    <layout class="org.apache.log4j.PatternLayout"> 
      <param name="ConversionPattern" value="%-5p %c{1} - %m%n"/> 
    </layout> 
  </appender> 

  <root> 
    <priority value ="info" /> 
    <appender-ref ref="console" /> 
  </root>

</log4j:configuration> 
```

我正在使用 log4j 1.2.17、Spring 3.1 和 JBoss 6 EAP。

非常感谢任何帮助，谢谢

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-01-29T04:48:34.567

与 JBoss AS 7.1.1 不同，如果 JBoss EAP 6 找到[日志配置文件](https://community.jboss.org/message/736873#736873)，它会激活每个部署的日志配置： [https ://community.jboss.org/message/776182#776182](https://community.jboss.org/message/776182#776182)

我建议删除`log4j.xml`. 如果这没有帮助，请修改您的 jboss 配置以将系统属性设置`org.jboss.as.logging.per-deployment`为`false`. 就我而言，我必须将此行添加到`standalone.conf`：

```
JAVA_OPTS="$JAVA_OPTS -Dorg.jboss.as.logging.per-deployment=false" 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-02-25T01:37:06.257

就我而言，域模式下的 EAP 6.0，我必须将 org.jboss.as.logging.per-deployment = false 设置为特定服务器的环境属性。如 EAP 6.3 文档中所述将其设置为“系统属性”不起作用。

# java - 在 Android 应用程序发送的 HTTP 请求之间维护 cookie

> ID：12670419
> 
> 赞同：4
> 
> 时间：2012-10-01T09:13:27.003
> 
> 标签：java, android, authentication, mobile, cookies

我正在构建一个 Android 应用程序以在 android 手机上提供网站的功能。

人们需要登录，并且他们使用 cookie 保持登录状态，允许他们在自己的帐户下做事。网站的所有登录/身份验证代码都已完成，我现在正在编写一个 Android 应用程序来做同样的事情。

我的问题是，如果 Android 应用程序向 PHP 服务器发送 HTTP 请求，并且服务器作为回报设置了一些 cookie（以显示用户已登录），那么这些 cookie 是否会在所有未来的 HTTP 请求期间保持在 Android 应用程序上设置到服务器？

或者，我是否需要为 android 制定一个新的身份验证方案，例如在用户登录时将特殊令牌传递给应用程序，以及在所有未来请求对用户进行身份验证时提供此令牌的应用程序？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:16:45.253

一旦您登录应用程序，您应该将令牌保存在[SharedPrefrences](http://developer.android.com/guide/topics/data/data-storage.html#pref)中。您可以稍后在每个 Http 请求中使用。即使应用程序重新启动，您也有该令牌。所以 SharedPredPrefrence 更好。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T09:20:11.323

您应该使用[CookieManager](http://developer.android.com/reference/java/net/CookieManager.html)和[CookieStore](http://developer.android.com/reference/java/net/CookieStore.html)来保存 Cookie。

> CookieManager 会将每个传入的 HTTP 响应的 cookie 存储到 CookieStore 中，并为每个传出的 HTTP 请求检索 cookie。过期的 HttpCookies 应自行从该存储中删除。

您可以将它与[HttpURLConnection](http://developer.android.com/reference/java/net/HttpURLConnection.html)类一起使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-01T09:30:54.363

登录后放入**SharedPreferences**

```
SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE);
SharedPreferences.Editor editor = sharedPreferences.edit();
editor.putString("userName", "Rock");
editor.putString("token", "token@123"); 
```

从**SharedPreferences中获取**

```
SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE);
String username = sharedPreferences.getString("userName", "");
String token = sharedPreferences.getString("token", ""); 
```

# image - 从大图像中裁剪多个子图像

> ID：12670420
> 
> 赞同：-1
> 
> 时间：2012-10-01T09:13:30.280
> 
> 标签：image

一个大图像有一个固定的背景（即蓝色）和多个不规则形状的子图像。

是否有任何方法（C 或 Java 中的工具或程序）来生成子图像`

每个子图像（尽管它们是不规则的形状）可以是矩形，背景颜色（即蓝色）被去除。

**编辑：**

1.  命令行是首选，因为有数十万个这样的图像要分割。
2.  Linux 工具将是首选。
3.  轻量级编程是可以的。

描述图片：

![在此处输入图像描述](../Images/307beb0b5c407a39ff7e6bc8ea5bf1e0.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-11-28T01:34:32.317

使用我的 ImageMagick bash shell 脚本 multicrop2 ( [http://www.fmwconcepts.com/imagemagick/index.php](http://www.fmwconcepts.com/imagemagick/index.php) ) 如下：

输入：

[![在此处输入图像描述](../Images/d537b63fb6d2c0d17a3be198d1604478.png)](https://i.stack.imgur.com/X1yF4.jpg)

```
multicrop2 -f 25 image.jpg results.jpg 
```

[![在此处输入图像描述](../Images/a467625aacca7689e9cb74c61f118e02.png)](https://i.stack.imgur.com/mKIIN.jpg)

[![在此处输入图像描述](../Images/433b686678e0fa54dc2f3fcc47db9bb2.png)](https://i.stack.imgur.com/ekTN6.jpg)

[![在此处输入图像描述](../Images/98ffb443894ad5e6d95e3d4e22ae3ada.png)](https://i.stack.imgur.com/EUr5s.jpg)

[![在此处输入图像描述](../Images/d94bdff3d3d1d7347e375f30c873f832.png)](https://i.stack.imgur.com/AEMjS.jpg)

```
convert results*.jpg -bordercolor blue -border 1 -fuzz 50% -fill none -draw "matte 0,0 floodfill" -shave 1x1 results-%03d.png 
```

[![在此处输入图像描述](../Images/98da7c851ef7df28e2c87ba85c7ce39b.png)](https://i.stack.imgur.com/FUgRS.png)

[![在此处输入图像描述](../Images/545f1aa81d75c51420870ce0c1fd0805.png)](https://i.stack.imgur.com/wgJq3.png)

[![在此处输入图像描述](../Images/69ce081983b981ddabc72cf714f3c62a.png)](https://i.stack.imgur.com/v5zS8.png)

[![在此处输入图像描述](../Images/8adc060fd9017749bfc96901cb60ca2d.png)](https://i.stack.imgur.com/LPdju.png)

-f 参数定义了将背景（蓝色）与要提取的区域分开的容差（模糊）量。由于输入是 JPG，压缩会导致背景不是恒定的颜色。

第二个命令从我的脚本中读取所有结果，然后将蓝色背景填充为透明。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T21:18:49.460

对于图像处理，一种简单的方法是使用[processing](http://processing.org/)。处理是 pc/mac/linux 等等。处理是开源的。记得检查[库](http://processing.org/reference/libraries/)。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-11-28T00:28:44.900

你想要 ImageMagick：[imagemagick.org](https://www.imagemagick.org/script/index.php)

# sql-server - 新 SQL Server 数据库的字符集是什么？

> ID：12670425
> 
> 赞同：3
> 
> 时间：2012-10-01T09:13:53.760
> 
> 标签：sql-server, character-encoding, sql-server-2008-r2

我正在准备一个新的数据库服务器，我将从现有的大型多语言数据库（主要是英语/法语/西班牙语文本，很少有来自其他语言的特殊字符，例如城市名称）迁移数据。它将主要用于我和我的同事开发的 PHP 应用程序。

我很难理解所有的角色设置问题，我想从一开始就做出正确的选择。

根据我的阅读，为了支持所有 Unicode 字符，我应该使用 UTF-8。

我的问题：

1.  我应该在 MicroSoft SQL Server 2008 中设置哪些字符集/排序规则以获得 UTF-8？Latin1_general_CS_AS 是正确的选择吗？

2.  我应该在我的 HTML 页面中使用这个元数据吗？

    ```
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=utf-8">
    ```

3.  是否会有我无法在我的数据库中支持的字符，或者我需要以某种方式转换的字符？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T09:46:51.650

字符集和排序规则是不同的东西。

SQL Server 不支持 UTF-8。您应该将数据存储为 Unicode，这意味着列类型应该是`NCHAR`and `NVARCHAR`。您可以选择任何您喜欢的排序规则，因为**您选择的任何排序规则都是不正确**的。排序规则决定了值的*排序*和*比较*方式，而不是它们存储的编码方式（驱动程序将排序规则信息解释为非 Unicode 类型的编码提示，但这是一个不同的主题）。当您混合各种语言时，不可能有正确的排序顺序（即，您的应用程序*将*遭受臭名昭著的土耳其语`I`和西班牙语的困扰`ch`排序问题）。但是，这通常不是一个大问题，用户很少注意到它。总的来说，拉丁语排序规则可能是最好的。

至于你的返回 HTTP 字符集：你应该把你用来返回页面的字符集作为。SQL Server 使用什么编码来存储数据是完全不相关的。许多开发人员在这里遇到问题，因为他们在 SQL Server 中使用非 Unicode 数据类型（即`CHAR`和`VARCHAR`），这会导致返回的 HTTP 数据中出现许多编码不兼容问题。只要您不在自己的应用程序代码中做任何愚蠢的事情（例如尝试强制编码），只需使用 Unicode 列类型即可解决大多数问题。

顺便说一句，由于您提到大多数应用程序将是 PHP，因此您可能需要使用 PHP 将编码从 SQL Server Unicode UCS-2 转换为所需的输出格式 (UTF-8)。确保您阅读[Microsoft Drivers for PHP for SQL Server Unicode Support and Endianness](http://blogs.msdn.com/b/sqlphp/archive/2008/08/29/unicode-support-and-endianness.aspx) ，并对 SQL Server 数据使用**ucs-2le**编码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:22:00.447

用作`SQL_Latin1_General_CP1_CS_AS`英语（美国）区域设置`Latin1_General_CS_AS`的默认排序规则，并用作任何其他英语区域设置的默认排序规则，例如英语（英国）

# iphone - 获取安装了我的应用程序的所有设备的 UDID 的方法

> ID：12670426
> 
> 赞同：0
> 
> 时间：2012-10-01T09:14:03.667
> 
> 标签：iphone, udid

在我的应用程序中，我想要安装我的应用程序的所有设备的 UDID。我能得到这个吗？

有什么方法可以获取 UDID 吗？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:17:09.157

你可以`UIID`过`NSLog(@"%@",[[UIDevice currentDevice] uniqueIdentifier]);`

> 我想要安装我的应用程序的所有设备的 UDID。

您可以`UIID`通过网络服务获取 s。您需要编写一个 Web 服务来发送`UIID`到您的服务器。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T09:27:40.807

我很确定您无法从安装您的应用程序的每台设备上获取 UDID。这将打开隐私泄露的可能性——我敢肯定。您只能获取您手中的设备的 UDID，或者如果有人向您发送了他们的 UDID。然而，在 iOS 6 中，Apple 正在远离 UDID 系统。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-01T09:30:54.707

不推荐使用 UDID，取而代之的是 UUID。

如果您需要收集这些信息，您的应用将需要与服务器建立 HTTP 连接并记录此信息（通常在数据库中）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-01T09:30:45.737

这取决于你的意思。您是指 iOS 设备的旧 UDID，还是只是**每个设备的唯一标识符**？

如果是后者，请参阅[此问题的答案](https://stackoverflow.com/q/6993325/119114)。

正如我在回答中发布的那样，[您可以使用一种新的 NSUUID 方法](https://stackoverflow.com/a/12670611/119114)。

当然，在您的应用程序读取此内容后，您可能希望将其发布到您的 Web 服务器进行存储。

# ios6 - 禁用测试飞行构建更新窗口

> ID：12670431
> 
> 赞同：4
> 
> 时间：2012-10-01T09:14:21.533
> 
> 标签：ios6, testflight

我已将测试飞行 SDK 添加到我的项目中。当我在测试飞行上上传构建并使用测试飞行缩短链接下载该构建时，即使我的构建是新的，我也会得到测试飞行更新窗口。我想禁用它试飞屏幕出现在我的应用程序中。如果有人知道这一点，请帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T08:38:59.960

我遇到了向 Tesflight 报告的相同问题。这显然是一个已知的错误。

一种解决方法是使用以下行在应用程序更新中完全关闭：

```
[TestFlight setOptions:@{@"disableInAppUpdates":@YES}]; 
```

到目前为止，它仅适用于 SDK 的 1.1 版本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-09T00:54:56.033

我发现如果我不增加我的 ios 应用程序目标版本号，我总是会得到错误的更新窗口。

# delphi - 在没有关闭对话框的情况下生成 FASTMM 报告

> ID：12670438
> 
> 赞同：4
> 
> 时间：2012-10-01T09:14:41.113
> 
> 标签：delphi, fastmm

如果可能，我希望我的 Delphi 项目在程序运行时生成 FASTMM 内存泄漏报告，并在关闭时附加到该报告，而不必每次关闭程序时都看到[此对话框。](http://imgur.com/2vWRQ)

如果无法让 FMM 在运行时创建报告并对其进行 N 次编辑，我至少想摆脱烦人的对话框，因为我已经拥有比对话框显示的详细得多的报告。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-01T09:22:42.883

`SuppressMessageBoxes`您可以通过设置来实现这一点`False`。仅当您使用完整版的 FastMM 而不是与 Delphi 捆绑的精简版时，此功能才可用。

您无法调用`CheckBlocksOnShutdown`，因为它未在单元的接口部分中声明。您可以修改源代码`FastMM4.pas`以使其可用。但是，在程序运行时调用它可能不会产生任何有用的信息。那只会吐出一个包含当前分配的所有内存块的报告。这与已泄露的区块列表完全不同。

# winforms - 如何找到 ToolStripMenuItem 所属的 ContextMenuStrip？

> ID：12670439
> 
> 赞同：0
> 
> 时间：2012-10-01T09:14:44.600
> 
> 标签：winforms, contextmenu

我有一个`ContextMenuStrip`其中一个项目具有一个`DropDownItems`属性，该属性是动态添加的`ToolStripMenuItem`对象的集合。当我处理子项`Click`事件时，发送者的类型是`ToolStripMenuItem`，但它`Owner`是`ToolStripDropDownMenu`. 我找不到如何从中确定“主机”ContextMenuStrip。它没有`Owner`自己的属性，并`Parent`返回 null。

当我使用下面@Steve 发布的代码的这种改编时：

```
Dim dropDownItem = DirectCast(sender, ToolStripDropDownItem)
Dim menu As ContextMenuStrip = DirectCast((((dropDownItem.DropDown).OwnerItem).OwnerItem).Owner, ContextMenuStrip)
Dim grid = menu.SourceControl 
```

然后`menu.SourceControl`是`Nothing`，但是当我处理顶层时，即非下拉菜单项的点击是这样的

```
Dim item As ToolStripMenuItem = DirectCast(sender, ToolStripMenuItem)
Dim strip As ContextMenuStrip = DirectCast(item.Owner, ContextMenuStrip)
Dim grid As DataGridView = DirectCast(strip.SourceControl, DataGridView) 
```

然后我得到了我正在寻找的网格。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T10:13:31.217

如果我理解正确，您想从属于 ToolStripDropDownMenu 的 ToolStripMenuItem 的 Click 事件内部访问 ContextMenuStrip 对象。

如果是这样的话

```
 private void TestToolStripMenuItem_Click(object sender, EventArgs e)
    {
        ToolStripDropDownItem x = sender as ToolStripDropDownItem;
        if (x != null)
        {
            ContextMenuStrip k = (((x.DropDown).OwnerItem).OwnerItem).Owner as ContextMenuStrip;
            k.ForeColor = Color.Red; // as an example.
        }
    } 
```

# ruby-on-rails - Rspec - 包括其他文件夹规范

> ID：12670443
> 
> 赞同：1
> 
> 时间：2012-10-01T09:14:47.020
> 
> 标签：ruby-on-rails, ruby, rspec

我有一个 Rails 项目，其中有一个带有规范的库`lib/foo`，其中包含一个`spec`文件夹：

```
Rails.root
  /lib
    /foo
      /lib
      /规格

```

当我`rspec`在 Rails root 中运行时，我希望也`foo`能运行规范。我怎样才能实现它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T10:14:23.377

你可以这样运行它：`rspec spec/ lib/foo/spec`

# c# - 如何在 linq 中连接哪里

> ID：12670454
> 
> 赞同：-7
> 
> 时间：2012-10-01T09:15:23.803
> 
> 标签：c#, linq

我有结构ifs：

```
if()
{
  query = query.Where(....)
}

if()
{
   query = query.Where(....)
} 
```

就像他们对这两个测试一起工作一样，不要互相覆盖？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:20:56.453

> 就像他们对这两个测试一起工作一样，不要互相覆盖？

您的代码将（取决于`if()`s 中的结果）链接查询。

最终结果将是所有`.Where(...)`s 都应用于源。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:19:07.393

您应该能够链接您的查询表达式：

```
query = query.Where(....).Where(....); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-01T09:20:06.790

如果您想在谓词创建方面具有一定的灵活性，我建议[您使用 LinqKit](http://www.albahari.com/nutshell/linqkit.aspx)。使用这个库，您可以动态构建您的`Where`子句，例如：

```
if(condition)
{
   predicate.And(something);
}
if(otherCondition)
{
   predicate.Or(somethingElse);
}
var result = source.Where(predicate); 
```

它有开源代码，非常容易理解，基于`Expression`类，实际上是Linq使用的。

还值得注意的是，仅在需要时才计算结果——因此为 Linq2SQL 创建条件是一个很好的解决方案。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T09:20:51.087

```
var flg1 = cond1 == null? true : cond1;
var flg2 = cond2 == null? true : cond2;

var result = query.Where(flg1 && flg2) 
```

您还可以使用[DynamicQuery 库](http://weblogs.asp.net/scottgu/archive/2008/01/07/dynamic-linq-part-1-using-the-linq-dynamic-query-library.aspx)。然后你可以使用喜欢

```
query.Where("field1=1 and field2=2"); 
```

# perl - 如何防止在 Perl 中覆盖 sub？

> ID：12670455
> 
> 赞同：4
> 
> 时间：2012-10-01T09:15:24.683
> 
> 标签：perl, subroutine, typeglob

我正在使用遗留代码，并且必须使用`require`定义 sub 的 .pl 文件`foo`。我的问题是在我的`main::`命名空间中已经有另一个 sub `foo`，稍后在我目前不处理的程序的一部分中调用它。

我需要定义的文件，`sub foo {}`因为显然它不希望 foo 的事情发生在它通常被调用的地方。就我而言，这很糟糕。

我尝试过使用`*foo`glob：

```
*old_foo = *foo;
require 'foo_killer.pl';
*foo = *old_foo; 
```

当然，这不起作用，因为我只创建了一个别名（正如 brian d foy 在*Mastering Perl*的第 133 页上指出的那样），因此`*old_foo`将指向现在的“空”子例程。

有没有办法以某种方式将其中的内容复制`*foo{CODE}`到其他地方而不是别名？或者是否有另一种方法来解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:20:10.983

我自己想通了。我必须使用 typeglob 的`CODE`一部分，而不是将整个 typeglob 分配给另一个 typeglob。这样，它似乎可以复制。

```
*old_foo = *foo{CODE};
require 'foo_killer.pl';
*foo = *old_foo{CODE}; 
```

*brian d foy 在Mastering Perl* （第 131f 页）中也谈到了这一点，但没有提到复制部分。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T18:42:33.040

像这样试试

```
{
    local *foo;
    require 'foo_killer.pl';
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-01T10:32:03.157

我建议将邪恶的遗留代码一劳永逸地包装到一个包中。

```
package Foo;
use strict; 
use warnings;

use Exporter;
our @ISA = qw(Exporter);
our @EXPORT_OK = qw(foo bar $evil $global $variables);

do "foo_killer.pl"
     or die "Failed to load foo_killer.pl: ".($@ || $!);
1; 
```

在这里我使用`do`, 因为`require`如果其他地方需要该代码，则什么也不做。（我们因此而变得丑陋`require "//path/to/code.pl"`！）

这样，您可以决定是否`foo`通过`use Foo qw(foo);`或加载`use Foo qw(bar);`。

**更新：**哦，你最好计算`foo_killer.pl`相对于的路径，`__FILE__`而不是通过绝对路径加载它：

```
my $foo_killer = __FILE__; # $LIB/Foo.pm
$foo_killer =~ s,(/+[^/]+),legacy,; # $LIB/legacy
$foo_killer .= "foo_killer.pl"; # $LIB/legacy/foo_killer.pl
# now do $foo_killer; 
```

不过，这取决于您（和您的团队）。

# c++ - 我应该将哪个 Boost 版本与支持 C++03 的编译器一起使用？

> ID：12670457
> 
> 赞同：2
> 
> 时间：2012-10-01T09:15:39.047
> 
> 标签：c++, boost, version, compatibility, c++03

我的编译器支持 C++03。因此，我应该使用哪个版本的 boost？如果我使用的是早期版本的 C++，我将如何建立 boost 版本？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-01T09:17:52.717

任何。Boost 库足够智能，可以检测您的 C++ 版本和编译器，并通过一些预处理器魔法提供可以使用它的实现。因此，您也可以使用具有更多错误修复和更广泛功能的最新版本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-02T10:57:22.983

每个 boost 版本都有其[“经过测试的编译器”列表](http://www.boost.org/users/history/version_1_51_0.html)（将此页面滚动到最后）。这是您应该检查您的编译器版本是否受支持的地方。

# node.js - 在快递中使用猫鼬订购结果

> ID：12670470
> 
> 赞同：0
> 
> 时间：2012-10-01T09:16:02.447
> 
> 标签：node.js, mongodb, express, mongoose, ejs

我正在使用猫鼬来创建和建模我的文档模式。

我在一堆不同的模式上有一个 user_id 属性，还有一个 created_at 日期属性。

我想生成一个列表，按 created_at 日期排序，以显示为用户主页上最近活动的提要。

我将如何查询几个不同的模型，然后将这些项目排序到一个数组中，然后我可以将其传递给我的 ejs 视图？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:32:25.470

您可以使用[排序功能](http://mongoosejs.com/docs/api.html#query_Query-sort)对您的猫鼬查询进行排序。这里有两个例子：

```
query.sort({ field: 'asc', test: -1 }); 
```

或者

```
Person
  .find({user_id: 123456})
  .sort('-created_at')
  .exec(function(err, person) {
    // push these results to your array and start another query on a different schema
  }); 
```

# javascript - 制作没有 jQuery 的循环 JavaScript 幻灯片

> ID：12670471
> 
> 赞同：5
> 
> 时间：2012-10-01T09:16:04.227
> 
> 标签：javascript, slideshow

> **可能重复：**
> [尝试在 Javascript 中创建简单的幻灯片放映方法](https://stackoverflow.com/questions/8263458/trying-to-create-simple-slide-show-method-in-javascript)

我已经学会了用 JavaScript 制作轮播图像幻灯片脚本。我认为从基础学习它比我们从框架（即时脚本）中制作一些东西更好，但我是新手。我使用我的技术编写了这个脚本，但我认为这很糟糕。

好的，这是我的问题：我不知道如何制作这个幻灯片循环，任何人都可以帮助我吗？谢谢

```
<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
        #wrapper {
        width:400px;
        height:140px;
        position:absolute;
        left:50%;
        top:50%;
        margin: -70px 0 0 -200px;
        background: #383838;
        overflow: hidden;
        }

        #abc-container {
        position: absolute;
        width:1200px;
        height:140px;
        }

        #a {
        width:400px;
        height:140px;
        background: #FF0000;
        float: left;
        }

        #b {
        width:400px;
        height:140px;
        background: #FFFF00;
        float: left;
        }

        #c {
        width:400px;
        height:140px;
        background: #00FFFF;
        float: left;    
        }
    </style>
</head>
<body>
    <div id="wrapper">
        <div id="abc-container">
            <div id="a"></div>
            <div id="b"></div>
            <div id="c"></div>
        </div>
    </div>
    <div id="asas"></div>
    <div id="asass"></div>
    <script type="text/javascript">
        var runCarousel, runTimer;
        firstval = 0;
        secondval = 0;

        function Carousel(){
        firstval += 10;
        document.getElementById('abc-container').style.left = "-" + firstval + "px";
        document.getElementById('asas').innerHTML = "-" + firstval;
            if(firstval == 400)
            {
                StopRun();
                StartTimer()
                return;
            }
            if(firstval == 800)
            {
                StopRun();
                StartTimer()
                return;
            }
        runCarousel = setTimeout(Carousel, 10);
        }

        function StartTimer(){
        secondval += 1;
        document.getElementById('asass').innerHTML = "-" + secondval;
        if(secondval == 10)
        {
            StopTimer();
            Carousel();
            return;
        }
        if(secondval == 20)
        {
            StopTimer();
            Carousel();
            return;
        }
        runTimer = setTimeout(StartTimer, 1000);
        }

        function StopRun(){
        window.clearTimeout(runCarousel);
        }

        function StopTimer(){
        window.clearTimeout(runTimer);
        }

        function firstStart(){
            setTimeout("Carousel()", 10000);
        }

        firstStart();
    </script>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:43:50.417

首先有一个错误：

```
function firstStart(){
     setTimeout("Carousel()", 10000);
} 
```

正确：

```
function firstStart(){
     setTimeout(Carousel, 10000);
} 
```

最后，所有设置都重置为默认值并启动计时器：

在旋转木马中：

```
if(firstval == 1200){
        document.getElementById('abc-container').style.left = "0" + "px";
        firstval = 0;
        StopRun();
        StartTimer()
        return;
    } 
```

在开始定时器

```
if(secondval == 30) {
        secondval = 0;
        StopTimer();
        Carousel();
        return;
    } 
```

[**演示**](http://jsfiddle.net/M8GhH/)

[这是我的例子](http://jsfiddle.net/M8GhH/1/)

# dart - Dart 中的代码文档

> ID：12670487
> 
> 赞同：0
> 
> 时间：2012-10-01T09:17:24.623
> 
> 标签：dart

我们是否有任何代码文档语法和工具支持从 Dart 应用程序代码生成代码文档，类似于 C/C++ 的 Doxygen。我更喜欢使用 Markdown 风格的语法而不是 doxygen 语法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T13:36:31.690

DartDoc 工具（使用 markdown）创建 API 文档（在[api.dartlang.org](http://api.dartlang.org)中找到）

[这](http://api.dartlang.org/docs/continuous/dartdoc.html)描述了在您自己的代码中使用 DartDoc 的 api 参考

此处的[Readme.txt](http://code.google.com/p/dart/source/browse/branches/bleeding_edge/dart/pkg/dartdoc/README.txt)显示了如何格式化代码注释以生成 API 文档

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T20:59:33.667

```
///I am the beerclass
class BeerClass{
  ///this is a beer variable
  String beername;

  ///this is a beer method
  String get getBeer => "beer for the people";
} 
```

只需进入 Darteditor：**Tools->Generate Dartdoc**。您将获得一个新目录`docs`并在浏览器中启动 index.html。您的类、变量和方法现在有了文档。

# r - 计算一组分布的值

> ID：12670488
> 
> 赞同：0
> 
> 时间：2012-10-01T08:18:02.833
> 
> 标签：r, mean

我有一个包含 10 个不同变量的表。现在我想计算各种东西，比如 R 中的平均值、Q1、Q3、SD、中位数、IQR、偏度和峰度。

我可以单独计算所有这些，但是我可以以任何方式循环运行它们，让我得到上述所有东西的值。

谢谢你。森提尔

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:28:34.473

```
set.seed(1)
df <- data.frame(a=rnorm(10),b=rnorm(10))
summarydist <- function(x) {
  y1 <- summary(x)
  y2 <- IQR(x)
  names(y2) <- "IQR"
  require(moments)
  y3 <- skewness(x)
  names(y3) <- "Skewness"
  y4 <- kurtosis(x)
  names(y4) <- "kurtosis"
  c(y1,y2,y3,y4)

} 
sapply(df,summarydist)

#                  a          b
#Min.     -0.8356000 -2.2150000
#1st Qu.  -0.5462000 -0.0377500
#Median    0.2566000  0.4919000
#Mean      0.1322000  0.2488000
#3rd Qu.   0.5537000  0.9132000
#Max.      1.5950000  1.5120000
#IQR       1.0998807  0.9509302
#Skewness  0.2961938 -1.1871418
#kurtosis  2.2752871  3.8598299 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T11:31:21.960

使用 Roland 的 df 您可以使用`basicStats`from `fBasic`package 来避免编写函数

```
# library(fBasics)
basicStats(df)
                    a         b
nobs        10.000000 10.000000
NAs          0.000000  0.000000
Minimum     -0.835629 -2.214700
Maximum      1.595281  1.511781
1\. Quartile -0.546187 -0.037748
3\. Quartile  0.553693  0.913182
Mean         0.132203  0.248845
Median       0.256576  0.491872
Sum          1.322028  2.488450
SE Mean      0.246843  0.338210
LCL Mean    -0.426195 -0.516240
UCL Mean     0.690600  1.013930
Variance     0.609314  1.143862
Stdev        0.780586  1.069515
Skewness     0.252895 -1.013599
Kurtosis    -1.157017  0.126462 
```

只需选择您需要的：

```
DF <- basicStats(df)[c(3:8,15:16),]
rbind(DF, IQR=DF[4,]-DF[3,])
                    a         b
Minimum     -0.835629 -2.214700
Maximum      1.595281  1.511781
1\. Quartile -0.546187 -0.037748
3\. Quartile  0.553693  0.913182
Mean         0.132203  0.248845
Median       0.256576  0.491872
Skewness     0.252895 -1.013599
Kurtosis    -1.157017  0.126462
IQR          1.099880  0.950930 
```

# matlab - 在 Matlab 中对信号应用高通滤波器

> ID：12670490
> 
> 赞同：2
> 
> 时间：2012-10-01T09:17:48.990
> 
> 标签：matlab, image-processing, signal-processing

我有一组来自 611 个图像（尺寸 3x611）的 ROI 的平均 RGB 像素值。这些图像的拍摄时间超过 64 秒。我将每个颜色流的平均值解释为随时间变化的信号，并将其绘制在 Matlab 中。我还使用 fft() 绘制功率谱。在这个功率谱中，我在低频范围内获得了巨大的价值。我想删除这些值，因此想要一个截止频率为 0.2 Hz 的高通滤波器。此外，我希望这个滤波器非常锐利，完全抑制低于 0.2 Hz 的频率的功率，并保持高于 0.2 Hz 的频率的功率。请提出一种方法来做到这一点。

编码直到我得到绿色流的功率谱

```
imageFiles = dir('*.png');      
noFiles = length(imageFiles);    % Number of files found
avgVals = zeros(noFiles,3);

noise = 0;                       %Boolean for noise: if 1, then ROI moves randomly

noiseV = 0;
noiseH = 0;

for i=1:noFiles
   curFileName = imageFiles(i).name;
   curImage = imread(curFileName);

   temp1  = curImage(175:215 , 290:385, 1);
   avgVals(i,1) = (sum(sum(temp1)'))/3936;

   temp2  = curImage(175:215 , 290:385, 2);
   avgVals(i,2) = (sum(sum(temp2)'))/3936;

   temp3  = curImage(175:215 , 290:385, 3);
   avgVals(i,3) = (sum(sum(temp3)'))/3936;
end

Rstream = avgVals(:,1);
Gstream = avgVals(:,2);
Bstream = avgVals(:,3);

%plot actual signal with respect to time
xAxis = (0:64/610:64);
plot(xAxis,Rstream,'r');
hold on;
plot(xAxis,Gstream,'g');
hold on;
plot(xAxis,Bstream,'b');

nfft = 1024;

R = fft(Rstream,nfft);
R = R(1:nfft/2);
mR = abs(R);
G = fft(Gstream,nfft);
G = G(1:nfft/2);
mG = abs(G);
B = fft(Bstream,nfft);
B = B(1:nfft/2);
mB = abs(B);

f=(0:nfft/2-1)*(611/64)/nfft;

figure(2);
plot(f,mG,'g'); 
```

谢谢。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:25:07.690

If you're not familiar with Matlab filters you can use the filterbuilder GUI by typing `filterbuilder` in the console.

Once you made your settings you'll get a filter object that you can use in combination with the `filter` function.

[http://www.mathworks.de/de/help/signal/ref/filterbuilder.html](http://www.mathworks.de/de/help/signal/ref/filterbuilder.html)

[http://www.mathworks.de/de/help/matlab/ref/filter.html](http://www.mathworks.de/de/help/matlab/ref/filter.html)

If you are working on what I think you're doing you can also do a simple detrending using `detrend`, in order to get rid of the "DC" part of you signal.

# sql - Oracle SQL：以数字开头的搜索列

> ID：12670495
> 
> 赞同：8
> 
> 时间：2012-10-01T09:18:11.260
> 
> 标签：sql, string, oracle, digits

我想找到列值以数字开头的所有行。

它适用于这个请求：

```
 WHERE trim(u_ods_val3.ods_itn_PHRSBMO.NO_ART_TECH_OI)    IS NOT NULL
  AND (SUBSTR(u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI,0,1)='0'
  OR SUBSTR(u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI,0,1)  ='1'
  OR SUBSTR(u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI,0,1)  ='2 '
  OR SUBSTR(u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI,0,1)  ='3'
  OR SUBSTR(u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI,0,1)  ='4'
  OR SUBSTR(u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI,0,1)  ='5'
  OR SUBSTR(u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI,0,1)  ='6'
  OR SUBSTR(u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI,0,1)  ='7'
  OR SUBSTR(u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI,0,1)  ='8'
  OR SUBSTR(u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI,0,1)  ='9') 
```

但它太长了。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-10-01T09:21:26.917

[Regexp_like](http://docs.oracle.com/cd/E11882_01/server.112/e26088/conditions007.htm#SQLRF00501)会派上用场而且更短

```
where regexp_like(trim(col_name), '^[0-9]') 
```

或使用字符类

```
where regexp_like(trim(col_name), '^[[:digit:]]') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T09:20:37.947

尝试使用`in`：

```
WHERE trim(u_ods_val3.ods_itn_PHRSBMO.NO_ART_TECH_OI)    IS NOT NULL
  AND SUBSTR(u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI,0,1) in ('0','1','2','3','4','5','6','7','8','9') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-01T09:28:29.203

`BETWEEN`是你所需要的全部！（`NOT NULL`在这种情况下是隐含的！）

```
WHERE SUBSTR(u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI,0,1) between '0' and '9' 
```

如果您在该列上有索引，并且不介意此解决方案的小脏，您甚至可以加快速度：

```
WHERE u_ods_val3.ODS_ITN_PHRSBMO.NO_ART_TECH_OI between '0' and '9~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~' 
```

这假设 NO_ART_TECH_OI 不包含 ascii 代码 > 126 的字符。

# visual-studio - 多个构建配置可以共享一个配置转换吗？

> ID：12670498
> 
> 赞同：5
> 
> 时间：2012-10-01T09:18:23.680
> 
> 标签：visual-studio, configuration, continuous-integration, web-config-transform, slowcheetah

我正在使用 SlowCheetah 进行 XML 转换项目中的一堆配置文件。

然而，这个相同的解决方案是负载平衡设置的一部分，其中一些配置值在不同的服务器之间不同（在这种情况下是两个）。

我有以下构建配置

*   调试
*   发布
*   发布.测试
*   发布.Prod1
*   发布.Prod2

Release.Prod1 和 Release.Prod2 中的几乎所有内容都是相同的，除了其中一个配置文件中的一些值。有什么方法可以让我`Something.Release.Prod.Config`在这两个构建配置上都使用一个文件，而不是拥有两个相同的文件（`Something.Release.Prod1.Config`和`Something.Release.Prod2.Config`）？

...并详细说明：在这种情况下，我将部署到*两个*环境，因此一个重复的文件并不是真正的巨大危机。如果您有十个或一百个服务器怎么办？我看不出为什么带有 CI 服务器的设置（在这种情况下特别是 TeamCity）不应该能够做到这一点，即使我认为在这种环境中更常见的自定义设置也是如此。

这通常是如何处理的？

我想我可以在实际转换发生之前对文件进行一些神奇的来回复制作为构建步骤，但这似乎是一个混乱且过于复杂的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T22:44:01.323

配置转换由 TransformsFiles.targets 文件中的 $(Configuration) 变量处理。

```
 <TransformXml Source="@(_FilesToTransformNotAppConfig->'%(FullPath)')"
                  Transform="%(RelativeDir)%(Filename).$(Configuration)%(Extension)"
                  Destination="@(_FilesToTransformNotAppConfig->'$(OutDir)%(RelativeDir)%(Filename)%(Extension)')"
                  Condition=" Exists('%(RelativeDir)%(Filename).$(Configuration)%(Extension)') " /> 
```

在这里，您可以将 $(Configuration) 更改为任何其他值，例如“环境”。然后只需在您的 MSBuild 参数中设置“环境”变量 -

```
/p:Environment=Prod 
```

这应该允许您保留构建设置并独立进行转换。

# html - HTML UTF-8 编码

> ID：12670508
> 
> 赞同：0
> 
> 时间：2012-10-01T09:19:45.457
> 
> 标签：html

当我在编辑器（记事本++）中保存 HTML 文件为“utf-8”编码时，元标记字符集（=ISO-8859-2）似乎被浏览器忽略（字符集始终设置为“utf-8”，而不是不管我在元标记中设置了哪种编码）

当我将此文档另存为“ANSI”编码文件更改标签字符集时，更有趣的是...

你能解释一下这种行为吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T10:03:18.473

Notepad++ 中的“UTF-8”真正的意思是“带有[BOM](http://en.wikipedia.org/wiki/Byte_order_mark)的 UTF-8 ”。领先的 BOM 很可能触发 UTF-8，无论其他内容如何，​​因为没有其他文档应该以该特定字节序列开头。尝试另存为“不带 BOM 的 UTF-8”以查看差异。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:22:28.113

您可以使用 META。像这样：

```
<head>
<meta charset="utf-8">
</head> 
```

# sencha-touch - 如何在 Sencha Touch 中交换 CSS

> ID：12670510
> 
> 赞同：0
> 
> 时间：2012-10-01T09:20:03.440
> 
> 标签：sencha-touch, extjs, sencha-touch-2, sencha-touch-theming

我需要为我在 Sencha Touch 中完成的移动应用程序交换 css。

目前我=我没有得到任何结果。你能告诉我怎么做吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:47:33.517

我用这段代码解决了这个问题......

```
var accessibilityButton = {
                xtype: 'button',
                ui: 'custom-btn-confirm',
                maxWidth: '360px',
                centered: true,
                flex: 1,
                scope: this,
                style: 'color: #ffffff',
                text: 'Active Accesibility',
                ui: 'custom-btn-confirm',         

                handler: function changeStyle() {
                    // Swap the CSS for Accessibility
                    var i, a, url, btn;
                    for(i=0; (a = document.getElementsByTagName("link")[i]); i++) {
                        if(a.getAttribute("rel").indexOf("style") != -1) {
                            url = a.href;
                            btn = document.getElementById("ext-element-114");

                            if(url.lastIndexOf('app.css') !== -1) {
                                a.href = 'resources/css/app-accesibility.css';
                                btn.textContent = "AAAA";
                            }
                            else {
                                a.href = 'resources/css/app.css';
                                btn.textContent = "BBBB";
                            }
                        } 

                    }

                }

            }; 
```

# ftp - apache ftp客户端在检索文件时在文件末尾添加新行

> ID：12670514
> 
> 赞同：1
> 
> 时间：2012-10-01T09:20:12.003
> 
> 标签：ftp, apache-commons

我正在使用 apache ftp 客户端下载文本文件。我的问题是，当我检索文件时，我总是在文件末尾找到一个新行。这是我的代码：

```
FTPClient ftpClient = new FTPClient();

    ftpClient.connect(ftpServer);
    ftpClient.login(ftpUser, ftpPassword);

    log.info("Connected to server " + ftpServer + ".");
    log.info(ftpClient.getReplyString());

    int reply = ftpClient.getReplyCode();

    if (!FTPReply.isPositiveCompletion(reply)) {
        ftpClient.disconnect();
        throw new Exception("error");
    }

    ftpClient.enterLocalPassiveMode();

    ByteArrayOutputStream output = new ByteArrayOutputStream();

    boolean result = ftpClient.retrieveFile(fileName, output);

    output.close();

    ftpClient.logout();

    if (ftpClient.isConnected()) {
        try {
            ftpClient.disconnect();
        } catch (IOException ioe) {
            // do nothing
        }
    }

    log.info("Disconnected from " + ftpServer + "."); 
```

后来我使用以下方法读取文件：

```
String value = new String(output.toByteArray(), "UTF-8"); 
```

谁能帮我？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T09:43:32.637

让我们试试： `ftpClient.setFileType(FTPClient.BINARY_FILE_TYPE);` 它有帮助。

# iphone - 取消缩放 UIScrollView

> ID：12670516
> 
> 赞同：0
> 
> 时间：2012-10-01T09:20:28.650
> 
> 标签：iphone, ios, ipad, rotation, objective-c-blocks

我有一个 UIScrollView ，并启用了滚动。它与委托方法工作正常。

```
- (UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView
{
    return MyScrollView;
} 
```

但我面临的问题是，当我旋转 iPad 时，我需要缩小 UIScrollView。我必须在这个函数中编码

```
 - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
    {
if(interfaceOrientation == UIInterfaceOrientationLandscapeLeft ||
       interfaceOrientation == UIInterfaceOrientationLandscapeRight){

    }
    if(interfaceOrientation == UIInterfaceOrientationPortrait ||
       interfaceOrientation == UIInterfaceOrientationPortraitUpsideDown)
    {

    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T12:52:40.083

就放

```
[YourScrollView setMaximumZoomScale:1];
[YourScrollView setMinimumZoomScale:1]; 
```

在你的方向。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:24:49.980

您可以使用此方法：`- (void)setZoomScale:(float)scale animated:(BOOL)animated`并将比例设置为您在创建滚动视图时可能已配置的滚动视图的最小缩放比例。

例子：

[MyScrollview setZoomScale:minimuzoomscale 动画:YES];

将上面的线放在 shouldAutorotate 中。

# linux - 如何查找包含特定文件的包？

> ID：12670517
> 
> 赞同：0
> 
> 时间：2012-10-01T09:20:35.563
> 
> 标签：linux, package, yum, apt

我想找出哪些包（如果有）包含特定的文件名。例如，我试图在 64 位机器上编译 32 位程序，而 GCC 抱怨缺少文件“gnu/stubs-32.h”。如何快速找到我应该安装的软件包？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:20:35.563

如果使用基于 Debian 的发行版，您可以使用 apt-file：

`apt-file search path/to/filename`（但要使其正常工作，您必须首先填充数据库，`apt-file update`以 root 身份运行）

如果使用基于 RPM 的发行版（Red Hat、Fedora 等），则有等效的`yum provides`: `yum provides path/to/filename`，它支持通配符（例如：`yum provides \*/gnu/stubs-32.h`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T10:27:13.147

一个快速的[谷歌搜索](https://www.google.nl/search?sourceid=chrome&client=ubuntu&channel=cs&ie=UTF-8&q=gnu/stubs-32.h&redir_esc=&ei=gW9pUIrGG-bP0QW7soCgCA)也会指向你[之前](https://stackoverflow.com/questions/7412548/gnu-stubs-32-h-no-such-file-or-directory)的stackoverflow 问题。在那里你会发现你需要 32 位 libc-dev 包 (libc6-dev-i386)。

# gwt - TextInputCell ：我必须单击两次才能编辑单元格

> ID：12670525
> 
> 赞同：2
> 
> 时间：2012-10-01T09:20:57.873
> 
> 标签：gwt, gwt-celltable

当我想编辑一个 textinputcell 时，我通常需要单击两次：第一次单击将焦点放在单元格上，然后放在输入上。

我有一个包含 20 列的单元格表，全部为 textinputcell - excel 样式。而这个问题使它完全无法使用。

这是一个代码示例：

```
FieldUpdater<MyBean, String> fieldUpdater = new FieldUpdater<MyBean, String>() {
  @Override
  public void update(int index, MyBean object, String value) {
    object.setValue(value);
  }
};

Column<MyBean, String> column = new Column<MyBean, String>(new TextInputCell()) {
  @Override
  public String getValue(MyBean object) {
    return objet.getValue();
  }
};

column.setFieldUpdater(fieldUpdater);
table.addColumn(column, "Col"); 
```

你必须面对这个问题吗？有知道的解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-07-30T02:25:22.043

将 的 设置`KeyboardSelectionPolicy`为`CellTable`( `DISABLED`ie `cellTable.setKeyboardSelectionPolicy(KeyboardSelectionPolicy.DISABLED);`)。

在 Firefox/Chrome 上使用 GWT 2.5 对我有用。

请参阅[https://code.google.com/p/google-web-toolkit/issues/detail?id=7706](https://code.google.com/p/google-web-toolkit/issues/detail?id=7706)其他详细信息。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-16T14:15:51.660

好的，这就是我所做的：我注意到 EditTextCell 不需要单击两次即可更改焦点

所以我复制了这个类（一切都是私有的：/），我在方法**render**中做了以下更改：

前 ：

```
if (viewData != null) {
  String text = viewData.getText();
  if (viewData.isEditing()) {
    /*
     * Do not use the renderer in edit mode because the value of a text
     * input element is always treated as text. SafeHtml isn't valid in the
     * context of the value attribute.
     */
    sb.append(template.input(text));
  } else {
    // The user pressed enter, but view data still exists.
    sb.append(renderer.render(text));
  }
} else if (value != null) {
  sb.append(renderer.render(value));
} 
```

后 ：

```
 if (viewData != null) {
        String text = viewData.getText();
        sb.append(template.input(text));
    }
    else if (value != null) {
        sb.append(template.input(value));
    } 
```

我只使用**模板**而不使用**渲染器**。

奖励：由于您使用的是自己的单元格副本，因此您可以编辑模板。我添加了一个宽度（构造函数 arg）：

```
interface Template extends SafeHtmlTemplates {
    @Template("<input type=\"text\" value=\"{0}\" style=\"width:{1}px\" tabindex=\"-1\"></input>")
    SafeHtml input(String value, String width);
} 
```

我这样称呼模板：`sb.append(template.input(text, width));`

希望有帮助:)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-10-11T14:26:57.443

检查网格的 selectionModel 是否已设置在单元格上而不是行上。它可能会解决您的问题。

# objective-c - 显示地图时，iOS 6 应用程序在 EAGLContext 中崩溃

> ID：12670528
> 
> 赞同：6
> 
> 时间：2012-10-01T09:21:09.080
> 
> 标签：objective-c, ios, opengl-es, ios6

我们有一个使用 OpenGL 和`MKMapView`. 当我们切换到 iOS 6 时`[EAGLContext setCurrentContext:]`，每当我们在设置自己的`EAGLContext`.

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-01T09:21:09.080

iOS 6 地图是基于 OpenGL 的。如果你不打电话，你的应用会崩溃

`[EAGLContext setCurrentContext:nil]`

在您设置了自己的 EAGLContext 之后。我们通过将上述调用放入与 EAGLContext 交互的类的 dealloc 方法来修复我们的错误。

# nservicebus - NServiceBus 是否适合这里？

> ID：12670532
> 
> 赞同：1
> 
> 时间：2012-10-01T09:21:42.737
> 
> 标签：nservicebus

我希望第一次在项目中使用 NServiceBus（在周末阅读了它）但现在我想也许这个项目不需要它。

我有以下要求：

我每分钟记录一次网络数据（带宽、cpu 利用率等）并将其记录在表格中。客户端（通过 silverlight）然后可以运行查询以查看数据在一段时间内的样子。每个数据库都将在机器上本地。

我可以使用 NServiceBus 以便首先将数据写入队列。

在我使用 NServiceBus 的情况下的优势是，如果数据库出现故障，至少我不会丢失任何数据，因为它会在队列中。然而，在与业务分析师交谈之后，它并不是真正关键的数据，所以这不是什么大问题。此外，由于我正在写入单个表，因此我没有预见到死锁问题。

我很想与 NServiceBus 合作，但在这个阶段我认为我们不需要它。

在我的项目中使用 NServiceBus 还有其他好处吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T22:41:19.133

看起来 NServiceBus 对这个项目来说有点过分了。使用队列传输网络数据可能是一个好主意，但在这种情况下，只需直接使用 MSMQ（NServiceBus 使用 MSMQ 进行传输）。即便如此，向应用程序添加消息传递也不是一项简单的任务，您需要首先通过性能和可用性指标来证明它的合理性。NServiceBus 真正闪耀的地方是当你想做 pub/sub 或使用[saga](http://nservicebus.com/Sagas.aspx)时。当您拥有一组需要使用消息传递进行通信的自治系统时，这就会发挥作用。当你只有一个系统时，它通常是矫枉过正的。

# c# - 为什么将 *nullable* 小数与 `0` 进行比较不同于将小数与`0` 进行比较？

> ID：12670534
> 
> 赞同：7
> 
> 时间：2012-10-01T09:21:45.913
> 
> 标签：c#, nullable, equality

有人可以解释为什么`result1`is`false`和`result2`is`true`吗？代码如下：

```
namespace TestCsharp
{
    class Program
    {
        static void Main(string[] args)
        {
            Order objOrder = new Order(0.0M);

            bool result1 = objOrder.PriceNullable.Equals(0);//returns false
            bool result2 = objOrder.PriceNullable.Value.Equals(0);// returns true
        }
    }

    public class Order
    {
        public decimal? PriceNullable { get; set; }
        public Order(decimal? priceNullable)
        {
            PriceNullable = priceNullable;

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T09:28:09.637

因为`System.Decimal`暴露了[`Equals`](http://msdn.microsoft.com/en-us/library/7a6s0tsh.aspx)可以接受`Decimal`值的重载，而您的第二种情况是调用*该*方法（已使用[隐式转换](http://msdn.microsoft.com/en-us/library/ms131060.aspx)`int`将参数转换为 a ）并返回 true。`decimal`

而在第一种情况下， the[`Nullable`](http://msdn.microsoft.com/en-us/library/c7b1e4z6.aspx)正在尽力而为，但只能调用which 将在 an和 a`Object.Equals`之间进行比较时失败。如果您的第一个电话是：`int``decimal`

```
bool result1 = objOrder.PriceNullable.Equals(0M); 
```

您将比较两个`decimal`s，它现在将返回`true`。

* * *

`Nullable`泛型`Equals`方法既不能调用 to 的隐式转换`int`，也不能调用`decimal`接受`decimal`值的 equals 的重载。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T09:26:49.887

第一个检查返回 false，因为传递给它的值不是十进制类型。如果你`M`用 0 指定，你会得到真实的。

```
bool result1 = objOrder.PriceNullable.Equals(0M); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-01T09:28:03.927

如果我们检查 的定义`Nullable<T>.Equals`：

```
 /// <summary>
 /// Indicates whether the current <see cref="T:System.Nullable`1"/> object is equal 
 /// to a specified object.
 /// </summary>
 ///...
 // true if the <paramref name="other"/> parameter is equal to the current 
 // object; otherwise, false. 
        public override bool Equals(object other); 
```

所以你已经比较`Nullable<decimal>`了一个`int`. 他们不相等。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-01T09:30:10.480

[Nullable.Equals](http://msdn.microsoft.com/en-us/library/c7b1e4z6.aspx)

在第一种情况下，您将 int 对象与 decimal 对象进行比较。如果你有

```
bool result1 = objOrder.PriceNullable.Equals(0.0M); 
```

result1 将是*true*。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-10-01T09:27:51.293

当你使用

`objOrder.PriceNullable.Equals(0)` 它将对象`decimal?`与 0 一个`decimal`数字进行比较，即`False`

但是当你这样做时

`objOrder.PriceNullable.Value.Equals(0)`它比较一个为 0 的十进制值并返回`true`

这样做以获得更多说明

```
decimal? nullableZero = 0;
bool result3 = objOrder.PriceNullable.Equals(nullableZero);// returns true 
```

# java - eclipse egit 工作目录 vs jenkins 和 git 方式

> ID：12670540
> 
> 赞同：1
> 
> 时间：2012-10-01T09:22:08.697
> 
> 标签：java, eclipse, git, jenkins, egit

我开始学习 git，以 svn 方式创建了一个 git repo（每个 repo 有很多项目）并开始开发项目

```
x/
+--.git/
      +--y/
         |--pom.xml
         +--rest of java files and folders 
```

所以实际上我的java项目的`y`根是但git repo的根是`x`. eclipse 处理得非常好，允许您在成为项目根目录的 repo 中指定“工作目录”/“路径”

但是当我尝试将它与 jenkins 集成时，我意识到 git 方式是“每个项目一个 repo”，我无法在 jenkins 中提供这样的“工作目录”。

我的问题是：如果 Eclipse 与世界其他地方不兼容，那么 Eclipse 引入了“工作目录”/“路径”的概念是什么？我应该什么时候使用它？我确定我错过了什么，但不知道是什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:31:13.727

“每个 repo 的许多项目”在 git 世界中称为**[子模块。](http://git-scm.com/book/en/Git-Tools-Submodules)**
将每个 repo 限制为一个项目会更好（并且与其他框架的期望更兼容，例如 Jenkins），但是 git repo 可以通过子模块引用许多其他 repo。

[工作目录](http://wiki.eclipse.org/EGit/User_Guide#Working_Directory)默认为 x，但如果您想将实际存储库与工作目录分开，则可以是任何其他路径（`x/.git`您可能希望在其他地方）

# javascript - 文本转换：Google Chrome v.22 中的大写错误

> ID：12670542
> 
> 赞同：8
> 
> 时间：2012-10-01T09:22:12.173
> 
> 标签：javascript, css, google-chrome

我在 Chrome（版本 22.0.1229.79）中遇到了一个错误（从上周开始），其中包含一些试图将字段值转换为大写的 javascript。它似乎与使字段值同时*看起来*大写的 CSS (text-transform:uppercase) 冲突。
当跳出该字段时，onChange 事件处理程序将尝试将字段值更改为大写，但结果是该字段变为空。但是，如果您再次尝试在该字段中输入，您之前的文本会再次出现。

有没有其他人看到过同样的事情？我认为它需要向 Google 报告。

这是一个测试用例...... [http://jsfiddle.net/fhBx2/2/](http://jsfiddle.net/fhBx2/2/)

```
<script>
function upperKey(obj) 
{
    var val = obj.value;
    if(val != null)
    {
        obj.value = val.toUpperCase();
    }    
}
</script>

<input type="text" style="text-transform:uppercase;" 
onchange="upperKey(this);"/> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T23:50:04.710

对于实际上对此有疑问的任何人，我发现您可以通过将值重置为空白然后恢复为原始值（但大写）来解决问题。

```
$(function() {
    $('input').change(function(e) {
        var val = $(this).val().toUpperCase();
        $(this).val('').val(val);
    });
});​ 
```

查看更新的小提琴：http: [//jsfiddle.net/JXA8K/2/](http://jsfiddle.net/JXA8K/2/)

# html - 如何使我的网页在所有不同的分辨率/显示器下看起来都很好

> ID：12670551
> 
> 赞同：-2
> 
> 时间：2012-10-01T09:22:40.507
> 
> 标签：html, css, web

当我在具有 15.6" 屏幕的笔记本电脑上运行我的 Web 项目时，它看起来不错。但是在任何其他显示器（例如 22" 显示器）中，它看起来不同且糟糕。

有解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:25:22.857

[媒体查询](http://webdesignerwall.com/tutorials/css3-media-queries)适用于响应式网页设计。网上有很多教程。

# php - 通过 PHP 函数传递数组

> ID：12670555
> 
> 赞同：2
> 
> 时间：2012-10-01T09:22:46.850
> 
> 标签：php, function

我确信必须有办法做到这一点：

我想要这样如果我调用这样的函数......

```
callFunction("var1","var2","var3"); 
```

函数“callFunction”会将这些变量转换为数组，即：

```
$array[0] = "var1";
$array[1] = "var2";
$array[2] = "var3"; 
```

无论调用函数时列出了多少变量，我都希望它生成这个数组，这可能吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-01T09:25:08.673

您可以简单地执行以下操作：

```
function callFunction() {
    $arr = func_get_args();
    // Do something with all the arguments
    // e.g. $arr[0], ...
} 
```

[`func_get_args`](http://php.net/manual/en/function.func-get-args.php)将返回传递给函数的所有参数。您甚至不需要在函数头中指定它们。

[`func_num_args`](http://www.php.net/manual/en/function.func-num-args.php)将产生传递给函数的参数数量。我不完全确定为什么存在这样的事情，因为你可以 simple `count(func_get_args())`，但我认为它存在是因为它在 C 中存在（实际上是必要的）。

如果您再次用不同的语言寻找这种功能，它通常被称为[Variadic Function](http://en.wikipedia.org/wiki/Variadic_function)，如果您需要快速谷歌它，它通常被称为“varargs” :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:25:35.197

只需`func_get_args()`从该函数返回：

```
function callFunction(){
    return func_get_args();
}

$array = callFunction("var1","var2","var3","var4","var5");
var_dump($array);

/*array(5) {
  [0]=>
  string(4) "var1"
  [1]=>
  string(4) "var2"
  [2]=>
  string(4) "var3"
  [3]=>
  string(4) "var4"
  [4]=>
  string(4) "var5"
}*/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T10:09:20.103

像这样调用你的函数。

```
callFunction( array("var1", "var2", "var3", "var4", "var5") ); 
```

并像这样创建您的功能。

```
function callFunction($array)
{
    //here you can acces your array. no matter how many variables are listed when calling the function.
    print_r($array);
} 
```

# c# - 如何进行循环以检索流图像？

> ID：12670557
> 
> 赞同：0
> 
> 时间：2012-10-01T09:23:00.807
> 
> 标签：c#, aforge

我怎样才能让所有的流媒体 jpeg 创建一个 avi？

```
Bitmap img = eventArgs.Frame;
for (int i = 0; i < 1000; i++)
{
    //img.SetPixel(i, i, Color.Red);
    writer.AddFrame(img);
}
writer.Close(); 
```

我从 AForge 那里得到了这个例子，[http:](http://www.aforgenet.com/framework/docs/html/5fedbbbe-6d28-5f69-35a2-9d7119544a2d.htm) //www.aforgenet.com/framework/docs/html/5fedbbbe-6d28-5f69-35a2-9d7119544a2d.htm 但是当我测试它时，它会创建一个具有 1 个相同帧的视频文件从视频开始到结尾。

我如何执行 writer.AddFrame(img); 每次都用新帧创建视频文件？

编辑：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;

using System.Drawing;
using System.IO;

using AForge.Video;
using AForge.Video.VFW;
using AForge.Video.DirectShow;

namespace VidRec
{
    public partial class LiveRecording : System.Web.UI.Page
    {
        AVIWriter writer = new AVIWriter("MSVC");   //video with compression

    protected void Page_Load(object sender, EventArgs e)
    {
            //camera source
            string streamingSource = "http://e888.example.com:81/snapshot.cgi";

            // create new AVI file and open it
            writer.Open("c:\\video.avi", 640, 480);

            //IPcam streaming source to be recorded
            JPEGStream JPEGSource = new JPEGStream(streamingSource);
            //MJPEGStream JPEGSource = new MJPEGStream(streamingSource);
            //login name and password
            JPEGSource.Login = "login";
            JPEGSource.Password = "password";
            //set NewFrame event handler
            JPEGSource.NewFrame += new NewFrameEventHandler(video_NewFrame);

            //start streaming the image files
            JPEGSource.Start();
    }

    private void video_NewFrame(object sender, NewFrameEventArgs eventArgs) //event handler for NewFrame
    {
        //get frame
        Bitmap image = eventArgs.Frame;
        //add the image as a new frame of video file
        writer.AddFrame(image);

    }

    protected void Button1_Click(object sender, EventArgs e)
    {
        writer.Close();
    }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:34:04.160

如果您查看您的示例，您会看到它们在每个循环中都修改了图像。你没有，所以你从头到尾都有相同的框架。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T11:43:48.150

要测试一个示例，只需稍作更改并取消注释第 4 行，例如：

```
Bitmap img = eventArgs.Frame;
for (int i = 0; i < 1000; i++)
{
    JPEGStream JPEGSource = new JPEGStream(streamingSource);
    img = (bitmap)JPEGSource;
    // if JPEGSource is stream not image then use below like instead of above line
    // img = Image.FromStream(JPEGSource);
    writer.AddFrame(img);
}
writer.Close(); 
```

如果上述方法不起作用并且您将此流保存到名称为 timestamp.jpeg 的任何文件夹中，那么您可以使用以下代码：

```
using System.IO; 
```

现在：

```
Bitmap img = eventArgs.Frame;
for (int i = 0; i < 1000; i++)
{
    // JPEGStream JPEGSource = new JPEGStream(streamingSource);
    // save it to folder like d:\images\
    // if you are saving images to folder using any other program 
    // then this might not be needed
    string[] filePaths = Directory.GetFiles(@"d:\images\");
    foreach(string f in filePaths)
    {
        img = Image.FromFile(f);
        writer.AddFrame(img);
    }
}
writer.Close(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:37:01.523

对于循环的每次迭代，您都需要将下一张图像放入您的 img 中。

你将它们冷加载到一个数组中，然后在你的 for 循环中循环。

* * *

评论后编辑

假设您有 10 个图像名称 1.jpg 到 10.jpg

你冷做一个这样的数组。

```
 Image[] imageAry = new Image[10];

        for (int i = 0; i < 10; i++)
        {
            imageAry[i] = Image.FromFile(string.Format("{0}.jpg", i + 1))
        } 
```

然后你会在你的 for 循环中使用你的 imageAry 数组并遍历每张图片。

# php - 为什么我的 php json 中的 jquery 未定义类型错误？

> ID：12670560
> 
> 赞同：-2
> 
> 时间：2012-10-01T09:23:16.973
> 
> 标签：php, jquery, json

我不知道出了什么问题，我只是遗漏了一些东西，我所有的预期数据都基于 firebug 的控制台选项卡成功接收，问题是显示数据。

这是我的jQuery代码：

```
success: function(data){
            var toAppend = '';
            if(typeof data === "object"){
                for(var i=0;i<data.length;i++){
                    toAppend += '<tr><td colspan="2">'+data[i]['main-asin'][0]+'</td></tr>';
                    toAppend += '<tr><td>'+data[i]['sub-asin'][0]+'</td><td></td></tr>';
                }
                $('.data-results').append(toAppend);
            }
        } 
```

这是我的php代码：

```
 foreach($xml->Items->Item as $item){
    $items_from_amazon[] = array('main-asin'=>$item->ASIN);
    foreach($xml->Items->Item->Variations->Item as $item){
        $items_from_amazon[] = array('sub-asin'=>$item->ASIN);
    }
}

echo json_encode($items_from_amazon); //return amazon products 
```

这是我的萤火虫的结果： ![在此处输入图像描述](../Images/6156982104a199c22904a918d74ebade.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:29:45.237

数组的每个元素都是一个具有*单个*`$items_from_amazon`键的关联数组，即or 或。所以数组的第一个元素将具有属性集，但不是；所有其他人将只有，但没有。*`main-asin``sub-asin``data``main-asin``sub-asin``sub-asin``main-asin`*

 *解决它的一种方法是像这样更新您的代码：

```
toAppend += '<tr><td colspan="2">'+data[0]['main-asin'][0]+'</td></tr>';
for(var i = 1; i<data.length; i++){
  toAppend += '<tr><td>'+data[i]['sub-asin'][0]+'</td><td></td></tr>';
} 
```

...但也许最好改变响应和处理代码的结构：

```
PHP:

foreach($xml->Items->Item as $item){
  $new_item_from_amazon = array(
    'main-asin' => $item->ASIN,
    'sub-asin'  => array(),
  ); 
  foreach($xml->Items->Item->Variations->Item as $item) {
    $new_item_from_amazon['sub_asin'][] = $item->ASIN;
  }
  $items_from_amazon[] = $new_item_from_amazon;
}

JS:

toAppend += '<tr><td colspan="2">'+data['main-asin']+'</td></tr>';
for (var i = 0, l = data['sub-asin'].length; i < l; i++){
  toAppend += '<tr><td>'+data['sub-asin'][i]+'</td><td></td></tr>';
} 
```

我在`sub-asin`这里分配了一个空数组作为值，以避免`data['sub-asin']`在 JS 中进行额外检查。*

# jquery - 无法让 jQuery 图像滑块工作

> ID：12670561
> 
> 赞同：1
> 
> 时间：2012-10-01T09:23:24.537
> 
> 标签：jquery, image, slider, gallery

这几天我一直在为此苦苦挣扎——不久前我为我的网站购买了一个 jQuery 图像滑块插件，并一直在尝试实现它，但由于我无法理解的原因，它根本无法工作。我已向开发人员发送了一封电子邮件，该开发人员回复说我已正确安装所需的编码，并且我已尝试按照说明多次重新安装插件，但我仍然无法让我的插件工作。它只是从我的本地站点显示为空白。我尝试过的一些免费插件/图像滑块教程也产生了同样的问题，尽管正确输入了代码，但我的图像显示为彼此堆叠，而不是一个漂亮、平滑的滑块。

我的代码有问题吗？

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
    <title>LITESTAR</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link href="script/style.css" rel="stylesheet" type="text/css" />
    <!-- Google Webfonts -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,300' rel='stylesheet' type='text/css' />
    <!-- LayerSlider styles -->
    <link rel="stylesheet" href="layerslider/css/layerslider.css" type="text/css" />

    <!-- jQuery with jQuery Easing JS -->
    <script src="layerslider/jQuery/jquery-1.6.2.min.js" type="text/javascript"></script>
    <script src="layerslider/jQuery/jquery-easing-1.3.js" type="text/javascript"></script>

    <!-- LayerSlider from Kreatura Media -->
    <script src="layerslider/js/layerslider.kreaturamedia.jquery-min.js" type="text/javascript"></script>

    <script type="text/javascript">
                $(document).ready(function(){
                    $('#layerslider').layerSlider({
                        skin : 'lightskin',
                        skinsPath : '../layerslider/skins/'
                    });
                });     
            </script>
    </head>
    <body>
    <div id="container">
      <div id="header">
        <ul class="menu">
          <li><a href="#">Home</a></li>
          <li><a href="#">About Us</a>
            <ul>
              <li><a href="#">Corporate Overview</a></li>
              <li><a href="#">Our Capabilities</a></li>
              <li><a href="#">Our Team</a></li>
              <li><a href="#">Contact Us</a></li>
            </ul>
          </li>
           <li><a href="#">Solutions &amp; Services</a>
            <ul>
              <li><a href="#">Biometric &amp; RFID Access Control Systems</a></li>
              <li><a href="#">Video Surveillance Systems</a></li>
              <li><a href="#">Track &amp; Trace Systems</a></li>
              <li><a href="#">Logistic Management Systems</a></li>
              <li><a href="#">Professional IT &amp; Office Equipment</a></li>
              <li><a href="#">Document Management Systems</a></li>
              <li><a href="#">Infrastructure (Connectivity)</a></li>
              <li><a href="#">Systems Integration</a></li>
              <li><a href="#">Projects &amp; Solutions Deployment</a></li>
              <li><a href="#">Outsourced Professional Services</a></li>
            </ul>
          </li>
          <li><a href="#">Products</a>
            <ul>
              <li><a href="#">ACTAtek, Certis, Bioguard, ArtecID</a></li>
              <li><a href="#">HIKVISION, AXIS, microlight</a></li>
              <li><a href="#">Customised RFID Asset Tracking System</a></li>
              <li><a href="#">Cristal WMS, RFID Smart Tag</a></li>
              <li><a href="#">Microsoft, Supermicro, HP, IBM</a></li>
              <li><a href="#">CareInc eForm</a></li>
            </ul>
          </li>
          <li><a href="#">Support &amp; Download</a>
            <ul>
              <li><a href="#">Corporate Brochure</a></li>
              <li><a href="#">Product Brochure</a></li>
            </ul>
          </li>
          <li><a href="#">Latest News</a></li>
        </ul>
      </div>
      <!--End Header-->
      <div id="wrapper">
      <!--LayerSlider begin-->
       <div id="layerslider" style="display:block;">
      <!--LayerSlider layer-->
        <div class="ls-layer">

            <!--LayerSlider background-->
            <img class="ls-bg" src="images/banner1.png" alt="layer1-background" />
            </div>
            <!--LayerSlider layer-->
        <div class="ls-layer">

            <!--LayerSlider background-->
            <img class="ls-bg" src="images/banner2.png" alt="layer1-background" />
            </div>
         <!--LayerSlider layer-->
        <div class="ls-layer">

            <!--LayerSlider background-->
            <img class="ls-bg" src="images/banner3.png" alt="layer1-background" />
            </div>
         <!--LayerSlider layer-->
        <div class="ls-layer">

            <!--LayerSlider background-->
            <img class="ls-bg" src="images/banner4.png" alt="layer1-background" />
            </div>
      </div>
      </div>
      <!--End Wrapper-->
      <div id="footer"> </div>
      <!--End Footer--> 
    </div>
    <!--End Container-->
    </body>
    </html> 
```

# iphone - 在 didSelectRow 方法中使用单元格（从 cellForRow 方法返回）

> ID：12670566
> 
> 赞同：0
> 
> 时间：2012-10-01T09:23:56.457
> 
> 标签：iphone, objective-c

我被困在一个我想在图像按钮顶部添加图像的地方，这样当我点击它时按钮的图像就会改变。我必须在 didSelectRow 方法中编写逻辑。因此，我需要编写以下行来添加该图像：

```
button=[UIButton alloc] initWithFrame:CGRectMake(230,0,40,40];
button.addTarget: self action: @selector(buttonPressed:withEvent:) forControlEvents:UIControlEventTouchUpInside];
button.tag=indexPath.row;
[button setImage: [UIImage imageNamed:@"a.png"] forState:UIControlStateNormal];
[cell addSubview: button]; 
```

虽然这在我在 cellForRow 中编写上述代码时有效，但这在 didSelectRow 中不起作用，因为此方法中未定义单元格。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:27:02.697

在 didSelectRow 中尝试此操作以获取单元格

```
UITableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:33:12.770

试试这个

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{  

    UITableViewCell *cell=[tableView cellForRowAtIndexPath:indexPath];
    for (UIButton *button in cell.subviews) {
        if (button.tag==indexPath.row) {
            [button setImage: [UIImage imageNamed:@"another.png"] forState:UIControlStateNormal];
        }
    }
} 
```

# android - 3g 状态描述

> ID：12670567
> 
> 赞同：1
> 
> 时间：2012-10-01T09:23:59.683
> 
> 标签：android

我有一个使用 REST Web 服务的 android 项目，该服务通过 3G 或 WiFi 进行通信。当通信是无线时，我收到以下错误代码：

```
WebOperationContext.Current.OutgoingResponse.StatusDescription = new 
CustomException(ex).Error; 
```

`CustomException`内部类错误处理在哪里

但这在 3G 时不起作用

# asp.net - 从用户控件（.ascx 文件）中获取数据并将其绑定为树格式

> ID：12670568
> 
> 赞同：0
> 
> 时间：2012-10-01T09:24:03.143
> 
> 标签：asp.net, c#-4.0

在这里，我得到了需要以树格式显示的数据，这些数据来自用户控件，即 UControl1.ascx。现在我需要以树格式显示数据。由于它是远程数据，我无法绑定它。我将数据输入 UControl1。然后绑定到一个占位符并显示它。直到这没有问题。现在我需要在树视图中显示它我使用的代码如下所示

```
UControl1 myControl = (UControl1)Page.LoadControl("~/Views/Controls/UControl1.ascx");
Views.Controls.UControl1 List1 = new UControl1();
myControl.Currentdata = Obj;
placeholder.Controls.Add(myControl); 
```

任何人都可以建议我的方式

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:28:11.713

您可以使用`TreeView control`

链接：http: [//msdn.microsoft.com/fr-fr/library/system.web.ui.webcontrols.treeview.aspx](http://msdn.microsoft.com/fr-fr/library/system.web.ui.webcontrols.treeview.aspx)

页面代码：

```
<asp:TreeView ID="TreeView1" Runat="server" DataSourceID="XmlDataSource1"/>

<asp:XmlDataSource ID="XmlDataSource1" runat="server" DataFile="Test.xml"></asp:XmlDataSource> 
```

注意：TreeView 控件绑定到 XmlDalaSource，此控件加载文件 Test.xml。

在我们的案例中，UserControl 可以包含返回路径的公共属性

```
public class UserControl1 : UserControl
{
   public string PathXmlDataSource{get;set;}
} 
```

所以 ：

```
UserControl myControl = (UserControl)Page.LoadControl("~/Views/Controls/UserControl.ascx");
YourTreeView.DataFile = myControl.PathXmlDataSource; 
```

# java - Libraray/Toolkit API：当包含对象未知时如何处理组合

> ID：12670571
> 
> 赞同：0
> 
> 时间：2012-10-01T09:24:11.250
> 
> 标签：java, database, api-design

想不出好标题。

我正在创建一个库/工具包，用于在数据库中存储和搜索一种特殊类型的数据（与问题无关，但它是化学结构）。搜索功能返回一个化合物列表，其中化合物由一种或多种化学物质组成。

使用该工具包的开发人员可以使用它来创建多个存储化合物的应用程序。这个想法是所有应用程序都应该只有 1 个商店。例如，假设他创建了一个库存系统，其中每个容器都包含一种化合物。他还创建了一个用于存储生物测试结果的应用程序。我们现在有 2 个类（Container、BiologicalTestResult），它们包含一个 Compound 但 API 不知道。我想要的是在存储化合物时，API 应该能够存储它出现在哪些应用程序中。因此，在应用程序 A 中搜索时，仅返回应用程序 A 中实际存在的化合物。

此外，在搜索 API 时，应该能够按特定于该应用程序的数据进行过滤，例如。testResult =“失败”或剩余金额 > 100。

什么是实现这一目标的好方法？我认为最简单的解决方案是通过字符串连接构建 SQL 语句（具有相关的缺点）。这将消除工具包存储它所属的应用程序的需要。例子：

```
search(String searchTerm, String selectFields, String joinTable, Filter filter); 
```

其中“selectFields”是从“joinTable”返回的字段，“joinTable”是包含复合表外键的应用程序表，过滤器是包含“where子句”的自定义类，例如将字段名称映射到条件(>,<, like, = ...) 和一个值。

这合理吗？更好的想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T16:32:19.177

答案是要有一个合适的领域模型，然后你就可以使用 QueryDSL。

# continuous-integration - 将系统环境变量传递给 Jenkins Slave

> ID：12670572
> 
> 赞同：7
> 
> 时间：2012-10-01T09:24:15.093
> 
> 标签：continuous-integration, jenkins, environment-variables, slave

这开始让我发疯了..但似乎我自己搞砸了：/

我需要建立一种机制来在两个从机之间共享字符串值，例如，名为 slave **A**和 slave **B**。

目前我发现的最接近的是这个 SO Question: [Jenkins Slave Environment Variable Refresh](https://stackoverflow.com/questions/8523749/jenkins-slave-environment-variable-refresh)

但它的目标仍然是在 buildscripts 中启用访问，而不是在 Slaves 环境变量本身中。（相关的 SO Question: [How are environment variables used in Jenkins with Windows Batch Command?](https://stackoverflow.com/questions/8606664/how-are-environment-variables-used-in-jenkins-with-windows-batch-command)）

目前我有这个设置：

1) 在**A**上，作业*A*被触发。

它执行这个 windows 批处理代码（实际路径显然被替换为 '<>'）：

```
cmd /c start java -jar <path_of_slave>\slave.jar -jnlpUrl  <url_of_slave>/slave-agent.jnlp

setenv.exe /m HOR_BUILD_ID -delete
setenv.exe /m HOR_BUILD_ID %BUILD_NUMBER%
setenv.exe /m HOR_UPSTREAM_ID -delete
setenv.exe /m HOR_UPSTREAM_ID %JOB_NAME% 
```

非常不言自明和直截了当的恕我直言。

2) **A**上的作业有上游作业*B*，在成功构建时触发。因此，在从**B**构建中，*B*构建执行此批处理代码（实际路径显然被替换为 '<>'）：

```
SetLocal EnableDelayedExpansion

@echo off
@echo --- Refreshing Environemnt variables... 
@echo on
set prgfil=%ProgramFiles(x86)%
call "%WORKSPACE%\..\..\..\tools\misc\resetvars.bat"
@echo --- Reading environment variables... 
copy /y "<path_containing_%HOR_UPSTREAM_ID%_variable" "<path_containing_%HOR_BUILD_ID%_variable"
if !errorlevel!==0 goto ok1
goto error
:ok1

goto end

:error
EndLocal
exit /b 1

:end
EndLocal 
```

注意：resetvars.bat 和 resetvars.vbs 取自此 SO 问题：[是否有从 Windows 的命令提示符刷新环境变量的命令？](https://stackoverflow.com/questions/171588/is-there-a-command-to-refresh-environment-variables-from-the-command-prompt-in-w)

* * *

输出（%HOR_BUILD_ID% 和 %HOR_UPSTREAM_ID% 值）仍然过时......刷新新变量的唯一方法是重新启动该死的 jenkins（主）服务，但这在 CI 环境中绝对不行。 ..

**现在问题浮出水面 - 如何在B**上的构建作业*B*被触发时刷新/重新读取这些变量，以便我可以使用例如 EnvInject 插件从不使用从属设备访问系统变量？

 *** * *

另一个需要用户交互的问题和答案，因此在我的情况下是不可接受的：[Jenkins - 在工作之间传递变量？](https://stackoverflow.com/questions/9704677/jenkins-passing-variables-between-jobs)

* * *

这在我的情况下也不起作用：http: [//comments.gmane.org/gmane.comp.java.hudson.user/37897](http://comments.gmane.org/gmane.comp.java.hudson.user/37897)

* * *

也许从站及其对应的节点没有收到变量/正确解析其环境，导致无法从全局环境变量中检索信息？查了一下，突然一些有趣的*环境变量*配置数据让我眼前一亮：

NODE_LABELS | 产品发布

NODE_NAME | 一种

...这是给奴隶**B**的，但它应该是不同的值，因为这最初是给奴隶**A 的**...什么鬼？？？？？？？？？？？？？？？！！！！！！！！！：/

我开始觉得根本问题是 Jenkins 在解析多个从节点信息时存在错误。

决定创建一个问题@Jenkins jira：[https ://issues.jenkins-ci.org/browse/JENKINS-15397](https://issues.jenkins-ci.org/browse/JENKINS-15397)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-16T00:15:09.887

您是否考虑过添加参数化触发器插件？

[https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Trigger+Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Trigger+Plugin)

这应该允许您将参数从第一个作业传递到第二个作业（例如要删除的作业名称）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-17T17:50:18.350

看起来像这样（https://issues.jenkins-ci.org/browse/JENKINS-6604）修复进行了以下更改：

*   修复了在 Windows 2k8 (R2) x64 (Datacenter) 机器中无法安装多个从站的问题；
*   修复了无法正确解析值的问题。设置没有改变......但似乎重新输入所有登录名就可以了。
*   可能破坏了 Tool Environemnt 设置，因为 NODE_LABELS 和 NODE_NAME 不再加载到系统信息配置中 xD ...但是只要此设置实际有效（并且在下一次 jenkins 更新中没有损坏...），谁在乎

作为参考，我创建的 jira 问题仍然是开放的......**

# .htaccess - CakePHP 分支路由

> ID：12670573
> 
> 赞同：1
> 
> 时间：2012-10-01T09:24:15.193
> 
> 标签：.htaccess, cakephp, controller, url-routing

我正在尝试在实时站点上测试一些新功能。

我的目标是有一个前缀（例如“dev”），并让该前缀显示具有默认操作的完整站点，除了我定义为 dev_{action_name} 的那些。

例子：

```
/dev/orders/create 
```

寻找 OrdersController::dev_create() 动作，如果没有找到，使用 OrdersController::create()。

到目前为止，我设法为路由器制作了一个标准的“dev”前缀，并添加了一些 beforeFilter 魔法，例如：

```
<?php
//bootstrap.php code:
Configure::write('Routing.prefixes', array('admin', 'dev'));

// AppController::beforeFilter() code:
if (preg_match('/^dev_(.*)$/', $this->params['action'], $subs)){
   $new_action = $subs[1];
   if (method_exists($this, $new_action)){
          $this->params['action'] = $new_action;
    } 
}
?> 
```

这按预期工作，除了完整的路由模式未复制到“dev”，这意味着所有链接都在没有“dev 前缀的情况下呈现，并且我的自定义路由被忽略。

我考虑过使用 .htaccess 规则修复它并在查询字符串中放置一个 dev=true ：

```
#webroot/.htaccess
RewriteRule ^dev(.*)$ index.php?dev=true&%{QUERY_STRING}
#... rewrite conds ...
RewriteRule ^(.*)$ index.php [QSA,L] #original Cake rewrite 
```

但这没有产生任何结果（Cake 仍在解析原始 URL，而不是重新编写的 URL）。

有这样做的“正确”方式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-02T07:06:32.647

我已经用 CakePHP 2.2.1 成功地实现了这一点。这很丑，很长，违反规则，但它有效！:D

文件：**/app/webroot/.htaccess**

```
RewriteEngine On
RewriteRule ^dev/(.*)$ $1 //my hack
    //      /dev/orders/create => /orders/create 
    //      /dev/css/main.css => /css/main.css
    // This only changes the url for the next rule
    // Cake would have still parsed /dev/orders/create
    // but this is needed for the sake of static files in app/webroot
//cake native rewrite
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ index.php [QSA,L] 
```

文件：**bootstrap.php**

```
$url = (!empty($_SERVER['REQUEST_URI'])) ? $_SERVER['REQUEST_URI'] : ''; 
    //$url is still /dev/orders/create, despite the rewrites

Configure::write('App.dev', false); 
//we use this to check if we're in "dev" mode
//anywhere in the app, just call: 
    //  if ( Configure::read('App.dev') ) ...

//check if URL starts with /dev
if (preg_match('|^/dev|', $url)){ 
    /* the most important thing is to trick CakePHP
    into thinking it's on a /dev/ subfolder on the server
    this preserves all the routing as it 
            should be, not making it prefixed route */
    Configure::write('App.base', '/dev');
    Configure::write('App.dev', true);
    //this changes /dev/orders/create to /orders/create 
            //for Cake's Route parser
    $_SERVER['REQUEST_URI'] = preg_replace('|/dev|', '', $_SERVER['REQUEST_URI']); 
}
?> 
```

至此，我们已经拥有了让 CakePHP 在 /dev/ 下显示站点的完整副本所需的一切。Cake 执行所有默认操作+视图，所有链接都按预期工作（只要您对 URL 使用帮助程序），所有静态文件都得到服务。所有应用程序路径和常量保持不变。

现在来看看一些方法魔法：

```
<?php
//file: AppController.php
public function invokeAction(CakeRequest $request) {

    if (Configure::read('App.dev')) {
        $new_action = 'dev'.$request->params['action'];
        if (method_exists($this, $new_action)){
            $request->params['action'] = $new_action;
        }
    }

    return parent::invokeAction($request);
}
?> 
```

所有这些使我们能够：

*   在 /dev/ 上拥有站点的完整工作别名，其中包括路由、前缀、静态文件、数据库连接等。
*   使用名称前面的“dev”覆盖 ACTION。
*   有一个用于“dev”或“not dev”的开关（App.dev 配置）

例如：

```
<?php
//OrdersController.php

//gets called on /admin/orders/view
public function admin_view(){} 

//gets called on /dev/admin/orders/view
public function devadmin_view(){ 
    //views have to be defined manually for DEV actions
    $this->render('devadmin_view'); 
}

//gets called on /admin/orders/add 
//            AND /dev/admin/orders/add
public function admin_add() {} 

?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-02T01:11:56.730

像这样的东西应该做你想做的事。在调用该操作之前，它会检查它是否存在，如果不存在则回退到原始操作。如果您稍后执行此操作，则会引发异常，因为该操作不存在。

可能还有更多，但这是一个开始。

```
// need to override invokeAction
public function invokeAction(CakeRequest $request) {
  if ($request->prefix == 'dev') {
    if (!method_exists($request->action)) {
      $request->action = str_replace($request->prefix.'_', '', $request->action);
      $request->prefix = null;
    }
  }
  return parent::invokeAction($request);
} 
```

# python - Django 自动化 API 调用

> ID：12670575
> 
> 赞同：0
> 
> 时间：2012-10-01T09:24:19.493
> 
> 标签：python, django, rest

实际上，我开始在**django中进行****自动 API 调用**，以便第三方应用程序可以使用它。

 **我想知道任何可以帮助实现我的目标的图书馆。就我有一个模糊的想法而言，我想使用[宁静的 API 调用。](http://en.wikipedia.org/wiki/Representational_state_transfer#RESTful_web_services)

我需要建议才能开始。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:28:25.173

[Django TastyPie](http://www.google.ru/url?sa=t&rct=j&q=&esrc=s&source=web&cd=2&cad=rja&ved=0CDMQFjAB&url=http://django-tastypie.readthedocs.org/&ei=JmJpUIOHNcfO4QTOo4D4Bw&usg=AFQjCNFDCsVmH564zDOi0wVPCOQNvkXRaw)在 1 行代码中为模型创建了宁静的 API。**

# asp.net - 如何使系列标签显示而不会相互重叠？ASP.NET 4.0

> ID：12670580
> 
> 赞同：1
> 
> 时间：2012-10-01T09:24:59.297
> 
> 标签：asp.net, charts, series, microsoft-chart-controls

我正在开发一个图表（使用 ASP.NET CHART CONTROL），上面有大约 2 或 3 个系列。请看看它现在的样子。如您所见，标签相互重叠，看起来不太好。有什么办法可以解决这个问题并改善图表的整体外观？

谢谢。

![在此处输入图像描述](../Images/ccb64057f5be31f5390b7ff438053095.png)

我的代码：

```
series.ChartType = SeriesChartType.Line
series.YValueType = ChartValueType.Double
series.XValueType = ChartValueType.String
series.BorderWidth = 1
series.ShadowOffset = 1
series.IsValueShownAsLabel = True
series.ToolTip = dtrow.ToString
series.LabelForeColor = Color.Gray

series.LabelToolTip = dtrow.ToString

ChartRatings.Series.Add(series) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-17T22:45:23.477

您还可以在图表之外设置标签，以便更清晰地呈现。

```
Chart1.Series[0]["PieLabelStyle"] = "Outside"; 
```

有关更多信息，请参阅此处的好文章：http: [//betterdashboards.wordpress.com/2009/01/20/overlapping-labels-on-a-pie-chart](http://betterdashboards.wordpress.com/2009/01/20/overlapping-labels-on-a-pie-chart)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T13:37:15.720

启用智能标签。

```
Chart1.Series["Series1"].SmartLabels.Enabled = true; 
```

看看这里[SmartLabels](http://support2.dundas.com/onlinedocumentation/webchart2005/UsingSmartLabels.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-19T19:50:49.020

添加到标记的答案，您还可以添加这些

```
 chart1.Series[1].SmartLabelStyle.AllowOutsidePlotArea = LabelOutsidePlotAreaStyle.Yes
 chart1.Series[1].SmartLabelStyle.IsMarkerOverlappingAllowed = False
 chart1.Series[1].SmartLabelStyle.MovingDirection = LabelAlignmentStyles.Right 
```

# php - Tet Pdf文本提取教程

> ID：12670585
> 
> 赞同：1
> 
> 时间：2012-10-01T09:25:09.430
> 
> 标签：php, pdf, acrobat, text-extraction, pdflib

有谁知道一个好的 TET 教程，它不是标准文档？

pdflib 主页提供的文档不是很好，我真的需要了解它是如何工作的。

当有人可以解释我tet作为答案时，也可以...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T11:51:50.407

只有[标准文档](http://www.pdflib.com/developer/technical-documentation/)，但 pdflib 主页上有一个邮件列表，您可以在其中向使用 tet 和 pdflib 的其他开发人员发布问题。

# ios - -[SHKActionSheet _presentSheetFromView:above:] 中的断言失败

> ID：12670586
> 
> 赞同：0
> 
> 时间：2012-10-01T09:25:13.497
> 
> 标签：ios, uiactionsheet, sharekit

我正在尝试实现一个使用 sharekit 框架的应用程序，当我使用 sharekit 提供的代码时出现 2 个异常，基本上我的程序只是在 facebook 上共享图像

我有一个执行以下操作的按钮

```
 -(IBAction)share:(id)sender
 {
UIImage *img=[UIImage imageNamed:@"eg.png"];
SHKItem *item=[SHKItem image:img title:@"Look"];
SHKActionSheet *actionsheet=[SHKActionSheet actionSheetForItem:item];

[actionsheet showFromToolbar:navigationController.toolbar];
} 
```

当我使用断点时，我发现最后一行有问题

例外情况：1）-[SHKActionSheet _presentSheetFromView:above:] 中的断言失败

2）由于未捕获的异常'NSInternalInconsistencyException'而终止应用程序，原因：'无效参数不满足：view！= nil'

我没有navigationController，所以我只是在头文件中声明了它，这是导致以下错误的原因吗？我做对了吗？我在网上的 sharekit 上找不到任何好的 tuts

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T13:40:12.320

在最后一行尝试 self.view ..它应该可以工作

# html - 简单的 HTML/CSS 幻灯片无法正常工作

> ID：12670587
> 
> 赞同：0
> 
> 时间：2012-10-01T09:25:17.107
> 
> 标签：html, css

我正在尝试使用 HTML/CSS 创建一个简单的图片幻灯片，但在显示来自服务器的图像时遇到了一个小问题。前两个图像从左上角出现，但它们应该出现在缩略图列表的下方。

这是一个 jsfiddle 演示[http://jsfiddle.net/qHyAG/](http://jsfiddle.net/qHyAG/)

你能帮我修一下吗？

HTML：

```
<div class="slideshow">
    <ul>
        <li>

            <img src="http://farm9.staticflickr.com/8288/7843768142_531a2de876_m.jpg" />
            <!-- 
                The slide contents inside DIV. 
                Put anything you like to show.
            -->
            <div>
                 <img src="http://farm9.staticflickr.com/8288/7843768142_531a2de876_m.jpg" />                 <p>Relaxing calm waters back home in <a href="http://ilo.wikipedia.org/wiki/Samboan,_Cebu" target="_blank">Samboan</a>, Cebu, Philippines.</p>
            </div>
        </li>
        <li>

            <img src="http://farm9.staticflickr.com/8319/7988784175_f662ddb020_m.jpg" />
            <div>

                    <img src="http://farm9.staticflickr.com/8319/7988784175_f662ddb020_m.jpg" alt="Summer Pebbles" />

                <p>What a nice place to spend summer. Those mountains belong to Bais, Negros, Philippines</p>
            </div>
        </li>
        <li>
            <img src="images/fluvial_parade.jpg" />
            <div>
                <img src="images/fluvial_parade.jpg" alt="Fluvial Parade" />

                <p>The fluvial parade commemorating the arrival of Child Jesus Christ in Cebu City and the birth of Christianity in the Philippines.</p>
            </div>
        </li>
        <li>
            <img src="images/church_cross.jpg" />
            <div>
                <a href="images/church_cross.jpg" title="Click to see full image" target="_blank">
                    <img src="images/church_cross.jpg" alt="Church Cross" />
                </a>
                <p>Not sure where we took this picture but it's magestic.</p>
            </div>
        </li>
        <li>
            <img src="images/fluvial_parade.jpg" />
            <div>
                <a href="images/fluvial_parade.jpg" title="Click to see full image" target="_blank">
                    <img src="images/fluvial_parade.jpg" alt="Fluvial Parade" />
                </a>
                <p>The fluvial parade commemorating the arrival of Child Jesus Christ in Cebu City and the birth of Christianity in the Philippines.</p>
            </div>
        </li>
        <li>
            <img src="images/fluvial_parade.jpg" />
            <div>
                <a href="images/fluvial_parade.jpg" title="Click to see full image" target="_blank">
                    <img src="images/fluvial_parade.jpg" alt="Fluvial Parade" />
                </a>
                <p>The fluvial parade commemorating the arrival of Child Jesus Christ in Cebu City and the birth of Christianity in the Philippines.</p>
            </div>
        </li>
        <li>
            <img src="images/fluvial_parade.jpg" />
            <div>
                <a href="images/fluvial_parade.jpg" title="Click to see full image" target="_blank">
                    <img src="images/fluvial_parade.jpg" alt="Fluvial Parade" />
                </a>
                <p>The fluvial parade commemorating the arrival of Child Jesus Christ in Cebu City and the birth of Christianity in the Philippines.</p>
            </div>
        </li>
        <li>
            <img src="images/fluvial_parade.jpg" />
            <div>
                <a href="images/fluvial_parade.jpg" title="Click to see full image" target="_blank">
                    <img src="images/fluvial_parade.jpg" alt="Fluvial Parade" />
                </a>
                <p>The fluvial parade commemorating the arrival of Child Jesus Christ in Cebu City and the birth of Christianity in the Philippines.</p>
            </div>
        </li>
        <li>
            <img src="images/fluvial_parade.jpg" />
            <div>
                <a href="images/fluvial_parade.jpg" title="Click to see full image" target="_blank">
                    <img src="images/fluvial_parade.jpg" alt="Fluvial Parade" />
                </a>
                <p>The fluvial parade commemorating the arrival of Child Jesus Christ in Cebu City and the birth of Christianity in the Philippines.</p>
            </div>
        </li>
        <li>
            <img src="images/fluvial_parade.jpg" />
            <div>
                <a href="images/fluvial_parade.jpg" title="Click to see full image" target="_blank">
                    <img src="images/fluvial_parade.jpg" alt="Fluvial Parade" />
                </a>
                <p>The fluvial parade commemorating the arrival of Child Jesus Christ in Cebu City and the birth of Christianity in the Philippines.</p>
            </div>
        </li>
    </ul>
</div> 
```

CSS：

```
.slideshow {
    font-family:Arial, Helvetica, sans-serif;
    width:840px; /* changed */
    height:500px;
    overflow:hidden;
    background-color:#000000;
    color:#FFFFFF;
    border:5px solid #99CC00;
}
.slideshow > ul {
    margin: 0;
    padding: 0;
}
.slideshow > ul > li {
    display:inline;
    margin:0px;
    padding:0px;
    font-size:1px;
    margin-right: -1px;
}
.slideshow > ul > li > div {
  display: none;
  text-decoration: none;
  float:left;
}
.slideshow > ul > li > div > p {
  font-size:11px;
  text-align:center;
  padding:10px 0px 0px 0px;
  margin:0px;
  color:#FFFFFF;
}
.slideshow > ul > li > div > a > img {
    border:2px solid #FFFFFF;
    width:532px; /* changed */
    height:300px;
}

.slideshow > ul > li > div > img {
    border:2px solid #FFFFFF;
    width:532px;
    height:300px;
}

[id^="my_video"] {
    width:500px;
    height:250px;
}

.slideshow  > ul > li > img {
    border:2px solid #FFFFFF;
    margin:0px;
    padding:0px;
    width:80px;
    height:60px;
}
/* Shows slides when mouse pointer is over a thumbnail image */
.slideshow > ul > li:hover > div {
    display: block;
}
/* Highlights the thumbnail image when mouse pointer is over it */
.slideshow > ul > li:hover > img {
    border-color:#FF6600;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:30:21.277

```
.slideshow > ul > li > div {
    display: none;
    text-decoration: none;
    float:left;
    position:absolute;
} 
```

[演示](http://jsfiddle.net/afshinprofe/qHyAG/1/)

# c# - 监视具有相同名称的进程，我在做什么错

> ID：12670591
> 
> 赞同：2
> 
> 时间：2012-10-01T09:25:36.770
> 
> 标签：c#, process, cpu-usage, performancecounter

我正在制作一个测试 WinForm 应用程序，以尝试和监视具有相同名称的进程。但由于某种原因它不起作用。

但是我表格上的标签保持为零。

表单的全局变量：

```
Thread checkProcess;
List<PerformanceCounter> pcs; 
```

单击按钮开始监控过程

```
private void btnMonitor_Click(object sender, EventArgs e)
{
    List<Process> proc = new List<Process>();
    foreach (Process p in Process.GetProcesses())
    {
        if (p.ProcessName.IndexOf(txtProcessName.Text) > -1)
        {
            proc.Add(p);
        }
    }
    pcs = new List<PerformanceCounter>();
    int k = 0;
    foreach (Process p in proc)
    {
        pcs.Add(new PerformanceCounter("Process", "% Processor Time", k > 0 ?
            string.Format("{0}#{1}", p.ProcessName, k) : p.ProcessName, true));
        lstbxPC.Items.Add(k > 0 ?
            string.Format("{0}#{1}", p.ProcessName, k) : p.ProcessName);
        k++;
    }
    checkProcess = new Thread(CheckProcess);
    checkProcess.Start();
} 
```

监视和更新标签的方法（在它自己的线程中开始）：

```
private void CheckProcess()
{
    int temp = 0;
    while (true)
    {
        temp = 0;
        foreach (PerformanceCounter pc in pcs)
        {
            if (temp < pc.NextValue())
            {
                temp = (int)pc.NextValue();
            }

        }
        // Set the label in a ThreadSafe way. This does work
        SetControlPropertyThreadSafe(lblCPU, "Text", Convert.ToString(temp) + "%");
        Thread.Sleep(1000);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T14:52:48.947

有很多事情要检查：

*   你`pcs`有物品吗？（调试）
*   里面的文字是`txtProcessName`什么？（模式是`{process name without exe}#{nb}`，如 devenv#1，devenv#2，...}
*   你能读懂性能计数器吗？（检查安全）
*   因为您将 NextValue() 转换为 int，所以您不会看到任何 < 1% 的变化

您还应该更改代码，因为如果进程停止，您将收到异常（计数器类别中缺少实例）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T16:08:29.643

试穿这个尺寸：

```
 private void btnMonitor_Click(object sender, EventArgs e)
    {
        var proc = Process.GetProcesses().Where(p => p.ProcessName.IndexOf(this.txtProcessName.Text) > -1);
        var k = 1;
        var appendSuffix = proc.Count() > 1;

        this.pcs = new List<PerformanceCounter>();
        foreach (var p in proc)
        {
            this.pcs.Add(new PerformanceCounter(
                "Process",
                "% Processor Time",
                appendSuffix ? string.Format("{0}#{1}", p.ProcessName, k) : p.ProcessName,
                true));
            this.lstbxPC.Items.Add(appendSuffix ? string.Format("{0}#{1}", p.ProcessName, k) : p.ProcessName);
            k++;
        }

        this.checkProcess = new Thread(this.CheckProcess);
        this.checkProcess.Start();
    }

    private void CheckProcess()
    {
        while (true)
        {
            var temp = 0;

            foreach (var pc in this.pcs)
            {
                var nextValue = pc.NextValue();

                if (temp < nextValue)
                {
                    temp = (int)nextValue;
                }
            }

            // Set the label in a ThreadSafe way. This does work.
            SetControlPropertyThreadSafe(lblCPU, "Text", Convert.ToString(temp) + "%");
            Thread.Sleep(1000);
        }
    } 
```

# variables - 什么变量用于存储树视图数据

> ID：12670601
> 
> 赞同：0
> 
> 时间：2012-10-01T09:26:26.397
> 
> 标签：variables, treeview, nodes, treenode

我正在寻找为 dll 中的树视图创建数据。然后我使用该数据在 UI 中形成树视图。

但是我无法弄清楚如何将这些信息存储在一个变量中，即`string int double`显然这两者都不是，但我也看不出如何使用数组或哈希表来做到这一点。

基本上我不知道任何能够存储用于 TreeView 的数据的数据类型，并且想知道是否有人可以让我知道。如果有帮助，我正在使用 C#

我用什么作为返回变量？

```
public static SomeVariable treedata()
{
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:49:27.783

您可以使用树视图控件本身来存储所有数据......存储数据有几种方法，但我会自己创建一个“TreeView”类型的对象......一旦创建，您可以访问节点对象并获取您正在寻找的数据（参见下面的 VB 示例）

```
Dim treeview As New TreeView
treeview.Nodes(0).Text = "Parent Node"
treeview.Nodes(0).Nodes.Add("Child Node")
Dim tempstring As String = treeview.SelectedNode.Text 
```

如果您想对数据做其他事情（例如将其作为对象存储，稍后处理等。您也可以将其保存到文本文件并稍后读取该文件）。这取决于您是否需要存储数据。您也可以将值存储在哈希表中。为此，您需要使用多个 for 循环遍历所有节点，并在这些循环中遍历哈希表的列，同时将值连同节点名称及其父节点插入表字段。如果您是树视图的新手，我建议您阅读其中的一些内容...一旦您了解了它的工作原理，这并不是很困难...（也就是说，如果您确实是新手）

下面的一些链接： [将树视图的内容保存到文件并稍后加载](https://stackoverflow.com/questions/5868790/saving-content-of-a-treeview-to-a-file-and-load-it-later)

[访问 TreeView 控件中的所有节点](https://stackoverflow.com/questions/1372363/accessing-all-the-nodes-in-treeview-control)

[树视图绑定到数据表](https://stackoverflow.com/questions/5593901/tree-view-bindings-to-a-data-table)

问候， 晴天

# windows-phone-7 - 键盘可见性

> ID：12670604
> 
> 赞同：0
> 
> 时间：2012-10-01T09:26:35.110
> 
> 标签：windows-phone-7, keyboard

对于 WP7 应用程序，我有一个需要输入的文本字段。计划两种方式来实现这一点。首先按照规范通过键盘。

其次，在文本字段字段上方，我有一组按钮（在水平滚动列表框中），当文本字段具有允许用户滚动和选择的焦点时可见 - 按下按钮并填充文本字段（文本取决于按下了哪个按钮）

我已经完成了这一切，但我想做的是理想情况下，允许用户在将文本输入文本框时沿按钮滚动，并且仍然可以打开键盘。也就是说，他们可以选择滑动到一个按钮并单击一个按钮，然后将为他们输入他们的文本。

我发现当他们移动到按钮并滑动时，文本字段失去焦点并且键盘消失。这没什么大不了的，只是看起来有点尴尬——这很遗憾，因为除了这个之外，我正在得到我想要的行为。

只是想知道是否有任何方法可以解决这个问题，并在键盘沿着我的水平列表框滑动时以某种方式保持键盘向上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T10:26:27.680

应用程序无法直接控制键盘。它会在文本控件具有焦点时显示并在没有焦点时隐藏。

所以，你唯一能做的就是把焦点放在你的 TextBox 上。

# codeigniter - CodeIgniter 在浏览器重启后删除会话

> ID：12670606
> 
> 赞同：0
> 
> 时间：2012-10-01T09:26:42.057
> 
> 标签：codeigniter

我有这个控制器，它使用 facebook 凭据登录用户。

```
public function Facebook() {
    $fb_data = $this->session->userdata('fb_data'); 
    // This array contains all the user FB information

    $data['fb_data'] = $fb_data;
    $fb = $data['fb_data']['me']['id'];

    $userdata = $this->user_model->getID($fb);

    $userID = $userdata['0']['id'];
    $userNick = $userdata['0']['nick'];

    $session_array = array(
        'id' => $userID,
        'userNick' => $userNick
    );

    $this->session->set_userdata('user_data',$session_array);
    $user = $this->session->userdata('user_data');

    print_r($this->session->all_userdata());

    //print_r($user);

    if($user['id'] && $user['userNick']) {
        redirect('/');
    }
} 
```

它运行良好，但在浏览器重新启动后会话被删除。没有创建任何 cookie。

会话配置：

```
$config['sess_cookie_name'] = 'ci_session';
$config['sess_expiration'] = 0;
$config['sess_expire_on_close'] = FALSE;
$config['sess_encrypt_cookie'] = FALSE;
$config['sess_use_database'] = FALSE;
$config['sess_table_name'] = 'ci_sessions';
$config['sess_match_ip'] = FALSE;
$config['sess_match_useragent'] = TRUE;
$config['sess_time_to_update'] = 300; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:33:30.853

[http://codeigniter.com/user_guide/libraries/sessions.html](http://codeigniter.com/user_guide/libraries/sessions.html)

在应用程序/config/config.php 中：

```
$config['sess_expire_on_close'] = FALSE; 
```

# android-fragments - addToBackStack 的片段动画

> ID：12670608
> 
> 赞同：3
> 
> 时间：2012-10-01T09:26:50.727
> 
> 标签：android-fragments

当我们在片段中使用 addToBackStack() 时如何设置动画？

我的旧片段需要保持不变，新片段应该与动画重叠旧片段并将其显示给用户。

我试过 setCustomAnimation()。但我不能。

谁能帮我吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-02T01:36:10.190

当您要添加片段时，您可以使用 FragmentTransaction 类来设置动画。

所以像这样的事情......

```
FragmentManager fm = activity.getSupportFragmentManager();
FragmentTransaction ft = fm.beginTransaction();

MyFragment fragment = new MyFragment();

    ft.add(android.R.id.content,fragment ,TAG);
    ft.setTransition(FragmentTransaction.TRANSIT_ENTER_MASK);
    ft.addToBackStack(null);
    ft.commit(); 
```

这应该将您当前的片段放在其他任何东西之上，而不会删除任何东西。“setTransition”动画将为片段入口设置动画，但我会尝试使用“setCustomAnimations”来完全控制片段的动画方式。

# android - 如何接收从多重 .net 服务器到 android 基本客户端的广播？

> ID：12670614
> 
> 赞同：1
> 
> 时间：2012-10-01T09:27:13.213
> 
> 标签：android, asp.net, sockets, broadcastreceiver, broadcasting

我有多个广播服务器不断广播消息，例如“IM AVAILABLE AND MY IP ADDRESS IS 192.168.X.XXX”

我可以使用.net 客户端成功接收此消息。我已经使用.net 中的套接字创建了客户端，但现在我想要的是如果我有一些想要从这些.net 获取广播消息的 java 基本客户端或 android 基本客户端服务器那么有可能吗？

我已经在 .net 中实现了这个广播和接收器应用程序，但是对于 .net 服务器和 java 或不同平台的客户端，我不知道是否可能，如果是，那么如何，因为我是 java.so 新手。所以请任何人指导我这个。

以下是我的服务器端广播代码

```
using System;
using System.Net;
using System.Net.Sockets;
using System.Text;

public class Broadcst
{
    public static void Main()
    {
        Socket sock = new Socket(AddressFamily.InterNetwork, SocketType.Dgram, ProtocolType.Udp);

        int portnumber = 9050;

            IPEndPoint iep1 = new IPEndPoint(IPAddress.Broadcast, portnumber);

            IPEndPoint iep2 = new IPEndPoint(IPAddress.Parse("192.168.1.255"), portnumber);

            string hostname = Dns.GetHostName();
            byte[] data = Encoding.ASCII.GetBytes(hostname);

            sock.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.Broadcast, 1);
            sock.SendTo(data, iep1);
            sock.SendTo(data, iep2);

           // portnumber--;
            sock.Close();
    }
} 
```

为了从多个 .net 服务器接收广播消息，我制作了一个接收器程序，如下所示..

```
using System;
using System.Net;
using System.Net.Sockets;
using System.Text;

public class RecvBroadcst
{
    public static void Main()
    {
       Socket sock = new Socket(AddressFamily.InterNetwork,
                           SocketType.Dgram, ProtocolType.Udp);
     //  int port_no=Convert.ToInt32(sock.RemoteEndPoint);

         int portnumber = 9050;

            sock = new Socket(AddressFamily.InterNetwork,
                           SocketType.Dgram, ProtocolType.Udp);
            IPEndPoint iep = new IPEndPoint(IPAddress.Any,portnumber);
            sock.Bind(iep);
            EndPoint ep = (EndPoint)iep;
            Console.WriteLine("Ready to receive...");
          // int port_no = Convert.ToInt32(sock.RemoteEndPoint);
            while (true)
            {

                byte[] data = new byte[1024];
                int recv = sock.ReceiveFrom(data, ref ep);
                string stringData = Encoding.ASCII.GetString(data, 0, recv);
                Console.WriteLine("received: {0}  from: {1}",
                                      stringData, ep.ToString());

                //data = new byte[1024];
                //recv = sock.ReceiveFrom(data, ref ep);
                //stringData = Encoding.ASCII.GetString(data, 0, recv);
                //Console.WriteLine("received: {0}  from: {1}",
                //                      stringData, ep.ToString());

                data = null;
            }
            //portnumber--;

        sock.Close();
    }
} 
```

所以我想要做的是我在.net中制作的接收器程序，作为上面给出的代码，我想要从我的android设备中的多个.net服务器接收广播消息......我怎么能做到这一点？

# recursion - 执行递归lisp函数时堆栈溢出

> ID：12670616
> 
> 赞同：1
> 
> 时间：2012-10-01T09:27:23.510
> 
> 标签：recursion, lisp, common-lisp, stack-overflow, clisp

当我尝试执行以下递归函数时，我在 clisp 中收到“-程序堆栈溢出”提示，我相信该函数返回列表中最常见的元素：

```
(defun greater-member (lst)
  (cond  ((null (cdr lst))
                (cons (car lst) (count-if #'(lambda (x) (eql x (car lst))) lst)))
         ((>= (count-if #'(lambda (x) (eql x (car lst))) lst)
              (count-if #'(lambda (x) (eql x (car (remove (car lst) lst)))) lst))
                (greater-member (remove (car (remove (car lst) lst)) lst)))
         (t (greater-member (remove (car lst) lst))))) 
```

例如**，更大的数字**应返回如下：

```
>(greater-number '(a a a b b b b c))
(b . 4) 
```

请问，是什么原因导致溢出？**通过在 clisp 中重复执行更大的数字**，我已经摆脱了所有小的语法错误——该函数似乎在逻辑上成立。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-01T10:15:20.860

我现在已经意识到我的错误了。

查看我的**空**测试，而不是

```
(null (cdr lst)) 
```

我应该

```
(null (remove (car lst) lst)) 
```

这样冗余的、较少出现的唯一元素就被删除了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T12:28:49.400

更优化的版本：

```
(defun most-common (list)
  (let* ((len 0) (hash (make-hash-table))
         (max-occurences 0)
         key
         (max-possible
          (dolist (i list (ceiling len 2))
            (incf (gethash i hash 0))
            (incf len))))
    (maphash #'(lambda (a b)
                 (if (>= b max-possible)
                     (return-from most-common
                       (if (> b max-occurences) a key))
                     (progn
                       (when (> b max-occurences)
                         (setf key a max-occurences b))
                       (decf max-possible (max 1 (floor b 2))))))
             hash) key)) 
```

# java - 基于Spring Annotation的AOP拦截父类中实现的方法

> ID：12670617
> 
> 赞同：0
> 
> 时间：2012-10-01T09:27:32.973
> 
> 标签：java, spring, aop, spring-aop

我们使用基于注解的 AOP 来拦截功能。

基础接口：

```
public interface BaseInterface { 
    public void someMethod();
} 
```

抽象基础实现：

```
public abstract class AbstractBaseImplementation implements BaseInterface {
    public void someMethod() {
       //some logic
    }
} 
```

子接口：

```
public interface ChildInterface extends BaseInterface {
  public void anotherMethod();
} 
```

实现类

```
public class ActualImplemetation extends AbstractBaseImplementation implements ChildInterface {

   public void anotherMethod() {
     // Some logic
   }
} 
```

有许多从`AbstractBaseImplementation`. 创建自定义注释以识别切点。

方面是

```
@Aspect
public class SomeAspect {

  @Before("@annotation(customAnnotation)")
  public void someMethod(JoinPoint joinPoint) {
     //Intercept logic
  }

} 
```

我们如何`ActualImplemetation.someMethod`使用基于 Annotation 的 AOP 进行拦截（在父类中实现）？

使用 aop 配置，这可以通过

```
<aop:advisor pointcut="execution(* com.package..*ActualImplemetation .someMethod(..))" advice-ref="someInterceptor" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:46:04.093

就像是 ：

```
@Pointcut("execution(* com.package.*ActualImplemetation.someMethod(..))"
// OR
// using BaseInterface reference directly, you can use all sub-interface/sub-class methods
//@Pointcut("execution(* com.package.BaseInterface.someMethod(..))"
logMethod() { //ignore method syntax
 //.....
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T12:19:41.117

这应该进行一些修改：

```
@Pointcut("execution(@CustomAnnotation * *(..))")
public void customAnnotationAnnotatedMethods() {/**/}   

@Before("customAnnotationAnnotatedMethods()")
public void adviceBeforeCustomAnnotation() {
    ...
} 
```

# css - 如何在div中隐藏p1

> ID：12670620
> 
> 赞同：0
> 
> 时间：2012-10-01T09:27:41.450
> 
> 标签：css

如何从 div 中仅删除一个段落 (p1)？这是我完整的 html 和 css：http: [//jsfiddle.net/8Q3YH/](http://jsfiddle.net/8Q3YH/)

我想从下面完全删除 p1 。

```
<div id="quickSummary">
        <p class="p1"><span>A demonstration of what can be accomplished       visually through <acronym title="Cascading Style Sheets">CSS</acronym>-based design. Select any style sheet from the list to load it into this page.</span></p>
        <p class="p2"><span>Download the sample <a href="zengarden-sample.html" title="This page's source HTML code, not to be modified.">html file</a> and <a href="zengarden-sample.css" title="This page's sample CSS, the file you may modify.">css file</a></span></p>
    </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:29:38.327

使用 CSS 你会做

```
#quickSummary .p1 { display:none; } 
```

这隐藏了类 p1 的元素

您可以使用伪类，但并非所有浏览器都支持它

那将是

```
#quickSummary p:first-child { display:none; } 
```

这意味着，quickSummary 中的第一个段落标签将被隐藏。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:32:41.367

你可以这样做

```
#quickSummary .p1 {display: none;} //This will empty the space on your web page

#quickSummary .p1 {visibility: hidden;} //This will hide the paragraph but will reserve the space 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:30:15.240

在你的页面上使用这个 CSS 类

```
.p1{display:none;} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T09:30:51.073

试试这个

```
#quickSummary .p1{display:none; }   // to hide the element 
```

在**CSS 中，您只能隐藏元素**（在浏览器上不可见）。**要从 DOM 中完全删除它，您可以使用 jQuery**

```
$('#quickSummary').find(".p1").remove(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-01T09:31:49.523

CSS？

```
.p1 {
display:none;
} 
```

还; 不需要将整个页面粘贴到 JsFiddle 中 - 您只需粘贴您遇到问题的标记部分。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-01T09:32:26.423

这取决于您的需要。

使用 CSS

```
div#quickSummary .p1
{
display:none;
} 
```

使用 jQuery

```
$('div#quickSummary .p1').hide(); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-01T09:47:43.163

CSS中有很多选项，例如

```
display:block;      (or)  /* text is absent */
visibility:hidden;  (or)  /* text is present but in hidden state */
color:transparent;  /* text is present but in hidden state */ 
```

例子 ：

```
.p1, .p1>a {color:transparent;} 
```

或者使用 jquery 删除`p`标签。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-10-01T10:55:35.533

试试 CSS3 伪选择器——这样你就不需要类了。请注意，虽然在旧版浏览器中不起作用。

尝试

```
#quickSummary li:first-of-type{
display:none; visibility:hidden;
} 
```

# php - 地理位置 - PHP 数组排序

> ID：12670624
> 
> 赞同：1
> 
> 时间：2012-10-01T09:27:57.700
> 
> 标签：php, mysql, geolocation

我在一个目录中有一堆关于营业地点的记录。实际上大约有 4,500 个。

目前我的速度有点问题，原因有两个。当用户加载页面时，他们被要求输入他们的邮政编码。

当他们这样做时，页面将重新加载并获取所有企业，foreach 围绕它们循环并计算输入的邮政编码与为企业存储的邮政编码之间的距离。初始循环完成后（包括 SQL 查询）。然后根据与用户的距离对记录进行排序。

它会导致页面加载速度非常慢，并且目前非常无法使用。

您对加快这一进程有何建议？考虑到您无法轻松缓存结果，因为每个用户的邮政编码都会不同。

实时源 - [http://discoversolar.co.uk/directory/type/mcs-installer/](http://discoversolar.co.uk/directory/type/mcs-installer/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-05T09:37:10.927

您需要通过将距离计算移动到数据库查询中来避免 PHP forloop： 1\. 确保数据库中有业务位置的坐标。2\. 获取用户邮政编码的坐标。3\. 使用地球曲率公式如下。

```
<?php
$postcode_latitude = x;
$postcode_longitude = y;

$sql = "
    select 
        *,
        6371.04 * acos(cos(pi()/2-radians(90-latitude)) * cos(pi()/2-radians(90-".$postcode_latitude.")) * cos(radians(longitude)-radians(".$postcode_longitude.")) + sin(pi()/2-radians(90-latitude)) * sin(pi()/2-radians(90-".$postcode_latitude."))) as distance
    from 
        my_table
    having 
        distance < 50
    order by 
        distance 
    limit 0,10";
?> 
```

这将适用于您的 4,500 个营业地点。根据[sletoH.com](http://www.sletoh.com)的经验，接近 100,000 条 DB 记录，SQL 会变慢。在这个阶段，您需要通过添加 SQL where 子句来避免计算所有 DB 记录的距离。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:30:59.857

你应该寻找`query optimization`

[http://dev.mysql.com/doc/refman/5.0/en/optimization.html](http://dev.mysql.com/doc/refman/5.0/en/optimization.html)

[http://www.techrepublic.com/article/three-easy-ways-to-optimize-your-mysql-queries/6137168](http://www.techrepublic.com/article/three-easy-ways-to-optimize-your-mysql-queries/6137168)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:43:12.777

一种方法是最小化数据集循环。在瑞典，我们的邮政编码的组织方式是，如果一个编码接近另一个编码，那么它们在地理上也彼此接近。

您也许可以选择 100 个最近的数据点并在上面做您的事情。

即使您的算法是 O(n²)，那么使用 4 500 最小化您的集合也会产生很大的“性能”影响（技术上不是，但最终用户会更快地获得页面）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T10:34:44.943

我有一个地图[演示](http://daviestrachan.zxq.net/maps/stationmap8.php)它使用地理编码作为位置和英国车站的数据库（2,757 条记录）。它非常快，可以适应邮政编码。

# asp.net-mvc - 重用 EditorTemplates 作为链接项目 - 不起作用

> ID：12670626
> 
> 赞同：0
> 
> 时间：2012-10-01T09:28:06.347
> 
> 标签：asp.net-mvc, linked-list, mvc-editor-templates, visual-studio-project

我在 Visual Studio 解决方案中有两个 ASP.NET MVC 4 网站。

我在其中一个网站中有一个自定义 EditorTemplate，我想在另一个网站中重用相同的模板。我尝试将此模板添加为第一个网站的链接。

但是当我启动第二个网站时，我的自定义编辑器模板没有呈现。当我打开模板时，我什至无法在那里设置断点，似乎 Visual Studio 没有将此模板视为当前 MVC 项目的一部分。

只要我删除链接的模板并添加实际模板文件的副本，模板就会开始工作。

这是否意味着由于某些奇怪的原因 ASP.NET MVC 项目不支持来自其他项目的链接 cshtml 文件？或者我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T12:25:32.210

> 这是否意味着由于某些奇怪的原因 ASP.NET MVC 项目不支持来自其他项目的链接 cshtml 文件？

是的，这正是它的意思。视图需要在物理上位于同一个 ASP.NET 项目中。如果您不想要这种默认行为，您将不得不编写一个自定义视图引擎，它可以让您从任何地方定位视图。例如，这里[有一篇文章](http://www.chrisvandesteeg.nl/2010/11/22/embedding-pre-compiled-razor-views-in-your-dll/)说明了如何将 Razor 视图嵌入到可重用的库中，并在各种项目中使用它们。

# jquery - Ajax返回表单未提交

> ID：12670628
> 
> 赞同：0
> 
> 时间：2012-10-01T09:28:08.717
> 
> 标签：jquery, html, ajax, forms

我有一个网页，在该网页上使用 ajax 调用获取 html 内容，ajax 调用也返回了表单元素。

使用 ajax 将表单添加到页面后，当我尝试提交表单时，它不起作用并给我错误，即表单元素未定义。

代码是这样的：

```
$.ajax({
    type: "GET",
    url: "url/" + $("#search_id").val(),
    async: false, 
    dataType: "html",
    error: function(XMLHttpRequest, status, errorThrown) {
        alert("Error!!");
    },
    success: function (data, status) {
        $("#parent-element").html("");
        $("#parent-element").append(data);
    },
    complete: function() {
    }
});
//Delegate click event
$('body').delegate('div#footer #submit1','click', function() {
      var form_element=document.getElementById('search_form');
      verifyChecked(form_element);
});

function verifyChecked (form_obj) {
         var formname = form_obj.name;
         var orig_query = document[formname].query.value;
         if (orig_query == "") {
            return false;
         };
         form_obj.submit();
         return false;
     } 
```

上面的代码片段进行 ajax 调用并附加了具有如下形式元素的 html 内容

```
<form id="search_form">
<input type="hidden" value="SOMETHING" name="search">
<input id="query_data" type="text" value="test" name="query">
</form> 
```

现在，当我单击提交按钮时，出现错误：TypeError: document[formname].query is undefined

请帮助纠正它。

* * *

注意：问题是表单元素未绑定到表单。输入元素以 HTML 格式显示，但我认为 DOM 中不存在。所以这就是为什么我的表单提交没有输入元素。

所以问题是我想让输入元素绑定到表单，我该怎么做？我是否需要重新加载 DOM 以及我是如何做到的？

这正是我想要做的：[JS Bin Example](http://jsbin.com/akawax/1/edit)

我现在找到了解决方案，之前我的表格是这样的：

```
<form name="search" id='search_form' action="https://mysearch/search?" onSubmit="return verifyChecked(this);">
<tr>
 <td id="input_p" width="100%">
  <input type="hidden" value="SOMETHING" name="search">
  <input id="query_data" type="text" value="test" name="query">
 </td>
 <td>
  <input type="image" src="graphics/search.gif" id="submit1" />
 </td>
 </tr>
 </form> 
```

现在我已将表单标签移动到与输入标签相同的 td 内：

```
 <tr>
 <td id="input_p" width="100%">
 <form name="search" id='search_form' action="https://mysearch/search?" onSubmit="return verifyChecked(this);">
  <input type="hidden" value="SOMETHING" name="search">
  <input id="query_data" type="text" value="test" name="query">
 </form>
 </td>
 <td>
  <input type="image" src="graphics/search.gif" id="submit1" />
 </td>
 </tr> 
```

和宾果游戏..它开始工作了。我没有解释为什么它的工作。因为我在上面的页面上具有相同的表单和 DOM 结构，可以完美运行，但是对于 ajax 调用返回的表单标记，它不起作用。任何解释都将有助于理解其工作原理。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:47:21.013

尝试改变：

```
var orig_query = document[formname].query.value; 
```

至：

```
var orig_query = $('#query_data').val(); 
```

看看这是否有效。如果确实如此，请在下面查看更多详细信息。

如果您已经在使用 jQuery，请充分使用它。

```
$('body').delegate('#submit1','click', function() {
    var $form_element = $('#search_form');
    verifyChecked($form_element);
});

function verifyChecked ($form) {
    var orig_query = $('#query_data').val();
    if (orig_query != "") {
        $form.submit();
    }
    return false;
} 
```

如果您在表单验证方面遇到问题，请考虑使用一些可以为您简化该任务的库，例如[jQuery Validation 插件](http://docs.jquery.com/Plugins/Validation)或[validate.js](http://rickharrison.github.com/validate.js/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:58:30.890

你的表格

```
<form id="search_form">...</form> <!-- No name --> 
```

在您使用过的函数中，`var formname = form_obj.name;`但您的表单没有名称，`id`因此这`var orig_query = document[formname].query.value;`不起作用。

尝试这个

```
function verifyChecked (form_obj) {
     var formId = form_obj.id;
     var orig_query = document.getElementById(formId).query.value;
     if (orig_query == "") {
        return false;
     }
     form_obj.submit();
     return false;
 } 
```

**更新：** 您正在使用`jQuery`，因此您也可以使用以下

```
$(document).on('click', 'div#footer #submit1', function(){ // delegate is fine too
    verifyChecked($('#search_form')[0]);
}); 
```

和你的功能

```
function verifyChecked (form_obj) {
    var orig_query = $('#query_data', form_obj).val();
    if (orig_query == "") {
        return false;
     }
     form_obj.submit();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:54:44.527

尝试这个

```
function verifyChecked (form_obj) {

     var orig_query = document.getElementById('query_data').value;
     if (orig_query == "") {
        return false;
     };
     form_obj.submit();
     return false;
 } 
```

# c# - 在 C# 中存储时间的类型和在 PostgreSQL 中存储相应类型

> ID：12670632
> 
> 赞同：0
> 
> 时间：2012-10-01T09:28:19.557
> 
> 标签：c#, postgresql, time

我想知道如何在**C#**和**PostgreSQL中存储时间**

前任：

```
var startTime = 8.00;
var endTime = 9.20;
var total = endTime - startTime ;
toatl is 80min 
```

然后将此值存储在数据库中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:34:32.423

在 C# 中可以使用`DateTime`，在 PostgreSQL 中可以使用`TIMESTAMP`类型。

**编辑**

如果您只需要存储时间而不是日期，那么您可以使用该`TIME`类型。另见[http://www.postgresql.org/docs/8.2/static/datatype-datetime.html](http://www.postgresql.org/docs/8.2/static/datatype-datetime.html)。

# ios - 使用消息队列的基于位置的消息系统的系统架构

> ID：12670633
> 
> 赞同：0
> 
> 时间：2012-10-01T09:28:22.490
> 
> 标签：ios, database-design, architecture, activemq, message-queue

我目前正在设计一个移动应用程序，它可以根据用户位置向时间线发送和阅读消息。实际开发版本是使用**ActiveMQ**发送和消费消息，但还没有完成，所以我更愿意在继续开发之前定义架构应该如何以避免将来出现问题。我不确定这是正确的方法，但这是我的想法：

*   每个用户都是向其队列发送消息的生产者。队列名称可以是用户的唯一 ID。
*   如果距离足够近，用户可以订阅其他用户队列。这涉及到一组用户队列的*主题。*该队列应该是动态的，通过检索固定半径内的用户生成，该半径是圆的中心，即消费者的位置。每个用户都有自己的*主题*或*队列*（与 Twitter 的时间线非常相似）。这意味着每个用户队列将有多个消费者。

在客户端，我一直在使用 Objective-C stomp 客户端作为与队列的连接协议。

我的问题是，这是解决问题的好方法吗？我不确定使用 ActiveMQ 和*Topics*对附近用户的用户订阅是一种可行的架构。你对这个时间线订阅问题有什么建议吗？另一方面，我很清楚每个用户都需要成为自己队列的生产者，但也许我也错了。

**编辑**

任何包含有关该主题的更多信息的参考、链接、书籍等都将受到高度赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-02T02:50:25.820

顶一下，关于这个的一些想法......

*   使用主题而不是队列将消息“广播”给多个订阅者等。
*   基于位置的动态订阅对我来说似乎不太适合 JMS 技术
*   考虑使用带有地理空间（又名基于位置）索引/搜索内置的东西（如[mongoDB](http://www.mongodb.org/display/DOCS/Geospatial+Indexing)或空间数据库）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:39:57.613

一个问题是添加一个新用户意味着添加一个新队列。这是怎么做的？这不会限制您的系统可以支持的用户数量吗？

您可以让您的用户生成消息以发送到主题并注册为消费者。

另一种方法是非阻塞 IO 和[Netty](https://netty.io/)。

# blackberry - 为黑莓 10 开发应用程序并在 webworks 中玩书，我应该下载哪个 sdk？

> ID：12670636
> 
> 赞同：1
> 
> 时间：2012-10-01T09:28:25.457
> 
> 标签：blackberry, blackberry-simulator, blackberry-webworks, blackberry-playbook, blackberry-10

实际上，我想从 WebWorks 制作一个针对 BlackBerry 10 和 Playbook 设备的 BlackBerry 应用程序。那么为此，我应该下载哪个 SDK？如果我为 BlackBerry 10 制作这个应用程序，它是否适用于 Playbook？

在 WebWorks HTML5 中执行此操作的目的是针对 Playbook 和 BlackBerry 10 设备的我的 BlackBerry 应用程序。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-02T17:53:54.517

有两种选择，它们都与您的目标或发布范围有关：

## 在剧本上发布

如果您想发布 Playbook 应用程序，请下载[适用于 BlackBerry PlayBook OS 2.2 的](https://developer.blackberry.com/html5/download/#playbook)WebWorks SDK（也称为 BlackBerry WebWorks SDK for Tablets）。这将允许您部署到以下设备/服务：

*   开发手册设备
*   Playbook 模拟器（通过 VMware Player）
*   纹波模拟器
*   程序库

## BB10 设备的发布

如果您想发布针对 BB10 设备的软件，请下载[BlackBerry 10 WebWorks SDK](https://developer.blackberry.com/html5/download/#blackberry10)（目前处于测试阶段）。

这将允许您部署到以下设备：

*   开发阿尔法手机
*   开发 Alpha B 手机
*   BlackBerry 10 Dev Alpha Simulator（通过 VMware 播放器）
*   波纹模拟器
*   （请注意，直到 2013 年，BB10 还不能部署到 App World）

## 两种设备的发布

目前还不清楚针对 playbook 的 Webworks 应用程序是否会在 BB10 上运行。答案似乎是肯定的（和否定的） RIM 的[BBUI.js](https://github.com/blackberry/bbUI.js)项目可以部署到 Playbook 设备并具有 BB10 UI/UX。BBUI.js 还针对 BB10 Webworks SDK，所以只要你注意你使用的 API（没有特定于设备的……比如 NFC 只在 BB10 上等），你就可以了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-02T05:19:55.543

下载适用于 BlackBerry 的 HTML5/Webworks SDK。

你可以在这里下载：[https ://developer.blackberry.com/html5/](https://developer.blackberry.com/html5/)

# javascript - 根据属性对 javascript 数组进行排序

> ID：12670645
> 
> 赞同：1
> 
> 时间：2012-10-01T09:29:01.130
> 
> 标签：javascript, json, dojo

我是 JSON 和 Javasript 的新手。

我有 JSON 格式的数据

```
var data = [
"FirstName: 'xyz', Lastname 'QSD', rollNo:'1',EntryDate:'2012-09-11T17:35:31.835+02:00'"

"FirstName: 'abc', Lastname 'qgr', rollNo:'2',EntryDate:'2012-08-11T17:35:31.835+02:00'"

] 
```

我想根据 FirstName 或 roll no 或我选择的任何其他属性对其进行排序。

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T09:53:34.753

由于您将问题标记为`dojo`，因此这里是 dojo 方式 via [`dojo/store/Memory`](http://livedocs.dojotoolkit.org/dojo/store/Memory)。还有一个[Dojo Object Store](http://dojotoolkit.org/documentation/tutorials/1.8/intro_dojo_store/)教程。

请参阅 jsFiddle 中的以下代码：http: [//jsfiddle.net/phusick/MGUBT/](http://jsfiddle.net/phusick/MGUBT/)

```
require(["dojo/store/Memory"], function(Memory) {

    var data = [
        { FirstName: 'xyz', Lastname: 'QSD', rollNo: '1', EntryDate: '2012-09-11T17:35:31.835+02:00' },
        { FirstName: 'abc', Lastname: 'qgr', rollNo: '2', EntryDate: '2012-08-11T17:35:31.835+02:00' }
    ];

    var store = new Memory({ data: data });

    var sortedData = store.query(null, {
        sort:[{ attribute: "FirstName", descending: false }]
    });

    console.dir(sortedData);

});
​ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T09:37:11.027

如果`data`应该是一个包含对象的数组，你可以这样做：

```
data.sort(function(a,b) {
    return a.FirstName > b.FirstName;
}) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-01T09:45:09.573

第一个问题是数据的结构。你实际上有一个像这样的数组

```
var data = [ "foo", "bar" ]; 
```

这些字符串行包含序列化数据。所以首先我们需要通过[这个 SO question](https://stackoverflow.com/questions/3722715/how-can-i-interpret-a-json-object-received-as-a-string-correctly)中给出的任何方法来提取数据，例如 JSON 库方法：

```
var interpreted = [];
for(var i=0; i<data.length; ++i) {
    interpreted[i] = JSON.parse(data[i]);
} 
```

现在我们有这样的结构：

```
[
    0: {
        'Firstname': 'xyz',
        'Lastname' : 'QSD', // there is a colon missing in the
                            // source, I'm guessing accidentally
        ...
    },
    1: {
        'Firstname' : 'abc',
        ...
    }
] 
```

所以我们可以通过`interpreted[i].Firstname`. 现在我们可以通过传递一个[比较函数，以与](https://stackoverflow.com/questions/6567941/how-does-sort-function-work-in-javascript-along-with-compare-function)[其他 SO 问题](https://stackoverflow.com/questions/979256/how-to-sort-an-array-of-javascript-objects)类似的方式进行排序：`sort()`

```
interpreted.sort(function(a,b) { 
    if(a.Firstname == b.Firstname)
        return 0;
    if(a.Firstname > b.Firstname)
        return 1;
    else
        return -1
} ); 
```

如果要降序排序，则需要交换 1 和 -1 的位置。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T09:35:48.210

您的第一个问题是成员是字符串文字，而不是对象。但只要它们现在这样写，你就可以使用[简单的 sort](http://www.javascriptkit.com/javatutors/arraysort.shtml)。写吧

`data.sort();`

并且数组将按名字排序。

你想要的是这样的：

```
var data = [
 {FirstName: 'xyz', Lastname 'QSD', rollNo:'1',EntryDate:'2012-09-11T17:35:31.835+02:00'},
 {FirstName: 'abc', Lastname 'qgr', rollNo:'2',EntryDate:'2012-08-11T17:35:31.835+02:00'}
] 
```

然后，您可以使用提供您自己的比较器的 sort() 函数进行排序，如下所示：

```
data.sort(function (a, b) {
    return // return a positive number if a > b
           // use a.FirstName to access value of FirstName in a. 

}) 
```

# rest - ServiceStack - REST 服务不反序列化 json 以请求对象

> ID：12670646
> 
> 赞同：1
> 
> 时间：2012-10-01T09:29:11.480
> 
> 标签：rest, servicestack

我在 ServiceStack 中创建了一个 REST 服务，但是当我使用 REST URL 调用它时，它不会反序列化我将服务发布到我的请求对象中的 JSON。如果我使用默认 URL 或在查询字符串中提供参数，它工作正常。

我的请求对象：

```
[Route("/myservice", "POST")]
public class MyRequestObject
{
    public string MyString { get; set; }
    public int MyInt { get; set; }
} 
```

我的服务：

```
public class MyService : Service
{
    public object Post(MyRequestObject request)
    {
        return new
            {
                MyString = request.MyString,
                MyInt = request.MyInt
            };
    }
} 
```

以及我发布到服务的 json：

```
{"myString": "abc", "myint": 42} 
```

我的 REST URL 是 /api/myservice，默认 URL 是 /api/json/asynconeway/MyRequestObject。我已验证服务 get 是使用 REST 和默认 URL 调用的。

非常感谢您的意见。

# 成功标头

## 要求

```
POST /api/json/asynconeway/MyRequestObject HTTP/1.1
Host: bd.local
Connection: keep-alive
Content-Length: 32
Origin: chrome-extension://aejoelaoggembcahagimdiliamlcdmfm
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4
Accept: application/json
Accept-Encoding: gzip,deflate,sdch
Accept-Language: da-DK,da;q=0.8,en-US;q=0.6,en;q=0.4
Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3 
```

## 回复

```
HTTP/1.1 200 OK
Cache-Control: private
Content-Type: application/json; charset=utf-8
Server: Microsoft-IIS/7.5
COMMERCE-SERVER-SOFTWARE: Microsoft Commerce Server, Enterprise Edition
X-Powered-By: ServiceStack/3,914 Win32NT/.NET
X-AspNet-Version: 4.0.30319
X-Powered-By: ASP.NET
Date: Mon, 01 Oct 2012 10:32:37 GMT
Content-Length: 29 
```

# 错误标头

## 要求

```
POST /api/myservice HTTP/1.1
Host: bd.local
Connection: keep-alive
Content-Length: 32
Origin: chrome-extension://aejoelaoggembcahagimdiliamlcdmfm
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4
Accept: application/json
Accept-Encoding: gzip,deflate,sdch
Accept-Language: da-DK,da;q=0.8,en-US;q=0.6,en;q=0.4
Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3 
```

## 回复

```
HTTP/1.1 200 OK
Cache-Control: private
Content-Type: application/json; charset=utf-8
Server: Microsoft-IIS/7.5
COMMERCE-SERVER-SOFTWARE: Microsoft Commerce Server, Enterprise Edition
X-Powered-By: ServiceStack/3,914 Win32NT/.NET
X-AspNet-Version: 4.0.30319
X-Powered-By: ASP.NET
Date: Mon, 01 Oct 2012 10:30:38 GMT
Content-Length: 11 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-28T18:33:19.140

问题可能出在进行 POST 的代码中。数据 json 是否字符串化，例如：

```
JSON.stringify({"myString": "abc", "myint": 42}) 
```

# tfs - TFS 回滚 - TF246021：处理您的请求时出错

> ID：12670655
> 
> 赞同：7
> 
> 时间：2012-10-01T09:30:06.360
> 
> 标签：tfs

我在恢复签到时遇到异常。

> TF246021: 处理您的请求时出错。技术信息（针对管理员）：SQL Server 错误：500200

我的朋友还原了相同的变更集，没有任何问题:(

我在管理员模式下运行 Visual Studio 命令提示符。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-02T11:21:03.467

我有同样的问题并检查我的源代码管理并看到源代码管理中的一个文件夹标记为已删除并存在于我的项目中。

解决方案：尝试从源代码管理中取消删除文件/文件夹

**正如 Anuraj 所说，您可以删除工作区并创建新工作区**

希望能帮助到你

# hibernate - 具有正确查询的休眠 JPA 空结果

> ID：12670656
> 
> 赞同：0
> 
> 时间：2012-10-01T09:30:07.360
> 
> 标签：hibernate, list, jpa, collections, empty-list

Hibernate 检索返回空列表，而填充列表是预期的。涉及2个对象，由注解完成映射：

```
@Entity
@Table(name = "parent")
@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)
class Parent {
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    @Column(name = "ID")
    private long id;
}

@Entity
@Table(name = "child")
@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)
class Child {
    @ManyToOne
    @JoinColumn(name = "parentId")
    @OrderBy(value="id")
    private Parent parent;
} 
```

执行的查询：

```
String queryString = "select c from Child c where c.parent.id = ?1";
Query q = getEntityManager().createQuery(queryString);
q.setParameter("1", parentId);
return q.getResultList(); 
```

当休眠执行该组代码时，它返回一个大小 = 0 的列表。打开 SQL 登录并执行 MAMP 中日志中提供的查询会返回预期结果，任何人有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:33:04.410

这应该可以解决问题：

```
q.setParameter(1, parentId); 
```

当前，您正在调用`Query.setParameter(String, Object)`它是为了在查询中设置命名参数，但您在查询中使用了位置参数。将其更改为`Query.setParameter(int, Object)`将设置位置参数并且查询将起作用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T09:10:31.617

问题是由于事务管理引起的。我们使用 @Transactional for Spring 来指示如何管理事务。但是我们的一些交易策略是错误的。

因此，遇到此问题的人应该打开事务日志，以查看事务是否按照您期望的方式提交。防止您访问尚未提交的事务中的数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T12:50:29.380

而不是这个导入：

```
import javax.persistence.Query 
```

你应该提到这个：

```
import org.hibernate.Query 
```

# android - 键盘出现在PhoneGap应用程序中时WebView闪烁

> ID：12670661
> 
> 赞同：0
> 
> 时间：2012-10-01T09:30:15.517
> 
> 标签：android, cordova, webview

我正在PhoneGap 框架上开发一个网络应用程序。

我发现了一个奇怪的情况，它只发生在 Android 4.0 ICS 设备上。

当我点击输入时，整个视图将缩小以适应新的高度，在我按下后退按钮关闭键盘后再次发生，再次闪烁。

问题仅在我将代码包装在本机容器（PhoneGap）中时发生，它不会在股票浏览器中闪烁。

有任何想法吗？

PhoneGap 2.0.0

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:34:14.577

我在 SO 上找到了答案。

[Android WebView 硬件加速键盘故障](https://stackoverflow.com/questions/10946086/android-webview-hardware-accelerated-keyboard-glitch)

`android:windowSoftInputMode="adjustPan"`在您的活动清单文件中设置，

它解决了我的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-24T12:05:24.323

我解决了问题设置：

```
<application android:hardwareAccelerated="false" ...> 
```

在您的活动清单文件 (my_app/platforms/android/AndroidManifest.xml) 中。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-10-16T22:04:30.297

我试过这个，它对我有用:)

在 android 清单文件 android:windowSoftInputMode="adjustPan|stateHidden" 的活动标记中设置此行

# javascript - 在 AJAX 调用之后访问对象的属性

> ID：12670663
> 
> 赞同：0
> 
> 时间：2012-10-01T09:30:23.707
> 
> 标签：javascript, ajax

我进行了 ajax 调用，并以这种形式从控制器中获取数据。

```
Array
(
[0] => stdClass Object
    (
        [cat_id] => 2
        [title] => Clothes
        [description] => Clothing for men and women
        [active_coupon_counter] => 0
        [store_id] => 1
    )

[1] => stdClass Object
    (
        [cat_id] => 17
        [title] => Designer
        [description] => ;description
        [active_coupon_counter] => 0
        [store_id] => 1
    )

[2] => stdClass Object
    (
        [cat_id] => 24
        [title] => Fashion
        [description] => ;description
        [active_coupon_counter] => 0
        [store_id] => 1
    )

)
Array 
```

这可能看起来很愚蠢，但我无法弄清楚我将如何访问每个数组中的`cat_id`and属性！`title`

任何帮助，伙计们？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T10:01:27.377

您似乎正在获取数据的 PHP var_dump 或 print_r。这不是便于解析的东西。

我不知道该格式有任何 JavaScript 解析器，因此您可能必须从头开始编写一个。[使用 Javascript 编写解析器](https://stackoverflow.com/questions/5874609/tutorials-for-writing-a-parser-with-javascript)的问题教程应该为您提供有关该主题的指导。

您最好编辑服务器端脚本，以更合理的格式（例如 JSON 或 XML）返回数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:41:45.850

您可以只使用对象表示法来访问它们：

```
array[0].cat_id
// returns 2 
```

**更新**

从您的服务器返回的格式必须是`JSON`，它应该如下所示：

```
[
    {
        "cat_id": 2,
        "title": "Clothes",
        "description": "Clothing for men and women",
        "active_coupon_counter": 0,
        "store_id": 1
    },
    {
        "cat_id": 17,
        "title": "Designer",
        "description": ";description",
        "active_coupon_counter": 0,
        "store_id": 1
    },
    {
        "cat_id": 24,
        "title": "Fashion",
        "description": ";description",
        "active_coupon_counter": 0,
        "store_id": 1
    }
] 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-01T10:04:09.623

您是否使用`mysql_fetch_object`从数据库中获取数据？尝试使用`mysql_fetch_assoc`或`mysql_fetch_array`。

此外，响应似乎不是有效的 json 响应，因为在和`json_encode`上都可以正常工作。`mysql_fetch_object``mysql_fetch_assoc/array`

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-01T09:43:11.760

您似乎正在使用 JSON 来发送和接收数据。

因此，您可以访问数组对象并使用：

```
yourArrayObject[indexYouWantToAccess].cat_id 
```

# css - 删除包装器 div 之前的空格

> ID：12670665
> 
> 赞同：4
> 
> 时间：2012-10-01T09:30:25.440
> 
> 标签：css

我想删除那里的空格。我是一个外行用户。如果我犯了一个愚蠢的错误，请原谅我。提前致谢。查看有空间的图像并参考代码。![页面设计图片](../Images/4046c9fc8c8da1f81885255260d0f8ad.png)

html代码：

```
 <html>
    <head>
    <title>CSS</title>
    <link href="styles.css" rel="stylesheet">
    </head>

    <body>
    <div id="wraper">

    <div id="header">
    Header
    </div>
    <div id="sidebar">
    Side
    </div>
    <div id="content">
    Content
    </div>
    <div id="footer">
    Footer
    </div>

    </div>
    </body>
    </html> 
```

CSS代码：

```
 #wraper {
    margin:0 auto;
    width:800px;
    height:1000px;
    background:#FCFCFC;
    }
    #header{
    background:#CFCFC0;
    height:100px;
    width:800px;
    }
    #content {
    float:right;
    width:600px;
    height:700px;
    background:#C0C0C4;
    }
    #sidebar {
    float:left;
    width:200px;
    height:700px;
    background:#CFFCCC;
    }
    #footer {
    clear:both;
    background:#C0CC0C;
    height:200px;
    width:800px;
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:31:53.577

```
*{  
  padding:0; 
  margin:0;
} 
```

`padding`稍后`margin`手动给每个标签

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T09:31:52.943

尝试从 body 和 html 元素中删除填充和边距

```
html, body {
   margin: 0; padding: 0;
} 
```

作为一个好的做法，您可以加载一个`normalize`或`reset`样式表作为第一个 css（例如[http://meyerweb.com/eric/tools/css/reset/](http://meyerweb.com/eric/tools/css/reset/)）以消除浏览器之间的样式差异

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:33:05.717

使用像[http://yui.yahooapis.com/2.9.0/build/reset/reset-min.css](http://yui.yahooapis.com/2.9.0/build/reset/reset-min.css)或[http://meyerweb.com/eric/tools/css/reset/](http://meyerweb.com/eric/tools/css/reset/)这样的 CSS 重置会有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T09:46:55.267

试试这个**[演示](http://jsbin.com/uhirov/1/)**

仅将其添加到 CSS 的顶部

```
html, body {
   margin: 0 auto;padding:0;
} 
```

**0 表示上边距和下边距，auto 表示左右边距以使其居中**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-04-29T07:28:40.410

@Fabrizio 指定的另一个选项是使用规范化 CSS。

[https://github.com/necolas/normalize.css/blob/master/normalize.css](https://github.com/necolas/normalize.css/blob/master/normalize.css)

# c - 为什么检测的 C 程序运行得更快？

> ID：12670667
> 
> 赞同：4
> 
> 时间：2012-10-01T09:30:31.917
> 
> 标签：c, linux, performance, gcc

我正在开发一个（相当大的）现有单线程 C 应用程序。在这种情况下，我修改了应用程序以执行一些非常少的额外工作，包括每次调用特殊函数时递增计数器（此函数被调用约 80.000 次）。该应用程序在运行 64 位 Linux 内核 3.2.0-31-generic 和 -O3 选项的 Ubuntu 12.04 上编译。

令人惊讶的是，代码的检测版本运行得更快，我正在调查原因。我测量执行时间`clock_gettime(CLOCK_PROCESS_CPUTIME_ID)`并获得有代表性的结果，我报告了超过 100 次运行的平均执行时间值。此外，为了避免来自外界的干扰，我尽可能尝试在没有任何其他应用程序运行的系统中启动应用程序（附带说明，因为 CLOCK_PROCESS_CPUTIME_ID 返回进程时间而不是挂钟时间，其他应用程序“应该”在理论上只影响缓存而不直接影响进程执行时间）

我怀疑“指令缓存效应”，也许稍微大一点（几个字节）的检测代码在缓存中的适合度不同且更好，这个假设是否可以想象？我尝试使用 valegrind --tool=cachegrind 进行一些缓存调查，但不幸的是，检测版本比初始版本具有更多的缓存未命中（因为它似乎是合乎逻辑的）。

欢迎任何关于这个主题的提示和可能有助于找出为什么检测代码运行得更快的想法（一些 GCC 优化在一种情况下可用，而在另一种情况下不可用，为什么？，...）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T13:06:50.890

由于问题中没有太多细节，我只能推荐一些在调查问题时需要考虑的因素。

很少有额外的工作（例如递增计数器）可能会改变编译器关于是否应用一些优化的决定。编译器并不总是有足够的信息来做出完美的选择。它可能会尝试优化瓶颈是代码大小的速度。当没有太多数据需要处理时，它可能会尝试自动矢量化计算。编译器可能不知道要处理什么样的数据或将执行代码的 CPU 的确切型号是什么。

1.  增加计数器可能会增加某些循环的大小并阻止循环展开。这可能会减少代码大小（并改善代码局部性，这对于指令或微码缓存或循环缓冲区很有用，并允许 CPU 快速获取/解码指令）。
2.  增加计数器可能会增加某些函数的大小并阻止内联。这也可以减少代码大小。
3.  增加计数器可能会阻止自动矢量化，这又可能会减小代码大小。

即使此更改不会影响编译器优化，它也可能会改变 CPU 执行代码的方式。

1.  如果您在适当的位置插入反增量代码，充满分支目标，这可能会使分支目标的密度降低并改善分支预测。
2.  如果您在某个特定的分支目标之前插入计数器递增代码，这可能会使分支目标的地址更好地对齐，并使代码获取更快。
3.  如果您在写入某些数据之后但再次加载相同数据之前放置计数器递增代码（并且由于某种原因存储到加载转发不起作用），加载操作可能会更早完成。
4.  插入计数器递增代码可以防止两次冲突的加载尝试到 L1 数据高速缓存中的同一组。
5.  计数器递增代码的插入可能会改变一些 CPU 调度程序的决定，并使一些执行端口及时用于一些性能关键的指令。

要研究编译器优化的效果，您可以比较在添加反递增代码之前和之后生成的汇编代码。

要调查 CPU 影响，请使用允许检查处理器性能计数器的分析器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T11:39:46.720

根据我对嵌入式编译器的经验猜测，编译器中的优化工具会寻找递归任务。也许额外的代码迫使编译器看到更多递归的东西，并且它以不同的方式构造了机器代码。编译器为优化做了一些奇怪的事情。在某些语言中（我认为是 Perl？），“不是”条件比“真”条件执行得更快。您的调试工具是否允许您单步执行代码/程序集比较？这可以增加一些关于编译器决定如何处理额外任务的见解。

# delphi - 64位dll到64位进程的delphi xe3 dll注入不起作用

> ID：12670668
> 
> 赞同：3
> 
> 时间：2012-10-01T09:30:39.137
> 
> 标签：delphi, dll-injection

我正在使用此代码将我的 64 位 dll 注入到 Windows 7 64 位上的 64 位进程中，CreateRemoteThread 返回 200 但仍然没有注入 dll，我用另一个源测试了我的 dll，它工作正常，进程资源管理器显示我的代码不起作用，这段代码有什么问题，我使用的是delphi XE3，我已经在64位目标平台上编译了代码。

```
function InjectDLL(dwPID: DWORD; DLLPath: pwidechar): integer;
var
dwThreadID: Cardinal;
hProc, hThread, hKernel: NativeUInt;
BytesWritten: NativeUInt;
pRemoteBuffer, pLoadLibrary: Pointer;
begin
try
hProc := OpenProcess(PROCESS_ALL_ACCESS, False, dwPID);
if hProc = 0 then
begin
  Result := 0;
  Exit;
end;
pRemoteBuffer := VirtualAllocEx(hProc, nil, Length(DLLPath) + 1, MEM_COMMIT,
  PAGE_READWRITE);
if pRemoteBuffer = nil then
begin
  Result := 0;
  Exit;
end;
if WriteProcessMemory(hProc, Pointer(pRemoteBuffer), lpvoid(DLLPath),
  Length(DLLPath) + 1, BytesWritten) = False then
begin
  Result := 0;
  Exit;
end;
hKernel := GetModuleHandle(pwidechar('kernel32.dll'));
pLoadLibrary := (GetProcAddress(hKernel, pansichar('LoadLibraryA')));
hThread := CreateRemoteThread(hProc, Pointer(nil), 0, Pointer(pLoadLibrary),
  Pointer(pRemoteBuffer), 0, dwThreadID);

WaitForSingleObject(hThread, INFINITE);
VirtualFreeEx(hProc, Pointer(pRemoteBuffer), Length(DLLPath) + 1,
  MEM_RELEASE);
CloseHandle(hThread);
CloseHandle(hProc);
// ShowMessage(IntToStr(hThread)+' '+ inttostr(dwThreadID));
Result := 1;
except
on d: exception do
begin
end;
end;
end; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T09:40:16.407

您正在调用`LoadLibraryA`，但将其传递为 UTF-16 编码数据。切换到`LoadLibraryW`或将模块名称转换为 ANSI。

我会做前者。除了切换到`LoadLibraryW`，您还需要复制整个缓冲区。通过替换`Length(DLLPath) + 1`with的两个实例来实现`SizeOf(Char)*(Length(DLLPath) + 1)`。

还有一些评论：

*   使用`PROCESS_ALL_ACCESS`过度。你只需要`PROCESS_CREATE_THREAD or PROCESS_QUERY_INFORMATION or PROCESS_VM_OPERATION or PROCESS_VM_WRITE or PROCESS_VM_READ`.
*   `PAnsiChar`演员阵容看起来`GetProcAddress(hKernel, pansichar('LoadLibraryA'))`不对。因为`'LoadLibraryA'`是 UTF-16 编码的。只需使用`GetProcAddress(hKernel, 'LoadLibraryA')`. 或者`'LoadLibraryW'`如果你走那条路。
*   使用`NativeUInt`手柄是错误的。这实际上并不重要，但您应该使用`THandle`.
*   使用`MEM_RELEASE`时必须传递`0`大小参数。

将所有这些放在一起，代码应如下所示：

```
function InjectDLL(dwPID: DWORD; DLLPath: PWideChar): integer;
var
  dwThreadID: Cardinal;
  hProc, hThread, hKernel: THandle;
  BytesToWrite, BytesWritten: SIZE_T;
  pRemoteBuffer, pLoadLibrary: Pointer;
begin
  hProc := OpenProcess(PROCESS_CREATE_THREAD or PROCESS_QUERY_INFORMATION or PROCESS_VM_OPERATION or PROCESS_VM_WRITE or PROCESS_VM_READ, False, dwPID);
  if hProc = 0 then
    exit(0);
  try
    BytesToWrite := SizeOf(WideChar)*(Length(DLLPath) + 1);
    pRemoteBuffer := VirtualAllocEx(hProc, nil, BytesToWrite, MEM_COMMIT, PAGE_READWRITE);
    if pRemoteBuffer = nil then
      exit(0);
    try
      if not WriteProcessMemory(hProc, pRemoteBuffer, DLLPath, BytesToWrite, BytesWritten) then
        exit(0);
      hKernel := GetModuleHandle('kernel32.dll');
      pLoadLibrary := GetProcAddress(hKernel, 'LoadLibraryW');
      hThread := CreateRemoteThread(hProc, nil, 0, pLoadLibrary, pRemoteBuffer, 0, dwThreadID);
      try
        WaitForSingleObject(hThread, INFINITE);
      finally
        CloseHandle(hThread);
      end;
    finally
      VirtualFreeEx(hProc, pRemoteBuffer, 0, MEM_RELEASE);
    end;
  finally
    CloseHandle(hProc);
  end;
  exit(1);
end; 
```

就个人而言，我可能会传入 a`string`而不是 a `PWideChar`，但也许你有其他动机这样做。

# dynamics-crm-2011 - 如何在 MS CRM 2011 中为实体创建数字字段

> ID：12670677
> 
> 赞同：0
> 
> 时间：2012-10-01T09:31:04.437
> 
> 标签：dynamics-crm-2011

我在一个字段中创建了一个实体，它的类型是整数。

我在该字段中输入数据时遇到问题，即假设我输入了`1234567890`，但是它显示`1,234,567,890`如下。我不想用逗号（`,`）分隔它

如果我选择像十进制数或浮点数这样的类型，则会发生同样的问题。

我怎样才能避免这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T10:25:07.027

这些设置由系统和个人用户设置驱动。

不得不看下：

*   Crm > 设置 > 系统设置 > 系统设置格式
*   Crm > 文件 > 选项 > 个人用户设置格式

您可以在那里自定义和更改格式。

![在此处输入图像描述](../Images/b9fc32aa3804f06952fb91f073edb52b.png)

# android - 当我从横向更改为纵向时，Android 的第一行和第二行之间会出现间隙

> ID：12670680
> 
> 赞同：2
> 
> 时间：2012-10-01T09:31:20.307
> 
> 标签：android, android-layout

我已经为记忆游戏申请了它。它工作正常，但是当我将方向从横向更改为纵向时，第一行和第二行之间有一个微小的差距。. 我制作了一个 tableLayout，在其中制作了一行，我在其中动态地制作行并在单击时插入按钮。

编辑：图像![这里](../Images/11c0768f0d13d289c6f10ea344e3e4ce.png)（见黑色椭圆内）

布局：

```
 <?xml version="1.0" encoding="utf-8"?>

 <TableLayout android:layout_width="fill_parent" 
android:layout_height="fill_parent" 
xmlns:android="http://schemas.android.com/apk/res/android" 

android:id="@+id/TableLayout03">

<TableRow android:id="@+id/TableRow05" 
android:layout_width="wrap_content"
android:layout_height="wrap_content">

<TextView android:layout_width="wrap_content" 
    android:layout_height="wrap_content" 
    android:id="@+id/tv1" 
    android:textColor="#FFFFFF"
    android:textStyle="bold"
    android:textSize="20dip"
    android:paddingLeft="10sp"
    android:paddingBottom="13.64dip" 
    android:layout_weight="1">

</TextView>

 <Chronometer
        android:id="@+id/chronometer1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Chronometer"
        android:textStyle="bold"
        android:textSize="20dip"
        android:paddingBottom="13.64dip"
        android:textColor="#FFFFFF" />
 </TableRow>

    <TableRow android:id="@+id/TableRow03" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:gravity="center"

        >

<LinearLayout android:id="@+id/LinearLayout01" 
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content" 
    android:layout_gravity="center" 
    android:gravity="center">

</LinearLayout></TableRow>
  <TableRow android:id="@+id/scorerow" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:gravity="center"
        >

<LinearLayout android:id="@+id/scorelinear" 
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content" 
    android:layout_gravity="center" 
    android:gravity="center">

    <TextView android:layout_width="wrap_content" 
    android:layout_height="wrap_content" 
    android:id="@+id/scoreboard" 
    android:textColor="#FFFFFF"
    android:textStyle="bold"
    android:textSize="20dip"

    android:paddingLeft="10sp" 
    android:layout_weight="1">

  </TextView>

  </LinearLayout></TableRow>

    <RelativeLayout 
        android:layout_height="wrap_content"
        android:layout_width="wrap_content"
      android:layout_centerHorizontal="true"
      android:gravity="center"

       >

        <Button
            android:id="@+id/play_button"
            android:layout_width="80dip"
            android:layout_height="50dip"
            android:layout_alignParentBottom="true"

            android:text="Play"
            android:textColor="#ffffff"
            android:textSize="25dip"
            android:textStyle="bold" />

       </RelativeLayout>

   </TableLayout> 
```

和Java代码相同的是：

```
private void newGame(int c, int r) {

    Log.v("Start"," New Game");

    tr = (TableRow)findViewById(R.id.TableRow03);
    tr.removeAllViews();
    tablebg = new TableLayout(tbcontext);
    tr.addView(tablebg);

    //tablebg.addView(createRow1());

    for (int y = 0; y < ROW_COUNT; y++) {
        tablebg.addView(createRow(y));
    }
  ......
  .....  
}

private TableRow createRow(int y){
    ///Log.v("Start"," Create New Row");
    TableRow row;
    row = new TableRow(tbcontext);
    row.setHorizontalGravity(Gravity.CENTER);
    row.setVisibility(View.VISIBLE);
    //row.setPadding(0, 0, 0, 0);
    for (int x = 0; x < COL_COUNT; x++) {
         row.addView(createImageButton(x,y));
    }
    tablerow[rw] = row; 
    rw++;
    return row;
}

private View createImageButton(int x, int y){
    //Log.v("Start"," Create Image Button");
    DisplayMetrics metrics = myContext.getResources().getDisplayMetrics();
    int width = metrics.widthPixels;
    int height = metrics.heightPixels;
    if(width < height) {//portrait
        w_width=((width-60)/4);
    }
    if(width > height){//landscape
        w_width=  ((height-100)/6);
    }
    Button button = new Button(tbcontext);
    //Button button = new Button(tbcontext);
    button.setBackgroundDrawable(Card_q);
    button.setId(100*x+y);
    button.setVisibility(View.VISIBLE);
    Log.v("button width",""+w_width);
    button.setWidth(w_width);
    button.setHeight(w_width);
    button.setOnClickListener(buttonListener1);
    bt[btn] = button;
    btn++;
    return button;
} 
```

当我从横向更改为纵向时没有问题。

# c - free() 指针

> ID：12670681
> 
> 赞同：0
> 
> 时间：2012-10-01T09:31:21.620
> 
> 标签：c, memory-management, linked-list

我需要使用一个特殊的库来跟踪我的内存泄漏位置`malloc()= allocate( )`和`free( ) = unallocate( )`.

我正在尝试完成释放 a`linked-list`但似乎“根”值没有被释放。

```
typedef struct _node {
    struct _node *child;
    char *command;
} Command_list;

void delete_commands(Command_list **root)
{
    Command_list *temp;
    while( *root != NULL ){
        temp = (*root)->child;
        //printf("STRING: %s\n", *root->command );
        unallocate( *root );
        *root = temp;

    }
} 
```

调用它的函数

```
void file_processing( .... ){
    Command_list *root = allocate(sizeof (Command_list));
    root = NULL;
....
        delete_commands( &root );  
    }
} 
```

我相信

```
Command_list *root = allocate(sizeof (Command_list)) 
```

由于某种原因没有被正确地取消分配。任何人都可以给我一些提示吗？

**更新：** 我发现不是

```
Command_list *root = allocate(sizeof (Command_list));
        root = NULL; 
```

这有效：

```
Command_list *root = NULL; 
```

有人可以向我解释为什么第一种方法行不通吗？谢谢！:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:44:48.400

```
Command_list *root = allocate(sizeof (Command_list));
    root = NULL; 
```

在这里，您失去了根的一个元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:45:27.797

1)

```
void file_processing( .... ){
    Command_list *root = allocate(sizeof (Command_list));
    root = NULL;
    ...
    delete_commands( &root ); 
```

您是先制作 root=NULL 然后再调用 delete_commands 吗？

2）delete_commands（）不会释放根节点[第一个节点]，但它会释放除第一个节点之外的所有节点，因此，您可能可以在delete_commands中添加以下内容。

```
void delete_commands(Command_list **root)
{
    Command_list *temp;
    Command_list *FirstNode= NULL;
    FistNode  = *root;
    while( *root != NULL ){
        temp = (*root)->child;
        //printf("STRING: %s\n", *root->command );
        unallocate( *root );
        *root = temp;

    }
    if ( *FirstNode != NULL ) unallocate(*FirstNode); 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:46:08.680

我会做这样的事情：

```
void delete_commands(Command_list *root) // Pass the pointer, not the pointer's address
{
    Command_list *temp;
    while(root != NULL)
    {
        temp = root->child;
        //printf("STRING: %s\n", *root->command );
        unallocate(root);
        root = temp;
    }
}

void file_processing( .... ){
    Command_list *root = allocate(sizeof (Command_list));
    root = NULL; // ERROR : you lost the pointer, you probably mean to null the command and child node
    root->command = NULL;
    root->child = NULL;
....
        delete_commands(root); // Pass the pointer, not the pointer's address
        root = NULL; // Now everything is freed, you can nullify this pointer
    }
} 
```

**关于更新：** 第二个版本有效，因为你不分配任何东西，所以 thr 没有什么可以释放的。

# ruby - 从 Ruby 运行 Excel 宏 - 在 Unix 环境中

> ID：12670689
> 
> 赞同：1
> 
> 时间：2012-10-01T09:31:49.340
> 
> 标签：ruby, excel, spreadsheet, xlsx

我有一个 xlsx 格式的 excel 表，它有一个非常复杂的宏，它根据大约 20 个变量计算投资信息。

我应该使用这个 xlsx 文件并在 unix 环境中运行宏。基本上将它与我的后端 Rails 应用程序集成。

我的问题是，如何从 Linux shell 运行宏，是否需要设置单声道才能使用 win32ole？或者我可以使用 roo gem 来完成这个。

谢谢。

# operating-system - PCB中的寄存器信息

> ID：12670692
> 
> 赞同：2
> 
> 时间：2012-10-01T09:31:57.627
> 
> 标签：operating-system

我是操作系统概念的新手。我已经读过PCB包含有关寄存器的信息。这是否意味着“它包含该特定时间实例的所有寄存器内容”或“仅属于特定进程的寄存器”？如果是第二种情况，请告诉我操作系统如何跟踪哪些寄存器属于哪个进程？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-02T00:00:33.060

寄存器是特定于架构的，这是对x86架构中寄存器的描述

[http://en.wikipedia.org/wiki/X86_architecture#x86_registers](http://en.wikipedia.org/wiki/X86_architecture#x86_registers)。

CPU 架构规范定义了每个寄存器及其用途。操作系统开发人员在设计和开发操作系统时应遵循这些准则。就进程而言，重要的寄存器是 SP（堆栈指针）、BP（基指针）和 IP（指令指针）。控制寄存器（cr0-cr8）也被进程用于计算。有一些寄存器供操作系统使用，如 IDTR，OS 使用这些寄存器来指向中断描述符表。IDT 用于在发生中断时调用正确的函数。

当您谈论PCB中的寄存器时，它是一种数据结构。当一个进程正在运行并且它的时间片到期时，进程特定寄存器的当前值将存储在 PCB 中并且进程将被换出。当进程计划运行时，寄存器值从 PCB 读取并写入 CPU 寄存器。这是PCB中寄存器的主要用途。

# ruby - Watir：RubyInstaller DevKit 安装错误

> ID：12670694
> 
> 赞同：0
> 
> 时间：2012-10-01T09:32:22.913
> 
> 标签：ruby, rubygems, watir

一直在尝试在WIN XP中安装Devkit，但无法通过以下几点你能帮帮我吗？--代码如下：

```
C:\devkit>ruby dk.rb init
[INFO] found RubyInstaller v1.9.3 at C:/Ruby193

Initialization complete! Please review and modify the auto-generated
'config.yml' file to ensure it contains the root directories to all
of the installed Rubies you want enhanced by the DevKit.

C:\devkit>ruby dk.rb install --force

**[INFO] Updating convenience notice gem override for 'C:/Ruby193'**

[INFO] Installing 'C:/Ruby193/lib/ruby/site_ruby/devkit.rb'

------------------------------------------------------

C:\devkit>devkitvars.bat
Adding the DevKit to PATH...

C:\devkit>
C:\devkit>make --version
GNU Make 3.81
Copyright (C) 2006  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

This program built for i686-pc-msys

C:\devkit> 
```

我的问题是，当我尝试 irb 时，我在下面收到此错误消息，尽管原因是未安装 gem

```
D:\Documents and Settings\cfoley1>irb
irb(main):001:0> require "watir"
=> true

irb(main):002:0>

irb(main):003:0* browser = Watir::Browser.new
FFI::NotFoundError: Function '_get_errno' not found in [msvcrt.dll]
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/commonwatir-2.0.4/lib/watir/bro
wser.rb:89:in `eval'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/win32-process-0.7.0/lib/win32/p
rocess/functions.rb:12:in `attach_pfunc'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/win32-process-0.7.0/lib/win32/p
rocess/functions.rb:64:in `<module:Functions>'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/win32-process-0.7.0/lib/win32/p
rocess/functions.rb:8:in `<top (required)>'
        from C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:i
n `require'
        from C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:i
n `require'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/win32-process-0.7.0/lib/win32/p
rocess.rb:1:in `<top (required)>'
        from C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:i
n `require'
        from C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:i
n `require'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/watir-2.0.4/lib/watir/ie-proces
s.rb:1:in `<top (required)>'
        from C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:i
n `require'
        from C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:i
n `require'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/watir-2.0.4/lib/watir/ie.rb:4:i
n `<top (required)>'
        from (eval):1:in `klass'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/commonwatir-2.0.4/lib/watir/bro
wser.rb:89:in `eval'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/commonwatir-2.0.4/lib/watir/bro
wser.rb:89:in `klass'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/commonwatir-2.0.4/lib/watir/bro
wser.rb:79:in `set_options'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/commonwatir-2.0.4/lib/watir/bro
wser.rb:142:in `set_sub_options'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/commonwatir-2.0.4/lib/watir/bro
wser.rb:64:in `new'
        from (irb):3
        from C:/Ruby193/bin/irb:12:in `<main>'irb(main):004:0> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T10:12:24.673

对我来说，您似乎已经安装了 devkit。有问题吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-02T12:03:00.613

我找到了解决方案：

```
gem uninstall win32-process -v 0.7.0
gem install win32-process -v 0.6.6 
```

感谢大家为我指明正确的方向

# r - 在 R 中追加列和计数频率

> ID：12670698
> 
> 赞同：0
> 
> 时间：2012-10-01T09:32:33.517
> 
> 标签：r

我有一个看起来像这样的数据框：

```
Name       Value1    Value2     Value3
sample1     ttn      mth        lik
sample2     bae      ttn.1      apk
sample3     pas      kasd       mth

dat <- structure(list(Name = c("sample1", "sample2", "sample3"), Value1 = c("ttn", 
"bae", "pas"), Value2 = c("mth", "ttn.1", "kasd"), Value3 = c("lik", 
"apk", "mth")), .Names = c("Name", "Value1", "Value2", "Value3"
), row.names = c(NA, -3L), class = "data.frame") 
```

我想重新排列和计算频率，所以它看起来像：

```
 Value     Source1     Source2
  ttn       sample1
  mth       sample1     sample3
  lik       sample1 
```

我该怎么做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T10:28:44.563

显然你会在这里有一个参差不齐的数组，那么这个怎么样：

```
sapply(unique(unlist(dat[-1])), function(x) dat[apply(dat[-1],1,function(y) x%in%y),1])
$ttn
[1] "sample1"

$bae
[1] "sample2"

$pas
[1] "sample3"

$mth
[1] "sample1" "sample3"

$ttn.1
[1] "sample2"

$kasd
[1] "sample3"

$lik
[1] "sample1"

$apk
[1] "sample2" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T10:27:24.250

这些解决方案不能让您*准确地*到达您想要的位置，但可能足够接近您从那里开始工作。

首先，一些数据：

```
temp <- structure(list(Name = c("sample1", "sample2", "sample3"), 
                       Value1 = c("ttn", "bae", "pas"), 
                       Value2 = c("mth", "ttn.1", "kasd"), 
                       Value3 = c("lik", "apk", "mth")), 
                  .Names = c("Name", "Value1", "Value2", "Value3"), 
                  class = "data.frame", row.names = c(NA, -3L))
temp
#      Name Value1 Value2 Value3
# 1 sample1    ttn    mth    lik
# 2 sample2    bae  ttn.1    apk
# 3 sample3    pas   kasd    mth 
```

这些数据是“宽”的形式。用于`reshape()`将其变为“长”形式。

```
temp1 <- reshape(temp, direction = "long", 
                 idvar="Name", varying = 2:4, sep = "")
#              Name time Value
# sample1.1 sample1    1   ttn
# sample2.1 sample2    1   bae
# sample3.1 sample3    1   pas
# sample1.2 sample1    2   mth
# sample2.2 sample2    2 ttn.1
# sample3.2 sample3    2  kasd
# sample1.3 sample1    3   lik
# sample2.3 sample2    3   apk
# sample3.3 sample3    3   mth 
```

现在，使用`aggregate()`base R 或`dcast()`“reshape2”包中的“值”值进行聚合。

```
aggregate(Name ~ Value, temp1, c)
#   Value             Name
# 1   apk          sample2
# 2   bae          sample2
# 3  kasd          sample3
# 4   lik          sample1
# 5   mth sample1, sample3
# 6   pas          sample3
# 7   ttn          sample1
# 8 ttn.1          sample2
require(reshape2)
dcast(temp1, Value ~ Name, value.var = "Value")
#   Value sample1 sample2 sample3
# 1   apk    <NA>     apk    <NA>
# 2   bae    <NA>     bae    <NA>
# 3  kasd    <NA>    <NA>    kasd
# 4   lik     lik    <NA>    <NA>
# 5   mth     mth    <NA>     mth
# 6   pas    <NA>    <NA>     pas
# 7   ttn     ttn    <NA>    <NA>
# 8 ttn.1    <NA>   ttn.1    <NA> 
```

您还提到您想“计算频率”，在这种情况下，`table()`也可能是合适的：

```
table(temp1$Value, temp1$Name)
# 
#       sample1 sample2 sample3
# apk         0       1       0
# bae         0       1       0
# kasd        0       0       1
# lik         1       0       0
# mth         1       0       1
# pas         0       0       1
# ttn         1       0       0
# ttn.1       0       1       0 
```

# php - 使用 PHP 和 AJAX 在数据库表中重复数据条目

> ID：12670699
> 
> 赞同：1
> 
> 时间：2012-10-01T09:32:34.250
> 
> 标签：php, javascript, mysql, ajax

我们有一个数据库，其中包含 70 多个表和超过 10k 的用户。数据库中的一个表是记录用户的最新动作/更改，以便在比赛周结束（足球比赛）之前保持它们处于未决状态，让我们将此表称为“替代”。

然而，每周我们在游戏周结束时推进系统（应用更改）时，我们会检查是否存储了有关用户更改的任何重复数据（我们不久前注意到了），并从数据库中手动删除它们。

行有主键（不重复），只有数据是重复的。这就像插入查询被触发了两次。（不确定这个或为什么）

示例：假设用户有一队足球运动员（场上 11 名和 4 名替补），当用户选择球员并点击替补时，该球员（场上）将与替补球员（替补）交换）。此过程将立即发生，无需用户保存（JavaScript）。但是，它不会保存在团队详细信息中，而是保存在跟踪更改的 Substitute 表中。

用户想要移除播放器 1 并进入播放器 12 (1->12)。第一步，系统将记录

```
id   Team   from_player  to_player
0       x         1           12 
```

如果用户做另一个替换

```
id   Team   from_player  to_player
0      x        1           12
1      x        2           13 
```

并且当用户替换播放器（12->1）时，该记录将被删除（1->12），因为用户替换播放器并且后面的子取消了第一个。

```
id   Team   from_player  to_player
1     x         2           13 
```

但有时它不止一次记录该行

```
id   Team   from_player  to_player
0       x      1            12
1       x      1            12
2       x      1            12
3       x      2            13 
```

或者副本可能介于两者之间

```
id   Team   from_player  to_player
0      x         1          2
1      x         2          13
2      x         1          2
3      x         1          2 
```

NB 每周只有大约 10-100 个用户会发生这种情况，尽管我们的数据库中注册的用户超过 10k。

那么您认为造成问题的原因是什么？我不想使用`INSERT IGNORE`，我想找到问题的根源并停止它。

所以基本上，我的问题是：

1-可能是服务器端还是客户端问题？

2-在某些情况下可以调用/触发两次ajax代码吗？

3-执行相同查询两次的sql server中可能有错误吗？

非常感谢您的帮助。

更新：

4-如果问题出在客户端，我如何检查它？有什么建议的方法吗？

对于那些问，当用户换回同一个玩家时会发生什么。假设这是原始玩家设置的一部分。

```
 | Original Status | After First Subs|After Second Subs|
                       |                 |                 |                 |
    On the field       |      p1         |        P12      |       P1        |
-----------------------|-----------------|-----------------|-----------------|
                       |                 |                 |                 |
    Subs(at the bench) |      p12        |        P1       |       P12       |
                       |                 |                 |                 | 
```

球场上的原始状态 p1，替补席上的 p12（替补） 行动记录：s1- P1->P12 状态= 球场上的 P12。P1在板凳上

s2- P12->P1 状态= P1 回到场上。P12回到替补席。

请注意，不会记录 s2，但会删除 s1。就像 A * -1，然后又是 -A * -1。将相互取消。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T10:22:29.653

ajax mite 被多次调用，尝试使用你的萤火虫进行检查。您可能需要禁用替代方法，直到成功标志出现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:39:28.713

也许用户通过 UI 多次触发查询。由于 id 是 PK，因此会触发两次相同的查询。

另一个问题。

给定情况时：

```
id   Team   from_player  to_player
0       x      1            12
1       x      1            12
2       x      1            12
3       x      2            13 
```

当用户替换 12->1 时，您的函数是删除“所有”以前的记录还是只删除 1？

# html - url中有空格时htaccess重定向

> ID：12670703
> 
> 赞同：15
> 
> 时间：2012-10-01T09:32:44.113
> 
> 标签：html, .htaccess, url, redirect, web

我想从仍然出现在谷歌搜索中的旧网址重定向到新网址。旧网址是这样的：

```
http://www.marionettecolla.org/file%20_mostra_milano/mostra_marionette-milano.htm 
```

我想将它重定向到主页：

```
http://www.marionettecolla.org/ 
```

我在我的 .htaccess 中使用了这个：

```
Redirect http://marionettecolla.org/file\ _mostra_milano/mostra_marionette-milano.htm http://marionettecolla.org/ 
```

但我收到错误 500... 有人知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-01T09:41:21.060

这应该有效：

```
Redirect 301 "http://marionettecolla.org/file _mostra_milano/mostra_marionette-milano.htm" http://marionettecolla.org/ 
```

把它放在一对双引号之间`" ... "`

**更新：**

这也是另一种方式，应该适用于任何类型的空间：

```
redirectMatch 301 http://marionettecolla.org/file[\s]_mostra_milano/mostra_marionette-milano.htm http://marionettecolla.org/ 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-10-01T09:35:24.077

你不能像**"\"**那样逃避空间。正确的方法是**"\s"**。

虽然我不确定在 htaccess 文件中放置“\s”是否可以解决问题。请让我知道它是否有效。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-06-12T10:08:18.987

试试这个，即使我们测试过它也有效：

重定向 301 "/file _mostra_milano/mostra_marionette-milano.htm" [http://marionettecolla.orgx/](http://marionettecolla.orgx/) " [http://marionettecolla.org](http://marionettecolla.org)

## 发表者

阿拉帕蒂

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-07-08T10:57:54.493

重定向匹配 301 ^/careers[\s]/(.*)$ [http://www.soheil.com/careers/](http://www.soheil.com/careers/) $1

# django - Heroku/Celery：一名工人同时执行任务？

> ID：12670707
> 
> 赞同：2
> 
> 时间：2012-10-01T09:33:04.207
> 
> 标签：django, heroku, celery

是否可以使用 Celery 设置多个更新任务，以便在 Django/Heroku 上同时在一个工作人员上运行？如果我安排某些功能每 5 分钟运行一次，它们会在开始运行时自动重叠，还是会等到所有其他任务完成？我是 Celery 的新手，坦率地说，我对它能做什么感到困惑？):

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T12:45:30.590

默认情况下，Celery 使用多处理来执行任务的并发执行。Celery worker 启动一个进程池来消耗任务。池中的进程数由*--concurrency*参数设置，默认为机器上可用的 CPU 数。

因此，如果并发级别大于 1，则任务将并行处理。

# android - 更改 Android 应用程序的名称

> ID：12670708
> 
> 赞同：3
> 
> 时间：2012-10-01T09:33:04.517
> 
> 标签：android, android-layout

我正在eclipse中开发一个android应用程序。我以为我将它命名为 optimuse，这也是 eclipse 创建的文件夹的标题。

但是当我运行应用程序时，名称显示为“MainActivity”。这也显示在窗口顶部。

我该如何改变这一点。我检查了我的清单，它说：

```
 <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
... 
```

我想我需要更改@string/app_name。但是我在哪里可以做到这一点？

PS：我确实尝试填写一个字符串而不是@string/app_name，但这并没有改变任何东西。

谢谢！

编辑：

为清楚起见，这是我的清单：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.dh.optimuse"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="10"
        android:targetSdkVersion="15" />
    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name=".MainActivity"
            android:label="@string/title_activity_main" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-01T09:34:39.960

打开位于**res**`Strings.xml`文件夹中的in文件夹。`values`

 **将 app_name 更改为您想要的任何内容

如果您不知道位置。只需按住`ctrl`并将光标移动到`@string/app_name`并单击。它将打开 strings.xml 文件

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:38:58.033

除了之前的答案：

您在`<application>`标签内更改的是应用程序的名称（显示在应用程序图标下方）。

如果您需要更改 Activity 的标签（在应用程序运行时显示在屏幕标题处），则需要更改标签`android:label`内部的值。`<actiity>`**

# c++ - Eclipse 与 qt 集成

> ID：12670710
> 
> 赞同：5
> 
> 时间：2012-10-01T09:33:07.437
> 
> 标签：c++, eclipse, qt

我用 c++ cdt 下载 qt 和 eclipse ，我看到 qt 附带 qt ide (qt creator) 来开发 qt 应用程序，这很好，但我想用 eclipse 来做这个，我的意思是在 eclipse 中使用带有 qt 的 c++ 代码。有没有 ？因为我试图使用 qt 来设计我的用户界面，并使用其他库中的其他代码来做其他事情。

我尝试包含头文件（usr/include/qt4），但是当我编译像我们这样的程序（找不到qgui.h）时我仍然遇到问题，任何帮助将qt与像netbeans这样的eclipse集成。

编辑 ：

这是我的输出

```
13:48:48 **** Incremental Build of configuration Debug for project test ****
Info: Internal Builder is used for build
g++ -o test src/test.o -lQtCore 
src/test.o: In function `main':
/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:6: undefined reference to `QApplication::QApplication(int&, char**, int)'
/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:8: undefined reference to `QPushButton::QPushButton(QString const&, QWidget*)'
/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:12: undefined reference to `QApplication::exec()'
/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:12: undefined reference to `QPushButton::~QPushButton()'
/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:12: undefined reference to `QApplication::~QApplication()'
/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:8: undefined reference to `QPushButton::~QPushButton()'
/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:12: undefined reference to `QPushButton::~QPushButton()'
/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:12: undefined reference to `QApplication::~QApplication()'
src/test.o: In function `QWidget::resize(int, int)':
/usr/include/qt4/QtGui/qwidget.h:996: undefined reference to `QWidget::resize(QSize const&)'
collect2: error: ld returned 1 exit status

13:48:49 Build Finished (took 1s.609ms) 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-01T09:51:45.087

我必须在“Project Properties => C/C++ General => Paths and Symbols”中调整以下设置：

在“包含”选项卡上，对于 GNU C++ 语言，添加以下包含路径：

*   /usr/include/qt4
*   /usr/include/qt4/QtCore
*   /usr/include/qt4/QtGui

在“符号”选项卡上，对于 GNU C++ 语言，定义以下值为“1”的符号（对您来说可能不同，但至少需要 QT_CC_GNU、QT_CORE_LIB 和 QT_GUI_LIB）：

*   QT_CC_GNU
*   QT_CORE_LIB
*   QT_GUI_LIB
*   QT_NO_DEBUG
*   QT_SHARED
*   QT_TESTLIB_LIB
*   QT_WEBKIT

使用这些设置，源索引器运行良好。除此之外，Eclipse 只是为构建调用“make”。

# python - 在 Python 2.7 中打开 URL 时返回乱码文本

> ID：12670711
> 
> 赞同：1
> 
> 时间：2012-10-01T09:33:08.577
> 
> 标签：python, json, python-2.7, urllib2, urlencode

我想打开一个 StackExchange API（搜索端点）URL 并解析结果 [0]。文档说所有结果都是 JSON 格式 [1]。我在我的网络浏览器中打开了这个 URL，结果非常好 [2]。但是，当我尝试使用 Python 程序打开它时，它会返回我无法解析的编码文本。这是一个片段

```
á¬ôŸ?ÍøäÅ€ˆËç?bçÞIË
¡ëf)j´ñ‚TF8¯KÚpr®´Ö©iUizEÚD +¦¯÷tgNÈÃ‘.G¾LPUç?Ñ‘Ù~]ŒäÖÂ9Ÿð1£µ$JNóa?Z&Ÿtž'³Ðà#Í°¬õÅj5ŸE÷*æJî”Ï&gt;íÓé’çÔqQI’†ksS™¾þEíqÝýly 
```

我打开 URL 的程序如下。我做错了什么？

```
''' Opens a URL and returns the result '''
def open_url(query):
    request = urllib2.Request(query)
    response = urllib2.urlopen(request)
    text = response.read()
    #results = json.loads(text)
    print text

title = openRawResource, AssetManager.AssetInputStream throws IOException on read of larger files

page1_query = stackoverflow_search_endpoint % (1,urllib.quote_plus(title),access_token,key) 
```

[0] [https://api.stackexchange.com/2.1/search/advanced?page=1&pagesize=100&order=desc&sort=relevance&q=openRawResource%2C+AssetManager.AssetInputStream+throws+IOException+on+read+of+larger+files&site =stackoverflow&access_token=](https://api.stackexchange.com/2.1/search/advanced?page=1&pagesize=100&order=desc&sort=relevance&q=openRawResource%2C+AssetManager.AssetInputStream+throws+IOException+on+read+of+larger+files&site=stackoverflow&access_token=) ******&key=******

[1] [https://api.stackexchange.com/docs](https://api.stackexchange.com/docs)

[2] [http://hastebin.com/qoxaxahaxa.sm](http://hastebin.com/qoxaxahaxa.sm)

**灵魂**

我找到了解决方案。下面是你将如何做到的。

```
request = urllib2.Request(query)
request.add_header('Accept-encoding', 'gzip')
response = urllib2.urlopen(request)
if response.info().get('Content-Encoding') == 'gzip':
    buf = StringIO( response.read())
    f = gzip.GzipFile(fileobj=buf)
    data = f.read()
    result = json.loads(data) 
```

无法发布完整的输出，因为它太大了。非常感谢 Evert 和 Kristaps 指出有关解压缩和在请求中设置标头的问题。此外，另一个类似的问题需要研究 [3]。

[3] [python urllib2 会自动解压从网页获取的 gzip 数据吗？](https://stackoverflow.com/questions/3947120/does-python-urllib2-will-automaticly-uncompress-gzip-data-from-fetch-webpage)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T11:27:56.940

The next paragraph of the documentation says:

> Additionally, all API responses are compressed. The Content-Encoding header is always set, but some proxies will strip this out. The proper way to decode API responses can be found [here](https://api.stackexchange.com/docs/compression).

Your output does look like it may be compressed. Browsers automatically decompress data (depending on the Content-Encoding), so you would need to look at the header and do the same: `results = json.loads(zlib.decompress(text))` or something similar.

Do check the `here` link as well.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T12:00:44.450

我找到了解决方案。下面是你将如何做到的。

```
request = urllib2.Request(query)
request.add_header('Accept-encoding', 'gzip')
response = urllib2.urlopen(request)
if response.info().get('Content-Encoding') == 'gzip':
    buf = StringIO( response.read())
    f = gzip.GzipFile(fileobj=buf)
    data = f.read()
    result = json.loads(data) 
```

无法发布完整的输出，因为它太大了。非常感谢 Evert 和 Kristaps 指出有关解压缩和在请求中设置标头的问题。此外，另一个类似的问题需要研究 [1]。

[1] [python urllib2 会自动解压从网页获取的 gzip 数据吗？](https://stackoverflow.com/questions/3947120/does-python-urllib2-will-automaticly-uncompress-gzip-data-from-fetch-webpage)

# html - CSS 定位高于所有元素

> ID：12670716
> 
> 赞同：21
> 
> 时间：2012-10-01T09:33:16.853
> 
> 标签：html, css, graphics, position

所以我有一个小的登录框，点击登录按钮时会出现。问题是，当它出现时，它出现在页面上其他所有内容的后面。这是它的样子： ![登录](../Images/c897bdc3cf67800632328b2701d71250.png)

如何使登录框始终显示在页面上的任何内容上方？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-10-01T09:35:36.727

一些代码会很好......无论如何尝试使用z-index：

```
#login-box-id {
    z-index:99999;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:35:44.330

你需要应用一些z-indexing，

我假设您将位置设置为绝对或相对或固定，如果是这样，也添加它

```
z-index:2; 
```

如果您需要更多帮助，请提供一些 CSS/html，我可以准确地告诉您它需要去哪里。

# algorithm - 值范围映射算法

> ID：12670718
> 
> 赞同：1
> 
> 时间：2012-10-01T09:33:35.590
> 
> 标签：algorithm, mapping, range

我的问题可能属于一般能力测试或类似的东西。它与嵌入式设备**没有**直接关系。

我得到了一个可变电阻器，它可以无限旋转并且是`10Ω`. ADC 的值范围设置为 0 到 1023 采样。我必须通过它来控制光的亮度/强度。

ADC 值范围分为 32`1024/32`级亮度级别。问题是锅必须旋转 16 次才能到达四肢。这是非常骚扰。现在是我不能改变锅硬件但固件的时候了。

我想这样做如下，请从这里帮助我：

我将在 [0 1023] 内选择一个范围窗口，例如 32 步。现在让我们忽略 ADC 噪声。

然后我们在这 32 个步骤窗口中有 32 个步骤。

如果我从 0 开始，强度将增加到 32。32 是可能的最大强度。然后如果我旋转更多，强度应该一直保持在 32 的最大值，直到 1023。

一旦它从 1023 开始降低，我的强度就会降低到 (1023-32) 并且将一直保持在 0 强度直到 0。

*   如果我从任何地方旋转回来，它应该遵循上面解释的移动窗口规则。

如何开始呢？

* * *

伪代码：

```
void processADC_data()
 {
        ushort adc0 = (ushort)ADC_DATA;
        adc0_Avg = adc0;

        // If Noise 
        /*
        ushort adc0_L = (ushort)(adc0 - 40);
        ushort adc0_H = (ushort)(adc0 + 40);

        adc0 = (ushort)read_ADC( adc0_L,adc0_H );

        adc0_Avg = adc0 * 20 + adc0_Avg * 80;
        adc0_Avg /= 100;
        */

        IsInceasing = (adc0_last - adc0_Avg) < 0 ;
        adc0_last = adc0_Avg;

        if (IsInceasing)
        {

            // Extrimity has to be handled 
            if (!HasPerformedIncreased)
            {
                adc0_center = (ushort)(adc0_Avg - window);
                HasPerformedIncreased = true;
                HasPerformedDecrease = false;
            }
            else if (HasPerformedIncreased)
            {
                IsCrossingLimit = ( (adc0_Avg - adc0_center) > window );
                if(IsCrossingLimit)
                {
                    adc0_Avg = LIGHT_SENS_MAX;
                    IsCrossingLimit = false;
                }
                else
                {
                    adc0_Avg = (ushort)(adc0_Avg / LIGHT_SENS_MAX);
                }
            }

            //judge_brightness(adc0_Avg);
        }
        else
        {
            // Extrimity has to be handled 
            if (!HasPerformedDecrease)
            {
                adc0_center = (ushort)(adc0_Avg + window);
                HasPerformedDecrease = true;
                HasPerformedIncreased = false;
            }
            else if (HasPerformedDecrease)
            {
                IsCrossingLimit = ( (adc0_center - adc0_Avg) > window );
                if(IsCrossingLimit)
                {
                    adc0_Avg = LIGHT_SENS_MIN;
                    IsCrossingLimit = false;
                }
                else
                {
                    adc0_Avg = (ushort)(adc0_Avg / LIGHT_SENS_MAX);
                }
            }

        }

            brightness(adc0_Avg);

    } 
```

谢谢

# android - 长按删除

> ID：12670719
> 
> 赞同：0
> 
> 时间：2012-10-01T09:33:37.797
> 
> 标签：android, gridview, long-press

我已经实现了我的代码来删除和更改长按网格视图的视图。这是我更新的代码。现在我长按时遇到问题然后我必须更改所有项目图像（我在长按时向所有人添加更多视图 - 即十字按钮）

在单击该十字按钮时，我想删除该项目。请帮我。

```
 public class Deletable extends Activity
{
    private LayoutInflater inflater = null;

    Boolean checkLong = false;

    Vector<Integer> mThumbsID =  new Vector<Integer>();

    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.grid_view);

        GridView gridview = (GridView) findViewById(R.id.gridview);
        final ImageAdapter adapter = new ImageAdapter(this);
        gridview.setAdapter(adapter);

        inflater = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        mThumbsID.setSize(9);

        gridview.setOnItemLongClickListener(new OnItemLongClickListener() {

            @Override
            public boolean onItemLongClick(AdapterView<?> parent, View strings,
                    int position, long id) {
                // TODO Auto-generated method stub

                Toast.makeText(Deletable.this, "Deletable "+ position, Toast.LENGTH_SHORT).show();
                checkLong = true;
                //adapter.removeitem(position);
                adapter.notifyDataSetChanged();
                return false;

            }
        });

        /*gridview.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                    long arg3) {
                // TODO Auto-generated method stub

                checkLong = false;
                adapter.notifyDataSetChanged();

            }
        });*/
    }

    public class ImageAdapter extends BaseAdapter
    {
        private Context mContext;

        public ImageAdapter(Context c)
        {
            mContext = c;
        }

        public int getCount()
        {

            return mThumbsID.size();
        }

        public Object getItem(int position)
        {
            return null;
        }

        public long getItemId(int position)
        {
            return 0;
        }

        public void removeitem(int position){
            mThumbsID.remove(position);

        }

        // create a new ImageView for each item referenced by the Adapter
        public View getView(final int position, View convertView, ViewGroup parent)
        {
            View vi = convertView;
            ViewHolder holder =  new ViewHolder();

            if (vi == null) {
                vi = inflater.inflate(R.layout.custom_gridview, null);
            }

            holder.productImage = (ImageView)vi.findViewById(R.id.gv_item);
            holder.delete_icon = (ImageView)vi.findViewById(R.id.imageView1);

            holder.productImage.setImageResource(R.drawable.ic_launcher);

            if(checkLong==true){

                holder.delete_icon.setVisibility(View.VISIBLE);
                holder.delete_icon.setImageResource(R.drawable.cross);
              /*  holder.delete_icon.setOnClickListener(new View.OnClickListener() {

                    @Override
                    public void onClick(View arg0) {
                        // TODO Auto-generated method stub

                        mThumbsID.remove(position);

                    }
                });
*/
            }

            else{

                holder.delete_icon.setVisibility(View.INVISIBLE);

            }

            /*if (convertView == null)
            {
                imageView = new ImageView(mContext);
                imageView.setLayoutParams(new GridView.LayoutParams(85, 85));
                imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
                imageView.setPadding(8, 8, 8, 8);
            }
            else
            {
                imageView = (ImageView) convertView;
            }
            imageView.setImageResource(R.drawable.ic_launcher);*/
            return vi;
        }

          class ViewHolder
            {
                //TextView tvBrandName;
                ImageView productImage,delete_icon;
            }

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:50:22.287

需要从底层适配器的数据集中移除对应的对象（`mThumbIds`），然后调用`adapter.notifyDataSetChanged()`

您可以将数据存储在 Vector 中，例如：

```
Vector<Integer> mThumbIds = new Vector<Integer>(); 
```

像这样初始化它：

```
for (int i = 0; i < mThumbIds.size(); i++) {
            mThumbIds.add(R.drawable.ic_launcher);
        } 
```

在`removeitem()`：

```
public void removeitem(int position){
    mThumbIds.remove(position);

    } 
```

然后删除..

```
public boolean onItemLongClick(AdapterView<?> parent, View strings,
                int position, long id) {
            // TODO Auto-generated method stub

            Toast.makeText(Deletable.this, "Deletable "+ position, Toast.LENGTH_SHORT).show();
            adapter.removeitem(position);
            adapter.notifyDataSetChanged();
            return false;

        } 
```

# java - 从spring mvc app提交后台任务

> ID：12670720
> 
> 赞同：13
> 
> 时间：2012-10-01T09:33:37.220
> 
> 标签：java, multithreading, spring-mvc

我有工作的 spring MVC 应用程序，我接下来要做的是从我的应用程序启动或提交后台任务。

基本上，即使用户决定在应用程序上做其他事情，我也想继续完成任务直到它完成。

但如果需要，我也想停止/杀死/暂停任务。因为在我寻找一种好的/更好的方法之前我没有这样做。

我发现这些很有用：

[http://blog.springsource.com/2010/01/05/task-scheduling-simplifications-in-spring-3-0/](http://blog.springsource.com/2010/01/05/task-scheduling-simplifications-in-spring-3-0/)

[你如何杀死Java中的线程？](https://stackoverflow.com/questions/671049/how-do-you-kill-a-thread-in-java)

[Java 线程：是否可以从在同一 JVM 上运行的不同 Java 程序查看/暂停/杀死特定线程？](https://stackoverflow.com/questions/181615/java-threads-is-it-possible-view-pause-kill-a-particular-thread-from-a-differen)

所以我想使用@Async 任务来提交我的后台任务，但想使用线程的 id 稍后获取它并在需要时停止它？

这是正确的方法吗？我对多线程没有任何经验，所以我来这里听听。

**代码更新：**

```
public interface Worker {
    public void work();
    public void cancel();
} 
```

执行 ：

```
@Component("asyncWorker")
public class AsyncWorker implements Worker {

    @Async
    public void work() {
        String threadName = Thread.currentThread().getName();
        System.out.println("   " + threadName + " beginning work");
        try {
                Thread.sleep(10000); // simulates work
        } catch (InterruptedException e) {
            System.out.println("I stopped");
        }
        System.out.println("   " + threadName + " completed work");
    }

    public void cancel() { Thread.currentThread().interrupt(); }
} 
```

用于测试目的的控制器：

```
@ResponseBody
@RequestMapping("/job/start")
public String start() {
    asyncWorker.work();
    return "start";
}

@ResponseBody
@RequestMapping("/job/stop")
public String stop() {
    asyncWorker.cancel();
    return "stop";
} 
```

当我访问时`/job/start`，我不能同时执行多个任务。另一个只有在第一个完成后才开始执行

另外，当我访问`/job/stop`该过程并没有停止时，我在这里缺少什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-01T09:37:53.630

使用线程 ID 级别太低且脆弱。如果您决定使用[`@Async`注解](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support-async)（不错的选择），您可以使用它[`Future<T>`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html)来控制任务执行。基本上你的方法应该返回 a`Future<T>`而不是`void`：

```
@Async
public Future<Work> work() //... 
```

现在您可以`cancel()`这样做`Future`或等待它完成：

```
@ResponseBody
@RequestMapping("/job/start")
public String start() {
    Future<Work> future = asyncWorker.work();
    //store future somewhere
    return "start";
}

@ResponseBody
@RequestMapping("/job/stop")
public String stop() {
    future.cancel();
    return "stop";
} 
```

棘手的部分是以某种方式存储返回的`future`对象，以便它可用于后续请求。当然，您不能使用字段或`ThreadLocal`. 您可以放入会话，但请注意，这`Future`不是可序列化的，并且不能跨集群工作。

由于`@Async`通常由线程池支持，因此您的任务可能甚至还没有开始。取消只会将其从池中删除。如果任务已经在运行，您可以通过`isInterrupted()`线程标志或句柄`InterruptedException`来发现`cancel()`调用。

# html - 将 li 元素与背景和 z-index 重叠

> ID：12670721
> 
> 赞同：10
> 
> 时间：2012-10-01T09:33:48.653
> 
> 标签：html, css, z-index

我有`ul`一个水平视图中的树列表项。所有列表项都具有相同的背景图像：

![所有 li 的背景图像都相同](../Images/d08dc8663fb00fd72ccdf402146b1ceb.png)

我想重叠背景图像，所以它看起来像这样：

![这就是我试图完成的](../Images/73d770573d35a7e44acd04ad2c1f7efa.png)

这是我的[jsFiddle](http://jsfiddle.net/Diabl0570/Faffz/2/)

CSS：

```
 div#menu ul li{
    height:30px;
    display: inline;
    list-style-type: none;
    width: 60px;
    background: url(http://i.stack.imgur.com/adwVj.jpg);
    background-size: 100%;
    background-repeat: no-repeat;
    padding-right:  5px;
    padding-left:30px;
    z-index:2;        
}

div#menu ul li:first-child{
    padding-left:20px;
    z-index:3;            
}
div#menu ul li:last-child{
    padding-left:35px;    
    margin-left:-30px   
    z-index:1;       
} 
```

HTML：

```
<div id="menu">
       <ul>
           <li>Account</li>
           <li>Registreren</li>
           <li>Winkelwagen</li>
       </ul>
</div> 
```

z-index 出了问题！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-01T09:41:29.710

你应该首先至少`position: relative`给你的列表项，否则`z-index`没有效果。然后只需使用

```
div#menu ul li + li {
   left : -20px;   
} 
```

所以标签将保持紧密（此规则将从第二个`<li>`元素开始应用）

小提琴示例：http: [//jsfiddle.net/Faffz/3/](http://jsfiddle.net/Faffz/3/)

# command-line-interface - 在 CLI 中访问 Virtualbox VM

> ID：12670722
> 
> 赞同：0
> 
> 时间：2012-10-01T09:33:48.790
> 
> 标签：command-line-interface, virtual-machine, virtualbox

我需要从 CLI（无头模式）运行 Virtualbox 虚拟机。我想知道我是否可以在VM中有一个shell？我尝试寻求帮助，但每个人都只是写关于启动/停止虚拟机和添加/删除外围设备等我不感兴趣的内容。我想获取VM的IP地址，可以吗？是否可以通过编程方式编写一个脚本来启动虚拟机、执行几个步骤并关闭虚拟机？

我使用 controlvm 尝试了一些命令，modifyvm 像 vrdp/vrde 但到目前为止没有成功。

任何建议/链接都会有所帮助。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-02T11:41:16.563

我强烈建议你看看流浪汉。[http://vagrantup.com/v1/docs/getting-started/index.html](http://vagrantup.com/v1/docs/getting-started/index.html)

通常 vagrant 使用转发到 2222 的端口 22（ssh 端口）启动您的虚拟机。

因此，即使没有 vagrant，您也可以尝试 ssh'ing 到 127.0.0.1:2222

# c++ - 操作员超载的工作原理

> ID：12670723
> 
> 赞同：0
> 
> 时间：2012-10-01T09:33:53.750
> 
> 标签：c++, operator-overloading

我有以下代码

```
class rectangle
{
    //Some code ...
    int operator+ (rectangle r1)
    {
        return(r1.length + length);//Length is the 1st argument of r1, r2, r3
    }
}; 
```

在主函数中

```
int main()
{
    rectangle r1(10,20);
    rectangle r2(40,60);
    rectangle r3(30,60);
    int len = r1 + r3;
} 
```

在这里，如果我们会看到`operator+()`，我们正在做`r1.length + length`。编译器如何知道第二个`length`return 语句属于 object `r3`not to `r1`or `r2`？我想答案可能在`main()`我们写的

```
int len = r1 + r3; 
```

如果是这样，那我们为什么需要写

```
operator+ (....) 
{
    r1.lenth + lenth; //Why not length + length?
} 
```

为什么不`length + length`呢？因为编译器已经从中`main()`知道了`first length`属于`object` `r1`和`2nd`到`object` `r3`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T09:36:25.537

您将变量名称与参数名称混淆了。在运算符重载中，您将参数命名为`r1`：

```
int operator+(rectangle r1)
{
   return(r1.length+length);
} 
```

这意味着您传递给 的任何参数`operator +`，在操作符的主体内都将被命名`r1`（不管它的原始名称）。

`r1.length`是参数`length`的长度，是当前对象的长度（即`this->length`）。

> //为什么不是长度+长度？

这只会返回当前对象长度的两倍。

我们来分析一下代码：

```
rectangle r1(10,20);
rectangle r2(40,60);
rectangle r3(30,60);
int len = r1+r3; 
```

最后一次调用相当于`r1.operator+(r3)`. 在运算符内部，`length`表示`r1.length`和`r1.length`表示`r3.length`。实际上，甚至不是`r3.length`，因为您是按值传递的，并且将创建一个副本。通常的语法是：

```
int operator+(const rectangle& r1)
{
   return(r1.length+length);
} 
```

此外，**添加矩形**并没有真正的意义，至少你是如何定义它的。添加两个矩形会返回长度的总和，这并不直观。它至少应该返回不同的形状。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T09:36:56.953

对象内的每个变量都不同于另一个对象的变量。只有当您通过参数将对象传递给它时，编译器才会知道。它没有其他方法可以知道这一点。调用该函数时，会在堆栈上创建对象的副本。您在参数列表中指定的名称将是一个编译器将使用的名称，而不管您在调用函数时使用的名称。

```
int operator+(rectangle r1)
    {
        return(r1.length+length);
    }

r1 + r3; //In main 
```

在此示例中，函数调用中对象的名称是`r1`. 你可以给它起任何名字。编译器不知道它的名字是`r3`什么时候在 main 中调用的。你正在从函数中返回一个整数。最好创建一个临时对象并按值返回。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-01T09:37:35.150

> int len = r1+r3;

这得到解决

```
int len = r1.operator+(r3); 
```

因此，该方法在 r1 对象上调用，并且对成员的任何引用`operator+`都将指向成员，`r1`而 r3 是该方法的实际参数。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-01T09:36:44.240

编译器需要区分矩形的长度成员变量`this->length`, 和`r1.length`。写作`length + length`意味着局部范围内的变量`this->length`, 将用于加法的双方。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-01T10:37:43.483

运算符就像 的成员函数，`class rectangle`但具有另一种调用格式。

您也可以按照`int len = r1.operator+(r3);`其他用户的建议作为函数调用。

因此，当您使用类中的运算符编写操作时，编译器会尝试将调用与某些给定的运算符匹配；在您的电话中：

```
int len = r1+r3; 
```

编译器寻找一个`operator+`返回可以放入的东西的`int`a 并接收 a`rectangle`作为参数，它找到了你的`int operator+(rectangle r1)`函数；然后使用参数调用此函数`r3`并返回`int`结果。

给`int operator+(rectangle r1)`函数的参数是 so 的副本**，**`r3`这就是为什么是操作 over`r3`而不是 over `r1`or `r2`。

问题中没有提到这一点，但我认为值得一提：

似乎您`operator+`不适合运算符通常遵循的模型，如果您要添加 a`rectangle`并获取与操作不同的对象，`rectangle`它看起来不像运算符；我认为你必须考虑你想要得到什么以及`rectangle`s的总结是什么。

作为[二元运算符](http://en.wikipedia.org/wiki/Binary_operator)，它通常获取并返回相同类型的对象（以便在操作链中使用它）并且必须是 const，因为它不会更改对象本身：

```
class rectangle
{
    // Reference in order to avoid copy and const because we aren't going to modify it.
    // Returns a rectangle, so it can be used on operations chain.
    rectangle operator+(const rectangle &r) const
    {
        rectangle Result;
        // Do wathever you think that must be the addition of two rectangles and...
        return Result;
    }
};

int main()
{
    rectangle r1(10,20);
    rectangle r2(40,60);
    rectangle r3 = r1 + r2;
    // Operation chain
    rectangle r4 = r1 + r2 + r3;
    rectangle r5 = r1 + r2 + r3 + r4;

    // Is this what you're looking for?
    int width = (r1 + r3).width();
    int height = (r1 + r3).height();
} 
```

如果是一[元运算符](http://en.wikipedia.org/wiki/Unary_operation)，则参数和返回值也必须是同一类型，但返回值必须是参与运算的对象：

```
class rectangle
{
    // Reference in order to avoid copy and const because we aren't going to modify it.
    // Returns a rectangle, so it can be used on operations chain.
    rectangle &operator+=(const rectangle &r) const
    {
        // Do wathever you think that must be the addition of two rectangles and...
        return *this;
    }
};

int main()
{
    rectangle r1(10,20);
    rectangle r2(40,60);
    rectangle r3 = r1 + r2;
    // Weird operation chain, but it's only an example.
    rectangle r4 = (r1 += r2) += r3;
    rectangle r5 = (r1 += r2) += (r3 += r4);
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-01T10:11:30.100

运算符重载的工作方式与常规函数调用一样多/不少。

认为`a+b`作为`a.operator+(b)`。

除了*奇怪的名字*外，那个调用与`a.add(b)`.

如果函数`add`签名是`int A::add(A x)`（其中 A 是一个类），则 b 被复制到 x 中，并且 -inside add body- x 和 a 的所有成员都是可访问的。

但这对运营商来说并没有什么特别之处。它与参数传递（C++ 默认为“通过复制”）变量范围和可见性有关。

如果您能理解这一点，那么运算符重载应该是显而易见的。如果不能，请退回到“函数、成员函数和参数”，在这些概念不清楚之前不要离开那里。

# json - 如何获得 JSON 响应而不是 XML？

> ID：12670726
> 
> 赞同：1
> 
> 时间：2012-10-01T09:34:09.973
> 
> 标签：json, asp.net-mvc-4, asp.net-web-api, content-type

我只是创建一个新的 WebApi 项目并保留默认控制器：

```
public class ValuesController : ApiController
{ 
    // GET api/values/5
    public string Get(int id)
    {
        return "value";
    }

    //other services...
} 
```

当我尝试请求它时，我无法获得有效的 JSON 结果。

*   没有特定的标题 =>`application/xml`结果
*   `content-type`分配给`application/json`=>`application/xml`结果 的标题
*   `accept`分配给的标头给`application/json`了我正确的响应`content-type`，但 JSON 格式不正确：`"value"`。

获得有效 JSON 结果的方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-02T04:33:07.423

> *   没有特定的标头 => 应用程序/xml 结果
> *   将内容类型分配给 application/json => application/xml 结果的标头

你在使用 MVC 4 RTM 吗？如果您使用的是 MVC 4 RTM，则默认格式应为 application/json ...我无法重现您的场景。

> *   分配给 application/json 的标头为我提供了正确的响应内容类型，但 JSON 格式错误：“值”。

“值”实际上是字符串的有效 JSON 值。如果您正在寻找名称/值对的格式，这里有一个示例。假设我有一个名为“Person”的课程......

```
public class Person
{
    public string FirstName { get; set; }
    public string LastName { get; set; }
} 
```

...我有一个返回一个人对象的动作，

```
 public Person Get()
    {
        return new Person() { Id = 1, FirstName = "John", LastName = "Doe" };
    } 
```

然后对上述操作的调用将返回：

```
{"Id":1,"FirstName":"John","LastName":"Doe"} 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:50:41.243

您将不得不使用[`JsonResult`](http://msdn.microsoft.com/en-us/library/system.web.mvc.jsonresult%28v=vs.108%29.aspx)作为您的返回类型：

```
public class ValuesController : ApiController
{ 
    // GET api/values/5
    public JsonResult Get(int id)
    {
        object returnObject;

        // do here what you need to get the good object inside returnObject

        return this.Json(returnObject, JsonRequestBehavior.AllowGet);
    }

    // other services...
} 
```

# selenium-webdriver - 如何在 Firefox 上执行刷新而不是强制刷新

> ID：12670731
> 
> 赞同：0
> 
> 时间：2012-10-01T09:34:42.960
> 
> 标签：selenium-webdriver

我有一个需要 NTLM 身份验证的网站，所以我创建了一个 FireFox 配置文件：

```
FirefoxProfile profile = new FirefoxProfile();
profile.SetPreference("network.http.phishy-userpass-length", 255);
profile.SetPreference("network.automatic-ntlm-auth.trusted-uris", uri.Host);
profile.SetPreference("network.negotiate-auth.delegation-uris", uri.Host);
profile.SetPreference("network.negotiate-auth.trusted-uris", uri.Host);
driver = new FirefoxDriver(profile); 
```

然后我导航到使用`GoToUrl`正常的方法的页面，但是当我调用时`Refresh`- 出现身份验证弹出窗口。谷歌搜索[我发现](https://bugzilla.mozilla.org/show_bug.cgi?id=318253#c128)如果调用“强制刷新”就会发生这种情况，比如“Ctrl + F5”，并且确实会发生，即使手动执行也是如此。那么，问题是如何执行普通刷新而不是强制刷新？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T23:15:26.120

我没有办法测试这是否会“强制”刷新，但您可以尝试直接在 JS 中刷新。((JavascriptExecutor)driver).executeScript("document.location.reload()");

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-18T06:07:58.700

您已将刷新作为 webdriver API 的一部分：

```
driver.navigate().refresh(); 
```

# c# - 用重载替换可选参数是一项重大更改吗？

> ID：12670735
> 
> 赞同：33
> 
> 时间：2012-10-01T09:35:06.807
> 
> 标签：c#, .net, vb.net, optional-parameters

我知道[在库方法中添加可选参数是一项重大更改](https://stackoverflow.com/questions/9884664/system-missingmethodexception-after-adding-an-optional-parameter)，

```
void Foo(int x)             // OLD
void Foo(int x, int y = 5)  // NEW 
```

因为在编译的代码中，新版本被视为`Foo(int, int)`. `Foo(0)`（源代码）的每个调用`Foo(0, 5)`都由编译器翻译成（编译代码）。因此，使用编译调用的旧客户端`Foo(0)`将找不到合适的方法。

* * *

另一个方向呢？

```
void Foo(int x, int y = 5) { ... }    // OLD

void Foo(int x)        { Foo(x, 5); } // NEW
void Foo(int x, int y) { ... }        // NEW 
```

`Foo(0)`(source code) 仍然可以编译，并且`Foo(0, 5)`(compiled code) 仍然会找到合适的重载，因此，理论上，这应该可以工作。

它在实践中是否有效，即.NET 运行时和 C#/VB 编译器是否“正式支持”这种场景？还是对带有可选参数的方法的调用以某种方式“标记”，导致当可选参数被重载替换时它们会失败？

* * *

编辑：为了澄清，我问的是*二进制兼容性*：是否可以在不重新编译的情况下`library.dll (old)`替换？`library.dll (new)``projectUsingLibrary.exe`

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-01T10:02:57.860

我认为这是一个很好的问题，所以这是我的看法。

使用执行此操作的快速客户端：

```
 c1.Foo(1);
        c1.Foo(1, 2); 
```

使用可选参数时，客户端 IL 如下所示：

```
 IL_0000: nop
IL_0001: newobj instance void [ClassLibrary1]ClassLibrary1.Class1::.ctor()
IL_0006: stloc.0
IL_0007: ldloc.0
IL_0008: ldc.i4.1
IL_0009: ldc.i4.5
IL_000a: callvirt instance void [ClassLibrary1]ClassLibrary1.Class1::Foo(int32, int32)
IL_000f: nop
IL_0010: ldloc.0
IL_0011: ldc.i4.1
IL_0012: ldc.i4.2
IL_0013: callvirt instance void [ClassLibrary1]ClassLibrary1.Class1::Foo(int32, int32)
IL_0018: nop
IL_0019: ret 
```

当使用重载时，它看起来像：

```
 IL_0000: nop
IL_0001: newobj instance void [ClassLibrary2]ClassLibrary2.Class2::.ctor()
IL_0006: stloc.0
IL_0007: ldloc.0
IL_0008: ldc.i4.1
IL_0009: callvirt instance void [ClassLibrary2]ClassLibrary2.Class2::Foo(int32)
IL_000e: nop
IL_000f: ldloc.0
IL_0010: ldc.i4.1
IL_0011: ldc.i4.2
IL_0012: callvirt instance void [ClassLibrary2]ClassLibrary2.Class2::Foo(int32, int32)
IL_0017: nop
IL_0018: ret 
```

因此，如果您将实现从可选更改为重载，但将客户端保持原样，它将有效地为您添加默认参数，并始终调用具有两个参数的函数，这可能是也可能不是期望的行为。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-01T10:12:53.437

我不确定我的测试方法是否是最好的，但这是我发现的开始：（为类和命名空间名称道歉）

```
namespace ClassLibrary1
{
    public class Class1
    {
        private int x;
        private int y;

        public void Foo(int x)
        {
            Foo(x, 0);
        }
        public void Foo(int x, int y = 5)
        {
            this.x = x;
            this.y = y;
        }
    }
} 
```

我构建了这个并将 dll 添加到不同解决方案中的控制台应用程序中，并通过浏览它来引用 dll：

```
using ClassLibrary1;

  namespace ConsoleApplication1  
  {
        class Program
        {
            static void Main(string[] args)
            {
                var c = new Class1();

                c.Foo(1);
                c.Foo(2, 3);
                c.Foo(3, 5);
            }
        }
    } 
```

然后我将类库的方法签名更改为：

```
namespace ClassLibrary1
{
    public class Class1
    {
        private int x;
        private int y;

        public void Foo(int x)
        {
            Foo(x, 0);
        }
        public void Foo(int x, int y)
        {
            this.x = x;
            this.y = y;
        }
    }
} 
```

然后我编译了类库并将dll复制到控制台应用程序文件夹中并运行控制台应用程序；更改签名没有问题，但正如我所说，我不确定我的测试方法是否足够。

因此，要回答您的问题，您可以按照您指定的方式更改库，而无需重新编译可执行文件。

# python - 如何将python点列表转换为numpy图像数组？

> ID：12670736
> 
> 赞同：12
> 
> 时间：2012-10-01T09:35:10.737
> 
> 标签：python, numpy, scipy

我有一个 python 点列表（x/y 坐标）：

```
 [(200, 245), (344, 248), (125, 34), ...] 
```

它表示二维平面上的轮廓。我想使用一些 numpy/scipy 算法进行平滑、插值等。它们通常需要 numpy 数组作为输入。例如[`scipy.ndimage.interpolation.zoom`](http://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.interpolation.zoom.html).

从我的点列表中获取正确的 numpy 数组的最简单方法是什么？

**编辑：**我在我的问题中添加了“图像”这个词，希望现在很清楚，如果它在某种程度上具有误导性，我真的很抱歉。我的意思的例子（指向二进制图像数组）。

输入：

```
[(0, 0), (2, 0), (2, 1)] 
```

输出：

```
[[0, 0, 1],
 [1, 0, 1]] 
```

将接受的答案四舍五入是**工作示例**：

```
import numpy as np

coordinates = [(0, 0), (2, 0), (2, 1)]

x, y = [i[0] for i in coordinates], [i[1] for i in coordinates]
max_x, max_y = max(x), max(y)

image = np.zeros((max_y + 1, max_x + 1))

for i in range(len(coordinates)):
    image[max_y - y[i], x[i]] = 1 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-01T12:09:27.750

啊，现在好多了，所以你确实有所有你想要填补的点......那么它很简单：

```
image = np.zeros((max_x, max_y))
image[coordinates] = 1 
```

您可以先创建一个数组，但这不是必需的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:39:13.357

```
numpy.array(your_list) 
```

numpy 有非常广泛的文档，您应该尝试阅读。您可以在网上找到它，也可以在 REPL 上输入`help(obj_you_want_help_with)`（例如）。`help(numpy)`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T10:53:21.323

以 Jon Clements 和 Dunes 所说的为基础，在做了之后

```
new_array = numpy.array([(200, 245), (344, 248), (125, 34), ...]) 
```

您将得到一个二维数组，其中第一列包含 x 坐标，第二列包含 y 坐标。该数组可以进一步拆分为单独的 x 和 y 数组，如下所示：

```
x_coords = new_array[:,0]
y_coords = new_array[:,1] 
```

# android - 自定义 ListView 适配器。TextChangedListener 调用错误的 EditText

> ID：12670737
> 
> 赞同：1
> 
> 时间：2012-10-01T09:35:19.210
> 
> 标签：android, listview, android-edittext, adapter

我有带有自定义适配器的旅行者列表，其中包含两个 EditText - edtFirstName 和 edtLastName。我想要当用户输入文本时保存更改到列表，并且当下一个按钮单击时将此列表发送到另一个活动。

我的代码：

```
public class TravellersAdapter extends BaseAdapter {

  private List<Traveler> itemsList;
  private LayoutInflater inflater;
  private Activity context;

  public TravellersAdapter(Activity context, List<Traveler> itemsList) {
    super();
    this.itemsList = itemsList;
    this.context = context;
    inflater = LayoutInflater.from(context);
  }

  public int getCount() { return itemsList.size();  }

  public Object getItem(int i) {  return itemsList.get(i);  }

  public View getView(final int position, View view, ViewGroup viewGroup) {
    if (view == null) {
      view = inflater.inflate(R.layout.traveller_item, null);
    }
    Traveler currentItem = (Traveler) getItem(position);

    EditText firstNameView = (EditText) view.findViewById(R.id.edtFirstName);
    firstNameView.addTextChangedListener(new TextWatcher() {

      public void afterTextChanged(Editable editable) {
        currentItem.setFirstName(editable.toString());
      }

    });

    return view;
  }
} 
```

例如 List itemsList 包含 5 个项目。当我编辑 2-4 个元素时一切正常，但是当我编辑第一个或最后一个元素时，编辑值分配给列表中的所有元素。在 dubugger 中，我看到该方法`afterTextChanged`调用了 5 次不同的`position`. 如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T10:02:07.750

在**getView**方法中，参数**position**给出了新创建的**childView**的位置，而不是点击的 childView 的位置。

使用它来获得正确的位置：

```
final int actual_position = myList.getPositionForView((View) v.getParent()); 
```

在任何视图中`onClick(View v);`。`onClickListener`在您的情况下，您必须为该 EditText 实现**onTextChangedListener**。

*这里：*

**myList**是 ListView

**v**是您单击的视图，在本例中是父视图（myList）的子视图。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T10:11:04.593

出现这个问题是因为视图是可重用的（这是 Android API 中的设计）。所以最终你可以为同一个文本视图分配超过 1 个文本观察者。当文本视图中的文本发生更改时，所有分配的观察者都会被触发。

一个快速的解决方法（如果列表真的很长，比如 1000 多个项目，则不是最佳的）是拥有一个`Traweller -> TextWatcher`.

然后在 getView() 你可以这样做（伪代码）：

*   检查地图是否有`TextWatcher`这个`Traweller`
*   如果地图没有，则创建一个新的`TextWatcher`，放入地图并分配给`EditText`
*   否则从地图中分离并`TextWatcher`从`EditText`地图中删除
*   创建一个新的`TextWatcher`，放入地图并分配给`EditText`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-05-13T13:59:10.480

`EditText`在不可见的屏幕中再创建一个name `invivisbleEt`。并在`addTextChangedListener`

```
firstNameView.addTextChangedListener(new TextWatcher() {

    @Override
    public void afterTextChanged(Editable editable) {
        if(!firstNameView.isFocused())
            currentItem.setFirstName(editable.toString());
    }

}); 
```

`onCreate`还要在对象的方法中添加此代码`ListView`。

```
lv.setOnScrollListener(new AbsListView.OnScrollListener() {

    //public boolean scrolling;

    @Override
    public void onScrollStateChanged(AbsListView absListView, int scrollState) {
        invivisbleEt.requestFocus();
    }

    @Override
    public void onScroll(AbsListView absListView, int i, int i1, int i2) {
    }
}); 
```

# command-line - 在某个命令处提取几行

> ID：12670738
> 
> 赞同：0
> 
> 时间：2012-10-01T09:35:21.570
> 
> 标签：command-line, line, extraction

我（当然）发现了很多关于从文件中提取行的线程，但我无法将其转移到我的问题上。给定一个结构如下的文件：

```
Time = 0.1
bla bla
Time = 0.2
bla bla

**StartExtractionPart1Here**
data i want
in file 1
svereal lines of code
**endExtractionPart1**

**StartExtractionPart2Here**
data i want
in file 2
severeal lines of code
**endExtractionPart2**

Time = 0.3

bla bla 
```

所以伪代码将是：

```
find a given time
    find a given startflag
        write all files into file 1 until endflag is reached
    do that for all Parts 
```

我可以根据需要更改开始和结束标志的语法。每个时间步都会打印“提取部分”，但我只想要给定时间的那些。

# c# - 从 C# 创建 SQL Server 数据库 - 使用参数

> ID：12670740
> 
> 赞同：2
> 
> 时间：2012-10-01T09:35:28.483
> 
> 标签：c#, asp.net, sql, sql-server

我正在尝试编写代码以从我的 C# 代码（asp.net 网站）创建数据库。

这是我的代码：

```
SqlCommand myCommand = new SqlCommand("CREATE DATABASE @dbname", nn);
myCommand.Parameters.Add("dbname", dbname);

myCommand.ExecuteNonQuery();
nn.Close(); 
```

好吧，它不工作。它给了我一个错误：

> *'@dbname' 附近的语法不正确*

但。如果我不使用参数，人们可以对我的数据库进行 SQL 注入。您知道如何使用任何东西从文本框中获取数据库名称。那人们不能用 SQL 插入我的数据库吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T09:36:35.360

您不能在`CREATE DATABASE`或其他 DDL 命令中使用参数。

我建议使用[SQL Server 管理对象](http://msdn.microsoft.com/en-us/library/ms162577%28v=sql.105%29.aspx)而不是 SQL

# postgresql - 我可以在 PostgreSQL 8.4 中记录查询执行时间吗？

> ID：12670745
> 
> 赞同：15
> 
> 时间：2012-10-01T09:35:46.243
> 
> 标签：postgresql

我想记录一天内运行的每个查询执行时间。

比如像这样，

```
2012-10-01 13:23:38 STATEMENT: SELECT * FROM pg_stat_database  runtime:265 ms. 
```

请给我一些指导。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-10-01T09:42:33.930

如果你设置

```
log_min_duration_statement = 0
log_statement = all 
```

在您的 postgresql.conf 中，您将看到所有语句都记录到 Postgres 日志文件中。

如果启用

```
log_duration 
```

这还将打印每个语句所花费的时间。默认情况下这是关闭的。

使用该`log_statement`参数，您可以控制要记录的语句*类型（DDL、DML、...）*

这将在日志文件中产生如下输出：

```
2012-10-01 13:00:43 CEST postgres LOG：声明：从 pg_class 中选择计数（*）；
2012-10-01 13:00:43 CEST postgres 日志：持续时间：47.000 毫秒

```

手册中的更多详细信息：

*   [http://www.postgresql.org/docs/8.4/static/runtime-config-logging.html#RUNTIME-CONFIG-LOGGING-WHEN](http://www.postgresql.org/docs/8.4/static/runtime-config-logging.html#RUNTIME-CONFIG-LOGGING-WHEN)
*   [http://www.postgresql.org/docs/8.4/static/runtime-config-logging.html#RUNTIME-CONFIG-LOGGING-WHAT](http://www.postgresql.org/docs/8.4/static/runtime-config-logging.html#RUNTIME-CONFIG-LOGGING-WHAT)

如果您想要每日列表，您可能希望将日志文件配置为每天轮换。同样，这在手册中有所描述。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-06-20T11:40:34.593

我相信 OP 实际上是在询问执行持续时间，而不是时间戳。

要在日志输出中包含持续时间，请打开`pgsql/<version>/data/postgresql.conf`，找到读取的行

```
#log_duration = off 
```

并将其更改为

```
log_duration = on 
```

如果找不到给定的参数，只需将其添加到文件的新行中即可。

保存更改后，重新启动 postgresql 服务，或者只是调用

```
pg_ctl reload -D <path to the directory of postgresql.conf> 
```

例如

```
pg_ctl reload -D /var/lib/pgsql/9.2/data/ 
```

重新加载配置。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-10-29T12:00:48.047

我认为更好的选择是`pg_stat_statements`通过启用 PG stats 扩展来启用。这将帮助您找到很好地记录在视图中的每个查询的查询执行时间

# ios - CGAffineTransformIdentity时如何调整UIView的大小

> ID：12670750
> 
> 赞同：0
> 
> 时间：2012-10-01T09:36:10.903
> 
> 标签：ios, uiview, resize, rotation, cgaffinetransform

我正在做一个应用程序，它具有旋转和调整视图大小的功能。我已经实现了这个功能，但我确实面临一个问题。

**我的问题**

拖动视图的四个角时将调整视图的大小，调整大小后我可以在两个方向上旋转视图。

旋转完成后，如果我再次尝试通过拖动视图的角来调整视图的大小，则视图的大小会变为不可预测的值并且它会在屏幕上移动。

我google了很多最后我得到了以下解决方案

```
The frame property is undefined when transform != CGAffineTransformIdentity, as per the docs on UIView 
```

我看到一个应用程序实现了我希望实现的功能。

UIView 旋转后如何调整 UIView 的大小

**我调整视图大小的代码**

**接触开始**

```
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event{

   UITouch *touch = [[event allTouches] anyObject];

   NSLog(@"[touch view]:::%@",[touch view]);

   touchStart = [[touches anyObject] locationInView:testVw];
   isResizingLR = (testVw.bounds.size.width - touchStart.x < kResizeThumbSize &&     testVw.bounds.size.height - touchStart.y < kResizeThumbSize);
   isResizingUL = (touchStart.x <kResizeThumbSize && touchStart.y <kResizeThumbSize);
   isResizingUR = (testVw.bounds.size.width-touchStart.x < kResizeThumbSize &&      touchStart.y<kResizeThumbSize);
   isResizingLL = (touchStart.x <kResizeThumbSize && testVw.bounds.size.height -touchStart.y <kResizeThumbSize);    
} 
```

**触动了**

```
- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event{
CGPoint touchPoint = [[touches anyObject] locationInView:testVw];
CGPoint previous=[[touches anyObject]previousLocationInView:testVw];

float  deltaWidth = touchPoint.x-previous.x;
float  deltaHeight = touchPoint.y-previous.y;

NSLog(@"CVTM:%@",NSStringFromCGRect(testVw.frame));

if (isResizingLR) {
 testVw.frame = CGRectMake(testVw.frame.origin.x, testVw.frame.origin.y,touchPoint.x +   deltaWidth, touchPoint.y + deltaWidth);
 }  
if (isResizingUL) {
 testVw.frame = CGRectMake(testVw.frame.origin.x + deltaWidth, testVw.frame.origin.y +  deltaHeight, testVw.frame.size.width - deltaWidth, testVw.frame.size.height - deltaHeight);
 } 
if (isResizingUR) {
  testVw.frame = CGRectMake(testVw.frame.origin.x ,testVw.frame.origin.y + deltaHeight,  testVw.frame.size.width + deltaWidth, testVw.frame.size.height - deltaHeight);      
 } 
if (isResizingLL) {
 testVw.frame = CGRectMake(testVw.frame.origin.x + deltaWidth ,testVw.frame.origin.y ,  testVw.frame.size.width - deltaWidth, testVw.frame.size.height + deltaHeight);   
}

if (!isResizingUL && !isResizingLR && !isResizingUR && !isResizingLL) {
testVw.center = CGPointMake(testVw.center.x + touchPoint.x - touchStart.x,testVw.center.y + touchPoint.y - touchStart.y);
 }

 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T11:49:15.483

由于您不使用 UIView 动画，您可以保存当前视图的变换，将视图的变换设置为标识，调整视图大小并重新应用保存的变换：

```
UIView *v;
CGAffineTransform t = v.transform;
v.transform = CGAffineTransformIdentity;
CGFloat scale = 2.0f;
v.frame = CGRectMake(v.frame.origin.x, v.frame.origin.y, v.frame.size.width*scale , v.frame.size.height*scale);
v.transform = t; 
```

（编辑）关于您的调整大小：

如果您使用 4 个向量（点）A、B、C、D 定义矩形，`(A+C)*.5 = (B+D)*.5 = rectangle_center`那么将点 C 移动到位置 C' 也会将 B 和 D 移动到 B' 和 D'：

```
A' = A
C' = C' //touch input
B' = A + (normalized(B-A) * dotProduct((C'-A), normalized(B-A)))
D' = A + (normalized(D-A) * dotProduct((C'-A), normalized(D-A))) 
```

在那之后：

*   将您的观点转变为身份
*   将框架设置为`(.0f, .0f, length(A-D), length(A-C))`
*   将中心设置为`(A+D)*.5f`
*   获得旋转以创建视图的变换，`atanf(height/width)`并通过几个“if”或填充/创建变换与基`normalized(D-A)`向量`normalized(B-A)`

您可以对矩形中的任何点执行此操作。

# iphone - 具有多个 y 轴的 iOS 折线图

> ID：12670751
> 
> 赞同：1
> 
> 时间：2012-10-01T09:36:13.670
> 
> 标签：iphone, graph, core-plot

我可以使用核心图显示多个 Y 轴，但我的问题是我需要在两个 Y 轴上以不同的间隔差异显示不同的值。

![在此处输入图像描述](../Images/224bfeffdb0101e502e2afe645c369ec.png)

![在此处输入图像描述](../Images/dd4d0236ce52a77b5ee5a22ea5b29048.png)

如何使用与上图相同的核心图绘制图形。

是否可以绘制图表。如果不可能，请告诉我原因。

如果可能的话，给我一些建议或使用核心图提供示例代码。

请帮我。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T23:10:18.767

您需要为每个不同的轴比例使用单独的“绘图空间”。对于这些图，您需要两个 - 一个用于左侧 y 轴和 x 轴，另一个用于右侧 y 轴。有关示例代码，请参阅 Plot Gallery（Plot Space 演示）和 CPTTestApp（Mac 版）示例应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-16T13:11:46.660

对于 LineChartDataSet，您有属性 axisDependency。这个属性可能是

```
AxisDependencyLeft
AxisDependencyRight 
```

为了迅速

```
.Left
.Right 
```

# c# - 如何在新行的详细信息视图中获取文本框？

> ID：12670753
> 
> 赞同：-1
> 
> 时间：2012-10-01T09:36:29.823
> 
> 标签：c#, asp.net, c#-4.0, detailsview

我想`TextBox`在新行中显示内部详细信息视图，因为我正在从数据库中获取数据并尝试制作表单

我该怎么做呢

![在此处输入图像描述](../Images/29549f1b8f034d81db4a7b7536388c3e.png)

**代码**

```
<asp:DetailsView ID="DetailsView1" runat="server" Height="50px" Width="520px" 
    AutoGenerateRows="False" GridLines="None">
   <Fields>
   <asp:TemplateField >
                <ItemTemplate>
                    <asp:TextBox ID="txtDtaLineDtchecked" runat="server" Text='<%# Bind("DtaLineDtChecked") %>' ></asp:TextBox>
                </ItemTemplate>
            </asp:TemplateField>
            <asp:TemplateField >
                <ItemTemplate>
                    <asp:Label ID="lblDtaLineUsermatch" runat="server" Text='<%# Bind("DtaLineUserMatch") %>' ></asp:Label>
                </ItemTemplate>
            </asp:TemplateField>
        </Fields>
           </asp:DetailsView> 
```

请有人帮忙？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:52:11.227

你不能

该`DetailsView`控件基于表格视图

如果您想实现您的自定义设计，您必须使用`FormView`控件并使用正确的模板。例子：

```
<asp:FormView runat="server" AllowPaging="true" ID="formView">
    <ItemTemplate>
        <%--customize the html--%>
    </ItemTemplate> 
```

但是，请考虑该`DetailsView`控件会自动为您创建设计，包括不同模式下的控件，例如 Edit、Insert 和 ReadOnly。使用`FormView`控件时，您必须为每种模式提供模板

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:52:41.300

尝试这个

```
<asp:DetailsView ID="DetailsView1" runat="server" Height="50px" Width="520px" 
AutoGenerateRows="False" GridLines="None">
    <Fields>
        <asp:TemplateField >
            <ItemTemplate>
                <table>
                    <tr>
                        <td><asp:TextBox ID="txtDtaLineDtchecked" runat="server" Text='<%# Bind("DtaLineDtChecked") %>' ></asp:TextBox></td>
                        <td><asp:Label ID="lblDtaLineUsermatch" runat="server" Text='<%# Bind("DtaLineUserMatch") %>' ></asp:Label></td>
                    </tr>
                </table>
            </ItemTemplate>
        </asp:TemplateField>        
    </Fields>
</asp:DetailsView> 
```

** 我已将两个数据都放在单个模板字段中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T09:56:48.120

尝试将 ItemFields 放在 Table Row 中，如下所示...

```
 <asp:DetailsView ID="DetailsView1" runat="server" Height="50px" Width="520px"      AutoGenerateRows="False" GridLines="None"> 
       <Fields>
       <table>
             <tr>
                <td>
                    <asp:TemplateField >    
                                       <ItemTemplate>   <asp:TextBox ID="txtDtaLineDtchecked" runat="server" Text='<%# Bind("DtaLineDtChecked") %>' ></asp:TextBox>                 </ItemTemplate>
                </asp:TemplateField>
               </td>
                <td>
                   <asp:TemplateField >
                                      <ItemTemplate> <asp:Label ID="lblDtaLineUsermatch" runat="server" Text='<%# Bind("DtaLineUserMatch") %>' ></asp:Label>                 </ItemTemplate>             
                   </asp:TemplateField>
                </td>
           </tr>
      </table>
      </Fields>
 </asp:DetailsView> 
```

# android - 来自数据库的列表视图数组

> ID：12670754
> 
> 赞同：1
> 
> 时间：2012-10-01T09:36:31.883
> 
> 标签：android, android-listview

我已检索数据并成功在文本视图中显示它。
我必须在我的代码中修改什么以使其看起来像一个列表视图？
以及如何以编程方式修改我的列表视图（添加大小和填充）？

这是我的 DBclass 在选择我显示的项目时的一部分

```
 getFAData() {
      // TODO Auto-generated method stub
      String [] columns = new String[]{Row_Name};
      Cursor c = ourDB.query(db_Table, columns, null, null, null, null, null);
      String res = "";

      int iRow = c.getColumnIndex(Row_Name);
      //int iDesc = c.getColumnIndex(Row_Desc);
      //int iID = c.getColumnIndex(Row_id);

      for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext())
      {
        res = res + c.getString(iRow) + "\n";
      }
      return res;
    } 
```

这是类文件：

```
 public class FirstAid extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.firstaid);
        displayresult();
    }

    public void displayresult (){
        TextView tvFa = (TextView) findViewById(R.id.tvFA);
        tvFa.setMovementMethod(new ScrollingMovementMethod());
        DbHelper tblFa = new DbHelper(this);
        tblFa.open();
        String result = tblFa.getFAData();
        tblFa.close();

        tvFa.setText(result);
    }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:51:40.780

你需要像这样在你的 dbhelper 类中实现一个方法

```
 public List<String> selectAll_data() {
      List<String> list = new ArrayList<String>();

      Cursor cursor = this.db.query(TABLE_NAME_2, new String[] { "str" },
              null , null, null, null, null);

      if (cursor.moveToFirst()) {
         do {
                list.add(cursor.getString(0));                  

           } while (cursor.moveToNext());
      }
      if (cursor != null && !cursor.isClosed()) {
         cursor.close();
      }

      return list;
   } 
```

现在在你的活动中

```
 List<String> events = dh.selectAll_data(); 
 String[] arr = new String[events.size()];      
 arr = events.toArray(arr);

 ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,android.R.layout.simple_list_item_1, android.R.id.text1, values);

 // Assign adapter to ListView
listView.setAdapter(adapter); 
```

如果您想查看实时示例，请检查此[url](http://thinkandroid.wordpress.com/2010/01/09/simplecursoradapters-and-listviews/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:46:06.283

Create ArrayList int 获取数据库的数据函数

```
public ArrayList<String> getFAData() {
    ArrayList<String> comments = new ArrayList<String>();

    Cursor c = ourDB.query(db_Table, columns, null, null, null, null, null);
    int iRow = c.getColumnIndex(Row_Name);
    cursor.moveToFirst();
    while (!cursor.isAfterLast()) {          
        comments.add(c.getString(iRow ));
        cursor.moveToNext();
    }
    // Make sure to close the cursor
    cursor.close();
    return comments;
} 
```

在您的活动中检索这样的数据。

```
ArrayList<String> array = new ArrayList<String>();
array = tblFa.getFAData(); 
```

# java - 将两个 List 中的数据合并到一个对象中

> ID：12670756
> 
> 赞同：2
> 
> 时间：2012-10-01T09:36:34.200
> 
> 标签：java, list

我遇到了以下情况，我想知道最佳解决方案。假设我有`List<Object1>`and `List<Object2>`，这些列表是两个单独查询的结果。它们都具有相同的大小，并且基于 ID 的列表中的元素之间存在 1:1 的关系。我知道最好的解决方案是在一个数据库查询中获取数据，但现在这是可能的。

所以我的问题是，加入这些列表的最佳方式是什么`List<Object3>`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:39:33.510

我会

*   将第一个列表转换为 Map，键为 ID，值为 Object1。
*   遍历第二个列表，得到object2的ID对应的object1。
*   执行合并操作或任何预期的操作并准备 object3 并将其放入列表中。

结果顺序将是第二个列表中的顺序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T10:01:18.820

我会使用一个`BidiMap`（参见[Apache Commons Collections](http://commons.apache.org/collections/)）。

此外，如果您确定**这两个列表具有相同的大小**并且**每个列表都`id`存在于两个列表中**，您可以按 对列表进行排序`id`并使用*经典*的 for 循环遍历它们。

```
Comparator<YourObject> comparator = new Comparator<YourObject>() {
    @Override
    public int compare(YourObject o1, YourObject o2) {
        return o1.getId().compareTo(o2.getId());
    }
};

Collections.sort(list1, comparator);
Collections.sort(list2, comparator);

// import org.apache.commons.collections.BidiMap;
// import org.apache.commons.collections.bidimap.DualHashBidiMap;
BidiMap map = new DualHashBidiMap();

// required: list1.size() == list2.size()
for (int i = 0; i < list1.size(); i++) {
    map.put(list1.get(i), list2.get(i));
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-01T09:47:17.623

使用 Apache Common BeanUtils，因为您不必编写太多代码，数据类型转换也是正确的。

在这种情况下，object1List 和 object2List 都应该基于 ID 以相同的顺序排列。要让它使用 Comparable 接口根据 Object1 和 Object2 的 ID 对它们进行排序

示例代码

对象1.java

```
public class Object1 implements Comparable<Object1>{

    private Integer id;
    private String name;
    private int quantity;

    public Integer getId() {
        return id;
    }
    public void setId(Integer id) {
        this.id = id;
    }
    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }
    public int getQuantity() {
        return quantity;
    }
    public void setQuantity(int quantity) {
        this.quantity = quantity;
    }

    public int compareTo(Object1 compareObject1) { 
        int compareId = ((Object1) compareObject1).getId(); 
        //ascending order
        return this.id - compareId; 
    }   
} 
```

**对象2.java**

```
public class Object2 implements Comparable<Object2>{

    private Integer id; 
    private double amount ;

    public Integer getId() {
        return id;
    }
    public void setId(Integer id) {
        this.id = id;
    }
    public double getAmount() {
        return amount;
    }
    public void setAmount(double amount) {
        this.amount = amount;
    }

    public int compareTo(Object2 compareObject2) { 
        int compareId = ((Object2) compareObject2).getId(); 
        //ascending order
        return this.id - compareId; 
    }   
} 
```

**Object3.java 将具有与 Object1 和 Object2.java 相同的字段名称**

实际执行

```
int cnt = 0;
List<Object3> object3List = new ArrayList<Object3>();
List<Object1> object1List = Collections.sort(object1List);
List<Object2> object2List =  Collections.sort(object2List);

for(Object1 obj1 : object1List) {
   BeanUtils.copyProperties(obj3, obj1);
   Object2 obj2 = object2List.get(cnt);
   BeanUtils.copyProperties(obj3, obj2);
   object3List.add(obj3);
   cnt ++;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-01T09:47:35.843

确保查询按 id 排序，然后同时迭代列表，同时创建新的超级列表。这不是万无一失的，如果查询返回不同的 id 集，那么数据将被破坏。不过，在将两个对象添加到超级列表之前，您始终可以添加检查以确保 id 匹配。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-01T09:49:31.547

如果 equals 和 hashCode 正在使用 ID，并且如果这表示对象中的唯一性，它们应该使用，您也可以使用集合而不是列表。这样你就可以做类似的事情`set1.addAll(set2)`

# mysql - 有没有办法改变日期格式？

> ID：12670764
> 
> 赞同：2
> 
> 时间：2012-10-01T09:37:00.550
> 
> 标签：mysql, sql, date

我需要在我的 SQL 数据库中存储一些日期，问题是默认存储是

```
YYYY-MM-DD 
```

我需要

```
DD-MM-YYYY 
```

我唯一的解决方案是将日期存储为 Varchars (10)，它运行良好，但现在我无法按 DATE 排序我的查询，我需要将它们从最旧到最新排序......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T09:38:26.400

使用本机[`DATE_FORMAT(date,format)`](http://dev.mysql.com/doc/refman/5.0/en/date-and-time-functions.html#function_date-format)功能。

```
SELECT DATE_FORMAT(date_column, '%d-%e-%Y') FROM your_table; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T09:43:42.180

无法更改 MySQL 日期或其任一变体（DATETIME、TIMESTAMP 和 DATE）的默认日期格式。

引用手册：

```
尽管 MySQL 尝试以多种格式解释值，但始终必须给出日期
 按年-月-日顺序（例如，'98-09-04'），而不是按月-日-年或
其他地方常用的日-月-年顺序
（例如，“09-04-98”、“04-09-98”）。
```

考虑@Micheal 在他的帖子中正确建议的原生[DATE_FORMAT()函数。](http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html)

# google-chrome-devtools - 为什么我无法下载chrome的源代码？

> ID：12670766
> 
> 赞同：2
> 
> 时间：2012-10-01T09:37:04.807
> 
> 标签：google-chrome-devtools

只想知道发生了什么...

为什么 gyp_chromium 返回非零退出状态？我应该怎么做才能处理这个问题？

我尝试`sync`第二次运行，得到同样的错误......

```
 linux_x86: updated to version 9870.
    Updating /home/thinke365/fun/src/native_client/toolchain/.tars/naclsdk_linux_x86.tgz
            from https://commondatastorage.googleapis.com/nativeclient-

archive2/toolchain/9870/naclsdk_linux_x86.tgz.
    ......................................
    |------------------------------------------------|
    ..................................................
    linux_x86_newlib: updated to version 9870.
    Updating /home/thinke365/fun/src/native_client/toolchain/.tars/naclsdk_pnacl_linux_x86.tgz
            from https://commondatastorage.googleapis.com/nativeclient-archive2/toolchain/9854/naclsdk_pnacl_linux_x86.tgz.
    .............................................................
    |------------------------------------------------|
    ..................................................
    pnacl_linux_x86: updated to version 9854.
    Updating /home/thinke365/fun/src/native_client/toolchain/.tars/naclsdk_pnacl_translator.tgz
            from https://commondatastorage.googleapis.com/nativeclient-archive2/toolchain/9854/naclsdk_pnacl_translator.tgz.
    ...................
    |------------------------------------------------|
    ..................................................
    pnacl_translator: updated to version 9854.

    ________ running '/usr/bin/python src/tools/clang/scripts/update.py --mac-only' in '/home/thinke365/fun'

    ________ running '/usr/bin/python src/build/win/setup_cygwin_mount.py --win-only' in '/home/thinke365/fun'

    ________ running '/usr/bin/python src/build/util/lastchange.py -o src/build/util/LASTCHANGE' in '/home/thinke365/fun'

    ________ running '/usr/bin/python src/build/gyp_chromium' in '/home/thinke365/fun'
    Updating projects from gyp files...
    Package nss was not found in the pkg-config search path.
    Perhaps you should add the directory containing `nss.pc'
    to the PKG_CONFIG_PATH environment variable
    No package 'nss' found
    gyp: Call to 'pkg-config --cflags nss' returned exit status 1\. while loading dependencies of /home/thinke365/fun/src/base/base.gyp while loading dependencies of /home/thinke365/fun/src/build/all.gyp while trying to load /home/thinke365/fun/src/build/all.gyp
    Error: Command /usr/bin/python src/build/gyp_chromium returned non-zero exit status 1 in /home/thinke365/fun
    thinke365@lab:~/fun$
    thinke365@lab:~/fun$
    thinke365@lab:~/fun$ n
    bash: n: command not found
    thinke365@lab:~/fun$ echo $?
    127 
```

编辑1：

即使在对某些无法安装到系统的软件包进行注释后，也无法运行 install-build-deps.sh。

```
Note, selecting 'libjpeg62-dev' instead of 'libjpeg-dev'
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 libkrb5-dev : Depends: krb5-multidev (= 1.8.3+dfsg-4squeeze6) but it is not going to be installed
 libnspr4-dev : Depends: libnspr4-0d (>= 4.8.6) but it is not going to be installed
                Depends: libnspr4-0d (<= 4.8.6-1.1~) but it is not going to be installed
 libnss3-dev : Depends: libnss3-1d (= 3.12.8-1+squeeze5) but it is not going to be installed
 libpcre3-dbg : Depends: libpcre3 (= 8.02-1.1) but 1:8.30-5 is to be installed
 rpm : Depends: libnss3-1d (>= 3.12.0~1.9b1) but it is not going to be installed
       Depends: librpm1 (>= 4.8.0) but it is not going to be installed
       Depends: librpmbuild1 (>= 4.8.0) but it is not going to be installed
       Depends: librpmio1 (>= 4.8.0) but it is not going to be installed
       Depends: rpm2cpio but it is not going to be installed
E: Broken packages 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:49:49.417

如[http://dev.chromium.org/developers/how-tos/get-the-code](http://dev.chromium.org/developers/how-tos/get-the-code)所述，您需要先运行 build/install-build-deps.sh，然后才能运行 gyp

# asp.net-mvc - .net mvc 限制结果显示更多链接

> ID：12670773
> 
> 赞同：0
> 
> 时间：2012-10-01T09:37:45.720
> 
> 标签：asp.net-mvc, linq

如果有更多结果，我只想在我的部分视图上显示 2 个结果并显示更多链接。我将显示所有结果的查询是：

```
[ChildActionOnly]
public ActionResult GetContacts(int id)
{
    var contacts = from c in db.CustomerContact
                   where c.CustomerID == id
                   orderby c.Surname
                   select c;

    return PartialView("_GetContacts", contacts);
} 
```

我需要有两个查询，一个来计算结果的数量吗？

想用jquery通过扩展div来显示更多的结果。

如果有人能指出我正确的方向，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:48:47.263

根据您的查询通常返回的元素数量，最好使用查询仅检索两个元素并在用户请求时使用不同的查询显示其余元素。

为避免始终加载所有结果，您可以在链接上使用对服务器的 AJAX 调用来显示更多信息。

但是，如果您的查询通常返回很少的元素，您可以只使用一个查询来加载所有元素并通过显示更多链接单击显示两个或更多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:52:28.610

你可以这样做：

```
var contacts = ....
return contacts.OrderBy(c => c.curname)
    .Skip((CurrentPage - 1) * pageSize)
    .Take(pageSize); 
```

您必须在此处设置参数`pagesize`，`currentPage`对于前两个项目，传递`pageSize = 2`和`currentPage = 1`更多项目（每次 2 个项目）传递当前页面 = 2，依此类推。

# ios - 在后台检测可达性

> ID：12670774
> 
> 赞同：20
> 
> 时间：2012-10-01T09:37:51.220
> 
> 标签：ios, multithreading, swift, background, reachability

我一直在测试不同的方法来实现当应用程序处于后台时知道设备是否恢复互联网的可能性，所以我测试的第一个代码是 Apple 可达性示例代码[http://developer.apple.com/library/ios /#samplecode/Reachability/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/Reachability/Introduction/Intro.html)

但是当应用程序在后台时，此代码不会通知互联网状态。所以我也尝试了以下代码，当应用程序从后台状态启动到前台时它可以工作（与 Apple 可达性示例代码相同）

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {

// check for internet connection
[[NSNotificationCenter defaultCenter] addObserver:self
                                         selector:@selector(checkNetworkStatus:)
                                             name:kReachabilityChangedNotification object:nil];

// Set up Reachability
internetReachable = [[Reachability reachabilityForInternetConnection] retain];
[internetReachable startNotifier];

 ...
 }

 - (void)applicationDidEnterBackground:(UIApplication *)application {

// check for internet connection
[[NSNotificationCenter defaultCenter] addObserver:self
                                         selector:@selector(checkNetworkStatus:)
                                             name:kReachabilityChangedNotification object:nil];

// Set up Reachability
internetReachable = [[Reachability reachabilityForInternetConnection] retain];
[internetReachable startNotifier];

}

- (void)checkNetworkStatus:(NSNotification *)notice {
// called after network status changes

NetworkStatus internetStatus = [internetReachable currentReachabilityStatus];
switch (internetStatus)
{
    case NotReachable:
    {
        NSLog(@"The internet is down.");
        break;
    }
    case ReachableViaWiFi:
    {
        NSLog(@"The internet is working via WIFI");

        //Alert sound in Background when App have internet again
        UILocalNotification *notification = [[[UILocalNotification alloc] init] autorelease];
        if (notification) {
            [notification setFireDate:[NSDate date]];
            [notification setTimeZone:[NSTimeZone defaultTimeZone]];
            [notification setRepeatInterval:0];
            [notification setSoundName:@"alarmsound.caf"];
            [notification setAlertBody:@"Send notification internet back"];
            [[UIApplication sharedApplication] scheduleLocalNotification:notification];
        }

        break;
    }
    case ReachableViaWWAN:
    {
        NSLog(@"The internet is working via WWAN!");

        //Alert sound in Background when App have internet again
        UILocalNotification *notification = [[[UILocalNotification alloc] init] autorelease];
        if (notification) {
            [notification setFireDate:[NSDate date]];
            [notification setTimeZone:[NSTimeZone defaultTimeZone]];
            [notification setRepeatInterval:0];
            [notification setSoundName:@"alarmsound.caf"];
            [notification setAlertBody:@"Send notification internet back"];
            [[UIApplication sharedApplication] scheduleLocalNotification:notification];
        }

        break;
    }
}
} 
```

**我的问题是：** *当应用程序处于后台时，当互联网状态发生变化时获得通知的方式是什么？*

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2016-02-24T23:33:13.137

*如果网络连接发生变化，您将无法更改*Live* ，要使其正常工作，您可以做的**最好**`Background Fetch`的事情就是使用`Capabilities`. 首先，您需要选中背景模式的复选框： [![在此处输入图像描述](../Images/5cb228f279f45d92012024794c57927b.png)](https://i.stack.imgur.com/BSVI6.png)*

 *然后你需要尽可能多地询问时间间隔*，*越早越好，所以我建议`application:didFinishLaunchingWithOptions:`你需要输入这一行：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    [application setMinimumBackgroundFetchInterval:UIApplicationBackgroundFetchIntervalMinimum];
    return YES;
} 
```

它`UIApplicationBackgroundFetchIntervalMinimum`尽可能频繁，但它不是从文档获取之间的确切秒数：

> 系统支持的最小获取间隔。

然后当后台获取触发时，您可以`AppDelegate`使用以下方法签入：

```
-(void)application:(UIApplication *)application performFetchWithCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler{
    Reachability *reachability = [Reachability reachabilityForInternetConnection];
    [reachability startNotifier];
    NetworkStatus status = [reachability currentReachabilityStatus];

    switch (status) {
        case NotReachable: {
            NSLog(@"no internet connection");
            break;
        }
        case ReachableViaWiFi: {
            NSLog(@"wifi");
            break;
        }
        case ReachableViaWWAN: {
            NSLog(@"cellurar");
            break;
        }
    }
    completionHandler(YES);
} 
```

所有这些都适用于**iOS 7.0**或更高版本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-14T09:35:53.183

我不相信有一种方法可以在您处于后台时接收可达性通知。处理此问题的正确方法是检查 AppDelegate 的 - (void)applicationWillEnterForeground:(UIApplication *) 应用程序中的可达性。

后台应用程序响应的唯一后台事件是收到推送通知，这是因为操作系统会唤醒它们这样做，并且只有在用户请求时才会这样做。*

# c# - 将图像加载到 wp7 中的应用程序栏

> ID：12670781
> 
> 赞同：2
> 
> 时间：2012-10-01T09:38:34.923
> 
> 标签：c#, windows-phone-7, xaml, windows-phone-7.1

我正在开发 Windows 手机应用程序，我是新手，我正在使用下面的代码在运行时将 PNG 图像添加到应用程序栏

```
this.ApplicationBar = new ApplicationBar();
this.ApplicationBar.Opacity = 1;
this.ApplicationBar.Mode = ApplicationBarMode.Minimized;

ApplicationBarIconButton btn = new ApplicationBarIconButton();
btn .IconUri = new Uri("/Resources/car.png", UriKind.Relative);
btn .Text = "Car";
this.ApplicationBar.Buttons.Add(btn); 
```

![在此处输入图像描述](../Images/6f168e51afe4275acd49d4660c5d3bf9.png)

但是图像没有加载它在应用程序栏圈内显示“X”，我也尝试使用下面的代码进行设计

```
<phone:PhoneApplicationPage.ApplicationBar>
        <shell:ApplicationBar IsVisible="True" IsMenuEnabled="True">
            <shell:ApplicationBarIconButton IconUri="/Resources/car.png" Text="Car" IsEnabled="False" />            
            <shell:ApplicationBar.MenuItems>
                <shell:ApplicationBarMenuItem Text="About" />
            </shell:ApplicationBar.MenuItems>
        </shell:ApplicationBar>
    </phone:PhoneApplicationPage.ApplicationBar> 
```

但没有用，我的图像尺寸为 48 x 48 像素，按钮的白色前景图形为 26 x 26。我错过了什么吗，请帮帮我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:43:57.420

检查项目中图像文件的属性：您应该`Build Action`设置为`Content`以便文件与最终的 .XAP 文件一起使用

# java - 为什么我的调试类别没有记录？

> ID：12670783
> 
> 赞同：3
> 
> 时间：2012-10-01T09:38:51.000
> 
> 标签：java, log4j

这是我的属性文件：

```
log4j.rootLogger=INFO, DATEDFILE, CONSOLE, DEBUG

### direct log messages to stdout ###
log4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender
#log4j.appender.stdout.Target=System.out
log4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout
log4j.appender.CONSOLE.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n

log4j.appender.DATEDFILE=biz.minaret.log4j.DatedFileAppender
log4j.appender.DATEDFILE.layout=org.apache.log4j.PatternLayout
log4j.appender.DATEDFILE.layout.ConversionPattern=%d [%t] %-5p %c - %m%n
log4j.appender.DATEDFILE.Prefix=arendeprocess.
log4j.appender.DATEDFILE.Suffix=.log
log4j.appender.DATEDFILE.Directory=//localhost/WebsphereLog/PandoraArendeWeb/ 
```

我认为它应该使类别DEBUG日志，为什么不呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T09:43:38.437

> log4j.rootLogger=信息、日期文件、控制台、调试

您正在将日志记录的最低级别显式设置为 INFO，然后是应记录日志语句的附加程序列表。所以，`DEBUG`在那个列表中提到的意思是你要定义一个appender，它的名字是`DEBUG`并且它不引用`DEBUG`日志级别，AFAIU。

# css - haml & scss - 一行中的两种样式

> ID：12670786
> 
> 赞同：2
> 
> 时间：2012-10-01T09:38:59.840
> 
> 标签：css, haml, sass

我目前有这段代码，我需要白色文本为白色，绿色文本为绿色，但它们都在同一行。我是 haml 和 scss 的新手，所以我确定这是什么东西真的很明显！

哈姆代码：

```
.left
    %h2 
      green text white text 
      %img(src="/assets/_logo.gif") 
```

scs代码：

```
.left { 
      width: 450px; float: left; padding: 20px; 
      h2 {color: #2A8E82}
      }
      h3 {color: #FFFFFF}
      p {color: #FFFFFF}
      background: url("/assets/silicon/box_bg.gif") repeat-x;
      } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T11:04:37.043

您可以`span`在这种情况下使用标签：

```
%h2 
  <span class='green'>green text</span><span class='white'>white text</span>
#or
%h2
  %span.green green text
  %span.white white text 
```

在 SCSS 中：

```
.left {
  h2 {
    color: #2A8E82;
    .green {
      color: green;
     }
     .white {
        color: white;
     }
   }
 } 
```

# ios - 在 2 个 AudioUnit 之间添加一个 AULowPass 过滤器

> ID：12670795
> 
> 赞同：2
> 
> 时间：2012-10-01T09:39:46.657
> 
> 标签：ios, core-audio, audioeffect

我已经修改了 Tim Boldstad [http://timbolstad.com/2010/03/16/core-audio-getting-started-pt2/](http://timbolstad.com/2010/03/16/core-audio-getting-started-pt2/)提供的代码（愿上帝保佑他），并添加了一个小滑块以便能够更改输出音调频率从 40Hz 到 200000Hz。我现在希望能够在生成的音调上使用 LPF。

首先，any1 是否有详细的指南来解释如何执行此操作。我试过简单地在两者之间添加一个节点，但它不起作用，显然，我需要将 16 位整数样本转换为浮动 8.24 格式，然后将音频样本输入提供给过滤器，然后我必须转换它回到 16 位整数。这是问题吗？还是我错误地连接了节点？我应该在哪里设置滤波器截止频率和其他参数？

谁能解释一下 AudioUnitGetProperty 的作用？有关这些主题的 Apple 文档非常零散且毫无价值:(

```
-(void) initializeAUGraph
{

OSStatus result= noErr;

    result = NewAUGraph(&mGraph);

    AUNode outputNode;
    AUNode mixerNode;
    AUNode effectsNode;

    AudioComponentDescription effects_desc;
    effects_desc.componentType = kAudioUnitType_Effect;
    effects_desc.componentSubType = kAudioUnitSubType_LowPassFilter;
    effects_desc.componentFlags = 0;
    effects_desc.componentFlagsMask = 0;
    effects_desc.componentManufacturer = kAudioUnitManufacturer_Apple;

    AudioComponentDescription mixer_desc;
    mixer_desc.componentType=kAudioUnitType_Mixer;
    mixer_desc.componentSubType=kAudioUnitSubType_MultiChannelMixer;
    mixer_desc.componentFlags=0;
    mixer_desc.componentFlagsMask=0;
    mixer_desc.componentManufacturer=kAudioUnitManufacturer_Apple;

    AudioComponentDescription output_desc;
    output_desc.componentType = kAudioUnitType_Output;
    output_desc.componentSubType = kAudioUnitSubType_RemoteIO;
    output_desc.componentFlags = 0;
    output_desc.componentFlagsMask = 0;
    output_desc.componentManufacturer = kAudioUnitManufacturer_Apple;

   result= AUGraphAddNode(mGraph, &output_desc, &outputNode);
   result= AUGraphAddNode(mGraph, &mixer_desc, &mixerNode);
    result=AUGraphAddNode(mGraph, &effects_desc, &effectsNode);

    result=AUGraphConnectNodeInput(mGraph, mixerNode, 0, effectsNode, 0);
    result=AUGraphConnectNodeInput(mGraph, effectsNode, 0, outputNode, 0);

    result=AUGraphOpen(mGraph);

    //getting mixxer

    result = AUGraphNodeInfo(mGraph, mixerNode, NULL, &mMixer);
    result = AUGraphNodeInfo(mGraph, effectsNode, NULL, &mEffects);

    UInt32 numbuses = 1;
    UInt32 size = sizeof(numbuses);
    result = AudioUnitSetProperty(mMixer, kAudioUnitProperty_ElementCount, kAudioUnitScope_Input, 0, &numbuses, size);

    //=====

    CAStreamBasicDescription desc;

    // Loop through and setup a callback for each source you want to send to the mixer.
    // Right now we are only doing a single bus so we could do without the loop.
    for (int i = 0; i < numbuses; ++i) 
    {

        // Setup render callback struct
        // This struct describes the function that will be called
        // to provide a buffer of audio samples for the mixer unit.
        AURenderCallbackStruct renderCallbackStruct;
        renderCallbackStruct.inputProc = &renderInput;
        renderCallbackStruct.inputProcRefCon = self;

        // Set a callback for the specified node's specified input
        result = AUGraphSetNodeInputCallback(mGraph, mixerNode, i, &renderCallbackStruct);

        // Get a CAStreamBasicDescription from the mixer bus.
        size = sizeof(desc);
        result = AudioUnitGetProperty(  mMixer,
                                      kAudioUnitProperty_StreamFormat,
                                      kAudioUnitScope_Input,
                                      i,
                                      &desc,
                                      &size);
        // Initializes the structure to 0 to ensure there are no spurious values.
        memset (&desc, 0, sizeof (desc));                               

        // Make modifications to the CAStreamBasicDescription
        // We're going to use 16 bit Signed Ints because they're easier to deal with
        // The Mixer unit will accept either 16 bit signed integers or
        // 32 bit 8.24 fixed point integers.

        desc.mSampleRate = kGraphSampleRate; // set sample rate
        desc.mFormatID = kAudioFormatLinearPCM;
        desc.mFormatFlags      = kAudioFormatFlagIsSignedInteger | kAudioFormatFlagIsPacked;
        desc.mBitsPerChannel = sizeof(AudioSampleType) * 8; // AudioSampleType == 16 bit signed ints
        desc.mChannelsPerFrame = 1;
        desc.mFramesPerPacket = 1;
        desc.mBytesPerFrame = ( desc.mBitsPerChannel / 8 ) * desc.mChannelsPerFrame;
        desc.mBytesPerPacket = desc.mBytesPerFrame * desc.mFramesPerPacket;

        printf("Mixer file format: "); desc.Print();
        // Apply the modified CAStreamBasicDescription to the mixer input bus
        result = AudioUnitSetProperty(  mMixer,
                                      kAudioUnitProperty_StreamFormat,
                                      kAudioUnitScope_Input,
                                      i,
                                      &desc,
                                      sizeof(desc));
    }

    // Apply the CAStreamBasicDescription to the mixer output bus
    result = AudioUnitSetProperty(   mMixer,
                                  kAudioUnitProperty_StreamFormat,
                                  kAudioUnitScope_Output,
                                  0,
                                  &desc,
                                  sizeof(desc));

    //************************************************************
    //*** Setup the audio output stream ***
    //************************************************************

    // Get a CAStreamBasicDescription from the output Audio Unit
    result = AudioUnitGetProperty(  mMixer,
                                  kAudioUnitProperty_StreamFormat,
                                  kAudioUnitScope_Output,
                                  0,
                                  &desc,
                                  &size);

    // Initializes the structure to 0 to ensure there are no spurious values.
    memset (&desc, 0, sizeof (desc));

    // Make modifications to the CAStreamBasicDescription
    // AUCanonical on the iPhone is the 8.24 integer format that is native to the iPhone.
    // The Mixer unit does the format shifting for you.
    desc.SetAUCanonical(1, true);
    desc.mSampleRate = kGraphSampleRate;

    // Apply the modified CAStreamBasicDescription to the output Audio Unit
    result = AudioUnitSetProperty(  mMixer,
                                  kAudioUnitProperty_StreamFormat,
                                  kAudioUnitScope_Output,
                                  0,
                                  &desc,
                                  sizeof(desc));

    // Once everything is set up call initialize to validate connections
    result = AUGraphInitialize(mGraph);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T15:06:32.413

> 谁能解释一下 AudioUnitGetProperty 的作用？

好吧，它从音频单元获取属性的值。“属性”通常是您作为程序员处理的东西（例如音频流格式、连接状态），而“参数”通常是您向用户公开的东西（例如低通截止频率、混音器音量）。请注意，有`AudioUnitGetParameter`和`AudioUnitSetParameter`功能可以补充`AudioUnitGetProperty`和`AudioUnitSetProperty`功能。

您基本上应该“只知道”音频单元的属性/参数是什么以及它们期望的值是什么。这方面的最佳文档来源是 AudioUnit.framework 中的两个标头。即，`AudioUnitProperties.h`和`AudioUnitParameters.h`。下一个最佳来源是 Xcode 的自动完成功能。例如，AULowPass 的参数是`kLowPassParam_CutoffFrequency`and `kLowPassParam_Resonance`，因此您只需键入`kLowPassParam`，Xcode 就会向您显示可用的内容。其他 AU 通常遵循此方案。

> ...但它显然不起作用

我需要更多信息。你的意思是你听不出区别？AULowPass 以非常高的截止频率开始，因此除非您将其设置得较低，否则您可能根本听不到任何差异。

尝试将截止频率设置为相当低的值，例如 500hz。你这样做：

```
AudioUnitSetParameter(mEffects,
                      kLowPassParam_CutoffFrequency,
                      kAudioUnitScope_Global,
                      0,
                      500,
                      0); 
```

# jsmpp - 消息未使用 jsmpp 提交到手机

> ID：12670798
> 
> 赞同：0
> 
> 时间：2012-10-01T09:40:15.697
> 
> 标签：jsmpp

我正在尝试使用以下代码向手机发送消息：

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package jsmsoutgoing;

import java.io.IOException;
import java.util.Date;
import org.jsmpp.InvalidResponseException;
import org.jsmpp.PDUException;
import org.jsmpp.bean.Alphabet;
import org.jsmpp.bean.BindType;
import org.jsmpp.bean.ESMClass;
import org.jsmpp.bean.GeneralDataCoding;
import org.jsmpp.bean.MessageClass;
import org.jsmpp.bean.NumberingPlanIndicator;
import org.jsmpp.bean.RegisteredDelivery;
import org.jsmpp.bean.ReplaceIfPresentFlag;
import org.jsmpp.bean.SMSCDeliveryReceipt;
import org.jsmpp.bean.TypeOfNumber;
import org.jsmpp.examples.MessageReceiverListenerImpl;
import org.jsmpp.extra.NegativeResponseException;
import org.jsmpp.extra.ResponseTimeoutException;
import org.jsmpp.session.BindParameter;
import org.jsmpp.session.SMPPSession;
import org.jsmpp.util.AbsoluteTimeFormatter;
import org.jsmpp.util.MessageId;
import org.jsmpp.util.TimeFormatter;

public class Jsmsoutgoing {

    /**
     * @param args the command line arguments
     */
    private static TimeFormatter timeFormatter = new AbsoluteTimeFormatter();
    public static void main(String[] args) {
        // TODO code application logic here

         SMPPSession session = new SMPPSession();
         session.setMessageReceiverListener(new MessageReceiverListenerImpl());
         String host = "X";
             int port = y;
             String userName = "user";
             String password = "pass";
             String TON = "0";
             String NPI = "1";
             String systemType = "generic";
        try {
            session.connectAndBind(
                         host,
                         port, 
                         BindType.BIND_TRX, 
                         userName, 
                         password, 
                         systemType, 
                         TypeOfNumber.INTERNATIONAL, 
                         NumberingPlanIndicator.ISDN,
                         null);
            System.out.println("Session Connected");

        } catch (IOException e) {
            System.out.println("Failed connect and bind to host");
            e.printStackTrace();
        }

        try {

            String messageId = session.submitShortMessage(
                    "CMT", 
                    TypeOfNumber.INTERNATIONAL, 
                    NumberingPlanIndicator.UNKNOWN, 
                    "SENDERNUMBER", 
                    TypeOfNumber.INTERNATIONAL, 
                    NumberingPlanIndicator.UNKNOWN, 
                    "RECEIVERNUMBER", 
                    new ESMClass(), 
                    (byte)0, 
                    (byte)1,  
                    null, 
                    null, 
                    new RegisteredDelivery(SMSCDeliveryReceipt.SUCCESS_FAILURE),
                    (byte)0,
                    new GeneralDataCoding(false, true, MessageClass.CLASS1, Alphabet.ALPHA_DEFAULT), 
                    (byte)0,
                    "Test from TEST".getBytes()
                    );
            System.out.println("Message submitted, message_id is " + messageId);
            //System.out.println("Message submitted, message_id is " + messageId);
            Thread.sleep(2000);
        } 
        catch(PDUException e)
        {
            System.out.println("PDU Exeption");
            e.printStackTrace();
        }    
        catch (ResponseTimeoutException e) {
            // Response timeout
            System.out.println("Response timeout");
            e.printStackTrace();
        } catch (InvalidResponseException e) {
            // Invalid response
            System.out.println("Receive invalid respose");
            e.printStackTrace();
        } catch (NegativeResponseException e) {
            // Receiving negative response (non-zero command_status)
            System.out.println("Receive negative response");
            e.printStackTrace();
        } catch (IOException e) {
            System.out.println("IO error occur");
            e.printStackTrace();
        }
        catch (InterruptedException e) {
            System.out.println("Thread interrupted");
            e.printStackTrace();
        }

        session.unbindAndClose();
    }

} 
```

任何人，任何想法？

谢谢

# mongodb - MongoDB C# 删除不起作用

> ID：12670800
> 
> 赞同：2
> 
> 时间：2012-10-01T09:40:17.843
> 
> 标签：mongodb, collections, mongodb-.net-driver, mongodb-query

我有此代码用于从 mongob 排序规则中删除项目

```
private MongoCollection<T> GetCollection()
    {
       connectionString = "mongodb://localhost/?safe=true";
       server = MongoServer.Create(connectionString);
       database = server.GetDatabase("CSCatalog"); 

        return database.GetCollection<T>("myCollectionName");
    }
public bool  Delete(T entity)
    {            
        var id = typeof(T).GetProperty("Id").GetValue(entity,null).ToString();            
        var query = Query.EQ("_id",id);
        var finded = GetCollection().Find(query); // return null
        var result= GetCollection().Remove(query, MongoDB.Driver.RemoveFlags.Single);  // no errors, but don't remove 

        return esito.Ok; //return true but donn't remove.

    } 
```

GetCollection() 方法检索正确的集合，我已经对其宽度调试进行了测试。在集合中有我要删除的项目，它具有与我在第一行中检索到的相同的 ID。

该实体有一些字段和一个名为“Id”的 Objectid 字段

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-28T14:18:28.697

您创建的 _id 类型是 ObjectId 类，并且您试图将其等同于字符串，因此它无法删除。利用

var queryId = new ObjectId(id);

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-02T05:15:10.660

如果从您的数据库返回了某些内容，则您的`finded`变量不应该是。它为 null 意味着您没有找到任何东西，因此不会删除任何内容。`null``.find()`

这里发生的情况是您正在查询`_id`ObjectId，同时将该 ObjectId 存储在数据库中为`Id`.

# c# - WPF MultiBinding VS 设计器异常

> ID：12670802
> 
> 赞同：1
> 
> 时间：2012-10-01T09:40:24.680
> 
> 标签：c#, wpf, xaml, data-binding, multibinding

Visual Studio 2010 设计师说 MultiValueConverter 中发生了未处理的异常，但我可以构建我的程序并且它工作正常（多重绑定也可以）。

![在此处输入图像描述](../Images/6ce4918ad99992af2ed39f4327852e8a.png)

XAML（我在构造函数中设置了 window.DataContext）：

```
 <ComboBox Name="cbbProfile" DisplayMemberPath="Name" Grid.Row="1" Margin="10,5" Grid.ColumnSpan="3" ItemsSource="{Binding ProfilesData.ProfilesItems}" SelectionChanged="cbbProfile_SelectionChanged" >
                <ComboBox.IsEnabled>
                    <MultiBinding Converter="{StaticResource multiEnabledToEnabled}">
                        <Binding Path="ProfilesData.ProfilesItems.Count" Converter="{StaticResource itemsCountToEnabled}" />
                        <Binding Path="State" Converter="{StaticResource stateToControlsEnabled}" />
                    </MultiBinding>
                </ComboBox.IsEnabled>
            </ComboBox> 
```

转换器：

```
public class MultiEnabledToEnabled : IMultiValueConverter
{
    public object Convert(object[] values, Type targetType, object parameter, CultureInfo culture)
    { 
        foreach (object val in values)
        {
            if (!(bool) val)     // <-- EXCEPTION (line 176) HERE 
                return false;
        } 

        return true;
    }    

public class ItemsCountToEnabled : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        return (int)value == 0 ? false : true;
    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        throw new NotImplementedException();
    }
}

public class StateToControlsEnabled : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        var val = (ProgramState)value;
        switch (val)
        {
            ...
            default:
                return true;
        }

    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        throw new NotImplementedException();
    }
} 
```

VS异常文本：

System.InvalidCastException 指定的强制转换无效。在 myassemblyname.MultiEnabledToEnabled.Convert(Object[] values, Type targetType, Object parameter, CultureInfoculture) in C:...\Converters.cs:line 176 at System.Windows.Data.MultiBindingExpression.TransferValue() at System.Windows .Data.MultiBindingExpression.Transfer() 在 System.Windows.Data.MultiBindingExpression.UpdateTarget(Boolean includeInnerBindings) 在 System.Windows.Data.MultiBindingExpression.AttachToContext(Boolean lastChance) 在 System.Windows.Data.MultiBindingExpression.MS.Internal.Data .IDataBindEngineClient.AttachToContext(Boolean lastChance) 在 MS.Internal.Data.DataBindEngine.Task.Run(Boolean lastChance) 在 MS.Internal.Data.DataBindEngine.Run(Object arg) 在 System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate回调，对象参数，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:50:35.213

我最好的猜测是绑定发生在一些初始化之前，并且 object 集合中至少有一个值 is `DependencyProperty.UnsetValue`，这使得强制转换无效。

现在，假设您设置了设计时视图模型，您可以事先检查所有值是否确实是布尔值：

```
if(values.All(v => v is bool))
{
   //Do regular computation
}
else
{
   //Handle edge case
} 
```

但是一旦任何视图变得复杂，设计师就会崩溃，让它再次工作是很痛苦的。

Expression Blend 可以更好地处理这个问题，如果您绝对想要一个设计师但又不想设置设计时环境，那就去吧。

否则就像大多数人一样：忘记设计师。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T09:51:59.330

VS 设计师是一个难以相处的野兽，我得出的结论是不值得付出努力。但是你可以使用：

```
if(DesignerProperties.GetIsInDesignMode(Application.MainWindow)) 
```

为您的转换器提供默认值。这将消除错误。

[msdn 上的 DesignerProperties.GetIsInDesignMode 方法](http://msdn.microsoft.com/en-us/library/system.componentmodel.designerproperties.getisindesignmode.aspx)

# json - 使用 AJAX 调用从 Symfony2 控制器返回 JSONP

> ID：12670803
> 
> 赞同：3
> 
> 时间：2012-10-01T09:40:27.987
> 
> 标签：json, symfony, jsonp

我正在尝试从 Symfony2 返回 JSONP。我可以很好地返回常规 JSON 响应，但似乎 JSON 响应类忽略了我的回调。

```
$.ajax({
        type: 'GET',
        url: url,
        async: true,
        jsonpCallback: 'callback',
        contentType: "application/json",
        dataType: 'jsonp',                      
        success: function(data) 
        {                                   
              console.log(data);
        },
        error: function() 
        {
            console.log('failed');
        }
        }); 
```

然后在我的控制器中：

```
$callback = $request->get('callback');    
$response = new JsonResponse($result, 200, array(), $callback);
return $response; 
```

我从中得到的响应总是常规的 JSON。没有回调包装。

Json Response 类在这里：

[https://github.com/symfony/symfony/blob/master/src/Symfony/Component/HttpFoundation/JsonResponse.php](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/HttpFoundation/JsonResponse.php)

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-01T09:55:05.507

正如文档所说：

```
$response = new JsonResponse($result, 200, array(), $callback); 
```

您将回调方法设置为`$headers`参数。

所以你需要：

```
$response = new JsonResponse($result, 200, array());
$response->setCallback($callback);
return $response; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:57:07.483

的`JsonResponse`构造函数不接受回调参数。您需要通过方法调用来设置它：

```
$response = new JsonResponse($result);
$response->setCallback($callback);

return $response; 
```

# c# - Doxygen C# XML 注释和泛型不会在 HTML 输出中生成链接

> ID：12670805
> 
> 赞同：1
> 
> 时间：2012-10-01T09:40:42.043
> 
> 标签：c#, documentation, doxygen, xml-comments

我在网上找不到任何相关信息，而且我对 doxygen 中的 XML 注释支持一无所知。

我的问题很简单：

```
/// <see cref="GenericClass{TTypeparam}"/> 
```

在我看来，这似乎是在 XML 注释中引用开放泛型的正确方法，不会在 doxygen 输出中产生链接。它只是将 cref 属性中的文本复制到输出。

我知道从自定义页面链接到泛型可以使用`GenericClass<TTypeParam>`. 那么这是一个已知的错误，还是我错过了一些明显的东西？

顺便提一句。我正在使用 doxygen 1.8.2

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T17:30:05.450

Doxygen 目前不支持 cref 中的 { .. } 语法。你可以认为这是一个错误。请随时在 doxygen 的错误跟踪器中为此提交错误报告。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-18T15:56:16.313

Doxygen 目前似乎没有处理泛型的好方法（在 1.8.8 中） - 除非您很高兴忘记标准 Microsoft 支持的 XML 格式（使用 {...} 语法）并切换使用“GenericClass”或“\ref GenericClass”（这两者当然都是 Visual Studio 工具不喜欢的无效 XML）。

请参阅 doxygen 错误[https://bugzilla.gnome.org/show_bug.cgi?id=738173](https://bugzilla.gnome.org/show_bug.cgi?id=738173)、[https://bugzilla.gnome.org/show_bug.cgi?id=738167](https://bugzilla.gnome.org/show_bug.cgi?id=738167)和[https://bugzilla.gnome.org/show_bug .cgi?id=704090](https://bugzilla.gnome.org/show_bug.cgi?id=704090)

# salesforce - 用相关数据初始化顶点中的对象

> ID：12670806
> 
> 赞同：0
> 
> 时间：2012-10-01T09:40:49.470
> 
> 标签：salesforce, apex-code

我需要一个单独的对象，其中包含子对象的相关字段。

目前我这样做：

```
Opportunity opp = [SELECT Id, Name, Account.Id, Account.Name FROM Opportunity LIMIT 1];

Account acc = new Account(
    Id        = opp.Account.Id,
    Name      = opp.Account.Name
); 
```

在处理大型相关对象时，我必须初始化比这更多的字段，并且脚本变得非常大而且丑陋。

将相关字段数据初始化为单独对象的最快方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T14:29:27.850

您必须在 SOQL 查询中定义所有字段（[此处](https://stackoverflow.com/questions/8780413/salesforce-soql-query-to-fetch-all-the-fields-on-the-entity)为更多信息）。

但如果要克隆对象，则没有必要：

```
Opportunity opp = [SELECT Account.Id, Account.Name 
                   FROM Opportunity 
                   LIMIT 1];

Account acc = opp.Account; 
```

自定义对象示例：

```
Contract__c c = [ Select Account__r.FirstName 
                  From Contract__c 
                  Where Account__r.FirstName != null 
                  Limit 1];

Account a = c.Account__r; 
```

# delphi - 即使编译失败，如何尝试构建项目组中的所有项目

> ID：12670807
> 
> 赞同：2
> 
> 时间：2012-10-01T09:40:50.993
> 
> 标签：delphi, build

我们有一个 Jenkins 任务，它会在一夜之间运行并编译一个包含我们所有项目的项目组。不幸的是，此任务在项目中的第一个错误时停止。这意味着我们无法获得项目组中的完整错误列表，即使不止一个签入可能包含错误，也只有一个签入会被标记为问题。

有什么办法可以强制Delphi编译器继续构建项目组中的所有项目？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T10:04:54.160

解决方案是分别构建每个项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T08:42:37.610

信用应该归功于 LaKraven，他在评论中提出了这个答案，但我无法勾选它。

“如果您使用 MSBuild，您可以创建一个 BAT 文件，该文件将构建每个项目并继续下一个项目，无论前一个项目是否成功”

还有另一个 stackoverflow [question](https://stackoverflow.com/questions/9608927/how-can-i-use-a-batch-file-to-msbuild-solutions-in-multiple-directories-at-once)显示了有关此的更多详细信息。

我们为使其工作所做的唯一更改是使用以下 buildall.targets 代替：

```
<Project ToolsVersion="4.0" 
     xmlns="http://schemas.microsoft.com/developer/msbuild/2003"
     DefaultTargets="Default">

<ItemGroup>
    <AllFiles Include=".\**\*.dproj"/>
</ItemGroup>

<Target Name="Default">
     <MSBuild Projects="@(AllFiles)"/>
</Target> 
```

# java - 获取节点的维度 - JavaFX 2

> ID：12670809
> 
> 赞同：8
> 
> 时间：2012-10-01T09:40:56.440
> 
> 标签：java, javafx-2

我正在尝试从 Swing 跳转到 JavaFX。但我找不到如何获取节点的宽度和高度。

所以，这里有一些代码。

```
Label label = new Label();
label.setText("Hello");
label.setFont(new Font(32));

System.out.println(label.getPrefWidth());
System.out.println(label.getWidth());
System.out.println(label.getMinWidth());
System.out.println(label.getMaxWidth()); 
```

结果是：

```
-1.0
 0.0
-1.0
-1.0 
```

Swing 中的相同点是：

```
JComponent.getPreferredSize().width
JComponent.getPreferredSize().height 
```

谢谢

* * *

编辑后：

为什么这对我不起作用？

```
public class Dimensions extends Application {

    public static void main(String[] args) {
        launch(args);
    }

    public void start(Stage primaryStage) {
        primaryStage.setTitle("Hello World!");

        primaryStage.setScene(new Scene(new MyPanel(), 500, 500));
        primaryStage.centerOnScreen();
        primaryStage.setResizable(false);
        primaryStage.show();
    }
} 
```

```
public class MyPanel extends Pane {

    public MyPanel() {  
        Label label = new Label();
        label.setText("Hello");
        label.setFont(new Font(32));

        getChildren().add(label);

        label.relocate(150, 150);

        System.out.println(label.getWidth());
    }
} 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2015-05-02T01:04:26.810

将节点添加到屏幕后，您可以使用：

```
thisNode.getBoundsInParent().getHeight(); //Returns height of object in parent container. 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-10-01T09:42:05.143

在将节点放入实际放置在场景中的容器中之前，不会初始化宽度和高度，因为它们可以根据容器类型而改变。

接下来试试：

```
public void start(Stage primaryStage) {
    Label label = new Label();
    label.setText("Hello");
    label.setFont(Font.font("Arial", 32));

    System.out.println(label.getWidth());

    StackPane root = new StackPane();
    root.getChildren().add(label);

    Scene scene = new Scene(root, 300, 250);

    primaryStage.setTitle("Hello World!");
    primaryStage.setScene(scene);
    primaryStage.show();

    System.out.println("------");
    System.out.println(label.getWidth());
} 
```

在您的代码中进行下一个更改：

```
public class Dimensions extends Application {

    public static void main(String[] args) { 
        launch(args);
    }

    public void start(Stage primaryStage) {
        MyPanel myPanel = new MyPanel();
        primaryStage.setScene(new Scene(myPanel, 500, 500));
        primaryStage.show();

        System.out.println(myPanel.label.getWidth());
    }
}

class MyPanel extends Pane {
    public Label label;

    public MyPanel() {

        label = new Label();
        label.setText("Hello");
        label.setFont(new Font(32));
        getChildren().add(label);
        label.relocate(150, 150);
    }
} 
```

# class - Java 不是纯粹的面向对象的——这意味着什么是原始类型？

> ID：12670817
> 
> 赞同：0
> 
> 时间：2012-10-01T09:41:28.760
> 
> 标签：class, primitive-types

当我查看 Class.java 的 javadocs 时，它说：

```
/*The primitive Java types ({@code boolean},
 * {@code byte}, {@code char}, {@code short},
 * {@code int}, {@code long}, {@code float}, and
 * {@code double}), and the keyword {@code void} are also
 * represented as {@code Class} objects.
*/ 
```

我一直听说 Java 中的原始类型不是类/对象，因此 Java 不是纯粹的面向对象的。但是上面的 JavaDoc 让我很困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T10:40:25.440

不要被“代表”这个词弄糊涂，搞乱“类型”和“价值”。表示是由 Java 虚拟机创建的，它们不会为每个原始**值**实例化（这将是[autoboxing](http://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html)，尽管有些实例被缓存）：

> 有九个预定义的 Class 对象来表示八种原始**类型**和 void。它们由 Java 虚拟机创建，并且与它们所代表的原始类型具有相同的名称，即 boolean、byte、char、short、int、long、float 和 double。
> 
> 这些对象只能通过以下公共**静态** 最终变量访问，并且是此方法返回 true 的唯一 Class 对象。

[http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#isPrimitive%28%29](http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#isPrimitive%28%29)

# android - 安卓手机使用什么样的连接来充当游戏控制器？

> ID：12670829
> 
> 赞同：2
> 
> 时间：2012-10-01T09:42:49.907
> 
> 标签：android, bluetooth, wifi

我想在 Android 平板电脑上玩游戏时使用 Android 手机作为游戏控制器。

最适合我使用的连接类型是什么？

因为我看了一些资料：

> 蓝牙初始延迟 ~25-40ms

那么，使用 Wifi 还是 Wifi-Direct 更好呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T10:32:19.420

只是一个示例，您可以查看[http://ardrone2.parrot.com/ardrone-2/altitude/](http://ardrone2.parrot.com/ardrone-2/altitude/)他们使用 Android/iOS 设备作为控制器，通过 Wifi 连接并获得了不错的结果。

总的来说，我认为 wifi 是一个更好的选择，也在研究这个比较[http://www.diffen.com/difference/Bluetooth_vs_Wifi](http://www.diffen.com/difference/Bluetooth_vs_Wifi)

# jquery - 如何在jquery函数中迭代包含列表的地图

> ID：12670840
> 
> 赞同：-2
> 
> 时间：2012-10-01T09:43:23.837
> 
> 标签：jquery, jquery-mobile

请帮助我如何在**jquery**中迭代以下内容。

```
var data={100=[submenu 4, submenu 5, submenu 6],
          120=[submenu 10, submenu 11, submenu 12],
          125=[submenu 19, submenu 20, submenu 21],
          99=[submenu 16, submenu 17, submenu 18], 
          77=[submenu 13, submenu 14, submenu 15],
          70=[submenu 1, submenu 2, submenu 3],
          44=[submenu 7, submenu 8, submenu 9]}; 
```

我想根据ids迭代上面的一个.....100,120,125............

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T09:45:20.367

首先，检查您的`data`对象是否正确：

```
var data = { "100" : ["submenu 4", "submenu 5", "submenu 6"],
             "120" : ["submenu 10", "submenu 11", "submenu 12"],
             "125" : ["submenu 19", "submenu 20", "submenu 21"],
             "99"  : ["submenu 16", "submenu 17", "submenu 18"], 
             "77"  : ["submenu 13", "submenu 14", "submenu 15"],
             "70"  : ["submenu 1", "submenu 2", "submenu 3"],
             "44"  : ["submenu 7", "submenu 8", "submenu 9"] }; 
```

然后你可以使用`for`循环来迭代对象中的元素：

```
for (var key in data) {
    console.log(data[key]);
} 
```

你也可以使用 jQuery[`$.each()`](http://api.jquery.com/jQuery.each/)方法：

```
$.each(data, function(key, value) {
    console.log(key);
}); 
```

# java - MemoryUsage max 随时间变化

> ID：12670842
> 
> 赞同：0
> 
> 时间：2012-10-01T09:43:26.053
> 
> 标签：java, memory

我正在编写一些监视代码，以跟踪我的应用程序中使用的内存。我找到了 MemoryMXBean，它可以让我调查内存使用情况。但是我无法真正掌握[文档](http://docs.oracle.com/javase/7/docs/api/java/lang/management/MemoryUsage.html)中的最大值：

> **max**：表示可用于内存管理的最大内存量（以字节为单位）。它的值可能是未定义的。如果已定义，最大内存量可能会随时间变化。

什么情况下最大值可以为空？我认为它总是会被设置，即使我没有在启动时明确设置它。如果我设置它，最大值如何随时间变化？有一些相关的[线程](https://stackoverflow.com/questions/11905220/why-does-the-jvm-heap-usage-max-as-reported-by-jmx-change-over-time)，但没有解决问题。

有人能把光明带入黑暗吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:52:02.390

我不确定最大内存使用量何时可以为空，但我可以知道它是如何随时间变化的。最大值表示程序在其生命周期内使用过的最大内存，由`Xmx`JVM 参数限制。

所以当你的程序启动时（`Xmx`比如 1g），最大值可能是 256m。随着程序运行并需要更多内存，JVM 将为它提供更多内存，最大值将增加，例如 512m。现在程序已完成处理并且所需的内存下降，GC 启动并回收内存。但最大值保持在 512m。

最大值永远不会超过`Xmx`参数指定的值。如果它达到限制（在这种情况下为 1g），它们将保持该值直到程序运行结束。

# java - JTable 不显示列名

> ID：12670844
> 
> 赞同：2
> 
> 时间：2012-10-01T09:43:38.383
> 
> 标签：java, swing, jtable, jscrollpane, jtableheader

这是我的代码：

```
public class DownloadMainView extends JFrame{
    private ArrayList<DownloadItem> downloadList = new ArrayList<DownloadItem>();
    private JMenuBar menubar = new JMenuBar();
    private JMenu m_task = new JMenu("Tasks");
    private JMenu m_tool = new JMenu("Tools");
    private JMenu m_help = new JMenu("Help");

    private JMenuItem mi_add = new JMenuItem("Add");
    private JMenuItem mi_exit = new JMenuItem("Exit");
    private JMenuItem mi_options = new JMenuItem("Options");
    private JMenuItem mi_help = new JMenuItem("Help");
    private JMenuItem mi_about = new JMenuItem("About");

    private JTree categoryTree = new JTree();
    private JTable contentTable = new JTable(new Object[][]{},new Object[]{"No.","Filename","URL","Status","Size","Added Date"});
    private JToolBar toolbar = new JToolBar();
    private JScrollPane scrollPane = new JScrollPane();

    private JButton btnAdd = new JButton("Add");
    private JButton btnCancel = new JButton("Cancel");
    private JButton btnDelete = new JButton("Delete");
    private JButton btnOption = new JButton("Option");

    public DownloadMainView() throws IOException{
        super("KPDownloader");
        setSize(800,400);
        setLayout(null);
        setDefaultCloseOperation(EXIT_ON_CLOSE);
        //Build menubar
        menubar.add(m_task);
        menubar.add(m_tool);
        menubar.add(m_help);
        m_task.add(mi_add);
        mi_add.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_A,ActionEvent.CTRL_MASK));
        m_task.add(new JSeparator());
        m_task.add(mi_exit);
        mi_exit.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_X,ActionEvent.ALT_MASK));
        m_tool.add(mi_options);
        mi_options.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_O,ActionEvent.CTRL_MASK));
        m_help.add(mi_help);
        mi_help.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_F1,0));
        m_help.add(mi_about);
        mi_about.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_B,ActionEvent.CTRL_MASK));
        setJMenuBar(menubar);
        //about buttons
        toolbar.add(btnAdd);        
        toolbar.add(btnOption);
        toolbar.add(btnCancel);
        toolbar.add(btnDelete);
        toolbar.setLocation(0, 0);
        toolbar.setSize(800,42);
        this.add(toolbar);
        //add table to mainview
        String columns[] = {"No.","Filename","URL","Status","Size","Added Date"};
        DefaultTableModel model = new DefaultTableModel(columns,1);
        readDownloadList();
        if(downloadList != null){
            int length = downloadList.size();
            for(int i = 0; i < length; i++)
                model.insertRow(i, new Object[]{i,
                        downloadList.get(i).getFilename(),downloadList.get(i).getSize(),
                        downloadList.get(i).getStatus(),
                        downloadList.get(i).getURL(),downloadList.get(i).getAddedDate()});
        }

        contentTable.setModel(model);
        contentTable.setSize(800, 350);
        scrollPane.add(contentTable);
        scrollPane.setSize(800, 350);
        scrollPane.setLocation(0, 50);
        this.add(scrollPane);

    } 
```

但是当我运行我的代码时，该表不显示列名。当我将此行设置为 1 时，它只显示一个空行：`DefaultTableModel model = new DefaultTableModel(columns,1);`

请告诉我我的代码哪里错了？？谢谢！

已编辑：正如有人问过同样的问题（JTable 中没有标题），但答案是将 Jtable 添加到 JScrollPane 中，这无济于事 @@ 已编辑：嗨**Dan**，我添加了完整的构造函数，这是该`readDownloadList()`方法的代码：

```
void readDownloadList(){
            File file = new File("downloadlist.dat");
            ObjectInputStream ois = null;
            if(!file.exists())
                try {
                    file.createNewFile();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
            try {
                ois = new ObjectInputStream(new FileInputStream(file));
                downloadList = (ArrayList<DownloadItem>) ois.readObject();
                ois.close();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                downloadList = new ArrayList<DownloadItem>();
                e.printStackTrace();
            }catch(ClassNotFoundException e){
                downloadList = new ArrayList<DownloadItem>();
                e.printStackTrace();
            }
        } 
```

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T10:01:27.783

你用`JScrollPane`错了方法。要使其正常工作，只需执行以下操作。

`JTable`将实例传递给`JScrollPane`构造函数中的：

```
private JScrollPane scrollPane = new JScrollPane(contentTable); 
```

注释掉你用来添加的`JTable`行`JScrollPane`：

```
// scrollPane.add(contentTable); 
```

当您将组件放在 a 的构造函数中时`JScrollPane`，您会提到哪个是要应用滚动的视图。

另一方面，使用该`add`方法，您只需将组件添加到容器中，就像将其添加到`JPanel`. 这样，您无需指定要添加滚动条的组件。

# c# - 单击unity 3d中的按钮时如何运行精灵动画

> ID：12670845
> 
> 赞同：1
> 
> 时间：2012-10-01T09:43:38.590
> 
> 标签：c#, sprite, unity3d

我正在统一 3d 中做一个迷你游戏，其中我有门动画，我在检查器中创建了门精灵，现在我的问题是当我单击需要打开的门时，我使用了 object Instantiate 方法，[players = (GameObject ) Instantiate(playerPrefab, new_size, Quaternion.identity);] 但我认为这不是一个合适的方法，因为它会创建门的重复副本，这就是为什么，如果有任何其他想法请回复

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T22:49:07.310

您需要将纹理存储为类中的变量。然后你应该调用一个方法（例如一个 IEnumerator 或者你可以在 Update() 中使用 if 语句）然后将来自[wiki.unity3d.com 的 SPrite Animation](http://www.unifycommunity.com/wiki/index.php?title=Animating_Tiled_texture_-_Extended)的代码插入你的 Class(class.cs)。

[或者您可以在Sprite Animation](http://www.unifycommunity.com/wiki/index.php?title=Animating_Tiled_texture_-_Extended)中的 Update 方法中插入 if 语句，并在您要调用动画时将其设置为 true。

# mysql - mysql重复结果连接表

> ID：12670846
> 
> 赞同：0
> 
> 时间：2012-10-01T09:43:40.667
> 
> 标签：mysql, join

我正在为一个知名的购物车滚动我自己的功能。这是我的查询：

```
 SELECT d.product, d.product_id, p.price FROM cscart_product_descriptions AS d, cscart_product_prices AS p WHERE d.product_id IN (
SELECT product_id FROM cscart_products WHERE product_code IN (
SELECT product_id FROM cscart_range WHERE range_name IN (
SELECT range_name FROM cscart_range WHERE product_id = '0140885'
))) 
```

当我从第一个选择中删除与 product_prices 相关的选择时，我得到了三个按预期返回的项目。当我使用包含的价格运行它时，我得到了大约 4,500 个结果。

我知道这是一个加入问题，我只是不确定如何纠正它。

干杯!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:49:23.910

它与 cscart_product_prices 表进行交叉连接..

你可以尝试这样的事情：

```
 select a.*,p.price from (
      SELECT d.product, d.product_id 
      FROM cscart_product_descriptions AS d 
      WHERE d.product_id IN (
         SELECT product_id FROM cscart_products WHERE product_code IN (
         SELECT product_id FROM cscart_range WHERE range_name IN (
         SELECT range_name FROM cscart_range WHERE product_id = '0140885'
         )))a
join cscart_product_prices AS p
on p.product_id=a.product_id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T10:01:13.250

另外，试试这个查询与连接 -

```
SELECT
  d.product, d.product_id, p.price
FROM
  cscart_product_descriptions d
JOIN cscart_products p
  ON p.product_id = d.product_id 
JOIN cscart_range r1
  ON r1.product_id = p.product_code
JOIN cscart_range r2
  ON r2.range_name = p.range_name
WHERE r2.product_id = '0140885' 
```

# android - sencha + Phone Gap中的相机应用程序

> ID：12670849
> 
> 赞同：0
> 
> 时间：2012-10-01T09:43:49.413
> 
> 标签：android, cordova, sencha-touch-2, android-camera, voice-recording

我是 sencha 的新手，我需要在 Sencha 中开发一个应用程序，并且可以选择使用 Phone Gap。

这将是一个安卓应用程序。我需要使用相机和录音机，需要一个将图像和录制的音频发送到服务器的选项。如何在 Sencha 和 Phone Gap 中完成此要求？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T13:07:18.883

请遵循 Sencha 提供的教程： [http ://www.sencha.com/learn/a-sencha-touch-mvc-application-with-phonegap/](http://www.sencha.com/learn/a-sencha-touch-mvc-application-with-phonegap/)

完成本教程后，您就拥有了为 PhoneGap 创建 Sencha 应用程序的一切。

PhoneGap 公开特定的设备功能以使其在 JavaScript 环境中可访问。它可以是属性、事件或方法。因此，在 PhoneGap 文档（非常好的文档）中搜索您想要的功能，然后您将看到 PhoneGap 可以为您做什么。将文档中的示例调整为 Sencha 表示法，然后您就完成了！

这里有一些提示：

1.  相机： [http ://docs.phonegap.com/en/1.0.0/phonegap_camera_camera.md.html](http://docs.phonegap.com/en/1.0.0/phonegap_camera_camera.md.html)
2.  录制音频： [http ://docs.phonegap.com/en/1.0.0/phonegap_media_media.md.html#media.startRecord](http://docs.phonegap.com/en/1.0.0/phonegap_media_media.md.html#media.startRecord)
3.  文件传输到服务器： [http ://docs.phonegap.com/en/1.0.0/phonegap_file_file.md.html#FileTransfer](http://docs.phonegap.com/en/1.0.0/phonegap_file_file.md.html#FileTransfer)

希望它能帮助你度过难关...

祝你好运

# javascript - AJAX、CORS、Chrome 和 HTTP 错误代码 (401,403,404,500) 的推荐解决方案

> ID：12670851
> 
> 赞同：16
> 
> 时间：2012-10-01T09:43:52.680
> 
> 标签：javascript, google-chrome, cors

**背景**

*（如果你熟悉CORS，你可以跳到最后的**问题**）*

CORS [1] 是一种允许浏览器允许访问来自不同域的资源的解决方案。例如使用 AJAX 的 REST 数据后端。

在 Internet 上很好地观察到，当此类资源需要时，Chrome（和 Webkit 朋友）不会处理 HTTP 身份验证提示。例如 [2] （这是为了防止浏览器显示身份验证登录对话框，例如，当图像标签加载失败并出现 401 并需要凭据时，Web-Mail 登录页面。用户可能被欺骗输入他们的网络邮件凭据）

Chrome 在这种情况下的行为是放弃响应，几乎是默默地取消请求。

实际上，只有在出现 200 时，Chrome 才会让响应正常通过；吞下任何其他状态代码并中止 AJAX 调用。

如果使用 jQuery 执行 Ajax 请求，并且远程站点以 HTTP 401 状态代码响应，则请求被取消并且 ajax 完成并出现错误，但缺少 401 代码。好像连接死了或等效的低层问题。

*我见过的唯一一个特别提到 CORS 警告的网站是 [1]*

> 当出现错误时，浏览器并不能很好地报告问题所在。例如，Firefox 报告所有错误的状态为 0 和空的 statusText。浏览器还会向控制台日志报告错误消息，但无法从 JavaScript 访问此消息。在处理 onerror 时，您会知道发生了错误，但仅此而已。

您可以通过使用 chrome 启动标志来禁用此安全性 - 只是为了测试后端是否“正常”运行，并且一个理智没有因丢失正确的状态代码而受到过度影响。见[2]

**问题**

如果后端和前端客户端代码应该使用 401 作为其身份验证过程的一部分怎么办？- 任何失败都只是被分解为一个“错误”输出。

例如：在发出身份验证请求时 - 例如 2-legged OAuth 令牌请求 - 针对 RESTful 后端 - 使用正确的状态代码 - 客户端不知道是否：

*   **401**用户未通过身份验证。
*   **---**连接失败。
*   **400**有一个错误的请求。
*   **500**服务器有问题。
*   **207**成功后没有内容。

我们的后端写*得很*RESTful，遵循当时被认为具有成本效益的尽可能多的最佳实践；其中之一是依赖正确的 HTTP 状态代码。我们使用的 Java REST 客户端运行良好。

现在我已经开始创建一个 Javascript 客户端，用于嵌入网页 - 特别是使用 CORS，我们在 Chrome 等中遇到了问题。（注意 Firefox*似乎*很好，我们目前一般不关心 IE。）

**问题**

人们为解决这些问题做了哪些工作？
有什么办法可以让 CORS 更适合受信任的后端？

**链接**

1.  CORS 教程：[http ://www.html5rocks.com/en/tutorials/cors/](http://www.html5rocks.com/en/tutorials/cors/)
2.  Chrome 不允许 401 触发的资源身份验证提示：[http ://code.google.com/p/chromium/issues/detail?id=81251](http://code.google.com/p/chromium/issues/detail?id=81251)
3.  --disable-web-security for Chrome：[在 Chrome 中禁用同源策略](https://stackoverflow.com/questions/3102819/chrome-disable-same-origin-policy)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-07-17T13:22:40.273

刚碰到这个问题。为 401 响应设置 HTTP 标头对我有用。如果没有一些自定义，我正在使用的库无法正确执行此操作。例如：

```
 self.headers["Access-Control-Max-Age"] = '1728000'
  self.headers["Access-Control-Allow-Origin"] = "http://localhost:3001"
  self.headers["Access-Control-Allow-Methods"] = "ANY"
  self.headers["Access-Control-Allow-Credentials"] = 'true' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-09-08T07:13:19.660

我今天花了几个小时寻找这个问题的答案，同时在 Chrome 上开发一个网络应用程序。[其他一些人](https://stackoverflow.com/questions/43871637/no-access-control-allow-origin-header-is-present-on-the-requested-resource-whe)已经对这种情况进行了相当详细的分析。

有两个潜在的问题：

1.  可能是 Chrome 正在进行预检，并得到了非 200 或非 CORS 响应作为响应

    *   [预检规范（发生时）](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#The_HTTP_request_headers.)
2.  由于某种原因，我的非 200（错误）状态代码没有附加标题。正如我在[这篇文章](https://stackoverflow.com/questions/24162076/cors-and-non-200-statuscode)中发现的那样，第二个原因就是问题所在。本质上，NGINX 默认只在成功响应上添加标头。要通过 CORS 获得我的错误响应，只需更改

```
add_header 'Access-Control-Allow-Origin' '*'; 
```

至

```
add_header 'Access-Control-Allow-Origin' '*' always; 
```

如文章所述，您可能还必须添加`always`到`'Access-Control-Allow-Credentials'`和`'Access-Control-Allow-Headers'`。这样做之后，所有错误代码也都通过了，没有 CORS 问题。您用于 API 服务的程序可能也是如此。希望这有助于并节省一些时间！

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-10-01T23:19:07.213

现在经过多次摆弄，我已经设法让它工作了。*脸红*

似乎有很多伏都教构成了确保 CORS 可以在每个浏览器中工作的确切场景，但是已经追溯了许多问题，例如：

*   Nginx 默认只在其反向代理中使用 HTTP/1.0
*   Tomcat 默默地忽略了具有相同密钥的重复 init-param 声明，但码头将它们组合在一起（因此 CORS 过滤器在服务器中关闭但在 dev-laptop 中打开），并且 nginx 覆盖了一些标头。

偶然发现似乎完全不行，我最终编写了一个 CORS 4xx->200 包装器作为 jquery 插件，试图解决这个问题。调试该插件使我最终解决了问题。

# asp.net - 在 razor asp.net 中用于输出过滤的方法

> ID：12670853
> 
> 赞同：0
> 
> 时间：2012-10-01T09:43:54.460
> 
> 标签：asp.net, razor

我应该使用什么方法在 c#asp.net razor 中进行输出过滤

```
AntiXss.HtmlEncode 
```

或者

```
HttpUtility.HtmlEncode 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T10:07:27.840

您可以自己选择答案：

*   [AntiXss.HtmlEncode 和 HttpUtility.HtmlEncode 有什么区别？](https://stackoverflow.com/questions/1608854/what-is-the-difference-between-antixss-htmlencode-and-httputility-htmlencode)

    或者

*   [AntiXss.HtmlEncode 和 HttpUtility.HtmlEncode 方法的区别](http://blogs.msdn.com/b/securitytools/archive/2009/07/09/differences-between-antixss-htmlencode-and-httputility-htmlencode-methods.aspx)

# php - 尝试在 Ubuntu 中安装 Memcache 时出现“致命错误：找不到类 'Memcached'”

> ID：12670856
> 
> 赞同：4
> 
> 时间：2012-10-01T09:43:57.333
> 
> 标签：php, linux, ubuntu, memcached, xampp

在 Ubuntu 上，我在内存缓存中遇到错误。

> 致命错误：找不到类“Memcached”

我有 xampp，我已经安装了 memcached 和 memcach。其实我想要memcache，我不知道是什么问题。当我通过终端运行时，我得到了这个：

```
/etc/init.d/memcached status
 * memcached is running 
```

还

```
telnet 127.0.0.1 11211
Trying 127.0.0.1...
Connected to 127.0.0.1.
Escape character is '^]'. 
```

我正在使用 Ubuntu 桌面版 32 位。不明白问题出在哪里。请具体。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T10:39:13.657

您只是在谈论 memcache-daemon，但要从 PHP 访问它，您还需要 PHP-extension

```
sudo apt-get install php5-memcached 
```

*   [http://packages.ubuntu.com/precise/php5-memcached](http://packages.ubuntu.com/precise/php5-memcached)
*   [http://php.net/memcached](http://php.net/memcached)

不要忘记重新启动服务器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-08T11:41:41.723

确保您的 php.ini 中有 extension = memcached.so。将此文本添加`extension = memcached.so`为​​文件末尾的“”。

并重新启动 Apache。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-03T05:56:16.730

在 ubuntu 上，我必须这样做：

```
 sudo apt-get install php5-memcache 
```

注意最后没有'd'

# java - Java Native Function 将值返回给不同的调用者对象

> ID：12670857
> 
> 赞同：0
> 
> 时间：2012-10-01T09:44:03.850
> 
> 标签：java, multithreading, java-native-interface

我有一个类可以进行本机调用来验证用户身份。在任何给定时间点，都可能有 50-100 个此类对象尝试对用户进行身份验证。本机调用函数的执行时间以毫秒为单位，但是当它返回结果时，结果被映射到不同的对象，因此身份验证失败。

例如 -

```
public class AS400Invoker {
    native String authenticateUser(String message, String channelNo);
    native String changePin(String message, String channelNo);
    private Logger logger = Logger.getLogger(AS400Invoker.class);
    static {
        System.loadLibrary(PropertiesBean.readProperty("libraryname"));
    }
    public String userAuthetication(String ucid, String phoneCode, String pin, String channelNo){
        String toRet = null;
        try {
            logger.info("["+ucid+"] Inside user authentication function");
            logger.info("["+ucid+"] phone code received from IVR: "+phoneCode);
            logger.info("["+ucid+"] channel number received from IVR: "+channelNo);
            UserAuthentication ua = new UserAuthentication();
            String formedMessage = ua.authenticateUser(ucid, phoneCode, pin);
            logger.info("["+ucid+"] user authentication formed message length: "+formedMessage.length());
            logger.info("["+ucid+"] calling native function to authenticate user....");
            if(null != formedMessage)
                toRet = authenticateUser(formedMessage, channelNo);
            logger.info("["+ucid+"] response received from native function: "+toRet);
        }catch(RuntimeException e){
            logger.error("["+ucid+"] Runtime exception occured", e);
        }catch(Exception e){
            logger.error("["+ucid+"] Generic exception occured", e);
        }
        return toRet;
    }
    public String pinChange(String ucid, String phoneCode, String pin, String cif, String channelNo){
        String toRet = null;
        try {
            logger.info("["+ucid+"] Inside pin change function");
            logger.info("["+ucid+"] phone code received from IVR: "+phoneCode);
            logger.info("["+ucid+"] CIF received from IVR: "+cif);
            logger.info("["+ucid+"] channel number received from IVR: "+channelNo);
            PinChange pc = new PinChange();
            String formedMessage = pc.changePin(ucid, phoneCode, pin, cif);
            logger.info("["+ucid+"] pin change formed message length: "+formedMessage.length());
            logger.info("["+ucid+"] calling native function to change the pin....");
            if(null != formedMessage)
                toRet = changePin(formedMessage, channelNo);
            logger.info("["+ucid+"] response received from native function: "+toRet);
        }catch(RuntimeException e){
            logger.error("["+ucid+"] Runtime exception occured", e);
        }catch(Exception e){
            logger.error("["+ucid+"] Generic exception occured", e);
        }
        return toRet;
    }
} 
```

在上述场景中，本机调用的结果变得混乱。你们中的任何人都可以阐明这些电话中可能出现的问题吗？下面是相同的日志片段。在下面的片段中，请求由 UCID 为 00001081951348702252 的对象引发，但响应被映射到不同的 UCID 00001080011348671171，实际上，响应是针对 00001081951348702252 UCID。

```
INFO 2012-09-27 07:30:58,046 [http-7080-2] (UserAuthentication.java:11) - [00001081951348702252] Inside User Authentication
INFO 2012-09-27 07:30:58,047 [http-7080-2] (UserAuthentication.java:21) - [00001081951348702252] Phone Code: 7447225
INFO 2012-09-27 07:30:58,047 [http-7080-2] (UserAuthentication.java:23) - [00001081951348702252] Pin code received
INFO 2012-09-27 07:30:58,048 [http-7080-2] (AS400Invoker.java:51) - [00001081951348702252] user authentication formed message length: 68
INFO 2012-09-27 07:30:58,048 [http-7080-2] (AS400Invoker.java:52) - [00001081951348702252] calling native function to authenticate user....
INFO 2012-09-27 07:30:58,201 [http-7080-13] (AS400Invoker.java:55) - [00001080011348671171] response received from native function: 000OCBC08100C1C000000000008zF      621372010937239879230990239023    9D0001641412549001       01                                                                                                                                                                                                                                                                                                      C              HHHHH CULTURE PVT. LTD     201206449R                         XYZ 
```

# javascript - 我怎样才能让一个多重俄罗斯方块游戏变得非常困难？

> ID：12670863
> 
> 赞同：1
> 
> 时间：2012-10-01T09:44:20.090
> 
> 标签：javascript

我想过使用网络技术制作多人俄罗斯方块游戏。但是，由于在编写基于 Web 的 JavaScript/HTML5 游戏时源代码是非常公开的，因此编写一个机器人来玩一个近乎完美的游戏是相当简单的。那么，如何让俄罗斯方块游戏变得非常困难呢？

我想，我可以做一些花哨的事情，比如完全在服务器上运行游戏，然后使用 HTML 画布将游戏作为视频流式传输，但我想这仍然很容易编写机器人。

我能做些什么来让为这个游戏编写机器人变得困难，多人俄罗斯方块？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T09:48:27.133

我会先编写游戏，然后再担心机器人**是否**成为问题。在这个早期阶段担心这种事情可能会阻止你开发游戏，这将是一种耻辱。

我很想玩这个游戏，而且我可能有编写机器人的技能，但我不会浪费我的时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:51:02.333

您可以添加验证码，但如果您的游戏在客户端运行，最终您无法防范它。我知道的最好的解决方案是统计用户的行为。例如，机器人反应更快，总是点击同一个位置，......

通过这种方式，您可以检测到很多机器人并将它们置于“骗子”高分中。这样他们就很开心，不会打扰普通玩家。

# excel - Excel - 工作簿很慢并且经常崩溃

> ID：12670865
> 
> 赞同：1
> 
> 时间：2012-10-01T09:44:30.467
> 
> 标签：excel, excel-2007

我们有一个与 5 个用户共享并持续使用的工作簿。我们有大约 1800 条记录和 26 列数据。数据是 VLOOKUPS 标准值的混合。我有 3 个正在运行的宏和 2 个条件格式规则和 5 张带有转储数据的工作表（一张包含 17K 记录和 40 列数据）。

我们已尝试删除所有不需要的额外功能，并用标准文本替换它们，但我们没有注意到差异。

工作簿不断崩溃，即使我们不触摸它并在其中单击，它也会冻结并可能需要长达 10 分钟才能再次使用。我还注意到它消耗了相当多的资源（CPU 有时会飙升到 100%），当你保存它时会使用 100% 的 CPU。

有没有人知道如何加快我们的工作簿或至少阻止文件崩溃？:)

* * *

在 Sheet1 中调用（语音）

```
Private Sub Worksheet_Change(ByVal Target As Range)
    '43 = ok '41 = NOK

    'check if change happened in column A
    If Target.Column = 1 Then
      'check if changed value is X
      If Target.Value Like "*x*" Then
          'add datestamp if it is
          Cells(Target.Row, 43).Value = Format(DateTime.Now, "yyyy-MM-dd hh:mm:ss")
      Else
      End If

      If Target.Value Like "*NOK*" Then
          Cells(Target.Row, 41).Value = Format(DateTime.Now, "yyyy-MM-dd hh:mm:ss")
      Else
      End If
    End If

End Sub 
```

* * *

在 ThisWorkbook 中调用

```
Private Sub Workbook_BeforeSave(ByVal SaveAsUI As Boolean, Cancel As Boolean)

Set shtVO = Sheets("Voice")
endRowVO = shtVO.Range("J" & Rows.Count).End(xlUp).Row

For Row = 2 To endRowVO
    If IsEmpty(shtVO.Cells(Row, 28).Value) = False Then
        If shtVO.Cells(Row, 3).Value <> shtVO.Cells(Row, 28).Value Then
            If shtVO.Cells(Row, 1).Value Like "*CheckDoneDate*" Then
            Else
                shtVO.Cells(Row, 1).Value = shtVO.Cells(Row, 1).Value + "CheckDoneDate"
            End If
        Else
            If shtVO.Cells(Row, 3).Value = shtVO.Cells(Row, 28).Value Then
                If shtVO.Cells(Row, 1).Value Like "*CheckDoneDate*" Then
                    shtVO.Cells(Row, 1) = Replace(shtVO.Cells(Row, 1), "CheckDoneDate", "")
                End If
            End If
        End If
    Else
            If shtVO.Cells(Row, 1).Value Like "*CheckDoneDate*" Then
                shtVO.Cells(Row, 1) = Replace(shtVO.Cells(Row, 1), "CheckDoneDate", "")
            End If
    End If
Next Row

End Sub 
```

* * *

作为模块 1 调用

```
Sub DateNow()

ActiveCell.Value = Format(DateTime.Now, "yyyy-MM-dd hh:mm:ss")

End Sub

Sub UpdateLinks()
'
' Update Links
'
    'ActiveWorkbook.UpdateLink Name:="F:\VOICE.xlsm", Type:=xlExcelLinks
    'ActiveWorkbook.CalculateFull

End Sub 
```

* * *

**当前状态：**阅读我的答案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T10:39:14.570

几种可能性

您的`Worksheet_Change`更改事件将导致其自身的另一个触发器。它还不错，因为它测试的单元格是第 1 列并且在第 41/43 列中发生了变化，但无论如何都值得修复。可能不会有太大的不同。

此外，如果工作表“语音”单元格在该工作表未处于活动状态时可以通过代码更改，您将获得意想不到的结果。将工作表限定符添加到要修复的范围调用。

```
Private Sub Worksheet_Change(ByVal Target As Range)
'43 = ok '41 = NOK

'check if change happened in column A
If Target.Column = 1 Then
  'check if changed value is X

  Application.EnableEvents = False  ' <-- Add This

  If Target.Value Like "*x*" Then
      'add datestamp if it is
      Me.Cells(Target.Row, 43).Value = Format(DateTime.Now, "yyyy-MM-dd hh:mm:ss") ' <---
  ' Else   <--- don't need this
  'End If
  ' --> change to ElseIf (assuming conditions are mutually exclusive)
  ElseIf Target.Value Like "*NOK*" Then
      Me.Cells(Target.Row, 41).Value = Format(DateTime.Now, "yyyy-MM-dd hh:mm:ss") ' <---
  'Else   <--- don't need this
  End If
End If
Application.EnableEvents = True  ' <-- Add This

End Sub 
```

类似 for `_BeforeSave`- 禁用事件以避免`_Change`触发

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T10:30:36.940

Excel 公式会在其参数更改时重新计算（或者当任何单元格更改时，如果函数是可变的）。

在您的情况下，一个示例计算工作流程是：

*   您更改语音表第 1 列中的一个单元格。
*   所有`VLOOKUP`引用数据表的 s 都会重新计算。
*   `Worksheet_Change`为更改的单元格触发。从处理程序中，您可以修改同一张表的第 41 或 43 列。
*   所有`VLOOKUP`引用数据表的 s 都会重新计算。
*   `Worksheet_Change`为第 41/43 列中更改的单元格触发。什么也没做。

对于每一行，保存时也会发生同样的情况。

你可以：

*   如果可能的话，让`VLOOKUP`s 看起来不远到第 41 列。这将消除第二次重新计算。
*   切换到手动重新计算。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-02T07:23:10.257

好的，我所做的是以下，我实现了每个人的解决方案，从创建一个新文件来清理它到编辑宏，这样他们就不会处理不必要的项目（虽然我不再使用它，但我仍然复制它未来！）。

我将我的工作簿分成两个工作簿。一张工作簿（我们经常使用的那张）。这包含 VLOOKUPS、其他功能、按钮宏和 2 个条件格式。我删除了所有转储表并更改了宏的工作方式（按钮而不是 onchange 或 beforesave）。

第二个文件成为我的故障排除文件。这包含我所有的工作表，但没有宏，没有条件格式。第一个工作簿中的一个工作表仅使用对单元格的引用来显示。此文件仅用于故障排除。

*   好像效率更高
*   更少的加载时间
*   更少的崩溃（仍然会发生，但只是偶尔而不是所有时间：P）

感谢大家的时间和努力，我希望这也能够帮助未来的人们。:)

# asp.net - 根据用户控件、asp.net 中的操作设置面板的默认按钮

> ID：12670867
> 
> 赞同：1
> 
> 时间：2012-10-01T09:44:42.027
> 
> 标签：asp.net, user-controls, panel, defaultbutton

当通过procesSearchCriteria1 加载用户控件标题栏时，我希望PNL1 的默认按钮为SearchButton。当然，当它通过 ucBBB 加载时，我希望 SaveButton 成为 Pnl2 的默认按钮。这可能吗？

主页：

```
<asp:Panel runat="server" ID="Pnl1" defaultButton="">
    <uc1:AAA ID="procesSearchCriteria1" runat="server"/>
</asp:Panel>

<div class="separator"></div>

<asp:Panel runat="server" ID="Pnl2" defaultButton="">
    <uc2:BBBB ID="ucBBB" runat="server"/>
</asp:Panel> 
```

用户控制过程搜索标准 1：

```
<uc3:TitleBar ID="ucTitleBarAAA" runat="server" Type="Search" /> 
```

用户控制 ucBBB：

```
<uc3:TitleBar ID="ucTitleBarBBB" runat="server" Type="Save" /> 
```

用户控件标题栏

```
 <asp:ImageButton ID="SearchButton" runat="server" ImageUrl="/Images/title_search.png" OnClick="SearchButton_Clicked" />
 <asp:ImageButton ID="SaveButton" runat="server" ImageUrl="/Images/title_save.png" OnClick="SaveButton_Clicked" /> 
```

我尝试将按钮的 ID 传递到如下所示的主页，但收到此错误消息：“PnlWerkprocesSearchCriteria1”的 DefaultButton 必须是 IButtonControl 类型的控件的 ID。而在浏览器中查看时，ID DefaultButton.UniqueID 确实等于按钮的 ID

主页背后的代码：

```
public procesSearchCriteria procesSearchCriteria { get { return procesSearchCriteria1; } }

protected void Page_Load(object sender, EventArgs e)
{
procesSearchCriteria.Load += new EventHandler(procesSearchCriteria_Load);
}

void procesSearchCriteria_Load(object sender, EventArgs e)
{
    ImageButton DefaultButton = procesSearchCriteria.DefaultButtonProcesSearchCriteria;
    Pnl1.DefaultButton = DefaultButton.UniqueID;
} 
```

procesSearchCriteria1 背后的代码：

```
public ImageButton DefaultButtonProcesSearchCriteria { get; set; }
DefaultButtonProcesSearchCriteria = (ImageButton)ucTitleBarAAA.TitleBarSearchButton 
```

# cakephp - Cakephp 2.xx 中的 ACL 使用自定义表

> ID：12670870
> 
> 赞同：3
> 
> 时间：2012-10-01T09:45:03.483
> 
> 标签：cakephp, acl

我为我的 CakePHP 应用程序设置了一个自定义身份验证系统。现在我们需要在其中包含一些 ACL。我按照[这里](http://book.cakephp.org/2.0/en/tutorials-and-examples/simple-acl-controlled-application/simple-acl-controlled-application.html)的说明进行操作。现在由于某种原因，我需要使用表 admin_users 和 admin_user_roles 而不是通常的组和用户。我可以正常登录，但 ARO 搜索失败。它给了我以下错误。

```
Warning (512): AclNode::node() - Couldn't find Aro node identified by "Array
(
    [Aro0.model] => User
    [Aro0.foreign_key] => 4
)
" [CORE/Cake/Model/AclNode.php, line 176]
Warning (512): DbAcl::check() - Failed ARO/ACO node lookup in permissions check.  Node          references:
    Aro: Array
    (
        [User] => Array
        (
            [id] => 4
            [admin_user_role_id] => 1
            [email] => mio@kalibrr.com
            [username] => mio
            [created] => 2012-09-28 08:03:25
            [modified] => 2012-10-01 02:09:42
         )

)

Aco: controllers/Dashboard/index [CORE/Cake/Controller/Component/AclComponent.php, line 303] 
```

它似乎仍在用户模型中寻找它。有什么方法可以更改它以便在 AdminUsers 表中查找它？

查看 DB 和 Model 字段都指向 AdminUser。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-02T08:05:56.070

解决了。

将此行添加到 Appcontroller

```
'authorize' => array(
'Actions' => array('userModel' => 'AdminUser','actionPath' => 'controllers') 
```

这里 AdminUser 是我的模型的名称。

# python - 如何在 PyQt 中禁用 QTreeView 和 QFileSystemModel 上的双击文件重命名行为？

> ID：12670874
> 
> 赞同：4
> 
> 时间：2012-10-01T09:45:12.177
> 
> 标签：python, pyqt, double-click, qtreeview, qfilesystemmodel

简单的问题。我想使用 F2 或 Enter 进行重命名，然后双击打开文件。

使用`self.treeView.doubleClicked.connect(self.doubleclick)`I can do things 在我的`self.doubleClick`方法中，但仍然会触发重命名。

该模型不是只读的 ( `model.setReadOnly(False)`)。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-12T03:29:53.870

我不知道您在 python 版本中是否有此功能，但在 C++ Qt 中，您只需在 QAbstractItemView 中设置编辑触发器：

`void setEditTriggers ( EditTriggers triggers )`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T15:35:26.757

默认情况下，`doubleClicked`信号在正常编辑操作之前发出，由[QAbstractItemView.edit](https://doc.qt.io/qt-4.8/qabstractitemview.html#edit-2)函数执行。

幸运的是，这个函数是虚拟的，所以它可以在子类中重新实现：

```
class TreeView(QtGui.QTreeView):    
    def edit(self, index, trigger, event):
        if trigger == QtGui.QAbstractItemView.DoubleClicked:
            print 'DoubleClick Killed!'
            return False
        return QtGui.QTreeView.edit(self, index, trigger, event) 
```

# c# - 在 C# 中使用文档属性

> ID：12670879
> 
> 赞同：10
> 
> 时间：2012-10-01T09:45:24.243
> 
> 标签：c#, .net, attributes, documentation

在[MSDN 属性教程](http://msdn.microsoft.com/en-us/library/aa288454%28v=vs.71%29.aspx#dtH4)中，他们`Author`用作属性的示例：

```
[Author("Jane Programmer", Version = 2), IsTested()]
class Order
{
    // add stuff here ...
} 
```

在我看来，这似乎是一个好主意，因为它允许您使用反射来按作者（例如）对类进行分组——有效地将通常在文档中的元数据暴露给编译器，这可能很有用。我立刻想到“啊哈！我应该为我的所有内联块文档使用属性” - 例如：

```
[Author("Me")]
[Description("Add 1 to value")]
[Param("value", "The original value to add 1 to")]
public int AddOne(value) {return value + 1;} 
```

但是[，](https://stackoverflow.com/questions/12554721/attributes-and-xml-documentation-for-method-property) 我找不到关于文档和属性[的](https://stackoverflow.com/questions/9423795/documenting-authorize-attribute-usage-producing-a-report) [答案似乎都暗示了这种方法。](https://stackoverflow.com/questions/7157277/using-c-sharp-attributes-and-documentation)他们都将 XML 用于内联文档。

**是否有任何内置属性**来帮助内联文档？如果没有，**是否有任何库/包**包含**内联文档的预定义属性集**？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T10:02:47.853

将文档保存在属性中的一些缺点：

*   长文本格式不佳；
*   Visual Studio 插件不支持（例如使用 ReSharper 的文档预览功能）；
*   第三方文档生成工具不支持；
*   在组件中包含文档，这大大简化了逆向工程；
*   源代码中的元数据与存储在版本控制系统中的元数据重复（当 VCS 为您提供更精确的信息时，跟踪源代码中任何声明的作者和版本是没有意义的 - *VCS 不会撒谎*）。

我现在想不出有什么好处。如果我*真的*需要它，总是可以解析 XML 文档注释并将整个代码库转换为任何属性形式。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T10:10:37.760

这里的问题似乎是“什么是文档？”。如果您感兴趣的“东西”需要通过反射来访问，那么您对属性的隐含解决方案就是一个解决方案。但是，如果意图是使用标准文档工具来构建文档，那么就不是这样了。

这里的需要寻求解决方案。需要什么“文档”。也许是错误的问题？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-12T12:27:27.110

只是为了完整起见，在测试项目中你可以这样做：

```
[TestProperty(“Author”, “Ducky”)] 
public void SomeTest()
{
       ...
} 
```

您可以将该方法扩展到常规代码。我宁愿不对理论问题发表评论。也就是说，也许可以创建使用存储库提取特定文件/类/方法的所有“作者”/“编辑者”的脚本。

# c# - JSON字符串未反序列化

> ID：12670882
> 
> 赞同：0
> 
> 时间：2012-10-01T09:45:33.437
> 
> 标签：c#, json, deserialization, prtg

由于重复的属性名称`value`和`value_raw`.

我试图使用基于列表的对象来反序列化这些值，但这只会导致最后一个值存储在对象中。除此之外，对象正确解析。

**JSON字符串：**

```
{
    "prtg-version":"9.2.0.2236",
    "treesize":576,
    "values":
        [{
            "datetime":"29/09/2012 09:45:00 - 09:50:00",
            "datetime_raw":41181.3680555556,
            "value":"49 %",
            "value_raw":48.5000,
            "value":"0 %",
            "value_raw":0.0000,
            "coverage":"100 %",
            "coverage_raw":"0000010000"
        }]
} 
```

请注意 - JSON 字符串是我从 PRTG 得到的，所以不幸的是我必须以这种格式使用它:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:50:06.993

您不能反序列化，因为您提供的字符串不是有效的 JSON。根据 RFC，一个对象内的所有属性名称都应该是唯一的。解决这个问题的唯一合理方法 - 重写该字符串来自的代码部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T10:11:10.943

你能先序列化

```
 "datetime":"29/09/2012 09:45:00 - 09:50:00",
            "datetime_raw":41181.3680555556,
            "value":"49 %",
            "value_raw":48.5000,
            "value":"0 %",
            "value_raw":0.0000,
            "coverage":"100 %",
            "coverage_raw":"0000010000" 
```

变成一个字符串列表，然后再做进一步的处理？

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2020-01-17T08:54:42.197

```
"datetime"    :"29/09/2012 09:45:00 - 09:50:00",
"datetime_raw":41181.3680555556,
"value"       :["49 %","0 %"]
"value_raw"   :[48.5000,0.0000]            
"coverage"    :"100 %",
"coverage_raw":"0000010000" 
```

更改`value`和`value_raw`如上所示

# iphone - 如何在 iOS 6 的游戏中心启用 Facebook 点赞按钮？

> ID：12670884
> 
> 赞同：5
> 
> 时间：2012-10-01T09:45:38.453
> 
> 标签：iphone, facebook, ios6, game-center, leaderboard

我正在制作一个支持游戏中心的应用程序。在排行榜页面内有一个 facebook like 按钮。然而它被禁用了。是在 Appstore 出售时启用还是需要在代码中进行额外配置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T02:43:32.707

是的，这将在应用程序的生产版本中启用，前提是用户已在 iOS 6 中安装并启用 Facebook 集成。否则，它将显示*Facebook Liking Unavailable*。

# css - 我的 div 不会向左或向右浮动？

> ID：12670893
> 
> 赞同：0
> 
> 时间：2012-10-01T09:46:04.680
> 
> 标签：css, css-float

我收到错误，因为我的 div 根本不会浮动

这是我的CSS

```
#content {
width: 1070px;
}

.date{
float:left;
width:80px;
margin: 50px 8px 0px -60px;
padding: 0px 0px 0px 0px;
}

.month {
color:#fff;
font-size:15px;
font-family:eurofurence;
text-transform:uppercase;  
}

.year {
color:#fff;
padding:0 0 7px 0;
font-size:30px;
font-family:eurofurence;
text-transform:uppercase;  
}
 .commentbubble{
  background: url('http://bleedartmedia.com/mock/wp-content/themes/KellyRowland/images/commentb.png') no-repeat;
  width:40px;
  height:49px;
  padding:4px 0 0 14px;
  }
    .entry {
    float:right;
margin: 0px 8px 0px 0px;
padding: 20px 0px 0px 0px;
border-bottom: 0px solid #cccccc;
    font-family:eurofurence;
    font-size:17px;
    width:610px;
    background:#fff;
} 
```

这是我的设置

```
 <div id="content">
 <?php while ( have_posts() ) : the_post() ?>   

 <div class="date">
 <div class='month'><?php the_date('M');?></div>
 <div class='year'><?php the_time('d');?></div>
 <div class="commentbubble">
 <?php comments_popup_link( __( '0', 'wpbx' ), __( '1', 'wpbx' ), __( '%', 'wpbx' ) ) ?>
 </div>
 Comments
 </div>

    <div class="entry">
        <div class="entry-top">
            <h2 class="entry-title"><a href="<?php the_permalink() ?>" title="<?php printf( __('Permalink to %s', 'wpbx'), the_title_attribute('echo=0') ) ?>" rel="bookmark"><?php the_title() ?></a></h2>
    </div>
            <div class="entry-content clearfix">

        <div class="entry-content">
                <div id="text"><?php the_content() ?></div>
                </div>

            </div>

            <div class="entry-meta">
                <span class="entry-meta-sep">|</span>
                <span class="entry-more"><a href="<?php the_permalink() ?>" title="<?php printf(__('Continue reading %s'), wp_specialchars(get_the_title(), 1)) ?>"><?php _e( 'Read More &raquo;', 'wpbx' ) ?></a></span>
            </div>
    </div><!-- .post -->
 <?php endwhile; ?>

        <div class="navigation clearfix">
            <div class="nav-previous"><?php next_posts_link(__( 'Previous <span class="meta-nav">Articles</span>', 'wpbx' )) ?></div>
            <div class="nav-next"><?php previous_posts_link(__( 'Next <span class="meta-nav">Articles</span>', 'wpbx' )) ?></div>
        </div>

    </div><!-- #content --> 
```

问题是我希望“日期” div 浮动到“条目” div 的左侧，但所有“日期” div 所做的只是坐在条目 div 的顶部，为什么会这样？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T09:50:37.303

你还没有关闭`.date`DIV

```
<div class="date">Date</div> 
```

未来我会用

```
.right{float:right}
.left{float:left} 
```

然后你可以说`<div class="date right"> </div>`

更清洁的 CSS：

```
#content{width:1070px}
.right{float:right}
.left{float:left}
.date{width:80px;margin:50px 8px 0px -60px;padding:0px; }
.month{color:#fff;font-size:15px;font-family:eurofurence;text-transform:uppercase}
.year{color:#fff;padding:0 0 7px 0;font-size:30px;font-family:eurofurence;text-transform:uppercase}
.commentbubble{background:url('http://bleedartmedia.com/mock/wp-content/themes/KellyRowland/images/commentb.png') no-repeat;width:40px;height:49px;padding:4px 0 0 14px}
.entry{margin:0px 8px 0px 0px;padding:20px 0px 0px 0px;border-bottom:0px solid #ccc;font-family:eurofurence;font-size:17px;width:610px;background:#fff} 
```

还

```
padding:0px; 
```

是相同的

```
padding:0px 0px 0px 0px; 
```

和

```
color:#ffffff; 
color:#cccccc; 
```

是相同的

```
color:#fff; 
color:#ccc; 
```

**如果您看不到日期 DIV，请删除`margin -60px`您设置的负数**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:51:53.357

尝试

**HTML**

```
 <div id="content">

      <div class="date">           

      </div>
      <div class="entry">

      </div>

    </div> 
```

**CSS**

```
#content
{
 float:left;
 width:1070px;
}

.date{
float:left;
width:80px;
}

.entry
 {
 float:right;
 } 
```

# ios6 - Xcode 4.5 (armv7 & armv7s) 下适用于 iOS 6 的 PJSIP

> ID：12670902
> 
> 赞同：2
> 
> 时间：2012-10-01T09:46:44.977
> 
> 标签：ios6, xcode4.5, armv7, pjsip

我将 Xcode 从 4.4.1 更新到 4.5。现在我所有使用 PJSIP 的项目都崩溃了。有人帮我为 Xcode 4.5 编译 PJSIP 吗？谢谢，

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T20:08:51.757

在 4.5 版中，移除了对 armv6 的支持，默认情况下启用了对 armv7s 的支持。您必须首先使用 armv7 支持编译该库，然后使用 armv7s 支持编译该库，然后您必须使用 lipo 将其合并到一个胖库中。

脚步：

```
# ARCH="-arch armv7" ./configure-iphone 
# make dep && make 
```

然后您可以将您的库收集到一个文件夹中并将 armv7 部分添加到库名称中

那么您是否必须在 armv7s 支持下再次清理和重建

```
# make clean
# ARCH="-arch armv7s" ./configure-iphone 
# make dep && make 
```

将所有库复制到与先前库相同的文件夹中，并将 armv7s 部分添加到库名称中。然后您可以使用 lip 将这些库组合成一个库，如下所示：

```
# lipo -output libgsmcodec-arm-apple-darwin9.a -create libgsmcodec-arm-apple-darwin9-armv7.a libgsmcodec-arm-apple-darwin9-armv7s.a 
```

您可以编写一个脚本来自动执行此操作，或者您必须为每个库手动执行此操作。

# objective-c - 如何制作像 Explore Flickr app 旋转动画这样的动画

> ID：12670906
> 
> 赞同：2
> 
> 时间：2012-10-01T09:46:57.550
> 
> 标签：objective-c, ios, ipad, three20

I have an ipad app that has a page inside it subclassed from `TTThumbsViewController`( which is a class in the `Three20`framework) , this page is simply a gallery of thumbnail photos, when one thumbnail is selected the corresponding photo opens in full screen layout, however, when我将画廊视图从横向旋转到纵向，反之亦然，缩略图表视图根据新方向正确更新其布局，但我想让此更新与[Explore Flickr](http://itunes.apple.com/us/app/explore-flickr/id372457895?mt=8) iPad 应用程序中的更新一样流畅。非常感谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T07:48:25.487

我正在使用[GMGridView](https://github.com/gmoledina/GMGridView)来解决类似的问题。

许多人认为这是最好的第三方网格视图类。它很容易实现——就像你如何实现 UITableView 一样。我喜欢它，它实际上支持广泛的功能，包括您需要的功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-03T12:58:21.073

我没有使用 Three20 框架，所以我不确定它写得如何等等......

但是，使用 a`UICollectionView`会使这变得容易得多。

您仍然可以获得相同的缩略图布局（开箱即用）并打开它们以查看全屏图像，并且旋转动画处理得非常好。

它的工作方式几乎与`UITableView`作品一模一样，因此实施起来不会花费太长时间。

也都是原生的。

# silverlight-4.0 - 在 Silverlight 中运行时创建对象

> ID：12670908
> 
> 赞同：0
> 
> 时间：2012-10-01T09:47:04.677
> 
> 标签：silverlight-4.0

我有一个 Silverlight 应用程序，我想在其中创建动态对象意味着我在该项目中有一个银灯类库项目 IUSERC 我有类似的方法

```
public partial class StateMain : CommonERCFunctions
{
  public ObservableCollection<ERC> ErrorCollectionWithValue(string ErrorCode, int MulCopyNo = 0, int VarNo = 0)
   {
    ERC e=new ERC();
    e.name="h";
    retrun e;
   }

} 
```

我可以像这样创建一个对象：

```
IUSERC.State.StateMain sm=IUSERC.State.StateMain();

sm.ErrorCollectionWithValue("dsad",1); 
```

现在我想动态创建该对象。

谁能告诉我如何动态创建对象？

# c# - 引号的 SQL 转义字符

> ID：12670912
> 
> 赞同：0
> 
> 时间：2012-10-01T09:47:16.827
> 
> 标签：c#, sql, sql-server

我有以下程序：

```
ALTER PROCEDURE [dbo].[UpdateAllClients]
    @ClientIDs varchar(max)
AS
BEGIN
    SET NOCOUNT ON
    DECLARE @vSQL varchar(max)
    SET @vSQL = 'UPDATE Clients SET LastOnline=GETDATE() WHERE ClientID IN (' + @ClientIDs  + ')';
    EXEC(@vSQL);
END 
```

@ClientIDs 包含许多客户 ID 的数组，我想更新客户表中的另一个字段，所以我希望查询看起来像：

```
UPDATE Clients SET LastOnline=GETDATE(), Status='Open' WHERE ClientID IN (@ClientIDs) 
```

问题是我可以在@vSQL 变量中加上引号。

任何线索如何将“，状态='打开'”添加到我的查询中？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T09:49:23.553

使用两个引号：

```
SET @vSQL = 'UPDATE Clients SET LastOnline=GETDATE(), Status=''Open'' WHERE ClientID IN (' + @ClientIDs  + ')'; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T09:54:38.333

我建议将客户端 ID 作为表值参数而不是字符串传递。然后你可以只写 SQL，而不是动态 SQL。

# ios - 在 iOS 中使用 commoncrypto 解密 mp3 文件（mp3 文件使用 openssl 加密）

> ID：12670914
> 
> 赞同：2
> 
> 时间：2012-10-01T09:47:18.283
> 
> 标签：ios, objective-c, ios5, encryption, openssl

我有一个加密的 MP3 文件。该文件是使用以下 openssl 方法加密的

```
openssl enc -e -aes-128-cbc -K 00ff349830193845af43984758690213 -p -iv 0 -nosalt -in  input.mp3 -out output.mp3 
```

然后我正在尝试解密我的 ios 应用程序中的文件，如下所示，

```
NSString *resourceDocPath = [[NSString alloc] initWithString:[[NSBundle mainBundle] bundlePath]] ;
NSString *filePath = [resourceDocPath stringByAppendingPathComponent:@"output.mp3"];
NSData *key = [@"00ff349830193845af43984758690213" dataUsingEncoding:NSUTF8StringEncoding];
NSData *iv = [@"00000000000000000000000000000000" dataUsingEncoding:NSUTF8StringEncoding];
NSData *fileData = [[NSData alloc] initWithContentsOfFile:filePath];
NSData *decryptData;

CCCryptorStatus ccStatus   = kCCSuccess;
size_t          cryptBytes = 0;    // Number of bytes moved to buffer.
NSMutableData  *dataOut    = [NSMutableData dataWithLength:fileData.length + kCCBlockSizeAES128];

ccStatus = CCCrypt(kCCDecrypt,
                   kCCAlgorithmAES128,
                   kSecPaddingNone,
                   key.bytes,
                   kCCKeySizeAES128,
                   iv.bytes,
                   fileData.bytes,
                   fileData.length,
                   dataOut.mutableBytes,
                   dataOut.length,
                   &cryptBytes);

if (ccStatus != kCCSuccess) {
    NSLog(@"CCCrypt status: %d", ccStatus);
}    
dataOut.length = cryptBytes;
decryptData = dataOut;

NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *appFile = [documentsDirectory stringByAppendingPathComponent:@"MyDECFile.mp3"];
[decrypt writeToFile:appFile atomically:YES];
NSLog(@"%@",documentsDirectory); 
```

现在我在文档目录中有解密的 MP3 文件，但它没有播放，实际上它是一个垃圾输出。请建议我一种获得所需输出的方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-02T07:37:41.793

我使用[https://github.com/rnapier/RNCryptor](https://github.com/rnapier/RNCryptor)进行解密。

```
#import "ViewController.h"
#import <Security/Security.h>
#import <MediaPlayer/MediaPlayer.h>
#import "RNEncryptor.h"
#import "RNDecryptor.h"
#import "RNOpenSSLEncryptor.h"
#import "RNOpenSSLDecryptor.h"

NSString *resourceDocPath = [[NSString alloc] initWithString:[[NSBundle mainBundle] bundlePath]] ;
NSString *filePath1 = [resourceDocPath stringByAppendingPathComponent:@"output.mp3"]; //The encrypted mp3 file (with aPassword)
NSData *passEncryptedData =[[NSData alloc] initWithContentsOfFile:filePath1]; 
NSError *error;   
NSString *pass = @"aPassword";    
NSData *dataDecrypted = [RNOpenSSLDecryptor decryptData:passEncryptedData 
                                           withSettings:kRNCryptorAES256Settings
                                               password:pass
                                                  error:&error];

NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *appFile = [documentsDirectory stringByAppendingPathComponent:@"passDecryptFile.mp3"]; //The Decrypted file saved here
[dataDecrypted writeToFile:appFile atomically:YES];
NSLog(@"%@",documentsDirectory); 
```

# javascript - （谷歌分析）如何在没有硬编码跟踪代码的情况下添加 javascript？

> ID：12670915
> 
> 赞同：0
> 
> 时间：2012-10-01T09:47:18.840
> 
> 标签：javascript, google-analytics

我即将使用 GA，但我不想硬编码跟踪代码。我更喜欢将此代码与其他配置（在文件、数据库或其他配置中）一起保存，并将其传递给脚本。假设我在构造函数中有一些具有应用程序范围的 Java bean - 从文件中读取跟踪代码并将其保存在其中一个属性中。这些属性由 getter 和 setter 提供给 Web 模块。我不擅长javascript。如何将跟踪代码传递给 javascript？它肯定会导致运行此脚本的延迟，不会引起任何问题吗？什么是最好的解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:50:12.607

我们一直在外部文件中使用谷歌跟踪代码，这没有问题。您可以将其添加到现有的外部 javascript 文件中，它会正常工作。

# jqgrid - jqGrid中列的百分比排序

> ID：12670921
> 
> 赞同：0
> 
> 时间：2012-10-01T09:47:40.893
> 
> 标签：jqgrid

在我的 jqGrid 中有以下内容：

```
colModel.push({ name: 'pcc2008-2007', index: 'pcc0807', width: 100, align: "Right",
    sorttype: "float", formatter: "number", resizable: false,
    formatter: function (cellvalue, options, rowObject) {
        return percentageChange(rowObject['vol08'], rowObject['vol07'], 4);
    }
}); 
```

格式化程序工作得很好，最后返回一个值（带有前缀 %），但是当我点击网格上的列标题时，结果并没有按以前的顺序排序。

我添加了一个“unformatter”函数，它只是简单地替换“%”，看是否产生了正确的排序，但同样排序根本没有正确实现。

谁能解释我做错了什么？

** 编辑 **

```
function percentageChange(endYear, startYear, duration) {
    var p1 = Math.abs((endYear - startYear) / Math.abs(startYear) * 100);
    if (p1 == Number.POSITIVE_INFINITY || p1 == Number.NEGATIVE_INFINITY) { return '0'; }
    if (isNaN(p1)) { return '0'; }
    else { return Math.round(p1 * 100) / 100; }
} 
```

** EDI2 **

整个 jqGrid 在这里调用：

```
$("#list2").jqGrid({
    datastr: formattedBrandData,
    datatype: "jsonstring",
    colModel: colModel,
    height: 'auto',
    width: 1000,
    loadonce: true,
    sortable:  true,
    gridview: true,
    shrinkToFit: false,
    viewrecords: true,
    rowNum: 100,
    gridComplete: function (index, colindex, sortorder) {

        var aaa = $("#list2").jqGrid('getRowData');
        formattedBrandData = aaa;
        drawChart();

        var rowIDs = jQuery("#list2").getDataIDs();
        for (var i = 0; i < rowIDs.length; i = i + 1) {
            if (i == 0) { var trElement = jQuery("#" + rowIDs[i], $('#list2')); trElement.removeClass('ui-widget-content'); trElement.addClass('resultsColour1'); }
            if (i == 1) { var trElement = jQuery("#" + rowIDs[i], $('#list2')); trElement.removeClass('ui-widget-content'); trElement.addClass('resultsColour2'); }
            if (i == 2) { var trElement = jQuery("#" + rowIDs[i], $('#list2')); trElement.removeClass('ui-widget-content'); trElement.addClass('resultsColour3'); }
            if (i == 3) { var trElement = jQuery("#" + rowIDs[i], $('#list2')); trElement.removeClass('ui-widget-content'); trElement.addClass('resultsColour4'); }
            if (i == 4) { var trElement = jQuery("#" + rowIDs[i], $('#list2')); trElement.removeClass('ui-widget-content'); trElement.addClass('resultsColour5'); }
            if (i == 5) { var trElement = jQuery("#" + rowIDs[i], $('#list2')); trElement.removeClass('ui-widget-content'); trElement.addClass('resultsColour6'); }
            if (i == 6) { var trElement = jQuery("#" + rowIDs[i], $('#list2')); trElement.removeClass('ui-widget-content'); trElement.addClass('resultsColour7'); }
            if (i == 7) { var trElement = jQuery("#" + rowIDs[i], $('#list2')); trElement.removeClass('ui-widget-content'); trElement.addClass('resultsColour8'); }
        }
    },

    loadComplete: function () {

    },

    jsonReader: {
        repeatitems: false,
        root: function (obj) {
            return obj;
        },
        onComplete: function (data, response) {

        }
    }
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T10:40:08.170

我认为你应该更好地使用

```
formatter: 'currency', formatoptions: {suffix: '%'}, sorttype: 'currency' 
```

查看[演示](http://www.ok-soft-gmbh.com/jqGrid/sortablepercent.htm)：

![在此处输入图像描述](../Images/4003f7eca2d039d945e45ad4874d8bcf.png)

**更新**：您发布的代码中存在一些问题。

第一个是`gridComplete`jqGrid 将调用的回调。jqGrid 永远不会`gridComplete`使用附加参数调用，因此`index`，您的回调`colindex`的`sortorder`参数将始终为`undefined`. 您应该删除参数。

第二个问题是设计问题。您与提供数据的哪个`datatype: "jsonstring"`一起使用。`datastr: formattedBrandData`数据将被读取*一次*，数据将保存在内部`data`数组中，其`name`属性与`colModel`. **因此，在array内部****填充`'pcc2008-2007'`属性`formattedBrandData`**会更有效、更容易。您将计算**一次**该值，并将仅使用`float`计算的结果。稍后您可以直接使用预定义`currency`的格式化程序（参见我上面的答案），仅`%`在浮点值的末尾添加。

如果您使用某些本地数据类型（包括`datatype: "jsonstring"`），则永远不应使用`index`other as `name`。最好`index`从 中删除任何定义，`colModel`以防将使用`name`属性中的值。`name`和的不同值是受支持的，只有在服务器代码负责数据排序的情况下或在该`index`情况下才有帮助。`datatype: "json"``datatype: "xml"`

您应该尽可能减少网格内部的更改次数（或 HTML 页面上数据的任何其他更改`gridComplete`）`loadComplete`。如果一个元素发生一次更改，Web 浏览器必须重新计算页面上**所有**其他现有元素的位置。因此，页面上元素的更改可能会很昂贵。另一方面，`gridview: true`与格式化程序一起使用，`rowattr`回调（参见[此处](https://github.com/tonytomov/jqGrid/pull/284)）或`cellattr`允许在将网格放置在页面上*之前修改网格的 HTML 片段。*以您获得最佳性能的方式。请参阅演示回调的相应代码示例[的答案。](https://stackoverflow.com/a/10531680/315935)`rowattr`

关于表演的最后一句话。代码`jQuery("#" + rowIDs[i], $('#list2'))`慢如`jQuery("#" + rowIDs[i])`. 原因是`jQuery("#" + rowIDs[i])`只使用`id`被索引的。所以它工作得很快。另一方面，代码`jQuery("#" + rowIDs[i], $('#list2'))`使用不允许使用*HTML 页面索引的*显式上下文。因此，简单扫描将用于执行速度较慢。

# amazon-web-services - AWS 安全组 - 将 EC2 连接到 RDS

> ID：12670922
> 
> 赞同：4
> 
> 时间：2012-10-01T09:47:42.460
> 
> 标签：amazon-web-services

> **可能重复：**
> [AWS 安全组 - EC2 到 RDS](https://stackoverflow.com/questions/12672431/aws-security-groups-ec2-to-rds)

我有一个正在运行的 EC2 实例和一个正在运行的 RDS 实例...

我还有 2 个安全组：

1.  网络服务器组：

    *   自定义 TCP 规则 0.0.0.0/0 端口 80

    *   SSH（谷歌我的 IP）/32

    *   所有 TCP 流量 - （源）数据库服务器组

    *   所有 ICMP –（源）数据库服务器组

    *   所有 UDP –（源）数据库服务器组

2.  数据库服务器组：

    *   自定义 TCP 规则 – 端口 3306 源 Web 服务器组

Web 服务器组在创建点附加到 EC2 实例，我可以 SSH 并成功访问端口 80 上的网站。该组还通过数据库服务器组访问从 RDS 实例返回的所有 TCP/ICMP/UDP 访问。

数据库服务器组附加到 RDS 并允许端口 3306。

我需要添加什么才能让 MYSQL 流量流动？- 目前没有流动...

注意：如果我将“Web 服务器组”附加到 RDS 实例，则 MYSQL 数据会流动。不想这样，因为 RDS 不应该获取端口 80 数据等。

注意：我已经尝试将所有 TCP/UDP/ICMP 流量添加到数据库服务器组，但这没有帮助（只是测试看看会发生什么）......

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T21:09:18.953

以上不是执行此操作的最佳方法...

EC2 组充当访问控制列表，可以附加到 RDS 安全组，不允许外部访问，但只能从该组中的 EC2 实例访问数据库端口 - 在我的情况下是端口 3306 MySQL。

干杯

# mysql - 在mysql中搜索负数

> ID：12670926
> 
> 赞同：2
> 
> 时间：2012-10-01T09:48:05.450
> 
> 标签：mysql, search, numbers

我想获取保存在 mysql 表中的负数的计数。例如：我想获取上个月内账户的提款总数和价值。

我知道这可以使用额外的行来完成。但我想在不改变表结构的情况下做到这一点。我尝试使用“WHERE Amount < 0”，但没有奏效。请提供任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:51:36.467

就像是：

```
SELECT COUNT(*) FROM Account WHERE Amount<0; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:52:18.303

这对我有用

```
select count(0) from test where id < 0 
```

# php - 通过 GET 的 PHP 简单循环限制

> ID：12670927
> 
> 赞同：1
> 
> 时间：2012-10-01T09:48:07.360
> 
> 标签：php, arrays, loops, get

> **可能重复：**
> [为什么我的 PHP 多维数组不起作用？](https://stackoverflow.com/questions/12672475/why-is-my-php-multi-dimensional-array-not-working)

# 更新

我希望能够添加 URL `category.php?filter=Blue and green`，或者`category.php?filter=Red`然后让我的数组列表仅显示具有这些值的颜色 - 否则它将列出所有数组。

```
<?php

$array = array(
"1" => array("red", "black", "blue and green"),
"2" => array("orange"),
"3" => array("silver", "gold"),
"4" => array("pruple"),
"5" => array("pink", "yellow"),
"6" => array("black")
);
# no more more edits, loop begins below
# limit the the rows by 3 and break
$data = array_chunk($array, 3);
/*#######################################
 No more edits DO NOT EDIT FURTHER
#######################################*/?>
<?php
foreach ($array as $data):
?>

<div class="item" id="item_<?= $row ?>">
    <div class="itemdata">
    <?php #foreach ($array as $row): ?>
    <?php foreach ($data as $row): ?>
        <?php if (in_array($row, explode(' and ', $_GET['filter']))): ?>
            Product Link = <?=$row?> 
        <?php endif; ?>
    <?php endforeach ?>
    </div>
</div>
<?php endforeach ?> 
```

我已经根据下面的帖子更新了我的代码。到目前为止，它只循环了两个项目 - 没有`filter`应用于 URL

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T09:54:11.110

首先，您的数组似乎不正确：

```
# list of product Ids and their assoc colours
$array = array(
"1" => "red", "black", "blue and green",
"2" => "orange",
"3" => "silver", "gold",
"4" => "pruple",
"5" => "pink", "yellow",
"6" => "black"
); 
```

如果产品 1 有 3 种颜色，它可能应该是：

```
array (
    1 => array("red", "black", "blue"),
    2 => array("orange"), 
```

等等

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T10:06:04.907

我修复了数组和循环，并添加了一个过滤器：

[http://codepad.org/YnafFVP4](http://codepad.org/YnafFVP4)

`array_chunk`打破你的多维数组，所以你不能使用它。如果您可以解释您想要限制的内容，我们也可以提供帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T10:04:22.110

首先，您的数组不正确。它必须像：

```
$array = array ("1" => array("red", "black", "blue"),
    //etc
) 
```

其次，您的 foreach 似乎不正确。

Foreach 看起来像：

```
foreach($array as $key => $value) 
```

或者

```
foreach($array as $value) 
```

这将导致我们如下：

```
<?php foreach ($array as $data): ?>
    // ...
    <?php foreach ($data as $row): ?>
        <a href="/products/<?=$row?>"><img src="/products/<?=$row?>.jpg" /></a>
    <?php endforeach ?>
    //...
<?php endforeach ?> 
```

你要回答你的第二个问题：

在 PHP 中，如果添加`[]`到变量名中，则可以在 url 中传递数组：

```
/?color[]=blue&color[]=green 
```

并得到它`$_GET['color[]'];`

作为一般提示：使用`{}`块而不是`:`and `endforeach`。这样你也可以做 IF ELSE 构造：

```
<?php
    if($a == $b) {

    } else {

    }
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T09:57:27.847

这就是你的数组应该是什么样子

```
$array = array(
"1" => array("red", "black", "blue and green"),
"2" => "orange",
"3" =>  array("silver", "gold"),
"4" => "pruple",
"5" => " array(pink", "yellow"),
"6" => "black"
); 
```

# java - Android canvas.drawBitmap 绘制非常糟糕的图像。优化它们的最佳方法是什么？

> ID：12670928
> 
> 赞同：0
> 
> 时间：2012-10-01T09:48:12.117
> 
> 标签：java, android, bitmap, widget, android-canvas

我正在编写一个小部件，通过画布绘制图像组合。

如果我解码位图并绘制它，我会得到一个非常糟糕的图像。

我使用此代码来执行此操作：

```
int widht = 100;
int heigt = 100;

Bitmap bitmap = Bitmap.createScaledBitmap(BitmapFactory.decodeResource(c.getResources(), R.drawable.square), widht, heigt, true);

Bitmap image = Bitmap.createBitmap(widht, heigt, Bitmap.Config.ARGB_8888);

Canvas canvas = new Canvas(image);

Paint paint = new Paint();
paint.setAntiAlias(true);

canvas.drawBitmap(bitmap, left, top, paint); 
```

我必须以不同的方式设置油漆吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-29T05:58:01.037

您是否在您的应用未设置支持的屏幕上进行测试？

```
<supports-screens android:xlargeScreens="true"
                  android:largeScreens="true"
                  android:normalScreens="true"
                  android:smallScreens="true"
                  android:anyDensity="true"/> 
```

# html - ios6 Safari 在方向更改时出现错误有占位符文本

> ID：12670931
> 
> 赞同：3
> 
> 时间：2012-10-01T09:48:22.557
> 
> 标签：html, ios6, placeholder, orientation-changes

我在移动 safari iOS6 上有一个错误，只有在方向改变时布局向左移动 - 从纵向到横向再返回。

仅当占位符属性中有内容时才会存在该错误，如果您删除占位符属性的内容，则方向更改不会出现错误。我在[http://beta.9eggs.com/ios6.html](http://beta.9eggs.com/ios6.html)设置了一个演示，您可以在其中切换输入占位符的内容并添加删除错误。

我已经看到解决布局问题的解决方案，但想了解占位符导致问题的原因并修复它 - 而不是包含布局。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-03T18:35:09.130

尝试设置`overflow: hidden;`的`input`父元素，它对我有用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-05T15:57:01.830

[这个相关问题](https://stackoverflow.com/questions/12515058/ios6-safari-orientation-change-bug?rq=1)使我找到了适合我的解决方案。它归结为这个通用的kludge：

```
if ( /iPhone/.test(navigator.userAgent) &&
     !/Opera Mini/.test(navigator.userAgent) )
{
  window.addEventListener("orientationchange", function(e){
    /*
      // Method A:
      var s = document.documentElement.style;
      s.display = 'none';
      setTimeout(function(){ s.display = 'block'; }, 0);
    */
      // Method B:
      var d = document.documentElement;
      setTimeout(function(d){ d.className = d.className; }, 0);
    });
} 
```

希望这可以帮助。

# maven - Intellij Maven 分层项目视图

> ID：12670935
> 
> 赞同：8
> 
> 时间：2012-10-01T09:48:39.090
> 
> 标签：maven, intellij-idea

IntelliJ 中可能甚至不存在此功能，但无论如何我都会试试运气。

我从事的项目之一有一个略高的分层 maven 项目结构。虽然我喜欢右侧的“Maven 项目”选项卡，但它以平面列表形式呈现项目列表的事实让我感到困惑。

是否可以在“Maven 项目”窗口中具有树结构？就我而言，Maven 项目具有适当的父子关系。即，子项目是父项目下的文件夹，并且在它们的 pom.xml 中有正确的名称。

我使用 Intellij 11.1.3 (Ultimate) 和 Maven 3.0.3

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-01T09:57:09.223

是的。在 Maven Projects 窗口的设置中选择`Group Modules`。

![组模块](../Images/db61d9cf555341a27ae71aefda9091e6.png)

# mysql - 如何修复 MySQL 幽灵外键约束？

> ID：12670937
> 
> 赞同：3
> 
> 时间：2012-10-01T09:48:58.453
> 
> 标签：mysql, foreign-keys, foreign-key-relationship

我有一个名为 Things 的 InnoDB 表。该表在 Field1、Field2 和 MoarFields 上有外键约束。

我将此表重命名为`things`，并将字段重命名为`field1`、`field2`和`moar_fields`（全部小写）。

此时，我对新命名表`things`的所有外键突然消失了。这很好，我不想要它们，但我实际上并没有删除它们。

然后我尝试修改另一个表中的字段名称，它也需要小写，但它抱怨外键约束阻止了这一点。

```
ALTER TABLE `member` CHANGE COLUMN `MemberID` `member_id` INT(11) NOT NULL AUTO_INCREMENT FIRST;
/* SQL Error (1025): Error on rename of './database/#sql-411_3e7' to './database/member' (errno: 150) Foreign key constraint is incorrectly formed */ 
```

`SHOW ENGINE INNODB STATUS`告诉我问题是：

```
121001 12:02:12 Error in foreign key constraint of table database/Things:
there is no index in referenced table which would contain
the columns as the first columns, or the data types in the
referenced table do not match the ones in table. Constraint:
,
  CONSTRAINT "FK_MemberRole_Member" FOREIGN KEY ("MemberID") REFERENCES "member" ("MemberID") ON DELETE CASCADE
InnoDB: Renaming table `database`.`#sql-411_3e7` to `database`.`member` failed! 
```

如果我这样做`show create table things`，我看不到任何外键。虽然我确实看到了 4 个带有外键名称的普通键。

但是，如果我查看`schema_information`数据库，我可以看到 InnoDB 存储了 4 个键，用于不再存在的表，即`Things`. 这些可能是问题所在。

如何删除那些鬼键？我可以重新创建数据库并只复制数据，但它非常大，所以如果可能的话，我宁愿不这样做。

如果您想要/需要任何信息，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-11T09:37:16.190

迟到的答案，但尝试这个来找到限制

使用 INFORMATION_SCHEMA；从 KEY_COLUMN_USAGE 中选择 TABLE_NAME、COLUMN_NAME、CONSTRAINT_NAME、REFERENCED_TABLE_NAME、REFERENCED_COLUMN_NAME；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-06T22:41:42.267

您可以使用以下命令来摆脱它。

```
drop index FK_MemberRole_Member;
Drop constraint FK_MemberRole_Member; 
```

# javascript - 谷歌浏览器页面加载阶段

> ID：12670938
> 
> 赞同：0
> 
> 时间：2012-10-01T09:48:59.463
> 
> 标签：javascript, google-chrome, plugins

我正在尝试为 Chrome 开发插件，但我面临以下问题：我找不到任何关于 Google Chrome 如何加载页面的整个生命周期的提及。我的意思是，加载页面时浏览器到底做了什么？

在我自己处理那个 html 块之前，我真的需要抑制内部 JavaScript 执行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:58:02.427

使用事件[`DOMContentLoaded`](https://developer.mozilla.org/en-US/docs/DOM/DOM_event_reference/DOMContentLoaded)

如他们的[链接网站所述](http://molily.de/weblog/domcontentloaded)

> 因此，DOMContentLoaded 非常适合作者尽早将其 JavaScript 行为附加到页面。

这里还有更多关于加载页面的生命周期：[Javascript 加载的工作原理 - DOMContentLoaded 和 OnLoad](http://ablogaboutcode.com/2011/06/14/how-javascript-loading-works-domcontentloaded-and-onload/)

# spring - 春季jsp表单字段上的人口更新......

> ID：12670939
> 
> 赞同：0
> 
> 时间：2012-10-01T09:49:00.103
> 
> 标签：spring, hibernate, jsp

我是Spring的新手，请任何人解决我的问题....

我的employee.jsp 页面是....

```
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<%@taglib prefix = "c" uri = "http://java.sun.com/jsp/jstl/core"%>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>${message}</title>
    </head>
    <body>
        <h3>${message}</ h3>
        <br/>
        <table>
            <tr>
                <th> Employee Code </ th>
                <th> Name </ th>
                <th> Designation </ th>
                <th> Date of Joining </ th>
            </tr>
            <c:forEach items="${employee}" var="employe">
                <tr>
                    <td> <c:out value="${employe.employeeCode}"> </c:out> </td>
                    <td><a href="updateEmployee.htm"> <c:out value="${employe.fullName}"> </c:out> </a></td>
                    <td> <c:out value="${employe.designation}"> </c:out> </td>
                </tr>
            </c:forEach>
        </table>
    </body>
</html> 
```

对应的控制器代码是......

```
public class EmployeeController implements Controller {
    Session ses=null;

    @Override
    public ModelAndView handleRequest (HttpServletRequest hsr,
                                      HttpServletResponse hsr1) throws Exception {
        ModelAndView mv = new ModelAndView ("employee");
        String out = "List of Employees";
        try {
            Session session = HibernateUtil.getSessionFactory (). getCurrentSession ();
            session.beginTransaction ();
            List result = session.createQuery ("from Employee").list();
            mv.addObject ("employee", result);
            session.getTransaction (). commit ();
        } catch (Exception e) {
            e.printStackTrace ();
        }
        mv.addObject ("message", out);
        return mv;
    }

} 
```

UpdateEmployee.jsp 代码是....

```
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>New Contact </title>
        <!--<link rel="stylesheet" href="ui.all.css" type="text/css" media="screen" />
<script type="text/javascript" src="js1.js"></script> 
    <script type="text/javascript" src="js2.js"></script>-->
    </head>
    <body>
        <h4><a href="index.htm">home</a> </h4>
        <h3>New Contact</h3>
        <spring:nestedPath path="updateEmployee">          
           <form action="" method="post">
                Name
                <spring:bind path="employeeCode">
                    <input type="text" name="${status.expression}" value="${status.value}">
                </spring:bind> 
                    <FONT color="red"><form:errors

path="name" /></FONT>

               Address
                <spring:bind path="FullName">
                    <input type="text" name="${status.expression}" value="${status.value}">
                </spring:bind>

                    Email
                <spring:bind path="Designation">
                    <input type="text" name="${status.expression}" value="${status.value}">
                </spring:bind>

                <input type="submit" value="Register">

                <font color="red"><form:errors

path="name" /></font>

            </form>
        </spring:nestedPath>
    </body> 
```

帮助我使用 updatecontroller 的控制器代码，根据员工表中的 href 自动填充 updateEmployee.jsp 页面上的字段。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T12:13:32.660

你需要尝试这样的事情

公共类 UpdateController 实现控制器 { Session ses=null;

```
@Override 
public ModelAndView handleRequest (HttpServletRequest hsr, 
                                  HttpServletResponse hsr1) throws Exception { 
    ModelAndView mv = new ModelAndView ("updateEmployee"); 
    int empId = Integer.parseInt(hsr.getParameter("id"));
    String out = "Update Employee"; 
    try { 
        Session session = HibernateUtil.getSessionFactory (). getCurrentSession (); 
        session.beginTransaction (); 
        Employee result = (Employee) session.createQuery ("from Employee where id =:id").setParameter("id", empId).uniqueObject(); 
        mv.addObject ("employee", result); 
        session.getTransaction (). commit (); 
    } catch (Exception e) { 
        e.printStackTrace (); 
    } 
    mv.addObject ("message", out); 
    return mv; 
} 
```

}

然后在 updateEmployee.jsp 中写这样的东西

```
<html>       
    <head>       
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">       
        <title>New Contact </title>       
        <!--<link rel="stylesheet" href="ui.all.css" type="text/css" media="screen" />       
<script type="text/javascript" src="js1.js"></script>        
    <script type="text/javascript" src="js2.js"></script>-->       
    </head>       
    <body>       
        <h4><a href="index.htm">home</a> </h4>       
        <h3>New Contact</h3>       
        <spring:nestedPath path="updateEmployee">                 
           <form action="" method="post">       
                Name       
                <spring:bind path="employeeCode">       
                    <input type="text" name="${status.expression}" value="${employee.employeeCode}">       
                </spring:bind>        
                    <FONT color="red"><form:errors       

path="name" /></FONT>       

               Address       
                <spring:bind path="FullName">       
                    <input type="text" name="${status.expression}" value="${employee.FullName}">       
                </spring:bind>       

                    Email       
                <spring:bind path="Designation">       
                    <input type="text" name="${status.expression}" value="${employee.Designation}">       
                </spring:bind>       

                <input type="submit" value="Register">       

                <font color="red"><form:errors       

path="name" /></font>       

            </form>       
        </spring:nestedPath>       
    </body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T06:40:34.717

Spring 还提供了**formBackingObject**，它也很有用

```
 @Override
    protected Object formBackingObject(HttpServletRequest request) throws Exception {
         Employee emp=new Employee();
         String designation=null;
         String fullName=null;
         int empCode=(Integer.parseInt(request.getParameter("employeeCode")));
         try {
                Session session = HibernateUtil.getSessionFactory (). getCurrentSession ();
                session.beginTransaction ();
                Query query = session.createQuery ("from Employee where EmployeeCode="+empCode);
               Iterator it=query.iterate();
               while(it.hasNext())
               {
                    Employee e=(Employee)it.next();              
                    designation=e.getDesignation();            
                    fullName=e.getFullName();
               }
               emp.setEmployeeCode(empCode);        
               emp.setDesignation(designation);
               emp.setFullName(fullName);
               session.getTransaction (). commit ();
            } catch (Exception e) {
                e.printStackTrace ();
            }

        return emp;
      } 
```

# mysql - MySQL 2D 排序

> ID：12670940
> 
> 赞同：0
> 
> 时间：2012-10-01T09:49:10.123
> 
> 标签：mysql, levels

我有一个从多个行/表中获取信息的查询，结果是一个产品列表。

该列表必须分成 3 (三) 个组，并且每个组必须按最后修改日期时间自行排序。

我按组订购，但我无法让组在内部订购。

```
ORDER BY param1 DESC, IF(param2, 1, 0) DESC,param3 DESC, default_param 
```

我想做它（如果可能的话）：

```
ORDER BY param1 (modification_date DESC) DESC, IF(param2, 1, 0) (modification_date DESC)  DESC,param3 (modification_date DESC) DESC, default_param 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T10:01:35.137

尝试这个：

```
ORDER BY 
   CASE WHEN param1 = 'Some value 1' THEN 1 END, g1.modification_date DESC,
   CASE WHEN param2 = 'Some value 2' THEN 1 END, g2.modification_date DESC,
   CASE WHEN Param3 = 'Some value 3' THEN 1 END, g3.modification_date DESC 
```

# c++ - 将 remove_copy_if 与 ostream_iterator 一起使用时确定复制范围的结尾

> ID：12670941
> 
> 赞同：0
> 
> 时间：2012-10-01T09:49:10.827
> 
> 标签：c++, stl, ostream, stl-algorithm

我正在尝试使用[remove_copy_if](http://www.cplusplus.com/reference/algorithm/remove_copy_if/)直接复制`iterable`到`stdout`通过[ostream_iterator](http://www.cplusplus.com/reference/std/iterator/ostream_iterator/)。`remove_copy_if`保证`return value`是到输出范围的`iterator`末尾。通过找出输出迭代器的起点和返回迭代器之间的距离，此返回值在确定复制到目标的元素数量方面很有用。这在使用容器时是有意义的，但是如何使用相同的功能来确定复制到目标的元素数量（如果它是`ostream_iterator`.

以下示例对我可能想要实现的目标应该更有意义

```
#include<vector>
#include<iterator>
#include<algorithm>
#include<functional>
#include<iostream>
#include <time.h>
using namespace std;
int  main() {
    int rawdata[] = {1,2,3,4,5,6,7,8,9,10,11};
    vector<int> data(20);
    vector<int>::iterator curr = remove_copy_if(rawdata,rawdata + sizeof(rawdata)/sizeof(rawdata[0]),data.begin(),bind2nd(greater<int>(),10));
    wcout<<L"No of data copied = "<<curr - data.begin()<<endl;
    for(int i=0;i<10;i++) {
    int some_value = rand()%20 + 1;
    ostream_iterator<int> curr = remove_copy_if(data.begin(),data.end(),ostream_iterator<int>(cout),bind2nd(less<int>(),some_value));
    //if (curr - what???? > 0) 
        cout<<endl;
    }
    return 0;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T09:26:21.043

我遇到了以下非线程安全的，不是那么优雅的解决方案来完成这项工作。

```
#include<vector>
#include<iterator>
#include<algorithm>
#include<functional>
#include<iostream>
#include <time.h>
#include <algorithm>
using namespace std;
template<class _Fn1>
class counter
    : public std::unary_function<typename _Fn1::argument_type, bool>
    {   
    public:
    explicit counter(const _Fn1& _Func)
        : _Functor(_Func)   {
        count = countTrue = countFalse = 0;

        }

    bool operator()(const typename _Fn1::argument_type& _Left) const
        {   
        count++;
        if (_Functor(_Left)) {
        countTrue++;
        return true;
        } else {
            countFalse++;
            return false;
        }
        }
    static int count, countTrue,countFalse;
    protected:

    _Fn1 _Functor;  // the functor to apply
    };
template<class _Fn1>
int counter<_Fn1>::count=0,counter<_Fn1>::countTrue=0,counter<_Fn1>::countFalse=0;
int  main() {
    int rawdata[] = {1,2,3,4,5,6,7,8,9,10,11};
    vector<int> data(20);
    vector<int>::iterator curr = remove_copy_if(rawdata,rawdata + sizeof(rawdata)/sizeof(rawdata[0]),data.begin(),bind2nd(greater<int>(),10));
    wcout<<L"No of data copied = "<<curr - data.begin()<<endl;
    for(int i=0;i<10;i++) {
    int some_value = rand()%20 + 1;
    ostream_iterator<int> curr = remove_copy_if(data.begin(),data.end(),ostream_iterator<int>(cout),counter<binder2nd<less<int>>>(bind2nd(less<int>(),some_value)));
    if (counter<binder2nd<less<int>>>::countFalse) {
    cout<<endl<<"No of data printed = "<<counter<binder2nd<less<int>>>::countFalse<<endl;
    }
    }
    return 0;
    } 
```

# python - python urllib2，密码内容和空响应

> ID：12670944
> 
> 赞同：1
> 
> 时间：2012-10-01T09:49:20.993
> 
> 标签：python, request, urllib2

我正在使用 URLlib2（和 python 2.7）从网站上获取一些内容。到目前为止，我一直在使用 URLlib2 OK 来获取内容，但这是我第一次访问在内容级别有密码的网站。我有一个合法的 u:p（我显然不能在这里分享），而且我似乎没有以某种方式为我的请求提供正确的凭证。

我在这里使用了方法：[Python urllib2, basic HTTP authentication, and tr.im replace](https://stackoverflow.com/questions/635113/python-urllib2-basic-http-authentication-and-tr-im) with `(username, password)`my credentials as a string ("myUsername","myPassword")

当我`print result.read()`得到一个空行时，当我尝试时，`print result.headers()`我得到：

`<addinfourl at 40895752L whose fp = <socket._fileobject object at 0x00000000026757C8>>`

例如，对于每个预期的调用实例，我假设这意味着那里有一个文件对象......

我试图`print result.info()`查看是否有一个标题返回，我看到一组标题：

```
REDACTED
Date: Mon, 01 Oct 2012 10:06:24 GMT
Server: Apache/2.2.3 (Red Hat)
X-Powered-By: PHP/5.1.6
Set-Cookie: OJSSID=mc7u47e674jmpjgk3kspfgc9l3; path=/
Refresh: 0; url=http:REDACTED loginMessage=reader.subscriptionRequiredLoginText
Content-Length: 0
Connection: close
Content-Type: text/html; charset=UTF-8 
```

所以我可以从“loginMessage=reader.subscriptionRequiredLoginText”中得知我没有正确发送凭据。

任何指针？

调用代码是：

```
def getArticle(newLink):
request = urllib2.Request(newLink)
base64string = base64.encodestring('%s:%s' % ("myUsername", "myPassword")).replace('\n', '')
request.add_header("Authorization", "Basic %s" % base64string)   
result = urllib2.urlopen(request)
print result.read() 
```

一个示例 URL 是：已编辑 - 它不是我的网站！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T10:09:30.353

您会发现处理[requests](http://docs.python-requests.org/en/latest/)库比`urllib2`.

查看您提供的链接，它不需要基本身份验证，而是一个表单......所以您需要获取表单的“操作”属性的 URL，并将数据提交给它。使用请求的示例：

```
import requests
url = 'http://www.content.alternative.ac.nz/index.php/alternative/login/signIn'
r = requests.post(url, data={'username': 'username', 'password': 'password', 'remember': '1'}) 
```

我无法完全检查（因为我没有有效的 u&p），但是通过有效发送“记住我”按钮，您应该获得一个可访问的 cookie `r.cookies`，希望这意味着可以用于进一步的请求，例如作为：

```
cookies = r.cookies
r = requests.get('http://www.content.alternative.ac.nz/index.php/alternative/article/view/176/202', cookies=cookies) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T10:06:19.433

我建议使用[Requests for Humans](http://docs.python-requests.org/en/latest/)而不是 urllib2。它使用起来更简单，也更明显。

有时站点不支持基本 HTTP 授权，它假定在每个请求的标头中发送凭据。相反，他们需要在登录页面上使用凭据进行 POST。此 POST 在服务器上验证，如果凭据正确，服务器返回响应“Set-Cookie: name=value”，要求浏览器保存 cookie。然后这个 cookie 用于识别经过身份验证的客户端。

看来，是你的情况。在您的示例中，您需要向[http://www.content.alternative.ac.nz/index.php/alternative/login/signIn](http://www.content.alternative.ac.nz/index.php/alternative/login/signIn)发出 POST 请求，并使用您拥有的凭据设置参数“登录”和“密码”。然后从响应中检索 cookie 并将其添加到下一个请求中，如下[所示](http://docs.python-requests.org/en/latest/user/quickstart/#cookies)。

# asp.net - Ajax 模态弹出窗口扩展器和 JQM

> ID：12670950
> 
> 赞同：0
> 
> 时间：2012-10-01T09:49:44.333
> 
> 标签：asp.net, jquery-mobile

在我的 aspx 移动页面中，当我向服务器发送 ajax 请求时出现此错误：

```
Sys.ArgumentTypeException: Object of type 'AjaxControlToolkit.ModalPopupBehavior' cannot  be converted to type 'AjaxControlToolkit.ModalPopupBehavior'. Parameter name: instance 
```

我不知道到底发生了什么，但我确信它与我页面中的 jquery 有关，因为我检查了这个页面而不包括 jqm 并且它工作正常。谢谢

在 asp 页面中单击按钮时运行的行：

```
string message = "blahbalahblahblah...";
MessageBoxInfo.Show(MessageBox.MessageType.Error, message, 110, 350);
return; 
```

在我的 Control(MessageBox.ascx) 我有：

```
<asp:LinkButton ID="LinkButtonTargetControl" runat="server"></asp:LinkButton>
<ajaxToolkit:ModalPopupExtender ID="ModalPopupExtenderMessage" runat="server" TargetControlID="LinkButtonTargetControl" 
    PopupControlID="MessageBox" OkControlID="ButtonOK" CancelControlID="CloseButton" BackgroundCssClass="messagemodalbackground" />

    <asp:Panel ID="MessageBox" runat="server" style="display:none;">
         <asp:HyperLink runat="server" id="CloseButton" >
            <asp:Image ID="Image1" runat="server"  ImageUrl="../images/Message/close.png" AlternateText="Close" />
        </asp:HyperLink>
        <p><asp:Literal ID="litMessage" runat="server"></asp:Literal></p>
    </asp:Panel> 
```

显示方法如下（MessageBox.ascx.cs）：

```
public void Show(MessageType messageType, string message, int height, int width)
{
    CloseButton.Visible =  ShowCloseButton;
    litMessage.Text = message;
    MessageBox.Height = height;
    MessageBox.Width = width;
    MessageBox.CssClass = messageType.ToString().ToLower();
    ModalPopupExtenderMessage.Show();
    this.Visible = true;
} 
```

另外我应该提到，每次调用的 show 方法以及其中的所有内容，例如宽度高度......设置好，但如果你在萤火虫中检查它，你会看到 display:none 仍然存在！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T11:27:33.853

For some reason the runtime is supposed to use two different assemblies called `AjaxControlToolkit.ModalPopupBehavior`, let's say `AjaxControlToolkit.ModalPopupBehavior1` and `AjaxControlToolkit.ModalPopupBehavior2`.

`MessageBoxInfo` is coming from `AjaxControlToolkit.ModalPopupBehavior1` and
`MessageBox.MessageType` is coming from `AjaxControlToolkit.ModalPopupBehavior2`

So the `MessageBoxInfo.Show(MessageBox.MessageType.Error, message, 110, 350);` throws a fake conversion error.

**If you try another `Show()` override, without `MessageBox.MessageType` it works, true?**

Real solution, if you can't find the reasom could be a workaround using reflection: **to get the assemlby at runtime from `MessageBoxInfo` object**
and **using it to instantiate a `MessageBox.MessageType`**.

# jquery-ui - 带有图像的 Jquery UI 自动完成

> ID：12670956
> 
> 赞同：4
> 
> 时间：2012-10-01T09:49:56.157
> 
> 标签：jquery-ui, jquery, autocomplete, jquery-autocomplete

我在这段代码中遇到错误。有谁能够帮助我？

```
<h4>search:<input type="text" id="name-list" /></h4>
<script type="text/javascript" language="javascript">
$(function () {
        $("#name-list")
    .autocomplete({
        source: function (request, response) {
                $.ajax({
                url: "/Home/Searchuser", type: "POST", dataType: "json",
                data: { searchText: request.term, maxResults: 10 }
            })

            return false;

        },

        minLength: 1

        }).data("autocomplete")._renderItem = function (ul, item) {
        var inner_html = '<a><div class="list_item_container"><div class="image"><img src="' + item.PicLocation + '"></div><div class="label">' + item.label + '</div><div class="description">' + item.DisplayName + '</div></div></a>';
                                 return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append(inner_html)
                                .appendTo(ul);
    };

    });
</script> 
```

数据从服务器正确接收。我在哪里犯错了？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-04T11:13:04.613

@JoeFletch 感谢您的帮助。

我对代码进行了这些更改，然后它运行良好。这是我使用的一些css。

```
<style type="text/css">
DIV.list_item_container {
height: 90px;
padding: 0px;
    }
    DIV.image {
width:90px;
height: 90px;
float: left;
    }
    DIV.description {
font-style: italic;
font-size: 1.1em;
color: gray;
padding: 5px;
margin: 5px;
    }

#name-list
{
    width: 300px;

    }
</style> 
```

这是我的脚本

```
$(document).ready(function () {
        $('#name-list').autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: "/Home/Searchuser",
                    data: { searchText: request.term, maxResults: 10 },
                    dataType: "json",
                    success: function (data) {

                        response($.map(data, function (item) {
                            return {
                                value: item.DisplayName,
                                avatar: item.PicLocation,
                                rep: item.Reputation,
                                selectedId: item.UserUniqueid
                            };
                        }))
                    }
                })
            },
            select: function (event, ui) {

                                 alert(ui.item ? ("You picked '" + ui.item.label)
                                                          : "Nothing selected, input was " + this.value);

                return false;
            }
        }).data("ui-autocomplete")._renderItem = function (ul, item) {
            var inner_html = '<a><div class="list_item_container"><div class="image"><img src="' + item.avatar + '"></div><div class="label"><h3> Reputation:  ' + item.rep + '</h3></div><div class="description">' + item.label + '</div></div></a><hr/>';
            return $("<li></li>")
                    .data("ui-autocomplete-item", item)
                    .append(inner_html)
                    .appendTo(ul);
        };

    }); 
```

谢谢@乔。我更新了答案。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-01-30T03:15:10.720

对于任何再次查看此内容的人。mjmrz 提供的代码非常棒，但仅限于**jQuery UI 1.8**。

之后`.data("autocomplete")`需要更改为`.data("ui-autocomplete")`and `.data("item.autocomplete"`，item) 需要更改为`b .data("ui-autocomplete-item", item)`。

否则，没有图像。希望这对其他人有帮助。

# image - Metro 应用程序 - 如何显示从 SQLite 获取的图像？

> ID：12670964
> 
> 赞同：0
> 
> 时间：2012-10-01T09:50:15.223
> 
> 标签：image, windows-phone-7, bitmap, microsoft-metro

我必须显示数据库中的图像，但无法将字节流转换为图像可呈现的格式。

我提到了 WP7 项目，但在这里不能做同样的事情..

```
byte[] blob;
blob = TableName.Table_Image;
MemoryStream memStream = new MemoryStream(blob);
WriteableBitmap bimg = PictureDecoder.DecodeJpeg(memStream); 
```

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T11:03:08.497

经过大量搜索，此链接对我有所帮助。

[http://canbilgin.wordpress.com/2012/06/06/how-to-convert-byte-array-to-irandomaccessstream/#comment-89](http://canbilgin.wordpress.com/2012/06/06/how-to-convert-byte-array-to-irandomaccessstream/#comment-89)

希望这是有用的。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T13:51:07.843

直接从生产代码解释：

```
byte[] blob = TableName.Table_Image;
if( blob != null && blob.Length > 0 ) {
    BitmapImage bmp = new BitmapImage();
    bmp.SetSource( new MemoryStream( blob ) );

    MyPhoto.Source = bmp;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-02T12:16:16.867

```
 private static ImageSource FetchImageToImageSource(bytes[] imageBytes)
    {
    var ms = new MemoryStream(imageBytes, 0, imageBytes.Length);
        WriteableBitmap w = new WriteableBitmap(0, 0);
        w.SetSource(ms);
        return w;
    } 
```

这应该有效。

# objective-c - Objective-C：在 for 循环中将对象添加到 NSArray

> ID：12670965
> 
> 赞同：4
> 
> 时间：2012-10-01T09:50:20.453
> 
> 标签：objective-c, loops, nsarray

我正在尝试遍历一个数组（比较 Addr），并找到匹配的字符串（currentAddr）并尝试仅将匹配的字符串放入另一个数组中，但我一直收到错误消息

“NSArray 没有可见的 @Interface 声明选择器 addObject”

```
NSArray *matchedAddr;
//NOTE: multiple addresses from compareAddr[i] may match to multiple stored Addresses
for (NSUInteger i = 0; i < [compareAddr count]; i++)
{
    //Checking IF the obtained key (Mac Address) at compareAddr[i] matches one of the stored Addresses
    NSString *currentAddr = [compareAddr objectAtIndex:i];
    BOOL addrExists = ([[dictionaryOfAddresses     objectForKey:@"StoredAddr"]objectForKey:currentAddr] != nil);

    if (addrExists)
    {   
        NSLog (@"Match found at index %1u", i);
        [matchedAddr addObject:currentAddr];
    }

    else { NSLog(@"No Value matches at index %i \n", i); }
}
NSLog (@"Array of matched addresses for further processing %@", matchedAddr); 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-01T09:51:14.277

将其定义为可变的

```
NSMutableArray *matchedAddr=[[NSMutableArray alloc]init]; 
```

# python - 谷歌应用引擎中的主键

> ID：12670968
> 
> 赞同：2
> 
> 时间：2012-10-01T09:50:25.300
> 
> 标签：python, google-app-engine

我正在使用以下数据模型创建一对多关系。如何制作主键和外键？

```
class Candidate(db.Model):
    name = db.StringProperty()
    lastname = db.StringProperty()
    email = db.StringProperty()
    mobno = db.StringProperty()
    grad = db.StringProperty()
    pg = db.StringProperty()
    cloc = db.StringProperty()
    ploc = db.StringProperty()

class Skills(db.Model)
    skillcode=db.IntegerProperty()
    skillname=StringProperty() 
```

每个候选人都有很多技能。如何制作主键和外键？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T10:04:43.437

应用引擎数据存储不像 mysql 或 sqlite 等关系数据库那样工作。这是一个无模式数据库。每个模型都有一把钥匙。该键可以由 id 和/或键名定义。您可以在实例化模型时将 key_name 作为关键字参数传递，而在大多数情况下，会自动分配 id。

[ReferenceProperty](https://developers.google.com/appengine/docs/python/datastore/typesandpropertyclasses#ReferenceProperty.)可以看作是外键的等价物。该属性可以保存另一个模型实例”作为值，并且使用关键字参数，您可以指定模型必须是的类型。

appengine 上的 python 运行时有两个数据存储模块，一个称为 db ，一个称为[ndb](https://developers.google.com/appengine/docs/python/ndb/)。看看ndb，它是较新的api，可以帮助您进行缓存；我还发现它有一个更易于使用的 api。

# java - JButton 小按钮

> ID：12670969
> 
> 赞同：2
> 
> 时间：2012-10-01T09:50:27.520
> 
> 标签：java, swing, layout, jbutton, border-layout

我正在写一个摇摆程序。但问题是我想要的 JButton 很小。它的高度和宽度应该由我来决定，但下面的代码会创建一个长的水平按钮。

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class SwingExample 
{
         //Create the GUI and show it. For thread safety, this method should be
        //invoked from the event-dispatching thread

        private static void createAndShowGUI()
        {
            //create and setup the window
            JFrame frame=new JFrame("Swing Demo");
            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

            //Set the size of the window
            frame.setPreferredSize(new Dimension(300,300));            

            //Centre the window on the screen
            WinUtilities wu=new WinUtilities();
            wu.centerWindow(frame);

            //Create a panel
            JPanel panel=new JPanel(new BorderLayout());

            //Create three buttons

                //Button1
                    JButton But1=new JButton("Add");
                    But1.setText("Add Data");
                    But1.setSize(new Dimension(10,20)); //Using it has no effect
                    But1.setMnemonic('A');
                    But1.setMargin(new Insets(12,7,20,10)); //Using it has no effect
                    But1.setBorder(null); //Using it has no effect
                    panel.add(But1,BorderLayout.WEST);

                //Button2
                    JButton But2=new JButton("Edit");
                    But2.setText("Edit Data");
                    But2.setMnemonic(KeyEvent.VK_E);
                    But2.setPreferredSize(new Dimension(5,5));

                    panel.add(But2,BorderLayout.CENTER);

               //Button3
                    JButton But3=new JButton("Display");
                    But3.setText("Display Data");
                    But3.setMnemonic(KeyEvent.VK_D);
                    But3.setPreferredSize(new Dimension(5,5));
                    panel.add(But3,BorderLayout.EAST);

            //Set window characteristics
            frame.setContentPane(panel);
            //frame.add(panel);
            frame.pack();

            //Display the window
            frame.setVisible(true);
        }

        public static void main(String args[])
        {
            //Schedule a job for the event dispatching thread

            //creating and showing this application's GUI
            javax.swing.SwingUtilities.invokeLater(new Runnable()
            {
                public void run()
                {
                    createAndShowGUI();
                }
            });

        }
}

class WinUtilities
{
    public void centerWindow(JFrame frm)
    {
        frm.setLocationRelativeTo(null);
    }
} 
```

请帮忙

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T10:15:27.260

例如

![在此处输入图像描述](../Images/896bf1c887362752ade9d654dacdd38d.png)

建议

*   `JPanel`已在 API 中实现`FlowLayout`（相当接受`PreferredSize`），

*   那么 `BoderLayout`可能是错`LayoutManager`的，

*   或使用`GridLayout`（然后所有`JButtons`将具有相同的大小，基于最大的项目）

代码

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class SwingExample {

    private static void createAndShowGUI() {
        JFrame frame = new JFrame("Swing Demo");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        JPanel panel = new JPanel();
        JButton but1 = new JButton("Add");
        but1.setText("Add Data");
        but1.setMnemonic('A');
        but1.setBorderPainted(false);
        but1.setBackground(Color.red);
        but1.setBorder(null);
        but1.setFocusable(false);
        but1.setMargin(new Insets(0, 0, 0, 0));
        //but1.setContentAreaFilled(false);
        panel.add(but1);
        JButton but2 = new JButton("Edit");
        but2.setText("Edit Data");
        but2.setMnemonic(KeyEvent.VK_E);
        panel.add(but2);
        JButton but3 = new JButton("Display");
        but3.setText("Display Data");
        but3.setMnemonic(KeyEvent.VK_D);
        panel.add(but3);
        frame.add(panel);
        frame.pack();
        frame.setLocationRelativeTo(null);
        frame.setVisible(true);
    }

    public static void main(String args[]) {
        javax.swing.SwingUtilities.invokeLater(new Runnable() {

            public void run() {
                createAndShowGUI();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T10:25:42.597

按钮很大，因为：

*   您已将框架的首选尺寸设置为 300x300
*   您已将内容的布局设置为 BorderLayout
*   按钮被放大以适应这么大的框架

只需删除 frame.setPreferredSize() 按钮就会变小（框架大小将通过调用 frame.pack() 方法由内部组件的首选大小决定）。

顺便一提：

*   But1.setSize(...); 被忽略 - 你应该总是调用： setMinimumSize/setMaximumSize/setPreferredSize 相反，布局根据约束确定大小
*   不太可能在首选大小为 5x5 的按钮上正确显示文本：“编辑数据”、“添加数据”，考虑使用图标或使按钮更大

# r - 在 R 中对非常大的数据集进行 PCA

> ID：12670972
> 
> 赞同：7
> 
> 时间：2012-09-15T01:23:50.627
> 
> 标签：r, bigdata, pca

我在 CSV 文件中有一个非常大的训练集（~2Gb）。该文件**太大**而无法直接读入内存（`read.csv()`使计算机停止运行），我想使用 PCA 减小数据文件的大小。问题是（据我所知）我需要将文件读入内存才能运行 PCA 算法（例如，`princomp()`）。

我已经尝试使用该包`bigmemory`将文件作为.`big.matrix``princomp``big.matrix``big.matrix``data.frame`

**有没有办法`princomp`在我丢失的大型数据文件上运行？**

我是 R 的相对新手，所以其中一些对于经验丰富的用户来说可能是显而易见的（提前道歉）。

感谢您提供任何信息。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-01T10:09:34.987

我解决它的方法是通过迭代计算样本协方差矩阵。这样，您只需要任何时间点的数据子集。可以使用`readLines`打开与文件的连接并迭代读取的位置来仅读取数据的子集。该算法看起来像（它是一个两步算法）：

计算每列的平均值（假设是变量）

1.  打开文件连接 ( `con = open(...)`)
2.  读取 1000 行 ( `readLines(con, n = 1000)`)
3.  计算每列的平方和
4.  将这些平方和添加到变量 ( `sos_column = sos_column + new_sos`)
5.  重复 2-4 直到文件结束。
6.  除以行数减 1 得到平均值。

计算协方差矩阵：

1.  打开文件连接 ( `con = open(...)`)
2.  读取 1000 行 ( `readLines(con, n = 1000)`)
3.  使用计算所有叉积`crossprod`
4.  将这些叉积​​保存在变量中
5.  重复 2-4 直到文件结束。
6.  除以行数减 1 得到协方差。

当您拥有协方差矩阵时，只需调用并`princomp`自己跳过计算协方差矩阵。`covmat = your_covmat``princomp`

通过这种方式，您可以处理的数据集比您的可用 RAM 大得多。在迭代过程中，内存使用大致是块占用的内存（例如 1000 行），之后内存使用被限制为协方差矩阵（nvar * nvar 双倍）。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2018-01-05T18:10:16.410

导入大型数据集时要记住的事项。

1.  内存要求。

2.  使用以下示例代码了解正在导入的数据集的结构：

    初始 <- read.table("datatable.csv", nrows = 100);

    类<- sapply（初始，类）；

    tabAll <- read.table("datatable.csv", colClasses = classes)

3.  如果数据集很大，请使用数据、表类中的 fread() 函数。

4.  在应用 PCA 之前执行降维技术。例如，删除高度相关的变量或接近零方差的变量，因为它们对输出没有贡献。

5.  然后应用 PCA。

我希望它有帮助

# java - 如何在java中将8位灰度位图转换为4位比例？

> ID：12670975
> 
> 赞同：1
> 
> 时间：2012-10-01T09:50:44.243
> 
> 标签：java, bitmap

我想读取一个灰度图像文件，例如lena.bmp，然后在java中降低灰度分辨率，我是用来`PixelGrabber`获取这个图像的像素数据的，如何将这个8位灰度位图转换为4位？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T11:29:02.527

不确定他们是否可以在这里为您提供帮助，但也许您可以看看[JAI（Java Advanced Imaging）](http://java.net/projects/jai/)、[Apache Commons Sanselan](http://commons.apache.org/imaging/)或[Image4j](http://image4j.sourceforge.net/)。

## **编辑：**

**刚刚测试了 Image4J 库：**

转换 8 Bit -> 4 Bit 非常简单：

```
final File inFile = new File("test.bmp");
final File outFile = new File("test2.bmp");

BufferedImage inImage = ImageIO.read(inFile);
BufferedImage outImage = ConvertUtil.convert4(inImage); // Converts to 4 Bit

ImageIO.write(outImage, "bmp", outFile); 
```

有关更多信息，请参阅[Image4J - ConvertUtil 文档](http://image4j.sourceforge.net/javadoc/index.html?net/sf/image4j/util/ConvertUtil.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T11:33:37.933

这确实将位数减少到 4：

```
public static void main(String[] args) throws Exception {
    BufferedImage in = ImageIO.read(new File(args[0]));
    int w = in.getWidth(), h = in.getHeight();
    int[] bits = { 4 };
    ColorSpace cs = ColorSpace.getInstance(ColorSpace.CS_GRAY);
    int dt = DataBuffer.TYPE_BYTE;
    ColorModel cm = new ComponentColorModel
        (cs, bits, false, false, Transparency.OPAQUE, dt);
    WritableRaster wr = cm.createCompatibleWritableRaster(w, h);
    BufferedImage out = new BufferedImage(cm, wr, false, null);
    Graphics2D g = out.createGraphics();
    g.drawImage(in, 0, 0, null);
    g.dispose();
    ImageIO.write(out, "png", new File(args[1]));
} 
```

到目前为止，在我尝试过的所有查看器应用程序上，生成的文件看起来都太暗了。但是，如果您只对位感兴趣，那么`wr`在上述转换之后对栅格进行操作可能对您来说已经足够了。

如果没有，那么也许你应该设置一个`IndexedColorModel`包含你想要的 2 ^(4 个)灰度级。您可以简单地将索引乘以 17 以获得均匀分布的强度，从`0x0 * 17 = 0x00`到`0xf * 17 = 0xff`。

```
public static void main(String[] args) throws Exception {
    BufferedImage in = ImageIO.read(new File(args[0]));
    int w = in.getWidth(), h = in.getHeight();
    byte[] v = new byte[1 << 4];
    for (int i = 0; i < v.length; ++i)
        v[i] = (byte)(i*17);
    ColorModel cm = new IndexColorModel(4, v.length, v, v, v);
    WritableRaster wr = cm.createCompatibleWritableRaster(w, h);
    BufferedImage out = new BufferedImage(cm, wr, false, null);
    Graphics2D g = out.createGraphics();
    g.drawImage(in, 0, 0, null);
    g.dispose();
    ImageIO.write(out, "png", new File(args[1]));
} 
```

# iphone - 我有链接警告

> ID：12670978
> 
> 赞同：-1
> 
> 时间：2012-10-01T09:51:05.813
> 
> 标签：iphone, objective-c, ios, xcode

我正在（FirstViewController）的导航栏上做一个标签按钮，当我按下按钮时，它应该弹出视图控制器（FlipsideViewController）。我有这个链接器错误消息

> 架构 i386 的未定义符号：
> 
> _OBJC_CLASS_$_FlipsideViewController”，引用自：FirstViewController.o 中的 objc-class-ref ld：未找到架构 i386 clang 的符号：错误：链接器命令失败，退出代码为 1（使用 -v 查看调用）

这是我的代码

```
#pragma mark - Flipside View 
- (void)flipsideViewControllerDidFinish:(FlipsideViewController *)controller 
{ 
    [self dismissModalViewControllerAnimated:YES]; 
} 
- (IBAction)showInfo:(id)sender 
{ 
    FlipsideViewController *controller = [[FlipsideViewController alloc] initWithNibName:@"FlipsideViewController" bundle:nil]; 
    controller.delegate = self; 
    controller.modalTransitionStyle = UIModalTransitionStyleFlipHorizontal; 
    [self presentModalViewController:controller animated:YES]; 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:58:01.007

您缺少编译或链接到代码中的 FlipsideViewController 文件。检查： `Project->Build Phases->Compile Sources`是否有 FlipsideViewController 文件。

![在此处输入图像描述](../Images/34362ba84f4b6a3cf40127ad38cfc9e3.png)

还要检查它是否包含在项目中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:59:42.380

链接器警告与代码无关。只是编译器找不到`FirstViewController`您必须添加到编译源的类：

![在此处输入图像描述](../Images/947746fef95c72d9cc3eff1fe10b03d7.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T10:01:06.897

要链接的文件中缺少您的 FlipsideViewController 实现。

*通过点击 Project Navigator -> Build Phases* -> *Compile Sources*中的 Top-Node 来检查您的项目设置。

![在此处输入图像描述](../Images/1bfd52b0173eb57e277b5e817b0f6172.png)

`FlipsideViewController.m`必须列出。如果不是，请使用底部的 + 符号添加它。

# php - MySQL 仅 INSERT 两个字段

> ID：12670979
> 
> 赞同：16
> 
> 时间：2012-10-01T09:51:08.117
> 
> 标签：php, mysql, insert

我有一张有很多列的表。列的总数尚未指定，并且会定期更改。

在我的插入查询中，我只需要将两个值放入表中。所有其他值将是“”。有没有办法只指定第一个字段，而不必包含 '','','',''...？请看下面的例子：

我想要这个：

```
$query = mysql_query("INSERT INTO table VALUES('','$id')"); 
```

而不是这样：

```
$query = mysql_query("INSERT INTO table VALUES('','$id','','','','','',''......and on and on...)"); 
```

有没有办法做到这一点？谢谢！

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-10-01T09:52:30.453

是的，在表名之后指定列名：

```
INSERT INTO table (column1, column2) VALUES ('','$id') 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-01T09:55:46.843

我更喜欢

```
INSERT INTO table SET columnA = 'valueA', columnB = 'valueB' 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-01T09:56:10.790

```
INSERT INTO table_name (column1, column2) VALUES (value1, value2) 
```

[http://www.w3schools.com/php/php_mysql_insert.asp](http://www.w3schools.com/php/php_mysql_insert.asp)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-01T09:52:47.370

只需定义您将插入的字段，

例如：

```
INSERT INTO table (fieldA, fieldB) VALUES('','$id') 
```

缺少的字段将具有该字段的默认值

# java - 如何迭代地图超过jsf ..？

> ID：12670984
> 
> 赞同：0
> 
> 时间：2012-10-01T09:51:28.303
> 
> 标签：java, jsf

我有一张要遍历 jsf 的地图。地图如下——

```
LinkedHashMap<Map<String,String>,Map<String,String>>           propertyMap=new       LinkedHashMap<Map<String,String>,Map<String,String>>(); 
```

早些时候，我以以下方式在 String、String 类型的 jsf 上迭代了以下映射

```
 List documentProperties = new ArrayList(propertyMap.entrySet()); 
```

在 jsf 中：-

```
 <af:iterator value="#{EditProperties.documentProperties}" var="list" id="i1">
              <trh:rowLayout id="rl1">
                    <trh:cellFormat id= "cf3"><af:outputText value="#{list.key}"
                                                             id="ot1"/>   </trh:cellFormat>
                    <trh:cellFormat id= "cf4">
                        <af:inputText id="it1"
                                      value="#{list.value}" showRequired="false">
                        </af:inputText>    
                    </trh:cellFormat>
              </trh:rowLayout> 
```

但是我如何在 jsf 上迭代包含两个地图的地图..？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:57:15.920

`Map`作为一个`key`坏主意。您应该使用`Immutable`对象作为 hashmap 的键。如果要在 Map 中声明 Map ，则可以执行以下操作。

```
LinkedHashMap<String,Map<String,Map<String,String>>> propertyMap=new LinkedHashMap<String,Map<String,Map<String,String>>>(); 
```

# lua - Lua：如何在所有表上创建自定义方法

> ID：12670985
> 
> 赞同：2
> 
> 时间：2012-10-01T09:51:28.450
> 
> 标签：lua

我想在 Lua 的数据结构上创建一个自定义**contains**`table`方法，以检查是否存在密钥。用法看起来像这样：

```
mytable  = {}
table.insert(mytable, 'key1')
print(mytable.contains('key1')) 
```

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-01T10:04:24.920

在 Lua 中，您不能一次更改所有表。您可以使用更简单的类型来执行此操作，例如数字、字符串、函数，您可以在其中修改它们的元表并向所有字符串、所有函数等添加方法。这已经在 Lua 5.1 中针对字符串完成，这就是您可以这样做的原因这个：

```
local s = "<Hello world!>"
print(s:sub(2, -2)) -- Hello world! 
```

*表和用户数据对每个实例*都有元表。如果您想创建一个已经存在自定义方法的表，那么简单的表构造函数将无法完成。但是，使用 Lua 的语法糖，您可以执行以下操作：

```
local mytable = T{}
mytable:insert('val1')
print(mytable:findvalue('val1')) 
```

为了实现这一点，您必须在使用之前编写以下内容`T`：

```
local table_meta = { __index = table }
function T(t)
    -- returns the table passed as parameter or a new table
    -- with custom metatable already set to resolve methods in `table` 
    return setmetatable(t or {}, table_meta)
end

function table.findvalue(tab, val)
    for k,v in pairs(tab) do
        -- this will return the key under which the value is stored
        -- which can be used as a boolean expression to determine if
        -- the value is contained in the table
        if v == val then return k end
    end
    -- implicit return nil here, nothing is found
end

local t = T{key1='hello', key2='world'}
t:insert('foo')
t:insert('bar')
print(t:findvalue('world'), t:findvalue('bar'), t:findvalue('xxx'))
if not t:findvalue('xxx') then
    print('xxx is not there!')
end

--> key2    2
--> xxx is not there! 
```

# javascript - 将使用 AJAX/JSON 数据的 JavaScript/JQuery 滑块

> ID：12670996
> 
> 赞同：-2
> 
> 时间：2012-10-01T09:51:55.767
> 
> 标签：javascript, jquery, ajax, json

我正在寻找非商业 JavaScript/JQuery 滑块或一些带有滑块的教程，这些滑块适用于使用 AJAX/JSON 动态插入的数据。谁能给点建议。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T10:15:50.867

试试这个[jcarousel](http://sorgalla.com/jcarousel/)

**示例** [http://sorgalla.com/projects/jcarousel/examples/dynamic_ajax.html](http://sorgalla.com/projects/jcarousel/examples/dynamic_ajax.html)