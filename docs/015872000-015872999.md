# StackOverflow 问答 15872000-15872999

# c - 将多线程window ce应用移植到win32

> ID：15872001
> 
> 赞同：1
> 
> 时间：2013-04-08T05:41:49.300
> 
> 标签：c, multithreading, winapi, mfc, windows-ce

我试图做与往常相反的事情。我们有一个旧版 WinCE 应用程序，现在需要移植到 Win32 平台，以便它可以作为实际应用程序的模拟器工作。

我已经设法编译了代码，并且大多数事情都已经开始工作了。但问题是，该应用程序是多线程的。当应用程序在 WinCE 上时，所有线程同步工作，但是，在 Windows 上，它们之间绝对没有同步。

该应用程序正在串行端口上进行通信，但长时间无效不起作用。其他时候，接收线程挂起。有时根本不发送数据。有时线程一遍又一遍地多次发送数据。

知道 WinCE 和 Win32 中的多线程有什么区别吗？什么可能导致这种问题？

该应用程序是如此之大，以至于几乎不可能进行设计更改。关于我应该调查什么的任何建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T11:25:21.000

我发现了问题，所有线程都没有足够的时间来处理数据，这导致了大量的超时。我所要做的就是在数据被破坏的地方放一些锁，然后更改`Sleep(0)`为`Sleep(5)`. 这将 CPU 使用率从 95% 降低到仅 10%，并解决了所有问题。

# java - 使用 SWT/Jface 进行 SWT 表切换

> ID：15872003
> 
> 赞同：0
> 
> 时间：2013-04-08T05:42:03.293
> 
> 标签：java, swt, jface

我有在应用程序启动时加载的表。此表是在复合中创建的。现在我有另一个功能搜索按钮，它将根据搜索输入填充同一个表。我无法用搜索结果填充表格。是否可以根据使用 SWT/Jface 的功能（在应用程序启动/搜索结果时加载）在同一个表中进行切换。例如应用程序启动时的表值显示

```
 m_workplaceViewer = new TableViewer(table);

               String[] workplace_titles= new String[]{"Code","Plant","Compy Reg Num","Num Of Employees","Type of industry","Type of products/service", "Representative","Main Phone","Phone 1","Phone 2","Fax", "Zip Code",
                        "Address 1","Address 2","Email","HomePage","Note 1","Note 2","Note 3","Note 4","Note 5"};

                for (int i = 0; i < 21; i++){

                 TableViewerColumn column_workplace = new TableViewerColumn(m_workplaceViewer,
                         SWT.NONE);                     
                column_workplace.getColumn().setWidth(75);
                column_workplace.getColumn().setText(workplace_titles[i]);              

               }   

                try {
                    workplaceDetailList= workplaceDaoImpl.getWorkplaceDetails();
                } catch (SQLException e3) {
                    // TODO Auto-generated catch block
                    e3.printStackTrace();
                } 
```

对于搜索按钮

```
btnSearch.addListener(SWT.Selection, new Listener() {
                    public void handleEvent(Event event) {

                        String plant=text_workplace.getText();
                        System.out.println("Select Me : " + plant);

                        IStructuredSelection selection = (IStructuredSelection) m_workplaceViewer
                                .getSelection();
                        if (selection.getFirstElement() instanceof WorkplaceDetail) {
                         workplaceDetail = (WorkplaceDetail) selection.getFirstElement();
                        }
                         System.out.println("Start Search--2");

                        if (plant!=""){ 
                             table.removeAll();
                            workplaceDetailList=workplaceDaoImpl.getWorkplaceDetailsSearchByPlant(plant); 
```

> **m_workplaceViewer.setInput(workplaceDetailList)**

```
 } 
```

数据绑定：

```
 ObservableListContentProvider m_personViewerContentProviderList1 = new ObservableListContentProvider();
             m_workplaceViewer.setContentProvider(m_personViewerContentProviderList1);

             IObservableList input = 
                       Properties.selfList(WorkplaceDetail.class).observe(workplaceDetailList);
            m_workplaceViewer.setInput(input);  

             ViewerSupport.bind(m_workplaceViewer,
                     input,
                    BeanProperties.values(new String[] {"code","plant","compRegNum","numOfEmps","typeIndst",
                            "typeProd","employee.empName","address.mainPhone","address.phone1","address.phone2",
                            "address.fax", "address.zip", "address.add1", "address.add2","address.empEmail",
                            "address.homepage","note1", "note2", "note3", "note4", "note5"})); 
```

请不要说我只有一张桌子。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:19:38.680

通常的解决方案是

*   `view.setInput(...)`每当您有要显示的新结果时调用
*   使用 an`IObservableList`作为两种情况的中间结果列表 - 然后您可以在需要时通过简单地操作列表来替换列表的内容
*   使用 a `ViewFilter`on the `TableViewer`- 虽然只有当搜索结果是初始内容的适当子集时才能使用此方法

我通常使用后一种方法，主要是因为我可以将 UI 与业务逻辑完全分离，这可以使应用程序更容易测试:-)

# grails - Grails 应用程序中的 Quartz 作业被触发 3 次

> ID：15872005
> 
> 赞同：5
> 
> 时间：2013-04-08T05:42:22.427
> 
> 标签：grails, quartz-scheduler

我在 Grails 应用程序中有下一个 Quartz 作业。该作业计算一些统计数据并使用这些统计数据发送和发送电子邮件。我希望工作每天 7 点执行。

**我的问题是每天触发三次而不是一次。**

```
class DailyEmailJob  {
    def eventService 

    static triggers = {
        cron name: 'emailTrigger', cronExpression: "0 0 7 * * ?"
    }

    def execute() {
        eventService.send24StatsEmail()
    }
} 
```

我在 Apache Tomcat/7.0.35 中托管 Grails 应用程序，运行 Grails 2.2.1 和quartz-1.0-RC6

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-25T04:38:09.300

**编辑**

在这种情况下，以下分析并不**适用**。这只是一个基于原始误解事实的假设。如果被告知，我可以删除答案。

**结尾**

我希望我能回答我在评论中提出的问题。

“*除了早上 7 点，它在什么时候触发？* ”

是**早上 7 点**、**下午 2 点**和**晚上 9 点**吗？

**原因：**

*   请参阅`quartz`使用`org.quartz-scheduler:quartz:1.8.4`. 请参阅[Github 中的 BuildConfig.groovy](https://github.com/nebolsin/grails-quartz/blob/master/grails-app/conf/BuildConfig.groovy)。
*   遵循相应[Javadoc](http://www.quartz-scheduler.org/api/1.8.5/)`CronExpression`中的 API 。

**突出重要的措辞**：-

" *'/' 字符用于指定增量。例如，秒字段中的“0/15”表示“秒 0、15、30 和 45”。而秒字段中的“5/15”表示“秒”秒 5、20、35 和 50"。在 '/' 之前指定 '*' 相当于指定 0 是开头的值。本质上，对于表达式中的每个字段，都有一组数字可以打开或关闭。对于秒和分钟，数字范围从 0 到 59。对于小时 0 到 23，对于一个月中的几天，从 0 到 31，对于月份 1 到 12 **。“/”字符只是帮助您打开给定集合中的每个“nth”值。因此，月份字段中的“7/6”仅打开月份“7”，这并不意味着每 6 个月，请注意微妙之处。***"

在您的情况下，cron 表达式：`"0 0 7 * * ?"`导致在 24 小时（一天）内每 7 小时运行一次作业，导致在上午 7 点、(7 + 7) 下午 2 点、(7 + 7 + 7) 晚上 9 点运行。

这个最新的文档`quartz-scheduler.org`另有说明。看看[这里](http://www.quartz-scheduler.org/documentation/quartz-1.x/tutorials/crontrigger)的例子。还要研究“特殊字符/”。

根据我对`seconds`和`minutes`[我不想等待 24 小时来测试 :)] 的测试，我强烈认为以下`cronExpression`内容将有效并每天触发`execute()`at ：`7:00 Hrs`

**回答：**

1.  `"0 0 7/23 * * ?"`[从当天的第 7 小时第 0 分钟和第 0 秒开始，每 24 小时运行一次作业]
2.  `"0 0 0/23,7 * * ?"`[与回答 1 同义，但不那么冗长。]

让你知道你的测试结果。我坚信这会奏效。我还将为白天/晚上设置调度程序，以便在 24 小时后测试结果（我不想篡改 JVM 时钟以获得清晰的结果，尽管我成功测试了相同的篡改。） . 将发布我的实际测试结果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-25T19:12:41.607

您的 cron 表达式看起来不错。Tomcat 的自动部署功能可能是罪魁祸首。有关一些建议，请参阅：[https ://stackoverflow.com/a/11990221](https://stackoverflow.com/a/11990221)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T17:07:24.200

这就是文档所说的

Day-of-Week 或 Day-of-Month 必须为“？”，否则您将收到错误消息，因为底层库的支持不完整。因此，您不能同时指定两个字段，也不能将两者都保留为所有值通配符“*”；这与 unix crontab 规范背道而驰。

希望有帮助

# java - 是否可以用 Java 编写通用多路复用器？

> ID：15872006
> 
> 赞同：5
> 
> 时间：2013-04-08T05:42:28.030
> 
> 标签：java, reflection, observer-pattern

我有很多使用 setListener 方法注册的侦听器，而不是 addListener。因此，为了允许多个侦听器注册到一个对象，我必须使用多路复用器。这很好，但现在我必须为我拥有的每个侦听器接口创建一个多路复用器。所以我的问题是：是否可以按照以下代码的要求实现 Mux.create() ？

```
AppleListener appleListener1 = new AppleProcessorA();
AppleListener appleListener2 = new AppleProcessorB();
AppleListener appleListenerMux = Mux.create(appleListener1, appleListener2);
Apple apple = new Apple();
apple.setListener(appleListenerMux);

OrangeListener orangeListener1 = new OrangeProcessorA();
OrangeListener orangeListener2 = new OrangeProcessorB();
OrangeListener orangeListenerMux = Mux.create(orangeListener1, orangeListener2);
Orange apple = new Orange();
orange.setListener(orangeListenerMux);

class Mux {
   public static <T> T create(T... outputs) { }
} 
```

我想这可能使用反射。有什么理由使用反射不是一个好主意吗？（想到性能）

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-08T06:57:50.153

可以使用动态[Proxy](http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Proxy.html)。

最简单的方法是将所需的接口作为第一个参数传递给您的`Mux.create()`调用。否则，您将不得不使用反射来尝试从提供的所有具体侦听器实例中猜测所需的接口（很难确定所有侦听器对象是否都实现了几个共同的接口）。

这是它的简短之处：

```
public class Mux {

    /**
     * @param targetInterface
     *            the interface to create a proxy for
     * @param instances
     *            the concrete instances to delegate to
     * @return a proxy that'll delegate to all the arguments
     */
    @SuppressWarnings("unchecked")
    public static <T> T create(Class<T> targetInterface, final T... instances) {
        ClassLoader classLoader = targetInterface.getClassLoader();
        InvocationHandler handler = new InvocationHandler() {
            @Override
            public Object invoke(Object proxy, Method m, Object[] args)
                    throws Throwable {
                for (T instance : instances) {
                    m.invoke(instance, args);
                }
                return null;
            }
        };
        return (T) Proxy.newProxyInstance(classLoader,
                new Class<?>[] { targetInterface }, handler);
    }
} 
```

您将使用它，例如，如下所示：

```
Apple apple = new Apple();
AppleListener l1 = new AppleListenerA();
AppleListener l2 = new AppleListenerB();
apple.setListener(Mux.create(AppleListener.class, l1, l2));
apple.doSomething(); // will notify all listeners 
```

这通过简单地创建一个[`Proxy`](http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Proxy.html)转换为目标类型的动态来工作`T`。该代理使用[`InvocationHandler`](http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/InvocationHandler.html)仅将代理的所有方法调用委托给给定的具体实例。

请注意，虽然一般情况下我会尽可能地完成所有参数和局部变量，但我只`T... instances`在这种情况下完成了这样一个事实，即如果`instances`不是最终的，则*不允许*在匿名内部类中引用它（你会得到一个“不能在以不同方法定义的内部类中引用非最终变量 args”）。

另请注意，以上假设实际方法调用不返回任何有意义（或有用）的值，因此所有方法调用`handler`也返回`null`。如果您想收集返回值并以有意义的方式返回这些值，则需要添加更多代码。

* * *

或者，可以检查所有给定`instances`的接口以确定它们都实现的通用接口，并将所有这些传递给`newProxyInstance()`. 这使得`Mux.create()`使用起来更加方便，但失去了对其行为的一些控制。

```
/**
 * @param instances
 *            the arguments
 * @return a proxy that'll delegate to all the arguments
 */
@SuppressWarnings("unchecked")
public static <T> T create(final T... instances) {

    // Inspect common interfaces
    final Set<Class<?>> commonInterfaces = new HashSet<Class<?>>();
    commonInterfaces.addAll(Arrays.asList(instances[0].getClass()
            .getInterfaces()));

    // Or skip instances[0]
    for (final T instance : instances) {
        commonInterfaces.retainAll(Arrays.asList(instance.getClass()
                .getInterfaces()));
    }

    // Or use ClassLoader.getSystemClassLoader();
    final ClassLoader classLoader = instances[0].getClass().getClassLoader();

    // magic
    final InvocationHandler handler = new InvocationHandler() {
        @Override
        public Object invoke(final Object proxy, final Method m, final Object[] args)
                throws Throwable {
            for (final T instance : instances) {
                m.invoke(instance, args);
            }
            return null;
        }
    };

    final Class<?>[] targetInterfaces = commonInterfaces
            .toArray(new Class<?>[commonInterfaces.size()]);
    return (T) Proxy.newProxyInstance(classLoader, targetInterfaces,
            handler);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:00:20.487

我认为您的解决方案是“**适配器**”和“**工厂方法**”设计模式的混合。关于如何在 Java 中实现这些模式，我在下面提供了两个有用的链接：

*   [Java中的适配器设计模式](http://userpages.umbc.edu/~tarr/dp/lectures/Adapter.pdf)
*   [Java中的工厂方法设计模式](http://userpages.umbc.edu/~tarr/dp/lectures/Factory.pdf)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T09:18:08.527

复合模式非常适合您的情况。

```
AppleListener appleListener1 = new AppleProcessorA();
AppleListener appleListener2 = new AppleProcessorB();
CompositeListener composite = CompositeListener.for(appleListener1, appleListener2);
Apple apple = new Apple();
apple.setListener(composite); 
```

您可能必须重构 AppleListener 和 OrangeListener 以实现一个 Listener 接口，该接口包含一个用于通知侦听器的主体方法。CompositeListener 还必须扩展此侦听器以实现复合模式。

# ios - 如何开始在 xcode 中创建 json 解析器（故事板）

> ID：15872007
> 
> 赞同：0
> 
> 时间：2013-04-08T05:42:53.833
> 
> 标签：ios, objective-c, json, storyboard

我想创建以 json 方式读取许多数据的 json 解析器。（数据包括图像和文本等）但不知道用 json 库和方法创建 json 解析器。请进一步解释这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T05:47:44.617

您可以使用 iOS sdk 中内置的 NSJSONSerialization。小例子：

```
NSError *e = nil;
NSArray *jsonArray = [NSJSONSerialization JSONObjectWithData: data options:      NSJSONReadingMutableContainers error: &e];

if (!jsonArray) {
NSLog(@"Error parsing JSON: %@", e);
} else {
for(NSDictionary *item in jsonArray) {
  NSLog(@"Item: %@", item);
}
} 
```

或者，如果您想使用一些开源解析器，请使用[SBJSON](https://github.com/stig/json-framework/)。SBJSON 非常好，很多人都在使用它。我建议您先使用 NSJSONSerialization，然后再探索其他内容。

# ruby-on-rails - 具有相同模型的关联“has_many”和“has_one”

> ID：15872013
> 
> 赞同：3
> 
> 时间：2013-04-08T05:43:36.503
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ransack

我有一个具有很多价格的织物模型。

```
 Class Fabric < ActiveRecord::Base  
        has_many :prices, :as => :priceable, :dependent => :destroy
    end

    class Price < ActiveRecord::Base
        attr_accessible :amount,
                :quoted_date,
                :valid_till

        belongs_to :priceable, :polymorphic => true
    end 
```

如何添加关联以提供 latest_price？

我需要在面料搜索表单中添加价格范围搜索条件，该条件应返回给定范围内所有具有 latest_price_amount 的面料，其中最新价格是最新报价日期的价格。

```
 <%= search_form_for @search do |f| %>
        <%= f.text_field :latest_price_amount_gteq %>
        <%= f.text_field :latest_price_amount_lteq %>
    <%= f.submit "Search" %> 
```

我研究[了这个问题](https://stackoverflow.com/questions/6648792/what-is-the-rails-way-to-enforce-a-has-many-but-has-only-one-current-associati)，第一种方法对我来说似乎很好，但我可以用 替换`has_one`，`belongs_to`因为 Fabric 可能有也可能没有价格？如果没有，您能否提出更好的解决方案。

谢谢。

# bash - 如何在 bash 执行的脚本通过管道输入时将参数传递给 bash

> ID：15872015
> 
> 赞同：0
> 
> 时间：2013-04-08T05:43:52.933
> 
> 标签：bash

我的意思是当我使用这种格式执行 bash 脚本时：

```
bash < <( curl http://rvm.io/releases/rvm-install-head ) 
```

或者

```
curl http://rvm.io/releases/rvm-install-head | bash 
```

我如何在执行时传递额外的参数？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T08:14:58.427

`-s`切换后添加参数。

使用示例：

```
echo 'echo params count: ${#@}, params: $@' | bash -s param1 param2 
```

输出：

```
params count: 2, params: param1 param2 
```

# ruby-on-rails - Rubymine 弃用警告

> ID：15872016
> 
> 赞同：3
> 
> 时间：2013-04-08T05:43:54.133
> 
> 标签：ruby-on-rails, ruby, rubymine

有谁知道为什么根据 Rubymine 这是可以接受的`where({name: 'Jim'})`，但这`where(name: 'Jim')`会导致弃用警告，内容为

> “不推荐向查找器或计算方法提供任何条件。”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T12:37:17.807

RubyMine 5.4 Beta 中存在[一个问题](http://youtrack.jetbrains.com/issue/RUBY-13413)，该问题已在最终版本中修复。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T05:52:07.553

因为您不再需要像Rails 3.x 之前的方法系列那样为`:conditions`查询方法指定选项。您只需将条件的哈希直接传递给。例如，而不是这个：`where``find``where`

```
where(conditions: {name: 'Bob'}) 
```

你可以简单地调用：

```
where(name: 'bob') 
```

# java - Graph 文件中的 (Node)nodes.get(j)) 是什么意思？

> ID：15872017
> 
> 赞同：1
> 
> 时间：2013-04-08T05:43:56.993
> 
> 标签：java, algorithm, graph

请在此处找到以下文件 (1) Node 2)Main 3) Graph)：

https://www.dropbox.com/sh/at9u2684k345uv0/dK77w58rEM

基本上我正在实现 BFS 和 DFS，并且对 Graph File 中的一些代码有一些疑问：

```
private Node getUnvisitedChildNode(Node n)
{

    int index=nodes.indexOf(n);
    int j=0;
    while(j<size)
    {
        if(adjMatrix[index][j]==1 && ((Node)nodes.get(j)).visited==false)
        {
            return (Node)nodes.get(j);
        }
        j++;
    }
    return null;
} 
```

谁能告诉我是什么

```
(Node)nodes.get(j)) 
```

是这里的意思吗？

我还有几个问题：

在 Graph 类的 bfs() 方法中，我有以下问题：

1）据我了解

```
"Queue<Node> q=new LinkedList<Node>();" 
```

表示 LinkList 实现了一个队列。

那么，为什么在这种情况下需要 LinkedList，我们不能只通过“Queue q = new Queue();”来实现吗？?

2）虽然我已经多次阅读“this”关键字的用法，但谁能解释一下原因

q.add(this.rootNode) 被使用，为什么不只是 q.add(rootNode) ？

3）以下行表示什么？

```
while((child=getUnvisitedChildNode(n))!=null) 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T05:49:12.237

如果你查看这个`Graph`类，你会看到这个声明：

```
public ArrayList nodes = new ArrayList(); 
```

这使用`ArrayList`类型，但不使用泛型（顺便说一句，这是一个坏主意）。代码行

```
((Node)nodes.get(j)).visited 
```

意思如下：

1.  获取 的`j`第 th 个元素`nodes` `ArrayList`。由于在`ArrayList`没有泛型的情况下使用了，这将返回一个类型为 的对象`Object`。
2.  将该对象转换为 a `Node`，这就是该对象的真正含义。
3.  查找其中的`visited`字段`Node`。

换句话说，这意味着“查找`Node`存储在列表中的位置`j`，`nodes`然后读取其`visited`字段。

如果作者将泛型与 , 一起使用，那么所有这些都可以轻松避免`ArrayList`，如

```
public ArrayList<Node> nodes = new ArrayList<Node>(); 
```

如果是这种情况，查找节点并读取其`visited`字段的代码将是

```
nodes.get(j).visited 
```

希望这可以帮助！

# ruby-on-rails - Amazon S3 图像未在 chrome 中加载

> ID：15872027
> 
> 赞同：1
> 
> 时间：2013-04-08T05:44:32.317
> 
> 标签：ruby-on-rails, google-chrome, amazon-s3

我有一个从 Amazon S3 上传和显示图像的 rails 应用程序。我在 Chrome 中显示其中一些图像时也遇到了问题！

以以下链接为例： [http ://s3.amazonaws.com/lafamos-dpk/system/images/2144/thumb/photo_2144.png?1333998967](http://s3.amazonaws.com/lafamos-dpk/system/images/2144/thumb/photo_2144.png?1333998967)

这只是不会在 Chrome 中加载，但在 Firefox 和 Safari 中加载得很好。

[这张通过同一个系统上传到同一个 Amazon S3 存储桶的图像](http://s3.amazonaws.com/lafamos-dpk/system/main_photos/58/small/artist_58.jpeg?1352941916)以一种真正神秘的方式加载得很好[当然，这是一种不同的格式，但我不确定这是否重要]。

这是我正在尝试解决这些问题的页面的[链接](http://music.lafamos.com/sundaylane)- 新闻照片部分下的照片一直到底部都没有在 Chrome 中显示。

有什么想法吗？

谢谢！尤瓦尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T13:35:17.990

当您在 chrome 中查看该网站时，您会遇到一些错误

```
Failed to load resource: the server responded with a status of 404 (Not Found) https://lafamos-dpk.s3.amazonaws.com/system/main_photos/58/small/artist_58.jpg?1291229622 
```

.

```
<Error>
<Code>NoSuchKey</Code>
<Message>The specified key does not exist.</Message>
<Key>system/main_photos/58/small/artist_58.jpg</Key>
<RequestId>1F57BF9D9034CB18</RequestId>
<HostId>
U9HkrMYA6nISFRCt2cQ0Xy89uxkzBnJ2pDmlPz/yiCL4Wb74h9hlIg8eVU46+R7y
</HostId>
</Error> 
```

图像存在吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T23:27:44.377

图片的直接链接在 Chrome 和 Firefox 上都可以正常工作，但您的`img src`链接似乎已损坏。我在 DevTools 控制台中得到了这个：

```
Failed to load resource: the server responded with a status of 404 (NOT FOUND) http://flipsidetomusic.com/wp-content/uploads/2011/02/album_63.jpg
Port: Could not establish connection. Receiving end does not exist. lastError:29
set lastError:29
Port: Could not establish connection. Receiving end does not exist. lastError:29
set lastError:29 
```

我会考虑解决该 404 错误。另外，我今天遇到了 HackerNews 的讨论，可能指向问题的根源：[https ://news.ycombinator.com/item?id=5514344](https://news.ycombinator.com/item?id=5514344)

显然 Firefox 默认情况下不会阻止 SSL 页面上的非 SSL 内容，但 Chrome 会。我会检查您的 S3 存储桶权限，授予，我对 AWS 不是很熟悉。

# php - 选择 LARGE 列表（带有过滤器）和 PDO

> ID：15872030
> 
> 赞同：0
> 
> 时间：2013-04-08T05:44:42.510
> 
> 标签：php, mysql, pdo

我有大量数据（房屋清单）需要能够被用户过滤。最小/最大卧室数量、最小/最大价格范围、郊区、房产类型。

我创建了一个带有过滤选项的数组，但是只有在选择了所有选项时查询才有效。我需要有能力让它工作它只选择一个选项。

关于我应该如何解决这个问题的任何想法？

```
$query = $db->prepare("SELECT *, (SELECT MIN(FileName) as FileName 
                    FROM `images` 
                    WHERE `images`.`PropertyID` = `property`.`PropertyID` order by `images`.`id` asc) 
                    as FileName 
                    FROM `property`
                    INNER JOIN `features` ON `property`.`PropertyID` = `features`.`PropertyID`
                    WHERE `property`.`Active` = '1' AND `property`.`homelink` = '0'
                    AND `property`.`Suburb` =  :suburb
                    AND `features`.`Bedrooms` >=  :bedroom_min
                    AND `features`.`Bedrooms` <=  :bedroom_max
                    AND `property`.`Rent` >=  :price_min
                    AND `property`.`Rent` <=  :price_max
                    AND `property`.`PropertyType` =  :property_type
                    GROUP BY `property`.`propertyid`
                    ORDER BY `property`.`AdvHeading` = 'LEASED!' ASC, `property`.`rent` DESC");

$vars = array(suburb,bedroom_min,bedroom_max,price_min,price_max,property_type);
foreach($vars as $key) {
    ${$key} = (isset($_GET[$key]) === true) ? $_GET[$key] : '';
    $query->bindValue(':'.$key.'', ${$key}, PDO::PARAM_STR);    
}

try {
    $query->execute();

    $rows = $query->fetchAll(PDO::FETCH_ASSOC);
    echo '<pre>', print_r($rows, true), '</pre>';

} 
catch(PDOException $e){
    die($e->getMessage());  
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T05:54:20.967

您需要动态创建查询。这是一个[最近的问题，您可以在其中看到一个示例](https://stackoverflow.com/questions/15866185/problems-with-using-pdo-to-perform-an-advanced-search-query)

请注意，由于比较运算符不同，您不能将其包装在循环中。最好一一手动制作，就像在引用的问题中一样。

# javascript - jquery 书架 Slider 修改

> ID：15872031
> 
> 赞同：1
> 
> 时间：2013-04-08T05:44:43.353
> 
> 标签：javascript, jquery, jquery-ui, onclick, onload

我正在使用**jquery bookshelf Slider**创建书架。它工作得很好，但我需要对我的书进行一些修改。

我们的书自我演示链接 [书架演示](http://www.almmag.com/issues/test-bookshelf-slider/)

我们的修改如下：

*   默认加载时间**标题和图标**是隐藏的。

*   如果我们需要点击标题或图标。显示标题或图标。

我们的脚本如下

```
<script type="text/javascript">

jQuery(document).ready(function() {

    //define custom parameters

    $.bookshelfSlider('#bookshelf_slider', {

        'item_width': '100%', //responsive design > resize window to see working

        'item_height': 320,

        'products_box_margin_left': 30,

        'product_title_textcolor': '#ffffff',

        'product_title_bgcolor': '#c33b4e',

        'product_margin': 20,

        'product_show_title': true,

        'show_title_in_popup': true,

        'show_selected_title': true,

        'show_icons': true,

        'buttons_margin': 15,

        'buttons_align': 'center', // left, center, right

        'slide_duration': 800,

        'slide_easing': 'easeOutQuart',

        'arrow_duration': 800,

        'arrow_easing': 'easeInOutQuart',

        'video_width_height': [500,290],

        'iframe_width_height': [500,330]

        }

    );

});//ready

</script> 
```

我们已经在尝试`'product_show_title': true,`将

```
'product_show_title': false, 
```

但它不适合我。所以请指教..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:23:57.970

插件初始化后正确设置标题和图标的不透明度。

```
 //define custom parameters
    $.bookshelfSlider('#bookshelf_slider', {
        'item_width': 605,
        'item_height': 720,
        'products_box_margin_left': 30,
        'product_title_textcolor': '#ffffff',
        'product_title_bgcolor': '#c33b4e',
        'product_margin': 30,
        'product_show_title': true,
        'show_title_in_popup': true,
        'show_selected_title': true,
        'show_icons': true,
        'buttons_margin': 15,
        'buttons_align': 'center', // left, center, right
        'slide_duration': 800,
        'slide_easing': 'easeInOutExpo',
        'arrow_duration': 800,
        'arrow_easing': 'easeInOutExpo',
        'video_width_height': [600,600],
        'iframe_width_height': [600,600]
        }
    );

$(".show_hide_titles, .show_hide_icons").css('opacity','0.5');
$(".product_title, .icons_sprite").css('opacity','0'); 
```

**[演示](http://jsfiddle.net/maheshsapkal/A8s4f/)**

# php - Paypal 如何从我的网站购买商品/服务

> ID：15872032
> 
> 赞同：-1
> 
> 时间：2013-04-08T05:44:49.897
> 
> 标签：php, paypal, paypal-ipn

我是 Paypal、IPN 等的新手。有人可以向我解释如何跟踪从我的网站购买的商品/服务的分步过程，直到我何时更新我的​​数据库以了解交易发生的过程。

到目前为止，我所知道的是`payer_id`，当用户从我的网站上购买完商品/服务后，我会在 IPN 帖子中回复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T05:49:21.403

一张图片胜过一千个单词，因此请查看下面的图片以了解其工作原理。顺便说一句，如果你谷歌你可以找到更多的细节。

![在此处输入图像描述](https://i.stack.imgur.com/AuPsp.gif)

![在此处输入图像描述](https://i.stack.imgur.com/QnRDA.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T05:57:15.400

贝宝文档对此非常有用。该过程从 IPN 回发触发您的脚本开始。脚本需要做的第一件事是验证 IPN 是否合法。这包括检查 TXN_ID 是否以前没有被看到以及其他一些事情，然后您向贝宝服务发送请求以验证该请求确实是真实的。[这一切都在这里。](https://www.paypal.com/au/cgi-bin/webscr?cmd=p/acc/ipn-info-outside)

从那里你的脚本做什么是特定于你的应用程序的。它会修改库存数据库吗？大概。它会向客户发送电子邮件吗？也许。它是否应该从贝宝访问订单信息并将其写入客户订单数据库？大概。您应该[使用 Paypal API](https://developer.paypal.com/webapps/developer/docs/classic/)与您的帐户交互并检索信息或执行操作来结帐。

[这是关于使用 PHP 实现 paypal IPN 的一个很好的资源。](http://www.micahcarrick.com/paypal-ipn-with-php.html)我希望我在编写 paypal 集成内容时拥有它。

[Paypal IPN 手册](https://www.paypalobjects.com/webstatic/en_US/developer/docs/pdf/ipnguide.pdf)对此非常宝贵。

# drupal - 搜索结果显示没有片段 solr drupal

> ID：15872037
> 
> 赞同：0
> 
> 时间：2013-04-08T05:45:15.577
> 
> 标签：drupal, solr

![在此处输入图像描述](https://i.stack.imgur.com/rUZPP.png)

你好，

我有一个 drupal 7 ，带有 solr 附件模块的 apache solr 集成模块。我以前从未收到过该通知，但我很困惑为什么没有显示搜索片段。查看了通知中提到的代码并执行了 print_r($snippets) 并发现该片段在变量中的位置并且没有显示在搜索结果中。这可能是什么原因？

solrconfig.xml

```
<requestHandler name="drupal" class="solr.SearchHandler" default="true">
 <lst name="defaults">
   <str name="defType">dismax</str>
   <str name="echoParams">explicit</str>
   <bool name="omitHeader">true</bool>
   <float name="tie">0.01</float>
     <str name="pf">
       content^2.0
     </str>
   <int name="ps">15</int>
   <!-- Abort any searches longer than 4 seconds -->
   <!-- <int name="timeAllowed">4000</int>  -->
   <str name="mm">1</str>
   <str name="q.alt">*:*</str>

   <!-- example highlighter config, enable per-query with hl=true -->
   <str name="hl">true</str>
   <str name="hl.fl">content</str>
   <int name="hl.snippets">1</int>
   <str name="hl.mergeContiguous">true</str>
   <!-- instructs Solr to return the field itself if no query terms are
    found -->
   <str name="f.content.hl.alternateField">teaser</str>
   <str name="f.content.hl.maxAlternateFieldLength">256</str>
   <!-- JS: I wasn't getting good results here... I'm turning off for now
    because I was getting periods (.) by themselves at the beginning of
    snippets and don't feel like debugging anymore.  Without the regex is
    faster too -->
    <!--<str name="f.content.hl.fragmenter">regex</str>--> <!-- defined below -->

  <!-- By default, don't spell check -->
     <str name="spellcheck">false</str>
  <!-- Defaults for the spell checker when used -->
    <str name="spellcheck.onlyMorePopular">false</str>
    <str name="spellcheck.extendedResults">false</str>
    <!--  The number of suggestions to return -->
    <str name="spellcheck.count">1</str>
  </lst>
  <arr name="last-components">
   <str>spellcheck</str>
  </arr>
 </requestHandler> 
```

这是 apachesolr_attachments.module 中通知中的代码

```
enter code here
function theme_apachesolr_search_snippets__file($vars) {
  $doc = $vars['doc'];
  $snippets = $vars['snippets'];
  $parent_entity_links = array();

   // Retrieve our parent entities. They have been saved as
   // a small serialized entity
 foreach ($doc->zm_parent_entity as $parent_entity_encoded) {
 $parent_entity = (object) drupal_json_decode($parent_entity_encoded);
 $parent_entity_uri = entity_uri($parent_entity->entity_type, $parent_entity);
 $parent_entity_uri['options']['absolute'] = TRUE;
 $parent_label = entity_label($parent_entity->entity_type, $parent_entity);
 $parent_entity_links[] = l($parent_label, $parent_entity_uri['path'],     $parent_entity_uri['options']);
 }

if (module_exists('file')) {
  $file_type = t('!icon @filemime', array('@filemime' => $doc->ss_filemime, '!icon' => theme('file_icon', array('file' => (object) array('filemime' => $doc->ss_filemime)))));
}
else {
   $file_type = t('@filemime', array('@filemime' => $doc->ss_filemime));
}
//print_r($snippets);echo "\n";
return implode(' ... ', $snippets) . '<span>' . $file_type . ' <em>attached to:</em>' .  implode(', ', $parent_entity_links) . '</span>'; 
```

}

架构.xml

```
<field name="id" type="string" indexed="true" stored="true" required="true" />
<field name="name" type="string" stored="true" indexed="true"/> 
<!-- entity_id is the numeric object ID, e.g. Node ID, File ID -->
<field name="entity_id"  type="long" indexed="true" stored="true" />
<!-- entity_type is 'node', 'file', 'user', or some other Drupal object type -->
<field name="entity_type" type="string" indexed="true" stored="true" />
<!-- bundle is a node type, or as appropriate for other entity types -->
<field name="bundle" type="string" indexed="true" stored="true"/>
<field name="bundle_name" type="string" indexed="true" stored="true"/>
<field name="text" type="text" stored="true" indexed="true"/>   
<field name="site" type="string" indexed="true" stored="true"/>
<field name="hash" type="string" indexed="true" stored="true"/>
<field name="url" type="string" indexed="true" stored="true"/>
<!-- label is the default field for a human-readable string for this entity (e.g. the  title of a node) -->
<field name="label" type="text" indexed="true" stored="true" termVectors="true" omitNorms="true"/>
<!-- The string version of the title is used for sorting -->
<copyField source="label" dest="sort_label"/>
<!-- content is the default field for full text search - dump crap here -->
<field name="content" type="text" indexed="true" stored="true" termVectors="true"/>
<field name="content_type" type="string" indexed="true" stored="true" multiValued="true"/>
<field name="teaser" type="text" indexed="false" stored="true"/>
<field name="language" type="text_en" stored="true" indexed="true"/>
<field name="path" type="string" indexed="true" stored="true"/>
<field name="path_alias" type="text" indexed="true" stored="true" termVectors="true" omitNorms="true"/>
<field name="created" type="string" indexed="true" stored="true" termVectors="true"/>
<field name="Question" type="text" indexed="true" stored="true" termVectors="true"/>
<field name="Response" type="text" indexed="true" stored="true" termVectors="true"/>
<field name="Module" type="text" indexed="true" stored="true" termVectors="true"/>
<field name="Meets" type="text" indexed="true" stored="true" termVectors="true"/>
<field name="cat" type="string" indexed="true" stored="true" termVectors="true"/> 
```

有什么建议可以摆脱通知以及显示片段吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T09:49:10.480

我替换`return implode(' ... ', $snippets)`为`return implode(' ... ', $snippets['content'])`它，它对我有用。

我不能保证不会出现问题。总之值得一试。

# android - 点击图片查看

> ID：15872039
> 
> 赞同：0
> 
> 时间：2013-04-08T05:45:17.200
> 
> 标签：android, android-intent, android-widget

我想制作一个游戏，当用户单击所有图像视图时，布局会进入另一个层次。到目前为止，我找不到正确的代码。你能帮帮我吗？

这是我的一些代码。

```
ChairA1.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
             ChairA1.setImageResource(R.drawable.chair);

        }
    });

     ChairA2.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                 ChairA2.setImageResource(R.drawable.chair);

            }
        });

     ChairA3.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                 ChairA3.setImageResource(R.drawable.chair);

            }
        });

     ChairA4.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                 ChairA4.setImageResource(R.drawable.chair);

            }
        });

 //here i where i would put the codes 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T05:47:44.630

单击图像时开始新活动

```
ChairA1.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
             ChairA1.setImageResource(R.drawable.chair);
             Intent intent = new Intent(activity.this,new.class);
             startActivity(intent);

        }
    }); 
```

# php - 如何在mysql中存储html代码？

> ID：15872047
> 
> 赞同：-2
> 
> 时间：2013-04-08T05:45:46.640
> 
> 标签：php, mysql

我想在mysql数据库中存储一些html代码，我以前没有这样做过，在db中存储html的正确方法是什么？

```
$html_code='<div class="hello"><p>hello world</p></div>';

// database table
part_name | html_code
hello | ?? 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T06:05:39.260

我的建议是使用[htmlpurifier](http://htmlpurifier.org/)为您完成，清理输入并删除所有恶意代码

否则，您必须编写一个函数，例如`remove_special_chars($string)`删除特殊字符`<` `>` `"`并将其替换为`&lt;`, `&gt;`, `&quot;`... 之类的内容，然后保存到您的数据库中。并且在从 db 读取数据后，使用类似`add_special_chars($string)`反之亦然的功能来显示内容。这并不容易而且仍然不可靠

# magento - 如何在magento中使用元标记关键字作为url？

> ID：15872049
> 
> 赞同：2
> 
> 时间：2013-04-08T05:45:58.343
> 
> 标签：magento, meta-tags

在我的 magento 商店中，需要在**Side bar中将 meta 标签实现为****url**。

 **我的商店有两种类别。命名为 X 和 Y。

我需要得到这种类型的结果。

*   **X** -> 类别**X**

    -x1 -x2 -x3

-> Catogery **X**关键字需要作为 url

*   **Y** -> **Y类**

    -y1 -y2 -y3

-> 类别**Y**关键字需要作为 url

帮我解决这个问题。

现在我正在使用这段代码

```
<div class="right-tab-middle">

<?php $_helper = Mage::helper('catalog/category') ?>

<?php $_categories = $_helper->getStoreCategories() ?>

<?php $currentCategory = Mage::registry('current_category') ?>

<?php if (count($_categories) > 0): ?>

<ul style="overflow:hidden;">

<div style="color:#BE0171;text-decoration:underline; font-size:16px; font-weight:bold;">Shop by:</div>

<!--    <?php foreach($_categories as $_category): ?>

<li style="margin:10px 0px; ">                                                  

<a style="color:#BE0171; text-decoration:none;" href="<?php echo $_helper->getCategoryUrl($_category) ?>">

<?php echo $_category->getName() ?>

</a>

<?php $_category = Mage::getModel('catalog/category')->load($_category->getId()) ?>
<?php $_subcategories = $_category->getChildrenCategories() ?>

<?php if (count($_subcategories) > 0): ?>

<ul>

<?php foreach($_subcategories as $_subcategory): ?>

<li style="margin:5px 0px 5px 10px; ">

<a style="color:#BE0171; text-decoration:none;" href="<?php echo $_helper->getCategoryUrl($_subcategory) ?>">

<?php echo $_subcategory->getName() ?><br />

</a>

</li>

<?php endforeach; ?>

</ul>

<?php endif; ?>

</li>

<?php endforeach; ?> -->

<?php 
$connection = Mage::getSingleton('core/resource')->getConnection('core_read');
$sql        = "SELECT GROUP_CONCAT( value SEPARATOR ' ' ) as keywords FROM mag_catalog_product_entity_text WHERE attribute_id=(SELECT attribute_id FROM mag_eav_attribute WHERE attribute_code='meta_keyword')" ;
$rows       = $connection->fetchAll($sql);

$metaKeywords = $rows[0]['keywords'];

//strip white space and replace with _
$str = preg_replace('/\s+/', ' ',$metaKeywords);
//$str = str_replace(' ','*',$metaKeywords);

$arr = explode(" ", $str);
$arr = array_count_values($arr);
arsort($arr);

$i = 0;

foreach($arr as $data => $val)
{   
if($i<=30)
{

?>

<li style="margin:10px 6px 10px 0px; float:left!important; ">                                                   
<a href="<?php echo $this->getUrl('keywords/view/products/key/') ?><?php echo $data; ?>" style="color:#BE0171; text-decoration:none;">  <?php echo $data; ?>            
</a>                    
</li>

<?php

$i++;
}
else
{
break;
}
}

?>

</ul>

<?php endif; ?>             

</div> 
```

**XY**

-x1-y1-x2-y2 -> 所有关键字都显示在此代码中。

但我需要执行上述命令。**

# c - fscanf 问题，每次需要一个字符

> ID：15872054
> 
> 赞同：0
> 
> 时间：2013-04-08T05:46:21.363
> 
> 标签：c, scanf

当我尝试使用 fscanf 读取包含 `PIZZA CHIPS BURGERS`作为其中一行的文本文件时。我正在尝试将它们添加到变量中，但一次只需要一个字母。

```
if (infile) {
    while (fscanf(infile, "%c", &cit) > 0) {
        printf("%c\n",cit); 
```

如何让它使用 PIZZA 而不是 PIZZA？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T05:58:52.670

```
char word[256];

if (infile)
{
    while (fscanf(infile, "%255s", word) == 1)
        printf("Word: %s\n", word);
} 
```

请注意，如果您想一次读入一整行、空格和所有内容，那么您将使用`fgets()`：

```
char line[4096];

if (infile)
{
    while (fgets(line, sizeof(line), infile) != 0)
        printf("Line: %s", line);
} 
```

注意：`fgets()`除非行太长以至于必须截断，否则保留换行符，因此`printf()`格式不需要自己的换行符。`fgets()`一般来说，使用and`sscanf()`比只使用`scanf()`or更容易控制输入`fscanf()`。特别是，您通常可以提供更好的错误诊断，因为您拥有用户键入的所有内容。如果有必要，您也可以尝试其他格式。

# android - 在按钮单击事件上设置布局可见性

> ID：15872055
> 
> 赞同：1
> 
> 时间：2013-04-08T05:46:26.873
> 
> 标签：android, visibility, tablelayout, buttonclick

我是 android 新手，我无法解决我的简单问题。我有一个父 Tablelayout，在其中我有两个 tablelayout，分别在我的 xml 文件中的 ids tbl1 和 tbl2。在 tbl1 布局中，我有三个 textviews 和三个 edittext 控件类似我在 tbl2 布局中有一些视图。现在我希望我的 tbl1 布局在我的活动开始时可见，但是单击 tbl1 布局中的 button2 我的 tablelayout tbl1 变得不可见并且我的 tablelayout tbl2 变得可见。实际上我知道我可以实现在面板的帮助下，这在 asp.net 中，但在 android 中我无法实现相同的目标。请帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:47:28.740

您将要查看该`setVisibility()`方法。在按钮 2 的点击监听器中，输入以下内容；

```
Button.setVisibility(View.INVISIBLE)
TextView.setVisibility(View.INVISIBLE)
etc... 
```

这将使视图不可见，但它们仍会占用空间。如果您不希望它们占用空间，则应使用

```
setVisibility(Veiw.GONE); 
```

最后，要使第二个表中的按钮和 textview 和 edittexts 出现，您需要执行以下操作；

```
setVisibility(View.VISIBLE); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-30T03:09:10.127

```
Java Code:
 @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.visibility_1);

        // Find the view whose visibility will change
        mVictim = findViewById(R.id.victim);

        // Find our buttons
        Button visibleButton = (Button) findViewById(R.id.vis);
        Button invisibleButton = (Button) findViewById(R.id.invis);
        Button goneButton = (Button) findViewById(R.id.gone);

        // Wire each button to a click listener
        visibleButton.setOnClickListener(mVisibleListener);
        invisibleButton.setOnClickListener(mInvisibleListener);
        goneButton.setOnClickListener(mGoneListener);
    }

    OnClickListener mVisibleListener = new OnClickListener() {
        public void onClick(View v) {
            mVictim.setVisibility(View.VISIBLE);
        }
    };

    OnClickListener mInvisibleListener = new OnClickListener() {
        public void onClick(View v) {
            mVictim.setVisibility(View.INVISIBLE);
        }
    };

    OnClickListener mGoneListener = new OnClickListener() {
        public void onClick(View v) {
            mVictim.setVisibility(View.GONE);
        }
    };
}

XML Code:

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <LinearLayout
      android:orientation="vertical"
      android:background="@drawable/box"
      android:layout_width="match_parent"
      android:layout_height="wrap_content">

      <TextView
          android:background="@drawable/red"
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:text="@string/visibility_1_view_1"/>

      <TextView android:id="@+id/victim"
          android:background="@drawable/green"
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:text="@string/visibility_1_view_2"/>

      <TextView
          android:background="@drawable/blue"
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:text="@string/visibility_1_view_3"/>

    </LinearLayout>

    <LinearLayout
        android:orientation="horizontal"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content">

        <Button android:id="@+id/vis"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/visibility_1_vis"/>

        <Button android:id="@+id/invis"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/visibility_1_invis"/>

        <Button android:id="@+id/gone"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/visibility_1_gone"/>

    </LinearLayout>
</LinearLayout> 
```

# iphone - 将参数 2 传递给 glBindRenderbuffer 从指针生成整数而不进行强制转换

> ID：15872060
> 
> 赞同：0
> 
> 时间：2013-04-08T05:46:51.223
> 
> 标签：iphone

我正在使用 制作一个简单的程序`OpenGL ES`，但收到警告

> “将参数 2 传递给 glBindRenderbuffer 从指针生成整数而不进行强制转换”

由于我是 OpenGL ES 的新手，因此无法修复此警告。请帮我修复它。这是我的代码

```
-(void)setupRenderbuffer
{
     glGenRenderbuffers(1, colorRenderBuffer);
    glBindRenderbuffer(GL_RENDERBUFFER, colorRenderBuffer);
    [context renderbufferStorage:GL_RENDERBUFFER fromDrawable:eaglLayer];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T04:27:18.443

我得到了答案……有一个小的打字错误……这段代码应该是这样的……

```
-(void)setupRenderbuffer
{
    glGenRenderbuffers(1, &colorRenderBuffer);
    glBindRenderbuffer(GL_RENDERBUFFER, colorRenderBuffer);
    [context renderbufferStorage:GL_RENDERBUFFER fromDrawable:eaglLayer];
} 
```

# google-maps-api-3 - 如何使用 google map api 查找沿途地点？

> ID：15872066
> 
> 赞同：15
> 
> 时间：2013-04-08T05:47:14.787
> 
> 标签：google-maps-api-3, google-places-api, google-directions-api

如果您使用 google.maps.DirectionsService() 获取路线（例如从兰斯到巴黎）。现在，我们如何才能获得可以在这条路线上/沿这条路线找到的所有地点（例如搜索酒店、餐馆或加油站）（稍后将作为标记添加到地图中，连同路线的信息一起）。

谷歌搜索了很多之后，没有发现任何有用的东西。Google 有关于此类查询的简短信息，例如[http://support.google.com/gmm/bin/answer.py?hl=en&answer=165392&topic=1650221&ctx=topic](http://support.google.com/gmm/bin/answer.py?hl=en&answer=165392&topic=1650221&ctx=topic)

非常感谢任何帮助。

**更新** 发现了一些类似的问题但不满意的问题或有答案：

1.  [链接 1](https://stackoverflow.com/questions/4858384/how-to-find-location-along-a-route-with-google-maps)
2.  [链接 2](https://stackoverflow.com/questions/5382510/how-to-find-the-location-between-two-places)
3.  [链接 3](https://stackoverflow.com/questions/13753674/how-do-i-show-places-in-google-maps-api-v3-and-google-places-api-between-two-p)

# java - 查找我需要的 Java 文档

> ID：15872067
> 
> 赞同：0
> 
> 时间：2013-04-08T05:47:28.230
> 
> 标签：java

我找了半个下午寻找类似于 MSDN for Java 的东西。我找到的最接近的是：[http](http://docs.oracle.com/javase/7/docs/api/index.html) ://docs.oracle.com/javase/7/docs/api/index.html 。这是一个非常有用的地方，我已经引用过很多次了。

我的主要问题是试图找到东西（例如 - `arrayName.length()`）我一直试图`.length()`在文档中找到那部分。我查看了这个`Objects`类，所有的`array`类，`attributes`（有很多同名的类，我可能没有意识到就跳过了十几个），以及其他一些随机类。当我在官方文档中找不到简单的方法时，我的学习方式变得很困难，尽管它是自我解释的。

当我学习 C# 时，我所要做的就是谷歌“键盘事件 C#”，而 MSDN 给了我：http: [//msdn.microsoft.com/en-us/library/windows/desktop/ms646304 (v=vs.85 ).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms646304(v=vs.85).aspx)，然后结合下一个链接是一个 stackoverflow 帖子，我有我想要的所有信息，包括示例、参数和示例。

如何在 Java 文档中找到如此简单的答案？我想我是在问如何钓鱼，就文档而言。

ps - 这就是我能找到的所有内容，它没有回答我的任何问题（比如“我还能在数组或字符串的末尾添加什么？”）。

```
getLength
public static int getLength(Object array)
                 throws IllegalArgumentException
Returns the length of the specified array object, as an int.
Parameters:
     array - the array
Returns:
     the length of the array
Throws:
     IllegalArgumentException - if the object argument is not an array 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T05:53:31.490

尝试在您的 IDE 中正确设置 JDK javadoc，如果您使用的是 eclipse，您可以关注此线程：[Eclipse Helios not shown Javadoc](https://stackoverflow.com/questions/9556938/eclipse-helios-not-showing-javadoc)

通过基本的 java 教程对基本的 Java API 和框架和各种库充满信心，总是下载带有 jar 的 javadoc 并搜索我很快找到的 Apache Commons IO 的食谱/教程：http: [//commons.apache.org/proper/ commons-io/description.html](http://commons.apache.org/proper/commons-io/description.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T05:54:38.730

在 javadocs 中，您可以找到特定类的所有方法和属性。数组是java中的特殊对象，它们有一个名为length的简单属性，它是final。

数组没有“类定义”（在任何 .class 文件中都找不到），**它们是语言本身的一部分。**

我建议您阅读 java 语言教程来了解这些内容。

[http://docs.oracle.com/javase/tutorial/java/](http://docs.oracle.com/javase/tutorial/java/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T05:59:12.080

如果您知道它应该附加到的对象，那么它很容易找到。

如果你不这样做，那么在所有方法的右侧附近的顶部都有一个索引（如果你不知道你想要什么对象）。

最常见的方法是在遇到困难时使用 eclipse 并按 ctrl-space，这成为第二天性，并且是迄今为止最有用的解决方案。

如果您说“arrayName.[ctrl-space]”，您会看到一个带有“length”的列表作为可能性之一。（同样，如果您说“listName.[ctrl-space]”，则列表将包含 size() 而不是长度，因为列表，令人讨厌的是，不要使用与数组相同的名称来表示大小，hmph。

# java - 两个动作合二为一的onlongclick侦听器android按钮

> ID：15872070
> 
> 赞同：1
> 
> 时间：2013-04-08T05:47:37.723
> 
> 标签：java, android, onlongclicklistener

我对android开发很陌生，我刚开始学习。很抱歉这个简单的问题。

当我长按按钮时，它会成功传递字符串，但是当我释放按钮单击时，它不会传递第二个字符串......请让我知道问题出在哪里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:00:23.140

如果您希望两个事件在 ACTION_DOWN 和另一个在 ACTION_UP 时触发，则长按仅触发一次使用 onTouchListener。

编辑：仅当您希望在用户触摸视图时触发两个事件时使用此选项，而当用户从视图中抬起手指时触发另一个事件。代码可以是这样的......

```
textView.setOnTouchListener(new onTouchListener)
{
@Override
    public boolean onTouch(View v, MotionEvent event) {

        switch (event.getAction()){
        case MotionEvent.ACTION_DOWN:
            Log.d("DOWN","DOWN");
        break;

        case MotionEvent.ACTION_MOVE:
            Log.d("MOVE","MOVE");
        break;

        case MotionEvent.ACTION_UP:
        break;
        }
      return true;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:14:43.073

您好，您可以使用 @pervez 其他方式`ToggleButton`，例如您可以像这样使用。

```
 ToggleButton myButton=(ToggleButton)findViewById(R.id.myToggle);
    myButton.setOnClickListener(new OnClickListener(){
    @Override
    public void onClick(View v){
    if(myButton.isChecked()){
    doYourMethod1();
    }else{
    doYourMethod2();
}
    }); 
```

# c++ - 在 C++ 中返回后更改返回的指针

> ID：15872079
> 
> 赞同：0
> 
> 时间：2013-04-08T05:48:13.400
> 
> 标签：c++, pointers

我在这个函数中返回一个指向内存块的 void* 指针：

内存.cpp：

```
int mem[1000];
int* pointers[100];
int start_index = 100;

void* allocate(int size) {
    pointers[0] = &mem[start_index];
    return (void *) pointers[0];
} 
```

主.cpp：

```
int* arr = (int*) allocate(50); // allocate array of size 50 starting at mem[100]
arr[0] = 62;                    // changes mem[100] to 62 
```

现在说我想让这个函数的用户使用内存数组的不同位置，而不通知分配函数的用户（假设我们丢失数据没问题）。

我不能这样做吗？

内存.cpp：

```
pointers[0] = &mem[200]; 
```

在 memory.cpp 中执行此行后，我想`arr[0]`指向`mem[200]`. 在不改变分配函数原型的情况下这可能吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T05:54:34.687

是的，您可以随时更改指针以指向其他内容。

但是，这只会更改您分配给的指针，而不是使用旧指针的其他位置。因此，如果某些代码保存了`allocate`函数的返回值，并且您稍后更改`pointers[0]`为指向其他内容，则旧保存的指针不会更改。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T05:55:16.433

不，你不能。您需要返回一个指向指针的指针 ( `void**`)，并让函数的客户端绝对清楚，`allocate`不允许他们为内存创建别名。无论如何，这是一个*非常*糟糕的主意，您会遇到左右问题（例如，如果您的客户端使用就地`new`在该内存中分配非 POD 对象怎么办？）

# javascript - 如何在Java Script字符串不区分大小写函数中使字符串不区分大小写

> ID：15872083
> 
> 赞同：0
> 
> 时间：2013-04-08T05:48:53.533
> 
> 标签：javascript, html

我正在搜索用户从数组中输入的数据，它工作正常，但它区分大小写我想删除这个区分大小写的

```
 else if(document.getElementById('drop_down_list_1').value=="Beef"){
    if(document.getElementById('search_input').value==""){
    alert("Please Enter a charactor / word..");
     return false;
    }
    else{
    var con = document.getElementById('first_div');
    var con2 = document.getElementById('first_div2');
    var char = document.getElementById('search_input').value;
    var str = '';
    var j = 0;
    var ad = ['CLARIFIDE Deadlines 2012 - 2013 Nov','C','REPRODUCTIVE VACCINES — REPRODUCTIVE CLAIMS','M','M', 'R'];
   var len = ad.length;
   //var break_line = '<br>';
   for (j=0; j<len; j++) {
   var str = ad[j];
   var n=str.indexOf(char);
    if (n == 0)
    con.innerHTML += '<table id="results" width="920" border="1" style="margin:-30px 0 0 -10px;">      <tr><td>'
          + str
           + '</td><td colspan="4" align="right"><a href="presenter.command(\'viewPdf\',  {\'path\':%20\'/images/pdf/Beef/'+j+'.pdf\'});"><img src="images/view.png" style="margin-left:250px;">   </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/email.png"></td></tr><tr><td></td><td colspan="4" align="right"></td></tr><tr><td></td><td colspan="4" align="right"></td></tr><tr><td></td><td colspan="4" align="right"></td></tr><tr><td></td><td colspan="4" align="right"></td></tr><tr><td></td><td colspan="4" align="right"></td></tr></table>'
        //+ break_line;
        //break_line = '<br>';
   }
  }
  } 
```

那么如何使搜索不区分大小写。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T05:51:10.323

比较字符串时，使其“不区分大小写”的一个选项是调用`.toUpperCase()`两个字符串：

```
if (var1.toUpperCase() === var2.toUpperCase()) {
    // They match!
} 
```

# iphone - 如何知道 iOS 设备是通过 USB 还是 Wall Port Charger 连接的？

> ID：15872085
> 
> 赞同：4
> 
> 时间：2013-04-08T05:49:10.290
> 
> 标签：iphone, ios, ios5, ios6, ios6.1

我很想知道 iOS 中是否有任何可能性，通过它我们可以知道设备是通过 USB 电缆还是 Wallport 连接的。换句话说，我希望我的应用程序显示设备是通过 USB 电缆还是壁式端口充电。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T05:56:43.017

来自[UIDevice](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIDevice_Class/Reference/UIDevice.html)类参考

```
 UIDeviceBatteryStateDidChangeNotification
    Posted when battery state changes.
    For this notification to be sent, you must set the batteryMonitoringEnabled property to YES.

    You can obtain the battery state by getting the value of the batteryState property. 
```

当您收到通知时必须检查

```
UIDeviceBatteryState == UIDeviceBatteryStateUnplugged 
```

枚举

```
UIDeviceBatteryState
The battery power state of the device.

typedef enum {
   UIDeviceBatteryStateUnknown,
   UIDeviceBatteryStateUnplugged,
   UIDeviceBatteryStateCharging,
   UIDeviceBatteryStateFull,
} UIDeviceBatteryState; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-24T07:34:58.193

这是不可能的——而且可能没有充分的理由依赖它。

想想许多不同类型的计算机，打开和关闭，安装和未安装软件，用户登录或注销，以及数百种不同的充电器型号、USB 集线器，甚至屏幕都带有 USB。

# php - 去除 XML 前的换行符会留下空格——正确的方法是什么？

> ID：15872092
> 
> 赞同：0
> 
> 时间：2013-04-08T05:49:32.077
> 
> 标签：php, xml

我想知道从以 XML 为目标的 PHP 字符串中去除换行符的建议方法。使用以下方法，我的 XML 标记之间留有 2-4 个不同的空格。

```
$current = $xml->saveXML();
$current = str_replace(array("\r\n", "\r", "\n"), "", $current); 
```

删除换行符的正确语法是什么，以便 XML 标记端到端显示，而不在它们之间添加空格？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T08:29:31.920

首先是一些基本的东西：`$xml->saveXML()`建议您使用 SimpleXML。它在其输出中只使用一个行分隔符：`"\n"`.

所以搜索`"\r\n"`and`"\r"`是错误的。也使用`str_replace()`不是一个好主意，您应该[`strtr()`](http://php.net/strtr)改用：

```
$current = strtr($current, array("\n" => '')); 
```

由于*这只*替换了换行符，因此此处不会删除或更改 XML 元素之间的空格字符。

但是，这些空格字符很大程度上取决于您输入的 XML。在 XML 中，您可以有重要的（删除它会失败）和不重要的空白（保存以删除），但*Simplexml*或*DOMDocument*不（也不能）知道哪个是哪个。

由于图书馆本身不知道，因此需要告诉他们的是您。例如，您似乎正在寻找所有文本节点的修剪。由于*SimpleXMLElement*不允许访问文本节点，*因此*您需要使用*DOMXPath*。但不要害怕，它并没有那么复杂：

```
$doc   = dom_import_simplexml($xml)->ownerDocument;
$xpath = new DOMXPath($doc);
foreach ($xpath->query('//text()') as $text) {
    $text->data = trim($text->data);
} 
```

这只是按文档顺序遍历所有文本节点并修剪它们。

然后您只需要获取以文档元素开头的 XML。这将去掉 XML 声明和任何前面的注释和处理指令（我假设你想要那个）：

```
$current = $doc->saveXML($doc->documentElement); 
```

如果不是，则适用上面的行分隔符规则。然后，您可以：

```
$current = $xml->saveXML();
$current = strtr($current, array("\n" => '')); 
```

就是这样。我希望这是有帮助的。

# java - 即使文件在目录中，迭代文件也会给出 File not found 异常。你能告诉我为什么吗？谢谢

> ID：15872093
> 
> 赞同：0
> 
> 时间：2013-04-08T05:49:46.527
> 
> 标签：java, file-io, iteration

```
public static void main(String[] args) 
{
    try
    {
        File dir = new File("D:\\WayneProject\\Logs");

        if(dir.isDirectory())
        {   
            for(File child: dir.listFiles()) //NOT WORKING AFTER 1 ITERATION
            {
                if(child.isFile())
                {
                    String currentFile = child.getName();
                    String[] fileOutput = currentFile.split("\\.");
                    processFile(currentFile,fileOutput[0]);
                }
            }
        }
    } 
```

请检查评论。即使文件在目录中，迭代文件也会给出 File not found 异常（对于第二次迭代）。你能告诉我为什么吗？谢谢

我的其他功能。fileOutput 用于设置目标文件的名称：

```
public static void processFile(String fileName, String fileOutput)
{
    try 
    {
        BufferedReader br = new BufferedReader(new FileReader(fileName));
        String str = null;

        File fileDest1 = new File("D:\\" + fileOutput + "1.csv");
        BufferedWriter wr1 = new BufferedWriter(new FileWriter(fileDest1));

        File fileDest2 = new File("D:\\" + fileOutput + "2.csv");
        BufferedWriter wr2 = new BufferedWriter(new FileWriter(fileDest2));

        wr1.write("Date, Memory Free\n");
        wr2.write("Date, %Idle\n");

        while((str=br.readLine()) != null)
        {
            String[] st = str.split("\\s+");  

        if (st[0].equals("MemFree:"))
        {
            wr1.write(st[1] + ",\n");
        }

        if(isDouble(st))
        {
            wr2.write(st[6] + "," + "\n");
        }

        if(isDate(st[0]))
        {
            String subStr = str.substring(0, 20);
            wr1.write(subStr + ",");
            wr2.write(subStr + ",");
        }

    }

        br.close();
        wr1.close();
        wr2.close();
    } 
    catch (FileNotFoundException e) 
    {
        e.printStackTrace();
    }
    catch(IOException e)
    {
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:00:01.533

我怀疑这是两个方面的问题：

```
String currentFile = child.getName();
String[] fileOutput = currentFile.split(".");
processFile(currentFile,fileOutput[0]); 
```

*   `getName()`仅返回文件名的*最后*一部分 - 目录中的名称。因此，除非您的`processFile`部分然后将目录部分*放回*，否则您将要求它处理当前工作目录中的文件。
*   `split`接受一个正则表达式。通过提供`.`正则表达式，您将拆分*每个字符*。我强烈怀疑您实际上想要`currentFile.split("\\.")`哪个实际上会分裂在一个点上。

你没有给出任何迹象表明`processFile`正在做什么，但我怀疑其中至少一个是根本原因，可能两者兼而有之。

值得退后一步，在这里查看您的诊断信息。如果您查看传递给您的内容，`processFile`您应该能够理解问题所在 - 这不是文件系统的问题，而是您如何计算`processFile`. 能够诊断出这样的错误是软件开发中*非常*重要的一部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:00:21.473

你的代码对我来说很好。您可能遇到的错误是在 processFile 函数中，您正在从不存在的文件名创建文件对象。然后可能会尝试读取文件的内容，这可能会引发 FileNotFoundException。只需评论 processFile 函数，您的代码就可以工作。

# matlab - 如何在 MATLAB 中为矩阵的特定位置赋值？

> ID：15872094
> 
> 赞同：7
> 
> 时间：2013-04-08T05:49:48.607
> 
> 标签：matlab, matrix, variable-assignment

我对 Matlab 不是很熟悉，所以提前为这个愚蠢的问题道歉。我想将数字 1 分配给矩阵的某些特定位置。我有一个行向量和相应的列向量。我多次尝试为这些位置分配值。但是，它没有用。这是一个较小尺寸的代码示例。假设有一个 4*4 矩阵，我想将矩阵（1,1）、矩阵（2,3）和矩阵（3,4）分配给 1。这就是我所做的。

```
matrix = zeros(4,4);
row = [1 2 3];
col = [1 3 4];
matrix(row,col)=1; 
```

但是，我得到的答案是

```
matrix=[ 1 0 1 1
         1 0 1 1
         1 0 1 1
         0 0 0 0] 
```

有人可以指出我在这里做错了什么吗？我要处理的矩阵的实际大小是数千，所以这就是为什么我不能手动一一分配这些位置的原因。有什么方法可以使用我必须分配值 1 的行向量和列向量？非常感谢你，

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-08T06:00:41.550

您可以使用`sub2ind`计算要分配的位置的线性索引并将其用于分配：

```
indices = sub2ind(size(matrix), row, col);
matrix(indices) = 1; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T05:51:43.723

```
matrix(1,1) = 1
matrix(2,3) = 1
matrix(3,4) = 1 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-12-12T19:41:47.560

有点颠簸。除非您正在做很多不连续的行或列，否则一个非常有用的方法就像

```
matrix(1:3,2:4)=1 
```

它很容易支持元素数学

这会变成

```
{0 0 0 0}
{0 0 0 0}
{0 0 0 0}
{0 0 0 0} 
```

进入

```
{0 1 1 1}
{0 1 1 1}
{0 1 1 1}
{0 0 0 0} 
```

# codeigniter - codeigniter 中的 form_radio

> ID：15872095
> 
> 赞同：0
> 
> 时间：2013-04-08T05:49:51.107
> 
> 标签：codeigniter

**通常在比例按钮中一次只能选择 1 个选项**。但在 CodeIgniter 中，我可以同时选择两者。我可以知道如何解决这个问题吗？

echo form_open ('main/signup_validation');

```
 echo "<p> Gender : ";
echo form_radio('male','male');
echo form_radio('female','female');     
echo "</p>"; 

        echo form_close(); 
```

我们是在验证部分这样做还是我可以在上面的代码中这样做？提前致谢。

**签名：[http ://www.WorldQuotes.in](http://www.WorldQuotes.in)**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T05:52:46.487

两个单选按钮的名称应该相同

```
 echo form_radio('gender','male');
  echo form_radio('gender','female'); 
```

# java - “Id 不能为零” - GoogleJsonResponseException 400 错误请求

> ID：15872096
> 
> 赞同：4
> 
> 时间：2013-04-08T05:49:57.230
> 
> 标签：java, android, google-app-engine, jpa, google-cloud-endpoints

尝试使用 GAE 中的端点检索列表时，我似乎遇到了错误。错误如下：

```
04-08 01:01:30.145: I/System.out(14650): com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request
04-08 01:01:30.145: I/System.out(14650): {
04-08 01:01:30.145: I/System.out(14650):   "code": 400,
04-08 01:01:30.145: I/System.out(14650):   "errors": [
04-08 01:01:30.145: I/System.out(14650):     {
04-08 01:01:30.145: I/System.out(14650):       "domain": "global",
04-08 01:01:30.145: I/System.out(14650):       "message": "java.lang.IllegalArgumentException: id cannot be zero",
04-08 01:01:30.145: I/System.out(14650):       "reason": "badRequest"
04-08 01:01:30.145: I/System.out(14650):     }
04-08 01:01:30.145: I/System.out(14650):   ],
04-08 01:01:30.145: I/System.out(14650):   "message": "java.lang.IllegalArgumentException: id cannot be zero"
04-08 01:01:30.145: I/System.out(14650): } 
```

这是我试图在我的端点中使用的方法：

```
@SuppressWarnings({ "cast", "unchecked"})
public List<Comercio> listComercio() {
   EntityManager mgr = getEntityManager();
   List<Comercio> result= new ArrayList<Comercio>();

   try {
      Query query = mgr.createQuery("select c from Comercio c", Comercio.class);
      for (Object obj : (List<Object>) query.getResultList()) {
        result.add((Comercio) obj);
      }
      } finally {
        mgr.close();
      }
      return result;
}
} 
```

这是实体类：

```
@Entity
public class Comercio{

@Id
private Long id;

private String title;

private String url;

private String NEWSTYPE;

public Comercio() {
}

public Long getId() {
    return id;
}

public String getTitle() {
    return title;
}

public void setTitle(String title) {
    this.title = title;
}

public String getUrl() {
    return url;
}

public void setUrl(String url) {
    this.url = url;
}

public void setNewstypeid(String newstypeid) {
    this.NEWSTYPE = newstypeid;
}

public String getNewstypeid() {
    return NEWSTYPE;
}

} 
```

这是我的 android 项目中的 AsyncTask：

```
public class AsyncDatastoreArticles extends CloudAsyncTask {

AsyncDatastoreArticles(Home activity) {
   super(activity);
}

@Override
protected void doInBackground() throws IOException {
   // TODO Auto-generated method stub

   List<Comercio> list = endpoint.listComercio().execute().getItems();
   if (list != null) {
   //DO SOMETHING
   } 

}
} 
```

请我需要帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-03T16:19:31.660

我想原因是没有设置 ID。您可以使用以下代码在您的实体类中设置自动生成的 id。

```
@Id
@GeneratedValue(strategy=GenerationType.AUTO)
private Long id; 
```

在这种情况下，还要确保不要在您的实体中保留任何 setId() 方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-31T18:35:02.460

它在本主题中被用作`Long`，但只是想再指出一次：

使用大写`Long`，`long`默认为零..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T07:43:20.757

根据错误消息，您的数据库中可能有 Id 值为 0 的记录，这将导致 JPA 出现此错误。因为根据 JPA，Id 不应该为零。

请检查数据库一次。

# django - django添加多个文件的条件

> ID：15872102
> 
> 赞同：-1
> 
> 时间：2013-04-08T05:50:23.040
> 
> 标签：django, python-2.7

我可以选择最多添加 5 个文件。

我有一个手动表格，其中我有一个上传文件的字段。

```
**models.py**
class resmodel(models.Model):
user = models.ForeignKey(User, unique=True)
fname = models.CharField(max_length=20)

file1 = models.FileField(upload_to='documents')
file2 = models.FileField(upload_to='documents')
file3 = models.FileField(upload_to='documents')
file4 = models.FileField(upload_to='documents')

file_header1 = models.CharField(max_length=50)
file_header2 = models.CharField(max_length=50)
file_header3 = models.CharField(max_length=50)
file_header4 = models.CharField(max_length=50) 
```

当我第一次提交表单时，上传的文件及其对应的 file_header 分别保存到 file1 和 file_header 中。

同样，当我第二次提交表单时，我必须检查 file1 是否已填写，如果没有，上传的文件必须保存到 file1，否则应该保存到 file2。

当我第三次提交表单时，我必须检查file1和file2是否填写，如果没有，上传的文件必须保存到file1或file2中，无论哪个为空，否则应该保存到file2。

Ans 等到 file5。

```
**views.py**
def resview(request):
if request.method == "POST":
    upload_resume = request.FILES['upload_resume']
    file_header = request.POST.get('resume_header')
    fname = request.POST.get('fname')

    if upload_resume:
        details, _ = resmodel.objects.get_or_create(user=request.user)
        if not details.file1:
            details.file1 = upload_resume
        elif not details.file2:
            details.file2 = upload_resume
        elif not details.file3:
            details.file3 = upload_resume
        elif not details.file4:
            details.file4 = upload_resume
        details.save()

    if upload_resume:
        details, _ = resmodel.objects.get_or_create(user=request.user)
        if not details.file_header2:
            details.file_header1 = file_header
        elif not details.file_header2:
            details.file_header2 = file_header
        elif not details.file_header3:
            details.file_header3 = file_header
        elif not details.file_header4:
            details.file_header4 = file_header
        details.save()

    a = resmodel(fname=fname)
    a.save()
    return HttpResponseRedirect('/profile/save/success/')
else:
    return render_to_response('resume.html') 
```

我的模板是

```
<form action="." method="post" enctype="multipart/form-data">{% csrf_token %}
<table>
    <tr>
    <td>First Name</td>
    <td><input type="text" name="fname" /></td>
</tr>
<tr>
    <td>File Header<sub>(250 words max)</sub></td>
    <td><input type="text" name="file_header"></td>
</tr>
<tr>
    <td>Upload file<sub>(.doc/.docx, rtf, pdf, txt)</sub></td>
    <td><input type="file" name="upload_resume" ></td>
</tr>
<tr>
    <td></td>
    <td>
        <input type="submit" value="SUBMIT">&nbsp;&nbsp;
        <input type="reset" value="RESET">
    </td>
</tr>
</table>
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T05:59:33.753

你需要的是一个额外的模型。

```
class js_details(models.Model):
    user = models.ForeignKey(User, unique=True)

class js_details_file(models.Model):
    js_details = models.ForeignKey(js_details)
    file = models.FileField(upload_to='documents') 
```

然后在管理界面中使用[Inlines](https://docs.djangoproject.com/en/dev/ref/contrib/admin/#inlinemodeladmin-objects)来允许上传文件，并在前端使用[Formsets](https://docs.djangoproject.com/en/dev/topics/forms/formsets/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:15:43.163

```
def resview(request):
    if request.method == "POST":
        upload_resume = request.FILES['upload_resume']
        file_header = request.POST.get('resume_header')
        fname = request.POST.get('fname')

        if upload_resume and file_header:
            details, _ = resmodel.objects.get_or_create(user=request.user, fname=fname)
            if not details.file1:
                details.file1 = upload_resume
                details.file_header1 = file_header
            elif not details.file2:
                details.file2 = upload_resume
                details.file_header2 = file_header
            elif not details.file3:
                details.file3 = upload_resume
                details.file_header3 = file_header
            elif not details.file4:
                details.file4 = upload_resume
                details.file_header4 = file_header
            details.save()

        return HttpResponseRedirect('/profile/save/success/')
    else:
        return render_to_response('resume.html') 
```

# python - 当应用程序托管在 uwsgi 上时，无法连接到自定义 TCP 端口

> ID：15872105
> 
> 赞同：0
> 
> 时间：2013-04-08T05:50:32.220
> 
> 标签：python, rpc, uwsgi

应用：Python 瓶 -> uWSGI -> nGINX

我基本上想要做的是公开我的一些类方法，以便从任何其他机器（RPC）直接访问。我开发了与[Zero RPC](http://zerorpc.dotcloud.com/)非常相似的东西。但问题是当我通过 uWSGI 运行我的应用程序时，我无法连接到我的 tcp 端口。我认为 uWSGI 会阻止直接 TCP 流量。

当我将它作为 Python 应用程序运行时它运行良好`$ python myapp.py`

我在皇帝模式下运行 uwsgi`uwsgi --emperor path/to/my/vassals/`

[编辑]

这是我的 uwsgi 附庸

```
<uwsgi>

<master>true</master>

<processes>1</processes>

<vaccum>true</vaccum>

<plugins>python</plugins>

<chmod-socket>777</chmod-socket>

<socket>127.0.0.1:8484</socket>

<uid>www-data</uid>

<gid>www-data</gid>

<pythonpath>%d../MY_APP/</pythonpath>

<module>MyApp</module>

</uwsgi> 
```

澄清我的问题，

MyApp 打开一个 TCP Socket 来公开它的一些方法。我无法连接到它。

# c++ - 如何在 Ubuntu 12.10 上获取 libboost-thread1.46

> ID：15872107
> 
> 赞同：0
> 
> 时间：2013-04-08T05:50:46.643
> 
> 标签：c++, ubuntu

伙计们，

我们的应用程序以二进制形式分发给我们的许多客户。该应用程序是在 Ubuntu 12.04 上编译的，并且依赖于 libboost-thread1.46.1 等。

我们所有的客户也在他们的服务器上安装了 Ubuntu 12.04，我们的应用程序运行良好。

由于一些客户表示他们将来可能会使用 Ubuntu 12.10，因此我们用 Ubuntu 12.10 构建了一个新盒子并尝试安装所需的依赖项。但是，在 Ubuntu 标准存储库中不再找到 libboost-thread1.46。似乎可用的版本是 libboost-thread.49 和 libboost.thread.50。

我想知道是否有办法在 Ubuntu 12.10 上安装 libboost.thread1.46。这将消除重新编译应用程序的需要。

预先感谢您的帮助。

问候，
彼得

# php - 使用 MySQL 搜索文本

> ID：15872108
> 
> 赞同：0
> 
> 时间：2013-04-08T05:50:47.853
> 
> 标签：php, mysql, phpmyadmin

我正在尝试使用 MySQL 数据库为我的网站处理 PC 部件列表，以便从长远来看使我更容易......一切都很顺利，直到我需要进行一些文本搜索。

这就是我所在的位置：

```
database name: _staff
table name: parts 
```

我需要`SELECT * FROM itemName MATCH ("Processors:%");`

本质上，我需要在此表中找到`itemName`列以“处理器：”开头的所有行

字符串是冒号分隔的名称，前面有 [category]: .... 如果有任何用处:)

想法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-08T05:53:03.437

我想也许：

```
SELECT * FROM parts WHERE itemName LIKE 'Processors%'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T05:57:09.663

试试这个

```
 SELECT * FROM parts WHERE itemName LIKE 'Processors:%'; 
```

在这里看演示.. [http://sqlfiddle.com/#!2/d5e85/2](http://sqlfiddle.com/#!2/d5e85/2)

# php - 如何将值从 php 脚本解析到 Opencart 模块？

> ID：15872109
> 
> 赞同：1
> 
> 时间：2013-04-08T05:50:48.960
> 
> 标签：php, opencart

我已经基于 BankTransfer 模块在 Opencart 中实现了支付模块。

算法：

1.  我得到值 orderId、merchantID、金额、货币。我加密它们。

2.  我使用“GET”响应将这些值发送到支付网关。

3.  支付网关然后加密值，处理支付，并用自己的签名加密交易状态，并将其发送给我。

4.  我的系统使用 php 脚本解密消息，并找到交易状态。

**问题：**如何将 php 脚本中的值解析到 Opencart 模块（banktransfer.php）？具体来说，到`public function confirm()`？

方法：我天真地认为[http://example.com/opencart/index.php?route=checkout/success](http://example.com/opencart/index.php?route=checkout/success)是成功链接。我想如果我从 php 脚本重定向到这个页面，订单就会得到确认，但事实并非如此。

文件说明：

*   banktransfer.php 是文件 opencart 从系统中获取信息，例如订单 ID、订单金额等。 OpenCart 模块。
*   testkzm.php 是一个简单的 php 脚本，用于解密消息，并**“尝试”**发送 get 参数以**确认**银行转账中 opencart 模块中的功能。

控制器/支付中的banktransfer.php

```
 class ControllerPaymentBankTransfer extends Controller {
  protected function index() {
   $this->language->load('payment/bank_transfer');

   $this->data['text_instruction'] = $this->language->get('text_instruction');
   $this->data['text_description'] = $this->language->get('text_description');
   $this->data['text_payment'] = $this->language->get('text_payment');

   //Modified things for KZM
   $order_info = $this->model_checkout_order->getOrder($this->session->data['order_id']);
   $this->data['orderIdKZM'] = $this->session->data['order_id'];
   $this->data['amountKZM'] = $order_info['total'];

   $this->data['merchantIdKZM'] = $this->language->get('merchantIdKZM');
   $this->data['currencyKZM'] = $this->language->get('currencyKZM');
   $this->data['titleKZM'] = $this->language->get('titleKZM');
   $this->data['successuUlKZM'] = $this->language->get('successUrlKZM');
   $this->data['errorUrlKZM'] = $this->language->get('errorUrlKZM');
   $this->data['dateKZM'] = $this->language->get('dateKZM');
   $this->data['signstrKZM'] = $this->language->get('signstrKZM');
   $this->data['verKZM'] = $this->language->get('verKZM');
   //KZM

   $this->data['button_confirm'] = $this->language->get('button_confirm');

   $this->data['bank'] = nl2br($this->config->get('bank_transfer_bank_' . $this->config->get('config_language_id')));

   $this->data['continue'] = $this->url->link('checkout/success');

   if (file_exists(DIR_TEMPLATE . $this->config->get('config_template') . '/template/payment/bank_transfer.tpl')) {
    $this->template = $this->config->get('config_template') . '/template/payment/bank_transfer.tpl';
   } else {
    $this->template = 'default/template/payment/bank_transfer.tpl';
   } 

   $this->render(); 
  }

  public function confirm() {
   $this->language->load('payment/bank_transfer');

   $this->load->model('checkout/order');

   $comment  = $this->language->get('text_instruction') . "\n\n";
   $comment .= $this->config->get('bank_transfer_bank_' . $this->config->get('config_language_id')) . "\n\n";
   $comment .= $this->language->get('text_payment');

   $this->model_checkout_order->confirm($this->session->data['order_id'], $this->config->get('bank_transfer_order_status_id'), $comment, true);
  }
 } 
```

测试kzm.php

```
$message <?php echo $_GET["message"]; ?><br>
$transactionStatus= decrypt($message);

<h2><?php echo $transactionStatus; ?></h2>

<div class="buttons">
  <div class="right">
        <form action="http://www.example.com/index.php?route=payment/bank_transfer/confirm" method="get">
            <input type="hidden" name="transactionStatus" value="<?php echo $transactionStatus; ?>">
            <input type="submit" value="<?php echo $button_confirm; ?>" id="button-confirm" class="button" />

        </form>
    </div>
</div> 
```

Opencart 如何确认订单的示例，但它位于模块内部。

银行转帐.tpl

```
 <h2><?php echo $text_instruction; ?></h2>
<div class="content">
  <p><?php echo $text_description; ?></p>
  <p><?php echo $bank_transfer; ?></p>
  <p><?php echo $text_payment; ?></p>
</div>
<div class="buttons">
  <div class="right">
    <input type="button" value="<?php echo $button_confirm; ?>" id="button-confirm" class="button" />
  </div>
</div>
<script type="text/javascript"><!--
$('#button-confirm').bind('click', function() {
    $.ajax({ 
        type: 'get',
        url: 'index.php?route=payment/bank_transfer/confirm',
        success: function() {
            location = '<?php echo $continue; ?>';
        }       
    });
});
//--></script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T09:56:52.077

我将尝试解释如何在 OpenCart 中创建和确认订单，因此您可以调整您的付款方式：

1.  购物车打开，用户点击*结帐*链接/按钮。
2.  用户登录（如果他没有登录）、注册或开始客人结帐。
3.  填写或确认付款和收货地址。
4.  选择运输方式。
5.  选择付款方式。
6.  **在确认页面上，实际上创建了一个订单并将其存储到数据库中。**
7.  单击*确认订单*后，将调用付款方式（`index`操作）。
8.  通常使用 AJAX 提交到`send`将数据/请求发送到付款服务的操作 -**在检索到响应并处理付款后，然后确认订单**。

创建付款方式时，您应该适应此工作流程。

# javascript - Javascript - 在 iframe 开始加载之前获取时间值

> ID：15872111
> 
> 赞同：0
> 
> 时间：2013-04-08T05:50:59.570
> 
> 标签：javascript

我像这样加载我的框架：

```
$url = array();
$url[] = 'url1.com';
$url[] = 'url2.com';
echo "<div id='content'> </div>";
foreach($url as $u){
   echo '<div class="frame_container">
            <iframe onload="time_after_frame_loaded();" width="200" height="200" id="myiframe" src="http://www.'.$u.'"></iframe>
            <div class="loadingtime"></div>
         </div>';
} 
```

该`onload`事件让我获得框架加载后的时间值：

```
function time_after_frame_loaded(){
frame_loaded = (new Date()).getTime();
//console.log(frame_loaded);
} 
```

我如何计算每帧开始加载之前的时间？

编辑：

```
<script type="text/javascript">
function time_after_frame_loaded(begin_time) {
    var result = 0; //trying to reset the value for each frame
    var frame_loaded = (new Date()).getTime();
    // console.log("Begin: " + begin_time + ", Loaded: " + frame_loaded);
    result = (frame_loaded - begin_time)/1000;
    console.log(result + "sec");
}
</script> 
```

加载 4 个 url 时的输出：

```
6.265sec 
6.671sec
8.905sec 
10.077sec 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:08:06.537

使用这个 PHP：

```
$i = 0;
foreach($url as $u){
    echo '<div class="frame_container">
              <script type="text/javascript">
                  (function () {
                      var iframe = document.createElement("iframe");
                      iframe.width = "200";
                      iframe.height = "200";
                      iframe.id = "myiframe' . $i . '";
                      var begin_time = (new Date()).getTime();
                      iframe.onload = function () {
                          time_after_frame_loaded(begin_time);
                      };
                      iframe.src = "http://www.' . $u . '";
                      document.body.appendChild(iframe);
                  })();
              </script>
              <div class="loadingtime"></div>
          </div>';
    $i++;
} 
```

而这个Javascript：

```
function time_after_frame_loaded(begin_time) {
    var frame_loaded = (new Date()).getTime();

    console.log("Begin: " + begin_time + ", Loaded: " + frame_loaded);
} 
```

我不确定这是最有效的方法，但它应该获得正确的“开始”时间并将其与每个 iframe 相关联。

# ajax - 带有 node.js 的传统 Web 服务器

> ID：15872116
> 
> 赞同：1
> 
> 时间：2013-04-08T05:51:26.023
> 
> 标签：ajax, node.js, webserver

[每个人](https://stackoverflow.com/questions/5062614/how-to-decide-when-to-use-nodejs)都说节点非常适合实时应用程序，我能知道节点对于[传统](https://stackoverflow.com/questions/9967795/node-js-for-traditional-sites)的（即打即服务）Web 服务器实现有多好，例如

*   我们不需要一直有客户端（浏览器）服务器连接。
*   我们可能有 10,000 多个并发用户。
*   我们可能会与其他服务对话以获取部分数据。
*   我们可能有一些数据库要读取。

# wix - Wix 安装 - 使用 Burn 来管理 UI 并显示与内置对话框相同的进度文本

> ID：15872126
> 
> 赞同：5
> 
> 时间：2013-04-08T05:52:12.413
> 
> 标签：wix, installation, burn

我正在使用 Wix Burn 来安装我们项目的每个必需品，我已经使用*ManagedBootstrapperApplicationHost*来拥有自定义 UI，我一直在关注来自 Wix 源代码的项目来创建我的托管 WPF 应用程序。

现在的问题是它显示的进度（消息）与我们使用内置 UI 的进度消息不匹配 - *WixStandardBootstrapperApplication.RtfLicense*

基本上我使用的是来自 Wix 源的以下代码

```
 private void ExecuteMsiMessage(object sender, ExecuteMsiMessageEventArgs e)
        {
            lock (this)
            {
                this.Message = e.Message;
                e.Result = this.root.Canceled ? Result.Cancel : Result.Ok;
            }
        } 
```

我怎样才能拥有与正常进度对话框相同的显示。我是否必须从其他方法（如 PlanPackage 等）单独设置消息。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-08T13:46:33.630

wixstdba 今天不显示操作数据进度消息。有人谈论在 wix-devs 邮件列表中添加该功能，但尚未发生。只需将托管案例中的代码添加到 wixstdba（还没有）。

如果您只想以 wixstdba 的方式显示正在安装的软件包的名称，那么您将需要处理`Engine.OnCachePackageBegin()`和`Engine.ExecutePackageBegin()`回调。这些回调会告诉您何时开始下载并分别安装包。作为这些回调的 args 的一部分，您将获得包 ID。

要获得友好的显示名称，您可以阅读`BootstrapperApplicationData.xml`引导程序应用程序 .dll 旁边自动包含的名称。其中有一些`WixPackageProperties`元素提供了有关捆绑包中包的大量信息，包括`DisplayName`.

---对不起，以下是对未提出的问题的回答。---

当`Engine.ExecuteMsiMessage()`Windows 安装程序显示消息（如操作数据或提示用户输入的请求）时调用回调。进度是通过三个不同的回调提供的。

1.  `Engine.Progress`您可以通过回调获得整体进度。这是一个非常粗粒度的进展，基本上随着每个包的缓存和执行而移动。

2.  您可以通过`Engine.CacheAcquireProgress`. 这个进度随着每个包被下载/复制并被验证放置在包缓存中而移动。

3.  `Engine.ExecuteProgress`您可以通过回调获取整体和单个包的进度。这个进度随着每个软件包的安装/修复/卸载而移动。

因此，它`Engine.Progress`向您显示了总的整体进度，并且对于单个进度条非常易于使用，但进度条不会移动得很顺利。您可以通过`Engine.CacheAcquireProgress`将`Engine.ExecuteProgress`. 注意：这会给你一个到 200 的进度条。

您可以在文件中看到 WixBA 如何处理所有这些`src\Setup\WixBA\ProgressViewModel.cs`。

# hadoop - hadoop 编译

> ID：15872133
> 
> 赞同：1
> 
> 时间：2013-04-08T05:52:36.670
> 
> 标签：hadoop

我是hadoop的新手。我从网上得到了这段代码

```
import java.io.IOException;
import java.util.*;

import org.apache.hadoop.fs.Path; 
import org.apache.hadoop.conf.*; 
import org.apache.hadoop.io.*; 
import org.apache.hadoop.mapred.*; 
import org.apache.hadoop.util.*;

public class Gender {

   private static String genderCheck = "female";

   public static class Map extends MapReduceBase implements Mapper {
       private final static IntWritable one = new IntWritable(1);
       private Text locText = new Text();

       public void map(LongWritable key, Text value, OutputCollector output, Reporter reporter) throws IOException {
           String line = value.toString();
           String location = line.split(",")[14] + "," + line.split(",")[15];
           long male = 0L;
           long female = 0L;
           if (line.split(",")[17].matches("\d+") && line.split(",")[18].matches("\d+")) {
               male = Long.parseLong(line.split(",")[17]);
               female = Long.parseLong(line.split(",")[18]);
           }
           long diff = male - female;
           locText.set(location);
           if (Gender.genderCheck.toLowerCase().equals("female") && diff < 0) {
               output.collect(locText, new LongWritable(diff * -1L));
           }
           else if (Gender.genderCheck.toLowerCase().equals("male") && diff
> 0) {
               output.collect(locText, new LongWritable(diff));
           }
       }    }

   public static void main(String[] args) throws Exception {
       JobConf conf = new JobConf(Gender.class);
       conf.setJobName("gender");
       conf.setOutputKeyClass(Text.class);
       conf.setOutputValueClass(LongWritable.class);
       conf.setMapperClass(Map.class);

       if (args.length != 3) {
           System.out.println("Usage:");
           System.out.println("[male/female] /path/to/2kh/files /path/to/output");
           System.exit(1);
       }

       if (!args[0].equalsIgnoreCase("male") && !args[0].equalsIgnoreCase("female")) {
           System.out.println("first argument must be male or female");
           System.exit(1);
       }
       Gender.genderCheck = args[0];

       conf.setInputFormat(TextInputFormat.class);
       conf.setOutputFormat(TextOutputFormat.class);
       FileInputFormat.setInputPaths(conf, new Path(args[1]));
       FileOutputFormat.setOutputPath(conf, new Path(args[2]));
       JobClient.runJob(conf);    }

} 
```

当我使用“javac -cp /usr/local/hadoop/hadoop-core-1.0.3.jar Gender.java”编译这段代码时

收到以下错误：

> “Gender.Map 不是抽象的，并且不会覆盖 org. apache.hadoop.mapred.Mapper 公共静态类 Map 扩展 MapReduceBase 实现 Mapper"

我怎样才能正确编译它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:07:41.557

更改类 Maper 类声明如下：

```
public static class Map extends MapReduceBase implements Mapper<LongWritable,Text,Text, LongWritable> 
```

如果您不指定任何特定的类名，则需要具有如下的 map 函数：

```
@Override
public void map(Object arg0, Object arg1, OutputCollector arg2, Reporter arg3) throws IOException {
    // TODO Auto-generated method stub
} 
```

现在，特定类型在这里表示预期的输入键值对类型和映射器的输出键值类型。

在您的情况下，输入键值对是`LongWritable-Text`.

而且，从您的方法调用猜测`output.collect`，您的映射器输出键值对是`Text-LongWritable`.

因此，您的 Map 类应实施`Mapper<LongWritable,Text,Text, LongWritable>`。

您的代码中还有一个错误 -

Using `"\d+"`will not compile as `\d`has no meaning,在反斜杠之后它需要一个特殊的转义序列，所以我猜对你来说以下应该有效： `line.split(",")[17].matches("\\d+")`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-12T07:22:49.513

更改地图类如下：

```
public static class Map extends MapReduceBase implements Mapper <Input key, Input value, Output Key , Output Value> 
```

在您的情况下，输入键是`LongWritable`，输入值是`Text`，输出键是`Text`，输出值是`LongWritable`

```
public static class Map extends MapReduceBase implements Mapper <LongWritable, Text, Text,LongWritable> 
```

# c++ - CopyFile2 没有绕道而行

> ID：15872135
> 
> 赞同：0
> 
> 时间：2013-04-08T05:52:42.357
> 
> 标签：c++, windows-8, hook, detours, apimonitor

我被困住了。出于某种原因，我需要在 Windows 8 上阻止文件系统的复制功能。直到 Windows 7，ShFileOperation 和 CopyFile 用来做伎俩。但是，在 Windows 8 中，我可以通过 API 监视器进行扫描，因此使用了一个新的 API：CopyFile2 来完成这项工作。所以我需要绕道CopyFile2。

我尝试在 Windows SDK 6.x、7.x 和 Win8 SDK 中使用 Detour 2.x 和 3.x。以下是代码片段 -

```
HRESULT (WINAPI *Trampoline_CopyFile2)(PCWSTR pwszExistingFileName, PCWSTR pwszNewFileName, COPYFILE2_EXTENDED_PARAMETERS *pExtendedParameters) = CopyFile2;
HRESULT WINAPI Detour_CopyFile2(PCWSTR pwszExistingFileName, PCWSTR pwszNewFileName, COPYFILE2_EXTENDED_PARAMETERS *pExtendedParameters)
{
    OutputDebugString(L"Inside TrozenCopyFile...");
    return Trampoline_CopyFile2(pwszExistingFileName, pwszNewFileName, pExtendedParameters);
}

//Attaching Detour 
DetourAttach( &(PVOID&)Trampoline_CopyFile2, (PVOID)Detour_CopyFile2); 
```

DetourAttach 返回 0（成功），但我没有收到对我的 Trampoline 函数的调用。我知道我的 dll 正在 Explorer 中加载，因为其他 API 正在绕道 - 我也在 ProcessExplorer 中检查过它。

microsoft Detour 库是否支持 win8 API？如果是，我做错了什么吗？如果否，我应该将此报告为错误吗？

-- 此外，我创建了一个名为 CopyFile2 的示例应用程序。我的 Dll 正在加载，DetourAttach 返回 0。但是，我仍然无法获取到 Detour_CopyFile2 的跟踪信息

# java - 带有参数标记的会话管理 / p:button /p:commandButton

> ID：15872136
> 
> 赞同：0
> 
> 时间：2013-04-08T05:52:42.697
> 
> 标签：java, session, primefaces, xhtml

我有一个必须实现登录的 Web 应用程序。用户在验证用户身份后提供用户名和密码，用户应重定向到他们拥有特权的页面，页面因用户而异。有时 2 个或更多用户可以获得相同的页面，但可用数据应该不同为此我已将用户特权 ID（divisionId）传递给其他 bean

现在我已经尝试将 URL 标记参数标记为 URL 并成功定向到页面，但我不能将它带到 bean 变量中。

用 p:Button 对此进行了尝试，然后当按钮单击时，文本框输入将不会进入 bean 类来执行该方法。

xhtml 代码 -

```
 <h:body>

    <p:growl id="growl" showDetail="true" life="3000" />
    <p:dialog id="dialog" header="Login" widgetVar="dlg" visible="true" closable="false" >        
        <h:form id="form">  
            <h:panelGrid columns="2">  
                <h:outputLabel for="username" value="Username: " />  
                <p:inputText id="username" value="#{loginBean.username}" 
                             required="true" requiredMessage="Enter Username"/>

                <h:outputLabel for="password" value="Password: " />  
                <p:password id="password" value="#{loginBean.password}" 
                            required="true" requiredMessage="Enter Password"/>                 
            </h:panelGrid>
            <p:commandButton id="LoggingButton" value="Login" action="#{loginBean.doLogin()}"
                                 update=":growl" oncomplete="handleLoginRequest(xhr, status, args),">

                </p:commandButton>

        </h:form>

    </p:dialog>
</h:body> 
```

登录bean-

```
public class LoginBean{

private String username;
private String password;
private int divisionId;

/**
 * Creates a new instance of loginBean
 */

public LoginBean() {
}

public String doLogin() {

    DbUser du = new DbUser();
    divisionId = du.ValidateUser(username, password);

    if(divisionId==0)
        addMessage("Invalied username or password", false);
    else{

        if(divisionId==1){ 

//              return "superuser.xhtml?faces-redirect=true";
            return "superuser.xhtml?test="+divisionId+"faces-redirect=true";
            //superAdmin                         
       }
        else if(divisionId==2||divisionId==3){

//               return "engadmin_create_div.xhtml?faces-redirect=true";
           return "engadmin_create_div.xhtml?test="+divisionId+"faces-redirect=true";
            //ENG/IT ADMIN

        }
        else{
//                return "viewonly_user.xhtml?faces-redirect=true";
            return "viewonly_user.xhtml?test="+divisionId+"faces-redirect=true";
            //View only users
        }
    }
     return null;        
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:56:46.950

我认为那工作:)

```
 <p:growl id="growl" showDetail="true" life="3000" />
    <p:dialog id="dialog" header="Login" widgetVar="dlg" visible="true" closable="false" >        
        <h:form id="form">  
            <h:panelGrid columns="2">  
                <h:outputLabel for="username" value="Username: " />  
                <p:inputText id="username" value="#{loginBean.username}" 
                             required="true" requiredMessage="Enter Username"/>

                <h:outputLabel for="password" value="Password: " />  
                <p:password id="password" value="#{loginBean.password}" 
                            required="true" requiredMessage="Enter Password"/>                 
            </h:panelGrid>
            <p:commandButton id="LoggingButton" value="Login" actionListener="#{loginBean.doLogin()}">

                </p:commandButton>

        </h:form>

    </p:dialog>
</h:body> 
```

豆

```
public class LoginBean{

private String username;
private String password;
private int divisionId;

/**
 * Creates a new instance of loginBean
 */

public LoginBean() {
}
public static void redirect(String strDes) throws IOException {
    ExternalContext ext = FacesContext.getCurrentInstance().getExternalContext();
    ext.redirect(ext.getRequestContextPath() + strDes);
}
public void doLogin() {

    DbUser du = new DbUser();
    divisionId = du.ValidateUser(username, password);

    if(divisionId==0)
        addMessage("Invalied username or password", false);
    else{

        if(divisionId==1){ 
            LoginBean.redirect("superuser.xhtml?test="+divisionId+"faces-redirect=true");
            //superAdmin                         
       }
        else if(divisionId==2||divisionId==3){    
           LoginBean.redirect("engadmin_create_div.xhtml?test="+divisionId+"faces-redirect=true");
            //ENG/IT ADMIN    
        }
        else{
            LoginBean.redirect("viewonly_user.xhtml?test="+divisionId+"faces-redirect=true");
            //View only users
        }
    }       
} 
```

你从bean获取参数：

```
Map<String,String> params = 
                FacesContext.getExternalContext().getRequestParameterMap();
      String action = params.get("test"); 
```

# c++ - 如何读取文件

> ID：15872137
> 
> 赞同：0
> 
> 时间：2013-04-08T05:52:45.287
> 
> 标签：c++, file-io, matrix

我将布尔矩阵（ROW*ROW）保存到 .txt 文件（0,1 格式）。

我如何从文件中读取矩阵？我在下面写了代码，但是我将读取的结果与文件进行比较，数组结果与文件不匹配。谁能告诉我哪里写错了？或者有没有更简单的方法来读取矩阵文件？

```
bool **results = new bool*[ROW];
    for(int i=0;i<ROW;i++){
        results[i] = new bool[ROW];
    }

    ifstream infile;
    infile.open ("FRM.txt");
    string line;
    int row=0;
    if (infile.is_open())
    {
        while ( infile.good() )
        {
            getline(infile,line);
            istringstream iss(line);
            int col=0;
            while(iss)
            {
                string word;
                iss >> word;
                int number = atoi(word.c_str());
                if(number==1){
                    results[row][col] = true;
                }
                else{
                    results[row][col] = false;
                }
                col++;
            } 
            row++;
        }
    }
    infile.close(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:16:33.593

将矩阵表示为嵌套数组通常是一个坏主意。改用线性数组并通过宏或内联函数进行索引杂耍。

我会去做这样的事情：

```
#include <algorithm>
#include <cmath>
#include <cstdint> // uint8_t requires C++11
#include <iterator>
#include <vector>

// don't use vector<bool>, it creates all sorts of problems
std::vector<uint8_t> results;
{
  std::ifstream infile('FRM.txt', std::ifstream::in);
  if(infile.is_open() && infile.good())
  {
    std::istream_iterator<uint8_t> first(infile), last;
    copy(first, last, std::back_inserter(results));
  }
}

// only if you know the matrix is square! error checking strongly advised!
size_t nrows = size_t(std::sqrt(results.size()));

// accessing element (i,j) is then as easy as
size_t i = 2, j = 3; // assuming nrows > i,j
bool a_ij = results[i*rows+j]; 
```

# authentication - 无浏览器的 OAuth 2.0

> ID：15872138
> 
> 赞同：4
> 
> 时间：2013-04-08T05:52:45.480
> 
> 标签：authentication, authorization, oauth-2.0, facebook-login

我们正在为不同平台开发应用程序，包括不支持浏览器交互的应用程序。我们决定从我们的应用程序中模拟浏览器。那么 Facebook 的 TOS 可以吗？

这个主题已经在这个主题（最后一篇文章）中提到过：http: [//facebook.stackoverflow.com/questions/4000896/logging-into-facebook-without-a-browser#comment4285566_4000963](http://facebook.stackoverflow.com/questions/4000896/logging-into-facebook-without-a-browser#comment4285566_4000963)

通过模拟浏览器，我的意思是：

*   我们正在获取用户登录 HTML 表单并填写用户提供的信息。然后我们发送它。

*   当我们收到认证页面时，我们要求用户授权 Facebook 应用程序发布消息。

*   如果用户同意，那么我们将发送身份验证表单，然后获取访问令牌。

# wpf - WPF mvvm 向导

> ID：15872145
> 
> 赞同：1
> 
> 时间：2013-04-08T05:52:57.510
> 
> 标签：wpf, mvvm

我正在实现 WPF MVVM 向导，我想知道在`DoOperation`加载新向导页面 (UserControl) 时执行的正确方法。

加载发生在命名空间时，在类上`DoOperation`实现。`MyWizard.ViewModal``UserControl``MyWizard.View`

如何将`UserControl` 加载的事件连接到`DoOperation`api？

我尝试了以下方法：

```
<xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"

<i:Interaction.Triggers>

    <i:EventTrigger EventName="Loaded">
        <i:InvokeCommandAction Command="{Binding Path=RunOperation}"/
    </i:EventTrigger> 
</i:Interaction.Triggers> 
```

`RunOperation`来电`DoOperation`。

它不起作用，`RunOperation`没有被调用。

这是正确的方法还是有更好的方法在 `MyWizard.ViewModal`课堂上执行操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:32:28.910

你的方法应该有效。您是否检查过输出控制台是否存在绑定错误？是`RunOperation`命令吗？引发事件时是否已经设置了 UserControl 的 DataContext `Loaded`？你有没有在你的 UC 中实现过这样的触发器？

```
<UserControl x:Class="..."
              xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"                  
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity">

    <i:Interaction.Triggers>

        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding Path=RunOperation}"/>
        </i:EventTrigger>

    </i:Interaction.Triggers>

    <Grid>
        ...
    </Grid>

</UserControl> 
```

# iphone - Fbconnect 在 ios 应用程序中像网络浏览器一样共享对话

> ID：15872151
> 
> 赞同：2
> 
> 时间：2013-04-08T05:53:12.850
> 
> 标签：iphone, ios, objective-c, xcode, facebook

我正在制作一个我想要的 ios 应用程序，`share dialog box`如下图所示。我正在使用 fbconnect sdk。我用谷歌搜索了它，但没有得到任何关于 ios 应用程序的信息。所以任何帮助将不胜感激提前谢谢![在此处输入图像描述](https://i.stack.imgur.com/5ijFB.jpg)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T08:44:04.607

默认情况下，iOS Facebook SDK 中不存在此功能。虽然您可以创建自己的对话框。打开一个这样的对话框，用户可以在其中写下他想分享的任何内容。添加图片按钮以附加图像。

有一个按钮说“在你自己的时间线上”。单击它会打开一个弹出视图，如您附加的图片中所示。如果用户选择

1) 在您自己的时间线上 - 使用“me/feed”发送请求
2) 在朋友的时间线上 - 打开一个显示朋友列表的窗口（可以使用 fb SDK me/friends 和权限 user_friends 轻松检索）。用户可以选择一个朋友，然后发送请求“FRIEND_ID/feed”
3）在一个组中 - 打开一个窗口显示用户连接到的组列表（可以使用具有 user_groups 权限的 fb SDK me/groups 轻松检索）。用户可以从中选择一个组，然后发送请求“GROUP_ID/feed”
4）在您的页面上 - 打开一个窗口，显示用户是管理员的页面列表（可以使用具有扩展权限的 fb SDK me/accounts 轻松检索管理页面）。用户可以从中选择一个组，然后发送请求“PAGE_ID/feed”。

创建自己的对话框并不难。

希望我有所帮助。

# javascript - 如何调用这个封装在 jQuery 函数中的 JavaScript 方法

> ID：15872153
> 
> 赞同：1
> 
> 时间：2013-04-08T05:53:22.330
> 
> 标签：javascript, jquery

我正在研究一个 JavaScript 文件，并在其中看到一些方法包含在一个 jQuery 函数中。谁能帮我如何调用以下方法？我可以知道有什么优势或为什么将方法包装在函数中吗？下面是我的示例 JavaScript 代码。

**jQuery/JavaScript**

```
$(document).ready(function () {
    //How to invoke "testMethod" method?
    $(function () {
        function testMethod() {
            alert("this is a test method");
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T05:55:25.420

正如您所声明的，它`testMethod()`是一个本地函数，并且仅在声明它的函数范围内可用。如果您希望它在该范围之外可调用，则需要以不同的方式定义它，以便它在更广泛的范围内可用。

一种方法是使其成为全局函数：

```
$(document).ready(function () {
    //How to invoke "testMethod" method?
    $(function () {
        window.testMethod = function() {
            alert("this is a test method");
        }
    });
});

testMethod();   // available globally now 
```

它也可以附加到全局命名空间，或者可以在更高的范围内定义它也可以解决您的问题。如果没有具体说明您的情况，我们无法建议哪一个最好，但您需要做的主要事情是更改函数的声明方式，以便它在您想要调用它的范围内可用。

PS 为什么你有一个文档就绪函数嵌套在另一个函数中？这没有提供额外的功能并增加了不必要的复杂性。此外，如果您希望它在全球范围内可用，实际上没有理由`testMethod()`在您的文档就绪处理程序中定义它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T06:06:40.213

在其他任何事情之前：

```
$(document).ready(function(){...});
//is the same as
$(function(){...}} 
```

至于您的问题，以下是可能的方法：

*   如果该函数是每个人都使用的某个实用函数，那么在某个命名空间中让所有人都可以使用它，例如在这个名为`Utility`：

    ```
    //Utility module
    (function(ns){
      //declaring someFunction in the Utility namespace
      //it's available outside the ready handler, but lives in a namespace
      ns.someFunction = function(){...}
    }(this.Utility = this.Utility || {}));

    $(function(){
      //here in the ready handler, we use it
      Utility.someFunction();
    }); 
    ```

*   如果它们都存在于`ready`处理程序中，并希望处理程序中的所有代码都使用它，请将其声明在处理程序的最外层，以便所有嵌套范围都能看到它。

    ```
    $(function(){
      //declare it in the outermost in the ready handler
      function someFunction(){...}

      //so we can use it even in the deepest nesting
      function nestedSomeFunction(){
        someFunction();
      }

      someElement.on('click',function(){
        $.get('example.com',function(){
          someFunction();
        });
      });

      nestedSomeFunction();
      someFunction();

    }); 
    ```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T05:55:52.983

您的通话需要在`$(function`.

这都是关于范围的，您需要将 testMethod 从`$(function`.

您能否进一步解释您的要求，以便我们可以提供更好的帮助？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T06:06:37.567

进入就绪事件：

```
$(document).ready(function () {
    //How to invoke "testMethod" method?
    var testMethod = function () {
        alert("this is a test method");
    }

    // V0.1
    testMethod();

    // V0.2
    $('#some_id').click(testMethod);
}); 
```

在其他部分：

```
myObj = {testMethod: null};
$(document).ready(function () {
    //How to invoke "testMethod" method?
    myObj.testMethod = function () {
        alert("this is a test method");
    }
});

// Something else
if( myObj.testMethod ) myObj.testMethod(); 
```

# android - android的私有apk文件？

> ID：15872172
> 
> 赞同：0
> 
> 时间：2013-04-08T05:55:14.250
> 
> 标签：android, apk

```
i have to create an apk with key and publish it. 
```

公众可以通过 apktool 和 dex2jar 解码该 apk 文件。请帮助我如何创建无法被其他人通过 apktool 和 dex2jar 解码的私有 apk。给我链接或适当的解决方案。提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T05:58:25.560

您可以通过右键单击您的项目将其设置为 Eclipse 环境，然后选择 Android 工具 -> 导出签名的应用程序包选项，然后根据需要执行

希望它会起作用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:38:38.480

My answer is you can decode any type of apk file when it's been installed in phone. you can back up and use it. you can decode it and extract it. AndroidSuite is a powerful tool that decode any type of apk and also encode resource files etc. So as far as I know, it's a tedious process.

[http://forum.xda-developers.com/showthread.php?t=1461135](http://forum.xda-developers.com/showthread.php?t=1461135)

My suggestion is to prevent extracting apk from phone is use "File observer.java" to monitor whether apk been backed up,if so do some stuff to delete where it gets stored.

# magento - Magento 产品列表排序问题

> ID：15872179
> 
> 赞同：0
> 
> 时间：2013-04-08T05:55:45.690
> 
> 标签：magento

如果我想按名称升序对结果列表进行排序，Magento 会记住此偏好并按名称升序对所有未来的“搜索”和“根类别”进行排序，即使这不适合搜索……您总是希望相关性成为默认。

这是如何改变的，所以 Magento 忘记了排序首选项？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T10:15:37.987

Magento 在目录会话中存储类别排序数据，页码除外。`GET`应用类别排序时会使用此会话数据和 URL参数，`GET`如果存在参数，则首选参数（然后更新记录的会话数据）。从会话中提取排序数据，如下所示：

```
Mage::getSingleton('catalog/session')->getSortOrder();
Mage::getSingleton('catalog/session')->getSortDirection();
Mage::getSingleton('catalog/session')->getDisplayMode();
Mage::getSingleton('catalog/session')->getLimitPage(); 
```

您还可以使用以下命令取消设置此会话数据：

```
Mage::getSingleton('catalog/session')->unsSortOrder();
Mage::getSingleton('catalog/session')->unsSortDirection();
Mage::getSingleton('catalog/session')->unsDisplayMode();
Mage::getSingleton('catalog/session')->unsLimitPage(); 
```

如果您在代码库中搜索这些命令，它会很快找到`Mage_Catalog_Block_Product_List_Toolbar`包含方法的工具栏类：

```
getCurrentOrder()
getCurrentDirection()
getCurrentMode()
getLimit() 
```

每个方法首先通过查看请求参数（so`GET`参数）来提取相关的排序数据，如果失败，它会查看会话，如果没有会话数据，则最后回退到默认排序设置。另请注意，`$this->_memorizeParam(...);`如果`GET`找到的参数不是该参数的默认排序，则会调用。

为了对核心功能的影响最小化，我建议您最好的方法是重写上述方法，并在新方法中调用上述相关会话方法以取消设置该参数的会话数据，并通过调用完成带有 的父方法`parent::`。这样就永远不会找到会话数据，并且只会使用 URL 参数或默认排序。`config.xml`在您的模块文件中，示例重写将是这样的：

```
<?xml version="1.0"?>
<config>
    <modules>
        <Namespace_ModuleName>
            <version>0.1.0</version>
        </Namespace_ModuleName>
    </modules>
    ....
    <global>
        ...
        <blocks>
            <catalog>
                <rewrite>
                    <product_list_toolbar>Namespace_ModuleName_Block_Product_List_Toolbar</product_list_toolbar>
                </rewrite>
            </catalog>
        </blocks>
    </global>
</config> 
```

还有你重写的课程：

```
<?php
class Namespace_ModuleName_Block_Product_List_Toolbar extends Mage_Catalog_Block_Product_List_Toolbar
{
    public function getCurrentOrder()
    {
        Mage::getSingleton('catalog/session')->unsSortOrder();
        parent::getCurrentOrder();
    }

    public function getCurrentDirection()
    {
        Mage::getSingleton('catalog/session')->unsSortDirection();
        parent::getCurrentDirection();
    }

    public function getCurrentMode()
    {
        Mage::getSingleton('catalog/session')->unsDisplayMode();
        parent::getCurrentMode();
    }

    public function getLimit()
    {
        Mage::getSingleton('catalog/session')->unsLimitPage();
        parent::getLimit();
    }
} 
```

# box-api - Box Api :: 远程服务器返回错误：(401) Unauthorized

> ID：15872180
> 
> 赞同：1
> 
> 时间：2013-04-08T05:55:47.423
> 
> 标签：box-api

我收到错误

> 远程服务器返回错误：(401) Unauthorized

这是代码。

```
String sFolderURL = @"https://www.box.com/api/";
string Headers = string.Format("BoxAuth api_key={0}&auth_token={1}", api_key, authToken);
String sParam = "2.0/folders/0";
String sURL = sFolderURL + sParam;
HttpWebRequest request = (HttpWebRequest)WebRequest.Create(sURL);
request.Method = "POST";
request.Headers.Add("Authorization", Headers);
HttpWebResponse response = (HttpWebResponse)request.GetResponse(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T23:21:45.813

只有在发送过期/无效 access_token 的情况下才会返回 401。您可能需要

1.  刷新您拥有的令牌
2.  从一开始就通过身份验证过程以获取有效令牌

# php - 只允许页面指定页码

> ID：15872182
> 
> 赞同：1
> 
> 时间：2013-04-08T05:55:54.867
> 
> 标签：php, mysql

我想通过特定页码中的分页加载页面。如果总行数为 0，则第 1 页应为 1 如果计数为 10，则第 1 页应为 11 我的代码是

```
$newinc=$db->get_row("SELECT count(*) as count2 FROM store where survey_name='$_SESSION[ssn_sname]' and dateone='$_SESSION[vdate]' and branch='$_SESSION[branch]' ");
$count11=$newinc->count2;
$page1=$count11+1;  
 echo "<meta http-equiv='refresh' content='0;URL=srv_form.php?page=$page1'>"; 
```

这就是为什么我在进行调查时尝试这样做的原因，如果网络关闭然后页面从第一个页面开始，我该怎么做..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:24:40.360

您的重定向解决方案必须类似于用 php 标头功能替换元刷新。

```
$newinc=$db->get_row("SELECT count(*) as count2 FROM store where survey_name='".$_SESSION['ssn_sname']."' and dateone='".$_SESSION['vdate']."' and branch='".$_SESSION['branch']."' ");
$count11=$newinc->count2;
$page1=$count11+1;  
header("location: srv_form.php?page=$page1"); 
```

如果您的页面未重定向，则打印或渲染一定有问题。您可以使用 apache 日志进行验证，这将为您提供有关此的警告。

# ruby-on-rails - 如何提交包含特定字段的表单？

> ID：15872183
> 
> 赞同：0
> 
> 时间：2013-04-08T05:55:59.177
> 
> 标签：ruby-on-rails, ruby, xpath, mechanize

需要在包含许多不同表单的页面上选择并提交表单，其中包含具有特定值的隐藏字段。

我知道[`form.fields_with()`](http://mechanize.rubyforge.org/Mechanize/Form.html#method-i-click_button)要选择表单字段，并且[`page.form_with()`](http://mechanize.rubyforge.org/Mechanize/Form.html#method-i-click_button)要选择具有特定属性的表单，但我想选择一个表单，该表单具有一个隐藏字段，其值属性为“xxxxx”。

有没有办法在机械化中做到这一点？还是我卡在使用 xpath 或 hack 解决方案？我想要的 XPath 是

```
xpath("//form[div/input/@value='xxx']").click_button 
```

不过，我当然不能`click_button`在 xpath 上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:34:06.613

你可以这样做：

```
page.form_with :form_node => page.at(xpath) 
```

# svn - Subversion 设置 Bugtraq 属性失败 - 至少一个属性更改失败的存储库未更改

> ID：15872184
> 
> 赞同：2
> 
> 时间：2013-04-08T05:56:02.357
> 
> 标签：svn, bugzilla

颠覆服务器在 Ubuntu 服务器 12.10 中使用 apache2
一个非常干净的服务器，除了 svn、apache 和 apache auth 的必要文件之外没有任何东西

我试图通过 Windows 7 中的 TortoiseSVN 客户端为我的一个颠覆文件夹添加一个 Bugtraq 属性
在 Bugtraq 设置中页面，我只输入了 url 和消息模式，其他设置保持默认

Bugtraq 格式如下

```
URL: http://bugserveripaddress/bugzilla/show_bug.cgi?id=%BUGID%

Message pattern: Bug : %BUGID% 
```

错误服务器与颠覆服务器不同

但是，它显示**至少一个属性更改失败的存储库**多次未更改

每次我在错误弹出窗口中单击 OK 按钮时，它都会闪现一个带有*bugtraq:label、bugtraq:url、bugtraq:message*等的小弹出窗口

这看起来像一个钩子脚本问题，所以我编辑了我的 pre-revprop-change 并尝试为 bugtraq:url、bugtraq:message 添加权限，如下所示

```
REPOS="$1"
REV="$2"
USER="$3"
PROPNAME="$4"
ACTION="$5"

exit 0
if [ "$ACTION" = "M" -a "$PROPNAME" = "svn:log" ]; then exit 0; fi
if [ "$ACTION" = "M" -a "$PROPNAME" = "svn:author" ]; then exit 0; fi
if [ "$ACTION" = "M" -a "$PROPNAME" = "bugtraq:label" ]; then exit 0; fi
if [ "$ACTION" = "M" -a "$PROPNAME" = "bugtraq:url" ]; then exit 0; fi
if [ "$ACTION" = "M" -a "$PROPNAME" = "bugtraq:message" ]; then exit 0; fi

echo "Changing revision properties other than svn:log is prohibited" >&2
exit 1 
```

但它不起作用

提前非常感谢~

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T03:04:50.247

感谢 jsumarall 的子错误问题
，我从以下链接得到了一个解决乌龟 SVN 的方法

[你如何克服 svn 'out of date' 错误？](https://stackoverflow.com/questions/87950/how-do-you-overcome-the-svn-out-of-date-error)

检查迈克尔的回答
只需更新文件夹，然后在本地重做，然后提交

相当棘手...

# struts2 - 在网站中显示页面的面包屑

> ID：15872186
> 
> 赞同：2
> 
> 时间：2013-04-08T05:56:10.873
> 
> 标签：struts2, struts, breadcrumbs

我对 struts2 很陌生，我想知道如何在网站中显示页面导航，例如

当前 JSP 页面中的 home->login->your account->xx-> etc

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-17T06:45:16.683

我是这样弄的

```
<div id="nav"> <s:a action="actionName_resultName" id="nav">Retailers </s:a> - Coupon      Options</div> 
```

# javascript - 有人可以告诉我正则表达式行中的错误在哪里吗？

> ID：15872194
> 
> 赞同：0
> 
> 时间：2013-04-08T05:56:43.930
> 
> 标签：javascript, regex

我想出了这个模式：

```
(?<=module.exports = function routes\(\) {\n)[\S\s]*?(?=\n}) 
```

在此文本中选择大括号内的文本：

```
module.exports = function routes() {
  this.root('pages#main');
  this.get('/dashboard', 'pages#dashboard');
} 
```

有人可以教我为什么这是无效的吗？：

```
myVar = data.match(/(?<=module.exports \= function routes\(\) {\n)[\S\s]*?(?=\n})/); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:10:34.603

如果`toString()`在您的上下文中有效，那么这也应该有效

```
var str = module.exports.toString();
str = str.replace(/function [^ ]+\(\)\s*\{/, '').replace(/\}$/,''); 
```

# .net - 继承 ria 服务形式“DomainService”和“LinqToEntitiesDomainService<>”

> ID：15872197
> 
> 赞同：0
> 
> 时间：2013-04-08T05:57:08.260
> 
> 标签：.net, silverlight, wcf-ria-services

我有这样的代码：

```
namespace SilverlightApplication1.Web
{
    [DataContractAttribute(IsReference = true)]
    public class CustomEntity 
    {
        [DataMemberAttribute()]
        public Person MyPerson { get; set; }

        [DataMemberAttribute()]
        public Address MyAddress { get; set; }

        [DataMemberAttribute()]
        public List<Order> MyOreders { get; set; }

    }
} 
```

这就像一些 ef 实体的包装器。问题是，当我编写一个服务来为 silverlight 客户端公开此类时，如下所示：

```
[EnableClientAccess]
public class DomainService2 : DomainServices
{
    [Invoke]
    public IEnumerable<CustomEntity> GetAllCustomEntities()
    {
        var ent = new AllDataBaseEntities();
        return ent.Persons.Select(x => new CustomEntity()
        {
            MyPerson= x,
            MyAddrees= x.Address,
            MyOrders=x.Orders.ToList()

        });
    } 
```

如果我从“DomainService”继承并像上面那样编写我的代码，我的所有 CustomEntity 的属性都暴露在客户端。否则，如果我这样写我的服务：

```
[EnableClientAccess()] 
public class DomainService1 : LinqToEntitiesDomainService<AllDataBaseEntities> {

        public IEnumerable<CustomEntity> GetAllCustomEntities()
        {
            return ObjectContext.Persons.Select(x => new CustomEntity()
            {
                MyPerson= x,
                MyAddrees= x.Address,
                MyOrders=x.Orders.ToList()

            });
        }

} 
```

我的 CustomEntity 的属性在客户端都不可用。

我的问题是如何在我的程序中使用这两种方法。请注意，如果我在我的程序中使用“LinqToEntitiesDomainService<>”，那么另一种方法不能正常工作。

请注意，我不想要也不能使用 [Association] 属性，因为对于我想要使用此方法的内容，所有自定义实体属性彼此之间没有关系，我想调用一个服务而不是多个在客户端加载我的数据的服务

感谢您的关注

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T12:13:58.540

我不知道你的实现，但通常在我的 Silverlight 项目中我遵循这种技术：[在 Silverlight 中共享实体](http://10rem.net/blog/2009/07/13/sharing-entities-between-wcf-and-silverlight)

# sql - sql查询中的max()

> ID：15872211
> 
> 赞同：3
> 
> 时间：2013-04-08T05:58:15.543
> 
> 标签：sql, database, db2

我的表中有一些记录。

我想选择一条具有最大年龄的记录

如果我在下面写查询它工作正常。

```
Select MAX(Age)
From Table 
```

它工作正常。但如果我这样写，

```
Select FirstName, LastName, MAX(Age)
From Table
Group By FirstName, LastName 
```

它不工作（显示所有记录）。我怎样才能解决这个问题 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T05:59:16.327

您可以使用子查询来获取最大值`Age`并比较外部查询年龄的结果。

```
Select  *
From    TableName
WHERE   Age = (SELECT MAX(Age) FROM TableName) 
```

简要说明，`GROUP BY`在您的查询中使用的并不完全符合您的要求，因为它不是过滤运算符并且只对非聚合列进行分组。例如，您有两个名字和姓氏相同但年龄不同的记录，结果将是年龄最大的人，因为使用`MAX()`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-08T05:59:59.253

由于使用 max(Age) 您将获得单条记录，而 FirstName,LastName 有多条记录。

您正在一起使用它，因此它会产生歧义。

```
Select FirstName, LastName from From Table where Age = (SELECT MAX(Age) FROM Table) 
```

使用此查询。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T06:02:36.937

另一种方法是使用`not exists`：

```
Select * from Table t1
where not exists (select 1 from Table where age > t1.age) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-08T06:57:15.117

我会建议这种简单的方法：

```
select *
from table
order by age desc
fecth 1 rows only 
```

请注意，这只会选择一条记录，而不是选择所有具有最长年龄的记录。

# javascript - Ruby on rails：资产管道中的 javascript

> ID：15872214
> 
> 赞同：1
> 
> 时间：2013-04-08T05:58:32.483
> 
> 标签：javascript, ruby-on-rails, asset-pipeline

我是一个完整的菜鸟，我正在尝试了解如何在 Rails 中使用 javascript 和资产管道。例如，我在哪里放置一个简单的 $(document).ready 以在特定视图中执行。我已经将代码放在视图本身中，但我认为这不是最好的方法。补充阅读也将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-08T06:11:52.977

创建一个名为`whatever_you_want.js`我通常根据视图或模型拆分这些的新文件。最终这并不重要，因为资产管道将其全部分解为一个大文件。拆分成文件是根据您的喜好和喜好。

所以，`whatever.js`你可以写任何你想要的 JS 代码，有`$(document).ready`，没有..资产管道并不真正关心..如果你写的代码需要`$(document).ready`，使用它。如果没有，不要...

一旦你完成了你的 JS，默认情况下，Rails 将把你在`application.js`清单文件中告诉它的所有 js 文件按照你写的顺序放在一个文件中

所以它看起来像

```
//= require jquery
//= require jquery_ujs
//= require twitter/bootstrap
//= require_tree . 
```

所以它将首先加载 jquery，然后是 jquery ujs，然后是 bootstrap，然后是 tree，它是 application.js 所在的当前目录

同样你只能做

```
//= require whatever.js 
```

在开发过程中，默认情况下，您不会看到一个大文件，而是看到所有文件，因为这样更容易调试。

部署到生产环境后，根据您的需要，您可以通过资产管道预编译所有资产，`rake assets:precompile`或者您可能有一个脚本，该脚本将在部署时自动预编译，如`asset_sync`gem

基本上，您应该将 js 代码放在 js 文件中，将 html 代码放在视图文件中，因为 sprockets（压缩 js 和东西的 gem）不处理不在要预编译的资产文件/文件上的 JS

一些补充读物让你高兴

[http://guides.rubyonrails.org/asset_pipeline.html](http://guides.rubyonrails.org/asset_pipeline.html)

[http://railscasts.com/episodes/279-understanding-the-asset-pipeline](http://railscasts.com/episodes/279-understanding-the-asset-pipeline)

[http://blog.55minutes.com/2012/02/untangling-the-rails-asset-pipeline-part-3-configuration/](http://blog.55minutes.com/2012/02/untangling-the-rails-asset-pipeline-part-3-configuration/)

希望能以某种方式帮助你

多读几次您的问题后，我意识到您要问的是“在哪里放置与特定视图相关的 js 代码”

好了，现在您已经熟悉了资产管道，您现在可以了解如何使用它：

在你的`whatever.js`文件中你写你想写的任何东西..假设你没有`//=require_tree .`in `application.js`，所以它不包括所有 js 文件，你必须有`whatever.js`in`whatever.html.erb`

在`whatever.html.erb`你可以写

```
<% content_for :head do %>
  <%= javascript_include_tag "whatever.js" %>
<% end %> 
```

然后，在您的布局文件中（其中有 <%= yield %> 某处的文件，转到 html 的头部并写入

```
<%= yield :head %> 
```

名字头基本上是你想要的。

这告诉 Rails 类似`"Hey man, this whatever.js file is for you.. just put it in the :head ok?"`And Rails 就像`"You got it mister!"`

这样你就可以在你想要的任何视图中包含你想要的任何 js 文件。

但是既然你说你是一个完整的菜鸟，我建议保持简单，并在第一次包含所有 js 文件，只需为你的 html 元素使用唯一的类和 ID，你应该没问题。很可能，有些人可能不同意这一点。但既然你说你是个十足的菜鸟，我说什么或他们说什么并不重要。你更容易理解的是。所以尝试一下

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T12:13:11.460

这是有关该主题的好读物：[http ://railsapps.github.io/rails-javascript-include-external.html](http://railsapps.github.io/rails-javascript-include-external.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T06:11:28.237

所有的 JavaScript 都应该在 app/assets/javascript

您也可以为特定视图创建一个单独的 js 文件，或者您可以在 application.js 文件中编写您的 js 代码

将此代码放入布局 <%= javascript_include_tag "application" %>

最后运行 rake assets:precompile

# c# - 使用 LINQ 从列表中返回对象的查询

> ID：15872217
> 
> 赞同：4
> 
> 时间：2013-04-08T05:58:49.947
> 
> 标签：c#, linq

我有一个 List Say foo，它包含 A 类类型的数据（包含成员 FName、LName、Total）。我需要获取 LName 为“foobar”的数据列表。

我知道这听起来很简单，但这让我很生气！因为我会在运行时让成员返回列表。

提前致谢

编辑：对不起极客，列表是动态的，列表是对象类型的。我只在运行时知道它的 A 类类型

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-08T06:00:43.977

使用 LINQ 可以轻松完成：

```
using System.Linq;

(...)

List<A> foo = GetFooList();    // gets data
List<A> fooBorItems = foo.Where(a = > a.FName == "foobar").ToList(); 
```

或使用基于语法的查询：

```
List<A> fooBorItems = (from a in foo
                       where a.FName == "foobar"
                       select a).ToList(); 
```

首先使用扩展方法`List<object>`。`Cast<T>`它将所有源集合元素转换为`A`（并在不可能时抛出异常）：

```
List<A> fooBorItems = foo.Cast<A>().Where(a = > a.FName == "foobar").ToList(); 
```

或`OfType<A>`（将仅返回可以转换的元素，不能转换的元素除外）：

```
List<A> fooBorItems = foo.OfType<A>().Where(a = > a.FName == "foobar").ToList(); 
```

# cuda - cuda中单个分配数组的设备内存上的多个指针

> ID：15872227
> 
> 赞同：0
> 
> 时间：2013-04-08T05:59:39.567
> 
> 标签：cuda, thrust

我想知道是否可以设置多个指向已在内存中分配的单个数据的指针？我问这个的原因是因为我在推力向量的帮助下用 gpu 实现了字典排序（并且在时间方面失败了）

例如，我正在尝试实现这些 c++ 语句的等价物

```
unsigned int * pword;      //setting up the array of memory for permutations of word
pword = new unsigned int [N*N];

unsigned int* * p_pword;    //pointers to permutation words
p_pword = new unsigned int* [N];

//setting up the pointers on the locations such that if N=4 then 0,4,8,12,...
int count;
for(count=0;count<N;count++)
        p_pword[count]=&pword[count*N]; 
```

我不是要求有人为我提供代码，我只是想知道有什么方法可以设置指向单个数据数组的指针。PS：我尝试了以下方法，但根本没有实现任何加速

```
int * raw_ptr = thrust::raw_pointer_cast(&d_Data[0]); //doing same with multiple pointers 
```

但我想由于我指向 device_vector 的事实，这可能是访问速度慢的问题

非常感谢这方面的任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:49:12.000

好吧，这没有任何意义：

```
int * raw_ptr = thrust::raw_pointer_cast([0]);
                                          ^ what is this?? 
```

我不认为那行会正确编译。

但在推力你当然可以做这样的事情：

```
#include <thrust/host_vector.h>
#include <thrust/device_vector.h>
#include <thrust/device_ptr.h>
#include <thrust/sequence.h>

int main(){

  int N=16;
  thrust::device_vector<int> d_A(4*N);
  thrust::sequence(d_A.begin(), d_A.end());
  thrust::device_ptr<int> p_A[N];
  for (int i=0; i<N; i++)
    p_A[i] = &(d_A[4*i]);
  thrust::host_vector<int> h_A(N);
  thrust::copy(p_A[4], p_A[8], h_A.begin());
  for (int i=0; i<N; i++)
    printf("h_A[%d] = %d\n", i, h_A[i]);
  return 0;
} 
```

不知道该说什么关于加速。在您发布的一小段代码的上下文中加速对我来说没有多大意义。

# css - 带负边距的 CSS 正填充

> ID：15872228
> 
> 赞同：9
> 
> 时间：2013-04-08T05:59:43.190
> 
> 标签：css

我在 Sonata 项目中看到了以下 css。

HTML：

```
<div class="content">
    <div class="header"></div>
</div> 
```

CSS：

```
.content {
    padding: 20px;
    margin: 0 -20px; /* negative indent the amount of the padding to maintain the grid system */
}

.header {
    padding: 20px 20px 10px;
    margin: -20px -20px 20px;
} 
```

我的问题是，拥有正填充然后用负边距否定它们的目的/优势是什么？该代码确实对负边距有评论，但我真的不明白。为什么不将边距和填充都设置为 0？

谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2015-03-07T21:08:09.103

像这样的负边距填充偏移的一种常见用途是修复浏览器在使用片段标识符和`position: fixed`标题时导航到错误的位置。

假设我有一个这样的页面......

```
<div class="fixed-navbar">Navbar Stuff!</div>

<a href="#interesting-content">Link to interesting content below</a>
<p>Lots of content that takes up space and makes the page scroll...</p>

<h2 id="interesting-content">Some interesting content</h2>
<p>Bla bla bla</p>

<p>More really tall content</p> 
```

...在哪里`.fixed-navbar`有这个CSS：

```
position: fixed;
height: 50px; 
```

当我访问我的页面并单击链接时，浏览器将向上滚动`<h2>`到页面顶部......导致它在固定导航栏下方！这可能是不可取的。（[小提琴](http://jsfiddle.net/f2whc291/1/)）

但是，我们可以使用以下 CSS 解决此问题：

```
#interesting-content {
    padding-top: 50px;
    margin-top: -50px;
} 
```

（[小提琴](http://jsfiddle.net/f2whc291/2/)）

现在，当我们要求浏览器导航到片段标识符时，它会导航到填充的顶部，比实际内容高一个 navbar-height。这会将实际内容定位在我们想要的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:01:38.090

请看一下[CSS 盒子模型](http://www.w3schools.com/css/css_boxmodel.asp)——你会注意到边框在填充和边距之间，因此上面最有可能用于将边框向外推。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T06:04:23.723

Box-sizing 可以帮助您清除使用 css3 的代码：[http://css-tricks.com/box-sizing/](http://css-tricks.com/box-sizing/)

# ruby-on-rails - Ruby on Rails 301 重定向

> ID：15872233
> 
> 赞同：8
> 
> 时间：2013-04-08T06:00:06.250
> 
> 标签：ruby-on-rails, redirect, seo, actioncontroller

我在一些模型中添加了 slug，但是由于 SEO，我需要从旧链接进行 301 重定向：旧的：

```
http://host.com/foo/1 
```

新的：

```
http://host.com/foo/foo_slug 
```

问题：这种情况下如何实现301重定向？是否可以从大写链接实现 301 重定向？像这样：

```
http://host.com/foo/FOO_SLUG -> http://host.com/foo/foo_slug 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-08T06:33:31.167

您应该能够通过将其添加到您的控制器操作来重定向状态 301：

```
redirect_to "http://host.com/foo/foo_slug", :status => 301 
```

有关详细信息，请参阅 API 文档[`redirect_to`](http://api.rubyonrails.org/classes/ActionController/Redirecting.html)。

并且将大写 URL 重定向到小写版本应该没有问题，尽管这可能由 HTTP 服务器层的某些东西（例如 Apache [mod_rewrite](http://httpd.apache.org/docs/current/mod/mod_rewrite.html)规则）更好地处理。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T06:39:34.687

对于 301 重定向，在您的控制器中写入以下代码：

headers["Status"] = "301 永久移动"

redirect_to " [http://host.com/foo/foo_slug](http://host.com/foo/foo_slug) " # 在你的情况下

对于第二个问题，如果您提到硬编码网址，请使用大写或小写。

否则，通过将整个 url 放入字符串中来使用 ruby​​ 插值

# asp.net-mvc-3 - AZURE ACS - Windows Live ID：如何识别唯一用户

> ID：15872235
> 
> 赞同：0
> 
> 时间：2013-04-08T06:00:20.380
> 
> 标签：asp.net-mvc-3, authentication, azure, windows-live-id, accesscontrolservice

对于我的 Web 应用程序，我使用 Azure ACS 进行身份验证。我遵循这个 [1]：http: [//msdn.microsoft.com/en-us/library/hh127794.aspx](http://msdn.microsoft.com/en-us/library/hh127794.aspx)来实现我的代码。我只对 Windows Live 用户进行身份验证。我发现 ACS 不提供用户信息，例如用户名、电子邮件等。

```
private static bool GetUrlFromContext(FormCollection form)
    {
        WSFederationMessage message = WSFederationMessage.CreateFromNameValueCollection(new Uri("http://www.notused.com"), form);

        return (message != null ? message.Context : null);
    } 
```

此代码验证了身份验证。但我需要一些唯一标识符来跟踪用户。

我正在寻找一个唯一 id 来保持跟踪用户。

```
WSFederationMessage.CreateFromNameValueCollection(new Uri("http://www.notused.com"), form); 
```

这会返回一个看起来像这样的响应

```
<t:RequestSecurityTokenResponse Context="http://localhost:64000/"><t:Lifetime><wsu:Created>2013-03-19T09:31:49.237Z</wsu:Created><wsu:Expires>2013-03-19T10:31:49.237Z</wsu:Expires></t:Lifetime><wsp:AppliesTo><EndpointReference><Address>http://localhost:64000/</Address></EndpointReference></wsp:AppliesTo><t:RequestedSecurityToken><Assertion ID="_ad47777b-18da-4142-8bb5-198a724ccb29" IssueInstant="2013-03-19T09:31:49.268Z" Version="2.0"><Issuer>https://logintest.accesscontrol.windows.net/</Issuer><ds:Signature><ds:SignedInfo><ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/><ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"/><ds:Reference URI="#_ad47777b-18da-4142-8bb5-198a724ccb29"><ds:Transforms><ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/><ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/></ds:Transforms><ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"/><ds:DigestValue>//gh2d9XZF9P7X4mqy/VxGamRMlH1Gt6xTI8BvcBbQg=</ds:DigestValue></ds:Reference></ds:SignedInfo><ds:SignatureValue>D/g5pZoyvTDxBZ4pvy4Pj3+GmnG8EgxHkAEtHHqYkD3DVNrOkwkd5+Ubg2jJBaHlzEcY6N+oGl+XsNvuMIyttk+lgnaCLTggYdcFJMkcBA/zaKdDdfG78tyV8ZU64hySRO5gSvZMIUBWRdryBNHzXuoGF2AsJkQzSTp3pZoutUQQ1Va3UsgE45hfEIoNzCG8t476F/p/njq0XB0+1Fl/87SN/oyYt58l8zX16R8sRTfAvN9DDFPaROyXMfDbRVF+T/6YCgZdRPtCtR+nZEYH8ss6QmZpd21nrgOYF0ASdxxe6bmq0gAT6VBiMhpO4B0FUzO30AezaGld1oYzi+nTYA==</ds:SignatureValue><KeyInfo><X509Data><X509Certificate>MIIDFDCCAfygAwIBAgIQJK0cd7iVIoRMyjnvkkDLDjANBgkqhkiG9w0BAQUFADAuMSwwKgYDVQQDEyNsb2dpbnRlc3QuYWNjZXNzY29udHJvbC53aW5kb3dzLm5ldDAeFw0xMzAzMTMwOTUzMjZaFw0xNDAzMTMxNTUzMjZaMC4xLDAqBgNVBAMTI2xvZ2ludGVzdC5hY2Nlc3Njb250cm9sLndpbmRvd3MubmV0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtio2R5cC28rleova/v928PzvoXXlnvllbQWbYpcxIfz8SQ6//+v3jqA07Zb4er6jpu697fQyR/qLJA3Xm0gwI2wj5nvGbOTLMTEo5tMy0RGeIpErHTEHFHgkPkvhwwehg18Ew+9h5Elsm+SAHfb1J2Bb3txhZ/ka02qeNWc2JRJeubnjTvOBHGPv9p3oeV0Wk5osZyg0bUOpbBAJamqcaeu2mrBt8zuPkH2jjHiJ2CqUv0/3BWwpeYzVQs8/PrWMsPgThgzaU/6toQLMyZRiJj16BkXNfimd4QjSwJZElyg2wHWmpn+WG4l7C1w3832eeMEBuyYX9XA/cY0j5wN+nQIDAQABoy4wLDALBgNVHQ8EBAMCBPAwHQYDVR0OBBYEFIaS77q7MmvRIMIJRaCB6h70Bf31MA0GCSqGSIb3DQEBBQUAA4IBAQAgxGatpwdOaenf5hwZXtIOcdDW74wEGiOrqD7N5dhVslG0a9R0J6IqaLtWCnx9bUWobsJl0qohLBrnTfZfeOnFmPlqTNL80KrikW/x+Ay5zXF9RYXnqZCx80Ty0WoQDtb7ogCmtMG7WwdoFBIiv5XOMzNcoLgcx/sWxemOIfswuKNCaWnBV7ai2cPv+kkVNj7XcMLxPKCG9/RoY1yq7LIKx5UWygJX68p7fhBkMY4uHxkaJwIhLgHXF4ozifjxKd/kWoYi01VSzB2ald3f1arog7Y0BujKHveLc6f0+eZWu/Og+/Cann9M0e2f9NzBNVVee37cyp7faSHDA7XUOAoB</X509Certificate></X509Data></KeyInfo></ds:Signature><Subject><NameID>xWTQfgjexVZ4sturSHZmdppGj/am1IweOYHgc139TrE=</NameID><SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"/></Subject><Conditions NotBefore="2013-03-19T09:31:49.237Z" NotOnOrAfter="2013-03-19T10:31:49.237Z"><AudienceRestriction><Audience>http://localhost:64000/</Audience></AudienceRestriction></Conditions><AttributeStatement><Attribute Name="http://schemas.microsoft.com/accesscontrolservice/2010/07/claims/identityprovider"><AttributeValue>uri:WindowsLiveID</AttributeValue></Attribute></AttributeStatement><AuthnStatement AuthnInstant="2013-03-19T07:36:40.000Z"><AuthnContext><AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</AuthnContextClassRef></AuthnContext></AuthnStatement></Assertion></t:RequestedSecurityToken><t:RequestedAttachedReference><SecurityTokenReference d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0"><KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_ad47777b-18da-4142-8bb5-198a724ccb29</KeyIdentifier></SecurityTokenReference></t:RequestedAttachedReference><t:RequestedUnattachedReference><SecurityTokenReference d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0"><KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_ad47777b-18da-4142-8bb5-198a724ccb29</KeyIdentifier></SecurityTokenReference></t:RequestedUnattachedReference><t:TokenType>urn:oasis:names:tc:SAML:2.0:assertion</t:TokenType><t:RequestType>http://schemas.xmlsoap.org/ws/2005/02/trust/Issue</t:RequestType><t:KeyType>http://schemas.xmlsoap.org/ws/2005/05/identity/NoProofKey</t:KeyType></t:RequestSecurityTokenResponse> 
```

我认为在这个响应`<NameID>xWTQfgjexVZ4sturSHZmdppGj/am1IweOYHgc139TrE=</NameID>`中包含独特的价值。但似乎 PC 与 PC 不同。

请建议我实现这一目标的方法。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:15:45.877

不，没有办法。然而，唯一性不是从 PC 到 PC，而是从应用程序到应用程序。从 ACS 命名空间到 ACS 命名空间。您应该检查 NameIdentifier Claim，我认为它已映射到此 NameID，但我很确定在相同的 ACS 命名空间上为同一依赖方使用相同的 LiveID 登录将始终为您提供相同的 NameIdentifier 声明。查看**我**对[这个 StackOverflow 问题](https://stackoverflow.com/questions/15375253/setting-up-azure-acs-roles)的回答，因为我深入解释了唯一性在哪里。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T03:10:51.157

最好的方法是使用自定义 STS 提供 calims。或者直接使用 Live connect，你可以查看这个代码示例

将云汇聚在一起：Azure + Bing Maps

[http://blogs.msdn.com/b/windows-azure-support/archive/2010/08/11/bring-the-clouds-together-azure-bing-maps.aspx](http://blogs.msdn.com/b/windows-azure-support/archive/2010/08/11/bring-the-clouds-together-azure-bing-maps.aspx)

# python - 使用 Python 按下键时在函数之间切换

> ID：15872239
> 
> 赞同：1
> 
> 时间：2013-04-08T06:00:36.227
> 
> 标签：python, function, toggle, turtle-graphics

嘿伙计们，我正在为 uni 做一个评估，我必须制作一本着色书，使用户能够使用空格键在两种模式之间切换。在第一种模式下，用户必须能够在不绘制任何线条的情况下移动海龟，而第二种模式必须启动用户可以绘制的画笔模式。我希望能够在 penup() 和 pendown() 之间切换按下空格键时海龟功能。有任何想法吗？

这是我到目前为止所拥有的：

```
from turtle import *
bgpic("Colour_A_Turkey.gif") # change this to change the picture

# PUT YOUR CODE HERE
setup(800,600)
home()
pen_size = 2
color("red")
title("Colouring Book")
speed("fastest") # Doesn't make any difference to accuracy, just makes turtle turn animation faster.
drawdist=10 # Distance in pixels pen travels when arrow key is pressed

penup()
###################BUTTON INSTRUCTIONS########################
def move_up():
        seth(90)
        forward(drawdist)

def move_down():
        seth(270)
        forward(drawdist)

def move_left():
        seth(180)
        forward(drawdist)

def move_right():
        seth(0)
        forward(drawdist)

def space_bar():

        if isdown()==True:
                penup()

        if isdown()==False:
                       pendown()
####Change pen color####
def red():
        color("red")

def green():
        color("green")

def blue():
        color("blue")

################BUTTON TRIGGERS##################
s= getscreen()

s.onkey(move_up,"Up")

s.onkey(move_down,"Down")

s.onkey(move_left,"Left")

s.onkey(move_right,"Right")

s.onkey(space_bar,"space")

s.onkey(red,"r")

s.onkey(green,"g")

s.onkey(blue,"b")

listen()

done() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:26:50.930

当调用 space_bar 时，isdown() 始终为真。
您是否只想在按下空格键时切换或绘制？

如果要切换，可以执行以下操作：

```
current_state = penup
next_state = pendown
def space_bar():
    global current_state, next_state
    next_state()
    current_state, next_state = next_state, current_state 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T08:36:10.117

```
from itertools import cycle

funcs = cycle([f1, f2])
next(funcs)() # alternates 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-17T23:24:53.613

这就是您在上笔和下笔之间切换的方式。

```
up = False

def pen_up():

    global up
    up = not up
    if up:
        t.penup()
    else:
        t.pendown()

ts.onkey(pen_up, 'space') 
```

# google-app-engine - Google Cloud Endpoints 与另一个 oAuth2 提供程序

> ID：15872240
> 
> 赞同：19
> 
> 时间：2013-04-08T06:00:37.960
> 
> 标签：google-app-engine, oauth-2.0, facebook-oauth, google-cloud-endpoints

有没有办法将另一个 OAuth2 提供程序与 Google Cloud Endpoints 一起使用？我的意思是，例如，从 Facebook 获取身份验证并以与我们使用 Google Account Auth 相同的方式使用它（使用 gapi js 并将 User 类放在`@ApiMethod`）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-12-13T09:22:47.287

您必须实现自己的`Authenticator`并更新`@Api`配置。基于这个[答案](https://stackoverflow.com/questions/25365858/google-cloud-endpoints-and-users-authentication)，一个简单的身份验证器将如下所示：

```
public class MyAuthenticator implements Authenticator {

    @Override
    public User authenticate(HttpServletRequest request) {
        String token = request.getHeader("Authorization");
        if (token != null) {
            // apply your Facebook/Twitter/OAuth2 authentication
            String user = authenticate(token);
            if (user != null) {
                return new User(user);
            }
        }
        return null;
    }
} 
```

还有你的 API 定义

```
@Api(name = "example", authenticators = {MyAuthenticator.class}) 
```

您可以在[Google 文档](https://cloud.google.com/appengine/docs/java/endpoints/javadoc/com/google/api/server/spi/config/Authenticator.html)中找到有关自定义身份验证器的更多信息。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-08T14:52:40.807

不，我遇到其他人问这个问题，谷歌人的回答（如果我没记错的话）是端点用户身份验证目前只支持谷歌帐户。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-04-20T03:12:22.237

我编写了一个示例，将 Facebook 访问令牌交换为我的应用程序生成的令牌，并从端点方法中对其进行验证：

[https://github.com/loudnate/appengine-endpoints-auth-example](https://github.com/loudnate/appengine-endpoints-auth-example)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-06-11T17:40:48.360

Google Cloud Endpoints 允许您将 User、HttpServletRequest 和 HttpServletContext 作为参数注入到您的 API 方法中。

它不是 OAuth2，但这是解决方案的开始： [https ://www.yanchware.com/custom-authentication-for-google-cloud-endpoints/](https://www.yanchware.com/custom-authentication-for-google-cloud-endpoints/)

建议的解决方案是在特定的 api 方法中注入 HttpServletRequest 来访问会话。

# jakarta-ee - 是否可以使用 CronTab 调用 java web 服务？

> ID：15872241
> 
> 赞同：1
> 
> 时间：2013-04-08T06:00:40.830
> 
> 标签：jakarta-ee, jax-ws, crontab

我已经在 J​​Boss 6 中使用 JaxRS 和 HIbernate 在 Java 中实现了 Web 服务，现在的要求是每隔 15 分钟更新一次数据库，所以有一个想法在 crontab 中进行，顺便说一句我想知道的是可以从 crontab 调用 web 服务，请告诉我处理它的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:17:23.423

我看到以下方式来称呼它：

1.  您可以使用 curl、java 应用程序或任何其他应用程序编写 bash 脚本，因此 cron 将执行它来调用您的 Web 服务。一个例子是[here](http://en.newinstance.it/2008/11/11/calling-webservice-at-the-unix-command-line/)
2.  您可以使用 jboss 管理的调度程序调用您的 web 服务。一个例子是[here](http://docs.jboss.org/ejb3/docs/tutorial/1.0.7/html/Quartz_scheduler_integration.html)

# php - 复选框的返回值

> ID：15872246
> 
> 赞同：0
> 
> 时间：2013-04-08T06:00:54.770
> 
> 标签：php, jquery, html

我试图返回我的复选框的值，你能帮我吗，因为如果值为 1，我仍然无法返回值我希望我的复选框中会有一个检查

这是我的代码：

```
 <input  type="hidden" name="stud_no[]" value="<?php echo $row['student_no'];?>">

    <input  type="text" name="prelim[]" value="<?php echo $row['prelim_pts']?>"  id="prelim_<?php echo $row['student_no'];?>" class="txtprelim" ></td>
    <td><input  type="text" name="midterm[]" value="<?php echo $row['midterm_pts']?>"  id="midterm_<?php echo $row['student_no'];?>" class="txtmidterm" ></td>
    <td> <input  type="text" name="final[]" value="<?php echo $row['finals_pts']?>" id="final_<?php echo $row['student_no'];?>" class="txtfinal" ></td>

<td>

<input type="text" name="average[]" id="average_<?php echo $row['student_no']; ?>" value="<?php echo $row['average_pts']; ?>"  readonly="readonly"> 

</td>
<td><input type="checkbox" name="disable[]" id="able" value="<?php echo $row['disable_comp'];?>" class="dis"> </td>

<?php

    echo "</tr>";
    }
}

    ?>
    <input type="hidden" name="sec_no" value="<?php echo $_GET["section_no"]; ?>" />
    <input type="submit" value="UPDATE">
    </form>

<script type="text/javascript" src="jquery-ui-1.8.2.custom.min.js"></script>
    <script type="text/javascript" src="jquery-1.4.2.min.js"></script>

    <script type="text/javascript">
    //var bIsFirebugReady = (!!window.console && !!window.console.log);

    $(document).ready(function(){

        p="";
        m="";
        f="";

 var computeValues = function(){
            var id = $(this).attr("id").replace("prelim_", "").replace("midterm_", "").replace("final_", "");
            p = $("#prelim_" + id).val();
            m = $("#midterm_" + id).val();
            f = $("#final_" + id).val();
            Compute(p, m, f, id);
        };

        $("input").bind('keyup', computeValues);

        function Compute(p, m, f, studno) {
            var average;
            average = parseFloat(p * 0.3) + parseFloat(m * 0.3) + parseFloat(f * 0.4);
            $("#average_" + studno).val(average.toFixed());     
        }

        $(".dis").change(function() {
            var val = $(this).val();
            if ($(this).is(':checked')) {
                var checked = $('input[type=checkbox]').is(':checked');
                $("input").unbind('keyup', computeValues);

            }
             else {
                $("input").bind('keyup', computeValues).trigger('keyup');

            }
        });
    });

</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:26:19.200

Try this:

```
var checked=$("#chkboxid").is(':checked'); 
```

`checked` will contain either true or false

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:12:21.670

```
var x = $(this).prop('checked'); 
```

# apache - 由于无限重定向，使用 mod_rewrite 获得 500

> ID：15872249
> 
> 赞同：0
> 
> 时间：2013-04-08T06:01:05.203
> 
> 标签：apache, mod-rewrite

我想拥有

> **`http://test.domain.net/2a`**

被处理为

> **`http://test.domain.net/?i=2a`**

由于无限重定向，我收到 500 错误。我的规则哪里出了问题？

```
RewriteEngine On
RewriteRule ^([^/]*)$ /?i=$1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T09:50:05.337

尝试：

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^/]+)$ /?i=$1 [L] 
```

# iphone - iPhone 应用程序在模拟器上正常工作，但在 iPad 上崩溃

> ID：15872250
> 
> 赞同：2
> 
> 时间：2013-04-08T06:01:05.400
> 
> 标签：iphone, ios-simulator, crash-reports

我在 iPhone 模拟器上运行应用程序，它工作正常，但是当我在设备上运行它时它崩溃了。我没有正确理解崩溃报告。请问有人能告诉我如何处理这种崩溃吗？

```
Here is the crash report :

Incident Identifier: 77B0FF91-C78E-4BAD-B6BF-E9F10AEA494C
CrashReporter Key:   a57294fe66cc148133bb27c8bde27a2c507aa3ce
Hardware Model:      iPad2,1
Process:         New2You4Kids [397]
Path:            /var/mobile/Applications/CE2E1DAC-A369-4867-8640-E82788D6AB53/New2You4Kids.app/New2You4Kids
Identifier:      New2You4Kids
Version:         ??? (???)
Code Type:       ARM (Native)
Parent Process:  launchd [1]

Date/Time:       2013-04-01 16:50:22.431 +0530
OS Version:      iOS 6.1.2 (10B146)
Report Version:  104

Exception Type:  EXC_BAD_ACCESS (SIGSEGV)
Exception Codes: KERN_INVALID_ADDRESS at 0xf0000008
Crashed Thread:  0

Thread 0 name:  Dispatch queue: com.apple.main-thread
Thread 0 Crashed:
0   libobjc.A.dylib                 0x3a4595b0 0x3a456000 + 13744
1   CoreFoundation                  0x3254630c 0x32543000 + 13068
2   QuartzCore                      0x341c9590 0x341b7000 + 75152
3   QuartzCore                      0x341cc9fc 0x341b7000 + 88572
4   QuartzCore                      0x341cc7ae 0x341b7000 + 87982
5   QuartzCore                      0x341bca70 0x341b7000 + 23152
6   QuartzCore                      0x341bb0a4 0x341b7000 + 16548
7   QuartzCore                      0x341baeac 0x341b7000 + 16044
8   CoreFoundation                  0x325da6ca 0x32543000 + 620234
9   CoreFoundation                  0x325d89bc 0x32543000 + 612796
10  CoreFoundation                  0x3254bede 0x32543000 + 36574
11  CoreFoundation                  0x3254bd44 0x32543000 + 36164
12  GraphicsServices                0x361002e6 0x360fb000 + 21222
13  UIKit                           0x344612fc 0x3440a000 + 357116
14  New2You4Kids                    0x000df786 0xde000 + 6022
15  libdyld.dylib                   0x3a895b1c 0x3a894000 + 6940

Thread 1 name:  Dispatch queue: com.apple.libdispatch-manager
Thread 1:
0   libsystem_kernel.dylib          0x3a94c648 0x3a94b000 + 5704
1   libdispatch.dylib               0x3a87c974 0x3a874000 + 35188
2   libdispatch.dylib               0x3a87c654 0x3a874000 + 34388

Thread 2 name:  WebThread
Thread 2:
0   libsystem_kernel.dylib          0x3a94beb4 0x3a94b000 + 3764
1   libsystem_kernel.dylib          0x3a94c048 0x3a94b000 + 4168
2   CoreFoundation                  0x325da040 0x32543000 + 618560
3   CoreFoundation                  0x325d8d9e 0x32543000 + 613790
4   CoreFoundation                  0x3254beb8 0x32543000 + 36536
5   CoreFoundation                  0x3254bd44 0x32543000 + 36164
6   WebCore                         0x38512500 0x38508000 + 42240
7   libsystem_c.dylib               0x3a8b530e 0x3a8a4000 + 70414
8   libsystem_c.dylib               0x3a8b51d4 0x3a8a4000 + 70100

Thread 3 name:  com.apple.NSURLConnectionLoader
Thread 3:
0   libsystem_kernel.dylib          0x3a94beb4 0x3a94b000 + 3764
1   libsystem_kernel.dylib          0x3a94c048 0x3a94b000 + 4168
2   CoreFoundation                  0x325da040 0x32543000 + 618560
3   CoreFoundation                  0x325d8d9e 0x32543000 + 613790
4   CoreFoundation                  0x3254beb8 0x32543000 + 36536
5   CoreFoundation                  0x3254bd44 0x32543000 + 36164
6   Foundation                      0x32e983d0 0x32e6b000 + 185296
7   Foundation                      0x32f1be80 0x32e6b000 + 724608
8   libsystem_c.dylib               0x3a8b530e 0x3a8a4000 + 70414
9   libsystem_c.dylib               0x3a8b51d4 0x3a8a4000 + 70100

Thread 4 name:  com.apple.CFSocket.private
Thread 4:
0   libsystem_kernel.dylib          0x3a95c594 0x3a94b000 + 71060
1   CoreFoundation                  0x325de1f2 0x32543000 + 635378
2   libsystem_c.dylib               0x3a8b530e 0x3a8a4000 + 70414
3   libsystem_c.dylib               0x3a8b51d4 0x3a8a4000 + 70100

Thread 5 name:  com.apple.coremedia.player.async
Thread 5:
0   libsystem_kernel.dylib          0x3a95c08c 0x3a94b000 + 69772
1   libsystem_c.dylib               0x3a8add2a 0x3a8a4000 + 40234
2   libsystem_c.dylib               0x3a8b7f14 0x3a8a4000 + 81684
3   CoreMedia                       0x32b318ac 0x32b2e000 + 14508
4   MediaToolbox                    0x33623e56 0x33620000 + 15958
5   CoreMedia                       0x32b4f890 0x32b2e000 + 137360
6   libsystem_c.dylib               0x3a8b530e 0x3a8a4000 + 70414
7   libsystem_c.dylib               0x3a8b51d4 0x3a8a4000 + 70100

Thread 6 name:  Dispatch queue: com.apple.root.default-priority
Thread 6:
0   libsystem_kernel.dylib          0x3a94beb4 0x3a94b000 + 3764
1   libsystem_kernel.dylib          0x3a94c048 0x3a94b000 + 4168
2   CoreFoundation                  0x325da040 0x32543000 + 618560
3   CoreFoundation                  0x325d8d9e 0x32543000 + 613790
4   CoreFoundation                  0x3254beb8 0x32543000 + 36536
5   CoreFoundation                  0x3254bd44 0x32543000 + 36164
6   CFNetwork                       0x322ad2ca 0x3225a000 + 340682
7   Foundation                      0x32f401c2 0x32e6b000 + 872898
8   Foundation                      0x32e99642 0x32e6b000 + 190018
9   Foundation                      0x32ed5802 0x32e6b000 + 436226
10  New2You4Kids                    0x000e2d96 0xde000 + 19862
11  libdispatch.dylib               0x3a87611c 0x3a874000 + 8476
12  libdispatch.dylib               0x3a87a95c 0x3a874000 + 26972
13  libdispatch.dylib               0x3a87aabc 0x3a874000 + 27324
14  libsystem_c.dylib               0x3a8aaa0e 0x3a8a4000 + 27150
15  libsystem_c.dylib               0x3a8aa8a0 0x3a8a4000 + 26784

Thread 7:
0   libsystem_kernel.dylib          0x3a95cd98 0x3a94b000 + 73112
1   libsystem_c.dylib               0x3a8aacf6 0x3a8a4000 + 27894
2   libsystem_c.dylib               0x3a8aaa12 0x3a8a4000 + 27154
3   libsystem_c.dylib               0x3a8aa8a0 0x3a8a4000 + 26784

Thread 8:
0   libsystem_kernel.dylib          0x3a95cd98 0x3a94b000 + 73112
1   libsystem_c.dylib               0x3a8aacf6 0x3a8a4000 + 27894
2   libsystem_c.dylib               0x3a8aaa12 0x3a8a4000 + 27154
3   libsystem_c.dylib               0x3a8aa8a0 0x3a8a4000 + 26784

Thread 9:
0   libsystem_kernel.dylib          0x3a95cd98 0x3a94b000 + 73112
1   libsystem_c.dylib               0x3a8aacf6 0x3a8a4000 + 27894
2   libsystem_c.dylib               0x3a8aaa12 0x3a8a4000 + 27154
3   libsystem_c.dylib               0x3a8aa8a0 0x3a8a4000 + 26784

Thread 10:
0   libsystem_kernel.dylib          0x3a95cd98 0x3a94b000 + 73112
1   libsystem_c.dylib               0x3a8aacf6 0x3a8a4000 + 27894
2   libsystem_c.dylib               0x3a8aaa12 0x3a8a4000 + 27154
3   libsystem_c.dylib               0x3a8aa8a0 0x3a8a4000 + 26784

Thread 0 crashed with ARM Thread State (32-bit):
    r0: 0x1f35a320    r1: 0x38080a5e      r2: 0x0000035a      r3: 0x025e1f90
    r4: 0xf0000000    r5: 0x1f35a324      r6: 0x028a4670      r7: 0x2fd22988
    r8: 0x1f35a320    r9: 0x0e020297     r10: 0x00000000     r11: 0x1e971800
    ip: 0x3aab6718    sp: 0x2fd2294c      lr: 0x32546311      pc: 0x3a4595b0
  cpsr: 0x20000030

Binary Images:
   0xde000 -    0xfffff +New2You4Kids armv7  <0957774457a437c7afb8dff1cbeb1286> /var/mobile/Applications/CE2E1DAC-A369-4867-8640-E82788D6AB53/New2You4Kids.app/New2You4Kids
0x2fe04000 - 0x2fe24fff  dyld armv7  <454baf45f9a831aa88e1ea4447c58d4e> /usr/lib/dyld
0x31726000 - 0x3180cfff  AVFoundation armv7  <320761e836883aeabf3cb5c53edb636d> /System/Library/Frameworks/AVFoundation.framework/AVFoundation
0x3180d000 - 0x3180dfff  Accelerate armv7  <b68ff92e404931f3bcb6361720f77724> /System/Library/Frameworks/Accelerate.framework/Accelerate
0x3180e000 - 0x3194cfff  vImage armv7  <30522b92940d3dd184c8e46780594048> /System/Library/Frameworks/Accelerate.framework/Frameworks/vImage.framework/vImage
0x3194d000 - 0x31a30fff  libBLAS.dylib armv7  <d8edada1cea133458ca779e34a3a7f88> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libBLAS.dylib
0x31a31000 - 0x31ce6fff  libLAPACK.dylib armv7  <9e08aead79d13043bab622402a270fba> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libLAPACK.dylib
0x31ce7000 - 0x31d40fff  libvDSP.dylib armv7  <09e2a5e3e9203950890ba57592523132> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libvDSP.dylib
0x31d41000 - 0x31d52fff  libvMisc.dylib armv7  <7b7d4ccc9f2b364cb0da4251e745545d> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libvMisc.dylib
0x31d53000 - 0x31d53fff  vecLib armv7  <a7751c047dcc35ba8885212e1938b93f> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/vecLib
0x31d54000 - 0x31d65fff  Accounts armv7  <ea2de358b6cc3baab27d6ab809c31e39> /System/Library/Frameworks/Accounts.framework/Accounts
0x31d67000 - 0x31dcbfff  AddressBook armv7  <3001f4364f9d3222b2a500a9f6897af8> /System/Library/Frameworks/AddressBook.framework/AddressBook
0x31dcc000 - 0x31e86fff  AddressBookUI armv7  <0017d0a0c2593522acaaa0eee41775e4> /System/Library/Frameworks/AddressBookUI.framework/AddressBookUI
0x31fd1000 - 0x32259fff  AudioToolbox armv7  <bb11489c87e93a3b8c26aa995a2fdec9> /System/Library/Frameworks/AudioToolbox.framework/AudioToolbox
0x3225a000 - 0x3231ffff  CFNetwork armv7  <4771a5e4f9b83bceb252f0f3d166aaca> /System/Library/Frameworks/CFNetwork.framework/CFNetwork
0x32320000 - 0x32376fff  CoreAudio armv7  <5d534dbf76ff30f4a628f25f56c5f26a> /System/Library/Frameworks/CoreAudio.framework/CoreAudio
0x3238a000 - 0x32542fff  CoreData armv7  <3930f672c76535a2abb768ee59958fa7> /System/Library/Frameworks/CoreData.framework/CoreData
0x32543000 - 0x32675fff  CoreFoundation armv7  <fcb8d4e838543bcb9a52c9f232b8b4eb> /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
0x32676000 - 0x327aefff  CoreGraphics armv7  <81e213f810a034d4ba411f9b505da2a6> /System/Library/Frameworks/CoreGraphics.framework/CoreGraphics
0x327b0000 - 0x327ebfff  libCGFreetype.A.dylib armv7  <a5d20b80ab1532d8831027a66d2d9eb5> /System/Library/Frameworks/CoreGraphics.framework/Resources/libCGFreetype.A.dylib
0x329cf000 - 0x329eafff  libRIP.A.dylib armv7  <ec1487f9bdb93597a3f8d434406ad9bf> /System/Library/Frameworks/CoreGraphics.framework/Resources/libRIP.A.dylib
0x329eb000 - 0x32aa0fff  CoreImage armv7  <6ae4ae2461313e3f84c6a8102d5b1b0e> /System/Library/Frameworks/CoreImage.framework/CoreImage
0x32aa1000 - 0x32af9fff  CoreLocation armv7  <4107e94cdf043d6089e99cbd30631b07> /System/Library/Frameworks/CoreLocation.framework/CoreLocation
0x32b2e000 - 0x32b93fff  CoreMedia armv7  <8592bdc268b83b8886acfc1fdab649ed> /System/Library/Frameworks/CoreMedia.framework/CoreMedia
0x32b94000 - 0x32c1cfff  CoreMotion armv7  <908cc54aecf5318e9719c4c9d70ef2e8> /System/Library/Frameworks/CoreMotion.framework/CoreMotion
0x32c1d000 - 0x32c73fff  CoreTelephony armv7  <c5a2e59bb15d35b8a8e356e129b78b5e> /System/Library/Frameworks/CoreTelephony.framework/CoreTelephony
0x32c74000 - 0x32cd6fff  CoreText armv7  <e135debbc8f937299f4986fc3e9459e3> /System/Library/Frameworks/CoreText.framework/CoreText
0x32cd7000 - 0x32ce6fff  CoreVideo armv7  <00f18bb26e663da9ae251a6ec36a19ec> /System/Library/Frameworks/CoreVideo.framework/CoreVideo
0x32ce7000 - 0x32d9bfff  EventKit armv7  <f354855acc6535c99836e0c1e13df6b1> /System/Library/Frameworks/EventKit.framework/EventKit
0x32e6b000 - 0x3302efff  Foundation armv7  <0179934581d13346aa7583165108b95c> /System/Library/Frameworks/Foundation.framework/Foundation
0x331e9000 - 0x33232fff  IOKit armv7  <a98ba9fefc7333e4a5a9169198848c62> /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x33233000 - 0x3340bfff  ImageIO armv7  <b5ce84bb074d3de4b07b55da9fd8bfd1> /System/Library/Frameworks/ImageIO.framework/ImageIO
0x33485000 - 0x3361ffff  MediaPlayer armv7  <29ae22068ac9333cb93ea33128e76108> /System/Library/Frameworks/MediaPlayer.framework/MediaPlayer
0x33620000 - 0x3389afff  MediaToolbox armv7  <ed439fc5c9a03f8b9fae43af33de8a57> /System/Library/Frameworks/MediaToolbox.framework/MediaToolbox
0x3389b000 - 0x33921fff  MessageUI armv7  <8dbc0a8e6a253c8c8d6301064f23dfea> /System/Library/Frameworks/MessageUI.framework/MessageUI
0x33922000 - 0x3397bfff  MobileCoreServices armv7  <77da8a9e7f813f5baf37eaa4a87fae84> /System/Library/Frameworks/MobileCoreServices.framework/MobileCoreServices
0x33a6a000 - 0x33a71fff  OpenGLES armv7  <f2ede6b206f336de82cc38619692e762> /System/Library/Frameworks/OpenGLES.framework/OpenGLES
0x33a73000 - 0x33a73fff  libCVMSPluginSupport.dylib armv7  <2506af1c983f3f09ac69aca44f67e863> /System/Library/Frameworks/OpenGLES.framework/libCVMSPluginSupport.dylib
0x33a77000 - 0x33a79fff  libCoreVMClient.dylib armv7  <af6ff28dce6031baaa850ccc79e5699b> /System/Library/Frameworks/OpenGLES.framework/libCoreVMClient.dylib
0x33a7a000 - 0x33a7efff  libGFXShared.dylib armv7  <a6ac1673a088379aa512ba5cac301f5b> /System/Library/Frameworks/OpenGLES.framework/libGFXShared.dylib
0x33a7f000 - 0x33abcfff  libGLImage.dylib armv7  <b8b8f3a1bfd0345e86aa0c2952534949> /System/Library/Frameworks/OpenGLES.framework/libGLImage.dylib
0x341b7000 - 0x342ccfff  QuartzCore armv7  <c086b6e6cd9d341399bcc3675c82f1fe> /System/Library/Frameworks/QuartzCore.framework/QuartzCore
0x342cd000 - 0x3431afff  QuickLook armv7  <954e3a8bdaf337b085b30fd514ea5f3a> /System/Library/Frameworks/QuickLook.framework/QuickLook
0x3431b000 - 0x34349fff  Security armv7  <fbc24f15bd9e37539cdd6e3576bde938> /System/Library/Frameworks/Security.framework/Security
0x343c8000 - 0x34407fff  SystemConfiguration armv7  <410d69b356e533d6a1d538cf33059634> /System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration
0x3440a000 - 0x3495efff  UIKit armv7  <e138ca6a809b399691d933dd3d58d00e> /System/Library/Frameworks/UIKit.framework/UIKit
0x3495f000 - 0x3499dfff  VideoToolbox armv7  <d2e8067306d9346ab4a448f10f336894> /System/Library/Frameworks/VideoToolbox.framework/VideoToolbox
0x34bab000 - 0x34bccfff  ACTFramework armv7  <327ca3ba889730549c2e47a3d88ab89a> /System/Library/PrivateFrameworks/ACTFramework.framework/ACTFramework
0x34c26000 - 0x34c32fff  AccountSettings armv7  <8db45acc4d3d3017af10fa5ee82c2306> /System/Library/PrivateFrameworks/AccountSettings.framework/AccountSettings
0x34c79000 - 0x34c7cfff  ActorKit armv7  <5dfc59258ea63006be9c542e5fafbc45> /System/Library/PrivateFrameworks/ActorKit.framework/ActorKit
0x34c7e000 - 0x34c81fff  AggregateDictionary armv7  <a2170ad876f13ef1b944547913d05af2> /System/Library/PrivateFrameworks/AggregateDictionary.framework/AggregateDictionary
0x34d6a000 - 0x34d7dfff  AirTraffic armv7  <752b64045f4d3ea88a946b53b731ce1a> /System/Library/PrivateFrameworks/AirTraffic.framework/AirTraffic
0x350ad000 - 0x350e8fff  AppSupport armv7  <921794b7d82a3558a0eb860979be199c> /System/Library/PrivateFrameworks/AppSupport.framework/AppSupport
0x350e9000 - 0x3510dfff  AppleAccount armv7  <c54536fbc0f235f693060be33d4d4749> /System/Library/PrivateFrameworks/AppleAccount.framework/AppleAccount
0x3511a000 - 0x35127fff  ApplePushService armv7  <8bad4a9300db3d4d8555535f25c32da4> /System/Library/PrivateFrameworks/ApplePushService.framework/ApplePushService
0x3515b000 - 0x35164fff  AssetsLibraryServices armv7  <de7ca29cd47433cd8eca9c04102f5508> /System/Library/PrivateFrameworks/AssetsLibraryServices.framework/AssetsLibraryServices
0x3517e000 - 0x35195fff  BackBoardServices armv7  <585cc62d83c530ee82988de940c1e161> /System/Library/PrivateFrameworks/BackBoardServices.framework/BackBoardServices
0x3519f000 - 0x351c3fff  Bom armv7  <b5315d733e123a0781683efdc734064b> /System/Library/PrivateFrameworks/Bom.framework/Bom
0x351d6000 - 0x35205fff  BulletinBoard armv7  <9f46015c5d263064901f7725f4bb93e0> /System/Library/PrivateFrameworks/BulletinBoard.framework/BulletinBoard
0x35243000 - 0x3524afff  CaptiveNetwork armv7  <a4f4b86cc84839f78ff746f013bcee6f> /System/Library/PrivateFrameworks/CaptiveNetwork.framework/CaptiveNetwork
0x3524b000 - 0x35315fff  Celestial armv7  <a688df527b65382da586ebc87f28c061> /System/Library/PrivateFrameworks/Celestial.framework/Celestial
0x35322000 - 0x35326fff  CertUI armv7  <ce979f715cdb3cb5a0f7935f14cc0b35> /System/Library/PrivateFrameworks/CertUI.framework/CertUI
0x353cc000 - 0x353e5fff  ChunkingLibrary armv7  <ec2f76b3ac723a39bbf3f122d7fe73cf> /System/Library/PrivateFrameworks/ChunkingLibrary.framework/ChunkingLibrary
0x353f9000 - 0x353fefff  CommonUtilities armv7  <f8fea9ee6ca236b0a7fa6c00eb8a0d24> /System/Library/PrivateFrameworks/CommonUtilities.framework/CommonUtilities
0x35483000 - 0x354b3fff  ContentIndex armv7  <00ed488e47ee34ca9f01f2cc911f453c> /System/Library/PrivateFrameworks/ContentIndex.framework/ContentIndex
0x3552f000 - 0x35617fff  CoreMediaStream armv7  <828bf27fe7a3337cbff7dd8837508819> /System/Library/PrivateFrameworks/CoreMediaStream.framework/CoreMediaStream
0x356c4000 - 0x356c5fff  CoreSurface armv7  <6065f7e040e93d6ea2837e929592cc30> /System/Library/PrivateFrameworks/CoreSurface.framework/CoreSurface
0x3572d000 - 0x35731fff  CoreTime armv7  <5f0b123555f03d8aa76cc54314907942> /System/Library/PrivateFrameworks/CoreTime.framework/CoreTime
0x35732000 - 0x35737fff  CrashReporterSupport armv7  <03ee46e3ca3f3920a7174e62096723fb> /System/Library/PrivateFrameworks/CrashReporterSupport.framework/CrashReporterSupport
0x35738000 - 0x35774fff  DataAccess armv7  <d7185042adf63908ae87fe4a5c3f8a6c> /System/Library/PrivateFrameworks/DataAccess.framework/DataAccess
0x35909000 - 0x3591bfff  DataAccessExpress armv7  <b9423867a9ef303b87d2e1eac1712957> /System/Library/PrivateFrameworks/DataAccessExpress.framework/DataAccessExpress
0x3595a000 - 0x3595bfff  DataMigration armv7  <5903e08348b83f119022cbbf83ad100a> /System/Library/PrivateFrameworks/DataMigration.framework/DataMigration
0x3595e000 - 0x35977fff  DictionaryServices armv7  <84669055e3e63d6ab56b8fe7b0476aaa> /System/Library/PrivateFrameworks/DictionaryServices.framework/DictionaryServices
0x3597f000 - 0x35997fff  EAP8021X armv7  <82a73adcf1db3d2f9e57cd22f71e44c9> /System/Library/PrivateFrameworks/EAP8021X.framework/EAP8021X
0x359a7000 - 0x359abfff  FTClientServices armv7  <6354e5b30919340db3b976312b284fce> /System/Library/PrivateFrameworks/FTClientServices.framework/FTClientServices
0x359ac000 - 0x359e9fff  FTServices armv7  <89c066d12a6031038a9b8c61221abc0a> /System/Library/PrivateFrameworks/FTServices.framework/FTServices
0x359ea000 - 0x35dfdfff  FaceCoreLight armv7  <43de0b31da3b39e4acf85ec2c8d5c65c> /System/Library/PrivateFrameworks/FaceCoreLight.framework/FaceCoreLight
0x35ff5000 - 0x36001fff  GenerationalStorage armv7  <d77ad2367fff37d485480aa39df7d325> /System/Library/PrivateFrameworks/GenerationalStorage.framework/GenerationalStorage
0x36002000 - 0x360fafff  GeoServices armv7  <206a365f6bfe3278a9aecc1601015c7d> /System/Library/PrivateFrameworks/GeoServices.framework/GeoServices
0x360fb000 - 0x36106fff  GraphicsServices armv7  <d4b7fd6509753bff9525fef374ddc359> /System/Library/PrivateFrameworks/GraphicsServices.framework/GraphicsServices
0x36175000 - 0x361f0fff  HomeSharing armv7  <280b77b71df23f1cb5c9a2b76fc53212> /System/Library/PrivateFrameworks/HomeSharing.framework/HomeSharing
0x361f1000 - 0x361fbfff  IAP armv7  <a9554a91bbb9308f96fcd9fddf596275> /System/Library/PrivateFrameworks/IAP.framework/IAP
0x362b3000 - 0x3632bfff  IMCore armv7  <d5f1d98ec53d3acbb51b116e93923d9c> /System/Library/PrivateFrameworks/IMCore.framework/IMCore
0x363f2000 - 0x3643efff  IMFoundation armv7  <797535fc363c3f818bcd1424251393bf> /System/Library/PrivateFrameworks/IMFoundation.framework/IMFoundation
0x36445000 - 0x36446fff  IOAccelerator armv7  <9655464326203d258d3d0fc7e94651e2> /System/Library/PrivateFrameworks/IOAccelerator.framework/IOAccelerator
0x36447000 - 0x3644cfff  IOMobileFramebuffer armv7  <f38c374982a931d5a47458dd3c34ac59> /System/Library/PrivateFrameworks/IOMobileFramebuffer.framework/IOMobileFramebuffer
0x3644d000 - 0x36451fff  IOSurface armv7  <a55bf03c35de3fd9b56dce82083c3d10> /System/Library/PrivateFrameworks/IOSurface.framework/IOSurface
0x36452000 - 0x36495fff  ImageCapture armv7  <60569acc856831c4bc78c3e7cb0c30cf> /System/Library/PrivateFrameworks/ImageCapture.framework/ImageCapture
0x3649b000 - 0x36641fff  JavaScriptCore armv7  <a5780997f4b738659172f40877c9a7d9> /System/Library/PrivateFrameworks/JavaScriptCore.framework/JavaScriptCore
0x36672000 - 0x366a8fff  MIME armv7  <c88b555e957e3489b3733a9ede6c7ade> /System/Library/PrivateFrameworks/MIME.framework/MIME
0x366a9000 - 0x366dffff  MMCS armv7  <7f329f193ef138c2b372e8b16e855bce> /System/Library/PrivateFrameworks/MMCS.framework/MMCS
0x366e7000 - 0x366f1fff  MailServices armv7  <a688a9972cb43169a19d2f2f57121a1e> /System/Library/PrivateFrameworks/MailServices.framework/MailServices
0x3670d000 - 0x36765fff  ManagedConfiguration armv7  <44bbb2ba85c8320bb9e73c654b90f8c0> /System/Library/PrivateFrameworks/ManagedConfiguration.framework/ManagedConfiguration
0x36766000 - 0x3676bfff  Marco armv7  <da45fc9b228b3d1fad95e03071441585> /System/Library/PrivateFrameworks/Marco.framework/Marco
0x3677c000 - 0x367f2fff  MediaControlSender armv7  <9fb205b64b5333a495ac61c149e0304b> /System/Library/PrivateFrameworks/MediaControlSender.framework/MediaControlSender
0x367f3000 - 0x367fcfff  MediaRemote armv7  <73da55e989e73cb9ad6e9fdd4604ecc3> /System/Library/PrivateFrameworks/MediaRemote.framework/MediaRemote
0x367fd000 - 0x36811fff  MediaStream armv7  <86443ae270083a829e1797d24cd0d17c> /System/Library/PrivateFrameworks/MediaStream.framework/MediaStream
0x3686f000 - 0x36928fff  Message armv7  <7df6983ae878398f9aee4e5e675ae68b> /System/Library/PrivateFrameworks/Message.framework/Message
0x36931000 - 0x36933fff  MessageSupport armv7  <b838e70face13124a74ea5293cb0d585> /System/Library/PrivateFrameworks/MessageSupport.framework/MessageSupport
0x3693c000 - 0x36969fff  MobileAsset armv7  <3a9e6258ae1230f5b12f1638b09cb974> /System/Library/PrivateFrameworks/MobileAsset.framework/MobileAsset
0x36996000 - 0x369a5fff  MobileDeviceLink armv7  <817380030c613284a12074d960087522> /System/Library/PrivateFrameworks/MobileDeviceLink.framework/MobileDeviceLink
0x369ae000 - 0x369b1fff  MobileInstallation armv7  <c63e4b1ae40635cd9c6a7de851c80d10> /System/Library/PrivateFrameworks/MobileInstallation.framework/MobileInstallation
0x369b2000 - 0x369b8fff  MobileKeyBag armv7  <35882c57076334aeb0641969a9b69ff3> /System/Library/PrivateFrameworks/MobileKeyBag.framework/MobileKeyBag
0x369f1000 - 0x36a14fff  MobileSync armv7  <1edd78024ae13e9997972ee905bc944e> /System/Library/PrivateFrameworks/MobileSync.framework/MobileSync
0x36a15000 - 0x36a18fff  MobileSystemServices armv7  <10b4eee2739c353183ac2cfe4e39a443> /System/Library/PrivateFrameworks/MobileSystemServices.framework/MobileSystemServices
0x36a30000 - 0x36a39fff  MobileWiFi armv7  <bb4efbe3c7273c0fb534f12789756089> /System/Library/PrivateFrameworks/MobileWiFi.framework/MobileWiFi
0x36a53000 - 0x36b97fff  MusicLibrary armv7  <3870f4cb0c8b36778ad1a3f7556547f7> /System/Library/PrivateFrameworks/MusicLibrary.framework/MusicLibrary
0x36baf000 - 0x36bc8fff  Notes armv7  <3d4a8d4b012a3743b0ffc8dc33fb79e9> /System/Library/PrivateFrameworks/Notes.framework/Notes
0x36bc9000 - 0x36bcbfff  OAuth armv7  <575df12a2f2436af92e31494c3b74465> /System/Library/PrivateFrameworks/OAuth.framework/OAuth
0x37305000 - 0x3732afff  OpenCL armv7  <5bf059a9deb632678d70099f14f51b82> /System/Library/PrivateFrameworks/OpenCL.framework/OpenCL
0x3768b000 - 0x376a8fff  PersistentConnection armv7  <c773b3dc885832f8a916de67f24f9f92> /System/Library/PrivateFrameworks/PersistentConnection.framework/PersistentConnection
0x376b2000 - 0x37819fff  PhotoLibrary armv7  <8ebe772b121539d582f4aefc9476ff68> /System/Library/PrivateFrameworks/PhotoLibrary.framework/PhotoLibrary
0x3781a000 - 0x37901fff  PhotoLibraryServices armv7  <e67930f821d53e0992f377b697551039> /System/Library/PrivateFrameworks/PhotoLibraryServices.framework/PhotoLibraryServices
0x3793e000 - 0x37966fff  PrintKit armv7  <3f0b9c58a458358eb506858e8ff9e1fe> /System/Library/PrivateFrameworks/PrintKit.framework/PrintKit
0x37967000 - 0x379dbfff  ProofReader armv7  <9cb25467554637bcb268ba30527d3c0f> /System/Library/PrivateFrameworks/ProofReader.framework/ProofReader
0x379dc000 - 0x379e4fff  ProtocolBuffer armv7  <d1f2888d5e5a39cca6a6179a35c86770> /System/Library/PrivateFrameworks/ProtocolBuffer.framework/ProtocolBuffer
0x37b20000 - 0x37b31fff  SpringBoardServices armv7  <e2571f80a0ad3dc580c69794457bd887> /System/Library/PrivateFrameworks/SpringBoardServices.framework/SpringBoardServices
0x37b32000 - 0x37b46fff  SpringBoardUI armv7  <896351fe7cd630bd8c8670e97e133f4c> /System/Library/PrivateFrameworks/SpringBoardUI.framework/SpringBoardUI
0x37b72000 - 0x37c4dfff  StoreServices armv7  <6d45f42eff2736d18cdd81af0473dd5a> /System/Library/PrivateFrameworks/StoreServices.framework/StoreServices
0x37c9b000 - 0x37c9dfff  TCC armv7  <d5bef30a5bda315194173b862975f9fb> /System/Library/PrivateFrameworks/TCC.framework/TCC
0x37c9e000 - 0x37cbbfff  TelephonyUI armv7  <f4944c45b790382ea44b08f088b27d6f> /System/Library/PrivateFrameworks/TelephonyUI.framework/TelephonyUI
0x37cbc000 - 0x37cc9fff  TelephonyUtilities armv7  <803d7a92439238ee942086999c481eb6> /System/Library/PrivateFrameworks/TelephonyUtilities.framework/TelephonyUtilities
0x37cca000 - 0x380eefff  TextInput armv7  <d54d5ca42b503f26ab45e5efd4b87135> /System/Library/PrivateFrameworks/TextInput.framework/TextInput
0x380ef000 - 0x3811dfff  ToneLibrary armv7  <99c310617b7d3fe4bdabf13892fc6f0c> /System/Library/PrivateFrameworks/ToneLibrary.framework/ToneLibrary
0x3814c000 - 0x381ecfff  UIFoundation armv7  <9a464526e26634bc834537e5ac3abf1f> /System/Library/PrivateFrameworks/UIFoundation.framework/UIFoundation
0x384e8000 - 0x38507fff  WebBookmarks armv7  <77b65bc9c87b367ebea9a5b7984b13a5> /System/Library/PrivateFrameworks/WebBookmarks.framework/WebBookmarks
0x38508000 - 0x38e37fff  WebCore armv7  <ce52fd40ccc236c4b86c020beabb1bb0> /System/Library/PrivateFrameworks/WebCore.framework/WebCore
0x38e38000 - 0x38f15fff  WebKit armv7  <dee20c7689bc3e029172b488d8c5f772> /System/Library/PrivateFrameworks/WebKit.framework/WebKit
0x38fb9000 - 0x38fbffff  XPCKit armv7  <cf94468d5a44389e8fdfd2b0802c4378> /System/Library/PrivateFrameworks/XPCKit.framework/XPCKit
0x38fc0000 - 0x38fc7fff  XPCObjects armv7  <723fe314ab95381cbfa69a0000005692> /System/Library/PrivateFrameworks/XPCObjects.framework/XPCObjects
0x3911a000 - 0x39155fff  iCalendar armv7  <1c4486846efd3c9480174d9e7df8cec6> /System/Library/PrivateFrameworks/iCalendar.framework/iCalendar
0x39437000 - 0x3946ffff  iTunesStore armv7  <e88e4626134b32f8bac8e3f79afddf24> /System/Library/PrivateFrameworks/iTunesStore.framework/iTunesStore
0x39cd7000 - 0x39cddfff  libAccessibility.dylib armv7  <f40705b5e9c43ce3b1f185fe690b9ac8> /usr/lib/libAccessibility.dylib
0x39cde000 - 0x39cf4fff  libCRFSuite.dylib armv7  <5a8a3d18a1ff3c97bd773705fef2d81c> /usr/lib/libCRFSuite.dylib
0x39d0a000 - 0x39d0bfff  libMobileCheckpoint.dylib armv7  <1e9d719e2f4e3b41970b635e47ee8058> /usr/lib/libMobileCheckpoint.dylib
0x39d0c000 - 0x39d18fff  libMobileGestalt.dylib armv7  <ea41737238273d73b173ec09358d7b62> /usr/lib/libMobileGestalt.dylib
0x39d2a000 - 0x39d2afff  libSystem.B.dylib armv7  <7aeeab280f7e361e9986d962d0fa5281> /usr/lib/libSystem.B.dylib
0x39e26000 - 0x39e47fff  libarchive.2.dylib armv7  <b63f679c9ee03372b1e5f881febeaff6> /usr/lib/libarchive.2.dylib
0x39e48000 - 0x39e54fff  libbsm.0.dylib armv7  <3870b1c8b1783b788bd51da1a04eae6e> /usr/lib/libbsm.0.dylib
0x39e55000 - 0x39e5efff  libbz2.1.0.dylib armv7  <b04d27fa0f2d31d8bd0745f8aa0d7f67> /usr/lib/libbz2.1.0.dylib
0x39e5f000 - 0x39ea9fff  libc++.1.dylib armv7  <ceb9fb64fb203d3a94063a9db6590ca4> /usr/lib/libc++.1.dylib
0x39eaa000 - 0x39ebdfff  libc++abi.dylib armv7  <4b8520bc534231ae97ce146e076bc7bf> /usr/lib/libc++abi.dylib
0x39eee000 - 0x39fdbfff  libiconv.2.dylib armv7  <ac23bb84e91e35418c9a2fb4792658b2> /usr/lib/libiconv.2.dylib
0x39fdc000 - 0x3a125fff  libicucore.A.dylib armv7  <da9d04cc6f6d3825aa52636342ef1e04> /usr/lib/libicucore.A.dylib
0x3a12d000 - 0x3a12dfff  liblangid.dylib armv7  <a10d8f96815d35e0a1d2c7b998a941f3> /usr/lib/liblangid.dylib
0x3a130000 - 0x3a137fff  liblockdown.dylib armv7  <996afbc31d8b3f2a907be2427509a4c8> /usr/lib/liblockdown.dylib
0x3a274000 - 0x3a417fff  libmecabra.dylib armv7  <0747e596e9983bd6a76cf8349da325e4> /usr/lib/libmecabra.dylib
0x3a418000 - 0x3a42dfff  libmis.dylib armv7  <7502589f14733beb963c542fa40438c8> /usr/lib/libmis.dylib
0x3a456000 - 0x3a554fff  libobjc.A.dylib armv7  <79e5d714945834e4b2587abfc6c7269c> 
```

# spring - 我如何链接两个xml文件

> ID：15872251
> 
> 赞同：-1
> 
> 时间：2013-04-08T06:01:08.223
> 
> 标签：spring, spring-mvc

我有 application-context.xml 文件和一个名为 UserController2-servlet.xml 的子 xml 文件。文件如下

UserController2-servlet.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:p="http://www.springframework.org/schema/p"
   xmlns:aop="http://www.springframework.org/schema/aop"
   xmlns:tx="http://www.springframework.org/schema/tx"
   xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
   http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
   http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">

<bean class="org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping"/>

<bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
    <property name="mappings">
        <props>
            <prop key="index.htm">indexController</prop>
        </props>
    </property>
</bean>

<bean id="viewResolver"
      class="org.springframework.web.servlet.view.InternalResourceViewResolver"
      p:prefix="/WEB-INF/jsp/"
      p:suffix=".jsp" />
<bean id="mySessionFactory" class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">
    <property name="dataSource" ref="myDataSource" />
    <property name="annotatedClasses">
        <list>
            <value>Spring.project2.User</value>
          </list>
    </property>
    <property name="hibernateProperties">
        <props>
            <prop key="hibernate.dialect">org.hibernate.dialect.MySQLDialect</prop>
            <prop key="hibernate.show_sql">true</prop>
            <prop key="hibernate.hbm2ddl.auto">create</prop>
        </props>
    </property>
</bean>

<bean id="myUserDAO" class="project2.UserDAOImpl">
    <property name="sessionFactory" ref="mySessionFactory"/>
</bean>

<bean name="/user/*.htm" class="project2.UserController2" >
    <property name="userDAO" ref="myUserDAO" />
</bean>

<bean name="indexController"  
class="org.springframework.web.servlet.mvc.ParameterizableViewController"
      p:viewName="userForm" />

</beans> 
```

应用程序上下文.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org  
/dtd/spring-beans.dtd">
<beans>
<bean id="basicDataSource" class="org.apache.commons.dbcp.BasicDataSource">
    <property name="driverClassName" value="com.mysql.jdbc.Driver" />
    <property name="url" value="jdbc:mysql://localhost:3306/fde" />
    <property name="username" value="dgdg" />
    <property name="password" value="dgd" />

</bean>
    </beans> 
```

我如何从 application-context.xml 引用 UserController2.xml 即我需要在这两个 xml 之间创建一个链接（我不想将它们结合起来）。有人可以告诉我它是如何实现的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T13:48:36.023

ArunM 给出的答案是正确的，尽管我认为您的意思是如何在 Web 应用程序中注册应用程序上下文和 servlet 上下文？

如果这是您的意思，您需要将它们添加到 web.xml 文件中。

首先像这样将 application-context.xml 添加到 web.xml

```
<context-param>
    <param-name>contextConfigLocation</param-name>
    <!-- add you application context location -->
    <param-value>classpath*:META-INF/spring/application-Context.xml</param-value>   
</context-param> 
```

然后在 web.xml 中注册您的 servlet 配置

```
<!-- Handles Spring requests -->
<servlet>
    <servlet-name>someName</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>WEB-INF/spring/UserController2-servlet.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>someName</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:21:29.443

您可以使用如下所示的导入标签将 application-context.xml 导入 UserController2-servlet.xml。将以下条目添加到 UserController2-servlet.xml

```
 <import resource="application-context.xml"/> 
```

# jquery - 在 jquery 问题中解析 json

> ID：15872252
> 
> 赞同：1
> 
> 时间：2013-04-08T06:01:08.977
> 
> 标签：jquery, json, parsing

我有一个简单的 json，我想用 jquery 解析它。这是我正在使用 parseJSON 的代码，但它在 jquery 中不起作用

```
var json = '['+{"lead_req_id":"","listing_id_1_ref":"RH-R-17","listing_id_1":"17"}+']'; 
```

当我提醒 json 它给我 [object] [Object]

```
var getReq = jQuery.parseJSON(json);//i tried json[0] also but no luck
$.each(getReq, function(id, key) {

    alert(key+'='+id);
}); 
```

我想一一遍历。

在这里我什么都得不到？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T06:04:23.210

您在此处显示的不是 JSON 字符串。下面是一个有效的 JSON 字符串的样子：

```
var json = '[{"lead_req_id":"","listing_id_1_ref":"RH-R-17","listing_id_1":"17"}]'; 
```

现在你可以解析它：

```
var getReq = jQuery.parseJSON(json);
$.each(getReq, function(index, element) {
    $.each(element, function(key, value) {
        console.log(key + '=' + value);    
    });
}); 
```

另一方面，如果您已经有一个 javascript 变量，那么您不需要解析任何内容，您可以直接访问它：

```
var getReq = [{"lead_req_id":"","listing_id_1_ref":"RH-R-17","listing_id_1":"17"}];
$.each(getReq, function(index, element) {
    $.each(element, function(key, value) {
        console.log(key + '=' + value);    
    });
}); 
```

另请注意，我使用了 2 个`$.each`语句，因为您显示的 JSON 字符串表示一些对象的数组。第一个循环遍历数组，而内部循环遍历数组中每个对象的属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T06:03:28.190

是的，你`json`错了。它计算为字符串`"[[object Object]]"`，因为您将字符串“[”和“]”添加到 JavaScript 对象（{} 中的部分）

尝试

```
var obj = [{"lead_req_id":"","listing_id_1_ref":"RH-R-17","listing_id_1":"17"}] 
```

现在不需要解析它。它已经是一个 JavaScript 对象。

如果你想要它的 JSON 版本，你可以调用`JSON.stringify`它： 这会导致：

```
 '[{"lead_req_id":"","listing_id_1_ref":"RH-R-17","listing_id_1":"17"}]' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T06:11:21.247

您的 json 格式无效。尝试将您更改`var json = ..`为：

```
var json = '[{"lead_req_id":"","listing_id_1_ref":"RH-R-17","listing_id_1":"17"}]'; 
```

## [http://jsfiddle.net/28UrL/1/](http://jsfiddle.net/28UrL/1/)

# android - Android NDK：警告：APP_PLATFORM android-9 大于 android:minSdkVersion 8

> ID：15872254
> 
> 赞同：42
> 
> 时间：2013-04-08T06:01:19.777
> 
> 标签：android, android-ndk, cygwin, cocos2d-x

使用 cygwin 编译我的 cocos2d-x 项目时，我收到以下警告。

```
`/cygdrive/e/project/MyGame/proj.android `
/cygdrive/e/android-ndk-r8e/build/core/add-application.mk:128: Android NDK: WARNING:APP_PLATFORM android-9 is larger than android:minSdkVersion 8 in ./AndroidManifest.xml 
```

我正在使用 NDK 版本 r8e。我的 AndroidManifest.xml 中的最低 SDK 版本是 8，但我没有在任何地方将 APP_PLATFORM 指定为 android-9。我怎样才能将其更改为 8。

谁能告诉我如何解决这个警告，因为我认为这可能会导致问题。

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2013-04-08T20:07:38.893

您似乎正在使用 Android-9 作为运行时。您可以放入`APP_PLATFORM := android-8`您的`Application.mk`文件，警告将消失。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-09-15T07:53:33.040

警告/错误背后的原因是它想让您知道它正在为高于清单中指定的“最小”的目标平台编译本机代码。它基本上是在说'小心使用旧操作系统不支持的功能。Application.mk 更改是可以的，并且不应该对编译的代码产生任何真正的不利影响。

~~ 替代解决方案。

对于 r8，您可以更改构建设置以将其视为警告而不是错误。这在 r8 中有效，但在 r9 中只是部分修复。

对于 NDK rev r9（也适用于其他版本，但位置/行号可能不同）

${NDK}/build/core/add-application.mk 第 138 行

在行首添加“#”。

# $(call __ndk_info,WARNING: APP_PLATFORM $(APP_PLATFORM) is greater than android:minSdkVersion $(APP_MIN_PLATFORM_LEVEL) in $(APP_MANIFEST))

一个字符，30 秒修复……去调试原生代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-07T15:22:05.063

如果您确实想为比 minSdkVersion 更新的版本编译本机库，您只需配置 Eclipse 以将错误更改为警告。如果您知道您的 Java 代码不会在旧版本的 Android 中加载本机库，这将很有用。（警告：如果您不保证这一点，那么在比您的 APP_PLATFORM 中指定的版本更早的 Android 版本上加载您的本机库可能会失败并在存在不满意的动态库链接时使应用程序崩溃 - 例如，如果您的 APP_PLATFORM 为 9 并且您使用OpenSLES，如果您尝试在 Android 2.2 或更早版本上使用 JNI，这将失败。但只要您的 Java 端知道这一点并确保在旧版本上永远不会调用 loadLibrary，那么您就可以了。）

您可以按照以下步骤更改 Eclipse 设置，这些步骤由 Google 的某个人提供（在[此链接](https://code.google.com/p/android/issues/detail?id=39752#c7)上）（但也请参阅下面的重要说明）：

在日食中：

```
- Window -> Preferences -> C/C++ -> Build -> Settings
- Select CDT GNU C/C++ Error Parser
- In the Error Parser options at the bottom, add a new entry with the following contents:

Severity: Warning
Pattern: (.*?):(\d+): Android NDK: WARNING:(.*) 
File: $1
Line: $2
Description: $3 
```

**重要的！**谷歌人没有注意到的是，您还需要使用设置中的“上移”按钮将新规则移到顶部，否则其他一些更通用的规则会掩盖它并且它不起作用。

# html - 在 UILabel iphone 中显示 HTML 文本

> ID：15872257
> 
> 赞同：45
> 
> 时间：2013-04-08T06:01:33.023
> 
> 标签：html, xcode, text, uilabel

我从网络服务获得 HTML 响应 下面是我收到的 HTML 响应

```
<p><strong>Topic</strong>Gud mrng.</p>
\n<p><strong>Hello Everybody</strong>: How are you.</p>
\n<p><strong>I am fine</strong>: 1 what about you.</p> 
```

我需要在 UILabel 中显示文本。

请帮忙

* * *

## 回答 #1

> 赞同：103
> 
> 时间：2014-01-25T20:45:43.277

您可以使用属性文本在没有任何第三方库的情况下执行此操作。我相信它确实接受 HTML 片段，就像你得到的那样，但你可能希望将它包装在一个完整的 HTML 文档中，以便你可以指定 CSS：

```
static NSString *html =
    @"<html>"
     "  <head>"
     "    <style type='text/css'>"
     "      body { font: 16pt 'Gill Sans'; color: #1a004b; }"
     "      i { color: #822; }"
     "    </style>"
     "  </head>"
     "  <body>Here is some <i>formatting!</i></body>"
     "</html>";

UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, 300, 200)];
NSError *err = nil;
label.attributedText =
    [[NSAttributedString alloc]
              initWithData: [html dataUsingEncoding:NSUTF8StringEncoding]
                   options: @{ NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType }
        documentAttributes: nil
                     error: &err];
if(err)
    NSLog(@"Unable to parse label text: %@", err); 
```

不简洁，但你可以通过向 UILabel 添加一个类别来收拾烂摊子：

```
@implementation UILabel (Html)

- (void) setHtml: (NSString*) html
    {
    NSError *err = nil;
    self.attributedText =
        [[NSAttributedString alloc]
                  initWithData: [html dataUsingEncoding:NSUTF8StringEncoding]
                       options: @{ NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType }
            documentAttributes: nil
                         error: &err];
    if(err)
        NSLog(@"Unable to parse label text: %@", err);
    }

@end 
```

…</p>

```
[someLabel setHtml:@"Be <b>bold!</b>"]; 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2016-09-08T21:46:56.847

斯威夫特 4：版本

```
extension String {
    func htmlAttributedString() -> NSAttributedString? {
        guard let data = self.data(using: String.Encoding.utf16, allowLossyConversion: false) else { return nil }
        guard let html = try? NSMutableAttributedString(
            data: data,
            options: [NSAttributedString.DocumentReadingOptionKey.documentType: NSAttributedString.DocumentType.html],
            documentAttributes: nil) else { return nil }
        return html
    }
} 
```

斯威夫特 3：版本

```
extension String {
func htmlAttributedString() -> NSAttributedString? {
    guard let data = self.data(using: String.Encoding.utf16, allowLossyConversion: false) else { return nil }
    guard let html = try? NSMutableAttributedString(
        data: data,
        options: [NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType],
        documentAttributes: nil) else { return nil }
    return html
    }
} 
```

斯威夫特 2：版本

```
extension String {
        func htmlAttributedString() -> NSAttributedString? {
            guard let data = self.dataUsingEncoding(NSUTF16StringEncoding, allowLossyConversion: false) else { return nil }
            guard let html = try? NSMutableAttributedString(
              data: data, 
              options: [NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType], 
              documentAttributes: nil) else { return nil }
            return html
        }
} 
```

将其用作：

```
label.attributedText = yourStringVar.htmlAttributedString() 
```

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2013-04-08T08:21:58.980

使用 RTLabel 库转换 HTML 文本。我已经用过好几次了。有用。这是库的链接和示例代码。

[https://github.com/honcheng/RTLabel](https://github.com/honcheng/RTLabel)。

希望我有所帮助。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2018-03-12T17:09:47.540

## 斯威夫特 4

我宁愿建议使用可失败的便利 init 扩展 NSAttributedString。**String**本质上不负责制作**NSAttributedString**。

```
extension NSAttributedString {
     convenience init?(html: String) {
        guard let data = html.data(using: String.Encoding.unicode, allowLossyConversion: false) else {
            return nil
        }
        guard let attributedString = try? NSAttributedString(data: data, options: [NSAttributedString.DocumentReadingOptionKey.documentType: NSAttributedString.DocumentType.html], documentAttributes: nil) else {
            return nil
        }
        self.init(attributedString: attributedString)
    }
}
label.attributedText = NSAttributedString(html: "<span> Some <b>bold</b> and <a href='#/userProfile/uname'> Hyperlink </a> and so on </span>") 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-04-08T06:23:38.240

来自：[https ://stackoverflow.com/a/5581178/237838](https://stackoverflow.com/a/5581178/237838)

* * *

将 HTML 转换为纯文本[下载](https://github.com/mwaterfall/MWFeedParser/blob/master/Classes/NSString+HTML.m)文件

并使用

`stringByConvertingHTMLToPlainText`在你的功能`NSString`

* * *

或者

您可以使用[DTCoreText](https://github.com/Cocoanetics/DTCoreText)（以前称为 NSAttributedString Additions for HTML）。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-07-25T21:30:05.563

这是 swift 2 版本：

```
 let htmlStringData = NSString(string: "<strong>Your HTML String here</strong>").dataUsingEncoding(NSUTF8StringEncoding)
    guard let html = htmlStringData else { return }

    do {
        let htmlAttrString = try NSAttributedString(data: html, options: [ NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType], documentAttributes: nil)
        yourLabel.attributedText = htmlAttrString
    } catch {
        print("An error occured")
    } 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2018-10-05T08:11:48.620

```
**// Swift 4 compatible | with setting of colour and font options:**

// add following extension to String:

        func htmlAttributed(family: String?, size: CGFloat, color: UIColor) -> NSAttributedString? {

                let sizeInPx = (size * 0.75)

                do {
                  let htmlCSSString = "<style>" +
                    "html *" +
                    "{" +
                    "font-size: \(sizeInPx)pt !important;" +
                    "color: \(color.hexString ?? "#000000") !important;" +
                    "font-family: \(family ?? "SFUIText-Regular"), SFUIText !important;" +
                  "}</style> \(self)"

                  guard let data = htmlCSSString.data(using: String.Encoding.utf8) else {
                    return nil
                  }

                  return try NSAttributedString(data: data,
                                                options: [.documentType: NSAttributedString.DocumentType.html,
                                                          .characterEncoding: String.Encoding.utf8.rawValue],
                                                documentAttributes: nil)
                } catch {
                  print("error: ", error)
                  return nil
                }
              }

        // add following extension to UIColor:

        extension UIColor{

          var hexString:String? {
            if let components = self.cgColor.components {
              let r = components[0]
              let g = components[1]
              let b = components[2]
              return  String(format: "%02X%02X%02X", (Int)(r * 255), (Int)(g * 255), (Int)(b * 255))
            }
            return nil
          }
        }

    // Sample Use:

    yourLabel.attributedText = locationTitle.htmlAttributed(family: yourLabel.font.fontName,
                                                                           size: yourLabel.font.pointSize,
                                                                           color: yourLabel.textColor) 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2019-06-13T16:00:32.287

Swift 3 中的上述答案：

```
 var str = "<html> ... some html ... </html>"

    let htmlStringData = NSString(string: str).data(using: String.Encoding.utf8.rawValue)
    let html = htmlStringData

    do {
        let htmlAttrString = try? NSAttributedString(
                data: html!,
                options: [ NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType],
                documentAttributes: nil
        )
        agreementText.attributedText = htmlAttrString
    } catch {
        print("An error occured")
    } 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-10-05T11:47:24.873

Swift 3 中的上述答案：

```
func htmlAttributedString() -> NSAttributedString? {
    guard let data = self.data(using: String.Encoding.utf16, allowLossyConversion: false) else { return nil }
    guard let html = try? NSMutableAttributedString(
        data: data,
        options: [NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType],
        documentAttributes: nil) else { return nil }
    return html
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-10-10T10:28:21.380

最近我一直在处理部分 HTML 片段并将它们转换为具有添加属性的属性字符串。这是我的扩展版本

```
import Foundation
import UIKit

extension String {
  func htmlAttributedString(attributes: [String : Any]? = .none) -> NSAttributedString? {
    guard let data = self.data(using: String.Encoding.utf16, allowLossyConversion: false) else { return .none }
    guard let html = try? NSMutableAttributedString(
      data: data,
      options: [NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType],
      documentAttributes: .none) else { return .none }

    html.setAttributes(attributes, range: NSRange(0..<html.length))

    return html
  }
} 
```

我这样称呼它：

```
let attributes = [
  NSForegroundColorAttributeName: UIColor.lightGray,
  NSFontAttributeName : UIFont.systemFont(ofSize: 12).traits(traits: .traitItalic)
]

label?.attributedText = partialHTMLString.htmlAttributedString(attributes: attributes) 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-09-23T10:12:00.630

有时我们需要使用 UILabel 在屏幕上显示 HTML 内容。如何在 UILabel 中显示 HTML 内容我们在这篇文章中看到。让我们开始并实现它。

[![在此处输入图像描述](https://i.stack.imgur.com/Ho4kN.png)](https://i.stack.imgur.com/Ho4kN.png)

**目标 C：**

```
NSString * htmlString = @"<html><body> <b>  HTML in UILabel is here…. </b> </body></html>";
NSAttributedString * attrStr = [[NSAttributedString alloc] initWithData:[htmlString
dataUsingEncoding:NSUnicodeStringEncoding] options:@{ NSDocumentTypeDocumentAttribute:
NSHTMLTextDocumentType } documentAttributes:nil error:nil];
UILabel * yourLabel = [[UILabel alloc] init];
yourLabel.attributedText = attrStr; 
```

**迅速：**

```
var htmlString = “&lt;html><body> <b>  HTML in UILabel is here…. </b> </body></html>”
var attrStr: NSAttributedString? = nil
do {
 if let data = htmlString.data(using: .unicode) {
 attrStr = try? NSAttributedString(data: data, options: [NSAttributedString.DocumentReadingOptionKey.documentType: NSAttributedString.DocumentType.html], documentAttributes: nil)
 }
} catch {
}
var yourLabel = UILabel()
yourLabel.attributedText = attrStr 
```

参考：[https ://medium.com/@javedmultani16/html-text-in-uilabel-ios-f1e0760bcac5](https://medium.com/@javedmultani16/html-text-in-uilabel-ios-f1e0760bcac5)

# ajax - ui:repeat 对每个 ajax 调用求值的表达式

> ID：15872269
> 
> 赞同：0
> 
> 时间：2013-04-08T06:02:32.390
> 
> 标签：ajax, jsf-2, el, uirepeat

我有 test.xhtml：

```
<h:form id="formProduct" >
  <h:panelGroup id="filterProductTotal" layout="block">
    <h:outputText value="#{filtersControllerRequestScoped.filteredProductsCount}"/>                            
  </h:panelGroup>
  <div id="product_container">
    <ui:repeat value="#{filtersControllerRequestScoped.getFilteredProducts(1)}" var="product">  
      <div class="item">
        <util:product-item-preview_2 productItem="#{product}"/>
      </div>
    </ui:repeat>                
  </div>
</h:form> 
```

我读到了重复调用方法的问题，并努力保持GET方法的业务逻辑并尝试实现LAZY加载。

请求范围 bean 中的方法 getFilteredProducts() 在各种请求中调用，即使我不更新表单 id="formProduct"。由“p:ajax”或“p:remoteCommand”调用的请求，带有和不带有“update” anithig。

我的问题 - 我不明白为什么每次（每次 ajax 调用）都调用方法“getFilteredProducts”，但在加载页面时只调用一次“filteredProductsCount”。

**更新：一些想法。**

可能是当我在其他请求中使用“#{product}”时，实际上我使用的是“#{filtersControllerRequestScoped.getFilteredProducts(1).get(INDEX)}”，而不是简单的对象“#{product}”？

**更新**：部分`<util:product-item-preview_2/>`：

```
<composite:interface name="productItemPreview" displayName="hello">
    <composite:attribute name="productItem"/>
</composite:interface>

<composite:implementation>
...
  <h:commandLink value="quick order" onclick="quickOrderPrepare(#{cc.attrs.productItem.productId})">
    <p:ajax process="@this" oncomplete="quickOrderShow()" partialSubmit="true"/>
  </h:commandLink>
...
  <span class="b-prices">
    <h:outputText value="Price: "/>
    <h:outputText value="#{discountControllerRequestScoped.getProductPrice(cc.attrs.productItem)}">
      <f:convertNumber minFractionDigits="2" maxFractionDigits="2"/>
    </h:outputText>
  </span> 
```

...

```
<script>
function quickOrderPrepare(productId) {
  setProductQuickOrderPanelRemoteCommand([{name: 'productId', value: productId}]);
}            
function quickOrderShow(){
  updateQuickOrderPanelRemoteCommand();
  $('.popup.productQuickOrder').bPopup({            
    onClose: function() { updateBasket(); }
  });                
}
</script> 
```

`setProductQuickOrderPanelRemoteCommand`并且`updateQuickOrderPanelRemoteCommand`是primefaces远程命令。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T09:28:57.277

根据[BalusC 的博客](http://balusc.blogspot.sg/2006/09/debug-jsf-lifecycle.html)，据我了解，当您`#{product}`在某些请求中使用时，首先会恢复整个视图。由于您的 bean 是，因此上一个请求`@RequestScoped`的列表中没有任何内容。`filteredProducts`即使您将范围更改为`@ViewScoped`，您仍然可能遇到同样的问题，因为您没有将 存储`filteredProducts`为 bean 的属性。结果，JSF 无法知道`product`提交了什么。因此，您的列表将被重建。

我认为您应该将 bean 更改为`@ViewScoped`并将您的 bean 存储`filteredProducts`为 bean 的属性。不要`getFilteredProducts(1)`用来把清单拿出来。

# c# - 如何将下拉列表值作为存储过程的参数传递

> ID：15872273
> 
> 赞同：2
> 
> 时间：2013-04-08T06:02:53.000
> 
> 标签：c#, stored-procedures, drop-down-menu

我正在创建两个基本上绑定的 DROP DOWN LIST，一个用于**PROVINCE**，一个用于**CITY**。我有一个 C# web 应用程序项目：我希望**城市列表根据****PROVINCE**下拉列表中的选定项目进行更改。但是***每次我从 PROVINCE 列表中选择一个新项目时，CITY 列表中的数据都不会改变。*** 我不知道问题出在哪里。它是在 SELECTED INDEX CHANGED 中还是...？tnx

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Data;
using System.Data.SqlClient;

namespace WebApplication3_DrpDwnListAndSQL
{
    public partial class WebForm2 : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            if (!IsPostBack)
            {
                func1();
                func2();
                //func3();
            }
        }

        protected void DrpDwnProvince_SelectedIndexChanged(object sender, EventArgs e)
        {
            Label1.Text = DrpDwnProvince.SelectedValue;
            //string a = DrpDwnProvince.SelectedValue;
        }

        //First function for Province DrpDwnList 
        private void func1()
        {
            SqlConnection con = new SqlConnection("Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=DrpBoxDB;Data Source=ARASH-PC");
            SqlDataAdapter com = new SqlDataAdapter("_Province_selectAll", con);
            com.SelectCommand.CommandType = CommandType.StoredProcedure;
            DataSet ds = new DataSet();
            if (com != null)
            { com.Fill(ds); }

            DrpDwnProvince.DataSource = ds;
            DrpDwnProvince.DataTextField = "Prv_Name";
            DrpDwnProvince.DataValueField = "Prv_Id";
            DrpDwnProvince.DataBind();
        }

        //Second function for City DrpDwnList
        private void func2()
        {
            SqlConnection con = new SqlConnection("Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=DrpBoxDB;Data Source=ARASH-PC");
            SqlDataAdapter com1 = new SqlDataAdapter("_City_selectItems", con);
            com1.SelectCommand.CommandType = CommandType.StoredProcedure;
            com1.SelectCommand.Parameters.AddWithValue("@vari", DrpDwnProvince.SelectedValue);
            DataSet ds1 = new DataSet();
            if (com1 != null)
            { com1.Fill(ds1); }

            DrpDwnCity.DataSource = ds1;
            DrpDwnCity.DataTextField = "Cty_Name";
            DrpDwnCity.DataValueField = "Cty_Id";
            DrpDwnCity.DataBind();
        }

        //Third function for District DrpDwnList
       // private void func3()
       // {

      //  }

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:16:43.997

一种可能性是该`AutoPostBack="true"`属性未在 .aspx 文件中的 DropDownList 上设置。这是为了在用户选择不同的项目时让页面响应所必需的。

例如：

```
<asp:DropDownList ID="DrpDwnProvince" 
    OnSelectedIndexChanged="DrpDwnProvince_SelectedIndexChanged" 
    AutoPostBack="true" runat="server" /> 
```

**更新：**根据下面的评论 - 看起来问题是 func2() 没有在事件处理程序中被调用。所以解决方案是这样的：

```
protected void DrpDwnProvince_SelectedIndexChanged(object sender, EventArgs e)
{
    func2();
} 
```

# java - 在多个包（Java，Eclipse）中使用用户库中的方法

> ID：15872282
> 
> 赞同：1
> 
> 时间：2013-04-08T06:03:32.143
> 
> 标签：java, eclipse

我创建了一个名为 reference 的新用户库，并向该库添加了一个名为 stdlib 的 JAR 文件。然后我创建了两个类。带有 main 方法的 A 类在默认包中。B 类在其他包中。可以在A类中使用引用库中的方法，例如StdOut.println(); 但是，当我在另一个包中的 B 类中使用它时，程序无法识别它。

然后我在默认包中构建了一个新的 C 类。参考库在 C 类中运行良好。谁能告诉我我的程序有什么问题？为什么我不能使用 B 类中的参考库中的方法，默认包中没有？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:05:57.967

我怀疑您只是缺少导入：

```
import foo.bar.ClassB; 
```

`foo.bar`包含`ClassB`. _

（顺便说一句，我强烈建议您不要在自己的代码中使用默认包。）

# jms - 我如何以及在哪里可以在 ESB 中使用消息存储和消息处理器？

> ID：15872283
> 
> 赞同：0
> 
> 时间：2013-04-08T06:03:39.303
> 
> 标签：jms, wso2, wso2esb, messagebroker

我在端口号 9443(esb1) 和 9446(esb2) 处使用了 WSO2 ESB 4.6 的两个实例，还在 9444 处使用了 Message Broker 2.0.1。我正在使用此 url 来执行我的任务：[http ://wso2.org/图书馆/文章/2013/03/configuring-wso2-esb-wso2-message-broker](http://wso2.org/library/articles/2013/03/configuring-wso2-esb-wso2-message-broker)。我已经使用上面的链接完成了队列到队列发送接收示例。一切正常。但问题是当我向 esb1 发布任何消息时，它会反映到 esb2，因为 esb2 作为我的订阅者工作。我希望消息存储应该存储从 esb1 传递的消息，并根据某些事件向 esb2 提供 esb1 发送的消息。提前致谢。当我激活我的按摩处理器时，我不断收到此错误：

```
[2013-04-08 17:58:56,658] ERROR - JobRunShell Job synapse.message.processor.quartz.Processor2-forward job threw an unhan
dled Exception:
java.lang.NullPointerException
        at org.wso2.carbon.message.store.persistence.jms.util.JMSUtil.createConnection(JMSUtil.java:46)
        at org.wso2.carbon.message.store.persistence.jms.JMSMessageStore.createConnection(JMSMessageStore.java:577)
        at org.wso2.carbon.message.store.persistence.jms.JMSMessageStore.getReadConnection(JMSMessageStore.java:517)
        at org.wso2.carbon.message.store.persistence.jms.JMSMessageStore.peek(JMSMessageStore.java:239)
        at org.apache.synapse.message.processors.forward.ForwardingJob.execute(ForwardingJob.java:88)
        at org.quartz.core.JobRunShell.run(JobRunShell.java:213)
        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:557)
[2013-04-08 17:58:56,669] ERROR - ErrorLogger Job (synapse.message.processor.quartz.Processor2-forward job threw an exce
ption.
org.quartz.SchedulerException: Job threw an unhandled exception. [See nested exception: java.lang.NullPointerException]
        at org.quartz.core.JobRunShell.run(JobRunShell.java:224)
        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:557)
Caused by: java.lang.NullPointerException
        at org.wso2.carbon.message.store.persistence.jms.util.JMSUtil.createConnection(JMSUtil.java:46)
        at org.wso2.carbon.message.store.persistence.jms.JMSMessageStore.createConnection(JMSMessageStore.java:577)
        at org.wso2.carbon.message.store.persistence.jms.JMSMessageStore.getReadConnection(JMSMessageStore.java:517)
        at org.wso2.carbon.message.store.persistence.jms.JMSMessageStore.peek(JMSMessageStore.java:239)
        at org.apache.synapse.message.processors.forward.ForwardingJob.execute(ForwardingJob.java:88)
        at org.quartz.core.JobRunShell.run(JobRunShell.java:213)
        ... 1 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-20T19:33:22.230

看起来您的 jndi.properties 配置中存在一些问题。确保连接工厂配置有效，这似乎导致了报告的问题。在消息存储实现中，“连接工厂”参数的值默认为“QueueConnectionFactory”。如果您尝试使用不同名称指定另一个连接工厂，从配置中删除默认连接工厂 (QueueConnectionFactory)，请确保在消息存储配置的适当元素中指定正确的连接工厂名称。

希望这可以帮助！

# .net - 在不同服务器上托管的 2 个 .NET 应用程序之间共享身份验证信息

> ID：15872286
> 
> 赞同：0
> 
> 时间：2013-04-08T06:03:57.287
> 
> 标签：.net, asp.net-mvc, wcf, security, asp.net-web-api

我想在使用 ASP.NET WebForms 2.0 和 ASP.NET MVC 4.0 开发的 2 个 .NET 应用程序之间共享身份验证信息，这些应用程序托管在不同的服务器上。

用户将登录 ASP.NET WebForms 应用程序。他的身份验证将在 ASP.NET WebForms 应用程序中执行。用户将看到他/她购买的产品列表。在他/她的产品列表中，很少有产品来自其他 MVC 4.0 应用程序。一旦用户单击 WebForms 2.0 应用程序中的产品链接，他/她将看到以简单的 HTML 页面形式呈现的产品详细信息和信息，这些页面存储和托管在 MVC 4.0 应用程序中。由于最终用户是 WebForms 应用程序用户，因此在 MVC4.0 应用程序中存储用户信息是没有办法也没有意义的。

问题基本上在于来自 MVC 4.0 应用程序的产品 HTML 内容的安全性。如果用户复制并与其他用户共享链接怎么办？由于在 MVC 4.0 应用程序端没有进行身份验证，并且 MVC 4.0 应用程序将请求视为经过身份验证，因此其他用户将获得身份验证并将显示不应该发生的内容。

请建议我如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:10:24.683

您需要 SSO（单点登录）解决方案。检查 Microsoft 联合服务：

[http://msdn.microsoft.com/en-us/library/bb897402.aspx](http://msdn.microsoft.com/en-us/library/bb897402.aspx)

# sql - VB.NET 中的 ListView (VS 2010)

> ID：15872288
> 
> 赞同：-1
> 
> 时间：2013-04-08T06:04:05.287
> 
> 标签：sql, vb.net, listview

我正在尝试在我的 vb 应用程序的列表视图中显示 sql 数据库表数据。我使用了以下代码

```
Public Class Form1
    Dim conn As SqlClient.SqlConnection
    Dim cmd As SqlClient.SqlCommand
    Dim da As SqlClient.SqlDataAdapter
    Dim ds As DataSet
    Dim itemcoll(100) As String

Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
    Me.ListView1.View = View.Details
    Me.ListView1.GridLines = True
    conn = New SqlClient.SqlConnection("Data Source=AYYAGARI-PC\WINCC;Initial Catalog=anand;Integrated Security=True")
    conn.Open()
    Dim strQ As String = String.Empty
    strQ = "SELECT * FROM [anand].[dbo].[WINCC] ORDER BY [dateandtime]"
    cmd = New SqlClient.SqlCommand(strQ, conn)
    da = New SqlClient.SqlDataAdapter(cmd)
    ds = New DataSet
    da.Fill(ds, "Table")
    Dim i As Integer = 0
    Dim j As Integer = 0
    ' adding the columns in ListView
    For i = 0 To ds.Tables(0).Columns.Count - 1
        Me.ListView1.Columns.Add(ds.Tables(0).Columns(i).ColumnName.ToString())
    Next
    'Now adding the Items in Listview
    Try
        Call Timer1_Tick(sender, e)
    Catch ex As Exception
        MessageBox.Show(ex.Message)
    End Try
End Sub

Private Sub Timer1_Tick(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Timer1.Tick
    For Each i As ListViewItem In ListView1.SelectedItems
        ListView1.Items.Remove(i)
    Next
    Try
        For i = 0 To ds.Tables(0).Rows.Count - 1
            For j = 0 To ds.Tables(0).Columns.Count - 1
                itemcoll(j) = ds.Tables(0).Rows(i)(j).ToString()
            Next
            Dim lvi As New ListViewItem(itemcoll)
            Me.ListView1.Items.Add(lvi)
        Next
    Catch ex As Exception
        MessageBox.Show(ex.Message)
    End Try
End Sub 
```

上面代码的问题是，每当我在 sql 中更新表数据（插入或删除数据）时，列表视图中都不会更新。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:14:11.793

```
 Me.ListView1.View = View.Details
    Me.ListView1.GridLines = True
    conn = New SqlClient.SqlConnection("Data Source=AYYAGARI-PC\WINCC;Initial Catalog=anand;Integrated Security=True")
    conn.Open()
    Dim strQ As String = String.Empty
    strQ = "SELECT * FROM [anand].[dbo].[WINCC] ORDER BY [dateandtime]"
    cmd = New SqlClient.SqlCommand(strQ, conn)
    da = New SqlClient.SqlDataAdapter(cmd)
    ds = New DataSet
    da.Fill(ds, "Table")
    Dim i As Integer = 0
    Dim j As Integer = 0
    ' adding the columns in ListView
    For i = 0 To ds.Tables(0).Columns.Count - 1
        Me.ListView1.Columns.Add(ds.Tables(0).Columns(i).ColumnName.ToString())
    Next
    'Now adding the Items in Listview
    Try
        Call Timer1_Tick(sender, e)
    Catch ex As Exception
        MessageBox.Show(ex.Message)
    End Try 
```

尝试再次将此代码添加到进行插入或更新的按钮中。

**更新**

我给你另一个提示，这不会让你的代码那么长并且浪费内存或容量..

尝试将所有代码插入到新子中，例如：

```
 private sub mycode
    msgbox("Hello World")
    end sub >> This code won't work when you debug, cause it just like a stored code, so need to be called to make it work

Private sub Form_load......  > E.g this is your form load code
call mycode  >> Called the code above
end sub >> when you debug, your form will auto called the mycode 
```

# ssl - 1 个站点的 SSL 证书

> ID：15872290
> 
> 赞同：-1
> 
> 时间：2013-04-08T06:04:07.710
> 
> 标签：ssl, multiple-sites

有人可以帮助我了解我是否有 1 个域

www.example.com

它在端口 80 上运行 Lampp，在端口 8080 上运行 tomcat，

我需要 1 个或 2 个 SSL 证书吗？

例如，商业网站在 www.example.com 上运行，但实际 Web 应用程序在 www.example.com:80/Login/ 上运行

这是否意味着我需要 2 个单独的 SSL EV 证书，或者我可以购买 1 个并将其加载到 apache 和 tomcat 上，因为它的域相同？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T11:07:04.400

首先，您可能没有在端口 80 和 8080 上使用 SSL 运行服务器。端口 80 是 HTTP 的默认端口，而端口 443 是 HTTPS 的默认端口。

Tomcat 倾向于将 8080 端口用于其 HTTP 服务，将 8443 端口用于其 HTTPS 服务，因为它往往由非 root 用户在 Unix 机器上运行（不能使用 1024 以下的端口号），也可能是因为端口 80并且 443 已经被其他服务（例如 Apache Httpd）占用了。

虽然从技术上讲，您可以在端口 80 上运行 HTTPS 服务，但这不是一个好主意，因为您每次都必须在地址中指定端口（如果您想在该端口上运行纯 HTTP 服务，可能会求助于端口统一也）。这会导致不必要的混乱。

HTTPS 的主机名验证绑定到主机名，而不是端口号。无论您使用哪个端口都无关紧要。您可以`https://www.example.com/`使用 Apache Httpd 和`https://www.example.com:8443/`Apache Tomcat（至少在端口 443 上隐式运行）使用相同的证书`www.example.com`（至少）运行。您可能需要转换密钥和证书的存储格式（Apache Httpd 将使用单独的密钥和证书文件，而 Tomcat 将使用单个密钥库，例如 PKCS#12 格式），但这只是将文件转换为一旦 CA 颁发了证书，您就结束了。

此外，在同一台机器上同时在 Apache Httpd 和 Tomcat 上使用 HTTPS 是很不寻常的。通常，您会在端口 443 上使用 Apache Httpd 设置系统以处理 SSL 连接，并设置反向代理以让 Apache Httpd 在本地主机上以纯 HTTP 将请求发送到您的 Tomcat。这允许在`https://www.example.com/`不需要指定非默认端口的情况下提供所有内容。只有前端（Apache Httpd）需要配置证书。

# node.js - 如何在通过使用 MongoDB-Node.JS 本机驱动器查询从 MongoDB 获取字段时重命名/别名字段？

> ID：15872301
> 
> 赞同：6
> 
> 时间：2013-04-08T06:05:09.043
> 
> 标签：node.js, mongodb, mongodb-query

考虑以下代码，我使用它从本地 MongoDB 服务器获取数据。

```
var Db = require('mongodb').Db,
    MongoClient = require('mongodb').MongoClient,
    Server = require('mongodb').Server,
    ReplSetServers = require('mongodb').ReplSetServers,
    ObjectID = require('mongodb').ObjectID,
    Binary = require('mongodb').Binary,
    GridStore = require('mongodb').GridStore,
    Code = require('mongodb').Code,
    BSON = require('mongodb').pure().BSON,
    assert = require('assert');
var db = new Db('test', new Server('localhost', 27017)); 
db.open(function(err, db) {
  db.createCollection('simple_limit_skip_find_one_query', function(err, collection) {
    assert.equal(null, err);

    collection.insert([{a:1, b:1}, {a:2, b:2}, {a:3, b:3}], {w:1}, function(err, result) {
      assert.equal(null, err); 
      collection.findOne({a:1}, {fields:{b:1}}, function(err, doc) {
        // I got the read document in the object 'doc'
      });
    });
  });
}); 
```

现在，我想在仅检索时重命名字段名称（不在数据库中），例如使用上面的代码，我有一个`b`在返回的对象中命名的字段，`doc`我希望它`baseID`不是`b`

有什么办法吗？

注意：我无法对检索到的对象采取操作`doc`来重命名 JSON 键重命名等字段。我希望它被查询，MongoDB 也一样。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T07:19:45.783

使用[MonogDB的聚合框架](http://docs.mongodb.org/manual/reference/aggregation/#aggregation-framework-reference)（但您需要将MongoDB服务器实例[升级](https://github.com/mongodb/node-mongodb-native/blob/master/HISTORY#L269)到> = 2.1）。

以下是上述示例的灵魂

```
var Db = require('mongodb').Db,
    MongoClient = require('mongodb').MongoClient,
    Server = require('mongodb').Server,
    ReplSetServers = require('mongodb').ReplSetServers,
    ObjectID = require('mongodb').ObjectID,
    Binary = require('mongodb').Binary,
    GridStore = require('mongodb').GridStore,
    Code = require('mongodb').Code,
    BSON = require('mongodb').pure().BSON,
    assert = require('assert');
db.open(function (err, db) {
    if (err) console.dir(err);
    db.createCollection('simple_limit_skip_find_one_query', function (err, collection) {
        if (err) console.dir(err);

        collection.insert([{ a: 1, b: 1 }, { a: 2, b: 2 }, { a: 3, b: 3}], { w: 1 }, function (err, doc) {
            if (err) console.dir(err);

            collection.aggregate([
            { $project: {
                a: 1,
                _id:0,
                baseID: "$b"
            }
            }
          ], function (err, doc) {
              if (err) console.dir(err);
              console.log(doc);
          });
        });
    });
}); 
```

输出：

```
[ { a: 1, baseID: 1 },
  { a: 2, baseID: 2 },
  { a: 3, baseID: 3 }] 
```

# ios - 在 iphone app(xcode) 中启用多重登录(Facebook/twitter/Google+)

> ID：15872306
> 
> 赞同：1
> 
> 时间：2013-04-08T06:05:26.837
> 
> 标签：ios, facebook, twitter, google-plus, multiple-login

我正在开发具有多个登录的 iphone 应用程序，例如这个 ex。脸书、推特和谷歌+。现在我想为同一个用户启用多个登录。所以我怀疑在用户使用 facebook 和 twitter 登录后我能做什么（没有从 facebook 注销）。我需要建议，比如用户是否使用 facebook 登录和然后用户想用 twitter 登录然后我禁用 facebook 登录按钮？

我也怀疑如果在 facebook 个人资料中用户的名称类似于“abc”，而在 Twitter 个人资料中用户的名称类似于“xyz”，那么我将哪些信息保留在我的应用程序的数据库中。我是否优先考虑用户存储用户信息在数据库中？就像如果名称冲突，那么我可以优先考虑用户，例如第一优先级：facebook 第二优先级：twitter 等等。

我是否必须创建单独的 UI 来设置优先级？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-15T11:37:13.117

回答您的问题：考虑以下参数：

1）如何支持同时连接多个社交平台（链接我的Google+、Twitter和Facebook账户ala Quara/LinkedIn）？2）如何支持各大社交平台的登录/注册？
3) 如何支持单一平台的多次登录（如使用多个Facebook账号登录）？

# android - 在 Android 中将 JSON 数据发布到 Web 服务

> ID：15872307
> 
> 赞同：2
> 
> 时间：2013-04-08T06:05:30.650
> 
> 标签：android, json

*我对应该是一个相当简单的任务有一些问题。我只需要将一个带有单个 JSON 对象的 JSON 数组发布到我的 Web 服务。整个 URL 请求需要这样格式化：*

http://www.myserver.com/myservice.php?location_data=[{"key1":"val1","key2":"val2"....}]

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T06:08:55.930

```
try {

            HttpClient httpclient = DefaultHttpClient();

            HttpGet httpget = new HttpGet(URL+"?location_data="+JSONARRAY);

            HttpResponse response = httpclient.execute(httpget);
            HttpEntity entity = response.getEntity();
            is = entity.getContent();

        } catch (Exception e) {
            Log.e("log_tag", "Error in http connection " + e.toString());
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:07:51.963

[最初从这里](https://stackoverflow.com/a/8520134/1221203)

```
 HttpClient httpClient = new DefaultHttpClient();
    HttpPost httpPost = new HttpPost(
        "http://www.myserver.com/myservice.php"
        );

httpPost.setHeader("content-type", "application/json");

JSONObject locationData = new JSONObject();

locationData .put("key1", "val1");
locationData .put("key2", "val2");

StringEntity entity = new StringEntity(locationData.toString(), HTTP.UTF_8);
httpPost.setEntity(entity);

HttpResponse response = httpClient.execute(httpPost); 
```

# java - 当值的哈希集为空时删除哈希图中的键

> ID：15872313
> 
> 赞同：7
> 
> 时间：2013-04-08T06:05:59.590
> 
> 标签：java, hashmap, set, hashset

我有一个将字符串键映射到散列集值的散列图，当散列图的散列集值为空时，我想从散列图中删除一个键。我很难解决这个问题。这是我尝试过的，但我很困惑：

```
for(Map.Entry<String, HashSet<Integer>> entr : stringIDMap.entrySet()) 
{  

                String key = entr.getKey();  

                if (stringIDMap.get(key).isEmpty())
                {

                    stringIDMap.remove(key);
                    continue;
                }
     //few print statements...
} 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-08T06:09:42.033

为了避免[`ConcurrentModificationException`](http://docs.oracle.com/javase/7/docs/api/java/util/ConcurrentModificationException.html)，需要`Iterator`直接使用接口：

```
Iterator<Map.Entry<String, HashSet<Integer>>> it = stringIDMap.entrySet().iterator();
while (it.hasNext()) {
    Map.Entry<String, HashSet<Integer>> e = it.next();
    String key = e.getKey();
    HashSet<Integer> value = e.getValue();
    if (value.isEmpty()) {
        it.remove();
    }
} 
```

您当前的代码不起作用的原因是您试图在迭代地图时从地图中删除元素。当您调用 时`stringIDMap.remove()`，这会使 for-each 循环在后台使用的迭代器无效，从而无法进行进一步的迭代。

`it.remove()`解决了这个问题，因为它不会使迭代器无效。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-01-28T08:35:36.547

自 Java 8 以来，lambda 有一个极好的简短解决方案：

```
stringIDMap.entrySet().removeIf(ent -> ent.getValue().isEmpty()); 
```

或者您可以通过传递方法引用来使用更简洁的方式

`stringIDMap.values().removeIf(Set::isEmpty);`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-11-05T11:45:27.763

```
 Iterator<String> iterator = mMapFiles.keySet().iterator();
    while (iterator.hasNext()){
        if ( mMapFiles.get( iterator.next() ).size() < 1 )
            iterator.remove();
    } 
```

# c# - 使用带有实体框架的中继器

> ID：15872315
> 
> 赞同：0
> 
> 时间：2013-04-08T06:06:02.460
> 
> 标签：c#, asp.net, entity-framework, repeater

如何在实体框架中使用中继器

```
<%@ Page Title="" Language="C#" MasterPageFile="~/Admin.master" AutoEventWireup="true" CodeBehind="TagOp.aspx.cs" Inherits="canta.TagOp" %>
<%@ Import Namespace="canta.POCO.Objects" %>
<asp:Content ID="Content1" ContentPlaceHolderID="AdminContentPlaceHolder" runat="server">
    <asp:Repeater ID="Repeater1" runat="server" DataSourceID="EntityDataSource1">
    <ItemTemplate>
        <div>
            <%#(Container.DataItem as TagObject).IconPath %>
        </div>
    </ItemTemplate>
    </asp:Repeater>
    <asp:EntityDataSource ID="EntityDataSource1" runat="server" 
        ConnectionString="name=EnCantamEntities" 
        DefaultContainerName="EnCantamEntities" EnableFlattening="False" 
        EntitySetName="Tags">
    </asp:EntityDataSource>
</asp:Content> 
```

上面的代码抛出一个`NullReferenceException`

这是我的错。TagObject 是我的业务层，我试图像实体对象一样加载它。我首先加载我的数据，`List<TagObject>`然后将列表绑定到中继器。然后我的问题解决了。我猜我写的时候还在睡觉，哈哈 :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T08:13:58.253

这是我的错。TagObject 是我的业务层，我试图像实体对象一样加载它。我首先加载我的数据，`List<TagObject>`然后将列表绑定到中继器。然后我的问题解决了。我猜我写的时候还在睡觉，哈哈 :)

# javascript-events - 如何通过javascript将参数传递给按钮的单击功能

> ID：15872319
> 
> 赞同：0
> 
> 时间：2013-04-08T06:06:22.717
> 
> 标签：javascript-events

在准备好文档时，我已经注册了一个按钮的点击事件。现在从淘汰赛 JS 点击事件中，我想向 javascript 点击事件传递一些额外的参数。我如何实现这一点。

# alloy - 使用合金建模自动售货机

> ID：15872320
> 
> 赞同：1
> 
> 时间：2013-04-08T06:06:27.640
> 
> 标签：alloy

我正在尝试使用alloy 对自动售货机程序进行建模。我希望创建一个模型，我可以在其中插入一些钱并为机器提供一个项目的选择选项，它会为我提供相同的功能，如果提供的钱少，则不会提供任何东西。在这里，我尝试输入一个硬币和一个按钮作为输入，它应该从自动售货机返回所需的物品，提供值即。分配给每个项目的金额作为输入提供。所以这里按钮 a 应该需要 10 个 Rs，按钮 b 需要 5 个 rs， c 需要 1 并且 d 需要 2 。op 实例是插入所需资金后返回的项目。opc 是要退回的硬币余额。ip 是输入按钮，x 是钱输入。我如何提供一个实例，使其接收多个硬币作为输入，并且如果金额大于项目成本，那么它应该返回一个硬币数量。如果我能得到一些帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T19:53:59.537

如果我是你，我会问自己我关心什么样的实体；你已经做到了（硬币和物品的签名——你还需要一些客户的概念吗？）。

接下来，我会问自己什么构成了系统的合法状态——有时通过询问什么构成非法或不可接受的状态来回想它会有所帮助。

然后我会尝试将操作定义为从系统的一种合法状态到下一种合法状态的转换——您已经提到过插入货币和选择物品。

在每个阶段，我都会使用分析器来检查模型的实例，看看我到目前为止所做的是否有意义。*Daniel Jackson 的Software Abstractions*的 Whirlwind Tour 章节给出了这种按顺序定义实体、状态和状态转换的模式的一个示例——如果您可以访问该书，您会发现复习该章节很有帮助。

祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T03:30:12.520

模块 vending_machines

打开 util /ordering[事件]

有趣的 fst:Event{ordering/first}

有趣的 nxt:Event->Event{ordering/next}

fun upto[e:Event]:set Event{prevs[e]+e}

抽象信号事件{}

sig Coin 扩展事件{}

pred no_vendor_loss[product:set (Event-Coin)] {

所有 e:Event | 让 pfx=upto[e] | #(产品&pfx)<=#(硬币&pfx)

# jquery - 如何忽略有条件地选择某些选项？

> ID：15872325
> 
> 赞同：1
> 
> 时间：2013-04-08T06:06:53.553
> 
> 标签：jquery, html

我正在使用来自[http://ivaynberg.github.io/select2/](http://ivaynberg.github.io/select2/)`select2.js`的插件用于具有多项选择的员工列表下拉列表。

```
<select id="empList" name="empList" multiple="multiple">
<option value="ALL">ALL</option>
<option value="1">emp 1</option>
<option value="2">emp 2</option>
<option value="3">emp 3</option> 
```

我的要求是，当用户选择“**全部**”时，那么单个员工就无法选举。如果用户选择任何员工，则不能选择“ALL”。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T13:36:37.650

我为您找到了解决方案...将其保留在您的脚本中..，

```
$('#empList').click(function(){
   var Value = $(this).val();
   $("#empList option").each(function(){
      var Opt = $(this).val();
      if(Value == 'ALL'){
          if(Opt != Value){
              $("option[value="+Opt+"]").prop('disabled', true);
          } else {
              $("option[value="+Opt+"]").prop('disabled', false);
          }
      } else {
          if(Value == null) {
              $("option[value="+Opt+"]").prop('disabled', false);
          } else {
              $("option[value='ALL']").prop('disabled', true);
          }
      }
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T13:46:19.530

我相信你正在寻找这样的东西：http: [//jsfiddle.net/jaTPc/](http://jsfiddle.net/jaTPc/)

这是修改后的 html（添加的类）：

```
<select id="empList" name="empList" multiple="multiple">
<option value="ALL" class="all">ALL</option>
<option value="1" class="notall">emp 1</option>
<option value="2" class="notall">emp 2</option>
<option value="3" class="notall">emp 3</option>
</select> 
```

和 jQuery

```
$("#empList").change(function() {
var optionAll = $(".all");
var optionOther = $(".notall");

this.value == "ALL" ?  optionOther.prop("disabled", true) : optionAll.prop("disabled", true);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T10:51:03.850

我没有测试这段代码，但它应该是这样的：

```
$('#empList').change(function () {
    var self = $(this);
    if (self.val() == undefined) { // Selected all option
       $.each(self.find('option'), function (res) {
           if (res.attr('value') != undefined) {
              res.prop('disabled', true);
           }
       })
    }
    else {
       $.each(self.find('option'), function (res) {
           if (res.attr('value') != undefined) {
              res.prop('disabled', false);
           }
       })
    }
}) 
```

希望它会有所帮助。

# php - MySQL 在更新时会自动锁定行吗？

> ID：15872326
> 
> 赞同：2
> 
> 时间：2013-04-08T06:06:59.720
> 
> 标签：php, mysql, transactions, locking

我是 PHP 开发的新手，我想创建一个 PHP-MySQL 网络应用程序。在这个应用程序中，我有可能同时对同一行有一个“UPDATE”语句和一个“SELECT”查询。这就是我的问题出现的地方。MySQL 是否会在更新时自动锁定行，以便选择查询会等待它？

如果是，选择查询是否会等到更新查询准备好（事务完成）然后执行？或者他们会失败，我将不得不在应用程序中管理以重新发布它们？

有关如何处理此案的任何建议？

# matlab - 在 MATLAB 中将频谱图另存为图像

> ID：15872328
> 
> 赞同：3
> 
> 时间：2013-04-08T06:07:00.190
> 
> 标签：matlab, plot, artifacts, spectrogram

我正在使用**MATLAB**`spectrogram()`中的函数分析一些声音片段。我想将频谱图保存为图像（jpg、png 等）。但无论我以何种图像格式保存图形，生成的图像总是看起来与我在图中看到的不同（“参差不齐”）。

 **这是频谱图的示例：[Matlab Figure](https://i.stack.imgur.com/rrMse.png) vs. [Saved Image](https://i.stack.imgur.com/grQ7W.png)

我想要的只是将我在图中看到的内容准确地保存为图像。我已经尝试将图形保存为所有可能的图像格式，但它们都产生了相同的“斑点”效果。我还尝试了手动保存（单击文件->另存为）和以编程方式使用`print()`和`saveas()`函数。每次都是一样的结果。

任何帮助，将不胜感激！

![在此处输入图像描述](https://i.stack.imgur.com/grQ7W.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:26:54.753

你的频谱图的数据范围是多少？原因之一可能是您的频谱图范围超出了图像的 [0,1] 区域`double`或图像的 [0,255]区域`uint*`（您保存的图像上的白点可疑地接近 MatLab 图上的局部最小值）。

另一个猜测可能是您正在使用`imwrite`函数，尤其是它的`imwrite(X,map,filename,fmt)`语法。MatLab 文档说明：

> imwrite(X,map,filename,fmt) 将 X 中的索引图像及其关联的颜色图映射以 fmt 指定的格式写入文件名。如果 X 属于 uint8 或 uint16 类，则 imwrite 将数组中的实际值写入文件。如果 X 属于 double 类，则 imwrite 在写入之前使用 uint8(X–1) 偏移数组中的值。map 必须是有效的 MATLAB 颜色图。请注意，大多数图像文件格式不支持超过 256 个条目的颜色图。

所以这`uint8(X–1)`可能是白点的来源。虽然不知道他们为什么会出现在`print()`'ing 之后。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T06:36:08.167

我通过使用该函数找到了解决此问题的方法`pcolor()`，该函数本质上是一个以网格格式 ( [doc](http://www.mathworks.com/help/matlab/ref/pcolor.html)`surf()` )绘制的旋转函数。在对函数进行了更多修改后，我确信这些“发现”工件与数据格式、属性或比例无关。问题似乎在于 MATLAB 绘制和可视化 3D 图的方式。我也尝试使用该函数进行绘图，它产生了一种不同的“定位”效果。之所以有效，是因为它是 3D 绘图的 2D 可视化。`spectrogram()``mesh()``pcolor()`

这是使用（改编自[doc](http://www.mathworks.com/help/signal/ref/spectrogram.html)`spectrogram()` ）绘制图像的方式：`surf()`

```
[S,T,F,P] = spectrogram(X,256,250,256,2000);
surf(T,F,abs(S),'EdgeColor','none');
axis tight; view(0,90); 
```

...这就是如何使用`pcolor()`来绘制一个保存友好的图像：

```
[S,T,F,P] = spectrogram(X,256,250,256,2000);
h = pcolor(T,F,abs(S));
set(h,'EdgeColor','none'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-13T10:05:25.117

白点是 OpenGL 问题，它是在`spectrogram()`的内部调用中使用的渲染器`surf()`。由于您对绘制 2D 可视化感兴趣，请将当前图形的渲染器更改为 zbuffer：

```
set(gcf, 'renderer', 'zbuffer'); 
```

where`gcf`表示“获取当前数字”。现在白点消失了。

请注意，您还可以在创建图形时选择 zbuffer 渲染器，然后调用`spectrogram()`：

```
myNewFig = figure('renderer','zbuffer'); 
```**

# c++ - c++ switch 语句在三个递归运行后恢复为默认语句

> ID：15872329
> 
> 赞同：-1
> 
> 时间：2013-04-08T06:07:17.443
> 
> 标签：c++

我的 switch 语句的目的是获取从 0 到 7 的随机生成输入的输入，以执行七个任务中的一个。这是我的代码：

```
 switch(move)
    {
    case 0:
        //up
        movement = 1;
        next = vf.plv(x,y,movement,cp,np);
        //hit cell membrane
        if(next == 0)
        {
            move = vf.mv(0);
        }
        else 
        {   cout<<j<<"\t"<<x<<"\t"<<y+1<<endl;
            virus[j].setvpoint(x,y+1,j,movement);
            break;
        }
    case 1:
        //up-right
        movement = 2;
        next = vf.plv(x,y,movement,cp,np);
        //hit cell membrane
        if(next == 0)
        {
            move = vf.mv(1);
        }
        else 
        {
            cout<<j<<"\t"<<x+1<<"\t"<<y+1<<endl;
            virus[j].setvpoint(x+1,y+1,j,movement);
            break;
        }
    case 2:
        //right
        movement = 3;
        next = vf.plv(x,y,movement,cp,np);
        //hit cell membrane
        if(next == 0)
        {
            move = vf.mv(2);
        }
        else 
        {
            cout<<j<<"\t"<<x+1<<"\t"<<y<<endl;
            virus[j].setvpoint(x+1,y,j,movement);
            break;
        }
    case 3:
        //down-right
        movement = 4;
        next = vf.plv(x,y,movement,cp,np);
        //hit cell membrane
        if(next == 0)
        {
            move = vf.mv(3);
        }
        else 
        {
            cout<<j<<"\t"<<x+1<<"\t"<<y-1<<endl;
            virus[j].setvpoint(x+1,y-1,j,movement);
            break;
        }
    case 4:
        //down
        movement = 5;
        next = vf.plv(x,y,movement,cp,np);
        //hit cell membrane
        if(next == 0)
        {
            move = vf.mv(4);
        }
        else 
        {
            cout<<j<<"\t"<<x<<"\t"<<y-1<<endl;
            virus[j].setvpoint(x,y-1,j,movement);
            break;
        }
    case 5:
        //down-left
        movement = 6;
        next = vf.plv(x,y,movement,cp,np);
        //hit cell membrane
        if(next == 0)
        {
            move = vf.mv(5);
        }
        else 
        {
            cout<<j<<"\t"<<x-1<<"\t"<<y-1<<endl;
            virus[j].setvpoint(x-1,y-1,j,movement);
            break;
        }
    case 6:
        //left
        movement = 7;
        next = vf.plv(x,y,movement,cp,np);
        //hit cell membrane
        if(next == 0)
        {
            move = vf.mv(6);
        }
        else 
        {
            cout<<j<<"\t"<<x-1<<"\t"<<y<<endl;
            virus[j].setvpoint(x-1,y,j,movement);
            break;
        }
    case 7:
        //left-up
        movement = 8;
        next = vf.plv(x,y,movement,cp,np);
        //hit cell membrane
        if(next == 0)
        {
            move = vf.mv(7);
        }
        else 
        {
            cout<<j<<"\t"<<x-1<<"\t"<<y+1<<endl;
            virus[j].setvpoint(x-1,y+1,j,movement);
            break;
        }
    default:
            cout<<"Default"<<endl

    } 
```

*next = vf.plv(x,y,movement,cp,np)*是一个根据 x 和 y 坐标输出 0 或 1 的函数。将 x 和 y 坐标输入到距离公式中以确定与中心的距离，如果距离为 13 或更大，则 next 将等于 0。如果等于 0，则 *move = vf.mv(7)*函数将生成一个新的0 到 7 之间的数字，然后将其放回此开关功能

我遇到的问题是 switch 函数将递归生成一个新数字 3 次，然后恢复到默认语句，而不是继续直到它找到小于 13 的距离。我试过做一个 do while 循环，它仍然有没用。

解决此问题的下一步应该是什么？

先感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:20:40.193

Switch 语句不递归。

想象一下您的代码（这是一个相当大的示例），没有任何 switch 语句代码。不`switch`，，，`case`等等`break`。

如果你执行你的代码，所有的代码都会执行，整个块。

该`switch`语句允许您执行该块的一部分。语句选择从`case`哪里开始，`break`语句选择从哪里结束。就这样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T06:20:32.423

中没有`break`语句`if (next == 0)`，这意味着执行继续到下一个`case`子句。如果要重新运行 switch 语句，则需要将其放入循环中并正确放置中断。

在 case 的最后不能有 break 语句的唯一情况是（1）你在那里有一个 return，以及（2）你实际上希望下一个 case 子句也执行。

# django - 通过远程调用另一台服务器对 Django 进行单元测试

> ID：15872331
> 
> 赞同：2
> 
> 时间：2013-04-08T06:07:24.020
> 
> 标签：django, unit-testing, django-testing

所以我有一个 Django 应用程序，它作为其功能的一部分向另一台服务器发出请求（使用[请求](http://docs.python-requests.org/en/latest/)模块）。我想要做的是有一个可用于单元测试的服务器，它为我提供对来自 Django 应用程序的测试请求的预设响应（允许测试 Django 如何处理不同的潜在响应）。

代码示例如下：

```
payload = {'access_key': key,
          'username': name}
response = requests.get(downstream_url, params=payload)

# Handle response here ... 
```

我读过你可以使用[SimpleHTTPServer](http://docs.python.org/2/library/simplehttpserver.html)来完成这个，但我不确定我是如何使用它来达到这个目的的，任何想法都会非常感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:41:09.363

使用`mock`模块。

```
from mock import patch, MagicMock

@patch('your.module.requests')
def test_something(self, requests_mock):
    response = MagicMock()
    response.json.return_value = {'key': 'value'}
    requests_mock.get.return_value = response
    … 
    requests_mock.get.assert_called_once_with(…)
    response.json.assert_called_once() 
```

[文档](http://mock.readthedocs.org/en/latest/)中有更多示例。

您不需要（也不**应该**）测试发出请求的代码。您想模拟该部分并专注于测试处理响应的逻辑。

# sqlite - 来自两个表的一列值引用是否支持 SQLITE

> ID：15872333
> 
> 赞同：1
> 
> 时间：2013-04-08T06:07:44.773
> 
> 标签：sqlite, android-sqlite

来自两个表的一列值引用是否支持 SQLITE

见下表结构

来自两个表的 account_id 引用

```
FOREIGN KEY(account_id) REFERENCES account(id),
FOREIGN KEY(account_id) REFERENCES category(id)

CREATE TABLE transaction (
id NUMERIC PRIMARY KEY,
user_id NUMERIC NOT NULL,
account_id NUMERIC NOT NULL,
category_id NUMERIC NOT NULL,
amount DOUBLE NOT NULL, date VARCHAR(25) NOT NULL,
description VARCHAR(25),
FOREIGN KEY(account_id) REFERENCES account(id),
FOREIGN KEY(account_id) REFERENCES category(id)
); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:00:19.147

这个有可能。

必须满足所有约束条件，即每个`account_id`值都必须出现在*两个*父表中。

# cassandra - 跨 cassandra 多个数据中心写入数据

> ID：15872335
> 
> 赞同：1
> 
> 时间：2013-04-08T06:07:49.370
> 
> 标签：cassandra

我想了解以下内容，假设我们有两个数据中心 DC1 和 DC2，每个数据中心都有两个节点。现在我已经形成了一个令牌环，顺序为 DC1:1 - DC2:1 - DC1:2 - DC2:2。让我们假设，我没有跨 DC 配置我的副本。现在我的问题是，如果我将数据写入 DC2，密钥会仅映射到 DC2 中的节点，还是会映射到令牌环中的任何节点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:19:57.003

如果您的键空间复制选项设置为

{DC1:2}

（我假设这就是您所说的未跨 DC 配置副本的意思。）然后数据将仅存储在 DC1 上，因为 DC2 的复制因子隐式为零。您可以将数据写入任何节点（DC1 或 DC2）并将其转发。这是因为，在 Cassandra 中，写入的目的地不取决于写入的节点。

但是，如果您使用

{DC1:2, DC2:2}

然后所有数据都将写入所有节点，无论写入位置如何。

# calendar - 尝试使用 PHP 从我的日历中获取其他日历事件的列表

> ID：15872337
> 
> 赞同：1
> 
> 时间：2013-04-08T06:07:58.777
> 
> 标签：calendar

以下代码适用于使用 Google Calendar Service 类返回指定日历上的事件，但我想通过我的日历获取其他 Google 日历的事件列表意味着我从我的 Google 日历帐户创建日历只是我想列出创建的其他事件我的 Google 日历中的 Google 日历。

```
$events = $service->events->listEvents('primary');

while(true) {
    foreach ($events->getItems() as $event) {
        echo $event->getSummary();
    }
    $pageToken = $events->getNextPageToken();
    if ($pageToken) {
        $optParams = array('pageToken' => $pageToken);
        $events = $service->events->listEvents('primary', $optParams);
    } else {
        break;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-27T16:26:46.430

您拥有的是一个活动页面。您想首先使用下面的代码列出您的日历。

```
 $calList = $service->calendarList->listCalendarList();

     foreach ($calList['items'] as $calendar){
            echo '<tr><td><a href="events.php?id='.urlencode($calendar['id']).'">'. $calendar['summary'].'</a></td><td>'.$calendar['id'].'</td></tr>';
     }
?>
</table> 
```

然后编辑您的活动页面并取出“主要”并将其替换为您传递给它的谷歌日历 ID

```
$cal_id = $_GET['id'];

$events = $service->events->listEvents($cal_id);

while(true) {
    foreach ($events->getItems() as $event) {
        echo $event->getSummary();
    }
    $pageToken = $events->getNextPageToken();
    if ($pageToken) {
        $optParams = array('pageToken' => $pageToken);
        $events = $service->events->listEvents($cal_id, $optParams);
    } else {
        break;
    }
} 
```

这应该允许您在我提供的页面中看到您的日历以及您的日历事件以及您编辑的代码。

# android - JSON解析返回空值

> ID：15872339
> 
> 赞同：1
> 
> 时间：2013-04-08T06:08:02.123
> 
> 标签：android, json, httpresponse

我正在尝试解析从网络数据库获得的响应。我只得到一个值，即作为响应的卖家 ID。当我尝试在 JSON 对象中传递它时，不知何故，它没有执行之后的 toast 和没有执行之后的 toast。

我知道有很多相关的问题，但我找不到什么问题......请帮忙。谢谢。

```
 try {

        JSONArray jArray = new JSONArray(stuff.toString());

        Toast.makeText(this, "len: " + jArray.length(), 1000).show(); // length is 1

        for (int i = 0; i < jArray.length(); i++) {
            Toast.makeText(this, "Arr: " + stuff, 1000).show(); 
                              // Arr: [{"seller_id":"5"}]

            JSONObject jObject = jArray.getJSONObject(i);
            j_id = jObject.getString(stuff);

                            // not getting executed
            Toast.makeText(this, "JSON: " + j_id, 1000).show();
        }
    } catch (JSONException e) {
        e.printStackTrace();
    }
    Toast.makeText(this, "View: " + j_id, 1000).show(); // j_id is giving null value 
```

这是我的 json 数据 [{"seller_id":"5"}] 我正在尝试从中获取卖家 ID（即此处为 5）的值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:42:10.240

jObject.getString() 方法 args 有问题

```
JSONObject jObject = jArray.getJSONObject(i);
        j_id = jObject.getString(stuff); 
```

你给的数组。它应该是对象的名称，即 Seller_id

所以修改后你的代码将是 j_id = jObject.getString("seller_id");

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:40:31.607

在以下代码之后：

```
j_id = jObject.getString(stuff); 
```

添加 `textview.settext(j_id);`

`textview`并用你的名字改变这个文本视图

如果它不起作用，则显示您的完整`json data`.

# matlab - 在matlab中覆盖书面文本

> ID：15872341
> 
> 赞同：0
> 
> 时间：2013-04-08T06:08:11.087
> 
> 标签：matlab, matlab-figure

我有一个灰度网格，并使用下面的命令在其上打印文本，以黑色打印文本。

```
text (cPixel+25, rPixel+25, 'X', 'HorizontalAlignment', 'center', 'VerticalAlignment', 'middle', 'FontSize', 38); 
```

现在，我想删除此文本，我试图通过使用下面显示的“颜色”属性将文本颜色更改为白色，但它以黑色打印。

```
text (cPixel+25, rPixel+25, 'X', 'HorizontalAlignment', 'center', 'VerticalAlignment', 'middle', 'FontSize', 38, 'Color', [1 1 1]); 
```

如果你请告诉我使用哪个属性将灰度颜色变为白色。我使用 'color' 属性和 RGB 值 [1 1 1] 它还打印黑色文本，还尝试使用 1 作为灰度值的 'color' 属性，但是，它给了我错误，你应该使用 [RGB ] 颜色值。

我的问题是如何使用 matlab 中的 text() 函数在灰度网格上设置灰度文本颜色。上面简要介绍了我的尝试。谢谢你的耐心！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:25:38.280

你的代码对我有用。但也许你的问题是，你并没有真正改变现有文本对象的颜色，而是在旧对象之上创建一个新对象。

要真正删除旧对象，您需要保留句柄，然后将其删除：

```
textHandle = text(cPixel+25, rPixel+25, 'X', 'HorizontalAlignment', 'center', 'VerticalAlignment', 'middle', 'FontSize', 38);
delete(textHandle) 
```

如果你真的想改变颜色，你也可以使用手柄来做到这一点：

```
set(textHandle,'Color',[0 0.5 1]) 
```

# php - div右对齐的问题？

> ID：15872342
> 
> 赞同：1
> 
> 时间：2013-04-08T06:08:15.820
> 
> 标签：php, css, html

我有包含 div main_wrapper 的 php 程序，该 div 有两个 sub div resultwrapper 和 adv_right。我想要 adv_right div 正好在 resultwrapper div 的右侧。当我使用 float 时，意味着 div 出现在 main_wrapper div 之外。

```
<style>
.resultwrapper{width:990px; margin: 10px auto 10px auto; clear:both;  }
.resultitem{  float: left;
    height: 170px;
    margin-bottom: 0px;
    margin-left: 10px;
    min-height: 130px;
    width:218px;}
.resultleftitem{padding-left:0;margin-left:0px;}
.resultitem img{border:dotted 1px #666; padding:6px;}
.resultitem img:hover{border:solid 1px #F60;}
.resultitem h4{font-size:12px; font-weight:bold; color:#249ce9; margin-top:5px; }
.resultitem a{color:#249ce9;}
.resultitem .caption{color:#9c9c9c; font-size:12px; display:block; margin-top:6px; text-align:justify;}
</style>
<div class="main_warpper">
<div class="resultwrapper">
<?php 
 while($row = mysql_fetch_array($rs)) { 
        $id=$row['id'];
        $type=$row['type'];
        $location=$row['location'];
        if(file_exists("properties//". $imageloc ."//thumb.jpg") )
        {
            $thumb_img="properties/". $imageloc ."/thumb.jpg"; 
        } else {  

            $thumb_img="images/default.jpg";
        }
        if($cnt==0 || $cnt ==4 ) $newResult=true; else $newResult=false;  

?>

<div id="parent" >
    <div class="resultitem <?php if($newResult) echo ' resultleftitem'; ?>" id="resultitem"> <a href="viewpropdetails.php?id=<?php echo $id;?>" target="_blank">
    <img id="parent" src="<?php echo $thumb_img; ?>" alt="<?php $new=strtolower($heading); echo ucwords($new); ?>"  title="<?php $new=strtolower($heading); echo ucwords($new); ?>" width="100" height="100" /></a>
        <div class="itemdetails">
            <h4 id="linkheading"><a href="viewpropdetails.php?id=<?php echo $id;?>" target="_blank"><?php echo $type ." @ ".$location; ?></a></h4>
            <span  class="box"><?php echo cropStr($desc,$MAX_DESC); ?></span>

        </div>
    </div>
    </div>

<?php 
    $cnt++; } ?>
</div>

<div class="adv_right" style=" clear:both; width:15%; float:right;height:300px; background-color:#999999;">
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:16:17.490

请试一试，

删除 clear:both; 从 div 和设置宽度你想要什么，，

请试试这个你想要的代码？？

```
 <style>
.resultwrapper {
    margin: 10px auto 10px auto;
}
.resultitem {
    float: left;
    height: 170px;
    margin-bottom: 0px;
    margin-left: 10px;
    min-height: 130px;
    width:218px;
}
.resultleftitem {
    padding-left:0;
    margin-left:0px;
}
.resultitem img {
    border:dotted 1px #666;
    padding:6px;
}
.resultitem img:hover {
    border:solid 1px #F60;
}
.resultitem h4 {
    font-size:12px;
    font-weight:bold;
    color:#249ce9;
    margin-top:5px;
}
.resultitem a {
    color:#249ce9;
}
.resultitem .caption {
    color:#9c9c9c;
    font-size:12px;
    display:block;
    margin-top:6px;
    text-align:justify;
}
</style>
<div class="main_warpper">
  <div class="resultwrapper">
    <?php 
 while($row = mysql_fetch_array($rs)) { 
        $id=$row['id'];
        $type=$row['type'];
        $location=$row['location'];
        if(file_exists("properties//". $imageloc ."//thumb.jpg") )
        {
            $thumb_img="properties/". $imageloc ."/thumb.jpg"; 
        } else {  

            $thumb_img="images/default.jpg";
        }
        if($cnt==0 || $cnt ==4 ) $newResult=true; else $newResult=false;  

?>
    <div id="parent" >
      <div class="resultitem <?php if($newResult) echo ' resultleftitem'; ?>" id="resultitem"> <a href="viewpropdetails.php?id=<?php echo $id;?>" target="_blank"> <img id="parent" src="<?php echo $thumb_img; ?>" alt="<?php $new=strtolower($heading); echo ucwords($new); ?>"  title="<?php $new=strtolower($heading); echo ucwords($new); ?>" width="100" height="100" /></a>
        <div class="itemdetails">
          <h4 id="linkheading"><a href="viewpropdetails.php?id=<?php echo $id;?>" target="_blank"><?php echo $type ." @ ".$location; ?></a></h4>
          <span  class="box"><?php echo cropStr($desc,$MAX_DESC); ?></span> </div>
      </div>
    </div>
    <?php 
    $cnt++; } ?>
  </div>
  <div class="adv_right" style="width:15%; float:right;height:300px; background-color:#999999;">23123 </div>
</div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T06:11:50.373

在此处添加浮动：左侧

```
 <div class="resultwrapper" style="float:left;"> 
```

并删除 clear:both 并添加 float:left

```
 <div class="adv_right" style=" clear:both; width:15%; float:left;height:300px; 
                               background-color:#999999;"> 
```

在这里查看演示.... [http://jsfiddle.net/6e4xN/1/](http://jsfiddle.net/6e4xN/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T06:41:14.163

当您要使用此代码时，它不会与超过 7-8 个元素一起使用，当您有更多元素时可以使用，然后使用下面的样式表。

```
<style>
.resultwrapper {
    margin: 10px auto 10px auto;
    width:80%;
    float:left;
}
.resultitem {
    float: left;
    height: 170px;
    margin-bottom: 0px;
    margin-left: 10px;
    min-height: 130px;
    width:150px;
}
.resultleftitem {
    padding-left:0;
    margin-left:0px;
}
.resultitem img {
    border:dotted 1px #666;
    padding:6px;
}
.resultitem img:hover {
    border:solid 1px #F60;
}
.resultitem h4 {
    font-size:12px;
    font-weight:bold;
    color:#249ce9;
    margin-top:5px;
}
.resultitem a {
    color:#249ce9;
}
.resultitem .caption {
    color:#9c9c9c;
    font-size:12px;
    display:block;
    margin-top:6px;
    text-align:justify;
}
</style> 
```

让我知道它是否适合您。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-08T06:58:34.603

我猜代码中存在一些问题。您不能对页面中的多个元素使用相同的 ID。其次，当您为 adv_right div 使用百分比宽度时，为什么不对 resultwrapper div 使用相同的宽度，resultwrapper 和 adv_right div 都向左浮动并且没有 clear:both 在 css 中。我觉得这应该可以解决你的问题。

# android - 如何在对话框中显示视频弹出

> ID：15872344
> 
> 赞同：1
> 
> 时间：2013-04-08T06:08:20.943
> 
> 标签：android

在这里，我正在编写代码，当我单击“显示视频”按钮时，它应该打开一个对话框，我们可以在其中运行任何大小的视频。下面是我的源代码

源代码是：-

```
public class MainActivity extends Activity {
private Button videoView;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    initViews();
}

private void initViews() {
            buttonvideoView.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View view) {

                    final Dialog dialog = new Dialog(MainActivity.this, android.R.style.Theme_Translucent_NoTitleBar);
                    dialog.setContentView(R.layout.activity_videoview);
                    String STREAM_URL = "http://videofry.com/mp4/34822/Yaar_Bathere-Alfaaz(VideoFRY.Com).mp4";
                    Uri uri = Uri.parse(STREAM_URL);
                    VideoView mVideo = (VideoView) findViewById(R.id.videoView);
                    mVideo.setVideoURI(uri);
                    MediaController controller = new MediaController(MainActivity.this);
                    controller.setAnchorView(mVideo);
                    mVideo.setKeepScreenOn(true);
                    mVideo.setMediaController(controller);

                    mVideo.start();
                    dialog.show();
                }

    videoView = (Button)findViewById(R.id.video_videw);
    videoView.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View view) {

            Intent intent = new Intent(MainActivity.this, VideoActivity.class);
            startActivity(intent);
        }
    });

}

 } 
```

我尝试了很多技巧，但没有帮助。它显示空指针异常。如果您建议在对话框中运行视频的任何其他方法，那么也应该高度赞赏。

```
04-08 11:50:17.630: E/AndroidRuntime(1058): FATAL EXCEPTION: main
04-08 11:50:17.630: E/AndroidRuntime(1058): java.lang.NullPointerException
04-08 11:50:17.630: E/AndroidRuntime(1058):     at    com.example.sampletest.MainActivity$1.onClick(MainActivity.java:37)
04-08 11:50:17.630: E/AndroidRuntime(1058):     at android.view.View.performClick(View.java:3480)
04-08 11:50:17.630: E/AndroidRuntime(1058):     at android.view.View$PerformClick.run(View.java:13983)
04-08 11:50:17.630: E/AndroidRuntime(1058):     at android.os.Handler.handleCallback(Handler.java:605)
04-08 11:50:17.630: E/AndroidRuntime(1058):     at android.os.Handler.dispatchMessage(Handler.java:92)
04-08 11:50:17.630: E/AndroidRuntime(1058):     at android.os.Looper.loop(Looper.java:137)
04-08 11:50:17.630: E/AndroidRuntime(1058):     at android.app.ActivityThread.main(ActivityThread.java:4340)
04-08 11:50:17.630: E/AndroidRuntime(1058):     at java.lang.reflect.Method.invokeNative(Native Method)
04-08 11:50:17.630: E/AndroidRuntime(1058):     at java.lang.reflect.Method.invoke(Method.java:511)
04-08 11:50:17.630: E/AndroidRuntime(1058):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
04-08 11:50:17.630: E/AndroidRuntime(1058):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
04-08 11:50:17.630: E/AndroidRuntime(1058):     at dalvik.system.NativeStart.main(Native Method) 
```

# javascript - 无法将一个下拉选项复制到另一个

> ID：15872345
> 
> 赞同：1
> 
> 时间：2013-04-08T06:08:21.303
> 
> 标签：javascript, jquery, html

我正在尝试将一个下拉列表的值（选项）复制到另一个。每次当用户单击添加按钮时，我都会添加新的表格行，其中包含几个文本框和一个作为原始副本的保管箱。贝娄是我的代码：

```
$(function(){
$("#addBtn").click(function(){
    var rows = $("#nofRowHidden").val();//get the current no of row
    rows++;
    $("#crsTable").append(
    '<tr>'+
    '<td><input type="text" name="assesmntNameTxtBx'+rows+'"/></td>'+
    '<td><input type="text" name="markRcvdTxtBx'+rows+'"/></td>'+
    '<td><input type="text" name="totalTxtBox'+rows+'"/></td>'+
    '<td>'+
    '<select name="drpDwnCrs'+rows+'">'+
    '</select>'+
    '</td>'+
    '</tr>'
    );
    //#drpDwnCrs1 was original drbdwn and populated with data from the database
    $("#drpDwnCrs1 option").clone().appendTo("#drpDwnCrs"+rows);

    $("#nofRowHidden").val(rows);//add current no of row to hidden txt bx
    });
 }); 
```

上面的代码正确地生成带有文本框的新行。但是，无法复制下拉列表的值。

感谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:13:00.450

可能这（/jsfiddle.net/slash197/a98U8/5/）对您有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T06:19:48.680

您正在使用`.appendTo("#drpDwnCrs"+rows)`，选择`#`器在哪里`id`。

当您创建 时`<select>`，您正在使用`'<select name="drpDwnCrs'+rows+'">'+`. 这表明您设置了它的`name`属性......而不是`id`属性。所以这意味着你的`appendTo`调用的 jQuery 选择器不会找到任何元素并且不会做任何事情。

尝试更改我提到的代码：

```
.appendTo('select[name="drpDwnCrs' + rows + '"]') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T07:45:04.410

这将是

```
 // $("#drpDwnCrs1 option").clone().appendTo("#drpDwnCrs"+rows);  change this to

$("#drpDwnCrs"+rows).html($('#drpDwnCrs1').html()); 
```

这会将原始 div 的整个选项复制到新 div。

# sql - 更改聚集索引列

> ID：15872347
> 
> 赞同：7
> 
> 时间：2013-04-08T06:08:22.043
> 
> 标签：sql, sql-server, indexing, sql-server-2008-r2, sql-server-2012

我在列上索引的表上有一个聚集索引`text`。我想用不同的列切换该列，例如`ID`，如何更改索引？

我无法删除并重新创建，因为它在 Azure 上运行，并且表需要始终具有聚集索引。

用于更改索引中的索引列的 SQL 命令和语法。

> 改变索引？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-08T10:11:30.707

试试这个：

```
create clustered index [your_index_name] 
on [your_table] 
   ([ID]) 
with (drop_existing = on) 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-08T06:28:35.803

您不能更改聚集索引。

唯一的选择是删除它并使用新列重新创建它。

在您的情况下，您可能必须使用新的聚集索引重新创建表，`ID`然后复制数据。

# ios - 使用 facebook sdk 3.1 创建事件

> ID：15872348
> 
> 赞同：2
> 
> 时间：2013-04-08T06:08:22.370
> 
> 标签：ios, facebook, facebook-events

我正在尝试创建一个事件但出现错误。我正在编写以下代码以使用 facebook sdk 3.1 创建事件

```
NSMutableDictionary *params = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                               @"My Test Event",@"name",
                               @"Bangalore",@"location",
                               @"1297641600",@"start_time",
                               @"1297468800",@"end_time", nil];

NSString * pRequest = [NSString stringWithFormat:@"me/events"];

[FBRequestConnection startWithGraphPath:pRequest parameters:params HTTPMethod:@"POST" completionHandler:^(FBRequestConnection *connection, id result, NSError *error) {

     if (!error)
     {
        NSLog(@"Facebook Post Success..");

    } else
    {
        NSLog(@"Facebook Post Failed..");

        NSLog(@"ERROR : %@", error.localizedDescription);
    }

}]; 
```

错误 ：

```
Error Domain=com.facebook.sdk Code=5 "The operation couldn’t be completed. (com.facebook.sdk error 5.)" UserInfo=0xa180200 {com.facebook.sdk:ParsedJSONResponseKey={
    body =     {
        error =         {
            code = 100;
            message = "(#100) Invalid parameter";
            type = OAuthException;
        };
    };
    code = 400;
}, com.facebook.sdk:HTTPStatusCode=400} 
```

任何人都可以帮助......

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:35:56.490

错误是 400 错误一个错误的请求。这意味着您的请求有问题。Facebook 返回的错误还表明您的参数无效。因此，我建议仔细检查您发送的参数，并确保您以正确的顺序和正确的值发送正确数量的参数。

# mysql - 使用 php 更新 mysql 表没有改变

> ID：15872350
> 
> 赞同：0
> 
> 时间：2013-04-08T06:08:22.933
> 
> 标签：mysql, sql, join, sql-update

我正在尝试使用 php 更新 mySQL 表。基本上，我传递了一个 ordernumber (int) 并使用它来查找 isbn 和 quantityordered，然后我用它们来更新另一个表。

```
$orderID=$_POST["order_ent_number"];

$query="select ISBN from Orders where orderNumber='$orderID'";

$isbn = mysql_query($query) or die(mysql_error());

$query="select quantityOrdered from Orders where orderNumber='$orderID'";

$quantityordered = mysql_query($query) or die(mysql_error());

$query="UPDATE Books SET inStock='$quantityordered' WHERE inStock='0' AND isbn='$isbn'";

        $result = mysql_query($query) or die(mysql_error()); 
```

所以使用 MySQL bench，查询工作（如果我用数字替换所有变量）并更改它。问题是当我在 PHP 中使用变量时，代码不起作用。我尝试了 mysql_escape_string 但也没有用。我检查了两个变量 $isbn 和 $quantityordered 的结果，它们是正确的。在服务器上运行它时我没有收到任何错误，但数据库中的 inStock 没有任何变化。搜了一圈，有人说我的变量需要转成整数？不确定这是否正确，但这就是我想出的全部。有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:12:07.327

`UPDATE`实际上，您可以通过加入表格在单个语句中完成此操作，

```
UPDATE  Books a
        INNER JOIN Orders b
            ON a.ISBN = b.ISBN
SET     a.instock = a.quantityOrdered
WHERE   a.instock = 0 AND
        b.OrderNUmber = '$orderID' AND
        a.ISBN = '$isbn' 
```

作为旁注，[`SQL Injection`](http://bobby-tables.com/)如果变量的值（*s*）来自外部，则查询很容易受到攻击。请看下面的文章，了解如何预防。通过使用`PreparedStatements`，您可以摆脱在值周围使用单引号。

*   [如何*防止*PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/how-to-prevent-sql-injection-in-php)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-08T06:13:22.757

也许你可以试试

```
$query="select ISBN from Orders where orderNumber='".$orderID."'";
$query="select quantityOrdered from Orders where orderNumber='".$orderID."'";
$query="UPDATE Books SET inStock='".$quantityordered."' WHERE inStock='0' AND isbn='".$isbn."'"; 
```

# android - 在 Android p2p wifi-direct 中的客户端之间发送消息

> ID：15872351
> 
> 赞同：1
> 
> 时间：2013-04-08T06:08:23.433
> 
> 标签：android, p2p, wifi-direct

如果有三个设备 A、B 和 C 使用 Wifi-direct 连接，假设 B 是 Group Owner。

A 如何向 C 发送消息？在运行 Android wifi direct 演示时，我注意到 A 和 C 知道 B 的 IP 地址。

没有可用的方法来获取 A 和 C 的 IP 地址。

创建一个小型聊天应用程序我需要在 B(Group Owner) 创建一个服务器吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-13T02:48:58.070

是的，您需要在 B 处创建服务器。

创建组时，任何人都知道的唯一 IP 地址是组所有者。如果您希望 A 和 C 进行通信，则需要让他们将其 IP 地址发送给 B，然后 B 可以将 C 的地址发送给 A，反之亦然。

有点恶心 我也在努力解决这个问题。

我认为[常规的 NSD 协议](http://developer.android.com/training/connect-devices-wirelessly/nsd.html)可能很有希望，但我不确定它是否可以通过 wifi direct 工作。

# android - android 日历 setInexactRepeating 如何工作？

> ID：15872352
> 
> 赞同：0
> 
> 时间：2013-04-08T06:08:31.350
> 
> 标签：android, calendar, alarmmanager

我正在开发小型 android 应用程序。几分钟后我想在我的应用程序中做一些事情。这些分钟不是静态的，而是动态的。所以我为此使用 android 日历 setInexactRepeating。我的代码看起来像这样

```
 Calendar cal = Calendar.getInstance();
        // Start something after 4 minutes 
        cal.add(Calendar.MINUTE, 4);
        get_alaram_service().setInexactRepeating(AlarmManager.RTC_WAKEUP,
            cal.getTimeInMillis(), 1000*300, get_pendingintent()); 
```

所以这将在 4 分钟后工作 setInexactRepeating 它将运行我的待处理意图，之后它将在这么长的时间内继续重复此操作。(1000*300)。

所以我的问题是，在 setInexactRepeating 中，第二个参数是我想在什么时候启动我的计时器，第三个参数是重复这个事情。现在第二个参数以毫秒为单位表示值。我试图以毫秒为单位传递我自己的分钟值，例如（1000 * 300），然后它无法正常工作。我不知道它如何正常工作。当我检查 cal.getTimeInMillis() 时，它是一个非常大的整数。那实际上是什么。

我是不是做错了什么需要你的帮助谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-13T10:50:54.743

尽管[文档](http://developer.android.com/reference/android/app/AlarmManager.html)中没有明确说明，但第二个参数（triggerAtMillis）是自纪元以来的时间（以毫秒为单位）。这就是[Calendar.getInstance()](http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#getInstance%28%29)返回的内容。调用此方法将返回当前时间。这是一个很大的数字，因为它实际上是 1970 年 1 月 1 日之后的毫秒数。然后，您需要向其中添加一些内容（例如 4 分钟）来定义 AlarmManager 何时首次触发。

# django - 如何从 Django 中的类方法中引用模板？

> ID：15872355
> 
> 赞同：1
> 
> 时间：2013-04-08T06:08:41.897
> 
> 标签：django, django-models, django-templates, django-views

是否可以从 Django 中的类方法中引用模板？假设我的模型中有以下课程（用于离线扬声器系列）：

```
class Event(models.Model): 
    name = models.CharField(max_length=300)
    date = models.DateTimeField()
    desc = models.TextField(blank=True, null=True)
    location = models.ForeignKey('Location', blank=True, null=True)
    speaker = models.ForeignKey('Speaker', blank=True, null=True) 
```

我想使用这些属性来填充模板并在 API 帖子中使用生成的 HTML 字符串。如何从这样的类方法中引用 HTML 模板：

```
def create_event_html(self):
    # This is not working with or without Quotes        
    t = Template(templates/event_template.html) 

    c = Context(self)
    return t.render(c) 
```

在给定特定条件的情况下，我想在保存时调用此类方法，但我认为这与此处无关...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T06:46:32.207

`Template(templates/event_template.html)`永远不会工作，因为这根本不是有效的Python - 它试图将（不存在的）值“模板”除以（也不存在的）对象“event_template”的“html”属性。如果你不清楚，你应该做一个介绍性的 Python 教程。

`Template('templates/event_template.html')`是有效的 Python，但会在错误的位置查找模板文件：模板加载器已经在“模板”下查找，因此将在“模板/模板/”中查找“事件模板.html”文件。删除目录引用。

完成后，您将遇到另一个`Context`需要字典的问题，并且您正在通过`self`. 除非你已经覆盖`__getitem__`了你的模型类，否则这是行不通的。您可能应该只传递一个包含一个条目的字典，例如`{'item': self}`，并且在您的模板中您可以引用 的各种属性`item`。

# jqgrid - Jq 树网格没有从控制器加载数据

> ID：15872356
> 
> 赞同：0
> 
> 时间：2013-04-08T06:08:44.830
> 
> 标签：jqgrid

我正在使用 jqgrid，我想从 jquery 显示网格调用控制器返回我的 json 数据我的网格没有显示数据代码在这里

我的控制器动作是这样的

```
 private static List<Category> GetProducts(int parent, int childs)
        {
            string[] procat = { "Electrical", "Computer", "Furniture", "House Hold", "Automobiles" };
            var data = new List<Category>();
            for (int i = 0; i < parent; i++)
            {
                data.Add(new Category { CatId = i, CatName = procat[i % 5], Products = new List<Product>() });
                for (int j = 0; j < childs; j++)
                {
                    data[i].Products.Add(new Product
                    {
                        ProId = j,
                        ProName = "ABC",
                        desc = "A web browser built for speed, simplicity, and security",
                        desc1 = "Google Chrome",
                        desc2 = (i * j).ToString(),
                        desc3 = "Copyright 2013 Google Inc. All rights reserved.",
                        desc4 = i.ToString(),
                        desc5 = j.ToString(),

                        desc6 = "Google Chrome",
                        desc7 = (i * j).ToString(),
                        desc8 = "Copyright 2013 Google Inc. All rights reserved.",
                        desc9 = i.ToString(),
                        desc10 = j.ToString(),

                        desc11 = "Google Chrome",
                        desc12 = (i * j).ToString(),
                        desc13 = "Copyright 2013 Google Inc. All rights reserved.",
                        desc14 = i.ToString(),
                        desc15 = j.ToString(),

                        desc16 = "Google Chrome",
                        desc17 = (i * j).ToString(),
                        desc18 = "Copyright 2013 Google Inc. All rights reserved.",
                        desc19 = i.ToString(),
                        desc20 = j.ToString(),

                        desc21 = "Google Chrome",
                        desc22 = (i * j).ToString(),
                        desc23 = "Copyright 2013 Google Inc. All rights reserved.",
                        desc24 = i.ToString(),
                        desc25 = j.ToString()

                    });
                }
            }
            return data;
        }

  public JsonResult PlainObjectsView()
        {
            var res = new List<FlatProduct>();
            string[] procat = { "Electrical", "Computer", "Furniture", "House Hold", "Automobiles" };
            int i = 1;
            foreach (var item in procat)
            {
                res.Add(new FlatProduct
                {
                    CatId = i,
                    CatName = item,
                    ProName = item,

                    ProId = i,
                    level = 0,
                    parent =null,
                    Isleaf = false,
                    IsLoaded = true,
                    Isexpanded = true
                });
                i++;
            }

            var data = GetProducts(5, 5);

            foreach (var cats in data)
            {
                foreach (var prods in cats.Products)
                {
                    res.Add(new FlatProduct
                    {
                        CatId = cats.CatId + 1,
                        CatName = cats.CatName,
                        ProId = prods.ProId,
                        ProName = prods.ProName,
                        desc = prods.desc,
                        desc1 = prods.desc1,
                        desc2 = prods.desc2,
                        desc3 = prods.desc3,
                        desc4 = prods.desc4,
                        desc5 = prods.desc5,

                        desc6 = prods.desc6,
                        desc7 = prods.desc7,
                        desc8 = prods.desc8,
                        desc9 = prods.desc9,
                        desc10 = prods.desc10,

                        desc11 = prods.desc11,
                        desc12 = prods.desc12,
                        desc13 = prods.desc13,
                        desc14 = prods.desc14,
                        desc15 = prods.desc15,

                        desc16 = prods.desc16,
                        desc17 = prods.desc17,
                        desc18 = prods.desc18,
                        desc19 = prods.desc19,
                        desc20 = prods.desc20,

                        desc21 = prods.desc21,
                        desc22 = prods.desc22,
                        desc23 = prods.desc23,
                        desc24 = prods.desc24,
                        desc25 = prods.desc25,
                        level = 1,
                        parent = cats.CatId + 1,
                        Isleaf = false,
                        IsLoaded = true,
                        Isexpanded = true
                    });
                }
            }

            double pagesize = 5;

            var finalRes = new { page = 1, records = res.Count, rows = res, total = Math.Ceiling(res.Count / pagesize), id = res.Select(c=>c.CatId),  };

            return Json(finalRes, JsonRequestBehavior.AllowGet);
        } 
```

我的jQuery是这样的

```
 <script type="text/javascript">

        $(document).ready(function () {
            'use strict';
            $("#treegrid").jqGrid({
                url: '@Url.Content("~/TreeGrid/PlainObjectsView")',

                datatype: "json",
                mtype: "Get",
                colModel: [
                { name: "CatId",  width: 150,key:true, hidden:true},
                { name: "CatName",  width: 200 },
                { name: "desc",  width: 200 },
                { name: "desc1",  width: 300 },
                { name: "desc10",  width: 300 },
                { name: "desc11",  width: 150 },
                { name: "desc12",  width: 200 },
                { name: "desc13",  width: 300 },
                { name: "desc14",  width: 150 },
                { name: "desc15",  width: 200 },
                { name: "desc16",  width: 300 },
                { name: "desc17",  width: 150 },
                { name: "desc18",  width: 200 },
                { name: "desc19",  width: 300 },
                { name: "desc2",  width: 150 },
                { name: "desc20",  width: 150 },
                { name: "desc21",  width: 200 },
                { name: "desc22",  width: 300 },
                { name: "desc23",  width: 150 },
                { name: "desc24",  width: 200 },
                { name: "desc25",  width: 300 },
                { name: "desc3",  width: 200 },
                { name: "desc4",  width: 300 },
                { name: "desc5",  width: 150 },
                { name: "desc6",  width: 200 },
                { name: "desc7",  width: 300 },
                { name: "desc8",  width: 150 },
                { name: "desc9",  width: 200 },
                { name: "ProId",   width: 300, hidden:true },
                { name: "ProName",  width: 150 }

                ],
                treeGridModel: 'adjacency',             
                height: "auto",

                ExpandColumn: 'CatName',
              //  ExpandColClick: true,

                loadonce:true,
                treeGrid: true,
               // gridview: true,
                viewrecords: true,
                caption: "Tree Grid Example"

            });

        });

    </script> 
```

请帮帮我我哪里错了

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T05:07:18.387

首先，我们应该以特定的 json 格式订购数据，首先添加父级，然后像这样添加它的子级

```
public IEnumerable<FlatProduct> TreeGridjsonData()
    {
        var res = PlainObjectsViewNew();
        int count = 1;
        var list1 = (from rs in res
                     where rs.parent == null
                     select rs).ToList<FlatProduct>();

        foreach (var item in list1)
        {
            finalList.Add(
                new FlatProduct
                {
                    Id = count,
                    CatId = item.CatId,
                    CatName = item.CatName,

                    level = 0,
                    parent = null,
                    Isleaf = false,
                    //IsLoaded = true,
                    Isexpanded = false

                });
            AddChildren(item.CatId, count);
            count += 6;
        }

        return finalList;

    }

public IEnumerable<FlatProduct> AddChildren(int parentid, int count) 
        {
            int lscount = count + 1;
            var res = PlainObjectsViewNew();

            var list1 = from rs in res
                        where rs.parent == parentid
                        select rs;

            foreach(var item in list1)
            {
                finalList.Add(new  FlatProduct
                {

                    CatName = item.CatName,
                    ProId = item.ProId,
                    ProName = item.ProName,
                    Id = lscount,
                    desc = item.desc,
                    desc1 = item.desc1,
                    desc2 = item.desc2,
                    desc3 = item.desc3,
                    desc4 = item.desc4,
                    desc5 = item.desc5,

                    desc6 = item.desc6,
                    desc7 = item.desc7,
                    desc8 = item.desc8,
                    desc9 = item.desc9,
                    desc10 = item.desc10,

                    desc11 = item.desc11,
                    desc12 = item.desc12,
                    desc13 = item.desc13,
                    desc14 = item.desc14,
                    desc15 = item.desc15,

                    desc16 = item.desc16,
                    desc17 = item.desc17,
                    desc18 = item.desc18,
                    desc19 = item.desc19,
                    desc20 = item.desc20,

                    desc21 = item.desc21,
                    desc22 = item.desc22,
                    desc23 = item.desc23,
                    desc24 = item.desc24,
                    desc25 = item.desc25,
                    level = 1,
                    parent = count,
                    Isleaf = true,
                     IsLoaded = true,
                    Isexpanded = true

                });
                lscount++;
            }

            return finalList;
        } 
```

之后将此列表转换为 json 格式

```
 public JsonResult GetPlainobject()
        {

            var rows = (PlainObjectsViewNew()
                .Select(c => new
                {
                     id=c.Id,
                    cell =new []

                                         {
                                            c.Id.ToString(),
                                            c.CatName, 

                                            c.desc,
                                            c.desc1,
                                            c.desc10,
                                            c.desc11,
                                            c.desc12,
                                            c.desc13,
                                            c.desc14,
                                            c.desc15,
                                            c.desc16,
                                            c.desc17,
                                            c.desc18,
                                            c.desc19,
                                            c.desc2,
                                            c.desc20,
                                            c.desc21,
                                            c.desc22,
                                            c.desc23,
                                            c.desc24,
                                            c.desc25,
                                            c.desc3,
                                            c.desc4,
                                            c.desc5,
                                            c.desc6,
                                            c.desc7,
                                            c.desc8,
                                            c.desc9,
                                            c.ProId.ToString(),
                                            c.ProName,
                                            c.level.ToString(),
                                            c.parent.ToString(),
                                            c.Isexpanded.ToString(),
                                            c.IsLoaded.ToString(),
                                            c.Isleaf.ToString(),

                                            }

                })).ToArray();

            return Json(new
            {
                page = 1,
                records = rows.Length,
                rows

            }, JsonRequestBehavior.AllowGet);

        } 
```

之后，javascript函数发生了一些变化

```
$(document).ready(function () {

    $("#treegrid").jqGrid({
        url: '@Url.Content("~/TreeGrid/GetPlainobjectOrderdData")',

        datatype: "json",
        mtype: "Get",
        colModel: [
        { name: "CatId",  width: 150,key:true, hidden:true},
        { name: "CatName",  width: 200 },
        { name: "desc",  width: 200 },
        { name: "desc1",  width: 300 },
        { name: "desc10",  width: 300 },
        { name: "desc11",  width: 150 },
        { name: "desc12",  width: 200 },
        { name: "desc13",  width: 300 },
        { name: "desc14",  width: 150 },
        { name: "desc15",  width: 200 },
        { name: "desc16",  width: 300 },
        { name: "desc17",  width: 150 },
        { name: "desc18",  width: 200 },
        { name: "desc19",  width: 300 },
        { name: "desc2",  width: 150 },
        { name: "desc20",  width: 150 },
        { name: "desc21",  width: 200 },
        { name: "desc22",  width: 300 },
        { name: "desc23",  width: 150 },
        { name: "desc24",  width: 200 },
        { name: "desc25",  width: 300 },
        { name: "desc3",  width: 200 },
        { name: "desc4",  width: 300 },
        { name: "desc5",  width: 150 },
        { name: "desc6",  width: 200 },
        { name: "desc7",  width: 300 },
        { name: "desc8",  width: 150 },
        { name: "desc9",  width: 200 },
        { name: "ProId",   width: 300, hidden:true },
        { name: "ProName",  width: 150 }

        ],
       // gridComplete: doGridComplete,
        onInitGrid: doOnInitGrid,
        loadComplete: doloadComplete,

        treeGridModel: 'adjacency',             
        height: "auto",
        ExpandColumn: 'CatName',
        //gridview: true,
        loadonce:false,
        treeGrid: true,
        treedatatype:'jsonstring',
        viewrecords: true,
        treeIcons: { leaf: 'ui-icon-document-b' },
        caption: "Tree Grid Example"

    });

}); 
```

这完成了

# testing - 在 STAF/STAX 中导入 json

> ID：15872359
> 
> 赞同：1
> 
> 时间：2013-04-08T06:08:53.747
> 
> 标签：testing, automation, automated-tests, staf

> 我一直在研究**STAF 和 STAX**。我的目标是使用 STAF & STAX Return Testcase **PASS**或**FAIL读取****JSON**文件。我尝试使用最新的 python 版本将我的员工更新到最新版本。

 ****Python 版本详情

```
20130408-15:38:19   
Python Version : 2.5.2 (Release_2_5_2:7206, Mar 2 2011, 23:12:06) 
[Java HotSpot(TM) Client VM (Sun Microsystems Inc.)] 
```

> 这是我的代码：

```
try:
      import simplejson as json
    except ImportError:
      import json
  title = [] 
  album = []
  slist = []
  json_data=open('d:\Json_File.txt')
  data = json.load(json_data)
  for i in range(data["result"].__len__()):
      title = data["result"][i]["Title"]
      album = data["result"][i]["Album"]
      slist = data["result"][i]["Title"] + ' [' + data["result"][i]["Album"] + '] \n' 
```

> 它给出了下面给出的错误

```
20130408-11:32:26   STAXPythonEvaluationError signal raised. Terminating job. 
===== XML Information =====
File: new13.xml, Machine: local://local 
Line 15: Error in element type "script".

===== Python Error Information =====
com.ibm.staf.service.stax.STAXPythonEvaluationException: 
Traceback (most recent call last):
  File "<pyExec string>", line 1, in <module>
ImportError: No module named simplejson

===== Call Stack for STAX Thread 1 =====[
  function: main (Line: 7, File: C:\STAF\services\stax\samples\new13.xml, Machine: local://local)
  sequence: 1/2 (Line: 14, File: C:\STAF\services\stax\samples\new13.xml, Machine: local://local)
] 
```

> 在 STAF 模块中包含 JSON 的过程是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T05:05:26.163

> STAX 使用 Jython（用 Java 编写的 Python 版本）而不是 Python 在 STAX 作业的元素内执行代码。正如我所说，我使用的是最新版本的 STAX，v3.5.4，然后它提供了一个嵌入式 Jython 2.5.2（它实现了与 Python 2.5 相同的一组语言特性）来执行元素内的代码。
> 
> **注意：** Jython 2.5.2 不包含 simplejson，因为 simplejson 包含在 Python 2.6 或更高版本中。
> 
> **附录 F：**[STAX 用户指南中的](http://staf.sourceforge.net/current/STAX/staxug.html#Header_CPythonDiffs)“ Jython 和 CPython 差异”讨论了 Jython 和 Python（又名 CPython）之间的一些差异。在系统中安装 Python 2.7 或更高版本不会影响 STAX 使用 Jython 2.5.2 在 STAX 作业的元素内执行代码这一事实。但是，**“simplejson 可以通过 Jython 运行。”** 我将包含 simplejson 模块的目录添加到我的 STAX 作业中的 sys.path 中，然后导入 simplejson。
> 例如：

```
<script> 
  myPythonDir = 'C:/simplejson'   

  import sys 
  pythonpath = sys.path 

  # Append myPythonDir to sys.path if not already present 
  if myPythonDir not in pythonpath: 
    sys.path.append(myPythonDir) 

  import simplejson as json 
</script> 
```

> 或者，如果您想使用安装在系统上的 Python 2.7 或更高版本（包括 simplejson），您可以使用 a* 通过您的 STAX 作业运行 Python 脚本（使用 json）** 元素。*
> 
>  *例如，要使用 Python 2.7（如果安装在 C:\Python2.7 中）在 C:\tests 中运行名为 YourPythonScript.py 的 Python 脚本。*

 *```
<process> 
  <location>'local'</location> 
  <command mode="'shell'">'C:/Python2.7/bin/python.exe YourPythonScript.py'</command> 
  <workdir>'C:/tests'</workdir> 
</process> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:35:06.717

我对STAF / STAX知之甚少。但是按照错误的说法，似乎`simplejson`模块不可用。重写导入行如下：

```
try:
  import simplejson as json
except ImportError:
  import json 
```

如果导入失败（Python 2.6+），您可以回`json`退到模块。*****

# javascript - 如何开始使用 HTML5、CSS、JavaScript 和 jquery 开发 Android 应用程序？

> ID：15872363
> 
> 赞同：1
> 
> 时间：2013-04-08T06:09:13.447
> 
> 标签：javascript, android, jquery, html, css

我想用 HTML5 开发一个 Android 应用程序。应用程序有一些基本的用户界面，其中包含需要从服务器获取的数据。我只有 HTML5 和 CSS 的基本知识；但我是 JavaScript 和 JQuery 的新手。

JavaScript 和 JQuery 哪个是必须学习的？或者我需要两个都学？

任何移动应用程序屏幕和请求/响应的示例代码将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T06:35:04.307

首先，您应该决定要使用哪个框架。下一步是设置环境。假设您想使用 PhoneGap 进行编码，而不是需要 Eclipse 和 Android SDK 等。您将在描述中找到软件列表。

实际上，在我看来，没有必要使用 jQuery 或其移动版本进行开发。有时您只需要创建一个最多 5-6 页的应用程序，其中包含一些使用 CSS3 Transition3D 很容易制作的基本动画。

但是，当您计划创建具有复杂业务逻辑的大型应用程序时，您可能需要使用像 Sencha 或 Angular 这样的框架（这取决于您的需要）。

谈论框架，您必须了解每个框架仅用于特定目的。我的意思是，例如，在大型应用程序中使用 knockoutJS 是很荒谬的，因为它开发的唯一目的是模型和视图之间的数据绑定。此外，在许多情况下，您根本不需要框架。

无论如何，首先你应该学习 JavaScript 基础知识。我的意思是它是如何工作的，在哪些步骤中处理代码，这是一个函数以及原型中的内容等等。否则，您将永远不知道如何编写有效的代码或如何优化代码以获得更好的性能。这对于移动设备来说至关重要，因为它们没有台式机那么强大。您还需要了解浏览器的工作原理（渲染、网络等）。

这就是我的看法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:13:34.840

[你在这里通过简单的方式学习 javascript 和 jquery](http://www.codeschool.com/)

[您可以使用带有电话间隙的 html、css、javascript 构建应用程序](http://phonegap.com/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T06:14:02.810

您可以使用跨移动平台。Sencha touch 也是跨平台启动的一种。

[http://www.sencha.com/products/touch](http://www.sencha.com/products/touch)

# ruby-on-rails - rails查询的不同输出

> ID：15872365
> 
> 赞同：0
> 
> 时间：2013-04-08T06:09:40.543
> 
> 标签：ruby-on-rails, rails-activerecord

我有一个用户 ( `User`) 模型，它有很多问题 ( `Question`)。每个用户都有一个唯一的密钥。问题模型有一个字段来存储该键。我需要搜索特定用户的所有问题。

添加两个问题后，当我查询时：

```
my_user.questions 
```

它只返回 1 个问题。但是，当我查询时：

```
Question.where(:key => "user-key") 
```

它*确实*返回两​​者。

我似乎无法弄清楚为什么他们有不同的结果。有任何想法吗？

# php - 如何使用 jQuery 在 php 中创建分页

> ID：15872368
> 
> 赞同：0
> 
> 时间：2013-04-08T06:09:46.503
> 
> 标签：php, jquery, ajax

我正在尝试为使用 jQuery POST 的 PHP 创建一个分页。我找到了几个支持传统方式的链接，但我找不到任何具有动态值的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:13:23.200

[参考](http://www.9lessons.info/2009/09/pagination-with-jquery-mysql-and-php.html)这个和[这个](http://onlinewebapplication.com/pagination-jquery-php-ajax-mysql/)。希望它可以帮助你。

# nuget - 使用 NuGet 包进行选择性安装

> ID：15872372
> 
> 赞同：1
> 
> 时间：2013-04-08T06:09:56.313
> 
> 标签：nuget, nuget-package

我已经创建了 NuGet 包的版本，已上传并且运行良好。我的包中有一组库，这些库已填充到包内的不同目录中。

某些用户可能需要我的 NuGet 包的特定目录，而某些库可能不需要。在安装时，我应该提示用户他们需要安装哪个部分。

一种解决方案：包的逻辑分离可能是一种解决方案。就像在单独的包中打包库一样，可以安装所需的包。

但是如果已经进行了选择性安装，那就更容易了。我不知道 NuGet 是否有这样的选择。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T12:51:11.813

NuGet 支持使用约定的框架版本和平台，您可以在[docs](http://docs.nuget.org/docs/creating-packages/creating-and-publishing-a-package#Supporting_Multiple_.NET_Framework_Versions_and_Profiles)中阅读它们。您可以[按目标框架版本](http://docs.nuget.org/docs/creating-packages/creating-and-publishing-a-package#Grouping_Assemblies_by_Framework_Version)或[目标框架配置文件对](http://docs.nuget.org/docs/creating-packages/creating-and-publishing-a-package#Grouping_Assemblies_by_Framework_Profile)它们进行分组。

如果您想有选择地安装库，就是说您希望有选择地安装**依赖**项：您应该将它们拆分为单独的 NuGet 包并声明您的依赖项。这些依赖关系也可以[分组](http://docs.nuget.org/docs/reference/nuspec-reference#Specifying_Dependencies_in_version_2.0_and_above)。

如果您的条件无法使用框架版本或配置文件定义，您应该提出自己的入门级 NuGet 包并关闭适当的依赖链（或为此使用[PowerShell 挂钩）。](http://docs.nuget.org/docs/creating-packages/creating-and-publishing-a-package#Automatically_Running_PowerShell_Scripts_During_Package_Installation_and_Removal)

# sql-server - 在所有列上创建全文索引脚本，而不按名称指定每列

> ID：15872375
> 
> 赞同：2
> 
> 时间：2013-04-08T06:10:08.833
> 
> 标签：sql-server, sql-server-2008, full-text-indexing

如何在不通过 SQL Server 中的脚本指定单个列名的情况下对所有列进行全文索引？

我的表有 50 列，我希望全文索引涵盖所有列。

这可以做到吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:30:01.020

```
CREATE FULLTEXT INDEX ON table_name
   [ ( { column_name 
             [ TYPE COLUMN type_column_name ]
             [ LANGUAGE language_term ] 
             [ STATISTICAL_SEMANTICS ]
        } [ ,...n] 
      ) ]
    KEY INDEX index_name 
    [ ON <catalog_filegroup_option> ]
    [ WITH [ ( ] <with_option> [ ,...n] [ ) ] ]
[;]

<catalog_filegroup_option>::=
 {
    fulltext_catalog_name 
 | ( fulltext_catalog_name, FILEGROUP filegroup_name )
 | ( FILEGROUP filegroup_name, fulltext_catalog_name )
 | ( FILEGROUP filegroup_name )
 }

<with_option>::=
 {
   CHANGE_TRACKING [ = ] { MANUAL | AUTO | OFF [, NO POPULATION ] } 
 | STOPLIST [ = ] { OFF | SYSTEM | stoplist_name }
 | SEARCH PROPERTY LIST [ = ] property_list_name 
 } 
```

**参考 MSDN：**

[http://msdn.microsoft.com/en-us/library/ms187317.aspx](http://msdn.microsoft.com/en-us/library/ms187317.aspx)

**同时参考这个问题：**

[尝试通过脚本为 SQL Server 设置全文搜索](https://stackoverflow.com/questions/7130852/trying-to-set-up-full-text-search-for-sql-server-via-script)

# android - 如何在Android中添加字符串格式的日期天数

> ID：15872381
> 
> 赞同：-4
> 
> 时间：2013-04-08T06:10:33.283
> 
> 标签：android

我有一个编辑文本和一个文本视图。Textview 将以字符串格式显示日期。如果用户在 edittext 中输入 10，则 textview 中的自动日期应更新为显示提前 10 天的日期。

这个怎么做？

提前致谢。

罗汉

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-08T06:47:06.240

请看这个并实施

```
public class MainActivity extends Activity {

EditText edt_day;
String day = "";
int next_date = 0;
TextView txt_next_date;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    edt_day = (EditText) findViewById(R.id.edt_day);
    txt_next_date = (TextView) findViewById(R.id.txt_next_date);

    edt_day.setOnEditorActionListener(new OnEditorActionListener() {
        public boolean onEditorAction(TextView v, int actionId,
                KeyEvent event) {
            // Log.i("KeyBoard" ,"Inside the Edit Text");
            if (actionId == EditorInfo.IME_ACTION_GO) {

                next_date = Integer.parseInt(edt_day.getText().toString());

                Calendar someDate = GregorianCalendar.getInstance();
                someDate.add(Calendar.DAY_OF_YEAR, +next_date);
                SimpleDateFormat dateFormat = new SimpleDateFormat(
                        "yyyy-MM-dd HH:mm:ss");
                String formattedDate = dateFormat.format(someDate.getTime());
                Log.e("minite", "formattedDate=" + formattedDate);
                txt_next_date.setText(formattedDate);
            }
            return false;
        }
    });
   }
}

<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<EditText
    android:id="@+id/edt_day"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:ellipsize="end"
    android:hint="Enter no of Day"
    android:imeOptions="actionGo"
    android:singleLine="true"
    android:textSize="14sp" />

<TextView
    android:id="@+id/txt_next_date"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_centerVertical="true"
    tools:context=".MainActivity" />

</RelativeLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:24:26.180

First of all You have to use TextWatcher for as you say that user enter value in edittext and value should be change in Textview. and other functions you have not described properly,but you can do it using Textwatcher.

# c# - Regex - 用于从字符串中提取数据的各种正则表达式

> ID：15872382
> 
> 赞同：2
> 
> 时间：2013-04-08T06:10:36.953
> 
> 标签：c#, regex

我有以下代码

```
string s = "add(2,3);";
var matchess = Regex.Matches(s, @"\(\s*(?<num>\d+)\s*(\,\s*(?<num>\d+)\s*)*\)");
                var results = matchess.Cast<Match>()
                    .SelectMany(m => m.Groups["num"].Captures.Cast<Capture>())
                    .Select(c => c.Value).ToArray(); 
```

上面的代码检测到超过 2 个 functionname(number,number) 的输入，并将结果存储在 arraylist 中以便能够访问。

有没有办法改变方程，使其也接受以下内容并相应地打印结果？

示例 1

```
 string s = "add(2.2,3.3);"; 
```

结果 1

```
results[0] = 2.2
results[1] = 3.3 
```

示例 2

```
string s = "add(2.4,3.5,6.7);"; 
```

结果 2

```
 results[0] = 2.4
    results[1] = 3.5
    results[2] = 6.7 
```

示例 3

```
string s = "test("this is a test","just an example");"; 
```

结果 3

```
results[0] = "this is a test"
results[1] = "just an example" 
```

示例 4

```
 string s = "test("this is a test","just an example","testing");"; 
```

结果 4

```
 results[0] = "this is a test"
    results[1] = "just an example"
    results[2] = "testing" 
```

基本上我需要的是函数名（十进制，十进制）和函数名（字符串，字符串）的2个以上输入并将结果存储在数组列表中以访问它们。

请指教。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:04:50.990

试试这个：

```
string s = "aa(1.2,3.5)";
    //Or
    string s = "aa(sad,asd)";
    var info = Regex.Split(
        Regex.Matches(s, @"\(.*?\)")
        .Cast<Match>().First().ToString()
        .Replace("(", string.Empty).
        Replace(")", string.Empty), @"[\s,]+"); 
```

## 它是如何工作的：

首先我在区域得到字符串`()`：

```
Regex.Matches(s, @"\(.*?\)"); 
```

获得第一场比赛

```
.Cast<Match>().First().ToString() 
```

删除`(`和`)`

```
.Replace("(", string.Empty).Replace(")", string.Empty) 
```

`,`在表单结果之间拆分文本或数字

```
Regex.Split(result, @"[\s,]+"); 
```

# java - Java 变量设置

> ID：15872385
> 
> 赞同：6
> 
> 时间：2013-04-08T06:10:53.017
> 
> 标签：java

case1、case2 和 case3 之间有什么区别吗？是否有与性能相关的优势或劣势？

```
public class Test {

private String name;

    public void action (){

        name = doSome(); // case 1
        setName(doSome()); // case2
        this.name =doSome(); // case3

    }

    public String doSome(){
            return "Hello";
    }

    /**
     * @return the name
     */
    public String getName() {
        return name;
    }

    /**
     * @param name the name to set
     */
    public void setName(String name) {
        this.name = name;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T06:13:17.147

使用 Eclipse 上的调试和断点来查看每个案例需要多少个步骤。越少越好。

`Case 1`迈出了 1 步

`Case 2`采取了 2 个步骤

`Case 3`= 与`Case 1`

**`Case 1``Case 3`与关键字相同，`this`只是指当前类。**

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-08T06:15:11.347

我想，在情况 2 中，我们在堆栈上添加了一个额外的方法，即 setName。但是从性能的角度来看，增益几乎可以忽略不计。所以在我看来，在这个示例中，我们应该从代码维护和可读性的角度考虑视野大于性能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T06:15:26.567

案例 1 和 3 将产生相同的代码（除非它们是不同的“名称”）。第二个将有一个额外的函数调用，它可能会或可能不会被 JIT 优化掉。但是，这不是您应该注意的缺点。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T06:27:56.720

我更喜欢案例 2，因为在案例 1 中，如果将来某个时候`name`引入了局部变量，那么阅读您的代码的人会混淆它所引用的变量。

在案例 3 中，尽管范围更清晰，但不使用 setter 的事实意味着如果将来某个时候您更改了 name 字段的设置方式（例如：您想要修剪空白），您必须更改所有修改过的代码name 变量，而如果你在任何地方都使用 case 2，你只需要更新 setter 方法。

在我看来，一个健康的企业软件开发应该随着错误的发现和业务需求的不断变化而不断地重构代码，因此案例 2 将在这里为您提供优势。但是，如果这只是大学作业，那么案例 1 和 3 就可以了。

性能方面的案例 1 和 3 似乎消耗更少的函数调用，但我不知道它是否会给你带来显着的改进。

还要记住，大多数流行的 IDE（例如 Eclipse）具有为您自动生成 getter 和 setter 的功能，只需单击几下鼠标按钮即可 - 这应该回答“getter & setter 在 Java 中是如此的麻烦......”

# r - R 按标签引用数据框列以删除它们

> ID：15872389
> 
> 赞同：1
> 
> 时间：2013-04-08T06:11:07.273
> 
> 标签：r, dataframe, subset

我想这很容易，尽管我的搜索毫无结果——

给定

```
z=data.frame(X.39=rnorm(20),X.40=rnorm(20),X.51=rnorm(20)) 
```

子集运算

```
z[,c('X.39','X.51')] 
```

作品。但

```
z[,-c('X.39','X.51')] 
```

给我

```
Error in -c("X.39", "X.51") : invalid argument to unary operator 
```

为什么会这样？如何使用列名列表删除一组列？

编辑

我知道我可以随时使用

```
z[,!names(z) %in% c('X.39','X.51')] 
```

但我正在寻找一个更懒惰的解决方案

编辑2

大多数讨论都在评论部分，但为了保持良好的秩序而关闭它，其要点是不可能使用更懒惰的解决方案（按名称直接引用）。这似乎是设计的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:19:43.080

您可以使用 setdiff 函数，但我不能说它是否是最优雅的解决方案：

```
z[, setdiff(names(z), c('X.39','X.51'))] 
```

# sql - 使用多个连接（例如左连接）

> ID：15872394
> 
> 赞同：1
> 
> 时间：2013-04-08T06:11:36.537
> 
> 标签：sql, oracle

我想知道多个连接的逻辑是什么（例如下面）

`SELECT * FROM B`返回 100 行

`SELECT B.* FROM B LEFT JOIN C ON B.ID = C.ID`返回 120 行

据我所知，如果为两个表都找到了数据，则使用左连接将从左表返回任何匹配的数据，即 B。但是为什么在使用时`left join`，它返回的数据比表 B 本身还多？

我在这里做错了什么或误解了什么？非常感谢任何指导。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:24:17.990

看下面的例子：

```
B = {1,2}
C = {(1,a),(1,b),(1,c),(1,d),(1,e)} 
```

结果`B left join C`将是：

```
1 | a
1 | b
1 | c
1 | d
1 | e
2 | null 
```

结果中的行数肯定大于 B (2) 中的行数。

一般来说，结果中的行数受`B left join C`限制，`B.size + C.size`而不仅仅是`B.size`您认为的......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T06:24:56.630

设为表 B：

```
id
----
1
2
3 
```

设为表 C

```
id     name
------------
1      John
2      Mary
2      Anne
3      Stef 
```

b 中的任何 id 与 c 中的 id 匹配，然后 id=2 将匹配两次。因此，即使基表 B 有 3 行，id 上的左连接也将返回 4 行。

现在看一个更邪恶的例子：

表 B

```
id
----
1
2
2
3
4 
```

表 C

```
id     name
------------
1      John
2      Mary
2      Anne
3      Stef 
```

b 中的每个 id 都与 c 中的 id 匹配，然后第一个 id=2 将匹配两次，第二个 id=2 将匹配两次所以结果

```
select b.id, c.name
from b left join c on (b.id = c.id) 
```

将会

```
id     name
------------
1      John
2      Mary
2      Mary
2      Anne
2      Anne
3      Stef
4      (null) 
```

id=4 不匹配但出现在结果中，因为它是左连接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T06:28:13.503

根据您的查询，它使用 C 和 B 表连接到 B 表是左表，因此它将显示左表的所有记录，在我们的案例中它是 B，并且在我们的案例中与其他表相关，它是 C。

# mysql - 如何重新同步视图中的数据？

> ID：15872403
> 
> 赞同：3
> 
> 时间：2013-04-08T06:12:03.420
> 
> 标签：mysql, view

我创建了一个视图，现在我已将数据添加到我的原始数据库中，我希望同步添加的数据或更新我的视图。

我创建的视图查询：

```
CREATE VIEW test1.view AS SELECT * FROM test2.name; 
```

你能帮助我如何更新我的观点吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T06:14:41.710

无需“更新”视图。它会**自动**与您的实际数据保持同步。

更新`test2`表格后，您的`test1`视图将立即重新同步。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-08T06:16:34.503

没有办法更新 a`VIEW`因为它是***虚拟表***并且只是***语句的******投影`SELECT`***。

如果要更新它，则需要更新基表`test2.name`。对基表的任何修改都将反映在`VIEW`.

# mysql - 在 MediumBLOB 列中插入图像

> ID：15872407
> 
> 赞同：0
> 
> 时间：2013-04-08T06:12:36.697
> 
> 标签：mysql

我正在尝试使用以下查询在 mysql 数据库中插入一条记录，但出现 #1064-sql 语法错误。

```
INSERT INTO RESOURCES(ID, NAME, RESTYPE, CONTENT) VALUES('4', 'Printer.TicketTotal', 0, LOAD_FILE('/home/anand/Openbravo-POS/main/src-pos/com/openbravo/pos/templates/Printer.TicketTotal.xml));

INSERT INTO RESOURCES(ID, NAME, RESTYPE, CONTENT) VALUES('4', 'Printer.TicketTotal', 0, $FILE{/home/anand/Openbravo-POS/main/src-pos/com/openbravo/pos/templates/Printer.TicketTotal.xml}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:17:34.983

你错过`'`了文件名的末尾 -

```
INSERT INTO RESOURCES(ID, NAME, RESTYPE, CONTENT) VALUES
  ('4',
  'Printer.TicketTotal',
  0, 
  LOAD_FILE('/home/anand/Openbravo-POS/main/src-pos/com/openbravo/pos/templates/Printer.TicketTotal.xml')); 
```

# tcl - 处理多行文本文件以单行打印

> ID：15872408
> 
> 赞同：1
> 
> 时间：2013-04-08T06:12:41.433
> 
> 标签：tcl

我是 TCL 脚本的新手。只是想从这里的专家那里得到一些建议。

我希望处理格式如下的报告。我正在考虑打印没有标题的报告，并且只使用单行，例如 -

```
Connections for net 'pmg_ccu_ot2_tam_50mhz_sel_xainfwh' :: Driver a_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh Output Pin (a_par) :: Load  b_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh Input Pin (b_par)
Connections for net 'pmg_ccu_ot2_tam_50mhz_sel_xainfwh_2' :: Driver d_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh_2 Output Pin (d_par) :: Load  e_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh_2 Input Pin (e_par), f_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh_3 Input Pin (f_par)  
<more . . .> 
```

如果有人能给我一些启示和想法，我真的很感激。非常感谢！

```
****************************************
Report : net
        -connections
Design : soc
Version: G-2012.06-SP2
Date   : Sun Apr  7 22:56:33 2013
****************************************

Connections for net `pmg_ccu_ot2_tam_50mhz_sel_xainfwh`:

Driver Pins         Type                
------------        ----------------    
a_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh Output Pin (a_par)

Load Pins           Type                
------------        ----------------    
b_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh Input Pin (b_par)  

1  

Connections for net `pmg_ccu_ot2_tam_50mhz_sel_xainfwh_2`:

Driver Pins         Type                
------------        ----------------    
d_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh_2 Output Pin (d_par)

Load Pins           Type                
------------        ----------------    
e_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh_3 Input Pin (e_par)
f_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh_3 Input Pin (f_par)  

1

<more . . .> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:40:41.103

如果我正确理解您的要求，我会这样做：

输入文件包含：

```
****************************************
Report : net
        -connections
Design : soc
Version: G-2012.06-SP2
Date   : Sun Apr  7 22:56:33 2013
****************************************

Connections for net `pmg_ccu_ot2_tam_50mhz_sel_xainfwh`:

Driver Pins         Type                
------------        ----------------    
a_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh Output Pin (a_par)

Load Pins           Type                
------------        ----------------    
b_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh Input Pin (b_par)  

1  

Connections for net `pmg_ccu_ot2_tam_50mhz_sel_xainfwh_2`:

Driver Pins         Type                
------------        ----------------    
d_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh_2 Output Pin (d_par)

Load Pins           Type                
------------        ----------------    
e_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh_3 Input Pin (e_par)
f_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh_3 Input Pin (f_par)  

1

<more . . .> 
```

剧本：

```
# Read file containing input
set inputfile [open "inputfile.txt" r]
# File where output will be written in
set outputfile [open "outputfile.txt" w]

# $type will contain the Pin Type and $outputline will contain the final
# line to be written
set type ""
set outputline ""

# Read each line in the inputfile
while {[gets $inputfile line] != -1} {
    # If first word in line is "Connections" execute
    if {[lindex [split $line " "] 0] == "Connections"} {
        # If $outputline not empty while in this if, it means that we have
        # reached a new connection. So print out the current connection
        # after joining all its elements by " :: " and reset the output line.
        if {$outputline != ""} {
            puts $outputfile [join $outputline " :: "]
            set outputline ""
        }
        # Replacing the ` by ' and removing the end ":" and then putting
        # the full thing into $output line as an element of a list
        regsub -all {\`} $line "\'" newline
        set newline [string trimright $newline "\:"]
        lappend outputline $newline
    }
    # If there is "Pins" in the line, this means we have a header. The regexp
    # captures the pin type by looking for any alphanumeric characters before
    # "Pins"
    regexp -- {([\w]+) Pins} $line - type

    # If there is " Pin " in the line, it means we are in a row of the
    # different 'Pins' type. Here, we put the while line after removing
    # the extra white spaces into the $outputline list.
    if {[regexp -- { Pin } $line]} {
        lappend outputline "$type [string trim $line]"
    }
}
# We reached the end of the document. So, add the last line into the outputfile.
puts $outputfile [join $outputline " :: "]

# Close the files we opened.
close $inputfile
close $outputfile 
```

输出：

```
Connections for net 'pmg_ccu_ot2_tam_50mhz_sel_xainfwh' :: Driver a_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh Output Pin (a_par) :: Load b_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh Input Pin (b_par)
Connections for net 'pmg_ccu_ot2_tam_50mhz_sel_xainfwh_2' :: Driver d_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh_2 Output Pin (d_par) :: Load e_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh_3 Input Pin (e_par) :: Load f_par/pmg_ccu_ot2_tam_50mhz_sel_xainfwh_3 Input Pin (f_par) 
```

此脚本将按它们出现的任何顺序采用“驱动程序类型”或“加载类型”（您也可以添加新类型）。您的输入中是否还有其他可能的变化？

编辑：您可以将`switch`块更改为此，它将采用任何类型的`Pins`

```
if {[regexp -- {([\w]+) Pins} $line - type]} {
    set counter 0
} 
```

重新编辑：添加`--`到正则表达式。

rereEDIT：有问题的匹配编辑。

# javascript - 在没有 Internet 连接时使用 jQuery

> ID：15872414
> 
> 赞同：17
> 
> 时间：2013-04-08T06:12:57.813
> 
> 标签：javascript, jquery, css

我对 jQuery 完全陌生。使用 jQuery 时，我断开了 Internet 以检查我的网页在没有 Internet 连接的情况下是否可以正常工作。它显示了一些不需要的东西。当我看到源代码时，它显示：

```
<link rel="stylesheet" href="http://jquery.com/jquery-wp-content/themes/jquery/css/base.css?v=1"> 
```

所以我下载了代码并将其保存在我的根文件夹中。仍然无法正常工作。我们可以在离线时使用 jQuery 吗？

这是我的代码：

```
<!doctype html>

<!-- [if IE 7 ]>                  <html class="no-js ie ie7 lte7 lte8 lte9" lang="en-US"> <![endif] -->
<!-- [if IE 8 ]>                  <html class="no-js ie ie8 lte8 lte9" lang="en-US"> <![endif] -->
<!-- [if IE 9 ]>                  <html class="no-js ie ie9 lte9>" lang="en-US"> <![endif] -->
<!-- [if (gt IE 9)|!(IE)]> <!-- > <html class="no-js" lang="en-US"> <!--<![endif] -->

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title> Home</title>
        <meta name="author" content="jQuery Foundation - jquery.org">
        <meta name="description" content="jQuery: The Write Less, Do More, JavaScript Library">
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="http://jquery.com/jquery-wp-content/themes/jquery/css/base.css?v=1">
        <script src="jquery.min.js"></script>
        <!--[if lt IE 7]><link rel="stylesheet" href="css/font-awesome-ie7.min.css"><![endif]-->
        <script>try{Typekit.load();}catch(e){}</script>
        <meta name="generator" content="WordPress 3.5.1" />
    </head>

    <body>
        <!--[if lt IE 7]>
        <p class="chromeframe">You are using an outdated browser.
        <a href="http://browsehappy.com/">Upgrade your browser today</a>
        or <a href="http://www.google.com/chromeframe/?redirect=true">install
        Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <header>
            <section id="global-nav">
                <nav>
                    <div class="constrain">
                        <ul class="links">
                            <li><a href="home.jsp">Home</a></li>
                            <li class="dropdown"><a href="CreatPatient.jsp">Patient</a>
                                <ul>
                                    <li><a href="CreatePatient.jsp">Create Patient</a></li>
                                    <li><a href="Edit Patient">Edit Patient</a></li>
                                </ul>
                            </li>
                            <li class="dropdown"><a href="Appointments.jsp">Appointments</a>
                                <ul>
                                    <li><a href="CreateAppointments.jsp">Create Appointments</a></li>
                                    <li><a href="EditAppointments.jsp/">Edit Appointments</a></li>
                                </ul>
                            </li>
                            <li class="dropdown"><a href="#">Reports</a>
                                <ul>
                                    <li><a href="PreOperative.jsp">Pre Operative</a></li>
                                    <li><a href="IntraOperative.jsp">Intra Operative</a></li>
                                    <li><a href="PostOperative.jsp">PostOperative</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </nav>
            </section>
        </header>
    </body>

</html> 
```

当我删除这一行时：

```
<link rel="stylesheet" href="http://jquery.com/jquery-wp-content/themes/jquery/css/base.css?v=1"> 
```

它产生了一个问题。

我已经下载了 jQuery 并保存在桌面上。HTML 文件也在桌面上。为什么它不起作用？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-04-08T06:18:54.543

是的，这是可能的。您已经提到您下载了文件 - 这是一个很好的第一步，但您还必须更改所有`href`和`src`引用。

例如，

```
<link rel="stylesheet" href="http://jquery.com/jquery-wp-content/themes/jquery/css/base.css?v=1"> 
```

应该成为

```
<link rel="stylesheet" href="base.css"> 
```

* * *

还要记得获取 jQuery JS 库的离线版本：
下载[jquery.js](http://code.jquery.com/jquery-1.9.1.min.js)，将它放在你的根文件夹中并引用它：

```
<script src="jquery-1.9.1.min.js"></script> 
```

如果你想要它在一个子目录中：

```
<script src="[subdirectory-name]/jquery-1.9.1.min.js"></script> 
```

* * *

请记住，**这两个文件都**需要脱机并位于您的本地工作目录中。这意味着您**不能删除样式表*或*jQuery JS 库**。以我上面提到的本地格式保留它们。

此外，将`<script>`标签放入`<head>`是不好的做法；`</body>`而是将它移到标签之前。

* * *

您的代码现在应该看起来（简而言之，请注意我没有放太多）：

```
...
<html class="no-js" lang="en-US">
<head>
    ...
    <link rel="stylesheet" href="base.css">
    ...
</head>
<body>
    ...
    <script src="jquery.min.js"></script>
</body>
</html> 
```

再次确保`base.css`和`jquery.min.js`是**确切的文件名**，并且与该**文件****位于同一文件夹中`.html`**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T06:15:54.927

下载 jQuery 并像这样链接到它：

```
<script src="js/jquery.js"></script>
<link rel="stylesheet" href="css/jquery.css"> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-08T06:16:01.463

如果您没有 Internet 连接，它将无法工作。要在本地工作，您应该将 jquery.js 复制到本地目录并使用相对路径。

```
<script src="/jquery/1.5/jquery.min.js"></script> 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-08T06:34:24.340

要使用 jQuery 离线工作，只需复制 jquery.js 文件并将其放在本地目录中。在 script 标签中，更改*src*属性：

```
<script src="/path/jquery.min.js"></script> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-02-01T17:56:03.767

最好的解决方案是通过 localhost 提供文件。这篇文章详细解释了这一点。

[http://www.wingoku.com/2016/02/accessing-javascriptjquery-script-files.html](http://www.wingoku.com/2016/02/accessing-javascriptjquery-script-files.html)

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2017-05-05T07:14:49.227

尝试*[Initializr](http://www.initializr.com/)*。

它是一个 HTML5 模板生成器，可帮助您开始新项目。如果有 Internet 连接，则有一个脚本可以加载 Web jQuery 文件。如果没有任何 Internet 连接，则使用本地连接。

# struts2 - Dynamic-Jasper Struts2 Netbean 配置

> ID：15872417
> 
> 赞同：-2
> 
> 时间：2013-04-08T06:13:12.383
> 
> 标签：struts2, dynamic-jasper

我正在配置`dynamicjasper`我的，`struts2`但它会引发错误。首先，我使用以下 jar 文件：

```
DynamicJasper-4.0.3
DynamicJasper-4.0.3-javadoc
DynamicJasper-4.0.3-sources
DynamicJasper-4.0.3-tests
DynamicJasper-4.0.3-test-sources
DynamicJasper-Struts2-1.3
jasperreports-4.7.0
struts2-jasperreports-plugin-2.0.11.1-sources

<result-types> 
     <result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" />
     <result-type name="redirectAction" 
class="org.apache.struts2.dispatcher.ServletActionRedirectResult"/>
     <result-type name="dynamic-jasper" class="ar.com.fdvs.dj.struts2.DJStruts2Result"/>
</result-types>

<action name="dynamicreport" class="ActionClass.DynamicJasperAction">
            <interceptor-ref name="defaultLoginStack"/>
            <param name="operation">showreport</param>
            <result name="SUCCESS" type="dynamic-jasper">
                 <param name="format">PDF</param>
            </result>
</action> 
```

当我运行应用程序时，它在 glass fish 3+ 输出窗口中显示以下错误：

```
INFO: ERROR  (org.apache.struts2.dispatcher.Dispatcher:38) - Dispatcher initialization failed
Unable to load configuration. - action - file:/G:/Project/IG/LIMSs/build/web/WEB-INF/classes/struts.xml:2996:78

Caused by: There is no result type defined for type 'dynamic-jasper' mapped with name 'SUCCESS'.  Did you mean 'dynamicJasper'? - result - file:/G:/Project/IG/LIMSs/build/web/WEB-INF/classes/struts.xml:2999:58
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.buildResults(XmlConfigurationProvider.java:645)
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.addAction(XmlConfigurationProvider.java:379)
    ... 57 more

INFO: WEB0671: Loading application [IMsys] at [/LIMSs]
INFO: IMsys was successfully deployed in 71,796 milliseconds.
WARNING: StandardWrapperValve[jsp]: PWC1406: Servlet.service() for servlet jsp threw exception
The Struts dispatcher cannot be found.  This is usually caused by using Struts tags without the associated filter. Struts tags are only usable when the request has passed through its servlet filter, which initializes the Struts dispatcher needed for this tag. - [unknown location] 
```

浏览器报错如下：

```
exception
org.apache.jasper.JasperException: The Struts dispatcher cannot be found.  This is usually caused by using Struts tags without the associated filter. Struts tags are only usable when the request has passed through its servlet filter, which initializes the Struts dispatcher needed for this tag. - [unknown location]
root cause
The Struts dispatcher cannot be found.  This is usually caused by using Struts tags without the associated filter. Struts tags are only usable when the request has passed through its servlet filter, which initializes the Struts dispatcher needed for this tag. - [unknown location] 
```

我不确定如何配置动态jasper，你能建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:03:33.853

只需下载 DynamicJasper-4.0.3-test-sources.jar 而不是 DynamicJasper-4.0.3-test.jar 然后添加问题就解决了。

# python - 类 sympy.core.add.Add 转换为浮点数

> ID：15872421
> 
> 赞同：1
> 
> 时间：2013-04-08T06:13:22.893
> 
> 标签：python, class, sympy

这部分 Python 程序使用 SymPy 库。结果，它在**sympy.core.add.Add**类中产生了一个值，该值不适用于程序的其他部分。

```
from sympy import *
x = symbols('x')
y = 1 - (0.1 * coeff1) / (x + 2) - sin(x) * (2 * x + coeff1)
yprime = y.diff(x) 
```

如何将**sympy.core.add.Add**类转换为普通**float**或**int**以便在进一步计算中使用变量**yprime ？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2017-10-30T23:34:11.573

结束你的代码怎么样

yprime = 浮动（yprime）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-02T22:03:51.213

我想你可以看看这里的文档[http://docs.sympy.org/dev/modules/core.html#module-sympy.core.add](http://docs.sympy.org/dev/modules/core.html#module-sympy.core.add) sympy 类型有一些以“as_”开头的函数。 core.add.Add，可以将add.add转换成其他格式，再转换成float或者int。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-11-22T20:15:07.657

我刚刚找到了解决方案。using`yprime=float(yprime)`不起作用，因为它是only`yprime`类的一个元素。`numpy`但是您可以转换该元素以使 python 标准语言能够读取它。

尝试：

```
yprime=str(yprime)

#this will transform yprime to a string

yprime=eval(yprime)

#this will return a float or a int object so you can do calculations without any problem but make sure that the constants are well defined. 
```

# c# - 如何在实体框架中获取多个插入的标识值

> ID：15872423
> 
> 赞同：4
> 
> 时间：2013-04-08T06:13:39.253
> 
> 标签：c#, asp.net, entity-framework

我正在向表中插入值`QueryList`

```
 [QueryID] [WorkItemID] [RaisedBy]
       1        123           xyz
       2        234           abc 
```

哪里`QueryID`是一`Identity`列。

我正在使用`foreach`循环并一次插入多个值。我的问题是如何`Identity`在 Entity Framework 3.5 中获取所有新插入的值

这是我的代码

```
using (TransactionScope currentScope = new TransactionScope())
{
    Query newQuery = new Query(); 
    foreach (long workItemId in workItemID)
    {
        newQuery = new Query();
        ...

        currentScope.Complete();
        success = true;           
    }
 }
 entityCollection.SaveChanges(true);

 int  QueryID = newQuery.QueryID; //It gives me last 1 Identity value 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T06:19:43.210

您必须分别跟踪每个新创建的`Query`对象。为了简单起见，我建议使用`List<Query>`：

```
using (TransactionScope curentScope = new TransactionScope())
{
    List<Query> newQueries = new List<Query>(); 
    Query newQuery = new Query();
    newQueries.Add(newQuery);
    foreach (long workItemId in workItemID)
    {
        newQuery = new Query();
        newQueries.Add(newQuery);
        ...
        curentScope.Complete();
        success = true;           
    }
}
entityCollection.SaveChanges(true);

var queryIDs = newQueries.Select(q => q.QueryID); 
```

*旁注*：在您的代码示例中，您在`Query`for 循环之外创建了一个对象，但根本没有使用它。这可能只是因为它只是一个示例，但如果您使用它或将其插入数据上下文中，请不要创建它。

# c# - 获取异常“类型'SerializableClass'未映射为表。”

> ID：15872424
> 
> 赞同：0
> 
> 时间：2013-04-08T06:13:54.167
> 
> 标签：c#, linq-to-sql, serialization

我只是尝试使用以下代码更新一个表：

```
header.lng_LengthId = LengthId;
dc.OP_TetherLengths.Attach(currHeader, true);
dc.Refresh(RefreshMode.KeepCurrentValues, header);
dc.SubmitChanges(); 
```

这里**currheader**是包含表中现有值的对象，而**header**是具有最新值的**Serializable 类的对象。**

这是 Serializable 类的定义：

```
[Serializable()]
public class TetherLengthHeader
{
    public int lng_LengthId { get; set; }
    public string str_systemid { get; set; }
    public System.DateTime dte_dateadded { get; set; }
    public string str_LengthId { get; set; }
    public System.Nullable<double> dbl_newlength { get; set; }
    public System.Nullable<bool> bln_deleted { get; set; }
    public string str_createdby { get; set; }
    public System.Nullable<System.DateTime> dte_created { get; set; }
    public string str_modifiedby { get; set; }
    public System.Nullable<System.DateTime> dte_modifieddate { get; set; }
    public System.Nullable<int> lng_status { get; set; }
    public System.Nullable<int> lng_lengthuom { get; set; } 
} 
```

**问题 ：**

当我尝试更新值时，我得到了这个异常：

```
The type 'Common.Data.TetherLengthHeader' is not mapped as a Table. 
```

请让我知道我要去哪里方向错误。如果您需要更多信息，请让我知道我会尽力提供。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T09:22:10.027

我发现了我错的问题。我在 Attach 方法中使用**了 currHeader**，我必须使用**header**对象。现在这个问题使用**header**代替**currHeader**解决了：

```
header.lng_LengthId = LengthId;
dc.OP_TetherLengths.Attach(header, true);
dc.Refresh(RefreshMode.KeepCurrentValues, header);
dc.SubmitChanges(); 
```

感谢大家花一些时间在这个问题上。

# facebook - 仅与 AS3 的 Facebook 连接/通信？

> ID：15872425
> 
> 赞同：0
> 
> 时间：2013-04-08T06:13:57.263
> 
> 标签：facebook, actionscript-3, flash, actionscript

标题几乎总结了它。是否可以“仅”使用 flash AS3 与 facebook 建立连接，而无需使用 Javascript、html、iframe 或任何其他外部组件。

原因是我使用 Adob​​eAir 为 android 制作了一个简单的游戏，它与 facebook 连接以达到排行榜的目的。效果很好，当然使用 Adob​​eAir，您可以获得 Flash 内部 webview 和 ANE，以帮助进行 facebook 通信。但在 Adob​​eAir 之外，作为一个简单的面向网络的 swf 文件，您不需要。

由于我希望制作游戏的网络版本并将其上传到游戏托管商，我想知道是否有办法建立连接并将其包装在单个 swf 文件中，因为这就是这些网站想要的上传。

希望渺茫，但我将不胜感激任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:20:35.230

您的应用程序是 Facebook 应用程序吗？如果你的 SWF 在 Facebook Canvas 内部运行，当然直接通过官方 Javascript SDK 获取登录信息会更方便，但如果你愿意，这可能会对你有所帮助。[https://code.google.com/p/facebook-actionscript-api/](https://code.google.com/p/facebook-actionscript-api/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:23:24.423

任何可以用 JS 编写的请求，也可以用 AS3 编写代码。我没有看到任何问题，因为 FaceBook 有 100% 记录的 API。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T09:08:26.773

您需要某种网络界面来从 Facebook 加载授权对话。这是一个在 Facebook 内部运行的内容弹出窗口，如果用户随后授权您的应用程序，Facebook 将发送一个回调，您可以在其中获取 access_token。

这解释得比较粗略，关键是Facebook上的授权结束，这就是安全性。在 AIR 中，您使用 StageWebView，在浏览器中，您在弹出窗口中加载授权 URL，这是在 Javascript SDK 中为您实现的。

您可以在 Flash 中放置一个按钮，使用 ExternalInterface 调用 Javascript SDK 中的方法并将 access_token 作为回调发送回来。如果您有 access_token，您可以使用 AS3 以 HTTP 请求的形式使用它进行 API 调用。

# javascript - jQuery fadeOut 第二次不工作

> ID：15872426
> 
> 赞同：-4
> 
> 时间：2013-04-08T06:13:58.690
> 
> 标签：javascript, jquery

JQuery fadeOut 没有第二次运行。

```
 <div id="clickme">click here</div> 
```

JS

```
$('#clickme').click(function() {
    $('#feedback').html('hello world').fadeOut('slow', function() {
        $(this).remove();
    });
}); 
```

我试过不删除；在那种情况下它也不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:19:39.897

1/ 不要移除元素，而是隐藏它。

2/你需要在fadeOut之前显示元素，如果它已经隐藏，它不会淡出。（或使用`animate`适当的参数）

[http://jsfiddle.net/QmajJ/](http://jsfiddle.net/QmajJ/)

```
$('#clickme').click(function() {
    $('#feedback').html('hello world').show().fadeOut('slow', function() {
        $(this).hide();
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:17:56.670

我不知道您要做什么，但第二次无法正常工作，因为您从第一次删除了该元素

```
$('#clickme').click(function() {
    $('#feedback').html('hello world').fadeOut('slow', function() {
        $(this).remove(); // <----- you are removing the feedback element so in the second time there will be no "$('#feedback')" because of that its not working 
    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T06:22:28.010

正确取消绑定您的点击控件

```
$('#clickme').unbind().click(function() {
   //your content
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T06:39:29.107

您已删除要设置动画的元素

```
$('#feedback').html('hello world').fadeOut('slow', function() {
    $(this).remove();
}); 
```

# jquery - 加载资源失败：服务器响应状态为 404（未找到）

> ID：15872429
> 
> 赞同：15
> 
> 时间：2013-04-08T06:14:08.653
> 
> 标签：jquery, json

我是 uisng python，要将数据从 json 文件显示到页面，我收到以下错误

```
Failed to load resource: the server responded with a status of 404 (NOT FOUND) http://localhost:8000/static/script/jquery-1.9.1.min.js
Failed to load resource: the server responded with a status of 404 (NOT FOUND) http://localhost:8000/static/script/myscript.js 
```

myscript.js 文件

```
$("#button").click(function(){
    $.getJSON("item.json",function(obj){
       $.each(obj,function(key,value){
          $("ul").append("<li>+value.item1+"</li>");
          $("ul").append("<li>+value.item2+"</li>");
          $("ul").append("<li>+value.item3+"</li>");
       });
    });
}); 
```

.json 文件是

```
{
"p1":{
      "item1":"apple",
      "item2":"orange",
      "item3":"banana",
      },
"p2":{
      "item1":"water",
      "item2":"milk",
      "item3":"alcohol",
     }
} 
```

模板是

```
<html>
    <head>
    <body>
    <ul></ul>
    <button></button>
    <script src="script/jquery-1.9.1,min.js" type="text/javascript"></script>
    <script src="script/myscript.js" type="text/javascript"></script>
    </body>
    </head>
</html> 
```

1）.js 文件在我的项目文件夹中，并且还设置了路径。

2）。我没有在我的views.py中做任何查询，因为我是新手，我对此感到困惑。所以任何编码都需要在views.py中执行以从json中获取数据。

3).无法解决上述错误，请提供可能的原因，以便我可以运行此功能。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2018-11-01T10:42:16.043

您需要设置`STATICFILES_DIRS`，`settings.py`但请确保您的文件树如下所示

```
RootDir
+--myproject
|  +--static
|  |  +--script
|  |     |--myscript.js
|  |     |--jquery-1.9.1.min.js
|  |--settings.py
+--myapp
|--manage.py 
```

在`settings.py`添加或替换

```
STATIC_URL = '/static/' 
```

和

```
PROJECT_ROOT = os.path.dirname(os.path.abspath(__file__))
STATICFILES_DIRS = [
    os.path.join(PROJECT_ROOT, 'static'),
]
STATIC_URL = '/static/' 
```

另一个修复：替换`,`逗号`<script src="script/jquery-1.9.1,min.js"`

和

添加双引号`"`，替换`"<li>+value.item1+"</li>"`为`"<li>"+value.item1+"</li>"`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T13:36:05.303

对于开发服务器

1.  在 django 根目录下创建一个静态文件夹
2.  将此添加到 settings.py 中的 STATIC_DIRS ('assets','path to the static folder')
3.  将资源放在您之前创建的静态文件夹中的相应文件夹中
4.  然后运行 ​​python manage.py collectstatic。这将在 django 根目录中创建一个管理员和一个资产文件夹，其中包含您放置的资产
5.  在模板中添加 {% load static %} 在顶部
6.  对于链接使用 {% static 'assets/path_to_resources_as_added_in_the_static_folder' %}

这对我有用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T10:59:43.490

你必须在你的 django 设置文件中设置你的`STATIC_URL`和，在你的 js src 路径前加上，并告诉 django 在使用开发服务器时提供静态内容（和/或配置你的前端服务器来提供它）。这一切都记录在这里：[https ://docs.djangoproject.com/en/1.4/ref/contrib/staticfiles/](https://docs.djangoproject.com/en/1.4/ref/contrib/staticfiles/)`STATIC_ROOT``{{ STATIC_URL }}`

注意：在 1.3 版之前，它是 MEDIA_URL 和 MEDIA_ROOT，参见相关文档。

# java - 给定最终块未正确填充 AES

> ID：15872439
> 
> 赞同：0
> 
> 时间：2013-04-08T06:15:01.430
> 
> 标签：java, javascript, aes, encryption

我正在加密一个字符串并将其存储在客户端的 cookie 中。但是当我将确切的加密字符串从 js 发送到 java 代码时，它给了我上述异常。

我用于加密和解密的代码是：

```
public static final String UNICODE_FORMAT = "UTF8";

public static String encrypt(String Data, SecretKeySpec skeySpec,IvParameterSpec ivspec) throws Exception {
        Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
        cipher.init(Cipher.ENCRYPT_MODE, skeySpec, ivspec);
        byte[] plainBytes = Data.getBytes(UNICODE_FORMAT);
        byte[] encrypted = cipher.doFinal(plainBytes);
        String encryption = bytesToString(encrypted);
        return encryption;
}

public static String decrypt(String encryptedData,SecretKeySpec skeySpec,IvParameterSpec ivspec) throws Exception {
    Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
    cipher.init(Cipher.DECRYPT_MODE, skeySpec, ivspec);
    byte[] decryptval = hexToBytes(encryptedData);
    byte[] decrypted = cipher.doFinal(decryptval);
    return new String(decrypted);
}

public static String bytesToString(byte[] bytes) {
    HexBinaryAdapter adapter = new HexBinaryAdapter();
    String s = adapter.marshal(bytes);
    return s;
}

public static byte[] hexToBytes(String hexString) {
    HexBinaryAdapter adapter = new HexBinaryAdapter();
    byte[] bytes = adapter.unmarshal(hexString);
    return bytes;
} 
```

你能告诉我可能是什么问题吗？我已经尝试了 stackoverflow.com 上提到的解决方案以及其他一些解决方案，但没有一个有效。我收到此错误是因为我将加密字符串发送到 JS 并且它正在更改字符串的填充？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:40:16.477

正如@JoopEggen 提到的 - 从 byte[] 创建刺痛可以打破它。

您可以只序列化，而不是从中创建字符串吗？

# r - 在启动时将 R/Rook 作为 Web 服务器运行

> ID：15872440
> 
> 赞同：7
> 
> 时间：2013-04-08T06:15:01.663
> 
> 标签：r, r-rook-package

我在 R 中使用 Rook 创建了一个服务器 - [http://cran.r-project.org/web/packages/Rook](http://cran.r-project.org/web/packages/Rook) 代码如下

```
#!/usr/bin/Rscript
library(Rook)
s <- Rhttpd$new()
s$add(
  name="pingpong",
  app=Rook::URLMap$new(
    '/ping' = function(env){
      req <- Rook::Request$new(env)
      res <- Rook::Response$new()
      res$write(sprintf('<h1><a href="%s">Pong</a></h1>',req$to_url("/pong")))
      res$finish()
    },
    '/pong' = function(env){
      req <- Rook::Request$new(env)
      res <- Rook::Response$new()
      res$write(sprintf('<h1><a href="%s">Ping</a></h1>',req$to_url("/ping")))
      res$finish()
    },
    '/?' = function(env){
      req <- Rook::Request$new(env)
      res <- Rook::Response$new()
      res$redirect(req$to_url('/pong'))
      res$finish()
    }
  )
)
## Not run:
s$start(port=9000)

$ ./Rook.r
Loading required package: tools
Loading required package: methods
Loading required package: brew
starting httpd help server ... done

Server started on host 127.0.0.1 and port 9000 . App urls are:

    http://127.0.0.1:9000/custom/pingpong
Server started on 127.0.0.1:9000
[1] pingpong http://127.0.0.1:9000/custom/pingpong

Call browse() with an index number or name to run an application.
$ 
```

该过程到此结束。

它在 R shell 中运行良好，但我想在系统启动时将它作为服务器运行。因此，一旦调用了 start ，R 就不应退出，而是等待端口上的请求。我将如何说服 R 只是等待或睡眠而不是退出？我可以使用 R 中的等待或睡眠功能等待 N 秒，但这并不完全符合要求

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-11-01T10:26:16.697

这里有一个建议：

首先将您提供的示例拆分为（至少）两个文件：一个文件包含应用程序的定义，在您的示例中是函数`app`参数的值`Rhttpd$add()`。另一个文件是启动第一个文件中定义的应用程序的*RScript 。*

例如，如果您的应用程序函数的名称`pingpong`在名为 的文件中定义`Rook.R`，则*Rscript*可能类似于：

```
#!/usr/bin/Rscript --default-packages=methods,utils,stats,Rook

# This script takes as a single argument the port number on which to listen.

args <- commandArgs(trailingOnly=TRUE)

if (length(args) < 1) {
       cat(paste("Usage:",
                 substring(grep("^--file=", commandArgs(), value=T), 8),
                 "<port-number>\n"))
       quit(save="no", status=1)
} else if (length(args) > 1)
   cat("Warning: extra arguments ignored\n")

s <- Rhttpd$new()
app <- RhttpdApp$new(name='pingpong', app='Rook.R')
s$add(app)
s$start(port=args[1], quiet=F)

suspend_console() 
```

如您所见，此脚本采用一个参数来指定侦听端口。现在，您可以创建一个 shell 脚本，该脚本将多次调用此*Rscript*以启动服务器的多个实例，侦听不同的端口，以便在响应 HTTP 请求时启用一些并发性。

例如，如果上面的*Rscript*在一个名为的文件中，`start.r`那么这样的 shell 脚本可能看起来像：

```
#!/bin/sh

if [ $# -lt 2 ]; then
    echo "Usage: $0 <start-port> <instance-count>"
    exit 1
fi

start_port=$1
instance_count=$2
end_port=$((start_port + instance_count - 1))

fifo=/tmp/`basename $0`$$

exit_command="echo $(basename $0) exiting; rm $fifo; kill \$(jobs -p)"
mkfifo $fifo

trap "$exit_command" INT TERM

cd `dirname $0`

for port in $(seq $start_port $end_port)
  do ./start.r $port &
done

# block until interrupted
read < $fifo 
```

上面的 shell 脚本有两个参数：（1）要监听的最低端口号和（2）要启动的实例数。例如，如果 shell 脚本在一个名为`start.sh`then的可执行文件中

```
./start.sh 9000 3 
```

将启动*Rook*应用程序的三个实例，分别侦听端口 9000、9001 和 9002。

您会看到 shell 脚本的最后一行从 fifo 读取，这会阻止脚本退出，直到由接收到的信号引起。当指定的信号之一被捕获时，shell 脚本会杀死它在退出之前启动的所有*Rook服务器进程。*

现在，您可以配置反向代理将传入请求转发到任何服务器实例。例如，如果您使用的是[*Nginx*](http://nginx.org/en/docs/http/ngx_http_upstream_module.html#upstream)，您的配置可能类似于：

```
upstream rookapp {
    server localhost:9000;
    server localhost:9001;
    server localhost:9002;
}
server {
    listen your.ip.number.here:443;
    location /pingpong/ {
        proxy_pass http://rookapp/custom/pingpong/;
    }
} 
```

然后，您的服务就可以在公共 Internet 上使用。

最后一步是创建一个带有选项的控制脚本，例如`start`（调用上面的 shell 脚本）和`stop`（向它发送`TERM`信号以停止服务器）。这样的脚本将处理诸如使 shell 脚本作为守护进程运行并跟踪其进程 ID 号等事情。将此控制脚本安装在适当的位置，它将在机器启动时启动您的*Rook*应用程序服务器。如何做到这一点取决于您的操作系统，您的问题中缺少其身份。

# 笔记

1.  有关如何使用 shell 脚本中的 fifo 根据接收到的信号采取不同操作的示例，请参阅[此堆栈溢出问题](https://stackoverflow.com/questions/9052847/implementing-infinite-wait-in-shell-scripting#9077885)。

2.  Jeffrey Horner 提供了[一个完整的 Rook 服务器应用程序](https://gist.github.com/jeffreyhorner/6d09536d871c1a648a84)示例。

3.  您将看到上面的示例 shell 脚本仅捕获`INT`和`TERM`发出信号。我之所以选择这些是因为`INT`在终端上键入 control-C 的结果，并且`TERM`是我的操作系统上的控制脚本用来停止服务的信号。您可能需要根据您的情况调整要捕获的信号的选择。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-17T15:07:02.347

你试过这个吗？

```
while (TRUE) {
    Sys.sleep(0.5);
} 
```

# android - 如何修复我的无响应按钮及其 onClick() 方法？

> ID：15872445
> 
> 赞同：-1
> 
> 时间：2013-04-08T06:15:17.453
> 
> 标签：android, web-services, soap, login

单击登录按钮不会产生来自 Web 服务的响应，并且没有异常或其他可见错误。如何修复我的按钮？

代码：

```
public class Oral extends Activity {

String NAMESPACE = "http://mlxserver/";
    String METHOD_NAME = "loginAuthentication";
String SOAP_ACTION = "http://mlxserver/MX_AgentService/loginAuthentication";
String URL = "http://mlxserver//HTTKSvc/MX_AgentService.svc?wsdl";

EditText et1,et2,et3;
Button bt1;
   @Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_oral);
     et1 = (EditText) findViewById(R.id.editText1);
     et2 = (EditText) findViewById(R.id.editText2);
     et3 = (EditText) findViewById(R.id.editText3);
     bt1 = (Button) findViewById(R.id.button1);
     bt1.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME); 
                                 request.addProperty("USERNAME",et1.getText().toString());  
                request.addProperty("PASSWORD",et2.getText().toString());
                request.addProperty("PIN",et3.getText().toString());

              /*  String authentication = android.util.Base64.encodeToString("username:password".getBytes(), android.util.Base64.DEFAULT);
                List<HeaderProperty> headers = new ArrayList<HeaderProperty>();
                headers.add(new HeaderProperty("Authorization","Basic " +authentication));
               */

                SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
                envelope.dotNet = true;
                envelope.setOutputSoapObject(request);

                try {
                  HttpTransportSE httpTransport = new HttpTransportSE(URL);  
                  httpTransport.call(SOAP_ACTION, envelope);    
                  SoapObject result = (SoapObject)envelope.getResponse(); 

                if(result != null)
                {

                      et1.setText(result.getProperty(0).toString());
                      et2.setText(result.getProperty(0).toString());
                      et3.setText(result.getProperty(0).toString());

                      Intent next = new Intent (getApplicationContext(),Second.class);
                      startActivity(next);
                }
                else
                {
                      Toast.makeText(getApplicationContext(), "Enter USERNAME",Toast.LENGTH_LONG).show();
                      Toast.makeText(getApplicationContext(), "Enter PASSWORD",Toast.LENGTH_LONG).show();
                      Toast.makeText(getApplicationContext(), "Enter PIN",Toast.LENGTH_LONG).show();
                }
          } catch (Exception e) {
                e.printStackTrace();
          } 
          } 

    });

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.oral, menu);
    return true;
}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:26:34.067

它可能会抛出异常。您是否在 android 清单文件中授予了访问权限？

如果您给定的互联网权限，它可能会抛出异常，可能是输入或服务器 url/登录错误..等无效。

记录异常。

# c# - 这个代码块的输出对我来说没有意义

> ID：15872454
> 
> 赞同：7
> 
> 时间：2013-04-08T06:15:51.910
> 
> 标签：c#, virtual-functions

所有调用实例的运行时类型都是 D 因此，所有 F() 的调用都应该是在 D 中声明的 F() 方法。

```
using System;
class A
{
   public virtual void F() { Console.WriteLine("A.F"); }
}
class B: A
{
   public override void F() { Console.WriteLine("B.F"); }
}
class C: B
{
   new public virtual void F() { Console.WriteLine("C.F"); }
}
class D: C
{
   public override void F() { Console.WriteLine("D.F"); }
}
class Test
{
   static void Main() {
      D d = new D();
      A a = d;
      B b = d;
      C c = d;
      a.F();
      b.F();
      c.F();
      d.F();
   }
} 
```

输出是：

```
B.F
B.F
D.F
D.F 
```

输出不应该是：

```
D.F
D.F
D.F
D.F 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-08T06:21:06.820

[使用 Override 和 New 关键字进行版本控制（C# 编程指南）](http://msdn.microsoft.com/en-us/library/6fawty39%28v=vs.110%29.aspx)

> 如果派生类中的方法以 new 关键字开头，则该方法被定义为独立于基类中的方法。

因此，您的`F`方法来自`A`and*与*来自and的这些方法`B`无关，这就是为什么您会得到所得到的。*`C``D`*

 *在运行时，CLR 寻找`virtual`应该从类型开始使用的方法实现，变量被声明为符合它的实际类型。For `a.F()`and它在声明`b.F()`时停止，因为是不同的方法（因为）。`B.F()``C.F()``new`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T06:23:39.157

It should not...

```
A a = d; 
```

This means you are creating a class of type `A`. And since you are explicitly overriding the related method in class `B`; `A` employs the method in the `B` class.

On the otherhand, in this line;

```
new public virtual void F() { Console.WriteLine("C.F"); } 
```

You are declaring that you will not use the `F()` method from base by using the `new` keyword.

If you had overriden the `F()` method in `D` and `C` classes, all instance would have called the `F()` method declared in `D` class.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T06:20:12.777

您`new public virtual void F()`在 C:B 类中使用。这意味着`F()`in class`C`和`F()`in class`B`是不同的方法。

因此，当您覆盖`C`类时，类`D`中的方法是从`F()`类`D`中覆盖的`C`，而不是`B`.

另一个明显的例子可能是这样的：

```
 C c = new C();
  B b = c;
  b.F();
  c.F(); 
```*

# java - 集群环境中，quartz 可以在不同节点之间共享同一个 JOB 吗？

> ID：15872459
> 
> 赞同：0
> 
> 时间：2013-04-08T06:16:11.477
> 
> 标签：java, spring, jakarta-ee, quartz-scheduler

我在我的 Spring Web 应用程序中使用 Quartz。

我成功配置了集群环境中的所有内容，其中石英将正确选择其 JOBS 触发。

现在我的一项工作很大，需要大量资源和时间。那么我可以在节点之间共享 JOB，以便以集群方式在两个节点上执行相同的 JOB，而不是不同的触发器吗？

还是有其他方法可以实现这一目标？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:55:53.563

Quartz 提供触发作业的功能。你在里面做什么不是石英的责任。

根据您的工作内容，您可以将其划分为较小的工作，然后集群会有所帮助。

如果您提供更多信息，那么我们可以提供帮助。

# android - Android，自定义视图类错乱权重的线性布局

> ID：15872460
> 
> 赞同：0
> 
> 时间：2013-04-08T06:16:16.247
> 
> 标签：android, android-linearlayout, android-custom-view

[Android中线性布局和权重的](https://stackoverflow.com/q/2698817/513413)可能重复

你好，

我有奇怪的问题。我设计了一个自定义小部件，它具有三个按钮的线性布局。它的代码是这样的：

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:weightSum="3" >

    <ToggleButton
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:id="@+id/tbBrowse"
        android:background="@drawable/btn_tg_browse"
        android:textOn=""
        android:textOff=""
        android:focusable="false"
        android:focusableInTouchMode="false"
        android:checked="false"
        android:gravity="bottom"/>

    <ToggleButton
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:id="@+id/tbHotSpot"
        android:background="@drawable/btn_tg_hotspot"
        android:textOn=""
        android:textOff=""
        android:focusable="false"
        android:focusableInTouchMode="false"
        android:checked="true"
        android:gravity="bottom"/>

    <ToggleButton
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:id="@+id/tbMatches"
        android:background="@drawable/btn_tg_matches"
        android:textOn=""
        android:textOff=""
        android:focusable="false"
        android:focusableInTouchMode="false"
        android:checked="false"
        android:gravity="bottom"/>

</LinearLayout> 
```

它的外观和感觉是这样的，看起来还不错：

![在此处输入图像描述](https://i.stack.imgur.com/QK8uK.png)

我已将此小部件添加到我的班级（android:id="@+id/Footer"）：

```
<?xml version="1.0" encoding="utf-8"?>

<RelativeLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/White">

    <view
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        class="com.belldigital.widget.HeaderBar"
        android:id="@+id/Header"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true" />

    <view
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        class="com.belldigital.widget.FooterBar"
        android:id="@+id/Footer"
        android:layout_alignParentBottom="true" />

    <FrameLayout
        android:id="@+id/content_frame"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_below="@id/Header"
        android:layout_above="@id/Footer"/>

</RelativeLayout> 
```

因为，在“视图”声明中没有定义重力，我希望看到与第一张图像相同的外观和感觉，但我在模拟器和真实设备中都看到了下面的图像。

![在此处输入图像描述](https://i.stack.imgur.com/L1GSk.png)

你认为呢？如果我基于相对布局重新设计我的小部件可能没问题。但是，我认为当前的设计还可以，但为什么“视图”小部件会扰乱我的排列？任何评论/建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:37:30.907

我将上面的“视图”更改为跟随然后我的问题神奇地解决了:)

```
<view
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        class="com.belldigital.widget.FooterBar"
        android:id="@+id/Footer"
        android:layout_alignParentBottom="true"
        android:orientation="vertical"/> 
```

# iphone - 我可以在没有设备的情况下从 iTunes 测试应用程序吗？

> ID：15872464
> 
> 赞同：0
> 
> 时间：2013-04-08T06:16:29.687
> 
> 标签：iphone, ios, xcode, itunes

我可以在没有设备的情况下测试 Appstore 中的任何应用程序吗？客户给了我一个应用程序供参考，但我没有设备来测试它。任何人都可以参考一些在线网站等吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:17:55.543

1.  不，你不可能测试实际的应用程序。
2.  您可以做的是查看屏幕截图。**您将能够看到至少 5 个屏幕。**
3.  请参阅 iTunes 上提供的信息和说明。它将为您提供有关该应用程序的基本概念。
4.  此外，您可以参考该应用程序的帮助站点。这也将使您**对应用程序的概念有所了解。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:17:46.267

如果没有物理设备，您将无法测试任何 iPhone 应用程序**。**甚至在模拟器中也没有。

你需要有一个设备。别无退路。

# backbone.js - 了解主干架构基础概念

> ID：15872469
> 
> 赞同：1
> 
> 时间：2013-04-08T06:16:39.637
> 
> 标签：backbone.js, architecture, overriding

我正在尝试使用骨干，但我错过了它的基本概念，因为这是我第一次`JavaScript MVVM Framework`尝试。

我已经查看[了一些指南](http://bardevblog.wordpress.com/2012/01/16/understanding-backbone-js-simple-example/)，但我认为我仍然错过了应该如何使用它。

我将展示我的应用以获得一些方向：

```
// Search.js

var Search = {
    Models: {},
    Collections: {},
    Views: {},
    Templates:{}
};

Search.Models.Product = Backbone.Model.extend({
    defaults: search.product.defaults || {},
    toUrl:function (url) {
        // an example method
        return url.replace(" ", "-").toLowerCase();
    },
    initialize:function () {
        console.log("initialize Search.Models.Product");
    }
});

Search.Views.Product = Backbone.View.extend({
    initialize:function () {
        console.log("initialize Search.Views.Product");
    },
    render:function (response) {
        console.log("render Search.Views.Product");
        console.log(this.model.toJSON());
        // do default behavior here
}
});

Search.Models.Manufacturer = Backbone.Model.etc...
Search.Views.Manufacturer = Backbone.View.etc... 
```

然后在我的网络应用程序视图中：

```
<head>
<script src="js/jquery.min.js"></script>
<script src="js/underscore.min.js"></script>
<script src="js/backbone/backbone.min.js"></script>
<script src="js/backbone/Search.js"></script>
</head>

<body>
<script>
var search = {};
search.product = {};
search.product.defaults = {
    id:0,
    container:"#search-results",
    type:"product",
    text:"<?php echo __('No result');?>",
    image:"<?php echo $this->webroot;?>files/product/default.png"
};

$(function(){
    var ProductModel = new Search.Models.Product();
    var ProductView = new Search.Views.Product({
        model:ProductModel,
        template:$("#results-product-template"),
        render:function (response) {
            // do specific view behavior here if needed
            console.log('render ProductView override Search.Views.Product');
        }
    });
    function onServerResponse (ajax_data) {
        // let's assume there is some callback set for onServerResponse method
        ProductView.render(ajax_data);
    }
});
</script>
</body> 
```

我想我错过了 Backbone 新实例的用途，我认为`Search.js`我应该使用 Backbone 构建基础应用程序`Search.Views.Product`，并根据`ProductView`.

因此，在我的示例中，使用`render`方法，将其与`Search.js`我的 html 视图中的默认行为和特定行为一起使用。

经过一番尝试，它似乎只是实例，您必须在不创建特定行为的情况下完成所有`ProductModel`代码。`ProductView``Search.js`

我知道这样做可以使所有内容最容易保持最新状态，但是如果我在不同的视图和相关位置使用此应用程序怎么办？

我确定我错过了它应该使用的方式。

在[本指南](http://bardevblog.wordpress.com/2012/01/16/understanding-backbone-js-simple-example/)中，没有在 html 视图中使用代码，所以我应该在应用程序中编写所有代码而不插入特定情况吗？

如果没有，我应该如何针对html视图的特定情况编写代码？

是否允许覆盖我的 Backbone 应用程序的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-28T07:32:36.840

基本上，您应该像这样考虑不同的部分：

*   模板指示应显示的内容和位置。它们是用 HTML 编写的
*   视图决定了显示器应该如何响应环境的变化（用户点击、数据变化）。它们是用 javascript 编写的
*   模型和集合保存数据并使其更易于使用。例如，如果模型显示在视图中，您可以告诉视图在模型的数据更改时刷新
*   然后，您有 javascript 代码将使用正确的模型/集合创建新的视图实例并在浏览器中显示它们

我正在写一本关于 Marionette.js 的书，这是一个让 Backbone 的工作变得更容易的框架。前几章以免费示例的形式提供，并更详细地解释了上述几点：http: [//samples.leanpub.com/marionette-gentle-introduction-sample.pdf](http://samples.leanpub.com/marionette-gentle-introduction-sample.pdf)

# javascript - 如何使用 Element.PropertyName IE 浏览器将值设置为“文本”？

> ID：15872475
> 
> 赞同：1
> 
> 时间：2013-04-08T06:17:09.320
> 
> 标签：javascript, html

这是我的代码：

```
<input type="text" id="fname">
<input type="button" onclick = "b();" value="change" />

<script>
function b(){
    var fanme = document.getElementById('fname');
    if(fname.value){
        fname.value="";
    }else{
        fname.value="ffff";
    }
</script> 
```

我试过这个，但是`fname`当我点击按钮两次时，'s 的值有时会改变。怎么了？在其他浏览器上没问题

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T06:22:02.980

Try this : instead of `Elements` use `Element` and also close function with `}`.

```
function b(){
    var fanme = document.getElementById('fname');
    if(fname.value){
        fname.value="";
    }else{
        fname.value="ffff";
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:29:00.087

尝试这个，

```
<input type="text" id="fname">
<input type="button" onclick = "b();" value="change" />

<script>
function b(){
    var fanme = document.getElementById('fname').value;
    if(fname == "" || fname == null || fname == "null"){
         fanme  = "Set the value as you want";
    }else{
         //proceed 
    }
</script> 
```

# javascript - 我在哪里可以得到这个自动完成功能的谷歌位置数据？

> ID：15872479
> 
> 赞同：0
> 
> 时间：2013-04-08T06:17:41.480
> 
> 标签：javascript, html, geolocation

我对查询哪个位置服务 api 以使自动完成小部件像在 zimride 一样工作感到困惑：[http ://www.zimride.com/](http://www.zimride.com/)

这些人在用什么说由谷歌提供支持？

我需要印度当地的国家数据，但目前不需要谷歌地图。我应该看看places api吗？我正在为我的移动网络应用程序寻找 html5/javascript 实现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:28:52.590

Google 提供了“地点自动完成 API”。该文档位于[https://developers.google.com/places/documentation/autocomplete](https://developers.google.com/places/documentation/autocomplete)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-19T10:46:53.903

我在 RSA 中做同样的事情。

查看：

[https://github.com/ddidier/address_picker-rails](https://github.com/ddidier/address_picker-rails)

完美运行！

# c# - 下拉列表项的工具提示

> ID：15872488
> 
> 赞同：3
> 
> 时间：2013-04-08T06:18:11.057
> 
> 标签：c#, drop-down-menu, tooltip

我有一个下拉列表，我想为下拉列表项添加工具提示。我尝试使用以下代码，但它不起作用；

```
 for(int d=0;d<drpID.Items.Count;d++)
    {
        drpID.Items[d].Attributes.Add("title", drpID.Items[d].Value);

    } 
```

谁可以帮我这个事？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-08T06:19:56.770

试试这样；

```
public void Tooltip(ListControl lc)
{
    for (int d = 0; d < lc.Items.Count; d++)
    {
        lc.Items[d].Attributes.Add("title", lc.Items[d].Text);
    }
} 
```

您应该将`.Text`属性用于工具提示，而不是用于`.Value`.

查看此链接： http: [//www.dotnetspider.com/resources/5099-Tool-tip-for-DropDownList-ASP-NET.aspx](http://www.dotnetspider.com/resources/5099-Tool-tip-for-DropDownList-ASP-NET.aspx)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-08T06:21:25.767

**试试下面的代码：**

```
foreach (ListItem item in drpID.Items)
{
item.Attributes.Add("Title", item.Text);
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-08T06:27:48.767

你应该试试这个

```
 protected void ddlDetails_DataBound(object sender, EventArgs e)
{
    DropDownList ddl = sender as DropDownList;
    if(ddl!=null)
  {
    foreach (ListItem li in ddl.Items)
    {
      li.Attributes["title"] = li.Text;
    } 
  }
} 
```

![在此处输入图像描述](https://i.stack.imgur.com/HxpWC.png)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-07-23T18:22:52.633

我知道这个线程是关于数据绑定控件的，但是在极少数情况下，您实际上在 aspx 页面中硬编码了 ListItem 值，我只是添加了一个

```
<asp:ListItem Id="liNumberOne" Runat="server" title="My nifty help text" /> 
```

属性到 ListItem 标记本身，它工作得很好。当然，我收到了关于它不是有效属性的投诉，但是当页面呈现时，它出现了，然后它是一个有效属性。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-03-21T03:14:19.777

我只需要在以编程方式填充的 DropDownList 上实现一个工具提示。我发现 title 属性被自动设置为 Text 属性，我无法覆盖它，即使在 PreRender 中也是如此。

该线程上的任何建议都不起作用，我最终被迫使用 jQuery 方法。

创建列表项时，我使用工具提示文本设置了自定义属性

```
 ListItem item = new ListItem("Name", "Value");
    item.Attributes.Add("tooltip", tooltip);
    ddl.Items.Add(item); 
```

然后使用启动脚本触发以下方法

```
function SetTooltip() {
    jQuery('#<%=ddl.ClientID %> option').each(
        function () {
            jQuery(this).attr('title', jQuery(this).attr('tooltip'));
        }
    );
} 
```

真不是。但它有效。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-06-09T17:31:06.950

```
 foreach (ToolStripItem item in yourToolStripName.DropDownItems)
        {
            item.ToolTipText = "tool strip item message";
        } 
```

# ruby-on-rails - 太阳黑子宝石中的 SystemStackError（堆栈级别太深）

> ID：15872501
> 
> 赞同：1
> 
> 时间：2013-04-08T06:19:19.317
> 
> 标签：ruby-on-rails, sunspot, sunspot-rails, sunspot-solr

我知道这是最难追踪的错误。这就是发生的事情：我正在做一个涉及太阳黑子搜索的请求。对于返回合理 solr 响应大小的所有请求，一切正常。对于 solr 响应超过 1 MB 的特定请求，我收到此错误：

```
SOLR Request (186.0ms)  [ path=#<RSolr::Client:0x00000006f76c18> parameters={data: fq=type%3AArticle&fq=review_im%3A46&start=0&rows=0&facet=true&f.source_i.facet.mincount=1&facet.field=source_i&facet.field=language_i&facet.field=publication_types_im&facet.field=features_im&facet.field=locations_im&facet.field=keyphrases_im&facet.field=journal_i&facet.field=authors_im&facet.field=year_i&f.language_i.facet.mincount=1&f.publication_types_im.facet.mincount=1&f.features_im.facet.mincount=1&f.locations_im.facet.limit=30&f.locations_im.facet.mincount=1&f.keyphrases_im.facet.limit=30&f.keyphrases_im.facet.mincount=1&f.journal_i.facet.sort=true&f.journal_i.facet.limit=-1&f.journal_i.facet.mincount=1&f.authors_im.facet.sort=true&f.authors_im.facet.limit=-1&f.authors_im.facet.mincount=1&f.year_i.facet.limit=-1&f.year_i.facet.mincount=1&q=%2A%3A%2A, method: post, params: {:wt=>:ruby}, query: wt=ruby, headers: {"Content-Type"=>"application/x-www-form-urlencoded; charset=UTF-8"}, path: select, uri: http://localhost:8982/solr/select?wt=ruby, open_timeout: , read_timeout: , retry_503: , retry_after_limit: } ]
Solr Select (186.3ms)  fq=type%3AArticle&fq=review_im%3A46&start=0&rows=0&facet=true&f.source_i.facet.mincount=1&facet.field=source_i&facet.field=language_i&facet.field=publication_types_im&facet.field=features_im&facet.field=locations_im&facet.field=keyphrases_im&facet.field=journal_i&facet.field=authors_im&facet.field=year_i&f.language_i.facet.mincount=1&f.publication_types_im.facet.mincount=1&f.features_im.facet.mincount=1&f.locations_im.facet.limit=30&f.locations_im.facet.mincount=1&f.keyphrases_im.facet.limit=30&f.keyphrases_im.facet.mincount=1&f.journal_i.facet.sort=true&f.journal_i.facet.limit=-1&f.journal_i.facet.mincount=1&f.authors_im.facet.sort=true&f.authors_im.facet.limit=-1&f.authors_im.facet.mincount=1&f.year_i.facet.limit=-1&f.year_i.facet.mincount=1&q=%2A%3A%2A
Completed 500 Internal Server Error in 650ms

SystemStackError (stack level too deep):
  actionpack (3.2.11) lib/action_dispatch/middleware/reloader.rb:70

  Rendered /home/hammady/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /home/hammady/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/hammady/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.7ms)
2013/04/08 08:53:05 [error] 7480#0: *6 upstream prematurely closed connection while reading response header from upstream, client: 127.0.0.1, server: _, request: "GET /reviews/46/results?mode=visible&polling=1&search=all HTTP/1.1", upstream: "passenger:unix:/passenger_helper_server:", host: "localhost:4000" 
```

这是太阳黑子虫吗？

更新：不，这是一个 ruby​​ VM 问题，我[在这里](https://bugs.ruby-lang.org/issues/8253)报告了它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:27:17.767

我注意到您正在使用 ruby​​-1.9.2-p320，并且在另一个 gem (delayed_job) 中报告了类似的问题，`reloader.rb`导致`SystemStackError`：

[https://github.com/collectiveidea/delayed_job/issues/349](https://github.com/collectiveidea/delayed_job/issues/349)

该线程中的几个人（尽管不是所有人）报告说它已通过升级到 Ruby 1.9.3 修复，因此您可能想尝试一下。

# jquery - jQuery UI Indeterminate ProgressBar 在 Ruby on Rails 下没有动画

> ID：15872505
> 
> 赞同：1
> 
> 时间：2013-04-08T06:19:42.690
> 
> 标签：jquery, ruby-on-rails-3, jquery-ui, jquery-ui-theme, jquery-ui-progressbar

我无法使 jQuery UI 不确定的进度条在 Rails 应用程序中正常工作。我的工作基于[http://jqueryui.com/progressbar/#indeterminate](http://jqueryui.com/progressbar/#indeterminate)上的 jQuery-UI API 演示，并试图将其调整为我的应用程序。

我试图模拟的 jQuery 示例代码的关键部分是：

```
$(function() { $( "#progressbar" ).progressbar({value: false});
<style> #progressbar .ui-progressbar-value {background-color: #ccc;}</style>
<div id="progressbar"></div> 
```

我的 Rails 应用程序中的关键代码如下：

应用程序.js：

```
//= require jquery
//= require jquery_ujs
//= require jquery-ui
//= require_tree ./sitewide 
```

页面特定的 JS (event.js) - 包含在 views/events/new.html.erb 中：

```
$(document).ready(function() { $( '#progressbar' ).progressbar();
                               //$( '#progressbar' ).css({background: '#aa0000'});
                               $( '#progressbar' ).progressbar( { value: false } );
                             }); 
```

应用程序.css：

```
@import url(http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css); 
```

events.css.scss：

```
#progressbar .ui-progressbar-value { background-color: #ccc; } 
```

意见/事件/new.html.erb：

```
<div id="progressbar"></div>
<%= javascript_include_tag "events" %> 
```

服务页面中的结果 HTML：

```
<div id="progressbar"></div>
<script src="/assets/events.js?body=1" type="text/javascript"></script> 
```

此代码在进度条 div 中生成一个空白的白色条，而不是 jQuery 演示中的灰色动画条。如果我删除 document.ready 函数中的注释，该栏会变为红色（#aa0000），但它仍然不是动画的，只是静态的。我将非常感谢任何人对此行为的任何见解。

更新：我发现以下线程 - [https://forum.jquery.com/topic/progressbar-api-redesign#14737000003912014](https://forum.jquery.com/topic/progressbar-api-redesign#14737000003912014) - 这表明动画覆盖GIF文件尚未包含在主题包中，所以我下载了它并将其安装在 assets/images/animated-overlay.gif 中，但它仍然无法正常工作。我在 Smoothness 主题 CSS 文件中找到了以下几行：

```
.ui-progressbar .ui-progressbar-overlay {
    background: url("images/animated-overlay.gif");
    height: 100%;
    filter: alpha(opacity=25);
    opacity: 0.25;
} 
```

所以我认为我将图像放在正确的位置。有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-04T07:48:03.873

我对 indeterminate 有同样的问题[`progressbar`](http://jqueryui.com/progressbar/#indeterminate)。我建议您直接从[ThemeRoller](http://jqueryui.com/themeroller/)页面下载主题包（页面底部有一个名为 Themes 的链接）：

[http://jqueryui.com/resources/download/jquery-ui-themes-1.10.3.zip](http://jqueryui.com/resources/download/jquery-ui-themes-1.10.3.zip)

提取您要使用的特定主题文件夹 - 在您的情况下`smoothness`。`animated-overlay.gif`应该包含在主题的图像文件夹中。

就我而言，我没有这个`.gif`，所以没有动画。一旦我`.gif`在主题的`images`文件夹中添加了它，它就可以工作了。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-05T23:50:43.697

我刚刚在 ASP.NET 中使用 MVC4 应用程序遇到了类似的问题。

我的问题是表单帖子取消了动画 GIF 的 GET。即，它位于应有的位置，但没有加载，因为导航事先将其重定向到其他地方。

当我不小心破坏了 http POST 时，我发现了这一点。

我仍在尝试弄清楚如何使动画正常工作，但也要提交表单。

更新：此时我的 (ugh) hacky 解决方法是使用 Microsoft.jQuery.Unobtrusive.Ajax (@Html.BeginForm -> @Ajax.BeginForm) 将表单制作成 Ajax 表单，然后在提交表单时稍作延迟通过 jQuery。这有点难看，但到目前为止它的工作原理

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-21T15:57:30.220

即使我使用的应用程序是纯简 ASP.NET 网站并且服务器端语言是 C#，我也想对此进行回复。

我注意到在 IE 11 上，当我测试我的网页时，JqueryUI 进度条的背景 GIF 不起作用。当我单击“搜索”按钮时，我的主测试页面显示不确定的进度条，并且有一个 POST 返回到服务器以启动服务器端方法。在这个页面中，我可以轻松地设置参数，使搜索大约需要 30 秒。

在 Firefox 或 Chrome 中使用相同的代码，当我 POST 回来时，进度条背景 GIF 动画效果很好。在 IE 中，它没有。

在 IE 中打开 DOM Explorer 窗口后，在等待期间，我能够在 Styles 窗口中选择进度条 div，查看 CSS 属性，并确认它已识别并保持启用 GIF 文件作为背景。这意味着进度条确实显示了动画 GIF。

当我取消选中“样式”窗口中的背景框时，GIF 按预期消失了。当我重新检查它时，GIF 又回来了，但它是动画的！

作为最终测试，我始终保持进度条可见并运行应用程序。我注意到 GIF 最初会显示为动画。但是，当页面返回到站点并等待响应时，GIF 将停止动画。

当然，所有这些都在[另一篇 StackOverflow 帖子](https://stackoverflow.com/questions/780560/animated-gif-in-ie-stopping)中进行了讨论和诋毁。

# jaxb - 生成的 XSD 属性的名称与 java 对象的名称不同

> ID：15872513
> 
> 赞同：1
> 
> 时间：2013-04-08T06:20:08.883
> 
> 标签：jaxb

是否可以从名称与类或其属性不同的 Java 对象生成 XSD？假设我有一个具有属性“currency”的类，并且在生成的 xsd 中我想将其重命名为“currencyType”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:29:45.150

许多 JAXB (JSR-222) 注释（即`@XmlElement`、`@XmlAttribute`、`@XmlType`等）使您能够指定一个名称来覆盖从类或属性名称派生的默认名称。

```
@XmlElement(name="currencyType")
public String getCurrency() {
    return currency;
} 
```

# hadoop - Hive：连接不同场景的表

> ID：15872515
> 
> 赞同：0
> 
> 时间：2013-04-08T06:20:12.573
> 
> 标签：hadoop, hql, hive, hiveql

我有一个关于在不同场景中加入表格的问题。请在下面找到示例表。

应重复预期表第 3-5 行的容量，因为表 2 没有这些字段。

谁能帮忙拿到预期的桌子？

# 表格1：

没有 ProjectID 容量

1 514 4

2 418 10

3 418 30

4 401 40

5 502 41

# 表2：

否 ProjectID 容量1 容量2

1 514 4 10

2 418 10 20

# 预期表：

否 ProjectID 容量1 容量2

1 514 4 10

2 418 10 20

3 418 30 30

4 401 40 40

5 502 41 41

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:45:00.007

1.做左外连接

2.对于不匹配的值，请使用 if 条件从表 1 中获取它们。

```
 select t1.no,t1.projectid,t1.capacity1,if(t2.capacity2 is null,t1.capacity,t2.capacity)
    from table1 t1 left outer join table2 t2 on t1.no=t2.no 
```

我认为上述查询符合您的要求，如果需要更多帮助，请告诉我。

# sparql - 对 dbpedia.org 的 SPARQL 查询进行 URL 编码

> ID：15872520
> 
> 赞同：0
> 
> 时间：2013-04-08T06:20:32.737
> 
> 标签：sparql, semantic-web, url-encoding

我正在尝试为 dbpedia.org 的 SPARQL 查询的 URL 编码编写代码（在 ABAP 中）。

有没有参考代码或方法？

例如：输入：

```
select distinct ?Concept where {[] a ?Concept} LIMIT 100 
```

输出：

```
http://dbpedia.org/sparql?default-graph-uri=http%3A%2F%2Fdbpedia.org&query=select+distinct+%3FConcept+where+%7B%5B%5D+a+%3FConcept%7D+LIMIT+100&format=text%2Fhtml&timeout=0&debug=on 
```

谢谢克里希纳

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T19:34:12.987

免责声明：我对 ABAP 一无所知。

话虽如此，如果没有库函数可以做到这一点，我会感到惊讶。如果没有，您可以尝试从 JDK 移植一个：

[http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/net/URLEncoder.java#URLEncoder](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/net/URLEncoder.java#URLEncoder)

# playframework - 播放框架（Websocket）：从请求头中获取浏览器信息

> ID：15872526
> 
> 赞同：2
> 
> 时间：2013-04-08T06:20:41.100
> 
> 标签：playframework, http-headers, websocket

我正在使用[此](https://groups.google.com/d/msg/play-framework/qy36tA80Ft0/AVtWl-ymZRcJ)示例中的代码来获取客户端的浏览器信息。但是对于我的情况，密钥**用户代理**仅适用于 Firefox，Chrome 或 Safari 没有此密钥可用的密钥。所以，我得到了 Chrome 或 Safari 的*None*对象。谁能提供一种通用的方法来从 Play 中获取浏览器名称、版本等信息！控制器？

## 更新

我使用的是 Websocket 协议，而不是 http（尽管它们在很多方面都很相似），我使用的是 Play 2.1.0（使用 Java 1.7.0_17 和 Scala 2.10.0）。我的代码就像从[http://websocket.org/echo.html](http://websocket.org/echo.html)`def actorWebSocket = WebSocket.async[String] { implicit request => ...`向我的服务器发送请求。（我测试过的所有浏览器都支持 websocket）。尽管简单的 http 请求确实显示了 Firefox、Safari 和 Chrome 的用户代理，但 websocket 未能显示 Safari 和 Chrome 的用户代理。@nico_ekito 和 @le_douard 建议这可能是浏览器问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T20:44:43.417

实际上play框架给了我们一切（甚至很多知道的标题名称）。这是控制器类的静态函数中的代码

```
public class Application extends Controller {
    public static Result index() {
        String userAgent = request().headers().get(Http.HeaderNames.USER_AGENT);
        return ok(userAgent);
    }
} 
```

自然地，我假设您指向路由文件中某处的 routes.Application.index() 。

如果您还想知道如何解析用户代理，我也建议您查看：
[https ://code.google.com/p/user-agent-utils/](https://code.google.com/p/user-agent-utils/)

6 个月前，我在一个项目中使用了它，我不知道它的更新程度，但当我需要它以获得更多有用和可读的信息时，它对我来说非常有用。

## 一些浏览器没有完全实现 WebSockets 协议应该有的东西

毕竟它是一个仍在定义/开发中的协议。

对于 chrome，这是一个带有票证的错误 [https://code.google.com/p/chromium/issues/detail?id=128170](https://code.google.com/p/chromium/issues/detail?id=128170)

显然它最近已修复，应该很快推出？我认为它与 Safari 相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:15:52.233

AFAIK，它在我的应用程序中使用“User-Agent”键工作：

```
request.headers.get("User-Agent") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T13:57:28.813

在我的 play 2.0.4 项目的 lib 目录中拥有 UserAgentUtils-1.6.jar，我一直在以这种方式使用用户代理，例如识别 iPhone 模拟器调用：在我的控制器顶部：

```
import nl.bitwalker.useragentutils.UserAgent; 
```

并在方法中：

```
 UserAgent userAgent = UserAgent.parseUserAgentString(Http.Context.current().request().getHeader("User-Agent"));
        Boolean iphone_l = false;
        if (userAgent.getOperatingSystem().equals("MAC_OS_X") &&
            userAgent.getOperatingSystem().getManufacturer().equals("APPLE") &&
            userAgent.getOperatingSystem().getGroup().equals("MAC_OS_X") &&
            userAgent.getOperatingSystem().getDeviceType().equals("COMPUTER") &&
            userAgent.getBrowser().equals("CFNETWORK") &&
            userAgent.getBrowser().getGroup().equals("CFNETWORK") &&
            userAgent.getBrowser().getManufacturer().equals("CFNETWORK")) {
            iphone_l = true;
        } 
```

...即使在 Chrome 中也能正常工作（未尝试过 IE），但如果请求来自带有 wininet.dll 用于 http 请求的 Excel 工作表，则会崩溃。

我帮助...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-06-27T20:06:04.427

这段代码对我有用：

```
String agent = request().getHeader(Http.HeaderNames.USER_AGENT); 
```

# javascript - 未使用 JavaScript 中的 OnChange 方法触发 SelectedIndexChanged 事件

> ID：15872530
> 
> 赞同：3
> 
> 时间：2013-04-08T06:20:59.180
> 
> 标签：javascript, asp.net

请帮我解决我遇到的问题`DropDownList`。我正在使用 JavaScript“onchange”方法来获取 DropDownList 的选定值。我可以得到值，但`OnSelectedIndexChanged`事件没有触发。希望有人可以帮助我。我用于获取选定值的 JavaScript 函数是：

```
 <script type="text/javascript" language="javascript">
    function showAddress_Byamit()
    { 
         var e = document.getElementById("TabC_tp1_ddlcountry");
         var country = e.options[e.selectedIndex].text;
    }
 </Script>

<asp:DropDownList ID="ddlcountry" runat="server" AutoPostBack="True" 
     Height="20px" EnableViewState="true"  TabIndex="4"  
     OnSelectedIndexChanged="ddlcountry_SelectedIndexChanged" 
     onchange="showAddress_Byamit();return false" Width="100px" >
</asp:DropDownList> 
```

`"ddlcountry_SelectedIndexChanged"`问题是没有调用该方法。

在代码隐藏中，我添加了`Onchange`如下事件：

```
 ddlcountry.Attributes.Add("onchange", "showAddress_Byamit(); return false"); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:27:29.047

你需要删除`return false`

```
 ddlcountry.Attributes.Add("onchange", "showAddress_Byamit();"); 
```

# php - 如何下载文件然后重定向到php中的另一个页面？

> ID：15872534
> 
> 赞同：7
> 
> 时间：2013-04-08T06:21:35.667
> 
> 标签：php, html, download

好的，我有以下 php 文件：

```
 <?php
        header("Content-Type: application/octet-stream");

    $file = $_GET["file"];
    header("Content-Disposition: attachment; filename=" . urlencode($file));   
    header("Content-Type: application/force-download");
    header("Content-Type: application/octet-stream");
    header("Content-Type: application/download");
    header("Content-Description: File Transfer");            
    header("Content-Length: " . filesize($file));
    $file = "pdf/".$file;
    flush(); // this doesn't really matter.
    $fp = fopen($file, "r");
    while (!feof($fp)) {
        echo fread($fp, 65536);
        flush(); // this is essential for large downloads
    }

    if ($file="pdf/sampleFile.pdf") {
    ?>
<html>
<head>
    <title>Best Recipes Ever!</title>
    <link rel="stylesheet" href="style/style.css" />
</head>

<body>
    <div id="header">
        <h1>Best Recipes Ever!</h1>
    </div>
    <div id="page">
        <h1>Thank You For Your Download!</h1>
        <p>I sincerely hope that you enjoy this free recipe! If satisfied, please feel free to return and purchase some of my recipes. Trust me, you won't regret it!</p>
    </div>
    </body>
    </html>
    <?php 
    }

    fclose($fp);
    ?> 
```

这个想法是，如果它是示例文件，它会下载文件然后重定向到感谢页面。但是，如果它是付费下载，则此文件仅下载文件，但不执行任何操作（因为它们来自的页面是已购买下载文件链接的列表，因此它需要保留在该页面上）。

然而，这个页面正在做的是下载文件但不重定向。我究竟做错了什么？我该如何解决？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-08T16:47:53.627

最好的办法是稍微改变你的页面顺序。设置一个“感谢您下载此示例”页面的页面，并将其设置为执行 JavaScript 刷新，实际上将您带到下载。因为它是一个下载页面，而不是一个新页面，所以感谢页面仍然存在。如果他们在浏览器上没有 javascript，请放置一个指向实际文件的链接。

您可以为每个文件创建一个页面，但最好的办法是将文件名作为 get var 传递，即`ThankYou.php?file=sample.pdf`

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2018-04-13T12:05:27.307

这段代码在我的情况下运行良好。也许它会帮助你。它是主页：

```
<form action="/download.php" method="post">
  <button type="submit">Download</button>
</form> 
```

主页中的此脚本：

```
$(document).on('submit', 'form', function() {
  setTimeout(function() {
    window.location = "/thanks.html";
  }, 1000);
}); 
```

您必须在 dowload.php 中编写 php 代码以供下载。如果在 download.php 你的代码只下载文件，那么你的主页将不会被重新加载。所以处理表单的脚本将起作用。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-08T06:23:26.283

添加`header()`下载成功后重定向页面的功能

```
header( "refresh:5;url=yourlocation.php" ); 
```

资源链接（[这里](http://www.php.net/manual/en/function.header.php)）

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-08T06:44:47.267

使用 html 或 javascript 重定向，因为即使标头已经发送，它也可以工作。如果下载的是示例文件，请回显此内容。

例如

HTML

```
echo "<meta http-equiv = 'Refresh' content = '2; url =./redirectpage.php'/>"; // change redirectpage.php to where you want to redirect. 
```

JavaScript

```
echo '<script type="text/javascript">
          window.location.href="./redirectpage.php";
      </script>'; 
```

# c# - 按月将值放入数据表组中

> ID：15872535
> 
> 赞同：1
> 
> 时间：2013-04-08T06:21:53.497
> 
> 标签：c#, linq, ado.net, group-by

我在 c# 中有这个数据表

```
 Date    Employee Job1   Job2     Job3
1/1/2012    a    1      1          1 
1/1/2012    b    2      2          2
1/1/2012    c    2      1          4
1/1/2012    d    4      2          1
1/2/2012    a    3      2          5
1/2/2012    b    2      2          2
1/2/2012    c    3      3          3
1/2/2012    d    1      1          1
1/3/2012    a    5      5          5
1/3/2012    b    2      2          6
1/3/2012    c    1      1          1
1/3/2012    d    2      3          4
2/1/2012    a    2      2.5        2
2/1/2012    b    5      5          2
2/1/2012    c    2      2          2
2/2/2012    a    3      3          3
2/2/2012    b    2      3          3
3/1/2012    a    4      4          11
3/5/2012    a    14     42.5       15
3/6/2012    a    21     12.143     22
3/8/2012    a    8.9    45         27
3/8/2012    b    4.4    25         31 
```

我想按月循环遍历这些值，以便我可以将值存储在数据表中，并以此进行其他计算。在此示例中，它将具有三个数据表，第一个具有 1 月值，另一个具有 2 月值，最后一个具有 3 月行。Linq如何做到这一点。请建议将结果按月分组的 Linq 语法。

```
var monthEmpGroups = dt.AsEnumerable()
                .Select(r => new
                {                   
                    Year = DateTime.Parse(r.Field<string>("DATE")).Year,
                    Month = DateTime.Parse(r.Field<string>("DATE")).Month.ToString()
                })
                .GroupBy(x => x.Month);

var dtf = CultureInfo.CurrentCulture.DateTimeFormat;
foreach (var empGroup in monthEmpGroups)
{
    int month = int.Parse(empGroup.Key);
    string colName = dtf.GetMonthName(month);
    // Here i want to get all the rows where month is colName (i.e.january, feb, march)
} 
```

请建议是否有其他方法可以使用 LINQ 按月获取值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T06:30:12.630

您应该将获取每个组的项目移动到`monthEmpGroups`查询中：

```
var monthEmpGroups = (from r in dt.AsEnumerable()
                      let month = DateTime.Parse(r.Field<string>("DATE")).Month
                      group r by month into g
                      select new { Month = g.Key, Items = g.ToList() }); 
```

有了它，您可以轻松获得所需的结果：

```
var dtf = System.Globalization.CultureInfo.CurrentCulture.DateTimeFormat;

foreach (var empGroup in monthEmpGroups)
{
    int month = empGroup.Month;
    string colName = dtf.GetMonthName(month);
    List<DataRow> items = empGroup.Items;
} 
```

# ajax - 使用视图包显示消息而不刷新视图

> ID：15872539
> 
> 赞同：0
> 
> 时间：2013-04-08T06:21:59.777
> 
> 标签：ajax, asp.net-mvc

我有一个来自 ControllerA 的视图 A，它有两个按钮 1\. 创建 2\. 更新

单击更新或创建后，将打开一个新的局部视图 B 作为来自另一个控制器 B 的弹出窗口。

我想要得到的是如果在 b 中成功创建了一条记录，我现在正在关闭弹出窗口。除了关闭弹出窗口之外，我还想在视图 A 中显示一条消息。

我正在尝试这样：控制器 B

```
 public ActionResult Create(FormCollection args)
    {
        var obj = new ProjectManagernew();

        var res = new ProjectViewModelNew();
        try
        {
            UpdateModel(res);
            if (obj.AddUpdateOrderField(res))
            {
                ViewBag.RecordAdded = true;
                ViewBag.Message = "Project Added Successfully";

            }
            return View(res);
        }
        catch (Exception)
        {
            //ModelState.AddRuleViolations(res.GetRuleViolations());
            return View(res);
        }
    } 
```

在视图 A 中：

```
@if(ViewBag.Message!=null)
{
@ViewBag.Message
} 
```

视图 B：

```
@model DreamTrade.Web.BL.ViewModels.ProjectViewModelNew

@{
ViewBag.Title = "Create";
Layout = "~/Views/Shared/_Layout_Popup.cshtml";
}
@if (ViewBag.RecordAdded != null && (bool)ViewBag.RecordAdded)
{
<script type="text/javascript">
    parent.$.nmTop().close();
 $('#jqgprojectnew').text("Record added successfully");//jqgprojectnew is the name of grid in view A
</script>
 }
   <h2>Create</h2>

 @using (Html.BeginForm()) {
@Html.ValidationSummary(true)

<fieldset>
    <legend>Project</legend>
      @Html.HiddenFor(model => model.ProjectID)

    <div class="editor-label">
        @Html.LabelFor(model => model.ProjectDetail)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.ProjectDetail)
        @Html.ValidationMessageFor(model => model.ProjectDetail)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.ProjectRef)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.ProjectRef)
        @Html.ValidationMessageFor(model => model.ProjectRef)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.ProjectName)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.ProjectName)
        @Html.ValidationMessageFor(model => model.ProjectName)
    </div>

   <div class="editor-label">
        @Html.LabelFor(model => model.StatusList)
    </div>
    <div class="editor-field">
        @Html.DropDownListFor(model => model.ProjectStatusId,new SelectList(Model.StatusList,"SourceStatusId","Description"),"Please Select")
        @Html.ValidationMessageFor(model => model.ProjectStatusId)
    </div>

     <div class="editor-label">
        @Html.LabelFor(model => model.CustomerList)
    </div>
    <div class="editor-field">
        @Html.DropDownListFor(model => model.Id,new SelectList(Model.CustomerList,"Id","Name"),"Please Select")
        @Html.ValidationMessageFor(model => model.Id)
    </div>
    <p>
        <input type="submit" value="Create" />
    </p>
</fieldset>
 <div>
 <a href="javascript:parent.$.nmTop().close()">Back to list</a>
 </div>

 @section Scripts {
@Scripts.Render("~/bundles/jqueryval")
} 
```

请让我知道我在哪里做错了

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:37:36.070

在您要显示消息的位置包含一个标签字段。

```
<label id=mylabel></label>// Add this before jqgrid 
```

将代码修改为：

```
@if (ViewBag.RecordAdded != null && (bool)ViewBag.RecordAdded)
{
<script type="text/javascript">
    parent.$.nmTop().close();
    $('#mylabel').text("Record added successfully");
</script>
 } 
```

# browser - 如何强制 Alfresco Share 仅使用一种语言，独立于浏览器区域设置？

> ID：15872540
> 
> 赞同：3
> 
> 时间：2013-04-08T06:22:00.613
> 
> 标签：browser, share, alfresco

很容易找到 Alfresco Exlplorer 的解决方案，但哪种方式适合 Alfresco Share 仅使用一种特定语言，独立于网络浏览器的区域设置？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-08T10:28:35.540

这取决于您如何部署 Alfresco，但假设您在生产环境中工作，在您的客户端和 Alfresco 服务器之间放置 HTTP 代理/负载平衡器是标准做法，您有一些潜在的选择。

Share 响应`Accept-Language`Web 浏览器发送的标头，因此为了防止它基于此切换语言，您可以将代理配置为`Accept-Language`从传入的客户端请求中删除标头。

例如，使用 Apache，您可以在配置中`mody_proxy`一起使用`mod_headers`，例如

```
ProxyPass / http://localhost:8080/
ProxyPassReverse / http://localhost:8080/
RequestHeader unset Accept-Language 
```

前两行将来自 Apache（很可能在端口 80 上运行）的请求代理到在端口 8080 上托管 Alfresco 的 Tomcat 实例，而第三行将删除`Accept-Language`标头。

然后，Share 将默认为运行 Alfresco 的 Java 进程的语言环境，因此您应确保将其设置为美国英语 ( `en-US`)。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-07-24T14:52:38.217

分享是基于`Spring Surf`哪个在上面`Spring MVC`。默认情况下，使用内置`AcceptHeaderLocaleResolver`。要覆盖它，只需定义一个`org.springframework.extensions.surf.mvc.LocaleResolver`如上扩展的 bean：

将 bean 声明添加到由导入的任何配置文件中`slingshot-application-context.xml`

```
<!-- Override Locale Resolver -->
<bean id="localeResolver" class="mypackage.CustomLocaleResolver" /> 
```

添加新的 LocaleResolver 实现类

```
 package mypackage;

    import java.util.Locale;
    import javax.servlet.http.HttpServletRequest;
    import org.springframework.extensions.surf.mvc.LocaleResolver;
    import org.springframework.extensions.surf.util.I18NUtil;

    public class CustomLocaleResolver extends LocaleResolver {

    public Locale resolveLocale(HttpServletRequest request) {
        Locale locale = Locale.FRENCH;
        I18NUtil.setLocale(locale);

        return locale;
        }
    } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-05-30T15:54:08.880

你可以检查`MTAuthenticationFilter.java`

```
public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)
    throws IOException, ServletException
{
    if (req instanceof HttpServletRequest)
    {
        requestHolder.set((HttpServletRequest)req);

        /*if (((HttpServletRequest) req).getHeader(ACCEPT_LANGUAGE_HEADER) == null)
        {
            req = new SlingshotServletRequestWrapper((HttpServletRequest) req);
            ((SlingshotServletRequestWrapper) req).addHeader(ACCEPT_LANGUAGE_HEADER, "en_US");
        }*/

        //locale will be always 'french' (fr)
        req = new SlingshotServletRequestWrapper((HttpServletRequest) req);
        ((SlingshotServletRequestWrapper) req).addHeader(ACCEPT_LANGUAGE_HEADER, "fr");
    }
    try
    {
        chain.doFilter(req, res);
    }
    finally
    {
        requestHolder.remove();
    }
} 
```

此过滤器检查`Accept-language`标题，否则将设置英语。但是为什么不覆盖它，那么我们可以为整个共享应用程序放置我们想要的语言环境。

这个解决方案对我来说就像一个魅力。对不起我的英语不好。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-08T08:23:34.330

删除所有其他 *.properties 文件的最简单方法。

共享在 web-client-config.xml 文件中看起来不像资源管理器。

所以像这样的脚本`find . -name *_<language>.properties -exec rm -rf {} \;`

# mysql - Access mysql remote database from command line

> ID：15872543
> 
> 赞同：258
> 
> 时间：2013-04-08T06:22:06.073
> 
> 标签：mysql, shell, mysql-error-2003

I have a server with Rackspace. I want to access the database from my local machine command line.

I tried like:

```
mysql -u username -h my.application.com -ppassword 
```

But it gives an error:

> ERROR 2003 (HY000):
> 
> Can't connect to MySQL server on 'my.application.com' (10061)

What causes this error and how can I connect to the remote database?

* * *

## 回答 #1

> 赞同：418
> 
> 时间：2016-04-06T12:54:08.460

要直接登录到远程 mysql 控制台，请使用以下命令：

```
mysql -u {username} -p'{password}' \
    -h {remote server ip or name} -P {port} \
    -D {DB name} 
```

例如

```
mysql -u root -p'root' \
        -h 127.0.0.1 -P 3306 \
        -D local 
```

**[文档](http://dev.mysql.com/doc/refman/8.0/en/command-line-options.html)中指定的**-p 后没有空格****

 **通过切换到提到的数据库，它将直接带您进入 mysql 控制台。

* * *

## 回答 #2

> 赞同：38
> 
> 时间：2017-06-01T12:28:19.970

只需将其放在 ubuntu 的终端上：

```
mysql -u username -h host -p 
```

现在按回车

终端会问你密码，输入密码，你就进入了数据库服务器

* * *

## 回答 #3

> 赞同：35
> 
> 时间：2013-04-08T06:29:28.213

编辑 my.cnf 文件：

`vi /etc/my.cnf`：

确保：

`bind-address=YOUR-SERVER-IP`

如果你有这条线：

`skip-networking`

一定要评论它：

`#skip-networking`

不要忘记重新启动：

`/etc/init.d/mysqld restart`

* * *

## 回答 #4

> 赞同：20
> 
> 时间：2018-08-09T07:59:46.657

对于 Mac，使用以下命令：

```
mysql -u app -h hostaddress -P port -D dbname -p 
```

然后在出现提示时输入密码。

* * *

## 回答 #5

> 赞同：15
> 
> 时间：2016-10-31T05:42:57.887

试试这个命令`mysql -uuser -hhostname -PPORT -ppassword`。

我遇到了类似的情况，后来当用命令输入主机的mysql端口时，它就解决了。

* * *

## 回答 #6

> 赞同：14
> 
> 时间：2018-05-17T07:36:10.603

如果您不想使用 ssh 隧道，则必须在**my.cnf**或**mysqld.cnf 中将****127.0.0.1**更改为您的本地 IP 地址（**192.168.1.100**）才能通过 LAN 访问。示例如下：

```
sudo nano /etc/mysql/mysql.conf.d/mysqld.cnf 
```

在**my.cnf**或**mysqld.cnf**中搜索**bind-address**

 ****```
bind-address            =  127.0.0.1 
```

并将**127.0.0.1**更改为**192.168.1.100**（本地 IP 地址）

```
bind-address            =  192.168.1.100 
```

要应用您所做的更改，必须使用下一个命令重新启动 mysql 服务器。

```
sudo /etc/init.d/mysql restart 
```

修改用户**root**以获得局域网访问权限（在您想要访问的远程服务器中运行查询的波纹管）

```
root@192.168.1.100:~$ mysql -u root -p 
```

..

```
CREATE USER 'root'@'%' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;
FLUSH PRIVILEGES; 
```

如果您只想从特定 ip 地址访问，请将**'root'@'%'**更改为**'root'@'(ip address or hostname)'**

```
CREATE USER 'root'@'192.168.1.100' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'192.168.1.100' WITH GRANT OPTION;
FLUSH PRIVILEGES; 
```

然后你可以连接：

```
nobus@xray:~$ mysql -h 192.168.1.100 -u root -p 
```

**在 ubuntu 18.04 服务器上测试**

* * *

## 回答 #7

> 赞同：9
> 
> 时间：2013-04-08T06:27:41.813

1.  试试`telnet 3306`。如果它没有打开连接，要么是有防火墙设置，要么是服务器没有在监听（或不工作）。

2.  在服务器上运行`netstat -an`以查看服务器是否已启动。

3.  您可能不允许远程连接。

    请参阅[http://www.cyberciti.biz/tips/how-do-i-enable-remote-access-to-mysql-database-server.html](http://www.cyberciti.biz/tips/how-do-i-enable-remote-access-to-mysql-database-server.html)

* * *

## 回答 #8

> 赞同：7
> 
> 时间：2017-06-08T00:07:54.917

我假设你的机器上安装了 MySQL。填写缺失的详细信息后执行以下命令：

```
mysql -uUSERNAME -pPASSWORD -hHOSTNAME -P3306 
```

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2019-08-06T12:30:02.383

有简单的命令。

```
mysql -h {hostip} -P {port} -u {username} -p {database} 
```

例子

```
mysql -h 192.16.16.2 -P 45012 -u rockbook -p rockbookdb 
```

* * *

## 回答 #10

> 赞同：4
> 
> 时间：2019-06-23T18:36:05.743

mysql 服务器通常配置为仅侦听 localhost (127.0.0.1)，它们由 Web 应用程序使用。

如果这是您的情况，但您可以通过 SSH 访问您的服务器，您可以创建一个 ssh 隧道并通过它进行连接。

在您的本地计算机上，创建隧道。

```
ssh -L 3307:127.0.0.1:3306 -N $user@$remote_host 
```

（此示例使用本地端口 3307，以防您在本地计算机上运行 mysql 并使用标准端口 3306）

现在你应该可以联系了

```
mysql -u $user -p -h 127.0.0.1 -P 3307 
```

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2021-09-27T15:10:03.367

您可以使用以下代码连接到远程 MY SQL 数据库

```
mysql -u {database_user} -p{db_password} -h {host_name} -P {port_number}
mysql -u admin -p'your_password' -h your-company.aws.com -P 3306 
```

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2013-04-08T06:28:14.683

必须检查对端口 3306 的传入访问是否被防火墙阻止。

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2017-01-25T11:09:17.733

这个解决方案对我有用：

在您的远程机器（例如：295.13.12.53）上可以访问您的目标远程机器（运行 mysql 服务器）

```
ssh -f -L 295.13.12.53:3306:10.18.81.36:3306 user@295.13.12.53 
```

解释：

```
ssh -f -L your_ssh_mashine_ipaddress:your_ssh_mashine_local_port:target_ipaddress:target_port user@your_ip_address -N 
```

your_ssh_mashine_ipaddress - 它不是本地 IP 地址，它是您 ssh 到的 IP 地址，在本例中为 295.13.12.53

your_ssh_mashine_local_port - 这是自定义端口，不是 22，在本例中是 3306。

target_ipaddress - 您尝试转储数据库的机器的 ip。

target_port - 3306 这是 MySQL 服务器的真实端口。

user@your_ip_address - 这是您连接的 ssh mashine 的 ssh 凭据

完成所有这些后，请返回您的机器并执行以下操作：

```
mysqldump -h 295.13.12.53 -P 3306 -u username -p db_name > dumped_db.sql 
```

将要求输入密码，输入您的密码并连接。希望这可以帮助。

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2019-12-17T10:17:24.287

这个在 mysql 8 中为我工作，`hostname`用你的主机名和`port_number`你的 port_number 替换，如果他不是 root，你也可以更改你的 mysql_user

```
 mysql --host=host_name --port=port_number -u root -p 
```

[更多信息在这里](https://dev.mysql.com/doc/refman/8.0/en/connecting.html)

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2018-02-10T10:43:07.083

试试这个，它的工作原理：

**mysql -h {hostname} -u{username} -p{password} -N -e "{query to execute}"**

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2016-12-21T15:57:22.097

你应该用'p'输入你的密码

```
mysql -u root -u 1.1.1.1 -p'MyPass' 
```

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2019-12-31T15:07:38.110

如果您使用的是 Windows，请尝试使用带有 MySQL 插件的 Visual Studio Code，这是一种在 Windows 机器上访问 MySQL 数据的简单且集成的方法。并且列出的数据库表可以执行任何自定义查询。

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2017-07-10T14:01:17.687

我也遇到了同样的错误。但是通过在远程mysql服务器上创建新的mysql用户然后连接发现它很有用。在远程服务器上运行以下命令：

```
CREATE USER 'openvani'@'localhost' IDENTIFIED BY 'some_pass';
GRANT ALL PRIVILEGES ON *.* TO 'openvani'@'localhost WITH GRANT 
OPTION;
CREATE USER 'openvani'@'%' IDENTIFIED BY 'some_pass';
GRANT ALL PRIVILEGES ON *.* TO 'openvani'@'%' WITH GRANT OPTION;
FLUSH PRIVILEGES; 
```

现在您可以使用以下命令连接远程 mysql。

```
mysql -u openvani -h 'any ip address'-p 
```

这是完整的帖子：

[http://openvani.com/blog/connect-remotely-mysql-server/](http://openvani.com/blog/connect-remotely-mysql-server/)******

# android - I want my application to be displayed in search with particular keywords

> ID：15872544
> 
> 赞同：-1
> 
> 时间：2013-04-08T06:22:21.037
> 
> 标签：android, seo, keyword, google-play

The Question is something about what is not related to my skill but needed to ask. So please accept my apology if it is not worth to ask.

I recently uploaded an application on Google Play Store. But it is being displayed when searching by application name only. When i use related keywords there is no chance to see in the top list. What i need to do in this reference so that user can find my application when he type some related keywords to my application. Its like promotional trick based question. Can we do a SEO for this or any other technique.

many thanks in advance.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:30:58.680

与 Google 搜索相比，Google play 对其应用程序的排名不同。主要因素是：

*   您的应用程序被下载的次数
*   正面评价的数量
*   搜索关键字和您的产品描述的相关性

我建议创建一个关于此应用程序的登录页面，并提供有关此应用程序的独特且有用的信息。像，好处，功能，如何使用，一些视频等。

将此应用提交到应用评论网站（您会通过在 Google 中搜索找到一堆网站）。开始宣传您的着陆页并将流量从该页面转移到您在 Google Play 中的应用程序页面。

这将提高您的应用程序下载量和受欢迎程度，并将导致更好的排名。

# extjs - parsing error in xml Cannot call method 'on' of undefined

> ID：15872545
> 
> 赞同：1
> 
> 时间：2013-04-08T06:22:24.470
> 
> 标签：extjs, extjs4.1, sencha-architect

I am trying to parse an xml file. I am getting the error: `Cannot call method 'on' of undefined`. Can anybody tell me what the problem is? How do I fix it?

```
<?xml version="1.0" encoding="windows-1250"?>
<users>
    <user>
        <id>1</id>
        <name>Ed Spencer</name>
        <email>ed@sencha.com</email>
    </user>
    <user>
        <id>2</id>
        <name>Abe Elias</name>
        <email>abe@sencha.com</email>
    </user>
</users> 
```

**This is my store**

```
Ext.define('TestXml.store.Test', {
    extend : 'Ext.data.Store',
    storeId : 'testStore',
    model : 'TestXml.model.Test',
    autoLoad : 'true',
    proxy : {
        type : 'ajax',
        url : 'test.xml',
        reader : {
            type : 'xml',
            record: 'user',
            rootProperty :'users'
        }
    }

}); 
```

**This is my model**

```
Ext.define('TestXml.model.Test', {
    extend : 'Ext.data.Model',
    fields : [{
        name : 'id',
        type : 'string'
    }, {
        name : 'name',
        type : 'string'
    }

] 
```

});

**This is my app.js**

```
items: [{

         xtype : 'combo',
          store : 'testStore', //loading the store
           minWidth : 50,
            minHeight :30,
            displayField :'id',
             valueField :'name'

          }] 
```

Thanks

# iphone - 如何在ios 6中为UITabBarController的“更多”导航控制器设置背景图像

> ID：15872546
> 
> 赞同：0
> 
> 时间：2013-04-08T06:22:27.403
> 
> 标签：iphone, ios, objective-c, uitabbarcontroller

我想更改更多导航控制器的背景图像。我用谷歌搜索并尝试了以下代码。

![这是自定义标签栏或更多导航控制器图像。](https://i.stack.imgur.com/MRYRu.png)

我尝试使用下面的代码但是![!! [它越过桌面视图，如下图所示](https://i.stack.imgur.com/JJoS0.png)`] [2](https://i.stack.imgur.com/JJoS0.png)

```
self.tabBarController = [[UITabBarController alloc] init];
self.tabBarController.delegate=self;
tabBarController.moreNavigationController.delegate = self;

if ([tabBarController.moreNavigationController.topViewController.view isKindOfClass:[UITableView class]])
{
    UIView* newView = [[UIView alloc] initWithFrame:CGRectMake(0,0,320,367)];

    UIImageView* imageView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"bg.png"]];
    imageView.opaque = NO;
    imageView.alpha = 0.4;
    [newView addSubview:imageView];

    tabBarController.moreNavigationController.topViewController.view.backgroundColor = [UIColor clearColor];
    tabBarController.moreNavigationController.topViewController.view.frame = CGRectMake(0,0,320,367);
    //[newView addSubview:tabBarController.moreNavigationController.view];
[newView addSubview:tabBarController.moreNavigationController.topViewController.view];
    tabBarController.moreNavigationController.topViewController.view = newView;
} 
```

`] [2](https://i.stack.imgur.com/JJoS0.png)

任何人建议我哪里出错将不胜感激

“谢谢”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:59:42.090

[tabBarController.moreNavigationController.topViewController.view setBackgroundColor:[UIColor colorWithPatternImage:[UIImage imageNamed:@"bg.png"]]];

# javascript - Angularjs访问另一个工厂中的方法

> ID：15872550
> 
> 赞同：4
> 
> 时间：2013-04-08T06:22:41.523
> 
> 标签：javascript, angularjs, coffeescript

我有一个 AngularJS 模型，我在其中创建了一个名为 myService 的模块来保存一些我在整个应用程序中使用的常用代码。我的 Common factory 是我添加所有方法的地方，现在我想将其拆分并给它们起个好名字。

我的很多方法相互调用，那么我如何调用另一个工厂中的方法呢？

```
angular.module('myService', ['ngResource'])
  .factory('test2', ($window) ->
    return {
      foobar: () ->
        Common.test()
    }
  )  
  .factory('Common', ($window) ->
    return {
      test: () ->
        alert 'testing'
    }
  ) 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-08T06:36:51.280

你只需要注入它：

```
.factory('test2', function (Common) {
  return {
    foobar: function () {
      Common.test();
    }
  };
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-15T03:15:26.890

这就是我所做的并且工作得很好。从 Session 调用 SessionPresenters。您需要将 SessionPresenters 作为参数传递给工厂实现函数。

```
angular.module('tryme3App')
    .factory('Session', function ($resource, DateUtils, SessionPresenters) {
        return $resource('api/sessions/:id', {}, {
            'query': { method: 'GET', isArray: true},
            'get': {
                method: 'GET',
                transformResponse: function (data) {
                    data = angular.fromJson(data);

                    var result = SessionPresenters.get({id: data.id})
                    data.presenters = result; 
                    return data;
                }
            },
            'update': { method:'PUT' }
        });
    }).factory('SessionPresenters', function ($resource, DateUtils) {
        return $resource('api/session.Presenters/:id', {}, {
            'query': { method: 'GET', isArray: true},
            'get': {
                method: 'GET', isArray: true
            },
            'update': { method:'PUT' }
        });
    }); 
```

# javascript - Why should I need to add jQueryMobile Script only after all other scripts?

> ID：15872551
> 
> 赞同：0
> 
> 时间：2013-04-08T06:22:49.727
> 
> 标签：javascript, jquery, jquery-mobile

> If I add any other scripts after JQM script then my page doesn't work properly. Also according to Jqm docs I must include jQM script at the end of other scripts.
> **What's the reason behind it ?**
> Thanks

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T09:11:47.257

首先，情况并非总是如此，但在某些情况下这是必要的。任何可能导致加载到 DOM 中的页面内容发生变化的插件都必须在 jQuery Mobile 之前初始化。最好的例子是 jQuery UI。

要理解这一点，您需要了解 jQuery Mobile 的工作原理。当 jQM 初始化时，它会将所有内容加载到 DOM 中。即使这样，过程也没有结束，因为当内容被加载时，jQM 会启动标记增强过程（自定义小部件样式）。这个过程不应该被缓和，因为它可能会导致小部件初始化出现问题。

还有一件事，如果 jQuery Mobile 在页面初始化过程中检测到其他东西正在弄乱 DOM 内容，它将停止进程并显示 ajax 页面加载器。

# ios - 在越狱设备上以编程方式发送短信

> ID：15872553
> 
> 赞同：11
> 
> 时间：2013-04-08T06:22:56.110
> 
> 标签：ios, objective-c, sms, jailbreak

我正在使用 iOS 6 iphone 4S，我希望能够发送未被注意到的短信。因此，在这种情况下使用标准视图控制器将不起作用。我尝试使用

```
- (BOOL)sendSMSWithText:(id)arg1 serviceCenter:(id)arg2 toAddress:(id)arg3; 
```

但它不发送任何内容并返回 NO。我将 nil 用于 arg2。

有人可以建议一种在 iOS 6 上执行此操作的方法吗？（对于越狱设备）

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-12-06T14:06:39.283

找出为什么`- (BOOL)sendSMSWithText:(id)arg1 serviceCenter:(id)arg2 toAddress:(id)arg3;`自 iOS 6 以来无法正常工作。

此 API 受权利保护`com.apple.CommCenter.Messages-send`。只需将此权利设置为 true 即可签署您的应用程序。由于两个主要原因，它比我在这里的另一个答案（XPC 方法）要好得多：

1.  `sendSMSWithText`告诉你消息是否发送成功
2.  使用发送的消息`sendSMSWithText`没有保存在 SMS 数据库中，并且在任何地方都看不到。另一方面，使用 XPC 方法发送的消息被保存在 SMS 数据库中，并且可以在 Messages 应用程序中看到。

所以，双赢。我强烈建议放弃 XPC 方法，因为它使用了相当低级的 API，可以在新的 iOS 版本中轻松更改。`sendSMSWithText`甚至可以在 iOS 7 中找到，我认为它不会很快被删除。

**更新**

为了在 iOS 7 及更高版本上使用此 API，您需要添加另一个将 bool 值设置为 true - 的权利`com.apple.coretelephony.Identity.get`。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-05-08T23:21:38.233

直接来自 ChatKit.framework

```
dispatch_queue_t queue = dispatch_queue_create("com.apple.chatkit.clientcomposeserver.xpc_connection_queue", DISPATCH_QUEUE_SERIAL);
xpc_connection_t connection = xpc_connection_create_mach_service("com.apple.chatkit.clientcomposeserver.xpc", queue, 0);
xpc_connection_set_event_handler(connection, ^(xpc_object_t){});
xpc_connection_resume(connection);
dispatch_release(queue);

xpc_object_t dictionary = xpc_dictionary_create(0, 0, 0);
xpc_dictionary_set_int64(dictionary, "message-type", 0);
NSData* recipients = [NSPropertyListSerialization dataWithPropertyList:[NSArray arrayWithObject:@"12212"] format:NSPropertyListBinaryFormat_v1_0 options:0 error:NULL];
xpc_dictionary_set_data(dictionary, "recipients", recipients.bytes, recipients.length);
xpc_dictionary_set_string(dictionary, "markup", "SMS text");

xpc_connection_send_message(connection, dictionary);
xpc_release(dictionary); 
```

`recipients`保存序列化的属性列表，其中包含您要向其发送 SMS 的电话号码数组 -`12212`只是电话号码的一个示例。而不是`SMS text`你应该把实际的短信文本。不幸的是，我找不到检查短信是否发送成功的方法。

要使用此代码发送消息，您的应用程序权利应具有`com.apple.messages.composeclient`将布尔值设置为 true 的键。否则，您会在控制台中收到错误消息，称应用程序缺少权限。

# php - Find the number of objects in a json array

> ID：15872554
> 
> 赞同：14
> 
> 时间：2013-04-08T06:22:57.797
> 
> 标签：php, json

I have searched a lot and I found few methods to find the length of my JSON array. I have tried:

1.  `count`
2.  `json.length`

but these return 1, instead of the actual length. I want to show it using PHP.

My json is:

```
$huge = '[{"location":[{"building":["Default Building"],"name":"Default Location"}],"name":"Default Organization"},{"location":[{"building":["test_loc1_building1","test_loc1_building2"],"name":"test location1"},{"building":["test_loc2_building2"],"name":"test location2"}],"name":"test Organization"}]'; 
```

How can I find the number of objects in my JSON array?

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-04-08T06:35:50.913

您需要[解码 json](http://php.net/manual/en/function.json-decode.php)对象，然后计算其中的元素..

```
 $json_array  = json_decode($json_string, true);
 $elementCount  = count($json_array); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-08T06:26:04.127

You'll need to decode into PHP arrays before you do any work with the data.

Try:

```
$hugeArray = json_decode($huge, true); // Where variable $huge holds your JSON string.

echo count($hugeArray); 
```

If you need to count to a lower depth, you'll need to iterate through the array.

For example, if you want to count the number of elements in the next layer, you can do:

```
foreach ($hugeArray as $key => $value) {
    echo $key.' - '.count($value);
} 
```

However, this isn't necessarily meaningful because it depends on *what you are trying to count, what your goal is*. This block only counts the number of elements 1 layer underneath, regardless of what the actual numbers could mean.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T06:27:07.740

首先解码你的`json`，然后使用`count`它。

```
$huge='[{"location":[{"building":["Default Building"],"name":"Default Location"}],"name":"Default Organization"},{"location":[{"building":["test_loc1_building1","test_loc1_building2"],"name":"test location1"},{"building":["test_loc2_building2"],"name":"test location2"}],"name":"test Organization"}]';
$arr = json_decode($huge,true);
echo count($arr); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T07:07:37.743

> 对象（key:value 对的无序集合，使用 ':' 字符分隔键和值，以逗号分隔并用大括号括起来；...）

[维基百科：JSON](http://en.wikipedia.org/wiki/JSON#Data_types.2C_syntax_and_example)

所以，你所要做的只是计算打开的花括号。

```
substr_count($huge , '{'); 
```

但是......如果你在 json 中存储一些带有 '{' 的字符串，你就不能这样做。这样，您必须编写自己的简单解析器或正则表达式。

但是...... json_decode 的简单方法。如果要获取json中**所有对象的计数，请使用递归函数。**

```
function count_objects($value)
    {
    if (is_scalar($value) || is_null($value))
        $count = 0;
    elseif (is_array($value))
        {
        $count = 0;
        foreach ($value as $val)
            $count += count_objects($val);
        }
    elseif (is_object($value))
        {
        $count = 1;
        $reflection_object = new \ReflectionObject($value);
        foreach ($reflection_object->getProperties() as $property)
            {
            $count +=count_objects($property->getValue($value));
            }
        }

    return $count;
    }

$huge = '[{"location":[{"building":["Default Building"],"name":"Default Location"}],"name":"Default Organization"},{"location":[{"building":["test_loc1_building1","test_loc1_building2"],"name":"test location1"},{"building":["test_loc2_building2"],"name":"test location2"}],"name":"test Organization"}]';

echo count_objects(json_decode($huge)); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-03-13T12:33:18.793

我们可以使用“.sizeof()”函数。所以

# java - 为什么我不能在 Java 中构造这样的字符串数组？

> ID：15872566
> 
> 赞同：1
> 
> 时间：2013-04-08T06:23:56.037
> 
> 标签：java, arrays, compiler-errors, initialization

我正在尝试初始化如下所示的字符串数组，但它有一个错误。

```
public class Account{
    private String[] account;

    public Account()
    {
        account = {"A", "B", "C"};
    }
} 
```

有谁知道为什么它不断产生错误？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-08T06:24:39.353

在构造函数中使用的正确语法是

```
account = new String[]{"A", "B", "C"}; 
```

您尝试使用的快捷语法仅在声明时允许使用：

```
private String[] account = {"A", "B", "C"}; 
```

至于*为什么*要区分，请参阅[为什么数组常量只能在初始化器中使用？](https://stackoverflow.com/questions/10520617/why-array-constants-can-only-be-used-in-initializer)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:27:35.270

参考：[数组常量只能用于初始化错误](https://stackoverflow.com/questions/6348479/arrays-constants-can-only-be-used-in-initializers-error)

另请参阅：[为什么数组常量只能在初始化程序中使用？](https://stackoverflow.com/questions/10520617/why-array-constants-can-only-be-used-in-initializer)

“如果要使用数组初始值设定项，则不能拆分声明和赋值。”

# lua - 使用单词索引读取 lua 表给出随机顺序

> ID：15872567
> 
> 赞同：1
> 
> 时间：2013-04-08T06:24:00.393
> 
> 标签：lua, indexing, lua-table

以下是读取带有单词索引的表的 lua 代码。将其读入另一个表并在输出中打印会在每次运行时给出随机顺序。

```
earthquakes = {
        date8 = "1992/01/17",
        date7 = "1971/02/09",
        date6 = "2010/04/04",
        date5 = "1987/10/19"
}
sf = string.format
earthquake_num ={}

for k, v in pairs(earthquakes) do
        table.insert(earthquake_num, {key=k,value=v})
end

for i, v in pairs (earthquake_num) do
print(sf(" row %d key = %s", i, v.value))
end 
```

* * *

输出：每次以不同的顺序

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:09:42.910

这是Lua 5.2.1的[特殊功能](https://stackoverflow.com/a/11975401/1847592)
:-) 但是这个功能是为了什么而引入的？
无论如何，您不应该依赖`pairs`函数生成的排序。

* * *

**编辑：**
引入此功能是为了对抗使用 Lua 的 Web 服务器上的[哈希冲突攻击。](http://lua-users.org/wiki/HashDos)
随机散列算法可防止轻松生成具有相等散列的字符串。
函数生成的表键的顺序`pairs`取决于字符串类型键的字符串哈希，因此字符串键碰巧在每次程序运行时都混淆了。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-08T09:53:56.003

来自[Lua PiL](http://www.lua.org/pil/7.3.html)上的迭代器：

> 迭代表中所有元素的`pairs`函数是类似的，除了迭代器函数是下一个函数，它是 Lua 中的原始函数：
> 
> ```
> function pairs (t)
>   return next, t, nil
> end 
> ```
> 
> 调用 next(t, k)，其中 k 是表 t 的键，***以任意顺序***返回表中的下一个键。（它还返回与该键关联的值，作为第二个返回值。）调用 next(t, nil) 返回第一对。当没有更多对时，next 返回 nil。

以及状态的枚举`next`：

> ## `next (table [, index])`
> 
> 未指定枚举索引的顺序， **`even for numeric indices`**。（要按数字顺序遍历表，请使用数字 for 或 ipairs 函数。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:30:05.557

正如 Egor 所说，pairs 迭代器以任意顺序返回表值。要对数据进行排序并以序列格式返回，您需要使用 ipairs 例如

```
earthquakes = {
        date8 = "1992/01/17",
        date7 = "1971/02/09",
        date6 = "2010/04/04",
        date5 = "1987/10/19"
}
sf = string.format
earthquake_num ={}

for k, v in pairs(earthquakes) do
        table.insert(earthquake_num, {key=k,value=v})
end
table.sort(earthquake_num,function(a, b) return a.value < b.value end)
for i, v in ipairs (earthquake_num) do
print(sf(" row %d key = %s", i, v.value))
end 
```

有关更多信息，请参见[lua: 遍历表中的所有对。](https://stackoverflow.com/questions/12584258/lua-iterate-through-all-pairs-in-table)

# c# - MultiUser login in a single facebook app

> ID：15872572
> 
> 赞同：0
> 
> 时间：2013-04-08T06:24:25.303
> 
> 标签：c#, facebook

I am creating a application in C# that uses face recognition as authentication method,after logging in it gets detail from the user's facebook account.

If first user just locks the app instead of logging out from facebook,another user comes in ,do i have to logout the first user for the second user to log in ,or i can login both users in a single app?Is it possible using the facebook sdk?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:57:17.340

您必须使用 session 来跟踪正在登录的各种用户。

简而言之，如果您正确实施会话，您可以让多个用户同时登录。

# javascript - JavaScript 中 x = +x 的效果

> ID：15872575
> 
> 赞同：7
> 
> 时间：2013-04-08T06:24:29.260
> 
> 标签：javascript

通过[asm.js](http://asmjs.org/spec/latest/)文档，我在整个示例代码中观察到了这个奇怪的（至少对我来说，对 JS 来说很新）片段：

```
function test(x) {
    x = +x; // THIS
    ...
    return +(x*y);
} 
```

`+`第一行的目的是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T06:27:59.657

它只是用于`casting`具有另一种类型的值来编号。此外，`NaN`如果该`+`符号之后的值无法转换为`number`.

**[小提琴](http://jsfiddle.net/FStMy/)**

**来自 Javascript and Jquery - The Missing Maunal 一书**

```
var numOfShoes = '2';
var numOfSocks = 4;
var totalItems = +numOfShoes + numOfSocks; 
```

在变量前添加一个 + 号（确保两者之间没有空格）告诉 JavaScript 解释器尝试将字符串转换为数字值——如果字符串只包含像“2”这样的数字，你最终会得到字符串转换为数字。在此示例中，您最终得到 6 (2 + 4)。另一种技术是使用 Number() 命令，如下所示：

```
var numOfShoes = '2';
var numOfSocks = 4;
var totalItems = Number(numOfShoes) + numOfSocks; 
```

如果可能，Number() 将字符串转换为数字。（如果字符串只是字母而不是数字，你会得到 NaN 值来表明你不能把字母变成数字。）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-08T06:29:58.423

也许我读错了，但从规范[http://asmjs.org/spec/latest/#parameter-type-annotations](http://asmjs.org/spec/latest/#parameter-type-annotations)

那是把它当作双重的吗？

# c# - How to read a .sil (SmartInspect file) log file using c#

> ID：15872580
> 
> 赞同：2
> 
> 时间：2013-04-08T06:24:49.657
> 
> 标签：c#, readfile

I am currently using SmartInspect logging tool in my c# application, and now I am able to get the log files, and the log file is having extension ".sil" (ex:log-2013-04-04-08-22-05.sil"). Now my requirement is I need to read this log file from my c# application. I have tried all file reading concepts to read the log file but it's not working . Please suggests me a code how I will read the .sil file from a c# application.

When I am copying the file contents from SmartInspect logging tool and pasting in a normal txt file then it is working to get the file contents, but I am not able to read the .sil file using c# application.Please help...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T06:31:27.857

您需要实现自己的日志文件解析器。日志文件的格式记录在这里[`SmartInspect Log Formats and Protocols`](http://www.gurock.com/smartinspect/smartinspect-log-formats-and-protocols.a.html)

正如我注意到的那样， SmartInspect 将其**`own format`**用于 ErrorLogging，我不使用`XML`或`Plain Text`

一个典型的`*.sil`文件开始像

![典型的 sil 文件日志](https://i.stack.imgur.com/B7QME.png)

您可以使用免费[`Redistributable Console`](http://www.gurock.com/smartinspect/extras/)的文件来阅读。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T07:31:59.997

这里的 SmartInspect 开发人员之一。我们还有一个现成的 .NET SDK，允许您读取和处理 SmartInspect 日志文件：

[http://www.gurock.com/smartinspect/extras/](http://www.gurock.com/smartinspect/extras/)

# sql - 在 django 中使用 objects.extra 进行查询

> ID：15872585
> 
> 赞同：1
> 
> 时间：2013-04-08T06:25:20.393
> 
> 标签：sql, django, postgresql

我如何使用 to_tsquery 查询部分单词匹配

例如记录

```
'hello old world'
'hello world'
'hi welcome'
'hi' 
```

在这里，我想返回所有包含“你好”或“欢迎”的记录

```
SELECT * FROM accounts_order
WHERE name_tsvector @@ to_tsquery('english','hello | welcome'); 
```

这会正确返回。在这里，我尝试使用 django 'objects.extra' 查询来实现

```
queryset = Order.objects.extra(where=['name_tsvector @@ to_tsquery(%s|%s)'], params=['hello','welcome']) 
```

此查询不起作用，出现异常

```
operator is not unique: unknown | unknown
LINE 1: ...nts_order" WHERE name_tsvector @@ to_tsquery(E'olmin'|E'20')
                                                            ^
HINT:  Could not choose a best candidate operator. You might need to add explicit type casts. 
```

我怎样才能将此参数部分作为列表传递？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:29:40.870

看来您想要`|`字符串中的 ，即`OR`中的布尔值`tsquery`：

```
regress=> select to_tsquery('english', 'olmin|20');
   to_tsquery   
----------------
 'olmin' | '20'
(1 row) 
```

Django 正在扩展`%s`，`E'string'`所以你不能写`%s|%s`；正如您所看到的，扩展为`E'string1'|E'string2'`which 被解释为`OR`两个字符串上的布尔值。您必须：

*   `|`在 Django中将两个字符串和（例如）`params=['hello'+'|'+'welcome']`和一个`(%s)`参数连接起来；或者
*   让 Pg 将两个字符串与文字连接起来`|`，例如`(%s||'|'||%s)`

我推荐第一个选项；它要求您更改从 Python 传递的参数，但它会产生非常简单的 SQL。

原件无效，它试图`OR`对两个字符串文字执行布尔运算：

```
regress=> select to_tsquery('english', 'olmin'|'20');
ERROR:  operator is not unique: unknown | unknown
LINE 1: select to_tsquery('english', 'olmin'|'20');
                                            ^
HINT:  Could not choose a best candidate operator. You might need to add explicit type casts. 
```

# iphone - NSNotification 未从 appDelegate 在 View Controller 中接收

> ID：15872586
> 
> 赞同：0
> 
> 时间：2013-04-08T06:25:32.353
> 
> 标签：iphone, ios, objective-c, nsnotificationcenter

你好我在appdelegate.m的方法中分配nsnotifiaction，这个方法每30秒调用一次eprox，我希望它在viewcontroller和execute方法中的通知，这是我的appdelegate.m代码

```
- (void)layoutAnimated:(BOOL)animated{
    BOOL yy=    self.bannerView.bannerLoaded;
    if (yy==1){
        self.iAdString=[NSMutableString stringWithString:@"1"];
         [[NSNotificationCenter defaultCenter] postNotificationName:@"BannerViewActionWillBegin" object:self];
     }
   else{
      self.iAdString=[NSMutableString stringWithString:@"0"];
      [[NSNotificationCenter defaultCenter] postNotificationName:@"BannerViewActionDidFinish" object:self];
     }
} 
```

在 viewcontroller.m

//我在viewdidload方法中定义

```
- (void)viewDidLoad{
    [super viewDidLoad];
  [[NSNotificationCenter defaultCenter] addObserver:self     selector:@selector(willBeginBannerViewActionNotification:) name:@"BannerViewActionWillBegin "object:nil];
    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(didFinishBannerViewActionNotification:) name:@"BannerViewActionDidFinish" object:nil];
} 
```

它的方法是..

```
- (void)willBeginBannerViewActionNotification:(NSNotification *)notification{
    [self.view addSubview:self.app.bannerView];
     NSLog(@"come");
}

- (void)didFinishBannerViewActionNotification:(NSNotification *)notification {
     NSLog(@"come");
    [self.app.bannerView removeFromSuperview];
}

- (void)dealloc{
    [[NSNotificationCenter defaultCenter] removeObserver:self];
} 
```

在 appdelegate 文件中读取方法时，我没有得到过多方法的响应。

请帮我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T06:31:16.210

你有一个拼写错误。

```
[[NSNotificationCenter defaultCenter] addObserver:self     selector:@selector(willBeginBannerViewActionNotification:) name:@"BannerViewActionWillBegin "object:nil];

//Your error here-------------------------------------------------------------------------------------------------------------------------------------^ 
```

**你在那里放了一个空间。**

*旁注：*对于所有通知名称，您应该/可以创建一个单独的文件并将所有通知名称作为常量字符串。

```
const NSString *kBannerViewActionWillBegin=@"BannerViewActionWillBegin"; 
```

这将更容易更改值，并且不会发生此类错字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:37:49.743

从您的代码中，除了通知名称之外，我得到的所有其他内容都很好，您是否检查过通知是否被触发。尝试在通知触发线上保留断点。

# forms - 表单外的表单动作

> ID：15872589
> 
> 赞同：0
> 
> 时间：2013-04-08T06:26:03.490
> 
> 标签：forms

有没有办法可以在表单之外设置提交表单操作？例如，这就是我所拥有的：

```
<input type='hidden' name='action' value='update' />
<input type='submit' value='Save' /> 
```

但我想创建一个文本链接来实现相同的操作，例如：

> <...此处的操作...>保存<...>

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:35:27.543

```
<form id="yourFormId" action="..." method="...">
    <!-- Your form fields -->
</form> 
```

稍后在您的页面上：

```
<button onclick="document.getElementById('yourFormId').submit()">SAVE</button> 
```

# android - 我在哪里可以找到 Android 样式项目的列表？

> ID：15872592
> 
> 赞同：18
> 
> 时间：2013-04-08T06:26:08.450
> 
> 标签：android

在哪里可以找到`items`android 样式 xml 中所有可能的列表？似乎一个单独的参考文档列出了它们并总结了它们所做的事情，这将是一件非常有用的事情，可以添加书签，但我在任何地方都找不到。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-08T06:30:06.273

在这里，您可以在单个文件中找到所需的每个属性：[https ://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/res/res/values/styles.xml](https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/res/res/values/styles.xml)

如果你只想要属性列表，那么你可以直接参考[**R.style**](http://developer.android.com/reference/android/R.style.html) xml，但它没有很好的文档记录，所以最好查看上面链接中给出的实际源代码。

# javascript - PhantomJS Cookies

> ID：15872594
> 
> 赞同：0
> 
> 时间：2013-04-08T06:26:12.923
> 
> 标签：javascript, phantomjs, qunit, chutzpah

I'm trying to run some [QUnit](http://qunitjs.com/) test cases with [phantomJS](http://phantomjs.org/) and chutzpah console. I'm having difficulties communicate with the phantomJS cookies. My test case runs perfectly with the browser communicating with the but not with phantomJS as it gives an error with the cookie.

Does the phantomJS deals with Cookies in a different pattern than the other browsers? any suggestions?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T14:12:36.860

你有至少 1.7 版的 PhantomJS 吗？在发行说明中它指出：

> PhantomJS 1.7 “Blazing Star”，于 2012 年 9 月 22 日发布。它增加了模块系统支持（仿照 CommonJS）、**更好的 cookie 处理**以及其他一些小的改进。

[http://phantomjs.org/release-1.7.html](http://phantomjs.org/release-1.7.html)

# jquery - jQuery Accordion 仅显示其中具有特定控件的 Div

> ID：15872595
> 
> 赞同：0
> 
> 时间：2013-04-08T06:26:17.307
> 
> 标签：jquery, accordion, webforms

我只想显示具有特定控件可用的 div，否则所有其他 div 都被隐藏；

```
<script type="text/javascript">
    $(document).ready(function () {
        $('#<%= buttonRegister.ClientID %>').click(function (e) {
            e.preventDefault();
            var control = $('#<%= TextBoxDateOfAdmission.ClientID %>');
            var admissionValue = control.val();
            if (admissionValue == '') {
                // hide all the divs
                $(".wizard_menu div.wizard_body").hide();
                // i want to show only the div that has a control with id=TextBoxDateOfAdmission
                $('.wizard_menu div.wizard_body')
                                    .has(control).length ? $(".wizard_menu div.wizard_body").show() : $(".wizard_menu div.wizard_body").hide();
            }
        });
    });
</script> 
```

**注意：**我无法粘贴我的 html 代码，因为它太长了。我有 5 个 div，`class=wizard_menu`
我还使用它测试了我的代码，以证明它是否有效

```
$('.wizard_menu div.wizard_body')
         .has(control).length ? alert("true") : alert("false"); 
```

结果是真的；
**所以，现在我只想显示其中有一个特定控件（在本例中为 TextBoxDateOfAdmission）的 div**
**更新：**我的代码的结果是它显示了所有扩展的 div。但是，我只想要一个扩展或显示具有特定控件可用的 div

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T10:30:53.093

我直接使用 .show() 解决了这个问题；

```
 $('.wizard_menu div.wizard_body')
                .has(control)
                .show(); 
```

# java - Error while getting data Using RMI from services into WEB application

> ID：15872596
> 
> 赞同：0
> 
> 时间：2013-04-08T06:26:17.653
> 
> 标签：java, jakarta-ee, spring-mvc, rmi

I am getting following exception while I am trying to get list of tasks, from services that I have written which are supporting hibernate 4, into web application which supports hibernate 3

java.rmi.UnmarshalException: error unmarshalling return; nested exception is: java.lang.ClassNotFoundException: org.hibernate.collection.internal.PersistentBag (no security manager: RMI class loader disabled)

```
 Services       ------------------>      WEB 
             (Hibernate 4)                           (Hibernate 3) 
```

Web trying to get data from services through RMI and getting above excpetion

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:38:37.857

显然，您的客户看不到您服务中的课程。实现此目的的方法之一是拥有一个共享的 rmi 代码库。考虑以下脚本，将 lib 文件夹中的所有 jar 和 dist 文件夹中的主 jar 添加到 rmi 代码库，并使它们对客户端可见：

```
#!/bin/bash
lib_path=lib
artefact=name-of-your.jar
for file in $(ls $lib_path); do
 lib=$lib:$lib_path/$file
 rmicodebase="$rmicodebase file:$PWD/$lib_path/$file"
done

lib=$lib:dist/$artefact:etc
rmicodebase="$rmicodebase file:$PWD/dist/$artefact"
CLASSPATH=classes:etc:$lib
echo CLASSPATH: $CLASSPATH
echo rmicodebase=$rmicodebase

java -Xmx64M -Xms64M -classpath $CLASSPATH -Djava.rmi.server.codebase="$rmicodebase" $* 
```

我假设您在服务器的中央进程中有一个共享的 rmi 注册表。实现类可见性的另一种可能性是在服务器进程中运行一个单独的 rmi 注册表：

```
java.rmi.registry.LocateRegistry.createRegistry(port) 
```

并让您的客户端连接到此注册表。

问候莱昂

# jquery - Jquery rotate divs

> ID：15872599
> 
> 赞同：0
> 
> 时间：2013-04-08T06:26:27.323
> 
> 标签：jquery, html, rotation

i have question because i can´t find one plugin in jquery for do this

I need have for example 10 divs containers , these divs show with float left with his id , etc , i need plugin or something can show the number i want from this 10 , 20 , etc divs and show in groups of 4 , 3 , or the number i want and rotate or move

For example show first 4 divs and after 8 , ..... etc and select the effect for this transition

I need this , i see many plugins but no works for show this , also if this plugin or script , etc can let manual ( manual or auto rotate - no search sliders ) move with arrows etc perfect but the most important show only the number of divs i want and rotate these and show the other divs and when go to the end show other time the first div , etc

Thank´s sorry if no understand perfectly all

Regards !!!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T09:36:48.663

[QTransform](https://github.com/puppybits/QTransform)允许您旋转、倾斜、缩放和平移，并且可以跨浏览器工作。

下载并包含在`QTransform.js`您的 html 中。

`<script src="js/qTransform.js"></script>`

为您的 div 提供一个固定的高度-宽度并添加以下脚本：

```
$('#box4').delay(300).animate({rotate: '20deg'}, 500);
$('#box5').delay(700).animate({rotate: '50deg'}, 500);
$('#box6').delay(1200).animate({rotate: '80deg'}, 500); 
```

其中（box4、box5 和 box6 是我的 div id）。

在`delay(300), delay(700) & delay(1200)`300、500 和 1200 毫秒后开始动画。最后的 500 是动画的持续时间。

如果要手动提供旋转角度，可以这样做：

取变量中的角度。例如

```
var degAngle = 60; 
```

并将其添加到脚本中

```
$('#box4').delay(300).animate({rotate: degAngle+'deg'}, 500); 
```

您还可以提供多种效果，例如缩放和旋转。例如，

```
$('#box4').delay(300).animate({scale: '1.5', rotate: '20deg'}, 500); 
```

**为什么选择 QTransform？**

到目前为止，jQuery 不支持 CSS3 动画。这个插件可以帮助你完成你的目标。

希望这对你有用。

# java - 我将如何通过 java 在 iTunes 中播放特定歌曲？

> ID：15872600
> 
> 赞同：1
> 
> 时间：2013-04-08T06:26:28.247
> 
> 标签：java, controls, itunes, playback

我将如何通过 java 在 iTunes 中播放特定歌曲？

我假设我需要以某种方式连接到 iTunes 并使用带有特定参数的播放功能......谁能指出我正确的方向来学习如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:59:25.467

根据[那个](https://stackoverflow.com/questions/664949/where-is-documentation-for-the-itunes-api-on-os-x)答案，没有API。Windows 只有一个 SDK（通过 COM）。在 Mac OS 中，iTunes 是通过 AppleScript（[示例](http://dougscripts.com/itunes/itinfo/info01.php)）控制的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-13T07:27:54.640

我知道为时已晚，但你可以使用苹果脚本编辑器。例如，

```
Runtime runtime = Runtime.getRuntime();
                String[] args = {"osascript" , "-e" , "tell application \"iTunes\" to play"};
                try{
                Process process = runtime.exec(args);
                }catch (Exception ex) {                 
                } 
```

这将在 iTunes 中播放一首歌曲

# java - get sequence number for simulated rtp packet

> ID：15872605
> 
> 赞同：0
> 
> 时间：2013-04-08T06:26:39.653
> 
> 标签：java, network-programming, voip, rtp

> i try to make my own RTP packet with java, and i have send my packet together with other VoIP's RTP packet.

PROBLEM :

> in receiver, my packet was detected as packet loss because my packet did'nt have sequence number series with VoIP's RTP packet.

QUESTION:

> how can i get series sequence number for my simulated rtp packet?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:42:53.723

序列号可以在 RTP 数据包的第 3 和第 4 个八位字节中找到。

RTP 序列号必须是串联的。如果您尝试将 RTP 数据包插入另一个应用程序发送的另一个流中，接收应用程序将检测到乱序数据包（如果数字不连续）或重复数据包（如果序列号相同）。在这两种情况下，这很可能会导致丢包。

有关完整详细信息，请参阅 RFC 3550（特别是描述包括丢包检测在内的算法的附录 A）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-21T15:43:27.920

见下文 Mobicents 项目的实施。

```
/*
 * JBoss, Home of Professional Open Source
 * Copyright 2011, Red Hat, Inc. and individual contributors
 * by the @authors tag. See the copyright.txt in the distribution for a
 * full listing of individual contributors.
 *
 * This is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as
 * published by the Free Software Foundation; either version 2.1 of
 * the License, or (at your option) any later version.
 *
 * This software is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this software; if not, write to the Free
 * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA, or see the FSF site: http://www.fsf.org.
 */

package org.mobicents.media.server.impl.rtp;

import java.io.Serializable;
import java.nio.ByteBuffer;

/**
 * A data packet consisting of the fixed RTP header, a possibly empty list of
 * contributing sources, and the payload data. Some underlying protocols may
 * require an encapsulation of the RTP packet to be defined. Typically one
 * packet of the underlying protocol contains a single RTP packet,
 * but several RTP packets may be contained if permitted by the encapsulation
 * method
 *
 * @author Oleg Kulikov
 * @author amit bhayani
 */
public class RtpPacket implements Serializable {

    //underlying buffer
    private ByteBuffer buffer;

    /**
     * Creates new instance of RTP packet.
     *
     * @param capacity the maximum available size for packet.
     * @param allocateDirect if false then packet will use backing array to hold
     * raw data and if true the direct buffer will be allocated
     */
    public RtpPacket(int capacity, boolean allocateDirect) {        
        buffer = allocateDirect ? 
            ByteBuffer.allocateDirect(capacity) :
            ByteBuffer.allocate(capacity);
    }

    /**
     * Provides access to the underlying buffer.
     *
     * @return the underlying buffer instance.
     */
    protected ByteBuffer getBuffer() {
        return buffer;
    }

    /**
     * Verion field.
     *
     * This field identifies the version of RTP. The version defined by
     * this specification is two (2). (The value 1 is used by the first
     * draft version of RTP and the value 0 is used by the protocol
     * initially implemented in the "vat" audio tool.)
     *
     * @return the version value.
     */
    public int getVersion() {
        return (buffer.get(0) & 0xC0) >> 6;
    }

    /**
     * Countributing source field.
     *
     * The CSRC list identifies the contributing sources for the
     * payload contained in this packet. The number of identifiers is
     * given by the CC field. If there are more than 15 contributing
     * sources, only 15 may be identified. CSRC identifiers areinserted by
     * mixers, using the SSRC identifiers of contributing
     * sources. For example, for audio packets the SSRC identifiers of
     * all sources that were mixed together to create a packet are
     * listed, allowing correct talker indication at the receiver.
     *
     * @return synchronization source.
     */
    public int getContributingSource() {
        return buffer.get(0) & 0x0F;
    }

    /**
     * Padding indicator.
     *
     * If the padding bit is set, the packet contains one or more
     * additional padding octets at the end which are not part of the
     * payload. The last octet of the padding contains a count of how
     * many padding octets should be ignored. Padding may be needed by
     * some encryption algorithms with fixed block sizes or for
     * carrying several RTP packets in a lower-layer protocol data
     * unit.
     *
     * @return true if padding bit set.
     */
    public boolean hasPadding() {
        return (buffer.get(0) & 0x20) == 0x020;
    }

    /**
     * Extension indicator.
     *
     * If the extension bit is set, the fixed header is followed by
     * exactly one header extension.
     *
     * @return true if extension bit set.
     */
    public boolean hasExtensions() {
        return (buffer.get(0) & 0x10) == 0x010;
    }

    /**
     * Marker bit.
     *
     * The interpretation of the marker is defined by a profile. It is
     * intended to allow significant events such as frame boundaries to
     * be marked in the packet stream. A profile may define additional
     * marker bits or specify that there is no marker bit by changing
     * the number of bits in the payload type field
     *
     * @return true if marker set.
     */
    public boolean getMarker() {
        return (buffer.get(1) & 0xff & 0x80) == 0x80;
    }

    /**
     * Payload type.
     *
     * This field identifies the format of the RTP payload and
     * determines its interpretation by the application. A profile
     * specifies a default static mapping of payload type codes to
     * payload formats. Additional payload type codes may be defined
     * dynamically through non-RTP means
     *
     * @return integer value of payload type.
     */
    public int getPayloadType() {
        return (buffer.get(1) & 0xff & 0x7f);
    }

    /**
     * Sequence number field.
     *
     * The sequence number increments by one for each RTP data packet
     * sent, and may be used by the receiver to detect packet loss and
     * to restore packet sequence. The initial value of the sequence
     * number is random (unpredictable) to make known-plaintext attacks
     * on encryption more difficult, even if the source itself does not
     * encrypt, because the packets may flow through a translator that
     * does.
     *
     * @return the sequence number value.
     */
    public int getSeqNumber() {

        short sn = buffer.getShort(2);      
        return (sn & 0xffff);

    }

    /**
     * Timestamp field.
     *
     * The timestamp reflects the sampling instant of the first octet
     * in the RTP data packet. The sampling instant must be derived
     * from a clock that increments monotonically and linearly in time
     * to allow synchronization and jitter calculations.
     * The resolution of the clock must be sufficient for the
     * desired synchronization accuracy and for measuring packet
     * arrival jitter (one tick per video frame is typically not
     * sufficient).  The clock frequency is dependent on the format of
     * data carried as payload and is specified statically in the
     * profile or payload format specification that defines the format,
     * or may be specified dynamically for payload formats defined
     * through non-RTP means. If RTP packets are generated
     * periodically, the nominal sampling instant as determined from
     * the sampling clock is to be used, not a reading of the system
     * clock. As an example, for fixed-rate audio the timestamp clock
     * would likely increment by one for each sampling period.  If an
     * audio application reads blocks covering 160 sampling periods
     * from the input device, the timestamp would be increased by 160
     * for each such block, regardless of whether the block is
     * transmitted in a packet or dropped as silent.
     *
     * The initial value of the timestamp is random, as for the sequence
     * number. Several consecutive RTP packets may have equal timestamps if
     * they are (logically) generated at once, e.g., belong to the same
     * video frame. Consecutive RTP packets may contain timestamps that are
     * not monotonic if the data is not transmitted in the order it was
     * sampled, as in the case of MPEG interpolated video frames. (The
     * sequence numbers of the packets as transmitted will still be
     * monotonic.)
     *
     * @return timestamp value
     */
    public long getTimestamp() {
        return ((long)(buffer.get(4) & 0xff) << 24) |
               ((long)(buffer.get(5) & 0xff) << 16) |
               ((long)(buffer.get(6) & 0xff) << 8)  |
               ((long)(buffer.get(7) & 0xff));
    }

    /**
     * Synchronization source field.
     *
     * The SSRC field identifies the synchronization source. This
     * identifier is chosen randomly, with the intent that no two
     * synchronization sources within the same RTP session will have
     * the same SSRC identifier. Although the
     * probability of multiple sources choosing the same identifier is
     * low, all RTP implementations must be prepared to detect and
     * resolve collisions.  Section 8 describes the probability of
     * collision along with a mechanism for resolving collisions and
     * detecting RTP-level forwarding loops based on the uniqueness of
     * the SSRC identifier. If a source changes its source transport
     * address, it must also choose a new SSRC identifier to avoid
     * being interpreted as a looped source.
     * 
     * @return the sysncronization source 
     */
    public long getSyncSource() {
        return ((long)(buffer.get(8) & 0xff) << 24) |
               ((long)(buffer.get(9) & 0xff) << 16) |
               ((long)(buffer.get(10) & 0xff) << 8) |
               ((long)(buffer.get(11) & 0xff));
    }

    /**
     * The number of bytes transmitted by RTP in a packet.
     *
     * @return the number of bytes.
     */
    public int getPayloadLength() {
        return buffer.limit() - 12;
    }

    /**
     * Reads the data transported by RTP in a packet, for example
     * audio samples or compressed video data.
     *
     * @param buff the buffer used for reading
     * @param offset the initial offset inside buffer.
     */
    public void getPayload(byte[] buff, int offset) {
        buffer.position(12);
        buffer.get(buff, offset, buffer.limit() - 12);
    }

    /**
     * Encapsulates data into the packet for transmission via RTP.
     *
     * @param mark mark field
     * @param payloadType payload type field.
     * @param seqNumber sequence number field
     * @param timestamp timestamp field
     * @param ssrc synchronization source field
     * @param data data buffer
     * @param offset offset in the data buffer
     * @param len the number of bytes
     */
    public void wrap(boolean mark, int payloadType, int seqNumber, long timestamp, long ssrc, byte[] data, int offset, int len) {
        buffer.clear();
        buffer.rewind();

        //no extensions, paddings and cc
        buffer.put((byte)0x80);

        byte b = (byte) (payloadType);
        if (mark) {
            b = (byte) (b | 0x80);
        }

        buffer.put(b);

        //sequence number
         buffer.put((byte) ((seqNumber & 0xFF00) >> 8));
         buffer.put((byte) (seqNumber & 0x00FF));

         //timestamp
         buffer.put((byte) ((timestamp & 0xFF000000) >> 24));
         buffer.put((byte) ((timestamp & 0x00FF0000) >> 16));
         buffer.put((byte) ((timestamp & 0x0000FF00) >> 8));
         buffer.put((byte) ((timestamp & 0x000000FF)));

         //ssrc
         buffer.put((byte) ((ssrc & 0xFF000000) >> 24));
         buffer.put((byte) ((ssrc & 0x00FF0000) >> 16));
         buffer.put((byte) ((ssrc & 0x0000FF00) >> 8));
         buffer.put((byte) ((ssrc & 0x000000FF)));

         buffer.put(data, offset, len);
         buffer.flip();
         buffer.rewind();
    }

    @Override
    public String toString() {
        return "RTP Packet[marker=" + getMarker() + ", seq=" + getSeqNumber() +
                ", timestamp=" + getTimestamp() + ", payload_size=" + getPayloadLength() +
                ", payload=" + getPayloadType() + "]";
    }

} 
```

# jsp - Jetty：使用 ant 预编译 JSP

> ID：15872606
> 
> 赞同：0
> 
> 时间：2013-04-08T06:26:43.307
> 
> 标签：jsp, ant, jetty, precompile

我正在尝试使用 Jetty 预编译我的 JSP 文件，因此我不必为我的 Jetty 项目提供编译器。我正在使用 Ant 来实现这一点，但出现错误，我不知道如何解决。

> taglibs.jsp(4,62) PWC6188：绝对 uri： http: [//java.sun.com/jsp/jstl/core](http://java.sun.com/jsp/jstl/core)无法在 web.xml 或随此应用程序部署的 jar 文件中解析

我正在使用另一个 StackOverflow 问题中提到的以下 ant 脚本： [precompile jsps into classes for Jetty8 using ant](https://stackoverflow.com/questions/11735628/precompile-jsps-into-classes-for-jetty8-using-ant)

```
<property name="jetty.home" value="C:/jetty-distribution-8.1.8.v20121106" />     
<path id="compile.jspc">
     <fileset dir="${jetty.home}">
          <include name="lib/servlet-api-*.jar" />
          <include name="lib/jsp/*.jar" />
     </fileset>
</path>
<target name="jspc" depends="compile">
    <taskdef classname="org.apache.jasper.JspC" name="jasper2" classpathref="compile.jspc" />
    <jasper2 validateXml="false"
        uriroot="WebContent"
        addWebXmlMappings="true"
        webXmlFragment="WebContent/WEB-INF/generated_web.xml"
        compilerSourceVM="1.6"
        compilerTargetVM="1.6"
        outputDir="build/gen-src"
        verbose="9" />
</target> 
```

什么可能出错并触发此错误？仔细检查类路径并加载所有需要的 .jar 文件。与其他论坛帖子中提到的 JSTL 版本无关。

最好的问候，用户2255297

更新： Taglibs.jsp 的内容

```
<%@ taglib prefix="stripes" uri="http://stripes.sourceforge.net/stripes.tld" %>
<%@ taglib prefix="stripesDynamic" uri="http://stripes.sourceforge.net/stripes-dynattr.tld" %>

<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>

<%-- Short hand for the context root. --%>
<c:set var="ctx" value="${pageContext.request.contextPath}"/> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T14:18:40.810

导致此错误的最常见原因是 Web 容器与您的 Web 应用程序之间的 jar 冲突`WEB-INF/lib`。

Jetty 和您的项目之间的版本不匹配是此错误的最常见来源。

使用 Jetty 8.x，您使用的是 Servlet API 3.0。

确保您在您的`WEB-INF/lib`

*   JSTL 1.2
*   EL 2.2
*   JSP 2.2
*   小服务程序 API 3.0

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-15T20:06:41.870

无法结合 ANT 和 TagLibs 预编译 JSP 文件。我决定从 ANT 迁移到 MAVEN，并且能够在 maven-jetty-jspc-plugin 的帮助下成功预编译文件。也可以在 maven 中运行部分 ANT 脚本。

# java - 了解我的素数计算和素数 JFrame 发生了什么

> ID：15872609
> 
> 赞同：2
> 
> 时间：2013-04-08T06:26:51.877
> 
> 标签：java, swing, primes, prime-factoring

我想弄清楚我的代码出了什么问题，并帮助理解我的 Prime Numbers Calculation 和 Prime Numbers 发生了什么`JFrame`。

1.  出于某种原因，计算一个只是说 1-100 的素数是
    1.  我拿出了`system.exit(0);`，现在我需要在退出之前点击所有数字。我希望实现的是获得一个列出所有素数 1-100 的列表。
2.  然后通过编码的素数计算，我需要制作一个 Prime Numbers `JFrame`。我有太多错误，这是我的第一个问题，其次，由于错误，我无法运行项目来查看它。

我已经将我的代码发布到素数计算和我的`JFrame`. 任何帮助弄清楚发生了什么/错误将不胜感激。

```
*********************************************************************************
//Prime Numbers Java Swing JFrame
**********************************************************************************

 import javax.swing.*;
 import java.awt.*;
 import java.awt.event.*;

 public class ProgrammingAssignment8 extends JFrame 
 implements ActionListener 
 {

//DECLARE BUT DO NOT INSTANTIATE
private JButton calculate;
private JButton clear;
private JButton exit;

//PANELS
private JPanel jpnlMain = new JPanel();

private JPanel jpnlTop = new JPanel();
private JPanel jpnlCenter = new JPanel();
private JPanel jpnlBotton = new JPanel();

private JScrollPane scrollingResult;

//DECLARE JFRAME COMPONENTS
private JLabel jlblName, jlblMaxTest;
private JTextField jtfName, jtfMaxTest;
private JTextArea jtaName, jtaMaxNumbers;
private JButton jbutCalculate, jbutClear, jbutExit;

private CalculateButtonHandler calculateHandler;
private ClearButtonHandler clearHandler;
private ExitButtonHandler exitHandler;

/**
 * @param args
 */

//CLASS CONSTRUCTOR 
public ProgrammingAssignment8 (String sTitle) 
{       

//PREPARE THE JFRAME/WINDOW
    super(sTitle);
//SET TITLE AND SIZE
setTitle(sTitle);
setSize(400,400);
setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

//SET THE LAYOUT
jpnlMain.setLayout(new GridLayout(3,3,5,5));

 //INSTANTIATE THE JBUTTONS WITH THE PASSED CAPTION AND COLOR AND ADD TO JPANEL
//PUT INTO A METHOD FOR EFFICIENCY AND TO AVOID REPEATING ALL THE CODE
jbtnCalculate = instantiateJButton("Calculate", Color.red);
jbtnClear = instantiateJButton("Clear", Color.blue);
jbtnExit = instantiateJButton("Exit", Color.black);

//INSTANTIATE THE JLABEL COMPONENTS
jlblName = new JLabel ("");

//PREPARE THE CONTAINER
Container ca = getContentPane();
}

set visible(true);

//END CONSTRUCTOR

private JButton instantiateJButton(String, sInCaption, Color inColor)
{
JButton jbtnButton = new JButton(sInCaption);
jbtnButton.setActionCommand(sInCaption);
jbtnButton.addActionListener(this);
jbtnButton.setForeground(inColor);
jbtnButton.setFont(fontChosenFont);
jpnlMain.add(jbutnButton);
return jbtnButton;

//END INSTANTIATE JBUTTON

//CLASS EVENT HANDLER   
public void actionPerformed(java.awt.event.ActionEvent e)

{
    //FIND OUT WHICH BUTTON WAS PRESSED BY USING THE ACTION COMMAND VALUE
    String sActionCommand = e.getActionCommand();

    //FROM THE ACTIONEVENT OBJECT, GET AN INSTANCE OF THE JBUTTON THAT WAS PRESSED
    JButton jbtnSource = (JButton) e.getSource();

    jbtnSource.setEnabled(false);

    //LET THE USER KNOW WHAT BUTTON WAS CLICKED
    JOptionPane.showMessageDialog(null,  "You pressed the "" sActionCommand + " button", this.getTitle(), JOptionPane.INFORMATION_MESSAGE);
}

//END ACTIONPERFORMED (java.awt.event.ActionEvent e)

//EXECUTION STARTING POINT

public static void main(String[] args)
{
    ProgrammingAssignment8 = new ProgrammingAssignment8("Instantiates with a Method");

}
//END main(String[] args)

}
//END ProgrammingAssignment8 CLASS

***********************************************************************************
PRIME NUMBERS CALCULATIONS
***********************************************************************************

import javax.swing.JOptionPane;
public class ProgrammingAssignment7 
{

/**
 * @param args
 * @return 
 */
public static void main(String[] args) 
{
    //Scanner Scan = new Scanner (System.in);
    // TODO Auto-generated method stub

    //DECLARE VARIABLES
    int x = 1;
    int i = 1;
    int iNumber = 1;
    boolean bNotPrime = false;
    boolean bIsPrime = true;
    int iNumberToTest;
    int iPrimeCheck;
    int iCounter;
    int iResult = 1;
    int iFact = 1;
    int iLimit = 100;
    String OutputStr = null;

    System.out.println("Prime numbers between 1 and " + iLimit);

    //loop through the numbers one by one
    for(i=1; i < 100; i++)
    {

            bIsPrime = true;

            //check to see if the number is prime
            for(int j = 2; j < i ; j++){

                    if(i % j == 0){
                            bIsPrime = false;
                            break;
                    }
            }
            // print the number
            if(bIsPrime)

                OutputStr = "The Prime Numbers of 1 - 100 are: " + i + "\n";

                JOptionPane.showMessageDialog(null, OutputStr, "PRIME NUMBERS", JOptionPane.INFORMATION_MESSAGE);
                   //System.out.print(i + "\n" );

    //LISTS NUMBERS 1 THROUGH 100, INITIALIZE INTEGER NAMED I, IF IT IS LESS THAN OR EQUAL TO 100 THEN ADD ONE TO THE LOOP

    /* for (int i=1; i<=100; i++)
    {
        System.out.println(i);
    }

    /* iNumber = 7;

    for (iNumber = 1; iNumber <= 100; iNumber++)
        iResult = iNumber / 1;
    System.out.println(iResult);

    /* for ( iNumber = 2; iNumber <= 100; iNumber++ )
    {
      if ( iNumber % iNumber == 0 )
      {
        bIsPrime = false;
    break;

      }
    }

    return bIsPrime;
}

*/

    /* iNumber = 1; 
    while (iNumber < 100) iNumber++; 
    { 
        System.out.print(iNumber + " ");
        System.out.println();

        for (iNumber = iNumber - 1; iNumber > 2; iNumber++) 
        { //divides the number by each number less than the number itself and also greater than 1 (because 1 is a factor of every number, and every number is a factor of itself)
            if (iNumber % iNumber != 0) 
                System.out.println(iNumber + " is a prime number.");

            { //else if the number is evenly divisible by a number other than itself and 1 (we weeded out those cases in the above for statement), then it sets the boolean to be true, and breaks the for loop
                bNotPrime = false;
                iNumber = 1;
            }

        }

        if (bIsPrime = true) 
        { //if the number is not not a prime, then it prints the number and the for loop moves on 

        }

        else if (bNotPrime = false)
        { //otherwise the for loop moves on
            System.out.println(iNumber + " is not a prime number.");

            */              

}
}
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T06:39:27.403

*   `set visible(true);`在构造函数之外并且不是有效的方法名称，它应该是`setVisible(true);`，向上移动，以便它出现在`}`它当前上方的之前......
*   `private JButton instantiateJButton(String, sInCaption, Color inColor)`不是有效的方法签名，您在不需要的地方添加了一个`,`，`String`它应该是`private JButton instantiateJButton(String sInCaption, Color inColor)`
*   `JOptionPane.showMessageDialog(null, "You pressed the "" sActionCommand + " button", this.getTitle(), JOptionPane.INFORMATION_MESSAGE);`缺少 a`+`并且有太多`"`. 我认为应该是`JOptionPane.showMessageDialog(null, "You pressed the " + sActionCommand + " button", this.getTitle(), JOptionPane.INFORMATION_MESSAGE);`
*   `ProgrammingAssignment8 = new ProgrammingAssignment8("Instantiates with a Method");`不是一个有效的分配，你实际上并没有将值分配给任何东西......类似的东西`ProgrammingAssignment8 assignment = new ProgrammingAssignment8("Instantiates with a Method");`会解决它。

以下不是有效的评论...

```
***********************************************************************************
PRIME NUMBERS CALCULATIONS
*********************************************************************************** 
```

这是...

```
/***********************************************************************************
PRIME NUMBERS CALCULATIONS
***********************************************************************************/ 
```

*   `CalculateButtonHandler`我对, `ClearButtonHandler`, `ExitButtonHandler`, `jbtnCalculate`,没有定义`jbtnClear`，所以我无法发表评论`jbtnExit`，`fontChosenFont`不用说，在写出来之前它不会起作用......

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-08T06:38:51.123

您可以做的是将质数存储在集合中。看看例如 ArrayList。它就像一个数组，但会动态增长，因此您不必提前指定大小。

您有一个列表，您可以将该列表显示给用户。

# ajax - 使用 jquery-Ajax 加载另一个页面

> ID：15872613
> 
> 赞同：0
> 
> 时间：2013-04-08T06:27:06.827
> 
> 标签：ajax, jquery, load

我正在从索引页面加载另一个 html 页面，然后我想从该加载的页面中获取一个元素，但该页面似乎尚未加载，因为该元素导致为 null，即使在 ajax 中有一个函数回调加载功能：

```
$(document).ready(function() {

$('#btnEdit').click(function(){

    $('#contents').load("abcd.html",showNewcontents())

    function showNewcontents() {

        alert("" + document.getElementById("make").value);
    }

return false;

}); 
```

});

在体内：

```
<body>

<a href="click me" id="btnEdit" name="btnEdit">CLICK ME </a>

<div id="contents"></div>

</body> 
```

在 abcd.html 中：

```
<div id="contents">

<form> 

<input type="hidden" id="make" name="make" value="make">

</form>

</div> 
```

关于如何修改它以获取元素的任何线索？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:32:21.170

`load`期望接收一个函数作为参数。

`showNewcontents()` **调用**一个函数。

您将调用的*返回值*`showNewcontents`传递给，而不是`showNewcontents`函数。

删除`()`.

# amazon-web-services - Amazon Dynamodb 通过发送 http 请求与 salesforce 集成

> ID：15872617
> 
> 赞同：1
> 
> 时间：2013-04-08T06:27:16.337
> 
> 标签：amazon-web-services, salesforce, amazon-dynamodb

我想通过发送 http 请求连接到 Amazon Dynamodb。这样做时我遇到了各种错误..

错误是：1）连接被拒绝，远程主机或网络可能已关闭 2）读取超时 3）无效请求，HTTP 请求的某些方面无效。

我也在加密类的帮助下尝试过。但是，没有运气.. :( 请帮助我找到正确的方法来进行集成.. :(

# android - 禁用 ContentProvider URI 上的通知

> ID：15872621
> 
> 赞同：8
> 
> 时间：2013-04-08T06:27:33.423
> 
> 标签：android, android-contentprovider, android-sqlite

我正在寻找一种方法来暂停给定`ContentProvider`'s上的通知`Uri`。用例是：

1.  An通过 a`Activity`绑定到a 。`CursorAdapter``CursorLoader`
2.  A`Service`可能会在`ContentProvider`.
3.  将`CursorLoader`在每行更新时重新加载其内容，因为通过`ContentProvider`通知侦听器[`ContentResolver#notifyChange`](http://developer.android.com/reference/android/content/ContentResolver.html#notifyChange%28http://developer.android.com/reference/android/content/ContentResolver.html#notifyChange%28android.net.Uri,%20android.database.ContentObserver,%20boolean%29)。

由于我无法编辑`ContentProvider`，并且我无法控制批处理查询的执行，有没有办法暂停`Uri`（在执行中`Service`）上的通知，直到所有`ContentProvider`-managed 查询都已执行？我需要这个是为了避免连续重新查询`CursorLoader`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T19:04:26.303

您不能在您的服务中禁用此机制。但是您应该尝试使用[ContentProviderOperations](http://developer.android.com/reference/android/content/ContentProviderOperation.html)对它们进行批处理。

我写了一篇[关于 ContentProviderOperations 的介绍性文章](http://www.grokkingandroid.com/better-performance-with-contentprovideroperation/)和另外两篇分别介绍方法[`withYieldAllowed()`](http://www.grokkingandroid.com/androids-contentprovideroperation-withyieldallowed-explained/)和的文章[`withBackReference()`](http://www.grokkingandroid.com/androids-contentprovideroperation-withbackreference-explained/)。

对于您在此处描述的内容，尤其是后者应该很有趣。

**使用 ContentProviderOperations，您可以批量更新和插入。如果您随后调用[`applyBatch()`](http://developer.android.com/reference/android/content/ContentResolver.html#applyBatch%28java.lang.String,%20java.util.ArrayList%3Candroid.content.ContentProviderOperation%3E%29)您的 ContentResolver 对象，则 ContentProvider 会立即执行它们。**

现在我从来没有使用过 Nicolas Klein 的生成器，但由于他是一位非常非常熟练的 Android 开发人员并且在 Google 工作，我敢打赌生成的代码使用了事务*并且*最后只为完整的批处理调用`notifyChange()`一次。

正是你需要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T07:45:16.003

你能用你自己的 ContentResolver 代替吗？

您可以尝试使用您自己的类扩展 ContentResolver，然后您可以覆盖方法 notifyChange 并在那里实现您的逻辑。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T11:54:05.673

在您的内容提供程序类中，`query()`在返回光标之前的内部方法中，只需注释看起来像这样的代码

```
cursor.setNotificationUri(getContext().getContentResolver(), uri); 
```

# mysql - 阻止空值条目进入数据库

> ID：15872630
> 
> 赞同：1
> 
> 时间：2013-04-08T06:27:59.337
> 
> 标签：mysql, database

我想要一个脚本来阻止将 null 值输入到数据库中。我可以通过对代码进行一些更改来做到这一点，但我的意图不是在代码中更改它，而是编写一个可以运行的脚本来完成此任务

例如表“书”有作者姓名、价格、标题。我不想允许任何具有 null author_name 的数据库条目

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T06:30:08.683

您需要`NOT NULL`在列的定义中使用子句。例如 -

```
CREATE TABLE book (
  author_name varchar(50) NOT NULL,
  price decimal(19, 2) DEFAULT NULL,
  title varchar(255) DEFAULT NULL
); 
```

这就像一个约束。

* * *

限制**空白**值的解决方法 -

```
CREATE TRIGGER trigger1
  AFTER INSERT
  ON book
  FOR EACH ROW
BEGIN
  IF author_name = '' THEN
    SIGNAL SQLSTATE VALUE '02001'
      SET MESSAGE_TEXT = 'Blank value is not allowed'; -- Raise error
  END IF;
END 
```

文档 -[信号](http://dev.mysql.com/doc/refman/5.5/en/signal.html)声明。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:31:42.703

您可以以某种方式设置您的表格，使其拒绝此类条目：

```
alter table book change column author_name <DATATYPE> NOT NULL; 
```

在这里查看更多信息：http: [//dev.mysql.com/doc/refman/5.1/de/alter-table.html](http://dev.mysql.com/doc/refman/5.1/de/alter-table.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T06:32:06.350

根据文档：[http ://dev.mysql.com/doc/refman/5.1/en/create-table.html](http://dev.mysql.com/doc/refman/5.1/en/create-table.html)

```
create_definition:
    col_name column_definition 
column_definition:
    data_type [NOT NULL | NULL] [DEFAULT default_value]
      [AUTO_INCREMENT] [UNIQUE [KEY] | [PRIMARY] KEY]
      [COMMENT 'string']
      [COLUMN_FORMAT {FIXED|DYNAMIC|DEFAULT}]
      [STORAGE {DISK|MEMORY|DEFAULT}]
      [reference_definition] 
```

您的 column_definition 应该看起来像

```
author_name VARCHAR(50) NOT NULL 
```

# kendo-ui - 隐藏验证错误？

> ID：15872632
> 
> 赞同：1
> 
> 时间：2013-04-08T06:28:00.597
> 
> 标签：kendo-ui

这里的问题是 datetimepickers 的验证工作正常，但是当单击重置按钮验证时必须隐藏如何做？小提琴： http: [//jsbin.com/ufimom/167/编辑](http://jsbin.com/ufimom/167/edit) 代码

```
 $("#clear").click(function(){
    $("#datetimepicker").find("span.k-tooltip").hide();
    $("#datetimepicker1").find("span.k-tooltip").hide();
    }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T08:06:57.777

桑迪普，试试这个..

```
$("#clear").click(function(){
 $("#datetimepicker").siblings("span.k-tooltip-validation").hide();    
 $("#datetimepicker1").siblings("span.k-tooltip-validation").hide();                                
}); 
```

它的工作正常。jsfiddle [http://jsbin.com/ufimom/172/edit](http://jsbin.com/ufimom/172/edit)

# extjs - 应用程序无法将 sencha touch 从 2.0 升级到 2.1.1

> ID：15872635
> 
> 赞同：0
> 
> 时间：2013-04-08T06:28:12.770
> 
> 标签：extjs, sencha-touch, sencha-touch-2, upgrade, sencha-touch-2.1

```
Ext.define('Test.view.Main', {
    extend: 'Ext.Container',
    xtype: 'mainview',      
    config: {
    scrollable:'vertical',
        fullscreen: true,
        items: [{
            xtype:'toolbar',
            title:'Timesheets',
            docked:'top',
            cls:'toolbarcls',
            items:[{
                xtype:'button',
                cls:'toolbarcls buttoncls',
                iconCls:'more',
                iconMask:true,
                handler:function(){
                    Ext.Msg.alert("Left Button Pressed");
                }
                //text:'tet'
            },
            {xtype: 'spacer'},
            {
                xtype:'button',
                cls:'toolbarcls buttoncls addbutton',
                text:'ADD',
                handler:function(){
                    Ext.Msg.alert("Right Button Pressed");
                }

            }]

        },{
            xtype:'calendar'

        },{
            xtype:'panel',
            width:'100%',
            id:'datepanel',
            cls:'bgcolor',

        },{
            xtype:'list',
                id:'thelist',
                height:'50px', width:'100%',left:0,

            data: [
                {name: 'Shawshank Redemption', number: 5},
                {name: 'SuperBad', number: 3},
                {name: 'God Father', number: 5},
                {name: 'Forest Gump', number: 4.5},
                {name: 'A Beautiful Mind', number: 5}
            ],itemTpl: '{name}'
            }]

    }, 
    initialize: function() {
        this.callParent(arguments);
    },

    }); 
```

这段代码适用于 sencha touch 2.0 但我升级到 sencha touch 2.1.1 。现在列出压延机上的重叠。可能是什么问题呢。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T11:00:56.017

尝试将[布局](http://docs.sencha.com/touch/2-1/#!/guide/layouts)添加到您的配置中（例如，在“全屏：真”之后）：

```
layout: 'vbox', 
```

如果这不起作用，则问题可能出在“日历”对象上。我尝试将其更改为“textareafield”并正确显示。

# entity-framework-4 - 如何处理实体框架 4 中的重复键异常

> ID：15872638
> 
> 赞同：1
> 
> 时间：2013-04-08T06:28:19.830
> 
> 标签：entity-framework-4

将记录更新为数据库中已存在的记录时，是否有人有一种简单的方法来处理此异常？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:36:46.937

尝试这个：

```
catch (UpdateException ex)
{
    SqlException innerException = ex.InnerException as SqlException;

    if (innerException != null && innerException.Number == ??????)   
    {
        //Place you exception code handling here..    
    }
    else  
    {

        throw; //(bubble up)    
    }
} 
```

这是一个简单的解决方案，但如果错误号发生变化，您将来可能会遇到问题，这不太可能）。

# javascript - 单击事件后如何调用javascript鼠标悬停功能？

> ID：15872641
> 
> 赞同：0
> 
> 时间：2013-04-08T06:28:44.997
> 
> 标签：javascript, jquery, ajax

在我想调用第一次单击事件的函数下方，当用户单击时，该函数将在鼠标悬停时调用，这可能吗？

```
<a href="javascript:void(0);" id="digit<?php echo $k;?>" onClick="javascript:return swapClass('<?php echo strtoupper($v);?>','<?php echo $k;?>');" class="GetDivCount" rel="<?php echo $k;?>" onMouseMove="javascript:return swapClass('<?php echo strtoupper($v);?>','<?php echo $k;?>');"> 
```

-

```
function swapClass(getId,keyId) {

<!-- INACTIVE ACTIVE CLASS IF SELECT ALL BUTTONS -->
if(jQuery('.digit_active').length==15)
{
    var p=0;
    jQuery('.digit_active').each(function(){
        var CurrentActive=$(this);
        var activeValue = CurrentActive.attr('rel');
        jQuery('#digit'+activeValue).removeClass('digit_active');
        p++;
    });
    arrString.length=0;
    jQuery("#middleReload").load(location.href + " #middleReload>*","");
}
<!-- INACTIVE ACTIVE CLASS IF SELECT ALL BUTTONS -->

jQuery('#digit'+keyId).addClass('digit_active');

/*
|-------------------------------|           
|   GROUP A FOR RED POINTS  |                                               
|               |
|-------------------------------|
*/
if($('#colorDiv'+keyId).hasClass('red_Q')){
    // FOR GET LETTER HERE
    var BonusRed=getId;

}

arrString.push(getId);
var wordFind;
jQuery.ajax({
url:'ajax.php?action=wordFind&word='+arrString,
    cache:false,
    async:false,
    type:"GET",
    success:function(res){
        console.log(res);//To check you are getting any reponse
        if(res=="find")
        {
            <!--BUTTON SOUND -->
            playAudio();
            <!--BUTTON SOUND -->

            jQuery("#wordReload").load(location.href + " #wordReload>*","");

            arrString.length=0;

            document.getElementById('bonusDiv'+keyId).style.display='block';
            jQuery('#bonusDiv'+keyId).animate({
            bottom: 200, opacity: 1
            }, 300 );

            jQuery('#bonusDiv'+keyId).fadeOut('slow');

            <!--REMOVE SELECTED ACTIVE CLASS START -->
            jQuery('#digit'+keyId).removeClass('digit_active');
            var m=0;
            var active=new Array();
            jQuery('.digit_active').each(function(){
                var CurrentActive=jQuery(this);
                var activeValue = CurrentActive.attr('rel');
                jQuery('#digit'+activeValue).removeClass('digit_active');
                m++;
                });
            <!--REMOVE SELECTED ACTIVE CLASS END -->
        }
    }

});
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:39:39.200

您可以使用触发功能触发鼠标悬停

```
 jQuery(selector).trigger('mouseover'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T12:22:00.337

### 回答

您可以使用该`.trigger()`方法从另一个函数以编程方式初始化鼠标悬停事件。

例子：

```
function swapClass(getId,keyId) {
  // .. code

  // Invoke the mouseover event
  $('.other-html-element').trigger('mouseover');
} 
```

* * *

### 请注意

请注意，`onclick`在元素上分配事件（正如您所做的那样）不是好的做法：

```
<a href="" class="GetDivCount" onclick="javascript: return swapClass();">Click me</a> 
```

相反，您最好像这样绑定到元素：

```
$(function(){

    $('.GetDivCount').click(function(){ swapClass(); });

}); 
```

### 演示

另请参阅此[演示](http://jsbin.com/onaduw/1)。

# java - 如何将 javaagent 的类放在类路径中

> ID：15872642
> 
> 赞同：14
> 
> 时间：2013-04-08T06:28:45.397
> 
> 标签：java, maven, classpath, javaagents

我正在尝试开发一个 javaagent，它可以在 asm-4 的帮助下检测代码。现在我遇到了一个非常基本的问题，javaagent 的类加载器没有看到 asm 依赖项，因此失败了。我是否必须提供一个 jar-with-dependencies（又名 maven 构建插件），其中包含代理所需的所有类，还是有另一种方法可以将类添加到 java 代理？直接在类路径中引用 jar asm-all.jar 没有帮助。最初构建 jar-with-dependencies 并没有帮助，因为 Premain-Class 属性无法使用程序集插件设置。帮助表示赞赏;-)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-08T20:16:07.960

好的，通过实验找到它。依赖的类应该是jar的一部分，可以通过maven组装插件创建，例如：

```
 <plugin>
        <artifactId>maven-assembly-plugin</artifactId>
        <version>2.2</version>
        <configuration>
            <descriptorRefs>
                <descriptorRef>jar-with-dependencies</descriptorRef>
            </descriptorRefs>
            <archive>
                <index>true</index>
                <manifest>
                    <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
                    <addDefaultSpecificationEntries>true</addDefaultSpecificationEntries>
                </manifest>
                <manifestEntries>
                    <Premain-Class>test.agent.MyAgent</Premain-Class>
                </manifestEntries>
            </archive>
        </configuration>
        <executions>
            <execution>
                <id>make-assembly</id>
                <!-- this is used for inheritance merges -->
                <phase>package</phase>
                <!-- append to the packaging phase. -->
                <goals>
                    <goal>single</goal>
                    <!-- goals == mojos -->
                </goals>
            </execution>
        </executions>
    </plugin> 
```

使用 jar 作为 javaagent 路径，一切正常。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2016-03-19T13:21:57.567

我关注了这篇[博文](http://www.ibm.com/developerworks/library/j-5things13/)。这是我如何使它工作的，以获取对象的大小。

/清单.MF

```
Manifest-Version: 1.0
Premain-Class: ar.com.docdigital.InstrumentationApp
Can-Redefine-Classes: true
Can-Retransform-Classes: true
Can-Set-Native-Method-Prefix: true 
```

在你的 pom.xml 中（注意我们引用自定义清单）

```
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-jar-plugin</artifactId>
    <configuration>
        <archive>
            <manifestFile>
                MANIFEST.MF
            </manifestFile>
            <manifest>
                <addClasspath>true</addClasspath>
                <mainClass>
                    ar.com.docdigital.App
                </mainClass>
            </manifest>
        </archive>
    </configuration>
</plugin> 
```

我的仪器代理：

```
package ar.com.docdigital;

import java.lang.instrument.Instrumentation;

/**
 *
 * @author juan.fernandez
 */
public class InstrumentationApp {
    private static Instrumentation instrumentation;

    public static void premain(String args, Instrumentation inst) {
        instrumentation = inst;
    }

    public static long getObjectSize(Object o) {
        return instrumentation.getObjectSize(o);
    }
} 
```

我的主要应用程序：

包 ar.com.docdigital；

```
import static ar.com.docdigital.InstrumentationApp.getObjectSize;

/**
 *
 * @author juan.fernandez
 */
public class App {
    public static void main (String[] args) {
        System.out.println("Size of CoprimeLong: " + getObjectSize(new CoprimesList.CoprimeLong(1L)));
        System.out.println("Size of Long: " + getObjectSize(new Long(1L)));

    }

} 
```

将所有内容放在一起和 CLI 输出：

```
$ mvn package
$ java -javaagent:target/primos-0.1.0-SNAPSHOT.jar -jar target/primos-0.1.0-SNAPSHOT.jar 
  Size of CoprimeLong: 24
  Size of Long: 24 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-08-31T16:23:04.960

我为我的 CustomAgent 使用了 maven-jar-plugin。我没有任何依赖的模块/罐子，所以使用程序集插件是一种矫枉过正。

```
<build>
    <sourceDirectory>src</sourceDirectory>
    <finalName>are-agent</finalName>
    <plugins>           
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-jar-plugin</artifactId>
            <version>2.4</version>
            <configuration>
                <archive>
                    <manifest>
                        <addClasspath>true</addClasspath>
                        <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
                        <addDefaultSpecificationEntries>true</addDefaultSpecificationEntries>
                    </manifest>
                    <manifestEntries>
                        <Premain-Class>are.agent.CustomAgent</Premain-Class>
                        <Can-Redefine-Classes>false</Can-Redefine-Classes>
                        <Can-Retransform-Classes>true</Can-Retransform-Classes>
                    </manifestEntries>
                </archive>
            </configuration>
        </plugin>
    </plugins>
<build> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-02T09:27:16.220

我认为您可以在 MyAgent.jar 的 Manifest.mf 文件中指定 Class-Path。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-05-17T13:04:48.813

您应该将 Premain-Class 条目添加到清单中。我使用 gradle 来构建 Java 项目。

将此添加到`gradle.build`

```
jar {
    manifest {
        attributes(
                "Premain-Class": "com.training.agent.agentapp.SimplestAgent",
                "Can-Redefine-Classes": false,
                "Can-Set-Native-Method-Prefix": false
        )
    }
} 
```

然后你可以运行它

```
java -javaagent:agent.jar -jar application.jar 
```

[模式详情](https://ivanyu.me/blog/2017/11/04/java-agents-javassist-and-byte-buddy/)

# wolfram-mathematica - 改进 Mathematica 中 RegionPlot 中的角渲染

> ID：15872646
> 
> 赞同：2
> 
> 时间：2013-04-08T06:29:03.727
> 
> 标签：wolfram-mathematica

我正在使用`RegionPlot`在两个变量中显示线性不等式系统，以帮助我找到它们都可以满足的参数值，或者如果不存在任何参数值，让它们了解原因。但是当我绘制它们时，**`RegionPlot`实际上是偷工减料。如何获得由线性不等式界定的区域的更准确图表？**

这是一个最小的示例（实际代码要复杂得多）：

```
RegionPlot[{y > 0 && x > 0 && x - y > 0, 
  y < .1 && x < .1 && x - y < .1}, {x, -10, 10}, {y, -10, 10}] 
```

输出图[](http://imgur.com/70yDCCR "更改图表的比例。 在我的实际代码中，有几个这样的交叉区域，我想在一个图上看到它们。 所以我真的很想改进角落渲染<em>给定绘图比例</em>。</p></li> </ol>     </div>

        <div class=")

[](http://imgur.com/70yDCCR "更改图表的比例。 在我的实际代码中，有几个这样的交叉区域，我想在一个图上看到它们。 所以我真的很想改进角落渲染<em>给定绘图比例</em>。</p></li> </ol>     </div>

        <div class=")[](http://imgur.com/70yDCCR "更改图表的比例。 在我的实际代码中，有几个这样的交叉区域，我想在一个图上看到它们。 所以我真的很想改进角落渲染<em>给定绘图比例</em>。</p></li> </ol>     </div>

        <div class=")[wolfram-mathematica](/tags/wolfram-mathematica "show questions tagged 'wolfram-mathematica'")

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T10:20:24.633

问题是 RegionPlot 对一些初始点进行采样，然后通过对变化区域进行细化来改进绘图，而不会通过对未更改区域进行采样来影响性能。在这种情况下，我认为它缺少中心细节。

尝试使用 PlotPoints 增加 MaxRecursion 选项或初始点数，例如，这两个示例会产生良好的结果，但性能会受到影响。我认为哪个更好将取决于实际情况。

```
RegionPlot[{y > 0 && x > 0 && x - y > 0, 
  y < .1 && x < .1 && x - y < .1}, {x, -10, 10}, {y, -10, 10}, 
 PlotPoints -> 100]

RegionPlot[{y > 0 && x > 0 && x - y > 0, 
  y < .1 && x < .1 && x - y < .1}, {x, -10, 10}, {y, -10, 10}, 
 MaxRecursion-> 6] 
```

# asp.net - 使用文件上传控件 asp.net 上传和删除文件

> ID：15872650
> 
> 赞同：2
> 
> 时间：2013-04-08T06:29:31.650
> 
> 标签：asp.net, forms, file-upload

我正在制定投诉表。在这个表单中，我必须创建一个上传文件的函数，然后删除上传的文件。我可以将文件上传到服务器，但我无法获取上传到服务器的文件的链接以删除它。请帮我。这是我的代码：

```
public string FilePath;
protected void btAdd_Click(object sender, EventArgs e)
    {          
    if (AttachFile.HasFile)
        {
            try
            {
                    string[] sizes = {"B", "KB", "MB", "GB"};
                    double sizeinbytes = AttachFile.FileBytes.Length;
                    string filename = Path.GetFileNameWithoutExtension(AttachFile.FileName);
                    string fileextension = Path.GetExtension(AttachFile.FileName);
                    int order = 0;
                    while (sizeinbytes >= 1024 && order + 1 < sizes.Length)
                    {
                        order++;
                        sizeinbytes = sizeinbytes/1024;
                    }
                    string result = String.Format("{0:0.##} {1}", sizeinbytes, sizes[order]);
                    string encryptionFileName = EncrytionString(10);                       
                    FilePath = "Path" + encryptionFileName.Trim() + AttachFile.FileName.Trim();
                    AttachFile.SaveAs(FilePath);                    
            }
            catch (Exception ex)
            {
                lbMessage.Visible = true;
                lbMessage.Text = ex.Message;
            }
        }
    } 

protected void btDelete_Click(object sender, EventArgs e)
    {
        try
        {
            File file = new FileInfo(FilePath);
            if (file.Exists)
            {
                File.Delete(FilePath);
            }
        }
        catch (FileNotFoundException fe)
        {
            lbMessage.Text = fe.Message;
        }
        catch (Exception ex)
        {
            lbMessage.Text = ex.Message;
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:47:58.350

asp.net 中的每个请求都会为您的页面创建一个新对象。
如果您在一个请求期间设置变量，它们在下一个请求中将不可用。

您的删除逻辑似乎取决于`FilePath`在上传期间设置。如果您希望页面记住这一点，请将其保存在 ViewState 中。ViewState 在对同一页面的请求之间得到维护，这将允许您`FilePath`在删除期间使用该变量。

这可以通过创建`FilePath`一个属性并从 ViewState 中获取来轻松实现。

```
public string FilePath
{
  get
  {
    return (string) ViewState["FilePath"];
  }
  set
  {
    ViewState["FilePath"] = value;
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:54:53.620

你应该这样做。

```
if (imgUpload.HasFile)
     {
                String strFileName = imgUpload.PostedFile.FileName;
                imgUpload.PostedFile.SaveAs(Server.MapPath("\\DesktopModules\\Indies\\FormPost\\img\\") + strFileName);
                SqlCommand cmd01 = new SqlCommand("insert into img (FeaturedImg) Values (@img)", cn01);
                    cmd01.Parameters.AddWithValue("@img", ("\\DesktopModules\\Indies\\FormPost\\img\\") + strFileName);
      } 
```

使用此代码，您可以将文件上传到站点根目录中的特定位置。并且路径将作为字符串存储在数据库中。因此您只需使用存储在数据库中的路径即可访问该文件。如果你什么都看不懂。或者想知道更多你可以联系我或在评论中问我。

# php - Symfony2中的innerJoin查询

> ID：15872653
> 
> 赞同：1
> 
> 时间：2013-04-08T06:29:52.633
> 
> 标签：php, mysql, symfony, doctrine-orm

我 mysql 查询：

```
SELECT p.name, c.id 
FROM customer c  
INNER JOIN sales_order so ON so.customer_id=c.id  
INNER JOIN sales_order_item soi ON so.id=soi.sales_order_id  
INNER JOIN product p ON p.id=soi.product_id  WHERE c.id=49454\G; 
```

这在 MySql 中工作，但是当这个查询在学说 2 中转换时，它会给出错误

```
"[Semantical Error] line 0, col 87 near 'so ON so.customer_id=c.id': Error: Identification Variable sales_order used in join path expression but was not defined before." 
```

在 symfony 中，我这样写：

```
$builder
        ->add('filter', 'entity', array(
            'label' => 'Show',
            'class' => 'RocketBraPrintBundle:SalesOrderItem',
            'query_builder' => function($er) {
                return $er->createQueryBuilder('p','so','c','soi')
                          ->select('p.name','c.id')
                          ->from('customer','c')
                          ->innerJoin('sales_order','so','ON','so.customer_id=c.id')
                          ->innerJoin('sales_order_item','soi','ON','so.id=soi.sales_order_id')
                          ->innerJoin('product','p', 'ON', 'p.id=soi.product_id')
                          ->where('c.id=49454\G');
            },
            'empty_value' => 'All',
            'required' => false
        )) 
```

谁能告诉我以 symfony2 方式转换这个 mysql 查询的正确方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:45:33.500

```
->innerJoin('c.sales_order') 
```

其中“sales_order”是来自“customer”实体的确切关系名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T13:55:06.003

这对我来说很复杂，因为我有点困惑，它像这样转换。它正在工作。如果用户登录。

```
$er->createQueryBuilder('soi')
   ->select('soi','p','so')
   ->innerJoin('soi.salesOrder', 'so')
   ->innerJoin('soi.product', 'p')
   ->innerJoin('so.customer', 'c')
   ->groupBy('p.name')
   ->orderBy('p.name', 'ASC')
   ->where('so.customer = ' . $options['data']['customerid']); 
```

# json - 将 JSON 序列化为查询字符串的标准化方法？

> ID：15872658
> 
> 赞同：65
> 
> 时间：2013-04-08T06:30:00.423
> 
> 标签：json, serialization, query-string, http-get

我正在尝试构建一个宁静的环境，并且正在努力将数据`API`序列化为.`JSON``HTTP query string`

请求中需要传递许多强制和可选参数，例如（表示为下面的 JSON 对象）：

```
{
   "-columns" : [
      "name",
      "column"
   ],
   "-where" : {
      "-or" : {
         "customer_id" : 1,
         "services" : "schedule"
      }
   },
   "-limit" : 5,
   "return" : "table"
} 
```

我需要支持各种数量的不同客户端，所以我正在寻找一种标准化的方法来将此 json 对象转换为查询字符串。有没有，它看起来怎么样？

另一种选择是允许用户只在消息正文中传递 json 对象，但我读到我应该避免它（[HTTP GET with request body](https://stackoverflow.com/questions/978061/http-get-with-request-body/978173)）。

有什么想法吗？

**编辑澄清：**

列出一些不同的语言如何编码上面给定的 json 对象：

*   `jQuery`使用`$.param`：-columns[]=name&-columns[]=column&-where[-or][customer_id]=1&-where[-or][services]=schedule&-limit=5&return=column
*   `PHP`使用`http_build_query`：-columns[0]=name&-columns[1]=column&-where[-or][customer_id]=1&-where[-or][services]=schedule&-limit=5&return=column
*   `Perl`使用`URI::query_form`：-columns=name&-columns=column&-where=HASH(0x59d6eb8)&-limit=5&return=column
*   `Perl`使用`complex_to_query`：-columns:0=name&-columns:1=column&-limit=5&-where.-or.customer_id=1&-where.-or.services=schedule&return=column

jQuery 和 PHP 非常相似。Perl 使用 complex_to_query 也与它们非常相似。但没有一个看起来完全一样。

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2013-04-08T07:53:38.267

URL 编码 ( [https://en.wikipedia.org/wiki/Percent-encoding](https://en.wikipedia.org/wiki/Percent-encoding) ) 您的 JSON 文本并将其放入单个查询字符串参数中。例如，如果你想通过`{"val": 1}`：

```
mysite.com/path?json=%7B%22val%22%3A%201%7D 
```

请注意，如果您的 JSON 变得太长，那么您将遇到 URL 长度限制问题。在这种情况下，我会使用`POST`正文（是的，我知道，当您想要获取某些内容时发送 a`POST`不是“纯粹的”并且不适合 REST 范式，但您的域特定的基于 JSON 的查询语言也不是） .

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2018-04-25T00:46:39.540

JSON查询字符串序列化没有单一的标准，所以我[对比了一些JSON序列化](https://jsfiddle.net/1g5xoc8p/3/)器，结果如下：

```
JSON:    {"_id":"5973782bdb9a930533b05cb2","isActive":true,"balance":"$1,446.35","age":32,"name":"Logan Keller","email":"logankeller@artiq.com","phone":"+1 (952) 533-2258","friends":[{"id":0,"name":"Colon Salazar"},{"id":1,"name":"French Mcneil"},{"id":2,"name":"Carol Martin"}],"favoriteFruit":"banana"}
Rison:   (_id:'5973782bdb9a930533b05cb2',age:32,balance:'$1,446.35',email:'logankeller@artiq.com',favoriteFruit:banana,friends:!((id:0,name:'Colon Salazar'),(id:1,name:'French Mcneil'),(id:2,name:'Carol Martin')),isActive:!t,name:'Logan Keller',phone:'+1 (952) 533-2258')
O-Rison: _id:'5973782bdb9a930533b05cb2',age:32,balance:'$1,446.35',email:'logankeller@artiq.com',favoriteFruit:banana,friends:!((id:0,name:'Colon Salazar'),(id:1,name:'French Mcneil'),(id:2,name:'Carol Martin')),isActive:!t,name:'Logan Keller',phone:'+1 (952) 533-2258'
JSURL:   ~(_id~'5973782bdb9a930533b05cb2~isActive~true~balance~'!1*2c446.35~age~32~name~'Logan*20Keller~email~'logankeller*40artiq.com~phone~'*2b1*20*28952*29*20533-2258~friends~(~(id~0~name~'Colon*20Salazar)~(id~1~name~'French*20Mcneil)~(id~2~name~'Carol*20Martin))~favoriteFruit~'banana)
QS:      _id=5973782bdb9a930533b05cb2&isActive=true&balance=$1,446.35&age=32&name=Logan Keller&email=logankeller@artiq.com&phone=+1 (952) 533-2258&friends[0][id]=0&friends[0][name]=Colon Salazar&friends[1][id]=1&friends[1][name]=French Mcneil&friends[2][id]=2&friends[2][name]=Carol Martin&favoriteFruit=banana
URLON:   $_id=5973782bdb9a930533b05cb2&isActive:true&balance=$1,446.35&age:32&name=Logan%20Keller&email=logankeller@artiq.com&phone=+1%20(952)%20533-2258&friends@$id:0&name=Colon%20Salazar;&$id:1&name=French%20Mcneil;&$id:2&name=Carol%20Martin;;&favoriteFruit=banana
QS-JSON: isActive=true&balance=%241%2C446.35&age=32&name=Logan+Keller&email=logankeller%40artiq.com&phone=%2B1+(952)+533-2258&friends(0).id=0&friends(0).name=Colon+Salazar&friends(1).id=1&friends(1).name=French+Mcneil&friends(2).id=2&friends(2).name=Carol+Martin&favoriteFruit=banana 
```

其中最短的是[URL Object Notation](https://github.com/cerebral/urlon)。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-05-05T18:35:59.893

另一个选项可能是[node-querystring](https://github.com/visionmedia/node-querystring)。它还使用与您迄今为止列出的方案类似的方案。

它在`npm`和中都可用`bower`，这就是我一直在使用它的原因。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2016-10-20T13:56:18.993

你试试这个发送它们怎么样：

```
http://example.com/api/wtf?
[-columns][]=name&
[-columns][]=column&
[-where][-or][customer_id]=1&
[-where][-or][services]=schedule&
[-limit]=5&
[return]=table& 
```

我尝试使用 REST 客户端 [![在此处输入图像描述](https://i.stack.imgur.com/vJcpC.png)](https://i.stack.imgur.com/vJcpC.png)

在服务器端（Ruby with Sinatra）我检查了参数，它给了我你想要的东西。:-)

[![在此处输入图像描述](https://i.stack.imgur.com/gTtGv.png)](https://i.stack.imgur.com/gTtGv.png)

# c# - 如何将带有 id 的图像插入到 .NET 中的 RichTextBox？

> ID：15872664
> 
> 赞同：1
> 
> 时间：2013-04-08T06:30:21.987
> 
> 标签：c#, .net, image, richtextbox

`RichTextBox`我刚刚在.NET 中遇到了一个问题。

在运行时使用将[纯文本和图像插入 RichTextBox，](http://www.codeproject.com/Articles/4544/Insert-Plain-Text-and-Images-into-RichTextBox-at-R) 我可以将图像插入`RichTextBox`. 然后我想要的是，当单击图像中的图像时，`RichTextBox`会弹出一个显示其名称或 ID 的 MessageBox。

我的问题是：如何将图像的名称或 id 嵌入到 rtf 中`RichTextBox`？

我尝试使用以下方法将参数添加到 rtf 字符串中： `{\pict{\pictName myName}{\pictID myID}\wmetafile8...}`然后设置为`richtextbox1.Rtf`; 但是我发现里面还是没有参数

```
 richtextbox1.Rtf:{\pict\wmetafile8...} 
```

除了将整个 WmfBits 与后台列表进行比较之外，还有其他方法可以获取图像的名称或 id 吗？

提前致谢。

# macos - 如何从 Mac 上的 $PATH 中删除条目

> ID：15872666
> 
> 赞同：85
> 
> 时间：2013-04-08T06:30:40.157
> 
> 标签：macos, bash, terminal, .bash-profile, path-variables

我试图安装 Sencha Touch SDK 工具 2.0.0 但无法正常运行。它在 $PATH 变量中创建了一个条目。后来我删除了 sencha sdk tools 文件夹，但没有意识到路径变量还在。

我什么时候`echo $PATH`得到 -

`/Applications/SenchaSDKTools-2.0.0-beta3:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin`

我搜索了如何从 $PATH 中删除变量并按照以下步骤操作：

1.  下了命令`PATH="/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin"`
2.  做了`echo $PATH`这表明`/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin`
3.  下达了命令`export PATH`
4.  关闭终端并重新打开它。下达了命令`echo $PATH`。这次我得到了 `/Applications/SenchaSDKTools-2.0.0-beta3:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin`

谁能告诉我我做错了什么？

* * *

## 回答 #1

> 赞同：194
> 
> 时间：2014-07-30T07:53:36.437

1.  `echo $PATH`并复制它的价值
2.  `export PATH=""`
3.  `export PATH="/path/you/want/to/keep"`

* * *

## 回答 #2

> 赞同：32
> 
> 时间：2013-04-08T09:19:27.143

检查以下文件：

```
/etc/bashrc
/etc/profile
~/.bashrc
~/.bash_profile
~/.profile
~/.MacOSX/environment.plist 
```

其中一些文件可能不存在，但它们最有可能包含`$PATH`定义。

* * *

## 回答 #3

> 赞同：28
> 
> 时间：2016-09-15T14:33:06.360

**在 MAC OS X Leopard 及更高版本上**

```
cd /etc/paths.d 
```

上述目录中可能有一个文本文件，其中包含您要删除的路径。

```
vim textfile //check and see what is in it when you are done looking type :q 
//:q just quits, no saves 
```

如果您要删除它，请执行此操作

```
rm textfile //remove it, delete it 
```

这是[一个包含更多信息的站点的链接](http://www.cyberciti.biz/faq/appleosx-bash-unix-change-set-path-environment-variable/)，即使它说明了“添加”路径。但是，您可能会获得一些见解。

* * *

## 回答 #4

> 赞同：17
> 
> 时间：2013-04-08T06:41:48.863

您所做的对当前会话有效（仅限于您正在使用的终端）。您需要保留这些更改。考虑将上述步骤 1-3 中的命令添加到您的`${HOME}/.bashrc`.

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2021-02-09T18:14:32.153

如果您要专门删除 Python 3 的路径，我在`~/.zprofile`和`~/.zshrc.`

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2021-04-12T11:14:18.673

`$PATH`包含从实际文件中引用的数据。因此，您应该找到包含要删除的引用的文件，然后删除该引用。

这是一个逐步运行的好列表[从[@Ansgar 的](https://stackoverflow.com/a/15875513/310139)答案中复制并进行了少量更新]。

```
/etc/bashrc
/etc/profile
~/.bashrc
~/.bash_profile
~/.profile
~/.MacOSX/environment.plist
/etc/paths
/etc/paths.d/ 
```

请注意，这`/etc/paths.d/`是一个包含具有路径引用的文件的目录。例如，在此目录中可能有一个名为 的文件，`fancy-app`在此文件中您将看到如下条目：

```
/path/to/fancy-app 
```

此路径将出现在您`$PATH`的文件中，您可以删除文件中的条目以将其删除，或者如果该文件只有您要删除的一个引用，则可以删除该文件。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2013-08-28T10:39:26.647

在终端窗口内使用`sudo pico /etc/paths`并将条目更改为要删除的条目，然后打开一个新的终端会话。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-08T08:30:27.177

当您登录或启动 bash shell 时，会根据 .bashrc 或 .bash_profile 加载/配置环境变量。无论您在做什么导出，它仅对当前会话有效。因此`export PATH=/Applications/SenchaSDKTools-2.0.0-beta3:$PATH`，每次打开 shell 时都会执行此命令，您可以覆盖它，但同样仅适用于当前会话。编辑 .bashrc 文件以满足您的需要。如果它说权限被拒绝，也许该文件是写保护的，一个指向其他文件的链接（许多组织保留一个主 .bashrc 文件并为每个用户提供指向其主目录的链接，您可以复制文件而不是链接并开始向其中添加内容）

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-05-21T04:30:00.440

关闭终端（结束当前会话）。再次打开它。

# android - webview中的Android 4长html

> ID：15872669
> 
> 赞同：0
> 
> 时间：2013-04-08T06:30:52.593
> 
> 标签：android, html, android-webview

我有一个 Web 视图，其中显示了从硬编码字符串（大约 1500 个字符）加载的 HTML。在 HTML 验证器中测试的 HTML。html 很简单，包含 div 和 p 标签，而不是 javascript。仅在 Android 版本 4 上，我得到了一个带有滚动条的空白页面，在低于 4 的 Android 版本上它可以正常工作。不幸的是，我无法公开漏洞代码。

Android 4 WebView 有什么不同吗？

我的代码：

```
mWebView.setWebChromeClient(mWebChromeClient);
mWebView.setWebViewClient(mWebViewClient);
mWebView.addJavascriptInterface(new JavaScriptInterface(getActivity()),JavaScriptInterface.NAME);

if (CLEAR_CACHE_ON_LOAD) {
    mWebView.clearCache(true);
}

mWebView.getSettings().setJavaScriptEnabled(true);
mWebView.getSettings().setJavaScriptCanOpenWindowsAutomatically(false);

mWebView.loadDataWithBaseURL("fake://", htmlString, "text/html", "UTF-8", "fake://");
//OR -
mWebView.loadData(htmlBase64String, "text/html", "base64"); 
```

XML：

```
<ScrollView
    android:id="@+id/scrollView"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_below="@+id/expandingView" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical" >
        <FrameLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content" >
            <WebView
                android:id="@+id/webview"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:fadingEdge="vertical"
                android:layerType="software"
                android:scrollbars="none" />

            <View
                android:id="@+id/webViewClickOverlay"
                android:layout_width="match_parent"
                android:layout_height="match_parent" />
        </FrameLayout>

        <LinearLayout
            android:id="@+id/more_about_container"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/color_white_grey_selector"
            android:gravity="center_vertical"
            android:padding="@dimen/padding_medium"
            android:visibility="gone" >
            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginRight="@dimen/padding_medium"
                android:text="@string/more_about"
                android:textColor="@color/vocativ_purple"
                android:textSize="@dimen/text_size_medium"
                android:textStyle="bold" />
            <TextView
                android:id="@+id/label_more_about"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:ellipsize="end"
                android:lines="1"
                android:text="SECOND NIGHT OF BLA"
                android:textColor="@color/vocativ_pink"
                android:textSize="@dimen/text_size_medium"
                android:textStyle="bold" />
            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:drawableRight="@drawable/ic_arrow_pink" />
        </LinearLayout>

        <include
            android:id="@+id/related_content_container"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            layout="@layout/widget_story_container" />
    </LinearLayout>

</ScrollView> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T12:15:19.070

需要将 android:layerType="software" 设置为 android:layerType="none"

看下一个[链接](http://developer.android.com/reference/android/view/View.html#attr_android%3alayerType)

# c# - 如何将鼠标右键事件添加到表格布局中的单元格？

> ID：15872672
> 
> 赞同：2
> 
> 时间：2013-04-08T06:31:00.250
> 
> 标签：c#, winforms

我在我的表格布局中添加了一个鼠标事件控制器，但它不起作用，下面是我到目前为止所做的工作

```
private void tablelayout_MouseClick(object sender, MouseEventArgs e)
{
        if (e.Button == MouseButtons.Right)
        {
            ContextMenu m = new ContextMenu();
            m.MenuItems.Add(new MenuItem("Add Device")); 
            m.MenuItems.Add(new MenuItem("Delete Device"));
            m.MenuItems.Add(new MenuItem("Fire"));
            m.MenuItems.Add(new MenuItem("Fault"));
            m.MenuItems.Add(new MenuItem("Suppress"));

         }

 } 
```

这是我设计的表格和表格布局

![http://i47.tinypic.com/29mnfhj.jpg](https://i.stack.imgur.com/3tXae.jpg)

[http://tinypic.com/r/29mnfhj/6](http://tinypic.com/r/29mnfhj/6)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:46:31.533

记得打电话

```
m.Show(tablelayout, e.Location); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T08:18:20.100

`ContextMenu`问题是你根本不显示

```
 private void tableLayout_MouseClick(object sender, MouseEventArgs e)
    {
        if (e.Button == MouseButtons.Right)
        {
            ContextMenu m = new ContextMenu();
            m.MenuItems.Add(new MenuItem("Add Device"));
            m.MenuItems.Add(new MenuItem("Delete Device"));
            m.MenuItems.Add(new MenuItem("Fire"));
            m.MenuItems.Add(new MenuItem("Fault"));
            m.MenuItems.Add(new MenuItem("Suppress"));
            //add this line to the event handler
            m.Show((Control)(sender), e.Location);
        }
    } 
```

对于您关于为每个菜单项添加此上下文菜单的事件处理程序的问题，您需要定义这样的事件处理程序：

```
m.MenuItems[0].Click += MenuItemClick; 
```

和事件：

```
void MenuItemClick(object sender, EventArgs e)
{
    // your code 
} 
```

到目前为止，我们已经定义了 click 事件处理程序，用于`MenuItem("Add Device")`对其他 MenuItems 以及这个重复这些步骤

# django - 与工头一起运行 Gunicorn

> ID：15872675
> 
> 赞同：0
> 
> 时间：2013-04-08T06:31:23.907
> 
> 标签：django, gunicorn, foreman

如果我这样做`runserver`或`gunicorn`直接从命令行执行，则该网站可以正常工作。但是，如果我尝试使用[Heroku 文档](https://devcenter.heroku.com/articles/django)中指定的 Foreman 运行 gunicorn ：

```
web: gunicorn myapp.wsgi 
```

然后我网站的静态文件突然无法访问了；想去

```
http://0.0.0.0:5000/static/js/jquery-1.9.1.min.js 
```

只给我这个错误信息：

```
Using the URLconf defined in myapp.urls, Django tried these URL patterns, in this order:

    ^$ [name='homepage']
    ...

The current URL, static/js/jquery-1.9.1.min.js, didn't match any of these.

You're seeing this error because you have DEBUG = True in your Django settings file. Change that to False, and Django will display a standard 404 page. 
```

正如我所说，如果直接调用 gunicorn 或 runserver ，或者即使使用`runserver`with ，静态文件肯定是可以访问的`foreman start`，所以我猜它与我的静态文件设置没有太大关系？

此外，除了 500 错误之外，在工头上运行 gunicorn`DEBUG = False`甚至不会返回任何内容。没有任何记录，甚至在 Sentry 上也没有，所以我不知道出了什么问题。它也可以单独使用 gunicorn 或 runserver，或者将 runserver 与工头一起使用。

有什么想法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:18:47.657

不知道为什么没有检索到静态文件，但`DEBUG = False`500 错误只是由我的`ALLOWED_HOSTS`设置引起的，修复它不会产生进一步的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:04:15.363

我会在 gunicorn 下运行时尝试打印设置，看看您的媒体 URL 是否正确以及 js 文件是否确实可以访问。

至于 500 错误，它可能试图向您显示 404 页面，但您没有它的模板，因此它会引发 500 和旧的 django 怪癖；）

PS。这一切都假设您在该错误中验证了正确的 URL 模式

# jquery - 如何通过地图 反对jquery？

> ID：15872680
> 
> 赞同：0
> 
> 时间：2013-04-08T06:31:42.980
> 
> 标签：jquery, jsp

目前我正在尝试从选择标签中选择多个选项并将其保存到数据库中，我成功地做到了。

现在我想检索这些数据并将其设置在 jsp 页面中。为此，我正在从数据库中检索数据并创建一个列表。最后，我将此列表设置为地图。

例如：我从数据库中获取分钟列表、小时列表、周列表并将它们设置如下

```
 scheduleMap.put("minutes", minutesList);
     scheduleMap.put("hours", hoursList);
     scheduleMap.put("weeks", weeksList); 
```

现在我需要在我的 jsp 中检索这个映射并在 jsp 中设置相应的值。请建议我完成这项任务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T13:29:24.307

您需要提供有关您想要实现的目标的更多信息。

如果您想在 JSP 中访问 scheduleMap，那么您需要在您的 servlet 或控制器中将其设置为请求属性。如果您已经在 J​​SP 中编写了整个代码，那么您已经可以使用 scheduleMap 变量。

现在您想在 jquery 中访问它，因此最好的选择是将其转换为 JSON 格式然后使用它。

还取决于您做什么/如何做，您也可以进行 AJAX 调用来检索 scheduleMap。

# ruby - 使用 Ruby XcodeProj 创建 Xcode 项目

> ID：15872684
> 
> 赞同：3
> 
> 时间：2013-04-08T06:32:06.330
> 
> 标签：ruby, xcode, cocoapods

我的想法是制作一个类似于 rails setup 应用程序的命令行实用程序。它应该自动创建一个 Xcode 项目，设置单元测试，设置 Frank，安装最常用的 Cocoapods 并设置一个项目结构。

目前没有这样的东西，我真的很想拥有它并开源它。我昨天在这里为其他问题苦苦挣扎，但没有发现任何最新信息。

我提出了使用[XcodeProj](https://github.com/CocoaPods/Xcodeproj)的想法，CocoaPods使用它来生成包含 Pod 的项目。所以应该不是不可能做到的。我还找到[了 XcodeProject](https://github.com/manifest/xcodeproject)，但这似乎是只读的。

有人（也许是 Cocoapods 开发人员）可以给我一个提示，因为 Xcodeproj gem 是非常无证的。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-08T13:22:43.633

开始使用 Xcodeproj 的最佳位置是[`Xcodeproj::Project`](http://docs.cocoapods.org/xcodeproj/xcodeproj/project/index.html#initialize)类。

打开项目后，Xcodeproj API 允许轻松编辑所有已知属性。但是，您需要牢记以下概念：

*   如果属性是字符串，您可以直接对其进行编辑。
*   如果一个属性存储了一个对象，则有必要要求项目[创建一个新](http://docs.cocoapods.org/xcodeproj/xcodeproj/project/index.html#new)对象，以便它有机会分配一个 UUID。
*   如果您正在编辑存储对象列表的属性，则仅使用[ObjectList](http://docs.cocoapods.org/xcodeproj/xcodeproj/project/objectlist/)公开的方法是安全的。
*   当您为属性赋值时，Xcodeproj 会执行类型检查。

以下经过轻微测试的代码应该可以帮助您入门，方法是创建一个名为 Test 的新项目，该项目具有一个名为 App 的目标，用于 iOS 6.0 的部署目标，该目标将 Class.h 和 Class.m 文件添加到项目中，确保包含 Class.m在目标。

```
require 'xcodeproj'

proj = Xcodeproj::Project.new
app_target = proj.new_target(:application, 'App', :ios, '6.0')
header_ref = proj.main_group.new_file('./Class.h')
implm_ref = proj.main_group.new_file('./Class.m')
app_target.add_file_references([implm_ref])

proj.save_as('Test.xcodeproj') 
```

请让我们知道，打开一个问题，您觉得文档的哪些部分令人困惑。如需更多业力，请使用拉取请求。

# mysql - SQL初学者如何处理多个查找表？

> ID：15872688
> 
> 赞同：0
> 
> 时间：2013-04-08T06:32:24.133
> 
> 标签：mysql, sql, join

我很难把头绕在多个查找表上。我有一个中央表，其中包含所有信息，但每列中有 ID：

```
db_supply (Main supplier information data table)
 -----------------------------------------------
| Supplier_ID | Supply_Type_ID | Itm_ID | Stock |
|-----------------------------------------------|
| 1           | 1              | 33     | 3     |
|-----------------------------------------------|
| 2           | 2              | 28     | 1     |
 -----------------------------------------------

lookup_supplier
 -----------------------------
| Supplier_ID | Supplier_Name |
|-----------------------------|
| 1           | Walter        |
|-----------------------------|
| 2           | Jesse         |
 -----------------------------

lookup_supply_type
 -----------------------------------
| Supply_Type_ID | Supply_Type_Name |
|-----------------------------------|
| 1              | Import           |
|-----------------------------------|
| 2              | Delivery         |
 -----------------------------------

lookup_itm
 ------------------------
| Itm_ID | Itm_Name      |
|------------------------|
| 33     | Pickles       |
|------------------------|
| 28     | Burger        |
 ------------------------

A query for 'Burger' will output this table:
 -----------------------------------------------------
| Supplier_Name | Supply_Type_Name | Itm_Name | Stock |
|-----------------------------------------------------|
| Jesse         | Delivery         | Burger   | 1     |
 ----------------------------------------------------- 
```

我将如何实现这一目标？到目前为止，我有：

`SELECT * FROM db_supply WHERE Itm_ID = (SELECT Itm_ID FROM lookup_itm WHERE Itm_Name = 'Burger')`

这会给我`db_supply`表格的第二行，其中的 ID 尚未查找。我必须嵌套我的选择来查找多个表吗？这里不知道。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:35:47.623

```
SELECT  b.Supplier_Name,
        c.Supply_Type_Name,
        d.Itm_Name,
        a.Stock
FROM    db_supply a
        INNER JOIN lookup_supplier b
            ON a.Supplier_ID = b.Supplier_ID
        INNER JOIN lookup_supply_type c
            ON a.Supply_Type_ID = c.Supply_Type_ID
        INNER JOIN lookup_itm d
            ON a.Itm_ID = d.Itm_ID
WHERE   d.Itm_Name = 'Burger' 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/89656/3)

要进一步了解有关联接的更多信息，请访问以下链接：

*   [SQL 连接的可视化表示](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

输出

```
╔═══════════════╦══════════════════╦══════════╦═══════╗
║ SUPPLIER_NAME ║ SUPPLY_TYPE_NAME ║ ITM_NAME ║ STOCK ║
╠═══════════════╬══════════════════╬══════════╬═══════╣
║ Jesse         ║ Delivery         ║ Burger   ║     1 ║
╚═══════════════╩══════════════════╩══════════╩═══════╝ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:43:31.937

**尝试以下查询：**

```
select b.Supplier_Name,c.Supply_Type_Name,d.itemName  from db_supply a,lookup_supplier b,lookup_supply_type c,lookup_itm d where a.Supplier_ID=b.Supplier_ID and a.Supply_Type_ID=c.Supply_Type_ID and a.Itm_ID=d.Itm_ID and d.Itm_Name='Burger' 
```

# opengl - 绘制棱镜的标准顺序？

> ID：15872689
> 
> 赞同：0
> 
> 时间：2013-04-08T06:32:25.140
> 
> 标签：opengl, drawing, rendering, standards, immediate-mode

使用OpenGL在矩形棱镜上绘制面是否有标准顺序？如果我要写一个“棱镜”函数，我想写它以按特定顺序渲染吗？在正面之前绘制背面是否有任何技术原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T10:32:09.717

如何解释/回答您的问题有两种可能性。

**z-buffer被禁用的解释**

如果是这种情况，那么您绘制的所有图元都将按该顺序绘制。因此，您需要按特定顺序编写它。

**启用 z-buffer 的解释**

如果是这种情况，它并不关心您将多边形发送到显卡的顺序。没有标准顺序

# node.js - 在 express.js+node.js 中处理 url？接受特定单词、双斜线等

> ID：15872694
> 
> 赞同：1
> 
> 时间：2013-04-08T06:32:45.257
> 
> 标签：node.js, express, url-routing

**作业：**
我对 node.js 中的 url 处理知之甚少

```
app.param('id', /^\d+$/);
app.get('/user/:id', function(req, res){
    res.send('user ' + req.params.id);
}); 
```

将只接受 /user/1, /user/2 ...即 id 仅作为整数

```
app.get('/:type(discussion|page)/:id', ...) 
```

将只接受具有讨论或页面价值的类型

```
app.param('range', /^(\d+)\-(\d+)?$/);
app.get('/range/range=:range', function(req, res){
var range = req.params.range;
    res.send('from ' + range[1] + ' to ' + range[2]);
}); 
```

将轻松处理整数范围并直接给我们一个数组，无需任何拆分或解析和验证。

**问题 ：**

1.  通常服务器以相同的方式接受 www.example.com/path 和 www.example.com//path 但在 node.js 中我必须编写两个单独的 app.get 检查来做到这一点。如何仅通过一项检查来实现这一点，以便 /path、//path、///path 给出相同的响应

2.  我有一个查找 /:path 的 url，并且 path 可以采用字典中列出的值

    ```
    var dict={ 
        "a":"You called a", 
        "b": "b is second", 
        "c": "cats are all over internet"
    }
    app.get('/:charc',function(req,res){ 
       res.send(dict[charc]);
    }); 
    ```

    如何限制应用程序仅接受 a,b,c 而不设置 if else 条件。目前我正在做

    ```
    if (typeof dict[charc] == 'undefined') res.send(404, 'Sorry, we cannot find that!'); 
    ```

3.  我可以在“？”之后以同样的方式调用范围参数（来自作业部分）像

    ```
    app.get('/range?range=:range',... 
    ```

    带有网址 www.example.com/range?range=123-234

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-07-09T08:04:11.407

关于#1，如果没有更好的解决方案，例如 app.use(function (req,res,next) { req.url = req.url.replace(/[/]+/g, '/'); next(); }); 将确保没有后续路线会看到任何重复的斜杠。-@Andreas Hultgren

关于#3，我很确定不可能将查询字符串与 express 路由器匹配。虽然找不到证实这一点的来源。-@Andreas Hultgren

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-14T14:31:15.117

@Gaurav 对#1 的评论的跟进：与其更改路由中的 url 并继续处理请求，*不如*触发 3xx 重定向，以便将有问题的请求转发到规范变体。（通过这种方式，正确的 URL 会在浏览器中更新。或者任何发出请求的客户端都知道原始双斜杠 URL 在技术上是无效的。）

# android - 为什么 4" 和 5" 屏幕不能正确显示图像

> ID：15872696
> 
> 赞同：0
> 
> 时间：2013-04-08T06:32:49.573
> 
> 标签：android, screen, resolution, hdpi, mdpi

我开发了一个简单的应用程序并使用屏幕分辨率 480*800 mdpi 模拟器对其进行编译。它显示所有图像都完美地放置在屏幕上。

我只在可绘制文件夹中添加了图像。

但是当我使用 480*800 hdpi 模拟器尝试相同的应用程序时，图像在屏幕上看起来很大，并且所有对齐都会分散注意力。

对于相同的屏幕分辨率（即 480*800），我是否需要不同的图像尺寸来获得 mdpi 和 hdpi 像素密度？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:41:50.413

是的。对于不同的屏幕密度，您应该提供适当缩放的位图。

这样，它们将在所有设备上看起来最好，而无需 Android 扩展它们。

此链接应为您提供重要的入门信息：http: [//developer.android.com/training/basics/supporting-devices/screens.html](http://developer.android.com/training/basics/supporting-devices/screens.html)

# java - 在 facebook 中解析signed_request

> ID：15872698
> 
> 赞同：3
> 
> 时间：2013-04-08T06:33:08.517
> 
> 标签：java, facebook, jsp

我正在尝试在 32 位操作系统中**解析 facebook signed_request 。**在 64 位操作系统中解析 signed_request 的 java 代码工作正常。当我在 32 位操作系统中使用修改后的代码时，它会给出以下错误**'Unexpected character (£) at position 0'**。请帮我确定问题。

```
if (request.getParameter("signed_request") != null)
{
    signed_request  =   request.getParameter("signed_request");
    //out.print("<br>signed_request: "+signed_request);
    try
    {
        System.out.println("signed_request"+signed_request);
        System.out.println("signed_request1");
        fb_data = parse_signed_request(signed_request, secretKey);
    }
    catch(Exception e)
    {
        System.out.println("error"+e);
    }
}

  public static Map parse_signed_request(String input, String secret) throws Exception {
    return parse_signed_request(input, secret, 3600);
  }

  public static Map parse_signed_request(String input, String secret, int max_age) throws Exception {
    String[] split = input.split("[.]", 2);

    String encoded_sig = split[0];
    String encoded_envelope = split[1];
    JSONParser parser = new JSONParser();
    Map envelope = (Map) parser.parse(new String(base32_url_decode(encoded_envelope)));

    String algorithm = (String) envelope.get("algorithm");

    if (!algorithm.equals("HMAC-SHA256")) {
      throw new Exception("Invalid request. (Unsupported algorithm.)");
    }

    if (((Long) envelope.get("issued_at")) < System.currentTimeMillis() / 1000 - max_age) {
      throw new Exception("Invalid request. (Too old.)");
    }

    byte[] key = secret.getBytes();
    SecretKey hmacKey = new SecretKeySpec(key, "HMACSHA256");
    Mac mac = Mac.getInstance("HMACSHA256");
    mac.init(hmacKey);
    byte[] digest = mac.doFinal(encoded_envelope.getBytes());

    if (!Arrays.equals(base32_url_decode(encoded_sig), digest)) {
      throw new Exception("Invalid request. (Invalid signature.)");
    }

    return envelope;
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-26T13:09:38.287

使用`base64`方法来解码 JSON 对象。无需修改它，`base32`因为它与操作系统架构没有关联。

修正缺陷：

```
Map envelope = (Map) parser.parse(new String(base64_url_decode(encoded_envelope))); 
```

# c++ - 如何使用 cpp 将类的成员写入二进制文件？

> ID：15872700
> 
> 赞同：1
> 
> 时间：2013-04-08T06:33:23.003
> 
> 标签：c++, class, binaryfiles, data-members

我正在 cpp 中编写一个小型后端，我必须将一些填字游戏数据写入二进制文件。我创建了一个 XWPuzzle 类，它的所有数据成员都是公开的，xWord 是这个类的一个对象。这是我试图写入二进制文件的一段代码：

```
#include"binIncludes.h"

int main(int argc, char** argv)
{
    cout<<"Bin read-write Tester\n";
    xWord.title="Yeah!\0";
    xWord.author="Nobody\0";
    xWord.grid=147;
    xWord.userGrid=109;
    xWord.clues[0]="as\0";
    xWord.clues[1]="de\0";
    xWord.clues[2]="re\0";
    xWord.solution[0]="ASSET\0";
    xWord.solution[1]="DEER\0";
    xWord.solution[2]="REED\0";
    xWord.checksum=(int)(xWord.title.at(0))+(int)(xWord.author.at(0))+xWord.grid+xWord.userGrid;
    xWord.checksum+=(int)(xWord.clues[0].at(0))+(int)(xWord.clues[1].at(0))+(int)(xWord.clues[2].at(0));
    xWord.checksum+=(int)(xWord.solution[0].at(0))+(int)(xWord.solution[1].at(0))+(int)(xWord.solution[2].at(0));
    fstream file;
    file.open("binTest.bin",ios::out|ios::binary);
    file.write(SIGNATURE,sizeof(SIGNATURE));
    file.write(VERSION,sizeof(VERSION));
    file.write(TYPE,sizeof(TYPE));
    file.write((char*)xWord.checksum,sizeof(xWord.checksum));
    file.write(xWord.title.c_str(),xWord.title.size());
    file.write(xWord.author.c_str(),xWord.author.size());
    file.write((char*)xWord.grid,sizeof(xWord.grid));
    file.write((char*)xWord.userGrid,sizeof(xWord.userGrid));
    file.close();
    cout<<"File written\n";
    _getch();
    return 0;
} 
```

SIGNATURE、VERSION 和 TYPE 都是以 null 结尾的字符串，但是编译后的程序在到达该行时会抛出错误

```
file.write((char*)xWord.checksum,sizeof(xWord.checksum)); 
```

调试器在 MSVCR100.dll 处引发第一次机会异常（访问冲突读取位置错误）。我是否以错误的方式使用班级成员做错了什么？这是一个独立的项目，而不是任何作业。我已经为此跑了两天了。任何具体的帮助表示赞赏。谢谢。

除了这个类的数据，我还有其他数据要写。

编辑：

XWPuzzle.h：

```
#ifndef XWPULZZLE_H
#define XWPUZZLE_H

#include"binIncludes.h"

class XWPuzzle
{
    public:
        string title;
        string author;
        int grid;
        int userGrid;
        string clues[3];
        string solution[3];
        int checksum;
} xWord;

#endif 
```

binDefines.h：

```
#ifndef BIN_DEFINES_H
#define BIN_DEFINES_H

#include"binIncludes.h"

#define SIGNATURE "BinFile\0"
#define VERSION "0.1.1\0"
#define TYPE "With Solution\0"

#endif 
```

binIncludes.h：

```
#ifndef BIN_INCLUDES_H
#define BIN_INCLUDES_H

#include<iostream>
#include<conio.h>
#include<string>
#include<fstream>

using namespace std;

#include"binDefines.h"
#include"XWPuzzle.h"

#endif 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T08:34:18.620

您正在将整数转换为指针并尝试通过此指针写入数据。那是错误的。您应该获取指向校验和的指针，将其转换然后写入

file.write((char*)(&xWord.checksum),sizeof(xWord.checksum));

与 grid 和 userGrid 字段相同

# gwt - 与 GWT 或 GXT 的多个浏览器窗口通信

> ID：15872701
> 
> 赞同：1
> 
> 时间：2013-04-08T06:33:23.370
> 
> 标签：gwt, gxt, jsni

我正在构建一个系统，该系统将在公司环境中用作用户的主要工作环境。我们希望能够为某些功能打开第二个浏览器窗口并让两个窗口进行通信（例如，在一个窗口上浏览映射界面，选择一个对象并在另一个窗口的编辑器中打开它）。我有两个选择：

1）尝试实现一些JSNI方法来获取Window上的句柄并以此方式进行通信。

2) 实现一个长轮询服务器，通过 cookie 通过共享会话传递事件

关于如何实现选项 1，是否有任何示例或建议？我正在使用 GWT 和 GXT。

或者，您对如何实现多浏览器通信有其他建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:34:34.813

看看[GWT 活动和地点](https://developers.google.com/web-toolkit/doc/latest/DevGuideMvpActivitiesAndPlaces)。我认为这应该是你的解决方案

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T17:50:49.113

我通过 JMS 服务器使用 websockets 进行浏览器到浏览器的通信以进行广播。设置中继服务器相对简单。

如果您可以将有效负载编码为加载到其他窗口位置的 URL，则位置可能是解决方案。

回复：空GwtEvent

从[javadoc](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/event/shared/GwtEvent.html)：

> 所有 GWT 事件都被认为是死的，一旦最初触发事件的 HandlerManager 完成，就不应再访问它。也就是说，不要保留处理程序方法之外的事件对象。

或许您应该按照关于 javascript 覆盖类型的[此博客条目](http://googlewebtoolkit.blogspot.com/2008/08/getting-to-really-know-gwt-part-2.html)将您的 GwtEvent 复制到 JavaScriptObject 中，然后再进一步转发它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-15T01:44:17.523

感谢您的建议。我们计划重新审视我们的导航机制，活动和地点看起来像是一种非常整洁的做事方式。现在，我们通过针对 EventBus 触发的事件进行导航，Navigation 类会监听并相应地引导导航。

我已经通过 JSNI 进行了通信。但是，我有一个烦人的问题。新窗口调用：

```
public native void fireCrossBrowserEvent(GwtEvent<?> event) /*-{
    $wnd.opener.fireCrossBrowserEvent(event);
}-*/; 
```

在主窗口中调用此方法：

```
$wnd.fireCrossBrowserEvent = $entry(function(event) {
    $wnd.alert("fireCrossBrowserEvent: " + event);
    @my.application.client.event.EventBus::fireEvent(Lcom/google/gwt/event/shared/GwtEvent;)(event);
}); 
```

调用：

```
public static void fireEvent(GwtEvent<?> event) {
    System.out.println("fireEvent: " + event);
    bus.fireEvent(event);
} 
```

我最终使用 google AutoBean 来同步和取消同步事件以通过 JSNI 发送。一切都很好。此外，为了与子窗口进行通信，我必须创建一个新的 Native 方法来替换 GWT 的 Window.open 方法，以便它返回对新窗口的引用。javascript 函数返回对新窗口的引用，但由于某种原因，GWT 的包装器返回 void。

# sql - T-SQL - 转换数据类型时出错 - 显示违规行

> ID：15872702
> 
> 赞同：5
> 
> 时间：2013-04-08T06:33:28.630
> 
> 标签：sql, sql-server, tsql

在一个简单的`INSERT`命令上，我收到一个错误：

> 转换数据类型时出错...

源数据有多个来源，组合起来有数十万行。

我可以重写我的语句以捕获错误并显示有问题的数据吗？

谢谢！

编辑：

代码请求：

```
insert Table_A 
  ([ID]
  ,[rowVersion]
  ,[PluginId]
  ,[rawdataId]
    ...
    ...
    ...
    )
select [ID]
      ,[rowVersion]
      ,[PluginId]
      ,[rawdataId]
       ...
       ...
       ...
FROM TABLE_B 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-08T06:53:18.737

这是我在处理这个问题时采取的两种方法。该问题是由从字符串到日期的隐式转换引起的。

如果您碰巧知道正在转换哪个字段（在您的示例中可能是这样，但在我的示例中并非总是如此），那么只需执行以下操作：

```
select *
from table_B
where isdate(col) = 0 and col is not null 
```

这可能并不适合所有数据类型，但在实践中对我来说效果很好。

有时，当我想在*select*语句中找到有问题的行时，我会运行`select`，将数据输出为文本而不是网格。这是 SSMS 中的选项之一，位于菜单下方的图标行中。它将输出错误之前的所有行，这可以让您识别有错误的行。这在有`order by`子句时效果最好，但出于调试目的，它对我有用。

在您的情况下，我可能会创建一个包含字符串的临时表，然后对这个临时表进行分析，特别是如果 Table_B 不是真正的表而是更复杂的查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T06:54:20.797

查询语句`insert into...select`或 `select ... into ... from` 没有能力找到有问题的数据。相反，您可以使用**BCP**设置`max_erros`并将`err_files`所有有问题的数据输出到错误文件中。然后您可以简单地分析错误文件以查找所有违规行。
**[MSDN BCP]** [1](http://msdn.microsoft.com/en-us/library/ms162802.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T06:54:29.627

一种解决方案是进行[二进制搜索](http://en.wikipedia.org/wiki/Binary_search_algorithm)以找到有问题的值。您可以按列和按行执行此操作：

*   尝试只插入一半的列，如果这适用于另一半列。

*   尝试只插入一半的行数。如果这对另一半有效。

并重复，直到你发现问题。

# android - 线程：崩溃并显示消息“java.lang.RuntimeException：无法实例化活动”

> ID：15872704
> 
> 赞同：0
> 
> 时间：2013-04-08T06:33:31.447
> 
> 标签：android, multithreading, sockets, fatal-error

我知道这个问题已经处理了很多时间，但我真的找不到我的问题的答案。这是一个连接到服务器的应用程序，所以，有一个套接字，这就是我使用线程的原因（自 android 4.0 以来我不能做任何其他事情），但即使我禁用了我的套接字的代码，它仍然崩溃。

这是 logCat 错误：

```
04-08 08:36:39.366: D/AndroidRuntime(16604): Shutting down VM
04-08 08:36:39.366: W/dalvikvm(16604): threadid=1: thread exiting with uncaught                exception (group=0x4122f300)
04-08 08:36:39.366: E/AndroidRuntime(16604): FATAL EXCEPTION: main
04-08 08:36:39.366: E/AndroidRuntime(16604): java.lang.RuntimeException: Unable to   instantiate activity   ComponentInfo{com.example.projetlyres2013/com.example.projetlyres2013.PlanDMX}:   java.lang.NullPointerException
04-08 08:36:39.366: E/AndroidRuntime(16604):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1983)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at android.app.ActivityThread.access$600(ActivityThread.java:130)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at android.os.Handler.dispatchMessage(Handler.java:99)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at android.os.Looper.loop(Looper.java:137)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at android.app.ActivityThread.main(ActivityThread.java:4745)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at java.lang.reflect.Method.invokeNative(Native Method)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at java.lang.reflect.Method.invoke(Method.java:511)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at dalvik.system.NativeStart.main(Native Method)
04-08 08:36:39.366: E/AndroidRuntime(16604): Caused by: java.lang.NullPointerException
04-08 08:36:39.366: E/AndroidRuntime(16604):    at android.app.Activity.findViewById(Activity.java:1825)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at com.example.projetlyres2013.PlanDMX.<init>(PlanDMX.java:27)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at java.lang.Class.newInstanceImpl(Native Method)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at java.lang.Class.newInstance(Class.java:1319)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at android.app.Instrumentation.newActivity(Instrumentation.java:1053)
04-08 08:36:39.366: E/AndroidRuntime(16604):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1974)
04-08 08:36:39.366: E/AndroidRuntime(16604):    ... 11 more
04-08 08:36:41.326: I/Process(16604): Sending signal. PID: 16604 SIG: 9
04-08 08:46:26.556: D/AndroidRuntime(16825): Shutting down VM 
```

**///////// 显现 /////////**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.projetlyres2013"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="16" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.example.projetlyres2013.PlanDMX"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

</application>

</manifest> 
```

我不知道当我想在我的平板电脑（android 4.1）上启动它时发生了什么。我真的需要帮助：/

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:49:13.717

这里的 NullPointer 表示您没有将布局 XML 设置为 Activity 的 contentView。在 Activity 的 onCreate(...) 方法中添加

```
setContentView(R.layout.some_layout-file) 
```

# javascript - 谷歌地图第一次没有加载

> ID：15872705
> 
> 赞同：5
> 
> 时间：2013-04-08T06:33:48.473
> 
> 标签：javascript, jquery, google-maps, jquery-mobile, google-maps-api-3

我正在使用 Google Maps JavaScript API 在我的移动网站中加载地图。当我从上一页导航时，地图不会加载，但如果我按预期刷新页面地图加载。如果我在正文中使用 JavaScript，即使页面没有加载。我无法弄清楚问题所在。与上一页代码有关吗？

这是我在 Head 标签中的代码。

```
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"> 
<link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.1.0.min.css" />  
<link href="css/site.css" rel="stylesheet" type="text/css" />
<script src="./js/jquery-1.9.1.js"></script>
<script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>
<script type="text/javascript" 
src="http://maps.googleapis.com/maps/api/js?key=xxxxxxxx&sensor=false">
</script>
        <script type="text/javascript">
            function initialize() {
                var myLatlng = new google.maps.LatLng(<?php echo $longtitude ?>, <?php echo $latitude ?>);

                var mapOptions = {
                  zoom: 10,
                  center: myLatlng,
                  mapTypeId: google.maps.MapTypeId.ROADMAP
                };

                var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

                var marker = new google.maps.Marker({
                    position: myLatlng,
                    map: map,
                    title: 'Location'
                });
            }
             google.maps.event.addDomListener(window, 'load', initialize);

             $(document).delegate('#content', 'pageinit', function () {
               navigator.geolocation.getCurrentPosition(initialize);
                });
        </script>
</head> 
```

这是我的身体标签

```
<body >
    <div id="wrapper">
        <div class="header">
            <a href="index.html"><img src="images/logo-small.png" alt="logo"/></a>
        </div>
        <div class="back">
        <a data-rel="back"><img src="images/back.png"/></a>
    </div> 
        <div id="content">
            <div class="list">
                <div class="list-items" id="info">
                    <?php echo "<h3>$sa1<span>$postcode<span>$sa2</span></span></h3><h2>$price</h2>";?>
                <br class="clear" />
                <br class="clear" />
                </div>
            </div>
            <br class="clear" />
        <div id="map-canvas">
        </div>
    </div>
    </div>
</body> 
```

我提到了[这个](https://stackoverflow.com/questions/13945586/google-maps-not-loading-correclty-when-first-viewing-website)和[这个](https://stackoverflow.com/questions/15752264/google-maps-does-not-initialize-first-time)问题，但它不适用于我的代码。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-08T08:41:36.943

# 问题

首先，您为什么使用 jQuery Mobile？我在您当前的示例中看不到重点。

在这种情况下，jQuery Mobile 是主要问题。因为使用了 jQuery Mobile，所以所有内容都将加载到 DOM 中。当您“从上一页导航”页面未刷新并且此行：

```
google.maps.event.addDomListener(window, 'load', initialize); 
```

无法触发。仅当您手动刷新页面时才会触发。

第二件事，你不能在没有任何页面的情况下使用 jQuery Mobile 页面事件。在您的代码中，您有这部分：

```
$(document).delegate('#content', 'pageinit', function () {
    navigator.geolocation.getCurrentPosition(initialize);
}); 
```

要想成功地使用 id 内容初始化 div，必须有另一个名为 data-role="page" 的属性，如下所示：

```
<div id="content" data-role="page">

</div> 
```

第三件事。让我们假设其他一切都很好。Pageinit 不会从 HEAD 触发。当 jQuery Mobile 加载页面时，它会将它们加载到 DOM 中，并且只会加载 BODY 部分。因此，要使您的地图正常工作，您需要将我们的 javascript 移动到 BODY（包括 css）。在您的第一个示例中，它不起作用，因为您甚至在非页面 div 容器上也触发了页面。

最后一件事，如果你想正确使用 jQuery Mobile，你需要注意正确版本的 jQuery 与正确版本的 jQuery Mobile 一起使用。如果你想安全使用 jQ 1.8.3 和 jQM 1.2

# 解决方案

这是一个有效的解决方案：

```
<!DOCTYPE html>
<html>
    <head>
        <title>jQM Complex Demo</title>
        <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; minimum-scale=1.0; user-scalable=no; target-densityDpi=device-dpi"/>
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
        <script src="http://www.dragan-gaic.info/js/jquery-1.8.2.min.js"></script>          
        <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>                  
    </head>
    <body>
        <style>
            #map-canvas {
                width: 300px;
                height: 300px;
            }
        </style>            
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>       
        <script type="text/javascript">
            function initialize() {     
                var myLatlng = new google.maps.LatLng(33.89342, -84.30715);

                var mapOptions = {
                  zoom: 10,
                  center: myLatlng,
                  mapTypeId: google.maps.MapTypeId.ROADMAP
                };

                var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

                var marker = new google.maps.Marker({
                    position: myLatlng,
                    map: map,
                    title: 'Location'
                });
            }

            //google.maps.event.addDomListener(window, 'load', initialize);

            $(document).on('pageshow', '#wrapper', function(e, data){       
                initialize();
            });             
        </script>   
        <div id="wrapper" data-role="page">
            <div class="header">
                <h3>Test</h3>
                <a href="index.html"><img src="images/logo-small.png" alt="logo"/></a>
            </div>
            <div id="content">
                <div id="map-canvas"></div>
            </div>
        </div>  
    </body>
</html> 
```

可以在这篇**[文章](http://www.gajotres.net/using-google-maps-javascript-api-v3-with-jquery-mobile/)**中找到有关此主题的工作示例和更多信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-17T04:12:43.480

只需添加：`data-ajax="false"`到链接标签，该标签重定向到包含您的地图的页面。例如，如果 map.aspx 包含您的地图，您可以像这样链接到它：

```
<a href="map.aspx" data-ajax="false">
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-06-28T10:07:47.710

我遇到了同样的问题，但我没有任何 jquery-mobile 图书馆或任何其他会与地图冲突的东西。苦苦挣扎，我为我的项目找到了解决方案：

不起作用：

```
<script src="http://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY" async defer>
</script> 
```

作品（删除 async 和 defer 属性）：

```
<script src="http://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY"></script> 
```

希望！如果其他解决方案不起作用，这会对某人有所帮助。仅当其他解决方案都不起作用时才尝试此操作，因为这不是一个好的建议，因为我们知道谷歌页面速度指南或谷歌地图 api 指南说要使用它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-12-09T13:01:40.273

`google.maps.event.addDomListener(window, 'load', initialize);`我的方法在哪里初始化也有同样的问题 。我之前只添加了几行代码`google.maps.event.addDomListener(window, 'load', initialize);`

代码是

```
 $(document).ready( function () {
        initialize();
    }); 
```

这段代码对我有用

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-08T08:25:42.887

您应该使用该`pageload`事件来加载所有内容。这样，一旦 jquery Mobile 完成了它需要的所有 DOM 更改，一切都会被加载。我遇到了同样的问题，这就是帮助。

```
$(document).on('pageload', function() {
  initialize();
}); 
```

它在文档中： http: [//api.jquerymobile.com/pageload/](http://api.jquerymobile.com/pageload/)

编辑：有时它也有助于在一个单独的函数中加载标记而不是加载地图。

# javascript - HTML5 地理位置、JavaScript 和存储在数据库中

> ID：15872715
> 
> 赞同：1
> 
> 时间：2013-04-08T06:34:25.587
> 
> 标签：javascript

以下代码是 JSP 中的 JavaScript。我想通过设置 HTML 上两个隐藏字段的值（称为“纬度”和“经度”）将用户的纬度和经度位置存储在 MySQL 数据库中。但是，当参数“纬度”和“经度”发送到数据库时，它们是空的！为什么这段代码不起作用？任何帮助将不胜感激！

```
//in my onSubmit() JavaScript function 
latitude = position.coords.latitude;
longitude = position.coords.longitude;
document.getElementById("latitude").value = String(latitude);
document.getElementById("longitude").value = String(longitude);
document.getElementById("study_session_form").action = "CreateStudySessionServlet";
document.getElementById("study_session_form").submit();

//in my HTML
<td><input type="hidden" id="latitude" /></td>                   
<td><input type="hidden" id="longitude" /></td>
<td><button id="submit_button” onclick="onSubmit();">Submit</button></td> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T06:39:11.823

您需要设置`name`属性，在表单提交期间不会发送 ID。例如

```
<input type="hidden" id="longitude" name="longitude" /> 
```

# spring-mvc - 在春季测试dao测试类时出现NoUniqueBeanDefinitionException

> ID：15872717
> 
> 赞同：0
> 
> 时间：2013-04-08T06:34:27.980
> 
> 标签：spring-mvc, junit, dao

嗨，我正在尝试将我的 DaoTest 类测试为 junit 测试。在运行该类时，我得到：

> java.lang.NoClassDefFoundError: org/springframework/beans/factory/NoUniqueBeanDefinitionException。

我查看了互联网，发现这可能不仅仅是因为在配置文件中引用了您的 bean。但我无法弄清楚我如何对豆类有不止一个参考。

这里是`UserDaoTest`类：

```
@ContextConfiguration (locations = "classpath:persistence-beans.xml")
public class UserDaoTest extends DomainAwareBase {

@Autowired
@Qualifier("userDao")
private UserDao userDao;

@Test
public void testUpdate() {

    int size = userDao.list().size();

    User user = new User(1, "jimmy", "password", "admin", "sales");

    userDao.add(user);

    Assert.assertTrue(size < userDao.list().size());

}

@Test
public void testFind() {
    User user = new User(1, "jimmy", "password", "admin", "sales");

    userDao.add(user);
    User found = userDao.find(user.getUserId());

    Assert.assertEquals(user, found);
}

@Test
public void testList() {
    Assert.assertEquals(0, userDao.list().size());
    User user1 = new User(1, "jimmy", "password", "admin", "Sales");
    User user2 = new User(2, "pankit", "pankit", "admin", "HR");
    User user3 = new User(3, "abc", "abc", "admin", "Engineer");

    List<User> users = Arrays.asList(user1, user2, user3);

    for (User user : users) {

        userDao.add(user);
    }

    List<User> found = userDao.list();
    Assert.assertEquals(3, userDao.list().size());

    for (User user : found) {

        Assert.assertTrue(users.contains(user));

    }

}

@Test
public void testRemove() {

    User user1 = new User(1, "jimmy", "password", "admin", "Sales");

    userDao.add(user1);
    Assert.assertEquals(user1, userDao.find(user1.getUserId()));

    userDao.remove(user1);
    Assert.assertNull(userDao.find(user1.getUserId()));

}

} 
```

这是我的`persistence-beans.xml`：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd">

<!-- we can use annotations -->
<context:annotation-config />

<!-- package to look for annotated classes -->
<context:component-scan base-package="com.finalproject" />

<!-- we will manage transactions with annotations -->
<tx:annotation-driven />

<!-- data source for our database -->

<bean id="dataSource"

    class="org.springframework.jdbc.datasource.DriverManagerDataSource">

    <property name="driverClassName"
        value="com.mysql.jdbc.jdbc2.optional.MysqlDataSource" />

    <property name="url"
        value="jdbc:mysql://localhost:3306/leadmanagement_db" />
    <property name="username" value="root" />

    <property name="password" value="root" />

</bean>

<bean id="transactionManager"

    class="org.springframework.orm.hibernate3.HibernateTransactionManager">

    <property name="sessionFactory" ref="sessionFactory" />

</bean>

<!-- configure hibernate session factory -->

<bean id="sessionFactory"

    class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">

    <property name="dataSource" ref="dataSource" />

    <property name="configLocation">

        <value>classpath:hibernate.cfg.xml</value>

    </property>

    <property name="hibernateProperties">

        <props>

            <prop key="dialect">org.hibernate.dialect.MySQLDialect</prop>

            <prop key="hibernate.show_sql">true</prop>

            <prop key="hibernate.hbm2ddl.auto">update</prop>

        </props>

    </property>

</bean> 
```

**编辑** 这是我的堆栈跟踪

```
java.lang.NoClassDefFoundError: org/springframework/beans/factory/NoUniqueBeanDefinitionException
at java.lang.Class.getDeclaredMethods0(Native Method)
at java.lang.Class.privateGetDeclaredMethods(Class.java:2442)
at java.lang.Class.getDeclaredMethods(Class.java:1808)
at org.springframework.core.type.StandardAnnotationMetadata.hasAnnotatedMethods(StandardAnnotationMetadata.java:159)
at org.springframework.context.annotation.ConfigurationClassUtils.isLiteConfigurationCandidate(ConfigurationClassUtils.java:106)
at org.springframework.context.annotation.ConfigurationClassUtils.checkConfigurationClassCandidate(ConfigurationClassUtils.java:87)
at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:233)
at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:203)
at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:617)
at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:446)
at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:120)
at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:100)
at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:248)
at org.springframework.test.context.CacheAwareContextLoaderDelegate.loadContextInternal(CacheAwareContextLoaderDelegate.java:64)
at org.springframework.test.context.CacheAwareContextLoaderDelegate.loadContext(CacheAwareContextLoaderDelegate.java:91)
at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:122)
at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:109)
at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:75)
at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:312)
at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:211)
at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:288)
at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:284)
at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197) 
```

引起：java.lang.ClassNotFoundException: org.springframework.beans.factory.NoUniqueBeanDefinitionException at java.net.URLClassLoader$1.run(URLClassLoader.java:366) at java.net.URLClassLoader$1.run(URLClassLoader.java:355)在 java.security.AccessController.doPrivileged(Native Method) 在 java.net.URLClassLoader.findClass(URLClassLoader.java:354) 在 java.lang.ClassLoader.loadClass(ClassLoader.java:423) 在 sun.misc.Launcher$AppClassLoader .loadClass(Launcher.java:308) at java.lang.ClassLoader.loadClass(ClassLoader.java:356) ... 41 更多

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T11:11:26.980

您的类`NoUniqueBeanDefinitionException`路径中不存在类。**将spring-beans**依赖项/jar包含到您的测试类路径中，然后重试。

# magento - 如何在结帐/购物车页面中显示产品自定义选项

> ID：15872719
> 
> 赞同：1
> 
> 时间：2013-04-08T06:34:36.400
> 
> 标签：magento

我想在购物车页面上显示自定义选项，我尝试使用 $_options = $this->getOptionList() 但它只显示选定的选项，我想检索所有选项。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-09-24T11:14:16.590

要在“AddtoCart”时间设置的购物车页面获取产品自定义选项值，请尝试使用以下代码。

```
$cart = Mage::helper('checkout/cart')->getCart()->getQuote()->getAllItems();
/* cart item loop */
foreach($cart as $item) {

/* This will get custom option value of cart item */
$_customOptions = $item->getProduct()->getTypeInstance(true)->getOrderOptions($item->getProduct());

/* Each custom option loop */
foreach($_customOptions['options'] as $_option){
    echo $_option['label'] .'=>'. $_option['value']."<br/>";
    // Do your further logic here
   }
} 
```

已 [在购物车中显示 Magento 自定义选项值中回复](https://stackoverflow.com/questions/11992413/display-magento-custom-option-values-in-shoping-cart/18980004#18980004)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:58:41.720

您只能通过使用此功能获得选定的选项`$this->getOptionList()`，但如果您真的想检索所有自定义选项，那么首先您需要检索产品 id 您可以在购物车页面上获得这样的产品

```
$_item = $this->getItem();
$_item->getProduct(); 
```

这将从这里检索产品，您可以获得产品并加载产品。

```
$product = Mage::getModel('catalog/product')->load($_item->getProduct()->getData('entity_id'));

    $product = Mage::getModel('catalog/product')->load($product);

    foreach ($product->getOptions() as $o) {
           print_r($o); // show all product options
        }
    } 
```

# android - 安卓平板电脑的分屏概念

> ID：15872720
> 
> 赞同：-1
> 
> 时间：2013-04-08T06:34:37.633
> 
> 标签：android

我正在开发一个具有分屏功能的平板电脑应用程序，因为我们看到了一个 Gmail 应用程序。我的左侧布局是固定的，而我的右侧布局将根据单击它的按钮而改变。

```
 I googled a lot for the solution,I found that we need to use Fragments for performing these. 
```

谁能帮我解决这些问题。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:39:21.383

您本可以[浏览 d.android.com](http://developer.android.com/)，但现在我建议您在遇到问题/问题或寻求基本帮助时参考它。

现在，由于您想在 Android 中提供拆分功能类型的 UI，请检查：[构建灵活的 UI](http://developer.android.com/training/basics/fragments/fragment-ui.html)，我建议您学习和探索[Fragments](http://developer.android.com/guide/components/fragments.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:47:48.017

是的，你没看错。`Fragments`是这里的解决方案。使用 Fragments 很容易，它的生命周期类似于`Activity`. [首先在这里](http://developer.android.com/guide/components/fragments.html)大致了解一下 Fragment 是什么。浏览一些关于使用 Fragments 的教程：[这里](http://www.vogella.com/articles/AndroidFragments/article.html)和[这里](http://www.techrepublic.com/blog/app-builder/get-started-with-android-fragments/1050)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:58:54.567

这是您想要实现的工作示例，祝您好运！ [https://github.com/Jachu5/Android-UIprojects/tree/master/FragmentSplitedScreen](https://github.com/Jachu5/Android-UIprojects/tree/master/FragmentSplitedScreen)

# javascript - D3.js 多面积图不起作用

> ID：15872723
> 
> 赞同：0
> 
> 时间：2013-04-08T06:34:55.530
> 
> 标签：javascript, d3.js, data-visualization

我正在按照本[教程](http://tympanus.net/codrops/2012/08/29/multiple-area-charts-with-d3-js/)使用 D3.js 创建多个面积图，并且我想根据我的数据对其进行自定义。他的数据是：

```
Year, Variable1, Variable2, etc 
```

我的数据是

```
YYYYMMDD, variable1, variable2, etc 
```

我更改了这部分代码以将日期列转换为 Date 对象：

```
function createChart(data){
                            var countries = [];
                            var charts = [];
                            var maxDataPoint = 0;

                            /* Loop through first row and get each country 
                                and push it into an array to use later */
                            for (var prop in data[0]) {
                                if (data[0].hasOwnProperty(prop)) {
                                    if (prop != 'Day') {
                                        countries.push(prop);
                                    }
                                }
                            };

                            var countriesCount = countries.length;
                            var startYear = (data[0].Day).substr(0,4);
                            var endYear = (data[data.length - 1].Day).substr(0,4);
                            var chartHeight = height * (1 / countriesCount);

                            /* Let's make sure these are all numbers, 
                            we don't want javaScript thinking it's text 

                            Let's also figure out the maximum data point
                            We'll use this later to set the Y-Axis scale
                            */
                            data.forEach(function(d) {
                                for (var prop in d) {
                                    if (d.hasOwnProperty(prop)) {
                                        d[prop] = parseFloat(d[prop]);

                                        if (d[prop] > maxDataPoint) {
                                            maxDataPoint = d[prop];
                                        }
                                    }
                                }

                                // D3 needs a date object, let's convert it just one time
                                var y = (d.Day).substr(0,4),
                                        m = (d.Day).substr(4,2) - 1,
                                        d = (d.Day).substr(6,2);
                                    d.Day = new Date(y,m,d);

                            }); 
```

这是我的数据样本，大约有 400 行

```
Day NYTimes Guardian    The Peninsula   Gulf Times
20101201    1   8   2   0
20101203    3   9   2   0
20101205    6   10  4   1
20101207    2   9   5   1
20101209    1   3   7   0
20101211    12  8   6   0
20101213    3   4   3   0 
```

没有显示图表，我只是得到一个空白页面，控制台上没有错误，看看[这里](http://www.qatar.cmu.edu/~jmoussa/Media/MultipleAreaChartsD3/)。怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T11:19:18.127

在代码中的某处，Day 值正在从字符串 ("20101201") 转换为整数 (20101201)。然后，在尝试对整数使用 .substr() 时，您会收到 no method substr 错误。

尝试使用 .toString() 通过替换行将 var y 转换为字符串：

```
var y = (d.Day).substr(0,4) 
```

和

```
var y = (d.Day).toString().substr(0,4) 
```

或者考虑使用[d3 的内置时间解析功能](https://github.com/mbostock/d3/wiki/Time-Formatting#wiki-parse)

# jquery - 在 Jquery 中使用 Razor

> ID：15872725
> 
> 赞同：0
> 
> 时间：2013-04-08T06:35:06.213
> 
> 标签：jquery, asp.net-mvc-4, url.action

我正在编写 AJAX 调用，如下所示：

```
 <script type="text/javascript">
                            $(function () {
                            $.ajax({
                              url: @(Url.Action("_ModulePartial", "Home")),
                              dataType: 'html',
                              success: function(data) {
                                 $('#_ModulePartial').html(data);
                              },
                           });
                         });
                        </script>
            } 
```

我想使用 Url.Action 在默认区域的 Home 控制器中调用 _ModulePatial 动作

```
<script type="text/javascript">
                                    $(function () {
                                    $.ajax({
                                      url: /Home/_ModulePartial,
                                      dataType: 'html',
                                      success: function(data) {
                                         $('#_ModulePartial').html(data);
                                      },
                                   });
                                 });
                                </script>
                    } 
```

/Home/_ModulePartial 工作正常，但我想使用 @Url.Action 来实现这一点，因为我们有 2 个不同的 URl http:/TestUrl.com/Test/User/Login 和[http://TestUrl.com/User/Login](http://TestUrl.com/User/Login)所以上面网址将无法在其中一台服务器下工作。由于第一个 Url 包含“测试”，因此无法找到 Home 控制器。

那么我们可以在 Jquery 中使用 Url.Action 吗？

Firebug 给出了这个错误

```
SyntaxError: missing } after property list
[Break On This Error]   

url: /Home/_ModulePartial, 
```

尝试在第一个脚本中使用 @Url.Action 调用时

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:41:34.273

您需要在 ajax 调用中包含区域名称，并且必须这样做：

```
'@Url.Action("_ModulePartial", "Home", new { area = "Test" })' 
```

这是完整的ajax调用：

```
<script type="text/javascript">
    $(function () {
        $.ajax({
            url: '@Url.Action("_ModulePartial", "Home", new { area = "Test" })',
                dataType: 'html',
                success: function(data) {
                    $('#_ModulePartial').html(data);
                },
            });
    });
</script> 
```

此外，请确保脚本标记后的额外“}”只是复制粘贴错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:41:27.663

知道了... ：）

只需使用单引号。它有效

```
<script type="text/javascript">
                            $(function () {
                            $.ajax({
                              url: '@(Url.Action("_ModulePartial", "Home"))',
                              dataType: 'html',
                              success: function(data) {
                                 $('#_ModulePartial').html(data);
                              },
                           });
                         });
                        </script>
            } 
```

# jpa - JPA 一对一关系

> ID：15872727
> 
> 赞同：0
> 
> 时间：2013-04-08T06:35:09.183
> 
> 标签：jpa, entitymanager

我的 User.java JPA 代码

```
public class User implements java.io.Serializable {

    private String mobile;
    private String emailId;
    private String userName;
    private String password;

    private Student student = new Student();    
    private Staff staff = new Staff();

    public User() {
    }

    @Id
    @GeneratedValue(strategy = IDENTITY)
    @Column(name = "user_id", nullable = false)
    public Long getUserId() {
        return this.userId;
    }

    public void setUserId(Long userId) {
        this.userId = userId;
    }

    @Column(name = "mobile", nullable = false)
    public String getMobile() {
        return this.mobile;
    }

    public void setMobile(String mobile) {
        this.mobile = mobile;
    }

    @Column(name = "email_id", unique = true, nullable = false, length = 80)
    public String getEmailId() {
        return this.emailId;
    }

    public void setEmailId(String emailId) {
        this.emailId = emailId;
    }

    @Column(name = "user_name", unique = true, nullable = false, length = 45)
    public String getUserName() {
        return this.userName;
    }

    public void setUserName(String userName) {
        this.userName = userName;
    }

    @Column(name = "password", nullable = false, length = 45)
    public String getPassword() {
        return this.password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    @OneToOne(mappedBy = "studentUser", fetch = FetchType.LAZY)
    public Student getStudent() {
        return student;
    }

    public void setStudent(Student student) {
        this.student = student;
    }

    @OneToOne(mappedBy = "staffUser", fetch = FetchType.LAZY)
    public Staff getStaff() {
        return staff;
    }

    public void setStaff(Staff staff) {
        this.staff = staff;
    }

} 
```

我的 Student.java JPA 代码

```
public class Student implements java.io.Serializable {

    private static final long serialVersionUID = 1L;

    private Long id;
    private User studentUser;
    private String classRollNumber;
    private Timestamp admissionDate;

    public Student() {
    }

    public Student(User studentUser, String classRollNumber, Timestamp admissionDate) {
        this.studentUser = studentUser;
        this.classRollNumber = classRollNumber;
        this.admissionDate = admissionDate;
    }

    @Id
    @GeneratedValue(strategy = IDENTITY)
    @Column(name = "id", nullable = false)
    public Long getId() {
        return this.id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    @JoinColumn(name = "user_id")
    public User getStudentUser() {
        return this.studentUser;
    }

    public void setStudentUser(User studentUser) {
        this.studentUser = studentUser;
    }

    @Column(name = "class_roll_number", nullable = false, length = 55)
    public String getClassRollNumber() {
        return this.classRollNumber;
    }

    public void setClassRollNumber(String classRollNumber) {
        this.classRollNumber = classRollNumber;
    }

    @Column(name = "admission_date", nullable = false, length = 19)
    public Timestamp getAdmissionDate() {
        return this.admissionDate;
    }

    public void setAdmissionDate(Timestamp admissionDate) {
        this.admissionDate = admissionDate;
    }
} 
```

我的 Staff.java JPA 代码

```
public class Staff implements java.io.Serializable {

    private static final long serialVersionUID = 1L;

    private Long id;
    private User staffUser;
    private String staffNumber;
    private Timestamp joiningDate;

    public Staff() {
    }

    public Staff(User staffUser, String staffNumber, Timestamp joiningDate) {
        this.staffUser = staffUser;
        this.staffNumber = staffNumber;
        this.joiningDate = joiningDate;
    }

    @Id
    @GeneratedValue(strategy = IDENTITY)
    @Column(name = "id", nullable = false)
    public Long getId() {
        return this.id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    @JoinColumn(name = "user_id")
    public User getStaffUser() {
        return staffUser;
    }

    public void setStaffUser(User staffUser) {
        this.staffUser = staffUser;
    }

    @Column(name = "staff_number", nullable = false, length = 55)
    public String getStaffNumber() {
        return this.staffNumber;
    }

    public void setStaffNumber(String staffNumber) {
        this.staffNumber = staffNumber;
    }

    @Column(name = "joining_date", nullable = false, length = 19)
    public Timestamp getJoiningDate() {
        return this.joiningDate;
    }

    public void setJoiningDate(Timestamp joiningDate) {
        this.joiningDate = joiningDate;
    }
} 
```

我的坚持逻辑

```
public void createUser(){
    User user = new User();
    user.setEmailId("test");
    user.setUserName("test");
    user.setPassword("test");
    user.setMobile("test");
    saveEntity(user);        
}

public void saveEntity(Object object){
    getEntityManager().getTransaction().begin();        
    getEntityManager().persist(object);     
    getEntityManager().getTransaction().commit();

}

public static void main(String ar[]){
    UserDaoImpl daoImpl = new UserDaoImpl();
    daoImpl.createUser();
} 
```

当我尝试将实体保持在以下错误发生时，请提出可能的解决方案。错误堆栈跟踪：

```
8 Apr, 2013 11:44:05 AM org.hibernate.annotations.common.Version <clinit>
INFO: HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
8 Apr, 2013 11:44:05 AM org.hibernate.Version logVersion
INFO: HHH000412: Hibernate Core {4.1.7.Final}
8 Apr, 2013 11:44:05 AM org.hibernate.cfg.Environment <clinit>
INFO: HHH000206: hibernate.properties not found
8 Apr, 2013 11:44:05 AM org.hibernate.cfg.Environment buildBytecodeProvider
INFO: HHH000021: Bytecode provider name : javassist
8 Apr, 2013 11:44:05 AM org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure
INFO: HHH000402: Using Hibernate built-in connection pool (not for production use!)
8 Apr, 2013 11:44:05 AM org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure
INFO: HHH000115: Hibernate connection pool size: 20
8 Apr, 2013 11:44:05 AM org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure
INFO: HHH000006: Autocommit mode: true
8 Apr, 2013 11:44:05 AM org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure
INFO: HHH000401: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/jpatest]
8 Apr, 2013 11:44:05 AM org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure
INFO: HHH000046: Connection properties: {user=root, password=****, autocommit=true, release_mode=auto}
8 Apr, 2013 11:44:05 AM org.hibernate.dialect.Dialect <init>
INFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
8 Apr, 2013 11:44:05 AM org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService
INFO: HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
8 Apr, 2013 11:44:05 AM org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory <init>
INFO: HHH000397: Using ASTQueryTranslatorFactory
Hibernate: insert into jpatest.tblmuser (email_id, manager_id, mobile, password, user_name) values (?, ?, ?, ?, ?)
Exception in thread "main" javax.persistence.RollbackException: Error while committing the transaction
    at org.hibernate.ejb.TransactionImpl.commit(TransactionImpl.java:92)
    at org.javalab.bl.dao.BaseDaoImpl.saveEntity(BaseDaoImpl.java:27)
    at org.javalab.bl.dao.UserDaoImpl.createUser(UserDaoImpl.java:15)
    at org.javalab.bl.dao.UserDaoImpl.main(UserDaoImpl.java:39)
Caused by: java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing: org.javalab.bl.entity.User.staff -> org.javalab.bl.entity.Staff
    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1374)
    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1300)
    at org.hibernate.ejb.TransactionImpl.commit(TransactionImpl.java:80)
    ... 3 more
Caused by: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing: org.javalab.bl.entity.User.staff -> org.javalab.bl.entity.Staff
    at org.hibernate.engine.spi.CascadingAction$8.noCascade(CascadingAction.java:380)
    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:176)
    at org.hibernate.event.internal.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:160)
    at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:151)
    at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:88)
    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)
    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1210)
    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:399)
    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)
    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:175)
    at org.hibernate.ejb.TransactionImpl.commit(TransactionImpl.java:75)
    ... 3 more 
```

在此先感谢 vivek shah

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:21:30.283

您的 User 实体会在实例化时自动创建关联的人员。

```
 private Staff staff = new Staff(); 
```

所以当你持久化你的用户时，这个引用了一个未保存的人员实例并且没有定义级联（级联在人员方面）。

你有 3 种方法来修复它：

*   删除实体 中的默认实例`private Staff staff = new Staff();`化。`User`*   `User`在实体 中插入人员 OneToOne 关系时添加级联。*   在持久化用户之前手动持久化关联的人员。

# visual-studio-2008 - 项目不会在发布模式下链接错误 lnk1181

> ID：15872736
> 
> 赞同：0
> 
> 时间：2013-04-08T06:36:12.770
> 
> 标签：visual-studio-2008, visual-c++, visual-c++-2008

我有一个项目，我可以在调试模式下编译和链接，但我无法在发布模式下链接。我可以编译，但不能链接。

我得到的错误是

```
fatal error LNK1181: cannot open input file '.\Release\Class1.obj' 
```

我正在使用 MS Visual Studio 2008、Visual C++。项目属性中是否缺少某些东西，有什么想法吗？

编辑：如果我删除 Debug 文件夹中的 '*.obj' 文件，然后在 Debug 模式下构建，它会生成这些文件并构建。我如何让它在发布模式下生成文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-01-13T08:30:56.340

我遇到了同样的问题，将优化级别从 Ob2 降低到 Ob1（“最大速度”到“最小尺寸”）帮助了我，就像 gorkem 描述的那样。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-08T14:48:49.260

与调试模式相比，我在玩弄项目设置。我做了以下更改，我现在可以链接。

优化 = 禁用 (/Od)

内联函数扩展 = 默认

生成预处理文件 = 否

# android - Android - 查看背景自动更改颜色

> ID：15872737
> 
> 赞同：1
> 
> 时间：2013-04-08T06:36:19.203
> 
> 标签：android, view, background-color

我不知道其他人是否遇到过这个问题，但我的应用程序中的一个视图有时会自动将其颜色更改为灰色。我设置的颜色是白色，但我不知道这是怎么回事。我已经正确检查了我的代码，并且我没有在任何地方设置颜色更改。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:48:38.787

您必须设置`android:cacheColorHint="@android:color/transparent" on your`ListView`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:45:05.060

您可能正在泄漏内存，在调试时检查您的 logcat 并查看是否有任何与堆大小相关的消息或跟踪 gc 被调用的次数？是什么样的景色？

编辑：如果它是一个列表视图，请尝试@Ovidiu's answer..

# ios - iOS6中使用restoreIdentifier保存UIImageView的状态

> ID：15872738
> 
> 赞同：2
> 
> 时间：2013-04-08T06:36:25.630
> 
> 标签：ios, objective-c, ios6, state-restoration

我在文档中读到`@property(nonatomic, copy) NSString *restorationIdentifier`能够保留`UIImageView`位置、角度等属性的状态。我尝试添加方法

```
-(BOOL)application:(UIApplication *)application shouldRestoreApplicationState:(NSCoder *)coder
{
    return YES;
}

-(BOOL)application:(UIApplication *)application shouldSaveApplicationState:(NSCoder *)coder
{
    return YES;
} 
```

到视图控制器。我已经`@"myFirstViewController`在 IB 中设置了视图控制器的恢复 ID。

我也在视图控制器中添加了以下方法。

```
-(void)encodeRestorableStateWithCoder:(NSCoder *)coder
{
[coder encodeObject:_myImageView.image forKey:@"UnsavedImage"];
[super decodeRestorableStateWithCoder:coder];
}

-(void)decodeRestorableStateWithCoder:(NSCoder *)coder
{
_myImageView.image = [coder decodeObjectForKey:@"UnsavedImage"];
[super encodeRestorableStateWithCoder:coder];
} 
```

我应该在`appDelegate`视图控制器或视图控制器中添加前两种方法吗？UIImageView 没有得到保留。这里有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-18T20:07:49.717

为了使状态保存和恢复工作，始终需要两个步骤：

*   应用代表必须选择加入
*   要保留/恢复的每个视图控制器或视图都必须分配一个恢复标识符。

您还应该为需要保存和恢复状态的视图和视图控制器实现`encodeRestorableStateWithCoder:`和。`decodeRestorableStateWithCoder:`

将以下方法添加到`UIImageView`.

```
-(void)encodeRestorableStateWithCoder:(NSCoder *)coder
{
    [coder encodeObject:UIImagePNGRepresentation(_imageView.image)
                 forKey:@"YourImageKey"];

    [super decodeRestorableStateWithCoder:coder];
}

-(void)decodeRestorableStateWithCoder:(NSCoder *)coder
{
    _imageView.image = [UIImage imageWithData:[coder decodeObjectForKey:@"YourImageKey"]];

    [super encodeRestorableStateWithCoder:coder];
} 
```

状态保存和恢复是一项可选功能，因此您需要通过实现两种方法让应用程序委托选择加入：

```
- (BOOL)application:(UIApplication *)application shouldSaveApplicationState:(NSCoder *)coder
{
    return YES;
}

- (BOOL)application:(UIApplication *)application shouldRestoreApplicationState:(NSCoder *)coder
{
    return YES;
} 
```

关于状态保存的有用文章：http: [//useyourloaf.com/blog/2013/05/21/state-preservation-and-restoration.html](http://useyourloaf.com/blog/2013/05/21/state-preservation-and-restoration.html)

# ios - 当我单击收藏视图中的某个项目时，出现此错误

> ID：15872740
> 
> 赞同：0
> 
> 时间：2013-04-08T06:36:31.450
> 
> 标签：ios, nsarray, plist, nsdictionary

我有一个collectionview，但是当我尝试单击图像时它显示此错误？整个应用程序是一个选项卡应用程序，因此所有其他选项卡都在工作。除了最后一个标签图像。我正在从 plist 中获取图像以将其显示到 collectionview 中，这是错误的

```
 *** Terminating app due to uncaught exception 'NSRangeException', reason: '*** -[__NSArrayI 
    objectAtIndex:]: index 0 beyond bounds for empty array'*** First throw call stack: (0x1e92012 

    0x1969e7e 0x1e47b44 0x58b91 0x56686 0x137cf 0x98f1c7 0x98f232 0x98f4da 0x9a68e5 0x9a69cb 0x9a6c76 

`0x9a6d71 0x9a789b 0x9a7e93 0x9a7a88 0xd03e63 0xcf5b99 0xcf5c14 0xdaf5d9 0xdc1182 0xdc1394 0x197d705

 0x9bb93c 0x9bb9ac 0x197d705 0x9bb93c 0x9bb9ac 0xb751d3 0x1e5aafe 0x1e5aa3d 0x1e387c2 0x1e37f44 

    0x1e37e1b 0x3c0f7e3 0x3c0f668 0x8adffc 0x287d 0x27a5)  libc++abi.dylib: terminate called throwing an exception 
```

这是 didselect 方法和 preparesegue 用于将该数组传递给另一个视图控制器

```
- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath
{
}

- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {

    if ([[segue identifier] isEqualToString:@"bookItem"]) {

    NSDictionary *currentBook = [[_freeBooks objectForKey:@"freebook"] objectAtIndex:[[[self.collectionView indexPathsForSelectedItems] objectAtIndex:0] row]];

    NSLog(@"%@", currentBook);

    GMMDetailpage *detailpage = (GMMDetailpage *)[segue destinationViewController];
    detailpage.bookDetails = currentBook;

    NSLog(@"%@",detailpage.bookDetails);
}

} 
```

当前书籍的价值正在打印并且很好....但是在此之后它执行一些其他系统代码然后它显示异常.check image![在此处输入图像描述](https://i.stack.imgur.com/KdWU1.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T01:06:21.743

您正在进行两次数组访问，因此错误来自两个数组之一为空的事实。

这两个数组是

```
[self.collectionView indexPathsForSelectedItems] 
```

和

```
[_freeBooks objectForKey:@"freebook"] 
```

分别检查两个数组并找出哪一个是空的。

# struts2 - Freemarker 在 StrutsSpringTestCase 中不起作用

> ID：15872742
> 
> 赞同：1
> 
> 时间：2013-04-08T06:36:37.500
> 
> 标签：struts2, freemarker

基本上，我正在尝试运行一个简单的单元测试，但是当我使用 freemarker 作为结果类型时无法使其工作。其他类型，如 jsp 或 redirectAction 工作正常。我错过了什么？

**ForwardActionTest.java：**

```
public class ForwardActionTest extends StrutsSpringTestCase {
    ....
    public void testExecuteAction() throws Exception {
        String output = executeAction("/home.do"); <--- Exception points here
        ...
    }
} 
```

**struts.xml**

```
<action name="home" class="forwardAction">
    <result type="freemarker">templates/home.ftl</result>
</action> 
```

**模板/home.ftl**

```
Hello! You are home! 
```

**堆栈跟踪：**

```
javax.servlet.ServletException: Error code [500], Error: [Template /templates/home.ftl not found.]
at org.apache.struts2.StrutsTestCase.executeAction(StrutsTestCase.java:120)
at com.telus.ccs.survey.web.action.ForwardActionTest.testExecuteAction(ForwardActionTest.java:22)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at junit.framework.TestCase.runTest(TestCase.java:176)
at junit.framework.TestCase.runBare(TestCase.java:141)
at junit.framework.TestResult$1.protect(TestResult.java:122)
at junit.framework.TestResult.runProtected(TestResult.java:142)
at junit.framework.TestResult.run(TestResult.java:125)
at junit.framework.TestCase.run(TestCase.java:129)
at junit.framework.TestSuite.runTest(TestSuite.java:255)
at junit.framework.TestSuite.run(TestSuite.java:250)
at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:84)
at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197) 
```

# c# - 在 ASP.NET 中将数据从网格视图导出到 Excel

> ID：15872745
> 
> 赞同：1
> 
> 时间：2013-04-08T06:36:48.273
> 
> 标签：c#, asp.net

在 ASP.NET 中将数据传输网格视图到 Excel 工作表；如何解决此类问题错误是

```
Control 'ContentPlaceHolder1_gvdetails' of type 'GridView' must be placed inside a form  tag with runat=server. 
```

这是我的代码：

```
 Response.ClearContent();
    Response.Buffer = true;
    Response.AddHeader("content-disposition", string.Format("attachment; filename={0}",
    "Customers.xls"));
    Response.ContentType = "application/ms-excel";
    StringWriter sw = new StringWriter();
    HtmlTextWriter htw = new HtmlTextWriter(sw);
    gvdetails.AllowPaging = false; gvdetails.DataBind();
    gvdetails.HeaderRow.Style.Add("background-color", "#FFFFFF");
    gvdetails.RenderControl(htw);
    Response.Write(sw.ToString());
    Response.End(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T09:16:27.730

我不确定您的代码有什么问题，但您可以使用以下代码：

```
using System;
using System.Data;
using System.IO;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace Whatever
{
 /// 

 /// This class provides a method to write a dataset to the HttpResponse as
 /// an excel file. 
 /// 

 public class ExcelExport
 {
  public static void ExportDataSetToExcel(DataSet ds, string filename)
  {
   HttpResponse response = HttpContext.Current.Response;

   // first let's clean up the response.object
   response.Clear();
   response.Charset = "";

   // set the response mime type for excel
   response.ContentType = "application/vnd.ms-excel";
   response.AddHeader("Content-Disposition", "attachment;filename=\"" + filename + "\"");

   // create a string writer
   using (StringWriter sw = new StringWriter())
   {
    using (HtmlTextWriter htw = new HtmlTextWriter(sw))
    {
     // instantiate a datagrid
     DataGrid dg = new DataGrid();
     dg.DataSource = ds.Tables[0];
     dg.DataBind();
     dg.RenderControl(htw);
     response.Write(sw.ToString());
     response.End(); 
    }
   }
  }
 }
} 
```

您也可以访问此链接[http://tim.mackey.ie/HowtoExportADatasetToExcelCAspnet.aspx](http://tim.mackey.ie/HowtoExportADatasetToExcelCAspnet.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-28T05:21:10.427

您只需将下面的代码放在页面加载事件方法之上。肯定会奏效的。

```
 public override void VerifyRenderingInServerForm(Control control)
    {
        /* Verifies that the control is rendered */
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-18T15:31:58.163

```
Please try with the below code for the blank excel sheet export issues.

#region "   Excel Export"
    private void fnExcelUpload()
    {
        try
        {
            dgDashboard.AllowPaging = false;
            dgDashboard.Columns[0].Visible = false;
            Response.ContentType = "application/vnd.ms-excel";
            Response.AddHeader("content-disposition", "attachment; filename = ExcelExport.xls");
            Response.Charset = "";
            Response.Buffer = true;
            this.EnableViewState = false;
            StringWriter tw = new StringWriter();
            HtmlTextWriter hw = new HtmlTextWriter(tw);
            fillDashboard();
            dgDashboard.RenderControl(hw);
            HttpContext.Current.Response.Write(tw.ToString());
            HttpContext.Current.ApplicationInstance.CompleteRequest();
            HttpContext.Current.Response.Flush();
            //HttpContext.Current.Response.End();
        }
        catch (Exception Ex)
        {
            ErrorLog obj = new ErrorLog(Session["PROGRAMCODE"].ToString(), Ex.Message, Ex.StackTrace, this.Page.ToString(), new System.Diagnostics.StackTrace().GetFrame(0).GetMethod().Name, System.Net.Dns.GetHostEntry(Context.Request.ServerVariables["REMOTE_HOST"]).HostName.ToString(), Session["EMPNUMBER"].ToString(), HttpContext.Current.User.Identity.Name.ToString());
        }
        HttpContext.Current.Response.End();
    }

    protected void imgExcelExport_Click(object sender, ImageClickEventArgs e)
    {
        fnExcelUpload();
    }
    #endregion 
```

# java - actionbarshearlock 活动中的透明操作栏

> ID：15872749
> 
> 赞同：0
> 
> 时间：2013-04-08T06:37:14.123
> 
> 标签：java, android, android-layout, android-actionbar, actionbarsherlock

我在我的项目中使用 actionbarshearlock 库。我希望操作栏是透明的。怎么做？提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T06:57:29.367

![在此处输入图像描述](https://i.stack.imgur.com/JG9qU.png)

* * *

**不使用 actionbarshearlock：**

* * *

只需添加这一行：`requestWindowFeature(Window.FEATURE_ACTION_BAR_OVERLAY);`

`setContentView(R.Layout.Test)`在之前`onCreate`

这条线给你`TRANSPARENT ActionBar`

```
getActionBar().setBackgroundDrawable(
                    getResources().getDrawable(R.drawable.ab_bg_black)); 
```

像：

```
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_ACTION_BAR_OVERLAY);
        setContentView(R.layout.activity_main);

        getActionBar().setBackgroundDrawable(
                getResources().getDrawable(R.drawable.ab_bg_black));
} 
```

对于 R.drawable.ab_bg_black 只需在 string.xml 中添加可绘制颜色，如：

```
<drawable name="ab_bg_black">#80000000</drawable> 
```

* * *

**使用 actionbarshearlock 的方法相同：**

* * *

```
@Override
    protected void onCreate(Bundle savedInstanceState) {
        setTheme(SampleList.THEME); //Used for theme switching in samples
        requestWindowFeature(Window.FEATURE_ACTION_BAR_OVERLAY);
        super.onCreate(savedInstanceState);
        setContentView(R.layout.overlay);

        //Load partially transparent black background
        getSupportActionBar().setBackgroundDrawable(getResources().getDrawable(R.drawable.ab_bg_black));

} 
```

* * *

**编辑：** **`Start listview After Actionbar.`**

![在此处输入图像描述](https://i.stack.imgur.com/jLjq1.png)

如果您使用的是 actionbarshearlock，那么只需执行以下操作：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <ListView
        android:id="@android:id/list"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingLeft="10dp"
        android:paddingRight="10dp"
        android:paddingTop="?actionBarSize" >
    </ListView>

</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T06:56:53.963

试试这个代码，但我不确定这正是你需要的：

```
 bar.setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT)); 
```

# search - 更快的自动完成实现技术

> ID：15872758
> 
> 赞同：1
> 
> 时间：2013-04-08T06:38:13.380
> 
> 标签：search, autocomplete, keyword

我有一个平均每天获得 5000 次点击的网站。它在所有页面上都有自动完成搜索框。我的数据库中有大约 5000 个关键字，并且会逐渐增长。只要用户在自动完成搜索框中输入第三个字符，我就会对 ashx 处理程序进行 ajax 调用。Ashx 处理程序然后从“开始”用户查询的数据库中获取所有关键字。

但我发现这个过程很慢。我在这里考虑2个选项。

1\. 将关键字存储在 xml 文件中。然后使用 XpathNavigator、Linq 等任何技术处理此文件以进行关键字搜索。

2.将所有关键字存储到一个SortedList/Hashset对象中，并将该对象保存到缓存中。

我无法决定哪个选项对我来说是可行的。将整个对象保存到缓存中的性能开销或风险是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T06:55:12.097

使用[Trie](http://en.wikipedia.org/wiki/Trie)树，它是搜索引擎和手机自动完成字典使用的数据结构

# node.js - 获取 TProtocolException：在服务器端使用 node.js 节俭客户端的无效数据

> ID：15872760
> 
> 赞同：0
> 
> 时间：2013-04-08T06:38:13.820
> 
> 标签：node.js, thrift

我正在尝试使用 node.js 节俭客户端。我在服务器端收到错误

TSimpleServer 异常：N6apache6thrift8protocol18TProtocolExceptionE：TProtocolException：无效数据

如何解决这个问题？

我的示例 .thrift 文件是：

```
struct Person{
1: required string name_;
2: required map<i64,string> attribute1_;
3: required map<i64,i64> attribute2_;
4: required map<i64,string> attribute3_;
}

service ProcessPerson { 
 void DoPerson(
       1: required list<Person> person_array 
         )
} 
```

node.js 客户端代码是：

```
var thrift = require('thrift');
var ttransport = require('./node_modules/thrift/lib/thrift/transport.js');
var tprotocol = require('./node_modules/thrift/lib/thrift/protocol.js');
var b_conn = thrift.createConnection('localhost', 9090, {transport: ttransport.TBufferedTransport ,protocol: tprotocol.TBinaryProtocol});
var ServicePerson = require('./person_js/ProcessPerson.js');
var type = require('./person_js/person_types');

b_conn.on('error', function(err) {
   console.error("error");
   console.error(err);
});

b_conn.on('connect', function(data) {
   console.log('on conect');
   var client = thrift.createClient(ServicePerson, b_conn);

   var person_list = new Array();
   var person_obj = new type.Person({name_:"aa", attribute1_:"",attribute2_:"",attribute3_: ""  });

   console.log(person_obj);
   person_list.push(person_obj);
   client.DoPerson(person_list, function() {
       console.log("Hi");
   });

}); 
```

我在服务器端使用骨架文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-28T05:50:10.513

我以前见过这个问题。原因是收到的struct消息无效，因为它没有设置thrift中“必需”的字段！

请确保客户设置了所有必填字段。

PS：我不知道如何检查节点js代码。我用 C++ 编写代码，我可以使用 __isset 机制进行检查

# c# - 在 C# 中识别超出范围的索引

> ID：15872768
> 
> 赞同：2
> 
> 时间：2013-04-08T06:38:48.467
> 
> 标签：c#, arrays, runtime-error, indexing

所以我有这段代码可以从 txt 中对虚构的人口普查数据进行排序。文件：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.IO;

class Program
{
    const int SIZE = 900;
    const int SIZEDISTRICT = 22;
    const int RANGE = 5;
    static void Main()
    {   
        //These arrays will hold the split data from a text file.
        int[] districtDataD = new int[900];
        string[] districtDataG = new string[900];
        string[] districtDataM = new string[900];
        int[] districtDataA = new int[900];

        //countDistrict will hold how many hypothetical people in each hypothetical district and 
        //ages will hold how many hypothetical people between certain hypothetical ages.
        int[] countDistrict = new int[SIZEDISTRICT];
        int[] ages = new int[RANGE] { 0, 18, 30, 45, 65};

        //Modules
        ReadFile(districtDataD, districtDataG, districtDataM,districtDataA);
        CountPopulation(districtDataD, countDistrict);
        AgeRanges(districtDataA, ages);
        DisplayData(districtDataD, districtDataA, ages);
    }//End Main

    //This module splits and inserts the data into the four first arrays
    static void ReadFile(int[] districtDataD, string[] districtDataG, string[] districtDataM, int[] districtDataA)
    {
        string[] lines = File.ReadAllLines("census.txt");
        int i = 0;

        while (i < SIZE && i < districtDataD.Length)
        {
            foreach (string line in File.ReadAllLines("census.txt"))
            {
                string[] parts = line.Split(',');

                districtDataD[i] = int.Parse(parts[0]);
                districtDataG[i] = parts[1];
                districtDataM[i] = parts[2];
                districtDataA[i] = int.Parse(parts[3]);
                i++;
            }
        }
    }
    //This module counts how many hypothetical people are in each fictional district
   static void CountPopulation(int[] districtDataD, int[] countDistrict)
    {
        int i = 0;
        for (i = 0; i < districtDataD.Length; i++)
        {
            if (districtDataD[i] > 0 && districtDataD[i] < districtDataD.Length)
            {
                countDistrict[districtDataD[i]]
                    ++;
            }
        }
    }

    //This module sorts the ages into 0-18, 19-30, 31-45, 46-65, and 65 and up
     private static void AgeRanges(int[] districtDataA, int[] ages)
     {
         int idx = 0;
         for (idx = 0; idx < districtDataA.Length && ages[idx] > districtDataA[idx]; idx++)
         {

             ages[idx] = districtDataA[idx];
         }
     }

    //This module displays the data
     static void DisplayData(int[] countDistrict, int[] ageDistrict, int[] ages)
    {
        int index = 0;
        for (index = 0; index < countDistrict.Length; index++)
        {
            Console.WriteLine(" District {0}: {1}", index + 1, countDistrict[index]);
        }

        int x = 0;
        for (x = 0; x < ageDistrict.Length; x++)
        {
            Console.WriteLine("Ages under {0} : {1}", ages[x], ageDistrict[x]);
        }
    }
} 
```

我得到索引越界错误，但我不知道在哪里以及如何找到它。

.txt。文件目前看起来像这样，但将扩展为包含更多，大约 100 个左右。900 只是用作上限。

21，f，s，14

41，女，男，22

12, 米, s, 12

11、f、s、8

29, 米, 米, 4

6, 米, s, 12

9, f, s, 2

30, f, s, 1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:53:49.947

很可能您在以下位置遇到错误：

```
 string[] parts = line.Split(',');
            districtDataD[i] = int.Parse(parts[0]);
            districtDataG[i] = parts[1];
            districtDataM[i] = parts[2];
            districtDataA[i] = int.Parse(parts[3]); 
```

使用前检查`parts.Length`。可能是您的任何一行都不包含 3 个逗号（'，'）。

另一个可能的错误来源是：

```
countDistrict[districtDataD[i]] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T06:42:15.213

如果您不知道数组的长度，请改用集合。这将使您的文件大小与长度无关。使用数组，您必须设置数组的长度，据我了解，该长度可以根据文件进行更改-如果没有正确实现，这将始终给您带来*索引超出范围的困难。*使用集合可以避免遇到这些问题

```
List<int> districtDataD = new List<int>(); 
```

然后您可以将项目添加到此集合中，例如：

```
districtDataD.Add(1); 
```

# umbraco - Umbraco 6 中的 Global.asax

> ID：15872770
> 
> 赞同：9
> 
> 时间：2013-04-08T06:39:01.183
> 
> 标签：umbraco, global-asax

我的 Global.asax (Umbraco 4.7) 中有以下内容

*   应用程序_开始
*   Application_EndRequest
*   应用程序错误
*   会话开始
*   会话_结束

现在我已经升级到 global.asax 继承自的 Umbraco 6.0.3`Umbraco.Web.UmbracoApplication`

我在哪里放置我的事件处理程序（以及等效的方法名称是什么）？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-09T03:47:27.143

这是我到目前为止发现的。

您可以创建自己的课程

```
public class Global : Umbraco.Web.UmbracoApplication
{
  public void Init(HttpApplication application)
  {
    application.PreRequestHandlerExecute += new EventHandler(application_PreRequestHandlerExecute);
    application.EndRequest += (new EventHandler(this.Application_EndRequest));
    //application.Error += new EventHandler(Application_Error); // Overriding this below
  }

  protected override void OnApplicationStarted(object sender, EventArgs e)
  {
    base.OnApplicationStarted(sender, e);
    // Your code here
  }

  private void application_PreRequestHandlerExecute(object sender, EventArgs e)
  {
    try
    {
      if (Session != null && Session.IsNewSession)
      {
        // Your code here
      }
    }
    catch(Exception ex) { }
  }

  private void Application_BeginRequest(object sender, EventArgs e)
  {
    try { UmbracoFunctions.RenderCustomTree(typeof(CustomTree_Manage), "manage"); }
    catch { }
  }

  private void Application_EndRequest(object sender, EventArgs e)
  {
    // Your code here
  }

  protected new void Application_Error(object sender, EventArgs e)
  {
    // Your error handling here
  }
} 
```

并让 Global.asax 从您的班级继承

```
<%@ Application Codebehind="Global.asax.cs" Inherits="Global" Language="C#" %> 
```

替代方法：[继承 ApplicationEventHandler](http://our.umbraco.org/Documentation/Reference/Events/application-startup) - 但它不适合我

# algorithm - 在 M 不是素数的情况下计算 nCr mod M 的最有效方法

> ID：15872773
> 
> 赞同：1
> 
> 时间：2013-04-08T06:39:04.837
> 
> 标签：algorithm, modulo, ncr, chinese-remainder-theorem

我总是在处理`nCr mod M`M 通常是质数的在线编码平台上遇到很多问题。在不是的情况下，我们通常更喜欢使用[中国剩余定理](http://en.wikipedia.org/wiki/Chinese_remainder_theorem)

我们是否可以比中国剩余定理更容易做到这一点，即如果我们只需要计算 N mod M 其中 M 不是素数，则可以编写更少的代码？

# javascript - 画架JS - 在确定的动作上模拟较低的FPS

> ID：15872780
> 
> 赞同：0
> 
> 时间：2013-04-08T06:39:33.857
> 
> 标签：javascript, easeljs, createjs, box2dweb

有任何方法可以创建像这样重复的帧，上面：

```
character = new createjs.SpriteSheet({
        images: [img],
        frames: {width: frameW, height: frameH, regX: frameW/2, regY: frameH/2},
        animations: { run: [0,9, "run"],
                      hit: [10,10,11,11,12,12,13,13,14,14,15,15, "idle"],
                      jmp: [18,22, "idle_jmp"],
                      idle_jmp: [22],
                      idle: [2]
             }
    }); 
```

在命中时重复每一帧两次，以模拟在命中动作时出现的较低 FPS！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T15:40:20.400

除了 olsn 提供的基于代码的频率解决方案，您还可以在 SpriteSheet 数据中指定一个“频率”。

您的示例“命中”动画的格式不正确。您可以给我们一个简单的格式：

```
 hit: [startFrame, endFrame, "nextAnimation", frequency],
// For example:
hit: [10,15,"idle",2] 
```

或者您可以对每个框架使用更复杂的定义，并按名称指定其他属性：

```
 hit: {
    frames: [10,11,12,13,14,15],
    next: "idle",
    frequency:2
} 
```

查看 SpriteSheet 文档中的主要概述： [http ://www.createjs.com/Docs/EaselJS/classes/SpriteSheet.html](http://www.createjs.com/Docs/EaselJS/classes/SpriteSheet.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T06:02:08.753

你可以使用：

```
character.getAnimation('run').frequency = 2 or whatever frequency you like 
```

您可以在运行时为每个单独的动画设置它。

# ios - 我应该如何将歌曲持续时间表示/存储为属性？我想使用常见的歌曲时长格式，例如“HH:MM:SS”

> ID：15872784
> 
> 赞同：0
> 
> 时间：2013-04-08T06:39:44.077
> 
> 标签：ios, objective-c, date, model, nsdate

我有一个名为 Song 的自定义类。此类的每个实例都需要一个表示其持续时间的属性，并且我希望该持续时间采用正常的“歌曲”格式，例如 HH:MM:SS。Song 实例将从 JSON 网络调用接收数据，例如持续时间，并且它们也可能通过 Core Data 或其他方法进行持久化。

我有哪些选择来存储此持续时间？我需要存储它有一个像这样的字符串吗

```
self.duration = @"0:2:14"; 
```

或者

```
 self.duration = @"0.2.14"; 
```

将其存储为 NSDate 的 NSNumber 会更好吗？如果是这样，我如何将其转换为这些类型？如果我需要将其存储为字符串，是否有比拆分冒号更好的方法将其转换为数字/时间间隔？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:50:40.340

您应该将持续时间以秒为单位（或毫秒，如果您想精确的话）存储为整数。然后在显示时间时将其转换为漂亮的格式，例如通过一种方法`-(NSString*)displayDuration`

如果您像这样声明您的持续时间属性

```
@property (nonatomic) int duration; 
```

那么你可以编写一个方法来获得一个`NSString`显示：

```
- (NSString*)displayDuration {
    int remainingDuration = self.duration;
    int seconds = remainingDuration%60;
    remainingDuration/=60;
    int minutes = remainingDuration%60;
    remainingDuration/=60;
    int hours = remainingDuration;
    return [NSString stringWithFormat:@"%02d:%02d:%02d", hours, minutes, seconds];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-29T11:01:37.353

利用`NSDateComponent`

```
let cal = NSCalendar.currentCalendar()            
let comps = cal.components([.Day, .Hour, .Minute], fromDate: self, toDate: otherDate, options: [])
return (comps.day , comps.hour , comps.minute) 
```

其中 self 是 a`NSDate`并且 otherDate 也是 a `NSDate`（这被实现为 的扩展`NSDate`）

随意添加组件（这里只有天、小时、分钟）

示例代码返回一个元组。可通过`.0`,访问`.1`，`.2`允许以任何必要的方式格式化字符串。

代码在 Swift 2 中

# c# - 组合框选定项目问题

> ID：15872785
> 
> 赞同：0
> 
> 时间：2013-04-08T06:39:45.047
> 
> 标签：c#, wpf, data-binding

今天我再次陷入了非常基本的概念。我在做什么错误。

我有 XAML 之类的

```
<ComboBox ItemsSource="{Binding MyItems}" Height="40" Width="200" SelectedIndex="0"
              SelectedItem="{Binding MySelectedItem}">
        <ComboBox.ItemTemplate>
            <DataTemplate>
                <TextBlock Text="{Binding Name}"/>
            </DataTemplate>
        </ComboBox.ItemTemplate>
    </ComboBox>
    <TextBlock Text="{Binding MySelectedItem.Name}"/>
    <Button Content="Test" Grid.Row="1" Click="Button_Click_1"/> 
```

我的模型视图看起来像

```
public class MainViewModel : DependencyObject,INotifyPropertyChanged
{
    private MyModel mySelectedItem;
    public MyModel MySelectedItem
    {
        get
        {
            return mySelectedItem;
        }
        set
        {
            if (value != mySelectedItem)
            {
                mySelectedItem = value;
                RaisePropertyChange("MySelectedItem");
            }
        }
    }
    public IList<MyModel> MyItems
    {
        get
        {
            return new List<MyModel>() {new MyModel(){Name="A"},
                                        new MyModel(){Name="B"},
                                        new MyModel(){Name="C"}};
        }
    }
    public event PropertyChangedEventHandler PropertyChanged;

    private void RaisePropertyChange(string name)
    {
        if(PropertyChanged !=  null)
        {
            PropertyChanged(this, new PropertyChangedEventArgs(name));
        }
    }
} 
```

一个 MyItems 属性和一个 SelectedItem 属性

并单击处理程序，例如

```
 private void Button_Click_1(object sender, RoutedEventArgs e)
    {
        Random r = new Random();
        int icnt = r.Next(0,3);
        model.MySelectedItem = model.MyItems[icnt]; 
    } 
```

我发现 TextBlock.Text 正在更新，但 Combobox 所选项目没有更新。我试图找出原因，发现如果我执行下面的代码

```
 MyModel prevItem = model.MyItems.Where((m) => m.Name.Equals("A")).FirstOrDefault();
        MyModel newItem = model.MyItems.Where((m) => m.Name.Equals("A")).FirstOrDefault();
        bool result = prevItem.Equals(newItem); 
```

该值始终为假。但是为什么，为什么我从集合中获得对同一对象的新引用。

如何解决这个问题。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:50:57.377

您将获得一个新的参考，因为每次绑定机制都会要求 MyItems 您将创建一个新列表。尝试创建一次并使用可观察的集合

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:29:42.273

您需要修改您的 MyItems 代码。你每次都会得到新的名单。试试这个。

```
private List<MyModel> _myItems;
public IList<MyModel> MyItems
{
    get
    {
        if (_myItems == null)
        {
            myItems = new List<MyModel>();
            myItems.Add(new MyModel() { Name = "A" });
            myItems.Add(new MyModel() { Name = "B" });
            myItems.Add(new MyModel() { Name = "C" });
        }
        return _myItems}
    }
} 
```

# websocket - 最大并发 Socket.IO 连接数

> ID：15872788
> 
> 赞同：168
> 
> 时间：2013-04-08T06:40:02.463
> 
> 标签：websocket, socket.io

以前有人问过这个问题，但最近没有问过，也没有明确的答案。

使用 Socket.io，在您需要添加另一台服务器之前，是否存在可以维持的最大并发连接数？

有谁知道任何大规模使用 websockets（尤其是 socket.io）的活跃生产环境？我真的很想知道哪种设置最适合最大连接？

因为 Websocket 是建立在 TCP 之上的，所以我的理解是，除非在连接之间共享端口，否则您将受到 64K 端口限制的约束。但我也看到了[使用 Gretty 的 512K 连接](http://groovy.dzone.com/articles/512000-concurrent-websockets)的报告。所以我不知道。

* * *

## 回答 #1

> 赞同：99
> 
> 时间：2013-05-07T19:19:34.017

本文可能会对您有所帮助：http: [//drewww.github.io/socket.io-benchmarking/](http://drewww.github.io/socket.io-benchmarking/)

我想知道同样的问题，所以我最终编写了一个小测试（使用 XHR 轮询）来查看连接何时开始失败（或落后）。我发现（就我而言）套接字在大约 1400-1800 个并发连接时开始起作用。

这是我做的一个简短的要点，类似于我使用的测试：[https ://gist.github.com/jmyrland/5535279](https://gist.github.com/jmyrland/5535279)

* * *

## 回答 #2

> 赞同：39
> 
> 时间：2019-03-14T07:31:34.393

我尝试在 AWS 上使用 socket.io，我最多可以保持大约 600 个连接稳定。

我发现这是因为socket.io首先使用了长轮询，然后升级到了websocket。

在我将配置设置为仅使用 websocket 后，我​​可以保持大约 9000 个连接。

在客户端设置此配置：

```
const socket = require('socket.io-client')
const conn = socket(host, { upgrade: false, transports: ['websocket'] }) 
```

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2014-10-24T16:52:05.733

这个人似乎已经成功地在单个 Node.js 服务器上拥有超过 100 万个并发连接。

[http://blog.caustik.com/2012/08/19/node-js-w1m-concurrent-connections/](http://blog.caustik.com/2012/08/19/node-js-w1m-concurrent-connections/)

我不清楚他到底使用了多少个端口。

* * *

## 回答 #4

> 赞同：17
> 
> 时间：2019-11-20T08:08:55.393

> 在继续之前，请阅读此答案的评论
> 
> 问题询问 socket.io 套接字，答案是本机套接字。这些更改是危险的，因为它们适用于系统上的所有内容，而不仅仅是 socket.io 套接字。此外，今天的网络从来都不是 socket.io 的瓶颈。在不了解其含义之前，请勿对您的系统进行这些更改。

对于 +300k 并发连接：

将这些变量设置在`/etc/sysctl.conf`：

```
fs.file-max = 10000000 
fs.nr_open = 10000000 
```

此外，更改这些变量`/etc/security/limits.conf`：

```
* soft nofile 10000000
* hard nofile 10000000
root soft nofile 10000000
root hard nofile 10000000 
```

最后，增加 TCP 缓冲区`/etc/sysctl.conf`：

```
net.ipv4.tcp_mem = 786432 1697152 1945728
net.ipv4.tcp_rmem = 4096 4096 16777216
net.ipv4.tcp_wmem = 4096 4096 16777216 
```

有关更多信息，请参阅[此](https://www.linangran.com/?p=547)。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-08-14T11:22:15.093

配置完成后，可以在终端上写这个命令查看

```
sysctl -a | grep file 
```

# java - 如果架构可用，java 会忽略 DTD 进行验证

> ID：15872794
> 
> 赞同：1
> 
> 时间：2013-04-08T06:40:21.903
> 
> 标签：java, xml, validation, xsd, dtd

当文档具有可用的 XSD 架构时，是否可以忽略内部 DTD 进行验证？

如果源文档中没有指定模式，则应使用 DTD 进行验证。

这是我配置解析器的方式。

```
DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
factory.setValidating(false);
factory.setNamespaceAware(true);
factory.setFeature("http://apache.org/xml/features/validation/dynamic", true);

factory.setSchema(schemaFactory.newSchema());
builder.setErrorHandler(errorHandler); 
```

我使用“动态”功能使解析器仅在指定 DTD 时才执行 DTD 验证。

我根本无法摆脱 DTD 验证，只有当源 XML 文档具有 XSD 架构时，我才需要忽略它。

有时，DTD 声明仅用于声明 DTD 实体，而模式引用用于针对 W3C XML 模式进行验证。

问题是 DTD 验证只能在解析时执行，在此之前我不知道文档是否具有对 DTD 或 XSD 的内部引用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:28:01.847

当然可以防止 DTD 被用于验证，但要防止它被用于实体扩展（并因此被读取）并不容易。如果您想阻止它被完全读取，并且如果您知道这不会导致实体扩展出现问题，您可以为解析器提供一个 EntityResolver 来用一个虚拟对象替换 DTD。

# c++ - 初始化一个向量 >> 在 C++ 中

> ID：15872795
> 
> 赞同：3
> 
> 时间：2013-04-08T06:40:23.660
> 
> 标签：c++, vector, initialization

我有一个双打向量的向量。我正在尝试初始化它。下面的代码段错误。包括注释代码也无济于事（不编译）。

```
vector<vector<vector<double> > > Q(MAX_GRID);
for(int row = 0; row < MAX_GRID; row++) {
    //vector<vector<double> > inQ(MAX_GRID);
    //Q[row].push_back(inQ);
    for(int col = 0; col < MAX_GRID; col++)
        for(int action = 0; action <= 3; action++)
            Q[row][col].push_back(0);
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T06:42:06.870

改变

```
vector<vector<vector<double> > > Q(MAX_GRID); 
```

到

```
vector<vector<vector<double> > > Q(MAX_GRID, vector<vector<double> >(MAX_GRID)); 
```

否则，第二维由空向量组成。

您可以对三维做同样的事情，完全避免循环。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T06:46:05.557

如果你有[`std::array`](http://en.cppreference.com/w/cpp/container/array)我建议像：

```
std::array<std::array<std::array<double, 4>, MAX_GRID>, MAX_GRID> Q; 
```

无需其他初始化。

# jquery - JQUERY 中的 getJSON 和 parseJSON 问题

> ID：15872800
> 
> 赞同：0
> 
> 时间：2013-04-08T06:40:36.723
> 
> 标签：jquery, json, getjson

我想遍历我的 json，但我遇到了问题。这是我的文件返回给我的json和我的代码

代码

```
var json=null;
$.getJSON("ajax_files/getmyjson.php?id="+id, function(json){ 
   json = json[0]; 
```

alert(json.id);//这样就ok了，id=15

这是问题

```
var getReq = jQuery.parseJSON('['+json.property_req_1+']');
$.each(getReq, function(id, key) {
alert(id+'='+key);//not working
});
}); 
```

JSON

```
[{"id":"15",
"rand_key":"1234",
"landlord_name":"Shah",
"property_req_1":{
"lead_req_id":"",
"lead_id":"0",
"category_id":"1",
"region_id":"1",
"area_location_id":"17",
"sub_area_location_id":"3447",
"min_beds":"1",
"max_beds":"",
"min_budget":"3332",
"max_budget":"0",
"min_area":"",
"max_area":"0",
"unit_type":"2",
"unit_no":"",
"listing_id_1_ref":"RH-R-17",
"listing_id_1":"17"
}
}] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:44:29.740

您不需要再次解析 JSON。试试这个：

```
$.each(json.property_req_1, function(id, key) {
    alert(id+'='+key);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:52:04.947

在您的代码`'['+json.property_req_1+']'`中，将评估`'[[object Object]]'`哪个是无效的 JSON 表示法。

如果您想遍历`json.property_req_1`的属性（这已经是一个有效的对象），您可以简单地执行以下操作：

```
$.each(json.property_req_1, function(id, key) {
    console.log(id + '=' + key);
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-08T06:54:03.333

```
$.each(json.property_req_1, function(key, value) { alert(key + "=" + value); }); 
```

# java - MalformedByteSequenceException 使用 xml 文件创建 xsd 文件

> ID：15872802
> 
> 赞同：0
> 
> 时间：2013-04-08T06:40:45.333
> 
> 标签：java, xerces

我有一个 xml 文件。虽然我需要在命令提示符下通过 trang 为该 xml 文件创建 xsd 文件。我有错误

> 致命：异常“com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequen
> 
> ceException" 抛出：1 字节 UTF-8 序列的字节 1 无效。

我的 xml 文件是

```
<Geography> 
    <Country name="Afghanistan" id="2001" shortname="AFG"></Country>
    <Country name="Albania" id="2002" shortname="ALB"></Country>
    <Country name="Algeria" id="2003" shortname="DZA"></Country>
</Geography> 
```

请给我一个解决方案。

# git - 撤消在 Github 上的提交？

> ID：15872804
> 
> 赞同：0
> 
> 时间：2013-04-08T06:40:53.267
> 
> 标签：git, github

我有 2 个分支的本地存储库设置`master`和`sandbox`. 我在沙盒上进行了更改：1\. 工作版本的更改，以及 2\. 使该版本在我的 Windows 机器上运行的更改。

我先分别提交了更改，`1`然后`2`. `master`然后我将分支与分支合并`sandbox`。

现在因为我想忽略更改集`2`（在 Windows 上工作的更改），所以我创建了一个`.gitignore`包含以下内容的。

```
$ cat .gitignore

#changed for local
conn.php
.htaccess 
```

然后我将分支推`master`送到 GitHub 上的远程 master，但现在查看最后 2 次提交，它们是本地机器开发环境更改 ( `2`)。

而且，我创建了我`.gitignore`的，`notepad++`但它没有隐藏，看起来像一个文本文件。

所以，我想撤消`github remote repository`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:52:35.793

您可以使用 reset --hard 命令，但要注意它会清除工作副本中任何未提交的更改。找到您希望分支指向的提交的 sha1（即在最后 2 次提交之前），然后使用：

```
git reset --hard abcdef1234 
```

其中 abcdef1234 是您要返回的提交的 sha1。之后，您可能必须强制将更改推送到遥控器：

```
git push -f origin sandbox 
```

或者master，取决于你正在修改哪个分支

# php - 使用 MySQL 查询结果填充下拉 HTML 菜单

> ID：15872805
> 
> 赞同：0
> 
> 时间：2013-04-08T06:41:01.707
> 
> 标签：php, html, mysql

我正在尝试使用 MySQL 查询的结果填充 HTML 下拉菜单。查询运行良好，没有抛出任何错误，但由于某些奇怪的原因，结果无法正确显示。

```
<?php
    $query = "SELECT * FROM parts WHERE itemName LIKE 'Processors:%'";
    $result = mysql_query($query) or die("Unable to query CPU parts");
    while($row=mysql_fetch_array($result)) {
        $option .= "<option value='{$row['itemName']}'></option>";
        }
?>
    <select name="cpu"><? echo $option; ?></select> 
```

我很确定它在某个地方，`$option .= ... ;`但我似乎无法弄清楚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:42:53.603

您没有打印要在下拉列表中显示的值

尝试这个

```
while($row=mysql_fetch_array($result)) {
    $option .= "<option value='{$row['itemName']}'>{$row['itemName']}</option>";
    } 
```

我看到你在这里使用短标签

```
<select name="cpu"><? echo $option; ?></select> 
```

请确保您在 php.ini 中启用了短标签

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:45:47.343

两件事情：

您需要初始化 $option 并打印要在下拉列表中显示的值

```
<?php
$query = "SELECT * FROM parts WHERE itemName LIKE 'Processors:%'";
$result = mysql_query($query) or die("Unable to query CPU parts");
$option = "";
while($row=mysql_fetch_array($result)) {
    $option .= "<option value='{$row['itemName']}'>{$row['itemName']}</option>";

}
?>

<select name="cpu"><? echo $option; ?></select> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T06:47:33.607

似乎您忘记在`<option></option>`字段中添加一个值，您只设置了获取值`$_POST[]`而不是查看值。:D

还看到 `$option`要连接的变量似乎您已经首先声明了它，如果不是，您可能需要先声明它。因为这可能会导致错误未定义的变量。

```
<?php
    $query = "SELECT * FROM parts WHERE itemName LIKE 'Processors:%'";
    $result = mysql_query($query) or die("Unable to query CPU parts");
    $option = '';
    while($row=mysql_fetch_array($result)) {
        $option .= '<option value='.$row['itemName'].'>'. $row['itemName'].'</option>';
        }
?>
    <select name="cpu"><?php echo $option; ?></select> 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-08T06:43:23.203

忘记了最简单的部分：

$aa .= "{$row['itemName']}";

我需要添加要在选项标签之间显示的实际标签:)

# iphone - 当我在链接的框架和库上单击“+”时找不到框架

> ID：15872807
> 
> 赞同：0
> 
> 时间：2013-04-08T06:41:03.727
> 
> 标签：iphone, frameworks

当我在链接的框架和库上单击“+”时，我正在添加一个框架我想添加一个音频工具包框架和核心音频我如何添加这两个框架。因为它们不在库中，请帮助我.

```
NSArray *pathComponents = [NSArray arrayWithObjects:
                               [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject],
                               @"MyAudioMemo.m4a",
                               nil];
    NSURL *outputFileURL = [NSURL fileURLWithPathComponents:pathComponents];

    // Setup audio session
    AVAudioSession *session = [AVAudioSession sharedInstance];
    [session setCategory:AVAudioSessionCategoryPlayAndRecord error:nil];

    // Define the recorder setting
    NSMutableDictionary *recordSetting = [[NSMutableDictionary alloc] init];

    [recordSetting setValue:[NSNumber numberWithInt:kAudioFormatMPEG4AAC] forKey:AVFormatIDKey];
    [recordSetting setValue:[NSNumber numberWithFloat:44100.0] forKey:AVSampleRateKey];
    [recordSetting setValue:[NSNumber numberWithInt: 2] forKey:AVNumberOfChannelsKey];

// Initiate and prepare the recorder
recorder = [[AVAudioRecorder alloc] initWithURL:outputFileURL settings:recordSetting error:nil];
recorder.delegate = self;
recorder.meteringEnabled = YES;
[recorder prepareToRecord]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:56:37.300

确保该框架在路径中可用，`../Developer/SDKs/iPhoneOS(version).sdk/System/Library/Frameworks/`否则您必须重新安装 SDK

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:03:55.423

请检查这个项目设置->构建阶段->将二进制文件与库链接

![在此处输入图像描述](https://i.stack.imgur.com/PTCBU.png)

并确保添加了有关 AV 基础工作的框架工作。

![在此处输入图像描述](https://i.stack.imgur.com/UBhDO.png)

# asp.net-mvc-3 - 在文本框中使用水印

> ID：15872813
> 
> 赞同：3
> 
> 时间：2013-04-08T06:41:29.943
> 
> 标签：asp.net-mvc-3

这是我的代码：

```
@Html.TextBox("Email", new { placeholder = "Email", Title = "Email" }) 
```

它不起作用 - 当我运行它时，浏览器会显示 TextBox 内的文本，以及 HTML 内容：`("placeholder = "Phone", Title = "Phone" ")`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:49:55.737

您使用了错误的`TextBox`帮助程序重载。第二个参数是值，第三个参数是 html 属性。

所以，这里是如何解决它：

```
@Html.TextBox("Email", null, new { placeholder = "Email", title = "Email" }) 
```

我认为您的困惑源于强类型`TextBoxFor`助手需要 2 个参数这一事实：

```
@Html.TextBoxFor(x => x.Email, new { placeholder = "Email", title = "Email" }) 
```

# javascript - 为什么我的 jQuery 触发的 keyup 事件会丢失？

> ID：15872823
> 
> 赞同：0
> 
> 时间：2013-04-08T06:42:08.020
> 
> 标签：javascript, jquery

我正在使用 jQuery 1.7.1

我的`keyup`处理程序工作正常，即使设置有点复杂。这发生在 iframe 叠加层中。主页确实

```
our.Catalog.makeViewer = function(id) {
  var iframe = document.createElement('iframe');
  iframe.setAttribute()... // src, id, name, etc.  Exact same host and method
  document.body.appendChild(iframe);
  iframe.contentWindow.focus();
  $('html, body').css('overflow', 'hidden');
}
our.Catalog.makeViewer('foo') // actually bound to a click hander 
```

在 iframe`<head>`中，我们有类似的东西

```
our.Viewer = function(){
   $(document).keyup(function(e){ doSomething() })
   // and lots more, of course
}
$(function() {
  new our.Viewer();
}); 
```

浏览器显示 iframe 的 URL。我得到了整个浏览器窗口的所有真实键控，这很好，但为了测试，我希望能够从 JavaScript 模拟键控。但是，无论我尝试什么都行不通。我试过了

```
$('body').trigger($.Event('keyup', {keycode: 40}))
$(document).trigger($.Event('keyup', {keycode: 40})) 
$(document).keyup() 
```

他们都没有触发我的处理程序。然后我想也许问题是我正在使用 iframe，所以我尝试了

```
$('#frameId').contents().find('body').trigger($.Event('keyup', {keycode: 40})) 
```

不，这也不起作用。我不认为这是任何类型的权限/安全问题，因为`$('#frameId').contents().find('body').addClass('test')`工作正常。

我希望我在做一些愚蠢的事情，有人可以很容易地纠正。如何从我的 JavaScript 驱动程序模拟按键？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T22:38:28.673

好的，[jQuery 文档推荐的代码](http://api.jquery.com/category/events/event-object/)适用于 Selenium。或者至少是单线版本：

```
$('body').trigger($.Event('keyup', {keycode: 40, which: 40})) 
```

在我的特殊情况下，我没有从 Selenium 看到它，因为我们的处理程序`e.which`没有检查`e.keycode`并且`e.which`在我们明确设置之前保持未定义。也许是 jQuery 1.7.1 中的一个错误？也许是由于 jQuery 和 Selenium 之间的交互？无论如何，设置`e.which`使测试通过。

另一方面，从浏览器控制台让东西工作更具挑战性。从 Firefox 上的 Firebug 我不得不`cd(frames[2])`将上下文设置为有`iframe`问题的。没有其他从另一个框架访问 iframe 的方法可以让我触发事件，这可能是由于某种沙盒。（我可以访问 iframe 的 DOM，但不能访问 iframe 的 jQuery。）在 Chrome 中，我必须从控制台底部的弹出菜单中选择 iframe。在 Safari 中我必须使用

```
window.frames[2].$('body').trigger($.Event('keyup', {keycode: 40, which: 40})) 
```

所以正如我所料，一些相对愚蠢的事情，没有在控制台中设置 iframe 上下文，实际上由于其他原因在 Selenium 中的测试失败了。

感谢@Ian 的尝试。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-08T07:05:37.560

试试看

```
$(document).on("keyUp",function(){ 
    //your logic
}); 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-04-08T07:15:17.687

[.trigger()](http://api.jquery.com/trigger/) 仅适用于与[.on()](http://api.jquery.com/on/)绑定的事件。

尝试绑定：

```
$(document).on('keyup', function (e) {
    doSomething(e.keyCode);
}); 
```

并测试：

```
$(document).trigger($.Event("keyup", { keyCode: 40 })); 
```

# c# - 使用 linq 在 asp.net 中使用多个控件搜索多个列

> ID：15872824
> 
> 赞同：1
> 
> 时间：2013-04-08T06:42:08.930
> 
> 标签：c#, asp.net, sql-server, linq, linq-to-sql

```
Project_Detail pro = new Project_Detail();
string title=Ttitle.Text;
string year1=Tyear.Text;
string key = Tkeywrds.Text;
string area = Ddl_area.Text;
string categ = Ddl_catgry.Text;
string tech = Ddl_tech.Text;
string type =Ddl_type.Text;

var q = from obj in da.Project_Details
        where obj.Project_Title.Contains(title) 
              || obj.Submission_Date.Contains(year1) 
              || obj.Keywords.Contains(key) 
              || obj.Project_Area.Contains(area) 
              || obj.Project_Category.Contains(categ) 
              || obj.Project_Technology.Contains(tech) 
              || obj.Project_Type.Contains(type)
        select obj;

if (q != null)
{
    DetailsView1.DataSource = q;
    DetailsView1.DataBind();
}
else
{
    Literal1.Text = "Data not found";
} 
```

这段代码给出了表的最后一条记录，也没有给出其他条件结果。我想要所有条件的结果，并且想要使用 Like satatement。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:49:56.923

`q`永远不会为空。不过，它可能是空的。因此，您应该将代码更改为

```
if (q.Any()) // <<-----
{
    DetailsView1.DataSource = q;
    DetailsView1.DataBind();
}
else
{
    Literal1.Text = "Data not found";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:12:32.390

您也可以使用计数方法`.Count()`

```
if (q.count()>0)
{
    DetailsView1.DataSource = q;
    DetailsView1.DataBind();
}
else
{
    Literal1.Text = "Data not found";
} 
```

# sql - PL/SQL 使用多个左连接

> ID：15872828
> 
> 赞同：15
> 
> 时间：2013-04-08T06:42:16.790
> 
> 标签：sql, oracle

```
SELECT * FROM Table A LEFT JOIN TABLE B LEFT JOIN TABLE C 
```

从上面的代码片段中，表 C 将左连接到（表 B）或（来自表 A 左连接表 B 的数据）或（表 A）？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-08T06:59:19.053

> 表 C 将左连接到 1.（表 B）或 2.（来自表 A 左连接表 B）或 3.（表 A）？

第二。但是加入条件将帮助您了解更多。

你可以写：

```
SELECT * 
FROM Table A 
LEFT JOIN TABLE B ON (A.id = B.id)
LEFT JOIN TABLE C ON (A.ID = C.ID) 
```

但您可以：

```
SELECT * 
FROM Table A 
LEFT JOIN TABLE B ON (A.id = B.id)
LEFT JOIN TABLE C ON (A.id = C.id and B.code = C.code) 
```

因此，您可以加入先前表中的每个字段，并加入先前联接的“结果”（尽管引擎可能会选择获取结果的方式）。

将左连接视为非交换操作（`A left join B`与 不同`B left join A`）因此，顺序很重要，C 将在先前连接的表中左连接。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-08T07:33:26.707

[Oracle 文档](http://docs.oracle.com/cd/B19306_01/server.102/b14200/queries006.htm)非常具体地说明了连接的处理方式：

> 为了执行三个或更多表的连接，Oracle 首先根据连接条件比较它们的列来连接两个表，然后根据包含连接表和新表的列的连接条件将结果连接到另一个表。Oracle 将继续此过程，直到所有表都连接到结果中。

这是处理连接的逻辑方法，并且与 ANSI 标准一致（换句话说，所有数据库引擎都按顺序处理连接）。

但是，当实际*执行*查询时，优化器可能会选择以不同的顺序运行连接。结果需要在逻辑上与按照查询中给定的顺序处理连接相同。

此外，连接条件可能会导致出现一些意外情况。因此，如果您有：

```
from A left outer join
     B
     on A.id = B.id left outer join
     C
     on B.id = C.id 
```

然后，您可能会遇到这样的情况，其中`A`每个`C`都有具有特定 id 的行，但`B`没有。使用此公式，您将看不到行中的行，`C`因为它正在连接到`NULL`。因此，请注意 上的连接条件`left outer join`，尤其是在连接到链中第一个表以外的表时。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-12-22T10:47:33.073

您需要正确提及列名才能运行查询。假设您正在使用：

```
SELECT * 
FROM Table A 
LEFT JOIN TABLE B ON (A.id = B.id)
LEFT JOIN TABLE C ON (A.id = C.id and B.code = C.code) 
```

然后你可能会得到以下错误：

> ORA-00933:SQL 命令未正确结束。

所以为了避免它，你可以尝试：

```
SELECT A.id as "Id_from_A", B.code as "Code_from_B"
FROM Table A 
LEFT JOIN TABLE B ON (A.id = B.id)
LEFT JOIN TABLE C ON (A.id = C.id and B.code = C.code) 
```

谢谢

# magento - magento 连接管理器显示扩展已安装，但实际上没有

> ID：15872835
> 
> 赞同：0
> 
> 时间：2013-04-08T06:43:04.513
> 
> 标签：magento

我已经安装了一个扩展，在安装它时，magento 会在终端中正确显示它的进度......
但实际上它没有安装。
扩展名列表都不包括其名称。
对于每个扩展都存在同样的问题。
请建议我可能出了什么问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T08:02:16.780

您已经从系统-> 缓存管理中清除了缓存，对吗？此外，一些扩展程序要求您在后端注销并登录，否则它们会给您 404 页面。

还尝试查看系统->配置->高级->禁用模块输出。您可以在安装中看到所有已安装的扩展。

编辑：还尝试在 app/etc/modules 中查看是否有带有扩展名的 xml，如果在 app/code/local 或 app/code/community 中有一个包含所有文件的文件夹。如果没有，可能是权限问题。

尝试在[http://www.magentocommerce.com/wiki/1_-_installation_and_configuration/installing_magento_via_shell_ssh中查看“权限不正确/不足”部分](http://www.magentocommerce.com/wiki/1_-_installation_and_configuration/installing_magento_via_shell_ssh)

# actionscript-3 - 我的代码有问题

> ID：15872836
> 
> 赞同：0
> 
> 时间：2013-04-08T06:43:09.550
> 
> 标签：actionscript-3, optimization, timer

我有一个 fla 文件和一个名为`theAlarmClock`. 时钟上的指针应该在移动，但之后`Ctrl+Enter`- 它们是空闲的。

```
package 
{
import flash.display.MovieClip;
import flash.events.TimerEvent;
import flash.utils.Timer;

public class theAlarmClock extends MovieClip
{
    var myDate:Date;
    var mySec:int;
    var myMin:int;
    var myHou:int;
    var myTimer:Timer = new Timer(1000);

    public function theAlarmClock()
    {

        myTimer.addEventListener(TimerEvent.TIMER, updateClock);
        myTimer.start();

        function updateClock(t:TimerEvent):void
        {
            myDate = new Date();
            mySec = myDate.seconds;
            myMin = myDate.minutes;
            myHou = myDate.hours;
            clockHandSeconds_mc.rotation = mySec * 6;
            clockHandMinutes_mc.rotation = myMin * 6;
            clockHandHours_mc.rotation = myHou * 30 + myMin * 0.5;
            trace("tick");

        }

    }
}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:14:45.353

`Date`您应该尝试使用-class的 get-functions 。

`updateClock`在您的函数中尝试此代码：

```
myDate = new Date();
mySec = myDate.getSeconds();
myMin = myDate.getMinutes();
myHou = myDate.getHours();
clockHandSeconds_mc.rotation = mySec * 6;
clockHandMinutes_mc.rotation = myMin * 6;
clockHandHours_mc.rotation = myHou * 30 + myMin * 0.5;
trace("tick"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T08:23:58.530

```
package {

    import flash.display.Shape;
    import flash.display.Sprite;
    import flash.events.TimerEvent;
    import flash.sensors.Accelerometer;
    import flash.utils.Timer;

    public class ToolClass extends Sprite
    {
        private var myDate:Date;
        private var mySec:uint;
        private var myMin:uint;
        private var myHou:uint;
        private var myClock:Sprite;
        private var myHour:Shape;
        private var myMins:Shape;
        private var mySeco:Shape;

        private var myTimer:Timer=new Timer(1000);

    public function ToolClass()
    {
        drawClock();

        myTimer.addEventListener(TimerEvent.TIMER,updateClock);
        myTimer.start();
    }

    private function drawClock():void
    {
        myClock=new Sprite();
        myClock.graphics.lineStyle(0,0x000000,1);
        myClock.graphics.drawCircle(0,0,100);
        addChild(myClock);
        myClock.x=150;
        myClock.y=150;

        myHour=new Shape();
        myHour.graphics.lineStyle(5,0x00000,1);
        myHour.graphics.lineTo(0,-50);
        myClock.addChild(myHour);

        myMins=new Shape();
        myMins.graphics.lineStyle(2,0x000000,1);
        myMins.graphics.lineTo(0,-80);
        myClock.addChild(myMins);

        mySeco=new Shape();
        mySeco.graphics.lineStyle(1,0x000000,1);
        mySeco.graphics.lineTo(0,-80);
        myClock.addChild(mySeco);

    }
    public function getTime():void
    {
        myDate=new Date();

        myHou=myDate.hours;
        myMin=myDate.minutes;
        mySec=myDate.seconds;

    }
    private function updateClock(e:TimerEvent):void
    {
        getTime();
        myHour.rotation=myHou*30+30*myMin/60;
        myMins.rotation=myMin*6+6*mySec/60;
        mySeco.rotation=mySec*6;
        trace("tick");
    }
    }
} 
```

# javascript - YouTube API 视频完成后

> ID：15872840
> 
> 赞同：0
> 
> 时间：2013-04-08T06:43:32.073
> 
> 标签：javascript, events, youtube-api

我正在使用 YouTube API，我正在尝试在我的视频结束时设置一个 onStateChange 以随机播放我的播放列表并从 0 开始......这就是我到目前为止所得到的

```
 var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          height: '390',
          width: '640',
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }

        });
      }

      function onPlayerReady(event) {
        player.loadPlaylist({'listType': 'playlist', 'list': 'PLF776D41D8211F340','index': '0','startSeconds': '0','suggestedQuality': 'hd720'});
      }

      var done = false;
      function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.PLAYING && done == false) {
            player.setShuffle(true);
            player.playVideoAt(0);
          done = true;
        }else if (event.data == YT.PlayerState.ENDED && done == true) {
            player.setShuffle(true);
            player.playVideoAt(0);
          done = false;
        }

      } 
```

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-30T22:50:09.153

您需要`player.playVideoAt(0)`在`onPlayerReady`函数中包含 。

```
function onPlayerReady(event) {
    player.loadPlaylist({'listType': 'playlist', 'list': 'PLF776D41D8211F340','index': '0','startSeconds': '0','suggestedQuality': 'hd720'});
    player.playVideo();
  } 
```

此外，当您正在播放播放列表中的第一个视频时，为什么不使用它`player.playVideo()`。

我没有包括，`player.setShuffle(true)`因为它目前不工作（已知错误） - 请参阅这篇[文章](https://stackoverflow.com/questions/12916017/youtube-api-setshuffle-dont-work)。

# java - 使用列表引用将对象添加到类型对象

> ID：15872843
> 
> 赞同：0
> 
> 时间：2013-04-08T06:43:43.860
> 
> 标签：java, casting, dynamic-programming

我有以下方法和方法返回对象类型，我的问题是如果方法 cardianlity = true 我们创建项目对象类型列表但像类型对象一样返回它所以如果我想使用方法返回参数我应该如何添加项目（对象）呢？

*这是方法*

```
private static Object createRefObj(boolean cardinality) {

    List<Object> itemObject = null;
    Object specObject = null;
    if (cardinality == true) {
        itemObject = new ArrayList<Object>();
        return itemObject;
    } else {
        return specObject;
    }

} 
```

*我在这里调用该方法*

```
Object refObject = createRefObj(cardinality); 
```

如果它的数组列表，我应该如何将对象添加到 refObject

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:45:13.787

首先，您需要使用：

```
if (cardinality == true) 
```

你可以检查：

```
if (refObject instanceof List){
    List myList = (List) refObject;
} 
```

但我认为最好创建两个函数，一个返回 an `Object`，一个返回 a `List`。用于`cardinality`决定调用什么函数。

# javascript - 用于分析和绘制 Javascript 函数之间依赖关系的工具

> ID：15872851
> 
> 赞同：8
> 
> 时间：2013-04-08T06:44:28.257
> 
> 标签：javascript, uml, dependency-management

是否有可以为 javascripts 生成函数依赖图的程序/工具？基本上，输入应该是一个 javascript 文件的文件夹，然后输出是一个很好的图表，显示了每个函数之间的所有关系。如果我也可以与图表交互会更好。

有没有办法做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:54:43.943

在 Windows 和 Visual Studio 上，您可以查看 JSAnalyse：http: [//jsanalysis.codeplex.com/](http://jsanalyse.codeplex.com/)

我没有尝试过，但从描述中，它解析 JavaScript 文件并根据它们之间的静态引用创建不同文件的依赖树。

## 该项目

> JSAnalyse 是一个分析 JavaScript 文件之间的依赖关系并控制它们的工具。它有助于可视化和处理 JavaScript 文件之间的静态引用，以确保定义的客户端架构。
> 
> 在过去的几年里，Web 应用程序中的 JavaScript 行数急剧增加。许多新的客户端框架（如 JQuery、Knockout 等）已经兴起，但用于开发 JavaScript 的工具稍微好一点。例如，Visual Studio 2010 改进了 IntelliSense。但是对于一个设计良好的应用程序，不仅服务器端代码是相关的。为客户端代码拥有一个良好的架构并在整个应用程序生命周期中保持其处于健康良好的状态也非常重要。这正是 JSAnalyse 发挥作用的时候。它不仅可以分析现有的 JavaScript 依赖项，还可以限制它们。可以通过 XML 或使用出色的 Visual Studio 2010 体系结构功能来配置允许的依赖项。JSAnalyse 为 Visual Studio 层图提供了一个扩展来验证和控制 JavaScript 文件之间的依赖关系。这可以集成到构建中，并且使用门控签入功能甚至不可能签入不符合 JavaScript 架构规则的源代码。

# javascript - IE7 asp.net mvc 加载错误

> ID：15872859
> 
> 赞同：0
> 
> 时间：2013-04-08T06:44:58.850
> 
> 标签：javascript, asp.net, asp.net-mvc, internet-explorer

我们在使用 Internet Explorer 7 时遇到了问题。在 ASP.NET MVC 3 中，结果页面如下所示：

```
<button type="button" onclick=" ShowOperation('/Page/Box/ShowOperation/CreateBox', '') ">... 
```

并且错误（仅在 IE7 中）看起来像：

```
Error: The value of the property 'ShowOperation' is null or undefined, not a Function object. 
```

此函数已在文件 page.js 中定义，我们将其附加到外部

```
function ShowOperation(operationUrl, type) {
  if (type && type == 'download') {

    var temp = $("#pageGrid").jqGrid('getGridParam', 'selarrrow');

    if(temp.length == 0) {
        ProceedAjax(operationUrl, AjaxWarning);
        return;
    }

    $("#doOperation").attr("action", operationUrl);
    var uu = operationUrl.split("/");
    var action = uu[uu.length-1];
    $("#doOperationAction").val(action);
    $("#doOperationIds").val(temp);
    $("#doOperation").submit();
    return;
  }

  ProceedAjax(operationUrl, AjaxError);
  return;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:03:29.797

由于函数是在另一个js文件中定义的，`javascript:`所以在onclick调用时需要在函数名前加上。
您更新的代码看起来像这样：

```
<button type="button" onclick="javascript: ShowOperation('/Page/Box/ShowOperation/CreateBox', '');"> 
```

# java - 是否可以将元素添加到先前定义为字符串的数组中

> ID：15872861
> 
> 赞同：1
> 
> 时间：2013-04-08T06:45:03.587
> 
> 标签：java, compilation, compiler-errors, tokenize

我需要读取一个文本文件并将文件中的文本存储在五个不同的数组中。文本文件在一行中包含问题、四个选项和正确答案。我使用扫描仪读取文本文件并将整个文本存储为字符串，然后尝试使用字符串标记器来区分问题和选项，以便我可以将它们存储在各自的错误中。当我尝试这样做时，编译器给了我错误：

```
public void readFile()
{
    while (reader.hasNext())
    {
        String allText = reader.next();
        StringTokenizer tokenizer = new StringTokenizer(allText, ",");
        while (tokenizer.hasMoreElements())
        {
            question[index] = tokenizer.nextElement();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:51:42.847

如果`question`是字符串，则不能向其添加元素。您需要创建一个字符串集合以便向其中添加一个字符串（您可以使用 Array、List、Set 等）

# php - 在 Joomla 2.5 中将数据从控制器传递到模型

> ID：15872865
> 
> 赞同：1
> 
> 时间：2013-04-08T06:45:08.567
> 
> 标签：php, model-view-controller, joomla2.5

我正在开发一个 joomla 2.5 组件，我需要将数据从**控制器**传递到**模型**。控制器正在从 url 接收数据。我发现控制器正在正确获取值。现在我需要将该值从控制器移动到模型。从不同的帖子中，我找到了如下控制器的代码片段。

```
$datevalue = JRequest::getVar('day',$day); //receiving value from view
$item = JRequest::setVar('day',$datevalue); //setting variable

$model =& $this->getModel('WeeklyProgram'); //assign model
$model->setState('dayVar', $item); // assign value for model 
```

问题是我不知道如何从模型接收这个值“dayVar”。有人可以帮我解决这个问题吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:00:07.400

使用以下内容

在模态中

```
class CommunityModelCevent extends JCCModel
{
var $membersCount   = null;

    function getMembersCount($value) {
    $this->membersCount = $value // set your value here 15 

    // Now you can access this variable into model

    }
} 
```

在控制器中

```
$ceventModel    = CFactory::getModel( 'cevent' );       
$membersCount   = $ceventModel->getMembersCount(15); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-11-25T04:26:32.500

你可以这样做。首先在模型中创建 get 和 set 函数。然后在控制器中加载模型并将值简单地传递给 setter 函数。示例如下：

updateratings.php---这是我的模型

```
class RatingManagerModelUpdateRatings extends JModelLegacy
    {
     public $data;

    public function get_data(){
    $data=$this->data;
    return $data;
     }

     public function set_data($data){
          $this->data=$data;
     }

    } 
```

Controller.php 类 RatingManagerController 扩展 JControllerLegacy {

```
public function save_ratings(){

 $tips = JRequest::getVar('tips'); //get data from front end form
 $model = $this->getModel('UpdateRatings'); //load UpdateRatings model
 $model->set_data($tips); //update setter function of model
 $res=$model->get_data(); // retrieve getter function
  //print_r($res);

} 

 } 
```

# laravel - 我在使用 Laravel 的 PHP 项目中无法处理异常错误

> ID：15872869
> 
> 赞同：0
> 
> 时间：2013-04-08T06:45:26.900
> 
> 标签：laravel, php

我的控制器中有以下宁静功能

```
public function get_index()
{
    return Event::all();
} 
```

但它返回以下错误

```
Unhandled Exception

Message:

Call to undefined method Laravel\Event::all()
Location:

/Applications/MAMP/htdocs/calendar/application/controllers/home.php on line 8 
```

这是我的完整控制器

```
class Home_Controller extends Base_Controller {
    public $restful = true;

    public function get_index()
    {
        return Event::all();
    }

} 
```

为什么我会收到此错误，我该如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T06:56:40.443

你需要再次命名你的模型，你与 Laravel 的内置事件类冲突。

```
<?php namespace Model;

class Event {

} 
```

然后当你想调用它时，你调用它`return Model\Event::all();`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T08:12:18.877

必须注册名称空间和类。

```
//application/start.php

Autoloader::map(array(
    'Modelpath' => path('event').'models/event.php', //path to your directory and class
));

Autoloader::namespaces(array(
    'Model' => path('Modelpath'),
)); 
```

如果你不喜欢用它的命名空间来调用你的类，你可以为它定义一个别名：

```
//application/config/application
'aliases' => array(
    ...
    'Event' => 'models\\Event' //path and filaname of your class without extension
), 
```

# eclipse - 将eclipse连接到我的服务器

> ID：15872870
> 
> 赞同：0
> 
> 时间：2013-04-08T06:45:27.257
> 
> 标签：eclipse, tomcat

我不确定这是否可能，但我们正在学校做一个动态网络项目，（java，html，css，mysql）并且我们有一个正在运行的家庭服务器（apache，tomcat，php，mysql）有没有办法将 Eclipse 连接到该服务器，这样我就不必总是打包一个新的 war 文件并通过 tomcat 管理器上传它？如果可以在服务器上立即看到结果会更容易。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T04:12:30.290

Eclipse 支持本地 tomcat 部署。要部署到远程 tomcat，您可以使用[Maven](http://mojo.codehaus.org/tomcat-maven-plugin/introduction.html)或[Ant](http://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html#Executing%20Manager%20Commands%20With%20Ant)。

还有一个[cargo](http://cargo.codehaus.org/)插件，但我个人没有使用过。我的偏好是 Maven 插件。

# git - 如何在所有 git 消息提交中更改特定字符串？

> ID：15872872
> 
> 赞同：2
> 
> 时间：2013-04-08T06:45:46.090
> 
> 标签：git, version-control, github, rebase, git-rewrite-history

我想在推送到 Github 的所有消息中对特定字符串进行 grep 和更改。是否可以？如何？我知道如何更改最后一条消息`git commit --amend`，但我想更改所有提交的所有消息。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T08:09:25.040

[`git-filter-branch`](http://git-scm.com/docs/git-filter-branch)与它的`--msg-filter`选项一起使用，例如：

```
git filter-branch -f --msg-filter 'sed "s/git-svn.*$//g"' -- --all 
```

请注意，这几乎会更改您的 repo 中的*所有*提交 ID，因此在您的项目上工作的每个人都需要进行新的克隆。

有关更多讨论，请参阅此博客文章：

[http://mm0hai.net/blog/2011/03/10/rewriting-git-commit-message-history.html](http://mm0hai.net/blog/2011/03/10/rewriting-git-commit-message-history.html)

请注意，上述命令仅针对您的本地副本执行，您需要推送到 GitHub 以使您的更新反映在那里...

一步步

首先使用以下标志克隆您的 repo 的**新**副本：`--mirror`

```
$ git clone --mirror git://example.com/my-repo.git 
```

这是一个裸仓库，这意味着您的普通文件将不可见，但它**是**您的仓库的 Git 数据库的完整副本，此时您应该对其进行备份以确保您不会丢失任何东西.

现在您可以运行`git-filter-branch`以修复您的提交消息：

```
git filter-branch -f --msg-filter 'sed "s/git-svn.*$//g"' -- --all 
```

一旦您对 repo 的更新状态感到满意，请将其推送回来（请注意，由于您的 clone 命令使用了`--mirror`标志，此推送将更新远程服务器上的**所有**refs）：

```
$ git push 
```

在这一点上，你已经准备好让每个人——包括你自己——放弃他们旧的 repo 副本，并对漂亮的新原始数据进行新的克隆。

...我不得不指出，[BFG](http://rtyley.github.io/bfg-repo-cleaner/)通常比`git-filter-branch`清理 Git 历史要好得多，但在这种情况下，这`git-filter-branch`听起来很适合您的需求。

# macos - 在 mac 上检测全屏应用程序

> ID：15872873
> 
> 赞同：7
> 
> 时间：2013-04-08T06:45:47.587
> 
> 标签：macos, cocoa, fullscreen, macos-carbon, nsapplication

我正在 Cocoa 中开发一个简单的应用程序，我想检测是否有任何应用程序以全屏模式运行。这可能吗？

通过 runningApplications API，我可以获得各种信息，但没有与全屏模式相关的特定属性。有谁知道如何检测它？是否有任何碳事件或 API？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-19T04:48:27.763

我在春天遇到了这个问题，并花了很长时间试图让它发挥作用。我最终将我的代码打包成一个小 GitHub 项目，但我完全忘记在这里分享它。

[https://github.com/shinypb/FullScreenDetector](https://github.com/shinypb/FullScreenDetector)

希望这对某人有用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T06:58:24.783

无论如何，在尝试了这么多选项并深入研究 NSWorkspace 之后，我找到了实现这一目标的方法，他们是通知

“NSWorkspaceActiveSpaceDidChangeNotification”

苹果文档说“在空间发生变化时发布”。所以通过使用我们可以注册它。除此之外，我们需要使用 NSWindow 的属性 "isOnActiveSpace" ，因此我们可以检测应用程序何时进入全屏模式并退出。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-11-19T05:17:07.973

您想要键值观察`-[NSApplication currentSystemPresentationOptions]`。当活动应用程序处于全屏模式时，该属性将包括`NSApplicationPresentationFullScreen`.

# android - 未调用 BroadcastReceiver 的 onReceiver，AlarmManager

> ID：15872880
> 
> 赞同：12
> 
> 时间：2013-04-08T06:46:44.660
> 
> 标签：android, alarmmanager

我正在构建一个出租车预订应用程序，我每 20 秒需要一次出租车的当前位置。

我已经定义了一个 AlarmManager 并且需要它每 20 秒重复一次。但它不会定期重复。相反，它在 233 秒后重复了自己，而且只重复了一次。我在这里做错了什么？

我的 HomeScreen 有一个内部类 OnAlarmReceiver，在我的 HomeScreen 的 onCreate 中，我正在调用 AlarmManager

```
 AlarmManager mgr = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
    Intent i = new Intent(this, OnAlarmReceiver.class);
    i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
    PendingIntent pi = PendingIntent.getBroadcast(this, 0, i, PendingIntent.FLAG_CANCEL_CURRENT);
    Calendar cal = Calendar.getInstance();
    cal.add(Calendar.SECOND, 20);
    mgr.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP,
            cal.getTimeInMillis(), God.UPDATE_PENDING_INTERVAL, pi); 
```

HomeScreen 中的内部类

```
public class OnAlarmReceiver extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) {
        // PullPendingRequests.acquireStaticLock(context);
        Toast.makeText(context, "Don't panik but your time is up!!!!.", Toast.LENGTH_LONG)
                .show();
        Log.d("Taxeeta:PullPendingRequets", "CallService Location");
        context.startService(new Intent(context, PullPendingRequests.class));
    }
} 
```

我的 AndroidManifest 文件有

```
 <service
        android:name="com.taxeeta.support.PullPendingRequests"
        android:enabled="true"
        android:label="@string/app_name"
        android:screenOrientation="portrait"
        android:theme="@android:style/Theme.Light.NoTitleBar" />

    <receiver android:name=".com.taxeeta.HomeScreen.OnAlarmReceiver" />
</application> 
```

的输出`adb shell dumpsys alarm`

```
 com.taxeeta
    51471ms running, 5248 wakeups
    5248 alarms: flg=0x4 cmp=com.taxeeta/.HomeScreen$OnAlarmReceiver 
```

的输出`adb shell dumpsys alarm | grep taxeeta`

```
 ELAPSED_WAKEUP #7: Alarm{409303b0 type 2 com.taxeeta}
    operation=PendingIntent{408ba2d8: PendingIntentRecord{40887be8 com.taxeeta broadcastIntent}}
 com.taxeeta
    5248 alarms: flg=0x4 cmp=com.taxeeta/.HomeScreen$OnAlarmReceiver 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-08T15:11:26.200

为了修复它，我删除了内部类 OnAlarmReceiver 并修复了 androidmanifest.xml 文件。

```
 <receiver
        android:name="com.taxeeta.support.OnAlarmReceiver"
        android:exported="true" >
        <intent-filter>
            <action android:name="android.intent.action.NOTIFY" />
        </intent-filter>
    </receiver> 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2017-07-14T01:48:56.317

如果上面的答案对您不起作用，那么还有另一种方法可以在触发过期警报时***不*** 接收任何回调。`AlarmManager`您只需要检查这一点：*通过`Intent`在`PendingIntent`*. 例如，您想在`onReceive`您的一个接收器上接听电话，但您实例化了一个`PendingIntent`via `getActivity`or `getService`，但您的实际意思是`getReceiver`.

创建 的实例时`PendingIntent`，有多种创建方法（`getService`, `getActivity`, `getReceiver`, `getForegroundService`:

如果您想要`Activity`意图的接收者，那么您：

```
PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_*); 
```

如果您想要`BroadcastReceiver`意图的接收者：

```
PendingIntent.getReceiver(this, 0, intent, PendingIntent.FLAG_*); 
```

如果你想要一个前台`Service`意图的接收者：

```
PendingIntent.getForegroundService(this, 0, intent, PendingIntent.FLAG_*); 
```

如果您想要`Service`意图的接收者：

```
PendingIntent.getService(this, 0, intent, PendingIntent.FLAG_*); 
```

另外，请确保您的意图指向正确的类。（例如，为 Activity、Service 等创建意图）。如果您像这样错误地通过，您将**不会**接到任何电话：

```
Intent intent = new Intent(this, MyReceiver.class); // You wanted receiver

// PendingIntent was created in such a way 
// you wanted this to be received by an activity. 
// you will not receive any call if you set it up like this.
PendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_*); 
```

[我也在这里](https://stackoverflow.com/questions/15872880/onreceiver-of-broadcastreceiver-not-called-alarmmanager/45093355#45093355)发布了类似的答案。

高温高压

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T07:41:57.190

这段代码对我有用，并确保您已在 android 清单文件中添加了接收者。

```
AlarmManager service = (AlarmManager) context
            .getSystemService(Context.ALARM_SERVICE);
Intent i = new Intent(context, OnAlarmReceiver.class);
PendingIntent pending = PendingIntent.getBroadcast(context, 0, i,
                         PendingIntent.FLAG_CANCEL_CURRENT);
Calendar cal = Calendar.getInstance();
// Start 20 seconds after boot completed
cal.add(Calendar.SECOND, 20);
//
// Fetch every 20 seconds
// InexactRepeating allows Android to optimize the energy consumption
service.setInexactRepeating(AlarmManager.RTC_WAKEUP,
                       cal.getTimeInMillis(), 1000*20, pending); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-07-31T12:21:13.910

上述解决方案对我不起作用。

此外，通过代码动态注册也能达到目的：

```
Intent intent = new Intent();
intent.setAction("android.intent.action.NOTIFY");

//Register the receiver
context.registerReceiver(new OnAlarmReceiver(),new IntentFilter()); 
```

# qt - 将场景坐标转换为图形坐标

> ID：15872881
> 
> 赞同：0
> 
> 时间：2013-04-08T06:46:50.877
> 
> 标签：qt, qgraphicsview, qgraphicsscene

我有一个 (0, 0, 2000, 2000) 协调为矩形的场景。现在我只想在场景上绘制一些点，比如图形坐标

像场景中的项目的 (-x, +y , +x, -y) 。

考虑有一个笛卡尔坐标点 xMin, xMax, yMin, yMax 所以我把它做成 QGraphicsPolyGonItem 。但我不知道如何将其作为场景中的图形坐标点添加到场景中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:49:01.950

场景由 QRect 定义（参见其构造函数）。所以，如果你这样定义你的场景：

```
QGraphicsScene scene( -1000, -1000, 2000, 2000 );
QGraphicsView view;
view.setScene( scene );
QGraphicsRectItem* it = new QGraphicsRectItem( -10, -10, 20, 20)
scene.addItem( it ); // draw a rectangle
it.setPos( 0, 0 ); // Move to (0;0) and at the center of the view 
```

您可以在 (-1000 ; -1000) 和 (1000 ; 1000) 之间设置坐标。

# android - 保存 EditText 和按钮点击的状态

> ID：15872882
> 
> 赞同：1
> 
> 时间：2013-04-08T06:46:55.643
> 
> 标签：android, button, android-edittext, android-button

我有 2 个活动。首先`Activity`有`EditText`和`Next Button`。第二个`Activity`有一个`Back Button`。首先`Activity`，我输入了一些文本，`EditText`然后点击`Next Button`. 现在我在`SecondActivity`，如果我按下`Back Button`它将返回`First Activity`清除`EditText`字段。我希望该`EditText`领域保持不变。如何实现这些步骤？![在此处输入图像描述](https://i.stack.imgur.com/D5FVb.png)

第一活动：

```
public class HomeActivity extends Activity {
EditText text;
Button button;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_home);
    text = (EditText) findViewById(R.id.editText1);
    button = (Button) findViewById(R.id.button1);
    button.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            Intent i = new Intent(HomeActivity.this,Second.class);
            startActivity(i);
        }
    });
}

 @Override
 protected void onSaveInstanceState(Bundle outState) {
 // TODO Auto-generated method stub
 super.onSaveInstanceState(outState);

 CharSequence sequence = text.getText();
 outState.putCharSequence("savedText", sequence);
 }

 @Override
 protected void onRestoreInstanceState(Bundle savedInstanceState) {
 // TODO Auto-generated method stub
 super.onRestoreInstanceState(savedInstanceState);
 CharSequence sequence = savedInstanceState.getCharSequence("savedText");
 text.setText(sequence);

 }
} 
```

第二活动：

```
public class Second extends Activity {
Button b;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.second);
    b = (Button) findViewById(R.id.button_back);
    b.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            Intent i = new Intent(Second.this, HomeActivity.class);
            i.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
            startActivity(i);
        }
    });

}

  } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T06:57:50.630

在这种特定情况下，当您想保留 MainActivity 的值时，您只需要完成 SecondActivity 而不是为 HomeActivity 创建新意图，例如

```
@Override
public void onClick(View v) {
    // TODO Auto-generated method stub
    //Intent i = new Intent(Second.this, HomeActivity.class);
    //i.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
    //startActivity(i);
    //JUST FINISH THIS (SecondActivity) ACTIVITY
    finish();
} 
```

这将彻底关闭第二个活动，Android Acticity Stack 将显示前一个活动及其所有数据。

在更复杂的场景中，当您在活动之间进行复杂的导航并且仍然希望数据保留在字段中时，您需要使用[SharedPreferances](http://developer.android.com/reference/android/content/SharedPreferences.html)，在需要时保存数据（最好是在导航到其他活动时）并再次加载（在 onResume() 中）当你回到这个活动时。

希望这可以帮助..：）

# python - 如何在文件中逐行读取文件？

> ID：15872887
> 
> 赞同：2
> 
> 时间：2013-04-08T06:47:28.773
> 
> 标签：python

我正在尝试学习 python，我正在从一本书中解决一个问题，但我被困在一个问题上。它要求我读取一个文件，每行包含一个“a”或“s”，基本上我的总数是 500。如果该行包含一个“a”，它会在它旁边添加数量，例如它会说“a 20”，它会在我的总数中增加 20，而对于 s，它会减去那个数量。最后，我应该在进行所有更改后返回总数。到目前为止我得到了

```
def NumFile(file:
    infile = open(file,'r')
    content = infile.readlines()
    infile.close()
    add = ('a','A')
    subtract = ('s','S') 
```

在那之后，我完全不知道如何开始

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-08T06:50:53.943

您需要遍历文件的行。这是一个框架实现：

```
# ...
with open(filename) as f:
    for line in f:
        tok = line.split()
        op = tok[0]
        qty = int(tok[1])
        # ...
# ... 
```

这会将每个操作和数量分别放入`op`和`qty`。

我留给你填写空白（`# ...`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T08:08:13.207

一个变化可能是

```
f = open('myfile.txt','r')
lines  = f.readlines()
for i in lines:
  i = i.strip() # removes new line characters
  i = i.split() # splits a string by spaces and stores as a list
  key = i[0]    # an 'a' or an 's'
  val = int( i[1] )   # an integer, which you can now add to some other variable 
```

尝试添加打印语句以查看发生了什么。python 很酷的一点是你可以在一行中堆叠多个命令。这是一个等效的代码

```
for i in open('myfile.txt','r').readlines():
  i   = i.strip().split()
  key = i[0]
  val = int (i[1]) 
```

# apache-camel - 关闭骆驼消费者的常见做法

> ID：15872888
> 
> 赞同：0
> 
> 时间：2013-04-08T06:47:29.007
> 
> 标签：apache-camel, kestrel

我们开始我们的`camel`（红隼队列）消费者在 maven as 的 spring 上下文中运行`mvn camel:run`。

我们过去常常使用`pkill -9 -f camel`. 但是现在，我们正在将更多关键组件移动到队列中，并且不能在中途杀死消费者。

Camel 提供了优雅关闭的功能，但问题是我们如何阻止消费者，是否会`pkill camel`优雅地杀死它？关闭骆驼消费者的常见做法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T08:37:41.110

kill -3 表示你想终止进程怎么样？使用 camel:run 时有一个关闭钩子，它可能会触发并发出 Camel 的正常关闭。

# c++ - 将 POCO 静态库嵌入到另一个库中

> ID：15872889
> 
> 赞同：4
> 
> 时间：2013-04-08T06:47:31.147
> 
> 标签：c++, static-linking, poco-libraries

我正在使用 Poco 开发一个 SDK（作为动态和静态库），我想将 Poco 静态库嵌入到我的 SDK 中，以避免最终用户设置和链接 Poco 环境。MySDKd.LIB 的 C/C++ 设置为：

```
/I"..\..\..\include" 
/I"..\..\..\src" 
/I"D:\lib\boost_1_53_0\" 
/I"..\..\..\thirdparty" 
/I"..\..\..\thirdparty\protobuf\include\" 
/ZI /nologo /W3 /WX- /Od /Oy- 
/D "WIN32" /D "_DEBUG" /D "_LIB" 
/D "WIN32_LEAN_AND_MEAN" /D "_MBCS" 
/D "POCO_STATIC" /D "POCO_NO_AUTOMATIC_LIBS" 
/D "IBPP_WINDOWS" 
/Gm /EHa /RTC1 /MDd /GS /fp:precise /Zc:wchar_t /Zc:forScope 
/Fp"Debug\MySDKd.pch" /Fa"Debug\" /Fo"Debug\" /Fd"Debug\vc100.pdb" 
/Gd /analyze- /errorReport:queue 
```

链接器设置是：

```
/OUT:"D:\src\MySDK\win32\VS2010\..\..\..\bin\static\MySDKd.lib" 
"libprotobufd.lib" 
"PocoFoundationmdd.lib" 
"PocoUtilmdd.lib" 
"PocoNetmdd.lib" 
"PocoXMLmdd.lib" 
/LIBPATH:"D:\lib\boost_1_53_0\stage\lib" 
/LIBPATH:"D:\lib\poco-1.5.1-all\lib" 
/LIBPATH:"D:\src\MySDK\lib" 
/NOLOGO /NODEFAULTLIB 
```

现在，当我构建一个简单的测试项目（使用 sdk）时，我得到了链接器错误：

```
LINK : fatal error LNK1104: cannot open file 'PocoFoundationmdd.lib' 
```

除非我将 Poco\lib 文件夹添加到我的测试项目的链接器路径中。
但是这个库现在应该是我的 MySDKd.lib 的一部分，对吧？

此外，当我构建我的 SDK 时，我收到此链接器警告：

```
PocoFoundationmdd.lib(ByteOrder.obj) : warning LNK4221: This object file does not define any previously undefined public symbols, so it will not be used by any link operation that consumes this library

PocoFoundationmdd.lib(String.obj) : warning LNK4221: This object file does not define any previously undefined public symbols, so it will not be used by any link operation that consumes this library

PocoFoundationmdd.lib(SignalHandler.obj) : warning LNK4221: This object file does not define any previously undefined public symbols, so it will not be used by any link operation that consumes this library

PocoFoundationmdd.lib(WS2_32.dll) : warning LNK4006: __NULL_IMPORT_DESCRIPTOR already defined in PocoFoundationmdd.lib(IPHLPAPI.DLL);  second definition ignored

PocoFoundationmdd.lib(WS2_32.dll) : warning LNK4221: This object file does not define any previously undefined public symbols, so it will not be used by any link operation that consumes this library

PocoXMLmdd.lib(XMLString.obj) : warning LNK4221: This object file does not define any previously undefined public symbols, so it will not be used by any link operation that consumes this library 
```

环顾四周，我找到了这篇[文章](http://blogs.msdn.com/b/vcblog/archive/2009/07/21/linker-warning-lnk4221-and-some-tips-to-avoid-it.aspx) （参见“使用其他静态库构建静态库”部分），但提到这个案例，我不明白为什么会发生这种情况。

这个警告可能是我的问题的原因吗？

问候，
丹尼尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T02:44:19.267

VS 2010 中似乎更改了该功能。自 VS 2010 以来，您尝试做的似乎不起作用。有关更多详细信息，请参阅[此问题](https://stackoverflow.com/questions/3795567/visual-studio-2010-not-autolinking-static-libraries-from-projects-that-are-depen)和相关[MSDN 博客](http://blogs.msdn.com/b/vcblog/archive/2010/02/16/project-settings-changes-with-vs2010.aspx)。我没有第一手的经验，但是[make-it-so](https://code.google.com/p/make-it-so/wiki/MergingStaticLibraries)提供了一个据称可以做你想做的事情的工具。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:54:35.713

我可能错了，但是您是否将 *.lib 文件放入您的项目**D:\src\MySDK\win32\VS2010**如果不是将它们放入您的项目中。

# asp.net - 如何在 System.Web.Compilation.BuildManager 中进行调试

> ID：15872893
> 
> 赞同：0
> 
> 时间：2013-04-08T06:47:45.670
> 
> 标签：asp.net, debugging, iis, compilation

您如何调试[System.Web.Compilation.BuildManager](http://msdn.microsoft.com/en-us/library/system.web.compilation.buildmanager.aspx)中的事件？它在 IIS/ASP.net 生命周期的哪个阶段被调用？

问题是我有一些使用[PreApplicationStartMethodAttribute](http://msdn.microsoft.com/en-us/library/ee818829.aspx)但似乎没有触发的代码。所以我试图找出将调试器附加到它的最佳方法。

> 这里有一些关于更大问题的更多详细信息 [为什么 PreApplicationStartMethodAttribute() 在 SharePoint 2013 中不起作用？](https://stackoverflow.com/q/14374750/1399964)但我已将其分解为一个较小的问题，以尝试取得一些进展。

到目前为止，我只能识别以下调用堆栈...

> BuildManager.CallPreStartInitMethods -> BuildManager.​GetPreStartInitMethodsFromAssemblyCollection()

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T18:54:37.680

我正在研究类似的（或者可能是相同的问题），并且可以为您提供完整的堆栈跟踪。顺便说一句，您可以自己生成它，只需创建一个简单的小型 MVC 应用程序并在您使用 PreApplicationStartMethodAttribute 调用的方法中引发异常。你会得到：

```
[ApplicationException: joe was here]
   MvcApplication2.JoeStart.Start() in c:\Users\Joe\Documents\Visual Studio 2012\Projects\MvcApplication2\MvcApplication2\JoeStart.cs:18

[InvalidOperationException: The pre-application start initialization method Start on type MvcApplication2.JoeStart threw an exception with the following error message: joe was here.]
   System.Web.Compilation.BuildManager.InvokePreStartInitMethodsCore(ICollection`1 methods, Func`1 setHostingEnvironmentCultures) +550
   System.Web.Compilation.BuildManager.InvokePreStartInitMethods(ICollection`1 methods) +132
   System.Web.Compilation.BuildManager.CallPreStartInitMethods(String preStartInitListPath) +90
   System.Web.Compilation.BuildManager.ExecutePreAppStart() +135
   System.Web.Hosting.HostingEnvironment.Initialize(ApplicationManager appManager, IApplicationHost appHost, IConfigMapPathFactory configMapPathFactory, HostingEnvironmentParameters hostingParameters, PolicyLevel policyLevel, Exception appDomainCreationException) +516

[HttpException (0x80004005): The pre-application start initialization method Start on type MvcApplication2.JoeStart threw an exception with the following error message: joe was here.]
   System.Web.HttpRuntime.FirstRequestInit(HttpContext context) +9873784
   System.Web.HttpRuntime.EnsureFirstRequestInit(HttpContext context) +101
   System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context) +254 
```

# android - 如何获得进度对话框，直到从android中的服务获得响应？

> ID：15872897
> 
> 赞同：0
> 
> 时间：2013-04-08T06:47:58.617
> 
> 标签：android, service, xmpp, progressdialog, asmack

我正在使用服务在我的应用程序中运行长时间的后台任务，在服务中这些功能正在运行登录到 XMPP 并从 XMPP 服务器获取一些数据。我想显示进度条直到登录完成。如何从服务获取响应以正确更新进度条以避免 UI 中的一些异常。我正在调用这样的服务

```
final Intent gtalk_intent = new Intent(AccountsActivity.this, GtalkService.class);             
gtalk_intent.putExtra("user_name", acc.getAcc_Name());
gtalk_intent.putExtra("user_pass", acc.getAcc_Pass());               
startService(gtalk_intent); 
```

这是来自服务的代码

```
public class PmService extends Service {

   @Override
   public IBinder onBind(Intent intent) {               
      return mBinder;
   }

   public class PmBinder extends Binder {
      public PmService getService() {
         return PmService.this;
      }
   }

   @Override
   public void onCreate() {

      super.onCreate(); 
      context = this;       
      app_preferences = new AppPreferences(this);

      chat_source = new ChatsDataSource(this);  
      chat_source.open();
   } 

   @Override
   public int onStartCommand(Intent intent, int flags, int startId) {
      Bundle extras = intent.getExtras();       
      if(extras == null)  {         
         full_name = extras.getString("user_name");
         if(full_name.contains("@")) {
            String[] _na = full_name.split("@");
            U_name = _na[0];
        }
        U_pass = extras.getString("user_pass");                    
    }       
    new PmAsync().execute();
    return START_STICKY;
}

private class PmAsync extends AsyncTask<Void, Void, Void> {

    @Override
    protected void onPreExecute() {          
        super.onPreExecute();
    }

    @Override
    protected void onPostExecute(Void result) {          
        super.onPostExecute(result);
    }

    @Override
    protected Void doInBackground(Void... params) {     
        SASLAuthentication.supportSASLMechanism("PLAIN", 0);
        ConnectionConfiguration config = new ConnectionConfiguration(server_host, SERVER_PORT, SERVICE_NAME);
        configure(ProviderManager.getInstance());
        m_connection = new XMPPConnection(config);
        try {            
            m_connection.connect();                  
            Roster.setDefaultSubscriptionMode(Roster.SubscriptionMode.manual);              
        } catch (XMPPException e) {             
            e.printStackTrace();
        }           
        try {               
            m_connection.login(U_name, U_pass);
            setPacketFilters();                     
        } catch (XMPPException e) {                 
        }

        return null;
    }       
} 
```

我想显示登录完成的进度条，登录完成后如何从服务响应？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:22:42.513

通过`Binder`您可以向您的 发送回调`Activity`，这意味着您可以更新 UI。

1.  根据您的方法添加`Binder`（让我们命名`onProgress`）
2.  从你`AsyncTask`的这个调用方法`Binder`
3.  为了了解进度更新，请考虑使用观察者模式（换句话说 - 你`Activity`应该监听你的更新`Binder`，或者更具体地说 - 调用`Binder.onProgress`方法的更新）

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-08T07:13:02.833

您可以通过覆盖 onProgress() 方法来更新进度条，这与您可以参考的案例很接近。[关联](https://stackoverflow.com/questions/4591878/updating-progress-dialog-in-activity-from-asynctask)

# php - 限制将在表格上显示的数据并为下一个数据添加页面。像表格一样的gridview

> ID：15872899
> 
> 赞同：0
> 
> 时间：2013-04-08T06:48:05.690
> 
> 标签：php, html

我有我的 sql server 连接

```
$sql_exp = "select * from dbo.PC inner join dbo.FA_PC on dbo.PC.PCID = dbo.FA_PC.PCID WHERE UserID is NOT NULL order by dbo.fa_pc.PCID"; 
   $sql_exp1= "select * from dbo.users inner join dbo.FA_PC on dbo.users.UserID = dbo.FA_PC.UserID order by dbo.fa_pc.PCID";
    $sql_exp2 = "select * from dbo.FA_Type inner join dbo.FA_PC on dbo.FA_Type.FA_TypeID = dbo.FA_PC.FA_TypeID order by dbo.fa_pc.PCID"; 
   $rs = $conn->Execute($sql_exp);
    $rs1 = $conn->Execute($sql_exp1);
  $rs2 = $conn->Execute($sql_exp2);
   echo "<table border='1' cellpadding='1' cellspacing='0' id='rounded-corner'><tr><th>Desktop Number</th><th>Employee</th><th><p align=left>Fixed Asset Accountability</p></th></tr>";
   echo '<select name="print">'; 
   echo "<option value=".$rs->Fields("PC_Number")."> </option>";
   while (!$rs->EOF) {
       set_time_limit(0);

       echo "<td>CP # <br>".$rs->Fields("PC_Number")."</td>";   
       echo "<td>".$rs1->Fields("EmployeeName")."</td>";    
      echo "<td>".$rs2->Fields("FA_Type")."</td><tr>";  

      $rs->MoveNext();
      $rs1->MoveNext();
      $rs2->MoveNext();
   }
   echo "</table>";   
   $rs->Close();
   $rs1->Close();
   $rs2->Close(); 
```

所以这段代码只会打印我数据库中的每一个数据，大约100个细节，我怎么能把输入的数据限制为10、20、30、40、50、100，只为剩余的数据添加几个下一页和上一页链接很可能是类似表格的gridview

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:44:18.197

尝试放一个`LIMIT`. 例如对于第 1`LIMIT 0, 10`页、第 2`LIMIT 10,10`页、第 3 页 'LIMIT 20, 10'，等等等等……

在哪里`LIMIT 0(page), 10(max content shows)`

# ckeditor - 如何查看CK编辑器版本

> ID：15872900
> 
> 赞同：40
> 
> 时间：2013-04-08T06:48:08.830
> 
> 标签：ckeditor

我的项目中有一个现有的 CK 编辑器文件夹。我怎样才能知道它的版本？是否记录在案？

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2013-04-16T04:42:05.640

只需在 config.js 文件中发出如下警告，它会给出值

```
alert(CKEDITOR.version); 
```

或者您可以直接在文件 ckeditor_php4.php 中查看它，例如：

```
var $version = '3.6.3'; 
```

工作演示：

```
alert(CKEDITOR.version);
console.log("CKEDITOR.version ==",CKEDITOR.version);
```

```
 <head>
                <meta charset="utf-8">
                <title>CKEditor</title>
                <script src="https://cdn.ckeditor.com/4.11.4/standard/ckeditor.js"></script>
        </head>
        <body>
                <textarea id="editor1"></textarea>
                <script>
                        CKEDITOR.replace( 'editor1' );
                </script>
        </body>
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2014-06-01T18:58:47.703

我检查了 3.6 版本，版本信息位于 fe 中：

```
/ckeditor/CHANGES.html

CKEditor Changelog

CKEditor 3.6.6.1 
```

4.X使用mark down文件：

```
/ckeditor/CHANGES.md

CKEditor 4 Changelog
====================

## CKEditor 4.4.1 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2018-04-03T05:49:47.750

```
CKEDITOR.version 
```

在控制台中运行它应该告诉你版本。

至于文档，您可以在此 URL 中找到它：

[https://docs.ckeditor.com/ckeditor4/latest/api/CKEDITOR.html#property-version](https://docs.ckeditor.com/ckeditor4/latest/api/CKEDITOR.html#property-version)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-04-08T06:51:13.187

在最新的 CKEditors 中，默认面板“？”中有一个按钮。单击它，您将看到版本号。否则，如果按钮不存在，您需要检查源文件。一开始他们肯定应该包含作者数据和版本号。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-06-10T18:08:36.827

> **CKEDITOR.version**将给出当前版本的 CKEDITOR

```
alert(CKEDITOR.version);
console.log("CKEDITOR.version ==",CKEDITOR.version);
```

```
 <head>
                <meta charset="utf-8">
                <title>CKEditor</title>
                <script src="https://cdn.ckeditor.com/4.11.4/standard/ckeditor.js"></script>
        </head>
        <body>
                <textarea id="editor1"></textarea>
                <script>
                        CKEDITOR.replace( 'editor1' );
                </script>
        </body>
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-09-15T11:43:43.250

查看`ckeditor/ckeditor.js`文件内部。在文件的顶部，您可以找到版本。

# c - 如何使用分隔符（空格）分割字符串，就像 php 中的 substr 一样？

> ID：15872903
> 
> 赞同：0
> 
> 时间：2013-04-08T06:48:36.457
> 
> 标签：c, char, substring, delimiter, substr

这是我的`Mystr`价值：

> 其他：0.01 罚款：0.02 pdi：0.03 pdp：0.04 利息：0.05 本金：0.06 cbu：0.07 储蓄：0.08 银行手续费：0.09 grt：0.10

我想要的输出：

> 其他：0.01
> 
> 罚分：0.02
> 
> pdi:0.03
> 
> pdp:0.04
> 
> 利息：0.05
> 
> 本金：0.06
> 
> cbu:0.07
> 
> 节省：0.08
> 
> 银行手续费：0.09
> 
> 重量：0.10

我希望将其分配给不同的变量。我该怎么做呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T06:50:18.300

C 中的工具是`strtok`（[GNU 手册](http://www.gnu.org/software/libc/manual/html_node/Finding-Tokens-in-a-String.html)，[SUS V2 规范](http://pubs.opengroup.org/onlinepubs/7908799/xsh/strtok.html)）。您`strtok`第一次调用时设置了字符串和分隔符。然后，对于后续部分，`strtok`使用 NULL 和分隔符集进行调用，它将继续从中断的位置开始搜索。

```
#include <string.h>
#include <stdio.h>

int main(void) {
    char x[] = "others:0.01 penalty:0.02 pdi:0.03 pdp:0.04 interest:0.05 principal:0.06 cbu:0.07 savings:0.08 bankcharge:0.09 grt:0.10";
    char toPrint[sizeof(x) * 2];
    char *a;

    strcpy(toPrint,strtok(x," "));
    strcat(toPrint,"\n");

    while ((a=strtok(NULL," ")) != NULL) {
        strcat(toPrint,a);
        strcat(toPrint,"\n");
    }
    fputs(toPrint,stdout);
} 
```

印刷

```
others:0.01
penalty:0.02
pdi:0.03
pdp:0.04
interest:0.05
principal:0.06
cbu:0.07
savings:0.08
bankcharge:0.09
grt:0.10 
```

请注意，`strtok`修改原始数组。在程序结束时，`x`数组包含`"1\02\03\04"`. 所有分隔符都被零覆盖。另请注意，字符串中的两个连续分隔符将导致为（缺失）值`strtok`生成一个空字符串`""`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:59:52.990

如果您使用 Python 编写代码，您会很幸运使用 split()。在 C 中，您可以使用 strtok [http://www.cplusplus.com/reference/cstring/strtok/](http://www.cplusplus.com/reference/cstring/strtok/)

# android - 片段的 GlobalLayoutLIsener 行为？

> ID：15872908
> 
> 赞同：1
> 
> 时间：2013-04-08T06:48:51.683
> 
> 标签：android, layout, fragment

我在与 Activity 关联的片段中使用 GlobalLayoutLIsener，并且该活动还有其他关联片段，我观察到的是全局布局侦听器调用每个片段，即使我没有在这些片段中设置它。

有人知道如何在不同的 2 片段中使用单个上下文来使用 GlobalLayoutLIsener 吗？

# iphone - 将简单的 UIButton 子类化为复选框

> ID：15872909
> 
> 赞同：0
> 
> 时间：2013-04-08T06:48:57.053
> 
> 标签：iphone, ios, uibutton, uikit

我正在`UIButton`创建一个简单的复选框行为。这是代码：

```
#import "RadioButton.h"

@implementation RadioButton
@synthesize isSelected;

-(void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event{
[self ChangeButtonState];
 }

  -(void)ChangeButtonState{
  if (!isSelected) {
    isSelected = YES;
    [self setBackgroundImage:[UIImage imageNamed:@"radiobtn_on.png"]      forState:UIControlStateNormal];
    }
    else{
    isSelected = NO;
    [self setBackgroundImage:[UIImage imageNamed:@"radiobtn_off.png"] forState:UIControlStateNormal];
     }
     }

    -(id)init{
     self.adjustsImageWhenHighlighted=YES;
    self.alpha = 1;
     [self ChangeButtonState];
    isSelected = NO;
    [self setBackgroundImage:[UIImage imageNamed:@"radiobtn_off.png"] forState:UIControlStateNormal];
return self;
    }

    - (id)initWithFrame:(CGRect)frame
     {

    [self setBackgroundImage:[UIImage imageNamed:@"radiobtn_off.png"] forState:UIControlStateNormal];
    isSelected = NO;
    self = [super initWithFrame:frame];
    if (self) {
    // Initialization code
     }
     return self;
      }

    /*
  // Only  override drawRect: if you perform custom drawing.
   // An empty implementation adversely affects performance during animation.
     - (void)drawRect:(CGRect)rect
    {
       // Drawing code
     }
     */

     @end 
```

首先，当我在启动应用程序时将界面生成器中的类设置为一个按钮时，我没有看到任何东西，直到我点击了这个不可见的按钮。

第二件事是图像看起来比原始图像暗

帮助会很棒！谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:06:52.270

试试你的东西 - (void)awakeFromNib。在您的子类中定义此方法。当您在 xib 中分配自定义类时，将调用此方法并在那里应用您的逻辑。

# jquery - ASP.NET Minification 使用一个参数呈现 jquery.ajax 错误函数

> ID：15872910
> 
> 赞同：0
> 
> 时间：2013-04-08T06:49:05.283
> 
> 标签：jquery, bundling-and-minification

我在 VS2012 中使用 ASP.NET MVC 4。

我正在使用包来缩小我的 JavaScript 代码。

我的捆绑代码是：

```
bundles.Add(new ScriptBundle("~/bundles/inline").Include("~/Scripts/inline/_layout_inline.js")); 
```

JavaScript 源代码如下所示：

```
function requestPurchaseCompanies()
{ 
    var urlStr = '/Search/PurchaseSelectedCompanys';
    $.ajax({
        url: urlStr,
        dataType: 'json',
        type: 'POST',
        error: function (result, status, error) {
            var message = JSON.parse(result.responseText);
            parsePurchaseError(message);
        },
        success: function (data) {
            // get the result and do some magic with it
            var message = data.Message;
            if (window.location.href.indexOf('page=') < 0) {
                var url = '/Search/PagingDisplay';
                var params = '?page=1';
                window.location = 'http://' + window.location.host + url + params;
            } else {
                window.location = window.location;
            }
        }
    });
} 
```

注意这一行：`error: function (result, status, error) {`

这是呈现的缩小 JavaScript：

```
function requestPurchaseCompany(n, t, i, r) {
    var u = undefined,
        f, e, o, s, h;
    n != null && i == "SearchResults" ? (f = $(n).closest("div.result")[0], f && f != "undefined" && (e = $(f).children("span[id=SelectDuns]")[0], e && e != "undefined" && (o = $(e).children("input:hidden")[0], o && o != "undefined" && (u = new CompanySelectState, u.CompanyID = o.value)))) : t != undefined && (u = new CompanySelectState, u.CompanyID = t), u && u != undefined && (s = "/Search/PurchaseCompany", h = JSON.stringify(u), $.ajax({
        url: s,
        type: "POST",
        dataType: "json",
        data: h,
        contentType: "application/json; charset=utf-8",
        error: function (n) {
            var r = JSON.parse(n.responseText);
            parsePurchaseError(r)
        },
        success: function (t) {
            var e = t.Message,
                u, f;
            t.State == !0 && $(n).attr("disabled", ""), n != null && i == "SearchResults" ? window.location.href.indexOf("page=") < 0 ? (u = "/Search/PagingDisplay", f = "?page=1", window.location = "http://" + window.location.host + u + f) : window.location = window.location : window.location = window.location, r != undefined && r == !0 && window.opener != undefined && window.opener.location != undefined && window.opener.location.reload()
        }

    }))
} 
```

注意第 10 行：`error:function(n){`

所以它开始为：

```
error: function (result, status, error) { 
```

并呈现为：

```
error:function(n){ 
```

问题在于具有一个参数的缩小代码将该参数视为错误参数，而不是我需要的 XMLHttpRequest。

我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:59:35.750

缩小是从源代码中删除所有不必要字符而不更改其功能的过程。

您的错误函数定义如下：

```
error: function (result, status, error) {
    var message = JSON.parse(result.responseText);
    parsePurchaseError(message);
} 
```

如您所见，您实际上并没有使用`status`，`error`但您只是在使用`result`.

我假设当缩小过程删除不必要的字符时，它将包含未使用的变量，因此你得到：

```
error:function(n){
    var r=JSON.parse(n.responseText);
    parsePurchaseError(r)
} 
```

作为`status`和`error`未使用的，在缩小过程中将它们删除是有意义的。

* * *

> 问题在于具有一个参数的缩小代码将该参数视为错误参数，而不是我需要的 XMLHttpRequest。

这是不正确的，因为参数的顺序是：

```
Function(jqXHR jqXHR, String textStatus, String errorThrown) 
```

因此，当仅指定一个参数时，它将是`jqXHR`参数。

鉴于 JavaScript 的性质，它将按预期顺序将所有 3 个参数传递给`error`回调，但如果您只指定一个参数，则不会引发错误。如果您不会在错误回调中使用它们，则不需要指定任何参数并且代码仍然有效。

下面的代码也可以正常工作：

```
error: function () {
    console.log("We have an error");
} 
```

# c# - 将字符串解析为字节数组 C#

> ID：15872911
> 
> 赞同：0
> 
> 时间：2013-04-08T06:49:08.803
> 
> 标签：c#, asp.net

我已完成以下操作将字节数组转换为字符串以存储在数据库中

```
byte[] value;
String stValue = BitConverter.ToString(value); 
```

现在我只想做相反的事情

```
String stValue;
byte[] value= (Convert) stValue ??? 
```

这个怎么做？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T06:51:04.080

由于您使用的是`BitConverter`，因此您获得的字符串是以不太友好的方式专门格式化的。要反转此过程，您可以编写一个自定义方法来反序列化字节，如下所示：

```
public static byte[] GetBytes(string value)
{
    return value.Split('-').Select(s => byte.Parse(s, System.Globalization.NumberStyles.HexNumber)).ToArray();
} 
```

或者正如*Ben Voigt* [建议](https://stackoverflow.com/questions/15872911/parse-string-to-byte-array-c-sharp/15872939?noredirect=1#comment37391293_15872939)的那样：

```
public static byte[] GetBytes(string value)
{
    return Array.ConvertAll(value.Split('-'), s => byte.Parse(s, System.Globalization.NumberStyles.HexNumber));
}
...

var originalBytes = new byte[] { 1, 2, 3, 4, 5 };
var stValue = BitConverter.ToString(originalBytes); // "01-02-03-04-05"
var bytes = GetBytes(stValue); // [ 1, 2, 3, 4, 5 ] 
```

但是，通常*不需要*使用`BitConverter`. [Base64](http://en.wikipedia.org/wiki/Base64)是一种更紧凑、更高效的随机字节编码方式，您无需创建自定义解码器：

```
var originalBytes = new byte[] { 1, 2, 3, 4, 5 };
var stValue = Convert.ToBase64String(originalBytes); // "AQIDBAU="
var bytes = Convert.FromBase64String(stValue); // [ 1, 2, 3, 4, 5 ] 
```

另一方面，`Encoding`该类为字符串和字节之间的转换提供了类似的功能。*尽管给定的编码可能无法将随机的字节序列转换为字符串*，因此最好仅在您首先知道字符串有效时才使用此方法：

```
var originalValue = "Hello World";
var bytes = Encoding.UTF8.GetBytes(originalValue); // [ 72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100 ]
var stValue = Encoding.UTF8.GetString(bytes); // "Hello World" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-08T06:51:28.310

使用[`Encoding.UTF8.GetBytes`](http://msdn.microsoft.com/en-us/library/ds4kkd55.aspx)方法；

```
byte[] value = Encoding.UTF8.GetBytes(stValue); 
```

> 将指定字符串中的所有字符编码为字节序列。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-08T06:50:46.787

你可以这样做：

```
byte[] value = Encoding.Default.GetBytes(stValue); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T06:54:03.070

根据您想要的转换，有不同的方法可以实现这一目标。那里`System.Text.Encoding`有`UTF8`，`Unicode`， 和`ASCII`。所以如你所愿

```
byte[] strArray = System.Text.Encoding.(UTF8 | ASCII | Unicode).GetBytes(str); 
```

请参阅[此处](http://msdn.microsoft.com/en-us/library/system.text.encoding.getbytes.aspx)以获取参考。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-08T06:54:46.063

尝试这个

```
const string input = "Dot Net Perls";

    // Invoke GetBytes method.
    // ... You can store this array as a field!
    byte[] array = Encoding.ASCII.GetBytes(input);

    // Loop through contents of the array.
    foreach (byte element in array)
    {
        Console.WriteLine("{0} = {1}", element, (char)element);
    } 
```

**输出**

68 = D, 111 = o, 116 = t, 32 =, 78 = N, 101 = e, 116 = t, 32 =, 80 = P, 101 = e, 114 = r, 108 = l, 115 = s,

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-08T07:08:37.500

```
String[] arr=str.Split('-');
byte[] array=new byte[arr.Length];
for(int i=0; i<arr.Length; i++) array[i]=Convert.ToByte(arr[i],16); 
```

这就是我需要的。谢谢@Shekhar

# c# - 将Usings放在命名空间内部还是外部？

> ID：15872913
> 
> 赞同：9
> 
> 时间：2013-04-08T06:49:12.607
> 
> 标签：c#, coding-style, namespaces

我正在学习 MVC WebAPI，我正在学习一个教程，一切都很顺利，直到我看到以下内容：

```
namespace HelloWebAPI.Controllers
{
    using HelloWebAPI.Models;
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Net;
    using System.Net.Http;
    using System.Web.Http;

    public class ProductsController : ApiController
    {} 
```

我们通常做的是在开头添加资源\范围，如下所示：

```
using HelloWebAPI.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net;
using System.Net.Http;
using System.Web.Http;

namespace HelloWebAPI.Controllers
{

    public class ProductsController : ApiController
    {} 
```

我的主管告诉我没关系，应该没问题，因为它是有关该主题的官方 MS 教程。

** 我想知道为什么这无关紧要，以便我更好地理解它？**

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-08T06:51:29.220

有区别，小但有。

这都是关于编译器进行名称解析的顺序。您可以在这里找到关于主题的好答案：

[Usings 应该在命名空间内部还是外部](https://stackoverflow.com/questions/125319/should-usings-be-inside-or-outside-the-namespace)

在实践中，在第一种情况下编译器，如果无法立即找到类型信息，则会在*内部* `using`声明的命名空间中进行搜索。相反，在第二种情况下，将首先在实际命名空间中搜索，*然后*只在外部声明的内部进行搜索。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-08T06:51:27.250

您可以在一个 C# 文件中定义多个命名空间。

将语句放在`using`命名空间内意味着它们仅在该文件的该命名空间内使用。

将它们放在命名空间之外意味着它们适用于文件中的所有命名空间。

这就是变量名称的范围仅适用于包含它们的最内层大括号的一种方式。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-08T07:04:18.910

唯一的区别在于 using 语句的范围。如果您在命名空间内使用 using，则这些 using 语句将包含在该命名空间下的所有文件中。如果您在命名空间之外使用 using 语句，那么这些 using 语句将仅对当前文件有效。

文件 1：

```
namespace MyNamespace
{
    using System;
    using System.IO;

    public MyClass
    {
    }
} 
```

文件 2：

```
namespace MyNamespace
{
    public MyClassV2
    {
    }
} 
```

在此示例中，您不需要在文件 2 中为 MyClassV2 添加 using，因为 MyNamespace 已经具有这些 using 语句。但是对于不同的命名空间，您需要添加 using 语句。

# java - 从php查询远程mysql数据库并获取结果集

> ID：15872920
> 
> 赞同：1
> 
> 时间：2013-04-08T06:49:46.030
> 
> 标签：java, php, mysql, remote-access

我的网站（在 php 中）在**Yahoo 小型企业中运行，在****Rackspace.com**中运行应用程序（在 java 中）。两个服务器都有 mysql 数据库。

我想从我的网站（在雅虎中）查询我的应用程序数据库（在机架空间中）并获取结果集。

怎么做？请建议我参考文件来做到这一点。

直接查询远程数据库是个好主意吗？意味着是否会出现任何性能问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:54:49.713

远程访问不“属于”您的应用程序的数据总是一个坏主意。在这种情况下，PHP 应用程序应该访问一组在 Java 端公开的函数。这是为了确保当您升级 Java 端时，您可以更改数据库的模式，而不会影响与它交互的任何人。

我建议您研究 Web 服务——有很多方法（例如寻找 RPC、REST、SOAP），其中一些可能比其他方法更适合您的需求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T06:55:33.657

如果打开数据库端口，应该很容易但不安全。如果您可以以安全的方式访问数据库端口（例如 vpn 隧道），那将是简单且安全的 :)

我的建议是将查询实现为应用程序中的 SOAP 服务并通过 PHP 访问它们。Google 应该以两种语言提供足够的关于 SOAP 的结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:00:46.863

AFAIK

如果你想使用 php 中的 java 函数，你应该在任何 web 服务类型中用 java 实现 web 服务

[您可以使用cURL](http://php.net/manual/en/function.curl-exec.php)调用从 php 访问 Web 服务

# iphone - 在 iOS 应用程序中显示带有 HTML 标签的文本的最佳方式？

> ID：15872921
> 
> 赞同：4
> 
> 时间：2013-04-08T06:49:47.157
> 
> 标签：iphone, ios, objective-c

目前我正在开发用于网络聊天的 iOS 客户端。因此，聊天消息具有 HTML 标记（粗体、斜体、下划线、字体颜色、图像（微笑）等）。例如：

`<b>bold</b> <i>italic</i> <!--smile:bird--><img style="vertical-align: middle;border: none;" alt="bird" src="http://www.site.com/engine/data/emo_chat/bird.gif" /><!--/smile--> ordinaty text`

目前我有两个想法如何显示消息：

1.  将 UIWebView 添加到表格单元格。但我认为这不是一个选项，因为我们会有很多消息和很多 WebView。
2.  将 UITextView 添加到表格单元格，解析 HTML 标记并对属性字符串进行必要的更改。但是 UITextView 不支持图像（如果我是对的）。

还有其他（更好的）方法来显示此类数据（样式文本+图像）吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:30:54.183

使用每个单元格的 webview 不会像您怀疑的那样工作。Webviews 需要相当长的时间来渲染，这意味着您可能最终会看到旧的 webview 内容暂时显示在重用的单元格中，直到新的内容呈现。Webview 也是一个相当重量级的 UI 元素，你会遇到在屏幕上同时更新许多元素的性能问题。

您需要使用[DTCoreText 之](https://github.com/Cocoanetics/DTCoreText)类的库将获得的 HTML 文本解析为属性字符串。从这里开始，如果您可以针对 iOS 6 或更高版本，您可以`attributedText`在标准`UILabel`. 如果您需要针对早期的 iO​​S 版本，您可以再次使用 DTCoreText，特别是`DTAttributedLabel`或`DTAttributedTextCell`组件。

解析和`NSAttributedString`渲染都可以使用 XML 解析器和 CoreText 手动完成，但 DTCoreText 会让您的生活更轻松。

更新：您在评论中提到您希望支持`<img/>`. DTCoreText 确实有一些基本的图像支持，但是如果您使用 CoreText 渲染文本，这是一个非常困难的问题，因为您必须使文本正确地围绕图像流动，并在核心文本渲染器中保留一些空间来放置图像。如果每个单元格只有一个图像，我建议您手动提取图像路径/网址并将其`UIImageView`与文本一起放置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:01:55.527

你可以从[RTLabel 的](https://github.com/honcheng/RTLabel)东西中得到灵感。它正在做你想做的事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-02T11:21:40.873

您还可以使用原生 iOS 类将 HTML 转换为 NSAttributedString。查看以下帖子 [https://stackoverflow.com/a/18886718/1760527](https://stackoverflow.com/a/18886718/1760527)

# php - 如何使 wordpress 帖子循环并使用 jquery 替换 html 输出？

> ID：15872924
> 
> 赞同：0
> 
> 时间：2013-04-08T06:49:58.370
> 
> 标签：php, javascript, jquery, html, wordpress

在我的 wordpress 网站中，我有一个包含 3 个部分的页面。每个部分都包含来自特定类别的帖子。我使用这个 wordpress 查询来获取该类别中的最新 3 个帖子并将其加载到它的部分（div）中。因此，对于“小说”部分，我使用以下查询：

```
<? $novels = get_option('of_novels') ?>
<?php $paged = (get_query_var('paged')) ? get_query_var('paged') : 1; query_posts('category_name=$novels&posts_per_page=3'); ?>
<?php while (have_posts()) : the_post(); ?>
    <div class="sliderunit">
        <?php the_post_thumbnail(); ?>
        <div class="novelsslidertitle">
            <div class="arrow-left"></div>
            <a href="<?php the_permalink(); ?>"><img class="cross" src="<?php bloginfo('stylesheet_directory'); ?>/images/cross.png"/></a>
            <a href="<?php the_permalink(); ?>"><?php the_title(); ?></a>
            <h3>رواية</h3>
        </div>
    </div>                    
<?php endwhile;?> 
```

这让我获得了#novels 类别中的最新 3 篇文章。现在，我有一些按钮。我想写一些 jequery 来循环这个类别并获取上一个和下一个帖子，并将新的查询内容重新加载到该#novels div，使用替换 html 中的旧查询代码

```
$("<div/>").replaceWith("// Replace with a function to get the code of new output"); 
```

在不使用分页和重新加载页面的情况下充当滑块？我希望我的问题得到很好的说明，我感谢任何有用的线索、链接或参考。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T01:10:52.443

我认为这不是你`$.replaceWith`真正需要的。您只需监听用户何时到达某个点，可能是当前加载的帖子中的最后一个，或者倒数第二个，然后运行`$.ajax()`或类似的查询，将其附加到您的`#sliderunit`，它将使您能够继续滚动/滑动。通过添加而不是替换，您可以根据需要来回切换，而无需重新加载任何内容。如果您担心内存管理，您可以`$.remove()`在某个阈值下使用。

如果您需要有关如何执行此操作的更多信息，请先添加新数据，然后使用 CSS 操作（例如`$.animate()`执行幻灯片效果）。你可以使用图层来隐藏你不想显示的东西，或者我想你也可以调用`$.hide()`你不想显示的块。

# r - R data - 更改我的数据框（将列转换为行，反之亦然）

> ID：15872931
> 
> 赞同：8
> 
> 时间：2013-04-08T06:50:23.310
> 
> 标签：r, rows

所以我在 R 中创建了一个数据框，这个输出称为“数据”

但我想将我的数据框转换为如下所示的

我该怎么做呢？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-08T06:59:29.933

要在 R 中转置，请使用以下函数`t()`：

`t(data)`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-07-07T15:57:11.770

`t(data)`返回一个`matrix`。

将其`data.frame`从`matrix, wrap the output with`as.data.frame()` 转换为 a。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-06-21T16:58:43.793

`t(data)`返回列表。如果你想塑造你的数据，你可以通过强制转换成数据框：`as.data.frame(data)`

更好的解决方案：使用包中的`melt`函数`dplyr`。它可以轻松地将您的数据转换为表格形式，然后您可以“有效地”使用您的数据。

# android - 如何使用语音控制音乐播放器

> ID：15872941
> 
> 赞同：0
> 
> 时间：2013-04-08T06:51:09.267
> 
> 标签：android, voice, audio-player, android-music-player

我正在开发一个应用程序，它可以使用语音控制音乐播放器。例如，当我说“播放”音乐播放器播放歌曲，或者说“下一个”音乐播放器将播放下一首歌曲等时。我已经谷歌了，但没有找到任何想法或源代码。

问题：

1.  使用语音控制音乐播放器的想法

2.  源代码示例。

预先感谢。

可能相关：[Android - 语音控制 - 媒体意图](https://stackoverflow.com/questions/5615798/android-voice-control-media-intent)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-28T16:17:26.527

你将需要这个：

```
 private void playNextMusic() {
    Intent i = new Intent(Intent.ACTION_MEDIA_BUTTON);
    i.putExtra(Intent.EXTRA_KEY_EVENT,new KeyEvent(KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_MEDIA_NEXT));
    sendOrderedBroadcast(i, null);

    i = new Intent(Intent.ACTION_MEDIA_BUTTON);
    i.putExtra(Intent.EXTRA_KEY_EVENT,new KeyEvent(KeyEvent.ACTION_UP, KeyEvent.KEYCODE_MEDIA_NEXT));
    sendOrderedBroadcast(i, null);

    playPlayMusic();
}

private void playPreviousMusic() {
    Intent i = new Intent(Intent.ACTION_MEDIA_BUTTON);
    i.putExtra(Intent.EXTRA_KEY_EVENT,new KeyEvent(KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_MEDIA_PREVIOUS));
    sendOrderedBroadcast(i, null);

    i = new Intent(Intent.ACTION_MEDIA_BUTTON);
    i.putExtra(Intent.EXTRA_KEY_EVENT,new KeyEvent(KeyEvent.ACTION_UP, KeyEvent.KEYCODE_MEDIA_PREVIOUS));
    sendOrderedBroadcast(i, null);

    playPlayMusic();
}

private void playPauseMusic() {
    Intent i = new Intent(Intent.ACTION_MEDIA_BUTTON);
    i.putExtra(Intent.EXTRA_KEY_EVENT,new KeyEvent(KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_MEDIA_PAUSE));
    sendOrderedBroadcast(i, null);

    i = new Intent(Intent.ACTION_MEDIA_BUTTON);
    i.putExtra(Intent.EXTRA_KEY_EVENT,new KeyEvent(KeyEvent.ACTION_UP, KeyEvent.KEYCODE_MEDIA_PAUSE));
    sendOrderedBroadcast(i, null);
}

private void playPlayMusic() {
    Intent i = new Intent(Intent.ACTION_MEDIA_BUTTON);
    i.putExtra(Intent.EXTRA_KEY_EVENT,new KeyEvent(KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_MEDIA_PLAY));
    sendOrderedBroadcast(i, null);

    i = new Intent(Intent.ACTION_MEDIA_BUTTON);
    i.putExtra(Intent.EXTRA_KEY_EVENT,new KeyEvent(KeyEvent.ACTION_UP, KeyEvent.KEYCODE_MEDIA_PLAY));
    sendOrderedBroadcast(i, null);
}

private void playStopMusic() {
    Intent i = new Intent(Intent.ACTION_MEDIA_BUTTON);
    i.putExtra(Intent.EXTRA_KEY_EVENT,new KeyEvent(KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_MEDIA_STOP));
    sendOrderedBroadcast(i, null);

    i = new Intent(Intent.ACTION_MEDIA_BUTTON);
    i.putExtra(Intent.EXTRA_KEY_EVENT,new KeyEvent(KeyEvent.ACTION_UP, KeyEvent.KEYCODE_MEDIA_STOP));
    sendOrderedBroadcast(i, null);
} 
```

# android - 启用 viewSwitcher 时如何禁用 ScrollView 中的滚动？

> ID：15872944
> 
> 赞同：1
> 
> 时间：2013-04-08T06:51:17.493
> 
> 标签：android, scrollview, viewswitcher

在我的项目中，我使用 ScrollView 来显示产品列表，每个产品都会有一个子产品。我正在使用 realviewswitcher 来显示子产品。直到这一切正常。问题是当我滚动滚动视图时它滚动良好。但是在使用 realviewswitcher 查看子产品（从左到右滑动列表视图项）时，滚动视图允许滚动。我想在从左向右滑动时禁用滚动视图。只有当我从上到下滑动时，滚动视图才能工作。

我已经尝试使用自定义 ScrollView。但我没有得到预期的结果。我也用 setEnabled(false) 没用。他们还有其他解决方案吗？请告诉我知道

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T07:38:36.213

[try this](https://stackoverflow.com/questions/6210895/listview-inside-scrollview-is-not-scrolling-on-android)

it will disable scrolling as you want(vertical/horizontal). Or you can try this:

implements setOnTouchListener for both parent scrollview and child realviewswitcher like this:

```
parentScrollView= (ScrollView) findViewById(R.id.parentScrollview);
parentScrollView.setOnTouchListener(new View.OnTouchListener() {

    public boolean onTouch(View v, MotionEvent event) {
        // TODO Auto-generated method stub
         //Log.v(TAG,"PARENT TOUCH");
         findViewById(R.id.childScrollView).getParent().requestDisallowInterceptTouchEvent(false);
        return false;
        }
    });
childScrollView= (ScrollView) findViewById(R.id.childScrollView);
childScrollView.setOnTouchListener(new View.OnTouchListener() {

    public boolean onTouch(View v, MotionEvent event) {
        // TODO Auto-generated method stub
         //Log.v(TAG,"PARENT TOUCH");
         findViewById(R.id.childScrollView).getParent().requestDisallowInterceptTouchEvent(true);
        return false;
    }
}); 
```

# visual-studio - 如何更改现有 Visual Studio 类图中的字体大小？

> ID：15872953
> 
> 赞同：2
> 
> 时间：2013-04-08T06:51:46.003
> 
> 标签：visual-studio, class-diagram

我想让文本更小，而不是缩放图表，而是改变字体大小。是否可以？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:03:11.270

我找到了一个解决方案：

使用文本编辑器打开 *.cd 文件。在文件末尾查找字符串，如下所示：

```
<Font Name="Consolas" Size="7" /> 
```

更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-21T15:58:05.557

您可以通过在 VS 的选项菜单中设置字体大小等来更改此设置：

[http://social.msdn.microsoft.com/Forums/vstudio/en-US/566e3e74-5955-431f-bc58-f92f68effa39/sharing-font-size-in-class-diagram-vs2012](http://social.msdn.microsoft.com/Forums/vstudio/en-US/566e3e74-5955-431f-bc58-f92f68effa39/changing-font-size-in-class-diagram-vs2012)

重新打开图表，一切都会调整。

# jquery - 从 Servlet 重定向到 Jquery CRUD 表单导致所有表单元素的 request.getParameter null

> ID：15872954
> 
> 赞同：-1
> 
> 时间：2013-04-08T06:51:53.170
> 
> 标签：jquery, jquery-ui, jsp, servlets, ntlm

我有一个 Servlet 类，我在其中进行 NTLM 身份验证，如果成功，我将转发到 JSP 页面。

JSP 页面有一个用户表单，其中输入了很少的注册详细信息并提交了页面。在另一个名为 ServiceController 的 servlet 中，我正在使用

```
request.getParameter(""); 
```

我面临的问题是，如果我从 Servlet 重定向到 JSP 页面，`request.getParameter("");`全部为空，但如果我直接访问 JSP 页面，我可以成功地使用获取所有表单值`request.getParameter("");`

如果我从 Login Servlet 类重定向到 JSP 页面，为什么我无法在 Servlet 中获取表单值？

我要重定向的 Servlet 代码

```
public void doGet(HttpServletRequest request, 
                  HttpServletResponse response) throws ServletException, IOException {

    response.setContentType(CONTENT_TYPE);        
    String auth = request.getHeader("Authorization");
    ...

   if (findUsername(uname) == true) { 
   response.sendRedirect("myForm.jsp");
   return;
           } else {
        response.sendRedirect("accessdenied.jsp");
        return; 
```

任何帮助都是非常可观的

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:03:32.883

response.sendredirect() 方法将调用一个全新的请求，因此您无法访问之前请求中的任何值。您可以使用 [requestdispatcher](http://tomcat.apache.org/tomcat-5.5-doc/servletapi/javax/servlet/RequestDispatcher.html)或者您可以在会话中设置值并在您的 jsp 页面中读取它们

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-08T07:06:20.550

这里有两个不同的概念，我认为你把它们混在一起了。

开始处理请求后，您有几个选择：

*   停止响应（无论是否有意，尽管容器会为你做一些事情）
*   使用 重定向请求[`HttpServletResponse.sendRedirect`](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html#sendRedirect%28java.lang.String%29)，它将以 HTTP 响应`302`以将浏览器发送到识别的页面。您甚至可以通过重定向将它们从您的服务器发送出去。
*   使用[`RequestDispatcher.forward`](http://docs.oracle.com/javaee/6/api/javax/servlet/RequestDispatcher.html#forward%28javax.servlet.ServletRequest,+javax.servlet.ServletResponse%29)（`RequestDispatcher`可以从 访问[`ServletRequest.getRequestDispatcher`](http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getRequestDispatcher%28java.lang.String%29)）转发请求，这将重定向到不同的 servlet/JSP 来处理请求。这对用户来说是完全不可见的，并且请求的 URL 不会像重定向那样改变。转发的请求必须到达服务器上的某个地方，除非明确告知用户，否则用户无法知道该请求已被转发。转发的请求将维护它们的参数，包括`Attribute`s，这是在 servlet 之间传递参数的一种干净的方式。

在您的情况下，您提到希望在成功登录后设置会话，然后检索。这些概念完全相互独立。

您可以在`this.validUser`检查中设置会话，然后转发/重定向。在 中`else`，您可以选择仍然重定向以真正调用失败。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-08T07:03:52.713

重定向与转发请求/响应不同。如果控制任务的重定向转移由容器委托给浏览器，则浏览器会向指定的 url 生成新请求，旧的请求和响应对象会丢失。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T07:54:30.507

我已经解决了所有表单元素都为空的问题，这是`NTLM`我在 Login 中的身份验证代码的问题`servlet`。

我正在使用`JCIFS`（samba.org）解决方案来获取登录域的用户名。总共删除了我用来获取登录域并遵循[此用户名的废话代码](http://jcifs.samba.org/src/docs/ntlmhttpauth.html)

# c# - 使用 c# 阻止 Internet

> ID：15872957
> 
> 赞同：0
> 
> 时间：2013-04-08T06:52:04.430
> 
> 标签：c#

我正在尝试开发一种家长软件，可以安排在特定时间间隔阻止互联网。我怎样才能在 C# 中做到这一点？

我可以`System.Net, System.Net.NetworkInformation`在 c# 中使用命名空间吗？是否有任何内置功能用于阻止/禁用网络？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:57:28.823

```
 using System.Diagnostics;
    using System.IO;
    using System.Reflection;

            private void button1_Click(object sender, EventArgs e)
            {
                //ADDED A REFERENCE TO SYSTEM.SERVICEPROCESS VIA PROJECT->ADD REFERENCE, .NET tab
                System.ServiceProcess.ServiceController scPAServ = new System.ServiceProcess.ServiceController("PolicyAgent"); //IPSec

                if (scPAServ.Status != System.ServiceProcess.ServiceControllerStatus.Running)
                {
                    scPAServ.Start(); //Start If Not Running
                }
                string[] strCommands =  { @"-w REG -p ""Firewall"" -r ""Block All"" -f *:*:*+*:*:* -n BLOCK -x" ,
                                @"-w REG -p ""Firewall"" -r ""Allow LAN"" -f 0:*:*+192.168.10.*:*:* -n PASS -x" ,
                                @"-w REG -p ""Firewall"" -r ""DNS"" -f 0:*:UDP+223.211.190.23:53:UDP 0:*:UDP+223.211.190.24:53:UDP 0:*:TCP+223.211.190.23:53:TCP 0:*:TCP+223.211.190.24:53:TCP -n PASS -x" ,
                                @"-w REG -p ""Firewall"" -r ""POP3"" -f 0:*:TCP+*:110:TCP -n PASS -x" ,
                                @"-w REG -p ""Firewall"" -r ""POP3S"" -f 0:*:TCP+*:995:TCP -n PASS -x" ,
                                @"-w REG -p ""Firewall"" -r ""FTP Control"" -f 0:*:TCP+*:21:TCP -n PASS -x" ,
                                @"-w REG -p ""Firewall"" -r ""FTP Data"" -f 0:*:TCP+*:20:TCP -n PASS -x" ,
                                @"-w REG -p ""Firewall"" -r ""IMAP"" -f 0:*:TCP+*:143:TCP -n PASS -x" ,
                                @"-w REG -p ""Firewall"" -r ""HTTP"" -f 0:*:TCP+*:80:TCP -n PASS -x" ,
                                @"-w REG -p ""Firewall"" -r ""HTTPS"" -f 0:*:TCP+*:443:TCP -n BLOCK -x" ,
                                @"-w REG -p ""Firewall"" -r ""PROXY"" -f 0:*:TCP+*:8080:TCP 0:*:TCP+*:3128:TCP 0:*:TCP+*:8081:*:TCP 0:*:TCP+*:8000:TCP -n BLOCK -x"};

                for (int i = 0; i < strCommands.Length; i++) //Loop through each Command String
                {
                    ProcessStartInfo psiStart = new ProcessStartInfo(); //Process To Start

                    psiStart.CreateNoWindow = true; //Invisible

                    psiStart.FileName = Directory.GetParent(Assembly.GetExecutingAssembly().Location) + "\\ipseccmd.exe"; //IPSEC

                    psiStart.Arguments = strCommands[i]; //Break Command Strings Apart

                    psiStart.WindowStyle = ProcessWindowStyle.Hidden; //Invisible

                    Process p = System.Diagnostics.Process.Start(psiStart); //Start Process To Block Internet Connection
                }
            }

            private void button2_Click(object sender, EventArgs e)
            {
                System.ServiceProcess.ServiceController scPAServ = new System.ServiceProcess.ServiceController("PolicyAgent"); //IPSec

                if (scPAServ.Status != System.ServiceProcess.ServiceControllerStatus.Running) //If Not Running
                {
                    scPAServ.Start(); 
                }
                string strCommands = @"-w REG -p ""Firewall"" -r ""Block All"" -f *:*:*+*:*:* -n BLOCK -y"; //Commands To Send

                ProcessStartInfo psiStart = new ProcessStartInfo(); //Process To Start

                psiStart.CreateNoWindow = true; //Invisible

                psiStart.FileName = Directory.GetParent(Assembly.GetExecutingAssembly().Location) + "\\ipseccmd.exe"; //IPSEC

                psiStart.Arguments = strCommands; //Give Command String As Argument

                psiStart.WindowStyle = ProcessWindowStyle.Hidden;  //Invisible

                Process p = System.Diagnostics.Process.Start(psiStart);  //Start Process To Stop Internet Connection
            }
        } 
```

有关详细信息，请参阅[http://forums.codeguru.com/showthread.php?512380-C-.NET-4.0-Blocking-all-internet-traffic-system-wide](http://forums.codeguru.com/showthread.php?512380-C-.NET-4.0-Blocking-all-internet-traffic-system-wide)链接。

# silverlight - 使用 Silverlight 绑定弹出和组合框

> ID：15872960
> 
> 赞同：0
> 
> 时间：2013-04-08T06:52:21.493
> 
> 标签：silverlight, binding, combobox, telerik, popup

我对我的 ComboBox 的评论有疑问。首先，我使用组合框来显示 IEnumarale 中的所有元素。然后，使用一个打开弹出窗口的按钮，用户可以向该列表添加一个元素。问题是当用户验证他的选择并关闭弹出窗口时，该元素不会自动添加到 ComboBox 而不刷新页面。

组合框编码如下：

```
<telerik:RadComboBox x:Name="MyElements"
                        SelectionChanged="MyElements_OnSelectionChanged" 
                        ItemTemplate="{StaticResource ComboBoxElementsTemplate}"
                        ItemsSource="{Binding ListElements}"/> 
```

列表的构造函数是：

```
 public IEnumerable<Element> ListElements
    {
        get { return _listElements; }

        set
        {
            _listElements= value;
            RaisePropertyChange("ListElements");
        }
    } 
```

以及用于验证弹出窗口中用户选择的按钮背后的代码：

```
private ObservableCollection<HistoriqueElement> elementList = null;

private void SelectClick(object sender, RoutedEventArgs e)
    {
        var element= _GridList.SelectedItem as HistoriquePasserelle;
        if (_GridList.SelectedItem != null)
        {
            var installation = this.DataContext as Installation;
            if (installation != null && element!= null)
            {
                element.DateFin = DateTime.Now;
                HistoriqueElement newElement= new HistoriqueElement()
                {
                    Installation = installation,
                    ContactAction = GlobalActeurs.Current.CurrentContact,
                    Date = DateTime.Now,
                    Element = element.Element,
                    StatutElement = element.StatutElement ,
                    Owner= element.Owner,
                };
                elementList.Remove(element);
            }
            MainPage.ClosePopup();
        }
    } 
```

当用户在弹出的列表显示中选择一个新元素并验证他的选择时，他会返回到主页，但他的选择不会自动添加到组合框中。

我可以向您发布代码的任何部分。先感谢您。

方法 OnDataContextChanged ：

```
public override void OnDataContextChanged(DependencyPropertyChangedEventArgs e)
    {
        if (e.NewValue is Installation)
        {
            if (MainPage.CurrentInstallation.LastElements != null) 
            {
                ListElements = MainPage.CurrentInstallation.LastElements;
                MyElements.SelectedIndex = 0;
            }
            else
            {
                LoadOperation<Element> operation =
                    _context.Load(_context.GetCurrentElementsByInstallationId(MainPage.CurrentInstallation.Id));
                this._busy.IsBusy = true;
                operation.Completed += delegate
                {
                    this._busy.IsBusy = false;
                    if (operation.ManageError())
                    {
                        ListElements = operation.Entities;

                    }
                };
            }
            this.DataContext = this;
        }
        else
        {
            RaisePageTitleChanged();
            if (MainPage.CurrentInstallation == null)
                return;
        }
        if (MyElements.SelectedItem == null && MyElements.Items.Any())
        {
            MyElements.SelectedIndex = 0;
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T10:08:38.293

如果 ItemsSource 绑定实现 INotifyCollection 的集合发生了变化，也就是说，它是一个 ObservableCollection<>，那么组合框将被通知集合的任何变化，你不需要重新绑定或刷新，这一切都是自动的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:10:23.463

将项目添加到列表后，将 itemsource 绑定到组合框，然后您不必引用。

```
MyElements.ItemsSource = ListElements 
```

# android - 从我的数据库中获取记录数并将其存储在一个整数中

> ID：15872963
> 
> 赞同：1
> 
> 时间：2013-04-08T06:52:45.363
> 
> 标签：android, database, count

我想将数据库中的记录计数以整数形式显示到我的应用程序中，然后显示它......我该怎么做？？？

我不能这样做

这是数据库代码

```
public int counttable()
{
    int count=0;
    openOrCreateDatabase();

    count=db.execSQL("select count(*) from "+TableNameis+";");

    return count;

} 
```

我知道数据类型不匹配...有人可以建议我该怎么做吗？我如何将计数值存储在整数变量中。

**仪表板.java**

```
public class Dashboard extends Activity {

EditText edt_pending, edt_completed,edt_synched;

protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);

    requestWindowFeature(Window.FEATURE_NO_TITLE);

    setContentView(R.layout.dashboard);

    edt_pending=(EditText)findViewById(R.id.editpending);
    edt_completed=(EditText)findViewById(R.id.editcompleted);
    edt_synched=(EditText)findViewById(R.id.editsynched);

    WayDataBase way=new WayDataBase(Dashboard.this);
    int count=way.counttable();

    edt_completed.setText(count);

} 
```

}

**日志猫**

`04-08 07:15:02.216: E/AndroidRuntime(16026): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.android.lthomepage/com.android.lthomepage.Dashboard}: android.content.res.Resources$NotFoundException: String resource ID #0x1 04-08 07:15:02.216: E/AndroidRuntime(16026): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2180) 04-08 07:15:02.216: E/AndroidRuntime(16026): at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230) 04-08 07:15:02.216: E/AndroidRuntime(16026): at android.app.ActivityThread.access$600(ActivityThread.java:141) 04-08 07:15:02.216: E/AndroidRuntime(16026): at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234) 04-08 07:15:02.216: E/AndroidRuntime(16026): at android.os.Handler.dispatchMessage(Handler.java:99) 04-08 07:15:02.216: E/AndroidRuntime(16026): at android.os.Looper.loop(Looper.java:137) 04-08 07:15:02.216: E/AndroidRuntime(16026): at android.app.ActivityThread.main(ActivityThread.java:5039) 04-08 07:15:02.216: E/AndroidRuntime(16026): at java.lang.reflect.Method.invokeNative(Native Method) 04-08 07:15:02.216: E/AndroidRuntime(16026): at java.lang.reflect.Method.invoke(Method.java:511) 04-08 07:15:02.216: E/AndroidRuntime(16026): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793) 04-08 07:15:02.216: E/AndroidRuntime(16026): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560) 04-08 07:15:02.216: E/AndroidRuntime(16026): at dalvik.system.NativeStart.main(Native Method) 04-08 07:15:02.216: E/AndroidRuntime(16026): Caused by: android.content.res.Resources$NotFoundException: String resource ID #0x1 04-08 07:15:02.216: E/AndroidRuntime(16026): at android.content.res.Resources.getText(Resources.java:230) 04-08 07:15:02.216: E/AndroidRuntime(16026): at android.widget.TextView.setText(TextView.java:3640) 04-08 07:15:02.216: E/AndroidRuntime(16026): at com.android.lthomepage.Dashboard.onCreate(Dashboard.java:27) 04-08 07:15:02.216: E/AndroidRuntime(16026): at android.app.Activity.performCreate(Activity.java:5104) 04-08 07:15:02.216: E/AndroidRuntime(16026): at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080) 04-08 07:15:02.216: E/AndroidRuntime(16026): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144)`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T06:54:48.963

您可以使用[Cursor#getCount()](http://developer.android.com/reference/android/database/Cursor.html#getCount%28%29)来获取编号。的记录。

```
public int counttable()
{
    int count=0;
    openOrCreateDatabase();

    // count=db.execSQL("select * from "+TableNameis+";"); - This statement is invalid

    // Use this instead
    count=db.rawQuery(selectionQuery, null).getCount(); 

    return count;

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T06:56:06.663

试试这个代码：

```
public int counttable()
{
int count=0;
openOrCreateDatabase();
Cursor c = db.rawQuery("select * from your_table_name",null);
count=c.getCount();
return count;
} 
```

还，

```
edt_completed.setText(String.valueOf(count)); 
```

使用SELECT查询就足够了，然后计算Cursor的大小..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T07:06:21.987

1.  像这样为 DatabaseCreate 创建一个类..

    公共类 WayDataBase 扩展 SQLiteOpenHelper {

    ```
    private static String DATABASE_NAME = "Database Name";
    private SQLiteDatabase myDataBase;
    private Context myContext;
    private String DATABASE_PATH = "/data/data/"Package Name"/databases/";

    // Constructor  

    public WayDataBase (Context context) 
    {

        super(context, DATABASE_NAME, null, 1);
        this.myContext = context;
    }

    // Create DataBase 

    public void createDatabase() throws IOException
    {

        boolean dbExist = checkDataBase();

        if(dbExist)
        {
        }
        else
        {

            this.getReadableDatabase();

            try 
            {
                this.close();   
                copyDataBase();
            } 
            catch (IOException e) 
            {
                throw new Error("Error copying database");
            }
        }

    }

    // check Database Existing or not

    private boolean checkDataBase() 
    {
        SQLiteDatabase checkDB = null;

        try
        {
            String myPath = DATABASE_PATH + DATABASE_NAME;
            checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READWRITE);

        }
        catch(SQLiteException e)
        {
        }

        if(checkDB != null)
        {

            checkDB.close();

        }

        return checkDB != null ? true : false;

    }

    // Copy DataBase from assets to SD card 

    private void copyDataBase() throws IOException
    {

        String outFileName = DATABASE_PATH + DATABASE_NAME;

        OutputStream myOutput = new FileOutputStream(outFileName);
        InputStream myInput = myContext.getAssets().open(DATABASE_NAME);

        byte[] buffer = new byte[1024];
        int length;
        while ((length = myInput.read(buffer)) > 0) 
        {
            myOutput.write(buffer, 0, length);
        }

        myInput.close();
        myOutput.flush();
        myOutput.close();
    }

    // Open DataBase

    public void openDatabase() throws SQLException
    {

        String myPath = DATABASE_PATH + DATABASE_NAME;
        myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READWRITE);

    }
    public int counttable()
    {
        int count=0;
        openDatabase();
        Cursor c = myDataBase.rawQuery("SELECT * FROM table_name",null);
        return count;
    } 
    ```

    }

现在在您的活动中

公共类仪表板扩展活动{

私有 WayDataBase 方式；

```
EditText edt_pending, edt_completed,edt_synched;

protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);

    requestWindowFeature(Window.FEATURE_NO_TITLE);

    setContentView(R.layout.dashboard);

    edt_pending=(EditText)findViewById(R.id.editpending);
    edt_completed=(EditText)findViewById(R.id.editcompleted);
    edt_synched=(EditText)findViewById(R.id.editsynched);

    way= new WayDataBase(this);
    try 
    {
        way.createDatabase();

    } catch (IOException ioe) 
    {
        throw new Error("Unable to create database");
    }

    int count=way.counttable();

    edt_completed.setText(count+"");

} 
```

}

# jquery - 比较动态创建的文本框的“n”个文本

> ID：15872965
> 
> 赞同：-3
> 
> 时间：2013-04-08T06:52:55.247
> 
> 标签：jquery, jquery-ui

在我的代码中，我允许用户动态添加任何文本框。我需要确保所有这些文本框中的文本都不同。我该如何使用 Jquery？请帮帮我。我陷入了困境。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:12:13.540

对于验证尝试类似

```
var obj = {};
$('input', $ct).each(function(i, v){
    var $this = $(this).removeClass('error');;
    var val = $this.val();
    if(val && obj[val]){
        alert(val + ' exists');
        $this.addClass('error');
    }
    obj[val] = true;
}); 
```

演示：[小提琴](http://jsfiddle.net/yRkfn/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:58:19.030

我会按照惯例去`ID`

`**[EXAMPLE](http://jsbin.com/ejihac/1/edit)**`

```
var n = 0;
$('#createTextbox').click(function(){ 
  var newTextbox = '<input type="text" id="textbox_'+ (n++) +'"/>';
  $('#area').append( newTextbox );
});

$('#area').on('click', '[id^=textbox_]', function(){
  alert( this.id );
}); 
```

where`(n++)`将增加新文本框的 ID，并`.on`与委托事件一起使用，您可以注意将来的操作以从它们中检索您需要的内容。
要将单击绑定到`textbox_*N*`所需`area`元素内的每个新元素，请使用**带有选择器的开头`^`**：`[id^=textbox_]`。

[http://api.jquery.com/click/](http://api.jquery.com/click/)
[http://api.jquery.com/append/](http://api.jquery.com/append/)
[http://api.jquery.com/on/](http://api.jquery.com/on/)

# sql - if 条件与多个输入参数的组合

> ID：15872967
> 
> 赞同：0
> 
> 时间：2013-04-08T06:53:04.223
> 
> 标签：sql, sql-server, tsql

函数有一些参数，如
`@a int, @b int, @c int , @d int`

只需要允许，@a、@b、@c、@d 和@a + @b 的组合值都不为空

我试过了，但它也允许其他组合`@a + @c`

`if((@a is not null) or (@b is not null) or (@c is not null) or (@d is not null) or ((@a is not null) and (@b is not null)))`

任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T17:34:56.310

这个怎么样：

```
IF
    (
        @a IS NOT NULL 
        AND 
        @c IS NULL
        AND 
        @d IS NULL
    )
    OR
    (
        @b IS NOT NULL
        AND 
        @c IS NULL
        AND 
        @d IS NULL
    )
    OR 
    (
        @c IS NOT NULL
        AND 
        @a IS NULL
        AND 
        @b IS NULL
        AND 
        @d IS NULL
    )
    OR 
    (
        @d IS NOT NULL
        AND 
        @a IS NULL
        AND 
        @b IS NULL
        AND 
        @c IS NULL
    ) 
```

或这个：

```
DECLARE @validate INT;
SELECT @validate = SUM(validate) 
FROM 
    ( 
        SELECT CASE WHEN @a IS NULL THEN 0 ELSE 1 END validate
        UNION
        SELECT CASE WHEN @b IS NULL THEN 0 ELSE 1 END 
        UNION
        SELECT CASE WHEN @c IS NULL THEN 0 ELSE 2 END 
        UNION
        SELECT CASE WHEN @d IS NULL THEN 0 ELSE 2 END 
    ) n;

IF @validate BETWEEN 1 AND 2 
```

# php - php字符串拆分

> ID：15872969
> 
> 赞同：-5
> 
> 时间：2013-04-08T06:53:17.633
> 
> 标签：php, string

我有这个字符串，我想拆分它：

```
$string="2709 SW 29th St., Suite 100 Topeka, Kansas  66614"; 
```

我需要将其拆分为： Zip =66614,state=Kansas,city=topeka,address2=Suite 100 ,address1=2709 SW 29th St. 提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T07:46:32.707

好的，假设格式如下：

> [address1], [address2] [city: single word], [state: word] [zip: numeric]

您需要[`explode`](http://php.net/manual/en/function.explode.php)先按`,`空格，然后按空格对字符串进行一些字符串检查。一个例子可能如下：

```
$string;
$a = explode(',', $string);

$address1 = trim($a[0]);

$b = explode(' ', trim($a[1]));
$city = array_pop($b);
$address2 = implode(' ', $b);

$c = explode(' ', trim($a[2]));
$zip = array_pop($c);
// check if $zip is numeric and valid
$state = implode(' ', $c); 
```

请注意，[`trim`](http://php.net/manual/it/function.trim.php)它用于删除字符串末尾和开头的可选空格。该[`implode`](http://php.net/manual/en/function.implode.php)函数改为执行 的反向操作`explode`。最后[`array_pop`](http://php.net/manual/en/function.array-pop.php)将和数组视为堆栈并删除（返回）数组的最后一个元素。

这只是一个让您入门的示例。不要**复制**和粘贴此代码。您应该根据您的上下文和您的真实字符串格式对其进行调整。

# php - 如何在php中的新页面上开始新报告

> ID：15872970
> 
> 赞同：0
> 
> 时间：2013-04-08T06:53:18.877
> 
> 标签：php, html, mysql, css

嗨，我有一个由三部分组成的表格，即字母部分、详细信息部分和注释部分我可以打印信件报告但现在我想在新页面上开始新报告我的意思是当用户尝试打印报告，字母部分应该出现在一个页面上，详细部分应该出现在一个新页面上，所有页面都是 A4 纸，有人可以帮我吗？我只想知道如何在表格中使用，例如。

```
<?php
echo "table";
while($row= mysql_fetch_array($result)){
echo "<tr>";
echo "<td>$row[data1]</td>";
echo "<td>$row[data2]</td>";
echo "</tr>";
}
echo "</table>";

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:58:22.040

在表格开始标记中使用`page-break-before: always`CSS，即

```
echo '<table style="page-break-before: always">'; 
```

*旁注：* MDN 建议将其替换为`break-before`（参见参考链接），但我不建议这样做，因为几乎没有浏览器支持这个新的 CSS3 属性。

ps 我相信第一行应该是`echo "<table>";`，对吧？

参考：[MDN 上的 page-break-brefore](https://developer.mozilla.org/en-US/docs/CSS/page-break-before)

例子：

```
<?php
echo '<table style="page-break-before: always">';
while($row= mysql_fetch_array($result)){ // Do NOT use mysql_* functions! Use MySQLi / PDO instead
  echo '<tr style="margin-top: 20px;">';
  echo "  <td>$row[data1]</td>";
  echo "  <td>$row[data2]</td>";
  echo "</tr>";
}
echo "</table>";
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:58:44.050

这可能会有所帮助：

***CSS 分页符***

```
@media all {
    .page-break { display: none; }
}

@media print {
    .page-break { display: block; page-break-before: always; }
} 
```

***用法***

```
<h1>Page Title</h1>
<!-- content block -->
<!-- content block -->
<div class="page-break"></div>
<!-- content block -->
<!-- content block -->
<div class="page-break"></div>
<!-- content block -->
<!-- content --> 
```

# json - 我如何生成 JSON 字符串形式 LinkedHashMap

> ID：15872979
> 
> 赞同：0
> 
> 时间：2013-04-08T06:53:49.677
> 
> 标签：json

我如何生成 JSON 字符串形式的linkedHashMap。

地图包含 (1,aaa) (2,bbb), (3,ccc)... 从这里我需要生成 Json 字符串

{ {id:1,text:"aaa"},{id:2,text:"bbb"},{id:3,text:"ccc"},...}

请任何人都可以帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-06T07:59:32.490

在 javascript 中，地图实际上与经典对象几乎相同：

```
{ "1": "aaa", "2":"bbb","3":"ccc",... } 
```

我不是 100% 确定您可以使用数字作为键...

另一种方法是使用这样的结构并拥有一个对象数组：

```
[ {id:1,text:"aaa"},{id:2,text:"bbb"},{id:3,text:"ccc"},... ] 
```

或者为了更符合地图的精神，您应该将字段命名为“类似地图”：

```
[ {key:1,value:"aaa"},{key:2,value:"bbb"},{key:3,value:"ccc"},... ] 
```

所有 3 种都是有效的 json/javascript 表单，哪一种最适合您取决于您​​实际想要使用它的用途。

# boost - Boost 测试：获取错误计数

> ID：15872981
> 
> 赞同：1
> 
> 时间：2013-04-08T06:53:57.497
> 
> 标签：boost, boost-unit-test-framework

有没有办法在 Boost UTF 中获取当前测试用例的当前错误计数？

我想在我的测试用例中至少有一次检查失败的情况下执行代码。就像是：

```
 if (BOOST_ERROR_COUNT > 0) { ... } 
```

（此宏不存在。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T10:02:57.033

您可以通过以下方式访问有关当前测试用例的信息`boost::unit_test::results_collector`

例如

```
using boost::unit_test::results_collector;
using boost::unit_test::framework::current_test_case;
using boost::unit_test::test_case;
using boost::unit_test::test_results;

const test_results& theResults = results_collector.results( current_test_case().p_id ); 
```

这将为您提供一个`boost::unit_test::test_results`包含您所追求的所有信息的信息。

也可以看看`boost/test/results_collector.hpp`

# java - 用箭头键移动 JFrame？

> ID：15872987
> 
> 赞同：0
> 
> 时间：2013-04-08T06:54:06.643
> 
> 标签：java, swing, jframe, keylistener

我想要一个在屏幕键上移动的普通 JFrame。事实证明并不是那么容易。

出于某种原因，我得到了一个粗略的代码 e.getKeyChar ()

甚至有可能吗？我认为我们必须以某种方式重写技术，因为我开始了，但有一些问题。

提示，调整——

```
public class Main implements Runnable {
    private int xLocation = 200;
    private int yLocation = 200;
    private JFrame frame;
    public static void main(String[] args) {
        EventQueue.invokeLater(new Main());
    }
    @Override
    public void run() {
        KeyboardFocusManager manager = KeyboardFocusManager.getCurrentKeyboardFocusManager();
        manager.addKeyEventDispatcher(new MyDispatcher());
        frame = new JFrame();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setUndecorated(true);
        JPanel panel = new JPanel();
        panel.add(new JLabel("Label"));
        panel.add(new JButton(new AbstractAction("Close") {
            @Override
            public void actionPerformed(ActionEvent e) {
                System.exit(0);
            }
        }));
        frame.add(panel);
        frame.pack();
        frame.setLocation(xLocation, yLocation);
        frame.setVisible(true);
    }
    private class MyDispatcher implements KeyEventDispatcher, KeyListener {
        @Override
        public boolean dispatchKeyEvent(KeyEvent e) {

            char key = e.getKeyChar();

            if(key==KeyEvent.VK_LEFT){
            }
            if (e.getID() == KeyEvent.KEY_PRESSED) {
                //System.out.println("tester");
            } else if (e.getID() == KeyEvent.KEY_RELEASED) {
                //System.out.println("2test2");
            } else if (e.getID() == KeyEvent.KEY_TYPED) {
                //System.out.println("3test3");
            }
            return false;
        }
        @Override
        public void keyPressed(KeyEvent e) {
            System.out.println("e.getKeyChar() " + e.getKeyChar());
            char key = e.getKeyChar();
            if (key == KeyEvent.VK_LEFT) {
                xLocation += 5;
            }
            frame.setLocation(xLocation, yLocation);
            frame.repaint();            
        }
        @Override
        public void keyReleased(KeyEvent e) {
        }
        @Override
        public void keyTyped(KeyEvent e) {
        }        
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T12:57:49.363

```
 final JFrame jFrame = new JFrame();
    jFrame.getRootPane().getInputMap().put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, KeyEvent.VK_UNDEFINED), "moveRight");
    jFrame.getRootPane().getActionMap().put("moveRight", new AbstractAction() {
        @Override
        public void actionPerformed(ActionEvent e) {
            jFrame.setLocation(jFrame.getX() + 5, jFrame.getY());
        }
    });
    jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    jFrame.setLocationRelativeTo(null);
    jFrame.setVisible(true); 
```

如果你有祖先，`JFrame`那么你应该采取这种`InputMap/ActionMap`方法。请参阅官方[指南](http://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)。

# sql - oracle sql查询通过消除重复返回行

> ID：15872988
> 
> 赞同：-1
> 
> 时间：2013-04-08T06:54:09.700
> 
> 标签：sql, oracle11g, duplicates

我对以下情况感到震惊。需要您帮助根据以下示例数据修改我的查询。我的目标是使用 TEM_GT 和 TXN 表中的可用数据创建一个 EVENT AND EVENT_LOW。

**TEM_GT（全局临时表）**

```
est_id primary key, trans_id, trp_id, amount  
  1                   111      2221      1.5   
  2                   111      3332      2.0  
  3                   112      4443      3.0 
```

**TXN 表**

```
trans_id, trans_type
111          type1  
112          type1 
```

**事件表**

```
event_id primary key, trans_id,  trans_type, flag.  
   1000                 111         type1      N  
   1001                 112         type1      N 
```

**EVENT_LOW 表** （最终表）

```
 event_low_id primary key, event_id, est_id, amount.  
    9991                      1000     1       1.5  
    9992                      1000     2       2.0  
    9993                      1001     3       3.0 
```

* * *

```
insert into(event_low_id, event_id, est_id, amount) 
 (
    select event_low_id_s.nextval e.event_id, tg.est_id, tg.amount from
    from   TEM_GT tg, EVENT ee
    WHERE
          tg.trans_id    = e.trans_id   
    AND e.flag           = 'N'
 ); 
```

基于 TEM_GT 和 TXN gt，将数据填充到 EVENT 表中。现在，当我尝试在 EVENT_LOW 表中填充数据时，上述查询返回 5 行而不是 3 行。这是由于 TEM_GT 表中的 trp_id。我不想在 EVENT 表中添加 trp_id，并且想处理上述选择查询中的重复消除。

我正在使用 Oracle 11g。请帮助我。

我只是构建下面的sql。它几乎解决了我的问题。但有时它会为金额列返回不同的值。我希望我的 event_low 结果如下所示 est_id **1**。

```
 event_low_id primary key, event_id, est_id, amount.    
    9991                      1000     1       1.5    
    9992                      1000     2       2.0 
```

但有时它会返回

```
 event_low_id primary key, event_id, est_id, amount.    
    9991                      1000     1       1.5    
    9992                      1000     2       1.5 
```

或者

```
 event_low_id primary key, event_id, est_id, amount.    
    9991                      1000     1       2.0    
    9992                      1000     2       2.0 
```

* * *

```
select *  
      from (select x.*,  
                    row_number() over (partition by event_id order by event_id) rn  
              from (seelct e.event_id, tg.est_id, tg.amount  
                           from   TEM_GT tg, EVENT e  
         WHERE  
               tg.trans_id    = e.trans_id     
               AND e.flag           = 'N'  
                    ) x  
            )  
      where rn = 1 
```

任何帮助进一步调整它以获得准确的结果。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T07:05:02.683

据我所知，根据条件，您的示例查询应该只返回 3 行。

但是，您的问题的答案可能是使用`select distinct`. 我还建议使用标准`join`语法：

```
select distinct event_low_id_s.nextval, e.event_id, tg.est_id, tg.amount
from TEM_GT tg join
     EVENT ee
     on tg.trans_id = e.trans_id   
where e.flag = 'N' 
```

您的语法`insert`不正确，这表明您编辑了查询，删除了有问题的部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T07:12:03.543

我的第一直觉是使用`DISTINCT`. 然后我注意到重复项有不同的`amount`. 您需要决定`amount`使用哪个，然后应用适当的组功能。

示例（替换`MAX`，`SUM`如果您愿意）：

```
select event_low_id_s.nextval e.event_id, MAX(tg.est_id), SUM(tg.amount)
from TEM_GT tg join
     EVENT ee
     on tg.trans_id = e.trans_id   
where e.flag = 'N'
group by e.event_id 
```

# java - jsch的ChannelSftp中exit和quit有什么区别？

> ID：15872989
> 
> 赞同：5
> 
> 时间：2013-04-08T06:54:16.010
> 
> 标签：java, sftp, jsch

我目前正在使用 jsch 开发一个程序，并且正在查看 ChannelSftp 类。我只想知道退出和退出方法之间的区别。

在[Sftp 示例](http://www.jcraft.com/jsch/examples/Sftp.java)的帮助字符串中，它显示`"exit - Quit sftp"`和`"quit - Quit sftp"`.

那么，两者之间有什么区别以及如何正确使用它们呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-08T07:02:25.977

两者都是一样的。在内部，他们只调用 `disconnect();`：

```
public void quit(){ disconnect();}

public void exit(){ disconnect();} 
```

非官方的 JSch 文档清楚地说明了这一点：[`exit`](http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/ChannelSftp.html#exit%28%29), [`quit`](http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/ChannelSftp.html#quit%28%29).

# matlab - 在 Matlab 中替换函数“transformPointsForward”

> ID：15872996
> 
> 赞同：1
> 
> 时间：2013-04-08T06:54:36.063
> 
> 标签：matlab, matlab-cvst

我在 Matlab 中遇到了一些问题。我正在工作并尝试使用此参考： http: [//www.mathworks.com/help/vision/gs/object-detection-and-tracking.html](http://www.mathworks.com/help/vision/gs/object-detection-and-tracking.html) 但在最后一个 Matlab 版本中，没有名为“transformPointsForward”的函数. 我可以用什么代替它？块，它使用的地方：

```
boxPolygon = [1, 1;...                           % top-left
        size(boxImage, 2), 1;...                 % top-right
        size(boxImage, 2), size(boxImage, 1);... % bottom-right
        1, size(boxImage, 1);...                 % bottom-left
        1, 1];                   % top-left again to close the polygon
    newBoxPolygon = transformPointsForward(tform, boxPolygon.Location);
    figure; imshow(sceneImage); 
```

非常感谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T07:19:12.037

[`transformPointsFoward`](http://www.mathworks.co.uk/help/images/ref/affine3d.transformpointsforward.html)仅从 2013a 起可用。如果您使用的是旧版本，您将需要查看[`tformfwd`](http://www.mathworks.co.uk/help/images/ref/tformfwd.html)，也可以从图像处理工具箱中查看。

# php - 需要帮助使用 PHP 和 JavaScript 进行数学运算

> ID：15872999
> 
> 赞同：-2
> 
> 时间：2013-04-08T06:54:44.010
> 
> 标签：php, javascript, jquery

我有以下 JQuery/Javascript

```
<script>
                var Quantity;
$("select").change(function() {
    var str = "";
    var price = <?php echo $row[price];?>;
    $("select option:selected").each(function() {
                str += $(this).text() + " ";
            });
    $(".plan_price").text("price : " + parseInt(str) * price + " baht");
    Quantity = parseInt(str);
}).change();
    </script> 
```

这对于 php/sql

```
if ($row[item_amount] - 1 == 0) {
                $sql = "update item set active='2',item_amount=item_amount-1,buy_time=NOW() where id='$id'";
            } else {
                $sql = "update item set item_amount=item_amount-1,buy_time=NOW() where id='$id'";
            } 
```

我想知道是否有任何方法可以从 php 中的 $row[item_amount] 中减去/添加 javascript 变量 Quantity 的值，因为我需要从数据库中减去 Quantity。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T07:03:25.657

您可以通过 ajax 调用与 $row[item_amount] 进行交互。您不能直接减去`Quantity`或减去`$row[item_amount]`。