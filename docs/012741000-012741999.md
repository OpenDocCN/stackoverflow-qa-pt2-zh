# StackOverflow 问答 12741000-12741999

# php - CodeIgniter 和 AJAX

> ID：12741001
> 
> 赞同：0
> 
> 时间：2012-10-05T06:49:45.667
> 
> 标签：php, ajax, codeigniter

CodeIgniter 和 AJAX 问题

```
my base_url=http://localhowt/project1/

site_url=http://localhowt/project1/index.php 
```

我有一个控制器名称`methods.php`，其中一个方法是`insert_data()`.

从我的一个视图页面中，我尝试使用`$.ajax`这样的方法调用控制器 methods.php

```
<script type="text/javascript">
$(document).ready(function(){
    $('#save').click(function(){
        $.ajax({
            type: "POST",
            url: "http://localhost/project1/index.php/methods/insert_data",
            dataType: "json",success:function(data){
                alert("success");
            }
        });  
    });
});
</script> 
```

此 AJAX 代码不会重定向到控制器页面。但是我没有从这个 ajax 代码中得到任何响应。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:57:55.923

您应该使用该`site_url()`函数正确生成`url`参数。其次，你应该按照 Silviu G 所说的去做。第三，你应该按照书呆子所说的去做:)

# regex - bash中find命令中的正则表达式

> ID：12741006
> 
> 赞同：1
> 
> 时间：2012-10-05T06:49:56.497
> 
> 标签：regex, shell, find

为什么 'save$' 不能匹配名为的文件`save`？

```
root@debian:/home/tiger# ls /home/test
save
root@debian:/home/tiger# find /home/test -regex 'save$'
root@debian:/home/tiger# find /home/test -regex '.*save$'
/home/test/save 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:53:37.203

因为正则表达式与完整路径（即/home/test/save）匹配，而不仅仅是文件名“save”。

# javascript - 使用filereaderasarraybuffer但它只读取文本文件不读取图像，excel文件那么怎么办？

> ID：12741007
> 
> 赞同：0
> 
> 时间：2012-10-05T06:49:59.967
> 
> 标签：javascript

在javascript中使用filereaderasarraybuffer，但它读取文本文件，读取图像，excel文件但图像内容，excel文件不显示，如何正确使用它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T13:09:13.557

作为答案：

`filereaderasarraybuffer`不是 Javascript... 或任何语言中的已知函数？

# c++ - 如何使用 fcntl.h 以追加模式写入文件

> ID：12741019
> 
> 赞同：1
> 
> 时间：2012-10-05T06:50:40.740
> 
> 标签：c++, linux

下面是我的代码：

```
#include <iostream> 
#include <fcntl.h>
#include <unistd.h>
using namespace std; 

int main()
{

int filedesc = open("testfile.txt", O_RDWR | (O_APPEND |O_CREAT) ,S_IRWXO);

    if (filedesc < 0) {
    cout<<"unable to open file";
        return -1;
    }

    if (write(filedesc, "This will be output to testfile.txt", 36) != -1) {
        cout<<"writing";
        close( filedesc );
    }

    return 0;
return 0;

} 
```

如果我在第二次以上运行相同，则 o/p 是“无法打开文件”。难道我做错了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T06:55:33.110

这是一个权限问题

尝试改变

```
S_IRWXO 
```

到

```
 S_IRWXU 
```

它会正常工作

```
S_IRWXO 
```

其他人读取、写入、执行/搜索

参考[http://pubs.opengroup.org/onlinepubs/7908799/xsh/sysstat.h.html](http://pubs.opengroup.org/onlinepubs/7908799/xsh/sysstat.h.html)

# ant - 如何删除带有符号链接的目录，而不删除其目标？

> ID：12741026
> 
> 赞同：3
> 
> 时间：2012-10-05T06:51:15.510
> 
> 标签：ant, symlink, delete-file

我正在运行一个 Ant 命令，例如：

```
<delete dir="/some/folder/path/"/> 
```

该文件夹`/path/`包含一些文件、文件夹和一些符号链接。文件和文件夹被删除，但该命令尝试删除`target`符号链接的目录，这会产生错误。

`<delete>`当我在父文件夹 ( `/path/`)上运行命令时，我不想删除目标目录，而只想删除符号链接。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T07:00:01.693

我发现[了这个错误报告](https://issues.apache.org/bugzilla/show_bug.cgi?id=22632)。

一个解决方案是使用文件集。

```
<delete>
  <fileset dir="/some/folder/path/" followsymlinks="false"/>
</delete> 
```

编辑：不过，上面并没有删除符号链接。以下删除文件夹中的所有符号链接。我在[这里](http://ant.1045680.n5.nabble.com/Making-the-delete-task-behave-like-bin-rm-rf-vis-a-vis-symlinks-to-directories-td1355232.html)找到了。

```
<exec output="/path/to/symlink/list" executable="/usr/bin/find">
    <arg value="/some/folder/path/"/>
    <arg value="-type"/>
    <arg value="l"/>
</exec>

<fileset id="victims" dir="/some/folder/path/">
    <includesfile name="/path/to/symlink/list>
</fileset> 
```

在此之后，使用删除目录应该是安全的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-06-08T08:43:55.673

使用 bash 中的“rm -rf”。我找不到更好的解决方案

```
<macrodef name="bash_rm">
    <attribute name="dir" />
    <sequential>
        <echo message="Remove directory @{dir}"/>
        <exec executable="rm" >
            <arg value="-rf"/>
            <arg value="@{dir}" />
        </exec>
    </sequential>
</macrodef> 
```

# xml - XSLT 转换删除具有指定属性的节点

> ID：12741028
> 
> 赞同：2
> 
> 时间：2012-10-05T06:51:29.297
> 
> 标签：xml, xslt, transformation

我在使用 XLTS 解析 XML 文件时遇到问题。

```
 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="pl">
    <body style="margin-top: 0px;">
    <a name="top"/>
    <a name="menu"> </a>
    <a href="cool html"> </a>
    <table width="100%" cellspacing="0" cellpadding="2" border="0" class="aws_border sortable"/>
    </body>
    </html> 
```

我需要删除所有节点`<a name="something"> </a>`，同时保留`<a href>`文档中的节点和其他节点。

我试过了

```
 <xsl:stylesheet version = '1.0' xmlns:xsl='http://www.w3.org/1999/XSL/Transform'>
    <xsl:template match="body"> 
    <xsl:for-each select="a"> 
      <xsl:if test="@href != '' ">
     <xsl:copy-of select="."/> 
    </xsl:if>
         </xsl:for-each> 
    </xsl:template>
    </xsl:stylesheet> 
```

但它只保留`<a href >`节点，并删除所有其他节点。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T07:00:10.870

保留所有节点并仅更改少数节点总是这样：

1.  您使用身份模板。它复制（“保留”）所有未以其他方式处理的节点。
2.  您为应该以不同方式处理的每个节点编写另一个模板。
3.  你抵制使用的冲动`<xsl:for-each>`。你不需要它。

XSLT：

```
<xsl:stylesheet version="1.0" 
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:xhtml="http://www.w3.org/1999/xhtml"
>

  <!-- the identity template -->    
  <xsl:template match="@* | node()">
    <xsl:copy>
      <xsl:apply-templates select="@* | node()" />
    </xsl:copy>
  </xsl:template>

  <!-- empty template to remove <a name="..."> specifically -->    
  <xsl:template match="xhtml:a[@name]" />

</xsl:stylesheet> 
```

就是这样。

第3点实际上非常重要。避免`<xsl:for-each>`在您编写的所有 XSLT 中使用。它似乎熟悉且有用，但事实并非如此。它的使用往往会导致难以重用的笨重、单一、深度嵌套的 XSLT 代码。

总是试着喜欢`<xsl:template>`和`<xsl:apply-templates>`过度`<xsl:for-each>`。

# linux - fork 后的 Linux 用户空间 ELF 加载程序极其奇怪的行为

> ID：12741031
> 
> 赞同：-2
> 
> 时间：2012-10-05T06:51:34.147
> 
> 标签：linux, fork, elf, ptrace, execve

考虑以下代码（由于公众需求重新编译：）：

```
#include <assert.h>
#include <signal.h>
#include <stdio.h>
#include <syscall.h>
#include <unistd.h>

#include <sys/ptrace.h>
#include <sys/stat.h>
#include <sys/user.h>
#include <sys/wait.h>

static FILE* logfile = 0;

int main(int argc, char * argv[], char * envp[]) {
pid_t pid = fork();
if (pid == 0) { /* child */
    if (ptrace(PTRACE_TRACEME, 0, 0, 0) == -1)
        assert(0 && "ptrace traceme failed");

    /* signal the parent that the child is ready */
    kill(getpid(), SIGSTOP);
    execve("a.out", argv, envp);
} else { /* parent */
    int status = 0, ret = 0;

    if ((logfile = fopen("log","a+")) == 0)
        assert(0 && "failed to open logfile");

    struct stat logfile_stat_buf;
    if (stat("log", &logfile_stat_buf) != 0)
        assert(0 && "failed to stat logfile");

    /* sync the parent and the child */
    if (waitpid(pid, &status, __WALL | __WCLONE) < 0)
        assert(0 && "waiting on child failed");

    ptrace(PTRACE_SYSCALL, pid, 0, 0);

    while (waitpid(pid, &status, __WALL | __WCLONE) > 0) {
        /* syscall entry */
        struct user_regs_struct regs;
        ptrace(PTRACE_GETREGS, pid, NULL, &regs);
        /* check to see if it's a mmap call
         * void *mmap2(void *addr, size_t length, int prot,int flags, int fd, off_t pgoffset); 
         */
        printf("Child entereing a syscall %d\n", regs.orig_eax);
        if (regs.orig_eax == SYS_mmap2) {
            /* stat the file for the inode */
            int fd = regs.edi;
            struct stat stat_buf;
            if ((fstat(fd, &stat_buf) == 0) && (stat_buf.st_ino == logfile_stat_buf.st_ino))
                assert(0 && "child trying to mmap parent inode");
        }

        ptrace(PTRACE_SYSCALL, pid, 0, 0);
        waitpid(pid, &status, __WALL | __WCLONE);
        ptrace(PTRACE_GETREGS, pid, NULL, &regs);
        /* syscall exit */
        printf("Child exiting a syscall %d\n", regs.orig_eax);
        ptrace(PTRACE_SYSCALL, pid, 0, 0);
    }

    if (fclose(logfile) != 0)
        assert(0 && "failed to close logfile");
}

return 0;
} 
```

a.out 程序是一个简单的 main() { return 0; } 程序。

如果您编译并运行此代码，您将看到子进程尝试 mmap()**父**fopen("log") 调用打开的文件。您将通过失败的断言看到这一点。

我进一步研究并发现这发生在加载子进程期间。

这很奇怪，原因有两个：

1.  孩子根本不应该知道 fopen() 调用，因为它发生在 fork() 之后
2.  为什么加载程序会尝试映射此文件？它甚至不是可执行文件。

我在 glibc 中查看了 dl-load.c ，但没有看到任何应该调用这种行为的东西。

有任何想法吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T02:56:22.657

这是一个错误的代码，问题在于我在父上下文下解释了子文件描述符。正确的做法是跟踪子 open() 调用并保留文件名到子 fd 的映射。

感谢 nneonneo 帮助我解决这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-06T06:50:50.803

你的代码有问题；您观察到的行为是程序误解跟踪数据的结果。

运行你的程序，我们可以*立即*在前五行看到一个问题：

```
Child entereing a syscall 11
Child exiting a syscall 11
Child entereing a syscall 11
Child exiting a syscall 45
Child entereing a syscall 45 
```

说什么？根据您的跟踪程序，系统调用 45在*进入*之前就*退出*了，这显然是对系统调用跟踪的误解。因此，从那时起，您的*所有*跟踪数据都是无效的，因为您实际上是在跟踪系统调用后的状态。因此，您得出孩子打开的结论也就不足为奇了（FWIW，您的程序在*我的*机器上的输出没有显示这种行为，但由于数据被误解，任何事情都可能发生）。**`log`**

 ***那么为什么 syscall 11 ( `execve`) 会出现 3 次呢？答案在`man 2 ptrace`：

> 此外，此进程的所有后续调用都`execve(2)`将导致向其发送 SIGTRAP，从而使父进程有机会在新程序开始执行之前获得控制权。如果它的父进程不希望跟踪它，那么它可能不应该发出这个请求。（pid、addr 和 data 被忽略。）

基本上，当您看到`execve`系统调用时，您必须在成功调用返回后执行额外的`ptrace`调用以恢复子进程（例如，请参阅[这个最小跟踪示例](http://www.win.tue.nl/~aeb/linux/lk/ptrace.c)是如何做到的）。一旦你这样做了，不正确的`mmap`调用就会消失。***

# iframe - 跨域 iframe 裁剪/div 隐藏？或者——替代方案？

> ID：12741037
> 
> 赞同：1
> 
> 时间：2012-10-05T06:51:53.680
> 
> 标签：iframe

这是我们的问题——我们不知所措。

在 ourdomain.com 上，这是一个 Wordpress 站点，我们需要在 colleaguedomain.com 嵌入部分页面。我们不想显示页眉和页脚（我们只想要正文）。我们的同事不能代表我们编辑他们的任何网站，因此存在跨域同源政策问题 - 但是，我们的同事已明确全权委托我们使用任何可能的解决方法，因此这是一个技术问题而不是道德问题！

**以下是我们目前正在做的事情：**

在ourdomain.com 上，我们在一个div 中有一个iframe，带有overflow:hidden。我们使用 -px 在顶部和左侧设置 iframe 的位置：绝对值。这让我们可以隐藏标题。但是我们也在为不显示页脚而苦苦挣扎。有什么方法可以隐藏页脚吗？

**我们不能只使用 iframe 的高度来隐藏页脚，**因为我们的 iframe 中我们真正要显示的页面部分是一个表单；当用户单击原始页面上的下一个按钮时，javascript 会显示表单的下一个字段。这种形式有三个“页面”（记住，都在 iframe 中。）最后一个“页面”比前两个长得多（高度）。因此，如果我们设置高度以容纳前两个“页面”，我们可以隐藏页眉和页脚......但是 iframe 中表单的最后一个“页面”的一部分将被隐藏。如果我们适应这一点，页脚将显示在前两页上。

帮助？我们可以在 iframe 中隐藏页脚的 div 吗？除了 iframe，我们还应该使用其他东西吗？

帮助我们，StackOverflow！你是我们唯一的希望！

（交叉发布到一些subreddits）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-08T00:01:23.540

您将需要 3 页：

*   容器页面是您想要的内容

*   剪裁/移动页面

*   包含内容的页面

在您的容器页面上放置一个 iFrame。该 iframe 指向剪辑页面。剪辑页面有一个内容页面的 AJAX 拉取（jQuery 有这些）。然后在您的剪辑页面上，必须在其 xy 轴上移动 div 并重新调整大小。这将涵盖您不想要的内容。

# security - 通过 Internet 的 IIS 7 安全 Windows 身份验证

> ID：12741040
> 
> 赞同：1
> 
> 时间：2012-10-05T06:52:07.330
> 
> 标签：security, authentication, iis

我想将我出色的新 ASP.Net 应用程序部署到面向 Internet 的 Web 服务器。我想在互联网上使用 Windows 身份验证，以便 IE 自动提示输入 Windows 登录凭据。我想确保它足够安全。

围绕此的一些参数是：

*   我不想在这个阶段实施 SSL。
*   我们只有一台服务器可以进行身份​​验证。我已经阅读了很多关于中间人攻击将身份验证信息重定向到第三方服务器的信息，但在我的情况下，只有一台服务器 - 他们正在登录的那台服务器。
*   我一直在阅读有关 IIS Windows 身份验证扩展保护的信息，但我仍然不确定它的好处

所以基本上如果我启用 IIS Windows 身份验证扩展保护，并且我可以确定没有人被钓鱼，我可以确定这将是安全的吗？

我们的服务器经常遭受攻击——我认为早期的一些错误已经将它列入了“容易攻击的目标”列表。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:04:51.037

基本上，没有。WindowsAuthentication(blargh)**仅适用于身份验证阶段**。也就是说，它取代了您网站的 HTTP-Basic-Auth，并负责检查用户所谓的登录密码是否有效且可接受。当然，这与密码无关。这只是简单的例子。

这么久了，这部分可能会被认为是安全的。但是，用户完成登录部分后，他被弹回到目标网页，网页现在知道他的身份，并且由于Windows-blargh，网站知道它没有被欺骗，但**现在用户只是使用该页面**。

他是怎么做到的？由于您“在这个阶段没有实施 SSL”，**他使用纯 HTTP**来浏览该站点。这意味着现在所有内容都以明文形式发送，并且很容易窥视或注入/修改某些内容。只要您只使用 HTTP，您就会对某些形式的攻击“开放”，因为 HTTP 不提供**任何**形式的通信保护。这就是为什么大多数需要一些安全性的站点都可以通过**HTTPS（即 SSL** ）访问的原因。

SSL 实现起来并不难。对于最基本的用途，您只需在 IIS 配置中勾选几个复选框，有时您还需要生成自己的证书。免费。最多需要大约 5 分钟，您就可以启动并运行 SSL，并且没有人偷看也没有人注入。[当然，除非他们打破钥匙，但这需要时间和决心..]

注意：我说的是WindowsAuthentication-blargh，因为ExtendedProtection这件事只与实际使用页面之前的WindowsAuthentication过程有关。“旧”WindowsAuthentication 相对不安全，因此已通过额外的安全手段对其进行修复，以阻止某些形式的攻击。您可能会假设使用 WA+EP 现在其他人不太可能以您的身份登录。但是，它不会保护您的页面内容。WA 从来没有这样做过，所以 WA+EP 也没有。

这就是主题的基础。但是请注意，我不是 Windows-Authentication-blargh 方面的专家。如果启用该功能实际上会打开一些秘密 IIS 模块，该模块会在网站标头中发送一些 PGP 哈希，从而导致 InternetExplorer 打开读取这些哈希并开始验证网页内容的其他秘密模块 - 好吧，太棒了，我们在纯 HTTP 中有一些保护。无论如何，它只能在 IE 上工作。但我很怀疑。我几乎可以肯定 Win-Auth 只是关于**身份验证**阶段，而不是关于连接安全性。

# c - 没有从 fgets() 函数获得预期的输出

> ID：12741045
> 
> 赞同：3
> 
> 时间：2012-10-05T06:52:24.973
> 
> 标签：c, blocking, fgets

这里简单的代码我没有得到预期的输出。

```
#include<stdio.h>

int main()
{
   char buf[1024];
   while(1)
   {
      fgets(buf,strlen(buf),stdin);
      printf("%s",buf);
      printf("hello");
   }
} 
```

在上面的代码中，我希望我从键盘输入的任何字符串都打印给我，然后你好。我知道 fgets() 是一个阻塞函数，直到我从键盘输入一个字符串并按 ENTER 它将阻塞程序直到那个时候。所以当我运行它时，我期望它如下

```
$ ./a.out
I input some text here <ENTER>
I input some text here 
hello 
```

但实际上我得到的输出是终端上打印的“你好”的无限循环。为什么我的 fgets() 没有阻止程序？任何的想法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T06:55:29.630

问题是`strlen(buf)`返回 0，因为 buf[0] 恰好是 0（不能保证）。您应该`sizeof(buf)`改用：

```
fgets(buf,sizeof(buf),stdin); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T06:54:56.650

将调用更改`fgets()`为：

```
fgets(buf,sizeof(buf),stdin)
//        ^^^^^^ 
```

调用`strlen()`未初始化的`buf`将返回谁知道是什么。有机会`strlen()`返回`0`，在这种情况下`fgets()`将立即返回。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-05T06:56:21.713

那是因为`strlen`你的缓冲区可能为零。您应该`sizeof`改用它，它为您提供数组的大小（1024），而不是它包含的字符串的长度（此处不确定）。

在您的特定情况下，它可能*是*一个大小为零的字符串 ( `*buf == '\0'`)，因为`fgets`调用根本没有阻塞。实际上，它的长度也可以为 1，因为标准规定：

> fgets 函数从 stream 指向的流中最多读取比 n 指定的字符数少 1 的字符到 s 指向的数组中。在换行符（保留）之后或文件结尾之后不会读取其他字符。在读入数组的最后一个字符之后立即写入一个空字符。

实际上，作为尚未初始化的局部变量，`buf`可能包含*任何内容*，因此您不明智地依赖它（如果它根本不包含空终止符，您甚至可能会发现自己在`strlen`运行时转储核心结束）。

如果您想要一个久经考验的真实输入功能，请参见[此处](https://stackoverflow.com/questions/4023895/how-to-read-string-entered-by-user-in-c/4023921#4023921)。它具有缓冲区溢出保护，提示，在末尾删除换行符，并在它太长的情况下清除剩余的行。我将复制下面的代码以使这个答案更加独立。

```
#include <stdio.h>
#include <string.h>

#define OK       0
#define NO_INPUT 1
#define TOO_LONG 2
static int getLine (char *prmpt, char *buff, size_t sz) {
    int ch, extra;

    // Get line with buffer overrun protection.
    if (prmpt != NULL) {
        printf ("%s", prmpt);
        fflush (stdout);
    }
    if (fgets (buff, sz, stdin) == NULL)
        return NO_INPUT;

    // If it was too long, there'll be no newline. In that case, we flush
    // to end of line so that excess doesn't affect the next call.
    if (buff[strlen(buff)-1] != '\n') {
        extra = 0;
        while (((ch = getchar()) != '\n') && (ch != EOF))
            extra = 1;
        return (extra == 1) ? TOO_LONG : OK;
    }

    // Otherwise remove newline and give string back to caller.
    buff[strlen(buff)-1] = '\0';
    return OK;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:02:02.253

您应该像这样使用 sizeof(buf) 而不是 strlen(buf) ：

```
 fgets(buf,sizeof(buf),stdin); 
```

或直接：

```
 fgets(buf,1024,stdin); 
```

# autohotkey - 为特定程序定义多个快捷方式

> ID：12741049
> 
> 赞同：0
> 
> 时间：2012-10-05T06:52:42.057
> 
> 标签：autohotkey

如何使用以下代码更简洁地为特定程序定义多个快捷方式？

```
#IfWinActive ahk_class AcrobatSDIWindow
0::Send !vp  ^0 
#IfWinActive ahk_class AcrobatSDIWindow
1::Send ^1 
#IfWinActive ahk_class AcrobatSDIWindow
2::Send !vpc ^2 
```

如何定义一些类似程序（例如PDF阅读器软件）之间的通用快捷方式

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T08:56:10.750

@雷扎，

要组合多个应用程序，请使用 GroupAdd。将 GroupAdd 与 SetTitleMatchMode 放在顶部，在任何 Return 命令之前。

```
GroupAdd, IfWinGroup , Acrobat
GroupAdd, IfWinGroup , Evernote ; Not that the following shortcuts make any sense in Evernote, but it shows how to create groups of shortcuts that are used in more that one application.
SetTitleMatchMode, 2

#ifWinActive, ahk_group IfWinGroup
    0::Send !vp  ^0
    1::Send ^1
    2::Send !vpc ^2
#ifWinActive 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:52:22.870

@雷扎，

这是你想要的？这将为 Evernote 和 Chrome 设置快捷方式。

```
SetTitleMatchMode, 2

#ifWinActive, Evernote
+Numpaddiv::Send, / ; Shift NumPadDiv is now the standard /
+NumpadMult::Send, *
+Numpadsub::Send, -
+NumpadAdd::Send, +=
^Numpaddiv::Send, (
^NumpadMult::Send, )
Numpaddiv::Send, {Space}/{Space} ; NumPadDiv will send space/space
NumpadMult::Send, {Space}*{Space}
Numpadsub::Send, {Space}-{Space}
NumpadAdd::Send, {Space}+={Space}
NumPadDot::Send, `,
#ifWinActive

#ifWinActive, Chrome
NumpadIns::Send, {Click}
+NumpadPgdn::Send, {PgUp} ; Shift + PageDown = PageUp
+NumpadDown::Send, {Up} ; Shift + Down = Up
NumpadRight::Send, ^{PgDn} ; Right arrow = activate next Tab
NumpadLeft::Send, ^{PgUp} ; Left arrow = activate previous tab
+NumpadClear:: ; NumPad 5 = Park mouse right hand top of screen
NumpadClear::MouseMove,(1340),(100) ; NumPad 5 = Park mouse right hand top of screen
+NumPadSub::Send, ^{F4} ; NumPad Minus = Close tab
NumPadDel::Send, . ; NumPad Del = dot to delete mail in gmail
SC16D::Send, +j ; Jump ONE G+ Story down with Music Media Button
+SC16D::Send, +k ; Jump ONE G+ Story up with Play/Pause button
#ifWinActive 
```

# json - 如何从 MVC 控制器操作方法调用 WebApi 方法？

> ID：12741052
> 
> 赞同：23
> 
> 时间：2012-10-05T06:52:58.827
> 
> 标签：json, asp.net-mvc-4, asp.net-web-api, json.net

如何从 MVC 控制器操作方法调用 Web API 方法？

这就是我正在尝试的，这是我的控制器方法：

```
public ActionResult ProductDetail(long id)
{
    using (var client = new HttpClient())
    {
        var productDetailUrl = Url.RouteUrl(
            "DefaultApi",
            new { httproute = "", controller = "ProductDetails", id = id },
            Request.Url.Scheme
        );
        var model = client
                    .GetAsync(productDetailUrl)
                    .Result
                    .Content.ReadAsAsync<ProductItems>().Result;

        return View(model);
    }
} 
```

我的 Web API 方法：

```
private ProductEntities products = new ProductEntities();

public IEnumerable<ProductItems> GetProductDetail(int ID)
{            
   var produc = products.ExecuteStoreQuery<ProductItems>(
                    "GetProductDetail @ProductID ", 
                    new SqlParameter("@ProductID", ID)); 

   return produc;
} 
```

当我这样做时`var model`，我在返回数据后在我的 MVC 操作方法中收到一个错误@，说：

> " `Newtonsoft.Json.JsonSerializationException`: 无法将 JSON 数组 "(ie `[1,2,3]`) 反序列化为类型 ' `ProductDetails.Models.ProductItems`'。反序列化的类型必须是数组或实现集合接口，如`IEnumerable`,`ICollection`或`IList`。要强制 JSON 数组反序列化`JsonArrayAttribute`，请在类型中添加 。第 1 行，位置 1。”

任何人都可以帮我这样做，建议另一种更好的方法，或者如果我在任何地方做错了，可以纠正我吗？我必须在我的视图中显示返回的数据，数据应该返回到我的控制器。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-05T08:02:12.200

正如异常状态“无法**反序列**化 JSON 数组 ...”，您在接收方遇到问题，例如反序列化不在您的 Web api 方法中与序列化。

您的问题是您尝试反序列化为错误的类型，因为您的 web api 方法如下所示：

```
public IEnumerable<ProductItems> GetProductDetail(int ID) 
```

所以它返回`IEnumerable<ProductItems>`（例如一个数组`ProductItems`）但是在你的控制器动作中你尝试将响应反序列化为**一个** `ProductItems`调用`ReadAsAsync<ProductItems>()`

因此，将您`ReadAsAsync`的反序列化更改为数组`ProductItems`，它应该可以工作：

```
var model = client
               .GetAsync(productDetailUrl)
               .Result
               .Content.ReadAsAsync<ProductItems[]>().Result; 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-05T07:02:46.310

当您的 ASP.NET 网站与 Web API 控制器一起托管时，您可以将 Web API 作为普通类方法调用，以避免与 HTTP 请求相关的任何延迟。

问题不在于 Web API 调用。问题在于来自 ExecuteStoreQuery 的结果反序列化，请确保其中有可序列化的集合。为了确保这一点，您可以简单地尝试在返回之前将此方法结果转换为列表，并从 web api 方法可序列化列表返回，然后本地化问题。

UPD：所以，问题的根源在于[ExecuteStoreQuery](http://msdn.microsoft.com/en-us/library/dd487208.aspx)方法返回的内容。它返回[ObjectResult](http://msdn.microsoft.com/en-us/library/bb739113.aspx)。它实际上实现了 IEnumerable，但它是从 EF 返回的，并且在某些情况下，例如对象之间存在循环依赖关系，这是 Json 反序列化程序无法解决的。

要解决问题，只需将 ObjectResult 显式转换为例如 List：

```
public IEnumerable<ProductItems> GetProductDetail(int ID)
{            
    var products = products.ExecuteStoreQuery<ProductItems>(
              "GetProductDetail @ProductID ",     
              new SqlParameter("@ProductID", ID)); 
    return products.ToList<ProductItems>();
} 
```

当问题实际上是来自 EF 的对象集合中的循环依赖关系时，您可以在 Json.NET 中将其关闭

并检查您的客户端反序列化：

```
var model = client.GetAsync(productDetailUrl).Result
                .Content.ReadAsAsync<List<ProductItems>>().Result; 
```

但是当你在一个项目中托管你的 ASP.NET MVC 站点和 ASP.NET Web API 时，你不需要所有这些带有 HTTP 请求和序列化/反序列化的东西，只需将你的方法调用为普通的类方法。

# html - 为什么 Jquery 移动表不能与不同的手机一起使用？

> ID：12741058
> 
> 赞同：0
> 
> 时间：2012-10-05T06:53:25.237
> 
> 标签：html, layout, mobile, jquery-mobile

我想首先使用 JQuery 移动表创建一个 5 列的表。这是我的代码：

```
<table>
  <thead>
    <tr>
      <th scope="col">検査項目</th>
      <th scope="col">半日ドック&lt;/th>
      <th scope="col">1泊ドック</th>
      <th scope="col">2泊ドック</th>
      <th scope="col">検診内容</th>
    </tr> 
  </thead>

  <tbody> 
    <tr>
      <th>診察</th>
      <td>○&lt;/td>
      <td>○&lt;/td>
      <td>○&lt;/td>
      <td>問診・聴打診</td>
    </tr>
  </tbody>
</table> 
```

我的CSS是：

```
table {
  width:100%;
  font-size:9px;
  background:#FAFBF5;
}

th {
  text-align:center;
  background:#C2E195;
  font-size:9px;
  border:1px solid;
}

td {
  text-align:center;
  background:#FFFFFF;
  border:1px solid;
} 
```

一个问题是，它在索尼爱立信和其他公司中运行良好，但在 iPhone 上却无法运行。然后我尝试了以下代码：

```
<div class="ui-grid-d">
  <div class="ui-block-a">
    <div class="ui-bar-d" style="background:#C2E195; font-size:8px; color:#000000; text-align:center; height:50px">検査項目</div>
  </div>
  <div class="ui-block-b">
    <div class="ui-bar-d" style="background:#ffffff; font-size:8px; color:#000000; text-align:center; height:50px">半日ドック&lt;/div>
  </div>
  <div class="ui-block-c">
    <div class="ui-bar-d" style="background:#ffffff; font-size:8px; color:#000000; text-align:center; height:50px">1泊ドック</div>
  </div>
  <div class="ui-block-d">
    <div class="ui-bar-d" style="background:#ffffff; font-size:8px; color:#000000; text-align:center; height:50px">2泊ドック</div>
  </div>
  <div class="ui-block-e">
    <div class="ui-bar-d" style="background:#ffffff; font-size:8px; color:#000000; text-align:center; height:50px">検診内容</div>
  </div> 
```

问题是，它在 iPhone 上运行良好，但在索尼爱立信上却*不行。*

我怎样才能在这两个平台上进行这项工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-07T09:59:58.900

JQM 还没有表格小部件。同时，您可以使用我的小部件表格视图（[示例](http://www.franckreich.de/jqm/tableview/demo.html)/ [Github](https://github.com/frequent/tableview)）。

这为您提供了具有一些响应功能的基本 JQM 表布局。除了 iOS、Android 2.3 和桌面，还没有真正测试过它。效果很好，所以试试看。

# linux - Ubuntu 12.04.1下搭建cross-gcc 4.7.2

> ID：12741060
> 
> 赞同：3
> 
> 时间：2012-10-05T06:53:28.290
> 
> 标签：linux, gcc, cross-compiling

我试图构建 gcc。有了这个论点：

```
AR=ar LDFLAGS="-Wl,-rpath,${CLFS}/cross-tools/lib" \
  ../gcc-4.7.2/configure --prefix=${CLFS}/cross-tools \
  --build=${CLFS_HOST} --host=${CLFS_HOST} --target=${CLFS_TARGET} \
  --with-sysroot=${CLFS} --disable-nls  --disable-shared \
  --with-mpfr=${CLFS}/cross-tools --with-gmp=${CLFS}/cross-tools \
  --with-mpc=${CLFS}/cross-tools --without-headers --with-newlib \
  --disable-decimal-float --disable-libgomp --disable-libmudflap \
  --disable-libssp --disable-threads --enable-languages=c \
  --disable-multilib --with-abi=${CLFS_ABI} --with-arch=${CLFS_ARM_ARCH} \
  --with-mode=${CLFS_ARM_MODE} --with-float=${CLFS_FLOAT} \
  --with-fpu=${CLFS_FPU} 
```

这是我的 .bashrc：

```
export CLFS_ABI="aapcs-linux"
export CLFS_HOST="i686-cross-linux-gnu"
export CLFS_TARGET="arm-unknown-linux-uclibceabi"
export CLFS_ARCH="arm"
export CLFS_ENDIAN="little"
export CLFS_ARM_ARCH="armv7"
export CLFS_ARM_MODE="arm"
export CLFS_FLOAT="hard"
export CLFS_FPU="neon" 
```

它总是失败并显示以下消息：

```
checking for arm-unknown-linux-uclibceabi-gcc...  /mnt/clfs/sources/gcc-build/./gcc/xgcc -B/mnt/clfs/sources/gcc-build/./gcc/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/lib/ -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/include -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/sys-include   
checking for suffix of object files... configure: error: in `/mnt/clfs/sources/gcc-build/arm-unknown-linux-uclibceabi/libgcc':
configure: error: cannot compute suffix of object files: cannot compile
See `config.log' for more details.
make: *** [configure-target-libgcc] Error 1 
```

的内容`/mnt/clfs/sources/gcc-build/arm-unknown-linux-uclibceabi/libgcc`是：

```
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by GNU C Runtime Library configure 1.0, which was
generated by GNU Autoconf 2.64\.  Invocation command line was

  $ /mnt/clfs/sources/gcc-4.7.2/libgcc/configure --cache-file=./config.cache --with-cross-host=i686-cross-linux-gnu --prefix=/mnt/clfs/cross-tools --with-sysroot=/mnt/clfs --disable-nls --disable-shared --without-headers --with-newlib --disable-decimal-float --disable-libgomp --disable-libmudflap --disable-libssp --disable-threads --disable-multilib --with-abi=aapcs-linux --with-arch=armv7 --with-mode=arm --with-float=hard --with-fpu=neon --enable-languages=c,lto --program-transform-name=s&^&arm-unknown-linux-uclibceabi-& --disable-option-checking --with-target-subdir=arm-unknown-linux-uclibceabi --build=i686-cross-linux-gnu --host=arm-unknown-linux-uclibceabi --target=arm-unknown-linux-uclibceabi --srcdir=../../../gcc-4.7.2/libgcc

## --------- ##
## Platform. ##
## --------- ##

hostname = beagleboardlinux
uname -m = i686
uname -r = 3.2.0-31-generic-pae
uname -s = Linux
uname -v = #50-Ubuntu SMP Fri Sep 7 16:39:45 UTC 2012

/usr/bin/uname -p = unknown
/bin/uname -X     = unknown

/bin/arch              = unknown
/usr/bin/arch -k       = unknown
/usr/convex/getsysinfo = unknown
/usr/bin/hostinfo      = unknown
/bin/machine           = unknown
/usr/bin/oslevel       = unknown
/bin/universe          = unknown

PATH: /mnt/clfs/cross-tools/bin
PATH: /bin
PATH: /usr/bin

## ----------- ##
## Core tests. ##
## ----------- ##

configure:1976: creating cache ./config.cache
configure:2144: checking build system type
configure:2158: result: i686-cross-linux-gnu
configure:2178: checking host system type
configure:2191: result: arm-unknown-linux-uclibceabi
configure:2289: checking for --enable-version-specific-runtime-libs
configure:2302: result: no
configure:2350: checking for a BSD-compatible install
configure:2418: result: /usr/bin/install -c
configure:2434: checking for gawk
configure:2461: result: gawk
configure:2561: checking for arm-unknown-linux-uclibceabi-ar
configure:2588: result: /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ar
configure:2653: checking for arm-unknown-linux-uclibceabi-lipo
configure:2680: result: arm-unknown-linux-uclibceabi-lipo
configure:2745: checking for arm-unknown-linux-uclibceabi-nm
configure:2772: result: /mnt/clfs/sources/gcc-build/./gcc/nm
configure:2837: checking for arm-unknown-linux-uclibceabi-ranlib
configure:2864: result: /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ranlib
configure:2929: checking for arm-unknown-linux-uclibceabi-strip
configure:2956: result: /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/strip
configure:3018: checking whether ln -s works
configure:3022: result: yes
configure:3039: checking for arm-unknown-linux-uclibceabi-gcc
configure:3066: result:  /mnt/clfs/sources/gcc-build/./gcc/xgcc -B/mnt/clfs/sources/gcc-build/./gcc/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/lib/ -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/include -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/sys-include   
configure:3335: checking for C compiler version
configure:3344:  /mnt/clfs/sources/gcc-build/./gcc/xgcc -B/mnt/clfs/sources/gcc-build/./gcc/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/lib/ -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/include -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/sys-include    --version >&5
xgcc (GCC) 4.7.2
Copyright (C) 2012 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:3355: $? = 0
configure:3344:  /mnt/clfs/sources/gcc-build/./gcc/xgcc -B/mnt/clfs/sources/gcc-build/./gcc/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/lib/ -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/include -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/sys-include    -v >&5
Reading specs from /mnt/clfs/sources/gcc-build/./gcc/specs
COLLECT_GCC=/mnt/clfs/sources/gcc-build/./gcc/xgcc
COLLECT_LTO_WRAPPER=/mnt/clfs/sources/gcc-build/./gcc/lto-wrapper
Target: arm-unknown-linux-uclibceabi
Configured with: ../gcc-4.7.2/configure --prefix=/mnt/clfs/cross-tools --build=i686-cross-linux-gnu --host=i686-cross-linux-gnu --target=arm-unknown-linux-uclibceabi --with-sysroot=/mnt/clfs --disable-nls --disable-shared --with-mpfr=/mnt/clfs/cross-tools --with-gmp=/mnt/clfs/cross-tools --with-mpc=/mnt/clfs/cross-tools --without-headers --with-newlib --disable-decimal-float --disable-libgomp --disable-libmudflap --disable-libssp --disable-threads --enable-languages=c --disable-multilib --with-abi=aapcs-linux --with-arch=armv7 --with-mode=arm --with-float=hard --with-fpu=neon
Thread model: single
gcc version 4.7.2 (GCC) 
configure:3355: $? = 0
configure:3344:  /mnt/clfs/sources/gcc-build/./gcc/xgcc -B/mnt/clfs/sources/gcc-build/./gcc/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/lib/ -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/include -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/sys-include    -V >&5
xgcc: error: unrecognized command line option '-V'
xgcc: fatal error: no input files
compilation terminated.
configure:3355: $? = 1
configure:3344:  /mnt/clfs/sources/gcc-build/./gcc/xgcc -B/mnt/clfs/sources/gcc-build/./gcc/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/lib/ -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/include -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/sys-include    -qversion >&5
xgcc: error: unrecognized command line option '-qversion'
xgcc: fatal error: no input files
compilation terminated.
configure:3355: $? = 1
configure:3371:  /mnt/clfs/sources/gcc-build/./gcc/xgcc -B/mnt/clfs/sources/gcc-build/./gcc/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/lib/ -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/include -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/sys-include    -o conftest -g -O2   conftest.c  >&5
conftest.c:1:0: error: target CPU does not support ARM mode
configure:3374: $? = 1
configure:3562: checking for suffix of object files
configure:3584:  /mnt/clfs/sources/gcc-build/./gcc/xgcc -B/mnt/clfs/sources/gcc-build/./gcc/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/lib/ -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/include -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/sys-include    -c -g -O2  conftest.c >&5
conftest.c:1:0: error: target CPU does not support ARM mode
configure:3588: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "GNU C Runtime Library"
| #define PACKAGE_TARNAME "libgcc"
| #define PACKAGE_VERSION "1.0"
| #define PACKAGE_STRING "GNU C Runtime Library 1.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL "http://www.gnu.org/software/libgcc/"
| /* end confdefs.h.  */
| 
| int
| main ()
| {
| 
|   ;
|   return 0;
| }
configure:3602: error: in `/mnt/clfs/sources/gcc-build/arm-unknown-linux-uclibceabi/libgcc':
configure:3605: error: cannot compute suffix of object files: cannot compile
See `config.log' for more details.

## ---------------- ##
## Cache variables. ##
## ---------------- ##

ac_cv_build=i686-cross-linux-gnu
ac_cv_env_CC_set=set
ac_cv_env_CC_value=' /mnt/clfs/sources/gcc-build/./gcc/xgcc -B/mnt/clfs/sources/gcc-build/./gcc/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/lib/ -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/include -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/sys-include   '
ac_cv_env_CFLAGS_set=set
ac_cv_env_CFLAGS_value='-g -O2'
ac_cv_env_CPPFLAGS_set=set
ac_cv_env_CPPFLAGS_value=
ac_cv_env_CPP_set=
ac_cv_env_CPP_value=
ac_cv_env_LDFLAGS_set=set
ac_cv_env_LDFLAGS_value=
ac_cv_env_LIBS_set=
ac_cv_env_LIBS_value=
ac_cv_env_build_alias_set=set
ac_cv_env_build_alias_value=i686-cross-linux-gnu
ac_cv_env_host_alias_set=set
ac_cv_env_host_alias_value=arm-unknown-linux-uclibceabi
ac_cv_env_target_alias_set=set
ac_cv_env_target_alias_value=arm-unknown-linux-uclibceabi
ac_cv_host=arm-unknown-linux-uclibceabi
ac_cv_path_install='/usr/bin/install -c'
ac_cv_prog_AR=/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ar
ac_cv_prog_AWK=gawk
ac_cv_prog_CC=' /mnt/clfs/sources/gcc-build/./gcc/xgcc -B/mnt/clfs/sources/gcc-build/./gcc/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/lib/ -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/include -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/sys-include   '
ac_cv_prog_LIPO=arm-unknown-linux-uclibceabi-lipo
ac_cv_prog_NM=/mnt/clfs/sources/gcc-build/./gcc/nm
ac_cv_prog_RANLIB=/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ranlib
ac_cv_prog_STRIP=/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/strip

## ----------------- ##
## Output variables. ##
## ----------------- ##

AR='/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ar'
AWK='gawk'
CC=' /mnt/clfs/sources/gcc-build/./gcc/xgcc -B/mnt/clfs/sources/gcc-build/./gcc/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ -B/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/lib/ -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/include -isystem /mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/sys-include   '
CFLAGS='-g -O2'
CPP=''
CPPFLAGS=''
DEFS=''
ECHO_C=''
ECHO_N='-n'
ECHO_T=''
EXEEXT=''
INSTALL_DATA='${INSTALL} -m 644'
INSTALL_PROGRAM='${INSTALL}'
INSTALL_SCRIPT='${INSTALL}'
LDFLAGS=''
LIBOBJS=''
LIBS=''
LIPO='arm-unknown-linux-uclibceabi-lipo'
LN_S='ln -s'
LTLIBOBJS=''
MAINT='#'
NM='/mnt/clfs/sources/gcc-build/./gcc/nm'
OBJEXT=''
PACKAGE_BUGREPORT=''
PACKAGE_NAME='GNU C Runtime Library'
PACKAGE_STRING='GNU C Runtime Library 1.0'
PACKAGE_TARNAME='libgcc'
PACKAGE_URL='http://www.gnu.org/software/libgcc/'
PACKAGE_VERSION='1.0'
PATH_SEPARATOR=':'
PICFLAG='-fPIC'
RANLIB='/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/ranlib'
SHELL='/bin/bash'
STRIP='/mnt/clfs/cross-tools/arm-unknown-linux-uclibceabi/bin/strip'
ac_ct_CC=''
asm_hidden_op=''
bindir='${exec_prefix}/bin'
build='i686-cross-linux-gnu'
build_alias='i686-cross-linux-gnu'
build_cpu='i686'
build_libsubdir='build-i686-cross-linux-gnu'
build_os='linux-gnu'
build_subdir='build-i686-cross-linux-gnu'
build_vendor='cross'
cpu_type=''
datadir='${datarootdir}'
datarootdir='${prefix}/share'
decimal_float=''
docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
double_type_size=''
dvidir='${docdir}'
enable_decimal_float='no'
enable_shared='no'
exec_prefix='NONE'
extra_parts=''
fixed_point=''
host='arm-unknown-linux-uclibceabi'
host_alias='arm-unknown-linux-uclibceabi'
host_cpu='arm'
host_noncanonical='arm-unknown-linux-uclibceabi'
host_os='linux-uclibceabi'
host_subdir='.'
host_vendor='unknown'
htmldir='${docdir}'
includedir='${prefix}/include'
infodir='${datarootdir}/info'
libdir='${exec_prefix}/lib'
libexecdir='${exec_prefix}/libexec'
libgcc_topdir='../../../gcc-4.7.2/libgcc/..'
localedir='${datarootdir}/locale'
localstatedir='${prefix}/var'
long_double_type_size=''
mandir='${datarootdir}/man'
oldincludedir='/usr/include'
pdfdir='${docdir}'
prefix='/mnt/clfs/cross-tools'
program_transform_name='s&^&arm-unknown-linux-uclibceabi-&'
psdir='${docdir}'
sbindir='${exec_prefix}/sbin'
set_have_cc_tls=''
set_use_emutls=''
sfp_machine_header=''
sharedstatedir='${prefix}/com'
slibdir='$(exec_prefix)/$(host_noncanonical)/lib'
sysconfdir='${prefix}/etc'
target_alias='arm-unknown-linux-uclibceabi'
target_noncanonical='arm-unknown-linux-uclibceabi'
target_subdir='arm-unknown-linux-uclibceabi'
tm_defines=''
tm_file=''
tmake_file=''
toolexecdir='$(exec_prefix)/$(target_noncanonical)'
toolexeclibdir='$(toolexecdir)/lib'
vis_hide=''

## ----------- ##
## confdefs.h. ##
## ----------- ##

/* confdefs.h */
#define PACKAGE_NAME "GNU C Runtime Library"
#define PACKAGE_TARNAME "libgcc"
#define PACKAGE_VERSION "1.0"
#define PACKAGE_STRING "GNU C Runtime Library 1.0"
#define PACKAGE_BUGREPORT ""
#define PACKAGE_URL "http://www.gnu.org/software/libgcc/"

configure: exit 1 
```

你有什么主意吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T09:27:52.793

常见问题解答中对此进行了回答，请参阅[http://gcc.gnu.org/wiki/FAQ#configure_suffix](http://gcc.gnu.org/wiki/FAQ#configure_suffix) - 答案几乎可以肯定是您没有设置`LD_LIBRARY_PATH=${CLFS}/cross-tools`

修复**不是**设置它，而是按照[http://gcc.gnu.org/wiki/InstallingGCC](http://gcc.gnu.org/wiki/InstallingGCC)关于安装 GMP、MPFR 和 MPC 的说明进行操作：从 Ubuntu 包管理器（例如 Synaptic 或其他任何东西）安装它们) 或使用`download_prerequisites`脚本。**不要**安装它们，`${CLFS}/cross-tools`否则你会遇到困难。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:35:43.303

在[这个网站上](http://www.mentor.com/embedded-software/sourcery-tools/sourcery-codebench/platforms/arm-gnulinux)，他们说我需要这个配置：`ARMv7-A Thumb-2 - Little-Endian, Soft-Float, GLIBC`对于我的 BeagleBoard-xM.. 因为它有一个 ARM Cortex-A8

# php - 避免插入mysql的空数据

> ID：12741061
> 
> 赞同：0
> 
> 时间：2012-10-05T06:53:28.827
> 
> 标签：php, sql

我的表单中有四个文本字段，我需要将它们插入到我的数据库中，但是这四个字段是可选的，要么它们应该全部填写，要么只是其中的一部分，我的问题是，如果用户只填写这两个字段字段并将其他两个留空，则应将填充的数据插入mysql，不应插入其他空白字段。

这就是我所拥有的。

```
Artist:<input type="text" name="artist" />

Artist:<input type="text" name="artist1" />

Artist:<input type="text" name="artist2" />

Artist:<input type="text" name="artist3" /> 
```

//我的php代码

```
$sql="INSERT INTO artists (name) VALUES ('$artist'),('$artist1'),('$artist2'),('$artist3')";
mysql_query($sql); 
```

但是每当我运行此查询时，它都会插入所有四个字段。请提供任何帮助。在四个艺术家领域中使用艺术家，艺术家1，艺术家2，艺术家3是否相关，或者我可以只使用艺术家[]作为我拥有的所有四个艺术家领域的名称部分？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:00:12.390

您可以将输入字段配置为返回一个数组，迭代该数组并动态创建查询。

```
$values = array();
foreach($artists AS $artist) {
    if(!empty($artist)) {
        $values[] = "('".mysqli_real_escape_string($artist)."')";
    }
}
if(count($values) > 0) {
    $sql = 'INSERT INTO artists (name) VALUES ' . implode(',', $values);
} 
```

应该管用。但请注意，这些`mysql_*`函数已被弃用，我们鼓励您使用 the`mysqli_*`或`PDO`函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:02:55.010

将您的输入重命名为`name="artist[]"`. 不是绝对必要的，但更容易。

```
Artist:<input type="text" name="artist[]" />
Artist:<input type="text" name="artist[]" />
Artist:<input type="text" name="artist[]" />
Artist:<input type="text" name="artist[]" /> 
```

然后处理它们并根据需要构建您的查询：

```
$rawArtists = (isset($_POST['artist']) && is_array($_POST['artist'])) ? $_POST['artist'] : array();

$artists = array();

foreach ($rawArtists as $artist) {
    if (is_string($artist) && strlen($artist)) {
        $artists[] = $artist;
    }
}

if (count($artists)) {

    //This could easily be a loop...  
    //I just enjoy abusing lambdas from time to time :)
    $artistVals = array_map(function ($art) {
        return "('" . mysql_real_escape_string($art) . "')";
    }, $artists);

    $vals = implode(',', $artistVals);

    $query = "INSERT INTO artists (name) VALUES $vals";

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:03:10.213

这不是一个好的理念。您可以为其创建一个包含两列的表。你的桌子可以像

```
Create table Table_name(
Uid int(5) Auto_increment,
artistName varchar(20) NOT NULL
) 
```

主键（UID）

现在，您可以将查询用作：

```
<?php    
foreach($_GET as $name)
    mysql_query(insert into Table_Name(ArtistName) values('$name'));
?> 
```

将列声明为 NOT NULL 将不允许插入 NULL 值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:10:36.333

使您的输入字段与数组具有相同的名称：

```
Artist:<input type="text" name="artist[]" />
Artist:<input type="text" name="artist[]" />
Artist:<input type="text" name="artist[]" />
Artist:<input type="text" name="artist[]" /> 
```

循环你的艺术家

```
foreach($_POST['artist'] as $artist){
    //insert to db if not null
    if(trim($artist) != null){
        $sql="INSERT INTO artists (name) VALUES ('$artist')";
        mysql_query($sql);
    }
} 
```

# iphone - 检测用户是否在 iPhone 的 pdf 查看器中点击 url

> ID：12741070
> 
> 赞同：1
> 
> 时间：2012-10-05T06:54:15.083
> 
> 标签：iphone, url, detect, pdf-viewer

我在我的应用程序中使用 vfrReader 作为 pdf 查看器来显示一些 pdf 文档，问题是这些文档中有一些 url 或电子邮件链接，我希望允许用户点击 url 打开网络浏览器或电子邮件链接打开电子邮件像 UIWebView 中的作曲家。

有谁知道如何做到这一点，请帮助我，在此先感谢。

# c# - 是否可以使用 openxmlsdk 2.0 在 C# 中以编程方式将 doc 文件转换为 docx？

> ID：12741072
> 
> 赞同：2
> 
> 时间：2012-10-05T06:54:23.507
> 
> 标签：c#, c#-4.0, ms-word, openxml-sdk

我必须使用 openxmlsdk 2.0 在 C#(4.0) 中以编程方式将 .doc 文件转换为 .docx 文件。

您能否向我建议一些通过使用 openxmlsdk 或不使用 openxmlsdk 接口来执行此操作的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T09:57:07.780

您可以在此处参考他们为您的问题提供解决方案的**[链接。](https://stackoverflow.com/questions/1803576/convert-word-doc-file-to-docx-on-a-server-without-word)**

**[Aspose.Words](http://www.aspose.com/.net/word-component.aspx)** for .NET

Aspose.Words for .NET 是用于 .NET 的高级组件和类库，使您能够直接在 .NET 应用程序中执行广泛的文档处理任务。

Aspose.Words for .NET 支持 DOC、OOXML、RTF、HTML、OpenDocument、PDF、XPS、EPUB 等格式。使用 Aspose.Words，您可以在不使用 Microsoft Word 的情况下查看、生成、修改、转换、渲染和打印文档。

# click - 不要单击 tableviewrow 钛中的项目

> ID：12741074
> 
> 赞同：-3
> 
> 时间：2012-10-05T06:54:35.263
> 
> 标签：click, titanium, tableview

我创建了一个 tableview 并且 tableviewrows 是自定义的。在项目行中，有文本和图像..如果我单击文本或图像，将获得 tableview 的事件单击行，但如果我在它们之外单击，我无法获得事件单击..可以你帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T13:47:56.870

你可以试试这个：“singletap”也像“click”一样工作。

```
tableview.addeventListener('singletap',function(evt){
   alert("Event occur : "+ evt);

}); 
```

更多信息请点击[这里](http://developer.appcelerator.com/apidoc/mobile/1.2/Titanium.UI.TableView-object)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T10:23:20.033

尝试这个：

```
table.addeventListener('singletap',function(evnt){
     alert("Event occur :- ");

}); 
```

# iphone - 适用于 iPhone 密码保护 Rar 文件的 UnRar 库

> ID：12741078
> 
> 赞同：2
> 
> 时间：2012-10-05T06:54:56.893
> 
> 标签：iphone, ios, rar, unrar

有谁知道如何使用 unRar4ios 库提取受密码保护的文件？我尽力弄清楚。但是失败了。在 unRar4ios 的 cpp 包装类中，作者没有实现提取受密码保护的 rar 文件的功能。谁能帮我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:49:09.817

看起来[Unrar4iOS 库](https://github.com/ararog/Unrar4iOS)的作者在 10 月 7 日更新了他的源代码以实际进行[受密码保护的文件提取](https://github.com/ararog/Unrar4iOS/commit/839360ec391587d29c49e0848a25974b550c5ed4)。

你的努力和[坚持](https://github.com/ararog/Unrar4iOS/issues/7)得到了回报！

# network-programming - 如何编辑wireshark pcap以更改数据包的顺序

> ID：12741079
> 
> 赞同：7
> 
> 时间：2012-10-05T06:54:57.687
> 
> 标签：network-programming, wireshark, packet-capture, tcpdump, wireshark-dissector

我有一个使用wireshark 捕获的pcap 文件。假设 pcap 有 6 个数据包，编号从 1 到 6，如下所示。现在我想编辑这个 pcap 文件，以便我以不同的顺序获取数据包。例如，如果原始 pcap 数据包是

```
1,2,3,4,5,6 
```

编辑后我想要一个新的 pcap，现在数据包的顺序（例如）如下：

```
2,3,1,4,5,6 
```

同样，我可以有一些其他订单，例如 2、4、5、6、1、3 或任何其他订单。

谁能让我知道我该怎么做？（可能正在使用wireshark或任何其他方法）。任何帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-08T06:35:20.540

您可以使用[editcap](http://www.wireshark.org/docs/man-pages/editcap.html)和[mergecap的组合](http://www.wireshark.org/docs/man-pages/mergecap.html)

要解决您的问题：

```
editcap -r in.pcap tmp1 2-3
editcap -r in.pcap tmp2 1
editcap -r in.pcap tmp3 4-6
mergecap -w out.pcap -a tmp1 tmp2 tmp3 
```

# android - ImageSwitcher 上的图像无法居中对齐

> ID：12741083
> 
> 赞同：3
> 
> 时间：2012-10-05T06:55:17.907
> 
> 标签：android

我有图像切换器，它将每 x 秒更改一次图像。
如果我使用 setImageDrawable 将图像设置为切换器，它工作正常。但是图像没有垂直居中对齐。下面是我的布局

```
 <RelativeLayout
           android:id="@+id/galleryimage"
           android:layout_width="match_parent"
           android:layout_height="wrap_content"  
           android:background="@drawable/gallerymain2"
           android:clipToPadding="true"
           android:padding="5dp" >

           <ImageSwitcher
                 android:id="@+id/image_switcher"
                 android:layout_width="fill_parent"
                 android:layout_height="wrap_content"
                 android:foregroundGravity="center"   />
    </RelativeLayout> 
```

然后我使用 switcher.setForeground 代替，它正确对齐但动画没有启动。任何人有想法如何解决这个问题？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-02T16:49:47.377

您应该在您的 java 文件中覆盖 makeView() ：

```
public View makeView() {
    ImageView imageView = new ImageView(this);
    imageView.setScaleType(ImageView.ScaleType.FIT_CENTER);
    imageView.setLayoutParams(new ImageSwitcher.LayoutParams(
        LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));
    return imageView;
  } 
```

# php - 如何使用 PHP 在数据库单列中输入多个复选框条目

> ID：12741091
> 
> 赞同：0
> 
> 时间：2012-10-05T06:55:40.503
> 
> 标签：php, mysql, checkbox

我在这里有一个绝对的初学者问题。我无法将多个复选框条目放入数据库中的单个列中。我用我的 php 尝试了一些不同的东西，但似乎无法让任何东西正常工作。我尝试过使用序列化以及使用内爆/爆炸。抱歉，我基本上是在要求用勺子喂食，因为我知道这是一个简单的解决方法，我只是还没有任何工作可以做。任何援助将不胜感激。谢谢！！！此外，我拥有的三个复选框是系统、通信和其他，我的 3 个输入确实有括号，即使 php 尚未设置为处理它们，所以现在我的数据库仍然显示这些输入的数组。这是我的php

```
 <?php
$con = mysql_connect("localhost","Andrew","password");
if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }

mysql_select_db("mydb", $con);

$sql="INSERT INTO persons (firstname, lastname, modelid, system, department, comm,  other, shift, comments)
VALUES
  ('$_POST[firstname]','$_POST[lastname]','$_POST[modelid]','$_POST[system]','$_POST[departme    nt]','$_POST[comm]','$_POST[other]','$_POST[shift]','$_POST[comments]')";

if (!mysql_query($sql,$con))
  {
  die('Error: ' . mysql_error());
  }
echo "1 record added";

mysql_close($con);
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:27:33.890

详细说明上面的评论所说的：

```
$to_insert_in_db = $_POST['system'].','.$_POST['comm'].','.$_POST['other']; 
```

您将其插入数据库的单个列中，当您检索它时，您只需执行以下操作：

```
$retrieved_values = explode(',', $column_value_from_db); 
```

但是，如果 system、comm 等的值有点复杂（例如字符串），我建议您使用 json_encode 将值添加到数据库中，并使用 json_decode 从数据库中获取它们。

```
$values = array('system' => $_POST['system'], 'comm' => $_POST['comm'], 'other' => $_POST['other']);
$column_to_insert = json_encode($values);
$values = json_decode($column_value_from_the_database); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:34:16.430

复选框有一个独特的问题，即当它被选中时，有一些值表单与数据一起发送，但是当它未被选中时，没有变量并且它将返回未定义的变量，所以每次你使用每个复选框变量时都这样做

```
$check1Val = 0;
if(isset($_POST["check1"]){
  $check1Val = 1;
  //or $check1Val = $_POST["check1"];
} 
```

最后，您连接每个变量并将其发送到单个列

```
$allCheckValues = $check1Val.",".$check2Val; 
```

如果您对复选框或其他内容仍有任何困惑，请告诉我

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:45:48.543

试试这个

```
$value ="";
if(isset($checkbox1)){
$value = $value."1";
$flag =1;
}
if(isset($checkbox2)&&$flag==1){
$value = $value.",1";
$flag =1;
}
else{
$value = $value."0,1";
$flag =1;
}  
 if(isset($checkbox3)&&$flag==1){
$value = $value.",1";
$flag =1;
}
else{
$value = $value."0,0,1";
$flag =1;
} 
```

根据您的应用程序，您可以使用 0 或 1 的任何值

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:49:39.997

## 将复选框作为逗号分隔的列表存储在单个字段中

这是一种不会产生通知的干净方式`undefined index/variable`（请记住，如果未选中复选框，则不会将其作为发布值发送），并且允许您仅通过添加到`$names`数组来添加更多复选框。

```
<?php

$names = array('system', 'comm', 'other');

$checkboxes = array();

foreach($names as $name)
{
    $value = 0;

    if(isset($_POST['checkboxes']) && is_array($_POST['checkboxes']) && in_array($name, $_POST['checkboxes']))
    {
        $value = 1;
    }

    $checkboxes[] = $value;
}

$checkboxString = implode(',', $checkboxes);

?> 
```

现在您可以`$checkboxString`在查询中使用。`$checkboxString`将是逗号分隔的 0 或 1 列表，以指示复选框值。例如：system=off, comm=on, other=on: `0,1,1`。

您的 HTML 需要看起来像（使用复选框数组）：

```
<input type="checkbox" name="checkboxes[]" value="system" /> System<br />
<input type="checkbox" name="checkboxes[]" value="comm" /> comm<br />
<input type="checkbox" name="checkboxes[]" value="other" /> other
                                       ^^ square brackets for an array 
```

* * *

## SQL 注入

您需要对此进行研究，因为您的代码很容易受到攻击。通过以下方式运行用户提供的值`mysql_real_escape_string()`：

```
$firstname = mysql_real_escape_string($_POST['firstname']); 
```

**询问：**

```
VALUES
  ('$firstname', .............. 
```

* * *

## MySQL 库

您的代码正在使用旧`mysql_*`库。这正在逐步淘汰，因此您应该为所有新代码选择另一个库，例如[PDO](http://php.net/manual/en/book.pdo.php)或[MySQLi](http://uk.php.net/manual/en/book.mysqli.php)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T04:57:37.123

所以这是我用来将多个条目放入数据库中的单个单元格的方法

`('$_POST[firstname]','$_POST[lastname]','$_POST[modelid]','". implode(",", $_POST['system']) ."','$_POST[department]','". implode(",", $_POST['comm']) ."','". implode(",", $_POST['other']) ."','$_POST[shift]','$_POST[comments]')";`

所以也许这将为将来试图实现同样简单目标的人服务，现在我唯一的问题是数据库中的条目被切断，我相信解决方案是序列化我的数组。再次感谢您的所有帮助！！

# python - Pandas DataFrame：将函数应用于所有列

> ID：12741092
> 
> 赞同：47
> 
> 时间：2012-10-05T06:55:44.403
> 
> 标签：python, dataframe, pandas

我可以`.map(func)`在 df 中的任何列上使用，例如：

```
df=DataFrame({'a':[1,2,3,4,5,6],'b':[2,3,4,5,6,7]})

df['a']=df['a'].map(lambda x: x > 1) 
```

我还可以：

```
df['a'],df['b']=df['a'].map(lambda x: x > 1),df['b'].map(lambda x: x > 1) 
```

是否有更 Pythonic 的方式将函数应用于所有列或整个框架（没有循环）？

* * *

## 回答 #1

> 赞同：84
> 
> 时间：2012-10-05T07:01:18.150

如果我理解正确，您正在寻找`applymap`方法。

```
>>> print df
   A  B  C
0 -1  0  0
1 -4  3 -1
2 -1  0  2
3  0  3  2
4  1 -1  0
>>> print df.applymap(lambda x: x>1)
       A      B      C
0  False  False  False
1  False   True  False
2  False  False   True
3  False   True   True
4  False  False  False 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2017-09-07T12:35:58.537

从`0.20.0`以后，您可以使用`transform`

```
In [578]: df.transform(lambda x: x > 1)
Out[578]:
       A      B      C
0  False  False  False
1  False   True  False
2  False  False   True
3  False   True   True
4  False  False  False

In [579]: df
Out[579]:
   A  B  C
0 -1  0  0
1 -4  3 -1
2 -1  0  2
3  0  3  2
4  1 -1  0 
```

而且，对于这个简单的案例，为什么不直接使用`df > 1`？

```
In [582]: df > 1
Out[582]:
       A      B      C
0  False  False  False
1  False   True  False
2  False  False   True
3  False   True   True
4  False  False  False 
```

# eclipse-rcp - 禁用主窗口的 RCP e4 应用程序关闭按钮的代码

> ID：12741100
> 
> 赞同：0
> 
> 时间：2012-10-05T06:56:23.570
> 
> 标签：eclipse-rcp, rcp

有没有办法可以禁用主窗口的 RCP e4 应用程序关闭按钮。我尝试获取活动外壳并添加 event.doit = false 。但这行不通。即使我单击是或否，应用程序也会关闭。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-16T16:17:19.090

首先创建您的处理程序：

```
public class WindowCloseHandler implements IWindowCloseHandler{
        @Override
        public boolean close(MWindow window) {
//          System.out.println("in window close handler");
            Object shell = window.getWidget();
            return MessageDialog.openConfirm((Shell) shell, "Confirmation",
                    "Do you want to exit?");
        }
} 
```

其次将处理程序放在窗口上下文中：我在应用程序中任何部分的 post 构造方法中执行此操作： public class SamplePart {

```
... 
```

@PostConstruct public void createComposite（复合父级，MApplication 应用程序，EModelService 服务）{

```
 ... setup the part ...

WindowCloseHandler close_handler = new WindowCloseHandler();
java.util.List<MTrimmedWindow> wins = 
        service.findElements(app, null, null, null);
for(Object win : wins){
    if(win instanceof MTrimmedWindow)
    ((MTrimmedWindow)win).getContext().set(IWindowCloseHandler.class, close_handler);
    else if(win instanceof MWindow)              ((MWindow)win).getContext().set(IWindowCloseHandler.class, close_handler);
} 
```

}

# c - 我用 Geforce GT 540M 分析了 Visual Studio 2010 和 CUDA 4.0，但 IDE 不知道一些关键词

> ID：12741101
> 
> 赞同：-1
> 
> 时间：2012-10-05T06:56:33.020
> 
> 标签：c, cuda

它通过用红线在许多正确的单词下划线显示了许多错误，但我可以正确运行它。这些单词包括C关键词和CUDA关键词。你能帮帮我吗？对不起，我没有10个声望来发图片，也许图片更清楚。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:47:29.920

我有一个类似的问题。问题是 IDE 尝试独立于 nvcc 自行解析文件，但它不理解某些关键字。结果，它做出了一些错误的假设（例如，认为这`__global__`是一个变量/函数的名称，然后混淆了它后面还有另一个名称并忽略它），然后一切都与他分崩离析。

由于 Visual Studio 的 IDE 假定`_MSC_VER`已声明，而 CUDA 编译器假定`__CUDACC__`已声明，因此您可以区分 IDE 和 CUDA 解析的内容。

所以，我所做的是创建一个帮助头文件`sense.h`，我将它包含在所有`.cu`文件的开头（并且只有那些文件）。在`sense.h`我将所有 CUDA 特定的关键字定义为宏：

```
#ifdef _MSC_VER
/*
Include this file at the very beginning of your .cu files to make Visual Studio IntelliSense more compatible with it.
Do -NOT- include it in .cpp files or header files
*/

#if !defined(__CUDACC__)
//unfortunately there is no IntelliSense macro.
//Fortunately, __CUDACC__ is not defined when IntelliSense parses the file.

#define __CUDACC__
#include <host_defines.h>
#include <device_functions.h>

#ifndef __device__
#define __device__
#endif

#ifndef __host__
#define __host__
#endif

#ifndef __global__
#define __global__
#endif

#ifndef __forceinline__
#define __forceinline__ __forceinline
#endif

#endif
#endif 
```

# osgi - Web应用程序中的osgi

> ID：12741103
> 
> 赞同：0
> 
> 时间：2012-10-05T06:56:40.167
> 
> 标签：osgi

我想使用 jsp 和 servlet 开发一个 Web 应用程序。现在我的疑问是我可以在后端使用 osgi 服务吗？当我想到这种方法时，我明白这是不可能的，因为在客户端我们也需要 osgi 插件来访问服务。但是我仍然需要对这种方法进行良好的专业评论。我知道这可以通过 eclipse RAP 来实现。如果我的问题没有任何意义，请道歉。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:03:15.030

I'm not sure I follow your question completely. You can certainly develop a web application using OSGi. All you have to do is deploy your war file into the http service of your OSGi container (e.g. jetty in felix). Doing so can be a bit of a pain, though, so consider using [PAX-war-extender](http://team.ops4j.org/wiki/display/paxweb/WAR+Extender). Your clients won't care or even know that you are running OSGi.

That said, if you are developing purely a web app, it *might* not be worth to use OSGi, and you could simply deploy directly on apache/tomact/some application server instead.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:27:43.300

我想你可以，检查[码头 osgi 引导项目](http://wiki.eclipse.org/Jetty/Feature/Jetty_OSGi)。您可以像以前一样开发 Web 部件！只需将一些 osgi 元数据添加到 META-INF/MANIFEST.MF 文件中。如果你想获得一些osgi服务，你可以像osgi bundle一样使用ServiceTrack！我们就是这样做的！希望对你有帮助！

# android - Android中PCM音频样本的上采样

> ID：12741105
> 
> 赞同：2
> 
> 时间：2012-10-05T06:56:49.040
> 
> 标签：android, audio, sampling

我正在我的 android 应用程序中从蓝牙耳机中读取音频样本。蓝牙 SCO 以 8KHz 的音频输入采样频率工作。但我需要来自蓝牙耳机的 16KHz 音频样本，所以我需要使用上采样。

我在此处和其他网站上搜索了有关 Android 上采样的信息，但没有用。如果有人知道用于上采样的预定义 Java 库，请回答我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T09:07:32.080

如果您请求 16 kHz，则上采样应该会自动发生，除非您正在测试的设备对音频 HAL / audioflinger 有一些奇怪的实现。

如果您请求输入设备不支持的采样率，将会（应该）发生什么，音频 HAL 将向 audioflinger 返回错误代码并建议使用采样率。反过来，audioflinger 将尝试以支持的采样率打开输入流并在内部进行重新采样，以便应用程序以它请求的速率获取音频数据。

只要请求的采样率不大于支持的采样率的两倍，这应该可以工作，因此 8 -> 16 kHz 上采样应该可以工作。这种上采样的质量是否足够好是您必须自己判断的事情。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-05T07:01:55.203

The easiest is to just copy each value and double the frequency. This will not improve sound quality but not make it worse either. This is similar to how you can upscale an image to higher resolution. Without filtering, it will not look worse, but not better either, as long as you upscale with a non-fractional amount.

Can you tell the difference between this image;

[![enter image description here](../Images/ec69dbd058655080a9124fbb825bee34.png)](https://i.stack.imgur.com/6jptb.png)

and this?

![](../Images/a7b6b6cd55f95507cfbedc832f0c4dc9.png)

The second image is actually twice the resolution, but looks the same.

As long as you scale a sound (or an image) with a non fractional number, no scaling artifacts are introduced.

However, various hints if you want to *smoothen* the up-sampled sound:

[https://ccrma.stanford.edu/~jos/resample/](https://ccrma.stanford.edu/~jos/resample/)

[http://paulbourke.net/miscellaneous/interpolation/](http://paulbourke.net/miscellaneous/interpolation/)

[http://leute.server.de/wilde/resample.html#Upsampling](http://leute.server.de/wilde/resample.html#Upsampling)

# drupal - Alfresco 与 drupal 的集成

> ID：12741106
> 
> 赞同：0
> 
> 时间：2012-10-05T06:56:50.597
> 
> 标签：drupal, alfresco

我正在将我的 drupal 网站与 alfresco 整合在一起。这是我的 settings.php 代码：

```
$conf['cmis_repositories'] = array( 'default' => array( 'user' => 'admin', 'password' => 'admin', 'url' => 'http://localhost:8443/alfresco/s/cmis' ) ) 
```

* * *

Everyting 连接正常，但是在通过 CMIS 视图创建视图并将其显示在 drupal 块中时，它给了我以下错误：

```
HTTP call to [http://localhost:8443/alfresco/s/cmis/queries] returned [500]. Response: Web Script Status 500 - Internal Error Web Script Status 500 - Internal Error The Web Script /alfresco/s/cmis/queries has responded with a status of 500 - Internal Error. 500 Description: An error inside the HTTP server which prevented it from fulfilling the request. &nbsp; Message:09050002 Wrapped Exception (with status template): 09050029 Failed to execute script 'classpath*:alfresco/templates/webscripts/org/alfresco/cmis/queries.post.cmisquery.js': 09050028 &nbsp; Exception:java.io.EOFException - SSL peer shut down incorrectly &nbsp; com.sun.net.ssl.internal.ssl.InputRecord.read(InputRecord.java:333) com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:830) com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1170) com.sun.net.ssl.internal.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:637) com.sun.net.ssl.internal.ssl.AppOutputStream.write(AppOutputStream.java:89) java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65) java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123) org.apache.commons.httpclient.methods.EntityEnclosingMethod.writeRequestBody(EntityEnclosingMethod.java:506) org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase.java:2114) org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1096) org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398) org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171) org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397) org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323) org.alfresco.repo.search.impl.solr.SolrQueryHTTPClient.executeQuery(SolrQueryHTTPClient.java:344) org.alfresco.repo.search.impl.solr.SolrQueryLanguage.executeQuery(SolrQueryLanguage.java:49) org.alfresco.repo.search.impl.solr.SolrCMISQueryServiceImpl.query(SolrCMISQueryServiceImpl.java:93) sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) java.lang.reflect.Method.invoke(Method.java:597) org.alfresco.repo.management.subsystems.SubsystemProxyFactory$1.invoke(SubsystemProxyFactory.java:65) org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202) $Proxy157.query(Unknown Source) org.alfresco.repo.cmis.rest.CMISScript.query(CMISScript.java:683) sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) java.lang.reflect.Method.invoke(Method.java:597) org.mozilla.javascript.MemberBox.invoke(MemberBox.java:155) org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:243) org.mozilla.javascript.optimizer.OptRuntime.call2(OptRuntime.java:76) org.mozilla.javascript.gen.c2._c0(file:/C:/Alfresco/tomcat/webapps/alfresco/WEB-INF/classes/alfresco/templates/webscripts/org/alfresco/cmis/queries.post.cmisquery.js:67) org.mozilla.javascript.gen.c2.call(file:/C:/Alfresco/tomcat/webapps/alfresco/WEB-INF/classes/alfresco/templates/webscripts/org/alfresco/cmis/queries.post.cmisquery.js) org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:393) org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:2834) org.mozilla.javascript.gen.c2.call(file:/C:/Alfresco/tomcat/webapps/alfresco/WEB-INF/classes/alfresco/templates/webscripts/org/alfresco/cmis/queries.post.cmisquery.js) org.mozilla.javascript.gen.c2.exec(file:/C:/Alfresco/tomcat/webapps/alfresco/WEB-INF/classes/alfresco/templates/webscripts/org/alfresco/cmis/queries.post.cmisquery.js) org.alfresco.repo.jscript.RhinoScriptProcessor.executeScriptImpl(RhinoScriptProcessor.java:492) org.alfresco.repo.jscript.RhinoScriptProcessor.execute(RhinoScriptProcessor.java:198) org.alfresco.repo.processor.ScriptServiceImpl.execute(ScriptServiceImpl.java:212) org.alfresco.repo.processor.ScriptServiceImpl.executeScript(ScriptServiceImpl.java:174) org.alfresco.repo.web.scripts.RepositoryScriptProcessor.executeScript(RepositoryScriptProcessor.java:102) org.springframework.extensions.webscripts.AbstractWebScript.executeScript(AbstractWebScript.java:1285) org.alfresco.repo.cmis.rest.CMISWebScript.executeScript(CMISWebScript.java:46) org.springframework.extensions.webscripts.DeclarativeWebScript.execute(DeclarativeWebScript.java:86) org.alfresco.repo.web.scripts.RepositoryContainer$2.execute(RepositoryContainer.java:407) org.alfresco.repo.transaction.RetryingTransactionHelper.doInTransaction(RetryingTransactionHelper.java:388) org.alfresco.repo.web.scripts.RepositoryContainer.transactionedExecute(RepositoryContainer.java:476) org.alfresco.repo.web.scripts.RepositoryContainer.transactionedExecuteAs(RepositoryContainer.java:514) org.alfresco.repo.web.scripts.RepositoryContainer.executeScript(RepositoryContainer.java:330) org.springframework.extensions.webscripts.AbstractRuntime.executeScript(AbstractRuntime.java:377) org.springframework.extensions.webscripts.AbstractRuntime.executeScript(AbstractRuntime.java:209) org.springframework.extensions.webscripts.servlet.WebScriptServlet.service(WebScriptServlet.java:118) javax.servlet.http.HttpServlet.service(HttpServlet.java:717) org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) org.alfresco.web.app.servlet.GlobalLocalizationFilter.doFilter(GlobalLocalizationFilter.java:58) org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233) org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:470) org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293) org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877) org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594) org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1675) java.lang.Thread.run(Thread.java:662) &nbsp; Exception:javax.net.ssl.SSLHandshakeException - Remote host closed connection during handshake &nbsp; com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:849) &nbsp; Exception:org.alfresco.repo.search.impl.lucene.LuceneQueryParserException - 09050028 &nbsp; org.alfresco.repo.search.impl.solr.SolrQueryHTTPClient.executeQuery(SolrQueryHTTPClient.java:390) &nbsp; Exception:org.alfresco.scripts.ScriptException - 09050029 Failed to execute script 'classpath*:alfresco/templates/webscripts/org/alfresco/cmis/queries.post.cmisquery.js': 09050028 &nbsp; org.alfresco.repo.jscript.RhinoScriptProcessor.execute(RhinoScriptProcessor.java:202) &nbsp; Exception:org.springframework.extensions.webscripts.WebScriptException - 09050002 Wrapped Exception (with status template): 09050029 Failed to execute script 'classpath*:alfresco/templates/webscripts/org/alfresco/cmis/queries.post.cmisquery.js': 09050028 &nbsp; org.springframework.extensions.webscripts.AbstractWebScript.createStatusException(AbstractWebScript.java:1047) &nbsp; Server:Enterprise v4.1.0 (143) schema 5,100 Time:Oct 5, 2012 10:59:44 AM &nbsp; Diagnostics:Inspect Web Script (org/alfresco/cmis/queries.post)
Error. 
```

任何形式的帮助将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T10:09:07.593

您指定`http`了一个执行 SSL 的端口，因此出现 SSL 错误

您要么希望将 URL 更改为`https://localhost:8443/`（注意 https 中的 s），要么如果您真的只想使用 http，则使用 http 端口`http://localhost:8080/`

Alfresco tomcat 通常会在端口 8080 上列出 http，在 8443 上列出 https，但是您不能混合和匹配端口和协议！

# c# - Entity Framework 代码优先 Fluent 映射

> ID：12741109
> 
> 赞同：1
> 
> 时间：2012-10-05T06:57:05.967
> 
> 标签：c#, entity-framework

我有两张桌子

*   StoreOrderItem
*   商店订单

现在 StoreOrder 有很多 StoreOrderItems 并且 StoreOrderItem 有一个 StoreOrder （简单的一对多关系）

```
public class StoreOrderItemMap : EntityTypeConfiguration<StoreOrderItem>
{
        public StoreOrderItemMap()
        {
            this.ToTable("StoreOrderItem");
            this.HasKey(op => op.Id);
            this.Property(op => op.StoreOrderId).HasColumnName("order_id");
            ...

            this.HasRequired(so => so.StoreOrder)
              .WithMany(soi => soi.StoreOrderItems)
              .HasForeignKey(so => so.StoreOrderId);
        }
}

public class StoreOrderMap : EntityTypeConfiguration<StoreOrder>
{
    public StoreOrderMap()
    {
        this.ToTable("StoreOrder");
        this.HasKey(op => op.Id);
        ....
    }
}

public class StoreOrderItem
{
    ....
    public virtual int StoreOrderId { get; set; }
    ....

    public virtual StoreOrder StoreOrder { get; set; }
}

public class StoreOrder
{
    .... 
    private ICollection<StoreOrderItem> _storeOrderItems;
    ....

    public virtual ICollection<StoreOrderItem> StoreOrderItems
    {
        get { return _storeOrderItems ?? (_storeOrderItems = new List<StoreOrderItem>()); }
        set { _storeOrderItems = value; }
    }

}

//The code which is used to add the configurations to the modelBuilder.
protected override void OnModelCreating(DbModelBuilder modelBuilder)
{
    System.Type configType = typeof(ContentMap);   //any of your configuration classes here
    var typesToRegister = Assembly.GetAssembly(configType).GetTypes()
        .Where(type => !String.IsNullOrEmpty(type.Namespace))
        .Where(type => type.BaseType != null && type.BaseType.IsGenericType && type.BaseType.GetGenericTypeDefinition() == typeof(EntityTypeConfiguration<>));
        foreach (var type in typesToRegister)
        {
            dynamic configurationInstance = Activator.CreateInstance(type);
            modelBuilder.Configurations.Add(configurationInstance);
        }
        base.OnModelCreating(modelBuilder);
} 
```

注意我在现有数据库上运行此代码，我如何告诉 EF 不要选择“StoreOrder_Id”而使用现有列“order_id”？

这是错误：

“/”应用程序中的服务器错误。

列名“StoreOrder_Id”无效。

> 说明：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。
> 
> 异常详细信息：System.Data.SqlClient.SqlException：列名“StoreOrder_Id”无效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T00:35:03.343

折腾了几天才发现问题......

StoreOrder 类中有另一个属性

```
public virtual IList<StoreOrderItem> NonVoucherOrderItems
{
    get
    {
        return this.StoreOrderItems.Where(x => !x.IsVoucher()).ToList();
    }
} 
```

这被评估得太早了，造成了各种混乱，改为

```
public virtual IEnumerable<StoreOrderItem> NonVoucherOrderItems
{
    get
    {
        return this.StoreOrderItems.Where(x => !x.IsVoucher());
    }
} 
```

它立即起作用！

# android - 如何使用 android sdk 将图像上传到 Twitter

> ID：12741112
> 
> 赞同：6
> 
> 时间：2012-10-05T06:57:11.317
> 
> 标签：android, twitter, twitter-oauth

如何在推特上上传图片/图片`android sdk`？我正在使用示例（twitpic），但它总是在这部分给出错误：

```
mTwitter = new TwitterApp(this, twitter_consumer_key,twitter_secret_key); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-10T07:08:05.940

你可以试试这个...

**MainActivity.java**

```
private static final String twitter_consumer_key = "Consumer key";
private static final String twitter_secret_key = "secret key";
TwitterApp mTwitter;

protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
Bitmap bitmap;  // your image bitmap
    try{

    mTwitter = new TwitterApp(this, twitter_consumer_key, twitter_secret_key);
    }catch (Exception e) {

    }
upload_to_twitter.setOnClickListener(new OnClickListener() {

            @Override
    public void onClick(View v) {
            mTwitter.setListener(mTwLoginDialogListener);
            mTwitter.resetAccessToken();
            if (mTwitter.hasAccessToken() == true) {
                try {

                mTwitter.uploadPic(bitmap, "This is new pic");

                postAsToast(FROM.TWITTER_POST, MESSAGE.SUCCESS);
                } catch (Exception e) {
        if (e.getMessage().toString().contains("duplicate")) {
                postAsToast(FROM.TWITTER_POST, MESSAGE.DUPLICATE);
                    }
                    e.printStackTrace();
                }
                mTwitter.resetAccessToken();
            } else {
                mTwitter.authorize();
            }
        }
    });

     }
} 
```

**TwitterApp.java**

```
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.net.MalformedURLException;
import java.net.URL;
import java.net.URLDecoder;

import oauth.signpost.commonshttp.CommonsHttpOAuthConsumer;
import oauth.signpost.commonshttp.CommonsHttpOAuthProvider;
import twitter4j.StatusUpdate;
import twitter4j.Twitter;
import twitter4j.TwitterException;
import twitter4j.TwitterFactory;
import twitter4j.User;
import twitter4j.auth.AccessToken;
import twitter4j.conf.Configuration;
import twitter4j.conf.ConfigurationBuilder;
import android.app.Activity;
import android.app.ProgressDialog;
import android.graphics.Bitmap;
import android.os.Handler;
import android.os.Message;
import android.view.Window;
import android.widget.Toast;

public class TwitterApp {
private Twitter mTwitter;
private TwitterSession mSession;
private AccessToken mAccessToken;
private CommonsHttpOAuthConsumer mHttpOauthConsumer;
private CommonsHttpOAuthProvider mHttpOauthprovider;
private String mConsumerKey;
private String mSecretKey;
private ProgressDialog mProgressDlg;
private TwDialogListener mListener;
private Activity context;

public static final String OAUTH_CALLBACK_SCHEME = "x-oauthflow-twitter";
public static final String OAUTH_CALLBACK_HOST = "callback";
public static final String CALLBACK_URL = OAUTH_CALLBACK_SCHEME + "://"
        + OAUTH_CALLBACK_HOST;

// public static final String CALLBACK_URL =
// "http://abhinavasblog.blogspot.com/";

static String base_link_url = "http://www.google.co.in/";
private static final String TWITTER_ACCESS_TOKEN_URL =       "https://api.twitter.com/oauth/access_token";
private static final String TWITTER_AUTHORZE_URL = "https://api.twitter.com/oauth/authorize";
private static final String TWITTER_REQUEST_URL = "https://api.twitter.com/oauth/request_token";
public static final String MESSAGE = "MonkeySays";
        //+ "<a href= " + base_link_url + "</a>";
Message msg=new Message();
public TwitterApp(Activity context, String consumerKey, String secretKey) {
    this.context = context;

    mTwitter = new TwitterFactory().getInstance();
    mSession = new TwitterSession(context);
    mProgressDlg = new ProgressDialog(context);

    mProgressDlg.requestWindowFeature(Window.FEATURE_NO_TITLE);

    mConsumerKey = consumerKey;
    mSecretKey = secretKey;

    mHttpOauthConsumer = new CommonsHttpOAuthConsumer(mConsumerKey,
            mSecretKey);

    String request_url = TWITTER_REQUEST_URL;
    String access_token_url = TWITTER_ACCESS_TOKEN_URL;
    String authorize_url = TWITTER_AUTHORZE_URL;
    mHttpOauthprovider=new CommonsHttpOAuthProvider(request_url, access_token_url, authorize_url);
//      mHttpOauthprovider = new DefaultOAuthProvider(request_url,
//              access_token_url, authorize_url);
    mAccessToken = mSession.getAccessToken();

    configureToken();
}

public void setListener(TwDialogListener listener) {
    mListener = listener;
}

private void configureToken() {
    if (mAccessToken != null) {
        mTwitter.setOAuthConsumer(mConsumerKey, mSecretKey);
        mTwitter.setOAuthAccessToken(mAccessToken);
    }
}

public boolean hasAccessToken() {
    return (mAccessToken == null) ? false : true;
}

public void resetAccessToken() {
    if (mAccessToken != null) {
        mSession.resetAccessToken();

        mAccessToken = null;
    }
}

public String getUsername() {
    return mSession.getUsername();
}

 // public void updateStatus(String status) throws Exception {
 //     try {
 //         mTwitter.updateStatus(status);
//          // File f = new File("/mnt/sdcard/74.jpg");
//          // mTwitter.updateProfileImage(f);
//      } catch (TwitterException e) {
//          throw e;
//      }
//  }

public void uploadPic(Bitmap file, String message)
        throws Exception {
    try {
        ConfigurationBuilder builder = new ConfigurationBuilder();
        builder.setOAuthConsumerKey("your consumer key");
              builder.setOAuthConsumerSecret("your secret key")
        .setOAuthAccessToken(mHttpOauthConsumer.getToken())
  .setOAuthAccessTokenSecret(mHttpOauthConsumer.getTokenSecret());;
        Configuration configuration = builder.build();
        TwitterFactory twi=new TwitterFactory(configuration);
        Twitter twitter=twi.getInstance();
          ByteArrayOutputStream stream = new ByteArrayOutputStream();
            file.compress(Bitmap.CompressFormat.PNG, 100, stream);
            byte[] byteArray = stream.toByteArray();
            ByteArrayInputStream bis = new ByteArrayInputStream(byteArray);
            StatusUpdate status = new StatusUpdate("Monkey Says");
            status.setMedia("newyear", bis);

        twitter.updateStatus(status);
    } catch (TwitterException e) {
        ///Log.d("TAG", "Pic Upload error" + e.getExceptionCode());
        throw e;
    }
}

public void authorize() {
    mProgressDlg.setMessage("Initializing ...");
    mProgressDlg.show();

    new Thread() {
        @Override
        public void run() {

            String authUrl = "";
            int what = 1;

            try {
                authUrl = mHttpOauthprovider.retrieveRequestToken(
                        mHttpOauthConsumer, CALLBACK_URL);

                what = 0;
            } catch (Exception e) {
                e.printStackTrace();
            }
            mHandler.sendMessage(mHandler
                    .obtainMessage(what, 1, 0, authUrl));

        }

    }.start();

}

public void processToken(String callbackUrl) {
    mProgressDlg.setMessage("Finalizing ...");
    mProgressDlg.show();

    final String verifier = getVerifier(callbackUrl);
    int what = 1;

    try {
        mHttpOauthprovider.retrieveAccessToken(mHttpOauthConsumer, verifier);
        Toast.makeText(context, "new...", 87777).show();

        mAccessToken = new AccessToken(
                mHttpOauthConsumer.getToken(),
                mHttpOauthConsumer.getTokenSecret());

        configureToken();

        User user = mTwitter.verifyCredentials();

        mSession.storeAccessToken(mAccessToken, user.getName());

        what = 0;
    } catch (Exception e) {
        e.printStackTrace();
    }

    mHandler.sendMessage(mHandler.obtainMessage(what, 2, 0));
    new Thread() {
        @Override
        public void run() {

        }
    }.start();
}

private String getVerifier(String callbackUrl) {
    String verifier = "";

    try {
        callbackUrl = callbackUrl.replace(OAUTH_CALLBACK_SCHEME, "http");

        URL url = new URL(callbackUrl);
        String query = url.getQuery();

        String array[] = query.split("&");

        for (String parameter : array) {
            String v[] = parameter.split("=");

            if (URLDecoder.decode(v[0]).equals(
                    oauth.signpost.OAuth.OAUTH_VERIFIER)) {
                verifier = URLDecoder.decode(v[1]);
                break;
            }
        }
    } catch (MalformedURLException e) {
        e.printStackTrace();
    }

    return verifier;
}

private void showLoginDialog(String url) {
    final TwDialogListener listener = new TwDialogListener() {

        public void onComplete(String value) {
            processToken(value);
        }

        public void onError(String value) {
            mListener.onError("Failed opening authorization page");
        }
    };

    new TwitterDialog(context, url, listener).show();
}

private Handler mHandler = new Handler() {

    @Override

    public void handleMessage(Message msg) {
        mProgressDlg.dismiss();

        if (msg.what == 1) {
            if (msg.arg1 == 1)
                mListener.onError("Error getting request token");
            else
                mListener.onError("Error getting access token");
        } else {
            if (msg.arg1 == 1)
                showLoginDialog((String) msg.obj);
            else
                mListener.onComplete("");
        }

    }

};

public interface TwDialogListener {
    public void onComplete(String value);

    public void onError(String value);
}
} 
```

**TwitterDialog.java**

```
import android.app.Dialog;
import android.app.ProgressDialog;
import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.Color;
import android.graphics.Typeface;
import android.graphics.drawable.Drawable;
import android.os.Bundle;
import android.view.Display;
import android.view.ViewGroup;
import android.view.Window;
import android.webkit.WebView;
import android.webkit.WebViewClient;
import android.widget.FrameLayout;
import android.widget.LinearLayout;
import android.widget.TextView;

public class TwitterDialog extends Dialog {

static final float[] DIMENSIONS_LANDSCAPE = { 500, 300 };
static final float[] DIMENSIONS_PORTRAIT = { 300, 500 };
static final FrameLayout.LayoutParams FILL = new FrameLayout.LayoutParams(
        ViewGroup.LayoutParams.FILL_PARENT,
        ViewGroup.LayoutParams.FILL_PARENT);
static final int MARGIN = 4;
static final int PADDING = 2;
private String mUrl;
private TwitterApp.TwDialogListener mListener;
private ProgressDialog mSpinner;
private WebView mWebView;
private LinearLayout mContent;
private TextView mTitle;
private boolean progressDialogRunning = false;

public TwitterDialog(Context context, String url,TwitterApp.TwDialogListener listener) {
    super(context);

    mUrl = url;
    mListener = listener;
}

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    mSpinner = new ProgressDialog(getContext());

    mSpinner.requestWindowFeature(Window.FEATURE_NO_TITLE);
    mSpinner.setMessage("Loading...");

    mContent = new LinearLayout(getContext());

    mContent.setOrientation(LinearLayout.VERTICAL);

    setUpTitle();
    setUpWebView();

    Display display = getWindow().getWindowManager().getDefaultDisplay();
    final float scale = getContext().getResources().getDisplayMetrics().density;
    float[] dimensions = (display.getWidth() < display.getHeight()) ? DIMENSIONS_PORTRAIT
            : DIMENSIONS_LANDSCAPE;

    addContentView(mContent, new FrameLayout.LayoutParams(
            (int) (dimensions[0] * scale + 0.5f), (int) (dimensions[1]
                    * scale + 0.5f)));
}

private void setUpTitle() {
    requestWindowFeature(Window.FEATURE_NO_TITLE);

    Drawable icon = getContext().getResources().getDrawable(
            R.drawable.ic_launcher);

    mTitle = new TextView(getContext());

    mTitle.setText("Twitter");
    mTitle.setTextColor(Color.WHITE);
    mTitle.setTypeface(Typeface.DEFAULT_BOLD);
    mTitle.setBackgroundColor(0xFFbbd7e9);
    mTitle.setPadding(MARGIN + PADDING, MARGIN, MARGIN, MARGIN);
    mTitle.setCompoundDrawablePadding(MARGIN + PADDING);
    mTitle.setCompoundDrawablesWithIntrinsicBounds(icon, null, null, null);

    mContent.addView(mTitle);
}

private void setUpWebView() {
    mWebView = new WebView(getContext());

    mWebView.setVerticalScrollBarEnabled(false);
    mWebView.setHorizontalScrollBarEnabled(false);
    mWebView.setWebViewClient(new TwitterWebViewClient());
    mWebView.getSettings().setJavaScriptEnabled(true);
    mWebView.loadUrl(mUrl);
    mWebView.setLayoutParams(FILL);

    mContent.addView(mWebView);
}

private class TwitterWebViewClient extends WebViewClient {

    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        if (url.startsWith(TwitterApp.CALLBACK_URL)) {
            mListener.onComplete(url);

            TwitterDialog.this.dismiss();

            return true;
        } else if (url.startsWith("authorize")) {
            return false;
        }
        return true;
    }

    @Override
    public void onReceivedError(WebView view, int errorCode,
            String description, String failingUrl) {
        super.onReceivedError(view, errorCode, description, failingUrl);
        mListener.onError(description);
        TwitterDialog.this.dismiss();
    }

    @Override
    public void onPageStarted(WebView view, String url, Bitmap favicon) {
        super.onPageStarted(view, url, favicon);
        mSpinner.show();
        progressDialogRunning = true;
    }

    @Override
    public void onPageFinished(WebView view, String url) {
        super.onPageFinished(view, url);
        String title = mWebView.getTitle();
        if (title != null && title.length() > 0) {
            mTitle.setText(title);
        }
        progressDialogRunning = false;
        mSpinner.dismiss();
    }

}

@Override
protected void onStop() {
    progressDialogRunning = false;
    super.onStop();
}

public void onBackPressed() {
    if(!progressDialogRunning){
        TwitterDialog.this.dismiss();
    }
}
} 
```

**TwitterSession.java**

```
import twitter4j.auth.AccessToken;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.content.Context;

public class TwitterSession {
private SharedPreferences sharedPref;
private Editor editor;

private static final String TWEET_AUTH_KEY = "";
private static final String TWEET_AUTH_SECRET_KEY = "";
private static final String TWEET_USER_NAME = "";
private static final String SHARED = "Twitter_Preferences";

public TwitterSession(Context context) {
    sharedPref = context.getSharedPreferences(SHARED, Context.MODE_PRIVATE);

    editor = sharedPref.edit();
}

public void storeAccessToken(AccessToken accessToken, String username) {
    editor.putString(TWEET_AUTH_KEY, accessToken.getToken());
    editor.putString(TWEET_AUTH_SECRET_KEY, accessToken.getTokenSecret());
    editor.putString(TWEET_USER_NAME, username);

    editor.commit();
}

public void resetAccessToken() {
    editor.putString(TWEET_AUTH_KEY, null);
    editor.putString(TWEET_AUTH_SECRET_KEY, null);
    editor.putString(TWEET_USER_NAME, null);

    editor.commit();
}

public String getUsername() {
    return sharedPref.getString(TWEET_USER_NAME, "");
}

public AccessToken getAccessToken() {
    String token = sharedPref.getString(TWEET_AUTH_KEY, null);
    String tokenSecret = sharedPref.getString(TWEET_AUTH_SECRET_KEY, null);

    if (token != null && tokenSecret != null)
        return new AccessToken(token, tokenSecret);
    else
        return null;
} 
```

}

用于此的jar文件..

路标核心1.2.1.2.jar

路标-commonshttp4-1.2.1.1.jar

twitter4j-core-3.0.3.jar

twitter4j-media-support-3.0.3.jar

这段代码非常有用，我只用这段代码在 twitter 上分享了这张图片。

如果发现有帮助，请接受答案..谢谢

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T06:59:30.173

尝试这个

```
 try {
        Configuration conf = new ConfigurationBuilder()                 
        .setOAuthConsumerKey(AppConstant.twitter_consumer_key) 
        .setOAuthConsumerSecret(AppConstant.twitter_secret_key) 
        .setOAuthAccessToken(AppConstant.twitterAccessToken.getToken()) 
        .setOAuthAccessTokenSecret(AppConstant.twitterAccessToken.getTokenSecret()) 
        .build(); 

        OAuthAuthorization auth = new OAuthAuthorization (conf, conf.getOAuthConsumerKey (), conf.getOAuthConsumerSecret (),
                new AccessToken (conf.getOAuthAccessToken (), conf.getOAuthAccessTokenSecret ()));

        ImageUpload upload = ImageUpload.getTwitpicUploader (AppConstant.twitpic_api_key, auth);

        Log.d(TAG, "Start sending image...");

        File picture = new File(AppConstant.rootFolder+File.separator+AppConstant.fileName); 

        url = upload.upload(picture);

        Log.d(TAG, "Image uploaded, Twitpic url is " + url);    
        Twitter twitter = new TwitterFactory().getOAuthAuthorizedInstance(AppConstant.twitter_consumer_key, 
                AppConstant.twitter_secret_key,
                new AccessToken (AppConstant.twitterAccessToken.getToken(), AppConstant.twitterAccessToken.getTokenSecret()));
        if(status != null){
            twitter.updateStatus(status + " "+url);
        }else{
            twitter.updateStatus(url);
        }
        getDelegate().onRequestFinished(null);
    }catch (Exception e) {
        getDelegate().onRequestFailed(e);
        System.out.println("-------------------error|"+e.toString());
    } 
```

## 更新

首先你需要在推特上创建一个应用程序

这是在 Twitter 上发布消息的代码

```
 ConfigurationBuilder configurationBuilder = new ConfigurationBuilder();
            configurationBuilder.setOAuthConsumerKey(context.getResources().getString(R.string.twitter_consumer_key));
            configurationBuilder.setOAuthConsumerSecret(context.getResources().getString(R.string.twitter_consumer_secret));
            configurationBuilder.setOAuthAccessToken(LoginActivity.getAccessToken((context)));
            configurationBuilder.setOAuthAccessTokenSecret(LoginActivity.getAccessTokenSecret(context));
            Configuration configuration = configurationBuilder.build();
            final Twitter twitter = new TwitterFactory(configuration).getInstance();

            new Thread(new Runnable() {

                    private double x;

                    @Override
                    public void run() {
                            boolean success = true;
                            try {
                                    x = Math.random();
                                    twitter.updateStatus(message +" "+x);
                            } catch (TwitterException e) {
                                    e.printStackTrace();
                                    success = false;
                            }

                            final boolean finalSuccess = success;

                            callingActivity.runOnUiThread(new Runnable() {
                                    @Override
                                    public void run() {
                                            postResponse.onFinsihed(finalSuccess);
                                    }
                            });

                    }
            }).start(); 
```

查看本[教程](http://learnncode.wordpress.com/2013/12/17/tutorial-on-uploading-image-on-twitter-using-twitter4j/)以获取更多详细信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T10:42:39.777

检查[Android 的 SocialAuth](https://code.google.com/p/socialauth-android/)。新版本可帮助您在 twitter 上上传图片以及获取提要和获取相册。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-05T07:07:03.127

我用它在 Twitpic 上分享照片。

```
private void hello() {
        // TODO Auto-generated method stub
        String url;

        long result = 0;

        String oth = prefs.getString(OAuth.OAUTH_TOKEN, "");
        String src = prefs.getString(OAuth.OAUTH_TOKEN_SECRET, "");

        Configuration conf = new ConfigurationBuilder()
                .setOAuthConsumerKey(Constants.CONSUMER_KEY)
                .setOAuthConsumerSecret(Constants.CONSUMER_SECRET)
                .setOAuthAccessToken(oth).setOAuthAccessTokenSecret(src)
                .build();

        OAuthAuthorization auth = new OAuthAuthorization(conf,
                conf.getOAuthConsumerKey(), conf.getOAuthConsumerSecret(),
                new AccessToken(conf.getOAuthAccessToken(),
                        conf.getOAuthAccessTokenSecret()));

        ImageUpload upload = ImageUpload.getTwitpicUploader(
                Constants.twitpic_api_key, auth);

        Log.d(main_genral_class.TAG, "Start sending image...");

        try {
            if (isFromCamera) {

                S_PHOTO_URL = S_PHOTO_URL.replace(" ", "%20");

                url = upload.upload(" ", new URL(S_PHOTO_URL).openStream(),
                        S_PHOTO_SMS);

            } else {

                Log.d("photo url twiter---->", S_PHOTO_URL);
                url = upload.upload(" ", new URL(S_PHOTO_URL).openStream(),
                        S_PHOTO_SMS);
            }
            result = 1;

            Log.d(main_genral_class.TAG, "Image uploaded, Twitpic url is "
                    + url);
        } catch (Exception e) {
            Log.e(main_genral_class.TAG, "Failed to send image");

            e.printStackTrace();
        }

    } 
```

在此代码中 S_PHOTO_URL 是照片的 URL。

比如，S_PHOTO_URL = "http://www.thebiblescholar.com/android_awesome.jpg";

S_PHOTO_SMS = "你好，这是来自安卓应用！";

您还可以自定义代码并发送文件而不是 URL。

请试试这个，它肯定对你有帮助。

# javascript - Twitter Bootstrap 2.1 modal 正在删除 modal-body 内容

> ID：12741119
> 
> 赞同：1
> 
> 时间：2012-10-05T06:57:41.817
> 
> 标签：javascript, jquery, twitter-bootstrap

尝试在 Twitter Bootstrap 2.1 中实现一个简单的模式时，我遇到了一个奇怪的错误：模式窗口按原样出现，一切似乎在一瞬间完美，然后`.modal-body`div 的内容消失了。当我查看 HTML 时，它存在一秒钟然后实际上被删除，包含`p`标签和所有内容，只留下一个空

```
<div class="modal-body"> </div> 
```

这是我的模式切换按钮和模式窗口的代码：

```
<a type="button" href="#" class="btn btn-danger" data-target="#modal_confirm_delete" data-toggle="modal">Delete</a>

<div class="modal hide fade" id="modal_confirm_delete">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Modal title</h3>
    </div>
    <div class="modal-body">
        <p>Modal body. This stuff is getting removed for some reason</p>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn btn-cancel" data-dismiss="modal">Cancel!</a>
        <a href="#" class="btn btn-danger">Continue...</a>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T17:12:07.180

根据[插件代码](https://github.com/twitter/bootstrap/blob/v2.1.1/js/bootstrap-modal.js#L227)，如果您有一个`href`不包含 a 的集合，`#`它将假定该[`remote`选项](http://twitter.github.com/bootstrap/javascript.html#modals)已设置。

您可以通过像这样显式设置选项来覆盖此默认操作：

```
<a data-toggle="modal" href="/robots.txt" data-remote="false" class="btn btn-danger" data-target="#modal_confirm_delete" type="button">Delete</a> 
```

[工作演示（jsfiddle）](http://jsfiddle.net/7EXhs/3/) - 如果您想查看差异，请重新运行以使用每个按钮

我猜您只是没有在粘贴中包含完整的 url，如果没有，请检查用于激活模式或绑定任何事件的任何 JS。

# video-streaming - 渐进式下载和流式传输的视频编码有什么区别？

> ID：12741123
> 
> 赞同：8
> 
> 时间：2012-10-05T06:58:13.923
> 
> 标签：video-streaming, progressive-download

我想知道我们是否可以将相同的文件用于视频流和渐进式下载。它们的编码有什么区别吗？

例如，如果我有一个 .flv 文件，我可以将同一文件用于上述任何交付方法，而无需进行任何进一步的操作吗？

谁能推荐任何描述如何实现渐进式下载的教程或文章？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:15:39.840

Flash 视频非常适合流式下载和渐进式下载；它在视频帧之前有一个元数据标头（包含尺寸、长度等），因此使用渐进式下载它几乎可以立即播放而无需进行任何修改（与 h.264 不同，它需要在编码后移动标头）。

流式传输 Flash 视频通常需要Web 服务器上的[flv 流式传输模块。](http://tperspective.blogspot.sg/2009/02/apache-flv-streaming-done-right.html)这样的模块将寻找视频文件到最近的跳转位置，动态构建元数据块并继续服务器视频帧。

[使用mod_h264 for Apache](http://h264.code-shop.com/trac/wiki/Mod-H264-Streaming-Apache-Version2)也可以流式传输 h.264 视频，但不难找到对其他 Web 服务器的支持。

# php - 如何在php中初始化索引？

> ID：12741124
> 
> 赞同：0
> 
> 时间：2012-10-05T06:58:13.877
> 
> 标签：php, mysql

嗨，我正在修改我的一项练习的代码。修改后的代码确实运行，但我不断收到此错误：

`"Undefined index: category_id in C:\xampp\htdocs\ex_starts\ch04_ex1\add_category.php on line 5"`

您能否告诉我应该如何在以下代码中初始化 category_id 的索引？

谢谢！！

这是我的代码：

```
<?php  // Get the category data
  $category_id = $_POST['category_id'];
  $name = $_POST['name']; // Validate inputs
  if ( empty($name) ) {
  $error = "Invalid category data. Check all fields and try again.";
  include('error.php');
  } else {
   // If valid, add the product to the database
   require_once('database.php');
   $query = "INSERT INTO categories
                (categoryID, categoryName)
             VALUES
                ('$category_id', '$name')";
   $db->exec($query);
   // Display the Category List page
   include('category_list.php'); 
   }
   ?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:05:04.923

您的 POST 数据不包含类别 ID。

```
$category_id = $_POST['category_id']; 
```

这失败了，因为`$_POST['category_id']`没有设置。使用`isset(`) 进行检查：

```
$category_id = isset($_POST['category_id']) ? $_POST['category_id'] : false; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:09:17.187

您的 $_POST 数组似乎不包含索引“category_id”。$_POST 数组由表单变量填充，从之前的表单提交发送到 php 文件。因此，根据您想要执行的操作，`$category_id`如果未设置帖子索引，您可以使用默认值填充变量：

```
$category_id = (isset($_POST['category_id']) ? $_POST['category_id'] : 1; 
// replace 1 with your default category 
```

如果您不想使用 $_POST 数组，您可以选择使用 $_GET 范围。这是用 url 参数填充的。因此，如果您将您的网站称为 index.php?category_id=1 您可以简单地通过

```
$category_id = (isset($_GET['category_id']) ? $_GET['category_id'] : 1; 
// replace 1 with your default category 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T07:04:52.390

使用 $_POST 或 $_GET 从表单中检索变量时，您可能会遇到以下错误：

```
Notice: Undefined index 'fields of the table' in 'path of  php 
file being executes' on line 'current line' 
```

为避免此错误，只需测试表的字段是否已使用函数 isset() 进行了初始化。

```
// Before using $_POST['value']    
if (isset($_POST['value']))    
{    
          // Instructions if $_POST['value'] exist    
} 
```

根据服务器的配置通知此类错误。默认情况下不通知，因为它被认为是一个小错误，对应于常量 E_NOTICE。

您可以使用 error_reporting 函数更改报告的错误类型。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-05T07:05:57.437

你可以写这样的代码

```
if(isset($_POST['category_id']) &&  isset($_POST['name']))
{
       // write your code here
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T07:05:26.280

使用`isset`它不会像这样给你这个警告

```
<?php
if(isset($_POST['category_id']))
{
  $category_id = $_POST['category_id'];
  //your code
}
?> 
```

# shell - Shell 脚本输出奇数

> ID：12741125
> 
> 赞同：1
> 
> 时间：2012-10-05T06:58:22.750
> 
> 标签：shell, unix

我是 Shell 脚本编程的新手。我正在尝试制作一个仅输出奇数参数的程序。例如，“I am a robot”应该只给出“I a”。

我以为我可以使用 shift 命令以及 while 和 if 语句来遍历参数，但我不确定如何在 if 语句 ([]) 的方括号中传达除以 2 且余数为 1

```
#!/bin/sh
X=$1
shift
while [ $# -gt 0 ]; do
  if [ "HELP HERE" ]; then
     X=$1
     echo $X
  fi
  shift
 done
echo $X 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:00:47.340

换两次怎么样？

```
while [ $# -gt 0 ]; do
    X=$1
    echo $X
    shift
    shift
done 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T15:41:04.753

nneonneo 的想法一定比下面的要好，但我将提出一种方法来检查参数是否为奇数，以防万一。

```
#!/bin/sh
cnt=1
while [ $# -gt 0 ]; do
  X=$1

  # output the current argument when the counter is odd.
  if [ $(($cnt%2)) -eq 1 ]; then
    echo $X
  fi

  cnt=$(($cnt+1))
  shift
done 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T22:41:02.960

```
#!/bin/bash

declare -a ODD
declare -a EVEN
ODDIX=0
EVENIX=0

while [ $# -ne 0 ]; do
    if (( $#%2 == 1 ));then
        ODD[$ODDIX]=$1
        ODDIX=$((ODDIX+1))
    else        
        EVEN[$EVENIX]=$1
        EVENIX=$((EVENIX+1))
    fi
    shift
done

echo ODD: ${ODD[@]}
echo EVEN: ${EVEN[@]}* 
```

# ios - ios : 断言失败 UITableView 数据源未设置

> ID：12741127
> 
> 赞同：3
> 
> 时间：2012-10-05T06:58:38.333
> 
> 标签：ios, uitableview

为什么我会收到这样的错误？在我的应用程序中，我在表格视图中加载 webview。

```
*** Assertion failure in -[UITableView _createPreparedCellForGlobalRow:withIndexPath:], /SourceCache/UIKit_Sim/UIKit-1914.84/UITableView.m:6048
*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'UITableView dataSource is not set' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-11-21T04:21:50.300

这是一个老问题，我知道，但我在 iOS 11.0 和 Swift 4.0 中遇到了同样的问题。

我有一个`UITableViewController`，我已经将`tableView`这个作为一个添加`subview`到另一个视图中。每次我调试时`tableView`都`viewDidLoad`被正确调用并打印出正确的值。第二次运行时出现错误`cellForRowAt`。

我的解决方案是将整体添加`UITableViewController`到`addChildViewController`我希望`tableView`出现的父视图中。

*我知道这可能对今天的OP*没有帮助，但今天可能有人在为这样的问题而苦苦挣扎。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-04-03T11:43:27.453

在我的例子中，当我在 viewDidLoad 中设置它的 .date 属性时，它是一个 DatePicker 引发的错误。当我将代码移到 viewDidAppear 时，问题就消失了。

此错误仅发生在 iPhone 4s 中，不会发生在其他后续型号、iPhone 或 iPad 中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-02T13:53:36.917

我也遇到了这个问题。（花了几天的时间来识别它。）刚才，我已经解决了。我不确定是什么解决了这个问题，但我改变的是在 viewDidLoad 中填充我的所有视图（一些自定义配置），而不是 viewWillAppear。

不知何故，导致数据源问题。我只是想建议任何人：无论您在 viewWillAppear 中做什么，可能与 tableView 相关，请在 viewDidLoad 中尝试。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-06-13T14:58:40.937

我猜你`UITableView`的数据源没有设置:)

更有帮助的是，您是否检查过在您的 xib 中您已从 tableview 连接了 dataSource 属性？

# c# - 如何将地理坐标转换为像素？

> ID：12741128
> 
> 赞同：1
> 
> 时间：2012-10-05T06:58:38.273
> 
> 标签：c#, google-maps, geolocation, latitude-longitude

我正在开发 wpf 应用程序。我有一张 500 宽和 500 高的静态世界地图。我的申请中有一张表格。在此来自用户输入纬度和经度并提交详细信息。我想在我的静态地图上显示这些纬度和经度的确切位置。所以我试图将这些纬度和经度转换为像素。我正在使用椭圆在我的静态地图上显示圆圈。我应该如何将地理坐标转换为 C# 中的像素？您能否提供我可以解决上述问题的任何代码或链接？我的问题类似于链接

[在给定图片上将 long/lat 转换为像素 x/y](https://stackoverflow.com/questions/2651099/convert-long-lat-to-pixel-x-y-on-a-given-picure)

我发现这个链接很有用。

编辑：我已经使用了链接

[http://code.google.com/p/geographical-dot-net/source/browse/trunk/GeographicalDotNet/GeographicalDotNet/Projection/GoogleMapsAPIProjection.cs](http://code.google.com/p/geographical-dot-net/source/browse/trunk/GeographicalDotNet/GeographicalDotNet/Projection/GoogleMapsAPIProjection.cs)

并编写了以下代码

```
GoogleMapsAPIProjection googleApiProjObj = new GoogleMapsAPIProjection(0);
            float x = 18.29F;
            float y = 73.57F;
            System.Drawing.PointF p1 = new System.Drawing.PointF(x,y);
            System.Drawing.PointF p2 =googleApiProjObj.FromCoordinatesToPixel(p1);

            //CircleEllipse.Margin = new Thickness(longitudePixels,latitudePixels, 0, 0);
            CircleEllipse.Margin = new Thickness(p2.X, p2.Y, 0, 0);
            CircleEllipse.Visibility = Visibility.Visible; 
```

18.29 和 73.57 是印度浦那市的纬度和日志。在上面的代码中 p2.x 给了我 141 和 p2.y 给了我 49。所以上面的代码没有显示我在地图上的浦那位置。我的xml代码如下

```
<ScrollViewer HorizontalScrollBarVisibility="Auto" Grid.Row="4" Width="500" Height="500" Background="Gray">
            <Grid>
                <Image Margin="0,0,0,0" x:Name="MapImage" Source="Images\World-Blank-Map.png" Stretch="Fill" Width="500" Height="500" ></Image>
                <Ellipse Canvas.Top="50" 
      Canvas.Left="50" 
      Fill="Red" 
      Height="5"
      Width="5"
      Visibility="Collapsed"
      StrokeThickness="4"                     

      x:Name="CircleEllipse"
      HorizontalAlignment="Left"
      VerticalAlignment="Top"
      Margin="0,0,0,0" />
            </Grid>
        </ScrollViewer> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:40:03.423

您提供了自己的答案，请查看以下代码

[http://code.google.com/p/geographical-dot-net/source/browse/trunk/GeographicalDotNet/GeographicalDotNet/Projection/GoogleMapsAPIProjection.cs](http://code.google.com/p/geographical-dot-net/source/browse/trunk/GeographicalDotNet/GeographicalDotNet/Projection/GoogleMapsAPIProjection.cs)

```
public class GoogleMapsAPIProjection
{
    private readonly double PixelTileSize = 256d;
    private readonly double DegreesToRadiansRatio = 180d / Math.PI;
    private readonly double RadiansToDegreesRatio = Math.PI / 180d;
    private readonly PointF PixelGlobeCenter;
    private readonly double XPixelsToDegreesRatio;
    private readonly double YPixelsToRadiansRatio;

    public GoogleMapsAPIProjection(double zoomLevel)
    {
        var pixelGlobeSize = this.PixelTileSize * Math.Pow(2d, zoomLevel);
        this.XPixelsToDegreesRatio = pixelGlobeSize / 360d;
        this.YPixelsToRadiansRatio = pixelGlobeSize / (2d * Math.PI);
        var halfPixelGlobeSize = Convert.ToSingle(pixelGlobeSize / 2d);
        this.PixelGlobeCenter = new PointF(
            halfPixelGlobeSize, halfPixelGlobeSize);
    }

    public PointF FromCoordinatesToPixel(PointF coordinates)
    {
        var x = Math.Round(this.PixelGlobeCenter.X
            + (coordinates.X * this.XPixelsToDegreesRatio));
        var f = Math.Min(
            Math.Max(
                 Math.Sin(coordinates.Y * RadiansToDegreesRatio),
                -0.9999d),
            0.9999d);
        var y = Math.Round(this.PixelGlobeCenter.Y + .5d * 
            Math.Log((1d + f) / (1d - f)) * -this.YPixelsToRadiansRatio);
        return new PointF(Convert.ToSingle(x), Convert.ToSingle(y));
    }

    public PointF FromPixelToCoordinates(PointF pixel)
    {
        var longitude = (pixel.X - this.PixelGlobeCenter.X) /
            this.XPixelsToDegreesRatio;
        var latitude = (2 * Math.Atan(Math.Exp(
            (pixel.Y - this.PixelGlobeCenter.Y) / -this.YPixelsToRadiansRatio))
            - Math.PI / 2) * DegreesToRadiansRatio;
        return new PointF(
            Convert.ToSingle(latitude),
            Convert.ToSingle(longitude));
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-01T11:14:35.687

我为谷歌地图发布了我的 api Mercator Projection。;-) 你有三个班级：

*   常数
*   PointCoordinates：纬度和经度。
*   PointPixel：谷歌地图级别 0 的 x,y。

    您可以将 PointPixel 从/转换为 PointCoordinates

{

```
public static class PointUtils
{
    public const double MercatorGoogleHeight = 256;
    public const double MercatorGoogleWidth = 256;
    public const double PixelLongintudeOrigin = MercatorGoogleWidth / 2;
    public const double PixelLatitudeOrigin = MercatorGoogleHeight / 2;
    public const double PixelsPerLongintudeDegre = MercatorGoogleWidth / 360;
    public const double RadsPerLatitudeDegre = MercatorGoogleHeight / (2 * Math.PI);
}

/// <summary>
/// Point Pixel on Mercator Google Zoom 0
/// </summary>
public class PointPixel
{
    public double X { get; set; }
    public double Y { get; set; }

    public PointCoordinates ToPointCoordinates()
    {
        var lng = (X - PointUtils.PixelLongintudeOrigin) / PointUtils.PixelsPerLongintudeDegre;
        var latRad = (Y - PointUtils.PixelLatitudeOrigin)/-PointUtils.RadsPerLatitudeDegre;
        var lat = (2*Math.Atan(Math.Exp(latRad)) - Math.PI/2).RadToDeg();
        return new PointCoordinates()
            {
                Latitude = lat,
                Longitude = lng
            };
    }

}

/// <summary>
/// Point on Map World
/// </summary>
public class PointCoordinates
{

    public double Latitude { get; set; }
    public double Longitude { get; set; }

    public PointPixel ToPointPixel()
    {
        var x = PointUtils.PixelLongintudeOrigin + PointUtils.PixelsPerLongintudeDegre * Longitude;
        var siny = Math.Sin(Latitude.DegToRad());
        var y = PointUtils.PixelLatitudeOrigin - (Math.Log((1 + siny) / (1 - siny)) / 2) * PointUtils.RadsPerLatitudeDegre;
        return new PointPixel() { X = x, Y = y };

    }

} 
```

# android - android中来电屏幕顶部的自定义屏幕

> ID：12741130
> 
> 赞同：0
> 
> 时间：2012-10-05T06:58:39.867
> 
> 标签：android

我正在尝试在来电者屏幕顶部启动我的自定义屏幕，该屏幕可能包含来电者的全屏图像和一些用于接受或拒绝来电等操作的按钮。使用此代码，我可以在几乎所有其他应用程序之上启动我的应用程序，但不能在调用者屏幕上启动我的应用程序有什么问题。

```
 Intent mainActivity=new Intent(this,
         PhoneCallActivity.class);
         mainActivity.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP|Intent.FLAG_ACTIVITY_CLEAR_TOP);
         startActivity(mainActivity);
         android.os.Process.setThreadPriority(android.os.Process.THREAD_PRIORITY_URGENT_DISPLAY); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-25T12:56:27.423

问题可能是呼叫屏幕覆盖了您的活动。您需要覆盖呼叫屏幕。

您可以通过在开始活动之前设置延迟来覆盖呼叫屏幕。延迟大约为 500 毫秒，并且可以更小或更大。您需要对其进行测试并检查您获得所需结果的延迟时间。

# c# - sqlite 数据库被锁定异常

> ID：12741135
> 
> 赞同：1
> 
> 时间：2012-10-05T06:59:29.853
> 
> 标签：c#, sqlite

我正在使用 c# 应用程序并在服务器机器中将应用程序作为 Windows 服务运行。当我从客户端机器执行插入、更新删除操作时，它会引发数据库锁定错误，如下所示，

```
database is locked
   at System.Data.SQLite.SQLite3.Step(SQLiteStatement stmt)
   at System.Data.SQLite.SQLiteDataReader.NextResult()
   at System.Data.SQLite.SQLiteDataReader..ctor(SQLiteCommand cmd, CommandBehavior behave)
   at System.Data.SQLite.SQLiteCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SQLite.SQLiteCommand.ExecuteNonQuery()
   at System.Data.SQLite.SQLiteTransaction.Commit() 
```

下面是我的代码

```
public int ExecuteNonQuerySQL(SQLiteCommand cmd)
   {
        int ireturn = 0;
         if (conn.State != ConnectionState.Open)
               Open(DataFile);
          using (SQLiteTransaction dbtrans = conn.BeginTransaction(IsolationLevel.ReadCommitted))
            {
                  using (cmd.Connection=conn)
                    {
                         cmd.CommandText =cmd.CommandText ;
                          cmd.Transaction = dbtrans;
                           ireturn = cmd.ExecuteNonQuery();
                           dbtrans.Commit();
                           cmd.Dispose();
                        }
                   }
               } 
```

请帮助我，我已经做了很多谷歌搜索，我必须找到一些解决方案来解决这个问题。问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:05:58.170

从提供的代码*看来*，您没有关闭连接。

还要注意事实，不知道它是否与您的情况相关，如果您从多个线程对其进行操作，那么`Sqlite`支持并发性和有时 db 的锁定效果不是很好。`inserts`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-13T12:05:29.927

将创建 Connection 和 Command 对象的方式更改为更像这样：[https ://stackoverflow.com/a/17592858/8479](https://stackoverflow.com/a/17592858/8479)

确保您没有在与创建它的线程不同的线程上重新使用任何 Sqlite 对象。

只要您遵循这两个规则，Sqlite 通常在并发方面表现出色。

# c++ - 将函数的返回值分配给引用 c++？

> ID：12741147
> 
> 赞同：17
> 
> 时间：2012-10-05T07:00:07.343
> 
> 标签：c++, reference, return

这是一个两部分的问题。可以将函数的返回值分配给引用吗？如

```
Foo FuncBar()
{
    return Foo();
}

// some where else
Foo &myFoo = FuncBar(); 
```

这个可以吗？我的理解是`FuncBar()`返回一个 Foo 对象，现在`myFoo`是对它的引用。

问题的第二部分。这是优化吗？因此，如果您经常循环执行此操作，则最好这样做

```
Foo &myFoo = FuncBar(); 
```

或者

```
Foo myFoo = FuncBar(); 
```

并考虑到变量的使用，使用 ref 是否需要较慢的取消引用？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-10-05T07:05:39.597

```
Foo &myFoo = FuncBar(); 
```

不会编译。它应该是：

```
const Foo &myFoo = FuncBar(); 
```

因为`FuncBar()`返回一个临时对象（即右值）并且只有左值可以绑定到对非常量的引用。

> **安全吗？**

是的，它是安全的。

C++ 标准规定，将临时对象绑定到对 const 的引用会将临时对象的生命周期延长到引用本身的生命周期，从而避免常见的悬空引用错误。

* * *

```
Foo myFoo = FuncBar(); 
```

是**复制初始化**。
它创建由返回的对象的副本，`FuncBar()`然后使用该副本来初始化`myFoo`。`myFoo`是语句执行后的单独对象。

```
const Foo &myFoo = FuncBar(); 
```

将由返回的临时对象绑定`FuncBar()`到引用`myFoo`，注意这`myFoo`只是返回的临时对象的别名，而不是单独的对象。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T07:05:38.940

您不是在“分配”参考，而是*绑定*到参考。

这仅在类型为`const`且上下文为临时自动延长生命周期的情况下才适用。

通常，当`Foo`不是一种`const`类型时，您的示例应该无法编译。不幸的是，由于该编译器实现了语言扩展，它们可能使用一种通用编译器进行编译。使用至少两个编译器尝试示例（以及普通代码！）是个好主意。

* * *

*编辑：作为发布问题之前* 调查工作的一个示例，您应该使用至少两个编译器编译以下（或非常相似的）具有最高警告级别的编译器，有和没有`CONST`定义。

```
struct Bar {};

#ifdef CONST
    typedef Bar const Foo;
#else
    typedef Bar Foo;
#endif

Foo FuncBar()
{
    return Foo();
}

int main()
{
    // som where else
    Foo &myFoo = FuncBar();
} 
```

如果您还没有这样做，那么现在就这样做是个好主意。

# database - 键值数据库如何工作？

> ID：12741151
> 
> 赞同：3
> 
> 时间：2012-10-05T07:00:12.613
> 
> 标签：database, algorithm, data-structures, nosql, key-value

有谁知道解释这种类型的数据库如何在内部工作的任何好的文章、书籍或教程？我对算法、数据结构感兴趣。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:06:27.750

[Redis](http://redis.io/)就是这样的数据库之一。在这里查看redis作者的精彩回答：

[Redis 使用的底层数据结构是什么？](https://stackoverflow.com/questions/9625246/what-are-the-underlying-data-structures-used-for-redis)

# java - 将 jsp 属性中的值赋给 java 变量

> ID：12741152
> 
> 赞同：0
> 
> 时间：2012-10-05T07:00:13.657
> 
> 标签：java, jsp

> **可能重复：**
> [如何将 <s:property value=“a”> 值分配给 jsp 变量](https://stackoverflow.com/questions/5440809/how-to-assign-sproperty-value-a-value-to-a-jsp-variable)

我试图将 jsp 属性中的值分配给 java 变量，但它似乎对我不起作用......

这是错误： `An error occurred at line: 14 in the jsp file: /WEB-INF/ fivepluscms/client/CMSGallery.jsp Syntax error on token "=", ; expected.`

这是代码：

```
<s:set var="data"></s:set>
<% int nume =%><s:property value="#data"/><%;%> 
```

我提到我在这个变量的动作类中有 getter 和 setter。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:53:32.737

`<s:set name="nume" value="data" />`将调用`getData()`您的操作类并将返回值分配给`nume`变量。

# objective-c - UINavigationController - 推送时保持导航栏不变

> ID：12741154
> 
> 赞同：1
> 
> 时间：2012-10-05T07:00:22.237
> 
> 标签：objective-c, ios, uinavigationcontroller, uinavigationbar

我`titleView`在我的`navigationBar`. 当我推送一个新的时`viewController`，我将该图形保留在`titleView`推送的控制器中。

我讨厌的滑动效果`navigationBar`。有没有办法防止过渡影响，`navigationBar`以便我的`titleView`图像在新视图被推送时不会出现在新版本中滑动的外观？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T12:52:13.760

如果在推送应该阻止动画的新视图控制器时将动画状态更改为 NO。

```
[self.navigationcontroller pushVewController:newVC animated:NO]; 
```

编辑：创建了位于导航控制器内部的自定义视图，但您需要创建自己的自定义图像来替换导航栏图像的功能。然而，这对我来说并没有转变，我认为这是理想的结果。

```
- (void)viewDidLayoutSubviews{
    self.navigationItem.backBarButtonItem = nil;
    [self.navigationController.navigationBar.backItem setHidesBackButton:YES];
    self.navigationController.navigationBar.topItem.titleView = nil;
    UIView *staticTitle = [[UIView alloc]initWithFrame:self.navigationController.navigationBar.bounds];
    [staticTitle setBackgroundColor:[UIColor greenColor]];
    [staticTitle setUserInteractionEnabled:NO];
    [self.navigationController.navigationBar addSubview:staticTitle];
    UIButton *customButton = [[UIButton alloc] initWithFrame:CGRectMake(15, 15, 100, 60)];
    [customButton setBackgroundColor:[UIColor redColor]];
    [customButton addTarget:self action:@selector(handleBackBtn) forControlEvents:UIControlEventTouchUpInside]; 
    [customButton setTitle:@"Button" forState:UIControlStateNormal];
    [staticTitle addSubview:customButton];
} 
```

# php - 计算行插入时间差

> ID：12741155
> 
> 赞同：-1
> 
> 时间：2012-10-05T07:00:22.197
> 
> 标签：php, mysql, timestamp

例如，如果我在 mysql 表中有 id 和时间戳。它包含几条记录。如何在php中查找并存储每一行​​插入时间差，即比较第2行与第1行的插入时间并存储结果，将第3行与第2行比较并存储结果......。

我有消息名称的表格，字段是

```
id int(11), 
timestamp int(11),
body_xml text, 
chatname text 
```

此表包含聊天信息，我需要找到总聊天时间和编号。使用 id 的特定用户可用的对话。所以我想找到每一行的时间差，如果时间差超过 10 分钟，它认为是新的对话。

我的任务是找到关于特定用户的总聊天时间，而不是。Skype 中该用户可用的对话。

现在我将所有聊天信息存储到 mysql 表中。

```
-------------------------------------------------- -----------------------------------------
id 时间戳消息名称
-------------------------------------------------- -----------------------------------------
1 2012-10-11 11:18:34 喜公羊
2 2012-10-11 11:19:14 hw ru ram
3 2012-10-11 11:20:55 细公羊
4 2012-10-11 11:55:03 有 ram
5 2012-10-11 11:56:21 是的 内存
6 2012-10-11 11:57:33 然后 ram

```

上表中 id 1 到 3 的时差小于 10 分钟，而 id 4 与 id 3 的时差超过 10 分钟，所以这里会认为是新会话，将 id 1 到 3 的总时间存储到 varable 中将 4 到 6 的总时间更新为同一个变量，这里的总对话是 2。

我需要输出为总会话数 2 总时间为 xx:xx

**我试过这段代码**

```
SELECT A.id, A.timestamp, (B.timestamp - A.timestamp) 作为时差
FROM time_diff A CROSS JOIN time_diff B WHERE B.id IN (SELECT MIN (C.id) FROM time_diff C WHERE C.id > A.timestamp)
由 A.id ASC 订购
```

**我得到空结果**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T08:07:02.547

好的，步骤如下：

1.  google `ALTER TABLE`mysql，如果你必须为时差添加一行
2.  google about joins，或者这个**[链接](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)**很不错。为什么？您想根据`id`列将您的表与自身连接，但`id+1`在一侧。如果 id 不是一个直接的序列，你可以这样做：`select r1.* , (select max(`timestamp`) from yourTable r2 where r1.id > r2.id) from yourTable r1`
3.  阅读**[timestampdiff() 函数](http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_timestampdiff)**
4.  当你理解了第 2 步和第 3 步后，创建一个 SQL`SELECT`语句，看看它是否能得到你想要的。
5.  当您想要第 4 步时，您可以将此`SELECT`语句转换为`UPDATE`语句。
6.  其余的计算最好在 PHP 中完成。
7.  当仍有问题时回来，我们很乐意为您提供帮助（如果您表现出一些努力:)）

祝你好运。

# windows - IIS7的Windows账号连接DB

> ID：12741158
> 
> 赞同：0
> 
> 时间：2012-10-05T07:00:42.210
> 
> 标签：windows, wcf, authentication, iis-7, hosting

我有客户端、WCF 服务（托管在 Windows 服务中）和对象数据库。为了连接 Object DB，我们有一个由 DB 团队提供的 API。此 API 读取发布在 Windows 托管登录帐户中的 Windows 帐户。

有什么方法可以将相同的 Windows 帐户提供给 IIS 7.0，以便能够连接到我们基于对象的数据库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:08:43.267

在 IIS 管理器中，您应该找到运行应用程序的应用程序池。然后在高级设置对话框中，您可以将进程模型 - 标识设置为自定义用户帐户。

[这](http://www.iis.net/learn/manage/configuring-security/application-pool-identities)是您必须执行的操作的详细说明。

# c# - 数据网格视图值更改

> ID：12741160
> 
> 赞同：0
> 
> 时间：2012-10-05T07:00:45.060
> 
> 标签：c#, gridview, datagridview

如何检查数据网格视图值是否已在 c 中以编程方式更改？我想在数据网格的某些更改上显示桌面警报

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T09:26:26.303

像这样检查表单`RowState`： `DataTable``DataGridView`

```
DataTable dt = (DataTable)dataGridView1.DataSource;
DataTable modifiedRows = dt.GetChanges( DataRowState.Modified);
DataTable addedRows = dt.GetChanges(DataRowState.Added);
DataTable deletedRows = dt.GetChanges(DataRowState.Deleted); 
```

# android - 为 Android 编写 USB 驱动程序

> ID：12741162
> 
> 赞同：6
> 
> 时间：2012-10-05T07:00:55.353
> 
> 标签：android, usb, driver

我正在开发一个需要连接到 USB 设备的 android 应用程序。

我在 Windows 上开发了一个类似的应用程序，并且我有用 c 编写的驱动程序。

我想为我的 android 应用程序开发一个 USB 驱动程序。我想知道为android开发USB驱动程序需要什么。

或者

我可以使用ndk重用用c编写的代码吗？

谢谢，

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-05T07:34:49.253

首先，Android 实际上就是 Linux，所以如果你在谈论“为我的 Android 应用程序编写一个 USB 驱动程序”，你应该说“为你的特定设备编写一个 linux USB 驱动程序”。

接下来，您将不得不以某种方式访问​​您的设备。当你为 linux 编写了 USB 驱动程序后，你将得到的可能是 /dev/ 中的某个文件节点。我猜你想为 Android 不提供好的 JAVA api 的非标准 USB 设备（如鼠标/操纵杆/大容量存储器）创建驱动程序？在这种情况下，您将不得不编写一个本机库（可能基于您已经拥有的 c 代码）并使用 NDK 编译它。您从中获得的 .so 文件可以打包在您的 Android 应用程序中，然后可以使用它与您的 USB 设备通信。

所以总结一下：

usb 设备驱动程序 -> 创建内核模块或将驱动程序嵌入到您的 linux 内核中：这是 linux usb 驱动程序编程的东西，您应该能够在网上找到足够的指南。如果您真的创建了 Windows USB 驱动程序，您应该能够重用部分 c 代码。

本机包装库来访问您的设备（.so 文件，如果您习惯于 Windows 术语，则为 .dll）-> 创建一个 NDK 项目，该项目打开正确的设备节点并正确读取/写入您的设备。

android app -> 包含 .so 文件并通过 jni 访问其本机 (c) 方法。您可以使用 javah 或 swig 等工具从库的头文件中生成 jni 代码。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-07T23:48:48.763

上一个答案假定您对设备具有 root 访问权限，并且不适合大规模部署。自 api 版本 12 以来，android 提供了一个 USB 接口，允许您使用低级控制通道和 USB 请求缓冲区与某些设备进行交互。

有两种类型的设备支持 usb 主机设备 usb (android) 附件设备

主机模式通常仅在平板电脑上得到很好的支持，手机可以并且确实支持它，但它们维持主机模式的能力很少而且非常依赖于相关设备的电压需求

附件模式很奇怪，因为它扩展了 USB 标准以添加额外的交换，将附件标识为“android”附件

如果上述模式对您可用，那么它们是迄今为止使用低级 c 驱动程序的更好选择，除非您完全控制它将安装到的所有设备。

这些都是 java api，可以在 google android 文档站点的 usb 下找到文档。

# java - Need help for jackRabbit helloworld example

> ID：12741165
> 
> 赞同：0
> 
> 时间：2012-10-05T07:01:08.230
> 
> 标签：java, jackrabbit

i am new to JackRabbit and i am trying to run FirstHop.java but iam getting following error.

code

```
import javax.jcr.Repository; 
import javax.jcr.Session; 
import org.apache.jackrabbit.core.TransientRepository; 

public class FirstHop { 

    public static void main(String[] args) throws Exception 
    {

        Repository repository = (Repository) new TransientRepository(); 
        Session session = repository.login(); 
        try 
        { 
            String user = session.getUserID(); 
            String name = repository.getDescriptor(Repository.REP_NAME_DESC); 
            System.out.println( 
            "Logged in as " + user + " to a " + name + " repository."); 
        } 
        finally 
        { 
            session.logout(); 
        } 
    } 
} 

log4j:WARN No appenders could be found for logger (org.apache.jackrabbit.core.TransientRepository).
log4j:WARN Please initialize the log4j system properly.
Exception in thread "main" java.lang.NoSuchMethodError: org.apache.jackrabbit.spi.Path.resolve(Lorg/apache/jackrabbit/spi/Path$Element;)Lorg/apache/jackrabbit/spi/Path;
    at org.apache.jackrabbit.core.version.InternalVersionManagerImpl.<clinit>(InternalVersionManagerImpl.java:86)
    at org.apache.jackrabbit.core.RepositoryImpl.createVersionManager(RepositoryImpl.java:492)
    at org.apache.jackrabbit.core.RepositoryImpl.<init>(RepositoryImpl.java:311)
    at org.apache.jackrabbit.core.RepositoryImpl.create(RepositoryImpl.java:589)
    at org.apache.jackrabbit.core.TransientRepository$2.getRepository(TransientRepository.java:232)
    at org.apache.jackrabbit.core.TransientRepository.startRepository(TransientRepository.java:280)
    at org.apache.jackrabbit.core.TransientRepository.login(TransientRepository.java:376)
    at org.apache.jackrabbit.commons.AbstractRepository.login(AbstractRepository.java:111)
    at com.ksh.FirstHop.main(FirstHop.java:23) 
```

i am using following jars.

1.  commons-dbcp-1.2.jar
2.  commons-pool-1.5.jar
3.  jackrabbit-api-2.3.5.jar
4.  jackrabbit-core-2.4.2.jar
5.  jackrabbit-jcr-commons-2.3.5.jar
6.  jackrabbit-spi-2.1.3-.jar
7.  jackrabbit-spi-2.3.5.jar
8.  jackrabbit-spi-commons-2.3.5.jar
9.  jackrabbit-standalone-1.5.0.jar 10.jcr-2.0.jar 11.org.apache.sling.jcr.jackrabbit.api-2.0.2-incubator.jar

Thanks.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T12:53:13.183

为此，您只需要 Jackrabbit-Standalone jar。由于多个 jar 中存在相同的类定义，因此会发生多次冲突。此外，在使用 Jackrabbit 时，版本不匹配是不可取的，因为许多功能已从 1.5 更改为 2.4。

我只用 jackrabbit-Standalone jar 运行相同的程序。

# javascript - 不同时区不同设备上的 Unix 时间

> ID：12741171
> 
> 赞同：2
> 
> 时间：2012-10-05T07:01:27.250
> 
> 标签：javascript, timezone, unix-timestamp

假设我有一个执行此操作的 PHP 脚本：

```
$timeNow = 1349852400000; // Unix time for Oct 10, 2012 00:00:00 PDT
echo "<script type='text/javascript'>";
echo     "setTimeout(function(){alert('time out!');}, $timeNow - Date.now());";
echo "</script>"; 
```

如果将此脚本提供给日期/时间设置为 2013 年的设备会怎样。会发生什么？如果将其提供给日期/时间设置为 2010 年的设备怎么办？

服务器时钟设置的时间和日期是否重要？这对 2013 年的设备有何影响？那个卡在2010年的呢？

如果我想为此选择一个值`$timeNow`，则将在 2012 年 10 月 10 日 00:00:00 同步到加利福尼亚州旧金山（即设置为太平洋时间的设备和设置为中央时间应该在同一时刻显示警报，即使中央时间设备是凌晨 2:00:00），我可以这样做吗？我不是必须为 Pacific 设备提供一个值，而为 Central 设备提供一个不同的值来说明与 UTC 的时区差异吗？

抱歉，时区对我来说真的很混乱。我很难绕过他们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:15:13.553

如果为此使用 Unix 时间，则无需担心（下面有一个例外）。无论时区如何，听起来您都希望警报在完全相同的时刻在世界各地弹出。

Unix 时间 0 是

*   1970 年 1 月 1 日午夜，祖鲁时间
*   旧金山时间 1969 年 12 月 31 日下午 4 点

因此，如果您安排在时间 0 发出警报，旧金山和伦敦的人们会同时看到警报。任何 Unix 时间也是如此，这实际上只是一个描述时间瞬间的数字。世界各地的同一瞬间。所以以下两个日期时间字符串

*   1970-01-01T00:00:00Z
*   1969-12-31T16:00:00-0800

是同一时刻的表示，用 Unix 时间 0 表示。

同样，世界上的每个人都在完全相同的时刻看到时间 1349852400000，无论他们的时区如何。因此，由于您的代码试图在 Unix 时间描述的给定时刻发出警报，因此您的代码原则上应该可以工作，**前提是运行脚本的计算机设置为正确的 time**。

我想如果您真的想让一堆计算机同时发出警报（您是在编写病毒吗？开玩笑）并且您想处理设备可能设置不正确的时钟的情况，您可以让它们制作调用中央时间服务器并根据它设置超时。然后您可能必须处理跨站点问题，但原则上，如果所有机器都同意与中央时间服务器通信并接受来自中央时间服务器的数据，您可以这样做。

**附录**

这是可能的工作方式。假设您的脚本在一堆机器上运行。他们的时钟都设置错了。也许他们故意把时钟弄错了；也许他们不小心把时钟弄错了。但你希望他们都同时发出警报。

因此，您的脚本应该做的是：对您的服务器进行 (Ajax) 调用——与交付嵌入脚本的 HTML 页面相同的服务器，以简化跨站点问题。此调用与您的服务器对话，该服务器知道实时时间。现在您还知道从现在到警报时间的时间。**因此，在您的服务器上**减去这两个值并将该数字返回给客户端。然后客户做

```
setTimeout(theAlertFunction, theValueReturnedFromTheAjaxCall) 
```

你很高兴。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:10:12.850

如果用户的系统设置为错误的日期，则您无能为力，如果您忽略这种情况，您可以在任何系统中获得服务器时间戳的正确时间。

您可以在任何时区与 UTC 进行时间偏移并将其添加到您的时间戳 Bingo 中！

```
 var d = new Date(); 
    var yourCorrectDate = new Date(timeNow +(d.getTimezoneOffset() * 60000)); 
// timenow is the time your server has sent 
```

分分钟给你抵消

```
d.getTimezoneOffset() 
```

# php - PHP：变量/值仅在循环内部可用 - 在外部使用它？

> ID：12741179
> 
> 赞同：0
> 
> 时间：2012-10-05T07:02:06.793
> 
> 标签：php, wordpress, loops, while-loop

*我已经问过这个问题，`wordpress.stackexchange.com`但他们告诉我这是一个普通的 PHP 问题，可能与 wordpress 无关。*

我写的函数有一个相当大的问题……</p>

该函数列出了所有`posts`“`custom-post-type`事件”。

```
function get_event_list( $latest = true, $order = 'ASC' ) {
    echo '<ul class="event-items">';

    $yesterday = time() - 24*60*60;
    $compare = $latest ? '>' : '<';
    $current_year = '';

    $args = array(
        'post_type' => 'wr_event',
        'posts_per_page' => -1, // show all posts
        'meta_key' => 'event_date',
        'orderby' => 'meta_value_num',
        'order' => $order,
        'meta_value' => $yesterday,
        'meta_compare' => $compare
    );

    $loop = new WP_Query( $args );
    while ( $loop->have_posts() ) : $loop->the_post();
        global $post;
        $this_year = get_post_meta( $post->ID, 'event_date', true );
        $this_year = date('Y', $this_year);

        if ( !$latest && ( $this_year != $current_year ) ) :
            // new year, output the year header
            // and reset current year to this new value
            echo '<li class="wrapper year"><h2>' . $this_year . '</h2></li>';
            $current_year = $this_year;
        endif;

        get_template_part( 'inc/event', 'item' ); // creates the actual li-item
    endwhile;
    wp_reset_postdata();
    echo '</ul>';
} 
```

如您所见，我将“事件日期”与当前年份进行了比较，因此我可以将列表拆分为不同年份。我遇到的**问题**是`get_post_meta( $post->ID, 'event_date', true );`这仅在`while`循环内可用。

目前上面的函数输出这个……</p>

```
<ul class="event-items">
   <li class="year">2012</li>
   <li>Event 05</li>
   <li>Event 04</li>
   <li>Event 03</li>
   <li>Event 02</li>
   <li>Event 01</li>
   <li class="year">2011</li>
   <li>Event 03</li>
   <li>Event 02</li>
   <li>Event 01</li>
   <li class="year">2010</li>
   <li>Event 04</li>
   <li>Event 03</li>
   <li>Event 02</li>
   <li>Event 01</li>
</ul> 
```

然而，这种结构使用起来相当复杂，并且在语义上并不是真正正确和有用的。

我想把**每一年**都包装成一个新的`<ul>`.

知道怎么做吗？“ `post_meta`event_date”仅在循环内可用。如何将“event_date”与当前年份进行比较并将查询结果包装成新的`ul`

就这样……</p>

```
<ul class="event-items">
    <li class="year"><div>2012</div>
        <ul>
            <li>Event 05</li>
            <li>Event 04</li>
            <li>Event 03</li>
            <li>Event 02</li>
            <li>Event 01</li>
        </ul>
    </li>
    …
</ul> 
```

也许有些人知道一个好的和合乎逻辑的解决方案。也许我需要使用[`get_posts()`](http://codex.wordpress.org/Template_Tags/get_posts)而不是，`new WP_Query`但是我在 PHP 中不是那么好，并且不知道如何处理这个问题。

请，如果有人有任何想法，请告诉我！先感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:08:50.197

试试这个

```
while ( $loop->have_posts() ) : $loop->the_post();
  global $post;
  $this_year = get_post_meta( $post->ID, 'event_date', true );
  $this_year = date('Y', $this_year);

  if ( !$latest && ( $this_year != $current_year ) ) :
    // new year, output the year header
    // and reset current year to this new value
    if ($current_year != '') echo '</ul></li>';
    echo '<li class="wrapper year"><div>' . $this_year . '</div><ul>';
    $current_year = $this_year;
  endif;
  echo '<li>';
  get_template_part( 'inc/event', 'item' ); // creates the actual li-item
  echo '</li>';
endwhile;
if ($current_year != '') echo '</ul></li>'; 
```

# c++ - How to call a class and its function present in so file from a C++ program in Linux

> ID：12741181
> 
> 赞同：3
> 
> 时间：2012-10-05T07:02:10.977
> 
> 标签：c++, linux, dynamic-linking, shared-objects, dynamic-library

> **Possible Duplicate:**
> [C++ Dynamic Shared Library on Linux](https://stackoverflow.com/questions/496664/c-dynamic-shared-library-on-linux)

I am writing a shared object say libtest.so which has a class and a function. I have another program say "Program.cpp" from which i want to call the class and its function present in the libtest.so file. I am clueless as to how to proceed. Please help.

Thanks Regards Mahesh

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:42:54.720

动态地，需要调用`dlsym`获取函数的地址，然后通过指针调用。这个语法有点棘手，因为`dlsym`返回 a ，并且在和指向函数的指针`void*`之间没有转换。`void*`（一些编译器确实允许它，虽然在形式上，在 C++11 之前，它需要诊断，就像 C 标准一样。）Posix 标准中推荐的解决方案是：

```
int (*fptr)( int );
*(void**)(&fptr) = dlsym( handle, "function_name" ); 
```

这假设指向函数的指针与指向数据的指针具有相同的大小和格式——C 或 C++ 标准不保证，但 Posix 保证。

# android - how to backup and restore data of an applications database?

> ID：12741185
> 
> 赞同：-2
> 
> 时间：2012-10-05T07:02:31.167
> 
> 标签：android, sqlite

I'm developing an application which will do the backup of Application's database to the Google servers and restore the data after reinstalling the application.

I didn't find any reference to do this task. I also tried the application given in Android SDK, which is working only with the Shell commands, but not by running the application.

Could anybody is having an idea how to do the backup and restore of the Application's database data?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T09:40:13.443

Android 有一个“备份数据”服务，可以在这种特殊情况下为您提供帮助。[您可以在此处](http://developer.android.com/guide/topics/data/backup.html)找到文档。我认为它可以解决你的问题，但我没有使用它，所以我无法描述这个过程。

您在 StackOverflow 中还有一个关于备份/恢复 SQLite 内部数据库的好问题。看看这个[链接](https://stackoverflow.com/questions/5282936/android-backup-restore-how-to-backup-an-internal-database)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:19:00.483

SQLite 的备份 API 仅适用于备份是可以直接访问的另一个文件的情况（例如，如果您想在 SD 卡上创建备份），因此当备份“进入云端”时无法使用它。

确保没有活动事务，然后像备份任何其他文件一样备份数据库文件。

# c# - 更新 System.Data.SQLite.dll 后 SQLite URI 无效

> ID：12741186
> 
> 赞同：3
> 
> 时间：2012-10-05T07:02:33.470
> 
> 标签：c#, sqlite, system.data.sqlite

我首先有这个 SQLite 版本：1.0.77.0 (sqlite-netFx40-static-binary-bundle-Win32-2010-1.0.77.0)，一切正常。将我的 System.Data.SQLite.dll 更新到版本 1.0.82.0 (sqlite-netFx40-static-binary-bundle-Win32-2010-1.0.82.0) 后，我现在收到以下信息：

无法打开数据库。连接字符串：'datetimeformat=ISO8601;synchronous=Off;uri="file://C:/Users/username/Documents/data/test.db";version=3;journal mode=Truncate;defaultisolationlevel=ReadCommitted;pooling =真'; 错误：'System.InvalidOperationException：无效的连接字符串：无效的 URI

我也试过 file:/// 而不是 file:// 没有任何运气。

谁能告诉我我的 URI 有什么问题，为什么它在 v1.0.82.0 中不再起作用但在 v1.0.77.0 中起作用？

[http://system.data.sqlite.org/index.html/doc/trunk/www/downloads.wiki](http://system.data.sqlite.org/index.html/doc/trunk/www/downloads.wiki) (1.0.82.0 == 3.7.14)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T08:51:05.137

获得正确连接字符串的最佳方法是始终使用`SQLiteConnectionStringBuilder`类来生成它们。

```
SQLiteConnectionStringBuilder conn_builder = new SQLiteConnectionStringBuilder 
{ 
   DateTimeFormat = SQLiteDateFormats.ISO8601,
   SyncMode = SynchronizationModes.Off,
   Version = 3,
   JournalMode = SQLiteJournalModeEnum.Truncate,
   DefaultIsolationLevel = System.Data.IsolationLevel.ReadCommitted,
   Pooling = true,
   Uri = new Uri(@"c:\tmp\db.sqlite").AbsoluteUri
 };
 string conn_str = conn_builder.ConnectionString; 
```

如果`Uri`不起作用，请尝试设置`DataSource`（如果您使用的是本地文件）。

快速检查显示`DataSource`之前`Uri`在[SQLiteConnection.cs](http://system.data.sqlite.org/index.html/artifact/35f31d13fceb4e2e7172a9fae32bca99cfd044bb)中评估并优先于它，因此如果`Uri`处理中存在错误，使用 DataSource 可能有助于绕过它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-10-14T20:59:32.883

根据从版本 1.0.82.0 开始的文档，它已更改[：](https://system.data.sqlite.org/index.html/doc/trunk/www/news.wiki)

> 通过新的 FullUri 连接字符串属性添加对 URI 文件名的支持。

例子：

```
var connection = new SQLiteConnection("FullUri=file:mydb.sqlite?cache=shared"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-10-30T04:54:55.863

以下对我有用，对于以下示例，您不能不使用数据源

```
FullUri=file::memory:?cache=shared 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:21:04.907

我认为您应该尝试将连接字符串简化为基础，然后添加选项。

看看这个站点，例如 SQLite 连接字符串选项。

[http://www.connectionstrings.com/sqlite](http://www.connectionstrings.com/sqlite)

3 /// 仅在您尝试转义 uri 中的空格时才有效，我还要说您应该尝试将 db 从用户文件夹移到 c:\ 上的根目录，以防访问权限为它无法访问数据库，这也意味着您可以尝试更简单的连接字符串。

祝你好运

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T07:22:20.403

请参阅[这些 URI 文件名示例](http://www.sqlite.org/c3ref/open.html#urifilenameexamples)，但您的 URI（带有三个斜杠）看起来是正确的。

# xcode4 - 错误：未能附加到进程 ID 0

> ID：12741188
> 
> 赞同：68
> 
> 时间：2012-10-05T07:02:37.090
> 
> 标签：xcode4, ios-simulator

我一直在阅读论坛，到目前为止，建议的解决方案都不适合我。我正在运行 Xcode 4.4.1 并在 iPhone 5.1 模拟器中进行测试。模拟器将不再打开应用程序，并且出现上述错误。有什么想法或解决方案吗？

* * *

## 回答 #1

> 赞同：102
> 
> 时间：2012-11-02T15:55:03.727

转到 IOS 模拟器工具栏，然后单击重置内容和设置...

* * *

## 回答 #2

> 赞同：92
> 
> 时间：2012-10-06T08:07:21.120

我遇到了同样的问题

1.你可以直接删除下的App

`~/Library/Application Support/iPhone Simulator/6.0/Applications`

和

`~/Library/Developer/Xcode/DerivedData`

2.然后就可以启动Xcode了；在菜单栏中，您可以找到`Project -> Clean`

> 编辑：在上面复制/粘贴 1 之前，将模拟器版本更改为您正在使用的版本！

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-11-29T05:38:29.127

单击模拟器并通过转到“iOS模拟器”主菜单并选择“重置内容和设置...”来重置模拟器。</p>

回到 XCode，选择菜单“Product”>“Edit Scheme”。在左侧菜单面板上，单击“运行_Your_Project_Name_.app”>“运行_Your_Project_Name.app”。右侧的信息显示应将“调试过程为”单选按钮选为“我（您的用户名）”。如果没有，请确保您没有以 root 身份登录。在 Stackoverflow 上有很多以 root 身份运行的报告会出现问题

接下来，仍然在 Xcode 中，转到菜单“Window”>“Organizer”。在顶部菜单上，单击“项目”。继续并删除“派生数据”。

最后，转到“~/Library/Application Support/iPhone Simulator/6.0/Applications”并删除其中的所有内容

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-04-02T22:04:15.220

最后，我发现问题在于我有一个**名为“resources”的文件夹**，用于存储我的所有图像。当我将文件夹的名称更改为 XCode 在其他地方不太可能使用的名称时，我完成了整个删除派生数据/清理/重新启动 XCode 的操作，它起作用了！

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-01-19T11:52:44.787

上面提到的没有任何帮助我。但正如我发现不久前，我（或其他实体）以某种方式从我的 /etc/hosts 文件中删除了记录，我得到了同样的错误。

您应该检查 /etc/hosts 文件中是否有“127.0.0.1 localhost”行。由于缺少此行，LLDB 调试器正在生成问题。

因此，如果 /etc/hosts 中缺少 127.0.0.1，只需添加它。

这对我有帮助！

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2013-03-04T02:23:52.133

删除 iOS 模拟器上的应用程序。这个对我有用。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2012-11-24T06:23:27.983

重置模拟器并退出模拟器然后重建运行。它对我有用

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2012-12-19T05:43:04.297

我想有人会在这个问题只发生在一个项目中，而不是在每个项目中，并且在做了很多在这个问题页面上发布的解决方案之后未能解决这个问题，例如**“删除 ~/Library 下的应用程序直接” /Application Support/iPhone Simulator/6.0/Applications and ~/Library/Developer/Xcode/DerivedData'，'通过执行 Project -> Clean 来清理所有日志'和'清理 iOS 模拟器菜单中的所有日志和内容'和任何东西别的。**

是的，我也最终未能解决这个问题。

对您来说，如果您遇到我上面提到的问题，这可能是一个解决方案： **创建一个具有相似名称的新项目，并将您之前项目文件夹中存在的所有类和资源文件复制并粘贴到新项目并链接您的新项目和 Xcode 中复制的文件之间的引用。然后，按“Shift + Command + K”清理构建日志。**

就我而言，这使我能够继续我的工作......

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2013-05-26T21:32:13.030

清理（​​删除文件夹，或产品->清理）没有奏效。

我在我的 .plist 中看到捆绑 ID 已被删除。感谢 git。我检查了文件，然后砰！部署到模拟器没问题。

只是分享...

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2013-06-11T10:26:18.930

有时这个问题是由于一个项目中有两个目标，它们都使用相同的包标识符但构建具有不同名称的产品。

如前所述，删除设备/模拟器上的应用程序可以解决问题。

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2013-06-14T14:04:32.203

更改产品名称后，这发生在我身上。

重置模拟器，清理项目并重新启动 XCode 后，没有任何效果。**关闭并重新启动模拟器**后，一切都按预期工作。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2013-08-08T05:16:38.353

删除一些 xcconfig 文件后，我的应用程序没有正确的 BundleID。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2012-10-09T20:04:41.637

我有同样的问题，我发现你不能在你的 Mac 上使用 root 帐户。如果您以 root 身份登录，则无法将进程附加到模拟器。您必须以其他帐户登录。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2012-11-08T14:34:50.367

每次我遇到这个问题（实际上经常如此）时，我都会从模拟器中卸载应用程序（就像用户在设备上一样）并在 XCode 上进行清理。下一个构建和运行工作。

我还可以重置模拟器内容和设置以使其工作，但这似乎是使用火箭筒杀死苍蝇。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2013-01-16T18:33:43.093

如果您为企业分发准备文件并最终将生成的 .ipa 和 .plist 保存在项目目录中，也会发生这种情况，从而覆盖您的项目 plist。发生这种情况时，您会知道，因为项目配置中的版本信息和主窗口将是空白的。如果发生这种情况，请从源代码管理中恢复您的旧 plist……并将您的产品文件保存在其他地方！

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2013-02-21T04:17:39.450

当您在 xcode 版本之间切换时会发生这种情况。简单的解决方案是退出 xcode 和模拟器。重新启动 xcode，同时在运行前清理模拟器。这应该可以解决问题。

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2013-03-25T22:48:31.200

我遇到了这个问题，因为我在同一台机器上运行 iOS 模拟器的另一个用户。以其他用户身份登录并退出模拟器（和 Xcode）在我的情况下解决了它。

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2013-05-16T11:40:54.550

第一步：平

$ ping 本地主机

这应该返回类似

PING localhost (127.0.0.1): 56 个数据字节 64 个字节来自 127.0.0.1: icmp_seq=0 ttl=64 time=0.028 ms 64 个字节来自 127.0.0.1: icmp_seq=1 ttl=64 time=0.048 ms ...

如果可行，此答案将无法解决您的问题，请尝试其他方法。

如果 ping 返回其他内容，例如： ping: cannot resolve localhost: Unknown host 你的 /etc/hosts 文件搞砸了，请转到第 2 步 Step2：检查 /etc/hosts

检查 /etc/hosts 文件的顶部是否如下所示

127.0.0.1 本地主机 255.255.255.255 广播主机 ::1 本地主机 fe80::1%lo0 本地主机

如果文件中没有这些条目，请在文件顶部输入它们，使用 $ dscacheutil -flushcache 刷新 dns 缓存并返回第 1 步，否则继续第 3 步。 第 3 步：正确的文件格式：它应该是 unix 或 LF *

$ 文件 /etc/hosts

这应该返回： /etc/hosts: ASCII 英文文本

如果它返回 /etc/hosts: ASCII 英文文本，带有 CR 行终止符，则该文件格式错误，可能会被忽略。

使用您喜欢的文本编辑器将文件行结尾更改为 unix 或 LF。

```
In Sublime Text 2 this can be done throught the view menue: View > Line Endings > Unix 
```

刷新 dns 缓存 ($ dscacheutil -flushcache) 并返回步骤 1

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2013-07-18T22:50:12.030

令人尴尬的深夜时刻，但只是为了完整性......当您在模拟器上单击“重置内容和设置”时，蓝色的大默认按钮当然会显示“不要重置”，而白色的其他小按钮会显示“重置” ”。如果您不注意，可能很难记住阅读按钮。我不敢相信我承认了这一点，但是嘿，发生在我们所有人身上（对吧？:)）

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2013-08-24T14:58:04.893

我重新启动模拟器，它对我有用

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2013-09-04T13:44:03.203

有时会发生这种情况，因为您有两个同名的项目。试试这个：

1.  转到 xCode 首选项选择位置并单击 DerivedData 删除 DerivedData
2.  重置并强制退出模拟器
3.  强制退出 Xcode 并重新启动

如果它不起作用，请重新启动您的 PC。

* * *

## 回答 #22

> 赞同：0
> 
> 时间：2013-09-11T17:08:15.063

还有一个记录在案：（没有一个建议对我有用）

**山狮：XCode 4.6.3**

*   我`moved the whole Application to Trash`并删除了以下其他文件夹
*   `/Users/[USERNAME]/Library/Developer`
*   `/Users/[USERNAME]/Library/Caches/com.apple.dt.XCode`
*   `/Users/[USERNAME]/Library/Application Support/iPhone Simulator`

*   重启系统并重新安装 XCode

# objective-c - file not found -fobjc-link-runtime

> ID：12741189
> 
> 赞同：5
> 
> 时间：2012-10-05T07:02:40.640
> 
> 标签：objective-c

I have this error in objective c

-fobjc-link-runtime it say's file not found. I've been googling but failed to get what caused the error. I'm building it on a xcode4.5 environment. using ios6 as base sdk. Any ideas?

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-05T06:11:57.773

只是有同样的问题。原来这是由于我在其他链接器标志中留下了 -force_load 选项，结果后面是 -fobj-link-runtime，导致链接器认为这是一个库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:11:26.400

这看起来很像从某种 ObjC 测试工具中泄露出来的虚假链接器标志。

即，您需要进入 Xcode 中的构建设置编辑器，找到设置该特定标志的任何内容，然后将其删除。

# silverlight - Silverlight DataGrid not showing data when more than 286 rows

> ID：12741193
> 
> 赞同：0
> 
> 时间：2012-10-05T07:02:49.773
> 
> 标签：silverlight

I am working with an application that is written for us by a third party company. In this application we want to have a sort of file system so we can download files that are on the machine where the silverlight application is running on. To list all the files, they have used a DataGrid. From this datagrid files can be downloaded to your machine. (Silverlight application can be access through the web).

Now I'm working with this application for a while and the number of files are growing (each day new files are generated) the datagrid is not showing any data. I tested and the limit is at 286 files, with 19 files on each page. With 287 files, the DataGrid is not showing any data.

I'm familiar with programming languages, but Silverlight / C# is relatively new to me.

Edit: Of course I looked into the code but there is no limit on more then 286.

So my question, is there a limit for the DataGrid for the number of items / rows that it can handle?

Thanks in advance!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T09:59:27.593

DataGrid 可以显示的行数没有（合理的）限制。我成功地将 1000 多行加载到网格中。也许行为与分页的完成方式有关？是否定义了最大页数？

# html - Joomla 上的新文章页面失败

> ID：12741203
> 
> 赞同：0
> 
> 时间：2012-10-05T07:03:20.157
> 
> 标签：html, joomla

我有一个问题，我不知道如何解决。我有一个看起来很完美的 joomla 网站（[http://secretinvizimals.com/](http://secretinvizimals.com/)）。只有一个页面失败 - 我的添加新文章页面。

这是我的问题的链接：[http://secretinvizimals.com/index.php/contribute](http://secretinvizimals.com/index.php/contribute) 您可能需要先使用以下凭据登录：用户名：StackOverflow 密码：StackOverflow 您可以在顶部的主页上登录：[http： //secretinvizimals.com/](http://secretinvizimals.com/)

只是很短：问题是页面没有样式： ![在此处输入图像描述](../Images/996e1071baff4988be2b2d9773578f9d.png)

有谁知道我可以从哪里开始 - 或者可能是一个解决方案？

以下是关于我的 joomla 网站的一些常见问题解答：

*   Joomla 2.5.7 版
*   Artisteer 4.0开发的自定义主题

我希望你能帮助我。

BR

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T08:29:26.190

Firebug/Chrome 开发人员工具指出您缺少 editor.css 文件。这是用于编辑内容的样式表。它寻找它的链接在这里： [http](http://secretinvizimals.com/index.php/skins/kama/editor.css?t=C3HA5RM) ://secretinvizimals.com/index.php/skins/kama/editor.css?t=C3HA5RM 虽然那里没有文件 - 从其他链接来看，我猜这是旧模板什么的？？如果文件确实存在于另一个位置，您要么需要更改文件位置，要么需要为它创建一个文件并放入标准内容。

Chrome 开发者工具也发现了六个错误

```
<error> index.php:1
Failed to load resource: the server responded with a status of 404 (Not Found) http://secretinvizimals.com/config.js?t=C3HA5RM
Failed to load resource: the server responded with a status of 404 (Not Found) http://secretinvizimals.com/index.php/skins/kama/editor.css?t=C3HA5RM
Failed to load resource: the server responded with a status of 404 (Not Found) http://secretinvizimals.com/index.php/lang/en-gb.js?t=C3HA5RM
Failed to load resource: the server responded with a status of 404 (Not Found) http://secretinvizimals.com/plugins/linkBrowser/plugin.js?t=C3HA5RM
Failed to load resource: the server responded with a status of 404 (Not Found) http://secretinvizimals.com/plugins/mediaembed/plugin.js?t=C3HA5RM
Failed to load resource: the server responded with a status of 404 (Not Found) http://secretinvizimals.com/plugins/readmore/plugin.js?t=C3HA5RM
Failed to load resource: the server responded with a status of 404 (Not Found) http://secretinvizimals.com/index.php/plugins/tableresize/plugin.js?t=C3HA5RM
Failed to load resource: the server responded with a status of 404 (Not Found) http://secretinvizimals.com/index.php/plugins/autogrow/plugin.js?t=C3HA5RM
Uncaught [CKEDITOR.resourceManager.load] Resource name "linkBrowser" was not found at "http://secretinvizimals.com/index.php/../plugins/linkBrowser/plugin.js?t=C3HA5RM". index.php:1519
Uncaught RangeError: Maximum call stack size exceeded (x10)
Uncaught RangeError: Maximum call stack size exceeded index.php:1654 (x2)
Uncaught RangeError: Maximum call stack size exceeded (x6)
Uncaught RangeError: Maximum call stack size exceeded index.php:1654 (x2)
Uncaught RangeError: Maximum call stack size exceeded (x6) 
```

第一个与页面顶部没有 doctype、html 声明或任何内容有关。这有点令人困惑。我不得不假设这是某种模板问题。但显然，从外部访问测试类似的东西要困难得多。您是否尝试过打开 Joomla 调试功能以查看发生了什么？

# android - Linkedin API for android getConnectionsfor currentuser() 异常

> ID：12741204
> 
> 赞同：2
> 
> 时间：2012-10-05T07:03:21.567
> 
> 标签：android, linkedin

我正在为 androidlinkedin-j-android.jar 使用linkedin api。

通过这个，我可以从我的 android 应用程序登录到我的帐户， `client.getProfileForCurrentUser();`并且`client.updateCurrentStatus("Status updated from android app");`也可以正常工作。

我面临的问题是，每当我打电话给 `client.getConnectionsForCurrentUser();`or
`Connections connections = client.getConnectionsForCurrentUser(connectionFields);`时，我都会遇到异常`"Access to connections denied"`。如何提供权限或有其他解决方法吗？我坚持在这里。帮我解决这个问题

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:30:23.737

我已经将此 api 用于`linkedIn`. 它可以帮助我发布状态并获取联系人。

[http://code.google.com/p/socialauth-android/](http://code.google.com/p/socialauth-android/)

# ruby-on-rails-3 - How to hide actual path Carrierwave

> ID：12741206
> 
> 赞同：0
> 
> 时间：2012-10-05T07:03:38.927
> 
> 标签：ruby-on-rails-3, carrierwave

I'm building an application (Rails 3.2.8) where user can upload music tracks and associated clip. While clips can be publicly accessible, track can't be accessible without purchasing. I'm using carrierwave for uploading the both types of files. However, I do not want to expose the actual track path to the users.

What techniques such services use to protect hotlinking and/or unauthorized access to the files?

Currently, the carrierwave path is like:

```
 def store_dir
    "tracks/#{model.user_id}/"
  end 
```

However, this is very vulnerable. Anyone can easily guess the url.

For authorised downloading, i can consider: 1\. Static download link (this link is valid all time for that user. however, no guests or other users can use that URL) 2\. General temporary links for each download!

Please enlighten me with the ways I can consider (i will study them) so that i can secure the files from downloading without purchases.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-11T19:37:38.263

似乎你想要两者，剪辑的公开和轨道的私有。我也在尝试使用以下方法来实现这一点（未经测试）

```
def fog_public
  return @job.job_kind == 'public'
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T18:14:07.013

s3 允许您存储私有文件，它们将仅在给定的时间段内可用并带有访问令牌。

使用carrierwave，您只需`fog_publig`按照此处的说明将其设置为false [https://github.com/jnicklas/carrierwave#using-amazon-s3](https://github.com/jnicklas/carrierwave#using-amazon-s3)

# java - 如何制作在所有窗口分辨率下显示相似行为（布局）的 SWT/JFace 对话框

> ID：12741208
> 
> 赞同：1
> 
> 时间：2012-10-05T07:03:48.713
> 
> 标签：java, eclipse, eclipse-plugin, swt, jface

我创建的 JFace 对话框显示不同分辨率下的布局差异。如何在 JFace 或 SWT 中创建在所有分辨率下显示相同布局的对话框，就像 Eclipse 中使用的对话框一样。

我的意思是，在将屏幕分辨率更改为 800x600 像素并选择超大字体时，对话框的布局会受到干扰，而 Eclipse IDE 对话框并非如此。只需查看我的对话框的屏幕截图即可。![在此处输入图像描述](../Images/86e628a62ee12836f22dc0b29421b78f.png)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-05T09:07:22.550

好的，根据聊天中的讨论，以前处理此代码的人似乎限制了各个小部件的大小。我创建了一个类似于您问题中的虚拟对话框。它不限制小部件的大小。相反，布局负责调整大小：

```
import org.eclipse.jface.dialogs.Dialog;
import org.eclipse.jface.dialogs.IDialogConstants;
import org.eclipse.swt.SWT;
import org.eclipse.swt.layout.GridData;
import org.eclipse.swt.layout.GridLayout;
import org.eclipse.swt.widgets.Button;
import org.eclipse.swt.widgets.Combo;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.widgets.Control;
import org.eclipse.swt.widgets.Group;
import org.eclipse.swt.widgets.Label;
import org.eclipse.swt.widgets.List;
import org.eclipse.swt.widgets.Shell;
import org.eclipse.swt.widgets.Text;

public class DummyDialog extends Dialog {

    private Composite composite;

    public DummyDialog(Shell parentShell)
    {
        super(parentShell);
        setShellStyle(parentShell.getStyle() | SWT.CLOSE | SWT.TITLE | SWT.BORDER | SWT.APPLICATION_MODAL);
        setBlockOnOpen(true);
    }

    protected Control createDialogArea(Composite parent) {
        this.composite = (Composite) super.createDialogArea(parent);

        GridLayout layout = new GridLayout(1, false);
        layout.marginHeight = 5;
        layout.marginWidth = 10;

        composite.setLayout(layout);

        createContent();

        return composite;
    }

    private void createContent()
    {
        createTopContent();

        createMiddleContent();

        createBottomContent();
    }

    private void createTopContent()
    {
        Composite top = new Composite(composite, SWT.NONE);

        top.setLayout(new GridLayout(2, false));
        top.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));

        Label firstLabel = new Label(top, SWT.NONE);
        firstLabel.setText("X-Ref Library");
        Text firstText = new Text(top, SWT.BORDER);
        firstText.setText("MANISH2XA");
        firstText.setEditable(false);
        firstText.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, true));

        Label secondLabel = new Label(top, SWT.NONE);
        secondLabel.setText("Text");
        Text secondText = new Text(top, SWT.BORDER);
        secondText.setText("Test Lib for Manish");
        secondText.setEditable(false);
        secondText.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, true));
    }

    private void createMiddleContent()
    {
        Composite middle = new Composite(composite, SWT.NONE);
        middle.setLayout(new GridLayout(3, false));
        middle.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));

        Group leftGroup = new Group(middle, SWT.NONE);
        leftGroup.setText("Object Library(s)");
        leftGroup.setLayout(new GridLayout(1, false));
        leftGroup.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));

        List leftList = new List(leftGroup, SWT.BORDER);
        leftList.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));
        leftList.add("DUMMY");

        Composite buttons = new Composite(middle, SWT.NONE);
        buttons.setLayout(new GridLayout(1, false));

        Button moveUp = new Button(buttons, SWT.PUSH);
        moveUp.setText("Move up");
        moveUp.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, true));
        Button moveDown = new Button(buttons, SWT.PUSH);
        moveDown.setText("Move down");
        moveDown.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, true));
        Button modify = new Button(buttons, SWT.PUSH);
        modify.setText("Modify");
        modify.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, true));
        Button remove = new Button(buttons, SWT.PUSH);
        remove.setText("Remove");
        remove.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, true));

        Group rightGroup = new Group(middle, SWT.NONE);
        rightGroup.setText("Source Library(s)");
        rightGroup.setLayout(new GridLayout(1, false));
        rightGroup.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));

        List rightList = new List(rightGroup, SWT.BORDER);
        rightList.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));
        rightList.add("DUMMY");
    }

    private void createBottomContent()
    {
        Composite bottom = new Composite(composite, SWT.NONE);
        bottom.setLayout(new GridLayout(3, false));
        bottom.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));

        Label leftLabel = new Label(bottom, SWT.NONE);
        leftLabel.setText("Library");

        Label rightLabel = new Label(bottom, SWT.NONE);
        rightLabel.setText("Type");

        new Label(bottom, SWT.NONE);

        Text leftText = new Text(bottom, SWT.BORDER);
        leftText.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, true));

        Combo combo = new Combo(bottom, SWT.NONE);
        combo.add("Object Library");
        combo.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, true));

        Button add = new Button(bottom, SWT.PUSH);
        add.setText("Add");
        add.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, true));
    }

    protected void configureShell(Shell newShell)
    {
        super.configureShell(newShell);
        newShell.setText("Application Library List");
    }

    @Override
    protected void createButtonsForButtonBar(Composite parent) {
        super.createButtonsForButtonBar(parent);

        Button ok = getButton(IDialogConstants.OK_ID);
        ok.setText("Apply Changes");
        setButtonLayoutData(ok);

        Button cancel = getButton(IDialogConstants.CANCEL_ID);
        cancel.setText("Cancel");
        setButtonLayoutData(cancel);
    }

    public void okPressed()
    {
        this.close();
    }

    public static void main(String[] args)
    {
        new DummyDialog(new Shell()).open();
    }
} 
```

这是它的外观：

![在此处输入图像描述](../Images/3d5b4918f4bf59d002a8ff7902b6f236.png)

# jquery - Jquery onmouseover triggers on second event

> ID：12741209
> 
> 赞同：0
> 
> 时间：2012-10-05T07:03:59.223
> 
> 标签：jquery, onmouseover

I've created the following function in Jquery

```
function menuItem(x,i) {
var imgALT = $(x).text();   
$(x).mouseover(function()
{
    $(x).parent().parent().parent().children("img").attr("src", "menu/menu"+i+".jpg");
    $(x).parent().parent().parent().children("img").attr("alt", imgALT);
    $(x).parent().children("span").css("color", "#FFFFFF");
    $(x).css("color", "#CA0109");
});
}; 
```

And I trigger it using the following:

```
<span onmouseover="menuItem(this,'09-01')">月亮蝦餅 (2份)</span> 
```

It works exactly as I intend it to, but only after I mouseover the span for the second time, not the first. I assume this is perhaps a loading issue of some kind? How should I go about ensuring it triggers on the first mouseover, as well as subsequent events?

Many thanks!

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:08:09.560

问题是您仅在将鼠标悬停在元素上并且内联`onmouseover`已触发后才使用 jQuery 绑定事件。

由于该事件看起来`onmouseover`对您的应用程序结构至关重要，请将您的 JavaScript 更改为以下内容：

```
function menuItem(x,i) {
    var $x = $(x);
    var imgALT = $x.text();

    $x.parent().parent().parent().children("img").attr("src", "menu/menu"+i+".jpg");
    $x.parent().parent().parent().children("img").attr("alt", imgALT);
    $x.parent().children("span").css("color", "#FFFFFF");
    $x.css("color", "#CA0109");
} 
```

理想情况下，我会使用`data-`属性：

**HTML**：

```
<span data-image="09-01">月亮蝦餅 (2份)</span> 
```

**JavaScript**：

```
$(document).ready(function() {
    $('span[data-image]').mouseover(function() {
        var $this = $(this);
        var $images = $this.parent().parent().parent().children("img");

        $images.attr("src", "menu/menu" + $this.data('image') + ".jpg");
        $images.attr("alt", $this.text());

        $this.siblings("span").css("color", "#FFFFFF");
        $this.css("color", "#CA0109");
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:16:54.457

使用[document.ready](http://docs.jquery.com/Tutorials%3aIntroducing_%24%28document%29.ready%28%29)函数

```
$(document).ready(function(){
  $('span').mouseover(function(){});
    }); 
```

# android - 在 Android 中将 EditText 声明为 TextView

> ID：12741211
> 
> 赞同：12
> 
> 时间：2012-10-05T07:04:08.213
> 
> 标签：android, android-edittext, textview

我有一个像这样的 xml 布局 main.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
 android:layout_width="wrap_content"
 android:layout_height="fill_parent"
 android:gravity="center" >
 <EditText      
 android:layout_width="fill_parent"
 android:layout_height="wrap_content"
 android:text="text"
 android:textColor="#000"
 android:textSize="16dp"
 android:id="@+id/edtxt"
 android:gravity="center|top|left"/>     
 </RelativeLayout> 
```

我在我的活动中这样声明

```
public class MyActivity extends Activity {
private TextView txt = null;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    txt= (TextView)findViewById(R.id.edtxt);
 }

} 
```

但我的活动没有问题。为什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-05T07:07:31.240

看到这个链接[http://developer.android.com/reference/android/widget/EditText.html](http://developer.android.com/reference/android/widget/EditText.html)

看看这里![在此处输入图像描述](../Images/1e67f231523082fc02bfb64966879b3f.png)

你会找到你的答案

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-05T07:06:48.253

那是因为 EditText 是 TextView 的子类。您正在将 EditText 转换为 TextView，因为 EditText 是 TextView，所以它可以工作。

查看 EditText 的文档：http: [//developer.android.com/reference/android/widget/EditText.html](http://developer.android.com/reference/android/widget/EditText.html)

这里有一些东西可以让你了解继承，这就是这里发生的事情：http: [//docs.oracle.com/javase/tutorial/java/IandI/subclasses.html](http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-05T07:06:42.757

答案很简单，之所以如此，是因为`EditText`extends `TextView`。

# c# - GUI 中的 C# 复制剪切

> ID：12741213
> 
> 赞同：1
> 
> 时间：2012-10-05T07:04:16.450
> 
> 标签：c#, windows, copy, paste

所以我想在我的 C# Windows 窗体中有一个编辑栏。有什么方法可以轻松添加这些选项？它只需要复制文本。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:18:35.143

.NET 为您提供`MenuStrip`类。检查这个[MSDN Link](http://msdn.microsoft.com/en-us/library/system.windows.forms.menustrip%28v=vs.90%29.aspx)
它也有一个`Clipboard`类。[MSDN 链接](http://msdn.microsoft.com/en-us/library/system.windows.forms.clipboard%28v=vs.90%29.aspx)。
通过这些链接，你会得到你需要的。希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:53:54.907

将`ToolStrip`工具箱中的 a 拖到您的窗体或控件上。单击工具条右上角的展开按钮并选择`Insert Standard Items`。现在你有了你需要的视觉元素。

只需删除所有不需要的，然后双击您喜欢使用的所有内容。在创建的点击处理程序中，使用[`Clipboard`类](http://msdn.microsoft.com/en-us/library/system.windows.forms.clipboard.aspx)添加所需的代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:28:09.010

使用 Clipboard 类并使用 SetText() 和 GetText() 方法进行复制粘贴。

```
Clipboard.SetText(MyTextBox.Text);

MyTextBox.Text = Clipboard.GetText(); 
```

# mysql - Joomla 中的自定义数据库连接

> ID：12741217
> 
> 赞同：0
> 
> 时间：2012-10-05T07:04:28.650
> 
> 标签：mysql, joomla, joomla2.5

是否可以通过标准方法在 Joomla 中创建与自定义数据库的新连接，或者我需要在我的 olugin 中使用标准 php 方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-07T07:07:08.090

是的，您可以建立新的联系。

JDatabaseDriver 和它的子类会让你做很多事情。 [https://github.com/joomla/joomla-platform/blob/staging/libraries/joomla/database/driver.php#L377](https://github.com/joomla/joomla-platform/blob/staging/libraries/joomla/database/driver.php#L377)

# iphone - 在 iPhone App 中绘制饼图

> ID：12741218
> 
> 赞同：-2
> 
> 时间：2012-10-05T07:04:30.813
> 
> 标签：iphone, ipad, core-plot, pie-chart

我是 iPhone 新手，

我想在我的 iPhone 应用程序中绘制饼图，

经过大量搜索，我找到了这个[教程......](http://www.switchonthecode.com/tutorials/using-core-plot-in-an-iphone-application)

当我下载此代码并尝试运行时，`CorePlot-CocoaTouch.h file not found` 您可以在我的快照`CorePlot-CocoaTouch.h`文件中看到它仍然显示错误。

![1](../Images/ea82938add4fd6c5fb2dbddbb8c80f95.png) **任何帮助将不胜感激。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:09:50.837

[下载这个项目](https://github.com/ReetuRaj/MIMChart-Library)并使用它，但他们正在使用 ARC。希望对您有所帮助！

在那里你会发现饼图、折线图、条形图等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:29:07.883

试试这个[链接](https://github.com/tylerneylon/moriarty)，`BNPieChart`用来画图表

调用此方法查看示例。

```
[BNPieChart pieChartSampleWithFrame:frame] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T23:26:53.333

检查您的应用项目中的标头搜索路径。确保它指向正确的目录并设置为“递归”。[Core Plot wiki](http://code.google.com/p/core-plot/wiki/UsingCorePlotInApplications)上有更多信息。

# ios - iOS：具有透明背景的模态 ViewController

> ID：12741224
> 
> 赞同：190
> 
> 时间：2012-10-05T07:04:49.750
> 
> 标签：ios, objective-c, modalviewcontroller, presentmodalviewcontroller

我正在尝试以模态方式呈现具有透明背景的视图控制器。我的目标是让呈现和呈现的视图控制器的视图同时显示。问题是，当呈现动画完成时，呈现视图控制器的视图消失了。

```
- (IBAction)pushModalViewControllerButtonPressed:(id)sender
{
    ModalViewController *modalVC = [[ModalViewController alloc] init];
    [self presentViewController:modalVC animated:YES completion:nil];
} 
```

我知道我可以将视图添加为子视图，但出于某种原因我想避免使用此解决方案。我该如何解决？

* * *

## 回答 #1

> 赞同：192
> 
> 时间：2014-09-23T08:09:59.810

对于那些试图让它在 iOS 8 中工作的人来说，“Apple 认可”的显示透明模式视图控制器的方法是`modalPresentationStyle` **在当前*ed*控制器**上设置为 `UIModalPresentationOverCurrentContext`.

这可以在代码中完成，也可以通过在故事板中设置 segue 的属性来完成。

从 UIViewController 文档：

> **UIModalPresentationOverCurrentContext**
> 
> 仅在父视图控制器的内容上显示内容的演示样式。演示结束时，所呈现内容下方的视图不会从视图层次结构中删除。因此，如果呈现的视图控制器没有用不透明的内容填充屏幕，则底层内容会显示出来。
> 
> 在弹出窗口中呈现视图控制器时，仅当过渡样式为 UIModalTransitionStyleCoverVertical 时才支持此呈现样式。尝试使用不同的转换样式会触发异常。但是，如果父视图控制器不在弹出窗口中，您可以使用其他转换样式（部分卷曲转换除外）。
> 
> 在 iOS 8.0 及更高版本中可用。

[https://developer.apple.com/documentation/uikit/uiviewcontroller](https://developer.apple.com/documentation/uikit/uiviewcontroller)

WWDC 2014 中的“iOS 8 中的视图控制器改进”视频对此进行了详细介绍。

笔记：

*   一定要给你呈现的视图控制器一个清晰的背景颜色，以免它实际上不是透明的！
*   您必须在呈现*之前*`viewDidLoad`设置此参数，即在presentedViewController 中设置此参数不会有任何影响

* * *

## 回答 #2

> 赞同：110
> 
> 时间：2015-01-12T19:40:30.193

在 iOS 8.0 及更高版本中，可以通过将属性**modalPresentationStyle设置为****UIModalPresentationOverCurrentContext**来完成

 **```
//Set property **definesPresentationContext** YES to avoid presenting over presenting-viewController's navigation bar

self.definesPresentationContext = YES; //self is presenting view controller
presentedController.view.backgroundColor = [YOUR_COLOR with alpha OR clearColor]
presentedController.modalPresentationStyle = UIModalPresentationOverCurrentContext;

[self presentViewController:presentedController animated:YES completion:nil]; 
```

![见附图](../Images/8b409a838f689387b1924e9735c07b49.png)

* * *

## 回答 #3

> 赞同：106
> 
> 时间：2012-10-05T07:12:35.377

以下代码仅适用于 iPad。

```
self.view.backgroundColor = [UIColor clearColor];
self.modalPresentationStyle = UIModalPresentationCurrentContext;
[self presentModalViewController:modalVC animated:YES]; 
```

我会添加一个子视图。

这是一个很好的讨论。具体看评论。不仅仅是答案。

[模态视图](https://stackoverflow.com/questions/587681/how-to-use-presentmodalviewcontroller-to-create-a-transparent-view)

如果我是你，我不会这样做。我会添加一个子视图并执行此操作。它似乎让我可以更好地控制事情。

**编辑：**

正如 Paul Linsay 所提到的，从 iOS 8 开始，所需要[`UIModalPresentationOverFullScreen`](https://developer.apple.com/documentation/uikit/uimodalpresentationstyle/uimodalpresentationoverfullscreen?language=objc)的只是呈现 ViewController 的 modalPresentationStyle。这也将涵盖 navigationBar 和 tabBar 按钮。

* * *

## 回答 #4

> 赞同：44
> 
> 时间：2013-09-22T23:16:55.950

此代码在 iOS6 和 iOS7 下的 iPhone 上运行良好：

```
presentedVC.view.backgroundColor = YOUR_COLOR; // can be with 'alpha'
presentingVC.modalPresentationStyle = UIModalPresentationCurrentContext;
[presentingVC presentViewController:presentedVC animated:YES completion:NULL]; 
```

在这种情况下，您会错过滑入式动画。要保留动画，您仍然可以使用以下“非优雅”扩展：

```
[presentingVC presentViewController:presentedVC animated:YES completion:^{
    [presentedVC dismissViewControllerAnimated:NO completion:^{
        presentingVC.modalPresentationStyle = UIModalPresentationCurrentContext;
        [presentingVC presentViewController:presentedVC animated:NO completion:NULL];
    }];
}]; 
```

如果我们的presentingV 位于UINavigationController 或UITabbarController 内部，您需要将该控制器作为presentingVC 进行操作。

此外，在 iOS7 中，您可以实现自定义过渡动画应用`UIViewControllerTransitioningDelegate`协议。当然，在这种情况下，您可以获得透明背景

```
@interface ModalViewController : UIViewController <UIViewControllerTransitioningDelegate> 
```

首先，在演示之前，您必须设置`modalPresentationStyle`

```
modalViewController.modalPresentationStyle = UIModalPresentationCustom; 
```

然后你必须实现两个协议方法

```
- (id<UIViewControllerAnimatedTransitioning>)animationControllerForPresentedController:(UIViewController *)presented presentingController:(UIViewController *)presenting sourceController:(UIViewController *)source
{
    CustomAnimatedTransitioning *transitioning = [CustomAnimatedTransitioning new];
    transitioning.presenting = YES;
    return transitioning;
}

- (id<UIViewControllerAnimatedTransitioning>)animationControllerForDismissedController:(UIViewController *)dismissed
{
    CustomAnimatedTransitioning * transitioning = [CustomAnimatedTransitioning new];
    transitioning.presenting = NO;
    return transitioning;
} 
```

最后一件事是在`CustomAnimatedTransitioning`类中定义您的自定义转换

```
@interface CustomAnimatedTransitioning : NSObject <UIViewControllerAnimatedTransitioning>
@property (nonatomic) BOOL presenting;
@end

@implementation CurrentContextTransitionAnimator

- (NSTimeInterval)transitionDuration:(id <UIViewControllerContextTransitioning>)transitionContext 
{
    return 0.25;
}

- (void)animateTransition:(id <UIViewControllerContextTransitioning>)transitionContext 
{
    UIViewController *fromViewController = [transitionContext viewControllerForKey:UITransitionContextFromViewControllerKey];
    UIViewController *toViewController = [transitionContext viewControllerForKey:UITransitionContextToViewControllerKey];

    if (self.presenting) {
        // custom presenting animation
    }
    else {
        // custom dismissing animation
    }
} 
```

* * *

## 回答 #5

> 赞同：21
> 
> 时间：2015-10-14T10:26:24.297

我在 XCode 7 的 Interface Builder 上有点挣扎，以按照@VenuGopalTewari 的建议设置 Presentation Style。在这个版本中，segue 似乎没有`Over Current Context`或`Over Full Screen`演示模式。因此，为了使其工作，我将模式设置为`Default`：

[![在此处输入图像描述](../Images/42599cf324f5abd9c8ab3269d912a776.png)](https://i.stack.imgur.com/hsEiX.png)和 [![在此处输入图像描述](../Images/868abb96cc5f16b90d805697156b00c8.png)](https://i.stack.imgur.com/rqyEX.png)

此外，我将模态呈现的视图控制器的呈现模式设置为`Over Full Screen`：

[![在此处输入图像描述](../Images/c2bc14568b7400d4aa96f6e4271feb92.png)](https://i.stack.imgur.com/DmeHe.png)

* * *

## 回答 #6

> 赞同：19
> 
> 时间：2015-01-21T18:38:32.170

创建一个 segue 以模态方式呈现，并将该 segue 的 Presentation 属性设置为超过当前上下文，它将 100 % 工作

![在此处输入图像描述](../Images/9981044ac01bfbafa97739a64c0608f3.png)

* * *

## 回答 #7

> 赞同：16
> 
> 时间：2017-07-06T16:21:39.820

使用 swift 对此答案的解决方案如下。

```
let vc = MyViewController()
vc.view.backgroundColor = UIColor.clear // or whatever color.
vc.modalPresentationStyle = .overCurrentContext
present(vc, animated: true, completion: nil) 
```

* * *

## 回答 #8

> 赞同：14
> 
> 时间：2016-06-23T08:06:01.107

具有透明背景的 PresentViewController - 在 iOS 8 和 iOS 9 中

```
MYViewController *myVC = [self.storyboard   instantiateViewControllerWithIdentifier:@"MYViewController"];
    myVC.providesPresentationContextTransitionStyle = YES;
    myVC.definesPresentationContext = YES;
    [myVC setModalPresentationStyle:UIModalPresentationOverCurrentContext];
    [self.navigationController presentViewController:myVC animated:YES completion:nil]; 
```

并在 MYViewController 中设置背景颜色为黑色并降低不透明度

* * *

## 回答 #9

> 赞同：12
> 
> 时间：2013-09-24T11:29:40.873

这有点老套，但对我来说，这段代码有效（iOS 6）：

```
AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];

[self presentViewController:self.signInViewController animated:YES completion:^{
    [self.signInViewController dismissViewControllerAnimated:NO completion:^{
        appDelegate.window.rootViewController.modalPresentationStyle = UIModalPresentationCurrentContext;
        [self presentViewController:self.signInViewController animated:NO completion:nil];
        appDelegate.window.rootViewController.modalPresentationStyle = UIModalPresentationFullScreen;

    }];
}]; 
```

此代码也适用于 iPhone

* * *

## 回答 #10

> 赞同：11
> 
> 时间：2015-09-08T16:11:02.827

这个类别对我有用（ios 7、8 和 9）

H文件

```
@interface UIViewController (navigation)
- (void) presentTransparentViewController:(UIViewController *)viewControllerToPresent animated:(BOOL)flag completion:(void (^)(void))completion;
@end 
```

文件

```
@implementation UIViewController (navigation)
- (void)presentTransparentViewController:(UIViewController *)viewControllerToPresent animated:(BOOL)flag completion:(void (^)(void))completion
{
    if(SYSTEM_VERSION_LESS_THAN(@"8.0")) {
        [self presentIOS7TransparentController:viewControllerToPresent withCompletion:completion];

    }else{
        viewControllerToPresent.modalPresentationStyle = UIModalPresentationOverCurrentContext;
         [self presentViewController:viewControllerToPresent animated:YES completion:completion];
    }
}
-(void)presentIOS7TransparentController:(UIViewController *)viewControllerToPresent withCompletion:(void(^)(void))completion
{
    UIViewController *presentingVC = self;
    UIViewController *root = self;
    while (root.parentViewController) {
        root = root.parentViewController;
    }
    UIModalPresentationStyle orginalStyle = root.modalPresentationStyle;
    root.modalPresentationStyle = UIModalPresentationCurrentContext;
    [presentingVC presentViewController:viewControllerToPresent animated:YES completion:^{
        root.modalPresentationStyle = orginalStyle;
    }];
}
@end 
```

* * *

## 回答 #11

> 赞同：10
> 
> 时间：2017-09-20T03:24:06.237

如果您使用 Storyboard，则可以按照以下步骤操作：

> 1.  添加视图控制器 (V2)，按照您想要的方式设置 UI

*   添加一个 UIView - 将背景设置为黑色，不透明度设置为 0.5
*   添加另一个 UIView(2) - 将作为您的弹出窗口（请注意 UIView 和 UIView(2) 必须具有相同的级别/层次结构。不要使 imageview 成为视图的子视图，否则 uiview 的不透明度将影响 UIView(2))

> 2.  模态呈现 V2
>     
>     
> 3.  单击转场。在属性检查器中，将 Presentation 设置为**Over Full Screen**。如果你喜欢删除动画

![故事板](../Images/19a110e58b1274fdbaac998ed74fbdb9.png)

> 4.  选择 V2。在属性检查器中，将 Presentation 设置为**Over Full Screen**。检查**定义上下文并提供上下文**

![故事板](../Images/8add60114da382c90a5fd709146a8429.png)

> 5.  选择您的 V2 的 MainView（请检查图像）。将 backgroundColor 设置为**清除颜色**

![故事板](../Images/f030cc01b95c0adf8f935f058a058327.png)

* * *

## 回答 #12

> 赞同：7
> 
> 时间：2016-03-31T08:52:38.137

我在呈现的视图控制器的 init 方法中添加了这三行代码，效果非常好：

```
self.providesPresentationContextTransitionStyle = YES;
self.definesPresentationContext = YES;
[self setModalPresentationStyle:UIModalPresentationOverCurrentContext]; 
```

编辑（在 iOS 9.3 上工作）：

```
self.modalPresentationStyle = UIModalPresentationOverFullScreen; 
```

根据文档：

> [UIModalPresentationOverFullScreen](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/#//apple_ref/c/econst/UIModalPresentationOverFullScreen) 一种视图呈现样式，其中呈现的视图覆盖屏幕。演示结束时，所呈现内容下方的视图不会从视图层次结构中删除。因此，如果呈现的视图控制器没有用不透明的内容填充屏幕，则底层内容会显示出来。

在 iOS 8.0 及更高版本中可用。

* * *

## 回答 #13

> 赞同：4
> 
> 时间：2013-08-14T09:46:56.117

另一种方法是使用“容器视图”。只需将 alpha 设为 1 以下并嵌入 sequ。XCode 5，针对 iOS7。在 iPhone 上测试。

![在此处输入图像描述](../Images/559328e472be5285b3db7775e68656be.png)

iOS6 提供的容器视图。 [链接](http://mikeglukhov.blogspot.ru/2013/08/make-view-controller-transparent.html)到有关此的博客文章。

* * *

## 回答 #14

> 赞同：4
> 
> 时间：2014-11-27T16:52:46.173

我创建了一个对象来处理我所谓的“叠加模式”的呈现，这意味着它保留了背景的视图并允许您拥有一个具有透明背景的模式。

它有一个简单的方法可以做到这一点：

```
- (void)presentViewController:(UIViewController *)presentedViewController
       fromViewController:(UIViewController *)presentingViewController
{
    presentedViewController.modalPresentationStyle = UIModalPresentationCustom;
    presentedViewController.transitioningDelegate = self;
    presentedViewController.modalPresentationCapturesStatusBarAppearance = YES;

    [presentedViewController setNeedsStatusBarAppearanceUpdate];

    [presentingViewController presentViewController:presentedViewController
                                       animated:YES
                                     completion:nil];
} 
```

如果您呈现的视图控制器具有不同`modalPresentationCapturesStatusBarAppearance`的.`YES``preferredStatusBarStyle`

这个对象应该有一个`@property (assign, nonatommic) isPresenting`

您希望此对象遵守`UIViewControllerAnimatedTransitioning`和`UIViewControllerTransitioningDelegate`协议并实现以下方法：

```
- (id)animationControllerForPresentedController:(UIViewController *)presented
                           presentingController:(UIViewController *)presenting
                               sourceController:(UIViewController *)source
{
    self.isPresenting = YES;

    return self;
}

- (id)animationControllerForDismissedController:(UIViewController *)dismissed
{
    self.isPresenting = NO;

    return self;
} 
```

和：

```
- (NSTimeInterval)transitionDuration:(id)transitionContext
{
    return 0.25;
}

- (void)animateTransition:(id)transitionContext
{
    UIViewController* firstVC = [transitionContext viewControllerForKey:UITransitionContextFromViewControllerKey];
    UIViewController* secondVC = [transitionContext viewControllerForKey:UITransitionContextToViewControllerKey];
    UIView* containerView = [transitionContext containerView];
    UIView* firstView = firstVC.view;
    UIView* secondView = secondVC.view;

    if (self.isPresenting) {
        [containerView addSubview:secondView];
        secondView.frame = (CGRect){
            containerView.frame.origin.x,
            containerView.frame.origin.y + containerView.frame.size.height,
            containerView.frame.size
        };

        firstView.tintAdjustmentMode = UIViewTintAdjustmentModeDimmed;
        [UIView animateWithDuration:0.25 animations:^{
            secondView.frame = containerView.frame;
        } completion:^(BOOL finished) {
            [transitionContext completeTransition:YES];
        }];
        } else {
        [UIView animateWithDuration:0.25 animations:^{
            firstView.frame = (CGRect){
                containerView.frame.origin.x,
                containerView.frame.origin.y + containerView.frame.size.height,
                containerView.frame.size
        };

        } completion:^(BOOL finished) {
            [transitionContext completeTransition:YES];
        }];
    }
} 
```

这是一个从底部滑入的动画，模仿默认的模态动画，但您可以随意制作。

重要的是呈现视图控制器的视图将保留在后面，让您创建透明效果。

此解决方案适用于 iOS 7+

* * *

## 回答 #15

> 赞同：3
> 
> 时间：2016-01-14T16:19:38.453

一个非常简单的方法（`Storyboards`例如使用 ）是：

```
UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"SomeStoryboard" bundle:nil];
UIViewController *vc = [storyboard instantiateViewControllerWithIdentifier:@"SomeStoryboardViewController"];
// the key for what you're looking to do:
vc.modalPresentationStyle = UIModalPresentationOverCurrentContext;
vc.view.alpha = 0.50f;

[self presentViewController:vc animated:YES completion:^{
    // great success
}]; 
```

这将以模态方式呈现 a `UIViewController`，`Storyboard`但具有半透明背景。

* * *

## 回答 #16

> 赞同：3
> 
> 时间：2017-03-15T12:42:40.277

为 iOS 7-10 工作

```
if #available(iOS 8.0, *) {
    nextVC.modalPresentationStyle = .OverCurrentContext
    self.presentViewController(nextVC, animated: true, completion: nil)
} else {
    // Fallback on earlier version
    self.modalPresentationStyle = .Custom          
    nextVC.modalTransitionStyle = .CrossDissolve            
    self.presentViewController(nextVC, animated: false, completion: nil)
    }
} 
```

* * *

## 回答 #17

> 赞同：2
> 
> 时间：2014-07-09T14:10:48.840

**在这里回顾所有好的答案和评论，并在移动到新的时仍然有动画，`ViewController`这就是我所做的：（支持 iOS 6 及更高版本）**

如果您使用`UINavigationController`\`UITabBarController`这是要走的路：

```
 SomeViewController *vcThatWillBeDisplayed = [self.storyboard instantiateViewControllerWithIdentifier:@"SomeVC"];

    vcThatWillBeDisplayed.view.backgroundColor = [UIColor colorWithRed: 255/255.0 green:255/255.0 blue:255/255.0 alpha:0.50];    

    self.navigationController.modalPresentationStyle = UIModalPresentationCurrentContext;
    [self presentViewController:presentedVC animated:YES completion:NULL]; 
```

如果你这样做，你将失去你的`modalTransitionStyle`动画。为了解决它，您可以轻松地将其添加到您的`SomeViewController`课程中：

```
-(void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:animated];
    [UIView animateWithDuration:0.4 animations:^() {self.view.alpha = 1;}
       completion:^(BOOL finished){}];
}
- (void)viewDidLoad
{
    [super viewDidLoad];
    self.view.alpha = 0;
} 
```

* * *

## 回答 #18

> 赞同：2
> 
> 时间：2018-12-06T02:14:57.453

当然你应该设置 UIModalPresentationCurrentContext，但是设置 clearColor 的地方也很重要！您不能在 viewDidLoad 函数中设置背景，在视图加载之前设置它，就像在**根视图控制器**或将要呈现的控制器的**init 函数中一样！**

```
actionController.view.backgroundColor = [UIColor clearColor];
[self presentViewController:actionController animated:YES completion:nil]; 
```

或者

```
- (instancetype)init {

    self = [super initWithNibName:nil bundle:nil];

    if(self) {
        self.modalPresentationStyle = UIModalPresentationOverCurrentContext;
        [self.view setBackgroundColor:[UIColor clearColor]];
    }

    return self;
} 
```

* * *

## 回答 #19

> 赞同：1
> 
> 时间：2014-12-17T05:20:33.427

如果您使用的是模态转场，请确保将其设置为此图像（如果您愿意，可以关闭动画）![在此处输入图像描述](../Images/44d3a5f8f6ae413d04ecb76e93ac8939.png)

* * *

## 回答 #20

> 赞同：1
> 
> 时间：2015-03-10T06:26:50.740

在 iOS 7 和 iOS 8 上测试的完整方法。

```
@interface UIViewController (MBOverCurrentContextModalPresenting)

/// @warning Some method of viewControllerToPresent will called twice before iOS 8, e.g. viewWillAppear:.
- (void)MBOverCurrentContextPresentViewController:(UIViewController *)viewControllerToPresent animated:(BOOL)flag completion:(void (^)(void))completion;

@end

@implementation UIViewController (MBOverCurrentContextModalPresenting)

- (void)MBOverCurrentContextPresentViewController:(UIViewController *)viewControllerToPresent animated:(BOOL)flag completion:(void (^)(void))completion {
    UIViewController *presentingVC = self;

    // iOS 8 before
    if (floor(NSFoundationVersionNumber) <= NSFoundationVersionNumber_iOS_7_1) {
        UIViewController *root = presentingVC;
        while (root.parentViewController) {
            root = root.parentViewController;
        }

        [presentingVC presentViewController:viewControllerToPresent animated:YES completion:^{
            [viewControllerToPresent dismissViewControllerAnimated:NO completion:^{
                UIModalPresentationStyle orginalStyle = root.modalPresentationStyle;
                if (orginalStyle != UIModalPresentationCurrentContext) {
                    root.modalPresentationStyle = UIModalPresentationCurrentContext;
                }
                [presentingVC presentViewController:viewControllerToPresent animated:NO completion:completion];
                if (orginalStyle != UIModalPresentationCurrentContext) {
                    root.modalPresentationStyle = orginalStyle;
                }
            }];
        }];
        return;
    }

    UIModalPresentationStyle orginalStyle = viewControllerToPresent.modalPresentationStyle;
    if (orginalStyle != UIModalPresentationOverCurrentContext) {
        viewControllerToPresent.modalPresentationStyle = UIModalPresentationOverCurrentContext;
    }
    [presentingVC presentViewController:viewControllerToPresent animated:YES completion:completion];
    if (orginalStyle != UIModalPresentationOverCurrentContext) {
        viewControllerToPresent.modalPresentationStyle = orginalStyle;
    }
}

@end 
```

* * *

## 回答 #21

> 赞同：1
> 
> 时间：2019-04-15T19:14:49.173

斯威夫特 4.2

```
guard let someVC = UIStoryboard(name: "Main", bundle: nil).instantiateViewController(withIdentifier: "someVC") as? someVC else {
    return
}
someVC.modalPresentationStyle = .overCurrentContext

present(someVC, animated: true, completion: nil) 
```

* * *

## 回答 #22

> 赞同：0
> 
> 时间：2014-04-03T06:02:00.347

在 appdelegate 中：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    [[_window rootViewController]setModalPresentationStyle:UIModalPresentationCurrentContext];
    return YES;
} 
```

在您必须加载下一个视图的第一个视图控制器中：

```
 NextViewController *customvc = [[NextViewController alloc]init];
    [self presentViewController:customvc animated:YES completion:^{

    }]; 
```

在要添加透明的 nextViewController 中：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    self.view.backgroundColor = [UIColor clearColor];
    UIView* backView = [[UIView alloc] initWithFrame:self.view.frame];
    backView.backgroundColor = [[UIColor blackColor] colorWithAlphaComponent:0.6];
    [self.view insertSubview:backView atIndex:0];
} 
```

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2015-04-15T07:05:50.220

> 登录屏幕是一个模式，这意味着它位于前一个屏幕的顶部。到目前为止，我们已经模糊了背景，但它并没有模糊任何东西；它只是一个灰色的背景。

### 我们需要正确设置我们的模态。

[图片链接目标](https://designcode.io/cloud/Chapter3/ViewBackgroundClear.png)

*   首先，我们需要将 View Controller 的 View 背景更改为 Clear color。它只是意味着它应该是透明的。默认情况下，该视图是白色的。

*   其次，我们需要选择通向登录屏幕的 Segue，并在 Attribute Inspector 中，将 Presentation 设置为 Over Current Context。此选项仅在启用自动布局和大小类的情况下可用。

[图片链接目标](https://designcode.io/cloud/Chapter3/segueovercurrentcontext.png)

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2017-07-05T08:28:31.570

将导航设置`modalPresentationStyle`为`UIModalPresentationCustom`

并将您呈现的视图控制器的背景颜色设置为清晰的颜色。**

# git - 在 Windows 7 下使用 Jenkins 正确配置 Git

> ID：12741227
> 
> 赞同：1
> 
> 时间：2012-10-05T07:04:52.430
> 
> 标签：git, windows-7, jenkins

我在 Windows 7 下使用 Jenkins 1.484，我在克隆 git 存储库时遇到了麻烦。

我已经正确配置了 Git，但是当我尝试克隆存储库时，这需要很长时间并且永远不会成功。它在以下情况下停止：

git --version git 版本 1.7.9.msysgit.0

如果十分钟后我确实停止了构建，这就是我所看到的：

```
ERROR: Error cloning remote repo 'origin' : Could not clone git@github.com:GBSA/Gottware-server.git
hudson.plugins.git.GitException: Could not clone git@github.com:GBSA/Gottware-server.git
    at hudson.plugins.git.GitAPI.clone(GitAPI.java:271)
    at hudson.plugins.git.GitSCM$2.invoke(GitSCM.java:1040)
    at hudson.plugins.git.GitSCM$2.invoke(GitSCM.java:982)
    at hudson.FilePath.act(FilePath.java:851)
    at hudson.FilePath.act(FilePath.java:824)
    at hudson.plugins.git.GitSCM.determineRevisionToBuild(GitSCM.java:982)
    at hudson.plugins.git.GitSCM.checkout(GitSCM.java:1138)
    at hudson.model.AbstractProject.checkout(AbstractProject.java:1256)
    at hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:589)
    at jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:88)
    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:494)
    at hudson.model.Run.execute(Run.java:1502)
    at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:46)
    at hudson.model.ResourceController.execute(ResourceController.java:88)
    at hudson.model.Executor.run(Executor.java:236)
Caused by: hudson.plugins.git.GitException: Error performing command: C:\Program Files (x86)\Git\bin\git.exe clone --progress -o origin git@github.com:GBSA/Gottware-server.git G:\jenkins\workspaces\gottwareproductiontests
    at hudson.plugins.git.GitAPI.launchCommandIn(GitAPI.java:870)
    at hudson.plugins.git.GitAPI.access$000(GitAPI.java:40)
    at hudson.plugins.git.GitAPI$1.invoke(GitAPI.java:267)
    at hudson.plugins.git.GitAPI$1.invoke(GitAPI.java:246)
    at hudson.FilePath.act(FilePath.java:851)
    at hudson.FilePath.act(FilePath.java:824)
    at hudson.plugins.git.GitAPI.clone(GitAPI.java:246)
    ... 14 more
Caused by: java.lang.InterruptedException
    at java.lang.ProcessImpl.waitFor(Native Method)
    at hudson.Proc$LocalProc.join(Proc.java:319)
    at hudson.Launcher$ProcStarter.join(Launcher.java:352)
    at hudson.plugins.git.GitAPI.launchCommandIn(GitAPI.java:851)
    ... 20 more
Trying next repository
ERROR: Could not clone repository
FATAL: Could not clone
hudson.plugins.git.GitException: Could not clone
    at hudson.plugins.git.GitSCM$2.invoke(GitSCM.java:1052)
    at hudson.plugins.git.GitSCM$2.invoke(GitSCM.java:982)
    at hudson.FilePath.act(FilePath.java:851) 
```

相反，如果我尝试执行从命令行配置的相同 GIT，则克隆成功

```
C:\Program Files (x86)\Git\bin>"C:\Program Files (x86)\Git\bin\git.exe" clone --progress -o origin git@github.com:GBSA/Gottware-server.git G:\jenkins\
workspaces\gottwareproductiontests
Cloning into 'G:\jenkins\workspaces\gottwareproductiontests'...
remote: Counting objects: 38007, done.
remote: Compressing objects: 100% (16268/16268), done. 
```

出了什么问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T08:00:48.067

在 Windows 上，Jenkins 进程作为系统服务运行，因此它作为 SYSTEM 用户运行，而不使用您的帐户。您正在使用 git@github.com 类型的 URL，以便尝试使用 SSH，这将需要从像 pageant 这样的 ssh 代理或以 SYSTEM 用户身份运行时从 ~/.ssh/identity 中找到 ssh 密钥。

最简单的解决方案是使用 http 或 https 传输。当您在执行构建时拉而不是推送时，您不需要为这些协议配置用户名或密码。如果您的本地网络配置允许，您可以使用 git 协议 (git://github.com/...)。

或者，您可以使用 sysinternals 中的 psexec 以系统用户身份获取命令提示符并修复本地环境，以便 ssh 可以工作。`psexec -i -s cmd.exe`将产生一个 SYSTEM 命令提示符，然后您可以运行 msysGit bash shell 并设置合适的 ssh 密钥以向远程系统注册。我一直在 XP 上使用它 - 所以它可能不再适用于 Win7。您还可以将 Jenkins 配置为作为另一个用户帐户运行，但我没有在本地使用该方法。

# php - 如何构建此查询以将 id 与两个表进行比较？

> ID：12741234
> 
> 赞同：0
> 
> 时间：2012-10-05T07:05:23.177
> 
> 标签：php, mysql

![查询逻辑](../Images/2a7a25ffe4e38a5b30eee6f5a0c151f5.png)

我画了这张图片来解释我需要什么

> 1.比较两个不同表中的user_id和user_id
> 
> 2.然后将两个表中的相应 ref_global_id 匹配到事件表
> 
> 3.从事件表中匹配的global_id然后按升序排列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:25:22.910

或这个：

```
 SELECT e.global_id, e.event_time
    FROM (SELECT * FROM table1
          UNION
          SELECT * FROM table2) x inner join
          event_table e ON e.global_id = x.ref_global_id
    WHERE x.[user_id] = 121 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:23:51.357

```
SELECT e.global_id, e.event_time
FROM events_table e
JOIN table1 t1 on e.global_id = t1.ref_global_id
JOIN table2 t2 on e.global_id = t2.ref_global_id
WHERE t1.user_id = 121 AND t2.user_id = 121
ORDER BY e.event_time 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:23:59.960

尝试这个：

```
select global_id, event_time from event left join table1 on event.global_id = table1.ref_global_id AND table1.user_id = 121 left join table2 on event.global_id = table2.ref_global_id AND table2.user_id = 121 
```

# titanium-mobile - 在 android 的钛框架中工作时，我从哪里获得 .aidl 文件？

> ID：12741241
> 
> 赞同：0
> 
> 时间：2012-10-05T07:05:34.433
> 
> 标签：titanium-mobile, android-2.2-froyo, aidl

aidl 工具将 .aidl 文件转换为有助于制作 .apk 文件的 java 接口。我想知道从哪里获得 .aidl 文件？它来自android SDK吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T23:46:03.553

这是由 android SDK 为您处理的。即使您在本地开发，也不必担心这一点。

# java - 当一个或两个因素为负时，我如何进行递归乘法？

> ID：12741244
> 
> 赞同：11
> 
> 时间：2012-10-05T07:05:40.180
> 
> 标签：java

```
public static int multiply2(int num1, int num2) {
    if (num1 == 0 || num2 == 0) {
        return 0;
    }

    else {
        return num1 + multiply2(num1, num2 - 1);
    }

} 
```

我刚刚意识到，编写一个可以确定两个数字的乘积的程序会很有趣，一个或两个数字都是负数。我想使用递归乘法（基本上是重复加法）来做到这一点。有人可以帮我吗？谢谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-05T07:11:24.037

```
if (num1 == 0 || num2 == 0) {
        return 0;
}

else if( num2 < 0 ) {
    return - num1 + multiply2(num1, num2 + 1);
}

else {
    return num1 + multiply2(num1, num2 - 1);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-05T07:12:53.153

```
else if (num1 < 0 || num2 < 0) {
    int signum1 = num1 < 0 ? -1 : 1;
    int signum2 = num2 < 0 ? -1 : 1;
    return signum1 * signum2 * multiply(signum1 * num1, signum2 * num2);
} else { 
```

类似的东西

注：有一个[`signum`](http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#signum%28double%29)功能，`Math.abs`可用于`signum * num`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-05T07:09:55.210

您将测试它是否为负数并减去而不是添加：

```
public static int multiply2(int num1, int num2) {
    if (num1 == 0 || num2 == 0) {
        return 0;
    }
    else if(num2 > 0){
        return num1 + multiply2(num1, num2 - 1);
    }
    else{
        return -num1 + multiply2(num1, num2 + 1);
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-05T07:13:26.813

如果数字是 -ve，您将需要添加。如果您看到我们只添加第一个数字，而对于第二个数字，我们必须达到的条件是`0`。所以如果消极做`+1`如果积极做`-1`

```
 else if (num2 < 0)
            return -num1 + multiply2(num1, num2 + 1);
         else
            return num1 + multiply2(num1, num2 - 1);

    System.out.println(multiply2(5, -6));-->-30
    System.out.println(multiply2(5, 6));-->30 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-04-26T17:01:08.407

与其在主递归部分多次处理它，不如将其作为边缘情况处理并将其转换为常规情况，因为在数学运算完成之前不会发生赋值和返回。为此，我将 y 转换为正数，然后在结果返回负数情况后将函数的结果作为一个整体取反。

这是我的解决方案：

```
private static int product(int x, int y) {
    // Negative start edge case
    if (y < 0) {
        return -1 * product(x, y * -1);
    }

    // Edge case (only for speed)
    if (y == 0 || x == 0) {return 0;}

    // Base case
    if (y == 1) {
        return x;
    }

    // Recursion
    return x + product(x, y-1);
} 
```

值得注意的是，即使没有 0 边缘情况，该方法仍然有效。在这种情况下，该方法只需要多做一些就可以获得结果。

测试得出结论，此方法适用于任一参数为 0 和/或负数。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-05T07:13:24.603

```
public static int multiply2(int num1, int num2) {
    if (num1 == 0 || num2 == 0) {
        return 0;
    }

    else {
        int sign2=(int)(Math.abs(num2)/num2);
        return sign2*num1 + multiply2(num1,num2-sign2);
    }

} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-06-03T20:10:48.530

David Wallace 的回答很好，但如果输入是 (1,124) 或 (-1,124)，递归深度（方法调用自身的次数）将为 123，效率不高。我建议添加几行来测试 1 或 -1。这是一个完整的例子：

```
public class Multiply {

    public static void main(String[] args) {

        System.out.print("product = " + multiply(1, 124) );
    }

    public static int multiply(int x, int y) {
        System.out.println("Multiply called: x = " + x + ", y = " + y);

        if (x == 0 || y == 0) {
            System.out.println("Zero case: x = " + x + ", y = " + y);
            return 0;
        }

        else if (x == 1 && y > 0) {
            return y;
        }

        else if (y == 1 && x > 0) {
            return x;
        }

        else if ( x == -1 && y > 0) {
            return -y;
        }

        else if ( y == -1 && x > 0) {
            return -x;
        }

        else if( y == -1 ) {
            System.out.println("y is == -1");
            return -x;
        }

        else if( x == -1 ) {
            System.out.println("x is == -1");
            return -y;
        }

        else if( y < 0 ) {
            System.out.println("y is < 0");
            return -x + multiply(x, y + 1);
        }

        else { 
            System.out.println("Last case: x = " + x + ", y = " + y);
            return x + multiply(x, y - 1);
        }
    }
} 
```

输出：

```
Multiply called: x = 1, y = 124
product = 124 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-05-26T23:16:17.917

好的，所以我实际上正在为家庭作业做这个。*递归解决方案实施或使用确定是否需要继续的基本情况*。现在，你可能会说，“这到底是什么意思？” 好吧，用外行的话来说，这意味着我们可以简化我们的代码（并且，在现实世界中，可以为我们的软件节省一些开销）——我稍后会解释这一点。现在，问题的一部分是理解一些基本的数学，即**负数加负数是负数**还是**负数**（-1 + -1 = -2）取决于您与之交谈的数学老师（我们将看到它在下面的代码中发挥作用）。

现在，这里**有**一些争论。关于它，我稍后会写。

这是我的代码：

```
public static int multiply(int a, int b)
{
    if (a == 0) 
    {
        return result;
    } 
    else if (a < 0) // Here, we only test to see whether the first param.  
                    // is a negative
    {
        return -b + multiply(a + 1, b); // Here, remember, neg. + neg. is a neg.
    }                                   // so we force b to be negative.
    else 
    {
        result = result + b;
        return multiply(Math.abs(a - 1), b);
    }
} 
```

请注意，这里有两件事做的不同：

1.  由于第一段的数学原理，上面的代码没有测试第二个参数看第二个参数是否为负（`a < 0`）（见第一段的**粗体字**）。本质上，如果我知道我正在将 ( *y* ) 乘以一个负数 ( *-n* )，我知道我正在使用*-n*并将其加在一起*​​y*次；因此，如果[被乘数或乘数](http://www.factmonster.com/ipka/A0881931.html)为负数，我知道我可以取其中一个数字，使数字为负数，然后一遍又一遍地将数字加到自身上，例如 -3 * 7 可以写成 (-3) + ( -3) + (-3) + (-3)... 等等*OR* (-7) + (-7) + (-7)

2.  **现在讨论的内容是：**上面的代码不会测试第二个数字 ( `int b`) 是否为`0`，即乘以`0`。为什么？嗯，这是个人选择（有点）。这里的辩论必须权衡某事的相对重要性：每个选择的开销（是否运行等于零测试）。如果我们*进行*测试以查看一侧是否为零，则每次递归调用乘法时，代码都必须计算表达式；但是，如果我们*不*测试是否等于零，那么代码会将一堆零加在一起*​​n*次。实际上，这两种方法的“权重”相同——因此，为了节省内存，我省略了代码。

# objective-c - UIKeyboardTypeDecimalPad 限制小数点和处理本地化

> ID：12741245
> 
> 赞同：1
> 
> 时间：2012-10-05T07:05:41.397
> 
> 标签：objective-c, ios, localization

> **可能重复：**
> [UIKeyboardTypeDecimalPad 中的小数点不能用于数学计算](https://stackoverflow.com/questions/11487850/decimal-point-in-uikeyboardtypedecimalpad-cant-be-used-in-mathematical-calculat)

我有一个 iPhone 应用程序，我们在其中使用 UIKeyboardTypeDecimalPad 进行输入，在我们开始本地化应用程序之前，它一直运行良好，我们现在面临的问题是，当语言切换为法语或德语时，小数点键盘从句号 ( `.`) 变为逗号 ( `,`)。

我们目前正在运行此代码以限制多个小数点的输入，即 12.4.4 使用此代码它将只允许输入 12.4

这工作正常，但现在我们还需要检查逗号，如果它有逗号，还需要转换用户输入以进行我们的计算

有没有更好的方法来限制键盘上的逗号和句号输入？

```
-(BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{

NSString *currentText = textField.text;

if ([currentText rangeOfString:@"." options:NSBackwardsSearch].length == 0) {
    return YES;
} else {
    if ([string rangeOfString:@"." options:NSBackwardsSearch].length == 0) {
        return YES;
    } else {
        return NO;
    }

}

return NO; 
```

}

谢谢亚伦

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T11:26:19.417

我已经设法解决了这个问题，这将验证数字是十进制格式并接受 , 或 .

亚伦

```
 - (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
{
    NSNumberFormatter *numberFormatter = [[NSNumberFormatter alloc] init];
    [numberFormatter setNumberStyle:NSNumberFormatterDecimalStyle];

    NSNumber* candidateNumber;

    NSString* candidateString = [textField.text stringByReplacingCharactersInRange:range withString:string];

    range = NSMakeRange(0, [candidateString length]);

    [numberFormatter getObjectValue:&candidateNumber forString:candidateString range:&range error:nil];

    if (([candidateString length] > 0) && (candidateNumber == nil || range.length < [candidateString length])) {
        [numberFormatter release];
        return NO;
    }
    else {
        [numberFormatter release];
        return YES; 
    } 
} 
```

# c# - 为什么以任何方式访问我的 Storyboard 都会导致 System.Exception？

> ID：12741252
> 
> 赞同：0
> 
> 时间：2012-10-05T07:05:58.327
> 
> 标签：c#, xaml, windows-8, storyboard

我正在尝试用 C#/XAML 制作一个简单的游戏。我有一个工作线程，它计算每个刻度的游戏元素的新位置，然后用新位置更新 UI。或者至少应该是。

相反，输出显示：

```
A first chance exception of type 'System.Exception' occurred in Game.exe
An exception of type 'System.Exception' occurred in Game.exe but was not handled in user code
The thread '<No Name>' (0x1218) has exited with code 0 (0x0). 
```

我已经用断点筛选了这个，代码在这个区域中断了。

```
 //Stop previous animation in case it is ongoing
        GameStoryboard.Stop();

        //Remove all previous timelines from the storyboard
        foreach (Timeline timeline in GameStoryboard.Children)
        {
            GameStoryboard.Children.Remove(timeline); 
        } 
```

那里的第一行代码使它崩溃，但我可以注释掉 GameStoryboard.Stop() 行（它仅在游戏的滴答时间在循环之间自动降低的情况下才相关），然后它只是在 foreach 循环上崩溃。如果我注释掉 foreach 循环，它会在我*下次*引用 GameStoryboard 时崩溃。

GameStoryboard 的声明如下所示：

```
 <Canvas Name="GameCanvas" Height="900" Width="1440" Background="Blue">
            <Canvas.Resources>
                <Storyboard x:Name="GameStoryboard"/>
            </Canvas.Resources>
        </Canvas> 
```

我能想到的唯一理论是，XAML 对象是否不允许您从与初始化它的线程不同的线程引用它们？如果是这样，做我想做的最好的方法是什么？如果没有，有人知道是什么原因造成的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:33:58.043

正如 Alex 所说，您只能从创建它们的线程访问 DependencyObjects。

您可以使用 Dispatcher 在 UI 线程上执行代码以访问您的“故事板”。例如，如果您在代码隐藏中使用 BackgroundWorker：

```
private void BwOnDoWork(object sender, DoWorkEventArgs doWorkEventArgs)
{
    Dispatcher.BeginInvoke(new Action(ClearChildren), DispatcherPriority.Normal);
}

private void ClearChildren()
{
    GameStoryBoard.Children.Clear();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T07:15:12.257

您只能从创建它们的线程访问 DependencyObject。在您的情况下，只能从主 UI 线程访问 UI 元素。

您可以使用`Dispatcher.BeginInvoke`在主 UI 线程的调度程序上调用委托。您可以从 UserControl 或 Window 中获取 Dispatcher 对象，通常每个 UI 元素都应该有一个`Dispatcher`属性。

# three.js - three.js - THREE.RollControls 的触摸事件

> ID：12741255
> 
> 赞同：0
> 
> 时间：2012-10-05T07:06:15.097
> 
> 标签：three.js

我已经用于`THREE.RollControls`管几何场景中的运动。如何`THREE.RollControls`用于触摸事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T21:13:34.203

我将首先查看[RollControls](http://threejsdoc.appspot.com/doc/three.js/src.source/extras/controls/RollControls.js.html)的代码。在底部，您将看到所有鼠标事件都绑定到其处理程序的位置。

要添加触摸支持，您可以编辑或扩展 RollControls 以响应触摸事件。我希望 mousemove、mousedown 和 mouseup 事件分别对应于 touchmove、touchstart 和 touchend 事件。

# actionscript-3 - 为什么在 Flash 中暂停 MP3 流时会有延迟

> ID：12741257
> 
> 赞同：1
> 
> 时间：2012-10-05T07:06:18.457
> 
> 标签：actionscript-3, flash, audio, soundchannel

我有这个代码来流式传输 mp3 文件：

```
var isPlaying:Boolean;
var pausePoint:Number;

var soundChannel:SoundChannel = new SoundChannel();
var sound:Sound = new Sound( new URLRequest( 'mp3file.mp3' ) );
var volumeAdjust:SoundTransform = new SoundTransform();

soundChannel = sound.play();
isPlaying = true;

function clickPlayPause(evt:MouseEvent) {

    if (isPlaying) 
    {
       pausePoint = soundChannel.position;
       soundChannel.stop();
       //hide pause sign
       control_mc.play_btn.pausee.alpha = 0;
       //show play sign
       control_mc.play_btn.playy.alpha = 1;
       isPlaying = false;

    } else {

        soundChannel = sound.play(pausePoint);
        isPlaying = true;
       //hide play sign
       control_mc.play_btn.playy.alpha = 0;
       //show pause sign
       control_mc.play_btn.pausee.alpha = 1;

    }
}

function clickStop(evt:MouseEvent) {
    if (isPlaying) {
        soundChannel.stop();
        isPlaying = false;
    }
    pausePoint = 0.00;
} 
```

如您所见，上面的代码还包括一些事件处理函数来处理我的播放/暂停按钮。一切正常，但音乐真正停止播放需要两秒钟的时间。重新启动也需要一段时间。有人知道为什么吗？我该如何解决？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:33:56.477

Greensock tweener 具有淡入和淡出音频的功能，这将帮助您在收听音频文件时隐藏延迟。

导入 Greensock 补间并激活插件

```
import com.greensock.*;
import com.greensock.plugins.*;

TweenPlugin.activate([VolumePlugin]); 
```

然后

```
if(palying){
   TweenLite.to(soundChannel, .5, {volume:0});
}else{
   TweenLite.to(soundChannel, .5, {volume:1});
} 
```

# iphone - 在 iphone 中哪里可以使用 scrollToRowAtIndexPath？

> ID：12741258
> 
> 赞同：0
> 
> 时间：2012-10-05T07:06:23.657
> 
> 标签：iphone, objective-c, ios, xcode, uitableview

我`[self.messageList scrollToRowAtIndexPath:indexPath atScrollPosition:UITableViewScrollPositionTop animated:NO];`在 cellForRowAtIndexPath 中使用它，它工作正常，当在表数组中添加一行时，它会自动向上滚动，但问题是当我尝试查看最上面的行时，它会自动再次出现最后一行。而且我无法看到我的所有行。请让我知道我在哪里使用这个或任何其他方法来做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:31:34.410

`cellForRowAtIndexPath`不会为您拥有的所有单元格调用方法。仅对 TableView 中的可见单元格调用它。当您滚动时`UITableView`，它会询问`UITableView`您要使用可重复使用的单元格或添加到新单元格。通常我们使用可重复使用的单元格，所以它是使用第一个单元格并在单元格末尾添加。它不是在最后创建另一个新单元格。因此，当您滚动它时`UITableView`，它不会滚动到单元格末尾，它`indexPath`类似于`indexPath`第一个单元格。所以你不能将你的`UITableView`at 滚动到 Down。

**使用以下代码可能对您有所帮助.... :)**

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {

        NSString *CellIdentifier = [NSString stringWithFormat:@"S%1dR%1d",indexPath.section,indexPath.row];

        UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
        if (cell == nil)
        {
            cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:CellIdentifier];

            [self.tblView scrollToRowAtIndexPath:indexPath atScrollPosition: UITableViewScrollPositionTop animated: YES];
           // your code 

        }

          // your code 

        return cell;    

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:14:22.983

`cellForRowAtIndexPath`是一种创建要查看的单元格的方法。当您滚动查看单元格时调用此方法。因此，每次调用该 方法的`[self.messageList scrollToRowAtIndexPath:indexPath` 方法（在内部调用`cellForRow`）也被调用，并且表格向下滚动到该行！ ！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:10:40.590

如果您在单元格中为索引路径处的行编写此代码，那么每次您尝试手动滚动时都会调用它，因为会调用此消息来绘制您的单元格，并且您将被定向到您指定的行。尝试在 IF--Else 块中检查您的索引路径，并仅在发生特定操作时滚动。

# google-app-engine - 将一个类的对象传递给谷歌应用引擎中的另一个类

> ID：12741266
> 
> 赞同：0
> 
> 时间：2012-10-05T07:06:42.747
> 
> 标签：google-app-engine

我正在使用谷歌应用引擎，我有 2 个类，即 A 和 B，一个 db 模型说 DB，我已经在 A 类中处理了 DB 模型的对象，我想在 B 类中发送相同的对象，我该怎么做这？这是我的代码，

```
class Candidate(db.Model):
    name = db.StringProperty()
    lastname = db.StringProperty()
    email = db.StringProperty()
    mobno = db.StringProperty()

class A(webapp2.RequestHandler):
    def post(self):
        currCandidate = Candidate(key_name=self.request.get('email'))
        currCandidate.name = self.request.get('name')
        currCandidate.lastname=self.request.get('lname')
        currCandidate.email=self.request.get('email')
        currCandidate.mobno=self.request.get('mobno')

class B(webapp2.RequestHandler):
    def get(self):
        # currCandidate
        # want to access currCandidate object here,
        # currCandidate is from class A 
```

我想从 B 类访问 currCandidate 对象。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T08:51:37.710

由于您正在创建一个 Web 应用程序，您可以将对象存储在会话变量中并在其他类中访问它。`java`这是由`serializing`对象完成的并将其存储在会话变量中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T09:19:35.197

您的“A”处理程序是一个 POST，并通过 keyname（即电子邮件请求参数）获取 Candidate 对象。您不能对“B”处理程序使用相同的机制吗？这是一个 GET，因此您需要将电子邮件作为 URL 参数传入。例如[https://yourapp.appspot.com/b?email=someemail@domain.com](https://yourapp.appspot.com/b?email=someemail@domain.com)。

然后，您可以使用在 POST 中使用的相同代码再次获取它 - currCandidate = Candidate(key_name=self.request.get('email'))。

# ios - UIWebView 显示带有图像和表格的 RTF 文件

> ID：12741267
> 
> 赞同：4
> 
> 时间：2012-10-05T07:06:46.073
> 
> 标签：ios, ipad, uiwebview, rtf

对于一个项目，我需要在 iPad 上显示 RTF 文件的内容。经过一番搜索，我发现您可以在 UIWebView 中加载 RTF 文件。但是，当我这样做时，会显示文件的内容，但缺少表格边框和图像。粗体/斜体/下划线文本工作正常。

我用来显示文件的代码：

```
NSURL *url = [[NSBundle mainBundle] URLForResource:@"A" withExtension:@".rtf"];

NSLog(@"URL: %@", url);

NSURLRequest *req = [NSURLRequest requestWithURL:url];

[_webView loadRequest:req]; 
```

RTF 文件：

[https://dl.dropbox.com/u/4966217/A.rtf](https://dl.dropbox.com/u/4966217/A.rtf)

如何在我的应用程序中显示图像和表格边框？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T07:21:45.530

If you want only to show rtf file then you can also use `QLPreviewController`. It supports many file formats for preview.

Here is the documentation link for `QLPreviewController`: [http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Reference/QLPreviewController_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Reference/QLPreviewController_Class/Reference/Reference.html)

And here is sample code : [http://developer.apple.com/library/ios/#samplecode/DocInteraction/Introduction/Intro.html#//apple_ref/doc/uid/DTS40010052](http://developer.apple.com/library/ios/#samplecode/DocInteraction/Introduction/Intro.html#//apple_ref/doc/uid/DTS40010052)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-05T07:12:19.567

试试这个代码

```
NSString *filePath = [[NSBundle mainBundle] pathForAuxiliaryExecutable:@"A.rtf"];
NSURL *fileURL = [[NSURL alloc] initFileURLWithPath:filePath];
NSURLRequest *requestObj = [NSURLRequest requestWithURL:fileURL];
[_webView loadRequest:requestObj]; 
```

将其转换为 html

[http://dblog.com.au/iphone-development/loading-local-files-into-uiwebview/](http://dblog.com.au/iphone-development/loading-local-files-into-uiwebview/)

[http://kiefermat.com/2011/09/30/using-uiwebview-for-displaying-rich-text/](http://kiefermat.com/2011/09/30/using-uiwebview-for-displaying-rich-text/)

# c# - 使用 c# regex 排除字符串匹配

> ID：12741269
> 
> 赞同：3
> 
> 时间：2012-10-05T07:06:48.013
> 
> 标签：c#, html, regex, string, negative-lookahead

我是正则表达式的新手。我试图找到没有边框的图像。所以结果应该是第二个 Image。下面是尝试使用正则表达式匹配的文本。

```
<IMG onerror="this.errored=true;" USEMAP="#Map-43" BORDER="0"/>
<IMG onerror="this.errored=true;" USEMAP="#Map-43" />
<IMG onerror="this.errored=true;" USEMAP="#Map-43" BORDER="0"/> 
```

我尝试了以下正则表达式，但没有奏效

```
<IMG\\s[^((>)&(?!BORDER)]*> 
```

那么有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T07:11:46.807

您可以使用[HtmlAgilityPack](http://htmlagilitypack.codeplex.com/)来解析 html

```
HtmlAgilityPack.HtmlDocument doc = new HtmlAgilityPack.HtmlDocument();
doc.LoadHtml(html);

var imgs = doc.DocumentNode.Descendants("img")
    .Where(n => n.Attributes["border"] == null)
    .ToList(); 
```

PS：另见：[RegEx match open tags except XHTML self-contained tags](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T07:12:26.353

更好的选择是使用 html 解析器来解决此类问题。

但是您的主要正则表达式问题是您将前瞻放入字符类中，这样所有字符都被视为文字字符。

```
<IMG\s(?:(?!BORDER)[^>])*> 
```

应该工作得更好。[在 Regexr 上查看](http://regexr.com?32c6t)。

但这只是为了解释您的正则表达式问题。要解决您的编程任务，请使用[LB 答案](https://stackoverflow.com/a/12741345/626273)。

工作示例：

```
String html = "<IMG onerror=\"this.errored=true;\" USEMAP=\"#Map-43\" BORDER=\"0\"/><IMG onerror=\"this.errored=true;\" USEMAP=\"#Map-43\" /><IMG onerror=\"this.errored=true;\" USEMAP=\"#Map-43\" BORDER=\"0\"/>";
Console.WriteLine(Regex.Matches(html, @"<IMG\s(?:(?!BORDER)[^>])*>").Cast<Match>().ToList()[0]);
Console.ReadLine(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T08:19:38.250

另一种方法是使用 jQuery 和 CSS 选择器在客户端获取“无边框属性”图像：

```
$img = $('img').not('[border]'); 
```

链接：

*   **[演示](http://jsfiddle.net/xbbm5/)**
*   [jQuery .not()](http://api.jquery.com/not/)
*   [jQuery 属性不等于选择器](http://api.jquery.com/attribute-not-equal-selector/)

# php - 将值从数组传递到函数

> ID：12741275
> 
> 赞同：-1
> 
> 时间：2012-10-05T07:07:13.990
> 
> 标签：php, bbedit

我有以下代码可以获取所有新闻：

```
private function get_news()
    {   
        $news = array();

        $query  = $this->database->query("SELECT * FROM `news` ORDER BY `news_id` DESC");
        while($row = mysql_fetch_array($query))
        {
            $news[] = $row;
        }

        return $news;
    } 
```

在同一个班级我有一个`bbedit()`功能。我想获取`$news`[ *int* ]的值`['news_content']`并将其传递给该函数`bbedit()`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:09:12.147

用于`$this`调用类中的函数：

```
private function bbedit(){
    $news = $this->get_news(); // news will have all your array
    foreach($news as $key => $val){
        // do something with $val['news_content'];
    }
} 
```

或者

```
while($row = mysql_fetch_array($query)){
    $news[] = $this->bbedit($row['news_content']);
} 
```

# c# - 在 wcf 中的 datacontract 类中公开方法

> ID：12741278
> 
> 赞同：3
> 
> 时间：2012-10-05T07:07:24.140
> 
> 标签：c#, wcf, datacontract

> **可能重复：**
> [为 WCF 向 DataContract 对象添加方法](https://stackoverflow.com/questions/3734160/adding-methods-to-datacontract-objects-for-wcf)

可以在数据合同类中公开方法吗？

前任：

```
[Datacontract]
Public Class Customer
{
    [Datamember]
    Public string ID
    {
        get;set;
    }

    Public void AddSession(string key, int len)
    {

    }

} 
```

当客户端使用此服务时，如何在客户端公开“AddSession”方法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T07:10:52.930

在 a 中公开方法是`Datacontracts`没有意义的。DataContracts 只能应用于对象的状态，或者换句话说，类的成员字段。方法不是状态，而是状态变化的代理。

而且你不应该在 DataContract 里面有 OperationContract 这就是为什么

[WCF 数据契约中是否可以包含 WCF 操作契约？为什么？](https://stackoverflow.com/questions/3664995/can-a-wcf-data-contract-contain-a-wcf-operation-contract-inside-it-why)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-05T07:22:04.770

正如人们在[为 WCF 向 DataContract 对象添加方法中所说的那样](https://stackoverflow.com/questions/3734160/adding-methods-to-datacontract-objects-for-wcf)

> DTOs that are decorated as DataContract classes are real objects. They can have methods in them, but since a data contract describes the data which is communicated the methods are not part of the serialization process.

# c# - DataTable.Copy() 或 DeepClone。选择哪一个？

> ID：12741284
> 
> 赞同：6
> 
> 时间：2012-10-05T07:07:55.490
> 
> 标签：c#, .net, datatable, clone

我有一个困惑

**设想：**

我想创建要添加到另一个 DataSet 的 DataTable 的副本。有两种方法可以做到（AFAIK）：

```
1\. Make a Copy using DataTable.Copy()
2\. Make a Deep Clone using 

public static T DeepClone<T>(this T source)
{
    if (!typeof(T).IsSerializable)
        throw new ArgumentException("The type must be serializable.", "source");

    // Don't serialize a null object, simply return the default for that object
    if (Object.ReferenceEquals(source, null))
        return default(T);

    IFormatter formatter = new BinaryFormatter();
    Stream stream = new MemoryStream();
    using (stream)
    {
        formatter.Serialize(stream, source);
        stream.Seek(0, SeekOrigin.Begin);
        return (T)formatter.Deserialize(stream);
    }
} 
```

**我的困惑：**

1.  还有其他方法吗？
2.  哪个更好，为什么？
3.  `DataTable.Copy()`内部使用`DeepClone`还是其他一些逻辑？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2016-05-15T07:17:14.360

**DataTable.Copy()**本身创建数据表的深层副本，我不是在谈论 DataTable.Copy() 的实现，但复制数据表的工作方式与使用**DeepClone**复制数据相同，即对一张表的数据不会影响另一张表。

因此，在您的情况下，您可以简单地使用：-

```
DataTable dtCopy = dt.Copy(); 
```

或者您也可以使用：-

```
DataTable dtCopy = dt.Clone();
dtCopy.Merge(dt); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-05T08:08:42.633

除非我错过了一些微不足道的事情，否则你为什么不能做类似的事情

```
DataSet source = GetMySourceDataSet();
DataSet destination = new DataSet();

DataTable orders = source.Tables["SalesOrderHeader"];

// Query the SalesOrderHeader table for orders placed  
// after August 8, 2001.
IEnumerable<DataRow> query =
    from order in orders.AsEnumerable()
    where order.Field<DateTime>("OrderDate") > new DateTime(2001, 8, 1)
    select order;

// Create a table from the query.
DataTable modifiedOrders = query.IsAny() ? query.CopyToDataTable<DataRow>() : new DataTable();
destination.Tables.Add(modifiedOrders); 
```

小帮手

```
public static class Utils {
    public static bool IsAny<T>(this IEnumerable<T> data) {
        return data != null && data.Any();
    }
} 
```

# android - 未找到兼容的目标

> ID：12741289
> 
> 赞同：10
> 
> 时间：2012-10-05T07:08:30.320
> 
> 标签：android, eclipse, project-properties

我有

目标 android-4

在 project.properties 中。在eclipse中运行项目时出现错误

> 未找到兼容的目标

如何解决这个>

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T07:16:32.810

您必须创建一个模拟器或使用与此目标兼容的设备。即设备或模拟器应该有一个与这个项目兼容的安卓版本。

要运行 Emulator 实例，您必须创建一个虚拟 android 设备。为此，您将需要 AVD - 在 Eclipse 中单击“窗口 -> Android SDK 和 AVD 管理器”单击创建新的 AVD，此屏幕将弹出。使用您的目标或更高版本创建虚拟设备并运行您的项目。

![在此处输入图像描述](../Images/529a77569aa694e8db97444e281b1cc0.png)

查看本教程了解更多信息： [https ://developer.android.com/tools/devices/managing-avds.html](https://developer.android.com/tools/devices/managing-avds.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-05T07:10:41.073

**创建支持 android-4(Android 1.6) 的 AVD**或更改您的`android-4 target to android-8.`

**如何创建新的 AVD ？**

```
on Eclipse, [Window> Android AVD Manager] select,

you press the [new] button, you can create new Android Virtual Device 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T07:10:17.827

尝试在您的 project.properties 中更改为`target android-4`，`target android-15`然后再次刷新项目运行

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-05T07:11:59.363

您可以在模拟器或实际设备上运行应用程序。

要在模拟器上运行它，您需要先创建一个匹配的虚拟设备（参见[http://developer.android.com/tools/devices/index.html](http://developer.android.com/tools/devices/index.html)）

要在设备上运行它，插入设备并安装正确的 USB 驱动程序（参见[http://developer.android.com/tools/extras/oem-usb.html](http://developer.android.com/tools/extras/oem-usb.html)）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-05-19T20:03:43.883

如果您尝试在手机上运行该应用程序；我有同样的问题，我找到了一个适合我的解决方案：

尝试在手机上启用**USB 调试。**

我有一个三星 Galaxy SIII，我通过进入**Settings > Developer Options**启用了 USB 调试。然后检查**USB 调试**选项并允许您的计算机在连接​​时安装必要的驱动程序。希望这可以帮助！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-08-24T16:20:35.240

如果您在 Windows 上进行开发，要在设备上进行调试，首先您必须使用以下说明安装驱动程序：

[http://developer.android.com/tools/extras/oem-usb.html](http://developer.android.com/tools/extras/oem-usb.html)

您可以在 ...\sdk\extras\google\usb_driver\ 文件夹中找到驱动程序。

然后您必须在您的设备上启用 USB 调试。

在大多数运行 Android 3.2 或更早版本的设备上，您可以在“设置”>“应用程序”>“开发”下找到该选项。

在 Android 4.0 及更高版本上，它位于设置 > 开发人员选项中。

在 Android 4.2 和更新版本上，开发者选项默认是隐藏的。要使其可用，请转到“设置”>“关于手机”，然后点击“内部版本号”七次。返回上一个屏幕以查找开发人员选项。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2014-03-04T17:01:50.300

***Galaxy S4***用户需要前往**设置 > 更多按钮 > 关于设备**

接下来，您必须点击 Build number（灰色）**7 次，**然后您会在上一个菜单中获得一个名为**Developer options**的选项，选择此选项，然后勾选**USB 调试**

# javascript - 如何在 javascript 中正确执行此操作并在打印到 html 之前获取所有变量？

> ID：12741292
> 
> 赞同：0
> 
> 时间：2012-10-05T07:08:32.017
> 
> 标签：javascript, scope

我写了一些函数，我调用了`abApi.general.getUserById`函数，但是当我打印输出到`$("#friend-requests-block")`我的`name`变量时是空的。`$("#friend-requests-block")`我知道这是javascript，我在回调中尝试 `getUserById`，但后来我没有`type`。我怎样才能解决这个问题？

```
 for (var index in requests) {

                        var name = "";
                        var type = "";

                        if(requests[index].FriendRequestTypeId == 1) {
                            type = "private";
                        }
                        else {
                            type = "business";  
                        }

                        abApi.general.getUserById(abEnvironment.sessionToken, requests[index].FromUserId, function(response2){
                            name = response2.Name;  
                        });

                        $("#friend-requests-blocks").html($("#friend-requests-blocks").html() + "<div class=\"log-block\" id=\"friend-requests-log-"+requests[index].Id+"\"><a href=\"#\"><h2>"+ name + "("+ type +")</h2></a> <div class=\"friend-requests-buttons\" style=\"margin-top: 15px;\"> <a href=\"javascript:void(0)\" data-role=\"button\" style=\"margin: 0px 5px 0px 5px;\" onClick=\"abAction.approveFriendRequest("+requests[index].Id+", 1,"+requests[index].FromUserId+");\">Accept</a><a href=\"javascript:void(0)\"data-role=\"button\" style=\"margin: 0px 5px 0px 5px;\" onClick=\"abAction.approveFriendRequest("+requests[index].Id+", 0,"+requests[index].FromUserId+");\">Reject</a> <a class=\"button3\" href=\"javascript:void(0)\"data-role=\"button\" style=\"margin: 0px 5px 0px 5px;\" onClick=\"abAction.approveFriendRequest("+requests[index].Id+", 2,"+requests[index].FromUserId+");\">Later</a></div></div>");    

                } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:24:13.527

这不仅**是**您要处理的范围问题，而且也是异步的事实`getUserById`（甚至超过范围）。`name`在您的脚本收到响应之前，不会设置该变量。话虽如此，由于您使用的是循环，因此将`$('#friend-request-blocks').html()`位移动到成功回调不会削减它：变量`name`和`type`将在每次循环迭代时重新分配。为了解决这个问题，您必须使用闭包：

```
abApi.general.getUserById(abEnvironment.sessionToken,requests[index].FromUserId,
(function(type)
{//pass the current type as an argument to closure
    return function(response2)
    {
        var name = response2.Name;//declare local variable name, or use response2.Name
        $('#friend-request-blocks').html('html goes here with correct type: '+type+' and name: '+name);
    };
}(type))); 
```

此外，我得到的印象是你正在循环遍历一个数组，而不是一个对象，尽管我可能是错的。如果`requests`是数组，最好*不要*使用`for...in`循环，而是使用常规`for(var i;i<requests.length;i++)`循环。谷歌会给你一大堆理由，说明为什么`for...in`数组不是最好的想法。

# adobe - 使用 Acrobat 启用阅读器的 Acroform 的分发成本

> ID：12741294
> 
> 赞同：1
> 
> 时间：2012-10-05T07:08:44.420
> 
> 标签：adobe, itext

我们使用 iText 准备了 Acroforms，它在 Adob​​e 阅读器中默认保存受限，为了启用保存选项，我们使用了 Adob​​e Acrobat。现在要分发这个可编辑的 pdf，我们是否需要产生可编辑 pdf 的分发成本以及 adobe acrobat 的许可成本？

# javascript - 带有phonegap 2.1.0的jquery mobile中的事件流是什么？

> ID：12741297
> 
> 赞同：2
> 
> 时间：2012-10-05T07:08:52.527
> 
> 标签：javascript, events, jquery-mobile, cordova, onload

我是 jquery mobile 和 Phonegap 的新手。如果我在任何地方错了，请纠正我。

我启动了一个应用程序，它有五个 html 页面 -home.html、menu.html、orders.html、reservation.html、about.html。

我编写了一个通用的 JavaScript 文件 script.js，由所有这些包含通用 JavaScript 函数的 html 文件共享。在 homeactivity 中，我添加了 menu.html，因为我默认需要该页面。

现在我需要运行 init() 函数，该函数在每五个页面中有不同的代码，应该在页面显示给用户之后运行。

从 jquery mobile 和 Phonegap 的文档中，我得到了这些与页面加载相关的事件：

> mobileinit, pagebeforecreate, pagecreate, pageinit, pagebeforeshow, pageShow, onDeviceReady

所以据我所知，我在加载 jquerymobile.js 之前在所有五个 html 文件和公共 JavaScript 文件中添加了这段代码。所以我的每个 html 文件头看起来像这样：

```
 <link rel="stylesheet" type="text/css" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
     <script type="text/javascript" charset="utf-8" src="js/cordova-2.1.0.js"></script>
     <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
     <script type="text/javascript">
         document.addEventListener("deviceready", onDeviceReady, false);

     //reservation.html is replace by relative file name in each diff file
     function onDeviceReady() {
         // Empty
        console.log('ondeviceReady function on reservation.html');
     }

     $(document).bind("mobileinit", function(){
         //apply overrides here
         $.mobile.defaultPageTransition = 'none';
     });

     $(document).bind('pagebeforecreate',function(){
         console.log('reservation.html pagebeforecreate triggered');
     });

     $(document).bind('pagecreate',function(){
         console.log('reservation.html pagecreate triggered');
     });

     $(document).bind('pageinit',function(){
         console.log('reservation.html pageinit triggered');
     });

     $(document).bind('pagebeforeshow',function(){
         console.log('reservation.html pagebeforeshow triggered');
     });

     $(document).bind('pagebeforehide',function(){
         console.log('reservation.html pagebeforehide triggered');
     });

     $(document).bind('pageshow',function(){
         console.log('reservation.html pageshow triggered');
     });

     $(document).bind('pagehide',function(){
         console.log('reservation.html pagehide triggered');
     });

     $(document).bind('pagebeforeload',function(){
         console.log('reservation.html pagebeforeload triggered');
     });

     $(document).bind('pageload',function(){
         console.log('reservation.html pageload triggered');
     });
   </script>
   <script type="text/javascript" charset="utf-8" src="js/script.js"></script>
   <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script> 
```

当我启动应用程序时，console.log 的顺序如下：

```
 menu.html - pagebeforecreate
   script.js - pagebeforecreate
   menu.html - pagecreate
   script.js - pagecreate
   menu.html - pageinit
   script.js - pageinit
   menu.html - pagebeforeshow
   script.js - pagebeforeshow
   menu.html - pageShow
   script.js - pageShow
   menu.html - onDeviceReady
   script.js - onDeviceReady 
```

这正如我所料。但是，当我导航到 home.html（每个文件中链接的所有五个文件）时，出现了问题，console.log 如下：

```
 menu.html - pagebeforeload
   script.js - pagebeforeload
   menu.html - pagebeforecreate
   script.js - pagebeforecreate
   menu.html - pagecreate
   script.js - pagecreate
   menu.html - pageinit
   script.js - pageinit
   menu.html - pageload
   script.js - pageload
   menu.html - pagebeforehide
   script.js - pagebeforehide
   menu.html - pagebeforeshow
   script.js - pagebeforeshow
   menu.html - pagehide
   script.js - pagehide
   menu.html - pageShow
   script.js - pageShow
   menu.html - onDeviceReady
   script.js - onDeviceReady 
```

甚至我从每个页面中删除了页面事件，并在外部 javascript 文件中添加了**pageShow事件并调用****init()**函数，并且我在每个 html 文件中定义了**页面特定的 init()**函数，然后在每个页面**的标题中添加了外部 Javascript 文件。**仍然每次我导航到不同的页面时，**只有 menu.html 中的 init() 函数** 被执行，它被添加到 homeactivity 中。

所以这里没有触发 home.html 中的任何事件。我有页面特定的 javascript 应该只在页面显示后运行。请在我做错的地方帮助我。

# jakarta-ee - 提供者错误。提供者：com.ibm.websphere.persistence.PersistenceProviderImpl

> ID：12741299
> 
> 赞同：1
> 
> 时间：2012-10-05T07:08:59.943
> 
> 标签：jakarta-ee, websphere

在 WebShere 应用程序服务器上运行我的 Web 应用程序时出现以下错误。 `Provider error. Provider: com.ibm.websphere.persistence.PersistenceProviderImpl`

请找到下面的persistence.xml。请指导我。

```
<persistence version="1.0" xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd">
<persistence-unit name="ResourceCommon">
<!--    <jta-data-source>jdbc/RESOURCE</jta-data-source>
    <non-jta-data-source>jdbc/RESOURCE</non-jta-data-source> -->
    <class>com.ibm.session.entity.User</class>
    <properties>
        <!-- use OpenJPA's built-in DataSource for unmanaged connections -->

       <property name="javax.persistence.jdbc.url" value="jdbc:oracle:thin:@localhost:1521:xe" />   
       <property name="javax.persistence.jdbc.driver" value="oracle.jdbc.driver.OracleDriver" />   
       <property name="javax.persistence.jdbc.user" value="lnhk" />   
       <property name="javax.persistence.jdbc.password" value="admin" />
       <!--         
        <property name="openjpa.Connection2UserName" value="lnhk"/>
        <property name="openjpa.Connection2Password" value="admin"/>
        <property name="openjpa.Connection2URL" value="jdbc:oracle:thin:@localhost:1521:xe"/>
        <property name="openjpa.Connection2DriverName" value="oracle.jdbc.driver.OracleDriver"/>
        -->
        <property name="openjpa.RuntimeUnenhancedClasses" value="supported"/>
        <property name="openjpa.Log" value="SQL=DEBUG"/>
        <property name="openjpa.RemoteCommitProvider" value="sjvm"/>
        <property name="openjpa.ConnectionFactoryMode" value="managed"/>
         <property name="openjpa.Compatibility" value="StrictIdentityValues=false"/>
        <property name="openjpa.jdbc.DBDictionary" value="oracle"/>
    </properties>
</persistence-unit> 
```

# php - 单击链接时在 div 中加载 PHP 页面

> ID：12741301
> 
> 赞同：-2
> 
> 时间：2012-10-05T07:09:03.150
> 
> 标签：php, javascript, jquery

我试图弄清楚当我单击 div 按钮时如何将单独的 php 页面加载到 div 中。

即：#div1 打开带有 one.php 的 #display，#div2 打开带有 two.php 的 #display，等等。

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:12:39.577

您可以为此使用 AJAX：

```
$('#div1').on("click",function(){
    var url= "page1.php"; //insert your URL
    $.ajax({
      url: url,
      success: function(data){
           $('#div1').html(data); //copy and paste for your special case
      }
    });
}); 
```

**文档：**

*   [http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T07:13:18.747

有几种方法。通过“在 div 中加载 PHP 页面”，我假设您的意思是“在 div 中加载 PHP 页面的输出”。

如果你真的只是想加载一些 HTML 响应（不需要生成 POST 请求），最简单的方法是使用 jQuery 的加载函数。

```
$(document).ready(function () {
    $('#div1').click(function() {
        $('#display').load('one.php');
    });
    $('#div2').click(function() {
        $('#display').load('two.php');
    })
    $('#div3').click(function() {
        $('#display').load('three.php');
    })
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-05T07:13:44.743

尝试如下

```
$('#div1').click(function(){
 $('#display').load('one.php', function() {
    alert('Load was performed.');
   });
});

$('#div2').click(function(){
 $('#display').load('two.php', function() {
    alert('Load was performed.');
   });
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-05T07:11:48.773

使用 jquery 的 load 方法在点击事件上加载内容。

[http://api.jquery.com/load/](http://api.jquery.com/load/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-05T07:10:46.480

为此使用 ajax：http: [//api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)，或加载：[http ://api.jquery.com/load/](http://api.jquery.com/load/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-05T07:39:50.753

为此使用 Ajax：

```
$.post("GetData.jsp",
  { name: "John", time: "2pm" },
  function(data){
    alert("Data Loaded: " + data);
  }
); 
```

# python - 使用 Drive API 在 Google Drive 中创建空电子表格

> ID：12741303
> 
> 赞同：15
> 
> 时间：2012-10-05T07:09:05.250
> 
> 标签：python, google-drive-api, google-sheets-api, google-api-python-client

我想在 Google Drive 中创建一个空的 Google Sheet（仅使用元数据创建）。当我提到 Google [SpreadSheet API](https://developers.google.com/google-apps/spreadsheets/#creating_a_spreadsheet)文档时，它说要使用 DocumentsList API，但它已被弃用，而是要求我使用 Google Drive API。在 Drive API 文档中，我找不到任何创建空工作表的方法。任何人都知道如何做到这一点？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-01-04T19:21:02.023

您可以通过将[MIME 类型设置为使用](http://en.wikipedia.org/wiki/MIME)[Drive API](https://developers.google.com/drive/v2/reference/files/insert)来执行此操作：`application/vnd.google-apps.spreadsheet`

要在 Python 中执行此操作：

```
from apiclient.discovery import build
service = build('drive', 'v2')

import httplib2
credentials = ... # Obtain OAuth 2.0 credentials
http = credentials.authorize(httplib2.Http())

body = {
  'mimeType': 'application/vnd.google-apps.spreadsheet',
  'title': 'Name of Spreadsheet',
}
file = service.files().insert(body=body).execute(http=http)
# or for version 3 it would be
# file = service.files().create(body=body).execute(http=http) 
```

前往[Google APIs Explorer](https://developers.google.com/apis-explorer/#p/drive/v2/drive.files.insert)试试吧！

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2016-07-13T19:10:48.397

**（2016 年 7 月）** [BossyLobster](https://stackoverflow.com/users/1068170/bossylobster)的上述回答仍然有效（因为 Drive API v2*尚未*被弃用）。但是，以下是做同样事情的更现代的方法和一些有助于理解的视频：

**以下两个示例的授权样板**

```
from googleapiclient import discovery
from httplib2 import Http
from oauth2client import file, client, tools

store = file.Storage('storage.json')
creds = store.get()
if not creds or creds.invalid:
    flow = client.flow_from_clientsecrets('client_secret.json', SCOPES)
    creds = tools.run_flow(flow, store) 
```

注意：要创建您的 API 项目和 OAuth2 凭据并将这些凭据下载到`client_secret.json`（或`client_id.json`）文件，请转到[Google Developers Console](http://console.developers.google.com)。

*   要了解如何使用 Developers Console，请观看[此视频](http://youtu.be/DYAwYxVs2TI?list=PLOU2XLYxmsILOIxBRPPhgYbuSslr50KVq&index=2)。
*   要浏览此样板授权代码，请参阅[此视频](http://youtu.be/h-gBeC9Y9cE?list=PLOU2XLYxmsILOIxBRPPhgYbuSslr50KVq&index=3)。（注意：上面的样板比视频中的代码稍微更新/改进）
*   要了解如何使用 Google Drive API v2（列出您的 Drive 文件），请观看[此视频](http://youtu.be/Z5G0luBohCg?list=PLOU2XLYxmsILOIxBRPPhgYbuSslr50KVq&index=4)。
*   要了解 Google Drive API *v3*（上传/下载文件），请参阅[此博文和视频](http://developers.googleblog.com/2016/01/google-drive-uploading-downloading.html)。（注意：v2 和 v3 并排运行……v2 尚未弃用；v3：API 调用更少，与 v2 相比性能更好）
*   要了解 Google Sheets API v4（将 SQL 数据迁移到工作表），请参阅[此博文和视频](http://developers.googleblog.com/2016/06/introducing-google-sheets-api-v4.html)。

**[使用 Google Drive API](http://developers.google.com/drive) v3 (& v2)创建新的/空白表**

```
# above: SCOPES = 'https://www.googleapis.com/auth/drive.file'
DRIVE = discovery.build('drive', 'v3', http=creds.authorize(Http()))
data = {
    'name': 'My new Sheet',
    'mimeType': 'application/vnd.google-apps.spreadsheet',
}
sheet = DRIVE.files().create(body=data).execute() # insert() for v2 
```

**[使用 Google Sheets API](http://developers.google.com/sheets) v4创建新的/空白表**

```
# above: SCOPES = 'https://www.googleapis.com/auth/spreadsheets'
SHEETS = discovery.build('sheets', 'v4', http=creds.authorize(Http()))
data = {'properties': {'title': 'My new Sheet'}}
sheet = SHEETS.spreadsheets().create(body=data).execute() 
```

现在您可能会问，“为什么有两种不同的方法来创建空白工作表？” 简而言之，Sheets API 主要用于面向电子表格的操作，即插入数据、读取电子表格行、单元格格式、创建图表、添加数据透视表等，而不是*面向文件的请求*，如创建/删除和导入/export，其中 Drive API 是正确使用的 API。碰巧 create 两者兼而有之，因此有两种方法可以做到这一点。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-07-06T02:34:23.377

创建电子表格的 api 参考位于[https://developers.google.com/sheets/reference/rest/v4/spreadsheets/create](https://developers.google.com/sheets/reference/rest/v4/spreadsheets/create)。

创建新电子表格的代码片段如下。

```
String[] SCOPES = { SheetsScopes.SPREADSHEETS };

GoogleAccountCredential credential = GoogleAccountCredential.usingOAuth2(
        getApplicationContext(),
        Arrays.asList(SCOPES)).setBackOff(new ExponentialBackOff());
credential.setSelectedAccountName("your_google_account@gmail.com");

HttpTransport transport = AndroidHttp.newCompatibleTransport();
JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();

com.google.api.services.sheets.v4.Sheets service =
    new com.google.api.services.sheets.v4.Sheets.Builder(
        transport,
        jsonFactory,
        credential)
    .setApplicationName("Google Sheets API Android Quickstart")
    .build();

Spreadsheet spreadsheet = new Spreadsheet();
SpreadsheetProperties properties = new SpreadsheetProperties();
properties.setTitle("SpreadSheetTitle");
spreadsheet.setProperties(properties);

service.spreadsheets().create(spreadsheet).execute() 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-11-27T14:34:45.027

你也可以试试我写的[pygsheets](https://github.com/nithinmurali/pygsheets)库，它当然提供了比创建电子表格更多的功能，

```
import pygsheets

gc = pygsheets.authorize(outh_file='client_secret.json')

# Open spreadsheet and then worksheet
gc.create('my new sheet') 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-12-16T18:46:44.173

建议的方法对我不起作用，但以下代码有效：

```
# requires: uid='example@gmail.com', pass1='password', 
# name_spr='name_of_spreadsheet'

import gdata.docs.client

docs_client = gdata.docs.client.DocsClient()
docs_client.ClientLogin(uid, pass1, 'any')
document = gdata.docs.data.Resource(type='spreadsheet', title=name_spr)
resource = docs_client.CreateResource(document)
full_id = resource.resource_id.text # returned by gdata
gs_id = full_id[len('spreadsheet:'):] 
```

# sql - SQL xp_cmdshell 在服务器之间复制文件

> ID：12741310
> 
> 赞同：2
> 
> 时间：2012-10-05T07:09:42.620
> 
> 标签：sql, sql-server, sql-agent-job, xp-cmdshell

我正在尝试将特定文件夹中的所有 .zip 移动到另一个文件夹。源文件夹位于另一台服务器上，目前我正在使用

```
EXECUTE xp_cmdshell 'copy \\server1\e$\ETL\*.zip \\server2\e$\ETL\'
GO 
```

如果我登录到两台服务器，这将起作用，但目标是通过 sql server 作业代理自动化此过程。我试过了

```
EXECUTE sp_xp_cmdshell_proxy_account 'domain\useracc','pass'
GO
EXECUTE xp_cmdshell 'copy \\server1\e$\ETL\*.zip \\server2\e$\ETL\'
GO 
```

但我收到以下错误；

> > sp_xp_cmdshell_proxy_account 执行过程中出错。可能的原因：提供的帐户无效或无法创建“##xp_cmdshell_proxy_account##”凭据。错误代码：“0”。

而且也不确定这是否是我的解决方案。请帮助我如何实现这一目标。server1 上的文件名每天都在更改名称和数量。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:32:56.390

我强烈建议...不要使用 xp_cmdshell。它在您的表面区域打开了大型安全系统，使您容易受到攻击。xp_cmdshell 应该被禁用！

相反，如果您想使用服务器代理自动执行此操作，您有 2 个选项。我的偏好是编写一个带有文件系统任务的简单 SSIS 包，并使用服务器代理安排这个包。SSIS 在此类任务中未得到充分利用，但实际上非常擅长。

或者，重新编写脚本以使用服务器代理 CmdExec 作业步骤。这不需要启用 xp_cmdshell 并减少攻击面。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T08:18:46.850

我发现以下内容对我有用；

> 1.  在命令提示符下，键入 services.msc，这将打开服务器上所有服务的列表。
>     
>     
> 2.  在服务列表中，查找 SQL Server 代理，右键单击 -> 属性。转到登录选项卡

将登录更改为在两台服务器上都具有访问权限的用户。然后重新编写脚本以使用服务器代理 CmdExec 作业步骤（谢谢 Pete Carter）

# java - 在 Hibernate 3 上禁用透明持久性

> ID：12741311
> 
> 赞同：3
> 
> 时间：2012-10-05T07:09:43.353
> 
> 标签：java, hibernate, jpa, seam

我们正在使用 Seam JBoss Seam 2.2.2 Final Release，其中包含 Hibernate 3.3.1.GA。我们在表上设置了更新触发器，这样，当表上发生更新时，旧记录会记录在历史表中。

我们有一个页面，其中包含填充实体的字段。完成字段后，将调用 AJAX 调用以根据需要更新实体的方法（在 JSF 中）。问题是，Hibernate 将实体视为已更改，并相应地更新 DB 表。这增加了历史表。我们仅使用 Hibernate 使用 JPA 实现。

我的问题是：如何在 Hibernate 中禁用自动更新（称为透明持久性）？我们想通过调用或（在代码中）**显式保存实体。**`EntityManager.persist()``EntityManager.merge()`

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T09:10:18.620

**回答你的问题：**

在离开方法之前不要更新方法中的实体或清除实体管理器。

**我认为你需要的答案：**

不要将每个单独的更改发送到数据库，而是汇总所有更改，并且仅在用户提交更改后更新持久实体（例如按钮“保存”或“下一步”或类似的东西）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T10:13:46.867

您可以围绕您的页面创建对话并使用`flush-mode="MANUAL"`. 这有效地禁用了刷新，直到您明确执行它（`persist()`例如，在您的方法内部）。

这样做的缺点是 Hibernate 必须是您的持久性提供者，因为手动刷新不是标准的 JPA 1.0 功能。因此，Seams 只知道如何在 Hibernate 中使用它。至少对于 2.2.x 及之前的 Seam 版本是这样。您现在使用 Hibernate，所以这应该不是问题。

备择方案：

1.  在页面上使用 DTO 对象而不是真实的实体对象。将实体克隆到 DTO 并在持久化之前更新实体。
2.  用于`EntityManager.clear()`从会话中分离所有对象。

# android - 验证背景是否等于另一个背景以在 Android 中编辑文本

> ID：12741312
> 
> 赞同：2
> 
> 时间：2012-10-05T07:09:43.427
> 
> 标签：android, background, android-edittext

在我的项目中，我必须验证编辑文本的背景是否等于另一个（编辑文本具有自定义可绘制对象）。我已经尝试过这段代码，但它不起作用：

```
 if (editText.getBackground().equals(getResources().getDrawable(R.drawable.edit_text_box_red)))
 {
       editText.setBackgroundResource(R.drawable.edit_text_box_white);
 } 
```

我需要这个，因为当我按下一个按钮并且我的 editText 背景为红色时，我必须将其设置为白色，恢复到以前的状态。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:16:19.433

我认为当您首先更改背景时存储背景信息是有意义的。一种方法是[`setTag()`](http://developer.android.com/reference/android/view/View.html#setTag%28java.lang.Object%29). 例如，当您将视图的背景更改为红色时，您也会执行`editText.setTag("red")`. 然后，你可以做

```
if (editText.getTag().equals("red")) {
    editText.setBackgroundResource(R.drawable.edit_text_box_white);
    editText.setTag("white");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:24:54.890

“举报”怎么说？就像您创建一个`static bool red = false` 然后当您更改颜色时，将`red`值更改为`true` In selection ：

```
if(red == true){
editText.setBackgroundResource(R.drawable.edit_text_box_white);
red = false;} 
```

希望这有帮助：D

# html - 电子邮件通讯背景图像和字体颜色

> ID：12741320
> 
> 赞同：0
> 
> 时间：2012-10-05T07:10:08.123
> 
> 标签：html, email, newsletter, hotmail, outlook.com

我刚刚编写了一个电子邮件设计，在 Litmus 中对其进行了测试，发现了以下错误：

**Outlook.com：** 时事通讯没有背景图片，并且某些标题 (h4) 字体颜色完全不同。虽然链接的颜色相同。展望 2003-2011 工作正常。

**Hotmail：** hotmail 也是如此，因为它也不显示时事通讯的背景。

**这是石蕊结果。**

[https://tahir.litmus.com/tests/9401666/versions/2/screenshots](https://tahir.litmus.com/tests/9401666/versions/2/screenshots)

这是背景图像的代码：

```
<body background="http://gallery.mailchimp.com/ab941597d81bf8a59e91efd1f/images/body_bg_.3.jpg" leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" offset="0" style=" width:100%; margin: 0;padding: 0;width: 100% !important;-webkit-text-size-adjust: none; background-image: url('http://gallery.mailchimp.com/ab941597d81bf8a59e91efd1f/images/body_bg_.3.jpg'); background-repeat:repeat-y no-repeat; background-position: top center; background-color: #5c130a;">

    <!--[if gte mso 9]>
    <v:background fill="t">
    <v:fill type="tile" src="http://gallery.mailchimp.com/ab941597d81bf8a59e91efd1f/images/body_bg_.3.jpg" />
    </v:background>
    <![endif]--> 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:13:43.193

请记住，客户端（和版本）不同样支持 CSS

要获得概述，您应该查看[http://www.campaignmonitor.com/css/](http://www.campaignmonitor.com/css/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-03T23:33:03.470

这是我们的一个片段。

```
<td height="300px" style="margin:0;border-collapse:collapse!important;margin:0;padding:0;text-align:left;vertical-align:top;">
<!--[if (gte mso 9)]><img src="http://yourdomain.com/email_campaigns/_templates/template_061617/ImageHero_620x975_Nindi_1_OL.jpg" style="width:100%;height:auto;border:0; display: block;" /><![endif]-->
<div style="mso-hide: all;">
<img src="http://yourdomain.com/email_campaigns/_templates/template_061617/newsletter-blank.png" width="100%" style="width:100% !important;padding-top:0;padding-bottom:0;padding-right:0;padding-left:0;margin:0 0 0 0;border-width:0;height:auto;margin-bottom:0;" />
</div> 
```

# javascript - 基本xml设置值javascript

> ID：12741321
> 
> 赞同：0
> 
> 时间：2012-10-05T07:10:08.537
> 
> 标签：javascript, xml

嗨，这似乎是一个基本问题，但我无法正确回答。我有一个看起来像这样的 xml：

```
<xml id="emailBodyXML"><email><body></body></email></xml> 
```

现在我有一个包含文本值的变量“emailBody”。我希望能够将 emailBody 的值放在 body 标记内。例如 emaiLBody="Hello"。我希望我的 xml 看起来像这样：

```
<email><body>Hello</body></email> 
```

那我该怎么做呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:13:04.927

```
var emailBody = 'Hello';

var bodyTag = document.getElementsByTagName('body');

bodyTag[0].innerHTML = emailBody; 
```

# wcf - 再进行一次异步调用 异步调用在 silverlight 中不起作用

> ID：12741322
> 
> 赞同：1
> 
> 时间：2012-10-05T07:10:11.470
> 
> 标签：wcf, silverlight

我在下面的代码中有一个 UI 视图 lossreport.xaml

```
 LossReportTowGlassServiceClient wcf = new LossReportTowGlassServiceClient();
            wcf.HouseholdSearchCompleted += (o, ev) =>
            {
                string a = errorMessg.ToUpper();
        //Code to work with ev
            };
            wcf.HouseholdSearchAsync(lossDate, txtPolicyNumber.Text, errorMessg); 
```

在 service.svc 页面中

```
 try
                {
                    policyinq.retrieveHouseHoldPoliciesCompleted += new   retrieveHouseHoldPoliciesCompletedEventHandler(policyinq_retrieveHouseHoldPoliciesCompleted);

                    policyinq.retrieveHouseHoldPoliciesAsync(reqh, searchCriteria, lossdate, true, string.Empty, string.Empty);
                    break;
                }
                catch (Exception ex)
                {
                    Logger.Exceptions("", "HouseholdSearch", ex);
                    errorToSend = "Household error";
                }

     void policyinq_retrieveHouseHoldPoliciesCompleted(object sender,   retrieveHouseHoldPoliciesCompletedEventArgs e)
    {
        {
            if (e.transactionNotification != null && e.transactionNotification.transactionStatus == TransactionState.S)
            {

            }
            else
            {
                ErrorHandling.ErrorSend(e.transactionNotification, "HouseHold");
            }

        };
    } 
```

现在在retrieveHouseHoldPolicies 完成之前触发HouseholdSearchCompleted 事件。如何让它等待

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:15:10.453

你在这里有一个架构问题，除非你有充分的理由，否则服务不应该调用异步请求（也许调用一些并行的东西。只需同步调用你的服务器端代码。

一个服务入口点有它自己的处理线程，它应该是在服务端启动和结束请求响应过程的那个。您所做的是在服务端调用异步方法，使处理请求的线程完成他的工作。所以你要么让这个线程等待，要么在他身上执行整个逻辑而不调用异步方法，卡皮什？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-22T06:43:27.060

```
using System.Threading;
ManualResetEvent _wait = new ManualResetEvent(false);
_wait.Set();//In completed event
_wait.WaitOne();//After the event is completed WaitOne will wait untill the _wait is set with value 
```

# asp.net - 如何使用网站或 html 在本地机器上执行 exe 或文件（如在 github 中的 windows 中克隆）

> ID：12741330
> 
> 赞同：2
> 
> 时间：2012-10-05T07:10:41.347
> 
> 标签：asp.net, .net, github

这些是我的要求

1.  如何使用 html 页面打开位于我本地计算机中的 pdf 文件？
2.  如何使用网站执行在我的本地计算机中的 exe 文件？
    这就像我们在 windows 选项中进行克隆时 github 所做的一样。我需要执行完全相同的操作。我有一个按钮，当我单击它时，它需要运行一个应用程序。![这是尝试从 github 克隆 Windows 时的窗口](../Images/217d0763abb76cacd6d0ae3099de34d3.png)

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:23:08.390

您在计算机上安装了适用于 Windows 的 GitHub。并且此安装将协议注册`github-windows:`到 GitHub for Windows 可执行文件作为处理程序。这里没有什么特别的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:42:11.160

我看到的唯一机会是注册您自己的 URL 方案（如您所说`myapp-pdf:`或类似的东西）。

然后，您可以使用您的自定义方案重定向（或打开一个新窗口）到一个 URL，并且浏览器应该启动您的应用程序，将 URL 作为命令行参数提供给您。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T16:25:28.557

**创建自定义 Url Schema 并映射到应用程序**

我只是解释一下你输入后我得到的一些东西。如上所述，我需要为我的应用程序生成一个 url 架构，我需要在 Windows 注册表中注册要执行的架构和应用程序路径。这需要在安装过程中处理。

[http://msdn.microsoft.com/en-us/library/aa767914(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/aa767914(v=vs.85).aspx) 此链接将显示如何在 Windows 注册表中添加特定模式，我们可以指定要执行的应用程序，如 mailto : 对于 Outlook。

感谢 SO 从这里提供详细信息。 [如何创建自己的 URL 协议？（例如所以：//...）](https://stackoverflow.com/questions/389204/how-do-i-create-my-own-url-protocol-e-g-so)

**优点**

如果我们使用这种方法，需要检查可能发生的安全问题。

# asp-classic - 使用经典 ASP 在 CKEditor 3 中添加自定义模板

> ID：12741341
> 
> 赞同：1
> 
> 时间：2012-10-05T07:11:28.063
> 
> 标签：asp-classic, ckeditor

我有一个使用经典 ASP 呈现 CKEditor 3 设置的网站。

在服务器端我有：

```
 <%
 Dim Editor

 Set Editor = New CKEditor
 Editor.basePath = "/ckeditor/"
 Editor.Config("contentsCss") = "/Styles/Editor.css"
 Editor.Config("templates_files") = "/templates/news.js"
 Editor.Config("width") = 570;
 Editor.editor "Html", Html
 Set Editor = Nothing
 %> 
```

在 news.js 中，我有：

```
CKEDITOR.addTemplates('news',
{
   imagesPath: CKEDITOR.getUrl('/JavaScripts/ckeditor_3.6.3/templates/images/'),
   templates:
    [
        {
        title: 'News Template',
        //image: 'template1.gif',
        html:
            '<h3>Template 2</h3>' +
            '<p>Type your text here.</p>'
    }
    ]
}); 
```

它呈现：

```
<script type="text/javascript" src="/ckeditor/ckeditor.js?t=C3HA5RM"></script> 
<script type="text/javascript">//<![CDATA[ 
    CKEDITOR.replace('Html', {"contentsCss": "\u002FStyles\u002FEditor.css","templates_files": "\u002Ftemplates\u002Fnews.js","width": 570}); 
//]]></script> 
```

似乎它采用提供的路径（/模板）......并用它的每个字母做一个404......即/t /e /m ...

可能缺少什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-06T08:14:36.497

根据[文档](http://docs.cksource.com/ckeditor_api/symbols/CKEDITOR.config.html#.templates_files)，templates_files 应该是一个字符串数组，即使你只使用一个文件，所以正确的配置是

```
Editor.Config("templates_files") = Array("/templates/news.js") 
```

# php - 在按钮单击时使用 jquery 验证

> ID：12741344
> 
> 赞同：1
> 
> 时间：2012-10-05T07:11:44.687
> 
> 标签：php, jquery

我想在按钮单击时验证我的表单。

为此，我使用了`("#trade").validate();`.

但我的问题是，当用户单击我的按钮时，它会调用另一个函数来发布我的数据。

```
<input type="button" class="button" value="Save" onClick="create_trade();"> 
```

我用了

```
<script type="text/javascript">
$(document).ready(function(){
        $("#trade").validate();
    });
</script> 
```

现在我将如何验证此表格。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:15:48.363

在表单验证之后，您在 submitHandler 事件中调用函数 create_trade()。

```
<script type="text/javascript">
$(document).ready(function(){
        $("#trade").validate({
               submitHandler: function(form) {
                create_trade();
           }
         });
    });
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:16:35.680

使用表单标签的 onsubmit 属性。如果`<form onsubmit="return validate()"` 函数返回 true，则不会提交表单数据，因此请确保仅在验证完成后才返回 true，否则从函数返回 false，这样您的表单数据将不会被提交。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:18:08.037

```
<form name="form1" method="post" action="">
<input type="button" class="button" name="save" value="Save">
</form>
    <script>
    function fn_submit()
    {
    document.form1.submit();
    }
    </script> 
```

试试这个....

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:26:19.070

如果您想在单击按钮时调用验证功能，请尝试此代码

```
<script type="text/javascript">
$(document).ready(function(){
  $("input[type=button]").click(function() {
        //validation code
    });
 });
</script> 
```

# ruby - Rails 应用程序中类的位置

> ID：12741352
> 
> 赞同：2
> 
> 时间：2012-10-05T07:12:10.300
> 
> 标签：ruby, ruby-on-rails-3

我想扩展 Array 的功能，添加一个方法来检查数组中是否存在键并且数组不为空，在哪里编写类以及如何确保它已加载？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T10:00:48.420

您可以将其放入`lib/`并确保按照 shioyama 的答案中所述自动加载它；或者您可以将其放入初始化程序中。我更喜欢初始化方法，因为它更容易（您可以免费获得自动加载）。

我通常会创建一个`core_ext`目录的子目录`initializers`并将我的核心类扩展放在那里。我总是尝试将要扩展的类的名称和我添加的内容的描述放入文件名中，因此在您的情况下，我将创建一个包含以下内容的文件`RAILS_ROOT/config/initializers/core_ext/array_my_function`：

```
module MyFunctionForArray
  def my_function(arg1, arg2)
    # ...
  end
end

Array.send :include, MyFunctionForArray 
```

我总是尝试不重新打开类并直接扩展它，而是将我的扩展放入一个模块中，然后将该模块包含到要扩展的类中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T07:22:31.333

执行此操作的标准方法是将代码放入`lib/`并通过添加一行来确保它由 rails 自动加载`config/application.rb`：

```
config.autoload_paths += Dir["#{config.root}/lib/**/"] 
```

然后在您的代码中，只要确保在任何使用它的地方都需要它。如果你想在任何地方应用它，`config/initializers`用一行创建一个初始化器：

```
require 'my_array' 
```

`my_array.rb`文件的名称在哪里`lib`？这将使它在您的模型、控制器、视图等中可用。

另请参阅：[从 Rails 3 中的 lib 文件夹加载模块/类的最佳方法？](https://stackoverflow.com/questions/3356742/best-way-to-load-module-class-from-lib-folder-in-rails-3)

另外，请注意在 ruby​​（不仅仅是 rails）中自动加载目录结构的一个陷阱，在此答案中进行了解释：[Best way to load module/class from lib folder in Rails 3?](https://stackoverflow.com/questions/3356742/best-way-to-load-module-class-from-lib-folder-in-rails-3#9819938)

# monkeyrunner - 如何使用 monkeyrunner 向文本字段输入值

> ID：12741355
> 
> 赞同：0
> 
> 时间：2012-10-05T07:12:18.927
> 
> 标签：monkeyrunner

我正在尝试使用 Monkeyrunner 在我的 android 应用程序中的文本字段中输入一些文本。我写了这样的代码：

```
device.press('KEYCODE_BUTTON_SELECT',MonkeyDevice.DOWN_AND_UP)

device.press('KEYCODE_U','DOWN_AND_UP')

device.press('KEYCODE_S','DOWN_AND_UP')

device.press('KEYCODE_E','DOWN_AND_UP')

device.press('KEYCODE_R','DOWN_AND_UP') 
```

在运行第一行时，文本字段被选中。但是字符串“user”没有在那里输入。但是我可以在我的应用程序中运行相同的代码，在 android 本机搜索字段中，我可以使用输入“user”字符串这段代码。我也尝试了相同的`device.type('USER')`命令。那也不起作用

如果我使用此代码

```
device.press ('KEYCODE_DPAD_CENTER', MonkeyDevice.DOWN_AND_UP) 
```

它正在录制一个中心按钮。（在我的应用程序页面中，页面中间有一个按钮。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T12:04:21.870

试试下面的代码。它在我的情况下工作：

```
device.touch(x, y, MonkeyDevice.DOWN_AND_UP)
MonkeyRunner.sleep(1)
device.type('USER') 
```

在命令`touch`中放置您的编辑文本的坐标而不是 x 和 y

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T19:09:05.917

挑战之一是找到要触摸的坐标，主要使用不同的屏幕尺寸和配置。 [AndroidViewClient](http://dtmilano.blogspot.ca/2012/02/monkeyrunner-interacting-with-views.html)可以在这方面提供帮助，您可以避免为视图提供坐标，您可以简单地执行以下操作：

```
subject = vc.findViewByIdOrRaise('id/subject')
subject.touch()
subject.type('AVCSample') 
```

此行取自 AVC 示例之一：[email-send.py](https://github.com/dtmilano/AndroidViewClient/blob/master/AndroidViewClient/examples/email-send.py)

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-11-15T14:55:22.210

您尝试输入的文本中是否包含空格字符？尝试没有空间，看看是否有效。然后，您可以弄清楚如何处理空间。

# php - jquery post向数据库添加错误的字符集

> ID：12741357
> 
> 赞同：0
> 
> 时间：2012-10-05T07:12:31.197
> 
> 标签：php, jquery, mysql, character-encoding

我在某处的字符集配置有问题 - 需要一些帮助。

我正在使用 jQuery jeditable 通过 php 将值更新到数据库。当我`øæå`通过此脚本发布时，数据库将改为填充`Ã¦Ã¸Ã¥`。我也尝试过 utf8_encode，但没有运气。一个正常的帖子，`øæå`效果很好

```
$(document).ready(function() {
    $('.update_pipu_comment').editable('http://lin01.test.no/save.php?update=pipu_comment',   {
        event : 'dblclick',
        submit : 'ok',
        indicator : '<img src="image/indicator.gif">',
        tooltip : 'doubleclick to edit'
    });
}); 
```

```
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<?php 
//save.php
require('config.php');
$postvalue = $_POST[value];
$id = $_POST[id];
$update = $_GET[update];

if($update == 'pipu_comment')   {
$res = mysql_query("UPDATE pinpuk SET comment = '$postvalue' WHERE id = '$id'");
}
echo $postvalue; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:16:42.230

您可以先将字符集设置为 UTF-8：

```
$query = "SET NAMES 'UTF8'";
mysql_query($query); // this before any insert 
```

此外，您的代码不是 SQL 安全的：

```
$postvalue = mysql_real_escape_string($_POST['value']);
$id = (int)$_POST['id']; 
```

附带说明一下，您应该尝试迁移到 MySQLi 或 PDO。[这](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)是一个很好的教程，可以帮助您开始使用 PDO。

# iphone - iOS 上 SQLite 文件的统一类型标识符 (UTI) 是什么？

> ID：12741377
> 
> 赞同：3
> 
> 时间：2012-10-05T07:13:33.240
> 
> 标签：iphone, ios, sqlite, uti, info-plist

我希望我的应用程序打开 SQLite 文件。SQLite 文件的正确 UTI（统一类型标识符，例如用于纯文本文件的 public.plain-text）是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:29:53.130

SQLite 数据库没有预定义的 UTI。

Apple 的[System-Declared Uniform Type Identifiers](http://developer.apple.com/library/ios/documentation/Miscellaneous/Reference/UTIRef/Articles/System-DeclaredUniformTypeIdentifiers.html#//apple_ref/doc/uid/TP40009259-SW1)列表只有`public.database`，这对您来说太通用了。

如果您使用 SQLite 数据库作为应用程序文件格式（这意味着该应用程序无法打开*任何*随机 SQLite 数据库文件），您必须声明自己的 UTI。

# asp.net - 如何以编程方式检测会话过期

> ID：12741379
> 
> 赞同：0
> 
> 时间：2012-10-05T07:13:38.480
> 
> 标签：asp.net, session

我搜索谷歌并找到了许多以编程方式检测会话到期的答案。这是我看到每个人都使用它的代码

```
global.asax
---------------
protected void Session_Start(object src, EventArgs e)
{
if (Context.Session != null && Context.Session.IsNewSession)
{
    string sCookieHeader = Request.Headers["Cookie"];
    if (null != sCookieHeader && sCookieHeader.IndexOf("ASP.NET_SessionId") >= 0)
        Response.Redirect("/Session/Timeout");
}
} 
```

我对上面的代码没有什么疑问 1）当会话到期时，Context.Session 将如何不为空？2）这条线是什么意思`Request.Headers["Cookie"];`

寻找好的讨论。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:35:02.613

您可以使用`Session_End`global.asax 文件中的方法

```
void Session_End(Object sender, EventArgs E) {
    // Clean up session resources
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T08:42:55.683

> 1）当会话到期时，Context.Session 将如何不为空？

当用户以过期会话返回服务器时，您的代码将触发。此代码中的会话对象是正在开始的新的空会话。请记住，您在 Session_Start 中，而不是在 Session_End 中。

> 2）这行Request.Headers["Cookie"]是什么意思；

cookie 包含会话的 ID。如果用户正在请求资源，提供会话 id，并且触发了 Session_start，则几乎可以肯定的是，会话 id 引用了过期的会话对象。然后向用户显示特定消息。

# javascript - 使用 PhoneGap 获取设备制造商

> ID：12741380
> 
> 赞同：1
> 
> 时间：2012-10-05T07:13:42.477
> 
> 标签：javascript, android, cordova

如何使用 PhoneGap（例如三星、摩托罗拉等）获得 Android 或 iPhone 的设备制造商。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:16:23.817

// 这些引用相同`device`

```
var phoneName = device.name; 
```

## 例子

```
<!DOCTYPE html>
<html>
  <head>
    <title>Device Properties Example</title>

    <script type="text/javascript" charset="utf-8" src="phonegap-1.0.0.js"></script>
    <script type="text/javascript" charset="utf-8">

    // Wait for PhoneGap to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // PhoneGap is ready
    //
    function onDeviceReady() {
        var element = document.getElementById('deviceProperties');

        element.innerHTML = 'Device Name: '     + device.name     + '<br />' + 
                            'Device PhoneGap: ' + device.phonegap + '<br />' + 
                            'Device Platform: ' + device.platform + '<br />' + 
                            'Device UUID: '     + device.uuid     + '<br />' + 
                            'Device Version: '  + device.version  + '<br />';
    }

    </script>
  </head>
  <body>
    <p id="deviceProperties">Loading device properties...</p>
  </body>
</html> 
```

查看此链接以获取更多详细信息。

[http://docs.phonegap.com/en/1.9.0/cordova_device_device.md.html](http://docs.phonegap.com/en/1.9.0/cordova_device_device.md.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:18:46.160

我认为这应该有效 String str = android.os.Build.MANUFACTURER;

# jquery - CSS Trickery：让每一行变小

> ID：12741385
> 
> 赞同：3
> 
> 时间：2012-10-05T07:13:59.403
> 
> 标签：jquery, css

你知道眼图有很多行和乱七八糟的字母，而且每行都变小了，很难阅读，那么 CSS 有可能吗？就像，我有一个 DIV，它设置为`text-align: justify`，但我想让每行更小。我不知道如何引用每个后续行或任何内容。有人有想法么？它必须是可能的，如果不是使用带有一些 jQuery 巫术或类似的 CSS 的话。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:40:46.530

试试这个[http://jsfiddle.net/tuanderful/mQYCt/](http://jsfiddle.net/tuanderful/mQYCt/)

我基本上将一堆 div 相互嵌套，使用子选择器`>`和行高的相对单位，`em`

**► CSS**

```
div > div {
  line-height: .8em;   
  font-size: .8em;    
} 
```

**► HTML**

```
<div>
  Foo
  <div>
    Foo
    <div>
      Foo
    </div>
  </div>
</div>​ 
```

这种方法只是将一堆 div 相互嵌套；由于`div > div`定义，每个随后嵌套`div`的比例都小于其父级。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:53:29.990

一些jQuery的解决方案：
1）标记

```
​&lt;div>
    <p>This is line one</p>
    <p>This is line two</p>
    <p>This is line three</p>
    <p>This is line four</p>
    <p>This is line five</p>
    <p>This is line six</p>
</div>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

2）CSS（最大线的大小）

```
​div > p:first-child {
    font-size:1.8em;
}​ 
```

3）JS：

```
var pars = $("div p");
var size;
for (var i = 0; i < pars.length - 1; i++) {
    size = parseInt($(pars[i]).css('font-size'));
    $(pars[i+1]).css('font-size', (size*0.9+"px"));
}​ 
```

如果您想更快地减小字体大小 - 将 0.9 更改为更小

ps 工作示例 - [http://jsfiddle.net/BVWp4/](http://jsfiddle.net/BVWp4/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-06T02:05:25.427

[Tuanderful](https://stackoverflow.com/users/280909/tuanderful)提供了可能是最简单和最兼容浏览器的方法，但我正在编译更多。`nth-child(#)`一个明显的方法是我在这里演示的一系列声明：http: [//jsfiddle.net/mQYCt/2/](http://jsfiddle.net/mQYCt/2/)

```
.parent > div:nth-child(1) {
  font-size: 30px;
}
.parent > div:nth-child(2) {
  font-size: 25px;
}
.parent > div:nth-child(3) {
  font-size: 20px;
}
... 
```

如果更多的浏览器同时实现`calc`和[css 变量](http://css3.bradshawenterprises.com/blog/css-variables/)，这可能只需要一个声明就可以完成，但这还有点距离。

我也试过（只是出于好奇）使用 a`counter-increment`来做到这一点：

```
.parent {counter-reset: num;}
.parent div {
    counter-increment: num;
    font-size: -moz-calc( num * 10px);
    font-size: calc( num * 10px);
} 
```

毫不奇怪，这在任何浏览器中都不起作用，但这是一个有趣的想法。

# tcp - 如何知道 TCP 连接在 net 包中关闭？

> ID：12741386
> 
> 赞同：63
> 
> 时间：2012-10-05T07:14:00.587
> 
> 标签：tcp, go

我正在实现一个小型 TCP 服务器。我如何知道我的一位客户是否已关闭？我应该尝试读取还是写入并检查是否`err`为零？

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2012-10-05T07:22:27.847

该线程“[可靠检测 TCP 连接已关闭的最佳方法](https://web.archive.org/web/20140801101158/http://osdir.com/ml/go-language-discuss/2012-08/msg01586.html)”，使用`net.Conn`for ' `c`' （也见于[`utils/ping.go`](https://github.com/languid/svnmanager/blob/dcb51fce449565045e0818c320bca2876fe3dd0d/utils/ping.go)或[`locale-backend/server.go`](https://github.com/stevenschmatz/locale-backend/blob/083197fdffb8610f8eccf45bd17f1d98b3e3154e/server.go#L65-L76)或[许多其他实例](https://github.com/search?q=SetReadDeadline%20%22read%28one%29%22&ref=searchresults&type=Code&utf8=%E2%9C%93)）：

```
one := make([]byte, 1)
c.SetReadDeadline(time.Now())
if _, err := c.Read(one); err == io.EOF {
  l.Printf(logger.LevelDebug, "%s detected closed LAN connection", id)
  c.Close()
  c = nil
} else {
  var zero time.Time
  c.SetReadDeadline(time.Now().Add(10 * time.Millisecond))
} 
```

为了检测超时，它建议：

```
if neterr, ok := err.(net.Error); ok && neterr.Timeout() {
  ... 
```

* * *

2019 年更新：[tuxedo25](https://stackoverflow.com/users/704660/tuxedo25)[在评论](https://stackoverflow.com/questions/12741386/how-to-know-tcp-connection-is-closed-in-golang-net-package/12741495#comment97132452_12741495)中提到：

> 在 go 1.7+ 中，零字节读取立即返回并且永远不会返回错误。
> 您必须至少读取一个字节。

请参阅[提交 5bcdd63](https://github.com/golang/go/commit/5bcdd639331cd7f8d844fd38a674c4751423f938)并[转到问题 15735](https://github.com/golang/go/issues/15735)

> ## `net`：不要`io.EOF`从零字节读取返回

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-10-05T07:17:22.787

尝试读取它，如果它关闭它会抛出一个错误。如果您愿意，请优雅地处理！

对于放弃太多的风险：

```
func Read(c *net.Conn, buffer []byte) bool {
    bytesRead, err := c.Read(buffer)
    if err != nil {
        c.Close()
        log.Println(err)
        return false
    }
    log.Println("Read ", bytesRead, " bytes")
    return true
} 
```

下面是使用 net 包制作小型 TCP“聊天服务器”的一个很好的介绍：

《[Golang Away：TCP 聊天服务器](https://web.archive.org/web/20160119084158/ttp://www.badgerr.co.uk/2011/06/20/golang-away-tcp-chat-server/)》

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2019-11-01T19:11:26.900

在这方面挣扎了一段时间后，这是一个 POSIX 解决方案，用于`MSG_PEEK`防止耗尽缓冲区并导致竞争条件。这使您可以检查 TCP 套接字的 READ 部分是否仍然从另一个 goroutine 打开：

```
func connCheck(conn net.Conn) error {
    var sysErr error = nil
    rc, err := conn.(syscall.Conn).SyscallConn()
    if err != nil { return err }
    err = rc.Read(func(fd uintptr) bool {
        var buf []byte = []byte{0}
        n, _, err := syscall.Recvfrom(int(fd), buf, syscall.MSG_PEEK | syscall.MSG_DONTWAIT)
        switch {
        case n == 0 && err == nil:
            sysErr = io.EOF
        case err == syscall.EAGAIN || err == syscall.EWOULDBLOCK:
            sysErr = nil
        default:
            sysErr = err
        }
        return true
    })
    if err != nil { return err }

    return sysErr
} 
```

这是基于上面的 mysql#connCheck，但它执行 1 字节读取系统调用，这可能与尝试读取流的其他 goroutine 发生冲突。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-04-10T16:38:07.670

2019年4月状态：

阅读[https://github.com/golang/go/issues/15735上的线程和帖子](https://github.com/golang/go/issues/15735)

如果服务器没有在连接上写入（读取将失败，但写入不会），则普遍缺乏官方支持来检测服务器是否关闭了 TCP 连接。

[https://github.com/methane](https://github.com/methane)提供了一个解决方案，该解决方案仅适用于 Linux，并且由于它进行一些分配而价格昂贵 -

这可以在这里找到：[https ://github.com/go-sql-driver/mysql/blob/master/conncheck.go](https://github.com/go-sql-driver/mysql/blob/master/conncheck.go)

我发现这是可行的，但不是跨平台阻止了我采用它-

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2021-01-13T09:16:15.487

我的五美分，我认为最好写到连接并得到一个错误，感谢上面的答案，这是我的工作解决方案

```
func isTCPWorking(c net.Conn) bool {
   _, err := c.Write([]byte("OK"))
   if err != nil {
      c.Close() // close if problem
      return false
   }
   return true
} 
```

* * *

## 回答 #6

> 赞同：-4
> 
> 时间：2016-10-17T08:58:19.273

```
 _, err := conn.Read(make([]byte, 0))
        if err!=io.EOF{
            // this connection is invalid
            logger.W("conn closed....",err)

        }else{
            byt, _:= ioutil.ReadAll(conn);
        } 
```

# cocos2d-iphone - 如何在 Cocos2d 中使用 UITextField？

> ID：12741387
> 
> 赞同：1
> 
> 时间：2012-10-05T07:14:04.963
> 
> 标签：cocos2d-iphone, uitextfield

我想在Cocos2d中使用UITextField，所以写了如下代码：

```
// In HelloWorldLayer...
-(id) init
{
    if( self=[super init] )
    {
        CGSize winSize = [[CCDirector sharedDirector] winSize];
        UIView *view = [[CCDirector sharedDirector] openGLView];

        //        CGRect rect = CGRectMake(60.0, 45.0, 360.0, 25.0);
        CGPoint pos1 = ccp( 60.0, winSize.height - 45.0 );
        CGPoint pos2 = ccp( 360.0, 25.0 );

        pos1 = [[CCDirector sharedDirector] convertToUI:pos1];
        pos2 = [[CCDirector sharedDirector] convertToUI:pos2];

        // UITextField *_tField; it is declared in field
        _tField = [[UITextField alloc] initWithFrame:CGRectMake(pos1.x, pos1.y, pos2.x, pos2.y)];
        _tField.backgroundColor = [UIColor whiteColor];
        _tField.borderStyle     = UITextBorderStyleRoundedRect;
        _tField.returnKeyType   = UIReturnKeyDone;
        _tField.delegate        = self;

        [view addSubview:_tField];
    }
    return self;
} 
```

现在，我有这样的问题： [http://serviceapi.nmv.naver.com/flash/convertIframeTag.nhn?vid=F25D1799886DD32FDA54463C2458197E492A&outKey=V1269fde60a3180c7d50216a83d22b478817df9b6060a511adffa16a83d22b478817d&width=720&height=438](http://serviceapi.nmv.naver.com/flash/convertIframeTag.nhn?vid=F25D1799886DD32FDA54463C2458197E492A&outKey=V1269fde60a3180c7d50216a83d22b478817df9b6060a511adffa16a83d22b478817d&width=720&height=438)

我怎么解决这个问题...？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:54:21.467

通过这个问题，你的意思是为什么文本不是水平书写的？因为文本实际上是横写的，可能你还有其他影响代码的东西。

# maven - Maven Grails web.xml

> ID：12741390
> 
> 赞同：0
> 
> 时间：2012-10-05T07:14:22.497
> 
> 标签：maven, grails, web.xml

可能是一个愚蠢的问题，但在我当前的 maven 项目中，我的 /web-app/WEB-INF 文件夹中没有 web.xml。

我的项目中没有 web-xml，而且从来没有，我试图添加它，但我的应用程序对 web.xml 中编写的任何内容都没有响应。我错过了什么？，iv 尝试通过 config.groovy 指定它的路径，例如：

```
grails.project.web.xml="web-app/WEB-INF/web.xml" 
```

我错过了什么吗？我是否需要在其他配置文件中指定 web.xml 才能让我的项目使用它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T07:28:23.250

跑

```
grails install-templates 
```

复制 Grails 用于所有代码生成活动（包括“web.xml”）的模板。

“web.xml”文件将在“src/templates/war”目录中创建。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-06T15:35:49.750

您也许可以摆脱与此[https://stackoverflow.com/a/5891646/107847](https://stackoverflow.com/a/5891646/107847)类似的事情。它不会安装单独的 web.xml，但允许您添加所需的任何内容或编辑任何生成的内容。

# ios - 如何从 iOS 中的谷歌地图获取坐标？

> ID：12741392
> 
> 赞同：0
> 
> 时间：2012-10-05T07:14:24.627
> 
> 标签：ios, google-maps, gps

我正在为高尔夫做一个 iOS 应用程序，具有 GPS 跟踪、计分系统等功能。

在这个应用程序中，我需要提供更多高尔夫球场的详细信息，例如障碍坐标、旗杆和球道坐标。

获取此信息的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:18:50.497

我在这里发布了一些链接，其中包括有关使用 MapKit 使用 Google Places API 的详细说明，还包括示例代码。

链接 1：[在 MapKit 中使用 Google Places API](http://www.raywenderlich.com/13160/using-the-google-places-api-with-mapkit)

链接二：[iOS 教程 MapKit 简介](http://www.raywenderlich.com/2847/introduction-to-mapkit-on-ios-tutorial)

希望这会帮助你。

# opencv - 无法在 opencv 2.4 中使用 cvsnakeimage

> ID：12741393
> 
> 赞同：1
> 
> 时间：2012-10-05T07:14:39.237
> 
> 标签：opencv

我需要将 cvsnakeimage 函数用于活动轮廓，但显然它在 opencv2.4 中不可用。

我的电脑上安装了 opencv2.4。我已经将我的 VS2010 项目链接到 opencv_legacy242d.lib 但 cvSnakeImage 仍然未定义。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T17:45:30.407

不要忘记：

```
#include <opencv2/legacy/legacy.hpp> 
```

并确保您正在使用`opencv_legacy242.lib`或链接`opencv_legacy242d.lib`。

我没有可用的 Windows 机器，但这适用于 Mac OS X。

# blackberry - 某些 url 在浏览器字段上显示为“Bad Request (Invalid URL)”

> ID：12741394
> 
> 赞同：1
> 
> 时间：2012-10-05T07:14:41.680
> 
> 标签：blackberry

我已经使用浏览器字段显示了一个网页。它成功显示所有网页。

但是当我通过这个网址[http://mobile.idaholottery.com/#page-last5pb](http://mobile.idaholottery.com/#page-last5pb)

网页没有显示。它显示“错误的请求 URL”，但如果我尝试在浏览器上打开，它会加载。

我的代码是，

```
BrowserFieldConfig config = new BrowserFieldConfig();
String userAgent = "BlackBerry" + DeviceInfo.getDeviceName() + "/" + 
           DeviceInfo.getSoftwareVersion() +" Profile/" + 
           System.getProperty("microedition.profiles") +" Configuration/" + 
           System.getProperty( "microedition.configuration") + " VendorID/" + 
           Branding.getVendorId();
config.setProperty(BrowserFieldConfig.USER_AGENT, userAgent);
config.setProperty(BrowserFieldConfig.ALLOW_CS_XHR, Boolean.TRUE);
config.setProperty(BrowserFieldConfig.ENABLE_GEARS, Boolean.TRUE);
config.setProperty(BrowserFieldConfig.NAVIGATION_MODE, BrowserFiedConfig.NAVIGATION_MODE_POINTER);
config.setProperty(BrowserFieldConfig.JAVASCRIPT_ENABLED, Boolean.TRUE);    
config.setProperty(BrowserFieldConfig.ENABLE_COOKIES,Boolean.TRUE);
config.setProperty(BrowserFieldConfig.USER_SCALABLE, Boolean.TRUE); 
```

为什么没有在浏览器字段上打开以及如何在 bb 浏览器字段中显示 url，需要添加任何设置？

# jquery - 在jquery中的点击功能需要帮助

> ID：12741396
> 
> 赞同：0
> 
> 时间：2012-10-05T07:14:50.207
> 
> 标签：jquery, click

我的页面中有一个小部件。如果我单击小部件的任何部分，它应该导航到下一页，其中包含有关该小部件的一些详细信息。如果我单击该小部件中可用的名为“likes”的跨度，我需要打开一个对话框。但是，即使我单击该链接，它也会导航到下一页。

如果我单击除该链接之外的小部件的任何部分，它应该导航到下一页。

这是点击的正常代码：

```
 $('td#' + parentElement).find('div.streamcontenttopmain').click(function() {
            window.location.href = 'TaskDetails.aspx?id=' + json_row.id + '&community=' + getQueryParam('community');
        }); 
```

如果我单击小部件中的任何位置，此代码将导航到下一页

我的跨度定义如下：

```
<span class="flft likes" style="MARGIN-LEFT: 2px"> 
```

这是我尝试过的：

```
 $('td#' + parentElement).find('div.streamcontenttopmain').click(function (e) {

            if ($(this).hasClass("flft likes")) {

                alert("hi");
            } else {
                window.location.href = 'TaskDetails.aspx?id=' +
                               json_row.id +
                               '&community=' +
                               getQueryParam('community');
            }
        }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:19:33.737

您可以阻止事件冒泡到`div`元素并触发它们的事件处理程序：

```
$('#' + parentElement).find('span.likes').click(function(e) {
    e.stopPropagation();

    // ...
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:20:14.923

如果您停止事件的传播，您可以在跨度中处理它，而它不会到达 div。这看起来类似于下面

```
$('td#' + parentElement).find('div.streamcontenttopmain').click(function(e){
      window.location.href = 'TaskDetails.aspx?id=' + 
                               json_row.id + 
                               '&community=' + 
                               getQueryParam('community');
})).find('span.likes').click(function(e) {
           e.stopPropagation();
           //do the span specific stuff here
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T07:26:54.527

您还可以执行以下操作：

```
$(document).ready(function(){
    $('div').click(function(e){
        if(e.toElement.nodeName == "SPAN")
            alert('span clicked');
        else
            alert('div clicked');
    });
}); 
```

我在这个演示中展示了它：http: [//jsfiddle.net/SxhWy/3/](http://jsfiddle.net/SxhWy/3/)

# c++ - 谷歌测试框架 - 测试用例之间的依赖关系

> ID：12741404
> 
> 赞同：7
> 
> 时间：2012-10-05T07:15:20.667
> 
> 标签：c++, testing, frameworks

我是使用谷歌测试框架的新手，并且仍然通过大量材料来充分利用它。

有什么方法可以指示/指定测试用例之间的关系，以便有条件地执行它？比如说我有两个测试；只有第一次成功，我才能运行第二次测试吗？我不确定它是否属于测试“单元”的原始规则，但只是想知道它是否可能。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T10:12:53.997

在源代码中没有办法做到这一点。可能的解决方案使用 shell 脚本并使用过滤器运行测试。

Python 示例：

```
from subprocess import call

def runTest(pattern):
    return call(['test', '--gtest_filter=%s' % pattern])

if runTest('FirstPriorityTestPattern') == 0:
   return runTest('SecondPriorityTestPattern')
return 1 
```

# c++ - 按特定顺序打印队列

> ID：12741405
> 
> 赞同：0
> 
> 时间：2012-10-05T07:15:27.833
> 
> 标签：c++, queue

> **可能重复：**
> [以正确的顺序输出队列](https://stackoverflow.com/questions/12740900/outputting-queues-in-correct-order)

我有两个包含数字的队列，in​​tegerQueue 仅包含整数，realQueue 包含开头的 '.' 然后是以下数字。

如果只读入整数，我需要打印出整数队列，但如果 realqueue 中有数据，我需要打印出前半部分 integerqueu 然后后半部分 realqueu 以生成像 123.234 这样的实数

目前我的代码将打印实数 1。然后它将打印整数：2342343

我该如何解决这个问题，以便显示正确的输出？

```
//if the realQueue is empty, then we just read in an integer, currentState must be 1, in order to print integer
if(realQueue.empty() || currentState == '1')//implementation of the FSM
{
    writeFile <<"Integer:       ";
    while(!integerQueue.empty())
    {
        writeFile <<integerQueue.front();
        integerQueue.pop();
    }
}
//since the realQueue has values in it, then it must bea real Number
else
{
    //currentState = '2';
    // currentState must be == '2', since we have a real number to print

    writeFile<<"Real:           ";
    //currentState has to be in real mode for it to print out to file
    /*while(!integerQueue.empty() && currentState == '2')
    {
        writeFile <<integerQueue.front();
        integerQueue.pop();
    }*/
    // currentState has to be in real mode for it to print out to file
    while(!realQueue.empty() && currentState == '2' && !integerQueue.empty())
    {
        writeFile <<integerQueue.front()<<realQueue.front();

        integerQueue.pop();
        realQueue.pop();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T08:30:06.623

如果我理解正确，则`integerQueue`包含“。”之前的数字，并且`realQueue`包含“。”之后的数字，如果有的话。
所以如果你在你的 中找到任何东西`realQueue`，你就有一个实数，否则是一个整数。

正确的？

在这种情况下，您甚至不需要知道`currentState`:
只需打印整数部分

```
while( !integerQueue.empty() ) {
    writeFile << integerQueue.front();
    integerQueue.pop();
} 
```

然后，如果您也有实部，请在整数部分后面打印：

```
while( !realQueue.empty() ) {
    writeFile << realQueue.front();
    realQueue.pop();
} 
```

# android - 以编程方式发送短信未存储在发件箱中？

> ID：12741408
> 
> 赞同：0
> 
> 时间：2012-10-05T07:15:41.167
> 
> 标签：android, sms, send

我正在以编程方式制作项目 SMS .. 我使用此代码发送短信：

```
SmsManager sms = SmsManager.getDefault();
sms.sendTextMessage(phoneNumber, null, message, sentPI, deliveredPI); 
```

如果消息发送和传递，不存储在发件箱中。你修好了吗？谢谢！

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-05T07:22:00.767

“SENT”文件夹的概念是应用程序的功能，而不是操作系统。如果您希望创建自己的 SMS 客户端应用程序，请创建您自己的“SENT”文件夹作为该应用程序的一个功能。你知道你正在发送什么消息，所以你可以将它们存储在你喜欢的任何地方（例如，SQLite 数据库）。

如果您想发送 SMS 消息并将它们显示在用户选择的 SMS 客户端的“SENT”文件夹中，请不要使用 SmsManager。相反，使用 ACTION_SENDTO 并让消息由用户选择的 SMS 客户端发送，如[本示例项目所示](https://github.com/commonsguy/cw-advandroid/tree/master/SMS/Sender/)。

[原始来源在这里](https://stackoverflow.com/a/3179258/614807)。

# java - Java JDBC 连接池（如何检查）？

> ID：12741413
> 
> 赞同：0
> 
> 时间：2012-10-05T07:16:01.127
> 
> 标签：java, jdbc, connection-pooling

首先，我是新手`Java/JSP/Eclipse`。但是，我拥有多年的 .Net 经验。我刚刚在 Java 中学习了如何使用`javax.sql.DataSource`（这样我就不需要输入用户名/密码）建立与 MS SQL Server 的连接。

现在，我创建了一个类来处理数据库查询，在那个类中，我有一个函数，我可以调用它来返回一个`RowSet`.

```
 import javax.naming.Context;
    import javax.naming.InitialContext;
    import java.sql.Connection;

    import javax.sql.DataSource;
    import javax.sql.rowset.JdbcRowSet;
    import com.sun.rowset.JdbcRowSetImpl;

    public abstract class ClsDBAccessBASE {
        public boolean prbAutoCommit = true;
        public String prsDataSourceName = "";

            public ClsDBAccessBASE( String pvsDataSourceName ) {
                    prsDataSourceName = pvsDataSourceName;
            }
            public JdbcRowSet fnorsSQLText( String pvsSQLText ) {
                JdbcRowSet voRS = null;

                try {
                    Context voContext = new InitialContext();
                    DataSource voDS = (DataSource)voContext.lookup(prsDataSourceName);
                    Connection voConn = (Connection)voDS.getConnection();
                    voRS = new JdbcRowSetImpl((voConn.createStatement()).executeQuery(pvsSQLText));
                } catch (Exception e) {e.printStackTrace();}

                return voRS;
            }
        }
    } 
```

我的目标是确保我使用的是连接池。我知道`JdbcRowSet`自动执行？但是，问题（我认为）是我将`(voConn.createStatement()).executeQuery(pvsSQLText)`a`ResultSet`转换为 a `JdbcRowSet`。这是否意味着使用的底层连接仍然存在`ResultSet`？而不是`RowSet`？有没有办法让我检查我是否确实在使用连接池？

对不起，如果我的问题听起来很愚蠢。我对 Java 开发和 Eclipse 非常陌生。请多多包涵，我将不胜感激您能为我提供的任何指导。

我正在使用：`sqljdbc4.jar`from `Microsoft`（每当我调用函数和/或 .next() 函数时，它似乎都会给我错误`JdbcRowSet.execute()`。关于 NullReference 的东西。但这是另一个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:18:20.983

得到`JDBC connection object`

```
 System.out.println(conn.getClass().getName()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:58:03.813

是的，如果你使用容器数据源，它会为你做连接池。

连接池不依赖于 RowSet 实现，使用后应该关闭行集。我建议立即将其读入普通对象数组并关闭。并且不要使用`JdbcRowSetImpl`，`RowSet`就足够了。

编辑：我忘了回答你的问题：检查你在池中有多少连接，而不是循环调用 getConnection 并执行 select，并且*不要关闭* `ResultSet`。当您达到计数打开连接 == 在连接池中配置的最大打开连接数时，您会收到错误消息。

# configuration - Spring 3.1 + hibernate 4：无法运行

> ID：12741415
> 
> 赞同：0
> 
> 时间：2012-10-05T07:16:13.770
> 
> 标签：configuration, spring-3, sessionfactory, hibernate-4.x

我尝试了不同的配置，但没有效果。错误保持不变。这里是从 BoneCPs 网站获取的所需配置：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:tx="http://www.springframework.org/schema/tx"

       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
          http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.2.RELEASE.xsd
          http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.2.RELEASE.xsd
          http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
">    

    <bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean" autowire-candidate="" autowire="autodetect">
        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">org.hibernate.dialect.PostgreSQLDialect</prop>
                <prop key="hibernate.show_sql">true</prop>
                <prop key="hibernate.hbm2ddl.auto">create</prop>
                <prop key="hibernate.connection.provider_class">com.jolbox.bonecp.provider.BoneCPConnectionProvider</prop>
                <prop key="hibernate.connection.driver_class">org.postgresql.Driver</prop>
                <prop key="hibernate.connection.url">jdbc:postgresql:MyDB</prop>
                <prop key="hibernate.connection.username">postgres</prop>
                <prop key="hibernate.connection.password">123456</prop>
                <prop key="bonecp.idleMaxAge">240</prop>
                <prop key="bonecp.idleConnectionTestPeriod">60</prop>
                <prop key="bonecp.partitionCount">1</prop>
                <prop key="bonecp.acquireIncrement">5</prop>
                <prop key="bonecp.maxConnectionsPerPartition">60</prop>
                <prop key="bonecp.minConnectionsPerPartition">5</prop>
                <prop key="bonecp.statementsCacheSize">50</prop>
                <prop key="bonecp.releaseHelperThreads">2</prop>
            </props>
        </property>
    </bean>
    <!--<bean id="transactionManager"
          class="org.springframework.orm.hibernate4.HibernateTransactionManager">
        <property name="sessionFactory" ref="sessionFactory" />
    </bean>
    <tx:annotation-driven transaction-manager="txManager" /> -->

    <bean id="AbstractHibernateDAO" abstract="true"
          class="org.bitbucket.myName.moleculedatabaseframework.dao.AbstractHibernateDAO"/>

    <bean id="ChemicalStructureDAO" extends="AbstractHibernateDAO"
          class="org.bitbucket.myName.moleculedatabaseframework.dao.ChemicalStructureDAO"/>
    <bean id="ChemicalCompoundDAO" extends="AbstractHibernateDAO"
          class="org.bitbucket.myName.moleculedatabaseframework.dao.ChemicalCompoundDAO"/>
</beans> 
```

以及包含自动装配会话工厂的代码：

```
@Repository
public abstract class AbstractHibernateDAO< T extends Serializable> {

    private final Class< T> clazz;
    @Autowired
    SessionFactory sessionFactory;

    public AbstractHibernateDAO(final Class< T> clazzToSet){
        this.clazz = clazzToSet;
    }

    public T getById(final Long id) {
        Preconditions.checkArgument(id != null);
        return (T) this.getCurrentSession().get(this.clazz, id);
    }

    public List< T> getAll() {
        return this.getCurrentSession()
                .createQuery("from " + this.clazz.getName()).list();
    }

    public void create(final T entity) {
        Preconditions.checkNotNull(entity);
        this.getCurrentSession().persist(entity);
    }

    public void update(final T entity) {
        Preconditions.checkNotNull(entity);
        this.getCurrentSession().merge(entity);
    }

    public void delete(final T entity) {
        Preconditions.checkNotNull(entity);
        this.getCurrentSession().delete(entity);
    }

    public void deleteById(final Long entityId) {
        final T entity = this.getById(entityId);
        Preconditions.checkState(entity != null);
        this.delete(entity);
    }

    protected final Session getCurrentSession() {
        return this.sessionFactory.getCurrentSession();
    }
} 
```

尝试创建新实体（代码段的最后一行）时出现错误：

```
ApplicationContext context = new ClassPathXmlApplicationContext("ApplicationContext.xml"); 

ChemicalStructureDAO structureDAO = (ChemicalStructureDAO) context.getBean("ChemicalStructureDAO");

ChemicalStructure structure1 = new ChemicalStructure();
structure1.setStructureKey("c1ccccc1");
structure1.setStructureData("c1ccccc1");

structureDAO.create(structure1); 
```

我收到 NullPointerException：

```
java.lang.NullPointerException
    at org.bitbucket.myName.moleculedatabaseframework.dao.AbstractHibernateDAO.getCurrentSession(AbstractHibernateDAO.java:78)
    at org.bitbucket.myName.moleculedatabaseframework.dao.AbstractHibernateDAO.create(AbstractHibernateDAO.java:54)
    at org.bitbucket.myName.moleculedatabaseframework.App.main(App.java:32)
------------------------------------------------------------------------ 
```

也许我误解了 autowired 的含义？我认为该属性将自动设置。所以我尝试了以下操作：

```
ApplicationContext context = new ClassPathXmlApplicationContext("ApplicationContext.xml"); 
SessionFactory sessionfactory = (SessionFactory)context.getBean("sessionFactory");

ChemicalStructureDAO structureDAO = (ChemicalStructureDAO) context.getBean("ChemicalStructureDAO"); 
structureDAO.setSessionFactory(sessionfactory);

ChemicalStructure structure1 = new ChemicalStructure();
structure1.setStructureKey("c1ccccc1");
structure1.setStructureData("c1ccccc1");

structureDAO.create(structure1); 
```

这会导致以下错误：

```
Exception in thread "main" org.hibernate.HibernateException: No Session found for current thread
at org.springframework.orm.hibernate4.SpringSessionContext.currentSession(SpringSessionContext.java:97)
at org.hibernate.internal.SessionFactoryImpl.getCurrentSession(SessionFactoryImpl.java:941)
at org.bitbucket.myName.moleculedatabaseframework.dao.AbstractHibernateDAO.getCurrentSession(AbstractHibernateDAO.java:78)
at org.bitbucket.myName.moleculedatabaseframework.dao.AbstractHibernateDAO.create(AbstractHibernateDAO.java:54) 
```

我查看了大量的教程，但它们都忽略了看似基本的东西让事情运行起来，例如。ApplicationContext context = new ClassPathXmlApplicationContext("ApplicationContext.xml"); 没有出现在任何 spring + hibernate 教程中。有人能指点我一个完整的教程吗 （是的，现在变得非常沮丧。老实说，如果我使用普通的 jdbc，我会在几个小时前启动并运行）

现在，我怎样才能让它运行？自动接线如何工作？

编辑：通过“已接受答案”的帮助找到的解决方案：

新的 Spring 配置文件：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:tx="http://www.springframework.org/schema/tx"

       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
          http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd
          http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
          http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
">      

    <bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean" autowire="autodetect">
        <property name="dataSource" ref="dataSource" />
        <property name="annotatedClasses">
            <list>
                <value>org.bitbucket.myName.moleculedatabaseframework.entityclasses.ChemicalStructure</value>
                <value>org.bitbucket.myName.moleculedatabaseframework.entityclasses.ChemicalCompound</value>
                <value>org.bitbucket.myName.moleculedatabaseframework.entityclasses.ChemicalCompoundComposition</value>
            </list>
        </property>

        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">org.hibernate.dialect.PostgreSQLDialect</prop>
                <prop key="hibernate.show_sql">true</prop>
                <prop key="hibernate.hbm2ddl.auto">create</prop>
            </props>
        </property>
    </bean>     

    <!-- Spring bean configuration. Tell Spring to bounce off BoneCP -->
    <bean id="dataSource"
          class="org.springframework.jdbc.datasource.LazyConnectionDataSourceProxy">
        <property name="targetDataSource">
            <ref local="mainDataSource" />
        </property>
    </bean>

    <!-- BoneCP configuration -->
    <bean id="mainDataSource" class="com.jolbox.bonecp.BoneCPDataSource" destroy-method="close">
        <property name="driverClass" value="org.postgresql.Driver" />
        <property name="jdbcUrl" value="jdbc:postgresql:MolDB" />
        <property name="username" value="postgres"/>
        <property name="password" value="123456"/>
        <property name="idleConnectionTestPeriod" value="60"/>
        <property name="idleMaxAge" value="240"/>      
        <property name="maxConnectionsPerPartition" value="60"/>
        <property name="minConnectionsPerPartition" value="20"/>
        <property name="partitionCount" value="3"/>
        <property name="acquireIncrement" value="10"/>                              
        <property name="statementsCacheSize" value="50"/>
        <property name="releaseHelperThreads" value="3"/>
    </bean>

    <bean id="txManager"
          class="org.springframework.orm.hibernate4.HibernateTransactionManager">
        <property name="sessionFactory" ref="sessionFactory" />
    </bean>
    <tx:annotation-driven transaction-manager="txManager" />

    <context:annotation-config />

    <bean id="AbstractHibernateDAO" abstract="true"
          class="org.bitbucket.myName.moleculedatabaseframework.dao.AbstractHibernateDAO"/>

    <bean id="ChemicalStructureDAO" parent="AbstractHibernateDAO"
          class="org.bitbucket.myName.moleculedatabaseframework.dao.ChemicalStructureDAO"/>
    <bean id="ChemicalCompoundDAO" parent="AbstractHibernateDAO"
          class="org.bitbucket.myName.moleculedatabaseframework.dao.ChemicalCompoundDAO"/>
</beans> 
```

我不得不添加

```
<context:annotation-config /> 
```

到文件并在 sessionFactory 配置中声明带注释的实体类：

```
<property name="annotatedClasses">
    <list>
        <value>org.bitbucket.myName.moleculedatabaseframework.entityclasses.ChemicalStructure</value>
        <value>org.bitbucket.myName.moleculedatabaseframework.entityclasses.ChemicalCompound</value>
        <value>org.bitbucket.myName.moleculedatabaseframework.entityclasses.ChemicalCompoundComposition</value>
    </list>
</property> 
```

我不得不取消注释事务管理器部分，因此将数据源配置更改为我使用的配置不起作用（需要数据源）。

我还必须添加

```
@Repository
@Transactional
public abstract class AbstractHibernateDAO< T extends Serializable> {
    //code...
} 
```

到 AbstractHibernateDAO。我正在考虑写一篇博客文章并在这里建立一个链接。对于完全不熟悉 Spring 和 hibernate 的任何人来说，这将非常有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:21:29.213

你的spring xml中有这样的东西吗？

```
<context:annotation-config />   
<context:component-scan base-package="base.package" /> 
```

这会扫描包含注释的类。

# java - 将按钮推入组合框弹出菜单项 Java Swing

> ID：12741419
> 
> 赞同：-4
> 
> 时间：2012-10-05T07:16:25.297
> 
> 标签：java, swing, button, popup, jcombobox

我想创建一个带有按钮的组合框来删除菜单，如下图所示

![在此处输入图像描述](../Images/48e8d245170ce8371db1641bb7199919.png)

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T10:13:15.053

不要试图`ComboBoxModel` *在原位*编辑。`JTable`相反，使用两列和[此处](https://stackoverflow.com/a/4528604/230513)显示的方法创建模型编辑器。A`JDialog`将是一个合适的顶级容器。

# ios - IOS UIPopoverBackgroundView，设置不同的内容insets

> ID：12741428
> 
> 赞同：1
> 
> 时间：2012-10-05T07:16:51.087
> 
> 标签：ios, ipad, popover

我已经实现了一个 CustomPopOverBackgroundView，它是 UIPopoverBackgroundView 的一个子类。

我已经实现了类方法

```
+(UIEdgeInsets)contentViewInsets{   
    return UIEdgeInsetsMake(CONTENT_INSET, CONTENT_INSET, CONTENT_INSET, CONTENT_INSET);
} 
```

目前 CONTENT_INSET 是固定值：

```
#define CONTENT_INSET 25.0 
```

我想做的是能够改变这个值，这样我就可以在应用程序中使用不同的内容插入来创建不同的弹出框。

是否有可能只有一个 popoverbackground 类？

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T21:17:16.000

我不认为有一个完美的方法可以做到这一点，我认为 Apple 的 API 不允许我们自己创建背景类的实例是很糟糕的。

然而，一个有点乏味的解决方法是创建一个像 setContentViewInsets:(UIEdgeInsets)insets 这样的静态方法来更改像 contentViewInsets 这样的静态变量的值，然后可以通过 +(UIEdgeInsets)contentViewInsets 方法返回。

因此，每次需要更改 contentViewInsets 时都必须调用“setContentViewInsets”。这有点烦人，但这是我能想到的“最好”的方式，而无需创建一堆背景类。

顺便说一句，在运行时更改 contentViewInsets 会产生动画副作用，这对我来说也很烦人。

我真的希望Apple可以更改API以获取实例而不是后台类本身。

# javascript - 如何在jsp的会话/请求/应用程序中存储一个jquery变量？

> ID：12741431
> 
> 赞同：1
> 
> 时间：2012-10-05T07:17:02.647
> 
> 标签：javascript, jquery, jsp, jquery-mobile, jstl

我正在使用 jQuery Mobile 和 Spring MVC 开发一个包含多页模板的移动应用程序。我有一个包含锚链接的jsp；每当我单击链接`Pagebeforechange`事件时，都会调用一个 jQuery 函数。我从函数内的链接中获得了一个 id，并将其存储在一个 jQuery 变量中。现在我想重用 jstl`if`标记中的 jQuery 变量的值，该标记在核心标记库中可用。我如何使用该值？这是我的jsp：

```
<div data-role="page" data-theme="m" id="menu">
   <c:import url="/headerPage.jsp"></c:import>
    <div data-role="content">   
      <ul data-role="listview" data-theme="h" data-inset="true">
        <c:forEach items="${items}" var="item">
          <li>**<a href="#submenu1?id=${item.id}">**${item.name}</a></li>
        </c:forEach>
    </ul>
       </div>
  <c:import url="footerPage.jsp"></c:import>
</div>

    <div data-role="page" data-theme="m" id="submenu">
       <c:import url="/headerPage.jsp"></c:import>
        <div data-role="content">

           <c:set var="**testID**" scope="session" value="<div id='**result**'></div>"></c:set>  // here testID value printed 1st time but if I print value in 2nd time gives nothing

          <ul data-role="listview" data-theme="h" data-inset="true">

            <c:forEach items="${items}" var="item">

                      <c:if test="${menu.key eq **testID**}"> // here testID is not working
                     <li><a href="#submenu2">${item.name}</a></li>
                      </c:if>    
            </c:forEach>
        </ul>
           </div>
      <c:import url="footerPage.jsp"></c:import>
    </div>

    <script type="text/javascript">

       $(document).bind("pagebeforechange",function(e, data) {

        if (typeof data.toPage === "string") {
               var u = $.mobile.path.parseUrl(data.toPage), re2 = /^#submenu1/; 
               var categoryName = u.hash.replace( /.*id=/, "" ); // how to store categoryName in session and use it later in <c:if> tag in jsp.
               var pageSelector = u.hash.replace( /\?.*$/, "" );

               jQuery('#**result**').text(categoryName);

           $.mobile.changePage( $page, options );   
        }
    }
    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T03:00:20.543

我不确定您需要做什么，但我看到了关键字 jQuery、变量、存储和会话。

如果您想要一种方法来存储页面范围内的变量，您可以使用 $.cookie()。

[https://github.com/carhartl/jquery-cookie](https://github.com/carhartl/jquery-cookie)

# winforms - 我必须做什么才能使 DataGridView 上的编辑立即可用？

> ID：12741432
> 
> 赞同：0
> 
> 时间：2012-10-05T07:17:07.920
> 
> 标签：winforms, data-binding, datagridview

我通过一个`DataGridView`绑定到一个`FileItem`对象列表`FileItemBindingSource`。我想简单地将网格绑定到我的列表，并让用户选中或取消选中每个项目的复选框列，然后单击按钮，从网格中获取所有选中的项目。现在，如果我使用以下代码，即使在 UI 中选中了一些框，返回的对象都已将 Checked 设置为 false。

```
Private Sub Button1_Click(sender As Object, e As EventArgs) Handles Button1.Click

    FileItemBindingSource.EndEdit()
    Dim allFiles = DirectCast(FileItemBindingSource.DataSource, IEnumerable(Of FileItem))

    Dim checkedFiles = allFiles.Where(Function(f) f.Checked).Select(Function(f) f.FilePath)

End Sub 
```

我将数据绑定如下：

```
Private Sub Form1_Load(sender As Object, e As EventArgs) Handles MyBase.Load

    FileItemBindingSource.DataSource = GetFiles()

End Sub 
```

我必须怎么做才能对我的 Checked 列进行编辑？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:59:36.907

我认为你应该把 Datagridview.beginInvoke(); 在您拉出选中的对象之前。

我也有这个问题。从未包含最后选中的行或始终包含最后未选中的行。但是，我无权访问该代码，并且我不能 100% 确定这是要使用的命令。

# ruby-on-rails - 设计 + omniauth-facebook 添加权限

> ID：12741436
> 
> 赞同：6
> 
> 时间：2012-10-05T07:17:32.990
> 
> 标签：ruby-on-rails, facebook, devise, omniauth

我们让用户以最低权限注册，如下所示：

```
Devise.setup do |config|
  config.omniauth :facebook, ENV['FACEBOOK_KEY'], ENV['FACEBOOK_SECRET'],
              :scope => 'email,offline_access,user_about_me'
end 
```

我们这样做是为了提高注册率（您要求的权限越少，转化率就越高）。

但是稍后当例如用户想要分享一些东西时，我们需要 publish_stream 权限。

有谁知道如何提升fb权限？例如：'email,offline_access,user_about_me,publish_stream'

我知道用户必须再次通过 oauth 对话框..但是如何做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2016-02-21T00:40:48.973

首先您需要添加`setup: true`能够升级服务的权限列表：

```
Devise.setup do |config|
  config.omniauth :facebook, ENV['FACEBOOK_KEY'], ENV['FACEBOOK_SECRET'],
                  :scope => 'email,offline_access,user_about_me',
                  :setup => true
end 
```

在 中添加两条路线`routes.rb`：

```
devise_scope :user do
  get '/users/auth/:provider/upgrade' => 'omniauth_callbacks#upgrade', as: :user_omniauth_upgrade
  get '/users/auth/:provider/setup', :to => 'omniauth_callbacks#setup'
end 
```

第一条路线是用户应该通过使用链接到的位置`user_omniauth_upgrade_path(:facebook)`。第二个设置路由是omniauth将在内部调用的回调，我们可以使用它来更改范围参数。

这些进入`omniauth_callbacks_controller.rb`：

```
def upgrade
  scope = nil

  if params[:provider] == "facebook"
    scope = 'email,offline_access,user_about_me,publish_stream'
  end

  redirect_to user_omniauth_authorize_path(params[:provider]), flash: {scope: scope}
end 
```

当您`setup: true`在omniauth 配置`setup_path`中指定时，默认情况下会调用该配置。我们将使用它来更改策略中的默认范围。将此添加到`omniauth_callbacks_controller.rb`：

```
def setup
  request.env['omniauth.strategy'].options['scope'] = flash[:scope] || request.env['omniauth.strategy'].options['scope']
  render :text => "Setup complete.", :status => 404
end 
```

最后，在您的视图中，您可以添加：

```
<%= link_to "Upgrade Access", user_omniauth_upgrade_path(:facebook) %> 
```

> 资料来源： [http ://willschenk.com/setting-up-devise-with-twitter-and-facebook-and-other-omniauth-schemes-without-email-addresses/#passing-dynamic-scopes-to-omniauth](http://willschenk.com/setting-up-devise-with-twitter-and-facebook-and-other-omniauth-schemes-without-email-addresses/#passing-dynamic-scopes-to-omniauth)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-05T07:27:23.307

使用 facebook 登录仅使用两个权限 - 1) 电子邮件 2) publish_stream

```
config.omniauth :facebook, ENV['FACEBOOK_KEY'], ENV['FACEBOOK_SECRET'],{:scope => 'email, publish_stream', :client_options => { :ssl => { :ca_file => "#{Rails.root}/config/ca-bundle.crt" } } } 
```

# emacs - 如何编写像 dired 这样的 emacs 主模式

> ID：12741443
> 
> 赞同：6
> 
> 时间：2012-10-05T07:18:17.437
> 
> 标签：emacs, elisp, major-mode

我找到了一堆关于为一种语言编写主要模式的信息（[像这样](https://stackoverflow.com/questions/91201/how-to-write-an-emacs-mode-for-a-new-language)），但是......我想沿着`dired`或`tetris`- 使用缓冲区作为 GUI 的模式编写一个模式。

在[手册的“主要模式”部分](http://www.gnu.org/software/emacs/manual/html_node/elisp/Major-Modes.html#Major-Modes)，“基本主要模式”页面暗示它应该基于模式`special-mode`，但我找不到更多有用的信息

有没有关于编写`special-mode`派生模式的好教程？有什么好的基本“hello world”级别的例子吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T08:02:13.697

看看[UndoTree](http://www.emacswiki.org/emacs/UndoTree)。`undo-tree-visualizer-mode`_

它非常小，并且不基于语言。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-06-18T07:25:03.320

Zachary Kanfer 曾经发表过题为**“使用 Emacs 编写游戏**”的演讲，他在其中现场编写了一个简单的`tictactoe-mode`. 你可以在 YouTube 上找到它，他[在](https://zck.me/tictactoe/tictactoe.el)[这里](https://www.youtube.com/watch?v=gk39mp8Vy4M)上传了他的代码。

我发现这是编写我自己的特殊模式的一个很好的介绍。

# php - 多个 MSQL 表和外键

> ID：12741447
> 
> 赞同：2
> 
> 时间：2012-10-05T07:18:28.653
> 
> 标签：php, mysql, pdo, yii

我想知道在使用 Yii 和 mysql 表时更好的方法（性能方面）是什么：

1.  1 个包含所有列的表
2.  具有外键关系的多个表（在它们之间分布列）

基本上，我要问的是：当一个表有很多关系时，是否会出现性能下降，因为 Yii 会在您进行查询时将所有相应的表提取到对象中？

一个更普遍的问题是：在处理 1 vs 多个表和外键（再次性能..）时，什么是好的做法和更聪明的方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:22:27.370

如果性能是您设计策略中的**唯一**标准，您会选择 1。一个非常糟糕的选择，这会给您在问题的后期阶段带来很多问题。

设计数据库时应考虑到**规范化**，因此毫无疑问，您必须选择选项 2！

**更新**

规范化和非规范化的示例：假设我们有一张包含 dvd 出租的表，并且想要跟踪谁租用了 dvd：

平桌：

```
CREATE TABLE DVD (
  DvdId INT NOT NULL AUTO_INCREMENT, 
  DvdTitle varchar(64),
  Rental1 varchar(64), 
  Rental2 varchar(64), 
  Rental3 varchar(64),
  Primary Key(DvdId)
); 
```

有3个出租条目的空间，之后就有麻烦了。除此之外，当客户的电话号码需要额外字段时，必须额外填写3个字段。

第一步标准化：

```
CREATE TABLE DVD (
  DvdId INT NOT NULL AUTO_INCREMENT, 
  DvdTitle varchar(64),
  Primary Key(DvdId)
);

CREATE TABLE Rentals (
  RentalId INT NOT NULL AUTO_INCREMENT, 
  DvdId INT NOT NULL, 
  CustomerName varchar(64),
  RentalDate DateTime,
  Primary Key(RentalId)
); 
```

这更好，但仍未完全标准化。如果客户两次租用同一张 DVD 会怎样。然后在出租表中会有一个双重客户条目。

最终的：

```
CREATE TABLE DVD (
  DvdId INT NOT NULL AUTO_INCREMENT, 
  DvdTitle varchar(64),
  Primary Key(DvdId)
);

CREATE TABLE Rentals (
  RentalId INT NOT NULL AUTO_INCREMENT, 
  DvdId INT NOT NULL, 
  CustomerId INT NOT NULL, 
  RentalDate DateTime,
  Primary Key(RentalId)
);

CREATE TABLE Customers (
  CustomerId INT NOT NULL AUTO_INCREMENT, 
  CustomerName varchar(64),
  Primary Key(CustomerId)
); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:43:41.187

更好的选择是正确地设计符合规范化规则的数据库。以下是一些关于它们的快速链接：

[http://databases.about.com/od/specificproducts/a/normalization.htm](http://databases.about.com/od/specificproducts/a/normalization.htm)

[http://moryadesigns.wordpress.com/2009/09/08/rules-of-data-normalization-sql/](http://moryadesigns.wordpress.com/2009/09/08/rules-of-data-normalization-sql/)

**1NF**消除重复组——为每组相关属性制作一个单独的表，并为每个表指定一个主键。

**2NF**消除冗余数据——如果属性仅依赖于多值键的一部分，则将其删除到单独的表中。

**3NF**消除不依赖于键的列——如果属性对键的描述没有贡献，则将它们删除到单独的表中。

**BCNF** Boyce-Codd 范式——如果候选键属性之间存在非平凡的依赖关系，请将它们分开到不同的表中。

**4NF**隔离独立的多重关系——任何表都不能包含两个或多个不直接相关的 1:n 或 n:m 关系。

**5NF**隔离语义相关的多重关系——可能存在对信息的实际约束，证明分离逻辑相关的多对多关系是合理的。

**ONF**最优范式 - 仅限于简单（基本）事实的模型，如对象角色模型表示法所示。

**DKNF** Domain-Key Normal Form – 一个没有任何修改异常的模型。

Yii 使用广泛的延迟加载，并且在您请求并使用它们之前不会加载相关元素。

# amazon-web-services - AWS 为特定安全组授权入口

> ID：12741453
> 
> 赞同：1
> 
> 时间：2012-10-05T07:18:45.253
> 
> 标签：amazon-web-services

我想创建一个能够更改特定安全组（例如`mySecurityGroup`）的用户。用户应该能够打开和关闭安全组上的端口。现在我无法将用户限制在一个安全组中。有什么办法可以遵循仅对以下有效的政策`mySecurityGroup`

```
{
"Statement": [
  {
    "Sid": "Stmt1349420732465",
    "Action": [
      "ec2:AuthorizeSecurityGroupIngress",
      "ec2:RevokeSecurityGroupIngress"
    ],
    "Effect": "Allow",
    "Resource": [
    "*"
    ]
  }
  ]
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T20:33:55.920

不。正如[文档](http://docs.amazonwebservices.com/IAM/latest/UserGuide/Using_SpecificProducts.html)所述， IAM 不支持 EC2 的任何资源。

# iphone - 用户单击文本框时打开日期选择器？

> ID：12741458
> 
> 赞同：0
> 
> 时间：2012-10-05T07:19:01.290
> 
> 标签：iphone, ios5

我有一个`UILabel`，我想要的是当用户点击它时，`UILabel`它`UIDatePicker`就会打开。

知道怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:31:13.903

使用应该用于`UITapGestureRecognizer`创建点击事件`UILabel`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:22:57.393

实现方式很多

*   在具有相同框架的标签上方添加一个按钮并在操作时执行
*   使用手势识别器将触摸事件添加到标签

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:23:26.113

是的，您需要在标签上放置一个具有清晰背景的自定义 UIButton，具有相同的框架大小，然后将按钮与操作连接以打开日期选择器

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:24:53.387

在身份检查器中，尝试将默认类更改为 UIControl 类，这将允许您将 IBActions 添加到标签中。但更好的方法是使用 textField 而不是标签并放置背景图像并将其边框从属性检查器中设置为无。我希望它有帮助，干杯！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T07:26:58.370

这是来自stackoverflow本身的东西。

[堆栈溢出](https://stackoverflow.com/questions/7308754/datepicker-by-clicking-on-textfield)

1.  无需实现响应器。
2.  请记住允许标签上的用户交互。
3.  将点击手势识别器添加到该标签。
4.  单击该操作方法将被调用。
5.  使用上述 URL 中提到的代码设置操作表/视图。

# sql-server - Sql server 存储过程帮助执行以下查询

> ID：12741459
> 
> 赞同：0
> 
> 时间：2012-10-05T07:19:12.803
> 
> 标签：sql-server, stored-procedures

```
create table testjob  
(  
jobid int,  
jobname varchar(100),  
time float,  
name varchar(50),  
Date varchar(100),  
comments varchar(500)  
)

insert into testjob values ( 1001,'java work',4.5,'arjun','9/26/2012  12:00:00 AM','Sample test comments 1')
insert into testjob values ( 1005,'sql work',10,'arjun','9/28/2012  12:00:00 AM','Sample test comments 2')
insert into testjob values ( 1010,'.net work',7.5,'arjun','8/13/2012  12:00:00 AM','Sample test comments 3')
insert into testjob values ( 1040,'java work',5.5,'ravi','9/14/2012  12:00:00 AM','Sample test comments 1')
insert into testjob values ( 1023,'php work',2.5,'arjun','9/5/2012  12:00:00 AM','Sample test comments 4')
insert into testjob values ( 1027,'.net work',3.5,'ravi','8/24/2012  12:00:00 AM','Sample test comments 2') 
```

我想要一个不使用游标的过程，以便我的输出如下：（如果可能，我希望使用 with 运算符进行查询）

```
Name:Arjun(24.5 Hrs spent)

jobname          Time            Date                Comments  
java work     4.5     9/26/2012  12:00:00 AM   Sample test comments 1   
sql work      10      9/28/2012  12:00:00 AM   Sample test comments 2  
.net work     7.5     8/13/2012  12:00:00 AM   Sample test comments 3  
php  work     2.5     9/5/2012  12:00:00 AM    Sample test comments 4

Name:Ravi(9 Hrs spent)

jobname       time           Date             Comments  
java work     5.5     9/14/2012  12:00:00 AM   Sample test comments 1  
.net work     3.5     8/24/2012  12:00:00 AM   Sample test comments 2 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:25:26.510

看看这个[SQL Fiddle](http://sqlfiddle.com/#!3/bc87a/1/0)

您的查询无需使用 WITH。

```
select name,case when jobname is null
                 then cast(sum(time) as varchar(12)) + ' hrs spent'
                 else jobname end jobname,time,date,comments
from testjob
group by grouping sets ((name),(name,jobname,time,date,comments))
order by name,comments 
```

您实际上并不需要分组集，我将其包含在内只是为了向您展示如何使用查询工具中的汇总标题查看它。如果您将此数据带到 Visual Studio 等前端工具，您应该控制那里的分组并简单地以排序方式返回数据，例如

```
select name,jobname,time,date,comments
from testjob
order by name,comments
You keep a running total of time until the name changes. 
```

仅供参考，您确实应该选择更好的排序顺序，例如“日期”而不是“评论”，但这是我发现的唯一可以准确给出您显示的结果的顺序。

# javascript - 填充输入时显示或隐藏一些 div。如果两个输入具有相同的值，则显示警报，并删除最后一个输入

> ID：12741460
> 
> 赞同：0
> 
> 时间：2012-10-05T07:19:17.770
> 
> 标签：javascript, html, getelementbyid

我正在尝试根据输入中填充的文本来显示或隐藏一些 div。

所以实际上我已经完成了这个功能：

```
<script type="text/javascript">
function checkdiv()
    {
    var position1= document.getElementById("position1").value;
        if(position1==1)
        {
         document.getElementById("a1").style.visibility = "hidden"                        
        }
        else
        {
         document.getElementById("a1").style.visibility= "visible"                        
        }
        if(position1=="2")
        {
         document.getElementById("a2").style.visibility = "hidden"                        
        }
        if(position1!="2")
        {
         document.getElementById("a2").style.visibility= "visible"                        
        }
        if(position1=="3")
        {
         document.getElementById("a3").style.visibility = "hidden"                        
        }
        if(position1!="3")
        {
         document.getElementById("a3").style.visibility= "visible"                        
        }
         if(position1=="4")
        {
         document.getElementById("a4").style.visibility = "hidden"                        
        }
        if(position1!="4")
        {
         document.getElementById("a4").style.visibility= "visible"                        
        }  
         if(position1=="5")
        {
         document.getElementById("a5").style.visibility = "hidden"                        
        }
        if(position1!="5")
        {
         document.getElementById("a5").style.visibility= "visible"                        
        }
        if(position1=="6")
        {
         document.getElementById("a6").style.visibility = "hidden"                        
        }
        if(position1!="6")
        {
         document.getElementById("a6").style.visibility= "visible"                        
        }
         if(position1=="7")
        {
         document.getElementById("a7").style.visibility = "hidden"                        
        }
        if(position1!="7")
        {
         document.getElementById("a7").style.visibility= "visible"                        
        }
         if(position1=="8")
        {
         document.getElementById("a8").style.visibility = "hidden"                        
        }
        if(position1!="8")
        {
         document.getElementById("a8").style.visibility= "visible"                        
        }          
        if(position1=="9")
        {
         document.getElementById("a9").style.visibility = "hidden"                        
        }
        if(position1!="9")
        {
         document.getElementById("a9").style.visibility= "visible"                        
        }
         if(position1=="10")
        {
         document.getElementById("a10").style.visibility = "hidden"                        
        }
        if(position1!="10")
        {
         document.getElementById("a10").style.visibility= "visible"                        
        }          
        if(position1=="11")
        {
         document.getElementById("a11").style.visibility = "hidden"                        
        }
        if(position1!="11")
        {
         document.getElementById("a11").style.visibility= "visible"                        
        }   
        if(position1=="12")
        {
         document.getElementById("a12").style.visibility = "hidden"                        
        }
        if(position1!="12")
        {
         document.getElementById("a12").style.visibility= "visible"                        
        } 

    }
       checkdiv();  
  </script> 
```

所有这一切都与下表的列Ordre：

```
<form action="#" method="post">
<table width='100%' id='boxa' align='center' ><thead><tr><th scope='col' width='3%'><strong>CODE CLIENT</strong></th><th scope='col' width='10%'><strong>TITRE</strong></th><th scope='col' width='15%'><strong>POSTE</strong></th><th scope='col' width='3%'><strong>ORDRE</strong></th><th scope='col' width='25%'><strong>DESCRIPTION</strong></th><th scope='col' width='10%'><strong>VU CLIENT</strong></th><th scope='col' width='10%'><strong>VU TIERS</strong></th></tr></thead><tbody> <tr>

        <td>
        <input name="data[1][code_client]" type="text"  id="code_client1" size="5"  onkeyup="clientventilation()" /></td>
        <td><input name="data[1][libelle]" type="text" size="10" id="libelle1" onkeyup="titreventilation()"  /></td>
        <td><input name="data[1][poste]" type="text" value="Principal" size="30" /></td>
        <td><input name="data[1][ordre]" id="position1" type="text" size="2"  onblur="checkdiv()" /></td>
        <td><input name="data[1][description]" type="text" value="Montant de la dette" size="40" /></td><td><select name="data[1][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[1][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[2][code_client]" type="text" size="5" id="code_client2"  /></td>
        <td><input name="data[2][libelle]" type="text" size="10" id="libelle2"   /></td>
        <td><input name="data[2][poste]" type="text" value="Int&eacute;r&ecirc;ts" size="30" /></td>
        <td><input name="data[2][ordre]" type="text" size="2" id="position2" onblur="checkdiv()" /></td>
        <td><input name="data[2][description]" type="text" value="Int&eacute;r&ecirc;ts (sur soldes des factures d&ucirc;es)" size="40" /></td><td><select name="data[2][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[2][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>

        <tr>

        <td><input name="data[3][code_client]" type="text" size="5" id="code_client3"  /></td>
        <td><input name="data[3][libelle]" type="text" size="10" id="libelle3"  /></td>
        <td><input name="data[3][poste]" type="text" value="Clause p&eacute;nale" size="30" /></td>
        <td><input name="data[3][ordre]" type="text" size="2" id="position3" onblur="checkdiv()" /></td>
        <td><input name="data[3][description]" type="text" value="Clause p&eacute;nale contractuelle" size="40" /></td><td><select name="data[3][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[3][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[4][code_client]" type="text" size="5" id="code_client4"  /></td>
        <td><input name="data[4][libelle]" type="text" size="10" id="libelle4"  /></td>
        <td><input name="data[4][poste]" type="text" value="Dommages et Int&eacute;r&ecirc;ts" size="30" /></td>
        <td><input name="data[4][ordre]" type="text" size="2" id="position4" onblur="checkdiv()" /></td>
        <td><input name="data[4][description]" type="text" value="Montant des Dommages et Int&eacute;r&ecirc;ts" size="40" /></td><td><select name="data[4][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[4][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[5][code_client]" type="text" size="5" id="code_client5"  /></td>
        <td><input name="data[5][libelle]" type="text" size="10" id="libelle5"  /></td>
        <td><input name="data[5][poste]" type="text" value="Article 700 du CPC" size="30" /></td>
        <td><input name="data[5][ordre]" type="text" size="2" id="position5" onblur="checkdiv()" /></td>
        <td><input name="data[5][description]" type="text" value="Montant correspondant &agrave; la condamnation" size="40" /></td><td><select name="data[5][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[5][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[6][code_client]" type="text" size="5" id="code_client6"  /></td>
        <td><input name="data[6][libelle]" type="text" size="10" id="libelle6"  /></td>
        <td><input name="data[6][poste]" type="text" value="Frais AR" size="30" /></td>
        <td><input name="data[6][ordre]" type="text" size="2" id="position6" onblur="checkdiv()" /></td>
        <td><input name="data[6][description]" type="text" value="Montant des frais d'accus&eacute;s r&eacute;ception et de courriers" size="40" /></td><td><select name="data[6][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[6][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[7][code_client]" type="text" size="5" id="code_client7"  /></td>
        <td><input name="data[7][libelle]" type="text" size="10" id="libelle7"  /></td>
        <td><input name="data[7][poste]" type="text" value="Art. 441-6 CC" size="30" /></td>
        <td><input name="data[7][ordre]" type="text" size="2" id="position7" onblur="checkdiv()" /></td>
        <td><input name="data[7][description]" type="text" value="Article 441-6 du code du commerce" size="40" /></td><td><select name="data[7][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[7][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[8][code_client]" type="text" size="5" id="code_client8"  /></td>
        <td><input name="data[8][libelle]" type="text" size="10" id="libelle8"  /></td>
        <td><input name="data[8][poste]" type="text" value="Frais et Agios" size="30" /></td>
        <td><input name="data[8][ordre]" type="text" size="2" id="position8" onblur="checkdiv()" /></td>
        <td><input name="data[8][description]" type="text" value="Montant des frais &amp; agios bancaires" size="40" /></td><td><select name="data[8][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[8][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[9][code_client]" type="text" size="5" id="code_client9"  /></td>
        <td><input name="data[9][libelle]" type="text" size="10" id="libelle9"  /></td>
        <td><input name="data[9][poste]" type="text" value="D&eacute;pens" size="30" /></td>
        <td><input name="data[9][ordre]" type="text" size="2" id="position9" onblur="checkdiv()" /></td>
        <td><input name="data[9][description]" type="text" value="Total calcul&eacute;" size="40" /></td><td><select name="data[9][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[9][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>

        <tr>

        <td><input name="data[10][code_client]" type="text" size="5" id="code_client10"  /></td>
        <td><input name="data[10][libelle]" type="text" size="10" id="libelle10"  /></td>
        <td><input name="data[10][poste]" type="text" value="Article 475-1-CPP" size="30" /></td>
        <td><input name="data[10][ordre]" type="text" size="2" id="position10" onblur="checkdiv()" /></td>
        <td><input name="data[10][description]" type="text" value="Article 475-1 Du code de Proc&eacute;dure p&eacute;nale" size="40" /></td><td><select name="data[10][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[10][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[11][code_client]" type="text" size="5" id="code_client11"  /></td>
        <td><input name="data[11][libelle]" type="text" size="10" id="libelle11"  /></td>
        <td><input name="data[11][poste]" type="text" value="Frais d'ex&eacute;cution" size="30" /></td>
        <td><input name="data[11][ordre]" type="text" size="2" id="position11" onblur="checkdiv()" /></td>
        <td><input name="data[11][description]" type="text" value="Montant des frais d'ex&eacute;cution" size="40" /></td><td><select name="data[11][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[11][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>

        <tr>
                <td><input name="data[12][code_client]" type="text" size="5" id="code_client12"  /></td>
        <td><input name="data[12][libelle]" type="text" size="10" id="libelle12"  /></td>
        <td><input name="data[12][poste]" type="text" value="Contribution &agrave; l'aide juridiqu" size="30" /></td>
        <td><input name="data[12][ordre]" type="text" size="2" id="position12" onblur="checkdiv()" /></td>
        <td><input name="data[12][description]" type="text" value="Contribution Ã  l'aide juridique" size="40" /></td><td><select name="data[12][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[12][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[13][code_client]" type="text" size="5" id="code_client13"  /></td>
        <td><input name="data[13][libelle]" type="text" size="10" id="libelle13"  /></td>
        <td><input name="data[13][poste]" type="text" value="Frais de greffe" size="30" /></td>
        <td><input name="data[13][ordre]" type="text" size="2" id="position13" onblur="checkdiv()" /></td>
        <td><input name="data[13][description]" type="text" value="Montant des frais de greffe" size="40" /></td><td><select name="data[13][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[13][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
   </tbody>
</table> 
```

但是当我尝试使函数工作时，它告诉我无法读取 null 的属性样式。如果将数字放入“ordre”列的输入中，我只想隐藏带有数字的橙色框。如果有人在另一个框中写了两倍相同的数字，只是为了显示警报。我真的输了，因为这个开始不起作用。

任何建议或帮助将不胜感激

这是jsfiddle。[http://jsfiddle.net/uXcQh/](http://jsfiddle.net/uXcQh/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:34:00.837

如果您在 head 标签中包含 JavaScript，这可能是原因，因为调用函数时 DOM 未完全加载。

```
<html>
   <head>
       <script></script>
   </head>
   <body>
   </body>
</html> 
```

我的建议是改为这样做。

```
<html>
   <head>
   </head>
   <body>
       All your html goes here.
       FINALLY.
       <script></script>
   </body>
</html> 
```

这是对我有用的代码

```
<html>
<body>
<form action="#" method="post">
<table width='100%' id='boxa' align='center' ><thead><tr><th scope='col' width='3%'><strong>CODE CLIENT</strong></th><th scope='col' width='10%'><strong>TITRE</strong></th><th scope='col' width='15%'><strong>POSTE</strong></th><th scope='col' width='3%'><strong>ORDRE</strong></th><th scope='col' width='25%'><strong>DESCRIPTION</strong></th><th scope='col' width='10%'><strong>VU CLIENT</strong></th><th scope='col' width='10%'><strong>VU TIERS</strong></th></tr></thead><tbody>    <tr>

        <td>
        <input name="data[1][code_client]" type="text"  id="code_client1" size="5"  onkeyup="clientventilation()" /></td>
        <td><input name="data[1][libelle]" type="text" size="10" id="libelle1" onkeyup="titreventilation()"  /></td>
        <td><input name="data[1][poste]" type="text" value="Principal" size="30" /></td>
        <td><input name="data[1][ordre]" id="position1" type="text" size="2"  onblur="checkdiv()" /></td>
        <td><input name="data[1][description]" type="text" value="Montant de la dette" size="40" /></td><td><select name="data[1][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[1][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[2][code_client]" type="text" size="5" id="code_client2"  /></td>
        <td><input name="data[2][libelle]" type="text" size="10" id="libelle2"   /></td>
        <td><input name="data[2][poste]" type="text" value="Int&eacute;r&ecirc;ts" size="30" /></td>
        <td><input name="data[2][ordre]" type="text" size="2" id="position2" onblur="checkdiv()" /></td>
        <td><input name="data[2][description]" type="text" value="Int&eacute;r&ecirc;ts (sur soldes des factures d&ucirc;es)" size="40" /></td><td><select name="data[2][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[2][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>

        <tr>

        <td><input name="data[3][code_client]" type="text" size="5" id="code_client3"  /></td>
        <td><input name="data[3][libelle]" type="text" size="10" id="libelle3"  /></td>
        <td><input name="data[3][poste]" type="text" value="Clause p&eacute;nale" size="30" /></td>
        <td><input name="data[3][ordre]" type="text" size="2" id="position3" onblur="checkdiv()" /></td>
        <td><input name="data[3][description]" type="text" value="Clause p&eacute;nale contractuelle" size="40" /></td><td><select name="data[3][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[3][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[4][code_client]" type="text" size="5" id="code_client4"  /></td>
        <td><input name="data[4][libelle]" type="text" size="10" id="libelle4"  /></td>
        <td><input name="data[4][poste]" type="text" value="Dommages et Int&eacute;r&ecirc;ts" size="30" /></td>
        <td><input name="data[4][ordre]" type="text" size="2" id="position4" onblur="checkdiv()" /></td>
        <td><input name="data[4][description]" type="text" value="Montant des Dommages et Int&eacute;r&ecirc;ts" size="40" /></td><td><select name="data[4][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[4][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[5][code_client]" type="text" size="5" id="code_client5"  /></td>
        <td><input name="data[5][libelle]" type="text" size="10" id="libelle5"  /></td>
        <td><input name="data[5][poste]" type="text" value="Article 700 du CPC" size="30" /></td>
        <td><input name="data[5][ordre]" type="text" size="2" id="position5" onblur="checkdiv()" /></td>
        <td><input name="data[5][description]" type="text" value="Montant correspondant &agrave; la condamnation" size="40" /></td><td><select name="data[5][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[5][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[6][code_client]" type="text" size="5" id="code_client6"  /></td>
        <td><input name="data[6][libelle]" type="text" size="10" id="libelle6"  /></td>
        <td><input name="data[6][poste]" type="text" value="Frais AR" size="30" /></td>
        <td><input name="data[6][ordre]" type="text" size="2" id="position6" onblur="checkdiv()" /></td>
        <td><input name="data[6][description]" type="text" value="Montant des frais d'accus&eacute;s r&eacute;ception et de courriers" size="40" /></td><td><select name="data[6][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[6][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[7][code_client]" type="text" size="5" id="code_client7"  /></td>
        <td><input name="data[7][libelle]" type="text" size="10" id="libelle7"  /></td>
        <td><input name="data[7][poste]" type="text" value="Art. 441-6 CC" size="30" /></td>
        <td><input name="data[7][ordre]" type="text" size="2" id="position7" onblur="checkdiv()" /></td>
        <td><input name="data[7][description]" type="text" value="Article 441-6 du code du commerce" size="40" /></td><td><select name="data[7][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[7][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[8][code_client]" type="text" size="5" id="code_client8"  /></td>
        <td><input name="data[8][libelle]" type="text" size="10" id="libelle8"  /></td>
        <td><input name="data[8][poste]" type="text" value="Frais et Agios" size="30" /></td>
        <td><input name="data[8][ordre]" type="text" size="2" id="position8" onblur="checkdiv()" /></td>
        <td><input name="data[8][description]" type="text" value="Montant des frais &amp; agios bancaires" size="40" /></td><td><select name="data[8][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[8][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[9][code_client]" type="text" size="5" id="code_client9"  /></td>
        <td><input name="data[9][libelle]" type="text" size="10" id="libelle9"  /></td>
        <td><input name="data[9][poste]" type="text" value="D&eacute;pens" size="30" /></td>
        <td><input name="data[9][ordre]" type="text" size="2" id="position9" onblur="checkdiv()" /></td>
        <td><input name="data[9][description]" type="text" value="Total calcul&eacute;" size="40" /></td><td><select name="data[9][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[9][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>

        <tr>

        <td><input name="data[10][code_client]" type="text" size="5" id="code_client10"  /></td>
        <td><input name="data[10][libelle]" type="text" size="10" id="libelle10"  /></td>
        <td><input name="data[10][poste]" type="text" value="Article 475-1-CPP" size="30" /></td>
        <td><input name="data[10][ordre]" type="text" size="2" id="position10" onblur="checkdiv()" /></td>
        <td><input name="data[10][description]" type="text" value="Article 475-1 Du code de Proc&eacute;dure p&eacute;nale" size="40" /></td><td><select name="data[10][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[10][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[11][code_client]" type="text" size="5" id="code_client11"  /></td>
        <td><input name="data[11][libelle]" type="text" size="10" id="libelle11"  /></td>
        <td><input name="data[11][poste]" type="text" value="Frais d'ex&eacute;cution" size="30" /></td>
        <td><input name="data[11][ordre]" type="text" size="2" id="position11" onblur="checkdiv()" /></td>
        <td><input name="data[11][description]" type="text" value="Montant des frais d'ex&eacute;cution" size="40" /></td><td><select name="data[11][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[11][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>

        <tr>
                <td><input name="data[12][code_client]" type="text" size="5" id="code_client12"  /></td>
        <td><input name="data[12][libelle]" type="text" size="10" id="libelle12"  /></td>
        <td><input name="data[12][poste]" type="text" value="Contribution &agrave; l'aide juridiqu" size="30" /></td>
        <td><input name="data[12][ordre]" type="text" size="2" id="position12" onblur="checkdiv()" /></td>
        <td><input name="data[12][description]" type="text" value="Contribution Ã  l'aide juridique" size="40" /></td><td><select name="data[12][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[12][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
        <tr>

        <td><input name="data[13][code_client]" type="text" size="5" id="code_client13"  /></td>
        <td><input name="data[13][libelle]" type="text" size="10" id="libelle13"  /></td>
        <td><input name="data[13][poste]" type="text" value="Frais de greffe" size="30" /></td>
        <td><input name="data[13][ordre]" type="text" size="2" id="position13" onblur="checkdiv()" /></td>
        <td><input name="data[13][description]" type="text" value="Montant des frais de greffe" size="40" /></td><td><select name="data[13][vu_client]" ><option value="oui">oui</option><option value="non">non</option></select></td><td><select name="data[13][vu_tiers]" ><option value="oui">oui</option><option value="non">non</option></select></td>
        </tr>
   </tbody>
</table>
    <table width="100%" border="0" cellspacing="5" cellpadding="5">
  <tbody><tr>
    <th scope="col"><div id="a1" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: visible; "><font color="coral" size="+3"><strong>1</strong></font></div></th>
    <th scope="col"><div id="a2" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: visible; "><font color="coral" size="+3"><strong>2</strong></font></div></th>
    <th scope="col"><div id="a3" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: visible; "><font color="coral" size="+3"><strong>3</strong></font></div></th>
    <th scope="col"><div id="a4" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: visible; "><font color="coral" size="+3"><strong>4</strong></font></div></th>
    <th scope="col"><div id="a5" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: visible; "><font color="coral" size="+3"><strong>5</strong></font></div></th>
    <th scope="col"><div id="a6" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: visible; "><font color="coral" size="+3"><strong>6</strong></font></div></th>
    <th scope="col"><div id="a7" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: visible; "><font color="coral" size="+3"><strong>7</strong></font></div></th>
    <th scope="col"><div id="a8" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: visible; "><font color="coral" size="+3"><strong>8</strong></font></div></th>
    <th scope="col"><div id="a9" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: visible; "><font color="coral" size="+3"><strong>9</strong></font></div></th>
    <th scope="col"><div id="a10" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: visible; "><font color="coral" size="+3"><strong>10</strong></font></div></th>
    <th scope="col"><div id="a11" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: visible; "><font color="coral" size="+3"><strong>11</strong></font></div></th>
    <th scope="col"><div id="a12" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: visible; "><font color="coral" size="+3"><strong>12</strong></font></div></th>
    <th scope="col"><div id="a13" style="width: 35px; height: 35px; border: 5px solid rgb(255, 127, 80); text-align: center; visibility: hidden; "><font color="coral" size="+3"><strong>13</strong></font></div></th>
  </tr>
</tbody></table>
?
<script type="text/javascript">
function checkdiv()
{
    var position1= document.getElementById("position1").value;
    if(position1== 1 )
    {
    alert(document.getElementById("a1"));
        document.getElementById("a1").style.visibility = "hidden"                        
    }
    else
    {
     document.getElementById("a1").style.visibility= "visible"                        
    }
    if(position1=="2")
    {
     document.getElementById("a2").style.visibility = "hidden"                        
    }
    if(position1!="2")
    {
     document.getElementById("a2").style.visibility= "visible"                        
    }
    if(position1=="3")
    {
     document.getElementById("a3").style.visibility = "hidden"                        
    }
    if(position1!="3")
    {
     document.getElementById("a3").style.visibility= "visible"                        
    }
     if(position1=="4")
    {
     document.getElementById("a4").style.visibility = "hidden"                        
    }
    if(position1!="4")
    {
     document.getElementById("a4").style.visibility= "visible"                        
    }  
     if(position1=="5")
    {
     document.getElementById("a5").style.visibility = "hidden"                        
    }
    if(position1!="5")
    {
     document.getElementById("a5").style.visibility= "visible"                        
    }
    if(position1=="6")
    {
     document.getElementById("a6").style.visibility = "hidden"                        
    }
    if(position1!="6")
    {
     document.getElementById("a6").style.visibility= "visible"                        
    }
     if(position1=="7")
    {
     document.getElementById("a7").style.visibility = "hidden"                        
    }
    if(position1!="7")
    {
     document.getElementById("a7").style.visibility= "visible"                        
    }
     if(position1=="8")
    {
     document.getElementById("a8").style.visibility = "hidden"                        
    }
    if(position1!="8")
    {
     document.getElementById("a8").style.visibility= "visible"                        
    }          
    if(position1=="9")
    {
     document.getElementById("a9").style.visibility = "hidden"                        
    }
    if(position1!="9")
    {
     document.getElementById("a9").style.visibility= "visible"                        
    }
     if(position1=="10")
    {
     document.getElementById("a10").style.visibility = "hidden"                        
    }
    if(position1!="10")
    {
     document.getElementById("a10").style.visibility= "visible"                        
    }          
    if(position1=="11")
    {
     document.getElementById("a11").style.visibility = "hidden"                        
    }
    if(position1!="11")
    {
     document.getElementById("a11").style.visibility= "visible"                        
    }   
    if(position1=="12")
    {
     document.getElementById("a12").style.visibility = "hidden"                        
    }
    if(position1!="12")
    {
     document.getElementById("a12").style.visibility= "visible"                        
    }
}  
  </script>

  </body>
  </html> 
```

# java - 没有 Java EE 容器 1.6 和 1.7 的 JAX-WS Web 服务

> ID：12741461
> 
> 赞同：1
> 
> 时间：2012-10-05T07:19:25.413
> 
> 标签：java, jax-ws, com.sun.net.httpserver

我在 java 1.7 中尝试了本[教程](http://www.youtube.com/watch?feature=player_embedded&v=lr7FO3rr8jg "http://today.java.net/article/2007/06/29/jax-ws-web-services-without-java-ee-containers")，但如果我选择 java 1.6，我得到了这个异常：

```
Exception in thread "main" com.sun.xml.internal.ws.model.RuntimeModelerException: runtime modeler error: Wrapper class com.company.jaxws.stockquote.service.jaxws.GetQuote is not found. Have you run APT to generate them?
at com.sun.xml.internal.ws.model.RuntimeModeler.getClass(RuntimeModeler.java:256)
at com.sun.xml.internal.ws.model.RuntimeModeler.processDocWrappedMethod(RuntimeModeler.java:567)
at com.sun.xml.internal.ws.model.RuntimeModeler.processMethod(RuntimeModeler.java:514)
at com.sun.xml.internal.ws.model.RuntimeModeler.processClass(RuntimeModeler.java:341)
at com.sun.xml.internal.ws.model.RuntimeModeler.buildRuntimeModel(RuntimeModeler.java:227)
at com.sun.xml.internal.ws.server.EndpointFactory.createSEIModel(EndpointFactory.java:308)
at com.sun.xml.internal.ws.server.EndpointFactory.createEndpoint(EndpointFactory.java:174)
at com.sun.xml.internal.ws.api.server.WSEndpoint.create(WSEndpoint.java:420)
at com.sun.xml.internal.ws.api.server.WSEndpoint.create(WSEndpoint.java:439)
at com.sun.xml.internal.ws.transport.http.server.EndpointImpl.createEndpoint(EndpointImpl.java:208)
at com.sun.xml.internal.ws.transport.http.server.EndpointImpl.publish(EndpointImpl.java:138)
at com.company.jaxws.stockquote.service.StockQuoteService.publish(StockQuoteService.java:49)
at com.company.jaxws.stockquote.service.StockQuoteService.main(StockQuoteService.java:81)
Java Result: 1 
```

来源[在这里](http://today.java.net/today/2007/07/03/ws_endpoint.zip "http://today.java.net/today/2007/07/03/ws_endpoint.zip")

欢迎所有建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:56:10.803

```
Try to add  @SOAPBinding to your server endpoint implementation class.it may resolve the problem.

@WebService(name = "StockQuote", serviceName = "StockQuoteService")
@SOAPBinding(style = Style.DOCUMENT, use=Use.LITERAL)
public class StockQuoteImpl {
    @WebMethod(operationName = "getQuote")
    public double getQuote(String ticker) {
        double result = 0.0;
        if (ticker.equals("MHP")) {
            result = 50.0;
        } else if (ticker.equals("IBM")) {
            result = 83.0;
        }
        return result;
    }
} 
```

# xml - 使用 XPath 遍历 XML

> ID：12741463
> 
> 赞同：0
> 
> 时间：2012-10-05T07:19:41.437
> 
> 标签：xml, xpath

我有以下 XML：

```
<Item type="Workflow Process">
    <id>72F2AEEE86644D16ADE4B8FCEF68638A</id>
    <keyed_name>PR-100001</keyed_name>
    <Relationships>
        <Item type="Workflow Process Activity">
            <id>818175D7A6204275B9EAC45517FFC0DE</id>
            <related_id>
                <Item type="Activity">
                    <id>E0B712EB12914FBD8B5AEDCBDB3F313F</id>
                    <keyed_name>Start</keyed_name>
                </Item>
            </related_id>
        </Item>
    </Relationships>
</Item> 
```

**注意：**上面的 XML 结构在我的 XML 文件中重复使用不同的值`<id>`和`<keyed_name>`

我有`<id>`，`<Item type="Activity">`我想知道它所属`<id>`的父节点。`<Item type="Workflow Process">``Activity`

什么将是 XPath 来实现它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:48:39.180

如果您已经有对内部的引用`Activity`并且可以评估一个将其作为上下文节点的 XPath，那么

```
ancestor::Item[@type = 'Workflow Process']/id 
```

如果您只有 id 并且从树的顶部开始，那么只要所有 id 在文档中都是全局唯一的，我能想到的最简单的是

```
//Item[@type = 'Workflow Process'][.//id = 'id you want']/id 
```

在不知道上下文的情况下，我无法更具体 - 这是在 XSLT 中还是您使用的是某种 DOM 库（哪个？）。

# eclipse - 通过 USB 将数据从 PC 发送到 Android

> ID：12741466
> 
> 赞同：3
> 
> 时间：2012-10-05T07:19:57.947
> 
> 标签：eclipse, android-intent, arduino, serversocket, libusb

为了将 Arduino 与 Android 手机连接，将数据从笔记本电脑发送到 USB 附件不兼容的 Android 供电设备的最佳选择是什么？

套接字编程是否是通过 ADB 发送数据以通过 Arduino 向 Android 发送动态传感器输入的最佳选择？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T14:43:51.663

看看[AirDroid](http://www.airdroid.com/)。Android 设备成为服务器，允许您通过本地 Wi-Fi 访问文件和应用程序，包括流媒体等。不确定您是否可以使其与任意数据一起使用，但可能值得一试。

# php - 使用 ISAPI_rewrite3 Lite 在 Plesk 上重写 URL

> ID：12741467
> 
> 赞同：0
> 
> 时间：2012-10-05T07:19:59.297
> 
> 标签：php, .htaccess, iis, url-rewriting, plesk

我正在为我的电子商务网站使用基于 Plesk Windows 的 Web 服务器和带有 IIS-6 的 Windows 2008 服务器操作系统。

我想重写所有动态页面的 URL，所以我在我的网络服务器上安装了 ISAPI_Rewrite 3 Lite，我还上传了`.htaccess`具有以下基本规则的文件

```
RewriteEngine on
RewriteRule ^contact\.html$ contactus.php? [NC,R] 
```

我以前从未使用过 ISAPI，也没有在 URL 重写方面工作过。

我的疑问是

1.  安装后我应该如何进行
2.  我应该上传`.htaccess`还是
3.  `httpd.conf`文件或这个软件有 ISAPI_Rewrite 管理器，可以编辑`httpd.conf`，我是否应该为此编写规则。

无论如何，我已经尝试了所有这些步骤，但不幸的是我找不到任何补救措施。任何直接的解决方案都将是可观的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-07T21:32:54.523

您使用 ISAPI_Rewrite 管理器加载 .htaccess 或 httpd.cong 文件。就是这样。您的 PLESK 可能存在 ISAPI_Rewrite 的权限问题。您需要做的就是从 NTFS 权限中删除 PLESK 管理员用户对 ISAPI_Rewrite 文件夹和位于网站根目录中的 .htaccess 文件的权限。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:51:39.843

问题可能是您使用的是“精简版”版本。[它的限制](http://www.helicontech.com/isapi_rewrite/doc/Litever.htm)之一是

> 不支持分布式 .htaccess 配置、目录和网站级别的配置。从 Lite 版本安装文件夹中只会加载一个全局 httpd.conf 配置文件。

所以你可能需要使用 httpd.conf 。

# java - 我怎样才能在 Java 中实现这一点？

> ID：12741469
> 
> 赞同：3
> 
> 时间：2012-10-05T07:20:06.187
> 
> 标签：java, text, paint, java-canvas

我试图在 Java 中获取字符串中像素的 XY 坐标，但我不知道如何。

我会尝试更清楚地解释。

假设我想做这样的事情：

```
paint.setTextSize(40);
canvas.drawText("hello", 100, 100, paint); 
```

但不是实际绘制该文本，我想要一个与该文本中的所有像素相对应的坐标列表，它可以相对于文本或画布的开头，没关系。

这是可能吗？用谷歌找不到任何关于它的东西。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T07:29:13.907

我怀疑是否即使不付出很大的努力也是可能的。

一方面，这取决于您使用的字体。

我能想象的唯一方法是在 BufferedImage 内部绘制文本，然后检查每个像素的颜色。

比如说，将它绘制在带有黑色文本颜色的白色背景上。

伪代码：

```
for each pixel row{
    for each pixel column{
        if(pixel.getColor() == (new Color()).black)
           save coordinates
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:30:24.123

我认为这应该回答你的问题： [根据文本区域的宽度计算文本大小](https://stackoverflow.com/questions/4794484/calculate-text-size-according-to-width-of-text-area)

您可以确定文本大小，但单个像素取决于字体和重量等参数。

如果您需要单个字符的边界，您可以使用子字符串

# jquery - 使用 jquery 禁用多框

> ID：12741475
> 
> 赞同：0
> 
> 时间：2012-10-05T07:20:45.267
> 
> 标签：jquery, multibox

我在jsp页面中有一个multibox。我想创建一个jquery函数，如果选择了3个以上的事务，那么其余的复选框（从multibox呈现）将被禁用。我已经编写了愚蠢的代码。当我在复选框（输入类型复选框）中对其进行了测试，它有效，但不适用于多框

```
<html:multibox property="selectedTxns" styleClass="txnList" >
                                            <bean:write name="Id" property="businessTypeVOId"/>
                                        </html:multibox> 
```

jquery函数-->

```
<script>
function countChecked() {
var n = $(".txnList:checked").length;

          if (n<3) {     $(".txnList:checkbox").removeAttr("disabled"); 
                                                    $("#msg").text(""); 
                                       }
                                     else {     $(".txnList:checkbox:not(:checked)").attr("disabled", true);
                                                $("#msg").text("can not choose more than 3 transactions");
                                     }
                                  }

                                  $(".txnList:checkbox").click(countChecked);
                                </script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T05:16:17.727

我测试了你的逻辑（[jsFiddle](http://jsfiddle.net/cUJwf/1/)）并且它正在工作。

我不知道多框是如何呈现的，但`.txnList`容器是否包含复选框？

如果是这样，您需要在容器和复选框选择器之间放置一个空格，如下所示：

`.txnList :checkbox`和`.txnList :checked`

这将选择容器然后复选框。

希望有帮助。

# c# - 需要在没有内部邮件 ID 的情况下将邮件发送到外部邮件 ID

> ID：12741476
> 
> 赞同：0
> 
> 时间：2012-10-05T07:20:55.553
> 
> 标签：c#, email

我面临着非常混乱的问题。

在我的网站上，所有用户都有自己的邮箱，他们在登录时可以看到。

我还没有分配任何 ID，例如 123@gmail.com 或其他任何东西。

他们只能通过他们的名字互相发送邮件。

当他们向不同的用户发送邮件时，它在 personid 的帮助下被保存为数据库中的一个数据行。

现在我希望如果用户向另一个用户发送邮件，它还应该自动向接收者的外部邮件 ID 发送通知邮件。

我找到了相关的代码

```
MailMessage mail = new MailMessage();
                    mail.To.Add("hiral@yahoo.com");
                    mail.From = new MailAddress("hiral@gmail.com");
                    mail.Subject = "Send Email by asp.net code using google or gmail smtp server";
                    string Body = "Hi, I am testing Email function in asp.net";
                    mail.Body = Body;

                    SmtpClient smtp = new SmtpClient("localhost", 25);
                    smtp.Host = "smtp.gmail.com"; //Or Your SMTP Server Address  
                    smtp.Credentials = new System.Net.NetworkCredential
                         ("hiral@gmail.com", "xxxxxxxxxxxxxx");
                    //Or your Smtp Email ID and Password  
                    smtp.DeliveryMethod = SmtpDeliveryMethod.Network;
                    smtp.EnableSsl = true;
                    smtp.Send(mail);
                    lblsuccess.Visible = true; 
```

它现在对我来说非常有用..

现在我需要更改发送字段

```
mail.From = new MailAddress("hiral@gmail.com"); 
```

因为它可以是没有任何电子邮件 ID 的任何用户。

我能为此做些什么..？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:27:39.960

我会让用户在注册时存储个人电子邮件地址。

然后，您可以稍后在希望通知他们时使用该电子邮件地址。

然后，您可以根据存储在表中的行中的 personid 检索此电子邮件地址。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:42:19.470

通过 personid 从数据库中检索人员/发件人信息，然后将其放在变量列表中。

```
private class senderInformation{

 private string lastname;
 private string firstname;
 private string email;

}

senderInformation person = new senderInformation();

person.lastname = "Smith";
person.firstname = "John";
person.email= "john@gmail.com";

mail.From = new MailAddress(person.email.toString()); 
```

# android - 想要从 DB 中获取 ID 列表（ID 不是 SQLite DB 中自动分配的 ID）

> ID：12741477
> 
> 赞同：0
> 
> 时间：2012-10-05T07:20:56.157
> 
> 标签：android, android-sqlite

这是我在 DBAdapter 类中的 fetch IDs 函数：我想获取所有 IDs 并在 toast 消息中显示列表，无法理解我哪里出错了。

```
 public Cursor fetchAllIDs() {

         return mDb.query(DATABASE_TABLE0, new String[] {IDno1}, null, null, null, null,   null);
   } 
```

这是我在单击按钮时调用的函数，我希望我的 toast 充满所有 ID。

```
 private void fillData() {
       // Get all of the IDs from the database
          Cursor c = DBHelper.fetchAllIDs();
          startManagingCursor(c);

          String[] from = new String[] {DBAdapter.IDno1 };
          Toast.makeText(getApplicationContext(), ""+from, Toast.LENGTH_LONG).show();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:35:53.450

首先，您返回 a`Cursor`但您从不使用 this 中的信息`Cursor`。

其次，无论如何您都不能将 a 显示`String[]`为字符串。您必须遍历`String[]`并一一显示值。

你想要这样的东西：

```
private void fillData() {
    Cursor c = DBHelper.fetchAllIDs();
    List<String> idList = new ArrayList<String>();
    if (c.moveToFirst()) {
        do {
            idList.add(c.getString(c.getColumnIndexOrThrow(IDno1)));
            Toast.makeText(getApplicationContext(), "" + idList.get(idList.size()-1), Toast.LENGTH_LONG).show();
        } while (c.moveToNext());
    }
} 
```

编辑：固定`getLong()`为`getString()`.

# java - Facebook 登录 500 错误

> ID：12741483
> 
> 赞同：1
> 
> 时间：2012-10-05T07:21:29.080
> 
> 标签：java, facebook, facebook-graph-api, blackberry

我正在使用旧的 facebook api v1.0 在黑莓应用程序中登录 facebook。以下是我要求的网址

**https://m.facebook.com/login.php?api_key=451146618261729&v=1.0&next=http%3A%2F%2Fwww.facebook.com%2Fconnect%2Flogin_success.html&_rdr**

如果我什至在浏览器中点击此 URL，我将收到**HTTP 500错误。**当我使用较旧的应用程序 ID 时它工作正常，但它有另一个返回错误代码**104**的问题，不正确的签名所以我尝试创建新的应用程序 ID，它现在给出 500 内部错误。

如果相关，我的目标黑莓操作系统是 6.0

# image - 有什么办法也可以带来喜欢的图像吗？

> ID：12741484
> 
> 赞同：1
> 
> 时间：2012-10-05T07:21:33.897
> 
> 标签：image, facebook, api, icons, facebook-like

让我问一下关于 facebook API 的问题。

[http://www.facebook.com/ceoofa/favorites](http://www.facebook.com/ceoofa/favorites) 我们需要在上面的页面上点赞。但只能带文本而不能带图像。有什么办法也可以带来图像吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:33:53.410

太简单了亲爱的。只需`meta tag of og:image`在您的头部添加这样的内容。

```
<meta property="og:image" content="URL to an image"> 
```

[从这里](https://developers.facebook.com/docs/opengraph/objects/builtin/)阅读详细信息。

# excel - 如何从 VBA 函数将范围传递给 Excel 公式

> ID：12741491
> 
> 赞同：2
> 
> 时间：2012-10-05T07:22:17.143
> 
> 标签：vba, excel, vba, excel-formula

我正在编写一个[vba](/questions/tagged/vba "显示标记为“vba”的问题")函数来生成用于平滑图形的移动平均线。我需要使用四分位数范围来调整平滑公式。如何将 QuartileRange 传递给`Evaluate`函数以返回该范围的四分位数，以便我可以在函数中使用它？

函数调用如下

```
=MovingAverageSmoothQuartile( A1, 4, B1:b10 ) 
```

在哪里

*   `A1`是平滑的值，
*   `4`是要使用的值的数量，并且
*   `B1:B10`是用于计算四分位数的一列样本。

    ```
    Function MovingAverageSmoothQuartile(r As Range, ByVal m As Integer, QuartileRange As Range)
    ' returns a smoothed average using the 'rectangular' method
    Dim q1 As Double, q2 As Double, q3 As Double        
    q1 = Evaluate("Quartile( " + QuartileRange.Text + ", 1") ' <--- Stuck here 
    ```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:38:42.190

像这样：

```
q1 = WorksheetFunction.quartile(QuartileRange, 1) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:39:49.503

您可以`QUARTILE`直接在 VBA 中使用，无需`EVALUATE`.

例如，要返回 A1:A10 的第一个四分位数：

```
Sub Calltest()
MsgBox Test([a1:a10])
End Sub

Function Test(rng1 As Range)
Test = Application.WorksheetFunction.Quartile(rng1, 1)
End Function 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T07:41:52.863

不太清楚为什么要`Evaluate`在这里使用？我认为你需要这样做：

```
ql = WorksheetFunction.Quartile(QuartileRange, 1) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:26:06.420

```
q1 = Evaluate("Quartile(INDIRECT(" + QuartileRange.Text + "), 1") 
```

对不起，我不知道`Quartile`函数的用法，我假设它`QuartileRange.Text`包含字符串形式的范围地址。

# hibernate - 检索对象时出现 HibernateSystemException（具有相同标识符值的不同对象已与会话关联）

> ID：12741500
> 
> 赞同：0
> 
> 时间：2012-10-05T07:22:40.070
> 
> 标签：hibernate, exception

> **可能重复：**
> [休眠：具有相同标识符值的不同对象已与会话关联](https://stackoverflow.com/questions/3553200/hibernate-different-object-with-the-same-identifier-value-was-already-associate)

我在我的代码（Spring + Hibernate Web 应用程序）中看到了以下异常：

```
 HibernateSystemException: a different object with the same identifier value was already associated with the session 
```

我检查了我的代码并意识到问题是由于我两次获得相同的对象而引起的。我将其修改为最简单的情况：

```
customerDao.getById(customerId);
customerDao.getById(customerId); 
```

上面的代码导致了提到的异常，但是我不明白为什么从 Hibernate 中获取同一个对象两次是错误的。这似乎是一个正常的用例。可以检索相同的对象，即通过运行两个不同的查询。为什么我要担心一个查询是否会返回与第二个查询相同的对象？任何人都可以解释或指出有关此主题的一些信息来源吗？

PS***在应用程序中禁用了 Hibernate 二级缓存。***

* * *

### 更新：

当我将 customerDao.getById(customerId) 的内容更改为：

```
Customer result = new Customer();
getHibernateTemplate().load(result, customerId);
return result; 
```

至

```
return getHibernateTemplate().get(Customer.class, customerId); 
```

不再抛出异常。网上有很多关于load和get的区别的文章，但是我发现没有提到这个案例。任何人都可以对这个话题有所了解吗？

# javascript - 成功登录 Dojo 后将用户重定向到主页

> ID：12741503
> 
> 赞同：0
> 
> 时间：2012-10-05T07:22:48.260
> 
> 标签：javascript, html, rest, dojo

在用户对服务器的登录请求成功后，我正在努力重定向用户。服务器的响应是成功的，我能够在警报框中显示值，但我没有被重定向到不同的页面。

这是我正在使用的代码

```
<script>

    require(["dojo/dom", "dojo/on", "dojo/request", "dojo/dom-form", "dojo/domReady!", "dojo/json"],

        function(dom, on, request, domForm, JSON, cookie){

            var resultDiv = dom.byId("resultDiv");

            on(dom.byId("signinButton"), "click", function(evt){

                var emailAddressVar = document.getElementById('emailInput');
                var passwordVar = document.getElementById('passwordInput');

                if(emailAddressVar != "" && passwordVar != ""){
                    request.post("http://xxx.xxx.xx.xx:8080/com.thinkingpa.restful.web/SecurityResourceService/loginUser",{
                        data: {
                            emailAddress:emailAddressVar.value,
                            password:passwordVar.value                     
                        }
                    }).then(function(response){

                        var jsonResponse = "(" + response + ")";
                        var jsonObject = eval(jsonResponse);

                        for(var value in jsonObject){
                            alert(jsonObject[value]);
                        }

                        alert( "Your username is: " + jsonObject.username);

                        if(jsonObject.successful == "true"){
                            window.location = "http://www.mysite.com";
                        }else if(jsonObject.successful == "false"){
                            resultDiv.innerHTML = "<div class=\"info-box\"> <p> The Email or Password you entered was incorrect. </p><p> <a href=\"sign-up.html\">Register</a> to get an account. </p> <div>";
                        }

                        resultDiv.innerHTML = "<div class=\"error\">" + response + "<div>";
                    });
                }else{
                    resultDiv.innerHTML = "<div class=\"info-box\"> <p> Please Fill Out All The Required Fields </p> <div>";
                } 
            });
        }
    );

</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:33:20.010

True & false 不是字符串。试试这个：

```
if(jsonObject.successful == true)
    window.location = "http://www.mysite.com";
else
    resultDiv.innerHTML = "<div class=\"info-box\"> <p> The Email or Password you entered was incorrect. </p><p> <a href=\"sign-up.html\">Register</a> to get an account. </p> <div>"; 
```

做不到，做`alert(jsonObject.successful + ' = ' + typeof(jsonObject.successful))`

# css - 使用 CSS 选择一系列列表项

> ID：12741504
> 
> 赞同：0
> 
> 时间：2012-10-05T07:22:48.930
> 
> 标签：css, responsive-design

我有一个包含动态项目数的列表（菜单）：

```
<ul id="menu">
    <li>bla</li>
    <li>bla</li>
    <li>bla</li>
    <li>bla</li>
    <li>bla</li>
    <li>bla</li>
    <li>bla</li>
</ul> 
```

当浏览器的宽度 < 1000px 时，我正在使用媒体查询来设置不同的菜单样式：

```
@media screen AND (max-width: 999px) {
    ul#menu li:nth-child(4+) {
          visibility: hidden;
    }
} 
```

显然，这不起作用，但它说明了我想要实现的目标：隐藏第四个之后的任何列表元素。

我意识到有办法用列表项上的不同类来做到这一点，但我想用纯 CSS 来实现它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:25:52.660

您可以使用`:nth-child(n + 4)`它们来定位它们：

```
ul#menu li:nth-child(n + 4) {
    visibility: hidden;  // display: none?
}​ 
```

您也可以使用`:nth-child(-n + 3)`仅定位前四个元素。

**演示：http: [//jsfiddle.net/yhsE9/3/](http://jsfiddle.net/yhsE9/3/)**

# ios - iOS 需要多长时间才能进入深度睡眠？

> ID：12741507
> 
> 赞同：1
> 
> 时间：2012-10-05T07:22:57.787
> 
> 标签：ios, sleep

很久以前听说过，iOS 锁屏一段时间后会进入深度睡眠模式。在这种模式下，应用程序不能再做任何事情或触发 NSTimer。在进入这种深度睡眠模式之前是否有任何特定的持续时间？

注意：伙计们，请不要只用链接回答。在将它们放在这里之前提取您找到的一些信息。如果您知道答案在这些链接中，这并不难，对吧？

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2012-10-05T08:04:51.283

看看下面问题的答案，我认为它解释了你在寻找什么......

[在 iOS 5 上锁定屏幕时不会发生 NSTimer 事件](https://stackoverflow.com/questions/8198220/nstimer-events-do-no-occur-when-screen-locked-on-ios-5)

也看看这个...

[是否可以区分锁定设备和将应用程序发送到后台？](https://stackoverflow.com/questions/7754317/is-it-possible-to-distinguish-between-locking-the-device-and-sending-an-app-to-b)

> 似乎一种解决方案是在计时器触发时播放声音，并在此期间连续播放静音以防止 iPhone 进入睡眠状态。一个黑客，但至少在这种情况下不是一个完全丑陋的黑客，因为使用声音来保持 iPhone 保持清醒以播放声音具有一种对称性。

# c# - 在 asp.net 面板中查找控件

> ID：12741509
> 
> 赞同：0
> 
> 时间：2012-10-05T07:23:07.493
> 
> 标签：c#, asp.net, c#-4.0

如何使用 c# 从面板中找到控件。我正在使用下面的代码来查找控件。但它总是返回null。

我的部分代码在这里：

```
DropDownList ddl = new DropDownList();
ddl.ID = "ID" + i;
ddl.DataValueField = "fld_Head";
ddl.DataTextField = "fld_Head";
ddl.DataSource = DVS;
ddl.DataBind();
Panel1.Controls.Add(ddl);
Panel1.Controls.Add(new LiteralControl("&nbsp;&nbsp;")); 
```

另一个过程代码：

```
if (DT.Rows.Count > 0)
{
  string head = Convert.ToString(DT.Rows[i - 1]["fld_Head"]);
  if (head != "")
  {
    DropDownList Head = ((DropDownList)this.Panel1.FindControl("ID" + i));
                                Head.SelectedItem.Text = head;
  }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:48:14.090

如果您将控件作为子控件动态添加到另一个容器控件，则该控件将无法在下一篇文章中返回到同一容器子控件集合中。所以你必须做的是再次创建相同的控件，评估它的属性并再次添加到子控件集合中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:26:45.050

```
Foreach Control c in Panel.Controls

    c.Name
    c.Id
    c.Whatever 
```

# c# - WPF 将数据从数据网格绑定到文本框

> ID：12741514
> 
> 赞同：2
> 
> 时间：2012-10-05T07:23:28.943
> 
> 标签：c#, wpf, wpf-controls, wpfdatagrid

我是 WPF 新手，仍在学习它。我创建了一个示例应用程序并连接到数据库。在我选择数据到数据库后，我可以将它显示到我的数据网格中。现在，我担心的是我想绑定到文本框取决于我的数据网格中的行。

因此，每当我在数据网格中单击或选择行时，我都会将值绑定到文本框。我已经做了一些谷歌并尝试过。但仍然失败。有什么解决办法吗？谢谢。

这是我的应用程序图片。 ![在此处输入图像描述](../Images/9208ebd6059ce8793d835bfffd7fb27d.png)

xaml 如何将例如第 3 行绑定到我的文本框？我应该实施任何课程吗？因为在 Windows 窗体中我只需要调用 cellclick。谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-05T07:26:21.003

我总是将 SelectedItem（数据网格属性）绑定到我的 ViewModel 中的属性。然后您可以将控件绑定到此属性。您也可以仅使用 xaml 在没有视图模型的情况下实现此目的：

```
<StackPanel>
    <TextBox Text="{Binding SelectedItem.Name, ElementName=myDataGrid}"/>
    <DataGrid x:Name="myDataGrid" />
</StackPanel> 
```

# url - 如何在没有http的情况下进行url验证（或验证通过后添加）？

> ID：12741517
> 
> 赞同：0
> 
> 时间：2012-10-05T07:23:37.627
> 
> 标签：url, jquery-validate

我无法使我的自定义 url 验证规则起作用。

我正在添加新规则：

```
 jQuery.validator.addMethod("complete_url", function(val, elem) {
// if no url, don't do anything
  return  /((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/.test(val);
    });
 ...
 $("#new_website").validate({
    rules: {
          url: "complete_url",
         'website[url]': {
            url: true,
            required: true}
           }
        }); 
```

但它返回我

```
 invalid URL 
```

我在这里检查了正则表达式 - [http://www.rubular.com/](http://www.rubular.com/)。它正在工作，但我的自定义验证器失败了。

我做错了什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2017-06-30T14:09:00.647

请不要为此使用正则表达式。甚至不要使用与 jQuery 验证器相同的正则表达式，它将来可能会更改，您将无法利用更新。这是执行此操作的方法：

```
$.validator.addMethod('validUrl', function(value, element) {
        var url = $.validator.methods.url.bind(this);
        return url(value, element) || url('http://' + value, element);
    }, 'Please enter a valid URL'); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-04-09T15:21:29.597

我用过这个，效果很好

```
jQuery.validator.addMethod("url2", function(value, element, param) {
return this.optional(element) || /^(www\.)(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value);
}, jQuery.validator.messages.url); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-05T09:23:53.450

```
 jQuery.validator.addMethod("checkurl", function(value, element) {
// now check if valid url
return /^(www\.)[A-Za-z0-9_-]+\.+[A-Za-z0-9.\/%&=\?_:;-]+$/.test(value);
}, "Please enter a valid URL."
);

 // connect it to a css class
  jQuery.validator.addClassRules({
checkurl : { checkurl : true }    
 });
  ...
    'website[url]': {
            checkurl: true
    } 
```

# iphone - 交替打印 2 个线程值

> ID：12741519
> 
> 赞同：0
> 
> 时间：2012-10-05T07:23:45.027
> 
> 标签：iphone, ios, multithreading

我的两个线程中有两组值，例如，在我的第一个线程中我有奇数，在第二个线程中我有偶数，但我想打印像 1,2,3,4 这样的值.....如何交替打印线程值？？？

```
NSThread* myThread = [[NSThread alloc] initWithTarget:self selector:@selector(myThreadMainMethod:) object:nil];

[myThread setThreadPriority:1];
NSThread* myThread2 = [[NSThread alloc] initWithTarget:self selector:@selector(myThreadMainMethod2:) object:nil];

[myThread2 setThreadPriority:1];
[myThread start];  // Actually create the thread

[myThread2 start];  // Actually create the thread 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:39:19.593

如果您希望您的线程按顺序执行其输出（在您的情况下这似乎是一个非常糟糕的主意），那么您必须将它们与事件同步，以便它们相互发出信号以执行序列中的下一步。

然而，这会让你失去所有拥有线程的好处。如果要打印有序的数字序列，只需在 GUI 线程上执行即可。

对于在线程环境中有意义的工作，您将进行拆分，以便尽可能少地依赖任何其他线程完成的任何其他工作，以实现真正的并行性。

通过线程做一些需要太多同步的事情，所以效果是它们必须串行运行，这是毫无意义的。

# javascript - 当我使用 javascript 从锚标记单击时，如何获取动态创建的标签的文本

> ID：12741520
> 
> 赞同：2
> 
> 时间：2012-10-05T07:23:46.077
> 
> 标签：javascript, jquery, html, jsp

在我的 JSP 页面中，我想动态创建一个标签，该标签位于一个锚标签内。当我单击另一个锚标记时，我想使用 javascript 或 jquery 获取相应的标签文本。

这是我的 JSP 页面代码。

```
<body>
    <%
        for (int i = 0; i < sam.groupName.length; i++) {

            out.print("<a href='#'>");
            out.print("<img src='twoMen.jpg'/>");
            out.print("<label for='groupsId' id='labelId"+i+"'>"+ sam.groupName[i] + "</label>");
            out.print("</a>");

            out.print("<a href='javascript:void(0);' onclick='validation(this,"+i+");'>Edit</a>");

        }
    %>
</body> 
```

Javascript代码：

```
function validation(anchor,i) {
        alert("Label value="+????);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:29:36.500

快速回答：

```
function validation(anchor,i) {
    var value = $("#labelId"+i).text();
    alert("Label value= "+ value);
} 
```

只需使用您拥有的标签的 ID，然后从中获取文本。

`.text()`将返回标签中的 TEXT 给您。如果该文本包含在另一个嵌套标记中，则不会。如果是这种情况，请使用`.html()`或指定您的 jQuery 选择器。

**更新**

我还想到了另一种解决方案，我认为这个会更简单：

```
<body>
<%
    for (int i = 0; i < sam.groupName.length; i++) {

        out.print("<a href='#'>");
        out.print("<img src='twoMen.jpg'/>");
        out.print("<label for='groupsId' id='labelId"+i+"'>"+ sam.groupName[i] + "</label>");
        out.print("</a>");

        out.print("<a href='javascript:void(0);' onclick='validation(this,'"+sam.groupName[i]+"');'>Edit</a>");

    }
    %>
</body> 
```

那么您可以按如下方式使用验证功能：

```
function validation(anchor,value) {
    alert("Label value="+ value);
} 
```

这也是一样的，但它传递的是你需要的值，而不是指向你需要的值的索引。除非您以后需要 i 索引来处理其他任何事情，否则这很有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:30:05.893

给锚点说class1一些类，并使用jquery的live方法，

```
$(".class1").live("click",function(){
alert(this.html())
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:30:07.447

在这些情况下，最好的办法是查看最终代码是如何呈现的。但是，您可以从 ID 中获取它：

```
var myLabelId = 'labelId'+i;
var myLabel =   document.getElementById(myLabelId);
var myLabelValue = myLabel.innerText; 
```

# spring - spring本地化消息持久化

> ID：12741522
> 
> 赞同：4
> 
> 时间：2012-10-05T07:23:53.657
> 
> 标签：spring, internationalization, persistence

我会问是否知道一些“标准”方式来保存消息，这些消息将在以后本地化。请注意，这也包括消息参数。例如，我在资源包中有代码为“msg1”和 1 个参数的消息：

```
msg1 = Hello {0} 
```

我想将消息与一个对象相关联，将其持久化。之后，不同的客户端会询问具有不同语言设置的对象。

```
obj.setDisplayMsg(msgSource.getMessage("msg1", "World", locale)) 
```

我能想象：

1.  将消息存储为带有消息代码和参数的顶级对象。我害怕性能 - 在我看来，在没有翻译的简单错误消息的情况下，在单独的表中拥有单独的对象比单个 varchar 列差得多。
2.  以字符串表示形式编码消息代码及其参数并使用一些休眠自定义类型映射
3.  但是，它不是已经解决了（最好是在春天），所以我不必再做一次了吗？

谢谢

更新：目前，我们做了一些中途 - 我们将消息作为序列化消息对象存储在映射表中的单列中。我仍然非常满意 - 无法直接在数据库中查看数据。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-10-15T08:14:00.667

我不认为你的需求是一个非常普遍的需求，所以那里可能没有可用的东西。可以肯定的是，Spring 开箱即用没有任何东西。因此，选项 3 被丢弃。

1和2之间的决定主要是商业决定。想象一下消息格式在持久化后发生了变化（例如由于某些错误）。你现在想得到什么？可能是修正后的，只能通过选项 1 获得。

另一方面，如果您想将其保存为应用程序对用户*所说*内容的证明，则可以使用 1 和 2（但在第一种情况下，您需要保存消息格式而不是其代码） .

在我看来，第一个选项是最好的。您不会那么担心它的性能，因为它可能不是您的应用程序的瓶颈。也许消息和参数之间的多对多（而不是一对多）关系可能很好，并且可以节省一些内存，但这不是主要目的。在参数表中，您可以存储一些额外的信息，例如参数的*种类*。这样您就可以轻松搜索，例如，所有*msg1*类型的消息或打印用户*Jakub*的消息（因为您将该参数存储为用户类型）。

最后，永远不要在数据库中保存序列化的对象。它们与语言有关，您无法搜索它们，可能会出现版本控制问题……最重要的是，至少在这种情况下，您不需要它，因为最终所有参数都必须转换为字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-19T21:03:05.140

我看到的在数据库中存储 i18n 消息的唯一用例是当您希望在应用程序中使用 UI 来编辑它们时。否则，我认为没有必要使事情复杂化，而是建议使用文件。

首先，您不应该在每次要解析消息时询问底层存储（数据库或文件）。它们很少更改并且经常被读取，因此它是缓存的一个很好的用例。

接下来，如果您希望消息参数被本地化，而不是简单地将它们作为单独的消息保存在您的存储中并首先获取参数的值，然后在检索实际消息时将其传递。

所以现在您可能想知道如何让我的应用程序看到我对消息所做的更改？好吧，只需使用一个[ReloadableResourceBundleMessageSource](http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/support/ReloadableResourceBundleMessageSource.html)。它也为您缓存！但请记住将文件**放在**应用程序存档之外（JAR、WAR、EAR 等等）！无论如何，将配置与代码分开是一种很好的做法。所以，是的，当然春天已经解决了这个问题！

但是如果由于某种原因你仍然想使用 DB 来存储消息，你将不得不实现你自己的[MessageSource](http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/MessageSource.html)。我会将参数存储在同一个表中。并记住使用缓存，并在数据库中的数据发生变化时使其失效。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-05T07:32:44.653

AFAIK Spring 不支持在 DB OOTB 中存储 i18n 消息。但是，您可以创建自己的 ResourceBundle 来从数据库中获取它们。

关于如何实现这一点有很多例子：http: [//forum.springsource.org/showthread.php?15223 -AbstractMessageSource-using-DB-table-instead-of-props-file](http://forum.springsource.org/showthread.php?15223-AbstractMessageSource-using-DB-table-instead-of-props-file)

[用于 java web-app 的数据库支持 i18n](https://stackoverflow.com/questions/19295/database-backed-i18n-for-java-web-app)

# iphone - 应用程序图标未显示在 Facebook 个人资料中

> ID：12741523
> 
> 赞同：0
> 
> 时间：2012-10-05T07:23:55.133
> 
> 标签：iphone, facebook

当我在墙上发布内容时，我想在 Facebook 个人资料中显示我的应用程序图标。我已经完成了 facebook 开发者帐户并完成了创建新应用程序部分，我已在其中提交了我的应用程序图标。但是当我在墙上发帖时，我只能看到字符串而不是图标。

```
 here is my snippet of code.

    -(IBAction)btnPost:(id)sender
    {
        NSMutableDictionary *params = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                                       @"myPB", @"name",
                                       @"http://www.my-t3.com/", @"link",strFbmsg, @"message",
                                       nil];
        [appdelegate._facebook requestWithGraphPath:@"me/feed" andParams:params andHttpMethod:@"POST" andDelegate:self];
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T13:08:10.880

在您的字典中添加一个带有指向您图像的 http 链接的新对象，并使用键“图片”插入它。

例子：

```
 [[NSMutableDictionary alloc] initWithObjectsAndKeys:
     @"https://developers.facebook.com/ios", @"link",
     @"https://developers.facebook.com/attachment/iossdk_logo.png", @"picture",
     @"Facebook SDK for iOS", @"name",
     @"Build great social apps and get more installs.", @"caption",
     @"The Facebook SDK for iOS makes it easier and faster to develop Facebook integrated iOS apps.", @"description",
     nil]; 
```

# javascript - 手势事件不是由 chrome 模拟的

> ID：12741527
> 
> 赞同：5
> 
> 时间：2012-10-05T07:24:14.093
> 
> 标签：javascript, google-chrome, multi-touch

我在 Chrome 的开发者工具中启用了“模拟触摸事件”选项。它仅模拟触摸事件，但不模拟手势事件。

我正在使用[http://multitouchvista.codeplex.com/](http://multitouchvista.codeplex.com/)驱动器进行多指测试。

有什么可以听chrome中的手势事件的吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-12T04:19:04.740

从 Windows 7 上最新版本的 Chrome（12/10/12 上的版本 22.0.1229.94 m）开始，如果您使用的是 Multitouch Vista（或具有多点触控设备的硬件，如我的平板电脑），您不应该启用“模拟触摸事件”。这是因为 MTVista 应该向 Chrome 提供实际的 Win32 Touch 消息，然后 Chrome 将从这些消息中生成 Touch 事件。此外，在 about:flags 下有一个“启用触摸事件”选项，这似乎与使用或不使用此选项无关。

要查看它是否在 Chrome 中运行，请使用[Multitouch Canvas Fingerpaint Demo](http://paulirish.com/demo/multi)之类的演示，它只会根据我[在“MULTI-TOUCH WEB DEVELOPMENT”教程中找到的触摸事件在框中绘制](http://www.html5rocks.com/en/mobile/touch/)

我认为您对 MTVista 所做的事情有些困惑，或者只是可能设置得不太正确。

首先确保驱动程序工作正常：

尝试使用几只鼠标使用 mspaint（Windows 中包含的旧 Paint）进行绘制，如果您获得多条线，则它已正确安装。

在 Codeplex 页面上快速搜索设置 MT Vista 会导致此链接[“STEP BY STEP TUTORIAL : INSTALLING MULTI-TOUCH SIMULATOR FOR SILVERLIGHT PHONE 7”](http://michaelsync.net/2010/04/06/step-by-step-tutorial-installing-multi-touch-simulator-for-silverlight-phone-7)忽略与 Silverlight 相关的任何内容，这是我每次设置 MTVista 时所做的在过去，其中有很多在我的工作中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T12:56:41.947

您可以尝试[https://github.com/dgolovanev/mxTouch](https://github.com/dgolovanev/mxTouch) 但确保正确的多点触控行为的最佳方法是安装 Android SDK（假设您正在为 Android 编码）并创建一个新的虚拟设备。然后在设备上测试您的页面。

# linux - 如何在 Bash 的 read -p 中换行（添加换行符）？

> ID：12741529
> 
> 赞同：6
> 
> 时间：2012-10-05T07:24:30.030
> 
> 标签：linux, bash, shell, newline

我怎么能用`\n`in换行`read -p`？

例如

```
read -p "Please Enter the percent [30 between 100]\n The value is  Default = 80   :" scale_percent 
```

我想`\n`打破一条线，但它不起作用。

在`echo`我使用`-e`中，它打破了一条线。

所以我尝试了

```
read -ep 
```

打破这条线，但它没有打破这条线。我怎样才能做到这一点？

您能否也请`read -p`在互联网上给我一本很好的手册，因为我找不到一个没有混乱描述的好手册。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-05T07:33:49.567

你可以这样做：

```
read -p $'Please Enter the percent [30 between 100]\x0a The value is  Default = 80   :' scale_percent 
```

我们使用上述语法插入十六进制值，我们插入`\x0a`换行符（**LF**）的十六进制值。您可以使用与上面相同的语法`echo`来生成新行，例如：

```
echo $'One line\x0asecond line' 
```

这是**BASH 2的一个特性，**[**在此处**](http://www.gnu.org/software/bash/manual/bashref.html#ANSI_002dC-Quoting)记录，`$''`用于翻译其中的所有转义序列以进行 ascii 转录。所以我们可以得到与上面例子相同的结果，这样：

```
echo $'One line\nsecond line' 
```

# perl - 从 hashref 强制所有类型

> ID：12741531
> 
> 赞同：0
> 
> 时间：2012-10-05T07:24:38.540
> 
> 标签：perl, moose

我有多次重复以下代码，因为我有几个遵循相同模式的类

```
use MooseX::Types -declare [ qw( Item ) ];jj
my $itc = $prefix . 'Item';
class_type Item, { class => $itc };
coerce Item, from HashRef, via { load_class( $itc )->new( $_ ) }; 
```

有没有一种简单的方法可以对创建`class_type`和强制的代码进行重复数据删除？这不是理解 MooseX::Types 的问题，而是大量重复代码的问题。这是[当前状态下该代码的链接](https://github.com/xenoterracide/Business-CyberSource/blob/b6f56612df3c8b8e993c5f5f19147e497ec3dcc0/lib/MooseX/Types/CyberSource.pm#L91)。它变得有点混乱，这不是我引以为豪的事情。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T12:33:51.210

首先，您的示例代码在语法上不正确。

其次，我认为[MooseX::Types](http://search.cpan.org/~drolsky/MooseX-Types-0.35/lib/MooseX/Types.pm)文档中直接回答了您的问题（如果我理解正确的话）。只需按照那里给出的示例：

```
package MyTypes;

my @types = qw/Item1 Item2/;

use MooseX::Types -declare => [ @types];

use MooseX::Types::Moose qw/Int HashRef/;
use Moose::Util::TypeConstraints;

use URI;

foreach my $type (@types) {

  class_type $type, { class => 'URI' };
  coerce $type, from 'Str', via { URI->new( $_ ) };
}

1;

package Foo;

use Moose;

has test => (is => 'rw', isa => 'Item1', coerce => 1);

1;

package main;

use v5.10;
use strict;
use warnings;

 my $t = Foo->new(test => 'http://test.com');
 say $t->test; 
```

# sql - sql IN 语句始终为真

> ID：12741537
> 
> 赞同：5
> 
> 时间：2012-10-05T07:25:01.473
> 
> 标签：sql, sql-server

我有以下 sql 查询

```
select * from tblArea where AreaDescription in ('Processing1','Geology 66','Site Infrastructure') 
```

目前它显示了（'Processing1'，'Geology 66'，'Site Infrastructure'）中AreaDescription的记录

但我需要将值传递给查询，这将始终为真并显示所有记录。我知道我可以使用 where 子句

```
where 1=1 
```

但在这里我需要使用 in 语句。这可能吗？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-05T07:27:47.170

我不明白你为什么需要它以及为什么不想添加`where 1=1`或省略`WHERE`，但你可以这样做：

```
select * from tblArea 
where AreaDescription in 
(AreaDescription,'Processing1','Geology 66','Site Infrastructure') 
```

测试：[http ://sqlfiddle.com/#!3/6e15d/1/0](http://sqlfiddle.com/#!3/6e15d/1/0)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:27:57.130

如果您希望您的查询始终是`true`，

*   删除 where 子句
*   或添加`OR 1=1`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:27:58.030

`select * from tblArea where AreaDescription in (select AreaDescription from tblArea)`

# nokogiri - 使用 Nokogiri 循环浏览结果页面

> ID：12741547
> 
> 赞同：0
> 
> 时间：2012-10-05T07:25:50.273
> 
> 标签：nokogiri

我有一些代码可以在 eBay 上提取报价，但是有几个结果页面，我只得到第一页的结果。如何循环浏览多个结果页面？

这是我的代码：

```
 require 'rubygems'
    require 'nokogiri'
    require 'open-uri'

    url = "http://www.ebay.de/sch/i.html?_nkw=Suzuki+DR+BIG&_sacat=131090&_odkw=Suzuki+DR+BIG&_osacat=0&_from=R40"
    doc = Nokogiri::HTML(open(url))
    doc.css(".dtl").each do |dtl|

       puts dtl.at_css(".vip").text 
    end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T08:29:31.907

您必须通过从“下一步”按钮（检查页面位于 css 处`.botpg-next a`）拉链接并加载它来聚合每个页面的结果。

像这样的东西：

```
url = "http://www.ebay.de/sch/i.html?_nkw=Suzuki+DR+BIG&_sacat=131090&_odkw=Suzuki+DR+BIG&_osacat=0&_from=R40"
while (url) do
  doc = Nokogiri::HTML(open(url))
  doc.css(".dtl").each do |dtl|
    puts dtl.at_css(".vip").text 
  end
  link = doc.css('.botpg-next a')
  url = link && link[0]['href'] #=> url is nil if no link is found on the page
end 
```

我只是循环直到找不到“下一个”按钮，但您可以更改它以将循环限制为给定数量的结果。

# actionscript-3 - Netstream 音频播放两次

> ID：12741550
> 
> 赞同：2
> 
> 时间：2012-10-05T07:25:59.210
> 
> 标签：actionscript-3, flash, netstream

我是 flash 新手（这是我第一次使用它或 actionscript），我正在尝试制作视频播放器。视频播放器从嵌入代码中获取参数，并从服务器上的文件夹中提取视频。

我有以下代码（我已经删除了我 100% 确定不会导致我的问题的所有内容）：

```
import flash.net.NetConnection;
import flash.net.NetStream;
import flash.media.Video;
import flash.events.NetStatusEvent;
import flash.events.MouseEvent;
import flash.events.FullScreenEvent;
import flash.events.Event;
import flash.ui.Mouse;
import flash.utils.Timer;
import flash.events.TimerEvent;
import flash.text.TextFormat;
import flash.media.SoundTransform;

var nc:NetConnection;
var ns:NetStream;
var ns2:NetStream;
var video:Video;
var video2:Video;
//get filename parameters from embed code
var filename:String = root.loaderInfo.parameters.filename;
var filename2:String = root.loaderInfo.parameters.filename2;
var t:Timer = new Timer(5000);
var duration;
var currentPosition:Number;
var st:Number;
var started:Boolean;

Object(this).mcPlay.buttonMode = true;
Object(this).mcPause.buttonMode = true;
Object(this).ScreenClick.buttonMode = true;
Object(this).mcMax.buttonMode = true;
Object(this).mcSwitcher.buttonMode = true;

Object(this).mcPause.addEventListener(MouseEvent.CLICK,PlayPause);
Object(this).mcPlay.addEventListener(MouseEvent.CLICK,PlayPause);
Object(this).ScreenClick.addEventListener(MouseEvent.CLICK,PlayPause);
Object(this).mcMax.addEventListener(MouseEvent.CLICK,Maximize);
Object(this).slideVolume.addEventListener(Event.CHANGE, ChangeVolume);
Object(this).mcSwitcher.addEventListener(MouseEvent.CLICK, ToggleSwitcher);

t.addEventListener(TimerEvent.TIMER, TimerComplete);
stage.addEventListener(MouseEvent.MOUSE_MOVE, resetTimer);
stage.addEventListener(MouseEvent.MOUSE_DOWN, resetTimer);
stage.addEventListener(MouseEvent.MOUSE_UP, resetTimer);
stage.addEventListener(Event.ENTER_FRAME, videoTimer);

if (!nc) start();
var IsPaused:String;

function start():void
{
    Object(this).slideVolume.maximum = 100;
    Object(this).slideVolume.value = 100;

    started = false;

    var tf:TextFormat = new TextFormat();
    tf.color = 0xFFFFFF;
    tf.bold = true;
    this.lblTime.setStyle("textFormat", tf);

    connect();
    t.start();
}

function connect():void
{
    nc = new NetConnection();
    nc.client = this;
    nc.addEventListener(NetStatusEvent.NET_STATUS, OnNetStatus);
    nc.connect(null);
}

function OnNetStatus(e:NetStatusEvent):void
{
    switch(e.info.code)
    {
        case "NetConnection.Connect.Success":
            if (!started)
            {
                started = true;
                stream();
            }
            else
            {
                finish();
            }
        break;
        default:
            finish();
        break;
    }
}

function stream():void
{
    ns = new NetStream(nc);
    ns.client = this;
    ns.bufferTime = 5;  // set the buffer time to 5 seconds

    if ((filename2 != null) && (filename2.length > 0))
    {
        ns2 = new NetStream(nc)
        //ns2.client = this;    //Uncomment to use ns2 vid for duration info
        ns2.bufferTime = 5;  // set the buffer time to 5 seconds
        startVideo(2);
        currentPosition = 1;    //Default

        ns.seek(0);
        ns2.seek(0);
    }
    else
    {
        this.mcSwitcher.visible = false;
        startVideo(1);

        ns.seek(0);
    }
}

function startVideo(num:Number):void
{
    var startVolume:SoundTransform = new SoundTransform();
    startVolume.volume = slideVolume.value / 100;

    if (num == 2)
    {
        video = new Video(320,180);
        video.x = 0;
        video.y = 90;
        addChild(video);
        video.attachNetStream(ns);
        ns.checkPolicyFile = false;
        ns.play(filename);  //path/filename
        setChildIndex(video,1);

        video2 = new Video(320,180);
        video2.x = 320;
        video2.y = 90;
        addChild(video2);
        video2.attachNetStream(ns2);
        ns2.checkPolicyFile = false;
        ns2.play(filename2);    //path/filename
        setChildIndex(video2,1);

        ns.soundTransform = startVolume;
        var videoVolumeTransform2:SoundTransform = new SoundTransform();
        videoVolumeTransform2.volume = 0;
        ns2.soundTransform = videoVolumeTransform2;
        ns2.receiveAudio(false);
    }
    else if (num == 1)
    {
        video = new Video(640,360);
        video.x = 0;
        video.y = 0;
        addChild(video);
        video.attachNetStream(ns);
        ns.checkPolicyFile = false;
        ns.play(filename);  //path/filename
        setChildIndex(video,1);

        ns.soundTransform = startVolume;
    }
    IsPaused = "playing";
    this.removeChild(mcPlay);
    setChildIndex(this.ScreenClick,0);
    setChildIndex(this.mcTitleOverlay,2);
}

function ShowControls ():void
{
    for (var i:int = 0; i < Object(root).numChildren; i++)
    {       
        switch (Object(root).getChildAt(i))
        {
            case mcPause:
                if (IsPaused != "paused")
                    Object(root).getChildAt(i).visible = true;
            break;
            case mcPlay:
                if (IsPaused != "playing")
                    Object(root).getChildAt(i).visible = true;
            break;
            case mcSwitcher:
                if ((filename2 != null) && (filename2.length > 0))
                    Object(root).getChildAt(i).visible = true;
            break;
            default:
                Object(root).getChildAt(i).visible = true;  //Bring back everything else
            break;
        }
        ScreenClick.y = 154;
    }
}

function videoTimer(e:Event):void
{
    var curTime = ns.time;  //Current time in seconds
    var curMinutes = Math.floor(curTime / 60);  //Get the minutes
    var curSeconds = Math.floor(curTime % 60);  //Get the leftover seconds

    var durMinutes = Math.floor(duration / 60);
    var durSeconds = Math.floor(duration % 60);

    //Add the zeroes to the begining of the seconds if it is needed.
    if (curSeconds < 10)
        curSeconds = "0" + curSeconds;

    if (durSeconds < 10)
        durSeconds = "0" + durSeconds;

    Object(this).lblTime.text = curMinutes + ":" + curSeconds + " / " + durMinutes + ":" + durSeconds;
}

function PlayPause (e:MouseEvent):void
{
    switch (IsPaused)
    {
        case "playing":
            IsPaused = "paused";
            this.mcPlay.visible = true;
            this.mcPause.visible = false;
            ns.togglePause();
            ns2.togglePause();
        break;
        case "paused":
            IsPaused = "playing";
            this.mcPause.visible = true;
            this.mcPlay.visible = false;
            ns.togglePause();
            ns2.togglePause();
        break;
        default:
            //
        break;
    }
} 
```

我遇到的问题很小但令人沮丧（我今天大部分时间都在试图以零进展来解决它）。因此：一切正常，除了当视频加载和播放时，声音播放两次（对于启用了声音的视频）。我正在努力解决这个问题，任何帮助将不胜感激！

谢谢！

编辑：

好的，在进一步的研究中（非常简单地重写每个函数并查看问题是否随着功能而消失）我已经确定以下函数是万恶之源（或者至少是我的问题）：

```
function startVideo(num:Number):void
{
    var startVolume:SoundTransform = new SoundTransform();
    startVolume.volume = Object(this).slideVolume.sldVol.value / 100;

    if (num == 2)
    {
        video = new Video(320,180);
        video.x = 0;
        video.y = 90;
        addChild(video);
        video.attachNetStream(ns);
        ns.checkPolicyFile = false;
        ns.play(filename);  //path/filename
        this.removeChild(btnPlay);
        setChildIndex(video,1);

        video2 = new Video(320,180);
        video2.x = 320;
        video2.y = 90;
        addChild(video2);
        video2.attachNetStream(ns2);
        ns2.checkPolicyFile = false;
        ns2.play("test.mp4");   //path/filename
        setChildIndex(video2,1);

        ns.soundTransform = startVolume;
        var videoVolumeTransform2:SoundTransform = new SoundTransform();
        videoVolumeTransform2.volume = 0;
        ns2.soundTransform = videoVolumeTransform2;
        ns2.receiveAudio(false);
    }
    else if (num == 1)
    {
        video = new Video(640,360);
        video.x = 0;
        video.y = 0;
        addChild(video);
        video.attachNetStream(ns);
        ns.checkPolicyFile = false;
        ns.play("test.flv");    //path/filename
        setChildIndex(video,1);

        ns.soundTransform = startVolume;
    }
    IsPaused = "playing";
    this.removeChild(btnPlay);
    setChildIndex(this.ScreenClick,0);
    //setChildIndex(this.mcTitleOverlay,2);
} 
```

我将坚持我的故障排除（我已经隔离了问题，希望下一步是一个解决方案！

# asp.net-mvc-3 - 如何用户 @Html.Raw 在 ui jquery 自动完成中不起作用？

> ID：12741551
> 
> 赞同：0
> 
> 时间：2012-10-05T07:26:03.030
> 
> 标签：asp.net-mvc-3, jquery-ui-autocomplete, external-js

我在我的 MVC3 Web 项目中使用了 ui jquery 自动完成功能，并将 jquery 保存在外部 js 文件中，并将其包含在网页中，但它不起作用。

我在 js 文件中使用以下代码进行 ui jquery 自动完成：

```
$(function () {
    $("#ReportsTo_FullName").autocomplete({
        source: function (request, response) {
            var linkPath = "@Html.Raw(Url.Action("AutocompleteSuggestions", "Employee", new { @term = "Term", @moduleName="ModuleName"}))";
            linkPath = linkPath.replace("Term", request.term);
            linkPath = linkPath.replace("ModuleName", "Employee");

            $.post(linkPath, function (data) {
                response($.map(data, function (item) {
                    return { label: item.FullName, value: item.Id }
                }
               ));
            })
            $.error(function (xhr, ajaxOptions, thrownError) { alert(thrownError); })
        },
        minLength: 1,
        focus: function (event, ui) {
            $("#ReportsTo_FullName").val(ui.item.label);
            return false;
        },
        select: function (event, ui) {
            if (ui.item) {
                $("#ReportsTo_FullName").css('border', '');
                $("#ReportsTo_FullName").val(ui.item.label);
                $("#ReportsToId").val(ui.item.value);
                return false;
            }
        },
        change: function (event, ui) {
            if (ui.item == null) {
                $("#ReportsTo_FullName").css({ 'border': '1px solid #ff0000' });
                $("#ReportsToId").val(null);
            }
        }
    });
}); 
```

但它无法执行并且它没有显示自动完成。

上面的 jquery 有什么问题？

如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:40:50.787

你不能使用这个：

```
@Html.Raw(Url.Action("AutocompleteSuggestions", "Employee", new { @term = "Term", @moduleName="ModuleName"})) 
```

在 js 文件中，这是服务器代码。在页面上创建隐藏字段，然后您才能获取此数据。

# haskell - 运行递归编译代码时出现堆栈空间溢出错误。微调算法，还是提供更多资源？

> ID：12741558
> 
> 赞同：2
> 
> 时间：2012-10-05T07:26:29.800
> 
> 标签：haskell

我正在研究[Euler #14](http://projecteuler.net/problem=14)项目，并有一个解决方案来获得答案，但是当我尝试运行代码时出现堆栈空间溢出错误。该算法在交互式 GHCI 中运行良好（在低数字上），但当我向它抛出一个非常大的数字并尝试编译它时，它就不起作用了。

这是它在交互式 GHCI 中的作用的粗略概念。在我的电脑上计算“答案 50000”大约需要 10 秒。

让 GHCI 运行几分钟后，它会吐出正确的答案。

```
*Euler System.IO> answer 1000000
    (525,837799) 
```

但这并不能解决编译程序以本地运行时的堆栈溢出错误。

```
*Euler System.IO> answer 10
    (20,9)
*Euler System.IO> answer 100
    (119,97)
*Euler System.IO> answer 1000
    (179,871)
*Euler System.IO> answer 10000
    (262,6171)
*Euler System.IO> answer 50000
    (324,35655) 
```

我应该怎么做才能得到“答案 1000000”的答案？我想我的算法需要微调一下，但我不知道如何去做。

代码：

```
module Main
    where

import System.IO
import Control.Monad

main = print (answer 1000000)

-- Count the length of the sequences
-- count' creates a tuple with the second value
-- being the starting number of the game
-- and the first value being the total 
-- length of the chain
count' n = (cSeq n, n)
cSeq n = length $ game n

-- Find the maximum chain value of the game
answer n = maximum $ map count' [1..n]

-- Working game. 
-- game 13 = [13,40,20,10,5,16,8,4,2,1]
game n = n : play n
play x
    | x <= 0 = []                               -- is negative or 0
    | x == 1 = []                               -- is 1
    | even x = doEven x : play ((doEven x))     -- even
    | otherwise = doOdd x : play ((doOdd x))    -- odd
  where doOdd x = (3 * x) + 1
        doEven  x = (x `div` 2) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T08:12:49.407

这里的问题是`maximum`太懒了。它没有跟踪最大的元素，而是建立了一个巨大的`max`thunk 树。这是因为`maximum`是根据 定义的`foldl`，所以评估如下：

```
maximum [1, 2, 3, 4, 5]
foldl max 1 [2, 3, 4, 5]
foldl max (max 1 2) [3, 4, 5]
foldl max (max (max 1 2) 3) [4, 5]
foldl max (max (max (max 1 2) 3) 4) [5]
foldl max (max (max (max (max 1 2) 3) 4) 5) []
max (max (max (max 1 2) 3) 4) 5  -- this expression will be huge for large lists 
```

试图评估太多这些嵌套`max`调用会导致堆栈溢出。

解决方案是通过使用严格的版本来强制它评估这些`foldl'`，（或者，在这种情况下，它的表亲`foldl1'`）。`max`这可以通过在每个步骤中减少它们来防止's 堆积：

```
foldl1' max [1, 2, 3, 4, 5]
foldl' max 1 [2, 3, 4, 5]
foldl' max 2 [3, 4, 5]
foldl' max 3 [4, 5]
foldl' max 4 [5]
foldl' max 5 []
5 
```

GHC 通常可以自行解决这些类型的问题，如果您使用`-O2`它（除其他外）对您的程序运行严格性分析进行编译。但是，我认为编写不需要依赖优化来工作的程序是一种很好的做法。

[**注意：**修复此问题后，生成的程序仍然很慢。您可能想考虑使用 memoization 来解决这个问题。]

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-05T13:41:29.427

@hammar 已经[指出了](https://stackoverflow.com/a/12742166/1011995)太懒的问题`maximum`，以及如何解决这个问题（使用`foldl1'`的严格版本`foldl1`）。

但是代码中还有进一步的低效率。

```
cSeq n = length $ game n 
```

`cSeq`让我们`game`构造一个列表，只计算它的长度。不幸的是，`length`不是一个“好消费者”，所以中间列表的构建并没有被融合掉。这是相当多的不必要的分配和花费时间。消除这些列表

```
cSeq n = coll (1 :: Int) n
  where
    coll acc 1 = acc
    coll acc m
      | even m    = coll (acc + 1) (m `div` 2)
      | otherwise = coll (acc + 1) (3*m+1) 
```

减少了大约 65% 的分配和大约 20% 的运行时间（仍然很慢）。下一点，您正在使用`div`，它在正常除法之外执行符号检查。由于所涉及的所有数字都是正数，因此使用`quot`instead 确实会加快速度（这里不多，但稍后会变得很重要）。

下一个重点是，由于您没有给出类型签名，因此数字的类型（除了在我的重写中由使用`length`或由表达式类型签名确定的地方）是. 上的操作比 上的相应操作慢得多，因此如果可能，您应该使用(or ) 而不是在速度很重要的时候。如果您有 64 位 GHC，则足以进行这些计算，使用 时，运行时间减少约一半，使用时减少约 70% ，使用本机代码生成器时，使用 LLVM 后端时，运行时间使用时减少约 70%，使用时减少约 95% 。`(1 :: Int)``Integer``Integer``Int``Int``Word``Integer``Int``div``quot``div``quot`

本机代码生成器和 LLVM 后端之间的差异主要是由于一些基本的低级优化。

`even`并且`odd`被定义

```
even, odd       :: (Integral a) => a -> Bool
even n          =  n `rem` 2 == 0
odd             =  not . even 
```

在`GHC.Real`. 当类型为`Int`时，LLVM 知道将用于确定模数的除以 2 替换为按位和 ( `n .&. 1 == 0`)。本机代码生成器（尚未）执行许多这些低级优化。如果您手动执行此操作，则 NCG 和 LLVM 后端生成的代码执行几乎相同。

使用`div`时，NCG 和 LLVM 都无法用短的移位和加法序列替换除法，因此您会通过符号测试获得相对较慢的机器除法指令。使用`quot`，两者都可以做到这一点`Int`，因此您可以获得更快的代码。

所有出现的数字都是正数的知识允许我们用简单的右移替换除以 2，而无需任何代码来纠正负参数，这将 LLVM 后端生成的代码再加速约 33%，奇怪的是它没有对 NCG 没有影响。

因此，从最初花费了 8 秒加/减一点（NCG 少一点，LLVM 后端多一点）的原始版本，我们已经去了

```
module Main (main)
    where

import Data.List
import Data.Bits

main = print (answer (1000000 :: Int))

-- Count the length of the sequences
-- count' creates a tuple with the second value
-- being the starting number of the game
-- and the first value being the total 
-- length of the chain
count' n = (cSeq n, n)
cSeq n = go (1 :: Int) n
  where
    go !acc 1 = acc
    go acc m
        | even' m   = go (acc+1) (m `shiftR` 1)
        | otherwise = go (acc+1) (3*m+1)

even' :: Int -> Bool
even' m = m .&. 1 == 0

-- Find the maximum chain value of the game
answer n = foldl1' max $ map count' [1..n] 
```

在我的设置中，使用 NCG 需要 0.37 秒，使用 LLVM 后端需要 0.27 秒。

运行时间有微小的改进，但可以通过`foldl1' max`手动递归替换 来获得巨大的分配减少，

```
answer n = go 1 1 2
  where
    go ml mi i
        | n < i     = (ml,mi)
        | l > ml    = go l i (i+1)
        | otherwise = go ml mi (i+1)
          where
            l = cSeq i 
```

这使其分别为0.35。0.25 秒（并产生一个微小的`52,936 bytes allocated in the heap`）。

现在，如果这仍然太慢，您可以考虑一个好的记忆策略。我知道的最好的^(（1）)是使用未装箱的数组来存储不超过限制的数字的链长度，

```
{-# LANGUAGE BangPatterns #-}
module Main (main) where

import System.Environment (getArgs)
import Data.Array.ST
import Data.Array.Base
import Control.Monad.ST
import Data.Bits

main :: IO ()
main = do
    args <- getArgs
    let bd = case args of
               a:_ -> read a
               _   -> 100000
    print $ mxColl bd

mxColl :: Int -> (Int,Int)
mxColl bd = runST $ do
    arr <- newArray (0,bd) 0
    unsafeWrite arr 1 1
    goColl arr bd 1 1 2

goColl :: STUArray s Int Int -> Int -> Int -> Int -> Int -> ST s (Int,Int)
goColl arr bd ms ml i
    | bd < i    = return (ms,ml)
    | otherwise = do
        nln <- collatzLength arr bd i
        if ml < nln
          then goColl arr bd i nln (i+1)
          else goColl arr bd ms ml (i+1)

collatzLength :: STUArray s Int Int -> Int -> Int -> ST s Int
collatzLength arr bd n = go 1 n
  where
    go !l 1 = return l
    go l m
        | bd < m    = go (l+1) $ case m .&. 1 of
                                   0 -> m `shiftR` 1
                                   _ -> 3*m+1
        | otherwise = do
            l' <- unsafeRead arr m
            case l' of
              0 -> do
                  l'' <- go 1 $ case m .&. 1 of
                                  0 -> m `shiftR` 1
                                  _ -> 3*m+1
                  unsafeWrite arr m (l''+1)
                  return (l + l'')
              _ -> return (l+l'-1) 
```

当使用 NCG 编译时，它在 0.04 秒内完成了 1000000 的限制，使用 LLVM 后端编译为 0.05 （显然，这在优化`STUArray`代码方面不如 NCG 好）。

如果您没有 64 位 GHC，则不能简单地使用`Int`，因为对于某些输入会溢出。但是计算的绝大部分仍然是在`Int`范围内执行的，所以你应该尽可能使用它，并且只移动到`Integer`需要的地方。

```
switch :: Int
switch = (maxBound - 1) `quot` 3

back :: Integer
back = 2 * fromIntegral (maxBound :: Int)

cSeq :: Int -> Int
cSeq n = goInt 1 n
  where
    goInt acc 1      = acc
    goInt acc m
      | m .&. 1 == 0 = goInt (acc+1) (m `shiftR` 1)
      | m > switch   = goInteger (acc+1) (3*toInteger m + 1)
      | otherwise    = goInt (acc+1) (3*m+1)
    goInteger acc m
      | fromInteger m .&. (1 :: Int) == 1 = goInteger (acc+1) (3*m+1)
      | m > back  = goInteger (acc+1) (m `quot` 2)  -- yup, quot is faster than shift for Integer here
      | otherwise = goInt (acc + 1) (fromInteger $ m `quot` 2) 
```

使得优化循环变得更加困难，因此它比使用 的单循环慢`Int`，但仍然不错。在这里（循环从不运行），使用 NCG 需要 0.42 秒，使用 LLVM 后端需要 0.37 秒（这与在纯版本`Integer`中使用几乎相同）。`quot``Int`

对记忆版本使用类似的技巧会产生类似的结果，它比纯`Int`版本慢得多，但与未记忆版本相比仍然快得惊人。

* * *

^((1))对于这个特殊的（类型）问题，您需要记住一系列连续参数的结果。对于其他问题，一个`Map`或其他一些数据结构将是更好的选择。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T11:52:54.083

正如已经指出的那样，该函数似乎是罪魁祸首，但是如果您使用标志`maximum`编译程序，则不必担心它。`-O2`

该程序仍然很慢，这是因为该问题应该教您有关记忆的知识。这样做的一种好方法是 haskell 是使用`Data.Memocombinators`：

```
import Data.MemoCombinators
import Control.Arrow
import Data.List
import Data.Ord
import System.Environment

play m = maximumBy (comparing snd) . map (second threeNPuzzle) $ zip [1..] [1..m]
  where
    threeNPuzzle = arrayRange (1,m) memoized
    memoized n 
      | n == 1 = 1
      | odd n  = 1 + threeNPuzzle (3*n + 1)
      | even n = 1 + threeNPuzzle (n `div` 2)

main = getArgs >>= print . play . read . head 
```

上面的程序`-O2`在我的机器上编译时运行不到一秒钟。

请注意，在这种情况下，记住 threeNPuzzle 找到的所有值并不是一个好主意，上面的程序会记住这些值直到限制（问题中为 1000000）。

# eclipse - 带有 OSGI 和非 OSGI 项目的 Maven

> ID：12741572
> 
> 赞同：4
> 
> 时间：2012-10-05T07:27:57.543
> 
> 标签：eclipse, maven, intellij-idea, osgi, tycho

所以我们有以下场景

我们有在非 osgi 环境中使用带有 Intellij 的 maven 的项目，然后我们有在 osgi 环境中使用 eclipse 的项目。eclipse 项目正在开发 RCP 应用程序，因此使用插件架构 (OSGI)。

所以我们有： 项目 A – maven 在非 Osgi 环境中组织的项目 项目 B – maven tycho 用于创建应用程序，但使用 eclipse 项目结构和目标平台等等。项目 C - maven 组织的项目具有 maven 依赖项，应该在项目 A 和 B 中工作。

我们还安装了带有 p2-plugin 的 Nexus，以便 maven-tycho 可以工作。

我们遇到的最大问题是我们无法弄清楚如何构建项目 C，以便它对项目 A 和 B 都没有问题。在项目 A 中，我们希望 maven 应该像往常一样工作并根据需要拉下依赖项。但我们也希望在项目 B 中使用该功能（可能与 Nexus+Tycho 的组合？？）。

我们应该如何解决这个问题。我还没有找到一个很好的解决方案来解决这个问题。我在 maven 中尝试过 apache felix bundle 插件，但无法按我的意愿工作。这是正确的解决方案吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T11:34:56.887

我认为您最好的选择是使用[Nexus P2 Repository Plugin](https://docs.sonatype.org/display/Nexus/Nexus+OSGi+Experimental+Features+-+P2+Repository+Plugin)。

您可以使用 为项目 C 开发和部署标准 OSGi 包`maven-bundle-plugin`，这些包可以直接由项目 A 通过 maven 构建使用。

然后，通过使用 Nexus P2 存储库插件，您还可以将这些 OSGi 包公开为标准 P2 存储库，项目 B 可以通过 tycho 构建使用这些包。

# stored-procedures - 具有延迟执行的 Windows 批处理文件调用带有输入参数的 SQL Server 存储过程

> ID：12741578
> 
> 赞同：0
> 
> 时间：2012-10-05T07:28:23.523
> 
> 标签：stored-procedures, batch-file

我有一个`zhm.GetBatchCmdList_sp`带有两个可选输入参数（`@freq`和）的存储过程（ `@env`）。存储过程一一返回我要执行的 SSIS 文件和存储过程的单列列表。

我创建了一些测试代码，它们只是将存储过程的结果集回显到控制台：

```
set freq=D
set env=DEV
set cmd=sqlcmd -S LDNDSM05243\TDS_MAIN2_DEV -d CPRM_3DSTRESS -Q "exec zhm.GetBatchCmdList_sp @freq=$(freq), @freq=$(env)" -h -1
set cmdList=
setlocal enabledelayedexpansion
for /f "usebackq" %%i in (`"%cmd%"`) do (set cmdList=!cmdList! %%i)
for %%v in (%cmdList%) do echo %%v
endlocal 
```

但我遇到了问题。

如果我从上面的“set cmd ....”行中删除输入参数，将其替换为：

```
set cmd=sqlcmd -S LDNDSM05243\TDS_MAIN2_DEV -d CPRM_3DSTRESS -Q "exec zhm.GetBatchCmdList_sp" -h -1 
```

然后脚本运行。但是，我希望调用者能够将输入变量（即`%1`和`%2`）传递给脚本（脚本会将这些变量传递给存储过程），以便可以在运行时 为`freq`和设置不同的值。`env`

我不知道我做错了什么，但我怀疑它可能与存储的 proc 输入参数的组合和启用延迟扩展有关。当然，我可能是错的，但我一直在谷歌搜索，我找不到任何特定于这个组合/问题的帮助。

任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T12:46:49.590

*编辑 - 这是一个完全重写的答案*

您的问题出`)`在您对 cmd 的定义中。您有两组引号，一组在原始定义中，另一组在 FOR IN() 子句中。最终结果是您的`)`字符没有被引用，因此它会提前终止 IN() 子句并且语句失败。

正如您在评论中所说，更改为`"!cmd!"`解决您的问题。但我认为您也可以通过从 IN() 子句中删除引号来解决它。

```
for /f "usebackq" %%i in (`%cmd%`) do... 
```

# asp.net-mvc - .NET 中的插件架构，如 wordpress

> ID：12741579
> 
> 赞同：2
> 
> 时间：2012-10-05T07:28:26.910
> 
> 标签：asp.net-mvc, vb.net, plugins, asp-classic

我们要将旧的经典 ASP 系统升级到 .net。这个旧系统管理不同的电子商务网站。

我们想做的是用插件创建一个像 wordpress 一样的 asp.net (vb) 系统。这样，站点之间的布局可以完全不同。例如，登录插件可以位于页面上的任何位置，具有不同的布局和显示设置。甚至使用单独的插件 css。这样，网站管理员的设置时间最短，开发人员可以开发新插件。

现在我被困在 .net 2\. 并且没有时间遵循 4 甚至 4.5 的优势。我刚开始阅读有关 MVC 的内容。

有什么好的解决方案可以遵循？MVC？此设置有任何可用的框架吗？如果您有任何示例链接，请分享。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T09:28:56.970

Orchard CMS 项目是模块化、基于插件的 MVC 应用程序的一个很好的例子：[http](http://www.orchardproject.net/) ://www.orchardproject.net/ 虽然没有被标榜为 Microsoft 项目，但它们为它的发展做出了贡献，我相信部分目的是将其用作参考架构。

SO上也有很多非常相似的问题，很多都有很好的答案：

[如何在 ASP.NET 中使用插件架构？](https://stackoverflow.com/questions/5242503/how-to-use-plugin-architecture-in-asp-net)

[.NET 中的插件式架构](https://stackoverflow.com/questions/2791859/plugin-like-architecture-in-net)

如果可以选择 4.0 或 4.5，我个人想不出你会坚持使用 .NET 2.0 的任何理由。该框架的每个版本都建立在之前的版本之上，我不知道有任何主流意见认为任何版本都是一个重大错误。选择 MVC 还是 WebForms 是个人喜好问题。我自己的观点是 MVC 稍微更适合您计划的那种模块化开发，但其他人的里程可能会有所不同......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T09:23:39.833

看看[http://umbraco.org/](http://umbraco.org/)它建立在 ASP.NET MVC 之上并且已经拥有你想要的功能，Umbraco 是开源的，所以你可以从它的代码库中学习分配。

# java - 将 JDialog 从 MODELESS 更改为 APPLICATION_MODAL 会打开 JDialog 两次

> ID：12741582
> 
> 赞同：0
> 
> 时间：2012-10-05T07:28:36.990
> 
> 标签：java, swing, jdialog

我有一个非常奇怪的行为，我只能断定它一定是某个地方的 Java 错误。

我在构造函数中更改了一行

`super(parent, "Production Plan Export", ModalityType.MODELESS);`

至

`super(parent, "Production Plan Export", ModalityType.APPLICATION_MODAL);`

突然，当我单击按钮打开我的 JDialog 时，它打开了两次，第一次，它根本没有响应。我需要单击 X 按钮来关闭窗口，然后当我这样做时，会出现相同的 JDialog，突然我的所有按钮都打开了。

有没有人见过这种行为？

我在用`Java 1.6.0_33`

**编辑** 非常非常奇怪的是，当我尝试在 eclipse 中调试它并在我的构造函数设置断点，然后我转到下一行时，它突然跳转到我在类中的变量并开始遍历我的变量构造函数中的下一行。

我试图重新启动我的计算机和eclipse，但这没有用。我会看看我是否可以创建一个小测试用例

**编辑2：**

好的，所以我创建了一个可以为我重现它的小应用程序。请注意，我试图删除不相关的代码部分，因此有很多代码对这个测试用例无效。

```
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Font;
import java.awt.Window;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

import javax.swing.AbstractAction;
import javax.swing.Action;
import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JDialog;
import javax.swing.JEditorPane;
import javax.swing.JFormattedTextField;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JProgressBar;
import javax.swing.JScrollPane;
import javax.swing.JTabbedPane;
import javax.swing.SwingUtilities;

@SuppressWarnings("serial")
public class ProductionPlanExportDialog extends JDialog {

    private JProgressBar progressbar;
    private JLabel message;
    private JButton exportButton;
    private JButton helpButton;

    private int state = JOptionPane.CANCEL_OPTION;
    private final Action closeAction = new CloseAction();
    private final Action enableExport = new EnableExport();
    private boolean updating = false;

    private JButton closeButton;

    public ProductionPlanExportDialog(Window parent) {
        super(parent, "Test", ModalityType.APPLICATION_MODAL); //The JDialog is not centered, and the close button doesn't work
//      super(parent, "Test", ModalityType.MODELESS); //The close button works and the jdialog is centered
        initGUI();
        bindModel();

        setDefaultCloseOperation(DO_NOTHING_ON_CLOSE);
        this.addWindowListener(new WindowAdapter() {
            @Override
            public void windowClosing(WindowEvent e) {
                super.windowClosing(e);
                close();
            }
        });
    }

    public static void main(String args[]) {
        new ProductionPlanExportDialog(null);
    }

    public void initGUI() {
        JTabbedPane mainTabbedPane = new JTabbedPane(JTabbedPane.TOP);

        JPanel yAxisPanel = new JPanel();
        yAxisPanel.setLayout(new BoxLayout(yAxisPanel, BoxLayout.Y_AXIS));

        JPanel progressPanel = new JPanel(new FlowLayout());
        progressPanel.add(getProgressbar());
        yAxisPanel.add(progressPanel);
        yAxisPanel.add(getMessage());

        JPanel buttonPanel = new JPanel(new FlowLayout()); 
        buttonPanel.add(getExportButton());
        closeButton = new JButton("Close");
        buttonPanel.add(closeButton);
        buttonPanel.add(getHelpButton());

        yAxisPanel.add(buttonPanel);

        setSize(937, 605);
        getContentPane().add(yAxisPanel);
        setVisible(true);
        setLocationRelativeTo(null);
    }

    private void bindModel() {
        closeButton.setAction(closeAction);
    }

    public int getExitStatus() {
        return state;
    }

    private JProgressBar getProgressbar() {
        if (progressbar == null) {
            progressbar = new JProgressBar();
            progressbar.setPreferredSize(new Dimension(1000, 22));
            progressbar.setName("progressbar");
            progressbar.setStringPainted(true);
            progressbar.setVisible(false);
        }
        return progressbar;
    }

    private JLabel getMessage() {
        if (message == null) {
            message = new JLabel();
            message.setName("message");
        }
        return message;
    }

    private void setUIState() {
        updating = true;
        assert SwingUtilities.isEventDispatchThread();
        try {
            closeButton.setEnabled(false);

        } finally {
            updating = false;
        }
    }

    private void setTextFieldValue(JFormattedTextField textField, long value) {
        if(value == Long.MAX_VALUE || value == -Long.MAX_VALUE) {
            textField.setText("");
        } else {
            textField.setValue(value);
        }
    }

    public JButton getExportButton() {
        if (exportButton == null) {
            exportButton = new JButton();
            exportButton.setToolTipText("Preview production plan");
            exportButton.setName("exportButton");
            exportButton.setText("Preview");
            exportButton.setBounds(305, 640, 72, 21);

            exportButton.addActionListener(new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent e) {

                }
            });
        }
        return exportButton;
    }

    private JButton getHelpButton() {
        if (helpButton == null) {
            helpButton = new JButton();
            helpButton.setBounds(470, 640, 72, 21);
            helpButton.setName("helpButton");
            helpButton.setText("Help");
            helpButton.addActionListener(new ActionListener() {
                public void actionPerformed(ActionEvent evt) {
                    String helpText = "This dialog is used to preview and export a production plan.<br/>" +
                            "<h1>Preview</h1>" 
                            + "After pressing 'Export', the production plan will be generated. This can take a few minutes.";

                    JEditorPane helpEditorPane = new JEditorPane("text/html", helpText); 
                    helpEditorPane.setFont(new Font(Font.SANS_SERIF, Font.PLAIN, 12));
                    helpEditorPane.setEditable(false); 
                    JScrollPane scrollPane = new JScrollPane(helpEditorPane,
                            JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,
                            JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);  
                    helpEditorPane.setCaretPosition(0);
                    scrollPane.setPreferredSize(new Dimension(640,445));
                    JOptionPane.showMessageDialog(helpButton, scrollPane, "Production Plan Export Dialog Help", JOptionPane.INFORMATION_MESSAGE);
                }
            });
        }
        return helpButton;
    }

    private final class EnableExport extends AbstractAction {
        @Override
        public void actionPerformed(final ActionEvent e) {
            if(isAllCheckboxSelected()) {
                getExportButton().setText("Export");
                getExportButton().setToolTipText("Export production plan");
            } else {
                getExportButton().setText("Preview");
                getExportButton().setToolTipText("Preview production plan");
            }
        }
    }

    boolean enableExport()  {
        return isAllCheckboxSelected();
    }

    boolean isAllCheckboxSelected()  {
        return false;
    }

    private final class CloseAction extends AbstractAction {
        public CloseAction() {
            super("Close");
        }

        @Override
        public void actionPerformed(final ActionEvent e) {
            close();
        }
    }

    private void close() {
        state = JOptionPane.OK_OPTION;
        setVisible(false);
        dispose();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:34:56.437

不能......，请你（关于Bug的描述）测试一下

```
import java.awt.Cursor;
import java.awt.Dialog.ModalityType;
import java.awt.Dimension;
import java.awt.event.ActionEvent;
import javax.swing.AbstractAction;
import javax.swing.JButton;
import javax.swing.JDialog;
import javax.swing.JFrame;
import javax.swing.SwingUtilities;

public class Main {

    public static void main(String[] args) {
        final JFrame frame = new JFrame();
        frame.setSize(new Dimension(500, 500));

        final JDialog dialog = new JDialog(frame, "Production Plan Export", 
                ModalityType.MODELESS);
        dialog.setSize(300, 300);

        final JDialog dialog1 = new JDialog(dialog, "Production Plan Export", 
                ModalityType.APPLICATION_MODAL);
        dialog1.setSize(200, 200);

        frame.add(new JButton(new AbstractAction("Dialog") {

            private static final long serialVersionUID = 1L;

            @Override
            public void actionPerformed(ActionEvent e) {
                frame.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
                Runnable doRun = new Runnable() {

                    public void run() {
                        dialog.setVisible(true);
                        dialog1.setVisible(true);
                    }
                };
                SwingUtilities.invokeLater(doRun);
            }
        }));
        frame.setVisible(true);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T08:34:04.893

我发现了问题。

那是因为我有`setVisible(true)`两次。一次在我的`initGUI()`方法中，一次在我初始化我的 JDialog 的地方。

还要感谢 MKorbel，我在我的 initGUI() 中移动了 setAction 调用，这使得按钮在具有 APPLICATION_MODAL 时工作

# c# - 如何在 ASP.NET 4.0 中使用 URL 重写？

> ID：12741587
> 
> 赞同：0
> 
> 时间：2012-10-05T07:28:56.187
> 
> 标签：c#, asp.net, url-rewriting

我想使用 ASP.NET 4.0 提供的内置 URL 重写。我已经尝试了以下代码，但我不知道为什么这不起作用，因为我对这个主题完全陌生。

我已经尝试了以下链接中的代码：

[http://code.msdn.microsoft.com/Easy-Steps-to-URL-2f792901/view/Discussions#content](http://code.msdn.microsoft.com/Easy-Steps-to-URL-2f792901/view/Discussions#content)

但是这段代码是有效的。请帮助我，如果有人可以为我提供有效的代码会更好。 **我想要的是：** 我正在某个社交网站上工作，客户希望当用户尝试观看任何其他人的个人资料时，他会可见的网址如：**www.test.com/profile/UserName**这是我的主要目标。我没有做 URL 重写，所以我从头开始。但是我仍然没有得到满足我目标的此类示例。如果有人可以，请帮助我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:41:02.753

不需要编写代码来执行 url 重写。你可能想使用 IIS 重写模块扩展，你可以在这里下载[http://www.iis.net/downloads/microsoft/url-rewrite](http://www.iis.net/downloads/microsoft/url-rewrite) 它是一个基于规则的 URL 重写引擎

例如，您可以通过正则表达式将 testpage.aspx?name=testcase 重写为 /testpage/testcase

# objective-c - 在新的 iOS5 NSManagedObjectContext 中使用 performBlockAndWait 有什么意义？

> ID：12741588
> 
> 赞同：0
> 
> 时间：2012-10-05T07:29:00.683
> 
> 标签：objective-c, ios5, xcode4.3

我正在修改我的程序以使用新的 iOS5 样式。

所以我只是使用这段代码：

```
NSManagedObjectContext *threadContext = [[NSManagedObjectContext alloc] initWithConcurrencyType:NSPrivateQueueConcurrencyType];
threadContext.parentContext = [self managedObjectContextMainThread];
//threadContext.persistentStoreCoordinator= [self persistentStoreCoordinator]; //moc.persistentStoreCoordinator;//  [moc persistentStoreCoordinator]; 
```

我的新背景 ManagedObjectContext 没有persistentStore，而是有父存储。\

在那之后我想我应该添加

在我使用所有使用新 MOC 的操作的所有操作上执行 BlockAndWait。

我不使用它，至少到目前为止做得很好

performBlockAndWait 是通过在**同一个线程**中执行块并等待**它完成来完成的**。

那和像往常一样输入代码有什么区别？

我的意思是必须有一些使用，但我在这里完全失踪了。

我能理解performBlock。这就像在后台执行某些操作一样。即便如此，它也被 Global Central Dyspatch 所取代。

是的，有一个叫做队列的新东西。**好的，如果我们在同一个**线程上做某事，当然一切都是连续完成的。呃……那为什么要排队？

有人愿意解释吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T00:18:54.510

执行块的线程可能与调用 performBlockAndWait 的线程不同。

例如，某些核心数据对象可能只能在主线程中执行。

因此， performBlockAndWait 将在主线程（不同线程）上执行此操作并阻塞当前线程。

也很省钱。核心数据会适当地锁定事物以防止冲突。如果您有多个线程访问同一个托管对象上下文，则需要将其拉起。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-02T20:38:04.580

原因`performBlockAndWait:`是它会获取并持有并发锁来访问 Core Data。您可以将其视为`lock`/`unlock`方法的现代化，但这是未记录的实现细节。

如果您只是直接执行代码，它不会进行正确的并发锁定。这很有趣，原因有很多：

1.  对 Core Data 的请求不会被正确序列化。也就是说，如果您`performBlock:`（不等待）代码最终可能与其他 Core Data 代码同时执行，这可能会导致协调器或持久存储出现问题。
2.  它……好吧，我实际上认为它*不应该*起作用。在大多数情况下似乎在实践中，但是**您在没有必要的锁的情况下运行 Core Data**。可以肯定的是，您至少在这里遇到了无证行为。

所以：

*   **`performBlockAndWait:`设置一个环境，您的块可以通过上下文访问核心数据并等待块完成。**
    *   文档没有说明线程。它实际上并未记录为在当前线程上运行。
    *   *即使现在没有，将来至少在某些*情况下可以更改为转到辅助线程。
    *   再次阅读父点：这就是您应该依赖的。剩下的只是细节。
*   **`performBlock:`设置一个环境，您的块和通过上下文访问核心数据并且不等待块完成。**
    *   文档没有说明线程。它实际上并没有记录为在不同的线程上运行。
    *   虽然不太可能，但操作系统的未来版本可能会决定稍后在当前线程上运行该块。
    *   同样，父点是您要依赖的。其余的是未记录的细节。

我希望这会有所帮助。基本上，当你接触这些电话时，你应该比你更愚蠢。让操作系统做正确的事，尽量不要对它在做什么做出假设。:)

常数对它的`NSPrivateQueueConcurrencyType`工作方式设置了太多期望。

# jquery - 在 IE 中检测具有 PDF 的 iFrame 的 onload 事件

> ID：12741593
> 
> 赞同：3
> 
> 时间：2012-10-05T07:29:18.687
> 
> 标签：jquery, internet-explorer, iframe

我看到这个问题在这里被问了很多次。一些解决方案部分有效。这就是场景。我需要加载一个具有 pdf 的 iframe，使用`<embed>`. 有可能找不到 PDF，我将在 iFrame 中显示错误页面。

加载 iframe 后，我`<embed>`使用

`$('#iframe').contents().find('embed')`

我尝试使用`$('#iframe').load()`. 这适用于 Firefox、Chrome 但不适用于 IE。

也尝试使用`$('#iframe').ready()`. 这在 IE 中有效，但是，

`$('#iframe').contents().find('embed')`不起作用。

有人可以帮忙吗？

**编辑：** IE 版本：7 或 8。遵守同源政策。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:59:42.393

您使用的是哪个版本的 jquery 和 IE？我做了一个如下的小测试设置，它工作得很好......

**主要 HTML**

```
<html>
    <head>
        <title>TEST</title>
        <script src="jquery-1.8.2.min.js" type="text/javascript"></script>
        <script type="text/javascript">
            $('iframe').ready(function(){
                var tag = $('#iframe').contents().find('embed');
                alert(tag.attr('src'));
            });
        </script>
    </head>
    <body>
        <iframe id="iframe" src="pdf.html">
    </body>
</html> 
```

**内嵌框架 HTML**

```
<html>
    <body>
        <embed src="mypdf.pdf"/>
    </body>
</html> 
```

在 Windows 7、IE9 上测试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T14:01:07.623

`$('#iframe').load`或`<iframe onload="">`不起作用。看起来在 IE iframe 中无法访问 PDF 的内容。因此，要跟踪 iFrame 加载，可以使用以下代码。

```
$(window).load(function() { 
    try {
            var s = window.frames[ "iframeName" ].document.body.childNodes[0].innerHTML;
            if(s.indexOf('My error message') > 0) {
                alert('Error');
            } else {
                alert('PDF');
            }
        } catch (err) {
            if($.trim(err.message) != 'Access is denied.') {
                alert('PDF');
            } else {
                alert('Error');
            }
        }
}); 
```

因此，如果发现错误消息“我的错误消息”，则它是自定义设计的错误页面，其中包含该消息，否则它是 PDF。

上述解决方案适用于 IE7 和 IE8。对于其余浏览器，可以检查以下内容 `$('#iframe').contents().find('embed').attr('src')`

不是一个直接的解决方案。但对我有用。

# javascript - 增加 td 的宽度，使内容在单行上

> ID：12741596
> 
> 赞同：4
> 
> 时间：2012-10-05T07:29:26.113
> 
> 标签：javascript, html, css, html-table

我有一个看起来像这样的表：

```
+----------------------+-------------------+
| This text is on the  | This text is on   |
| first column         | the second column |
+----------------------+-------------------+ 
```

我希望它看起来像这样：

```
+----------------------------------+-----------------------------------+
| This text is on the first column | This text is on the second column |
+----------------------------------+-----------------------------------+ 
```

我的桌子比屏幕长，而且有很多行，但这是我想要的功能。是否有一个 CSS 属性可以在不截断文本的情况下实现这一点？如果没有，有人可以向我指出如何执行此操作的 javascript 示例吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:30:31.723

试试这个[`white-space`](https://developer.mozilla.org/en-US/docs/CSS/white-space)属性：

```
td { white-space: nowrap; } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:38:36.173

如果您需要比`white-space: nowrap`使用 pre 标签更广泛的浏览器支持。虽然 css 解决方案更好，但只有`pre`在你真的需要时才使用：

```
<tr>
  <td><pre>This is my non wrapping text</pre></td>
  <td><pre>Some more non wrapping text</pre></td>
</tr> 
```

显然，这仅适用于表格单元格中的简单 html，`pre`而且通常带有它自己的默认样式，您可以在 CSS 中使用以下内容：

```
td pre {
  font-family: inherit;
  font-size: inherit;
  /* ... and so on */
} 
```

使用`inherit`的支持可能会稍微少一些，所以如果可以的话，最好直接定义你想要的样式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T10:46:51.457

尝试：

```
<table>
  <tr>
    <td nowrap>Look ma</td>
  </tr>
</table> 
```

# email - 如何从 MS Access 表单发送邮件

> ID：12741601
> 
> 赞同：0
> 
> 时间：2012-10-05T07:29:42.070
> 
> 标签：email, ms-access

如何从 MS Access Form 发送邮件。?

假设我有带有仪表板表单的 MS Access 应用程序。我已将邮件发送到某些邮件地址，例如在单击“发送通知按钮”时发送通知邮件 如何在 MS 访问中使用 codebuilder 执行此操作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:29:42.070

我发现您可以使用此代码段发送邮件

```
Private Sub send_mail()

   Dim olApp As Object
   Dim objMail As Object

   On Error Resume Next 'Keep going if there is an error
   Set olApp = GetObject(, "Outlook.Application") 'See if Outlook is open

    If Err Then 'Outlook is not open
       Set olApp = CreateObject("Outlook.Application") 'Create a new instance 
    End If
  'Create e-mail item
   Set objMail = olApp.CreateItem(olMailItem)

   With objMail
   'Set body format to HTML
     .BodyFormat = olFormatHTML
     .To = "abc@yourmailaddress.com"
     .Cc ="ccaddress@yourmailaddress.com"
     .Subject = "Subject LIne"
     .HTMLBody = "<htmltags>Body Content</htmltags>"
     .send
   End With

  MsgBox "Operation completed successfully"

 End Sub 
```

来源：[来自 Access Programmer 站点的线程](http://www.access-programmers.co.uk/forums/showthread.php?t=193374)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-01T16:59:49.003

我发现了一些基于我用来从联系人主页打开浏览器的代码的电子邮件代码，工作得很好，而且对我来说更容易理解。要打开网页，请删除 '"mailto:" & '。

```
Private Sub cmdEmailContact_Click()
Dim sWebPath As String
Dim sFullLinkPath As String

If IsNull(Me.ContactEmail) Then
    MsgBox ("Can't create email: no address listed")
    Exit Sub
End If

sWebPath = "mailto:" & Me.ContactEmail

sFullLinkPath = sWebPath
Application.FollowHyperlink sFullLinkPath

End Sub 
```

# capistrano - 如何在 Capistrano 任务中切换用户？

> ID：12741603
> 
> 赞同：1
> 
> 时间：2012-10-05T07:29:46.687
> 
> 标签：capistrano, su

我在下面做了一个小测试任务：

```
set :user, "user"
set :password, "password"
set :root_password, "root password"
set :use_sudo, false
role :srv, "exmaple.com"

task :show_info do
    run "iptables -L", :shell => "su -" do |channel, stream, data|
        channel.send_data("#{root_password}\n")
    end
end 
```

这个服务器不允许我使用`sudo`，所以我必须以普通用户身份登录，然后成为 root。

我也尝试`surun`从[这篇文章](http://www.simonecarletti.com/blog/2010/07/capistrano-executing-a-command-as-root-without-using-sudo/#comment-42918)中创建，虽然它对我没有帮助...... :(

有人可以告诉我在 Capistrano 切换到 root 后运行命令的有希望的方法吗？

提前致谢。

*PS*添加了输出日志：

```
$ cap show_info
  * executing `show_info'
  * executing "iptables -L"
    servers: ["example.com"]
    [example.com] executing command
    command finished in 000ms
failed: "su - -c 'iptables -L'" on example.com 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-18T13:58:22.350

重点是 default_run_options[:pty] = true

尝试这个

```
def surun(command)
  default_run_options[:pty] = true
  password = fetch(:root_password, Capistrano::CLI.password_prompt("root password: "))
  run("su - -c #{command}") do |channel, stream, output|
      channel.send_data("#{password}\n")
  end
end 
```

# python - 如何使用核心 python 语言创建登录屏幕

> ID：12741605
> 
> 赞同：0
> 
> 时间：2012-10-05T07:29:53.430
> 
> 标签：python, web-services, login

我需要使用带有两个字段和一个按钮的 Python 语言开发一个简单的登录页面，例如：

```
Username, Password, Login 
```

我知道有一些漂亮的 Python 框架，比如

```
Django, Grok, WebPy, TurboGears 
```

它支持使用 Python 进行 Web 开发，但我的基本要求是仅包含 3 个屏幕（页面）：

*   第 1 页 - 登录页面（单击登录按钮时重定向到第 2 页）
*   第 2 页 - 以列表形式包含记录的页面，带有添加新记录的选项（单击“添加记录”按钮时重定向到第 3 页）
*   第三页 - 带有字段的页面，保存为第二页列表的记录（输入详细信息并单击提交后）

所以，我决定在**不**使用任何框架的情况下使用 Python 开发上述功能，这样我就可以拥有灵活性并编写自己的代码。

1.  是否可以在不使用框架的情况下使用 Python 创建登录页面？

2.  我没有从事过 Web 服务工作，也不了解 Python 中 Web 开发的基础知识。

3.  如果可能，您能否提供一个示例，说明如何使用 Python 创建登录页面并实现上述功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T08:17:29.987

首先，学习如何在没有框架的情况下做事是件好事，但如果你这样做不是为了教育目的，那么说“我的要求太简单而无法使用框架”很可能是错误的。你所描述的是在光谱的更简单的一端，但我已经可以看到一些你可能在掩饰的复杂性。

无论如何，要实现您的 3 个页面，您将需要：

*   网络服务器
*   2 个静态 HTML 文件
*   用于第二页上的 GET、第一页和第三页的 POST 的 python 处理程序
*   存储（平面文件或数据库）

查看[A Simple Python CGI Server Tutorial](http://pointlessprogramming.wordpress.com/2011/02/13/python-cgi-tutorial-1/)以开始使用，在[TutorialsPoint: Python - CGI Programming](http://www.tutorialspoint.com/python/python_cgi_programming.htm)中有更多详细信息。

您的 HTML 表单只需要拥有`method="POST"`并`action`设置为您从 python 为每个表单提供的 URL。您的 POST 处理程序应该做他们需要做的事情，然后提供 302 重定向。

如果您不了解 Python Web 开发的基础知识，那么您将会忙得不可开交，并且可能应该从单用户平面文件系统开始。也许您现在甚至可以暂时将其存储在内存中。然后，如果/当它停止为你做这件事时，试试 sqlite。配置 Web 服务器也很痛苦，所以如果你能坚持使用`BaseHTTPServer`.

最后，将您的记录加载到另一个 python 端点中，为每个端点制作一些 HTML，用周围的 HTML 将它放在一个大字符串中，然后为那只小狗服务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:32:21.790

你的要求很琐碎。尽管人们可能会建议使用诸如烧瓶、瓶子之类的微框架，但我会说您应该尝试 Django 并查看 Django Admin Panel。我认为您可以使用 Django 管理功能来满足您的要求。

**更新**

看看这个[http://docs.python.org/howto/webservers.html](http://docs.python.org/howto/webservers.html)

没有框架，如果你不想弄乱 CGI，你可以看看[http://webob.org/](http://webob.org/)。

# .net - 如何编译 CIL 代码？

> ID：12741607
> 
> 赞同：3
> 
> 时间：2012-10-05T07:29:58.937
> 
> 标签：.net, assemblies, cil

我有一个用`CIL`. 比方说，一个名为`some_il_code.il`保存它的文件。我想编译它来创建一个托管`exe`程序集。

我该如何做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-05T07:33:03.287

您可以使用[ilasm 工具。](http://msdn.microsoft.com/en-us/library/496e4ekx.aspx)

```
ilasm /exe Your.il /deb=opt
peverify /md /il Your.exe 
```

ilasm 编译它，[peverify](http://msdn.microsoft.com/en-us/library/62bwd2yd.aspx)验证它。

# math - 查找代码的汉明距离

> ID：12741613
> 
> 赞同：6
> 
> 时间：2012-10-05T07:30:27.467
> 
> 标签：math, error-detection, hamming-distance

一个问题问：求以下代码的汉明距离：

```
11111  
10101  
01010  
11100  
00011  
11001 
```

答案是 2。这是如何工作的？我认为汉明距离仅在两个字符串之间？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-05T12:10:54.123

代码的汉明距离定义为任意 2 个代码字之间的最小距离。因此，在您的情况下，找到列出的任何 2 个代码字之间的汉明距离，没有一个小于 2。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-26T19:52:33.600

这里有一些 Python 代码可以自动找到它：

```
code = [
(0,0,0,0,0,0),
(0,0,1,0,0,1),
(0,1,0,0,1,0),
(0,1,1,0,1,1),
(1,0,0,1,0,0),
(1,0,1,1,0,1),
(1,1,0,1,1,0),
(1,1,1,1,1,1)]

def hammingDistance(a, b):
    distance = 0
    for i in xrange(len(a)):
        distance += a[i]^b[i]
    return distance

def minHammingDistance(code):
    minHammingDistance = len(code[0])
    for a in code:
        for b in code:
            if a != b:
                tmp = hammingDistance(a, b)
                if tmp < minHammingDistance:
                    minHammingDistance = tmp
    return minHammingDistance

print("min Hamming distance: %i" % minHammingDistance(code)) 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-08-17T07:35:29.580

我们有一个定理**d_min=weight(sum(all codes))** ; 权重是结果字符串中非零的数量。在您的示例模数中添加所有字符串代码，例如所有字符串的第一列和第二列......然后我们得到代码为**[ 0 0 1 1 0 ]**，其权重为 2（非零数），即汉明码的最小距离

# objective-c - UITableView：如何使它不回收单元格？

> ID：12741616
> 
> 赞同：3
> 
> 时间：2012-10-05T07:30:35.500
> 
> 标签：objective-c, ios, uitableview

有没有办法让表格视图不回收 UITableViewCell 所以在加载所有单元格后，它不会要求单元格（即 tableView:cellForRow ...）？

我知道我可以将表格视图放在滚动视图中并使表格视图与滚动视图具有相同的大小，因此将加载所有单元格，但是我的某些单元格的大小可变，那么我需要更新滚动更改单元格大小后视图的内容大小。

有没有其他方法可以做到这一点？

更新：

抱歉误导，实际上我的意思是如何使它一旦创建就不再删除单元格，所以如果有十个单元格，并且 dequeueReusableCell 不会返回任何单元格并且在十个 tableView:cellForRow: 之后它不会再次调用它.

简单地不使用可重用标识符将使其每次根据需要创建新单元格，即使位置 1 的单元格已创建但随后被重用于位置 2。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-05T08:00:22.513

将重用标识符设置为零。

这比为每个单元格使用不同的标识符要好得多，因为表格现在可以快速处理不需要的单元格。如果它们设置了一些标识符，则无法判断您是否会重用它们。

因此，您不必完全错过重用部分，只针对您不想要的单元格。如果新单元格包含相同的子视图（可能只是布局和配置不同） - 重用可能仍然更好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:34:50.440

只是不要使用 cellIdentifier，或为每个单元格使用不同的标识符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:55:21.987

只是不要`- (id)dequeueReusableCellWithIdentifier:(NSString *)identifier` 在`cellForRowAtIndexPath`方法中使用并每次都创建一个新单元格。另一种方法是为您创建的每个单元格提供不同的单元格标识符。

现在，如果您可以详细说明为什么不希望 tableview 回收其单元格（这是 tableview 的强大功能之一），您可能会找到其他方法来通过重用单元格来实现相同的目的..!!

希望能帮助到你..：）

# jquery - 最后一列标题文本使用数据表垂直顶部对齐

> ID：12741625
> 
> 赞同：0
> 
> 时间：2012-10-05T07:31:35.457
> 
> 标签：jquery, css, json, datatable

我有一个从 json 文件填充的数据表。我的问题是最后一列标题文本垂直对齐顶部（标题列的高度也变成了两倍）。

有没有人有这个解决方案。

这是我的数据表代码。

```
$(document).ready(function() {
    var oTable = $('#genericTable').dataTable( {
        "bProcessing": true,
        "sAjaxSource": "../jsonData/resources/json/" + key + ".json",
        "sPaginationType"   : "full_numbers",
        "bJQueryUI"         : true,
        "bRetrieve"         : true,
        "bPaginate"         : true,
        "bSort"             : true,
        "aaSorting"  : [[ 3, "desc" ]],
        "iDisplayLength"    : 50,
        "bAutoWidth"        : false,
        "aoColumns": [
                      { "sTitle": "Name" },
                      { "sTitle": "Description" },
                      { "sTitle": "Date" },
                      { "sTitle": "Action" }
                    ],
        "fnRowCallback": function( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {
            if(typeof aData[0] != 'string'){
                $('td:eq(0)', nRow).html( '<a href="' + aData[0]['link'] +'" style="color:blue">'  +
                        aData[0]['displayValue'] + '</a>');
            }
            $('td:eq(3)', nRow).html( '<a href="' + aData[3]['link'] +'" style="color:blue">'  +
                    aData[3]['displayValue'] + '</a>');
        }
    }).columnFilter({ sPlaceHolder: "head:after",
        aoColumns: [ { type: "text" },
                     { type: "text" },
                     null
                   ]
    });
}); 
```

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:59:33.533

检查这个**[小提琴](http://jsfiddle.net/PP3tu/)**

```
"aoColumns": [ 
     { type: "text" },
     { type: "text" },
     { type: "text" },
     { "sClass": "top" }
] 
```

css

```
.top {
    vertical-align: top;
 } 
```

# jetty - ServiceMix 起始页显示 404 Not Found

> ID：12741628
> 
> 赞同：0
> 
> 时间：2012-10-05T07:31:46.123
> 
> 标签：jetty, apache-servicemix

ServiceMix 绑定到 8080 和 8181，但起始页面未按预期显示：

我使用的 URL 是“http://localhost:8080”。

回复：

HTTP 错误：404

访问 / 时出现问题。原因：

```
Not Found 
```

由码头提供支持：//

我应该如何访问它？

部署文件夹在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T11:27:57.210

我建议阅读 Apache ServiceMix 快速入门指南 [http://servicemix.apache.org/docs/4.4.x/quickstart/index.html](http://servicemix.apache.org/docs/4.4.x/quickstart/index.html)

在其中一个页面中，它显示了如何安装 web 控制台，以及它在哪个 http url 上运行：[http ://servicemix.apache.org/docs/4.4.x/quickstart/features.html](http://servicemix.apache.org/docs/4.4.x/quickstart/features.html)

# c++ - 在类中初始化 const 数组

> ID：12741629
> 
> 赞同：0
> 
> 时间：2012-10-05T07:31:48.013
> 
> 标签：c++, visual-c++

在 Visual C++ 中，如何在类中初始化常量数组？

这是如何在类之外执行此操作的示例：

```
const char k_colors[] = 
{ 
    'R', 
    'G', 
    'B',
}; 
```

现在我需要如何改变它？（我尝试将静态放在它前面，但没有用）

编辑：你是对的，我应该只使用单个字符。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:39:57.550

> 我尝试将静态放在它前面，但没有用

您不能`static`在类定义中初始化成员数组（或任何成员数组）。在类定义之外执行它：

```
class X
{
    static const char* k_colors[3];
};

const char* X::k_colors[] = { "Red", "Green", "Blue" }; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-05T07:41:47.933

如果您希望它是静态的，则需要在类之外对其进行初始化：

```
class foo
{
public:
    static const char k_colors[3];
    foo() { }

};

const char foo::k_colors[] = {'a', 'b', 'c'}; 
```

此外，您可能希望它是 a `const char *[]`，因为看起来您正在尝试初始化字符串，所以它是：

```
const char *foo::k_colors[] = {"Red", "Green", "Blue"}; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T07:47:28.713

在 C++11 中，您可以使用前面提到的构造函数初始化器列表

```
class A {
    const int arr[2];

    // constructor
    A() 
    : arr ({1, 2}) 
    { }
}; 
```

或者你可以使用静态常量数组

在头文件中：

```
class A {
    static const int a[2];
    // other bits follow
}; 
```

在源文件中（或与上述声明分开的地方）

```
const int A::a[] = { 1, 2 }; 
```

当然，您也可以随时使用`std::vector<int>`和`for`循环。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:34:09.923

我认为您可以通过`constructor initializer`列表进行初始化

参考[这里](https://stackoverflow.com/questions/10694447/c-constructor-initialization-list-for-an-array)

也`char`应该是`char*`

**从上面的链接中提取：**

在 C++11 之前，您需要这样做来默认初始化数组的每个元素：

```
: k_colors() 
```

对于 C++11，更推荐使用统一的初始化语法：

```
: k_colors{ } 
```

这样，您实际上可以将以前无法放入的东西放入数组中：

```
: k_colors{"red","green"} 
```

# javascript - 将javascript日期传递给rails表单

> ID：12741631
> 
> 赞同：0
> 
> 时间：2012-10-05T07:32:03.880
> 
> 标签：javascript, ruby-on-rails-3, forms

在页面顶部，我有一个 JavaScript 日期选择器。所选日期存储在变量中`newDate`

下面我在rails中有一个表格，如下所示：

```
<%= form_for(@checkin) do |f| %>
  ...
<% end %> 
```

我希望上面选择的日期在表单提交时作为参数传递。我想做这样的事情：

```
<%= f.hidden_field :checkedin_at, :value => newDate %> 
```

但我很确定我不能像这样混合客户端和服务器端代码。还有其他方法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:36:19.237

您可以像以前一样创建一个隐藏字段，并从 javascript 中将该隐藏字段的值设置为实际值。

### Erb部分：

```
<%= f.hidden_field :checkedin_at, :value => '', :id => 'date' %> 
```

### Javascript部分：

```
document.getElementById('date').setAttribute('value', newDate); 
```

当您获得新的日期值或提交时，您可以执行 javascript 设置部分，这是您的决定。

### 修改

如果您想`checkedin_at`稍后修改已经保存的变量，那么您需要先阅读它。因此，您可能需要从模型中设置 Erb 中的实际值，并阅读：

```
newDate = document.getElementById('date').getAttribute('value'); 
```

### 边注

使用 javascript 以一种不显眼的方式执行此操作是个好主意。为无法使用普通浏览器的残障人士准备不支持 JavaScript 的浏览器。

因此，一个简单的 HTML 解决方案非常适合带有可解析（不是时间戳）日期字段的可见日期字段。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:47:39.970

提交时，您必须将数据字段数据复制到隐藏字段，然后提交表单。但是如果您想在提交表单时提交选定的日期，最好将日期作为表单的可见和可选字段。

# json - 如何通过 DUSTJS 中的索引显示数组值

> ID：12741632
> 
> 赞同：4
> 
> 时间：2012-10-05T07:32:05.623
> 
> 标签：json, templates, dust.js

我的问题很简单：无论如何通过 DUSTjs 语法中的索引来显示数组值。

示例 JSON：

```
{ names: 
    [
        "Jhon", 
        "Peter", 
        "Curly"
    ] 
} 
```

对于上面的 json 示例，我只想通过*DUST*语法中的索引显示任何名称。

注意：我们能够显示所有名称，但我需要通过其索引将任何名称显示为输出（例如：`names[0]`类似这样或通过任何其他方式）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-28T15:01:53.117

迭代时`$idx`将为您提供索引，例如将它们显示为`<li>`元素：

```
{#names}
<li>
    {names[$idx]}
<li>{~n}
{/names} 
```

否则只是简单

```
{names[1]} 
```

会给你第一个元素

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-01T09:40:01.100

这很容易实现：

`{names[0]}`给你`Jhon`

`{names[2]}`给你`Curly`

等等..希望这会有所帮助。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-05T23:27:38.480

如果你使用linkedindustjs fork，你可以这样做：

看看这里： http: [//linkedin.github.com/dustjs/test/test.html](http://linkedin.github.com/dustjs/test/test.html)。有很多例子。

这是维基：[https ://github.com/linkedin/dustjs/wiki](https://github.com/linkedin/dustjs/wiki)

这是代码仓库：

[https://github.com/linkedin/dustjs](https://github.com/linkedin/dustjs)

# delphi - DBEdit 允许在 DataSource.AutoEdit 为 false 时删除值

> ID：12741650
> 
> 赞同：1
> 
> 时间：2012-10-05T07:33:09.197
> 
> 标签：delphi, datasource

再会！

我有一个查询、数据源和 DBEdit。DataSource.AutoEdit 为假。Query.State 不在 dsEdit 或 dsInsert 中。所以我无法更改 DBEdit 中的值。但是如果我按 Delete 键，DBEdit 中的值会被删除（Query.State 不会改变）。如果焦点离开此 DBEdit，我会收到“数据集未处于编辑或插入模式”。这是一个错误还是其他什么，我该如何解决这个问题？我已经在新的简单项目中对此进行了测试，以确保问题不在我的项目中。

Delphi 版本：Delphi® XE 版本 15.0.3953.35171

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:38:36.973

我认为您可以在数据集未处于编辑状态时将[TDBEdit.ReadOnly设置为 true，并在数据集](http://docwiki.embarcadero.com/Libraries/en/Vcl.DBCtrls.TDBEdit.ReadOnly)[状态更改时对其进行更改](http://docwiki.embarcadero.com/Libraries/en/Data.DB.TDataSource.OnStateChange)。

* * *

Google在 1st 5 链接中显示[错误报告](http://qc.embarcadero.com/wc/qcmain.aspx?d=88917)

# html - 在 html 页面中使用 Ajax 加载 Google Chart Api

> ID：12741654
> 
> 赞同：4
> 
> 时间：2012-10-05T07:33:26.313
> 
> 标签：html, ajax, google-visualization

我正在使用 Ajax 代码加载 html 页面

例如：

```
 $.ajax({
  url: 'Context.html',
  dataType: 'html',
  timeout: 500, 
  success: function(html) {
  $("div#mainbody").html(html);
  }
  }); 
```

Context.html 我在其他一些 html 页面中加载它说 Home.html

但我在 Context.html 中使用谷歌 API 生成饼图

生成饼图的代码，即在 Context.html 中是

```
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
 google.load("visualization", "1", {packages:["corechart"]});
  google.setOnLoadCallback(drawChart);
  function drawChart() {
    var data = google.visualization.arrayToDataTable([
      ['Year', 'Count'],
      ['2005',  70],
      ['2006',  80],
      ['2007',  140],
      ['2008',  220],
      ['2009',  290],
      ['2010',  400],
      ['2011',  500]
    ]);

    var options = {
      title: 'Head Count-(Apple Year)',
      colors:['#129212']              
      };
 var chart = new google.visualization.ColumnChart(document.getElementById('jsf_headcount_bargraph'));
   chart.draw(data, options);
    }
  </script> 
```

当我在 Home.html 页面中加载 Context.html 时，在将 Context.html 加载到 Home.html 后找不到饼图

我尝试给 ALERT(""); 在我为饼图编写代码的脚本中。我收到警报消息，所以 Ajax 正在执行 javascript，但我没有得到相同脚本的饼图。所以我被困在 Home.html 页面中加载饼图

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-24T01:20:14.953

如果我替换代码一切正常

```
google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart); 
```

内联

```
google.load('visualization', '1.0', {'packages':['corechart'], "callback": drawChart}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T09:00:37.377

如果你像这样制作 Context.html

```
<script>
var j = 20;
alert();
</script> 
```

然后我确实收到了警报（使用 $.ajax({success: function() {} }) 等）。

[ 例子 ]

```
function execAjax() {
    $.ajax( {
        url: 'index2.html',
        success: function( html ) {
            $("#content").html( html );

            checkJSvalue();
        },
        error: function() {
            alert( "Error" );
        }
    });
}

function checkJSvalue() {

    alert( j );
} 
```

示例 HTML (index2.html)

```
<div>
content of index2.html
</div>
<script>
var j = 20;
alert();
</script> 
```

我试图做的是将代码直接放在'home.html'中，但我已经遇到了错误。无论如何，您应该颠倒绘图函数的使用和声明顺序。

```
// Bad
// google.setOnLoadCallback(drawChart);
// function drawChart() {}

// Good
function drawChart() {}
google.setOnLoadCallback(drawChart); 
```

除此之外，我已经从 google.jsapi.js 得到了这个错误（在本地复制）

```
Uncaught Error: Container is not defined format+nl,default,corechart.I.js:841 
```

所以那里出了点问题，这不是实际问题的一部分，它被缩小了等等，所以我不会去那里。

希望这有帮助:)

# xcode - 从 xcode 4.5 升级到 4.5.1，错误“Xcode 无法使用所选设备运行。”

> ID：12741655
> 
> 赞同：0
> 
> 时间：2012-10-05T07:33:29.580
> 
> 标签：xcode

该项目在 xcode 4.5 中运行良好，但在升级到 4.5.1 后就损坏了。

连接到设备时的错误消息：“Xcode 无法使用所选设备运行。” “选择具有受支持架构的目标，以便在此设备上运行。”

我对升级感到非常遗憾。而且我检查了架构和捆绑名称，但无法解决问题。

可以恢复到4.5吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-10T10:31:17.790

它只是复制了 Info.plist 文件，只需在文件中使用 1 个 Info.plist 文件，然后重新启动 xcode，它对我来说是固定的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T12:05:05.950

好吧，最后通过创建一个新项目并添加旧文件来解决问题。

# c# - 在 ValueChanged 事件中获取对象的先前值

> ID：12741657
> 
> 赞同：1
> 
> 时间：2012-10-05T07:33:39.807
> 
> 标签：c#, winforms, event-handling, datetimepicker, valuechangelistener

我试图在 DateTimePicker 遇到事件 ValueChanged 时获取它的先前值。我的问题的另一个可能的解决方案是获取用户是单击一个值并选择它还是通过某种方法调用它。我的问题是我需要知道是什么导致了这个事件，并且只有在之前的值不同时才执行一些代码。我已阅读[此](https://stackoverflow.com/questions/11496860/getting-previous-value-of-the-combobox)内容并且不喜欢可能的方式#2 的解决方案。

再说一遍：

```
if user clicks
{
    execute some code
}
else // if method was invoked
{
    do NOT execute
}

OR

if value is NOT the same as previously
{
    execute some code
}
else
{
    do NOT execute
} 
```

其中任何一个都适合我，但我无法在可用属性列表和 EventArgs 中找到先前的值（它是 null :( ）。希望我清楚我想要实现的目标。如果你问我的原因需要这个，这是无关紧要的，我不能编辑其他代码，只有这个方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:40:47.507

顾名思义，ValueChanged-Event 只会在 DateTimePicker 的值发生变化时触发。您不必检查代码中的值是否已更改。

您说 EventArgs 为空，但在未修改的框架中使用时它应该是 EventArgs.Empty。

如果你想用 LastValue 做其他事情，你可以像这样使用自定义的 DateTimePicker。

```
public class LastDateTimePicker : DateTimePicker {
    protected override void OnValueChanged(EventArgs eventargs) {
        base.OnValueChanged(eventargs);

        LastValue = Value;
        IsProgrammaticChange = false;
    }

    public DateTime? LastValue { get; private set; }
    public bool IsProgrammaticChange { get; private set; }

    public new DateTime Value { 
        get { return base.Value; }
        set {
            IsProgrammaticChange = true;
            base.Value = value;
        }
    }
} 
```

**编辑**我已经更改了我的示例以满足您检查程序更改的要求，如您的评论中所述。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:40:58.317

该[`ValueChanged`](http://msdn.microsoft.com/en-us/library/system.windows.forms.datetimepicker.valuechanged.aspx)事件在值更改后在验证后触发。您无法从此事件中获取更改之前的值。

* * *

如果要扩展控件的验证，则可以使用[`Validating`](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.validating.aspx)事件。

* * *

如果您只想在更改后触发一些代码，那么您可以编写代码来存储以前的值，就像这样。

```
private DateTime oldValue = SomeDateTimePicker.Value;

private SomeDateTimePickerValueChanged(object sender, EventArgs e)
{
    if (SomeDateTimePicker.Value != oldValue)
    {
        //Do Something
    }

    this.oldValue = SomeDateTimePicker.Value
} 
```

# xcode - QLPreviewController 查询（Quicklook 框架）

> ID：12741658
> 
> 赞同：3
> 
> 时间：2012-10-05T07:33:40.410
> 
> 标签：xcode, quicklook

我正在尝试使用 QLPreviewController 来预览一些文件。

我有以下问题：

如果我直接访问该文件：

```
#define kStringURLViewControllerPDF @"http://myweb.com/PreviewController_Class.pdf"

fileURL = [NSURL URLWithString:kStringURLViewControllerPDF];
QLPreviewController *previewController = [[QLPreviewController alloc] init];

//settnig the datasource property to self
previewController.dataSource = self;

//pusing the QLPreviewController to the navigation stack
[[self navigationController] pushViewController:previewController animated:YES]; 
```

* * *

然后文件显示正确，所以如果我通过 php 查询访问文件：

```
#define kStringURLViewControllerPDF @"http://myweb.com/ios/download.php?up=698" 
```

然后文件显示为 BAD，带有错误的编码字符。

所以通过我的浏览器“http://myweb.com/ios/download.php?up=698”地址下载然后文件RIGHT。

任何人都可以帮助我吗？任何建议将不胜感激。

进阶谢谢

# jquery - USATODAY 转换效果与 url 更改

> ID：12741671
> 
> 赞同：5
> 
> 时间：2012-10-05T07:34:44.737
> 
> 标签：jquery, html

对不起我的标题，我不知道怎么问这个......如果你去 www.usatoday.com 如果你点击任何链接，就会有一个过渡（很酷的）我想问是否有人知道如何更改网址示例：

您单击 /news/ 并在 /sports/ 上进行转换，因为它是一个滑块，但 url 发生了变化，因为它是另一个页面......

如果有人明白想要问什么，那将非常有帮助。

PD对不起我的英语不好

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T14:05:59.567

我认为 usatoday 网站是完整的 Javascript 应用程序，或者说是一页应用程序。所以没有实际的重新加载。

URl 更改是 HTML5 中提供的新功能，可通过 javascript 更改浏览器*中显示的 URL，而无需重新加载页面。它还将创建一个后退按钮事件，您甚至还有一个可以与之交互的状态对象。

这意味着如果您想向 AJAX 应用程序添加状态，您将不再需要使用 hash-hack，并且搜索引擎也将能够索引您的页面。

```
window.history.pushState("object or string", "Title", "/new-url"); 
```

您可以使用[History.js](https://github.com/browserstate/history.js/)使此功能与 HTML4 浏览器兼容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:46:20.380

它们实际上不是链接，因为它们将浏览器指向一个新的 URL。他们基本上有标题区域（有点静态）和内容区域，它是动画的并通过 Ajax 调用动态加载。

基本上，一切都是在浏览器/客户端使用 Javascript 完成的，并在服务器端使用 Web 服务来返回要显示的实际内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T16:17:23.827

一个月前，我找到了解决方案。它可以通过 History API 来完成。

可以在这里找到一个很好的解释：http: [//diveintohtml5.info/history.html](http://diveintohtml5.info/history.html)

最好的祝福。

# iphone - Xcode Iphone App：如何打印价格浮动

> ID：12741676
> 
> 赞同：2
> 
> 时间：2012-10-05T07:34:57.277
> 
> 标签：iphone, objective-c, xcode

> **可能重复：**
> [Objective-C：如何将字符串格式化为 $ Price](https://stackoverflow.com/questions/1774982/objective-c-how-to-format-string-as-price)

我有一个显示价格的应用程序。价格以这种方式显示：

```
[self makePrice];
itemPrice.text      = [NSString stringWithFormat:@"%i",tempPrice];
itemPrice.textColor = [UIColor whiteColor]; 
```

结果大值显示为：$ 12123041

我需要它是 12,123,041 美元

我该怎么做？

谢谢。感谢您的帮助蒂姆

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:46:55.610

```
NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];

[formatter setNumberStyle:NSNumberFormatterCurrencyStyle];

NSNumber *num = [NSNumber numberWithInt:tempPrice];

NSString *str = [formatter stringFromNumber:num];

itemPrice.text = [NSString stringWithFormat:@"%@",str]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T08:13:42.783

嗨，你可以这样做： -

```
int tempPrice=123456;
NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];

[formatter setNumberStyle:NSNumberFormatterCurrencyStyle];
NSNumber *yourNumber = [NSNumber numberWithInt:tempPrice];
NSString *str = [formatter stringFromNumber:yourNumber];

str = [NSString stringWithFormat:@"%@",str];

NSLog(@"my corrunsy === %@",str); 
```

**输出是**

hiiii === $123,456.00

# nfc - BlackBerry 10 Webworks（HTML5）平台中的 NFC API？

> ID：12741680
> 
> 赞同：3
> 
> 时间：2012-10-05T07:35:21.957
> 
> 标签：nfc, blackberry-10

嗨朋友们，我是 Blackberry 10 开发平台的新手。是否有一些方法可以在 BlackBerry 10 Webworks(HTML5) Platform 中调用 NFC API？

例如阅读标签或写作标签。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T14:07:45.153

BlackBerry WebWorks 平台目前不支持 NFC API。这些将包含在未来的版本中。

有关现有 API 的更多信息，请访问[https://developer.blackberry.com/html5/apis/bb10_index.html](https://developer.blackberry.com/html5/apis/bb10_index.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-13T00:35:08.323

刚刚在 github 上发现了这个示例应用程序，它可以帮助您进一步调查 [https://github.com/blackberry/BB10-WebWorks-Community-Samples/tree/master/nfc](https://github.com/blackberry/BB10-WebWorks-Community-Samples/tree/master/nfc)

# html - IE7+ 链接周围的虚线轮廓

> ID：12741682
> 
> 赞同：1
> 
> 时间：2012-10-05T07:35:29.597
> 
> 标签：html, css, hyperlink, outline

我无法摆脱 IE7+ 中的虚线轮廓。我已经添加`outline:none; border:none`但它仍然无法在任何版本的 IE 中工作。

我已经创建了小提琴，当我在 IE 中运行小提琴时代时它工作正常，但是当我在 HTML 页面中粘贴相同的代码时它就不起作用了。这是小提琴[http://jsfiddle.net/6Ayek/4/](http://jsfiddle.net/6Ayek/4/)

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Photos Tab</title>
<style type="text/css">
/* Generated by F12 developer tools. This might not be an accurate representation of the original source file */
#contentContainer { BACKGROUND-IMAGE: url(/s/store/-1/common/gb/Media-Console/popup_bg.jpg); WIDTH: 636px; HEIGHT: 460px; OVERFLOW: auto}
#leftNavigation {   PADDING-LEFT: 15px; WIDTH: 125px; PADDING-RIGHT: 10px; FONT-FAMILY: Arial, Helvetica, sans-serif; FLOAT: left; FONT-SIZE: 12px}
#leftNavigation ul {PADDING-BOTTOM: 0px; LIST-STYLE-TYPE: none; MARGIN: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px; PADDING-TOP: 0px}
#leftNavigation ul li { WIDTH: 125px; DISPLAY: block;  outline:none !important;}
#leftNavigation ul li a {LINE-HEIGHT: 30px;  DISPLAY: block; FONT-FAMILY: Arial, Helvetica, sans-serif; COLOR: #2c2f30; FONT-SIZE: 12px;; TEXT-DECORATION: none; outline:none !important;}
#leftNavigation ul li a:visited {   COLOR: #2c2f30; outline:none !important; border:none}
#leftNavigation ul li a:hover { COLOR: #000000;  outline:none !important; border:none}
.currentSelection { BORDER-BOTTOM: #0076a3 1px solid; BORDER-LEFT: #0076a3 1px solid; LINE-HEIGHT: 25px; OUTLINE-STYLE: none; OUTLINE-COLOR: invert; PADDING-LEFT: 10px; OUTLINE-WIDTH: medium; DISPLAY: inline-block; BACKGROUND: #0095cd; BORDER-TOP: #0076a3 1px solid; FONT-WEIGHT: bold; BORDER-RIGHT: #0076a3 1px solid; TEXT-DECORATION: none; BEHAVIOR: url('/s/store/-1/common/gb/Media-Console/PIE.htc'); -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px; 
}   
</style>
 </head>    
<body>
<div id="leftNavigation">
    <ul>
    <li><a href="#" style="color: white; " class="currentSelection">test</a></li>
    <li><a href="#" style="color: black; ">test 2</a></li>
    <li><a href="#" style="color: black; ">test 2</a></li>
    <li><a href="#" style="color: black; ">test 2</a></li>
    <li><a href="#" style="color: black; ">test 2</a></li>
    </ul>
</div>
</body> 
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:37:47.310

为此，您只需要一个简短的 CSS 规则：

```
a { outline: none } 
```

无法回答为什么它在您的 HTML 页面中不起作用，但这是删除轮廓的正确 CSS 代码。

我应该提一下，这种技术对可访问性不是很友好，因为虚线边框对于通过键盘或其他工具导航的人很有帮助。更好的方法是这个 jQuery 片段：

```
(function($) {
    $(document).on('mousedown mouseup', 'a', function(e) {
        if ('hideFocus' in this) { // IE
            this.hideFocus = e.type == 'mousedown';
        }
        this.blur();
    });
}(jQuery)); 
```

**更新**

我误读了`IE7`您问题的一部分...您可以尝试添加：

```
a:focus{
    noFocusLine: expression(this.onFocus=this.blur());
} 
```

但最好的解决方案仍然是 jQuery/javascript 方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:55:41.847

[在 IE 8](http://msdn.microsoft.com/library/cc304063.aspx)`outline`中添加了对该属性的支持，因此该技术在 IE 7 上不起作用。在较新的版本上，它可以；您的代码在 IE 9 上测试时，可以在 IE 9 模式和 IE 8 模式下运行。（将“作品”定义为“产生所需的可用性问题”。）

要在 IE 7 上达到预期的效果，您可以使用专有的 HTML 属性[`hidefocus`](http://msdn.microsoft.com/en-us/library/ms533783%28v=vs.85%29.aspx)，例如

```
<li><a href="#" style="color: black; " hidefocus>test 2</a></li> 
```

`hideFocus`或者在 JavaScript 中设置相应的 DOM 属性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:57:56.263

如果你可以在你的页面上使用 javascript，试试这个，在 IE9 和 FF15 上为我工作：

```
 <script type="text/javascript">

        if (document.documentElement.attachEvent)
            document.documentElement.attachEvent('onmousedown', function(){event.srcElement.hideFocus=true});

    </script> 
```

# events - VB6 用户控件引发事件，如何在 VBSCRIPT 中捕获事件？

> ID：12741684
> 
> 赞同：1
> 
> 时间：2012-10-05T07:35:36.247
> 
> 标签：events, user-controls, vb6, vbscript, activex

我试图在 html 页面的 VBSCRIPT 中捕获一个事件，但我无法使其工作。我一定是错过了一步。

这是我的用户控件（VB6）的代码：

```
Public Event sendText(ByVal Text As String)

Private Sub Command1_Click()
    RaiseEvent sendText(Text1.Text)
End Sub 
```

这是我的网页（HTML）的代码：

```
<form>

<OBJECT name="ActiveX" id="ActiveX" classid="clsid:..."></OBJECT>
<script language="VBScript">

Sub ActiveX_sendText(Text)
 Msgbox("aaa" & Text)
End Sub

</script>
</form> 
```

单击 Command1 按钮时，用户控件中会引发事件，但我从未进入 VBSCRIPT 函数。

我正在使用 IE8/IE8 标准。

有什么线索吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:42:27.033

这是 Internet Explorer 中安全规则配置的问题。启用未签名的 ActiveX 后，问题得到解决。

# python - 使用 PySerial 进行双向串口通信

> ID：12741687
> 
> 赞同：2
> 
> 时间：2012-10-05T07:35:54.420
> 
> 标签：python, serial-port, pyserial

我正在尝试开发一个应用程序来通过串行端口与 pyserial 通信两台计算机。

基本思想是双向发送多个命令。

```
Computer A ---- INI ----> Computer B
Computer A <--- OKINI --- Computer B
Computer A ---- OK -----> Computer B 
```

计算机 A 的代码是：

```
s = serial.Serial(port='/dev/ttyUSB0', baudrate=19200, bytesize=8, parity='N', stopbits=1, timeout=None, xonxoff=0, rtscts=0)
s.flushOutput()
s.write("*INI,COMPUTER_A*")
s.flushInput()  
data = s.read(18)
if data:
    print data
    s.flushOutput()
    s.write("*OK,COMPUTER_A*")
s.close() 
```

计算机 B 的代码是：

```
s = serial.Serial(port='/dev/ttyUSB0', baudrate=19200, bytesize=8, parity='N', stopbits=1, timeout=None, xonxoff=0, rtscts=0)
s.flushInput()  
data = s.read(16)
if data:
    print data
    s.flushOutput()
    s.write("*OKINI,COMPUTER_B*")
    s.flushInput()
    data2 = s.read(15)
    if data2:
        print data2
s.close() 
```

两种代码有时都能正常工作。有时执行会输出垃圾。我不知道是什么问题。使用 PySerial 从串行端口发送和写入我做错了什么？

在串口中读写是否更好实现一个线程程序用一个线程进行监听和读取，一个用于监听，另一个用于写？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T17:23:32.633

我认为您正在设置所有冲洗的比赛条件。例如，如果对方在您调用之前开始响应，则在读取之前刷新输入会杀死传入的数据`read`。你真的不需要所有这些围绕你的读写的刷新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T21:57:30.397

似乎您正在设置数据包冲突，这可能是您的输出中“垃圾”的来源。

您需要设置某种计时协议，或者通过在两台计算机上同步计数，或者通过建立突发通信，每台计算机踢出它的消息然后嗅探数据包。

# antlrworks - 使用 Antlworks 调试语法

> ID：12741692
> 
> 赞同：1
> 
> 时间：2012-10-05T07:36:41.503
> 
> 标签：antlrworks

我最近发现了 AntlrWorks，我正在尝试调试我的语法（用 Xtext、Eclipse 和 MWE 编辑）。

我配置了 javac 路径和类路径，但 antlrworks 仍然在抱怨：

“找不到符号：DebugAbstractInternalAntlrParser 类”

有人已经遇到过这个问题吗？

谢谢

# c# - 任何连接如 x = y + x 的运算符

> ID：12741696
> 
> 赞同：0
> 
> 时间：2012-10-05T07:37:18.410
> 
> 标签：c#, operators

我们知道`+=`运营商会这样做

```
x += y 
```

相当于

```
x = x + y 
```

但是有没有这样的运营商

```
x = y + x 
```

整数`x + y = y + x`

没关系。但我想要字符串连接。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:59:55.993

达到相同结果的另一种方法是

```
 x.Insert(0, y); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:55:23.563

您尝试执行的操作没有运算符，但您也可以使用扩展方法：

```
public static string AddBefore(this string value, string before)
{
    return before + value;
} 
```

然后显然这样称呼它：

```
x = x.AddBefore(y); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T08:03:01.443

我建议你应该全力以赴地打字，`x = y + x`因为它是清晰且易于维护的代码。如果您重载具有神秘含义的运算符，那么代码就会变得更加难以理解。

+= 具有明确且定义明确的含义，结果反映了参数的顺序（`x += y`使字符串保持 x, y 的顺序）。拥有这样的语句`x ?= y`会产生 y,x 恕我直言，这将是一个非常令人困惑的构造。

您可以编写一个像 Prepend() 这样的扩展方法来使含义更清晰，但这将比原始表达式输入更多，因此可能毫无意义。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:40:07.333

不，没有。你可以使用`+=`，结果应该是一样的，因为`x + y == y + x`.

对于字符串，请考虑`Concat`、`Format`方法或`StringBuilder`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T08:00:41.410

使用 StringBuilder.Insert 方法（Int32，布尔值）

[http://msdn.microsoft.com/en-us/library/0xzfkkwa.aspx](http://msdn.microsoft.com/en-us/library/0xzfkkwa.aspx)

# google-chrome-extension - 在 Chrome 扩展中使用 LESS

> ID：12741697
> 
> 赞同：2
> 
> 时间：2012-10-05T07:37:28.380
> 
> 标签：google-chrome-extension, less

我试图在通过 Chrome 扩展程序 (chrome.tabs.create) 创建的选项卡中使用 LESS，但我收到了一个跨域错误（“NETWORK_ERR: XMLHttpRequest Exception 101”），指的是 LESS JavaScript 文件。我不清楚如何设置权限。将 LESS JavaScript 文件添加到“web_accessible_resources”似乎没有帮助。所有其他文件，例如 css 和 js 文件都可以正常加载。看来我只从较少的来源中收到此错误。有任何想法吗？

为了进一步解释我的设置，LESS JavaScript 文件和 .less 文件被加载到一个 HTML 文件中，如下所示：

```
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet/less" href="static/css/main.less">
    <script src="/static/js/jquery-1.8.2.min.js"></script>
</head>
<body>
Whatever... 
</body>
</html> 
```

这个 html 文件在 background.js 中加载，如下所示：

```
chrome.browserAction.onClicked.addListener(function() {
    chrome.tabs.create({url: 'mypage.html'})
}); 
```

清单文件具有“选项卡”和“所有 url”的权限，并加载 background.js。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-04T10:53:43.503

我不确定您在哪里包含客户端 less.js 编译器。另请参阅： http: [//lesscss.org/#client-side-usage](http://lesscss.org/#client-side-usage)。Less.js 是一个客户端 javascript。似乎 less.js 从您的 main.less 文件之外的其他 URL（域）加载。这可以通过启用 CORS 来解决，请参阅：[http](http://enable-cors.org/) ://enable-cors.org/ 。在已安装 home.less 的域上，服务器应发送 Access-Control-Allow-Origin: * 标头。

less.js 使用支持大多数现代浏览器的 CORS 的 XMLHttpRequests 加载 less 文件，请参见[http://caniuse.com/#search=cors](http://caniuse.com/#search=cors)。更多详细信息，[请访问 http://www.html5rocks.com/en/tutorials/cors/](http://www.html5rocks.com/en/tutorials/cors/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-17T09:47:23.063

For development use less.js from local folder.

```
<link rel="stylesheet/less" type="text/css" href="styles.less" />
<script src="less.js" type="text/javascript"></script> 
```

for release use any less compiler like lessc.

# javascript - placeholder-not-working-for-internet-explorer 如果输入类型是密码，仍然显示 *********

> ID：12741700
> 
> 赞同：1
> 
> 时间：2012-10-05T07:38:04.343
> 
> 标签：javascript

我在[Placeholder not working for Internet Explorer得到 1 个答案](https://stackoverflow.com/questions/8628522/placeholder-not-working-for-internet-explorer)

我正在使用这段代码，

```
window.onload = function() { 
    var arrInputs = document.getElementsByTagName("input"); 
    for (var i = 0; i < arrInputs.length; i++) { 
        var curInput = arrInputs[i]; 
        if (!curInput.type || curInput.type == "" || curInput.type == "text"|||| curInput.type == "password") 
            HandlePlaceholder(curInput); 
    } 
}; 

function HandlePlaceholder(oTextbox) { 
    if (typeof oTextbox.placeholder == "undefined") { 
        var curPlaceholder = oTextbox.getAttribute("placeholder"); 
        if (curPlaceholder && curPlaceholder.length > 0) { 
            oTextbox.value = curPlaceholder; 
            oTextbox.setAttribute("old_color", oTextbox.style.color); 
            oTextbox.style.color = "#c0c0c0"; 
            oTextbox.onfocus = function() { 
                this.style.color = this.getAttribute("old_color"); 
                if (this.value === curPlaceholder) 
                    this.value = ""; 
            }; 
            oTextbox.onblur = function() { 
                if (this.value === "") { 
                    this.style.color = "#c0c0c0"; 
                    this.value = curPlaceholder; 
                } 
            }; 
        } 
    } 
} 
```

太好了，但是现在我遇到了一个问题，它不是显示“密码”而是显示 ******** 特殊符号，有什么办法可以解决这个问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:43:46.100

解决它的唯一方法是使用另一个元素（隐藏原始元素，或在顶部放置一个新元素）。不幸的是，Internet Explorer 不允许您更改元素的`type`属性。`input`这段代码（来自我的`placeholder`polyfill，[Placeholders.js](https://github.com/jamesallardice/Placeholders.js)）演示了这个问题：

```
if (element.type === "password") {
    // The `type` property is read-only in IE < 9, so in those cases we just move on. The placeholder will be displayed masked
    try {
        element.type = "text";
        element.setAttribute("data-placeholdertype", "password");
    } catch (e) {}
} 
```

这意味着我们可以很好地支持除 IE 之外的所有浏览器。除非您想创建一个新元素（这不是我想在 polyfill 中采用的路线），否则恐怕您将不得不忍受它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:40:07.743

IE 9 及更低版本不支持占位符参数：http: [//caniuse.com/#feat=input-placeholder](http://caniuse.com/#feat=input-placeholder)

（我想这就是你写自己的东西的原因）

唯一的选择是在显示占位符时将其更改为`type="password"`，`type="text"`并在删除占位符时将其更改回。

您还可以使用一长串[polyfill](https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills)（部分：Web 表单：输入占位符）

# iphone - 如何为 iphone 4 和 iphone 5 设置按钮的框架

> ID：12741701
> 
> 赞同：2
> 
> 时间：2012-10-05T07:38:06.637
> 
> 标签：iphone, ios-simulator, ios6

我在 xcode 4.5 中开发 iphone 应用程序，视图大小为 320*568，所以我在该视图中设置了我的按钮，但我在我的 iphone 4 中运行我的应用程序，它的屏幕大小为 320*480。那么如何在 iphone 4 和 iphone 5 中为这两个设备设置按钮框架。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:57:40.770

对于按钮和框架集及其方向支持，请参阅以下链接。

[参考链接。](http://www.raywenderlich.com/20881/beginning-auto-layout-part-1-of-2)

iPhone 旋转、视图调整大小和布局处理

[参考链接。](http://www.techotopia.com/index.php/IOS_5_iPhone_Rotation,_View_Resizing_and_Layout_Handling)

愿这对你有所帮助。

# c++ - c++ unsigned char 内存拷贝

> ID：12741704
> 
> 赞同：-2
> 
> 时间：2012-10-05T07:38:22.843
> 
> 标签：c++, arrays, unsigned-char

我需要将一个无符号字符数组从一种方法传递给另一种方法，我尝试使用以下代码：

```
{
     unsigned char *lpBuffer = new unsigned char[182];
 ReceiveSystemState(lpBuffer);

}

BOOL ReceiveSystemState(unsigned char *lpBuffer)
  {
      unsigned char strRecvBuffer[182] = { 0 };
      //strRecvBuffer construction

      memcpy(lpBuffer, strRecvBuffer, sizeof(strRecvBuffer));

      return TRUE;
 } 
```

这 3 种方法（在 中使用`ReceiveSystemState`）都没有按我的预期工作。在使用它们中的每一个之后，它被复制的只是第一个字符`strRecvBuffer`，仅此而已。从`strRecvBuffer`元素到元素都有空字符，但我需要它们，因为该字符串是来自硬件设备的消息，并且该消息将使用协议进行分析。我在这里想念什么？我初始化`lpBuffer`错误吗？

编辑：我使用了一种简单的`memcpy`方法来完成这项工作。结果还是一样：它被复制的只是`strRecvBuffer`.

EDIT2：工作代码：

```
{
     unsigned char *lpBuffer = new unsigned char[182];
     ReceiveSystemState(lpBuffer);
     for (int i = 0; i < 144; i++)
     {
         memcpy(&c_dateKG[i], lpBuffer + i * sizeof(unsigned char), sizeof(unsigned char) );
     }

}    
  BOOL ReceiveSystemState(unsigned char *lpBuffer)
  {
     unsigned char strRecvBuffer[182] = { 0 };
     //strRecvBuffer construction

     memcpy(lpBuffer, strRecvBuffer, sizeof(strRecvBuffer));

     return TRUE;
  } 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-05T07:52:06.827

你的代码绝对是垃圾。一些注意事项：

**使用`sizeof`**：

使用`sizeof(static_massive_name);`或`count_of_arr_elements * sizeof(arr_type);`

例如：

```
unsigned char src[255];    
unsigned char dst[255];

// fill src with random data
for (int i = 0; i < 255; ++i) {
    src[i] = static_cast<unsigned char> (rand() % 255);
}

memcpy(dst, src, sizeof(dst));

// now dst will have copied values from src (random numbers) 
```

**更新**：

完整的测试源代码：

```
#include <iostream>
#include <string.h>
#include <time.h>
#include <stdlib.h>

using namespace std;

void print(unsigned char* arr, size_t size) {
    for (size_t i = 0; i < size; ++i) { 
        // see type casting (to int)!!!
        cout << "arr[" << i << "] = " << (int)arr[i]<< endl;
    }
}

int main() {
    srand(time(0));

    // unsigned char type hold values from 0 to 255
    unsigned char src[15];
    unsigned char dst[15];

    for (int i = 0; i < 15; ++i) {
        src[i] = rand() % 255;
    }

    memcpy(dst, src, sizeof(dst));

    print(src, 15);
    print(dst, 15);

    return 0;
} 
```

结果：

```
arr[0] = 34
arr[1] = 80
arr[2] = 183
arr[3] = 112
arr[4] = 18
arr[5] = 120
arr[6] = 183
arr[7] = 0
arr[8] = 0
arr[9] = 0
arr[10] = 0
arr[11] = 57
arr[12] = 137
arr[13] = 4
arr[14] = 8
arr[0] = 34
arr[1] = 80
arr[2] = 183
arr[3] = 112
arr[4] = 18
arr[5] = 120
arr[6] = 183
arr[7] = 0
arr[8] = 0
arr[9] = 0
arr[10] = 0
arr[11] = 57
arr[12] = 137
arr[13] = 4
arr[14] = 8 
```

# shell - '$?' 是什么意思？在shell脚本中是什么意思？

> ID：12741710
> 
> 赞同：15
> 
> 时间：2012-10-05T07:38:46.903
> 
> 标签：shell, unix

我遇到了一个 shell 脚本，其中包含如下语句，

```
if [ $val -eq $? ] 
```

这里是什么`$?`意思？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2014-11-11T13:59:17.407

我发现该[链接](http://www.tutorialspoint.com/unix/unix-special-variables.htm)非常有用，并且是很好的答案。它包括用样本清楚地表达。

![在此处输入图像描述](../Images/37d2ddfc73261af1c431fa26dd3f379b.png)

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2012-10-05T07:43:10.267

```
$? 
```

返回最后完成的命令的状态。状态 0 告诉您一切正常。

此外，`$`符号是一个特殊符号 - 在这种情况下，`$val`提取变量持有的值`val`

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2013-06-09T14:59:54.410

`$#`= 参数数量。答案是`3`。

`$@`= 传递了什么参数。答案是`1 2 3`。

`$?`= 最后一个命令成功。答案是`0`“是”。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-05T07:43:50.870

> > $ 是什么意思？是这里的意思吗？

美元？是退出状态的最后结果... 0 默认为“成功”

```
bash# ls *.*
bash# echo $? 
bash# 0
bash# ls /tmp/not/existing/
bash# echo $?
bash# 2 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-05T07:42:08.063

这是上一个命令的退出状态的值。这是`0`在成功的情况下。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2016-03-14T11:10:20.937

`ls *.*`或`ls`会产生相同的结果。意思是在当前目录中显示零个或多个具有任何扩展名的文件。

`echo $?`将显示退出状态。如果最后一个命令至少显示一个文件，则退出状态为零（成功）。

# c# - 如何在组合框中访问 Datatemplate 内的文本块？

> ID：12741713
> 
> 赞同：1
> 
> 时间：2012-10-05T07:39:13.097
> 
> 标签：c#, silverlight, binding, combobox, datatemplate

我正在尝试通过代码绑定 ComboBox 内的 TextBlock。我能够成功绑定文本块，但由于某些原因 TextBlock 不显示文本值。

我有检查所选值的机制，并且我可以毫无问题地获得所选值。

总而言之，我的绑定工作正常，但我错过了一些东西，因此 textblock 没有显示与之绑定的文本。

这是我用于绑定的代码：其中“lObjTextBlock”是 ComboBox 内的 TextBlock。

```
TextBlock lObjTextBlock = (TextBlock)ComboBox.ItemTemplate.LoadContent();

 Binding lObjBinding = new Binding();

lObjBinding.Path = new PropertyPath("[" + lObjMap.PropertyName + "]");

lObjTextBlock.SetBinding(TextBlock.TextProperty, lObjBinding); 
```

这是 TextBlock 的 XAML：

```
<my:HComboBox Name="cmbRefDoctor">
<my:HComboBox.ItemTemplate>
    <DataTemplate>
                <TextBlock x:Name="txtRefDoctorName" />
    </DataTemplate>
</my:HComboBox.ItemTemplate>
</my:HComboBox> 
```

再一次：我的问题是 TextBlock 没有显示任何 Text 虽然正在设置值。

很想得到所有可能的建议。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T08:19:48.000

这是绑定数据模板内部控件的一种方法

```
this.DataContext = Person;

Binding binding = new Binding();
binding.Source = ob;
DataTemplate dtemp = (DataTemplate)Resources["PointTemp"];
Border bdr = dtemp.LoadContent() as Border;
TextBlock tblk = bdr.Child as TextBlock;
tblk.SetBinding(TextBlock.TextProperty, binding); 
```

在这里，我使用 ob 作为双重集合，通过绑定源分配给 textproperty

```
<UserControl.Resources>
    <DataTemplate x:Key="PointTemp">
        <Border Margin="0,23,0,0" Background="Transparent">
            <TextBlock Text="{Binding}"  Foreground="White" FontSize="28" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center"/>
        </Border>
    </DataTemplate>
</UserControl.Resources> 
```

你可以分配，

如果是组合框或列表框

这里Person是类名，或者在combobox itemsource中设置类名

# javascript - 如何使用cheerio 访问元OpenGraph？

> ID：12741715
> 
> 赞同：6
> 
> 时间：2012-10-05T07:39:23.970
> 
> 标签：javascript, node.js

我正在尝试使用cheerio 进行一些html 抓取（不能使用jsdon 我有依赖问题：contextify ecc 的错误。）但我无法获得元“og：type”，“og：title” ...

```
request(Url, function(error, response, body) {
var $ = cheerio.load(body);
    $('meta').each(function() {
        console.log(  $('meta').attr('content'));
    });
}); 
```

我只得到第一个元文本/html；charset=UTF-8"。你知道如何访问 og 吗？？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2015-12-16T13:42:37.603

如果您知道要获得哪个属性，则更简单的解决方案是：

```
var $ = cheerio.load(html);
var result = $('meta[property="og:title"]').attr('content'); 
```

（假设您想获得标题。）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-12-23T21:56:14.507

扩展赫尔曼的回答：

我发现[节点爬虫](https://github.com/sylvinus/node-crawler)+cheerio 的组合更易于管理。下面的代码可以更轻松地跟踪您正在搜索的标签属性，并且可以轻松调整以包含其他标签。我是这样做的：

```
 var crawler = require('crawler'),
  url = require('url');

  var c = new crawler({
    maxConnections:10,
    callback:function(error,response,$) {     
      var data = {
        'og:type':null,
        'og:title':null,
        'og:description':null,
        'og:image':null,
        'twitter:title':null,
        'twitter:image':null,
        'twitter:description':null,
        'twitter:site':null,
        'twitter:creator':null,
      }
      var meta = $('meta');
      var keys = Object.keys(meta);
      for (var s in data) {
        keys.forEach(function(key) {
          if ( meta[key].attribs
            && meta[key].attribs.property 
            && meta[key].attribs.property === s) {
              data[s] = meta[key].attribs.content;
          }
        }) 
      }
      console.log(data);
    }
  })
  c.queue( [ YOUR URL HERE ] ) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-07T12:53:08.577

您必须使用对象的键`$('meta)`并检查所需的键是否存在，才能获得结果。

试试这个代码：

```
var cheerio = require('cheerio')
var request = require('request')

request(Url, function(error, response, body) {
  var $ = cheerio.load(body);

  var meta = $('meta')
  var keys = Object.keys(meta)

  var ogType;
  var ogTitle;

  keys.forEach(function(key){
    if (  meta[key].attribs
       && meta[key].attribs.property
       && meta[key].attribs.property === 'og:type') {
      ogType = meta[key].attribs.content;
    }
  });

  keys.forEach(function(key){
    if (  meta[key].attribs
       && meta[key].attribs.property
       && meta[key].attribs.property === 'og:title') {
      ogTitle = meta[key].attribs.content;
    }
  });

  console.log(ogType);
  console.log(ogTitle);
}); 
```

# iphone - iOS - 为 iOS 构建 VLC - 请安装所需的 SDK，或手动设置 SDKROOT

> ID：12741716
> 
> 赞同：3
> 
> 时间：2012-10-05T07:39:25.123
> 
> 标签：iphone, ios6, vlc, ios5.1, libvlc

我已将我的 xcode 升级到 4.5，现在我正在**为 iOS 构建 VLC，**并反驳说找不到 SDK 版本 5.1。我已经在我的 xcode 4.5 中完全安装了所有 sdk

```
Mac-Muhammad-Umair-Mirza:vlc muhammad.umair$ ./extras/package/ios/build.sh
[info] Building libvlc for the iOS
[info] Using armv7 with SDK version 5.1
usage: dirname path
SDKROOT not specified, assuming /Volumes/Xcode/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS5.1.sdk
*** /Volumes/Xcode/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS5.1.sdk does not exist, please install required SDK, or set SDKROOT manually. *** 
```

请帮助我找到解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T14:55:28.510

请执行下列操作：

```
export /Volumes/Xcode/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS*.*.sdk 
```

其中“*.*”是您当前的 SDK（例如 6.1）。

# php - 使用 PHP sdk 从 Quickbooks 中的销售订单中获取所有项目

> ID：12741725
> 
> 赞同：0
> 
> 时间：2012-10-05T07:39:51.670
> 
> 标签：php, quickbooks

我使用 PHP sdk 通过 Web 连接器连接到 QuickBooks。

我能够编写 QBXML 请求以从 QuickBooks 获取所有销售订单。

以下是我的 QBXML 请求。

```
 <?qbxml version="11.0"?>

    <QBXML>

        <QBXMLMsgsRq onError="stopOnError">

            <SalesOrderQueryRq  iterator="Start"  >

                <MaxReturned>100</MaxReturned>

            </SalesOrderQueryRq>    

        </QBXMLMsgsRq>

    </QBXML> 
```

它返回销售订单的所有详细信息，但不返回该销售订单中的项目。
我想以特定销售订单的价格获取所有商品。
那么有人可以告诉我我该怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T02:36:45.500

如果您参考[QuickBooks OSR 文档](http://developer.intuit.com/qbsdk-current/common/newosr/index.html)，您会注意到 SalesOrderQueryRq 请求支持名为：

```
<IncludeLineItems>BOOLTYPE</IncludeLineItems> 
```

记录如下（强调我的）：

> 此过滤器**允许您**从查询响应中省略行项目以获得更小的结果。**默认值为 false，因此默认省略行项目。**如果您不介意获得更大的结果，请将 IncludeLineItems 设置为 true 以在响应中包含行项目。

太好了...如果您将其设置为 TRUE：

```
<?qbxml version="11.0"?>
<QBXML>
    <QBXMLMsgsRq onError="stopOnError">
        <SalesOrderQueryRq iterator="Start">
            <MaxReturned>100</MaxReturned>
            <IncludeLineItems>true</IncludeLineItems>
        </SalesOrderQueryRq>    
    </QBXMLMsgsRq>
</QBXML> 
```

然后，您将连同核心销售订单数据一起取回行项目。

# jquery - 可排序中的 Jquery 自动滚动问题

> ID：12741727
> 
> 赞同：1
> 
> 时间：2012-10-05T07:40:02.050
> 
> 标签：jquery, jquery-ui-sortable, autoscroll

在我们的表单构建器中，我们使用拖放和排序。

在可排序容器中添加少量元素后，在拖放时，容器需要在放置前自动滚动。 ![在此处输入图像描述](../Images/2a770529842af31251541bf1506f7aa7.png)

# c# - 如何在 C# 中从其他应用程序创建应用程序的快捷方式？

> ID：12741731
> 
> 赞同：0
> 
> 时间：2012-10-05T07:40:06.600
> 
> 标签：c#

我正在尝试使用 c# 制作一个窗口的表单应用程序，该应用程序可以将其他应用程序的快捷方式复制到一个特殊的文件夹。我使用此代码复制文件但不能制作快捷方式...

```
system.io.file.copy("what","where"); 
```

我用这个，但它不起作用

```
 System.IO.DirectoryInfo dir = new System.IO.DirectoryInfo(".\\calc.exe");
        string destination = @"C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\Startup";
        System.IO.FileInfo[] files = dir.GetFiles("*.exe");

        foreach (var shorcut in files)
        {
            System.IO.File.Move(shorcut.FullName, destination);
        } 
```

最简单的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:43:33.440

以下代码允许您读取 lnk 文件

这没有多大意义，没有简单的方法来检查它。我认为最好的方法是按照应该读取的方式读取 .lnk 文件。您可以使用 COM 来执行此操作，ShellLinkObject 类实现了 IShellLink 接口。开始使用 Project + Add Reference，Browse 选项卡并导航到 c:\windows\system32\shell32.dll。这会生成一个互操作库。编写如下代码：

```
public static string GetLnkTarget(string lnkPath) {
    var shl = new Shell32.Shell();         // Move this to class scope
    lnkPath = System.IO.Path.GetFullPath(lnkPath);
    var dir = shl.NameSpace(System.IO.Path.GetDirectoryName(lnkPath));
    var itm = dir.Items().Item(System.IO.Path.GetFileName(lnkPath));
    var lnk = (Shell32.ShellLinkObject)itm.GetLink;
    return lnk.Target.Path;
} 
```

然后，您只需使用以下代码将其保存在您自己的文件夹中

```
First include a reference to C:\Windows\System32\wshom.ocx

Second, include the following using statement :-

using IWshRuntimeLibrary;

Third, Here is the code :-

// This creates a Folder Shortcut
IWshShell wsh = new WshShellClass();
IWshShortcut shortcut = (IWshShortcut) wsh.CreateShortcut (shortcutpathfilename);
shortcut.TargetPath = targetdir;
shortcut.Save();
shortcutpathfilename is a path & filename of the .lnk file.
targetdir is the directory the link points to. 
```

# objective-c - 如何使图像视图进行转场

> ID：12741732
> 
> 赞同：2
> 
> 时间：2012-10-05T07:40:10.660
> 
> 标签：objective-c, ios, gridview, uiimageview

我有一堆在gridview 中生成的imageview。但现在我希望每个图像视图都可以对另一个屏幕进行转场。有人知道我该怎么做吗？这是我如何生成图像视图并将其放入网格的代码。

```
UIImageView * myView = [[UIImageView  alloc] initWithImage:myImage];
        CGRect rect = myView.frame;
        rect.origin.x = xCurrent;
        rect.origin.y = yCurrent;
        myView.frame = rect;
        myView.tag = cellCounter;
        [gridContainerView addSubview:myView];
        UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleTap:)];

        myView.userInteractionEnabled = YES;

        [myView addGestureRecognizer:tap]; 
```

请帮忙

亲切的问候

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T08:00:19.583

您正在寻找一个 tapGestureRecognizer。将其中之一添加到您的图像视图中，并使该操作调用您的 segue 方法。

`UIImageView *img = [[UIImageView alloc] init];`

`UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(mySequeMethod:)];`

`img.userInteractionEnabled = YES;`

`[img addGestureRecognizer:tap];`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T08:05:53.867

A：

使用自定义按钮而不是 UIImageView，并设置图像...然后使用该按钮继续，（看起来相同）

* * *

乙：

对视图使用手势识别器，并用一根手指点击。

# sql - 获取给定日期sql的上个月

> ID：12741734
> 
> 赞同：0
> 
> 时间：2012-10-05T07:40:21.520
> 
> 标签：sql

我有这个：

```
select company
from alldata
where **{previous month of date("01.05.2011")}**
IN
(select month from alldata where SumNrSpot=0) 
```

我需要在`where`clouse 中找到上个月。请问，有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:46:48.297

如果您使用的是 MySQL：

```
SELECT MONTH(DATE_SUB('2011-05-01', 1 MONTH)) 
```

在你的情况下

```
select company
from alldata
where MONTH(DATE_SUB('2011-05-01', 1 MONTH))
IN
(select month from alldata where SumNrSpot=0) 
```

[在此处](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html)阅读有关这两个功能的更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:43:32.837

对于**SQL 服务器**

您可以使用函数[MONTH()](http://msdn.microsoft.com/en-us/library/ms187813.aspx)从日期中获取一个月。
您可以使用 DATEADD(month,-1,) 将日期调整一个月。
如果您以文本形式向 SQL Server 提供日期，则应始终使用格式 YYYYMMDD。

```
where MONTH(DATEADD(month,-1,'20110501') IN 
```

假设表格列`alldata.month`包含从 1 到 12 的月份数值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T07:42:30.137

您可以使用`DateAdd()`带有参数、月份和`-1`值的方法来获取上个月。

下面给你

```
select DatePart(mm,DateAdd(m,-1,GetDate())) as PreviousMonth 
```

对于您的查询，您可以尝试：

```
select company 
from alldata
where datepart(mm,dateadd(m,-1,Convert(DateTime, Convert(DateTime,'01.05.2011',104))))
IN (select month from alldata where SumNrSpot=0) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:45:36.033

从给定日期提取月份并添加 -1

```
select ( extract (month from now()) -1 ) as previous_month 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T07:55:23.663

```
Select
DATEPART(mm,(DATEADD(m,-1,CONVERT(DATETIME,'01.05.2011')))) AS PreviousMonth
IN 
(Select month from alldata where SumNrSpot=0) 
```

假设您的“月份”列是一个整数值

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-05T10:47:22.220

我是这样做的：

```
select company
from alldata
where MONTH(`Mon`) -1
IN
(select MONTH(Mon) from alldata where SumNrSpot=0) 
```

无论如何，谢谢，您的一些回复很有用和赞赏。

# asp.net - webm 视频格式无法在 Firefox 中播放

> ID：12741737
> 
> 赞同：0
> 
> 时间：2012-10-05T07:40:26.647
> 
> 标签：asp.net, html, video, html5-video

我正在尝试将 html 的视频标签实现为

```
<video controls="controls" tabindex="5">
     <source src="Videos/2.webm" type="video/webm">
      <source src="Videos/2.ogv" type="video/ogg">
      <source src="Videos/2.mp4" type="video/mp4">

      </video> 
```

webm 的单个文件播放到 Firefox 中。但是当我与我的项目集成时，它会显示 X 符号。我已经做了 MIME 类型的实现。有什么可能的错误。感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-02T07:04:25.543

您的项目驻留在什么类型的服务器上，即 Apache 服务器或其他任何东西？如果是 Apache 服务器，请在 .htaccess 文件中尝试以下行。

AddType video/mp4 .mp4 AddType video/ogg .ogv AddType video/webm .webm

# c# - 法语操作系统中的 Covert.ToDecimal 问题

> ID：12741740
> 
> 赞同：1
> 
> 时间：2012-10-05T07:40:40.740
> 
> 标签：c#

我正在尝试在我的应用程序中使用以下代码，它仅在法语操作系统中引发异常。你能帮我解决这个问题吗？

```
using System.Globalization;
using System.Threading;

....
CultureInfo pro = new CultureInfo(Thread.CurrentThread.CurrentCulture.Name);
SqlCmd.Parameters[Dat.ColumnName].Value = Convert.ToDecimal("0.000001",pro); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T07:42:59.313

这不是法语中的有效小数。在法语中，小数点符号是逗号。

如果你的字符串总是有一个句点作为十进制符号，那么使用当前的文化是没有意义的。最好使用不变的文化：

```
Convert.ToDecimal("0.000001", CultureInfo.InvariantCulture); 
```

* * *

换一种说法：

C# 知道`using`指令，因此您不必完全限定所有类型。

无需编写`System.Globalization.CultureInfo`，您只需将其放在`using System.Globalization;`C# 文件的顶部并`CultureInfo`在代码中使用即可。
这使您的代码更具可读性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:44:02.603

在法国文化中，小数不使用点，而是逗号。（例如：0,000001）

如果要在法语文化中解析 0.00001，请指定`CultureInfo.InvariantCulture`以处理点而不是逗号

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:56:15.733

它与文化如何指定十进制数有关。在英语（和 .net 的不变文化）中，小数分隔符是点字符“。”，但在法语（和大多数欧洲文化）中，逗号“，”是小数分隔符。

```
using System.Globalization;
...

decimal d = Convert.ToDecimal("0.000001",CultureInfo.InvariantCulture);
//outputs 0.000001
Console.WriteLine(d); 

CultureInfo french = new CultureInfo("fr");
d = Convert.ToDecimal("0,000001",french);
//outputs 0.000001
Console.WriteLine(d); 

d = Convert.ToDecimal("0.000001",french);
//Throws an "Input string was not in a correct format" exception
//because a . is not a valid character in a decimal, according to french culture 
```

如果您通过 UI 从用户那里获取值，则需要格外小心他输入数据的文化，因为很容易将小数点误解为千位分隔符，而不是十 (10.00) 项来保存千。

# apache-flex - 创建完成函数中关于“token”的一个基本问题

> ID：12741745
> 
> 赞同：0
> 
> 时间：2012-10-05T07:40:50.383
> 
> 标签：apache-flex

我注意到每次我在 flex 和一个函数中创建一些东西时

```
 protected function list_creationCompleteHandler(event:FlexEvent):void
        {
            getAllProductstatusResult.token = productstatusService.getAllProductstatus();
        } 
```

将出现在我的脚本中。

我知道“productstatusService.getAllProductstatus();” 部分用于获取结果，但“getAllProductstatusResult.token”部分在做什么？它是用来做什么的？为什么它与呼叫响应者相关联？令牌是什么意思？（非常基本的问题，但困扰了我很长时间）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T12:41:26.027

您似乎向我们提供了很少的细节，但是...

```
I know the "productstatusService.getAllProductstatus();" part is used to get the results, but what is the "getAllProductstatusResult.token" part doing? 
```

这称为变量赋值。因此，`getAllProductstatus()`对象实例上的方法调用的结果被保存到对象上`productstatusService`的实例变量 中。 `token``getAllProductstatusResult`

```
and what it is used for? 
```

根据您提供的代码无法确定。

```
and why it is linked to a call responer? 
```

根据您提供的代码，无法确定是否正在使用响应程序。假设来自方法调用的 Responder 并保存在 token 变量中，您必须在代码库中执行搜索以找出该 token 的使用位置。

```
and what is token means? 
```

它是 getAllProductstatusResult 对象上的一个实例变量。实例变量可以这样创建：

```
public var token : Object; 
```

或者有时可以使用 get 和 set 方法创建实例变量来表示属性。

# php - 动态数据驱动的 UI

> ID：12741748
> 
> 赞同：0
> 
> 时间：2012-10-05T07:41:01.487
> 
> 标签：php, html, css, mysql

我想建立一个网页，其 UI 将是数据驱动的。如，UI 的**元数据**（布局、结构、组件、内容等）将存储在数据库中，该数据库将实时获取，从中相应地生成 UI。任何关于我如何去做的指针或建议将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:52:31.523

您是否还将实体数据存储在此数据库中，或者您只想配置“静态”（在这里使用该词很奇怪）页面的呈现方式？

如果您还存储数据，则需要做出重要的决定，即您希望将数据模型与视图模型绑定到何种程度，因为您的视图定义也是数据。

为实体、属性定义表并用一些示例数据填充它们。

对于定义视图，寻找可以存储在数据库中的 XML 结构可能是一个更好的选择，因为页面布局本质上是非常分层的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T08:03:29.417

[这](https://stackoverflow.com/questions/1689097/php-memcache-html-caching) 可能接近您正在寻找的内容。只需将 HTML 代码存储在您的数据库中，然后使用最适合您的网络服务将其提取出来。我还建议使用关联数据模型。[MongoDB](http://www.mongodb.org/)和其他类似的数据库比标准 SQL 数据库更有效地处理少量复杂数据*。它们还允许您从 JavaScript 读取/写入数据库。您可以使用相同的技术为您的前端元开发一个管理系统。

# windows - 切换 JIT 调试器？

> ID：12741751
> 
> 赞同：5
> 
> 时间：2012-10-05T07:41:14.913
> 
> 标签：windows, visual-studio, delphi, debugging

当您必须使用不同的 IDE 维护不同的项目时，将它们安装在同一台 Windows 机器上通常是有意义的。

例如，在同一系统上混合使用 Visual Studio 和 Delphi，或各种版本的 Delphi（我相信其他人甚至有不同的组合）。

您会发现其中一件事是最新的工具将自己安装为 JIT 调试器：当应用程序崩溃时触发的即时调试器。

根据应用程序崩溃的工具和版本（有时在调试器中运行时您无法重现错误，例如在 Heisenbug 的情况下），您需要提前选择调试器。

你怎么能那样做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-05T16:01:26.067

编写一个简单的应用程序，在应用程序崩溃的情况下启动您想要的调试器。

注册您的应用程序

```
HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\AeDebug
```

如果是 64 位操作系统，还需要以下键

```
HKLM\SOFTWARE\Wow6432Node\Microsoft\Windows NT\CurrentVersion\AeDebug
```

添加/修改以值命名的字符串`Debugger`：

```
"C:..\Win32\Debug\Project1.exe" %ld %ld
```

一个非常简单的应用程序：

```
procedure TForm1.FormCreate(Sender: TObject);
begin
  ComboBox1.Items.Add('BDS 16');
  ComboBox1.Items.Add('BDS 15');
  ComboBox1.Items.Add('WinDbg');
  ComboBox1.Items.Add('VS');
  // etc..
  ComboBox1.ItemIndex := 0;
end;

procedure TForm1.Button1Click(Sender: TObject);
var
  proc: THandle;
begin
  Assert(ParamCount >= 2);
  proc := OpenProcess(SYNCHRONIZE, False, StrToInt(ParamStr(1)));
  case ComboBox1.ItemIndex of
    0: ShellExecute(0, '', 'C:\..\RAD Studio\9.0\bin\bds.exe',
          PChar(Format('/attach:%s;%s', [ParamStr(1), ParamStr(2)])), '',
          SW_SHOWNORMAL);
    1 : // etc..
    2: ShellExecute(0, '', 'C:\Program Files (x86)\..\windbg.exe',
          PChar(Format('-p %s -e %s -g', [ParamStr(1), ParamStr(2)])), '',
          SW_SHOWNORMAL);
    3: ShellExecute(0, '', 'C:\Windows\system32\VSJitDebugger.exe',
          PChar(Format('-p %s -e %s', [ParamStr(1), ParamStr(2)])), '',
          SW_SHOWNORMAL);
    //..
  end;
  if Bool(proc) then begin
    WaitForSingleObject(proc, INFINITE);
    Application.Terminate;
  end;
end; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T08:56:22.480

如果您搜索 Microsoft 文档，您可以看到事后调试可以通过 \HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\AeDebug 下的注册表项进行控制

[http://msdn.microsoft.com/en-us/library/windows/hardware/ff542967(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/hardware/ff542967(v=vs.85).aspx)

如果要手动更改，则需要特别注意。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T07:50:40.150

我认为，如果您确实需要调试使用不同工具制作的多个同时运行的应用程序 - 那么您唯一的选择是找到或创建一个桥接 JIT 调试器，该调试器将分析哪个项目崩溃并将控制权中继到相应的 IDE 调试器

# javascript - 可以有多个id吗？

> ID：12741752
> 
> 赞同：0
> 
> 时间：2012-10-05T07:41:25.387
> 
> 标签：javascript, jquery, html

> **可能重复：**
> [一个html元素可以有多个id吗？](https://stackoverflow.com/questions/192048/can-an-html-element-have-multiple-ids)

是否可能有多个 id ？我可以这样使用吗？

```
$("#example" + " #example2") 
```

html

```
<section id="example example2"></section> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T07:43:01.217

您不应使用多个 ID。如果您需要使用类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:51:30.880

**否根据**[XHTML 1.0 规范](http://www.w3.org/TR/xhtml1/#h-4.10)，这是不可能的

> HTML 4 为元素 a、applet、form、frame、iframe、img 和 map 定义了 name 属性。HTML 4 还引入了 id 属性。这两个属性都被设计为用作片段标识符。
> 
> 在 XML 中，片段标识符属于 ID 类型，每个元素只能有一个 ID 类型的属性。因此，在 XHTML 1.0 中，id 属性被定义为 ID 类型。为了确保 XHTML 1.0 文档是结构良好的 XML 文档，XHTML 1.0 文档在为上面列出的元素定义片段标识符时必须使用 id 属性。有关在将 XHTML 文档作为媒体类型 text/html 提供服务时确保此类锚点向后兼容的信息，请参阅 HTML 兼容性指南。
> 
> 请注意，在 XHTML 1.0 中，这些元素的 name 属性已正式弃用，并将在 XHTML 的后续版本中删除。

但根据 W3 这是一个**YES**

[W3 选择器](http://www.w3.org/TR/selectors/#id-selectors)

> 如果一个元素具有多个 ID 属性，则出于 ID 选择器的目的，所有这些属性都必须被视为该元素的 ID。这种情况可以通过混合使用 xml:id、DOM3 Core、XML DTD 和特定于名称空间的知识来实现​​。

常见用法

> ID 是一次性的，仅适用于一个元素。它们用于标识单个元素。类可以多次使用。因此，它们可以应用于多个元素，并且每个元素不止一次

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:43:53.710

根据 XHTML 1.0 规范，没有。你不能。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:49:25.920

我认为不是（我在 JS fiddle 上试过），为什么在地球上你需要有多个 ID……我敢肯定有一些更优雅的解决方案可以解决你的问题……你能以某种方式指定它吗？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T07:54:06.840

不，这是不可能的。ID 总是指唯一性。

# android - Android - RotateAnimation - fromDegrees toDegrees 变量

> ID：12741753
> 
> 赞同：3
> 
> 时间：2012-10-05T07:41:27.820
> 
> 标签：android, xml, variables, rotateanimation

我是 Android 新手，我有一个小问题。我找到了 RotateAnimation 的代码：

RotateAnimation 的所有数据都存储在 xml 文件中：

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
    android:interpolator="@android:anim/linear_interpolator">
    <rotate
        android:fromDegrees="0"
        android:toDegrees="360"
        android:pivotX="50%"
        android:pivotY="50%"
        android:duration="20000"
        android:startOffset="0"/>
</set> 
```

.java文件：

```
package com.example.helloword;

import android.app.Activity;
import android.os.Bundle;
import android.support.v4.app.NavUtils;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.view.animation.Animation;
import android.view.animation.AnimationUtils;
import android.widget.Button;
import android.widget.ImageView;

public class Rotation_test extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_rotation_test);
//        getActionBar().setDisplayHomeAsUpEnabled(true);

        Button buttonRotateCenter = (Button) findViewById(R.id.rotatecenter);
        final ImageView floatingImage = (ImageView) findViewById(R.id.floatingimage);

        final Animation animationRotateCenter = AnimationUtils.loadAnimation(
                this, R.anim.rotate_center);
        buttonRotateCenter.setOnClickListener(new Button.OnClickListener() {

            public void onClick(View arg0) {
                // TODO Auto-generated method stub
                floatingImage.startAnimation(animationRotateCenter);
            }
        });
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_rotation_test, menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
            case android.R.id.home:
                NavUtils.navigateUpFromSameTask(this);
                return true;
        }
        return super.onOptionsItemSelected(item);
    }

} 
```

如何在 xml 文件中创建这两个值的变量？

```
 android:fromDegrees="0"
    android:toDegrees="360" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T08:16:42.563

根据 RotateAnimation 类参考 (http://developer.android.com/reference/android/view/animation/RotateAnimation.html)，该类不提供 fromDegrees 和 toDegrees 的 setter 方法。因此，如果您需要在代码中设置这些值，则必须在代码中创建 RotateAnimation 对象并将 fromDegrees 和 toDegrees 值传递给构造函数。

```
RotateAnimation rotateAnimation = new RotateAnimation(fromDegrees, toDegrees); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:55:20.820

尝试以下代码，它可能会工作：

```
 <?xml version="1.0" encoding="utf-8"?>
        <rotate
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:fromDegrees="45"
        android:toDegrees="45"
        android:pivotX="50%"
        android:pivotY="50%"
        android:duration="0"
        android:startOffset="0"
        /> 
```

主要代码：

```
 Animation rotation = AnimationUtils.loadAnimation(this, R.anim.rotation);
    myView.startAnimation(rotation); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:56:11.303

尝试另一个：

```
 Matrix matrix=new Matrix();
 imageView.setScaleType(ScaleType.MATRIX);   //required
 matrix.postRotate((float) angle, pivX, pivY);
 imagView.setImageMatrix(matrix); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-14T12:20:38.957

```
<rotate xmlns:android="http://schemas.android.com/apk/res/android"
        android:pivotX="50%"
        android:pivotY="50%"
        android:fromDegrees="0"
        android:toDegrees="360"
        android:duration="0"

        >
  <shape 
    android:shape="ring"
    android:innerRadiusRatio="2"
    android:thicknessRatio="10"
    android:useLevel="false">
    <shape
      android:width="76dip"
      android:height="76dip"/>
    <gradient android:type="sweep"
              android:useLevel="false"
              android:startColor="#F57847"
              android:endColor="#E67E55"
              android:angle="0"/>    
  </shape>

</rotate>**strong text** 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-09-18T05:49:18.227

在 values 文件夹中使用带有预定义整数的 xml 文件。Android 说文件名无所谓，但你不妨把它放在一个名为`res/values/integers.xml`. 更多关于这种类型的 xml 文件的[信息](https://developer.android.com/guide/topics/resources/more-resources.html#Integer)。基本上，将您的度数值作为整数放入 中`integers.xml`，在您的旋转 xml 代码中使用它们，并在您的活动代码中使用`getResources().getInteger()`. 这是示例代码：

在`integers.xml`：

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <integer name="from_degrees">0</integer>
    <integer name="to_degrees">360</integer>
</resources> 
```

在旋转 xml 中：

```
...
android:fromDegrees="@integer/from_degrees"
android:toDegrees="@integer/to_degrees"
... 
```

在java代码中：

```
int fromDegrees = getResources().getInteger(R.integer.from_degrees);
int toDegrees = getResources().getInteger(R.integer.to_degrees); 
```

# flash - 如何使用闪光灯中的按钮跳过最后一帧

> ID：12741758
> 
> 赞同：0
> 
> 时间：2012-10-05T07:41:43.290
> 
> 标签：flash, goto

单击按钮时，我需要转到最后一帧。

我使用以下代码

```
on (release) {
gotoAndPlay(1530);
} 
```

我也尝试（单击）方法但是当我单击或释放按钮时，它的反应就像刷新我当前的 Flash 页面一样。我可以帮帮我吗？我的最后一帧页码是 1530。

我也试过

```
on (release) {
    gotoAndPlay(1174);
    } 
```

这不是最后一帧，它仍然显示我的第一帧..

任何人都可以帮忙..！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T08:31:23.463

如果您想留在舞台中添加的影片剪辑的最后一帧，那么您应该将以下片段添加到您的按钮中，例如，

```
on (release) {
    _root.myMovie.gotoAndStop(1530);
} 
```

注意：假定`myMovie`是放置在舞台中的影片剪辑的实例名称。

# c# - C# 中的 YouTube API 匿名器

> ID：12741763
> 
> 赞同：0
> 
> 时间：2012-10-05T07:41:56.467
> 
> 标签：c#, youtube-api

任何人都知道如何匿名从 YouTube API 获取数据？YouTube API 有什么选择吗？

我尝试在 gdata 之前引入 Uri 变量和匿名器，但显然它失败了 -

顺便说一句，我想用代码来做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:47:39.743

您可以参考这些链接来获取 API 信息：

C# 中的 YouTube API

[http://youtubeasp.codeplex.com/](http://youtubeasp.codeplex.com/)

[https://developers.google.com/youtube/2.0/developers_guide_dotnet](https://developers.google.com/youtube/2.0/developers_guide_dotnet)

[http://www.codeproject.com/Articles/143669/Manage-YouTube-using-C-and-Youtube-API-1-6](http://www.codeproject.com/Articles/143669/Manage-YouTube-using-C-and-Youtube-API-1-6)

[使用 API for .NET 搜索 YouTube](https://stackoverflow.com/questions/7567669/searching-youtube-with-the-api-for-net)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T19:29:08.923

您可能应该改写您的问题 - 我相信您在询问如何明确告诉 YouTube API 您对哪种语言的结果感兴趣。

您可以使用 lr=LANGUAGE_CODE 查询参数来执行此操作，如在

[https://developers.google.com/youtube/2.0/reference#lrsp](https://developers.google.com/youtube/2.0/reference#lrsp)

（没有“全局”结果的概念，但 lr=en 可能最接近您的意思。）

限制=COUNTRY_CODE 参数也可以是相关的，但这更多是为了确保从搜索结果中过滤掉特定国家/地区不可用的内容：

[https://developers.google.com/youtube/2.0/reference#restrictionsp](https://developers.google.com/youtube/2.0/reference#restrictionsp)

# c# - 没有 EventArgs 的 EvenHandler 可以吗？

> ID：12741769
> 
> 赞同：0
> 
> 时间：2012-10-05T07:42:21.450
> 
> 标签：c#, event-handling

> **可能重复：**
> [没有事件参数的 EventHandler 类型](https://stackoverflow.com/questions/7455357/eventhandler-type-with-no-event-args)

我正在整个`:EventArgs`项目中创建事件处理程序和相应的事件参数 ()。但我想知道我是否需要这个`EventArgs`对象。正如我经常在这个`EventArgs`on 属性中，对应这个特定`EventHandler`的 .

**为什么我需要一个可以直接使用该值的 EventArgs 对象？**

我理解有时像这样使用特定对象容器的价值。但大多数时候我只需要传递一两个对象。**示例：**为什么`PropertyChangedEventHandler`在 String 就足够的情况下使用 EventArgs 来困扰自己？这不会带来开销吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:47:14.413

我想这是一个 .NET 约定，通过接受两个参数来统一事件处理程序：事件源 ( `sender`) 和包装在通用`EventArgs`对象中的事件参数。

> 为什么 PropertyChangedEventHandler 使用一个字符串就足够的 EventArgs 来打扰自己？这不会带来开销吗？

不，因为无论如何你都传递了一个引用，所以实际上没有数据被移动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:45:31.730

一般来说，我的建议是使用[观察者模式](http://www.dofactory.com/Patterns/PatternObserver.aspx)。

另外：[没有事件参数的 EventHandler 类型](https://stackoverflow.com/questions/7455357/eventhandler-type-with-no-event-args)

# listview - ListView项目中如何控制点击区域

> ID：12741772
> 
> 赞同：-1
> 
> 时间：2012-10-05T07:42:41.410
> 
> 标签：listview

这个问题很难说。但我会尽力描述它。

我想设计一个聊天工具。在聊天窗口中，我将向用户显示图像和文本内容。所以有一些空白区域。如何达到这样的效果？当我单击空白区域时，什么也没有发生。当我点击文本内容时，我可以获得项目位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:45:47.183

ListView 包含多个子控件。

你有没有

# javascript - 取消鼠标点击事件的javascript重定向

> ID：12741778
> 
> 赞同：0
> 
> 时间：2012-10-05T07:43:03.803
> 
> 标签：javascript, redirect

我想取消由 javascript 函数启动的重定向。javascript 在 5 秒内重定向到主页，并显示为错误消息。我想通过鼠标单击错误消息来取消重定向。请提供任何帮助。

![在此处输入图像描述](../Images/4d7e5f131ee1edcd66e223e0e7e451dd.png)

PHP代码：

```
<div id="error">    
<?php
    //redirect
    if (isset($_GET['err'])){
        if ($_GET['err'] == 1){
            echo "You are successfully logged out. You will be redirected to the home page in <strong><span id = 'seconds'> 5 </span> </strong> seconds.";
        }elseif($_GET['err'] == 0){
            echo "Your session has been expired. Please login again.!";
        }
    }
?>  
</div> 
```

Javascript：

```
 <script>
        var seconds = 5;
        var err = <?php echo $_GET['err'] ; ?>;

        if (err == 1){
            setInterval(
            function(){
                if (seconds <= 1) {
                    window.location = 'http://****.***.***.***/***';
                }
                else {
                    document.getElementById('seconds').innerHTML = --seconds;
                }
                },
                1000
            );
        }
    </script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:48:58.640

您实际上是在尝试停止 setInterval，您可以通过先命名它然后在您想要的条件下清除它来轻松地做到这一点。

```
var redirInt = setInterval(function() {
    // etc.
},5000); 
```

还有你的取消线……</p>

```
clearInterval(redirInt); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:47:03.550

```
var tId; // create a global var (or put it in a managed scope)
$(function() { // jquery onload
  tId = setInterval(function() { ... },5000); // or use timeout if no counter
  $("#errordiv").on("click",function() { 
    clearInterval(tId); // clear it
 });
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T07:49:35.297

`setInterval`返回它创建的计时器的 ID，以便您可以使用 取消它`clearInterval`。

你可以使用这样的东西：

```
var timer;

$(document).ready(function() {
    timer = setInterval(function() {...}, 1000);

    $('#error').click(function() {
        clearInterval(timer);
    });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:49:22.513

试试这个：

```
<script>

    var seconds = 5;
    var err = <?php echo $_GET['err'] ; ?>;
    var redir = null;

    if (err == 1){

        var redir_interval = setInterval(
        function(){
            if (seconds <= 1) {
                redir = window.location = 'http://****.***.***.***/***';
            }
            else {
                document.getElementById('seconds').innerHTML = --seconds;
            }
            },
            1000
        );
    }

    function cancel_redir() {

        redir = null;
        clearInterval(redir_interval);

    }

</script>

<div id="error" onclick="cancel_redir();">
You are successfully logged out. You will be redirected to the home page in <strong><span id = 'seconds'> 5 </span> </strong> seconds.
</div> 
```

# qt - Qt 开源许可

> ID：12741779
> 
> 赞同：1
> 
> 时间：2012-10-05T07:43:07.190
> 
> 标签：qt

> **可能重复：**
> [我可以使用 Qt LGPL 许可证并在没有任何限制的情况下出售我的应用程序吗？](https://stackoverflow.com/questions/11994053/can-i-use-qt-lgpl-license-and-sell-my-application-without-any-kind-of-restrictio)

只是一个简单的问题。

如果没有 Qt 商业许可证，我可以制作应用程序并将其“出售”给客户吗？还是我需要商业许可证才能出售它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T08:04:36.873

可以，只要您接受[LGPL 2.1](http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html)许可。

# android - Phonegap 与 Facebook 和 Twitter 集成

> ID：12741782
> 
> 赞同：0
> 
> 时间：2012-10-05T07:43:18.560
> 
> 标签：android, ios, facebook, cordova, twitter

我已经开发了一个使用 Android 和 iOS 的 Phonegap 的应用程序。它有一个**Index.html**。从这个页面上的一个链接我导航到另一个 html 页面**“Share.html”**。从这个 html 页面我点击一个按钮来显示一个动作表两种选择：1。脸书，2.推特。

当我单击这两个选项中的任何一个时，我将**data-ajax=false**设置为整页刷新。**在“facebook.html”**和**“twitter.html”**这两个页面上，我添加了一个带有**data-rel="back"**的标题和锚标记。

现在我的问题是点击它们我回到**“Share.html”**但页面的所有css都消失了。**并且我之前使用add-data-back-btn= "true" 添加**到此页面中没有返回按钮。

我想在单击任何按钮时返回“Share.html”页面，并且应该应用之前使用的 css。所有页面都应该像以前一样工作。我怎样才能做到这一点？任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T12:42:11.350

你在做ajax导航吗？如果是这样，请尝试使用：

```
$.mobile.changePage( "yourPage.html", { transition: "none"} ); 
```

# delphi - 如何用 OmniThreadLibrary 替换 TThread？

> ID：12741784
> 
> 赞同：5
> 
> 时间：2012-10-05T07:43:25.087
> 
> 标签：delphi, omnithreadlibrary

我习惯于创建 TThread 后代来执行持久的数据库操作。我通常的构造如下所示：

```
interface
type
  TMyDBOp = class(TThread)
  private
    FConnection: TADOConnection;
    FCommand1: TADOCommand;
    FCommand2: TADOCommand; // and many more privated objects, vars ...
    procedure InitDB;
    procedure DoneDB;
    procedure DoDBStuff; // and many more procedures and functions to structure the code
  protected
    procedure Execute; override;
  public
    constructor Create; reintroduce;
    property X: T... // and many more properties to set on thread creation
  end;

implementation

constructor TMyDBOp.Create;
begin
  inherited Create(False);
end;

procedure TMyDBOp.InitDB;
begin
  FConnection:= TADOConnection.Create(nil);
  // setup all connection props, setup all other components
end;

procedure TMyDBOp.DoneDb;
begin
  FConnection.Close; // and Free, and Free all other components
end;

procedure TMyDBOp.DoDBStuff;
begin
  // Execute FCommands, do some calculations, call other TMyDBOp methods etc. etc.
end;

procedure TMyDBOp.Execute;
begin
  Try
    Coinitialize;
    InitDB;
    try
      DoDBStuff;
    finally
      DoneDB;
    End;
  Except
    // catch, log, report exceptions ....
  End;
end; 
```

然后我显然使用这个类

```
var
  DBOp: TMyDBOp;
begin
  DBOp:= TMyDBOp.Create;
  DBOp.Property1:= xyz; // and set all other props
  DBOp.OnTerminate:= DBOpTerminated; // procedure to catch the thread and read back the results etc. etc.
  DBOp.Resume;
end; 
```

当然，我通常将 DBOp 设置为另一个组件 var，以便能够终止或 WaitFor 线程。

现在我想重写这些 TThread 类并使用与 OmniThreadLibrary 类似的构造。我该怎么做？我的意思是：使用什么基类来定义所有类组件和属性？- 应该是 TOmniWorker 的后代吗？那么 Execute 程序在哪里呢？- 它应该是 TObject 的后代，然后将 OTLTaks 创建为`CreateTask(DBOp.Execute)`？- 它应该是我作为参数传递给 OTLTask 创建的 TObject`CreateTask(anonymous method that reads the parameter and calls its Execute)`吗？

感谢您的任何提示。

编辑：（基于 gabrs 对澄清的评论）我的观点是，OTL 源代码中的所有样本/测试都只显示了一个简单的用法。主要是基本的“单一过程”线程。对于我的情况，我需要一个相当复杂的类，其中包含所有在线程中运行的子组件和子例程。我正在寻找这样的类祖先及其设计模式。

# android - 如何在Android手机中更改键盘

> ID：12741789
> 
> 赞同：0
> 
> 时间：2012-10-05T07:43:45.427
> 
> 标签：android, android-softkeyboard

我们寻找提供不同键盘的应用程序，但我们正在寻找的应用程序不在这里。我想在三星 Android 手机上安装 Sky Vega 键盘（据我所知，Sky Vega 是一款仅在韩国销售的韩国手机）。

可以复制/粘贴 Sky Vega 键盘并将其放入我们手机的键盘文件夹中吗？

任何人都知道如何做到这一点？

天空维加键盘： ![在此处输入图像描述](../Images/b43fcd1540492eb908d38ed77c2adfc8.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T08:06:19.200

打开设置>键盘和语言

启用所需的键盘

长按文本输入字段并选择输入法。并选择您的键盘。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-17T22:01:32.417

在运行 4.1 的 HTC One 上，当您在文本字段中时，向下拖动通知栏，然后选择“选择输入法”。不过，您需要先在设置 > 键盘和语言中启用键盘。

# c++ - 第三个例子发生了什么？

> ID：12741802
> 
> 赞同：3
> 
> 时间：2012-10-05T07:44:46.423
> 
> 标签：c++

考虑：

1.

```
int one=1;
void func(int* ptr)
{
  ptr=&one;
}

int main() {
int nvar=2;
int* pvar=&nvar;
func(pvar);
std::cout<<*pvar<<std::endl;
return0
}; 
```

由于创建了 pvar 的副本，仍然会输出 2 吗？

2.

```
void func(int*& ptr)
{
  ptr=&one;
} 
```

输出将为 1，因为指针的引用已通过，一切正常

3.

```
int one=1;
void func(int** ptr)
{
  *ptr=&one;
//or **ptr=one;
}
int main()
{
    int nvar=2;
    int* pvar=&nvar;
    func(&pvar);
    std::cout<<*pvar<<std::endl; 
```

输出 1

我无法详细说明更合适的问题标题，因为老实说我不知道**​​第三**个示例是什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T07:54:19.803

第三个示例与第二个示例非常相似，因为您仍然将指针传递给您的 pvar 指针。指向指针的指针意味着您可以更改指针指向的任何内容。

*指针指针 (* ) 和指针引用 (* &)之间的主要区别在于，无论何时传递指针引用，都必须初始化指针（非空，具有明确定义的值）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T07:47:37.110

第三个示例创建一个指向局部变量 的指针`nvar`，其中包含`2`，将指向此指针的指针传递给`func`，在此处它被指向`one`包含 1 的全局变量的指针覆盖。然后它打印 指向的值`pvar`，即`one`，即`1`。（在 的情况下`// or **ptr=one`，它将`one`值放入指针指向的变量中，即`nvar`，仍然以相同的输出结束）。

# windows-phone-7 - Windows Phone 文本块自动调整大小

> ID：12741804
> 
> 赞同：0
> 
> 时间：2012-10-05T07:45:01.943
> 
> 标签：windows-phone-7, size, textblock

我的`TextBlock`Windows Phone 应用程序中有一个，它的`Text`值以`TextBlock`编程方式设置，因此无法知道填充它的字符串有多大。现在我有一个静态大小，`TextBlock`但是当填充它的字符串超出`TextBlock`. 然后就不显示了。

有没有办法自动调整大小，`TextBlock`以便当它的`Text`属性超过它的大小/宽度时，它会调整大小？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:51:38.423

将`TextWrapping`属性设置`TextBlock`为`Wrap`：

```
<TextBlock TextWrapping="Wrap"/> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T09:32:13.680

`TextBlock` `ActualWidth`属性应该返回文本的运行时宽度。

所以你可以试试这个：

```
< TextBlock Width="{Binding RelativeSource={RelativeSource Self}, Path=ActualWidth}"
    Name="tb" Text="{Binding ElementName=txt, Path=Text}"/> 
```

# django - 本地主机上的站点不显示图像

> ID：12741807
> 
> 赞同：1
> 
> 时间：2012-10-05T07:45:16.877
> 
> 标签：django, image

我正在尝试使用 Django 模板显示图像。

在设置中我有：

```
MEDIA_ROOT = 'C:/workspace/mysite/uploaded_media/'
MEDIA_URL = 'http://localhost:8000/mysite/media/' 
```

html是

```
<img source = "http://localhost:8000/mysite/media/blabla.jpg"></img> 
```

我在 upload_media 文件夹中有一个图像文件 blabla.jpg

我在这里想念什么？

编辑：第一个问题是在标签中写“source”而不是“src”。多哈。（现在尝试下面的答案。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:54:19.350

尝试

```
MEDIA_URL = '/media/' 
```

并在模板中

```
<img src="/media/blabla.jpg" /> 
```

还将这些代码行放入您的 urls.py 并将 DEBUG 设置为 True

```
if settings.DEBUG:
  # static files (images, css, javascript, etc.)
  urlpatterns += patterns('',
    (r'^media/(?P<path>.*)$', 'django.views.static.serve', {
    'document_root': settings.MEDIA_ROOT})) 
```

# database - 检索数据库结果的内部结构

> ID：12741812
> 
> 赞同：0
> 
> 时间：2012-10-05T07:45:33.953
> 
> 标签：database, resultset

我正在尝试了解有关数据库内部结构的更多信息，但有一件我不明白的事情我没有找到任何资源。

当数据库找到请求的行时，它们是全部发送到客户端，还是用户必须一一检索行？如果 second 为真，那不应该产生许多往返行程吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:51:56.277

对于每个触发的查询，所有结果行都会立即发送。

# ssms - 为 xml 和 ssms 的查询结果创建视图

> ID：12741819
> 
> 赞同：1
> 
> 时间：2012-10-05T07:45:59.960
> 
> 标签：ssms

我想创建一堆视图以将数据作为 xml 返回以使用 xsl-fo。这根本不是问题，我知道如何创建这样的视图，但是我在 SQL Server Management Studio 中遇到了问题。要通过视图返回 xml，我必须为结果列添加别名。但是，当我这样做时，我无法再在 SSMS 的附加窗口中预览返回的 xml。例如，当我不使用别名时，结果中的数据是一个链接，我可以单击该链接以在附加窗口中显示格式化的 xml： ![在此处输入图像描述](../Images/5ea7d80906814a4333b4d12de86a3342.png)

使用别名我不能这样做：

![在此处输入图像描述](../Images/d0365b871a94a41e8c9978b3494e5853.png)

结果我有一个很大的 xml，所以我需要预览它们的功能。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T11:49:36.967

您必须将其转换为 xml 类型。

# iphone - 使用 iOS SDK 进行蓝牙编程

> ID：12741823
> 
> 赞同：1
> 
> 时间：2012-10-05T07:46:29.923
> 
> 标签：iphone, ios, macos, bluetooth, connection

是否可以通过蓝牙合法地从 iPhone/iPad/iPod 连接到 Mac 而不会违反 Apple 的 AppStore 规则`SDK`？

我知道 iOS 设备之间的连接使用`GameKit`. 连接到 Mac 怎么样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-28T07:25:36.810

好像做不出来了。。。

# datagridview - 在 F# 中记录数组到 DataTable 的通用转换，反之亦然

> ID：12741836
> 
> 赞同：4
> 
> 时间：2012-10-05T07:47:31.563
> 
> 标签：datagridview, datatable, f#

我有以下类型的简单 F# 记录数组（或依赖于系统类型的一些小变化）：

```
type Transaction= {
    date: DateTime;
    amount: float;
    mutable details: string } 
```

我想将它们显示到 Winforms 中的 DataGridView 控件，包括支持更改内容以及添加或删除行/记录。将 DataViewGrid 绑定到记录数组似乎不允许添加/删除行（或者我一定做错了吗？）。然而，DataTable 结构似乎更适合此目的。创建上述类型的 DataTable 似乎与原始记录类型非常匹配，例如：

```
let dataTable = new DataTable()
    dataTable.Columns.Add("date", typeof<DateTime>) |> ignore
    dataTable.Columns.Add("amount", typeof<float>) |> ignore
    dataTable.Columns.Add("details", typeof<string>) |> ignore) 
```

所以我想知道是否有一个现有的系统函数可以将依赖于系统类型的任何类型的记录的记录数组（例如，类型“事务数组”）转换为相应的DataTable，反之亦然？如果没有这样的功能，如何以简洁的方式完成？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-05T12:16:50.600

没有内置功能。

实现转换的最直接方法是使用 F# 反射，但天真的使用反射（像这样）可能会很慢，因此您应该衡量性能是否足以满足您的要求（如果它是一个关闭转换以在 UI 中显示内容，这可能很好）。

这是您如何做到这一点的草图：

```
open Microsoft.FSharp.Reflection

let recordsToDataTable (items:'T list) =
  // Create data table and add fields based on the record type
  let dataTable = new DataTable() 
  let fields = FSharpType.GetRecordFields(typeof<'T>)
  for fld in fields do
    dataTable.Columns.Add(fld.Name, fld.PropertyType) |> ignore
  // Add values from the specified list to the table
  for itm in items do
    let row = dataTable.NewRow()
    // Set all fields of the current row
    for fld in fields do
      row.[fld.Name] <- fld.GetValue(itm)
    dataTable.Rows.Add(row)
  dataTable      

let dataTableToRecords (table:DataTable) : 'T list =
  let fields = FSharpType.GetRecordFields(typeof<'T>)
  // Create a list with item for every row in the table
  [ for row in table.Rows ->
      // Get values of all fields from DT and create a record value
      let values = [| for fld in fields -> row.[fld.Name] |]
      FSharpValue.MakeRecord(typeof<'T>, values) :?> 'T ] 
```

# html - Ul , Ol 不显示数字和圆圈

> ID：12741837
> 
> 赞同：0
> 
> 时间：2012-10-05T07:47:33.720
> 
> 标签：html, css

嗨，我似乎有一些关于 ol 和 ul 标签没有显示左侧 syde 上的数字和圆圈的问题。我没有使用重置 css。这是我的代码：

```
 <ol>
                <li>ALL FILES</li>
                <li>PHP SCRIPTS</li>
                <li>WORDPRESS</li>
                <li>JAVASCRIPT</li>
                <li>CSS MOBILE</li>
            </ol>
            <ul>
                <li>ALL FILES</li>
                <li>PHP SCRIPTS</li>
                <li>WORDPRESS</li>
                <li>JAVASCRIPT</li>
                <li>CSS MOBILE</li>
           </ul>
           <ul>
                <li>ALL FILES</li>
                <li>PHP SCRIPTS</li>
                <li>WORDPRESS</li>
                <li>JAVASCRIPT</li>
                <li>CSS MOBILE</li>
          </ul>
          <ul>
               <li>ALL FILES</li>
               <li>PHP SCRIPTS</li>
               <li>WORDPRESS</li>
               <li>JAVASCRIPT</li>
               <li>CSS MOBILE</li>
          </ul>

#menu .dropdown_3columns li {
    float: none;
    position: static;
    text-align: left;
}
#menu li {
    border: medium none;
    display: block;
    float: left;
    height: 28px;
    margin-left: 0;
    padding-left: 18px;
    padding-right: 18px;
    padding-top: 8px;
    position: relative;
    text-align: center;
} 
```

如何让 ol 和 ul 显示数字和圆圈？

**编辑：**将鼠标悬停在列表上以查看我的意思：

[关联](http://www.key4dd.netne.net/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:59:45.270

删除显示：块；在#menu li 中并删除 list-style-type: decimal;

```
#menu li {
display: block; //remove this line
} 
```

并删除

```
#menu .dropdown_3columns ol, #menu .dropdown_3columns ul{
list-style-type: decimal; //remove this line
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T08:10:27.363

..................................................... ...

嗨，现在**删除**到`#menu li display:block;`

像这样

```
#menu li{
display:block; // remove this line
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-05T08:48:59.197

正如其他答案所提到的，问题是由设置为的 li 元素引起的`display: block`——这使得它们占据了为它们设置的整个宽度，并迫使数字或项目符号离开可见区域。

要解决此问题，请将 CSS 从

```
#menu li {
    display: block;
    padding-left: 18px;
} 
```

对此：

```
#menu li {
    display: inline-block; /* prevents the bullets being forced off the left-hand side, but still allows padding to be applied */
    padding-left: 8px;
    margin-left: 10px; /* This gives enough room for the bullets to be shown */
} 
```

您还在`li`本节中将所有元素设置为十进制：

```
#menu .dropdown_3columns ol,
#menu .dropdown_3columns ul {
    float: left;
    margin-top: 40px;
    margin-bottom: 25px;
    list-style-type: decimal;
} 
```

因此，如果您想要项目符号而不是数字，请在本节之后添加以下内容：

```
#menu .dropdown_3columns ul {
    list-style-type: disc; /* or circle etc */
} 
```

# matlab - 在 Matlab 中调用具有不同数量参数的函数

> ID：12741843
> 
> 赞同：7
> 
> 时间：2012-10-05T07:47:42.363
> 
> 标签：matlab, parameter-passing, cell-array

我正在使用符号工具箱来生成 matlab 函数。但是生成函数的输入数量会随着我需要的对象数量而变化（例如，开关的数量）。对于 2 和 3 开关，生成的函数如下所示：

```
y = fun(a1,a2,b1,b2)
y = fun(a1,a2,a3,b1,b2,b3) 
```

在使用此函数的脚本中，我建立了这些参数的向量：

```
a = [a1 a2 ...] 
```

我想要的是要么直接调用生成的函数，要么制作一个包装函数，这样我在更改开关数量时就不需要更改调用语句。为了使这个问题更加复杂，这些变量是 ACADO 变量。这意味着不允许进行矩阵和元素运算（即，所有数学运算都必须使用标量完成，并且符号工具箱中的方程必须为标量编写）。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-05T08:59:23.893

您可能会寻找元胞数组和`{:}`运算符。它将单元格的内容更改为[逗号分隔的列表](http://www.mathworks.se/help/matlab/matlab_prog/comma-separated-lists.html)。结果可以作为参数传递给函数。例如：

```
v2 = {a1, a2, b1, b2};
v3 = {a1, a2, a3, b1, b2, b3}; 
```

还有一个示例函数：

```
function fun(varargin)
    display(['number of parameters: ' num2str(nargin)]); 
```

您可以“透明地”为不同数量的参数调用函数，如下所示

```
fun(v2{:})
number of parameters: 4

fun(v3{:})
number of parameters: 6 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T08:10:02.303

您可以使用可变数量的输入参数创建函数[`varargin`](http://www.mathworks.de/de/help/matlab/ref/varargin.html)。

```
function fun(varargin)
a = cell2mat(varargin); % works only if arguments indeed only consists of scalars.

% your code comes hereafter 
```

# google-app-engine - 如何验证 Blobstore 文件记录是否已存在？

> ID：12741845
> 
> 赞同：0
> 
> 时间：2012-10-05T07:47:54.247
> 
> 标签：google-app-engine, blobstore

看起来`get_file_name(blob_key)`可以按照[Blobstore Files API Functions doc](https://developers.google.com/appengine/docs/python/blobstore/blobstorefiles?hl=en)使用。但这是在我知道 blob_key 的情况下（实际上，我知道，但这是对数据存储的附加请求）。

我想确认第二次没有将同一个文件添加到 Blobstore。文件名是唯一的。那么，我可以通过文件名检查记录的存在吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T10:46:48.777

不，您无法检查文件名。每次您创建或将具有相同名称的文件加载到 blobstore 时，它​​都会以相同的名称添加，但会添加一个新的 blob_key。

这是一些删除旧版本 blob 的代码

```
..... code to create a new blob with filename = name
files.finalize(f_name)                                   # finalize the new blob                        
blob_key = files.blobstore.get_blob_key(f_name)          # get the blob_key of the newly saved blob
blobs = blobstore.BlobInfo.gql("WHERE filename = '%s'" %(name))                            
for blob in blobs :
    if blob.key() != blob_key : blob.delete()            # delete old versions of the blob 
```

# iphone - 在同一 iOS 设备上安装开发应用程序版本和生产？

> ID：12741849
> 
> 赞同：14
> 
> 时间：2012-10-05T07:48:17.780
> 
> 标签：iphone, ios, xcode, ios5, ios6

我有一个当前在 AppStore 中的应用程序，我将其保存在手机上，以向用户和其他可能感兴趣的人展示。与此同时，我正在同一部手机上开发该应用程序的下一个版本。我希望能够将这两个应用程序并排安装在同一设备上。

实现这一点的规定/最少的方法是什么？这可能吗？理想情况下，这将尽可能自动化，无需在每次部署之前手动重命名。

非常感谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-05T08:11:38.523

是的，您可能只需要使用不同的应用程序 ID 对开发应用程序进行签名。

例如：如果您在商店中有`com.myCompany.myWonderfulApp` 用于 dev`com.myCompany.myWonderfulAppDevelopment`

# magento - 如何从 magento 中完全删除自定义主题

> ID：12741853
> 
> 赞同：3
> 
> 时间：2012-10-05T07:48:51.720
> 
> 标签：magento, themes, uninstallation, removeall

我可以知道如何从 MAGENTO 完全删除自定义主题。

我正在使用 Magento 1.7.0.2

以及如何完全禁用它。

我做了什么并面临问题。

我有两个自定义主题，分别是主题 1 和主题 2。主题 1 与 1.7.0.2 兼容，主题 2 与 1.6.x 兼容

我按照文档中的规定安装了主题 1。

然后我根据文档安装了主题 2，并在系统>配置>设计中进行了更改以进行必要的更改。

我的问题是——

1.  很少有页面显示主题 1，很少有主题 2。

2.  主页和一个或两个产品页面显示主题 1，其他几个产品页面和结帐页面显示主题 2。

3.  然后我删除了主题 2 的每个单独的文件。（我不想选择，因为它非常耗时并且可能会出现问题）

4.  现在，我再次重新安装主题 1，以防万一我没有删除主题 1 本身的任何错误文件。（我在文档中遵循相同的过程）

5.  现在的问题是 Magento 默认主题超过了我的自定义主题 1 的几页。

问题永远不会在这里结束。

这就是为什么我正在寻找一个可以完全删除或卸载自定义主题的解决方案。如果没有，我想禁用任何主题，如果可能的话。

我想知道我们能否在 MAGENTO 上测试多个主题并在它们之间切换。

问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T11:03:24.403

假设您没有在产品或类别级别设置自定义主题（如果您不知道我的意思，您不应该这样做），您所要做的就是更改`System > Configuration > Design`. 至于删除它们，如果它们安装正确，即它们是它们自己的唯一文件夹`app/design/frontend/{package}/{theme}`和`skin/frontend/{package}/{theme}`. 如果您在不同的页面上看到不同的主题，这可能只是一个缓存问题。确保完全刷新`System > Cache Management`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-21T12:36:37.163

查看下载的自定义主题包，而不是查看“app”文件夹下文件夹的所有位置。现在转到您的根 magento 目录并删除与您的自定义主题相关联的所有文件夹 app/code/local、app/code/community、app/etc/modules、app/design/frontend/default/yourtheme、skin/前端/默认/yourtheme/，js/yourtheme，媒体/yourtheme。从这些位置删除自定义主题的所有文件夹，并删除根目录中“var”文件夹中的“cache”文件夹。您现在可以看到您的自定义主题已从您的 magento 商店的后端和前端完全删除......每次都为我工作......

# java - 是否可以为特定的持久类提供多个映射？

> ID：12741857
> 
> 赞同：1
> 
> 时间：2012-10-05T07:49:02.410
> 
> 标签：java, hibernate, hibernate-mapping

我有一个场景，我有相同的表列，但名称不同，比如`TicketBooking`和`TicketBookingHistory`。我有一个 pojo 课程`TicketBooking`。是否可以为这个持久类提供多个映射，即一个 for`TicketBooking`和一个 for `TicketBookingHistory`？如果有怎么办？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:53:26.967

可以使用 xml 映射。N没有办法通过注释来实现这一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T08:14:25.480

```
<class name="TicketBooking" table="TicketBooking"
        entity-name="TicketBooking">

</class>

<class name="TicketBooking" table="TicketBookingHistory"
        entity-name="TicketBookingHistory">
    ...
</class> 
```

**注释中不支持此功能。**

我认为您应该[不止一次地查看 Mapping a class](http://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html/mapping.html#mapping-entityname)。可以在将[两个相同的表（相同的模式...）映射到 Hibernate 中的相同实体中](https://stackoverflow.com/questions/4997950/map-two-identical-tables-same-schema-to-same-entity-in-hibernate)找到相同的问题。

但是所有这些都与 xml 映射一起使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T08:06:08.513

您可以使用`entity-name`类映射的属性来做到这一点。在此处查看相同的[文档](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/mapping.html#mapping-declaration-class)。

引用文档：

```
entity-name (optional - defaults to the class name): Hibernate3 allows a class to be mapped 
multiple times, potentially to different tables 
```

这是相同用例的[另一个示例](http://coderoony.blogspot.in/2008/12/mapping-class-multiple-times-in.html)。

# ruby-on-rails - 具有单表继承的关联 Rails 模型的 ORDER BY 错误

> ID：12741864
> 
> 赞同：0
> 
> 时间：2012-10-05T07:49:54.620
> 
> 标签：ruby-on-rails, ruby, activerecord, ruby-on-rails-3.2

我有一个单表继承模型，如下所示：

```
class Application < ActiveRecord::Base
  has_many :snapshots, :dependent => :destroy
  has_many :foos, :dependent => :destroy
end

class Snapshot < ActiveRecord::Base
end

class Foo < Snapshot
end 
```

Snapshot/Foo 类有一个日期变量名为 'when' 当我将 :order => 'when' （或 :when）添加到 has_many (foos) 关系时，数据库在我访问对象时会引发错误。例如 application.foos.each...

生成的查询：

```
SELECT "snapshots".* FROM "snapshots"  WHERE "snapshots"."type" IN ('Foo') AND "snapshots"."application_id" = 25 ORDER BY when 
```

*“当”附近的错误：语法错误

如果我手动编辑查询并将其输入到 rails dbconsole：

```
SELECT "snapshots".* FROM "snapshots"  WHERE "snapshots"."type" IN ('Foo') AND "snapshots"."application_id" = 25 ORDER BY "snapshots"."when" 
```

查询有效。

这是一个已知的 rails 3 错误还是有一些特殊的语法？任何解决方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T00:32:40.087

在尝试了很多事情之后，这很有效：

```
@application.foos.order("\"snapshots\".\"when\"") 
```

它使用适当的“快照”生成查询。“何时”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:58:39.633

按时间试试

```
 query.order(:when) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T08:04:05.587

尝试这个

```
SELECT *FROM snapshots where type IN ('Foo') AND application_id = 25 ORDER BY when 
```

# android - 使用 `mailto:` 方案通过意图发送电子邮件附件

> ID：12741865
> 
> 赞同：7
> 
> 时间：2012-10-05T07:49:56.023
> 
> 标签：android, email, gmail

我正在使用此代码附加文件：

```
final Intent emailIntent = new Intent(android.content.Intent.ACTION_SENDTO);
String uriText;
Uri file = Uri.fromFile(new File(path));
uriText = "mailto:" + 
              "?subject=the subject" + 
              "&body=the body of the message"+
              "&attachment="+file;
uriText = uriText.replace(" ", "%20");
Uri uri = Uri.parse(uriText);
emailIntent.setData(uri);
startActivity(Intent.createChooser(emailIntent, "Send mail...")); 
```

（请注意，`path`它类似于“/sdcard/test.jpg”，我使用它`ACTION_SENDTO`是因为我只想在选择器中查看电子邮件应用程序。）

该意图将提供电子邮件应用程序列表，但附件不会出现在电子邮件或 Gmail 中。如何让附件显示？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-17T14:43:44.703

这似乎适用于我的 Galaxy Nexus 和 Nexus 4（都运行股票 JellyBean API 17）。

具体来说：

```
Intent intent = new Intent(Intent.ACTION_SENDTO, Uri.fromParts("mailto", "email@me.com", null));
intent.putExtra(android.content.Intent.EXTRA_STREAM, Uri.fromFile(attachmentFile));
startActivity(Intent.createChooser(intent, "Send email...")); 
```

这不适用于我的 Nexus One (Gingerbread API 10) 或更旧的设备。我不确定它是从什么时候开始工作的。

也许其他人对此有更多详细信息？

当 ACTION_SENDTO 不合适时：

```
Intent intent = new Intent(Intent.ACTION_SEND);
intent.setType("vnd.android.cursor.dir/email");
intent.putExtra(android.content.Intent.EXTRA_EMAIL, new String[] { "email@me.com" });
intent.putExtra(android.content.Intent.EXTRA_STREAM, Uri.fromFile(attachmentFile)); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-07-08T13:34:07.633

> 该意图将提供电子邮件应用程序列表，但附件不会出现在电子邮件或 Gmail 中。如何让附件显示？

多年来，我一直在寻找解决这个问题的方法，为什么在某些设备或 Android 版本或邮件应用程序上似乎`Intent.ACTION_SENDTO`适合传输附件信息，`putExtra(Intent.EXTRA_STREAM,Uri.fromFile(...))`而在其他设备上却不是。

答案很简单：这取决于相应邮件应用程序的 Manifest。大多数邮件应用程序`android:mimeType`的意图过滤器中没有`android.intent.action.SENDTO`.

通常使用附件的唯一解决方案`Intent.ACTION_SENDTO`是告诉所有邮件应用程序的制造商他们应该像这样扩展他们的清单（和相应的代码）：

```
<intent-filter>
    <action android:name="android.intent.action.SENDTO" />
    <data android:scheme="mailto" />
    <data android:mimeType="text/plain" />
    <data android:mimeType="image/*" />
    <data android:mimeType="video/*" />
    ...
</intent-filter> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:58:01.423

这种方式对我有用：

```
public static void sendEmailWithImages(Context context, String emailTo, String emailCC, String subject, String emailText, String type, List<String> filePaths) {
    //need to "send multiple" to get more than one attachment
    final Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND_MULTIPLE);
    emailIntent.setType(type);
    emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL, new String[]{emailTo});
    emailIntent.putExtra(android.content.Intent.EXTRA_CC, new String[]{emailCC});
    emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, subject);
    emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, emailText);
    //has to be an ArrayList
    ArrayList<Uri> uris = new ArrayList<Uri>();
    //convert from paths to Android friendly Parcelable Uri's
    if(filePaths != null) {
        for (String file : filePaths) {
            File fileIn = new File(file);
            Uri u = Uri.fromFile(fileIn);
            uris.add(u);
        }
        emailIntent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);
    }
    try {
        context.startActivity(Intent.createChooser(emailIntent, context.getString(R.string.send_email_using_message)));
    }catch (ActivityNotFoundException e) {
        //TODO
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-09-26T11:15:42.730

这种方式对我有用：

```
PackageManager pm = getPackageManager();
  Intent emailIntent = new Intent(Intent.ACTION_SENDTO, Uri.parse("mailto:"));
  List<ResolveInfo> pkgAppsList = pm.queryIntentActivities(emailIntent, PackageManager.GET_RESOLVED_FILTER);
  List<LabeledIntent> intentList = new ArrayList<>();
  for(ResolveInfo resolveInfo : pkgAppsList){
    String packageName = resolveInfo.activityInfo.packageName;
    Intent intent = new Intent();
    intent.setPackage(packageName);
    intent.setComponent(new ComponentName(packageName, resolveInfo.activityInfo.name));
    intent.setAction(Intent.ACTION_SEND);
    intent.setType("message/rfc822");
    intent.putExtra(Intent.EXTRA_EMAIL, new String[]{});
    intent.putExtra(Intent.EXTRA_SUBJECT, subject);
    intent.putExtra(Intent.EXTRA_TEXT, "");
    intent.putExtra(Intent.EXTRA_STREAM, uri);
    intentList.add(new LabeledIntent(intent, packageName, resolveInfo.loadLabel(pm), resolveInfo.icon));
  }

  try {
    Intent chooser = Intent.createChooser(intentList.remove(intentList.size() - 1), "Отправка билета на почту");
    LabeledIntent[] extraIntents = intentList.toArray(new LabeledIntent[intentList.size()]);
    chooser.putExtra(Intent.EXTRA_INITIAL_INTENTS, extraIntents);
    startActivity(chooser);
  } catch (Exception ex) {
    Toast.makeText(TicketsActivity.this, "У Вас не установлен почтовый клиент.", Toast.LENGTH_SHORT).show();
  } 
```

# c++ - AfxLoadLibrary/ParseCommandLine 因 ERROR_NOACCESS 而失败

> ID：12741869
> 
> 赞同：0
> 
> 时间：2012-10-05T07:50:14.643
> 
> 标签：c++, windows, mfc

所以我有这个 DLL，我使用 AfxLoadLibrary 从我的主应用程序中调用它。一切正常，让我加载它并调用函数。

奇怪的是这个。

如果我的应用程序首先使用从另一个应用程序启动

```
::CreateProcess( File, CmdLine, 0, 0, FALSE, DETACHED_PROCESS, 0, 0, &StartupInfo, &ProcInfo ) 
```

然后启动的应用程序无法再加载 dll。

小图以免混淆任何人。

MainApplication -> Dll（一切正常）

启动器 -> MainApplication -> DLL（AfxLoadLibrary 因 ERROR_NOACCESS 而失败）

应用程序和 dll 都在同一个目录中。

编辑：

我设法获得的更多信息。实际上是 dll 中的这段代码在 ParseCommandLine 处失败。

```
 CCommandLineInfo cmdInfo;
 ParseCommandLine(cmdInfo);
 if (!ProcessShellCommand(cmdInfo))
    return FALSE; 
```

没有这个，dll 根本不会加载，所以任何人都可以说出启动器应用程序参与后发生了什么变化。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T09:25:09.340

原来问题出在这一行而不是在dll中

```
CreateProcess( File, CmdLine, 0, 0, FALSE, DETACHED_PROCESS, 0, 0, &StartupInfo, &ProcInfo ) 
```

CmdLine 变量中可能有一个空格，并且没有被包裹在“”中。

这导致命令行在断链时无法正确通过

```
ParseCommandLine(cmdInfo); 
```

并且偶然在启动的 exe 上工作。

编辑：

但是，这并不能解决的是，如果使用 CoCreateInstance 启动带有 dll 的 exe，则 ParseCommandLine 中会返回相同的问题。

# reporting-services - 具有自定义 Web UI 和格式的 SSRS 报告

> ID：12741871
> 
> 赞同：3
> 
> 时间：2012-10-05T07:50:20.487
> 
> 标签：reporting-services

报告服务如何返回我的 ASP.Net Web 应用程序可以使用 asp.net html 和 CSS 接收、格式化和显示的报告数据（我的报告服务器中已经有一些完整的报告）？

RS 是否可以将报告重新运行为 json、xml 等，我可以轻松地在我的代码隐藏中使用这些报告来显示它们？例如，我想将标题设为蓝色，将值设为深蓝色，并为我的报告放置背景图像，并以编程方式在报告中为某些值放置一些图标等。

我不想使用reportviewer 控件。我的报告不使用任何输入参数。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T20:42:19.897

有一种方法我已经尝试过了。

首先，您需要默认以 XML 格式输出报告。 [http://msdn.microsoft.com/en-us/library/ms154040.aspx](http://msdn.microsoft.com/en-us/library/ms154040.aspx) [http://msdn.microsoft.com/en-us/library/ms152835.aspx](http://msdn.microsoft.com/en-us/library/ms152835.aspx)

接下来，您需要使用 XSLT [http://msdn.microsoft.com/en-us/library/aa178953(v=sql.80).aspx将转换应用于 XML 输出](http://msdn.microsoft.com/en-us/library/aa178953%28v=sql.80%29.aspx)

我认为这是获取报告并将其样式转换为更像 HTML 的唯一方法

**另一个解决方案** 基于[TFD](https://stackoverflow.com/users/68607/tfd)建议，我创建了一个简单的控制台应用程序，它读取报告服务生成的 csv 文件并打印结果。

我使用[了 LinqToExcel](http://code.google.com/p/linqtoexcel/)，所以读取数据会更快，但您不必使用它

编码：

```
System.Net.WebClient client = new WebClient();
        client.Credentials = new NetworkCredential("username", "password");
        client.DownloadFile("reporingservisesURL/ReportServer?
        rs:Command=Render&rs:Format=CSV", "file.csv");
        FileInfo file = new FileInfo("file.csv");

        var excel = new ExcelQueryFactory(file.FullName);
        var worksheetNames = excel.GetWorksheetNames();
        var results = from c in excel.Worksheet("UsersTry")
                      select c;

        foreach (var item in results)
        {
            Console.WriteLine(String.Format("UserID: {0} , UserName:{1} ,
            LoginName: {2}",item[0].Value,item[1].Value,item[2].Value));
        }

        Console.WriteLine("The End :)");
        Console.ReadLine(); 
```

希望对你有帮助

# ruby-on-rails-3.2 - Netzke中三种模型之间的关联

> ID：12741875
> 
> 赞同：0
> 
> 时间：2012-10-05T07:50:32.793
> 
> 标签：ruby-on-rails-3.2, netzke

我有 3 个模型：机器、鼠标、键盘，它们是关联的。

```
class Machine
  has_many: mouses
  has_many: keyboards
end

class Mouse
  belongs_to: machine
end

class KeyBoard
  belongs_to: machine
end 
```

这些协会运作良好。

但是，我想通过 netzke 显示三个网格`OneToManyExplorer`

```
class MachineExplorer < Netzke::Communitypack::OneToManyExplorer
title "Machines"
 title "Machines"
 container_config class_name: "MachineGrid",
                   region: :north,
                   height: 200,
                   width: 150
 collection_config class_name: "MachineKeyBoardGrid", 
                   region: :east,
                   height: 200,
                   width: 100,
                   split: true                

 collection_config class_name: "MachineMouseGrid",
                   region: :center,
                   height: 200,
                   width: 150

end 
```

但它只显示两个网格。`MachineGrid`和`MachineMouseGrid`。我`MachineKeyBoardGrid`也想要。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-14T08:45:10.467

您需要使用以下教程作为参考自己实现它： [https ://github.com/netzke/netzke/wiki/Building-a-composite-component](https://github.com/netzke/netzke/wiki/Building-a-composite-component)

# json - Youtube api json 日期发布错误 - 1970-01-01T00:00:00.000Z

> ID：12741879
> 
> 赞同：1
> 
> 时间：2012-10-05T07:51:00.817
> 
> 标签：json, date, youtube-api

在来自 YouTube API 的链接[JSON](http://gdata.youtube.com/feeds/api/playlists/PLF7D9F274F1E5DD4B?alt=json)文件中，发布日期是错误的： `"1970-01-01T00:00:00.000Z"`

但在[YouTube 视频](http://www.youtube.com/watch?v=yOMfhqY3Nwo&feature=youtube_gdata)上是正确的：`"Published on Aug 10, 2012 by Privalia"`

实际上有 2 个视频，并且发布日期在这些节点中发送（查看原始 JSON 以了解我所指的内容）： `feed.entry.0.published`和`feed.entry.1.published`

奇怪的是，当我尝试另一个用户的另一个播放列表时，发布的日期是正确的。这是 YouTube API 错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T19:34:03.513

播放列表供稿中的`published`标签对应于视频添加到播放列表的时间，而不是视频上传到 YouTube 的时间。

如果您查看该特定视频 ID 的视频条目，则该`published`值看起来是正确的：

[http://gdata.youtube.com/feeds/api/videos/yOMfhqY3Nwo?v=2&alt=json&prettyprint=true](http://gdata.youtube.com/feeds/api/videos/yOMfhqY3Nwo?v=2&alt=json&prettyprint=true)

我不知道为什么没有可用的时间戳与视频添加到该播放列表的时间相对应，但希望现在您知道该标签的含义是什么，表明它并不那么重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T18:47:49.057

看到发布日期是 Unix 时间戳世界的 0，我会说是的，这可能是他们的错误。

# python - 如何从流中将图像文件加载到 gtk.gdk.Pixbuf？

> ID：12741880
> 
> 赞同：3
> 
> 时间：2012-10-05T07:51:17.697
> 
> 标签：python, pygtk

我有一个文件picture.jpg，我正在把它读到内存中

```
f = open('picture.jpg', 'rb')
pic = f.read()
f.close() 
```

如何将 pic 转换为 gtk.gdk.Pixbuf？我知道有 gdk_pixbuf_new_from_stream() 但它似乎从 pyGTK 中丢失：/

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-05T07:57:00.677

您可以使用`Pixbuf`加载器：

```
loader = gtk.gdk.PixbufLoader('jpeg')
loader.write(pic)
loader.close()

pixbuf = loader.get_pixbuf() 
```

# javascript - 当我将其添加到原始 html 时，html 属性“只读”会停止文本输入，但如果我通过 javascript 添加它则不会

> ID：12741884
> 
> 赞同：2
> 
> 时间：2012-10-05T07:51:30.290
> 
> 标签：javascript, jquery, html, readonly

> **可能重复：**
> [将“只读”添加到 <input > (jQuery)](https://stackoverflow.com/questions/1306708/add-readonly-to-input-jquery)

这太奇怪了，我希望有一个简单的解释。我正在使用 Rails，但我认为这并不重要。

我直接将 readonly 属性添加到我的项目 html 元素中，我加载页面并且输入字段的行为就像它应该的那样是只读的。页面加载后，元素如下所示：

```
<input class="span6" id="event_title" name="event[title]" readonly="readonly" size="30" type="text" value="test"> 
```

但是我真的很想通过jquery添加它。当我这样做时：

```
$('#event_title').attr(readyonly", "readonly") 
```

页面加载后，元素如下所示：

```
<input class="span6" id="event_title" name="event[title]" size="30" type="text" value="test" readyonly="readonly"> 
```

但是该字段仍然是可编辑的，并且没有被只读的迹象！请帮忙....

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T07:53:56.653

这：

```
$('#event_title').attr(readyonly", "readonly") 
```

应该：

```
$('#event_title').prop('readonly', true); 
```

`readyonly`是一个拼写错误，是使用,和.[`.prop`](http://api.jquery.com/prop/)等属性的最佳实践。这篇文章有助于解释差异：[.prop() 与 .attr()](https://stackoverflow.com/questions/5874652/prop-vs-attr)`readonly``selected``checked`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-05T07:54:22.080

您拼错`$('#event_title').attr(readyonly", "readonly")`了“readonly” - 您将“readonly”作为第一个参数 :-)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-05T07:54:42.817

尝试：

$('#event_title').attr('readonly', true);

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-05T07:53:50.373

您输入错误：

```
$('#event_title').attr(readyonly", "readonly") 
```

将其更改为：

```
$('#event_title').attr("readonly", "readonly") 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-05T07:53:44.533

尝试使用“prop”而不是“attr”

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-05T09:34:18.917

我遇到过类似的问题。我认为您帖子中的拼写错误只是加载页面示例正确反映了该属性。

我是否可以建议您需要问自己的问题是属性和属性之间的区别是什么。即你什么时候应该使用.attr 和.prop。

您会发现在引入 .prop 时发布了很多关于 jQuery 1.6 和 1.6.1 发布的信息。

据我了解，每个 DOM 元素与任何对象一样都具有属性和属性。旧的 .attr 显然没有将当前的 .attr 和 .prop 分开。

在我的情况下，我认为你的情况是这样，当遇到布尔属性时，这具有特别的意义——所以检查、选择、禁用、只读是布尔属性，即可以是真或假。我发现这些存在的财产特别重要！

因为即使属性以空值存在，布尔属性也可以说是真的。

所以 readonly 可以设置为 true

`<input readonly>`或`<input readonly="">`或`<input readonly="readonly">`

因此在 jquery 中使用 .attr 来控制只读可能会导致意外结果，因此要打开和关闭使用只读

```
$('#event_title').prop("readyonly", true);
$('#event_title').prop("readyonly", false); 
```

当心你可能想说

```
$('#event_title').removeProp("readyonly"); 
```

关闭。但这将是错误的，因为如果应用于本机属性，例如选择或选中或禁用（直到刷新页面），您将无法切换回来。所以只有在你真的想删除它时才使用删除。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-10-05T07:54:07.950

那应该工作：

```
 $('#event_title').attr("readyonly", "readonly"); 
```

还要留意控制台，是否有任何 JS 错误？

# iphone - 使动态 ImageViews 可点击

> ID：12741886
> 
> 赞同：0
> 
> 时间：2012-10-05T07:51:39.447
> 
> 标签：iphone, ios, uiimageview, uiimage, ibaction

我正在开发一个应用程序，它动态地从图像文件夹中提取图像并将它们显示在 ScrollView 中，与 Apple 的[本教程代码](https://developer.apple.com/library/ios/#samplecode/Scrolling/Listings/MyViewController_m.html)非常相似（查看 viewDidLoad 方法）：

每个图像都被放入一个 ImageView 中。现在我想让每张图片都可点击，但由于它是动态的，我无法创建固定数量的 IBAction + 这将是非常重复和复制/粘贴，我想避免这种情况。

所以基本上这段代码：

```
-(IBAction)Fork {
[buttonImageView setImage:[UIImage imageNamed:@"Fork.png"]];
} 
```

但是对于每个创建的图像。我特别困惑，因为我无法通过情节提要将 IBActions 连接到按钮。

由于我是初学者，因此我感谢任何有关代码提示的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T08:04:54.590

您可能希望单击由单个操作处理，并将图像视图作为发送者传递，您可以在其中相应地区分您的操作。

您可以使用 a`UITapGestureRecognizer`快速入门：

```
UIImageView *imageView = ... // However you're creating it
UITapGestureRecognizer *tapper = [[[UITapGestureRecognizer alloc] init] autorelease];
[imageView addGestureRecognizer:tapper];
[tapper addTarget:self action:@selector(handleTap:)]; 
```

实现水龙头的处理程序，如：

```
- (void)handleTap:(UITapGestureRecognizer *)recognizer
{
    UIImageView *imageView = recognizer.view;
    imageView.image = [UIImage imageNamed:@"Fork.png"];
} 
```

如果你需要做一些事情，比如在你点击它时调整图像，你可能想尝试`UIButton`使用自定义类型并相应地设置图像。无论如何，希望这会有所帮助！

# ios - 调试器没有进入appDelegate

> ID：12741887
> 
> 赞同：0
> 
> 时间：2012-10-05T07:51:41.077
> 
> 标签：ios, view, compiler-errors, appdelegate

当我运行应用程序时，我收到此错误：

```
 'NSUnknownKeyException', reason: '[<UIApplication 0x860fec0> setValue:
  forUndefinedKey:]: this class is not key value coding-compliant
  for the key view.' 
```

我重写了类 RootViewController 并重新制作了 xib 两次。出于这个原因，我将调试器放在了appDelegate中，我在方法中看到了

```
 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions; 
```

连进都达不到直接进入主产生错误SIGBRT。这是什么意思？提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T08:32:07.337

好吧，我遇到同样错误的一个地方是，我在控制器中创建了一个对象的出口，然后稍后将其删除。但那个插座在“连接检查器”中仍然存在。

所以检查那里是否仍然存在一些名为“view”的连接。这意味着您正在尝试在代码中某个不存在的地方设置键“视图”的值..！所以首先你可以寻找的是连接检查器..:)

# objective-c - 类不完整的实现代码错误？

> ID：12741888
> 
> 赞同：0
> 
> 时间：2012-10-05T07:51:41.523
> 
> 标签：objective-c, xcode, implementation

// 我环顾四周，似乎`incomplete implementation`你的代码中有一个错误，但我似乎找不到它，请帮助我。

ScrollerViewController.m：

```
//
//  ScrollerViewController.m
//  Coach App Restore
//
//  Created by Marco Donkers on 10/4/12.
//  Copyright (c) 2012 Marco Donkers. All rights reserved.
//

#import "ScrollerViewController.h"

@interface ScrollerViewController()

@end

@implementation ScrollerViewController // incomplete implementation

NSString *combinedString;
NSString *teamString;
int integerMdon = 1;

@synthesize lblTeamPlayerMdon;
@synthesize tbTeamPlayerMdon;
@synthesize playerNumberMdon;
@synthesize sliderNumberMdon;
@synthesize lblPlayerNumberMdon;
@synthesize switchRingLeaderMdon;
@synthesize lblTeam;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) 
    {
    // Custom initialization
    }
return self;
}

- (void)viewDidLoad
{

[super viewDidLoad];
[self loadString:@"Number":teamString];
tbTeamPlayerMdon.text = teamString;

}

- (void)didReceiveMemoryWarning
{
[super didReceiveMemoryWarning];
// Dispose of any resources that can be recreated.
}
-(void)SaveTextBox:(NSString*)string :(NSString*)stringsave
{

NSString *savestring = string;
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
[defaults setObject:savestring forKey:stringsave];
[defaults synchronize];
}

-(void)loadString:(NSString *)location:(NSString *)saveInString
{
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
NSString *loadstring = [defaults objectForKey:location];
saveInString = loadstring;
}
- (IBAction)sliderPlayerNumberMdon:(id)sender
{
integerMdon = (int)sliderNumberMdon.value;
    playerNumberMdon.text = [[NSString alloc]initWithFormat:@"%d", integerMdon];

lblPlayerNumberMdon.text = [[NSString alloc] initWithFormat:@"%d", integerMdon];
}

- (IBAction)ringLeaderMdon:(id)sender
{

}

- (IBAction)tbTeamPlayerMdon:(id)sender
{
combinedString = [teamString stringByAppendingString:playerNumberMdon.text];
[self SaveTextBox:tbTeamPlayerMdon.text :combinedString];
lblTeamPlayerMdon.text = tbTeamPlayerMdon.text;
}

@end 
```

ScrollerViewController.h：

```
//
//  ScrollerViewController.h
//  Coach App Restore
//
//  Created by Marco Donkers on 10/4/12.
//  Copyright (c) 2012 Marco Donkers. All rights reserved.
//

#import <UIKit/UIKit.h>

@interface ScrollerViewController : UIViewController
@property (weak, nonatomic) IBOutlet UILabel *lblTeam;
@property (weak, nonatomic) IBOutlet UISwitch *switchRingLeaderMdon;
@property (weak, nonatomic) IBOutlet UISlider *sliderNumberMdon;
@property (weak, nonatomic) IBOutlet UILabel *lblTeamPlayerMdon;
@property (weak, nonatomic) IBOutlet UITextField *tbTeamPlayerMdon;
@property (weak, nonatomic) IBOutlet UILabel *playerNumberMdon;
@property (weak, nonatomic) IBOutlet UILabel *lblPlayerNumberMdon;
- (IBAction)sliderPlayerNumberMdon:(id)sender;
- (IBAction)ringLeaderMdon:(id)sender;
- (IBAction)tbTeamPlayerActionMdon:(id)sender;

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:55:39.663

您已经在界面中定义了 tbTeamPlayerActionMdon: 但在实现中定义了 tbTeamPlayerMdon

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:57:46.543

您需要将*tbTeamPlayerActionMdon*操作方法添加到 .m 文件，如下所示：

```
- (IBAction)tbTeamPlayerActionMdon:(id)sender {

} 
```

# sql - 在 sqlite manager 中运行多个命令

> ID：12741891
> 
> 赞同：4
> 
> 时间：2012-10-05T07:51:50.727
> 
> 标签：sql, database, sqlite, sqlitemanager

在 SQlite Manager 中直接执行 SQL 可以运行多个命令吗？（如果您插入大量数据很有用）

例如

```
insert into TestTable (Name, Age) values("Thomas", 25)
insert into TestTable (Name, Age) values("Peter", 29)
... 
```

谢谢

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-05T08:17:01.090

解决方案非常简单;-)

-> 使用分号分隔命令

```
insert into TestTable (Name, Age) values("Thomas", 25);
insert into TestTable (Name, Age) values("Peter", 29);
... 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-05T08:20:34.887

或者，您可以将语句编写为：

```
insert into TestTable (Name, Age) 
values
("Thomas", 25),
("Peter", 29)
; 
```

**编辑：**请注意，根据@DominiqueJacquel 的评论，这仅适用于 SQLite 版本 3.7.11+

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-11T11:19:17.750

也许您可以使用 executemany() 方法而不是 execute()

就像是：

```
values = [
    ("Thomas", 25),
    ("Peter", 29)
]
conn.executemany("insert into TestTable (Name, Age) values (?, ?)", values) 
```

会正常工作。

# c# - Response.Redirect 后无法编辑控件

> ID：12741894
> 
> 赞同：0
> 
> 时间：2012-10-05T07:51:56.187
> 
> 标签：c#, asp.net, event-handling

我有 2 个按钮（saveAll、toNextStatus）

saveAll，保存一个网格视图并将 Response.redirect 运行到同一页面。

toNextStatus，如下图所示。

```
 protected void toNextStatus_Click(object sender, EventArgs e)
    {    
        DataTable dt = OrderDetailData.Check2to3(Session["Id"].ToString());

        if (dt.Rows.Count > 0)
        {
            lbl_Error.Text = "Please fill all fields";
            lbl_Error.Visible = true;
        }
        else
        {
            OrderDefinitionData.UpdateStatus(Session["Id"].ToString(), "3", "2");
            Response.Redirect("~/Default.aspx");
        }
    } 
```

执行应用程序后，我单击 saveAll -> 没问题，它保存了 gridview，我单击 toNextStatus 它显示“请填写所有字段”。

现在我想让我的 toNextStatus 按钮类似于“SaveAndToNextStatus”，所以我想合并这两个按钮。

出于这个原因，我将下面的代码部分添加到上面的代码中

```
begv_OrderDetail.SaveClicked(sender, e); //Click event of first button saveAll 
```

执行应用程序后，我点击到NextStatus，它保存了页面，但它没有显示“请填写所有字段”

**编辑：**

我在GridView（1）（dropdownlist_ship_container）内部有一个控件，并且在选择和保存的ship_container时，我在同一页面上有另一个gridview（2）（ship_container_manager）（ship_container_manager），我需要重新刷新我的页面我的 ship_container_manager 被刷新（通过在使用过的容器附近设置删除按钮可见性 = false），因此用户可能不会删除此容器。由于我的 (1) 是 web 控件，因此我无法在 (1) 的保存按钮内访问 (2)，因此我重定向到 (1) 的保存按钮内的同一页面，以便刷新 (2)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T10:55:30.207

如果您想查看 gridview 的变化，请使用`gridview.databind()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:57:06.560

请阅读[生命周期页面](http://msdn.microsoft.com/en-us/library/ms178472%28v=vs.100%29.aspx)。为什么将 Response.redirect 运行到同一页面？

# android - Android：JSON 解析

> ID：12741895
> 
> 赞同：0
> 
> 时间：2012-10-05T07:51:57.873
> 
> 标签：android, json, parsing, listview

我的网站生成了以下 json。我对android编程完全陌生。如果可能，请告诉我如何解析以下 json 数据以显示在列表视图中。

JSON：

```
 {
   "Category":[
      {
         "id":"14",
         "parent_id":"2",
         "lft":"3",
         "rght":"18",
         "name":"Category Name",
         "icon":"",
         "created":"2012-04-21 23:43:37",
         "modified":"2012-04-21 23:43:37"
      },
      {
         "id":"15",
         "parent_id":"2",
         "lft":"19",
         "rght":"28",
         "name":"Category Name",
         "icon":"",
         "created":"2012-04-21 23:44:10",
         "modified":"2012-04-21 23:44:10"
      },
      {
         "id":"16",
         "parent_id":"2",
         "lft":"29",
         "rght":"34",
         "name":"Category Name",
         "icon":"",
         "created":"2012-04-21 23:44:35",
         "modified":"2012-04-21 23:45:37"
      },
      {
         "id":"17",
         "parent_id":"2",
         "lft":"35",
         "rght":"60",
         "name":"Category Name",
         "icon":"",
         "created":"2012-04-21 23:44:52",
         "modified":"2012-04-21 23:45:53"
      },
      {
         "id":"18",
         "parent_id":"2",
         "lft":"61",
         "rght":"62",
         "name":"Category Name",
         "icon":"",
         "created":"2012-04-21 23:46:05",
         "modified":"2012-04-21 23:46:05"
      },
      {
         "id":"19",
         "parent_id":"2",
         "lft":"63",
         "rght":"70",
         "name":"Category Name",
         "icon":"",
         "created":"2012-04-21 23:46:19",
         "modified":"2012-04-21 23:46:19"
      }
   ],
   "success":1
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T08:06:28.933

获取json数组，并一一获取其中的各个嵌套对象和数组。然后使用 get(String key) 方法获取对象内单个字符串的值。

在您的情况下，代码将是：

```
JSONObject json_data = new JSONObject(result);
JSONArray json_array = new JSONArray(json_data.getString("Category"));
JSONObject temp;
for(i=0;i<json_array.length();i++)
{
temp = json_array.getJSONObject(i);

String id = temp.get("id").toString();
String parent_id = temp.get("parent_id").toString();
.
.
.
}
String success_value=json_data.get("success"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-31T12:29:48.147

试试谷歌的 Gson。这是示例。如何将其解析为数组列表

```
List<Category> categories = gson.fromJson(json, new TypeToken<Collection<Category>>() {}.getType()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:53:25.127

```
JSONObject jasonobject = new JSONObject(yourString);
JSONArray jarray = Jasonobject.getJSONArray("Category");

for (int i = 0; i < Jarray.length(); i++) { ...} 
```

检查[http://p-xr.com/android-tutorial-how-to-parse-read-json-data-into-a-android-listview/](http://p-xr.com/android-tutorial-how-to-parse-read-json-data-into-a-android-listview/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T08:00:08.750

我可能会使用像杰克逊这样的第 3 方库：http: [//jackson.codehaus.org/](http://jackson.codehaus.org/)

然后你可以做这样的事情：

```
ObjectMapper mapper = new ObjectMapper();
JsonParser jp = mapper.getJsonFactory().createJsonParser(jsonBody);
JsonNode rootNode = mapper.readTree(jp); 
```

jsonBody 是你的字符串。然后，您可以使用 JsonNode 的 get() 方法以您认为对您的目的最有用的方式提取数据。Internet 上有很多示例可以帮助您入门。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T08:00:20.720

试试这样

```
JSONObject object = new JSONObject(result);
JSONArray Jarray = object.getJSONArray("Category");

for (int i = 0; i < Jarray.length(); i++) {
    JSONObject Jasonobject = Jarray.getJSONObject(i); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-05T08:00:49.693

看看 Google 在 Java 中的 JSON 实现。

GSON 真是太棒了。[http://code.google.com/p/google-gson/](http://code.google.com/p/google-gson/)

# javascript - 返回带参数的视图

> ID：12741900
> 
> 赞同：0
> 
> 时间：2012-10-05T07:52:32.957
> 
> 标签：javascript, ajax, asp.net-mvc

基本上我的 MVC 网站在我的页面上有几个标签，它使用 JavaScript。

然后我有 JavaScript 方法来读取这个 URL 并使用 AJAX 来选择适当的选项卡，如下所示：

```
function onbodyLoad(URL) {

    if (URL.indexOf("Login/Register") != -1) {
        var index = 4;
        var $tabs = $('#tabs').tabs();
        $tabs.tabs('url', index, "/Login/RegistrationConfirmation");
        $tabs.tabs('select', index + 1); 
        $tabs.tabs('select', index); 
    }
} 
```

现在我在控制器的 httppost 方法中检查几个属性为 null 并返回一个视图。它有效，但缺少样式，因此必须按照上述方式进行。

如果没有错误并且它们为空写入 url“错误”，是否可以写入页面 URL“成功”。所以在上面的函数中，我可以检查 URL 并转发到适当的选项卡。

或者也许编写一个带有参数的 actionresult 方法并返回它。但不知道......任何人都可以阐明一些光

希望这是有道理的。

* * *

**更新：** 在我的控制器上，我这样做是为了将参数添加到我的注册视图中：

```
RouteValueDictionary rvd = new RouteValueDictionary();
rvd.Add("ParamID", "1");
return RedirectToAction("Register", "Login", rvd); 
```

而 Jquery 我这样做是为了阅读 url 并选择该选项卡：

```
if (URL.indexOf("Login/Register?ParamID=1") != -1) {
    var index = 2;
    var $tabs = $('#tabs').tabs(); 
    $tabs.tabs('url', index, "/Login/Register");
    $tabs.tabs('select', index + 1); 
    $tabs.tabs('select', index); 
} 
```

我可以看到带有参数的 url，但 jquery 似乎不起作用，它只是说找不到。请问有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T08:29:53.830

如果您查看 API，您可能会找到用于选项卡初始化的 ajaxOptions-option。

```
$tabs.tabs({ ajaxOptions: { async: false } }); 
```

[$tabs.tabs({ ajaxOptions: { async: false } });](http://docs.jquery.com/UI/API/1.8/Tabs#option-ajaxOptions)

更合适的是：

```
// Definition of the tabs variable, note in particular the argument 'ajaxOptions'
var $tabs = $('#example').tabs({
    ajaxOptions: {
        success: function() {
            $tabs.tabs('select', getIndex() + 1); 
            $tabs.tabs('select', getIndex() );
        },
        error: function() {}
    }
});

function getIndex() {
    return 4;
}

function onbodyLoad(URL) {

    if (URL.indexOf("Login/Register") != -1) {

        var $tabs = $('#tabs').tabs();
        $tabs.tabs('url', index, "/Login/RegistrationConfirmation");
    }
} 
```

这会有帮助吗..？

PS我没有测试这个。

# gwt - GWT：设置具有可排序列和过滤的异步数据网格

> ID：12741902
> 
> 赞同：1
> 
> 时间：2012-10-05T07:52:48.650
> 
> 标签：gwt, datagrid

我已经设置了`DataGrid`一个`ListDataProvider`基本上遵循[GWT 展示中提供的模式](http://gwt.google.com/samples/Showcase/Showcase.html#!CwDataGrid)。我的表有几个可排序的列，并且我实现了一个下拉列表，该下拉列表按特定列值过滤值。

我想将我的数据提供程序更改为异步并一次加载一页结果。我在我的应用程序的另一个表上使用`AsynchronousDataProvider`了[这种模式](http://www.mytechtip.com/2010/11/gwt-celltable-example-using_8168.html)，它运行良好，但在这种情况下，我没有任何可排序的列。

我的第一个想法是这`AsynchronousDataProvider`无济于事，因为我看不到它如何支持可排序的列（或过滤）。也许我可以修改我的使用，`ListDataProvider`一次只加载一页？

有兴趣了解其他人是如何实现这一点的。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-07T05:49:41.600

AsyncDataProvider 的分页是在 API 端完成的（或从任何地方获取数据）。您可以为此 API 调用提供排序参数等。

DataGrid 提供范围开始和长度，因此您实际上是在请求

```
SELECT * FROM STUFF WHERE ID > start AND ID < start + length SORT BY sortorder ASC/DESC 
```

创建 DataGrid 时，可以将列设置为可排序，并创建自己的 sortOrder。可以创建 SQL 查询所需的所有数据。表的排序条目还包含有关列是升序还是降序的数据

# php - 使用 pdo_dblib 连接 sybase 失败

> ID：12741903
> 
> 赞同：0
> 
> 时间：2012-10-05T07:53:04.563
> 
> 标签：php, pdo, sybase

我想使用 PDO 连接到使用 PHP 的 Sybase `pdo_dblib`。这就是我所做的：

```
$conn = new PDO("dblib:host=$db_host:$db_port;dbname=$db_name","$login","$password"); 
```

它向我展示了`SQL Null error`。我不知道如何正确处理。我检查了 php 信息，并且 pdo_dblib 在那里。

```
PDO Driver for FreeTDS/Sybase DB-lib: Flavour
enabled: freetds 
```

顺便问一下，需要数据库端口吗？在此之前，我没有放数据库端口号，加上现在我仍然无法获取端口号。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-27T14:59:22.970

请按照以下步骤查找错误原因

Step1：使用telnet连接。

```
xxx@ubuntuvbox:~$ telnet 10.1.1.1 5000
Trying 10.1.1.1...
Connected to 10.1.1.1. 
```

第二步：配置 FreeTDS

编辑 freetds.conf，位于 /etc/freetds/ (Ubuntu 11.10)

```
[global]
    # TDS protocol version
    tds version = 5.0
    text size = 64512 
```

第 3 步：使用 FreeTDS 连接

```
xxx@ubuntuvbox:~$ sqsh -S 10.1.1.1:5000 -Usa
sqsh-2.1 Copyright (C) 1995-2001 Scott C. Gray
This is free software with ABSOLUTELY NO WARRANTY
For more information type '\warranty'
Password: 
Msg 2401, Level 11, State 2
Server 'XXXXXX'
Character set conversion is not available between client character set 'utf8'
and server character set 'cp850'.
No conversions will be done.
1> select * from ..... 
```

第 4 步：使用 FreeTDS 与 PHP 连接

检查这个...

```
$dbh = new PDO ('dblib:host=10.1.1.1:5000;dbname=databasename','sa','password'); 
```

# php - PHP：文本替换并不总是生效？

> ID：12741908
> 
> 赞同：1
> 
> 时间：2012-10-05T07:53:27.270
> 
> 标签：php, replace, str-replace, typography

*即使这个问题是基于 wordpress 方法的，这个问题也可能是一个纯粹的 php 问题。*

我编写了以下函数，以使我的整个网站与引号、破折号和其他印刷符号保持一致。

```
add_filter('the_content', 'wr_replace_text');
add_filter('the_excerpt', 'wr_replace_text');

function wr_replace_text($text){
    $replace = array(
            '„' => '&raquo;',
            '“' => '&raquo;',
            '›' => '&raquo;',
            '“' => '&laquo;',
            '”' => '&laquo;',
            '‹' => '&laquo;',
            ' - ' => ' &mdash; ',
            ' – ' => ' &mdash; ',
            ' –,' => ' &mdash;, ',
            '...' => '&hellip;',
            '(c)' => '&copy;'
    );
    $text = str_replace(array_keys($replace), $replace, $text);
    return $text;
} 
```

但是，这似乎并不准确。有时有效，有时无效。

.eg 以下句子中有引号，它们不会被替换。

> 我是 voluptua。“在 Vero” eos 等

知道为什么我的替换函数不匹配这个引号而不替换它们吗？如果我添加`'A' => 'B'`到我的函数中，我可以清楚地看到该函数有效，因为所有“A”都被“B”取代。但是，为什么引号在这种情况下不起作用。在我的网站上还有其他一些引号被替换的情况。

先感谢您！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:57:40.380

您示例中的引号是双引号 (")，应编码为

```
'"' => &quot; 
```

# web - 是否可以使字体仅在浏览器中工作？

> ID：12741914
> 
> 赞同：2
> 
> 时间：2012-10-05T07:53:40.850
> 
> 标签：web, browser, fonts, opentype

我在网站上使用来自[TypeKit](https://typekit.com/)的字体。该网站的设计是在 Photoshop 中制作的，我非常希望在设计时可以使用该字体。但是 TypeKit 只允许您在网站上嵌入字体并且不提供任何可下载的文件。

但是，我当然可以打开 Web Inspector，转到网络并下载字体（它是“base64 URL”，所以我不能只从服务器下载文件）。但由于某种原因，我无法安装字体。我在 OS X 中遇到某种（解析？）错误。我还尝试了几个从 OTF 到 TTF/WOFF 的转换器，结果相似。不过，如果我将下载的字体提供给网络浏览器，它就可以工作。

那么，是否可以使字体（在这种情况下为 OTF）仅在浏览器中工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T08:17:52.420

他们正在描述他们如何在他们的页面上保护他们的字体：http: [//blog.typekit.com/2009/07/21/serving-and-protecting-fonts-on-the-web/](http://blog.typekit.com/2009/07/21/serving-and-protecting-fonts-on-the-web/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T11:27:00.440

显然，base64 编码的字符串不是 OTF 格式，正如 MIME 类型所暗示的那样，而是 WOFF 格式。因此，将下载的文件从 WOFF 转换为 TTF/OTF 后，即可安装。

# php - 组合两个数组，一个来自 array[] 另一个来自 array2 = array(); php

> ID：12741922
> 
> 赞同：2
> 
> 时间：2012-10-05T07:54:03.680
> 
> 标签：php, mysql

我不确定如何将这两个数组组合在一起：

```
$query = mysql_query("SELECT * FROM table ORDER BY id");
$rows = array();
while($r = mysql_fetch_assoc($query)) {
   $rows[] = $r;
}

  $out = array("$r,'fruit'=> 'orange','location'=> 'home , 'test'=> 'off'"); 
```

如您所见，我将所有 mysql 表数据放入一个名为**$rows[]**的数组 中，我还有另一个名为**$out的数组**

我如何将这两者结合起来，以便我可以用 json 对它们进行编码：

```
$result_string = json_encode($combined);
print $callback.'('.result_string.');'; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:55:45.440

采用`array_merge`

```
 $result = array_merge($rows, $out); 
```

**[参见 PHP 手册：array_Merge](http://php.net/manual/en/function.array-merge.php)**

# ios - 两个视图控制器的 TouchesMoved 方法

> ID：12741923
> 
> 赞同：0
> 
> 时间：2012-10-05T07:54:06.020
> 
> 标签：ios, objective-c, uiviewcontroller, touchesmoved, touches

在我的应用程序中有两个视图控制器。我在两个视图控制器中都编写了 touchesmoved 方法。但即使我在模拟器上触摸第二个视图控制器，也会调用第一个 VC 触摸移动方法。

// 对于 VCOne

```
-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{
    NSLog(@"first view vc move method");

     UIStoryboard *storyboard = self.storyboard;
     ThreadedView *secViewController = [storyboard instantiateViewControllerWithIdentifier:@"threaded"];
     [self.view addSubview:secViewController.view];

     [self viewDidUnload];
} 
```

因此，一旦调用了上述方法，它将导航到第二个视图控制器的“ViewDIDLoad”方法。在这个文件中，我又写了一个触摸移动的方法。

// 对于 VCtwo

```
-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{
    NSLog(@"second view vc move method");
} 
```

现在，如果我在第二个视图控制器中触摸，则调用第一个 VC 触摸方法而不是第二个 VC 触摸方法。

有没有办法做到这一点？对于不同的视图控制器，我需要不同的触摸移动方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T08:56:38.013

如果你想从第一个视图控制器过渡到第二个视图控制器，你可以试试这个方法：`presentModalViewController:animated:`.

在您`touchesMoved:withEvevt:`的第一个视图控制器中

```
NSLog(@"first view vc move method");

UIStoryboard *storyboard = self.storyboard;
ThreadedView *secViewController = [storyboard instantiateViewControllerWithIdentifier:@"Threaded"];
[self presentModalViewController:secViewController animated:NO]; 
```

在第二个视图控制器中，您可以使用`dismissModalViewControllerAnimated:`返回到第一个视图控制器。

希望这会有所帮助。

# magento - Java脚本中的Magento onestepcheckout错误

> ID：12741926
> 
> 赞同：-1
> 
> 时间：2012-10-05T07:54:16.583
> 
> 标签：magento

我的一步结帐让我很头疼。 IE 中的开发控制台在此代码段中给了我一个错误：

```
var checkout = new Checkout();
$$('#checkout-payment-method-load dt input').invoke('observe', 'click', function(e) {

var element = e.element();
var name = 'payment_form_' + element.getValue();
payment.currentMethod = element.getValue();
/* Hide all other forms */
$$('dd.payment-method').invoke('hide');

if(element.checked) {
    payment.switchMethod(payment.currentMethod);
    var form = $(name);
    var container = $('container_payment_method_' + element.getValue());

    if(element !== null && container !== null)    {
        container.show();
       $(name).show();
    }
}
}); 
```

这是给我带来麻烦的行：

```
 if(element !== null && container !== null)    {
        container.show();
       $(name).show(); 
```

如果我注释掉这个，它工作正常：

```
 $(name).show(); 
```

我看不到这条线的目的？谁能帮我这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T11:54:53.433

**建议**

对于我的一位使用 OneStepCheckOut 扩展的客户。在我的扩展中，JS 变量名称 - 'name' 有一个值 - “payment_form_cashondelivery”，它是“货到付款”付款信息的 ID。

```
<ul style="" id="payment_form_cashondelivery">
        <li>You will be charged an extra fee of <span class="price">Rs. 75.00</span>.</li>
        <li>Did you know: By using Credit Cards or Net Banking you can get Free Shipping?</li>
</ul> 
```

因此，请检查您是否有“货到付款”付款方式。

如果您没有启用此付款选项，则在 JS 中输入一个 IF 条件以检查 ID 是否存在。

```
if($(name)) { $(name).show(); } 
```

# php - 使用 Plesk 加载 PHP 扩展

> ID：12741931
> 
> 赞同：2
> 
> 时间：2012-10-05T07:54:26.730
> 
> 标签：php, windows-server-2008, plesk, php-extension

我正在尝试使用域、订阅或子域的**PHP 设置**`php_memcache.dll`下的 Plesk**附加指令**部分加载扩展。无论我做什么，我都无法让 Plesk 加载扩展！

 **我可以将扩展加载到 PHP 中的唯一方法是手动编辑`php.ini`，这是一个肮脏的修复，因为每次更新服务器时我都需要编辑它，因为`php.ini`每次都会被覆盖！

**`php_memcache.dll`肯定在 中引用的扩展目录中，这可以通过手动`phpinfo()`输入扩展来成功加载扩展这一事实证明。`php.ini`**

我很确定这是一个错误，但只是想看看其他人是否有任何类似的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-21T17:15:46.783

该错误似乎是暗示有可能的描述，而实际上并非如此。

在此页面中：http: [//download1.parallels.com/Plesk/PP11/11.5/Doc/en-US/online/plesk-administrator-guide/index.htm](http://download1.parallels.com/Plesk/PP11/11.5/Doc/en-US/online/plesk-administrator-guide/index.htm?fileName=69696.htm) ?fileName=69696.htm它说可以采取其他指令在此页面中列为 PHP_INI_USER 和 PHP_INI_ALL 的任何设置：http: [//php.net/manual/en/ini.list.php](http://php.net/manual/en/ini.list.php)。

在该页面中，扩展名仅列为 php.ini，因此无法从附加指令选项中使用。**

# java - FileInputStream 和 FileOutputStream 到同一个文件：是否保证 read() 可以看到“之前发生”的所有 write()？

> ID：12741937
> 
> 赞同：10
> 
> 时间：2012-10-05T07:54:33.087
> 
> 标签：java, concurrency, stream

我正在使用文件作为大数据的缓存。一个线程按顺序写入，另一个线程按顺序读取。

我可以确定`write()`在一个线程中（由）写入的所有数据都可以`read()`来自另一个线程，假设在 Java 内存模型方面存在适当的“之前发生”关系？这种行为是否记录在案？

在我的 JDK 中，`FileOutputStream`不覆盖`flush()`，并且`OutputStream.flush()`是空的。这就是为什么我想知道...

有问题的流由我完全控制的类专有。每个流都保证只能由一个线程访问。我的测试表明它按预期工作，但我仍然想知道这是否得到保证和记录。

另请参阅[此相关讨论](https://chat.stackoverflow.com/rooms/17598/discussion-between-hussain-al-mutawa-and-user946850)。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-07T21:21:14.543

假设您使用的是 posix 文件系统，那么是的。

`FileInputStream``FileOutputStream`在 *nix 上使用内部的 read 和 write 系统调用。write 的文档说[读取将看到过去写入的结果](http://pubs.opengroup.org/onlinepubs/007904975/functions/write.html)，

> 对常规文件的 write() 成功返回后：
> 
> 从文件中被该写入修改的每个字节位置的任何成功 read() 都应返回 write() 为该位置指定的数据，直到再次修改此类字节位置。

我很确定 Windows 上的 ntfs 也会有同样的`read()` `write()`保证。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-07T21:23:40.697

`FileInputStream`您不能就您和对象之间的 Java 内存模型谈论“之前发生”的关系，`FileOutputStream`因为它们不共享任何内存或线程。VM 可以根据您的同步要求免费重新排序它们。当您在没有应用程序级缓冲的情况下在读取和写入之间进行适当的同步时，您是安全的。

但是`FileInputStream`并`FileOutputStream`共享一个文件，这将事情留给操作系统，在主流操作系统中，您可以期望在写入后按顺序读取。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T08:08:43.460

不，您需要 flush() 流（至少对于 Buffered(Input|Output)Streams），否则您可能在缓冲区中有数据。

也许您需要一个[并发数据结构](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/package-summary.html)？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-07T21:19:36.660

如果 FileOutputStream 没有覆盖 flush()，那么我认为你可以确定 write() 写入的所有数据都可以被 read() 读取，除非你的操作系统对数据做了一些奇怪的事情（比如启动一个等待硬盘驱动器以正确的速度旋转而不是阻塞等），以便不会立即写入。

# java - 如何使用 apache commons net ftp 更改 ftp 服务器上文件的权限？

> ID：12741938
> 
> 赞同：1
> 
> 时间：2012-10-05T07:54:37.823
> 
> 标签：java, apache-commons-net

如果有来自服务器的 ftp 文件列表，我如何更改其中一个文件的权限？

如果有人能给我指点教程或给我看一个例子，我将不胜感激。我已经弄清楚如何更改文件中的权限，但不知道如何使更改在服务器上永久生效。

有什么建议么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T10:47:08.777

可以通过在文件或目录所在的目录中使用它来设置文件的权限：

```
ftpClient.sendSiteCommand("chmod " + "755" + " example.html"); 
```

注意：为什么没有人知道 FTPFile 中的 setPermission() 是如何工作的，这对我来说是个谜。因为这似乎是一种更好的方法，而不是使用命令行在 apache commons net 库中设置 ftpFile 的权限！

# java - 无法在 JBoss 7.1 中将 JAR 文件加载为资源

> ID：12741942
> 
> 赞同：0
> 
> 时间：2012-10-05T07:54:47.043
> 
> 标签：java, jakarta-ee, jboss, classloader, jboss7.x

我需要加载一个 JAR 文件作为资源，比如 X.JAR，它位于 EAR 的 LIB 目录中，其中对加载的调用源自 jar 文件中的一个类。

我知道这是一件非常奇怪的事情，但这就是旧代码的方式。

我试过这个：

```
getProtectionDomain().getCodeSource().getLocation(); 
```

和 getResource() 技巧，但它们都返回一个实际不存在的位置。我使用 JBoss 的管理控制台来部署 EAR 文件，我没有将它分解到部署文件夹中——不幸的是，这一步无法更改。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:58:57.637

一个解决方案可以将你的 jar 放在另一个 jar 中，然后它是类路径中的一个文件，你可以通过 getResource 方法加载它。

顺便说一句，您可以发布您尝试过的 getResource() 的完整行吗？

尝试使用 .getClass().getClassLoader().getResourceAsStream()

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T19:32:31.157

您应该将 jar 名称放在 MANIFEST.MF 中，例如

```
Class-Path:yourjar.jar        
Dependencies:com.blah.blah 
```

# c++ - 如何在 qlistWidget 中模拟双击项目

> ID：12741943
> 
> 赞同：4
> 
> 时间：2012-10-05T07:54:49.073
> 
> 标签：c++, qt, qlistwidget

如何在`QListWidget`没有子类的情况下模拟双击项目？当我向列表中添加新项目时，我希望该项目立即进入编辑模式。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T09:08:59.967

这不是`void QListWidget::editItem ( QListWidgetItem * item )`正确的方法吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-11T04:34:46.633

这是添加双击功能的方式

```
connect(ui->listWidget,SIGNAL(itemDoubleClicked(QListWidgetItem*)),this,SLOT(on_dbclick_play())); 
```

`on_dbclick_play()`双击时要调用的函数在哪里。

# groovy - 如何在 groovy 中使用 String.format？

> ID：12741945
> 
> 赞同：3
> 
> 时间：2012-10-05T07:55:04.537
> 
> 标签：groovy, string.format

下面的代码打印`response`以空格开头的变量。

变量前要打印的空格数`response`相当于 和 的`itemNumber`差`examineeResponses`。

现在，是否可以`"0"`使用 String.format 用零（）而不是空格填充字符串？

```
def converted = examineeResponses+String.format("%${itemNumber - 1}s", response) 
```

使用上述代码的示例：

```
examineeResponses = '1' // String
itemNumber = 10 //int
response = '3' // String 
```

输出：

```
"        3" 
```

期望的输出：

```
"000000003" 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-05T08:24:12.483

我相信你可以做到这一点，但有点难以理解你的问题：

```
int itemNumber = 10
String examineeResponses = '1'
char response = '3'

"$response".padLeft( itemNumber - examineeResponses.length(), '0' ) 
```

虽然我怀疑（你没有说）你只是希望它打印`itemNumbers`字符宽。如果是这种情况，您只需要：

```
"$response".padLeft( itemNumber, '0' ) 
```

而你根本不需要`examineeResponses`。

我在您的问题中遇到的问题之一是我不知道`examineeResponses.length()`应该做什么（除了抛出错误）。另一个是我不确定这是你想要做的;-)

您不能`String.format`在 Java 或 Groovy 中使用零填充字符串，您只能将数字填充零

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-03-16T13:09:52.387

尝试这样的事情：

```
def formattedString = "blahblah.com?param=${param}&hash=${hash}" 
```

# linux - 像在远程机器上一样运行远程 Linux 脚本

> ID：12741946
> 
> 赞同：0
> 
> 时间：2012-10-05T07:55:05.483
> 
> 标签：linux

我可以通过两种方式运行远程脚本。第一个（间接）#ssh 第二个（ssh 连接后）#ssh ##exit（返回主机终端）

我相信通道转发的类型存在一些差异。换句话说，当我使用第一种方式运行远程脚本时，脚本的输出应该不是主机 mashine 而是远程打印，就像第二种方式一样。

我有两台机器 uturksat1 和 uturksat2 在 uturksat2 中，我有一个 linux 脚本 (/tmp/runScript.sh) 和 Java 类 Provider。Linux 脚本运行 Provider Java 应用程序，该应用程序打开一个套接字然后监听它。

```
#!/bin/bash
echo "Provider"
$JAVA_HOME/bin/java -cp /tmp  Provider&
$JAVA_HOME/bin/java -version
rm  /tmp/pid
echo "$!"> /tmp/pid
echo "Provider-finish"
exit 0 
```

在 uturksat1 机器上，我输入以下命令

```
root@UTURKSAT1:/tmp# ssh  uturksat2 /tmp/runScript.sh
Provider
java version "1.6.0_29"
Java(TM) SE Runtime Environment (build 1.6.0_29-b11)
Java HotSpot(TM) Client VM (build 20.4-b02, mixed mode, sharing)
Provider-finish
Waiting for connection 
```

它不会自动返回命令提示符，我必须按 ctrl+c 才能返回

当我输入以下命令时：

```
root@UTURKSAT1:/tmp# ssh -t  uturksat2 /tmp/runScript.sh
Provider
Waiting for connection
java version "1.6.0_29"
Java(TM) SE Runtime Environment (build 1.6.0_29-b11)
Java HotSpot(TM) Client VM (build 20.4-b02, mixed mode, sharing)
Provider-finish
Connection to uturksat2 closed.
root@UTURKSAT1:/tmp# 
```

Provider 应用程序未运行，我可以通过 telnet 到 Provider 正在侦听的端口 2004 对其进行测试。

```
telnet  uturksat2 2004 
```

最后最后一个问题是Provider使用log4j来保存它的internall log，在远程linux脚本执行的第一种方式中，log4j lof文件没有被创建，但是第二种方式是创建的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T08:00:08.353

这两个命令之间的唯一区别：

```
ssh second
script
exit 
```

和

```
ssh second script 
```

是在第二种情况下，脚本将在没有终端的情况下启动。要在第二种情况下强制终端，您必须指定`-t`：

```
ssh -t second script 
```

**更新.1**

如果您想`script`在后台启动并离开`ssh`会话：

```
ssh second 'nohup script < /dev/null > nohup.out 2>&1 &' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-07T21:38:38.700

我用不同的解释打开了同样的问题。已经解决了。感谢您的建议，使我保持高动力。这是您已经知道的解决方案。 [在 linux 脚本中运行远程 java 服务器](https://stackoverflow.com/questions/12767905/run-remote-java-server-in-linux-script)

# vhdl - 转换函数“To_bit”必须只有一个形参

> ID：12741947
> 
> 赞同：2
> 
> 时间：2012-10-05T07:55:07.190
> 
> 标签：vhdl, modelsim, eda

我在 VHDL 测试用例上运行 modelsim 时遇到错误，我无法理解为什么这是一个错误。

测试用例：

```
LIBRARY IEEE;
Use ieee.std_logic_1164.all;

entity a is
port (in11 : in std_logic
);
end a; 
```

a的架构a是：

```
component b_1 
 port ( in1 : in bit);
end component;

begin
   inst : b_1 port  map ( in1=> **to_Bit**(in11));
end a; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T08:05:11.130

这是一个modelsim错误，实际上它应该报告您不允许在端口映射中实际使用此功能，这有效：

```
LIBRARY IEEE; Use ieee.std_logic_1164.all;

entity a is port (in11 : in std_logic ); end a;

architecture a of a is
signal inBit    : Bit;
component b_1 port ( in1 : in bit); end component;

begin 
inBit <= to_bit(in11);
inst : b_1 port map ( in1=> inBit); end a; 
```

有一些限制适用于端口映射中的实际值，参见 vhdlref：

> 实际的，如果是端口或信号，必须用静态名称表示（见 6.1）。实际的，如果是表达式，则必须是全局静态表达式（参见 7.4）。

问题是，这两种情况都应该是全局静态的......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-04-19T10:39:26.167

VHDL-93 允许在关联列表中进行类型转换和转换功能。转换函数是只有一个参数的函数的一种特殊情况。

让我们看一下 的声明`to_bit`：

```
function to_bit(s : std_ulogic; xmap : bit := '0') return bit; 
```

虽然`to_bit(s)`看起来像一个有效的转换函数，但它不是，因为声明包含两个参数。当为真时，第二个参数`xmap`用作结果。`is_x(s)`

这**不是**ModelSim 错误，但可能错误消息有点神秘。ModelSim 认为`to_bit`这是一个转换函数，但拒绝使用它，因为它有第二个参数，因此不是一个有效的转换函数。

一个简单的包装函数可以解决这个问题：

```
function to_bit(s : std_ulogic) return bit is
begin
        return to_bit(s, '0');
end; 
```

注意函数也可以有名字`to_bit`，因为VHDL支持函数重载。*在包std_logic_1164*中有这个会很好。

# c++ - 当模板参数为零时防止模板实例化

> ID：12741949
> 
> 赞同：4
> 
> 时间：2012-10-05T07:55:15.700
> 
> 标签：c++, templates, boost, c++03

我有一个模板类

```
template< std::size_t Size >
class Buffer
{
....
}; 
```

当 Size 参数为零时，我想阻止此模板的实例化。即为以下内容生成编译器警告。

```
Buffer< 0 > buf; 
```

但所有其他变体都可以。

```
Buffer< 10 > buf; 
```

我正在考虑使用 boost::enable_if_c 但我不明白如何让它工作。

--Update-- 不幸的是，我不能使用任何 c++11 功能

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-05T08:02:21.857

只需将模板专门化为无法实例化的状态：

```
template <>
class Buffer<0>; 
```

这样就无法构造类。使用将导致： `error: aggregate ‘Buffer<0> buf’ has incomplete type and cannot be defined`

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-10-05T08:04:50.910

使用`BOOST_STATIC_ASSERT`可能更容易：

```
#include <boost/static_assert.hpp>

template< std::size_t Size >
class Buffer
{
    BOOST_STATIC_ASSERT(Size != 0);
};

int main()
{
    Buffer<0> b; //Won't compile
    return 0;
} 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-10-05T08:17:06.133

如果您的编译器支持它，请尝试[`static_assert`](http://en.cppreference.com/w/cpp/language/static_assert)：

```
template< std::size_t Size >
class Buffer
{
    static_assert(Size != 0, "Size must be non-zero");

    // ...
}; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-05T07:59:00.537

```
#include <stddef.h>

typedef ptrdiff_t Size;

template< Size size >
class Buffer
{
    static_assert( size > 0, "" );
};

int main()
{
#ifdef  ZERO
    Buffer<0>   buf;
#else
    Buffer<1>   buf;
#endif
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-06T02:10:06.610

### `std::enable_if`

```
template <std::size_t N, typename = typename std::enable_if<!!N>::type>
class Matrix {}; 
```

### `static_assert`：

```
template <std::size_t N>
class Matrix
{
    static_assert(N, "Error: N is 0");
}; 
```

# python - 将会话数据传递给模板而不自定义视图

> ID：12741957
> 
> 赞同：0
> 
> 时间：2012-10-05T07:55:31.980
> 
> 标签：python, django, templates, registration

我正在使用`django-registration`. 现在，我正在尝试在`registration_complete`页面上创建一个 Paypal 表单。

我创建了一个会话变量，如下所示：

```
def user_created(sender, user, request, **kwargs):
        form = RegistrationFormEx(data=request.POST)
        new_user = User.objects.get(username=request.POST['username'])
        digest=hmac.new(str(request.POST['username'])+str(request.POST['password1']), str(request.POST['password1']),hashlib.sha1).hexdigest()
        new_profile = UserProfile(user=new_user,api_key=digest)
        new_profile.save()
        #now add other fields including password hash as well

        uid = new_profile.id
        #Add username to session to pass it via Paypal later
        request.session['username']=request.POST['username']
        merchant_profile = MerchantProfile(user_id=uid,
            create_time=datetime.datetime.now(),
            modified_time=datetime.datetime.now(),
            payment_card_id=uid,
            current_state=1,
            name=request.POST['name'],
             )
        merchant_profile.save()

        return new_user

    user_registered.connect(user_created) 
```

我的 Paypal 表单模板如下：

```
{% extends "base.html" %}
{% load i18n %}

{% block content %}
<p>
    {% trans "You are now registered. Activation email sent." %}

<form action="https://www.sandbox.paypal.com/cgi-bin/webscr" method="post">
    <input type="hidden" name="cmd" value="_xclick">
    <input type="hidden" name="business" value="sumit_1349250468_per@sample.com">
    <input type="hidden" name="item_name" value="registration charge {{ request.session.username }}">
    <input type="hidden" name="item_number" value="1">
    <input type="hidden" name="amount" value="9.00">
    <input type="hidden" name="no_shipping" value="0">
    <input type="hidden" name="no_note" value="1">
    <input type="hidden" name="currency_code" value="USD">
    <input type="hidden" name="lc" value="AU">
    <input type="hidden" name="bn" value="PP-BuyNowBF">
    <input type="image" src="https://www.paypal.com/en_AU/i/btn/btn_buynow_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online.">
    <img alt="" border="0" src="https://www.paypal.com/en_AU/i/scr/pixel.gif" width="1" height="1">
    <input type="hidden" name="return" value="http://url/payment_result?response=success">
    <input type="hidden" name="cancel_return" value="http://url/sorry">

</form>

</p>
{% endblock %} 
```

在不更改任何视图的情况下，如何打印`request.session.username`此模板中的值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T08:07:45.410

在 settings.py 中，`TEMPLATE_CONTEXT_PROCESSORS`应该包括[`django.core.context_processors.request`](https://docs.djangoproject.com/en/dev/ref/templates/api/#django-core-context-processors-request)- 这使`request`变量可用于您的模板。

虽然，警告一句：当用户激活他的电子邮件并在返回后登录时，会话变量可能已经改变。

# actionscript-3 - 纯 AS3 预加载器是否必须扩展 MovieClip？

> ID：12741961
> 
> 赞同：0
> 
> 时间：2012-10-05T07:55:45.857
> 
> 标签：actionscript-3, flashdevelop, preloader

actionscript 预加载器是否必须扩展 MovieClip？

```
...
public class Preloader extends MovieClip 
{

    public function Preloader() 
    {
        if (stage) {
            stage.scaleMode = StageScaleMode.NO_SCALE;
            stage.align = StageAlign.TOP_LEFT;
        }
        addEventListener(Event.ENTER_FRAME, checkFrame);
        loaderInfo.addEventListener(ProgressEvent.PROGRESS, progress);
        loaderInfo.addEventListener(IOErrorEvent.IO_ERROR, ioError);

        // TODO show loader
    }
... 
```

或者它也可以扩展Sprite？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T08:00:51.223

只有在实际加载单独的 SWF 时，预加载器才能扩展 Sprite。如果您使用内置预加载器制作 SWF，则需要两个帧，因为 Flash 播放器按顺序加载帧，因此这是加载和显示 SWF 的一部分的唯一方法，这是预加载器工作所必需的。对于那些你需要MovieClip 的帧，Sprites 没有帧。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T08:11:27.000

在维斯珀的回答之后。我做了一些摆弄

```
private function checkFrame(e:Event):void 
    {
        if (currentFrame == totalFrames) 
        {
            stop();
            loadingFinished();
        }
    } 
```

Sprite 无法访问 currentFrame、totalFrames 甚至是 stop 方法。但是，MovieClip 可以。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T19:14:11.197

是的，您可以扩展`Sprite`.

`TimerEvent`您将使用 a和 a代替帧事件`Timer`。如果您出于某种原因想要避免所有基于帧或时间的引用，您可以收听`ProgressEvent`. 您将在任一事件的处理程序中创建/加载和操作“预加载器”图形。

这比通常需要的要困难，而且很多重复的`MovieClip`功能，所以你可能需要一个很好的理由来走这条路。

# c++ - 如何在 C++ 中将文本文件解析为结构的不同元素？

> ID：12741962
> 
> 赞同：0
> 
> 时间：2012-10-05T07:55:45.530
> 
> 标签：c++, parsing, text, struct

我知道在这里提出了很多类似的解析问题，但是在搜索了一段时间后，我找不到对我有帮助的答案，所以希望我不会问以前已经回答过一百万次的问题。

我有一个如下所示的文本文件：

```
1 14 100
3 34 200
2 78 120 
```

第一个数字是身份证号，第二个是年龄，第三个数字是体重。（这些是任意描述）我也有一个看起来像这样的结构：

```
struct myData{
    int ID;
    int age;
    int weight;
}; 
```

在创建了一个 myData 结构数组之后，我如何遍历文本，以便最终将文本文件每一行的每个元素都放在数组的一个索引中？例如，在用文本文件的元素填充数组后，我应该可以说

```
cout << myData[0].ID << ", " << myData[0].age << ", " << myData[0].weight << "\n"; 
```

如果上面代码行中的索引为 2，它应该打印出“1, 14, 100”，并且应该打印出“3, 78, 120”。我尝试过使用 getLine() 或 get() 之类的东西寻找其他人的示例，但我似乎无法掌握它。我希望我包含了有关我的问题的足够信息，以便该站点上的向导可以轻松回答。提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T08:32:19.140

像这样的东西怎么样：

```
struct myData
{
    int ID;
    int age;
    int weight;

    // Add constructor, so we can create instances with the data
    myData(int i, int a, int w)
        : ID(i), age(a), weight(w)
        {}
};

std::vector<myData> input;
std::ifstream file("input.txt");

// Read input from file
int id, age, weight;
while (file >> id >> age >> weight)
{
    // Add a new instance in our vector
    input.emplace_back(id, age, weight);

    // Skip over the newline, so next input happens on next line
    std::ignore(std::numeric_limits<std::streamsize>::max(), '\n');
}

// Close the file after use
file.close();

// Print all loaded data
for (auto data : input)
{
    cout << "ID: " << data.ID << ", age: " << data.age << ", weight: " << data.weight << '\n';
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T08:29:07.090

您可以使用包含文件： `#include <fstream>` 并简单地做类似的事情

```
 std::ifstream infile("file.txt");
    int a, b, c;
    while (infile >> a >> b >> c)
    {
        // process (a,b,c)
    } 
```

不要忘记关闭流。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T08:30:22.270

打开文件并通过它读取所有行：

```
//Opening File
FILE *trace;
trace=fopen("//path//to//yourfile","r");

// Read the file
myData list[N];
int count=0;
while(!feof(trace)){
    fscanf(trace,"%d %d %d\n", &myData[count].ID, &myData[count].age, &myData[count].weight);
    count++;
}

// now you have an array of size N go through it and print all
for(int i=0; i<count; i++)
    printf("%d %d %d\n", myData[i].ID, myData[i].age, myData[i].weight); 
```

# php - mysql表中的最大数据

> ID：12741963
> 
> 赞同：0
> 
> 时间：2012-10-05T07:55:47.033
> 
> 标签：php, mysql, database

从这个问题继续：[mysql数据库中的论坛数据](https://stackoverflow.com/questions/12738292/forum-data-in-mysql-database)

在不显着减慢表格速度的情况下，我可以在表格中拥有的最大条目数是多少？因为查询超过 1000-10000 个条目会不会太费力了？有没有解决的办法？或者可以放入inint数量的条目吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:59:39.967

这取决于相关数据，但表中的 10,000 行是*微不足道*的。高效查询的关键是适当的索引。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T08:01:40.270

最终还是要看运行数据库的机器的性能，不过一般10000条记录肯定没问题。即使是相对较小的企业数据库通常也有数百万条记录。大量记录时，选择速度会变慢；这可以通过适当的索引大大减轻。然而，索引会稍微减慢写操作。有整本关于数据库优化的书籍。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T08:01:18.227

数据库旨在处理大量数据。对于一个体面的数据库，10.000 个条目将是*花生*。

数据库的设计也考虑到了可扩展性。如果数据库由于某种原因变得更慢，优化数据库（例如使用索引）和扩展硬件将始终导致性能提升。

# c# - 如何在 C# 中搜索字符串并替换以模式为界的区域？

> ID：12741975
> 
> 赞同：2
> 
> 时间：2012-10-05T07:57:01.237
> 
> 标签：c#

我们现在尝试了一些尝试使用 XML 解析器的解决方案。全部失败，因为字符串并不总是 100% 有效的 XML。这是我们的问题。

我们的字符串如下所示：

```
var a = "this is a testxxx of my data yxxx and of these xxx parts yxxx";
var b = "hello testxxx world yxxx ";

"this is a testxxx3yxxx and of these xxx1yxxx";
"hello testxxx1yxxx "; 
```

这里的关键是我们要对 xxx 和 yxxx 之间的数据做一些事情。在上面的示例中，我需要一个计算字数并用字数替换字符串的函数。

有没有一种方法可以处理字符串 a 并应用函数来更改 xxx 和 yxxx 之间的数据？现在任何函数，因为我们只是想了解如何编写代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T08:07:05.800

如果它总是去 xxx 和 yxxx，你可以按照建议使用正则表达式。

```
var stringBuilder = new StringBuilder();
Regex regex = new Regex("xxx(.*?)yxxx");
var splitGroups = Regex.Match(a);

foreach(var group in splitGroups)
{
    var value  = splitGroupsCopy[i];

    // do something to value and then append it to string builder

   stringBuilder.Append(string.Format("{0}{1}{2}", "xxx", value, "yxxx")); 

} 
```

我想这是最基本的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-05T08:24:27.137

您可以使用`Split`方法：

```
 var parts = a.Split(new[] {"xxx", "yxxx"}, StringSplitOptions.None)
            .Select((s, index) =>
                {
                    string s1 = index%2 == 1 ? string.Format("{0}{2}{1}", "xxx", "yxxx", s + "1") : s;
                    return s1;
                });

  var result = string.Join("", parts); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T08:05:16.013

该`indexOf()`函数将向您返回给定子字符串第一次出现的索引。

（我的索引可能有点偏离，但是）我建议做这样的事情：

```
var searchme = "this is a testxxx of my data yxxx and there are many of these xxx parts yxxx";

var startindex= searchme.indexOf("xxx");
var endindex = searchme.indexOf("yxxx") + 3; //added 3 to find the index of the last 'x' instead of the index of the 'y' character

var stringpiece = searchme.substring(startindex, endindex - startindex); 
```

你可以重复一遍`startindex != -1`

就像我说的那样，索引可能会稍微偏离，您可能需要在某处添加 +1 或 -1，但这会让您相处得很好（我认为）。

* * *

这是一个计算字符而不是单词的小示例程序。但是您应该只需要更改处理器功能。

```
var a = "this is a testxxx of my data yxxx and there are many of these xxx parts yxxx";
a = ProcessString(a, CountChars);

string CountChars(string a)
{
    return a.Length.ToString();
}

string ProcessString(string a, Func<string, string> processor)
{
    int idx_start, idx_end = -4;
    while ((idx_start = a.IndexOf("xxx", idx_end + 4)) >= 0)
    {
        idx_end = a.IndexOf("yxxx", idx_start + 3);
        if (idx_end < 0)
            break;

        var string_in_between = a.Substring(idx_start + 3, idx_end - idx_start - 3);
        var newString = processor(string_in_between);

        a = a.Substring(0, idx_start + 3) + newString + a.Substring(idx_end, a.Length - idx_end);

        idx_end -= string_in_between.Length - newString.Length;
    }
    return a;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-05T08:12:11.933

使用 Regex.Replace 将用您选择的文本替换所有匹配项，如下所示：

```
Regex rgx = new Regex("xxx.+yxxx");
string cleaned = rgx.Replace(a, "replacementtext"); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-05T08:19:26.790

此代码将处理由“xxx”分隔的每个部分。它保留了“xxx”分隔符。如果您不想保留“xxx”分隔符，请删除显示“result.Append(separator);”的两行。

鉴于：

```
"this is a testxxx of my data yxxx and there are many of these xxx parts yxxx" 
```

它打印：

```
"this is a testxxx>> of my data y<<xxx and there are many of these xxx>> parts y<<xxx" 
```

我假设这就是你想要的那种东西。将您自己的处理添加到“processPart()”。

```
using System;
using System.Text;

namespace ConsoleApplication1
{
    internal class Program
    {
        private static void Main(string[] args)
        {
            string text = "this is a testxxx of my data yxxx and there are many of these xxx parts yxxx";
            string separator = "xxx";
            var result = new StringBuilder();

            int index = 0;

            while (true)
            {
                int start = text.IndexOf(separator, index);

                if (start < 0)
                {
                    result.Append(text.Substring(index));
                    break;
                }

                result.Append(text.Substring(index, start - index));

                int end = text.IndexOf(separator, start + separator.Length);

                if (end < 0)
                {
                    throw new InvalidOperationException("Unbalanced separators.");
                }

                start += separator.Length;

                result.Append(separator);
                result.Append(processPart(text.Substring(start, end-start)));
                result.Append(separator);

                index = end + separator.Length;
            }

            Console.WriteLine(result);
        }

        private static string processPart(string part)
        {
            return ">>" + part + "<<";
        }
    }
} 
```

[编辑] 这是修改为使用两种不同分隔符的代码：

```
using System;
using System.Text;

namespace ConsoleApplication1
{
    internal class Program
    {
        private static void Main(string[] args)
        {
            string text = "this is a test<pre> of my data y</pre> and there are many of these <pre> parts y</pre>";
            string separator1 = "<pre>";
            string separator2 = "</pre>";
            var result = new StringBuilder();

            int index = 0;

            while (true)
            {
                int start = text.IndexOf(separator1, index);

                if (start < 0)
                {
                    result.Append(text.Substring(index));
                    break;
                }

                result.Append(text.Substring(index, start - index));

                int end = text.IndexOf(separator2, start + separator1.Length);

                if (end < 0)
                {
                    throw new InvalidOperationException("Unbalanced separators.");
                }

                start += separator1.Length;

                result.Append(separator1);
                result.Append(processPart(text.Substring(start, end-start)));
                result.Append(separator2);

                index = end + separator2.Length;
            }

            Console.WriteLine(result);
        }

        private static string processPart(string part)
        {
            return "|" + part + "|";
        }
    }
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-05T08:30:15.510

我会使用[正则表达式](http://msdn.microsoft.com/de-de/library/system.text.regularexpressions.regex%28v=vs.80%29.aspx)组：

这是我获取字符串中部分的解决方案：

```
private static IEnumerable<string> GetParts( string searchFor, string begin, string end ) {
    string exp = string.Format("({0}(?<searchedPart>.+?){1})+", begin, end);
    Regex regex = new Regex(exp);
    MatchCollection matchCollection = regex.Matches(searchFor);
    foreach (Match match in matchCollection) {
        Group @group = match.Groups["searchedPart"];
        yield return @group.ToString();
    }
} 
```

您可以像获取零件一样使用它：

```
string a = "this is a testxxx of my data yxxx and there are many of these xxx parts yxxx";

IEnumerable<string> parts = GetParts(a, "xxx", "yxxx"); 
```

要替换原始字符串中的部分，您可以使用 Regex Group 来确定 Length 和 StartPosition（@group.Index、@group.Length）。

# vim - 阻止 Vim 更新它的撤销树

> ID：12741977
> 
> 赞同：9
> 
> 时间：2012-10-05T07:57:07.923
> 
> 标签：vim, undo

我有一个 Vimscript 函数，它被调用`BufWritePre`来检查文件的完整性。通常这涉及修剪空白并检查折叠结构是否“有效”（根据我公司的约定）。

我的问题是，如果我编辑一个文件然后保存它，撤消树包含检查功能所做的编辑。有没有一种简单的方法可以说我不想要一个函数来修改撤消树？或者我可以在函数开始时保存它的状态并在结束时恢复它？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T09:02:57.060

使用`:undojoin`，您可以将您的更改与用户所做的最后更改结合起来（尽管我会发现这比将它们分开更令人困惑）。一般来说，撤消是一系列步骤；您不能简单地省略中间的步骤，这既不直观，也难以在撤消引擎中实现。

无论如何，在撤消历史记录中包含自动重新格式化有什么不好？据我了解，当用户撤消最后一次编辑时，它将在下一次保存时重新应用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-05T08:13:51.743

如果您的`BufWritePre`操作正在执行最终使文件保持不变的操作，您可以：

```
:wundo <tmpfile> 
```

...之后进行更改，使文件保持不变...

```
:rundo <tmpfile> 
```

这将为您留下临时更改之前的撤消历史记录，但是如果文件与之前的状态不匹配，您将收到错误消息`File contents changed, cannot use undo info`。

如果您希望在`BufWritePre`无法撤消期间完成更改，您可以：

```
:set noundofile 
```

.. 执行更改...

```
:set undofile 
```

但是，这将丢失之前的所有历史记录`BufWritePre`

# mercurial - 如何配置 tortoisehg 以使用多个 repos？

> ID：12741981
> 
> 赞同：0
> 
> 时间：2012-10-05T07:57:42.333
> 
> 标签：mercurial, repository, tortoisehg

我一直在使用 tortoisehg 与使用 ssh 的 repo 一起工作，一切都井井有条。但现在我正在尝试`clone`另一个只使用的 repo `https`，并且欢迎我收到以下错误消息：

```
URLError: [Errno 10061] No connection could be made because the target machine actively refused it
[command returned code 255\. . .] 
```

我试图本地化我当前 repo 的设置，即将它们从`global settings`, to中删除`...\.hg\hgrc`，但是当我尝试克隆时我仍然得到同样的错误。

对此有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-07-10T00:26:27.393

响应有点晚，但可能是代理错误...

请参阅： [如何在代理后面克隆 codeplex mercurial 存储库？](https://stackoverflow.com/questions/11449133/how-to-clone-a-codeplex-mercurial-repository-behind-a-proxy)

而是使用

```
[https_proxy]
host = proxy name /  ip:port
user = xxxxxxx
passwd = xxxxxxx 
```

# c# - 如何在 C# 中通过加法运算加入数组？

> ID：12741986
> 
> 赞同：0
> 
> 时间：2012-10-05T07:58:00.007
> 
> 标签：c#, arrays

我有两个数组定义，我想逐个元素地进行加法运算而不进行循环操作？例如：

```
decimal[] xx = { 1, 2, 3 };
decimal[] yy = { 6, 7, 8 }; 
```

我想要的结果是：

```
decimal[] zz = { 7, 9, 11 }; 
```

加法操作很简单。只需为每个元素一一添加，例如

```
decimal[] zz = decimal[xx.Length];
for (int i=0; i<xx.Length;i++){
   zz[i] =xx[i] + yy[i];
} 
```

但我不想使用循环操作。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-05T08:01:45.920

您可以使用[`Enumerable.Zip`](http://msdn.microsoft.com/en-us/library/dd267698.aspx)：

```
decimal[] zz = xx.Zip(yy, (x, y) => x + y).ToArray(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-05T08:02:46.797

```
 var zz = xx.Select((x, i) => x + yy[i]).ToArray(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-05T08:01:57.807

您可以使用 LINQ：

```
var zz = Enumerable
             .Range(0, (int)Math.Min(xx.Length, yy.Length))
             .Select(i => xx[i] + yy[i])
             .ToArray(); 
```

但这实际上只是在幕后移动循环。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-05T08:06:16.420

如果不以某种方式循环，您将无法做到这一点。

您的数组创建和循环应该是：

```
decimal[] zz = new decimal[xx.Length];
for (int i = 0; i < xx.Length; i++){
   zz[i] = xx[i] + yy[i];
} 
```

或者更紧凑但可读性稍差的版本：

```
decimal[] zz = new decimal[xx.Length];
for (int i = 0; i < xx.Length; zz[i++] = xx[i] + yy[i]); 
```

您还可以使用 Linq 扩展来执行循环：

```
decimal[] zz = xx.Select((x, i) => x + yy[i]).ToArray(); 
```

或者：

```
decimal[] zz = Enumerable.Range(0, xx.Length).Select(i => xx[i]+yy[i]).ToArray(); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-05T08:04:46.227

旁边使用[Enumerable.Range](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.range.aspx)的另一种方法`Zip`：

```
var result = Enumerable.Range(0, xx.Length)
                       .Select(i => xx[i] + yy[i])
                       .ToArray(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-05T08:02:04.983

如果它们是全局范围的数组，您可以使用递归

```
public void add(int index){

  zz[index] = xx[index] + yy[index];

  if(index < xx.Length){
     add(index+1);

   }

} 
```

是伪代码，未经测试，但代表一般想法。让我知道你的想法。

# mysql - 如何在 ADO.NET DataAdapter.InsertCommand 上检索行 ID

> ID：12741989
> 
> 赞同：0
> 
> 时间：2012-10-05T07:58:22.817
> 
> 标签：mysql, ado.net, identity, dataadapter, out-parameters

我将 ADO.NET 与 MySQL 一起使用。

要插入数据，我使用 DataAdapter (MySqlDataAdapter) ：

```
MySqlCommand insertCommand = new MySqlCommand(@"INSERT INTO Investments (InvestmentType)
                                                            VALUES (@InvestmentType); SET @ID=@@IDENTITY;"
                                                         , (MySqlConnection)Connection);
insertCommand.Parameters.Add("@InvestmentType", MySqlDbType.VarChar, 255, "InvestmentType");
DbParameter parameter = insertCommand.Parameters.Add("@ID", MySqlDbType.UInt32, 0, "ID");
parameter.Direction = ParameterDirection.Output;
((MySqlDataAdapter)InvestmentsAdapter).InsertCommand = insertCommand;
((MySqlDataAdapter)EmptyInvestmentsAdapter).InsertCommand = insertCommand; 
```

我希望它填充行“ID”列，因为@ID 参数应该是一个 OUT 参数，但它会引发一个异常，MySQL 有问题，因为它评估为“SET NULL=@@IDENTITY;”。

有任何想法吗 ？

这是来自 Tim Cook 的“Microsoft ADO.NET 4”的灵感，它似乎在使用 SQL Server 而我使用 MySQL。我找不到有关 MySQL 适配器输出参数的任何文档。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-01T21:43:11.447

这篇文章对我来说非常有用：

[MSDN 教程](http://msdn.microsoft.com/en-us/library/aa581778.aspx#aspnet_tutorial01_dataaccesslayer_vb_topic5)

问候，

彼得

# android - Viewpager 片段无法正常运行

> ID：12741992
> 
> 赞同：0
> 
> 时间：2012-10-05T07:58:56.237
> 
> 标签：android, android-fragments, viewpagerindicator

我现在正在尝试使用片段实现 viewpager。一切都很酷，除了我收到错误**ViewPager has not be bound。异常详细信息记录**在 xml 图形布局中的 Window > Show View > Error Log 中。

这是我的应用程序的屏幕截图。 ![浏览器](../Images/f93bb568674c0a3166a342989e987de9.png)

有谁知道为什么标题下方没有显示指示线？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T08:22:51.827

我通过引用这个项目来完成这个项目：[https](https://github.com/JakeWharton/Android-ViewPagerIndicator) ://github.com/JakeWharton/Android-ViewPagerIndicator 。浏览那个示例项目。它真的会帮助你解决你的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-29T18:21:37.990

作为记录，希望它可以节省一些时间：

*   指标需要绑定到 ViewPager，比如`indicator.setViewPager(viewpager)`

*   如果没有主题，ViewPagerIndicator 将无法工作。如果您不想使用默认样式，请仅按照[此处所述设置 ViewPagerIndicator 样式](https://stackoverflow.com/questions/11873396/default-style-fails-for-viewpagerindicators-tabpageindicator-why-and-how-to-fi#12074605)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T03:30:18.193

问题已由我自己解决。我只需要在项目清单文件中添加主题样式 android:theme="@style/Theme.PageIndicatorDefaults" 。